/**
 * Copyright (c) 2008,2009,2010,2011,2012 AimToG. All rights reserved.
 * Code licensed under the AimToG License
 * Version 2.1.5
 *
 * @author jacojang<jacojang@aimtog.co.kr>
 * @author hkkang<hkkang@aimtog.co.kr>
 */
var NetFunnel = new Object();NetFunnel.Skin = new Object();

//EditZoneStart ----------------------------------------------------------------
NetFunnel.TS_HOST			= "funnel.11st.co.kr";		// Default TS host
NetFunnel.TS_PROTO			= window.location.protocol.replace(':', '') ;				// Default TS protocol [http|https]
NetFunnel.TS_PORT			= (NetFunnel.TS_PROTO == 'https' ?  443 : 80) ;					// Default TS port
NetFunnel.TS_QUERY			= "ts.wseq";			// Default request query
NetFunnel.TS_SERVICE_ID		= "service_1";				// Default TS Service id
NetFunnel.TS_ACTION_ID		= "act_1";				// Default TS Action id
NetFunnel.TS_MAX_TTL		= 30;					// Default max ttl (second) 5~30
NetFunnel.TS_CONN_TIMEOUT	= 3;					// Default connect timeout (second)
NetFunnel.TS_CONN_RETRY		= 1;					// Default connect retry count
NetFunnel.TS_COOKIE_ID		= "nfnl";				// Default Cookie ID
NetFunnel.TS_COOKIE_TIME	= 10;					// Default Cookie Time (minute)
NetFunnel.TS_COOKIE_DOMAIN	= ".11st.co.kr";		// Default Cookie Domain
NetFunnel.TS_BYPASS			= false;				// NetFunnel Routine Bypass [true|false]
NetFunnel.TS_POPUP_TOP		= false;				// Popup Top Position ( "false" is center )
NetFunnel.TS_POPUP_LEFT		= false;				// Popup Left Position ( "false" is center )
NetFunnel.TS_AUTO_COMPLETE	= true;					// Auto setComplete [true|false]
NetFunnel.TS_DEBUG_MODE		= false;				// Debug Mode
NetFunnel.TS_SHOWTIME_LIMIT	= 300;					// Show WaitTime Limit
NetFunnel.TS_SHOWCNT_LIMIT	= 2000;					// Show WaitUser Limit
NetFunnel.TS_SHOWNEXT_LIMIT = 2000;					// Show NextWaitUser Limit
NetFunnel.TS_IFRAME_RESIZE	= false;				// true | false
NetFunnel.TS_USE_UNFOCUS	= true;					// object unfocus after netfunnel call
NetFunnel.TS_VIRT_WAIT		= 10000;				// virtual wait time (millisecond)
NetFunnel.TS_USE_MOBILE_UI	= false;				// Mobile UI
NetFunnel.TS_POPUP_TARGET	= window;				// Popup target window
NetFunnel.TS_USE_FRAME_BLOCK= false;				// Block FrameSet Page
NetFunnel.TS_FRAME_BLOCK_LIST = [];					// Frame Block Window List
NetFunnel.TS_USE_PRE_WAIT	= false;				// Pre waiting popup use
NetFunnel.TS_USER_DATA_KEYS	= [];					// Input UserData Key & Type(c=cookie,v=variable)
													// ex) [ {"key":<user_data_key>, "type":<c|v>}, ... ]
NetFunnel.TS_CONFIG_USE		= true;				// 무조건 Config에 있는 IP 와 PORT로 사용


//일정 기간 동안 대기인원 변함 없을시 Bypass 처리
NetFunnel.TS_NWAIT_BYPASS		= true;				// 사용 유무
NetFunnel.TS_MAX_NWAIT_COUNT	= 20;				// 대기인원 반복 체크 기준값

//Server Block
NetFunnel.TS_BLOCK_MSG			= "이용해 주셔서 감사합니다.";		// Server Block시 팝업에 표시할 문구
NetFunnel.TS_BLOCK_URL			= "";						// Server Block시 등록된 url로 이동(미등록시 경고창 후 서비스 진입 불가)
NetFunnel.TS_IPBLOCK_MSG			= "이용해 주셔서 감사합니다.";		// Server IP Block시 팝업에 표시할 문구
NetFunnel.TS_IPBLOCK_URL			= "";						// Server IP Block시 등록된 url로 이동(미등록시 경고창 후 서비스 진입 불가)
NetFunnel.TS_IPBLOCK_WAIT_COUNT	= 20;						// Server IP Block 가상대기창 반복 횟수
NetFunnel.TS_IPBLOCK_WAIT_TIME	= 10000;					// Server IP Block 가상대기시간

//대기창 미리보기
NetFunnel.TS_SHOW_WAIT_POPUP		= false;					//대기창 보기

//event skin 지정
NetFunnel.TS_SKIN_ID				= "order";					// Skin ID (미지정시 default 대기창)

// Variable for MProtect
NetFunnel.MP_USE			= false;						// 매크로방지기능 사용유무 (true|false)
NetFunnel.MP_TIMELIMIT		= 20000;						// 사용자의 요청을 체크하기 위한 단위 시간 (ms)
NetFunnel.MP_MAXREQLIMIT	= NetFunnel.MP_TIMELIMIT/1100;	// TIMELIMIT 시간 내에 getTidChkEnter를 요청가능한 최대값
NetFunnel.MP_DEVLIMIT		= 20;							// 요청주기의 표준편차 제한값 (ms)
NetFunnel.MP_DEVCNTLIMIT	= 7;							// 표준편차 계산을 위한 item숫자
NetFunnel.MP_REQONLYLIMIT	= 10;							// setComplete 없이 getTidChkEnter만 요청한 횟수 제한값(횟수)
NetFunnel.MP_MINCOUNT		= 5;							// 계산을 하지 않는 자료개수

//Logo Image Data -------------------------------------------------------------
//- height:16 pixel
//- GIF Format Data (Base64 Encoding)
NetFunnel.gLogoData         = "R0lGODlhJgAQAOe/AB5vlR5ykh9zkyNymCF0lC1xkiN1lSR2liZ3lyd4mDN1lyh5mSp6mjN4lCt7my18nDh5myt+mC59nTd7ly9+njF/nzp+mjKAoDt/mzOBoT+CnkCDn0KFoUOGokSHo0iLpk+SrlSWsl2ZsF6asWeYsWCbsmGcs2OetWSftla4Q1e5RFi6RVm7Rl+6TWK6RnaowXuou3WqvHipwmG8TmS9SGK9T2W+SWq8T2O+UH6rvmS/UX+sv2y+UWXAUoCtwIKuwYOvw4SwxIWxxW/DXYayxnfCXYezx3XDZXbEZom1yY21w4q2you4y3rIaXvJao67zoLKcpq6yonJcpe/zZu/1IrNfY3Nd6C/z5zA1ZrC0KHA0I7QgJ/D2KPD04/SgZbQgZDTgqPH0KbG1pbUiqvH0azM3LDM16PZkaLamLPP2q7Zn7bS3KncobfT3bHcorrW4LnfrbPirrrgrsTY5Lvhr7jkqsba5rzjsLrkt73kscjc6Mvc4rzluMzd49Dg59Hh6MfpvtLi6dPk6s3qxtfk5dTl687rx9Xm7Nbn7dPrz9Ts0Nfo79Xt0dnp8N3q69fv097r7OHq8uXq7d/s7eDt7uDw1ePs9Obs7uTt9eft79/y3uLw8Onu8ODz3+vw8+H14Ozx9O3y9er14u306e7z9uj26u/26+/19+n46/D37PD2+PL3+fL57vP4+/T67/T5/Pf59vX6/fj69/L89/X88Pn7+Pr8+ff9//v9+v78///9+//9//n///z/+/7//P///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEKAP8ALAAAAAAmABAAAAj+AH2hSuXLl61SsHzp8pVLIcOHBSNKnDgxFY8VnXwlckHH1y2PBiuJakixZElUOlrocGWoBRxfuBS58vWpxRZbJnNKRKXSpqIWdB6x0JFCUZMWKhjpXMrTypkUTlzgWXHkjgsko3R4wbk0J08ovoq0aMEmxZAvW6rM0jGmq05TOqT4MpWiBR8oLfL0UOPqxphbC91SnFUHUMFHcTTJcgMGjShccgYtDUyxYSguWq5EWdXFjq9WWNp4mlJG4ZwrqvRcQVRQTBZfUbRkyULqDZWEug5RcLAAACUIQHxBIkAiUIIFYXz9cHApyQQJBT1Q8CVAwgIGiGAgIJXrlu4RBgXsUQjiKxKBEn8WOMCgCgiDS0okMBDhSzp1AxFjbGd4SH4BDpFQENwkBIzwBwIgSLCBD+8lIcEHC6TxwXQBSCCAAZ68gMApBenmQRBPIEIBDL40ct6BP5AhQQUMSLKEBH5wsGIFvgzQgBFCvCLDhgyJWEJBjkigQRonJADDHwns4EsIDDBASRIR9AGKBBNMJ4ACa5jRSgwM/EAEJIhcYEJEKEhgpgaq9OHADwVxQAEmTFDQhy9lLJCBLwdYQIEFjeRAwZ973LIJKBI5QkghqtwSSyYc+kIKJ7eowkktH2XCiS+WcKKpLadomkksAQEAOw==";
NetFunnel.gLogoText			= "";
NetFunnel.gLogoURL 			= "http://www.netfunnel.co.kr/net/html/netfunnel_info.html";

NetFunnel.gPreWaitData		= "R0lGODlhKAAoALMMAPj4+MTExPT09NTU1NPT08XFxcbGxsLCwtXV1cPDw/X19b+/v////wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBQAMACwAAAAAKAAoAAAEgJDJSau9OOvNu/9gKI5kaZ5oqq5sCwKIYSAABcv0qQRLvwQCyc73C5YGxB5BgkwuS4nk4iCJJqlQKdZKxJII0ifYaRLwfECJmZg2AQaFwqA2ecfnrry+dJvR80NoRi5NRE8uXD5eLYk9iyxjhnprgnt2cn97mpucnZ6foKGio3oRACH5BAkFAAwALAAAAAAoACgAAASAkMlJq7046827/2AojmRpnmiqrmwLAohhIAAFy/SpBEu/BALJzvcLlgbEHkGCTC5LieTiIIkmqVAp1krEkgjSJ9hpEvB8QImZmDYBBoXCoDZ5x+euvP4Vm9HzQ2hGLk1ETy5cPl4tiT2LLGOGemuCe3Zyf3uam5ydnp+goaKjnREAIfkECQUADAAsAAAAACgAKAAABICQyUmrvTjrzbv/YCiOZGmeaKqubAsCiGEgAAXL9KkES78EAsnO9wuWBsQeQYJMLkuJ5OIgiSapUCnWSsSSCNIn2GkS8HxAiZmYNgEGhcKgNnnH5668fnOb0fNDaEYuTURPLlw+Xi2JPYssY4Z6a4J7dnJ/e5qbnJ2en6ChoqOiEQAh+QQJBQAMACwAAAAAKAAoAAAEgJDJSau9OOvNu/9gKI5kaZ5oqq5sCwKIYSCAOynBoi+BYDOD3Y7wSwh1h+JxkbQRlkQJTEY7CXK7ngQn1JoAg0JhUJMEj1GX8dhUL9uk6azMeKJN3KyPce3uSWdCaWBiZCdrQnAsiDuKK3aCP316PwyEY3SVmpucnZ6foKGio6IRACH5BAkFAAwALAAAAAAoACgAAAR9kMlJq7046827/2AojmRpnmiqrmwLAohhIIA7KcGiL4FgM4PdjvBLCHWH4nGRtBGWRJsgt+v9GIBBoTCoXb/gDUxGo4xn3hJOaGWsq75S8BidC6Mk47GpFzbzS3yBJk90EoV3JlNscYtwJ1lbXWZaXGlhmJmam5ydnp+goBEAIfkECQUADAAsAAAAACgAKAAABH2QyUmrvTjrzbv/YCiOZGmeaKqubFsCiGEggDspwaIvgWAzg92O8EsIdYficZG0EZZEmyC36/0YgEGhMKhdv2ALTEajjGfeEk5oZayrvlLwGJ0LoyTjsakXNvNLfIEmT3QShXcmU2xxi3AnWVtdZlpcaWGYmZqbnJ2en6CgEQAh+QQJBQAMACwAAAAAKAAoAAAEfZDJSau9OOvNu/9gKI5kaZ5oqq5sqwKIYSCAOynBoi+BYDOD3Y7wSwh1h+JxkbQRlkSbILfr/RiAQaEwqF2/YGxs5pXAZLQTTmhlrKu+UvAYnQujJOOxqRc280t8gSZPdBKFdyZTbHGLcCdZW10UkVxlYZiZmpucnZ6foKARACH5BAUFAAwALAAAAAAoACgAAASBkMlJq7046827/2AojmRpnmiqrmyrAohhIIA7KcGiL4FgM4PdjvBLCHWH4nGRNMFktAlhSSzhhD2JILfLloLHKgMwKBQGNZPx2HSthe3WNDx5ztKlLdbHuHb5JWRmaBNgQmItbztxLIpIP3OHP3p/P2NlZ3iWm5ydnp+goaKjpD8RADs=";

NetFunnel.gFixelData		= "R0lGODlhAQABAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==";
//EditZoneEnd ------------------------------------------------------------------
NetFunnel.RTYPE_NONE=0;NetFunnel.RTYPE_CHK_ENTER=5002;NetFunnel.RTYPE_ALIVE_NOTICE=5003;NetFunnel.RTYPE_SET_COMPLETE=5004;NetFunnel.RTYPE_GET_TID_CHK_ENTER=5101;NetFunnel.RTYPE_INIT=5105;NetFunnel.RTYPE_STOP=5106;NetFunnel.kSuccess=200,NetFunnel.kContinue=201,NetFunnel.kContinueDebug=202,NetFunnel.kTsBypass=300,NetFunnel.kTsBlock=301,NetFunnel.kTsIpBlock=302,NetFunnel.kTsExpressNumber=303,NetFunnel.kTsErrorNoUservice=500,NetFunnel.kTsErrorNoAction=501,NetFunnel.kTsErrorAComplete=502,NetFunnel.kTsErrorWrongServer=503,NetFunnel.kTsErrorTooRecreate=504,NetFunnel.kTsErrorNoKey=505,NetFunnel.kTsErrorInvalidID=506,NetFunnel.kTsErrorInvalidKey=507,NetFunnel.kTsErrorInvalidIdStr=508,NetFunnel.kTsErrorDuplicate=509,NetFunnel.kTsErrorDelAction=510,NetFunnel.kTsErrorUserviceExist=511,NetFunnel.kTsErrorActionExist=512,NetFunnel.kTsErrorLicenseOver=513,NetFunnel.kTsErrorSize=514,NetFunnel.kTsErrorNoUserAction=515,NetFunnel.kErrorAuth=900,NetFunnel.kErrorNotFound=901,NetFunnel.kErrorNoinit=902,NetFunnel.kErrorCode=903,NetFunnel.kErrorParam=904,NetFunnel.kErrorData=905,NetFunnel.kErrorUnknownType=906,NetFunnel.kErrorAlready=907,NetFunnel.kErrorService=908,NetFunnel.kErrorExecution=909,NetFunnel.kErrorSock=920,NetFunnel.kErrorSockSend=921,NetFunnel.kErrorSockRecv=922,NetFunnel.kErrorNotFoundLocalIP=925,NetFunnel.kErrorSockConnect=926,NetFunnel.kErrorNoConnect=927,NetFunnel.kErrorSockData=928,NetFunnel.kErrorIO=991,NetFunnel.kErrorArunning=992,NetFunnel.kErrorPermission=993,NetFunnel.kErrorExpiredTime=994,NetFunnel.kErrorOverCounter=995,NetFunnel.kErrorSecurity=996,NetFunnel.kErrorSystemStopping=997,NetFunnel.kErrorNotSupport=998,NetFunnel.kErrorSystem=999;NetFunnel.PS_N_RUNNING=0;NetFunnel.PS_RUNNING=1;NetFunnel.PS_CONTINUE=2;NetFunnel.PS_TIMEOUT=3;NetFunnel.PS_ERROR=99;NetFunnel.CONN_TIMEOUT_KEY="connection_timeout";NetFunnel.gControl=null;NetFunnel.gShowtimeLimit=false;NetFunnel.gShowcntLimit=false;NetFunnel.gShownextLimit=false;NetFunnel.gSkinId="";NetFunnel.gPopupTop=false;NetFunnel.gPopupLeft=false;NetFunnel.gTotWait=-1;NetFunnel.gPrevWaitTime=-1;NetFunnel.gLastSkinID="default";NetFunnel.gUseMobileUI=false;NetFunnel.gUseUnfocus=false;NetFunnel.gAlreadyProc=0;NetFunnel.gWaitPop=null;NetFunnel.gIPBlockWaitCount=0;NetFunnel.gNWaitCount=0;NetFunnel.gNWaitTemp=0;NetFunnel.gReTimer=null;NetFunnel.gDebugflag=false;NetFunnel.Util={makeDebugMsg:function(j,h,c,f,d){var b="\n";var a="       ";if(d==true){b="<br>";a="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"}switch(h){case NetFunnel.RTYPE_GET_TID:rtype_s="getTicketID";break;case NetFunnel.RTYPE_CHK_ENTER:rtype_s="chkEnter";break;case NetFunnel.RTYPE_ALIVE_NOTICE:rtype_s="aliveNotice";break;case NetFunnel.RTYPE_SET_COMPLETE:rtype_s="setComplete";break;case NetFunnel.RTYPE_GET_TID_CHK_ENTER:rtype_s="getTID+ChkEnter";break;case NetFunnel.RTYPE_INIT:rtype_s="Init";break;case NetFunnel.RTYPE_STOP:rtype_s="stop";break;default:rtype_s="Unknown";break}switch(c){case NetFunnel.kSuccess:code_s="Normal";break;case NetFunnel.kContinue:code_s="Continue";break;case NetFunnel.kContinueDebug:code_s="Debug Continue mode";break;case NetFunnel.kTsBypass:code_s="ServerSide Bypass";break;case NetFunnel.kTsBlock:code_s="ServerSide Block";break;case NetFunnel.kTsIpBlock:code_s="ServerSide Ip Block";break;case NetFunnel.kErrorSystem:code_s="System Error";break;case NetFunnel.kErrorSecurity:code_s="Security Error";break;case NetFunnel.kErrorIO:code_s="I/O Error";break;case NetFunnel.kErrorSockConnect:code_s="Connection Timeout";break;case NetFunnel.kErrorAlready:code_s="Already Running";break;case NetFunnel.kErrorNoinit:code_s="Init Error";break;case NetFunnel.E_INSERT:code_s="Insert Error";break;case NetFunnel.kErrorPermission:code_s="No Permission";break;case NetFunnel.kErrorExpiredTime:code_s="Key Expire";break;case NetFunnel.kErrorParam:code_s="Parameter Error";break;case NetFunnel.E_NOT_STARTED:code_s="No service time";break;case NetFunnel.kTsErrorNoUserAction:code_s="No action Error";break;default:code_s="Unknown Error";break}var g=j+" "+b+b+"  - type : "+rtype_s+" ("+h+")"+b+" - Code : "+code_s+" ("+c+")"+b+" - Params"+b;for(var e in f){g+=a+e+" ---> "+f[e]+b}return g},goNextPage:function(b,d){var a=b;for(var c in d){a+="&"+c+"="+d[c]}document.location.href=a},alertDebugMsg:function(a){alert(a)},decodeBase64:function(d){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var a="";var l,j,g;var k,h,f,e;var c=0;d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{k=b.indexOf(d.charAt(c++));h=b.indexOf(d.charAt(c++));f=b.indexOf(d.charAt(c++));e=b.indexOf(d.charAt(c++));l=(k<<2)|(h>>4);j=((h&15)<<4)|(f>>2);g=((f&3)<<6)|e;a=a+String.fromCharCode(l);if(f!=64){a=a+String.fromCharCode(j)}if(e!=64){a=a+String.fromCharCode(g)}}while(c<d.length);return a},getParam:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)";var d=new RegExp(b);var c=d.exec(document.location.href);if(c==null){return""}else{return c[1]}},isSmartPhone:function(){var b=new Array("iPhone","iPod","iPad","BlakBerry","Android","WindowsCE","LG","MOT","SAMSUNG","SonyEricsson","Nokia","Webos","Opera mini","Opera mobi","Iemobile");try{for(var a=0;a<b.length;a++){if(navigator.userAgent.match(b[a])!=null){return true}}}catch(c){}return false},calcStdDev:function(g,f){if(typeof g!="object"){return false}if(g.length<2){return false}if(f>1||f<0){f=0}var e=0,d=0;for(d=0;d<g.length;d++){e=e+parseInt(g[d])}var a=e/g.length;var b=0;for(d=0;d<g.length;d++){b=b+((parseInt(g[d])-a)*(parseInt(g[d])-a))}var c=Math.sqrt(b/(g.length-f));return c},delFocus:function(g){try{var f=document;if(typeof g=="object"&&typeof g.document=="object"){f=g.document}var b=f.getElementsByTagName("body")[0];var a=f.createElement("iframe");a.style.position="absolute";a.style.width="0px";a.style.height="0px";a.style.border="0px";a.style.top=NetFunnel.PopupUtil.getScrollTop(f);a.style.left=NetFunnel.PopupUtil.getScrollLeft(f);b.appendChild(a);a.focus();var c=a.parentNode;if(c&&typeof c=="object"){c.removeChild(a)}}catch(d){}},isVirtualWait:function(a){if(typeof a!="object"){return false}if(typeof a.mprotect=="number"&&a.mprotect>0){return true}return false},getTimeStr:function(b){var e=parseInt(b);if(e<60){return e+"초"}else{if(e<3600){var c=Math.floor(e/60);var d=e%60;return c+"분 "+d+"초"}else{var a=Math.floor(e/3600);var c=Math.floor((e%3000)/60);var d=e%60;return a+"시간 "+c+"분 "+d+"초"}}},getFrameWindowList:function(d){var c=new Array();for(var a=0;a<top.frames.length;a++){var b=top.frames[a];if(b===d){continue}c.push({win:b,popup:null})}return c}};NetFunnel.BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(d){for(var a=0;a<d.length;a++){var b=d[a].string;var c=d[a].prop;this.versionSearchString=d[a].versionSearch||d[a].identity;if(b){if(b.indexOf(d[a].subString)!=-1){return d[a].identity}}else{if(c){return d[a].identity}}}return""},searchVersion:function(b){var a=b.indexOf(this.versionSearchString);if(a==-1){return 0}return parseFloat(b.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};NetFunnel.BrowserDetect.init();if(NetFunnel.BrowserDetect.browser=="Explorer"){if(typeof Array.push!="function"){Array.prototype.push=function(){var b=this.length>>>0;for(var a=0;a<arguments.length;a++){this[b]=arguments[a];b=b+1>>>0}this.length=b;return b}}if(typeof Array.pop!="function"){Array.prototype.pop=function(){var b=this.length>>>0,a;if(b){a=this[--b];delete this[b]}this.length=b;return a}}}NetFunnel.getCommandStr=function(f,e){var c="";var b=0;if(f=="recv"){b=parseInt(e.substring(0,4))}else{var d=/opcode=([0-9]+)&/;var a=d.exec(e);if(a.length>1){b=parseInt(a[1])}}switch(b){case 5101:c="getTidchkEnter";break;case 5002:c="chkEnter      ";break;case 5003:c="aliveNotice   ";break;case 5004:c="setComplete   ";break;default:c="Unknown       "}return c};NetFunnel.writeDebugMsg=function(k,j,c){var m=new Date();var e=parseInt(m.getHours());var f=parseInt(m.getMinutes());var l=parseInt(m.getSeconds());var a=parseInt(m.getMilliseconds());var g="";if(e<10){g+="0"}g+=e+":";if(f<10){f+="0"}g+=f+":";if(l<10){l+="0"}g+=l;g+="."+a;var h="";var b="";var n="";if(j=="recv"){h="padding-left:1px;";b="#9E9E9E;";n=g+" | Recv | <b>"+NetFunnel.getCommandStr(j,c)+"</b> | "}else{h="margin-top:5px;";b="#EEEEEE;";n=g+" | Send | <b>"+NetFunnel.getCommandStr(j,c)+"</b> | "}k.document.write("<div onload='this.focus()' style='width:650;overflow:hidden;padding:1px;border:1px solid #eeeeee;margin:0px;font-size:10px;font-family:monospace;background-color:"+b+h+"'>"+n+c.substring(0,50)+"</div>")};NetFunnel.printDebugMsg=function(c,a,b){NetFunnel.debugWindow=window.open("","NetFunnel_debugWindow","status=1,width=700,height=300,resizable=1,scrollbars=1");if(typeof(NetFunnel.debugWindow)=="object"){NetFunnel.writeDebugMsg(NetFunnel.debugWindow,c,a)}};NetFunnel.Storage=function(a){this.html5Support=this.supportsHtml5Storage();if(typeof a=="number"){this.type=a}};NetFunnel.Storage.prototype.supportsHtml5Storage=function(){try{return"localStorage" in window&&window.localStorage!==null}catch(a){return false}};NetFunnel.Storage.prototype.html5Support=false;NetFunnel.Storage.prototype.length=0;NetFunnel.Storage.prototype.type=1;NetFunnel.Storage.prototype.setStorageType=function(a){if(a<1||a>2){this.type=1}else{this.type=a}};NetFunnel.Storage.prototype.getStorage=function(){if(this.type==1){return localStorage}else{if(this.type==2){return sessionStorage}else{return localStorage}}};NetFunnel.Storage.prototype.setItem=function(b,d,a,c){try{if(this.html5Support){this.getStorage().setItem(b,d);NetFunnel.Cookie.set(b,d,a,c)}else{NetFunnel.Cookie.set(b,d,a,c)}return true}catch(f){return false}};NetFunnel.Storage.prototype.setItemStorageOnly=function(b,d,a,c){try{if(this.html5Support){this.getStorage().setItem(b,d)}else{NetFunnel.Cookie.set(b,d,a,c)}return true}catch(f){return false}};NetFunnel.Storage.prototype.getItem=function(b,c){var a=false;try{if(this.html5Support){a=this.getStorage().getItem(b);if(!a&&(c==undefined||c==false)){a=NetFunnel.Cookie.get(b)}}else{a=NetFunnel.Cookie.get(b)}return a}catch(d){return false}};NetFunnel.Storage.prototype.removeItem=function(a,b){try{if(this.html5Support){this.getStorage().removeItem(a);if(b==undefined||b==false){NetFunnel.Cookie.del(a)}}else{NetFunnel.Cookie.del(a)}return true}catch(c){return false}};NetFunnel.Storage.prototype.clear=function(){try{if(this.html5Support){this.getStorage().clear()}return true}catch(a){return false}};NetFunnel.MProtect=function(){try{var s=new NetFunnel.Storage();var b=new Date();var n=b.getTime();var l=s.getItem("NFMPT.data",true);if(l==null){l=""}var c=s.getItem("NFMPT.stdData",true);if(c==null){c=""}var a=parseInt(s.getItem("NFMPT.lastTime",true));if(isNaN(a)||a==null||a==""){a=0}var r=parseInt(s.getItem("NFMPT.reqCnt",true));if(isNaN(r)||r==null||r==""){r=0}var m=new Array();var h=new Array();if(l!=""){m=l.split(",")}if(c!=""){h=c.split(",")}if(a!=0){m[m.length]=n-a;h[h.length]=n-a}a=n;var k=m.length-1;var f=0;for(;k>=0;k--){f=f+parseInt(m[k]);if(f>NetFunnel.MP_TIMELIMIT){break}}var g=h.length-NetFunnel.MP_DEVCNTLIMIT;if(g<0){g=0}var q=h.slice(g);var d=m.slice(k+1);s.setItemStorageOnly("NFMPT.data",d.join(","));s.setItemStorageOnly("NFMPT.stdData",q.join(","));s.setItemStorageOnly("NFMPT.lastTime",a+"");s.setItemStorageOnly("NFMPT.reqCnt",(++r)+"");var p=NetFunnel.Util.calcStdDev(q,0);if(p!=false&&p<NetFunnel.MP_DEVLIMIT){return 2}if(d.length<NetFunnel.MP_MINCOUNT){return 0}if(d.length+1>NetFunnel.MP_MAXREQLIMIT){return 1}if(r>NetFunnel.MP_REQONLYLIMIT){s.setItemStorageOnly("NFMPT.reqCnt",0+"");return 3}}catch(o){}return 0};NetFunnel.ProgressBar=function(f,e,g){this._bar=null;this._bar2=null;this._config=new Object();this._totWaitCnt=0;this._wflag=0;if(typeof f=="string"){this._obj=g.getElementById(f)}else{this._obj=f}this._config.width=360;this._config.height=5;this._config.count=50;this._config.interval=50;this._config.color=this._color;this._config.bgcolor=this._bgcolor;this._config.waitchk=0;if(typeof e=="object"){for(var c in e){this._config[c]=e[c]}}if(this._config.count<=0){this._config.count=50}this._oTable=g.createElement("table");this._oTable.style.width=this._config.width+"px";this._oTable.style.height=this._config.height+"px";this._oTable.cellPadding=0;this._oTable.cellSpacing=0;var d=g.createElement("tbody");var h=g.createElement("tr");var a=g.createElement("td");a.style.height=this._config.height+"px";a.style.backgroundColor=this._config.bgcolor;var b=g.createElement("td");b.style.backgroundColor=this._config.bgcolor;h.appendChild(a);h.appendChild(b);d.appendChild(h);this._oTable.appendChild(d);this._obj.appendChild(this._oTable);this._bar=a;this._bar2=b;this.show=function(){this._obj.style.visibility="visible";var j=this;this._timer=setInterval(function(){j._action(0)},this._config.interval);return};this.hide=function(){this._obj.style.visibility="hidden";if(this._timer){clearTimeout(this._timer);this._timer=null}return};this._action=function(m){try{if(this._config.waitchk!=0){if(parseInt(this._config.waitchk)<parseInt(NetFunnel.gLastData.nwait)){NetFunnel.gLastData.nwait=this._config.waitchk}}if(this._wflag==0&&NetFunnel.retryData==null){this._wflag=1}this._oTable.style.width=this._config.width+"px";if(NetFunnel.gTotWait<=0){NetFunnel.gTotWait=NetFunnel.gLastData.nwait}if(parseInt(NetFunnel.gLastData.nwait)>parseInt(NetFunnel.gTotWait)){NetFunnel.gTotWait=NetFunnel.gLastData.nwait}var j=this._config.width-Math.round((NetFunnel.gLastData.nwait/NetFunnel.gTotWait)*this._config.width);var l=this._config.width-j;this._bar.style.width=j+"px";this._bar.style.backgroundColor=this._config.color;this._bar2.style.width=l+"px";this._bar2.style.backgroundColor=this._config.bgcolor;this._config.waitchk=NetFunnel.gLastData.nwait}catch(k){}return true}};NetFunnel.ProgressBar.prototype._mmm=0;NetFunnel.ProgressBar.prototype._curr=0;NetFunnel.ProgressBar.prototype._direct=0;NetFunnel.ProgressBar.prototype._obj=null;NetFunnel.ProgressBar.prototype._cells=null;NetFunnel.ProgressBar.prototype._timer=null;NetFunnel.ProgressBar.prototype._oTable=null;NetFunnel.ProgressBar.prototype._config=null;NetFunnel.ProgressBar.prototype._color="#2a509b";NetFunnel.ProgressBar.prototype._bgcolor="#b6dffd";NetFunnel.Cookie={set:function(c,e,b,d){var f=c+"="+escape(e);if(typeof b!="undefined"&&(b.constructor==Number)&&b>0){var a=new Date();a.setMinutes(a.getMinutes()+b);f+=";expires="+a.toGMTString()}if(typeof d!="undefined"&&d.constructor==String&&d!=""){f+=";domain="+d}else{if(NetFunnel.TS_COOKIE_DOMAIN!=""){f+=";domain="+NetFunnel.TS_COOKIE_DOMAIN}}f+=";path=/;";document.cookie=f},del:function(a){NetFunnel.Cookie.set(a,"",-1)},get:function(b){if(document.cookie.length>0){var c=document.cookie.indexOf(b+"=");if(c!=-1){c=c+b.length+1;var a=document.cookie.indexOf(";",c);if(a==-1){a=document.cookie.length}return unescape(document.cookie.substring(c,a))}}return""}};NetFunnel.getUrlParameters=function(f){if(typeof f!="string"||f==""){return""}var e="";var d=document.location.href;if(d.indexOf("?")>-1){var c=d.substr(d.indexOf("?"));var g=c.split("&");for(var b=0;b<g.length;b++){if(g[b].indexOf(f+"=")>-1){var a=g[b].indexOf(f+"=")+f.length+1;e=g[b].substr(a);break}}}return unescape(e)};NetFunnel.paramNetFunnelID=NetFunnel.getUrlParameters(NetFunnel.TS_COOKIE_ID);if(NetFunnel.paramNetFunnelID!=""){var tStorage=new NetFunnel.Storage(2);var done_value=tStorage.getItem(NetFunnel.TS_COOKIE_ID+"_done");if(done_value!=NetFunnel.paramNetFunnelID){tStorage.setItem(NetFunnel.TS_COOKIE_ID,NetFunnel.paramNetFunnelID,NetFunnel.TS_COOKIE_TIME,NetFunnel.TS_COOKIE_DOMAIN);tStorage.setItem(NetFunnel.TS_COOKIE_ID+"_done",NetFunnel.paramNetFunnelID,NetFunnel.TS_COOKIE_TIME,NetFunnel.TS_COOKIE_DOMAIN)}}NetFunnel.gPop=null;NetFunnel.gTimer=null;NetFunnel.gLastData=null;NetFunnel.countdown_stop=function(){try{if(!NetFunnel.Util.isVirtualWait(NetFunnel.gLastData)){NetFunnel.gControl.fireEvent(null,NetFunnel.gControl,"onStop",{next:NetFunnel.gControl.next.stop});NetFunnel_sendStop();if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=null}if(NetFunnel.gControl.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.hideBlockList(NetFunnel.gControl.getConfig("frame_block_list"))}}}catch(a){}};NetFunnel.countdown=function(){if(NetFunnel.gLastData&&NetFunnel.gLastData.time_left>=0){if(NetFunnel.gPop){var g=NetFunnel.gPop.getObj("NetFunnel_Loading_Popup_TimeLeft");var f=NetFunnel.gPop.getObj("NetFunnel_Loading_Popup_Count");var b=NetFunnel.gPop.getObj("NetFunnel_Loading_Popup_NextCnt");if(this._gNWaitView!=0){if(parseInt(this._gNWaitView)<parseInt(NetFunnel.gLastData.nwait)){NetFunnel.gLastData.nwait=this._gNWaitView}}this._gNWaitView=NetFunnel.gLastData.nwait;if(f){if(NetFunnel.gLastData.nwait>NetFunnel.gControl.getConfig("showcnt_limit")){f.innerHTML="다수"}else{f.innerHTML=String(NetFunnel.gLastData.nwait)}}if(b){if(NetFunnel.gLastData.nnext==undefined){b.innerHTML="0"}else{if(NetFunnel.gLastData.nnext>NetFunnel.gControl.getConfig("shownext_limit")){b.innerHTML="다수"}else{b.innerHTML=String(NetFunnel.gLastData.nnext)}}}if(g){if(NetFunnel.gLastData.real_time_left>NetFunnel.gControl.getConfig("showtime_limit")){if(g.innerHTML.length>=5){g.innerHTML="."}else{g.innerHTML+="."}}else{g.innerHTML=NetFunnel.Util.getTimeStr(NetFunnel.gLastData.real_time_left)}}try{if(typeof g=="object"){if(g.style.textDecoration=="none"){g.style.textDecoration="underline"}else{g.style.textDecoration="none"}}if(typeof g=="object"){if(b.style.textDecoration=="none"){b.style.textDecoration="underline"}else{b.style.textDecoration="none"}}if(typeof f=="object"){if(f.style.textDecoration=="none"){f.style.textDecoration="underline"}else{f.style.textDecoration="none"}}}catch(d){}}}if(NetFunnel.gLastData.time_left<=0&&NetFunnel.gTimer){if(NetFunnel.gPop){}return}var h=0;var c=NetFunnel.SkinUtil.get(NetFunnel.gSkinId,NetFunnel.Util.isSmartPhone());if(typeof c.updateCallback=="function"){if(parseInt(NetFunnel.gTotWait)<=0){h=0}else{if(parseInt(NetFunnel.gTotWait)<parseInt(NetFunnel.gLastData.nwait)){NetFunnel.gTotWait=parseInt(NetFunnel.gLastData.nwait)}h=parseInt(((NetFunnel.gTotWait-NetFunnel.gLastData.nwait)*100)/NetFunnel.gTotWait)}c.updateCallback(h,NetFunnel.gLastData.nwait,NetFunnel.gTotWait,NetFunnel.gLastData.real_time_left,true)}NetFunnel.gLastData.time_left--;var a=this;NetFunnel.gTimer=setTimeout(function(){a.countdown()},1000)};NetFunnel.SkinUtil={prevID:"",add:function(d,c,a){try{if(typeof d!="string"||d==""){return false}if(typeof c!="object"){return false}if(typeof a!="string"||a==""){a="normal"}if(typeof NetFunnel.Skin[d]!="object"){NetFunnel.Skin[d]=new Object()}NetFunnel.Skin[d][a]=c;NetFunnel.gLastSkinID=d;return true}catch(b){return false}},get:function(d,a){try{if(typeof d!="string"||d==""){d=NetFunnel.gLastSkinID}var b="normal";if(NetFunnel.gUseMobileUI==true&&a==true){b="mobile"}if(typeof NetFunnel.Skin[d]=="object"&&typeof NetFunnel.Skin[d][b]=="object"){return NetFunnel.Skin[d][b]}if(NetFunnel.TS_SKIN_ID!=""&&NetFunnel.TS_SKIN_ID!=d){if(typeof NetFunnel.Skin[NetFunnel.TS_SKIN_ID]=="object"&&typeof NetFunnel.Skin[NetFunnel.TS_SKIN_ID][b]=="object"){return NetFunnel.Skin[NetFunnel.TS_SKIN_ID][b]}}return NetFunnel.Skin["default"][b]}catch(c){}return NetFunnel.Skin["default"]["normal"]}};NetFunnel.SkinUtil.add("default",{htmlStr:' 			<div id="NetFunnel_Skin_Top" style="background-color:#ffffff;border:1px solid #9ab6c4;overflow:hidden;width:250px;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;" > 				<div style="background-color:#ffffff;border:6px solid #eaeff3;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;"> 					<div style="text-align:right;padding-top:5px;padding-right:5px;line-height:25px;"> 					</div>					<div style="padding-top:5px;padding-left:5px;padding-right:5px"> 						<div style="text-align:center;font-size:12pt;color:#001f6c;height:22px"><b><span style="color:#013dc1">접속대기 중</span>입니다.</b></div> 						<div style="text-align:right;font-size:9pt;color:#4d4b4c;padding-top:4px;height:17px;" ><b>예상시간 : <span id="NetFunnel_Loading_Popup_TimeLeft"></span></b></div> 						<div style="padding-top:6px;padding-bottom:6px;vertical-align:center;width:228px" id="NetFunnel_Loading_Popup_Progressbar"></div> 						<div style="background-color:#ededed;padding-bottom:8px;overflow:hidden;width:228px"> 							<div style="padding-left:5px"> 								<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;padding-top:10px;padding-bottom:10px;height:10px">앞에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_Count"></span></span></b> 명, 뒤에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_NextCnt"></span></span></b> 명의 대기자가 있습니다.</div> 								<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;height:12px">현재 접속자가 많아 대기 중이며</div> 								<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;height:10px;">잠시만 기다리시면</div> 								<div style="text-align:center;font-size:8pt;color:#4d4b4c;padding:3px;height:10px;">서비스로 자동 접속 됩니다.</div> 								<div style="text-align:center;font-size:9pt;color:#2a509b;padding-top:10px;"> 									<b>[<span id="NetFunnel_Countdown_Stop" style="cursor:pointer">중지</span>]</b> 								</div> 							</div> 						</div> 					<div style="height:5px;"></div> 				</div> 			</div>'},"mobile");NetFunnel.tstr='	<div id="NetFunnel_Skin_Top" style="background-color:#ffffff;border:1px solid #9ab6c4;width:458px;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;"> 		<div style="background-color:#ffffff;border:6px solid #eaeff3;-moz-border-radius: 5px; -webkit-border-radius: 5px; -khtml-border-radius: 5px; border-radius: 5px;"> 			<div style="text-align:right;padding-top:5px;padding-right:5px;line-height:25px;"> 			<b><span id="NetFunnel_Loding_Popup_Debug_Alerts" style="text-align:left;color:#ff0000"></span></b> 			<span style="text-align:right;"><a href="'+NetFunnel.gLogoURL+'" target="_blank" style="cursor:pointer;text-decoration:none;">';if((NetFunnel.BrowserDetect.browser=="Explorer"&&NetFunnel.BrowserDetect.version=="6")||NetFunnel.gLogoData==""){NetFunnel.tstr+='<b style="font-size:12px;">'+NetFunnel.gLogoText+"</b></a>"}else{NetFunnel.tstr+='<b style="font-size:12px;">'+NetFunnel.gLogoText+'</b><img style="height:16px;color:black;font-size:11px;" border=0 src="data:image/gif;base64,'+NetFunnel.gLogoData+'" ></a>'}NetFunnel.tstr+='</span></div> 			<div style="padding-top:0px;padding-left:25px;padding-right:25px"> 				<div style="text-align:left;font-size:12pt;color:#001f6c;height:22px"><b>서비스 <span style="color:#013dc1">접속대기 중</span>입니다.</b></div> 				<div style="text-align:right;font-size:9pt;color:#4d4b4c;padding-top:4px;height:17px" ><b>예상대기시간 : <span id="NetFunnel_Loading_Popup_TimeLeft"></span></b></div> 				<div style="padding-top:6px;padding-bottom:6px;vertical-align:center;width:400px" id="NetFunnel_Loading_Popup_Progressbar"></div> 				<div style="background-color:#ededed;width:400px;padding-bottom:8px;overflow:hidden"> 					<div style="padding-left:5px"> 						<div style="text-align:left;font-size:8pt;color:#4d4b4c;padding:3px;padding-top:10px;height:10px">고객님 앞에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_Count"></span></span></b> 명, 뒤에 <b><span style="color:#2a509b"><span id="NetFunnel_Loading_Popup_NextCnt"></span></span></b> 명의 대기자가 있습니다.  </div> 						<div style="text-align:left;font-size:8pt;color:#4d4b4c;padding:3px;height:10px">현재 접속 사용자가 많아 대기 중이며, 잠시만 기다리시면 </div> 						<div style="text-align:left;font-size:8pt;color:#4d4b4c;padding:3px;height:10px;">서비스로 자동 접속 됩니다.</div> 						<div style="text-align:center;font-size:9pt;color:#2a509b;padding-top:10px;"> 							<b>※ 재 접속하시면 대기시간이 더 길어집니다. <span id="NetFunnel_Countdown_Stop" style="cursor:pointer">[중지]</span> </b> 						</div> 					</div> 				</div> 				<div style="height:5px;"></div> 			</div> 		</div> 	</div>';NetFunnel.SkinUtil.add("default",{htmlStr:NetFunnel.tstr},"normal");NetFunnel.PopupSetup=function(d,b,c){if(c==null||c==""){c=NetFunnel.gSkinId}var e=NetFunnel.SkinUtil.get(c,NetFunnel.Util.isSmartPhone());switch(d){case"vcontinue":b.data.nwait=1000000;b.data.ttl="2";b.data.tps=1;break;case"continue":break;case"alert":break;default:break}if(d!="alert"&&typeof b=="object"){NetFunnel.gLastData=b.data;NetFunnel.gLastData.time_left=parseInt(b.data.ttl);NetFunnel.gLastData.tps=parseInt(b.data.tps);if(NetFunnel.gLastData.tps==0){NetFunnel.gLastData.tps=1}NetFunnel.gLastData.real_time_left=Math.round(parseInt(b.data.nwait)/NetFunnel.gLastData.tps);if(NetFunnel.gLastData.real_time_left<1){NetFunnel.gLastData.real_time_left=1}if(NetFunnel.gPrevWaitTime>-1&&NetFunnel.gLastData.real_time_left>NetFunnel.gPrevWaitTime){NetFunnel.gLastData.real_time_left=NetFunnel.gPrevWaitTime}NetFunnel.gPrevWaitTime=NetFunnel.gLastData.real_time_left;if(NetFunnel.gTotWait<0){NetFunnel.gTotWait=NetFunnel.gLastData.nwait}}if(!NetFunnel.gPop){NetFunnel.gPop=new NetFunnel.Popup(e.htmlStr,NetFunnel.gPopupTop,NetFunnel.gPopupLeft,NetFunnel.gControl.getConfig("popup_target"));if(e.prepareCallback=="function"){e.prepareCallback()}this._gNWaitView=0}NetFunnel.gPop.show();if(NetFunnel.gPop.getObj("NetFunnel_Loding_Popup_Debug_Alerts")){if(NetFunnel.gDebugflag){var a=NetFunnel.gPop.getObj("NetFunnel_Loding_Popup_Debug_Alerts");a.innerHTML=" Debug Mode "}else{var a=NetFunnel.gPop.getObj("NetFunnel_Loding_Popup_Debug_Alerts");a.innerHTML=""}}if(NetFunnel.gControl.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.showBlockList(NetFunnel.gControl.getConfig("frame_block_list"))}if(d!="alert"){NetFunnel.countdown()}};NetFunnel.DefaultCallback={onSuccess:function(b,a,c){if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=true}if(c.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.hideBlockList(c.getConfig("frame_block_list"))}if(typeof a.next=="string"&&a.next!=""){document.location.href=a.next}else{if(typeof a.next=="function"){DefaultCallback_onSuccess(b,a,c)}}NetFunnel.gPop=null},onContinued:function(b,a,c){if(typeof a.next=="string"){document.location.href=a.next;return}if(typeof a.next=="function"){if(a.next(b,a)==false){return}}if(a.rtype==NetFunnel.RTYPE_CHK_ENTER||a.rtype==NetFunnel.RTYPE_GET_TID_CHK_ENTER){if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}NetFunnel.PopupSetup("continue",a,NetFunnel.gSkinId)}},onError:function(b,a,c){if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=null}if(c.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.hideBlockList(c.getConfig("frame_block_list"))}if(typeof a.next=="string"&&a.next!=""){document.location.href=a.next;return}if(typeof a.next=="function"){if(a.next(b,a)==false){return}}},onStop:function(b,a){if(typeof a.next=="string"&&a.next!=""){document.location.href=a.next;return}if(typeof a.next=="function"){if(a.next(b,a)==false){return}}},onBypass:function(b,a,c){if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=null}if(c.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.hideBlockList(c.getConfig("frame_block_list"))}if(typeof a.next=="string"&&a.next!=""){document.location.href=a.next;return}if(typeof a.next=="function"){if(a.next(b,a)==false){return}}},onExpressnumber:function(b,a,c){if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=null}if(c.getConfig("use_frame_block")==true){NetFunnel.PopupUtil.hideBlockList(c.getConfig("frame_block_list"))}if(typeof a.next=="string"&&a.next!=""){document.location.href=a.next;return}if(typeof a.next=="function"){if(a.next(b,a)==false){return}}},onBlock:function(b,a,c){if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}if(NetFunnel.gPop){NetFunnel.gPop.hide();NetFunnel.gPop.destroy();delete NetFunnel.gPop;NetFunnel.gPop=null}if(typeof a.next=="string"&&a.next!=""){document.location.href=a.next;return}if(typeof a.next=="function"){if(a.next(b,a)==false){return}}if(typeof(c.getConfig("block_url"))!="string"||c.getConfig("block_url")==""){if(c.getConfig("block_msg")==""||typeof(c.getConfig("block_msg"))!="string"){alert("[NetFUNNEL]Service Block!")}else{alert(c.getConfig("block_msg"))}return false}else{document.location.href=c.getConfig("block_url");return false}return false},onIpBlock:function(b,a){if(typeof a.next=="string"){document.location.href=a.next;return}if(typeof a.next=="function"){if(a.next(b,a)==false){return}}if(NetFunnel.gTimer){clearTimeout(NetFunnel.gTimer)}NetFunnel.PopupSetup("vcontinue",a,NetFunnel.gSkinId)}};NetFunnel.Event=function(){this.events=[];this.builtinEvts=[]};NetFunnel.Event.prototype.getActionIdx=function(f,c,e,g){if(f&&c){var b=this.events[f][c];if(b){var a=b.length;for(var d=a-1;d>=0;d--){if(b[d].action==e&&b[d].binding==g){return d}}}else{return -1}}return -1};NetFunnel.Event.prototype.addListener=function(d,b,c,e){if(this.events[d]){if(this.events[d][b]){if(this.getActionIdx(d,b,c,e)==-1){var a=this.events[d][b];a[a.length]={action:c,binding:e}}}else{this.events[d][b]=[];this.events[d][b][0]={action:c,binding:e}}}else{this.events[d]=[];this.events[d][b]=[];this.events[d][b][0]={action:c,binding:e}}};NetFunnel.Event.prototype.removeListener=function(d,b,c,e){if(this.events[d]){if(this.events[d][b]){var a=this.actionExists(d,b,c,e);if(a>=0){this.events[d][b].splice(a,1)}}}};NetFunnel.Event.prototype.fireEvent=function(j,h,c,f){if(!j){j=window.event}if(h&&this.events){var d=this.events[h];if(d){var b=d[c];if(b){for(var a=0;b.length>a;a++){var g=b[a].action;if(b[a].binding){g=g.bind(b[a].binding)}g(j,f,h)}}}}};NetFunnel.gPopup=new Array();NetFunnel.PopupUtil={getViewportHeight:function(b,a){if(b.innerHeight!=b.undefined){return b.innerHeight}if(a.compatMode=="CSS1Compat"){return a.documentElement.clientHeight}if(a.body){return a.body.clientHeight}return b.undefined},getViewportWidth:function(c,b){var d=17;var a=null;if(c.innerWidth!=c.undefined){return c.innerWidth}if(b.compatMode=="CSS1Compat"){return b.documentElement.clientWidth}if(b.body){return b.body.clientWidth}return 0},getScrollTop:function(a){if(a.pageYOffset){return a.pageYOffset}else{if(a.documentElement&&typeof a.documentElement.scrollTop=="number"){return a.documentElement.scrollTop}else{if(a.body){return a.body.scrollTop}}}return 0},getScrollLeft:function(a){if(a.pageXOffset){return a.pageXOffset}else{if(a.documentElement&&typeof a.documentElement.scrollLeft=="number"){return a.documentElement.scrollLeft}else{if(a.body){return a.body.scrollLeft}}}return 0},resizePopup:function(){for(var a=0;NetFunnel.gPopup.length>a;a++){NetFunnel.gPopup[a]._centerPopWin()}},getObjWidth:function(a){if(!a){return 0}if(parseInt(a.style.width)>parseInt(a.offsetWidth)){width=parseInt(a.style.width)}else{width=a.offsetWidth}return width},getObjHeight:function(a){if(!a){return 0}if(parseInt(a.style.height)>parseInt(a.offsetHeight)){height=parseInt(a.style.height)}else{height=a.offsetHeight}return height},showBlockList:function(a){for(var b=0;b<a.length;b++){try{var d=a[b];d.popup=new NetFunnel.Popup("",NetFunnel.gPopupTop,NetFunnel.gPopupLeft,d.win);d.popup.show()}catch(c){}}},hideBlockList:function(a){for(var b=0;b<a.length;b++){try{var d=a[b];if(d.popup){d.popup.hide();d.popup.destroy();delete d.popup;d.popup=null}}catch(c){}}},hideWaitPopup:function(){if(typeof NetFunnel=="object"){if(NetFunnel.gWaitPop){NetFunnel.gWaitPop.hide();NetFunnel.gWaitPop.destroy();NetFunnel.gWaitPop=null}}},showWaitPopup:function(){if(typeof NetFunnel=="object"){var a='<div style="padding:2px;border:1px solid darkgray;"> 				<table> 					<tr>';if(NetFunnel.BrowserDetect.browser=="Explorer"&&NetFunnel.BrowserDetect.version=="6"){a+="<td></td>"}else{a+='<td><img style="" border=0 src="data:image/gif;base64,'+NetFunnel.gPreWaitData+'" ></td>'}a+='	<td style="valign:middle;font-size:9pt">wait...</td> 					</tr> 				</table> 			</div>';NetFunnel.gWaitPop=new NetFunnel.Popup(a,false,false,NetFunnel.gControl,true,"NetFunnel_Waiting_Popup");NetFunnel.gWaitPop.show()}},getDocumentEntireHeight:function(d){var b=d.body,c=d.documentElement;var a=Math.max(b.scrollHeight,b.offsetHeight,c.clientHeight,c.scrollHeight,c.offsetHeight);return a}};NetFunnel.Popup=function(f,j,d,b,o,h){if(typeof b=="object"){this._mWin=b;if(typeof b.document=="object"){this._mDoc=b.document}else{this._mWin=window;this._mDoc=document}}else{this._mWin=window;this._mDoc=document}if(typeof o!="boolean"){o=false}if(typeof h!="string"){h="NetFunnel_Loading_Popup"}var m=this._mDoc.getElementsByTagName("BODY")[0];if(!m){return}var c=this._mDoc.getElementById(h);if(!c||NetFunnel.SkinUtil.prevID!=NetFunnel.gSkinId){c=this._mDoc.createElement("div");c.id=h;c.style.display="none";c.style.top=0;c.style.left=0;c.innerHTML=f;m.appendChild(c);var l=this._mDoc.getElementById("NetFunnel_Loading_Popup_Progressbar");if(l){var k=parseInt(l.style.width);var a=new NetFunnel.ProgressBar(l,{width:(k),count:50,interval:50},this._mDoc);a.show();this._mProgress=a}var e=this._mDoc.getElementById("NetFunnel_Countdown_Stop");if(e){e.onclick=NetFunnel.countdown_stop}this.new_draw=true}NetFunnel.SkinUtil.prevID=NetFunnel.gSkinId;var n=this._mDoc.getElementById("mpopup_bg");var g=this._mDoc.getElementById("pop_iframe");if(!n){n=this._mDoc.createElement("div");n.id="mpopup_bg";n.innerHTML="<div style='width:100%; height=100%'>&nbsp;</div>";n.style.position="absolute";n.style.zIndex="1200";n.style.top="0px";n.style.left="0px";n.style.width="100%";n.style.height=NetFunnel.PopupUtil.getDocumentEntireHeight(this._mDoc)+"px";n.style.margin="0";n.style.padding="0";n.style.border="0px solid black";n.fontSize="0";m.appendChild(n)}if(!g){g=this._mDoc.createElement("iframe");g.id="pop_iframe";g.frameborder="0";g.border="0";g.framespacing="0";g.marginheight="0";g.marginwidth="0";if(o){g.style.opacity="0";g.style.filter="alpha(opacity=0)"}else{g.style.opacity="0.5";g.style.filter="alpha(opacity=50)"}g.style.zIndex="1199";g.style.top="0px";g.style.left="0px";g.style.width="100%";g.style.height=NetFunnel.PopupUtil.getDocumentEntireHeight(this._mDoc)+"px";g.style.position="absolute";g.style.border="0px solid #FFFFFF";g.style.backgroundColor="#FFFFFF";m=this._mDoc.getElementsByTagName("BODY")[0];m.appendChild(g)}c.style.position="absolute";c.style.visibility="hidden";this._mCount++;this._mMask=n;this._mPopIFrame=g;this._mObj=c;this._mTop=j;this._mLeft=d;this.mid="mpopup_"+this._mCount;this.addListener(this._mWin,"resize",NetFunnel.PopupUtil.resizePopup);NetFunnel.gPopup.push(this)};NetFunnel.Popup.prototype=new NetFunnel.Event();NetFunnel.Popup.prototype._mCount=0;NetFunnel.Popup.prototype._mid="";NetFunnel.Popup.prototype._mWin=window;NetFunnel.Popup.prototype._mDoc=document;NetFunnel.Popup.prototype._mObj=null;NetFunnel.Popup.prototype._mMask=null;NetFunnel.Popup.prototype._mPopIFrame=null;NetFunnel.Popup.prototype._mIsShown=false;NetFunnel.Popup.prototype._mIframeResize=NetFunnel.TS_IFRAME_RESIZE;NetFunnel.Popup.prototype._mProgress=null;NetFunnel.Popup.prototype._setMaskSize=function(){var b=this._mDoc.getElementsByTagName("BODY")[0];if(!b){return}if(NetFunnel.Util.isSmartPhone()==true){var a=NetFunnel.PopupUtil.getViewportHeight(window,this._mDoc)}else{var a=NetFunnel.PopupUtil.getViewportHeight(this._mWin,this._mDoc)}var d=NetFunnel.PopupUtil.getViewportWidth(this._mWin,this._mDoc);var e=0;var c=0;if(a>b.scrollHeight){e=a}else{e=b.scrollHeight}if(d>b.scrollWidth){c=d}else{c=b.scrollWidth}};NetFunnel.Popup.prototype._centerPopWin=function(){if(this._mIsShown){var d=this._mDoc.getElementsByTagName("BODY")[0];if(!d){return}var e;if(NetFunnel.Util.isSmartPhone()==true){e=window}else{if(NetFunnel.BrowserDetect.browser=="Explorer"){e=this._mDoc}else{e=this._mWin}}var a=parseInt(NetFunnel.PopupUtil.getScrollTop(e),10);var c=parseInt(d.scrollLeft,10);this._setMaskSize();if(NetFunnel.Util.isSmartPhone()==true){var b=NetFunnel.PopupUtil.getViewportHeight(window,this._mDoc)}else{var b=NetFunnel.PopupUtil.getViewportHeight(this._mWin,this._mDoc)}var f=NetFunnel.PopupUtil.getViewportWidth(this._mWin,this._mDoc);if(typeof this._mTop=="number"){this._mObj.style.top=this._mTop+"px"}else{this._mObj.style.top=(a+((b-NetFunnel.PopupUtil.getObjHeight(this._mObj))/2))+"px"}if(typeof this._mLeft=="number"){this._mObj.style.left=this._mLeft+"px"}else{this._mObj.style.left=(c+((f-NetFunnel.PopupUtil.getObjWidth(this._mObj))/2))+"px"}if(this._mIframeResize&&typeof this._mPopIFrame=="object"){this._mPopIFrame.style.top=this._mObj.style.top;this._mPopIFrame.style.left=this._mObj.style.left;this._mPopIFrame.style.width=this._mObj.style.width;this._mPopIFrame.style.height=parseInt(this._mObj.style.height)+6}}};NetFunnel.Popup.prototype.getObj=function(a){return this._mDoc.getElementById(a)};NetFunnel.Popup.prototype.show=function(){var a=this._mDoc.getElementsByTagName("BODY")[0];if(!a){return}a.style.overflow="auto";this._mObj.style.zIndex="1202";this._mObj.style.visibility="visible";this._mObj.style.display="block";this._mMask.style.visiblity="visible";this._mMask.style.display="block";this._mPopIFrame.style.visiblity="visible";this._mPopIFrame.style.display="block";this._mIsShown=true;this._centerPopWin()};NetFunnel.Popup.prototype.hide=function(){var a=this._mDoc.getElementsByTagName("BODY")[0];if(!a){return}a.style.overflow="auto";this._mObj.style.visibility="hidden";this._mObj.style.display="none";this._mMask.style.visiblity="hidden";this._mMask.style.display="none";this._mPopIFrame.style.visiblity="hidden";this._mPopIFrame.style.display="none";this._mIsShown=false};NetFunnel.Popup.prototype.destroy=function(){var c=this._mDoc.getElementsByTagName("BODY")[0];if(!c){return}var f=NetFunnel.gPopup.length;try{var a=this._mDoc.getElementById("mpopup_bg");c.removeChild(a)}catch(h){}try{var d=this._mDoc.getElementById("pop_iframe");c.removeChild(d)}catch(h){}for(var b=0;b<f;b++){var g=NetFunnel.gPopup.pop();if(g.mid==this.mid){try{c.removeChild(g._mObj)}catch(h){}delete g;continue}NetFunnel.gPopup.push(g)}if(this._mProgress){this._mProgress.hide()}};NetFunnel.RetVal=function(a){this._mParam=new Object();this._mRtype=parseInt(a.substr(0,4));this._mCode=parseInt(a.substr(5,3));this._mRetStr=a.substr(9,a.length-9);this._parse()};NetFunnel.RetVal.prototype._ltrim=function(b){for(var a=0;a<b.length&&this._isWhitespace(b.charAt(a));a++){}return b.substring(a,b.length)};NetFunnel.RetVal.prototype._rtrim=function(b){for(var a=b.length-1;a>=0&&this._isWhitespace(b.charAt(a));a--){}return b.substring(0,a+1)};NetFunnel.RetVal.prototype._trim=function(a){return this._ltrim(this._rtrim(a))};NetFunnel.RetVal.prototype._isWhitespace=function(a){var b=" \t\n\r\f";return(b.indexOf(a)!=-1)};NetFunnel.RetVal.prototype._parse=function(){var a="";var c="";var d="";var e=this._mRetStr.split("&");for(var b=0;e.length>b;b++){a=e[b].split("=");if(a.length>1){c=this._trim(a[0]);d=this._trim(a[1]);this._mParam[c]=d}}};NetFunnel.RetVal.prototype.getRetCode=function(){return this._mCode};NetFunnel.RetVal.prototype.setRetCode=function(a){return(this._mCode=a)};NetFunnel.RetVal.prototype.getReqType=function(){return this._mRtype};NetFunnel.RetVal.prototype.setReqType=function(a){return(this._mRtype=a)};NetFunnel.RetVal.prototype.getRetStr=function(){return this._mRetStr};NetFunnel.RetVal.prototype.getValue=function(a){try{return this._mParam[a]}catch(b){return null}};NetFunnel.RetVal.prototype.setValue=function(b,c){var a=null;try{if(this.isKeyExist(b)){a=this.getValue(b)}this._mParam[b]=c;return a}catch(d){return null}};NetFunnel.RetVal.prototype.getNumber=function(a){try{return parseInt(this._mParam[a])}catch(b){return 0}};NetFunnel.RetVal.prototype.isKeyExist=function(a){try{if(this._mParam[a]!=null){return true}}catch(b){}return false};NetFunnel.RetVal.prototype.getParam=function(){return this._mParam};NetFunnel.TsClient=function(b,c){this.mConfig=new Object();this.mConfig.host=NetFunnel.TS_HOST;this.mConfig.port=NetFunnel.TS_PORT;this.mConfig.proto=NetFunnel.TS_PROTO;this.mConfig.query=NetFunnel.TS_QUERY;this.mConfig.max_ttl=NetFunnel.TS_MAX_TTL;this.mConfig.conn_timeout=NetFunnel.TS_CONN_TIMEOUT;this.mConfig.conn_retry=NetFunnel.TS_CONN_RETRY;this.mConfig.cookie_id=NetFunnel.TS_COOKIE_ID;this.mConfig.cookie_time=NetFunnel.TS_COOKIE_TIME;this.mConfig.cookie_domain=NetFunnel.TS_COOKIE_DOMAIN;this.mConfig.showcnt_limit=NetFunnel.TS_SHOWCNT_LIMIT;this.mConfig.showtime_limit=NetFunnel.TS_SHOWTIME_LIMIT;this.mConfig.shownext_limit=NetFunnel.TS_SHOWNEXT_LIMIT;this.mConfig.popup_top=NetFunnel.TS_POPUP_TOP;this.mConfig.popup_left=NetFunnel.TS_POPUP_LEFT;this.mConfig.skin_id=NetFunnel.TS_SKIN_ID;this.mConfig.use_unfocus=NetFunnel.TS_USE_UNFOCUS;this.mConfig.virt_wait=NetFunnel.TS_VIRT_WAIT;this.mConfig.use_mobile_ui=NetFunnel.TS_USE_MOBILE_UI;this.mConfig.mp_use=NetFunnel.MP_USE;this.mConfig.use_frame_block=NetFunnel.TS_USE_FRAME_BLOCK;this.mConfig.frame_block_list=NetFunnel.TS_FRAME_BLOCK_LIST;this.mConfig.use_pre_wait=NetFunnel.TS_USE_PRE_WAIT;this.mConfig.popup_target=NetFunnel.TS_POPUP_TARGET;this.mConfig.user_data=false;this.mConfig.user_data_keys=NetFunnel.TS_USER_DATA_KEYS;this.mConfig.block_msg=NetFunnel.TS_BLOCK_MSG;this.mConfig.block_url=NetFunnel.TS_BLOCK_URL;this.mConfig.ipblock_wait_count=NetFunnel.TS_IPBLOCK_WAIT_COUNT;this.mConfig.ipblock_wait_time=NetFunnel.TS_IPBLOCK_WAIT_TIME;this.mConfig.service_id=NetFunnel.TS_SERVICE_ID;this.mConfig.action_id=NetFunnel.TS_ACTION_ID;this.mConfig.show_wait_popup=NetFunnel.TS_SHOW_WAIT_POPUP;this.mConfig.config_use=NetFunnel.TS_CONFIG_USE;this.mConfig._host_changed=false;this.mConfig._port_changed=false;if(typeof b=="object"){for(var a in b){this.mConfig[a]=b[a];if(a=="host"){this.mConfig._host_changed=true}if(a=="port"){this.mConfig._port_changed=true}}}NetFunnel.gPopupLeft=this.mConfig.popup_left;NetFunnel.gPopupTop=this.mConfig.popup_top;NetFunnel.gPopupLeft=this.mConfig.popup_left;NetFunnel.gBlockList=this.mConfig.block_list;if(this.mConfig.skin_id==""){NetFunnel.gSkinId=NetFunnel.TS_SKIN_ID}else{NetFunnel.gSkinId=this.mConfig.skin_id}if(typeof this.mConfig.use_unfocus!="boolean"){if(typeof this.mConfig.use_unfocus=="string"&&this.mConfig.use_unfocus=="true"){this.mConfig.use_unfocus=true}else{this.mConfig.use_unfocus=false}}NetFunnel.gUseUnfocus=this.mConfig.use_unfocus;if(typeof this.mConfig.use_mobile_ui!="boolean"){if(typeof this.mConfig.use_mobile_ui=="string"&&this.mConfig.use_mobile_ui=="true"){this.mConfig.use_mobile_ui=true}else{this.mConfig.use_mobile_ui=false}}NetFunnel.gUseMobileUI=this.mConfig.use_mobile_ui;if(typeof this.mConfig.use_frame_block!="boolean"){if(typeof this.mConfig.use_frame_block=="string"&&this.mConfig.use_frame_block=="true"){this.mConfig.use_frame_block=true}else{this.mConfig.use_frame_block=false}}if(this.mConfig.use_frame_block==true){if(this.mConfig.frame_block_list.length<1){this.mConfig.frame_block_list=NetFunnel.Util.getFrameWindowList(this.mConfig.popup_target)}}else{this.mConfig.frame_block_list=[]}this.id=0;NetFunnel.TsClient._Objects[this.id]=this;NetFunnel.TsClient._Count=NetFunnel.TsClient._Count+1;if(c.onSuccess){this.addListener(this,"onSuccess",c.onSuccess)}if(c.onContinued){this.addListener(this,"onContinued",c.onContinued)}if(c.onBypass){this.addListener(this,"onBypass",c.onBypass)}if(c.onBlock){this.addListener(this,"onBlock",c.onBlock)}if(c.onIpBlock){this.addListener(this,"onIpBlock",c.onIpBlock)}if(c.onError){this.addListener(this,"onError",c.onError)}if(c.onStop){this.addListener(this,"onStop",c.onStop)}if(c.onExpressnumber){this.addListener(this,"onExpressnumber",c.onExpressnumber)}this.counter[NetFunnel.RTYPE_NONE]=0;this.counter[NetFunnel.RTYPE_GET_TID_CHK_ENTER]=0;this.counter[NetFunnel.RTYPE_GET_TID]=0;this.counter[NetFunnel.RTYPE_CHK_ENTER]=0;this.counter[NetFunnel.RTYPE_ALIVE_NOTICE]=0;this.counter[NetFunnel.RTYPE_SET_COMPLETE]=0;this.counter[NetFunnel.RTYPE_INIT]=0;this.counter[NetFunnel.RTYPE_STOP]=0;this.connTimeout=function d(f){if(this!=NetFunnel.gControl){return d.apply(NetFunnel.gControl,arguments)}if(NetFunnel.gAlreadyProc!=0){return false}this._resetScript();if(this.counter[this._mReqType]<this.mConfig.conn_retry){this._mStatus=NetFunnel.PS_TIMEOUT;this.counter[this._mReqType]+=1;switch(this._mReqType){case NetFunnel.RTYPE_GET_TID:this.getTicketID(this.user_id,this.user_tid,false);return true;break;case NetFunnel.RTYPE_CHK_ENTER:this.chkEnter(this.key,false);return true;break;case NetFunnel.RTYPE_GET_TID_CHK_ENTER:this.getTidChkEnter(this.user_id,this.user_tid,false);return true;break;case NetFunnel.RTYPE_ALIVE_NOTICE:this.aliveNotice(this.key,"","",false);return true;break;case NetFunnel.RTYPE_SET_COMPLETE:this.setComplete(this.key,"","",false);return true;break;default:}}NetFunnel.PopupUtil.hideWaitPopup();if(this._mReqType==NetFunnel.RTYPE_CHK_ENTER||this._mReqType==NetFunnel.RTYPE_GET_TID_CHK_ENTER){var e=new NetFunnel.Storage(2);e.setItem(this.mConfig.cookie_id,"5002:200:key="+NetFunnel.CONN_TIMEOUT_KEY,1,this.mConfig.cookie_domain)}if(NetFunnel.gAlreadyProc>=1){return false}this.fireEvent(null,this,"onError",{rtype:this._mReqType,code:NetFunnel.kErrorSockConnect,data:{msg:"Connection Timeout"},next:this.next.error});this._mStatus=NetFunnel.PS_ERROR;return true}};NetFunnel.TsClient._Count=0;NetFunnel.TsClient._Objects=new Object();NetFunnel.TsClient.prototype=new NetFunnel.Event();NetFunnel.TsClient.prototype._initDone=false;NetFunnel.TsClient.prototype.id=null;NetFunnel.TsClient.prototype.mConfig=null;NetFunnel.TsClient.prototype.key=null;NetFunnel.TsClient.prototype.script=null;NetFunnel.TsClient.prototype.alarm=null;NetFunnel.TsClient.prototype._mReqType=NetFunnel.RTYPE_NONE;NetFunnel.TsClient.prototype._mMousePos=0;NetFunnel.TsClient.prototype._mNoActTime=0;NetFunnel.TsClient.prototype._mStatus=NetFunnel.PS_N_RUNNING;NetFunnel.TsClient.prototype.counter=new Object();NetFunnel.TsClient.prototype.next={success:"",error:""};NetFunnel.TsClient.prototype.init=function(){this._nCount++;this._initDone=true};NetFunnel.TsClient.prototype.getConfig=function(a){return this.mConfig[a]};NetFunnel.TsClient.prototype._isNoAction=function(){if(this._mMousePos==NetFunnel.MouseX){return true}this._mMousePos=NetFunnel.MouseX;return false};NetFunnel.TsClient.prototype._resetAlarm=function(){if(this.alarm!=null){clearTimeout(this.alarm)}this.alarm=null};NetFunnel.TsClient.prototype._resetRetryTimer=function(){if(this.retryTimer!=null){clearTimeout(this.retryTimer)}this.retryTimer=null};NetFunnel.TsClient.prototype._resetScript=function(){try{if(this.script&&typeof this.script=="object"){var a=this.script.parentNode;if(a&&typeof a=="object"){a.removeChild(this.script)}}}catch(b){}this.script=null};NetFunnel.TsClient.prototype.getUserdata=function(){try{var userdata="";var uKey=this.mConfig.user_data_keys;if(typeof this.mConfig.user_data=="string"){return this.mConfig.user_data}if(Object.prototype.toString.call(uKey).slice(8,-1)!="Array"){return false}for(i=0;i<uKey.length;i++){var keydata=uKey[i];if(typeof keydata!="object"){continue}if(keydata.type=="v"){try{userdata=eval(keydata.key);if(userdata!=""){break}}catch(e){}}if(keydata.type=="c"){userdata=NetFunnel.Cookie.get(keydata.key);if(userdata!=""){break}}}return userdata}catch(e){return false}};NetFunnel.TsClient.prototype._showResult=function(){this._resetAlarm();if(NetFunnel.gAlreadyProc==1&&NetFunnel.gRtype==NetFunnel.RTYPE_GET_TID_CHK_ENTER){return}NetFunnel.gAlreadyProc=1;NetFunnel.PopupUtil.hideWaitPopup();this.retval=new NetFunnel.RetVal(this.result);if(this.retval.getReqType()==NetFunnel.RTYPE_GET_TID_CHK_ENTER){this.retval.setReqType(NetFunnel.RTYPE_CHK_ENTER)}if(NetFunnel.TS_DEBUG_MODE){NetFunnel.printDebugMsg("recv",this.result)}NetFunnel.ttl=0;this.counter[this._mReqType]=0;if(this.retval.getRetCode()==NetFunnel.kContinueDebug){NetFunnel.gDebugflag=true}else{NetFunnel.gDebugflag=false}switch(this.retval.getReqType()){case NetFunnel.RTYPE_GET_TID:this._showResultGetTicketID(this.retval);break;case NetFunnel.RTYPE_CHK_ENTER:this._showResultChkEnter(this.retval);break;case NetFunnel.RTYPE_ALIVE_NOTICE:this._showResultAliveNotice(this.retval);break;case NetFunnel.RTYPE_SET_COMPLETE:this._showResultSetComplete(this.retval);break;default:var a=new NetFunnel.Storage(2);a.removeItem(this.mConfig.cookie_id);this.fireEvent(null,this,"onError",{rtype:NetFunnel.RTYPE_NONE,code:this.retval.getRetCode(),data:this.retval.getParam(),next:this.next.error});this._mStatus=NetFunnel.PS_ERROR}};NetFunnel.TsClient.prototype._showResultGetTicketID=function(a){switch(a.getRetCode()){case NetFunnel.kSuccess:var b=new NetFunnel.Storage(2);b.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain);this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onSuccess",{rtype:a.getReqType(),code:a.getRetCode(),data:a.getParam(),next:this.next.success});break;default:var b=new NetFunnel.Storage(2);b.removeItem(this.mConfig.cookie_id);this._mStatus=NetFunnel.PS_ERROR;this.fireEvent(null,this,"onError",{rtype:a.getReqType(),code:a.getRetCode(),data:a.getParam(),next:this.next.error})}return};NetFunnel.TsClient.prototype._showResultChkEnter=function(b){switch(b.getRetCode()){case NetFunnel.kSuccess:var e=new NetFunnel.Storage(2);e.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain);this._mStatus=NetFunnel.PS_N_RUNNING;NetFunnel.gNWaitTemp=0;NetFunnel.gNWaitCount=0;this.fireEvent(null,this,"onSuccess",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.success});break;case NetFunnel.kContinueDebug:case NetFunnel.kContinue:this._mStatus=NetFunnel.PS_CONTINUE;var a=b.getNumber("ttl");if(a>this.mConfig.max_ttl){a=this.mConfig.max_ttl;b.setValue("ttl",a)}var d=b.getNumber("nwait");if(NetFunnel.TS_NWAIT_BYPASS){if(NetFunnel.gNWaitTemp==d){NetFunnel.gNWaitCount=NetFunnel.gNWaitCount+1}else{NetFunnel.gNWaitTemp=d;NetFunnel.gNWaitCount=0}if(NetFunnel.TS_MAX_NWAIT_COUNT<=NetFunnel.gNWaitCount){this.fireEvent(null,this,"onSuccess",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.success});break}}this.fireEvent(null,this,"onContinued",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.continued});NetFunnel.gAlreadyProc=0;if(a>0&&this._mStatus!=NetFunnel.PS_N_RUNNING){if(this.retryTimer){clearTimeout(this.retryTimer)}NetFunnel.ttl=a;var c=this;this.retryTimer=setTimeout(function(){c.chkEnterCont(c.retval.getValue("key"))},a*1000)}break;case NetFunnel.kTsBlock:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onBlock",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.block});if(this.retryTimer){clearTimeout(this.retryTimer)}NetFunnel.ttl=a;break;case NetFunnel.kTsIpBlock:this._mStatus=NetFunnel.PS_N_RUNNING;if(this.retryTimer){clearTimeout(this.retryTimer)}this.fireEvent(null,this,"onIpBlock",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.ipblock});NetFunnel.gAlreadyProc=0;if(this.mConfig.ipblock_wait_count>=NetFunnel.gIPBlockWaitCount+1){var c=this;NetFunnel.gReTimer=setTimeout(function(){c.getTidChkEnter("","","true")},this.mConfig.ipblock_wait_time)}else{var e=new NetFunnel.Storage(2);e.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain);this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onSuccess",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.success});break}if(this.mConfig.ipblock_wait_count!=0){NetFunnel.gIPBlockWaitCount=NetFunnel.gIPBlockWaitCount+1}break;case NetFunnel.kTsBypass:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onBypass",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.bypass});break;case NetFunnel.kTsExpressNumber:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onExpressnumber",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.expressnumber});break;default:var e=new NetFunnel.Storage(2);e.removeItem(this.mConfig.cookie_id);this._mStatus=NetFunnel.PS_ERROR;this.fireEvent(null,this,"onError",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.error})}return};NetFunnel.TsClient.prototype._showResultAliveNotice=function(b){switch(b.getRetCode()){case NetFunnel.kSuccess:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onSuccess",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.success});break;case NetFunnel.kContinueDebug:case NetFunnel.kContinue:this._mStatus=NetFunnel.PS_CONTINUE;if(this._mNoActTime>this.mConfig.no_action){this.fireEvent(null,this,"onError",{rtype:b.getReqType(),code:NetFunnel.kTsErrorNoUserAction,data:b.getParam(),next:this.next.error});this._mNoActTime=0;this._mStatus=NetFunnel.PS_ERROR;break}var a=b.getNumber("ttl");if(a>this.mConfig.max_ttl){a=this.mConfig.max_ttl;b.setValue("ttl",a)}this.fireEvent(null,this,"onContinued",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.continued});NetFunnel.gAlreadyProc=0;if(a>0&&this._mStatus!=NetFunnel.PS_N_RUNNING){if(this.retryTimer){clearTimeout(this.retryTimer)}if(this._isNoAction()){this._mNoActTime+=a}else{this._mNoActTime=0}var d=new NetFunnel.Storage(2);d.setItem(this.mConfig.cookie_id,this.result,this.mConfig.cookie_time,this.mConfig.cookie_domain);var c=this;this.retryTimer=setTimeout(function(){c.aliveNoticeCont(c.retval.getValue("key"),c.retval.getValue("ip"),c.retval.getValue("port"),c.retval.getValue("first"))},a*1000)}break;case NetFunnel.kTsBlock:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onBlock",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.block});break;case NetFunnel.kTsExpressNumber:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onExpressnumber",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.expressnumber});break;case NetFunnel.kTsBypass:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onBypass",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.bypass});break;case NetFunnel.kTsIpBlock:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onIpBlock",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.ipblock});break;default:if(b.getRetCode()==NetFunnel.kErrorExpiredTime){var d=new NetFunnel.Storage(2);d.removeItem(this.mConfig.cookie_id)}this._mStatus=NetFunnel.PS_ERROR;this.fireEvent(null,this,"onError",{rtype:b.getReqType(),code:b.getRetCode(),data:b.getParam(),next:this.next.error})}return};NetFunnel.TsClient.prototype._showResultSetComplete=function(a){var b=new NetFunnel.Storage(2);b.removeItem(this.mConfig.cookie_id);switch(a.getRetCode()){case NetFunnel.kSuccess:this._mStatus=NetFunnel.PS_N_RUNNING;this.fireEvent(null,this,"onSuccess",{rtype:a.getReqType(),code:a.getRetCode(),data:a.getParam(),next:this.next.success});break;default:this._mStatus=NetFunnel.PS_ERROR;this.fireEvent(null,this,"onError",{rtype:a.getReqType(),code:a.getRetCode(),data:a.getParam(),next:this.next.error})}return};NetFunnel.TsClient.prototype._connInit=function(b){this.result=null;this._mReqType=b;this._resetAlarm();this._resetScript();this._resetRetryTimer();var a=this;this.alarm=setTimeout(function(){a.connTimeout(0)},parseInt(this.mConfig.conn_timeout)*1000);if(!this.mConfig.host||this.mConfig.host==""){return false}if(!this.mConfig.port||this.mConfig.port==""){return false}if(!this.mConfig.query||this.mConfig.query==""){return false}if(!this.mConfig.service_id||this.mConfig.service_id==""){return false}if(!this.mConfig.action_id||this.mConfig.action_id==""){return false}this._mStatus=NetFunnel.PS_RUNNING;return true};NetFunnel.TsClient.prototype._sendRequest=function(a){this.script=document.createElement("script");this.script.src=a;var b=document.getElementsByTagName("head").item(0);if(NetFunnel.TS_DEBUG_MODE){NetFunnel.printDebugMsg("send",a)}b.appendChild(this.script);return true};NetFunnel.TsClient.prototype._sendError=function(c,a){var b="";switch(a){case NetFunnel.kErrorAlready:b="Already running";break;case NetFunnel.kErrorNoinit:b="Uninitialized object";break;case NetFunnel.kErrorSystem:default:b="System error"}this.fireEvent(null,this,"onError",{rtype:c,code:a,data:{msg:b},next:this.next.error})};NetFunnel.TsClient.prototype.setNext=function(a){if(typeof a=="object"){this.next=a}else{try{this.next.success=undefined;this.next.continued=undefined;this.next.bypass=undefined;this.next.expressnumber=undefined;this.next.block=undefined;this.next.ipblock=undefined;this.next.error=undefined;this.next.stop=undefined}catch(b){this.next.success=window.undefined;this.next.continued=window.undefined;this.next.bypass=window.undefined;this.next.expressnumber=window.undefined;this.next.block=window.undefined;this.next.ipblock=window.undefined;this.next.error=window.undefined;this.next.stop=window.undefined}}};NetFunnel.TsClient.prototype.sendStop=function(a){if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(a=="undefined"){a=true}if(a){this.counter[NetFunnel.RTYPE_STOP]=0}this._resetAlarm();this._resetRetryTimer();this._resetScript();this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});this._mStatus=NetFunnel.PS_N_RUNNING;return true};NetFunnel.TsClient.prototype.getTicketID=function(a,f,h){NetFunnel.gPrevWaitTime=-1;if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(this.mConfig.use_unfocus==true){NetFunnel.Util.delFocus(this.getConfig("popup_target"))}NetFunnel.gTotWait=-1;NetFunnel.retryData=null;var e=(this.mConfig.mp_use==true)?NetFunnel.MProtect():0;if(e!=0){this.fireEvent(null,this,"onContinued",{rtype:NetFunnel.RTYPE_CHK_ENTER,code:NetFunnel.kContinue,data:{tps:1,eps:2,nwait:(NetFunnel.gControl.getConfig("showcnt_limit")*2),mprotect:e,ttl:10}});if(this.retryTimer){clearTimeout(this.retryTimer)}NetFunnel.retryData={user_id:a,user_tid:f,first:h};var b=this;this.retryTimer=setTimeout(function(){b.retryFunction(NetFunnel.RTYPE_GET_TID)},this.mConfig.virt_wait);return false}if(h=="undefined"){h=true}if(h){this.counter[NetFunnel.RTYPE_GET_TID]=0}if(this._mStatus==NetFunnel.PS_RUNNING){this._sendError(NetFunnel.RTYPE_GET_TID,NetFunnel.kErrorAlready);return false}this.user_id=a;this.user_tid=f;var d=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_GET_TID+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_GET_TID+";";d+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id;var c=this.getUserdata();if(c!=""){d+="&user_data="+c}d+="&js=yes";var g=new Date();d+="&"+g.getTime();if(!this._connInit(NetFunnel.RTYPE_GET_TID)){this._sendError(NetFunnel.RTYPE_GET_TID,NetFunnel.kErrorNoinit);return false}this._sendRequest(d);return true};NetFunnel.TsClient.prototype.chkEnter=function(a,b){if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE){this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorAlready);return false}return this.chkEnterProc(a,b)};NetFunnel.TsClient.prototype.chkEnterCont=function(a,b){if(this._mStatus==NetFunnel.PS_RUNNING){this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorAlready);return false}return this.chkEnterProc(a,b)};NetFunnel.TsClient.prototype.chkEnterProc=function(d,g){if(g=="undefined"){g=true}if(g){this.counter[NetFunnel.RTYPE_CHK_ENTER]=0}if(!d||d==""){if(this.key){d=this.key}else{this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorParam);return false}}this.key=d;var f=this.retval.getValue("ip");if(this.mConfig.conn_retry>1&&this.counter[this._mReqType]==(this.mConfig.conn_retry)){f=this.mConfig.config_use}var a=this.retval.getValue("port");var c="";if(f&&f!=""&&a&&a!=""&&!this.mConfig.config_use){c=this.mConfig.proto+"://"+f+":"+a+"/"}else{c=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"}c=c+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_CHK_ENTER+"&key="+d+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_CHK_ENTER+";";if(NetFunnel.ttl>0){c=c+"&ttl="+NetFunnel.ttl}c+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id;var b=this.getUserdata();if(b!=""){c+="&user_data="+b}c+="&js=yes";var e=new Date();c+="&"+e.getTime();if(!this._connInit(NetFunnel.RTYPE_CHK_ENTER)){this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorNoinit);return false}this._sendRequest(c);return true};NetFunnel.retryData=null;NetFunnel.retryFunction=function(b){if(typeof NetFunnel.retryData=="object"){var a=NetFunnel.retryData;if(b==NetFunnel.RTYPE_GET_TID){NetFunnel.gControl.getTicketID(a.user_id,a.user_tid,a.first)}else{if(b==NetFunnel.RTYPE_GET_TID_CHK_ENTER){NetFunnel.gControl.getTidChkEnter(a.user_id,a.user_tid,a.first)}}}};NetFunnel.TsClient.prototype.getTidChkEnter=function(a,d,e){NetFunnel.gPrevWaitTime=-1;if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE){this._sendError(NetFunnel.RTYPE_CHK_ENTER,NetFunnel.kErrorAlready);return false}if(this.mConfig.use_unfocus==true){NetFunnel.Util.delFocus(this.getConfig("popup_target"))}NetFunnel.gTotWait=-1;NetFunnel.retryData=null;var c=(this.mConfig.mp_use==true)?NetFunnel.MProtect():0;if(c==0&&this.mConfig.show_wait_popup==false){if(this.getConfig("use_pre_wait")){NetFunnel.PopupUtil.showWaitPopup()}return(this.getTidChkEnterProc(a,d,e))}else{this.fireEvent(null,this,"onContinued",{rtype:NetFunnel.RTYPE_CHK_ENTER,code:NetFunnel.kContinue,data:{tps:1,eps:2,nwait:(NetFunnel.gControl.getConfig("showcnt_limit")*2),mprotect:c,ttl:10}});if(this.retryTimer){clearTimeout(this.retryTimer)}NetFunnel.retryData={user_id:a,user_tid:d,first:e};var b=this;this.retryTimer=setTimeout(function(){NetFunnel.retryFunction(NetFunnel.RTYPE_GET_TID_CHK_ENTER)},this.mConfig.virt_wait);return false}};NetFunnel.TsClient.prototype.getTidChkEnterProc=function(a,d,f){if(f=="undefined"){f=true}if(f){this.counter[NetFunnel.RTYPE_GET_TID_CHK_ENTER]=0}this.user_id=a;this.user_tid=d;var c=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_GET_TID_CHK_ENTER+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_GET_TID_CHK_ENTER+";";if(NetFunnel.ttl>0){c=c+"&ttl="+NetFunnel.ttl}c+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id;c+="&js=yes";var b=this.getUserdata();if(b!=""){c+="&user_data="+b}var e=new Date();c+="&"+e.getTime();if(!this._connInit(NetFunnel.RTYPE_GET_TID_CHK_ENTER)){this._sendError(NetFunnel.RTYPE_GET_TID_CHK_ENTER,NetFunnel.kErrorNoinit);return false}this._sendRequest(c);return true};NetFunnel.TsClient.prototype.aliveNoticeProc=function(d,g,a,f){if(f=="undefined"){f=true}if(f){this.counter[NetFunnel.RTYPE_ALIVE_NOTICE]=0}if(!d||d==""){if(this.key){d=this.key}else{this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorParam);return false}}this.key=d;this.ip=g;this.port=a;if(this.mConfig.conn_retry>1&&(this.counter[this._mReqType]==this.mConfig.conn_retry)){g=this.mConfig.config_use}var c="";if(g&&g!=""&&a&&a!=""&&!this.mConfig.config_use){this.ip=(this.mConfig._host_changed==false)?g:this.mConfig.host;this.port=(this.mConfig._port_changed==false)?a:this.mConfig.port;c=this.mConfig.proto+"://"+this.ip+":"+this.port+"/"}else{c=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"}c=c+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_ALIVE_NOTICE+"&key="+d+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_ALIVE_NOTICE+";";c+="&sid="+this.mConfig.service_id+"&aid="+this.mConfig.action_id;var b=this.getUserdata();if(b!=""){c+="&user_data="+b}c+="&js=yes";var e=new Date();c+="&"+e.getTime();if(!this._connInit(NetFunnel.RTYPE_ALIVE_NOTICE)){this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorNoinit);return false}this._sendRequest(c);return true};NetFunnel.TsClient.prototype.aliveNotice=function(b,d,a,c){if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE){this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorAlready);return false}return this.aliveNoticeProc(b,d,a,c)};NetFunnel.TsClient.prototype.aliveNoticeCont=function(b,d,a,c){if(this._mStatus==NetFunnel.PS_RUNNING){this._sendError(NetFunnel.RTYPE_ALIVE_NOTICE,NetFunnel.kErrorAlready);return false}return this.aliveNoticeProc(b,d,a,c)};NetFunnel.TsClient.prototype.setComplete=function(h,f,d,e){var j=new NetFunnel.Storage();j.setItemStorageOnly("NFMPT.reqCnt","0");if(NetFunnel.TS_BYPASS==true){this.fireEvent(null,this,"onSuccess",{rtype:this._mReqType,code:NetFunnel.kSuccess,data:{},next:this.next.success});return true}if(e=="undefined"){e=true}if(e){this.counter[NetFunnel.RTYPE_SET_COMPLETE]=0}if(this._mStatus==NetFunnel.PS_RUNNING){this._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorAlready);return false}if(!h||h==""){if(this.key){h=this.key}else{this._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorParam);return false}}this.key=h;this.ip=f;if(this.mConfig.conn_retry>1&&this.counter[this._mReqType]==(this.mConfig.conn_retry-1)){f=this.mConfig.config_use}this.port=d;if(h==NetFunnel.CONN_TIMEOUT_KEY){var b=new NetFunnel.RetVal(NetFunnel.RTYPE_SET_COMPLETE+":"+NetFunnel.kSuccess+":utime=1");this._showResultSetComplete(b);return true}var a="";if(f&&f!=""&&d&&d!=""&&!this.mConfig.config_use){this.ip=(this.mConfig._host_changed==false)?f:this.mConfig.host;this.port=(this.mConfig._port_changed==false)?d:this.mConfig.port;a=this.mConfig.proto+"://"+this.ip+":"+this.port+"/"}else{a=this.mConfig.proto+"://"+this.mConfig.host+":"+this.mConfig.port+"/"}a=a+this.mConfig.query+"?opcode="+NetFunnel.RTYPE_SET_COMPLETE+"&key="+h+"&nfid="+this.id+"&prefix=NetFunnel.gRtype="+NetFunnel.RTYPE_SET_COMPLETE+";";var g=this.getUserdata();if(g!=""){a+="&user_data="+g}a+="&js=yes";var c=new Date();a+="&"+c.getTime();if(!this._connInit(NetFunnel.RTYPE_SET_COMPLETE)){this._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorNoinit);return false}this._sendRequest(a);return true};NetFunnel.TsClient.prototype.cookieExist=function(){var d=new NetFunnel.Storage(2);var a=d.getItem(this.mConfig.cookie_id);if(a==false||a==""){return false}var b=new NetFunnel.RetVal(a);var c=b.getValue("key");if(!c){d.removeItem(this.mConfig.cookie_id);return false}return true};NetFunnel.TsClient.prototype.isRunning=function(){if(this._mStatus==NetFunnel.PS_RUNNING||this._mStatus==NetFunnel.PS_CONTINUE){return true}return false};function NetFunnel_init(c,a,b){if(NetFunnel.gControl){NetFunnel.gControl._resetScript();NetFunnel.gControl=null}if(typeof b=="undefined"){b=NetFunnel.DefaultCallback}else{if(!b.onSuccess){b.onSuccess=NetFunnel.DefaultCallback.onSuccess}if(!b.onContinued){b.onContinued=NetFunnel.DefaultCallback.onContinued}if(!b.onError){b.onError=NetFunnel.DefaultCallback.onError}if(!b.onStop){b.onStop=NetFunnel.DefaultCallback.onStop}if(!b.onBypass){b.onBypass=NetFunnel.DefaultCallback.onBypass}if(!b.onBlock){b.onBlock=NetFunnel.DefaultCallback.onBlock}if(!b.onExpressnumber){b.onExpressnumber=NetFunnel.DefaultCallback.onExpressnumber}if(!b.onIpBlock){b.onIpBlock=NetFunnel.DefaultCallback.onIpBlock}}NetFunnel.gControl=new NetFunnel.TsClient(a,b);return true}function NetFunnel_sendStop(a){try{if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;NetFunnel.gControl.setNext(a);NetFunnel.gControl.sendStop();return true}catch(b){return false}}function NetFunnel_getTicketID(c,a,b){if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;NetFunnel.gControl.setNext(c);NetFunnel.gControl.getTicketID(a,b);return true}function NetFunnel_chkEnter(d){if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;var c;if(typeof data!="undefined"&&data.constructor==Object){c=data.key;if(!c){return false}}else{var e=new NetFunnel.Storage(2);var a=e.getItem(NetFunnel.gControl.mConfig.cookie_id);if(a==null||a==""){return false}var b=new NetFunnel.RetVal(a);c=b.getValue("key");if(!c){var e=new NetFunnel.Storage(2);e.removeItem(this.mConfig.cookie_id);return false}}NetFunnel.gControl.setNext(d);NetFunnel.gControl.chkEnter(c);return true}function NetFunnel_getTidChkEnter(c,a,b){if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;NetFunnel.gControl.setNext(c);NetFunnel.gControl.getTidChkEnter(a,b);return true}function NetFunnel_aliveNotice(f,e){try{if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;var h="";var g="";var b="";if(typeof e!="undefined"&&e.constructor==Object){h=e.key;if(!h){return false}g=e.ip;b=e.port}else{var d=new NetFunnel.Storage(2);var j=d.getItem(NetFunnel.gControl.mConfig.cookie_id);if(j==null||j==""){return false}var a=new NetFunnel.RetVal(j);h=a.getValue("key");if(!h){d.removeItem(this.mConfig.cookie_id);return false}g=a.getValue("ip");b=a.getValue("port")}NetFunnel.gControl.setNext(f);NetFunnel.gControl.aliveNotice(h,g,b);return true}catch(c){return false}}function NetFunnel_setComplete(e,f){if(!NetFunnel.gControl){NetFunnel_init()}NetFunnel.gAlreadyProc=0;NetFunnel.gControl.setNext(e);var d="";var h="";var c="";if(typeof f!="undefined"&&f.constructor==Object){d=f.key;if(!d){NetFunnel.gControl._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorSystem);return false}h=f.ip;c=f.port}else{var g=new NetFunnel.Storage(2);var a=g.getItem(NetFunnel.gControl.mConfig.cookie_id);if(a==null||a==""){NetFunnel.gControl._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorSystem);return false}else{var b=new NetFunnel.RetVal(a);d=b.getValue("key");if(!d){var g=new NetFunnel.Storage(2);g.removeItem(this.mConfig.cookie_id);NetFunnel.gControl._sendError(NetFunnel.RTYPE_SET_COMPLETE,NetFunnel.kErrorSystem);return false}h=b.getValue("ip");c=b.getValue("port")}}NetFunnel.gControl.setComplete(d,h,c);return true}function NetFunnel_cookieExist(){if(!NetFunnel.gControl){return false}return NetFunnel.gControl.cookieExist()}function NetFunnel_isRunning(){if(!NetFunnel.gControl){return false}return NetFunnel.gControl.isRunning()}function NetFunnel_goForm(d,c,a){var e=null;if(typeof c=="string"){e=document.getElementById(c);if(typeof e!="object"||e==null){var b=document.getElementsByName(c);e=b[0];if(typeof e!="object"||e==null){alert("[NetFUNNEL] Invalid input form");return false}}}else{if(typeof c=="object"){e=c}else{alert("[NetFUNNEL] Invalid input form");return false}}if(typeof a!="function"){a=function(g,f){return false}}NetFunnel_init(null,d);NetFunnel_getTidChkEnter({success:function(g,f){if(e!=null){e.submit()}},error:function(g,f){if(e!=null){e.submit()}},bypass:function(g,f){if(e!=null){e.submit()}},stop:a});return false}function NetFunnel_goUrl(c,a,b){if(typeof a!="string"){alert("[NetFUNNEL] Invalid input url");return false}if(typeof b!="function"){b=function(e,d){return false}}NetFunnel_init(null,c);NetFunnel_getTidChkEnter({success:a,error:a,bypass:a,stop:b});return false}function NetFunnel_goFunc(c,b,a){if(typeof b!="function"){alert("[NetFUNNEL] Invalid input function");return false}if(typeof a!="function"){a=function(e,d){return false}}NetFunnel_init(null,c);NetFunnel_getTidChkEnter({success:b,error:b,bypass:b,stop:a});return false}function NetFunnel_goComplete(b,a){if(typeof a!="function"){a=function(d,c){return false}}NetFunnel_init(null,b);NetFunnel_setComplete({success:a,error:a,bypass:a});return false}function NetFunnel_goAliveNotice(b,a){if(typeof a!="function"){a=function(d,c){return false}}NetFunnel_init(null,b);NetFunnel_aliveNotice({success:a,error:a,bypass:a});return false}function NetFunnel_Action(f,d){var k=null;var l=d.success;var b=d.continued;var j=d.stop;var h=d.error;var e=d.bypass;var c=d.block;var g=d.ipblock;var a=d.expressnumber;if(typeof d.success=="undefined"){l=d}if(typeof l=="object"){k=l}if(typeof j=="undefined"){j=function(n,m){return false}}if(typeof h=="undefined"){h=l}if(typeof e=="undefined"){e=l}if(typeof a=="undefined"){a=l}NetFunnel_init(null,f);if(k==null){NetFunnel_getTidChkEnter({success:l,error:h,stop:j,bypass:e,block:c,ipblock:g,expressnumber:a,continued:b})}else{NetFunnel_getTidChkEnter({success:function(n,m){if(k!=null){k.submit()}},error:function(n,m){if(k!=null){k.submit()}},bypass:function(n,m){if(k!=null){k.submit()}},expressnumber:function(n,m){if(k!=null){k.submit()}},stop:j,block:c,ipblock:g,continued:b})}return false}function NetFunnel_Complete(b,a){if(typeof a!="function"){a=function(d,c){return false}}NetFunnel_init(null,b);NetFunnel_setComplete({success:a,error:a,bypass:a});return false}function NetFunnel_AliveNotice(f,c){NetFunnel_init(null,f);if(typeof c=="function"){NetFunnel_aliveNotice({success:c,error:c,bypass:c,continued:c})}else{if(typeof c=="object"){var k=c.success;var b=c.continued;var j=c.stop;var h=c.error;var e=c.bypass;var d=c.block;var g=c.ipblock;var a=c.expressnumber;NetFunnel_aliveNotice({success:k,error:h,stop:j,bypass:e,block:d,ipblock:g,expressnumber:a,continued:b})}else{c=function(m,l){return false};NetFunnel_aliveNotice({success:c,error:c,bypass:c,continued:c})}}return false}function DefaultCallback_onSuccess(e,b,f){if(navigator.userAgent.toLowerCase().indexOf("chrome")>0){if(NetFunnel.gPop){var d=f.getConfig("popup_target").document;var c=document.createElement("IMG");c.src="data:image/gif;base64,"+NetFunnel.gFixelData;c.style.position="absolute";c.style.top="-10px";c.style.left="-10px";c.style.display="none";c.onload=function(){b.next(e,b);var g=d.getElementsByTagName("body")[0];g.removeChild(c)};var a=d.getElementsByTagName("body")[0];a.appendChild(c)}else{b.next(e,b)}}else{b.next(e,b)}return false}if(NetFunnel.TS_AUTO_COMPLETE==true){NetFunnel_Complete()};

// Skin - BASE
NetFunnel.SkinUtil.add('order',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/netfunnel_order.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#0535c7; font-weight:bold;">주문 대기 중...</h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">상품 주문은 결제완료 기준입니다. 지정된 인원의 결제가 마감될 경우 다음 단계에서 결재가 진행되지 않습니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('event',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/event.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#FFFFFF; font-weight:bold;">접속 대기 중...\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">선착순으로 진행 됩니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('nike',{
	htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/1008_nikeRun.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
			<h2 style="visibility:hidden; font-size:0;">2013 NIKE WE RUN SEOUL 10K</h2> \
			<h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#0535c7; font-weight:bold;">접속 대기 중...</h3> \
			<ul style="margin:3px 0 0 42px;">\
				<li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
				<li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
			</ul>\
			<p style="visibility:hidden; font-size:0;">참가접수는 결제완료 기준입니다. 지정된 인원의 결제가 마감될 경우 다음 단계에서 결재가 진행되지 않습니다.</p>\
		</div>'
},'normal');

NetFunnel.SkinUtil.add('newbalnace',{
	htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/2016_nbRunOn.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
			<h2 style="visibility:hidden; font-size:0;">NB RUN ON SEOUL</h2> \
			<h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#0535c7; font-weight:bold;">접속 대기 중...</h3> \
			<ul style="margin:3px 0 0 42px;">\
				<li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
				<li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
			</ul>\
			<p style="visibility:hidden; font-size:0;">참가접수는 결제완료 기준입니다. 지정된 인원의 결제가 마감될 경우 다음 단계에서 결재가 진행되지 않습니다.</p>\
		</div>'
},'normal');

NetFunnel.SkinUtil.add('highone',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/2017_highone.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">HIGHONE RESORT SEASON LOCKER</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#0535c7; font-weight:bold;">접속 대기 중...</h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">접수는 결제완료 기준입니다. 지정된 인원의 결제가 마감될 경우 다음 단계에서 결재가 진행되지 않습니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('event_mileage_gift',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/event_mileage_gift.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#0535c7; font-weight:bold;">접속 대기 중...</h3> \
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
					<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">경품 교환은 참여 순서에 맞춰 진행 됩니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('event_coupon',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/event_coupon.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#FFFFFF; font-weight:bold;">접속 대기 중...\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">쿠폰 다운로드는 선착순으로 진행 됩니다.</p>\
           </div>'
},'normal');

//Skin - event TMP
NetFunnel.SkinUtil.add('miracle',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/event.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#FFFFFF; font-weight:bold;">접속 대기 중...\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">선착순으로 진행 됩니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('event_buy',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/pop_buy.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#FFFFFF; font-weight:bold;">접속 대기 중...\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">상품구매는 선착순으로 진행 됩니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('event_point',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/pop_point.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#FFFFFF; font-weight:bold;">접속 대기 중...\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">상품구매는 선착순으로 진행 됩니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('event_free',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/pop_free.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#FFFFFF; font-weight:bold;">접속 대기 중...\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">상품구매는 선착순으로 진행 됩니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('event_common_cupn',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/CupnPop.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#FFFFFF; font-weight:bold;">접속 대기 중...\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">쿠폰은 선착순으로 진행 됩니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('event_common_prd',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/PrdPop.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#FFFFFF; font-weight:bold;">접속 대기 중...\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">상품은 선착순으로 진행 됩니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('event_common_free',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/FreeCupnPop.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#FFFFFF; font-weight:bold;">접속 대기 중...\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">무료배송쿠폰은 선착순으로 진행 됩니다.</p>\
           </div>'
},'normal');

NetFunnel.SkinUtil.add('event_common_benefit',{
    htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/benefitPop.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
                   <h2 style="visibility:hidden; font-size:0;">11ST</h2> \
                   <h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#FFFFFF; font-weight:bold;">접속 대기 중...\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\
    				<span onclick="NetFunnel.countdown_stop()" style="cursor:pointer">[중지]</span></h3> \
                   <ul style="margin:3px 0 0 42px;">\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
                           <li style="font-size:11px; font-family:Dotum, Gulim; color:#FFFFFF; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                   </ul>\
                   <p style="visibility:hidden; font-size:0;">혜택은 선착순으로 진행 됩니다.</p>\
           </div>'
},'normal');


NetFunnel.SkinUtil.add('adidas',{
	htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/adidas_net.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
			<h2 style="visibility:hidden; font-size:0;">2014 ADIDAS</h2> \
			<h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#0535c7; font-weight:bold;">접속 대기 중...</h3> \
			<ul style="margin:3px 0 0 42px;">\
				<li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
				<li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
			</ul>\
			<p style="visibility:hidden; font-size:0;">참가접수는 결제완료 기준입니다. 지정된 인원의 결제가 마감될 경우 다음 단계에서 결재가 진행되지 않습니다.</p>\
		</div>'
},'normal');


NetFunnel.SkinUtil.add('electric',{
	htmlStr:'<div style="width:370px; height:210px; background:url(\'' + NetFunnel.TS_PROTO + '://www.11st.co.kr/js/lib/qos/img/electric_net.jpg\') no-repeat; " id="NetFunnel_Skin_Top"> \
			<h2 style="visibility:hidden; font-size:0;">2014 ELECTRIC</h2> \
			<h3 style="margin:64px 0 0 42px; font-size:12px; font-family:Dotum, Gulim; color:#0535c7; font-weight:bold;">접속 대기 중...</h3> \
			<ul style="margin:3px 0 0 42px;">\
				<li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span> 명</li>\
				<li style="font-size:11px; font-family:Dotum, Gulim; color:#2e3880; line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
			</ul>\
			<p style="visibility:hidden; font-size:0;">잠시만 대기 해주세요. 참가 대회 정보 입력은 9/19까지 꼭 완료 해주셔야 합니다.</p>\
		</div>'
},'normal');

NetFunnel.SkinUtil.add('order_tmembership',{
	htmlStr:'<div style="width:368px;height:210px;border:1px solid #333;background:#fff;" id="NetFunnel_Skin_Top">  \
			<h2 style="visibility:hidden;margin:0;padding:0;font-size:0;">접속대기중</h2> \
			<p style="margin:0;padding-top:20px;text-align:center;"><img src="' + NetFunnel.TS_PROTO + '://buy.11st.co.kr/js/lib/qos/img/text_waiting.gif" alt="잠시만 기다려주세요!"></p>\
			<div style="margin:15px 19px 0;padding:10px 10px 10px 22px;background:#efefef;">\
				<p style="overflow:hidden;margin:0;"><em style="float:left;padding-top:5px;color:#111;font-style:normal;font-size:12px;font-weight:bold;">접속대기중...</em> \
				<button type="button" style="float:right;border:0 none;background:none;font-size:12px;text-decoration:underline;" onclick="NetFunnel.countdown_stop()">중지</button></p>\
				<ul style="margin:8px 0 0;padding:0;list-style:none;">\
					<li style="font-size:11px;font-family:Dotum, Gulim; color:#333;line-height:16px;">- 대기자수: <span id="NetFunnel_Loading_Popup_Count"></span>명</li>\
                	<li style="font-size:11px;font-family:Dotum, Gulim; color:#333;line-height:16px;">- 대기시간: <span id="NetFunnel_Loading_Popup_TimeLeft"></span></li>\
                </ul>\
			</div>\
	        <p style="padding-top:10px;color:#666;font-size:12px;text-align:center;">고객님의 접속 증가로 조회가 지연되고 있습니다.<br>잠시만 기다려 주시면 조회가 가능합니다.</p>\
			</div>'
},'normal');