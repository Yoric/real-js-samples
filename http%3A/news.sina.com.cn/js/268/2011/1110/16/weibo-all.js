!function(e,t){var i=t.Event,n=t.DOM,o=t.extend,r=t.isNumber,s=t.isFunction,a=t.isString,l=t.isElement,c=t.isObject,d=t.arrayify,u=t.trim,f=n.addClass,h=function(){},g=t.UA.ie,p=e.document,m=t.query,_=function(e,t){var i=m(e,t);if(i&&i.length){return i[0]}return null},v=function(e){var t=e.cloneNode(true);if(ie<8){t.innerHTML=e.innerHTML}return t},w=function(e,t){var i=t.createElement("div");i.innerHTML=e;return i},b=function(e,t){if(e&&e.length){var i=null,n=0,o=e.length;t=t||e[0].ownerDocument;i=t.createDocumentFragment();if(e.item){e=d(e)}for(n=0,len=e.length;n<len;n++){i.appendChild(e[n])}return i}return null},y=function(e,t){if(typeof e==="string"&&(e=u(e))){var i=null,n,o=w;t=t||p;n=o(e,t).childNodes;if(n.length===1){i=n[0].parentNode.removeChild(n[0])}else{i=b(n,t)}return i}return null},T=g&&g<9?function(e,t){e.insertBefore(t,e.firstChild)}:function(e,t){e.appendChild(t)},E=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function i(){}i.prototype=e;var n=new i;n.constructor=t;return n},L=function(e,t,i,n){if(!t||!e){return e}var r=t.prototype,s,a,l;s=E(r,e);e.prototype=o(s,e.prototype,true);e.superclass=E(r,t);if(i){o(s,i,true)}if(n){o(e,n,true)}return e},x="_sinaguid_"+(new Date).getTime(),M={},C=function(e){if(!a(e)){e=""}var t="counter"+e;if(!M[t]){M[t]=0}M[t]++;return e+M[t]},D=function(e,t){var i=null;if(e){i=typeof e==="string"?e:e[x];if(!i&&!t){try{e[x]=i=C()}catch(n){}}i=i||null}return i},N={},O={INIT:"init",INIT_END:"initend",RENDER:"render",RENDER_END:"renderend",DESTROY:"destroy",DESTROY_END:"destroyend"},k={render:null,source:null,width:"",height:""};function I(e){this.init.apply(this,arguments);var t=e&&e.render;if(t){if(t!==true){this.render(t)}else{this.render()}}}o(I.prototype,{WRAPPER_TAG:"div",CONTENT_TAG:"div",CSS_PREFIX:"sina-",_initialized:false,_destroyed:false,_rendered:false,init:function(e){e=e||{};this.trigger(O.INIT,{config:e});this._initAll(e);this._initialized=true;this.trigger(O.INIT_END)},destroy:function(){this.trigger(O.DESTROY);this._destroyAll();this.removeListener();this._destroyed=true;this.trigger(O.DESTROY_END)},_initAll:function(){if(!this._initialized){var e,t,i=this._inheritanceChain(),n;for(n=i.length-1;n>=0;n--){e=i[n];t=e.prototype;if(t.hasOwnProperty("initializer")){t.initializer.apply(this,arguments)}}}},_destroyAll:function(){if(!this._destroyed){var e,t,i=this._inheritanceChain(),n,o;for(n=0,o=i.length;n<o;n++){e=i[n];t=e.prototype;if(t.hasOwnProperty("destructor")){t.destructor.apply(this,arguments)}}}},initializer:function(e){var t=e.source;if(l(t)){this.contentBox=t}else if(a(t)){this.contentBox=_(t)}else{this.contentBox=null}this._width=e.width||"";this._height=e.height||""},destructor:function(){},render:function(e){this.trigger(O.RENDER,{container:e});if(a(e)){e=_(e)}else if(!l(e)){e=null}var t=e,i,n=this.contentBox,o=!n,r=p,s=this.constructor,c=this.WRAPPER_TAG,d=this.CONTENT_TAG;if(D(n,true)){return}D(n);this.elements={};this.wrapperBox=i=r.createElement(c);if(o){this.contentBox=n=r.createElement(d);i.appendChild(n)}else{n.parentNode.insertBefore(i,n);i.appendChild(n);this.queryElements()}if(t){if(t!==i.parentNode){T(t,i)}}else{if(o){t=p.body;T(t,i)}}this._renderAll();this._rendered=true;this.trigger(O.RENDER_END)},_renderAll:function(){if(this._initialized&&!this._rendered){var e,t,i=this._inheritanceChain(),n,o=this.CSS_PREFIX||"",r="",s=this.wrapperBox,a=this.contentBox;for(n=i.length-1;n>=0;n--){e=i[n];r=o+e.NAME;t=e.prototype;if(t.hasOwnProperty("renderer")){t.renderer.apply(this,arguments)}f(s,r)}f(a,r+"-content")}},renderer:function(){var e=this.wrapperBox,t=this.contentBox,i=this._width,n=this._height;if(!e||!t){return}if(r(i)){e.style.width=i+"px"}else if(a(i)){e.style.width=i}if(r(n)){e.style.height=n+"px"}else if(a(n)){e.style.height=n}},queryElements:function(){var e=this._getQueries(),t,i,n=this.contentBox,o=this.elements;for(t in e){i=_(e[t],n);if(i){o[t]=i}}},_getQueries:function(){var e={},t=this._inheritanceChain(),i,n;for(i=t.length-1;i>=0;i--){n=t[i]._queries;if(n){o(e,n,true)}}return e},_inheritanceChain:function(){if(!this.__chain){var e=[],t=this.constructor;while(t){e.push(t);t=t.superclass&&t.superclass.constructor}this.__chain=e}return this.__chain}});t.makeTarget(I);o(I,{NAME:"widget",guid:C,stamp:D});t.Widget=I;t.createWidget=function(e,t,i){if(!s(e)){i=t;t=e;e=I}i=i||{};t=t||{};var n=function(){n.superclass.constructor.apply(this,arguments)};L(n,e,t,i);return n}}(window,SINA);!function(e,t){if(e.Weibo&&e.Weibo.VERSION){return}var i=t.Widget,n=t.createWidget,o={VERSION:"0.1",guid:i.guid,stamp:i.stamp,config:function(e){},createWidget:n,Classes:{},Widgets:{}};e.Weibo=o}(window,SINA);!function(e,t){var i=e.Weibo,n=t.arrayify,o=t.trim,r=t.isNumber,s=t.isArray,a=t.isElement,l=t.DOM,c=l.next,d=l.attr,u=e.document,f=function(e){var t=e.cloneNode(true);return t},h=function(e,t){var i=t.createElement("div");i.innerHTML=e;return i},g=function(e,t){if(e&&e.length){var i=null,o=0,r=e.length;t=t||e[0].ownerDocument;i=t.createDocumentFragment();if(e.item){e=n(e)}for(o=0,len=e.length;o<len;o++){i.appendChild(e[o])}return i}return null},p=function(e,t){if(typeof e==="string"&&(e=o(e))){var i=null,n,r=h;t=t||u;n=r(e,t).childNodes;if(n.length===1){i=n[0].parentNode.removeChild(n[0])}else{i=g(n,t)}return i}return null},m=function(e){var t=e.offsetParent,i=e.offsetLeft,n=0,o=u.body;while(t){i+=t.offsetLeft;t=t.offsetParent}t=e.parentNode;while(t&&t!==o){n+=t.scrollLeft;t=t.parentNode}return i-n},_=function(e){var t=e.offsetParent,i=e.offsetTop,n=0,o=u.body;while(t){i+=t.offsetTop;t=t.offsetParent}t=e.parentNode;while(t&&t!==o){n+=t.scrollTop;t=t.parentNode}return i-n},v=function(){var e=!!u.selection,t,i,n,o;if(e){t=function(e){e.focus();var t={text:"",start:0,end:0},i=0,n=u.selection.createRange(),o=u.body.createTextRange();o.moveToElementText(e);t.text=n.text;t.bookmark=n.getBookmark();for(;o.compareEndPoints("StartToStart",n)<0&&n.moveStart("character",-1)!==0;i++){if(e.value.charAt(i)=="\n"){i++}}t.start=i;t.end=t.text.length+t.start;return t};i=function(e,t){if(!t){this.toHead()}var i=e.createTextRange();if(e.value.length===t.start){i.collapse(false);i.select()}else{i.moveToBookmark(t.bookmark);i.select()}};n=function(e,t,i){var n;this.setPosition(e,t);n=u.selection.createRange();n.text=i;n.setEndPoint("StartToEnd",n);n.select()};o=function(e,t){var i=e.createTextRange();i.collapse(true);i.moveEnd("character",t);i.moveStart("character",t);i.select()}}else{t=function(e){e.focus();var t={text:"",start:0,end:0};t.start=e.selectionStart;t.end=e.selectionEnd;t.text=t.start!==t.end?e.value.substring(t.start,t.end):"";return t};i=function(e,t){if(!t){this.toHead(e);return}e.focus();e.setSelectionRange(t.start,t.end)};n=function(e,t,i){var n,o,r,s,a;this.setPosition(e,t);n=e.value;o=n.substring(0,t.start)+i+n.substring(t.end);r=s=t.start+i.length;a=e.scrollTop;e.value=o;if(e.scrollTop!=a){e.scrollTop=a}e.setSelectionRange(r,s)};o=function(e,t){e.focus();setTimeout(function(){e.setSelectionRange(t,t)},0)}}return{getPosition:t,setPosition:i,setText:n,moveTo:o,toHead:function(e){this.moveTo(e,0)},toTail:function(e){this.moveTo(e,e.value.length)}}}(),w=function(){var e=function(){var e=u.createElement("canvas");return"getContext"in e}(),t=1,i=2,n=440,o=Math.PI/2,r=[{M11:1,M12:0,M21:0,M22:1},{M11:0,M12:-1,M21:1,M22:0},{M11:-1,M12:0,M21:0,M22:-1},{M11:0,M12:1,M21:-1,M22:0}],s=function(e,r){if(!e){return}var s=e._angle||0,a=0,l=e.width,d=e.height,u=1,f=c(e),h,g;if(!f){f=p('<canvas class="'+(e.className||"")+'" style="display:none;"></canvas>');e.parentNode.insertBefore(f,null)}switch(r){case t:a=(s+3)%4;break;case i:a=(s+1)%4;break;default:if(s===0){return}break}h=f.getContext("2d");if(a===1||a===3){if(d>n){f.width=n;g=f.height=n/d*l;h.save();h.rotate(a*o);if(a===3){h.drawImage(e,-g,0,g,n)}else{h.drawImage(e,0,-n,g,n)}h.restore()}else{f.width=d;f.height=l;h.save();h.rotate(a*o);if(a===3){h.drawImage(e,-l,0)}else{h.drawImage(e,0,-d)}h.restore()}}else{f.width=l;f.height=d;h.save();h.rotate(a*o);if(a===2){h.drawImage(e,-l,-d)}else{h.drawImage(e,0,0)}h.restore()}e.style.display="none";f.style.display="inline";e._angle=a},a="DXImageTransform.Microsoft.Matrix",l=function(e,o){if(!e){return}var s=e._angle||0,l=0,c=e.width,d=e.height,u,f,h=1,g="auto";switch(o){case t:l=(s+3)%4;break;case i:l=(s+1)%4;break;default:if(s===0){return}break}try{u=e.filters.item(a)}catch(p){e.style.filter="progid:"+a+'(SizingMethod="auto expand")';u=e.filters.item(a)}f=r[l];if(l===1||l===3){if(d>n){h=n/d}e.parentNode.style.height=h*c+"px"}else{e.parentNode.style.height=d+"px"}u.M11=h*f.M11;u.M12=h*f.M12;u.M21=h*f.M21;u.M22=h*f.M22;e._angle=l};return{TURN_LEFT:t,TURN_RIGHT:i,MAX_IMG_WIDTH:n,DEG_90:o,ROTATE_MATRIX:r,mode:e?"canvas":"filter",rotateCanvas:s,rotateFilter:l,rotate90:e?s:l}}(),b=function(){function e(e){if(!e){return-1}var t=e.slice(0,10)+e.slice(25)+e.slice(10,25);return Date.parse(t)||-1}function t(){var e=new Date,t=e.getFullYear(),i=e.getMonth(),n=e.getDate(),o=new Date(t,i,n),r=new Date(t,0,1);return{now:e.getTime(),today:o.getTime(),thisYear:r.getTime()}}var i=t(),n=i.now,o=i.today,r=i.thisYear;return{getCurrent:t,timestamp:e,update:function(){var e=t();n=e.now;o=e.today;r=e.thisYear},displayString:function(e){e=parseInt(e,10)||0;if(!e){return"\u672A\u77E5\u65F6\u95F4"}var t=Math.floor((n-e)/1e3),i="",s;if(t<=10){i="10\u79D2\u524D"}else if(t<=50){i=Math.ceil(t/10)*10+"\u79D2\u524D"}else if(t<=3600){i=Math.round(t/60)+"\u5206\u949F\u524D"}else if(e>o&&n-36e5>o){i="\u4ECA\u5929 "+new Date(e).toTimeString().substr(0,5)}else if(e>r){s=new Date(e);i=s.getMonth()+1+"\u6708"+s.getDate()+"\u65E5"+" "+s.toTimeString().substr(0,5)}else{s=new Date(e);i=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()+" "+s.toTimeString().substr(0,5)}return i}}}(),y=function(e){var t=e.charAt(0);if(t==="#"){return'<a class="weibo-link-topic" href="http://weibo.com/k/'+encodeURIComponent(e.slice(1,-1))+'" target="_blank">'+e+"</a>"}else if(t==="@"){t=e.slice(5,7);if(t===":/"||t==="s:"){e=e.slice(1);return'@<a class="weibo-link-url" href="'+e+'" target="_blank">'+e+"</a>"}else{return'<a class="weibo-user" href="http://weibo.com/n/'+encodeURIComponent(e.slice(1))+'" target="_blank">'+e+"</a>"}}else if(t==="["){return'<span class="weibo-emoticon">'+e+"</span>"}else{return'<a class="weibo-link-url" href="'+e+'"  target="_blank">'+e+"</a>"}},T=/(?:#[^#]*#|@?http\s?\:\/\/[\w\.\/\-\%\?&\+]{4,}|\@[\w\-\u4e00-\u9fa5]+|\[[^\[\]]+\])/gi,E=function(e){return e.replace(T,y)},L={Textarea:v,Image:w,Time:b,cloneNode:f,createFromString:p,pageX:m,pageY:_,customAttr:function(e,t,i){if(!a(e)){return}var n=e.dataset,o;if(n){if(i!==undefined){n[t]=i}else{return n[t]}}else{return d(e,"data-"+t,i)}},updateWordCount:function(e,t,i){if(!e||!t){return}i=i||0;var n=e.value||"",o=/[^x00-xff]/g,r=Math.round(n.replace(o,"aa").length/2),s=140,a;if(r+i<=s){a=s-r-i;t.innerHTML="\u4F60\u8FD8\u53EF\u4EE5\u8F93\u5165<em>"+a+"</em>\u5B57"}else{a=r-s+i;t.innerHTML='<span style="color:red">\u5DF2\u7ECF\u8D85\u51FA'+"<em>"+a+"</em>\u5B57</span>"}},replaceStatusText:E,htmlEncode:function(e){if(!e){return e}e=e+"";return e.replace(/&|<|>|\'|\"/g,function(e){switch(e){case"&":e="&amp;";break;case"<":e="&lt;";break;case">":e="&gt;";break;case"'":e="&#39;";break;case'"':e="&quot;";break;default:break}return e})},broadcastList:{},broadcast:function(e,t){var i=this.broadcastList.bcName,n;if(i){n=i.length;for(var o=0;o<n;o++){i[o](t)}}},addBroadcast:function(e,t){if(this.broadcastList.bcName){this.broadcastList.bcName.push(t)}else{this.broadcastList.bcName=[t]}}};i.Utils=L}(window,SINA);!function(e,t){var i=e.Weibo,n=t.extend,o=t.arrayify,r=t.trim,s=!!e.postMessage,a=false,l=location.host,c=function(e){e=e||"";var t=(Math.random()+"").slice(2),i=(new Date).getTime();return""+e+i+t},d=e.document,u=function(e){var t=e.cloneNode(true);if(ie<8){t.innerHTML=e.innerHTML}return t},f=function(e,t){var i=t.createElement("div");i.innerHTML=e;return i},h=function(e,t){if(e&&e.length){var i=null,n=0,r=e.length;t=t||e[0].ownerDocument;i=t.createDocumentFragment();if(e.item){e=o(e)}for(n=0,len=e.length;n<len;n++){i.appendChild(e[n])}return i}return null},g=function(e,t){if(typeof e==="string"&&(e=r(e))){var i=null,n,o=f;t=t||d;n=o(e,t).childNodes;if(n.length===1){i=n[0].parentNode.removeChild(n[0])}else{i=h(n,t)}return i}return null},p=function(){if(!a){var e=/^([^\.]+\.)*weibo\.com$/,t=/^([^\.]+\.)*sina\.com.cn$/;if(l.match(e))a="weibo";else if(l.match(t))a="sina";else return false}return a},m=p()==="sina"?"http://api.sina.com.cn/script/javascript/postmsg.html":"http://focus.weibo.com/script/javascript/postmsg.html?v=201203",_=p()==="sina"?"sina.com.cn":"weibo.com",v={createNode:g,cloneNode:u,generateId:c,detectDomain:p,mode:s?"html5":"iframe",config:{proxyUrl:m,domain:_,form:null},setConfig:function(e){n(v.config,e,true)},send:s?function(e){var t=v.sender,i=v.config;if(!t){t=new v.Html5MsgSender({proxyUrl:i.proxyUrl});this.sender=t}t.send(e);return t}:function(e){var t,i=v.config;t=new v.IframeMsgSender({domain:i.domain,form:i.form});t.send(e);return t}};i.XDPost=v}(window,SINA);!function(e,t){var i=e.Weibo,n=i.XDPost,o=t.extend,r=t.isFunction,s=t.UA.ie,a=document.addEventListener?function(e,t,i){if(e&&e.addEventListener){e.addEventListener(t,i,false)}}:function(e,t,i){if(e&&e.attachEvent){e.attachEvent("on"+t,i)}},l=document.removeEventListener?function(e,t,i){if(e&&e.removeEventListener){e.removeEventListener(t,i,false)}}:function(e,t,i){if(e&&e.detachEvent){e.detachEvent("on"+t,i)}},c=s&&s<9?function(e,t){t.insertBefore(e,t.firstChild)}:function(e,t){t.appendChild(e)},d=function(){},u=/^http\s?\:\/\/[a-z\d\-\.]+/i,f="sina-xdpost-iframe-",h=n.generateId,g=function(e){if(!(this instanceof g)){return new g(e)}e=e||{};this.init(e)};o(g.prototype,{ready:false,init:function(t){if(this.ready){return}var i=this,o,r,s,l,g,p=t.proxyUrl;i.onsuccess=t.onsuccess||d;i.onfailure=t.onfailure||d;if(!p){return}g=function(e){if(!i.ready||e.origin!==i.target){return}var t=e.data;if(!t||t==="failure"){i.onfailure&&i.onfailure()}else{i.onsuccess&&i.onsuccess(e.data)}};a(e,"message",g);o=h(f);r='<iframe id="'+o+'" name="'+o+'" src="'+p+'" frameborder="0" '+'style="width:0;height:0;display:none;"></iframe>';s=n.createNode(r);l=function(){i.ready=true;var e=s.src,t=e.match(u);i.target=t&&t[0]||"*"};a(s,"load",l);c(s,document.body);i._iframe=s;i._iframeLoaded=l;i._receiver=g},send:function(i){i=i||{};var n=this,o=i.url,r=i.data,s=i.onsuccess,a=i.onfailure;if(!o||typeof o!=="string"){return}if(s){n.onsuccess=s}if(a){n.onfailure=a}if(!n.ready){t.later(function(){n.send(i)},50);return}if(r){r+="&_url="+e.encodeURIComponent(o)}else{r="_url="+e.encodeURIComponent(o)}n._iframe.contentWindow.postMessage(r,n.target)},destroy:function(){var t=this._iframe;l(t,"load",this._iframeLoaded);t.parentNode.removeChild(t);l(e,"message",this._receiver);this._iframe=null;this._iframeLoaded=null;this._receiver=null}});n.Html5MsgSender=g}(window,SINA);!function(e,t){var i=e.Weibo,n=i.XDPost,o=t.extend,r=t.ready,s=t.later,a=t.QueryString,l=a.parse,c=t.UA.ie,d=function(){},u="sina-xdpost-form-",f="sina-xdpost-iframe-",h=n.generateId,g=function(e){if(!e){return e}e=e+"";return e.replace(/&|<|>|\'|\"/g,function(e){switch(e){case"&":e="&amp;";break;case"<":e="&lt;";break;case">":e="&gt;";break;case"'":e="&#39;";break;case'"':e="&quot;";break;default:break}return e})},p=c&&c<9?function(e,t){t.insertBefore(e,t.firstChild)}:function(e,t){t.appendChild(e)},m=function(e){if(!(this instanceof m)){return new m(e)}e=e||{};this.init(e)};m.defaultDomain="sina.com.cn";o(m.prototype,{ready:false,init:function(t){if(this.ready){return}var i=this,n,o,r,s,a=t.form,l=t.domain||m.defaultDomain;i.onsuccess=t.onsuccess||d;i.onfailure=t.onfailure||d;if(!a){n=h(u);a=document.createElement("form");a.id=n;a.method="POST";a.style.display="none";p(a,document.body)}s=function(e){i._clear();i.onsuccess&&i.onsuccess(e)};r=h("callback");e[r]=s;i.ready=true;i._callbackName=r;i._form=a;document.domain=l},send:function(e){e=e||{};var t=this,i,n,o,r,a,c,d=[],u=t._callbackName,m=e.url,_=e.data,v=e.onsuccess,w=e.onfailure;if(!m||typeof m!=="string"){return}if(v){t.onsuccess=v}if(w){t.onfailure=w}if(!t.ready){s(function(){t.send(e)},50);return}if(!(r=t._placeholder)){r=document.createElement("div");r.style.display="none";r.style.visibility="hidden";p(r,document.body);t._placeholder=r}a=this._form;i=h(f);n='<iframe id="'+i+'" name="'+i+'" src="about:blank" frameborder="0" '+'style="width:0;height:0;display:none;"></iframe>';this._iframeId=i;r.innerHTML=n;if(m.indexOf("?")===-1){a.action=m+"?callback="+u}else{a.action=m+"&callback="+u}a.target=i;if(_){if(typeof _==="string"){_=l(_)||{}}for(c in _){d.push('<input type="hidden" name="');d.push(g(c));d.push('" value="');d.push(g(_[c]));d.push('" />')}a.innerHTML=d.join("")}a.submit()},inProgress:function(){return!!(me._iframeId&&document.getElementById(me._iframeId))},_clear:function(){var e=this._iframeId&&document.getElementById(this._iframeId);if(e){e.parentNode.removeChild(e)}this._iframeId=null},cancel:function(){this._clear()},destroy:function(){var t=this._form,i=this._placeholder;t.parentNode.removeChild(t);i.parentNode.removeChild(i);this._form=null;this._placeholder=null;delete e[this._callbackName];this._iframeId=null}});n.IframeMsgSender=m}(window,SINA);!function(e,t){var i=e.Weibo,n=i.XDPost,o=t.QueryString,r=t.JSON,s=o.stringify,a=r.parse,l=t.extend,c=t.IO.getJSONP,d=t.UA.ie,u=function(){},f=function(e){e=e||{};var t=e.url,i=e.data||{},n=e.onsuccess||u,o=e.onfailure||u;if(!t||typeof t!=="string"){o({code:-10000003,msg:"\u63A5\u53E3 URL \u672A\u6307\u5B9A"});return}c(t,s(i),function(e){var t=e&&e.result&&e.result.status;if(t&&t.code===0){n(e.result.data)}else{if(t){o(t)}else{o({code:-10000001,msg:"\u672A\u77E5\u9519\u8BEF"})}}})},h=function(e){e=e||{};var t=e.url,r=e.data||{},s=e.encoding||i.encoding,l=e.onsuccess||u,c=e.onfailure||u,d;if(!t||typeof t!=="string"){c({code:-10000003,msg:"\u63A5\u53E3 URL \u672A\u6307\u5B9A"});return}if(n.mode==="html5"){r=o.stringify(r);d=function(e){e=a(e);var t=e&&e.result&&e.result.status;if(t&&t.code===0){l(e.result.data)}else{if(t){c(t)}else{c({code:-10000001,msg:"\u672A\u77E5\u9519\u8BEF"})}}}}else{d=function(e){var t=e&&e.result&&e.result.status;if(t&&t.code===0){l(e.result.data)}else{if(t){c(t)}else{c({code:-10000001,msg:"\u672A\u77E5\u9519\u8BEF"})}}};if(s){r.ie=s}else if(document.charset==="gb2312"){r.ie="gbk"}}n.send({url:t,data:r,onsuccess:d,onfailure:u})},g=function(e,t){var n=e.url;if(!n){n=t}if(n.indexOf("?")>=0){n+="&source="+i.appKey}else{n+="?source="+i.appKey}e.url=n},p="http://api.sina.com.cn/weibo/",m=p+"2/",_=d?"xml":"json";_apiWBBase="http://focus.weibo.com/api/weibo/",_apiWBBaseV2=_apiWBBase+"2/",_apiBaseFinal=n.detectDomain()==="sina"?p:_apiWBBase,_apiBaseV2Final=n.detectDomain()==="sina"?m:_apiWBBaseV2,i._urls={update:_apiBaseV2Final+"statuses/update."+_,repost:_apiBaseV2Final+"statuses/repost."+_,comment:_apiBaseV2Final+"comments/create."+_,replyComment:_apiBaseV2Final+"comments/reply."+_,getComments:m+"comments/show.json",favorite:_apiBaseV2Final+"favorites/create."+_,follow:_apiBaseV2Final+"friendships/create."+_,batchFollow:_apiBaseV2Final+"friendships/create_batch."+_,isFollowing:m+"friendships/show.json",getUser:m+"users/show.json",getVote:m+"votes/show.json",vote:m+"votes/vote."+_,getUrlInfo:p+"short_url/batch_info.json",shortenUrl:p+"short_url/shorten.json"};i.appKey="4526198296";i._getRequest=f;i._postRequest=h;i.apis={update:function(e){e=e||{};g(e,i._urls.update);i._postRequest(e)},repost:function(e){e=e||{};g(e,i._urls.repost);i._postRequest(e)},comment:function(e){e=e||{};g(e,i._urls.comment);i._postRequest(e)},replyComment:function(e){e=e||{};g(e,i._urls.replyComment);i._postRequest(e)},favorite:function(e){e=e||{};g(e,i._urls.favorite);i._postRequest(e)},follow:function(e){e=e||{};g(e,i._urls.follow);i._postRequest(e)},batchFollow:function(e){e=e||{};g(e,i._urls.batchFollow);i._postRequest(e)},isFollowing:function(e){e=e||{};g(e,i._urls.isFollowing);i._getRequest(e)},getUser:function(e){e=e||{};g(e,i._urls.getUser);i._getRequest(e)},getComments:function(e){e=e||{};g(e,i._urls.getComments);i._getRequest(e)},getVote:function(e){e=e||{};g(e,i._urls.getVote);i._getRequest(e)},vote:function(e){e=e||{};g(e,i._urls.vote);i._postRequest(e)},getVideo:function(e){e=e||{};g(e,i._urls.getUrlInfo);i._getRequest(e)},getUrlInfo:function(e){e=e||{};g(e,i._urls.getUrlInfo);i._getRequest(e)},shortenUrl:function(e){e=e||{};g(e,i._urls.shortenUrl);i._getRequest(e)}}}(window,SINA);!function(e,t){var i=e.Weibo;i.MSG={SYS:{10001:"\u7CFB\u7EDF\u9519\u8BEF",10002:"\u670D\u52A1\u6682\u505C",10003:"\u8FDC\u7A0B\u670D\u52A1\u9519\u8BEF",10004:"IP\u9650\u5236\u4E0D\u80FD\u8BF7\u6C42\u8BE5\u8D44\u6E90",10005:"\u8BE5\u8D44\u6E90\u9700\u8981appkey\u62E5\u6709\u6388\u6743",10006:"\u7F3A\u5C11source (appkey) \u53C2\u6570",10007:"\u4E0D\u652F\u6301\u7684MediaType (%s)",10008:"\u53C2\u6570\u9519\u8BEF\uFF0C\u8BF7\u53C2\u8003API\u6587\u6863",10009:"\u4EFB\u52A1\u8FC7\u591A\uFF0C\u7CFB\u7EDF\u7E41\u5FD9",10010:"\u4EFB\u52A1\u8D85\u65F6",10011:"RPC\u9519\u8BEF",10012:"\u975E\u6CD5\u8BF7\u6C42",10013:"\u4E0D\u5408\u6CD5\u7684\u5FAE\u535A\u7528\u6237",10014:"\u5E94\u7528\u7684\u63A5\u53E3\u8BBF\u95EE\u6743\u9650\u53D7\u9650",10016:"\u7F3A\u5931\u5FC5\u9009\u53C2\u6570 (%s)\uFF0C\u8BF7\u53C2\u8003API\u6587\u6863",10017:"\u53C2\u6570\u503C\u975E\u6CD5\uFF0C\u9700\u4E3A (%s)\uFF0C\u5B9E\u9645\u4E3A (%s)\uFF0C\u8BF7\u53C2\u8003API\u6587\u6863",10018:"\u8BF7\u6C42\u957F\u5EA6\u8D85\u8FC7\u9650\u5236",10020:"\u63A5\u53E3\u4E0D\u5B58\u5728",10021:"\u8BF7\u6C42\u7684HTTP\u65B9\u6CD5\u4E0D\u652F\u6301",10022:"IP\u8BF7\u6C42\u9891\u6B21\u8D85\u8FC7\u4E0A\u9650",10023:"\u7528\u6237\u8BF7\u6C42\u9891\u6B21\u8D85\u8FC7\u4E0A\u9650",10024:"\u9891\u6B21\u8D85\u8FC7\u4E0A\u9650",10025:"\u5185\u90E8\u63A5\u53E3\u53C2\u6570\u9519\u8BEF"},SER:{20001:"IDs\u53C2\u6570\u4E3A\u7A7A",20002:"Uid\u53C2\u6570\u4E3A\u7A7A",20003:"\u7528\u6237\u4E0D\u5B58\u5728",20005:"\u4E0D\u652F\u6301\u7684\u56FE\u7247\u7C7B\u578B\uFF0C\u4EC5\u4EC5\u652F\u6301JPG\u3001GIF\u3001PNG",20006:"\u56FE\u7247\u592A\u5927",20007:"\u8BF7\u786E\u4FDD\u4F7F\u7528multpart\u4E0A\u4F20\u56FE\u7247",20008:"\u5185\u5BB9\u4E3A\u7A7A",20009:"IDs\u53C2\u6570\u592A\u957F\u4E86",20012:"\u8F93\u5165\u6587\u5B57\u592A\u957F\uFF0C\u8BF7\u786E\u8BA4\u4E0D\u8D85\u8FC7140\u4E2A\u5B57\u7B26",20013:"\u8F93\u5165\u6587\u5B57\u592A\u957F\uFF0C\u8BF7\u786E\u8BA4\u4E0D\u8D85\u8FC7300\u4E2A\u5B57\u7B26",20014:"\u5B89\u5168\u68C0\u67E5\u53C2\u6570\u6709\u8BEF\uFF0C\u8BF7\u518D\u8C03\u7528\u4E00\u6B21",20015:"\u8D26\u53F7\u3001IP\u6216\u5E94\u7528\u975E\u6CD5\uFF0C\u6682\u65F6\u65E0\u6CD5\u5B8C\u6210\u6B64\u64CD\u4F5C",20016:"\u53D1\u5E03\u5185\u5BB9\u8FC7\u4E8E\u9891\u7E41",20017:"\u63D0\u4EA4\u76F8\u4F3C\u7684\u4FE1\u606F",20018:"\u5305\u542B\u975E\u6CD5\u7F51\u5740",20019:"\u63D0\u4EA4\u76F8\u540C\u7684\u4FE1\u606F",20020:"\u5305\u542B\u5E7F\u544A\u4FE1\u606F",20021:"\u5305\u542B\u975E\u6CD5\u5185\u5BB9",20022:"\u6B64IP\u5730\u5740\u4E0A\u7684\u884C\u4E3A\u5F02\u5E38",20023:"\u5F88\u62B1\u6B49\uFF0C\u6B64\u529F\u80FD\u6682\u65F6\u65E0\u6CD5\u4F7F\u7528\uFF0C\u5982\u9700\u5E2E\u52A9\u8BF7\u8054\u7CFB@\u5FAE\u535A\u5BA2\u670D",20031:"\u9700\u8981\u9A8C\u8BC1\u7801",20032:"\u53D1\u5E03\u6210\u529F\uFF0C\u76EE\u524D\u670D\u52A1\u5668\u53EF\u80FD\u4F1A\u6709\u5EF6\u8FDF\uFF0C\u8BF7\u8010\u5FC3\u7B49\u5F851-2\u5206\u949F",20033:"\u767B\u9646\u72B6\u6001\u5F02\u5E38",20034:"\u5E10\u53F7\u5904\u4E8E\u9501\u5B9A\u72B6\u6001",20035:"\u5E10\u53F7\u672A\u5B9E\u540D\u8BA4\u8BC1",20044:"\u53EF\u53D1\u8868\uFF0C\u4F46\u662F\u9700\u8981\u5F39\u51FA\u8499\u5C42",20045:"\u4E0D\u53EF\u53D1\u8868\uFF0C\u9700\u8981\u5F39\u51FA\u8499\u5C42",20101:"\u4E0D\u5B58\u5728\u7684\u5FAE\u535A",20102:"\u4E0D\u662F\u4F60\u53D1\u5E03\u7684\u5FAE\u535A",20103:"\u4E0D\u80FD\u8F6C\u53D1\u81EA\u5DF1\u7684\u5FAE\u535A",20104:"\u4E0D\u5408\u6CD5\u7684\u5FAE\u535A",20109:"\u5FAE\u535Aid\u4E3A\u7A7A",20111:"\u4E0D\u80FD\u53D1\u5E03\u76F8\u540C\u7684\u5FAE\u535A",20112:"\u7531\u4E8E\u4F5C\u8005\u9690\u79C1\u8BBE\u7F6E\uFF0C\u4F60\u6CA1\u6709\u6743\u9650\u67E5\u770B\u6B64\u5FAE\u535A",20113:"\u6807\u7B7E\u540D\u4E0D\u5408\u6CD5",20114:"\u6807\u7B7E\u540D\u592A\u957F",20115:"\u6807\u7B7E\u4E0D\u5B58\u5728",20116:"\u6807\u7B7E\u5DF2\u5B58\u5728",20117:"\u6700\u591A200\u4E2A\u6807\u7B7E",20118:"\u6700\u591A5\u4E2A\u6807\u7B7E",20119:"\u6807\u7B7E\u641C\u7D22\u5931\u8D25",20120:"\u7531\u4E8E\u4F5C\u8005\u8BBE\u7F6E\u4E86\u53EF\u89C1\u6027\uFF0C\u4F60\u6CA1\u6709\u6743\u9650\u8F6C\u53D1\u6B64\u5FAE\u535A",20121:"visible\u53C2\u6570\u975E\u6CD5",20122:"\u5E94\u7528\u4E0D\u5B58\u5728",20123:"\u6700\u591A\u5C4F\u853D200\u4E2A\u5E94\u7528",20124:"\u6700\u591A\u5C4F\u853D500\u6761\u5FAE\u535A",20125:"\u6CA1\u6709\u5C4F\u853D\u8FC7\u6B64\u5E94\u7528",20126:"\u4E0D\u80FD\u5C4F\u853D\u65B0\u6D6A\u5E94\u7528",20127:"\u5DF2\u6DFB\u52A0\u4E86\u6B64\u5C4F\u853D",20128:"\u5220\u9664\u5C4F\u853D\u5931\u8D25",20129:"\u6CA1\u6709\u5C4F\u853D\u4EFB\u4F55\u5E94\u7528",20130:"\u7531\u4E8E\u4F5C\u8005\u9690\u79C1\u8BBE\u7F6E\uFF0C\u4F60\u6CA1\u6709\u6743\u9650\u8BC4\u8BBA\u6B64\u5FAE\u535A",20136:"\u975E\u4F1A\u5458\u53D1\u8868\u5B9A\u5411\u5FAE\u535A\uFF0C\u5206\u7EC4\u6210\u5458\u6570\u6700\u591A200",20201:"\u4E0D\u5B58\u5728\u7684\u5FAE\u535A\u8BC4\u8BBA",20202:"\u4E0D\u5408\u6CD5\u7684\u8BC4\u8BBA",20203:"\u4E0D\u662F\u4F60\u53D1\u5E03\u7684\u8BC4\u8BBA",20204:"\u8BC4\u8BBAID\u4E3A\u7A7A",20205:"\u5728\u9ED1\u540D\u5355\u4E2D\uFF0C\u65E0\u6CD5\u8FDB\u884C\u8BC4\u8BBA",20206:"\u4F5C\u8005\u53EA\u5141\u8BB8\u5173\u6CE8\u7528\u6237\u8BC4\u8BBA",20207:"\u4F5C\u8005\u53EA\u5141\u8BB8\u53EF\u4FE1\u7528\u6237\u8BC4\u8BBA",20301:"\u4E0D\u80FD\u7ED9\u4E0D\u662F\u4F60\u7C89\u4E1D\u7684\u4EBA\u53D1\u79C1\u4FE1",20302:"\u4E0D\u5408\u6CD5\u7684\u79C1\u4FE1",20303:"\u4E0D\u662F\u5C5E\u4E8E\u4F60\u7684\u79C1\u4FE1",20305:"\u4E0D\u5B58\u5728\u7684\u79C1\u4FE1",20306:"\u4E0D\u80FD\u53D1\u5E03\u76F8\u540C\u7684\u79C1\u4FE1",20307:"\u975E\u6CD5\u7684\u79C1\u4FE1ID",20308:"\u53D1\u79C1\u4FE1\u592A\u591A",20310:"tousertype\u7B56\u7565\u88AB\u62E6\u622A",20311:"\u5F88\u62B1\u6B49\uFF0C\u6839\u636E\u76F8\u5173\u6CD5\u89C4\u548C\u653F\u7B56\uFF0C\u4F60\u6682\u65F6\u65E0\u6CD5\u53D1\u9001\u4EFB\u4F55\u5185\u5BB9\u7684\u79C1\u4FE1\u3002\u5982\u9700\u5E2E\u52A9\u8BF7\u8054 \u7CFB @\u5FAE\u535A\u5BA2\u670D \u6216\u8005\u81F4\u7535\u5BA2\u670D\u7535\u8BDD400 096 0960\uFF08\u4E2A\u4EBA\uFF09 400 098 0980\uFF08\u4F01\u4E1A\uFF09",20401:"\u57DF\u540D\u4E0D\u5B58\u5728",20402:"Verifier\u9519\u8BEF",20403:"\u5C4F\u853D\u7528\u6237\u5217\u8868\u4E2D\u5B58\u5728\u6B64uid",20404:"\u5C4F\u853D\u7528\u6237\u5217\u8868\u4E2D\u4E0D\u5B58\u5728\u6B64uid",20405:"uid\u5BF9\u5E94\u7528\u6237\u4E0D\u662F\u767B\u5F55\u7528\u6237\u7684\u597D\u53CB",20406:"\u5C4F\u853D\u7528\u6237\u4E2A\u6570\u8D85\u51FA\u4E0A\u9650",20407:"\u6CA1\u6709\u5408\u9002\u7684uid",20408:"\u4ECEfeed\u5C4F\u853D\u5217\u8868\u4E2D\uFF0C\u5904\u7406\u7528\u6237\u5931\u8D25",20501:"\u53C2\u6570source_user\u6216\u8005target_user\u7684\u7528\u6237\u4E0D\u5B58\u5728",20502:"\u5FC5\u987B\u8F93\u5165\u76EE\u6807\u7528\u6237id\u6216\u8005screen_name",20503:"\u53C2\u6570user_id\u5FC5\u987B\u662F\u4F60\u5173\u6CE8\u7684\u7528\u6237",20504:"\u4F60\u4E0D\u80FD\u5173\u6CE8\u81EA\u5DF1",20505:"\u52A0\u5173\u6CE8\u8BF7\u6C42\u8D85\u8FC7\u4E0A\u9650",20506:"\u5DF2\u7ECF\u5173\u6CE8\u6B64\u7528\u6237",20507:"\u9700\u8981\u8F93\u5165\u9A8C\u8BC1\u7801",20508:"\u6839\u636E\u5BF9\u65B9\u7684\u8BBE\u7F6E\uFF0C\u4F60\u4E0D\u80FD\u8FDB\u884C\u6B64\u64CD\u4F5C",20509:"\u6084\u6084\u5173\u6CE8\u4E2A\u6570\u5230\u8FBE\u4E0A\u9650",20510:"\u4E0D\u662F\u6084\u6084\u5173\u6CE8\u4EBA",20511:"\u5DF2\u7ECF\u6084\u6084\u5173\u6CE8\u6B64\u7528\u6237",20512:"\u4F60\u5DF2\u7ECF\u628A\u6B64\u7528\u6237\u52A0\u5165\u9ED1\u540D\u5355\uFF0C\u52A0\u5173\u6CE8\u524D\u8BF7\u5148\u89E3\u9664",20513:"\u4F60\u7684\u5173\u6CE8\u4EBA\u6570\u5DF2\u8FBE\u4E0A\u9650",20521:"hi\u8D85\u4EBA\uFF0C\u4F60\u4ECA\u5929\u5DF2\u7ECF\u5173\u6CE8\u5F88\u591A\u55BD\uFF0C\u63A5\u4E0B\u6765\u7684\u65F6\u95F4\u60F3\u60F3\u5982\u4F55\u8BA9\u5927\u5BB6\u90FD\u6765\u5173\u6CE8\u4F60\u5427\uFF01\u5982\u6709\u95EE\u9898\uFF0C\u8BF7\u8054\u7CFB\u65B0\u6D6A\u5BA2\u670D\uFF1A400 690 0000",20522:"\u8FD8\u672A\u5173\u6CE8\u6B64\u7528\u6237",20523:"\u8FD8\u4E0D\u662F\u7C89\u4E1D",20524:"hi\u8D85\u4EBA\uFF0C\u4F60\u4ECA\u5929\u5DF2\u7ECF\u53D6\u6D88\u5173\u6CE8\u5F88\u591A\u55BD\uFF0C\u63A5\u4E0B\u6765\u7684\u65F6\u95F4\u60F3\u60F3\u5982\u4F55\u8BA9\u5927\u5BB6\u90FD\u6765\u5173\u6CE8\u4F60\u5427\uFF01\u5982\u6709\u95EE\u9898\uFF0C\u8BF7\u8054\u7CFB\u65B0\u6D6A\u5BA2\u670D\uFF1A400 690 0000",20525:"\u5DF2\u7ECF\u662F\u5BC6\u53CB\u4E86",20526:"\u5DF2\u7ECF\u53D1\u9001\u8FC7\u5BC6\u53CB\u9080\u8BF7",20527:"\u5BC6\u53CB\u6570\u5230\u8FBE\u4E0A\u9650",20528:"\u4E0D\u662F\u5BC6\u53CB",20601:"\u5217\u8868\u540D\u592A\u957F\uFF0C\u8BF7\u786E\u4FDD\u8F93\u5165\u7684\u6587\u672C\u4E0D\u8D85\u8FC710\u4E2A\u5B57\u7B26",20602:"\u5217\u8868\u63CF\u53D9\u592A\u957F\uFF0C\u8BF7\u786E\u4FDD\u8F93\u5165\u7684\u6587\u672C\u4E0D\u8D85\u8FC770\u4E2A\u5B57\u7B26",20603:"\u5217\u8868\u4E0D\u5B58\u5728",20604:"\u4E0D\u662F\u5217\u8868\u7684\u6240\u5C5E\u8005",20605:"\u5217\u8868\u540D\u6216\u63CF\u53D9\u4E0D\u5408\u6CD5",20606:"\u8BB0\u5F55\u5DF2\u5B58\u5728",20607:"\u6570\u636E\u5E93\u9519\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u7CFB\u7EDF\u7BA1\u7406\u5458",20608:"\u5217\u8868\u540D\u51B2\u7A81",20610:"\u76EE\u524D\u4E0D\u652F\u6301\u79C1\u6709\u5206\u7EC4",20611:"\u521B\u5EFA\u5217\u8868\u5931\u8D25",20612:"\u76EE\u524D\u53EA\u652F\u6301\u79C1\u6709\u5206\u7EC4",20613:"\u8BA2\u9605\u5217\u8868\u8FBE\u5230\u4E0A\u9650",20614:"\u521B\u5EFA\u5217\u8868\u8FBE\u5230\u4E0A\u9650\uFF0C\u8BF7\u53C2\u8003API\u6587\u6863",20615:"\u5217\u8868\u6210\u5458\u4E0A\u9650\uFF0C\u8BF7\u53C2\u8003API\u6587\u6863",20701:"\u4E0D\u80FD\u63D0\u4EA4\u76F8\u540C\u7684\u6536\u85CF\u6807\u7B7E",20702:"\u6700\u591A\u4E24\u4E2A\u6536\u85CF\u6807\u7B7E",20703:"\u6536\u85CF\u6807\u7B7E\u540D\u4E0D\u5408\u6CD5",20704:"\u60A8\u5DF2\u7ECF\u6536\u85CF\u4E86\u6B64\u5FAE\u535A",20705:"\u6B64\u5FAE\u535A\u4E0D\u662F\u60A8\u7684\u6536\u85CF",20706:"\u64CD\u4F5C\u5931\u8D25",20801:"\u53C2\u6570trend_name\u662F\u7A7A\u503C",20802:"\u53C2\u6570trend_id\u662F\u7A7A\u503C",21001:"\u6807\u7B7E\u53C2\u6570\u4E3A\u7A7A",21002:"\u6807\u7B7E\u540D\u592A\u957F\uFF0C\u8BF7\u786E\u4FDD\u6BCF\u4E2A\u6807\u7B7E\u540D\u4E0D\u8D85\u8FC714\u4E2A\u5B57\u7B26",21101:"\u53C2\u6570domain\u9519\u8BEF",21102:"\u8BE5\u624B\u673A\u53F7\u5DF2\u7ECF\u88AB\u4F7F\u7528",21103:"\u8BE5\u7528\u6237\u5DF2\u7ECF\u7ED1\u5B9A\u624B\u673A",21104:"Verifier\u9519\u8BEF",21105:"\u4F60\u7684\u624B\u673A\u53F7\u8FD1\u671F\u9891\u7E41\u7ED1\u5B9A\u8FC7\u591A\u4E2A\u5E10\u53F7\uFF0C\u8BF7\u62E8\u6253\u5BA2\u670D\u7535\u8BDD400 690 0000",21106:"\u6635\u79F0\u975E\u6CD5",21107:"\u63CF\u8FF0\u975E\u6CD5",21108:"\u539F\u59CB\u5BC6\u7801\u9519\u8BEF",21109:"\u65B0\u5BC6\u7801\u9519\u8BEF",21110:"\u6B64\u7528\u6237\u6682\u65F6\u6CA1\u6709\u7ED1\u5B9A\u624B\u673A",21111:"\u6559\u80B2\u4FE1\u606F\u8FC7\u591A",21112:"\u5B66\u6821\u4E0D\u5B58\u5728",21113:"\u6559\u80B2\u4FE1\u606F\u4E0D\u5B58\u5728",21114:"\u6CA1\u6709\u7528\u6237\u6709\u6559\u80B2\u4FE1\u606F",21115:"\u804C\u4E1A\u4FE1\u606F\u4E0D\u5B58\u5728",21116:"\u6CA1\u6709\u7528\u6237\u6709\u804C\u4E1A\u4FE1\u606F",21117:"\u6B64\u7528\u6237\u6CA1\u6709qq\u4FE1\u606F",21118:"\u5B66\u6821\u5DF2\u5B58\u5728",21119:"\u6CA1\u6709\u5408\u6CD5\u7684uid",21120:"\u6B64\u7528\u6237\u6CA1\u6709\u5FAE\u53F7\u4FE1\u606F",21121:"\u6B64\u5FAE\u53F7\u5DF2\u7ECF\u5B58\u5728",21122:"\u7528\u6237\u624B\u673A\u7ED1\u5B9A\u72B6\u6001\u4E3A\u5F85\u7ED1\u5B9A",21123:"\u7528\u6237\u672A\u7ED1\u5B9A\u624B\u673A",21138:"\u53C2\u6570key\u4E0D\u662F\u6709\u6548\u7684\u65E0\u7EBF\u53F7\u6BB5",21139:"\u5173\u952E\u5B57\u7981\u6B62",21301:"\u8BA4\u8BC1\u5931\u8D25",21302:"\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u6B63\u786E",21303:"\u7528\u6237\u540D\u5BC6\u7801\u8BA4\u8BC1\u8D85\u8FC7\u8BF7\u6C42\u9650\u5236",21304:"\u7248\u672C\u53F7\u9519\u8BEF",21305:"\u7F3A\u5C11\u5FC5\u8981\u7684\u53C2\u6570",21306:"OAuth\u53C2\u6570\u88AB\u62D2\u7EDD",21307:"\u65F6\u95F4\u6233\u4E0D\u6B63\u786E",21308:"\u53C2\u6570nonce\u5DF2\u7ECF\u88AB\u4F7F\u7528",21309:"\u7B7E\u540D\u7B97\u6CD5\u4E0D\u652F\u6301",21310:"\u7B7E\u540D\u503C\u4E0D\u5408\u6CD5",21311:"\u53C2\u6570consumer_key\u4E0D\u5B58\u5728",21312:"\u53C2\u6570consumer_key\u4E0D\u5408\u6CD5",21313:"\u53C2\u6570consumer_key\u7F3A\u5931",21314:"Token\u5DF2\u7ECF\u88AB\u4F7F\u7528",21315:"Token\u5DF2\u7ECF\u8FC7\u671F",21316:"Token\u4E0D\u5408\u6CD5",21317:"Token\u4E0D\u5408\u6CD5",21318:"Pin\u7801\u8BA4\u8BC1\u5931\u8D25",21319:"\u6388\u6743\u5173\u7CFB\u5DF2\u7ECF\u88AB\u89E3\u9664",21320:"\u4E0D\u652F\u6301\u7684\u534F\u8BAE",21321:"\u672A\u5BA1\u6838\u7684\u5E94\u7528\u4F7F\u7528\u4EBA\u6570\u8D85\u8FC7\u9650\u5236",21322:"\u91CD\u5B9A\u5411\u5730\u5740\u4E0D\u5339\u914D",21323:"\u8BF7\u6C42\u4E0D\u5408\u6CD5",21324:"client_id\u6216client_secret\u53C2\u6570\u65E0\u6548",21325:"\u63D0\u4F9B\u7684Access Grant\u662F\u65E0\u6548\u7684\u3001\u8FC7\u671F\u7684\u6216\u5DF2\u64A4\u9500\u7684",21326:"\u5BA2\u6237\u7AEF\u6CA1\u6709\u6743\u9650",21327:"token\u8FC7\u671F",21328:"\u4E0D\u652F\u6301\u7684 GrantType",21329:"\u4E0D\u652F\u6301\u7684 ResponseType",21330:"\u7528\u6237\u6216\u6388\u6743\u670D\u52A1\u5668\u62D2\u7EDD\u6388\u4E88\u6570\u636E\u8BBF\u95EE\u6743\u9650",21331:"\u670D\u52A1\u6682\u65F6\u65E0\u6CD5\u8BBF\u95EE",21332:"\u65E0\u6548",21333:"\u7981\u6B62\u4F7F\u7528\u6B64\u8BA4\u8BC1\u65B9\u5F0F",21334:"\u5E10\u53F7\u72B6\u6001\u4E0D\u6B63\u5E38",21501:"\u53C2\u6570urls\u662F\u7A7A\u7684",21502:"\u53C2\u6570urls\u592A\u591A\u4E86",21503:"IP\u662F\u7A7A\u503C",21504:"\u53C2\u6570url\u662F\u7A7A\u503C",21601:"\u7CFB\u7EDF\u7E41\u5FD9\u8BF7\u91CD\u8BD5",21602:"\u627E\u4E0D\u5230\u6A21\u677FID XXX",21603:"\u4FEE\u6539\u6570\u636E\u62A5\u9519",21604:"\u5DF2\u6709\u901A\u77E5\u7684appkey\u6821\u9A8C\u5931\u8D25",21605:"\u521B\u5EFA\u6A21\u677F\u8D85\u8FC7\u6700\u5927\u9650\u5236",21610:"\u6388\u6743\u5931\u8D25",21611:"\u975E\u6CD5appkey",21612:"\u65E0\u6548IP",21613:"\u53C2\u6570\u9519\u8BEF\uFF0C\u9700\u8981\u901A\u77E5id\u6216\u8005\u6807\u9898\u5185\u5BB9\u53C2\u6570",21620:"\u53C2\u6570\u9519\u8BEF\uFF0Cuid\u53C2\u6570\u5FC5\u987B\u4E0E\u767B\u5F55\u7528\u6237\u4E00\u81F4\uFF0C\u6388\u6743\u7528\u6237uid %s \u53C2\u6570uid %s",21621:"appkey62\u65E0\u6548",21631:"\u6DFB\u52A0\u5C4F\u853D\u8FBE\u5230\u4E0A\u9650",21632:"\u7981\u6B62\u6DFB\u52A0\u672A\u6388\u6743\u7684\u5E94\u7528",21633:"\u6B64\u5E94\u7528\u6CA1\u6709\u53D1\u901A\u77E5\u6743\u9650\uFF0C\u4E0D\u8BB8\u5C4F\u853D",21634:"\u5DF2\u7ECF\u5C4F\u853D\u8FC7\u4E86",21635:"\u767D\u540D\u5355appkey\u7981\u6B62\u5C4F\u853D",21650:"\u672A\u627E\u5230\u901A\u77E5id",21651:"\u53EA\u6709appkey\u6240\u6709\u4EBA\u80FD\u53D1\u901A\u77E5",21652:"\u901A\u77E5\u6A21\u677F\u72B6\u6001\u4E0D\u5BF9\uFF0C\u4E0D\u80FD\u53D1\u9001",21653:"\u901A\u77E5\u6A21\u677F\u4E0E\u53D1\u9001\u901A\u77E5appkey\u4E0D\u4E00\u81F4",21654:"\u901A\u77E5\u53D1\u9001\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5",21655:"\u901A\u77E5\u8BF7\u6C42\u975E\u6CD5",21656:"\u901A\u77E5\u6A21\u677F\u4E0E\u53D1\u9001\u901A\u77E5\u53D8\u91CF\u4E0D\u5339\u914D",21701:"\u63D0\u9192\u5931\u8D25\uFF0C\u9700\u8981\u6743\u9650",21702:"\u65E0\u6548\u5206\u7C7B",21703:"\u65E0\u6548\u72B6\u6001\u7801",21901:"\u5730\u7406\u4FE1\u606F\u8F93\u5165\u9519\u8BEF",22301:"\u9080\u8BF7\u5904\u7406\u5931\u8D25!",22302:"\u9700\u8981\u662F\u88AB\u9080\u8BF7\u4EBA\u7684\u5173\u6CE8\u7528\u6237!",22303:"\u91CD\u590D\u9080\u8BF7!",22304:"\u4E0D\u80FD\u81EA\u5DF1\u9080\u8BF7\u81EA\u5DF1!",22305:"\u5DF2\u662F\u5173\u6CE8\u7528\u6237\uFF0C\u4E0D\u80FD\u53D1\u9001\u5173\u6CE8\u9080\u8BF7!",22306:"\u5F53\u7528\u6237\u4E0D\u5728\u6E38\u620F\u4E2D\u65F6\uFF0C\u4E0D\u80FD\u53D1\u9001\u6E38\u620F\u9080\u8BF7!",22307:"\u9080\u8BF7\u5BF9\u8C61\u5728\u9ED1\u540D\u5355\u4E2D!",22308:"\u9700\u8981\u76F8\u4E92\u5173\u6CE8!",22309:"\u62D2\u7EDD\u6240\u6709\u9080\u8BF7!",22310:"\u6B64\u5E94\u7528\u7684\u9080\u8BF7\u88AB\u5C4F\u853D!",22311:"\u9700\u8981\u5BC6\u53CB\u5173\u7CFB!",22312:"\u6B64\u7528\u6237\u7684\u9080\u8BF7\u88AB\u5C4F\u853D!",22313:"\u4E0D\u662F\u53EF\u4FE1\u7528\u6237!",22314:"\u5185\u5BB9\u4E0D\u5408\u6CD5!",22315:"\u9700\u8981V\u7528\u6237!",22316:"\u9080\u8BF7\u8FBE\u5230\u53D1\u9001\u9650\u5236!",22317:"\u6CA1\u6709\u88AB\u5BC6\u53CB\u9080\u8BF7!",22318:"\u5BC6\u53CB\u5173\u7CFB\u4E0D\u540C\u6B65!",22319:"\u6570\u636E\u5E93\u8FDE\u63A5\u5931\u8D25!",22320:"\u8F93\u5165\u6587\u5B57\u592A\u957F\uFF0C\u8BF7\u786E\u8BA4\u4E0D\u8D85\u8FC750\u4E2A\u5B57\u7B26!",22321:"\u91CD\u590D\u5C4F\u853D\u8BE5\u5E94\u7528!",22322:"\u5C4F\u853D\u5E94\u7528\u6570\u8FBE\u5230\u4E0A\u9650!",22323:"\u8BE5\u5E94\u7528\u672A\u5728\u5C4F\u853D\u5217\u8868\u4E2D!",22324:"\u7528\u6237\u4E0D\u5728\u9ED1\u540D\u5355\u4E2D!",22325:"\u8FBE\u5230\u5BC6\u53CB\u4E0A\u9650\uFF0C\u4E0D\u80FD\u518D\u6DFB\u52A0\u5BC6\u53CB!"}};i.MSG.get=function(e,t,n){n=n||"";return i.MSG[e][t]||n}}(window,SINA);!function(e,t){var i=e.Weibo,n=function(){},o=t.extend,r=t.EventTarget,s="sinaSSOController",a="\u672A\u8F7D\u5165 SSO \u767B\u5F55\u6A21\u5757",l="login",c="logout",d=false,u="";i.Login={setup:function(t){if(d){return}var n=window[s],o=this,r,f,h,g;if(!n){alert(a);return}n.loginExtraQuery["vsnf"]=1;if(location.host.match(/^([^\.]+\.)*weibo\.com$/)){n.entry="general";n.domain="weibo.com";n.feedBackUrl="";n.appLoginURL["weibo.com"]="http://weibo.com/sso/login.php";n.useTicket=true}r=n.customLoginCallBack;f=n.customLogoutCallBack;t=t||{};h=t.onlogin||null;g=t.onlogout||null;if(h){o.onlogin=h}if(g){o.onlogout=g}n.customLoginCallBack=function(t){if(t.errno==4049){e.location.href="http://login.sina.com.cn/signup/signin.php?username="+(u||"")+"&retcode=4049&r="+encodeURI(e.location.href);return}if(t.errno==5024){i.Utils.broadcast("VDUN_NEED","");return}if(t.errno==5025){i.Utils.broadcast("VDUN_WRONG","");return}r&&r.call(n,t);o.trigger(l,{status:t});o.onlogin&&o.onlogin(t)};n.customLogoutCallBack=function(e){f&&f.call(n,e);o.trigger(c,{status:e});o.onlogout&&o.onlogout(e)};d=true},check:function(){var e=window[s],t,i=this;if(!e){alert(a);return}t=e.getSinaCookie();if(t&&t.uid){return t}return null},autoLogin:function(e){var t=window[s],i,o=this;if(!t){alert(a);return}if(!d){o.setup()}e=e||n;t.autoLogin(e)},login:function(e,t,i,n){var o=window[s],r,l=this;if(!o){alert(a);return}u=e;if(!d){l.setup()}if(n){r=l.onlogin;l.onlogin=function(e){r&&r(e);n&&n(e);l.onlogin=r}}if(i){o.login(e,t,14)}else{o.login(e,t)}},logout:function(e){var t=window[s],i,n=this;if(!t){alert(a);return}if(!d){n.setup()}if(e){i=n.onlogout;n.onlogout=function(t){i&&i(t);e&&e(t);n.onlogout=i}}t.logout()},onlogin:null,onlogout:null,addLoginCallback:function(e){this.addListener(l,e)},addLogoutCallback:function(e){this.addListener(c,e)},removeLoginCallback:function(e){this.removeListener(l,e)},removeLogoutCallback:function(e){this.removeListener(c,e)}};o(i.Login,r.prototype)}(window,SINA);!function(e,t){var i=e.document,n=i.documentElement,o=e.Weibo,r=o.Utils,s=t.Widget,a=t.Event,l=t.createWidget,c=t.extend,d=t.query,u=t.isNumber,f=t.DOM.style,h=a.addListener,g=a.removeListener,p=t.UA.ie,m=r.cloneNode,_=r.createFromString,v="weibo-",w="dialog",b=".",y=v+w+"-",T=y+"hd",E=y+"bd",L=y+"title",x=y+"close",M='<div class="',C='"></div>',D=M+T+C,N=M+E+C,O=M+L+C,k='<a title="\u5173\u95ED" class="'+x+'" href="javascript:void(0);">x</a>',I=y+"overlay-b",S=y+"overlay-p",A=M+I+C,P=M+S+C,U="show",B="hide",R="move",W=o.createWidget({CSS_PREFIX:v,initializer:function(e){var t,i={},n=true,o=false,r=false;if(e){n=e.borderWidth||"";if(u(n)){n=n+"px"}o=!!e.overlay;show=e.show||false;t=e.children;if(t){i.title=t.title||"";i.body=t.body||""}}this._borderWidth=n;this._hasOverlay=o;this._show=show;this._children=i},destructor:function(){},renderer:function(){var e=this.wrapperBox,t=this.contentBox,i=this.constructor,n=this.elements,o=n.header,r=n.body,s=n.title,a=n.close,l,c,d=this._borderWidth,u=this._children,f=this;e.style.position="absolute";t.style.position="relative";if(!o&&!r){o=_(D);r=_(N);s=_(O);a=_(k);s.innerHTML=u.title||"";r.innerHTML=u.body||"";o.appendChild(s);o.appendChild(a);t.appendChild(o);t.appendChild(r);n.header=o;n.title=s;n.close=a;n.body=r}if(d){this.borderBox=l=_(A);l.style.position="absolute";l.style.left="-"+d;l.style.top="-"+d;e.insertBefore(l,t)}if(this._hasOverlay){this.overlayBox=c=_(P);c.style.position="absolute";c.style.left=0;c.style.top=0;e.parentNode.insertBefore(c,e)}e.style.display=this._show?"block":"none";if(c){c.style.display=this._show?"block":"none"}h(a,"click",function(e){f.hide();e.preventDefault()});if(p==6){var g='<iframe frameborder="1" tabindex="-1" src="about:blank" '+'style="display:block;position:absolute;z-index:-1;'+"filter:Alpha(Opacity='0');"+"top:0;left:0;"+"width:expression(this.parentNode.offsetWidth+'px');"+"height:expression(this.parentNode.offsetHeight+'px');"+'"></iframe>',m=_(g);e.appendChild(m)}},move:function(e,t){if(!this._rendered||this._destroyed){return}this.trigger(R,{x:e,y:t});var i=this.wrapperBox;if(u(e)){i.style.left=e+"px"}else{i.style.left=e}if(u(t)){i.style.top=t+"px"}else{i.style.top=t}},show:function(){if(!this._rendered||this._destroyed){return}this.trigger(U);var e=this.wrapperBox,t=this.overlayBox,i=this.borderBox;this._adjustSize();e.style.display="block";if(t){t.style.display="block"}},_adjustSize:function(){if(!this._rendered||this._destroyed){return}var e=this.wrapperBox,t=this.overlayBox,i=this.borderBox,o=parseInt(this._borderWidth)||0,r=parseInt(f(e,"width"))||0,s=parseInt(f(e,"height"))||0;if(t){t.style.width=(n&&n.scrollWidth||2e3)+"px";t.style.height=(n&&n.scrollHeight||2e3)+"px"}if(i){i.style.width=r+o*2+"px";i.style.height=s+o*2+"px"}},hide:function(){if(!this._rendered||this._destroyed){return}this.trigger(B);var e=this.wrapperBox,t=this.overlayBox;e.style.display="none";if(t){t.style.display="none"}},moveToPageCenter:function(){var t=this.wrapperBox,o=e.self,r=i.body,s,a,l,c,d,u,h,g;l=o.pageXOffset||n&&n.scrollLeft||r.scrollLeft||0;c=o.pageYOffset||n&&n.scrollTop||r.scrollTop||0;d=o.innerWidth||n&&n.clientWidth||r.clientWidth||0;u=o.innerHeight||n&&n.clientHeight||r.clientHeight||0;h=parseInt(f(t,"width"))||0;g=parseInt(f(t,"height"))||0;s=l+d/2-h/2;a=c+u/2-g/2;if(s<0){s=0}if(a<0){a=0}this.move(s,a)}},{NAME:w,HEADER_TEMPLATE:D,BODY_TEMPLATE:N,CLOSE_TEMPLATE:k,TITLE_TEMPLATE:O,_queries:{header:b+T,body:b+E,title:b+L,close:b+x},_classNames:{header:T,body:E,title:L,close:x}});o.Classes.Dialog=W}(window,SINA);!function(e,t){var i=e.document,n=i.documentElement,o=e.Weibo,r=o.Utils,s=r.Textarea,a=r.cloneNode,l=r.createFromString,c=r.updateWordCount,d=t.extend,u=t.query,f=t.later,h=t.trim,g=t.DOM,p=g.style,m=g.attr,_=t.Event,v=_.addListener,w=_.removeListener,b=function(){},y="weibo-",T="logindialog",E=".",L=" ",x=y+T+"-",M=x+"box",C=x+"form",D=x+"signup",N=x+"tip",O=x+"account",k=x+"password",I=x+"vdun",S=x+"remember",A=x+"actions",P=x+"submit",U=x+"lostpwd",B="http://weibo.com/signup/signup.php",R="http://login.sina.com.cn/"+"member/getpwd/getpwd0.php?entry=sso",W='<div class="',H='<div style="display: none" class="',q='">',F="</div>",V='<p class="',j='<p style="display: none" class="',z='">',G="</p>",X=W+M+q+F,Y=W+C+q+F,Q=W+D+q+'\u8FD8\u6CA1\u6709\u5FAE\u535A\u5E10\u53F7\uFF1F<a href="'+B+'" target="_blank">\u7ACB\u5373\u514D\u8D39\u6CE8\u518C</a>'+F,K=V+N+z+"\u60A8\u5C1A\u672A\u767B\u5F55\u65B0\u6D6A\u5FAE\u535A\uFF0C\u8BF7\u5148\u767B\u5F55"+G,J=V+O+z+"<label>\u90AE\u7BB1/\u4F1A\u5458\u5E10\u53F7/\u624B\u673A\u53F7:</label><br />"+'<input type="text" />'+G,$=V+k+z+"<label>\u8BF7\u8F93\u5165\u5BC6\u7801:</label><br />"+'<input type="password" />'+G,Z=j+I+z+'<input type="text" value="\u8BF7\u8F93\u5165\u5FAE\u76FE\u9A8C\u8BC1\u7801" />'+G,et=V+S+z+'<input type="checkbox" checked="checked" /> '+"<label>\u4E0B\u6B21\u81EA\u52A8\u767B\u5F55</label>"+G,tt=V+A+" weibo-clearfix"+z+'<a class="weibo-button '+P+'" href="javascript:void(0)">\u767B\u5F55\u5FAE\u535A</a><a class="'+U+'" href="'+R+'" target="_blank">\u627E\u56DE\u5BC6\u7801</a>'+G,it="login",nt="success",ot="failure",rt=o.createWidget(o.Classes.Dialog,{CSS_PREFIX:y,initializer:function(e){var t={},i,n;
if(e){d(t,e.children);t.title=t.title||"\u767B\u5F55"}this._children=t},renderer:function(t){var i=this,n=i.constructor,o=i.wrapperBox,r=i.contentBox,s=i.elements,a=s.header,c=s.title,d=s.body,f=s.loginbox,g=s.form,p=s.tip,_=s.account,w=s.password,b=s.vdun,y=s.remember,T=s.submit,L,x,M,C,D,N,I=i._children;if(!f||!_||!w||!T){f=l(rt.LOGINBOX_TEMPLATE);g=l(rt.FORM_TEMPLATE);L=l(rt.SIGNUP_TEMPLATE);g.innerHTML=rt.TIP_TEMPLATE+rt.ACCOUNT_TEMPLATE+rt.PASSWORD_TEMPLATE+rt.VDUN_TEMPLATE+rt.REMEMBER_TEMPLATE+rt.ACTIONS_TEMPLATE;f.appendChild(g);f.appendChild(L);d.appendChild(f);i.queryElements();p=s.tip;_=s.account;w=s.password;b=s.vdun;y=s.remember;T=s.submit;x=u(E+O+" label",g)[0];M=u(E+k+" label",g)[0];C=u(E+S+" label",g)[0];N=(new Date).getTime();D="account-"+N;_.id=D;m(x,"for",D);D="password-"+N;w.id=D;m(M,"for",D);D="remember-"+N;y.id=D;m(C,"for",D);if(I.tip){p.innerHTML=I.tip}}v(_,"keydown",function(e){if(e.keyCode===13){var t=h(_.value),n=w.value,o=y.checked;i.trigger(it,{account:t,password:n,remember:o});return false}});v(_,"blur",function(e){if(_.value!=""){sinaSSOController.prelogin({username:_.value,checkpin:1},function(e){if(e.showpin==2){i.showVDun(true)}else{i.showVDun(false)}})}});v(w,"keydown",function(t){if(t.keyCode===13){var n=h(_.value),o=w.value,r=y.checked;if(e.sinaSSOController&&b.value!=""){sinaSSOController.loginExtraQuery["vsnval"]=b.value}else{sinaSSOController.loginExtraQuery["vsnval"]=null}i.trigger(it,{account:n,password:o,remember:r});return false}});v(b,"focus",function(e){if(b.value=="\u8BF7\u8F93\u5165\u5FAE\u76FE\u9A8C\u8BC1\u7801"){b.value=""}});v(b,"blur",function(e){if(b.value==""){b.value="\u8BF7\u8F93\u5165\u5FAE\u76FE\u9A8C\u8BC1\u7801"}});v(T,"click",function(t){var n=h(_.value),o=w.value,r=y.checked;if(e.sinaSSOController&&b.value!=""){sinaSSOController.loginExtraQuery["vsnval"]=b.value}else{sinaSSOController.loginExtraQuery["vsnval"]=null}i.trigger(it,{account:n,password:o,remember:r});return false})},show:function(){this.moveToPageCenter();this.constructor.superclass.show.call(this)},reset:function(e,t,i){if(!this._rendered||this._destroyed){return}e=e||"";t=t||"";i=i||false;var n=this.elements,o=n.account,r=n.password,s=n.remember;o.value=e;r.value=t;s.checked=!!i},setTip:function(e){if(!this._rendered||this._destroyed){return}this.elements.tip.innerHTML=e;this._adjustSize()},focus:function(){if(!this._rendered||this._destroyed){return}try{this.elements.account.focus()}catch(e){}},showVDun:function(e){var t=this.elements.vdun;if(t){if(e){t.parentNode.style.display="block"}else{t.parentNode.style.display="none"}this._adjustSize()}},destructor:function(){}},{NAME:T,LOGINBOX_TEMPLATE:X,FORM_TEMPLATE:Y,SIGNUP_TEMPLATE:Q,TIP_TEMPLATE:K,ACCOUNT_TEMPLATE:J,PASSWORD_TEMPLATE:$,VDUN_TEMPLATE:Z,REMEMBER_TEMPLATE:et,ACTIONS_TEMPLATE:tt,_queries:{loginbox:E+M,form:E+C,tip:E+N,account:E+O+" input",password:E+k+" input",vdun:E+I+" input",remember:E+S+" input",submit:E+P},_classNames:{box:M,form:C,tip:N,account:O,password:k,vdun:I,remember:S,actions:A,submit:P,lostpwd:U,signup:D},EVENTS:{LOGIN:it,SUCCESS:nt,FAILURE:ot}});o.Classes.LoginDialog=rt}(window,SINA);!function(e,t){var i=e.document,n=i.documentElement,o=e.Weibo,r=o.Utils,s=r.Textarea,a=r.cloneNode,l=r.createFromString,c=o.apis,d=t.extend,u=t.query,f=t.DOM,h=f.children,g=t.Event,p=g.delegate,m=g.addListener,_=g.removeListener,v=t.trim,w="weibo-",b="message",y=".",T=" ",E=w+b+"-",L=E+"tip",x=E+"buttons",M=E+"yes",C=E+"no",D='<div class="',N='">',O="</div>",k='<span class="',I='">',S="</span>",A="<p>",P="</p>",U=k+E+"question"+I+S,B=k+E+"warn"+I+S,R=k+E+"info"+I+S,W=k+E+"right"+I+S,H=k+E+"wrong"+I+S,q=D+L+" weibo-clearfix"+N+O,F=D+x+N+'<a class="'+M+'" href="javascript:void(0)"><em>\u786E\u5B9A</em></a><a class="'+C+'" href="javascript:void(0)"><em>\u53D6\u6D88</em></a>'+O,V="click",j="yes",z="no",G=o.createWidget(o.Classes.Dialog,{CSS_PREFIX:w,initializer:function(e){},renderer:function(e){var t=this,i=t.constructor,n=t.wrapperBox,o=t.contentBox,r=t.elements,s=r.header,a=r.title,c=r.body,d=r.tip,u=r.buttons,f=r.yes,h=r.no;s.style.display="none";if(!d||!u){d=l(q);u=l(F);c.appendChild(d);c.appendChild(u);t.queryElements();f=r.yes;h=r.no}m(f,V,function(e){t.trigger(j);e.preventDefault()});m(h,V,function(e){t.trigger(z);e.preventDefault()});m(t.overlayBox,V,function(e){t.hide()})},show:function(e,t){if(!e){return}var i=this.elements,n=i.tip,o=i.buttons;switch(t){case"question":n.innerHTML=U+A+e+P;o.style.display="block";break;case"warn":n.innerHTML=B+A+e+P;o.style.display="none";break;case"right":n.innerHTML=W+A+e+P;o.style.display="none";break;case"wrong":n.innerHTML=H+A+e+P;o.style.display="none";break;default:n.innerHTML=R+A+e+P;o.style.display="none";break}this.moveToPageCenter();this.constructor.superclass.show.call(this)},destructor:function(){var e=this.elements,t=e.yes,i=e.no,n=this.wrapperBox;_(t,V);_(i,V);n.parentNode.removeChild(n)}},{NAME:b,_queries:{tip:y+L,buttons:y+x,yes:y+M,no:y+C},EVENTS:{YES:j,NO:z}});o.Classes.MessageDialog=G}(window,SINA);!function(e,t){var i=e.document,n=i.documentElement,o=e.Weibo,r=o.Utils,s=r.Textarea,a=r.Time,l=a.timestamp,c=a.displayString,d=r.createFromString,u=r.replaceStatusText,f=r.htmlEncode,h=t.extend,g=t.query,p=t.isArray,m=t.DOM,_=m.children,v=t.Event,w=v.delegate,b=Array.prototype.splice,y="weibo-",T="commentlist",E=".",L=" ",x=y+T+"-",M=x+"list",C=x+"item",D=x+"head",N=x+"feed",O=x+"text",k=x+"time",I=x+"actions",S=x+"reply",A=E+S,P='<div class="',U='">',B="</div>",R='<ol class="'+M+'"></ol>',W="click-reply",H="http://weibo.com/",q=function(e){var t=[],i=e.id,n=e.text,o=e.created_at||0,r=e.user,s=r.id,a=r.screen_name,d=r.verified,h=H+(r.profile_url||"u/"+s),g=r.profile_image_url;g=g.replace("/50/","/30/");t.push('<li id="weibo-comment-');t.push(i);t.push('" class="');t.push(C);t.push(' weibo-clearfix"><a class="');t.push(D);t.push('" target="_blank" href="');t.push(h);t.push('" title="');t.push(a);t.push('"><img src="');t.push(g);t.push('" title="');t.push(a);t.push('" /></a>');t.push('<div class="');t.push(N);t.push('"><p class="');t.push(O);t.push('"><a target="_blank" href="');t.push(h);t.push('" title="');t.push(a);t.push('">');t.push(a);t.push("</a>\uFF1A");t.push(u(f(n)));t.push(' <span class="');t.push(k);t.push('">(');t.push(c(l(o)));t.push(')</span></p><div class="');t.push(I);t.push('"><a class="');t.push(S);t.push('" href="javascript:void(0)">\u56DE\u590D</a>');t.push("</div></div></li>");return t.join("")},F=o.createWidget({CSS_PREFIX:y,initializer:function(e){var t={},i=[],n=10;if(e){n=e.capacity||n;h(t,e.children);i=e.data||i}this._capacity=n;this._comments=i;this._children=t},renderer:function(e){var t=this,i=t.constructor,n=t.wrapperBox,o=t.contentBox,r=t.elements,s=r.list,a,l,c,u,f,h,p,m=t._comments,_,v=t._children,b=t._capacity;if(!s){s=d(F.LIST_TEMPLATE);o.appendChild(s);r.list=s}if(m){if(b!==-1&&m.length>b){m=m.slice(0,b)}_=F._buildList(m);s.innerHTML=_}w(s,"click",A,function(e){var i=g(A,s),n=0,o=this,r;if(i.indexOf){n=i.indexOf(this)}else{for(var a=0,l=i.length;a<l;a++){if(i[a]===this){n=a}}}o=this;r=t._comments[n]||null;t.trigger(W,{index:n,comment:r,clickedElement:o});e.preventDefault()})},length:function(){if(!this._rendered||this._destroyed){return 0}return this._comments&&this._comments.length||0},insert:function(e,t){if(!this._rendered||this._destroyed){return}t=parseInt(t)||0;var i=this._comments,n=this._capacity,o=this.elements.list;if(!p(e)){e=[e]}if(t===0){e=e.concat(i)}else if(t>=this.length()){e=i.concat(e)}else{e.unshift(t,0);b.apply(i,e);e=i}if(n!==-1&&e.length>n){e=e.slice(0,n)}this._comments=e;o.innerHTML=F._buildList(e)},append:function(e){this.insert(e,this.length())},prepend:function(e){this.insert(e,0)},remove:function(e){this.removeRange(e,e+1)},removeRange:function(e,t){if(!this._rendered||this._destroyed){return 0}e=e||0;t=t||this.length();var i=this._comments,n=this.elements.list;i.splice(e,t-e);n.innerHTML=F._buildList(i)},reset:function(e){var t=this._capacity,i=this.elements.list;if(p(e)){if(t!==-1&&e.length>t){e=e.slice(0,t)}this._comments=e;i.innerHTML=F._buildList(e)}},destructor:function(){}},{NAME:T,LIST_TEMPLATE:R,_queries:{list:E+M},_classNames:{list:M,item:C,head:D,feed:N,text:O,time:k,actions:I,reply:S},EVENTS:{REPLY:W},_buildList:function(e){var t=F._buildItem,i=[],n,o=e&&e.length||0;a.update();for(n=0;n<o;n++){i.push(t(e[n]))}return i.join("")},_buildItem:q});o.Classes.CommentList=F}(window,SINA);!function(e,t){var i=e.document,n=i.documentElement,o=e.Weibo,r=o.Classes.CommentList,s=o.Utils,a=s.Textarea,l=s.createFromString,c=t.extend,d=t.query,u=t.later,f=t.isArray,h=t.DOM,g=h.children,p=h.next,m=h.attr,_=t.Event,v=_.addListener,w=_.delegate,b="weibo-",y="commentbox",T="http://img.t.sinajs.cn/t3/style/images/common/loading.gif",E=".",L=" ",x=b+y+"-",M=x+"form",C=x+"list",D=x+"more",N=x+"loading",O=x+"emoticons",k=x+"submit",I=x+"options",S=x+"rt",A=x+"to",P=x+"user",U='<div class="',B='">',R="</div>",W=U+M+B+R,H=U+C+B+R,q=U+D+B+R,F=U+N+B+'<img src="'+T+'" />'+R,V='<a href="javascript:void(0)" title="\u8868\u60C5" class="'+O+'"></a>',j="<textarea></textarea>",z='<a href="javascript:void(0)" title="" class="'+k+' weibo-button">\u8BC4\u8BBA</a>',G=U+I+B+'<p class="'+S+'"><input type="checkbox" />'+'<label>\u540C\u65F6\u8F6C\u53D1\u5230\u6211\u7684\u5FAE\u535A</label></p><p class="'+A+'"><input type="checkbox" />'+'<label>\u540C\u65F6\u8BC4\u8BBA\u7ED9\u539F\u6587\u4F5C\u8005 <span class="'+P+'"></span></label></p>'+R,X="submit",Y="show-emoticons",Q=o.createWidget({CSS_PREFIX:b,initializer:function(e){var t={},i=[],n=10;if(e){n=e.capacity||n;this._url=e.tweetUrl||"#";this._original=e.original||"";c(t,e.children);i=e.data||i}this._children=t;this._textRange=null;this._editorTimer=null;this._commentlist=new r({capacity:n,data:i})},renderer:function(e){var t=this,i=t.constructor,n=t.wrapperBox,o=t.contentBox,s=t.elements,c=s.form,f=s.list,h=s.editor,g=s.submit,p=s.emoticons,_,w,b,y,T,E,L,x=t._commentlist,M=t._comments,C=t._children,D,N;if(!c||!f||!h||!g){c=l(Q.FORM_TEMPLATE);f=l(Q.LIST_TEMPLATE);_=l(Q.MORE_TEMPLATE);w=l(Q.LOADING_TEMPLATE);c.innerHTML=Q.EMOTICONS_TEMPLATE+Q.EDITOR_TEMPLATE+Q.SUBMIT_TEMPLATE+Q.OPTIONS_TEMPLATE;_.innerHTML='<a href="'+t._url+'" target="_blank" title="\u70B9\u51FB\u67E5\u770B\u5168\u90E8\u8BC4\u8BBA">'+"\u70B9\u51FB\u67E5\u770B\u5168\u90E8\u8BC4\u8BBA &gt;&gt;</a>";o.appendChild(c);o.appendChild(f);o.appendChild(_);o.appendChild(w);t.queryElements();c=s.form;f=s.list;_=s.more;w=s.loading;p=s.emoticons;h=s.editor;g=s.submit;b=s.retweet;y=s.retweetCheckbox;T=s.toOriginal;E=s.toOriginalCheckbox;L=s.user;N=(new Date).getTime();D="rt-"+N;y.id=D;m(d("label",b)[0],"for",D);D="to-"+N;E.id=D;m(d("label",T)[0],"for",D)}if(t._original){T.style.display="block";L.innerHTML=t._original}else{T.style.display="none";L.innerHTML=""}x.render(f);t._commentlist=x;v(x,r.EVENTS.REPLY,function(e){var i=e.comment,n=h.value,o,r=/^\u56DE\u590D@[^\:]+\:/,s=i.user&&i.user.screen_name,l="\u56DE\u590D@"+s+":";t.cid=i.idstr;t.cmtUserStr=l;o=n.replace(r,l);if(o===n&&!n.match(r)){o=l+n}h.value=o;a.toTail(h);return false});t._editorTimer=u(function(){h.style.height="18px";var e=18,t=h.scrollHeight;t=Math.round(t/e)*e;h.style.height=t+"px"},200,true);v(p,"click",function(e){t._textRange=a.getPosition(h);t.trigger(Y,{clickedElement:this});return false});v(g,"click",function(e){e.preventDefault();var i=h.value,n=s.retweetCheckbox.checked,o=s.toOriginalCheckbox.checked?1:0;t.trigger(X,{cid:t.cid||0,text:i,retweet:n,commentToOriginal:o,commentUserText:t.cmtUserStr||""})})},reset:function(e,t){if(!this._rendered||this._destroyed){return}var i=this.elements,n=i.toOriginal,o=i.user,r=i.more;this._url=e;r.innerHTML='<a href="'+e+'" target="_blank" title="\u70B9\u51FB\u67E5\u770B\u5168\u90E8\u8BC4\u8BBA">'+"\u70B9\u51FB\u67E5\u770B\u5168\u90E8\u8BC4\u8BBA &gt;&gt;</a>";if(t){n.style.display="block";o.innerHTML=t;this._original=t}else{n.style.display="none";o.innerHTML="";this._original=""}},focus:function(){if(!this._rendered||this._destroyed){return}a.toHead(this.elements.editor)},setListData:function(e){if(!this._rendered||this._destroyed){return}this._commentlist.reset(e)},insertList:function(e,t){if(!this._rendered||this._destroyed){return}this._commentlist.insert(e,t)},insertText:function(e,t){if(!this._rendered||this._destroyed){return}var i=this.elements.editor,n;if(t==="head"){a.toHead(i);n=a.getPosition(i);this._textRange=n}else if(t==="tail"||!this._textRange){a.toTail(i);n=a.getPosition(i);this._textRange=n}else{n=this._textRange}a.setText(i,n,e)},removeText:function(e){if(!this._rendered||this._destroyed){return}var t=this.elements.editor,i=t.value||"",n=this.elements.tip;if(e){t.value=i.replace(e,"")}else{t.value=""}},toggleLoading:function(e){if(!this._rendered||this._destroyed){return}var t=this.elements,i=t.list,n=t.more,o=t.loading;if(e){i.style.display="none";n.style.display="none";o.style.display="block"}else{i.style.display="block";n.style.display="block";o.style.display="none"}},destructor:function(){}},{NAME:y,FORM_TEMPLATE:W,LIST_TEMPLATE:H,MORE_TEMPLATE:q,LOADING_TEMPLATE:F,EMOTICONS_TEMPLATE:V,EDITOR_TEMPLATE:j,SUBMIT_TEMPLATE:z,OPTIONS_TEMPLATE:G,_queries:{form:E+M,list:E+C,editor:E+M+" textarea",more:E+D,loading:E+N,emoticons:E+O,submit:E+k,retweet:E+S,retweetCheckbox:E+S+" input",toOriginal:E+A,toOriginalCheckbox:E+A+" input",user:E+P},_classNames:{form:M,more:D,loading:N,emoticons:O,submit:k,options:I,retweet:S,toOriginal:A,user:P},EVENTS:{SUBMIT:X,EMOTICONS:Y}});o.Classes.CommentBox=Q}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Classes,s=r.CommentBox,a=r.Dialog,l=o.createFromString,c=t.extend,d=t.later,u=t.Array.forEach,f=t.DOM,h=t.Event,g=f.style,p=h.addListener,m="weibo-",_="commentpopup",v=".",w=" ",b=m+_+"-",y='<div class="',T='">',E="</div>",L=["insertText","removeText","focus","reset"],x=s.EVENTS,M=[x.SUBMIT,x.EMOTICONS],C=n.createWidget(a,{CSS_PREFIX:m,initializer:function(e){var t={};if(e){c(t,e.children);t.title=t.title||"\u8BC4\u8BBA"}this._children=t;this._resizeTimer=null;this._metrics={}},destructor:function(){},renderer:function(){var e=this,t=e.wrapperBox,i=e.contentBox,n=e.constructor,o=e.elements,r=o.title,a=o.body,l=new s({capacity:-1,tweetUrl:"#",width:e._width-35});l.render(a);e._commentbox=l;u(L,function(t){e[t]=function(){l[t].apply(l,arguments)}});u(M,function(t){p(l,t,function(i){e.trigger(t,i)})});e._metrics.width=g(i,"width");e._metrics.height=g(i,"height");e._resizeTimer=d(function(){var t=e._metrics,n=g(i,"width"),o=g(i,"height");if(t.width!==n||t.height!==o){t.width=n;t.height=o;e._adjustSize()}},200,true)},show:function(){this.moveToPageCenter();this._commentbox.toggleLoading(true);this.constructor.superclass.show.call(this)},setListData:function(e){this._commentbox.setListData(e);this._commentbox.toggleLoading(false)}},{NAME:_,_queries:{},_classNames:{},EVENTS:{SHOW:"show",HIDE:"hide",MOVE:"move",SUBMIT:"submit",EMOTICONS:"show-emoticons"}});n.Classes.CommentDialog=C}(window,SINA);!function(e,t){var i=e.document,n=i.documentElement,o=e.Weibo,r=o.Utils,s=r.Textarea,a=r.cloneNode,l=r.createFromString,c=r.updateWordCount,d=t.extend,u=t.query,f=t.DOM,h=f.children,g=t.Event,p=g.delegate,m=g.addListener,_=g.removeListener,v="weibo-",w="emoticons",b=".",y=" ",T=v+w+"-",E=T+"list",L=T+"emoticon",x=v+"arrow",M='<div class="',C='">',D="</div>",N=M+E+" weibo-clearfix"+C+"<ul></ul>"+D,O=M+x+C,k="emoticon",I=o.createWidget(o.Classes.Dialog,{CSS_PREFIX:v,initializer:function(e){var t={},i={};if(e){d(t,e.children);d(i,e.data)}t.title=t.title||"\u5E38\u7528\u8868\u60C5";this._emoticons=i;this._children=t},renderer:function(e){var t=this,n=t.constructor,o=t.wrapperBox,r=t.contentBox,s=t.elements,a=s.header,c=s.title,d=s.body,u=s.list,f=t._emoticons,h=t._children,g=function(e){var n=e.target,o=false;while(n&&n!==i){if(n===r){o=true;break}n=n.parentNode}if(!o){t.hide();_(i,"click",g)}return false};a.insertBefore(l(O),c);if(!u){u=l(N);d.appendChild(u);s.list=u}t.setEmoticons(f);p(u,"click",b+L+" a",function(e){var i=this.title;t.trigger(k,{emoticon:i});t.hide();return false});t.addListener("hide",function(e){_(i,"click",g)});t.addListener("show",function(e){m(i,"click",g)})},setEmoticons:function(e){var t=this,i=t.elements,n=i.list,o,r,s=[];o=h(n)[0];if(e){for(r in e){s.push('<li class="'+L+'"><a title="');s.push(r);s.push('" href="javascript:void(0)"><img src="');s.push(e[r]);s.push('" /></a></li>')}o.innerHTML=s.join("")}},destructor:function(){}},{NAME:w,_queries:{list:b+E},_classNames:{},EVENTS:{EMOTICON:k}});o.Classes.Emoticons=I}(window,SINA);!function(e,t){var i=e.document,n=i.documentElement,o=e.Weibo,r=o.Utils,s=r.Textarea,a=r.cloneNode,l=r.createFromString,c=o.apis,d=t.extend,u=t.query,f=t.DOM,h=f.children,g=t.Event,p=g.delegate,m=g.addListener,_=g.removeListener,v=t.trim,w="weibo-",b="vdialog",y=".",T=" ",E=w+b+"-",L=E+"tip",x=E+"form",M=E+"input",C=E+"submit",D=w+"arrow",N='<div class="',O='">',k="</div>",I=N+L+O+k,S=N+x+" weibo-clearfix"+O+'<input type="text" class="'+M+'" /><a class="'+C+'" href="javascript:void(0)"><em>\u786E\u5B9A</em></a>'+k,A=N+D+O,P='\u76EE\u524D\u5DF2\u652F\u6301<a target="_blank" href="http://video.sina.com.cn">\u65B0\u6D6A\u64AD\u5BA2</a>'+'\u3001<a target="_blank" href="http://www.youku.com">\u4F18\u9177\u7F51</a>'+'\u3001<a target="_blank" href="http://www.tudou.com">\u571F\u8C46\u7F51</a>'+'\u3001<a target="_blank" href="http://www.ku6.com/">\u91776\u7F51</a>'+'\u3001<a target="_blank" href="http://www.56.com/">\u6211\u4E50\u7F51</a>'+'\u3001<a target="_blank" href="http://www.qiyi.com/">\u5947\u827A\u7F51</a>'+'\u3001<a target="_blank" href="http://www.ifeng.com/">\u51E4\u51F0\u7F51</a>'+"\u7B49\u89C6\u9891\u7F51\u7AD9\u7684\u89C6\u9891\u64AD\u653E\u9875\u94FE\u63A5\u3002",U="click",B="video",R=o.createWidget(o.Classes.Dialog,{CSS_PREFIX:w,initializer:function(e){var t={};if(e){d(t,e.children)}t.title=t.title||"\u89C6\u9891";this._children=t},renderer:function(e){var t=this,n=t.constructor,o=t.wrapperBox,r=t.contentBox,s=t.elements,a=s.header,d=s.title,u=s.body,f=s.tip,h=s.form,g=s.input,p=s.submit,w=t._children,b=function(e){var n=e.target,o=false;while(n&&n!==i){if(n===r){o=true;break}n=n.parentNode}if(!o){t.hide();_(i,U,b)}return false};a.insertBefore(l(A),d);if(!f||!h){f=l(I);f.innerHTML=P;h=l(S);u.appendChild(f);u.appendChild(h);t.queryElements();f=s.tip;h=s.form;g=s.input;p=s.submit}m(p,U,function(e){var i=v(g.value);if(!i){return}c.shortenUrl({data:{url_long:i},onsuccess:function(e){var i=e[0]||{},n=i.url_short||"";t.trigger(B,{url:n})},onfailure:function(e){}});e.preventDefault()});t.addListener("hide",function(e){_(i,U,b)});t.addListener("show",function(e){m(i,U,b)})},show:function(){this.elements.input.value="";this.constructor.superclass.show.call(this)},setTip:function(e){if(typeof e!=="undefined"){this.elements.tip=e}},destructor:function(){}},{NAME:b,_queries:{tip:y+L,form:y+x,input:y+M,submit:y+C},EVENTS:{VIDEO:B}});o.Classes.VideoDialog=R}(window,SINA);!function(e,t){var i=e.document,n=i.documentElement,o=e.Weibo,r=o.Utils,s=r.Textarea,a=r.cloneNode,l=r.createFromString,c=r.updateWordCount,d=t.extend,u=t.query,f=t.later,h=t.DOM,g=h.style,p=h.attr,m=h.next,_=t.Event,v=_.addListener,w=_.removeListener,b="weibo-",y="retweet",T=".",E=" ",L=b+y+"-",x=L+"box",M=L+"quote",C=L+"form",D=L+"emoticons",N=L+"wordcount",O=L+"textarea",k=L+"options",I=L+"touser",S=L+"tooriginal",A=L+"user",P=L+"ouser",U=L+"actions",B=L+"submit",R=L+"cancel",W='<div class="',H='">',q="</div>",F=W+x+H+W+M+H+q+W+C+H+'<a class="'+D+'" href="javascript:void(0)" title="\u8868\u60C5"></a>'+W+N+H+"\u8FD8\u53EF\u4EE5\u8F93\u5165<em>140</em>\u4E2A\u6C49\u5B57"+q+'<textarea class="'+O+'"></textarea>'+W+k+H+'<p class="'+I+'"><input type="checkbox"><label>\u540C\u65F6\u8BC4\u8BBA\u7ED9 <span class="'+A+'"></span></label></p><p class="'+S+'"><input type="checkbox"><label>\u540C\u65F6\u8BC4\u8BBA\u7ED9\u539F\u6587\u4F5C\u8005 '+'<span class="'+P+'"></span></label></p>'+q+q+W+U+H+'<a class="'+B+'" href="javascript:void(0);">\u8F6C\u53D1</a>'+'<a class="'+R+'" href="javascript:void(0);">\u53D6\u6D88</a>'+q+q,V="submit",j="show-emoticons",z=o.createWidget(o.Classes.Dialog,{CSS_PREFIX:b,initializer:function(e){var t={};if(e){d(t,e.children)}this._children=t;this._wordCountTimer=null;this._textRange=null},renderer:function(e){var t=this,i=t.constructor,n=t.wrapperBox,o=t.contentBox,r=t.elements,a=r.header,d=r.title,u=r.body,h=r.quote,g=r.editor,_=r.submit,w,b,y,T,E,L,x,M,C,D,N,O,k,I,S=t._children;if(!g||!h||!_){D=l(z.RT_TEMPLATE);u.appendChild(D);t.queryElements();h=r.quote;w=r.emoticons;b=r.tip;g=r.editor;y=r.toUser;T=r.toUserCheckbox;E=r.user;L=r.toOriginal;x=r.toOriginalCheckbox;M=r.original;_=r.submit;C=r.cancel;N=m(T);O=m(x);I=(new Date).getTime();k="touser-"+I;T.id=k;p(N,"for",k);k="tooriginal-"+I;x.id=k;p(O,"for",k);if(S.quote){h.innerHTML=S.quote}}v(g,"keydown",function(e){c(this,b);e.stopPropagation()});if(!t._wordCountTimer){t._lastText="";t._wordCountTimer=f(function(){if(g.value!==t._lastText){c(g,b);t._lastText=g.value}},100,true)}v(w,"click",function(e){e.preventDefault();t._textRange=s.getPosition(g);t.trigger(j,{clickedElement:this});return false});v(_,"click",function(e){e.preventDefault();var i=g.value,n=T.checked,o=x.checked;t.trigger(V,{text:i,commentToUser:n,commentToOriginal:o})});v(C,"click",function(e){t.hide();e.preventDefault()})},show:function(){this.moveToPageCenter();this.constructor.superclass.show.call(this)},insertText:function(e,t){if(!this._rendered||this._destroyed){return}var i=this.elements.editor,n;if(t==="head"){s.toHead(i);n=s.getPosition(i);this._textRange=n}else if(t==="tail"||!this._textRange){s.toTail(i);n=s.getPosition(i);this._textRange=n}else{n=this._textRange}s.setText(i,n,e)},removeText:function(e){if(!this._rendered||this._destroyed){return}var t=this.elements.editor,i=t.value||"",n=this.elements.tip;if(e){t.value=i.replace(e,"")}else{t.value=""}},setQuote:function(e){if(!this._rendered||this._destroyed){return}this.elements.quote.innerHTML=e.replace(/</g,"&lt;");if(g(this.wrapperBox,"display")!=="none"){this._adjustSize()}},setOptions:function(e,t){var i=this.elements,n=i.toUser,o=i.toUserCheckbox,r=i.user,s=i.toOriginal,a=i.toOriginalCheckbox,l=i.original;o.checked=false;a.checked=false;if(e){n.style.display="block";r.innerHTML=e}else{n.style.display="none"}if(t){s.style.display="block";l.innerHTML=t}else{s.style.display="none"}},focus:function(){if(!this._rendered||this._destroyed){return}s.toHead(this.elements.editor)},destructor:function(){}},{NAME:y,RT_TEMPLATE:F,_queries:{quote:T+M,emoticons:T+D,tip:T+N,editor:"textarea"+T+O,toUser:T+I,toUserCheckbox:T+I+E+"input",user:T+A,toOriginal:T+S,toOriginalCheckbox:T+S+E+"input",original:T+P,submit:T+B,cancel:T+R},_classNames:{}});o.Classes.RetweetDialog=z}(window,SINA);!function(e,t){var i=e.document,n=i.documentElement,o=e.Weibo,r=o.Utils,s=r.cloneNode,a=r.createFromString,l=r.updateWordCount,c=r.Textarea,d=t.extend,u=t.later,f=t.DOM,h=f.cache,g=t.Event,p=g.addListener,m=g.removeListener,_="weibo-",v="publisher",w=".",b=" ",y=_+v+"-",T=y+"tip",E=y+"editor",L=y+"actions",x=y+"action",M=y+"emoticons",C=y+"imgupload",D=y+"vidupload",N=y+"submit",O='<div class="',k='">',I="</div>",S='<span class="',A='">',P="</span>",U='<a href="javascript:void(0)" class="',B='">',R="</a>",W=O+T+k+I,H=O+E+k+"<textarea></textarea>"+I,q=U+x+b+M+'" title="\u8868\u60C5'+B+"\u8868\u60C5"+R,F=U+x+b+C+'" title="\u56FE\u7247'+B+"\u56FE\u7247"+R,V=U+x+b+D+'" title="\u89C6\u9891'+B+"\u89C6\u9891"+R,j='<a class="'+N+'" href="javascript:void(0);" title=""><em>\u53D1\u5E03</em></a>',z=O+L+" weibo-clearfix"+k+I;E_SUBMIT="submit",E_EMOTICONS="show-emoticons",E_IMGUPLOAD="show-imgupload",E_VIDUPLOAD="show-vidupload",Publisher=o.createWidget({CSS_PREFIX:_,initializer:function(e){var t={},i;if(e){d(t,e.children);this._display=e.display}this._children=t;this._wordCountTimer=null;this._textRange=null},destructor:function(){},renderer:function(){var e=this.wrapperBox,t=this.contentBox,i=this.constructor,n=this.elements,o=n.tip,r=n.editor,s=n.emoticons,d=n.imgupload,f=n.vidupload,h=n.submit,g=this._children,m=this._display,_=this;if(!o&&!r&&!h){o=a(Publisher.TIP_TEMPLATE);r=a(Publisher.EDITOR_TEMPLATE);s=a(Publisher.EMOTICONS_TEMPLATE);d=a(Publisher.IMGUPLOAD_TEMPLATE);f=a(Publisher.VIDUPLOAD_TEMPLATE);h=a(Publisher.SUBMIT_TEMPLATE);actions=a(Publisher.ACTIONS_TEMPLATE);o.innerHTML="\u4F60\u8FD8\u53EF\u4EE5\u8F93\u5165<em>140</em>\u5B57";actions.appendChild(s);actions.appendChild(d);actions.appendChild(f);actions.appendChild(h);t.appendChild(o);t.appendChild(r);t.appendChild(actions);_.queryElements();r=n.editor;s=n.emoticons;d=n.imgupload;f=n.vidupload}if(m){_.displayActions(m)}if(_._width){r.style.width=_._width-6+"px"}p(r,"keydown",function(e){l(this,o);e.stopPropagation()});if(!_._wordCountTimer){_._lastText="";_._wordCountTimer=u(function(){if(r.value!==_._lastText){l(r,o);_._lastText=r.value}},100,true)}p(s,"click",function(e){e.preventDefault();_._textRange=c.getPosition(r);_.trigger(E_EMOTICONS,{clickedElement:this});return false});p(d,"click",function(e){e.preventDefault();_._textRange=c.getPosition(r);_.trigger(E_IMGUPLOAD,{clickedElement:this});return false});p(f,"click",function(e){e.preventDefault();_._textRange=c.getPosition(r);_.trigger(E_VIDUPLOAD,{clickedElement:this});return false});p(h,"click",function(e){e.preventDefault();var t=r.value;_.trigger(E_SUBMIT,{text:t})})},display:function(e){if(!this._rendered||this._destroyed){return}this.displayActions(e)},displayActions:function(e){e=e||{};var t=this.elements,i=t.emoticons,n=t.imgupload;vidupload=t.vidupload;if(e.emoticons===false){i.style.display="none"}else{i.style.display="inline"}if(e.imgupload===false){n.style.display="none"}else{n.style.display="inline"}if(e.vidupload===false){vidupload.style.display="none"}else{vidupload.style.display="inline"}},insertText:function(e,t){if(!this._rendered||this._destroyed){return}var i=this.elements.editor,n;if(t==="head"){c.toHead(i);n=c.getPosition(i);this._textRange=n}else if(t==="tail"||!this._textRange){c.toTail(i);n=c.getPosition(i);this._textRange=n}else{n=this._textRange}c.setText(i,n,e)},removeText:function(e){if(!this._rendered||this._destroyed){return}var t=this.elements.editor,i=t.value||"",n=this.elements.tip;if(e){t.value=i.replace(e,"")}else{t.value=""}},buttonText:function(e){if(!this._rendered||this._destroyed){return}var t=this.elements.submit;t.innerHTML="<em>"+e+"</em>"},focus:function(){c.toTail(this.elements.editor)}},{NAME:v,TIP_TEMPLATE:W,EDITOR_TEMPLATE:H,EMOTICONS_TEMPLATE:q,IMGUPLOAD_TEMPLATE:F,VIDUPLOAD_TEMPLATE:V,SUBMIT_TEMPLATE:j,ACTIONS_TEMPLATE:z,_queries:{tip:w+T,editor:w+E+" textarea",emoticons:w+M,imgupload:w+C,vidupload:w+D,submit:w+N},_classNames:{tip:T,editor:E,emoticons:M,imgupload:C,vidupload:D,submit:N},EVENTS:{SUBMIT:E_SUBMIT,EMOTICONS:E_EMOTICONS,IMGUPLOAD:E_IMGUPLOAD,VIDUPLOAD:E_VIDUPLOAD}});o.Classes.Publisher=Publisher}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Classes,s=r.Publisher,a=r.Dialog,l=o.createFromString,c=t.extend,d=t.Array.forEach,u=t.DOM,f=t.Event,h=u.style,g=f.addListener,p="weibo-",m="publisherdialog",_=".",v=" ",w=p+m+"-",b=w+"quote",y='<div class="',T='">',E="</div>",L=y+b+T+E,x=["insertText","removeText","buttonText","display","focus"],M=s.EVENTS,C=[M.SUBMIT,M.EMOTICONS,M.IMGUPLOAD,M.VIDUPLOAD],D=n.createWidget(a,{CSS_PREFIX:p,initializer:function(e){var t={};if(e){c(t,e.children);this._display=e.display}this._children=t},destructor:function(){},renderer:function(){var e=this.wrapperBox,t=this.contentBox,i=this.constructor,n=this.elements,o=n.title,r=n.body,a=n.quote,c,u=x.length,f,h=this,p=h._display,m;if(h._width){m=new s({width:h._width-28,display:p})}else{m=new s({display:p})}m.render(r);h._publisher=m;if(!a){a=l(D.QUOTE_TEMPLATE);r.insertBefore(a,r.firstChild);n.quote=a}d(x,function(e){h[e]=function(){m[e].apply(m,arguments)}});d(C,function(e){g(m,e,function(t){h.trigger(e,t)})})},show:function(){this.moveToPageCenter();this.constructor.superclass.show.call(this)},setQuote:function(e){if(!this._rendered||this._destroyed){return}this.elements.quote.innerHTML=e;this._adjustSize()}},{NAME:m,QUOTE_TEMPLATE:L,_queries:{quote:_+b},_classNames:{quote:b},EVENTS:{SHOW:"show",HIDE:"hide",MOVE:"move",SUBMIT:"submit",EMOTICONS:"show-emoticons",IMGUPLOAD:"show-uploader"}});n.Classes.PublisherDialog=D}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.apis,s=o.Time,a=o.Image,l=o.replaceStatusText,c=o.htmlEncode,d=o.createFromString,u=o.cloneNode,f=o.customAttr,h=function(){},g=t.DOM,p=t.Event,m=p.delegate,_=g.next,v=g.previous,w=g.children,b=g.style,y=g.addClass,T=g.removeClass,E=t.extend,L=t.query,x=i.querySelectorAll?function(e,t){if(t){return t.querySelectorAll(e)}return i.querySelectorAll(e)}:function(e,t){return L(e,t)},M="weibo-",C="list",D=".",N=" ",O=M+"user",k=M+C+"-",I=k+"follow",S=k+"videolink",A=k+"preview",P=k+"thumb",U=k+"detail",B=k+"action-collapse",R=k+"action-turnleft",W=k+"action-turnright",H=k+"action-rt",q=k+"action-fav",F=k+"action-cmt",V=k+"comments",j=k+"detailcontent",z=D+j+" img",G=D+j+" canvas",X="follow",Y="show-image",Q="show-video",K="retweet",J="comment",$="favorite",Z="user-info",et="click",tt="http://weibo.com/",it=n.createWidget({CSS_PREFIX:M,CONTENT_TAG:"ol",initializer:function(e){var t={},i=10,n;if(e){i=e.capacity||i;E(t,e.children);n=e.narrow||false}this._children=t;this._narrow=n},renderer:function(e){var t=this,i=t.constructor,n=t.wrapperBox,o=t.contentBox,s,l,c,d,u,h,g,p=t._children,b=D+A,E=D+U,L=D+j,M=D+V,C=a.TURN_LEFT,N=a.TURN_RIGHT,k;k=t._narrow;if(!k){m(o,et,D+S,function(e){var t=this.parentNode.parentNode,i,n,o,s=f(this,"id");o=x(b,t);i=o&&o.length&&o[0];n=_(i);i.style.display="none";n.style.display="block";n.innerHTML=it.LOADING;r.getVideo({data:{url_short:s},onsuccess:function(e){var t=it.buildVideoDetail(e);n.innerHTML=t},onfailure:function(){}});return false});m(o,et,D+P,function(e){var t=f(this,"id"),i=f(this,"type"),n=this.parentNode,o=_(n),s,a;n.style.display="none";o.style.display="block";o.innerHTML=it.LOADING;if(i==="image"){s=w(this)[0];a=s&&s.src;o.innerHTML=it.buildImageDetail(a)}else if(i==="video"){r.getVideo({data:{url_short:t},onsuccess:function(e){var t=it.buildVideoDetail(e);o.innerHTML=t},onfailure:function(){}})}return false});function Y(e){var t=this.parentNode.parentNode,i=v(t);i.style.display="block";t.style.display="none";t.innerHTML="";return false}m(o,et,D+B,Y);m(o,et,z,Y);m(o,et,G,Y);m(o,et,D+R,function(e){var t=this.parentNode.parentNode,i=x(z,t),n=i&&i[0];a.rotate90(n,C);return false});m(o,et,D+W,function(e){var t=this.parentNode.parentNode,i=x(z,t),n=i&&i[0];a.rotate90(n,N);return false});T(o,"weibo-list-noimg")}else{y(o,"weibo-list-noimg")}m(o,et,"a"+D+I,function(e){var i=this,n=f(i,"uid")||0;t.trigger(X,{followButton:i,uid:n});return false});m(o,et,D+H,function(e){var i=f(this,"id")||0,n=this,o=this.parentNode.parentNode.parentNode,r,s,a,l;if(i){r=f(this,"text")||"";s=f(this,"quote")||"";a=f(this,"user")||"";l=f(this,"original")||"";t.trigger(K,{rtId:i,rtText:r,rtQuote:s,rtUser:a,rtOriginal:l,actionNode:n,feedNode:o});return false}e.stopPropagation()});m(o,et,D+F,function(e){var i=f(this,"id")||0,n=this,o,r,s,a,l,c,d;if(i){o=f(this,"uid")||0;r=f(this,"mid")||0;s=f(this,"user")||"";a=f(this,"original")||"";l=this.parentNode.parentNode.parentNode;c=x(M,l);d=c&&c[0];t.trigger(J,{cmtId:i,cmtUid:o,cmtMid:r,cmtUser:s,cmtOriginal:a,cmtNode:d,actionNode:n,feedNode:l});return false}e.stopPropagation()});m(o,et,D+q,function(e){var i=f(this,"id")||0,n=this,o;if(i){o=this.parentNode.parentNode.parentNode;t.trigger($,{id:i,actionNode:n,feedNode:o})}return false});m(o,"mouseenter",D+O,function(e){var i=this.title||"",n=this;if(i){t.trigger(Z,{username:i,userNode:n})}return false})},length:function(){if(!this._rendered||this._destroyed){return 0}return w(this.contentBox).length||0},insert:function(e,t){if(!this._rendered||this._destroyed){return}},append:function(e){var t=this.contentBox;t.appendChild(d(it.buildList(e)))},prepend:function(e){var t=this.contentBox;t.insertBefore(d(it.buildList(e)),t.firstChild)},remove:function(){this.contentBox.innerHTML=""},reset:function(e){this._tweets=e;this.contentBox.innerHTML="";if(e){this.contentBox.appendChild(d(it.buildList(e)))}},destructor:function(){}},{NAME:C,LOADING:'<div class="weibo-list-loading"><img src="'+"http://img.t.sinajs.cn/t3/style/images/common/loading.gif"+'" alt="Loading..." /></div>',buildList:function(e){return e.html},buildImageDetail:function(e){if(!e){return""}var t=e.replace("/thumbnail/","/bmiddle/"),i=e.replace("/thumbnail/","/large/"),n=['<p class="weibo-list-actions"><span class="','weibo-list-action weibo-list-action-collapse">','<a href="javascript:void(0)" title="\u6536\u8D77">\u6536\u8D77</a>','</span><span class="weibo-list-line">|</span>','<span class="weibo-list-action"><a href="',i,'"title="\u67E5\u770B\u5927\u56FE" target="_blank">\u67E5\u770B\u5927\u56FE</a></span>','<span class="weibo-list-line">|</span><span class="','weibo-list-action weibo-list-action-turnleft">','<a href="javascript:void(0)" title="\u5411\u5DE6\u8F6C">\u5411\u5DE6\u8F6C</a>','</span><span class="weibo-list-line">|</span>','<span class="weibo-list-action ','weibo-list-action-turnright">','<a href="javascript:void(0)" title="\u5411\u53F3\u8F6C">\u5411\u53F3\u8F6C</a>','</span></p><div class="weibo-list-detailcontent">','<img src="',t,'"></div>'];
return n.join("")},buildVideoDetail:function(e){if(!e||!e[0]){return""}var t=e[0],i=t.annotations||[],n=i[0]||{},o=['<p class="weibo-list-actions">','<span class="weibo-list-action ','weibo-list-action-collapse"><a href="javascript:void(0)"',' title="\u6536\u8D77">\u6536\u8D77</a></span>','<span class="weibo-list-line">|</span>','<span class="weibo-list-action"><a href="',t.url_long,'" title="',n.title,'" target="_blank">',n.title,"</a></span></p>",'<div class="weibo-list-detailcontent">','<embed width="440" height="356" ','allowscriptaccess="always" pluginspage="','http://get.adobe.com/cn/flashplayer/" flashvars="','playMovie=true&amp;auto=1&amp;adss=0&amp;isAutoPlay=true"','allowfullscreen="true" src="',n.url,'" type="application/x-shockwave-flash" ','wmode="transparent"></embed></div>'];return o.join("")}});n.Classes.List=it}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=o.Time,s=r.update,a=r.timestamp,l=r.displayString,c=o.cloneNode,d=o.createFromString,u=t.extend,f=t.query,h=t.DOM,g=t.Event,p=g.addListener,m=g.removeListener,_="weibo-",v="usercard",w=".",b=_+v+"-",y=b+"portrait",T=b+"info",E=b+"description",L=b+"footer",x=b+"name",M=b+"location",C=b+"counts",D=b+"follow",N=b+"followed",O=b+"line",k='<div class="',I='">',S="</div>",A='<p class="',P='"></p>',U="http://img.t.sinajs.cn/t4/style/images/common/transparent.gif",B=k+y+I+S,R=k+T+I+S,W=k+E+I+S,H=k+L+" weibo-clearfix"+I+S,q=A+x+P,F=A+M+P,V=A+C+P,j='<a class="'+D+'" href="javascript:void(0)"><span><img '+'class="weibo-icon weibo-icon-add" src="'+U+'" title="\u52A0\u5173\u6CE8" />\u52A0\u5173\u6CE8</span></a>',z=k+D+" "+N+'"><img class="weibo-icon weibo-icon-added" src="'+U+'" title="\u5DF2\u5173\u6CE8" />\u5DF2\u5173\u6CE8'+S,G="follow",X="unfollow",Y=n.createWidget({CSS_PREFIX:_,initializer:function(e){var t={},i=null,n="",o="",r={head:true,followers:true,info:true,followButton:true};if(e){i=e.data||null;n=e.channel||"";o=e.statKey||"";u(r,e.display,true);u(t,e.children)}this._display=r;this._children=t;this._channel=n;this._statKey=o;this._userData=i},destructor:function(){},renderer:function(){var e=this,t=e.constructor,i=e.wrapperBox,n=e.contentBox,o=e.elements,r,s,a,l,c,u,f,h,g,m=e._userData,_=e._channel,v=e._statKey;r=d(Y.PORTRAIT_TEMPLATE);s=d(Y.INFO_TEMPLATE);a=d(Y.DESC_TEMPLATE);l=d(Y.FOOTER_TEMPLATE);c=d(Y.NAME_TEMPLATE);u=d(Y.LOCATION_TEMPLATE);f=d(Y.COUNT_TEMPLATE);h=d(Y.FOLLOW_TEMPLATE);g=d(Y.FOLLOWED_TEMPLATE);s.appendChild(c);s.appendChild(u);s.appendChild(f);l.appendChild(h);l.appendChild(g);n.appendChild(r);n.appendChild(s);n.appendChild(a);n.appendChild(l);o.portrait=r;o.info=s;o.desc=a;o.footer=l;o.name=c;o.location=u;o.count=f;o.followBtn=h;o.unfollowBtn=g;h.style.display="none";g.style.display="none";e.setUserData(m,_,v);p(h,"click",function(t){var i=e._userData,n=i&&i.id||null,o=i&&i.screen_name||"",r=e._channel,s=e._statKey;e.trigger(G,{uid:n,name:o,channel:r,statKey:s});return false})},changeStatus:function(e){if(!this._rendered||this._destroyed){return}var t=this.elements,i=t.followBtn,n=t.unfollowBtn;if(e==="followed"){i.style.display="none";n.style.display=""}else{i.style.display="";n.style.display="none"}},setUserData:function(e,t,i){if(!e||!this._rendered||this._destroyed){return}this._userData=e;this._channel=t;this._statKey=i;var n=this.elements,o=n.portrait,r=n.info,s=n.desc,a=n.footer,l=n.name,c=n.location,d=n.count,u=n.followBtn,f=n.unfollowBtn,h,g,p=i?"?"+i+"=":"",m=i&&t?p+t:"",_=e.idstr,v=e.screen_name,w=e.profile_image_url,b=e.profile_url||e.domain||"u/"+_,y=e.verified,T=e.verified_type,E=e.location,L=e.gender,x="http://weibo.com/",M=x+b+m,C=x+_+"/fans"+m,D=x+_+"/follow"+m,N=x+_+"/profile"+m,k=e.following,I=e.followers_count,S=e.friends_count,A=e.statuses_count,P=e.verified_reason||e.description;o.innerHTML='<a href="'+M+'" target="_blank"><img src="'+w+'" alt="" /></a>';h='<a href="'+M+'" target="_blank">'+v;if(y){if(T===3){h+='<img alt="" title="\u65B0\u6D6A\u673A\u6784\u8BA4\u8BC1"'+' class="weibo-icon weibo-icon-v-g" src="'+U+'" />'}else{h+='<img alt="" title="\u65B0\u6D6A\u4E2A\u4EBA\u8BA4\u8BC1"'+' class="weibo-icon weibo-icon-v-p" src="'+U+'" />'}}h+="</a>";l.innerHTML=h;if(L==="f"){g='<img alt="" title="\u5973" src="'+U+'" class="weibo-icon weibo-icon-female" /> '}else{g='<img alt="" title="\u7537" src="'+U+'" class="weibo-icon weibo-icon-male" /> '}g+=E;c.innerHTML=g;d.innerHTML=['<span><a href="',D,'" target="_blank">\u5173\u6CE8</a> ',S,'</span><span class="',O,'">|</span><span><a href="',C,'" target="_blank">\u7C89\u4E1D</a> ',I,'</span><span class="',O,'">|</span><span><a href="',N,'" target="_blank">\u5FAE\u535A</a> ',A,"</span>"].join("");if(k){u.style.display="none";f.style.display=""}else{u.style.display="";f.style.display="none"}s.innerHTML="\u7B80\u4ECB\uFF1A"+P}},{NAME:v,PORTRAIT_TEMPLATE:B,INFO_TEMPLATE:R,DESC_TEMPLATE:W,FOOTER_TEMPLATE:H,NAME_TEMPLATE:q,LOCATION_TEMPLATE:F,COUNT_TEMPLATE:V,FOLLOW_TEMPLATE:j,FOLLOWED_TEMPLATE:z,_queries:{},_classNames:{},EVENTS:{FOLLOW:G,UNFOLLOW:X}});n.Classes.UserCard=Y}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Classes,s=r.UserCard,a=r.Dialog,l=o.createFromString,c=t.extend,d=t.later,u=t.Array.forEach,f=t.DOM,h=t.Event,g=f.style,p=h.addListener,m="weibo-",_="usercardpopup",v=".",w=" ",b=m+_+"-",y=b+"loading",T="http://img.t.sinajs.cn/t3/style/images/common/loading.gif",E='<div class="',L='">',x="</div>",M=E+y+L+'<img src="'+T+'" />'+x,C=b+"arrow",D=E+C+L,N=["changeStatus"],O=s.EVENTS,k=[O.FOLLOW,O.UNFOLLOW],I=n.createWidget(a,{CSS_PREFIX:m,initializer:function(e){var t={},i=null,n=null;if(e){i=e.data||null;n=e.channel||null;c(t,e.children)}this._children=t;this._userCard=new s({data:i,channel:n})},destructor:function(){},renderer:function(){var e=this,t=e.wrapperBox,i=e.contentBox,n=e.constructor,o=e.elements,r=o.title,s=o.header,a=o.body,c,d=N.length,f,h,g,m=e._userCard;h=l(I.LOADING_TEMPLATE);a.appendChild(h);o.loading=h;m.render(a);e._userCard=m;s.style.display="none";g=l(D);i.appendChild(g);o.arrow=g;u(N,function(t){e[t]=function(){m[t].apply(m,arguments)}});u(k,function(t){p(m,t,function(i){e.trigger(t,i)})});p(t,"mouseenter",function(t){e.show();return false});p(t,"mouseleave",function(t){e.hide();return false})},show:function(){var e=this;if(e._showTimer){e._showTimer.cancel();e._showTimer=null}e.constructor.superclass.show.call(e)},hide:function(){var e=this,t=e.constructor.superclass.hide;if(e._showTimer){e._showTimer.cancel();e._showTimer=null}e._showTimer=d(function(){t.call(e);e._showTimer=null},200)},setLoading:function(e){if(!this._rendered||this._destroyed){return}var t=this.elements.loading,i=this._userCard.wrapperBox;if(e){i.style.display="none";t.style.display="block"}else{i.style.display="block";t.style.display="none"}this._adjustSize()},setUserData:function(e,t,i){this._userCard.setUserData(e,t,i);this._adjustSize()}},{NAME:_,LOADING_TEMPLATE:M,_queries:{},_classNames:{},EVENTS:{SHOW:"show",HIDE:"hide",MOVE:"move",FOLLOW:"follow",UNFOLLOW:"unfollow"}});n.Classes.UserCardDialog=I}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Classes.Emoticons,s=n.apis,a=t.Event,l=a.addListener,c,d,u="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/",f="emoticon",h="hide";c=n.Widgets;if(!c){n.Widgets=c={}}c.getEmoticonDlg=function(e){if(!c.emoticonDialog){e=e||n.emoticons;d=new r({width:310,borderWidth:3,data:e});d.addListener(f,function(e){var t="["+e.emoticon+"] ";c.handleEmoticon&&c.handleEmoticon(t)});d.addListener(h,function(e){c.handleEmoticon=null});d.render(i.body);c.emoticonDialog=d}return c.emoticonDialog};c.setEmoticons=function(e){if(this.emoticonDialog&&this.emoticonDialog._rendered){this.emoticonDialog.setEmoticons(e)}};n.emoticons={"\u54C8\u54C8":u+"6a/laugh.gif","\u6CEA":u+"d8/sad.gif","\u5077\u7B11":u+"7e/hei_org.gif","\u563B\u563B":u+"c2/tooth.gif","\u7231\u4F60":u+"7e/love.gif","\u5FC3":u+"6d/heart.gif","\u82B1\u5FC3":u+"64/hs_org.gif","\u6316\u9F3B\u5C4E":u+"b6/kbs_org.gif","\u9F13\u638C":u+"1b/gz_org.gif","\u5BB3\u7F9E":u+"05/shame_org.gif","\u6293\u72C2":u+"4d/crazy.gif","\u6C57":u+"13/sweat.gif","\u5965\u7279\u66FC":u+"bc/otm_org.gif","\u732A\u5934":u+"58/pig.gif","\u56F4\u89C2":u+"f2/wg_org.gif","\u6765":u+"40/come_org.gif","\u86CB\u7CD5":u+"6a/cake.gif","\u949F":u+"d3/clock_org.gif","\u6708\u4EAE":u+"b9/moon.gif","\u718A\u732B":u+"e0/xiongmao_org.gif","\u793C\u7269":u+"c4/liwu_org.gif","\u5A01\u6B66":u+"70/vw_org.gif","\u5154\u5B50":u+"81/rabbit_org.gif","\u8BDD\u7B52":u+"1b/m_org.gif","\u9E2D\u68A8":u+"bb/pear_org.gif","\u5927\u5DF4":u+"9c/dynamicbus_org.gif","\u624B\u5957":u+"72/shoutao_org.gif","\u56E7":u+"15/j_org.gif","\u4F24\u5FC3":u+"ea/unheart.gif","\u592A\u9633":u+"e5/sun.gif","\u8721\u70DB":u+"91/lazu_org.gif","\u4E92\u7C89":u+"89/hufen_org.gif","\u6655":u+"a4/dizzy.gif","\u998B\u5634":u+"b8/cz_org.gif","\u54FC":u+"19/hate.gif","\u62B1\u62B1":u+"7c/bb_org.gif","\u53EF\u7231":u+"9c/tz_org.gif","\u6012":u+"57/angry.gif","\u5475\u5475":u+"eb/smile.gif","\u56F0":u+"8b/sleepy.gif","\u7761\u89C9":u+"7d/sleep_org.gif","\u94B1":u+"90/money_org.gif","\u9177":u+"40/cool_org.gif","\u8870":u+"af/cry.gif","\u5403\u60CA":u+"f4/cj_org.gif","\u95ED\u5634":u+"29/bz_org.gif","\u9119\u89C6":u+"71/bs2_org.gif","\u5931\u671B":u+"0c/sw_org.gif","\u601D\u8003":u+"e9/sk_org.gif","\u751F\u75C5":u+"b6/sb_org.gif","\u4EB2\u4EB2":u+"8f/qq_org.gif","\u6012\u9A82":u+"89/nm_org.gif","\u592A\u5F00\u5FC3":u+"58/mb_org.gif","\u61D2\u5F97\u7406\u4F60":u+"17/ldln_org.gif","\u53F3\u54FC\u54FC":u+"98/yhh_org.gif","\u5DE6\u54FC\u54FC":u+"6d/zhh_org.gif","\u5618":u+"a6/x_org.gif","\u59D4\u5C48":u+"73/wq_org.gif","\u5410":u+"9e/t_org.gif","\u53EF\u601C":u+"af/kl_org.gif","\u6253\u54C8\u6C14":u+"f3/k_org.gif","\u9876":u+"91/d_org.gif","\u7591\u95EE":u+"5c/yw_org.gif","\u63E1\u624B":u+"0c/ws_org.gif","\u8036":u+"d9/ye_org.gif",good:u+"d8/good_org.gif","\u5F31":u+"d8/sad_org.gif","\u4E0D\u8981":u+"c7/no_org.gif",ok:u+"d6/ok_org.gif","\u8D5E":u+"d0/z2_org.gif"}}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Classes.MessageDialog,s=n.Widgets,a=n.apis,l=t.Event,c=l.addListener,d=t.later,u,f,h,g="show",p="hide",m="yes",_="no";s.Messages={alert:function(e,t){var i=s.getMsgDlg();if(u){u.cancel();u=null}if(t==="question"){t="info"}i.show(e,t);u=d(function(){u=null;i.hide()},3e3)},confirm:function(e,t){var i=s.getMsgDlg(),n=t[m]||null,o=t[_]||null;if(u){u.cancel();u=null}f=n;h=o;i.show(e,"question")}};s.getMsgDlg=function(){if(!s.messageDialog){var e=new r({width:200,borderWidth:4,overlay:true});e.addListener(p,function(e){if(u){u.cancel();u=null}});e.addListener(m,function(e){f&&f(e);f=null;this.hide()});e.addListener(_,function(e){h&&h(e);h=null;this.hide()});e.render(i.body);s.messageDialog=e}return s.messageDialog}}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Login,s=n.Classes.LoginDialog,a=n.Widgets,l=a.Messages.alert,c=n.apis,d=o.pageX,u=o.pageY,f=t.DOM,h=t.Event,g=t.extend,p=t.makeTarget,m=h.addListener,_=f.style,v=function(){},w={width:350,borderWidth:5,overlay:true},b="login",y="logout",T=function(e){e=e||{};g(e,w);var t=this,o=new s(e);r.addLoginCallback(function(e){var i=e.status||{};if(i.result){if(t.loginCallbackOnce){t.loginCallbackOnce(i)}t.hide()}else{t.setTip('<span style="color:red">'+(i.reason||"\u767B\u5F55\u5931\u8D25")+"</span>")}});o.addListener(b,function(e){var t=e.account,i=e.password,n=e.remember;if(!t){o.setTip('<span style="color:red">\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A</span>');return}if(!i){o.setTip('<span style="color:red">\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A</span>');return}r.login(t,i,n)});n.Utils.addBroadcast("VDUN_NEED",function(e){o.setTip('<span style="color:red">\u60A8\u9700\u8981\u8F93\u5165\u5FAE\u76FE\u4FE1\u606F</span>');o.showVDun(true)});n.Utils.addBroadcast("VDUN_WRONG",function(e){o.setTip('<span style="color:red">\u60A8\u9700\u8981\u8F93\u5165\u5FAE\u76FE\u4FE1\u606F</span>');o.showVDun(true)});o.render(i.body);t._instance=o};p(T);g(T.prototype,{show:function(){var e=this._instance;e.reset();e.show();e.focus()},setTip:function(e){this._instance.setTip(e)},hide:function(){this.loginCallbackOnce=null;this._instance.hide()},loginCallbackOnce:null,logoutCallbackOnce:null});a.LoginDialog=T;n.useLoginDialog=true;a.getLoginDialog=function(){if(!a.loginDialog){a.loginDialog=new T}return a.loginDialog}}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Login,s=n.Classes.RetweetDialog,a=n.Widgets,l=a.Messages.alert,c=n.apis,d=o.pageX,u=o.pageY,f=t.DOM,h=t.Event,g=t.extend,p=t.makeTarget,m=h.addListener,_=f.style,v=function(){},w={children:{title:"\u8F6C\u53D1\u5230\u6211\u7684\u5FAE\u535A"},width:500,borderWidth:3,overlay:true},b="show-emoticons",y="submit",T="not-logged",E="retweet",L="retweet-success",x="retweet-failure",M=function(e,t){var i=t.clickedElement,n=d(i)-16,o=u(i)+(parseInt(_(i,"height"))||0)+8;e.move(n,o);e.show()},C=function(e){e=e||{};g(e,w);var t=this,o,c=e.title||"\u8F6C\u53D1\u5230\u6211\u7684\u5FAE\u535A",d=a.getEmoticonDlg(),u=e.fixed||false,f,h=e.handlers||{},p=h[L]||function(){t.changeOpenTrigger(1);l("\u8F6C\u53D1\u6210\u529F\uFF01","right");t.hide()},m=h[x]||function(e){var t=n.MSG.get("SER",e.status.code,"\u8F6C\u53D1\u5931\u8D25");l(t,"wrong")};t.setOpenTirgger(e.openTrigger||null);e.children.title=c;o=new s(e);o.addListener(b,function(e){f.appendChild(d.wrapperBox);M(d,e);a.handleEmoticon=function(e){o.insertText(e);a.handleEmoticon=null}});o.addListener(y,function(e){var i=0,o=t.weiboId||0,s;if(!o){return}if(e.commentToUser){i+=1}if(e.commentToOriginal){i+=2}s={id:o,status:e.text,is_comment:i};if(!r.check()){t.trigger(T,{context:t,method:t.submit,args:[s]});return}if(n.annotations){s.annotations=n.annotations}t.submit(s)});t.addListener(L,p);t.addListener(x,m);o.render(i.body);if(u){f=o.wrapperBox}else{f=i.body}t._instance=o;if(n.useLoginDialog){var _=a.getLoginDialog();t.addListener(T,function(e){_.loginCallbackOnce=function(t){e.method.apply(e.context,e.args)};_.show()})}};p(C);g(C.prototype,{setOpenTirgger:function(e){this._openTrigger=e},getOpenTirgger:function(e){return this._openTrigger},changeOpenTrigger:function(e){var t=this._openTrigger;if(!t){return}var i=t.innerHTML;var n=parseInt(i.replace(/[^\d]/g,""),10);var o=n+e;t.innerHTML=i.replace(n,o);return this},show:function(e){var t=this,i,n,o,s,a;if(!r.check()){t.trigger(T,{context:t,method:t.show,args:[e]});return}e=e||{};i=t._instance;n=unescape(e.quote);o=unescape(e.text);s=e.user;a=e.original;t.weiboId=e.id;i.setQuote(n);i.setOptions(s,a);i.show();i.removeText();i.insertText(o);i.focus()},hide:function(){var e=this._instance;e.hide()},submit:function(e){var t=this;c.repost({data:e,onsuccess:function(e){t.trigger(L,{data:e})},onfailure:function(e){t.trigger(x,{status:e})}})}});a.Retweet=C}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Login,s=n.Classes.CommentBox,a=n.Widgets,l=a.Messages.alert,c=n.apis,d=o.pageX,u=o.pageY,f=t.DOM,h=t.Event,g=t.extend,p=t.makeTarget,m=h.addListener,_=f.style,v=function(){},w={capacity:10},b="show-emoticons",y="submit",T="not-logged",E="comment",L="comment-success",x="comment-failure",M=function(e,t){var i=t.clickedElement,n=d(i)-16,o=u(i)+(parseInt(_(i,"height"))||0)+8;e.move(n,o);e.show()},C=function(e){e=e||{};g(e,w);var t=this,o=new s(e),c=a.getEmoticonDlg(),d=e.container,u=e.fixed||false,f,h=e.handlers||{},p=h[L]||function(e){this.changeOpenTrigger(1);this.insert(e.data,0);this.clear()},m=h[x]||function(e){var t=n.MSG.get("SER",e.status.code,"\u8BC4\u8BBA\u5931\u8D25");l(t,"wrong")};t.setOpenTirgger(e.openTrigger||null);o.addListener(b,function(e){f.appendChild(c.wrapperBox);M(c,e);a.handleEmoticon=function(e){o.insertText(e);a.handleEmoticon=null}});o.addListener(y,function(e){var i=t.weiboId||0,n;if(!i){return}n={id:i,cid:e.cid,text:e.text,retweet:e.retweet,commentUserText:e.commentUserText,commentToOriginal:e.commentToOriginal};if(!r.check()){t.trigger(T,{context:t,method:t.submit,args:[n]});return}t.submit(n)});t.addListener(L,p);t.addListener(x,m);if(d){o.render(d)}if(u){f=o.wrapperBox}else{f=i.body}t._instance=o;t._container=d;t.setData(e);if(n.useLoginDialog){var _=a.getLoginDialog();t.addListener(T,function(e){_.loginCallbackOnce=function(t){e.method.apply(e.context,e.args)};_.show()})}};p(C);g(C.prototype,{setOpenTirgger:function(e){this._openTrigger=e},getOpenTirgger:function(e){return this._openTrigger},changeOpenTrigger:function(e){var t=this._openTrigger;if(!t){return}var i=t.innerHTML;var n=parseInt(i.replace(/[^\d]/g,""),10);var o=n+e;t.innerHTML=i.replace(n,o);return this},setData:function(e){var t=this._instance,i=this.weiboId,n=this.listLength,o,r,s;if(e){i=e.id||0;o=e.uid||0;r=e.mid||0;n=e.listLength||10;s=e.original||"";this.weiboId=i;this.listLength=n;t.reset("http://weibo.com/"+o+"/"+r,s)}},reset:function(){var e=this._instance,t=this.weiboId,i=this.listLength;e.removeText();e.focus();c.getComments({data:{id:t,count:i},onsuccess:function(t){e.setListData(t.comments);e.toggleLoading(false)},onfailure:function(t){e.setListData([]);e.toggleLoading(false)}})},insert:function(e,t){this._instance.insertList(e,t)},clear:function(){this._instance.removeText()},submit:function(e){var t=1,i,n,o,r=this;if(e.retweet){if(e.commentToOriginal){t+=2}c.repost({data:{id:r.weiboId,status:e.text,is_comment:t},onsuccess:function(e){r.trigger(L,{data:e})},onfailure:function(e){r.trigger(x,{status:e})}})}else{n=e.cid;o=e.text;if(n&&o.indexOf(e.commentUserText)!==-1){i={id:r.weiboId,cid:n,comment:o,comment_ori:e.commentToOriginal};c.replyComment({data:i,onsuccess:function(e){r.trigger(L,{data:e})},onfailure:function(e){r.trigger(x,{status:e})}})}else{i={id:r.weiboId,comment:o,comment_ori:e.commentToOriginal};c.comment({data:i,onsuccess:function(e){r.trigger(L,{data:e})},onfailure:function(e){r.trigger(x,{status:e})}})}}}});a.Comment=C}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Login,s=n.Classes.CommentDialog,a=n.Widgets,l=a.Messages.alert,c=n.apis,d=o.pageX,u=o.pageY,f=t.DOM,h=t.Event,g=t.extend,p=t.makeTarget,m=h.addListener,_=f.style,v=function(){},w={width:500,borderWidth:5,overlay:true},b="show-emoticons",y="submit",T="not-logged",E="comment",L="comment-success",x="comment-failure",M=function(e,t){var i=t.clickedElement,n=d(i)-16,o=u(i)+(parseInt(_(i,"height"))||0)+8;e.move(n,o);e.show()},C=function(e){e=e||{};g(e,w);var t=this,o=new s(e),c=a.getEmoticonDlg(),d=e.fixed||false,u,f=e.handlers||{},h=f[L]||function(e){l("\u8BC4\u8BBA\u6210\u529F\uFF01","right");t.hide()},p=f[x]||function(e){l("\u8BC4\u8BBA\u5931\u8D25","wrong")};o.addListener(b,function(e){u.appendChild(c.wrapperBox);M(c,e);a.handleEmoticon=function(e){o.insertText(e);a.handleEmoticon=null}});o.addListener(y,function(e){var i=t.weiboId||0,n;if(!i){return}n={id:i,cid:e.cid,text:e.text,retweet:e.retweet,commentUserText:e.commentUserText,commentToOriginal:e.commentToOriginal};if(!r.check()){t.trigger(T,{context:t,method:t.submit,args:[n]});return}t.submit(n)});t.addListener(L,h);t.addListener(x,p);o.render(i.body);if(d){u=o.wrapperBox}else{u=i.body}t._instance=o;if(n.useLoginDialog){var m=a.getLoginDialog();t.addListener(T,function(e){m.loginCallbackOnce=function(t){e.method.apply(e.context,e.args)};m.show()})}};p(C);g(C.prototype,{show:function(e){var t=this,i,n,o,s,a,l;if(!r.check()){t.trigger(T,{context:t,method:t.show,args:[e]});return}e=e||{};i=t._instance;n=e.id||0;o=e.uid||0;s=e.mid||0;a=e.listLength||3;l=e.original||"";t.weiboId=n;i.reset("http://weibo.com/"+o+"/"+s,l);i.removeText();i.show();i.focus();c.getComments({data:{id:n,count:a},onsuccess:function(e){i.setListData(e.comments);i.moveToPageCenter()},onfailure:function(e){i.setListData([]);i.moveToPageCenter()}})},hide:function(){var e=this._instance;e.hide()},submit:function(e){var t=1,i,n,o,r=this;if(e.retweet){if(e.commentToOriginal){t+=2}c.repost({data:{id:r.weiboId,status:e.text,is_comment:t},onsuccess:function(e){r.trigger(L,{data:e})},onfailure:function(e){r.trigger(x,{status:e})}})}else{n=e.cid;o=e.text;if(n&&o.indexOf(e.commentUserText)!==-1){i={id:r.weiboId,cid:n,comment:o,comment_ori:e.commentToOriginal};c.replyComment({data:i,onsuccess:function(e){r.trigger(L,{data:e})},onfailure:function(e){r.trigger(x,{status:e})}})}else{i={id:r.weiboId,comment:o,comment_ori:e.commentToOriginal};c.comment({data:i,onsuccess:function(e){r.trigger(L,{data:e})},onfailure:function(e){r.trigger(x,{status:e})}})}}}});a.CommentDialog=C}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Login,s=n.Classes.Publisher,a=n.Classes.VideoDialog,l=n.Widgets,c=l.Messages.alert,d=n.apis,u=o.pageX,f=o.pageY,h=t.DOM,g=t.Event,p=t.extend,m=t.makeTarget,_=g.addListener,v=h.style,w=t.trim,b=function(e){var t=e.replace(/[^x00-xff]/g,"aa");return Math.round(t.length/2)},y=function(){},T={display:{emoticons:true,vidupload:true,imgupload:false}},E="show-emoticons",L="show-imgupload",x="show-vidupload",M="submit",C="video",D="not-logged",N="publish-success",O="publish-failure",k=function(e,t,i,n){var o=t.clickedElement,r,s,a,l;if(i){a=u(n);l=f(n);r=u(o)-a-12;s=f(o)+(parseInt(v(o,"height"))||0)-l+15}else{r=u(o)-17,s=f(o)+(parseInt(v(o,"height"))||0)+12}e.move(r,s);e.show()},I=function(e){e=e||{};p(e,T);var t=this,o=new s(e),a=l.getEmoticonDlg(),d=l.getVideoDlg(),u=e.container,f=e.fixed||false,h,g=e.handlers||{},m=g[N]||function(e){c("\u53D1\u5E03\u6210\u529F","right");t.clear()},_=g[O]||function(e){c("\u53D1\u5E03\u5931\u8D25","wrong")};o.addListener(E,function(e){d.hide();h.appendChild(a.wrapperBox);k(a,e,f,o.wrapperBox);l.handleEmoticon=function(e){t.insert(e);l.handleEmoticon=null}});o.addListener(x,function(e){a.hide();h.appendChild(d.wrapperBox);k(d,e,f,o.wrapperBox);l.handleVideoUpload=function(e){t.insert(e);l.handleVideoUpload=null}});o.addListener(M,function(e){var i=w(e.text),o;if(!i){alert("\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A");return}else if(b(i)>140){alert("\u5185\u5BB9\u4E0D\u80FD\u8D85\u8FC7 140 \u5B57");return}o={status:i};if(n.annotations){o.annotations=n.annotations}if(!r.check()){t.trigger(D,{context:t,method:t.submit,args:[o]});return}t.submit(o)});t.addListener(N,m);t.addListener(O,_);if(u){o.render(u)}else{o.render()}if(f){h=o.wrapperBox}else{h=i.body}t._instance=o;t._container=u;if(n.useLoginDialog){var v=l.getLoginDialog();t.addListener(D,function(e){v.loginCallbackOnce=function(t){e.method.apply(e.context,e.args)};v.show()})}};m(I);p(I.prototype,{insert:function(e,t){this._instance.insertText(e,t)},resetText:function(e){this._instance.elements.editor.value=e},clear:function(){this._instance.removeText()},submit:function(e){var t=this;d.update({data:e,onsuccess:function(e){t.trigger(N,{data:e})},onfailure:function(e){t.trigger(O,{status:e})}})}});l.Publisher=I;l.getVideoDlg=function(){if(!l.videoDialog){var e=new a({width:310,borderWidth:3});e.addListener(C,function(t){var i=t.url;e.hide();l.handleVideoUpload&&l.handleVideoUpload(i)});e.addListener("hide",function(e){l.handleEmoticon=null});e.render(i.body);l.videoDialog=e}return l.videoDialog}}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Login,s=n.Classes.PublisherDialog,a=n.Widgets,l=a.Messages.alert,c=n.apis,d=o.pageX,u=o.pageY,f=t.DOM,h=t.Event,g=t.extend,p=t.makeTarget,m=h.addListener,_=f.style,v=t.trim,w=function(e){var t=e.replace(/[^x00-xff]/g,"aa");return Math.round(t.length/2)},b=function(){},y={width:500,overlay:true,borderWidth:3,children:{title:"\u53D1\u5E03\u5FAE\u535A"},display:{emoticons:true,vidupload:true,imgupload:false}},T="show-emoticons",E="show-imgupload",L="show-vidupload",x="submit",M="video",C="not-logged",D="publish-success",N="publish-failure",O=function(e,t){var i=t.clickedElement,n=d(i)-17,o=u(i)+(parseInt(_(i,"height"))||0)+12;e.move(n,o);e.show()},k=function(e){e=e||{};g(e,y);var t=this,o=e.title||"\u53D1\u5E03\u5FAE\u535A",c,d=a.getEmoticonDlg(),u=a.getVideoDlg(),f=e.fixed||false,h,p=e.handlers||{},m=p[D]||function(e){l("\u53D1\u5E03\u6210\u529F","right");t.hide()},_=p[N]||function(e){l("\u53D1\u5E03\u5931\u8D25","wrong")};e.children.title=o;c=new s(e);c.addListener(T,function(e){u.hide();h.appendChild(d.wrapperBox);O(d,e);a.handleEmoticon=function(e){t.insert(e);a.handleEmoticon=null}});c.addListener(L,function(e){d.hide();h.appendChild(u.wrapperBox);O(u,e);a.handleVideoUpload=function(e){t.insert(e);a.handleVideoUpload=null}});c.addListener(x,function(e){var i=v(e.text),o;if(!i){alert("\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A");return}else if(w(i)>140){alert("\u5185\u5BB9\u4E0D\u80FD\u8D85\u8FC7 140 \u5B57");return}o={status:i};if(n.annotations){o.annotations=n.annotations}if(!r.check()){t.trigger(C,{context:t,method:t.submit,args:[o]});return}t.submit(o)});t.addListener(D,m);t.addListener(N,_);c.render(i.body);if(f){h=c.wrapperBox}else{h=i.body}t._instance=c;if(n.useLoginDialog){var b=a.getLoginDialog();t.addListener(C,function(e){b.loginCallbackOnce=function(t){e.method.apply(e.context,e.args)};b.show()})}};p(k);g(k.prototype,{show:function(e){var t=this,i,n;e=e||{};n=e.text||"";i=t._instance;i.show();i.removeText();i.insertText(n)},hide:function(){var e=this._instance;e.hide()},insert:function(e,t){this._instance.insertText(e,t)},clear:function(){this._instance.removeText()},submit:function(e){var t=this;c.update({data:e,onsuccess:function(e){t.trigger(D,{data:e})},onfailure:function(e){t.trigger(N,{status:e})}})}});a.PublisherDialog=k}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Login,s=n.Classes.UserCard,a=n.Widgets,l=a.Messages.alert,c=n.apis,d=o.pageX,u=o.pageY,f=t.DOM,h=t.Event,g=t.extend,p=t.makeTarget,m=h.addListener,_=f.style,v=function(){},w={},b="follow",y="not-logged",T=function(e){e=e||{};g(e,w);var t=this,i=new s(e),o=e.data,d=e.container;i.addListener(b,function(e){var n=e.uid,o;if(!n){return}o={data:{uid:n},onsuccess:function(e){i.changeStatus("followed")},onfailure:function(e){if(e&&e.code==20506){i.changeStatus("followed")}else{l("\u5173\u6CE8\u5931\u8D25","wrong")}}};if(!r.check()){t.trigger(y,{context:c,method:c.follow,args:[o]});return}c.follow(o)});if(d){i.render(d)}t._container=d;t._instance=i;if(o){t.setData(o)}if(n.useLoginDialog){var u=a.getLoginDialog();t.addListener(y,function(e){u.loginCallbackOnce=function(t){e.method.apply(e.context,e.args)};u.show()})}};p(T);g(T.prototype,{setData:function(e){var t=this._instance;t.setUserData(e)}});a.UserCard=T}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Login,s=n.Classes.UserCardDialog,a=n.Widgets,l=a.Messages.alert,c=n.apis,d=o.pageX,u=o.pageY,f=t.DOM,h=t.Event,g=t.extend,p=t.makeTarget,m=h.addListener,_=f.style,v=f.addClass,w=f.removeClass,b=function(){},y=180,T={width:360,borderWidth:3},E="follow",L="not-logged",x=function(e){e=e||{};g(e,T);var t=this,o=e.data,d=new s(e);t.cache={};d.addListener(E,function(e){var i=e.uid,n=e.name,o;if(!i){return}o={data:{uid:i},onsuccess:function(e){t.changeCacheFollowing(n,true);d.changeStatus("followed")},onfailure:function(e){if(e&&e.code==20506){t.changeCacheFollowing(n,true);d.changeStatus("followed")}else{l("\u5173\u6CE8\u5931\u8D25","wrong")}}};if(!r.check()){t.trigger(L,{context:c,method:c.follow,args:[o]});return}c.follow(o)});d.render(i.body);t._instance=d;if(o){t.setData(o)}if(n.useLoginDialog){var u=a.getLoginDialog();t.addListener(L,function(e){u.loginCallbackOnce=function(t){e.method.apply(e.context,e.args)};u.show()})}};p(x);g(x.prototype,{setCache:function(e,t){if(e&&t){this.cache[e]=t}},getCache:function(e){var t=this.cache[e]||"";return t},changeCacheFollowing:function(e,t){this.cache[e].following=t},setData:function(e){var t=this._instance;t.setUserData(e)},show:function(e){var t=this,i=t._instance;if(e==="loading"){i.setLoading(true)}else{i.setLoading(false)}i.show()},move:function(e,t){var i=this,n=i._instance,o=n.elements.arrow,r=o.parentNode;r.removeChild(o);r.appendChild(o);n.move(e,t)},hide:function(){this._instance.hide()},changeArrowDir:function(e){var t=this,i=t._instance,n=i.elements.arrow;switch(e){case"top":v(n,"weibo-arrow-top");w(n,"weibo-arrow-bottom");break;case"bottom":v(n,"weibo-arrow-bottom");w(n,"weibo-arrow-top");break;default:break}},getHeight:function(){var e=this._instance,t=e.wrapperBox;return parseInt(_(t,"height"))||0}});a.UserCardDialog=x}(window,SINA);!function(e,t){var i=e.document,n=e.Weibo,o=n.Utils,r=n.Login,s=n.Classes.List,a=n.Widgets,l=a.Retweet,c=a.Comment,d=a.UserCardDialog,u=a.Messages.alert,f=n.apis,h=o.createFromString,g=o.pageX,p=o.pageY,m=t.DOM,_=t.Event,v=t.extend,w=t.makeTarget,b=_.addListener,y=m.style,T=m.addClass,E=180,L=function(t,n){var o=0,r=0,s,a="bottom",l=0,c=i.documentElement,d=i.body,u=e.pageYOffset||c&&c.scrollTop||d.scrollTop;if(t&&n){l=n.getHeight();s=parseInt(y(t,"height"))||0;o=g(t);r=p(t);o=o-8;if(r-E<u){r=r+s+8;a="top"}else{r=r-l-8;a="bottom"}if(o<0){o=0}if(r<0){r=0}}return{x:o,y:r,direction:a}},x=function(){},M,C=function(){if(!M){M=new l({width:450})}return M},D,N=function(){if(!D){D=new d}return D},O={commentLength:5,showUserCard:true},k="not-logged",I="follow",S="retweet",A="comment",P="favorite",U="user-info",B=function(e){e=e||{};v(e,O);var i=this,o=new s(e),l=e.container,c=e.retweetDialog,d=e.commentDialog,g=e.commentLength||5,p=e.showUserCard,m=e.userCard,_=e.stat_click;if(!c){c=C()}o.addListener(S,function(e){var t=e.rtId,i=e.rtText,n=e.rtQuote,o=e.rtUser,r=e.rtOriginal,s=e.feedNode;if(n){i="//@"+o+": "+i;n="@"+r+": "+n}else{n="@"+o+": "+i;i=""}c.show({id:t,quote:n,text:i,user:o,original:r})});if(d){o.addListener(A,function(e){if(e.cmtId){d.show({id:e.cmtId,uid:e.cmtUid,mid:e.cmtMid,original:e.cmtOriginal,listLength:g})}})}else{o.addListener(A,function(e){e.listLength=g;var t=e.cmtNode,n;if(t&&e.cmtId){n=i._getCommentList(e);if(t.style.display!=="block"){t.style.display="block";n.reset()}else{t.style.display="none"}}})}o.addListener(P,function(e){var t=e.id,n=e.actionNode,o;if(!t){return}o={data:{id:t},onsuccess:function(e){if(n){n.className="";n.innerHTML="\u5DF2\u6536\u85CF"}},onfailure:function(e){if(e&&e.code==20704){if(n){n.className="";n.innerHTML="\u5DF2\u6536\u85CF"}}else{u("\u6536\u85CF\u5931\u8D25","wrong")}}};if(!r.check()){i.trigger(k,{context:f,method:f.favorite,args:[o]});return}f.favorite(o)});o.addListener(I,function(e){var t=e.uid,n=e.followButton,o;if(!t){return}o={data:{uid:t},onsuccess:function(e){if(n){var t=h('<span class="weibo-list-follow">\u5DF2\u5173\u6CE8</span>'),i=n.parentNode;i.insertBefore(t,n);i.removeChild(n)}},onfailure:function(e){if(e&&e.code==20506){if(n){var t=h('<span class="weibo-list-follow">\u5DF2\u5173\u6CE8</span>'),i=n.parentNode;i.insertBefore(t,n);i.removeChild(n)}}else{u("\u5173\u6CE8\u5931\u8D25","wrong")}}};if(!r.check()){i.trigger(k,{context:f,method:f.follow,args:[o]});return}f.follow(o)});if(p){if(!m){m=N()}o.addListener(U,function(e){var t=e.username,i=e.userNode,n,o,s;if(!t||!i){return}b(i,"mouseleave",function(e){m.hide();return false});o={screen_name:t};m.show("loading");n=L(i,m);m.changeArrowDir(n.direction);m.move(n.x,n.y);s=m.getCache(t);if(s){m.show();m.setData(s);m.show();n=L(i,m);m.changeArrowDir(n.direction);m.move(n.x,n.y)}else{var a=function(e,t,i){var n=r.check();if(!n){e.following=false;i(e);return}var o={source_id:n.uid,target_screen_name:t};f.isFollowing({data:o,onsuccess:function(t){e.following=t.source.following;i(e)},onfailure:function(t){e.following=false;i(e)}})};f.getUser({data:o,onsuccess:function(e){if(e&&e.screen_name!==o.screen_name){return}m.show();a(e,t,function(){m.setData(e);m.show();n=L(i,m);m.changeArrowDir(n.direction);m.move(n.x,n.y);m.setCache(t,e)})}})}})}if(_&&l){var w=t.isElement(l)?l:t.query(l)[0];t.Event.delegate(w,"click","a",function(e){var t=this.className,i="zw001",n="";if(t.indexOf("weibo-commentbox-submit")>-1){n="pinglun"}else if(t.indexOf("weibo-user")>-1){switch(this.parentNode.tagName){case"DIV":n="touxiang";break;case"P":n="nicheng";break}}if(!n)return;try{_S_uaTrack(i,n)}catch(e){}});if(!a.stat.retweet_d){t.Event.delegate(document.body,"click",".weibo-retweet-submit",function(e){try{_S_uaTrack("zw001","zhuanfa")}catch(e){}});a.stat.retweet_d=true}}if(l){o.render(l)}else{o.render()}i._instance=o;i._container=l;i._comments={};if(n.useLoginDialog){var y=a.getLoginDialog();i.addListener(k,function(e){y.loginCallbackOnce=function(t){e.method.apply(e.context,e.args)};y.show()})}};w(B);v(B.prototype,{reset:function(e){this._instance.reset(e);this._removeCommentList()},append:function(e){this._instance.append(e)},prepend:function(e){this._instance.prepend(e)},clear:function(){this.reset(null)},_removeCommentList:function(e){var t=this._comments,i;if(!e){for(i in t){delete t[i]}}else if(t[e]){delete t[e]}},_getCommentList:function(e){var t=this._comments,i=e.cmtId;if(!t[i]){t[i]=new c({id:i,uid:e.cmtUid,mid:e.cmtMid,original:e.cmtOriginal,listLength:e.listLength,container:e.cmtNode,openTrigger:e.actionNode})}return t[i]}});a.List=B;if(!a.stat)a.stat={}}(window,SINA);