/*!
 * sinaadToolkit.Media
 * @author acelan<xiaobin8[at]staff.sina.com.cn> zhouyi<zhouyi3[at]staff.sina.com.cn>
 * @version 1.0.0
 * 
 *                          $$!   ;$;
 *                    !$  $$$$  !$$$   ;;
 *                 $ *$$;$$$$$$$$$$;*$$$
 *                $$$$$$$$$$$$$$$$$$$$$
 *               $$$$$$;         o$$$$$o
 *              *$$$   *#####;     $$$$$
 *              $$$   &#$*!###     $$$$!
 *              $$$;  $#!!###$   ;$$$$
 *                $$$o  ;**   !$$$$!
 *          !$&&&&$!  o$$$$$$o;   ;$&###&!     ;o$&&##&$;
 *       ###########$ o####*  #############!  o############
 *     ;#####;        #####  $####    *####;          ####*
 *      ###########  o####   ####;    ####$  $######;o####
 *          ;*#####o ####$  ####&    !#### o####     ####
 *    ####$**&####$ ;####  o####     ####o &####$o$#####
 *   ;o########$    *###   ####!    &####   ;######&!
 *                 ###;
 *                  ##o
 *                 ;#!
 *                 ;
 */

!function(a,b,c,d){"use strict";function e(e){this.config=e;var g=document.body;g.style.cssText+=";background:url("+e.src[0]+") no-repeat center "+e.top+"px;margin:0px;";var h=this.midBg=document.getElementById("bgAdWrap");if(h){h.style.cssText+=";position:relative;display:block;height: "+e.headHeight+"px;width: "+e.midWidth+"px;margin:0 auto;",h.innerHTML='<a href="'+e.link[0]+'" target="_blank" style="display:block;height:'+e.headHeight+"px;width: "+e.midWidth+'px;"></a>';var i=(e.width-e.midWidth)/2,j=this.leftAd=document.createElement("div");j.id="bgLeftAd",j.style.cssText+=";position: absolute;overflow:hidden;height: "+e.height+"px;width:"+i+"px;left:0px;top: "+e.top+"px",g.appendChild(j);var k=this.rightAd=document.createElement("div");if(k.id="bgRightAd",k.style.cssText+=";position: absolute;overflow:hidden;height: "+e.height+"px;width:"+i+"px;left:0px;top: "+e.top+"px",g.appendChild(k),e.src[1]){var l=e.type[1]||e.type[0],m=e.src[1],n={};("flash"===l||/\.swf$/.test(m))&&(n={wmode:"transparent"}),b.ad.embed(j,l,i,e.height,b.ad.createHTML(l,m,i,e.height,e.link[1]||e.link[0],e.monitor,e.pv,d,n)),l=e.type[2]||e.type[1]||e.type[0],m=e.src[2]||e.src[1],n={},("flash"===l||/\.swf$/.test(m))&&(n={wmode:"transparent"}),b.ad.embed(k,l,i,e.height,b.ad.createHTML(l,m,i,e.height,e.link[2]||e.link[1]||e.link[0],e.monitor,e.pv,d,n))}else if(e.asideClickable){var o=document.createElement("a");o.setAttribute("href",e.link[1]||e.link[0]),o.setAttribute("target","_blank"),o.style.cssText+=";display: block;height: "+e.height+"px;",j.appendChild(o),o=document.createElement("a"),o.setAttribute("href",e.link[2]||e.link[1]||e.link[0]),o.setAttribute("target","_blank"),o.style.cssText+=";display:block;height: "+e.height+"px;",k.appendChild(o)}var p=this.closeBtn=document.createElement("div");p.style.cssText+=";width: 60px;height: 18px;position:absolute;right:1px;top: 6px;background:url("+f+") no-repeat right center #ebebeb;cursor:pointer",h.appendChild(p),this.getResizeHandler()(),this.resizeHandler=this.getResizeHandler(),b.event.on(a,"resize",this.resizeHandler),b.event.on(p,"click",this.getCloseHandler());try{b.debug("Media: In building bg complete!"),c.done(c.bg)}catch(q){}}}var f="//d1.sina.com.cn/litong/zhitou/sinaads/60x18_2_close.gif";e.prototype={getResizeHandler:function(){var a=this;return function(){var c=a.config.midWidth,d=b.dom.getPosition(document.getElementById("bgAdWrap")).left,e=(a.config.width-a.config.midWidth)/2;a.leftAd.style.left=d-e+"px",a.rightAd.style.left=d+c+"px";var f=document.body.clientWidth-a.config.midWidth;0>f&&(f=0),a.rightAd.style.width=Math.floor(Math.min(f/2,e))+"px"}},getCloseHandler:function(){var c=this;return function(){b.event.un(a,"resize",c.resizeHandler),document.body.style.cssText+=";background:none;",c.midBg.style.display="none",c.leftAd.style.display="none",c.rightAd.style.display="none"}}},b.BgMedia=b.BgMedia||e}(window,window.sinaadToolkit,window.sinaadsROC),function(a,b,c,d){"use strict";function e(a){var c=this;this.deferred=new b.Deferred;var d=b.storage.get("BottomStreamMedia"+a.pdps);d=d?parseInt(d,10)+1:1,b.storage.set("BottomStreamMedia"+a.pdps,d,864e5);var e=this.width=a.main.width,p=this.height=a.main.height;this.delay=a.delay?parseInt(a.delay,10):0,this.config=a,this.pdps=a.pdps;var q=this.main=new b.Box({width:e,height:p,position:"center bottom",follow:1,zIndex:l,className:"sinaads-bottomstream-main"}),r=this.middle=new b.Box({width:e,height:80,position:"center bottom",follow:1,zIndex:m,className:"sinaads-bottomstream-middle"}),s=this.mini=new b.Box({width:25,height:239,position:"right bottom",follow:1,zIndex:n,className:"sinaads-bottomstream-side"}),t=this.mainCloseBtn=document.createElement("div");t.style.cssText=["width:"+(e>375?77:75)+"px","height:"+(e>375?31:22)+"px","position:absolute","right:0px","bottom:"+p+"px","z-index:"+l,"background:url("+(e>375?f:g)+") no-repeat","margin:0","padding:0","cursor:pointer"].join(";");var u=this.middleCloseBtn=document.createElement("div");u.style.cssText=["width:51px","height:31px","position:absolute","right:0px","bottom:80px","z-index:"+m,"background:url("+i+") no-repeat","margin:0","padding:0","cursor:pointer"].join(";");var v=this.middleReplayBtn=document.createElement("div");v.style.cssText=["width:35px","height:31px","position:absolute","right:51px","bottom:80px","z-index:"+m,"background:url("+h+") no-repeat","margin:0","padding:0","cursor:pointer"].join(";");var w=this.miniCloseBtn=document.createElement("div");w.style.cssText="margin:0px;padding:0px;display:block;cursor:pointer;width:25px;height:65px;position:absolute;left:0px;top:174px;background:url("+k+") no-repeat center;";var x=this.miniReplayBtn=document.createElement("div");x.style.cssText="width:25px;height:24px;position:absolute;left:0px;top:150px;background:url("+j+") no-repeat center;margin:0px;padding:0px;display:block;cursor:pointer;",b.event.on(w,"click",this.getCloseMiniHandler()),b.event.on(x,"click",this.getReplayHandler()),b.event.on(t,"click",this.getCloseMainHandler()),b.event.on(u,"click",this.getCloseMiddleHandler()),b.event.on(v,"click",this.getReplayMiddleHandler());var y=this.mainContent=document.createElement("div"),z=this.middleContent=document.createElement("div"),A=this.miniContent=document.createElement("div");q.getMain().appendChild(y),q.getMain().appendChild(t),r.getMain().appendChild(z),r.getMain().appendChild(u),r.getMain().appendChild(v),s.getMain().appendChild(A),s.getMain().appendChild(x),s.getMain().appendChild(w),this.delay?setTimeout(function(){d>o?c.hide():c.show()},1e3*this.delay):d>o?this.hide():this.show()}var f="//d1.sina.com.cn/litong/zhitou/sinaads/77x31-close.gif",g="//d1.sina.com.cn/litong/zhitou/sinaads/75x22-close.gif",h="//d1.sina.com.cn/litong/zhitou/sinaads/demo/changwy/middleplay.gif",i="//d1.sina.com.cn/litong/zhitou/sinaads/51x31-close.gif",j="//d5.sina.com.cn/d1images/lmt/play.gif",k="//d1.sina.com.cn/litong/zhitou/sinaads/25x65_1-close.gif",l=11990,m=10510,n=9990,o=2;e.prototype={timer:null,show:function(){var a=this,c=this.config;clearTimeout(this.timer),this.middleContent.innerHTML="",this.miniContent.innerHTML="",b.ad.embed(this.mainContent,c.main.type,c.main.width,c.main.height,b.ad.createHTML(c.main.type,c.main.src,c.main.width,c.main.height,c.main.link||c.link,c.monitor,c.pv,"",{wmode:"transparent"})),this.main.show(),this.middle.hide(),this.mini.hide(),this.timer=setTimeout(function(){a.show_hide()},c.duration||8e3)},show_hide:function(){var a=this,c=this.config;clearTimeout(this.timer),this.mainContent.innerHTML="",this.miniContent.innerHTML="",this.main.hide(),this.mini.hide(),this.middle.show(),b.ad.embed(this.middleContent,c.middle.type,c.middle.width,80,b.ad.createHTML(c.middle.type,c.middle.src,c.middle.width,80,c.middle.link||c.link,c.monitor,c.pv,"",{wmode:"transparent"})),this.timer=setTimeout(function(){a.hide()},c.duration||8e3)},hide:function(){var a=this.config;clearTimeout(this.timer),this.mainContent.innerHTML="",this.middleContent.innerHTML="",this.mini.show(),this.middle.hide(),this.main.hide(),b.ad.embed(this.miniContent,a.mini.type,25,150,b.ad.createHTML(a.mini.type,a.mini.src,25,150,a.mini.link||a.link,a.monitor,a.pv));try{b.debug("Media: In building bottomstream complete!"),c.done(c.bottomstream)}catch(d){}},getCloseMiniHandler:function(){var a=this;return function(){clearTimeout(a.timer),a.mini.hide(),a.miniContent.innerHTML=""}},getReplayHandler:function(){var a=this;return function(){a.show()}},getReplayMiddleHandler:function(){var a=this;return function(){a.show()}},getCloseMainHandler:function(){var a=this;return function(){a.hide()}},getCloseMiddleHandler:function(){var a=this;return function(){a.hide()}}},b.BottomStreamMedia=b.BottomStreamMedia||e}(window,window.sinaadToolkit,window.sinaadsROC),function(a,b,c){"use strict";function d(c){if(!b.browser.mobile){this.delay=c.delay?parseInt(c.delay,10):0,c.src=b.array.ensureArray(c.src),c.type=b.array.ensureArray(c.type),c.link=b.array.ensureArray(c.link),c.offsettop=c.offsettop||o,c.expandpos=c.expandpos||p;var d=c.smallsize=c.smallsize||n,i=c.bigsize=c.bigsize||m;this.config=c,this.deferred=new b.Deferred;var j=this.hasSmall=2===c.src.length;if(j){var k=this.leftSmall=g("small","left "+c.offsettop),l=this.leftSmallContent=e(d,{type:c.type[0],src:c.src[0],link:c.link[0],monitor:c.monitor,pv:c.pv},k),q=this.leftSmallCloseBtn=f("small");b.event.on(q,"click",this.getCloseSideHandler()),h(l,q,k)}var r=this.leftBig=g("big","left "+c.offsettop),s=this.leftBigContent=e(i,{type:c.type[1]||c.type[0],src:c.src[1]||c.src[0],link:c.link[1]||c.link[0],monitor:c.monitor,pv:c.pv},r),t=this.leftBigCloseBtn=f("big");if(h(s,t,r),j){var u=this.rightSmall=g("small","right "+c.offsettop),v=this.rightSmallContent=e(d,{type:c.type[2]||c.type[0],src:c.src[2]||c.src[0],link:c.link[2]||c.link[0],monitor:c.monitor,pv:c.pv},u),w=this.rightSmallCloseBtn=f("small");b.event.on(w,"click",this.getCloseSideHandler()),h(v,w,u)}var x=this.rightBig=g("big","right "+c.offsettop),y=this.rightBigContent=e(i,{type:c.type[3]||c.type[1]||c.type[0],src:c.src[3]||c.src[1]||c.src[0],link:c.link[3]||c.link[1]||c.link[0],monitor:c.monitor,pv:c.pv},x),z=this.rightBigCloseBtn=f("big");h(y,z,x),b.event.on(t,"click",this.getCloseSideHandler()),b.event.on(z,"click",this.getCloseSideHandler()),b.event.on(a,"scroll",this.getScrollHandler()),b.event.on(a,"resize",this.getResizeHandler()),this.isClose=!1,this.clientWidth=document.body.clientWidth,this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop,this.show()}}function e(a,c,d){var e=document.createElement("div");return e.style.cssText="width:"+a[0]+"px;height:"+a[1]+"px;position:absolute;left:0px;top:0px;",d.getMain().appendChild(e),b.ad.embed(e,c.type,a[0],a[1],b.ad.createHTML(c.type,c.src,a[0],a[1],c.link,c.monitor,c.pv)),e}function f(a){var b,c,d;"big"===a?(b=k,c=m[1],d=i):(b=l,c=n[1],d=j);var e=document.createElement("div");return e.style.cssText="width:"+b[0]+"px;height:"+b[1]+"px;position:absolute;left:0px;top:"+c+"px;background:url("+d+") no-repeat right center #ebebeb;cursor:pointer",e}function g(a,c){var d,e;"big"===a?(d=m[0],e=m[1]+k[1]):(d=n[0],e=n[1]+l[1]);var f=new b.Box({width:d,height:e,position:c,autoShow:1,follow:!0,zIndex:10501});return f}function h(a,b,c){c.getMain().appendChild(b)}var i="//d2.sina.com.cn/litong/zhitou/sinaads/60x18_1_close.gif",j="//d2.sina.com.cn/litong/zhitou/sinaads/25x65_1-close.gif",k=[120,18],l=[25,65],m=[120,270],n=[25,270],o=100,p=1200,q=1024;d.prototype={getResizeHandler:function(){var a=this;return function(){a.clientWidth=document.body.clientWidth,a.show()}},getScrollHandler:function(){var a=this;return function(){a.scrollTop=document.documentElement.scrollTop||document.body.scrollTop,a.show()}},show:function(){this.isClose||(this.scrollTop>this.config.expandpos&&this.clientWidth>q?(this.hasSmall&&(this.leftSmall.hide(),this.rightSmall.hide()),this.leftBig.show(),this.rightBig.show()):(this.hasSmall&&(this.leftSmall.show(),this.rightSmall.show()),this.leftBig.hide(),this.rightBig.hide()))},getCloseSideHandler:function(){var a=this;return function(){a.isClose=!0,a.hasSmall&&(a.leftSmall.hide(),a.rightSmall.hide()),a.leftBig.hide(),a.rightBig.hide()}}},b.CoupletExtMedia=b.CoupletExtMedia||d}(window,window.sinaadToolkit),function(a,b,c,d){"use strict";function e(a){if(b.browser.mobile)try{b.debug("Media: In building couplet complete!"),c.done(c.couplet)}catch(d){}else{this.delay=a.delay?parseInt(a.delay,10):0,a.mainWidth=a.mainWidth||j[0],a.mainHeight=a.mainHeight||j[1],a.sideWidth=a.sideWidth||k[0],a.sideHeight=a.sideHeight||k[1],a.src=b.array.ensureArray(a.src),a.type=b.array.ensureArray(a.type),a.link=b.array.ensureArray(a.link),this.config=a,this.pdps=a.pdps,this.deferred=new b.Deferred;var e=this.left=new b.Box({width:a.sideWidth,height:a.sideHeight+h[1],position:"left "+a.top||0,autoShow:1,minViewportWidth:a.mainWidth+2*a.sideWidth,zIndex:10500,className:"sinaads-couplet-side sinaads-couplet-side-left"}),l=this.right=new b.Box({width:a.sideWidth,height:a.sideHeight+h[1],position:"right "+a.top||0,autoShow:1,minViewportWidth:a.mainWidth+2*a.sideWidth,zIndex:10500,className:"sinaads-couplet-side sinaads-couplet-side-right"}),m=this.main=new b.Box({width:a.mainWidth,height:a.mainHeight,position:"center "+a.top||0,zIndex:10500}),n=this.mainContent=document.createElement("div");n.style.cssText="width:"+a.mainWidth+"px;height:"+a.mainHeight+"px;overflow:hidden;margin:0px auto;position:relative;";var o=this.mainCloseBtn=document.createElement("div");o.style.cssText="width:"+i[0]+"px;height:"+i[1]+"px;position:absolute;top:"+a.mainHeight+"px;right:0px;background:url("+g+") no-repeat;cursor:pointer;";var p=this.leftContent=document.createElement("div");p.style.cssText="width:"+a.sideWidth+"px;height:"+a.sideHeight+"px;position:absolute;left:0px;top:0px;";var q=this.leftCloseBtn=document.createElement("div");q.className="sinaads-couplet-side-close",q.style.cssText="width:"+a.sideWidth+"px;height:"+h[1]+"px;position:absolute;left:0px;top:"+a.sideHeight+"px;background:url("+f+") no-repeat right center #ebebeb;cursor:pointer";var r=this.rightContent=document.createElement("div");r.style.cssText="width:"+a.sideWidth+"px;height:"+a.sideHeight+"px;position:absolute;left:0px;top:0px;";var s=this.rightCloseBtn=document.createElement("div");s.className="sinaads-couplet-side-close",s.style.cssText="width:"+a.sideWidth+"px;height:"+h[1]+"px;position:absolute;left:0px;top:"+a.sideHeight+"px;background:url("+f+") no-repeat left center #ebebeb;cursor:pointer",this.config.src.length>1&&(m.getMain().appendChild(n),m.getMain().appendChild(o)),e.getMain().appendChild(p),e.getMain().appendChild(q),l.getMain().appendChild(r),l.getMain().appendChild(s),b.ad.embed(p,a.type[1]||a.type[0],a.sideWidth,a.sideHeight,b.ad.createHTML(a.type[1]||a.type[0],a.src[1]||a.src[0],a.sideWidth,a.sideHeight,a.link[1]||a.link[0],a.monitor,a.pv)),b.ad.embed(r,a.type[2]||a.type[1]||a.type[0],a.sideWidth,a.sideHeight,b.ad.createHTML(a.type[2]||a.type[1]||a.type[0],a.src[2]||a.src[1]||a.src[0],a.sideWidth,a.sideHeight,a.link[2]||a.link[1]||a.link[0],a.monitor,a.pv)),b.event.on(o,"click",this.getCloseMainHandler()),b.event.on(q,"click",this.getCloseSideHandler()),b.event.on(s,"click",this.getCloseSideHandler()),this.config.src.length>1&&(b.event.on(r,"mouseover",this.getHoverSideHandler()),b.event.on(p,"mouseover",this.getHoverSideHandler()));try{b.debug("Media: In building couplet complete!"),c.done(c.couplet)}catch(d){}}}var f="//d2.sina.com.cn/litong/zhitou/sinaads/60x18_1_close.gif",g="//d2.sina.com.cn/litong/zhitou/sinaads/75x22-close.gif",h=[120,18],i=[75,22],j=[1e3,90],k=[120,270];e.prototype={timer:null,aniTimer:null,isshow:0,show:function(){var a=this;this.tmpWidth=0,this.isshow=1,clearTimeout(this.timer),this.mainContent.style.width="0px",b.ad.embed(this.mainContent,this.config.type[0],this.config.mainWidth,this.config.mainHeight,b.ad.createHTML(this.config.type[0],this.config.src[0],this.config.mainWidth,this.config.mainHeight,this.config.link[0],this.config.monitor,this.config.pv)),this.main.show(),this.aniTimer=setInterval(function(){a.tmpWidth<a.config.mainWidth?(a.tmpWidth+=(a.config.mainWidth-a.tmpWidth)/4,a.mainContent.style.width=a.tmpWidth+"px"):(a.mainContent.style.width=a.config.mainWidth+"px",clearInterval(a.aniTimer),a.deferred.resolve())},50),a.timer=setTimeout(function(){a.hide()},8e3)},hide:function(){this.main.hide(),this.mainContent.innerHTML="",this.isshow=0,this.aniTimer&&clearInterval(this.aniTimer),this.timer&&clearTimeout(this.timer)},getCloseMainHandler:function(){var a=this;return function(){a.hide(),a.mainIsClose=!0}},getHoverSideHandler:function(){var a=this;return function(){a.mainIsClose||a.show()}},getCloseSideHandler:function(){var a=this;return function(){a.hide(),a.left.remove(),a.right.remove()}}},b.CoupletMedia=b.CoupletMedia||e}(window,window.sinaadToolkit,window.sinaadsROC),function(a,b,c,d){"use strict";function e(d){if(b.browser.mobile)try{b.debug("Media: In building float complete!"),c.done(c["float"])}catch(e){}else{this.delay=d.delay?parseInt(d.delay,10):0,d.sideWidth=d.sideWidth||h[0],d.sideHeight=d.sideHeight||h[1],d.src=b.array.ensureArray(d.src),d.type=b.array.ensureArray(d.type),d.link=b.array.ensureArray(d.link),d.top=d.top||i,this.showPos=d.showPos||0,this.follow=d.follow||this.showPos||0,this.config=d,this.pdps=d.pdps;var j=this.left=new b.Box({width:d.sideWidth,height:d.sideHeight+g[1],position:"left "+d.top,autoShow:1,minViewportWidth:(d.contentWidth||1e3)+2*d.sideWidth,zIndex:10500,follow:this.follow,className:"sinaads-float sinaads-float-left"}),k=this.right=new b.Box({width:d.sideWidth,height:d.sideHeight+g[1],position:"right "+d.top,autoShow:1,minViewportWidth:(d.contentWidth||1e3)+2*d.sideWidth,zIndex:10500,follow:this.follow,className:"sinaads-float sinaads-float-right"}),l=this.leftContent=document.createElement("div");l.style.cssText="width:"+d.sideWidth+"px;height:"+d.sideHeight+"px;position:absolute;left:0px;top:0px;";var m=this.leftCloseBtn=document.createElement("div");m.className="sinaads-float-close",m.style.cssText="width:"+d.sideWidth+"px;height:"+g[1]+"px;position:absolute;left:0px;top:"+d.sideHeight+"px;background:url("+f+") no-repeat right center #ebebeb;cursor:pointer";var n=this.rightContent=document.createElement("div");n.style.cssText="width:"+d.sideWidth+"px;height:"+d.sideHeight+"px;position:absolute;left:0px;top:0px;";var o=this.rightCloseBtn=document.createElement("div");o.className="sinaads-float-close",o.style.cssText="width:"+d.sideWidth+"px;height:"+g[1]+"px;position:absolute;left:0px;top:"+d.sideHeight+"px;background:url("+f+") no-repeat left center #ebebeb;cursor:pointer",j.getMain().appendChild(l),j.getMain().appendChild(m),k.getMain().appendChild(n),k.getMain().appendChild(o),b.ad.embed(l,d.type[0],d.sideWidth,d.sideHeight,b.ad.createHTML(d.type[0],d.src[0],d.sideWidth,d.sideHeight,d.link[0],d.monitor,d.pv)),b.ad.embed(n,d.type[1]||d.type[0],d.sideWidth,d.sideHeight,b.ad.createHTML(d.type[1]||d.type[0],d.src[1]||d.src[0],d.sideWidth,d.sideHeight,d.link[1]||d.link[0],d.monitor,d.pv)),this.closeSideHandler=this.getCloseSideHandler(),b.event.on(m,"click",this.closeSideHandler),b.event.on(o,"click",this.closeSideHandler),d.showPos&&(this.getScrollHandler()(),b.event.on(a,"scroll",this.getScrollHandler()));try{b.debug("Media: In building float complete!"),c.done(c["float"])}catch(e){}}}var f="//d2.sina.com.cn/litong/zhitou/sinaads/60x18_1_close.gif",g=[60,18],h=[120,300],i=100;e.prototype={getCloseSideHandler:function(){var a=this;return function(){a.isClose=!0,a.left.remove(),a.right.remove()}},destory:function(){b.event.un(this.leftCloseBtn,"click",this.closeSideHandler),b.event.un(this.rightCloseBtn,"click",this.closeSideHandler),this.left.remove(),this.right.remove()},decideShow:function(){this.isClose||(this.scrollTop>this.showPos?(this.left.show(),this.right.show()):(this.left.hide(),this.right.hide()))},getScrollHandler:function(){var a=this;return function(){a.scrollTop=document.documentElement.scrollTop||document.body.scrollTop,a.decideShow()}}},b.FloatMedia=b.FloatMedia||e}(window,window.sinaadToolkit,window.sinaadsROC),function(a,b,c,d){"use strict";function e(d,e){var k=e.position||"center center",l=[60,22],m=g,n=e.height,o=0;this.showPos=e.showPos||0,"center center"===k&&(l=[75,22],m=f,n=parseInt(n,10)+l[1],o=l[1]);var p=this.main=new b.Box({position:k,width:e.width,height:n,follow:e.follow||1,autoShow:1,zIndex:e.zIndex||h}),q=this.button=document.createElement("div");q.style.cssText=["width:"+l[0]+"px","height:"+l[1]+"px","position:absolute","right:0px","top:0px","z-index:"+i,"background:url("+m+") no-repeat","margin:0","padding:0","cursor:pointer"].join(";"),p.getMain().appendChild(q),p.getMain().appendChild(d),d.style.cssText+=";display:block;overflow:hidden;text-decoration:none;padding-top:"+o+"px",d.innerHTML='<ins style="text-decoration:none;margin:0px auto;display:block;overflow:hidden;width:'+e.width+"px;height:"+e.height+'px;"></ins>',d=d.getElementsByTagName("ins")[0];var r=e.src?b.ad.createHTML(e.type,e.src,e.width,e.height,e.link,e.monitor,e.pv):"";switch(e.type[0]){case"text":case"image":case"url":case"adbox":case"flash":d.innerHTML=r;break;default:b.sandbox.create(d,e.width+"px",e.height+"px",r,{sinaads_uid:"FollowButtonMediaSandbox"+j++,sinaads_ad_pdps:e.pdps,sinaads_ad_width:e.width,sinaads_ad_height:e.height})}b.event.on(q,"click",this._getCloseHandler()),e.showPos&&(this.getScrollHandler()(),b.event.on(a,"scroll",this.getScrollHandler()));try{b.debug("Media: In building followbutton("+e.pdps+")complete!"),c.done(e.pdps)}catch(s){}}var f="//d2.sina.com.cn/litong/zhitou/sinaads/75x22-close.gif",g="//d2.sina.com.cn/litong/zhitou/sinaads/60x18_2_close.gif",h=11e3,i=11010,j=0;e.prototype={_getCloseHandler:function(){var a=this;return function(){a.isClose=!0,a.hide()}},hide:function(){this.main.hide()},decideShow:function(){this.isClose||(this.scrollTop>this.showPos?this.main.show():this.main.hide())},getScrollHandler:function(){var a=this;return function(){a.scrollTop=document.documentElement.scrollTop||document.body.scrollTop,a.decideShow()}}},b.FollowButtonMedia=b.FollowButtonMedia||e}(window,window.sinaadToolkit,window.sinaadsROC),function(a,b,c){"use strict";function d(a){var c=this;this.deferred=new b.Deferred;var d=this.width=a.main.width,l=this.height=a.main.height;this.delay=a.delay?parseInt(a.delay,10):0,this.config=a,this.isHideMini=!this.config.mini.src;var m=this.main=new b.Box({width:d,height:l,position:"right "+(a.main.top||"top"),follow:1,zIndex:10010}),n=this.mini=new b.Box({width:i[0],height:i[1]+k[1]+j[1],position:"right "+(a.mini.top||"bottom"),follow:1,zIndex:1e4}),o=this.mainCloseBtn=document.createElement("div");o.style.cssText=["width:"+d+"px","height:"+h[1]+"px","position:absolute","right:0px","bottom:-"+h[1]+"px","z-index:9999","background:url("+g+") no-repeat left top #eee","margin:0","padding:0","cursor:pointer"].join(";");var p=this.miniCloseBtn=document.createElement("div");p.style.cssText="margin:0px;padding:0px;display:block;cursor:pointer;width:"+k[0]+"px;height:"+k[1]+"px;position:absolute;left:0px;top:"+(i[1]+j[1])+"px;background:url("+f+") no-repeat center;";var q=this.miniReplayBtn=document.createElement("div");q.style.cssText="width:"+j[0]+"px;height:"+j[1]+"px;position:absolute;left:0px;top:"+i[1]+"px;background:url("+e+") no-repeat center;margin:0px;padding:0px;display:block;cursor:pointer;",b.event.on(p,"click",this.getCloseMiniHandler()),b.event.on(q,"click",this.getReplayHandler()),b.event.on(o,"click",this.getCloseMainHandler());var r=this.mainContent=document.createElement("div"),s=this.miniContent=document.createElement("div");m.getMain().appendChild(r),m.getMain().appendChild(o),n.getMain().appendChild(s),n.getMain().appendChild(q),n.getMain().appendChild(p),this.delay?setTimeout(function(){c.show()},1e3*this.delay):this.show()}var e="//d5.sina.com.cn/d1images/lmt/play.gif",f="//d2.sina.com.cn/litong/zhitou/sinaads/25x65_1-close.gif",g="//d2.sina.com.cn/litong/zhitou/sinaads/60x18_1_close.gif",h=[60,18],i=[25,150],j=[25,24],k=[25,65];d.prototype={timer:null,show:function(){var a=this,c=this.config;clearTimeout(this.timer),b.ad.embed(this.mainContent,c.main.type,c.main.width,c.main.height,b.ad.createHTML(c.main.type,c.main.src,c.main.width,c.main.height,c.main.link,c.monitor,c.pv)),this.main.show(),this.miniContent.innerHTML="",this.mini.hide(),this.deferred.resolve(),this.timer=setTimeout(function(){a.hide()},1e3*c.duration||5e3)},hide:function(){var a=this.config;clearTimeout(this.timer),this.mainContent.innerHTML="",this.main.hide(),this.isHideMini||(this.mini.show(),b.ad.embed(this.miniContent,a.mini.type,25,150,b.ad.createHTML(a.mini.type,a.mini.src,25,150,a.mini.link,a.monitor,a.pv)))},getCloseMiniHandler:function(){var a=this;return function(){clearTimeout(a.timer),a.mini.hide(),a.miniContent.innerHTML=""}},getReplayHandler:function(){var a=this;return function(){a.show()}},getCloseMainHandler:function(){var a=this;return function(){a.hide()}}},b.FollowMedia=b.FollowMedia||d}(window,window.sinaadToolkit),function(a,b,c,d){"use strict";function e(d){var e=document.getElementById("FullScreenWrap");if(e){var i=this;this.deferred=new b.Deferred;var k=d.hasClose?b.ad.getTimesInRange("FullscreenMedia"+d.pdps,j,864e5):1;this.width=d.width,this.height=d.height+(d.hasClose?40:0),this.contentHeight=d.height,this.src=d.src,this.link=d.link,this.type=d.type,this.monitor=d.monitor,this.pv=d.pv,this.transitionStep=d.hasClose?90:98,this.replaySrc=d.replaySrc||h,this.replaySrcType=d.replaySrcType||"flash",this.duration=d.duration||(d.hasClose?8e3:5e3),this.pdps=d.pdps,this.replayFuncName="fullscreenReplayFunc"+d.pdps,this.delay=d.delay?parseInt(d.delay,10):0;var l=this.container=document.createElement("div");l.style.cssText="width:"+this.width+"px;margin:0px auto;position:relative;",e.appendChild(l);var m=this.main=document.createElement("div");m.className="sinaads-fullscreen-main",m.style.cssText="display:none;";var n=this.mainContent=document.createElement("div");if(n.style.cssText="position:relative;overflow:hidden;width:"+this.width+"px;height:0px;margin:0;padding:0;",m.appendChild(n),l.appendChild(m),d.hasClose){var o=this.mainCloseBtn=document.createElement("div");o.style.cssText="cursor:pointer;position:absolute;width:77px;height:31px;right:0px;top:"+this.contentHeight+"px;background:url("+f+") no-repeat;margin:0;padding:0;";var p=this.mini=document.createElement("div");p.style.cssText="width:25px;height:117px;position:absolute;left:"+this.width+"px;top:0px;margin:0;padding:0;overflow:hidden;";var q=this.miniContent=document.createElement("div");q.style.cssText="position:absolute;left:0px;top:0px;overflow:hidden;margin:0;padding:0";var r=this.miniCloseBtn=document.createElement("div");if(r.style.cssText="cursor:pointer;width:25px;height:17px;position:absolute;right:0px;top:100px;background:url("+g+") no-repeat right;margin:0;padding:0;",m.appendChild(o),p.appendChild(q),d.replaySrc){var s=document.createElement("div");s.style.cssText="cursor:pointer;position:absolute;left:0px;top:0px;width:25px;height:100px;overflow:hidden;margin:0;padding:0;background:#fff;opacity:0;*filter:alpha(opacity=0);",q.innerHTML=b.ad.createHTML(this.replaySrcType,this.replaySrc,25,100,this.monitor,this.pv),p.appendChild(s),b.event.on(s,"click",this.getReplayHandler())}else a[this.replayFuncName]=this.getReplayHandler(),b.swf.hackAutoPlay(q,b.swf.createHTML({url:h,width:25,height:100,wmode:"transparent",allowScriptAccess:"always",vars:{replayFunc:this.replayFuncName}}));p.appendChild(r),l.appendChild(p),b.event.on(this.mainCloseBtn,"click",this.getCloseMainHandler()),b.event.on(this.miniCloseBtn,"click",this.getCloseMiniHandler())}this.delay?setTimeout(function(){k?i.show():i.hide()},1e3*this.delay):k?i.show():i.hide()}else try{b.debug("Media: In building fullscreen complete!"),c.done(c.fullscreen)}catch(t){}}var f="//d2.sina.com.cn/litong/zhitou/sinaads/77x31-close.gif",g="//d3.sina.com.cn/d1images/fullscreen/close.gif",h="//d2.sina.com.cn/litong/zhitou/sinaads/release/fullscreen_replay_btn.swf",i=0,j=2;e.prototype={timer:null,aniTimer:null,show:function(){var a=this;clearTimeout(this.timer),b.ad.embed(this.mainContent,this.type,this.width,this.contentHeight,b.ad.createHTML(this.type,this.src,this.width,this.contentHeight,this.link,this.monitor,this.pv)),this.main.style.display="block",this.mini&&(this.mini.style.display="none"),this.expand(this.height,this.transitionStep,function(){a.deferred.resolve(),a.timer=setTimeout(function(){a.hide()},a.duration)})},hide:function(){var a=this;clearTimeout(this.timer),this.fold(this.transitionStep,function(){a.main.style.display="none",a.mini&&(a.mini.style.display="block");try{b.debug("Media: In building fullscreen complete!"),c.done(c.fullscreen)}catch(d){}})},expand:function(a,b,c){var d=this;a>i?(i+=b,this.mainContent.style.height=Math.min(a,i)+"px",this.aniTimer=setTimeout(function(){d.expand(a,b,c)},100)):(clearTimeout(this.aniTimer),c())},fold:function(a,b){var c=this;i>0?(i-=a,this.mainContent.style.height=i+"px",this.aniTimer=setTimeout(function(){c.fold(a,b)},100)):(clearTimeout(this.aniTimer),b())},getReplayHandler:function(){var a=this;return function(){a.show()}},getCloseMainHandler:function(){var a=this;return function(){a.hide()}},getCloseMiniHandler:function(){var a=this;return function(){clearTimeout(this.timer),a.mini.style.display="none"}}},b.FullscreenMedia=b.FullscreenMedia||e}(window,window.sinaadToolkit,window.sinaadsROC),function(a,b,c){"use strict";function d(c){this.cookieKey=c.cookieKey;var d=this.width=c.width,g=this.height=c.height,h=this.main=new b.Box({position:{of:[a,a],at:"left top",my:"left top+120px"},follow:1,width:d,autoShow:1,height:g+f[1]}),i=this.mainContent=document.createElement("div");i.style.cssText="width:"+d+"px;height:"+g+"px;position:absolute;right:0px;top:0px;";var j=this.mainCloseBtn=document.createElement("div");j.style.cssText=["width:"+d+"px","height:"+f[1]+"px","position:absolute","right:0px","top:"+g+"px","z-index:10000","background:url("+e+") no-repeat right center #ebebeb","margin:0","padding:0","cursor:pointer"].join(";"),h.getMain().appendChild(j),h.getMain().appendChild(i),b.ad.embed(i,c.type,d,g,b.ad.createHTML(c.type,c.src,d,g,c.link,c.monitor,c.pv)),this.closeHandler=this.getCloseHandler(),b.event.on(j,"click",this.closeHandler)}var e="//d2.sina.com.cn/litong/zhitou/sinaads/60x18_1_close.gif",f=[60,18];d.prototype={resizeTimeout:null,getCloseHandler:function(){var a=this;return function(){a.mainContent.innerHTML="",a.main.hide(),b.cookie.get(a.cookieKey)||b.cookie.set(a.cookieKey,"1",{path:"/",expires:6e5}),b.event.un(a.mainCloseBtn,"click",a.closeHandler)}}},b.LeftSuspendMedia=b.LeftSuspendMedia||d}(window,window.sinaadToolkit),function(a,b,c,d){"use strict";function e(a,d){var e=d.position||"center center",k=[60,22],l=g,m=d.height,n=0;this.closetime=d.closetime||0,"center center"===e&&(k=[75,22],l=f,m=parseInt(m,10)+k[1],n=k[1]);var o=this.main=new b.Box({position:e,width:d.width,height:m,follow:d.follow||1,autoShow:1,zIndex:d.zIndex||h}),p=this.button=document.createElement("div");p.style.cssText=["width:"+k[0]+"px","height:"+k[1]+"px","position:absolute","right:0px","top:0px","z-index:"+i,"background:url("+l+") no-repeat","margin:0","padding:0","cursor:pointer"].join(";");var q=this.CloseContent=document.createElement("div");q.style.cssText=["width:60px","height:18px","background:#000","opacity:0.5","filter:alpha(opacity=50)","display:none","position:absolute","top:0","right:"+k[0]+"px","z-index:"+i,"font-size:12px","font-family:宋体"].join(";");var r=this.CloseTips=document.createElement("div");r.style.cssText=["width:50px","height:18px","line-height:18px","padding:0 0 0 3px","position:absolute","top:0","left:0","color:#fff"].join(";");var s=this.CloseTimes=document.createElement("div");s.style.cssText=["width:10px","height:18px","line-height:18px","overflow:hidden","position:absolute","top:0","left:43px","color:#ff0000"].join(";"),o.getMain().appendChild(p),o.getMain().appendChild(q),q.appendChild(r),q.appendChild(s),o.getMain().appendChild(a),a.style.cssText+=";display:block;overflow:hidden;text-decoration:none;padding-top:"+n+"px",a.innerHTML='<ins style="text-decoration:none;margin:0px auto;display:block;overflow:hidden;width:'+d.width+"px;height:"+d.height+'px;"></ins>',a=a.getElementsByTagName("ins")[0];var t=d.src?b.ad.createHTML(d.type,d.src,d.width,d.height,d.link,d.monitor,d.pv):"";switch(d.type[0]){case"text":case"image":case"url":case"adbox":case"flash":b.swf.hackAutoPlay(a,t);break;default:b.sandbox.create(a,d.width+"px",d.height+"px",t,{sinaads_uid:"PopMediaSandbox"+j++,sinaads_ad_pdps:d.pdps,sinaads_ad_width:d.width,sinaads_ad_height:d.height})}b.event.on(p,"click",this._getCloseHandler());try{b.debug("Media: In building pop("+d.pdps+")complete!"),c.done(d.pdps)}catch(u){}}var f="//d2.sina.com.cn/litong/zhitou/sinaads/75x22-close.gif",g="//d2.sina.com.cn/litong/zhitou/sinaads/60x18_2_close.gif",h=11e3,i=11010,j=0;
e.prototype={_getCloseHandler:function(){var a=this;return function b(){0===a.closetime?a.hide():(a.CloseContent.style.display="block",a.CloseTips.innerHTML="关闭中",a.CloseTimes.innerHTML=a.closetime,a.closetime--),setTimeout(function(){new b},1e3)}},hide:function(){this.main.hide()}},b.PopMedia=b.PopMedia||e}(window,window.sinaadToolkit,window.sinaadsROC),function(a,b,c,d){"use strict";function e(a,c){function d(a,c){var d={};return b.object.map(c,function(b,c){d[a+c]=b}),d}this.config=c,this.content=c.content,this.len=this.content.length;var e=this.stageWidth=c.width-30;b.page.injectStyles(d("#"+c.pdps,{".sinaads-shopwindow":"position:relative;overflow:hidden;width:"+c.width+"px;height:"+c.height+"px;",".sinaads-shopwindow .aside":'position:absolute;width:30px;height:86px;padding:2px 0 0;font:12px/14px "Microsoft YaHei";text-align:center;border:1px solid #ccc;',".sinaads-shopwindow .indicator":"margin:0px;padding:0px;list-style:none;",".sinaads-shopwindow .indicator li":"display:block;width:17px;height:14px;padding-top:3px;margin:2px auto;border-radius:10px;color:#999;background:#eee;cursor:pointer;",".sinaads-shopwindow .indicator li.active":"background:red;color:white;",".sinaads-shopwindow .stage":"position:absolute;width:"+e+"px;height:90px;left:30px;overflow:hidden;",".sinaads-shopwindow .item":"display:none;position:absolute;top:0;left:0;width:"+e+"px;height:90px;transition:top .5s;",".sinaads-shopwindow .item.active":"display:block;top:0px;",".sinaads-shopwindow .item.next":"display:block;top:90px;",".sinaads-shopwindow .item.active.top":"top:-90px;"}));var f=document.createElement("div");f.className="sinaads-shopwindow",f.id=c.pdps,a.appendChild(f),a.style.cssText+=";text-decoration:none;";var g=document.createElement("div");g.className="aside";var h=document.createElement("span");h.innerHTML="猜你喜欢",g.appendChild(h),this.indicator=this.buildIndicator(),g.appendChild(this.indicator),f.appendChild(g),this.stage=this.buildStage(),f.appendChild(this.stage),this.index=0,this.start()}var f=2e3;e.prototype={buildIndicator:function(){var a,c=this.content.length,d=this,e="",f=document.createElement("ul"),g=function(a){return function(b){b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation(),d.slideTo(a),d.stopAnimation=!0}};for(f.className="indicator",a=0;c>a;a++)e+='<li class="'+(0===a?"active":"")+'">'+(a+1)+"</li>";for(f.innerHTML=e,a=0;c>a;a++)b.event.on(f.childNodes[a],"mouseover",g(a));return f},buildStage:function(){var a,c,d=this,e=this.content.length,f=this.config,g="",h="";for(a=document.createElement("div"),a.className="stage",c=0;e>c;c++)h=b.ad.createHTML(f.content[c].type[0],f.content[c].src[0],d.stageWidth,f.height,f.content[c].link[0],f.content[c].monitor[0],f.content[c].pv[0]),g+='<div class="item '+(0===c?"active":"")+'">'+h+"</div>";return a.innerHTML=g,a},start:function(){var a=this,b=function(){if(!a.stopAnimation){var c=(a.index+1)%a.len;a.slideTo(c),setTimeout(b,f)}};setTimeout(b,f)},slideTo:function(a){var b=this,c=this.index,d=this.stage.childNodes[c],e=this.stage.childNodes[a];a!==c&&(this.sliding||(this.index=a,this.sliding=!0,e.className="item next",this.indicator.childNodes[c].className="",this.indicator.childNodes[a].className="active",setTimeout(function(){d.className="item active top",e.className="item active"},0),setTimeout(function(){d.className="item",b.sliding=!1},500)))}},b.ShopWindowMedia=b.ShopWindowMedia||e}(window,window.sinaadToolkit,window.sinaadsROC),function(a,b,c){"use strict";function d(a,c){var d=b.cookie.get(i+a),e=new Date;return b.isNull(d)?(e=e.getTime()+60*k*60*1e3,b.cookie.set(j+a,""+e,{expires:1728e5}),d=c?1:2):(e=b.cookie.get(j+a),d=parseInt(d,10)+1),{showCount:d,expires:e}}function e(c){var e=this,i=this.width=c.main.width,j=this.height=c.main.height,k=c.mini.width,l=this.miniHeight=h;this.delay=c.delay?parseInt(c.delay,10):0,this.config=c;var m=this.main=new b.Box({width:i,height:j,position:c.left+" "+c.top,follow:1,zIndex:10010}),n=this.mini=new b.Box({width:k,height:l,position:c.left+" "+c.top,follow:1,zIndex:1e4}),o=this.mainContent=document.createElement("div");o.style.cssText="width:"+i+"px;height:"+j+"px;position:absolute;right:0px;bottom:0px;";var p=this.miniContent=document.createElement("div");p.style.cssText="width:"+k+"px;height:"+l+"px;position:absolute;right:0px;bottom:0px;";var q=this.mainCloseBtn=document.createElement("div");q.style.cssText=["width:"+g[0]+"px","height:"+g[1]+"px","position:absolute","right:0px","top:0px","bottom:"+g[1]+"px","z-index:9999","background:url("+f+") no-repeat","margin:0","padding:0","cursor:pointer"].join(";");var r=this.miniCloseBtn=document.createElement("div");r.style.cssText=["width:"+g[0]+"px","height:"+g[1]+"px","position:absolute","right:0px","top:0px","bottom:"+g[1]+"px","z-index:9999","background:url("+f+") no-repeat","margin:0","padding:0","cursor:pointer"].join(";"),this.clientWidth=document.body.clientWidth,this.closeHandler=this.getCloseHandler(),b.event.on(r,"click",this.closeHandler),b.event.on(q,"click",this.closeHandler),this.miniMouseOverHandler=this.getMiniMouseOverHandler(),b.event.on(this.miniContent,"mouseover",this.miniMouseOverHandler),this.resizeHandler=this.getResizeHandler(),b.event.on(a,"resize",this.resizeHandler),m.getMain().appendChild(q),m.getMain().appendChild(o),n.getMain().appendChild(r),n.getMain().appendChild(p),this.timer=null,b.ad.embed(o,c.main.type,i,j,b.ad.createHTML(c.main.type,c.main.src,i,j,c.main.link,c.monitor,c.pv)),b.ad.embed(p,c.mini.type,k,l,b.ad.createHTML(c.mini.type,c.mini.src,k,l,c.link,c.monitor,c.pv));var s=this.showInfo=d(c.pdps,!0);setTimeout(function(){e.render(1===s.showCount)},1e3*this.delay)}var f="//d2.sina.com.cn/litong/zhitou/sinaads/60x18_1_close.gif",g=[60,18],h=270,i="SkyScraperMediaCount",j="SkyScraperMediaOutdate",k=24,l=3;e.prototype={render:function(a){var c=this.config,d=this.showInfo;this.hide(),this.hideMini(),b.page.getViewWidth()>=c.midWidth+2*(this.width+c.left)&&(a?(b.cookie.set(i+c.pdps,d.showCount,{expires:new Date(parseInt(d.expires,10))}),this.show()):this.showMini())},show:function(){var a=this,c=this.config;b.ad.embed(this.mainContent,c.main.type,c.main.width,c.main.height,b.ad.createHTML(c.main.type,c.main.src,c.main.width,c.main.height,c.main.link,c.monitor,c.pv)),this.main.show(),this.timer=setTimeout(function(){a.render()},1e3*c.duration||8e3)},hide:function(){this.timer&&clearTimeout(this.timer),this.mainContent.innerHTML="",this.main.hide()},showMini:function(){var a=this.config;a.mini.src&&(b.ad.embed(this.miniContent,a.mini.type,a.mini.width,this.miniHeight,b.ad.createHTML(a.mini.type,a.mini.src,a.mini.width,this.miniHeight,a.mini.link,a.monitor,a.pv)),this.mini.show())},hideMini:function(){this.miniContent.innerHTML="",this.mini.hide()},getResizeHandler:function(){var a=this;return function(){a.resizeTimer&&clearTimeout(a.resizeTimer),a.resizeTimer=setTimeout(function(){a.render()},500)}},getCloseHandler:function(){var c=this;return function(){c.hide(),c.hideMini(),b.event.un(c.mainCloseBtn,"click",c.closeHandler),b.event.un(c.miniCloseBtn,"click",c.closeHandler),b.event.un(c.miniContent,"mouseover",c.miniMouseOverHandler),b.event.un(a,"resize",c.resizeHandler)}},getMiniMouseOverHandler:function(){var a=this;return function(){var b=a.showInfo=d(a.config.pdps,!1);b.showCount<=l&&a.render(!0)}}},b.SkyScraperMedia=b.SkyScraperMedia||e}(window,window.sinaadToolkit),function(a,b,c,d){"use strict";function e(a){var c=this;this.deferred=new b.Deferred;var d=b.storage.get("StreamMedia"+a.pdps);d=d?parseInt(d,10)+1:1,b.storage.set("StreamMedia"+a.pdps,d,864e5);var e=this.width=a.main.width,m=this.height=a.main.height;this.delay=a.delay?parseInt(a.delay,10):0,this.config=a,this.pdps=a.pdps;var n=this.main=new b.Box({width:e,height:m,position:"center "+(a.main.top||(e>320?"46":"center")),follow:1,zIndex:j,className:"sinaads-stream-main"}),o=this.mini=new b.Box({width:25,height:239,position:"right bottom",follow:1,zIndex:k,className:"sinaads-stream-side"}),p=this.mainCloseBtn=document.createElement("div");p.style.cssText=["width:"+(e>375?77:75)+"px","height:"+(e>375?31:22)+"px","position:absolute","right:0px","bottom:"+(e>375?-31:-22)+"px","z-index:"+j,"background:url("+(e>375?f:g)+") no-repeat","margin:0","padding:0","cursor:pointer"].join(";");var q=this.miniCloseBtn=document.createElement("div");q.style.cssText="margin:0px;padding:0px;display:block;cursor:pointer;width:25px;height:65px;position:absolute;left:0px;top:174px;background:url("+i+") no-repeat center;";var r=this.miniReplayBtn=document.createElement("div");r.style.cssText="width:25px;height:24px;position:absolute;left:0px;top:150px;background:url("+h+") no-repeat center;margin:0px;padding:0px;display:block;cursor:pointer;",b.event.on(q,"click",this.getCloseMiniHandler()),b.event.on(r,"click",this.getReplayHandler()),b.event.on(p,"click",this.getCloseMainHandler());var s=this.mainContent=document.createElement("div"),t=this.miniContent=document.createElement("div");n.getMain().appendChild(s),n.getMain().appendChild(p),o.getMain().appendChild(t),o.getMain().appendChild(r),o.getMain().appendChild(q),this.delay?setTimeout(function(){d>l?c.hide():c.show()},1e3*this.delay):d>l?this.hide():this.show()}var f="//d2.sina.com.cn/litong/zhitou/sinaads/77x31-close.gif",g="//d2.sina.com.cn/litong/zhitou/sinaads/75x22-close.gif",h="//d5.sina.com.cn/d1images/lmt/play.gif",i="//d2.sina.com.cn/litong/zhitou/sinaads/25x65_1-close.gif",j=12e3,k=1e4,l=2;e.prototype={timer:null,show:function(){var a=this,c=this.config;clearTimeout(this.timer),this.miniContent.innerHTML="",b.ad.embed(this.mainContent,c.main.type,c.main.width,c.main.height,b.ad.createHTML(c.main.type,c.main.src,c.main.width,c.main.height,c.main.link||c.link,c.monitor,c.pv,"",{wmode:"transparent"})),this.main.show(),this.mini.hide(),this.timer=setTimeout(function(){a.hide()},c.duration||(this.width>300?8e3:5e3))},hide:function(){var a=this.config;clearTimeout(this.timer),this.mainContent.innerHTML="",this.mini.show(),this.main.hide(),b.ad.embed(this.miniContent,a.mini.type,25,150,b.ad.createHTML(a.mini.type,a.mini.src,25,150,a.mini.link||a.link,a.monitor,a.pv));try{b.debug("Media: In building stream complete!"),c.done(c.stream)}catch(d){}},getCloseMiniHandler:function(){var a=this;return function(){clearTimeout(a.timer),a.mini.hide(),a.miniContent.innerHTML=""}},getReplayHandler:function(){var a=this;return function(){a.show()}},getCloseMainHandler:function(){var a=this;return function(){a.hide()}}},b.StreamMedia=b.StreamMedia||e}(window,window.sinaadToolkit,window.sinaadsROC),function(a,b,c){"use strict";function d(a,c){if(c.src=b.array.ensureArray(c.src),c.type=b.array.ensureArray(c.type),c.link=b.array.ensureArray(c.link),this.config=c,a.style.display="block",a.innerHTML=b.ad.createHTML(c.type[0],c.src[0],0,0,c.link[0]||"",c.monitor,c.pv)||"",c.src[1]){var d=this.closeBtn=document.createElement("span");d.innerHTML="×",d.style.cssText+=";position:absolute;right:6px;top:6px;line-height:10px;cursor:pointer;color:#8a8678;";var e=this.tipContent=document.createElement("div");this.tip=new b.Tip(a,{width:c.width,height:c.height,top:c.top||0,left:c.left||0,zIndex:c.zIndex}),this.tip.element.appendChild(e),this.tip.element.appendChild(d),e.innerHTML=b.ad.createHTML(c.type[1],c.src[1],c.width,c.height,c.link[1]||c.link[0]||"",c.monitor,c.pv),c.autoShow&&this.tip.show(),b.event.on(d,"click",this.getHideHandler())}}b.Tip=function(c,d){this.relateElement=c,this.top=d.top||0,this.left=d.left||0,this.element=document.createElement("div"),this.element.style.cssText+=";border:1px solid #ccc;z-index:"+(d.zIndex||9999)+";display:none;position:absolute;width:"+d.width+"px;height:"+d.height+"px;overflow:hidden;",this.setPosition(),document.body.insertBefore(this.element,document.body.firstChild),b.event.on(a,"resize",this.getResizeHandler())},b.Tip.prototype={show:function(){this.element.style.display="block"},hide:function(){this.element.style.display="none"},setPosition:function(){var a=b.dom.getPosition(this.relateElement),c=this.relateElement.offsetHeight||0;this.element.style.left=(this.left||a.left)+"px",this.element.style.top=(this.top||a.top+c)+"px"},getResizeHandler:function(){var a=this;return function(){a.setPosition()}}},d.prototype={getHideHandler:function(){var a=this;return function(){a.tip.hide()}}},b.TipsMedia=b.TipsMedia||d}(window,window.sinaadToolkit),function(a,b,c,d){"use strict";function e(c){var d=this;c.innerWidth=c.width,c.innerHeight=c.height,c.height=k,c.width=j,this.delay=c.delay?parseInt(c.delay,10):0,this.config=c,this.pdps=c.pdps,this.deferred=new b.Deferred;var e=this.main=new b.Box({width:c.width,height:c.height,position:"right bottom",follow:1,zIndex:c.zIndex||h}),l=this.mainWrap=document.createElement("div");l.style.cssText="position:absolute;left:0px;bottom:0px;width:"+c.width+"px;height:0px;overflow:hidden;";var m=this.mainContent=document.createElement("div");m.style.cssText="position:absolute;width:"+c.width+"px;height:"+c.height+"px;left:0px;top:0px;";var n=this.closeBtn=document.createElement("div");n.style.cssText="background:url("+f+") left top no-repeat;cursor:pointer;z-index:"+i+";position:absolute;width:60px;height:18px;right:7px;top:1px;",l.appendChild(m),l.appendChild(n),e.getMain().appendChild(l),b.event.on(n,"click",this.getCloseHandler()),b.event.on(n,"mouseover",function(b){var c=b||a.event,d=c.target||c.srcElement;d.style.background="url("+g+") left top no-repeat"}),b.event.on(n,"mouseout",function(b){var c=b||a.event,d=c.target||c.srcElement;d.style.background="url("+f+") left top no-repeat"}),this.delay?setTimeout(function(){d.show()},1e3*this.delay):this.show()}var f="//d2.sina.com.cn/litong/zhitou/sinaads/60x18_2_close.gif",g="//d2.sina.com.cn/litong/zhitou/sinaads/60x18_3_close.gif",h=11e3,i=11010,j=300,k=300;e.prototype={aniTimer:null,show:function(){var a=this;this.mainWrap.style.height="0px",this.main.show(),b.ad.embed(this.mainContent,this.config.type,this.config.width,this.config.height,b.ad.createHTML(this.config.type,this.config.src,this.config.width,this.config.height,"",this.config.monitor,this.config.pv)+(this.config.link?'<a style="position:absolute;background:#fff;opacity:0;filter:alpha(opacity=0);width:'+this.config.innerWidth+"px;height:"+this.config.innerHeight+'px;left:0;top:24px" href="'+this.config.link+'" target="_blank"></a>':"")),this.tmpHeight=0,this.aniTimer=setInterval(function(){if(a.tmpHeight<a.config.height)a.tmpHeight+=10,a.mainWrap.style.height=a.tmpHeight+"px";else{a.mainWrap.style.height=a.config.height+"px",clearInterval(a.aniTimer);try{b.debug("Media: In building videoWindow complete!"),c.done(c.videoWindow)}catch(d){}}},20)},hide:function(){this.mainContent.innerHTML="",this.aniTimer&&clearInterval(this.aniTimer),this.main.hide()},getCloseHandler:function(){var a=this;return function(){a.hide()}}},b.VideoWindowMedia=b.VideoWindowMedia||e}(window,window.sinaadToolkit,window.sinaadsROC);
//# sourceMappingURL=Media.js.map