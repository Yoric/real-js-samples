/* sohutv 2018-07-13 15:43:54 */
"undefined"==typeof window.sohuHD&&(window.sohuHD={}),sohuHD.user={passport:"",name:"",avatar:"",uid:"",loginType:"mail"},sohuHD.pingback("//tv.sohu.com/upload/static/global/skin/images/loginbg.jpg"),function(i){i.fn.placeholder=function(o){if(!("placeholder"in document.createElement("input"))){o=o||{};var t=o.defclass||"default-val";return this.on("focus",".input-holder",function(){i(this).val()===i(this).attr("placeholder")&&i(this).val("").removeClass(t)}).on("blur",".input-holder",function(){i(this).val()||i(this).val(i(this).attr("placeholder")).addClass(t)}),this.find(".input-holder").each(function(){i(this).val()||i(this).val(i(this).attr("placeholder")).addClass(t)}),this}}}(jQuery),function(i,o,t){function n(){var i=$.Deferred();return u?i.resolve(u):$.ajax({url:"//usr.mb.hd.sohu.com/v7/login/getphonezone.json",type:"get",dataType:"jsonp"}).then(function(o){u=o,i.resolve(o)}),i.promise()}var e=new SohuPassport({appid:107405}),l=function(){o.initLogin()},a=function(){},s=function(){},r={400:"\u767b\u5f55\u5931\u8d25",404:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801",420:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u56fe\u7247\u9a8c\u8bc1\u7801",423:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801",450:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801",453:"\u767b\u5f55\u5931\u8d25\u6b21\u6570\u8fc7\u591a\uff0c\u8bf710\u5206\u949f\u540e\u518d\u8bd5",461:"\u9700\u8981\u7ed1\u5b9a\u624b\u673a",465:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u56fe\u7247\u9a8c\u8bc1\u7801"},g=0,c=function(i,o,t){t=t||{cache:!0},messagebus.subscribe(i,o,null,null,t)},p=null,d=null,h={genqrtoken:"//usr.mb.hd.sohu.com/pc/genqrtoken.json?callback=?",qrLoginStatus:"//pol.passport.sohu.com/passportapi/polling/loginstatus"},u=null,m={isSelfTmpl:!0,newTip:function(){var i=['<div class="gl-alert gl-<%=classFix%>" style="top:<%=offset.top%>px;left:<%=offset.left%>px;">','<span class="gl-<%=classFix%>-ico"><%=msg%></span><a href="#" data-cmd="close" class="gl-<%=classFix%>-close"></a>',"</div>"].join("");return function(t,n,e){var l={classFix:"warn",msg:t,offset:e};"warn"===n&&(l.classFix="tip");var a=$(o.tmpl(i,l)),s=setTimeout(function(){r()},3e3),r=function(){clearTimeout(s),a.remove(),s=a=null};return a.find('a[data-cmd="close"]').click(function(){return r(),!1}),a}}(),init:function(){this.initStyle(),this.initBox(),this.thirdLogin(),this.initWinEvent(),this.initSub(),b.init()},initStyle:function(){var i=["",'<style id="globallogincss">',".globallogin .gl-phone em,",".globallogin .gl-mail em,",".globallogin .gl-btnLog,",".globallogin .gl-btna{display:inline-block;background:url(//css.tv.itc.cn/global/login-images/btn.png) no-repeat;}",".globallogin .gl-phone em{padding-left:30px;background-position:-485px -98px;}",".globallogin .gl-phone-on em{background-position:-485px -148px;}",".globallogin .gl-mail em{padding-left:32px;background-position:-478px -45px;}",".globallogin .gl-mail-on em{background-position:-478px 9px;}",'.globallogin .gl-btna{width:99px;height:30px;text-align:center;line-height:30px;background-position:0 -204px;color:#999;font-family:"Simsun";text-decoration:none;}',".globallogin .gl-btna:hover{background-position:-246px -204px;text-decoration:none;}",".globallogin .gl-btnLog{float:left;width:125px;height:44px;}",".globallogin .gl-btnLog input{width:125px;height:44px;background:none;border:none;cursor:pointer;text-indent:-200px;overflow:hidden;}",".globallogin .gl-btnLog-dis,",".globallogin .gl-btnLog:hover{background-position:-246px 0;}",".globallogin .gl-qq,",".globallogin .gl-sina,",".globallogin .gl-weixin{display:block;width:210px;height:40px;background:url(//css.tv.itc.cn/global/login-images/btn.png) no-repeat;text-indent:-500px;overflow:hidden;}",".globallogin .gl-qq{background-position:0 -54px;}",".globallogin .gl-qq:hover{background-position:-246px -54px;}",".globallogin .gl-sina{background-position:0 -104px;}",".globallogin .gl-sina:hover{background-position:-246px -104px;}",".globallogin .gl-weixin{background-position:0 -154px;}",".globallogin .gl-weixin:hover{background-position:-246px -154px;}",".globallogin .gl-arrow,",".globallogin .gl-closea,",".globallogin .gl-closeb,",".globallogin .gl-warn-arrow,",".globallogin .gl-tip-arrow,",".globallogin .gl-warn-ico,",".globallogin .gl-tip-ico,",".globallogin .gl-warn-close,",".globallogin .gl-tip-close{display:inline-block;background:url(//css.tv.itc.cn/global/login-images/bg.png) no-repeat;}",".globallogin .gl-closea{width:14px;height:14px;background-position:0 -76px;text-indent:-200px;overflow:hidden;}",".globallogin .gl-closea:hover{background-position:-26px -76px;}",".globallogin .gl-warn-arrow{background-position:-26px 0;}",".globallogin .gl-tip-arrow{background-position:-26px -38px;}",".globallogin .gl-warn-ico{background-position:-74px -70px;}",".globallogin .gl-tip-ico{background-position:-74px -106px;}",".globallogin .gl-tip-close{background-position:0 -38px;}",".globallogin .gl-closea{float:right;margin:15px 15px 0 0;}",".globallogin dl dt{float:left;width:320px;border-right:1px solid #f0f0f0;padding:0 50px 0 0;}",".globallogin dl dd{float:right;width:210px;}",'.globallogin dl dd h5{font:16px/20px "Microsoft yahei";color:#9a9a9a;margin:0 0 14px;}',".globallogin .gl-tab{width:320px;height:36px;border-bottom:1px solid #ccc;}",'.globallogin .gl-tab li{float:left;width:130px;padding:0 15px;height:36px;font:16px/34px "Microsoft yahei";color:#9a9a9a;cursor:pointer;position:relative;}',".globallogin .gl-tab .gl-phone-on,",".globallogin .gl-tab .gl-mail-on{border:1px solid #ccc;padding:0 14px;background-color:#fff;border-bottom:none;position:relative;margin-bottom:-1px;color:#333;}",".globallogin .gl-text{float:left;display:inline;padding:3px;height:38px;background:url(//css.tv.itc.cn/global/login-images/input.png) no-repeat;}",".globallogin .gl-text input{height:38px;line-height:38px;padding:0 0 0 16px;background:none;border:0 none;vertical-align:top;font-size:12px;}",".globallogin .gl-text-click{background:url(//css.tv.itc.cn/global/login-images/input.png) no-repeat;}",".globallogin .gl-main{width:320px;padding:22px 0 0 0;position:relative;}",".globallogin .gl-main .gl-row{height:44px;overflow:hidden;border-bottom: 1px solid #c9c9cc;}",".globallogin .gl-main .gl-r1{margin:0 0 23px;}",".globallogin .gl-r1 .gl-text{background-position:2px -42px;}",".globallogin .gl-r2 .gl-text{background-position:2px 2px;}",".globallogin .gl-r2 .gl-text-click{background-position:0 -132px;}",".globallogin .gl-r2 .gl-text input{width:107px;}",".globallogin .gl-main .gl-r3{padding-left:2px;}",".globallogin .gl-phone-login .gl-text{margin-right:7px;}",".globallogin .gl-phone-login .gl-text input{font-size:16px;}",".globallogin .gl-phone-login .gl-r1 .gl-text-click{background-position:0 -176px;}",".globallogin .gl-phone-login .gl-r1 .gl-text input{width:192px;}",".globallogin .gl-phone-login .gl-btna{float:left;margin:7px 0 0 0;}",".globallogin .gl-phone-login .gl-r2 span{float:left;margin-top:13px;color:#999;}",".globallogin .gl-mail-login .gl-text input{color:#ccc;}",".globallogin .gl-mail-login .gl-r1 .gl-text{background-position:2px -86px;}",".globallogin .gl-mail-login .gl-r1 .gl-text input{width:298px;}",".globallogin .gl-mail-login .gl-r1 .gl-text-click{background-position:0 -220px;}",'.globallogin .gl-mail-login .gl-r3 span{float:left;margin:13px 0 0 20px;font-family:"Microsoft yahei";font-size:14px;}',".globallogin .gl-mail-login .gl-r3 span a{color:#d80c18;margin-left:10px;}",".globallogin .gl-radio{display:inline-block;background:url(//css.tv.itc.cn/global/login-images/bg.png) no-repeat -73px 0;padding-left:23px;cursor:pointer;margin-right:15px;}",".globallogin .gl-radio-on{background-position:-73px -39px;}",".globallogin .gl-p{margin:0 0 10px;}",".globallogin .gl-more{margin:30px 0 0;}",".globallogin .gl-more img{vertical-align:middle;margin-right:9px;}",".globallogin .gl-alert{position:absolute;z-index:2;height:27px;line-height:27px;width:254px;padding:0 6px;}",".globallogin .gl-alert span{padding-left:23px;}",".globallogin .gl-alert i{display:block;width:7px;height:5px;text-indent:-50px;overflow:hidden;position:absolute;bottom:-5px;_bottom:-6px;left:36px;}",".globallogin .gl-alert a{position:absolute;width:7px;height:7px;top:6px;right:6px;text-indent:-50px;overflow:hidden;}",".globallogin .gl-warn{background:#fae2e2;border:1px solid #eaa7a7;color:#d80c19;}",".globallogin .gl-tip{background:#fffbe3;border:1px solid #fdbf93;}",".globallogin-b{position:fixed;_position:absolute;bottom:0;width:100%;height:63px;z-index:997;}",".globallogin-b .gl-bg{width:100%;height:100%;left:0;background:#000;opacity:0.7;filter:alpha(opacity=70);position:absolute;}",".globallogin-b .gl-qq,",".globallogin-b .gl-sina{display:block;width:119px;height:35px;}",'.globallogin-b .gl-qq{background:url(//css.tv.itc.cn/global/login-images/btn_qq_png24.png) no-repeat;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=noscale,src="//css.tv.itc.cn/global/login-images/btn_qq_png24.png");',"_background-image:none;}",'.globallogin-b .gl-qq:hover{background:url(//css.tv.itc.cn/global/login-images/btn_qqH_png24.png) no-repeat;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=noscale,src="//css.tv.itc.cn/global/login-images/btn_qqH_png24.png");',"_background-image:none;}",'.globallogin-b .gl-sina{background:url(//css.tv.itc.cn/global/login-images/btn_sina_png24.png) no-repeat;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=noscale,src="//css.tv.itc.cn/global/login-images/btn_sina_png24.png");',"_background-image:none;}",'.globallogin-b .gl-sina:hover{background:url(//css.tv.itc.cn/global/login-images/btn_sinaH_png24.png) no-repeat;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=noscale,src="//css.tv.itc.cn/global/login-images/btn_sinaH_png24.png");',"_background-image:none;}",".globallogin-b dl{width:980px;position:relative;overflow:hidden;padding:14px 0 0 0;margin:0 auto;}",".globallogin-b dl dt{float:left;width:370px;}",".globallogin-b dl dt .gl-p1{color:#fff;margin-bottom:6px;}",".globallogin-b dl dt .gl-p2 a{color:#fe6666;}",".globallogin-b dl dd{float:left;width:610px;}",".globallogin-b dl dd a{float:left;margin:0 9px 0 0;}",'.globalnotice{border:3px solid #d8d8d8;width:620px;height:250px;background:#fff;/*position:absolute;left:50%;top:50%;margin:-125px 0 0 -310px;*/font-family:"Microsoft yahei";}',".globalnotice .gl-closea{float:right;margin:15px 15px 0 0;background:url(//css.tv.itc.cn/global/login-images/bg.png) no-repeat 0 -76px;width:14px;height:14px;text-indent:-200px;overflow:hidden;}",".globalnotice .gl-closea:hover{background-position:-26px -76px;}",".globalnotice .gl-noticeCon{padding:34px 50px 0 68px;}",".globalnotice .gl-ok{display:inline-block;padding-left:33px;background:url(//css.tv.itc.cn/global/login-images/ico_ok.png) no-repeat left center;font-size:24px;line-height:36px;color:#3a3a3a;}",".globalnotice .gl-noticeTxt{padding:26px 0 0;font-size:14px;line-height:24px;color:#9a9a9a;}",".globallogin .gl-h3{font-size:22px;line-height:28px;font-weight:normal;color:#3a3a3a;}","input {outline:none;}",".abs{ position:absolute;}",".globallogin .gl-main,.globallogin dl dt{ width:280px; border-right:none}",".globallogin .gl-main{ padding-top:15px;}",".gl_icos,.globallogin .gl-alert a{ background:url(//css.tv.itc.cn/global/login-images/v2/bg_login.png) no-repeat;}",".gl_bg_pc{ background:url(//css.tv.itc.cn/global/login-images/v2/bg_pc.jpg) no-repeat;}",".globallogin {width:670px; padding:30px 40px 0 40px; height:auto;border:1px solid #ccc;}",".globallogin .gl-closea{ background:url(//css.tv.itc.cn/global/login-images/v2/bg_login.png) no-repeat 0 0; width:30px; height:30px;  right:0; top:0px;}",".gl_wtBox{ background:#fff; border:1px solid #c9c9cc;border-radius:8px; padding:0 20px; margin-bottom:10px;}",".globallogin .gl-closea:hover{background-position:-189px 0;}",".ico_act{ background-position:-45px 0; display:inline-block; width:18px; height:16px; margin-top:12px;}",".ico_psw{ background-position:-71px 0; display:inline-block; width:18px; height:16px; margin-top:13px;}",".globallogin .gl-main .gl-r1{ border-bottom:1px solid #c9c9cc}",".globallogin .gl-text-click,.globallogin .gl-text{ background:none}",".globallogin .gl-main .gl-r1 input,.globallogin .gl-main .gl-r2 input{ color:#3a3a3a; padding-left:13px;font-family:microsoft yahei;}",".globallogin .gl-main .gl-row{width:240px;height:48px; overflow:hidden; margin-top:5px;}",".globallogin .gl-r2,.globallogin .gl-main .gl-r1{ margin-bottom:0}",".globallogin .gl-r2 .gl-text input{ width:192px;}",".globallogin .gl-btnLog{ background:#e73c31; width:280px; height:46px; color:#fff; line-height:46px; text-align:center; font-size:20px; border-radius:8px; margin-top:10px; }",".globallogin .gl-btnLog:hover{ text-decoration:none; background:#ee766e}",".globallogin .gl-h3{ text-align:center}",".tv-qr-btn{ left:0; top:0;  background:url(//css.tv.itc.cn/global/login-images/v2/bg_login.png) no-repeat 0 -39px; width:68px; height:69px; cursor:pointer}",".topc{left:0; top:0;  background:url(//css.tv.itc.cn/global/login-images/v2/bg_login.png) no-repeat -72px -39px; width:68px; height:69px;}",".globallogin .gl-radio{ background:none}",".globallogin .gl-radio em{ background:url(//css.tv.itc.cn/global/login-images/v2/bg_login.png) no-repeat -119px 0; display:inline-block; width:18px; height:18px; margin-right:15px; vertical-align:-2px; }",".globallogin .gl-radio-act em{ background:url(//css.tv.itc.cn/global/login-images/v2/bg_login.png) no-repeat -96px 0; display:inline-block; width:18px; height:18px; margin-right:15px; vertical-align:-2px; }",".globallogin .gl-deal{ float:none; margin:20px 0 0 0; font-size:14px;width:300px;}",".globallogin .gl-radio{ padding:0;color:#3a3a3a}",".gl-deal a{ padding-right:13px;}",".gl-deal a:hover{ text-decoration:none}",".gl-deal b{ padding-right:15px; color:#999; font-weight:normal}",".check_txtIn{ border:1px solid #c9c9cc; border-radius:8px; height:34px; width:119px; background:#fff;}",".check_txtIn input{ background:none; border:none; margin:0 15px; width:80px; height:30px; line-height:30px; font-size:14px;font-family:microsoft yahei;}",".globallogin .gl-btna{  display:inline-block; background:url(//css.tv.itc.cn/global/login-images/v2/bg_login.png) no-repeat -224px 0; width:21px; height:20px;}",".globallogin .gl-btna:hover{ background-position:-252px 0}",".check_img{ margin:0 10px;}",".globallogin .gl-more{ margin-top:0;}",".globallogin .gl-more img{ margin-right:16px;}",".gl-more span{ font-size:14px; color:#3a3a3a; height:32px; line-height:32px;}",".gl-more .gl-more-btnr,.gl-more .gl-more-btnl{right:-6px; top:35px;display:block; width:16px; height:19px; cursor:pointer}",".gl-more .gl-more-btnr{  background-position:-3px -128px; }",".gl-more .gl-more-btnl{  background-position:-19px -128px; }",".globallogin .gl-warn,.globallogin .gl-tip{background: #fffbe4;border: 1px solid #fec094; color: #d80c19;}",".globallogin .gl-alert{ width:266px; height:28px; line-height:28px;  border-radius:4px;}",".globallogin .gl-warn-ico,.globallogin .gl-tip-ico{ background:url(//css.tv.itc.cn/global/login-images/v2/bg_ts.png) no-repeat left 6px; }",".globallogin .gl-alert a{ top:8px; right:10px; background-position:-143px 0; width:16px; height:16px;}",".globallogin .gl-warn-list{ top:71px; left:21px;*top:66px; background:#fff; width:236px; border:1px solid #c9c9cc;  color:#6a6a6a; border-top:none; z-index:100;}",".globallogin .gl-warn-list li{ padding:0 12px; height:30px; line-height:30px; cursor:pointer; overflow:hidden}",".globallogin .gl-warn-list li:hover{ color:#e73c31; background:#f5f5f5}",".gl-list-tit{ background:#f5f5f5; height:30px; line-height:30px; padding-left:12px;}",".globallogin .gl-main .gl-row-active{ border-bottom:2px solid #e73c31;height:47px;}",".gl_bg_m{ background:url(//css.tv.itc.cn/global/login-images/v2/bg_m.jpg) no-repeat}",".gl_qrimg{ margin-top:35px; background:url(//css.tv.itc.cn/global/login-images/v2/gl_qrimg.png) no-repeat left top; padding-left:130px; height:195px;}",".gl_qrimg p{ left:0; top:150px; font-size:14px; color:#3a3a3a; margin-top:24px; width:280px;}",".gl_bg_m dl dt{}",".globallogin .gl-main .gl-r3{ padding-left:0}",".gl-more-m{ padding-left:50px;}",".gl-more a { background:url(//css.tv.itc.cn/global/login-images/v2/icons.png) no-repeat; width:32px; height:32px; margin-right:20px;float:left;}",".gl-more .m_qq{ background-position:0 0}",".gl-more .m_wx{ background-position:-52px 0}",".gl-more .m_sina{ background-position:-105px 0}",".gl-more .m_bd{ background-position:-157px 0}",".gl-more .m_tb{ background-position:-209px 0}",".gl-more .m_zfb{ background-position:-262px 0}",".gl-more .m_qq:hover{ background-position:0 -40px}",".gl-more .m_wx:hover{ background-position:-52px -40px}",".gl-more .m_sina:hover{ background-position:-105px -40px}",".gl-more .m_bd:hover{ background-position:-157px -40px}",".gl-more .m_tb:hover{ background-position:-209px -40px}",".gl-more .m_zfb:hover{ background-position:-262px -40px}",".gl_bg_pc{background:url(//tv.sohu.com/upload/static/global/skin/images/loginbg.jpg) no-repeat;box-shadow:0px 0px 10px 2px rgba(0,0,0,.2);-webkit-box-shadow:0px 0px 10px 2px rgba(0,0,0,.2);}",".globallogin .gl-h3{margin:0px;}",".globallogin .gl_wtBox input{width:190px;}",".globallogin .gl-btnLog{border:0;cursor:pointer;font-family: microsoft yahei;}",".globallogin .persistent{display:none;}",".globallogin dl{padding:0;}",".gl-more-first,",".gl-more-m{height:57px;padding-top:30px;float:left;}",".gl-more-m{width:230px;}",".globallogin .gl-deal{height:20px;}",".check_txtIn input{width:97px;margin:0 10px;}","input:-webkit-autofill {-webkit-box-shadow: 0 0 0 1000px #fff inset;}","#verifyCode_img{cursor:pointer;}","#qrloginbox{display:none;}","#qrloginbox .icon-ok{width:120px;font-size:16px;color:#3a3a3a;top:66px;left:150px;position:absolute;background:url(//css.tv.itc.cn/global/login-images/v2/icon_ok.png) no-repeat left;padding-left:37px;line-height:30px;}",".qrlogin form{display:none;}",".qrlogin #qrloginbox{display:block;}",".gl_qrimg img{border-radius:5px;}",".gl_wtBox{position:relative;height:107px;}",".globallogin .gl-r2{position:absolute;bottom:-1px;_bottom:-2px;}",".thridloginbox{width:440px;height:87px;}",".gl-more-icon{width:165px;overflow:hidden;padding-left:20px;height:87px}",".gl-more span{padding-top:30px;}",".gl-more .gl-more-btnl{background-position:-100px -128px;}",".ppselecter{top:96px;*top:90px;left:21px;background:#fff;width:236px;border:1px solid #c9c9cc;border-top:2px solid #e73c31;color:#6a6a6a;z-index:100;}",".ppselecter .ppseltit{background:#f5f5f5;height:30px;line-height:30px;padding-left:12px;}",".ppselecter .gl-list-table td{ padding:0 12px; height:30px; line-height:30px; cursor:pointer; overflow:hidden}",".ppselecter .gl-list-table .active{ color:#e73c31; background:#f5f5f5}","</style>"].join("");$(i).appendTo("head")},initBox:function(){var i=this,t=encodeURIComponent(location.href);(i.newLoginWin=new o.showWin({htmlStr:['<div class="globallogin gl_bg_pc" >','<div class="cfix">','<a href="javascript:void(0);" class="abs gl-closea" title="\u5173\u95ed">\u5173\u95ed</a>','<div class="abs tv-qr-btn topc" title="\u626b\u7801\u767b\u5f55" pb-click data-pb-txid="login_qr"></div>',"</div>",'<dl class="cfix rel">',"<dt>",'<div id="box_login"></div>','<div class="gl-more-wra">','<div class="gl-more rel cfix">','<span class="l">\u5176\u5b83\u65b9\u5f0f\u767b\u5f55</span>','<div class="gl-more-icon cfix l">','<div class="thridloginbox">','<p class="gl-more-first">','<a href="javascript:;" data-link="',e.getThirdLoginUrl({provider:"qq",ru:t}),'" class="m_qq ping" data-ping="fun_xiwang204338_connqq" data-pb-other="qq"></a>','<a href="javascript:;" data-link="',e.getThirdLoginUrl({provider:"weChat",ru:t}),'" class="m_wx ping" data-ping="fun_xiwang204338_connweixin" data-pb-other="weixin"></a>','<a href="javascript:;" data-link="',e.getThirdLoginUrl({provider:"sina",ru:t}),'" class="m_sina ping" data-ping="fun_xiwang204338_connweibo" data-pb-other="weibo"></a>',"</p>",'<p class="gl-more-m">','<a href="javascript:;" data-link="',e.getThirdLoginUrl({provider:"baidu",ru:t}),'" class="m_bd ping" data-ping="fun_xiwang204338_connothers" data-pb-other="baidu"></a>','<a href="javascript:;" data-link="',e.getThirdLoginUrl({provider:"alipay",ru:t}),'" class="m_zfb ping" data-ping="fun_xiwang204338_connothers" data-pb-other="alipay"></a>',"</p>","</div>","</div>",'<em class="abs gl_icos gl-more-btnr"></em>',"</div>","</div>","</dt>","</dl>","</div>"].join(""),noMask:!1,maskColor:"#000",opacity:"0.2"})).initWin()},thirdLogin:function(){var t=this,n=function(){p&&clearInterval(p),p=null;try{d.close(),d=null}catch(i){}};t.newLoginWin.winbox.on("click",".gl-more a, .gl-p a",function(){var t=$(this),e=t.data("link"),l=(screen.height-500)/2-30,a=(screen.width-700)/2,s="toolbar=no,menubar=no,width=700,height=500,top="+l+",left="+a;return n(),b.clearPpok(),d=i.open(e,"",s),p=setInterval(function(){var i=o.passport.getPassport();o.cookie("ppok")&&(b.showWin(),n()),i&&(b.pingbackmc("click","login_success"),o.getScript("//passport.sohu.com/sso/crossdomain.jsp?action=login&domain=56.com"),n(),o.initLogin())},100),!1})},initWinEvent:function(){var t=this,n=t.newLoginWin,e="getSelection"in i?function(){i.getSelection().removeAllRanges()}:function(){document.selection.empty()};n.winbox.delegate(".gl-closea","click",function(i){o.loginCallback=null,n.closeWin(),t.clearQrLogin(),i.preventDefault()}).delegate(".login_mail_btn","click",function(i){return i.preventDefault(),g=1,$(this).closest("form").submit(),messagebus.publish("statV2.ping",{type:"click",txid:"login_passport"}),!1}).delegate(".gl-radio","click",function(i){$(this).hasClass("gl-radio-act")?($(this).removeClass("gl-radio-act"),$(this).find("input:checkbox")[0].checked=!1):($(this).addClass("gl-radio-act"),$(this).find("input:checkbox")[0].checked=!0),i.preventDefault()}).delegate(".tv-qr-btn","click",function(i){i.preventDefault(),$(this).toggleClass("topc"),$("#box_login").toggleClass("qrlogin"),$(".gl-alert").remove(),$("#box_login").hasClass("qrlogin")?($(this).attr("title","\u8d26\u53f7\u767b\u5f55"),t.setQrInterval()):($(this).attr("title","\u626b\u7801\u767b\u5f55"),t.clearQrLogin()),e()}).delegate("input","focus",function(i){$(this).parents(".gl-row").addClass("gl-row-active")}).delegate("input","blur",function(i){$(this).parents(".gl-row").removeClass("gl-row-active")}),n.winbox.on("click",".ping",function(i){var t=$(this).attr("data-ping"),n=["//click.hd.sohu.com.cn/s.gif?type=","&r="+(new Date).getTime()];o.pingback(n.join(t))}).on("click",".thridloginbox a",function(i){var o=$(this).data("pb-other");o&&(t.loginMode=o,b.pingbackmc("click","login_thirdparty"))}).placeholder(),function(){function i(){a&&(clearTimeout(a),a=null)}function o(){i(),s||(a=setTimeout(function(){r&&(r=!1,l.stop()),s=!0,n.addClass("gl-more-btnl"),l.animate({"margin-left":-200},function(){s=!1})},200))}function t(){i(),a=setTimeout(function(){r||(s&&(s=!1,l.stop()),r=!0,l.animate({"margin-left":0},function(){r=!1,n.removeClass("gl-more-btnl")}))},200)}var n=$(".gl_icos"),e=$(".gl-more-m"),l=$(".thridloginbox"),a=null,s=!1,r=!1;n.hover(o,t),e.hover(o,t)}()},initSub:function(){var i=this,t=i.newLoginWin;c("core.login",function(){t.closeWin(),o.loginCallback&&o.loginCallback.call();if("phone"==o.user.loginType){new o.showWin({htmlStr:'<div class="globalnotice" style="margin:100px auto;">    <div class="cfix"><a href="" class="gl-closea close">\u5173\u95ed</a></div>    <div class="gl-noticeCon">        <div class="ta-c"><span class="gl-ok">\u767b\u5f55\u6210\u529f\uff01</span></div>        <div class="gl-noticeTxt ta-c">            <p>\u516c\u544a\uff1a\u4e3a\u4e86\u60a8\u7684\u8d26\u6237\u5b89\u5168\uff0c<br />\u8bf7\u70b9\u51fb\u201c<a href="//passport.sohu.com/web/recover.jsp" class="c-red">\u8bbe\u7f6e\u5bc6\u7801</a>\u201d\u4fee\u6539\u8bbe\u7f6e\u60a8\u7684\u767b\u9646\u5bc6\u7801 \uff0c\u5e76\u5efa\u8bae\u4e0b\u6b21\u4f7f\u7528\u8d26\u53f7\u5bc6\u7801\u767b\u9646 \u3002 </p>        </div>    </div></div>',maskColor:"none",autohide:!0,hidetime:5e3}).initWin(!0)}},{cache:!1}),c("core.logout",function(){var o=$("#box_login");i.drawLogin({box:o[0],logoutTmpl:["<div>",'<form id="loginform" name="loginform" onSubmit="return false;" autocomplete="off">','<h3 class="gl-h3">\u8d26\u53f7\u767b\u5f55</h3>','<div class="gl-phone-login gl-main" pb-click data-pb-txid="login_passport">','   <div class="gl_wtBox">','       <div class="gl-r1 gl-row">','           <p class="gl-text"><em class="gl_icos ico_act"></em>','               <input name="email" type="text" placeholder="\u624b\u673a\u53f7\u6216\u90ae\u7bb1" autocomplete="off" tabindex="1" />',"           </p>","       </div>",'       <div class="gl-r2 gl-row">','           <p class="gl-text"><em class="gl_icos ico_psw"></em>','               <input type="password" name="password" placeholder="\u5bc6\u7801" autocomplete="new-password" tabindex="2" >',"           </p>","       </div>","   </div>",'   <div class="check_box cfix" id="verifyCodeBox" style="display:none;">','       <div class="check_txtIn l">','           <input name="verifyCode" type="text" placeholder="\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801" tabindex="3" >',"       </div>",'       <span class="check_img l"><img id="verifyCode_img" src="//:0"></span>','       <a href="javascript:void(0);" id="verifyCode_refresh" class="gl-btna l" title="\u70b9\u51fb\u83b7\u53d6\u6548\u9a8c\u7801"></a>',"   </div>",'   <div class="gl-r3 cfix"><input type="submit" class="ping gl-btnLog login_mail_btn" data-ping="fun_xiwang204338_loginaccount" value="\u767b  \u5f55" /></div>','   <div class="gl-deal">','       <span class="gl-radio gl-radio-act" data-pb-other="remember"><input type="checkbox" value="1" checked="checked" name="persistentcookie" id="check_log" class="persistent"/><em data-pb-other="remember"></em>\u8bb0\u4f4f\u6211</span>','       <b>|</b><a href="https://v4.passport.sohu.com/fe/forgetPassword/1" target="_blank" data-pb-other="forget">\u5fd8\u8bb0\u5bc6\u7801</a>','       <b>|</b><a href="//my.tv.sohu.com/user/reg/reginfo.do?bru=',encodeURIComponent(location.href),'" title="\u7acb\u5373\u6ce8\u518c" target="_blank" data-ping="fun_xiwang204338_register" class="ping" data-pb-other="join">\u514d\u8d39\u6ce8\u518c</a>',"   </div>","</div>","</form>",'<div id="qrloginbox">','    <h3 class="gl-h3">\u626b\u7801\u767b\u5f55</h3>','    <div class="gl_qrimg rel">','        <div id="qrimgbox"><img src="//:0"></div>','        <p class="abs">\u4f7f\u7528\u641c\u72d0\u89c6\u9891\u624b\u673aAPP\uff0c\u626b\u63cf\u4e8c\u7ef4\u7801\u767b\u5f55</p>',"    </div>","</div>","</div>"].join(""),customShowMsg:function(t,n){n=n||{left:0,top:14},i.newTip(t,"warn",n).appendTo(o)}})},{cache:!0})},drawLogin:function(i){var o=this;i=i||{},i.callback=i.callback||function(){};var t=i.box;if(t.loginTmpl=i.loginTmpl||"",t.logoutTmpl=i.logoutTmpl||"",t.waitTmpl=i.waitTmpl||"","function"==typeof i.customShowMsg&&(t.customShowMsg=i.customShowMsg),!t)throw new Error("login.js: need loginbox");o.startDrawLoginBox?o.startDrawLoginBox(t):(m.isSelfTmpl=!1,m.startDrawLoginBox(t)),i.callback.call()},startDrawLoginBox:function(i){var t=this;o.initLogin(),o.passport.getPassport()?i.loginTmpl&&(i.innerHTML=o.tmpl(i.loginTmpl,{})):i.logoutTmpl&&(i.innerHTML=o.tmpl(i.logoutTmpl,{}),t.initForm(i),t.initQrLogin())},setLastDomain:function(){var i=this,t=o.cookie("lastpassport");t&&i.form.$userid.val(t)},getVerifyCodeUrl:function(){return e.getLoginPicture()},initForm:function(i){var t=this;i=i||document.getElementById("box_login"),PassportSelect.init(i,!t.isSelfTmpl);var n=$("form[name=loginform]"),e={showMsg:i.customShowMsg,$box:n,$userid:n.find('input[name="email"]'),$password:n.find('input[name="password"]'),$remember:n.find('input[name="persistentcookie"]'),$verifyCode:n.find('input[name="verifyCode"]'),$verifyCodeBox:n.find("#verifyCodeBox"),$verifyCodeImg:n.find("#verifyCode_img"),$loginBtn:n.find('input[type="submit"]'),isNeedVC:!1};t.form=e,t.setLastDomain(),t.initFormEvent(),a=function(i){switch(i.status){case 420:case 465:e.isNeedVC=!0,e.$verifyCodeImg.attr("src",t.getVerifyCodeUrl()),e.$verifyCodeBox.show(),e.showMsg&&e.showMsg(r[i.status]||i.message);break;case 461:b.showWin(),e.showMsg&&e.showMsg(r[i.status]||i.message);break;default:e.isNeedVC=!1,e.$verifyCode.val(""),e.$verifyCodeBox.hide(),e.showMsg&&e.showMsg(r[i.status]||i.message)}},l=function(){o.passport.getPassport()&&(i.loginTmpl&&(i.innerHTML=o.tmpl(i.loginTmpl,{})),b.pingbackmc("click","login_success")),o.initLogin()}},initFormEvent:function(){var i=this,t=i.form;t.$loginBtn.on("click",function(){var n={userid:t.$userid.val().trim(),password:t.$password.val(),persistentCookie:~~t.$remember.prop("checked")};if(t.isNeedVC&&(n.captcha=t.$verifyCode.val().trim()),!n.userid||!n.password)return void(t.showMsg&&t.showMsg("\u7528\u6237\u540d\u6216\u5bc6\u7801\u4e3a\u7a7a"));if(t.isNeedVC&&n.userid&&n.password&&!n.captcha)return void(t.showMsg&&t.showMsg("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"));o.cookie("lastpassport",n.userid,{expires:7,path:"/",domain:".sohu.com"}),e.login({success:l,error:a,params:n}),i.loginMode="passport";var s={cmt:"cmt"==o.loginFrom?"1":"0"};messagebus.publish("statV2.ping",{type:"click",txid:"login_passportlogin",other:JSON.stringify(s)})}),t.$verifyCodeBox.find("a,img").on("click",function(){t.$verifyCodeImg.attr("src",i.getVerifyCodeUrl())})},initQrLogin:function(){var i=this,o=$("#qrloginbox"),t={$box:o,$qrImg:o.find("img"),timer:null};i.qr=t},setQrImg:function(){var i=this,t=i.qr,n=h.genqrtoken;o.getJSONP(n,function(i){200==i.status&&(t.$qrImg.attr("src",i.qrurl),t.qrtoken=i.qrtoken)})},setQrInterval:function(){var i=this,t=i.qr;i.clearQrLogin(),i.setQrImg(),t.timer=setInterval(function(){var n=["",h.qrLoginStatus,"?callback=?","&appkey=107405","&serialno="+t.qrtoken,"&ct="+(new Date).getTime()].join("");o.getJSONP(n,function(t){_e("\u4e8c\u7ef4\u7801\u767b\u5f55\u957f\u8fde\u63a5"+JSON.stringify(t)),0==t.code?(i.clearQrLogin(),i.qrLoginSuccess(),setTimeout(function(){o.initLogin()},2e3)):101==t.code&&i.setQrImg()})},3e3)},clearQrLogin:function(){var i=this,o=i.qr;o&&o.timer&&clearInterval(o.timer)},qrLoginSuccess:function(){$("#qrimgbox").html('<span class="icon-ok">\u767b\u5f55\u6210\u529f\uff01</span>')}},b={captchaWay:0,captchaMsgMap:{200:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001",400:"\u83b7\u53d6\u9a8c\u8bc1\u7801\u5931\u8d25",421:"\u9a8c\u8bc1\u7801\u53d1\u9001\u6b21\u6570\u8fc7\u591a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",450:"\u83b7\u53d6\u9a8c\u8bc1\u7801\u5931\u8d25",461:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",474:"\u53ea\u80fd\u53d1\u9001\u8bed\u97f3\u9a8c\u8bc1\u7801",500:"\u83b7\u53d6\u9a8c\u8bc1\u7801\u5931\u8d25"},bindMsgMap:{200:"\u7ed1\u5b9a\u767b\u5f55\u624b\u673a\u6210\u529f",201:"\u53ea\u7ed1\u5b9a\u6210\u5b89\u5168\u624b\u673a",422:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u9a8c\u8bc1\u7801",42201:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u9a8c\u8bc1\u7801",427:"\u8be5\u624b\u673a\u53f7\u7ed1\u5b9a\u6b21\u6570\u8fc7\u591a\uff0c\u8bf7\u66f4\u6362\u624b\u673a\u53f7",450:"\u624b\u673a\u53f7\u6216\u9a8c\u8bc1\u7801\u4e3a\u7a7a",462:"\u5f53\u524d\u8d26\u53f7\u5df2\u7ed1\u5b9a\u8fc7\u767b\u5f55\u624b\u673a",482:"\u767b\u5f55\u5df2\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",500:"\u7ed1\u5b9a\u5931\u8d25"},checkPhoneMsgMap:{200:"\u624b\u673a\u53f7\u53ef\u4ee5\u4f7f\u7528",421:"\u64cd\u4f5c\u9891\u7e41\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",450:"\u624b\u673a\u53f7\u4e3a\u7a7a",463:"\u8be5\u624b\u673a\u53f7\u7ed1\u5b9a\u6b21\u6570\u8fc7\u591a\uff0c\u8bf7\u66f4\u6362\u624b\u673a\u53f7"},isMobile:function(i){return/^\d{6,15}$/.test(i)},tmpl:["",'<div class="rel globallogin login-tel">','    <a href="#" class="abs gl-closea close" title="\u5173\u95ed">\u5173\u95ed</a>','    <dl class="cfix">',"        <dt>",'            <h3 class="gl-h3">\u4e3a\u8d26\u53f7\u5b89\u5168\uff0c\u8bf7\u7ed1\u5b9a\u5e38\u7528\u624b\u673a</h3>','            <div class="gl-phone-login gl-main">','                <div class="gl_wtBox">','                    <div class="gl-r1 gl-row">','                        <div class="gl-text gl-text-click" style="width:250px">','                            <em class="gl_icos ico_tel"></em>','                            <div class="gl-country" style="width:65px;top:13px;left:46px;" data-key="86">','                                <span class="gl-ctylabel"><span>+86</span> <i class="gl-ctyarrow"></i></span>','                                <div class="gl-ctydropDown" style="left:0;top:40px;width:230px;">',"                                    <ul>",'                                        <li data-key="86" data-value="\u4e2d\u56fd\u5927\u9646"><span>\u4e2d\u56fd\u5927\u9646</span><span class="gl-ctynum"> +86</span></li>','                                        <li data-key="852" data-value="\u4e2d\u56fd\u9999\u6e2f"><span>\u4e2d\u56fd\u9999\u6e2f</span><span class="gl-ctynum"> +852</span></li>','                                        <li data-key="853" data-value="\u4e2d\u56fd\u6fb3\u95e8"><span>\u4e2d\u56fd\u6fb3\u95e8</span><span class="gl-ctynum"> +853</span></li>','                                        <li data-key="886" data-value="\u4e2d\u56fd\u53f0\u6e7e"><span>\u4e2d\u56fd\u53f0\u6e7e</span><span class="gl-ctynum"> +886</span></li>','                                        <li data-key="65" data-value="\u65b0\u52a0\u5761"><span>\u65b0\u52a0\u5761</span><span class="gl-ctynum"> +65</span></li>','                                        <li data-key="60" data-value="\u9a6c\u6765\u897f\u4e9a"><span>\u9a6c\u6765\u897f\u4e9a</span><span class="gl-ctynum"> +60</span></li>',"                                    </ul>","                                </div>","                            </div>",'                            <input style="float: right; width: 149px;" type="text" data-tips="\u624b\u673a\u53f7" placeholder="\u624b\u673a\u53f7" class="j-mobile" maxlength="11" />',"                        </div>","                    </div>",'                    <div class="gl-r2 gl-row">','                        <p class="gl-text">','                            <em class="gl_icos ico_yzm"></em>','                            <input type="text" data-tips="\u624b\u673a\u9a8c\u8bc1\u7801" placeholder="\u624b\u673a\u9a8c\u8bc1\u7801" class="j-smcode" maxlength="6" />','                            <a href="javascript:void(0);" class="btn_yzm abs btn_yzm_nor j-captcha-btn j-captcha" data-way="0">\u83b7\u53d6\u9a8c\u8bc1\u7801</a>',"                        </p>",'                        <div class="btn_yzm abs btn_yzm_nor j-captcha-txt" style="display:none;"><em class="j-captcha-time">60</em>\u79d2\u540e\u91cd\u53d1</div>',"                    </div>","                </div>",'                <div class="abs gl-alert2 j-captcha-tips">\u6536\u4e0d\u5230\u77ed\u4fe1\uff1f\u8bd5\u8bd5\u8bed\u97f3\u9a8c\u8bc1\u7801\uff0c<a href="javascript:void(0);" class="j-captcha" data-way="1">\u70b9\u51fb\u83b7\u53d6</a></div>','                <div class="gl-r3 cfix"><a href="javascript:void(0);" class="gl-btnLog-tel j-bind">\u7ed1\u5b9a\u624b\u673a</a></div>','                <div class="gl-alert gl-warn" style="top:3px;left:0;display:none;">','                    <span class="gl-warn-ico">\u8be5\u624b\u673a\u53f7\u7ed1\u5b9a\u592a\u591a\u8d26\u53f7\uff0c\u8bf7\u66f4\u6362\u624b\u673a\u53f7</span><a href="javascript:void(0);" class="gl-warn-close">\u5173\u95ed</a>',"                </div>","            </div>","        </dt>","    </dl>","</div>"].join(""),init:function(){var i=this;i.initStyle(),i.initWin(),i.initEvent()},initStyle:function(){var i=["",,'<style id="globalbindcss">',".login-tel{ width:750px; height:327px; background:url(//css.tv.itc.cn/global/login-images/v4/bg1.jpg) no-repeat left top; border:3px solid #ccc; padding:53px 0 0;}",".login-tel .gl-main, .login-tel dl dt{ width:300px;}",".login-tel .gl-main{ padding-top:33px;}",".ico_tel,.ico_yzm{ background:url(//css.tv.itc.cn/global/login-images/v4/icon.png) no-repeat; display:inline-block;}",".ico_tel{ background-position:0 0; width:12px; height:16px; margin-top:12px;}",".ico_yzm{ background-position:0 -26px; width:14px; height:16px; margin-top:12px;}",".login-tel .gl-phone-login .gl-text input{ font-size:14px;}",".login-tel .btn_yzm{right:0px; top:13px; font-size:14px; color:#e73c31; display:inline-block; cursor:pointer}",".login-tel .btn_yzm:hover{ color:#e73c31; text-decoration:none}",".login-tel .btn_yzm_nor, .login-tel .btn_yzm_nor:hover{ cursor:default; color:#999}",".login-tel .gl-btnLog-tel {display:block; background: #e73c31; width: 300px; height: 46px; color: #fff; line-height: 46px; text-align: center; font-size: 20px; border-radius: 8px; text-decoration:none;}",".login-tel .gl-btnLog-tel:hover{ text-decoration:none; background:#ee766e;color:#fff;}",".login-tel .gl_wtBox{ margin-bottom:42px;}",".login-tel dl{ padding:0 40px 0 60px}",".login-tel .gl-text input{ }",".login-tel .gl-alert{ width:286px;}",".login-tel .gl-r2 .gl-text input{ width:150px; }",".login-tel .gl-text input::-webkit-input-placeholder{ color:#999}",".login-tel .gl-text input::-moz-input-placeholder{ color:#999}",".login-tel .gl-text input::-ms-input-placeholder{ color:#999}",".login-tel .gl-alert2,.gl-alert3{font-size:14px; top:153px; background:url(//css.tv.itc.cn/global/login-images/v4/m1.png) no-repeat left center; padding-left:25px;}",".login-tel .gl-alert2 a{color:#e73c31}",".login-tel .gl-main .gl-row {width:258px;}",".gl-country {position: absolute;font-size: 14px;width:95px; border-right: 1px solid #c9c9cc;color:#000;line-height:normal;cursor:pointer;}",".gl-ctydropDown {display:none;height: 140px;background: #fff; border: 1px solid #c9c9cc; font-size: 12px; top: 42px;left:-45px; position: absolute; width: 377px; z-index: 2;overflow-y: auto;}",".gl-ctydropDown li {padding: 0 15px 0 10px;line-height: 28px;}",".gl-ctydropDown li:hover {background-color:#f4f4f4;color:#e73c31;}",".gl-ctynum {float:right;}",".gl-ctyarrow {background:url(//css.tv.itc.cn/global/login-images/v4/arrow.png) no-repeat;width:20px;height:20px;display:inline-block;background-position: 0px 10px;}",".gl-ctyon .gl-ctyarrow {background-position:-43px 10px;}",".gl-ctyon .gl-ctydropDown {display:block;}","</style>"].join("");$(i).appendTo("head")},initWin:function(){var i=this,t=i.bindWin=new o.showWin({htmlStr:i.tmpl,noMask:!1,maskColor:"#000",opacity:"0.2"});t.initWin();var n=i.$box=t.winbox;i.$mobile=n.find(".j-mobile"),i.$smcode=n.find(".j-smcode"),i.$captchaBtn=n.find(".j-captcha-btn"),i.$captchaTxt=n.find(".j-captcha-txt"),i.$captchaTime=n.find(".j-captcha-time"),i.$captchaTips=n.find(".j-captcha-tips"),i.$warnBox=n.find(".gl-warn"),i.$warnTxt=n.find(".gl-warn-ico"),i.renderZone()},renderZone:function(){var i=this;n().then(function(t){if(200==t.status){var n=["","<% var first = sortArray[0]; %>",'<div class="gl-country" style="width:65px;top:13px;left:46px;padding:0;border-radius:0;" data-key="<%=first.area_code %>">','    <span class="gl-ctylabel"><span>+<%=first.area_code %></span> <i class="gl-ctyarrow"></i></span>','    <div class="gl-ctydropDown" style="left:0;top:40px;width:230px;">',"        <ul>","            <% $.each(sortArray, function(index, item) { %>",'            <li data-key="<%=item.area_code %>" data-value="<%=item.area_name %>"><span><%=item.area_name %></span><span class="gl-ctynum"> +<%=item.area_code %></span></li>',"            <% }); %>","        </ul>","    </div>","</div>"].join("");n=o.Template.render(n,t),i.$box.find(".gl-country")[0].outerHTML=n}})},initEvent:function(){var i,t=this;t.$box.delegate(".j-captcha","click",function(i){i.preventDefault();var o=$(this);if(!o.hasClass("btn_yzm_nor"))return t.captchaWay=o.data("way"),t.getBindPhoneCaptcha(),!1}).delegate(".j-bind","click",function(i){return i.preventDefault(),t.bindPhone(),!1}).delegate("input","focus",function(i){$(this).parents(".gl-row").addClass("gl-row-active")}).delegate("input","blur",function(i){$(this).parents(".gl-row").removeClass("gl-row-active")}).delegate(".gl-warn-close","click",function(){t.$warnBox.hide()}).delegate(".gl-closea","click",function(i){t.closeWin()}).delegate(".j-mobile","keyup",function(){var o=$(this),n=o.val().trim();if(!t.isMobile(n))return void t.$captchaBtn.addClass("btn_yzm_nor");i&&clearTimeout(i),i=setTimeout(function(){t.isMobile(n)?t.checkPhone(n):(t.$captchaBtn.addClass("btn_yzm_nor"),t.showTip("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"))},500)}).delegate(".js-hw","click",function(i){/film.sohu.com/.test(location.href)?kao("hw_film",function(){o._hw.init(),t.closeWin()}):kao("hw",function(){o._hw.init(),t.closeWin()})}).placeholder(),t.$box.delegate(".gl-country","click",function(){return $(this).toggleClass("gl-ctyon"),!1}).delegate(".gl-ctydropDown li","click",function(){var i=$(this),o=i.data("key");t.$box.find(".gl-country").data("key",o).removeClass("gl-ctyon"),t.$box.find(".gl-ctylabel span").html("+"+o);var n=t.$box.find(".j-mobile").val().trim();return n&&(t.isMobile(n)?t.checkPhone(n):(t.$captchaBtn.addClass("btn_yzm_nor"),t.showTip("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"))),!1}),$(document.body).bind("click",function(i){$(".gl-country").removeClass("gl-ctyon")})},getBindPhoneCaptcha:function(){var i=this,o=i.getPhonezone(),t={mobile:i.$mobile.val().trim(),way:i.captchaWay};return t.mobile?i.isMobile(t.mobile)?"86"!=o&&"1"==i.captchaWay?void i.showTip("\u975e\u5927\u9646\u5730\u533a\u6682\u4e0d\u652f\u6301\u8bed\u97f3\u9a8c\u8bc1\u7801"):(t=i.packParams(t),void e.getBindPhoneCaptcha({params:t,success:function(o,t){"1"==i.captchaWay&&i.showTip("\u8bed\u97f3\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\uff0c\u8bf7\u6ce8\u610f\u63a5\u542c\u7535\u8bdd",5e3),i.setTimeCount(),i.$smcode.focus()},error:function(o){"474"==o.status?(i.captchaWay=1,i.getBindPhoneCaptcha()):(i.captchaWay=0,i.showTip(i.captchaMsgMap[o.status]))}})):void i.showTip("\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e"):void i.showTip("\u8bf7\u8f93\u5165\u624b\u673a\u53f7")},setTimeCount:function(){var i=this;i.tId&&clearInterval(i.tId);var o=60;i.$captchaBtn.hide(),i.$captchaTxt.show(),i.$captchaTime.html(o),i.tId=setInterval(function(){o--,i.$captchaTime.html(o),0===o&&(clearInterval(i.tId),i.$captchaBtn.show(),i.$captchaTxt.hide())},1e3)},bindPhone:function(){var i=this,t={mobile:i.$mobile.val().trim(),smcode:i.$smcode.val().trim(),persistentCookie:1};return t.mobile?i.isMobile(t.mobile)?t.smcode?(t=i.packParams(t),void e.bindPhone({params:t,success:function(t,n){i.closeWin(),i.pingbackmc("click","login_bindmsuccess"),o.initLogin()},error:function(o){i.showTip(i.bindMsgMap[o.status])}})):void i.showTip("\u8bf7\u8f93\u5165\u624b\u673a\u9a8c\u8bc1\u7801"):void i.showTip("\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e"):void i.showTip("\u8bf7\u8f93\u5165\u624b\u673a\u53f7")},checkPhone:function(i){var o=this,t={mobile:i,log:0};t=o.packParams(t),e.checkPhone({params:t,success:function(i,t){o.$captchaBtn.removeClass("btn_yzm_nor")},error:function(i){o.showTip(o.checkPhoneMsgMap[i.status])}})},showTip:function(i,o){var t=this;o=o||3e3;var n=setTimeout(function(){e()},o),e=function(){clearTimeout(n),n=null,t.$warnBox.hide()};i?(t.$warnTxt.html(i),t.$warnBox.show()):t.$warnBox.hide()},showWin:function(){var i=this;i.bindWin.show(),i.$mobile.focus(),o.loginCallback=null,o.newLoginWin&&o.newLoginWin.closeWin(),i.pingbackmc("impress","login_bindm")},closeWin:function(){var i=this;i.bindWin.closeWin(),i.$mobile.val(""),i.$smcode.val(""),i.$captchaBtn.addClass("btn_yzm_nor").show(),i.$captchaTxt.hide(),i.clearPpok()},clearPpok:function(){o.cookie("ppok",null,{domain:".sohu.com",path:"/"})},pingbackmc:function(i,t){var n={loginmode:m.loginMode,cmt:"cmt"==o.loginFrom?"1":"0"};messagebus.publish("statV2.ping",{type:i,txid:t,other:JSON.stringify(n)})},packParams:function(i){var o=this;if(i.mobile){var t=o.getPhonezone();i.mobile=t+"-"+i.mobile}return i},getPhonezone:function(i){return this.$box.find(".gl-country").data("key")}};o.bindPhone=b,o.drawLogin=m.drawLogin,o.doLogout=function(i){try{i=i||{};i.failed;s=function(){i.success&&i.success.call(),o.passport.loginTimes=0,o.initLogin()},e.logout({success:s,error:function(){_e("\u9000\u51fa\u5931\u8d25")}})}catch(t){_e(t)}},o.initLogin=function(){var t=o.passport.getPassport(),n=function(i){try{var o=$("#player");i&&o.length>0&&o[0].updateUserLoginInfo(i)}catch(t){}};t?o.passport.loginTimes||(_e("publish login"),o.passport.logoutTimes=0,++o.passport.loginTimes,o.user.passport=t,messagebus.publish("core.login",t),o.getJSONP("//my.tv.sohu.com/user/a/profile/currinfo.do?end=0&callback=?&appid="+o.passport.getAppid()+"&f="+g,function(t){if(t&&1==t.status){i.gUserParams=t,t=t.data,t.nickName=unescape(t.nickName),o.user.name=t.nickName,o.user.uid=t.id,o.user.avatar=t.smallPhoto,o.user.originalData=t,t.product_icons&&(o.producerIcon=o.producerIcon||{},o.producerIcon.icons=t.product_icons),20===t.ent&&(o.user.producerLevel=function(i){return t.product_icons[i]}(t.producerLevel)),messagebus.publish("core.login.userinfo",t),n("login.userinfo");var e=o.cookie("currinfo_error");e&&o.cookie("currinfo_error","",{expires:1,path:"/",domain:"tv.sohu.com"})}else{var e=o.cookie("currinfo_error");e&&"1"==e||(o.cookie("currinfo_error",1,{expires:1,path:"/",domain:"tv.sohu.com"}),location.reload())}}),g=0,n("login")):o.passport.logoutTimes||(_e("publish logout"),++o.passport.logoutTimes,o.passport.loginTimes=0,o.user={passport:"",name:"",avatar:"",uid:"",loginType:"mail"},o.cookie("fee_status",null,{domain:".sohu.com",path:"/"}),o.cookie("fee_search",null,{domain:".sohu.com",path:"/"}),messagebus.publish("core.logout"),n("logout"))},o.loginCallback=null,o.loginFrom=null,o.showLoginWinbox=function(i,t){if(i=i||function(){},o.passport.getPassport())return i(),null;o.loginCallback=i,t&&t.from?o.loginFrom=t.from:o.loginFrom=null;o.showLoginWinbox.inited||(!function(){m.init(),o.newLoginWin=m.newLoginWin}(),o.showLoginWinbox.inited=!0),o.newLoginWin.show();var n={cmt:"cmt"==o.loginFrom?"1":"0"};return messagebus.publish("statV2.ping",{type:"impress",txid:"login_login",other:JSON.stringify(n)}),$("#box_login").hasClass("qrlogin")?m.setQrInterval():m.clearQrLogin(),t&&!1===t.focus||setTimeout(function(){o.newLoginWin.winbox.find(".gl-main input:first").focus()},0),o.newLoginWin}}(window,sohuHD),function(i){i.returnThirdLoginTmpl=function(i){var o=encodeURIComponent(location.href);i=i||{};var t=i.cssName||"third-login-ico",n=[];return n.push(['<a class="',t,'" title="\u65b0\u6d6a\u5fae\u535a" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=sina&bru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/sina.png" width="20" height="20" alt="\u65b0\u6d6a\u5fae\u535a" /></a>'].join("")),n.push(['<a class="',t,'" title="QQ" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=qq&bru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/qq.png" width="20" height="20" alt="QQ" /></a>'].join("")),n.push(['<a class="',t,'" title="msn" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=msn&bru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/msn.png" width="20" height="20" alt="MSN" /></a>'].join("")),n.push(['<a class="',t,'" title="\u4eba\u4eba" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=renren&bru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/renren.png" width="20" height="20" alt="\u4eba \u4eba" /></a>'].join("")),n.push(['<a class="',t,'" title="\u767e\u5ea6" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=baidu&bru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/baidu.png" width="20" height="20" alt="\u767e \u5ea6" /></a>'].join("")),n.push(['<a class="',t,'" title="\u652f\u4ed8\u5b9d" href="//passport.sohu.com/openlogin/request.action?provider=alipay&appid=1074&ru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/ali.png" width="20" height="20" alt="\u652f\u4ed8\u5b9d" /></a>'].join("")),n.push(['<a class="',t,'" title="QQ\u5fae\u535a" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=t.qq&bru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/tqq.png" width="20" height="20" alt="QQ\u5fae\u535a" /></a>'].join("")),n.push(['<a class="',t,'" title="\u5929\u6daf" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=tianya&bru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/tianya.png" width="20" height="20" alt="\u5929 \u6daf" /></a>'].join("")),n.push(['<a class="',t,'" title="\u5f00\u5fc3" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=kaixin&bru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/kaixin.png" width="20" height="20" alt="\u5f00 \u5fc3" /></a>'].join("")),n.push(['<a class="',t,'" title="\u98de\u4fe1" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=feixin&bru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/fetion.png" width="20" height="20" alt="\u98de \u4fe1" /></a>'].join("")),n.push(['<a class="',t,'" title="\u4eac\u4e1c" href="//my.tv.sohu.com/user/thirdParty.jsp?thirdParty=jd&bru=',o,'"><img src="//tv.sohu.com/upload/tv110421/images/ico/jd.png" width="20" height="20" alt="\u4eac \u4e1c" /></a>'].join("")),i.num>0&&n.splice(0,i.num),i.retrunArr?n:n.join("")};var o={};i.getWeixinQrcode=function(t){t=$.isNumeric(t)?t:"none";var n=$.Deferred();if(o[t])window.setTimeout(function(){n.resolve(o[t])},0);else{var e="//my.tv.sohu.com/user/a/micro/pic.do";$.isNumeric(t)?(e=[e,"?uid=",t].join(""),i.getScript(e,function(){o[t]=window.picurl.pic,n.resolve(o[t])})):window.setTimeout(function(){o[t]="//css.tv.itc.cn/global/images/sohushowqrcode.jpg",n.resolve(o[t])},0)}return n.promise()}}(sohuHD),function(i){(function(){var i=window.navigator.userAgent,o=/iphone|ipod|ipad/gi.test(i),t=/android/gi.test(i),n=/IEMobile/.test(i);return o||t||n})()||messagebus.subscribe("core.login.userinfo",function(o,t){if(0===t.flag&&1!=sohuHD.cookie("zzaq_tip")){i("<style>.G_bg{ position:fixed; width:100%; height:100%; left:0; top:0; background:#000;filter:alpha(opacity=80);-moz-opacity:0.80;opacity:0.80; z-index:2000;_position:absolute;_left:0;_right:0;}.G_password{ position:fixed; _position:absolute; left:50%; top:30%; margin-left:-272px; maegin-top:-141px; width:536px; height:274px; background:url(//css.tv.itc.cn/global/login-images/G_bg1.png) no-repeat; z-index:2010; padding:4px;}.G_password .G_closea{ position:absolute; right:15px; top:15px;background:url(//css.tv.itc.cn/global/login-images/bg.png) no-repeat 0 -76px;width:14px;height:14px;text-indent:-200px;overflow:hidden;}.G_password .G_closea:hover{background-position:-26px -76px;}.G_logo2{ height:50px; background:#f8f8f8; padding:9px 0 0 20px;}.G_logo2 span{ display:block; background:url(//css.tv.itc.cn/global/login-images/G_logo.png) no-repeat; width:76px; height:35px; }.G_txt{ font-size:16px; color:#3a3a3a; line-height:35px; margin:30px 0;}.G_btns a{ display:block; background:#e73c31;border-radius:3px; width:140px; height:45px; color:#fff; text-align:center; font-size:20px; line-height:45px; margin:0 auto}</style>").appendTo("head"),i(document.body).append('<div class="G_password"><div class="cfix"><a href="#" class="G_closea">\u5173\u95ed</a></div><h2 class="G_logo2"><span></span></h2><div class="G_txtWra"><div class="G_txt ta-c"><p>\u5c0a\u656c\u7684\u7528\u6237\u60a8\u597d\uff0c\u6211\u4eec\u6700\u8fd1\u53d1\u73b0\u60a8\u7684\u8d26\u53f7\u53ef\u80fd\u5b58\u5728\u5b89\u5168\u98ce\u9669\u3002<br>\u4e3a\u4e86\u907f\u514d\u7ed9\u4f60\u5e26\u6765\u635f\u5931\uff0c\u5efa\u8bae\u60a8\u7acb\u5373\u66f4\u6362\u5bc6\u7801\uff01 </p></div><div class="G_btns"><a href="//passport.sohu.com/security/manage_password" target="_blank">\u66f4\u6362\u5bc6\u7801&nbsp;&gt;&gt;</a></div></div></div><div class="G_bg"></div>');var n=i(".G_bg"),e=i(".G_password"),l=null;e.on("click",".G_closea",function(){return n.hide(),e.hide(),sohuHD.cookie("zzaq_tip",1,{expires:1,path:"/",domain:"tv.sohu.com"}),l||(clearInterval(l),l=null),!1}),sohuHD.isIE6&&(n.height(i(document.body).height()),l=setInterval(function(){n.height(i(document.body).height())},200))}})}(jQuery),function(i){function o(){var o=0;return i.ActiveXObject?i.XMLHttpRequest&&!i.XDomainRequest?5:i.XDomainRequest?6:1:(navigator.userAgent.toLowerCase().indexOf("firefox")>=0?o=2:"object"==typeof i.opera?o=3:i.MessageEvent&&!document.getBoxObjectFor?o=7:navigator.appVersion.indexOf("Safari")>=0&&(o=4),o)}function t(i){for(var o=new Array("A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","-","_"),t=new String,n=0;n<i.length;n++){for(var e=0;e<64;e++)if(i.charAt(n)==o[e]){var l=e.toString(2);t+=("000000"+l).substr(l.length);break}if(64==e)return 2==n?t.substr(0,8):t.substr(0,16)}return t}function n(i){for(var o=0,t=128,n=0;n<8;n++,t/=2)"1"==i.charAt(n)&&(o+=t);return String.fromCharCode(o)}function e(i){var o,e=new Array,l="";for(o=0;o<i.length;o+=4)l+=t(i.substr(o,4));for(o=0;o<l.length;o+=8)e+=n(l.substr(o,8));return e}function l(i){var o,t,n,e,l,a,s,r,g;for(o=[],e=i.length,t=n=0;t<e;){switch((l=i.charCodeAt(t++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o[n++]=i.charAt(t-1);break;case 12:case 13:a=i.charCodeAt(t++),o[n++]=String.fromCharCode((31&l)<<6|63&a);break;case 14:a=i.charCodeAt(t++),s=i.charCodeAt(t++),o[n++]=String.fromCharCode((15&l)<<12|(63&a)<<6|63&s);break;case 15:switch(15&l){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a=i.charCodeAt(t++),s=i.charCodeAt(t++),r=i.charCodeAt(t++),g=(7&l)<<18|(63&a)<<12|(63&s)<<6|(63&r)-65536,o[n]=0<=g&&g<=1048575?String.fromCharCode(g>>>10&1023|55296,1023&g|56320):"?";break;case 8:case 9:case 10:case 11:t+=4,o[n]="?";break;case 12:case 13:t+=5,o[n]="?"}}n++}return o.join("")}Function.prototype.bindFunc=function(i){if("object"!=typeof i)return!1;var o=this;return function(){return o.apply(i,arguments)}},i.PassportSelect={selectorTitle:"\u8bf7\u9009\u62e9\u60a8\u7684\u7528\u6237\u8d26\u53f7\u7c7b\u578b",bindDomainSelector:!0,autopad:"",showEmailInputTip:!0,usePostFix:!0,domainList:["uniqname","sohu.com","qq.com","163.com","126.com","sina.com","gmail.com"],isNeedSetPosition:!1,downDSindex:function(){if(null!=this.dsAnchor.firstChild){for(var i=this.dsAnchor.firstChild.rows,o=0;o<i.length&&i[o].firstChild.idx!=this.curDSindex;o++);o>=i.length-1?this.curDSindex=i[0].firstChild.idx:this.curDSindex=i[o+1].firstChild.idx}},upDSindex:function(){if(null!=this.dsAnchor.firstChild){for(var i=this.dsAnchor.firstChild.rows,o=-1,t=0;t<i.length&&i[t].firstChild.idx!=this.curDSindex;t++)o=i[t].firstChild.idx;t==i.length?this.curDSindex=i[0].firstChild.idx:this.curDSindex=-1==o?i[i.length-1].firstChild.idx:o}},findDSindex:function(i){try{for(var o=this.dsAnchor.firstChild.rows,t=0;t<o.length;t++)if(o[t].firstChild.idx==i)return o[t].firstChild}catch(n){}return!1},clearFocus:function(i){"number"!=typeof i&&(i=this.curDSindex);try{var o=this.findDSindex(i);o.className="",o.style.fontWeight="normal"}catch(t){}},setFocus:function(i){"number"!=typeof i&&(i=this.curDSindex);try{this.findDSindex(i).className="active"}catch(o){}},fillEmailSelect:function(){var i=this.emailInput.value,o=/^[\u4e00-\u9fa5,a-zA-Z0-9-_.@]{1,100}$/;if(""==i||!o.test(i))return void(this.dsElement.style.display="none");var t="",n="",e=i.lastIndexOf("@");if(e<0)return this.dsElement.style.display="none",void(this.curDSindex=-1);e==i.length-1?n=i.substr(0,e):(n=i.substr(0,e),t=i.substr(e+1));var l=this.getPosition(this.emailInput,"offsetLeft")-this.getPosition(this.cElement,"offsetLeft");document.all&&!document.addEventListener&&(l+=1),this.isNeedSetPosition&&(this.dsElement.style.marginLeft=l+"px",this.dsElement.style.marginTop=this.getPosition(this.emailInput,"offsetTop")-this.getPosition(this.cElement,"offsetTop")+this.emailInput.offsetHeight+"px"),this.dsElement.style.zIndex="2000",this.dsElement.style.paddingRight="0",this.dsElement.style.paddingLeft="0",this.dsElement.style.paddingTop="0",this.dsElement.style.paddingBottom="0",this.dsElement.style.backgroundColor="white",this.dsElement.style.display="block";var a=document.createElement("TABLE");a.className="gl-list-table",a.width="100%",a.cellSpacing=0,a.cellPadding=3;var s=document.createElement("TBODY");a.appendChild(s);for(var r=0,g=!1,c=!1,p=-1,d="",h="",u=this.emailPostfix,m=0;m<u.length;m++){var b=u[m];if("string"==typeof b&&(""==t||0==b.lastIndexOf(t))){if(b.lastIndexOf("@")>0){if(tmp_pos=b.lastIndexOf("@"),""!=this.autopad&&this.autopad.lastIndexOf(b.substring(tmp_pos+1))<0)continue;if(h=b.substring(0,tmp_pos),0!=h.lastIndexOf(n))continue;h==n&&(d=b.substring(b.lastIndexOf("@")+1)),c=!0}else if(""!=this.autopad&&this.autopad.lastIndexOf(b)<0)continue;if(b!=d){r++,-1==p&&(p=m),this.curDSindex==m&&(g=!0);var f=document.createElement("TR"),x=document.createElement("TD");x.nowrap="true",x.align="left","mobile"==b||"uniqname"==b?x.innerHTML=n:0==c?this.usePostFix?x.innerHTML=n+"@"+b:x.innerHTML=n:this.usePostFix?x.innerHTML=b:x.innerHTML=b.substring(0,b.lastIndexOf("@")),x.id="email_postfix_"+m,x.idx=m;var v=this;x.onmouseover=function(){v.clearFocus(),v.curDSindex=this.idx,v.setFocus(),this.style.cursor="hand"},x.onclick=function(){v.doSelect()},f.appendChild(x),s.appendChild(f),c=!1}}}r>0?(this.dsAnchor.innerHTML="",this.dsAnchor.appendChild(a),0==g&&(this.curDSindex=p),this.setFocus()):(this.dsElement.style.display="none",this.curDSindex=-1)},doSelect:function(){this.dsElement.style.display="none";var i=this.findDSindex(this.curDSindex);if(i){var o=i.innerHTML;o&&(this.emailInput.value=o.replace(/&amp;/g,"&"))}""!=this.emailInput.value&&this.passwdInput.focus(),this.clearFocus(),this.curDSindex=-1},checkKeyDown:function(o){o=o||i.event;var t=o.keyCode||o.which||o.charCode;if(38==t||40==t){if(1==o.shiftKey)return;this.clearFocus(),38==t?this.upDSindex():40==t&&this.downDSindex(),this.setFocus()}},checkKeyPress:function(o){o=o||i.event;var t=o.keyCode||o.which||o.charCode;if(13==t)this.preventEvent(o);else if(38==t||40==t){if(1==o.shiftKey)return;this.preventEvent(o),this.clearFocus(),38==t?this.upDSindex():40==t&&this.downDSindex(),this.setFocus()}else if(108==t||110==t||111==t||115==t){var n=this;setTimeout(function(){n.fillEmailSelect()},10)}},checkKeyUp:function(t){t=t||i.event;var n=t.keyCode||t.which||t.charCode;if(this.fillEmailSelect(),13==n&&this.doSelect(),!(7!=o()&&4!=o()||38!=n&&40!=n)){if(1==t.shiftKey)return;this.clearFocus(),38==n?this.upDSindex():40==n&&this.downDSindex(),this.setFocus()}},getCookie:function(i){for(var o=(document.cookie,document.cookie.split("; ")),t=i+"=",n=0;n<o.length;n++)if(0==o[n].indexOf(t))return o[n].substr(t.length);return""},strip:function(i){return i.replace(/^\s+/,"").replace(/\s+$/,"")},checkMousedown:function(){if("\u901a\u884c\u8bc1\u8d26\u53f7/\u624b\u673a\u53f7"==this.emailInput.value)return this.emailInput.value="",this.emailInput.style.color="black",void this.emailInput.focus()},getPosition:function(i,o){for(var t=0;i;)t+=i[o],i=i.offsetParent;return t},parseLastDomain:function(i){this.emailPostfix=new Array;var o="",t="",n=[],a=0;if(""!=this.firstDomain){for(var s in i)if(this.firstDomain==i[s]){t=i[s];break}""!=t&&(this.emailPostfix[a]=t,a++)}if(n.length>=3)for(var r=l(e(n[1])),g=r.split("|"),s=0;s<g.length;s++)""!=g[s]&&(this.emailPostfix[a]=g[s],a++);document.domain.indexOf("game.sohu.com")>=0&&(o="game.sohu.com",this.emailPostfix[a]=o,a++);for(var s in i)"string"==typeof i[s]&&i[s]!=this.domain&&i[s]!=o&&i[s]!=t&&(this.emailPostfix[a]=i[s],a++)},preventEvent:function(i){i.cancelBubble=!0,i.returnValue=!1,i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()},init:function(i,o){this.isNeedSetPosition=o,this.rootElement=i,this.formElement=this.rootElement.childNodes[0].cloneNode(!0),this.rootElement.innerHTML='<div class="ppselecter" style="position: absolute; display: none;"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td style="" class="ppseltit" id="ppseltitId">'+this.selectorTitle+'</td></tr><tr><td height="2" /></tr><tr><td /></tr></tbody></table></div><div style="display: none;"></div><div class="passportc"></div>',null!=this.selectorTitle&&0!=this.selectorTitle.length||(this.rootElement.innerHTML='<div class="ppselecter" style="position: absolute; display: none;"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr></tr><tr><td height="0" /></tr><tr><td /></tr></tbody></table></div><div style="display: none;"></div><div class="passportc"></div>'),this.rootElement.appendChild(this.formElement),this.dsElement=this.rootElement.childNodes[0],this.sElement=this.rootElement.childNodes[1],this.cElement=this.rootElement.childNodes[2],this.dsAnchor=this.dsElement.firstChild.rows[2].firstChild,this.parseLastDomain(this.domainList);for(var i=this.formElement.getElementsByTagName("input"),t=0;t<i.length;t++)"email"==i[t].name&&(this.emailInput=i[t]),"password"==i[t].name&&(this.passwdInput=i[t]),"persistentcookie"==i[t].name&&(this.pcInput=i[t]);this.email=this.strip(this.emailInput.value),this.bindSelector(),this.autoFillUserId();var n=this;""==this.emailInput.value?this.isSetFocus&&setTimeout(function(){n.emailInput.focus()},50):this.isSetFocus&&"\u901a\u884c\u8bc1\u8d26\u53f7/\u624b\u673a\u53f7"!=this.emailInput.value&&setTimeout(function(){n.passwdInput.focus()},50)},autoFillUserId:function(){if(this.showEmailInputTip)return void(this.showEmailInputTip=!1);var i=this.getCookie("pptmpuserid");if(this.email.length>0?this.emailInput.value=this.email:this.emailInput.value=i,i.length>0){var o=this;setTimeout(function(){o.deleteCookie("pptmpuserid")},1e3)}},bindSelector:function(){if(this.bindDomainSelector){this.curDSindex=-1;try{"undefined"!=typeof this.emailInput&&(this.emailInput.addEventListener("mousedown",this.checkMousedown.bindFunc(this),!1),this.emailInput.addEventListener("keypress",this.checkKeyPress.bindFunc(this),!1),this.emailInput.addEventListener("keyup",this.checkKeyUp.bindFunc(this),!1),this.emailInput.addEventListener("blur",this.doSelect.bindFunc(this),!1))}catch(i){try{this.emailInput.attachEvent("onmousedown",this.checkMousedown.bindFunc(this)),this.emailInput.attachEvent("onkeydown",this.checkKeyDown.bindFunc(this)),this.emailInput.attachEvent("onkeypress",this.checkKeyPress.bindFunc(this)),this.emailInput.attachEvent("onkeyup",this.checkKeyUp.bindFunc(this)),this.emailInput.attachEvent("onblur",this.doSelect.bindFunc(this))}catch(i){}}}},checkMousedown:function(){if("\u901a\u884c\u8bc1\u8d26\u53f7/\u624b\u673a\u53f7"==this.emailInput.value)return this.emailInput.value="",this.emailInput.style.color="black",void this.emailInput.focus()}}}(window);