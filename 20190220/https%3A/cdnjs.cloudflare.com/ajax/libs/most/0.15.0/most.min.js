!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):"object"==typeof exports?exports.most=n():t.most=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){var r=e(1),i=e(2),o=e(3),s=e(9).from,u=e(13).periodic;n.Stream=r,n.of=r.of=o.of,n.just=o.of,n.empty=r.empty=o.empty,n.never=o.never,n.from=s,n.periodic=u;var c=e(25);n.create=c.create;var h=e(28);n.fromEvent=h.fromEvent;var p=e(29).lift;n.lift=p;var a=e(39);n.observe=a.observe,n.forEach=a.observe,n.drain=a.drain,r.prototype.observe=r.prototype.forEach=function(t){return a.observe(t,this)},r.prototype.drain=function(){return a.drain(this)};var f=e(44).loop;n.loop=f,r.prototype.loop=function(t,n){return f(t,n,this)};var l=e(45);n.scan=l.scan,n.reduce=l.reduce,r.prototype.scan=function(t,n){return l.scan(t,n,this)},r.prototype.reduce=function(t,n){return l.reduce(t,n,this)};var d=e(46),v=e(47),y=e(48),w=e(49);n.unfold=d.unfold,n.iterate=v.iterate,n.generate=y.generate,n.concat=w.cycle,n.concat=w.concat,n.startWith=w.cons,r.prototype.cycle=function(){return w.cycle(this)},r.prototype.concat=function(t){return w.concat(this,t)},r.prototype.startWith=function(t){return w.cons(t,this)};var m=e(33),k=e(54);n.map=m.map,n.constant=m.constant,n.tap=m.tap,n.ap=k.ap,r.prototype.map=function(t){return m.map(t,this)},r.prototype.ap=function(t){return k.ap(this,t)},r.prototype.constant=function(t){return m.constant(t,this)},r.prototype.tap=function(t){return m.tap(t,this)};var _=e(55);n.transduce=_.transduce,r.prototype.transduce=function(t){return _.transduce(t,this)};var g=e(56);n.flatMap=n.chain=g.flatMap,n.join=g.join,r.prototype.flatMap=r.prototype.chain=function(t){return g.flatMap(t,this)},r.prototype.join=function(){return g.join(this)};var b=e(57).flatMapEnd;n.flatMapEnd=b,r.prototype.flatMapEnd=function(t){return b(t,this)};var x=e(50).concatMap;n.concatMap=x,r.prototype.concatMap=function(t){return x(t,this)};var j=e(58);n.merge=j.merge,r.prototype.merge=function(){return j.mergeArray(i.cons(this,arguments))};var E=e(30);n.combine=E.combine,r.prototype.combine=function(t){return E.combineArray(t,i.replace(this,0,arguments))};var A=e(59);n.sample=A.sample,n.sampleWith=A.sampleWith,r.prototype.sampleWith=function(t){return A.sampleWith(t,this)},r.prototype.sample=function(t){return A.sampleArray(t,this,i.tail(arguments))};var T=e(60);n.zip=T.zip,r.prototype.zip=function(t){return T.zipArray(t,i.replace(this,0,arguments))};var R=e(62)["switch"];n["switch"]=R,n.switchLatest=R,r.prototype["switch"]=r.prototype.switchLatest=function(){return R(this)};var M=e(65);n.filter=M.filter,n.skipRepeats=n.distinct=M.skipRepeats,n.skipRepeatsWith=n.distinctBy=M.skipRepeatsWith,r.prototype.filter=function(t){return M.filter(t,this)},r.prototype.skipRepeats=function(){return M.skipRepeats(this)},r.prototype.skipRepeatsWith=function(t){return M.skipRepeatsWith(t,this)};var C=e(64);n.take=C.take,n.skip=C.skip,n.slice=C.slice,n.takeWhile=C.takeWhile,n.skipWhile=C.skipWhile,r.prototype.take=function(t){return C.take(t,this)},r.prototype.skip=function(t){return C.skip(t,this)},r.prototype.slice=function(t,n){return C.slice(t,n,this)},r.prototype.takeWhile=function(t){return C.takeWhile(t,this)},r.prototype.skipWhile=function(t){return C.skipWhile(t,this)};var L=e(63);n.until=n.takeUntil=L.takeUntil,n.since=n.skipUntil=L.skipUntil,n.during=L.during,r.prototype.until=r.prototype.takeUntil=function(t){return L.takeUntil(t,this)},r.prototype.since=r.prototype.skipUntil=function(t){return L.skipUntil(t,this)},r.prototype.during=function(t){return L.during(t,this)};var q=e(66).delay;n.delay=q,r.prototype.delay=function(t){return q(t,this)};var W=e(67).timestamp;n.timestamp=W,r.prototype.timestamp=function(){return W(this)};var S=e(68);n.throttle=S.throttle,n.debounce=S.debounce,r.prototype.throttle=function(t){return S.throttle(t,this)},r.prototype.debounce=function(t){return S.debounce(t,this)};var I=e(69);n.fromPromise=I.fromPromise,n.await=I.await,r.prototype.await=function(){return I.await(this)};var U=e(70);n.flatMapError=U.flatMapError,n.throwError=U.throwError,r.prototype.flatMapError=function(t){return U.flatMapError(t,this)};var N=e(71).multicast;n.multicast=N,r.prototype.multicast=function(){return N(this)}},function(t,n){function e(t){this.source=t}t.exports=e},function(t,n){function e(){}function r(t){return t}function i(t,n){return function(e){return t(n(e))}}function o(t,n){var e=n.length,r=new Array(e+1);r[0]=t;for(var i=0;e>i;++i)r[i+1]=n[i];return r}function s(t,n){for(var e=n.length,r=new Array(e+1),i=0;e>i;++i)r[i]=n[i];return r[e]=t,r}function u(t,n){var e=n.length;if(t>=e)return[];e-=t;for(var r=new Array(e),i=0;e>i;++i)r[i]=n[t+i];return r}function c(t){return u(1,t)}function h(t){for(var n=t.length,e=new Array(n),r=0;n>r;++r)e[r]=t[r];return e}function p(t,n){for(var e=n.length,r=new Array(e),i=0;e>i;++i)r[i]=t(n[i]);return r}function a(t,n,e){for(var r=n,i=0,o=e.length;o>i;++i)r=t(r,e[i],i);return r}function f(t,n,e){for(var r=e.length,i=new Array(r),o=0;r>o;++o)i[o]=n===o?t:e[o];return i}function l(t,n){var e=n.length;if(t>=n)return n;if(1===e)return[];e-=1;var r,i=new Array(e);for(r=0;t>r;++r)i[r]=n[r];for(r=t;e>r;++r)i[r]=n[r+1];return i}function d(t,n){for(var e,r=n.length,i=new Array(r),o=0,s=0;r>o;++o)e=n[o],t(e)||(i[s]=e,++s);return i.length=s,i}function v(t,n){for(var e=0,r=n.length;r>e;++e)if(t===n[e])return e;return-1}n.noop=e,n.identity=r,n.compose=i,n.cons=o,n.append=s,n.drop=u,n.tail=c,n.copy=h,n.map=p,n.reduce=a,n.replace=f,n.remove=l,n.removeAll=d,n.findIndex=v},function(t,n,e){function r(t){return new p(new a(i,t))}function i(t,n,e){e.event(0,n),e.end(0,void 0)}function o(){return v}function s(){}function u(t){return t.dispose()}function c(){return y}function h(){}var p=e(1),a=e(4),f=e(7),l=e(8),d=e(5);n.of=r,n.empty=o,n.never=c,s.prototype.run=function(t,n){var e=d.end(void 0,t);return n.asap(e),new f(u,e)};var v=new p(new s);h.prototype.run=function(){return new l};var y=new p(new h)},function(t,n,e){function r(t,n){this.emit=t,this.value=n}function i(t,n,e,r){this.task=new o(t,n,e),r.asap(this.task)}var o=e(5);t.exports=r,r.prototype.run=function(t,n){return new i(this.emit,this.value,t,n)},i.prototype.dispose=function(){return this.task.dispose()}},function(t,n,e){function r(t,n,e){this._run=t,this.value=n,this.sink=e,this.active=!0}function i(t,n,e){e.error(t,n)}function o(t,n,e){e.event(t,n)}function s(t,n,e){e.end(t,n)}var u=e(6);t.exports=r,r.event=function(t,n){return new r(o,t,n)},r.end=function(t,n){return new r(s,t,n)},r.error=function(t,n){return new r(i,t,n)},r.prototype.dispose=function(){this.active=!1},r.prototype.run=function(t){this.active&&this._run(t,this.value,this.sink)},r.prototype.error=function(t,n){return this.active?void this.sink.error(t,n):u(n)}},function(t,n){function e(t){setTimeout(function(){throw t},0)}t.exports=e},function(t,n){function e(t,n){this.disposed=!1,this._dispose=t,this._data=n}t.exports=e,e.prototype.dispose=function(){return this.disposed?void 0:(this.disposed=!0,this._dispose(this._data))}},function(t,n,e){function r(){}var i=e(2).noop;t.exports=r,r.prototype.dispose=i},function(t,n,e){function r(t){if(Array.isArray(t))return i(t);if(o(t))return s(t);throw new TypeError("not iterable: "+t)}var i=e(10).fromArray,o=e(11).isIterable,s=e(12).fromIterable;n.from=r},function(t,n,e){function r(t){return new c(new i(t))}function i(t){this.array=t}function o(t,n,e){this.scheduler=e,this.task=new h(s,t,n),e.asap(this.task)}function s(t,n,e){return u(this,n,e,0)}function u(t,n,e,r){function i(){return t.active&&e.end(0)}for(var o=r,s=n.length;s>o&&t.active;++o)e.event(0,n[o]);return i()}var c=e(1),h=e(5);n.fromArray=r,i.prototype.run=function(t,n){return new o(this.array,t,n)},o.prototype.dispose=function(){return this.task.dispose()}},function(t,n){function e(t){return"function"==typeof t[o]}function r(t){return t[o]()}function i(t,n){return n[o]=t,n}n.isIterable=e,n.getIterator=r,n.makeIterable=i;var o;o="function"==typeof Set&&"function"==typeof(new Set)["@@iterator"]?"@@iterator":"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_"},function(t,n,e){function r(t){return new u(new i(t))}function i(t){this.iterable=t}function o(t,n,e){this.scheduler=e,this.iterator=t,this.task=new h(s,this,n),e.asap(this.task)}function s(t,n,e){var r=n.iterator.next();r.done?e.end(t,r.value):e.event(t,r.value),n.scheduler.asap(n.task)}var u=e(1),c=e(11).getIterator,h=e(5);n.fromIterable=r,i.prototype.run=function(t,n){return new o(c(this.iterable),t,n)},o.prototype.dispose=function(){return this.task.dispose()}},function(t,n,e){function r(t,n){return new u(new h(new i(t,n)))}function i(t,n){this.period=t,this.value=n}function o(t){t.cancel()}function s(t,n,e){e.event(t,n)}var u=e(1),c=e(7),h=e(14),p=e(5);n.periodic=r,i.prototype.run=function(t,n){var e=n.periodic(this.period,new p(s,this.value,t));return new c(o,e)}},function(t,n,e){function r(t){this.source=t,this.sink=new s,this._disposable=void 0}function i(t){return void 0!==t?t.dispose():void 0}function o(t,n){this.source=t,this.sink=n}function s(){this.sinks=[]}var u=e(2),c=e(15).resolve;t.exports=r,r.prototype.run=function(t,n){var e=this.sink.add(t);return 1===e&&(this._disposable=this.source.run(this.sink,n)),new o(this,t)},r.prototype._dispose=function(){return c(this._disposable).then(i)},o.prototype.dispose=function(){var t=this.source,n=t.sink.remove(this.sink);return 0===n&&t._dispose()},s.prototype.add=function(t){return this.sinks=u.append(t,this.sinks),this.sinks.length},s.prototype.remove=function(t){return this.sinks=u.remove(u.findIndex(t,this.sinks),this.sinks),this.sinks.length},s.prototype.event=function(t,n){var e=this.sinks;if(1===e.length)return void e[0].event(t,n);for(var r=0;r<e.length;++r)e[r].event(t,n)},s.prototype.end=function(t,n){var e=this.sinks;if(1===e.length)return void e[0].end(t,n);for(var r=0;r<e.length;++r)e[r].end(t,n)},s.prototype.error=function(t,n){var e=this.sinks;if(1===e.length)return void e[0].error(t,n);for(var r=0;r<e.length;++r)e[r].error(t,n)}},function(t,n,e){var r=e(16);t.exports=r(e(22))},function(t,n,e){var r;!function(i){"use strict";r=function(t){function n(t){throw t}function r(){}var i=e(18).setTimer,o=e(21);return function(t){function e(t){t.handled||(l.push(t),p("Potentially unhandled rejection ["+t.id+"] "+o.formatError(t.value)))}function s(t){var n=l.indexOf(t);n>=0&&(l.splice(n,1),a("Handled previous rejection ["+t.id+"] "+o.formatObject(t.value)))}function u(t,n){f.push(t,n),null===d&&(d=i(c,0))}function c(){for(d=null;f.length>0;)f.shift()(f.shift())}var h,p=r,a=r;"undefined"!=typeof console&&(h=console,p="undefined"!=typeof h.error?function(t){h.error(t)}:function(t){h.log(t)},a="undefined"!=typeof h.info?function(t){h.info(t)}:function(t){h.log(t)}),t.onPotentiallyUnhandledRejection=function(t){u(e,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){u(s,t)},t.onFatalRejection=function(t){u(n,t.value)};var f=[],l=[],d=null;return t}}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}(e(17))},function(t,n){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,n,e){var r;(function(i){!function(o){"use strict";r=function(t){function n(){return"undefined"!=typeof i&&null!==i&&"function"==typeof i.nextTick}function r(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function o(t){function n(){var t=e;e=void 0,t()}var e,r=document.createTextNode(""),i=new t(n);i.observe(r,{characterData:!0});var o=0;return function(t){e=t,r.data=o^=1}}var s,u="undefined"!=typeof setTimeout&&setTimeout,c=function(t,n){return setTimeout(t,n)},h=function(t){return clearTimeout(t)},p=function(t){return u(t,0)};if(n())p=function(t){return i.nextTick(t)};else if(s=r())p=o(s);else if(!u){var a=e(20);c=function(t,n){return a.setTimer(n,t)},h=a.cancelTimer,p=a.runOnLoop||a.runOnContext}return{setTimer:c,clearTimer:h,asap:p}}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}(e(17))}).call(n,e(19))},function(t,n){function e(){h=!1,s.length?c=s.concat(c):p=-1,c.length&&r()}function r(){if(!h){var t=setTimeout(e);h=!0;for(var n=c.length;n;){for(s=c,c=[];++p<n;)s[p].run();p=-1,n=c.length}s=null,h=!1,clearTimeout(t)}}function i(t,n){this.fun=t,this.array=n}function o(){}var s,u=t.exports={},c=[],h=!1,p=-1;u.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];c.push(new i(t,n)),1!==c.length||h||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,n){},function(t,n,e){var r;!function(i){"use strict";r=function(){function t(t){var e="object"==typeof t&&null!==t&&t.stack?t.stack:n(t);return t instanceof Error?e:e+" (WARNING: non-Error used)"}function n(t){var n=String(t);return"[object Object]"===n&&"undefined"!=typeof JSON&&(n=e(t,n)),n}function e(t,n){try{return JSON.stringify(t)}catch(e){return n}}return{formatError:t,formatObject:n,tryStringify:e}}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}(e(17))},function(t,n,e){var r;!function(i){"use strict";r=function(t){var n=e(23),r=e(24),i=e(18).asap;return n({scheduler:new r(i)})}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}(e(17))},function(t,n,e){var r;(function(i){!function(o){"use strict";r=function(){return function(t){function n(t,n){this._handler=t===_?n:e(t)}function e(t){function n(t){i.resolve(t)}function e(t){i.reject(t)}function r(t){i.notify(t)}var i=new b;try{t(n,e,r)}catch(o){e(o)}return i}function r(t){return I(t)?t:new n(_,new x(w(t)))}function o(t){return new n(_,new x(new A(t)))}function s(){return tt}function u(){return new n(_,new b)}function c(t,n){var e=new b(t.receiver,t.join().context);return new n(_,e)}function h(t){return a(F,null,t)}function p(t,n){return a(Q,t,n)}function a(t,e,r){function i(n,i,s){s.resolved||f(r,o,n,t(e,i,n),s)}function o(t,n,e){p[t]=n,0===--h&&e.become(new E(p))}for(var s,u="function"==typeof e?i:o,c=new b,h=r.length>>>0,p=new Array(h),a=0;a<r.length&&!c.resolved;++a)s=r[a],void 0!==s||a in r?f(r,u,a,s,c):--h;return 0===h&&c.become(new E(p)),new n(_,c)}function f(t,n,e,r,i){if(U(r)){var o=m(r),s=o.state();0===s?o.fold(n,e,void 0,i):s>0?n(e,o.value,i):(i.become(o),l(t,e+1,o))}else n(e,r,i)}function l(t,n,e){for(var r=n;r<t.length;++r)d(w(t[r]),e)}function d(t,n){if(t!==n){var e=t.state();0===e?t.visit(t,void 0,t._unreport):0>e&&t._unreport()}}function v(t){return"object"!=typeof t||null===t?o(new TypeError("non-iterable passed to race()")):0===t.length?s():1===t.length?r(t[0]):y(t)}function y(t){var e,r,i,o=new b;for(e=0;e<t.length;++e)if(r=t[e],void 0!==r||e in t){if(i=w(r),0!==i.state()){o.become(i),l(t,e+1,i);break}i.visit(o,o.resolve,o.reject)}return new n(_,o)}function w(t){return I(t)?t._handler.join():U(t)?k(t):new E(t)}function m(t){return I(t)?t._handler.join():k(t)}function k(t){try{var n=t.then;return"function"==typeof n?new j(n,t):new E(t)}catch(e){return new A(e)}}function _(){}function g(){}function b(t,e){n.createContext(this,e),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function x(t){this.handler=t}function j(t,n){b.call(this),K.enqueue(new q(t,n,this))}function E(t){n.createContext(this),this.value=t}function A(t){n.createContext(this),this.id=++Y,this.value=t,this.handled=!1,this.reported=!1,this._report()}function T(t,n){this.rejection=t,this.context=n}function R(t){this.rejection=t}function M(){return new A(new TypeError("Promise cycle"))}function C(t,n){this.continuation=t,this.handler=n}function L(t,n){this.handler=n,this.value=t}function q(t,n,e){this._then=t,this.thenable=n,this.resolver=e}function W(t,n,e,r,i){try{t.call(n,e,r,i)}catch(o){r(o)}}function S(t,n,e,r){this.f=t,this.z=n,this.c=e,this.to=r,this.resolver=X,this.receiver=this}function I(t){return t instanceof n}function U(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function N(t,e,r,i){return"function"!=typeof t?i.become(e):(n.enterContext(e),V(t,e.value,r,i),void n.exitContext())}function O(t,e,r,i,o){return"function"!=typeof t?o.become(r):(n.enterContext(r),z(t,e,r.value,i,o),void n.exitContext())}function P(t,e,r,i,o){return"function"!=typeof t?o.notify(e):(n.enterContext(r),D(t,e,i,o),void n.exitContext())}function Q(t,n,e){try{return t(n,e)}catch(r){return o(r)}}function V(t,n,e,r){try{r.become(w(t.call(e,n)))}catch(i){r.become(new A(i))}}function z(t,n,e,r,i){try{t.call(r,n,e,i)}catch(o){i.become(new A(o))}}function D(t,n,e,r){try{r.notify(t.call(e,n))}catch(i){r.notify(i)}}function H(t,n){n.prototype=G(t.prototype),n.prototype.constructor=n}function F(t,n){return n}function B(){}function J(){return"undefined"!=typeof i&&null!==i&&"function"==typeof i.emit?function(t,n){return"unhandledRejection"===t?i.emit(t,n.value,n):i.emit(t,n)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(t,n,e){var r=!1;try{var i=new e("unhandledRejection");r=i instanceof e}catch(o){}return r?function(t,r){var i=new e(t,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!n.dispatchEvent(i)}:t}(B,self,CustomEvent):B}var K=t.scheduler,$=J(),G=Object.create||function(t){function n(){}return n.prototype=t,new n};n.resolve=r,n.reject=o,n.never=s,n._defer=u,n._handler=w,n.prototype.then=function(t,n,e){var r=this._handler,i=r.join().state();if("function"!=typeof t&&i>0||"function"!=typeof n&&0>i)return new this.constructor(_,r);var o=this._beget(),s=o._handler;return r.chain(s,r.receiver,t,n,e),o},n.prototype["catch"]=function(t){return this.then(void 0,t)},n.prototype._beget=function(){return c(this._handler,this.constructor)},n.all=h,n.race=v,n._traverse=p,n._visitRemaining=l,_.prototype.when=_.prototype.become=_.prototype.notify=_.prototype.fail=_.prototype._unreport=_.prototype._report=B,_.prototype._state=0,_.prototype.state=function(){return this._state},_.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},_.prototype.chain=function(t,n,e,r,i){this.when({resolver:t,receiver:n,fulfilled:e,rejected:r,progress:i})},_.prototype.visit=function(t,n,e,r){this.chain(X,t,n,e,r)},_.prototype.fold=function(t,n,e,r){this.when(new S(t,n,e,r))},H(_,g),g.prototype.become=function(t){t.fail()};var X=new g;H(_,b),b.prototype._state=0,b.prototype.resolve=function(t){this.become(w(t))},b.prototype.reject=function(t){this.resolved||this.become(new A(t))},b.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=M();return t},b.prototype.run=function(){var t=this.consumers,n=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var e=0;e<t.length;++e)n.when(t[e])},b.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&K.enqueue(this),void 0!==this.context&&t._report(this.context))},b.prototype.when=function(t){this.resolved?K.enqueue(new C(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},b.prototype.notify=function(t){this.resolved||K.enqueue(new L(t,this))},b.prototype.fail=function(t){var n="undefined"==typeof t?this.context:t;this.resolved&&this.handler.join().fail(n)},b.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},b.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},H(_,x),x.prototype.when=function(t){K.enqueue(new C(t,this))},x.prototype._report=function(t){this.join()._report(t)},x.prototype._unreport=function(){this.join()._unreport()},H(b,j),H(_,E),E.prototype._state=1,E.prototype.fold=function(t,n,e,r){O(t,n,this,e,r)},E.prototype.when=function(t){N(t.fulfilled,this,t.receiver,t.resolver)};var Y=0;H(_,A),A.prototype._state=-1,A.prototype.fold=function(t,n,e,r){r.become(this)},A.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),N(t.rejected,this,t.receiver,t.resolver)},A.prototype._report=function(t){K.afterQueue(new T(this,t))},A.prototype._unreport=function(){this.handled||(this.handled=!0,K.afterQueue(new R(this)))},A.prototype.fail=function(t){this.reported=!0,$("unhandledRejection",this),n.onFatalRejection(this,void 0===t?this.context:t)},T.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,$("unhandledRejection",this.rejection)||n.onPotentiallyUnhandledRejection(this.rejection,this.context))},R.prototype.run=function(){this.rejection.reported&&($("rejectionHandled",this.rejection)||n.onPotentiallyUnhandledRejectionHandled(this.rejection))},n.createContext=n.enterContext=n.exitContext=n.onPotentiallyUnhandledRejection=n.onPotentiallyUnhandledRejectionHandled=n.onFatalRejection=B;var Z=new _,tt=new n(_,Z);return C.prototype.run=function(){this.handler.join().when(this.continuation)},L.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var n,e=0;e<t.length;++e)n=t[e],P(n.progress,this.value,this.handler,n.receiver,n.resolver)},q.prototype.run=function(){function t(t){r.resolve(t)}function n(t){r.reject(t)}function e(t){r.notify(t)}var r=this.resolver;W(this._then,this.thenable,t,n,e)},S.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},S.prototype.rejected=function(t){this.to.reject(t)},S.prototype.progress=function(t){this.to.notify(t)},n}}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}(e(17))}).call(n,e(19))},function(t,n,e){var r;!function(i){"use strict";r=function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var n=this;this.drain=function(){n._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t}.call(n,e,n,t),!(void 0!==r&&(t.exports=r))}(e(17))},function(t,n,e){function r(t){return new c(new h(new i(t)))}function i(t){this._subscribe=t}function o(t,n,e){function r(t){s._add(t)}function i(t){s._end(t)}function o(t){s._error(t)}this.sink=t,this.scheduler=n,this.active=!0;var s=this;try{this._unsubscribe=e(r,i,o)}catch(u){o(u)}}function s(t,n,e){try{e.event(t,n)}catch(r){e.error(t,r)}}function u(t,n,e){try{e.end(t,n)}catch(r){e.error(t,r)}}var c=e(1),h=e(14),p=e(26);n.create=r,i.prototype.run=function(t,n){return new o(new p(t),n,this._subscribe)},o.prototype._add=function(t){this.active&&s(this.scheduler.now(),t,this.sink)},o.prototype._end=function(t){this.active&&(this.active=!1,u(this.scheduler.now(),t,this.sink))},o.prototype._error=function(t){this.active=!1,this.sink.error(this.scheduler.now(),t)},o.prototype.dispose=function(){return this.active=!1,"function"==typeof this._unsubscribe?this._unsubscribe():void 0}},function(t,n,e){function r(t){this.sink=t,this.events=[],this.length=0,this.active=!0}function i(t){this.deferred=t}function o(t,n,e){this.time=t,this.value=n,this.sink=e}function s(t,n,e){this.time=t,this.value=n,this.sink=e}var u=e(27);t.exports=r,r.prototype.event=function(t,n){this.active&&(0===this.length&&u(new i(this)),this.events[this.length++]={time:t,value:n})},r.prototype.error=function(t,n){this.active=!1,u(new s(t,n,this.sink))},r.prototype.end=function(t,n){this.active=!1,u(new o(t,n,this.sink))},i.prototype.run=function(){for(var t,n=this.deferred,e=n.events,r=n.sink,i=0,o=n.length;o>i;++i)t=e[i],r.event(t.time,t.value),e[i]=void 0;n.length=0},i.prototype.error=function(t){this.deferred.error(0,t)},o.prototype.run=function(){this.sink.end(this.time,this.value)},o.prototype.error=function(t){this.sink.error(this.time,t)},s.prototype.run=function(){this.sink.error(this.time,this.value)},s.prototype.error=function(t){throw t}},function(t,n,e){function r(t){return o.resolve(t).then(i)}function i(t){try{return t.run()}catch(n){return t.error(n)}}var o=e(15);t.exports=r},function(t,n,e){function r(t,n){var e;if("function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener)e=new a(new i(t,n));else{if("function"!=typeof n.addListener||"function"!=typeof n.removeListener)throw new Error("source must support addEventListener/removeEventListener or addListener/removeListener");e=new s(t,n)}return new p(e)}function i(t,n){this.event=t,this.source=n}function o(t,n,e){return e.addEventListener(n,t,!1),function(n,e){e.removeEventListener(n,t,!1)}}function s(t,n){this.event=t,this.source=n}function u(t,n,e){function r(n){var e=arguments.length;if(e>1){for(var r=new Array(e),i=0;e>i;++i)r[i]=arguments[i];t(r)}else t(n)}return e.addListener(n,r),function(t,n){n.removeListener(t,r)}}function c(t,n,e,r,i){function o(t){h(i.now(),t,r)}this.event=n,this.source=e,this._dispose=t(o,n,e)}function h(t,n,e){try{e.event(t,n)}catch(r){e.error(t,r)}}var p=e(1),a=e(14),f=e(26);n.fromEvent=r,i.prototype.run=function(t,n){return new c(o,this.event,this.source,t,n)},s.prototype.run=function(t,n){return new c(u,this.event,this.source,new f(t),n)},c.prototype.dispose=function(){return this._dispose(this.event,this.source)}},function(t,n,e){function r(t){var n=o.exec(t.toString()),e="return function "+t.name+s+" ("+n[1]+") {\n  return combine(f, arguments);\n};";return new Function("combine","f",e)(i,t)}var i=e(30).combineArray,o=/\(([^)]*)/,s="_most$Stream$lifted";n.lift=r},function(t,n,e){function r(t){return new c(new s(t,m(o,k(arguments))))}function i(t,n){return 0===n.length?p.empty():1===n.length?h.map(t,n[0]):new c(new s(t,m(o,n)))}function o(t){return t.source}function s(t,n){this.f=t,this.sources=n}function u(t,n,e){this.f=t,this.sinks=n,this.sink=e,this.ready=!1,this.activeCount=n.length}var c=e(1),h=e(33),p=e(3),a=e(32),f=e(31),l=e(37),d=e(2),v=e(38),y=f.hasValue,w=f.getValue,m=d.map,k=d.tail;n.combineArray=i,n.combine=r,s.prototype.run=function(t,n){for(var e,r=this.sources.length,i=new Array(r),o=new Array(r),s=new u(this.f,o,t),c=0;r>c;++c)e=o[c]=new f(c,s),i[c]=this.sources[c].run(e,n);return new l(i)},u.prototype.event=function(t){this.ready||(this.ready=this.sinks.every(y)),this.ready&&this.sink.event(t,v(this.f,m(w,this.sinks)))},u.prototype.end=function(t,n){0===--this.activeCount&&this.sink.end(t,n.value)},u.prototype.error=a.prototype.error},function(t,n,e){function r(t){return t.hasValue}function i(t){return t.value}function o(t,n){this.index=t,this.sink=n,this.active=!0,this.hasValue=!1,this.value=void 0}var s=e(32);t.exports=o,o.hasValue=r,o.getValue=i,o.prototype.event=function(t,n){this.active&&(this.value=n,this.hasValue=!0,this.sink.event(t,this))},o.prototype.end=function(t,n){this.active&&(this.active=!1,this.sink.end(t,{index:this.index,value:n}))},o.prototype.error=s.prototype.error},function(t,n){function e(t){this.sink=t}t.exports=e,e.prototype.event=function(t,n){return this.sink.event(t,n)},e.prototype.end=function(t,n){return this.sink.end(t,n)},e.prototype.error=function(t,n){return this.sink.error(t,n)}},function(t,n,e){function r(t,n){return new s(u.create(t,n.source))}function i(t,n){return r(function(){return t},n)}function o(t,n){return r(function(n){return t(n),n},n)}var s=e(1),u=e(34);n.map=r,n.constant=i,n.tap=o},function(t,n,e){function r(t,n){this.f=t,this.source=n}function i(t,n){this.f=t,this.sink=n}var o=e(32),s=e(35),u=e(36),c=e(2);t.exports=r,r.create=function(t,n){return n instanceof r?new r(c.compose(t,n.f),n.source):n instanceof s?new u(n.p,t,n.source):n instanceof u?new u(n.p,c.compose(t,n.f),n.source):new r(t,n)},r.prototype.run=function(t,n){return this.source.run(new i(this.f,t),n)},i.prototype.end=o.prototype.end,i.prototype.error=o.prototype.error,i.prototype.event=function(t,n){var e=this.f;this.sink.event(t,e(n))}},function(t,n,e){function r(t,n){this.p=t,this.source=n}function i(t,n){this.p=t,this.sink=n}function o(t,n){return function(e){return t(e)&&n(e)}}var s=e(32);t.exports=r,r.create=function(t,n){return n instanceof r?new r(o(n.p,t),n.source):new r(t,n)},r.prototype.run=function(t,n){return this.source.run(new i(this.p,t),n)},i.prototype.end=s.prototype.end,i.prototype.error=s.prototype.error,i.prototype.event=function(t,n){var e=this.p;e(n)&&this.sink.event(t,n)}},function(t,n,e){function r(t,n,e){this.p=t,this.f=n,this.source=e}function i(t,n,e){this.p=t,this.f=n,this.sink=e}var o=e(32);t.exports=r,r.prototype.run=function(t,n){return this.source.run(new i(this.p,this.f,t),n)},i.prototype.event=function(t,n){var e=this.f,r=this.p;r(n)&&this.sink.event(t,e(n))},i.prototype.end=o.prototype.end,i.prototype.error=o.prototype.error},function(t,n,e){function r(t){this.disposed=!1,this.disposables=t}function i(t){return t.dispose()}var o=e(15).all,s=e(2).map;t.exports=r,r.prototype.dispose=function(){return this.disposed?void 0:(this.disposed=!0,o(s(i,this.disposables)))}},function(t,n){function e(t,n){switch(n.length){case 0:return t();case 1:return t(n[0]);case 2:return t(n[0],n[1]);case 3:return t(n[0],n[1],n[2]);case 4:return t(n[0],n[1],n[2],n[3]);case 5:return t(n[0],n[1],n[2],n[3],n[4]);default:return t.apply(void 0,n)}}t.exports=e},function(t,n,e){function r(t,n){return o.withDefaultScheduler(t,n.source)}function i(t){return o.withDefaultScheduler(s,t.source)}var o=e(40),s=e(2).noop;n.observe=r,n.drain=i},function(t,n,e){function r(t,n){return i(t,n,c)}function i(t,n,e){return new s(function(r,i){var s,c=new u(t,function(t){o(r,i,s,t)},function(t){o(i,i,s,t)});s=n.run(c,e)})}function o(t,n,e,r){s.resolve(e.dispose()).then(function(){t(r)},n)}var s=e(15),u=e(41),c=e(42);n.withDefaultScheduler=r,n.withScheduler=i},function(t,n){function e(t,n,e){this._event=t,this._end=n,this._error=e,this.active=!0}t.exports=e,e.prototype.event=function(t,n){this.active&&this._event(n)},e.prototype.end=function(t,n){this.active&&(this.active=!1,this._end(n))},e.prototype.error=function(t,n){this.active=!1,this._error(n)}},function(t,n,e){(function(n){function r(t){this.f=t,this.active=!0}function i(t){var n=new r(t);return c(n),n}var o,s,u=e(43),c=e(27);r.prototype.run=function(){if(this.active){var t=this.f;return t()}},r.prototype.error=function(t){throw t},r.prototype.cancel=function(){this.active=!1},"object"==typeof n&&"function"==typeof n.nextTick?(o=function(t,n){return 0>=n?i(t):setTimeout(t,n)},s=function(t){return t instanceof r?t.cancel():clearTimeout(t)}):(o=function(t,n){return setTimeout(t,n)},s=function(t){return clearTimeout(t)}),t.exports=new u(o,s,Date.now)}).call(n,e(19))},function(t,n,e){function r(t,n,e,r){this.time=t,this.period=n,this.task=e,this.scheduler=r,this.active=!0}function i(t){try{return t.run()}catch(n){return t.error(n)}}function o(t,n,e){this.now=e,this._setTimer=t,this._clearTimer=n,this._timer=null,this._nextArrival=0,this._tasks=[];var r=this;this._runReadyTasksBound=function(){r._runReadyTasks(r.now())}}function s(t,n){n.splice(u(t,n),0,t)}function u(t,n){for(var e=c(t,n),r=n.length,i=t.time;r>e&&i===n[e].time;)++e;return e}function c(t,n){for(var e,r,i=0,o=n.length;o>i;){if(e=Math.floor((i+o)/2),r=n[e],t.time===r.time)return e;t.time<r.time?o=e:i=e+1}return o}var h=e(2),p=h.findIndex;t.exports=o,r.prototype.run=function(){return this.task.run(this.time)},r.prototype.error=function(t){return this.task.error(this.time,t);
},r.prototype.cancel=function(){return this.scheduler.cancel(this),this.task.dispose()},o.prototype.asap=function(t){return this.schedule(0,-1,t)},o.prototype.delay=function(t,n){return this.schedule(t,-1,n)},o.prototype.periodic=function(t,n){return this.schedule(0,t,n)},o.prototype.schedule=function(t,n,e){var i=this.now(),o=new r(i+Math.max(0,t),n,e,this);return s(o,this._tasks),this._scheduleNextRun(i),o},o.prototype.cancel=function(t){t.active=!1;var n=p(t,this._tasks);n>=0&&(this._tasks.splice(n,1),this._reschedule())},o.prototype.cancelAll=function(t){this._tasks=h.removeAll(t,this._tasks),this._reschedule()},o.prototype._reschedule=function(){0===this._tasks.length?this._unschedule():this._scheduleNextRun(this.now())},o.prototype._unschedule=function(){this._clearTimer(this._timer),this._timer=null},o.prototype._runReadyTasks=function(t){this._timer=null,this._runTasks(this._collectReadyTasks(t)),this._scheduleNextRun(this.now())},o.prototype._collectReadyTasks=function(t){var n,e,r=this._tasks,i=r.length,o=[];for(e=0;i>e&&(n=r[e],!(n.time>t));++e)n.active&&o.push(n);return this._tasks=h.drop(e,r),o},o.prototype._runTasks=function(t){for(var n,e=t.length,r=0;e>r;++r)n=t[r],i(n),n.period>=0&&n.active&&(n.time=n.time+n.period,s(n,this._tasks))},o.prototype._scheduleNextRun=function(t){if(0!==this._tasks.length){var n=this._tasks[0].time;null===this._timer?this._scheduleNextArrival(n,t):n<this._nextArrival&&(this._unschedule(),this._scheduleNextArrival(n,t))}},o.prototype._scheduleNextArrival=function(t,n){this._nextArrival=t;var e=Math.max(0,t-n);this._timer=this._setTimer(this._runReadyTasksBound,e)}},function(t,n,e){function r(t,n,e){return new s(new i(t,n,e.source))}function i(t,n,e){this.step=t,this.seed=n,this.source=e}function o(t,n,e){this.step=t,this.seed=n,this.sink=e}var s=e(1),u=e(32);n.loop=r,i.prototype.run=function(t,n){return this.source.run(new o(this.step,this.seed,t),n)},o.prototype.error=u.prototype.error,o.prototype.event=function(t,n){var e=this.step(this.seed,n);this.seed=e.seed,this.sink.event(t,e.value)},o.prototype.end=function(t){this.sink.end(t,this.seed)}},function(t,n,e){function r(t,n,e){return new h(new i(t,n,e.source))}function i(t,n,e){this.f=t,this.value=n,this.source=e}function o(t,n,e){this.f=t,this.value=n,this.sink=e,this.init=!0}function s(t,n,e){return a.withDefaultScheduler(f,new u(t,n,e.source))}function u(t,n,e){this.f=t,this.value=n,this.source=e}function c(t,n,e){this.f=t,this.value=n,this.sink=e}var h=e(1),p=e(32),a=e(40),f=e(2).noop;n.scan=r,n.reduce=s,i.prototype.run=function(t,n){return this.source.run(new o(this.f,this.value,t),n)},o.prototype.event=function(t,n){this.init&&(this.init=!1,this.sink.event(t,this.value));var e=this.f;this.value=e(this.value,n),this.sink.event(t,this.value)},o.prototype.error=p.prototype.error,o.prototype.end=function(t){this.sink.end(t,this.value)},u.prototype.run=function(t,n){return this.source.run(new c(this.f,this.value,t),n)},c.prototype.event=function(t,n){var e=this.f;this.value=e(this.value,n),this.sink.event(t,this.value)},c.prototype.error=p.prototype.error,c.prototype.end=function(t){this.sink.end(t,this.value)}},function(t,n,e){function r(t,n){return new c(new i(t,n))}function i(t,n){this.f=t,this.value=n}function o(t,n,e,r){function i(t){u.sink.error(u.scheduler.now(),t)}function o(t){return s(t,n)}this.f=t,this.sink=e,this.scheduler=r,this.active=!0;var u=this;h.resolve(this).then(o)["catch"](i)}function s(t,n){var e=t.f;return h.resolve(e(n)).then(function(n){return u(t,n)})}function u(t,n){return n.done?(t.sink.end(t.scheduler.now(),n.value),n.value):(t.sink.event(t.scheduler.now(),n.value),t.active?s(t,n.seed):n.value)}var c=e(1),h=e(15);n.unfold=r,i.prototype.run=function(t,n){return new o(this.f,this.value,t,n)},o.prototype.dispose=function(){this.active=!1}},function(t,n,e){function r(t,n){return new c(new i(t,n))}function i(t,n){this.f=t,this.value=n}function o(t,n,e,r){function i(t){c.sink.error(c.scheduler.now(),t)}function o(t){return s(t,u)}this.f=t,this.sink=e,this.scheduler=r,this.active=!0;var u=n,c=this;h.resolve(this).then(o)["catch"](i)}function s(t,n){if(t.sink.event(t.scheduler.now(),n),!t.active)return n;var e=t.f;return h.resolve(e(n)).then(function(n){return u(t,n)})}function u(t,n){return t.active?s(t,n):t.value}var c=e(1),h=e(15);n.iterate=r,i.prototype.run=function(t,n){return new o(this.f,this.value,t,n)},o.prototype.dispose=function(){this.active=!1}},function(t,n,e){function r(t){return new p(new i(t,f.tail(arguments)))}function i(t,n){this.f=t,this.args=n}function o(t,n,e){function r(t){i.sink.error(i.scheduler.now(),t)}this.iterator=t,this.sink=n,this.scheduler=e,this.active=!0;var i=this;a.resolve(this).then(s)["catch"](r)}function s(t,n){return t.active?u(t,t.iterator.next(n)):n}function u(t,n){return n.done?t.sink.end(t.scheduler.now(),n.value):a.resolve(n.value).then(function(n){return c(t,n)},function(n){return h(t,n)})}function c(t,n){return t.sink.event(t.scheduler.now(),n),s(t,n)}function h(t,n){return u(t,t.iterator["throw"](n))}var p=e(1),a=e(15),f=e(2);n.generate=r,i.prototype.run=function(t,n){return new o(this.f.apply(void 0,this.args),t,n)},o.prototype.dispose=function(){this.active=!1}},function(t,n,e){function r(t,n){return i(h(t),n)}function i(t,n){return a(d,p([t,n]))}function o(t){return new c(new s(t.source))}function s(t){this.source=t}function u(t,n,e){this.active=!0,this.sink=n,this.scheduler=e,this.source=t,this.disposable=t.run(this,e)}var c=e(1),h=e(3).of,p=e(10).fromArray,a=e(50).concatMap,f=e(32),l=e(15),d=e(2).identity;n.concat=i,n.cycle=o,n.cons=r,s.prototype.run=function(t,n){return new u(this.source,t,n)},u.prototype.error=f.prototype.error,u.prototype.event=function(t,n){this.active&&this.sink.event(t,n)},u.prototype.end=function(t){if(this.active){var n=this;l.resolve(this.disposable.dispose())["catch"](function(e){n.error(t,e)}),this.disposable=this.source.run(this,this.scheduler)}},u.prototype.dispose=function(){return this.active=!1,this.disposable.dispose()}},function(t,n,e){function r(t,n){return i(1,o(t,n))}var i=e(51).mergeConcurrently,o=e(33).map;n.concatMap=r},function(t,n,e){function r(t,n){return new u(new i(t,n.source))}function i(t,n){this.concurrency=t,this.source=n}function o(t,n,e,r){this.concurrency=t,this.sink=e,this.scheduler=r,this.pending=[],this.current=new h,this.disposable=new c(n.run(this,r)),this.active=!0}function s(t,n,e){this.prev=this.next=null,this.time=t,this.outer=n,this.sink=e,this.disposable=void 0}var u=e(1),c=e(52),h=e(53),p=e(15);n.mergeConcurrently=r,i.prototype.run=function(t,n){return new o(this.concurrency,this.source,t,n)},o.prototype.event=function(t,n){this._addInner(t,n)},o.prototype._addInner=function(t,n){this.current.length<this.concurrency?this._startInner(t,n):this.pending.push(n)},o.prototype._startInner=function(t,n){var e=new s(t,this,this.sink);this.current.add(e),e.disposable=n.source.run(e,this.scheduler)},o.prototype.end=function(t,n){this.active=!1,this.disposable.dispose(),this._checkEnd(t,n)},o.prototype.error=function(t,n){this.active=!1,this.sink.error(t,n)},o.prototype.dispose=function(){return this.active=!1,this.pending.length=0,p.all([this.disposable.dispose(),this.current.dispose()])},o.prototype._endInner=function(t,n,e){this.current.remove(e);var r=this;p.resolve(e.dispose())["catch"](function(n){r.error(t,n)}),0===this.pending.length?this._checkEnd(t,n):this._startInner(t,this.pending.shift())},o.prototype._checkEnd=function(t,n){!this.active&&this.current.isEmpty()&&this.sink.end(t,n)},s.prototype.event=function(t,n){this.sink.event(Math.max(t,this.time),n)},s.prototype.end=function(t,n){this.outer._endInner(Math.max(t,this.time),n,this)},s.prototype.error=function(t,n){this.outer.error(Math.max(t,this.time),n)},s.prototype.dispose=function(){return this.disposable.dispose()}},function(t,n){function e(t){this.disposed=!1,this.disposable=t,this.value=void 0}t.exports=e,e.prototype.dispose=function(){return this.disposed||(this.disposed=!0,this.value=this.disposable.dispose()),this.value}},function(t,n,e){function r(){this.head=null,this.length=0}var i=e(15);t.exports=r,r.prototype.add=function(t){null!==this.head&&(this.head.prev=t,t.next=this.head),this.head=t,++this.length},r.prototype.remove=function(t){--this.length,t===this.head&&(this.head=this.head.next),null!==t.next&&(t.next.prev=t.prev,t.next=null),null!==t.prev&&(t.prev.next=t.next,t.prev=null)},r.prototype.isEmpty=function(){return 0===this.length},r.prototype.dispose=function(){if(this.isEmpty())return i.resolve();var t=[],n=this.head;for(this.head=null,this.length=0;null!==n;)t.push(n.dispose()),n=n.next;return i.all(t)}},function(t,n,e){function r(t,n){return o(i,t,n)}function i(t,n){return t(n)}var o=e(30).combine;n.ap=r},function(t,n,e){function r(t,n){return new p(new i(t,n.source))}function i(t,n){this.transducer=t,this.source=n}function o(t,n){this.xf=t,this.sink=n}function s(t){this.time=-(1/0),this.sink=t}function u(t){return"function"==typeof t["@@transducer/step"]?new c(t):new h(t)}function c(t){this.tx=t}function h(t){this.tx=t}var p=e(1);n.transduce=r,i.prototype.run=function(t,n){var e=this.transducer(new s(t));return this.source.run(new o(u(e),t),n)},o.prototype.event=function(t,n){var e=this.xf.step(t,n);return this.xf.isReduced(e)?this.sink.end(t,this.xf.getResult(e)):e},o.prototype.end=function(t,n){return this.xf.result(n)},o.prototype.error=function(t,n){return this.sink.error(t,n)},s.prototype["@@transducer/init"]=s.prototype.init=function(){},s.prototype["@@transducer/step"]=s.prototype.step=function(t,n){return isNaN(t)||(this.time=Math.max(t,this.time)),this.sink.event(this.time,n)},s.prototype["@@transducer/result"]=s.prototype.result=function(t){return this.sink.end(this.time,t)},c.prototype.step=function(t,n){return this.tx["@@transducer/step"](t,n)},c.prototype.result=function(t){return this.tx["@@transducer/result"](t)},c.prototype.isReduced=function(t){return null!=t&&t["@@transducer/reduced"]},c.prototype.getResult=function(t){return t["@@transducer/value"]},h.prototype.step=function(t,n){return this.tx.step(t,n)},h.prototype.result=function(t){return this.tx.result(t)},h.prototype.isReduced=function(t){return null!=t&&t.__transducers_reduced__},h.prototype.getResult=function(t){return t.value}},function(t,n,e){function r(t,n){return i(s(t,n))}function i(t){return o(1/0,t)}var o=e(51).mergeConcurrently,s=e(33).map;n.flatMap=r,n.join=i},function(t,n,e){function r(t,n){return new s(new i(t,n.source))}function i(t,n){this.f=t,this.source=n}function o(t,n,e,r){this.f=t,this.sink=e,this.scheduler=r,this.active=!0,this.disposable=new c(n.run(this,r))}var s=e(1),u=e(32),c=e(52),h=e(37);n.flatMapEnd=r,i.prototype.run=function(t,n){return new o(this.f,this.source,t,n)},o.prototype.error=u.prototype.error,o.prototype.event=function(t,n){this.active&&this.sink.event(t,n)},o.prototype.end=function(t,n){if(this.active){this.dispose();var e=this.f,r=e(n),i=r.source.run(this.sink,this.scheduler);this.disposable=new h([this.disposable,i])}},o.prototype.dispose=function(){return this.active=!1,this.disposable.dispose()}},function(t,n,e){function r(){return i(c(arguments))}function i(t){var n=t.length;return 0===n?o():1===n?t[0]:u(n,s(t))}var o=e(1).empty,s=e(10).fromArray,u=e(51).mergeConcurrently,c=e(2).copy;n.merge=r,n.mergeArray=i},function(t,n,e){function r(t,n){return o(t,n,v.drop(2,arguments))}function i(t,n){return new f(new u(v.identity,t.source,[n.source]))}function o(t,n,e){return new f(new u(t,n.source,v.map(s,e)))}function s(t){return t.source}function u(t,n,e){this.f=t,this.sampler=n,this.sources=e}function c(t){this.sink=t,this.hasValue=!1}function h(t,n,e){this.f=t,this.sinks=n,this.sink=e,this.active=!1}function p(t){return t.hasValue}function a(t){return t.value}var f=e(1),l=e(32),d=e(37),v=e(2),y=e(38);n.sample=r,n.sampleWith=i,n.sampleArray=o,u.prototype.run=function(t,n){for(var e,r=this.sources.length,i=new Array(r+1),o=new Array(r),s=new h(this.f,o,t),u=0;r>u;++u)e=o[u]=new c(s),i[u]=this.sources[u].run(e,n);return i[u]=this.sampler.run(s,n),new d(i)},c.prototype.event=function(t,n){this.value=n,this.hasValue=!0,this.sink._notify(this)},c.prototype.end=v.noop,c.prototype.error=l.prototype.error,h.prototype._notify=function(){this.active||(this.active=this.sinks.every(p))},h.prototype.event=function(t){this.active&&this.sink.event(t,y(this.f,v.map(a,this.sinks)))},h.prototype.end=l.prototype.end,h.prototype.error=l.prototype.error},function(t,n,e){function r(t){return i(t,b(arguments))}function i(t,n){return 0===n.length?d.empty():1===n.length?l.map(t,n[0]):new f(new s(t,g(o,n)))}function o(t){return t.source}function s(t,n){this.f=t,this.sources=n}function u(t,n,e,r){this.f=t,this.sinks=e,this.sink=r,this.buffers=n}function c(t,n,e,r){r.event(n,k(t,g(h,e)))}function h(t){return t.shift()}function p(t,n){for(var e=0,r=t.length;r>e;++e)if(t[e].isEmpty()&&!n[e].active)return!0;return!1}function a(t){for(var n=0,e=t.length;e>n;++n)if(t[n].isEmpty())return!1;return!0}var f=e(1),l=e(33),d=e(3),v=e(32),y=e(31),w=e(37),m=e(2),k=e(38),_=e(61),g=m.map,b=m.tail;n.zip=r,n.zipArray=i,s.prototype.run=function(t,n){for(var e,r=this.sources.length,i=new Array(r),o=new Array(r),s=new Array(r),c=new u(this.f,s,o,t),h=0;r>h;++h)s[h]=new _,e=o[h]=new y(h,c),i[h]=this.sources[h].run(e,n);return new w(i)},u.prototype.event=function(t,n){var e=this.buffers,r=e[n.index];if(r.push(n.value),1===r.length()){if(!a(this.buffers))return;c(this.f,t,e,this.sink),p(this.buffers,this.sinks)&&this.sink.end(t,void 0)}},u.prototype.end=function(t,n){var e=this.buffers[n.index];e.isEmpty()&&this.sink.end(t,n.value)},u.prototype.error=v.prototype.error},function(t,n){function e(t){this._capacity=t||32,this._length=0,this._head=0}function r(t,n,e,r,i){for(var o=0;i>o;++o)e[o+r]=t[o+n],t[o+n]=void 0}t.exports=e,e.prototype.push=function(t){var n=this._length;this._checkCapacity(n+1);var e=this._head+n&this._capacity-1;this[e]=t,this._length=n+1},e.prototype.shift=function(){var t=this._head,n=this[t];return this[t]=void 0,this._head=t+1&this._capacity-1,this._length--,n},e.prototype.isEmpty=function(){return 0===this._length},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._ensureCapacity(this._capacity<<1)},e.prototype._ensureCapacity=function(t){var n=this._capacity;this._capacity=t;var e=this._head+this._length;e>n&&r(this,0,this,n,e&n-1)}},function(t,n,e){function r(t){function n(t){return s(e,t)}var e=new i(new o(t.source));return u(1,c(n,e))}var i=e(1),o=e(14),s=e(63).takeUntil,u=e(51).mergeConcurrently,c=e(33).map;n["switch"]=r},function(t,n,e){function r(t,n){return new l(new u(t.source,n.source))}function i(t,n){return s(t,y(),n)}function o(t,n){return s(t,w(t),n)}function s(t,n,e){return new l(new h(m(1,t).source,m(1,n).source,e.source))}function u(t,n){this.maxSignal=t,this.source=n}function c(t){this.value=-(1/0),this.sink=t}function h(t,n,e){this.minSignal=t,this.maxSignal=n,this.source=e}function p(t,n,e){this.min=t,this.max=n,this.sink=e}function a(t,n,e){this.value=1/0,this.sink=n,this.disposable=t.run(this,e)}function f(t,n,e){this.value=1/0,this.sink=n,this.disposable=t.run(this,e)}var l=e(1),d=e(32),v=e(37),y=e(3).never,w=e(56).join,m=e(64).take,k=e(2).noop;n.during=o,n.takeUntil=r,n.skipUntil=i,u.prototype.run=function(t,n){var e=new c(t),r=new f(this.maxSignal,t,n),i=this.source.run(new p(e,r,t),n);return new v([e,r,i])},c.prototype.error=d.prototype.error,c.prototype.event=k,c.prototype.end=k,c.prototype.dispose=k,h.prototype.run=function(t,n){var e=new a(this.minSignal,t,n),r=new f(this.maxSignal,t,n),i=this.source.run(new p(e,r,t),n);return new v([e,r,i])},p.prototype.event=function(t,n){t>=this.min.value&&t<this.max.value&&this.sink.event(t,n)},p.prototype.error=d.prototype.error,p.prototype.end=d.prototype.end,a.prototype.event=function(t){t<this.value&&(this.value=t)},a.prototype.end=k,a.prototype.error=d.prototype.error,a.prototype.dispose=function(){return this.disposable.dispose()},f.prototype.event=function(t,n){t<this.value&&(this.value=t,this.sink.end(t,n))},f.prototype.end=k,f.prototype.error=d.prototype.error,f.prototype.dispose=function(){return this.disposable.dispose()}},function(t,n,e){function r(t,n){return o(0,t,n)}function i(t,n){return o(t,1/0,n)}function o(t,n,e){return t>=n?y.empty():new d(new s(t,n,e.source))}function s(t,n,e){this.skip=t,this.take=n-t,this.source=e}function u(t,n,e,r,i){this.skip=t,this.take=n,this.sink=r,this.disposable=new w(e.run(this,i))}function c(t,n){return new d(new h(t,n.source))}function h(t,n){this.p=t,this.source=n}function p(t,n,e,r){this.p=t,this.sink=e,this.active=!0,this.disposable=new w(n.run(this,r))}function a(t,n){return new d(new f(t,n.source))}function f(t,n){this.p=t,this.source=n}function l(t,n){this.p=t,this.sink=n,this.skipping=!0}var d=e(1),v=e(32),y=e(3),w=e(52);n.take=r,n.skip=i,n.slice=o,n.takeWhile=c,n.skipWhile=a,s.prototype.run=function(t,n){return new u(this.skip,this.take,this.source,t,n)},u.prototype.end=v.prototype.end,u.prototype.error=v.prototype.error,u.prototype.event=function(t,n){return this.skip>0?void(this.skip-=1):void(0!==this.take&&(this.take-=1,this.sink.event(t,n),0===this.take&&(this.dispose(),this.sink.end(t,n))))},u.prototype.dispose=function(){return this.disposable.dispose()},h.prototype.run=function(t,n){return new p(this.p,this.source,t,n)},p.prototype.end=v.prototype.end,p.prototype.error=v.prototype.error,p.prototype.event=function(t,n){if(this.active){var e=this.p;this.active=e(n),this.active?this.sink.event(t,n):(this.dispose(),this.sink.end(t,n))}},p.prototype.dispose=function(){return this.disposable.dispose()},f.prototype.run=function(t,n){return this.source.run(new l(this.p,t),n)},l.prototype.end=v.prototype.end,l.prototype.error=v.prototype.error,l.prototype.event=function(t,n){if(this.skipping){var e=this.p;if(this.skipping=e(n),this.skipping)return}this.sink.event(t,n)}},function(t,n,e){function r(t,n){return new h(a.create(t,n.source))}function i(t){return o(c,t)}function o(t,n){return new h(new s(t,n.source))}function s(t,n){this.equals=t,this.source=n}function u(t,n){this.equals=t,this.sink=n,this.value=void 0,this.init=!0}function c(t,n){return t===n}var h=e(1),p=e(32),a=e(35);n.filter=r,n.skipRepeats=i,n.skipRepeatsWith=o,s.prototype.run=function(t,n){return this.source.run(new u(this.equals,t),n)},u.prototype.end=p.prototype.end,u.prototype.error=p.prototype.error,u.prototype.event=function(t,n){this.init?(this.init=!1,this.value=n,this.sink.event(t,n)):this.equals(this.value,n)||(this.value=n,this.sink.event(t,n))}},function(t,n,e){function r(t,n){return 0>=t?n:new s(new i(t,n.source))}function i(t,n){this.dt=t,this.source=n}function o(t,n,e){this.dt=t,this.sink=n,this.scheduler=e}var s=e(1),u=e(32),c=e(37),h=e(5);n.delay=r,i.prototype.run=function(t,n){var e=new o(this.dt,t,n);return new c([e,this.source.run(e,n)])},o.prototype.dispose=function(){var t=this;this.scheduler.cancelAll(function(n){return n.sink===t.sink})},o.prototype.event=function(t,n){this.scheduler.delay(this.dt,h.event(n,this.sink))},o.prototype.end=function(t,n){this.scheduler.delay(this.dt,h.end(n,this.sink))},o.prototype.error=u.prototype.error},function(t,n,e){function r(t){return new s(new i(t.source))}function i(t){this.source=t}function o(t){this.sink=t}var s=e(1),u=e(32);n.timestamp=r,i.prototype.run=function(t,n){return this.source.run(new o(t),n)},o.prototype.end=u.prototype.end,o.prototype.error=u.prototype.error,o.prototype.event=function(t,n){this.sink.event(t,{time:t,value:n})}},function(t,n,e){function r(t,n){return new h(new i(t,n.source))}function i(t,n){this.dt=t,this.source=n}function o(t,n){this.time=0,this.dt=t,this.sink=n}function s(t,n){return new h(new u(t,n.source))}function u(t,n){this.dt=t,this.source=n}function c(t,n,e,r){this.dt=t,this.sink=e,this.scheduler=r,this.value=void 0,this.timer=null;var i=n.run(this,r);this.disposable=new a([this,i])}var h=e(1),p=e(32),a=e(37),f=e(5);n.throttle=r,n.debounce=s,i.prototype.run=function(t,n){return this.source.run(new o(this.dt,t),n)},o.prototype.event=function(t,n){t>=this.time&&(this.time=t+this.dt,this.sink.event(t,n))},o.prototype.end=function(t,n){return p.prototype.end.call(this,t,n)},o.prototype.error=p.prototype.error,u.prototype.run=function(t,n){return new c(this.dt,this.source,t,n)},c.prototype.event=function(t,n){this._clearTimer(),this.value=n,this.timer=this.scheduler.delay(this.dt,f.event(n,this.sink))},c.prototype.end=function(t,n){this._clearTimer()&&(this.sink.event(t,this.value),this.value=void 0),this.sink.end(t,n)},c.prototype.error=function(t,n){this._clearTimer(),this.sink.error(t,n)},c.prototype.dispose=function(){this._clearTimer()},c.prototype._clearTimer=function(){return null===this.timer?!1:(this.timer.cancel(),this.timer=null,!0)}},function(t,n,e){function r(t){return new h(new i(t))}function i(t){this.promise=t}function o(t,n,e){this.sink=n,this.scheduler=e,this.active=!0;var r=this;p(t).then(function(t){r._emit(r.scheduler.now(),t)})["catch"](function(t){r._error(r.scheduler.now(),t)})}function s(t){return new h(new u(t.source))}function u(t){this.source=t}function c(t,n){this.sink=t,this.scheduler=n,this.queue=void 0}var h=e(1),p=e(15).resolve,a=e(6);n.fromPromise=r,n.await=s,i.prototype.run=function(t,n){return new o(this.promise,t,n)},o.prototype._emit=function(t,n){this.active&&(this.sink.event(t,n),this.sink.end(t,void 0))},o.prototype._error=function(t,n){this.active&&this.sink.error(t,n)},o.prototype.dispose=function(){this.active=!1},u.prototype.run=function(t,n){return this.source.run(new c(t,n),n)},c.prototype.event=function(t,n){var e=this;this.queue=p(this.queue).then(function(){return e._event(t,n)})["catch"](function(n){return e._error(t,n)})},c.prototype.end=function(t,n){var e=this;this.queue=p(this.queue).then(function(){return e._end(t,n)})["catch"](function(n){return e._error(t,n)})},c.prototype.error=function(t,n){var e=this;this.queue=p(this.queue).then(function(){return e._error(t,n)})["catch"](a)},c.prototype._error=function(t,n){try{this.sink.error(Math.max(t,this.scheduler.now()),n)}catch(n){throw a(n),n}},c.prototype._event=function(t,n){var e=this;return n.then(function(n){e.sink.event(Math.max(t,e.scheduler.now()),n)})},c.prototype._end=function(t,n){var e=this;return p(n).then(function(n){e.sink.end(Math.max(t,e.scheduler.now()),n)})}},function(t,n,e){function r(t,n){return new c(new s(t,n.source))}function i(t){return new c(new h(o,t))}function o(t,n,e){e.error(t,n)}function s(t,n){this.f=t,this.source=n}function u(t,n,e,r){this.f=t,this.sink=e,this.scheduler=r,this.active=!0,this.disposable=n.run(this,r)}var c=e(1),h=e(4);n.flatMapError=r,n.throwError=i,s.prototype.run=function(t,n){return new u(this.f,this.source,t,n)},u.prototype.error=function(t,n){if(this.active){this.disposable.dispose();var e=this.f,r=e(n);this.disposable=r.source.run(this.sink,this.scheduler)}},u.prototype.event=function(t,n){this.active&&this.sink.event(t,n)},u.prototype.end=function(t,n){this.active&&this.sink.end(t,n)},u.prototype.dispose=function(){return this.active=!1,this.disposable.dispose()}},function(t,n,e){function r(t){var n=t.source;return n instanceof o?t:new i(new o(n))}var i=e(1),o=e(14);n.multicast=r}])});