!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=153)}([function(e,t){e.exports=React},function(e,t,n){"use strict";function r(e,t){return e===t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var s=0,a=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return s++,a.apply(null,arguments)}].concat(n)),u=o(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return u.resultFunc=a,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=i,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var s=t.createSelector=i(o)},function(e,t,n){"use strict";const r=new(n(14).a);t.a=r},function(e,t,n){for(var r=n(151),o=n(70),i=n(23),s=n(8),a=n(19),c=n(24),l=n(7),u=l("iterator"),d=l("toStringTag"),p=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=o(h),f=0;f<m.length;f++){var g,_=m[f],b=h[_],v=s[_],y=v&&v.prototype;if(y&&(y[u]||a(y,u,p),y[d]||a(y,d,_),c[_]=p,b))for(g in r)y[g]||i(y,g,r[g],!0)}},function(e,t,n){"use strict";n.r(t);var r=n(13);n.d(t,"createStore",function(){return r.b});var o=n(59);n.d(t,"combineReducers",function(){return o.a});var i=n(57);n.d(t,"bindActionCreators",function(){return i.a});var s=n(56);n.d(t,"applyMiddleware",function(){return s.a});var a=n(12);n.d(t,"compose",function(){return a.a});n(58)},function(e,t,n){e.exports=n(126)()},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",l="object"==typeof e,u=t.regeneratorRuntime;if(u)l&&(e.exports=u);else{(u=t.regeneratorRuntime=l?e.exports:{}).wrap=y;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",f={},g={};g[s]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(N([])));b&&b!==r&&o.call(b,s)&&(g=b);var v=C.prototype=k.prototype=Object.create(g);w.prototype=v.constructor=C,C.constructor=w,C[c]=w.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(v),e},u.awrap=function(e){return{__await:e}},x(S.prototype),S.prototype[a]=function(){return this},u.AsyncIterator=S,u.async=function(e,t,n,r){var o=new S(y(e,t,n,r));return u.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(v),v[c]="Generator",v[s]=function(){return this},v.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=N,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return a.type="throw",a.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),f}}}function y(e,t,n,r){var o=t&&t.prototype instanceof k?t:k,i=Object.create(o.prototype),s=new R(r||[]);return i._invoke=function(e,t,n){var r=d;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=O(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=E(e,t,n);if("normal"===c.type){if(r=n.done?m:p,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function E(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function w(){}function C(){}function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,s){var a=E(e[n],e,r);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"==typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(l).then(function(e){c.value=e,i(c)},s)}s(a.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function O(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=E(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){var r=n(80)("wks"),o=n(31),i=n(8).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";n(3);t.a=class{constructor(){this._events={}}on(e,t,n){this._events[e]||(this._events[e]=[]),this._events[e].push({listener:t,context:n})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=n.length;for(let e=0;e<r;e++)if(n[e].listener===t)return void n.splice(e,1)}once(e,t,n){const r=()=>{this.off(e,t),this.off(e,r)};this.on(e,t,n),this.on(e,r)}addListener(){return this.on(...arguments)}removeListener(){return this.off(...arguments)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._events[e]&&this._events[e].slice().forEach(e=>{let t=e.listener,r=e.context;t.apply(r,n)})}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){let t=!1;const n=function(){t||e(...arguments)};return n.cancel=(()=>{t=!0,"function"==typeof e.onCancel&&e.onCancel()}),n}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a});var r=n(32),o=n(47),i=n.n(o),s={INIT:"@@redux/INIT"};function a(e,t,n){var o;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,p=!1;function h(){d===u&&(d=u.slice())}function m(){return l}function f(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return h(),d.push(e),function(){if(t){t=!1,h();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++)t[n]();return e}return g({type:s.INIT}),(o={dispatch:g,subscribe:f,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:s.INIT})}})[i.a]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[i.a]=function(){return this},e},o}},function(e,t,n){"use strict";n(3);var r=n(9);const o="log",i="warn",s="error",a={[s]:!0,[i]:!0,[o]:!0};t.a=class{constructor(e,t){var n=this;void 0===e&&(e={}),this._namespace="zenLogger",this._eventEmitter=new r.a,this.configure=function(e){void 0===e&&(e={}),n._config=Object.assign({},n._config,e)},this._defaultLogger=((e,t)=>{e===s?console.error(`${this._namespace}:`,...t):e===i?console.warn(`${this._namespace}:`,...t):e===o&&console.log(`${this._namespace}:`,...t)}),this._loggerProxy=((e,t)=>{this._eventEmitter.emit(e,t),!0===this._config[e]&&this._defaultLogger(e,t)}),this.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n._loggerProxy(s,t)},this.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n._loggerProxy(i,t)},this.log=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n._loggerProxy(o,t)},this.removeListener=function(e,t){void 0===t&&(t=[o,i,s]),t.forEach(t=>{n._eventEmitter.removeListener(t,e)})},this.addListener=function(e,t){return void 0===t&&(t=[o,i,s]),t.forEach(t=>{n._eventEmitter.addListener(t,e)}),()=>n.removeListener(e,t)},this._config=Object.assign({},a,e),t&&t.toString&&(this._namespace=t.toString())}}},function(e,t,n){e.exports=!n(30)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(18),o=n(79),i=n(77),s=Object.defineProperty;t.f=n(15)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(10);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(16),o=n(43);e.exports=n(15)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var n=e(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var o=n&&!0===n.clone;return o&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,o,i){var s=n.slice();return o.forEach(function(o,a){void 0===s[a]?s[a]=t(o,i):e(o)?s[a]=r(n[a],o,i):-1===n.indexOf(o)&&s.push(t(o,i))}),s}function r(o,i,s){var a=Array.isArray(i),c=s||{arrayMerge:n},l=c.arrayMerge||n;return a?Array.isArray(o)?l(o,i,s):t(i,s):function(n,o,i){var s={};return e(n)&&Object.keys(n).forEach(function(e){s[e]=t(n[e],i)}),Object.keys(o).forEach(function(a){e(o[a])&&n[a]?s[a]=r(n[a],o[a],i):s[a]=t(o[a],i)}),s}(o,i,s)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()});var r=e(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),o=r.svg,i=r.xlink,s={};s[o.name]=o.uri,s[i.name]=i.uri;var a,c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(n(s,t||{}))+">"+e+"</svg>"},l=r.svg,u=r.xlink,d={attrs:(a={style:["position: absolute","width: 0","height: 0"].join("; ")},a[l.name]=l.uri,a[u.name]=u.uri,a)},p=function(e){this.config=n(d,e||{}),this.symbols=[]};p.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},p.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},p.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},p.prototype.has=function(e){return null!==this.find(e)},p.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map(function(e){return e.stringify()}).join("");return c(t,e)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var h=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};h.prototype.stringify=function(){return this.content},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var m=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},f=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return m(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(h),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},_=function(e){return Array.prototype.slice.call(e,0)},b=navigator.userAgent,v={isChrome:/chrome/i.test(b),isFirefox:/firefox/i.test(b),isIE:/msie/i.test(b)||/trident/i.test(b),isEdge:/edge/i.test(b)},y=function(e){var t=[];return _(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},E=function(e){return(e||window.location.href).split("#")[0]},k=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,n,r){!function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)}(e,{oldUrl:r,newUrl:n})})}])},w=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),_(e.querySelectorAll("symbol")).forEach(function(e){_(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e};var C=r.xlink.uri,x="xlink:href",S=/[{}|\\\^\[\]`"<>]/g;function O(e){return e.replace(S,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}var I,T=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],R=T.map(function(e){return"["+e+"]"}).join(","),N=function(e,t,n,r){var o=O(n),i=O(r);(function(e,t){return _(e).reduce(function(e,n){if(!n.attributes)return e;var r=_(n.attributes),o=t?r.filter(t):r;return e.concat(o)},[])})(e.querySelectorAll(R),function(e){var t=e.localName,n=e.value;return-1!==T.indexOf(t)&&-1!==n.indexOf("url("+o)}).forEach(function(e){return e.value=e.value.replace(o,i)}),function(e,t,n){_(e).forEach(function(e){var r=e.getAttribute(x);if(r&&0===r.indexOf(t)){var o=r.replace(t,n);e.setAttributeNS(C,x,o)}})}(t,o,i)},P={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},A=function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(g,t));var o=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map(function(e){e(n)}),(e["*"]||[]).map(function(e){e(t,n)})}}}();this._emitter=o,this.node=null;var i=this.config;if(i.autoConfigure&&this._autoConfigure(t),i.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");o.on(P.MOUNT,function(){return r.updateUrls("#",s)})}var a=this._handleLocationChange.bind(this);this._handleLocationChange=a,i.listenLocationChangeEvent&&window.addEventListener(i.locationChangeEvent,a),i.locationChangeAngularEmitter&&k(i.locationChangeEvent),o.on(P.MOUNT,function(e){i.moveGradientsOutsideSymbol&&w(e)}),o.on(P.SYMBOL_MOUNT,function(e){i.moveGradientsOutsideSymbol&&w(e.parentNode),(v.isIE||v.isEdge)&&y(e)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=v.isFirefox)},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(P.SYMBOL_MOUNT,t.node)),n},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach(function(e){e.mount(n.node),t._emitter.emit(P.SYMBOL_MOUNT,e.node)}),_(r.querySelectorAll("symbol")).forEach(function(e){var t=f.createFromExistingNode(e);t.node=e,n.add(t)}),this._emitter.emit(P.MOUNT,r),r},t.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach(function(e){return e.destroy()}),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(P.MOUNT,r),r},t.prototype.render=function(){return m(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return N(this.node,n,E(e)+"#",E(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(p),M=e(function(e){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
e.exports=function(){var e,t=[],n=document,r=(n.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return r||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),r=1;e=t.shift();)e()}),function(e){r?setTimeout(e,0):t.push(e)}}()});!!window.__SVG_SPRITE__?I=window.__SVG_SPRITE__:(I=new A({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=I);var L=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?I.attach(e):I.mount(document.body,!0)};return document.body?L():M(L),I})}).call(this,n(22))},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var o=n&&!0===n.clone;return o&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,o,i){var s=n.slice();return o.forEach(function(o,a){void 0===s[a]?s[a]=t(o,i):e(o)?s[a]=r(n[a],o,i):-1===n.indexOf(o)&&s.push(t(o,i))}),s}function r(o,i,s){var a=Array.isArray(i),c=s||{arrayMerge:n},l=c.arrayMerge||n;return a?Array.isArray(o)?l(o,i,s):t(i,s):function(n,o,i){var s={};return e(n)&&Object.keys(n).forEach(function(e){s[e]=t(n[e],i)}),Object.keys(o).forEach(function(a){e(o[a])&&n[a]?s[a]=r(n[a],o[a],i):s[a]=t(o[a],i)}),s}(o,i,s)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()}),o=n(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),i=o.svg,s=o.xlink,a={};a[i.name]=i.uri,a[s.name]=s.uri;var c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(r(a,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)})}).call(this,n(22))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(8),o=n(19),i=n(17),s=n(31)("src"),a=Function.toString,c=(""+a).split("toString");n(25).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var l="function"==typeof n;l&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(i(n,s)||o(n,s,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(e,t){e.exports={}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r;!function(t){"use strict";var o=function(){},i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function s(){this.reads=[],this.writes=[],this.raf=i.bind(t),o("initialized",this)}function a(e){e.scheduled||(e.scheduled=!0,e.raf(function(e){o("flush");var t,n=e.writes,r=e.reads;try{o("flushing reads",r.length),c(r),o("flushing writes",n.length),c(n)}catch(e){t=e}e.scheduled=!1,(r.length||n.length)&&a(e);if(t){if(o("task errored",t.message),!e.catch)throw t;e.catch(t)}}.bind(null,e)),o("flush scheduled"))}function c(e){var t;for(o("run tasks");t=e.shift();)t()}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}s.prototype={constructor:s,measure:function(e,t){o("measure");var n=t?e.bind(t):e;return this.reads.push(n),a(this),n},mutate:function(e,t){o("mutate");var n=t?e.bind(t):e;return this.writes.push(n),a(this),n},clear:function(e){return o("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(o("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new s;"f"=="function"[0]?void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r):"o"==(typeof e)[0]&&(e.exports=u)}("undefined"!=typeof window?window:this)},function(e,t,n){e.exports=n(112)()},function(e,t,n){var r=n(148);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(149),o=n(74);e.exports=function(e){return r(o(e))}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";var r=n(92),o="object"==typeof self&&self&&self.Object===Object&&self,i=(r.a||o||Function("return this")()).Symbol,s=Object.prototype,a=s.hasOwnProperty,c=s.toString,l=i?i.toStringTag:void 0;var u=function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var o=c.call(e);return r&&(t?e[l]=n:delete e[l]),o},d=Object.prototype.toString;var p=function(e){return d.call(e)},h="[object Null]",m="[object Undefined]",f=i?i.toStringTag:void 0;var g=function(e){return null==e?void 0===e?m:h:f&&f in Object(e)?u(e):p(e)};var _=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var b=function(e){return null!=e&&"object"==typeof e},v="[object Object]",y=Function.prototype,E=Object.prototype,k=y.toString,w=E.hasOwnProperty,C=k.call(Object);t.a=function(e){if(!b(e)||g(e)!=v)return!1;var t=_(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==C}},function(e,t){e.exports=ReactDOM},function(e,t){e.exports={NAMESPACE:"YandexZen"}},function(e,t,n){const r={WHITE:"white-background",LIGHT:"white",DARK:"black"},o={no_amp_links:!0,forced_bulk_stats:!0,blurred_preview:!0,big_card_images:!0,complaints_with_reasons:!0,pass_experiments:!0,video_providers:["yandex-web","youtube","youtube-web"],screen:{dpi:241},need_background_image:!0,color_theme:r.LIGHT,no_small_auth:!0,need_main_color:!0,need_zen_one_data:!0,interests_supported:!0,return_sources:!0,screens:["feed","category","categories","profile","switchable_subs","suggest","blocked","preferences","blocked_suggest","video_recommend","language","comments_counter"],stat_params_with_context:!0};e.exports={REZEN_COLOR_THEMES:r,DEFAULT_REZEN_ZEN_FEATURES:o}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,s,a],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function i(e,n){function r(){var e=i;o(e)&&e.a.parentNode&&n(e.g)}var i=e;t(e.b,r),t(e.c,r),o(e)}function s(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var a=null,c=null,l=null,u=null;function d(){return null===u&&(u=!!document.fonts),u}function p(e,t){return[e.style,e.weight,function(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}l=""!==e.style.font}return l}()?e.stretch:"","100px",t].join(" ")}s.prototype.load=function(e,t){var o=this,s=e||"BESbswy",l=0,u=t||3e3,h=(new Date).getTime();return new Promise(function(e,t){if(d()&&!function(){if(null===c)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var m=new Promise(function(e,t){!function n(){(new Date).getTime()-h>=u?t():document.fonts.load(p(o,'"'+o.family+'"'),s).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}()}),f=new Promise(function(e,t){l=setTimeout(t,u)});Promise.race([f,m]).then(function(){clearTimeout(l),e(o)},function(){t(o)})}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function c(){var t;(t=-1!=g&&-1!=_||-1!=g&&-1!=b||-1!=_&&-1!=b)&&((t=g!=_&&g!=b&&_!=b)||(null===a&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=a&&(g==v&&_==v&&b==v||g==y&&_==y&&b==y||g==E&&_==E&&b==E)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(l),e(o))}var d=new n(s),m=new n(s),f=new n(s),g=-1,_=-1,b=-1,v=-1,y=-1,E=-1,k=document.createElement("div");k.dir="ltr",r(d,p(o,"sans-serif")),r(m,p(o,"serif")),r(f,p(o,"monospace")),k.appendChild(d.a),k.appendChild(m.a),k.appendChild(f.a),document.body.appendChild(k),v=d.a.offsetWidth,y=m.a.offsetWidth,E=f.a.offsetWidth,function e(){if((new Date).getTime()-h>=u)k.parentNode&&k.parentNode.removeChild(k),t(o);else{var n=document.hidden;!0!==n&&void 0!==n||(g=d.a.offsetWidth,_=m.a.offsetWidth,b=f.a.offsetWidth,c()),l=setTimeout(e,50)}}(),i(d,function(e){g=e,c()}),r(d,p(o,'"'+o.family+'",sans-serif')),i(m,function(e){_=e,c()}),r(m,p(o,'"'+o.family+'",serif')),i(f,function(e){b=e,c()}),r(f,p(o,'"'+o.family+'",monospace'))})})},e.exports=s}()},,function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var r=n(66),o=n(39);e.exports=n(61)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(16).f,o=n(17),i=n(7)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(80)("keys"),o=n(31);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!1},function(e,t,n){"use strict";e.exports=n(124)},function(e){e.exports={header:{height:"166px"},feed:{marginBetweenRows:"8px"},zenOne:{header:{height:"74px"}}}},function(e,t,n){e.exports=n(129)},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,o=Array.isArray(t),i=Array.isArray(n);if(o&&i){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(o!=i)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var s=Object.keys(t);if(s.length!==Object.keys(n).length)return!1;var a=t instanceof Date,c=n instanceof Date;if(a&&c)return t.getTime()==n.getTime();if(a!=c)return!1;var l=t instanceof RegExp,u=n instanceof RegExp;if(l&&u)return t.toString()==n.toString();if(l!=u)return!1;for(r=0;r<s.length;r++)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=0;r<s.length;r++)if(!e(t[s[r]],n[s[r]]))return!1;return!0}return!1}},function(e,t,n){n(98)("asyncIterator")},,function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};o(n(0));var r=o(n(27));function o(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){var r=n(54).Symbol;e.exports=r},function(e,t,n){var r=n(120),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(12),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,s){var a,c=e(n,i,s),l=c.dispatch,u={getState:c.getState,dispatch:function(e){return l(e)}};return a=t.map(function(e){return e(u)}),l=r.a.apply(void 0,a)(c.dispatch),o({},c,{dispatch:l})}}}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},i=0;i<n.length;i++){var s=n[i],a=e[s];"function"==typeof a&&(o[s]=r(a,t))}return o}n.d(t,"a",function(){return o})},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(13);n(32),n(58);function o(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var s=t[i];0,"function"==typeof e[s]&&(n[s]=e[s])}var a,c=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:r.a.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}(n)}catch(e){a=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(a)throw a;for(var r=!1,i={},s=0;s<c.length;s++){var l=c[s],u=n[l],d=e[l],p=u(d,t);if(void 0===p){var h=o(l,t);throw new Error(h)}i[l]=p,r=r||p!==d}return r?i:e}}},function(e,t,n){"use strict";var r=n(66),o=n(39);e.exports=n(61)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(8),o=n(72),i=n(23),s=n(65),a=n(62),c=n(63),l=n(64),u=n(10),d=n(30),p=n(134),h=n(41),m=n(133);e.exports=function(e,t,n,f,g,_){var b=r[e],v=b,y=g?"set":"add",E=v&&v.prototype,k={},w=function(e){var t=E[e];i(E,e,"delete"==e?function(e){return!(_&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof v&&(_||E.forEach&&!d(function(){(new v).entries().next()}))){var C=new v,x=C[y](_?{}:-0,1)!=C,S=d(function(){C.has(1)}),O=p(function(e){new v(e)}),I=!_&&d(function(){for(var e=new v,t=5;t--;)e[y](t,t);return!e.has(-0)});O||((v=t(function(t,n){l(t,v,e);var r=m(new b,t,v);return void 0!=n&&c(n,g,r[y],r),r})).prototype=E,E.constructor=v),(S||I)&&(w("delete"),w("has"),g&&w("get")),(I||x)&&w(y),_&&E.clear&&delete E.clear}else v=f.getConstructor(t,e,g,y),s(v.prototype,n),a.NEED=!0;return h(v,e),k[e]=v,o(o.G+o.W+o.F*(v!=b),k),_||f.setStrong(v,e,g),v}},function(e,t,n){var r=n(31)("meta"),o=n(10),i=n(17),s=n(16).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(30)(function(){return c(Object.preventExtensions({}))}),u=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!i(e,r)&&u(e),e}}},function(e,t,n){var r=n(28),o=n(139),i=n(138),s=n(18),a=n(69),c=n(137),l={},u={};(t=e.exports=function(e,t,n,d,p){var h,m,f,g,_=p?function(){return e}:c(e),b=r(n,d,t?2:1),v=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(i(_)){for(h=a(e.length);h>v;v++)if((g=t?b(s(m=e[v])[0],m[1]):b(e[v]))===l||g===u)return g}else for(f=_.call(e);!(m=f.next()).done;)if((g=o(f,b,m.value,t))===l||g===u)return g}).BREAK=l,t.RETURN=u},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(23);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(16).f,o=n(71),i=n(65),s=n(28),a=n(64),c=n(63),l=n(73),u=n(76),d=n(135),p=n(15),h=n(62).fastKey,m=n(39),f=p?"_s":"size",g=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var u=e(function(e,r){a(e,u,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=r&&c(r,n,e[l],e)});return i(u.prototype,{clear:function(){for(var e=m(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var n=m(this,t),r=g(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[f]--}return!!r},forEach:function(e){m(this,t);for(var n,r=s(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(m(this,t),e)}}),p&&r(u.prototype,"size",{get:function(){return m(this,t)[f]}}),u},def:function(e,t,n){var r,o,i=g(e,t);return i?i.v=n:(e._l=i={i:o=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[f]++,"F"!==o&&(e._i[o]=i)),e},getEntry:g,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=m(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(68),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(145),o=n(67);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(18),o=n(146),i=n(67),s=n(42)("IE_PROTO"),a=function(){},c=function(){var e,t=n(78)("iframe"),r=i.length;for(t.style.display="none",n(142).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(8),o=n(25),i=n(19),s=n(23),a=n(28),c=function(e,t,n){var l,u,d,p,h=e&c.F,m=e&c.G,f=e&c.S,g=e&c.P,_=e&c.B,b=m?r:f?r[t]||(r[t]={}):(r[t]||{}).prototype,v=m?o:o[t]||(o[t]={}),y=v.prototype||(v.prototype={});for(l in m&&(n=t),n)d=((u=!h&&b&&void 0!==b[l])?b:n)[l],p=_&&u?a(d,r):g&&"function"==typeof d?a(Function.call,d):d,b&&s(b,l,d,e&c.U),v[l]!=d&&i(v,l,p),g&&y[l]!=d&&(y[l]=d)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";var r=n(44),o=n(72),i=n(23),s=n(19),a=n(24),c=n(147),l=n(41),u=n(141),d=n(7)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,m,f,g,_){c(n,t,m);var b,v,y,E=function(e){if(!p&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",w="values"==f,C=!1,x=e.prototype,S=x[d]||x["@@iterator"]||f&&x[f],O=S||E(f),I=f?w?E("entries"):O:void 0,T="Array"==t&&x.entries||S;if(T&&(y=u(T.call(new e)))!==Object.prototype&&y.next&&(l(y,k,!0),r||"function"==typeof y[d]||s(y,d,h)),w&&S&&"values"!==S.name&&(C=!0,O=function(){return S.call(this)}),r&&!_||!p&&!C&&x[d]||s(x,d,O),a[t]=O,a[k]=h,f)if(b={values:w?O:E("values"),keys:g?O:E("keys"),entries:I},_)for(v in b)v in x||i(x,v,b[v]);else o(o.P+o.F*(p||C),t,b);return b}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(10),o=n(8).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){e.exports=!n(15)&&!n(30)(function(){return 7!=Object.defineProperty(n(78)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(25),o=n(8),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(44)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e){e.exports={a:{ru:"https://direct.yandex.ru/?partner",tr:"https://direct.yandex.com.tr/?partner"}}},function(e){e.exports={small:{width:"23px",height:"32px",margin:"3px",ratio:1},medium:{width:"30px",height:"42px",margin:"9px",ratio:1.3}}},function(e,t,n){"use strict";e.exports=n(113)},function(e,t,n){"use strict";(function(e){t.a=(t=>{let n=t.className;return e.createElement("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},e.createElement("path",{fillRule:"nonzero",d:"M4.382 2.968a5.5 5.5 0 0 1 7.65 7.65l-7.65-7.65zM2.968 4.382l7.65 7.65a5.5 5.5 0 0 1-7.65-7.65zM7.5 0a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15z"}))})}).call(this,n(0))},function(e,t,n){"use strict";(function(e){t.a=(t=>{let n=t.className;return e.createElement("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15"},e.createElement("path",{fillRule:"evenodd",d:"M5.314 13.182C4.021 14.486 2.25 15.09 0 14.99c1.261-.673 1.94-1.867 2.038-3.582C.778 10.197 0 8.53 0 6.689 0 2.995 3.134 0 7 0s7 2.995 7 6.689-3.134 6.688-7 6.688a7.326 7.326 0 0 1-1.686-.195zM7.762 3.087H6.213l.184 4.792h1.171l.194-4.792zm-.774 7.203a.93.93 0 0 0 .382-.08.986.986 0 0 0 .31-.214c.087-.09.156-.192.208-.308a.91.91 0 0 0 .077-.374.91.91 0 0 0-.077-.374 1.052 1.052 0 0 0-.208-.309.921.921 0 0 0-.31-.209.983.983 0 0 0-.382-.074.983.983 0 0 0-.988.966.91.91 0 0 0 .077.374 1.047 1.047 0 0 0 .528.523.93.93 0 0 0 .383.08z"}))})}).call(this,n(0))},function(e,t,n){var r=n(55),o=n(121),i=n(119),s="Expected a function",a=Math.max,c=Math.min;e.exports=function(e,t,n){var l,u,d,p,h,m,f=0,g=!1,_=!1,b=!0;if("function"!=typeof e)throw new TypeError(s);function v(t){var n=l,r=u;return l=u=void 0,f=t,p=e.apply(r,n)}function y(e){var n=e-m;return void 0===m||n>=t||n<0||_&&e-f>=d}function E(){var e=o();if(y(e))return k(e);h=setTimeout(E,function(e){var n=t-(e-m);return _?c(n,d-(e-f)):n}(e))}function k(e){return h=void 0,b&&l?v(e):(l=u=void 0,p)}function w(){var e=o(),n=y(e);if(l=arguments,u=this,m=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(E,t),g?v(e):p}(m);if(_)return h=setTimeout(E,t),v(m)}return void 0===h&&(h=setTimeout(E,t)),p}return t=i(t)||0,r(n)&&(g=!!n.leading,d=(_="maxWait"in n)?a(i(n.maxWait)||0,t):d,b="trailing"in n?!!n.trailing:b),w.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=m=u=h=void 0},w.flush=function(){return void 0===h?p:k(o())},w}},function(e){e.exports={"lib-prefix":"zen-ui",colors:{blue:"#07f","blue-pair":"#f0f7ff","blue-light":"#d2ebff","blue-light-pair":"#214a6e",yellow:"#fc0","yellow-pair":"#241c00","yellow-light":"#fff8d9",red:"#f00000","red-pair":"#fcecec","red-light":"#ffd5d5","red-light-pair":"#f11111",green:"#00c000","green-pair":"#ebfaeb","gray-warm":"#f3f1ed","gray-warm-pair":"#4b4a49","gray-42":"#424242","gray-666":"#666","gray-a1":"#a1a1a1",border:"rgba(0, 0, 0, 0.2)","border-light":"rgba(255, 255, 255, 0.17)",disabled:"rgba(0, 0, 0, 0.08)","page-fade":"rgba(0, 0, 0, 0.12)","page-background":"#fcfcfc","disabled-text":"#a1a1a1",placeholder:"#a1a1a1","disabled-back":"#e8e8e8","checkbox-back":"#f3f1ed","checkbox-back-hover":"#f1eeea","checkbox-back-checked":"#d2ebff","checkbox-back-checked-hover":"#c7e6ff","checkbox-tick":"#0476ff"}}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var o=r();o.withExtraArgument=r,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},function(e,t){e.exports={getPartnerMetrikaCounterIds:e=>{switch(e.partner){case"omniwi":return 46113984;case"helium":return 46191072;case"osmium":return 46215975;default:return 44046119}},commonMetrikaCounterId:51446871}},function(e,t,n){"use strict";var r=n(45),o=(n(0),{childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0}),i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={};s[r.ForwardRef]={$$typeof:!0,render:!0};var a=Object.defineProperty,c=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var h=d(n);h&&h!==p&&e(t,h,r)}var m=c(n);l&&(m=m.concat(l(n)));for(var f=s[t.$$typeof]||o,g=s[n.$$typeof]||o,_=0;_<m.length;++_){var b=m[_];if(!(i[b]||r&&r[b]||g&&g[b]||f&&f[b])){var v=u(n,b);try{a(t,b,v)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(22))},function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var s=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=s,a}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in i)i[l]&&(c+="; "+l,!0!==i[l]&&(c+="="+i[l]));return document.cookie=t+"="+o+c}t||(s={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var h=u[p].split("="),m=h.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var f=h[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,f):n(m,f)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===f){s=m;break}t||(s[f]=m)}catch(e){}}return s}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t,n){"use strict";n.r(t);n(3);var r=n(37),o=n.n(r),i=n(2);const s=new o.a("regular-ysans"),a=new o.a("bold-ysans"),c=new o.a("medium-ysans");window._fontsLoadPromise=Promise.all([s.load(),a.load(),c.load()]).then(()=>{window._isFontsLoaded=!0,document.documentElement.className+=" fonts-loaded"}).catch(e=>{i.a.warn(`Error on font face observer: ${JSON.stringify(e,null,2)}`)})},function(e,t,n){"use strict";n.r(t);n(6);function r(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,c,"next",e)}function c(e){r(s,o,i,a,c,"throw",e)}a(void 0)})}}var i=n(2);n(3);function s(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var a=n(9);const c=/[?&]([^&#]*)/,l=e=>{const t=Object.keys(e);return 0===t.length?"":t.reduce((t,n)=>{if(!n||void 0===e[n])return t;return`${t}${0===t.length?"?":"&"}${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`},"")},u=(e,t)=>{const n=Object.assign({},(e=>{const t={},n=e.indexOf("?");if(-1===n)return t;let r=n;for(;;){const n=e.slice(r).match(c);if(!n)break;r+=n[0].length;const o=n[1].split("="),i=o[0],s=o[1],a=void 0===s?"":s;i&&(t[decodeURIComponent(i)]=decodeURIComponent(a))}return t})(e),t),r=e.indexOf("?"),o=e.indexOf("#"),i=-1!==o?o:e.length,s=-1!==r?r:i;return e.slice(0,s)+l(n)+e.slice(i)},d={timeouts:[5e3,1e4,15e3]};var p=(e,t)=>{let n,r;const o=e=>{n=Object.assign({},d,e)},s=function(t){let o=void 0===t?{}:t,s=o.args,a=o.timeouts,c=void 0===a?n.timeouts:a,l=o.withoutAction,u=void 0!==l&&l,d=o.withoutRetries,p=void 0!==d&&d,h=o.onTryComplete,m=void 0===h?e=>{if(e.isRejected)throw e.error;return e.value}:h;const f=(e=>"function"!=typeof e?()=>e:e)(s),g=(e=>Array.isArray(e)?t=>t<e.length?e[t]:null:"function"!=typeof e?()=>e:e)(c);let _,b,v=0,y=!1,E=!1;const k=()=>_===r,w=()=>!y&&!E,C=()=>!p&&w()&&k(),x=()=>{w()&&(b&&b(),E=!0)},S=()=>{const t=f(v);let n;return Array.isArray(t)?n=e(...t):(null!=t&&i.a.warn("Expected action arguments to be an array or null/undefined."),n=e()),n.then(e=>m({value:e,tryNumber:v,isFulfilled:!0,isRejected:!1,isLastSession:k,abortRetries:x}),e=>m({error:e,tryNumber:v,isFulfilled:!1,isRejected:!0,isLastSession:k,abortRetries:x}))},O=e=>{if(C()){const t=g(v);if("number"==typeof t)return v++,(e=>new Promise((t,n)=>{b=(()=>{b=null,n(new Error("Retries aborted."))}),setTimeout(()=>{b=null,t()},e)}))(t).then(()=>{if(C())return S().catch(O);throw e});null!=t&&i.a.warn("Expected action timeout to be a number or null/undefined.")}throw e},I=u?Promise.reject(new Error("Generated error by 'withoutAction' call.")):S(),T=((e,t)=>e.then(e=>(t(e),e),e=>{throw t(e),e}))(I.catch(O),()=>{y=!0});return r&&r.abortRetries(),r=_={actionResult:I,retriesResult:T,isLastSession:k,isInProgress:w,abortRetries:x}};o(t);const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s({args:t})};return a.startSession=s,a.setOptions=o,a},h=n(48),m=n.n(h);var f=(e,t)=>{const n=Object.keys(e),r={};for(let o=0;o<n.length;o++){const i=n[o];-1===t.indexOf(i)&&(r[i]=e[i])}return r};const g={};var _={get:function(){var e=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g[t]);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),put:function(){var e=o(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:g[t]=n;case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete g[t];case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),isEnabled:()=>!0};const b="zen-db",v="zen-api-cache",y="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);let E;function k(e,t){return(y?(E||(E=new Promise((e,t)=>{const n=y.open(b,1);n.onerror=(()=>{t(n.error)}),n.onupgradeneeded=(()=>{n.result.createObjectStore(v)}),n.onsuccess=(()=>{e(n.result),n.result.onclose=(()=>{E=null})})})),E):Promise.reject(new Error("indexedDB is not supported."))).then(n=>new Promise((r,o)=>{const i=n.transaction(v,e);i.oncomplete=(()=>{r()}),i.onerror=(()=>{o(i.error)}),t(i.objectStore(v))}))}var w={get(e){let t;return k("readonly",n=>{t=n.get(e)}).then(()=>t.result)},set:(e,t)=>k("readwrite",n=>{n.put(t,e)}),delete:e=>k("readwrite",t=>{t.delete(e)}),clear:()=>k("readwrite",e=>{e.clear()}),keys(){const e=[];return k("readonly",t=>{const n=t.openKeyCursor?t.openKeyCursor():t.openCursor();n.onsuccess=(()=>{n.result&&(e.push(n.result.key),n.result.continue())})}).then(()=>e)}};var C={get:e=>w.get(e),put:(e,t)=>w.set(e,t),remove:e=>w.delete(e),isEnabled:()=>"undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)};const x=Object.prototype.hasOwnProperty,S=e=>Array.isArray(e)?e.slice():Object.assign({},e),O=e=>e&&"object"==typeof e,I=(e,t)=>{if(Array.isArray(e)){const n=Number(t),r=e.slice(0,n).concat(e.slice(n+1));return e.length!==r.length?r:null}{const n=Object.assign({},e);return delete n[t],x.call(e,t)!==x.call(n,t)?n:null}},T=e=>{const t=Number(e);if(!(String(t)===String(e)&&isFinite(t)&&t>=0&&Math.floor(t)===t))throw new Error(`Key '${e}' is not an array index.`)},R=e=>{const t="string"==typeof e?e.split("."):e;if(!Array.isArray(t))throw new Error("Expected the path to be a string or array.");if(0===t.length)throw new Error("Expected the path to have at least one item.");return t},N=(e,t)=>{const n=R(t);let r=e;for(let e=0;e<n.length;e++){const t=n[e];if(!O(r)||!x.call(r,t))return;r=r[t]}return r},P=(e,t,n)=>{if(!O(e))throw new Error("Value is not an object.");const r=R(t),o=S(e);let i=o,s=!1;for(let e=0;e<r.length;e++){const t=r[e],o=e===r.length-1;if(Array.isArray(i)&&T(t),o){const e=x.call(i,t),r=e?i[t]:void 0,o=i[t]="function"==typeof n?n(r):n;e&&Object.is(r,o)||(s=!0)}else if(x.call(i,t)){if(!O(i[t]))throw new Error("Value is not an object.");i=i[t]=S(i[t])}else i=i[t]={},s=!0}return s?o:e};var A={get:N,set:P,del:(e,t)=>{if(!O(e))throw new Error("Value is not an object.");const n=R(t);if(1===n.length){const t=n[0];return I(e,t)||e}const r=S(e);let o=r,i=!1;for(let e=0;e<n.length-1;e++){const t=n[e],r=e===n.length-2;if(Array.isArray(o)&&T(t),!x.call(o,t))break;if(!O(o[t]))throw new Error("Value is not an object.");if(r){const r=n[e+1];(o[t]=I(o[t],r))&&(i=!0)}else o=o[t]=S(o[t])}return i?r:e},modify:(e,t,n)=>P(e,t,n(N(e,t)))};n(40);const M="card",L="post",D="direct",j="iceboarding-grid",B="magic_card",F="gif",U="story",z="small",H="big",V="free",$={LEFT:"left",CENTER:"center",RIGHT:"right"},G=new Set(["similar","user-feedback-question"]),W={one_column:{columnCount:1,layoutableTypes:[M,F,D,"hint_eula",j,"similar",B,U],availableSizes:{[M]:[z],[D]:[z],hint_eula:[z],[j]:[z],similar:[z],[B]:[z],[F]:[z],[U]:[z],"user-feedback-question":[z]},initialDisplayedRowsNumber:6,rowDisplayStep:8},two_column:{columnCount:2,layoutableTypes:[],availableSizes:{}},two_column_small_cards:{columnCount:2,layoutableTypes:[],availableSizes:{[M]:[z],[D]:[z],hint_eula:[z],[j]:[z],similar:[z],[B]:[z],[F]:[z],[U]:[z],"user-feedback-question":[z]}},three_column:{columnCount:3},three_column_first_big:{columnCount:3},common:{layoutableTypes:[M,L,D,B,F,U,"card-placeholder"],availableSizes:{[M]:[z,H],[L]:[z],[D]:[z],hint_eula:[V],[j]:[V],similar:[V],[B]:[H],[F]:[z,H],[U]:[z],"card-placeholder":[z,H],placeholder:[V],"user-feedback-question":[V],similar_interests:[V]},initialDisplayedRowsNumber:6,rowDisplayStep:9}};function q(e){return void 0===e&&(e="item"),`${e}_${Math.random()*Date.now()}`}const K=e=>{const t=e.country_id,n=e.language_ids,r=e.countries,o=e.languages;return{countryId:t,languageIds:n.reduce((e,t)=>(e[t]=!0,e),{}),countries:r.map(e=>{return{code:e.code,langs:e.langs,name:e.name}}),languages:o}};function Y(e){return{id:e.id,ad:e.ad,domain:e.domain,domainTitle:e.domain_title,link:e.link,title:e.title||" ",text:e.text||" ",logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar.link,bulkParams:e.bulk_params,statEvents:e.stat_events,read:e.read,feedback:function(e){const t=e.feedback_info;if(t&&t.is_liked)return"liked";if(t&&t.is_disliked)return"disliked";return null}(e),feedLink:e.source.feed_link,source:Z(e.source),commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link,badges:e.badges,creationTime:e.creation_time}}function Q(e){return e.image&&e.big_card_image,Object.assign({type:M,isPromoted:e.is_promoted,isPromoPublication:e.is_promo_publication,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,customUserFeedbackData:function(e){if(!e.custom_user_feedback_data)return null;try{return{questions:e.custom_user_feedback_data.questions.map(e=>{let t=e.id,n=e.type,r=e.display_type,o=e.text,i=e.answers;return{id:t,type:n,display_type:r,text:o,answers:i.map(e=>{let t=e.id,n=e.type,r=e.text,o=e.stats;return{id:t,type:n,text:r,isChecked:!1,stats:{statEvents:o.stat_events,bulkParams:o.bulk_params}}})}})}}catch(e){return i.a.warn("Error parsing custom_user_feedback_data",e),null}}(e),rocket:!!e.zen_logo,pixels:e.pixels},Y(e))}const Z=e=>{let t=e.id,n=e.type,r=e.status,o=e.title,i=e.logo,s=e.logo_background_color,a=e.title_background_color,c=e.title_color,l=e.feed_link,u=e.feed_api_link;return{id:t,type:n,status:r,title:o,logo:i,subtitle:e.subtitle,description:e.description,subscribers:e.subscribers,logoBackgroundColor:s,titleBackgroundColor:a,titleColor:c,feedLink:l,feedApiLink:u,socialLinks:e.social_links}},J=e=>Object.assign({},Z(e.source),{statParams:re(e.stat_params)}),X=e=>{let t=e.link,n=e.preview,r=e.width,o=e.height;const i={link:t,preview:n};return(r||o)&&(i.hasSize=!0,i.width=r,i.height=o),i},ee=e=>{return{json:e.json,length:e.length}},te=e=>{let t=e.background,n=e.background_color,r=e.text_color,o=e.link_color;return{background:X(t),backgroundColor:n,textColor:r,linkColor:o}};const ne=e=>{return{hasSound:e.has_sound,heartbeatTimes:e.heartbeat_pos,id:e.id,loop:e.loop,player:e.player,provider:e.provider,userAgent:e.userAgent,additionalParams:e.additional_params,autoplay:e.autoplay}};function re(e){if(e)return Object.keys(e).reduce((t,n)=>{const r=e[n],o=r.bulk_params,i=r.stat_events,s=r.links;return Object.assign({},t,{[n]:{bulkParams:o,statEvents:i,links:s}})},{})}function oe(e){return e.image&&!e.big_card_image&&i.a.warn("no big_card_image",e),Object.assign({type:F,video:ne(e.video),stats:e.stats,statParams:re(e.stat_params)},Y(e))}function ie(e){if("direct"!==A.get(e,"items.0.provider")||!A.get(e,"items.0.content"))return i.a.error(`Ad parsing error: ${JSON.stringify(e)}`),null;const t=e.items[0],n=t.content,r=t.stat_events,o=t.bulk_params;let s=!1;if(n.image&&n.image.length){const e=n.image;e[1]/e[2]>4/3&&(s=!0)}return{id:q(D),type:D,url:n.url,showUrl:n.linkHead+n.linkTail,domain:n.domain,title:n.title||" ",text:n.body,age:n.age,warning:n.warning,image:n.image,isWideImage:s,statEvents:r,bulkParams:o}}function se(e){const t=e.source_id,n=e.image,r=e.background_color,o=e.text_color;return{id:t,image:n,name:e.name,textColor:o,textBackgroundColor:e.name_background_color,imageBackgroundColor:r}}const ae=e=>e.items.map(J),ce=e=>({sources:ae(e),category:e.category&&de(e.category)}),le=e=>{const t=e.items.filter(e=>{return"carousel"===e.type}).map(e=>{return e.sources});let n;return 0!==t.length&&(n=[].concat(...t).map(J)),{sources:n,list:e.items.filter(e=>{return"list_item"===e.type}).map(de).reduce((e,t)=>(e[t.name]=t,e),{})}},ue=e=>{let t=e.items;return(void 0===t?[]:t).reduce((e,t)=>(t.type===F&&e.push(oe(t)),e),[])},de=e=>{return{link:e.link,title:e.title,image:e.image,name:e.name,statEvents:e.stat_events,bulkParams:e.bulk_params}},pe=e=>{return{externalUrl:e.external_url}},he={"no-user":pe,"user-info":e=>{return{email:e.email,name:e.name,avatar:e.avatar}},"blocked-count":e=>{return{count:e.count,externalUrl:e.external_url}},language:e=>{return{country:e.country,externalUrl:e.external_url}},feedback:pe,eula:pe,logout:pe,video:e=>{return{statEvents:e.stat_events,bulkParams:e.bulk_params,disabled:e.disabled}},autoplay:()=>({})},me={"no-user":"noUser","user-info":"userInfo","blocked-count":"blockedCount"},fe=e=>{const t=e.items.reduce((e,t)=>{if(he.hasOwnProperty(t.type)){e[me[t.type]||t.type]=he[t.type](t)}return e},{});return t.userInfo||t.noUser||i.a.error("Inconsistent profile data"),t};const ge=e=>({id:q("similar"),type:"similar",items:function(e){const t=[],n=[],r=[],o=[];e.forEach(e=>{switch(e.type){case"channel":case"interest":r.push(J({source:e,stat_params:e.stat_params}));break;case"small_card":t.push(function(e){const t={title:e.title||" ",text:e.text||" ",link:e.link,domainTitle:e.domain_title,image:e.images&&e.images.horizontal,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:e.ad,rocket:!!e.zen_logo,cardColors:null,mainColor:null,feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link};return e.hasOwnProperty("card_colors")?t.cardColors=e.card_colors:e.hasOwnProperty("main_color")&&(t.mainColor=e.main_color),t}(e));break;case"ad":n.push(ie(e));break;case"rtb":o.push(e)}});const i=r.map(e=>e.id);return{docs:t,direct:n,sources:r,sourcesIds:i,rtb:o}}(e.items)});const _e=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={count:e[n]}}),t};var be=e=>{switch(e.type){case M:return Q(e);case L:return function(e){const t={type:L,id:e.id,style:te(e.style),link:e.link,similarLink:e.similar_link,source:Z(e.source),pixels:e.pixels,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:e.ad,commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link,badges:e.badges};return e.rich_text&&(t.richText=ee(e.rich_text)),e.image&&(t.image=X(e.image)),t.read=e.was_read,t.feedback=e.feedback_status,t.domainTitle=e.source.title,t}(e);case F:return oe(e);case"ad":return ie(e);case j:return function(e){const t={id:q(j),type:e.type,sources:e.sources.map(se),stats:e.stats,moreButton:void 0,bulkParams:e.bulk_params,statEvents:e.stat_events};return e.more_button&&(t.moreButton={link:e.more_button.click}),t}(e);case"hint_eula":return function(e){return{id:e.id,type:e.type,link:e.link,bulkParams:e.bulk_params,statEvents:e.stat_events}}(e);case U:return function(e){const t=Q(e);return t.type=U,t.isPromoNarrative="narrative_promo_text"===e.narrative_style,t}(e);case"card-placeholder":case"placeholder":return function(e){return{id:e.item_id.toString(),type:e.type,statEvents:e.stat_events,bulkParams:e.bulk_params}}(e);case"similar_interests":return function(e){return{id:e.id,type:e.type,title:e.title,items:e.items.map(e=>J({source:e,stat_params:e.stat_params}))}}(e);default:return i.a.warn(`Unsupported doc type: ${e.type}`),null}};var ve=e=>{let t=null;if(e.items){const n=e.items.reduce((t,n)=>{if(n){const r=be(n);r&&t.push(Object.assign({},r,{packId:e.rid}))}return t},[]);t=n.length>0?n:null}let n=null;e.interests_onboarding&&(n={sources:ae(e.interests_onboarding),statParams:re(e.interests_onboarding.stat_params)});let r=null;if(e.link_board){const t=e.link_board,n=t.items,o=t.groups,i=t.stat_params;r={sources:ae({items:n}),groups:o,statParams:re(i)}}return Object.assign({},e,{id:e.rid,receivedAt:e.received_at,ttl:1e3*e.ttl,storeTtl:1e3*e.store_ttl,source:e.sf,items:t,onboardingInterests:n,linkBoard:r,experimentsData:e.experiments_data||null,clientDefinition:e.client_definition||null})};n(93);const ye=()=>{const e=`; ${document.cookie}`.match(/; yandexuid=([^;]*)/);return e&&e[1]},Ee=()=>{const e=`; ${document.cookie}`.match(/; yandex_login=([^;]*)/);return e&&e[1]},ke={PACK_SHOWN:"packShown",BULK_EVENT_LOGGED:"bulkEventLogger",API_RESPONSE_TTL_EXPIRED:"apiResponseTtlExpired",API_RESPONSE_ERROR_TTL_EXPIRED:"apiResponseErrorTtlExpired",NOT_SHOWN_PACK_UPDATED:"notShownPackUpdated",LAST_SHOWN_PACK_UPDATED:"lastShownPackUpdated"},we={ONBOARDING:"onboarding",EXPORT:"export",MORE:"more",BULK:"bulk",SUBS:"subs",PROFILE:"profile",COUNTRY_LANG:"language",BLOCKED:"blocked",PREFERENCES:"preferences",CATEGORY:"category",CATEGORIES:"categories",SUGGEST:"suggest",BLOCKED_SUGGEST:"blocked_suggest",VIDEO_RECOMMEND:"video_recommend",PUBLISHER_CONFIG:"publisher_config",COMMENTS_COUNTER:"comments_counter"},Ce={SESSION_CACHE:"cacheStorage",MULTI_SESSION_CACHE:"multiCacheStorage"},xe={NETWORK:"network",CACHE_BEFORE_NETWORK:"cache-before-network",CACHE_AFTER_NETWORK:"cache-after-network"},Se="not-shown-pack",Oe="last-shown-pack",Ie=e=>{if(!(e&&e.type&&e.apiResponse&&e.params))throw new Error("Invalid cache record scheme.")},Te=(e,t)=>{const n=e.receivedAt,r=e.ttl,o=e.storeTtl,i=t?o:r;if(!("number"==typeof n&&"number"==typeof i&&n+i>Date.now()))throw new Error(`Invalid cache ${t?"store-ttl":"ttl"}.`)},Re=e=>{if(!e.items)throw new Error("Invalid api response to put in cache.")},Ne=(e,t,n,r)=>{const o=e&&e.userId&&t&&t.userId&&e.userId===t.userId&&Boolean(e.isAdblockEnabled)===Boolean(t.isAdblockEnabled)&&("number"!=typeof e.clid||e.clid===t.clid)&&("number"!=typeof e.referrerClid||e.referrerClid===t.referrerClid)&&("string"!=typeof e.referrerPlace||e.referrerPlace===t.referrerPlace)&&("string"!=typeof e.countryCode||e.countryCode===t.countryCode)&&m()(e.feedFilter,t.feedFilter)&&m()(e.zenFeatures&&f(e.zenFeatures,r),t.zenFeatures&&f(t.zenFeatures,r));let i=!0;if(e&&Array.isArray(e.clientExperiments)){const r=((e,t)=>{let n=[];return e&&Array.isArray(e.clientExperiments)&&n.push(...e.clientExperiments),t.experimentsData&&Object.keys(t.experimentsData).forEach(e=>{const r=t.experimentsData[e];r&&r.exp&&n.push(e)}),n})(t,n);i=e.clientExperiments.every(e=>r.includes(e))}if(!o||!i)throw new Error("ZenApi cache is not valid.")};var Pe=class{constructor(e,t){this._zenApi=e,this._eventEmitter=t}_getStorage(){const e=this._zenApi.getConfig();if(e.cache)switch(e.cache.type){case Ce.MULTI_SESSION_CACHE:if(C.isEnabled())return C;if(_.isEnabled())return _;break;case Ce.SESSION_CACHE:if(_.isEnabled())return _}throw new Error("ZenApi cache is not enabled.")}_getRecordKey(e){const t=this._zenApi.getConfig(),n=t.cache&&t.cache.namespace;if(!n)throw new Error("ZenApi cache.namespace is not configured.");return`${n}-${e}`}_get(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o,i,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=n._getStorage(),i=n._getRecordKey(e),r.next=4,o.get(i);case 4:return s=r.sent,n.validateRecord(s,t),r.abrupt("return",s);case 7:case"end":return r.stop()}},r,this)}))()}_put(e,t,n,r){var i=this;return o(regeneratorRuntime.mark(function o(){var s,a,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return s=i._getStorage(),a=i._getRecordKey(e),c=i.createRecord(t,n,r),o.next=5,s.put(a,c);case 5:case"end":return o.stop()}},o,this)}))()}_remove(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getStorage(),o=t._getRecordKey(e),n.next=4,r.remove(o);case 4:case"end":return n.stop()}},n,this)}))()}getValidationParams(){const e=this._zenApi.getConfig(),t=e.clid,n=e.referrerClid,r=e.referrerPlace,o=e.feedFilter,i=e.countryCode,s=e.clientExperiments,a=e.userInfo,c=e.zenFeatures,l=e.isAdblockEnabled,u=a.oauthToken,d=a.login,p=a.deviceId,h=a.profileId,m=a.yandexuid;return{clid:t,referrerClid:n,referrerPlace:r,feedFilter:o,countryCode:i,clientExperiments:s,userId:u||d||Ee()||p||h||m||ye(),zenFeatures:c,isAdblockEnabled:l}}createRecord(e,t,n){const r=this._zenApi.getConfig().apiResponseValidator,o=ve(t);return Re(o),r(o),{type:e,apiResponse:t,params:n}}validateRecord(e,t){let n=void 0===t?{}:t,r=n.byStoreTtl,o=void 0!==r&&r,i=n.ignoredZenFeatures,s=void 0===i?[]:i;Ie(e);const a=this._zenApi.getConfig(),c=a.apiResponseValidator,l=ve(e.apiResponse),u=this.getValidationParams(a);Te(l,o),Ne(u,e.params,l,s),Re(l),c(l)}getNotShownPack(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._get(Se,e));case 1:case"end":return n.stop()}},n,this)}))()}getLastShownPack(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._get(Oe,e));case 1:case"end":return n.stop()}},n,this)}))()}putNotShownPack(e,t,n){var r=this;return o(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===n&&(n=r.getValidationParams()),o.next=3,r._put(Se,e,t,n);case 3:r._eventEmitter.emit(ke.NOT_SHOWN_PACK_UPDATED,e,t,n);case 4:case"end":return o.stop()}},o,this)}))()}putLastShownPack(e,t,n){var r=this;return o(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===n&&(n=r.getValidationParams()),o.next=3,r._put(Oe,e,t,n);case 3:r._eventEmitter.emit(ke.LAST_SHOWN_PACK_UPDATED,e,t,n);case 4:case"end":return o.stop()}},o,this)}))()}removeNotShownPack(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._remove(Se));case 1:case"end":return t.stop()}},t,this)}))()}removeLastShownPack(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._remove(Oe));case 1:case"end":return t.stop()}},t,this)}))()}};const Ae=e=>new Promise(t=>setTimeout(()=>t(),e));var Me=Ae;function Le(){return new Promise(e=>requestAnimationFrame(()=>e()))}const De=function(e,t){return void 0===t&&(t=1e4),new Promise((n,r)=>{e.then(n,r),Ae(t).then(()=>{r(new Error("Request timeout."))})})},je="application/json; charset=utf-8",Be={credentials:"include",timeout:6e4},Fe={Accept:je},Ue=e=>{const t=e.ok,n=e.url,r=e.status,o=e.statusText;if(!t)throw new Error(`${n} ${r} (${o})`);return(e=>{const t=e.headers.get("Content-Type");return t&&-1!==t.indexOf(je)?e.json():e.text()})(e)},ze=(e,t)=>{const n=Object.assign({},Be,t),r=n.params?u(e,n.params):e;return new Promise((e,t)=>{fetch(r,n).then(Ue).then(e,t),Me(n.timeout).then(()=>{t(new Error("Request timeout."))})})},He=function(e,t){void 0===t&&(t={});const n=Object.assign({},t,{method:"GET",params:Object.assign({},t.params||{},{rnd:Date.now()})});return ze(e,n)},Ve=function(e,t){void 0===t&&(t={});const n=Object.assign({},Fe,t.headers);let r=t.body;n["Content-Type"]||(n["Content-Type"]=je,r&&"string"!=typeof r&&(r=JSON.stringify(r)));const o=Object.assign({},t,{method:"POST",headers:n,body:r});return ze(e,o)};var $e=class{constructor(e){this._zenApiInstance=e}_getExtraHeaders(){const e={},t=this._zenApiInstance.getConfig(),n=t.userInfo,r=t.zenFeatures,o=t.clientExperiments;return n.oauthToken&&(e.Authorization=`OAuth ${n.oauthToken}`),Object.keys(r).length>0&&(e["Zen-Features"]=JSON.stringify(r)),e["Zen-Client-Experiments"]=["zen-version:2.39.3",...Array.isArray(o)&&o.length>0?o:[]].join(", "),e}makeApiRequest(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o,i,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===t&&(t={}),o=t.noExtraHeaders?{}:n._getExtraHeaders(),i={params:t.params,headers:Object.assign({},o,t.headers),mode:t.mode},!t.body){r.next=9;break}return r.next=6,Ve(e,Object.assign({},i,{body:t.body}));case 6:s=r.sent,r.next=12;break;case 9:return r.next=11,He(e,i);case 11:s=r.sent;case 12:return r.abrupt("return",s);case 13:case"end":return r.stop()}},r,this)}))()}};const Ge={UPDATE_PRELOAD:"updatePreload"};var We=class{constructor(){this._eventEmitter=new a.a,this._config={limits:{docImages:10}}}onNetworkResponse(e){const t=this._getUrlsToPreload(e);this._eventEmitter.emit(Ge.UPDATE_PRELOAD,t)}addListener(e,t){this._eventEmitter.addListener(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_getUrlsToPreload(e){let t=[];return e&&e.items&&(t=t.concat(e.items.map(e=>e.cardBackgroundWhiteImage).filter(Boolean).slice(0,this._config.limits.docImages))),t}};const qe={GET_BEFORE_NETWORK:["default"],GET_AFTER_NETWORK:["default","reload"],PUT_AFTER_NETWORK:["default","reload","no-cache"]},Ke={host:null,clid:null,referrerClid:null,referrerPlace:null,countryCode:null,zenFeatures:{},clientExperiments:null,retryTimeouts:[3e4,18e4],apiResponseValidator:()=>null,links:{[we.ONBOARDING]:null,[we.MORE]:null,[we.BULK]:null,[we.SUBS]:null,[we.PROFILE]:null,[we.BLOCKED]:null,[we.PREFERENCES]:null,[we.CATEGORIES]:null,[we.CATEGORY]:null,[we.SUGGEST]:null,[we.BLOCKED_SUGGEST]:null,[we.VIDEO_RECOMMEND]:null,[we.COUNTRY_LANG]:null,[we.COMMENTS_COUNTER]:null},userInfo:{oauthToken:null,login:null,deviceId:null,profileId:null,yandexuid:null,partnerId:null},cache:{type:Ce.SESSION_CACHE,namespace:"common",isPrefetchEnabled:!0},chromeExtensionId:null};var Ye=class{constructor(e){this._config=Ke,this._eventEmitter=new a.a,this._cache=new Pe(this,this._eventEmitter),this._network=new $e(this),this._preload=new We,this._queue=Promise.resolve(),this._lastUsedPackId=null,this._lastUsedPackShown=!1,this._retryableGetApiResponse=p((e,t)=>this._addToQueue(()=>this._getApiResponse(e,t))),e?this.configure(e):this._updateTimeouts()}_getApiRequestUrl(e){if(e===we.EXPORT){const e=this._config,t=e.host,n=e.clid,r=e.referrerClid,o=e.referrerPlace,i=e.countryCode,s=e.userInfo;if(!t)throw new Error("ZenApi host is not configured.");const a={clid:n||void 0,country_code:i||void 0,referrer_clid:r,referrer_place:o};return s&&s.partnerId&&(a.partner_user_id=s.partnerId.toString()),u(`${t}api/v3/launcher/export`,a)}if(e===we.PUBLISHER_CONFIG){const e=this._config,t=e.host,n=e.clid,r=e.referrerClid,o=e.referrerPlace,i=e.countryCode;if(!t)throw new Error("ZenApi host is not configured.");return u(`${t}api/v3/launcher/publisher-config`,{clid:n,country_code:i,referrer_clid:r,referrer_place:o})}const t=this._config.links[e];if(!t)throw new Error(`ZenApi ${e} url is not configured.`);return t}_getApiResponseFromNetworkAndMaybePutItToCache(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o,i,s,a,c,l,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return void 0===t&&(t={}),o=n._getApiRequestUrl(e),i=t.cache||"default",s=n._cache.getValidationParams(),r.next=6,n._network.makeApiRequest(o,t);case 6:return a=r.sent,c=Object.assign({},a,{received_at:Date.now()}),l=ve(c),n._config.apiResponseValidator(l),u=qe.PUT_AFTER_NETWORK.includes(i),n._config.cache&&u&&(n._cache.putNotShownPack(e,c,s).catch(e=>{}),n._preload.onNetworkResponse(l)),r.abrupt("return",{apiResponse:l,source:xe.NETWORK});case 13:case"end":return r.stop()}},r,this)}))()}_getApiResponseFromCacheBeforeNetwork(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._cache.getNotShownPack();case 2:if(r=n.sent,o=ve(r.apiResponse),e!==we.MORE||r.type!==we.EXPORT){n.next=6;break}throw new Error("Can not apply cache from export to more request.");case 6:if(t._lastUsedPackId!==o.id){n.next=8;break}throw new Error(`Pack '${o.id}' has already been used.`);case 8:return n.abrupt("return",{apiResponse:o,source:xe.CACHE_BEFORE_NETWORK});case 9:case"end":return n.stop()}},n,this)}))()}_getApiResponseFromCacheAfterNetwork(){var e=this;return o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._cache.getNotShownPack({byStoreTtl:!0});case 3:n=t.sent,t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,e._cache.getLastShownPack({byStoreTtl:!0});case 10:n=t.sent;case 11:return t.abrupt("return",{apiResponse:ve(n.apiResponse),source:xe.CACHE_AFTER_NETWORK});case 12:case"end":return t.stop()}},t,this,[[0,6]])}))()}_getApiResponse(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===t&&(t={}),o=t.cache||"default",!n._config.cache||!qe.GET_BEFORE_NETWORK.includes(o)){r.next=11;break}return r.prev=3,r.next=6,n._getApiResponseFromCacheBeforeNetwork(e);case 6:i=r.sent,r.next=11;break;case 9:r.prev=9,r.t0=r.catch(3);case 11:if(i){r.next=31;break}return r.prev=12,r.next=15,n._getApiResponseFromNetworkAndMaybePutItToCache(e,t);case 15:i=r.sent,r.next=31;break;case 18:if(r.prev=18,r.t1=r.catch(12),!n._config.cache||e!==we.EXPORT||!qe.GET_AFTER_NETWORK.includes(o)){r.next=29;break}return r.prev=21,r.next=24,n._getApiResponseFromCacheAfterNetwork();case 24:i=r.sent,r.next=29;break;case 27:r.prev=27,r.t2=r.catch(21);case 29:if(i){r.next=31;break}throw r.t1;case 31:return n._updateNotShownPack(),r.abrupt("return",i);case 33:case"end":return r.stop()}},r,this,[[3,9],[12,18],[21,27]])}))()}_hasValidNotShownPackInCache(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t._getApiResponseFromCacheBeforeNetwork(e);case 3:return n.abrupt("return",!0);case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",!1);case 9:case"end":return n.stop()}},n,this,[[0,6]])}))()}_updateNotShownPack(e){var t=this;let n=void 0===e?{}:e,r=n.invalidate,s=void 0!==r&&r,a=n.requestType;this._config.cache&&this._config.cache.isPrefetchEnabled&&this._addToQueue(o(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a||we.MORE,e.t0=s,e.t0){e.next=6;break}return e.next=5,t._hasValidNotShownPackInCache(n);case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=15;break}return e.prev=7,e.next=10,t._getApiResponseFromNetworkAndMaybePutItToCache(n);case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(7),i.a.warn(`Failed to update 'not-shown' pack: '${e.t1.message}'.`);case 15:case"end":return e.stop()}},e,this,[[7,12]])})))}_updateTimeouts(){const e=this._config.retryTimeouts;this._retryableGetApiResponse.setOptions({timeouts:e})}_addToQueue(e){const t=this._queue=this._queue.then(()=>e(),()=>e());return t.catch(e=>{}),t}configure(e){this._config="function"==typeof e?e(this._config):e,this._updateTimeouts()}getConfig(){return this._config}getPublisherConfig(e){void 0===e&&(e={});const t=e,n=t.options,r=s(t,["options"]);return this._retryableGetApiResponse.startSession(Object.assign({},r,{args:[we.PUBLISHER_CONFIG,n]}))}getExport(e){void 0===e&&(e={});const t=e,n=t.options,r=s(t,["options"]);return this._retryableGetApiResponse.startSession(Object.assign({},r,{args:[we.EXPORT,n]}))}getMore(e){return void 0===e&&(e={}),this._retryableGetApiResponse.startSession(Object.assign({},e,{args:[we.MORE]}))}getSimilar(e){return this._network.makeApiRequest(e).then(ge)}sendBannerStats(e){return this._network.makeApiRequest(e)}getProfile(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getApiRequestUrl(we.PROFILE),t.next=3,e._network.makeApiRequest(n);case 3:return r=t.sent,t.abrupt("return",fe(r));case 5:case"end":return t.stop()}},t,this)}))()}getSuggest(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(we.SUGGEST),n.next=3,t._network.makeApiRequest(r,{params:{search_text:e}});case 3:return o=n.sent,n.abrupt("return",ae(o));case 5:case"end":return n.stop()}},n,this)}))()}getBlockedSuggest(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(we.BLOCKED_SUGGEST),n.next=3,t._network.makeApiRequest(r,{params:{search_text:e}});case 3:return o=n.sent,n.abrupt("return",ae(o));case 5:case"end":return n.stop()}},n,this)}))()}getCategories(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getApiRequestUrl(we.CATEGORIES),t.next=3,e._network.makeApiRequest(n);case 3:return r=t.sent,t.abrupt("return",le(r));case 5:case"end":return t.stop()}},t,this)}))()}getCategory(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(we.CATEGORY).replace("__name__",e),n.next=3,t._network.makeApiRequest(r);case 3:return o=n.sent,n.abrupt("return",ce(o));case 5:case"end":return n.stop()}},n,this)}))()}getPreferences(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getApiRequestUrl(we.PREFERENCES),t.next=3,e._network.makeApiRequest(n);case 3:return r=t.sent,t.abrupt("return",ae(r));case 5:case"end":return t.stop()}},t,this)}))()}getVideoRecommend(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getApiRequestUrl(we.VIDEO_RECOMMEND),t.next=3,e._network.makeApiRequest(n);case 3:return r=t.sent,t.abrupt("return",ue(r));case 5:case"end":return t.stop()}},t,this)}))()}getCountryLang(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getApiRequestUrl(we.COUNTRY_LANG),t.next=3,e._network.makeApiRequest(n);case 3:return r=t.sent,t.abrupt("return",K(r));case 5:case"end":return t.stop()}},t,this)}))()}getCommentsCounters(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(we.COMMENTS_COUNTER),n.next=3,t._network.makeApiRequest(r,{body:{documentIds:e},mode:"cors",noExtraHeaders:!0});case 3:o=n.sent;try{o=JSON.parse(o)}catch(e){console.warn("apiResponse type JSON")}return n.abrupt("return",_e(o.counts));case 6:case"end":return n.stop()}},n,this)}))()}setCountryLang(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=n._getApiRequestUrl(we.COUNTRY_LANG),r.next=3,n._network.makeApiRequest(o,{body:{country_id:e,language_ids:t}});case 3:n.invalidateCache();case 4:case"end":return r.stop()}},r,this)}))()}prefetch(){this._updateNotShownPack()}invalidateCache(){this._updateNotShownPack({invalidate:!0})}packUsed(e){this._lastUsedPackId=e,this._lastUsedPackShown=!1}packShown(e){var t=this;this._config.cache&&this._addToQueue(o(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t._cache.getNotShownPack();case 3:r=n.sent,n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:if(!r){n.next=18;break}if(ve(r.apiResponse).id!==e){n.next=18;break}return n.prev=11,n.next=14,Promise.all([t._cache.removeNotShownPack(),t._cache.putLastShownPack(r.type,r.apiResponse,r.params)]);case 14:n.next=18;break;case 16:n.prev=16,n.t1=n.catch(11);case 18:e!==t._lastUsedPackId||t._lastUsedPackShown||(t._lastUsedPackShown=!0,t._updateNotShownPack()),t._eventEmitter.emit(ke.PACK_SHOWN,e);case 20:case"end":return n.stop()}},n,this,[[0,6],[11,16]])})))}getNotShownPackFromCache(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._cache.getNotShownPack(e);case 2:return r=n.sent,n.abrupt("return",ve(r.apiResponse));case 4:case"end":return n.stop()}},n,this)}))()}getLastShownPackFromCache(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._cache.getLastShownPack(e);case 2:return r=n.sent,n.abrupt("return",ve(r.apiResponse));case 4:case"end":return n.stop()}},n,this)}))()}setIntervalPackUpdater(e){var t=this;setInterval(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t._updateNotShownPack({requestType:we.EXPORT});case 1:case"end":return e.stop()}},e,this)})),e),this._updateNotShownPack({requestType:we.EXPORT})}on(){this._eventEmitter.on(...arguments)}off(){this._eventEmitter.off(...arguments)}addListener(){this._eventEmitter.addListener(...arguments)}removeListener(){this._eventEmitter.removeListener(...arguments)}};const Qe=1e3,Ze=e=>`${e}_${Date.now()}`,Je=e=>({stats:e.map(e=>{let t=e.event,n=e.params,r=e.ts,o=e.info;const i={event:t,data:n,ts:r};return o&&(i.info=o),i}),bulk_ts:Date.now()}),Xe=()=>{let e,t,n=0,r=0,o=!1;const i=new Promise(t=>{e=t}),s=new Promise(e=>{t=e}),a=()=>{o=!0,t()},c=()=>{++r===n&&a()};return{trigger:()=>(e(),r===n&&a(),s),extend:e=>{o||(n++,i.then(e).then(c,c))}}},et=(()=>{if("undefined"!=typeof document)return Boolean(document.cookie.match(new RegExp(atob("Ymx0c3I9MQ=="))))})();const tt=e=>{if(!(Array.isArray(e.items)&&e.items.length>0&&e.more&&e.more.link&&e.bulk&&e.bulk.link)){const t=`Invalid response from ZenApi${e.message?`: '${e.message}'`:""}.`,n=new Error(t);throw e.ttl&&(n.ttl=e.ttl),n}};var nt=new class extends Ye{constructor(){var e;return e=super(...arguments),this._bulkEvents=[],this._sendingTimeoutId=null,this._bulkEventBatch=null,e}_getApiResponseFromNetworkAndMaybePutItToCache(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o,i,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===t&&(t={}),et&&n._sendBulkEventsWithinQueue(),!et&&0!==n._bulkEvents.length&&!t.body){r.next=4;break}return r.abrupt("return",Ye.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(n,e,t));case 4:return o=n._bulkEvents,i=Je(o),s=Object.assign({},t,{body:i}),n._bulkEvents=[],r.prev=8,r.abrupt("return",Ye.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(n,e,s));case 12:throw r.prev=12,r.t0=r.catch(8),n._bulkEvents=n._bulkEvents.concat(o),r.t0;case 16:case"end":return r.stop()}},r,this,[[8,12]])}))()}_addToQueue(e,t){return void 0===t&&(t=!0),t&&(this._bulkEventBatch=null),super._addToQueue(e)}_sendBulkEvents(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e._bulkEvents.length){t.next=2;break}return t.abrupt("return");case 2:return n=e._getApiRequestUrl(we.BULK),r=e._bulkEvents,o=Je(r),e._bulkEvents=[],t.prev=6,t.next=9,e._network.makeApiRequest(n,{body:o});case 9:t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(6),e._bulkEvents=e._bulkEvents.concat(r),t.t0;case 15:case"end":return t.stop()}},t,this,[[6,11]])}))()}_planBulkEventsSending(){null===this._sendingTimeoutId&&(this._sendingTimeoutId=setTimeout(()=>{this._sendingTimeoutId=null,this._sendBulkEventsWithinQueue()},Qe))}_sendBulkEventsWithinQueue(){if(!this._bulkEventBatch){const e=this._bulkEventBatch=Xe();this._addToQueue(()=>e.trigger().then(()=>{this._bulkEventBatch===e&&(this._bulkEventBatch=null)}),!1)}this._bulkEventBatch&&this._bulkEventBatch.extend(()=>this._sendBulkEvents().catch(e=>{i.a.warn("Error while sending bulk events",e)}))}logBulkEvent(e){const t=e.event,n=e.bulkParams,r=e.statMeta,o=e.info,i={id:Ze(t),event:t,params:n,ts:Date.now(),info:o};this._bulkEvents.push(i),this._planBulkEventsSending(),this._eventEmitter.emit(ke.BULK_EVENT_LOGGED,Object.assign({},i,{statMeta:r}))}logNonBulkEvent(e,t){return this._network.makeApiRequest(e,{body:t})}}(e=>Object.assign({},e,{apiResponseValidator:tt}));const rt=new a.a,ot={STAT:"stat",PLACEHOLDER_UNMOUNT:"placeholderUnmount",PLACEHOLDER:"placeholder",PLACEHOLDER_SHOW:"placeholderShow",PRECACHE_MISS:"precacheMiss",TIMINGS:"timings",FIRST_PAINT:"firstPaint",PROMO_CARD:"promoCard",ROWS_CHANGED:"rowsChanged",CACHE_PUT:"cachePut",SOURCE_CHANGE:"sourceChange",POPUP_OPEN:"popupOpen",POPUP_CLOSE:"popupClose"},it=new a.a,st={NOTIFIERS_ENABLED:"zen-feed-show",NOTIFIERS_DISABLED:"zen-feed-hide"},at=new a.a,ct={FEED_CHANGED:"feedChanged"},lt="site_desktop",ut="zen_lib",dt="desktop_browser_rezen",pt="desktop_browser_with_morda";var ht=n(0),mt=n.n(ht),ft=n(13);function gt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _t=n(5),bt=n.n(_t),vt=bt.a.shape({trySubscribe:bt.a.func.isRequired,tryUnsubscribe:bt.a.func.isRequired,notifyNestedSubs:bt.a.func.isRequired,isSubscribed:bt.a.func.isRequired}),yt=bt.a.shape({subscribe:bt.a.func.isRequired,dispatch:bt.a.func.isRequired,getState:bt.a.func.isRequired});var Et=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",r=function(t){gt(o,t);var r=o.prototype;function o(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return r.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.render=function(){return ht.Children.only(this.props.children)},o}(ht.Component);return r.propTypes={store:yt.isRequired,children:bt.a.element.isRequired},r.childContextTypes=((t={})[e]=yt.isRequired,t[n]=vt,t),r}();function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ct=n(91),xt=n.n(Ct),St=n(36),Ot=n.n(St),It=n(45),Tt=null,Rt={notify:function(){}};var Nt=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=Rt}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=Tt,e=Tt},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==Tt&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Rt)},e}(),Pt=0,At={};function Mt(){}function Lt(e,t){var n,r;void 0===t&&(t={});var o=t,i=o.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,c=o.methodName,l=void 0===c?"connectAdvanced":c,u=o.renderCountProp,d=void 0===u?void 0:u,p=o.shouldHandleStateChanges,h=void 0===p||p,m=o.storeKey,f=void 0===m?"store":m,g=o.withRef,_=void 0!==g&&g,b=s(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),v=f+"Subscription",y=Pt++,E=((n={})[f]=yt,n[v]=vt,n),k=((r={})[v]=vt,r);return function(t){Ot()(Object(It.isValidElementType)(t),"You must pass a component to the function returned by "+l+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=a(n),o=wt({},b,{getDisplayName:a,methodName:l,renderCountProp:d,shouldHandleStateChanges:h,storeKey:f,withRef:_,displayName:r,wrappedComponentName:n,WrappedComponent:t}),i=function(n){function i(e,t){var o;return(o=n.call(this,e,t)||this).version=y,o.state={},o.renderCount=0,o.store=e[f]||t[f],o.propsMode=Boolean(e[f]),o.setWrappedInstance=o.setWrappedInstance.bind(kt(kt(o))),Ot()(o.store,'Could not find "'+f+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+f+'" as a prop to "'+r+'".'),o.initSelector(),o.initSubscription(),o}gt(i,n);var s=i.prototype;return s.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[v]=t||this.context[v],e},s.componentDidMount=function(){h&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},s.componentWillReceiveProps=function(e){this.selector.run(e)},s.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},s.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=Mt,this.store=null,this.selector.run=Mt,this.selector.shouldComponentUpdate=!1},s.getWrappedInstance=function(){return Ot()(_,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+l+"() call."),this.wrappedInstance},s.setWrappedInstance=function(e){this.wrappedInstance=e},s.initSelector=function(){var t=e(this.store.dispatch,o);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},s.initSubscription=function(){if(h){var e=(this.propsMode?this.props:this.context)[v];this.subscription=new Nt(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},s.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(At)):this.notifyNestedSubs()},s.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},s.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},s.addExtraProps=function(e){if(!(_||d||this.propsMode&&this.subscription))return e;var t=wt({},e);return _&&(t.ref=this.setWrappedInstance),d&&(t[d]=this.renderCount++),this.propsMode&&this.subscription&&(t[v]=this.subscription),t},s.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(ht.createElement)(t,this.addExtraProps(e.props))},i}(ht.Component);return i.WrappedComponent=t,i.displayName=r,i.childContextTypes=k,i.contextTypes=E,i.propTypes=E,xt()(i,t)}}var Dt=Object.prototype.hasOwnProperty;function jt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Bt(e,t){if(jt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Dt.call(t,n[o])||!jt(e[n[o]],t[n[o]]))return!1;return!0}var Ft=n(57);function Ut(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function zt(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Ht(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=zt(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=zt(o),o=r(t,n)),o},r}}var Vt=[function(e){return"function"==typeof e?Ht(e):void 0},function(e){return e?void 0:Ut(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?Ut(function(t){return Object(Ft.a)(e,t)}):void 0}];var $t=[function(e){return"function"==typeof e?Ht(e):void 0},function(e){return e?void 0:Ut(function(){return{}})}];function Gt(e,t,n){return wt({},n,e,t)}var Wt=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,s=!1;return function(t,n,a){var c=e(t,n,a);return s?o&&i(c,r)||(r=c):(s=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return Gt}}];function qt(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function Kt(e,t,n,r,o){var i,s,a,c,l,u=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,h=!1;function m(o,h){var m=!d(h,s),f=!u(o,i);return i=o,s=h,m&&f?(a=e(i,s),t.dependsOnOwnProps&&(c=t(r,s)),l=n(a,c,s)):m?(e.dependsOnOwnProps&&(a=e(i,s)),t.dependsOnOwnProps&&(c=t(r,s)),l=n(a,c,s)):f?function(){var t=e(i,s),r=!p(t,a);return a=t,r&&(l=n(a,c,s)),l}():l}return function(o,u){return h?m(o,u):function(o,u){return a=e(i=o,s=u),c=t(r,s),l=n(a,c,s),h=!0,l}(o,u)}}function Yt(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=s(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),c=r(e,i),l=o(e,i);return(i.pure?Kt:qt)(a,c,l,e,i)}function Qt(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Zt(e,t){return e===t}var Jt=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Lt:n,o=t.mapStateToPropsFactories,i=void 0===o?$t:o,a=t.mapDispatchToPropsFactories,c=void 0===a?Vt:a,l=t.mergePropsFactories,u=void 0===l?Wt:l,d=t.selectorFactory,p=void 0===d?Yt:d;return function(e,t,n,o){void 0===o&&(o={});var a=o,l=a.pure,d=void 0===l||l,h=a.areStatesEqual,m=void 0===h?Zt:h,f=a.areOwnPropsEqual,g=void 0===f?Bt:f,_=a.areStatePropsEqual,b=void 0===_?Bt:_,v=a.areMergedPropsEqual,y=void 0===v?Bt:v,E=s(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),k=Qt(e,i,"mapStateToProps"),w=Qt(t,c,"mapDispatchToProps"),C=Qt(n,u,"mergeProps");return r(p,wt({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:k,initMapDispatchToProps:w,initMergeProps:C,pure:d,areStatesEqual:m,areOwnPropsEqual:g,areStatePropsEqual:b,areMergedPropsEqual:y},E))}}();var Xt=n(1);var en=class{constructor(e){this._data=e}exists(e){return this._data.hasOwnProperty(e)}isExp(e){return this.exists(e)&&Boolean(this._data[e].exp)}isRef(e){return this.exists(e)&&Boolean(this._data[e].ref)}findExps(e){return Object.keys(this._data).filter(t=>A.get(this._data,[t,"exp"])&&t.match(e))}_execFindExp(e){return this.findExps(e).map(t=>e.exec(t))}getFirstGroupByRegexp(e){return this._execFindExp(e).map(e=>(e[0],e[1]))}},tn=n(14);class nn{constructor(e){this._config=e}static _merge(e,t){if(void 0===t)return e;if("object"!=typeof e)return typeof t==typeof e?t:e;for(var n=Object.keys(e),r=0;r<n.length;r++){const o=n[r];t&&typeof e[o]==typeof t[o]&&(e[o]=nn._merge(e[o],t[o]))}return e}static _cloneDeep(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}safeGet(e,t){try{const n=nn._cloneDeep(A.get(this._config,e));return nn._merge(t,n)}catch(e){return Object(tn.a)("safeGet method of DefinitionConfig:",e),t}}unsafeGet(e,t){try{const n=A.get(this._config,e);return void 0===n?t:nn._cloneDeep(n)}catch(e){return Object(tn.a)("unsafeGet method of DefinitionConfig:",e),t}}}var rn=nn;const on=e=>"/"===e[0]?e.slice(1):e;var sn=n(35),an=n(90);const cn=e=>e.params.integration,ln=e=>e.params.product,un=(e,t)=>t===lt||"site_mobile"===t,dn=e=>Boolean(e.channel&&!e.channel.noChannel),pn=(Object(Xt.createSelector)(e=>{return e.links.login_tmpl},e=>{return e.router.location.pathname},(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(on(t))):null),Object(Xt.createSelector)(e=>{return e.links.logout_tmpl},e=>{return e.router.location.pathname},(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(on(t))):null),e=>e.params.isNarrativeFeed),hn=e=>e.params.isNativeFeed,mn=(Object(Xt.createSelector)(hn,pn,dn,e=>{return"/"===e.router.location.pathname},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(Boolean)}),Object(Xt.createSelector)(e=>{return e.params.experimentsData},e=>new en(e))),fn=Object(Xt.createSelector)(e=>{return e.params.clientDefinition},e=>new rn(e)),gn=(Object(Xt.createSelector)(e=>{return e.context.partner},e=>{return(e=>{if("undefined"==typeof window)return()=>{};const t=function t(n){return void 0===n&&(n=3),new Promise((r,o)=>{const s=window[`yaCounter${e}`];s?r(s):0===n?(i.a.error(`metrikaGoals: Metrika counter ${e} not found`),o()):setTimeout(()=>t(n-1).then(r,o),3e3)})}();return n=>{t.then(e=>{try{e.reachGoal(n)}catch(e){i.a.error("metrikaGoals: Error while reaching metrika goal",e)}}).catch(()=>{i.a.error(`metrikaGoals: Goal with name ${n} don't send to metrika because counter ${e} don't init`)})}})(Object(an.getPartnerMetrikaCounterIds)(e))}),Object(Xt.createSelector)(cn,ln,(e,t)=>un(0,t)),Object(Xt.createSelector)(dn,pn,(e,t)=>!(e||t))),_n=Object(Xt.createSelector)(pn,hn,dn,(e,t,n)=>!(e||t||n)),bn=(Object(Xt.createSelector)(cn,ln,mn,(e,t,n)=>un(0,t)&&n.isExp("should_reset_scroll_on_unload")),Object(Xt.createSelector)(e=>e.iface.isOpenCardScrollEnabled,mn,(e,t)=>e&&t.isExp("should_scroll_on_open_card")&&!t.isExp("ab:rezen_cards25:rezen_cards25_b")&&!t.isExp("ab:rezen_cards25:rezen_cards25_c"))),vn=Object(Xt.createSelector)(e=>e.params.teethType,mn,(e,t)=>"string"==typeof e?e:t.isExp("zen_comtr_color")?"color":"white"),yn=Object(Xt.createSelector)(mn,e=>e.isExp("lazy_images")||e.isExp("ab:rezen_lazy_images:enable")||e.isExp("zen_lib_lazy_images")),En=Object(Xt.createSelector)(e=>e.params.teethType,mn,(e,t)=>!!e||t.isExp("site_desktop_turkey_morda_teeth")),kn=Object(Xt.createSelector)(e=>e.params.zenFeatures.color_theme,e=>e===sn.REZEN_COLOR_THEMES.WHITE?sn.REZEN_COLOR_THEMES.LIGHT:e),wn=["top_fixed","top_hiding","bottom"],Cn=Object(Xt.createSelector)(mn,e=>{const t=wn.some(t=>e.isExp(`ab:rezen_unified:${t}`)),n=e.isExp("ab:rezen_new_menu:rezen_new_menu");return t||n}),xn=Object(Xt.createSelector)(mn,Cn,e=>e.isExp("ab:mobile_zen_one_other_countries:mobile_zen_one_other_countries")),Sn=Object(Xt.createSelector)(Cn,xn,(e,t)=>Boolean(e||t)),On=(Object(Xt.createSelector)(cn,e=>["ya_search_app_ios"].includes(e)),Object(Xt.createSelector)(ln,mn,(e,t)=>e===lt||"zen_modal_lib"===e?t.isExp("ab:site_desktop_interests:site_desktop_interests_enabled")||t.isExp("ab:site_desktop_interests_staff:site_desktop_interests_staff_enabled"):"site_mobile"===e&&(t.isExp("ab:site_mobile_interests:site_mobile_interests_enabled")||t.isExp("ab:site_mobile_interests_staff:site_mobile_interests_staff_enabled"))),Object(Xt.createSelector)(e=>e.params.zenFeatures.color_theme,mn,(e,t)=>e===sn.REZEN_COLOR_THEMES.WHITE||t.isExp("ab:rezen_desktop_background:rezen_desktop_background_white"))),In=(e,t)=>{const n=A.get(W[e],t),r=A.get(W.common,t);return n&&r&&Array.isArray(n)?n.concat(r):n||r},Tn=e=>{switch(e){case z:return 1;case H:return 2;case V:return 3}},Rn=((e,t)=>n=>{let r=n.items,o=n.itemsOrder;if(e===o)return t;const i=o.map(e=>{const t=r[e];return{id:e,type:t.type,ad:t.ad,commentsDocumentId:t.commentsDocumentId}});return e=o,t=i,i})(),Nn=Object(Xt.createSelector)((e,t)=>e.feed.itemsOrder.indexOf(t),e=>e),Pn=e=>{const t=e.gridType;return W[t].columnCount},An="Placeholder",Mn="Zen",Ln=(e,t)=>{return(t?e.slice(0,t):e).map(e=>e.hasPlaceholder?An:Mn)},Dn=Object(Xt.createSelector)(Rn,e=>e.gridType,Pn,(e,t,n)=>{const r=[],o={},s=In(t,"layoutableTypes");let a=-1;return e.forEach(e=>{let c=e.id,l=e.type,u=e.ad,d=e.commentsDocumentId;const p=s.includes(l);p&&a++;const h=p?((e,t)=>{switch(t){case"one_column":return z;case"two_column":{const t=e%4;return 0===t||1===t?z:H}case"two_column_small_cards":return z;case"three_column":return[3,6].includes(e%7)?H:z;case"three_column_first_big":return[0,3].includes(e%7)?H:z;default:return null}})(a,t):V;In(t,["availableSizes",l]).includes(h)||i.a.warn("Invalid item size:",h,l,c);const m=Tn(h);let f=r[r.length-1];f||(f=[],r.push(f));const g={id:c,type:l,size:h,ad:u,commentsDocumentId:d};if(f.reduce((e,t)=>{let n=t.size;return e+Tn(n)},0)+m<=n)f.push(g);else{const e=[g];r.push(e),"placeholder"===l&&(e.hasPlaceholder=!0)}g.row=r.length-1,o[c]=g}),{elements:o,rows:r}}),jn=Object(Xt.createSelector)(Rn,e=>e.filter(e=>{let t=e.type;return"placeholder"===t||"card-placeholder"===t}).map(e=>{return e.id})),Bn=Object(Xt.createSelector)(jn,(e,t)=>t,(e,t)=>e.indexOf(t)),Fn=Object(Xt.createSelector)(ln,e=>e.params.isAdaptiveDesign,(e,t)=>[dt,pt].includes(e)?"yabro-1":t?"generic":null),Un=(e,t)=>e.feed.items[t].parentId,zn=Object(Xt.createSelector)(Un,(e,t)=>{const n=Dn(e.feed),r=Un(e,t),o=n.elements[r].row;return n.rows[o]},e=>Pn(e.feed),(e,t,n)=>{const r=t[0].id,o=t[t.length-1].id;if(1===n)return $.CENTER;switch(e){case r:return $.LEFT;case o:return $.RIGHT;default:return $.CENTER}}),Hn=Object(Xt.createSelector)(mn,e=>e.isExp("zen_lib_rtb"));var Vn=()=>{const e=new function(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})};let t,n,r=[],o=!1;const i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.push(t),o&&s()},s=()=>{r.some(e=>{let r=e[0],o=e[1];return t===r&&n===o})?(at.off(ct.FEED_CHANGED,i),e.resolve()):r=[]};return at.on(ct.FEED_CHANGED,i),r=>(o=!0,t=Dn(r.feed),n=r.feed.displayedRowsNumber,s(),e.promise)};var $n=e=>new Promise(t=>{setTimeout(t,e)});function Gn(e,t,n){return{type:n,bulkStat:{bulkParams:e.bulkParams,statEvents:e.statEvents,statEvent:t},payload:{id:e.id}}}const Wn=e=>Object.assign({},e,{broadcastable:!0}),qn=e=>e,Kn=(e,t,n)=>{let r=void 0;const o=`${e=e.toUpperCase()}_REQUEST`,s=`${e}_SUCCEED`,a=`${e}_FAILURE`,c={status:"pending",data:void 0};return{action:function(){for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return n=>{n({type:o,meta:c});const l=r=t(...c).then(e=>{l===r&&n({type:s,payload:e,meta:c})},t=>{l===r&&(i.a.error(`Failed to get ${e}:`,t),n({type:a,meta:c}))})}},reducer:function(e,t){switch(void 0===e&&(e=c),t.type){case o:return Object.assign({},e,{status:"pending"});case s:{const r=t.payload;return Object.assign({},e,{status:"success",data:n(r)})}case a:return Object.assign({},e,{status:"error"});default:return e}},request:o,succeed:s,failure:a}},Yn=function(e,t){void 0===t&&(t=1e3);const n=((e,t)=>{let n=null,r=null,o=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return o=s,Promise.resolve(n).then(()=>(o&&(n=$n(t),r=e(...o),o=null),r))}})(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t(e(...r))},t);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>n(e,...t)}},Qn=function(e,t,n,r,o){void 0===r&&(r=qn),void 0===o&&(o=1e3);const i=Kn(e,t,r),a=i.action,c=s(i,["action"]),l=Yn(a,o),u=((e,t)=>(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(n,o)=>{const i=t(o(),...r),s=i.status,a=i.data;return"success"!==s?n(e(...r)):Promise.resolve(a)}}))(l,n);return Object.assign({action:u,forceAction:l},c)},Zn=e=>(t,n)=>{const r=Object.keys(e).reduce((t,r)=>(t[r]=function(t){return void 0===t&&(t={}),e[r](Object.assign({},n,t))},t),{});return Object(Ft.a)(r,t)},Jn="undefined"!=typeof window&&void 0!==window.localStorage;var Xn=Jn?{isAvailable:Jn,getItem(e){try{return window.localStorage.getItem(e)}catch(e){return console.error(e),null}},setItem(e,t){try{return window.localStorage.setItem(e,t),!0}catch(e){return console.error(e),!1}},removeItem(e){try{return window.localStorage.removeItem(e),!0}catch(e){return console.error(e),!1}}}:{isAvailable:!1,getItem:e=>null,setItem:(e,t)=>!1,removeItem:e=>!1};let er,tr;"undefined"!=typeof document&&(void 0!==document.hidden?(er="visibilityState",tr="visibilitychange"):void 0!==document.mozHidden?(er="mozVisibilityState",tr="mozvisibilitychange"):void 0!==document.msHidden?(er="msVisibilityState",tr="msvisibilitychange"):void 0!==document.webkitHidden&&(er="webkitVisibilityState",tr="webkitvisibilitychange"));const nr=()=>!er||"visible"===document[er],rr=e=>{if(!tr)return()=>{};const t=()=>{e(nr())};return document.addEventListener(tr,t),()=>{document.removeEventListener(tr,t)}};var or=()=>Me(200).then(()=>new Promise(e=>{if(Boolean(er)&&nr())return void e();let t;const n=()=>{t(),document.removeEventListener("scroll",n),document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),e()};t=rr(e=>{e&&n()}),document.addEventListener("scroll",n),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n)}));const ir=()=>e=>{e({type:"HIDE_MORE_BUTTON",payload:null})},sr=e=>t=>{t({type:"SWITCH_MORE_BUTTON_OFFSET_MODE",payload:{offsetMode:e}})},ar=()=>e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})},cr=e=>{return Wn({type:e?"VIDEO_AUTOPLAY_ON":"VIDEO_AUTOPLAY_OFF",payload:null})},lr=()=>(e,t,n)=>{let r=n.zenApi;const o=(e=>"undefined"!=typeof document&&window["abr_native"===e?"yandex.mobileZen":"ZENKIT"])(t().params.product);o?o.onPageStatusChanged(!0):r.invalidateCache()},ur=(e,t)=>({type:"MERGE_STATE_BRANCH",payload:{branchName:e,branchState:t}}),dr=e=>ur("links",e),pr=e=>ur("params",e),hr=e=>ur("user",e),mr=e=>Object.values(e.sources),fr=Object(Xt.createSelector)(mr,e=>e&&e.filter(e=>{return"subscribed"===e.status})),gr=(Object(Xt.createSelector)(mr,e=>e&&e.filter(e=>{let t=e.status,n=e.isUnsubscribedInCurrentSession;return"subscribed"===t||n})),Object(Xt.createSelector)(mr,e=>e&&e.filter(e=>{return"blocked"===e.status})),Object(Xt.createSelector)(mr,e=>e&&e.filter(e=>{let t=e.status,n=e.isUnblockedInCurrentSession;return"blocked"===t||n})),(e,t)=>e.map(e=>t[e]).filter(Boolean)),_r=e=>Object(Xt.createSelector)(e,e=>e.sources,(e,t)=>{if(e)return gr(e,t)}),br=(_r(e=>e.categories.data&&e.categories.data.sources),_r((e,t)=>t),_r(e=>e.search.search.data),_r(e=>e.onboarding.data),Object(Xt.createSelector)(e=>{return e.linkBoard.sources},e=>{return e.linkBoard.groups},(e,t)=>Array.isArray(t)?t.map(t=>Object.assign({},t,{sources:gr(t.source_ids,e)})):null),_r((e,t)=>e.category[t]&&e.category[t].data&&e.category[t].data.sources),Object(Xt.createSelector)(e=>e.channel,e=>e.sources,e=>e.feed,(e,t,n)=>{let r;return(r=e&&e.id)?t[r]:null}));function vr(e,t){return Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e)}var yr=class{constructor(e){const t=e.bulkParams,n=e.statEvents;t&&n||i.a.warn("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:",t,n),this._params=e}getParams(){return this._params}log(e,t){const n=this._params,r=n.statEvents,o=n.meta;let s=this._params.bulkParams,a=r[e];if(!a)return void i.a.warn("Invalid `statEvent`: %s. Request not sent.",e);const c=t&&t.global?t.global:{};s=vr(s,Object.assign({},{},c));const l=t&&t.local;l&&(a=vr(a,l)),nt.logBulkEvent({event:a,bulkParams:s,statMeta:o,info:t&&t.info})}};const Er=(e,t)=>Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e),kr={log:()=>{}},wr=(e,t,n)=>{if(!e||!t)return i.a.warn(new Error("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:"),e,t),kr;return{log:function(r,o){let s=void 0===o?{}:o,a=s.local,c=void 0===a?{}:a,l=s.global,u=void 0===l?{}:l,d=s.rename,p=void 0===d?{}:d,h=s.info;const m=t[p[r]||r];return m?nt.logBulkEvent({event:Er(m,c),bulkParams:Er(e,u),statMeta:n,info:h}):(i.a.warn("Invalid `statEvent`: %s. Request not sent.",r),kr)}}},Cr=Object.keys,xr=Object(Xt.createSelectorCreator)(Xt.defaultMemoize,(e,t)=>Cr(e).filter(n=>e[n]===t[n]).length===Cr(t).length),Sr=e=>xr(e=>e,(e,t)=>t,e),Or=e=>{const t=Sr((t,n)=>{return{log:function(r,o){return void 0===o&&(o={}),n.log(r,Object.assign({},o,{[e]:Object.assign({},o[e],t)}))}}});return e=>n=>t(e,n)},Ir=Or("local"),Tr=(Or("global"),Or("rename")),Rr=function(e){void 0===e&&(e="");const t=Sr((t,n)=>{return{log:function(t,r){void 0===r&&(r={});const o=r.local||{},i=o.__els__||"";return n.log(t,Object.assign({},r,{local:Object.assign({},o,{__els__:i?`${e}.${i}`:e})}))}}});return n=>t(e,n)},Nr=()=>Object(Xt.createSelector)(e=>e.id,(e,t)=>t,e=>e.statParams,e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,(e,t,n,r,o,i)=>{if(t&&n){const r=n[t],o=r.statEvents,s=r.bulkParams;return new yr({id:e,statEvents:o,bulkParams:s,meta:{rowIndex:i}})}return r&&o?new yr({id:e,statEvents:r,bulkParams:o,meta:{rowIndex:i}}):null}),Pr=()=>Object(Xt.createSelector)(e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,e=>e.source?e.source.statParams:e.statParams,e=>e.source?e.source.statEvents:e.statEvents,e=>e.source?e.source.bulkParams:e.bulkParams,e=>e.place,(e,t,n,r,o,s,a)=>{if(r){const e=r[a];return e?wr(e.bulkParams,e.statEvents,{rowIndex:n}):(i.a.error(new Error(`place ${a} not found in statParams`)),wr())}return o&&s?wr(s,o,{rowIndex:n}):e&&t?wr(t,e,{rowIndex:n}):wr()}),Ar=["id","source","type","feedback","complaints","complaintsSendedAt","title","domainTitle","bulkParams","statEvents"],Mr=(()=>{const e=[];return(t,n)=>{return(t.feed.items[n]&&t.feed.items[n].customUserFeedbackData||{}).questions||e}})(),Lr=Object(Xt.createSelector)(Mr,e=>e.filter(e=>"zoloka_interest_feedback"===e.type)[0]||null),Dr=Object(Xt.createSelector)(Mr,e=>e.filter(e=>"extended_dislike_feedback"===e.type)[0]||null),jr=((e,t)=>{let n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(n),n=setTimeout(()=>{n=null,e(...o)},t)}})(()=>nt.invalidateCache(),2500),Br=Object(Xt.createSelector)(Dr,e=>{if(e){const t=Nr(),n=(e.answers||[]).map(e=>{const n=t(e.stats);return Object.assign({},e,{onBlock:()=>{n.log("feedback_block"),jr()},onUnblock:()=>{n.log("feedback_cancel_block"),jr()}})});return Object.assign({},e,{answers:n})}}),Fr=()=>Object(Xt.createSelector)(kn,pn,hn,br,(e,t)=>Dn(e.feed).elements[t].size,e=>e.params.complaints&&e.params.complaints.reasons,e=>e.params.isMobile,e=>e.sources,Br,...Ar.map(e=>(t,n)=>t.feed.items[n][e]),function(e,t,n,r,o,i,s,a,c){for(var l=arguments.length,u=new Array(l>9?l-9:0),d=9;d<l;d++)u[d-9]=arguments[d];const p=u.reduce((e,t,n)=>{return e[Ar[n]]=t,e},{}),h=p.feedback,m=p.source;return Object.assign({},p,{source:a[m],size:o,theme:e,complaintReasons:i,isMobile:s,dislikeQuestion:c,isEnabled:!(t||n||r&&"interest"!==r.type),isNegativeFeedback:h&&"liked"!==h})}),Ur=["id","feedback","isMittensJumping","bulkParams","statEvents"],zr=()=>Object(Xt.createSelector)(e=>e.params.isMobile,pn,hn,...Ur.map(e=>(t,n)=>t.feed.items[n][e]),function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];return o.reduce((e,t,n)=>{return e[Ur[n]]=t,e},{isEnabled:!(t||n),size:e?"medium":"small"})}),Hr=["id","type","statEvents","subscribeTriggerEvent","feedback","read"];var Vr=function(e,t,n){var r=this;let o,i;return void 0===t&&(t=250),function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];const l=n||r,u=Date.now();clearTimeout(i),o&&u<o+t?i=setTimeout(()=>{o=u,e.apply(l,a)},t):(o=u,e.apply(l,a))}},$r=n(89);const Gr=250;let Wr,qr,Kr=[],Yr=[],Qr=[],Zr=[],Jr=[],Xr=!1,eo=0,to=!1;const no=n.n($r).a.hasSupport;let ro;function oo(e,t){let n=e.length-1;for(;n>=0;n--)t(e[n])}function io(e,t){const n=[];let r;for(let o=0,i=e.length;o!==i;o++)t(r=e[o])&&n.push(r);return n}let so=0;function ao(){return`__scrollEv${++so}__`}const co={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0};let lo=Io(co),uo={},po=!1;const ho=[];function mo(){const e=Io(lo);lo=So(e)}const fo=(e,t,n)=>{Yr.push({scroll:e.scroll,name:e.name||ao(),bottomEdge:e.bottomEdge,data:n,callback:t,_state:e.defaultState||0}),e.precise&&function(e,t){ho.push([e,t])}(e.scroll-700,e.scroll+700)},go=(e,t,n)=>{Qr.push({delta:e.delta,name:e.name||ao(),direction:e.direction>0?1:-1,anyDirection:e.anyDirection,endTrigger:e.endTrigger,once:e.once,onceDebounce:e.onceDebounce,data:n,callback:t})},_o=()=>{Xr=!0},bo=()=>{mo(),Xr=!1};const vo=()=>{to?window.addEventListener("message",e=>{let t=e.data;if("scroll"===t.type){const e=t.scrollTop,n=t.winHeight;Wr=e,qr=n,Eo()}}):(no?document.addEventListener("scroll",Eo,{passive:!0}):requestAnimationFrame(wo),((e,t,n)=>{const r=e.name||ao();Zr.push({name:r,timeout:e.timeout||0,data:n,callback:t,_lastTriggerTime:0})})({},e=>{!function(e){let t=!1;oo(ho,n=>{let r=n[0],o=n[1];e>=r&&e<=o&&(t=!0)}),po=t}(e.scroll)}))};function yo(e,t,n){return n.fromBottom?e<=n.scroll||!!(n.bottomEdge&&t<=n.scroll):e>=n.scroll||!!(n.bottomEdge&&t>=n.scroll)}function Eo(){wo(Date.now())}function ko(e,t){no&&(t||(clearTimeout(ro),ro=setTimeout(()=>wo(Date.now(),!0),Gr))),eo=e;const n=Io(lo),r=lo=So(n,t),o=r.scroll,i=r.scrollBottomEdge;!0===lo.scrolling&&n.scrolling,(!0===lo.scrolling||t)&&function(e){Co(e,!1),xo(e,!1)}(lo),!1===lo.scrolling&&!0===n.scrolling&&function(e){Co(e,!0),xo(e,!0),oo(Jr,e=>{clearTimeout(e._timeout),e.callback()}),Jr=[]}(lo),function(e,t){oo(Kr,n=>{const r=yo(e,t,n);if(r){if(n.onceDebounce&&n._triggeredDebounce)return;Oo(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)}),Kr=io(Kr,e=>!(e._triggered&&e.once))}(o,i),function(e,t){oo(Yr,n=>{0===n._state&&yo(e,t,n)&&(Oo(n.name,{state:1,data:n.data},n.callback),To(n.name)||(n._state=1)),1!==n._state||yo(e,t,n)||(Oo(n.name,{state:0,data:n.data},n.callback),To(n.name)||(n._state=0))})}(o,i),no||requestAnimationFrame(wo)}const wo=po?ko:Vr(ko,30);function Co(e,t){const n=io(Qr,e=>!!e.endTrigger===t),r=(t?e.scrollEndPosition:e.scroll)-e.scrollStartPosition,o=Math.abs(r),i=r>0?1:-1;oo(n,e=>{e.onceDebounce&&uo[e.name]||o>=e.delta&&(e.direction===i||e.anyDirection)&&(Oo(e.name,{data:e.data},e.callback),e._triggered=!0,uo[e.name]=!0)}),Qr=io(Qr,e=>!(e._triggered&&e.once))}function xo(e,t){const n=Date.now();oo(Zr,r=>{(n-r._lastTriggerTime>=r.timeout||t)&&(Oo(r.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:r.data},r.callback),r._lastTriggerTime=n)})}function So(e,t){const n=Io(co),r=to?Wr:window.pageYOffset,o=Date.now();return n.scroll=r,n.scrollBottomEdge=r+(to?qr:window.innerHeight),n.scroll!==e.scroll?n.lastScrollChangeTime=o:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,o-n.lastScrollChangeTime>Gr||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,!0===n.scrolling&&!1===e.scrolling&&(n.scrollStartPosition=r,uo={}),!0===n.scrolling&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),!1===n.scrolling&&!0===e.scrolling&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=r),n}function Oo(e,t,n){To()||n&&n(t)}function Io(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function To(){return Xr}const Ro=200,No=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;var Po=new class{_loop(e){this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=No(this.timeElapsed,this.start,this.distance,Ro),window.scrollTo(0,this.next),this.timeElapsed<Ro?requestAnimationFrame(e=>{this._loop(e)}):this._end()}scrollTo(e){let t=void 0===e?{}:e,n=t.top,r=void 0===n?0:n,o=t.animate,i=void 0===o||o;return new Promise(e=>{const t=Math.max(0,r),n=()=>{const n={scroll:t,scrollBottomEdge:t+window.innerHeight};window.scrollTo(0,this.start+this.distance),this.timeStart=0,this.enableScrollEvents(),this.scrollPosition=n,e(t)};this._end=n,this.start=window.pageYOffset,this.distance=t-this.start,this.disableScrollEvents(),i?requestAnimationFrame(e=>{this._loop(e)}):(window.scrollTo(0,t),n())})}disableScrollEvents(){_o()}enableScrollEvents(){setTimeout(()=>bo(),500)}},Ao=e=>{if(!e.getClientRects().length)return 0;const t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset};var Mo=function(e){return void 0===e&&(e=!1),_o(),(()=>{const e=document.querySelector(".zen-app");return Promise.resolve(Ao(e))})().then(t=>Po.scrollTo({top:t+2,animate:e})).then(()=>Me(1e3)).then(()=>bo())};const Lo=(e,t,n)=>({type:"RECEIVE_ITEMS",payload:{items:e,insertOnTop:t,shouldRefreshFeed:n}}),Do=function(e){let t=void 0===e?{}:e,n=t.insertOnTop,r=void 0!==n&&n,o=t.shouldRefreshFeed,s=void 0!==o&&o,a=t.onAfterPackInsert;return(e,t,n)=>{let o=n.zenApi,c=n.ttlController;return o.getMore({onTryComplete(n){const l=()=>{if(!n.isLastSession()){if(n.isRejected)throw n.error;return}if(n.isRejected){if(!(0!==n.tryNumber)){const n=t();dn(n)||e((e,t)=>{const n=t().iface,r=n.isErrorMessageVisible,o=n.isNotifiersDisabled;r||o||(e(e=>{e({type:"HIDE_MORE_BUTTON",payload:null})}),e({type:"SHOW_ERROR_MESSAGE",payload:null}),Me(5e3).then(()=>e(e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})})))})}throw c&&c.apiResponseReceiveFailed(we.MORE,n.error),i.a.warn(n.error.message),n.error}const l=a?Vn():null,u=n.value.apiResponse;if(c&&c.apiResponseReceived(we.MORE,u),e(dr({[we.MORE]:u.more.link||null})),e(Lo(u.items,r,s)),u.id&&o.packUsed(u.id),l)return l(t())};let u;try{u=l()}catch(e){throw a&&a(!1),e}a&&(u?u.then(()=>a(!0)):a(!1))}}).retriesResult.catch(e=>{i.a.warn(`GetMore retries failed: '${e.message}'.`)})}},jo=(e,t)=>(n,r)=>{const o=r().feed,i=Dn(o),s=i.rows,a=i.elements[e].row,c=s[a];if(zo(s[a+1],G)){const e=s[a+1][0].id,t=o.items[e];n(Bo(t.parentId))}n({type:"INSERT_ITEM_AFTER",payload:{afterId:c[c.length-1].id,item:t}}),n({type:"LINK_CHILD_ITEM",payload:{itemId:e,childItemId:t.id}})},Bo=e=>(t,n)=>{const r=n().feed.items[e];r.childItemId&&(t({type:"UNLINK_CHILD_ITEM",payload:{itemId:e}}),t({type:"REMOVE_ITEM",payload:{itemId:r.childItemId}}))},Fo=e=>({type:"SET_DISPLAYED_ROWS_NUMBER",payload:{displayedRowsNumber:e}}),Uo=e=>(t,n)=>{const r=n(),o=Un(r,e);t({type:"ANSWER_USER_QUESTION",payload:{id:e,parentId:o}})};function zo(e,t){return!!e&&e.some(e=>"string"==typeof t?e.type===t:t.has(e.type))}const Ho=[],Vo=e=>(function(){var t=o(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"INIT_COMMENTS",payload:e});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}})(),$o={links:dr,params:pr,shared:e=>ur("shared",e),context:e=>ur("context",e),auth:e=>ur("auth",e),user:hr},Go=(e,t)=>{const n=A.get(e,"screens.items");if(!n)return null;const r=n.filter(e=>{return e.type===t});return 1!==r.length?null:r[0].source},Wo=e=>(t,n,r)=>{let o=r.zenApi,i=r.ttlController;if(i&&i.apiResponseReceived(we.EXPORT,e),t({type:"CLEAR_FEED"}),e.items){t((e=>t=>{t((e=>({type:"SET_GRID_TYPE",payload:{gridType:e}}))(e)),t(Fo(In(e,"initialDisplayedRowsNumber")))})(A.get(e,"grid_type.name"))),t(Lo(e.items))}if(e.channel){t((e=>({type:"SOURCE_MERGE",payload:e}))((e=>{let t=e.source,n=e.bulk_params,r=e.stat_events;return Object.assign({},Z(t),{bulkParams:n,statEvents:r})})(e.channel)))}t((e=>{const t={[we.ONBOARDING]:A.get(e,"onboarding.link")||null,[we.MORE]:A.get(e,"more.link")||null,[we.BULK]:A.get(e,"bulk.link")||null,[we.SUBS]:Go(e,"subs")||Go(e,"switchable_subs"),[we.PROFILE]:Go(e,"profile"),[we.CATEGORY]:Go(e,"category"),[we.CATEGORIES]:Go(e,"categories"),[we.SUGGEST]:Go(e,"suggest"),[we.BLOCKED]:Go(e,"blocked"),[we.PREFERENCES]:Go(e,"preferences"),[we.BLOCKED_SUGGEST]:Go(e,"blocked_suggest"),[we.VIDEO_RECOMMEND]:Go(e,"video_recommend"),[we.COUNTRY_LANG]:Go(e,"language"),[we.COMMENTS_COUNTER]:Go(e,"comments_counter")};return dr(t)})(e)),t((e=>{const t={banner:"bannerStats",experiments_data:"experimentsData",client_definition:"clientDefinition",ice_start:"isIceStart",complaints:"complaints",bulk:"bulk"},n=Object.keys(t).reduce((n,r)=>(n[t[r]]=e[r],n),{});return pr(n)})(e)),t((e=>ur("request",e))({rid:A.get(e,"rid")})),t({type:"APPLY_EXPORT_DATA",payload:e}),e.id&&o.packUsed(e.id)},qo=e=>t=>{const n=e.exportData,r=e.isExportDataParsed,o=void 0===r||r,i=e.initialDisplayedRowsNumber,s=e.params,a=e.comments;if(Object.keys($o).forEach(n=>{const r=e[n];if(r){t((0,$o[n])(r))}}),n){const e=o?n:ve(n);t(Wo(e))}a&&t(Vo(a)),i&&t(Fo(i));const c=s.isChildPage;c&&t((e=>({type:"SET_IS_CHILD_WINDOW",payload:{isChildWindow:e}}))(c)),t((e,t)=>{const n=t(),r=n.feed,o=n.shared.scrollToID;if(!o)return;const i=n.feed.displayedRowsNumber,s=Dn(r).rows.findIndex(e=>e.some(e=>e.id===o));e(Fo(s+i))})};var Ko=e=>t=>n=>{const r=A.get(n,"payload.id"),o=e.getState(),i=((e,t)=>{const n={};if(t){const r=Dn(e.feed).elements;n.rowIndex=r&&r[t]&&r[t].row}return n})(o,r);if(n.statEvent){const e=n.statEvent,t=o.feed.items[r],s=t.statEvents[e],a=t.bulkParams;nt.logBulkEvent({event:s,bulkParams:a,statMeta:i})}if(n.bulkStat){const e=n.bulkStat,t=e.statEvents,r=e.statEvent,o=e.bulkParams,s=t[r];nt.logBulkEvent({event:s,bulkParams:o,statMeta:i})}return t(n)};const Yo=Math.round(1e8*Math.random()),Qo="BROADCAST_ACTION";var Zo=e=>e=>t=>{if(t.broadcastable){const e=Object.assign({},t);delete e.statEvent,delete e.bulkStat,delete e.broadcastable,e.tabId=Yo,Xn.setItem(Qo,JSON.stringify(e))}return e(t)};const Jo={SOURCE_BLOCK:"blocked",SOURCE_UNBLOCK:"unblocked",SOURCE_SUBSCRIBE:"subscribed",SOURCE_UNSUBSCRIBE:"unsubscribed"};var Xo=e=>e=>t=>{const n=t.type,r=t.payload;if(Jo[n]&&r){const e=r.id;rt.emit(ot.SOURCE_CHANGE,{id:e,type:Jo[n]})}return e(t)},ei=n(12),ti=n(56),ni=n(88),ri=n.n(ni);const oi=e=>(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return t=>(function(){let r=[],o=r,i=0;return Object(ei.a)(Object(ti.a)(()=>e=>t=>{const n="function"==typeof t;let s;n&&i++;try{s=e(t)}finally{n&&i--}if(0===i){const e=r=o;for(let t=0;t<e.length;t++)e[t]()}return s},ri.a.withExtraArgument(e),...n),e=>(function(){const t=e(...arguments),n=()=>{o===r&&(o=r.slice())};return Object.assign({},t,{subscribe:e=>{if("function"!=typeof e)throw new Error("Expected the listener to be a function.");let t=!0;return n(),o.push(e),function(){if(!t)return;t=!1,n();const r=o.indexOf(e);o.splice(r,1)}}})}))(t)(...arguments)})}),ii=oi();ii.withExtraArgument=oi;n(123);const si=Object.freeze([Ko,Zo,Xo]),ai=(e,t)=>{return ii.withExtraArgument(t)(...e)},ci=e=>e.displayName||e.name||"Component",li=Object(ht.createContext)(null),ui=e=>{let t=e.settings,n=e.App,r=e.reducer,o=e.middlewares,i=void 0===o?[]:o,s=e.instances,a=void 0===s?{}:s;const c=Object(ft.b)(r,ai(i,a));return c.dispatch(qo(t)),{app:mt.a.createElement(li.Provider,{value:a},mt.a.createElement(Et,{store:c},mt.a.createElement(n,null))),store:c}};var di=(e,t)=>{const n={};if(e.countryCode&&(n.countryCode=e.countryCode),e.theme){const r=t.getState().params.zenFeatures;n.zenFeatures=Object.assign({},r,{color_theme:e.theme})}Object.keys(n).length>0&&t.dispatch(pr(n)),e.userInfo&&t.dispatch(hr(e.userInfo))},pi=n(33),hi=n.n(pi);var mi=function(e,t,n){void 0===n&&(n=!1);const r=()=>{rt.emit(ot.FIRST_PAINT)};let o;o=e,n?hi.a.hydrate(o,t,r):hi.a.render(o,t,r)};const fi=Object(Xt.createSelector)(e=>e.params.host,e=>e.params.clid,e=>e.params.countryCode,e=>e.params.zenFeatures,e=>e.params.clientExperiments,e=>e.links,e=>e.user,(e,t,n,r,o,i,s)=>({host:e,clid:t,countryCode:n,zenFeatures:r,clientExperiments:o,links:i,userInfo:s}));var gi=(e,t)=>{let n;const r=()=>{const r=t.getState(),o=fi(r);void 0!==n&&n===o||(n=o,e.configure(e=>Object.assign({},e,o)))};return r(),t.subscribe(r)};n(336);const _i={};for(let e=65;e<91;e++){const t=String.fromCharCode(e);_i[t]=`-${t.toLowerCase()}`}const bi=e=>(t,n)=>{const r="string"==typeof t?[t,n]:[null,t],o=r[0],i=r[1];let s=e;return o&&(s+=`__${o}`),i&&Object.keys(i).forEach(e=>{const t=i[e];if(t){const n=(e=>{const t=e.length;let n="";for(let r=0;r<t;r++){const t=e[r];n+=_i[t]||t}return n})(e);s+=!0===t?` _${n}`:` _${n}_${t}`}}),s},vi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>e&&"string"==typeof e).join(" ")};bi.mix=vi;var yi=bi;n(334),n(333);var Ei=e=>{var t,n;return n=t=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={isVisible:!1,isIntersecting:!1},this._node=null,this._intersectionObserver=null,this._rootRef=(e=>{this._unobserve(),e&&this._observe(e)}),this._onIntersectionChange=(e=>{const t=this.props.visibilityThreshold,n=e[e.length-1];this.setState({isIntersecting:n.isIntersecting,isVisible:n.intersectionRatio>=t})}),e}_ensureIntersectionObserverInstance(){if(null!==this._intersectionObserver)return;const e=this.props,t=e.root,n=e.visibilityThreshold,r={root:t,rootMargin:e.rootMargin,threshold:[0,1-n,n,1].sort((e,t)=>e-t)};this._intersectionObserver=new IntersectionObserver(this._onIntersectionChange,r)}_observe(e){this._ensureIntersectionObserverInstance(),this._node=e,this._intersectionObserver.observe(this._node)}_unobserve(){this._intersectionObserver&&this._intersectionObserver.disconnect(),this._node=null}componentWillUnmount(){this._unobserve()}render(){const t=this.state,n=t.isVisible,r=t.isIntersecting;return mt.a.createElement(e,wt({},this.props,{rootRef:this._rootRef,isVisible:n,isIntersecting:r}))}},t.defaultProps={visibilityThreshold:.8,rootMargin:"0px 0px 0px 0px"},n};const ki=e=>t=>{t(Gn(e,"feedback_more","ITEM_FEEDBACK_LIKE"))},wi=e=>t=>{t(Gn(e,"feedback_cancel_more","ITEM_FEEDBACK_CANCEL"))},Ci=e=>(t,n,r)=>{let o=r.zenApi;const i=n(),s=mn(i);"liked"===((e,t)=>{const n=e.videoModal&&e.videoModal.videoFeed[t],r=e.feed.items[t];return r||n})(i,e.id).feedback&&t(wi(e)),t(Gn(e,"feedback_less","ITEM_FEEDBACK_DISLIKE")),s.isExp("ab:invalidate_cache_on_dislike:invalidate_cache_on_dislike")&&o.invalidateCache()},xi=e=>t=>{t(Gn(e,"feedback_cancel_less","ITEM_FEEDBACK_CANCEL"))},Si=e=>({type:"ITEM_FEEDBACK_CANCEL_BLOCK",payload:{id:e.id}}),Oi=e=>{return{type:"ITEM_FEEDBACK_ANSWER_TOGGLE",payload:{id:e.id,targetKey:e.targetKey,questionType:e.questionType}}},Ii=e=>{return{type:"ITEM_FEEDBACK_ANSWERS_UNCHECK",payload:{id:e.id}}},Ti=e=>{let t=e.source,n=e.logger;return e=>{n.log("feedback_block"),e(lr()),e((e=>Wn({type:"SOURCE_BLOCK",payload:{id:e}}))(t.id))}},Ri=e=>{let t=e.source,n=e.logger;return e=>{n.log("feedback_cancel_block"),e(lr()),e((e=>Wn({type:"SOURCE_UNBLOCK",payload:{id:e}}))(t.id))}},Ni=e=>{let t=e.source,n=e.logger;return e=>{n.log("feedback_favourite"),e(lr()),e((e=>Wn({type:"SOURCE_SUBSCRIBE",payload:{id:e}}))(t.id))}},Pi=e=>{let t=e.source,n=e.logger;return e=>{n.log("feedback_cancel_favourite"),e(lr()),e((e=>Wn({type:"SOURCE_UNSUBSCRIBE",payload:{id:e}}))(t.id))}},Ai={subscribed:Pi,blocked:Ri,not_subscribed:Ni},Mi={subscribed:Pi,blocked:Ri,not_subscribed:Ti},Li={subscribed:Pi,blocked:Ni,not_subscribed:Ni},Di={subscribed:Ti,blocked:Ri,not_subscribed:Ti},ji=Zn({onToggleBlock:e=>Mi[e.source.status](e),onToggleSubscribe:e=>Ai[e.source.status](e),onShortToggleBlock:e=>Di[e.source.status](e),onShortToggleSubscribe:e=>Li[e.source.status](e),onBlock:Ti,onUnblock:Ri,onSubscribe:Ni,onUnsubscribe:Pi,onComplain:e=>{let t=e.logger;return()=>{t.log("complain_show")}}});var Bi=Jt(null,ji,null,{pure:!1});n(332),n(331);var Fi=class{constructor(){this._listenerRemovers=[]}add(e,t,n,r){e.addEventListener(t,n,r);const o=()=>{e.removeEventListener(t,n,r),this._listenerRemovers=this._listenerRemovers.filter(e=>e!==o)};return this._listenerRemovers=this._listenerRemovers.concat(o),o}clear(){this._listenerRemovers.forEach(e=>{e()})}};var Ui=(e,t)=>{const n=Object.keys(t),r=Object.assign({},e);for(let o=0;o<n.length;o++){const i=n[o],s=t[i],a=e[i];switch(i){case"className":r[i]=vi(s,a);break;case"style":r[i]=Object.assign({},a,s);break;default:"on"===i.slice(0,"on".length)&&(r[i]=(e=>{"function"==typeof s&&s(e),"function"==typeof a&&a(e)}))}}return r};var zi=(e,t)=>{const n=Object.keys(e),r={};for(let o=0;o<n.length;o++){const i=n[o];-1===t.indexOf(i)&&(r[i]=e[i])}return r},Hi=n(87);const Vi=e=>yi(`${Hi["lib-prefix"]}-${e}`),$i=yi.mix;Vi.mix=$i;var Gi=Vi;const Wi=Gi("button");function qi(e){let t=e.className,n=e.size,r=e.children,o=s(e,["className","size","children"]);return mt.a.createElement("span",wt({className:Gi.mix(Wi("icon",{size:n}),t)},o),r)}class Ki extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={isHovered:!1,isActive:!1,isTransitionEnabled:!0},this._listenerStorage=new Fi,this._containerRef=(e=>{this._containerElem=e;const t=this.props.containerRef;"function"==typeof t&&t(e)}),e}_setState(e){return new Promise(t=>{this.setState(e,t)})}_setStateOnNextTick(e){return $n(0).then(()=>this._setState(e))}_addHoverHandlers(){this._listenerStorage.add(this._containerElem,"mouseenter",()=>{this.setState({isHovered:!0})}),this._listenerStorage.add(this._containerElem,"mouseleave",()=>{this.setState({isHovered:!1})})}_addActiveHandlers(){const e="ontouchstart"in window?["touchstart","touchend"]:["mousedown","mouseup"],t=e[0],n=e[1];this._listenerStorage.add(this._containerElem,t,()=>{this._setState({isTransitionEnabled:!1}).then(()=>this._setStateOnNextTick({isActive:!0})).then(()=>{const e=this._listenerStorage.add(document,n,()=>{e(),this._setState({isActive:!1}).then(()=>this._setStateOnNextTick({isTransitionEnabled:!0}))})})}),this._listenerStorage.add(window,"blur",()=>{this._setState({isActive:!1,isHovered:!1,isTransitionEnabled:!0})})}componentDidMount(){this._addHoverHandlers(),this._addActiveHandlers()}componentWillUnmount(){this._listenerStorage.clear()}render(){const e=this.props,t=e.tag,n=e.size,r=e.viewType,o=e.icon,i=e.iconClass,a=e.renderIcon,c=e.children,l=s(e,["tag","size","viewType","icon","iconClass","renderIcon","children"]),u=this.state,d=u.isHovered,p=u.isActive,h=u.isTransitionEnabled,m=Boolean(o||a),f=o?{backgroundImage:`url(${o})`}:null,g=Ui(zi(l,["containerRef"]),{className:Wi({size:n,viewType:r,isHovered:d,isActive:p,isTransitionEnabled:h,hasIcon:m})});return mt.a.createElement(t,wt({ref:this._containerRef},g),mt.a.createElement("div",{className:Wi("content-wrapper")},m&&mt.a.createElement(qi,{size:n,style:f,className:i},a&&a()),c))}}Ki.defaultProps={tag:"button"};var Yi=Object(ht.forwardRef)((e,t)=>mt.a.createElement(Ki,wt({},e,{containerRef:t})));var Qi=e=>{class t extends ht.Component{constructor(){var e;return e=super(...arguments),this.answerSelector=(e=>this.props.question.answers.filter(t=>t.id===e)[0]),this.onShow=(()=>{const e=this.props.question,t=e.answers;this.props.logger.log("custom_user_feedback_show",{local:{__uq__:e.id,__ua__:t.map(e=>e.id).join(","),__ut__:e.type,__uat__:t.map(e=>e.type).join(",")}})}),this.onCheck=((e,t,n)=>{const r=this.props,o=r.itemToggleAnswer,i=r.question,s=i.type,a=this.answerSelector(e);if(n===a.isChecked)return;const c=n?"custom_user_feedback":"custom_user_feedback_cancel";this.props.logger.log(c,{local:{__uq__:i.id,__ua__:a.id,__ut__:i.type,__uat__:a.type}}),o({id:i.id,targetKey:t,questionType:s})}),e}render(){const t=this.props,n=this.onShow,r=this.onCheck,o=this.answerSelector;if(!t.question)return null;const i={onShow:n,onCheck:r,answerSelector:o,answers:t.question.answers,text:t.question.text};return mt.a.createElement(e,wt({},t,i))}}t.displayName=`WithQuestionLogic(${ci(e)})`;const n=Zn({itemToggleAnswer:Oi});return Jt(()=>{const e=Nr();return(t,n)=>{let r=n.id;return{logger:e(t.feed.items[r])}}},n)(t)};var Zi=e=>{class t extends ht.Component{constructor(){var e;return e=super(...arguments),this.onCheck=((e,t,n)=>{const r=this.props,o=r.answerSelector,i=r.onCheck,s=o(e);i(e,t,n),n!==s.isChecked&&(n?s.onBlock():s.onUnblock())}),e}render(){const t=this.props,n={onCheck:this.onCheck};return mt.a.createElement(e,wt({},t,n))}}return t.displayName=`FeedbackDislikeOptionQuestionLogic(${ci(e)})`,Qi(t)};class Ji extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={isPageVisible:nr()},this._start=0,this._isStatSent=!1,this._isDeepwatchStatSent=!1,this._timer=null,this._unsubscribe=null,this._sendShowStatOnce=(()=>{const e=this.props,t=e.logger,n=e.onShow,r=e.sendShow;this._isStatSent||(t&&r&&t.log("show"),n&&n(),this._isStatSent=!0)}),this._sendDeepwatch=(()=>{const e=this.props,t=e.logger,n=e.onDeepwatch,r=e.sendDeepwatch;this._isDeepwatchStatSent||(t&&r&&t.log("deepwatch",{local:{__t__:~~((Date.now()-this._start)/1e3)}}),n&&n(),this._isDeepwatchStatSent=!0)}),this._updateTimer=(()=>{const e=this.props,t=e.isVisible,n=e.timeout,r=this.state.isPageVisible;t&&r?null===this._timer&&(this._timer=setTimeout(this._sendShowStatOnce,n),this._start=Date.now()):this._stopTimer()}),this._stopTimer=(()=>{null!==this._timer&&(clearTimeout(this._timer),this._timer=null)}),e}componentDidMount(){this._updateTimer(),this._unsubscribe=rr(e=>{this.setState({isPageVisible:e})})}componentDidUpdate(e,t){const n=this.props,r=n.isVisible,o=n.shouldResetOnVisibilityChange,i=this.state.isPageVisible;o&&t.isPageVisible!==i&&(this._isStatSent=!1,this._isDeepwatchStatSent=!1),this._updateTimer(),!(this._isStatSent&&e.isVisible&&t.isPageVisible)||r&&i||this._sendDeepwatch()}componentWillUnmount(){this._stopTimer(),this._unsubscribe&&this._unsubscribe()}render(){const e=this.props.children;return void 0===e?null:e}}Ji.defaultProps={timeout:800,shouldResetOnVisibilityChange:!1,sendShow:!0,sendDeepwatch:!1};var Xi=Ji,es=(n(330),n(86)),ts=n.n(es);const ns=yi("feedback-dislike-options-view"),rs="SPINNER_ROLL",os="SPINNER_OK",is=800;var ss=class extends ht.Component{constructor(){var e;return e=super(...arguments),this.state={spinnerStatus:!1},this._containerRef=(e=>{const t=this.props.rootRef;t&&t(e)}),this.renderStatus=(()=>{const e=this.state.spinnerStatus,t=this.props.answers.some(e=>e.isChecked);let n=!1;return e===rs&&(n="roll"),e===os&&(n="ok"),t&&n||(n="none"),mt.a.createElement("div",{className:ns("status",{[n]:!0})},mt.a.createElement("div",{className:ns("status-icon")}),mt.a.createElement("div",{className:ns("status-text")},"Выбор сохранён"))}),this.setSpinnerOk=ts()(()=>{this.state.spinnerStatus===rs&&this.setState({spinnerStatus:os})},is),this.renderItem=((e,t)=>{let n=e.id,r=e.text,o=e.isChecked;const i=this.props.onCheck;return mt.a.createElement("div",{className:ns("list-item",{selected:o}),key:t,onClick:()=>{i(n,t,!o),this.setState({spinnerStatus:rs},this.setSpinnerOk())}},r)}),e}render(){const e=this.props,t=e.answers,n=e.text,r=e.isVisible,o=e.onShow,i=e.showLoggerTimeout;return mt.a.createElement(Xi,{isVisible:r,onShow:o,timeout:i},mt.a.createElement("div",{ref:this._containerRef,className:ns()},mt.a.createElement("div",{className:ns("question-text")},n),mt.a.createElement("div",{className:ns("list")},t.map(this.renderItem)),this.renderStatus()))}};var as=Object(ei.a)(Zi,Ei,Jt(e=>{return{showLoggerTimeout:fn(e).safeGet("rezen_extend_feedback.show_logger_timeout",800)}}))(ss),cs=n(85),ls=n(84);const us=yi("feedback-card-view");var ds=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._renderIcon=(e=>{const t=this.props.isMobile;switch(e){case"complain":return mt.a.createElement(cs.a,{className:us("icon",{isMobile:t})});case"action":return mt.a.createElement(ls.a,{className:us("icon",{isMobile:t})});default:return null}}),this._renderButton=((e,t)=>{if(!t)return null;const n=t.onClick,r=t.text,o=this.props.isMobile;return"cancel"!==e||o?mt.a.createElement("button",{className:us("button",{type:e,isMobile:o}),onClick:n},this._renderIcon(e),mt.a.createElement("div",null,r)):mt.a.createElement(Yi,{size:"m",tab:"button",viewType:"border",className:us("button",{type:"cancel"}),onClick:n},r)}),this._renderButtons=(()=>{const e=this.props,t=e.complainLinkButton,n=e.complainButton,r=e.cancelButton,o=e.actionButton,i=e.isHiddenCancelButton;return mt.a.createElement("div",{className:us("buttons")},this._renderButton("action",o),this._renderButton("complain",t),this._renderButton("complain",n),i?null:this._renderButton("cancel",r))}),this._renderHeader=(()=>{const e=this.props,t=e.id,n=e.dislikeQuestion,r=e.isExtendFeedbackEnabled,o=e.isMobile,i=e.description,s=e.title;return r?mt.a.createElement(as,{id:t,question:n}):mt.a.createElement("div",{className:us("text",{isMobile:o})},s," ",i)}),e}render(){const e=this.props,t=e.size,n=e.theme,r=e.place;return mt.a.createElement("div",{className:us({size:t,theme:n,place:r})},this._renderHeader(),this._renderButtons())}},ps=(n(326),n(83)),hs=n.n(ps);const ms=yi("feedback-popup-view"),fs=300;var gs=class extends ht.PureComponent{render(){const e=this.props,t=e.mainColor,n=e.className,r=e.children,o={state:e.isNegativeFeedback?"opened":"closed"};return mt.a.createElement("div",{className:yi.mix(ms(o),n)},mt.a.createElement("div",{style:{background:t},className:ms("fog")}),mt.a.createElement("div",{className:ms("wrapper")},mt.a.createElement("div",{className:ms("popup")},mt.a.createElement(hs.a,{component:ht.Fragment,transitionName:"_transition",transitionEnterTimeout:fs,transitionLeaveTimeout:fs},r))))}};n(325);const _s=yi("complaints-card");var bs=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={selectedReasonIds:new Set},this._contentRef=(e=>this._contentElem=e),this._bottomRef=(e=>this._bottomElem=e),this._onButtonClick=(()=>{const e=this.props,t=e.cancelButton,n=e.actionButton,r=this.state.selectedReasonIds;r.size?n.onClick({reasonIds:Array.from(r)}):t.onClick()}),e}_onReasonClick(e){this.setState(t=>{let n=t.selectedReasonIds;const r=n.has(e),o=new Set(n);return r?o.delete(e):o.add(e),{selectedReasonIds:o}})}_renderReasonsColumn(e){const t=this.state.selectedReasonIds;return e.map(e=>{let n=e.id,r=e.text;const o=t.has(n);return mt.a.createElement("div",{key:n,className:_s("reason",{selected:o}),onClick:()=>this._onReasonClick(n)},mt.a.createElement("div",{className:_s("reason-checkbox")}),mt.a.createElement("div",{className:_s("reason-label")},r))})}_renderReasons(){const e=this.props,t=e.size,n=e.reasons;if(t===z)return mt.a.createElement("div",{className:_s("reasons")},this._renderReasonsColumn(n));const r=Math.ceil(n.length/2);return mt.a.createElement("div",{className:_s("reasons")},mt.a.createElement("div",{className:_s("reasons-column")},this._renderReasonsColumn(n.slice(0,r))),mt.a.createElement("div",{className:_s("reasons-column")},this._renderReasonsColumn(n.slice(r))))}componentDidMount(){const e=this._contentElem.offsetWidth-this._contentElem.clientWidth,t="rtl"===getComputedStyle(this._contentElem).direction;this._bottomElem.style.right=t?"":`${e}px`,this._bottomElem.style.left=t?`${e}px`:""}render(){const e=this.props,t=e.size,n=e.title,r=e.cancelButton,o=e.actionButton,i=e.theme,s=e.place,a=this.state.selectedReasonIds.size?[o,"action"]:[r,"cancel"],c=a[0],l=a[1];return mt.a.createElement("div",{className:_s({size:t,theme:i,place:s})},mt.a.createElement("div",{className:_s("content"),ref:this._contentRef},mt.a.createElement("div",{className:_s("title")},n),this._renderReasons()),mt.a.createElement("div",{className:_s("bottom"),ref:this._bottomRef},mt.a.createElement("button",{className:_s("button",{type:l}),onClick:this._onButtonClick},c.text)))}};const vs={dislikeCard:{title:`${"Публикация скрыта"}.`,description:"Вы будете видеть меньше подобных публикаций в своей ленте.",complainButtonText:"Пожаловаться",cancelButtonText:"Отменить",actionButtonText:e=>"Заблокировать %domain".replace("%domain",e.domainTitle)},blockCard:{title:`${"Источник заблокирован"}.`,description:e=>"Вы не будете видеть публикации %source в своей ленте.".replace("%source",e.domainTitle),complainButtonText:"Пожаловаться",cancelButtonText:"Отменить"},complaintsCard:{title:"Причина жалобы",cancelButtonText:"Закрыть",actionButtonText:"Отправить"},complaintsDialogCard:{title:"Спасибо!",description:"Ваш отзыв позволит не допустить подобных публикаций в вашей ленте.",complainLinkText:"Сообщить о нарушении прав"}};var ys={[M]:vs,[L]:vs,[U]:vs,[F]:vs};const Es="https://yandex.ru/support/abuse/troubleshooting/zen/list.html";const ks=Zn({itemCancelDislike:xi,itemBlock:e=>({type:"ITEM_FEEDBACK_BLOCK",payload:{id:e.id}}),itemUnblock:Si,itemOpenComplaints:e=>t=>{t(Gn(e,"complain_show","ITEM_COMPLAINTS_OPEN"))},itemSendComplaints:e=>t=>{t(Gn(((e,t,n)=>Object.assign({},e,{statEvents:Object.assign({},e.statEvents,{[t]:Object.keys(n).reduce((e,t)=>e.replace(t,n[t]),e.statEvents[t])})}))(e,"complain_click",{__reasons__:e.reasonIds.join(",")}),"complain_click","ITEM_COMPLAINTS_SEND"))},itemCancelComplaints:e=>{return{type:"ITEM_COMPLAINTS_CANCEL",payload:{id:e.id}}}});var ws=Object(ei.a)(Bi,Jt(e=>{const t=mn(e),n=fn(e),r=t.isExp("ab:extend_feedback:extend_feedback"),o=t.isExp("rezen_official_complaints"),i=n.safeGet("rezen_extend_feedback.is_popup",!1);return{isExtendFeedbackExp:r,isExtendFeedbackPopupExp:i,isOfficialComplains:o,place:i?"popup":null}},ks))(class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._openComplaints=(()=>{(0,this.props.itemOpenComplaints)()}),this._onComplainLinkClick=(()=>{window.open(Es,"_blank")}),this._sendComplaints=(e=>{(0,this.props.itemSendComplaints)(e)}),this._cancelComplaints=(()=>{(0,this.props.itemCancelComplaints)()}),this._onBlock=(()=>{const e=this.props,t=e.onBlock,n=e.itemBlock;t(),n()}),this._onUnblock=(()=>{const e=this.props,t=e.onUnblock,n=e.itemUnblock;t(),n()}),e}_getTexts(e){const t=this.props.type,n=ys[t][e],r=Object.keys(n),o={};for(let e=0;e<r.length;e++){const t=r[e],i=n[t];o[t]="function"==typeof i?i(this.props):i}return o}_renderDislikeCard(){const e=this.props,t=e.id,n=e.size,r=e.isMobile,o=e.itemCancelDislike,i=e.theme,s=e.dislikeQuestion,a=e.isExtendFeedbackExp,c=e.isExtendFeedbackPopupExp,l=e.complaints,u=e.type,d=e.place,p=this._getTexts("dislikeCard"),h=p.title,m=p.description,f=p.complainButtonText,g=p.cancelButtonText,_=p.actionButtonText,b=u===B||l?null:{text:f,onClick:this._openComplaints},v=(a||c)&&s,y={size:n,title:h,description:m,complainButton:b,cancelButton:{text:g,onClick:o},actionButton:{text:_,onClick:this._onBlock},theme:i,isMobile:r,isExtendFeedbackEnabled:v,dislikeQuestion:s,id:t,isHiddenCancelButton:c,place:d};return mt.a.createElement(ds,y)}_renderBlockCard(){const e=this.props,t=e.id,n=e.size,r=e.isMobile,o=e.theme,i=e.dislikeQuestion,s=e.complaints,a=e.type,c=e.place,l=this._getTexts("blockCard"),u=l.title,d=l.description,p=l.complainButtonText,h=l.cancelButtonText,m={size:n,title:u,description:d,complainButton:a===B||s?null:{text:p,onClick:this._openComplaints},cancelButton:{text:h,onClick:this._onUnblock},theme:o,isMobile:r,dislikeQuestion:i,id:t,place:c};return mt.a.createElement(ds,m)}_renderComplaintsCard(){const e=this.props,t=e.size,n=e.complaintReasons,r=e.theme,o=e.isIntersecting,i=e.place,s=this._getTexts("complaintsCard"),a=s.title,c=s.cancelButtonText,l=s.actionButtonText,u={size:t,title:a,reasons:n,cancelButton:{text:c,onClick:this._cancelComplaints},actionButton:{text:l,onClick:this._sendComplaints},theme:r,isIntersecting:o,place:i};return mt.a.createElement(bs,u)}_renderComplaintsDialogCard(){const e=this.props,t=e.id,n=e.size,r=e.isMobile,o=e.theme,i=e.dislikeQuestion,s=e.feedback,a=e.isOfficialComplains,c=e.complaints,l=e.place,u=this._getTexts("complaintsDialogCard"),d=u.title,p=u.description,h=u.complainLinkText;let m=null;"disliked"===s&&(m={text:this._getTexts("dislikeCard").actionButtonText,onClick:this._onBlock});const f={size:n,title:d,description:p,actionButton:m,complainLinkButton:a?{text:h,onClick:this._onComplainLinkClick}:null,theme:o,isMobile:r,dislikeQuestion:i,id:t,complaints:c,place:l};return mt.a.createElement(ds,f)}_renderFeedbackCard(){const e=this.props,t=e.feedback,n=e.complaints,r=e.complaintsSendedAt;if("opened"===n)return this._renderComplaintsCard();if("sended"===n&&r===t)return this._renderComplaintsDialogCard();switch(t){case"disliked":return this._renderDislikeCard();case"blocked":return this._renderBlockCard();default:return null}}_renderFeedbackPopupView(){const e=this.props,t=e.feedback,n=e.mainColor,r={className:e.className,mainColor:n,isNegativeFeedback:t&&"liked"!==t};return mt.a.createElement(gs,r,this._renderFeedbackCard())}render(){const e=this.props,t=e.feedback,n=e.isMobile,r=e.isExtendFeedbackPopupExp;return t&&"liked"!==t||r?r&&!n?this._renderFeedbackPopupView():this._renderFeedbackCard():null}});const Cs=e=>({type:"DOC_SHOW",statEvent:"show",payload:{id:e}}),xs=e=>({type:"DOC_CLICK",statEvent:"click",payload:{id:e}});n(324);const Ss=e=>{if(!e)return null;let t=e.match(/^#([0-9a-f]{3})$/i);return t?(t=t[1],[17*parseInt(t.charAt(0),16),17*parseInt(t.charAt(1),16),17*parseInt(t.charAt(2),16)]):(t=e.match(/^#([0-9a-f]{6})$/i))?(t=t[1],[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)]):(t=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:null},Os=(e,t,n)=>{return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)/255<.53},Is=e=>{let t=e.cardColors,n=e.read,r=e.mainColor,o=e.isDesktop;if(n&&!o)return!1;if(r){const e=Ss(r),t=e[0],n=e[1],o=e[2];return Os(t,n,o)}if(t){const e=Ss(t.card),n=e[0],r=e[1],o=e[2];return Os(n,r,o)}return!1},Ts={card:"#FFFFFF",text:"#000000"};var Rs=e=>{try{const t=Ss(e),n=t[0],r=t[1],o=t[2],s=function(e,t,n){e/=255,t/=255,n/=255;const r=Math.max(e,t,n),o=Math.min(e,t,n),i=(r+o)/2,s=r-o;if(0===s)return[0,0,i];const a=i>.5?s/(2-r-o):s/(r+o);switch(r){case e:return[((t-n)/s+(t<n?6:0))/6,a,i];case t:return[((n-e)/s+2)/6,a,i];case n:return[((e-t)/s+4)/6,a,i]}}(n,r,o),a=(s[0],s[1]),c=s[2],l=a<=.35&&c>=.9,u=Os(n,r,o);return{isDarkImage:u,card:l?"#FFFFFF":e,text:u?"#FFFFFF":"#000000"}}catch(e){return i.a.error(e),Ts}};n(60);const Ns=new Set,Ps=new Map;let As;"undefined"!=typeof document&&window.addEventListener("resize",()=>{As=Date.now(),Ns.forEach(e=>{Ps.set(e,As),e.props.onResize()})});var Ms=class extends ht.PureComponent{componentDidMount(){this.props.isIntersecting&&Ns.add(this),Ps.set(this,Date.now())}componentDidUpdate(e){if(e.isIntersecting!==this.props.isIntersecting)if(this.props.isIntersecting){const e=Ps.get(this);As&&(!e||e<As)&&(Ps.set(this,Date.now()),this.props.onResize()),Ns.add(this)}else Ns.delete(this)}componentWillUnmount(){this.props.isIntersecting&&Ns.delete(this)}render(){const e=this.props.children;return void 0===e?null:e}};var Ls=()=>{let e,t;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(t&&((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0})(e,r))return t;const i=e=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n(e):n&&(n.current=e)}};return e=r,t=i,i}},Ds=n(26),js=n.n(Ds),Bs={measure:e=>new Promise(t=>{js.a.measure(()=>{t(e())})}),mutate:e=>new Promise(t=>{js.a.mutate(()=>{t(e())})}),measureAndMutate:(e,t)=>new Promise(n=>{let r;js.a.measure(()=>{r=e()}),js.a.mutate(()=>{n(t(r))})})};const Fs=Object.prototype.hasOwnProperty;var Us=function(e,t,n){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let o=0;o<r.length;o++)if(!(n&&n.includes(r[o])||Fs.call(t,r[o])&&Object.is(e[r[o]],t[r[o]])))return!1;return!0},zs=e=>"string"==typeof e?e:mt.a.Children.only(e);var Hs=(e,t)=>{"string"!=typeof t&&mt.a.Children.only(t)};const Vs=(e,t)=>{const n=e[t-1];return"."===n||","===n||"…"===n?t-1:t};n(49);const $s=/[A-Za-z]+|[А-Яа-яЁё]+|\d+|\S/,Gs=/\S/,Ws=e=>0!==e.width&&0!==e.height,qs=e=>{const t=(e=>{const t=[],n=e=>{const r=e.childNodes;for(let e=0;e<r.length;e++){const o=r[e];switch(o.nodeType){case Node.ELEMENT_NODE:n(o);break;case Node.TEXT_NODE:t.push(o)}}};return n(e),t})(e),n=[];let r="";for(let e=0;e<t.length;e++){const o=t[e],i=r+o.nodeValue;n.push({node:o,startIndex:r.length,endIndex:i.length}),r=i}return{textContent:r,createRange:(e,t)=>{let r,o;for(let i=0;i<n.length;i++){const s=n[i];if(!r&&e>=s.startIndex&&e<s.endIndex&&(r=s),!o&&t<=s.endIndex&&t>s.startIndex&&(o=s),r&&o){const n=document.createRange();return n.setStart(r.node,e-r.startIndex),n.setEnd(o.node,t-o.startIndex),n}}return null}}},Ks=(e,t,n)=>{let r,o;switch(e){case"horizontal":r="left",o="right";break;case"vertical":r="top",o="bottom"}const i=t[r]-n[r],s=n[o]-t[o];let a=0;return i<0&&(a+=i),s<0&&(a+=s),!(a<0)||Math.abs(a)<=(1-.8)*t.height},Ys=(e,t)=>{const n=t.textContent,r=t.createRange;let o=null,i=null;const s=()=>{const t=i?i.valueEndIndex:0,a=null===o?$s:Gs,c=n.slice(t).match(a);if(!c)return{done:!0};const l=c[0],u=t+c.index,d=u+l.length,p=r(u,d);let h;if(null===o){const e=p.getClientRects();if(e.length>1)return o=d,s();h=e[0]}else d>=o&&(o=null),h=p.getBoundingClientRect();const m=i?i.index+1:0,f=i?((e,t)=>{return e.top===t.rect.top&&e.bottom===t.rect.bottom?t.lineIndex:t.lineIndex+1})(h,i):0,g=((e,t)=>Ks("horizontal",e,t)&&Ks("vertical",e,t))(h,e);return{value:i={value:l,valueStartIndex:u,valueEndIndex:d,index:m,lineIndex:f,isVisible:g,rect:h},done:!1}};return{next:s,[Symbol.iterator]:()=>({next:s})}};var Qs=e=>{let t=e.containerElem,n=e.textElem,r=e.onlyVisibleTokens,o=void 0!==r&&r,i=e.linesLimit;const s=t.getBoundingClientRect(),a=n.getBoundingClientRect();if(!Ws(s)||!Ws(a))return null;const c=qs(n),l=[],u=[];let d=null,p=!0;var h=Ys(s,c),m=Array.isArray(h),f=0;for(h=m?h:h[Symbol.iterator]();;){var g;if(m){if(f>=h.length)break;g=h[f++]}else{if((f=h.next()).done)break;g=f.value}let e=g;if(e.isVisible)d=e;else if(p=!1,o)break;if(l.push(e),u[e.lineIndex]||(u[e.lineIndex]=[]),u[e.lineIndex].push(e),i&&u.length===i)break}return{containerElem:t,containerRect:s,textElem:n,textRect:a,onlyVisibleTokens:o,tokens:l,lines:u,lastVisibleToken:d,isTextFits:p}};n(323);const Zs=yi("clamp");class Js extends ht.Component{constructor(){var e;return e=super(...arguments),this.state={visibilitySplitIndex:zs(this.props.children).length,lineCount:null,isEllipsisNeeded:!1},this._composeContainerRefs=Ls(),this._isMounted=!1,this._isPropsChanged=!1,this._containerRef=(e=>{this._containerElem=e}),this._textRef=(e=>this._textElem=e),e}_withValidation(e,t){var n=this;return function(){return n._isMounted&&n._containerElem&&n._textElem?e&&e(...arguments):t&&t(...arguments)}}_setState(e){return new Promise(t=>{this.setState(e,t)})}_hide(){return this._setState({visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1})}clamp(){return new Promise((e,t)=>{const n=()=>{t(new Error("Not applied 'clamp' call."))};this._isMounted||n(),this._setState({lineCount:null}).then(()=>Bs.measure(this._withValidation(()=>Qs({containerElem:this._containerElem,textElem:this._textElem,onlyVisibleTokens:!0}),()=>null))).then(e=>{if(!e)return n();if(!e.lastVisibleToken)return this._hide();const t=this.props.minLineCount,r=e.lines.length,o=!e.isTextFits,i=e.lastVisibleToken.valueEndIndex;return r<t&&o?this._hide():this._setState({visibilitySplitIndex:i,lineCount:r,isEllipsisNeeded:o})}).then(e,n)}).catch(e=>{i.a.warn(e)})}componentDidMount(){this._isMounted=!0,this.props.withAutoClamp&&(window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this.clamp()):this.clamp())}componentWillReceiveProps(e){const t=zs(this.props.children),n=zs(e.children);t!==n&&this.setState(e=>0===e.visibilitySplitIndex?{visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1}:{visibilitySplitIndex:n.length,lineCount:null,isEllipsisNeeded:!1})}shouldComponentUpdate(e,t){const n=Us(this.props,e,["children"]),r=Us(this.state,t),o=Us(this.props.children,e.children);return this._isPropsChanged=!n||!o,!n||!r||!o}componentDidUpdate(){this._isPropsChanged&&this.props.withAutoClamp&&this.clamp()}componentWillUnmount(){this._isMounted=!1}render(){const e=this.props,t=e.className,n=e.style,r=e.fitToSpace,o=e.domRef,i=e.children,s=this.state,a=s.visibilitySplitIndex,c=s.lineCount,l=s.isEllipsisNeeded,u=zs(i);Hs("Clamp",i);const d={"line-count":null===c?null:String(c)},p=t?`${Zs(d)} ${t}`:Zs(d),h=l?Vs(u,a):a,m=u.slice(0,h),f=u.slice(h);return mt.a.createElement("div",{className:p,style:n,ref:this._composeContainerRefs(this._containerRef,o)},mt.a.createElement("div",{className:Zs("wrapper")},mt.a.createElement("div",{className:Zs("text"),ref:this._textRef},mt.a.createElement("span",{className:Zs("visible-tokens",{ellipsis:l})},m),mt.a.createElement("span",{className:Zs("invisible-tokens")},f),mt.a.createElement("div",{className:Zs("spacer")}))),r?null:mt.a.createElement("div",{className:Zs("text-expand")},i))}}Js.defaultProps={minLineCount:1,withAutoClamp:!0};var Xs=Js,ea=n(82);n(322);const ta=yi("mittens-view");class na extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={canShowAnimations:!1},e}componentDidMount(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._isMounted=!0,t.next=3,Le();case 3:return t.next=5,Le();case 5:e._isMounted&&e.setState({canShowAnimations:!0});case 6:case"end":return t.stop()}},t,this)}))()}componentWillUnmount(){this._isMounted=!1}_getSizes(){const e=ea[this.props.size],t=e.width,n=e.height,r=e.ratio;return{width:parseInt(t,10),height:parseInt(n,10),ratio:r}}_renderMittensSvg(e){const t=this.props.color,n=this._getSizes(),r=n.width,o=n.height,i=n.ratio,s=e?"translate(11.5, 16) rotate(180) translate(-11.5, -16)":"";return mt.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:o,viewBox:`0 0 ${r} ${o}`},mt.a.createElement("path",{transform:`scale(${i}, ${i}) ${s}`,fill:t,fillRule:"evenodd",d:"M18.895 10.605c.609 0 1.102.496 1.102 1.108v.043a16.864 16.864 0 0 1-.819 4.253l-.003.01a16.834 16.834 0 0 1-2.716 5.075l-.002.003-.159.19H7.923v-9.43L12.78 6.05l.003-.004a4.77 4.77 0 0 0 .774-1.447l.003-.007a4.84 4.84 0 0 0 .234-1.22c.2-.2.475-.323.779-.323.568 0 .956.379 1.187 1.024.276.77.252 1.643.252 1.643a4.828 4.828 0 0 1-1.042 3l.002.002-1.6 1.888H18.894zM3.015 21.287v-9.43h3.272v9.43H3.014z"}))}render(){const e=this.state.canShowAnimations,t=this.props,n=t.onlyLike,r=t.onLikeClick,o=t.onDislikeClick,i=t.size,s=t.cursor,a=t.liked,c=t.disliked,l=t.blocked,u=t.jump,d=t.className,p=void 0===d?"":d,h=t.isExtendFeedbackPopupExp,m=t.type,f=c||l,g={size:i,jump:u,type:m,hasActive:a||f,hasDisliked:f,canShowAnimations:!h&&e};return mt.a.createElement("div",{className:yi.mix(ta(g),p)},mt.a.createElement("div",{className:ta("mitten",{active:a}),onClick:r,style:{cursor:s}},this._renderMittensSvg(!1)),n?null:mt.a.createElement("div",{className:ta("mitten",{active:f}),onClick:o,style:{cursor:s}},this._renderMittensSvg(!0)))}}na.defaultProps={size:"small",cursor:"pointer",color:"#000"};var ra=e=>{var t,n;return n=t=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._loggerSelector=Nr(),e}render(){return mt.a.createElement(e,wt({},this.props,{logger:this._loggerSelector(this.props)}))}},t.displayName=`WithBulkStatLogger(${ci(e)})`,n};var oa=(e=>{class t extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._onLike=(e=>{e.preventDefault(),e.stopPropagation();const t=this.props,n=t.feedback,r=t.itemLike,o=t.itemCancelLike,i=t.onLike,s=t.onCancelLike;"liked"===n?o():"disliked"===n||"blocked"===n?(this._cancelDislike(),r()):r();const a="liked"===n?s:i;a&&a(e)}),this._onDislike=(e=>{e.preventDefault(),e.stopPropagation();const t=this.props,n=t.feedback,r=t.itemDislike,o=t.onDislike,i=t.onCancelDislike;"disliked"===n||"blocked"===n?this._cancelDislike():"liked"===n?(wi(),r()):r();const s="disliked"===n?i:o;s&&s(e)}),e}_uncheckAllAnswers(){const e=this.props,t=e.dislikeQuestion,n=e.itemUncheckAllAnswers;t&&(t.answers.forEach(e=>{e.isChecked&&e.onUnblock&&e.onUnblock()}),n())}_cancelDislike(){const e=this.props,t=e.feedback,n=e.itemCancelDislike,r=e.isExtendFeedbackPopupExp,o=e.onUnblock,i=e.source,s=e.logger;n(),"blocked"===t&&o(i,s),r&&this._uncheckAllAnswers()}render(){const t=this.props,n=t.feedback,r=t.isMittensJumping;return mt.a.createElement(e,wt({},this.props,{liked:"liked"===n,disliked:"disliked"===n,blocked:"blocked"===n,jump:r,onLikeClick:this._onLike,onDislikeClick:this._onDislike}))}}t.displayName=`WithMittensActor(${ci(e)})`;const n=Zn({itemLike:ki,itemDislike:Ci,itemUnblock:Si,itemCancelLike:wi,itemCancelDislike:xi,itemUncheckAllAnswers:Ii});return Object(ei.a)(Jt((e,t)=>{let n=t.id;const r=Br(e,n),o=fn(e).safeGet("rezen_extend_feedback.is_popup",!1),i=e.feed.items[n];return{isExtendFeedbackPopupExp:o,dislikeQuestion:r,source:i&&i.source&&e.sources[i.source]}},n),ra,Bi)(t)})(na);n(321);const ia=new Map,sa="undefined"!=typeof document&&"undefined"!=typeof IntersectionObserver;let aa;sa&&(window&&"function"!=typeof window.CustomEvent&&(ua.prototype=window.Event.prototype,window.CustomEvent=ua),aa=new ua("visible"));const ca=e=>{e.filter(e=>e.isIntersecting).forEach(e=>{e.target.dispatchEvent(aa)})},la=(e,t)=>{const n=JSON.stringify(t);if(ia.has(n))return ia.get(n);const r=new IntersectionObserver(ca,t);return ia.set(n,r),r};function ua(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}var da=(e,t,n)=>new Promise((r,o)=>{const i=()=>{const t=new Image;t.onload=r,t.onerror=o,t.src=e};if(sa&&t&&n){const e=la(ca,n),r=()=>{i(),t&&t.removeEventListener("visible",r,!1),e.unobserve(t)};t.addEventListener("visible",r,!1),e.observe(t)}else i()}),pa=n(11),ha=n.n(pa);const ma=/^rezen_default_lazy_loading_option_(\d+)_(\d+)_(\d+)_(\d+)$/,fa={rootMargin:"0px 0px 500px 0px"};class ga extends ht.PureComponent{constructor(e){super(e),this._setImageLoaded=ha()(()=>this.setState({isImageLoaded:!0})),this.state={isImageLoaded:!1}}componentDidMount(){this._loadImage()}componentWillUnmount(){this._setImageLoaded.cancel()}componentDidUpdate(e){this.props.imageUrl!==e.imageUrl&&this.setState({isImageLoaded:!1},()=>{this._loadImage()})}_getLazyLoadingOptions(){const e=this.props,t=e.lazyLoadingOptions,n=void 0===t?{}:t,r=e.defaultLazyLoadingFromExperiment,o=void 0===r?{}:r;return Object.assign({},fa,o,n)}_loadImage(){if(this.state.isImageLoaded)return;const e=this.props.imageUrl;if(!e)return;const t=this.props.isImageLazyLoadEnabled?this._container:null,n=this._getLazyLoadingOptions();da(e,t,n).then(()=>this._setImageLoaded())}render(){const e=this.props,t=e.renderImage,n=e.renderPlaceholder,r=e.wrapperClass,o=this.state.isImageLoaded;return mt.a.createElement("div",{className:r,ref:e=>this._container=e},n&&n(o),t(o))}}ga.defaultProps={isImageLazyLoadEnabled:!1};var _a=Jt(e=>{const t=mn(e).findExps(ma)[0],n={};if(t){const e=ma.exec(t);n.defaultLazyLoadingFromExperiment={rootMargin:`${e[1]}px ${e[2]}px ${e[3]}px ${e[4]}px`}}return n})(ga);const ba={smallImage:"si",bigImage:"bi",backgroundCardImage:"bci",mediumImage:"mi"},va=yi("doc-image");const ya=e=>{let t=e.color,n=e.size,r=e.mode,o=e.isVisible,i=e.gradientType,s=void 0===i?"linear":i;const a=Ss(t).join();let c="";const l=[`rgba(${a},1) 0%`,`rgba(${a},0.85) 10%`,`rgba(${a},0.6) 20%`,`rgba(${a},0) 50%`],u=[`rgba(${a},0) 36%`,`rgba(${a},0.1) 45%`,`rgba(${a},0.16) 47%`,`rgba(${a},0.75) 60%`,`rgba(${a},0.96) 65%`,`rgba(${a},1) 70%`];if(n===H||"medium"===n){let e=`linear-gradient(to right, ${l.join()})`;"radial"===s&&(e=`radial-gradient(ellipse at right 50% , ${u.join(", ")})`),c={background:e}}else c={background:`linear-gradient(to top, ${l.join()})`};return mt.a.createElement("div",{className:va("fade",{mode:r,"is-visible":o}),style:c})},Ea=e=>{let t=e.blurredPreview,n=e.mode;const r=`data:image/png;base64,${t||""}`;return mt.a.createElement("div",{className:va("preview",{mode:n}),style:{backgroundImage:`url(${r})`}})};var ka=class extends ht.PureComponent{constructor(e){super(e),this._renderPlaceholder=(e=>{const t=this.props,n=t.color,r=t.size,o=t.blurredPreview,i=t.gradientType;let s=this.mode===ba.backgroundCardImage&&!e||this.mode===ba.smallImage||this.mode===ba.bigImage||this.mode===ba.mediumImage;return mt.a.createElement("div",null,mt.a.createElement(Ea,{blurredPreview:o,mode:this.mode}),mt.a.createElement(ya,{color:n,size:r,mode:this.mode,isVisible:s,gradientType:i}))}),this._renderImage=(e=>{const t=this.props,n=t.aspectRatioMode,r=t.isBlurred,o=this._getImageUrl(),i=e?{backgroundImage:`url(${o||""})`}:null,s=va("image",{mode:this.mode,"is-loaded":e,"aspect-ratio":n,"is-blurred":r});return mt.a.createElement("div",{className:s,style:i})}),this.mode=this._getImageMode()}_getImageMode(){const e=this.props,t=e.size,n=e.cardBackgroundImage,r=e.forcedMode;return t===H?ba.bigImage:r===ba.backgroundCardImage&&n?ba.backgroundCardImage:r===ba.smallImage?ba.smallImage:r===ba.mediumImage?ba.mediumImage:n?ba.backgroundCardImage:ba.smallImage}_getImageUrl(){const e=this.props,t=e.theme,n=e.image,r=e.bigImage,o=e.cardBackgroundImage,i=e.cardBackgroundWhiteImage;switch(this.mode){case ba.bigImage:case ba.mediumImage:return r;case ba.smallImage:return n;case ba.backgroundCardImage:return"white"===t?i:o}}render(){const e=this.props.isImageLazyLoadEnabled;return mt.a.createElement("div",{className:va()},mt.a.createElement(_a,{imageUrl:this._getImageUrl(),renderPlaceholder:this._renderPlaceholder,renderImage:this._renderImage,isImageLazyLoadEnabled:e,wrapperClass:va("wrap")}))}};n(320);const wa=yi("doc-channel-name");var Ca=Jt(e=>{return{enabled:mn(e).isExp("ab:rezen_channel_links:rezen_channel_links")}},null)(class extends ht.PureComponent{render(){const e=this.props,t=e.enabled,n=e.textColor,r=e.name,o=e.read,i=e.className,s=e.opacity,a=e.limit,c=void 0===a?20:a,l=r.length>=c?"small":"medium";return mt.a.createElement("div",{className:yi.mix(wa({read:o,size:l,enabled:t}),i),style:{color:n,opacity:s}},r)}});n(319);const xa=yi("doc-channel-link");var Sa=Jt(e=>{return{enabled:mn(e).isExp("ab:rezen_channel_links:rezen_channel_links")}},null)(class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._onClick=(e=>{const t=this.props.logger;e.stopPropagation(),t.log("card_source_click")}),e}render(){const e=this.props,t=e.enabled,n=e.children,r=e.link,o=e.className;return t?mt.a.createElement("a",{className:yi.mix(xa({enabled:t}),o),href:r,target:"_blank",rel:"noopener",onClick:this._onClick},n):mt.a.createElement("div",{className:yi.mix(xa({enabled:t}),o)},n)}});n(318);const Oa=yi("doc-badges-view");class Ia extends ht.PureComponent{render(){const e=this.props,t=e.badges,n=e.read,r=e.color;if(t&&t[0])return mt.a.createElement("div",{className:Oa({read:n}),style:{color:r}},t[0].text)}}Ia.defaultProps={read:!1};var Ta=Ia;var Ra=e=>{class t extends ht.Component{render(){const t=this.props,n=t.isVisible,r=t.logger,o=t.onShow,i=t.sendShow,s=t.sendDeepwatch;return mt.a.createElement(Xi,{logger:r,onShow:o,isVisible:n,sendShow:i,sendDeepwatch:s},mt.a.createElement(e,this.props))}}return t.displayName=`WithShowLogger(${ci(e)})`,t};var Na=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._onClick=(e=>{e.preventDefault(),e.stopPropagation(),(0,this.props.onShortToggleSubscribe)()}),e}render(){const e=this.props,t=e.isMobile,n=e.source,r=e.style,o=e.className,i=e.size,s="subscribed"===n.status?"Отписаться":"Подписаться";let a=t?"l":"m";return i&&(a=i),mt.a.createElement(Yi,{className:o,style:r,onClick:this._onClick,size:a,viewType:"border"},s)}};var Pa=Object(ei.a)(Ei,Jt((e,t)=>{const n=t.triggerEvent,r=t.logger;return{logger:Object(ei.a)(Ir({__pe__:n}),Tr({show:"favourite_button_show"}))(r)}}),Bi,Ra)(Na),Aa=(n(317),n(21)),Ma=n.n(Aa),La=n(20),Da=n.n(La),ja=new Ma.a({id:"comments-balloon--inline",use:"comments-balloon--inline-usage",viewBox:"0 0 18 14",content:'<symbol viewBox="0 0 18 14" id="comments-balloon--inline"><path fill-rule="evenodd" d="M3 0a3 3 0 0 0-3 3v5.674a3 3 0 0 0 3 3h3.619L9 14l2.381-2.326H15a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),Ba=(Da.a.add(ja),ja),Fa=new Ma.a({id:"comments-balloon-touch--inline",use:"comments-balloon-touch--inline-usage",viewBox:"0 0 22 20",content:'<symbol viewBox="0 0 22 20" id="comments-balloon-touch--inline"><path fill-rule="evenodd" d="M3 0a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h3.757L11 19.243 15.243 15H19a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),Ua=(Da.a.add(Fa),Fa);const za=yi("comment-counter");class Ha extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._onClick=(()=>{const e=this.props,t=e.onClick;e.logger.log("click_comments_counter"),"function"==typeof t&&t()}),this._onShow=(()=>{this.props.logger.log("show_comments_counter")}),e}render(){const e=this.props,t=e.textColor,n=e.balloonColor,r=e.link,o=e.count,i=e.isVisible,s=e.rootRef,a=e.isTouch,c=e.isPost,l=e.isCardImage,u=e.feedbackMittensIsDisabled;let d=o;if("number"!=typeof o)return null;d>99&&(d="99+");const p=a?Ua:Ba,h=za("",{isCardImage:l,isTouch:a,isPost:c,feedbackMittensIsDisabled:u});return mt.a.createElement(Xi,{isVisible:i,onShow:this._onShow},mt.a.createElement("span",{className:h},mt.a.createElement("a",{ref:s,className:za("balloon",{isTouch:a}),href:r,target:"_blank",rel:"noopener",onClick:this._onClick},mt.a.createElement("svg",{className:za("icon"),viewBox:p.viewBox,style:{fill:n}},mt.a.createElement("use",{xlinkHref:`#${p.id}`})),mt.a.createElement("span",{className:za("info"),style:{color:t}},d))))}}const Va=500;var $a=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._clampRef=(e=>this._clamp=e),this._onResize=Vr(()=>{this._clamp&&this._clamp.clamp()},Va,this),e}render(){const e=this.props,t=e.className,n=e.style,r=e.isIntersecting,o=e.fitToSpace,i=e.minLineCount,s=e.domRef,a=e.children;return mt.a.createElement(Ms,{isIntersecting:r,onResize:this._onResize},mt.a.createElement(Xs,{className:t,style:n,fitToSpace:o,minLineCount:i,domRef:s,ref:this._clampRef},a))}};var Ga=e=>e===U;const Wa=(e,t)=>{if(e.length<t)return e;if(" "===e[t])return e.slice(0,t)+"…";let n=t;for(;n<e.length;)if(" "===e[++n])return e.slice(0,n)+"…";return e.slice(0,t)+"…"},qa=e=>e.split(/\s+/).reduce((e,t)=>Math.max(t.length,e),0),Ka=(e,t)=>(!e.threshold||e.threshold>=t.length)&&(!e.wordThreshold||e.wordThreshold>=t.longestWordLength),Ya=(e,t)=>{const n={length:e.length,longestWordLength:qa(e)};for(let e=0;e<t.length;e++){const r=t[e];if(Ka(r,n))return r.name}return null},Qa=e=>e.length<=25;function Za(e,t,n){let r=e.length,o=e.maxWordLength;const i=n?n.offsetWidth/340:1;return r<=t.threshold*i&&!(t.wordThreshold&&o>t.wordThreshold)}const Ja={small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"26px",lineHeight:"32px"},big:{fontSize:"32px",lineHeight:"34px"}},Xa=120,ec={maxLength:Xa,maxBigWordLength:11,sizes:{big:{threshold:30,style:Ja.big},medium:{threshold:45,style:Ja.medium},small:{threshold:0,style:Ja.small}}};var tc=class extends ht.PureComponent{constructor(e){super(e),this.state=this._calcCurrentState(this.props.title),this._containerRef=(e=>this._containerElem=e),this._clampRef=(e=>this._clamp=e)}_calcCurrentState(e){return{title:Wa(e,Xa),style:function(e,t,n){let r=t.maxLength,o=t.maxBigWordLength,i=t.sizes;const s=Wa(e,r),a={length:s.length,maxWordLength:qa(s)};return Za(a,i.big,n)&&a.maxWordLength<=o?i.big.style:Za(a,i.medium,n)?i.medium.style:!i.xsmall||Za(a,i.small,n)?i.small.style:i.xsmall.style}(e,ec,this._containerElem)}}_updateState(){return new Promise(e=>{this.setState(this._calcCurrentState(this.props.title),e)})}updateStylesAndClamp(){return this._updateState().then(()=>this._clamp&&this._clamp.clamp())}render(){const e=this.state,t=e.title,n=e.style;return mt.a.createElement(Xs,{className:"doc__title",style:n,domRef:this._containerRef,ref:this._clampRef,withAutoClamp:!1},t)}};const nc=yi("doc"),rc=Ei(Ha);var oc=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._linkRef=Object(ht.createRef)(),this._docTitleRef=Object(ht.createRef)(),this._textClampRef=Object(ht.createRef)(),this._onResize=Vr(this._updateContentStylesAndClamp,Va,this),this._onAuxClick=(e=>{const t=this.props.onClick;0!==e.button&&1!==e.button||t()}),this._renderImage=(()=>{const e=this.props,t=e.size,n=e.image,r=e.read,o=e.theme,i=e.bigImage,s=e.blurredPreview,a=e.cardBackgroundImage,c=e.cardBackgroundWhiteImage,l=e.isImageLazyLoadEnabled;return n?mt.a.createElement(ka,{theme:o,image:n,bigImage:i,blurredPreview:s,cardBackgroundImage:a,cardBackgroundWhiteImage:c,isRead:r,size:t,color:this.getBackgroundColor(),isImageLazyLoadEnabled:l}):null}),this._renderShadeMask=(()=>{const e={backgroundColor:this.getBackgroundColor()};return mt.a.createElement("div",{className:nc("shade-mask"),style:e})}),this._renderHoverMask=(()=>mt.a.createElement("div",{className:nc("hover-mask")})),this._renderFilterMask=(()=>mt.a.createElement("div",{className:nc("filter-mask")})),e}getBackgroundColor(){const e=this.props.mainColor;if(e)return Rs(e).card;const t=this.props.cardColors;return t&&t.card}getTextColor(){const e=this.props,t=e.mainColor,n=e.cardColors;return t?Rs(t).text:n?n.text:"#000000"}getColorTheme(){return"#000000"===this.getTextColor()?"black":"white"}getCardStyle(){const e=this.getBackgroundColor();if(e)return{backgroundColor:e}}getDocType(){const e=this.props,t=e.type,n=e.image;return Ga(t)?"narrative":n?"image":"text"}_updateContentStylesAndClamp(){this._docTitleRef.current&&this._docTitleRef.current.updateStylesAndClamp().then(()=>{this._textClampRef.current&&this._textClampRef.current.clamp()})}_getBadgeFadeStyle(){const e=this.props,t=e.mainColor,n=e.cardColors,r=t||n&&n.card;if(!r)return{};const o=Ss(r).join(", ");return{boxShadow:`rgba(${o}, 0.4) 0px 0px 25px 5px, rgba(${o}, 0.4) 0px 0px 60px 30px, rgba(${o}, 0.6) 0px 0px 100px 30px`}}_renderBadges(){const e=this.props,t=e.badges,n=e.read;if(!t||0===t.length)return null;const r="white"===this.getColorTheme()?"#fff":"#000";return mt.a.createElement("div",{className:nc("badge")},mt.a.createElement(Ta,{badges:t,color:r,read:n}),mt.a.createElement("div",{className:nc("badge-fade"),style:this._getBadgeFadeStyle()}))}_renderContent(){const e=this.props,t=e.type,n=e.title,r=e.text,o=e.isIntersecting,i=e.onClick,s=e.link;return mt.a.createElement("a",{className:nc("content"),onClick:i,href:s,target:"_blank",rel:"noreferrer noopener",ref:this._linkRef},mt.a.createElement("div",{className:nc("aligner")},mt.a.createElement(Ms,{isIntersecting:o,onResize:this._onResize}),mt.a.createElement(tc,{ref:this._docTitleRef,title:n}),Ga(t)?null:mt.a.createElement(Xs,{className:nc("text"),withAutoClamp:!1,fitToSpace:!0,ref:this._textClampRef},r),mt.a.createElement("div",{className:nc("subscribe-button-gradient")})))}_renderControls(e){const t=this.props,n=t.domainTitle,r=t.feedLink,o=t.logger,i=t.feedbackSubscribeProps,s=t.size,a=t.type,c=t.commentsCount,l=t.feedbackMittensProps;let u=17,d=20;M===a&&c>=0&&l.isEnabled&&(u=15,d=18);const p=i.hasSubscribeButton;return mt.a.createElement("div",{className:nc("controls",{type:e})},mt.a.createElement("div",{className:nc("aligner")},mt.a.createElement("div",{className:nc("bottom")},mt.a.createElement(Sa,{className:nc("channel-name"),link:r,logger:o},mt.a.createElement(Ca,{textColor:this.getTextColor(),name:n,limit:s===H?u:d})),this._renderCommentsCounter(),this._renderMittens(e)),mt.a.createElement(Pa,wt({},i,{className:nc("subscribe-button"),isVisible:p,logger:o}))))}_renderCommentsCounter(){const e=this.props,t=e.commentsCount,n=e.commentsLink,r=e.logger,o=e.feedbackMittensProps,i=e.onClick;return mt.a.createElement(rc,{textColor:this.getBackgroundColor(),balloonColor:this.getTextColor(),link:n,count:t,logger:r,feedbackMittensIsDisabled:!o.isEnabled,onClick:i})}_renderMittens(e){const t=this.props,n=t.feedbackMittensProps,r=t.onDislike;return n.isEnabled?mt.a.createElement(oa,wt({},n,{color:this.getTextColor(),onDislike:r,className:nc("mittens"),type:e})):null}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this._updateContentStylesAndClamp()):this._updateContentStylesAndClamp(),this._linkRef.current.addEventListener("auxclick",this._onAuxClick)}componentDidUpdate(e){const t=this.props,n=t.title,r=t.text;e.title===n&&e.text===r||this._updateContentStylesAndClamp()}componentWillUnmount(){this._linkRef.current.removeEventListener("auxclick",this._onAuxClick)}render(){const e=this.props,t=e.size,n=e.read,r=e.shouldHighlight,o=e.columnCount,i=e.isPromoted,s=e.isPromoPublication,a=e.feedbackSubscribeProps,c=e.containerRef,l=e.renderFeedback,u=e.experiments,d=e.isRtbFitted,p=e.isExtendFeedbackPopupExp,h=a.hasSubscribeButton,m={type:this.getDocType(),theme:this.getColorTheme(),size:t,animation:r&&"highlight",columns:o,promo:i||s,isShaded:n||h,hasSubscribeButton:h,isLetterSpacingExp:u.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),isBigLetterSpacingExp:u.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing")},f=d?"_rtb-fitted":null;return mt.a.createElement("div",{className:yi.mix(nc(m),f),style:this.getCardStyle(),ref:c},this._renderImage(),this._renderShadeMask(),this._renderHoverMask(),this._renderBadges(),this._renderContent(),this._renderControls(null),this._renderFilterMask(),l(),p?this._renderControls("popup"):null)}};n(316);const ic=yi("tooth-card");var sc=class extends ht.Component{constructor(){var e;return e=super(...arguments),this._linkRef=(e=>this._linkElem=e),this._titleClampRef=(e=>this._titleClamp=e),this._textClampRef=(e=>this._textClamp=e),this._onResize=Vr(this._updateClamp,Va,this),this._onAuxClick=(e=>{0!==e.button&&1!==e.button||this.props.onClick()}),e}_updateClamp(){this._titleClamp&&this._titleClamp.clamp().then(()=>this._textClamp&&this._textClamp.clamp())}isWhiteTheme(){const e=this.props,t=e.view;return!e.image||"white"===t}getCardColors(){const e=this.props,t=e.view,n=e.cardColors,r=e.mainColor;if(this.isWhiteTheme()||"white-image"===t||"white-flat"===t)return{backgroundColor:"#ffffff",color:"#000000"};if(r){const e=Rs(r);return{backgroundColor:e.card,color:e.text}}return n?{backgroundColor:n.card,color:n.text}:void 0}getContainerStyles(){return this.getCardColors()}getImageStyles(){return this.isWhiteTheme()?null:{backgroundImage:`url(${this.props.image})`}}getFadeStyles(){const e=this.props.image,t=Ss(this.getCardColors().backgroundColor).join(),n=[`rgba(${t},1) 45%`,`rgba(${t},0.8) 53%`,`rgba(${t},0) 68%`];let r=e?`rgba(${t},0.4)`:"#e8e2da";return this.isWhiteTheme()&&(r="#f0f0f0"),{fadeStyle:{background:`linear-gradient(to bottom, ${n.join()})`},hoverStyle:{backgroundColor:r}}}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this._updateClamp()):this._updateClamp(),this._linkElem.addEventListener("auxclick",this._onAuxClick)}componentDidUpdate(e){e.title===this.props.title&&e.text===this.props.text||this._updateClamp()}componentWillUnmount(){this._linkElem.removeEventListener("auxclick",this._onAuxClick)}render(){const e=this.props,t=e.view,n=e.image,r=e.title,o=e.link,i=e.text,s=e.source,a=e.read,c=e.product,l=e.shouldHighlight,u=e.isIntersecting,d=e.onClick,p=e.renderFeedback,h=e.containerRef,m=e.feedbackMittensProps,f=e.onDislike,g=e.isRtbFitted,_=this.getFadeStyles(),b=_.fadeStyle,v=_.hoverStyle,y=this.getCardColors().backgroundColor,E=this.getImageStyles(),k={view:t,read:a,animation:l&&"highlight",hasImage:Boolean(n)&&!this.isWhiteTheme(),yabro:[dt,pt].includes(c)},w=g?"_rtb-fitted":null;return mt.a.createElement("div",{className:yi.mix(ic(k),w),ref:h},mt.a.createElement(Ms,{isIntersecting:u,onResize:this._onResize}),mt.a.createElement("a",{className:ic("link"),style:this.getContainerStyles(),onClick:d,href:o,target:"_blank",ref:this._linkRef},E?mt.a.createElement("div",{className:ic("image"),style:E}):null,mt.a.createElement("div",{className:ic("text-fade"),style:b}),mt.a.createElement("div",{className:ic("hover-fade"),style:v}),mt.a.createElement("div",{className:ic("read-fade"),style:{backgroundColor:y}}),mt.a.createElement("div",{className:ic("filter-mask")}),mt.a.createElement("div",{className:ic("source")},s),mt.a.createElement("div",{className:ic("content")},mt.a.createElement(Xs,{className:ic("title"),withAutoClamp:!1,ref:this._titleClampRef},r),i?mt.a.createElement(Xs,{className:ic("text"),withAutoClamp:!1,minLineCount:c===dt?2:1,fitToSpace:!0,ref:this._textClampRef},i):null),mt.a.createElement("div",{className:ic("feedback")},mt.a.createElement("div",{className:ic("feedback-background")}),mt.a.createElement("div",{className:ic("feedback-buttons")},mt.a.createElement(oa,wt({},m,{theme:"tooth",color:this.isWhiteTheme()?"#000":"#fff",onDislike:f}))))),p())}};n(315),n(314);const ac=yi("blackout-filter");var cc=e=>{let t=e.className;return mt.a.createElement("div",{className:yi.mix(ac(),t)})},lc=(n(313),new Ma.a({id:"rocket--inline",use:"rocket--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="rocket--inline">\n    <path fill-rule="nonzero" d="M10.245 9.45c3.437-3.465 7.254-3.673 7.62-3.3.36.36.088 4.15-3.36 7.62-.882.885-1.693 1.662-2.505 2.295v2.43c.003 1.002.026 1.035-.6 1.5-.343.252-1.797 1.445-3.36 2.4-.38.234-.696.04-.45-.3.655-.933 1.13-1.762 1.425-2.49.263-.671.262-1.266 0-1.785-1.002.316-1.835.222-2.445-.375-.619-.602-.71-1.44-.375-2.445-.529-.278-1.127-.28-1.8-.015-.73.294-1.56.769-2.49 1.425-.342.245-.537-.07-.3-.45.953-1.563 2.146-3.017 2.4-3.36.463-.625.496-.602 1.5-.6H7.95a28.32 28.32 0 0 1 2.295-2.55zm-5.37 7.965c.21.202-2.58 1.426-2.58 4.29 2.868.002 4.242-2.787 4.455-2.58.206.212-.617 1.832-1.77 2.985C3.838 23.25 2.295 24.001 0 24c.001-2.292.752-3.835 1.905-4.98 1.14-1.148 2.762-1.821 2.97-1.605zM1.05 12c-.006.484-.606.523-.6 0C.523 5.374 4.94 0 12 0c7.055 0 12 4.95 12 12 0 7.052-5.374 11.505-12 11.55-.227.001-.327-.147-.33-.3.001-.146.101-.297.33-.3 5.546.014 10.204-4.948 10.2-10.95.004-6-4.201-10.206-10.2-10.2C5.996 1.794 1.128 5.86 1.05 12z" />\n</symbol>'})),uc=(Da.a.add(lc),lc);const dc=yi("rocket");class pc extends ht.PureComponent{render(){const e=this.props,t=e.color,n=e.faint,r=uc.id,o=uc.viewBox;return mt.a.createElement("svg",{className:dc({faint:n}),width:"24",height:"24",viewBox:o},mt.a.createElement("use",{style:{fill:t},xlinkHref:`#${r}`}))}}n(275);const hc=yi("doc-card-header");class mc extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._getColor=(()=>{const e=this.props,t=e.color,n=e.isDark;return t||(n?"#fff":"#000")}),this._renderShadow=(()=>{const e=this.props,t=e.isTextCard,n=e.isDesktop,r=e.read;return e.dropShadow||t||!n&&r?null:mt.a.createElement("div",{className:hc("shadow"),style:this._getBadgeFadeStyle()})}),this._renderRocket=(()=>{const e=this.props,t=e.rocket,n=e.image,r=e.isDesktop;return!t||r?null:mt.a.createElement("div",{className:hc("rocket")},mt.a.createElement(pc,{faint:!n,color:this._getColor()}),this._renderShadow())}),this._renderMenu=(()=>{const e=this.props;e.id,e.dropShadow,e.isNarrativeFeed,e.isNativeFeed,e.isChannelPage,e.buttonClassName,e.isDesktop,e.isZenLib;return null}),e}_getBadgeFadeStyle(){const e=this.props,t=e.mainColor,n=e.cardColors,r=t||n&&n.card;if(!r)return{};const o=Ss(r).join(", ");return{boxShadow:`rgba(${o}, 0.4) 0px 0px 25px 5px, rgba(${o}, 0.4) 0px 0px 60px 30px, rgba(${o}, 0.6) 0px 0px 100px 30px`}}_renderBadges(){const e=this.props,t=e.read,n=e.badges,r=e.isDesktop;return n&&0!==n.length?mt.a.createElement("div",{className:hc("badge")},mt.a.createElement(Ta,{badges:n,color:this._getColor(),read:t&&r}),this._renderShadow()):null}render(){const e=this.props,t=e.noAbsolute,n=e.className,r={absolute:!t};return mt.a.createElement("div",{className:yi.mix(hc(r),n)},this._renderRocket(),mt.a.createElement("div",{className:hc("badge-holder")},this._renderBadges()),this._renderMenu())}}var fc=[{name:"1",threshold:25},{name:"2",threshold:50},{name:"3"}];const gc=Ei(Ha),_c=yi("doc-card-image-view"),bc=120,vc="blur",yc="fade",Ec="#000000",kc="#FFFFFF",wc=["title","text"];var Cc=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={title:Wa(this.props.title,bc)},this._titleClampRef=(e=>this._titleClamp=e),this._textClampRef=(e=>this._textClamp=e),this._onResize=Vr(this._updateClamp,Va,this),this._getImageUrl=(()=>{const e=this.props,t=e.image;return e.imageSquared||t}),this._renderBlurredPreviewViewElem=(()=>{const e=`data:image/png;base64,${this.props.blurredPreview||""}`;return mt.a.createElement("div",{className:_c("preview"),style:{backgroundImage:`url(${e})`}})}),this._renderImageElem=(e=>{const t={backgroundImage:`url(${this._getImageUrl()})`};return mt.a.createElement("div",{className:_c("image",{"is-loaded":e}),style:t})}),this._renderTitle=(()=>{const e=this.props,t=e.isDesktop,n=e.titleRef,r=this.state.title;return t?mt.a.createElement(tc,{title:this.props.title,ref:n}):mt.a.createElement(Xs,{className:_c("title"),withAutoClamp:!1,domRef:n,ref:this._titleClampRef},r)}),this._renderReadFade=(()=>{const e=this.props,t=e.isDesktop,n=e.read;if(t)return null;const r=Ss(kc).join(),o=this._getColors().cardColorRgb,i=n?r:o,s={backgroundImage:`linear-gradient(to top,\n                rgba(${i},1) 0%,\n                rgba(${i},1) 50%,\n                rgba(${i},0.7) 70%,\n                rgba(${i},0.5) 100%\n            )`};return mt.a.createElement("div",{className:_c("fade"),style:s})}),this._renderHoverMask=(()=>{const e={backgroundColor:this._getColors().hoverColor};return mt.a.createElement("div",{className:_c("hover-mask"),style:e})}),this._renderFeedback=(()=>{const e=this.props.renderFeedback;return e?e():null}),this._renderHeader=(()=>mt.a.createElement(mc,wt({},this.props,{className:_c("header")}))),this._renderClickable=(()=>{const e=this.props,t=e.onClick,n=e.link;return mt.a.createElement("a",{className:_c("clickable"),onClick:t,href:n,target:"_blank",rel:"noopener"})}),e}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this._updateClamp()):this._updateClamp()}componentWillReceiveProps(e){this.setState({title:Wa(e.title,bc)})}componentDidUpdate(e){wc.some(t=>e[t]!==this.props[t])&&this._updateClamp()}_getColors(){const e=this.props,t=e.cardColors,n=e.read,r=e.mainColor,o=e.isDesktop;if(r){const e=Rs(r),t=e.text,i=e.card,s=e.isDarkImage,a=Ss(i).join();return{hoverColor:s?Ec:kc,textColor:n&&!o?Ec:t,cardColor:i,cardColorRgb:a}}const i=t?t.card:kc,s=Ss(i).join(),a=!n&&t?t.text:Ec;return{hoverColor:Rs(i).isDarkImage?Ec:kc,textColor:a,cardColor:i,cardColorRgb:s}}_shouldRenderText(){return!Ga(this.props.type)&&this.props.text}_updateClamp(){let e;(e=this._shouldRenderText()&&this._textClamp?this._textClamp.clamp():Promise.resolve()).then(()=>this._titleClamp&&this._titleClamp.clamp())}_renderFadeImage(){const e=this.props.isDesktop,t=this._getColors().cardColorRgb,n={backgroundImage:`linear-gradient(to top, ${(e?[[1,0],[.88,11],[.75,17],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]]:[[1,0],[.94,8],[.68,19],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]]).map(e=>{let n=e[0],r=e[1];return`rgba(${t}, ${n}) ${r}%`}).join()})`},r=this._getImageUrl();return mt.a.createElement("div",{className:_c("image-container")},mt.a.createElement(_a,{imageUrl:r,renderImage:this._renderImageElem,renderPlaceholder:this._renderBlurredPreviewViewElem}),mt.a.createElement("div",{className:_c("image-fade"),style:n}))}_renderBlurImage(){const e=this.props,t=e.image,n=e.blurredPreview,r=e.cardBackgroundImage,o=e.cardBackgroundWhiteImage,i=e.read,s=this._getColors().cardColor;return mt.a.createElement(ka,{theme:"white",image:t,blurredPreview:n,cardBackgroundImage:r,cardBackgroundWhiteImage:o,isRead:i,isBlurred:i,size:"small",color:s,aspectRatioMode:"tall"})}_renderImage(){switch(this._getRenderType()){case yc:return this._renderFadeImage();case vc:return this._renderBlurImage()}}_renderContent(){const e=this.props,t=e.text,n=e.isIntersecting,r=t&&!Qa(t);return mt.a.createElement(Ms,{isIntersecting:n,onResize:this._onResize},mt.a.createElement("div",{className:_c("content")},mt.a.createElement("div",{className:_c("text-content")},this._renderTitle(),this._shouldRenderText()?mt.a.createElement(Xs,{className:_c("text"),withAutoClamp:!1,minLineCount:r?2:1,fitToSpace:!0,ref:this._textClampRef},t):null),this._renderSourceName()))}_renderSourceName(){const e=this.props,t=e.feedLink,n=e.logger,r=e.domainTitle,o=e.type,i=e.commentsCount,s=e.feedbackMittensProps,a=this._getColors().textColor,c=_c("source-name",{with_counter:i>=0&&M===o&&s.isEnabled}),l={textColor:a,name:r};return mt.a.createElement("div",{className:c},mt.a.createElement(Sa,{link:t,logger:n},mt.a.createElement(Ca,l)))}_renderMittens(e){void 0===e&&(e=null);const t=this.props,n=t.feedbackMittensProps,r=t.onDislike,o=t.moveDislike,i=t.noDislike;if(!n.isEnabled)return null;const s=this._getColors().textColor,a=Object.assign({},n,{color:s,onDislike:r,onlyLike:o||i,type:e});return mt.a.createElement("div",{className:_c("mittens",{type:e})},mt.a.createElement(oa,a))}_renderSubscribeButton(){const e=this.props,t=e.feedbackSubscribeProps,n=e.logger,r=e.isMobile,o=t.hasSubscribeButton,i=this._getColors().textColor,s={borderColor:i,color:i,opacity:.7},a=Object.assign({},t,{style:s,isVisible:o,logger:n,isMobile:r});return mt.a.createElement("div",{className:_c("subscribe-button")},mt.a.createElement(Pa,a))}_getRenderType(){const e=this.props,t=e.type,n=e.text;if(Ga(t))return yc;const r=!n,o=n&&Qa(n);return r||o?yc:vc}_renderCommentsCounter(){const e=this.props,t=e.commentsCount,n=e.commentsLink,r=e.logger,o=e.isMobile,i=e.feedbackMittensProps,s=e.type,a=e.read,c=e.onClick,l=this._getColors(),u=l.textColor,d=l.cardColor,p=l.readColorRgb;return M!==s?null:mt.a.createElement(gc,{textColor:a?p:d,balloonColor:u,link:n,count:t,logger:r,isTouch:o,isCardImage:!0,feedbackMittensIsDisabled:!i.isEnabled,onClick:c})}render(){const e=this.props,t=e.feedback,n=e.image,r=e.read,o=e.type,i=e.experiments,s=e.feedbackSubscribeProps,a=e.isDesktop,c=e.columnCount,l=e.isDark,u=e.isRtbFitted,d=e.isExtendFeedbackPopupExp,p=s.hasSubscribeButton,h=this._getRenderType(),m=this._getColors(),f=m.textColor,g=m.cardColor,_=Ya(this.state.title,fc),b=i.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),v=i.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing"),y=_c({read:r,type:o,feedback:t,image:Boolean(n),hasSubscribeButton:p,renderType:h,fontSize:_,isDesktop:a,columns:c,isDark:l,isLetterSpacingExp:b,isBigLetterSpacingExp:v,rtbFitted:u}),E={color:f,backgroundColor:g};return mt.a.createElement("div",{className:y,style:E},this._renderClickable(),this._renderImage(),this._renderReadFade(),this._renderHoverMask(),this._renderContent(),this._renderHeader(),this._renderCommentsCounter(),this._renderMittens(),this._renderSubscribeButton(),this._renderFeedback(),d?this._renderMittens("popup"):null,mt.a.createElement(cc,null))}};n(274);const xc=50,Sc=250,Oc=yi("doc");var Ic=Jt(()=>{const e=Nr(),t=Fr(),n=zr(),r=Object(Xt.createSelector)(mn,ln,hn,(e,t)=>e.sources[e.feed.items[t].source],...Hr.map(e=>(t,n)=>t.feed.items[n][e]),function(e,t,n,r){for(var o=arguments.length,i=new Array(o>4?o-4:0),s=4;s<o;s++)i[s-4]=arguments[s];const a=i[0],c=i[1],l=i[2],u=i[3],d=i[4],p=i[5],h=r.status,m=r.isSubscribedInCurrentSession,f="subscribed"===h;return{id:a,source:r,triggerEvent:l[u],isSubscribed:f,hasSubscribeButton:(![lt,dt,pt].includes(t)||c===M)&&(!f||m)&&("liked"===d||p)&&!n}});return(o,i)=>{let s=i.id,a=i.rowIndex;const c=o.params,l=o.feed,u=o.yabro,d=l.items[s],p=c.product,h=c.libType,m=kn(o),f=e(Object.assign({},d,{rowIndex:a})),g=t(o,s),_=n(o,s),b=r(o,s),v=En(o),y=vn(o),E=mn(o),k=fn(o),w=yn(o),C=Pn(l),x=_n(o),S=Boolean(Lr(o,s)),O=Nn(o,s),I=bn(o),T=u&&u.exportRid,R=Hn(o),N=o.sources[d.source],P=((e,t)=>{let n=e.commentsDocumentId,r=e.commentsData,o=e.feed;const i=o&&o.items&&o.items[t];let s=void 0;return!n&&i&&(n=i.commentsDocumentId),n&&r[n]&&"number"==typeof r[n].count&&(s=r[n].count),s})(o,s),A=k.safeGet("rezen_extend_feedback.is_popup",!1);return Object.assign({product:p,isTeethEnabled:v,teethType:y,theme:m,needSimilar:x,logger:f,feedbackProps:g,feedbackMittensProps:_,feedbackSubscribeProps:b,libType:h,isImageLazyLoadEnabled:w,columnCount:C,experiments:E,shouldAskUserQuestion:S,itemOrder:O,shouldScrollOnOpenCard:I,exportRid:T,isRtbFitted:R},d,{source:N,commentsCount:P,isExtendFeedbackPopupExp:A})}},{docShow:Cs,docShort:e=>({type:"DOC_SHORT",statEvent:"short",payload:{id:e}}),docClick:xs,docRead:e=>({type:"DOC_READ",payload:{id:e}}),requestSimilar:e=>(t,n,r)=>{let o=r.zenApi;const i=n().feed,s=i.items[e];if(s.childItemId||s.isSimilarRequested)return;const a=Dn(i),c=a.rows[a.elements[e].row+1];let l=s.similarLink;zo(c,D)&&(l=l.replace("_type_","ad")),t({type:"REQUEST_SIMILAR",payload:{itemId:e}}),o.getSimilar(l).then(n=>{t({type:"RECEIVE_SIMILAR",payload:{itemId:e,similar:n}});const r=n.items,o=r.sourcesIds,i=r.docs,s=r.direct,a=r.rtb;o.length+i.length+s.length+a.length!==0&&t(jo(e,Object.assign({},n,{items:{sourcesIds:o,docs:i,direct:s,rtb:a}})))})},removeChildItem:Bo,itemMittensJump:(e,t)=>({type:"ITEM_MITTENS_JUMP",payload:{id:e,isMittensJumping:t}}),insertUserQuestion:e=>(t,n)=>{const r=n(),o=r.feed.items[e],i=Lr(r,o.id);if(o.isUserQuestionAnswered||!i)return;const s=(e=>{const t=e.id,n=e.bulkParams,r=e.statEvents;return{type:"user-feedback-question",id:q("user-feedback-question"),parentId:t,bulkParams:n,statEvents:r}})(o);setTimeout(()=>{t(jo(e,s))},500)}})(class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={shouldHighlight:!1},this._containerRef=Object(ht.createRef)(),this._onClick=(()=>{const e=this.props,t=e.id,n=e.needSimilar,r=e.feedback,o=e.similarLink,i=e.requestSimilar,s=e.itemMittensJump,a=e.docClick,c=e.docRead,l=e.shouldAskUserQuestion,u=e.shouldScrollOnOpenCard,d=e.insertUserQuestion;u&&this._scrollToElement(),a(t),l?d(t):n&&i(t,o),or().then(()=>{Me(500).then(()=>c(t)),r||Me(1500).then(()=>s(t,!0)).then(()=>Me(1e3)).then(()=>s(t,!1))})}),this._onDislike=(()=>{const e=this.props,t=e.id,n=e.needSimilar,r=e.removeChildItem;n&&r(t)}),this._setPackShown=(()=>{const e=this.props.packId;nt.packShown(e)}),this._sendShowStat=(()=>{const e=this.props,t=e.id,n=e.docShow,r=e.pixels;e.columnCount,n(t),r&&r.forEach(e=>{try{const t=new Image;t.onerror=(()=>i.a.error(`Error while calling pixel (desktop); ${e}`)),t.src=e}catch(e){i.a.error("Error while calling pixel:",e)}}),this._setPackShown()}),this._sendShortStat=(()=>{const e=this.props,t=e.id;(0,e.docShort)(t)}),this._scrollToElement=(e=>{const t=e=e||{},n=t.animate,r=void 0!==n&&n,o=t.highlight,i=void 0!==o&&o,s=t.offsetTop,a=void 0===s?xc:s,c=this._containerRef.current;if(!c||0===this.props.rowIndex&&[dt,pt].includes(this.props.product))return Promise.resolve();this.state.shouldHighlight&&this.setState({shouldHighlight:!1});const l=Ao(c);return Po.scrollTo({top:l-a,animate:r}).then(()=>{if(i)return Me(Sc).then(()=>{this.setState({shouldHighlight:!0})})})}),this._onFeedbackClick=(e=>{e.preventDefault(),e.stopPropagation()}),this._renderFeedback=(()=>{const e=this.props,t=e.logger,n=e.feedback,r=e.feedbackProps,o=e.mainColor,i=e.isExtendFeedbackPopupExp;return r.isEnabled&&(n&&"liked"!==n||i)?i?mt.a.createElement(ws,wt({mainColor:o,className:Oc("feedback-popup-view"),logger:t},r,{theme:"white"})):mt.a.createElement("div",{className:Oc("feedback-wrapper"),onClick:this._onFeedbackClick},mt.a.createElement(ws,wt({logger:t},r))):null}),this._renderNarrativeCard=(()=>{const e=this.props,t=e.cardColors,n=e.read,r=e.mainColor,o=this.state.shouldHighlight,i=Object.assign({},this.props,{shouldHighlight:o,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef,isDesktop:!0,isDark:Is({isDesktop:!0,cardColors:t,read:n,mainColor:r})});return mt.a.createElement(Cc,i)}),e}_getToothType(){const e=this.props,t=e.rowIndex,n=e.teethType,r=e.isTeethEnabled;if(0===t&&r)return n}_renderDocCard(){const e=Object.assign({},this.props,{shouldHighlight:this.state.shouldHighlight,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef});return mt.a.createElement(oc,e)}_renderToothCard(e){const t=this.props.isIntersecting,n=Object.assign({},this.props,{isIntersecting:t,shouldHighlight:this.state.shouldHighlight,view:e,source:this.props.domain,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef});return mt.a.createElement(Xi,{isVisible:t,onShow:this._sendShortStat,timeout:500,shouldResetOnVisibilityChange:!0},mt.a.createElement(sc,n))}_emitCard(){const e=this.props,t=e.statEvents,n=e.bulkParams,r=e.rowIndex,o=e.itemIndexInRow,i=e.domainTitle,s=e.title,a=e.itemOrder,c=e.id,l={rowIndex:r};r<2&&this._containerRef.current&&rt.emit(ot.PROMO_CARD,{id:c,scrollTo:this._scrollToElement,domainTitle:i,title:s,itemIndexInRow:o,rowIndex:r,index:a,container:this._containerRef.current,sendPreviewShow:nt.logBulkEvent.bind(nt,{event:t.show_teaser,bulkParams:n,statMeta:l}),sendPreviewClick:nt.logBulkEvent.bind(nt,{event:t.click_teaser,bulkParams:n,statMeta:l})})}componentDidMount(){this._emitCard()}render(){const e=this.props,t=e.isVisible,n=e.type,r=(e.packId,e.exportRid,this._getToothType());let o=r?this._renderToothCard(r):n===U?this._renderNarrativeCard():this._renderDocCard();return o=mt.a.createElement(Xi,{isVisible:t,onShow:this._sendShowStat},o)}});const Tc=(e,t)=>(n,r)=>{const o=r().feed.itemsOrder.indexOf(e);n({type:"VIDEO_CARD_CHANGE_INTERSECTING",payload:{id:e,intersecting:t,index:o}})},Rc=(e,t)=>(n,r)=>{const o=r().feed.itemsOrder.indexOf(e);n({type:"VIDEO_CARD_CHANGE_VISIBILITY",payload:{id:e,visible:t,index:o}})},Nc=e=>({type:"VIDEO_CARD_CHANGE_INTERACTION",payload:{id:e}}),Pc=e=>({type:"VIDEO_CHANGE_ACTIVE_CARD",payload:e}),Ac=e=>(t,n)=>{t({type:"VIDEO_MODAL_TOGGLE",payload:{openedItem:n().feed.items[e]}})},Mc=(p(e=>nt.getVideoRecommend().then(t=>{if(0===t.length)throw new Error("no recommends");const n={};e({type:"VIDEO_MODAL_GET_RECOMMEND",payload:{videoFeed:t.reduce((e,t)=>{const r=t.id,o=t.source,i=t.statParams,s=t.statEvents,a=t.bulkParams;return n[o.id]||(n[o.id]=Object.assign({},o,{statParams:i,statEvents:s,bulkParams:a})),Object.assign({[r]:Object.assign({},t,{source:o.id})},e)},{})}}),e({type:"VIDEO_MODAL_SET_SOURCES",payload:{sources:n}})}),{timeouts:[1e3,3e3,5e3]}),4e3),Lc={PLAYBACK_NOT_STARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,QUEUED:5},Dc={short:"short",show:"show",click:"click","feedback:more":"feedback:more","feedback:less":"feedback:less","feedback:block":"feedback:block","feedback:cancel_less":"feedback:cancel_less","feedback:cancel_more":"feedback:cancel_more","feedback:cancel_block":"feedback:cancel_block",play:"play",pause:"pause",end:"end",autoplay:"autoplay",autopause:"autopause",sound_on:"sound_on",sound_off:"sound_off",action:"action",autoplay_on:"autoplay_on",autoplay_off:"autoplay_off",heartbeat:"heartbeat",replay:"replay"},jc="PLAY_BUTTON_CLICK",Bc=()=>{switch(Xn.getItem("zen-video-autoplay")){case"1":return!0;case"0":return!1;default:return}},Fc=e=>{Xn.setItem("zen-video-autoplay",e?"1":"0")};var Uc=e=>{class t extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={started:!1},this._onPlayerDestroy=(()=>{this.setState({started:!1})}),this._sendShowStat=(()=>{const e=this.props,t=e.logger,n=e.pixels;t.log(Dc.show),!this._pixelsExist&&n&&(n.forEach(e=>{try{const t=new Image;t.onerror=(()=>console.error(`Error while calling pixel (desktop video); ${e}`)),t.src=e}catch(e){console.error("Error while calling pixel:",e)}}),this._pixelsExist=!0)}),e}componentDidMount(){const e=this.props,t=e.autoplay,n=e.videoAutoplay;if("boolean"!=typeof t){const e=Bc();n("boolean"!=typeof e||e)}}componentDidUpdate(e){const t=this.state.started,n=e.paused,r=e.isIntersecting,o=e.isVisible,i=this.props,s=i.id,a=i.isIntersecting,c=i.isVisible,l=i.paused,u=i.interactive,d=i.logger,p=i.setIntersecting,h=i.setVisibility;t||l||this.setState({started:!0}),r!==a&&p(s,a),o!==c&&h(s,c),!n||l||u||d.log(Dc.autoplay),n||!l||u||d.log(Dc.autopause)}render(){const t=this.props.isVisible,n=this.state.started,r=Object.assign({},this.props,{started:n,onDestroy:this._onPlayerDestroy});return mt.a.createElement(Xi,{isVisible:t,onShow:this._sendShowStat},mt.a.createElement(e,r))}}t.defaultProps={paused:!0,muted:!0,shouldInitPlayer:!1,interactive:!1};return Jt(()=>{const e=Fr(),t=zr(),n=Nr();return(r,o)=>{let i=o.id;const s=r.feed.items[i],a=e(r,i),c=t(r,i),l=n(s,"feed"),u=r.sources[s.source],d=r.videoModal.openedItemId===i,p=r.iface.isVideoAutoplayEnabled,h=r.videoCards.interactionCardId===i;return Object.assign({},s,{feedbackProps:a,feedbackMittensProps:c,logger:l,source:u,isModalOpen:d,autoplay:p,interactive:h})}},{videoAutoplay:cr,setIntersecting:Tc,setVisibility:Rc,setLastInteractedCard:Nc,setActiveCard:Pc,toggleVideoModal:Ac})(t)};n(223),n(218);const zc=yi("video_autoplay");class Hc extends ht.PureComponent{render(){const e=this.props,t=e.autoplay,n=e.onAutoplayClick;return mt.a.createElement("div",{className:zc("wrapper",{active:t}),onClick:n},"Автовоспроизведение",mt.a.createElement("div",{className:zc("outer")},mt.a.createElement("div",{className:zc("inner")})))}}n(217);const Vc={},$c=function(e,t){let n=void 0===t?{}:t,r=n.invalidate,o=void 0!==r&&r,i=n.crossorigin,s=void 0!==i&&i,a=n.useCredentials,c=void 0!==a&&a;if(Vc[e]&&!o)return Vc[e].promise;const l=document.createElement("script");l.src=e,l.async=!0,s&&(l.crossOrigin=c?"use-credentials":"anonymous");const u=new Promise((t,n)=>{l.onload=(()=>{Vc[e].loaded=!0,t()}),l.onerror=(t=>{Vc[e].error=t,n(t)})});return Vc[e]&&document.head&&document.head.removeChild(Vc[e].script),document.head&&document.head.appendChild(l),Vc[e]={script:l,promise:u,loaded:!1,error:null},u};$c.isRequested=(e=>Boolean(Vc[e])),$c.isLoaded=(e=>Boolean(Vc[e]&&Vc[e].loaded)),$c.isFailed=(e=>Boolean(Vc[e]&&Vc[e].error));var Gc=$c;n(216),n(215);const Wc=yi("spinner");class qc extends ht.PureComponent{render(){const e=this.props.dots,t=new Array(e).fill().map((e,t)=>mt.a.createElement("div",{key:t,className:Wc("dot",{[`dot-index_${t}`]:!0})}));return mt.a.createElement("div",{className:Wc()},t)}}qc.defaultProps={dots:5};const Kc=yi("video-loader");function Yc(e){const t=e.visible,n=e.className,r=s(e,["visible","className"]),o=yi.mix(Kc({visible:t}),n);return mt.a.createElement("div",wt({className:o},r),mt.a.createElement(qc,null))}const Qc=(e,t)=>{const n={};return r=>{var o=e,i=Array.isArray(o),s=0;for(o=i?o:o[Symbol.iterator]();;){var a;if(i){if(s>=o.length)break;a=o[s++]}else{if((s=o.next()).done)break;a=s.value}const e=a;!n[e]&&r>=e&&(n[e]=!0,t(e))}}},Zc=yi("video-player");class Jc extends ht.PureComponent{constructor(){var e;return e=super(...arguments),Xc.call(this),e}componentDidMount(){const e=this.props,t=e.shouldInitPlayer,n=e.logger,r=e.video.heartbeatTimes;this._heartbeatHandler=Qc(r,e=>{n.log(Dc.heartbeat,{global:{_video_pos_:e}})}),t&&this._initPlayer()}componentWillUnmount(){this._player&&this._player.destroy(),this._initPlayer.cancel(),Object.keys(this._cancelableHandlers).forEach(e=>this._cancelableHandlers[e].cancel())}componentDidUpdate(e){const t=e.muted,n=e.video,r=e.paused,o=this.props,i=o.paused,s=o.muted,a=o.video,c=o.shouldInitPlayer;if(!this._player&&c&&this._initPlayer(),r&&!i&&this._resetLoop(),this._player){const e=this._player.getState();e===Lc.PLAYING||i?e!==Lc.PAUSED&&i&&this._player.pause():this._player.play(),t!==s&&this._player.setMuted(s),n.id!==a.id&&this._updateConfig(),c||this._destroy()}}_renderLoader(){const e=this.props.paused,t=this.state.loading;return mt.a.createElement(Yc,{visible:t&&!e})}render(){const e=this.props,t=e.className,n=e.style,r=yi.mix(Zc(),t);return mt.a.createElement("div",{className:r,style:n},this._renderLoader(),mt.a.createElement("div",{className:Zc("container"),style:n,ref:this._containerRef}))}}Jc.defaultProps={maxBufferLength:7,preload:!0,hidden:"*",size:{width:"100%",height:"100%"},handlers:{},shouldInitPlayer:!1,paused:!0,muted:!0};var Xc=function(){var e=this;this.state={loading:!1},this._initStarted=!1,this._cancelableHandlers={},this._previousTime=0,this._loopCounter=1,this._loopPaused=!1,this._loopTimeCounter=300,this._latestMuted=!0,this._containerRef=ha()(e=>{this._containerElem=e}),this._resetLoop=(()=>{this._player?this._loopTimeCounter=this._player.getWatchedTime()+300:this._loopTimeCounter=300,this._loopCounter=1,this._loopPaused=!1}),this._onReady=(()=>{this._resetLoop()}),this._onCurrentTimeChange=((e,t,n)=>{const r=this.props,o=r.logger,i=r.stopLoop;this._heartbeatHandler(n);const s=this._previousTime>e;this._previousTime=e,n>=this._loopTimeCounter&&!this._loopPaused?(i(),o.log(Dc.autopause),this._loopPaused=!0):s&&(5===this._loopCounter?(i(),o.log(Dc.end),this._loopCounter=1):(o.log(Dc.end),o.log(Dc.replay),this._loopCounter++))}),this._onStateChange=(e=>{const t=this.props.logger,n=this.state.loading;switch(e){case Lc.PLAYING:"play"===this._latestUserAction&&(t.log(Dc.play),this.setState({paused:!1})),n&&this.setState({loading:!1});break;case Lc.PAUSED:"pause"===this._latestUserAction&&(t.log(Dc.pause),this.setState({paused:!0})),n&&this.setState({loading:!1});break;case Lc.BUFFERING:n||this.setState({loading:!0})}this._latestUserAction=null}),this._onUserAction=(e=>{if(e.name===jc){const t=(e.data||{}).state;switch(t){case"play":this._resetLoop(),this._latestUserAction=t;break;case"pause":this._latestUserAction=t}}}),this._onVolumeChange=(e=>{const t=this.props.logger,n=0===e;this._latestMuted!==n&&(n?t.log(Dc.sound_off):t.log(Dc.sound_on),this._latestMuted=n)}),this._prepareHandlers=(()=>{const t=Object.assign({},this.props.handlers),n=t.onStateChange,r=t.onUserAction,o=t.onVolumeChange,i=t.onCurrentTimeChange,s=t.onReady;t.onStateChange=function(){e._onStateChange(...arguments),n&&n(...arguments)},t.onCurrentTimeChange=function(){e._onCurrentTimeChange(...arguments),i&&i(...arguments)},t.onUserAction=function(){e._onUserAction(...arguments),r&&r(...arguments)},t.onVolumeChange=function(){e._onVolumeChange(...arguments),o&&o(...arguments)},t.onReady=(()=>{this._onReady(),s&&s()}),this._cancelableHandlers=Object.keys(t).reduce((e,n)=>Object.assign({},e,{[n]:ha()(t[n])}),{})}),this._prepareSource=(()=>{const e=this.props.video;return{streamUrl:e.id,loop:!1!==e.loop,additionalParams:e.additionalParams}}),this._updateConfig=o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._prepareHandlers(),n=e._prepareSource(),e._previousTime=0,!e.props.isIE){t.next=11;break}return t.next=6,e._player.destroy();case 6:e._initStarted=!1,e._player=null,e._initPlayer(),t.next=13;break;case 11:return t.next=13,e._player.setSource(n);case 13:case"end":return t.stop()}},t,this)})),this._initPlayer=ha()(o(regeneratorRuntime.mark(function t(){var n,r,o,i,s,a,c,l,u,d,p,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._initStarted){t.next=2;break}return t.abrupt("return");case 2:return e._initStarted=!0,n=e.props,r=n.maxBufferLength,o=n.muted,i=n.preload,s=n.hidden,a=n.size,c=n.video,l=c.id,u=c.hasSound,d=n.objectFit,p=n.paused,e._previousTime=0,t.next=7,Gc("https://yastatic.net/yandex-video-player-iframe-api/js/video-player-iframe-api-loader.js");case 7:return h=e._prepareSource(),e._prepareHandlers(),t.next=11,window.Ya.streamPlayer.init({version:"1.0-381",element:e._containerElem,handlers:e._cancelableHandlers,source:h,maxBufferLength:r,muted:o||!u,preload:i,hidden:s,size:a});case 11:e._player=t.sent,l!==e.props.video.id?e._updateConfig():(e._player.setVideoStyle({objectFit:d}),p||e._player.play());case 13:case"end":return t.stop()}},t,this)}))),this._destroy=(()=>{const t=this.props,n=t.destroyTimeout,r=void 0===n?2e3:n,i=t.onDestroy;this._destroyTimeout=setTimeout(o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.shouldInitPlayer,!e._player||n){t.next=7;break}return t.next=4,e._player.destroy();case 4:e._initStarted=!1,e._player=null,i&&i();case 7:case"end":return t.stop()}},t,this)})),r)})};const el=yi("video-card");class tl extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={hideControls:!1},this._getSoundTitle=(()=>{const e=this.props,t=e.muted;return e.hasSound?t?"Включить звук":"Выключить звук":"Видео без звука"}),e}_renderPlayer(){const e=this.props,t=e.playerProps,n=e.onClick;return mt.a.createElement(Jc,wt({className:el("player-wrapper")},t,{onClick:n}))}_renderPreview(){const e=this.props,t=e.started,n=e.size,r=e.image,o=e.bigImage,i={backgroundImage:`url(${n!==z&&o?o:r})`};return t?null:mt.a.createElement("div",{className:el("preview",{started:t}),style:i})}_renderControls(){const e=this.props,t=e.muted,n=e.autoplay,r=e.onMuteClick,o=e.onAutoplayClick,i=e.hasSound,s=mt.a.createElement("div",{className:el("mute",{active:i&&!t,noSound:!i}),onClick:r,title:this._getSoundTitle()}),a=mt.a.createElement(Hc,{autoplay:n,onAutoplayClick:o});return mt.a.createElement("div",{className:el("controls")},s,a)}_renderPlayButton(){const e=this.props.paused;return mt.a.createElement("div",{className:el("play_button",{visible:e})})}_renderTitle(){const e=this.props.title;return mt.a.createElement(Xs,{className:el("title")},e)}_renderDomain(){const e=this.props,t=e.domainTitle,n=e.feedLink,r=e.logger;return mt.a.createElement("div",{className:el("domain")},mt.a.createElement(Sa,{link:n,logger:r},mt.a.createElement(Ca,{textColor:"#fff",name:t})))}_renderMittens(e){void 0===e&&(e=null);const t=this.props.feedbackMittensProps;return mt.a.createElement("div",{className:el("mittens")},mt.a.createElement(oa,wt({},t,{color:"#fff",type:e})))}_renderFeedback(){const e=this.props,t=e.logger,n=e.feedbackProps,r=e.feedback,o=e.isExtendFeedbackPopupExp;return n.isEnabled&&(r&&"liked"!==r||o)?o?mt.a.createElement(ws,wt({mainColor:"rgb(0,0,0)",className:el("feedback-popup-view"),logger:t},n,{theme:"white"})):mt.a.createElement("div",{className:el("feedback-wrapper")},mt.a.createElement(ws,wt({logger:t},n))):null}_renderFeedbackControls(){return mt.a.createElement("div",{className:el("feedback-controls")},mt.a.createElement("div",{className:el("bottom")},this._renderDomain(),this._renderMittens("popup")))}render(){const e=this.props,t=e.containerRef,n=e.started,r=e.paused,o=e.onClick,i=e.isIntersecting,s=e.controlsHidden,a=e.link,c=e.rtbFitted,l=e.isExtendFeedbackPopupExp,u={visible:i,started:n,paused:r,isExtendFeedbackPopupExp:l},d=c?"_rtb-fitted":null;return mt.a.createElement("div",{className:yi.mix(el(u),d)},this._renderPreview(),mt.a.createElement("a",{className:el("content",{hidden:s}),ref:t,href:a,target:"_blank",rel:"noopener",onClick:o},this._renderPlayButton(),this._renderControls(),this._renderTitle(),mt.a.createElement("div",{className:el("bottom")},this._renderDomain(),this._renderMittens())),this._renderPlayer(),this._renderFeedback(),l?this._renderFeedbackControls():null)}}const nl={activeCard:{id:null,paused:!1,muted:!0},interactionCardId:null,visibleCardIndices:{},intersectingCardIndices:{}},rl=(e,t,n,r)=>{const o=e[n],i=t.payload,s=i.id,a=i.index,c=i[r],l=Object.assign({},o);return c?l[s]=a:delete l[s],Object.assign({},e,{[n]:l})};const ol=Object(Xt.createSelector)((e,t)=>t,e=>e.videoModal.openedItemId,e=>{const t=e.videoCards,n=t.interactionCardId;if(void 0!==t.intersectingCardIndices[n])return n},(e,t)=>e.feed.items[t].video.autoplay&&e.iface.isVideoAutoplayEnabled,(e,t)=>{const n=e.videoCards.visibleCardIndices;if(0===n.length)return!1;const r=Object.values(n);return n[t]===Math.min.apply(void 0,r)},(e,t,n,r,o)=>!(t||n&&n!==e)&&(n===e||!!r&&o)),il=(e,t,n)=>{return(e.videoCards.activeCard.id===t?e.videoCards:nl).activeCard[n]};var sl=Object(ei.a)(Jt(()=>{const e=Object(Xt.createSelector)(ol,(e,t)=>{const n=e.feed.items[t].feedback;return n&&"liked"!==n},(e,t)=>il(e,t,"paused"),(e,t)=>il(e,t,"muted"),(e,t,n,r)=>!e||t?{paused:!0,muted:!0}:{paused:n,muted:r});return(t,n)=>{let r=n.id;const o=mn(t),i=fn(t),s=o.isExp("ab:rezen_video_modal:enable"),a=i.safeGet("rezen_extend_feedback.is_popup",!1),c=Hn(t),l=e(t,r);return{paused:l.paused,muted:l.muted,hasModal:s,rtbFitted:c,isExtendFeedbackPopupExp:a}}}),Uc)(class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={controlsHidden:!1},this._changeActiveCard=(e=>{const t=this.props,n=t.id,r=t.paused,o=t.muted;(0,t.setActiveCard)(Object.assign({id:n,paused:r,muted:o},e))}),this._containerRef=(e=>{this._containerElem&&this._containerElem.removeEventListener("auxclick",this._onAuxClick),this._containerElem=e,this._containerElem&&this._containerElem.addEventListener("auxclick",this._onAuxClick)}),this._hideControls=ha()(e=>{this.setState({controlsHidden:e})}),this._onAuxClick=(e=>{if(1===e.button){const e=this.props,t=e.id,n=e.paused,r=e.setLastInteractedCard,o=e.logger;r(t),n||(this._changeActiveCard({paused:!0}),o.log(Dc.pause))}}),this._onClick=(e=>{const t=this.props,n=t.id,r=t.setLastInteractedCard,o=t.logger;if(r(n),!e.ctrlKey&&!e.metaKey||0!==e.button){if(this.props.hasModal){const e=this.props,t=e.id,n=e.logger,r=e.paused,o=e.toggleVideoModal;e.isModalOpen||(n.log(Dc.click),o(t),r||(this._changeActiveCard({paused:!0}),n.log(Dc.pause)))}else{const e=this.props,t=e.paused,n=e.logger;n.log(Dc.click),this._changeActiveCard({paused:!t}),n.log(t?Dc.play:Dc.pause)}e.preventDefault()}else this.props.paused||(this._changeActiveCard({paused:!0}),o.log(Dc.pause))}),this._onMuteClick=(e=>{const t=this.props,n=t.id,r=t.muted,o=t.logger,i=t.video.hasSound;(0,t.setLastInteractedCard)(n),i&&(o.log(r?Dc.sound_on:Dc.sound_off),this._changeActiveCard({muted:!r})),e.stopPropagation(),e.preventDefault()}),this._onAutoplayClick=(e=>{const t=this.props,n=t.id,r=t.autoplay,o=t.paused,i=t.logger,s=t.videoAutoplay;(0,t.setLastInteractedCard)(n);const a=!r;Fc(a),s(a),i.log(a?Dc.autoplay_on:Dc.autoplay_off),o&&a&&i.log(Dc.autoplay),o||a||i.log(Dc.autopause),this._changeActiveCard({paused:r}),e.stopPropagation(),e.preventDefault()}),this._stopLoop=(()=>{this._changeActiveCard({paused:!0})}),e}componentWillUnmount(){this._hideControls.cancel(),this._onPlayerDestroy.cancel()}componentDidUpdate(e){const t=e.paused,n=this.props.paused;t&&!n&&(this._hideControls(!1),setTimeout(()=>this._hideControls(!0),Mc)),!t&&n&&this._hideControls(!1)}render(){const e=this.props,t=e.started,n=e.paused,r=e.muted,o=e.video,i=e.link,s=e.isIntersecting,a=e.logger,c=e.size,l=e.rtbFitted,u=e.onDestroy,d=e.isExtendFeedbackPopupExp,p=this.state.controlsHidden,h={video:o,shouldInitPlayer:t&&s,logger:a,objectFit:c===z?"cover":"contain",isIntersecting:s,paused:n,muted:r,onDestroy:u,stopLoop:this._stopLoop,handlers:{onCurrentTimeChange:this._onCurrentTimeChange}},m=Object.assign({},this.props,{link:i,started:t,hasSound:o.hasSound,containerRef:this._containerRef,onClick:this._onClick,onMuteClick:this._onMuteClick,onAutoplayClick:this._onAutoplayClick,playerProps:h,controlsHidden:p,rtbFitted:l,isExtendFeedbackPopupExp:d});return mt.a.createElement(tl,m)}});n(214);var al=e=>{return class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._onClick=(()=>{const e=this.props,t=e.logger,n=e.onClick;t.log("click"),n&&n()}),e}render(){return mt.a.createElement(e,wt({},this.props,{onClick:this._onClick}))}}};var cl=e=>{return class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._loggerSelector=Pr(),e}render(){return mt.a.createElement(e,wt({},this.props,{logger:this._loggerSelector(this.props)}))}}};const ll=yi("hint-eula");var ul=Object(ei.a)(Jt((e,t)=>{let n=t.id;const r=kn(e),o=e.feed.items[n];return Object.assign({theme:r},o)}),cl,al,Ra)(class extends ht.PureComponent{render(){const e=this.props,t=e.theme,n=e.link,r=e.rootRef,o=e.onClick;return mt.a.createElement("div",{className:ll({theme:t}),ref:r},mt.a.createElement("div",{className:ll("text")},"Пролистывая далее, вы соглашаетесь с условиями пользовательского соглашения Яндекс Дзен."),mt.a.createElement("a",{href:n,className:ll("link"),target:"_blank",rel:"noopener",onClick:o},"Читать полный текст пользовательского соглашения"))}});n(213);var dl=()=>{let e,t;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(t&&((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0})(e,r))return t;const i=e=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n(e):n&&(n.current=e)}};return e=r,t=i,i}};var pl=e=>{let t=e.tag,n=void 0===t?"div":t,r=e.text,o=e.attrs;const i=(0,e.stylesFormatter)(r,o,s(e,["tag","text","attrs","stylesFormatter"]));return mt.a.createElement(n,wt({},o,{style:i}),r)};const hl=e=>(t,n,r)=>{let o=r.warning;const i=t.length;let s;return s=i<=20?e.big:i<=40&&!o?e.medium:e.small},ml={fontSize:"10px",lineHeight:"14px"},fl=hl({small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"18px",lineHeight:"22px"},big:{fontSize:"26px",lineHeight:"32px"}}),gl=hl({small:{fontSize:"12px",lineHeight:"16px"},medium:{fontSize:"14px",lineHeight:"20px"},big:{fontSize:"14px",lineHeight:"20px"}}),_l=e=>e.length>=30?ml:null,bl=e=>{let t=e.title,n=e.warning,r=e.attrs;return mt.a.createElement(pl,{text:t,stylesFormatter:fl,warning:n,attrs:r})},vl=e=>{let t=e.text,n=e.warning,r=e.attrs;return mt.a.createElement(pl,{text:t,stylesFormatter:gl,warning:n,attrs:r})},yl=e=>{let t=e.warning,n=e.attrs;return mt.a.createElement(pl,{text:t,stylesFormatter:_l,attrs:n})};n(212);const El=yi("direkt-card-standard");var kl=class extends ht.PureComponent{render(){const e=this.props,t=e.title,n=e.text,r=e.age,o=e.warning,i=e.domain,s=e.isRubberyDesign,a=e.directLinkClickHandler,c=e.columnCount,l=e.hasButton;let u=this.props,d=u.image,p=u.renderLabel;if(d){const e=Number(d[1]),t=Number(d[2]);d=e>=306&&t>=135?d[0]:null}let h=null,m=null,f=null;d||s?(h=mt.a.createElement(bl,{title:t,warning:o,attrs:{className:El("title")}}),m=mt.a.createElement(vl,{text:n,warning:o,attrs:{className:El("text")}}),o&&(f=mt.a.createElement(yl,{warning:o,attrs:{className:El("warning")}}))):(h=mt.a.createElement("div",{className:El("title")},t),m=mt.a.createElement("div",{className:El("text")},n),o&&(f=mt.a.createElement("div",{className:El("warning")},o)));const g={columns:c,hasImage:Boolean(d),hasButton:l};return mt.a.createElement("div",{className:El(g)},mt.a.createElement("div",{className:El("label"),onClick:a},mt.a.createElement(p,null)),d?mt.a.createElement("div",{className:El("image"),style:{backgroundImage:`url(${d})`}}):null,mt.a.createElement("div",{className:El("image-gradient")}),mt.a.createElement("div",{className:El("title-spacer")}),mt.a.createElement("div",{className:El("content")},mt.a.createElement("div",{className:El("title-content")},h),mt.a.createElement("div",{className:El("sub-content")},mt.a.createElement("div",{className:El("domain")},i),r?mt.a.createElement("div",{className:El("age")},r):null),mt.a.createElement("div",{className:El("text-content")},m,f)),l?mt.a.createElement("div",{className:El("button")},"Перейти"):null)}};n(211);const wl=yi("direkt-card-banner");var Cl=class extends ht.PureComponent{render(){const e=this.props,t=e.title,n=e.text,r=e.image,o=e.warning,i=e.domain,s=e.age,a=e.directLinkClickHandler,c=e.columnCount,l=e.hasButton,u=e.rootRef,d=e.renderLabel,p={columns:c,hasButton:l};return mt.a.createElement("div",{className:wl(p),ref:u},mt.a.createElement("div",{className:wl("label"),onClick:a},mt.a.createElement(d,null)),mt.a.createElement("div",{className:wl("background")},mt.a.createElement("div",{className:wl("image"),style:{backgroundImage:`url(${r})`}}),mt.a.createElement("div",{className:wl("image-mask")})),mt.a.createElement("div",{className:wl("hover-fade")}),mt.a.createElement("div",{className:wl("title-spacer")}),mt.a.createElement("div",{className:wl("content")},mt.a.createElement("div",{className:wl("title-content")},mt.a.createElement(bl,{title:t,warning:o,attrs:{className:wl("title")}})),mt.a.createElement("div",{className:wl("sub-content")},mt.a.createElement("div",{className:wl("domain")},i),s?mt.a.createElement("div",{className:wl("age")},s):null),mt.a.createElement("div",{className:wl("text-content")},mt.a.createElement(vl,{text:n,warning:o,attrs:{className:wl("text")}}),o?mt.a.createElement("div",{className:wl("warning")},o):null)),l?mt.a.createElement("div",{className:wl("button")},"Перейти"):null)}},xl=n(81);var Sl=(e,t)=>{e.stopPropagation(),e.preventDefault();const n=xl.a[t];n?window.open(n,"_blank"):i.a.warn("directPartnerClickHandler: invalid tld")};const Ol=yi("direkt");var Il=Jt((e,t)=>{let n=t.id;const r=e.feed.items[n],o=e.params.tld,i=Pn(e.feed),s=Fn(e),a=mn(e),c=a.isExp("rezen_direct_use_wide_images"),l=a.isExp("direct_label_cut"),u=Hn(e);return Object.assign({tld:o,columnCount:i,hasButton:!0,isRubberyDesign:Boolean(s),isWideImagesExp:c,isRtbFitted:u,isDirectLabelCut:l},r)},(e,t)=>({onAdClick(){e(xs(t.id))},onAdShow(){e(Cs(t.id))}}))(class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._containerRef=Object(ht.createRef)(),this._composeContainerRefs=dl(),this._sendShowStat=(()=>{He(this.props.showUrl).catch(i.a.error),this.props.onAdShow()}),this._directLinkClickHandler=(e=>{const t=this.props.tld;Sl(e,t)}),this._renderLabel=(()=>{const e=this.props.isDirectLabelCut,t="Яндекс.Директ";return e?mt.a.createElement("span",{className:Ol("label-container")}):t}),e}_getImageUrl(){const e=this.props.image;return e&&e[0]}_onAdClick(e){const t=this.props,n=t.onAdClick,r=t.url;n(e),window.open(r,"_blank")}componentDidMount(){this._containerRef.current&&this._containerRef.current.addEventListener("auxclick",this.props.onAdClick)}componentWillUnmount(){this._containerRef.current&&this._containerRef.current.removeEventListener("auxclick",this.props.onAdClick)}render(){const e=this.props,t=e.rootRef,n=e.title,r=e.text,o=e.image,i=e.domain,s=e.age,a=e.warning,c=e.isWideImage,l=e.columnCount,u=e.hasButton,d=e.isRubberyDesign,p=e.isVisible,h=e.isIntersecting,m=e.isWideImagesExp,f={image:this._getImageUrl(),warning:a,title:n,text:r,domain:i,age:s,columnCount:l,hasButton:u,isRubberyDesign:d,isVisible:p,isIntersecting:h,renderLabel:this._renderLabel,directLinkClickHandler:this._directLinkClickHandler},g=mt.a.createElement("div",{className:Ol(),onClick:e=>this._onAdClick(e),ref:this._composeContainerRefs(this._containerRef,t)},c&&m?mt.a.createElement(Cl,f):mt.a.createElement(kl,wt({},f,{image:o})));return mt.a.createElement(Xi,{isVisible:p,onShow:this._sendShowStat},g)}});n(210);const Tl=Gi("channel-card"),Rl=e=>e.length>=8&&/\s/.test(e);class Nl extends mt.a.PureComponent{constructor(){var e;return e=super(...arguments),this.state={isTouch:!1},this._onIconClick=(e=>{const t=this.props.onIconClick;t&&(e.preventDefault(),e.stopPropagation(),t(e))}),e}componentDidMount(){const e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;this.setState({isTouch:e})}_renderText(){const e=this.props.text;if(!Rl(e))return e;const t=(e.length-1)/2;let n=0;for(let r=0;r<e.length;r++)/\s/.test(e[r])&&Math.abs(t-r)<Math.abs(t-n)&&(n=r);return mt.a.createElement(ht.Fragment,null,e.slice(0,n),mt.a.createElement("br",null),e.slice(n))}render(){const e=this.props,t=e.size,n=e.status,r=e.theme,o=e.image,i=e.imageBackgroundColor,a=e.text,c=e.textColor,l=e.textBackgroundColor,u=e.containerRef,d=e.tag,p=e.isMobile,h=s(e,["size","status","theme","image","imageBackgroundColor","text","textColor","textBackgroundColor","containerRef","tag","isMobile"]),m={backgroundColor:i,backgroundImage:`url('${o}')`},f={color:c,backgroundColor:l},g=this.state.isTouch,_=Ui(zi(h,["onIconClick","isMobile"]),{className:Tl({size:t,status:n,theme:r,isMobile:p,isTouch:g,isButton:"a"===d||"button"===d})});return mt.a.createElement(d,wt({ref:u},_),mt.a.createElement("div",{className:Tl("image"),style:m}),mt.a.createElement("div",{className:Tl("text",{isLong:Rl(a)}),style:f},mt.a.createElement("div",{className:Tl("text-wrapper")},this._renderText())),mt.a.createElement("div",{className:Tl("gradient")}),mt.a.createElement("div",{className:Tl("icon"),onClick:this._onIconClick}))}}Nl.defaultProps={tag:"div",theme:"white"};var Pl=Object(ht.forwardRef)((e,t)=>mt.a.createElement(Nl,wt({},e,{containerRef:t})));var Al=Jt(null,{checkSource:e=>({type:"CHECK_SOURCE",payload:{id:e}}),uncheckSource:e=>({type:"UNCHECK_SOURCE",payload:{id:e}})})(class extends ht.Component{constructor(){var e;return e=super(...arguments),this._onClick=(()=>{const e=this.props,t=e.logger,n=e.checkSource,r=e.uncheckSource,o=e.channel,i=o.id,s=o.userSubscribed;(s?r:n)(i),t.log("click",{global:{_i_:i,_s_:String(s?0:1)}}),nt.invalidateCache()}),e}getCardProps(){const e=this.props.channel,t=e.image,n=e.name,r=e.userSubscribed,o=e.textBackgroundColor,i=e.imageBackgroundColor;return{image:t,textColor:e.textColor,text:n,textBackgroundColor:o,imageBackgroundColor:i,status:r?"subscribed":"add",theme:"black"}}render(){return mt.a.createElement(Pl,wt({},this.getCardProps(),{size:"r",onClick:this._onClick,onIconClick:this._onClick,isMobile:this.props.isMobile}))}});n(199);const Ml=yi("iceboarding-view");var Ll=class extends ht.PureComponent{_renderButton(){const e=this.props.moreButton;return e?mt.a.createElement("a",{className:Ml("more-sources"),href:e.link},"Показать больше источников"):null}render(){const e=this.props,t=e.sources,n=e.titleRef,r=e.view,o=e.theme,i=e.logger,s=e.isMobile;return mt.a.createElement("div",{className:Ml({view:r,theme:o})},mt.a.createElement("div",{className:Ml("title"),ref:n},"Отметьте интересные источники"),mt.a.createElement("div",{className:Ml("description")},"В ленте будет больше публикаций с этих сайтов"),mt.a.createElement("div",{className:Ml("sources")},t.map((e,t)=>mt.a.createElement("div",{className:Ml("source-item"),key:t},mt.a.createElement(Al,{channel:e,logger:i,isMobile:s})))),this._renderButton())}};var Dl=Jt(()=>{const e=Nr(),t=Object(Xt.createSelector)(e=>e.iceboarding.checkedSources,(e,t)=>e.feed.items[t],e=>Pn(e.feed),(e,t,n)=>t.sources.slice(0,30).map(t=>Object.assign({},t,{userSubscribed:e.includes(t.id)})));return(n,r)=>{let o=r.id;const i=n.feed.items[o];return Object.assign({},i,{sources:t(n,o),isMobile:n.params.isMobile,theme:kn(n),logger:e(i)})}})(class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._onShow=(()=>{const e=this.props,t=e.logger,n=e.sources;t.log("show",{info:n.map(e=>e.id)})}),e}render(){const e=this.props,t=e.isVisible,n=e.isMobile,r=Object.assign({},this.props,{view:n?"mobile":"desktop"});return mt.a.createElement(Xi,{isVisible:t,onShow:this._onShow},mt.a.createElement(Ll,r))}});n(198);const jl=yi("iceboarding-feed-item");var Bl=class extends ht.PureComponent{render(){const e=this.props,t=e.id,n=e.rootRef,r=e.isVisible,o=e.rowIndex;return mt.a.createElement("div",{className:jl(),ref:n},mt.a.createElement(Dl,{id:t,isVisible:r,rowIndex:o}))}};n(197),n(196);var Fl=function e(t,n,r){if(void 0===r&&(r=!1),t.length<3||r&&n()>.7)return[t];const o=n()*(t.length-2)+1;return[...e(t.substr(0,o),n,!0),...e(t.substr(o),n,!0)]};const Ul=e=>{const t=window.Ya&&window.Ya.Rum,n=t&&t.makeSubPage?t.makeSubPage(e,t.getTime()):null;return{sendTimeMark(e){if(void 0===e&&(e=[]),!n)return;const r=e.join(".");t.sendTimeMark(r,t.getTime(),!1,n)},onLoadStart(e){void 0===e&&(e=[]),this.sendTimeMark(["1724",...e])},onRenderEnd(e){void 0===e&&(e=[]),this.sendTimeMark(["2046",...e])}}},zl="https://yastatic.net/partner-code/loaders/context.js",Hl="yandexContextAsyncCallbacks";let Vl,$l=!1;const Gl=()=>{if($l)return;$l=!0;const e=document.createElement("script");e.innerHTML="\n        window.home = window.home || {};\n        window.home.export = window.home.export || {};\n    ",document.head&&document.head.appendChild(e)};function Wl(e,t,n){void 0===t&&(t={}),t.pcodever&&(window.pcodever=t.pcodever);const r=Ul("155");t.isLiteRtb&&Gl(),(Vl||(Vl=new Promise((e,t)=>{window[Hl]=window[Hl]||[],window[Hl].push(()=>{e(window.Ya)}),Gc(zl).catch(t)})),Vl).then(t=>{r.onLoadStart(),t.Context.AdvManager.render(Object.assign({},e,{onRender:t=>{r.onRenderEnd(["direct"===t.product?"155":"3431"]),e.onRender&&e.onRender(t)}}),n)})}var ql=function(e){void 0===e&&(e=123456789);let t=e,n=987654321,r=4294967295;return{getNext:()=>{let e=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return.5+(e/=4294967296)},setSeed:function(e){void 0===e&&(e=123456789),t=e,n=987654321}}};const Kl=ql();var Yl=e=>{class t extends ht.Component{constructor(){var e;return e=super(...arguments),this.state={seed:Math.floor(1e4*Kl.getNext()),random:ql()},e}render(){const t=this.state,n=t.seed,r=t.random;return r.setSeed(n),mt.a.createElement(e,wt({},this.props,{random:r}))}}return t.displayName=`WithRandomSequence(${ci(e)})`,t};const Ql=yi("ad-card");let Zl=0;const Jl={reportAdDidntLoad:e=>({type:"REPORT_AD_DIDNT_LOAD",payload:{itemId:e}})};var Xl=Object(ei.a)(Jt(e=>{const t=mn(e).isExp("ab:rezen_lite_rtb_version:rezen_lite_rtb_version_enabled"),n=fn(e).safeGet("rezen_pcode.version",0);return{isRtbFitted:Hn(e),isLiteRtb:t,pcodever:n}},Jl),Yl)(class extends mt.a.Component{componentDidMount(){const e=this.props,t=e.ad,n=t.block_id,r=t.partner_stat_id,o=e.isLiteRtb,s=e.id,a=e.reportAdDidntLoad,c=e.pcodever;Wl({blockId:n,statId:r,pageNumber:Zl++,renderTo:this.getDomElemId(),grab:"dFlhbmRleCB6ZW4KTm8gZ3JhYg==",async:!0},{isLiteRtb:o,pcodever:c},()=>{i.a.log(`No ad: ${n}-${r}`),a(s)})}shouldComponentUpdate(){return!1}getDomElemId(){return this.props.ad.dom_elem_id}render(){const e=this.props,t=e.isRtbFitted,n=e.mix,r=e.ad,o=(r.block_id,r.partner_stat_id,e.random),i=t?"_is-rtb-fitted":null,s=Fl("реклама",o.getNext).reverse().map((e,t)=>mt.a.createElement("div",{key:t},e));return mt.a.createElement("div",{className:yi.mix(Ql(),i,n)},mt.a.createElement("div",{className:"ad-card__ad-box"},mt.a.createElement("div",{className:"ad-card__ad-box-reverse"},s)),mt.a.createElement("div",{className:"ad-card__ad"},mt.a.createElement("div",{"data-block-id":void 0,id:this.getDomElemId()})),mt.a.createElement(cc,null))}});n(195);const eu=yi("similar-doc-card-view");var tu=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._containerRef=Object(ht.createRef)(),this._composeContainerRefs=dl(),this._renderRocket=(()=>{const e=this.props,t=e.rocket,n=e.image,r=e.isDark;return t?mt.a.createElement("div",{className:eu("rocket")},mt.a.createElement(pc,{faint:!n,color:r?"#fff":"#000"})):null}),this._renderClickable=(()=>{const e=this.props,t=e.onClick,n=e.link,r=e.rootRef;return mt.a.createElement("a",{ref:this._composeContainerRefs(this._containerRef,r),className:eu("clickable"),onClick:t,href:n,target:"_blank",rel:"noopener"})}),e}getStyles(){const e={},t=this.props,n=t.image,r=t.cardColors,o=t.mainColor;return n&&(e.backgroundImage=`url(${n})`,e.backgroundPosition="center",e.backgroundSize="cover"),o?e.color=Rs(o).text:r&&(e.color=r.text),e}getCardColor(){const e=this.props,t=e.cardColors,n=e.mainColor;return n?Rs(n).card:t?t.card:void 0}getFadesStyle(){const e=this.getCardColor();if(e){const t=Ss(e).join(),n=[`rgba(${t},1) 0%`,`rgba(${t},0.2) 40%`,`rgba(${t},0.3) 56%`,`rgba(${t},0.3) 100%`];return{fade:{background:`linear-gradient(to right, ${[`rgba(${t},0.88) 0%`,`rgba(${t},0.88) 25%`,`rgba(${t},0.79) 40%`,`rgba(${t},0.68) 56%`,`rgba(${t},0.09) 100%`].join()})`},hover:{background:`linear-gradient(to right, ${n.join()})`}}}return{fade:{},hover:{}}}componentDidMount(){this._containerRef.current&&this._containerRef.current.addEventListener("auxclick",this.props.onClick)}componentWillUnmount(){this._containerRef.current&&this._containerRef.current.removeEventListener("auxclick",this.props.onClick)}render(){const e=this.props,t=e.title,n=e.text,r=e.domainTitle,o=e.image,i=e.isMobile,s=e.isIntersecting,a=e.feedLink,c=e.logger,l=e.linkHoverEnabled,u=this.getFadesStyle(),d={hasImage:Boolean(o),mobile:i,linkHoverEnabled:l};return mt.a.createElement("div",{className:eu(d),style:this.getStyles()},this._renderClickable(),mt.a.createElement("div",{className:eu("fade"),style:u.fade}),mt.a.createElement("div",{className:eu("hover-fade"),style:u.hover}),this._renderRocket(),mt.a.createElement("div",{className:eu("content")},mt.a.createElement("div",{className:eu("content-wrapper")},mt.a.createElement($a,{className:eu("title"),isIntersecting:s},t),i?null:mt.a.createElement($a,{className:eu("text"),isIntersecting:s},n),mt.a.createElement(Sa,{className:eu("source-name-holder"),link:a,logger:c},mt.a.createElement("div",{className:eu("source-name")},r)))),mt.a.createElement(cc,null))}};var nu=Object(ei.a)(ra,Ei,Jt(e=>{return{linkHoverEnabled:mn(e).isExp("ab:rezen_channel_links:rezen_channel_links")}}))(class extends ht.PureComponent{render(){const e=this.props,t=e.isVisible,n=e.logger,r=Object.assign({},this.props,{onClick:()=>n.log("click")}),o=this.props.ad?mt.a.createElement(Xl,wt({},r,{mix:"similar__item-ad-container"})):mt.a.createElement(tu,r);return mt.a.createElement(Xi,{logger:n,isVisible:t},o)}});n(194);const ru=yi("similar-direkt-card-view");var ou=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._containerRef=Object(ht.createRef)(),this._composeContainerRefs=dl(),this._directLinkClickHandler=(e=>{const t=this.props.tld;Sl(e,t)}),e}_onAdClick(e){const t=this.props,n=t.onClick,r=t.url;n(e),window.open(r,"_blank")}_getImage(){const e=this.props.image;return e&&e[0]}_renderBackground(){const e=this._getImage();return e?mt.a.createElement("div",{className:ru("background-wrapper")},mt.a.createElement("div",{className:ru("background"),style:{backgroundImage:`url(${e})`}}),mt.a.createElement("div",{className:ru("background-gradient")}),mt.a.createElement("div",{className:ru("background-hover")})):null}_renderAge(){const e=this.props.age;return e?mt.a.createElement("div",{className:ru("age")},e):null}_renderWarning(){const e=this.props.warning;return e?mt.a.createElement("div",{className:ru("warning-content")},mt.a.createElement("div",{className:ru("warning")},e),this._renderAge()):null}componentDidMount(){this._containerRef.current&&this._containerRef.current.addEventListener("auxclick",this.props.onClick)}componentWillUnmount(){this._containerRef.current&&this._containerRef.current.removeEventListener("auxclick",this.props.onClick)}render(){const e=this.props,t=e.rootRef,n=e.title,r=e.text,o=e.domain,i=e.isMobile,s=this._getImage(),a={hasImage:Boolean(s),mobile:i};return mt.a.createElement("div",{className:ru(a),onClick:e=>this._onAdClick(e),ref:this._composeContainerRefs(this._containerRef,t)},mt.a.createElement("div",{className:ru("label"),onClick:this._directLinkClickHandler}),this._renderBackground(),mt.a.createElement("div",{className:ru("image"),style:{backgroundImage:`url(${s})`}}),mt.a.createElement("div",{className:ru("content")},mt.a.createElement("div",{className:ru("title")},n),mt.a.createElement("div",{className:ru("domain")},o),mt.a.createElement("div",{className:ru("text")},r),this._renderWarning()||this._renderAge()),mt.a.createElement(cc,null))}};var iu=Object(ei.a)(ra,Ei,Jt(e=>{return{tld:e.params.tld}}))(class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._sendShowStat=(()=>{const e=this.props,t=e.logger,n=e.showUrl;t.log("show"),He(n).catch(i.a.error)}),e}render(){const e=this.props,t=e.logger,n=(e.isIntersecting,e.isVisible),r=Object.assign({},this.props,{onClick:()=>t.log("click")});return mt.a.createElement(Xi,{isVisible:n,onShow:this._sendShowStat},mt.a.createElement(ou,r))}});const su=4,au=yi("similar");var cu=Jt((e,t)=>{let n=t.id;const r=e.feed.items[n],o=zn(e,n),i=mn(e),s=Pn(e.feed);return Object.assign({pointerPosition:o,experiments:i,columnCount:s},r)})(class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._renderFilterMask=(()=>mt.a.createElement("div",{className:au("filter-mask")})),this._renderSmallCard=((e,t)=>{const n=this.props,r=n.rowIndex,o=n.experiments,i=o.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),s=o.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing");return mt.a.createElement("div",{className:au("card",{isLetterSpacingExp:i,isBigLetterSpacingExp:s}),key:`doc-${t}`},mt.a.createElement(nu,wt({},e,{rowIndex:r})),this._renderFilterMask())}),this._renderDirectCard=((e,t)=>{const n=this.props.rowIndex;return mt.a.createElement("div",{className:au("card"),key:`direct-${t}`},mt.a.createElement(iu,wt({},e,{rowIndex:n})),this._renderFilterMask())}),e}_getDocs(){const e=this.props,t=e.items,n=(e.columnCount,t.docs),r=t.direct;let o;return o=r.length>0?su-1:su,r.length,n.slice(0,o)}_renderLeftPointer(e){return e===$.CENTER?null:mt.a.createElement("div",{className:au("left-pointer")},mt.a.createElement("div",{className:au("left-pointer-spacer")}),e===$.LEFT?mt.a.createElement("div",{className:au("left-pointer-elem")}):null)}_renderRightPointer(e){return e===$.CENTER?null:mt.a.createElement("div",{className:au("right-pointer")},e===$.RIGHT?mt.a.createElement("div",{className:au("right-pointer-elem")}):null,mt.a.createElement("div",{className:au("right-pointer-spacer")}))}render(){const e=this.props,t=e.pointerPosition,n=e.items,r=this._getDocs(),o=n.direct;return mt.a.createElement("div",{className:au()},mt.a.createElement("div",{className:au("title")},this._renderLeftPointer(t),mt.a.createElement("span",{className:au("title-text")},"Вам может быть интересно"),this._renderRightPointer(t)),mt.a.createElement("div",{className:au("cards")},r.map(this._renderSmallCard),o.map(this._renderDirectCard)))}});n(191);const lu=yi("placeholder-card");var uu=Jt(()=>{const e=Nr();return(t,n)=>{let r=n.id,o=n.rowIndex;const i=t.feed.items[r];return{index:Bn(t.feed,r),logger:e(Object.assign({},i,{rowIndex:o}))}}})(class extends ht.Component{constructor(){var e;return e=super(...arguments),this._containerRef=mt.a.createRef(),this._getPlaceholderEventParams=(()=>{const e=this.props,t=e.index,n=e.rowIndex,r=e.itemIndexInRow,o=e.logger;return{index:t,rowIndex:n,itemIndexInRow:r,container:this._containerRef.current,size:this._getPlaceholderSize(),onShow:()=>o.log("partner_show"),onClick:()=>o.log("partner_click")}}),this._triggerRealShow=(()=>{this._containerRef.current&&(rt.emit(ot.PLACEHOLDER_SHOW,this._getPlaceholderEventParams()),this._realShowSent=!0)}),this._getLogger=(()=>{const e=this.props.logger,t=this._containerRef.current;return t&&t.hasChildNodes()?e:null}),this._onClick=(()=>{const e=this._getLogger();e&&e.log("click")}),this._getPlaceholderSize=(()=>{const e=this.props.size;switch(e){case H:return"big";case z:return"small";case V:return"free";default:return i.a.error("Unsupported placeholder size: ",e),null}}),e}shouldComponentUpdate(e){const t=this.props.isVisible,n=e.isVisible;return!this._realShowSent&&!t&&n}componentWillUnmount(){const e=this.props.index;rt.emit(ot.PLACEHOLDER_UNMOUNT,{index:e})}componentDidMount(){this._containerRef.current&&rt.emit(ot.PLACEHOLDER,this._getPlaceholderEventParams()),this._getPlaceholderSize()}render(){const e=this.props.isVisible,t=this._getLogger(),n=this._getPlaceholderSize(),r=this._containerRef.current,o=!r||!r.hasChildNodes();return mt.a.createElement(Xi,{isVisible:e,onShow:this._triggerRealShow,logger:t},mt.a.createElement("div",{className:lu({size:n,needBackground:o})},mt.a.createElement("div",{className:lu("background")}),mt.a.createElement("div",{className:lu("container"),ref:this._containerRef,onClick:this._onClick})))}});n(190);var du={1:{[z]:{[$.LEFT]:{width:"100%"}}},2:{[z]:{[$.LEFT]:{width:"50%",justifyContent:"flex-start"},[$.RIGHT]:{width:"50%",justifyContent:"flex-end"}},[H]:{[$.LEFT]:{width:"100%",justifyContent:"center"}},[V]:{[$.LEFT]:{width:"100%",justifyContent:"center"}}},3:{[z]:{[$.LEFT]:{width:"33.333%",justifyContent:"flex-start"},[$.CENTER]:{width:"33.333%",justifyContent:"center"},[$.RIGHT]:{width:"33.333%",justifyContent:"flex-end"}},[H]:{[$.LEFT]:{width:"66.666%",justifyContent:"flex-start"},[$.RIGHT]:{width:"66.666%",justifyContent:"flex-end"}},[V]:{[$.LEFT]:{width:"100%",justifyContent:"center"}}}};const pu=yi("user-question-view");const hu=()=>mt.a.createElement("div",{className:pu("response")},"Спасибо за помощь!");var mu=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._containerRef=(e=>{const t=this.props.rootRef;t&&t(e)}),this._renderUserQuestionAnswer=(e=>{let t=e.id,n=e.text,r=e.key;const o=this.props.onCheck;return mt.a.createElement("div",{className:pu("answer"),key:r,onClick:()=>{o(t,r,!0),Uo()}},n)}),e}_getContentSizeParams(){const e=this.props,t=e.position,n=e.columnCount,r=e.parentItemSize;return du[n][r][t]}_renderQuestionContent(){const e=this.props,t=e.answers,n=e.text;return mt.a.createElement("div",{ref:this._containerRef},mt.a.createElement("div",{className:pu("title")},n),mt.a.createElement("div",{className:pu("answers")},t.map((e,t)=>{let n=e.id,r=e.text,o=e.isChecked;return this._renderUserQuestionAnswer({id:n,text:r,key:t,isChecked:o})})))}render(){const e=this._getContentSizeParams(),t=e.width,n=e.justifyContent,r=this.props.answers.some(e=>e.isChecked);return mt.a.createElement("div",{className:pu(),style:{justifyContent:n}},mt.a.createElement("div",{className:pu("content"),style:{width:t}},r?mt.a.createElement(hu,null):this._renderQuestionContent()))}};const fu={answerUserQuestion:Uo};var gu=Object(ei.a)(Jt((e,t)=>{let n=t.id;const r=(e.feed.items[n]||{}).parentId;return{question:Lr(e,r),position:zn(e,n),columnCount:Pn(e.feed),parentItemSize:((e,t)=>{const n=Un(e,t);return Dn(e.feed).elements[n].size})(e,n)}},fu),Qi,Ei,Ra)(mu);n(189),n(188);const _u=yi("interest-tag"),bu=e=>{const t=e.component,n=e.rootRef,r=e.title,o=s(e,["component","rootRef","title"]),i=Ui(o,{className:_u()});return mt.a.createElement(t,wt({ref:n},i),mt.a.createElement("span",{className:_u("title")},r))};bu.defaultProps={component:"div"};var vu=bu;const yu=Object(ei.a)(cl,Ei,al,Ra)(e=>{const t=e.title,n=e.target,r=e.feedLink;return mt.a.createElement(vu,{component:"a",className:Eu("interest"),style:{backgroundColor:"#dedede"},title:t,href:r,target:n,rel:"noopener"})}),Eu=yi("similar-interests");var ku=Jt((e,t)=>{let n=t.id,r=t.rowIndex;const o=e.feed.items[n];return Object.assign({},o,{rowIndex:r})})(class extends ht.PureComponent{render(){const e=this.props,t=e.items,n=e.isMobile,r=e.itemsTarget;return 0===t.length?null:mt.a.createElement("div",{className:Eu({isMobile:n})},mt.a.createElement("div",{className:Eu("title")},"Смотрите также"),mt.a.createElement("div",{className:Eu("interests")},t.map(e=>mt.a.createElement(yu,wt({key:e.id},e,{component:"a",href:e.feedLink,target:r,rel:"noopener",place:"suggest",className:Eu("interest")})))))}});const wu=e=>{class t extends ht.PureComponent{render(){const t=this.props,n=t.adDidntLoad,r=s(t,["adDidntLoad"]);return n?mt.a.createElement(e,r):mt.a.createElement(Xl,wt({},r,{mix:"feed__item-ad-container"}))}}t.displayName=`WithAdCard(${ci(e)})`;return Jt((e,t)=>{let n=t.id;return{adDidntLoad:e.feed.items[n].adDidntLoad}})(t)};let Cu;Cu={[M]:Ic,[U]:Ic,[F]:sl,[D]:Il,similar:cu,[j]:Bl,hint_eula:ul,"card-placeholder":uu,placeholder:uu,"user-feedback-question":gu,similar_interests:ku};const xu={[M]:wu(Ic),[U]:wu(Ic),[F]:wu(sl)},Su=yi("feed");var Ou=class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this.state={hasError:!1},e}componentDidCatch(){this.setState({hasError:!0})}render(){if(this.state.hasError)return null;const e=this.props,t=e.isVisible,n=e.isIntersecting,r=e.rowIndex,o=e.scrollToID,i=e.itemIndexInRow,s=e.item,a=s.id,c=s.type,l=s.size,u=s.ad,d=e.styles.feedItem,p=u&&(l===z||u.is_big)&&xu[c]||Cu[c];if(!p)return null;const h={zenScrollToTarget:o===a,size:l},m={id:a,size:l,ad:u,rowIndex:r,itemIndexInRow:i,isVisible:t,isIntersecting:n};return mt.a.createElement("div",{className:Su("item",h),style:d},mt.a.createElement(p,m))}};const Iu=yi("feed");var Tu=class extends ht.PureComponent{render(){const e=this.props,t=e.row,n=e.rowIndex,r=e.rootRef,o=e.scrollToID,i=e.isVisible,s=e.isIntersecting,a=e.styles,c=t.hasPlaceholder,l=Iu("row");let u=a.feedRow;return c&&(u=Object.assign({},u,{marginBottom:0})),mt.a.createElement("div",{className:l,ref:r,style:u},t.map((e,t)=>mt.a.createElement(Ou,{key:e.id,item:e,rowIndex:n,itemIndexInRow:t,scrollToID:o,isVisible:i,isIntersecting:s,styles:a})))}};n(187);const Ru=yi("feed-empty");function Nu(e){let t=e.size,n=void 0===t?"m":t;return mt.a.createElement("h2",{className:Ru({size:n})},"Нет публикаций")}const Pu=Ei(Tu);var Au=class extends ht.PureComponent{componentDidMount(){this.props.onChange(null,this.props)}componentDidUpdate(e){this.props.onChange(e,this.props)}render(){const e=this.props,t=e.grid,n=e.displayedRowsNumber,r=e.className,o=e.scrollToID,i=e.styles,s=e.visibilityThreshold,a=e.setFeedListContainer,c=t.rows.slice(0,n).map((e,t)=>{const n=e.reduce((e,t)=>e+t.id,"");return mt.a.createElement(Pu,{key:n,row:e,visibilityThreshold:s,rowIndex:t,scrollToID:o,styles:i})});return mt.a.createElement("div",{ref:a,className:r,style:i.feed},0===t.rows.length?mt.a.createElement(Nu,null):c)}};n(186);const Mu=600;var Lu=Ei(class extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._lastSessionId=null,e}_updateIfIntersecting(e,t){void 0===e&&(e=this._lastSessionId=Math.random()),void 0===t&&(t=1);const n=this.props,r=n.isIntersecting,o=n.onFeedEndReach;r&&e===this._lastSessionId&&t<=5&&o().then(n=>{n&&setTimeout(()=>{this._updateIfIntersecting(e,t+1)},200)})}componentDidMount(){this._updateIfIntersecting()}componentDidUpdate(e){e.isIntersecting||this._updateIfIntersecting()}render(){const e=this.props.rootRef;return mt.a.createElement("div",{className:"more-mark-wrapper"},mt.a.createElement("div",{className:"more-mark",ref:e,style:{height:`${Mu}px`}}))}});const Du=30,ju=yi("feed");var Bu=Jt(()=>{const e=((e,t,n)=>{const r=Object.keys(e);return Object(Xt.createSelector)(mn,o=>{for(var i=0;i<r.length;i++){let n=r[i];const s=`${t}:${n}`;if(o.isExp(s))return e[n]}return n})})({50:.5},"ab:rezen_item_visibility_threshold");return t=>({isMoreButtonVisible:t.iface.isMoreButtonVisible,scrollToID:t.shared.scrollToID,displayedRowsNumber:t.feed.displayedRowsNumber,grid:Dn(t.feed),columnCount:Pn(t.feed),rubberyType:Fn(t),styles:A.get(t,"params.styles")||{},visibilityThreshold:e(t),experiments:mn(t)})},{switchMoreButtonOffsetMode:sr,drawMoreItems:()=>(e,t)=>{const n=t().feed,r=n.displayedRowsNumber,o=n.gridType,i=Dn(n).rows,s=r+In(o,"rowDisplayStep"),a=[];if(s>i.length?a.push(new Promise(t=>{e(Do({onAfterPackInsert:t}))})):a.push(Promise.resolve(!1)),r<=i.length){const n=Vn();e(Fo(s)),a.push(n(t()).then(()=>!0))}else a.push(Promise.resolve(!1));return Promise.all(a).then(e=>{let t=e[0],n=e[1];return t||n})},setCommentsCounts:function(e){return void 0===e&&(e={}),function(){var t=o(regeneratorRuntime.mark(function t(n){var r,o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.elements,o=void 0===r?{}:r,i=[],Object.keys(o).forEach(e=>{const t=o[e]&&o[e].commentsDocumentId;t&&!Ho.includes(t)&&(i.push(t),Ho.push(t))}),i.length){t.next=5;break}return t.abrupt("return",null);case 5:return t.next=7,nt.getCommentsCounters(i);case 7:(s=t.sent)&&n({type:"SET_COMMENTS_COUNTS",payload:s});case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(class extends ht.Component{constructor(){var e;return e=super(...arguments),this._emitRowsChanged=(e=>{const t=this.props.grid.rows,n=this.props.displayedRowsNumber,r=A.get(e,"grid.rows"),o=e&&e.displayedRowsNumber;(!e||r!==t||o!==n)&&rt.emit(ot.ROWS_CHANGED,Ln(t,n))}),this._onFeedListChange=((e,t)=>{const n=this.props,r=n.experiments,o=n.setCommentsCounts;e&&e.grid===t.grid&&e.displayedRowsNumber===t.displayedRowsNumber||(at.emit(ct.FEED_CHANGED,t.grid,t.displayedRowsNumber),(r.isExp("ab:rezen_comments_counter:rezen_comments_counter")||r.isExp("zen_comments"))&&o(t.grid)),this._emitRowsChanged(e)}),e}initScrollEvents(){const e=this.props,t=e.switchMoreButtonOffsetMode,n=e.scrollToID;vo(),n&&go({delta:Du,direction:1,once:!0},()=>{t("normal")})}componentDidMount(){const e=this.props,t=e.scrollToID,n=e.switchMoreButtonOffsetMode;this.initScrollEvents(),t&&n("header")}render(){const e=this.props,t=e.grid,n=e.columnCount,r=e.rubberyType,o=e.scrollToID,i=e.displayedRowsNumber,s=e.setFeedListContainer,a=e.styles,c=e.visibilityThreshold,l=e.drawMoreItems,u=ju({columns:n,rubberyType:r});return mt.a.createElement("div",null,mt.a.createElement(Au,{className:u,grid:t,displayedRowsNumber:i,scrollToID:o,onChange:this._onFeedListChange,setFeedListContainer:s,styles:a,visibilityThreshold:c}),mt.a.createElement(Lu,{onFeedEndReach:l}))}});n(185);var Fu=()=>{const e=document.createElement("div");Object.assign(e.style,{position:"absolute",top:"-9999px",left:"-9999px",overflow:"scroll",visibility:"hidden",width:"100px",height:"100px"}),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};class Uu extends ht.Component{constructor(){var e;return e=super(...arguments),this.state={scrollbarWidth:null},e}componentDidMount(){this.setState({scrollbarWidth:Fu()})}render(){const e=this.props,t=e.component,n=e.componentRef,r=s(e,["component","componentRef"]),o=this.state.scrollbarWidth;let i;return i="number"==typeof o&&o>0?Ui(r,{style:{width:`calc(100vw - ${o}px)`}}):r,mt.a.createElement(t,wt({ref:n},i))}}Uu.defaultProps={component:"div"};var zu=Object(ht.forwardRef)((e,t)=>mt.a.createElement(Uu,wt({},e,{componentRef:t}))),Hu=n(46);n(184),n(183),n(182),n(181);const Vu=yi("info-button");var $u=e=>{let t=e.isVisible,n=e.position,r=e.theme;const o=Vu({visible:t,position:n,theme:r});return mt.a.createElement("div",{className:o},mt.a.createElement("a",{className:Vu("link"),href:"https://zen.yandex.com/about",target:"_blank"}))};const Gu=()=>mt.a.createElement("div",{className:Vu("spacer")}),Wu=yi("more-button");class qu extends ht.PureComponent{_renderInfoButton(){const e=this.props,t=e.needInfoButton,n=e.theme;return t?mt.a.createElement($u,{theme:n}):null}_renderInfoButtonSpacer(){return this.props.needInfoButton?mt.a.createElement(Gu,null):null}render(){const e=this.props,t=e.moreButtonOffsetMode,n=e.isMoreButtonVisible,r=e.position,o=e.isNavbarAtBottom,i=e.theme,s=e.onClick,a={visible:n,offsetMode:t,isOverNavbar:o,isOverAdfoxBanner:e.isAdfoxOffsetNotifyButton,position:r,theme:i};return mt.a.createElement("div",{className:Wu(a)},this._renderInfoButton(),mt.a.createElement("div",{className:Wu("container")},mt.a.createElement("div",{className:Wu("content"),onClick:s},mt.a.createElement("div",{className:Wu("icon")}),mt.a.createElement("div",{className:Wu("text")},"новые публикации"))),this._renderInfoButtonSpacer())}}qu.defaultProps={moreButtonOffsetMode:"normal",needInfoButton:!1};var Ku=qu;n(180),n(179);const Yu=yi("error-message");var Qu=e=>{const t=e.isErrorMessageVisible,n=e.position,r=e.onClick,o=e.isNavbarAtBottom,i=e.isAdfoxOffsetNotifyButton,s=e.theme,a={visible:t,position:n,theme:void 0===s?"black":s,"is-over-navbar":o,"is-over-adfox-banner":i};return mt.a.createElement("div",{className:Yu(a),onClick:r},mt.a.createElement("div",{className:Yu("container")},mt.a.createElement("div",{className:Yu("content")},mt.a.createElement("div",{className:Yu("icon")}),mt.a.createElement("div",{className:Yu("text")},"Новых публикаций пока нет"))))};const Zu=parseInt(Hu.header.height),Ju=parseInt(Hu.zenOne.header.height),Xu=yi("notifiers");class ed extends ht.PureComponent{constructor(){var e;return e=super(...arguments),this._onMoreButtonClick=(()=>{const e=this.props,t=e.getMore,n=e.hideMoreButton,r=e.logger,o=e.shouldRefreshFeed;Rr("more-button")(r).log("client_click"),n(),t({insertOnTop:!0,onAfterPackInsert:Mo,shouldRefreshFeed:o})}),this._onErrorMessageClick=(()=>{const e=this.props,t=e.getMore,n=e.hideErrorMessage;t(),n()}),e}_addMoreButtonScrollEvents(){const e=this.props,t=e.showMoreButton,n=e.hideMoreButton,r=e.switchMoreButtonOffsetMode,o=e.moreButtonResponsiveness,i=e.isZenOneEnabled;go({delta:o,direction:-1,onceDebounce:!0},t),go({delta:o,direction:1,onceDebounce:!0},n),fo({scroll:(i?Zu:Ju)-30,precise:!0},e=>{let t=e.state;r(0===t?"header":"normal")})}_renderErrorMessage(){const e=this.props,t=e.theme,n=e.position,r=e.needErrorMessage,o=e.isNativeFeed,i=e.isErrorMessageVisible,s=e.isNavbarAtBottom,a=e.isAdfoxOffsetNotifyButton;if(!r||o)return null;const c={theme:t,position:n,isErrorMessageVisible:i,isNavbarAtBottom:s,isAdfoxOffsetNotifyButton:a,onClick:this._onErrorMessageClick};return mt.a.createElement(Qu,c)}_renderMoreButton(){const e=this.props,t=e.position,n=e.needMoreButton,r=e.isMoreButtonVisible,o=e.moreButtonOffsetMode,i=e.needInfoButton,s=e.theme,a=e.isNativeFeed,c=e.isAdfoxOffsetNotifyButton,l=e.isNavbarAtBottom;if(!n||a)return null;const u={position:t,moreButtonOffsetMode:o,isMoreButtonVisible:r,needInfoButton:i,theme:s,isNavbarAtBottom:l,isAdfoxOffsetNotifyButton:c,onClick:this._onMoreButtonClick};return mt.a.createElement(Ku,u)}componentDidMount(){const e=this.props,t=e.needMoreButton,n=e.enableNotifiers,r=e.disableNotifiers;t&&this._addMoreButtonScrollEvents(),it.on(st.NOTIFIERS_ENABLED,()=>{n()}),it.on(st.NOTIFIERS_DISABLED,()=>{r()})}render(){const e=this.props,t=e.position,n=e.withScrollbarFix?zu:"div";return mt.a.createElement(n,{className:Xu({position:t})},mt.a.createElement("div",{className:Xu("container")},this._renderMoreButton(),this._renderErrorMessage()))}}ed.defaultProps={theme:"black",position:"top",needErrorMessage:!0,moreButtonResponsiveness:30};var td=Jt((e,t)=>{const n=Sn(e),r=hn(e),o=Object(Xt.createSelector)(e=>e.params.bulk.bulk_params,e=>e.params.bulk.stat_events,(e,t)=>wr(e,t)),i=e.iface,s=i.moreButtonOffsetMode,a=i.isErrorMessageVisible,c=i.isMoreButtonVisible,l=i.isAdfoxSmartVisible,u=t&&t.location&&t.location.pathname,d=mn(e),p=Rr("notifiers")(o(e)),h=d.isExp("ab:rezen_unified:bottom"),m=d.isExp("ab:rezen_more_button_behavior:rezen_more_button_refresh_feed");return{isAdfoxOffsetNotifyButton:l,moreButtonOffsetMode:s,needMoreButton:gn(e)&&(!n||void 0===u||(e=>"/"===e||!!e.match(/^\/people\/[a-z]+\/?$/))(u)),isNativeFeed:r,isErrorMessageVisible:a,isMoreButtonVisible:c,isNavbarAtBottom:h,isZenOneEnabled:n,logger:p,shouldRefreshFeed:m}},{getMore:Do,showMoreButton:()=>(e,t)=>{const n=t().iface,r=n.isSpinnerVisible,o=n.isErrorMessageVisible,i=n.isNotifiersDisabled;r||o||i||e({type:"SHOW_MORE_BUTTON",payload:null})},hideMoreButton:ir,switchMoreButtonOffsetMode:sr,hideErrorMessage:ar,disableNotifiers:()=>e=>{e(e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})}),e(e=>{e({type:"HIDE_MORE_BUTTON",payload:null})}),e({type:"DISABLE_NOTIFIERS",payload:null})},enableNotifiers:()=>({type:"ENABLE_NOTIFIERS",payload:null})},null,{pure:!1})(ed);const nd={clickmap:!1,trackLinks:!1,accurateTrackBounce:!0},rd={};var od=e=>t=>{const n=e.id,r=`yaCounter${n}`,i=Object.assign({},nd,e),s=function(){var e=o(regeneratorRuntime.mark(function e(){var t,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return rd[n]||(rd[n]=Gc("https://mc.yandex.ru/metrika/tag.js",{invalidate:!1}).then(()=>!(!window.Ya||!window.Ya.Metrika2)&&(window[r]=window[r]||new window.Ya.Metrika2(i),window[r]))),e.next=3,rd[n];case 3:if((t=e.sent)&&"function"==typeof t.reachGoal)try{t.reachGoal(...o)}catch(e){tn.a.error("withMetrikaGoal: Error while reaching metrika goal",e)}else tn.a.error(`withMetrikaGoal: No metrika counter found for number ${n}`);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return Jt(e=>{const t=mn(e);return{experiments:t,disableMetrikaExp:t.isExp("rezen_disable_metrika")}})(class extends ht.Component{constructor(){var e,t;return e=t=super(...arguments),this._reachMetrikaGoal=function(){const e=t.props,n=e.disableMetrika,r=e.disableMetrikaExp;return n||r?null:s(...arguments)},e}render(){return mt.a.createElement(t,wt({},this.props,{reachMetrikaGoal:this._reachMetrikaGoal}))}})};const id=yi("zen-page");const sd=Object(ei.a)(Jt(e=>({theme:kn(e),libType:e.params.libType,notifiersPosition:e.params.notifiersPosition,isWhiteBackground:On(e)})),od({id:50377519,clickmap:!1,trackLinks:!1,accurateTrackBounce:!0}))(class extends ht.Component{componentDidMount(){const e=this.props.reachMetrikaGoal;e&&e("LIB_SHOWED")}render(){const e=this.props,t=e.theme,n=e.libType,r=e.notifiersPosition,o={theme:t,libType:n,whiteBackground:e.isWhiteBackground};return mt.a.createElement("div",{className:id(o)},mt.a.createElement("div",{className:"zen-app"},r?mt.a.createElement(td,{position:r}):null,mt.a.createElement(Bu,null)))}});var ad=n(59);var cd=e=>(t,n)=>{switch(n.type){case"MERGE_STATE_BRANCH":{const e=n.payload,r=e.branchName,o=e.branchState,i=Object.keys(o).reduce((e,t)=>(void 0!==o[t]&&(e[t]=o[t]),e),{});return A.set(t,[r],e=>Object.assign({},e,i))}default:return e(t,n)}};const ld={feedback:null,complaints:null,complaintsSendedAt:null};var ud=function(e,t){switch(void 0===e&&(e=ld),t.type){case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{feedback:"liked"});case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{feedback:"disliked"});case"ITEM_FEEDBACK_BLOCK":return Object.assign({},e,{feedback:"blocked"});case"ITEM_FEEDBACK_CANCEL":return Object.assign({},e,{feedback:null,complaints:null});case"ITEM_COMPLAINTS_OPEN":return Object.assign({},e,{complaints:"opened"});case"ITEM_COMPLAINTS_SEND":return Object.assign({},e,{complaints:"sended",complaintsSendedAt:e.feedback});case"ITEM_COMPLAINTS_CANCEL":return Object.assign({},e,{complaints:null,complaintsSendedAt:null});case"ITEM_MITTENS_JUMP":{const n=t.payload.isMittensJumping;return Object.assign({},e,{isMittensJumping:n})}case"ITEM_FEEDBACK_ANSWER_TOGGLE":{const n=t.payload,r=n.targetKey,o=n.questionType,i=e.customUserFeedbackData.questions,s=(void 0===i?[]:i).findIndex(e=>e.type===o);if(s<0)return e;const a=["customUserFeedbackData","questions",s,"answers",r,"isChecked"],c=A.get(e,a);return A.set(e,a,!c)}case"ITEM_FEEDBACK_ANSWERS_UNCHECK":{const t=e.customUserFeedbackData.questions,n=(void 0===t?[]:t).findIndex(e=>"extended_dislike_feedback"===e.type);if(n<0)return e;const r=["customUserFeedbackData","questions",n,"answers"],o=(A.get(e,r)||[]).map(e=>Object.assign({},e,{isChecked:!1}));return A.set(e,r,o)}default:return e}};var dd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>t.reduce((e,t)=>t(e,n),e)};var pd=dd(ud,function(e,t){switch(void 0===e&&(e={}),t.type){case"DOC_READ":return Object.assign({},e,{read:!0});case"DOC_CLICK":return Object.assign({},e,{subscribeTriggerEvent:"click"});case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{subscribeTriggerEvent:"feedback_more"});default:return e}});var hd=dd(ud,function(e,t){switch(void 0===e&&(e={}),t.type){case"VIDEO_READ":return Object.assign({},e,{read:!0,currentTime:t.payload.currentTime});case"VIDEO_START":return Object.assign({},e,{started:!0,paused:!1});case"VIDEO_RESET":case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{started:!1,paused:!0});case"VIDEO_TOGGLE_MODAL":{const n=t.payload,r=n.paused,o=n.isFullScreen;return Object.assign({},e,{started:!0,paused:r,isFullScreen:o})}default:return e}});var md=(e,t)=>{switch(e.type){case U:case M:case L:return pd(e,t);case F:return hd(e,t);default:return e}};var fd=(e,t)=>t.reduce((e,t)=>{let n=t[0],r=t.slice(1);return A[n](e,...r)},e);const gd={gridType:"two_column",items:{},itemsOrder:[],displayedRowsNumber:0,isChildWindow:!1},_d=function(e,t,n,r){void 0===r&&(r=!0);const o=e.indexOf(n),i=Number(r);if(-1===o)throw new Error("Array not contains item.");return e.slice(0,o+i).concat(t,e.slice(o+i))},bd=(e,t,n)=>_d(e,t,n,!1),vd=(e,t,n)=>_d(e,t,n,!0);var yd=function(e,t){switch(void 0===e&&(e=gd),t.type){case"PREPEND_ITEM":{const n=t.payload.item;return fd(e,[["set",["items",n.id],n],["set","itemsOrder",e=>[n.id].concat(e)]])}case"APPEND_ITEM":{const n=t.payload.item;return fd(e,[["set",["items",n.id],n],["set","itemsOrder",e=>e.concat(n.id)]])}case"INSERT_ITEM_BEFORE":{const n=t.payload,r=n.item,o=n.beforeId;return fd(e,[["set",["items",r.id],r],["set","itemsOrder",e=>bd(e,r.id,o)]])}case"INSERT_ITEM_AFTER":{const n=t.payload,r=n.item,o=n.afterId;return fd(e,[["set",["items",r.id],r],["set","itemsOrder",e=>vd(e,r.id,o)]])}case"REMOVE_ITEM":{const n=t.payload.itemId,r=e.itemsOrder.indexOf(n);return fd(e,[["del",["items",n]],["del",["itemsOrder",r]]])}case"REPLACE_ITEM":{const n=t.payload,r=n.item,o=n.replaceId,i=e.itemsOrder.indexOf(o);return fd(e,[["del",["items",o]],["set",["items",r.id],r],["set",["itemsOrder",i],r.id]])}case"RECEIVE_ITEMS":{const n=t.payload,r=n.items,o=n.insertOnTop,a=n.shouldRefreshFeed,c=Object.keys(e.items),l={},u=[];if(r.forEach(e=>{let t,n=e.source,r=s(e,["source"]);c.includes(r.id)||u.includes(r.id)?(i.a.warn(`Non unique item: ${r.id}, ${r.title}`),t=`${r.id}_${Date.now()}`):t=r.id,l[t]=Object.assign({},r,{id:t,source:n?n.id:void 0}),u.push(t)}),a)return Object.assign({},e,{items:l,itemsOrder:u});const d=Object.assign({},e.items,l),p=o?u.concat(e.itemsOrder):e.itemsOrder.concat(u);return Object.assign({},e,{items:d,itemsOrder:p})}case"REQUEST_SIMILAR":case"RECEIVE_SIMILAR":{const n=["items",t.payload.itemId,"isSimilarRequested"],r="REQUEST_SIMILAR"===t.type;return A.set(e,n,r)}case"LINK_CHILD_ITEM":{const n=t.payload,r=n.itemId,o=n.childItemId;return fd(e,[["set",["items",r,"childItemId"],o],["set",["items",o,"parentId"],r]])}case"UNLINK_CHILD_ITEM":{const n=t.payload.itemId,r=e.items[n].childItemId;return fd(e,[["del",["items",n,"childItemId"]],["del",["items",r,"parentId"]]])}case"REPORT_AD_DIDNT_LOAD":{const n=t.payload.itemId;return fd(e,[["set",["items",n,"adDidntLoad"],!0]])}case"ANSWER_USER_QUESTION":{const n=t.payload,r=n.id,o=n.parentId;return fd(e,[["set",["items",r,"isAnswered"],!0],["set",["items",o,"isUserQuestionAnswered"],!0]])}case"SET_GRID_TYPE":{const n=t.payload.gridType;return Object.assign({},e,{gridType:n})}case"SET_DISPLAYED_ROWS_NUMBER":{const n=t.payload.displayedRowsNumber;return Object.assign({},e,{displayedRowsNumber:n})}case"SET_IS_CHILD_WINDOW":{const n=t.payload.isChildWindow;return Object.assign({},e,{isChildWindow:n})}case"CLEAR_FEED":return gd;default:{const n=t.payload&&t.payload.id,r=t.payload&&t.payload.ids;if(n&&e.items[n]){const r=e.items[n];if(!r)return e;const o=md(r,t);return r!==o?A.set(e,["items",n],o):e}if(Array.isArray(r)){const n=e.items,o={};let i=!1;for(let e=0;e<r.length;e++){const s=r[e],a=n[s];a&&a!==(o[s]=md(a,t))&&(i=!0)}return i?Object.assign({},e,{items:Object.assign({},n,o)}):e}return e}}};const Ed={moreButtonOffsetMode:"header",isAdfoxSmartVisible:!1,isMoreButtonVisible:!1,isSpinnerVisible:!1,isErrorMessageVisible:!1,isNotifiersDisabled:!1,isBodyScrollEnabled:!0,isVideoAutoplayEnabled:null,isOpenCardScrollEnabled:!0,feedbackMenuItemId:null,channelTooltipVisible:!1,subsTooltipVisible:!1};var kd=function(e,t){switch(void 0===e&&(e=Ed),t.type){case"SHOW_MORE_BUTTON":return Object.assign({},e,{isMoreButtonVisible:!0});case"HIDE_MORE_BUTTON":return Object.assign({},e,{isMoreButtonVisible:!1});case"ENABLE_ADFOX_SMART_BOTTOM_OFFSET":return Object.assign({},e,{isAdfoxSmartVisible:!0});case"DISABLE_ADFOX_SMART_BOTTOM_OFFSET":return Object.assign({},e,{isAdfoxSmartVisible:!1});case"SWITCH_MORE_BUTTON_OFFSET_MODE":{const n=t.payload.offsetMode;return Object.assign({},e,{moreButtonOffsetMode:n})}case"SHOW_SPINNER":return Object.assign({},e,{isSpinnerVisible:!0});case"HIDE_SPINNER":return Object.assign({},e,{isSpinnerVisible:!1});case"SHOW_ERROR_MESSAGE":return Object.assign({},e,{isErrorMessageVisible:!0});case"HIDE_ERROR_MESSAGE":return Object.assign({},e,{isErrorMessageVisible:!1});case"ENABLE_NOTIFIERS":return Object.assign({},e,{isNotifiersDisabled:!1});case"DISABLE_NOTIFIERS":return Object.assign({},e,{isNotifiersDisabled:!0});case"DISABLE_BODY_SCROLL":return Object.assign({},e,{isBodyScrollEnabled:!1});case"ENABLE_BODY_SCROLL":return Object.assign({},e,{isBodyScrollEnabled:!0});case"VIDEO_AUTOPLAY_ON":return Object.assign({},e,{isVideoAutoplayEnabled:!0});case"VIDEO_AUTOPLAY_OFF":return Object.assign({},e,{isVideoAutoplayEnabled:!1});case"DISABLE_OPEN_CARD_SCROLL":return Object.assign({},e,{isOpenCardScrollEnabled:!1});case"ENABLE_OPEN_CARD_SCROLL":return Object.assign({},e,{isOpenCardScrollEnabled:!0});case"SET_CHANNEL_TOOLTIP_VISIBLE":{const n=t.payload;return Object.assign({},e,{channelTooltipVisible:!!n,subsTooltipVisible:!1})}case"SET_SUBS_TOOLTIP_VISIBLE":{const n=t.payload;return Object.assign({},e,{subsTooltipVisible:!!n,channelTooltipVisible:!1})}default:return e}};const wd={checkedSources:[]};var Cd=function(e,t){switch(void 0===e&&(e=wd),t.type){case"CHECK_SOURCE":{const n=t.payload.id;return{checkedSources:[...e.checkedSources,n]}}case"UNCHECK_SOURCE":{const n=t.payload.id,r=e.checkedSources,o=r.slice(0);return o.splice(r.indexOf(n),1),{checkedSources:o}}default:return e}};const xd=Qn("categories",()=>nt.getCategories(),e=>e.categories,e=>{let t=e.sources,n=e.list;return{sources:t&&t.map(e=>e.id),list:n}}),Sd=Yn(()=>(function(){var e=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=xd.succeed,e.next=4,nt.getCategories();case 4:e.t2=e.sent,e.t3={type:e.t1,payload:e.t2},(0,e.t0)(e.t3);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}})()),Od=Qn("preferences",()=>nt.getPreferences(),e=>e.preferences,()=>null),Id=Yn(()=>e=>nt.getPreferences().then(t=>{e({type:Od.succeed,payload:t})})),Td=(Yn(()=>(e,t)=>e(Id()).then(()=>{const n=t();if(0===fr(n).length)return e(Sd())})),e=>({type:"suggest-set-filter",payload:e})),Rd=function(e,t,n,r){void 0===n&&(n=qn),void 0===r&&(r=1e3);const o=Kn(e,t,n),i=o.action,a=s(o,["action"]);return Object.assign({action:Yn(i,r)},a)}("suggest",function(){var e=o(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",De(n?nt.getBlockedSuggest(t):nt.getSuggest(t)));case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),e=>e&&e.map(e=>e.id),500),Nd=Object.assign({},Rd,{action:function(e,t){return void 0===t&&(t=!1),n=>{n(Td(e)),n(Rd.action(e,t))}},retryAction:e=>(t,n)=>{const r=n().search.filter;t(Rd.action(r,e))}});let Pd;Yn(function(e,t){return void 0===t&&(t=!1),function(){var n=o(regeneratorRuntime.mark(function n(r){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==e){n.next=3;break}return r({type:Nd.succeed,payload:void 0}),n.abrupt("return");case 3:return o=Pd=De(t?nt.getBlockedSuggest(e):nt.getSuggest(e)),n.next=6,o;case 6:if(i=n.sent,o===Pd){n.next=9;break}return n.abrupt("return");case 9:r({type:Nd.succeed,payload:i});case 10:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},500);const Ad=Qn("category",e=>nt.getCategory(e),(e,t)=>e.category[t]||{status:"pending"},e=>{let t=e.sources,n=e.category;return{sources:t&&t.map(e=>e.id),category:n}}),Md=(Yn(e=>t=>nt.getCategory(e).then(n=>{t({type:Ad.succeed,payload:n,meta:e})})),{});var Ld=dd(function(e,t){switch(void 0===e&&(e=Md),t.type){case Od.succeed:{const n=t.payload,r=Object.keys(e).reduce((t,n)=>{const r=e[n];return"not_subscribed"===r.status?t[n]=r:t[n]=Object.assign({},r,{status:"not_subscribed"}),t},{});return n?n.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},r)):r}case Ad.succeed:case xd.succeed:{const n=t.payload.sources;return n?n.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e)):e}case Nd.succeed:{const n=t.payload;return n?n.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e)):e}case"APPLY_EXPORT_DATA":{const n=t.payload.onboardingInterests;return n?n.sources.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e)):e}case"VIDEO_MODAL_SET_SOURCES":{const n=t.payload.sources,r=void 0===n?[]:n;return Object.assign({},e,r)}case"RECEIVE_ITEMS":{const n=t.payload.items,r=(void 0===n?[]:n).reduce((t,n)=>{let r=n.source,o=n.statEvents,i=n.bulkParams;return!r||e[r.id]?t:(t[r.id]=Object.assign({},r,{statEvents:o,bulkParams:i}),t)},{});return Object.assign({},e,r)}case"RECEIVE_SIMILAR":{const n=t.payload.similar,r=(void 0===n?{}:n).items,o=(void 0===r?{}:r).sources,i=(void 0===o?[]:o).reduce((e,t)=>(e[t.id]=Object.assign({},t),e),{});return Object.assign({},e,i)}case"SOURCE_MERGE":{const n=t.payload;return Object.assign({},e,{[n.id]:n})}default:return e}},((e,t)=>(function(n,r){void 0===n&&(n={});const o=e(r);if(void 0===o)return n;const i=t(n[o],r);return n[o]!==i?Object.assign({},n,{[o]:i}):n}))(e=>e.payload&&e.payload.id,(e,t)=>{if(!e)return e;switch(t.type){case"SOURCE_SUBSCRIBE":return Object.assign({},e,{status:"subscribed",subscribers:(e.subscribers||0)+1,isSubscribedInCurrentSession:!0});case"SOURCE_UNSUBSCRIBE":return Object.assign({},e,{status:"not_subscribed",subscribers:(e.subscribers||0)-1,isUnsubscribedInCurrentSession:!0});case"SOURCE_BLOCK":return Object.assign({},e,{status:"blocked"});case"SOURCE_UNBLOCK":return Object.assign({},e,{status:"not_subscribed",isUnblockedInCurrentSession:!0});default:return e}}));const Dd={openedItemId:null,videoFeed:{}};const jd={};var Bd=function(e,t){switch(void 0===e&&(e=jd),t.type){case"SET_COMMENTS_COUNTS":return Object.assign({},e,t.payload);case"INIT_COMMENTS":return Object.assign({},e,{commentsContent:t.payload});default:return e}};var Fd=function(e){return void 0===e&&(e={}),(t,n)=>void 0===t?"function"==typeof e?e():e:t};const Ud=Fd({onboarding:null,more:null,bulk:null}),zd=Fd({host:"https://zen.yandex.ru/",clid:null,countryCode:null,integration:null,product:null,tld:"ru",lang:"ru",isIceStart:!1,zenFeatures:{},clientExperiments:[],experimentsData:{},clientDefinition:{},complaints:[],bannerStats:null,bulk:{}}),Hd=Fd({scrollToID:null}),Vd=Fd({}),$d=(Fd({}),Fd({})),Gd=Fd({}),Wd=Object(ei.a)(cd,ad.a)({feed:yd,iface:kd,iceboarding:Cd,links:Ud,params:zd,shared:Hd,context:Vd,user:$d,sources:Ld,request:Gd,videoCards:function(e,t){switch(void 0===e&&(e=nl),t.type){case"VIDEO_CARD_CHANGE_VISIBILITY":{const n=rl(e,t,"visibleCardIndices","visible"),r=t.payload,o=r.id,i=r.visible,s=r.index,a=n.visibleCardIndices,c=e,l=c.interactionCardId,u=c.activeCard;if(!l){if(!i&&u.id===o)return Object.assign({},n,{activeCard:Object.assign({},nl.activeCard)});const e=s===Math.min(...Object.values(a));if(i&&e)return Object.assign({},n,{activeCard:Object.assign({},nl.activeCard,{id:o})})}return n}case"VIDEO_CARD_CHANGE_INTERSECTING":{const n=rl(e,t,"intersectingCardIndices","intersecting"),r=e.interactionCardId,o=t.payload,i=o.id;return o.intersecting||i!==r?n:Object.assign({},n,{interactionCardId:null})}case"VIDEO_CARD_CHANGE_INTERACTION":return Object.assign({},e,{interactionCardId:t.payload.id});case"VIDEO_CHANGE_ACTIVE_CARD":return Object.assign({},e,{activeCard:t.payload});default:return e}},videoModal:function(e,t){switch(void 0===e&&(e=Dd),t.type){case"VIDEO_MODAL_TOGGLE":{const e=t.payload.openedItem;if(!e)return Dd;const n=e.id;return{openedItemId:n,videoFeed:{[n]:e}}}case"VIDEO_MODAL_CHANGE":{const n=t.payload.openedItemId;return Object.assign({},e,{openedItemId:n})}case"VIDEO_MODAL_GET_RECOMMEND":{const n=t.payload.videoFeed;return Object.assign({},e,{videoFeed:Object.assign({},e.videoFeed,n)})}default:{const n=t.payload&&t.payload.id;if(!n||!e.videoFeed[n])return e;const r=e.videoFeed[n],o=md(r,t);return r!==o?A.set(e,["videoFeed",n],o):e}}},commentsData:Bd});var qd=n(34);window[qd.NAMESPACE]||(window[qd.NAMESPACE]={}),window[qd.NAMESPACE].lib=new class{constructor(e,t){this._app=null,this._store=null,this._App=e,this._reducer=t}init(e,t){const n={product:ut,host:e.host,clid:e.clid,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,countryCode:e.countryCode,lang:e.lang,teethType:e.teethType,zenFeatures:e.zenFeatures,clientExperiments:e.exps,libType:e.libType,notifiersPosition:e.notifiersPosition,styles:e.styles,isMobile:e.isMobile,isAdaptiveDesign:e.isAdaptiveDesign,disableMetrika:e.disableMetrika};let r;e.userInfo&&(r={oauthToken:e.userInfo.oauthToken,login:e.userInfo.login,deviceId:e.userInfo.deviceId,profileId:e.userInfo.profileId,yandexuid:e.userInfo.yandexuid,partnerId:e.userInfo.partnerId}),"object"==typeof e.loggerParams&&i.a.configure(e.loggerParams);const o=ui({settings:{exportData:t,params:n,user:r,initialDisplayedRowsNumber:e.initialDisplayedRowsNumber},App:this._App,reducer:this._reducer,middlewares:si,instances:{zenApi:nt}}),s=o.app,a=o.store;gi(nt,a),nt.configure(t=>Object.assign({},t,{cache:e.cache,chromeExtensionId:e.chromeExtensionId,feedFilter:e.feedFilter,referrerPlace:e.referrerPlace,referrerClid:e.referrerClid,isAdblockEnabled:e.isAdblock})),nt.addListener(ke.BULK_EVENT_LOGGED,e=>{let t=e.event,n=e.statMeta;rt.emit(ot.STAT,{eventName:t,statMeta:n})}),nt.addListener(ke.NOT_SHOWN_PACK_UPDATED,(e,t)=>{rt.emit(ot.CACHE_PUT,t)}),nt.packUsed(a.getState().request.rid),this._app=s,this._store=a}render(e){mi(this._app,e)}setParams(e){di(e,this._store)}on(e,t,n){rt.on(e,t,n)}off(e,t){rt.off(e,t)}addListener(){return this.on(...arguments)}removeListener(){return this.off(...arguments)}trigger(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];it.emit(e,n)}}(sd,Wd)},,function(e,t,n){t.f=n(7)},function(e,t,n){var r=n(8),o=n(25),i=n(44),s=n(97),a=n(16).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r="transform",o=void 0,i=void 0,s=void 0,a=void 0,c=void 0,l=void 0,u=void 0,d=void 0,p=void 0,h=void 0,m=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(52)).default){var f=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,o=void 0,i="",s=0;s<n.length;s++){var a=n[s];if(a+"TransitionProperty"in e){i="-"+a.toLowerCase(),r=t[a]("TransitionEnd"),o=t[a]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!o&&"animationName"in e&&(o="animationend");return e=null,{animationEnd:o,transitionEnd:r,prefix:i}}();o=f.prefix,t.transitionEnd=i=f.transitionEnd,t.animationEnd=s=f.animationEnd,t.transform=r=o+"-"+r,t.transitionProperty=a=o+"-transition-property",t.transitionDuration=c=o+"-transition-duration",t.transitionDelay=u=o+"-transition-delay",t.transitionTiming=l=o+"-transition-timing-function",t.animationName=d=o+"-animation-name",t.animationDuration=p=o+"-animation-duration",t.animationTiming=h=o+"-animation-delay",t.animationDelay=m=o+"-animation-timing-function"}t.transform=r,t.transitionProperty=a,t.transitionTiming=l,t.transitionDelay=u,t.transitionDuration=c,t.transitionEnd=i,t.animationName=d,t.animationDuration=p,t.animationTiming=h,t.animationDelay=m,t.animationEnd=s,t.default={transform:r,end:i,property:a,timing:l,delay:u,duration:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o="clearTimeout",i=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),r=setTimeout(e,n);return a=t,r},s=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};(function(e){return e&&e.__esModule?e:{default:e}})(n(52)).default&&["","webkit","moz","o","ms"].some(function(e){var t=s(e,"request");if(t in window)return o=s(e,"cancel"),i=function(e){return window[t](e)}});var a=(new Date).getTime();(r=function(e){return i(e)}).cancel=function(e){window[o]&&"function"==typeof window[o]&&window[o](e)},t.default=r,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e)||(e.className=e.className+" "+t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(102));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(103)),i=p(n(101)),s=p(n(100)),a=n(99),c=p(n(0)),l=p(n(27)),u=n(33),d=n(51);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[];a.transitionEnd&&m.push(a.transitionEnd),a.animationEnd&&m.push(a.animationEnd);l.default.node,d.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=h(this,e.call.apply(e,[this].concat(i))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,u.findDOMNode)(this);if(r){var s=this.props.name[e]||this.props.name+"-"+e,c=this.props.name[e+"Active"]||s+"-active",l=null,d=void 0;(0,o.default)(r,s),this.queueClassAndNode(c,r);var p=function(e){e&&e.target!==r||(clearTimeout(l),d&&d(),(0,i.default)(r,s),(0,i.default)(r,c),d&&d(),t&&t())};n?(l=setTimeout(p,n),this.transitionTimeouts.push(l)):a.transitionEnd&&(d=function(e,t){return m.length?m.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){m.length&&m.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,p))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,s.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,o.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,c.default.cloneElement(c.default.Children.only(this.props.children),e)},t}(c.default.Component);f.displayName="CSSTransitionGroupChild",f.propTypes={},t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var s=void 0,a={};for(var c in t){if(r.hasOwnProperty(c))for(s=0;s<r[c].length;s++){var l=r[c][s];a[r[c][s]]=n(l)}a[c]=n(c)}for(s=0;s<o.length;s++)a[o[s]]=n(o[s]);return a};var r=n(0)},function(e,t,n){"use strict";e.exports=function(){}},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(107)),i=c(n(0)),s=c(n(27)),a=(c(n(106)),n(105));function c(e){return e&&e.__esModule?e:{default:e}}s.default.any,s.default.func,s.default.node;var l=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},i.childRefs=Object.create(null),i.state={children:(0,a.getChildMapping)(n.children)},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,a.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,a.mergeChildMappings)(n,t)}),t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var i in n){var s=t&&t.hasOwnProperty(i);!n[i]||s||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var s="string"!=typeof r.ref,a=e.props.childFactory(r),c=function(t){e.childRefs[n]=t};a===r&&s&&(c=(0,o.default)(r.ref,c)),t.push(i.default.cloneElement(a,{key:n,ref:c}))}};for(var s in this.state.children)n(s);var a=r({},this.props);return delete a.transitionLeave,delete a.transitionName,delete a.transitionAppear,delete a.transitionEnter,delete a.childFactory,delete a.transitionLeaveTimeout,delete a.transitionEnterTimeout,delete a.transitionAppearTimeout,delete a.component,i.default.createElement(this.props.component,a,t)},t}(i.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,i,s,a,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,i,s,a,c],d=0;(l=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(111),o=n(110),i=n(109);e.exports=function(){function e(e,t,n,r,s,a){a!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(0)),i=l(n(27)),s=l(n(108)),a=l(n(104)),c=n(51);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}c.nameShape.isRequired,i.default.bool,i.default.bool,i.default.bool,(0,c.transitionTimeout)("Appear"),(0,c.transitionTimeout)("Enter"),(0,c.transitionTimeout)("Leave");var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=u(this,e.call.apply(e,[this].concat(s))),r._wrapChild=function(e){return o.default.createElement(a.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement(s.default,r({},this.props,{childFactory:this._wrapChild}))},t}(o.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=d,e.exports=t.default},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(53),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[a]=n:delete e[a]),o}},function(e,t,n){var r=n(53),o=n(116),i=n(115),s="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:s:c&&c in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(117),o=n(114),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t,n){var r=n(55),o=n(118),i=NaN,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?i:+e}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(22))},function(e,t,n){var r=n(54);e.exports=function(){return r.Date.now()}},,function(e,t,n){"use strict";var r=n(4).compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},function(e,t,n){"use strict";
/** @license React v16.6.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,f=r?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case s:case c:case a:return e;default:switch(e=e&&e.$$typeof){case u:case p:case l:return e;default:return t}}case i:return t}}}function _(e){return g(e)===d}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=s,t.Profiler=c,t.Portal=i,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===d||e===c||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return _(e)},t.isConcurrentMode=_,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===s},t.isProfiler=function(e){return g(e)===c},t.isPortal=function(e){return g(e)===i},t.isStrictMode=function(e){return g(e)===a}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(125);function o(){}e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(e){return e&&e.__esModule?e:{default:e}}(n(127));o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var s=(0,i.default)(o);t.default=s}).call(this,n(22),n(128)(e))},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(130),o=n(43),i=n(29),s=n(77),a=n(17),c=n(79),l=Object.getOwnPropertyDescriptor;t.f=n(15)?l:function(e,t){if(e=i(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(a(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(10),o=n(18),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(28)(Function.call,n(131).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){var r=n(10),o=n(132).set;e.exports=function(e,t,n){var i,s=t.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(7)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(8),o=n(16),i=n(15),s=n(7)("species");e.exports=function(e){var t=r[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(75),o=n(7)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(136),o=n(7)("iterator"),i=n(24);e.exports=n(25).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(24),o=n(7)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(18);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(74);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(17),o=n(140),i=n(42)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(8).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(68),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(29),o=n(69),i=n(143);e.exports=function(e){return function(t,n,s){var a,c=r(t),l=o(c.length),u=i(s,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(17),o=n(29),i=n(144)(!1),s=n(42)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),c=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(16),o=n(18),i=n(70);e.exports=n(15)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),a=s.length,c=0;a>c;)r.f(e,n=s[c++],t[n]);return e}},function(e,t,n){"use strict";var r=n(71),o=n(43),i=n(41),s={};n(19)(s,n(7)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(75);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(7)("unscopables"),o=Array.prototype;void 0==o[r]&&n(19)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){"use strict";var r=n(150),o=n(76),i=n(24),s=n(29);e.exports=n(73)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){!function(e,t){"use strict";if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(e,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(e,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var i=o.element,s=c(i),a=this._rootContainsTarget(i),l=o.entry,u=t&&a&&this._computeTargetAndRootIntersection(i,n),d=o.entry=new r({time:e.performance&&performance.now&&performance.now(),target:i,boundingClientRect:s,rootBounds:n,intersectionRect:u});l?t&&a?this._hasCrossedThreshold(l,d)&&this._queuedEntries.push(d):l&&l.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(n,r){if("none"!=e.getComputedStyle(n).display){for(var o=c(n),i=u(n),s=!1;!s;){var l=null,d=1==i.nodeType?e.getComputedStyle(i):{};if("none"==d.display)return;if(i==this.root||i==t?(s=!0,l=r):i!=t.body&&i!=t.documentElement&&"visible"!=d.overflow&&(l=c(i)),l&&!(o=a(l,o)))break;i=u(i)}return o}},o.prototype._getRootRect=function(){var e;if(this.root)e=c(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},o.prototype._rootIsInDom=function(){return!this.root||l(t,this.root)},o.prototype._rootContainsTarget=function(e){return l(this.root||t,e)},o.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},o.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=o,e.IntersectionObserverEntry=r}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?o/n:this.isIntersecting?1:0}function o(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function i(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function s(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function a(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),o=Math.max(e.left,t.left),i=Math.min(e.right,t.right),s=i-o,a=r-n;return s>=0&&a>=0&&{top:n,bottom:r,left:o,right:i,width:s,height:a}}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e,t){for(var n=t;n;){if(n==e)return!0;n=u(n)}return!1}function u(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}(window,document)},function(e,t,n){n(152),n(94),e.exports=n(95)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){}]);