!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n=window.webpackJsonp;window.webpackJsonp=function(e,i,r){for(var o,a,l=0,c=[];l<e.length;l++)a=e[l],s[a]&&c.push(s[a][0]),s[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);for(n&&n(e,i,r);c.length;)c.shift()()};var i={},s={1:0};return e.e=function(t){function n(){a.onerror=a.onload=null,clearTimeout(l);var e=s[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),s[t]=void 0)}var i=s[t];if(0===i)return new Promise(function(t){t()});if(i)return i[2];var r=new Promise(function(e,n){i=s[t]=[e,n]});i[2]=r;var o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,e.nc&&a.setAttribute("nonce",e.nc),a.src=e.p+"chunk/"+({}[t]||t)+"."+{0:"1cb3cdd5ebfe1cff1577"}[t]+".js";var l=setTimeout(n,12e4);return a.onerror=a.onload=n,o.appendChild(a),r},e.m=t,e.c=i,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/js/cmpld/",e.oe=function(t){throw console.error(t),t},e(e.s=385)}([function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l(t)}function s(t,e){return void 0===e&&(e=[]),a?(n=Function.prototype.bind).call.apply(n,[console[t],console].concat(e)):function(){};var n}function r(t,e){if(a){console.groupCollapsed(i(t).str());for(var n=0,s=Object.keys(e);n<s.length;n++){var r=s[n];console.groupCollapsed(r),console.log.apply(console,e[r]),console.groupEnd()}console.groupEnd()}}function o(t){return(t>9?"":"0")+t}Object.defineProperty(e,"__esModule",{value:!0});var a=console&&console.groupCollapsed&&console.groupEnd&&console.log&&!1,l=function(){function t(t){var e=new Date;this.state={messages:t,prefix:"["+e.getHours()+":"+o(e.getMinutes())+":"+o(e.getSeconds())+"]",icon:"ü§ñ"}}return t.prototype.toArray=function(){var t=this.state;return[t.icon,t.prefix].concat(t.messages)},t.prototype.str=function(){return this.toArray().join(" ")},t.prototype.prefix=function(t){return this.state.prefix=t,this},t.prototype.log=function(){return this.state.icon="ü§ñ",this},t.prototype.info=function(){return this.state.icon="üíÅ‚Äç‚ôÇÔ∏è",this},t.prototype.error=function(){return this.state.icon="üí©",this},t.prototype.warn=function(){return this.state.icon="üò¢",this},t.prototype.icon=function(t){return this.state.icon=t,this},t}();e.FormatDescriptor=l,e.format=i,e.print={log:s("log",i().log().toArray()),info:s("info",i().info().toArray()),warn:s("warn",i().warn().toArray()),error:s("error",i().error().toArray()),groups:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COMPONENT_DELIMITER=",",e.COMPONENT_EVENT_DELIMITER=":",e.COMPONENT_NS_DELIMITER=".",e.COMPONENT_EL_DELIMITER=".",e.COMPONENT_DATA_BIND_DEF_DELIMITER="|",e.COMPONENT_DATA_BIND_EQ="=",e.COMPONENT_DATA_BIND_PROP_DELIMITER=";"},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(36)),i(n(37))},,,function(t,e){!function(t,e){function n(t){var e=t.match(c);return null!==e&&e[1]}function i(t){var e,i,s,r=n(t),o=null;if(r)for(var l in h)if(h.hasOwnProperty(l)){e=h[l],i=e.exts;for(var c=0;c<i.length;c++)if(a(s=i[c],"string")&&u.test(s)&&(i[c]=s=new RegExp("^"+s+"$","i")),a(s,"string")?s===r:s.test(r)){o=l;break}}return o}function s(t,e){var n,i,s=function(t,e){n&&(clearTimeout(n),n=null),i.onload=i.onerror=null,t(e)};e=isNaN(e)||null===e?5e3:e;var r=new Promise(function(r,o){i=new Image,i.onload=s.bind(null,r,i),i.onerror=s.bind(null,o),n=e>0?setTimeout(i.onerror,e):null,i.src=t,setTimeout(function(){i.complete&&s(r,i)},0)});return r.catch(function(){}),r}function r(t){return t in h}var o=e.Basic,a=o.typeOf,l=o.Extend,c=/\.([a-z]{3,4})$/i,u=/[^a-z]/i,h={flash:{exts:["swf"],canPreload:!1},pic:{exts:["jpe?g","png","gif"],canPreload:!0}};l(t.getNameSpace("Tools.Images",e),{preloadImage:s,canPreload:function(t){return r(t)&&!0===h[t].canPreload},isTypeCorrect:r,getImageTypeFromUrl:i,_addTypes:function(t){var e;for(var n in t)t.hasOwnProperty(n)&&(e=t[n],a(e,"object")&&e&&(h[n]=l(!0,{},e)))}})}(window,window.ru.mail.cpf)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOM_DATA_COMPONENT_SEL="[data-mp]",e.DOM_DATA_COMPONENT_NAME_ATTR="data-mp",e.DOM_DATA_COMPONENT_EL_ATTR="data-mp-el",e.DOM_DATA_COMPONENT_STATE_ATTR="data-mp-state",e.DOM_DATA_COMPONENT_BIND_ATTR="data-mp-bind";var i;!function(t){t[t.STRING=0]="STRING",t[t.BOOLEAN=1]="BOOLEAN",t[t.NUMERIC=2]="NUMERIC"}(i=e.MPFProperty||(e.MPFProperty={}));var s;!function(t){t[t.STRING=0]="STRING",t[t.BOOLEAN=1]="BOOLEAN"}(s=e.MPFAttributeType||(e.MPFAttributeType={})),e.DOM_ELEMENT_ATTRIBUTES={required:s.BOOLEAN,checked:s.BOOLEAN,disabled:s.BOOLEAN,selected:s.BOOLEAN},e.DOM_ELEMENT_PROPERTIES={alt:i.STRING,id:i.STRING,name:i.STRING,innerHTML:i.STRING,src:i.STRING,style:i.STRING,textContent:i.STRING,title:i.STRING,for:i.STRING,value:i.STRING,colspan:i.NUMERIC,height:i.NUMERIC,maxlength:i.NUMERIC,rowspan:i.NUMERIC,width:i.NUMERIC}},function(t,e,n){"use strict";function i(){return new Promise(function(t){for(var e=0,n=h;e<n.length;e++){(0,n[e])()}t(a({},u))})}function s(t){return a({},u[t])}function r(t,e){var n=function(){u[t]=a({},e)};return h.push(n),n}function o(t){for(var e=t.split(c.COMPONENT_NS_DELIMITER),n=e[0],i=e.slice(1),r={},o=0,a=i;o<a.length;o++){var u=a[o];r=l.deepMerge({},r,s(n)),n=""+n+c.COMPONENT_NS_DELIMITER+u}return l.deepMerge({},r,s(n))}var a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};Object.defineProperty(e,"__esModule",{value:!0});var l=n(2),c=n(1),u={},h=[];e.resolveConfigSetters=i,e.getConfig=s,e.setConfig=r,e.getConfigCollapsed=o},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e,i,s,r){"use strict";var o=i.Basic,a=o.typeOf,l={horizontal:{index:0,axis:"x",size:"outerWidth",position:"offsetLeft",translate3d:"translate3d(?px, 0, 0)",translate:"translate(?px, 0)",css:"left",cssScroll:"scrollLeft",scrollSize:"scrollWidth"},vertical:{index:1,axis:"y",size:"outerHeight",position:"offsetTop",translate3d:"translate3d(0, ?px, 0)",translate:"translate(0, ?px)",css:"top",cssScroll:"scrollTop",scrollSize:"scrollHeight"}},c={cssSels:{Main:{container:".js-slider__container",viewport:".js-slider__viewport",content:".js-slider__content",sidesContainer:".js-slider__sides",frames:".js-slider__items",startFrame:".js-slider__item-start",controlNext:".js-slider__next",controlPrev:".js-slider__prev",controlPage:".js-slider__page",controlPagesList:".js-slider__pages"},frame:".js-slider__item",forceLoop:".js-slider_loop",focusTarget:"a,input"},cssClss:{fit:"js-slider_fit",dragging:"",clone:"js-slider__clone",disabledControl:"hidden_all",currentPage:"active",currentPageFrame:"active",animatedCont:"animated",rightSide:"",leftSide:""},templates:{controlPage:null},orientation:"horizontal",pageSize:"auto",align:"left",loop:!1,hideControls:!1,touchSupport:!0,swipeExt:"Slider",swipeMin:.25,animationDuration:300,processClones:null,checkVisibility:function(){return this._elems.parent.is(":visible")}},u=o.getView(function(){function c(t,e,n){return n?function(){return t=(n+t+e)%n}:function(){return t+=e}}function u(){return{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[s.prefixed("transition")]}function h(t){this._elems.content.off(this._State.transitionEndEventName),this._State.isAnimating=!0,t.isReverting||this._trigger("beforeSlide",this.getFrameNo(),this.getPageNo())}function p(t){this._elems.content.off(this._State.transitionEndEventName),this._State.isAnimating=!1,t.isReverting||this._trigger("slide",this.getFrameNo(),this.getPageNo())}function d(){var t=this.getFrames(),e=this._elems.frames.children(this._opts.cssSels.frame+":not(."+this._opts.cssClss.clone+")");if(e.length!==t.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;for(var i=this._State.pages,s=0;s<i.length;s++){var r=i[s],o=r.frames.reduce(function(t,e){return t+this.getSize(e)}.bind(this),0);if(r.size!==o)return!0}return!1}function f(){var t=this._opts.cssSels,e=this._State,n=e.$frames=this._elems.frames.children(t.frame),i=e.$firstFrame=n.first(),s=e.$lastFrame=n.last();this._elems.startFrame=n.filter(t.Main.startFrame).eq(0),e.startPosition=this.getPosition(i),e.endPosition=this.getPosition(s)+this.getSize(s)}function m(){var e=this._State,n=this._opts.cssSels.frame;e.$currentFrame&&-1===t.inArray(e.$currentFrame[0],e.$frames)&&(e.$currentFrame=null),e.$currentFrame=t(t(e.$currentFrame).filter(n)[0]||t(this._elems.startFrame).filter(n)[0]||t(e.$frames).filter(n)[0])}function g(t,n,i,s){for(var r=this._State,o=this._elems.frames,l=this._opts,c=l.cssClss.clone,u=l.cssSels.focusTarget,h=0,p=[],d=0;d<t.length;d++)h+=this.getSize(t[d]),n();var f=Math.max(r.containerSize,r.viewportSize,r.endPosition-r.startPosition),m=this.getFrames(),g=l.processClones;for(a(g,"function")||(g=null);h<f;){var v=m.eq(n()),w=v.clone(!0).data("frame",v[0]).addClass(c),y=v.data("clones")||[];y[s](w[0]),v.data("clones",y),v.data("frame",v[0]),w.find(u).attr("tabindex",-1),o[i](w),t[s](w[0]),g&&g(w),w.find("img").each(function(t,e){e.complete||p.push(_(e))});var b=this.getSize(w);if(!b)break;h+=b}return Promise.all(p).catch(function(t){e.console.warn(t)}).then(function(){return t})}function _(t){return new Promise(function(e,n){setTimeout(function(){if(t.complete)return void e();var i=setTimeout(function(){n(new Error("Timeout expired"))},100),s=function n(){clearTimeout(i),t.removeEventListener("load",n),e()};t.addEventListener("load",s)},0)})}function v(){var e,n=this._opts,i=this._elems,s=this._State;if(n.loop&&s.framesSize>s.viewportSize){var r=this.getFrames();e=Promise.all([g.call(this,s.clonesPrev,c(r.length,-1,r.length),"prepend","unshift"),g.call(this,s.clonesNext,c(-1,1,r.length),"append","push")]).then(function(e){var n=e[0],i=e[1];t.extend(s,{clonesPrev:n,$firstFrame:t(n[0]),clonesNext:i,$lastFrame:t(i[i.length-1])})})}return s.$allFrames=i.frames.find(n.cssSels.frame),Promise.resolve(e).then(function(){s.framesSize=this.getSize(i.frames,"scrollSize")}.bind(this))}function w(){var e=this._State;t(e.clonesPrev).remove(),t(e.clonesNext).remove(),this.getFrames().removeData("clones"),t.extend(e,{clonesPrev:[],clonesNext:[]})}function y(t,e,n){for(var i={frames:[],size:0},s=this._State,r=s.pageType,o=s.pageSize;;){if(0===t.length)break;if("n"===r&&i.frames.length>=o)break;if(("px"===r||"auto"===r)&&o+1<i.size+this.getSize(t))break;i.frames.push(t[0]),i.size+=this.getSize(t),t.data("page",n),t=t[e](this._opts.cssSels.frame).first()}return i.$outFrame=t,i}function b(t,e,n){for(var i=this._State;;){var s=t(),r=y.call(this,e,n,s);if(0===r.frames.length)break;i.pages[s]=r,i.pages.length++,e=r.$outFrame}}function S(){var t=this._State,e=t.$firstFrame;t.pages={length:0},b.call(this,c(0,-1),e.prevAll(this._opts.cssSels.frame).first(),"prevAll"),b.call(this,c(-1,1),e,"nextAll")}function C(e){var n=this._State,i=y.call(this,e||n.$currentFrame,"nextAll"),s=t(i.frames).map(function(t,e){var n=this.getOriginalFrame(e);return n.add(n.data("clones")).get()}.bind(this)),r=this._opts.cssClss.currentPageFrame;n.$allFrames.not(s).removeClass(r),s.addClass(r)}function T(){var t=this._opts,e=this._elems,n=this._State,i=t.cssClss,s=n.startPosition||0,r=n.endPosition||n.framesSize,o=n.position||s,a=n.viewportSize,l=t.loop,c=r-s<=a,u=!(l||o>s),h=!(l||r-o>a);e.controlPrev&&(e.controlPrev.toggleClass(i.disabledControl,u||c||!!t.hideControls),this._trigger("updateControl",{type:"start",disabled:u||c||!!t.hideControls})),e.controlNext&&(e.controlNext.toggleClass(i.disabledControl,h||c||!!t.hideControls),this._trigger("updateControl",{type:"end",disabled:h||c||!!t.hideControls})),e.controlPage&&(e.controlPage.removeClass(i.currentPage),e.controlPage.eq(this.getPageNo()).addClass(i.currentPage)),e.Parent.toggleClass(i.fit,c)}function P(){var t=this._opts,e=this._elems,n=this._State,i=n.controlPageTemplate,s=e.controlPagesList;if(s&&i){for(var r=[],o=0;o<n.pages.length;o++)r.push(i(o));s.empty().append(r),delete e.controlPage,this._getElements(t.cssSels.Main.controlPage,"controlPage")}}function E(t,e,n){var i=this._opts,s=this._State;if(!i.loop)return e;for(var r=s.unsafeSize,o=s.viewportSize,a=s.framesSize,l=this.getOriginalFrame(e)[0];t.length&&(this.getOriginalFrame(t)[0]!==l||this.getPosition(t)<r||a-this.getPosition(t)<r+o);)t=t[n](i.cssSels.frame).first();return t}function O(t,e){var n=E.call(this,t,e,"prevAll"),i=E.call(this,t,e,"nextAll"),s=this.getPosition(t),r=Math.abs(this.getPosition(n)-s),o=Math.abs(this.getPosition(i)-s);return r<o?n:r>o?i:e}function I(e,n,i,s){var r=this._State,o=isNaN(e)?t(e):this.getFrameByNo(e);if(o.length){var a,l,c=this._State.$currentFrame;if(i){var u="prevAll"===i?r.$lastFrame:r.$firstFrame;a=E.call(this,u,c,i),l=E.call(this,a,o,i)}else l=O.call(this,c,o),a=O.call(this,l,c);s=s||this.getPage(l)||{size:0};var h=~~r.currentOffset,p=this.getAlignmentSize(s.size);t.extend(r,{$currentFrame:l,currentOffset:p,currentPage:s}),C.call(this);var d=this.getPosition(a),f=this.getPosition(l);this.slideFromTo(d-h,f-p,n)}}function A(t,e,n){var i=this.getPages()[t];i&&I.call(this,i.frames[0],e,n,i)}function M(){var t=this._opts,e=this._State,n=t.templates.controlPage;switch(a(n)){case"function":e.controlPageTemplate=n;break;case"string":e.controlPageTemplate=r&&r[n]}}function x(){var t=this._opts,e=this._elems,n=this._State,i=n.dimensions,r=n.transitionEndEventName+"."+n.uid;if(t.cssClss.animatedCont&&s.csstransitions){var o=function(t,e,n,o){n||this._elems.content.off(r).one(r,p.bind(this,o)),null!=e&!isNaN(e)&&this._elems.content.css(s.prefixed("transform"),i[t].replace("?",e))};s.csstransforms3d?n.slideTo=o.bind(this,"translate3d"):s.csstransforms&&(n.slideTo=o.bind(this,"translate"))}n.slideTo||(n.isJsAnimation=!0,n.slideTo=function(n,s,r){var o;n=-n,s?e.container.get(0)[i.cssScroll]=n:((o={})[i.cssScroll]=n,e.container.animate(o,t.animationDuration,p.bind(this,r)))}.bind(this))}function k(t,e,n){do{if(t=t[e](),t.length&&t.is(n))break}while(t.length);return t}return{_Events:["beforeSlide","slide","swipeStart","swipeEnd","updateControl","sliding"],_Handlers:{dom:{"focus:focusTarget":function(e){var n=this._State;if(!n.isDragging){var i=this._elems.container;if(i.length){i[0].scrollLeft=0;var s=t(e.currentTarget).closest(this._opts.cssSels.frame),r=this.getPosition(s),o=this.getSize(s);(n.position>r||n.viewportSize<r-n.position+o)&&this.goToFrame(this.getOriginalFrame(s))}}},"click touchstart:Main.controlNext":function(e){e.preventDefault(),t(e.currentTarget).hasClass(this._opts.cssClss.disabledControl)||this.nextPage()},"click touchstart:Main.controlPrev":function(e){e.preventDefault(),t(e.currentTarget).hasClass(this._opts.cssClss.disabledControl)||this.prevPage()},"click touchstart:Main.controlPage":function(t){t.preventDefault();var e=this._elems.controlPage;if(e){var n=e.index(t.currentTarget);this.goToPage(n)}}},updateControl:function(t){var e=t.type,n=t.disabled,i=this._opts,s=this._elems.sidesContainer;s&&("start"===e?s.toggleClass(i.cssClss.leftSide,n):s.toggleClass(i.cssClss.rightSide,n))}},getSize:function(e,n){e=t(e);var i,s=this._State.dimensions[n||"size"],r=a(e[s]);switch(r){case"function":i=e[s]();break;case"undefined":e=e.get(0),i=e[s];break;default:i=e[s]}return~~i},updateDimensions:function(){var t=this._elems,e=this._State;e.containerSize=this.getSize(t.container),e.viewportSize=this.getSize(t.viewport),e.framesSize=this.getSize(t.frames,"scrollSize"),e.unsafeSize=Math.ceil((e.containerSize-e.viewportSize)/2),"auto"===e.pageType&&(e.pageSize=e.viewportSize)},getDirectionMethod:function(t,e){switch(e=!1!==e,t){case!0:return"next"+(e?"All":"");case!1:return"prev"+(e?"All":"");default:return}},getAlignmentSize:function(t){var e=this._State,n=e.viewportSize-t;return this._getAlignmentOffset(n)},_getAlignmentOffset:function(t){switch(this._opts.align){case"right":case"bottom":return~~t;case"center":return~~(t/2);case"left":case"top":default:return 0}},getPosition:function(e){var n=t(e);return n.length?~~n.get(0)[this._State.dimensions.position]:1/0},replaceFrames:function(e,n){return a(e.eq,"function")||(e=t(Array.from(e))),this._elems.content.html(e),this._State.$currentFrame=isNaN(n)?null:e.eq(n),this.update(!0,!0)},_removeTransitionClass:function(){var t=this._elems.content;this._State.isJsAnimation&&t.stop(!0);var e=this._opts.cssClss.animatedCont;t.hasClass(e)&&(t.removeClass(e),t[0].offsetHeight)},insertNeighbourFrame:function(t,e){if(!t)return Promise.resolve(-1);var n,i=this.getCurrentFrame();return i?(e?t.insertBefore(i):t.insertAfter(i),n=this.update(!0,!1,!1,!1).then(function(){e&&(this._removeTransitionClass(),this.slideTo(this.getPosition(this.getCurrentFrame()),!0,!0))}.bind(this))):n=Promise.resolve(),n.then(function(){return this.getFrameNo()+(e?-1:1)}.bind(this))},removeFrame:function(t){if(!t||t.parent()[0]!=this._elems.content[0])return Promise.resolve();var e=this.getFrameNo(t),n=this.getFrameNo();return t.remove(),e<n&&(this._removeTransitionClass(),this.slideTo(this.getPosition(this.getCurrentFrame()),!0,!0)),this.update(!0,!1,!1,!1)},update:function(t,e,n,i){t=!0===t;var s=n||this._opts.checkVisibility.call(this),r=d.call(this);if(s||r)return this._State.$currentFrame=this.getCurrentFrame(),s&&this.updateDimensions(),(t||r)&&(w.call(this),f.call(this),s&&(S.call(this),P.call(this))),v.call(this).then(function(){T.call(this),m.call(this),!1!==i&&this.goToFrame(this.getCurrentFrame(),!0!==e)}.bind(this))},slideTo:function(t,e,i,s){var r=this._State;if(!r.isFreezed){"object"===n(i)&&i&&arguments.length<4&&(s=i,i=!1),s=s||Object.create(null);if(!this._opts.loop){var o=r.startPosition||0,a=r.framesSize||r.endPosition,l=r.viewportSize||0;t=Math.max(o,Math.min(a-l,t))}r.position=t,r.isAnimating=!1,T.call(this),e||h.call(this,s),r.slideTo(-t,e,{isReverting:s.isReverting}),this._elems.parent.trigger("scroll",{scrollLeft:t}),i||this._trigger("sliding",{to:t,isReverting:s.isReverting})}},slideFromTo:function(t,e,n){var i=this._State,s=i.isReverting;if(i.isReverting=!1,!i.isFreezed&&(i.position!==t||t!==e)){var r=this._elems.content;i.isJsAnimation&&r.stop(!0);var o=this._opts.cssClss.animatedCont;i.position!==t&&(r.hasClass(o)&&(r.removeClass(o),r[0].offsetHeight),this.slideTo(t,!0,!1,{isReverting:s}),r[0].offsetHeight),void 0!==e&&(r.hasClass(o)!==!n&&(r.toggleClass(o,!n),r[0].offsetHeight),this.slideTo(e,n,!1,{isReverting:s}))}},getOriginalFrame:function(e){return t(t(e).data("frame")||e)},getFrameClones:function(e){if(e=isNaN(e)?t(e):this.getFrameByNo(e),e.length)return e.data("clones")},getFrameByNo:function(t){return this.getFrames().eq(t)},getCurrentFrame:function(){return this.getOriginalFrame(this._State.$currentFrame)},getFrameNo:function(e){return t.inArray(t(e||this.getCurrentFrame())[0],this.getFrames())},getFramesCount:function(){return this.getFrames().length},getFrames:function(){return this._State.$frames},getAllFrames:function(){return this._State.$allFrames},getPage:function(t){return this.getPages()[this.getPageNo(t)]},getPageNo:function(t){return t=t||this.getCurrentFrame(),this.getOriginalFrame(t).data("page")},getPagesCount:function(){return this.getPages().length},getPages:function(){return this._State.pages},isAnimating:function(){return!!this._State.isAnimating},goToFrame:function(t,e,n){this._State.isFreezed||I.call(this,t,e,this.getDirectionMethod(n))},goToPage:function(t,e,n){this._State.isFreezed||A.call(this,t,e,this.getDirectionMethod(n))},nextPage:function(){if(!this._State.isFreezed){var e=y.call(this,this.getCurrentFrame(),"nextAll");e=y.call(this,e.$outFrame,"nextAll"),e.size?I.call(this,t(e.frames).first(),!1,"nextAll",e):this.slideFromTo(this._State.framesSize)}},prevPage:function(){if(!this._State.isFreezed){var e=y.call(this,this.getCurrentFrame().prevAll(this._opts.cssSels.frame).first(),"prevAll");e.size?I.call(this,t(e.frames).last(),!1,"prevAll",e):this.slideTo(0)}},_Init:function(n){t.extend(this._opts,n);var i=this._opts,s=this._elems;if(s.container=s.container||s.Parent,s.viewport=s.viewport||s.container,s.frames=s.frames||s.content,!s.content||!s.container)throw new Error("Slider: not all required elements found, skipping <"+s.Parent.get(0).className+">");var r=this._State={uid:"slider_"+~~(1e9*Math.random()),transitionEndEventName:u(),dimensions:"vertical"===i.orientation?l.vertical:l.horizontal,pageType:isNaN(i.pageSize)?"px":"n",pageSize:parseInt(i.pageSize),pages:[],$frames:t(),clonesPrev:[],clonesNext:[],isFreezed:!1};isNaN(r.pageSize)&&(r.pageType="auto",r.pageSize=0),s.Parent.is(i.cssSels.forceLoop)&&(i.loop=!0),M.call(this),x.call(this),this._initialUpdate=this.update(!0),this._initSwipe(),t(e).on("resize."+r.uid,o.debounce(function(){this._dead||this.update()}.bind(this)))},destroy:function(){t(e).off("resize."+this._State.uid),delete this._State,this._dead=!0},freeze:function(t){return this._State.isFreezed=!!t,this},_initSwipe:function(){var t=this._State,e=this._elems,n=this._opts,s=n.cssSels;this._onTouchStart=this._onTouchStart.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),n.touchSupport&&(this._swipe=i.Tools.initModule(["Swipe",this._opts.swipeExt],e.viewport,{cssSels:{targetElems:s.Main.content},resetDelta:!0,targetAxis:t.dimensions.axis,_Handlers:{startMove:this._onTouchStart,move:this._onTouchMove,end:this._onTouchEnd}}))},_onTouchStart:function(){var t=this._State,e=this._opts.cssClss.dragging;e&&this._elems.Parent.addClass(e),t.isDragging=!0,t.swipeStartPosition=t.position,this._trigger("swipeStart")},_onTouchMove:function(t){var e=this._State,n=e.swipeStartPosition-t[e.dimensions.index];e.isSwipingForward=e.swipeStartPosition<n,n=Math.max(0,Math.min(e.framesSize-e.viewportSize,n)),this.slideFromTo(e.position,n,!0)},_onTouchEnd:function(){var t=this._State,e=t.isSwipingForward,n=this._opts.cssClss.dragging;n&&this._elems.Parent.removeClass(n),t.currentOffset=this.getPosition(t.$currentFrame)-t.position,t.isDragging=!1;var i=this._findTargetFrame(e);t.isReverting=i[0]===t.$currentFrame[0],this.goToFrame(i,!1,e),this._trigger("swipeEnd",{type:"swipeEnd",isSwipingForward:e})},_findTargetFrame:function(t){for(var e,n,i,s,r,o=this._State,a=this._opts,l=a.cssSels.frame,c=o.position+this.getAlignmentSize(0),u=o.$currentFrame,h=this.getDirectionMethod(t,!1),p=Number.POSITIVE_INFINITY;u.length&&(e=this.getSize(u),n=this.getPosition(u)+this._getAlignmentOffset(e),!((i=Math.abs(c-n))>p));)p=i,s=u,r=e,u=k(u,h,l);if(s[0]===o.$currentFrame[0]&&p>r*a.swipeMin){var d=s[h]();s=d.length?d:s}return s}}}(),c,null,"Slider");o.Extend(!0,i,{Modules:{Slider:u}}),o.moduleOpts.setParams("Slider",{initializer:u,paramAttrs:{loop:"data-loop",align:"data-align"}}),t.fn.goSlider=function(e){return this.each(function(){var n=t(this);if(!(n.data("Slider")instanceof u)){var i=o.getOptions(this)||{};n.data("Slider",new u(o.Extend(!0,e,i.Slider),null,n))}})}}(window.$,window,window.ru.mail.cpf,window.Modernizr,window.fest)},function(t,e,n){!function(t,e){"use strict";var n=e.Basic,i=n.typeOf,s=n.Extend,r=e.Tools.Images,o={_Handlers:null,preloadDepth:null,preloadTimeout:2e4,Loop:!1,imageProps:null,urlSeparator:"|",imageType:"pic"},a=n.Constructors.getModel(function(){function t(t){this.loading=!0,t&&(this.width=t.width,this.height=t.height)}function e(){delete this.loading}function o(n,i){var s;return"loading"in n||(s=r.canPreload(n.type),s?(n.loading=r.preloadImage(n.src,i),n.loading.then(t.bind(n),e.bind(n))):n.loading=s),n.loading}function a(t,e){var n=this._Current;return n.image===t&&n.set===e}function l(t,e){var n,i,s=this._Opts.preloadDepth;if(s>0&&a.call(this,t,e)){n=this._getCurrentSetImages();for(var r=t+s;r>=t-s;r--)(i=this._getImageId(r))!=t&&this._startPreload(n[i],i,e)}}function c(t,e,n,s){var r,o;a.call(this,e,n)&&(o=!i(s,"undefined"),o?(r=this._getCurrentSetImages(),this._trigger("imageready",r[e],e,n,t)):this._trigger("imagefail",e,n,t))}function u(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.addImagesSet(t[e]);else i(t,"object")&&this.addImagesSet(t)}function h(t,e,n){var i,o=t.split(e),a=o[2],l={src:o[0],type:a};return a&&r.isTypeCorrect(a)||(l.type=a=r.getImageTypeFromUrl(o[0])||n),a?(i=o[1])&&(i=i.split("x")).length>1&&s(l,{width:1*i[0],height:1*i[1]}):l=null,l}function p(t){var e,n,r=[],o=this._Opts.urlSeparator,a=this._Opts.imageType;Array.isArray(t)||(t=[t]);for(var l=0;l<t.length;l++)e=t[l],(n=i(e,"object")?s({type:a},e):i(e,"string")&&e.length>0?h(e,o,a):null)&&r.push(n);return r}function d(t){var e=t.source;i(e,"object")&&(t.source=e=[e.name,e.href]),i(e,"string")&&(t.source=e=e.split("|")),Array.isArray(e)&&e[0]||delete t.source}function f(t){for(var e,n,s,r,o=[],a=this.getImagePropsList(),l=0;l<t.length;l++){if(e=t[l],r={},i(e,"object")){n=e.url||e.image;for(var c=a.length;c--;)s=a[c],e.hasOwnProperty(s)&&(r[s]=e[s]);"source"in r&&d(r)}else n=e;n=p.call(this,n),n.length&&(r.versions=n,o.push(r))}return o}function m(t,e,n,i){for(var s,r=this._isValidId(i),o=t.length;o--;)s=c.bind(this,r?i:o,e,n),t[o].then(s,s)}var g=["title","source","description"],_={};return{_Events:["setchange","setimageschange","imagechange","imageready","imagefail","imageloaded","imageloading","lastimage"],_Init:function(t){var e,n=this._Opts.imageProps,i=this._aImageProps=g.slice(0);if(this._setsParams=[],this._setsImages=[],this._Current={set:null,image:null},Array.isArray(n))for(var r=n.length;r--;)e=n[r],-1===i.indexOf(e)&&i.push(e);if(t&&t.images)u.call(this,t);else if(t&&t.imageSets){var o=s({},t);u.call(this,o.imageSets)}},_getSetImages:function(t){var e=this._setsImages,n=null;return null===t&&(t=this._Current.set),this._isAvailibleId(t,e)&&(n=this._setsImages[t]),n},_preloadCurImage:function(t,e){var n=this._Current.set,i=this._startPreload(e,t,n),s=l.bind(this,t,n);return m.call(this,i,t,n),Promise.all(i).then(s,s)},_startPreload:function(t,e,n,i){for(var s,r,a,l=this._Opts.preloadTimeout,c=t.versions,u=[],h=0;h<c.length;h++)this._isValidId(i)&&h!==i||(r=c[h],a=!("loading"in r),s=Promise.resolve(o(r,l)),a&&(this._trigger("imageloading",t,e,n,h),s.then(this._trigger.bind(this,"imageloaded",t,e,n,h))),u.push(s));return u},_getImageId:function(t){var e,n=this._getCurrentSetImages(),i=(n&&n.length||0)-1;return!0===this._Opts.Loop?(e=i+1,(t%=e)<0&&(t+=e)):t=Math.max(0,Math.min(t,i)),t},_isValidId:function(t){return null!==t&&!isNaN(t)},_isAvailibleId:function(t,e){return this._isValidId(t)&&t in e},_getCurrentSetImages:function(){return this._getSetImages(null)},_getCurrentSetParams:function(){return this.getSetParams(null)},getImageParams:function(t,e){return t=isNaN(t)?this._Current.set:+t,e=isNaN(e)?this._Current.image:+e,n.getByPath([t,e],this._setsImages)},getCurrentImageParams:function(){return this.getImageParams(this._Current.set,this._Current.image)},reloadImage:function(t,e,n){var i;this._isValidId(n)||(n=this._Current.set),this._isAvailibleId(t,this._getCurrentSetImages())&&(i=this._startPreload(this.getImageParams(n,t),t,n,e),m.call(this,i,t,n,e))},addImagesSet:function(t){var e=this._setsParams,n=this._setsImages,i=t&&t.images,s=-1;return Array.isArray(i)&&(s=n.length,i=f.call(this,i,s),i.length?(n.push(i),delete t.images,e[s]=t):s=-1),s},addImages:function(t,e,n){var i=this._setsImages,r=!0;null===(e=this._isAvailibleId(e,i)?e:this._Current.set)&&(e=this.addImagesSet({images:t}),r=!1);var o,a,l,c=i[e],u={imagesAdded:!1};return Array.isArray(t)&&(t=f.call(this,t,e),(l=t.length)&&(n?(o="unshift",u.indexFirst=0,u.indexLast=l-1):(o="push",a=c.length,u.indexFirst=a,u.indexLast=a+l-1),r&&Array.prototype[o].apply(c,t),s(u,{imagesAdded:!0,setLength:c.length,setId:e,newImages:t}),this._trigger("setimageschange",u))),u},changeSet:function(t){var e=this._Current,n=this._isAvailibleId(t,this._setsImages)&&t!=e.set;return n&&(e.set=1*t,e.image=null,this._trigger("setchange",this._setsParams[t],t)),n},changeImage:function(t){var e,n,i,s=this._Current,r=this._getCurrentSetImages(),o=!1;return r&&this._isValidId(t)&&(t=+t,t=this._getImageId(t),(o=t!=s.image)&&(s.image=t,e=r[t],this._trigger("imagechange",e,t,s.set),!0!==this._Opts.Loop&&(n=t===r.length-1,i=0===t,(n||i)&&this._trigger("lastimage",n,i)),this._preloadCurImage(t,e))),o},nextImage:function(){return this.changeImage(this._Current.image+1)},prevImage:function(){return this.changeImage(this._Current.image-1)},getImagePropsList:function(){return this._aImageProps.slice(0)},getCurrentImage:function(){var t=this._Current,e=this._getCurrentSetImages();return{image:t.image,set:t.set,setLength:e&&e.length||0}},getImageProps:function(t,e){var n=this._Current,i=this._setsImages,r=null,o=this._isValidId,a=this._isAvailibleId.bind(this);return t=o(t)?t:n.image,e=o(e)?e:n.set,a(e,i)&&a(t,i[e])&&(r=s(!0,{},i[e][t]),delete r.versions),r},isImageReady:function(t,e,n){var s,r,o=this._Current,a=this._isAvailibleId.bind(this),l=!1;return!(!a(e,this._setsImages)&&null===(e=o.set))&&(s=this._setsImages[e],a(t,s)||(t=o.image),r=s[t],r&&a(n,r.versions)&&(l=i(r.versions[n].loading,"boolean")),l?r:l)},getSetParams:function(t){var e=this._setsParams,n=null;return null===t&&(t=this._Current.set),this._isAvailibleId(t,e)&&(n=s(!0,{},e[t])),n},addToCache:function(t,e){e&&(_[e+""]=t)},getFromCache:function(t){return _[t+""]}}}(),o,null,"Gallery");s(t.getNameSpace("Modules",e),{Gallery:a})}(window,window.ru.mail.cpf)},function(t,e,n){!function(t,e,n){var i=n.Basic,s=i.typeOf,r=i.Extend,o={cssSels:{Main:{imageView:null,imageNum:null,imagesTotal:null},reloadImage:".js-photo_reload",imageProps:null,setProps:null},cssClss:{Loading:null,Error:null},useClickHandler:!0,onImgClick:null,infoAppend:{},resizeView:!0,imagesSet:0,imagesVersion:0,flashParams:null},a=i.getView(function(){function n(e,n,i){var r,o,a,l,c,u,h=this._opts.infoAppend;Array.isArray(i)||(i=Object.keys(e));for(var p=i.length;p--;)(r=i[p])in e&&(o=e[r],s(o,"string")&&(o=this._getViewParent().find(o)),o instanceof t&&o.length&&(a=n[r],c=s(a),u=h[r],"boolean"===c?o.toggle(a):s(u,"function")?u.call(this,o,a):(l=null!==a&&"undefined"!==c&&!("string"===c&&0===a.length),o.toggle(l),l&&("A"===o.get(0).tagName?o.attr("href",a):o.html(a)))))}function i(e,n){return n?"nodeType"in n?t(n):n:e}var o=function(t){return"background-size"in t||"backgroundSize"in t}(document.createElement("div").style),a=["width","height"],l=a.reduce(function(t,e){return t[e]="",t},{});return{_Handlers:{dom:{"click:Main.imageView":"_onImageClick","click:reloadImage":function(t){this._model.reloadImage(this._model.getCurrentImage().image,this._opts.imagesVersion),t.preventDefault()}},model:{imagechange:"_onImageChange",imageready:"_onImageReady",imagefail:"_onImageFail",setchange:"_onSetChange"}},_Init:function(){var t=this._opts,e=t.imagesSet;if(this._imagesSet=null===e?e:1*e,this._imagesVersion=+t.imagesVersion,isNaN(this._imagesSet)||isNaN(this._imagesVersion))throw new TypeError("imagesSet");null!==e&&this._toggleSetInfo(this._Model.getSetParams(e),e)},_onSetChange:function(t,e){null===this._imagesSet&&this._toggleSetInfo(t,e)},_setImageToView:function(n,i,r){var o,a,l,c,u=this._opts,h=!0===u.resizeView,p=s(e.swfobject,"undefined")?null:e.swfobject,d=n.src;switch(r=this._getViewElement(r),r.empty(),n.type){case"pic":"IMG"===r.get(0).tagName?r.attr("src")!==d&&(c=r.clone(!0).attr("src",d),r.replaceWith(c),this._setViewElement(c)):(l={"background-image":"url("+d+")"},h&&"cover"!==r.css("background-size")&&(l["background-size"]=i.width+"px "+i.height+"px"),r.css(l));break;case"flash":if(!p)break;a=r.children(),a.length&&(o=a.attr("id"))||(o="flash_pic_"+(new Date).getTime(),t('<div id="'+o+'"></div>').appendTo(r)),p.embedSWF(d,o,i.width,i.height,"9.0.0",null,null,u.flashParams)}return c||r},_prepareViewElement:function(t,e){var n,i=null,s=1;e=this._getViewElement(e),e.css(l);for(var r=a.length;r--&&(n=a[r]);)s=Math.min(s,e[n]()/t[n]);if(s<1)for(i={},r=a.length;r--&&(n=a[r]);)i[n]=Math.round(t[n]*s);return i},_normilizeImageViewElem:function(e,n,i){i=this._getViewElement(i);var s,r=i.get(0),a="IMG"===r.tagName,l="pic"===e&&!a&&n&&!o,c=!l&&"pic"!=e&&a;return(l||c)&&(s=t(l?"<img>":"<div>").addClass(r.className),i.replaceWith(s),this._setViewElement(s)),s||i},_processViewSizes:function(t,e,n){n=this._getViewElement(n),n.css(e||l)},_getTargetElement:i,_getViewParent:function(t){return i(this._elems.parent,t)},_getViewElement:function(t){return i(this._elems.imageView,t)},_setViewElement:function(t){this._elems.imageView=t},_showImageVersion:function(t,e){var n=!0===this._opts.resizeView,i=this._prepareViewElement(t,e),s=i||{width:t.width,height:t.height};n&&(e=this._normilizeImageViewElem(t.type,null!==i,e)),e=this._setImageToView(t,s,e),n&&this._processViewSizes(t,s,e)},_switchViewState:function(t,e,n){var i=this._opts.cssClss;n=this._getViewParent(n),e=!t&&!0===e,i.Loading&&n.toggleClass(i.Loading,e),i.Error&&n.toggleClass(i.Error,t)},_onImageReady:function(t,e,n,i){this._isTargetImage(n,i)&&(this._switchViewState(!1,!1),this._showImageVersion(t.versions[i]))},_toggleImageInfo:function(t,e){var i=this._opts.cssSels.imageProps,r=this._Model.getImagePropsList(),o=this._elems.imageNum;o&&o.text(e+1),s(i,"object")&&n.call(this,i,t,r)},_toggleSetInfo:function(t,e){var i=r({total:this._Model._getSetImages(e).length},t),s=r({total:this._elems.imagesTotal},this._opts.cssSels.setProps);n.call(this,s,i)},_onImageChange:function(t,e,n){this._isTargetImage(n)&&(this._model.isImageReady(e,n,this._opts.imagesVersion)||this._switchViewState(!1,!0),this._toggleImageInfo(t,e))},_onImageFail:function(t,e,n){this._isTargetImage(e,n)&&this._switchViewState(!0)},_onImageClick:function(){var t=this._opts;t.useClickHandler&&(s(t.onImgClick,"function")?t.onImgClick.apply(this,arguments):(this._normalizeModelImage(),this._Model.nextImage()))},_isTargetImage:function(t,e){var n=this._imagesSet;return(null===n||t===n)&&(s(e,"undefined")||e===this._imagesVersion)},_normalizeModelImage:function(){var t=this._Model,e=t.getCurrentImage(),n=this._imagesSet;(null!==n&&e.set!=n||null===e.set)&&t.changeSet(n||0),null===e.image&&t.changeImage(0)},_createAdvertManager:function(){return null}}}(),o,null,"ImageView");i.Extend(!0,n,{Modules:{GalleryImageView:a}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic,s=i.Extend,r=i.typeOf,o=i.getOptions,a={cssSels:{Main:{Preview:".js-preview-list__item"}},cssClss:{currentPreview:null},Attrs:{imageVersions:null,imageProps:null,imageId:"data-image-id",imageSetId:"data-image-set"},imagesSet:null,addSetParams:null,useOnclickData:!1},l=i.Constructors.getView(function(){function t(t){for(var e,n,i,s,a,l,c=this._Opts,u=c.Attrs,h=this._Model.getImagePropsList(),p=u.imageVersions,d=u.imageProps,f=[],m=null,g=0;g<p.length;g++){a=p[g].split("|");for(var _=0;_<a.length;_++)if(e=t.getAttribute(a[_])){f.push(e);break}}if(f.length&&(m={url:f},r(d,"object")))for(var v=h.length;v--;)n=h[v],(i=d[n])&&(s=t.getAttribute(i))&&(m[n]=s);if(c.useOnclickData){l=o(t);for(var w in l)l.hasOwnProperty(w)&&-1!==h.indexOf(w)&&(m[w]=l[w])}return m}return{_Events:["previewClick"],_Handlers:{dom:{"click:Main.Preview":"_onPreviewClick"},model:{imagechange:"_onImageChange"}},_Init:function(){var t,e,n=this._Opts,i=this._Elems.Preview,r=this._Model,o=n.imagesSet;this._imagesSet=o,i&&i.length&&(t=this.getImagesFromElems(i),t.length&&(null!==o?r.addImages(t,o):(e=s({images:t},n.addSetParams),this._imagesSet=this._Model.addImagesSet(e))))},getSetId:function(){return this._imagesSet},getImagesFromElems:function(e){return e.toArray().map(t.bind(this)).filter(function(t){return null!==t})},_onPreviewClick:function(t){var e=t.currentTarget,n=this._opts.Attrs.imageId,i=this._opts.Attrs.imageSetId,s=e.getAttribute(n)||this._elems.Preview.index(e),r=e.getAttribute(i)||this._imagesSet;this._model.changeSet(r),this._model.changeImage(s),this._trigger("previewClick",{imageId:s,imageSetId:r}),t.preventDefault()},_onImageChange:function(t,e,n){var i=this._Opts.cssClss.currentPreview,s=this._imagesSet,r=this._Elems.Preview;r&&(null===s||n===s)&&i&&r.removeClass(i).eq(e).addClass(i)}}}(),a,null,"GalleryPreviews");i.moduleOpts.setParams("GalleryPreviews",{acceptTypes:"Gallery"}),s(!0,n,{Modules:{GalleryPreviews:l}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic,s=i.typeOf,r=e.getNameSpace("Modules",n),o=t(e),a=t(e.document),l=n.Modules.GalleryImageView,c=i.moduleOpts,u=c.setParams,h={cssSels:{sizeReference:null,Main:{sizeCont:null}},showOnChange:!1,showBanner:!0,sizeLimits:null,setContSize:!0,templates:{block:null},templatesData:{block:null},imagesVersion:1,imagesSet:null,Banner:null,bannerId:"default",usePopupLoading:!1,popupExt:"ImageView"},p=i.Constructors.getView(function(){function r(e,n){var i,o,a,l=s(e);switch(l){case"object":a=e instanceof t;case"array":if(e.length>1)for(var c=e.length;c--;)o=r(a?e.eq(c):e[c],n),i&&i>o||(i=o);else i=a?e[n]():r(e[0],n);break;case"number":i=e;break;case"function":i=e()}return i}function l(t,e){var n,i,s={};e=!0===e;for(var r=m.length;r--;)i=n=m[r],e&&(i="outer"+n.charAt(0).toUpperCase()+n.substring(1)),s[n]=t[i]();return s}function c(e,n){var s,r,o=this._opts.cssSels.sizeReference,a=this._elems,l=i.Extend({visibility:"hidden"},e),c=a.sizeReference;if(!o||c&&c.length||(c=n.parents(o).first()),c&&c.length)n.css(l);else{s=n.parents(),r=[];var u=s.filter(function(){var e="visible"!==t(this).css("overflow");return e&&r.push(this.scrollWidth-this.offsetWidth+this.scrollHeight-this.offsetHeight),e});n.css(l),c=u.filter(function(t){return r[t]<this.scrollWidth-this.offsetWidth+this.scrollHeight-this.offsetHeight}).first().children().filter(s),a.sizeReference=c}return c}function u(t){t=this._getViewElement(t);for(var e,n,i,s=this._opts.sizeLimits,u=l(o),h=c.call(this,u,t),p=l(h,!0),d={},f=m.length;f--;)e=m[f],i=Math["width"===e?"max":"min"](u[e],a[e]()),i-=p[e]-u[e],s&&s.hasOwnProperty(e)?(n=r(s[e],e),n=Math.max(n,i)):n=i,d[e]=n;return t.css({visibility:""}),d}function h(t,e){for(var n,i=u.call(this,e),s=null,r=1,o=m.length;o--&&(n=m[o]);)r=Math.min(r,i[n]/t[n]);if(r<1)for(s={},o=m.length;o--&&(n=m[o]);)s[n]=Math.round(t[n]*r);return s}function d(t){this._elems.sizeCont&&this._elems.sizeCont.width(""),p.prototype._parent._showImageVersion.apply(this,t)}function f(t){var e=t.keyCode,n=this._Model;this._state.visible&&(37===e?n.prevImage():39!==e&&32!==e||n.nextImage())}var m=["width","height"];return{_Handlers:{"dom:keydown:document":f},_Events:["show","hide"],_parentElement:function(){var e=null,n=this._opts;return s(n.templates.block,"function")&&(e=t(n.templates.block.call(this,n.templatesData.block||{}))),e},_Init:function(){this._state=i.Extend(!0,this._state||{},{visible:!1}),this._popup=null,this._elems.sizeCont||!1===this._opts.setContSize||(this._elems.sizeCont=this._elems.parent)},_prepareViewElement:function(t,e){var n;return this._state.visible&&(this._hideBanner(),n=h.call(this,t,e)),n},_switchViewState:function(t,e){e=!t&&!0===e,this._state.visible&&(p.prototype._parent._switchViewState.apply(this,arguments),!1!==this._opts.usePopupLoading&&(e?this._popup.getOverlay().showLoading():this._popup.getOverlay().toggleBlock(this._elems.parent)))},_onImageReady:function(t,e,n,i){this._isTargetImage(n,i)&&(this._state.image=t.versions[i],this._state.visible&&(this._resetReadyStateFor(t.versions[this._opts.imagesVersion]),this._opts.showBanner&&this._showBanner(),p.prototype._parent._onImageReady.apply(this,arguments)))},_onImageChange:function(t,n,i){var s=!0===this._opts.showOnChange,r=this._state,o=r.visible;this._isTargetImage(i)&&(delete r.image,e.cancelAnimationFrame(r.showRequest),o?p.prototype._parent._onImageChange.apply(this,arguments):s&&this.Show())},_initPopup:function(){this._popup=n.Tools.initModule(["Popup",this._opts.popupExt],this._elems.parent,{_Handlers:{show:this._onPopupToggle.bind(this,!0),hide:this._onPopupToggle.bind(this,!1)}})},_getPopupInstance:function(){var t=this._popup;return t||(this._initPopup(),t=this._popup),t},_onPopupToggle:function(t){var e,n,i,s=this._state,r=this._Model;s.visible=t,t?(e=r.getCurrentImage(),n=e.image,i=e.set,this._toggleSetInfo(r.getSetParams(i),i),this._toggleImageInfo(r._getCurrentSetImages()[n],n),"image"in s?this._showCurrentImage():this._switchViewState(!1,!0)):this._clearImageView(),this._trigger(t?"show":"hide")},_showCurrentImage:function(){this._showImageVersion(this._state.image)},_clearImageView:function(){this._getViewElement().empty()},_showImageVersion:function(){this._state.showRequest=e.requestAnimationFrame(d.bind(this,Array.prototype.slice.call(arguments)))},_processViewSizes:function(t,e){p.prototype._parent._processViewSizes.apply(this,arguments),this._elems.sizeCont&&this._elems.sizeCont.width(e.width)},_onImageClick:function(){this._normalizeModelImage(),this._model.nextImage()||this._getPopupInstance().hide()},_hideBanner:function(){var t=this._popup.getOverlay();t&&t.hideBanner&&t.hideBanner(this._opts.bannerId)},_showBanner:function(){if(this._opts.showBanner){var t=this._popup.getOverlay();t&&t.showBanner&&t.showBanner(this._opts.bannerId,!0)}},isVisible:function(){return!0===this._state.visible},Show:function(){this._normalizeModelImage(),this._getPopupInstance().show()},Hide:function(){this._getPopupInstance().hide()},showLoading:function(){this._getPopupInstance().getOverlay().showLoading()},addOptions:function(t){return s(t,"object")&&i.Extend(!0,this._opts,t),this}}}(),h,l,"PopupGalleryView");i.Constructors.getView({_Handlers:{"dom:click:showPopup":"_onShowClick"},_onShowClick:function(t){t.preventDefault();var e=this.getPopup();e&&e.Show()},getPopup:function(){var t=this._popupView;return t||(this._popupView=t=this._elems.Parent.data("PopupGalleryView")),t}},{cssSels:{showPopup:".js-show_photo"}},null,"ShowGalleryPopup"),u("ShowGalleryPopup",{acceptTypes:"Gallery"}),u("PopupGalleryView",{initializer:function(t,e,n){return new p(t,null,n)},acceptTypes:"Gallery"}),r.PopupGalleryView=p}(window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e){"use strict";var n=e.Basic.Constructors.getView,i=e.Basic.moduleOpts.setParams,s=e.Tools.initModule,r={currentImg:null,currentSet:null,backUrl:null};n({_Init:function(){var e=s("PopupGalleryView",this._elems.parent),n=this._opts.backUrl;e&&n&&e.on("hide",function(){this.showLoading(),requestAnimationFrame(function(){t.location=n},this._Elems.Parent)});var i=this._opts.currentImg,r=this._opts.currentSet;i&&(this._Model.changeSet(parseInt(r,10)),this._Model.changeImage(parseInt(i,10)))}},r,null,"GalleryShot"),i("GalleryShot",{acceptTypes:"Gallery",paramAttrs:{currentImg:"data-photo-id",currentSet:"data-set-id",backUrl:"data-return-url"}})}(window,window.ru.mail.cpf)},function(t,e){!function(t,e){"use strict";function n(t){var e=this._trigger.bind(this);o(t,"string")&&setTimeout(function(){s.replaceState(null,a,t),e("urlchange",t)},1)}function i(t,e){var i=this._Opts.urlReplace,s=t[i.urlProp],r=s&&"#"!==s?s:l;i.canReplace&&(n.call(this,r),i.changeOriginalUrl&&0===e&&(l=r))}var s=t.history,r=e.Basic,o=r.typeOf,a=t.document.title,l=t.location.href,c={urlReplace:{urlProp:"share_url",canReplace:!0,changeOriginalUrl:!1}};s.replaceState&&r.Constructors.addPlugin("PopupGalleryView",{_Events:["urlchange"],_Handlers:{model:{imagechange:function(t,e,n){this._isTargetImage(n)&&this._state.visible&&i.call(this,t,n)}},hide:function(){this._Opts.urlReplace.canReplace&&n.call(this,l)},show:function(){this._Opts.urlReplace.canReplace&&i.call(this,this._Model.getImageProps(),0)}}},c,"UrlReplace")}(window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){function i(){return s||(s=r(o)),s}var s,r=n.Tools.initModule,o="BannerController",a={usePopupLoading:!1,bannerExt:"PopupGalleryView"};n.Basic.Constructors.addPlugin("PopupGalleryView",function(){function t(){this._state.visible&&this._super.apply(this,arguments)}return{_Init:function(){this._elems.sizeCont=null},_onImageLoaded:t,_onImageChange:function(t,e,n){var i;this._isTargetImage(n)&&!this._state.visible&&this._opts.showOnChange&&(this.Show(),i=this._getImageFrames(e),this._slider.goToFrame(i.frame,!0)),this._super.apply(this,arguments)},_onPopupToggle:function(t){t&&(this._slider.update(!0,!1,!0),this._state.sliderSize=this._getSliderSizes()),this._super.apply(this,arguments),this._advertManager&&this._advertManager.reset()},_showCurrentImage:function(){var t=this._model.getCurrentImage().image;this._replaceImageFrames(t),this._slider.goToFrame(t,!0),this._super.apply(this,arguments)},_clearImageView:function(){var t,e=this._model.getCurrentImageParams();e&&(t=e.versions[this._opts.imagesVersion])&&delete this._state.imagesReady[t.src],this._super.apply(this,arguments)},_showBanner:function(){if(this._opts.showBanner){var t=this._model.getCurrentImage(),e=t&&this._getImageFrames(t.image);if(e){var n=this._model.getCurrentImageParams(),s=r(["Banner",this._opts.bannerExt],e.frame,null,null,[{instance:i(),type:o}]);this._resetReadyStateFor(n.versions[this._opts.imagesVersion]),s.show()}}}}}(),a,"PopupImageSlider")}(window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic,s=i.Extend,r=n.Tools.transport,o={galleryUrl:null,attrs:{galleryId:"data-gallery-id",galleryUrl:"data-gallery-url"},transport:r,prepareRequest:null,prepareResponse:null,setGalleryPopupOptions:function(){return null}},a=["loadStart","loadFinish","loadError"];i.Constructors.addPlugin("ShowGalleryPopup",function(){function e(t,e){var n=this._opts,r=this._model;return"function"==typeof n.prepareResponse&&(t=n.prepareResponse.call(this,t)),i[e].setId=r.addImagesSet(s(!0,{},t)),i[e]}function n(t,e){var n=this._model,i=e.setId,s=this._opts.setGalleryPopupOptions(e);s&&this.getPopup().addOptions(s),"number"==typeof i&&(n.changeSet(i),n.changeImage(0)),t&&t()}var i={};return{_Init:function(){this._addEventTypes(a)},_onShowClick:function(s){s.preventDefault();var r=this._super,o=arguments,a=this._opts,l=a.attrs,c=function(){r.apply(this,o)}.bind(this),u=n.bind(this,c),h=t(s.currentTarget),p=a.galleryUrl||h.attr(l.galleryUrl),d=h.attr(l.galleryId);if(d in i&&i[d].setId)u(i[d]);else if(p){var f={};"function"==typeof a.prepareRequest&&(f=a.prepareRequest.call(this,f)),a.transport({url:p,data:f}).then(function(t){return i[d]={data:t},e.call(this,t,d)}.bind(this),u).then(function(t){u(t)})}}}}(),o,"Ajax")}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.Constructors.addPlugin,s=n.Basic.Extend,r=n.Basic.debounce,o={cssSels:{Main:{slider:".js-image-slider"},slideContents:null},templates:{frames:n.Tools.getTemplate("ct-viewbox-slides.xml"),frameContents:n.Tools.getTemplate("ct-viewbox-slide-content.xml")},imageSliderExt:"ImageView"};i("ImageView",function(){function i(t,e,n){this._switchViewState(!1,!1,n.all),this._showImageVersion(t.versions[e],n.contents.find(this._opts.cssSels.Main.imageView))}function o(t){t=t||this._model._getCurrentSetParams();var e=this._opts.imagesVersion;return{params:t,images:(this._model._getCurrentSetImages()||[]).map(function(t){return s({},t,{targetVersion:t.versions[e]})})}}var a=function(t){var n=e.document.createElement("div"),i=o.call(this,t);n.innerHTML=this._opts.templates.frames(i),this._state=s({},this._state,{setImages:i,imageFrames:[],framesContent:[],imagesReady:{}}),this._slider.replaceFrames(n.children,0)};return{_Handlers:{model:{setchange:a,imageloaded:"_onImageLoaded",imageloading:function(t,e,n,i){var s=this._getImageFrames(e);this._isTargetImage(n,i)&&s&&this._switchViewState(!1,!0,s.all)}},dom:{"resize:window":r(function(){this._state.sliderSize=this._getSliderSizes()},100)}},_Init:function(){this._slider=n.Tools.initModule(["Slider",this._opts.imageSliderExt],this._elems.slider||this._elems.parent,{_Handlers:{beforeSlide:function(t){this._advertManager&&this._advertManager.beforeSlide(t)||this._replaceImageFrames(null,t)}.bind(this),slide:function(t){null!=(t=this._advertManager?this._advertManager.slide(t):t)&&(this._model.changeImage(t),this._replaceImageFrames(t,null))}.bind(this),swipeEnd:function(){this._state.sliderSwipe=!1}.bind(this),swipeStart:function(){this._state.sliderSwipe=!0}.bind(this)}}),this._state=s(this._state||{},{imageFrames:[],setImages:o.call(this),sliderSwipe:!1,sliderSize:this._getSliderSizes(),imagesReady:{}}),this._advertManager=this._createAdvertManager(),a.call(this)},_replaceImageFrames:function(t,e){var n,s,r,o,a,l,c,u,h,p=this._model.getCurrentImage(),d=p.setLength,f=this._opts.cssSels.slideContents,m=null!==t,g=this._opts.imagesVersion;m&&(n=t-2,s=t+2);for(var _=0;_<d;_++)r=this._getImageFrames(_),l=m&&_>=n&&_<=s||_===e,l&&("contents"in r?(u=this._Model.getImageParams(null,_),u=u&&u.versions[g],u&&"iframe"===u.type&&(h=r.contents.find(this._opts.cssSels.Main.imageView),h.length&&"IMG"!==h.prop("tagName")&&!h.children().length&&h.append(this._Model.getFromCache(u.src))),u=null):r=this._getFramesWithContents(_,r)),a=r.contents,o=r.all,c=a&&a.parent().length>0,l&&!c?(f&&(o=f.find(f)),a.each(function(t){o.eq(t).append(this)}),(u=this._model.isImageReady(_,p.setId,g))&&i.call(this,u,g,r)):m&&!l&&c&&a.detach()},_getSliderSizes:function(){var t=this._elems.slider||this._elems.parent;return{width:t.width(),height:t.height()}},_getImageFrames:function(t){var e=this._state.imageFrames[t];return e||(e={frame:this._slider.getFrameByNo(t)},e.clones=this._slider.getFrameClones(e.frame),e.all=e.frame.add(e.clones),this._state.imageFrames[t]=e),e},_getFramesWithContents:function(n,i){void 0!==i&&null!==i||(i=this._getImageFrames(n));var r=i.contents;if(!r){var o=this._opts.templates.frameContents,a=s({image:n},this._state.setImages),l=e.document.createElement("div");l.innerHTML=o(a),r=t(Array.from(l.childNodes)).detach();for(var c=0;c<i.all.length;c++)c>0&&(r=r.add(r.eq(0).clone()));i.contents=r}return i},_onImageClick:function(){this._state.sliderSwipe||this._super.apply(this,arguments)},_onImageLoaded:function(t,e,n,s){var r;this._isTargetImage(n,s)&&e!==this._model.getCurrentImage().image&&(r=this._getFramesWithContents(e),r.contents.parent().length&&i.call(this,t,s,r))},_onImageChange:function(t,e,n){var i;this._isTargetImage(n)&&(this._replaceImageFrames(null,e),e!==this._slider.getFrameNo()&&(i=this._getImageFrames(e),this._slider.goToFrame(i.frame))),this._super.apply(this,arguments)},_getViewElement:function(t){var e=this._slider.getCurrentFrame(),n=e.find(this._opts.cssSels.Main.imageView);return this._getTargetElement(n,t)},_setViewElement:function(){},_getViewParent:function(t){return this._getTargetElement(this._slider.getCurrentFrame(),t)},_showImageVersion:function(t){var e=this._state.imagesReady[t.src],n=this._state.sliderSize;e&&e.height===n.height&&e.width===n.width||(this._super.apply(this,arguments),this._state.imagesReady[t.src]=s({},n))},_resetReadyStateFor:function(t){delete this._state.imagesReady[t.src]},_toggleImageInfo:function(){}}}(),o,"ImageViewSlider")}(window.$,window,window.ru.mail.cpf)},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(35);e.init=i.init;var s=n(7);e.setConfig=s.setConfig;var r=n(21);e.registerComponent=r.registerComponent;var o=n(20);e.initAllComponents=o.initAllComponents,function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(42))},function(t,e,n){"use strict";function i(t){var e=t.getAttribute(p.DOM_DATA_COMPONENT_STATE_ATTR)||"{}";try{return JSON.parse(e)||{}}catch(t){return d.print.warn('Unable to parse data "'+e+'"'),{}}}function s(t){var e=i(t);try{t.removeAttribute(p.DOM_DATA_COMPONENT_STATE_ATTR)}catch(t){d.print.warn('Unable to remove "'+p.DOM_DATA_COMPONENT_STATE_ATTR+'" attribute from node')}return e}function r(t){var e=/^([\w\.]+)\s+as\s+(\w+)$/gm,n=e.exec(t);return null!==n?{name:n[1].trim(),alias:n[2].trim()}:{name:t.trim(),alias:null}}function o(t,e){var n=r(e),i=n.name.split(h.COMPONENT_NS_DELIMITER),o=i[0],a=i.slice(1),l=f.getConfigCollapsed(n.name),p=u.getComponent(o);if(void 0===p)return d.print.warn("Component '"+o+"' was not found"),null;var m=s(t),g=m[o]||{},_=c.deepMerge({},l.initialState,g.state),v=c.deepMerge({},l.options,g.options);return new p(a.join(h.COMPONENT_NS_DELIMITER),v,_).mount(t).dispatch(n.alias||o)}function a(t){var e=t.getAttribute(p.DOM_DATA_COMPONENT_NAME_ATTR);if(!e)return[];for(var n=e.split(h.COMPONENT_DELIMITER),i=[],s=0,r=n;s<r.length;s++){var a=r[s],l=o(t,a);null!==l&&i.push(l)}return i}function l(t){if(!t)throw new Error("$root element not found");var e=t.querySelectorAll(p.DOM_DATA_COMPONENT_SEL),n=Array.prototype.slice.call(e);t.getAttribute(p.DOM_DATA_COMPONENT_NAME_ATTR)&&n.unshift(t);for(var i=[],s=0,r=n;s<r.length;s++){var o=r[s],l=a(o);i=i.concat(l)}return i}Object.defineProperty(e,"__esModule",{value:!0});var c=n(2),u=n(21),h=n(1),p=n(6),d=n(0),f=n(7);e.initComponents=a,e.initAllComponents=l},function(t,e,n){"use strict";function i(t){return(t.toString().match(/function (\w*)/)||[])[1]}function s(t){var e=t.registryName;if(!e){var n=i(t);throw new Error(o.format('Static property "registryName" is not defined for component "'+n+'"').error().str())}if(e in a)throw new Error(o.format("Component with name '"+e+"' is already registered").error().str());o.print.log('Registering "'+e+'"'),a[e]=t}function r(t){return a[t]}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a={};e.registerComponent=s,e.getComponent=r},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(23),r={templatesExt:".xml.js",templatesPath:"/bem",templatesNS:"fest"},o=function(){function t(){this._store=new s.Store("MPF_GLOBAL",r,this.dispatchStore.bind(this)),this._store.dispatch()}return t.prototype.dispatchStore=function(){},t.prototype.getState=function(){return this._store.read()},t.prototype.update=function(t){this._store.put(function(e){return i({},e,t)}),this._store.dispatch()},t}();e.ApplicationSettings=o,e.applicationSettings=new o},function(t,e,n){"use strict";function i(t){for(var e={},n={},i=0,s=Object.keys(t);i<s.length;i++){var r=s[i];"@"===r.charAt(0)?e[r]=t[r]:n[r]=t[r]}return{component:n,shared:e}}var s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(38),a=n(40),l=!1,c={},u=new o.Emitter,h=new a.DevToolsExtension,p=function(){function t(t,e,n){var o=this;this._id=t,this._events=[],this._EVENT_CHANGE="CHANGE:"+t,this._EVENT_INIT="INIT:"+t;var a=i(e).component;if(c[t])return void r.print.warn("'"+t+"' is already connected");this.bind(n),c[t]=a,u.emit(this._EVENT_INIT,c[t]),l&&(r.print.groups("Store ("+this._EVENT_INIT+")",{initial:[a]}),h.subscribe(this._id,function(t){var e=o.read(),n=JSON.parse(t.state)[o._id];u.emit(o._EVENT_CHANGE,n,e),c[o._id]=n}),h.send(this._EVENT_INIT,s({},c)))}return t.hasEntity=function(t){return t in c},t.prototype.destroy=function(){var t=this;this._events.forEach(function(e){u.removeListener(t._EVENT_CHANGE,e)}),l&&h.remove(this._id),delete c[this._id]},t.prototype.dispatch=function(){u.emit(this._EVENT_CHANGE,c[this._id])},t.prototype.put=function(t){var e=this.read(),n=t(this.read()),o=i(e).component,a=i(n).component,p=Object.keys(o),d=Object.keys(a);0===p.length&&0===d.length||(c[this._id]=a,u.emit(this._EVENT_CHANGE,a,e),l&&(r.print.groups("Store ("+this._EVENT_CHANGE+")",{prev:[e],next:[a]}),h.send(this._EVENT_CHANGE,s({},c))))},t.prototype.read=function(){var t=c[this._id];return s({},t)},t.prototype.bind=function(t){this._events.push(t),u.on(this._EVENT_CHANGE,t)},t}();e.Store=p},function(t,e,n){"use strict";function i(t){return"["+d.DOM_DATA_COMPONENT_EL_ATTR+'*="'+t+p.COMPONENT_EL_DELIMITER+'"]'}function s(t){return"["+d.DOM_DATA_COMPONENT_BIND_ATTR+'*="'+t+p.COMPONENT_DATA_BIND_DEF_DELIMITER+'"]'}function r(t){return function(t,e,n){}}function o(t,e,n){}var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var l=n(43),c=n(44),u=n(25),h=n(0),p=n(1),d=n(6);e.DOMEvent=r,e.DOMBind=o;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._events={},e}return a(e,t),Object.defineProperty(e.prototype,"$",{get:function(){if(!this._$root)throw new Error(h.format('Component "'+this.identity+'" not mounted').error().str());return this._$root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$elements",{get:function(){return this._collector.group(this.$,this.alias)},enumerable:!0,configurable:!0}),e.prototype.reset=function(){null!==this._unbindEvents&&(this._unbindEvents(),this._unbindEvents=null),t.prototype.reset.call(this)},e.prototype.getElements=function(t){return this._collector.elements(this.$,t,this.alias)},e.prototype.mount=function(t){return this._$root||(this._$root=t),this},e.prototype.preDispatch=function(){var t=this;this._collector=new u.Collector(i(this.alias),d.DOM_DATA_COMPONENT_EL_ATTR);var e=c.eventsBinder(this.$,function(e){return t._collector.elements(t.$,e,t.alias)});this._unbindEvents=e(this._events),c.dataBinder(s(this.alias),d.DOM_DATA_COMPONENT_BIND_ATTR)(this,this._store.bind.bind(this._store),this.getState.bind(this))},e.prototype.postDispatch=function(){h.print.groups("Component ("+this.identity+")",{$:[this.$,this.$elements],options:[this.options],state:[this.getState()]})},e}(l.Component);e.DOMComponent=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=function(){function t(t,e){this.elSel=t,this.attrSel=e}return t.prototype.getName=function(t,e){var n=t.getAttribute(this.attrSel);return"string"==typeof n&&e?n.replace(""+e+i.COMPONENT_EL_DELIMITER,""):n},t.prototype.group=function(t,e){for(var n={},i=t.querySelectorAll(this.elSel),s=Array.prototype.slice.call(i),r=0,o=s;r<o.length;r++){var a=o[r],l=this.getName(a,e);null!==l&&(n[l]||(n[l]=[]),n[l]=n[l].concat(a))}return n},t.prototype.elements=function(t,e,n){var i=this,s=t.querySelectorAll(this.elSel);return Array.prototype.slice.call(s).filter(function(t){return i.getName(t,n)===e})},t}();e.Collector=s},function(t,e,n){"use strict";function i(t){var e,n=t.nodeName.toLowerCase(),i=a[n];return i&&void 0!==(e=i.getVal(t))?e:(e=t.value,"string"==typeof e?e.replace(/\r/g,""):null===e?void 0:e)}function s(t){throw new Error("to be done")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(51),o=n(27),a={option:{getVal:function(t){var e=t.getAttribute("value");return null!==e?e:o.stripAndCollapse(o.getText(t))}},select:{getVal:function(t){for(var e=[],n=t.selectedIndex,s="select-one"===t.type,o=s?n+1:t.options.length,a=n<0?o:s?n:0;a<o;a++){var l=t.options[a],c=l.selected||a===n,u=l.disabled,h=l.parentNode,p=h.disabled,d=r.isNodeName(h,"optgroup");if(c&&!u&&(!p||!d)){var f=i(l);if(s)return f;e.push(f)}}return e},setVal:function(t,e){for(var n,i=[e],s=t.options.length;s--;){var r=t.options[s];(r.selected=-1!==i.indexOf(a.option.getVal(r)))&&(n=!0)}return n||(t.selectedIndex=-1),i}}};e.getValue=i,e.setValue=s},function(t,e,n){"use strict";function i(t){var e,n=t.nodeType,s="",r=0;if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)s+=i(t)}else if(3===n||4===n)return t.nodeValue}else for(;e=t[r++];)s+=i(e);return s}function s(t){return(t.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.getText=i,e.stripAndCollapse=s},,,,,function(t,e,n){"use strict";function i(t,e){return void 0===e&&(e=3e4),t?new Promise(function(n,i){var s,r=new Image,o=function(){delete r.onload,delete r.onerror,i()},a=function(){clearTimeout(s),n(r)};r.onload=function(){return a()},r.onerror=o,s=setTimeout(o,e),r.src=t,setTimeout(function(){r.complete&&a()},0)}):Promise.reject(new TypeError("src is required"))}function s(){return{height:window.innerHeight,width:window.innerWidth}}function r(t,e,n){if(e>=n)return 0;var i=Math.round(100*(t-e)/(n-e));return Math.max(1,Math.min(i,99))}Object.defineProperty(e,"__esModule",{value:!0}),e.preloadImage=i,e.getWinSize=s,e.calcScrollPercent=r},,,function(t,e,n){"use strict";function i(t){return new Promise(function(e,n){return l?(r.print.warn("MPF is already started"),e()):(t&&a.applicationSettings.update(t),l=!0,o.resolveConfigSetters().then(function(t){var n=function(){r.print.info("MPF init. Env: production"),s.initAllComponents(document.body),e()};"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n)}))})}Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),r=n(0),o=n(7),a=n(22),l=!1;e.init=i},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},o=0,a=t;o<a.length;o++){var l=a[o];if("object"===i(l)&&null!==l)for(var c=Object.keys(l),u=0,h=c;u<h.length;u++){var p=h[u],d=l[p];if(d instanceof Date){var f=new Date;f.setTime(d.getTime()),n[p]=f}else d instanceof RegExp?n[p]=new RegExp(d):Array.isArray(d)?n[p]=Array.prototype.concat.call([],d):r(d)?n[p]=s(n[p],d):n[p]=d}}return n}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return null!==t&&void 0!==t&&"object"===i(t)&&!(t instanceof Promise)};e.deepMerge=s},function(t,e,n){"use strict";function i(t,e){return function e(n,i){if(0===i.length)return n!==t?n:null;var s=n[i[0]];return null===s||void 0===s?null:e(s,i.slice(1))}(t,e)}function s(t,e,n){return function t(e,n,i){return 1===n.length?(e[n[0]]=i,e[n[0]]):(null!==e[n[0]]&&void 0!==e[n[0]]||(e[n[0]]=e[n[0]]||{}),t(e[n[0]],n.slice(1),i))}(t,e,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.getIn=i,e.setIn=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(39),r=function(t){function e(){var e=t.call(this)||this;return e.emit("ready"),e}return i(e,t),e}(s.EventEmitter);e.Emitter=r},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function s(t){return"number"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!s(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,s,a,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(n=this._events[t],o(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),c=n.slice(),s=c.length,l=0;l<s;l++)c[l].apply(this,a);return!0},n.prototype.addListener=function(t,e){var s;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),s||(s=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var s=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,s,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,s=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){s=a;break}if(s<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(41))},function(t,e,n){"use strict";function i(){return __REDUX_DEVTOOLS_EXTENSION__.connect()}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof __REDUX_DEVTOOLS_EXTENSION__,r=function(){function t(){var t=this;this.subscriptions={},s&&(this.devTools=i(),this.devTools.subscribe(function(e){if("DISPATCH"===e.type&&"JUMP_TO_STATE"===e.payload.type)for(var n=0,i=Object.keys(t.subscriptions);n<i.length;n++){var s=i[n];t.subscriptions[s](e)}}))}return t.prototype.subscribe=function(t,e){var n="handler_"+t;this.subscriptions[n]||(this.subscriptions[n]=e)},t.prototype.send=function(t,e){s&&this.devTools&&this.devTools.send(t,e)},t.prototype.remove=function(t){delete this.subscriptions["handler_"+t]},t}();e.DevToolsExtension=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(24);e.DOMComponent=i.DOMComponent,function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(47))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),s=n(1),r=n(23),o=0,a=function(){function t(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),this._ns=t,this._id=++o,this._options=i.deepMerge({},this.getDefaultOptions(),e),this._initialState=i.deepMerge({},this.getInitialState(),n)}return t.prototype.init=function(){},t.prototype.getDefaultOptions=function(){return{}},t.prototype.getInitialState=function(){return{}},Object.defineProperty(t.prototype,"alias",{get:function(){var t=this.constructor;return this._alias||t.registryName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this._ns?""+this.alias+s.COMPONENT_NS_DELIMITER+this._ns:this.alias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identity",{get:function(){return""+this.ns+s.COMPONENT_NS_DELIMITER+this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.getState()},enumerable:!0,configurable:!0}),t.prototype.setState=function(t){return this._store.put(t)},t.prototype.getState=function(){return this._store.read()},t.prototype.update=function(t,e){},t.prototype.canDispatch=function(){return!r.Store.hasEntity(this.identity)},t.prototype.dispatchStore=function(t,e){this.shouldUpdate(t,e)&&this.update(t,e)},t.prototype.shouldUpdate=function(t,e){return!0},t.prototype.reset=function(){this._store.destroy(),this.dispatch(this._alias)},t.prototype.preDispatch=function(){},t.prototype.postDispatch=function(){},t.prototype.dispatch=function(t){return this.canDispatch()&&(this._alias=t,this._store=new r.Store(this.identity,this._initialState,this.dispatchStore.bind(this)),this.preDispatch(),this._store.dispatch(),this.postDispatch(),this.init()),this},t}();e.Component=a},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(45)),i(n(46))},function(t,e,n){"use strict";function i(t,e){return t.split(e).map(function(t){return t.trim()})}function s(t,e){var n=new RegExp(e+"\\"+c.COMPONENT_DATA_BIND_DEF_DELIMITER,"g");return t.replace(n,"")}function r(t,e){return function(n){if(t in u.DOM_ELEMENT_PROPERTIES)n[t]=e;else if(t in u.DOM_ELEMENT_ATTRIBUTES)switch(u.DOM_ELEMENT_ATTRIBUTES[t]){case u.MPFAttributeType.BOOLEAN:e?n.setAttribute(t,t):n.removeAttribute(t);break;case u.MPFAttributeType.STRING:n.setAttribute(t,e)}else n.setAttribute(t,e)}}function o(t,e){var n=new a.Collector(t,e);return function(t,e,o){e(function(){for(var e=n.group(t.$,t.alias),a=Object.keys(e),u=0,h=a;u<h.length;u++)for(var p=h[u],d=s(p,t.alias),f=i(d,c.COMPONENT_DATA_BIND_PROP_DELIMITER),m=0,g=f;m<g.length;m++){var _=g[m],v=i(_,c.COMPONENT_DATA_BIND_EQ),w=v[0],y=v[1];if("function"!=typeof t[y])l.print.warn("Method '"+y+"' not found in '"+t.alias+"' for key '"+p+"'");else{var b=e[p],S=t[y].bind(t),C=o(),T=S(C);b.forEach(r(w,T))}}})}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(25),l=n(0),c=n(1),u=n(6);e.dataBinder=o},function(t,e,n){"use strict";function i(t){for(var e=Object.keys(t),n={},i=0,s=e;i<s.length;i++){var o=s[i],a=o.split(r.COMPONENT_EVENT_DELIMITER),l=a[0],c=a[1];n[l]||(n[l]=[]);var u={name:c,handler:t[o]};n[l]=n[l].concat(u)}return n}function s(t,e){var n={};return function(s){for(var r=i(s),a=Object.keys(r),l=0,c=a;l<c.length;l++){var u=c[l];!function(i){var s=function(n){for(var s=0,o=r[i];s<o.length;s++){var a=o[s],l=a.name,c=a.handler,u=n.target;if(null===u)return;for(var h=e(l);u!==t;){if(-1!==h.indexOf(u))return void c(n);u=u.parentNode}}},a=-1!==o.indexOf(i);t.addEventListener(i,s,a),n[i]={unbind:function(){t.removeEventListener(i,s)}}}(u)}return function(){for(var t=Object.keys(n),e=0,i=t;e<i.length;e++){var s=i[e];n[s].unbind(),delete n[s]}}}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=["focus","blur"];e.eventsBinder=s},function(t,e,n){"use strict";function i(t){return window[t]}function s(t){return Promise.resolve(t)}function r(t,e){var n=e||{},s=c.applicationSettings.getState(),r=s.templatesPath,o=s.templatesNS,a=s.templatesExt;if(!r)throw new Error(l.format('Invalid application settings: "templatesPath"').error().str());if(!o)throw new Error(l.format('Invalid application settings: "templatesNS"').error().str());var p=n.getName,d=n.getPath,f="function"==typeof p?p(t):h.getName(t),m="function"==typeof d?d(r,t,a):h.getPath(r,t,a);if(u[m])return u[m];var g=new Promise(function(t,e){var n=i(o);if(n&&n[f])return t(n[f]);var s=document.createElement("script");s.async=!0,s.type="text/javascript",s.src=m,s.addEventListener("load",function(){n&&n[f]?t(n[f]):e(new Error(l.format('Unable to read template "'+f+'"').error().str()))}),s.addEventListener("error",function(){e(new Error(l.format('Unable to load template from "'+f+'"').error().str()))}),document.head.appendChild(s)});return u[m]=g,g.then(function(t){return delete u[m],t})}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var a=n(24),l=n(0),c=n(22),u={},h={getPath:function(t,e,n){return t+"/"+e+"/"+e+n},getName:function(t){return t+".xml"}};e.resolveTemplate=function(t,e){return function(){return"function"==typeof t?s(t):"string"==typeof t?r(t,e):Promise.reject(new Error(l.format("Invalid template").error().str()))}};var p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),(0,this.options.template)().then(function(t){var e=i.getState();i.render(t,e)}).catch(function(t){l.print.warn(t.message)})},n.prototype.render=function(t,e){var n=t(e);this.$.innerHTML=n},n.getTemplate=e.resolveTemplate,n}(a.DOMComponent);e.TemplateComponent=p},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(49)),i(n(50)),i(n(26)),i(n(27)),i(n(52))},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,o=t;r<o.length;r++){var a=o[r];if(a){var l=i(a);if("string"===l||"number"===l)n.push(""+a);else if(Array.isArray(a))n=n.concat(s.apply(void 0,a));else for(var c=0,u=Object.keys(a);c<u.length;c++){var h=u[c],p=a[h];p&&n.push(""+h)}}}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.classNames=s},function(t,e,n){"use strict";function i(t){return Array.from(t.elements).reduce(function(t,e){var n=e,i=n.name,s=n.nodeName,r=n.type,a=n.checked,l=null!==e.getAttribute("disabled"),c=/^(?:input|select|textarea|keygen)/i.test(s),u=/^(?:submit|button|image|reset|file)$/i.test(r),h=a||!/^(?:checkbox|radio)$/i.test(r);if(i&&!l&&c&&!u&&h){var p=o.getValue(e);if(null===p)return t;if(Array.isArray(p)){var d=p.map(function(t){return{name:i,value:t.replace(/\r?\n/g,"\r\n")}});return t.concat(d)}return t.concat({name:i,value:(p||"").replace(/\r?\n/g,"\r\n")})}return t},[])}function s(t){for(var e=i(t),n={},s=0,r=e;s<r.length;s++){var o=r[s];n[o.name]||(n[o.name]=[]),n[o.name]=n[o.name].concat(o.value)}return n}function r(t){return i(t).map(function(t){var e=t.name,n=t.value;return encodeURIComponent(e)+"="+encodeURIComponent(null===n?"":n)}).join("&")}Object.defineProperty(e,"__esModule",{value:!0});var o=n(26);e.serializeArray=i,e.serializeObject=s,e.serializeStr=r},function(t,e,n){"use strict";function i(t,e){return!!t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeName=i},function(t,e,n){"use strict";function i(t,e,n){void 0===n&&(n={}),n=Object.assign({},s,n);var i;try{i=new Event(t,n)}catch(e){var r=n.bubbles,o=n.cancelable;i=document.createEvent("Event"),i.initEvent(t,r,o)}e.dispatchEvent(i)}Object.defineProperty(e,"__esModule",{value:!0});var s={bubbles:!1,cancelable:!1,composed:!1};e.triggerCustomEvent=i},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){!function(t){"use strict";var e=t.getNameSpace,n=e("ru.mail.cpf",t),i=n.Basic,s=i.typeOf;i.Extend(e("Types.String",n),function(){var t=String.prototype,e=function(t,e,n){var i,r,o=-1;n=n||0;for(var a=0;a<e.length;a++)s(i=e[a],"string")&&(r=t.indexOf(i,n))>-1&&(o=Math[o<0?"max":"min"](r,o));return o},n=function(){var e,n=t.trim;return s(n,"function")?e=n:(e=function(){return this.replace(/^\s+|\s+$/g,"")},t.trim=e),function(e){return t.toString.call(e).trim()}}();return{getPlural:function(t,e){if((t%=100)>10&&t<20)return e[2];switch(t%=10){case 1:return e[0];case 2:case 3:case 4:return e[1];default:return e[2]}},trim:n,getNearest:e,cutBySpace:function(t,e){var n;return t.length<=e?t:(n=t.substr(0,e)," "!=t.charAt(e)&&(n=n.substr(0,n.lastIndexOf(" "))),n)},supplant:function(t,e){return t.replace(/\$\{([\w\d\-_]+)\}/g,function(t,n){return s(e[n],"undefined")?t:e[n]})},regExp:{Url:/^(?:http(?:s)?:\/\/)?(?:(?:[a-z0-9-]+\.)+[a-z]{2,4})?\/?(?:[a-z0-9-_]+(?:\/|(?:\.[a-z0-9]+)))*(?:\?.*)?$/i}}}())}(new Function("return this")())},function(t,e){!function(t){function e(t,e){if(!(t instanceof Date))return null;var n=new Date(t.getTime());return e&&u(n,e),n}function n(t){var e=l(t);return"date"===e?t:"string"===e?h(t):null}function i(){var t,i,s,r,o,a,c,u=Array.prototype.slice.apply(arguments,[0,3]),h="0y0m0d0h0i0s0n";if(u.length<=1)return null;for(var p=0;p<u.length;p++)if(r=u[p],p<2){if(null===(r=n(r)))return null;0===p?t=r:i=r}else l(r,"string")&&(s=r);return s&&-1!=(o=h.indexOf(s))||(o=3),o++,h=h.substr(o),a=(h?e(t,h):t).getTime(),c=(h?e(i,h):i).getTime(),a<c?-1:a>c?1:0}function s(t,i,s){var r,o,a=[n(t.min),n(t.max)],l=new Date;i=i||"1m",void 0===s&&(s=!0),s&&u(l,"0h0i0s0n");for(var c=0;c<a.length;c++)r=a[c],o=a[1-c],r&&o&&(c?o>r:o<r)&&(r=e(o,(c?"+":"-")+i)),r&&s&&(r=e(r,(c?24:0)+"h0i0s"+(c?"-1s":"")+"0n")),a[c]=r;return a}function r(t,e){for(var n,i=0;i<e.length;i++)if(n=e[i],l(n,"string")&&(n=h(n)),!isNaN(n)&&null!==n&&(1===i?t>n:t<n))return!1;return!0}var o=t.ru.mail.cpf,a=o.Basic,l=a.typeOf,c=function(){function t(t,e,n){var i;return e&&e==e.toUpperCase()&&Array.isArray(n)&&(i=n[t])?i:null}var e={getFullYear:/[Y]{2,4}/,getMonth:/M{1,2}/i,getDate:/\??d{1,2}/,getDay:/D/,getHours:/H{1,2}/,getMinutes:/i{1,2}/,getSeconds:/s{1,2}/,getMilliseconds:/n{1,3}/};return function(n,i,s,r){var o,a,c,u,h,p,d,f,m=null,g=i;for(var _ in e)if(e.hasOwnProperty(_)&&(a=e[_],c=l(a),m=null,"string"===c&&i.indexOf(a)>-1?m=a:"regexp"===c&&Array.isArray(u=i.match(a))&&(m=u[0]),null!==m)){switch(o=n[_](),_){case"getMonth":o=t(o,m,s)||++o;break;case"getDay":--o<0&&(o=6),o=t(o,m,r)||o}if(o+="",!isNaN(o))if((p=m.length)<(h=o.length))o=o.substr(h-p);else if(p>h){d=p-h;for(var v=0;v<p&&"?"==m.charAt(v);v++)d--;for(var w=0;w<d;w++)o="0"+o}f=g.indexOf(m),g=g.substr(0,f)+o+g.substr(f+m.length)}return g}}(),u=function(){var t=/([+-])?([0-9]+)([a-z])/gi,e={y:"FullYear",m:"Month",d:"Date",h:"Hours",i:"Minutes",s:"Seconds",n:"Milliseconds"};return function(n,i){var s,r,o,a,c,u;if(!(l(n,"date")&&l(i,"string")&&t.test(i)))return n;for(t.lastIndex=0;s=t.exec(i);)if(r=e[s[3]],4===s.length&&r&&(o=s[2],a=s[1],o)){if(u=n["get"+r](),a&&"0"!==o)c=u+o*("+"===a?1:-1);else{if(a||o==u)continue;c=1*o}n["set"+r](c)}return n}}(),h=function(){var t=/^(\d{4})[.-](\d{1,2})[.-](\d{1,2})/,e=/^(\d{1,2})[.-](\d{1,2})[.-](\d{4})/,n=/^(\d{1,2})[.-](\d{1,2})[.-](\d{2})/;return function(i){if("string"!=typeof i)return null;var s;return i=i.replace(t,"$1/$2/$3"),i=i.replace(e,"$2/$1/$3"),i=i.replace(n,"$2/$1/$3"),s=Date.parse(i),s?new Date(s):null}}(),p=function(){function t(t,e){return e[t]()}function n(n,i){var s=n.count;return l(s,"string")?t(n.method,e(i,s)):s}var i=[{name:"years",method:"getFullYear",count:null},{name:"months",method:"getMonth",count:12},{name:"days",method:"getDate",count:"0d-1d"},{name:"hours",method:"getHours",count:24},{name:"minutes",method:"getMinutes",count:60},{name:"seconds",method:"getSeconds",count:60}];return function(){for(var e,s,r,o,a,c,u=Array.prototype.slice.call(arguments),h=new Date,p=null,d=u.length;d--;)r=u[d],l(r,"number")&&(r=u[d]=new Date(h+1e3*r)),l(r,"date")||u.splice(d,1);if(u.length>0){1===u.length&&(u[1]=h),p={},u[0]>u[1]&&(u=u.reverse());for(var f=0;f<i.length;f++){if(e=i[f],o=e.method,s=u.map(t.bind(null,o)),f>0&&s[0]>s[1]){for(a=f-1;(c=i[a])&&0===p[c.name];)p[c.name]=n(c,u[1])-1,a--;c&&p[c.name]--,s[1]+=n(e,u[1])}p[e.name]=s[1]-s[0]}}return p}}();a.Extend(!0,o,{Types:{Date:{fromStr:h,toStr:c,getDate:n,Change:u,Clone:e,Compare:i,getRange:s,isInRange:r,getDateDiff:p}}})}(new Function("return this")())},function(t,e){!function(t){var e=t.ru.mail.cpf,n=e.Basic,i=n.typeOf,s=n.Extend;s(t.getNameSpace("fest._helpers"),{classNamesFor:function(){var t=["mix","mods"];return function(e,n){var s=[e];if(i(n,"object"))for(var r,o=t.length;o--;)if(Array.isArray(r=n[t[o]]))if(1===o){e+="_";for(var a=0;a<r.length;a++)s.push(e+r[a])}else s=s.concat(r);return s.join(" ")}}(),getByPath:n.getByPath,mergeTopParams:function(){var t=["mix","mods","attrs"];return function(){return Array.prototype.slice.apply(arguments).reduce(function(e,n){return i(n,"object")&&t.forEach(function(t){var s=n[t];if(Array.isArray(n[t]))e[t]=e[t]||[],Array.prototype.push.apply(e[t],s);else if(i(s,"object")){e[t]=e[t]||{};for(var r in s)s.hasOwnProperty(r)&&(e[t][r]=s[r])}}),e},{})}}(),mergeParams:function(){function t(t,e){for(var s in e)if(e.hasOwnProperty(s)){var r=t[s],o=e[s];i(o,"object")&&(i(r,"object")||i(r,"undefined"))&&(t[s]=n(r,o))}}function e(t,e){var i=t[a]=t[a]||{},s=e[a];for(var r in s)s.hasOwnProperty(r)&&(i[r]=n(i[r],s[r]))}function n(){var n,l,c,u,h,p,d=Array.prototype.slice.apply(arguments),f=!0;if(i(d[0],"boolean")&&(f=d.shift()),!(d.length<2)){n=d.shift(),i(n,"object")||(n={});for(var m=0;m<d.length;m+=1)if(l=d[m],c=l&&l[o],null!=l){for(var g,_=r.length;_--;)g=r[_],(l.hasOwnProperty(g)||(p=c&&c.hasOwnProperty(g)))&&l[g]!==n&&(u=n[g],h=l[g],p?u=c[g]:h&&(Array.isArray(u)||Array.isArray(h)?u=u?u.concat(h):h:!i(h,"object")||u&&!i(n,"object")||(u=u?s(!0,{},u,h):h)),n[g]=u);f?t(n,l):l.hasOwnProperty(a)&&e(n,l)}return n}}var r=["mix","mods","attrs"],o="_rewrite",a="_children";return n}(),avatar:function(){var t=function(t,e){return t.reduce(function(t,n){return e[n]&&t.push(n+"="+encodeURI(e[n])),t},[]).join("&")};return function(e){"width"in(e=s({},e))&&(e.height=e.width);var n="";if(e.filin_d){e.d=e.filin_d;n="//"+(e.filin_domain?e.filin_domain:e.domain)+"/pic?"+t(["width","height","d","name"],e)}else n="//cp-filin.mail.ru/pic?"+t(["email","name","width","height"],e);return n}}(),svgPlaceholder:function(t,e,n){return n=n||"photo",e=e||640,t=t||360,"data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 {{w}} {{h}}" width="{{w}}" height="{{h}}"><rect x="0" y="0" width="{{w}}" height="{{h}}" fill="none"/></svg>'.replace(/{{w}}/g,e).replace(/{{h}}/g,t))}})}(new Function("return this")())},function(t,e){!function(t){(0,t.ru.mail.cpf.Basic.Extend)(t.getNameSpace("fest._constants"),{shares:{order:["ok","vk","fb","tw"],types:{ok:{name:"ok",icon:{path:"M5 8.773C2.542 8.773.544 6.806.544 4.387.545 1.967 2.543 0 5 0c2.455 0 4.453 1.968 4.453 4.387 0 2.42-1.998 4.386-4.454 4.386zM5 2.57c-1.018 0-1.845.816-1.845 1.817 0 1 .827 1.816 1.844 1.816 1.016 0 1.842-.815 1.842-1.816 0-1-.827-1.816-1.843-1.816zM1.63 16.997c-.335 0-.668-.125-.923-.376-.51-.5-.51-1.314 0-1.816l3.37-3.32c.488-.48 1.354-.48 1.844 0l3.37 3.32c.51.502.51 1.316 0 1.817-.51.503-1.335.503-1.844 0l-2.448-2.41-2.446 2.41c-.255.252-.59.377-.923.377zM5 12.554c-1.543 0-3.06-.435-4.39-1.258-.61-.378-.792-1.17-.41-1.772.384-.6 1.19-.783 1.8-.404 1.823 1.13 4.172 1.13 5.996 0 .61-.38 1.416-.197 1.8.404.383.6.2 1.394-.41 1.772-1.33.823-2.846 1.258-4.387 1.258z",viewbox:"0 0 10 17"},text:"–û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏",title:"–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –¥—Ä—É–∑—å—è–º–∏ –Ω–∞ –û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∞—Ö",href:"https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl="},vk:{name:"vk",icon:{path:"M32.8113879,1.38790036 C33.0604982,0.604982206 32.8113879,0.0355871886 31.7081851,0.0355871886 L28.0427046,0.0355871886 C27.1174377,0.0355871886 26.6903915,0.533807829 26.4412811,1.06761566 C26.4412811,1.06761566 24.5551601,5.6227758 21.9217082,8.57651246 C21.0676157,9.43060498 20.6761566,9.71530249 20.2135231,9.71530249 C19.9644128,9.71530249 19.6441281,9.43060498 19.6441281,8.64768683 L19.6441281,1.35231317 C19.6441281,0.427046263 19.3594306,0 18.5765125,0 L12.8113879,0 C12.2419929,0 11.886121,0.427046263 11.886121,0.854092527 C11.886121,1.74377224 13.202847,1.95729537 13.3451957,4.44839858 L13.3451957,9.85765125 C13.3451957,11.0320285 13.1316726,11.2455516 12.6690391,11.2455516 C11.4234875,11.2455516 8.39857651,6.65480427 6.58362989,1.42348754 C6.22775801,0.391459075 5.87188612,5.05724367e-15 4.94661922,5.05724367e-15 L1.2455516,5.05724367e-15 C0.177935943,5.05724367e-15 0,0.498220641 0,1.03202847 C0,1.99288256 1.2455516,6.83274021 5.80071174,13.2384342 C8.82562278,17.6156584 13.1316726,19.9644128 17.0106762,19.9644128 C19.3594306,19.9644128 19.6441281,19.430605 19.6441281,18.5409253 L19.6441281,15.2313167 C19.6441281,14.1637011 19.8576512,13.9857651 20.6049822,13.9857651 C21.13879,13.9857651 22.0996441,14.2704626 24.2704626,16.3701068 C26.7615658,18.86121 27.1886121,20 28.5765125,20 L32.2419929,20 C33.3096085,20 33.8078292,19.4661922 33.5231317,18.4341637 C33.202847,17.4021352 31.9928826,15.9074733 30.4270463,14.1281139 C29.5729537,13.1316726 28.2918149,12.0284698 27.9003559,11.4946619 C27.366548,10.7829181 27.5088968,10.4982206 27.9003559,9.85765125 C27.8647687,9.85765125 32.3487544,3.52313167 32.8113879,1.38790036",viewbox:"0 0 34 20"},text:"–í–ö–æ–Ω—Ç–∞–∫—Ç–µ",title:"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –í–ö–æ–Ω—Ç–∞–∫—Ç–µ",href:"//m.vk.com/share.php?url="},fb:{name:"fb",icon:{path:"M5.99 10h2.554s.27-.9.372-2.08c.006-.073.012-.146.02-.22v-.013c.006-.073.012-.07.018-.146l.003-.04.016-.218c0-.013.002-.025.003-.037l.015-.23H6.006v-2.3c0-.31.568-.728.92-.728H8.97V.984H6.444c-3.414 0-3.44 3.033-3.44 3.486v2.555H.99V10H3v8.012h2.99V10z",viewbox:"0 0 9 19"},text:"Facebook",title:"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ Facebook",href:"//touch.facebook.com/sharer.php?u="},tw:{name:"tw",icon:{path:"M11.145.87C9.32.87 7.842 2.37 7.842 4.214c0 .262.03.517.085.762-2.745-.14-5.18-1.47-6.808-3.492C.834 1.977.67 2.55.67 3.163c0 1.16.583 2.183 1.47 2.782-.542-.018-1.05-.168-1.497-.418v.042c0 1.618 1.14 2.97 2.65 3.276-.278.077-.57.117-.87.117-.214 0-.42-.02-.623-.06.42 1.328 1.64 2.294 3.085 2.32-1.13.897-2.555 1.432-4.102 1.432-.267 0-.53-.016-.788-.046 1.462.947 3.198 1.5 5.063 1.5 6.075 0 9.397-5.093 9.397-9.51 0-.144-.003-.288-.01-.432.646-.47 1.206-1.06 1.648-1.73-.592.266-1.23.445-1.897.526.682-.414 1.206-1.07 1.453-1.85-.637.384-1.344.662-2.097.812-.6-.65-1.46-1.055-2.408-1.055",viewbox:"0 0 16 15"},text:"Twitter",title:"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ –¢–≤–∏—Ç—Ç–µ—Ä–µ",href:"https://twitter.com/intent/tweet?url="},rss:{name:"rss",icon:{path:"M4.259 23.467c-2.35 0-4.259 1.917-4.259 4.252 0 2.349 1.909 4.244 4.259 4.244 2.358 0 4.265-1.895 4.265-4.244-0-2.336-1.907-4.252-4.265-4.252zM0.005 10.873v6.133c3.993 0 7.749 1.562 10.577 4.391 2.825 2.822 4.384 6.595 4.384 10.603h6.16c-0-11.651-9.478-21.127-21.121-21.127zM0.012 0v6.136c14.243 0 25.836 11.604 25.836 25.864h6.152c0-17.64-14.352-32-31.988-32z",viewbox:"0 0 32 32"},text:"RSS",title:"–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –Ω–∞—à RSS"}}},emptyPixel:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="})}(new Function("return this")())},,,,,,,,,,,,,,,,function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}/*! modernizr 3.2.0 (Custom Build) | MIT *
 * http://modernizr.com/download/?-csstransforms-csstransforms3d-csstransitions-localstorage-mediaqueries-sessionstorage-touchevents-webaudio-addtest-domprefixes-mq-prefixed-prefixes-testallprops-testprop-teststyles-cssclassprefix:cpf- !*/
!function(t,e,i){function s(t,e){return n(t)===e}function r(t){var e=T.className,n=S._config.classPrefix||"";if(P&&(e=e.baseVal),S._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");e=e.replace(i,"$1"+n+"js$2")}S._config.enableClasses&&(e+=" "+n+t.join(" "+n),P?T.className.baseVal=e:T.className=e)}function o(t,e){if("object"==n(t))for(var i in t)I(t,i)&&o(i,t[i]);else{t=t.toLowerCase();var s=t.split("."),a=S[s[0]];if(2==s.length&&(a=a[s[1]]),void 0!==a)return S;e="function"==typeof e?e():e,1==s.length?S[s[0]]=e:(!S[s[0]]||S[s[0]]instanceof Boolean||(S[s[0]]=new Boolean(S[s[0]])),S[s[0]][s[1]]=e),r([(e&&0!=e?"":"no-")+s.join("-")]),S._trigger(t,e)}return S}function a(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,n){return e+n.toUpperCase()}).replace(/^-/,"")}function l(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):P?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function c(t,e){return!!~(""+t).indexOf(e)}function u(){var t=e.body;return t||(t=l(P?"svg":"body"),t.fake=!0),t}function h(t,n,i,s){var r,o,a,c,h="modernizr",p=l("div"),d=u();if(parseInt(i,10))for(;i--;)a=l("div"),a.id=s?s[i]:h+(i+1),p.appendChild(a);return r=l("style"),r.type="text/css",r.id="s"+h,(d.fake?d:p).appendChild(r),d.appendChild(p),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(e.createTextNode(t)),p.id=h,d.fake&&(d.style.background="",d.style.overflow="hidden",c=T.style.overflow,T.style.overflow="hidden",T.appendChild(d)),o=n(p,t),d.fake?(d.parentNode.removeChild(d),T.style.overflow=c,T.offsetHeight):p.parentNode.removeChild(p),!!o}function p(t,e){return function(){return t.apply(e,arguments)}}function d(t,e,n){var i;for(var r in t)if(t[r]in e)return!1===n?t[r]:(i=e[t[r]],s(i,"function")?p(i,n||e):i);return!1}function f(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(e,n){var s=e.length;if("CSS"in t&&"supports"in t.CSS){for(;s--;)if(t.CSS.supports(f(e[s]),n))return!0;return!1}if("CSSSupportsRule"in t){for(var r=[];s--;)r.push("("+f(e[s])+":"+n+")");return r=r.join(" or "),h("@supports ("+r+") { #modernizr { position: absolute; } }",function(t){return"absolute"==getComputedStyle(t,null).position})}return i}function g(t,e,n,r){function o(){h&&(delete L.style,delete L.modElem)}if(r=!s(r,"undefined")&&r,!s(n,"undefined")){var u=m(t,n);if(!s(u,"undefined"))return u}for(var h,p,d,f,g,_=["modernizr","tspan"];!L.style;)h=!0,L.modElem=l(_.shift()),L.style=L.modElem.style;for(d=t.length,p=0;d>p;p++)if(f=t[p],g=L.style[f],c(f,"-")&&(f=a(f)),L.style[f]!==i){if(r||s(n,"undefined"))return o(),"pfx"!=e||f;try{L.style[f]=n}catch(t){}if(L.style[f]!=g)return o(),"pfx"!=e||f}return o(),!1}function _(t,e,n,i,r){var o=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+x.join(o+" ")+o).split(" ");return s(e,"string")||s(e,"undefined")?g(a,e,i,r):(a=(t+" "+O.join(o+" ")+o).split(" "),d(a,e,n))}function v(t,e,n){return _(t,i,i,e,n)}var w=[],y=[],b={_version:"3.2.0",_config:{classPrefix:"cpf-",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var n=this;setTimeout(function(){e(n[t])},0)},addTest:function(t,e,n){y.push({name:t,fn:e,options:n})},addAsyncTest:function(t){y.push({name:null,fn:t})}},S=function(){};S.prototype=b,S=new S,S.addTest("webaudio",function(){var e="webkitAudioContext"in t,n="AudioContext"in t;return S._config.usePrefixes?e||n:n}),S.addTest("localstorage",function(){var t="modernizr";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}),S.addTest("sessionstorage",function(){var t="modernizr";try{return sessionStorage.setItem(t,t),sessionStorage.removeItem(t),!0}catch(t){return!1}});var C=b._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];b._prefixes=C;var T=e.documentElement,P="svg"===T.nodeName.toLowerCase(),E="Moz O ms Webkit",O=b._config.usePrefixes?E.toLowerCase().split(" "):[];b._domPrefixes=O;var I;!function(){var t={}.hasOwnProperty;I=s(t,"undefined")||s(t.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(e,n){return t.call(e,n)}}(),b._l={},b.on=function(t,e){this._l[t]||(this._l[t]=[]),this._l[t].push(e),S.hasOwnProperty(t)&&setTimeout(function(){S._trigger(t,S[t])},0)},b._trigger=function(t,e){if(this._l[t]){var n=this._l[t];setTimeout(function(){var t;for(t=0;t<n.length;t++)(0,n[t])(e)},0),delete this._l[t]}},S._q.push(function(){b.addTest=o});var A="CSS"in t&&"supports"in t.CSS,M="supportsCSS"in t;S.addTest("supports",A||M);var x=b._config.usePrefixes?E.split(" "):[];b._cssomPrefixes=x;var k=function(e){var n,s=C.length,r=t.CSSRule;if(void 0===r)return i;if(!e)return!1;if(e=e.replace(/^@/,""),(n=e.replace(/-/g,"_").toUpperCase()+"_RULE")in r)return"@"+e;for(var o=0;s>o;o++){var a=C[o];if(a.toUpperCase()+"_"+n in r)return"@-"+a.toLowerCase()+"-"+e}return!1};b.atRule=k;var j=function(){var e=t.matchMedia||t.msMatchMedia;return e?function(t){var n=e(t);return n&&n.matches||!1}:function(e){var n=!1;return h("@media "+e+" { #modernizr { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle).position}),n}}();b.mq=j,S.addTest("mediaqueries",j("only all"));var N=b.testStyles=h;S.addTest("touchevents",function(){var n;if("ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch)n=!0;else{var i=["@media (",C.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");N(i,function(t){n=9===t.offsetTop})}return n});var B={elem:l("modernizr")};S._q.push(function(){delete B.elem});var L={style:B.elem.style};S._q.unshift(function(){delete L.style}),b.testProp=function(t,e,n){return g([t],i,e,n)},b.testAllProps=_,b.prefixed=function(t,e,n){return 0===t.indexOf("@")?k(t):(-1!=t.indexOf("-")&&(t=a(t)),e?_(t,e,n):_(t,"pfx"))},b.testAllProps=v,S.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&v("transform","scale(1)",!0)}),S.addTest("csstransitions",v("transition","all",!0)),S.addTest("csstransforms3d",function(){var t=!!v("perspective","1px",!0),e=S._config.usePrefixes;if(t&&(!e||"webkitPerspective"in T.style)){var n;S.supports?n="@supports (perspective: 1px)":(n="@media (transform-3d)",e&&(n+=",(-webkit-transform-3d)")),n+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",N("#modernizr{width:0;height:0}"+n,function(e){t=7===e.offsetWidth&&18===e.offsetHeight})}return t}),function(){var t,e,n,i,r,o,a;for(var l in y)if(y.hasOwnProperty(l)){if(t=[],e=y[l],e.name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(n=0;n<e.options.aliases.length;n++)t.push(e.options.aliases[n].toLowerCase());for(i=s(e.fn,"function")?e.fn():e.fn,r=0;r<t.length;r++)o=t[r],a=o.split("."),1===a.length?S[a[0]]=i:(!S[a[0]]||S[a[0]]instanceof Boolean||(S[a[0]]=new Boolean(S[a[0]])),S[a[0]][a[1]]=i),w.push((i?"":"no-")+a.join("-"))}}(),r(w),delete b.addTest,delete b.addAsyncTest;for(var D=0;D<S._q.length;D++)S._q[D]();t.Modernizr=S}(window,document)},function(t,e){!function(t,e){!("touch"in e)&&"touchevents"in e&&e.addTest("touch",e.touchevents)}(window,window.Modernizr)},,,,,,,,,,,,,,function(t,e){!function(t,e){"use strict";var n=t.getNameSpace,i=n("ru.mail.cpf",t),s=i.Basic,r=s.typeOf;s.Extend(n("Types.String.Html",i),function(){var t=function(t){for(var e,s,r,o,a,l,c,u=[];t.length&&!((e=t.indexOf("<"))<0);){o=s=e+1,a=n("Types.String",i).getNearest(t,[" ",">","/"],e),r=t.substr(o,a>-1?a-o:void 0),c="<"+r,l="!--"==r?"--\x3e":"</"+r;do{s=t.indexOf(l,s+1)}while((o=t.indexOf(c,o+1))>0&&o<s);s=t.indexOf(">",s)+1,u.push(t.slice(e,s)),t=t.slice(s)}return u},e=function(t,e){if(r(t,"string")&&r(e,"string"))return s(t)[e]},s=function(){var t=/[a-z]+[a-z0-9-_]*/i;return function(e){var n,i,s,o,a,l,c,u={};if(r(e,"string")){if((n=e.split(" ")).length>1)for(i=-1;r(s=n[++i],"string");)s.length&&(i?(c=s.indexOf("="),o=c>-1?[s.substr(0,c),s.substr(c+1)]:[s],t.test(l=o[0])&&(u[l]=r(a=o[1],"string")?a.slice(1,a.indexOf(a.charAt(0),1)):a)):u.tagName=s.substr(1));return u}}}();return{Split:t,getParams:s,getAttr:e}}())}(new Function("return this")())},function(t,e){!function(t,e){"use strict";function n(t,e,n,s){var r,o,a=t.isArray,l=s,c=m(n),u="array"===c;switch(e&&(l=e,m(t.getParamName,"function")?l=t.getParamName(l,s):!u&&t.traditional&&a||(l+=["[",a&&!u?"":s,"]"].join(""))),c){case"array":case"object":r=i(n,t,l);break;default:o=[encodeURIComponent(l)],null!=n&&0!==n.length&&o.push("?"!==n?encodeURIComponent(n):n),r=o.join("=")}return r}function i(t,e,i){var s=[];switch(e=g({},e),e.traditional=!1!==e.traditional,m(t)){case"array":s=t.reduce(function(t,s,r){return e.isArray=!0,t.concat(n(e,i,s,r))},[]);break;case"object":s=Object.keys(t).reduce(function(s,r){return e.isArray=!1,s.concat(n(e,i,t[r],r))},[])}return s}function s(t){var e,n,i={path:"",query:"",hash:""};return t?(t=t.replace(/\+/g," ").trim(),"/"===t?(i.path="/",n=!0):t.indexOf("?")>=0?(e=t.split("?"),i.path=e[0],t=e[1]):_.test((e=t.split("#"))[0])||v.test(e[0])?(i.path=e[0]||"",i.hash=e[1]||"",n=!0):i.query=t,n||(e=t.split("#"),i.query=e[0]||"",i.hash=e[1]||""),i):i}function r(t){var e=t.replace(/]/g,"").split("[");return 1===e.length&&(e=e[0].split(".")),e}function o(t){var e=t&&("number"==typeof t||y.test(t)),n=(t||"").length<=16;return e&&n?+t:t in b?b[t]:t}function a(t){var e=s(t);return e.query=u(e.query,!1)||{},e}function l(t,n,s){var r,o=a(n),l=o.path,c=o.hash,u=o.query;if(t=t||{},s=s||{},!1!==s.replace)for(var h in u)u.hasOwnProperty(h)&&h in t&&(u[h]=e);return u=g(!0,{},u,t),r=i(u,s).join("&").replace(/%20/g,"+"),l+(l&&r?"?":"")+r+(c?"#"+c:"")}function c(t,e,n,i){if(!e)return t;var s={};return s[e]=n,l(s,t,i)}function u(t,n){var i={};return(m(n,"undefined")||n)&&(t=s(t).query),t?(t.split("&").forEach(function(t){var n,s,a=t.split("=");m(a[1],"undefined")&&(a=t.match(w),a=a?a.slice(1):[t,null]),n=r(decodeURIComponent(a[0])),s=o(decodeURIComponent(a[1])),g(!0,i,n.reverse().reduce(function(t,e,i){var r=isNaN(e)||i===n.length-1?{}:[];return r[e||0]=m(t,"undefined")?s:t,r},e))}),i):null}function h(e){var n=t.location;if(m(e,"string")||m(e,"undefined"))return e=e?e.trim():"",v.test(e)||(e=n.protocol+"//"+n.hostname+("/"==e.charAt(0)?"":n.pathname)+e),e}var p=t.ru.mail.cpf,d=t.getNameSpace,f=p.Basic,m=f.typeOf,g=f.Merge,_=/^\/?([^=&#\/]+\/)+[^=&#\/]*$/,v=/^(http(s?):)?\/\/[^\/]+/i,w=/([a-z-_]+)([0-9,]+)/i,y=/^-?[0-9]*\.?[0-9]*$/,b={true:!0,false:!1,null:null,undefined:null,"":null};f.Extend(d("Types.String.Url",p),{getAbs:h,addParam:c,addParams:l,getParams:u})}(new Function("return this")())},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"use strict";function e(t){if(null!=t)return Array.prototype.concat.call(t)}function i(t,r){var a,l,c=Array.isArray(t)&&Array.isArray(r)&&t.length==r.length;if(c){t=e(t).sort(),r=e(r).sort();for(var u=0;u<t.length;u++)if(a=t[u],l=r[u],"object"!==n(a)&&null!==a){if(!(c=a==l||i(a,l)))break}else if(Array.isArray(a)){if(!(c=i(a,l)))break}else if(s||(s=o.Types.Object.Equals),!(c=s(a,l)))break}return c}var s,r=t.getNameSpace,o=r("ru.mail.cpf",t),a=o.Basic;a.Extend(o.Types.Array,{Copy:e,isEqual:i,Equals:i})}(new Function("return this")())},function(t,e){!function(t){"use strict";var e=t.getNameSpace,n=e("ru.mail.cpf",t),i=n.Basic,s=i.typeOf;i.Extend(e("Types.Object",n),function(){return{hasKeys:function t(e,n,i){var r,o,a=null==n;if(!a&&(i=s(i,"function")?i:Object.prototype.hasOwnProperty,!a))if(Array.isArray(n))for(r=0;(o=n[r++])&&(a=i.call(e,o)););else if(s(n,"object")){for(var l in n)if(!(a=i.call(e,l)&&t(e[l],n[l],i)))break}else a=i.call(e,n);return a},Equals:function t(){var e,i,r,o,a,l,c,u,h=Array.prototype.slice.call(arguments),p=[],d=!0,f=0;for(s(h[0],"array")&&(e=h.shift()),r=h.length;r--;){if(i=h[r],!s(i,"object"))return!1;for(var m in i)i.hasOwnProperty(m)&&p.indexOf(m)<0&&!(e&&e.indexOf(m)<0)&&p.push(m)}if(!p.length)return!0;for(;d&&(l=p[f++]);)for(r=0;r<h.length;r++){if(i=h[r],!i.hasOwnProperty(l)){d=!1;break}if(0===r)o=i[l],u=s(o);else if(a=i[l],(c=s(a))!==u||("array"==c?!n.Types.Array.Equals(o,a):"object"==c?!t(o,a):o!=a)){d=!1;break}}return d}}}())}(new Function("return this")())},,function(t,e){!function(t,e){var n=e.Basic,i=t.getNameSpace("Instances",e),s=n.Extend,r=n.typeOf,o=n.Merge,a=e.Types,l=a.Object.Equals,c=a.String.Url.getParams,u=e.Comp.Methods.initCallbacks,h=t.history,p=t.location,d="state"in h&&h.state,f=n.getConstructor(function(){function e(t,e,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function n(t,e){e=e||this.State(),l(e,t)||this._fire("statechange",[e,t])}function a(){var t=p.hash,e=null;return t&&(t=t.substr("!"==t.charAt(1)?2:1),e=c(t)),this._State=e,e}function f(){var t=this.State();a.call(this),n.call(this,t)}function m(){this.supportHistoryAPI&&e("popstate",t,w.bind(this)),"onhashchange"in t&&e("hashchange",t,f.bind(this))}function g(){var t,e,n,i,s=this.State(),o=[],a=!1;delete s.__location;for(var l in s)if(s.hasOwnProperty(l))if(t=s[l],a=i=!isNaN(l.substr(l.length-1)),r(t,"array")){n=[];for(var c=0;c<t.length;c++)e=t[c],null!==e?(a=a||isNaN(e),n.push(e)):(n.length&&o.push(l+(a?"=":"")+encodeURIComponent(n.join(","))),o.push(l),n=[],a=i);n.length&&o.push(l+(a?"=":"")+n.join(","))}else{if(null===t){delete s[l];continue}a=a||isNaN(t),o.push(l+(a?"=":"")+encodeURIComponent(t))}return"#"+o.join("&")}function _(t,e,n,i){h[!0===i?"replaceState":"pushState"](t,n||null,e||null)}function v(t,e){var n=this.supportHistoryAPI,i=r(t,"object"),s=!n||!(i&&!0!==t.url),o=null,a=null;n&&(s||(o=t.url),a=i&&t.title),s&&(o=g.call(this)),n?_(this.State(),o,a,e):p[e?"replace":"assign"](p.href.split("#")[0]+o)}var w=function(t){var e=t.state;if(d&&d!=e)return void(d=null);var i=this.State();this._State=e||{},n.call(this,i)};return{_Init:function(){var t;if(i.stateObject)return i.stateObject;u.call(this,{Types:{statechange:{opts:{memory:1}}}}),(t=a.call(this))&&(d=t),n.call(this,null),m.call(this)},pushToState:function(t,e,i){var r=this.State(),a=this._State,l=t.__location,c=!0;if(!0===e)this._State=o(!0,a,t);else{for(var u in t)t.hasOwnProperty(u)&&(a&&a.hasOwnProperty(u)&&a[u]==t[u]||(c=!1));if(c)return;this._State=s(!0,a,t)}v.call(this,l,3==arguments.length&&i),n.call(this,r,a)},setStateKey:function(t,e,n,i){var s;r(t,"string")&&((s={})[t]=e,this.pushToState(s,n,i))},State:function(t,e,n){if(!r(t,"object"))return s(!0,{},this._State);this._State=t,!1!==e&&v.call(this,t.__location,!0!==n)},addBaseState:function(t){if(this.supportHistoryAPI&&!this._baseStateAdded){var e=this.State();for(var n in e)if(e.hasOwnProperty(n)){d&&!l(e,d)||(d=e,_(null,t||p.href.split("#").shift(),null,!0),v.call(this,e.__location),this._baseStateAdded=!0);break}}},supportHistoryAPI:!(!h||!h.pushState),back:function(){h.back()},forward:function(){h.forward()},go:function(t){h.go(t)}}}());i.stateObject=f()}(window,window.ru.mail.cpf)},function(t,e){!function(t,e){function n(t,e,n,l){if(s(t,"string")&&(t=i.Constructors._repo.get(t)),!s(t,"function")||!s(e,"object"))throw new TypeError("Arguments must refer to a function and object respectively");var c=t.prototype,u=e._Init,h=e._Handlers,p=e._Events;r.forEach(function(t){delete e[t]}),c.hasOwnProperty("_Plugins")||(c._Plugins=[]),c._Plugins.push({name:l||o+a++,_Init:u,_Handlers:h,_Events:p,_Opts:n,methods:e})}var i=e.Basic,s=i.typeOf,r=i.Constructors._getServiceProps().concat(["_Plugins","_Init","_Opts"]),o="_plugin",a=0;i.Extend(i.Constructors,{addPlugin:n})}(window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(){return document.body}function s(t){var n={top:0,left:0};return t&&"function"==typeof t.get&&"function"==typeof t.eq&&(t=t.get(0)),t!==document.body&&t?(n.top=t.scrollTop,n.left=t.scrollLeft):(n.top=e.pageYOffset||a.scrollTop||i().scrollTop,n.left=e.pageXOffset||a.scrollLeft||i().scrollLeft),n}function r(t,e){if(t){var n=i();e&&"function"==typeof e.get&&"function"==typeof e.eq&&(e=e.get(0)),isNaN(t.top)||(e&&e!==n?e.scrollTop=t.top:a.scrollTop=n.scrollTop=t.top),isNaN(t.left)||(e&&e!==n?e.scrollLeft=t.left:a.scrollLeft=n.scrollLeft=t.left)}}function o(e){"function"==typeof e.get&&"function"==typeof e.eq&&(e=e.get(0));var n=e.getBoundingClientRect();return{left:n.left,top:n.top,width:n.width||t(e).width(),height:n.height||t(e).height()}}var a=document.documentElement;n.Basic.Extend(!0,n,{Tools:{Layout:{getScroll:s,setScroll:r,getClientRect:o}}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.typeOf,s=n.Tools.Layout,r=n.Tools.PubSub,o=n.Tools.detectPointerType,a={cssSels:{parent:".js-popup",Main:{blocksCont:".js-popup_blocks"},sizeReference:".js-size-reference",sizeReferenceWrapper:".js-size-reference__wrapper",close:".js-popup_close",preventClose:".js-popup_noclose"},cssClss:{htmlModifier:null,overlayModifier:null,loading:null,hideBlocks:"hidden_all",showOverlay:"overlay_shown"},templates:{parent:null},touchSupport:!1},l=n.Basic.Constructors.getModel({_Events:["push","pop","empty"],indexOf:function(t){var e=Array.prototype.indexOf.call(this,t);return-1===e&&"block"in t&&this.some(function(n,i){if(n.popupInstance===t.popupInstance)return e=i,!0}),e},push:function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1),Array.prototype.push.call(this,t),this._trigger("push")},exclude:function(t){var e=this.indexOf(t),n=this.length-1;e>-1&&(this.splice(e,1),e===n&&this._trigger("pop",this.getTopItem()),0===this.length&&this._trigger("empty"))},pop:function(){this._trigger("pop",Array.prototype.pop.call(this))},getTopItem:function(){return this.slice(-1)[0]},empty:function(){if(0!==this.length){for(;this.length>1;)Array.prototype.pop.call(this);this._trigger("empty")}}},null,Array),c=n.Basic.Constructors.getView(function(){function n(){var t;if(this._visibilityStack.length>0)for(;t=this._visibilityStack.getTopItem();)t.hide()}function r(t,e,n,i){i=!0===i,n?t.toggleClass(n,i===e):t.toggle(e)}function o(t){(t=i(t,"boolean")?t:!this._state.visible)!==this._state.visible&&(g.toggleClass(this._opts.cssClss.htmlModifier,t),this._elems.parent.toggleClass(this._opts.cssClss.overlayModifier,t),r(this._elems.parent,t,this._opts.cssClss.showOverlay,!0),t||n.call(this),f.call(this,t),this._state.visible=t,this._trigger(t?"show":"hide"))}function a(t){t&&t.show()}function c(t){t.popupInstance&&m.call(this,t.popupInstance),this._visibilityStack.push(t)}function u(t){this._visibilityStack.exclude(t)}function h(t){this._state.loading!==t&&(this._state.loading=t,this._elems.parent.toggleClass(this._opts.cssClss.loading,t),t&&this._trigger("loading"))}function p(t,e){t?c.call(this,e):u.call(this,e),h.call(this,t)}function d(){function t(t,e){var n=s.getScroll(i),r=i.scrollWidth-i.clientWidth,o=i.scrollHeight-i.clientHeight;(r>0||o>0)&&(n.left=Math.max(Math.min(n.left+t,r),0),n.top=Math.max(Math.min(n.top+e,o),0),s.setScroll(n,i))}var n,i=this._elems.parent.get(0);return function(i){var s,r;i.touches?(s=i.touches[0].pageX,r=i.touches[0].pageY):(s=i.pageX,r=i.pageY),"touchmove"===i.type&&(i.preventDefault(),e.requestAnimationFrame(t.bind(null,n.x-s,n.y-r))),n={x:s,y:r}}}function f(t){this._state.scrollEmulated!==t&&(this._state.scrollEmulated=t,t?(document.body.addEventListener("touchstart",this._emulateScroll,!0),document.body.addEventListener("touchmove",this._emulateScroll,!0)):(document.body.removeEventListener("touchstart",this._emulateScroll,!0),document.body.removeEventListener("touchmove",this._emulateScroll,!0)))}function m(t){var e=this._elems.blocksCont,n=t.getBlockElement();-1===Array.prototype.indexOf.call(n.parents(),e[0])&&e.append(n)}var g=t(e.document.documentElement);return{_Events:["show","hide","loading"],_Handlers:{dom:{"keydown:document":function(t){27===t.keyCode&&this._state.visible&&this.hide()},"click:close":function(e){var n=t(e.target),i=t(e.currentTarget),s=this._opts.cssSels,r=[s.Main.blocksCont,s.preventClose];if(this._visibilityStack.length){if(r.filter(function(t){return n.parents(t).length&&!i.parents(t).length}).length)return;e.preventDefault(),this._visibilityStack.getTopItem().hide(n)}else this._state.visible&&(e.preventDefault(),this.hide())}}},_parentElement:function(){var n=t(this._opts.cssSels.parent).eq(0);return n.length||(n=t(this._opts.templates.parent()),e.document.body.appendChild(n.get(0))),n},_Init:function(){this._state={visible:!1,loading:!1,touchSupport:!1,scrollEmulated:!1},this._visibilityStack=new l({_Handlers:{pop:a.bind(this),empty:this.hide.bind(this)}}),this._opts.touchSupport&&this._enableTouchSupport(),this._elems.blocksCont=this._elems.blocksCont||this._elems.parent},_enableTouchSupport:function(){this._state.touchSupport||(this._state.touchSupport=!0,this._emulateScroll=d.call(this),this._state.visible&&f.call(this,!0))},show:function(){o.call(this,!0)},hide:function(){o.call(this,!1)},registerBlock:function(t){m.call(this,t),t._savePreparedInstance({show:function(){this.toggleBlock(t.getBlockElement(),!0)}.bind(this),hide:function(e){e&&t.canCloseByClick&&!t.canCloseByClick(e)||t.hide()}.bind(this),popupInstance:t})},showLoading:function(t,e){var n=!1,s={show:function(){p.call(this,!0,s)}.bind(this),hide:function(t){n||(n=!0,p.call(this,!1,s),i(e,"function")&&!1!==t&&e())}.bind(this)};s.show(),this._state.visible||this.show(),i(t,"object")&&i(t.then,"function")&&t.then(s.hide.bind(null,!1),s.hide)},toggleBlock:function(t,e){e=!0===e;var n=this._opts.cssClss.hideBlocks,i=this._elems.blocksCont.children();e&&r(i,!1,n),r(t,e,n),e&&(this._state.loading&&h.call(this,!1),this._state.visible||this.show())},_onBlockToggle:function(t,e){e?c.call(this,t):u.call(this,t)},empty:function(){this._visibilityStack.empty()},stackSize:function(){return this._visibilityStack.length}}}(),a,null,"Overlay");n.Basic.Constructors.getModel(function(){var t;return{_Init:function(){if(t)return t;this._state={isTouchDevice:!1},t=this,r&&o&&s&&r.subscribe(o("touch").message,function(){this._state.isTouchDevice=!0,this.propogateDeviceType()}.bind(this),{async:!1,memory:!0}),this._overlays={}},getById:function(){var t=Array.prototype.slice.call(arguments)[0],e=i(t,"object"),s=(e?t.id:t)||"",r=e?t.options:{},o=this._overlays[s];return o||(o=this._overlays[s]=n.Tools.initModule(["Overlay",s],null,r)),o},propogateDeviceType:function(){var t;for(var e in this._overlays)this._overlays.hasOwnProperty(e)&&(t=this._overlays[e])&&t instanceof c&&t._enableTouchSupport()}}}(),null,null,"OverlayManager")}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e,n){!function(t,e,n){var i=n.Basic.typeOf,s=e.history,r=!!s.pushState,o={overlay:null,templates:{parent:null},touchSupport:!1,useHistory:!1,pageState:{url:null,title:null,hash:null},preventHideByOverlay:!1,saveInitialUrl:!0};n.Basic.Constructors.getView(function(){function o(t){var n=e.scrollTo||e.scroll;void 0===t&&(t=this._state.scrollTop),null===t||isNaN(t)||n(0,t)}function a(t){var e=this._state,n=this._state.visible!==t;delete e.cancelableActions,this._overlay.toggleBlock(this._elems.parent,t),this._state.visible=t,n&&(this._overlay._onBlockToggle(e.instanceForOverlay,t),this._trigger(t?"show":"hide"))}function l(){var t=!1,e=this._state;return e.cancelableActions||(e.cancelableActions={show:function(){t||a.call(this,!0)}.bind(this),hide:function(){t||a.call(this,!1)}.bind(this),cancel:function(){t=!0,delete e.cancelableActions,this._trigger("cancelShow")}.bind(this)}),e.cancelableActions}function c(t,e,n){var s=this._opts.useHistory&&!n&&r;if(t!==this._state.visible)if(i(e,"object")&&i(e.then,"function")){var o=l.call(this),h=o[t?"show":"hide"];this._overlay.showLoading(e,o.cancel),e.then(function(){s&&u.call(this,t),h()}.bind(this),c.bind(this,!t))}else s&&u.call(this,t),a.call(this,t)}function u(t){var e=this._state.historyCallbacks;t?this.on("show",e.show):this.on("hide",e.hide)}function h(t){var e=this._state,n=e.historyCallbacks,i=t.originalEvent||t,s=i.state||{},r=o.bind(this),a=s.popupInstanceId==this.__id;this.off("show",n.show),this.off("hide",n.hide),c.call(this,a,null,!0),this._opts.touchSupport&&(a?r(0):setTimeout(r,10))}function p(){var t=this._opts,e=t.pageState||{},n=t.saveInitialUrl?e.url:e.hash&&location.href.replace(/#.+$/,"")+"#"+e.hash;n&&s.pushState({popupInstanceId:this.__id},e.title,n)}function d(){s.back()}return{_Events:["show","hide","cancelShow"],_parentElement:function(){var e=Array.prototype.slice.call(arguments,0);return t(this._opts.templates.parent.apply(this,e))},_Init:function(){var i=n.Tools.initModule("OverlayManager"),s=i.getById(this._opts.overlay),o=this._state={visible:!1,preventClose:!0===this._opts.preventClose};s.registerBlock(this),this._overlay=s,a.call(this,!1),this._opts.useHistory&&r&&(t(e).on("popstate",h.bind(this)),o.historyCallbacks={show:p.bind(this),hide:d.bind(this)})},_savePreparedInstance:function(t){t&&this.__id===t.popupInstance.__id&&(this._state.instanceForOverlay=t)},getBlockElement:function(){return this._elems.parent},getOverlay:function(){return this._overlay},toggle:function(t,e){c.call(this,t,e)},visible:function(){return this._state.visible},show:function(t){this._state.scrollTop=e.scrollY,c.call(this,!0,t),this._opts.touchSupport&&o.call(this,0)},hide:function(t){this._state.preventClose||(c.call(this,!1,t),this._opts.touchSupport&&setTimeout(o.bind(this),10))},destroy:function(){c.call(this,!1),this._elems.parent.remove()},canCloseByClick:function(e){var n=this._opts.preventHideByOverlay;return!n||!e||(t.contains(this._elems.parent[0],e[0])||!("function"==typeof n?n.call(this,e):n))}}}(),o,null,"Popup")}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e,n){!function(t){var e=t.Basic,n=e.Extend,i=t.Mixins,s={url:null,type:"GET",transport:null,prepareRequest:null,prepareResponse:null};t.Basic.getModel(function(){function t(t){var e=this._opts,n=this._state,i=e.transport||this.transport;return new Promise(function(s,r){e.url?("function"==typeof e.prepareRequest&&(t=e.prepareRequest.call(this,t)),i({url:e.url,data:t,type:e.type}).then(function(t){if(t.status){var n=t.data;"function"==typeof e.prepareResponse&&(n=e.prepareResponse.call(this,n,t)),s(n)}else r(t)}.bind(this))):s(n.templateData||{})}.bind(this))}function e(t){return n(t,this._state.templateData)}return{_mixins:[i.transport],_Init:function(t){this._state={templateData:t||{},dataPromise:null}},getData:function(n){var i=this._state;return n=n||{},n.clearCache&&(i.dataPromise=null),n.url&&(this._opts.url=n.url),n.type&&(this._opts.type=n.type),null===i.dataPromise&&(i.dataPromise=t.call(this,n.requestPayload).then(e.bind(this),function(){})),i.dataPromise}}}(),s,null,"ShowPopupModel")}(window.ru.mail.cpf)},function(t,e,n){!function(t,e,n){"use strict";var i=n.Basic,s=n.Tools.initModules,r=n.Tools.initModule,o=e.history,a=!!o.replaceState,l=n.Basic.moduleOpts.get,c={cssSels:{show:".js-show_popup",redraw:".js-redraw_popup",popup:null},attrs:{hashId:"data-popup-hash-id"},hashKey:null,useHash:!1,getHashIdByAttr:!1,popupExt:"ShowPopup",prepareRequestParams:null,prepareTemplateData:null,preparePopupElement:null,showPromise:null};i.getView(function(){function n(){var t=this._opts,e=this._state,n=null;t.getHashIdByAttr&&(n=i.call(this)),(c.call(this)||n)&&(a&&o.replaceState({},e.pageTitle,e.location.base),this.show(!1,n,!0))}function i(){var t=this._elems,e=this._opts,n=this._state,i=e.cssSels,s=null,r=n.location.hash.replace("#","");if(e.getHashIdByAttr&&r){var o=t.parent.find(i.redraw)||[],a=r;s=[].filter.call(o,function(t){return e.hashKey+t.getAttribute(e.attrs.hashId)==a})[0]}return s}function c(){var t=this._state;return-1!==u.call(this).hash.indexOf(t.popupHash)}function u(){var t=e.location,n=(t.pathname+t.search).replace(/\/\//g,"/");return{url:t.href.replace(/\/\//g,"/"),base:n,hash:t.hash}}function h(){var t=this._opts;if(this._popup||t.cssSels.popup)return null;var e=l(t.popupExt?"Popup."+t.popupExt:"Popup");return e&&e.templates&&e.templates.parent}return{_Handlers:{dom:{"click:show":"onShowClick","click:redraw":"onRedrawClick"}},_Init:function(){this._popup=null;var t=this._opts,i=this._state={location:u.call(this),pageTitle:e.document.title};if(o&&t.useHash){if(!t.hashKey)return;i.popupHash=t.hashKey,n.call(this)}},onShowClick:function(e){e.preventDefault();var n=t(e.currentTarget);this.show(!1,n)},onRedrawClick:function(e){e.preventDefault();var n=t(e.currentTarget);this.show(!0,n)},show:function(e,n){var i=t(n)||null,o=this._opts,a=this._state,l={clearCache:e};e&&this._popup&&(this._popup.destroy(),this._popup=null),"function"==typeof o.prepareRequestParams&&(l=o.prepareRequestParams.call(this,l,i));var c=h.call(this);Promise.all([this._model.getData(l),c]).then(function(e){var n,l={},c=e[0];if(!this._popup){var u=[a.location.base,"#",a.popupHash].join("");if(o.useHash&&a.popupHash&&(l={useHistory:!0,pageState:{url:u,title:a.pageTitle,hash:a.popupHash}}),o.cssSels.popup&&(n=t(o.cssSels.popup)),"function"==typeof o.prepareTemplateData&&(c=o.prepareTemplateData.call(this,c,i)),o.getHashIdByAttr){var h=i.attr(o.attrs.hashId);l.pageState.url=[u,h].join(""),l.pageState.hash=[a.popupHash,h].join("")}this._popup=r(["Popup",o.popupExt],n,l,c),"function"==typeof o.preparePopupElement&&o.preparePopupElement.call(this)}s(this._popup.getBlockElement()),this._popup.show(o.showPromise&&o.showPromise())}.bind(this))}}}(),c,null,"ShowPopup"),i.moduleOpts.setParams("ShowPopup",{acceptTypes:"ShowPopupModel"})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n,i){function s(t,e,n){var s,r,o=p.transform3d||p.csstransforms3d,a={};return isNaN(t)||(s=["translate",o?"3d":"","(",t,"px,",e?e+"px":"0",o?",0":"",")"].join(""),r=i&&i.prefixed&&i.prefixed("transform")||p.prefix+"Transform",!0===n?(a.name=r,a.val=s):a[r]=s),a}function r(t,e,n){var i=Array.isArray(e)?e:[e],r=h(t,"number"),o=s(i[0],i[1],r||n);if(r&&(o.val=[o.val," ","scale(",t,")"].join(""),!n)){var a={};a[o.name]=o.val,o=a}return o}function o(t,e,n,i,s){var o,l,c,u,p=h(i,"string"),g=h(s,"function");d&&(o=t.length,c=o>1&&Array.isArray(e)&&o==e.length,p&&(l=function(){clearTimeout(u),t.removeClass(i),g&&s()},t.addClass(i),t.one(f,function(){--o||l()}),u=setTimeout(l,1e3)),t.each(function(t){var i=c?e[t]:e,s=Array.isArray(i),u=s&&3==i.length?i.pop():null;Array.isArray(n)&&(s||(i=[i]),i=m(i,n[t]));var h=r(u,i,!0);p&&1===o&&a(this.style[h.name],h.val)?p&&l():this.style[h.name]=h.val}),!p&&g&&s())}function a(t,e){return l(t)==l(e)}function l(t){return t?(t.split("(")[1]||"").match(/\d+\.*\d*/g).join():t}var c=n.Basic,u=n.Touch,h=c.typeOf,p=u&&u.Support||i,d=(p.touch||p.touchevents)&&(p.transition||p.csstransitions),f="transitionend oTransitionEnd webkitTransitionEnd",m=function(t,e){for(var n,i,s,r,o,a=[],l=t.length;l--;){n=t[l],r=e[l];for(var c=r.length;c--;)i=r[c],o=1==c,(o?n>i:n<i)&&(s=n-i,n=i+s/5);a[l]=n}return a};c.Extend(!0,n,{Touch:{Tools:{moveElems:o,getTranslateWithScale:r,getTranslate:s}}})}(window.jQuery||window.$,window,window.ru.mail.cpf,window.Modernizr)},function(t,e){!function(t,e,n,i){"use strict";var s=n.Basic,r=n.Touch,o=s.typeOf,a=s.Extend,l=r&&r.Support||i,c=(l.touch||l.touchevents)&&"ontouchstart"in e,u={cssSels:{targetElems:null,ignoredElems:null},targetAxis:null,canPreventMousedown:function(){return!0},resetDelta:!1},h=s.Constructors.getView(function(){function e(t){var e,n,i=t.originalEvent||t,s=i.changedTouches;if(c&&void 0!==i.touches){for(var o=0;o<s.length;o++)if(n=s[o],n.identifier===this._state.touchId){e=n;break}}else e=r.reduce(function(t,e){return e="page"+e.toUpperCase(),t[e]=i[e],t},{});return e}function n(t){var n=e.call(this,t),i=this._state.coords;return n?r.map(function(t,e){return n["page"+t.toUpperCase()]-i[e]}):[0,0]}function i(t){this._state.coords=r.map(function(e){return t["page"+e.toUpperCase()]})}function s(t){this._state.started||t.trigger("click"),this._timers.click=null}var r=["x","y"];return{_Events:["start","startMove","move","end"],_Handlers:{"set:events":{"touchstart:targetElems":"_onTouchStart","touchmove:document":"_onTouchMove","touchend:document":"_onTouchEnd","mousedown:targetElems":"_onTouchStart","mousemove:document":"_onTouchMove","mouseup:document":"_onTouchEnd","click:targetElems":"_onClick"}},_Init:function(){this._timers={click:null},this._state={started:!1,moving:!1,paused:!1,detecting:!1,touchId:null,coords:null,delta:[0,0]},this.setTargetAxis(this._opts.targetAxis),this._bindHandlerSet("events")},_onTouchStart:function(n){var r,o=n.originalEvent||n,u=this._state,h=this._opts,p=t(o.target),d=c&&void 0!==o.touches,f=o.touches,m=o.changedTouches,g=h.cssSels.ignoredElems;o.which>1||g&&(p.is(g)||p.parents(g).length>0)||u.paused||u.started||d&&f.length>1||(r=d?m[0]:e.call(this,o),i.call(this,r),a(u,{touchId:r.identifier,detecting:!0,moving:!1}),l.preventTouchStart&&(this._timers.click=setTimeout(s.bind(this,p),200),o.preventDefault()),d||p.is("select,input,textarea")||!h.canPreventMousedown.call(this,p)||o.preventDefault(),this._trigger("start",p,{from:this._state.coords,elem:o.currentTarget}))},_onTouchMove:function(t){var e,i,s,r,o=!0,l=this._Opts.targetAxis,u=this._state;if((u.started||u.detecting)&&(e=n.call(this,t),i=e.map(Math.abs),0!==(s=Math.max.apply(null,i)))){var h=u.started;u.detecting&&s>3&&(null!==this._timers.click&&(clearTimeout(this._timers.click),this._timers.click=null),c&&void 0!==t.touches&&null!==l&&i[l]<i[1-l]&&(o=!1),a(u,{detecting:!o,started:o,moving:o})),u.started&&(h||this._trigger("startMove"),r=u.delta,e=e.map(function(t,e){return t+r[e]}),this._trigger("move",e,t),/^mouse/.test(t.type)&&t.preventDefault())}},_onTouchEnd:function(t){var e,i,s=this._state;s.detecting=!1,s.started&&(i=s.delta,e={coords:null,touchId:null,detecting:!1,started:!1,moving:!1},this._Opts.resetDelta?e.delta=r.map(function(){return 0}):e.delta=n.call(this,t).map(function(t,e){return i[e]+t}),a(s,e),this._trigger("end",e.delta),t.preventDefault())},_onClick:function(t){this._state.moving&&t.preventDefault()},setTargetAxis:function(t){var e,n=this._opts;o(t,"string")&&(e=r.indexOf(t))>-1?n.targetAxis=e:n.targetAxis=null},setDelta:function(t,e){if(o(t,"array"))return void(this._state.delta=t.slice(0));var n=isNaN(t)?r.indexOf(t):t;-1!==n&&(this._state.delta[n]=e)},getDelta:function(t){var e=this._state.delta;return o(t,"undefined")?e.slice(0):isNaN(t)?e[r.indexOf(t)]:e[t]},setState:function(t,e){o(t,"object")?a(this._state,t):this._state[t]=e},stopDetecting:function(){this._state.detecting=!1},pause:function(t){return o(t,"boolean")&&(this._state.paused=t),this._state.paused}}}(),u,null,"Swipe");t.fn.bindScrollMove=function(t,e,n,i,s){return new h(a(s,{_Handlers:{start:t,move:e,end:n},targetAxis:i}),this)}}(window.jQuery||window.$,window,window.ru.mail.cpf,window.Modernizr)},,function(t,e){!function(t,e){"use strict";function n(t){var e={},n=function(){var n=Array.prototype.slice.call(arguments,0),i=e[t.apply(this,n)];return i?i.apply(this,n):null};return n.method=function(t,n){return e[t]=n,this},n}function i(t){var e=t.length,n=function(t,e){return function(){return e.apply(void 0,t.concat(Array.prototype.slice.call(arguments,0)))}};return function i(){var s=Array.prototype.slice.call(arguments,0);return s.length<e?n(s,i):t.apply(void 0,Array.prototype.slice.apply(arguments,[0,e]))}}function s(t,e){var n=Array.prototype.slice.call(arguments,2);return t.map(function(t){return void 0===t||null===t?null:"function"==typeof t[e]?t[e].apply(t,n):null})}function r(t,e){return t.map(function(t){return void 0!==t&&null!==t?t[e]:void 0})}(0,e.Basic.Extend)(!0,e,{Tools:{FuncTools:{multi:n,curry:i,invoke:s,pluck:r}}})}(window,window.ru.mail.cpf)},function(t,e){!function(t,e){function n(t,e){for(var n,i,s=Number.MAX_VALUE,r=0;r<t.length;r++)(i=Math.abs(t[r]-e))<s&&(s=i,n=t[r]);return n}var i,s,r=t.__PH&&t.__PH.cookie.s||t.portalCookie&&t.portalCookie.s||{setProject:function(){},removeLocal:function(){},setLocal:function(e,n){for(var i=t.document.cookie.match(/s_cp=([^;]*)/),s=i?i[1]:"",r=s?s.split("|"):[],o=-1,a=r.length;a--;)0===r[a].indexOf(e+"=")&&(o=a);n&&(o>-1?r[a]=e+"="+n:r.push(e+"="+n)),t.document.cookie=["s_cp=",r.join("|"),";path=/;domain=.mail.ru;max-age=",31536e3].join("")}},o=[1,1.5,2,2.5,3],a=[480,568,640,1366];if(i=n(o,function(){var n,i=t.devicePixelRatio;if(!i&&e.Basic.typeOf(t.matchMedia,"function"))for(n=1;n<=3&&t.matchMedia("only screen and (-webkit-min-device-pixel-ratio: "+n+"),only screen and (min--moz-device-pixel-ratio: "+n+"),only screen and (-o-min-device-pixel-ratio: "+n+"/1),only screen and (min-resolution: "+Math.round(96*n)+"dpi),only screen and (min-resolution: "+n+"dppx)").matches;)i=n,n+=.5;return i||1}()),s=n(a,Math.max(t.screen.width,t.screen.height)),r.setProject("cp",".mail.ru"),r.removeLocal("dpr"),r.removeLocal("scrmax"),r.removeLocal("srcmax"),i>1){r.setLocal("dpr",i),r.setLocal("scrmax",s);var l=function(){var e,n={"auto.mail.ru":"d4000636","afisha.mail.ru":"d4000660","horo.mail.ru":"d4000671","deti.mail.ru":"d4000693","health.mail.ru":"d4000696","lady.mail.ru":"d4000705","realty.mail.ru":"d4000717","news.mail.ru":"d4000719","pogoda.mail.ru":"d4000723","realty.mail.ru/remont/":"d4000736","sport.mail.ru":"d4000738","cars.mail.ru":"d4000740","tv.mail.ru":"d4000741"},i=t.location.href;for(var s in n)i.indexOf(s)>-1&&(e=n[s]);return e}();l&&((new Image).src="//rs.mail.ru/"+l+".gif?"+parseInt(1e5*Math.random()))}}(window,window.ru.mail.cpf)},function(t,e){!function(t,e){function n(t){return u(!0,{},h,l.get("Validation"),t)}function i(t,e){var n,i,s=!0;if(""===t&&!("required"in e))return!0;for(var r=0;r<p.length;r++)if(i=p[r],e.hasOwnProperty(i))switch(i){case"required":s=s&&null!==t&&t.length>0;break;case"pattern":if(n=e[i],n.length)try{s=new RegExp(n,e.patternOptions||"igm").test(t)}catch(t){s=!0}}return s}function s(t,e){var s=n(e),r=s.cssSels,o=[],a={};[].forEach.call(t.find(r.Input),function(t){var e,n,r=t.getAttribute("name"),o={},l=!1;if(!t.disabled&&!0!==a[r]){for(var c=p.length;c--;)e=p[c],t.hasAttribute(e)&&(l=!0,o[e]=t.getAttribute(e),"pattern"===e&&s.Attrs.patternOptions&&(o.patternOptions=t.getAttribute(s.Attrs.patternOptions)));l&&(n=t.value,d.indexOf(t.type)>-1&&(n=t.checked?n:""),a[r]=i(n,o))}});for(var l in a)a.hasOwnProperty(l)&&!1===a[l]&&o.push(l);return o}function r(t,e,i){var s;c(i,"object")?s=i.markInvalid:(s=i,i=null);var r=n(i),o=r.cssSels,a=r.cssClss.invalidField,l=r.Attrs,u=o.fieldCont,h=!!e,p=h&&Array.isArray(e);[].forEach.call(t.find(u).add(t.filter(u)),function(t){var n,i,r=!1,c=Array.prototype.slice.call(t.querySelectorAll(o.Input)).map(function(t){var n=t.getAttribute("name"),i=h&&(p?e.indexOf(n)>-1:n in e);return r=r||i,i&&!p&&e[n]||null});if(r){if(!s)return;n=t.querySelector(o.fieldErrorText),n&&(i=n.getAttribute(l.errorText),i||(i=n.innerText,n.setAttribute(l.errorText,i)),n.innerText=!p&&c.join("")||i)}a.split(" ").forEach(function(e){t.className=t.className.replace(new RegExp("(?:^|[^S])"+e+"(?=[^S]|$)","ig"),"").replace(/^\s/,"")+(r?" "+a:"")})})}function o(t){var e=n();return t.closest(e.cssSels.fieldCont)}var a=e.Basic,l=a.moduleOpts,c=a.typeOf,u=a.Extend,h={cssClss:{invalidField:"invalid"},cssSels:{fieldCont:".js-field__cont",fieldErrorText:".js-field__error",Input:"input,textarea,select,button"},Attrs:{errorText:"data-errortext",patternOptions:"data-pattern-opts"}},p=["required","pattern"],d=["checkbox","radio"];u(!0,e,{Tools:{Forms:{Validation:{getFieldCont:o,processInvalidFields:r,getInvalidFields:s,validateFields:function(t,e){var n=s(t,e);return r(t,n,u({markInvalid:!0},e)),n}}}}})}(window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(t,e){var n=P[t.type],i=n&&n.hitCntr;v(i,"function")&&i(t.params,e)}function s(t){var e=S[t];if(e){var n=e.url;!e.promise&&n&&(e.promise=new Promise(function(i,s){w({url:n,type:"GET",success:function(t){e.contents=I(t),i(t)},error:function(e){e&&404==e.status&&(S[t]=null),s()},complete:function(){e.promise=null}})}),e.promise.catch(b))}}function r(){var t,e,n,i,r,o,a,l,c,u,h=arguments;if(i=r=!1,h.length){switch(v(c=h[0])){case"string":h.length>1?c in P&&v(n=h[1],"object")&&(r=!0,(l=[]).push({type:c,params:n})):f.test(c)?(i=!0,t=c):e=c;break;case"array":r=!0,l=c;break;default:return}if(r&&l.length)for(var p=0;p<l.length;p++)u=l[p],v(u,"object")&&E(a=u.type,n=u.params)?u.params=O(a,n):l.splice(p--,1);return(i&&t||r&&l.length||e)&&(o=S.push({url:i?t:null,contents:i?null:r?l:I(e)})-1,i&&s(o)),o}}function o(t){var e;return!(!(e=S[t])||!e.contents)}function a(t,e){var n=S[t];n&&Promise.resolve(o(t)||s(t)).then(function(){A(n,e)})}function l(t,e,n,i){var s;if(s=S[t]){for(var r,o,a=s.contents,l=null,c=a.length;c--;)if(a[c].type===e){l=a[c];break}null!==l&&(r=P[l.type],o=r&&r.hitEvent,v(o,"function")&&o(l.params,n,i))}}var c=e.getNameSpace,u=n.Types.String,h=u.Html,p=u.Url,d=u.regExp,f=d.Url,m=h.Split,g=h.getParams,_=n.Basic,v=_.typeOf,w=t.ajax||n.DOM.Tools.Ajax.request,y=n.Basic.Extend,b=function(){},S=[],C=function(t){(new Image).src=t},T=function(t){C(t.src)},P=function(t,n){var i=e.screen,s=n.URL;return{admail:{rqdPrms:"id",hitCntr:function(t){var e=location.protocol+"//ad.mail.ru/${id}.gif";T({src:u.supplant(e,t)})},hitEvent:function(){}},radar:function(){var t=function(t){t.info=Object.keys(t.info).map(function(e){return e+":"+t.info[e]}).join(","),t.info=encodeURIComponent(t.info),T({src:u.supplant("//stat.radar.imgsmail.ru/update?t=${name}&p=${project}&v=${value}&i=${info}&rnd=${rnd}",t)})};return{rqdPrms:"project",hitCntr:function(e,n){var i,s=(new Date).valueOf();n&&n.promise&&n.promise.then&&(i=n.promise,delete n.promise),n=y({},e,n),n.name=encodeURIComponent(n.name),n.value=encodeURIComponent(n.value||0),n.info=v(n.info,"object")?n.info:{},n.rnd=Math.random(),i?i.then(function(){n.info.success=(new Date).valueOf()-s,n.info.success=(new Date).valueOf()-s,t(n)},function(){n.info.error=(new Date).valueOf()-s,t(n)}):t(n)}}}(),topmail:function(){function n(){var t=e._tmr;return t&&v(t.push,"function")?t:null}return{domain:"*.top.mail.ru",rqdPrms:["id",function(t){return null!==n()||"domain"in t}],hitCntr:function(e,r){r=r||{};var o=n(),a=r.referrer||s,l=r.url,c=r.userid;if(null!==o)o.push({id:e.id,type:"pageView",url:l,userid:c,referrer:a,start:(new Date).getTime()});else{var u=["//"+e.domain+"/counter?id="+e.id+";js=13",l?";u="+encodeURIComponent(l):"",void 0!==t.javaEnabled?";j="+t.javaEnabled():"",a?";r="+encodeURIComponent(a):"",c?";userid="+encodeURIComponent(c):"",i?";s="+i.width+"*"+i.height+";d="+(i.colorDepth||i.pixelDepth):"",";_="+Math.random()].join("");C(u)}},hitEvent:function(t,e){var i=n();null!==i&&i.push(y({},t,e))}}}(),rbmail:{rqdPrms:"src|id",nrmlzPrms:function(t){var e=location.protocol+"//rs.mail.ru/${type}${id}.gif";return t.type=t.type||"d",t.src||(t.src=u.supplant(e,t)),t},hitCntr:function(t,e){var n=e&&Object.keys(e).map(function(t){return t+"="+e[t]}).join("&");n&&(t=y({},t),t.src+="?"+n),T(t)},domain:"rs.mail.ru"},comscore:{rqdPrms:"src|id",hitCntr:function(t,e){var i=e&&e.referrer||s,r=e&&e.url,o=["http"+("s"==n.URL.charAt(4)?"s://sb":"://b"),".scorecardresearch.com/b?c1=2","&c2="+t.id,"&ns__t="+(new Date).getTime(),"&ns_c="+(n.characterSet||n.defaultCharset||""),"&c7="+encodeURIComponent(r),"&c9="+encodeURIComponent(i)].join("");C(o)}},weborama:{rqdPrms:"src",hitCntr:function(t){var e=t.src.replace(/&amp;/g,"&").replace(/&?a\.ra=\d+/,""),n=(Math.random()+"").slice(2,11);C(e+(-1===e.indexOf("?")?"?":"&")+"a.ra="+n)},domain:"*.weborama.fr"},tns:{rqdPrms:"src",hitCntr:T,domain:"www.tns-counter.ru"},yaru:{rqdPrms:"id",hitCntr:function(t,n){var i,r,o,a=e["yaCounter"+t.id];a&&(n&&(i=n.url,r=n.title,o=n.referrer),o=o||s,a.hit(i,r,o))}},googl:function(){function t(t){var e=t.shift().split("."),n=e.length>1&&e[0];switch(e.pop()){case"_setAccount":a("create",t.shift(),{name:n}),t=null;break;case"_set":e.push("set"),t.unshift(e.join("."));break;case"_trackPageview":e.push("send"),t.unshift(e.join("."),"pageview");break;case"_setReferrerOverride":e.push("set"),t.unshift(e.join("."),"referrer");break;case"_trackEvent":e.push("send"),t.unshift(e.join("."),"event")}null!==t&&a.apply(null,t)}function n(){var n,i=e._gaq;if(a=e.ga,v(a,"function")){if(n={push:t},Array.isArray(i))for(var s=0;s<i.length;s++)t(i[s])}else n=e._gaq=i||[];return n}function i(){return"mrga"+l++}function r(t){var e,s=n();return v(o,"object")?e=o[t]:o={},e||(e=i(),o[t]=e,s.push([e+"._setAccount",t])),e}var o,a=e.ga,l=0;return{rqdPrms:"id",hitCntr:function(t,e){var i=n(),o=r(t.id)||t.name||e&&e.name,a=e&&e.referrer||s;a&&i.push([o+"._setReferrerOverride",a]);var l=e&&e.url||"";0===l.indexOf("http")&&(l="/"+l.split("/").slice(3).join("/")),i.push([o+"._trackPageview",l])},hitEvent:function(t,e,i){var s=n(),o=r(t.id)||t.name,a=o+"._trackEvent";e.unshift(a),"function"==v(i)&&s.push([o+"._set","hitCallback",i]),s.push(e)}}}(),liru:{hitCntr:function(t,e){var r=e&&e.referrer||s,o=t&&t.domain?t.domain:"counter.yadro.ru",a=["/hit"],l=t.personal;l&&a.push(l);var c=["//"+o+a.join(";"),"?r"+encodeURIComponent(r),v(i,"undefined")?"":";s"+i.width+"*"+i.height+"*"+(i.colorDepth||i.pixelDepth),";u"+encodeURIComponent(e&&e.url||n.URL)+";"+Math.random()].join("");C(c)},domain:"counter.yadro.ru"}}}(e.navigator,e.document),E=function(){var t=function(t,e){var n,i,s=!1;if(v(t,"function"))s=t(e);else for(n=t.split("|"),i=0;(t=n[i++])&&!(s=e.hasOwnProperty(t)););return s};return function(e,n){var i,s,r,o,a=e in P;if(a&&(r=P[e],a=!("rqdPrms"in r)),!a)if(o=P[e].rqdPrms,Array.isArray(o))for(i=0;(s=o[i++])&&(a=t(s,n)););else a=t(o,n);return a}}(),O=function(t,e){var n=P[t],i=n&&n.nrmlzPrms;return v(i,"function")&&(e=i(e)),e},I=function(){var t=function(){var t=/(\?|\/)/i;return function(e){var n,i,s,r,o;for(var a in P)if(P.hasOwnProperty(a)&&(o=P[a].domain)&&(r=(n="*"!=o.charAt(0))?o:o.substr(1),i=e.indexOf(r),s=e.indexOf("//")+"//".length,i>0&&(n?i==s:!t.test(e.slice(s,i)))))return a}}(),e=function(){var t=["tagName","mr_counter","type"];return function(e){for(var n,i=0;n=t[i++];)delete e[n];return e}}();return function(n){var i,s,r,o,a,l,c,u,h,p=null,d=!1;if((i=m(n)).length)for(r=[],s=-1;o=i[++s];)a=o.substr(0,o.indexOf(">")+1),l=g(a),"!--"==l.tagName?l.hasOwnProperty("mr_counter")?(d=!0,p=s,c=l.type,u=e(l)):d&&l.hasOwnProperty("/mr_counter")&&(d=!1,h=i.slice(p+1,s).join("")):d||"img"==l.tagName&&l.hasOwnProperty("src")&&(c=t(l.src))&&(u=e(l)),!d&&u&&(c in P&&(E(c,u)||h&&E(c,u))&&(p?(i.splice(p,s-p+1),s=p):i.splice(s,1),s--,r.push({type:c,params:O(c,u)})),p=h=u=null);return r}}(),A=function(){var t={"referrer,url":p.getAbs},e=function(e){var n,i,s;if(v(e,"object"))for(var r in t)if(t.hasOwnProperty(r)&&v(s=t[r],"function")){n=r.split(/,\s?/);for(var o=n.length;o--;)e.hasOwnProperty(i=n[o])&&(e[i]=s(e[i]))}};return function(t,n){var s,r=t.contents,o=0;for(n&&e(n);s=r[o++];)i(s,n)}}();y(c("Instances",n),{cntrsCtrl:{add:r,hit:a,hitEvent:l}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){function i(t,n,s){var r,a=T.total.ids,l=T.total.times,c=!1;s!==o(n)?P():(r=a.indexOf(t),~r?l[r]+=T.period:(a.push(t),l.push(0),r=l.length-1,c=!0),n.cumulative&&!c?t({value:l[r]/1e3}):n.cumulative||t({goal:(c?"v_":"t_")+location.pathname.replace(/\/$/,""),value:c?1:T.period/1e3}),T.tm=e.setTimeout(i.bind(null,t,n,s),T.period))}function s(t,n){var s=t.counters[n];T.active!==s&&(T.active=s,e.clearTimeout(T.tm),i(s,t,n))}function r(){T.active=null,e.clearTimeout(T.tm)}function o(t){var n,i,s,r,o,a=C.getScroll().top,l=a+e.innerHeight/2,c=C.getClientRect(t.elem);if(c.height&&c.width)for(o=t.counters.length-1||1,i=c.height/o,n=c.top+a;o--;)if(s=n+i*o,r=n+i*(o+1),s<=l&&l<=r)return o;return-1}function a(){if(T.isWindowActive){var t,e=T.blocks.slice();e.reverse(),t=e.some(function(t){var e=o(t);return~e&&s(t,e),~e}),t?O():r()}}function l(t,n){var i=Array.isArray(t)?t[n]:t,s="rnd="+(Math.random()+"").substr(2);i?(new Image).src=[i,s].join(-1===i.indexOf("?")?"?":"&"):e.DEBUG&&e.console.log("–ü–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–≥–æ rb-—Å—á–µ—Ç—á–∏–∫–∞")}function c(t,n,i){var s,r,o,a,c=i.jElem[0],u=i.counterParam,h=i.checkPos,p=!(0===c.offsetWidth&&0===c.offsetHeight),d=Array.isArray(u)&&u.length||1,f=d>1,m=!1,g=0;if(p)if(h){var _=c&&c.ownerDocument,v=_.documentElement,w=c.getBoundingClientRect();s=w.top+(e.pageYOffset||v.scrollTop)-(v.clientTop||0),r=t.top,o=t.top+n.height;for(var y=d;y--;)f&&null===u[y]?g++:(a=s,f&&(a+=c.offsetHeight/(d-1)*y),r<a&&a<o&&(b(u[y],"function")?u[y]({rnd:Math.random()}):l(u,y),f&&(u[y]=null),g++));m=g===d}else m=!0,l(u,0);return m}function u(t,e,n){var i=0;if(n)return c.apply(null,arguments);if(_&&_.length)for(;n=_[i++];)!0===c.call(null,t,e,n)&&_.splice(--i,1)}function h(){u({top:e.pageYOffset,left:e.pageXOffset},{width:e.innerWidth,height:e.innerHeight}),P()}function p(t,n){var i,s=this;t&&(i={jElem:s,counterParam:t,checkPos:n},!0!==u({top:e.pageYOffset,left:e.pageXOffset},{width:e.innerWidth,height:e.innerHeight},i)&&(_.push(i),v||(d(),v=!0)))}function d(){t(e).on("scroll resize",function(){T.isWindowActive=!0,h()}).on("blur",function(){r(),T.isWindowActive=!1}).on("focus",function(){T.isWindowActive=!0,P()}).on("click touchstart keydown mousemove",function(){T.isWindowActive=!0,E()})}var f,m,g,_=[],v=!1,w=/,\s?/g,y=n.Basic.moduleOpts,b=n.Basic.typeOf,S=n.Basic.Extend,C=n.Tools.Layout,T={blocks:[],active:null,tm:null,total:{ids:[],times:[]},period:5e3,isWindowActive:!0},P=n.Basic.debounce(a,500),E=n.Basic.throttle(a,500),O=n.Basic.debounce(function(){r(),T.isWindowActive=!1},3e4);t.fn.initVisibleCounter=function(e,n){return this.each(function(){p.call(t(this),e,n)})},t.fn.initScrollCounter=function(e,n){return this.each(function(){var i=t(this),s=i[0].getAttribute(e);if(s){var r=s.split(w);!0===n&&(r=r.map(function(t){return t?["//rs.mail.ru/d",t,".gif"].join(""):""})),1===r.length&&(r=r.pop()),p.call(i,r,!0)}})},y.setParams("TrackBlocks",{initializer:function(t,e){if(f=f||n.Instances.cntrsCtrl.add,m=m||n.Instances.cntrsCtrl.hit,g=g||n.Instances.cntrsCtrl.hitEvent,t.counters&&(b(t.counters,"string")&&(t.counters=t.counters.split(/\s*,\s*/).map(function(t){return{id:t}})),b(t.counters,"array"))){var i,s;i=t.counters.map(function(n){return m.bind(e,f(t.counterType||"rbmail",n))}),p.call(e,i,!0),"topmail"===t.counterType&&t.duration&&(s=t.counters.map(function(n){var i={type:"reachGoal",goal:location.pathname.replace(/\/$/,"")},s=f(t.counterType||"rbmail",S(i,n));return g.bind(e,s,t.counterType||"rbmail")}),T.blocks.push({elem:e,cumalative:!!t.cumulative,counters:s}),P())}},paramAttrs:{counters:"data-counter-id",counterType:"data-counter-type"},options:{duration:!0}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=".js-counters",s=n.Instances.cntrsCtrl,r=n.Basic,o=r.typeOf,a=function(){function n(t){for(var e,n=o(t,"string")?t.split(","):t,i=n.length;i--;)(e=n[i])in u&&(n[i]=u[e]);return n}function r(t){var n="",i=e.querySelectorAll(t);if(Array.prototype.forEach.call(i,function(t){n+=t.innerHTML}),n)return c[t]=s.add(n)}function a(t,e){e=e||i;var n=c[e]||r(e);isNaN(n)||s.hit(n,t)}function l(t,e,o,a){a=a||i;var l,u=c[a]||r(a);isNaN(u)||(l=n(e),s.hitEvent(u,t,l,o))}var c={},u=function(e){var n=t.location;return{"{url}":e.URL,"{relurl}":n.pathname+n.search,"{form}":"–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã","{click}":"–ö–ª–∏–∫","{bclick}":"–ö–ª–∏–∫ –ø–æ –±–∞–Ω–Ω–µ—Ä—É"}}(t.document);return{hitCntrsBlck:a,hitEvent:l}}();r.Extend(t.getNameSpace("Tools.Counters",n),a),r.Extend(t.getNameSpace("Comp.jQuery.Tools",n),a)}(window,window.document,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic,s={cssSels:{showMoreLink:".js-simplemore__button__link",showMoreLinkCont:".js-simplemore__button",hiddenBlock:".js-simplemore__add"},cssClss:{hiddenBlockAnimated:"b-simplemore_dynamic"}},r=i.Constructors.getView({_Handlers:{dom:{"click:showMoreLink":"_onShowMoreClick"}},_onShowMoreClick:function(t){t.preventDefault();var e=this._Opts,n=e.cssSels,i=this._Elems.Parent,s=i.find(n.hiddenBlock),r=e.cssClss.hiddenBlockAnimated,o=i.find(n.showMoreLinkCont);s.length&&(s.hasClass(r)?s.one("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(){o.hide(),s.removeClass(r).css("height","")}).height(s.get(0).scrollHeight):(o.hide(),s.show()))}},s,null,"SimpleShowMore");i.Extend(!0,n,{Modules:{SimpleShowMore:r}}),t.fn.SimpleShowMore=function(e){return this.each(function(){new r(e,null,t(this))})}}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic,s=i.Extend,r={cssSels:{Main:{block:".js-toggle",button:".js-toggle__button",container:".js-toggle__container"},button:".js-toggle__button",preventToggle:null},cssClss:{hidden:"hidden_all"},animate:!1,hideButton:!1,toggleParent:!1};s(!0,n,{Modules:{Toggle:i.getView(function(){function n(){var t=this._opts,e=t.cssClss.hidden;t.hideButton&&this._state.shown&&this._elems.button.addClass(e)}function i(){var t=this._opts,e=this._elems,n=t.cssClss,i=this._state.heights,r=this._state.shown,o=e.container;this._state.animate=!0,s.call(this).addClass(n.hidden),o.css({height:r?"0":i.container})}function s(){var t=this._elems.container;return this._opts.toggleParent||!t?this._elems.parent:t}return{_Events:["toggle"],_Handlers:{"dom:click:button":"_onClick","dom:webkitTransitionEnd msTransitionEnd oTransitionEnd transitionend:Main.container":"_onTransitionEnd"},_onClick:function(r){var o=this._opts,a=this._elems,l=o.cssClss;if((a.container||{}).length){var c=this._state.shown,u=this._opts.cssSels.preventToggle;if(!u||!t(r.target).is(u)&&!t(r.target).parents(u).length){r.preventDefault(),o.animate?i.call(this):(s.call(this).toggleClass(l.hidden),this._state.shown=!c,n.call(this),this._trigger("toggle"));var h=document.createEvent("HTMLEvents");h.initEvent("resize",!0,!0),e.dispatchEvent(h)}}},_onTransitionEnd:function(e){var i=this._state.shown,r=this._state.animate;r&&t(e.target).is(this._opts.cssSels.Main.container)&&(this._state.shown=!i,n.call(this),s.call(this).toggleClass(this._opts.cssClss.hidden,i),this._trigger("toggle"),r=!1)},_Init:function(){var t=this._opts,e=this._elems,n=t.cssClss,i=e.container;if((i||{}).length){var r=e.container[0].scrollHeight,o=s.call(this).hasClass(n.hidden);this._state={shown:!o,animate:!1,heights:{container:r}},this._state.shown&&t.animate&&i.css("height",r)}}}}(),r,null,"Toggle")}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(136))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(19),r=n(137),o=n(141),a=n(151),l=n(152),c=n(32),u=["ready","pending","complete","error"],h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._pendingAF=!1,e._immortalsLazyBlocks=[],e._lazyBlocks={},e}return i(e,t),e.prototype.getViewportScroll=function(){var t=this.options.getScroll;return"function"==typeof t?t(this._viewport):a.getScroll(this._viewport)},e.prototype.destroy=function(){var t=this._viewport;window.removeEventListener("scroll",this._scrollHandler),window.removeEventListener("resize",this._resizeHandler),window.removeEventListener("load",this._resizeHandler),t.removeEventListener("documentHeightChange",this._resizeHandler),t.removeEventListener("lazyItemReset",this._resizeHandler),t!==document.body&&t.removeEventListener("scroll",this._scrollHandler),clearTimeout(this._resetTimeout),delete this._resetTimeout,delete this._viewport,delete this._content,delete this._lazyElems,delete this._lazyBlocks},e.prototype.getDefaultOptions=function(){return o.getDefaultOptions.call(this)},e.prototype.getInitialState=function(){var t=c.getWinSize();return{isInitRequired:!1,viewportRect:{height:0,left:0,top:0,width:0},winHeight:t.height,winWidth:t.width}},e.prototype.init=function(){var t=this.getElements("viewport")[0]||document.body;this._viewport=t,this._content=this.getElements("content")[0]||t,this._scrollHandler=r.debounce(this._scrollHandler.bind(this),100),this._reset=r.debounce(this._reset.bind(this),100),this._resizeHandler=r.debounce(this._resizeHandler.bind(this),100),window.addEventListener("resize",this._resizeHandler),window.addEventListener("load",this._resizeHandler),window.addEventListener("scroll",this._scrollHandler),t.addEventListener("documentHeightChange",this._scrollHandler),t.addEventListener("lazyItemReset",this._resizeHandler),t!==document.body&&t.addEventListener("scroll",this._scrollHandler),this._reset()},e.prototype._scrollHandler=function(t){this.getState().isInitRequired&&this._recalculateBlocks(),this._requestAF(this._checkBlocks.bind(this))},e.prototype._resizeHandler=function(t){this._reset()},e.prototype._reset=function(){var t=this,e=this.options,n=e.triggerZone,i=c.getWinSize(),s=this._viewport===document.body?{top:0,left:0,width:i.width,height:i.height}:a.getRect(this._viewport);Object.assign(s,{scrollHeight:this._content.scrollHeight,scrollWidth:this._content.scrollWidth,triggerHeight:n*s.height,triggerWidth:n*s.width}),this.setState(function(t){return Object.assign(t,{isInitRequired:!0,viewportRect:s,winHeight:i.height,winWidth:i.width})}),this._lazyElems=this.getElements("block"),this._rawLazyBlocks=this._lazyElems.map(function(n){var i=t.options.attrs.id,s=n.getAttribute(i);if(s&&t._lazyBlocks[s])return t._lazyBlocks[s];var r=new l.LazyBlock(n,e);return s=r.id,n.setAttribute(i,s),t._lazyBlocks[s]=r,r}),(r=this._rawLazyBlocks).push.apply(r,this._immortalsLazyBlocks),this._recalculateBlocks(),window.clearTimeout(this._resetTimeout),this._resetTimeout=window.setTimeout(this._reset.bind(this),this.options.resetDelay);var r},e.prototype._recalculateBlocks=function(){var t=this.getState().viewportRect,e=this.getViewportScroll(),n=this._rawLazyBlocks.splice(0,50);window.clearTimeout(this._recalcTimeout),n.forEach(function(n){var i=a.getRect(n.elem),s=i.left-t.left,r=s+i.width,o=i.top-t.top,l=o+i.height;n.widthIn=s-t.width+e.left,n.widthOut=r+e.left,n.heightIn=o-t.height+e.top,n.heightOut=l+e.top,n.viewState=0,n.width=i.width,n.height=i.height}),this._rawLazyBlocks.length?this._recalcTimeout=window.setTimeout(this._recalculateBlocks.bind(this),30):this.setState(function(t){return t.isInitRequired=!1,t}),this._requestAF(this._checkBlocks.bind(this))},e.prototype._checkBlocks=function(){var t=this,e=this._lazyBlocks,n=this.getState().viewportRect,i=this.getViewportScroll(),s=this._getOutdent();Object.keys(e).forEach(function(r){var o=e[r];if(t._checkBlockVisibility(o)){var a=o.widthIn-s.right,l=o.widthOut+s.left,u=o.heightIn-s.bottom,h=o.heightOut+s.top,p=i.left>=a&&i.left<=l&&i.top>=u&&i.top<=h,d=n.triggerWidth||0,f=n.triggerHeight||0,m=p||i.left+d>=a&&i.left-d<=l&&i.top+f>=u&&i.top-f<=h,g=3==(3&o.viewState),_=1==(1&o.viewState);o.viewState=p?3:m?1:0,p?(g||t._viewportEnter(o),o.handlingMovesInViewport&&(o.xPercent=c.calcScrollPercent(i.left,a,l),o.yPercent=c.calcScrollPercent(i.top,u,h),t._viewportMove(o))):(g&&(o.handlingMovesInViewport&&(o.xPercent=i.left<a?0:100,o.yPercent=i.top<u?0:100,t._viewportMove(o)),t._viewportLeave(o)),m!==_&&(m?t._triggerZoneEnter(o):t._triggerZoneLeave(o)))}})},e.prototype._initBlock=function(t){return t.initBlock?t.initBlock:(t.initBlock=this._getActionPromise("init",t),t.initBlock)},e.prototype._triggerZoneEnter=function(t){var e=this;return t.triggerZoneEnter?t.triggerZoneEnter:this._initBlock(t).then(function(){return t.triggerZoneEnter||(t.triggerZoneEnter=e._getActionPromise("triggerZoneEnter",t).catch(function(){return e._complete(t,!1,null)}),t.state=1,e._toggleState(t)),t})},e.prototype._triggerZoneLeave=function(t){return Promise.resolve()},e.prototype._viewportEnter=function(t){var e=this;return t.viewportEnter?t.viewportEnter:this._triggerZoneEnter(t).then(function(n){var i=e._getActionPromise("viewportEnter",t,n);return t.viewportEnter=i,t.state=2,e._toggleState(t),i.then(function(n){return e._complete(t,!0,n)},function(){return e._complete(t,!1,null)}),i})},e.prototype._viewportMove=function(t){var e=this.options,n=e.types[t.type].viewportMove;"function"==typeof n&&n.call(this,t)},e.prototype._viewportLeave=function(t){return Promise.resolve()},e.prototype._complete=function(t,e,n){t.state=e?2:3;var i=this.options.types[t.type];if(t.isImmortal&&e){this._immortalsLazyBlocks.push(t);var s=i?i.getElement:null,r="function"==typeof s?s.call(this,n,t):null;r&&(t.elem=r)}else delete this._lazyBlocks[t.id];if(this._toggleState(t),t.elem.removeAttribute("data-mp-el"),this._checkBlockSize(t),e){var o=i?i.complete:null;"function"==typeof o&&o.call(this,t)}},e.prototype._getActionPromise=function(t,e){for(var n=this,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var r=this.options,o=r.types[e.type][t],a=r.onBlockChange,l="function"==typeof o?o.apply(this,[e].concat(i)):i,c=Promise.resolve(l);return"function"==typeof a&&c.then(function(){return a.call(n,t,e)}),c},e.prototype._checkBlockVisibility=function(t){var e=this.options.checkVisibility;return"function"==typeof e?e(t):"IMG"===t.elem.tagName||"rbslot"===t.type||!!t.width&&!!t.height},e.prototype._toggleState=function(t){var e=this.options.cssMods;u.forEach(function(n,i){e[n]&&t.elem.classList[i===t.state?"add":"remove"](e[n])})},e.prototype._getOutdent=function(){var t,e=this.getState();if(this._viewport===document.body)t={left:0,right:0,top:0,bottom:0};else{var n=a.getRect(this._viewport);t={bottom:Math.max(0,n.top+n.height-e.winHeight),left:Math.max(0,-n.left),right:Math.max(0,n.left+n.width-e.winWidth),top:Math.max(0,-n.top)}}return t},e.prototype._checkBlockSize=function(t){var e=a.getRect(t.elem);if(e.width!==t.width||e.height!==t.height){var n=document.createEvent("HTMLEvents");n.initEvent("resize",!0,!1),window.dispatchEvent(n)}},e.prototype._requestAF=function(t){var e=this;this._pendingAF||(window.requestAnimationFrame(function(){t(),e._pendingAF=!1}),this._pendingAF=!0)},e.registryName="LazyItem",e}(s.DOMComponent);e.LazyItem=h,s.registerComponent(h)},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(138)),i(n(139)),i(n(140))},function(t,e,n){"use strict";function i(t){var e={},n=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=t.apply(void 0,n),r=e[s];if(r)return r.apply(void 0,n);throw new Error('Method "'+s+'" does not exist')};return n.method=function(t,i){if(t in e)throw new Error('Method "'+t+'" already exists');return e[t]=i,n},n}function s(t){if("function"!=typeof t)throw new Error("Not a function");var e=t.length,n=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.apply(void 0,t.concat(n))}};return function i(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];return s.length<e?n(s,i):t.apply(void 0,s.slice(0,e))}}Object.defineProperty(e,"__esModule",{value:!0}),e.multi=i,e.curry=s},function(t,e,n){"use strict";function i(t,e,n){void 0===e&&(e=100),void 0===n&&(n=!1);var i=null;return function(){function s(){n||t.apply(void 0,r),i=null}for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==i?clearTimeout(i):n&&t.apply(void 0,r),i=setTimeout(s,e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=i},function(t,e,n){"use strict";function i(t,e){void 0===e&&(e=100);var n,i=null;return function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];var o=Date.now();n&&o<n+e?(null!==i&&clearTimeout(i),i=setTimeout(function(){n=o,t.apply(void 0,s)},e)):(null!==i&&(clearTimeout(i),i=null),n=o,t.apply(void 0,s))}}Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=i},function(t,e,n){"use strict";function i(){return{attrs:{id:"data-lazy-block-id",json:"data-lazy-block-json",src:"data-lazy-block-src",type:"data-lazy-block-type"},cssMods:{complete:"m-lazy-item_complete",error:"m-lazy-item_error",pending:"m-lazy-item_pending"},resetDelay:3e5,triggerZone:.5,types:s}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(142);e.getDefaultOptions=i},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(143)),i(n(144)),i(n(145)),i(n(149)),i(n(150))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(32),s=function(t){return t.triggerZoneEnter?t.triggerZoneEnter:i.preloadImage(t.elem.getAttribute(this.options.attrs.src)).then(function(e){return t.elem.style.backgroundImage="url('"+e.src+"')",t})};e.background={triggerZoneEnter:s,viewportEnter:s}},function(t,e,n){"use strict";function i(t,e,n){return s(this,void 0,void 0,function(){var i,s,o,a,l;return r(this,function(r){switch(r.label){case 0:i=t.elem,s=e.slice(1),o=i.querySelector(e),a=o?o.getBoundingClientRect().top+document.documentElement.clientHeight+window.scrollY:0,r.label=1;case 1:return o?(l=null,n(o,s)?[4,u(o,a)]:[3,3]):[3,4];case 2:if(r.sent()&&(!(l=o.nextElementSibling)||n(l,s)))return[3,4];r.label=3;case 3:return o=l||o.nextElementSibling,[3,1];case 4:return[2,o]}})})}var s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):new n(function(e){e(t.value)}).then(o,a)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(s)throw new TypeError("Generator is already executing.");for(;l;)try{if(s=1,r&&(o=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],r=0}finally{s=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var s,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0});var o=n(48),a=function(t){return'<div class="article__item article__item_alignment_left article__item_slot" data-mp-el="LazyBody.block" data-lazy-block-type="rbslot" data-lazy-block-src='+t.url+"></div>"},l=function(){var t=["article__item_html","article__item_keyphrase","article__item_text"];return function(e,n){var i=e.classList;return i.contains(n)&&t.some(function(t){return i.contains(t)})}}(),c=function(){var t;return function(){if(!t){var e=document.createElement("div"),n=document.createElement("img"),i=n.style;i.width="0",i.height="0",i.visibility="hidden",i.position="absolute",n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.appendChild(n),t={elem:e,pixel:n}}return t}}(),u=function(t,e){var n=t.getBoundingClientRect(),i=n.bottom,s=n.left;return i+window.scrollY<e?Promise.resolve(!1):new Promise(function(e){var n=c();h(n.elem,t),window.requestAnimationFrame(function(){var t=n.pixel.getBoundingClientRect().left;n.elem.parentNode&&n.elem.parentNode.removeChild(n.elem),e(s===t)})})},h=function(t,e){var n=e.parentNode;t&&n&&(e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t))};e.contentroll={params:{checkForProperTarget:l,selArticleItem:".article__item",template:a},init:function(t){var e=this.options,n=e.types.contentroll.params,s=n.selArticleItem,r=n.template,a=n.checkForProperTarget;return i(t,s,a).then(function(n){if(n){var i=void 0;try{i=JSON.parse(t.elem.getAttribute(e.attrs.json)||"")}catch(t){console.error(t),i={}}return Promise.resolve(r(i.contentroll)).then(function(t){return{html:t,target:n}})}return Promise.resolve({html:"",target:n})}).then(function(t){var e=t.target,n=t.html;if(e&&n){var i=document.createElement("div");return i.innerHTML=n,h(i.firstChild,e),!0}return!1}).then(function(e){if(e){var n={bubbles:!0};o.triggerCustomEvent("lazyItemReset",t.elem,n)}return t})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(146),s=function(t){var e=this.options.types.embed.options;return t.triggerZoneEnter||i.activateEmbeds([t.elem],e)[0]};e.embed={triggerZoneEnter:s,viewportEnter:s}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){if(t&&t.length){t.forEach(function(t){t in h&&h[t]()});var e=function(){return c.triggerResize()};window.requestAnimationFrame(e),setTimeout(e,2e3)}}function r(t,e,n){return new Promise(function(i,s){var r=n.loadCheckers,o=n.closestParent?c.getClosestParent(t,n.closestParent):t.parentNode;setTimeout(function(){var t=r[e]||c.isIframe,n={element:o,type:e};t(o)?i(n):s(n)},n.loadTimeout)})}function o(t){void 0===t&&(t={}),Object.assign(h,t)}function a(t,e){void 0===e&&(e={});var n=[],i=[],o=l.deepMerge({},u.default,e),a=o.checkRawItems||{};return t.forEach(function(t){var e=t.getAttribute("data-type")||"";if(a[e]&&!1===a[e](t,e))return void i.push(Promise.reject(null));var s=document.createDocumentFragment(),l=[],u=document.createElement("div");u.innerHTML=t.value.replace(/__text_area__/g,"textarea"),Array.prototype.slice.call(u.children).forEach(function(t){var e;"SCRIPT"===t.tagName?t.src?c.loadScript(t.src):(e=document.createElement("script"),e.type="text/javascript","textContent"in e&&(e.textContent=t.textContent),l.push(e)):s.appendChild(t)}),-1===n.indexOf(e)&&n.push(e),i.push(r(t,e,o).catch(function(t){})),c.replaceElement(t,s),l.length&&l.forEach(function(t){document.head.appendChild(t)}),window.requestAnimationFrame(function(){return c.triggerResize(s.childNodes[0])})}),window.requestAnimationFrame(s.bind(this,n)),i}Object.defineProperty(e,"__esModule",{value:!0});var l=n(2),c=n(147),u=n(148),h={instagram:function(t){"object"==("undefined"==typeof instgrm?"undefined":i(instgrm))&&instgrm.Embeds&&instgrm.Embeds.process(t)},facebook:function(t){"object"==("undefined"==typeof FB?"undefined":i(FB))&&FB.XFBML&&FB.XFBML.parse(t)},twitter:function(t){"object"==("undefined"==typeof twttr?"undefined":i(twttr))&&twttr.widgets&&twttr.widgets.load(t)}};e.addInitializers=o,e.activateEmbeds=a},function(t,e,n){"use strict";function i(t){void 0===t&&(t=window);var e=document.createEvent("HTMLEvents");e.initEvent(t==window?"resize":"documentHeightChange",!0,!1),t.dispatchEvent(e)}function s(t){return!!t&&("IFRAME"==t.tagName||!!t.querySelector("iframe"))}function r(t){if(t=t.split("?")[0],-1===l.indexOf(t)){l.push(t);var e=document.createElement("script");e.type="text/javascript",e.setAttribute("defer","defer"),e.src=t+"?"+(Math.random()+"").split(".")[1],document.head.appendChild(e)}}function o(t,e){var n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))}function a(t,e){for(;t;){if(t.classList.contains(e))return t;if(t==document.body)return null;t=t.parentNode}return null}Object.defineProperty(e,"__esModule",{value:!0});var l=[];e.triggerResize=i,e.isIframe=s,e.loadScript=r,e.replaceElement=o,e.getClosestParent=a},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return"object"!=("undefined"==typeof Modernizr?"undefined":i(Modernizr))||("boolean"!=typeof Modernizr[t]||Modernizr[t])},r=function(){return s("webaudio")};e.default={loadTimeout:5e3,closestParent:null,checkRawItems:{soundcloud:r},loadCheckers:{various:function(){return!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(32),s=function(t){return t.triggerZoneEnter?t.triggerZoneEnter:i.preloadImage(t.elem.getAttribute(this.options.attrs.src)).then(function(e){var n=t.elem;return n.src!==e.src&&(n.src=e.src),t})};e.img={triggerZoneEnter:s,viewportEnter:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){void 0===t&&(t=[]);var e=document.createDocumentFragment();t.forEach(function(t){var n=document.createElement("script");n.type="text/javascript","textContent"in t&&(n.textContent=t.textContent,e.appendChild(n))}),document.body.appendChild(e)};e.rbslot={triggerZoneEnter:function(t){var e=t.elem,n=e.getAttribute(this.options.attrs.src),s={credentials:"include",mode:"cors"};return(n?fetch(n,s).then(function(t){return t.json()}).then(function(t){void 0===t&&(t=[]);var n=t[0]&&t[0].html;if(n){e.innerHTML=n;var s=Array.from(e.querySelectorAll("script")).filter(function(t){return!t.src});i(s)}}):Promise.resolve()).then(function(){return t})}}},function(t,e,n){"use strict";function i(){return document.body}function s(t){var e={top:0,left:0};return t!==document.body&&t?(e.top=t.scrollTop,e.left=t.scrollLeft):(e.top=window.pageYOffset||a.scrollTop||i().scrollTop,e.left=window.pageXOffset||a.scrollLeft||i().scrollLeft),e}function r(t,e){if(t){var n=i();isNaN(t.top)||(e&&e!==n?e.scrollTop=t.top:a.scrollTop=n.scrollTop=t.top),isNaN(t.left)||(e&&e!==n?e.scrollLeft=t.left:a.scrollLeft=n.scrollLeft=t.left)}}function o(t){var e=t.getBoundingClientRect();return{height:e.height||t.offsetHeight,left:e.left,top:e.top,width:e.width||t.offsetWidth}}Object.defineProperty(e,"__esModule",{value:!0});var a=document.documentElement;e.getScroll=s,e.setScroll=r,e.getRect=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="lazyBlock_",s=0,r=function(){function t(t,e){this.width=0,this.height=0,this.xPercent=0,this.yPercent=0,this.handlingMovesInViewport=!1,this.isImmortal=!1,this.elem=t,this.state=0,this._id=i+s++,this.type=t.getAttribute(e.attrs.type)||""}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t}();e.LazyBlock=r},function(t,e){!function(t,e){"use strict";var n=e.Basic,i=e.Instances&&e.Instances.stateObject,s=n.Extend,r=n.typeOf,o={startTab:0,atLeastOne:!0,watchHashBang:!1,useStringTabId:!1,hashKey:"tab"},a=n.getModel({_Events:["tabChange"],_Init:function(){var t,e=this._Opts,n=e.startTab;this._State={currentTab:n},e.atLeastOne&&(e.watchHashBang&&(t=i.State()[e.hashKey])&&(n=t),e.useStringTabId||(n=parseInt(n,10),n=isNaN(n)?0:n),this.currentTab(n))},currentTab:function(t){var e=this._State,n=e.currentTab;if(!r(t,"undefined")){var i=this._opts.useStringTabId;if(!(!i&&!isNaN(t)&&t>=0||i&&t&&"string"==typeof t))throw new TypeError("First argument must be a "+(i?"string":"positive integer."));e.currentTab=n=t,this._trigger("tabChange",t)}return n},_updateUrlHash:function(){var t=this._Opts,e=t.hashKey,n=i.State(e);this._opts.useStringTabId||(n=parseInt(n,10));var s=this._State.currentTab;s!==n&&t.watchHashBang&&i.setStateKey(e,s,!1,!0)}},o,null,"Tabs");s(t.getNameSpace("Modules",e),{Tabs:a})}(window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(t,e){return t&&e&&e.filter(["[",t,"]"].join("")).length===e.length}function s(t,e,n){return~t.getAttribute(this._opts.attrs.tabIndex).split(",").indexOf(n.toString())}function r(t){return t&&t.length?this._mode.buttonsByAttr?t.attr(this._opts.attrs.buttonIndex):this._Elems.Buttons.index(t):null}var o=n.Basic,a={cssSels:{buttonAliases:".js-tab__btn-aliases",Main:{Buttons:".js-tab__btn",Tabs:".js-tab__content"},disabledBtn:null},cssClss:{disabledBtn:"",curTab:"",curBtn:""},attrs:{tabIndex:"data-tab",buttonIndex:"data-tab"},filterTabFunc:null,startTabByDOM:!1,disabledBtnClickable:!1,curBtnClickable:!1},l=o.getView({_Events:["beforeTabHide","beforeTabShow","tabShow"],_Handlers:{dom:{"click:Main.Buttons":"_onBtnClick","click:buttonAliases":"_onBtnClick"},model:{tabChange:"_onTabChange"}},_onBtnClick:function(e){var n=this._Opts,i=this._Model,s=t(e.currentTarget);if(n.cssClss.disabledBtn&&s.hasClass(n.cssClss.disabledBtn))return void(n.disabledBtnClickable||e.preventDefault());var o=r.call(this,s),a=s.hasClass(n.cssClss.curBtn);-1===o||a||o===i.currentTab()||i.currentTab(o),a&&n.curBtnClickable||e.preventDefault()},_Init:function(){var t=this._Opts,e=t.attrs,n=this._Model.currentTab(),r=this._Elems.Tabs,o=this._Elems.Buttons;if(r&&r.length){if(this._mode={tabsByAttr:!t.filterTabFunc&&i(e.tabIndex,r),buttonsByAttr:i(e.buttonIndex,o)},this._mode.tabsByAttr||t.filterTabFunc){var a=t.filterTabFunc||s,l=this;this._mode.filterTabFunc=function(t){var e=this,n=l._model.currentTab();return a.call(l,e,t,n)}}null!=n?this._onTabChange(n):this._opts.startTabByDOM&&o&&this.updateButtonsByDOM()}},updateButtonsByDOM:function(){var t=this._Opts,e=this._Elems.Buttons,n=r.call(this,e.filter("."+t.cssClss.curBtn+":first"));null!=n&&this._Model.currentTab(n)},updateTabs:function(){var t=this._model.currentTab(),e=this._Opts,n=e.cssClss,i=n.curTab,s=this._Elems,r=s.Tabs,o=this._mode.filterTabFunc?r.filter(this._mode.filterTabFunc):r.eq(t);this._trigger("beforeTabHide",o,t),r.removeClass(i),this._trigger("beforeTabShow",o,t),o.addClass(i),this._curTab=t,this._trigger("tabShow",o,t)},_onTabChange:function(t){var e,n=this._Opts,i=n.cssClss,s=this._Elems,r=s.Buttons;if(this.updateTabs(),r&&r.length){e=i.curBtn,r.removeClass(e);(this._mode.buttonsByAttr?r.filter(["[",n.attrs.buttonIndex,'="',t,'"]'].join("")):r.removeClass(e).eq(t)).addClass(e)}},getTabsCount:function(){var t=this._Elems.Tabs,e=t.length,n=this._Opts.attrs.tabIndex;return this._mode.tabsByAttr&&(e=t.toArray().reduce(function(t,e){var i=e.getAttribute(n);return-1===t.indexOf(i)&&t.push(i),t},[]).length),e}},a,null,"TabsView");o.moduleOpts.setParams("TabsView",{acceptTypes:"Tabs"}),o.Extend(!0,n,{Modules:{TabsView:l}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.Extend,s=n.Basic.typeOf,r=n.Basic.getModel,o=n.Modules.Tabs,a={dataType:"json",transport:function(e,n){return Promise.resolve(t.ajax(i({url:e},n)))}},l={};l.AsyncTabs=r({_Events:["loadStart","loadComplete","loadError"],_Init:function(){if(!s(this._Opts.transport,"function"))throw new TypeError('"transport" option must refer to a function');i(this._State,{tabsLoading:[]}),this._tabUrls=[]},registerTabs:function(t){var e=this._tabUrls,n=this._State.currentTab,i=this._State.tabsLoading[n],r=null===i||s(i,"undefined");this._tabUrls=t.map(function(t,n){return s(t,"undefined")?e[n]:t}),r&&n in this._tabUrls&&this.currentTab(n)},currentTab:function(t){var e,n=this._Opts,i=this._tabUrls,r=this._State.tabsLoading,a=o.prototype.currentTab.call(this,t),l=r&&r[a];return!s(t,"undefined")&&r&&Array.isArray(i)&&!l&&(e=i&&i[a],e?(this._trigger("loadStart",a),r[a]=n.transport(e,{dataType:this._Opts.dataType}),r[a].then(this._onLoadComplete.bind(this,a),this._onLoadError.bind(this,a))):r[a]=null),a},_onLoadComplete:function(t,e){this._State.tabsLoading[t]=!0,this._trigger("loadComplete",t,e)},_onLoadError:function(t){this._State.tabsLoading[t]=!1,this._trigger("loadError",t)}},a,o,"AsyncTabs"),i(n.Modules,l)}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(t){return t}function s(t){return t}var r=!!e.DEBUG,o=n.Basic.typeOf,a=n.Basic.Extend,l=n.Basic.Constructors.getView,c=n.Basic.moduleOpts.setParams,u=n.Modules.TabsView,h={cssClss:{tabLoad:"loading",tabLoadError:"error"},Attrs:{tabUrl:"data-url"},template:null,prepareData:null,prepareTemplateParams:null,templateParams:{}},p={load:"tabLoad",done:null,error:"tabLoadError"},d=function(t){return a({},{server:(this._Opts.prepareData||i).call(this,t)},{template:(this._Opts.prepareTemplateParams||i).call(this,this._Opts.templateParams)})},f=function(t,e){var n=this._Elems.Tabs.eq(t),i=this._Opts.cssClss;if(!n||!n.length)return null;for(var s in p)if(p.hasOwnProperty(s)){var r=p[s];r&&n.toggleClass(i[r],s===e)}return n},m=l({_Events:["templateComplete"],_Handlers:{model:{loadStart:"_onLoadStart",loadComplete:"_onLoadComplete",loadError:"_onLoadError"}},_Init:function(){var t=this._Opts.Attrs.tabUrl,n=this._Elems.Buttons;if(!n||!n.length)return void(r&&e.console.warn("CPF: no buttons found in AsyncTabsView"));var i=n.toArray().map(function(e){return e.getAttribute(t)});this._Model.registerTabs(i)},_onLoadComplete:function(t,e){var n=f.call(this,t,"done");if(n){var i=this._Opts.template;if(o(i,"function")){var r=d.call(this,e);Promise.resolve(i).then(function(){n.html(i(r)),this._trigger("templateComplete",n,t,r)}.bind(this))}else n.html(s(e)),this._trigger("templateComplete",n,t,e)}},_onLoadStart:function(t){f.call(this,t,"load")},_onLoadError:function(t){f.call(this,t,"error")}},h,u,"AsyncTabsView");c("AsyncTabsView",{acceptTypes:"AsyncTabs"}),a(!0,n,{Modules:{AsyncTabsView:m}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e,n){!function(t,e,i){"use strict";function s(t,e){t.forEach(function(t){t.status&&t.value&&t.value.data.list.forEach(function(t){e[t.original_url]=!0}),s(t.deps,e)})}function r(t,e){var n=this,i={};return s(e,i),n.opts.sdkParams.skipURLs=Object.keys(i),new Promise(function(e,i){t.get(n.cid,n.opts.sdkParams,function(t,n){e({data:t,callback:n})},i)})}function o(t,e){var n=e.data,i=e.callback;if(!(n&&n._id&&n.list&&n.list.length))return void a.call(this,t);var s=this._state.slots[t];s.loading=!1,s.data=n,s.callback=i,l.call(this,[t])}function a(t){var e=this._state.slots[t];e.loading=!1,e.error=!0;var n=this._opts,i=this._state;i.errorNotifyOnceCalled||(i.errorNotifyOnceCalled=!0,c(n.errorNotifyOnce),this._trigger("errorOnce")),c(n.errorNotify),this._trigger("error"),l.call(this,[t])}function l(t){for(var e={},n=0;n<t.length;++n){var i=this._state.slots[t[n]];i&&(e[t[n]]=i)}this._trigger("data",e)}function c(t){return t&&("function"==typeof t?t():u(t)),!!t}function u(t){(new Image).src="//rs.mail.ru/d"+t+".gif?r="+Math.round(1e11*Math.random())}var h=n(158),p=h(),d={errorNotify:null,errorNotifyOnce:null},f=null,m=i.Basic.getModel({_Events:["data","error","errorOnce"],_Init:function(){if(f)return f;f=this,this._state={slots:{},errorNotifyOnceCalled:!1}},requestContent:function(t,n,i){var s=this._state.slots[t];if(s){if(s.loading)return;if(!(i="all"===i||"error"===i&&s.error))return void l.call(this,[t])}else s=this._state.slots[t]={};s.loading=!0,s.error=null,s.data=null,s.callback=null,g(e.mwManager.getUID()).then(function(e){p.run(n.tplName,n.opts.skipUrlsFrom,r.bind(n,e)).then(o.bind(this,t),a.bind(this,t))}.bind(this))}},d,null,"MyWidgetModel");i.Basic.Extend(!0,e.getNameSpace("Modules",i),{MyWidgetModel:m});var g=function(){function t(t,n,i){var s="my-widget-script",r=document.getElementById(s);r||(r=document.createElement("script"),r.src="https://likemore-go.imgsmail.ru/widget.js",r.id=s,r.setAttribute("data-uid",t),document.head.appendChild(r)),r.addEventListener("load",function(){n(e.myWidget)}),r.addEventListener("error",i)}var n=null;return function(i){return n||(n=e.myWidget?Promise.resolve(e.myWidget):new Promise(t.bind(null,i))),n}}()}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){var n=function(){function t(t,e){if(t===e)return!1;for(var n=e.r.id,i=0;i<t.srcDeps.length;++i){var s=t.srcDeps[i];if(s)if("."!==s.charAt(s.length-1)){if(s===n)return!0}else if(0===(n+".").indexOf(s))return!0}return!1}function e(t){return this.r.value=t,this.r.status=!0,this.r}function n(t){return this.r.error=t,this.r.status=!1,this.r}function i(t){(0,this.func)(t).then(this.resolve,this.reject),this.func=null}function s(){this._items=[],this._arch=[],this._run=this._run.bind(this),this._task=null}return s.prototype._run=function(){this._task=null;var e,n;for(e=0;e<this._items.length;++e){var s=[],r=this._items[e];for(n=0;n<this._arch.length;++n)t(r,this._arch[n])&&(r.r.deps.push(this._arch[n].r),s.push(this._arch[n].promise));for(n=0;n<this._items.length;++n)t(r,this._items[n])&&(r.r.deps.push(this._items[n].r),s.push(this._items[n].promise));Promise.all(s).then(i.bind(r))}this._arch.push.apply(this._arch,this._items),this._items.length=0},s.prototype.run=function(t,i,s){"function"==typeof i&&(s=i,i=null);var r,o={r:{id:t,deps:[]}};return i&&i.length?(this._task=this._task||Promise.resolve().then(this._run),this._items.push(o),o.srcDeps=i,o.func=s,r=new Promise(function(t,e){o.resolve=t,o.reject=e})):(r=s([]),this._arch.push(o)),o.promise=r.then(e.bind(o),n.bind(o)),r},function(){return new s}}();t.exports=n},function(t,e){!function(t,e,n){"use strict";function i(t){var e=t[this._state.id];!this._state.loaded&&e&&(this._state.loaded=!0,e.data&&s.call(this,e.data,e.callback))}function s(t,e){var n=this._state,i=n.templateData,s=n.config.opts.templateData,r=this._trigger;s&&("function"==typeof s&&(s=s.call(this,t)),i=o(!0,s,n.templateData)),Promise.resolve(n.template).then(function(s){n.container.html(s({data:t,templateData:i})),r("render"),e()})}var r=n.Basic.moduleOpts.setParams,o=n.Basic.Extend,a={cssSels:{Main:{container:null}},cssClss:{loaded:null,empty:null},inst:null,canReload:"",template:null,sdkParams:null},l=n.Basic.getView({_Handlers:{model:{data:i}},_Events:["render"],_Init:function(t){var i=this._opts,s=e.mwManager;if(!i.inst)throw new Error("MyWidgetView: –Ω–µ —É–∫–∞–∑–∞–Ω inst");var r=s.getInstData(i.inst);if(r.opts.template=i.template||r.opts.template,i.sdkParams&&o(!0,r.opts.sdkParams,i.sdkParams),this._state={id:c(),config:r,loading:!1,loaded:!1,templateData:t||{}},this._state.container=this._elems.container&&this._elems.container.length?this._elems.container:this._elems.parent,this._state.template=n.Basic.typeOf(r.opts.template,"function")?r.opts.template.bind(this):n.Tools.getTemplate(r.opts.template),"function"!=typeof this._state.template)throw new TypeError("MyWidgetView: –Ω–µ –∑–∞–¥–∞–Ω —à–∞–±–ª–æ–Ω –¥–ª—è inst="+i.inst);this.reload()},reload:function(){var t=this._state;t.loaded=!1,this._model.requestContent(t.id,t.config,this._opts.canReload)}},a,null,"MyWidgetView");r("MyWidgetView",{acceptTypes:"MyWidgetModel",paramAttrs:{inst:"data-inst"}}),n.Basic.Extend(!0,e.getNameSpace("Modules",n),{MyWidgetView:l});var c=function(){var t=0;return function(){return(++t).toString(16)}}()}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){document.querySelector("#".concat(t.container))&&n.e(0).then(n.bind(null,213)).then(function(e){(0,e.VideoFooterRender)(t)})}},,,,,,function(t,e){!function(t,e,n,i){"use strict";var s=n.Basic,r=n.Tools,o=n.Mixins,a=r.Auth,l=r.PubSub,c=r.jQuery.showLoginPopup,u=n.Types.String.getPlural,h=s.moduleOpts.setParams,p=s.getByPath,d="mail.ru"!==document.domain.split(".").slice(-2).join(".")?"https://portal.devmail.ru/NaviData":"https://portal.mail.ru/NaviData",f={cssSels:{Main:{comment:".js-payments__comments",lock:".js-payments__comments-lock"},serverTime:"body",avatar:".js-payments__avatar",blocks:".js-payments__comments-block",checkButton:".js-payments__check-btn",popupButton:".js-payments__popup-btn",info:{block:".js-payments__userinfo",name:".js-payments__userinfo-name",pay:".js-payments__userinfo-pay"}},cssClss:{toggleActive:"toggle__item_active",toggleAuth:"",noAuth:"p-payment-comments_unauthorized",toggleSubscribe:"p-payment-comments_unsubscribed",loading:"p-payment-comments_loading",hidden:"hidden"},attrs:{serverTime:"data-now",blockType:"data-block-type"},types:{noauth:"noauth",unsubscribe:"unsubscribe",subscribe:"subscribe"},templates:{payDate:{prefix:"",plural:["–¥–µ–Ω—å","–¥–Ω—è","–¥–Ω–µ–π"]}},urls:{currentUserInfo:null,subscribeInfo:d},texts:{banned:"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –í—ã –±—ã–ª–∏ –∑–∞–±–∞–Ω–µ–Ω—ã –∏ –Ω–µ –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º"}};n.Basic.Constructors.getView(function(){function e(t,e,n){t&&t.length&&e&&(n=void 0===n?t.hasClass(e):!!n,t.toggleClass(e,n))}function n(){var t=this._opts,e=this._elems.serverTime,n=null;return e.length&&(n=parseInt(e.attr(t.attrs.serverTime),10)),n||Math.floor(Date.now()/1e3)}function s(n){var i=this._opts,s=this._elems,r=i.cssClss.toggleActive,o=i.types[n];o&&(s.blocks||(s.blocks=s.parent.find(i.cssSels.blocks)),[].forEach.call(s.blocks,function(n){var s=t(n),a=s.attr(i.attrs.blockType);e(s,r,a===o)}))}function r(n){var s=this._elems,r=this._opts;i?i.getItems(function(t){var e=p("toolbar.itemsByName.avatarBlock",t);e&&e[n?"show":"hide"]()}):(s.avatar=t(r.cssSels.avatar),e(s.avatar,r.cssClss.hidden,!n))}function h(){var e=this._state.userInfo,n=this._opts,i=n.cssSels.info,s=n.cssClss.hidden,r=d.call(this),o=e.nick,a=t(i.block)||[];[].forEach.call(a,function(e){var n=t(e),a=n.find(i.name).text(o),l=n.find(i.pay).text(r);(a&&a.length||l&&l.length&&r)&&(n.removeClass(s),this._trigger("payed"))}.bind(this))}function d(){var t=this._opts,e=this._state,n=t.templates.payDate,i=e.time,s=e.subscribeTime,r=Math.ceil((s-i)/86400);return r>0&&[n.prefix,r,u(r,n.plural)].join(" ")||null}function f(){var t=this._opts,e=this._state,n=t.urls;return e.promiseUserInfo||(e.promiseUserInfo=this.transport({url:n.currentUserInfo}).then(_.bind(this))),e.promiseUserInfo}function m(){var t=this._opts,n=this._elems,i=this._state,o=t.cssClss,a=t.urls;e(n.comment,o.toggleAuth,i.isAuth),i.isAuth?this.transport({dataType:"jsonp",url:a.subscribeInfo,data:{News:1}}).then(g.bind(this)):(s.call(this,"noauth"),r.call(this,!1),e(n.comment,o.loading,!1),e(n.comment,o.noAuth,!0))}function g(t){var n=this._elems,i=this._opts,o=i.cssClss,a=this._state,l=n.lock;if("ok"===t.status){var c=t.data||{},u=a.subscribeTime=c.news_ts,h=a.isSubscribed=!!(u&&a.time<u);r.call(this,!!u),e(n.comment,o.toggleSubscribe,!h),s.call(this,h?"subscribe":"unsubscribe"),h&&(l&&l.length&&l.removeClass(o.hidden),f.call(this)),this._trigger("update",h,u)}"noauth"===t.status&&e(n.comment,o.noAuth,!0),e(n.comment,o.loading,!1)}function _(t){var e=this._state;e.userData=t.status?p("user_info",t):{},e.userInfo=t.status?p("user",e.userData):{},e.isBanned=!!e.userInfo.is_banned,h.call(this)}function v(e){e=!e||"data"in e&&"options"in e?null:e;var n=this._state;return void 0!==n.isAuth&&void 0!==n.isSubscribed||e&&e.preventDefault(),n.isAuth?void 0===n.isBanned?(e&&(e.preventDefault(),e.stopPropagation()),void f.call(this).then(function(){e?t(e.currentTarget).trigger("click"):v.call(this)}.bind(this))):n.isBanned&&!n.isSubscribed?(e&&(e.preventDefault(),e.stopPropagation()),void this._trigger("banned")):void(n.isSubscribed||(e&&(e.preventDefault(),e.stopPropagation()),l.publish("comments.payment.popup.show"))):(e&&e.preventDefault(),void c())}function w(){if(void 0===this._state.userData)return void f.call(this).then(function(){h.call(this)}.bind(this));h.call(this)}function y(){l.publish("comments.payment.status",this._state.isSubscribed)}function b(){var t=this._state.userData;if(void 0===t)return void f.call(this).then(function(){l.publish("comments.payment.user-data",this._state.userData)}.bind(this));l.publish("comments.payment.user-data",t)}function S(){if(void 0===this._state.userData)return void f.call(this).then(function(){l.publish("comments.payment.ban-status",this._state.isBanned)}.bind(this));l.publish("comments.payment.ban-status",this._state.isBanned)}return{_mixins:[o.transport],_Events:["auth","update","banned","payed"],_Handlers:{dom:{"click:checkButton":v},pubsub:{"comments.payment.check":v,"comments.payment.update":m,"comments.payment.get-status":y,"comments.payment.get-user-data":b,"comments.payment.get-ban-status":S,"comments.payment.get-user-info-redraw":w}},_Init:function(){this._elems.serverTime=t(this._opts.cssSels.serverTime);var e=this._state={loaded:!1,time:n.call(this),subscribeTime:null};a.onGetStatus(function(t){e.isAuth=!!t,e.loaded=!0,this._trigger("auth",e.isAuth),m.call(this)}.bind(this))}}}(),f,null,"PaymentCheck"),h("PaymentCheck",{paramAttrs:{urls:{currentUserInfo:"data-current-user-info-url"}}})}(window.jQuery||window.$,window,window.ru.mail.cpf,window.__PM)},,,,,,,,,,,,,,,,,,,,function(t,e){!function(t,e,n){"use strict";function i(){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!0),e.dispatchEvent(t)}var s=n.Tools.Layout,r=n.Basic.debounce,o={cssSels:{lazy:".js-lazy",Main:{viewport:null,content:null}},cssClss:{lazy:"js-lazy",pending:"js-lazy-pending",complete:"js-lazy-complete"},srcAttr:"data-src",handlerAttr:"data-lazy-handlers",precede:0,immediate:!1,lazyHandlers:{preload:{},display:{}}},a={_Init:function(){var t=this._elems;this._viewport=t.viewport?t.viewport.get(0):document.body,this._content=t.content?t.content.get(0):this._viewport,this._state={},this.setDirty=r(this.setDirty.bind(this),30),this.onScroll=this.onScroll.bind(this),this.init.apply(this,arguments)},init:function(){var n=this._elems.viewport;this.setDirty(),n&&n.length&&n.on("scroll",this.onScroll),t(e).on("scroll",this.onScroll).on("resize",this.setDirty)},VIEW_STATE:{out:0,precedeEnter:1,precedeMove:2,precedeLeave:3,viewportEnter:4,viewportMove:8,viewportLeave:12},destroy:function(){t(e).off("scroll",this.onScroll).off("resize",this.setDirty),delete this._state},_requestAF:function(t){this._pendingAF||(e.requestAnimationFrame(function(){t.apply(this),this._pendingAF=!1}.bind(this)),this._pendingAF=!0)},onScroll:function(){this._state.dirty&&this._recalcLazyElems(),this._requestAF(this._checkLazyElems)},getScroll:function(){return s.getScroll(this._viewport)},setDirty:function(){var t=this._opts.cssSels,n=this._state,i=this._content,r=this._elems.parent,o=e.innerWidth,a=e.innerHeight,l=this._opts.precede,c=this._viewport,u=c===document.body?{top:0,left:0,width:o,height:a}:s.getClientRect(c);n.dirty=!0,n.winWidth=o,n.winHeight=a,n.metrics=[],n.lazyElems=r.find(t.lazy).get(),n.vpRect=u,u.scrollWidth=i.scrollWidth,u.scrollHeight=i.scrollHeight,u.precedWidth=l*u.width,u.precedHeight=l*u.height,this._recalcLazyElems(),e.clearTimeout(this._invTm),this._invTm=e.setTimeout(this.setDirty.bind(this),3e5)},_recalcLazyElems:function(){var n=this._state,i=n.vpRect,r=this.getScroll(),o=n.lazyElems.splice(0,50);e.clearTimeout(this._recalcTm),n.lazyElems.length?this._recalcTm=e.setTimeout(this._recalcLazyElems.bind(this),30):n.dirty=!1,o=o.map(function(e){var n=s.getClientRect(e),o=n.left-i.left,a=o+n.width,l=n.top-i.top,c=l+n.height;return n.widthIn=o-i.width+r.left,n.widthOut=a+r.left,n.heightIn=l-i.height+r.top,n.heightOut=c+r.top,n.state=0,n.elem=t(e),n}),n.metrics=n.metrics.concat(o),this._requestAF(this._checkLazyElems)},_checkLazyElems:function(){var t=this._state,e=t.vpRect,n=this.getScroll(),i=this._getOutdent();t.metrics=t.metrics&&t.metrics.filter(function(t){var s=this.VIEW_STATE,r={};if(t.width||t.height){var o=t.widthIn-i.right,a=t.widthOut+i.left,l=t.heightIn-i.bottom,c=t.heightOut+i.top,u=n.left>=o&&n.left<=a&&n.top>=l&&n.top<=c,h=u||n.left+e.precedWidth>=o&&n.left-e.precedWidth<=a&&n.top+e.precedHeight>=l&&n.top-e.precedHeight<=c;if((u||h&&a!==o&&c!==l)&&(r.x=(n.left-o)/(a-o),r.y=(n.top-l)/(c-l),r.x=Math.max(0,Math.min(1,r.x)),r.y=Math.max(0,Math.min(1,r.y))),u){var p=t.state&s.precedeMove||t.state&s.precedeEnter;return t.state=t.state&s.viewportEnter?s.viewportMove:s.viewportEnter,p&&(t.state=t.state|s.precedeLeave),p?this.precedeLeave(t)&&this.display(t,r):this.display(t,r)}if(h){var d=t.state&s.viewportMove||t.state&s.viewportEnter,f=this._opts.immediate?this.display.bind(this):this.preload.bind(this);return t.state=t.state&s.precedeEnter?s.precedeMove:s.precedeEnter,d&&(t.state=t.state|s.viewportLeave),d?this.viewportLeave(t)&&f(t,r):f(t,r)}if(t.state&s.precedeMove)return t.state=s.precedeLeave,this.precedeLeave(t)}return t.state=s.out,!0},this)},precedeLeave:function(){return!0},viewportLeave:function(){return!0},_getOutdent:function(){var t,e=this._state,n={left:0,right:0,top:0,bottom:0};return this._viewport!==document.body&&(t=s.getClientRect(this._viewport),n={left:Math.min(0,t.left),right:Math.min(0,e.winWidth-t.left-t.width),top:Math.min(0,t.top),bottom:Math.min(0,e.winHeight-t.top-t.height)}),n},preload:function(t){var e,n,i=this._opts,s=i.srcAttr,r=i.cssClss,o=t.elem,a=o.attr(i.handlerAttr),l=i.lazyHandlers.preload,c=o.get(0).tagName;return!!o.hasClass(r.pending)||(o.addClass(r.pending),a&&a in l?l[a].call(this,t):"IMG"===c&&(e=o.attr(s))&&(n=new Image,n.src=e),!0)},display:function(t){var e,n=this._opts,i=n.srcAttr,s=t.elem,r=s.attr(n.handlerAttr),o=n.lazyHandlers.display,a=s.get(0).tagName;r&&r in o?o[r].call(this,t):"IMG"===a&&(e=s.attr(i))&&s.attr("src",e).removeAttr(i).one("load error",this.done(t))},done:function(t){var e=this._opts.cssClss;return function(){t.elem.addClass(e.complete).removeClass(e.pending).removeClass(e.lazy),this._checkElemSize(t)}.bind(this)},_checkVPSize:function(){var t=this._state.vpRect,e=this._viewport,n=e.scrollWidth-e.offsetWidth,s=e.scrollHeight-e.offsetHeight;n===t.scrollWidth&&s===t.scrollHeight||i()},_checkElemSize:function(t){var e=s.getClientRect(t.elem);e.width===t.width&&e.height===t.height||i()}};n.Basic.Extend(!0,n,{Modules:{LazyLoad:n.Basic.Constructors.getView(a,o,null,"LazyLoad")}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i={cssSels:{lazy:".js-lazy-init"},cssClss:{lazy:"js-lazy-init"},precede:.2,immediate:!1},s={display:function(t){var e=this._opts.cssClss;t.elem.hasClass(e.lazy)&&(t.elem.removeClass(e.lazy).removeClass(e.pending),n.Tools.initModules(t.elem))}};n.Basic.Constructors.addPlugin("LazyLoad",s,i,"Init")}(window.jQuery||window.$,window,window.ru.mail.cpf)},,,,,,,,,,,,,,,,,,function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e,i){"use strict";var s=e.Basic,r=t.getNameSpace,o=s.getByPath,a=s.Extend,l=s.typeOf,c=t.localStorage,u=!1;if(c){var h="_"+Math.random();try{c.setItem(h,"_"),c.removeItem(h),u=!0}catch(t){}}var p={root:null,defaultKeySuffix:"storage"},d=s.Constructors.getModel(function(){function e(t){return"object"!==n(t)?t:l(t,"array")?a(!0,{},{clone:t}).clone:a(!0,{},t)}function i(t){var e=t.lastIndexOf(".");return-1===e?{child:t}:{parent:t.substr(0,e),child:t.substr(e+1)}}function s(){c.setItem(this._root,JSON.stringify(this._storage))}function h(e){var n=t.location.host.split(".").reverse();return e&&n.push(e),n.join(".")}return{_Init:function(){var e=this._opts.root;e||(e=h(this._opts.defaultKeySuffix),t.DEBUG&&t.console.error("–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ localStorage –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–ª—é—á "+e)),this._root=e,this._storage=JSON.parse(c.getItem(e))},supported:u,getItem:function(t){var n=this._storage;return e(n?t&&l(t,"string")?o(t,n):n:void 0)},setItem:function(t,n,o){var c,u,h,p;!1!==n?l(t,"object")?c=a(!0,this.getItem(o),t):(h=i(o),p={},p[h.child]=e(t),o=h.parent,c=a(!0,this.getItem(o),p)):c=e(t),o?(u=this._storage,l(u,"object")||(this._storage=u={}),h=i(o.toString()),h.parent?r(h.parent,u)[h.child]=c:u[h.child]=c):this._storage=u=c,s.call(this)},removeItem:function(t){if(void 0!==t){var e=this._storage,n=i(t.toString()),r=n.parent;delete(r?o(r,e):e)[n.child],s.call(this)}},clear:function(){this._storage=null,c.removeItem(this._root)}}}(),p,null,"LocalStorage");r("Tools",e).LocalStorage=d}(window,window.ru.mail.cpf)},,,,,,,,,function(t,e){!function(t){var e=t.ru.mail.cpf.Basic.Extend,n=t.fest._helpers;e(t.getNameSpace("ru.mail.news.site"),{name:"Mail.ru –ù–æ–≤–æ—Å—Ç–∏",themeColor:"#005FF9",faviconPath:"/favicon.ico?v3",manifest:"/manifest.json",ampLogo:{url:"/img/logo/logo_news_amp_v2.png",width:"60",height:"60"},ssi:{getNewsRegion:"/ctrl/func/get_news_region_ssi/$rb_eregion/"}}),e(t.getNameSpace("fest._helpers"),{getSite:function(){return function(e){var i=t.ru.mail.news.site;return n.getByPath(e,i)}}()})}(new Function("return this")())},function(t,e){!function(t){var e=t.ru.mail.cpf.Basic,n=e.Extend,i=t.fest._helpers;n(t.getNameSpace("ru.mail.news.counters"),{global:{footer:{appClick:"1280147"},galleries:{title:"1155266",item:"1155266"},extraStory:"6528448"},story:{topNews:"20384867",allNews:"20384869",map:"20384877",video:"6395001"},card:{TopmailTrack:"2677289,2677290,2677291,2677294",TopmailTrackFooter:"2677295"},index:{footer:{all:"20268428"},show:"2774813",topNews:"20268335",additionalNews:"20268353",stateNews:"20268373",rubrics:"20268392",galleries:"20268379",cards:"20268418",TopmailTrack:"2677289,2677290,2677291,2677294",TopmailTrackFooter:"2677295"},region:{topNews:"20265659",rubrics:"20265675",bottom:"20265667"},news:{head:"20266164",text:"20266176",exchange:"20266208",galleriesInner:"20265863",weather:"20385215",story:"7285300",newsbytheme:{relap:"16386644",search:"20156621"},footer:{news:"20266224",all:"20265746"},TopmailTrack:"2677289,2677290,2677291,2677294",TopmailTrackFooter:"2677295"},rubric:{galleriesInner:"20265772",footer:{news:"20265731",all:"20266036"},politics:{main:"20265693",region:"20265710",more:"20265727"},economics:{main:"20265891",region:"20265918",more:"20265952"},society:{main:"20266060",region:"20266096",more:"20266100"},incident:{main:"20266114",region:"20266129",more:"20266138"}},articleItem:{crosslink:{movie:"16768059",series:"16768135",selection:"16768140",person:"16768139",timeline:"16768191",info:"16768155",medicament:"16098952",disease:"16098941",video:"16821624",news:"16247185",match:"17031189",race:"17031190",competition:"17031191",forecast:"17285317"},image:"12757304",teaser:{infographic:"12757389",gallery:"12757294",video:"12757332",reference:"12757413",reference_t:"12757417",story:"12757424",news:"12757176"},embed:{youtube:"12757471",rutube:"12757559",coub:"12757615",facebook:"12757463",twitter:"12757446",instagram:"12757454",vimeo:"15449971",vk_post:"15449968",vk_video:"15449961",vine:"15449969",soundcloud:"15449973",deff:"15449976"},embedlist:"18828009",broadcast:"12771369",expert:"18090563",vote:"12757437",map:"12771377",ageRestriction:"14064144"}}),n(t.getNameSpace("fest._helpers"),{getCounters:function(){return function(t,n,s){var r,o=ru.mail.news.counters,a=i.getByPath(t,o),l=n||"";return e.typeOf(a,"array")?r=a.filter(function(t){return e.typeOf(t,"string")&&l+t}).join(s||","):e.typeOf(a,"string")&&(r=a&&l+a),r||null}}()})}(new Function("return this")())},,,,,,,,,,,,,,function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e,i){"use strict";function s(t,e,i,s){var r="function"==typeof t;return r&&"object"===n(e)&&!Array.isArray(e)&&"[object Arguments]"!==e.toString()&&(i=e,e=[]),new Promise(function(n){o.onGetStatus(function(o){o&&r?n(t.apply(i,e)):(s&&r&&a(),n(o))})})}var r=i.Tools,o=r.Auth,a=r.jQuery&&r.jQuery.showLoginPopup;r.applyAuth=function(t,e,n){return s(t,e,n)},r.applyAuthForce=function(t,e,n){return s(t,e,n,!0)}}(window.jQuery||window.$,window,window.ru.mail.cpf)},,,,,function(t,e){!function(t,e,n){var i=n.Basic,s=i.typeOf,r=i.Extend,o=n.Tools.Auth,a=i.Constructors,l="mail.ru"!==document.domain.split(".").slice(-2).join(".")?"https://test.senddev1.devmail.ru/subscribe/jsonp/":"https://send.mail.ru/subscribe/jsonp/",c="checkSubscriptionState",u=["subscribe","unsubscribe",c],h=e.localStorage&&"subscriptionState",p=e.localStorage&&"subscriptionUser",d={serverApi:{subscribe:l+"subscribe/",unsubscribe:l+"unsubscribe/",checkSubscriptionState:l+"is_subscribed/?multiple=1"},transport:function(e,n){var i=t.ajax({url:e,data:n,dataType:"jsonp"});return Promise.resolve(i)}},f=a.getModel(function(){function t(t,e,n,i){s(i,"string")&&i.length>0?t():this._trigger("noAuthForAction",e,n)}function n(n,s,r){var a=this._state,l=t.bind(this,n,s,r);return new Promise(function(t){o.onGetStatus(function(n){p&&!i(n)&&(e.localStorage.setItem(p,n),e.localStorage.removeItem(h),a.lists={}),t(l.apply(null,arguments))})})}function i(t){return t==e.localStorage.getItem(p)}function a(t){return this._trigger("stateUpdate",t),this._trigger("actionSuccess",t),t}function l(t,e){this._trigger("actionFail",v(t,e))}function d(t,e){var n=[t];return e&&n.push(e),n.join(".")}function f(t){return Object.keys(t).map(function(e){var n=[e];return null!==t[e]&&n.push(+t[e]),n.join("=")}).join("&")}function m(t){return t&&t.length?t.replace(/\?.*$/,"").split("&").reduce(function(t,e){e=e.split("=");var n=parseInt(e[1],10);return t[e[0]]=isNaN(n)?null:Boolean(n),t},{}):null}function g(){if(h)try{e.localStorage.setItem(h,f(this._state.lists))}catch(t){}}function _(){var t=null;return h&&(t=m(e.localStorage.getItem(h)||"")),t}function v(t,e){var n;return Array.isArray(t)||(t=[t]),(t.length>1||!e)&&(e=null,n=t.slice()),e&&(Array.isArray(e)||(e=[e]),n=e.map(function(e){return[t[0],e].join(".")})),n}function w(t){var e=[],n=[],i={};return t.forEach(function(t){t=t.split("."),e.indexOf(t[0])<0&&e.push(t[0]),t[1]&&n.push(t[1])}),i.listId=e,n.length&&(i.profileId=n),i}function y(t,e,n){var i,s=e.list_id,r=e.pid,o={};return i=null===n?0!==e.status:e.status<=1?n:t[d(s,r)],o[d(s,r)]=i,o}function b(t){return this._trigger("stateUpdate",t),t}function S(t,e){for(var n=this._state.lists,i={},s=e.length;s--;)r(!0,i,y(n,e[s],t));return r(!0,n,i),g.call(this),i}function C(t){return t.reduce(function(t,e){return s(e,"object")&&0===e.code&&(t=t.concat(e.data)),t},[])}function T(t,e,n){var i,s,o=this._Opts,a=null===t?u[2]:u[t?0:1],l=o.serverApi[a],c=this._state.requests[a],h=v(e,n),p=[];return h=h.filter(function(t){var e=t in c;return e&&p.push(c[t]),!e}),h.length&&(s=w(h),this._trigger("actionStart",h,a),i=this._transport(l,{list_id:s.listId.join(","),pid:s.profileId&&s.profileId.join(",")}),p.push(i),r(c,h.reduce(function(t,e){return t[e]=i,t},{}))),Promise.all(p).then(C)}function P(t,e,n){return T.apply(this,arguments).then(S.bind(this,t)).then(a.bind(this),l.bind(this,e,n))}function E(t,e,n){var i,s,r=this._state.lists,o=!0;if(!0!==n?(i={},s=v(t,e).filter(function(t){var e=t in r;return e&&(i[t]=r[t]),!e}),Object.keys(i).length&&b.call(this,i),s.length?(s=w(s),t=s.listId,e=s.profileId):o=!1):this._state.requests[c]={},o)return T.call(this,null,t,e).then(S.bind(this,null)).then(b.bind(this),l.bind(this,t,e))}function O(t,e){var n,i,r,o=s(e,"object"),a={};for(var l in t)if(t.hasOwnProperty(l)){if(n=t[l],i=!!o&&(e[l]||!1),null===n)n=!1===i;else if(o&&n===i)continue;r=u[!0===n?0:1],(a[r]=a[r]||[]).push(l)}return a}function I(t){for(var e,n,i=O(t,this._state.lists),s=[],o=0;o<u.length;o++)(e=i[u[o]])&&e.length&&(e=w(e),n=0===o,s.push(T.call(this,n,e.listId,e.profileId).then(S.bind(this,n))));return s.length?Promise.all(s).then(function(t){return t.unshift({}),r.apply(null,t)}).then(a.bind(this),function(){var e=w(Object.keys(t));l.call(this,e.listId,e.profileId)}.bind(this)):(this._trigger("noChangeAction"),Promise.reject())}return{_Events:["stateUpdate","actionSuccess","actionFail","noChangeAction","noAuthForAction","actionStart"],_Init:function(){var t=this._Opts;if(!s(t.transport,"function"))throw new TypeError('"transport" option must refer to a funcion');this._transport=t.transport,this._state={lists:_.call(this)||{},requests:u.reduce(function(t,e){return t[e]={},t},{})}},checkState:function(t,e,i){return n.call(this,E.bind(this,t,e,i),"stateCheck")},subscribe:function(t,e){return n.call(this,P.bind(this,!0,t,e),"stateChange")},unsubscribe:function(t,e){return n.call(this,P.bind(this,!1,t,e),"stateChange")},changeState:function(t,e,i,s){n.call(this,P.bind(this,t,e,i),s)},getSubscriptionState:function(t,e){var n=this._state.lists;return v(t,e).reduce(function(t,e){t[e]=n[e]},{})},toggleSubscription:function(t){return n.call(this,I.bind(this,t),"stateChange",t)},getStoreKey:d,getStoreKeys:v,encodeStateToStr:f,decodeStateStr:m,processStateChange:P,checkAuth:n}}(),d,null,"Subscription");i.moduleOpts.setParams("Subscription",{initializer:function(){var t;return function(){return t||(t=f.apply(null,arguments))}}()})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Tools.jQuery.showLoginPopup,s=n.Basic,r=n.Basic.Constructors.getView(function(){return{_Events:["authSubscribe"],_Handlers:{model:{noAuthForAction:function(t,e){"stateChange"===t&&i({returnPage:location.href+"#subscribe="+this._Model.encodeStateToStr(e)})},actionSuccess:function(t){var e=this._state,n=(e.subscribeByHashIds||[]).some(function(e){return!!t[e]});e.subscribeByHashIds=null,n&&this._trigger("authSubscribe",t)},actionFail:function(t){this._state.subscribeByHashIds=null}}},_Init:function(){var t,n,i=e.location.hash.split("#subscribe=")[1],s=this._Model,r=this._state={};i&&(t=s.decodeStateStr(i),n=Object.keys(t),s.checkState(n).then(function(){return r.subscribeByHashIds=n,s.toggleSubscription(t)}),e.history.replaceState&&e.history.replaceState("",document.title,e.location.pathname+e.location.search))}}}(),{},null,"SubscribeAuth");s.Extend(e.getNameSpace("Modules",n),{SubscribeAuth:r}),s.moduleOpts.setParams("SubscribeAuth",{acceptTypes:"Subscription"})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic,s=i.typeOf,r=n.Tools.Auth,o={cssSels:{Main:{email:".js-subscription_email"}},cssClss:{formHasActiveLists:"form_toggle",loading:"form_loading"},fieldNames:{listId:"list_id",profileId:"pid"},checkOnInit:!0},a=n.Basic.Constructors.getView(function(){function e(t,e){var n=e.value,i=e.name;return i&&n&&!e.disabled&&(i in t?(Array.isArray(t[i])||(t[i]=[t[i]]),t[i].push(n)):t[i]=n),t}function n(t){for(var e=[],n=t.length>>>0;n--;)e[n]=t[n];return e}function i(t,e){var n=t.split(".");return e=e||this._Opts.fieldNames,{name:e[n.length>1?"profileId":"listId"],value:n.slice(-1)[0]}}function o(s){var r=this._Opts.fieldNames,o=s.get(0),a=t(Array.prototype.slice.call(o.elements)),l=n(o.elements),c=l.reduce(e,{}),u=Object.keys(r).reduce(function(t,e){return t[e]=c[r[e]],t},{}),h=this._Model.getStoreKeys(u.listId,u.profileId).reduce(function(t,e){var n=i(e,r),s=a.filter('[name="'+n.name+'"][value="'+n.value+'"]');return t[e]="hidden"!==s.attr("type"),t},{});this._formParams={values:u,editables:h}}function a(){var t=this._Opts.fieldNames,n=this._formParams.editables,s=this._Elems.Parent.serializeArray().reduce(e,{});return Object.keys(n).reduce(function(e,r){var o,a=i(r,t),l=null;return n[r]&&(o=s[a.name],l=Array.isArray(o)?o.indexOf(a.value)>-1:o===a.value),e[r]=l,e},{})}function l(t){var e=this._formParams.values;this._Model.checkState(e.listId,e.profileId,t)}function c(t){var e,n=!1,i=!1;return s(t,"object")&&(e=t,t=Object.keys(e)),Object.keys(this._formParams.editables).forEach(function(s){n=n||t.indexOf(s)>-1,i=i||e&&!0===e[s]}),{contains:n,hasSubscribed:i}}return{_Handlers:{model:{stateUpdate:function(t){var e=this._Opts.cssClss,n=this._Elems.Parent,i=c.call(this,t);i.contains&&(n.removeClass(e.loading),n.toggleClass(e.formHasActiveLists,i.hasSubscribed))},actionStart:function(t){c.call(this,t).contains&&this._Elems.Parent.addClass(this._Opts.cssClss.loading)},actionFail:function(t){c.call(this,t).contains&&this._Elems.Parent.removeClass(this._Opts.cssClss.loading)}},dom:{submit:function(t){t.preventDefault(),this._Model.toggleSubscription(a.call(this))},"storage:window":"_storageListener"}},_Init:function(){var t=this._Opts;o.call(this,this._Elems.Parent),t.checkOnInit&&l.call(this);var e=this._updateAuth.bind(this);r.on("authChange",e),r.onGetStatus(e)},updateState:function(){l.call(this,!0)},_updateAuth:function(t){var e=this._Elems.email;e&&e.length&&(e.val(t),e.prop("disabled",!!t),l.call(this,!0))},_storageListener:function(t){if(t=t.originalEvent||t,"subscriptionState"==t.key&&t.newValue){var e=this._formParams.values,n=this._Model.decodeStateStr(t.newValue)[e.listId],i=t.oldValue?"stateChange":"stateCheck";this._Model.changeState(n,e.listId,e.profileId,i)}},isTargetLists:c,_getFieldParamsByKey:i}}(),o,null,"SubscribeForm");i.Extend(e.getNameSpace("Modules",n),{SubscribeForm:a}),i.moduleOpts.setParams("SubscribeForm",{acceptTypes:"Subscription"})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic,s=i.typeOf,r={cssSels:{Main:{formCheckboxes:".js-subscribe_rubric"}}};i.Constructors.addPlugin(n.Modules.SubscribeForm,function(){return{_Handlers:{model:{stateUpdate:function(t){var e=this._Elems.formCheckboxes,n=Object.keys(t);if(e&&this.isTargetLists(t).contains)for(var i,r,o=0;o<n.length;o++)r=n[o],s(t[r],"boolean")&&(i=this._getFieldParamsByKey(r),i.name&&i.value&&e.filter("[name="+i.name+"][value="+i.value+"]").prop("checked",t[r]))}}}}}(),r,"SubscribeListForm")}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic,s=i.typeOf,r={cssClss:{subscribed:null,loading:null},listId:null,profileId:null,checkOnInit:!0},o=n.Basic.Constructors.getView(function(){function t(t){var e=this._Opts;return t[this._Model.getStoreKey(e.listId,e.profileId)]}function e(){var t=this._Opts;this._Model.checkState(t.listId,t.profileId)}function n(t){var e=this._Opts;return s(t,"object")&&(t=Object.keys(t)),t.indexOf(this._Model.getStoreKey(e.listId,e.profileId))>-1}return{_Handlers:{model:{stateUpdate:function(e){var n,i,r=t.call(this,e);s(r,"undefined")||(n=this._Opts.cssClss,i=this._Elems.Parent,i.removeClass(n.loading),i.toggleClass(n.subscribed,r))},actionStart:function(t){n.call(this,t)&&this._Elems.Parent.addClass(this._Opts.cssClss.loading)},actionFail:function(e){s(t.call(this,e),"undefined")||this._Elems.Parent.removeClass(this._Opts.cssClss.loading)}},dom:{click:function(t){t.preventDefault();var e=this._Opts,n=e.listId,i=e.profileId,s={};s[this._Model.getStoreKey(n,i)]=null,this._Model.toggleSubscription(s)}}},_Init:function(){this._Opts.checkOnInit&&e.call(this)},isTargetLists:n}}(),r,null,"SubscribeButton");i.Extend(e.getNameSpace("Modules",n),{SubscribeButton:o}),i.moduleOpts.setParams("SubscribeButton",{acceptTypes:"Subscription",paramAttrs:{listId:"data-list-id",profileId:"data-pid"}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window.ru=window.ru||{},window.ru.mail=window.ru.mail||{},window.ru.mail.mpf=window.ru.mail.mpf||{},window.ru.mail.mpf.utils=window.ru.mail.mpf.utils||{},window.ru.mail.mpf.utils.PushNotifications=function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==n(t)&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(s,r,function(e){return t[e]}.bind(null,r));return s},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(t){return"function"==typeof t}function r(t){return"object"==n(t)&&null!==t}function o(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,a,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(o(n=this._events[t]))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),i=(c=n.slice()).length,l=0;l<i;l++)c[l].apply(this,a);return!0},i.prototype.addListener=function(t,e){var n;if(!s(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,s(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(n=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!s(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,o,a;if(!s(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(n=this._events[t]).length,i=-1,n===e||s(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(s(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?s(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(s(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){function n(){return a(t,arguments,c(this).constructor)}if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,t)})(t)}function a(t,e,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var s=new(Function.bind.apply(t,i));return n&&l(s,n.prototype),s}).apply(null,arguments)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function p(){var t=navigator.userAgent;if(window.opera|window.opr|t.indexOf(" OPR/")>-1|t.indexOf(" Coast/")>-1|t.indexOf(" OPiOS/")>-1){var e=t.match(/(opr(?=\/))\/?\s*(\d+)/i)||[];return{name:"Opera",version:e[2]?e[2]:""}}var n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return{name:n[1]?n[1]:"",version:n[2]?n[2]:""}}function d(){return window.location}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function m(t){return function(t){switch(t.toLowerCase()){case"chrome":return z;case"firefox":return V;default:throw new j(D.UNKNOWN_PLATFORM)}}(p().name).getPayload(t)}function g(){return H.serviceWorker.ready}function _(t){return new Promise(function(e,n){t.pushManager.getSubscription().then(function(t){t?e(t):n(new j(D.GET_SUBSCRIPTION))})})}function v(t){return _(t).then(function(t){return t.unsubscribe().then(function(e){return e?Promise.resolve(t):Promise.reject(new j(D.UNSUBSCRIBE))})})}function w(t){return _(t).catch(function(){return function(t){return new Promise(function(e,n){t.pushManager.subscribe({userVisibleOnly:!0}).then(function(t){t?e(t):n(new j(D.SUBSCRIBE))})})}(t)})}function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function b(t){return new Promise(function(e,n){var i=t.allowedPlatforms.map(function(t){return t.toLowerCase()}),s=t.platform.PLATFORM.toLowerCase();window.fetch&&window.navigator.serviceWorker&&window.Notification&&window.PushManager&&window.ServiceWorkerRegistration&&-1!==i.indexOf(s)?e():n(new j(D.UNSUPPORTED))})}function S(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise(function(t,n){switch(U.permission){case"granted":t.apply(void 0,e);break;case"denied":n(new j(D.PERMISSION_DENIED));break;case"default":default:t.apply(void 0,e)}})}function C(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise(function(t,n){"granted"===U.permission?t.apply(void 0,e):U.requestPermission(function(i){"granted"===i?t.apply(void 0,e):n(new j(D.PERMISSION_DENIED))})})}function T(t){return g().then(v).then(function(e){return t(-1,e)}).then(function(){return $.dispatch({type:L.UNSUBSCRIBE})}).then(function(){return G.emit(L.UNSUBSCRIBE)}).catch(function(t){G.emit(L.ERROR,t)})}function P(t){return g().then(C).then(w).then(function(e){return t(0,e).catch(function(t){G.emit(L.ERROR,t)}).then(function(){return e})}).then(function(t){return $.dispatch({type:L.SUBSCRIBE,subscription:m(t.toJSON())})}).then(function(t){G.emit(L.SUBSCRIBE,t.subscription)}).catch(function(t){G.emit(L.ERROR,t)})}function E(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,n){var i=m(n.toJSON()),s=f({},R,{status:e,application:t.application,token:i.token});return fetch(t.url,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then(function(t){if(200!==t.status)throw new j(D.SERVER_SYNC);return t.json()}).catch(function(){throw new j(D.SERVER_SYNC)})}}({application:t.application,url:t.serverUrl})}function O(t){var e=E(t),n={getState:$.getState,toggle:function(){return $.getState().isSubscribed?T(e).then(function(){return n}):P(e).then(function(){return n})},subscribe:function(){return P(e).then(function(){return n})},unsubscribe:function(){return T(e).then(function(){return n})}};return n}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=y({},F,t),n=E(e);"".concat(d().origin).concat(e.workerScope),$.dispatch({type:L.CHANGE,state:{settings:e}});var i=new Promise(function(t){b(e).then(S).then(function(){return n=(t=e).workerPath,i=t.workerScope,H.serviceWorker.register(n,{scope:i});var t,n,i}).then(g).then(function(t){return _(t).then(function(t){return n(0,t).catch(function(t){G.emit(L.ERROR,t)}).then(function(){var e=t?{isSubscribed:!0,subscription:m(t.toJSON())}:{isSubscribed:!1};return $.dispatch({type:L.READY,state:e})}).then(function(t){G.emit(L.READY,O(t.settings),t)})}).catch(function(){return $.dispatch({type:L.READY,state:{isSubscribed:!1}}).then(function(t){G.emit(L.READY,O(t.settings),t)})})}).catch(function(t){G.emit(L.ERROR,t)}).then(function(){t(O(e))})}),s={on:function(t,e){return G.on(t,e),s},ready:function(){return i}};return s}i.r(e);var A,M,x=i(0),k=i.n(x),j=function(t){function e(t){var n,i,o,a=t.message,l=t.code;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(n=!(o=c(e).call(this,a))||"object"!==s(o)&&"function"!=typeof o?r(i):o).name=n.constructor.name,n.code=l,Error.captureStackTrace?Error.captureStackTrace(r(r(n)),n.constructor.name):n.stack=(new Error).stack,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o(Error)),e}(),N=(A=(new Date).getTimezoneOffset(),M=Math.abs(A),"GMT".concat(A<0?"+":"-")+"00".concat(Math.floor(M/60)).slice(-2)+"00".concat(M%60).slice(-2)),B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=p(),n=(navigator.userAgent.match(/(android|blackBerry|iphone|ipad|ipod|opera|iemobile|mobile)/i)||[]).length>0,i=e.name.toLowerCase();return{BROWSER:{NAME:t[i]?t[i]:i,PLATFORM:e.name,VERSION:e.version,IS_MOBILE:n}}}({chrome:"android"}),L={READY:"ready",CHANGE:"change",ERROR:"error",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"},D={SUBSCRIBE:{code:"subscribe",message:"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—É—à-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"},UNSUBSCRIBE:{code:"unsubscribe",message:"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –ø—É—à-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"},GET_SUBSCRIPTION:{code:"get_subscription",message:"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –ø—É—à-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"},PERMISSION_DENIED:{code:"permission_denied",message:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–µ—Ç–∏–ª –¥–æ—Å—Ç–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"},UNSUPPORTED:{code:"unsupported",message:"–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º"},TIME_MARK:{code:"time_mark",message:"–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ç–º–µ—Ç–∫–∞"},SERVER_SYNC:{code:"server_sync",message:"–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º"},UNKNOWN_PLATFORM:{code:"unknown_platform",message:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞"}},F={version:"2.2.4",allowedPlatforms:["Chrome","Firefox"],application:"mailrupush",platform:B.BROWSER,workerPath:"/push-worker.js",workerScope:"/",serverUrl:"/push-api/subscription/"},R=(d().pathname,{application:null,platform:B.BROWSER.NAME,status:null,token:null,settings:{capabilities:{geo_id:[0],push_delivery_time_range:"00:00-23:59"},client:{os_version:B.BROWSER.VERSION,version:B.BROWSER.IS_MOBILE?"".concat("m","-").concat("2.2.4"):"2.2.4"},client_time_zone:N}}),z={getPayload:function(t){var e=t.endpoint.split("/");return{endpoint:t.endpoint,token:e.slice(-1)[0]}}},V={getPayload:function(t){return{endpoint:t.endpoint,token:t.endpoint}}},H=window.navigator,U=window.Notification,G=new k.a,$=function(t){function e(){return h({},i)}function n(n){i=t(e(),n);var r=s.map(function(t){return t(i,n)});return Promise.all(r).then(function(){return i})}var i=h({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),s=[];return n({}),{getState:e,dispatch:n,subscribe:function(t){var e;s=u(s).concat([(e=t,function(t,n){return Promise.resolve(e(t,n))})]);var n=!0;return function(){if(n){n=!1;var e=s.indexOf(t),i=[s.slice(0,e),s.slice(e+1)],r=i[1];s=i[0].concat(r)}return!n}}}}(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case L.CHANGE:return y({},t,e.state);case L.SUBSCRIBE:return y({},t,{isSubscribed:!0,subscription:e.subscription});case L.UNSUBSCRIBE:var n=y({},t,{isSubscribed:!1});return delete n.subscription,n;case L.READY:return y({},t,e.state,{isReady:!0});default:return t}},{settings:{},isSubscribed:void 0,isReady:!1});$.subscribe(function(t){G.emit(L.CHANGE,t)}),i.d(e,"init",function(){return I}),i.d(e,"version",function(){return"2.2.4"})}])},,,,,,,,,,,function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
window.swfobject=function(){function t(){if(!U&&document.getElementsByTagName("body")[0]){try{var t,e=v("span");e.style.display="none",t=L.getElementsByTagName("body")[0].appendChild(e),t.parentNode.removeChild(t),t=null,e=null}catch(t){return}U=!0;for(var n=R.length,i=0;i<n;i++)R[i]()}}function e(t){U?t():R[R.length]=t}function i(t){if(n(B.addEventListener)!=x)B.addEventListener("load",t,!1);else if(n(L.addEventListener)!=x)L.addEventListener("load",t,!1);else if(n(B.attachEvent)!=x)y(B,"onload",t);else if("function"==typeof B.onload){var e=B.onload;B.onload=function(){e(),t()}}else B.onload=t}function s(){var t=L.getElementsByTagName("body")[0],e=v(k);e.setAttribute("style","visibility: hidden;"),e.setAttribute("type",j);var i=t.appendChild(e);if(i){var s=0;!function o(){if(n(i.GetVariable)!=x)try{var a=i.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),W.pv=[w(a[0]),w(a[1]),w(a[2])])}catch(t){W.pv=[8,0,0]}else if(s<10)return s++,void setTimeout(o,10);t.removeChild(e),i=null,r()}()}else r()}function r(){var t=z.length;if(t>0)for(var e=0;e<t;e++){var i=z[e].id,s=z[e].callbackFn,r={success:!1,id:i};if(W.pv[0]>0){var u=_(i);if(u)if(!b(z[e].swfVersion)||W.wk&&W.wk<312)if(z[e].expressInstall&&a()){var h={};h.data=z[e].expressInstall,h.width=u.getAttribute("width")||"0",h.height=u.getAttribute("height")||"0",u.getAttribute("class")&&(h.styleclass=u.getAttribute("class")),u.getAttribute("align")&&(h.align=u.getAttribute("align"));for(var p={},d=u.getElementsByTagName("param"),f=d.length,m=0;m<f;m++)"movie"!=d[m].getAttribute("name").toLowerCase()&&(p[d[m].getAttribute("name")]=d[m].getAttribute("value"));l(h,p,i,s)}else c(u),s&&s(r);else C(i,!0),s&&(r.success=!0,r.ref=o(i),r.id=i,s(r))}else if(C(i,!0),s){var g=o(i);g&&n(g.SetVariable)!=x&&(r.success=!0,r.ref=g,r.id=g.id),s(r)}}}function o(t){var e=null,i=_(t);return i&&"OBJECT"===i.nodeName.toUpperCase()&&(e=n(i.SetVariable)!==x?i:i.getElementsByTagName(k)[0]||i),e}function a(){return!G&&b("6.0.65")&&(W.win||W.mac)&&!(W.wk&&W.wk<312)}function l(t,e,i,s){var r=_(i);if(i=g(i),G=!0,O=s||null,I={success:!1,id:i},r){"OBJECT"==r.nodeName.toUpperCase()?(P=u(r),E=null):(P=r,E=i),t.id=N,(n(t.width)==x||!/%$/.test(t.width)&&w(t.width)<310)&&(t.width="310"),(n(t.height)==x||!/%$/.test(t.height)&&w(t.height)<137)&&(t.height="137");var o=W.ie?"ActiveX":"PlugIn",a="MMredirectURL="+encodeURIComponent(B.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+o+"&MMdoctitle="+encodeURIComponent(L.title.slice(0,47)+" - Flash Player Installation");if(n(e.flashvars)!=x?e.flashvars+="&"+a:e.flashvars=a,W.ie&&4!=r.readyState){var l=v("div");i+="SWFObjectNew",l.setAttribute("id",i),r.parentNode.insertBefore(l,r),r.style.display="none",f(r)}p(t,e,i)}}function c(t){if(W.ie&&4!=t.readyState){t.style.display="none";var e=v("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(u(t),e),f(t)}else t.parentNode.replaceChild(u(t),t)}function u(t){var e=v("div");if(W.win&&W.ie)e.innerHTML=t.innerHTML;else{var n=t.getElementsByTagName(k)[0];if(n){var i=n.childNodes;if(i)for(var s=i.length,r=0;r<s;r++)1==i[r].nodeType&&"PARAM"==i[r].nodeName||8==i[r].nodeType||e.appendChild(i[r].cloneNode(!0))}}return e}function h(t,e){var n=v("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+t+"'>"+e+"</object>",n.firstChild}function p(t,e,i){var s,r=_(i);if(i=g(i),W.wk&&W.wk<312)return s;if(r){var o,a,l,c=v(W.ie?"div":k);n(t.id)==x&&(t.id=i);for(l in e)e.hasOwnProperty(l)&&"movie"!==l.toLowerCase()&&d(c,l,e[l]);W.ie&&(c=h(t.data,c.innerHTML));for(o in t)t.hasOwnProperty(o)&&(a=o.toLowerCase(),"styleclass"===a?c.setAttribute("class",t[o]):"classid"!==a&&"data"!==a&&c.setAttribute(o,t[o]));W.ie?V[V.length]=t.id:(c.setAttribute("type",j),c.setAttribute("data",t.data)),r.parentNode.replaceChild(c,r),s=c}return s}function d(t,e,n){var i=v("param");i.setAttribute("name",e),i.setAttribute("value",n),t.appendChild(i)}function f(t){var e=_(t);e&&"OBJECT"==e.nodeName.toUpperCase()&&(W.ie?(e.style.display="none",function t(){if(4==e.readyState){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode.removeChild(e)}else setTimeout(t,10)}()):e.parentNode.removeChild(e))}function m(t){return t&&t.nodeType&&1===t.nodeType}function g(t){return m(t)?t.id:t}function _(t){if(m(t))return t;var e=null;try{e=L.getElementById(t)}catch(t){}return e}function v(t){return L.createElement(t)}function w(t){return parseInt(t,10)}function y(t,e,n){t.attachEvent(e,n),H[H.length]=[t,e,n]}function b(t){t+="";var e=W.pv,n=t.split(".");return n[0]=w(n[0]),n[1]=w(n[1])||0,n[2]=w(n[2])||0,e[0]>n[0]||e[0]==n[0]&&e[1]>n[1]||e[0]==n[0]&&e[1]==n[1]&&e[2]>=n[2]}function S(t,e,i,s){var r=L.getElementsByTagName("head")[0];if(r){var o="string"==typeof i?i:"screen";if(s&&(A=null,M=null),!A||M!=o){var a=v("style");a.setAttribute("type","text/css"),a.setAttribute("media",o),A=r.appendChild(a),W.ie&&n(L.styleSheets)!=x&&L.styleSheets.length>0&&(A=L.styleSheets[L.styleSheets.length-1]),M=o}A&&(n(A.addRule)!=x?A.addRule(t,e):n(L.createTextNode)!=x&&A.appendChild(L.createTextNode(t+" {"+e+"}")))}}function C(t,e){if($){var n=e?"visible":"hidden",i=_(t);U&&i?i.style.visibility=n:"string"==typeof t&&S("#"+t,"visibility:"+n)}}function T(t){return null!=/[\\\"<>\.;]/.exec(t)&&("undefined"==typeof encodeURIComponent?"undefined":n(encodeURIComponent))!=x?encodeURIComponent(t):t}var P,E,O,I,A,M,x="undefined",k="object",j="application/x-shockwave-flash",N="SWFObjectExprInst",B=window,L=document,D=navigator,F=!1,R=[],z=[],V=[],H=[],U=!1,G=!1,$=!0,q=!1,W=function(){var t=n(L.getElementById)!=x&&n(L.getElementsByTagName)!=x&&n(L.createElement)!=x,e=D.userAgent.toLowerCase(),i=D.platform.toLowerCase(),s=/win/.test(i?i:e),r=/mac/.test(i?i:e),o=!!/webkit/.test(e)&&parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),a="Microsoft Internet Explorer"===D.appName,l=[0,0,0],c=null;if(n(D.plugins)!=x&&n(D.plugins["Shockwave Flash"])==k)(c=D.plugins["Shockwave Flash"].description)&&n(D.mimeTypes)!=x&&D.mimeTypes[j]&&D.mimeTypes[j].enabledPlugin&&(F=!0,a=!1,c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),l[0]=w(c.replace(/^(.*)\..*$/,"$1")),l[1]=w(c.replace(/^.*\.(.*)\s.*$/,"$1")),l[2]=/[a-zA-Z]/.test(c)?w(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(n(B.ActiveXObject)!=x)try{var u=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");u&&(c=u.GetVariable("$version"))&&(a=!0,c=c.split(" ")[1].split(","),l=[w(c[0]),w(c[1]),w(c[2])])}catch(t){}return{w3:t,pv:l,wk:o,ie:a,win:s,mac:r}}();!function(){W.w3&&((n(L.readyState)!=x&&("complete"===L.readyState||"interactive"===L.readyState)||n(L.readyState)==x&&(L.getElementsByTagName("body")[0]||L.body))&&t(),U||(n(L.addEventListener)!=x&&L.addEventListener("DOMContentLoaded",t,!1),W.ie&&(L.attachEvent("onreadystatechange",function e(){"complete"==L.readyState&&(L.detachEvent("onreadystatechange",e),t())}),B==top&&function e(){if(!U){try{L.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}t()}}()),W.wk&&function e(){if(!U)return/loaded|complete/.test(L.readyState)?void t():void setTimeout(e,0)}()))}();R[0]=function(){F?s():r()};!function(){W.ie&&window.attachEvent("onunload",function(){for(var t=H.length,e=0;e<t;e++)H[e][0].detachEvent(H[e][1],H[e][2]);for(var n=V.length,i=0;i<n;i++)f(V[i]);for(var s in W)W[s]=null;W=null;for(var r in swfobject)swfobject[r]=null;swfobject=null})}();return{registerObject:function(t,e,n,i){if(W.w3&&t&&e){var s={};s.id=t,s.swfVersion=e,s.expressInstall=n,s.callbackFn=i,z[z.length]=s,C(t,!1)}else i&&i({success:!1,id:t})},getObjectById:function(t){if(W.w3)return o(t)},embedSWF:function(t,i,s,r,o,c,u,h,d,f){var m=g(i),_={success:!1,id:m};W.w3&&!(W.wk&&W.wk<312)&&t&&i&&s&&r&&o?(C(m,!1),e(function(){s+="",r+="";var e={};if(d&&n(d)===k)for(var g in d)e[g]=d[g];e.data=t,e.width=s,e.height=r;var v={};if(h&&n(h)===k)for(var w in h)v[w]=h[w];if(u&&n(u)===k)for(var y in u)if(u.hasOwnProperty(y)){var S=q?encodeURIComponent(y):y,T=q?encodeURIComponent(u[y]):u[y];n(v.flashvars)!=x?v.flashvars+="&"+S+"="+T:v.flashvars=S+"="+T}if(b(o)){var P=p(e,v,i);e.id==m&&C(m,!0),_.success=!0,_.ref=P,_.id=P.id}else{if(c&&a())return e.data=c,void l(e,v,i,f);C(m,!0)}f&&f(_)})):f&&f(_)},switchOffAutoHideShow:function(){$=!1},enableUriEncoding:function(t){q=n(t)===x||t},ua:W,getFlashPlayerVersion:function(){return{major:W.pv[0],minor:W.pv[1],release:W.pv[2]}},hasFlashPlayerVersion:b,createSWF:function(t,e,n){return W.w3?p(t,e,n):void 0},showExpressInstall:function(t,e,n,i){W.w3&&a()&&l(t,e,n,i)},removeSWF:function(t){W.w3&&f(t)},createCSS:function(t,e,n,i){W.w3&&S(t,e,n,i)},addDomLoadEvent:e,addLoadEvent:i,getQueryParamValue:function(t){var e=L.location.search||L.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return T(e);for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==t)return T(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(G){var t=_(N);t&&P&&(t.parentNode.replaceChild(P,t),E&&(C(E,!0),W.ie&&(P.style.display="block")),O&&O(I)),G=!1}},version:"2.3"}}()},function(t,e){!function(t,e,n){var i=n.Tools.Counters.hitEvent;t(e.document).on("click",".js-track_click",function(e){var n=t(e.currentTarget),s=n.attr("data-params")||"",r=s&&s.split(",");r&&(r.length<3&&r.unshift("{click}"),r.length>1&&i("googl",r))})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t){for(var e,n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i)e=n[i],t.requestAnimationFrame=t[e+"RequestAnimationFrame"],t.cancelAnimationFrame=t[e+"CancelAnimationFrame"]||t[e+"CancelRequestAnimationFrame"];t.requestAnimationFrame=t.requestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.cancelAnimationFrame||function(e){t.clearTimeout(e)}}(window)},function(t,e){!function(t,e,n){var i,s,r,o,a,l,c=n.createElement("div");if(!("onmousewheel"in c)){a=[e],o=["mousewheel"],s={add:["addEventListener","attachEvent","add"],rem:["removeEventListener","detachEvent","not"]},l=s.add[0]in c,l?o.push("DOMMouseScroll"):(o[0]="on"+o[0],a.push(n));for(var u in s)s.hasOwnProperty(u)&&s[u].splice(1*l,1);i=function(n){n=n||e.event;var i,s,r=t(n.target||n.srcElement);s=n.wheelDelta||-40*n.detail,i=t.Event(n,{type:"mousewheel",wheelDelta:s}),r.trigger(i)},r=function(t){for(var e=s[t?"add":"rem"],n=0;n<o.length;n+=1)this[e[0]](o[n],i,!1)},t.event.special.mousewheel={setup:function(){r.call(this,!0)},teardown:function(){r.call(this,!1)}}}}(window.jQuery,window,window.document)},function(t,e){!function(t,e,n){function i(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}var s=function(){var e,n,s,r=!1,o="";if(t.navigator.plugins&&t.navigator.plugins.length)e=t.navigator.plugins["Shockwave Flash"],e&&(r=!0,e.description&&(o=i(e.description))),t.navigator.plugins["Shockwave Flash 2.0"]&&(r=!0,o="2.0.0.11");else if(t.navigator.mimeTypes&&t.navigator.mimeTypes.length)n=t.navigator.mimeTypes["application/x-shockwave-flash"],(r=n&&n.enabledPlugin)&&(o=i(n.enabledPlugin.description));else/** @preserveTry */
try{s=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),r=!0,o=i(s.GetVariable("$version"))}catch(t){/** @preserveTry */
try{s=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),r=!0,o="6.0.21"}catch(t){/** @preserveTry */
try{s=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),r=!0,o=i(s.GetVariable("$version"))}catch(t){}}}return{supported:r,version:o}}();n.addTest("flash",function(){return s.supported}),e.Basic.Extend(!0,e,{Support:{flash:s.supported,flashVersion:s.version}})}(window,window.ru.mail.cpf,window.Modernizr)},function(t,e){!function(t,e,n){var i=t(e),s=t(e.document);n.Basic.Extend(e.getNameSpace("Comp.jQuery",n),function(){var e={Elems:{jBody:null,jDoc:s,jWindow:i}};return t(function(){e.Elems.jBody=t("body")}),e}())}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=e.getNameSpace,s=n.Basic,r=s.typeOf,o=Array.prototype,a=i("Comp.jQuery",n);s.Extend(a,function(){function e(n,i,s){var o,a,l,c,u,h,p=/^in/i;s=s||{};for(var d in n)n.hasOwnProperty(d)&&(o=n[d],l=r(o),"string"==l&&o.length?(c="j"+d.substr(0,1).toUpperCase()+d.substr(1),s[c]=(u=i.find(o)).length?u:i.is(o)?i:null):"object"==l&&(a="j"+d.replace(p,""),(h=s[a])instanceof t&&h.length&&e(o,h,s)));return s}return{Tools:{getElements:e,winHndlrs:function(){var t,e=a.Elems.jWindow,i=["scroll","resize"],s=function(){var s,a=n.Comp.Tools.Callbacks,l=arguments,c=!r(l[0],"boolean")||o.shift.apply(l);if(r(a,"function")&&(c&&r(t,"undefined")&&(t=a({Types:i}),e.bind(i.join(" "),function(n){var i=n.type;t.fire(i,[{top:e.scrollTop(),left:e.scrollLeft()},{height:e.height(),width:e.width()},i])})),!r(t,"undefined")))for(var u=0;u<i.length;u++)s=arguments[u],r(s,"undefined")&&(s=arguments[u-1]),r(s,"function")&&t[c?"add":"remove"](i[u],s)};return{attach:s,detach:function(){o.unshift.call(arguments,!1),s.apply(null,arguments)}}}(),toggleElemsVal:function(t,e,n){e=e||{};var i,s,r,o;for(var a in t)t.hasOwnProperty(a)&&(i=t[a])&&i.length&&(s=i.is("input, select, textarea")?"val":"html",o=n&&a in n?n[a]:a,(r=e[o])?i[s](r):e[o]=i[s]());return e}}}}())}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(t){var n,i,s,r=e.Modernizr.prefixed("transition"),a=o;return t.length?(n=l[r],n&&e.getComputedStyle&&(i=e.getComputedStyle(t.get(0)),a=i.getPropertyValue(n),(a=a.match(/^(\d*\.*\d*)(s|ms)$/))&&a[1]&&(s=a&&a[2]&&"s"===a[2]?1e3:1,a=parseFloat(a[1])*s)),a):a}var s=n.Tools.Layout,r=n.Basic.Extend,o=30,a={linear:function(t,e,n,i){return e+n*t/i},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e}},l={WebkitTransition:"-webkit-transition-duration",MozTransition:"-moz-transition-duration",transition:"transition-duration"},c=function(t,e,n){this._done=[],this._active=[],this._elem=t,this._animateClass="animate-"+e,this._activeClass=this._animateClass+"-active",this._opts=r(!0,{},n),t.data("_animation",this),this._delay().then(function(){return t.addClass(this._animateClass),this._delay(n&&n.stageDelay||o)}.bind(this)).then(function(){return this._bulkActive(),t.addClass(this._activeClass),this._startTime=(new Date).getTime(),this._duration=n&&n.duration||i(t),this._delay(this._duration+o)}.bind(this)).then(function(){this._isComplete||(this._complete(),this._done.length&&this._done.forEach(function(e){e.call(t)}))}.bind(this))};c.prototype._bulkActive=function(){var t=0,e=this._active.length;if(e){for(this._startTime&&this._duration&&(t=((new Date).getTime()-this._startTime)/this._duration,t=Math.min(1,t));e--;)this._isDone||this._isComplete||this._active[e].call(this._elem,t)||this._active.splice(e,1);this._active.length&&requestAnimationFrame(this._bulkActive.bind(this))}},c.prototype.active=function(t){return"function"==typeof t&&this._active.push(t),this},c.prototype.done=function(t){return"function"==typeof t&&this._done.push(t),this},c.prototype._complete=function(){var t=this._elem;return this._opts.pinActive||t.removeClass(this._activeClass),t.removeClass(this._animateClass).data("_animation",null),this._isComplete=!0,this},c.prototype._delay=function(t){return new Promise(function(e){setTimeout(e,t||0)})};var u=function(t,e,n){var i=t.data("_animation");return i&&i._complete(),new c(t,e,n)};t.fn.animateEnter=function(t){return u(this,"enter",t)},t.fn.animateLeave=function(t){return u(this,"leave",t)},t.fn.animateScroll=function(t){t.top=isNaN(t.top)?t.scrollTop:t.top;var e,n=this.get(0),i=s.getScroll(n),r=isNaN(t.top)?i.top:t.top,o=isNaN(t.left)?i.left:t.left,l=o-i.left,c=r-i.top,h=t.ease&&a[t.ease]?a[t.ease]:a.linear,p=u(this,"scroll",t);return l||c?(e=function(t,e,i,r){var o=i,a=r;return function(l){var c=t?Math.round(h(l,i,t,1)):i,u=e?Math.round(h(l,r,e,1)):r;return c===o&&u===a||s.setScroll({left:o=c,top:a=u},n),!0}}(l,c,i.left,i.top),p.active(e).done(function(){s.setScroll.bind(s,{top:r,left:o},n)})):p._complete(),p},t.fn.animateCustom=function(t,e){if(t&&"string"==typeof t)return u(this,t,e)},t.fn.animationCancel=function(){var t=this.data("_animation");t&&t._complete()}}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e){"use strict";var n=e.Basic.typeOf,i=e.Basic.Extend,s=["setSelectionRange","createTextRange","createRange"],r=!!(s[0]in document.createElement("input")),o=function(){return r?function(){return[this.selectionStart,this.selectionEnd]}:function(){var t=document.selection,e="INPUT"===this.tagName;if(t&&s[2]in t){var n=t[s[2]](),i=(e?this.value:this.text).length,r=n.duplicate();n.parentElement()!==this&&this.focus();var o=i-r.moveEnd("character",i);return[o-n.text.length,o]}}}(),a=function(){var t=function(t){var e=parseInt(t[0])||0,n=parseInt(t[1]);return isNaN(n)?[e,e]:[e,n]};return r?function(){var e=Array.prototype.slice.call(arguments);this[s[0]].apply(this,t(e))}:function(){var e=Array.prototype.slice.call(arguments);if(s[1]in this){var n=this[s[1]](),i=t(e);n.collapse(!0),n.moveEnd("character",i[1]),n.moveStart("character",i[0]),n.select()}}}(),l=function(){var e=function(e,i){if(e){var s=document.createElement("option"),r=e._attrs;if(n(r,"object")){delete e._attrs;for(var o in r)r.hasOwnProperty(o)&&s.setAttribute(o,r[o])}for(var a in e)if(e.hasOwnProperty(a)&&a in s)try{s[a]=e[a]}catch(e){t.DEBUG&&t.console.log('Unable to set HTMLOptionElement property "'+a+'"')}"text"in e||(s.text=s.title||i.getAttribute("data-title")),""===s.innerHTML&&(s.innerHTML=s.text),i.appendChild(s)}};return function(t,i,s){var r,o,a,l=n(i,"function"),c=0;for(s=s||document.createElement("select");r=t[c++];)if(a=null,l&&(r=i(r)),Array.isArray(o=r.values)){n(r.title,"string")&&(a=document.createElement("optgroup"),a.setAttribute("title",r.title),a.setAttribute("label",r.title),r.value&&a.setAttribute("data-value",r.value),r.selected&&a.setAttribute("data-selected",""),s.appendChild(a));for(var u=0;u<o.length;u++)r=o[u],l&&(r=i(r)),e(r,a||s)}else n(r.value,"undefined")||e(r,s);return s}}();i(!0,t.getNameSpace("Tools.Forms",e),{Text:{getSelection:o,setSelection:a},Select:{createSelect:l}})}(window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(t){var e=p.indexOf(t)>-1;return e&&h&&localStorage.setItem(c,t),e}function s(t,e){var n=i(t);return n&&e(t),n}var r,o,a,l=n.Basic,c="ru.mail.cpf.deviceType",u=e.Modernizr,h=u.localstorage,p=["tablet","laptop"],d=n.Tools.PubSub;h&&"20150730"!==localStorage.getItem("ru.mail.cpf.deviceType.version")&&(localStorage.removeItem(c),localStorage.removeItem("ru.mail.cpf.pointerType"),localStorage.setItem("ru.mail.cpf.deviceType.version","20150730")),l.Extend(!0,n,{Tools:{checkDeviceType:function(){return a||(a=new Promise(function(n){u.touch||u.touchevents?(r=h&&localStorage.getItem(c),l.typeOf(r,"string")&&s(r,n)||(o=navigator.userAgent.toLowerCase(),o.indexOf("ipad")>-1||o.indexOf("iphone")>-1?s("tablet",n):t(e).one("mouseover mouseout",function(t){(t.fromElement||t.relatedTarget)&&s("laptop",n)}))):s("laptop",n)})),a},detectPointerType:function(){function i(t){w|=t,Object.keys(g).forEach(function(t){var n=g[t],i=w&n.detected^w;n.detected|=w,i&&Object.keys(f).forEach(function(t){f[t].id&i&&e.setTimeout(d.publish.bind(d,n.message,t))}),n.detected===m&&l(t)}),y(w),S()}function s(){e.DEBUG&&(this._touchStartTs=(new Date).getTime()),v=!0,i(f.touch.id)}function r(){!v&&u&&i(f.mouse.id)}function o(t){var e=navigator.userAgent.toLowerCase(),n=!(!~e.indexOf("ipad")&&!~e.indexOf("iphone")),i=0;if(n&&(i|=f.mouse.id),t^f.touch.id)if(n||"ontouchstart"in document.documentElement)t^=f.touch.id;else try{document.createEvent("TouchEvent"),t^=f.touch.id}catch(t){}return y(t),{detectedTypes:t,forceDetect:i}}function a(t,e){var n=o(w);w=n.detectedTypes,e.detected|=n.forceDetect,g[t]=e,S()}function l(t){t?delete g[t]:g={},S()}function c(t){var e=t?m:0;return(t||"").split(" ").filter(function(t){return t}).forEach(function(t){var n=f[t]?f[t].id:0;e&=~n}),e}var u,p=t(document.documentElement),f={mouse:{id:1,handlers:function(t){t=t?"on":"off",p[t]("mouseover mouseout mousemove click",r)}},touch:{id:2,handlers:function(t){t=t?"on":"off",p[t]("touchstart",s),p[t]("touchend",b)}},keyboard:{id:4,handlers:function(){}}},m=Object.keys(f).reduce(function(t,e){return t|f[e].id},0),g={},_=0;t(document).ready(function(){u=!0});var v,w=h&&localStorage.getItem("ru.mail.cpf.pointerType");w=w?parseInt(w,10):0;var y=function(t){return function(e){h&&e!==t&&(localStorage.setItem("ru.mail.cpf.pointerType",e),t=e)}}(w),b=n.Basic.debounce(function(){v=!1},2e3),S=function(t){return function(){var e=Object.keys(g).reduce(function(t,e){return m&~g[e].detected|t},0);(e&=~w)&f.mouse.id&&!(f.mouse.id&w)&&(e|=f.touch.id);var n=t&e^e,i=t&e^t;return Object.keys(f).forEach(function(e){var s=f[e];s.id&n?(s.handlers(!0),t|=s.id):s.id&i&&(s.handlers(!1),t&=~s.id)}),t}}(0);return function(t){var e="deviceDetect"+ ++_;return a(_,{detected:c(t),message:e}),i(w),{cancel:l.bind(null,_),message:e}}}()}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic,s=i.typeOf,r=i.Extend,o=i.getByPath,a=n.Tools,l=a.Forms.Validation,c=l.getInvalidFields,u=l.processInvalidFields,h={cssSels:{Form:"form",Fields:"input",errorMessage:".js-form__error-message"},cssClss:{serverError:"",fieldsError:"",sentSuccess:""},serverApi:{initial:{url:null,callback:null,addParams:null,prepare:null},send:{url:null,addParams:null,prepare:null},response:{errorMessage:"errors._form",errorField:"errors"}},validate:{prepare:null},Templates:{block:null,form:null},clearOnShow:null,validateOnChange:!0,templateParams:null,popupOpts:null,initBlock:null,prepareHeaders:null,popupExt:"asyncForm",transport:function(){return Promise.resolve(t.ajax.apply(t,arguments))}},p=i.Constructors.getView(function(){function e(t,e,n){var i=this._Opts,r=this._Elems,o=r.Form,a=r.errorMessage,l=!!t&&(s(t,"object")||t.length>0)||s(n,"string")&&n.length>0;!e&&l||(n?(a||(r.errorMessage=a=r.Parent.find(i.cssSels.errorMessage),_=a.text()),v=!0,a.text(n)):v&&(v=!1,a.text(_)),o.toggleClass(i.cssClss.fieldsError,l)),u(o,t,e),this._trigger("fieldsProcessed",t,e,n)}function i(){var t,e=this._opts,n=e.serverApi.initial,i=n.url,o=n.callback,c=n.addParams,u=n.prepare,h=s(o,"function"),p=s(e.prepareHeaders,"function");s(u,"function")&&(c=u.call(this,c)),t=i?e.transport({type:"GET",url:i,dataType:"json",data:c,headers:p?e.prepareHeaders.call(this):{}}):Promise.resolve(),t.then(function(t){t=r(c,t),h?o.call(this,t).then(a.bind(this)).then(l.bind(this)):a.call(this,t).then(l.bind(this))}.bind(this))}function a(t){return Promise.resolve({server:t,template:this._opts.templateParams})}function l(t){var e=this._elems,i=this._opts,s=i.initBlock;return Promise.resolve(i.Templates.form).then(function(){this._Popup=n.Tools.initModule(["Popup",i.popupExt],null,{templates:{parent:i.Templates.form}},t),e.parent=this._Popup.getBlockElement(),e.Form=null,this._Overlay=this._Popup.getOverlay(),this._Popup.on("show",p.bind(this,!0)),this._Popup.on("hide",p.bind(this,!1)),this._getElements(i.cssSels.Form,"Form"),this._bindHandlerSet("Form"),n.Tools.initModules(e.parent,null,t),s&&s.call(this,e.parent,t),h.call(this)}.bind(this))}function h(){var t=this._elems,e=this._opts,n=e.cssClss;e.clearOnShow&&(t.Form.removeClass(n.fieldsError).get(0).reset(),t.parent.removeClass(n.sentSuccess)),t.parent.removeClass(n.serverError),this._Popup.show()}function p(t){var e=this._opts;if(t){var n=this._getElements(e.cssSels.Fields,this._Elems.Form,"fields"),i=e.popupOpts&&e.popupOpts.onShow;n&&n.not(":disabled,[type=hidden]").first().focus(),i&&i.call(this)}else e.clearOnShow&&(this._Popup.destroy(),this._Popup=null);this._trigger(t?"show":"hide")}function d(){var t,e,n,i=this._elems.Form.serializeArray(),r={},o=0,a=i.length;for(o;o<a;o++)t=i[o],t.value&&(e=t.name,n=r[e],r[e]=(s(n,"undefined")?"":n+",")+t.value);return r}function f(){var t=this._opts;if(!1!==t.validateOnChange){var n=this._elems,i=n.parent,r=n.Form,o=t.validate.prepare;s(o,"function")&&o.call(this,r,i),e.call(this,c(i),!1)}}function m(t){var n,i,o=this._opts,a=this._elems,l=a.parent,u=a.Form,h=o.serverApi.send,p=h.prepare,f=d.call(this),m=o.validate.prepare,_=s(o.prepareHeaders,"function");t.preventDefault(),s(m,"function")&&m.call(this,u,l),n=c(u),n.length||(r(f,h.addParams),f=p?p.call(this,f):Promise.resolve(f),f.then(function(t){t&&(i=o.transport({url:h.url||u.attr("action"),dataType:"json",data:t,headers:_?o.prepareHeaders.call(this):{},type:u.attr("method")||"GET"}).then(g.bind(this,!0),g.bind(this,!1)),this._Overlay.showLoading(i),this._trigger("formSubmit",r({},t)))}.bind(this))),e.call(this,n,!0)}function g(t,n){var i,r,a,l,c=this._Opts,u=c.cssClss,h=this._Elems.Parent;!0===t&&(i=s(n,"object"),t=i&&!!n.status),t||i&&(r=o(c.serverApi.response.errorField,n),a=[r,!0],l=o(c.serverApi.response.errorMessage,n),l?a.push(l):s(r,"array")||s(r,"object")||(a=null)),a?e.apply(this,a):h.toggleClass(u.serverError,!t).toggleClass(u.sentSuccess,t),this._trigger("formSent",t,n)}var _,v=!1;return{_Events:["show","hide","formSubmit","formSent","fieldsProcessed"],_Handlers:{"set:Form":{submit:m,"change:Fields":f}},_parentElement:function(){var e=this._Opts.Templates.block,n=s(e,"function")?e.call(this):"<div />";return t(n)},_Init:function(){if(!s(this._Opts.Templates.form,"function"))throw new TypeError("Can not continue without form template");this._Popup=null,this._Overlay=null},Show:function(){this._Popup?h.call(this):i.call(this)},Hide:function(){this._Popup&&this._Popup.hide()}}}(),h,null,"AsyncForms");i.moduleOpts.registerModule("AsyncForms",function(t){return new p(t)}),r(!0,n,{Modules:{AsyncForms:p}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic,s=i.Extend,r=n.Tools.Auth,o="AsyncForms",a="href",l="#",c={cssSels:{showForm:".js-show_form"},attrs:{formId:"data-formid"},hashBangs:[],formsOptions:{},authRequired:!1};i.Constructors.getView(function(){function i(t){var e,i,r,a=this._opts,l=t.attr(a.attrs.formId);l&&(e=m[l]),e instanceof n.Modules.AsyncForms||(t.attr(f)||t.attr(f,o),r=this._commonFormsOpts,l&&(r=s(!0,{},r,a.formsOptions[l])),(i={})[o]=r,e=n.Tools.initModules(t,i,null,{attrs:{moduleType:f}}),l&&(m[l]=e)),e.Show()}function c(t){return-1!==this._opts.hashBangs.indexOf(t)}function u(){return this._elems.parent.find(this._opts.cssSels.showForm)}function h(t){return[a,this._opts.attrs.formId].reduce(function(e,n){if(!e){var i=t.getAttribute(n);i&&(a===n?0===i.indexOf(l)&&(e=i):e=l+i)}return e},null)}function p(){var t=this._opts.hashBangs,e=u.call(this);[].slice.call(e).forEach(function(e){var n=h.call(this,e);-1===t.indexOf(n)&&t.push(n)}.bind(this))}function d(t){this._opts.authRequired?r.onGetStatus(function(n){var s=e.__PH.authForm,r=h.call(this,t.get(0));n?i.call(this,t):c.call(this,r)?s.show({successPage:e.location.href.split(l)[0]+r}):s.show()}.bind(this)):i.call(this,t)}var f="data-module",m={};return{_Init:function(n){p.call(this),this._commonFormsOpts=n;var i=e.location.hash.split("?")[0];if(c.call(this,i)){var s=[].slice.call(u.call(this)).filter(function(t){return h.call(this,t)===i}.bind(this));s.length&&d.call(this,t(s[0]))}},_Handlers:{"dom:click:showForm":function(e){e.preventDefault(),d.call(this,t(e.currentTarget))}}}}(),c,null,"AsyncFormsCont")}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic,s=i.moduleOpts,r=i.Extend,o=i.typeOf,a=n.Comp,l=i.getConstructor(function(){var e=a.jQuery.Tools,i=e.getElements,l=e.toggleElemsVal,c=n.Comp.Methods.initCallbacks,u=n.Tools.initModule,h={cssSels:{Main:{Head:null,Message:null,CountdownCont:null,CountdownMsg:null,CountdownTime:null}},onHide:null},p=function(t,e){function n(){var t=0==--s;e.call(null,t,s),i.tick=t?null:setTimeout(n,1e3)}var i=this._Timers,s=t+1;n()},d={jHead:"head",jMessage:"message",jCountdownMsg:"countdown"},f=function(){var t=this._Elems,e={};for(var n in d)d.hasOwnProperty(n)&&(e[n]=t[n]);return e},m=function(t){var e,n,i=this._Elems,s=i.jPopupBlock,r={elems:{},keys:{}};for(e in t)t.hasOwnProperty(e)&&(n=i[e],n||(i[e]=n=s.find(e)),r.elems[e]=n,r.keys[e]=e);return r},g=function(t){var e,n,i,s,a,c,u,h=t.extraElems,p=this._defaultTexts,f=this._Elems;h?(i=m.call(this,h),e=r({},this._textElems,i.elems),d=r({},d,i.keys),n=r({},t,h),delete n.extraElems):(e=this._textElems,n=t);for(var g in d)d.hasOwnProperty(g)&&(s=d[g],c=n[s],u=f[g],null===c&&(n[s]=p[s]),(a=e[g])?a.toggle(o(c,"string")&&0!==c.length):u&&!u.is(f.jMessage)&&u.hide());l(e,n,d)},_=function(t){var e=this._Timers;t||(this._fire("hide"),e.tick&&(clearTimeout(e.tick),e.tick=null))},v=function(){var e,n=this._Elems.jPopupBlock,i=this._popupInstance;if(i)return i;if(e={onShow:_.bind(this,!0),onHide:_.bind(this,!1)},t.fn.Popup)this._popupInstance=i=n.Popup(e).data("_popupObj");else if(t.fn.inPopup)this._popupInstance=i=n.inPopup(e);else if(this._popupInstance=i=u("Popup",n,e),!this._popupInstance)throw new Error("Popup: no popup installed");return i},w=function(t){v.call(this).Toggle(t)},y=function(t,e){var n=this._Elems.jCountdownTime;t?w.call(this,!1):n&&n.text(e)};return{_Init:function(t,e){var n,o,a;if(o=t.data("_notificationObj"))return o;e=r(!0,{},e,s.get("Notification")),this._Opts=n=r(!0,{},h,e),this._Elems=i(n.cssSels.Main,t,{jPopupBlock:t}),c.call(this,{Types:{hide:n.onHide}}),this._textElems=a=f.call(this),this._defaultTexts=l(a,null,d),this._Timers={}},Notify:function(t,e){var n=this._Elems.jCountdownCont,i=!isNaN(e);g.call(this,t),w.call(this,!0),n&&n.toggle(i),i&&p.call(this,e,y.bind(this))}}}()),c=function(){var e,n=function(){var e;return function(){var n,i,r,a;return e&&e.length||(n=s.get("Notify"))&&(i=n.blockSel||n.defBlockSel,r=n.blockTemplate,a=n.blockContSel,i?e=t(i):o(r,"function")&&a&&(e=t(r()).appendTo(a))),e}}();return function(t,i,s){var r;e||(r=n())&&r.length&&(e=l(r)),e&&(o(s,"function")&&e.once("hide",s),e.Notify(t,i))}}();r(e.getNameSpace("Comp.jQuery.Tools",n),{Notification:l,Notify:c,notifyByKey:function(){var e=n.Instances.stateObject;return function(n,i,s){e&&n instanceof Array&&i instanceof Array&&n.length==i.length&&t(function(){for(var t,r=e.State(),o=!1,a=0;a<n.length;a+=1)if(t=n[a],r.hasOwnProperty(t)){r[t]=null,o=!0,c(i[a],s);break}o&&e.pushToState(r,!1,!0)})}}()})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic,s=i.typeOf,r={cssSels:{Main:{Target:".js-dropdown__target",Button:".js-dropdown__button"},dropdown:".js-dropdown__box"},cssClss:{showDropdown:null,activeButton:null,disabled:null,invertedPosition:""},animationTime:300,hideOnEvents:"click"},o=i.getView(function(){function n(e){t(e.target).closest(this._elems.Target).length||this.hide()}function r(t){t.preventDefault(),this.toggle()}function o(){this._winHeight=document.documentElement.clientHeight}var a=t(e.document),l=["click","keydown","mousewheel"];return{_Events:["toggle"],_Handlers:{"dom:click:Main.Button":r},_Init:function(){var t=this._elems,r=this._opts,a=this._opts.hideOnEvents;if(t.Target=t.Target||t.Parent,this._Disabled=!1,s(a,"string")?a=a.split(" "):Array.isArray(a)||(a=[]),a=a.filter(function(t){return s(t,"string")&&l.indexOf(t)>-1}),this._hideOnEvents=a.join(" "),this._hideOnEvents&&(this._documentClickHandler=n.bind(this)),t.parent.hasClass(r.cssClss.disabled)&&this.disable(),r.cssClss.invertedPosition){var c=i.debounce(o.bind(this));e.addEventListener("resize",c),c()}},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},toggle:function(t){if(!this._Disabled){var e=this._elems,n=this._opts.cssClss,i=e.Target,r=n.showDropdown,o=n.invertedPosition,l=n.activeButton;s(t,"boolean")||(t=!i.hasClass(r)),o&&(t?this._isDropdownFits()||i.addClass(o):i.hasClass(o)&&setTimeout(function(){i.removeClass(o)},this._opts.animationTime)),i.toggleClass(r,t),l&&e.Button.toggleClass(l,t),this._hideOnEvents&&a[t?"on":"off"](this._hideOnEvents,this._documentClickHandler),this._trigger("toggle",t)}},disable:function(t){var e=this._opts.cssClss.disabled;s(t,"boolean")||(t=!0),this._Disabled=t,t&&this.hide(),e&&this._elems.parent.toggleClass(e,t)},_isDropdownFits:function(){var t=this._getElement("dropdown");if(0===t.length)return!0;var e=t.children().get(0).getBoundingClientRect();return this._winHeight-e.top-e.height>=0},Show:function(){return this.show()},Hide:function(){return this.hide()},Toggle:function(t){return this.toggle(t)},Disable:function(t){return this.disable(t)}}}(),r,null,"Dropdown");i.Extend(e.getNameSpace("Modules",n),{Dropdown:o}),t.fn.dropdown=function(e){return this.each(function(){var n=t(this);n.data("Dropdown",new o(e,null,n))})}}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.typeOf,s=n.Basic.Extend,r=n.Basic.throttle,o=n.Basic.Constructors.getModel,a=n.Basic.moduleOpts.setParams,l=n.Types.String.Url.addParams,c="\x3c!--slotLoaded--\x3e",u={transport:function(){var e=t.ajax;return Promise.resolve(e.apply(null,arguments))},baseApiUrl:"//ad.mail.ru/adp/"},h=o(function(){function n(t){var e="";return-1!=t.indexOf(c)&&(this.loaded=!0,this.contents=e=t),e}function o(t){var e="";return i(t,"array")&&t.length&&(this.loaded=!0,this.contents=e=t[0].html),e}function a(t){var e,i,s,r=this._banners[t];return r?(r.loadPromise?i=r.loadPromise:(s="rb"===r.dataType?"jsonp":"text",e=function(t){return delete r.loadPromise,t},r.loadPromise=i=this._Opts.transport({url:r.url,type:"GET",dataType:s,data:r.params||{}}).then(function(){var t="text"===s?n:o;return r.rendered=!1,t.apply(r,arguments)}),i.then(p.bind(this,t)).then(e,e)),i):Promise.reject()}function u(t,n){var r,o,c,u=this._opts;if(i(t,"string"))o=t;else{if(!i(t,"object"))return;(c=t.query||t.id)&&(o=u.baseApiUrl+"?q="+encodeURIComponent(c),e.rb_innerhtml=1),t.params&&(o=l(t.params||{},o,{replace:!0}))}return t=s({},t,{url:o,contents:null}),r=this._banners.push(t)-1,i(t.hasPlaceForBanner,"function")||(t.hasPlaceForBanner=this.hasPlaceForBanner.bind(this)),!1!==n&&a.call(this,r),r}function h(t){var e,n=this._banners[t];return n&&(e=n.contents,n.contents=null),e}function p(t){var e=this._hitTimers,n=this._banners[t].hitTimeout,i=!1;return isNaN(n)?e[t]=null:n<=0?(e[t]=!0,i=!0):(e[t]=setTimeout(function(){e[t]=null},n),i=!0),i}function d(){this._banners.forEach(function(t){t.hasPlace=null})}return{_Init:function(){this._banners=[],this._hitTimers={},t(e).on("resize",r(d,100,this))},add:u,get:h,reload:function(t){var e=this.get(t);return this.preload(t),e},canReload:function(t){var e=this._hitTimers[t];return!0!==e&&(null===e||i(e,"undefined"))},preload:a,check:function(t){var e=this._banners[t],n=!1;return e&&((n=!!e.contents)||this.preload(t)),n},drawTo:function(n,i,s){var r,o,a=this._banners[n];if(a)return r=t(e.document.createElement("iframe")),r.attr("scrolling","no"),Array.isArray(s)&&2===s.length&&r.css({width:s[0],height:s[1]}),r.attr("src","about:blank"),i.children().detach(),r.appendTo(i),o=r.contents().get(0),o.write(this.get(n)),o.close(),a.rendered=!0,r},hasPlaceForBanner:function(e,n,i){var s=n[i?0:1],r=i?"width":"height",o=i?"offsetLeft":"offsetTop";return e[r]()-Math.max.apply(Math,e.children().toArray().map(function(e){return e[o]+t(e)[r]()}))>=s},showBanner:function(t,e){var n,s=this._banners[e],r=s&&s.container,o=!1;return r?(i(r,"string")&&((r=t.data("_bannerCont_"+e))||(r=t.find(s.container),t.data("_bannerCont_"+e,r))),r.length&&(n=s.hasPlaceForBanner(t,s.sizes,s.horizontal))&&(s.loaded?(s.rendered||this.drawTo(e,r,s.sizes),this.canReload(e)&&a.call(this,e),o=!0):(this.preload(e),o=!1)),o&&(i(n,"boolean")?n:o)):o}}}(),u,null,"BannerController")();a("BannerController",{initializer:function(){return h}}),s(!0,n,{Instances:{bnnrCtrl:h}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic.typeOf,s=n.Tools.initModule("BannerController"),r={cssClss:{banners:{default:null}},banners:{default:{url:null,container:".js-popup_banner",horizontal:!0,sizes:[240,400],hitTimeout:5e3,hasPlaceForBanner:function(t,e){var n,i=t.width(),s=t.data("_popupChild");return s||(s=t.find(".js-popup_blocks"),t.data("_popupChild",s)),n=s.outerWidth(!0),i-n>=e[0]}}},showBanner:!0};n.Basic.Constructors.addPlugin("Overlay",function(){function t(t){var n=this._state.banners[t];return!n&&t&&(n=e.call(this,t)),n}function e(t){var e,i,r=this._opts.banners,o=null;if(s)return r[t]=e=n.Basic.Extend({},r.default,r[t]),i=e.url&&s.add(e,!0),isNaN(i)||(this._state.banners[t]=o={index:i}),o}function r(t){return t&&i(t,"string")||(t="default"),t}return{_Events:["bannerShow","bannerHide"],_Init:function(){this._state.banners={}},showBanner:function(e,n){e=r(e);var i=this._opts;if(i.showBanner||!0===n){var o=t.call(this,e);if(!o)return;var a=i.cssClss.banners[e]||i.cssClss.banners.default,l=s.showBanner(this._elems.parent,o.index);this._elems.parent.toggleClass(a,l)}},hideBanner:function(){}}}(),r)}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.Constructors.addPlugin,s=n.Tools.initModule,r=n.Basic.Constructors._repo.get("Popup"),o=function(t){return t},a={beforeShow:o,onShow:o,onHide:o};i("Popup",function(){return{_Handlers:{self:{hide:function(){this._opts.onHide.call(this)},show:function(){this._opts.onShow.call(this)}}},_Init:function(){var t=this._elems.parent.data("_popupObj");if(t instanceof r)return t;this._elems.parent.data("_popupObj",this),this._elems.jBlock=this._elems.parent},Toggle:function(t,e){if(void 0!==e&&null!==e||(e={}),t!==this._state.visible&&(t||!this._state.preventClose)){var n=Promise.resolve({});return t?(this._state.preventClose=!!e.preventClose,n=n.then(this._opts.beforeShow.bind(this)),"function"==typeof e.beforeShow&&(n=n.then(e.beforeShow.bind(this))),"function"==typeof e.onShow&&(n=n.then(e.onShow.bind(this))),"function"==typeof e.onHide&&this.once("hide",e.onHide.bind(this))):("function"==typeof e.onHide&&(n=n.then(e.onHide.bind(this))),"function"==typeof e.onShow&&this.once("show",e.onShow.bind(this))),this.toggle(!!t,n)}},Show:function(t){return this.Toggle(!0,t)},Hide:function(t){return this.Toggle(!1,t)},togglePreload:function(t,e){"function"==typeof e?this._overlay.showLoading(e):this._overlay.showLoading(Promise.resolve({}))},bind:function(){var t=Array.prototype.slice.call(arguments,0);return this.on.apply(this,t)}}}(),a,"PopupLegacy"),t.fn.Popup=function(e,n,i){var r=t(this),o=s("Popup",r,e);return"string"==typeof n&&"function"==typeof o[n]&&o[n](i||{}),r}}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.typeOf,s=n.Basic.Extend,r=n.Basic.Constructors.getView,o=n.Basic.moduleOpts.setParams,a=e.getNameSpace,l={cssSels:{Main:{Btns:".js-shares_btn",Cnts:".js-shares_cnt",Total:".js-shares_total",countCont:null}},cssClss:{hideCount:"hidden_all",hidden:"hidden_all"},showCnt:!0,getCntOnInit:!0,typeAttr:"data-share",urlTypeParam:"social",url2Share:null,Counters:null,addParams:null,shareParams:{Title:null,Description:null,Image:null},prepareParams:function(t,e){var n=t.Tweet;"tw"==e&&n&&(t.Title=n)},ignoreMetaParams:navigator.userAgent.toLowerCase().indexOf("msie")>-1},c={my:{baseUrl:"//connect.mail.ru/",url:"share",count:"share_count?callback=1",countUseCallback:!0,getCount:function(t,e){var n;return t&&(n=t[e])&&n.shares||0},sizes:[550,340],params:{url:"share_url",title:"title",description:"description",image:"imageurl"},countParams:{url:"url_list",callback:"func"}},ok:{baseUrl:"//connect.ok.ru/",url:"dk?st.cmd=WidgetSharePreview",count:"dk?st.cmd=extLike",countUseCallback:!1,getCount:null,sizes:[550,320],params:{url:"st.shareUrl"},countParams:{url:"ref",id:"uid",callback:"callback"},serializeOptions:{getParamName:function(t,e){return t+"."+e}}},fb:{baseUrl:null,url:"//www.facebook.com/sharer.php",count:"//graph.facebook.com/",countUseCallback:!0,getCount:function(t){var e=0;return t&&t.share&&(e=t.share.share_count||e),e},sizes:[660,370],params:{url:"p[url]",title:"p[title]",description:"p[summary]",image:"p[images][0]",_url:"u"},countParams:{url:"id",callback:"callback"},addParams:{s:100}},vk:{baseUrl:"//vk.com/",url:"share.php",count:"share.php?act=count&format=json",countUseCallback:!1,getCount:null,sizes:[660,390],params:{url:"url",title:"title",description:"description",image:"image"},countParams:{url:"url",id:"index",callback:"callback"}},tw:{baseUrl:null,url:"https://twitter.com/share",count:null,countUseCallback:!0,getCount:null,sizes:[550,300],charsLimit:114,params:{url:"url",via:"via"},countParams:{url:"url",callback:"callback"}}},u=r(function(){var r=n.Types.String,o=r.Url,l=/cl(?:n|b|s|r)/i,u={title:"Title",description:"Description",image:"Image"},h={title:100,descr:500},p=["url","image","title","description"],d=function(){var t={};return function(e,n,s){n=i(n,"undefined")?this.url2Share:n;var r,a=e+n,l=t[a];return!s&&l?l:(l=o.getAbs(n),"object"==i(this._opts.urlParams)&&(l=o.addParams(this._opts.urlParams,l)),r=this._opts.urlTypeParam,l&&e?(null!==r&&(l=o.addParam(l,r||e,r?e:null)),a&&(t[a]=l),l):null)}}(),f=function(t,e){var n;if(e){if("object"==(n=i(e)))return e[t];if("string"==n)return e}},m=function(){var r,l={},u=function(t,e,n){var s,o;r&&(s=r[t])&&i(o=s[e],"function")&&(s[e]=null,o.call(null,n))},h=function(){var t={updateCount:function(t,e){u.apply(null,["ok",t,e])}},n={Share:{count:function(t,e){u.apply(null,["vk",t,e])}}};e.ODKL=s(e.ODKL,t),e.VK=s(e.VK,n)},p=function(t,e){var n=l[t];return e=d.apply(this,[t,e]),n&&n[e]},f=function(t){var e,n=this._elemsByType[t],i=n.Count;i&&i.length&&(e=isNaN(e=p.call(this,t))?0:e,i.text(e),this._opts.cssClss.hideCount?n.countCont.toggleClass(this._opts.cssClss.hideCount,0===e):n.countCont.toggle(e>0))},m=function(t,e,n){var s=l[e];isNaN(t*=1)||(i(s,"object")||(l[e]=s={}),s[n]=t,this._trigger("typeCount",e,t),n===d.call(this,e)&&f.call(this,e))},g=function(t,e){var s,o;return i(r,"object")||(o=a("Instances",n),o.oShareCallbacks?r=o.oShareCallbacks:o.oShareCallbacks=r={}),(s=r[t])instanceof Array||(s=r[t]=[]),s.push(e)-1},_=function(e){var n=this,i=c[e];if(null!==i.count){var s,r=i.countParams,a=i.countUseCallback,l=d.call(this,e),u={};u[r.url]=l,a||(u[r.id]=g.apply(this,[e,function(t){m.apply(n,[t,e,l])}])),r.url&&(u[r.callback]="?"),s=o.addParams(u,(i.baseUrl||"")+i.count,i.serializeOptions),h(),t.getJSON(s,a?function(t){var s=i.getCount(t,l);m.apply(n,[s,e,l])}:null)}};return{getTypeCount:function(t,e){var n=p.call(this,t);return isNaN(n)||!0===e?_.call(this,t):f.call(this,t),n},initCbcks:h}}(),g=m.getTypeCount,_=function(){var t=this.Types;if(t)for(var e=0;e<t.length;e++)g.call(this,t[e])},v=function(t,e){return t&&(e=t.add(e)),e},w=function(){var e=this._elems.Cnts,n=this._elems.countCont,i=this._opts,s=i.typeAttr,r=this._elemsByType={},o=this.Types=[];this._elems.Btns&&this._elems.Btns.toArray().forEach(function(a,l){var c,u=t(a),h=u.attr(s)||u.data("shareType"),p=r[h]={};h&&(-1===o.indexOf(h)&&o.push(h),u.removeAttr(s).data("shareType",h),p.Btn=v(p.Btn,u),i.showCnt&&e&&(c=e.eq(l),c.length&&(p.Count=v(p.Count,c),p.countCont=v(p.countCont,n&&n.eq(l)||c))))})},y=function(){function n(){var e={};return t("meta",document.head).each(function(){var t,n=this.getAttribute("property")||this.getAttribute("name");n&&("description"===n||(t=n.split(":"))&&2===t.length&&"og"===t.shift())&&(e[t&&t.shift()||n]=this.getAttribute("content"))}),e}var a=function t(n){var i=this,s=this._Timers.ppCheckTimer;s&&(clearTimeout(s),this.ppCheckTimer=null,g.call(this,n,!0)),this._Timers.ppCheckTimer=setTimeout(function(){var s;i._Timers.ppCheckTimer=null;try{i.curWin.closed?(s=g.call(i,n,!0),i._trigger("windowClose",n,s)):t.call(i,n)}catch(t){e.console.error(t)}},500)},m=function(t){var e,o,a,l,p,d=s({},this._shareParams),f=this._opts,m=d.via,g=f.prepareParams,_=!0!==f.ignoreMetaParams,v={},w=!1;if(i(g,"function")&&g.call(this,d,t),_&&(e=n()),"tw"!=t)for(var y in u)u.hasOwnProperty(y)&&(o=d[u[y]]||_&&e[y])&&((a=h[y])&&o.length>a&&(a-=3,o=o.substr(0,a)+(" "!=o.charAt(a)?"...":"")),v[y]=o,w=!0);else w=!0,l=d.Title||document.title,l=l.replace(/"/g,""),p=c[t].charsLimit,m&&(v.via=m,w=!0,p-=11+m.length),l.length>p&&(l=r.cutBySpace(l,p-3)+"..."),v.text=l;return w?v:null},_=function(){var t={};return function(e){var n,s,r,o,a=t[e];return a||(n=c[e],s=this._opts.Counters,r=(n.baseUrl||"")+n.url,s&&(o=f(e,s))&&(o="//r.mail.ru/"+(i(o,"string")&&l.test(o)?"":"cln")+o),t[e]=a=o?o+"/"+r.replace(/^(http(s)?:)?\/\//i,""):r,a)}}(),v=function(t){var e,n,i,r,a=this._opts.addParams,l=d.call(this,t),u=c[t],h=u.params,g=u.serializeOptions||{},v=u.addParams,w=_.call(this,t),y={};if(!l)return null;i=m.call(this,t),r=null!==i,y.url=l,r&&s(y,i);for(var b=0;b<p.length;b++)if(e=p[b],n=y[e]){delete y[e],"fb"!==t||r||"url"!==e||(e="_url");var S=h[e];S&&(w=o.addParam(w,S,n,g))}return v&&s(y,v),a&&s(y,f(t,a)),o.addParams(y,w,g)},w=function(t){for(var e,n,i,s=[],r=0;r<t.length;r++)e=t[r],n=r?"height":"width",i=r?"top":"left",s.push(n+"="+e,i+"="+Math.max(0,Math.round(screen[n]/2-e/2)));return s.join(",")};return function(t){var n,i=v.call(this,t),s=c[t];if(i&&s){if(n=this.curWin)try{n.close()}catch(t){e.console.error(t)}this.curWin=e.open(i,"share",w(s.sizes)+",personalbar=0,toolbar=0,scrollbars=1,resizable=1"),a.call(this,t)}}}();return{_Events:["typeCount","windowClose"],_Handlers:{dom:{"click:Main.Btns":function(e){e.preventDefault();var n=t(e.currentTarget);y.call(this,n.data("shareType"))}}},_Init:function(){this.url2Share=this._opts.url2Share||t(e.document.head).find("link[rel=canonical]").attr("href")||e.location.href,this._shareParams=this._opts.shareParams,this._Timers={},w.apply(this),this._opts.showCnt&&!0===this._opts.getCntOnInit&&_.apply(this)},setUrl2Share:function(t,e,n){var r;t&&i(t,"string")&&(this.url2Share=t,e&&(i(n,"undefined")||n?this._shareParams=s(!0,{},e):this._shareParams=s(!0,this._shareParams,e)),this._opts.showCnt&&((r=this._elems.countCont||this._elems.Cnts)&&(this._opts.cssClss.hideCount?r.addClass(this._opts.cssClss.hideCount):r.hide()),_.apply(this)))},updateElementsSet:function(t){this._elems=function(t,e,n){return t.Main&&e.length&&Object.keys(t.Main).forEach(function(i){n[i]||(n[i]=e.find(t.Main[i]))}),n}(this._opts.cssSels,t,{parent:t}),w.apply(this)}}}(),l,null,"Shares");o("Shares",{options:{_Handlers:{typeCount:function(t,e){var n=this._totalCount=this._totalCount||{};n[t]=e;var i=0;for(var s in n)n.hasOwnProperty(s)&&(i+=n[s]);this._elems.Total&&(this._elems.Total.text(i),this._elems.Total.toggleClass(this._opts.cssClss.hidden,i<=0))}}},paramAttrs:{shareParams:{Tweet:"data-twshare"},url2Share:"data-url2share"}}),s(!0,e.getNameSpace("Modules",n),{Shares:u})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(){if(e.DEBUG){var t=[p+":"].concat(Array.prototype.slice.call(arguments,0));e.console.info.apply(e.console,t)}}function s(){if(void 0!==e.pageXOffset&&void 0!==e.pageYOffset)return{left:e.pageXOffset,top:e.pageYOffset};var t=document.documentElement||document.body.parentNode||document.body;return{left:t.scrollLeft,top:t.scrollTop}}if(e.DEBUG){var r=e.console;r.warn("components/Springs.js —É—Å—Ç–∞—Ä–µ–ª, –µ–≥–æ —Å–ª–µ–¥—É–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞:"),r.warn("- components/springs/SpringItem.js;"),r.warn("- components/springs/SpringGroup.js;"),r.warn("- components/springs/SpringContainer.js;")}if(!e.requestAnimationFrame)throw new Error("Install 'requestAnimationFrame' polyfill, por favor. Comprendes, amigo?");var o=e.requestAnimationFrame,a=!(!e.requestAnimationFrame||!e.requestAnimationFrame.name),l=n.Basic.Extend,c=n.Basic.debounce,u=n.Basic.Constructors.getView,h=n.Tools.FuncTools.multi,p="SpringsContainer",d={cssSels:{Main:{top:".js-springs__top",bottom:".js-springs__bottom"},item:".js-springs__item",group:".js-springs__group",groupTop:".js-springs__group_top",groupBottom:".js-springs__group_bottom"},autostart:!0,alwaysShowFirst:!0,itemOptions:{minHeight:10},filters:function(){return["notEmpty","minHeight","maxHeight"]},staticMode:!1,groupParams:{},minSegmentHeight:600,lazyTimeout:1e3,paddingTop:0,itemPaddingBottom:20,itemWrapTemplate:function(t){return t}},f={cssSels:{Main:{}},cssClss:{active:"springs__item_active"},lazy:!1,position:0},m={STATIC:1,FIXED:2,ABSOLUTE:3},g=t(e),_=function(){function e(t,e,n,s){var r={minHeight:n.minHeight,height:s.height},o=t.slice(0);return e.filters().forEach(function(t){if(!(t in p))return void i("'"+t+"' not found in filters");var e=p[t];o=e(o,r)}),o}function n(t,i,s,r){if(!t.length)return[];if(i.alwaysShowFirst&&1===t.length)return t;var o=e(t,i,s,r);return o.length>0?o:n(t.slice(0,t.length-1),i,s,r)}function r(t,e,n){var i=function(t,e){var i=l({},n,t.options,{position:e});return new v(i,t.$)};return t.map(i)}function o(t){var e=t.filter(function(t){return t.options.lazy});return{regular:t.filter(function(t){return!t.options.lazy}),lazy:e}}function a(t,e){t.forEach(function(t){e.filter(function(e){return e.index===t.index}).length||t.$.hide()})}function c(t){return(t||[]).reduce(function(t,e){return t+e.getRect().height},0)}function u(t,e,n,i){this._id=Math.random().toString(36).substr(2,9),this._nodes=t.map(function(t,e){return t.index=e,t}),this._groupNode=i.groupNode,this._anchorTop=i.top,this._anchorBottom=i.bottom,this._options=e,this._itemOptions=n,this._state={},this._items=[]}var p=function(){function e(e){return e.filter(function(e){var n=e.$;return n.children().length||t.trim(n.text())})}function n(t,e){return t.filter(function(t){return t.$.get(0).getBoundingClientRect().height>e.minHeight})}function i(t,e){var n=e.height/(t.length||1);return t.filter(function(t){return t.$.get(0).getBoundingClientRect().height<n})}return{notEmpty:e,minHeight:n,maxHeight:i}}(),d=function(t){var e=this._options,n=e.groupParams,i=Object.keys(n),s=i.reduce(function(t,e){return t+=+n[e].limit||0},0),r=(t-s)/((this._items.length||1)-i.length),o=0;return this._items.reduce(function(i,s,a){var l=n[a],c=l?l.staticMode:e.staticMode,u={staticMode:c,top:0};return c?(u.top=o,o+=s.getRect().height+e.itemPaddingBottom,u.limit=o):e.staticMode?(o+=l&&l.limit||r,u.top=u.limit=o,o+=s.getRect().height+e.itemPaddingBottom):(o+=l&&l.limit||r,u.limit=Math.min(o,t)),i.concat(u)},[])},f=function t(e){if(!(e.length<=1)){if(c(e)>this._state.bottom-this._state.top){var n=e.slice(-1)[0];n&&(n.toggle(!1).setState({position:m.FIXED,coords:{top:-1e4}}),t.call(this,e.slice(0,e.length-1)))}}},_=function(){var t=s(),e=this._anchorTop.get(0).getBoundingClientRect(),n=this._anchorBottom.get(0).getBoundingClientRect(),i=0,r=this.lastItem();r&&(i=r.getRect().height);var o=e.top+t.top,a=n.top+t.top,l=a-o-i;return{top:o,bottom:a,height:l,itemHeight:l/(this._items.length||1),itemParams:d.call(this,l),dimensions:{top:0}}};return u.prototype.initialize=function(){var t=this._options,e=o(this._nodes),i=e.lazy.map(function(e){var n=t.itemWrapTemplate(e.$);return t.parentNode.append(n),{$:n,options:e.options}});this._timer=setTimeout(function(){var o=_.call(this),l=[];e.regular.length&&(this._options.alwaysShowFirst&&this._state.isFirstGroup?(l=[e.regular[0]],l=l.concat(n(e.regular.slice(1),t,this._itemOptions,o))):l=l.concat(n(e.regular,t,this._itemOptions,o))),i.length&&(l=l.concat(n(i,t,this._itemOptions,o))),a(e.regular.concat(i),l),this._items=r(l,t,this._itemOptions),this._handleReady();var c=s();this.update(c,this.getIndex(c),!0)}.bind(this),this._options.lazyTimeout)},u.prototype.itemsHeightChanged=function(){return this._items.some(function(t){return t.heightHadBeenChanged()})},u.prototype.revert=function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._nodes.forEach(function(t){t.$.show()});for(var t;this._items.length>0;)t=this._items.pop(),t.destroy();return this},u.prototype.ready=function(t){return this._handleReady=t,this},u.prototype.getState=function(){return l({},this._state)},u.prototype.getAnchors=function(){var t={};return this._anchorTop&&this._anchorTop.parent().length&&(t.top=this._anchorTop),this._anchorBottom&&this._anchorBottom.parent().length&&(t.bottom=this._anchorBottom),t},u.prototype.resetState=function(t){return this._anchorTop=t.anchorTop||this._anchorTop,this._anchorBottom=t.anchorBottom||this._anchorBottom,this._state=l(this._state,_.call(this),t||{}),this},u.prototype.firstItem=function(){return this._items[0]},u.prototype.lastItem=function(){return this._items.slice(-1)[0]},u.prototype.getItemAt=function(t){var e=this._items.slice(0,t),n=this._items[t],i=this._items.slice(t+1);return{left:e,item:n,right:i,rest:e.concat(i)}},u.prototype.getIndex=function(t){var e=t.top+this._options.paddingTop-this._state.top,n=-1;return e>0&&this._state.itemParams.every(function(t,i){return!(t.limit>=e)||(n=i,!1)}),n},u.prototype.update=h(function(t,e,n){var i;if(this._state.itemHeight<this._options.minSegmentHeight?i="all":(void 0!==e&&null!==e||(e=this.getIndex(t)),i=e<0?"first":e>=this._items.length?"last":"rest"),n||-1===e||this._state.activeIndex!==e)return this._state.activeIndex=e,i}).method("all",function(){this._items.forEach(function(t){t.toggle(!0).setState({position:m.STATIC,coords:{}})}.bind(this)),f.call(this,this._items),this._options.onGroupStatusChange(this._id,"showAll")}).method("first",function(){var t=this.getItemAt(0);if(void 0!==t.item){var e=this._state,n=e.isFirstGroup?{position:m.STATIC,coords:{}}:{position:m.ABSOLUTE,coords:{top:0}};t.item.toggle(!0).setState(n)}t.rest.forEach(function(t){t.toggle(!1)}),this._options.onGroupStatusChange(this._id,"fixFirst")}).method("last",function(){var t=this.getItemAt(this._items.length-1);void 0!==t.item&&t.item.toggle(!0).setState({position:m.ABSOLUTE,coords:{top:this._state.height}}),t.rest.forEach(function(t){t.toggle(!1)}),this._options.onGroupStatusChange(this._id,"fixLast")}).method("rest",function(t,e){void 0!==e&&null!==e||(e=this.getIndex(t));var n=g.height(),i=this.getItemAt(e);if(i.rest.forEach(function(t){t.toggle(!1)}),void 0!==i.item){var s=i.item.getRect().height;if(this._options.onGroupStatusChange(this._id,"fixItem"),s>n){var r=this._state.top+e*this._state.itemHeight-this._options.paddingTop,o=(t.top-r)/this._state.itemHeight;i.item.toggle(!0).setState({position:m.FIXED,coords:{top:this._options.paddingTop-o*(s-n)}})}else i.item.toggle(!0).setState({position:m.FIXED,coords:{top:this._options.paddingTop}})}}),u}();u(function(){function n(e,n){return e&&e.length?t(e.get(0)):n}function r(){var e=t(document.body);e.toggleClass("_",!e.hasClass("_"))}function u(t){var e={},n=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){n.some(function(n){return!!(n&&t in n)&&(e[t]=n[t],!0)})}),e}var h=function(t){this._state.processing||(o(t.bind(this)),this._state.processing=!0)},d=function(t,e){return e=e||".",[t,this._props.namespace].join(e)},f=function(){var t=this._state.dimensions,e=this.getDimensions(),n=this._state.groups.some(function(t){return t.itemsHeightChanged()});(t.height!==e.height||n)&&(this._trigger("dimensionsChange",t,e),this.resetState(),this.update(!0))},m=function(){this.resetState(),this.update(!0)},v=function(){this.initGroups()},w=a?function(){}:c(r,80,!0),y=a?function(){}:c(r,80),b=function(){this.update(),w(),y()};return{_Events:["ready","dimensionsChange","groupStatusChange"],_Handlers:{pubsub:{adqSlotAdded:v}},_Init:function(){if(!this._elems.top)return void i("_Elems.top not found");if(!this._elems.bottom)return void i("_Elems.bottom not found");this._elems.parent.data(p,this),this._props={namespace:p+1e17*Math.random()},this._state={groupStatus:{},groups:[],lazyLoading:!0,dimensions:{top:null,bottom:null,height:null}};var t=d.call(this,"scroll"),e=d.call(this,"resize");g.on(t,h.bind(this,b)),g.on(e,h.bind(this,m)),this._trigger("ready"),this._timer=setInterval(f.bind(this),200)},update:function(t){var e=s();return this._state.groups.forEach(function(n){n.update(e,n.getIndex(e),!!t)}),this._state.processing=!1,this},addGroup:function(t,i){i=i||{};var s=this._Opts,r=u(["staticMode","alwaysShowFirst","paddingTop","itemPaddingBottom","minSegmentHeight","groupParams"],i,s);l(r,{itemWrapTemplate:s.itemWrapTemplate,parentNode:this._elems.top,lazyTimeout:s.lazyTimeout,filters:i.filters||s.filters,onGroupStatusChange:function(t,n){if(this._state.groupStatus[t]!==n){this._state.groupStatus[t]=n,this._elems.parent.trigger("documentHeightChange");var i=document.createEvent("HTMLEvents");i.initEvent("resize",!0,!0),e.dispatchEvent(i),this._trigger("groupStatusChange",t,n)}}.bind(this)});var o=n(i.anchorTop,this._elems.top),a=n(i.anchorBottom,this._elems.bottom),c=new _(t,r,s.itemOptions,{top:o,bottom:a,groupNode:i.groupNode});return this._state.groups.push(c),s.autostart&&(this.resetState(),c.initialize()),c.ready(function(){this.resetState()}.bind(this)),this.resetState(),this},initGroups:function(){return this._state&&(this._state.groups.forEach(function(t){t.revert().initialize()}),this.resetState()),this},getDimensions:function(){var t,e,n=s();try{t=this._Elems.top.get(0).getBoundingClientRect(),e=this._Elems.bottom.get(0).getBoundingClientRect()}catch(n){t={top:0},e={top:0}}var i=t.top+n.top,r=e.top+n.top;return{top:i,bottom:r,height:r-i}},resetState:function(){var t=this._elems,e=t.parent,n=this._opts.cssSels,i=n.Main.top,s=n.Main.bottom,r=this.getDimensions();return t.top=e.find(i).add(e.filter(i)).eq(0),t.bottom=e.find(s),this._state.groups.forEach(function(e,i,s){var o=n.groupTop,a=n.groupBottom,l=e._groupNode,c=e.getAnchors(),u=c.top,h=c.bottom;l&&(u=u||l.filter(o).add(l.find(o)).eq(0),h=h||l.find(a).eq(0)),u&&u.length||(u=t.top),h&&h.length||(h=t.bottom),e.resetState({isFirstGroup:0===i,isLastGroup:i===s.length-1,dimensions:r,anchorTop:u,anchorBottom:h})}),this._state.dimensions=r,this._state.processing=!1,this}}}(),d,null,p);var v=u(function(){function t(t,e){var n={position:"fixed",top:e.top};return t.css(n)}function e(t){var e={position:"static"};return t.css(e)}function n(t,e){var n={position:"absolute",top:e.top};return t.css(n)}function i(t,e){return!t||(t.position!==e.position||t.coords.top!==e.coords.top)}return{_Events:["toggle"],_Init:function(){this.resetState()},getRect:function(){return this._elems.parent.get(0).getBoundingClientRect()},resetState:function(){return this._state={position:m.STATIC,rect:this.getRect(),coords:{top:0}},this},heightHadBeenChanged:function(){return this.getRect().height!==this._state.rect.height&&(this._state.rect=this.getRect(),!0)},toggle:function(t){return this._elems.parent.toggleClass(this._Opts.cssClss.active,t),this._trigger("toggle",t),this},destroy:function(){return this},setState:function(s){if(i(this._state,s)){switch(s.position){case m.STATIC:e(this._elems.parent);break;case m.FIXED:t(this._elems.parent,s.coords);break;case m.ABSOLUTE:n(this._elems.parent,s.coords)}return this._state=s,this._state.rect=this.getRect(),this}}}}(),f,null,"SpringsItem")}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e,n){!function(t,e,n){"use strict";var i,s=n.Basic,r=s.typeOf,o=n.Types.Array,a=Array.prototype,l=n.Tools.Forms.Select.createSelect,c=n.Tools.initModule,u=["value","text","index","selected","disabled"],h=u.slice(3).concat("inOptgroup"),p={cssSels:{Main:{Select:"select",View:"",viewText:"",Dropdown:"",optionsCont:"",Options:""},optElem:"",optText:""},cssClss:{optionProps:{disabled:"",selected:"",highlighted:"",inOptgroup:""},optgroupHead:"",optgroupHeadSelectable:"",disabledView:"",activeView:""},Templates:{Option:"<div></div>"},Attrs:{Select:{defText:"data-default",selText:"data-selected"},selectableOptGroup:{selected:"data-selected",value:"data-value"},optIndex:"data-optidx",selectedGroup:"data-selected",groupValue:"data-value"},changeEvent:"click",preventChangeEvent:!0,preventChangeInit:!1,processOptions:null,deferDraw:!0},d=s.Constructors.getView(function(){function n(t,e){return r(t,"array")?t.indexOf(e)>-1:e==t}function s(){var t=this._opts,e=t.Attrs.Select,n=this._elems.Select,i=n.get(0),s={disabled:i.disabled,multiple:i.multiple};this._Properties=s;for(var r in e)e.hasOwnProperty(r)&&e[r]&&(s[r]=n.attr(e[r]));this._Dropdown.Disable(s.disabled)}function p(t){var e=this._opts.cssClss.optionProps;h.forEach(function(n){e[n]&&t.jOption.toggleClass(e[n],t[n])})}function d(t,e,n){var i,s=this._Value,o=this._Properties.multiple,l=t.value,c=r(e,"boolean")?!e:t.selected;if(n=!1!==n,!t.disabled){var u=p.bind(this);c?o&&(i=s.indexOf(l))>-1&&s.length>1?s.splice(i,1):this._Value=null:(o?s=null!==s?a.concat.call(s,l):[l]:(this.getSelectedOptions().forEach(function(t){t.selected=!1,u(t)}),s=l),this._Value=s),t.selected=t.elOption.selected=!c,u(t),!0!==e&&this.render(),n&&this._trigger("change",t)}}function f(t,e){var n,i,s=r(t),a=r(e),l="array"===s,c=a===s;return c?c=l?o.Equals(t,e):t==e:(l||"array"===a)&&(l?(n=t,i=e):(n=e,i=t),c=1===n.length&&n.indexOf(i)>-1),c}function m(){this.setValue(this.getValue())}function g(e){var n=this._opts,i=t(e.target).closest(n.cssSels.optElem).attr(n.Attrs.optIndex);n.preventChangeEvent&&e.preventDefault(),isNaN(i)||this.toggleOption(i)}function _(t){if(this._State.opened=t,t&&!this._elems.Options.parent().length){var e=this.getSelectedOptions();this.drawOptionsList(),e.length&&this.highlightOption(e[0],!0)}this._toggleKeyboardHandlers(t),this._trigger("listToggle",t)}function v(){var t=this._State;t.typeInTimer=null,t.typeIn=""}var w=function(e,n){var i,s,o,a=n.cssSels.optText,l=n.Templates.Option,c=!1;return r(l,"function")?o=l(e):(c=!0,o=l),i=t(o),s=a?i.find(a):i,s.length||(s=i),e.$option=i,e.$text=s,e.jOption=i,e.jText=s,c&&s.text(e.text),i};return{_Events:["draw","change","listDraw","listToggle","typeIn","scrollChange","select","optionsCreated"],_Handlers:{dom:{"change:Main.Select":m}},_Init:function(){var e=this._elems;this._Options=[],this._Value=null,this._State={opened:!1,typeIn:"",typeInTimer:null,highlighted:-1},this._onKeyPress=this._onKeyPress.bind(this),this._onKeyDown=this._onKeyDown.bind(this),e.Select.hide(),this._Dropdown=this._initDropdown(),this._Dropdown.on("toggle",_.bind(this)),s.call(this),this._opts.preventChangeInit?this._createOptions(!1,e.Select.val()):this._createOptions(),this.render(),this._trigger("draw"),e.optionsCont.on(this._opts.changeEvent,g.bind(this)),t(m.bind(this))},addOptions:function(t){var e=this._elems.Select,i=this._Value;return l(t,function(t){var e=t;return r(t,"string")&&(e={text:t,value:t}),e.selected=e.defaultSelected=n(i,e.value),e},e.get(0)),this._Value=null,this._createOptions(!0,i),this.render(),f(this._Value,i)||e.trigger("change"),this},disable:function(t){var e=this._Properties,n=this._elems.Select.get(0);return"boolean"!=typeof t&&(t=!0),e!==t&&(e.disabled=n.disabled=t,this._Dropdown.Disable(t),this.render()),this},Disable:function(){return this.disable.apply(this,Array.from(arguments))},highlightOption:function(t,e){var n=this._State;if(!t)return void(n.highlighted=-1);if(n.opened){n.highlighted=t.index;var i=this._opts.cssClss.optionProps,s=this._elems,r=s.optionsCont,o=i.highlighted||i.selected,a=r.get(0),l=t.$option.get(0);s.Options.removeClass(o),o&&t.$option.addClass(o);var c=l.offsetTop,u=l.offsetHeight,h=a.offsetHeight,p=a.scrollTop,d=c+u>p+h;(a.scrollHeight>h&&d||c<p)&&(!0!==e&&d&&(c-=h-u),r.scrollTop(c),this._trigger("scrollChange",c),t.$option.trigger("scrollChange"))}},getSelectedOptions:function(){return(this._Options||[]).filter(function(t){return t.selected})},drawOptionsList:function(){var t=this._elems;t.optionsCont.html(t.Options),this._trigger("listDraw")},toggleOption:function(t){var e=this._Properties.multiple,n=this._Options[t];return n&&!n.disabled&&(!e&&n.selected||(d.call(this,n),this._elems.Select.trigger("change")),e||this.toggleDropdown(!1),this._State.highlighted=t),this},toggleOptState:function(t,e,i,s){var o,a,l,c=this._Options,u=this._Properties.multiple,h=r(t,"function"),f=!r(e,"boolean"),m=null==i,g=h?t:null,_=!1,v=!1,w=null;s=!1!==s;for(var y=0;y<c.length;y++)o=c[y],l=o.value,a=h?g.call(this,o):n(t,l)?!(f?o.disabled:e):o.disabled,!a&&null===w&&m&&(w=y),o.disabled!=a&&(_=!0,o.disabled=o.elOption.disabled=a,!0===a&&o.selected&&(v=!0,u&&d.call(this,o,!1,s)),p.call(this,o));return u||!v||isNaN(w)||d.call(this,c[w],!0,s),_&&(v&&s&&this._elems.Select.trigger("change"),this.render()),this},toggleDropdown:function(t){return this._Dropdown.Toggle(t),this},setValue:function(t,e,i){var s,r,o=this._State,a=this._Options,l=!1,c=!1;if(i=!1!==i,Array.isArray(t)&&1===t.length&&(t=t.shift()),!f(t,this._Value)){for(var u=0;u<a.length;u++)s=a[u],r=s.selected,n(t,s.value)?(l=!0,d.call(this,s,!0,i),o.highlighted=u,r||(c=!0)):e&&r&&(d.call(this,s,!1,i),c=!0,l=!0);l&&(c&&i&&this._elems.Select.trigger("change"),this.render())}return this},getValue:function(){return this._elems.Select.val()},setOptions:function(t){var e=this._elems;return e.Options=null,e.Select.empty(),this.addOptions(t),this},refresh:function(){return this._elems.Options=null,this._elems.optionsCont.empty(),s.call(this),this._createOptions(),this.render(),this},render:function(){var t=this._Properties,e=t.defText,n=this._elems,i=this._opts.cssClss.disabledView;null===this._Value||e&&""===this._Value||(e=t.selText)||(e=this.getSelectedOptions().map(function(t){return t.text}).join(", ")),n.viewText&&n.viewText.text(e||""),i&&n.View.toggleClass(i,t.disabled)},_createOptions:function(e,i){var s=this._elems,o=this._opts,a=o.Attrs.selectableOptGroup,c=this._State,h=s.Select.get(0),f=s.Options,m=!(f&&f.length>0),g=this._Options=[],_=this._optGroups=[],v=[],y=null;r(o.processOptions,"function")&&o.processOptions.call(this,h),Array.from(h.options).forEach(function(t,e){var n,i,s=t.parentNode,r=s!==h,c={elOption:t,inOptgroup:r};if(r&&y!==s){y=s;var p=y.getAttribute(a.value);if(p){var d=y.hasAttribute&&y.hasAttribute(a.selected)||null!==h.getAttribute(a.selected);i=l([{text:s.label,value:p,selected:d}]).options[0],i.parentNode.removeChild(i),i.selected=i.defaultSelected=d,y.insertBefore(i,t),t=i,c.inOptgroup=!1}else if(m){var b={text:s.label,disabled:!0,isOptGroupHead:!0};w(b,o),v.push(b.$option.addClass(o.cssClss.optgroupHead).get(0)),_.push(b)}}c.isOptGroupHead=!!i,c.optGroupIndex=_.length-1,g.push(c),u.forEach(function(e){c[e]=t[e]}),m||(n=f.eq(e)),n&&n.length?(c.$option=n,c.jOption=n):(n=w(c,o),v.push(n.get(0))),n.attr(o.Attrs.optIndex,c.index),c.isOptGroupHead&&n.addClass(o.cssClss.optgroupHeadSelectable)}),g.forEach(function(t,e){t.elOption.selected?(c.highlighted=e,d.call(this,t,!0,!(void 0!==i&&n(t.value,i)))):p.call(this,t)}.bind(this)),v.length>0&&(s.Options=t(f?f.toArray().concat(v):v)),m&&(!0!==e&&o.deferDraw||this.drawOptionsList()),0===g.length&&this.Disable(),this._trigger("optionsCreated",this._Options)},_getActiveOptions:function(){return this._Options},_getOptionByValue:function(t){var e=null;return this._Options.some(function(n){var i=n.value===t;return i&&(e=n),i}),e},_initDropdown:function(){return c("Dropdown",this._elems.Parent,{cssSels:{Main:{Button:this._opts.cssSels.Main.View}},cssClss:{showDropdown:this._opts.cssClss.activeView}})},_onKeyDown:function(){var t=[38,40,13],e=function(t,e,n){n="number"==typeof n?n:this._State.highlighted;var i=t[0]||null,s=-1!==n?this._Options[n]:null,r=s?t.indexOf(s):-1;if(-1!==r){var o=e?r+1:r-1,a=t.length-1;o=o<0?a:o>a?0:o,i=t[o]}return i};return function(n){var i=this._State,s=n.keyCode;if(i.opened&&-1!==t.indexOf(s)){n.preventDefault();var r=i.highlighted,o=38===s,a=this._getActiveOptions();if(o||40===s){if(null!==i.typeInTimer)return;i.typeInTimer=setTimeout(v.bind(this),70);var l=e.call(this,a,!o);l&&(this.highlightOption(l),this._trigger("typeIn",l))}else 13===s&&r>-1&&-1!==a.indexOf(this._Options[r])&&this.toggleOption(r)}}}(),_onKeyPress:function(t){var e=this._State,n=String.fromCharCode(t.keyCode||t.charCode);if(e.opened&&n){e.typeIn+=n;var i,s=this._Options,r=e.typeIn;clearTimeout(e.typeInTimer),e.typeInTimer=setTimeout(v.bind(this),400);for(var o=0;o<s.length&&(i=s[o],0!==i.text.toLowerCase().indexOf(r));o++)i=null;this.highlightOption(i,!0),i?(this._trigger("typeIn",i),e.highlighted=o):v.call(this)}},_toggleKeyboardHandlers:function(n){var s=this._State;if("boolean"==typeof n&&s.areHandlersAdded!==n){s.areHandlersAdded=n,i||(i=t(e.document));var r=n?"on":"off";i[r]("keypress",this._onKeyPress),i[r]("keydown",this._onKeyDown)}}}}(),p,null,"CustomSelect");n.Modules.CustomSelect=d,n.Modules.customSelect=d,t.fn.goCustomSelect=function(){return function(e){return this.each(function(){var n=t(this),i=n.data("CustomSelect")||n.data("cSelectObj");i instanceof d||(i=d(e,t(this)),n.data("CustomSelect",i),n.data("cSelectObj",i))})}}()}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic,s=n.Tools.getTemplate,r={url:"/ajax/feedback/",templates:{form:"ct-feedback.xml"},onPrepareParams:null};i.getView(function(){function i(){var n=!("getSelection"in e),i=n?document.selection.createRange():e.getSelection(),s=t(n?i.parentElement():i.anchorNode);this._elems.selectionParent=s;var r,o,a,l,c,u=this._Elems.Parent[0];if(!s.closest(this._Elems.Parent)||"None"===i.type)return!1;if(n)i.expand("word"),r=e.document.selection.createRange(),r.moveStart("character",-20),r.setEndPoint("EndToStart",i),r.expand("word"),o=r.text,r.moveEnd("character",20),r.setEndPoint("StartToEnd",i),r.expand("word"),a=r.text,l=i.text;else{if(!i.getRangeAt)return!1;c=i.getRangeAt(0),r=document.createRange(),r.setStartBefore(u),r.setEnd(c.startContainer,c.startOffset),o=r.toString(),o.length>30&&(o=o.substr(o.length-30).replace(/^\S{1,10}\s+/,"")),r.setStart(c.endContainer,c.endOffset),r.setEndAfter(u),a=r.toString(),a.length>30&&(a=a.substr(0,30).replace(/\s+\S{1,10}$/,"")),l=i.toString()}return{text:[o,"[",l,"]",a].join("").replace(/\r?\n?/g,""),selectionText:l}}return{_Events:[],_Handlers:{dom:{"keydown:document":"_onKeydown"}},_onKeydown:function(t){if(t.ctrlKey&&13==t.keyCode){var r=this._Opts,o=i.call(this);if(t.preventDefault(),o.text){var a={serverApi:{send:{url:r.url}},Templates:{form:s(r.templates.form)},validateOnChange:!1,templateParams:{mistake:!0,lnk:e.location.href,text:o.text,isBigMsg:o.selectionText.length>90}};"function"==typeof r.onPrepareParams&&(a=r.onPrepareParams.call(this,a));new n.Modules.AsyncForms(a,null).Show()}}}}}(),r,null,"FoundMistake"),i.moduleOpts.setParams({paramAttrs:{url:"data-action"}}),i.Extend(!0,n,{Modules:{FoundMistake:"FoundMistake"}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=e.DEBUG,s=n.Basic,r=s.Extend,o=n.Basic.moduleOpts.get,a=n.Tools.loadSlot,l={cssSels:{wrapper:".js-promo-popup__wrapper",block:".js-promo-popup",close:".js-promo-popup__close"},cssClss:{show:"box_promo_shown"},attrs:{closeUrl:"data-close-pxl-url"},timers:{hide:1e4,show:0},bannerParams:{moduleName:"Slot",id:null,template:null},canShowOnInit:null,moveToWrapper:!0},c=s.getView(function(){function e(t){t&&((new Image).src=t)}function n(t){var e=t.split("."),n="";return e.reduce(function(t,e){return e=n+e,t=r(!0,t||{},o(e)),n=e+".",t},{})}function s(t){var e=this._elems.block;if(!(e||{}).length)return void(i&&console.log("–ù–µ –Ω–∞–π–¥–µ–Ω –±–ª–æ–∫ —Å–æ —Å–ª–æ—Ç–æ–º"));e.toggleClass(this._opts.cssClss.show,t),this._trigger(t?"show":"hide")}function l(){s.call(this,!1),e(this._state.pixelClose),this._trigger("close")}function c(){var t=this._opts,e=this._state,n=t.timers,r=parseInt(n.show)||0,o=parseInt(n.hide)||0,a=s.bind(this,!0);e.inited&&!e.started&&(r>0?setTimeout(a,r):a(),o&&(isNaN(parseInt(o))?i&&console.warn("–ù–µ–≤–µ—Ä–Ω–æ —É–∫–∞–∑–∞–Ω–æ –≤—Ä–µ–º—è –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –ø–æ–ø–∞–ø–∞"):setTimeout(s.bind(this,!1),o+r)),e.started=!0)}function u(e){e.preventDefault();var n=t(e.currentTarget);this._state.pixelClose=n.attr(this._opts.attrs.closeUrl),l.call(this)}var h=function(){var t=this._opts,e=this._elems,i=n(t.bannerParams.moduleName);return{slot:t.bannerParams.id,template:t.bannerParams.template,parent:e.parent,container:e.parent,failTimeout:i.failTimeout,instanceIdAttr:i.instanceIdAttr,slotParams:{sz:t.bannerParams.sitezone||i.slot.sitezone||"",region:i.slot.region||"",siteId:i.slot.siteId||""},mimic:i.mimic}};return{_Events:["show","hide","close","slotAdded","slotEmpty","slotData","move"],_Handlers:{pubsub:{adqSlotData:function(t){var e=t.data||{},n=this._state;n.inited&&!n.started&&n.slotId==e.slot&&this._trigger("slotAdded")},adqSlotEmpty:function(t){var e=t.data,n=this._state;n.inited&&n.slotId==e.slot&&this._trigger("slotEmpty")}}},_Init:function(){var e=this._elems,n=this._opts,s=n.cssSels,r=n.canShowOnInit,o=n.bannerParams;if(!o.id||!o.template)return void(i&&console.log("–í –Ω–∞—Å—Ç—Ä–æ–∫–∞—Ö –º–æ–¥—É–ª—è –Ω–µ —É–∫–∞–∑–∞–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø—Ü–∏–∏"));var l=this._state={slotId:o.id,pixelClose:null};("function"!=typeof r||r.call(this))&&(l.inited=!0,a(h.call(this)).then(function(i){if(this._trigger("slotData",i),i){if(e.block=e.parent.find(s.block),n.moveToWrapper){var r=(e.wrapper=t(s.wrapper)||{}).length?e.wrapper:document.body;e.block.appendTo(r),this._trigger("move")}e.block.on("click",s.close,u.bind(this)),c.call(this)}}.bind(this)))}}}(),l,null,"PromoPopup");r(!0,n,{Modules:{PromoPopup:c}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n,i){"use strict";var s=n.Basic.Constructors.getView,r=n.Basic.Extend,o=n.Basic.moduleOpts.setParams,a={cssSels:{Main:{Controls:null}},cssClss:{disabledControl:null},Attrs:{switchDirection:"data-direction"}};r(!0,n,{Modules:{GalleryControls:s(function(){var n=["prev","next"];return{_Handlers:{"dom:click:Main.Controls":"_onControlClick",model:{lastimage:"_onLastImage",imagechange:"_onImageChange"}},_Init:function(){null===this._elems.Controls&&i&&e.console.warn("GalleryControls: element 'Main.Controls' not found");var t=this._Model.getCurrentImage(),n=t.image,s=this._Model._Opts.Loop,r=0===n,o=n===t.setLength-1;(!s&&null!==n||r&&o)&&(r||o)&&this._onLastImage(o,r)},_onControlClick:function(t){var e=this._Model,i=t.currentTarget.getAttribute(this._Opts.Attrs.switchDirection)===n[1],s=e.getCurrentImage(),r=s.image;null===s.set&&e.changeSet(0),null===r&&(r=0,e.changeImage(r)),e.changeImage(r+(i?1:-1)),t.preventDefault()},_onLastImage:function(e,i){if(null!==this._elems.Controls){var s=this._Elems.Controls,r=this._Opts,o=r.cssClss.disabledControl,a=r.Attrs.switchDirection,l=t.map(n,function(t,n){return(0===n?i:e)?t:null});s.each(function(){var n=i&&e||-1!==l.indexOf(this.getAttribute(a));t(this).toggleClass(o,n)})}},_onImageChange:function(){this._elems.Controls&&this._Elems.Controls.removeClass(this._Opts.cssClss.disabledControl)}}}(),a,null,"GalleryControls")}}),o("GalleryControls",{acceptTypes:["Gallery"]})}(window.jQuery||window.$,window,window.ru.mail.cpf,window.DEBUG)},function(t,e){!function(t,e,n){var i=n.Basic,s=n.Modules,r="WritableGalleryPreviews",o=i.Constructors.getView(function(){function t(t){var e,n,i=this._previewsVersion,s=[];if(!isNaN(i)&&null!==i)for(var r=0;r<t.length;r++)e=t[r].versions[i],n=null,e?n=e.src:!0===this._Opts.ignoreVersionMiss&&(n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),n&&s.push(n);return s}function n(n){var i=t.call(this,n),s=e.document.createElement("div");return s.innerHTML=this._Opts.Templates.previews({previews:i,current:this._Model.getCurrentImage().image}),s.childNodes}function i(){var t=this._Model._getSetImages(this._imagesSet),e=this._elems,i=e.previewsCont;t&&t.length>1&&(i.html(n.call(this,t)),e.Preview=i.find(this._Opts.cssSels.Main.Preview))}return{_Handlers:{model:{setchange:"_onSetChange"}},_Init:function(){var t=this._Opts,e=t.imagesSet;if(this._imagesSet=e=null===e?e:1*e,this._drawnSet=e||this._Model.getCurrentImage().set,this._previewsVersion=1*t.previewsVersion,isNaN(this._imagesSet))throw new TypeError('Wrong type of "imagesSet" option');i.call(this)},_onSetChange:function(t,e){var n=this._imagesSet;(null===n&&this._drawnSet!==e||n===e)&&(this._drawnSet=e,i.call(this))}}}(),{cssSels:{Main:{previewsCont:null}},previewsVersion:2,ignoreVersionMiss:!1,Templates:{previews:null}},s.GalleryPreviews,r);s[r]=o,i.moduleOpts.setParams(r,{acceptTypes:"Gallery"})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic,s=i.typeOf,r=n.Types.String.Url.addParams,o={galleryId:null,urlSplash:null,urlGallery:null,urlParams:{galleryId:"id"},urlParamsStatic:{splash:null,gallery:null},getUrlParams:null,randomUrlParam:"",useGalleriesCache:!0,preloadSplash:!1,prepareGalleryData:null,prepareSplashData:null,gallerySplashCount:null},a=["loadStart","loadFinish","loadError","showSplash","splash"];i.Constructors.addPlugin("Gallery",{_Handlers:{setchange:"_onSetChange"},_Init:function(){this._resetSplashFlags(),this._galleriesCache={},this._addEventTypes(a),this._Current.galleryId=this._Opts.galleryId||null},setSplashUrl:function(t){this._opts.urlSplash=t,this._resetSplashFlags()},addImagesSet:function(){var t=this._super.apply(this,arguments);return-1!==t&&(this._setsParams[t].addLastFrame=!0),t},changeImage:function(t){var e,n,i=this._opts,s=this._Current,r=this._getCurrentSetImages(),o=!1,a=!!i.Loop,l=this._opts.gallerySplashCount,c=null===l;if(r&&this._isValidId(t)){t=+t;var u=this._getImageId(t),h=r[u];c?(e=this._showSplash&&t===r.length,n=e||!this._showSplash&&u===r.length-1):(e=this._showSplash&&t>=r.length,n=l>0?e&&t===r.length-1+l:u===r.length-1);var p=0===u;o=t<=r.length+l?(e?t:u)!=s.image:a&&u!==s.image,o&&(e?(s.image=t,this.getSplashData().then(this._trigger.bind(this,"splash")),this._trigger("showSplash",l?{imageId:t}:{})):(s.image=u,this._trigger("imagechange",h,u,s.set),this._preloadCurImage(u,h),this._showSplash&&i.preloadSplash&&!this._splashDataPromise&&this.loadSplash().then(function(t){this._showSplash=!!t}.bind(this)))),a||!n&&!p||this._trigger("lastimage",n,p)}return o},getSplashData:function(t){return this._splashDataPromise||this.loadSplash(t)},loadSplash:function(n){n=s(n,"undefined")?this._Current.galleryId:n;var i=this._Opts,o=this._trigger.bind(this),a=s(i.getUrlParams,"function")?i.getUrlParams.call(this,n):{};return a=t.extend({},i.urlParamsStatic.splash||{},a),i.randomUrlParam&&(a[i.randomUrlParam]=(Math.random()+"").split(".")[1]),this._trigger("loadStart","splash",n),this._splashDataPromise=fetch(r(a,i.urlSplash)).then(function(t){return o("loadFinish","splash",n),t.json()}).then(function(t){return s(i.prepareSplashData,"function")&&(t=i.prepareSplashData.call(this,t)),t}.bind(this)).catch(function(t){e.console.error(t),o("loadError","splash",n)}),this._splashDataPromise},loadGallery:function(n){var i=this._Opts,s={},o=null;return i.useGalleriesCache&&(o=(this._galleriesCache[n]||{}).storage),s[i.urlParams.galleryId]=n,this._trigger("loadStart","gallery",n),(o?Promise.resolve(o):fetch(r(t.extend({},i.urlParamsStatic.gallery,s),i.urlGallery)).then(function(t){return t.json()}).catch(function(t){e.console.error(t),this._trigger("loadError","gallery",n)}.bind(this))).then(function(t){return this._onGetGalleryInfo(n,t),t}.bind(this))},_getImageId:function(t){var e,n=this._getCurrentSetImages(),i=n&&n.length-1||0;return!0===this._Opts.Loop?(e=i+1,(t%=e)<0&&(t+=e)):t=Math.max(0,Math.min(t,i)),t},_onGetGalleryInfo:function(t,e){var n=this._Opts,i=this._galleriesCache,r=(i[t]||{}).setId;isNaN(r)&&(s(n.prepareGalleryData,"function")&&n.prepareGalleryData.call(this,e),r=this.addImagesSet(e),i[t]={setId:r,storage:e}),this._trigger("loadFinish","gallery",r,e),this.changeSet(r)&&this.changeImage(0)},_resetSplashFlags:function(){this._showSplash=!!this._opts.urlSplash,this._splashDataPromise=null},_onSetChange:function(t){this._resetSplashFlags(),t.id&&(this._Current.galleryId=t.id)}},o,"Ajax")}(window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic;i.Constructors.addPlugin("PopupGalleryView",function(){return{_initPopup:function(){return n.Tools.initModule(["GalleryControls",this._opts.controlsExt],this._elems.parent,null,null,[{type:"Gallery",instance:this._model}]),this._super.apply(this,arguments)}}}(),{controlsExt:"PopupGalleryView"},"Controls")}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.Constructors.addPlugin,s=n.Basic.debounce,r=n.Tools.initModule;i("PopupGalleryView",function(){function t(){var t=this._model.getCurrentImage(),e=t.setLength>1&&this._previews&&this._previews._Elems.Preview.length>0;this._opts.cssClss.hasPreviews?this._elems.parent.toggleClass(this._opts.cssClss.hasPreviews,e):this._elems.previewsCont.toggle(e)}function e(){var t=this._Elems.previewsCont,e=this._model.getCurrentImage(),n=this._previewsSlider;if(!n&&e.setLength>1&&t&&t.length&&(this._previews=r(["WritableGalleryPreviews",this._opts.previewExt],t,null,null,[{instance:this._model,type:"Gallery"}]),n=this._previewsSlider=r(["Slider",this._opts.previewSliderExt],t))){var i=s(n.update.bind(n,!0,!1,!0),500);i(),n.getFrames().find("img").each(function(){this.complete||(this.onload=i)})}}return{_Handlers:{model:{imagechange:function(t,e,n){var i=this._previewsSlider;this._isTargetImage(n)&&!this._setChanged&&i&&i.goToFrame(e,!this._state.visible)},setchange:function(n){this._isTargetImage(n)&&null!==this._Popup&&(this._previewsSlider?this._previewsSlider.update():e.call(this),t.call(this),this._setChanged=!0)}}},_initPopup:function(){return e.call(this),t.call(this),this._super.apply(this,arguments)},_showImageVersion:function(){this._super.apply(this,arguments),this._setChanged=!1},_processViewSizes:function(){var t=this._previewsSlider;this._super.apply(this,arguments),t&&t.update()}}}(),{cssSels:{Main:{previewsCont:null}},cssClss:{hasPreviews:null},previewSliderExt:"PopupGalleryViewPreviews",previewExt:"PopupGalleryView"},"SliderPreviews")}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic;i.Constructors.addPlugin("PopupGalleryView",function(){function t(t){var n,s,r,o=this._shareButtons,a=this._opts.viewShares;o&&(n=t[a.urlProp],r=i.typeOf(n,"string")&&n.length>0,s=r||!0!==a.hideWhenNoUrl,s&&(n=r?n:e.location.href,o.updateElementsSet(this._getViewParent()||this._elems.sharesCont),o.setUrl2Share(n,{Title:t.title||t.description},!1)),this._opts.cssClss.hideShares?this._elems.sharesCont.toggleClass(this._opts.cssClss.hideShares,!s):this._elems.sharesCont.toggle(s))}return{_Handlers:{model:{imageready:function(e,n,i,s){this._isTargetImage(i,s)&&this._state.visible&&t.call(this,e)}},show:function(){t.call(this,this._model.getImageProps())}},_initPopup:function(){var t=this._elems.sharesCont;return t&&t.length&&(this._shareButtons=n.Tools.initModule(["Shares",this._opts.sharesExt],t,{getCntOnInit:!1})),this._super.apply(this,arguments)}}}(),{cssSels:{Main:{sharesCont:null}},cssClss:{hideShares:"hidden"},sharesExt:"PopupGalleryView",viewShares:{urlProp:"share_url",hideWhenNoUrl:!0}},"Shares")}(window.jQuery,window,window.ru.mail.cpf)},function(t,e,n){!function(t,e,n){"use strict";function i(){var t=this._elems.splash;if(!t||!t.length){if(t=this._elems.parent.find(this._opts.cssSels.Main.splash),!t.length)return null;this._elems.splash=t}return t}var s=n.Basic,r=s.getByPath,o=n.Tools.initModules,a=["splashShow"],l={cssSels:{Main:{splash:".js-splash"},restart:".js-splash__restart",galleryLink:".js-splash__item__link"},cssClss:{showSplash:"pbox_viewmore_preshown",showSplashBlock:"pbox_viewmore_shown",splashLoading:"splash_loading"},templates:{splash:null},attrs:{galleryId:"data-gallery-id",splashType:"data-splash-type"}};s.Constructors.addPlugin("PopupGalleryView",{_Handlers:{dom:{"click:restart":"_onRestartClick","click:galleryLink":"_onGalleryLinkClick"},model:{splash:"_onSplash",loadStart:"_onLoadStart",loadFinish:"_onLoadFinish",loadError:"_onLoadError"}},_Init:function(){this._addEventTypes(a)},_onRestartClick:function(t){t.preventDefault(),this._Model.changeImage(0)},_onGalleryLinkClick:function(t){var e=t.currentTarget.getAttribute(this._opts.attrs.galleryId);e&&this._Model.loadGallery(e),t.preventDefault()},_onImageChange:function(){var t;this._state.splashActive&&(this._state.splashActive=!1,t=this._opts.cssClss,this._elems.parent.removeClass(t.showSplash+" "+t.showSplashBlock),null!==this._elems.splash&&(this._elems.splash.empty(),this._elems.splash=null)),this._super.apply(this,arguments)},_onPopupToggle:function(t){var e,n,i;t&&(e=this._Model,i=e.getCurrentImage().image,n=e._getCurrentSetImages().length,i>=n&&e.changeImage(n-1)),this._super.apply(this,arguments)},_onSplash:function(n){var s=this._opts.attrs,a=this._opts.cssClss,l=this._opts.cssSels,c=this._elems.parent,u=i.call(this),h=this._slider.getCurrentFrame(),p=t(h).attr(s.splashType),d=r("_opts.templates.splash",this),f="function"==typeof d,m=f?u:d[p];this._state.splashActive=!0,m&&(f?u.append(this._opts.templates.splash(n)):(t(l.Main.splash).not(h).addClass(a.splashLoading),Promise.resolve(d[p]).then(function(e){t(h).html(e(n[p]))}).then(function(){o(h),t(h).removeClass(a.splashLoading)})),c.addClass(a.showSplash),a.showSplashBlock&&e.requestAnimationFrame(c.addClass.bind(c,a.showSplashBlock)),this._trigger("splashShow",u))},_onLoadStart:function(){},_onLoadFinish:function(){},_onLoadError:function(){}},l,"Splash")}(window.$,window,window.ru.mail.cpf)},function(t,e,n){!function(t,e,n){"use strict";function i(t){var e=this._opts,n=e.cssClss.Loading,i=e.attrs.slotId;return new Promise(function(n,s){var o=t.find(e.cssSels.splashSlot);o.length||s("cont");var a=o.eq(0),l=e.splashBannerParams.slotId||a.attr(i);l||s("slotId"),r({slot:l,container:a}).then(function(t){t?n():s("slotFail")}.bind(this),function(){s("slotFail")})}.bind(this)).then(function(){t.removeClass(n),this._trigger("splashBannerShow")}.bind(this),function(e){t.removeClass(n)}.bind(this))}var s=n.Basic,r=n.Tools.loadSlot,o=["splashBannerShow"],a={cssSels:{splashParent:".js-splash",splashSlot:".js-splash_slot"},attrs:{slotId:"data-slot-id"},splashBannerParams:{slodId:null}};s.Constructors.addPlugin("PopupGalleryView",{_Handlers:{model:{splashShow:"_onSplashShow",loadStart:"_onLoadSplashStart",loadFinish:"_onLoadSplashFinish",loadError:"_onLoadSplashError"}},_Init:function(){this._addEventTypes(o),this._state||(this._state={}),this._state.splashInited=!1},_onLoadSplashStart:function(t){if("splash"===t){var e=this,n=this._opts,s=this._state,r=this._model.getCurrentImage(),o=r&&this._getImageFrames(r.image);if(o){var a=o.frame,l=n.cssSels.splashParent,c=n.cssClss.Loading;a.is(l)&&(a.addClass(c),s.splashInited||(s.splashInited=!0,e.on("splashShow",i.bind(e))))}}},_onLoadSplashFinish:function(){},_onLoadSplashError:function(){}},a,"SplashBanner")}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){var i=n.Basic,s=n.Tools.Images,r=i.Constructors.addPlugin,o={frameParams:{scrolling:"no",frameborder:0}};r("ImageView",function(){return s._addTypes({iframe:{exts:["html"],canPreload:!1}}),{_setImageToView:function(e,n,i){var s,r=this._opts;return i=this._super.apply(this,arguments),"iframe"===e.type&&(s=this._Model.getFromCache(e.src),s||(s=t("<iframe />").attr(r.frameParams).attr("src",e.src),this._Model.addToCache(s,e.src)),s.css(n).appendTo(i)),i}}}(),o,"Iframe")}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.Constructors.addPlugin,s=n.Tools.Images._addTypes;i("ImageView",function(){return s({html:{canPreload:!1,exts:[]}}),{_setImageToView:function(e,n,i){if(i=this._super.apply(this,arguments),"html"===e.type){var s=this._Model.getFromCache(e.src);s||(s=t("<div/>").append(e.src),this._model.addToCache(s,e.src)),s.css(n).appendTo(i)}return i}}}(),null,"HTML")}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e){"use strict";var n=e.Basic.Constructors.addPlugin,i={};n("ImageView",function(){return{_Handlers:{model:{showSplash:function(e){var n=this._slider,i=e.imageId;n&&(i?(n.goToPage(i),n.getPagesCount()>i&&t(".js-photo_ctrl").removeClass("hidden_all")):n.goToPage(n.getPagesCount()-1))}}}}}(),i,"ImageViewSliderSplash")}(window.$,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(){return!0}function s(t){if(a(t,"string"))return t;var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=t[n]);return e}function r(t){var e,i=t.split("."),s="";return i.forEach(function(t){t=s+t,e=n.Basic.Extend(!0,e||{},n.Basic.moduleOpts.get(t)),s=t+"."}),e}var o=n.Basic,a=o.typeOf,l={},c={cssSels:{Main:{container:".js-popup_banner"}},cssClss:{show:"viewbox__slide_side_show",loading:"viewbox__slide_side_loading",loadFail:""},bannerParams:{},bannerModuleName:"Slot",hasPlaceForBanner:i,minReloadDelay:1e3,reloadOnRerun:!0,continuousMode:!0},u=function(){function t(){for(var t="",e=0;e<3;e++)t+=Math.round(1e10*Math.random()).toString(36);return t}var e={};return function(){for(var n=t();e[n];)n=t();return e[n]=!0,n}}(),h=function(t){var e,n=this._opts.cssClss,i=!0,s="";if(this._state.stateName!==t){switch(t){case"load":e="loading",s=n.loading;break;case"show":e="show",s=n.show;break;case"fail":e="loadFail",s=n.loadFail;break;case"hide":e="hide";break;default:i=!1}i&&(this._state.stateName=t,this._elems.parent.removeClass([n.show,n.loading,n.loadFail].join(" ")).addClass(s),this._trigger(e,{type:e}))}},p=function(){var t=this._state,e=t.loadPromise;return h.call(this,"load"),e||(e=n.Tools.loadSlot(d.call(this)).then(function(){t.loaded=!0}),f.call(this)),e},d=function(){var t=this._opts,e=r(t.bannerModuleName),n=e.slot||{},i=n.params||{};return{slot:t.bannerParams.id,failTimeout:e.failTimeout,blockSel:"#"+this._state.id,slotParams:{sz:n.sitezone||"",region:n.region||"",siteId:n.siteId||"",params:i},mimic:e.mimic}},f=function(){var t=this._state,e=l[t.cacheId];e||(e={timeout:null,canReload:!0},l[t.cacheId]=e),e.timeout&&clearTimeout(e.timeout),e.canReload=!1,e.timeout=setTimeout(function(){e.canReload=!0},this._opts.minReloadDelay)},m=o.Constructors.getView({_Events:["show","hide","loadFail","loading"],_Init:function(){var t=this._opts,e={loaded:!1,canReload:!0,id:u()};t.continuousMode&&(e.cacheId=s(t.bannerParams)),this._state=e,this._elems.container.prop("id",e.id)},show:function(){if(!this.canShow())return void(this._opts.reloadOnRerun&&this.hide());var t=h.bind(this),e=this._state;e.loaded?this._opts.reloadOnRerun?this.reload():t("show"):p.call(this).then(function(){t(e.loaded?"show":"hide")},function(){t("fail")})},reload:function(){var t=this._state;t.loaded=!1,t.loadPromise=null,this.clear(),this.show()},hide:function(){h.call(this,"hide")},clear:function(){this._elems.container.children().detach()},canShow:function(){return!!this.hasPlaceForBanner()&&(!!this._state.loaded||(!this._opts.continuousMode||this.canReload()))},canReload:function(){return!this._opts.continuousMode||(!l[this._state.cacheId]||l[this._state.cacheId].canReload)},hasPlaceForBanner:function(){var t=this._opts.hasPlaceForBanner;return a(t,"function")||(t=i),t.call(this)}},c,null,"Banner");e.getNameSpace("Modules",n).Banner=m}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(t,e){var n="top:"+t+"px;";return e&&(n+="left:"+e+"px;"),n}function s(e){var n=this._Elems.Parent,s=this._Opts,r=s.Attrs,o=r.positionBottom,a=r.positionTop,l=n.offset().top,c=n.width(),h=n.height(),p=u.height(),m=t(document).height();this._layers.forEach(function(t){var e,n,s=t.layer,r=0;t.height=e=s.outerHeight(),t.width=n=s.outerWidth(),t.isCentered&&(r=Math.round((c-n)/2)),f||d?s.css("left",r):s.attr(o,i(h-e,r)).attr(a,i(0,r))}),this.bounds.min=Math.max(l-p,0),this.bounds.max=Math.min(l+h,Math.max(m-p,0)),this.bounds.range=this.bounds.max-this.bounds.min,f||!1===e||d||this._skrollr.refresh()}function r(){var t=this._Opts.idPrefix+(Math.random()+"").replace(".","");return this._Elems.Parent.prop("id",t),"#"+t}function o(t,e){var n=u.scrollTop()+(isNaN(e)?0:e),i=this._Opts.isSameScrollDirection?n-this.bounds.min:this.bounds.max-n,s=this.bounds.range&&i/this.bounds.range;s>=0&&s<=1&&s!==this.bounds.k&&(this._Elems.scrollCont.scrollTop(this._sizes.maxScroll*s),a.call(this,100*(1-s)),this.bounds.k=s),isNaN(e)&&g(o.bind(this))}function a(t){var e,n=this._customLayers,i=n.length;if(i)for(var s=0;s<i;s++)e=n[s],e.handler&&e.handler.call(this,e.element,t,e.data)}var l=n.Basic,c=l.typeOf,u=t(e),h=e.skrollr,p=e.Modernizr,d=p.touch||p.touchevents,f=p.csstransforms3d,m=/ipad|iphone|ipod/i.test(navigator.userAgent),g=e.requestAnimationFrame,_={cssSels:{Main:{layer:".js-parallax__layer",customLayer:".js-parallax__custom",baseLayer:".js-parallax__layer_base",scrollCont:".js-parallax__scroll"}},cssClss:{touchDevice:"p-parallax_touch"},Attrs:{anchorTarget:"data-anchor-target",layerIndex:"data-layer-index",layerCentered:"data-layer-centered",positionTop:"data-top-bottom",positionBottom:"data-bottom-top",scrollHandler:"data-scroll-handler"},scrollHandlers:{},idPrefix:"parallaxBlock_",onBeforeRefresh:null,isTouchDevice:null,isSameScrollDirection:!1,heightChangeEvent:"documentHeightChange",mouseWheelLimit:60,skrollrOpts:{forceHeight:!1,smoothScrolling:!1}},v=l.Constructors.getView({_Init:function(){var i=this,l=this._Opts,p=this._Elems,g=l.Attrs,_=p.Parent,v=g.layerIndex,w=g.anchorTarget,y=g.layerCentered,b=g.scrollHandler,S=_.prop("id"),C=S?"#"+S:r.call(this),T=[],P=[],E=n.Tools.Images.preloadImage,O=s.bind(this),I=Array.from(_.find("img")).map(function(t){return E(t.src)});d=c(l.isTouchDevice,"boolean")?l.isTouchDevice:d,p.layer.each(function(e,n){T.push({layer:t(n),isCentered:!!n.getAttribute(y)}),n.setAttribute(w,C),n.setAttribute(v,e)}),p.customLayer&&p.customLayer.each(function(t,e){var n=e.getAttribute(b),i=n&&l.scrollHandlers[n];i&&P.push({element:e,data:{},handler:i})}),this._layers=T,this._customLayers=P,this._sizes={},this.bounds={},Promise.all(I).then(function(){var n,s=0,r=t(document),c=l.mouseWheelLimit;if(O(!1),f&&!m)p.baseLayer.each(function(){s=Math.max(s,this.offsetHeight)}),i._sizes.maxScroll=s-p.Parent.height(),o.call(i),r.on("mousewheel",function(t){var e,s=t.originalEvent,a=s.deltaY;isNaN(a)&&(n?a=s.wheelDelta/-120*n:(e=u.scrollTop(),r.one("scroll",function(){n=Math.abs(u.scrollTop()-e)}),a=-s.wheelDelta)),Math.abs(a)>c&&o.call(i,null,a)});else if(d)_.addClass(l.cssClss.touchDevice);else{var g=h.get(),v=l.skrollrOpts;i._customLayers.length&&(v.beforerender=function(t){var e,n=i.bounds,s=t.curTop;s>n.min&&s<n.max&&(e=100*(s-n.min)/n.range,a.call(i,e))}),g?g.refresh():g=h.init(v),i._skrollr=g}u.on("resize",e.requestAnimationFrame.bind(null,O)).on("load",O),l.heightChangeEvent&&r.on(l.heightChangeEvent,O)},function(){})}},_,null,"ParallaxBlock");e.getNameSpace("Modules",n).ParallaxBlock=v,t.fn.ParallaxBlock=function(e){return this.each(function(){new v(e,t(this))})},l.moduleOpts.setParams("ParallaxBlock.Autoinit",{initializer:function(t,e){t.isTouchDevice.then(function(t){new v({isTouchDevice:t},e)})},options:{isTouchDevice:new Promise(function(t){t(!(e.Modernizr.csstransforms3d&&!d)&&n.Tools.checkDeviceType().then(function(t){return"tablet"===t}))})}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(t){return-1!==h.indexOf(t)}function s(n){if(!f){f=!0,n=r.typeOf(n,"boolean")?n:null;var s=r.moduleOpts.getParams("ParallaxBlock")||{},l=a(!0,s,{isTouchDevice:n});p.each(function(e,n){var i=o(n)||{};new m(a(!0,{},l,i.parallaxOpts),t(n))}),u||i("firefox")||t(function(){(function(){var e=navigator.userAgent,n=-1==e.toLowerCase().indexOf("webkit")?"html":"body",i=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return i&&parseInt(i[2],10)>=61&&(n="html"),t(n)})().smoothWheel({isTouchDevice:n,globalState:e.getNameSpace("ru.mail.auto").State||null})})}}var r=n.Basic,o=r.getOptions,a=r.Extend,l=e.Modernizr,c=l.touch||l.touchevents,u=l.csstransforms3d,h=e.navigator.userAgent.toLowerCase(),p=t(".js-slot-parallax"),d=t(e),f=!1,m=n.Modules.ParallaxBlock,g=n.Tools.PubSub;p.length&&(u&&!c?s(!1):(n.Tools.checkDeviceType().then(function(t){c="tablet"==t,s(c)}),d.one("touchstart",s))),g&&g.subscribe("adqSlotAdded",function(e){t("["+e.data.idAttribute+'="'+e.data.id+'"]').find(".js-slot-parallax").length&&!f&&(f=!0,n.Tools.initModules(t(".js-slot-parallax"),{cssSels:{module:".js-slot-parallax"}}))})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e,n){!function(t,e,n,i){"use strict";var s=i.prefixed("transform"),r=i.csstransforms3d,o=e.requestAnimationFrame,a=n.Basic.getView,l=n.Tools.FuncTools.multi,c=n.Basic.debounce,u={offset:{top:60,bottom:20},cssSels:{Main:{panel:".js-fixed-panel"}},cssClss:{base:"p-fixed-panel",top:"p-fixed-panel_top",bottom:"p-fixed-panel_bottom",fixed:"p-fixed-panel_fixed",absolute:"p-fixed-panel_absolute"},documentElement:e.document};a(function(){function n(){return e.scrollY||document.documentElement.scrollTop}function i(t,e){return Object.keys(e).forEach(function(n){t.toggleClass(n,e[n])}),t}function a(){var t=null;try{t=new Event("resize")}catch(e){t=document.createEvent("Event"),t.initEvent("resize",!1,!1)}e.dispatchEvent(t)}var u=t(e),h=function(){return r?function(t,e){return t.css(s,"translate3d(0, "+e.y+"px, 0)")}:function(t,e){return t.css({top:e.y})}}(),p=function(t,e){var n=this._opts.cssClss,s={},r=this._elems.panel;return s[n.base]=!0,s[n.absolute]=0===t||2===t,s[n.fixed]=-1===t||1===t,s[n.top]=1===t,s[n.bottom]=-1===t,this._state.position=t,i(r,s),r.css("left",s[n.fixed]?r.parent().offset().left-document.body.scrollLeft:""),h(r,{y:e}),this._elems.panel},d=l(function(t,e){return t?e?"fullDown":"fullUp":"small"}).method("small",function(){var t=p.bind(this),e=this._opts.offset,i=this._state.bounds.parent,s=this._state.bounds.panel,r=n(),o=r+e.top<i.offset.top,a=i.rect.height+i.offset.top-r>s.rect.height+e.top;o?t(-2,0):a?t(1,e.top):t(2,i.rect.height-s.rect.height-e.bottom)}).method("fullDown",function(t,e,n,i){var s=p.bind(this),r=this._opts.offset,o=this._state.height,a=this._state.bounds.parent,l=this._state.bounds.panel,c=a.rect.top<=r.top&&a.rect.bottom<=o,u=a.rect.top<r.top&&a.rect.bottom>o&&l.rect.bottom<=o;1===i?s(0,l.rect.top-a.rect.top-r.bottom):c?s(2,a.rect.height-l.rect.height-r.bottom):u&&s(-1,0)}).method("fullUp",function(t,e,n,i){var s=p.bind(this),r=this._opts.offset,o=this._state.height,a=this._state.bounds.parent,l=this._state.bounds.panel,c=a.rect.top>r.top-r.bottom,u=a.rect.top<=0&&a.rect.bottom>=o&&l.rect.top>r.top&&l.rect.bottom>=o;-1===i?s(0,l.rect.top-a.rect.top-r.bottom):c?s(-2,0):u&&s(1,r.top)}),f=function(){var t=n(),e=this.getBounds(),i=t>=this._state.value,s=e.panel.rect.height+this._opts.offset.top>u.height();this._state.value=t,this._state.bounds=e,o(d.bind(this,s,i,t,this._state.position))},m=function(){var t=this._state.bounds,e=this.getBounds();t.parent.rect.height===e.parent.rect.height&&t.panel.rect.height===e.panel.rect.height||f.call(this)};return{_Handlers:{},_Init:function(){if(null!==this._elems.panel){this._state={position:-2,value:n(),height:u.height()};var t=c(a,200);u.on("scroll",function(e){e.target==this._opts.documentElement&&(f.call(this),t())}.bind(this)),u.on("resize",function(){this._state.height=u.height(),f.call(this)}.bind(this)),this._timer=setInterval(m.bind(this),100),f.call(this)}},getBounds:function(){var t=this._elems,e=t.parent,n=t.panel;return{parent:{rect:e.get(0).getBoundingClientRect(),offset:e.offset()},panel:{rect:n.get(0).getBoundingClientRect(),offset:n.offset()}}}}}(),u,null,"FixedPanelView")}(window.jQuery||window.$,window,window.ru.mail.cpf,window.Modernizr)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(97),s=(n.n(i),n(98)),r=(n.n(s),n(250)),o=(n.n(r),n(78)),a=(n.n(o),n(113)),l=(n.n(a),n(112)),c=(n.n(l),n(114)),u=(n.n(c),n(119)),h=(n.n(u),n(130)),p=(n.n(h),n(131)),d=(n.n(p),n(132)),f=(n.n(d),n(251));n.n(f),n(386),n(390),n(407),n(409),n(413),n(419),n(420),n(421),n(423),n(426)},function(t,e,n){"use strict";var i=n(252),s=(n.n(i),n(253)),r=(n.n(s),n(80)),o=(n.n(r),n(81)),a=(n.n(o),n(115)),l=(n.n(a),n(79)),c=(n.n(l),n(127)),u=(n.n(c),n(118)),h=(n.n(u),n(254)),p=(n.n(h),n(255)),d=(n.n(p),n(256)),f=(n.n(d),n(5)),m=(n.n(f),n(128)),g=(n.n(m),n(205)),_=(n.n(g),n(257)),v=(n.n(_),n(258)),w=(n.n(v),n(129)),y=(n.n(w),n(259)),b=(n.n(y),n(124)),S=(n.n(b),n(125)),C=(n.n(S),n(387)),T=(n.n(C),n(117)),P=(n.n(T),n(260)),E=(n.n(P),n(261)),O=(n.n(E),n(388)),I=(n.n(O),n(262)),A=(n.n(I),n(263)),M=(n.n(A),n(229)),x=(n.n(M),n(389));n.n(x)},function(t,e){!function(t,e,n){"use strict";function i(t,e){var i=t.data.email||null;u!==i&&(u=i,this._trigger("authChange",u,n.activeUser())),a(e,"function")&&e()}function s(t){clearTimeout(this._rejectTimeout),u=t,d.resolve(t),this._trigger("getUserInfo",t)}var r=e.Basic,o=r.Extend,a=r.typeOf,l=e.Tools,c="activeUser"in n,u="",h=function(){};if(!l.Auth){var p={rejectTimeout:1e3,activeUserGlobal:"__activeUser"},d={},f=new Promise(function(t,e){d.resolve=t,d.reject=e});o(l,{Auth:new(r.Constructors.getModel({_Events:{authChange:{opts:{memory:1}},getUserInfo:null},_Init:function(){var e,r=this._Opts,o=i.bind(this),a=s.bind(this);u=c&&n.activeUser()||t[r.activeUserGlobal]||"",n.on("authChange",o),""===u?(this._rejectTimeout=setTimeout(a,r.rejectTimeout),n[c?"once":"on"]("update",function(t,n){var i=t.data.email;e||(e=!0,a(i),o(t)),n()})):(e=!0,a(u),this._trigger("authChange",u,n.activeUser()))},getAccountsList:function(){var t=new Promise(function(t,e){"loadAccountsList"in n?n.loadAccountsList(function(n){"ok"===n.status?t(n.accounts):e()}):e()});return t.catch(h),t},onGetStatus:function(t){if(!a(t,"function"))throw new TypeError("First argument must be a function.");""!==u?t(u):f.then(t,t.bind(null,null))}},p,null,"Auth"))})}}(window,window.ru.mail.cpf,window.__PH)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic,s=e.__PH,r=i.typeOf,o=s.authForm.show,a=n.Tools.Auth.onGetStatus,l=i.getByPath("Instances.stateObject",n),c=l&&l.State(),u="errorlogin=true",h=e.location,p=h.hash&&h.hash.indexOf(u)>-1||c&&"errorlogin"in c&&c.errorlogin,d=h.hash&&h.hash.indexOf("modallogin=true")>-1||c&&"modallogin"in c&&c.modallogin,f=function(t){return t.match(/^(?:http(?:s)?:)?\/\//)||(-1==t.indexOf("/")&&(t=h.pathname+t),t=h.protocol+"//"+h.host+t),t},m=function(){var t,n=["titleText","infoText","errorText","modal","login","domain","focus","formType","successPage","failPage"],i=function(t){return t&&"#"!==t||(t=h.href.replace(u,"")),f(t)},s=function(t){t=t||{};for(var s,o,a=t.failPage||e.location.href,l=a.indexOf("#"),c=(l>-1?l<a.length-1?"&":"":"#")+u,h=t.preventClose?"&modallogin=true":"",p=t.email&&t.email.split("@")||[],d={successPage:i(t.returnPage),failPage:f(a+c+h),titleText:t.Title,infoText:t.Descr,errorText:t.authFail?"–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.":null,modal:t.preventClose||!1,login:p[0],domain:p[1]},m={},g=n.length;g--;)s=n[g],t.hasOwnProperty(s)&&!r(o=t[s],"undefined")?m[s]=o:d.hasOwnProperty(s)&&!r(o=d[s],"undefined")&&(m[s]=o);return m};return t=function(t){d&&(l?l.setStateKey("modallogin",null,!1,!0):h.hash=h.hash.replace("modallogin=true",""),t.preventClose=!0),o(s(t))},p&&(l?l.setStateKey("errorlogin",null,!1,!0):h.hash=h.hash.replace(u,""),t({authFail:!0,preventClose:!!d})),t}();i.Extend(e.getNameSpace("Comp.jQuery.Tools",n),{showLoginPopup:m}),i.Extend(!0,n,{Tools:{jQuery:{showLoginPopup:m}}}),t(e.document.body).on("click",".js-check_auth",function(n){var i,s=t(this),r=s.attr("href"),o=s.attr("target");n.preventDefault(),a(function(t){t?(r=s.attr("href"))&&"#"!=r?o?e.open(r,o):e.location=r:s.is(":submit")&&(i=s.parents("form").eq(0))&&i.submit():m({returnPage:r})})}),s.on("loginRequest",function(){m()})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e){"use strict";var n=e.Basic.moduleOpts.setParams;n("Notification",{options:{cssSels:{Main:{Head:".js-alert__head",Message:".js-alert__text_0"}}}}),n("Notify",{options:{blockSel:"#box-alert"}})}(window,window.ru.mail.cpf)},function(t,e,n){"use strict";var i=n(214),s=(n.n(i),n(215)),r=(n.n(s),n(264)),o=(n.n(r),n(120)),a=(n.n(o),n(121)),l=(n.n(a),n(265)),c=(n.n(l),n(266)),u=(n.n(c),n(122)),h=(n.n(u),n(123)),p=(n.n(h),n(267)),d=(n.n(p),n(268)),f=(n.n(d),n(186)),m=(n.n(f),n(187)),g=(n.n(m),n(391),n(269)),_=(n.n(g),n(8)),v=(n.n(_),n(153)),w=(n.n(v),n(154)),y=(n.n(w),n(155)),b=(n.n(y),n(156)),S=(n.n(b),n(270)),C=(n.n(S),n(392)),T=(n.n(C),n(393)),P=(n.n(T),n(234)),E=(n.n(P),n(235)),O=(n.n(E),n(236)),I=(n.n(O),n(237)),A=(n.n(I),n(238)),M=(n.n(A),n(394)),x=(n.n(M),n(133)),k=(n.n(x),n(134)),j=(n.n(k),n(166)),N=(n.n(j),n(395)),B=(n.n(N),n(396)),L=(n.n(B),n(397)),D=(n.n(L),n(398)),F=(n.n(D),n(399)),R=(n.n(F),n(400)),z=(n.n(R),n(401)),V=(n.n(z),n(402)),H=(n.n(V),n(403)),U=(n.n(H),n(404)),G=(n.n(U),n(405)),$=(n.n(G),n(406));n.n($);window.ru.mail.asyncTemplates.prefetch("/bem/news/web/web.bundles/ct-popup-alert/ct-popup-alert.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/news/web/web.bundles/ct-popup-mistake/ct-popup-mistake.xml.js")},function(t,e,n){"use strict";var i=n(19),s=(n.n(i),n(135)),r=(n.n(s),n(32));n.n(r);Object(i.setConfig)("LazyItem",{options:{triggerZone:1}}),Object(i.init)(),function(t,e,n){var i=n.Basic.moduleOpts.setParams;i("LazyLoad",{options:{_plugins:null}}),i("LazyLoad.PromoPopup",{options:{_plugins:["Init"]}}),i("LazyLoad.Notice",{options:{_plugins:["Init"]}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){function i(t){return t?(u.csstransforms3d&&(a=o.offset().top,f[c]=g.replace(m,a)),f):d}function s(t){t.submenu.resize()}function r(){var t=p.scrollTop()>a;l!==t&&(l=t,o.css(i(l)),l&&h.getItems(s)),e.requestAnimationFrame(r)}var o,a,l,c,u=e.Modernizr,h=e.__PM,p=n.Comp.jQuery.Elems.jWindow,d={position:"relative"},f={position:"fixed"},m="__val__",g="translate3d(0,-"+m+"px,0)";new Promise(function(t){h._loaded?t():h.on("load",t)}).then(n.Tools.checkDeviceType).then(function(e){"laptop"==e&&(o=t("#portal-menu__submenu"),o.length&&(a=o.offset().top,u.csstransforms3d?(c=u.prefixed("transform"),d[c]="none"):(d.top="0",f.top="0"),r()))})}(window.jQuery,window,window.ru.mail.cpf,window.__PM,window.Modernizr)},function(t,e){!function(t,e,n,i){var s,r,o=i.Types.String.Url,a=o.addParam,l=6e4,c=i.Tools.loadSlot,u={topnews:".js-topnews",newItem:".js-topnews__item",newItemMark:".js-topnews__notification",indexPage:"#index_page",barShowMore:".js-notification__more",barClose:".js-news-notification_close",article:".js-article[data-news-id]"},h={notificationShown:"notification-shown",itemMarkHidden:"photo__title_new_hidden",itemMarkHide:"c-notified_hideitems"},p={now:"data-now",showMoreUrl:"data-url",articleId:"data-news-id",itemId:"data-id",newItemCounter:"data-new-item-clb",counterProp:"name",hideTimeout:"data-timeout"},d={fromMail:"frommail"},f={barClosedTimestamp:"barClosedTimestamp",readNewsNowTimestamp:"readNewsNow",readNewsIds:"readNewsIds",shownNewsId:"shownNewsId",lastTime:"ru.mail.news.lastTime",unreadNewsIds:"unreadNewsIds"};t(function(){function i(t){A=t,v(!1,b)}function m(){clearTimeout(s),y(f.lastTime,+new Date),s=e.setTimeout(g.bind(),l)}function g(){var t=this;c({slot:1800}).then(function(e){v.call(t,!0,e),m.call(t)},function(){m.call(t)})}function _(){var t;return t=y(f.readNewsIds),null!==t?t.split(","):[]}function v(t,e){if(e){b=e;var n=JSON.parse(e[0].html.substr(2));if(n&&n.items&&n.items[0]){var i=n.items,s=_(),r=i[0],o=y(f.shownNewsId),a="";s=i.reduce(function(t,e){var n=e.id.toString();return s.indexOf(n)>-1&&t.push(n),t},[]),O=+y(f.readNewsNowTimestamp);for(var l=i.length-1;l>=0;l--)(i[l].time_published<O||-1!==s.indexOf(i[l].id))&&i.splice(l,1);(!i.length||o==r.id||-1!=s.indexOf(r.id)||O>r.time_published)&&(r=null),t&&y(f.readNewsIds,s),i.length&&(a=i.map(function(t){return t.id}).join()),y(f.unreadNewsIds,a),w(i.length)}}}function w(t){e.__PM.getItems(function(e){var n=e.submenu.items[0].itemsByName.pic_otd;if(n){n.setNumber(t);var i=n.linkEl;if(i){r||(r=i.getAttribute("href"));var s=a(r,"note",2);i.setAttribute("href",t?s:r)}}}),n.title=t>0&&!A?"("+t+") "+I:I}function y(t,e){try{if(void 0===e)return localStorage.getItem(t);localStorage.setItem(t,e)}catch(t){}}var b,S,C=t("body"),T=C.is(u.indexPage),P=function(){var t=o.getParams(location.href),e=d.fromMail;return!!(t&&e in t&&1==t[e])}(),E=+new Date-+y(f.lastTime)>l,O=C.attr(p.now)||+new Date,I=n.title,A=!n.hidden;t(e).on("focus",i.bind(e,!0)).on("blur",i.bind(e,!1)).on("storage",function(t){switch(t.originalEvent.key){case f.readNewsNowTimestamp:var e=t.originalEvent.newValue;e&&"+"===e[0]&&(O=+e),+e<+O?(O=e,E=!1):+e>+O&&y(f.readNewsNowTimestamp,O);case f.shownNewsId:case f.readNewsIds:v(!1,b)}}),T?(E||function(){var e=y(f.unreadNewsIds);if(e){var n=t(u.topnews),i=n.attr(p.newItemCounter);e=e.split(","),n.find(u.newItemMark).each(function(s,r){var o,a,l=t(r),c=l.attr(p.itemId);c&&-1!==e.indexOf(c)&&(l.removeClass(h.itemMarkHidden),o=l.closest(u.newItem).attr(p.counterProp,i),(a=+l.attr(p.hideTimeout))&&setTimeout(function(){n.hasClass(h.itemMarkHide)||n.addClass(h.itemMarkHide),o.removeAttr(p.counterProp)},1e3*a))})}}(),S="+"+O):S=P?"+"+O:+O,y(f.readNewsNowTimestamp,S);var M=t(u.article).attr(p.articleId);if(M){var x=_();-1===x.indexOf(""+M)&&x.push(M),y(f.readNewsIds,x)}g()})}(window.jQuery,window,window.document,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(e){var n=c.alert;n&&e&&e.text&&(this._alertPopup=new l(null,t(n(e))),this._alertPopup.show())}function s(t){var e=this._opts,n=this._Model.getStoreKey(e.listId,e.profileId),i=this._formParams,s=n||i&&i.values.listId;return o(t,"array")?t.indexOf(s)>=0:o(t,"object")?s in t:void 0}var r=n.Basic.moduleOpts,o=n.Basic.typeOf,a=(n.Tools.initModule,n.Tools.initModules,n.Tools.getTemplate),l=n.Basic.Constructors._repo.get("Popup"),c={alert:a("ct-popup-alert.xml")};r.setParams("Subscription",{options:{_Handlers:{init:function(){if(e.location.hash){-1!==e.location.hash.indexOf("#unsubscribe")&&this.unsubscribe("144836")}}}}}),r.setParams("SubscribeAuth",{_Handlers:{authSubscribe:function(){var t=this._opts,e=t.texts;i.call(this,{text:e.subscribed,title:e.header})}}}),r.setParams("SubscribeButton.Notify",{options:{_Handlers:{model:{noAuthForAction:function(){var t=this._elems.parent,e=this._opts.cssClss;t.removeClass(e.loading).toggleClass(e.subscribed,!1)},actionSuccess:function(t){var e=this._opts,n=this._Model.getStoreKey(e.listId,e.profileId),r=e.texts;if(s.call(this,t)){var o=t[n]?r.subscribed:r.unsubscribed;o&&i.call(this,{text:o,title:r.header})}},actionFail:function(t){s.call(this,t)&&this._elems.parent.removeClass(this._opts.cssClss.loading)}}},cssClss:{loading:"button_loading",subscribed:"button_toggle"},checkOnInit:!0}}),r.setParams("SubscribeButton.Notify.Toggle",{options:{cssClss:{loading:null,subscribed:"toggle_active"}}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams,s=n.Tools.getTemplate;i("Overlay",{options:{cssClss:{htmlModifier:"popup-shown",loading:"overlay_loading"}}}),i("Popup",{options:{cssClss:{ppShwn:"popup-shown",bannerShown:"overlay_banner"}}}),i("Popup.ImageView",{options:{overlay:"ImageView"}}),i("Popup.alert",{options:{templates:{parent:s("ct-popup-alert.xml")}}}),i("Overlay.ImageView",{options:{cssSels:{parent:".js-popup_gallery"},cssClss:{htmlModifier:"popup-shown",loading:"overlay_loading"}}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams;i("SpringsItem",{options:{cssClss:{active:"sticky-springs__item_active"}}}),i("SpringsContainer",{options:{lazyTimeout:2e3,minSegmentHeight:400,itemOptions:{minHeight:60},alwaysShowFirst:!0,paddingTop:20,_Handlers:{ready:function(){var e=this._Opts.cssSels.item,n=this;this._Elems.Parent.find(".js-springs__group").toArray().forEach(function(i,s){var r=t(i),o=r.find(".js-springs__group_top"),a=r.find(".js-springs__group_bottom"),l=r.find(e).toArray().map(function(e){return{$:t(e),options:{}}});n.addGroup(l,{anchorTop:o.length?o:null,anchorBottom:a.length?a:null})})}}}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams;i("Dropdown",{options:{cssClss:{showDropdown:"tooltip_shown"}}}),i("Dropdown.RSS",{options:{cssSels:{Main:{Button:".js-dropdown__button"}}}}),i("Dropdown.Ajs",{options:{cssSels:{Main:{Button:".js-link"}}}}),i("Dropdown.Ajs.Footer",{cssClss:{showDropdown:"p-foot__link-wrapper_open"}}),i("Dropdown.footer",{options:{}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams;i("Shares",{options:{getCntOnInit:!1,urlTypeParam:"social",Counters:{vk:"clr1153182",fb:"clr1153179",my:"clr1153171",ok:"clr1153174",tw:"clr1669417"}}}),i("Shares.Total",{options:{ignoreMetaParams:!1,showCnt:!0,getCntOnInit:!0}}),i("Shares.Landing",{options:{ignoreMetaParams:!1,showCnt:!0,getCntOnInit:!0}}),i("Shares.Currency",{options:{cssSels:{Main:{Btns:".js-shares_all_btn"}}}}),i("Shares.Survey",{options:{ignoreMetaParams:!0}}),i("Shares.PopupGalleryView",{options:{ignoreMetaParams:!0,prepareParams:function(t,e){t.Title="tw"==e?t.Tweet||t.Title||t.Description:null}}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams,s=n.Instances.Ago;i("Slider",{options:{cssClss:{animatedCont:"slider__items_animated",currentPageFrame:"slider__item_selected"},_Handlers:{beforeSlide:function(){s&&s.update()},slide:function(){s&&s.update()},init:function(){s&&s.update()}},_plugins:null}}),i("Slider.ImageView",{options:{cssSels:{Main:{content:".js-slider__content"}},cssClss:{animatedCont:"viewbox__slides_animated",currentPageFrame:"viewbox__slide_active"},loop:!1,pageSize:1,swipeExt:"ImageViewSlider",align:"center"}}),i("Slider.ImageView.Infographics",{options:{orientation:"vertical",touchSupport:!0}}),i("Slider.PopupGalleryViewPreviews",{options:{cssSels:{Main:{container:".js-photo_slider_wrap",content:".js-photo_slider_cont"},frame:".js-photo_slider_item"},cssClss:{animatedCont:"animated"},touchSupport:!1}}),i("Slider.Fullscreen",{options:{cssClss:{animatedCont:"animated",currentPageFrame:"diafilm__item_selected"},animationDuration:1500,pageSize:1,align:"center"}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts;i.set("Tabs",{watchHashBang:!0}),i.set("TabsView",{cssClss:{curTab:"tab__content_active",curBtn:"filter__item_active"}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts,s=n.Tools;s.getTemplate,n.Basic.Extend,s.Auth,e.screen;i.setParams("AsyncForms",{options:{cssClss:{serverError:"popup_error",fieldsError:"popup__form_error",sentSuccess:"popup_done"},transport:function(t){return t.secure=!0,s.transport(t)}}}),i.setParams("AsyncFormsCont",{options:{authRequired:!0,hashBangs:["#feedback"]}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Tools;n.Basic.moduleOpts.setParams("FoundMistake",{options:{url:"/ajax/send_mistake",templates:{form:"ct-popup-mistake.xml"},transport:function(t){return t.secure=!0,i.transport(t)}}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";(0,n.Basic.moduleOpts.setParams)("SimpleShowMore",{options:{cssClss:{hiddenBlockAnimated:"simplemore__dynamic"}}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";(0,n.Basic.moduleOpts.setParams)("Toggle.ageRestriction",{options:{cssClss:{hidden:"p-age-restriction__container_hidden"}}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e){"use strict";function n(t,e,n){isNaN(parseInt(t))||((new Image).src="//rs.mail.ru/"+(e||"d")+t+".gif?"+(n?"sz="+n+"&":"")+"r="+Math.round(1e11*Math.random()))}var i=e.Basic.moduleOpts.setParams,s=e.Tools.getTemplate,r=e.Tools.PubSub,o=e.Tools.initModules,a=e.Basic.Constructors._repo.get("Popup");i("PaymentCheck",{options:{_Handlers:{auth:function(){o(t(".js-module-async"))},update:function(e){var i=this._opts;t(i.cssSels.popupButton).length&&!e&&n.call(this,"22339854"),r.publish("comments.payment.status",e)},banned:function(){var e=this._opts;if(!this._bannedPopup){var n=e.templates.alert,i=t(n({text:e.texts.banned}));this._bannedPopup=new a(null,i)}this._bannedPopup.show()}},types:{noauth:"unsubscribe"},templates:{alert:s("ct-popup-alert.xml")}}})}(window.jQuery||window.$,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(t,e,n){isNaN(parseInt(t))||((new Image).src="//rs.mail.ru/"+(e||"d")+t+".gif?"+(n?"sz="+n+"&":"")+"r="+Math.round(1e11*Math.random()))}var s=n.Basic.moduleOpts.setParams,r=n.Tools.getTemplate,o=n.Tools.PubSub,a=n.Basic.Constructors._repo.get("Popup");s("ShowPopup.Comments.Rules",{options:{cssSels:{show:null},useHash:!0,hashKey:"rules",popupExt:"Comments.Rules"}}),s("Popup.Comments.Rules",{options:{templates:{parent:r("ct-popup-comments-rules.xml")}}}),s("ShowPopup.Subcribtion",{options:{cssSels:{show:null},useHash:!0}}),s("ShowPopup.Subcribtion.Confirm",{options:{hashKey:"confirmletter",popupExt:"SubcribtionConfirm"}}),s("ShowPopup.Subcribtion.Unsubscribe",{options:{hashKey:"unsubscribe",popupExt:"SubcribtionUnsubscribe"}}),s("Popup.SubcribtionConfirm",{options:{templates:{parent:r("ct-popup-subscribe-confirm.xml")}}}),s("Popup.SubcribtionUnsubscribe",{options:{templates:{parent:r("ct-popup-subscribe-unsubscribe.xml")}}}),s("ShowPopup.Comments.Agreement",{options:{cssSels:{show:null},popupExt:"Comments.Agreement"}}),s("Popup.Comments.Agreement",{options:{templates:{parent:r("ct-popup-comments-payment-agreement.xml")}}}),s("ShowPopup.Comments.Payment",{options:{cssSels:{show:null},useHash:!0,hashKey:"comments-payment",popupExt:"Comments.Payment",showPromise:function(){return o.publish("comments.payment.get-ban-status"),new Promise(function(t,e){o.subscribe("comments.payment.ban-status",function(n){n.data?e():t()})}).then(function(){return o.publish("comments.payment.get-user-data"),new Promise(function(e,n){o.subscribe("comments.payment.user-data",function(i){if(i.data){var s=new Date,o=1e3*i.data.last_subscription_ends_date_ts;if(new Date(o)>=s.setDate(s.getDate()+7)){if(n(),!this._alertPopup){var l=r("ct-popup-alert.xml"),c=t(l({title:"–î–æ—Å—Ç—É–ø –∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º",text:"–í—ã —É–∂–µ –æ–ø–ª–∞—Ç–∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü. –û–ø–ª–∞—á–µ–Ω–æ –¥–æ: <strong>"+i.data.last_subscription_ends_date_text+"</strong>"}));this._alertPopup=new a(null,c)}this._alertPopup.show()}else e()}}.bind(this))}.bind(this))}.bind(this))}}}),s("ShowPopup.Comments.Payment.News",{options:{_Handlers:{pubsub:{"comments.payment.popup.show":function(){this.show(),i.call(this,"22339854","sb")}}},useHash:!1}}),s("Popup.Comments.Payment",{options:{templates:{parent:r("ct-popup-comments-payment-step-1.xml")}}}),s("ShowPopup.Comments.Payment.Next",{options:{cssSels:{show:".js-show_popup",redraw:null},useHash:!1,popupExt:"Comments.Payment.Next"}}),s("Popup.Comments.Payment.Next",{options:{_Handlers:{hide:function(){this._overlay.empty()}},templates:{parent:r("ct-popup-comments-payment-step-2.xml")}}}),s("Popup.Comments.Payment.Success",{options:{_Handlers:{show:function(){o.publish("comments.payment.update")},hide:function(){this._overlay.empty()}},templates:{parent:r("ct-popup-comments-payment-success.xml")}}}),s("ShowPopup.Chronicle",{options:{cssSels:{show:null},popupExt:"Chronicle"}}),s("Popup.Chronicle",{options:{templates:{parent:r("ct-popup-chronicle.xml")}}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e,n){"use strict";var i=n(271),s=(n.n(i),n(408));n.n(s)},function(t,e){!function(t,e){"use strict";(0,e.Basic.moduleOpts.setParams)("PromoPopup",{options:{bannerParams:{moduleName:"SlotView",id:"34251",template:"ct-promo-popup.xml",sitezone:3},timers:{show:3e3,hide:5e3}}})}(window,window.ru.mail.cpf)},function(t,e,n){"use strict";var i=n(410),s=(n.n(i),n(411)),r=(n.n(s),n(412));n.n(r);window.ru.mail.asyncTemplates.prefetch("/bem/news/web/web.bundles/ct-notify/ct-notify.xml.js")},function(t,e,n){!function(t,e,n){"use strict";var i=n.Basic,s=i.typeOf,r=n.Tools.transport,o={updateDelay:6e4,server:{dataUrl:"/ext/most_shared_news/"},storage:{options:{root:"ru.mail.news",sync:!0},mostSharedNews:"ru.mail.news.mostSharedNewsSync",tabsTimestamps:"mostSharedNews.tabsTimestamps",visitedPages:"mostSharedNews.visitedPages",stopTimestamp:"mostSharedNews.stopTimestamp",startTimestamp:"mostSharedNews.startTimestamp",sessionTimestamp:"mostSharedNews.sessionTimestamp",notificationWasShown:"mostSharedNews.notificationWasShown",visitedPagesMaxLength:20,sessionInterval:3e4},windowNamePrefix:"news_"},a=function(t){return t.toISOString().split("T")[0]},l=i.Constructors.getModel({_Events:["unreadNews"],_Init:function(){var i,r,o,l,c,u,h,p,d=arguments[2],f=this._Opts,m=f.storage,g=d.id,_=new Date,v=_.getTime(),w=!0,y=f.updateDelay;this._state={initTimestamp:v},this._storageTools=r=new n.Tools.LocalStorage(m.options),i=r.getItem(m.visitedPages),s(i,"array")?g&&(o=i.indexOf(g),-1!==o&&i.splice(o,1),i.unshift(g)):i=g?[g]:[],i.length>m.visitedPagesMaxLength&&(i.length=m.visitedPagesMaxLength),r.setItem(i,!1,m.visitedPages),l=parseInt(r.getItem(m.stopTimestamp)),c=!!l&&new Date(l),d.isMainPage?w=!1:c&&a(c)===a(_)&&(w=!1),u=parseInt(r.getItem(m.sessionTimestamp))||0,h=r.getItem(m.notificationWasShown),v-u>2*m.sessionInterval?(r.setItem(!1,!1,m.notificationWasShown),r.setItem(v,!1,m.startTimestamp),p=!0):h?w=!1:y=Math.max(y-(v-parseInt(r.getItem(m.startTimestamp))),0),w&&(this._actualizeTimestamp(p),this._state.active=!0,this._state.pageId=g,this._updateTimer=setTimeout(this.update.bind(this),y)),!1===d.isMainPage&&t(e).on("storage",this._onStorageChange.bind(this)),this._saveSession()},update:function(){clearTimeout(this._updateTimer),this._state.active&&r({url:this._Opts.server.dataUrl}).then(this._processData.bind(this),function(){}.bind(this))},stop:function(){this._storageTools.setItem(Date.now(),!1,this._Opts.storage.stopTimestamp)},_actualizeTimestamp:function(t){var n=this._state,i=this._storageTools,s=this._Opts.windowNamePrefix,r=this._Opts.storage.tabsTimestamps,o=e.name,a=i.getItem(r)||{},l=!1;t?(a={},l=!0):o?o in a&&(n.initTimestamp=+a[o]):l=!0,l&&(o=s+n.initTimestamp,e.name=o,a[o]=n.initTimestamp),i.setItem(a,!1,r)},_saveSession:function(){var t=this._Opts.storage;clearTimeout(this._sessionTimer),this._storageTools.setItem(Date.now(),!1,t.sessionTimestamp),this._sessionTimer=setTimeout(this._saveSession.bind(this),t.sessionInterval)},_onStorageChange:function(t){if(t=t.originalEvent||t,t.key===this._Opts.storage.mostSharedNews)try{var e=JSON.parse(t.newValue),n=this._state.initTimestamp;n>e.timestamp?this._deactivate():n!==e.timestamp&&this._saveMostSharedNewsData(e)}catch(t){this._deactivate()}},_deactivate:function(){this._state.active=!1,t(e).off("storage")},_processData:function(){var t=function(t){return s(t,"object")?t.id?t.id:t.url&&t.url.match(/\/(\d+)\//)[1]||null:null};return function(e){var n=t(e),i=this._Opts.storage,s=this._storageTools;if(n&&this._state.active){-1===s.getItem(i.visitedPages).indexOf(n.toString())&&(s.setItem(!0,!1,i.notificationWasShown),this._state.mostSharedId=n,this._saveMostSharedNewsData(e))}}}(),_saveMostSharedNewsData:function(t){var e=this._state;t.timestamp=e.initTimestamp,new Promise(function(t,n){setTimeout(function(){e.active?t():n()},1e3)}).then(function(){this._trigger("unreadNews",t),this._deactivate()}.bind(this));try{localStorage.setItem(this._Opts.storage.mostSharedNews,JSON.stringify(t))}catch(t){this._deactivate()}}},o,null,"MostSharedNewsModel");e.getNameSpace("Modules",n).MostSharedNewsModel=l}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic,s={cssSels:{notificationCont:"body",notificationClose:".js-news-notification_close",notificationMore:".js-notification__more",notificationInner:".js-notification__inner"},cssClss:{active:"sticky__inner_sliding_active"},templates:{notification:null},notificationIdPrefix:"notification"},r=i.Constructors.getView({_Handlers:{model:{unreadNews:"_onNewsDataRecieved"},dom:{"click:notificationClose":"_onCloseClick","click:notificationMore":"_onMoreClick"}},_Init:function(){if(!i.typeOf(this._Opts.templates.notification,"function"))throw new Error('–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è-—à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –¥–ª—è "—Å–∞–º–æ–π —Ä–∞—Å—à–∞—Ä–∏–≤–∞–µ–º–æ–π –Ω–æ–≤–æ—Å—Ç–∏"!')},_onNewsDataRecieved:function(e){var n=this._Elems,i=this._Opts,s=i.notificationIdPrefix+this.__id,r=t(i.templates.notification(e)).attr("id",s),o=n.notificationCont;if(r&&r.length){o||(n.notificationCont=o=t(i.cssSels.notificationCont)),n.notification=r,this.notificationId=s;var a=o.find("#"+s);a.length?a.replaceWith(r):(o.append(r),n.notificationInner=t(i.cssSels.notificationInner).addClass(i.cssClss.active))}},_onMoreClick:function(){this._removeNotification()},_onCloseClick:function(){this._Model.stop(),this._removeNotification()},_removeNotification:function(){var t=this._Elems,e=this._Opts;this._getNotificationBlock()&&t.notificationInner.removeClass(e.cssClss.active)},_getNotificationBlock:function(){var t=this._Elems,e=t.notification;return e||e.length||(e=this._elems.parent.find("#"+this.notificationId)),e}},s,null,"MostSharedNews");e.getNameSpace("Modules",n).MostSharedNews=r,i.moduleOpts.setParams("MostSharedNews",{acceptTypes:"MostSharedNewsModel"})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";var i=n.Basic;i.moduleOpts.setParams("MostSharedNewsModel",{initializer:function(e,i){var s=t(".js-article").eq(0).attr("data-news-id")||null,r=t("#index_page");return new n.Modules.MostSharedNewsModel(e,i,null,{id:s,isMainPage:!!r.length})}}),i.moduleOpts.setParams("MostSharedNews",{options:{templates:{notification:n.Tools.getTemplate("ct-notify.xml")}}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e,n){"use strict";var i=n(9),s=(n.n(i),n(10)),r=(n.n(s),n(272)),o=(n.n(r),n(11)),a=(n.n(o),n(12)),l=(n.n(a),n(273)),c=(n.n(l),n(13)),u=(n.n(c),n(274)),h=(n.n(u),n(275)),p=(n.n(h),n(276)),d=(n.n(p),n(14)),f=(n.n(d),n(277)),m=(n.n(f),n(15)),g=(n.n(m),n(278)),_=(n.n(g),n(279)),v=(n.n(_),n(16)),w=(n.n(v),n(280)),y=(n.n(w),n(281)),b=(n.n(y),n(17)),S=(n.n(b),n(282)),C=(n.n(S),n(283)),T=(n.n(C),n(414)),P=(n.n(T),n(415)),E=(n.n(P),n(416)),O=(n.n(E),n(417)),I=(n.n(O),n(418));n.n(I);window.ru.mail.asyncTemplates.prefetch("/bem/news/web/web.bundles/ct-viewbox-popup/ct-viewbox-popup.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/news/web/web.bundles/ct-viewbox-previews/ct-viewbox-previews.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/news/web/web.bundles/ct-viewbox-slides/ct-viewbox-slides.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/news/web/web.bundles/ct-viewbox-more/ct-viewbox-more.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/news/web/web.bundles/ct-viewbox-slide-content/ct-viewbox-slide-content.xml.js")},function(t,e){!function(t,e,n){"use strict";(0,n.Basic.moduleOpts.setParams)("Gallery",{options:{imageProps:["original","share_url","description","title","gallery_id","currentIndex","rb_alias","source","published"],preloadDepth:2,urlParams:{galleryId:"gall_id"}},paramAttrs:{urlGallery:"data-gallery-url"}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},function(t,e){!function(t){"use strict";var e=t.Basic.moduleOpts.setParams,n=t.Basic.Extend,i=t.Basic.Constructors._repo.get("GalleryPreviews");e("GalleryPreviews",{acceptTypes:["Gallery"],initializer:function(t,e,s,r){return r&&"images"in r&&(t.imagesSet=s.addImagesSet(n(!0,{},r))),new i(t,e,s)},options:{cssSels:{Main:{Preview:".js-preview-list__item"}},cssClss:{currentPreview:"cols__column_thumb_active"},Attrs:{imageVersions:["data-original","data-preview"],imageProps:{description:"data-descr",title:"data-title"}}}})}(window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";function i(){a()}var s=n.Basic.moduleOpts.setParams,r=n.Tools.getTemplate,o=n.Tools.initModules,a=n.Tools.Counters.hitCntrsBlck,l=!1,c=function(){function t(t,e){return{id:2670930,type:"reachGoal",goal:"news.mail.ru/virtual_gallery"+(e?"_"+e:"")+"/"+t}}var n="ru.mail.news:virtual_gallery_repeat",s=e.localStorage,r=[];return function(o){var a=o.type,l=o.pageCounter||!1,c=[];switch(a){case"finish":r.forEach(function(e){c.push(t(e,a))}),l&&c.length&&i(),r=[];break;default:var u=o.galleryId;if(-1===r.indexOf(u)){c.push(t(u,"start")),r.push(u);var h=(s.getItem(n)||"").split(",");-1!==h.indexOf(u)?c.push(t(u,"repeat")):(h.push(u),s.setItem(n,h.join(",")))}c.push(t(u))}c.length&&c.forEach(function(t){e._tmr.push(t)})}}();s("PopupGalleryView",{options:{cssSels:{Main:{imageView:".js-photo",imageNum:".js-photo_num",imagesTotal:".js-photos_cnt",previewsCont:".js-photo_slider",sizeCont:".js-photo_container",sharesCont:".js-photo_shares"},sizeReference:".js-size-reference",setProps:{title:".js-photo_title",note:".js-photo_note"}},cssClss:{Loading:"viewbox__slide_loading",Error:"viewbox__slide_error",hasPreviews:"viewbox_list",hideShares:"viewbox__slides_hide-shares"},showOnChange:!1,templates:{block:r("ct-viewbox-popup.xml"),frames:r("ct-viewbox-slides.xml"),splash:r("ct-viewbox-more.xml")},splashBannerParams:{slotId:5408},setContSize:!1,showBanner:!0,imagesSet:null,imagesVersion:0,resizeView:!0,_Handlers:{model:{splash:function(){o(t(document.body)),c({type:"finish",pageCounter:!0})},imageready:function(t,e,n,s){if(t&&this._isTargetImage(n,s)&&this._Model.getCurrentImage().image===e&&this._state.visible){var r=t.gallery_id;if(r&&c({galleryId:r}),l)return void(l=!1);i()}},imagechange:function(){var t=this._getViewParent();o(t)},setchange:function(t){this._model.setSplashUrl((t||{}).urlSplash)}},show:function(){this._opts.immediate&&(l=!0)},hide:function(){c({type:"finish"})}}}}),s("ShowGalleryPopup",{options:{_plugins:null}}),s("ShowGalleryPopup.Ajax",{options:{_plugins:["Ajax"],setGalleryPopupOptions:function(t){return{showBanner:!!t.data.showBanner}}}}),s("PopupGalleryView.Shot",{options:{_Handlers:{init:function(){var t=this._model.getSetParams(0);this._model.changeImage(t.currentIndex),this.Show()}},immediate:!0}}),s("PopupGalleryView.Infographics",{options:{sizeLimits:{height:1/0}}}),s("PopupGalleryView.Shot.Infographics",{options:{sizeLimits:{height:1/0},imageSliderExt:"ImageView.Infographics"}}),s("WritableGalleryPreviews.PopupGalleryView",{options:{previewsVersion:2,Templates:{previews:r("ct-viewbox-previews.xml")},cssSels:{Main:{previewsCont:".js-photo_slider_cont",Preview:".js-photo_preview"}},cssClss:{currentPreview:"viewbox__preview_active"}}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t,e,n){"use strict";(0,n.Basic.moduleOpts.setParams)("GalleryControls.PopupGalleryView",{options:{cssSels:{Main:{Controls:".js-photo_ctrl"}},cssClss:{disabledControl:"hidden_all"}}})}(window.jQuery,window,window.ru.mail.cpf)},function(t,e){!function(t){"use strict";(0,t.Basic.moduleOpts.setParams)("Banner.PopupGalleryView",{options:{reloadOnRerun:!0,continuousMode:!0,minReloadDelay:1e3,bannerParams:{id:"9864",dataType:"rb"},hasPlaceForBanner:function(){return!0}},paramAttrs:{bannerModuleName:"data-banner-view"}})}(window.ru.mail.cpf)},function(t,e,n){"use strict";var i=n(284),s=(n.n(i),n(285));n.n(s)},function(t,e,n){"use strict";var i=n(286);n.n(i)},function(t,e,n){"use strict";var i=n(157),s=(n.n(i),n(159)),r=(n.n(s),n(422));n.n(r)},function(t,e){!function(t,e,n){"use strict";function i(t){(new Image).src="//rs.mail.ru/d"+t+".gif?r="+Math.round(1e11*Math.random())}var s=n.Basic.moduleOpts.setParams,r=n.Tools,o=r.initModule,a=r.Counters,l=a.hitEvent;s("MyWidgetModel",{options:{errorNotify:function(){i(25648170),l("topmail",{id:"2888899",type:"reachGoal",goal:"my_widget_error_notify"})},errorNotifyOnce:function(){i(25772012),l("topmail",{id:"2888900",type:"reachGoal",goal:"my_widget_error_notify_once"})}}}),s("MyWidgetView.SmokyExtend",{options:{_Handlers:{render:function(){o(["SmokyExtend","ReplaceLinks"],this._elems.parent)}}}})}(window.jQuery||window.$,window,window.ru.mail.cpf,window._tmr)},function(t,e,n){"use strict";var i=n(239),s=(n.n(i),n(424)),r=(n.n(s),n(425));n.n(r);window.ru.mail.asyncTemplates.prefetch("/bem/news/web/web.bundles/ct-push-notifications/ct-push-notifications.xml.js")},function(t,e){window.ru=window.ru||{},window.ru.mail=window.ru.mail||{},window.ru.mail.mpf=window.ru.mail.mpf||{},window.ru.mail.mpf.components=window.ru.mail.mpf.components||{},window.ru.mail.mpf.components.PushNotifications=function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="/bundles/",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.View=e.Model=void 0;var s=n(1);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var r=n(2),o=i(r),a=n(6),l=i(a);e.Model=o.default,e.View=l.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.version="5.3.0"},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),r=n(4);e.default=function(t,e,n){if(void 0===e||null===e)throw new Error(r.ERRORS.CPF_NOT_FOUND.message);var o=e.Basic.getModel,a=function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return function(){for(var o,a,l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];if(n){var h=[r.MODEL_NAME+"["+t+"]"].concat(c);switch(s){case"error":case"warn":(o=console).warn.apply(o,i(h));break;default:(a=console).info.apply(a,i(h))}}e._trigger.apply(e,[t].concat(c))}},l=function(t,e){var n=a.bind(this),i=this.isEnabled(),r=this._opts,o=r.timeMarkDelta,l=r.useLocalStorageTimemark;!i&&e.isSubscribed?t.unsubscribe():i&&(0,s.checkTimeMark)(o,l).then(function(){var t=(0,s.getPermission)();n("ready")(Object.assign({},e,{permission:t})),(0,s.observePermission)(o,l)}).catch(n("error","warn"))},c=null;return o({_Events:["ready","change","error","subscribe","unsubscribe"],isEnabled:function(){return this._opts.isEnabled},_Init:function(){if(null===c){var t=a.bind(this),e=this._opts.getInstance;c=e(),c.on("change",t("change")),c.on("subscribe",t("subscribe")),c.on("unsubscribe",t("unsubscribe")),c.on("ready",l.bind(this)),c.on("error",t("error","error"))}},ready:function(){return c.ready()},toggle:function(){var t=this;return(0,s.clearTimemark)().then(function(){return c.ready()}).then(function(t){return t.toggle()}).then(function(e){var n=e.getState();return(0,s.setUnsubscribeFlag)(!n.isSubscribed),n.isSubscribed?e:t.defer().then(function(){return e})})},subscribe:function(){var t=a.bind(this),e=this._opts,n=e.timeMarkDelta,i=e.useLocalStorageTimemark;return(0,s.checkTimeMark)(n,i,!0).then(function(){return(0,s.clearTimemark)().then(function(){return c.ready()}).then(function(t){var e=t.getState();return(0,s.setUnsubscribeFlag)(!1),e.isSubscribed?t:t.subscribe()})}).catch(t("error","warn"))},unsubscribe:function(){return this.defer().then(function(){return c.ready()}).then(function(t){var e=t.getState();return(0,s.setUnsubscribeFlag)(!0),e.isSubscribed?t.unsubscribe():t})},clear:function(){return(0,s.clearTimemark)().then(function(){return c.ready()})},defer:function(){var t=this._opts.timeMarkDelta,e=a.bind(this);return(0,s.updateTimeMark)(t,this._opts.useLocalStorageTimemark).catch(e("error","warn"))}},r.MODEL_DEFAULTS_OPTS,null,r.MODEL_NAME)}(window,window.ru.mail.cpf,window.DEBUG),t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(){return w.LS_TIME_KEY+":"+y.version}function r(){var t=s(),e=Object.keys(b).filter(function(e){return 0===e.indexOf(w.LS_TIME_KEY)&&e!==t}).reduce(function(t,e){return b.removeItem(e),v({},t,i({},e,b.getItem(e)))},{});return Promise.resolve(e)}function o(){var t=window.document.cookie.match(/s_cp=([^;]*)/),e=t?t[1]:"";return e?e.split("|"):[]}function a(t){if(t&&t.length){var e=-1===window.location.hostname.indexOf("devmail")?".mail.ru":".devmail.ru";window.document.cookie="s_cp="+t.join("|")+";path=/;domain="+e+";max-age=31536000"}}function l(t){var e=s(),n=void 0;if(t)n=b.getItem(e);else{var i=o();i=i.filter(function(t){return t.indexOf(w.SCP_COOKIE_PARAM)>-1}),n=i.length&&i[0].split("=")[1]}return parseInt(n,10)}function c(t,e){if(e){var n=s();b.setItem(n,t)}else{var i=o();i=i.filter(function(t){return-1===t.indexOf(w.SCP_COOKIE_PARAM)}),i.push(w.SCP_COOKIE_PARAM+"="+t),a(i)}}function u(t){var e=s(),n=l(t);return t&&b.removeItem(e),Promise.resolve(n)}function h(t,e,n){var i=new Date;return r().then(function(){var s=l(e),r=i.getTime(),o=r+t;return new Promise(function(t,e){n?t(0):void 0===s||null===s?t(o):r>s?t(o):e(w.ERRORS.TIMEMARK_HAS_BEEN_SET)})})}function p(t,e){return void 0===t||null===t?Promise.reject(new Error(w.ERRORS.TIMEMARK_DELTA_INVALID.message)):u(e).then(function(){return h(t,e)}).then(function(t){return c(t,e),t})}function d(){return!!b.getItem(w.LS_HAS_USER_UNSUBSCRIBED_KEY)}function f(t){t?b.setItem(w.LS_HAS_USER_UNSUBSCRIBED_KEY,"1"):b.removeItem(w.LS_HAS_USER_UNSUBSCRIBED_KEY)}function m(t,e){if(!e){var n=window.navigator.permissions;n&&n.query({name:"notifications"}).then(function(n){var i=n;i.onchange=function(){"denied"===i.state&&p(t,e)}})}}function g(){return{browserPermission:Notification.permission===w.PERMISSION_GRANTED,userPermission:!d()}}function _(){return{top:window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,left:window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}Object.defineProperty(e,"__esModule",{value:!0});var v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.clearTimemark=u,e.checkTimeMark=h,e.updateTimeMark=p,e.checkUnsubscribeFlag=d,e.setUnsubscribeFlag=f,e.observePermission=m,e.getPermission=g,e.getViewportSizes=_;var w=n(4),y=n(1),b=window.localStorage},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.MODEL_NAME="PushNotificationsModel",i=e.VIEW_NAME="PushNotificationsView";e.LS_TIME_KEY=n+":nextTime",e.LS_HAS_USER_UNSUBSCRIBED_KEY=n+":unsubscribed",e.PERMISSION_GRANTED="granted",e.SCP_COOKIE_PARAM="skipNotificationsTo",e.MODEL_DEFAULTS_OPTS={isEnabled:!0,timeMarkDelta:864e5,getInstance:function(){throw new Error('"push-notifications" not found')},useLocalStorageTimemark:!1},e.VIEW_DEFAULTS_OPTS={template:null,triggerArea:.33,cssSels:{button:".js-push-notifications__button",statusLabel:".js-push-notifications__status",Main:{statusTooltip:".js-push-notifications__switch-tooltip"}},cssClss:{tooltipShown:"tooltip_shown"},allowedActions:["subscribe","unsubscribe","defer","toggle"],timeouts:{initialization:5e3,updateHeight:1e3,statusTooltip:5e3},getStatusText:function(t,e,n){var i=e.attr(n.attrs.textPushOn)||"",s=e.attr(n.attrs.textPushOff)||"";return t.isSubscribed?i:s},styles:{tooltip:function(){return{position:"fixed",zIndex:9999,top:-10,left:75}}},attrs:{index:"data-action",textPushOn:"data-push-on",textPushOff:"data-push-off"}},e.ERRORS={TIMEMARK_HAS_BEEN_SET:{message:"–í—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ç–º–µ—Ç–∫–∞",code:"time_mark"},TIMEMARK_DELTA_INVALID:{message:"–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç–∫–∏"},CPF_NOT_FOUND:{message:"CPF is not found"},INVALID_TEMPLATE:{message:i+": invalid template"},INVALID_TRIGGER_AREA:{message:i+": invalid triggerArea options"},INVALID_ACTION:{message:i+": invalid action"}}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n(3);e.default=function(t,e,n){if(void 0===n||null===n)throw new Error(i.ERRORS.CPF_NOT_FOUND.message);var r=n.Basic.Constructors.getView,o=n.Basic.debounce,a=n.Basic.moduleOpts.setParams,l=n.Tools.FuncTools.multi,c=null,u=function(){var t=this._state,e=t.inited,n=t.scrolled;e&&n&&this.showDialog()},h=function(){var n=this._state,i=n._timers,s=i.updateHeight,r=i.initScroll;s&&clearTimeout(s),r&&clearTimeout(r),t(e).off("scroll.push")},p=function(e){var n=this._opts.template,i=this._opts.styles.tooltip,s=n(e),r=t(s);return"function"==typeof i&&r.css(i.call(this,e)),r},d=function(t){var e=this._elems.statusTooltip,n=this._opts.cssClss.tooltipShown;c&&(clearTimeout(c),c=null),e&&e.toggleClass(n,!!t)},f=l(function(t){if(-1===this._opts.allowedActions.indexOf(t))throw new Error(i.ERRORS.INVALID_ACTION.message+" ("+t+")");return this.hideDialog(),t}).method("defer",function(){return this._model.defer()}).method("subscribe",function(){return this._model.subscribe()}).method("unsubscribe",function(){return this._model.unsubscribe()}).method("toggle",function(){var t=this;return this._model.ready().then(function(e){d.call(t,!1),e.getState().isSubscribed?t._model.unsubscribe():(h.call(t),t.showDialog())})}),m=function(e){var n=this,i=this._opts.getStatusText,s=this._opts.cssSels.statusLabel;this._elems.parent.find(s).toArray().forEach(function(s){var r=t(s),o=i(e,r,Object.assign({},n._opts));r.html(o)})},g=function(e){e.preventDefault(),f.bind(this)(t(e.currentTarget).attr(this._opts.attrs.index))},_=function(t){t.isSubscribed||(t.permission.browserPermission&&t.permission.userPermission?this._model.subscribe():(this._state.inited=!0,u.call(this)))},v=function(){},w=function(t){m.call(this,t)},y=function(){d.call(this,!1)},b=function(){var t=d.bind(this),e=this._opts.timeouts.statusTooltip;t(!0),e&&(c=setTimeout(function(){t(!1)},e))},S=function(){var t=this._state,e=(0,s.getViewportSizes)(),n=e.top,i=e.height;t.triggerPoint<n+i&&(h.call(this),t.scrolled=!0,u.call(this))},C=function(){var t=this._opts,e=this._state,n=t.triggerArea,i=document.documentElement.scrollHeight*n;i!==e.triggerPoint&&(e.triggerPoint=i)},T=function(){var t=this._opts,e=this._state,n=t.triggerArea,i=t.timeouts.updateHeight;e.triggerPoint=document.documentElement.scrollHeight*n,e._timers.updateHeight=setInterval(C.bind(this),i)},P=function(){var n=this._state,i=S.bind(this),s=this._opts.timeouts.initialization;n._timers.initScroll=setTimeout(function(){t(e).on("scroll.push",o(i,300)),i()},s)};return a(i.VIEW_NAME,{acceptTypes:[i.MODEL_NAME]}),r({_Handlers:{dom:{"click:button":g},model:{change:w,subscribe:y,unsubscribe:b,ready:_,error:v}},_Init:function(){var t=this._opts,e=t.triggerArea;if(!t.template)throw new TypeError(i.ERRORS.INVALID_TEMPLATE.message);if("number"!=typeof e||e<0)throw new TypeError(i.ERRORS.INVALID_TRIGGER_AREA.message);this._state={_timers:{},inited:!1,scrolled:0===e},e&&(T.call(this),P.call(this))},showDialog:function(){var t=this._elems;return t.dialog||(t.dialog=p.call(this)),t.parent.append(t.dialog),this},hideDialog:function(){var t=this._elems;return t.dialog&&t.dialog.remove(),this},toggleDialog:function(){return this._elems.dialog?this.hideDialog():this.showDialog(),this}},i.VIEW_DEFAULTS_OPTS,null,i.VIEW_NAME)}(window.jQuery||window.$,window,window.ru.mail.cpf),t.exports=e.default}])},function(t,e){!function(t,e){"use strict";var n=t.Tools,i=t.Basic.moduleOpts.setParams,s=n.getTemplate,r=e.utils.PushNotifications.init,o=n.transport,a=e.utils.RadarReport.createReporter,l=a({projectName:"news",transportType:"img"});!function(){function t(t){e&&o({secure:!0,url:e,data:{email:t}})}var e=$("body").attr("data-push-count-url");i("PushNotificationsModel",{options:{_Handlers:{ready:function(t){l.send("push_client_ready_subscribed",t.isSubscribed?1:0)},subscribe:function(){n.Auth.onGetStatus(function(e){e&&t(e)}),l.send("push_client_subscribe",1)},unsubscribe:function(){l.send("push_client_subscribe",0)},error:function(t){var e="push_client_error"+(t.code?"_"+t.code:"");l.send(e,1)}},timeMarkDelta:6048e5,getInstance:function(){return r({application:"news_chrome",allowedPlatforms:["Chrome","Firefox"],workerPath:"/push-worker.js",workerScope:"/",serverUrl:"/ss/set_settings/"})}}}),i("PushNotificationsView",{options:{template:s("ct-push-notifications.xml")}})}()}(window.ru.mail.cpf,window.ru.mail.mpf)},function(t,e,n){"use strict";var i=n(160),s={container:"video-footer",siteId:"YlFFYjNpaVkyVmhUY3hoR2oybHFjdz09",profileId:524,touch:!1};Object(i.a)(s)}])});
//# sourceMappingURL=common.js.map