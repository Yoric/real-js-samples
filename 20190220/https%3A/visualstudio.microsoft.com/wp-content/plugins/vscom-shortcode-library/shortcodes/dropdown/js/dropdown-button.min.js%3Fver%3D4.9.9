var topLevelClass="vscom-dropdown-button",DEBUG_MODE=!1;jQuery.fn.setup_dropdowns=function(e){function t(t,n){DEBUG_MODE&&console.log("fn openMenu"),n&&n.preventDefault(),t?(jQuery(t).attr("aria-expanded","true"),jQuery(t).closest("li").find("ul").attr("aria-hidden","false").addClass(e.menuHoverClass).find("a").attr("tabIndex",0)):console.log("fn openMenu ERROR missing required parameter")}function n(t,n){DEBUG_MODE&&console.log("fn closeMenu"),n&&n.preventDefault(),t?(jQuery(t).attr("aria-expanded","false"),jQuery(t).closest("li").find("ul[aria-hidden=false]").attr("aria-hidden","true").removeClass(e.menuHoverClass).find("a").attr("tabIndex",-1)):(jQuery("."+e.menuHoverClass).closest("ul").parent("li").find("a").attr("aria-expanded","false"),jQuery("."+e.menuHoverClass).attr("aria-hidden","true").removeClass(e.menuHoverClass).find("a").attr("tabIndex",-1))}function s(e,s){var r;DEBUG_MODE&&console.log("fn toggleMenu"),s&&s.preventDefault(),e?(r=jQuery(e).closest("li").find("ul").attr("aria-hidden"),r&&"true"!==r?n(e,s):t(e,s)):console.log("fn toggleMenu ERROR missing required parameter")}function r(t,n){DEBUG_MODE&&console.log("fn selectLast"),n&&n.preventDefault(),t?jQuery(t).closest("li").find("ul").length>0&&jQuery(t).closest("li").find("ul").attr("aria-hidden","false").addClass(e.menuHoverClass).find("a").attr("tabIndex",0).last().focus():console.log("fn selectLast ERROR missing required parameter")}function o(t,n){DEBUG_MODE&&console.log("fn selectFirst"),n&&n.preventDefault(),t?jQuery(t).closest("li").find("ul").length>0&&jQuery(t).closest("li").find("ul").attr("aria-hidden","false").addClass(e.menuHoverClass).find("a").attr("tabIndex",0).first().focus():console.log("fn selectFirst ERROR missing required parameter")}function i(e,t){DEBUG_MODE&&console.log("fn moveUp"),t&&t.preventDefault(),e?0===jQuery(e).closest("li").prev("li").length?jQuery(e).parents("ul").parents("li").find("a").first().focus():jQuery(e).closest("li").prev("li").find("a").first().focus():console.log("fn moveUp ERROR missing required parameter")}function a(e,t){DEBUG_MODE&&console.log("fn moveDown"),t&&t.preventDefault(),e?0===jQuery(e).closest("li").next("li").length?jQuery(e).parents("ul").parents("li").find("a").first().focus():jQuery(e).closest("li").next("li").find("a").first().focus():console.log("fn moveDown ERROR missing required parameter")}function l(e,t){DEBUG_MODE&&console.log("fn moveLeft"),t&&t.preventDefault(),e?0===jQuery(e).parent("li").prev("li").length?jQuery(e).parents("ul").find("> li").last().find("a").first().focus():jQuery(e).parent("li").prev("li").find("a").first().focus():console.log("fn moveLeft ERROR missing required parameter")}function u(e,t){DEBUG_MODE&&console.log("fn moveRight"),t&&t.preventDefault(),e?0===jQuery(e).parent("li").next("li").length?jQuery(e).parents("ul").find("> li").first().find("a").first().focus():jQuery(e).parent("li").next("li").find("a").first().focus():console.log("fn moveRight ERROR missing required parameter")}function f(e,t){return DEBUG_MODE&&console.log("fn handleKeyShortcut "+String.fromCharCode(t).toLowerCase()+" vs "+jQuery(e).text().substring(0,1).toLowerCase()),e&&t?jQuery(e).text().substring(0,1).toLowerCase()==String.fromCharCode(t).toLowerCase():(console.log("fn handleKeyShortcut ERROR missing required parameter(s)"),!1)}function c(e,t){DEBUG_MODE&&console.log("fn navigateToURL "+e),t&&t.preventDefault(),window.location=e}e=jQuery.extend({menuHoverClass:"show-menu"},e);var d={9:"TAB",13:"ENTER",27:"ESCAPE",32:"SPACE",37:"LEFT_ARROW",38:"UP_ARROW",39:"RIGHT_ARROW",40:"DOWN_ARROW"},y=jQuery(this).find("> li > div > a");DEBUG_MODE&&console.log(JSON.stringify(y));var E=jQuery(this).find("> li > ul > li > div > a");DEBUG_MODE&&console.log(JSON.stringify(E)),jQuery(y).attr("tabindex","0"),jQuery(y).find("> li > ul").attr("data-test","true").attr({"aria-hidden":"true"}).find("a").attr("tabIndex",-1),jQuery(y).each(function(){DEBUG_MODE&&console.log("topLevelLinks each fn"),jQuery(this).next("ul").length>0&&jQuery(this).parent("li").attr("aria-haspopup","true")}),jQuery(y).keydown(function(e){switch(DEBUG_MODE&&console.log("fn topLevelLinks keydown "+d[e.keyCode]),d[e.keyCode]){case"LEFT_ARROW":l(this,e);break;case"UP_ARROW":r(this,e);break;case"RIGHT_ARROW":u(this,e);break;case"TAB":e.shiftKey&&n(this);break;case"DOWN_ARROW":o(this,e);break;case"ENTER":case"SPACE":s(this,e);break;case"ESCAPE":n(this,e);break;default:e.shiftKey||(e.preventDefault(),jQuery(E).each(function(){if(f(this,e.keyCode,e))return jQuery(this).focus(),!1}))}}),jQuery(E).keydown(function(e){switch(DEBUG_MODE&&console.log("fn links keydown "+d[e.keyCode]),e.stopPropagation(),d[e.keyCode]){case"UP_ARROW":i(this,e);break;case"DOWN_ARROW":a(this,e);break;case"ENTER":case"SPACE":c(jQuery(this).attr("href"),e);break;case"TAB":if(e.shiftKey)break;jQuery(this).closest("li").is(":last-child")&&n(jQuery(this).closest("ul").parent("li").find("a"));break;case"ESCAPE":jQuery(this).closest("ul").parent("li").find("a").focus(),n(jQuery(this).closest("ul").parent("li").find("a"),e);break;default:if(!e.shiftKey){var t=!1;jQuery(E).each(function(){if(f(this,e.keyCode,e))return jQuery(this).focus(),t=!0,!1}),t||jQuery(y).each(function(){if(f(this,e.keyCode,e))return jQuery(this).focus(),!1})}}}),jQuery(document).click(function(e){DEBUG_MODE&&console.log("fn document click"),jQuery(e.target)!==jQuery(topLevelClass)&&(DEBUG_MODE&&console.log("clicked outside topLevelClass elements"),n())})},jQuery(document).ready(function(){jQuery("."+topLevelClass).setup_dropdowns()});