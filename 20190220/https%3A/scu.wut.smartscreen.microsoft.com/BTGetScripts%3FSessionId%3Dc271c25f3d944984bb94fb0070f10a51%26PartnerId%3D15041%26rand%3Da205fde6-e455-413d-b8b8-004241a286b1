var _btSubmitURL = "https\x3a\x2f\x2fSCU.wut.smartscreen.microsoft.com\x3a443\x2fBTSubmit\x3fSessionId\x3dc271c25f3d944984bb94fb0070f10a51\x26PartnerId\x3d15041";var _btSessionID = "c271c25f3d944984bb94fb0070f10a51";var _btPartnerId = "15041";var _btIsSampledURL = "https\x3a\x2f\x2fSCU.wut.smartscreen.microsoft.com\x3a443\x2fIsSampled\x3fSessionId\x3dc271c25f3d944984bb94fb0070f10a51\x26PartnerId\x3d15041\x26rand\x3d26f749a9-b0f4-49e0-b6d9-edf38c10416c";var _btSubmitFrequency = 7500;var _btSubmitMaxEventSize = 50;var _btMaxSubmitCallCount = 10;var _btMouseGranularityInPx = 50;var _btHPEnabled = true;if(typeof UserTracker=="undefined"){var UserTracker;function TrackerInitOnReady(c){function b(b,a){return new function(){this.at=Date.now();this.type=b;this.data=a}}var a=new function(){this.timestamp=Date.now();this.timezone=(new Date).getTimezoneOffset();this.submitting=false;this.sentBrowserData=false;this.events=[];this.inputFieldsList=[];this.trackedInputFields={};this.browserData="";this.prevMouseX=0;this.prevMouseY=0;this.greenIDDC="";this.keyMapIndex=0;this.submitIndex=0;this.keyMap=[];this.hpdetect;this.hpdetect2;this.wheelSupport;this.getChar=function(b){if(typeof b.keyCode!="undefined"){var c=String.fromCharCode(b.keyCode);return a.simpleObfuscation(c)}else if(typeof b.which!="undefined"){var c=String.fromCharCode(b.which);return a.simpleObfuscation(c)}return null};this.getSpecialKeys=function(a){specialKeys=0;specialKeys^=a.ctrlKey?1:0;specialKeys^=a.shiftKey?2:0;specialKeys^=a.altKey?4:0;specialKeys^=a.metaKey?8:0;return specialKeys};this.simpleObfuscation=function(b){if(typeof b=="undefined"||b.length!=1)return-1;if(typeof a.keyMap[b]=="undefined"||a.keyMap[b]==null){a.keyMap[b]=a.keyMapIndex++;return a.keyMap[b]}else{var c=a.keyMap[b];a.keyMap[b]=null;return c}};this.submitInterval=null;this.simpleTrackEvent=function(c){c=c||window.event;var d=b(c.type,{tid:(c.target||c.srcElement).id});a.pushEvent(d)};this.keyTrackEvent=function(c){c=c||window.event;var d=a.getChar(c),e=a.getSpecialKeys(c),f=b(c.type,{tid:(c.target||c.srcElement).id,s:e,k:d});a.pushEvent(f)};this.mouseTrackEvent=function(c){c=c||window.event;var d=b(c.type,{tid:(c.target||c.srcElement).id,x:c.pageX,y:c.pageY,b:c.button});a.pushEvent(d)};this.mouseMoveEvent=function(c){c=c||window.event;var d=c.pageX-a.prevMouseX,e=c.pageY-a.prevMouseY;if(Math.sqrt(d*d+e*e)>=_btMouseGranularityInPx){var f=b(c.type,{dx:d,dy:e,x:c.pageX,y:c.pageY});a.pushEvent(f);a.prevMouseX=c.pageX;a.prevMouseY=c.pageY}};this.scrollTrackEvent=function(c){c=c||window.event;var d=b("mousewheel",{tid:(c.target||c.srcElement).id});if(a.wheelSupport=="wheel"){d.data.dy=c.deltaY;d.data.dx=c.deltaX;d.data.deltaMode=c.deltaMode}else{d.data.deltaMode=c.type=="MozMousePixelScroll"?0:1;if(a.wheelSupport=="mousewheel"){d.data.dy=-1/40*c.wheelDelta;c.wheelDeltaX&&(d.data.dx=-1/40*c.wheelDeltaX)}else d.data.dy=c.detail}a.pushEvent(d)};this.pushEvent=function(b){a.events.push(b);if(a.events.length>_btSubmitMaxEventSize){clearInterval(a.submitInterval);a.submitInterval=window.setInterval(a.submit,_btSubmitFrequency);a.submit()}};this.submit=function(){if(a.submitting==true||a.sentBrowserData==true&&a.events.length==0||a.submitIndex>=_btMaxSubmitCallCount)return;excessEvents=a.events.splice(_btSubmitMaxEventSize);var b={Timestamp:a.timestamp,Timezone:a.timezone,PostStartTime:(new Date).toUTCString().replace("UTC","GMT"),SessionID:_btSessionID,PartnerId:_btPartnerId,Events:a.events,SubmitIndex:a.submitIndex++};if(typeof a.hpdetect!="undefined")for(var d=0;d<a.hpdetect.length;d++)if(a.hpdetect[d].value!="")b.HP1=true;if(typeof a.hpdetect2!="undefined"&&a.hpdetect2.value!="")b.HP2=true;if(a.sentBrowserData==false){a.sentBrowserData=true;b.Browser=a.browserData}a.submitting=true;c.ajax({type:"POST",url:_btSubmitURL,contentType:"application/json; charset=utf-8",data:JSON.stringify(b),success:function(){console.log("[BT] submitting successfully");a.submitting=false}});a.events=excessEvents};this.initTracker=function(){a.submitting=false;a.events=[];for(var i="",e=0;e<navigator.plugins.length;++e)i+=navigator.plugins[e].name+";";var g="";if(navigator.language)g=navigator.language;else if(navigator.browserLanguage)g=navigator.browserLanguage;a.browserData={UserAgent:navigator.userAgent,CookieEnabled:navigator.cookieEnabled||navigator.cookieEnabled==1,JavaEnabled:navigator.javaEnabled(),ScreenDepth:screen.pixelDepth,ScreenHeight:screen.height,ScreenWidth:screen.width,WindowHeight:window.outerHeight,WindowWidth:window.outerWidth,PageHeight:c(document).height(),PageWidth:c(document).width(),SystemLanguage:navigator.systemLanguage,Language:g,Plugins:i};var f=document.getElementsByTagName("input");f=Array.prototype.slice.call(f);if(_btHPEnabled&&f.length>0){var h=["LastName","Surname","SecondName","LName","Last","Last Name"];a.hpdetect=[];for(var e=0;e<h.length;e++){var d=document.createElement("input");d.style.position="absolute";d.style.top="-100em";d.type="text";d.name=h[e];d.tabIndex="-1";d.setAttribute("aria-hidden","true");a.hpdetect.push(d);f[0].parentElement.appendChild(d)}var b=document.createElement("input");b.style.position="absolute";b.style.top="-100em";b.type="text";b.name="bt_rand0518";b.tabIndex="-1";b.setAttribute("aria-hidden","true");a.hpdetect2=b;f[0].parentElement.appendChild(b)}a.notifyDOMUpdate();a.addEvent("mousemove",window,a.mouseMoveEvent);a.wheelSupport="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll";a.addEvent(a.wheelSupport,window,a.scrollTrackEvent);typeof _btLoadGreenID!="undefined"&&_btLoadGreenID&&this.loadGreenID()};this.notifyDOMUpdate=function(){var d=document.getElementsByTagName("input"),c=Array.prototype.slice.call(d),b=[];c.forEach(function(c){var d=c.id+"_"+c.name;if(typeof a.trackedInputFields[d]=="undefined"){b.push(c);a.inputFieldsList.push(c);a.trackedInputFields[d]=d}});a.addEventListeners(b)};this.addEventListeners=function(c){for(var b=0;b<c.length;++b){a.addEvent("click",c[b],a.mouseTrackEvent);a.addEvent("dblclick",c[b],a.mouseTrackEvent);a.addEvent("focus",c[b],a.simpleTrackEvent);a.addEvent("paste",c[b],a.simpleTrackEvent);a.addEvent("copy",c[b],a.simpleTrackEvent);a.addEvent("cut",c[b],a.simpleTrackEvent);if(c[b].type!="password"){a.addEvent("keyup",c[b],a.keyTrackEvent);a.addEvent("keydown",c[b],a.keyTrackEvent)}}};this.addEvent=function(b,a,c){if(a.addEventListener)a.addEventListener(b,c,false);else a.attachEvent&&a.attachEvent("on"+b,c)};this.removeEvent=function(b,a,c){if(a.removeEventListener)a.removeEventListener(b,c,false);else a.removeEvent&&a.detachEvent("on"+b,c)};this.destroy=function(){typeof a.hpdetect2!="undefined"&&a.hpdetect2.setAttribute("disabled","disabled");if(typeof a.hpdetect!="undefined")for(var b=0;b<a.hpdetect.length;++b)a.hpdetect[b].setAttribute("disabled","disabled");for(var c=a.inputFieldsList,b=0;b<c.length;++b){a.removeEvent("click",c[b],a.mouseTrackEvent);a.removeEvent("dblclick",c[b],a.mouseTrackEvent);a.removeEvent("focus",c[b],a.simpleTrackEvent);a.removeEvent("paste",c[b],a.simpleTrackEvent);a.removeEvent("copy",c[b],a.simpleTrackEvent);a.removeEvent("cut",c[b],a.simpleTrackEvent);if(c[b].type!="password"){a.removeEvent("keyup",c[b],a.keyTrackEvent);a.removeEvent("keydown",c[b],a.keyTrackEvent)}}a.removeEvent("mousemove",window,a.mouseMoveEvent);a.removeEvent(a.wheelSupport,window,a.scrollTrackEvent)};this.checkIfSampled=function(d,a){this.greenIDDC=a;var b={ApiName:d,SessionID:_btSessionID,PartnerId:_btPartnerId,DataCenter:a};c.ajax({type:"POST",url:_btIsSampledURL,data:b,success:function(){console.log("[BT] sampled successfully")},dataType:"json"})};this.loadGreenID=function(){var d=window.addEventListener?"addEventListener":"attachEvent",f=window[d],e=d=="attachEvent"?"onmessage":"message";f(e,function(b){_btGreenIDURL.indexOf(b.origin)>-1&&a.checkIfSampled("gid",b.data)},false);var b=document.createElement("iframe");b.style.color="rgb(0,0,0)";b.style.float="left";b.style.position="absolute";b.style.top="-200px";b.style.left="-200px";b.style.border="0px";b.style.height="100";b.style.width="100";b.src=_btGreenIDURL;c("body").append(b)}};a.initTracker();a.submitInterval=window.setInterval(a.submit,_btSubmitFrequency);return a}if(window.btoa)if(!window.jQuery){var jq=_btLoadJavascriptDependency("https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.0.3.min.js");jq.onload=function(){window.jQuery(document).ready(UserTracker=TrackerInitOnReady(window.jQuery))}}else window.jQuery(document).ready(UserTracker=TrackerInitOnReady(window.jQuery));function _btLoadJavascriptDependency(b){var a=document.createElement("script");a.type="text/javascript";a.src=b;document.getElementsByTagName("head")[0].appendChild(a);return a}}
