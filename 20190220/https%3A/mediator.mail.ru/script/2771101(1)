if(!window._mediator){ window._mediator=[];}window._mediator.push({metaParams:{enable:false,shareOptions:['fb','ok','vk']},serverApi:{urls:{ metric:'//mediator.mail.ru/script/2771101/register/',meta:'//mediator.mail.ru/script/2771101/meta/'}},cssSels:{"custom":[{"article":".js-mediator-article","scrollCont":""},{"article":"article","scrollCont":""},{"article":"body","scrollCont":""}]},counter:'2771101',autostart:true,orientation:'vertical',sectionByClass:false,transit:{mdtr_ses:"1550676530.4267570965.2569053743",mdtr_snc:"3389302513"}});!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,i){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i={},r=!1,o=null,a=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(r=arguments[0],o++);for(o=0;o<a;o++){var s=arguments[o];!function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r&&"[object Object]"===Object.prototype.toString.call(t[e])?i[e]=n(!0,i[e],t[e]):i[e]=t[e])}(s)}return i}function r(t){this.name="Mediator",this.message=t||"An error has occurred"}function o(t){throw r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,new r(t)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){var e=t.getBoundingClientRect(),i=document.body,n=document.documentElement,r=window.pageYOffset||n.scrollTop||i.scrollTop,o=window.pageXOffset||n.scrollLeft||i.scrollLeft,a=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0;return{top:e.top+r-a,left:e.left+o-s}},s=function(t,e){for(var i=t.className?t.className.split(" "):[],n=0;n<i.length;n++)if(i[n]==e)return;i.push(e),t.className=i.join(" ")},l=function(t,e){for(var i=t.className.split(" "),n=0;n<i.length;n++)i[n]==e&&(i.splice(n,1),n--);t.className=i.join(" ")},c=function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},u=function(t,e,i){var n=null;return e=e||100,function(){function r(){i||t.apply(o,a),n=null}var o=this,a=arguments;null!==n?clearTimeout(n):i&&t.apply(o,a),n=setTimeout(r,e)}},h=function(t){return!(0===t.offsetWidth&&0===t.offsetHeight)},d=function(t){if(t=t||600,(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=t)return!0;for(var e=navigator.userAgent,i=[/iPhone/i,/iPod/i,/iPad/i,/Android/i,/IEMobile/i,/(?=.*\bWindows\b)(?=.*\bARM\b)/i,/BlackBerry/i,/BB10/i,/Opera Mini/i,/(CriOS|Chrome)(?=.*\bMobile\b)/i,/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i],n=0,r=i.length;n<r;++n)if(i[n].test(e))return!0;return!1},f=function(){var t=document.querySelector('link[rel="canonical"]');return t&&t.getAttribute("href"),window.location.href},p=function(){return{top:window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,left:window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},m=function(t){var e=[];for(var i in t){var n=t[i];if(t.hasOwnProperty(i)){n="object"==typeof n&&n.length?n:[n];for(var r=0;r<n.length;r++)e.push(encodeURIComponent(i)+"="+encodeURIComponent(n[r]))}}return e.join("&")},v=function(){return{send:function(t,e){var i=new XMLHttpRequest,n=new FormData;for(var r in e)e.hasOwnProperty(r)&&n.append(r,e[r]);i.open("POST",t),i.withCredentials=!0,i.send(n)}}}(),g=function(){return"undefined"!=typeof FormData};e.mediatorUtils={extend:n,offset:a,addClass:s,removeClass:l,getCookie:c,debounce:u,isVisible:h,isMobile:d,getLocation:f,getViewportSizes:p,objectToUrlParams:m,console:o,transport:v,checkBrowserSupport:g}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),r=i(0);!function(){function t(){var t=J.getElementById("js-mpf-mediator-init");if(!t)return{};var e=ht.attrs,i={counter:t.getAttribute(e.counter),touchCounter:t.getAttribute(e.touchCounter),sectionByClass:"true"===t.getAttribute(e.useSection),autostart:!("false"===t.getAttribute(e.autostart)),orientation:t.getAttribute(e.orientation)||"vertical"};return i.touchCounter&&(i.isMobile=!0,i.counter=i.touchCounter),delete i.touchCounter,i}function e(e){e=e||null;var n=this._counters,r=tt(!0,ht,t(),e);r.counter&&(n[r.counter]={counter:r.counter,metaParams:r.metaParams,serverApi:r.serverApi,transit:r.transit});for(var o=0;o<ct.length;o++)ct[o].counter&&(n[ct[o].counter]={counter:ct[o].counter,metaParams:ct[o].metaParams||r.metaParams,serverApi:ct[o].serverApi||r.serverApi,transit:ct[o].transit||r.transit});return r=e?this._opts:tt(!0,ht,i(ct,r)),tt(!0,{},r,e)}function i(t,e){return t.length?t.reduce(function(t,e){var i=e.cssSels||{},n=i.custom||[],r=n.length,o=tt(!0,e,{counter:t.counter||e.counter,metaParams:t.metaParams||e.metaParams,serverApi:t.serverApi||e.serverApi,transit:t.transit||e.transit});if(r)for(var a=void 0,s=void 0,l=0;l<r;l++)if(a=n[l].article,s=n[l].scrollCont,a&&J.querySelector(a)){i.article=a,s&&J.querySelector(s)&&(i.scrollCont=s);break}return tt(!0,t,o)},e||{}):e||{}}function o(t){var e=t.counter;if(e){for(var n=this._opts,r=!0,a=0;a<ct.length;a++){ct[a].counter==t.counter&&(r=!1)}if(r){this._counters[t.counter]={counter:t.counter,metaParams:t.metaParams||n.metaParams,serverApi:t.serverApi||n.serverApi},ct.push(tt(!0,{},o))}n=i([t],n),B.call(this,e)}}function a(t){"object"!=typeof t&&at("The options given are invalid");var i={cssSels:{}};void 0!==t.target&&(t.target instanceof HTMLElement?i.rootElement=t.target:at("The container is not specified correctly")),void 0!==t.targetSelector&&("string"==typeof t.targetSelector&&t.targetSelector?i.cssSels.scrollCont=t.targetSelector:at("The selector per container is not specified correctly")),void 0!==t.article&&(t.article&&t.article.length?i.articleElement=t.article:t.article instanceof HTMLElement?i.articleElement=[t.article]:at("The article container is incorrectly specified")),void 0!==t.articleSelector&&("string"==typeof t.articleSelector&&t.articleSelector?i.cssSels.article=t.articleSelector:at("The selector per container is not specified correctly")),"boolean"==typeof t.isMobile?i.isMobile=t.isMobile:void 0!==t.isMobile&&at("The device type flag is invalid"),void 0!==t.url&&("string"==typeof t.url?this._state.pathname=t.url:at("Link to the page is not valid")),void 0!==t._meta&&("object"==typeof t._meta?this._state._meta=tt(!0,{},t._meta):at("The options given are invalid")),this._opts=e.call(this,i),A.call(this)}function s(){var t=window.navigator.userLanguage||window.navigator.language;return{_logs:{},_timers:{},_handlers:[],_sizes:{},_marks:[],_nodes:null,_meta:null,_events:{scrolls:{},reads:{},other:{}},referrer:J.referrer,pathname:Y.getLocation(),lang:ft[t]?t:"en",isInited:!1,isStarted:!1,noArticle:!1}}function l(t){var e=this._opts,i=e.templates;if(e.showRule&&t in i){var n=J.createElement("template"),r=ft[this._state.lang][t];n.innerHTML=i[t].replace(/\${(\w+)}/g,function(t,e){return r[e]});var o=n.content.firstChild;J.body.appendChild(o)}}function c(t){t=t||this._elems.parent;var e=this._opts,i=t.querySelectorAll(e.cssSels.section);return[].reduce.call(i,function(t,e){return e.offsetParent&&t.push(e),t},[])}function u(){var t=this._opts,e=t.cssSels,i=t.rootElement||J.querySelector(e.scrollCont);i||(i=J.querySelector("body"));var n={parent:i};return t.sectionByClass?(n.section=c.call(this,i),n.section.length||at("Not a single section has been found")):(n.article=t.articleElement||i.querySelectorAll(e.article),n.article&&(n.article||{}).length||(n.article=i.querySelectorAll("article")),n.article&&(n.article||{}).length||(n.article=[i],this._state.noArticle=!0,l.call(this,"noArticle"))),n}function h(t,e){J.addEventListener(t||"visibilitychange",e)}function d(t,e,i){i=i||window;for(var n=this._state,r=n._handlers,o=t.split(" "),a=!window.addEventListener,s=0;s<o.length;s++){var l={el:i,name:"",func:e,ie:a},c=o[s];"visibilitychange"==c?(l.el=J,"hidden"in J?(l.name=c,h(l.name,e)):"mozHidden"in J?(l.name="mozvisibilitychange",h(l.name,e)):"webkitHidden"in J?(l.name="webkitHidden",h(l.name,e)):"webkitvisibilitychange"in J?(l.name="webkitvisibilitychange",h(l.name,e)):"msHidden"in J?(l.name="msHidden",h(l.name,e)):"onfocusin"in J?J.onfocusin=J.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e):a?(c="on"+c,l.name=c,i.attachEvent(c,e)):(l.name=c,i.addEventListener(c,e)),r.push(l)}}function f(){var t=this._state,e=this._elems.parent,i=this._opts,n=i.timeouts,r=y.bind(this),o=p.bind(this);this.IdleCallback||(this.IdleCallback=nt(T.bind(this),n.sleep));var a=this.IdleCallback,s=A.bind(this),l=d.bind(this);l("resize",nt(o,n.resize)),J.body!==e?l("scroll",nt(function(){t.isActivePage=!0,a(),o(),r()},n.scroll),e):l("scroll",nt(r,n.scroll)),l("load",o),l("hashchange",s),l("beforeunload",function(t){N.call(this,t.type)}.bind(this)),l("visibilitychange blur focus",function(t){t=t||window.event,a();var e=t.type,i=e in pt?pt[e]:!J.hidden;x.call(this,i,e)}.bind(this)),l("load resize scroll click touchstart keydown hashchange",nt(function(t){t=t||window.event,a(),x.call(this,null,t.type)}.bind(this),300,!0)),a()}function p(){var t=this._state;v.call(this),b.call(this),_.call(this),t.isStarted&&y.call(this)}function m(t){var e=[],i=[],n=0;return t&&t.length?(n=t.length-1,[].forEach.call(t,function(t){e.push(t.getBoundingClientRect()),i.push(et(t))})):(e.push(t.getBoundingClientRect()),i.push(et(t))),{rect:{left:e[0].left,right:e[0].right,top:e[0].top,bottom:e[n].bottom,width:e[0].width||e[0].right-e[0].left,height:i[n].top-i[0].top+(e[n].bottom-e[n].top)},offset:i[0]}}function v(){var t=this._elems,e=this._state,i=e._sizes={};for(var n in t)if(t.hasOwnProperty(n)&&t[n]){var r=t[n];if("section"===n&&(r||[]).length){i[n]=[];for(var o=0;o<r.length;o++)i[n][o]=m(r[o])}else{if("article"===n){var a=(r||{}).length;"number"==typeof a&&a>2&&(r=[r[0],r[a-1]])}i[n]=m(r)}}}function g(t){var e=this._opts,i=e.section.count,n=this._elems.section.length,r=Math.floor(n/i),o=r?Math.floor(t/r):t;return o>(i-=1)?i:o}function b(){var t,e,i,n,r=this._elems,o=this._opts,a=this._state,s=a._sizes,l=a._marks,c=dt[o.orientation];if(o.sectionByClass)for(t=r.section.length,e=0;e<=t;e++){var u=e==t?e-1:e,h=s.section[u],d=h.offset[c.section.start];n={start:d,end:d+h.rect[c.section.size]},i=l[e],i||(i={}),i.meta=g.call(this,e),i.pos=e==t?n.end:n.start,i.start=i.pos,l[e]=i}else{t=o.section.count;var f=s.article.offset[c.article.start],p=s.article.rect[c.article.size],m=a.sectionSize=p/t;for(n={start:f,end:f+p},m<o.section.minSize&&(t=Math.floor(p/o.section.minSize),m=p/t),e=0;e<=t;e++)i=l[e],i||(i={}),i.pos=e==t?n.end:n.start+m*e,i.start=i.pos,l[e]=i}}function _(){function t(t){var e=this._opts,i=dt[e.orientation],n=i.mark.style,r=J.createElement("div"),o=J.createElement("span");return o.style.cssText=t?n.labelLast:n.label,r.appendChild(o),it(r,e.cssClss.mark),r.style.cssText=n.mark,r}function e(t,e){var i=this._state.lang,n=ft[i];return t<e?n.start+" "+n.section+" "+t:n.end+" "+n.section+" "+(t-1)}var i,n=this._opts,r=this._state,o=r._marks,a=r._nodes,s=dt[n.orientation];if(a||(a=[]),n.showRule){var l=[],c=J.createDocumentFragment(),u="",h=Math.max(a.length,o.length);for(i=0;i<h;i++){var d=o[i],f=a[i];d?(f||(f=t.call(this,i==h-1),c.appendChild(f)),f.style[s.mark.pos]=d.pos+"px",u=e.call(this,i+1,o.length),f.firstChild.textContent=u,f.firstChild.innerText=u,l[i]=f):f&&J.body.removeChild(f)}J.body.appendChild(c),r._nodes=l}else{if(a.length){for(i=0;i<a.length;i++)J.body.removeChild(a[i]);a=null}r._nodes=a}}function y(){var t=this._state,e=this._elems,i=this._opts,n=[].every.call(i.sectionByClass?e.section:e.article,ot);if(t.isActivePage&&t.isInited&&t.isStarted&&n){var r=t._marks,o=t._sizes,a=dt[i.orientation],s=Y.getViewportSizes(),l=s[a.viewport.start],c=s[a.viewport.size];e.parent!=J.body&&(l=o.parent.offset[a.parent.offsetStart],c=Math.min(c,e.parent[a.parent.clientSize]));for(var u=l+c*i.triggerArea,h=l+c,d=i.sectionByClass?e.section.length:i.section.count,f=i.sectionByClass?r[d].pos:o.article.offset[a.article.start]+o.article.rect[a.article.size],p={reading:t.readingSection,current:null},m=0;m<r.length;m++){var v=r[m];v.pos<h&&(H.call(this,"s",m),m<d&&(0===m||v.start<u)&&(p.current=m))}f<l&&(p.current=null),p.current!=p.reading&&(t.readingSection=p.current,w.call(this))}}function w(){var t=this._opts,e=this._elems,i=this._state,n=t.timeouts.hit,r=i._timers.hit;r&&clearTimeout(r),"number"==typeof i.readingSection&&(i._timers.hit=setTimeout(function r(){var o=i.readingSection,a=[].every.call(t.sectionByClass?e.section:e.article,ot);i.isStarted&&i.isActivePage&&"number"==typeof o&&a&&(H.call(this,"ts",o),H.call(this,"t",o)),i._timers.hit=setTimeout(r.bind(this),n)}.bind(this),n))}function S(){var t=this._opts;null===t.isMobile&&(t.isMobile=rt())}function C(){var t=this._elems,e=this._opts,i=this._state,n=dt[e.orientation],r=J.documentElement[n.page.scrollSize],o=i._sizes.parent.rect[n.parent.size],a=e.timeouts.size;(function s(){var l=J.documentElement[n.page.scrollSize],u=m(t.parent).rect[n.parent.size],h=[].every.call(e.sectionByClass?t.section:t.article,ot);l===r&&o===u||!h||(r=l,o=u,e.sectionByClass&&(t.section=c.call(this)),p.call(this)),i._timers.size=setTimeout(s.bind(this),a)}).bind(this)()}function A(){var t=this._state,e=this._opts,i=J.location.hash.slice(1);if((i===e.hashes.showRule||i===e.hashes.debug)&&(e.showRule=!0,t.isStarted&&_.call(this),t.noArticle)){J.querySelector(e.cssSels.notice)||l.call(this,"noArticle")}i===e.hashes.debug&&(e.debug=!0)}function x(t,e){var i=this._state,n=this._opts;"boolean"!=typeof t&&(t=!J.hidden),i.isActivePage=t,n.debug&&(console.log("Mediator: window activity "+t+(e?" ("+e+")":"")),J.title=t+(e?" ("+e+")":"")),t&&i.isStarted&&y.call(this)}function E(){var t=this._state,e=t._timers;for(var i in e)if(e.hasOwnProperty(i)){var n=i;clearTimeout(n)}}function k(){this._state._handlers.forEach(function(t){var e=t.func,i=t.name,n=t.el;t.ie?n.detachEvent(i,e):n.removeEventListener(i,e)})}function z(t){var e=this._state;e.isInited||at("Can not change the activity status of the module without pre-initialization");var i=e.isStarted,n=t;"boolean"==typeof t?i===t&&at("Error setting module activity"):n=!i,e.isStarted=n}function P(){return this._state.isStarted}function T(){if(this._state.isStarted){this._state.isActivePage=!1;this._opts.debug&&window.console.log("Mediator: the user is not active")}}function M(t){var e="";if(3===t.nodeType)e=t.nodeValue;else if(1===t.nodeType&&-1===mt.indexOf(t.nodeName))for(var i=t.childNodes,n=i.length;n--;)e+=M(i[n]);return e}function O(t){return t=(t||{}).length?t:[t],[].reduce.call(t,function(t,e){return t+=M(e)},"")}function j(){var t=this._elems,e=this._opts,i=e.sectionByClass?t.section:t.article,n=O(i);n=n.replace(/[\.\,\?\!]/g," ");var r=n.split(/\s/).filter(function(t){return t.length>2});this._state.wordsCount=r.length}function L(){var t=this._state;t.wordsCount>=300?t.articleViewType="long":t.articleViewType="short"}function R(t){var e=this._state._logs,i=+new Date+t.e;e[i]||(e[i]=t)}function B(t){var e=this._state._logs;for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n.cid=t,F.call(this,n)}}function H(t,e){var i,n=this._opts,r=this._state,o=r._events,a=n.sectionByClass;switch(t){case"s":i=o.scrolls;break;case"ts":i=o.reads;break;case"r":i=o.other}var s=q.bind(this),l=U.bind(this),c=[t];if(void 0!==e){var u=r._marks,h=u[e];c=[t+e],a&&(c=[t+h.meta].concat(["_"+t+e]))}c.forEach(function(t){function e(){-1!==t.indexOf("_")?l(n):s(n)}var n={type:t};i?i[t]||(i[t]=!0,e()):e()})}function q(t){var e=this,i=this._opts,n=this._counters,r=this._state,o=t.type,a=function(i){R.call(e,i),F.call(e,i,o),I.call(e,o),U.call(e,t)},s=this;for(var l in n)!function(t){if(n.hasOwnProperty(t)){var e=n[t],l=tt({cid:e.counter,url:r.pathname},e.transit);"m"===o?e.metaParams.enable&&(r._meta?(l=tt(l,{wc:r.wordsCount},r._meta),a.call(s,l)):Q.get(e.metaParams,function(t){l=tt(l,{wc:r.wordsCount},t),a.call(this,l)}),e.metaParams.enable=!1):(l=tt(l,{ref:r.referrer,p:i.isMobile?2:1,e:o},"v"===o?{wc:r.wordsCount}:{}),a.call(s,l))}}(l)}function I(t){var e=this._state,i=e._events;i.other.r||("short"==e.articleViewType?"s3"==t&&Object.keys(i.reads).length?H.call(this,"r"):-1!==t.indexOf("ts")&&i.scrolls.s3&&H.call(this,"r"):"long"==e.articleViewType&&"ts2"==t&&H.call(this,"r"))}function N(t){var e=this._counters;for(var i in e)e.hasOwnProperty(i)&&F.call(this,tt({e:"commit"},e[i].transit),t,{serverApi:e[i].serverApi})}function U(t){var e=this._opts,i=this._state;if("function"==typeof e.onPushEvent){var n=t.type,r={cid:e.counter,url:i.pathname,p:e.isMobile?2:1,e:n};"v"===n&&(r.wc=i.wordsCount),e.onPushEvent(r)}}function F(t,e,i){var n=this._opts;e=t.e||e;var r=i&&i.serverApi;if(t.cid){r=this._counters[t.cid].serverApi}n.debug&&window.console.log("Mediator: "+(Z.stringify?Z.stringify(t):t));var o=r.urls["m"===e?"meta":"metric"];"m"!==e?W(o,t):lt.send(o,t)}function W(t,e){var i=st(e);(new Image).src=t+"?"+i}function V(){this._counters={};var t=this._opts=e.call(this),i=this._state=s.call(this);A.call(this),S.call(this),t.counter||at("The counter identifier is invalid"),i.isInited=!0}function K(){this._opts;this._elems=u.call(this),f.call(this),p.call(this),x.call(this),C.call(this),j.call(this),L.call(this),q.call(this,{type:"v"}),q.call(this,{type:"m"}),z.call(this,!0)}function D(){this._state.isStarted||(k.call(this),E.call(this))}function $(t){t=t||null;var e=this._state;if(e.isInited)try{e.isStarted&&at("The module is already running. First, it is necessary to stop it's work"),V.call(this),t&&(a.call(this,t),S.call(this)),X.call(this),K.call(this),x.call(this)}catch(t){window.console.error(t.name+": "+t.message)}}function X(){var t=this._counters;for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];i.transit.mdtr_snc&&(i.transit.mdtr_snc=Math.floor(Math.random()*(Math.pow(2,32)-1)))}}var Y=r.mediatorUtils;if(Y.checkBrowserSupport()){var G=window._mediator;if(!G||!G.start||"function"!=typeof G.start){var J=window.document,Q=n.mediatorMeta,Z=window.JSON||{},tt=Y.extend,et=Y.offset,it=Y.addClass,nt=Y.debounce,rt=Y.isMobile,ot=Y.isVisible,at=Y.console,st=Y.objectToUrlParams,lt=Y.transport,ct=[];G&&(ct=G);var ut={},ht={cssSels:{scrollCont:".js-mediator-container",article:".js-mediator-article",section:".js-mediator-section",notice:".js-mediator-notice"},cssClss:{mark:"js-mediator-mark"},attrs:{autostart:"data-autostart",useSection:"data-use-section",counter:"data-counter",touchCounter:"data-mobile-counter",orientation:"data-orientation"},hashes:{showRule:"mediator",debug:"mediator-debug"},timeouts:{sleep:3e4,hit:5e3,size:2e3,scroll:300,resize:500},section:{minSize:0,count:3},rootElement:!1,articleElement:!1,metaParams:{enable:!1,shareOptions:[]},serverApi:{urls:{metric:"//collector.mediator.media/register/",meta:"//collector.mediator.media/meta/"}},transit:{},counter:null,showRule:!1,isMobile:null,sectionByClass:!1,autostart:!0,orientation:"vertical",triggerArea:.33,debug:!1,onPushEvent:null,templates:{noArticle:'<div class="js-mediator-notice" style="position: fixed;left: 0px;right: 0px;height: 32px;z-index: 9999;background: #f4e34e;top: 0;font-family: Arial;font-size: 17px;color: black;line-height: 32px;text-align: center;"><span style="font-weight: bold;"><span style="color: #F44E4E;">✘</span>&nbsp;${title}:</span>&nbsp;${text}</div>'}},dt={vertical:{viewport:{start:"top",size:"height"},page:{scrollSize:"scrollHeight"},parent:{offsetStart:"top",clientSize:"clientHeight",size:"height"},article:{start:"top",size:"height"},section:{start:"top",size:"height"},mark:{pos:"top",style:{mark:"position: absolute; left: 0px; right: 0px; height: 4px; z-index: 9999; background: #F44E4E;",label:"position: absolute; top: -28px; left: 16px; font-family: Arial; font-size: 15px; color: white; background: #F44E4E; line-height: 32px; padding: 0 16px; display: inline-block; border-radius: 3px;",labelLast:"position: absolute; top: -28px; left: 16px; font-family: Arial; font-size: 15px; color: white; background: #F44E4E; line-height: 32px; padding: 0 16px; display: inline-block; border-radius: 3px;"}}},horizontal:{viewport:{start:"left",size:"width"},page:{scrollSize:"scrollWidth"},parent:{offsetStart:"left",clientSize:"clientWidth",size:"width"},article:{start:"left",size:"width"},section:{start:"left",size:"width"},mark:{pos:"left",style:{mark:"position: absolute; bottom: 0px; top: 0px; width: 4px; z-index: 9999; background: #F44E4E;",label:"position: relative; top: 0px; left: 0px; width: 120px; font-family: Arial; font-size: 15px; color: white; background: #F44E4E; line-height: 32px; padding: 0 16px; display: inline-block; border-radius: 3px;",labelLast:"position: relative; top: 0px; left: -152px; width: 120px; font-family: Arial; font-size: 15px; color: white; background: #F44E4E; line-height: 32px; padding: 0 16px; display: inline-block; border-radius: 3px;"}}}},ft={ru:{start:"Начало",end:"Конец",section:"секции",noArticle:{title:"Предупреждение",text:"на странице отсутствует контейнер для статьи"}},en:{start:"Start of",end:"End of",section:"section",noArticle:{title:"Warning",text:"there is no container for the article on the page"}}},pt={focus:!0,focusin:!0,pageshow:!0,blur:!1,focusout:!1,pagehide:!1},mt=["TEXTAREA","SCRIPT","STYLE"];window._mediator=function(){try{V.call(ut),ut._opts.autostart?K.call(ut):D.call(ut)}catch(t){window.console.error(t.name+": "+t.message)}var t=z.bind(ut),e=function(){this._opts.showRule=!1,_.call(this)}.bind(ut);return{start:function(t){$.call(ut,t)},stop:function(){t(!1),e(),D.call(ut),N.call(ut,"apiStop")},pause:function(){t(!1)},continue:function(){t(!0)},redraw:function(){ut._opts.sectionByClass&&(ut._elems.section=c.call(ut)),p.call(ut)},isActive:function(){return P.call(ut)},push:function(t){o.call(ut,t)}}}()}}}()},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=i(0),a=function(t,e){var i={},n=document.title;n&&(i.title=n);var a=document.getElementsByTagName("h1");if(a.length){var s=a[0],l=s.textContent||s.innerText;l&&(i.h1=l)}var c=document.querySelector("link[rel='canonical']");c&&(i.canonical=c.href);var u=document.querySelector("meta[name='description']");u&&(i.description=u.getAttribute("content"));var h=document.querySelector("meta[name='mediator']");h&&(i.mediator=h.getAttribute("content"));var d=document.querySelector("meta[name='mediator_published_time']");d&&(i.mediator_published_time=d.getAttribute("content"));var f=document.querySelectorAll("meta[name='mediator_author']");if(f.length){i.mediator_author=[];for(var p=0;p<f.length;p++){var m=f[p].getAttribute("content");m&&i.mediator_author.push(m)}}var v=document.querySelectorAll("meta[name='mediator_theme']");if(v.length){i.mediator_theme=[];for(var p=0;p<v.length;p++){var g=v[p].getAttribute("content");g&&i.mediator_theme.push(g)}}var b=t.shareOptions;b&&b.length?r.default(b,function(t){var n=o.mediatorUtils.extend(!0,{},i,t);e(n)}):e(i)};e.mediatorMeta={get:a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){function i(){this.VK={Share:{count:n.bind(this)}},this.ODKL={updateCount:n.bind(this)},this.CALLBACKS=[],this.SHARE_COUNTERS={},this.SHARE_PARAMS={fb:{url:"https://graph.facebook.com/",getCount:function(t){var e=0;return t&&t.share&&(e=t.share.share_count||e),e},params:{url:"id"}},vk:{url:"https://vk.com/share.php?act=count&format=json",params:{url:"url",id:"index"}},ok:{url:"https://connect.ok.ru/dk?st.cmd=extLike",params:{url:"ref",id:"uid"}}}}function n(t,e){var i=this.CALLBACKS[t];"function"==typeof i&&(this.CALLBACKS[t]=null,i.call(null,e))}function r(t){return this.CALLBACKS.push(t)-1}function o(t,e){var i=Object.keys(e||{});if(!i.length)return t;var n=i.map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&");return-1==t.indexOf("?")?t+"?"+n:t+"&"+n}function a(t,e){var i=this.document.createElement("script"),n=Math.round(1e5*Math.random());if(e){var r="jsonp_callback_"+n;this[r]=function(t){delete this[r],this.document.body.removeChild(i),e(t)}.bind(this),i.src=t+(t.indexOf("?")>=0?"&":"?")+"callback="+r}else i.src=t;this.document.body.appendChild(i)}function s(t){var e=this.SHARE_PARAMS[t.type],i={};i[e.params.url]=t.url,e.getCount?a.call(this,o(e.url,i),function(i){if(!i.error)return this.SHARE_COUNTERS[t.type]=e.getCount(i)}.bind(this)):(i[e.params.id]=r.call(this,function(e){return this.SHARE_COUNTERS[t.type]=e}.bind(this)),a.call(this,o(e.url,i)))}var l=function(){var t=document.querySelector("link[rel='canonical']");return t?t.getAttribute("href"):window.location.href}(),c=document.createElement("iframe");c.id="shares_frame_"+Math.round(1e5*Math.random()),c.style.display="none",document.body.appendChild(c);var u=c.contentWindow;i.call(u),u.jsonp=a.bind(u),u.execCountCallback=n.bind(u),u.addCallback=r.bind(u),u.addUrlParams=o.bind(u),u.getShareCount=s.bind(u);for(var h=0;h<t.length;h+=1)s.call(u,{url:l,type:t[h]});setTimeout(function(){var t=u.SHARE_COUNTERS;e(t)},1e3)};e.default=n}]);