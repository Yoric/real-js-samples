(function(f){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,a=m?m("DetailPageDigitalBulkAssets",""):g;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,g,m){f.register("simpleQuantityUIManager",function(){return{refresh:function(a){this.quantityTextField.val(a);this.quantityFormField.val(a);this.changeButtonOnUpdate&&this.initialized&&this.makeButtonPrimary();this.textboxOnly||(this.isQuantityLessThanMaxFreeFormDropdownQuantity(a)?(this.hideQuantityTextField(),
this.quantityDropdownSelect.val(a),this.showQuantityDropdown()):(this.hideQuantityDropdown(),this.showQuantityTextField()))},showQuantityTextField:function(){this.quantityTextField.hasClass(this.hideCss)&&(this.quantityTextField.removeClass(this.hideCss),this.quantityTextFieldBox.removeClass(this.hideCss),this.quantityTextField.focus())},hideQuantityTextField:function(){this.quantityTextField.addClass(this.hideCss);this.quantityTextFieldBox.addClass(this.hideCss);this.hideQuantityWarning()},showQuantityDropdown:function(){this.quantityDropdown.removeClass(this.hideCss)},
hideQuantityDropdown:function(){this.quantityDropdown.addClass(this.hideCss)},showQuantityWarning:function(a){this.quantityLimitMessage.removeClass(this.hideCss);var e=this;this.A.slideDown(this.quantityLimitMessage,300,"ease-out",function(){e.quantityTextField.val(a)})},hideQuantityWarning:function(){var a=this;this.A.slideUp(this.quantityLimitMessage,500,"ease-out",function(){a.quantityLimitMessage&&a.quantityLimitMessage.addClass(a.hideCss)})},makeButtonPrimary:function(){this.callToActionButton.addClass("a-button-primary")},
isQuantityLessThanMaxFreeFormDropdownQuantity:function(a){return a>=this.minDropDownQuantity&&a<=this.maxDropDownQuantity}}});f.when("A","jQuery","a-dropdown","cf","simpleQuantityPickerParams","simpleQuantityUIManager").execute(function(a,e,h,f,b,c){function g(){var d=k.val(),d=parseInt(d)||0;d>b.maxQuantity?(d=b.maxQuantity,c.showQuantityWarning(d)):d=d<b.minDropDownQuantity?b.minDropDownQuantity:d;return d}var m=e("#quantity-form-field"),k=e("#quantity-update-text");f=e("#quantity-update-text-outer");
var n=h.getSelect("#quantity-dropdown-select");h=e("#quantity-dropdown");var l=e("#quantity-picker-warning"),p=b.changeButtonOnUpdate;e=e(b.callToActionButtonId);c.initialized=!1;c.textboxOnly=b.textboxOnly;c.hideCss=b.hideCss;c.quantityFormField=m;c.quantityTextField=k;c.quantityTextFieldBox=f;c.quantityDropdownSelect=n;c.quantityDropdown=h;c.quantityLimitMessage=l;c.callToActionButton=e;c.changeButtonOnUpdate=p;c.minDropDownQuantity=b.minDropDownQuantity;c.maxDropDownQuantity=b.maxDropDownQuantity;
c.A=a;h=b.maxQuantity<=b.maxDropDownQuantity?b.maxQuantity:b.maxDropDownQuantity;e=0;f=!1;for(l=b.minDropDownQuantity;l<=h;l++)n.addOption({text:l.toString(),value:l.toString()},e++),l===b.quantity&&(f=!0);b.maxQuantity>b.maxDropDownQuantity&&(h=b.maxDropDownQuantity+1,n.addOption({text:h.toString()+"+",value:h.toString(),id:"quantity-last-option",nativeId:"quantityToggleOption"},e));f&&n.setValue(b.quantity);c.refresh(g());c.initialized=!0;a.declarative("quantity-update-text-action","keydown",function(d){d=
d.$event;var a;(a=d.shiftKey&&9!==d.keyCode||d.ctrlKey||d.altKey)||(a=d.keyCode,a=!(48<=a&&57>=a||96<=a&&105>=a||8===a||46===a||9===a||36===a||35===a||37===a||39===a||13===a));a&&d.preventDefault();13===d.keyCode&&k.blur()});a.declarative("quantity-update-text-action","keyup",function(a){a=k.val();var b=a.replace(/\D/g,"");a!==b&&k.val(b);m.val(g())});a.declarative("quantity-update-text-action","focusout",function(a){c.hideQuantityWarning();var b=g();c.refresh(b);a=a.event?a.event:a.$event;13===a.keyCode&&
(a.preventDefault(),k.focus())});a.declarative("quantity-dropdown-action","change",function(a){c.refresh(n.val())});k.bind("paste",function(a){a.preventDefault()})})});