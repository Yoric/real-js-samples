(function(c,e){function w(c){if(c)return c.replace(/^\s+|\s+$/g,"")}function n(d,e){if(!d)return{};var b="INFO"===e.logLevel;d.m&&d.m.message&&(d=d.m);var h=e.m||e.message||"",h=d.m&&d.m.message?h+d.m.message:d.m&&d.m.target&&d.m.target.tagName?h+("Error handler invoked by "+d.m.target.tagName+" tag"):d.m?h+d.m:d.message?h+d.message:h+"Unknown error",h={m:h,name:d.name,type:d.type,csm:N+" "+(d.fromOnError?"onerror":"ueLogError")},f,m,k=0,n;h.logLevel=e.logLevel||A;e.adb&&(h.adb=e.adb);if(f=e.attribution)h.attribution=
""+f;if(!b){h.pageURL=e.pageURL||""+(window.location?window.location.href:"")||"missing";h.f=d.f||d.sourceURL||d.fileName||d.filename||d.m&&d.m.target&&d.m.target.src;h.l=d.l||d.line||d.lineno||d.lineNumber;h.c=d.c?""+d.c:d.c;h.s=[];h.t=c.ue.d();if((b=d.stack||(d.err?d.err.stack:""))&&b.split)for(h.csm+=" stack",f=b.split("\n");k<f.length&&h.s.length<z;)(b=f[k++])&&h.s.push(w(b));else for(h.csm+=" callee",m=x(d.args||arguments,"callee"),f=k=0;m&&k<z;)n=p,m.skipTrace||(b=m.toString())&&b.substr&&(n=
0===f?4*p:n,n=1==f?2*p:n,h.s.push(b.substr(0,n)),f++),m=x(m,"caller"),k++;if(!h.f&&0<h.s.length&&(k=h)&&k.s){var t,b=0<k.s.length?k.s[0]:"";f=1<k.s.length?k.s[1]:"";b&&(t=b.match(y));t&&3==t.length||!f||(t=f.match(M));t&&3==t.length&&(k.f=t[1],k.l=t[2])}}return h}function x(c,e){try{return c[e]}catch(b){}}function u(d,p){if(d){for(var b=n(d,p),h=(window.ue_err?window.ue_err.errorHandlers:null)||[],f=0;f<h.length;f++)"function"==typeof h[f].handler&&h[f].handler(b);c.ue.log(b,p.channel||m,{nb:1});
"function"===typeof ue_err.elh&&ue_err.elh(d,p);try{if(!d.fromOnError){var u=e.console,k=e.JSON,h="Error logged with the Track\x26Report JS errors API(http://tiny/1covqr6l8/wamazindeClieUserJava): ";if(u){if(k&&k.stringify)try{h+=k.stringify(b)}catch(w){h+="no info provided; converting to string failed"}else h+=b.m;"function"===typeof u.error?u.error(h,b):"function"===typeof u.log&&u.log(h,b)}}}catch(w){}}}function B(d,e){if(d&&!(c.ue_err.ec>c.ue_err.mxe)){c.ue_err.ter.push(d);e=e||{};var b=d.logLevel||
e.logLevel;e.logLevel=b;e.attribution=d.attribution||e.attribution;b&&b!==A&&b!==J&&b!==C&&b!==K||c.ue_err.ec++;b&&b!=A||ue_err.ecf++;u(d,e)}}if(c.ue_err&&(!c.ueLogError||c.ueLogError.isStub)){var m=c.ue_err_chan||"jserr",A="FATAL",J="ERROR",C="WARN",K="DOWNGRADED",N="v5",z=20,p=256,M=/\(?([^\s]*):(\d+):\d+\)?/,y=/.*@(.*):(\d*)/;u.skipTrace=1;n.skipTrace=1;B.skipTrace=1;(function(){if(c.ue_err.erl){var d=c.ue_err.erl.length,e,b;for(e=0;e<d;e++)b=c.ue_err.erl[e],u(b.ex,b.info);ue_err.erl=[]}})();c.ueLogError=
B}})(ue_csm,window);
(function(c,e){function w(a){for(var l={},g,v,q=0;q<a.length;q++)v=a[q],v.r=v.r||b.rid,v.s=v.s||c.ue_sid,g=v.r+v.s+v.m,v.c&&(l[g]||(l[g]=[]),l[g].push(a[q]));return l}function n(a){for(var l=1;l<arguments.length;l++){var g=arguments[l];try{if(g.isSupported)return g.send(a)}catch(b){}}}function x(){if(f.length&&!b.paused){for(var a=0;a<k.length;a++)k[a]();b._flhs+=1;u();n(w(f.splice(0,f.length)),D,F,G)}t=L=0}function u(){p&&B({k:"chk",f:b._flhs,l:b._lpn,s:"full"},"csm")}function B(a,l,g){g=g||{};!c.ue_furl||
0===g.bf&&b.isBF||(a={r:g.r||(b.paused?void 0:b.rid),s:g.s||(b.paused?void 0:c.ue_sid),m:g.m||c.ue_mid,mkt:g.mkt||c.ue_mkt,sn:g.sn||c.ue_sn,c:l,d:a,t:g.t||b.d(),cs:g.c&&c.ue_qsl},b._lpn[l]=(b._lpn[l]||0)+1,g.b?n(w([a]),D,G):g.nb?n(w([a]),D,F,G):g.img||O[l]?n(w([a]),G):g.ff?(f.push(a),x()):g.n?(f.push(a),0===H?x():t||(t=e.setTimeout(x,H))):(f.push(a),L||(L=e.setTimeout(x,Q))))}function m(a,l,g){I++;I==z&&B({m:"Max number of Forester Logs exceeded",f:"forester-client.js",logLevel:"ERROR"},e.ue_err_chan||
"jserr");(I<z||g&&g.il)&&B(a,l,g)}function A(){if(!P){for(var a=0;a<E.length;a++)E[a]();for(a=0;a<k.length;a++)k[a]();b._flhs+=1;u();n(w(f.splice(0,f.length)),D,G);P=!0}}function J(a){var l=d(a);a.reqs&&(l={csmcount:{counter:M,t:0,value:l.length}},l.csmcount.value+=d(l).length,a.reqs.push(l),l=d(a));return l}var C={};(function(){function a(a){return 10>a?"0"+a:a}function l(a){b.lastIndex=0;return b.test(a)?'"'+a.replace(b,function(a){var b=d[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"':'"'+a+'"'}function g(a,b){var d,v,h=q,f,r=b[a];r&&"object"===typeof r&&"function"===typeof r.toJSON&&(r=r.toJSON(a));"function"===typeof e&&(r=e.call(b,a,r));switch(typeof r){case "string":return l(r);case "number":return isFinite(r)?String(r):"null";case "boolean":case "null":return String(r);case "object":if(!r)return"null";q+=c;f=[];if("[object Array]"===Object.prototype.toString.apply(r)){b=r.length;for(a=0;a<b;a+=1)f[a]=g(a,r)||"null";v=0===f.length?"[]":q?"[\n"+q+f.join(",\n"+q)+"\n"+h+
"]":"["+f.join(",")+"]";q=h;return v}if(e&&"object"===typeof e)for(b=e.length,a=0;a<b;a+=1)"string"===typeof e[a]&&(d=e[a],(v=g(d,r))&&f.push(l(d)+(q?": ":":")+v));else for(d in r)Object.prototype.hasOwnProperty.call(r,d)&&(v=g(d,r))&&f.push(l(d)+(q?": ":":")+v);v=0===f.length?"{}":q?"{\n"+q+f.join(",\n"+q)+"\n"+h+"}":"{"+f.join(",")+"}";q=h;return v}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+
1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,q,c,d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e;"function"!==typeof C.stringify&&(C.stringify=function(a,
b,l){var d;c=q="";if("number"===typeof l)for(d=0;d<l;d+=1)c+=" ";else"string"===typeof l&&(c=l);if((e=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return g("",{"":a})})})();var K=function(){function a(b,g){if(null==b)return g.push("!n");if("number"===typeof b)return g.push("!"+b);if("string"===typeof b)return"\\"==b[b.length-1]?g.push("'"+b.replace(/'/g,"\\'")+"u005C'"):g.push("'"+b.replace(/'/g,"\\'")+"'");if("boolean"===typeof b)return g.push(b?
"!t":"!f");if(b instanceof Array){g.push("*");for(var c=0;c<b.length;c++)a(b[c],g);return g.push(")")}if("object"==typeof b){g.push("(");for(c in b)b.hasOwnProperty(c)&&(g.push(c),a(b[c],g));return g.push(")")}return g.push("!n")}return{stringify:function(b){var c=[];a(b,c);return c.join("")}}}(),N=c.ue_qsl||2E3,z=2E3,p=1===window.ue_ddq,M="foresterPayloadSize",y=function(){},d=e.JSON&&e.JSON.stringify||C&&C.stringify,R=K.stringify,b=c.ue||{},K=c.uet||y;(c.uet||y)("bb","ue_frst_v2",{wb:1});var h=
"//"+c.ue_furl+"/1/batch/1/OE/",f=[],E=[],k=[],P=!1,t,L,H=void 0===c.ue_hpfi?1E3:c.ue_hpfi,Q=void 0===c.ue_lpfi?1E4:c.ue_lpfi,O={"scheduled-delivery":1},I=0,F=function(){function a(){if(e.XDomainRequest){var a=new XDomainRequest;a.onerror=y;a.ontimeout=y;a.onprogress=y;a.onload=y;a.timeout=0;return a}if(e.XMLHttpRequest){a=new XMLHttpRequest;if(!("withCredentials"in a))throw"";return a}if(e.ActiveXObject){for(var b=0;b<d.length&&!a;b++)try{a=new ActiveXObject(d[b]),d=[d[b]]}catch(c){}return a}}function l(a){for(var g=
[],d=a[0]||{},l=0;l<a.length;l++){var e={};e[a[l].c]=a[l].d;g.push(e)}return{rid:d.r||b.rid,sid:d.s||c.ue_sid,mid:d.m||c.ue_mid,mkt:d.mkt||c.ue_mkt,sn:d.sn||c.ue_sn,reqs:g}}function g(b){var c=l(b),g=a();if(!g)throw"";g.onerror=function(){for(var a=0;a<b.length;a++)f.push(b[a]);F.isSupported=!1};g.open("POST",h,!0);g.setRequestHeader&&g.setRequestHeader("Content-type","text/plain");c=J(c);g.send(c)}var d="MSXML2.XMLHTTP.6.0 MSXML2.XMLHTTP.5.0 MSXML2.XMLHTTP.4.0 MSXML2.XMLHTTP.3.0 MSXML2.XMLHTTP Microsoft.XMLHTTP".split(" ");
return{send:function(a){for(var b in a)a.hasOwnProperty(b)&&a[b].length&&g(a[b])},buildPOSTBodyLog:l,isSupported:!0}}(),G=function(){return{send:function(a){for(var l in a)if(a.hasOwnProperty(l)){for(var g=a[l],e=g,q={},f,r=0;r<e.length;r++)f=e[r].c,q[f]||(q[f]=[]),q[f].push(e[r]);g=g[0]||{};e=g.sn||c.ue_sn;g=h+(g.m||c.ue_mid)+":"+(g.s||c.ue_sid)+":"+(g.r||b.rid)+(e?":"+e:"");e=[];f=g;var r=[],m=void 0;for(m in q)if(q.hasOwnProperty(m))for(var k=0;k<q[m].length;k++){var p=q[m][k],n=encodeURIComponent((p.cs?
R:d)(p.d));r.push({l:n,t:p.t,p:1,c:m,d:p.cs?"c":"j"})}q=r;r=void 0;m="$";for(p=0;p<q.length;){k=q[p];r!=k.c?(f+=m+k.c+"\x3d",m="\x26",r=k.c):f+=",";var n=f,u=k.d+":",t=k;f=(t.l.match(".{1,"+(N-f.length)+"}[^%]{0,2}")||[])[0]||"";t.l=t.l.substr(f.length);f=n+(u+f+":"+k.t);if(k.l)f+=":"+k.p++ +"_",e.push(f),f=g,m="$",r=0;else if(p++,1!=k.p)for(f+=":"+k.p+"_"+k.p,n=0;n<k.p-1;n++)e[e.length-n-1]+=k.p}e.push(f);g=e;for(e=0;e<g.length;e++)(new Image).src=g[e]}},isSupported:!0}}(),D=function(){return{send:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=
F.buildPOSTBodyLog(a[b]),c=J(c);if(!navigator.sendBeacon(h,c))throw"";}},isSupported:!!navigator.sendBeacon}}();b._fic=G;b._fac=F;b._fbc=D;b._flq=f;b.sid=b.sid||c.ue_sid;b.mid=b.mid||c.ue_mid;b.furl=b.furl||c.ue_furl;b.sn=b.sn||c.ue_sn;b._flhs=b._flhs||0;b._lpn=b._lpn||{};try{e.amznJQ&&e.amznJQ.declareAvailable&&e.amznJQ.declareAvailable("forester-client"),e.P&&e.P.register&&e.P.register("forester-client",y)}catch(a){c.ueLogError(a,{logLevel:"WARN"})}(function(){b.log&&b.log.isStub&&(b.log.replay(function(a,
b,c){var e=a[2]||{};e.t=b;e.r=c;e.n=1;m(a[0],a[1],e)}),b.onunload.replay(function(a){E.push(a[0])}),b.onflush.replay(function(a){k.push(a[0])}))})();b.log=m;b.log.reset=function(){I=0};b.onunload=function(a){E.push(a)};b.onflush=function(a){k.push(a)};b.attach("beforeunload",A);b.attach("pagehide",A);K("ld","ue_frst_v2",{wb:1})})(ue_csm,window);
ue_csm.ue.exec(function(c,e){var w=function(){},n=function(){return{send:function(c,n){if(n&&c){var m;if(e.XDomainRequest)m=new XDomainRequest,m.onerror=w,m.ontimeout=w,m.onprogress=w,m.onload=w,m.timeout=0;else if(e.XMLHttpRequest){if(m=new XMLHttpRequest,!("withCredentials"in m))throw"";}else m=void 0;if(!m)throw"";m.open("POST",c,!0);m.setRequestHeader&&m.setRequestHeader("Content-type","text/plain");m.send(n)}},isSupported:!0}}(),x=function(){return{send:function(e,n){if(e&&n)if(navigator.sendBeacon(e,
n))c.ue_sbuimp&&c.ue&&c.ue.ssw&&c.ue.ssw("eelsts","scs");else throw"";},isSupported:!!navigator.sendBeacon&&!(e.cordova&&e.cordova.platformId&&"ios"==e.cordova.platformId)}}();c.ue._ajx=n;c.ue._sBcn=x},"Transportation-clients")(ue_csm,window);
ue_csm.ue.exec(function(c,e){function w(){for(var a=0;a<arguments.length;a++){var c=arguments[a];try{var g;if(c.isSupported){var h=D.buildPayload(f,b);g=c.send(d,h)}else throw dummyException;return g}catch(q){}}M({m:"All supported clients failed",attribution:"CSMSushiClient_TRANSPORTATION_FAIL",f:"sushi-client.js",logLevel:"ERROR"},e.ue_err_chan||"jserr")}function n(){if(b.length){for(var a=0;a<H.length;a++)H[a]();w(p._sBcn||{},p._ajx||{});b=[];h={};f={};O=I=E=k=0}}function x(){var a=new Date,b=function(a){return 10>
a?"0"+a:a};return Date.prototype.toISOString?a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}function u(a){try{return JSON.stringify(a)}catch(b){}return null}function B(a,d,g,f){var q=!1;f=f||{};t++;t==C&&M({m:"Max number of Sushi Logs exceeded",f:"sushi-client.js",logLevel:"ERROR",attribution:"CSMSushiClient_MAX_CALLS"},e.ue_err_chan||
"jserr");var h;if(h=!(t>=C))(h=a&&-1<a.constructor.toString().indexOf("Object")&&d&&-1<d.constructor.toString().indexOf("String")&&g&&-1<g.constructor.toString().indexOf("String"))||P++;h&&(a.producerId=a.producerId||d,a.schemaId=a.schemaId||g,a.timestamp=x(),d=Date.now?Date.now():+new Date,a.messageId=c.ue_id+"-"+d+"-"+t,f&&!f.ssd&&(a.sessionId=a.sessionId||c.ue_sid,a.requestId=a.requestId||c.ue_id,a.obfuscatedMarketplaceId=a.obfuscatedMarketplaceId||c.ue_mid),(d=u(a))?(d=d.length,(b.length==K||
E+d>N)&&n(),E+=d,a={data:D.compressEvent(a)},b.push(a),(f||{}).n?0===F?n():O||(O=e.setTimeout(n,F)):I||(I=e.setTimeout(n,G)),q=!0):q=!1);!q&&c.ue_int&&console.error("Invalid JS Nexus API call");return q}function m(){if(!Q){for(var a=0;a<L.length;a++)L[a]();for(a=0;a<H.length;a++)H[a]();b.length&&(c.ue_sbuimp&&c.ue&&c.ue.ssw&&(a=u({dct:f,evt:b}),c.ue.ssw("eeldata",a),c.ue.ssw("eelsts","unk")),w(p._sBcn||{}));Q=!0}}function A(a){L.push(a)}function J(a){H.push(a)}var C=1E3,K=499,N=524288,z=function(){},
p=c.ue||{},M=p.log||z,y=c.uex||z;(c.uet||z)("bb","ue_sushi_v1",{wb:1});var d=c.ue_surl||"https://unagi-na.amazon.com/1/events/com.amazon.csm.nexusclient.gamma",R=["messageId","timestamp"],b=[],h={},f={},E=0,k=0,P=0,t=0,L=[],H=[],Q=!1,O,I,F=void 0===c.ue_hpsi?1E3:c.ue_hpsi,G=void 0===c.ue_lpsi?1E4:c.ue_lpsi,D=function(){function a(a){h[a]||(h[a]="#"+k++,f[h[a]]=a);return h[a]}function c(a){return a.length>("#"+k).length||"#"===a.charAt(0)}function e(a){if(a)switch(typeof a){case "number":return!(isNaN(a)||
Infinity===a)&&c(a.toString());case "boolean":break;case "string":return c(a);default:return!0}return!1}function d(b){if(e(b)){var c=0;b instanceof Array?c=2:b instanceof Function?c=0:b instanceof Object&&(c=1);switch(c){case 0:b=a(b);break;case 2:var f=b;b=[];for(var c=f.length,h=0;h<c;h++)b[h]=d(f[h]);break;case 1:c={};for(f in b)b.hasOwnProperty(f)&&(c[a(f)]=-1==R.indexOf(f)?d(b[f]):b[f]);b=c}}return b}return{compressEvent:d,buildPayload:function(){return u({cs:{dct:f},events:b})}}}();(function(){if(p.event&&
p.event.isStub){if(c.ue_sbuimp&&c.ue&&c.ue.ssw){var a=c.ue.ssw("eelsts").val;if(a&&"unk"===a&&(a=c.ue.ssw("eeldata").val)){var d;a:{try{d=JSON.parse(a);break a}catch(e){}d=null}d&&d.evt instanceof Array&&d.dct instanceof Object&&(b=d.evt,f=d.dct,b&&f&&(n(),c.ue.ssw("eeldata","{}"),c.ue.ssw("eelsts","scs")))}}p.event.replay(function(a){a[3]=a[3]||{};a[3].n=1;B.apply(this,a)});p.onSushiUnload.replay(function(a){A(a[0])});p.onSushiFlush.replay(function(a){J(a[0])})}})();p.attach("beforeunload",m);p.attach("pagehide",
m);p._cmps=D;p.event=B;p.event.reset=function(){t=0};p.onSushiUnload=A;p.onSushiFlush=J;try{e.P&&e.P.register&&e.P.register("sushi-client",z)}catch(a){c.ueLogError(a,{logLevel:"WARN"})}y("ld","ue_sushi_v1",{wb:1})},"Nxs-JS-Client")(ue_csm,window);