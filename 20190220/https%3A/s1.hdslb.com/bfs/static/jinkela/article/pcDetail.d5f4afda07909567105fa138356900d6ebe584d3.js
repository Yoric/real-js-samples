webpackJsonp([1],{0:function(i,t,e){"use strict";function a(i){var t=Math.floor((new Date).getTime()/1e3),e=new Date(1e3*i);return t-i<=50?L.GANGGANG:t-i<3600?Math.ceil((t-i)/60)+L.FENZHONGQIAN:t-i<86400?e.getDate()!=(new Date).getDate()?L.ZUOTIAN:Math.ceil((t-i)/3600)+L.XIAOSHIQIAN:e.getFullYear()!=(new Date).getFullYear()?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():e.getMonth()+1+"-"+e.getDate()}function n(i){if(i){for(var t=/(<a[^<]*>.*?<\/a>)/,e=i.split(t),a=0,n=e.length;a<n;++a)if(t.test(e[a]))e[a]=e[a].replace(/(<a\s)/,function(i){return i+'target="_blank" '});else{e[a]=e[a].replace(/(http:\/\/|https:\/\/)?[a-zA-Z]+\.bili(bili|game)\.com((\w|=|\?|\.|\/|&|-|#)*)/gi,function(i){return"<a class='article-link' target='_blank' href='"+("http"===i.substr(0,4)?i:"//"+i)+"'>"+i+"</a>"});for(var o=e[a].split(t),r=0,l=o.length;r<l;++r)t.test(o[r])||(o[r]=o[r].replace(/av[0-9]+/gi,function(i){return"<a class='video-link' target='_blank' href='//www.bilibili.com/video/"+i+"'>"+i.toUpperCase()+"</a>"}),o[r]=o[r].replace(/cv[0-9]+/gi,function(i){return"<a class='article-link' target='_blank' href='//www.bilibili.com/read/"+i+"?from=articleDetail'>"+i.toUpperCase()+"</a>"}));e[a]=o.join("")}return e.join("")}}function o(i){$(i).find("*[contenteditable]").removeAttr("contenteditable")}function r(i,t,e,a,n){if(t=Math.abs(Math.round(parseInt(t))),e=Math.abs(Math.round(parseInt(e))),t>4096||e>4096)return i;if(i){var o=i.match(/(.*\.(jpg|jpeg|gif|png))(\?.*)?/);if(o){var r=-1!==i.indexOf("/bfs/");if("gif"===o[2]||!r)return i;var l=a&&n?"_"+a+"e_"+n+"c":"",s=t&&e?"@"+t+"w_"+e+"h"+l:"@",c=o[3]?o[3]:"";return G?o[1]+s+".webp"+c:o[1]+s+"."+o[2]+c}}}function l(i){return i?i.replace(/^http:/,""):""}function s(i,t){if(i){var e=i.getBoundingClientRect(),a=t||0;return e.top<window.innerHeight+a&&e.bottom>=0}}function c(i){var t={};try{t=JSON.parse(i)}catch(i){}return t}function d(i){return i?i.replace(/<img src[^>]+>/g,function(i){return i.replace(/src=/,"data-src=")}):""}function u(i){if(-1!=String(i).indexOf(":"))return i;var t,e;return i/60<1?(t="0",e=i):(t=Math.floor(i/60),e=i-60*Math.floor(i/60)),t<10&&(t="0"+t),e<10&&(e="0"+e),t+":"+e}function v(){var i=2;return void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?i=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(i=window.devicePixelRatio),i}function f(i){var t=Math.floor((new Date).getTime()/1e3),e=new Date(1e3*i);if(t-i<=60)return L.GANGGANG;if(t-i<3600)return parseInt((t-i)/60)+L.FENZHONGQIAN;if(t-i<86400)return parseInt((t-i)/3600)+L.XIAOSHIQIAN;var a=new Date;return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.getTime()/1e3-i<86400?L.ZUOTIAN:e.getFullYear()!=(new Date).getFullYear()?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():e.getMonth()+1+"-"+e.getDate()}function p(i,t,e,a){var n=null,o=void 0;return function(){var r=a||this,l=arguments,s=+new Date;clearTimeout(n),o||(o=s),s-o>=e?(i.apply(r,l),o=s):n=setTimeout(function(){i.apply(r,l)},t)}}function m(i){for(var t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e="",a=0;a<i;a++){e+=t[Math.floor(62*Math.random())]}return e}function g(i){return i&&i.replace(/(<\/figure>)((<p><br\/?><\/p>)+)(<figure[^>]*>)/g,function(i,t,e,a,n){return t+n})}function h(i,t,e){if(0!=$(i).length&&t){var a=$(i).offset();a.width=$(i).width(),a.height=$(i).height();var n=$('<div class="messageBox">'+t+"</div>");n.appendTo("body");var o={height:n.outerHeight(),width:n.outerWidth()},r={top:a.top-o.height-20,left:a.left-(o.width-a.width)/2,opacity:1};r.left+o.width>window.innerWidth&&(r.left="initial",r.right="0"),r.top<$(window).scrollTop()&&(r.top=a.top+a.height+20),r.left<0&&(r.left=0),$(n).css(r),setTimeout(function(){n.css("opacity","0"),n.on("transitionend",function(){n.remove()})},e||3e3)}}function b(i,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;if(0!=$(i).length&&t&&!$(i).hasClass("left-toasting")){$(i).addClass("left-toasting");var a=$(i).offset();a.width=$(i).width(),a.height=$(i).height();var n=$('<div class="message-box-holder"><div class="left-messageBox">'+t+'<span class="arrow"></span></div>');n.appendTo("body");var o={height:n.outerHeight(),width:n.outerWidth()},r={left:a.left-o.width-20};r.left+o.width>window.innerWidth&&(r.left="initial",r.right="0"),r.left<0&&(r.left=0,n.width()+20>a.left&&n.css("margin-right",window.innerWidth-a.left+20)),r.top=a.top-(n.outerHeight()-a.height)/2,$(n).css(r),n.find(".left-messageBox").addClass("on"),setTimeout(function(){n.find(".left-messageBox").css("opacity","0"),n.find(".left-messageBox").on("transitionend",function(){n.remove(),$(i).removeClass("left-toasting")})},e)}}function w(i){B.mobile?window.location.href="//passport.bilibili.com/login":window.biliQuickLogin?window.biliQuickLogin(i):$.getScript("//static.hdslb.com/account/bili_quick_login.js",function(){window.biliQuickLogin(i)})}function k(i){var t=parseInt(i);return t<0?"-":t<1e4?t:t>=1e4&&t<1e7?(Math.round(i/1e3)/10).toFixed(1)+L.WAN:t>=1e7&&t<1e8?Math.floor(i/1e4)+L.WAN:t>=1e8?(i/1e8).toFixed(1)+L.YI:"-"}function _(i){var t=$(['<div class="page-mask"></div>','<div class="modalBox">',"<p>"+(i.message||"")+"</p>",'<button class="cancel">'+L.CANCEL+"</button>",'<button class="sure">'+L.CONFIRM+"</button>","</div>"].join(""));t.find(".cancel").click(function(){t.remove()}),t.find(".sure").click(function(){t.remove(),i.sure()}),t.appendTo("body")}function y(i){var t=$(['<div class="vote-backdrop">',' <div class="extension-wrapper">','   <div class="title-box">','     <div class="title-text">投票</div>','     <div class="close-button"></div>',"   </div>",'   <iframe src="'+i+'" frameborder="0"></iframe>'," </div>","</div>"].join(""));t.find(".close-button").click(function(){t.remove()}),t.appendTo("body")}function x(i){var t=i.callback||"_jsonpCallback_"+(new Date).getTime(),e=$('<iframe name="frm'+t+'" id="frm'+t+'" style="visibility:hidden; width:1px; height:1px"></iframe>').appendTo("body"),a=$('<form action="'+i.url+'" method="POST" target="frm'+t+'"></form>').appendTo("body");void 0===i.data&&(i.data={}),i.data.csrf=H.get("bili_jct"),i.data[i.jsonpCallback||"callback"]=t;for(var n in i.data)$('<input type="hidden" name="'+n+'" />').appendTo(a).val(i.data[n]);window[t]=function(t){"function"==typeof i.success&&i.success(t),"function"==typeof i.complete&&i.complete(t),e.remove(),a.remove()},a.submit()}function C(i){var t=$(['<div class="center-toast">','<div class="info">'+i+"</div>","</div>"].join(""));$("body").append(t),setTimeout(function(){t.one("transitionend",function(){t.remove()}).css("opacity","0")},3e3)}function T(i){var t=0;if(document.selection){var e=document.selection.createRange();i.focus(),e.moveStart("character",-i.value.length),t=e.text.length}else(i.selectionStart||"0"==i.selectionStart)&&(t=i.selectionStart);return t}function O(i){return i=i.toString(),i=i.replace(/</g,"&lt;"),i=i.replace(/>/g,"&gt;"),i=i.replace(/"/g,"&#34;"),i=i.replace(/'/g,"&#39;"),i=i.replace(/\\/g,"&#92;"),i=i.replace(/\//g,"&#47;"),i=i.replace(/\n/g,"")}function N(){var i=void 0,t=void 0,e=void 0,a=void 0;if(window.getSelection)t=window.getSelection();else if(window.document.getSelection)t=window.document.getSelection();else if(window.document.selection)return t=window.document.selection,{html:t.createRange().htmlText,selection:t};return t.rangeCount>0&&(e=t.getRangeAt(0),a=window.document.createElement("div"),a.appendChild(e.cloneContents()),i=a.innerHTML),{html:i||"",selection:t}}function j(){var i=new Date,t=i.getMonth()+1,e=i.getDate(),a=i.getHours(),n=i.getMinutes();return i.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(e<10?"0"+e:e)+" "+(a<10?"0"+a:a)+":"+(n<10?"0"+n:n)}function I(){var i=null;window.getSelection?i=window.getSelection():document.selection&&(i=document.selection),i&&(i.empty&&i.empty(),i.removeAllRanges&&i.removeAllRanges())}function M(){/Android|iPhone|Windows Phone/.test(navigator.userAgent)?/cv[0-9]+/.test(location.href)&&(location.href=location.href.replace(/read\/(cv)/,"read/mobile/")):/mobile\/[0-9]+/.test(location.href)&&(location.href=location.href.replace(/read\/(mobile\/)/,"read/cv"))}function A(i){function t(i){if(e[i.keyCode])return E(i),!1}var e={37:1,38:1,39:1,40:1};"lock"==i?(window.addEventListener&&window.addEventListener("DOMMouseScroll",E,!1),window.onwheel=E,window.onmousewheel=document.onmousewheel=E,window.ontouchmove=E,document.onkeydown=t):"unlock"==i&&(window.removeEventListener&&window.removeEventListener("DOMMouseScroll",E,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null)}function E(i){i=i||window.event,i.preventDefault&&i.preventDefault(),i.returnValue=!1}function S(i){return Y[i]||"/read/home"}function D(){var i=navigator.userAgent,t="";if(/mobi_app\/(?:(?:android_i)|(?:ios_i))/i.test(i)){var e=i.match(/lang\/([a-z]+_[a-z]+)/i);e&&e[1]&&(t=String(e[1]))}return["ja_JP","en_US"].indexOf(t)>-1&&(t="zh_TW"),t}e(2);var P=e(1),R=function(i){return i&&i.__esModule?i:{default:i}}(P),U="zh_CN";D()&&(U=D());var L=R.default[U],G=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(i){return!1}}(),H={get:function(i){var t=""+document.cookie,e=t.indexOf(i+"=");if(-1==e||""==i)return"";var a=t.indexOf(";",e);return-1==a&&(a=t.length),unescape(t.substring(e+i.length+1,a))},set:function(i,t,e){e=void 0!==e?e:365;var a=new Date;a.setTime(a.getTime()+24*e*60*60*1e3),document.cookie=i+"="+escape(t)+";expires="+a.toGMTString()+"; path=/; domain=.bilibili.com"},delete:function(i){this.set(i,"",-1)}},F=/AppleWebKit.*Mobile.*/i.test(window.navigator.userAgent),B=function(){var i=navigator.userAgent;return{trident:/Trident/i.test(i),presto:/Presto/i.test(i),webKit:/AppleWebKit/i.test(i),gecko:/Gecko/i.test(i)&&!/KHTML/i.test(i),mobile:/AppleWebKit.*Mobile.*/i.test(i),ios:/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(i),android:/Android/i.test(i)||/Linux/i.test(i),windowsphone:/Windows Phone/i.test(i),iPhone:/iPhone/i.test(i),iPad:/iPad/i.test(i),MicroMessenger:/MicroMessenger/i.test(i),webApp:!/Safari/i.test(i),edge:/edge/i.test(i),weibo:/Weibo/i.test(i),uc:/UCBrowser/i.test(i),qq:/MQQBrowser/i.test(i),baidu:/Baidu/i.test(i)}}();window.leftToast=b;var W={list:[],emit:function(i,t){if(this.list[i]){var e=this.list[i];for(var a in e)e[a](t)}},on:function(i,t){this.list[i]?this.list[i].push(t):this.list[i]=[t]}},Y={"/read/home":0,"/read/douga":2,"/read/game":1,"/read/lightnovel":16,"/read/technology":17,"/read/other":3,0:"/read/home",2:"/read/douga",1:"/read/game",16:"/read/lightnovel",17:"/read/technology",3:"/read/other"},z=[["baiyan","白眼"],["doge","doge"],["huaixiao","坏笑"],["nanguo","难过"],["shengqi","生气"],["weiqu","委屈"],["xieyanxiao","斜眼笑"],["fadai","呆"],["fanu","发怒"],["jingxia","惊吓"],["outu","呕吐"],["sikao","思考"],["weixiao","微笑"],["yiwen","疑问"],["daku","大哭"],["guzhang","鼓掌"],["koubi","抠鼻"],["qinqin","亲亲"],["tiaopi","调皮"],["xiaoku","笑哭"],["yun","晕"],["dianzan","点赞"],["haixiu","害羞"],["shuizhao","睡着"],["se","色"],["tuxue","吐血"],["wunai","无奈"],["zaijian","再见"],["liuhan","流汗"],["touxiao","偷笑"],["zhuakuang","抓狂"],["heirenwenhao","黑人问号"],["kun2","困"],["dalian","打脸"],["bizui","闭嘴"],["bishi","鄙视"],["miantian","腼腆"],["chan","馋"],["keai","可爱"],["facai","发财"],["shengbing","生病"],["liubixue","流鼻血"],["ganga","尴尬"],["dalao","大佬"],["liulei","流泪"],["lengmo","冷漠"],["zhoumei","皱眉"],["guilian","鬼脸"],["tiaokan","调侃"],["mudengkoudai","目瞪口呆"]],q={};for(var Q in z)q["["+z[Q][1]+"]"]="//s1.hdslb.com/bfs/seed/bplus-common/emoji-assets/xiaodianshi1/"+z[Q][0]+".png";i.exports={countdown:a,replaceLink:n,formatImg:r,trimHttp:l,checkInView:s,getObjFromStr:c,processImgSrc:d,formatDuration:u,DPR:2,getDevicePixelRatio:v,human_date:f,cookie:H,throttle:p,GetRandomString:m,removeEmptyTagP:g,version:B,toast:h,leftToast:b,login:w,isMobile:F,formatNum:k,modalBox:_,iframeBox:y,postJSON:x,centerToast:C,getCursortPosition:T,bus:W,filterChar:O,webp:G,getSelectObj:N,getDateStr:j,clearSelection:I,checkUA:M,lockPageScroll:A,filterContentEdit:o,checkCategoriesMap:S,dynamicEmojis:q,getLang:D}},1:function(i,t){i.exports={zh_CN:{CATEGORIES:{1:"游戏",2:"动画",3:"生活",4:"动漫杂谈",5:"动漫资讯",6:"单机游戏",7:"电子竞技",8:"手机游戏",9:"网络游戏",10:"桌游棋牌",11:"模型手办",12:"电影",13:"美食",14:"时尚",15:"日常",16:"轻小说",17:"科技",18:"原创连载",19:"同人连载",20:"小说杂谈",21:"萌宠",22:"运动",23:"绘画",24:"手工",25:"人文历史",26:"数码",27:"汽车",28:"影视",29:"兴趣",31:"动画技术",32:"短篇小说",33:"自然",34:"学习",35:"电视剧",36:"纪录片",37:"综艺",38:"摄影",39:"音乐舞蹈"},YUEDU:"阅读",GUANZHU:"关注",YIGUANZHU:"已关注",ZHIDING:"置顶",GUANZHU_SUCCESS:"成功关注UP主～喵～",FENSI:"粉丝",RECOMMEND_TITLE:"你可能感兴趣的用户",TUIJIANWENZHANG:"推荐文章",CATEGORY_ENTRY:"进入分区查看更多精彩内容 &gt; &gt;",ZHUANFA:"转发",PINGLUN:"评论",NOT_REPRINT:"本文禁止转载或摘编",XIHUAN:"点赞",TOUBI:"投币",SHOUCANG:"收藏",FENXIANG:"分享",LOAD_FAIL:"加载失败,请",RETRY:"重试",NETWORK_BAD:"网络太差啦，为什么不去检查下wifi插头呢",NETWORK_RETRY:"窝不管窝就是要刷ヽ(`Д´)ﾉ",NO_MORE:"没有更多了",GONG:"共",HAIYOU:"还有",COMMENT:"评论",COMMENT_COUNT:"条回复",ALL_COMMENTS:"全部评论",NO_COMMENT:"还没有人评论&#10",POPULAR_COMMENTS:"热门评论",MORE_POPULAR_COMMENTS:"更多热门评论",DO_FIRST_COMMENT:"快来发表第一条评论吧~",FROM_RECENT_COMMENT:"从最新的评论开始查看",DELETE_COMMENT:"删除评论后将不可恢复，是否继续删除？",DELETE_COMMENTED_COMMENNT:"删除评论后，评论下所有的回复都会被删除，是否继续删除？",REPOST:"转发",NO_REPOST:"还没有人转发&#10",DO_FIRST_REPOST:"快来转发吧~",BLACKLIST_USER:"黑名单用户",COMMENT_BLOCKED:"该用户的评论已被你屏蔽",BLOCK_USER:"拉黑该用户之后，将自动取消对他的关注，并禁止该用户与我进行互动。",STOP_LIKE:"住手你个点赞狂魔，你没看到服务器在冒烟吗",STOP_HATE:"住手你个点踩狂魔，你没看到服务器在冒烟吗",GANGGANG:"刚刚",FENZHONGQIAN:"分钟前",ZUOTIAN:"昨天",XIAOSHIQIAN:"小时前",CANCEL:"取消",CONFIRM:"确定",WAN:"万",YI:"亿"},zh_TW:{CATEGORIES:{1:"遊戲",2:"動畫",3:"生活",4:"動漫雜談",5:"動漫資訊",6:"單機遊戲",7:"電子競技",8:"手機遊戲",9:"網路遊戲",10:"桌遊棋牌",11:"模型手辦",12:"電影",13:"美食",14:"時尚",15:"日常",16:"輕小說",17:"科技",18:"原創連載",19:"同人連載",20:"小說雜談",21:"萌寵",22:"運動",23:"繪畫",24:"手工",25:"人文歷史",26:"數碼",27:"汽車",28:"影視",29:"興趣",31:"動畫技術",32:"短篇小說",33:"自然",34:"學習",35:"電視劇",36:"紀錄片",37:"綜藝",38:"攝影",39:"音樂舞蹈"},YUEDU:"閱讀",GUANZHU:"關注",YIGUANZHU:"已關注",ZHIDING:"置頂",GUANZHU_SUCCESS:"成功關注UP主～喵～",FENSI:"粉絲",RECOMMEND_TITLE:"你可能感興趣的用戶",TUIJIANWENZHANG:"推薦文章",CATEGORY_ENTRY:"進入分區查看更多精彩內容 &gt; &gt;",ZHUANFA:"轉發",PINGLUN:"評論",NOT_REPRINT:"本文禁止轉載或摘編",XIHUAN:"點贊",TOUBI:"投幣",SHOUCANG:"收藏",FENXIANG:"分享",LOAD_FAIL:"載入失敗,請",RETRY:"重試",NETWORK_BAD:"網路太差啦，為什麼不去檢查下wifi插頭呢",NETWORK_RETRY:"窩不管窩就是要刷ヽ(`Д´)ﾉ",NO_MORE:"沒有更多了",GONG:"共",HAIYOU:"還有",COMMENT:"評論",COMMENT_COUNT:"條回復",ALL_COMMENTS:"全部評論",NO_COMMENT:"還沒有人評論&#10",POPULAR_COMMENTS:"熱門評論",MORE_POPULAR_COMMENTS:"更多熱門評論",DO_FIRST_COMMENT:"快來發表第一條評論吧~",FROM_RECENT_COMMENT:"從最新的評論開始查看",DELETE_COMMENT:"刪除評論後將不可恢復，是否繼續刪除？",DELETE_COMMENTED_COMMENNT:"刪除評論後，評論下所有的回復都會被刪除，是否繼續刪除？",REPOST:"轉發",NO_REPOST:"還沒有人轉發&#10",DO_FIRST_REPOST:"快來轉發吧~",BLACKLIST_USER:"黑名單用戶",COMMENT_BLOCKED:"該用戶的評論已被你遮罩",BLOCK_USER:"拉黑該用戶之後，將自動取消對他的關注，並禁止該用戶與我進行互動。",STOP_LIKE:"住手你個點贊狂魔，你沒看到伺服器在冒煙嗎",STOP_HATE:"住手你個點踩狂魔，你沒看到伺服器在冒煙嗎",GANGGANG:"剛剛",FENZHONGQIAN:"分鐘前",ZUOTIAN:"昨天",XIAOSHIQIAN:"小時前",CANCEL:"取消",CONFIRM:"確定",WAN:"萬",YI:"億"}}},106:function(i,t,e){"use strict";function a(i){return i&&i.__esModule?i:{default:i}}function n(){var i=$(".title-container .create-time");i.text((0,D.countdown)(+i.attr("data-ts")))}function o(){if(/micromessenger/.test(navigator.userAgent.toLowerCase())){var i=$(window).width(),t=i>=ii?ii:i,e=(0,D.getDevicePixelRatio)(),a=(0,D.formatImg)(window.original.banner_url,Math.round(t*e),Math.round(t*e*.56));H.default.bindWX(a||"http://static.hdslb.com/mobile/img/app_logo.png",$("head title").text(),"【UP主:"+window.original.author.name+"】,来自哔哩哔哩",window.original.cvid)}else $(".btn-share").css("display","inline-block")}function r(){var i=$(window).width(),t=i>=ii?ii:i,e=(0,D.getDevicePixelRatio)();$(".banner-img-holder").css("background-image","url("+(0,D.formatImg)(window.original.banner_url,Math.round(t*e),Math.round(t*e*.56))+")").show()}function l(){$.ajax({url:"//api.bilibili.com/x/article/viewinfo",data:{id:window.original&&window.original.cvid,mobi_app:ei?"h5":"pc",from:oi,jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(i){0===i.code&&(window.original.imageUrl=i.data.image_urls||[],ti=i.data,v(),d(),ti.in_list&&(0,Z.default)($(".article-list-holder-block")))})}function s(){$.ajax({url:"//data.bilibili.com/v/web/web_page_view",type:"GET",xhrFields:{withCredentials:!0},data:{url:window.location.href,title:document.title,ref:document.referrer}})}function c(){ai||(ei?window.location.href="https://passport.bilibili.com/login":$.getScript("https://static-s.bilibili.com/account/bili_quick_login.js",function(){window.biliQuickLogin(function(){window.location.reload()})}))}function d(){var i=$("<span>"+(0,D.formatNum)(ti.stats.view)+"阅读</span><span>"+(0,D.formatNum)(ti.stats.like)+"点赞</span><span>"+(0,D.formatNum)(ti.stats.reply)+"评论</span>");$(".head-container .title-container .info .article-data").html(i),ti.stats.reply?($(".right-side-bar .to-comment span").text((0,D.formatNum)(ti.stats.reply)),$(".comment-title-block .comment-results").text((0,D.formatNum)(ti.stats.reply))):$(".right-side-bar .to-comment span").hide()}function u(){ti.attention?$(".attention-btn").addClass("attentioned").text("已关注"):$(".attention-btn").removeClass("attentioned").text("关注")}function v(){null!==ti&&(m(),h(),k())}function f(i){c();var t=i?1:2;$.ajax({type:"POST",url:"//api.bilibili.com/x/relation/modify",data:{fid:window.original.author.mid,act:t,re_src:115,csrf:D.cookie.get("bili_jct"),jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(t){0===t.code?(ti.attention=i,u()):22001===t.code&&(0,D.toast)($(".attention-btn"),t.message)}).fail(function(){})}function p(){$(".attention-btn").on("click",function(){ti&&(ti.attention?(0,D.modalBox)({sure:function(){f(!ti.attention)},message:"确认取消关注该up主吗？"}):f(!ti.attention))}),$(document).on("scroll.rightSide",function(){window.pageYOffset>window.innerHeight?$(".right-side-bar").addClass("on"):$(".right-side-bar").removeClass("on")}),$(document).on("click.to-comment",".right-side-bar .to-comment",function(){$("html, body").animate({scrollTop:$(".comment-holder").offset().top-innerHeight/2},300)}),$(document).on("click.toTop",".right-side-bar.on .to-top",function(){$("html, body").animate({scrollTop:0},300)}),$(document).on("click.moreOpList",".article-action li",function(i){var t=$(i.currentTarget),e=t.attr("value");if(!ai)return void c();(0,X.default)(e)})}function m(){var i=$(".like-btn");i.find("span").text((0,D.formatNum)(ti.stats.like)||"点赞"),1!==ti.like?i.removeClass("on"):i.addClass("on")}function g(i){if(!ai)return void c();var t=1!=ti.like?1:2;$.ajax({type:"POST",url:"//api.bilibili.com/x/article/like",data:{id:window.original.cvid,type:t,csrf:D.cookie.get("bili_jct"),jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(e){0===e.code?(1==t?(ti.like=1,ti.stats.like++,(0,D.toast)($(".like-btn"),"点赞成功")):((0,D.toast)($(".like-btn"),"取消点赞成功"),ti.like=2,ti.stats.like--),m(),d(),i&&i()):(0,D.toast)($(".like-btn"),e.message)}).fail(function(){})}function h(){var i=$(".coin-btn");i.find("span").text((0,D.formatNum)(ti.stats.coin)||"投币"),ti.coin>0&&i.addClass("on")}function b(){var i=$('<div class="wnd-mask"></div>'),t=$('<div class="coin-wrap "><div class="coin-content"><i class="close-btn"></i><p class="coin-title">给UP主投上<i>1</i>枚硬币</p><div class="coin-nav"><div class="coin-checkbox on"><p class="lable">1硬币</p><img class="" src="//static.hdslb.com/images/coin/22.gif"></div></div><a class="coin-sure b-btn" href="javascript:void(0)">确定</a><p class="coin-tips on">经验值+10（今日<span class=\'exp\'>0</span>/50）</p></div></div>');$("body").append(i,t),t.find(".close-btn").on("click.close",function(){t.removeClass("fade-in"),i.removeClass("fade-in"),t.one("transitionend",function(){t.remove(),i.remove()})}),ni<0?$.ajax({url:"//www.bilibili.com/plus/account/exp.php",type:"get",dataType:"json"}).done(function(i){ni=i.number,ni<50?t.find(".exp").text(ni):t.find(".coin-tips").text("今日投币+50经验成就 get√ 赞！")}):ni<50?t.find(".exp").text(ni):t.find(".coin-tips").text("今日投币+50经验成就 get√ 赞！"),setTimeout(function(){t.addClass("fade-in"),i.addClass("fade-in")},1),t.find(".coin-sure").click(function(){w(function(){t.find(".close-btn").trigger("click.close")})})}function w(i){$.ajax({url:"//api.bilibili.com/x/web-interface/coin/add",type:"post",data:{aid:window.original.cvid,multiply:1,upid:window.original.author.mid,avtype:2,csrf:D.cookie.get("bili_jct")},xhrFields:{withCredentials:!0}}).done(function(t){0==t.code?(i(),ti.coin=1,ti.stats.coin++,h(),d(),(0,D.toast)($(".coin-sure"),"投币成功")):(0,D.toast)($(".coin-sure"),t.message)})}function k(){var i=$(".fav-btn");i.find("span").text((0,D.formatNum)(ti.stats.favorite)||"收藏"),ti.favorite?i.addClass("on"):i.removeClass("on")}function _(){if(ai){var i=ti.favorite?"//api.bilibili.com/x/article/favorites/del":"//api.bilibili.com/x/article/favorites/add";$.ajax({type:"POST",url:i,data:{id:window.original.cvid,csrf:D.cookie.get("bili_jct"),jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(i){0==i.code?(ti.favorite=!ti.favorite,ti.stats.favorite+=ti.favorite?1:-1,(0,D.toast)($(".fav-btn"),ti.favorite?"收藏成功":"取消收藏成功"),k()):(0,D.toast)($(".fav-btn"),i.message)})}else c()}function y(){var i=window.original&&window.original.media;if(i){for(var t=JSON.parse(i.replace(/&#34;/gi,'"')),e=t.media_id,a=t.title,n=t.type_name,o=t.area,r=t.cover?'<div class="bangumi-rating-cover" style="background-image: url('+(0,D.formatImg)((0,D.trimHttp)(t.cover))+')"></div>':'<div class="bangumi-rating-cover default"></div>',l="",s=t.score/2,c=0;c<5;c++)l+=c<s?'<span class="bangumi-star rated"></span>':'<span class="bangumi-star"></span>';var d='\n<div class="bangumi-rating-card">\n\t<a href="//www.bilibili.com/bangumi/media/md'+e+'/" target="_blank">\n\t\t'+r+'\n\t\t<div class="bangumi-rating-right">\n\t\t\t<div class="bangumi-rating-title">\n\t\t\t\t'+a+'\n\t\t\t</div>\n\t\t\t<div class="bangumi-rating-subtitle">'+n+"&nbsp;&nbsp;|&nbsp;&nbsp;"+o+'</div>\n      <div class="bangumi-rating-score">\n        '+l+"\n      </div>\n\t\t</div>\n\t</a>\n</div>\n      ";$(".bangumi-rating-container").html(d)}}function x(i){var t=void 0;if(/reply[0-9]+/.test(window.location.hash)&&(t=window.location.hash.match(/reply([0-9]+)/)[1]),/comment/.test(window.location.hash)){var e=$(i).offset().top;$("html, body").animate({scrollTop:e-.5*$(window).height()},300)}window.onLoginInfoLoaded(function(e){window.bbComment&&new window.bbComment(i,window.original.cvid,12,e,t)})}function C(){ri="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,T()}function T(){O(),setTimeout(function(){T()},5e3)}function O(){ri&&document[ri]||$.ajax({type:"GET",url:"//api.bilibili.com/x/article/read/ping",data:{aid:+window.original.cvid||0,source:"web"},xhrFields:{withCredentials:!0}})}function N(){var i=$(".article-holder");i.html((0,D.removeEmptyTagP)((0,D.replaceLink)(i.html()))),y(),(0,D.filterContentEdit)(i),s(),(0,I.default)(i),(0,A.default)(i),(0,S.default)(i),n(),r(),l(),new R.default(i,{isWifi:!0}),o(),p(),(0,B.default)($(".up-info-holder")),(0,Y.default)($(".up-info-holder .more")),x($(".comment-holder")),(0,q.default)($(".draft-holder-block")),C(),(0,L.default)($(".share-btn").find("span")),$(".tag-container .tag-item").each(function(i,t){var e=$(t).find(".tag-content").outerWidth();$(t).find(".tag-border-inner").css("width",e)}),$(document).on("click",".tag-container .tag-item",function(i){var t=$(i.currentTarget).find(".tag-content").text();window.open("//search.bilibili.com/article?keyword="+encodeURI(t)+"&from_source=article")})}var j=e(21),I=a(j),M=e(5),A=a(M),E=e(107),S=a(E),D=e(0),P=e(8),R=a(P);e(33),e(108),e(109),e(110);var U=e(111),L=a(U),G=e(27),H=a(G),F=e(112),B=a(F),W=e(34),Y=a(W),z=e(113),q=a(z),Q=e(114),Z=a(Q),K=e(115),X=a(K),J=function(){var i=window.navigator.userAgent.match(/BiliApp\/([0-9]+)/i);return i&&i[1]}();D.version.ios&&12070===J||/iPad/i.test(navigator.userAgent)&&/biliapp/i.test(navigator.userAgent)?/cv[0-9]+/.test(location.href)&&(location.href=location.href.replace(/read\/(cv)/,"read/mobile/")):(0,D.checkUA)();var V=!1,ii=860,ti=null,ei=/AppleWebKit.*Mobile.*/i.test(navigator.userAgent),ai=!!D.cookie.get("DedeUserID"),ni=-1;if(/from=([^&]+)/.test(location.search))var oi=location.search.match(/from=([^&]+)/)[1];var ri="hidden";D.bus.on("shareArticle",function(){V||(ti.stats.share++,$.ajax({url:"//api.bilibili.com/x/article/addshare",type:"post",data:{id:window.original.cvid,csrf:D.cookie.get("bili_jct")},xhrFields:{withCredentials:!0}}),V=!0)}),$(".article-action .like-btn").on("mouseenter",function(i){i.stopPropagation()}).on("mouseleave",function(i){i.stopPropagation()}).on("click",function(){g()}),$(".article-action .coin-btn").on("mouseenter",function(i){i.stopPropagation()}).on("mouseleave",function(i){i.stopPropagation()}).on("click",function(i){if(ti.coin)return void(0,D.toast)($(i.currentTarget),"你已经投过硬币了哦");ai?window.original.author.mid==D.cookie.get("DedeUserID")?(0,D.toast)($(i.currentTarget),"up主不能给自己投币!"):b():c()}),$(".article-action .fav-btn").on("mouseenter",function(i){i.stopPropagation()}).on("mouseleave",function(i){i.stopPropagation()}).click(function(){_()}),window.BiliApp&&window.BiliApp.ready(function(){window.BiliApp.setShareContent({type:"web",title:window.original.title,text:window.original.summary,url:window.location.href,image_url:window.original.banner_url})}),$(function(){N()})},107:function(i,t,e){"use strict";function a(i,t){$.ajax({url:"//api.vc.bilibili.com/vote_svr/v1/vote_svr/vote_info",type:"get",data:{vote_id:t},xhrFields:{withCredentials:!0}}).done(function(t){0==t.code?i.removeClass("failed").html(n(t.data)):i.html("").addClass("failed")}).fail(function(){i.html("").addClass("failed")})}function n(i){return'\n    <div class="card">\n      <div class="image"><div class="icon"></div></div>\n      <div class="text-area f-left">\n        <div class="text-content ff-yahei tc-black fs-14 ls-0 line-clamp-1">'+i.info.title+'</div>\n        <div class="text-desc ff-yahei tc-slate fs-12 ls-0 line-clamp-1">'+i.info.cnt+'人参与</div>\n        <div class="vote-btn-box"><div class="vote-btn">投票</div></div>\n      </div>\n    </div>\n  '}function o(i){i.on("click",".js-vote",function(){var i=$(this).data("id"),t=" --来自专栏：https://www.bilibili.com/read/cv"+window.original.cvid+"?from=upFeed";(0,l.iframeBox)("//t.bilibili.com/vote/h5/index/#/result?vote_id="+i+"&isWeb=1&from=article&suffix_text="+encodeURIComponent(t))})}function r(i){var t=i.find(".vote-display");t.length&&(t.each(function(i,t){var e=$(t),n=e.data("voteId");e.closest(".img-box").wrap('<div class="vote-pc-container js-vote" data-id="'+n+'"></div>'),a(e.parents(".js-vote"),n)}),o(i))}Object.defineProperty(t,"__esModule",{value:!0}),e(14);var l=e(0);t.default=r},108:function(i,t){},109:function(i,t){},110:function(i,t,e){"use strict";var a=window.reportMsgObj;$(document).on("click",".nav-tab-bar a",function(){a.read_detail_category_click=!0}),$(document).on("click",".title-container .category-link",function(){a.read_detail_SubCategory_click=!0}),$(document).on("click",".up-info-holder .up-info-block .up-face-holder",function(){a.read_detail_UpImage_click=!0}),$(document).on("click",".up-info-holder .up-info-block  .up-name",function(){a.read_detail_UpName_click=!0}),$(document).on("click",".up-info-holder .follow-btn-holder .follow-btn",function(){a.read_detail_follow_click=!0}),$(document).on("click",".up-info-holder .up-article-list-block .block-title",function(){a.read_detail_ArticleTotal_click=!0}),$(document).on("click",".up-info-holder .article-list .more-article",function(){a.read_detail_ArticleAll_click=!0}),$(document).on("click",".up-info-holder .article-list .article-item",function(){a.read_detail_ArticleList_click=!0}),$(document).on("click",".up-info-holder .more .ac-link",function(){a.read_detail_ArticleUpload_click=!0}),$(document).on("click",".article-action .like-btn",function(){a.read_detail_like_click=!0}),$(document).on("click",".article-action .coin-btn",function(){a.read_detail_coin_click=!0}),$(document).on("click",".article-action .fav-btn",function(){a.read_detail_collection_click=!0}),$(document).on("click",".article-action .share-btn",function(){a.read_detail_share_click=!0}),$(document).on("click",".right-side-bar .to-comment",function(){a.read_detail_ToReplay_click=!0})},111:function(i,t,e){"use strict";function a(i){for(var t=d(),e="",a=0,o=t.length;a<o;++a)e+='<a href="'+t[a].href+'" target="_blank"><i class="'+t[a].class+'" title="'+t[a].label+'"></i></a>';if(i.html(e),!m){var r=$('<div class="weixin-holder"><p>微信扫一扫分享</p><canvas></canvas></div>');i.find(".icon-share_wechat").append(r),f.default.toCanvas(r.find("canvas")[0],window.location.href,function(){})}i.on("click.a","i",function(i){var t=$(i.currentTarget);if(t.hasClass("icon-share_wechat"))(0,u.toast)(t,"戳我是没有用的");else if(t.hasClass("icon-share_news_default")){var e=!!u.cookie.get("DedeUserID");e?n():(0,u.login)()}}),$(window).off("scroll.prevent").on("scroll.prevent",function(i){$(".share-mask").length>0&&i.preventDefault()})}function n(){var i=[m?"":'<div class="share-mask"></div>','<div class="share-dynamic-dialog '+(m?"mobile":"web")+'">','<div class="sdd-head"><span>分享至动态</span><i class="sdd-close"></i></div>','<div class="sdd-body-wrap"><textarea class="sdd-input" placeholder="说点什么..."></textarea>',l()+"</div>",'<div class="sdd-action-bar">','<div class="sdd-submit">发布</div><div class="sdd-input-num">'+p+"</div></div>","</div>"].join("");$("body").append(i),setTimeout(function(){$(".share-mask").addClass("on"),$(".share-dynamic-dialog").addClass("active")},10),$("body").off("click.closeShareDynamic").on("click.closeShareDynamic",".sdd-close",function(){c()}),$("body").off("input.shareDynamic").on("input.shareDynamic",".sdd-input",function(i){var t=$(i.target),e=t.val().trim(),a=p-e.length,n=$(".sdd-input-num"),o=$(".sdd-submit");n.text(a),a<0?(n.addClass("warning"),o.addClass("disable")):(n.removeClass("warning"),o.removeClass("disable"))}),$("body").off("keydown.shareFillter").on("keydown.shareFillter",".sdd-input",function(i){0===(0,u.getCursortPosition)(i.target)&&-1!==[13,32].indexOf(i.keyCode)&&i.preventDefault()}),$("body").off("click.submitShare").on("click.submitShare",".sdd-submit",function(i){$(i.target).hasClass("disable")||o($(".share-dynamic-dialog .sdd-input").val().trim())})}function o(i){$.ajax({type:"POST",url:"//api.vc.bilibili.com/dynamic_repost/v1/dynamic_repost/share",data:{uid:window.original.author.mid,type:64,rid:window.original.cvid,share_uid:u.cookie.get("DedeUserID"),content:i,csrf_token:u.cookie.get("bili_jct")},xhrFields:{withCredentials:!0}}).done(function(i){0===i.code?i.data&&0===i.data.result?c(r):(0,u.centerToast)(i.data.errmsg):(0,u.centerToast)(i.message)})}function r(){var i=['<div class="share-success-mask"></div>','<div class="share-success-dialog '+(m?"mobile":"web")+'">','<div class="suc-img"></div>','<div class="info">分享成功</div>','<div class="hint">请在客户端中查看~</div>','<div class="btn-close">确定</div>',"</div>"].join("");$("body").append(i),setTimeout(function(){$(".share-success-mask").addClass("on"),$(".share-success-dialog").addClass("active")},10),$("body").off("click.closeShareSuccess").on("click.closeShareSuccess",".share-success-dialog .btn-close",function(){$(".share-success-mask").remove(),$(".share-success-dialog").remove()})}function l(){return['<div class="sdd-card">','<div class="name">@'+window.original.author.name+":</div>",'<div class="sdd-card-content">',s(),'<div class="title">'+(0,u.filterChar)(document.title)+"</div>",'<div class="summary">'+window.original.summary+"</div>","</div>","</div>"].join("")}function s(){var i=window.original.imageUrl&&window.original.imageUrl.length,t="";if(i<=0)return"";if(1===i)t='<div class="pic single-mode" style="background-image:url('+window.original.imageUrl[0]+')"></div>';else if(i>1){for(var e=0;e<i;++e)t+='<div class="pic multiply-mode" style="background-image:url('+(0,u.formatImg)(window.original.imageUrl[e],230,230,1,1)+')"></div>';t='<div class="clearfix">'+t+"</div>"}return t}function c(i){$(".share-mask").removeClass("on"),$(".share-dynamic-dialog").one("transitionend",function(){$(".share-mask").remove(),$(".share-dynamic-dialog").remove(),"function"==typeof i&&i()}).removeClass("active")}function d(){var i={url:window.location,title:$("title").text(),pic:window.original.banner_url||"//static.hdslb.com/mobile/img/app_logo.png",pics:window.original.banner_url||"//static.hdslb.com/mobile/img/app_logo.png",site:"",summary:$("meta[name=description]").attr("content"),searchPic:!0},t=function(i){var t=[];for(var e in i)t.push(e+"="+encodeURIComponent(i[e]||""));return t}(i),e=t.join("&");return[{label:"动态",class:"icon-share_news_default",href:"javascript:void(0)",mobile:!0},{label:"新浪微博",class:"icon-share_weibo",href:"http://service.weibo.com/share/share.php?appkey=2841902482&language=zh_cn&"+e,mobile:!0},{label:"",class:"icon-share_wechat",href:"javascript:void(0)"},{label:"QQ空间",class:"icon-share_qzone_default",href:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?style=203&width=98&height=22&otype=share&"+e,mobile:!0},{label:"QQ好友",class:"icon-share_qq_default",href:"http://connect.qq.com/widget/shareqq/index.html?"+e,mobile:!0}]}Object.defineProperty(t,"__esModule",{value:!0});var u=e(0),v=e(24),f=function(i){return i&&i.__esModule?i:{default:i}}(v),p=233,m=u.version.mobile;t.default=a},112:function(i,t,e){"use strict";function a(){c||(d?window.location.href="https://passport.bilibili.com/login":$.getScript("https://static-s.bilibili.com/account/bili_quick_login.js",function(){window.biliQuickLogin(function(){window.location.reload()})}))}function n(i){$.ajax({url:"//api.bilibili.com/x/web-interface/card",type:"get",data:{mid:window.original.author.mid,jsonp:"jsonp",article:!0},xhrFields:{withCredentials:!0},success:function(t){var e=t.data&&t.data.card;$(i).find(".up-face-image").attr({src:""+((0,s.formatImg)((0,s.trimHttp)(e.face),64*devicePixelRatio,64*devicePixelRatio)||"//static.hdslb.com/images/member/noface.gif")}),e.pendant&&e.pendant.pid&&$(i).find(".up-pendant-image").attr({src:""+(0,s.formatImg)((0,s.trimHttp)(e.pendant.image),84*devicePixelRatio,84*devicePixelRatio)}),$(i).find(".up-pendant-image"),$(i).find(".level").addClass("l"+(e.level_info&&e.level_info.current_level)),2==e.vip.vipType&&1==e.vip.vipStatus&&$(i).find(".up-name").addClass("b-vip-red"),0!=e.nameplate.nid&&e.nameplate.name&&($(i).find(".nameplate-holder").css("display","inline-block"),$(i).find(".nameplate").css({"background-image":"url("+(0,s.formatImg)((0,s.trimHttp)(e.nameplate&&e.nameplate.image_small),26*devicePixelRatio,23*devicePixelRatio)+")"}).hover(function(i){var t=$(i.currentTarget).offset();v.css({top:t.top-5,left:t.left-375}),$("body").append(v)},function(){v.remove()}),v=$('<div class="nameplate-card">\n          <i class="nameplate-arrow"></i><img class="nameplate-pic" src="'+(0,s.formatImg)((0,s.trimHttp)(e.nameplate&&e.nameplate.image_small),62*devicePixelRatio,62*devicePixelRatio)+'"><div class="nameplate-text"><p class="n-name">'+e.nameplate.name+'</p><p class="n-title">'+e.nameplate.condition+'</p><p class="n-type"><span>'+e.nameplate.level+'</span><a href="https://account.bilibili.com/site/nameplate.html" target="_blank">查看全部&gt;&gt;</a></p></div></div>')),$(i).find(".fans-num").text((0,s.formatNum)(e.fans)),u.fans=e.fans,t.data.following&&$(i).find(".follow-btn").addClass("followed").text("已关注")}}),$(i).find(".follow-btn").click(function(t){var e=$(i).find(".fans-num");if(c){var n=$(t.currentTarget),r=1;n.hasClass("followed")?(r=2,(0,s.modalBox)({sure:function(){o(n,r,function(){e.text((0,s.formatNum)(u.fans))})},message:"您确认要取消关注吗(ﾟДﾟ≡ﾟдﾟ)!?"})):o(n,r,function(){e.text((0,s.formatNum)(u.fans)),window.followGroupDialog?window.followGroupDialog(window.original.author.mid,window.original.author.name,{onSubmitError:function(i){alert(i||"移动分组失败")}}):$.getScript("//static.hdslb.com/common/js/followGroupDialog.js",function(){window.followGroupDialog(window.original.author.mid,window.original.author.name,{onSubmitError:function(i){alert(i||"移动分组失败")}})})})}else a()});var t=$(i).find(".fixed-box")[0];$.ajax({type:"GET",url:"//api.bilibili.com/x/article/more",data:{aid:window.original.cvid,jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(t){if(0==t.code)if(t.data.read_count?$(".up-info-block .view-num").text((0,s.formatNum)(t.data.read_count)):($(".up-info-block .view-num").remove(),$(".up-info-block .view").remove()),t.data.articles&&t.data.articles.length>0){var e=$(i).find(".up-article-list-block .article-list");e.html(r(t.data.articles))}else $(i).find(".up-article-list-block").hide();else $(i).find(".up-article-list-block").hide(),$(".up-info-block .view-num").remove(),$(".up-info-block .view").remove()}).fail(function(){$(i).find(".up-article-list-block").hide(),$(".up-info-block .view-num").remove(),$(".up-info-block .view").remove()}),$(document).on("scroll.upInfoBlock",function(){if(window.pageYOffset>42?i.addClass("scroll"):i.removeClass("scroll"),$(".footer-wrp").length){var e=window.pageYOffset+window.innerHeight-$(".footer-wrp")[0].offsetTop;if(e>=0){e>=window.innerHeight-(72+t.offsetHeight)?i.addClass("to-bottom"):i.removeClass("to-bottom")}else i.removeClass("to-bottom")}})}function o(i,t,e){$.ajax({type:"POST",url:"//api.bilibili.com/x/relation/modify",data:{fid:window.original.author.mid,act:t,re_src:115,csrf:s.cookie.get("bili_jct"),jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(a){0==a.code?1==t?(i.addClass("followed").text("已关注"),(0,s.toast)(i,"关注成功"),u.fans++,e()):(i.removeClass("followed").text("关注"),(0,s.toast)(i,"取消关注成功"),u.fans--,e()):(0,s.toast)(i,a.message)})}function r(i){i.length>3&&(i=i.slice(0,3));var t=[];for(var e in i){var a=i[e];t.push(l(a))}return i.length>=3&&t.push('<a class="more-article" href="//www.bilibili.com/read/home" target="_blank">查看更多</a>'),t.join("")}function l(i){return['<li class="article-item">','<a href="//www.bilibili.com/read/cv'+i.id+'?from=articleDetail" target="_blank">','<div class="article-title"><div class="label" title="'+(0,s.filterChar)(i.title)+'">'+(0,s.filterChar)(i.title)+'</div><div class="info">'+(0,s.human_date)(i.ctime)+" 阅读"+(0,s.formatNum)(i.stats.view)+"</div></div>",'<div class="article-cover-holder" style="background-image:url('+(0,s.formatImg)((0,s.trimHttp)(i.image_urls[0]),68)+')"></div>',"</a>","</li>"].join("")}Object.defineProperty(t,"__esModule",{value:!0});var s=e(0),c=!!s.cookie.get("DedeUserID"),d=/AppleWebKit.*Mobile.*/i.test(navigator.userAgent),u={},v=void 0;t.default=n},113:function(i,t,e){"use strict";function a(i){if(Array.isArray(i)){for(var t=0,e=Array(i.length);t<i.length;t++)e[t]=i[t];return e}return Array.from(i)}function n(i){$.ajax({url:"//api.bilibili.com/x/article/actinfo",data:{mobi_app:"pc"}}).done(function(t){if(0==t.code&&t.data){var e=t.data;if(e.banners.length){var a=o(e.banners);i.append(a),$(document).on("click",".draft-holder .draft-item",function(){window.reportMsgObj&&(window.reportMsgObj.activity_banner_click={id:$(this).attr("data-id"),src_id:$(this).attr("data-src-id"),event:"click"},window.reportObserver&&window.reportObserver.forceCommit())});var n={threshold:.5},r=function(i){i.forEach(function(i){if(i.isIntersecting){var t=$(i.target).attr("data-id");-1===s.indexOf(t)&&(s.push(t),window.reportMsgObj.activity_banner_click={id:t,src_id:$(i.target).attr("data-src-id"),event:"show"},window.reportObserver&&window.reportObserver.forceCommit())}})},l=new IntersectionObserver(r,n);$(".draft-holder .draft-item").each(function(){l.observe($(this).get(0))})}i.show()}})}function o(i){var t=[],e=[];v=i.length;for(var n in i){var o=i[n],s=['<a class="draft-item"  target="_blank" data-id='+o.id+" data-src-id="+(o.index+2443)+" href="+(0,l.trimHttp)(o.url)+' style="left:'+n+"00%;background-image:url("+(0,l.trimHttp)((0,l.formatImg)(o.image))+')" title="'+o.title+'">',"</a>"].join("");e.push('<span class="btn" index="',n,'"></span>'),t.push(s)}t=["<div class='draft-holder'>","<div class='list-holder' style='left:0' >"].concat(a(t),["</div>","<div class='panel'>"],a(v>1?e:""),["</div>","</div>"]);var u=$(t.join(""));return d=u.find(".list-holder"),c=u.find(".panel .btn"),r(0),c.hover(function(i){r($(i.target).addClass("on").attr("index"))}),u}function r(i){c.removeClass("on"),c.eq(i).addClass("on"),d.css("left","-"+i+"00%"),clearTimeout(u),u=setTimeout(function(){r((i+1)%v)},3e3)}Object.defineProperty(t,"__esModule",{value:!0});var l=e(0),s=[],c=void 0,d=void 0,u=void 0,v=void 0;t.default=n},114:function(i,t,e){"use strict";function a(i){$.ajax({url:"//api.bilibili.com/x/article/listinfo",data:{id:window.original.cvid,jsonp:"jsonp"}}).done(function(t){var e=t.data;d=e.list&&e.list.id,u=e.list&&e.list.name,i.append('<div class="article-list-name">来自文集：'+(0,f.filterChar)(e.list.name)+"</div>");var a=$('<div class="article-list-plane"></div>'),n=[],o=['<div class="rightside-article-list-btn" >','<span class="icon-list"></span>','<span class="label">查看目录</span>','<span class="title" title="'+(0,f.filterChar)(e.list.name)+'">来自文集：'+(0,f.filterChar)(e.list.name)+"</span>","</div>"].join("");$(".up-info-holder .follow-btn-holder").after(o),e.last?n.push('<a href="//www.bilibili.com/read/cv'+(e.last&&e.last.id)+'" target="_self"><div class="button"><div class="label btn1">< 上一篇</div><div class="title" title="'+(0,f.filterChar)(e.last&&e.last.title)+'">'+((0,f.filterChar)(e.last&&e.last.title)||"已经是第一篇了")+"</div></div></a>"):n.push('<div class="button btn1 off"><div class="label">< 上一篇</div><div class="title">'+(e.last&&e.last.title||"已经是开头了~")+"</div></div>"),n.push('<div class="button" id="article-list-btn"><div class="label">查看目录</div><div class="title">'+(e.now+1)+"/"+e.total+"</div></div>"),e.next?n.push('<a href="//www.bilibili.com/read/cv'+(e.next&&e.next.id)+'" target="_self"><div class="button btn2"><div class="label">下一篇 ></div><div class="title" title="'+(0,f.filterChar)(e.next&&e.next.title)+'">'+((0,f.filterChar)(e.next&&e.next.title)||"已经是最后一篇了")+"</div></div></a>"):n.push('<div class="button btn2 off"><div class="label">下一篇 ></div><div class="title">'+(e.next&&e.next.title||"到底啦～看看其他的吧")+"</div></div>"),a.append(n.join("")),i.append(a)})}function n(){$("#article-list-index").length?($("#article-list-index").addClass("show"),(0,v.setTimeout)(function(){$("#article-list-index").addClass("on")},1)):($("body").append(['<div id="article-list-index" class="show">','<div class="title-holder"><span class="title">目录</span><span class="icon-close"></span></div>','<div class="article-list-title">来自文集 《'+(0,f.filterChar)(u)+"》</div>","</div>"].join("")),o().done(function(i){var t=r(i);$("#article-list-index").append(t);var e=(0,v.setInterval)(function(){if($("#article-list-index .index-holder").length){(0,v.clearInterval)(e);var i=$("#article-list-index .index-holder")[0].getBoundingClientRect().top;p=innerHeight-i,$("#article-list-index .index-holder").css("height",p);var t=$("#article-list-index .index-holder .article-item.on")[0].getBoundingClientRect().top;$("#article-list-index .index-holder").scrollTop(t-window.innerHeight/2)}},20)}),(0,v.setTimeout)(function(){$("#article-list-index").addClass("on")},1)),$(document).one("click",function(){l()})}function o(){return $.ajax({url:"//api.bilibili.com/x/article/list/articles",data:{id:d,jsonp:"jsonp"}})}function r(i){if(0==i.code){var t=i.data,e=[];for(var a in t.articles){var n=t.articles[a];e.push('<a class="article-item '+(n.id==window.original.cvid?"on":"")+'" href="//www.bilibili.com/read/cv'+n.id+'" target="_self"><span class="point" ></span><span class="title">'+(0,f.filterChar)(n.title)+"</span></a>")}return"<div class='index-holder'>"+e.join("")+"</div>"}return"<div class='index-holder error'>"+i.message+' 请<a class="reload-btn" href="javascript:void(0)">重试</></div>'}function l(){$("#article-list-index").removeClass("on").one("transitionend",function(i){$(i.currentTarget).removeClass("show")}),$(document).off("scroll.articleList")}function s(){c(),$(document).on("scroll.articleList",function(){c()})}function c(){if(window.scrollY>42?$("#article-list-index").addClass("top"):$("#article-list-index.top").length&&$("#article-list-index").removeClass("top"),$("#article-list-index .index-holder").length){var i=$("#article-list-index .index-holder")[0].getBoundingClientRect().top;innerHeight-i!=p&&$("#article-list-index .index-holder").css("height",innerHeight-i)}}Object.defineProperty(t,"__esModule",{value:!0});var d,u,v=e(10),f=e(0);$(document).on("click","#article-list-btn,.up-info-holder .rightside-article-list-btn",function(i){n(),s(),i.stopPropagation()}),$(document).on("click","#article-list-index .title-holder .icon-close",function(){l()}),$(document).on("click","#article-list-index .index-holder .reload-btn",function(){o().done(function(i){$("#article-list-index .index-holder").remove(),$("#article-list-index").append(r(i))})}),$(document).on("click","#article-list-index",function(i){i.stopPropagation()}),$(document).on("click",".article-list-plane .button.btn1",function(){window.reportMsgObj.last_article_btn=!0}),$(document).on("click",".article-list-plane .button.btn2",function(){window.reportMsgObj.next_article_btn=!0}),$(document).on("click","#article-list-btn",function(){window.reportMsgObj.open_article_index=!0}),$(document).on("click",".up-info-holder .rightside-article-list-btn",function(){window.reportMsgObj.open_right_article_index=!0}),$(document).on("click","#article-list-index .article-item",function(){window.reportMsgObj.open_article_in_article_index=!0});var p=0;t.default=a},115:function(i,t,e){"use strict";function a(i,t){$.ajax({type:"POST",url:"//api.bilibili.com/x/article/creative/upload/image",data:{file:i,csrf:c.cookie.get("bili_jct"),jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(i){0==i.code&&i.data?t(i.data.url):(0,c.centerToast)(i.message||"上传图片失败")})}function n(i){2===i?f.html('请补充原文链接和相关截图。如果这篇文章侵犯了你的相关权益，请访问[<a href="https://www.bilibili.com/blackboard/copyright.html" target="_blank">侵权访问</a>]，按照提示反馈给我们'):4===i?f.html("请补充问题类型和出现位置等详细信息"):f.html("\t请补充违规内容出现位置等详细信息")}function o(){d="",u="",v=[]}function r(i){if(""===d)return void(0,c.centerToast)("请选择投诉理由");$.ajax({type:"POST",url:"//api.bilibili.com/x/article/complaints",data:{aid:window.original.cvid,cid:d,reason:u,images:v.join()},xhrFields:{withCredentials:!0}}).done(function(t){0===t.code?((0,c.centerToast)("投诉成功"),i()):(0,c.centerToast)(t.message)})}function l(){var i=m.map(function(i){return'<div class="option" data-tid="'+i.value+'"><span class="checkbox"></span><span>'+i.label+"</span></div>"}).join(""),t=$(['<div class="bomb-mask"></div>','<div class="bili-dialog-bomb">','<div class="appeal-box">','<div class="header"><span class="title">投诉或建议</span><span class="close"></span></div>','<div class="wrap">','<div class="container">','<div class="question">你觉得这篇专栏文章(cv'+window.original.cvid+")有什么问题？</div>",'<div class="options">'+i+"</div>",'<div class="textarea">','<div class="memo">请补充问题类型和出现位置等详细信息</div>','<div class="textarea-wrap">','<textarea maxlength="400" placeholder="请输入文字描述，可加快反馈速度哦～"></textarea>','<span class="limit">0/400</span>',"</div>","</div>",'<div class="upload-area">','<div class="add-img">','<div class="img-wrap"></div>','<input type="file" accept="image/jpeg, image/png" class="img-file"></input>',"</div>","</div>",'<div class="img-text"><span class="memo">支持JPG/PNG格式，最多5张，每张不超过5M</span></div>',"</div>","</div>",'<div class="submit">','<div class="confirm">提交</div>','<div class="cancel">取消</div>',"</div>","</div>","</div>"].join("")),e=t.find(".limit");f=t.find(".textarea").find(".memo"),p=t.find(".add-img"),t.find(".cancel").click(function(){t.remove(),o()}),t.find(".close").click(function(){t.remove(),o()}),t.find(".confirm").click(function(){r(function(){return t.remove()})}),t.off("click.selectOption",".options .option").on("click.selectOption",".options .option",function(i){var t=$(i.currentTarget),e=t.data("tid"),a=null;d!==e&&(n(e),d=e,a=t.find(".checkbox"),a.closest(".options").find(".checkbox").removeClass("checked"),a.addClass("checked"))}),t.off("input.textarea",".textarea textarea").on("input.textarea",".textarea textarea",function(i){u=i.currentTarget.value,e.text(u.length+"/400")}),t.off("change.upload",".upload-area input").on("change.upload",".upload-area input",function(i){var t=i.currentTarget,e=t.files[0],n=new FileReader;if(e){if(t.value="",e.size>5242880)return void(0,c.centerToast)("每张图片最大5M");n.addEventListener("load",function(){a(n.result,function(i){p.before(['<span class="img">','<img src="'+i+'" class="upload-img" />','<span class="close" data-url="'+i+'">x</span>',"</span>"].join("")),v.push(i),5==v.length&&p.css("display","none")})},!1),n.readAsDataURL(e)}}),t.off("click.deleteUp",".img .close").on("click.deleteUp",".img .close",function(i){var t=$(i.currentTarget);v=v.filter(function(i){return i!==t.data("url")}),t.closest(".img").remove(),p.css("display","block")}),t.appendTo("body")}function s(i){switch(i){case"0":l()}}Object.defineProperty(t,"__esModule",{value:!0});var c=e(0),d="",u="",v=[],f=null,p=null,m=[{label:"广告营销内容",value:5},{label:"有害、危害行为内容",value:3},{label:"抄袭、版权问题",value:2},{label:"青少年不良信息",value:6},{label:"色情、暴力、反动内容",value:1},{label:"其他问题 或建议",value:4}];t.default=s},14:function(i,t){},2:function(i,t){},21:function(i,t,e){"use strict";function a(i){var t=$(i),e=0==+window.original.reprint&&+window.original.author.mid!=+n.cookie.get("DedeUserID");e&&$(".article-holder").addClass("unable-reprint"),t.on("copy",function(i){var t=window.getSelection().toString();e?(i.preventDefault(),i.stopPropagation()):(i.originalEvent.clipboardData.setData("text/plain",t+"\n作者："+(window.original&&window.original.author&&window.original.author.name||$(".author-name").text())+"\n"+window.location.href+"\n出处： bilibili"),i.originalEvent.clipboardData.setData("text/html",t+"<div>作者："+window.original.author.name+"<br>"+window.location.href+"<br>出处： bilibili<br></div>"),n.isMobile||(i.preventDefault(),i.stopPropagation()))}),$(document).on("copy",function(i){i.target==$(".b-header-mask-bg")[0]&&e&&(i.originalEvent.clipboardData.setData("text/plain","本文禁止转载或摘编"),i.originalEvent.clipboardData.setData("text/html","本文禁止转载或摘编"),i.preventDefault(),i.stopPropagation())})}Object.defineProperty(t,"__esModule",{value:!0});var n=e(0);t.default=a},27:function(i,t,e){"use strict";function a(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function i(i,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),t}}(),o=e(0),r=function(){function i(){a(this,i)}return n(i,[{key:"contructor",value:function(){}},{key:"bindWX",value:function(i,t,e){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=Date.parse(new Date)/1e3,r=(0,o.GetRandomString)(32),l={share:{title:t+"_哔哩哔哩",desc:e,link:"https://www.bilibili.com/read/cv"+a,imgUrl:i}};$.ajax({url:"//app.bilibili.com/x/display/wechat/sign",type:"get",data:{url:window.location.href,timestamp:n,nonce:r,jsonp:"jsonp"},dataType:"jsonp",success:function(i){i&&0===i.code&&$.getScript("//res.wx.qq.com/open/js/jweixin-1.0.0.js",function(){var t=window.wx;t&&(t.config({beta:!0,debug:!1,appId:"wx108457cda8a1b9f9",nonceStr:r,timestamp:n,signature:i.data,jsApiList:["showOptionMenu","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),t.ready(function(){t.onMenuShareTimeline(l.share),t.onMenuShareAppMessage(l.share),t.onMenuShareQQ(l.share),t.onMenuShareWeibo(l.share),t.onMenuShareQZone(l.share)}))})},error:function(){}})}}]),i}();i.exports=new r},33:function(i,t){},34:function(i,t,e){"use strict";function a(i){n.cookie.get("DedeUserID")&&$.ajax({type:"GET",url:"//api.bilibili.com/x/article/is_author",data:{jsonp:"jsonp"},xhrFields:{withCredentials:!0}}).done(function(t){if(0==t.code&&t.data.is_author){var e=i.find(".link");i.find(".ac-link").attr("href","http://member.bilibili.com/v/#/text-edit"),e.find(".title").text("专栏投稿"),e.find(".info").text("前去写文章")}})}Object.defineProperty(t,"__esModule",{value:!0});var n=e(0);t.default=a},4:function(i,t,e){"use strict";function a(i){if(!window.biliapp)return!1;if(window.biliapp.articlePlayerCardOperation){var t={avId:i,opt:1};window.biliapp.articlePlayerCardOperation(JSON.stringify(t))}}function n(i){if(!window.biliapp)return!1;if(window.biliapp.articlePlayerCardOperation){var t={avId:i,opt:2};window.biliapp.articlePlayerCardOperation(JSON.stringify(t))}}function o(i,t){if(!window.biliapp)return!1;if(window.biliapp.jumpArticleToCategory){var e={categoryId:i,tagId:t};window.biliapp.jumpArticleToCategory(JSON.stringify(e))}}Object.defineProperty(t,"__esModule",{value:!0}),t.viewLater=a,t.miniPlayer=n,t.jumpToCategory=o},5:function(i,t,e){"use strict";function a(i){if(Array.isArray(i)){for(var t=0,e=Array(i.length);t<i.length;t++)e[t]=i[t];return e}return Array.from(i)}function n(){var i={rootMargin:"-"+W+"px 0px 0px -"+z+"px",threshold:.5},t=function(i){i.forEach(function(i){$(i.target).find("video").get(0).pause()})},e=new IntersectionObserver(t,i),a={rootMargin:"-"+W+"px 0px 0px -"+z+"px",threshold:0},n=function(i){i.forEach(function(i){i.isIntersecting&&-1===L.indexOf(i.target.className)&&(L.push(i.target.className),j.biliBridge.callNative({method:"article.trackEventWithParams",data:{0:54,2:window.original.cvid,logId:"001186"}}))})},o=new IntersectionObserver(n,a);$(".player-id-container").each(function(){e.observe($(this).get(0)),o.observe($(this).get(0))})}function o(i){return i=i.toString(),i=i.replace(/</g,"&lt;"),i=i.replace(/>/g,"&gt;"),i=i.replace(/"/g,"&#34;"),i=i.replace(/'/g,"&#39;"),i=i.replace(/\n/g,"")}function r(i){var t=$(['<div class="center-toast">','<div class="info">'+i+"</div>","</div>"].join(""));$("html").append(t),(0,M.setTimeout)(function(){t.one("transitionend",function(){t.remove()}).css("opacity","0")},3e3)}function l(i,t){var e=A[t];return $.ajax({url:e,data:{ids:i.join(","),jsonp:"jsonp"},type:"get"})}function s(i,t,e){e&&(E=!0),E&&(U||N.version.ios&&R>8110||N.version.android&&R>5315e3)&&(0,M.setTimeout)(function(){j.biliBridge.callNative({method:"global.getContainerInfo",callback:function(i){i&&1===i.networkState&&(P=!1)}})},500);var n=$(i),o=$(".video-card",n),r=$(".article-card",n),s=$(".music-card",n),c=$(".fanju-card",n),v=$(".shop-card",n),p=[];s.each(function(i,t){p.push($(t).attr("aid"))}),c.each(function(i,t){p.push($(t).attr("aid"))}),v.each(function(i,t){var e=$(t).attr("aid"),a=e.split("shopId=");p.push(a[0]),a[1]&&(S[a[0]]=a[1])}),o.each(function(i,t){var e=$(t).attr("aid");/[0-9]+,[0-9]+/.test(e)?p=[].concat(a(p),[e.split(",").map(function(i){return"av"+i})]):p.push("av"+e)}),r.each(function(i,t){var e=$(t).attr("aid");p.push("cv"+e)}),y(i),_(i),p=p.sort(function(i,t){return i>t});var x=[];for(var C in p)p[C]!=x[length]&&x.push(p[C]);p=x,p.length>20?function(){for(var i={total:Math.ceil(p.length/20),ready:0,data:{}},e=0;e<i.total;e++)l(p.slice(20*e,20*(e+1)),"cards").done(function(e){i.ready++,i.data=O({},i.data,e.data),i.ready==i.total&&(s.each(function(e,a){var n=$(a),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").append(h(i.data[o],t)),n.remove()}),c.each(function(e,a){var n=$(a),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").html(b(i.data[o]),t)}),v.each(function(e,a){var n=$(a),o=n.attr("aid").split("shopId=")[0];n.wrap('<div class="card-container"></div>'),/pw/.test(o)?n.parents(".card-container").html(k(i.data[o]),t):/sp/.test(o)&&n.parents(".card-container").html(w(i.data[o]),t)}),o.each(function(e,a){var n=$(a),o=n.attr("aid");/[0-9]+,[0-9]+/.test(o)?(n.wrap('<div class="card-container slim"></div>'),n.parents(".card-container").html(d(i.data,o.split(","),t))):(n.wrap('<div class="card-container"></div>'),i.data&&i.data["av"+o]?n.parents(".card-container").html(m(i.data["av"+o],o)):n.parents(".card-container").html(g("视频加载失败")))}),r.each(function(e,a){var n=$(a),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),i.data&&i.data["cv"+o]?n.parents(".card-container").html(u(i.data["cv"+o],o,t)):n.parents(".card-container").html(f(t))}))})}():p.length&&l(p,"cards").done(function(i){s.each(function(e,a){var n=$(a),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").append(h(i.data[o],t)),n.remove()}),c.each(function(e,a){var n=$(a),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),n.parents(".card-container").html(b(i.data[o]),t)}),v.each(function(e,a){var n=$(a),o=n.attr("aid").split("shopId=")[0];n.wrap('<div class="card-container"></div>'),/pw/.test(o)?n.parents(".card-container").html(k(i.data[o]),t):/sp/.test(o)&&n.parents(".card-container").html(w(i.data[o]),t)}),o.each(function(e,a){var n=$(a),o=n.attr("aid");/[0-9]+,[0-9]+/.test(o)?(n.wrap('<div class="card-container slim"></div>'),n.parents(".card-container").html(d(i.data,o.split(","),t))):(n.wrap('<div class="card-container"></div>'),i.data&&i.data["av"+o]?n.parents(".card-container").html(m(i.data["av"+o],o)):n.parents(".card-container").html(g("视频加载失败")))}),r.each(function(e,a){var n=$(a),o=n.attr("aid");n.wrap('<div class="card-container"></div>'),i.data&&i.data["cv"+o]?n.parents(".card-container").html(u(i.data["cv"+o],o,t)):n.parents(".card-container").html(f(t))})}).fail(function(){s.each(function(i,e){var a=$(e);a.wrap('<div class="card-container"></div>'),a.parents(".card-container").append(h({},t)),a.remove()}),c.each(function(i,e){var a=$(e);a.wrap('<div class="card-container"></div>'),a.parents(".card-container").html(b({}),t)}),v.each(function(i,e){var a=$(e),n=a.attr("aid").split("shopId=")[0];a.wrap('<div class="card-container"></div>'),/pw/.test(n)?a.parents(".card-container").html(k({}),t):/sp/.test(n)&&a.parents(".card-container").html(w({}),t)}),o.each(function(i,e){var a=$(e),n=a.attr("aid");/[0-9]+,[0-9]+/.test(n)?(a.wrap('<div class="card-container slim"></div>'),a.parents(".card-container").html(d({},n.split(","),t))):(a.wrap('<div class="card-container"></div>'),a.parents(".card-container").html(g("视频加载失败")))}),r.each(function(i,e){var a=$(e);a.wrap('<div class="card-container"></div>'),a.parents(".card-container").html(f(t))})})}function c(i){return N.version.mobile&&window.screen.availWidth<360&&"string"==typeof i&&i.length>6?i.substring(0,6)+"...":i}function d(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.version.mobile,a="";for(var n in t){var o=i["av"+t[n]];if(o)if(e){var r=x();a+=['<a  class="slim-mobile-video-card" card-type="video" aid="'+o.aid+'" href="//www.bilibili.com/video/av'+o.aid+'/" target="_blank">','  <div class="video-cover">','    <div class="cover-default"></div>','    <div class="video-cover-img" style="background-image:url('+(0,N.formatImg)((0,N.trimHttp)(o.pic),300,188)+')"></div>','    <div class="icon icon-video"></div>','    <div class="info-mask">','    <div class="col">','      <span class="icon icon-play"></span>','      <span class="data">'+(0,N.formatNum)(o.stat.view)+"</span>",'      <span class="icon icon-danmaku"></span>','      <span class="data">'+(0,N.formatNum)(o.stat.danmaku)+"</span>",'      <span class="duration">'+(0,N.formatDuration)(o.duration)+"</span>","    </div>","  </div>","  </div>",'  <div class="video-info">','    <div class="title">'+o.title+"</div>",'    <div class="col">','      <label class="card-label"></label>','      <label class="up-label"></label>','      <label class="up-name">'+o.owner.name+"</label>","    </div>",r,"  </div>","</a>"].join("")}else a+=['<a  class="slim-video-card" card-type="video" aid="'+o.aid+'" href="//www.bilibili.com/video/av'+o.aid+'/" target="_blank">','  <div class="video-cover">','    <div class="cover-default"></div>','    <div class="video-cover-img" style="background-image:url('+(0,N.formatImg)((0,N.trimHttp)(o.pic),300,188)+')"></div>','    <div class="icon icon-video"></div>','    <span class="duration">'+(0,N.formatDuration)(o.duration)+"</span>","  </div>",'  <div class="video-info">','    <div class="title">'+o.title+"</div>",'    <div class="col">','      <span class="icon icon-play"></span>','      <span class="data">'+(o.stat.view>0?(0,N.formatNum)(o.stat.view):"--")+"</span>",'      <span class="icon icon-danmaku"></span>','      <span class="data">'+(o.stat.danmaku?(0,N.formatNum)(o.stat.danmaku):"--")+"</span>","    </div>",'    <div class="col-2">','      <label class="card-label"></label>','      <label class="up-label"></label>','      <label class="up-name">'+o.owner.name+"</label>","    </div>","  </div>","</a>"].join("");else a+=e?['<div class="slim-mobile-video-card slim-mobile-video-card-error">',"</div>"].join(""):['<div class="slim-video-card slim-video-card-error">',"</div>"].join("")}return a}function u(i,t,e){return N.version.mobile||e?['<div class="card article-card-root mobile" card-type="article" cid='+t+">",'<a href="//www.bilibili.com/read/cv'+t+'?from=articleDetail" target="_blank" class="article-card-wrap slim-border">','<p class="title">'+o(i.title)+"</p>",v(i.image_urls),'<p class="card-status">','<span class="card-label"></span>','<span class="author status-item"><i class="status-icon icon-up"></i><span>'+c(i.author.name)+"</span></span>",'<span class="play-item status-item"><i class="status-icon icon-play"></i><span class="num">',(0,N.formatNum)(i&&i.stats.view),"</span></span>",'<span class="like-item status-item"><i class="status-icon icon-like"></i><span class="num">',(0,N.formatNum)(i&&i.stats.like),"</span></span>","</p>","</a>","</div>"].join(""):['<div class="card article-card-root" card-type="article" cid='+t+">",'<a href="//www.bilibili.com/read/cv'+t+'?from=articleDetail" target="_blank" class="article-card-wrap slim-border">','<div class="article-cover cover-default"></div>','<div class="article-cover" style="background-image:url('+(0,N.formatImg)((0,N.trimHttp)(i.image_urls[0]),234,176,1,1)+')"></div>','<div class="article-info-container">','<p class="title">'+o(i.title)+"</p>",'<p class="desc">'+o(i.summary)+"</p>",'<p class="card-status">','<span class="card-label"></span>','<span class="author status-item"><i class="status-icon icon-up"></i><span>'+i.author.name+"</span></span>",'<span class="status-item"><i class="status-icon icon-play"></i><span>',(0,N.formatNum)(i&&i.stats.view),"</span></span>",'<span class="status-item"><i class="status-icon icon-like"></i><span>',(0,N.formatNum)(i&&i.stats.like),"</span></span>",'<span class="status-item"><i class="status-icon icon-comment"></i><span>',(0,N.formatNum)(i&&i.stats.reply),"</span></span>","</p>","</div>","</a>","</div>"].join("")}function v(i){var t=i&&i.length,e="";if(t<=0)return"";if(1===t)e='<div class="single-mode cover-default"><div class="pic single-mode" style="background-image:url('+i[0]+')"></div></div>';else if(t>1){for(var a=0;a<t;++a)e+='<div class="pic multiply-mode" style="background-image:url('+(0,N.formatImg)(i[a],230,230,1,1)+')"></div>';e='<div class="default-col"><div class="clearfix">'+e+'</div><div class="cover-default multiply-mode"></div><div class="cover-default multiply-mode"></div><div class="cover-default multiply-mode"></div></div>'}return e}function f(i){return N.version.mobile||i?['<div class="card article-error-card mobile slim-border">','<p class="p-1"></p>','<p class="p-2"><i class="icon icon-info"></i><span>文章加载失败</span></p>','<p class="p-3"></p>',"</div>"].join(""):['<div class="card article-error-card slim-border">','<p class="p1"></p>','<p class="p2"></p>','<p class="p3"></p>','<p class="cover"><i class="icon icon-info"></i><span>文章加载失败</span></p>',"</div>"].join("")}function p(){H.forEach(function(i){$("."+i+" video").get(0).pause()})}function m(i,t){if(E&&(U||N.version.ios&&R>8110||N.version.android&&R>5315e3)){var e=F;return F++,(0,M.setTimeout)(function(){(new BiliH5Player).create({ele:".aid-"+e+"-"+t,aid:t,page:1}),H.push("aid-"+e+"-"+t),(0,M.setTimeout)(function(){$(".aid-"+e+"-"+t+" video").on("play",function(){if(P||(P=!0,r("正在使用流量播放哦~")),-1===G.indexOf("aid-"+e+"-"+t)&&(G.push("aid-"+e+"-"+t),j.biliBridge.callNative({method:"article.trackEventWithParams",data:{0:55,2:window.original.cvid,logId:"001186"}})),H.forEach(function(i){i!=="aid-"+e+"-"+t&&$("."+i+" video").get(0).pause()}),!$(".holder-"+e+"-"+t+" .custom-replay-layer").hasClass("added")){var i=$(".holder-"+e+"-"+t+" .load-layer img").attr("src");$(".holder-"+e+"-"+t+" .custom-replay-layer").css("background-image","url("+i+")"),$(".holder-"+e+"-"+t+" .custom-replay-layer").addClass("added")}}),$(".aid-"+e+"-"+t+" video").on("ended",function(){$(".holder-"+e+"-"+t+" .custom-replay-layer").removeClass("hidden")});var a='\n          <div class="article-video-info">\n            '+(0,N.formatNum)(i&&i.stat.view)+"观看&nbsp;&nbsp;"+(0,N.formatNum)(i&&i.stat.danmaku)+'弹幕\n            <div class="duration">'+(0,N.formatDuration)(i.duration)+"</div>\n          </div>\n        ";$(".aid-"+e+"-"+t+" .load-layer").append(a),$(".holder-"+e+"-"+t+" .custom-replay-icon").on("click",function(i){i.preventDefault(),$(".aid-"+e+"-"+t+" video").get(0).play(),$(".holder-"+e+"-"+t+" .custom-replay-layer").addClass("hidden")})},0)},0),'<div class="h5-video-card-holder">\n      <div class="h5-video-holder holder-'+e+"-"+t+'">\n        <div class="custom-replay-layer hidden">\n          <div class="custom-replay-float-layer">\n            <div class="custom-replay-icon">\n              重新播放\n            </div>\n          </div>\n        </div>\n        <div class="aid-'+e+"-"+t+' player-id-container">\n        </div>\n      </div>\n\n      <div class="h5-video-title">\n      <a href="//www.bilibili.com/video/av'+t+'" target="_blank">\n          <p>'+o(i.title)+'</p>\n          </a>\n          <p class="h5-video-title-link" mid="'+ +i.owner.mid+'" user-name="'+i.owner.name+'"><img class="h5-video-author" src="'+(0,N.formatImg)((0,N.trimHttp)(i.owner.face),18*D,18*D)+'"/>'+i.owner.name+"</p>\n        </div>\n    </div>"}var a=x();return['<div class="card" card-type="video" aid='+t+">",'<a href="//www.bilibili.com/video/av'+t+'" target="_blank" class="video-holder slim-border">','<div class="video-cover"><div class="cover-default"></div><div class="video-cover-layer" style="background-image:url('+(0,N.formatImg)((0,N.trimHttp)(i.pic),300,188)+')"><i class="icon icon-video"></i></div>','<span class="duration">',(0,N.formatDuration)(i.duration),"</span>","</div>",'<div class="video-info-container">','<p class="title">',o(i.title),"</p>",'<p class="card-status">','<span class="play-num"><i class="status-icon icon-play"></i><span>',(0,N.formatNum)(i&&i.stat.view),"</span></span>",'<span><i class="status-icon icon-danmaku"></i><span>',(0,N.formatNum)(i&&i.stat.danmaku),"</span></span>","</p>",'<div class="partition">','<label class="card-label"></label>','<label class="up-label"></label>','<label class="up-name">',i.owner.name,"</label>","</div>",a,"</div>","</a>","</div>"].join("")}function g(i){return['<div class="card error-card slim-border"><div class="video-holder">','<div class="video-cover"><p class="error-hint"><i class="icon icon-info"></i><span>'+i+"</span></p></div>",'<div class="video-info-container">','<p class="title"></p><p class="card-status"></p><p class="partition"></p>',"</div>","</div></div>"].join("")}function h(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.version.mobile;if(i){var e="//m.bilibili.com/audio/au"+i.song_id;(U||N.version.ios&&R>6620||N.version.android&&R>524e4)&&(e="bilibili://music/playoutside?songId="+i.song_id+"&name="+encodeURIComponent(i.title)+"&uperName="+encodeURIComponent(i.up_name)+"&cover_url="+encodeURIComponent(i.cover_url)+"&upperId="+encodeURIComponent(i.up_name)+"&from=article");var a=$(['<div class="music-card" card-type="music" sid="'+i.song_id+'">',"  <a href="+o(e)+">",'    <div class="cover">','      <div class="cover-default"></div>','      <div class="cover-image" style="background-image: url('+(0,N.formatImg)((0,N.trimHttp)(i.cover_url))+')"> </div>','      <div class="cover-image-inner" style="background-image: url('+(0,N.formatImg)((0,N.trimHttp)(i.cover_url))+')"></div>','      <div class="icon-listen"></div>',"    </div>","  </a>",'  <a href="//m.bilibili.com/audio/au'+i.song_id+'" target="_blank" >','    <div class="container">','      <div class="title">'+i.title+"</div>",'      <div class="col">','        <span class="icon-earphone"></span>','        <span class="view-num">'+(0,N.formatNum)(i.play_num)+"</span>",'        <span class="icon-comment"></span>','        <span class="comment-num">'+(0,N.formatNum)(i.reply_num)+"</span>","      </div>",'      <div class="col-2">','        <label class="up-label"></label>','        <label class="up-name">'+i.up_name+"</label>","      </div>",'      <div class="col-3">','        <label class="card-label"></label>',"      </div>","    </div>","  </a>","</div>"].join(""));return Q.push(a),a}return $(['<div class="music-card-error '+(t?"mobile":"")+'">',"</div>"].join(""))}function b(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.version.mobile;return i?['<div class="bangumi-card" bid="'+i.season_id+'">','  <a href="//bangumi.bilibili.com/anime/'+i.season_id+'" target="_blank">','    <div class="cover-default"></div>','    <div class="cover" style="background-image:url('+(0,N.formatImg)((0,N.trimHttp)(i.cover))+')">','      <div class="icon-video"></div>',"    </div>",'    <div class="container '+(t?"mobile":"")+'">',function(i){if(i.rating){var t=!(!i.rating||!i.rating.count),e=i.rating&&i.rating.count?(0,N.formatNum)(i.rating.count)+"人":"评分人数不足",a=/\./.test(i.rating&&i.rating.score)?i.rating&&i.rating.score:(i.rating&&i.rating.score)+".0";return['      <div class="title narrow">'+i.title+"</div>",'      <div class="score '+(t?"show":"none")+'">','        <div class="score-block">',"          "+(t?'<label class="score-num ">'+a+"</label>":"")+" ","          <span>"+(t?"分":"暂无评分")+"</span>","        </div>",'        <div class="disc">'+(i.playable?""+e:"未开播")+"</div>","      </div>"].join("")}return'<div class="title narrow">'+i.title+"</div>"}(i),'      <div class="col">','        <span class="icon-play"></span>','        <span class="data">'+(0,N.formatNum)(i.play_count)+"</span>",'        <span class="icon-heart"></span>','        <span class="data">'+(0,N.formatNum)(i.follow_count)+"</span>","      </div>",'      <div class="col-2">','        <label class="card-label"></label>',"      </div>","    </div>","  </a>","</div>"].join(""):['<div class="bangumi-card-error '+(t?"mobile":"")+'">',"</div>"].join("")}function w(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.version.mobile;if(i){var e="";e=0==i.type?i.price/100:i.price/100||"价格待定";var a=S["sp"+i.itemsId]?"&shopId="+S["sp"+i.itemsId]:"";return['<div class="shop-card" card-type="shop" sid="'+i.itemsId+'">','  <a target="_blank" href="//mall.bilibili.com/detail.html?loadingShow=1'+a+"&noTitleBar=1&from=articleDetail&cvid="+(window.original&&window.original.cvid||0)+"#itemsId="+i.itemsId+'">','      <div class="cover-default"></div>','    <div class="cover" style="background-image:url( '+(0,N.trimHttp)((0,N.formatImg)(i.img[0]))+' )" >',"    </div>",'    <div class="container">','      <div class="title">'+i.name+"</div>",'      <div class="disc">'+i.brief+"</div>",'      <div class="bottom-col">','        <label class="card-label"></label>','        <span class="symbol">￥</span>','        <label class="price">'+e+"</label>","      </div>","    </div>","  </a>","</div>"].join("")}return['<div class="huiyuango-card-error '+(t?"mobile":"")+'">',"</div>"].join("")}function k(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.version.mobile;return i?['<div class="ticket-card">','  <a target="_blank" href="'+(0,N.trimHttp)(i.url)+'" tid="'+i.id+'">','    <div class="cover-default"></div>','    <div class="cover" style="background-image:url('+i.performance_image+')">',"    </div>",'    <div class="container">','      <div class="title">'+i.name+"</div>",'      <div class="time-col">','        <label class="icon-time"></label>','        <span class="time-range">'+T(i.start_time)+"-"+T(i.start_time)+"</span>","      </div>",'      <div class="location-col">','        <label class="icon-location"></label>','        <span class="location-string">'+i.city_name+" "+i.district_name+i.venue_name+"</span>","      </div>",'      <div class="bottom-col">','        <label class="card-label"></label>','        <span class="symbol">￥</span>','        <label class="price">'+i.price_low+"</label>","      </div>","    </div>","  </a>","</div>"].join(""):['<div class="huiyuango-card-error '+(t?"mobile":"")+'">',"</div>"].join("")}function _(i){var t=window.reportMsgObj||{},e=window.original;window.reportMsgObj&&($(i).on("click",".card[card-type=video],.slim-video-card,.slim-mobile-video-card",function(i){t.video_card_click={cardID:$(i.currentTarget).attr("aid"),cvid:e.cvid}}),$(i).on("click",".card[card-type=article]",function(i){t.article_card_click={cardID:$(i.currentTarget).attr("cid"),cvid:e.cvid}}),$(i).on("click",".music-card",function(i){t.music_card_click={cardID:$(i.currentTarget).attr("aid"),cvid:e.cvid}}),$(i).on("click",".bangumi-card",function(i){t.bangumi_card_click={cardID:$(i.currentTarget).attr("bid"),cvid:e.cvid}}),$(i).on("click",".shop-card",function(i){t.shop_card_click={cardID:$(i.currentTarget).attr("sid"),cvid:e.cvid}}),$(i).on("click",".ticket-card",function(i){t.ticket_card_click={cardID:$(i.currentTarget).attr("tid"),cvid:e.cvid}}),$(i).on("click",".card[card-type=video] .actions, .slim-mobile-video-card .actions",function(i){t.video_card_actions={cvid:e.cvid,aid:$(i.currentTarget).attr("aid")},$(i.currentTarget).addClass("viewlater")}))}function y(i){$(i).on("click",".card[card-type=video] .actions, .slim-mobile-video-card .actions",function(i){i.stopPropagation(),i.preventDefault(),C(i.target)})}function x(){var i=!1;return(U||N.version.ios&&R>=6520||N.version.android&&R>=522e4)&&(i=!0),window.original&&(window.original.showVideoViewLater||window.original.showSmallWindow)&&i?'<div class="actions"></div>':'<div class="actions hide"></div>'}function C(i){var t=$(i).parents('[card-type="video"]').attr("aid"),e="添加至稍后再看";$(i).hasClass("viewlater")&&(e="已添加稍后再看");var a=['<div class="col-1">','<span class="icon-view-later"></span>',"<label>"+e+"</label>","</div>"].join(""),n=$(['<div class="actions-holder">','<div class="actions-box">',window.original.showVideoViewLater?a:"","</div>",'<div class="arrow"></div>',"</div>"].join("")),o=$(['<div class="actions-mask"></div>'].join("")),r=$(i).offset();r.width=$(i).width(),r.height=$(i).height(),$("body").append(n),$(".page-container").append(o),n.height();var l={top:r.top-n.height()-8,left:r.left-n.width()+r.width/2};l.left<0?(l.left=r.left-n.width()/2+r.width/2,n.addClass("middle")):n.addClass("right"),l.top<window.scrollY+110?(l.top=r.top+r.height+8,n.addClass("above")):n.addClass("under"),n.css(l),(0,M.setTimeout)(function(){o.addClass("on"),n.find(".actions-box").addClass("on")},1),n.click(function(i){i.stopPropagation()}),n.find(".col-1").click(function(){(0,I.viewLater)(t),o.click()}),n.find(".col-2").click(function(){(0,I.miniPlayer)(t),o.click()}),o.on("click",function(){n.remove(),o.removeClass("on").one("transitionend",function(){o.remove()}).one("webkitTransitionEnd",function(){o.remove()})}),$(window).one("scroll",function(){n.remove(),o.removeClass("on").one("transitionend",function(){o.remove()}).one("webkitTransitionEnd",function(){o.remove()})})}function T(i){var t=new Date;return t.setTime(1e3*i),t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}Object.defineProperty(t,"__esModule",{value:!0}),t.startObserve=t.pauseAll=void 0;var O=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])}return i},N=e(0),j=e(3),I=e(4);e(6);var M=e(10),A={video:"//api.bilibili.com/x/article/archives",article:"//api.bilibili.com/x/article/metas",cards:"//api.bilibili.com/x/article/cards"},E=!1,S={},D=window.devicePixelRatio||1,P=!0,R=!!/BiliApp\/([0-9]+)/.test(window.navigator.userAgent)&&window.navigator.userAgent.match(/BiliApp\/([0-9]+)/)[1],U=/mobi_app\/(?:(?:android_i)|(?:ios_i))/i.test(window.navigator.userAgent),L=[],G=[],H=[],F=0,B=window.location.search,W=0;if(B.length>0){var Y=B.match(/headHeight=([0-9]+)/);Y&&+Y[1]&&(W=+Y[1])}var z=0;if(B.length>0){var q=B.match(/bottomHeight=([0-9]+)/);q&&+q[1]&&(z=+q[1])}var Q=[];t.default=s,t.pauseAll=p,t.startObserve=n},6:function(i,t){},8:function(i,t,e){"use strict";function a(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function n(i){return/i\d\.hdslb\.com/.test(i)}function o(i){return c.webp?i+"@1s.webp":i+"@1s.gif"}function r(){$(".cut-off-1,.cut-off-2,.cut-off-3,.cut-off-4,.cut-off-5,.cut-off-6").each(function(){var i=$(this);i.attr("src",i.attr("data-src")).addClass("loaded").removeAttr("data-src")})}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},s=function(){function i(i,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),t}}(),c=e(0),d="//static.hdslb.com/images/transparent.gif",u=function(){function i(t,e){a(this,i),this.options=e||{},this.imgArr=[],this.container=t,this.init()}return s(i,[{key:"updateOpt",value:function(i,t){"object"===(void 0===i?"undefined":l(i))?this.options=i:"string"==typeof i&&(this.options[i]=t)}},{key:"getImgs",value:function(){return this.imgArr}},{key:"lazyLoad",value:function(){var i=void 0,t=void 0,e=void 0;for(t=0,e=this.imgArr.length;t<e;++t)i=this.imgArr[t],(!i.isGif||i.isGif&&this.canAutoPlayGif(i))&&this.checkAndLoadImg(i)}},{key:"loadImg",value:function(i){var t=this,e=new Image;i.loading=!0,e.onload=function(){i.el.attr("src",i.src),i.loaded=!0,i.loading=!1,i.isGif?i.el.parent().find(".gif-cover").remove():i.el.parent().find(".img-loading").remove(),i.el.addClass("loaded")},e.onerror=function(){i.loaded=!0,i.loading=!1,i.isGif?i.el.parent().find(".gif-cover").remove():i.el.parent().find(".img-loading").remove(),t.addReload(i)},e.src=i.src}},{key:"canAutoPlayGif",value:function(i){return this.options.isWifi||i.width<65||i.height<65}},{key:"addLoading",value:function(i){var t=void 0;t=$('<div class="img-loading"></div>'),t.css({width:i.width+"px",height:i.height+"px",position:"absolute",top:0,left:"50%",marginLeft:-1*i.width/2+"px"}),i.el.parent().append(t)}},{key:"addReload",value:function(i){var t=$('<div class="img-reload"></div>');t.css({width:i.width+"px",height:i.height+"px",position:"absolute",top:0,left:"50%",marginLeft:-1*+i.width/2+"px"}),i.el.parent().append(t)}},{key:"checkAndLoadImg",value:function(i){var t=$(window).height();i.loading||i.loaded||!(0,c.checkInView)(i.el[0],1.5*t)||this.loadImg(i)}},{key:"addGifFlag",value:function(i){var t=$('<div class="gif-cover"><div class="black-tv"><div class="info">GIF</div></div></div>');t.css({width:i.width+"px",height:i.height+"px",position:"absolute",top:0,left:"50%",marginLeft:-1*+i.width/2+"px"}),i.el.parent().append(t)}},{key:"showGifLoading",value:function(i){i.el.parent().find(".info").html('<span class="dot dot-1"></span><span class="dot dot-2"></span><span class="dot dot-3"></span>')}},{key:"processImg",value:function(){var i=this.container.find("img[data-src]").not(".vote-display, .video-card, .article-card, .fanju-card, .music-card, .shop-card, .cut-off-1, .cut-off-2, .cut-off-3, .cut-off-4, .cut-off-5, .cut-off-6"),t=this;i.each(function(){var i,e,a=$(this),r=$(window).width(),l=r>=860?660:r-32,s=a.attr("width"),u=a.attr("height");s>l&&(u=Math.round(l/s*u),s=l);var v=a.attr("data-src");if(n(v)){i=(0,c.formatImg)((0,c.trimHttp)(v),s*c.DPR,u*c.DPR),e=/\.gif$/.test(i),a.css({width:s,height:u});var f={el:a,src:i,loaded:!1,loading:!1,width:s,height:u,isGif:e,originwidth:a.attr("width"),originheight:a.attr("height"),size:a.attr("data-size")||0};t.imgArr.push(f),a.attr("data-src",i).attr("data-index",t.imgArr.length-1),e?t.canAutoPlayGif(f)?a.attr("src",d):(a.attr("src",o(i)),t.addGifFlag(f)):(a.attr("src",d),s>=24&&u>=24&&t.options.hasLoading&&(f.hasLoading=!0,t.addLoading(f)))}else a.addClass("foreign-img")})}},{key:"init",value:function(){var i=this,t=(0,c.throttle)(i.lazyLoad,200,100,i);r(),this.processImg(this.container),this.lazyLoad(),$(window).off("scroll.img").on("scroll.img",function(){t()}),$("body").off("click.reloadImg").on("click.reloadImg",".img-reload",function(t){var e=$(t.target),a=e.parent().find("img[data-src]").attr("data-index"),n=i.imgArr[a];e.parent().find(".img-reload").remove(),n.isGif?(i.addGifFlag(n),i.showGifLoading(n)):n.hasLoading&&i.addLoading(n),i.loadImg(n)}),$("body").off("click.loadgif").on("click.loadgif",".gif-cover",function(t){var e=$(t.target),a=e.parents(".img-box").find("img[data-src]").attr("data-index"),n=i.imgArr[a];i.showGifLoading(n),i.loadImg(n)})}}]),i}();t.default=u}},[106]);