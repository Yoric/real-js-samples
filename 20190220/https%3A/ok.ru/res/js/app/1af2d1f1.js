define(["OK/utils/StyleSheet","OK/CurrentUserCfg"],function(h,n){var m=new h(),g=new h(),c=document.documentElement,p=document.body,a=c.classList,j=p.classList,l=true,k=OK.util.isIEMetro(),e=false,d=false,o=false,f=false;n.whenReady(function(q){l=q.ohViaSheet();});function i(r){var q=e?d:l;e=!r;d=q;if(!q){a.toggle("oh",e);return;}m.clear();var s=[];if(e){s.push({el:"html",style:["overflow: hidden"]},{el:"body",style:["overflow-y: scroll","overflow-x: hidden","height: auto","min-height: 100%"]},{el:".ft-push",style:["margin-bottom: 0 !important"]},{el:"#hook_Block_Footer",style:["height: auto !important"]},{el:"#hook_Block_MiddleColumn #flashMainContainerDiv",style:["position: absolute !important","height: 1px","width: 1px","overflow: hidden","clip: rect(1px,1px,1px,1px)"]});if(a.contains("anonym__rich")){s.push({el:"#hook_Block_BodySwitcher",style:["overflow: visible"]});}else{s.push({el:"#hook_Block_BodySwitcher",style:["overflow: hidden"]});}if(a.contains("ff-less-19")){s.push({el:"html, #hook_Block_BodySwitcher",style:["overflow: visible !important"]},{el:".scroll-indent, .topPanel",style:["right: 0 !important"]});}if(a.contains("touch")){s.push({el:"html",style:["overflow: visible !important"]},{el:".topPanel",style:["right: 0 !important"]});}s.push({el:".gwt-shortcutMenu",style:["position: fixed"]});s.push({el:".gwt-shortcutMenu.disc-repl",style:["position: absolute"]});s.push({el:".poplayered_popup-div",style:["z-index: 3215"]});if(k){s.push({el:".media-layer.__active",style:["overflow: auto"]});}if(!k){s.push({el:"#hook_PopLayer_popLayer, .topPanel, .modal, .scroll-modal-indent",style:["border-right:"+OK.scrollBar.width+"px transparent solid"]});}}else{s.push({el:".messages-head_pos.scroll-right-indent",style:["right: 0 !important"]});}m.set(s);}function b(r){var q=o?f:l;o=r;f=q;if(!q){j.toggle("__layer",r);return;}g.clear();if(r){g.set([{el:"body",style:["overflow: hidden"]},{el:".gwt-shortcutMenu, .sc-menu",style:["z-index: 3100"]},{el:".modal",style:["z-index: 3200"]},{el:"#hook_Block_MainContainer .scroll-arrow",style:["visibility: hidden"]}]);}}return{switchScrolling:i,switchLayer:b,setSheetMode:function(q){l=q;}};});