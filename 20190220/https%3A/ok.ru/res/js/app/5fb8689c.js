define(["OK/utils/utils"],function(c){var a=c.deferred(),g=c.deferred(),d={},f,e;var b={getUrlPattern:function(){return f;},getUserId:function(){return e;},ohViaSheet:function(){return d.ohvs;}};return{activate:function(h){a.resolve(h);},applyConfig:function(h){a.promise.then(function(){d=h;if(h["share.urlPattern"]){f=new RegExp(h["share.urlPattern"]);}if(h.uid){e=h.uid;}g.resolve();});},whenReady:function(h){g.promise.then(function(){h(b);});}};});