!function e(t,n,r){function o(i,l){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n||e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return{type:h,payload:(0,d.normalizeApartment)(e)}}Object.defineProperty(n,"__esModule",{value:!0}),n.initApartmentsData=n.apartmentsFetch=n.motionFetch=n.FETCH_MOTION=n.UPDATE_APARTMENT=n.FETCH_APARTMENTS=void 0,n.updateApartment=o;var a=e("i18next"),i=r(a),l=e("bluebird"),s=r(l),u=e("../utils/fetch"),c=e("../utils/fsa"),f=e("../selectors/auth"),d=e("../utils/normalize/apartments"),p=e("../consts"),m=n.FETCH_APARTMENTS="FETCH_APARTMENTS",h=n.UPDATE_APARTMENT="UPDATE_APARTMENT",v=n.FETCH_MOTION="FETCH_MOTION",g=(0,c.createFSA)(m),y=(0,c.createFSA)(v),E=n.motionFetch=function(){return function(e){return e(y()),(0,u.fetch)("apart_motion",{type:"GET",url:p.MOTION_URI,cache:!1}).then(function(t){return e(y(t))}).catch(function(t){return e(y(new Error(t))),s.default.reject(t)})}},b=n.apartmentsFetch=function(){return function(e,t){return(0,u.fetch)("apartments",{type:"GET",url:(0,f.getApartmentsURI)(t()),cache:!1}).then(function(t){var n=(0,d.normalizeApartments)(t);return s.default.resolve(e(g(n)))}).catch(function(t){return e(g(new Error(t))),s.default.reject(t)})}},S=void 0,w=void 0;n.initApartmentsData=function(){return function(e,t){var n=t(),r=Math.max((0,f.getUpdateAparmentsInterval)(n),300),o=Math.max((0,f.getUpdateMotionInterval)(n),60);return clearInterval(S),S=setInterval(function(){i.default.reloadResources(),e(b())},1e3*r),clearInterval(w),w=setInterval(function(){return e(E())},1e3*o),s.default.all([e(b()),e(E())])}}},{"../consts":76,"../selectors/auth":100,"../utils/fetch":113,"../utils/fsa":114,"../utils/normalize/apartments":116,bluebird:void 0,i18next:void 0}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.authInit=n.login=n.authSet=n.AUTH_SET=void 0;var o=e("lodash"),a=r(o),i=e("i18next"),l=r(i),s=e("../consts"),u=e("../utils"),c=e("../utils/fetch"),f=e("../libs/bugsnag"),d=r(f),p=e("../libs/fixtime"),m=r(p),h=e("../slivax"),v=n.AUTH_SET="AUTH_SET",g=n.authSet=function(e){return{type:v,payload:e}},y=(n.login=function(e,t){return function(){return e.login?e.password?(t({isFetching:!0,error:null}),(0,c.fetch)("login",{url:s.LOGIN_URI,type:"POST",data:e,retries:1,success:function(){return window.location.reload(!0)},error:function(e){return t({isFetching:!1,error:l.default.t("errors."+(e.error||"auth-failed"))})}})):t({error:l.default.t("errors.empty-pwd")}):t({error:l.default.t("errors.empty-login")})}},function(e){var t="guest",n=e&&e.user&&e.user.tokens||[];n&&-1!==n.indexOf("active")&&(-1!==n.indexOf("member")&&(t="standard"),-1!==n.indexOf("premium")&&(t="premium"));var r=window.bootstrap.access;if(""===r||!a.default.includes(["guest","standard","premium"],r)||!(0,u.isLocalStorage)())return t;if(t!==r){var o=localStorage.getItem("_CALC")||0;if(o<5)return localStorage.setItem("_CALC",o+1),window.location=window.location.href+"?_="+(0,u.getTimestamp)(),t}return localStorage.removeItem("_CALC"),t}),E=function(){return function(e){var t=void 0;return(0,u.getFingerprint)().then(function(e){t=e+(0,u.getTimestamp)().toString(16);var n={authg:e+(0,u.getAuthCapabilities)()},r=(0,u.getBalanced)();return r&&(n.balanced=r),(0,c.fetch)("whoami",{url:s.WHOAMI_URI,type:"GET",data:n,cache:!1})}).then(function(n){return y(n),d.default.beforeNotify=function(e,r){r.auth={uuidSt:t,attributes:n,userid:n.user.userid}},n.timestamp&&m.default.init(n.timestamp),e((0,h.setUid)(n.user.userid)),e(g(n)),Promise.resolve(n)}).catch(function(e){return console.error(e),Promise.reject()})}},b=void 0,S=function(e){return function(t){clearInterval(b);var n=e&&e.user&&e.user.tokens||[];if(!(0===n.length||n.indexOf("active")<0||n.indexOf("guest")>0)){var r=a.default.find(n,function(e){return e.startsWith("expire")}),o=r.split("-")[1],i=Math.floor(Date.now()/1e3),l=o-i;if(l<60)return void(b=setTimeout(function(){return t(w())},6e4));var s=Math.min(3600,l);b=setTimeout(function(){return t(w())},1e3*s)}}},w=n.authInit=function(){return function(e){return e(E()).then(function(t){return e(S(t))})}}},{"../consts":76,"../libs/bugsnag":80,"../libs/fixtime":82,"../slivax":109,"../utils":115,"../utils/fetch":113,i18next:void 0,lodash:void 0}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configParseQuery=n.configSetSendStartStream=n.configSetLM=n.configSetMuted=n.configSetData=n.CONFIG_SET_SEND_START_STREAM=n.CONFIG_SET_DATA=void 0;var r=e("../utils/events"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=e("../utils"),i=e("../consts"),l=n.CONFIG_SET_DATA="CONFIG_SET_DATA",s=n.CONFIG_SET_SEND_START_STREAM="CONFIG_SET_SEND_START_STREAM",u=n.configSetData=function(e){return{type:l,payload:e}},c=n.configSetMuted=function(e){return u({isMuted:e})},f=n.configSetLM=function(e){return function(t){if(e){var n=Number(e);return i.USED_LANDING_MODES.indexOf(n)<0&&(n=i.LANDING_MODES.HLS),o.default.init(),o.default.runFocusWaiter(),t(u({landingMode:n}))}return t(u({landingMode:null}))}},d=n.configSetSendStartStream=function(e){return{type:s,payload:e}};n.configParseQuery=function(e){return function(t,n){var r=null,i=null;e.ts&&e.tc?(r=e.tc,i=e.ts,localStorage.setItem("tc",r),localStorage.setItem("ts",i)):(0,a.isLocalStorage)()&&(r=localStorage.getItem("tc"),i=localStorage.getItem("ts")),r&&i&&t(u({tc:r,ts:i})),Object.keys(e).forEach(function(r){switch(r){case"nosound":t(c(!0));break;case"landingmode":case"lm":t(f(e[r]));break;case"sss":void 0===n().config.sendStartStream&&t(d(!0)),o.default.siteOpen()}})}}},{"../consts":76,"../utils":115,"../utils/events":112}],4:[function(e,t,n){"use strict";t.exports=e("./current.standard.js")},{"./current.premium.js":5,"./current.standard.js":6}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toggleIsAutoFollow=n.setIsAutoFollow=n.setViewModeRM=n.setModeFour=n.setModeTwoHorizontal=n.setModeTwoVertical=n.setModeSingleWide=n.SET_IS_AUTO_FOLLOW=void 0;var r=e("../../consts"),o=e("../snapshots"),a=e("./index"),i=n.SET_IS_AUTO_FOLLOW="SET_IS_AUTO_FOLLOW",l=(n.setModeSingleWide=function(){return function(e){e((0,a.setViewMode)(r.VIEW_MODE.SINGLE_WIDE)),e((0,a.fillPlayers)())}},n.setModeTwoVertical=function(){return function(e){e((0,a.setViewMode)(r.VIEW_MODE.TWO_VERTICAL)),e((0,a.fillPlayers)())}},n.setModeTwoHorizontal=function(){return function(e){e((0,a.setViewMode)(r.VIEW_MODE.TWO_HORIZONTAL)),e((0,a.fillPlayers)())}},n.setModeFour=function(){return function(e){e((0,a.setViewMode)(r.VIEW_MODE.FOUR)),e((0,a.fillPlayers)())}},n.setViewModeRM=function(e){return function(t){t((0,a.setViewMode)(e)),t((0,a.fillPlayers)())}},n.setIsAutoFollow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:i,payload:{player:e,mode:t}}});n.toggleIsAutoFollow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.AUTO_FOLLOW_MODES.ALL;return function(n,r){var a=r(),i=null!==e?e:a.current.player;if(a.current.isAutoFollow.mode===t)return void n(l(null,null));n(l(i,t)),n((0,o.fetchTopcams)())}}},{"../../consts":76,"../snapshots":14,"./index":7}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toggleIsAutoFollow=n.setIsAutoFollow=n.setModeFour=n.setModeTwoHorizontal=n.setModeTwoVertical=n.setModeSingleWide=void 0;var r=e("../../consts"),o=e("../../selectors/auth"),a=e("../modal"),i=e("./index");n.setModeSingleWide=function(){return function(e,t){return e("guest"===(0,o.getAccess)(t())?(0,a.modalShowStandard)():(0,i.setViewMode)(r.VIEW_MODE.SINGLE_WIDE))}},n.setModeTwoVertical=a.modalShowPremium,n.setModeTwoHorizontal=a.modalShowPremium,n.setModeFour=a.modalShowPremium,n.setIsAutoFollow=a.modalShowPremium,n.toggleIsAutoFollow=a.modalShowPremium},{"../../consts":76,"../../selectors/auth":100,"../modal":10,"./index":7}],7:[function(e,t,n){"use strict";function r(e,t){return{type:_,payload:{player:e,playlist:t}}}Object.defineProperty(n,"__esModule",{value:!0}),n.setExclude=n.getExcludedEdges=n.setVideoFormat=n.setPrevPlayer=n.setNextPlayer=n.toggleFullscreen=n.setModeFullscreen=n.setModeSingle=n.setViewMode=n.fillPlayers=n.pureSetViewMode=n.setPopular=n.setApartment=n.setCurrentPlayer=n.setPrevLevel=n.setNextLevel=n.setPrevApartment=n.setNextApartment=n.setPrevCamera=n.setNextCamera=n.setPlayers=n.setCurrentLevel=n.setIsMutedToPlayer=n.setCamera=n.setCameraToPlayer=n.setCameraToPath=n.setLanguage=n.SET_EXCLUDE_LIST=n.SET_VIDEO_FORMAT=n.SET_VIEW_MODE=n.SET_PLAYLIST_TO_PLAYER=n.SET_IS_MUTED_TO_PLAYER=n.SET_FORMAT_TO_PLAYER=n.SET_CAMERA_TO_PLAYER=n.SET_CURRENT_PLAYER=n.SET_LEVEL=n.SET_PLAYERS=n.SET_LANGUAGE=void 0;var o=e("./current.bundle");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}})}),n.setPlaylistToPlayer=r;var a=e("react-router"),i=e("lodash"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),s=e("../../selectors/cameras"),u=e("../../selectors/auth"),c=e("../../selectors/apartments"),f=e("../../selectors/current"),d=e("../../utils"),p=e("../../slivax"),m=e("../modal"),h=e("../config"),v=e("../../consts"),g=n.SET_LANGUAGE="SET_LANGUAGE",y=n.SET_PLAYERS="SET_PLAYERS",E=n.SET_LEVEL="SET_LEVEL",b=n.SET_CURRENT_PLAYER="SET_CURRENT_PLAYER",S=n.SET_CAMERA_TO_PLAYER="SET_CAMERA_TO_PLAYER",w=(n.SET_FORMAT_TO_PLAYER="SET_FORMAT_TO_PLAYER",n.SET_IS_MUTED_TO_PLAYER="SET_IS_MUTED_TO_PLAYER"),_=n.SET_PLAYLIST_TO_PLAYER="SET_PLAYLIST_TO_PLAYER",T=n.SET_VIEW_MODE="SET_VIEW_MODE",O=n.SET_VIDEO_FORMAT="SET_VIDEO_FORMAT",M=n.SET_EXCLUDE_LIST="SET_EXCLUDE_LIST",A=(n.setLanguage=function(e){return{type:g,payload:e}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:E,payload:Number(e)}}),P=n.setCameraToPath=function(e){return function(t,n){var r=n(),o=r.current.language||"en",i=l.default.chain(window.location.pathname).split("/").last().value(),s=void 0;s="string"==typeof e?e:e.camera,i&&i===s||a.browserHistory.push("/"+o+"/view/"+s)}},C=n.setCameraToPlayer=function(e,t){return function(n,r){var o=r(),a=void 0!==t?t:(0,f.getCurrentPlayer)(o),i=l.default.isEmpty(l.default.get(o,"current.players["+a+"].camera")),s="03_1";if(s=e||(o.auth.popularCamera||l.default.get(o,"apartments.data[0].cameras[0].camera")),"string"==typeof e){var c=e.split("_")[0];s=l.default.chain(o.apartments.data).find(function(e){return e.apartment===c}).get("cameras").find(function(t){return t.camera===e}).value()}var d=(0,u.getAccess)(o);if("private"===s.access){if("guest"===d&&(n((0,m.modalShowStandard)()),!i))return}else if("premium"===s.access&&"premium"!==d&&(n((0,m.modalShowPremium)()),!i))return;a===o.current.player&&(n(P(e)),n(A(s.level))),n({type:S,payload:{player:a,camera:s}})}},N=n.setCamera=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,a){var i=a(),l=null!==t?t:i.current.player;return n||(i.current.isAutoFollow.player===l&&r((0,o.setIsAutoFollow)()),i.config.landingMode===v.LANDING_MODES.SCENES&&r((0,h.configSetLM)(null)),i.config.isMuted&&r((0,h.configSetMuted)(!1))),r(C(e,l))}},x=(n.setIsMutedToPlayer=function(e,t){return{type:w,payload:{player:e,isMuted:t}}},n.setCurrentLevel=function(e){return function(t,n){var r=n();if((0,f.getCurrentLevel)(r)!==e){var o=(0,s.getCameraOnLevelSelector)(r)(e);if(o)return void t(N(o));t(A(e))}}}),L=(n.setPlayers=function(e){return{type:y,payload:e}},n.setNextCamera=function(){return function(e,t){return e(N((0,s.getNextCamera)(t(),!1,void 0,!0)))}},n.setPrevCamera=function(){return function(e,t){return e(N((0,s.getNextCamera)(t(),!0,void 0,!0)))}},n.setNextApartment=function(){return function(e,t){return e(N((0,c.getCameraOnNextApartment)(t())))}},n.setPrevApartment=function(){return function(e,t){return e(N((0,c.getCameraOnNextApartment)(t(),!0)))}},n.setNextLevel=function(){return function(e,t){return e(x((0,s.getNextLevel)(t())(!1)))}},n.setPrevLevel=function(){return function(e,t){return e(x((0,s.getNextLevel)(t())(!0)))}},n.setCurrentPlayer=function(e){return function(t,n){var r=n();if(r.current.player!==e){t({type:b,payload:e});var o=r.current.players[e].camera;t(P(o))}}}),I=(n.setApartment=function(e){return function(t,n){return t(N((0,s.getCameraForSelectApartmentSelector)(n())(e)))}},n.setPopular=function(){return function(e,t){var n=t(),r=n.auth.popularCamera||l.default.get(n,"apartments.data[0].cameras[0].camera","03_1");return e(N(r,null,!0))}},n.pureSetViewMode=function(e){return{type:T,payload:{viewMode:e}}}),R=n.fillPlayers=function(){return function(e,t){return}},k=n.setViewMode=function(e){return function(t,n){n().config.landingMode&&t((0,h.configSetLM)(null)),t(I(e)),t((0,p.addAction)("ui.setViewMode","regular",e))}},D=(n.setModeSingle=function(){return function(e){e(k(v.VIEW_MODE.SINGLE)),e(R())}},n.setModeFullscreen=function(){return function(e){e(k(v.VIEW_MODE.FULLSCREEN)),e(R())}}),j=(n.toggleFullscreen=function(){return function(e,t){var n=t();n.current.viewMode===v.VIEW_MODE.FULLSCREEN?(e(k(n.current.prevViewMode)),e(R())):e(D())}},n.setNextPlayer=function(){return function(e,t){var n=t(),r=n.current,o=r.player,a=r.players,i=Number(o)+1;a[i]&&a[i].show||(i=l.default.chain(a).pickBy(function(e){return e.show}).keys().head().toNumber().value()),e(L(i))}},n.setPrevPlayer=function(){return function(e,t){var n=t(),r=n.current,o=r.player,a=r.players,i=Number(o)-1;a[i]&&a[i].show||(i=l.default.chain(a).pickBy(function(e){return e.show}).keys().last().toNumber().value()),e(L(i))}},n.setVideoFormat=function(e){return{type:O,payload:e}},n.getExcludedEdges=function(e,t){var n=e||[];if((0,d.isLocalStorage)())try{n=JSON.parse(localStorage.getItem("ExE"))||n}catch(e){}var r=l.default.sortBy(n,function(e){return e.tm}).reverse();if(void 0!==t){var o=(0,d.getTimestamp)()-60*t;r=l.default.filter(r,function(e){return e.tm>=o})}return r});n.setExclude=function(e){return function(t,n){var r=n(),o=e.replace("rtmps://","").split(".")[0],a={name:o,tm:(0,d.getTimestamp)()},i=j(r.current.excludeList),s=l.default.findIndex(i,{name:a.name});if(s>-1?i[s]=a:i.push(a),(0,d.isLocalStorage)())try{localStorage.setItem("ExE",JSON.stringify(i))}catch(e){}t({type:M,payload:i})}}},{"../../consts":76,"../../selectors/apartments":99,"../../selectors/auth":100,"../../selectors/cameras":101,"../../selectors/current":102,"../../slivax":109,"../../utils":115,"../config":3,"../modal":10,"./current.bundle":4,lodash:void 0,"react-router":void 0}],8:[function(e,t,n){"use strict";function r(){return fetch("//hls.static.reallifecam.com/hola/static/resources/content.json").then(function(e){return e.json()})}function o(){return function(e,t){var n=t().landing,r=n.currentScene,o=n.data.scenes;if(!o||0===o.length)return null;for(var a=void 0,i=!1;!i;)a=Math.floor(Math.random()*o.length),i=!r||a.camera!==r.camera&&a.ts!==r.ts;return e(u(o[a]))}}function a(){return function(e){return r().then(function(t){return e(s(t))})}}Object.defineProperty(n,"__esModule",{value:!0}),n.selectNextScene=o,n.getLandingScenes=a;var i=n.SAVE_SCENES="landing/SAVE_SCENES",l=n.SET_CURRENT_SCENE="landing/SET_CURRENT_SCENE",s=function(e){return{type:i,payload:e}},u=n.setCurrentScene=function(e){return{type:l,payload:e}}},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toggleMdIsOn=n.mdSetIsOn=n.mdCleanData=n.mdSetCameras=n.mdSetApartments=n.MD_SET_IS_ON=n.MD_CLEAN_DATA=n.MD_SET_APARTMENTS=n.MD_SET_CAMERAS=void 0;var r=e("./modal"),o=n.MD_SET_CAMERAS="MD_SET_CAMERAS",a=n.MD_SET_APARTMENTS="MD_SET_APARTMENTS",i=n.MD_CLEAN_DATA="MD_CLEAN_DATA",l=(n.MD_SET_IS_ON="MD_SET_IS_ON",n.mdSetApartments=function(e){return{type:a,payload:{apartments:e}}},n.mdSetCameras=function(e){return{type:o,payload:{cameras:e}}},n.mdCleanData=function(){return{type:i}},n.mdSetIsOn=function(e){return function(e){e((0,r.modalShowPremium)())}});n.toggleMdIsOn=function(){return function(e,t){return e(l(!t().md.isOn))}}},{"./modal":10}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.modalShowConvert=n.modalShowGetNews=n.modalShowHotkeys=n.modalShowStandard=n.modalShowLogin=n.modalShowPremium=n.modalClose=n.modalShowModal=n.modalSetType=n.modalSetShow=n.MODAL_SET_TYPE=n.MODAL_SET_SHOW=void 0;var r=e("../consts"),o=e("./preview"),a=n.MODAL_SET_SHOW="MODAL_SET_SHOW",i=n.MODAL_SET_TYPE="MODAL_SET_TYPE",l=n.modalSetShow=function(e){return{type:a,payload:e}},s=n.modalSetType=function(e){return{type:i,payload:e}},u=n.modalShowModal=function(e){return function(t){t((0,o.hidePreview)()),t(s(e)),t(l(!0))}};n.modalClose=function(){return function(e){e(l(!1)),e(s(null))}},n.modalShowPremium=function(){return u(r.MODAL_TYPES.PREMIUM)},n.modalShowLogin=function(){return u(r.MODAL_TYPES.LOGIN)},n.modalShowStandard=function(){return u(r.MODAL_TYPES.STANDARD)},n.modalShowHotkeys=function(){return u(r.MODAL_TYPES.HOTKEY)},n.modalShowGetNews=function(){return u(r.MODAL_TYPES.GET_NEWS)},n.modalShowConvert=function(){return u(r.MODAL_TYPES.CONVERT)}},{"../consts":76,"./preview":13}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toggleIsCompactMenuMode=n.initCompactMenuMode=n.setIsCompactMenuMode=n.setIsHideNonActiveGroups=n.setIsDisableGroups=n.SET_IS_HIDE_NON_ACTIVE_GROUPS=n.SET_IS_DISABLE_GROUPS=void 0;var r=e("../libs/redux-localstorage-saver"),o=e("./panels"),a=n.SET_IS_DISABLE_GROUPS="SET_IS_DISABLE_GROUPS",i=n.SET_IS_HIDE_NON_ACTIVE_GROUPS="SET_IS_HIDE_NON_ACTIVE_GROUPS",l=n.setIsDisableGroups=function(e){return function(t){t((0,o.setAllApartmentGroups)(!0)),t({type:a,payload:{isDisableGroups:e}})}},s=n.setIsHideNonActiveGroups=function(e){return function(t){t((0,o.setAllApartmentGroups)(!0)),t({type:i,payload:{isHideNonActiveGroups:e}})}},u=n.setIsCompactMenuMode=function(e){return function(t){t(l(e)),t(s(e)),t((0,o.setShowPanel)("plan",!e))}};n.initCompactMenuMode=function(e,t){return function(n){if(!(0,r.getIsSaved)(a)&&!(0,r.getIsSaved)(i))try{e.getBoundingClientRect().height>t.getBoundingClientRect().height&&n(u(!0))}catch(e){}}},n.toggleIsCompactMenuMode=function(){return function(e,t){var n=t(),r=n.options,o=!(r.isDisableGroups&&r.isHideNonActiveGroups);e(u(o))}}},{"../libs/redux-localstorage-saver":84,"./panels":12}],12:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return"SET_SHOW_PANEL_"+e}function a(e,t){return{type:o(e),payload:{panel:e,isShow:t}}}Object.defineProperty(n,"__esModule",{value:!0}),n.toggleAllGroupApartments=n.setAllApartmentGroups=void 0,n.SET_SHOW_PANEL=o,n.setShowPanel=a;var i=e("lodash"),l=e("../consts"),s=n.setAllApartmentGroups=function(e){return function(t){return(0,i.forEach)([].concat(r(l.APARTMENT_GROUP_ORDER),[l.ALL_APARTMENTS]),function(n){return t(a(n,e))})}};n.toggleAllGroupApartments=function(){return function(e,t){var n=t(),r=n.options.isDisableGroups,o=n.panels,a=!1;if(r)a=!o[l.ALL_APARTMENTS];else{var u=(0,i.map)(l.APARTMENT_GROUP_ORDER,function(e){return o[e]});a=!(0,i.every)(u)}e(s(a))}}},{"../consts":76,lodash:void 0}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hidePreview=n.showPreview=n.toggleDisabledPreview=n.TOOLTIP_NAME=n.SET_CLASSNAME_PREVIEW=n.SET_CAMERA_PREVIEW=n.SET_DISABLED_PREVIEW=n.SET_IS_SHOW_PREVIEW=void 0;var r=e("redux-tooltip"),o=e("../consts"),a=n.SET_IS_SHOW_PREVIEW="SET_IS_SHOW_PREVIEW",i=n.SET_DISABLED_PREVIEW="SET_DISABLED_PREVIEW",l=n.SET_CAMERA_PREVIEW="SET_CAMERA_PREVIEW",s=n.SET_CLASSNAME_PREVIEW="SET_CLASSNAME_PREVIEW",u=n.TOOLTIP_NAME="preview",c=function(e){return{type:a,payload:{isShow:e}}},f=function(e){return{type:i,payload:{disabled:e}}},d=function(e){return{type:l,payload:{camera:e}}},p=function(e){return{type:s,payload:{className:e}}},m=(n.toggleDisabledPreview=function(){return function(e,t){var n=t().preview.disabled;return n||e(c(!1)),e(f(!n))}},null),h=null,v=null;n.showPreview=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return function(l,s){var f=s().preview,g=f.camera,y=f.isShow;if(!f.disabled&&t){var E=i?Math.max(o.PREVIEW_MARGIN,Math.min(e.pageX,document.documentElement.clientWidth-o.PREVIEW_MARGIN)):e.pageX,b="right"===a||"left"===a?Math.max(e.pageY,(document.documentElement.scrollTop||window.scrollY)+90):e.pageY,S={x:E,y:b},w=a||(e.clientY<150?"bottom":"top");v={origin:S,place:w,name:u},h=clearTimeout(h),!y&&m||(m=setTimeout(function(){l(r.actions.show(v)),g!==t&&l(d(t)),l(p(n)),l(c(!0))},y?0:o.PREVIEW_DELAY))}}},n.hidePreview=function(){return function(e,t){m=clearTimeout(m),e(r.actions.hide({name:u}));var n=t().preview,a=n.camera,i=n.isShow;a&&(e(d(null)),e(p(null))),i&&(h=setTimeout(function(){return e(c(!1))},o.PREVIEW_DEBOUNCE))}}},{"../consts":76,"redux-tooltip":void 0}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setCountSnapshotLines=n.toggleIsShowSnapshots=n.autoFetchTopScenes=n.fetchTopScenes=n.topScenesFSA=n.autoFetchTopCams=n.fetchTopcams=n.topCamsFSA=n.updateSnapshotOnLinesCount=n.SET_SNAPSHOT_ON_LINES_COUNT=n.SET_IS_SHOW_SNAPSHOT=n.SET_COUNT_SNAPSHOT_LINES=n.FETCH_SNAPSHOTS=void 0;var r=e("lodash"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=e("../utils/fsa"),i=e("../utils/selectors"),l=e("../utils/fetch"),s=e("../selectors/auth"),u=e("../consts"),c=e("./modal"),f=e("./current"),d=n.FETCH_SNAPSHOTS=function(e){return"FETCH_SNAPSHOTS_"+e},p=n.SET_COUNT_SNAPSHOT_LINES=function(e){return"SET_COUNT_"+e+"_LINES"},m=n.SET_IS_SHOW_SNAPSHOT=function(e){return"SET_IS_SHOW_"+e},h=n.SET_SNAPSHOT_ON_LINES_COUNT="SET_SNAPSHOT_ON_LINES_COUNT",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:h,payload:e}},g=(n.updateSnapshotOnLinesCount=function(){return function(e){var t=document.documentElement.clientWidth,n=void 0;return n=t>=1620?6:t>=1434?5:t>=1344?5:t>=1162?4:t>=888?3:t>=614?2:1,e(v(n))}},n.topCamsFSA=(0,a.createFSA)(d(u.SNAP_TYPES.TOP_CAMS))),y=n.fetchTopcams=function(){return function(e,t){e(g());var n=t(),r=n.config.landingMode,a=r?n.auth.landingUrl:n.auth.topCamsListUri;return(0,l.fetch)("topcams",{url:a,type:"GET",cache:!1}).then(function(n){var r=t(),a=o.default.sortBy(n,"order"),l=r.current.isAutoFollow;if(e(g(a)),a.length>0){var s=null,c=r.current.player;if(r.config.landingMode&&r.config.landingMode!==u.LANDING_MODES.SCENES)s=o.default.head(o.default.filter(a,(0,i.predicateFilterByUserStatus)(r)));else if(null!==l.mode&&null!==l.player&&(s=o.default.head(a),c=l.player,l.mode===u.AUTO_FOLLOW_MODES.APARTMENT)){var d=r.current.players[c].camera.camera.split("_")[0];s=o.default.find(a,function(e){return e.name.startsWith(d)})}var p=o.default.get(r,"current.players[newPlayer].camera.camera");s&&s.name!==p&&e((0,f.setCamera)(s.name,c,!0))}return Promise.resolve()}).catch(function(t){return console.dir(t),Promise.resolve(e(g(new Error(t))))})}},E=void 0,b=(n.autoFetchTopCams=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var r=n(),o=r.config.landingMode?Number(r.auth.landingTimeOut):Number(r.auth.popularTimeOut);return clearInterval(E),e&&(t(y()),E=setInterval(function(){return t(y())},1e3*(o||20))),Promise.resolve()}},n.topScenesFSA=(0,a.createFSA)(d(u.SNAP_TYPES.TOP_SCENES))),S=n.fetchTopScenes=function(){return function(e){return e(b()),(0,l.fetch)("topScenes",{url:u.TOP_SCENES_URI,type:"GET",cache:!1}).then(function(t){return e(b(t)),Promise.resolve()}).catch(function(t){return console.error(t),Promise.resolve(e(b(new Error(t))))})}},w=void 0,_=(n.autoFetchTopScenes=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){return clearInterval(w),e&&u.UPDATE_TOP_SCENES_INTERVAL>0&&(t(S()),w=setInterval(function(){return t(S())},1e3*u.UPDATE_TOP_SCENES_INTERVAL)),Promise.resolve()}},function(e,t){return{type:p(e),payload:t}}),T=function(e,t){return{type:m(e),payload:t}};n.toggleIsShowSnapshots=function(e){return function(t,n){return t(T(e,!n().snapshots[e].isShow))}},n.setCountSnapshotLines=function(e,t){return function(n,r){if(!(t<0)){if(0===t)return void n(T(e,!1));var o=r(),a=(0,s.getAccess)(o),i=u.MAX_SNAPSHOTS_LINES[e][a];if(i&&t>i){if("premium"===a)return;return void n((0,c.modalShowPremium)())}n(_(e,t))}}}},{"../consts":76,"../selectors/auth":100,"../utils/fetch":113,"../utils/fsa":114,"../utils/selectors":117,"./current":7,"./modal":10,lodash:void 0}],15:[function(e,t,n){"use strict";function r(e){return{type:i,payload:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.initWidthListener=n.SET_WIDTH=void 0,n.setWidth=r;var o=e("lodash"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n.SET_WIDTH="SET_WIDTH",l=function(e){return function(t){t(r((e.srcElement||e.currentTarget).innerWidth))}},s=function(){return function(e){return a.default.throttle(function(t){return e(l(t))},200)}};n.initWidthListener=function(){return function(e){e(r(window.innerWidth)),window.addEventListener("resize",e(s()))}}},{lodash:void 0}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=e("lodash"),c=r(u),f=e("react"),d=r(f),p=e("prop-types"),m=r(p),h=e("react-redux"),v=e("classnames"),g=r(v),y=e("../../selectors/apartments"),E=e("../../selectors/current"),b=e("../../selectors/snapshots"),S=e("../../actions/current"),w=e("../../actions/preview"),_=e("../../consts"),T=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=i(this,e.call.apply(e,[this].concat(u))),r.onMouseMove=function(e,t){if("maintenance"!==t.status){var n=r.props,o=n.showPreview,a=n.getTopCamByApartment,i=a(t.apartment),l=r.wrapper.getBoundingClientRect();o(s({},e,{pageX:l.right}),i)}},r.onMouseLeave=function(){(0,r.props.hidePreview)()},r.onClickApartment=function(e){var t=r.props,n=t.hidePreview;(0,t.setApartment)(e),n()},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.current,r=t.groups,o=t.md,a=t.viewMode;return d.default.createElement("div",{className:(0,g.default)("apartments-small-wrap",{"hover-area left":a===_.VIEW_MODE.FULLSCREEN}),ref:function(t){e.wrapper=t}},d.default.createElement("div",{className:"panel menu apartments-small"},d.default.createElement("ul",{className:"list"},c.default.map(r,function(t){return c.default.map(t.apartments,function(t,r){return d.default.createElement("li",{key:r,onClick:function(){return e.onClickApartment(t)},onMouseMove:function(n){return e.onMouseMove(n,t)},onMouseLeave:e.onMouseLeave,className:(0,g.default)("item",{act:o[t.apartment]&&t.apartment!=n,active:t.apartment==n,maintenance:"maintenance"===t.status})},t.name)})}))))},t}(d.default.Component);T.propTypes={viewMode:m.default.oneOf(c.default.values(_.VIEW_MODE)).isRequired,getTopCamByApartment:m.default.func.isRequired},n.default=(0,h.connect)(function(e){return{groups:(0,y.getResultedApartments)(e),current:(0,E.getCurrentApartmentNum)(e),md:e.md.apartments,viewMode:(0,E.getViewMode)(e),isShowPreview:e.preview.isShow,previewCamera:e.preview.camera,getTopCamByApartment:(0,b.getTopCamByApartment)(e)}},function(e){return{setApartment:function(t){return e((0,S.setApartment)(t.apartment))},setCamera:function(t){return e((0,S.setCamera)(t))},showPreview:function(t,n){return e((0,w.showPreview)(t,n,"no-arrow","right"))},hidePreview:function(){return e((0,w.hidePreview)())}}})(T)},{"../../actions/current":7,"../../actions/preview":13,"../../consts":76,"../../selectors/apartments":99,"../../selectors/current":102,"../../selectors/snapshots":105,classnames:void 0,lodash:void 0,"prop-types":void 0,react:void 0,"react-redux":void 0}],17:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("prop-types"),f=r(c),d=e("lodash"),p=r(d),m=e("classnames"),h=r(m),v=e("./ApartmentsListGroupHeader"),g=r(v),y=e("./ApartmentsListItem"),E=r(y),b=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onClickTitle=function(e){var t=r.props,n=t.onClickGroup,o=t.group,a=t.isShow;e.preventDefault(),n(o.name,!a)},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this.props,t=e.group,n=e.current,r=e.onClickApartment,o=e.md,a=e.isShow,i=e.isDisableGroups,l=e.onMouseMove,s=e.onMouseLeave,c=e.isHideNonActiveGroups,f=e.onClickInactivity,d=!i&&!c,m=!(a&&0!==t.apartments.length||i||c);return u.default.createElement("span",{className:(0,h.default)("apartments-group",{closed:m})},u.default.createElement(g.default,{isCurrent:n.group===t.name,onClick:d?this.onClickTitle:null,name:t.name,count:t.sourceCount-(c?t.notActive.length:0),filteredCount:t.notActive.length,isHideNonActiveGroups:c,nonActiveTooltip:t.notActive.map(function(e){return""+e.name}).join("\n"),onClickInactivity:f,isClosed:!a}),u.default.createElement("ul",{className:"list"},p.default.map(t.apartments,function(e,t){return u.default.createElement(E.default,{key:t,apartment:e,isCurrent:e.apartment===n.apartment,onClick:r,md:1===o[e.apartment],onMouseMove:function(t){return l(t,e)},onMouseLeave:s})})))},t}(u.default.Component);b.propTypes={onClickGroup:f.default.func.isRequired,onClickInactivity:f.default.func.isRequired,onClickApartment:f.default.func.isRequired,onMouseMove:f.default.func,onMouseLeave:f.default.func,
md:f.default.shape().isRequired,group:f.default.shape().isRequired,current:f.default.shape().isRequired,isHideNonActiveGroups:f.default.bool,isDisableGroups:f.default.bool,isShow:f.default.bool},b.defaultProps={isHideNonActiveGroups:!1,isDisableGroups:!1,isShow:!1,onMouseMove:function(){},onMouseLeave:function(){}},n.default=b},{"./ApartmentsListGroupHeader":18,"./ApartmentsListItem":19,classnames:void 0,lodash:void 0,"prop-types":void 0,react:void 0}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.isCurrent,n=e.onClick,r=e.name,o=e.isHideNonActiveGroups,a=e.onClickInactivity,l=e.count,s=e.filteredCount,u=e.nonActiveTooltip,f=e.isClosed;return i.default.createElement("span",{className:(0,c.default)("group-header",{active:t,empty:l-s<=0})},i.default.createElement("span",{className:"group-title",onClick:n},i.default.createElement("span",{className:"name"},d.default.t("apartments.groups."+r)),(l>0||s>0)&&i.default.createElement("i",{className:(0,c.default)({"icon-opened":!f,"icon-closed":f})})),i.default.createElement("span",{className:"group-badges"},l>0&&i.default.createElement(m.default,{label:o?"Apartments with recent activity":null,flow:"down"},i.default.createElement("i",{className:(0,c.default)("group-badge",{act:o})},l)),o&&s>0&&i.default.createElement(m.default,{label:"Apartments without recent activity:\n\n"+u,flow:"down",wrap:!0},i.default.createElement("i",{className:"group-badge",onClick:a},s))))}Object.defineProperty(n,"__esModule",{value:!0});var a=e("react"),i=r(a),l=e("prop-types"),s=r(l),u=e("classnames"),c=r(u),f=e("i18next"),d=r(f),p=e("../../tooltip"),m=r(p);o.propTypes={isCurrent:s.default.bool,onClick:s.default.func,name:s.default.string.isRequired,isHideNonActiveGroups:s.default.bool,onClickInactivity:s.default.func.isRequired,count:s.default.number.isRequired,filteredCount:s.default.number,nonActiveTooltip:s.default.string,isClosed:s.default.bool},o.defaultProps={isCurrent:!1,isHideNonActiveGroups:!1,filteredCount:0,nonActiveTooltip:"",isClosed:!1,onClick:null},n.default=o},{"../../tooltip":71,classnames:void 0,i18next:void 0,"prop-types":void 0,react:void 0}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=""!==e?" "+p.default.t("apartments.status.till")+" "+e:"";return p.default.t("apartments.status.vacation")+t}function a(e){var t=e.apartment,n=e.isCurrent,r=e.onClick,a=e.md,i=e.onMouseMove,s=e.onMouseLeave,u=f.default.split(t.name," ");return l.default.createElement("li",{className:(0,h.default)("item",{act:a&&!n,active:n,maintenance:"maintenance"===t.status}),onClick:function(){return r(t.apartment)},onMouseLeave:s,onMouseMove:i},f.default.slice(u,0,u.length-1).join(" "),l.default.createElement("span",{className:"last-word"},u.length>1?" ":"",f.default.last(u),"maintenance"===t.status&&l.default.createElement(g.default,{label:p.default.t("apartments.status.maintenance")},l.default.createElement("i",{className:"status-icon maintenance"})),t.isnew&&l.default.createElement(g.default,{label:p.default.t("apartments.status.new")},l.default.createElement("i",{className:"status-icon new"})),t.vacation&&l.default.createElement(g.default,{label:o(t.vacation_till)},l.default.createElement("i",{className:"status-icon vacation"})),t.info&&t.info_text&&l.default.createElement(g.default,{label:t.info_text},l.default.createElement("i",{className:"status-icon info"}))))}Object.defineProperty(n,"__esModule",{value:!0});var i=e("react"),l=r(i),s=e("prop-types"),u=r(s),c=e("lodash"),f=r(c),d=e("i18next"),p=r(d),m=e("classnames"),h=r(m),v=e("../../tooltip"),g=r(v);a.propTypes={apartment:u.default.shape().isRequired,onClick:u.default.func.isRequired,isCurrent:u.default.bool,md:u.default.bool,onMouseMove:u.default.func,onMouseLeave:u.default.func},a.defaultProps={isCurrent:!1,md:!1,onMouseMove:function(){},onMouseLeave:function(){}},n.default=a},{"../../tooltip":71,classnames:void 0,i18next:void 0,lodash:void 0,"prop-types":void 0,react:void 0}],20:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("lodash"),u=r(s),c=e("react"),f=r(c),d=e("prop-types"),p=r(d),m=e("react-redux"),h=e("classnames"),v=r(h),g=e("../../../selectors/snapshots"),y=e("../../../selectors/apartments"),E=e("../../../selectors/current"),b=e("../../../selectors/options"),S=e("../../../actions/options"),w=e("../../../actions/current"),_=e("../../../actions/panels"),T=e("../../../actions/preview"),O=e("../../apt.toolbar"),M=r(O),A=e("./ApartmentsListGroup"),P=r(A),C=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onMouseMove=function(e,t){var n=r.props,o=n.getTopCamByApartment,a=n.showPreview,i=n.hidePreview;if("maintenance"!==t.status){if(e.target.classList.contains("status-icon"))return void i();a(e,o(t.apartment))}},r.onMouseLeave=function(){(0,r.props.hidePreview)()},r.onClickApartment=function(e){var t=r.props,n=t.hidePreview;(0,t.setApartment)(e),n()},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.groups,r=t.current,o=t.md,a=t.onClickGroup,i=t.panels,l=t.isHideNonActiveGroups,s=t.onClickInactivity,c=t.isDisableGroups;return 0===n.length?f.default.createElement("aside",{className:"panel menu apartments"}):f.default.createElement("aside",{className:(0,v.default)("panel","menu","apartments",{ra:l,"no-groups":c})},f.default.createElement(M.default,null),u.default.map(n,function(t){return f.default.createElement(P.default,{key:t.name,isShow:i[t.name],group:t,current:r,md:o,isHideNonActiveGroups:l,isDisableGroups:c,onClickApartment:e.onClickApartment,onClickGroup:a,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClickInactivity:s})}))},t}(f.default.Component);C.propTypes={groups:p.default.arrayOf(p.default.shape()).isRequired,current:p.default.shape().isRequired,md:p.default.shape().isRequired,onClickGroup:p.default.func.isRequired,setApartment:p.default.func.isRequired,panels:p.default.shape().isRequired,onClickInactivity:p.default.func.isRequired,hidePreview:p.default.func.isRequired,showPreview:p.default.func.isRequired,getTopCamByApartment:p.default.func.isRequired,isHideNonActiveGroups:p.default.bool,isDisableGroups:p.default.bool},C.defaultProps={isHideNonActiveGroups:!1,isDisableGroups:!1},n.default=(0,m.connect)(function(e){return{groups:(0,y.getResultedApartments)(e),current:(0,E.getCurrentApartment)(e),md:(0,y.getApartmentsMD)(e),panels:e.panels,getTopCamByApartment:(0,g.getTopCamByApartment)(e),isShowPreview:e.preview.isShow,previewCamera:e.preview.camera,isHideNonActiveGroups:(0,b.getIsHideNonActiveGroups)(e),isDisableGroups:(0,b.getIsDisableGroups)(e)}},function(e){return{setApartment:function(t){return e((0,w.setApartment)(t))},setCamera:function(t){return e((0,w.setCamera)(t))},onClickGroup:function(t,n){return e((0,_.setShowPanel)(t,n))},onClickInactivity:function(){return e((0,S.setIsHideNonActiveGroups)(!1))},showPreview:function(t,n){return e((0,T.showPreview)(t,n))},hidePreview:function(){return e((0,T.hidePreview)())}}})(C)},{"../../../actions/current":7,"../../../actions/options":11,"../../../actions/panels":12,"../../../actions/preview":13,"../../../selectors/apartments":99,"../../../selectors/current":102,"../../../selectors/options":103,"../../../selectors/snapshots":105,"../../apt.toolbar":22,"./ApartmentsListGroup":17,classnames:void 0,lodash:void 0,"prop-types":void 0,react:void 0,"react-redux":void 0}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("react"),c=r(u),f=e("react-redux"),d=e("lodash"),p=r(d),m=e("classnames"),h=r(m),v=e("../selectors/current"),g=e("../selectors/auth"),y=e("../selectors/options"),E=e("../consts"),b=e("../actions/options"),S=e("../actions/snapshots"),w=e("../actions/window"),_=e("./landing"),T=r(_),O=e("./modals"),M=r(O),A=e("./header"),P=r(A),C=e("./controls"),N=r(C),x=e("./player"),L=r(x),I=e("./footer"),R=r(I),k=e("./apartments/apartments.list"),D=r(k),j=e("./apartments/apartments.dropdown"),F=r(j),U=e("./cameras/cameras.list"),B=r(U),G=e("./cameras/cameras.dropdown"),H=r(G),W=e("./snapshots/topcams"),V=r(W),q=e("./snapshots/topscenes"),Y=r(q),X=e("./hotkeys"),K=r(X),z=e("./cameras/level.toggler"),$=r(z),J=e("./plansvg2"),Z=r(J),Q=e("./infobox"),ee=r(Q),te=e("./ws.connector"),ne=r(te),re=e("./new.ws.connector"),oe=r(re),ae=e("./preview"),ie=r(ae),le=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onResizeContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;r.refs.panelPlayer.style.width=null,r.refs.rightPanel.style.width=null,clearTimeout(r.resizeTimerID),e.viewMode===E.VIEW_MODE.SINGLE&&window.innerWidth>=1e3&&(r.resizeTimerID=setTimeout(function(){var e=16*Math.ceil(r.refs.panelPlayer.getBoundingClientRect().width/16);r.refs.rightPanel.style.width=r.refs.rightPanel.getBoundingClientRect().width-(r.refs.panelPlayer.getBoundingClientRect().width-e)+"px",r.refs.panelPlayer.style.width=e+"px"},0))},o=n,i(r,o)}return l(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.updateSnapshotOnLinesCount;(0,e.initWidthListener)(),this.onResizeContent(),t()},t.prototype.componentWillReceiveProps=function(e){var t=this.props,n=t.viewMode,r=t.width,o=t.updateSnapshotOnLinesCount;e.viewMode!==n&&this.onResizeContent(e),e.width!==r&&(o(),this.onResizeContent())},t.prototype.render=function(){var e=this.props,t=e.landingMode,n=(e.players,e.userType),r=(e.levels,e.isHideNonActiveGroups),o=void 0;return o=c.default.createElement(L.default,{number:0}),c.default.createElement("div",{className:(0,h.default)("App",n,this.appClass)},t&&c.default.createElement(T.default,null),c.default.createElement(M.default,null),c.default.createElement(ne.default,null),c.default.createElement(oe.default,null),c.default.createElement(K.default,null),c.default.createElement(ie.default,null),c.default.createElement(P.default,null),c.default.createElement("main",{className:"wrap"},c.default.createElement(D.default,null),c.default.createElement("content",{className:"content",ref:"content"},c.default.createElement(ee.default,null),c.default.createElement("div",{className:"panel player",ref:"panelPlayer"},c.default.createElement("div",{className:"player-top"},c.default.createElement(F.default,null),c.default.createElement(N.default,null),c.default.createElement(H.default,null)),c.default.createElement("div",{className:"video"},o),!r&&c.default.createElement("small",{className:"caption"},"Recording, distribution or publication are strictly prohibited. Video has additional hidden watermarks with user ID"))),c.default.createElement("aside",{className:"panel menu cams",ref:"rightPanel"},c.default.createElement(Z.default,null),c.default.createElement($.default,null),c.default.createElement(B.default,null))),!p.default.includes(E.SPECIAL_MARKUP_LANDING_MODES,t)&&[c.default.createElement(V.default,{key:"topcams"}),c.default.createElement(Y.default,{key:"topscenes"})],c.default.createElement(R.default,null))},s(t,[{key:"appClass",get:function(){var e=this.props,t=e.viewMode,n=e.landingMode;return p.default.includes(E.SPECIAL_MARKUP_LANDING_MODES,n)?"landing-mode"+n:"player-mode"+t}}]),t}(c.default.Component);n.default=(0,f.connect)(function(e){return{players:(0,v.getPlayers)(e),landingMode:e.config.landingMode,viewMode:(0,v.getViewMode)(e),userType:(0,g.getUserType)(e),isHideNonActiveGroups:(0,y.getIsHideNonActiveGroups)(e),width:e.window.width}},function(e){return{initCompactMenuMode:function(t,n){return e((0,b.initCompactMenuMode)(t,n))},updateSnapshotOnLinesCount:function(){return e((0,S.updateSnapshotOnLinesCount)())},initWidthListener:function(){return e((0,w.initWidthListener)())}}})(le)},{"../actions/options":11,"../actions/snapshots":14,"../actions/window":15,"../consts":76,"../selectors/auth":100,"../selectors/current":102,"../selectors/options":103,"./apartments/apartments.dropdown":16,"./apartments/apartments.list":20,"./cameras/cameras.dropdown":24,"./cameras/cameras.list":25,"./cameras/level.toggler":26,"./controls":27,"./footer":28,"./header":29,"./hotkeys":30,"./infobox":32,"./landing":33,"./modals":38,"./new.ws.connector":43,"./plansvg2":52,"./player":56,"./preview":62,"./snapshots/topcams":68,"./snapshots/topscenes":70,"./ws.connector":73,classnames:void 0,lodash:void 0,react:void 0,"react-redux":void 0}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("react-redux"),f=e("classnames"),d=r(f),p=e("../../actions/options"),m=e("../../selectors/options"),h=e("../tooltip"),v=r(h),g=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.toggleIsHideNonActiveGroups=function(){var e=r.props;(0,e.setIsHideNonActiveGroups)(!e.isHideNonActiveGroups)},r.toggleDisableGroups=function(){var e=r.props;(0,e.setIsDisableGroups)(!e.isDisableGroups)},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this.props,t=e.isDisableGroups,n=e.isHideNonActiveGroups;return u.default.createElement("div",{className:"apt-toolbar"},u.default.createElement(v.default,{label:"Hide/show apartments with no recent activity"},u.default.createElement("a",{className:(0,d.default)("apt-toolbar-icon","ra",{on:n}),onClick:this.toggleIsHideNonActiveGroups})),u.default.createElement(v.default,{label:"Hide/show groups of apartments"},u.default.createElement("a",{className:(0,d.default)("apt-toolbar-icon","groups",{on:t}),onClick:this.toggleDisableGroups})))},t}(u.default.Component);n.default=(0,c.connect)(function(e){return{isDisableGroups:(0,m.getIsDisableGroups)(e),isHideNonActiveGroups:(0,m.getIsHideNonActiveGroups)(e)}},function(e){return{setIsDisableGroups:function(t){return e((0,p.setIsDisableGroups)(t))},setIsHideNonActiveGroups:function(t){return e((0,p.setIsHideNonActiveGroups)(t))}}})(g)},{"../../actions/options":11,"../../selectors/options":103,"../tooltip":71,classnames:void 0,react:void 0,"react-redux":void 0}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("react"),a=r(o),i=e("react-redux"),l=e("classnames"),s=r(l),u=e("i18next"),c=(r(u),e("../tooltip")),f=r(c),d=e("../../selectors/current"),p=e("../../selectors/auth"),m=function(e){var t=e.access,n=e.userAccess;return"public"===t||"premium"===n||"private"===t&&"guest"!==n?null:a.default.createElement(f.default,{mode:"premium-locks"},a.default.createElement("i",{className:"status-icon icon-locked"}))},h=function(e){var t=e.item,n=e.isCurrent,r=e.onClick,o=e.md,i=(e.apartmentLevels,e.currentLevel,e.number,e.userAccess),l=e.hideIcons,u=e.onMouseMove,c=void 0===u?function(){}:u,f=e.onMouseLeave;return a.default.createElement("li",{className:(0,s.default)("item",{act:o&&!n,active:n,maintenance:"maintenance"===t.status}),onClick:function(){return r(t.camera,t.access)},onMouseMove:function(e){return c(e,t.camera,t.status)},onMouseLeave:f},t.label+". "+t.name,!l&&!!t.audio&&a.default.createElement("i",{className:"status-icon icon-audio"}),!l&&a.default.createElement(m,{access:t.access,userAccess:i}),!l&&!!t.isnew&&a.default.createElement("i",{className:"status-icon new new-cam"}))};n.default=(0,i.connect)(function(e){return{userAccess:(0,p.getAccess)(e),apartmentLevels:(0,d.getCurrentApartmentLevels)(e),currentLevel:(0,d.getCurrentLevel)(e)}})(h)},{"../../selectors/auth":100,"../../selectors/current":102,"../tooltip":71,classnames:void 0,i18next:void 0,react:void 0,"react-redux":void 0}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=e("react"),c=r(u),f=e("react-redux"),d=e("classnames"),p=r(d),m=e("../../actions/current"),h=e("../../actions/preview"),v=e("../../selectors/cameras"),g=e("../../selectors/current"),y=e("../../consts"),E=e("./camera.item"),b=r(E),S=e("./level.toggler"),w=r(S),_=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onMouseMoveCamera=function(e,t,n){"maintenance"!==r.props.currentApartment.status&&"maintenance"!==n&&r.showPreview(e,t)},r.onMouseLeaveCamera=function(){r.props.hidePreview()},o=n,i(r,o)}return l(t,e),t.prototype.showPreview=function(e,t){var n=this.wrapper.getBoundingClientRect();return this.props.showPreview(s({},e,{pageX:n.left+10}),t)},t.prototype.render=function(){var e=this,t=this.props,n=t.cameras,r=t.currentCamera,o=t.handlerClick,a=t.md,i=t.viewMode;return c.default.createElement("div",{className:(0,p.default)("cams-small-wrap",{"hover-area right":i===y.VIEW_MODE.FULLSCREEN}),ref:function(t){e.wrapper=t}},c.default.createElement("div",{className:"panel menu cams-small"},c.default.createElement("ul",{className:"list"},n.map(function(t,n){return c.default.createElement(b.default,{key:t.camera,item:t,number:n+1,isCurrent:t.camera===r.camera,hideIcons:!0,onClick:o,md:!!a[t.camera],onMouseMove:e.onMouseMoveCamera,onMouseLeave:e.onMouseLeaveCamera})})),c.default.createElement(w.default,null)))},t}(c.default.Component);n.default=(0,f.connect)(function(e){return{currentCamera:(0,g.getCurrentCamera)(e),currentApartment:(0,g.getCurrentApartment)(e),cameras:(0,v.getCurrentLevelCameras)(e),md:e.md.cameras,viewMode:(0,g.getViewMode)(e)}},function(e){return{handlerClick:function(t){return e((0,m.setCamera)(t))},showPreview:function(t,n){return e((0,h.showPreview)(t,n,"no-arrow","left"))},hidePreview:function(){return e((0,h.hidePreview)())}}})(_)},{"../../actions/current":7,"../../actions/preview":13,"../../consts":76,"../../selectors/cameras":101,"../../selectors/current":102,"./camera.item":23,"./level.toggler":26,classnames:void 0,react:void 0,"react-redux":void 0}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("react-redux"),f=e("classnames"),d=(r(f),e("lodash")),p=r(d),m=e("../../actions/current"),h=e("../../actions/preview"),v=e("../../selectors/cameras"),g=e("../../selectors/current"),y=e("./camera.item"),E=r(y),b=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onMouseMoveCamera=function(e,t,n){"maintenance"!==r.props.currentApartment.status&&"maintenance"!==n&&r.props.showPreview(e,t)},r.onMouseLeaveCamera=function(){r.props.hidePreview()},o=n,i(r,o)}return l(t,e),t.prototype.componentWillUnmount=function(){clearTimeout(this.timerChangeShowPreview)},t.prototype.render=function(){var e=this,t=this.props,n=t.cameras,r=t.currentCamera,o=t.handlerClick,a=t.md;return n?u.default.createElement("div",null,u.default.createElement("ul",{className:"list"},p.default.map(p.default.groupBy(n,function(e){return e.level||1}),function(t){return u.default.createElement("div",{className:"level-group",key:t},t.map(function(t,n){return u.default.createElement(E.default,{key:n,item:t,number:n+1,isCurrent:t.camera==r.camera,onClick:o,md:1==a[t.camera],onMouseMove:e.onMouseMoveCamera,onMouseLeave:e.onMouseLeaveCamera})}))}))):null},t}(u.default.Component);n.default=(0,c.connect)(function(e){return{currentCamera:(0,g.getCurrentCamera)(e),currentApartment:(0,g.getCurrentApartment)(e),cameras:(0,v.getCurrentLevelCameras)(e),md:e.md.cameras}},function(e){return{handlerClick:function(t){return e((0,m.setCamera)(t))},showPreview:function(t,n){return e((0,h.showPreview)(t,n))},hidePreview:function(){return e((0,h.hidePreview)())}}})(b)},{"../../actions/current":7,"../../actions/preview":13,"../../selectors/cameras":101,"../../selectors/current":102,"./camera.item":23,classnames:void 0,lodash:void 0,react:void 0,"react-redux":void 0}],26:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("react-redux"),f=e("lodash"),d=r(f),p=e("classnames"),m=r(p),h=e("../../actions/current"),v=e("../../actions/preview"),g=e("../../selectors/current"),y=e("../../selectors/cameras"),E=e("../../selectors/snapshots"),b=e("../tooltip"),S=r(b),w=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onMouseMove=function(e,t){if("maintenance"!==r.props.currentApartment.status){var n=r.props.getTopCamByLevel(t);r.props.showPreview(e,n,"no-arrow")}},r.onMouseLeave=function(){r.props.hidePreview()},r.onClick=function(e){r.props.hidePreview();r.props.setLevel(e)},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.currentLevel,r=t.apartmentLevels,o=(t.onClick,t.onClickNext),a=t.onClickPrev,i=t.md;return!r||r<=1?null:u.default.createElement("div",{className:"layer-selector"},u.default.createElement(S.default,{label:"Previous group of cameras"},u.default.createElement("a",{className:"arrow left",onClick:a},"←")),u.default.createElement("div",{className:"layers"},d.default.map(d.default.range(1,r+1),function(t){return u.default.createElement("a",{key:t,className:(0,m.default)("layer",{active:t==n,act:i[t]}),onClick:function(){return e.onClick(t)},onMouseMove:function(n){return e.onMouseMove(n,t)},onMouseLeave:e.onMouseLeave},t)})),u.default.createElement(S.default,{label:"Next group of cameras"},u.default.createElement("a",{className:"arrow right",onClick:o},"→")))},t}(u.default.Component);n.default=(0,c.connect)(function(e){return{currentLevel:(0,g.getCurrentLevel)(e),apartmentLevels:(0,g.getCurrentApartmentLevels)(e),currentApartment:(0,g.getCurrentApartment)(e),md:(0,y.getMDLevels)(e),getTopCamByLevel:(0,E.getTopCamByLevel)(e),isShowPreview:e.preview.isShow,previewCamera:e.preview.camera}},function(e){return{setLevel:function(t){return e((0,h.setCurrentLevel)(t))},onClickNext:function(){return e((0,h.setNextLevel)())},onClickPrev:function(){return e((0,h.setPrevLevel)())},showPreview:function(t,n,r){return e((0,v.showPreview)(t,n,r))},hidePreview:function(){return e((0,v.hidePreview)())},setCamera:function(t){return e((0,h.setCamera)(t))}}})(w)},{"../../actions/current":7,"../../actions/preview":13,"../../selectors/cameras":101,"../../selectors/current":102,"../../selectors/snapshots":105,"../tooltip":71,classnames:void 0,lodash:void 0,react:void 0,"react-redux":void 0}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.viewMode,n=e.autoFollowMode,r=e.mdIsOn,o=(e.login,e.showHotKeysModal),a=(e.showLoginModal,e.setModeSingle),l=e.setModeSingleWide,s=e.setModeTwoVertical,c=e.setModeTwoHorizontal,d=e.setModeFour,p=e.setModeFullscreen,m=e.toggleIsAutoFollow,h=e.toggleMdIsOn,v=e.userAccess,y=t==g.VIEW_MODE.FULLSCREEN,S="premium"!==v;return i.default.createElement("div",{className:(0,f.default)("toolbar-wrap",{"hover-area top":y})},i.default.createElement("div",{className:"toolbar"},i.default.createElement(E.default,{label:"Keyboard Shortcuts",flow:y?"down":"up"},i.default.createElement("a",{className:"toolbar-icon btn-hotkeys",onClick:o})),i.default.createElement(b,null),i.default.createElement(E.default,{label:"Single Mode",flow:y?"down":"up"},i.default.createElement("a",{className:(0,f.default)("toolbar-icon","control_mode_0",{on:t===g.VIEW_MODE.SINGLE}),onClick:a})),i.default.createElement(E.default,{label:"Single Wide Mode",flow:y?"down":"up"},i.default.createElement("a",{className:(0,f.default)("toolbar-icon","control_mode_1",{on:t===g.VIEW_MODE.SINGLE_WIDE}),onClick:l})),i.default.createElement(E.default,{label:"2-View Mode",flow:y?"down":"up",mode:S?"premium":null},i.default.createElement("a",{className:(0,f.default)("toolbar-icon","control_mode_2",{on:t===g.VIEW_MODE.TWO_VERTICAL}),onClick:s})),i.default.createElement(E.default,{label:"2-View Mode",flow:y?"down":"up",mode:S?"premium":null},i.default.createElement("a",{className:(0,f.default)("toolbar-icon","control_mode_3",{on:t===g.VIEW_MODE.TWO_HORIZONTAL}),onClick:c})),i.default.createElement(E.default,{label:"4-View Mode",flow:y?"down":"up",mode:S?"premium":null},i.default.createElement("a",{className:(0,f.default)("toolbar-icon","control_mode_4",{on:t===g.VIEW_MODE.FOUR}),onClick:d})),i.default.createElement(E.default,{label:"Full screen mode",flow:y?"down":"up"},i.default.createElement("a",{className:(0,f.default)("toolbar-icon","control_mode_5",{on:t===g.VIEW_MODE.FULLSCREEN}),onClick:p})),i.default.createElement(b,null),i.default.createElement(E.default,{label:"Motion Detection",flow:y?"down":"up",mode:S?"premium":null},i.default.createElement("a",{className:(0,f.default)("toolbar-icon","md",{on:r}),onClick:h})),i.default.createElement(b,null),i.default.createElement(E.default,{label:u.default.t("hotkeys.autoFollow"),flow:y?"down":"up",mode:S?"premium":null},i.default.createElement("a",{className:(0,f.default)("toolbar-icon","af",{on:n===g.AUTO_FOLLOW_MODES.ALL}),onClick:function(){return m(null,g.AUTO_FOLLOW_MODES.ALL)}})),i.default.createElement(E.default,{label:"Auto-follow current apartment",flow:y?"down":"up",mode:S?"premium":null},i.default.createElement("a",{className:(0,f.default)("toolbar-icon","af_apt",{on:n===g.AUTO_FOLLOW_MODES.APARTMENT}),onClick:function(){return m(null,g.AUTO_FOLLOW_MODES.APARTMENT)}})),i.default.createElement(b,null),i.default.createElement(E.default,{label:"RLC Remote – control the website from your mobile device",flow:y?"down":"up",mode:S?"premium":null},i.default.createElement("a",{className:"toolbar-icon rlc-remote",href:"http://remote.reallifecam.com",target:"_blank"})),i.default.createElement(E.default,{label:"RLC Replay – watch your favorite cams in 24 hour recordings",flow:y?"down":"up",mode:S?"premium-tokens":null},i.default.createElement("a",{className:"toolbar-icon rlc-replay",href:"https://replay.reallifecam.com/?from=bar",target:"_blank"}))))}Object.defineProperty(n,"__esModule",{value:!0});var a=e("react"),i=r(a),l=e("react-redux"),s=e("i18next"),u=r(s),c=e("classnames"),f=r(c),d=e("../actions/current"),p=e("../actions/modal"),m=e("../actions/md"),h=e("../selectors/auth"),v=e("../selectors/current"),g=e("../consts"),y=e("./tooltip"),E=r(y),b=function(){return i.default.createElement("div",{className:"toolbar-divider"})};n.default=(0,l.connect)(function(e){return{mdIsOn:e.md.isOn,autoFollowMode:(0,v.getCurrentAutoFollowMode)(e),viewMode:(0,v.getViewMode)(e),login:e.auth.user.login,userAccess:(0,h.getAccess)(e)}},function(e){return{showHotKeysModal:function(){return e((0,p.modalShowHotkeys)())},showLoginModal:function(){
return e((0,p.modalShowLogin)())},setModeSingle:function(){return e((0,d.setModeSingle)())},setModeSingleWide:function(){return e((0,d.setModeSingleWide)())},setModeTwoVertical:function(){return e((0,d.setModeTwoVertical)())},setModeTwoHorizontal:function(){return e((0,d.setModeTwoHorizontal)())},setModeFour:function(){return e((0,d.setModeFour)())},setModeFullscreen:function(){return e((0,d.setModeFullscreen)())},toggleMdIsOn:function(){return e((0,m.toggleMdIsOn)())},toggleIsAutoFollow:function(t,n){return e((0,d.toggleIsAutoFollow)(t,n))}}})(o)},{"../actions/current":7,"../actions/md":9,"../actions/modal":10,"../consts":76,"../selectors/auth":100,"../selectors/current":102,"./tooltip":71,classnames:void 0,i18next:void 0,react:void 0,"react-redux":void 0}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("react"),a=r(o),i=e("react-redux"),l=e("classnames"),s=(r(l),e("../actions/modal")),u=e("../utils"),c=e("../consts"),f=function(){return a.default.createElement("span",{className:"divider"},"|")},d=a.default.createClass({displayName:"Footer",render:function(){var e=this.props,t=e.showLoginModal,n=(e.showGetNewsModal,e.login);return a.default.createElement("footer",{className:"footer"},a.default.createElement("div",{className:"wrap-flex"},a.default.createElement("div",{className:"copyright"},"© reallifecam.com ",a.default.createElement("img",{src:"/static/ng/styles/img/about_company.png",className:"about_company"})),a.default.createElement("div",{className:"menu"},a.default.createElement("a",{href:"/privacy"},"Privacy Policy"),a.default.createElement(f,null),a.default.createElement("a",{href:"/terms"},"Terms of Service"),a.default.createElement(f,null),a.default.createElement("a",{href:"/usc2257"},"18 U.S.C. 2257"),a.default.createElement(f,null),a.default.createElement("a",{href:"/support"},"Customer Support"),a.default.createElement(f,null),a.default.createElement("a",{href:"/faq"},"FAQ"),a.default.createElement(f,null),a.default.createElement("a",{onClick:u.onClickJoin,href:c.JOIN_URI},"Pricing"),!n&&a.default.createElement("a",{className:"btn btn-login",onClick:t},"Log In"))))}});n.default=(0,i.connect)(function(e){return{login:e.auth.user.login}},function(e){return{showLoginModal:function(){return e((0,s.modalShowLogin)())},showGetNewsModal:function(){return e((0,s.modalShowGetNews)())}}})(d)},{"../actions/modal":10,"../consts":76,"../utils":115,classnames:void 0,react:void 0,"react-redux":void 0}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("react"),a=r(o),i=e("./tooltip"),l=r(i),s=e("./user.panel"),u=r(s),c=function(){return a.default.createElement("header",{className:"header"},a.default.createElement("div",{className:"wrap-flex"},a.default.createElement("div",{className:"logo"},a.default.createElement(l.default,{label:"RealLifeCam.com",flow:"down"},a.default.createElement("a",{className:"logo-img",href:"/"})),a.default.createElement("span",{className:"slogan"},"The private life of other people live 24/7")),a.default.createElement(u.default,null)))};n.default=c},{"./tooltip":71,"./user.panel":72,react:void 0}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("react-redux"),f=e("react-hotkey"),d=r(f),p=e("../actions/current"),m=e("../actions/options"),h=e("../actions/modal"),v=e("../actions/panels"),g=e("../selectors/current"),y=e("../consts");d.default.activate("keydown");var E=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.handleHotkey=function(e){if("INPUT"!==e.nativeEvent.target.nodeName&&"TEXTAREA"!==e.nativeEvent.target.nodeName&&!e.nativeEvent.ctrlKey&&!e.nativeEvent.metaKey&&!r.props.landingMode)switch(e.nativeEvent.key){case"1":r.props.setModeSingle();break;case"2":r.props.setModeSingleWide();break;case"3":r.props.setModeTwoVertical();break;case"4":r.props.setModeTwoHorizontal();break;case"5":r.props.setModeFour();break;case"6":r.props.setModeFullscreen();break;case"Escape":r.props.viewMode===y.VIEW_MODE.FULLSCREEN?r.props.toggleFullscreen():r.props.isShowModal&&r.props.closeModal();break;case"ƒ":window.player.fullscreen();break;case"f":e.nativeEvent.altKey?window.player.fullscreen():r.props.toggleFullscreen();break;case"g":r.props.toggleAllGroupApartments();break;case"h":r.props.showHotkeysModal();break;case"A":r.props.toggleIsAutoFollowApartment();break;case"a":r.props.toggleIsAutoFollow();break;case"c":r.props.toggleIsCompactMenuMode();break;case"k":window.player.toggle();break;case"Right":case"ArrowRight":e.nativeEvent.shiftKey?r.props.setNextApartment():e.nativeEvent.altKey?r.props.setNextLevel():r.props.setNextCamera();break;case"Left":case"ArrowLeft":e.nativeEvent.shiftKey?r.props.setPrevApartment():e.nativeEvent.altKey?r.props.setPrevLevel():r.props.setPrevCamera();break;case"Tab":e.preventDefault(),e.nativeEvent.shiftKey?r.props.setPrevPlayer():r.props.setNextPlayer();break;case"Enter":e.nativeEvent.altKey&&(e.preventDefault&&e.preventDefault(),window.player.fullscreen())}},o=n,i(r,o)}return l(t,e),t.prototype.componentDidMount=function(){d.default.addHandler(this.handleHotkey)},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){d.default.removeHandler(this.handleHotkey)},t.prototype.render=function(){return null},t}(u.default.Component);n.default=(0,c.connect)(function(e){return{viewMode:(0,g.getViewMode)(e),isShowModal:e.modal.show,panels:e.panels,landingMode:e.config.landingMode}},function(e){return{showHotkeysModal:function(){return e((0,h.modalShowHotkeys)())},closeModal:function(){return e((0,h.modalClose)())},toggleAllGroupApartments:function(){return e((0,v.toggleAllGroupApartments)())},toggleIsAutoFollow:function(){return e((0,p.toggleIsAutoFollow)())},toggleIsAutoFollowApartment:function(){return e((0,p.toggleIsAutoFollow)(null,y.AUTO_FOLLOW_MODES.APARTMENT))},setModeSingle:function(){return e((0,p.setModeSingle)())},setModeSingleWide:function(){return e((0,p.setModeSingleWide)())},setModeTwoVertical:function(){return e((0,p.setModeTwoVertical)())},setModeTwoHorizontal:function(){return e((0,p.setModeTwoHorizontal)())},setModeFour:function(){return e((0,p.setModeFour)())},setModeFullscreen:function(){return e((0,p.setModeFullscreen)())},toggleFullscreen:function(){return e((0,p.toggleFullscreen)())},setNextCamera:function(){return e((0,p.setNextCamera)())},setNextApartment:function(){return e((0,p.setNextApartment)())},setPrevCamera:function(){return e((0,p.setPrevCamera)())},setPrevApartment:function(){return e((0,p.setPrevApartment)())},setNextPlayer:function(){return e((0,p.setNextPlayer)())},setPrevPlayer:function(){return e((0,p.setPrevPlayer)())},setNextLevel:function(){return e((0,p.setNextLevel)())},setPrevLevel:function(){return e((0,p.setPrevLevel)())},toggleIsCompactMenuMode:function(){return e((0,m.toggleIsCompactMenuMode)())}}})(E)},{"../actions/current":7,"../actions/modal":10,"../actions/options":11,"../actions/panels":12,"../consts":76,"../selectors/current":102,react:void 0,"react-hotkey":void 0,"react-redux":void 0}],31:[function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){var n,r,i;o(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=a(this,e.call.apply(e,[this].concat(s))),r.state={loading:!0,error:!1,imageUrl:null},r.load=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;e.src&&r.setState({error:!1,loading:!0},function(){return fetch(e.src,{headers:{"Content-Type":"arraybuffer","Cache-Control":"force-cache"}}).then(function(e){return e.blob()}).then(function(t){if(t){var n=r.props.src;if(n&&e.src===n){var o=window.URL||window.webkitURL,a=o.createObjectURL(t);r.setState({imageUrl:a,error:!1,loading:!1})}}}).catch(function(){r.setState({loading:!1,error:!0})})})},i=n,a(r,i)}return i(t,e),t.prototype.componentDidMount=function(){this.load()},t.prototype.componentWillReceiveProps=function(e){var t=this.props.src;e.src&&e.src!==t&&this.load(e)},t.prototype.render=function(){var e=this.props,t=e.onLoad,n=e.onError,r=e.className,o=e.alt,a=e.container,i=this.state,l=i.loading,u=i.error,c=i.imageUrl;if(u)return n(this.props);if(l)return t(this.props);if(a){var f=a;return s.default.createElement(f,{className:r},s.default.createElement("img",{src:c,alt:o}))}return s.default.createElement("img",{className:r,src:c,alt:o})},t}(s.default.Component);u.propTypes={alt:l.PropTypes.string,src:l.PropTypes.string.isRequired,className:l.PropTypes.string,onError:l.PropTypes.func,onLoad:l.PropTypes.func},u.defaultProps={alt:null,className:null,onError:function(e){return s.default.createElement("img",{alt:e.alt})},onLoad:function(e){return s.default.createElement("img",{alt:e.alt})}},n.default=u},{react:void 0}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("react"),a=r(o),i=e("react-redux"),l=e("i18next"),s=r(l),u=e("../selectors/auth"),c=a.default.createClass({displayName:"InfoBox",render:function(){return this.props.isShowPromo?a.default.createElement("div",{className:"panel infobox"},a.default.createElement("div",{className:"message",dangerouslySetInnerHTML:{__html:s.default.t("promo.content")}})):null}});n.default=(0,i.connect)(function(e){return{isShowPromo:(0,u.getIsShowPromo)(e)}},function(e){return{}})(c)},{"../selectors/auth":100,i18next:void 0,react:void 0,"react-redux":void 0}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("react"),f=r(c),d=e("prop-types"),p=r(d),m=e("react-redux"),h=e("i18next"),v=r(h),g=e("../actions/config"),y=e("../actions/landing"),E=e("../selectors/snapshots"),b=e("../consts"),S=e("../utils/events"),w=r(S),_=e("./snapshots/topcams.item"),T=r(_),O=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.state={keys:{marginTop:0,marginLeft:0,line:0}},r.clickDocument=function(){var e=r.props;(0,e.onExit)(e.landingMode!==b.LANDING_MODES.SCENES),w.default.siteOpen(),window.removeEventListener("click",r.clickDocument)},r.changeSize=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight,n=e/1.3+t/1.3,o=-(n-t)/2,a=-(n-e)/2;r.setState({keys:{line:n,marginTop:o,marginLeft:a}})},o=n,i(r,o)}return l(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.landingMode,n=e.onEnterScenesMode;this.changeSize(),document.body.classList.add("body-fix"),window.addEventListener("resize",this.changeSize),window.addEventListener("click",this.clickDocument),t===b.LANDING_MODES.SCENES&&n()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.changeSize),document.body.classList.remove("body-fix")},t.prototype.render=function(){var e=this.props,t=e.landingMode,n=e.snapOnLine,r=e.topcams;if(!t)return null;var o=this.state.keys,a=o.line,i=o.marginLeft,l=o.marginTop,s=2===t||3===t,u=r.slice(0,n);return f.default.createElement("div",null,s?f.default.createElement("div",{id:"LandingClickedBlock"}):null,s?f.default.createElement("div",{className:"landing"},f.default.createElement("div",{className:"keys"},3===t?f.default.createElement("p",{style:{marginLeft:i,marginTop:l,height:a,width:a}},this.keywords):null),f.default.createElement("div",{className:"snapshots"},f.default.createElement("div",{className:"snapshots-block"},u.map(function(e,t){return f.default.createElement(T.default,{data:e,key:e.name,number:t})})))):null)},u(t,[{key:"keywords",get:function(){for(var e=v.default.t("keywords:keywords").split(","),t=[],n=e.length,r=void 0,o=this.state.keys.line,a=o/90*o/20,i=0;i<a;i+=1){var l=Math.floor(Math.random()*n);void 0!==r&&l===r&&(l=(l+1)%n),t.push(e[l]),r=l}return t.join(" * ")}}]),t}(f.default.Component);O.propTypes={onEnterScenesMode:p.default.func.isRequired,landingMode:p.default.number,snapOnLine:p.default.number.isRequired,onExit:p.default.func.isRequired,topcams:p.default.arrayOf(p.default.shape()).isRequired},O.defaultProps={landingMode:null},n.default=(0,m.connect)(function(e){return{landingMode:e.config.landingMode,currentScene:e.landing.currentScene,snapOnLine:e.snapshots.common.snapOnLine,sendStartStream:e.config.sendStartStream,topcams:E.getSnapshotsData[b.SNAP_TYPES.TOP_CAMS](e)}},function(e){return{disableLM:function(){return e((0,g.configSetLM)(null))},unmute:function(){return e((0,g.configSetMuted)(!1))},initSendStartStream:function(){return e((0,g.configSetSendStartStream)(!0))},getLandingScenes:function(){return e((0,y.getLandingScenes)())},selectNextScene:function(){return e((0,y.selectNextScene)())}}},function(e,t){return s({},e,{onEnterScenesMode:function(){var n=e.currentScene;return t.getLandingScenes().then(function(){n||t.selectNextScene()})},onExit:function(n){n&&t.disableLM(),t.unmute(),void 0===e.sendStartStream&&t.initSendStartStream()}})})(O)},{"../actions/config":3,"../actions/landing":8,"../consts":76,"../selectors/snapshots":105,"../utils/events":112,"./snapshots/topcams.item":67,i18next:void 0,"prop-types":void 0,react:void 0,"react-redux":void 0}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("react"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=e("react-redux"),i=e("../../actions/modal"),l=function(e){var t=e.close;return o.default.createElement("div",{className:"modal-close",onClick:t},"×")};n.default=(0,a.connect)(function(e){return{}},function(e){return{close:function(){return e((0,i.modalClose)())}}})(l)},{"../../actions/modal":10,react:void 0,"react-redux":void 0}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("react-redux"),f=e("classnames"),d=r(f),p=e("i18next"),m=r(p),h=e("../../consts"),v=e("../../utils/fetch"),g=e("./close.btn"),y=r(g),E=function(e){function t(){a(this,t);var n=i(this,e.call(this));return n.state={isFetching:!1,error:!1},n.dayCost=20,n.handleSubmit=n.handleSubmit.bind(n),n}return l(t,e),t.prototype.handleSubmit=function(e){var t=this;e.preventDefault(),this.setState({isFetching:!0,error:!1}),(0,v.fetch)("convert",{url:h.CONVERT_URI,retries:0,type:"POST"}).then(function(e){if(e.success)return void location.reload(!0);throw new Error}).catch(function(e){t.setState({error:!0}),t.setState({isFetching:!1})})},t.prototype.render=function(){var e=this.props.balance,t=this.state,n=t.isFetching,r=t.error,o=Math.max(Math.floor(e/this.dayCost),0);return u.default.createElement("div",{className:"modal-container convert"},u.default.createElement("div",{className:"modal-body"},u.default.createElement(y.default,null),u.default.createElement("h1",{className:"modal-title"},m.default.t("modals.convert_tokens.title")),u.default.createElement("p",{className:"modal-info",dangerouslySetInnerHTML:{__html:m.default.t("modals.convert_tokens.balance",{balance:e,count:o})}}),u.default.createElement("p",{className:"modal-info",dangerouslySetInnerHTML:{__html:m.default.t("modals.convert_tokens.rate")}}),u.default.createElement("button",{className:(0,d.default)("btn","btn-convert",{"btn-loader":n}),onClick:this.handleSubmit,dangerouslySetInnerHTML:{__html:m.default.t("modals.convert_tokens.button",{days_count:o,count:o})}}),r?u.default.createElement("div",{className:"alert"},"Ooops, something went wrong"):null))},t}(u.default.Component);n.default=(0,c.connect)(function(e){return{balance:e.auth.balance}},function(e){return{}})(E)},{"../../consts":76,"../../utils/fetch":113,"./close.btn":34,classnames:void 0,i18next:void 0,react:void 0,"react-redux":void 0}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var u=e("react"),c=r(u),f=e("../../utils"),d=e("./close.btn"),p=r(d),m=function(e){function t(){var n,r,o;i(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return n=r=l(this,e.call.apply(e,[this].concat(s))),r.state={email:"",status:null},o=n,l(r,o)}return s(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.handleChange=function(e){this.setState(a({},e.target.name,e.target.value))},t.prototype.validation=function(e){if(""!==e){if(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}/i.test(e))return!0}return this.setState({error:"Please enter a valid email address"}),!1},t.prototype.handleSubmit=function(e){e.preventDefault();var t=this.state.email;this.validation(t)&&(this.setState({status:"pending"}),this.subscribe())},t.prototype.subscribe=function(e,t){var n=this,r={};void 0!==e&&""!==e&&(r.email=e),void 0!==this.fabiasPholo&&(r.fabiasPholo=this.fabiasPholo),void 0!==this.fabiasOsholo&&(r.fabiasOsholo=this.fabiasOsholo),void 0!==t&&(r.finger=t),void 0===this.requestIter&&(this.requestIter=0),fetch("/resources/subscribe",{method:"POST",cache:!1,body:(0,f.createFormData)(r),credentials:"include"}).then(function(e){return e.json()}).then(function(t){n.requestIter+=1,void 0!==t.fabiasPholo?n.fabiasPholo=t.fabiasPholo:void 0!==t.fabiasOsholo?(n.fabiasOsholo=t.fabiasOsholo,n.requestIter<3&&(0,f.getFingerprint)().then(function(t){return n.subscribe(e,t)})):(n.fabiasPholo=void 0,n.fabiasOsholo=void 0,n.requestIter=void 0,n.setState({status:"info"}))})},t.prototype.render=function(){var e=this.state,t=e.email,n=e.status,r=e.error;return"pending"===n?c.default.createElement("div",{className:"modal login"},c.default.createElement(p.default,null),c.default.createElement("div",{className:"getnews-container ajax"})):c.default.createElement("div",{className:"modal-container getnews"},c.default.createElement("div",{className:"modal-body"},c.default.createElement(p.default,null),n?c.default.createElement("span",null,c.default.createElement("h2",{className:"modal-title"},"Thank you for your interest in our newsletter!"),c.default.createElement("p",{className:"modal-info"},"We first need to confirm your email address. To complete the process,",c.default.createElement("br",null),"please click the link in the email we just sent you.")):c.default.createElement("span",null,c.default.createElement("h2",{className:"modal-title"},"Subscribe to our newsletters",c.default.createElement("br",null),"and stay informed!"),c.default.createElement("form",{className:"modal-form"},c.default.createElement("div",{className:"form-group"},c.default.createElement("input",{type:"text",name:"email",className:"mail-icon",placeholder:"Enter your email",value:t,onChange:this.handleChange}),c.default.createElement("input",{type:"submit",id:"subscribe",value:"Subscribe",onClick:this.handleSubmit}))),!!r&&c.default.createElement("div",{className:"message"},c.default.createElement("span",{className:"alert"},r)))))},t}(c.default.Component);n.default=m},{"../../utils":115,"./close.btn":34,react:void 0}],37:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return i.default.createElement("div",{className:"modal-container hotkeys"},i.default.createElement("div",{className:"modal-body"},i.default.createElement(c.default,null),i.default.createElement("h1",{className:"modal-title"},s.default.t("hotkeys.title")),i.default.createElement("div",{className:"hk_panel"},i.default.createElement("div",{className:"hk_group"},i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",{className:"keys"}," → "),i.default.createElement("kbd",null,"⇧")),i.default.createElement("dd",null,s.default.t("hotkeys.change-apartments-next"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",{className:"keys"}," ← "),i.default.createElement("kbd",null,"⇧")),i.default.createElement("dd",null,s.default.t("hotkeys.change-apartments-previous")))),i.default.createElement("div",{className:"hk_group"},i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",{className:"keys"}," → ")),i.default.createElement("dd",null,s.default.t("hotkeys.change-cameras-next"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",{className:"keys"}," ← ")),i.default.createElement("dd",null,s.default.t("hotkeys.change-cameras-previous")))),i.default.createElement("div",{className:"hk_group"},i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",null,"Tab")),i.default.createElement("dd",null,s.default.t("hotkeys.change-players-next"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",null,"Tab"),i.default.createElement("kbd",null,"⇧")),i.default.createElement("dd",null,s.default.t("hotkeys.change-players-previous")))),i.default.createElement("div",{className:"hk_group"},i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",null,"1..6")),i.default.createElement("dd",null,s.default.t("hotkeys.toggle-mode"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",null,"F")),i.default.createElement("dd",null,s.default.t("hotkeys.full-screen-mode"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",null,"A")),i.default.createElement("dd",null,s.default.t("hotkeys.autoFollow"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",null,"A"),i.default.createElement("kbd",null,"⇧")),i.default.createElement("dd",null,s.default.t("hotkeys.autoFollowApartment"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",null,"G")),i.default.createElement("dd",null,s.default.t("hotkeys.toggle-groups"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",null,"C")),i.default.createElement("dd",null,s.default.t("hotkeys.toggle-compact-menu")))),i.default.createElement("div",{className:"hk_group"},i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",null,"H")),i.default.createElement("dd",null,s.default.t("hotkeys.show-help"))),i.default.createElement("dl",null,i.default.createElement("dt",null,i.default.createElement("kbd",null,"Esc")),i.default.createElement("dd",null,s.default.t("hotkeys.close-window")))))))}Object.defineProperty(n,"__esModule",{value:!0});var a=e("react"),i=r(a),l=e("i18next"),s=r(l),u=e("./close.btn"),c=r(u);n.default=o},{"./close.btn":34,i18next:void 0,react:void 0}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("react-redux"),f=e("react-transition-group"),d=e("classnames"),p=r(d),m=e("../../consts"),h=e("../../actions/modal"),v=e("./login"),g=r(v),y=e("./hotkeys"),E=r(y),b=e("./premium"),S=r(b),w=e("./standard"),_=r(w),T=e("./getnews"),O=r(T),M=e("./convert"),A=r(M),P=function(e){switch(e.type){case m.MODAL_TYPES.PREMIUM:return u.default.createElement(S.default,null);case m.MODAL_TYPES.HOTKEY:return u.default.createElement(E.default,null);case m.MODAL_TYPES.LOGIN:return u.default.createElement(g.default,null);case m.MODAL_TYPES.STANDARD:return u.default.createElement(_.default,null);case m.MODAL_TYPES.GET_NEWS:return u.default.createElement(O.default,null);case m.MODAL_TYPES.CONVERT:return u.default.createElement(A.default,null);default:return null}},C=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onClickOverlay=function(e){var t=r.props.close;r.node===e.target&&t()},o=n,i(r,o)}return l(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props.show;e.show!==t&&(e.show?document.querySelector("body").classList.add("body-fix"):document.querySelector("body").classList.remove("body-fix"))},t.prototype.render=function(){var e=this,t=this.props,n=t.show,r=t.type;return u.default.createElement(f.Transition,{in:n,timeout:{enter:0,exit:200},mountOnEnter:!0,unmountOnExit:!0,exit:!0},function(t){return u.default.createElement("div",{className:(0,p.default)("modal","modal_"+t),ref:function(t){e.node=t},onClick:e.onClickOverlay},u.default.createElement(P,{type:r}))})},t}(u.default.Component);n.default=(0,c.connect)(function(e){return{show:e.modal.show,type:e.modal.type}},function(e){return{close:function(){return e((0,h.modalClose)())}}})(C)},{"../../actions/modal":10,"../../consts":76,"./convert":35,"./getnews":36,"./hotkeys":37,"./login":39,"./premium":41,"./standard":42,classnames:void 0,react:void 0,"react-redux":void 0,"react-transition-group":void 0}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var u=e("react"),c=r(u),f=e("react-redux"),d=e("classnames"),p=r(d),m=e("i18next"),h=r(m),v=e("../../utils"),g=e("../../consts"),y=e("../../actions/auth"),E=e("./close.btn"),b=r(E),S=function(e){function t(n){i(this,t);var r=l(this,e.call(this,n));return r.onChange=function(e){r.setState({error:null}),r.setState(a({},e.target.name,e.target.value))},r.handleSubmit=function(e){e.preventDefault();var t=r.state,n=t.email,o=t.password,a=function(e){return r.setState(e)};r.props.login(n,o,a)},r.state={email:"",password:"",isFetching:!1,error:null,cookieError:void 0===(0,v.getCookie)("guest_tkt")},r}return s(t,e),t.prototype.render=function(){
var e=this.state,t=e.email,n=e.password,r=e.isFetching,o=e.error;return e.cookieError?c.default.createElement("div",{className:"modal-container login"},c.default.createElement("div",{className:"modal-body"},c.default.createElement(b.default,null),c.default.createElement("p",{className:"modal-info"},h.default.t("errors.cookies")))):c.default.createElement("div",{className:"modal-container login"},c.default.createElement("div",{className:"modal-body"},c.default.createElement(b.default,null),c.default.createElement("h1",{className:"modal-title"},"Log In"),c.default.createElement("p",{className:"modal-info"},"Login or Join to get the access"),c.default.createElement("form",{className:"modal-form",onSubmit:this.handleSubmit},c.default.createElement("div",{className:"form-group"},c.default.createElement("input",{className:"email",type:"email",name:"email",placeholder:"Email",value:t,onChange:this.onChange}),c.default.createElement("input",{className:"password",type:"password",name:"password",placeholder:"Password",value:n,onChange:this.onChange}),c.default.createElement("button",{className:(0,p.default)("btn","btn-login",{"btn-loader":r}),type:"submit"},"Login"),c.default.createElement("div",{className:"alert",dangerouslySetInnerHTML:{__html:o}})))),c.default.createElement("div",{className:"modal-footer"},c.default.createElement("div",{className:"message"},c.default.createElement("span",{className:"alert"},"Not a member?")),c.default.createElement("div",{className:"button"},c.default.createElement("a",{className:"btn btn-join",onClick:v.onClickJoin,href:g.JOIN_URI},"Join Now"))))},t}(c.default.Component);n.default=(0,f.connect)(function(e){return{}},function(e){return{login:function(t,n,r){return e((0,y.login)({login:t,password:n},r))}}})(S)},{"../../actions/auth":2,"../../consts":76,"../../utils":115,"./close.btn":34,classnames:void 0,i18next:void 0,react:void 0,"react-redux":void 0}],40:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=e.featureId,n=e.dataset,r=m[t];return t&&r?"function"==typeof r?r(n):s.default.createElement("div",{className:"modal-body-right"},r.image&&s.default.createElement(d.default,{container:"div",className:"feature-image",src:r.image,alt:r.text,onLoad:function(){return s.default.createElement("div",{className:"feature-image loading"})}}),s.default.createElement("span",{className:"feature-description",dangerouslySetInnerHTML:{__html:r.text()}})):s.default.createElement("div",{className:"modal-body-right"},s.default.createElement("span",{className:"feature-description feature-description--global",dangerouslySetInnerHTML:{__html:c.default.t("modals.get_premium.features.default.text")}}))}Object.defineProperty(n,"__esModule",{value:!0}),n.FEATURES=void 0;var i,l=e("react"),s=r(l),u=e("i18next"),c=r(u),f=e("../../image.load"),d=r(f),p=n.FEATURES={APARTMENTS:"apartments",MOTION_DETECTION:"md",MULTIVIEWER:"multiviewer",SNAPSHOTS:"snapshots",PREVIEW:"preview",AUTOFOLLOW:"autofollow",FULLSCREEN:"fullscreen",REMOTE:"remote",REPLAY:"replay"},m=(i={},o(i,p.APARTMENTS,function(e){return s.default.createElement("div",{className:"modal-body-right"},s.default.createElement("div",{className:"feature-description--apts"},s.default.createElement("h3",{className:"feature-description--apts__title"},c.default.t("modals.get_premium.features.apartments.text",{apartments_count:e.length})),s.default.createElement("ul",{className:"feature-description--apts__body"},e.map(function(e){return s.default.createElement("li",null,e.name)}))))}),o(i,p.MOTION_DETECTION,{text:function(){return c.default.t("modals.get_premium.features.md.text")},image:"/static/ng/styles/img/join/feature3.png"}),o(i,p.MULTIVIEWER,{text:function(){return c.default.t("modals.get_premium.features.multiviewer.text")},image:"/static/ng/styles/img/join/feature4.png"}),o(i,p.SNAPSHOTS,{text:function(){return c.default.t("modals.get_premium.features.snapshots.text")},image:"/static/ng/styles/img/join/feature5.png"}),o(i,p.PREVIEW,{text:function(){return c.default.t("modals.get_premium.features.preview.text")},image:"/static/ng/styles/img/join/feature10_2.png"}),o(i,p.AUTOFOLLOW,{text:function(){return c.default.t("modals.get_premium.features.autofollow.text")},image:"/static/ng/styles/img/join/feature6.png"}),o(i,p.FULLSCREEN,{text:function(){return c.default.t("modals.get_premium.features.fullscreen.text")},image:"/static/ng/styles/img/join/feature7.png"}),o(i,p.REMOTE,{text:function(){return c.default.t("modals.get_premium.features.remote.text")},image:"/static/ng/styles/img/join/feature8.png"}),o(i,p.REPLAY,{text:function(){return c.default.t("modals.get_premium.features.replay.text")},image:"/static/ng/styles/img/join/feature9.png"}),i);n.default=a},{"../../image.load":31,i18next:void 0,react:void 0}],41:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}function s(e){var t=e.title,n=e.id,r=e.onMouseEnter;return c.default.createElement("span",{className:"feature active","data-id":n,onMouseEnter:r},t)}Object.defineProperty(n,"__esModule",{value:!0});var u=e("react"),c=r(u),f=e("react-redux"),d=e("i18next"),p=r(d),m=e("../../../selectors/apartments"),h=e("../../../actions/modal"),v=e("../../../utils"),g=e("../../../consts"),y=e("./description"),E=r(y),b=e("../close.btn"),S=r(b),w=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.state={currentFeature:null,dataset:null},r.onClickLogin=function(e){e.preventDefault(),(0,r.props.showLoginModal)()},r.onMouseEnterItem=function(e){var t=e.target.dataset.id,n=r.props.data;r.setState({currentFeatureId:t,dataset:t===y.FEATURES.APARTMENTS?n.apartments:{}})},r.onMouseLeaveBlock=function(){r.setState({currentFeatureId:null,dataset:null})},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this.props.data,t=this.state,n=t.currentFeatureId,r=t.dataset,o=e.camsCount-e.camsCount%10;return c.default.createElement("div",{className:"modal-container premium-feature"},c.default.createElement("div",{className:"modal-body"},c.default.createElement(S.default,null),c.default.createElement("h2",{className:"modal-title",dangerouslySetInnerHTML:{__html:p.default.t("modals.get_premium.title")}}),c.default.createElement("div",{className:"feature-block",onMouseLeave:this.onMouseLeaveBlock},c.default.createElement("div",{className:"modal-body-left"},c.default.createElement("div",{className:"info-block"},c.default.createElement("h3",{className:"subtitle"},p.default.t("modals.get_premium.first_subtitle")),c.default.createElement("ul",{className:"features"},c.default.createElement("li",null,c.default.createElement(s,{id:y.FEATURES.APARTMENTS,title:p.default.t("modals.get_premium.features.apartments.title",{apartments_count:e.apartments.length,cams_count:o}),onMouseEnter:this.onMouseEnterItem})),c.default.createElement("li",null,c.default.createElement(s,{id:y.FEATURES.MULTIVIEWER,title:p.default.t("modals.get_premium.features.multiviewer.title"),onMouseEnter:this.onMouseEnterItem})),c.default.createElement("li",null,c.default.createElement(s,{id:y.FEATURES.MOTION_DETECTION,title:p.default.t("modals.get_premium.features.md.title"),onMouseEnter:this.onMouseEnterItem})),c.default.createElement("li",null,c.default.createElement(s,{id:y.FEATURES.SNAPSHOTS,title:p.default.t("modals.get_premium.features.snapshots.title"),onMouseEnter:this.onMouseEnterItem})),c.default.createElement("li",null,c.default.createElement(s,{id:y.FEATURES.PREVIEW,title:p.default.t("modals.get_premium.features.preview.title"),onMouseEnter:this.onMouseEnterItem})),c.default.createElement("li",null,c.default.createElement(s,{id:y.FEATURES.AUTOFOLLOW,title:p.default.t("modals.get_premium.features.autofollow.title"),onMouseEnter:this.onMouseEnterItem})),c.default.createElement("li",null,c.default.createElement(s,{id:y.FEATURES.FULLSCREEN,title:p.default.t("modals.get_premium.features.fullscreen.title"),onMouseEnter:this.onMouseEnterItem})),c.default.createElement("li",null,c.default.createElement(s,{id:y.FEATURES.REMOTE,title:p.default.t("modals.get_premium.features.remote.title"),onMouseEnter:this.onMouseEnterItem}))),c.default.createElement("h3",{className:"subtitle"},p.default.t("modals.get_premium.second_subtitle")),c.default.createElement("ul",{className:"features"},c.default.createElement("li",null,c.default.createElement(s,{id:y.FEATURES.REPLAY,title:p.default.t("modals.get_premium.features.replay.title"),onMouseEnter:this.onMouseEnterItem}))))),c.default.createElement(E.default,{featureId:n,dataset:r}))),c.default.createElement("div",{className:"modal-footer"},c.default.createElement("a",{className:"btn btn-premium",href:g.JOIN_URI,onClick:v.onClickJoin},p.default.t("modals.get_premium.footer.join_button")),c.default.createElement("div",{className:"message"},c.default.createElement("span",{className:"alert"},p.default.t("modals.get_premium.footer.login_label")," ",c.default.createElement("a",{onClick:this.onClickLogin},p.default.t("modals.get_premium.footer.login_button"))))))},t}(c.default.Component);n.default=(0,f.connect)(function(e){return{data:(0,m.getDataForPremiumModal)(e)}},function(e){return{showLoginModal:function(){return e((0,h.modalShowLogin)())}}})(w)},{"../../../actions/modal":10,"../../../consts":76,"../../../selectors/apartments":99,"../../../utils":115,"../close.btn":34,"./description":40,i18next:void 0,react:void 0,"react-redux":void 0}],42:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("react"),a=r(o),i=e("react-redux"),l=e("i18next"),s=r(l),u=e("./close.btn"),c=r(u),f=e("../../actions/modal"),d=e("../../utils"),p=e("../../consts"),m=a.default.createClass({displayName:"StandardModal",onClickLogin:function(e){e.preventDefault(),this.props.showLoginModal()},render:function(){return a.default.createElement("div",{className:"modal-container standard"},a.default.createElement("div",{className:"modal-body"},a.default.createElement(c.default,null),a.default.createElement("h1",{className:"modal-title"},s.default.t("modals.for_members_only.title")),a.default.createElement("p",{className:"modal-info"},s.default.t("modals.for_members_only.text")),a.default.createElement("a",{className:"btn btn-standard",onClick:d.onClickJoin,href:p.JOIN_URI},s.default.t("modals.for_members_only.get_membership"))),a.default.createElement("div",{className:"modal-footer"},a.default.createElement("div",{className:"message"},a.default.createElement("span",{className:"alert"},"Already a member?"),a.default.createElement("div",{className:"button"},a.default.createElement("a",{className:"btn btn-login",onClick:this.onClickLogin},"Login here")))))}});n.default=(0,i.connect)(function(e){return{}},function(e){return{showLoginModal:function(){return e((0,f.modalShowLogin)())}}})(m)},{"../../actions/modal":10,"../../consts":76,"../../utils":115,"./close.btn":34,i18next:void 0,react:void 0,"react-redux":void 0}],43:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("prop-types"),f=r(c),d=e("react-redux"),p=e("reconnecting-websocket"),m=r(p),h=e("../../actions/apartments"),v="/ws/content",g=function(e){function t(){a(this,t);var n=i(this,e.call(this));return n.connect=function(){var e=n.props.wsUrl;if(!(n.socket&&n.socket.connected||!e))try{n.socket=new m.default(e+v,[]),n.socket.onopen=function(){},n.socket.onerror=function(e){},n.socket.onclose=function(){},n.socket.onmessage=function(e){if(e.data){var t=void 0;try{t=JSON.parse(e.data)}catch(e){return}switch(t.type){case"apartment":n.handleApartment(t.action,t.data)}}}}catch(e){}},n.handleApartment=function(e,t){var r=n.props.updateApartment;switch(e){case"update":r(t)}},n.socket=null,n}return l(t,e),t.prototype.componentDidMount=function(){this.connect()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this.disconnect()},t.prototype.disconnect=function(){this.socket&&this.socket.readyState!==this.socket.CLOSED||this.socket.close()},t.prototype.render=function(){return null},t}(u.default.Component);g.propTypes={wsUrl:f.default.string},g.defaultProps={wsUrl:""},n.default=(0,d.connect)(function(e){return{wsUrl:e.config.wsUrl}},function(e){return{updateApartment:function(t){return e((0,h.updateApartment)(t))}}})(g)},{"../../actions/apartments":1,"prop-types":void 0,react:void 0,"react-redux":void 0,"reconnecting-websocket":void 0}],44:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("react"),c=r(u),f=e("react-redux"),d=e("classnames"),p=r(d),m=e("lodash"),h=r(m),v=e("../../../selectors/auth"),g=e("../../../selectors/current"),y=e("../../../actions/current"),E=e("../../../actions/preview"),b=e("../utils"),S=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return l(t,e),t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r="translate("+(t-10)+" "+(n-14)+") scale(2,2)";return c.default.createElement("path",{className:"cls-1",d:"M9.32,5.39H8.21V3.45A3.22,3.22,0,0,0,5.21,0,3.25,3.25,0,0,0,1.72,3a3.84,3.84,0,0,0,0,.48V5.38h-1A.67.67,0,0,0,0,6H0v6.28A.67.67,0,0,0,.67,13H9.32a.68.68,0,0,0,.68-.66h0V6.07a.66.66,0,0,0-.66-.68h0ZM5.45,10v1H4.56V10a1.18,1.18,0,0,1-.69-1.52,1.2,1.2,0,0,1,1.54-.68A1.17,1.17,0,0,1,6.1,9.27h0a1.35,1.35,0,0,1-.69.68ZM7,5.39H3.08V3.45a1.84,1.84,0,0,1,1.67-2h.12A1.91,1.91,0,0,1,6.92,3.18h0Z",transform:r})},t}(c.default.Component),w=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onClick=function(e){r.props.setCamera(r.camera.camera)},r.onMouseMove=function(e){"maintenance"!==r.props.apartment.status&&"maintenance"!==r.camera.status&&r.props.showPreview(e,r.props.link)},r.onMouseLeave=function(){r.props.hidePreview()},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this.props,t=e.a,n=e.b,r=(e.type,e.number),o=(e.current,e._id),a=(e.link,e.apartment,e.currentCamera),i=e.md,l=e.userAccess,s=this.camera;if(void 0==s)return c.default.createElement("svg",null);var u=r.length>1?14:7,f=[t,(0,b.getCoordPoint)(t,n,50,1),(0,b.getCoordPoint)(t,n,50,-1)],d=f.map(function(e){return e[0]+","+e[1]}).join(" "),m=c.default.createElement(S,{x:t[0],y:t[1]}),h="camera",v="url(#grad"+o+")";return"public"===s.access||"premium"===l||"private"===s.access&&"guest"!==l?m=c.default.createElement("text",{x:t[0]-u,y:t[1]+9,fill:"#fff"},r):h=(0,p.default)(h,"lock"),1==i[s.camera]&&(h=(0,p.default)(h,"motion"),v="url(#motion"+o+")"),a.camera==s.camera&&(h=(0,p.default)(h,"active"),v="url(#active"+o+")"),c.default.createElement("svg",{className:h,onClick:this.onClick},c.default.createElement("linearGradient",{id:"grad"+o,className:"main",gradientUnits:"userSpaceOnUse",x1:t[0],y1:t[1],x2:n[0],y2:n[1]},c.default.createElement("stop",{offset:"0%",stopColor:"#ccc",stopOpacity:"0.9"}),c.default.createElement("stop",{offset:"100%",stopColor:"#ccc",stopOpacity:"0"})),c.default.createElement("linearGradient",{id:"motion"+o,className:"motion",gradientUnits:"userSpaceOnUse",x1:t[0],y1:t[1],x2:n[0],y2:n[1]},c.default.createElement("stop",{offset:"0%",stopColor:"#51c62a",stopOpacity:"0.9"}),c.default.createElement("stop",{offset:"100%",stopColor:"#51c62a",stopOpacity:"0"})),c.default.createElement("linearGradient",{id:"active"+o,className:"active",gradientUnits:"userSpaceOnUse",x1:t[0],y1:t[1],x2:n[0],y2:n[1]},c.default.createElement("stop",{offset:"0%",stopColor:"#fcf981",stopOpacity:"0.9"}),c.default.createElement("stop",{offset:"100%",stopColor:"#fcf981",stopOpacity:"0"})),c.default.createElement("polygon",{points:d,fill:v}),c.default.createElement("g",{onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},c.default.createElement("circle",{cx:t[0],cy:t[1],r:20,fill:"#21a81f"}),m))},s(t,[{key:"camera",get:function(){var e=this.props,t=e.apartment,n=e.link;return this.cam&&this.cam.camera==n?this.cam:(this.cam=h.default.find(t.cameras,{camera:n}),this.cam)}}]),t}(c.default.Component);n.default=(0,f.connect)(function(e){return{apartment:(0,g.getCurrentApartment)(e),currentCamera:(0,g.getCurrentCamera)(e),userAccess:(0,v.getAccess)(e),md:e.md.cameras}},function(e){return{setCamera:function(t){return e((0,y.setCamera)(t))},showPreview:function(t,n){return e((0,E.showPreview)(t,n,"no-arrow","left",!1))},hidePreview:function(){return e((0,E.hidePreview)())}}})(w)},{"../../../actions/current":7,"../../../actions/preview":13,"../../../selectors/auth":100,"../../../selectors/current":102,"../utils":53,classnames:void 0,lodash:void 0,react:void 0,"react-redux":void 0}],45:[function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=(e("react-redux"),e("../utils")),c=function(e){function t(n){return o(this,t),a(this,e.call(this,n))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.a,n=e.b,r=e.c,o=(e.type,e.number,e.current,e._id,Math.sqrt(Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2))),a=0,i=(0,u.getCoordPoint)(t,n,o,1);return i[0]==r[0]&&i[1]==r[1]&&(a=1),s.default.createElement("svg",{className:"door"},s.default.createElement("path",{d:"M"+t[0]+","+t[1]+" A"+o+","+o+" 0 0,"+a+" "+r[0]+","+r[1],stroke:"#000",strokeWidth:1,fill:"none"}),s.default.createElement("line",{x1:n[0],y1:n[1],x2:r[0],y2:r[1],strokeWidth:2,stroke:"#000"}),s.default.createElement("line",{x1:t[0],y1:t[1],x2:n[0],y2:n[1],strokeWidth:4,stroke:"#fff",className:"aperture"}))},t}(s.default.Component);n.default=c},{"../utils":53,react:void 0,"react-redux":void 0}],46:[function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=(e("react-redux"),function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.points,n=(e.current,e._id,t.map(function(e){return e[0]+","+e[1]}));return n=n.join(" "),s.default.createElement("svg",{className:"filling"},s.default.createElement("polygon",{points:n}))},t}(s.default.Component));n.default=u},{react:void 0,"react-redux":void 0}],47:[function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=(e("react-redux"),function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.a,n=e.b;e.current,e._id;return s.default.createElement("svg",{className:"glass"},s.default.createElement("line",{x1:t[0],y1:t[1],x2:n[0],y2:n[1],strokeWidth:4,stroke:"#3ab5d6",onClick:this.onclick}))},t}(s.default.Component));n.default=u},{react:void 0,"react-redux":void 0}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.Filling=n.Door=n.Stairs=n.Pool=n.Glass=n.Camera=n.Wall=void 0;var o=e("./wall"),a=r(o),i=e("./camera"),l=r(i),s=e("./glass"),u=r(s),c=e("./pool"),f=r(c),d=e("./stairs"),p=r(d),m=e("./door"),h=r(m),v=e("./filling"),g=r(v);n.Wall=a.default,n.Camera=l.default,n.Glass=u.default,n.Pool=f.default,n.Stairs=p.default,n.Door=h.default,n.Filling=g.default},{"./camera":44,"./door":45,"./filling":46,"./glass":47,"./pool":49,"./stairs":50,"./wall":51}],49:[function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=(e("react-redux"),function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.points,n=(e.number,e.current,e._id,t.map(function(e){return e[0]+","+e[1]}));return n=n.join(" "),s.default.createElement("svg",{className:"pool"},s.default.createElement("polygon",{points:n,onClick:this.onclick,fill:"#a1e0ff"}))},t}(s.default.Component));n.default=u},{react:void 0,"react-redux":void 0}],50:[function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=(e("react-redux"),e("../utils")),c=function(e,t,n,r,o){var a=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),i=o/a;return[e+(n-e)*i,t+(r-t)*i]},f=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.a,n=e.b,r=e.step,o=e.r,a=(e.current,e._id,[]);if((t[0]!=n[0]||t[1]!=n[1])&&r>1){var i=Math.sqrt(Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2)),l=(0,u.getCoordPoint)(t,n,o,1),f=(0,u.getCoordPoint)(n,t,o,-1);a.push(s.default.createElement("line",{x1:l[0],y1:l[1],x2:f[0],y2:f[1],stroke:"grey",key:"mainleft"})),l=(0,u.getCoordPoint)(t,n,o,-1),f=(0,u.getCoordPoint)(n,t,o,1),a.push(s.default.createElement("line",{x1:l[0],y1:l[1],x2:f[0],y2:f[1],stroke:"grey",key:"mainright"}));for(var d=0;d<i;d+=Number(r)){var p=c(t[0],t[1],n[0],n[1],d),m=(0,u.getCoordPoint)(n,p,o,1),h=(0,u.getCoordPoint)(n,p,o,-1);a.push(s.default.createElement("line",{x1:m[0],y1:m[1],x2:h[0],y2:h[1],stroke:"grey",key:"stairs."+d}))}}return s.default.createElement("svg",{className:"stairs"},a)},t}(s.default.Component);n.default=f},{"../utils":53,react:void 0,"react-redux":void 0}],51:[function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=(e("react-redux"),function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.a,n=e.b,r=e.type,o=(e.current,e._id,4),a="wall_inner";return 1==r&&(o=8,a="wall_external"),s.default.createElement("svg",{className:a},s.default.createElement("line",{x1:t[0],y1:t[1],x2:n[0],y2:n[1],strokeWidth:o,stroke:"#000"}))},t}(s.default.Component));n.default=u},{react:void 0,"react-redux":void 0}],52:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("react-redux"),f=e("lodash"),d=r(f),p=e("classnames"),m=r(p),h=e("../../selectors/current"),v=e("../../actions/panels"),g=e("./components"),y=function(e){switch(e.type){case 0:return u.default.createElement(g.Wall,{a:e.a,b:e.b,type:0,key:e.id,_id:e.id});case 1:return u.default.createElement(g.Wall,{a:e.a,b:e.b,type:1,key:e.id,_id:e.id});case 2:return u.default.createElement(g.Glass,{a:e.a,b:e.b,key:e.id,_id:e.id});case 3:return u.default.createElement(g.Camera,{a:e.a,b:e.b,number:e.number,camera:e.camera,key:e.id,_id:e.id,link:e.camera});case 4:return u.default.createElement(g.Door,{a:e.a,b:e.b,c:e.c,key:e.id,_id:e.id});case 5:return u.default.createElement(g.Stairs,{a:e.a,b:e.b,step:e.step,r:e.r,key:e.id,_id:e.id});case 6:return u.default.createElement(g.Pool,{points:e.points,key:e.id,_id:e.id});case 7:return u.default.createElement(g.Filling,{points:e.points,key:e.id,_id:e.id})}},E=function(e){switch(e){case 0:return 1;case 1:return 7;case 2:return 8;case 3:return 10;case 4:return 9;case 5:return 0;case 6:return 2;case 7:return-1;default:return 0}},b=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onClickTitle=function(e){e.preventDefault(),r.props.setShowPlan(!r.props.isShow)},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this.props,t=e.apartment,n=e.currentCamera,r=e.isShow,o=e.level,a=t.planSVG2[o]||[],i=d.default.sortBy(a,function(e){return 3==e.type&&n.camera==e.camera?E(e.type)+1:E(e.type)}).map(function(e,t){return y(e)});return u.default.createElement("div",{className:(0,m.default)("map",{closed:!r})},u.default.createElement("div",{className:"map-title",onClick:!r&&this.onClickTitle
},u.default.createElement("span",{className:"title"},"Apartment plan"),u.default.createElement("i",{className:(0,m.default)({"icon-opened":r,"icon-closed":!r}),onClick:r&&this.onClickTitle})),u.default.createElement("div",{className:(0,m.default)("map-plan",{closed:!r})},u.default.createElement("svg",{width:200,height:140,viewBox:"0 0 500 348"},i)))},t}(u.default.Component);n.default=(0,c.connect)(function(e){return{apartment:(0,h.getCurrentApartment)(e),currentCamera:(0,h.getCurrentCamera)(e),isShow:e.panels.plan,level:(0,h.getCurrentLevel)(e)}},function(e){return{setShowPlan:function(t){return e((0,v.setShowPanel)("plan",t))}}})(b)},{"../../actions/panels":12,"../../selectors/current":102,"./components":48,classnames:void 0,lodash:void 0,react:void 0,"react-redux":void 0}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.getCoords=function(e){var t=e.getBoundingClientRect(),n=document.documentElement,r=document.body,o=window.pageYOffset||n.scrollTop||r.scrollTop,a=window.pageXOffset||n.scrollLeft||r.scrollLeft,i=n.clientTop||r.clientTop||0,l=n.clientLeft||r.clientLeft||0,s=t.top+o-i,u=t.left+a-l;return{top:Math.round(s),left:Math.round(u)}},n.getCoordPoint=function(e,t,n,r){var o=e[0],a=t[0],i=e[1],l=t[1],s=Math.sqrt(Math.pow(a-o,2)+Math.pow(l-i,2));return[a+(l-i)*r*Math.abs(n/s),l+(a-o)*-r*Math.abs(n/s)]},n.rounding=function(e,t){return Math.round(e/t)*t}},{}],54:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.error,n=e.onRepeat,r=e.message;switch(t){case v.DURATION_LIMIT:return i.default.createElement(f,{repeat:n});case v.DURATION_LIMIT_DAY:return i.default.createElement(p,null);case v.SAFARI_FLASH:return i.default.createElement(m,null);case v.CONNECTION_FAILED:return i.default.createElement(h,{repeat:n});case v.CUSTOM_MESSAGE:return i.default.createElement(d,{message:r});default:return null}}Object.defineProperty(n,"__esModule",{value:!0}),n.ERRORS=void 0;var a=e("react"),i=r(a),l=e("i18next"),s=r(l),u=e("../../utils"),c=e("../../consts"),f=function(e){var t=e.repeat;return i.default.createElement("div",{className:"fp-message"},i.default.createElement("div",{className:"fp-message-container duration-limit-guest"},i.default.createElement("i",{className:"icon guest"}),i.default.createElement("h1",null,s.default.t("errors.duration-limit-guest.title")),i.default.createElement("a",{className:"btn btn-grey",title:s.default.t("buttons.continue-watching"),onClick:t},s.default.t("buttons.continue-watching")),i.default.createElement("a",{onClick:u.onClickJoin,href:c.JOIN_URI,className:"btn btn-premium",title:s.default.t("buttons.buy-membership")},s.default.t("buttons.buy-membership"))))},d=function(e){return i.default.createElement("div",{className:"fp-message"},i.default.createElement("div",{className:"fp-message-container"},i.default.createElement("h2",null,s.default.t(e.message))))},p=function(){return i.default.createElement("div",{className:"fp-message"},i.default.createElement("div",{className:"fp-message-container duration-limit-guest-day"},i.default.createElement("i",{className:"icon guest-day"}),i.default.createElement("h1",null,s.default.t("errors.duration-limit-guest-day.title")),i.default.createElement("a",{onClick:u.onClickJoin,href:c.JOIN_URI,className:"btn btn-premium",title:s.default.t("buttons.buy-membership")},s.default.t("buttons.buy-membership"))))},m=function(){return i.default.createElement("div",{className:"fp-message"},i.default.createElement("div",{className:"fp-message-container safari_flash"},i.default.createElement("i",{className:"icon safari_flash"}),i.default.createElement("h1",{dangerouslySetInnerHTML:{__html:s.default.t("errors.safari_flash.title")}}),i.default.createElement("a",{href:"https://helpx.adobe.com/flash-player/kb/enabling-flash-player-safari.html",className:"btn btn-grey",title:s.default.t("buttons.go_to_adobe"),target:"_blank"},s.default.t("buttons.go_to_adobe"))))},h=function(e){var t=e.repeat;return i.default.createElement("div",{className:"fp-message"},i.default.createElement("div",{className:"fp-message-container connection_fail"},i.default.createElement("i",{className:"icon connection_fail"}),i.default.createElement("h1",{dangerouslySetInnerHTML:{__html:s.default.t("errors.connection_fail.title")}}),i.default.createElement("a",{className:"btn btn-grey",title:s.default.t("buttons.try_again"),onClick:t},s.default.t("buttons.try_again"))))},v=n.ERRORS={DURATION_LIMIT:"ErrorDurationLimit",DURATION_LIMIT_DAY:"ErrorDurationLimitDay",SAFARI_FLASH:"ErrorSafariFlash",CONNECTION_FAILED:"ErrorConnectionFailed",CUSTOM_MESSAGE:"ErrorCustomMessage"};n.default=o},{"../../consts":76,"../../utils":115,i18next:void 0,react:void 0}],55:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("lodash"),u=e("react"),c=r(u),f=e("prop-types"),d=r(f),p=e("ua-parser-js"),m=r(p),h=e("i18next"),v=r(h),g=e("../../consts"),y=e("../../utils"),E=e("../../libs/bugsnag"),b=r(E),S=e("../../libs/flowplayer"),w=r(S),_={WARNING:1e4,ERROR:2e4},T=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.beforePlayTime=0,r.connectionTime=0,r.bufferTime=0,r.firstBuffered=!0,r.bufferTimeouts={warning:null,error:null},r.handleStop=function(){r.player.stop(),r.clearTimeouts()},r.onBufferTimeoutError=function(){(0,r.props.onError)(g.PLAYER_ERRORS.BUFFER_TIMEOUT)},r.onBufferTimeoutWarning=function(){(0,r.props.onError)(g.PLAYER_ERRORS.BUFFER_TIMEOUT_WARNING)},r.startTimeouts=function(){r.clearTimeouts(),r.bufferTimeouts.warning=setTimeout(r.onBufferTimeoutWarning,_.WARNING),r.bufferTimeouts.error=setTimeout(r.onBufferTimeoutError,_.ERROR)},r.clearTimeouts=function(){clearTimeout(r.bufferTimeouts.warning),clearTimeout(r.bufferTimeouts.error)},r.initPlayer=function(){var e=r.props,t=e.addAction,n=e.addPlayerError,o=e.number,a=e.userType,i=e.onRepeat;r.countReconectRejected=0,r.countReconect=0,t("player.init."+o,"general",{swf:g.SWF_PLAYER,flashVideo:w.default.support.flashVideo,flashVersion:w.default.support.flashVersion}),r.player=(0,w.default)(r.refs.player,{debug:!1,swf:(0,y.isSupportHtml5Video)()?g.SWF_PLAYER:"origin",poster:!1,timeOut:1e4,rtmpt:!1,bufferTime:3,embed:!1,keyboard:!1,autoplay:!0,key:"#$cad8307b5ecf1baf1d6",scrubber:!1,bgcolor:"#000000",scale:"scale",clip:{live:!0},onBeforeResume:i}).on("ready",function(e,n){var a=r.props,i=a.player,l=a.isMuted;r.clearTimeouts(),r.bufferTime=Date.now(),t("player.buffered."+o,"regular",{edge:(0,y.getEdgeFromUrl)(i.playlist),camera:i.camera}),r.firstBuffered?(t("buffered","regular",{time:r.bufferTime-r.connectionTime,edge:(0,y.getEdgeFromUrl)(i.playlist)},"player"),r.firstBuffered=!1):t("buffer_full","regular",{time:r.bufferTime-r.connectionTime,edge:(0,y.getEdgeFromUrl)(i.playlist)},"player"),(l||i.isMutedPlayer)&&n.volume(0),r.countReconectRejected=0,r.countReconect=0}).on("error",function(e,o,a){var l=r.props,s=l.player.playlist,u=l.setExclude,c=l.onError,f=l.showMessage,d=Number(a.code);switch(n(a.message,s),d){case g.PLAYER_ERRORS.CONNECTION_PROBLEM:r.countReconectRejected<2&&(r.countReconectRejected+=1,i());break;case g.PLAYER_ERRORS.SAFARI_FLASH:try{var p=(new m.default).getResult(),h=Number(p.browser.major);"Safari"===p.browser.name&&h>=10&&"mobile"!==p.device.type&&f("errors.safari_flash")}catch(e){}break;case g.PLAYER_ERRORS.NET_CONNECTION_FAILED:case g.PLAYER_ERRORS.TIMEOUT:case g.PLAYER_ERRORS.STRANGE_1:case g.PLAYER_ERRORS.STRANGE_2:t("connection.failed."+a.code,"regular",{edge:(0,y.getEdgeFromUrl)(s),time:0},"player"),r.countReconect<10&&(r.countReconect+=1,u(s.netConnectionUrl),i())}c(d,o.conf.errors[a.code],o)}).on("rejected",function(e,t,n){var o=r.props.showMessage,a=o(n);a&&r.player.trigger("info",[r.player,v.default.t(a)])}).on("pause",function(e,t){var n=r.props,a=n.viewMode,i=n.autoFollow,l=n.disableAutoFollow,s=n.isChangingCamera;a===g.VIEW_MODE.FULLSCREEN||s||i.player!==o||l(),t.stop()}).on("swf_ready",function(){(0,r.props.onInit)(),i()}).on("volume",function(e,t,n){r.props.isMuted||(r.volume=n)}).on("mute",function(e,t,n,o){var a=r.props.setIsMuted;o&&a(n)}).on("buffer_empty",function(){(0,r.props.onError)(g.PLAYER_ERRORS.BUFFER_EMPTY)}).on("connect",function(){var e=r.props,n=e.onPlay,a=e.player,i=a.playlist,l=a.camera;n(),r.startTimeouts(),r.connectionTime=Date.now(),r.firstBuffered=!0,t("player.connect."+o,"regular",{edge:(0,y.getEdgeFromUrl)(i),camera:l}),t("play","regular",{time:r.connectionTime-r.beforePlayTime,edge:(0,y.getEdgeFromUrl)(i)},"player")}).on("disconnect",function(){var e=r.props.player,n=e.playlist,a=e.camera;console.log("disconnect"),t("player.disconnect."+o,"regular",{edge:(0,y.getEdgeFromUrl)(n),camera:a}),t("disconnect","regular",{edge:(0,y.getEdgeFromUrl)(n),time:0},"player"),r.isDisconnected=!0,i()}).on("unpublish_notify",function(){var e=r.props.player,n=e.playlist,a=e.camera;t("player.unpublish."+o,"regular",{edge:(0,y.getEdgeFromUrl)(n),camera:a}),console.log("unpublish"),r.isDisconnected=!0,i()}).on("startload",function(){var e=r.props.wrapperID;document.querySelector("#"+e+" .fp-ui").classList.remove("before_swf_load")}).on("replay_icon",function(){var e=r.props,t=e.language,n=e.player.camera;window.open("//replay.reallifecam.com/"+t+"/view/"+n.camera+"?from=player","_blank")}).on("logStore",function(e,t,n){b.default.notify("player.log"+Date.now(),"logStore",{message:n})}),a===g.USER_TYPES.GUEST&&r.player.setLive(),i()},r.handlePlay=function(){var e=r.props,t=e.player,n=t.playlist,o=t.camera,a=e.wrapperID,i=e.addAction,l=e.number;r.player.error=!1;try{document.querySelector("#"+a+" .flowplayer").classList.remove("is-error")}catch(e){}if("http"===n.provider)return void r.player.poster(!0,n.url);r.player.black_poster&&r.player.poster(!1),i("player.play."+l,"regular",{edge:(0,y.getEdgeFromUrl)(n),camera:o}),i("connect","regular",{edge:(0,y.getEdgeFromUrl)(n),time:0},"player"),r.beforePlayTime=Date.now(),r.player.play({sources:[{src:n.netConnectionUrl+"/"+n.url,type:"video/flash",quality:n.quality}],live:!0,guest_screen:n.guest_screen})},o=n,i(r,o)}return l(t,e),t.prototype.componentDidMount=function(){this.initPlayer()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.player.playlist,r=t.isMuted,o=t.isChangingCamera,a=t.isCurrent;o&&!e.isChangingCamera&&this.handleStop();var i=e.player.playlist.stamp;(n.stamp&&!i||n.stamp!==e.player.playlist.stamp)&&this.handlePlay(),r!==e.isMuted&&r!==this.player.muted&&(this.player.mute(r),this.player.volume(r?0:1)),a&&(window.player=this.player)},t.prototype.componentWillUnmount=function(){this.handleStop()},t.prototype.render=function(){return c.default.createElement("div",{ref:"player",className:"no-time black play-button"})},t}(c.default.Component);T.propTypes={userType:d.default.oneOf((0,s.values)(g.USER_TYPES)).isRequired,language:d.default.string,number:d.default.number.isRequired,addAction:d.default.func,addPlayerError:d.default.func,showMessage:d.default.func,player:d.default.shape({camera:d.default.shape().isRequired,playlist:d.default.shape()}).isRequired,isMuted:d.default.bool,viewMode:d.default.oneOf((0,s.values)(g.VIEW_MODE)).isRequired,autoFollow:d.default.shape({mode:d.default.oneOf((0,s.values)(g.AUTO_FOLLOW_MODES)),player:d.default.number}),isChangingCamera:d.default.bool,setExclude:d.default.func.isRequired,isCurrent:d.default.bool.isRequired,wrapperID:d.default.string.isRequired,onRepeat:d.default.func.isRequired,onError:d.default.func.isRequired,disableAutoFollow:d.default.func.isRequired,onInit:d.default.func.isRequired,setIsMuted:d.default.func.isRequired,onPlay:d.default.func.isRequired},T.defaultProps={language:"en",addAction:function(){},addPlayerError:function(){},showMessage:function(){},isMuted:!1,autoFollow:null,isChangingCamera:!1},n.default=T},{"../../consts":76,"../../libs/bugsnag":80,"../../libs/flowplayer":83,"../../utils":115,i18next:void 0,lodash:void 0,"prop-types":void 0,react:void 0,"ua-parser-js":void 0}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var u=e("react"),c=r(u),f=e("prop-types"),d=r(f),p=e("react-redux"),m=e("classnames"),h=r(m),v=e("lodash"),g=r(v),y=e("../../consts"),E=e("../../config"),b=e("../../actions/current"),S=e("./landing.scenes"),w=r(S),_=e("./player.component"),T=r(_),O=function(e){function t(){var n,r,o;i(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return n=r=l(this,e.call.apply(e,[this].concat(s))),r.state={style:{}},r.handleLandingMode=function(){switch(r.props.landingMode){case 1:r.fullscreen();break;case 2:case 3:r.showLandingMode2(),r.resize()}},r.resize=function(){var e=document.querySelector(".landing-mode3 .landing .snapshots"),n=document.documentElement.clientHeight,o=document.documentElement.clientWidth,a=n-Math.max(e&&e.clientHeight,152)-60,i=a/t.RATIO;i<=o?r.setState({style:{width:i}}):r.setState({style:{width:o*t.RATIO}})},r.showLandingMode2=function(){r.resize(),window.addEventListener("resize",r.resize)},r.cancelLandingMode=function(){r.cancelFullscreen(),window.removeEventListener("resize",r.resize),r.setState({style:{}})},o=n,l(r,o)}return s(t,e),t.prototype.componentWillMount=function(){var e=this.props.number;this.id="player_"+e},t.prototype.componentDidMount=function(){this.handleLandingMode()},t.prototype.componentWillReceiveProps=function(e){var t=this.props,n=t.viewMode,r=t.landingMode;e.viewMode!==n&&e.currentPlayer==e.number&&(e.viewMode==y.VIEW_MODE.FULLSCREEN?this.fullscreen():e.viewMode!=y.VIEW_MODE.FULLSCREEN&&n==y.VIEW_MODE.FULLSCREEN&&this.cancelFullscreen()),!e.landingMode&&r&&this.cancelLandingMode()},t.prototype.fullscreen=function(){try{document.body.classList.add("body-fix"),document.querySelector("#"+this.id+" .fp-player").classList.add("full_screen")}catch(e){}},t.prototype.cancelFullscreen=function(){try{document.body.classList.remove("body-fix"),document.querySelector("#"+this.id+" .fp-player").classList.remove("full_screen")}catch(e){}},t.prototype.render=function(){var e=this.props,n=e.viewMode,r=e.number,o=e.currentPlayer,i=e.handlerClick,l=e.autoFollow,s=e.landingMode,u=this.state.style,f=g.default.includes(t.MULTI_PLAYER_VIEW_MODES,n);return c.default.createElement("div",{id:this.id,onClick:i,style:u,className:(0,h.default)("video-img",a({active:f&&r==o,hidden:n==y.VIEW_MODE.FULLSCREEN&&r!=o},"landing-mode"+s,s))},l.player==r&&c.default.createElement("div",{className:(0,h.default)({"icon-auto":l.mode===y.AUTO_FOLLOW_MODES.ALL,"icon-auto_apt":l.mode===y.AUTO_FOLLOW_MODES.APARTMENT})}),s===y.LANDING_MODES.SCENES&&E.IS_NEW_PLAYER?c.default.createElement(w.default,null):c.default.createElement(T.default,{number:r,wrapperID:this.id}))},t}(c.default.Component);O.propTypes={landingMode:d.default.number,number:d.default.number.isRequired,currentPlayer:d.default.number.isRequired,autoFollow:d.default.shape({mode:d.default.oneOf(g.default.values(y.AUTO_FOLLOW_MODES)),player:d.default.number}),handlerClick:d.default.func.isRequired,viewMode:d.default.oneOf(g.default.values(y.VIEW_MODE)).isRequired},O.defaultProps={landingMode:null,autoFollow:{}},O.RATIO=9/16,O.MULTI_PLAYER_VIEW_MODES=[y.VIEW_MODE.TWO_HORIZONTAL,y.VIEW_MODE.TWO_VERTICAL,y.VIEW_MODE.FOUR],n.default=(0,p.connect)(function(e){return{viewMode:e.current.viewMode,currentPlayer:e.current.player,landingMode:e.config.landingMode,autoFollow:e.current.isAutoFollow}},function(e,t){return{handlerClick:function(){return e((0,b.setCurrentPlayer)(t.number))}}})(O)},{"../../actions/current":7,"../../config":75,"../../consts":76,"./landing.scenes":57,"./player.component":59,classnames:void 0,lodash:void 0,"prop-types":void 0,react:void 0,"react-redux":void 0}],57:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("prop-types"),f=r(c),d=e("react-redux"),p=e("../../../actions/config"),m=e("../../../actions/landing"),h=e("../../../selectors/auth"),v=e("../../../utils/events"),g=r(v),y=e("../videojs.player"),E=r(y),b=e("./previews"),S=r(b),w=.3,_=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.state={isShowPreviews:!1},r.firstPlay=!0,r.handlePlay=function(){r.firstPlay&&(r.firstPlay=!1,g.default.initPlayer())},r.handleStop=function(e){var t=r.props.onEnded,n=e.target.children[0];if(n.duration-n.currentTime>=w)return n.pause(),void r.setState({isShowPreviews:!0});t()},r.handleSelectScene=function(e){(0,r.props.onSelectScene)(e),r.setState({isShowPreviews:!1}),g.default.clickPlay()},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.scene,r=t.playlistBase,o=t.scenes,a=t.windowWidth,i=t.userId,l=t.isMuted,s=t.onEnded,c=t.unmute,f=this.state.isShowPreviews;if(!r||!n)return null;var d=r&&n&&("//hls.static.reallifecam.com/hola/static/resources/"+r).replace("camera",n.camera).replace("ts",n.ts);return u.default.createElement("div",{ref:function(t){e.node=t}},f?u.default.createElement(S.default,{scenes:o,windowWidth:a,onSelectScene:this.handleSelectScene}):u.default.createElement(E.default,{player:{playlist:{src:d},camera:n.camera},onPlay:this.handlePlay,onEnded:s,onStop:this.handleStop,unmute:c,number:0,userId:i,isMuted:l,isTryRepeat:!1}))},t}(u.default.Component);_.propTypes={onSelectScene:f.default.func.isRequired,onEnded:f.default.func.isRequired,unmute:f.default.func,scene:f.default.shape(),playlistBase:f.default.string,scenes:f.default.shape(),windowWidth:f.default.number,userId:f.default.string.isRequired,isMuted:f.default.bool},_.defaultProps={unmute:function(){},scene:null,playlistBase:"",scenes:null,isMuted:!1,windowWidth:null},n.default=(0,d.connect)(function(e){return{scenes:e.landing.data,scene:e.landing.currentScene,playlistBase:e.landing.data.playlist,windowWidth:e.window.width,userId:(0,h.getUserId)(e),isMuted:e.config.isMuted}},function(e){return{onSelectScene:function(t){return e((0,m.setCurrentScene)(t))},onEnded:function(){return e((0,m.selectNextScene)())},unmute:function(){return(0,p.configSetMuted)(!1)}}})(_)},{"../../../actions/config":3,"../../../actions/landing":8,"../../../selectors/auth":100,"../../../utils/events":112,"../videojs.player":60,"./previews":58,"prop-types":void 0,react:void 0,"react-redux":void 0}],58:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("react"),c=r(u),f=e("prop-types"),d=r(f),p=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onClickHandlers={},r.rowsCount=3,r.updateColsCount=function(){var e=r.state.colsCount,t=r.colsCount;e!==t&&r.setState({colsCount:t})},r.getImgSrc=function(e){return("//hls.static.reallifecam.com/hola/static/resources/"+r.props.scenes.thumbnail).replace("camera",e.camera).replace("ts",e.ts)},r.getOnClickHandler=function(e){var t=JSON.stringify(e);return r.onClickHandlers[t]||(r.onClickHandlers[t]=r.onClick.bind(r,e)),r.onClickHandlers[t]},r.onClick=function(e){(0,r.props.onSelectScene)(e)},o=n,i(r,o)}return l(t,e),t.prototype.componentDidMount=function(){this.setState({colsCount:this.colsCount})},t.prototype.componentDidUpdate=function(e){this.props.windowWidth!==e.windowWidth&&this.updateColsCount()},t.prototype.render=function(){var e=this,t=this.props.scenes.scenes,n=this.state.colsCount;if(0===t.length)return c.default.createElement("div",{className:"LandingPreviews",ref:function(t){e.wrapper=t}});var r=this.rowsCount*n,o=t.slice(0,r);return c.default.createElement("div",{className:"LandingPreviews",ref:function(t){e.wrapper=t}},c.default.createElement("div",{className:"LandingPreviews_Wrap"},o.map(function(t){return c.default.createElement("div",{role:"button",key:t.camera+":"+t.ts,className:"LandingPreviews_Thumb",onClick:e.getOnClickHandler(t)},c.default.createElement("img",{src:e.getImgSrc(t)}))})))},s(t,[{key:"colsCount",get:function(){return Math.floor(this.wrapper.offsetWidth/241)}}]),t}(c.default.Component);p.propTypes={windowWidth:d.default.number.isRequired,scenes:d.default.shape().isRequired,onSelectScene:d.default.func.isRequired},n.default=p},{"prop-types":void 0,react:void 0}],59:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("prop-types"),f=r(c),d=e("react-redux"),p=e("lodash"),m=r(p),h=e("url"),v=r(h),g=e("../../actions/current"),y=e("../../actions/config"),E=e("../../selectors/auth"),b=e("../../selectors/current"),S=e("../../utils"),w=e("../../utils/fetch"),_=e("../../utils/events"),T=r(_),O=e("../../consts"),M=e("../../config"),A=e("../../libs/bugsnag"),P=r(A),C=e("../../slivax"),N=e("./errors"),x=r(N),L=e("./flowplayer"),I=r(L),R=e("./videojs.player"),k=r(R),D={COUNT_TO_REACTION:3,TIME_FROM_LAST:60},j=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.state={error:null,errorMessage:null,isChangingCamera:!1,stopUrl:null},r.bufferError={count:0,lastTime:null,lastPlaylist:null,reactionCount:0},r.addPlayerError=function(e){var t=r.props,n=t.addError,o=t.player.playlist,a=void 0;try{a=o.netConnectionUrl.split(".")[0].split("//")[1]}catch(e){a=void 0}n(e,{server:a,access:o.access,stream:o.url})},r.showMessage=function(e){switch(r.setState({errorMessage:null}),e){case"errors.duration-limit-guest":r.setState({error:N.ERRORS.DURATION_LIMIT});break;case"errors.duration-limit-guest-day":r.setState({error:N.ERRORS.DURATION_LIMIT_DAY});break;case"errors.safari_flash":r.setState({error:N.ERRORS.SAFARI_FLASH});break;case"errors.connection-failed":r.setState({error:N.ERRORS.CONNECTION_FAILED});break;default:r.setState({error:N.ERRORS.CUSTOM_MESSAGE,errorMessage:e})}},r.onError=function(e,t){var n=r.props,o=n.isActive,a=n.player.playlist;switch(e){case O.PLAYER_ERRORS.BUFFER_TIMEOUT:r.onBufferFullTimeout();break;case O.PLAYER_ERRORS.BUFFER_TIMEOUT_WARNING:r.onBufferFullTimeoutWarning();break;case O.PLAYER_ERRORS.BUFFER_EMPTY:r.onBufferEmpty();break;default:void 0!==P.default&&o&&P.default.notify("player.error",e+":"+t,{playlist:a})}},r.onPlay=function(){var e=r.props,t=e.player.playlist,n=e.sendStartStream,o=e.disableSendStartStream;n&&(T.default.startStream(),o()),t!==r.bufferError.lastPlaylist&&(r.bufferError.count=0,r.bufferError.lastTime=null,r.bufferError.lastPlaylist=null)},r.onInit=function(){r.props.landingMode&&T.default.initPlayer()},r.onBufferEmpty=function(){var e=r.props,t=e.player.playlist,n=e.number,o=e.addAction;r.addPlayerError("player.buffer_empty."+n),o("buffer_empty","regular",{edge:(0,S.getEdgeFromUrl)(t),time:0},"player");var a=(0,S.getTimestamp)();r.bufferError.lastPlaylist&&r.bufferError.lastPlaylist.url!==t.url||r.bufferError.lastTime&&!(a-r.bufferError.lastTime<D.TIME_FROM_LAST)?r.bufferError.count=1:r.bufferError.count+=1,r.bufferError.lastTime=a,r.bufferError.lastPlaylist=t,r.bufferError.count>=D.COUNT_TO_REACTION&&(r.bufferError.reactionCount+=1,r.bufferError.count=0,r.onBufferFail())},r.onBufferFail=function(){var e=r.props,t=e.player.playlist,n=e.number,o=e.addAction;r.addPlayerError("player.buffer_fail."+n),o("buffer_fail","regular",{edge:(0,S.getEdgeFromUrl)(t),count:r.bufferError.reactionCount},"player"),r.repeat()},r.onBufferFullTimeout=function(){var e=r.props,t=e.player.playlist,n=e.number,o=e.addAction;r.addPlayerError("player.buffer_full_timeout."+n),o("buffer_full_timeout","regular",{edge:(0,S.getEdgeFromUrl)(t)},"player"),r.repeat()},r.onBufferFullTimeoutWarning=function(){var e=r.props,t=e.player.playlist,n=e.number,o=e.addAction;r.addPlayerError("player.buffer_full_timeout_warning."+n),o("buffer_full_timeout_warning","regular",{edge:(0,S.getEdgeFromUrl)(t)},"player")},r.onStop=function(){var e=r.state.stopUrl;e&&(r.setState({stopUrl:null}),(0,w.fetch)("stopSession",{type:"GET",url:e,cache:!1,timeoutOverall:12e3,timeoutItem:5e3,interval:500}))},r.fetchPlaylist=function(){var e=r.props,t=e.player,n=e.addAction,o=e.excludeList,a=e.number,i=e.savePlaylist,l=t.camera;if(l.playlist&&"premium"!==l.access){r.onStop(),r.setState({isChangingCamera:!0,error:null}),!m.default.isEmpty(t.playlist)&&t.playlist.netConnectionUrl&&n("stop","regular",{edge:(0,S.getEdgeFromUrl)(t.playlist),time:0},"player");var s="",u="",c="";try{var f=(0,g.getExcludedEdges)(o,15),d=m.default.map(f,function(e){return e.name}),p=(0,S.getPrior)();s=d?JSON.stringify(d):null,u=p?JSON.stringify(p):null,c=(0,S.getBalanced)()}catch(e){}var h={_:(0,S.getTimestamp)()};c&&(h.balanced=c),s&&(h.exe=s),u&&(h.prior=u),M.IS_NEW_PLAYER&&(h.type="hls"),r.fetch=(0,w.fetch)("playlist"+a,{type:"GET",url:l.playlist+v.default.format({query:h}),cache:!1,timeoutOverall:12e3,timeoutItem:5e3,interval:500,success:function(e){r.props.player.camera.camera===l.camera&&(i(e),r.setState({isChangingCamera:!1,stopUrl:e.stop}))},error:function(e){r.showMessage("errors."+m.default.get(e,"error","connection-failed")),r.setState({isChangingCamera:!1})}})}},r.repeat=function(){r.fetchPlaylist()},o=n,i(r,o)}return l(t,e),t.prototype.componentDidMount=function(){this.fetchPlaylist(),this.props.landingMode&&(this.initRestartPlayerTimer=setInterval(this.repeat,24e4))},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.player,r=t.landingMode;n.show&&n.camera.playlist&&n.camera.playlist!==e.player.camera.playlist&&this.fetchPlaylist(),n.show&&!e.player.show&&this.fetchPlaylist(),!r&&this.initRestartPlayerTimer&&(this.initRestartPlayerTimer=clearInterval(this.initRestartPlayerTimer))},t.prototype.componentWillUnmount=function(){this.fetch&&m.default.isFunction(this.fetch.cancel)&&this.fetch.cancel(),this.initRestartPlayerTimer&&(this.initRestartPlayerTimer=clearInterval(this.initRestartPlayerTimer))},t.prototype.render=function(){var e=this.props,t=e.number,n=e.addAction,r=e.userType,o=e.language,a=e.player,i=e.isMuted,l=e.setIsMuted,s=e.disableAutoFollow,c=e.viewMode,f=e.autoFollow,d=e.wrapperID,p=e.unmute,m=e.setExclude,h=e.currentPlayerNumber,v=e.userId,g=this.state,y=g.error,E=g.errorMessage,b=g.isChangingCamera;return u.default.createElement("span",null,u.default.createElement(x.default,{error:y,message:E,onRepeat:this.repeat}),M.IS_NEW_PLAYER?u.default.createElement(k.default,{number:t,addAction:n,addPlayerError:this.addPlayerError,player:a,isMuted:i,onPlay:this.onPlay,onRepeat:this.repeat,onInit:this.onInit,isChangingCamera:b,unmute:p,userId:v}):u.default.createElement(I.default,{language:o,number:t,addAction:n,addPlayerError:this.addPlayerError,autoFollow:f,player:a,isMuted:i,setIsMuted:l,viewMode:c,showMessage:this.showMessage,userType:r,onRepeat:this.repeat,onError:this.onError,onPlay:this.onPlay,onInit:this.onInit,wrapperID:d,isChangingCamera:b,setExclude:m,isCurrent:t===h,disableAutoFollow:s}))},t}(u.default.Component);j.propTypes={number:f.default.number.isRequired,landingMode:f.default.number,sendStartStream:f.default.bool,disableSendStartStream:f.default.func.isRequired,player:f.default.shape({camera:f.default.shape().isRequired,playlist:f.default.shape()}).isRequired,currentPlayerNumber:f.default.number.isRequired,isMuted:f.default.bool,isActive:f.default.bool,viewMode:f.default.oneOf(m.default.values(O.VIEW_MODE)).isRequired,autoFollow:f.default.shape({mode:f.default.oneOf(m.default.values(O.AUTO_FOLLOW_MODES)),player:f.default.number})},j.defaultProps={landingMode:null,sendStartStream:null,isMuted:!1,isActive:!1,autoFollow:{}},n.default=(0,
d.connect)(function(e,t){return{player:e.current.players[t.number],currentPlayerNumber:e.current.player,autoFollow:e.current.autoFollow,excludeList:e.current.excludeList,language:e.current.language,isMuted:e.config.isMuted,landingMode:e.config.landingMode,sendStartStream:e.config.sendStartStream,viewMode:(0,b.getViewMode)(e),isActive:(0,E.getIsActive)(e),userType:(0,E.getUserType)(e),userId:(0,E.getUserId)(e)}},function(e,t){return{savePlaylist:function(n){return e((0,g.setPlaylistToPlayer)(t.number,n))},setExclude:function(t){return e((0,g.setExclude)(t))},addAction:function(t,n,r,o){return e((0,C.addAction)(t,n,r,o))},addError:function(t,n){return e((0,C.addError)(t,n))},disableAutoFollow:function(){return e((0,g.setIsAutoFollow)(void 0))},setIsMuted:function(n){return e((0,g.setIsMutedToPlayer)(t.number,n))},disableSendStartStream:function(){return e((0,y.configSetSendStartStream)(!1))},unmute:function(){return e((0,y.configSetMuted)(!1))}}})(j)},{"../../actions/config":3,"../../actions/current":7,"../../config":75,"../../consts":76,"../../libs/bugsnag":80,"../../selectors/auth":100,"../../selectors/current":102,"../../slivax":109,"../../utils":115,"../../utils/events":112,"../../utils/fetch":113,"./errors":54,"./flowplayer":55,"./videojs.player":60,lodash:void 0,"prop-types":void 0,react:void 0,"react-redux":void 0,url:void 0}],60:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=e("lodash"),c=r(u),f=e("react"),d=r(f),p=e("prop-types"),m=r(p),h=e("../../config"),v=e("../../utils"),g=void 0;g=h.IS_NEW_PLAYER?e("video.js"):function(){return null};var y={fluid:!0,controls:!0,autoplay:!0,nativeControlsForTouch:!1,disablepictureinpicture:!0,playsinline:!0,poster:"black",nativeTextTracks:!1,children:{controlBar:{liveDisplay:!1,seekBar:!1}},html5:{hls:{overrideNative:!0,withCredentials:!0}}},E=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onMute=function(){document.addEventListener("click",r.unmuteListener)},r.unmuteListener=function(){(0,r.props.unmute)(),document.removeEventListener("click",r.unmuteListener)},r.handlePlay=function(){var e=r.props,t=e.player,n=t.playlist,o=t.camera,a=e.addAction,i=e.number,l=e.isTryRepeat;c.default.isEmpty(n)||(a("player.play."+i,"regular",{edge:(0,v.getEdgeFromUrl)(n),camera:o}),a("connect","regular",{edge:(0,v.getEdgeFromUrl)(n),time:0},"player"),r.player.src([{src:n.src,type:"application/x-mpegURL"}]),r.player.play().catch(function(){l&&(r.player.muted(!0),r.onMute(),r.player.play())}))},o=n,i(r,o)}return l(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isMuted,n=e.onPlay,r=e.onInit,o=e.onError,a=e.onEnded,i=e.onStop,l=e.player.playlist;this.player=g(this.videoNode,s({},y,{muted:t}),r),l&&this.handlePlay(),this.player.on("error",o),this.player.on("play",n),this.player.on("ended",a),this.player.on("pause",i),t&&this.onMute();try{this.videoNode.oncontextmenu=function(){return!1},this.videoNode.setAttribute("disablepictureinpicture","true"),this.videoNode.setAttribute("controlsList","nodownload noremoteplayback")}catch(e){}window.player=this.player},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.player.playlist,r=t.isMuted;t.isChangingCamera&&!e.isChangingCamera&&this.player.pause();var o=e.player.playlist,a=o.stamp,i=o.src;(n.stamp&&!a||n.stamp!==a||n.src&&!i||n.src!==i)&&this.handlePlay(),r!==e.isMuted&&r!==this.player.muted()&&(this.player.muted(r),this.player.volume(r?0:1))},t.prototype.componentWillUnmount=function(){this.player&&this.player.dispose()},t.prototype.render=function(){var e=this,t=this.props,n=t.userId,r=t.isLive;return d.default.createElement("div",null,d.default.createElement("div",{"data-vjs-player":!0},d.default.createElement("video",{ref:function(t){e.videoNode=t},className:"video-js LSkin"})),r&&d.default.createElement("div",{className:"icon-live"}),n&&d.default.createElement("div",{className:"LSkin-IdLabel"},n))},t}(d.default.Component);E.propTypes={player:m.default.shape().isRequired,number:m.default.number.isRequired,unmute:m.default.func.isRequired,userId:m.default.string.isRequired,isMuted:m.default.bool,isChangingCamera:m.default.bool,isLive:m.default.bool,addAction:m.default.func,onPlay:m.default.func,onError:m.default.func,onInit:m.default.func,onEnded:m.default.func,onStop:m.default.func,isTryRepeat:m.default.bool},E.defaultProps={isMuted:!1,isChangingCamera:!1,isLive:!1,addAction:function(){},onPlay:function(){},onError:function(){},onInit:function(){},onStop:function(){},onEnded:function(){},isTryRepeat:!0},n.default=E},{"../../config":75,"../../utils":115,lodash:void 0,"prop-types":void 0,react:void 0,"video.js":void 0}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.camera,n=e.apartments,r=t?t.slice(0,t.indexOf("_")):null,o=i.default.find(n,function(e){return e.apartment===r})||{},a=i.default.find(o.cameras,function(e){return e.camera===t})||{};return s.default.createElement("div",{className:"snapshot"},s.default.createElement("div",{className:"no_snapshot"},s.default.createElement("p",{className:"msg"},"Preview image not found"),o.name&&s.default.createElement("p",{className:"title"},o.name),a.name&&s.default.createElement("p",null,a.name)))}Object.defineProperty(n,"__esModule",{value:!0});var a=e("lodash"),i=r(a),l=e("react"),s=r(l),u=e("prop-types"),c=r(u);o.propTypes={camera:c.default.string,apartments:c.default.arrayOf(c.default.shape())},o.defaultProps={camera:null,apartments:[]},n.default=o},{lodash:void 0,"prop-types":void 0,react:void 0}],62:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.className,n=e.imgUri,r=e.camera,o=e.apartments;return l.default.createElement(f.Tooltip,{name:h.TOOLTIP_NAME,className:(0,p.default)(t,"tooltip"),auto:!1},l.default.createElement("div",{className:"menu-snapshot"},l.default.createElement(m.ProgressiveImage,{src:n,className:"snapshot",loadingClassName:"loading",errorHandler:function(){return l.default.createElement(y.default,{camera:r,apartments:o})}})))}Object.defineProperty(n,"__esModule",{value:!0});var a=e("lodash"),i=(r(a),e("react")),l=r(i),s=e("prop-types"),u=r(s),c=e("react-redux"),f=e("redux-tooltip"),d=e("classnames"),p=r(d),m=e("rlc-components"),h=e("../../actions/preview"),v=e("../../selectors/auth"),g=e("./ErrorHandler"),y=r(g);o.propTypes={apartments:u.default.arrayOf(u.default.shape()).isRequired,imgUri:u.default.string,camera:u.default.string,className:u.default.string},o.defaultProps={imgUri:null,camera:null,className:null},n.default=(0,c.connect)(function(e){return{apartments:e.apartments.data,imgUriSelector:(0,v.getTopCamsSnapURI)(e),camera:e.preview.camera,className:e.preview.className}},null,function(e){return{apartments:e.apartments,imgUri:e.imgUriSelector(e.camera),camera:e.camera,className:e.className}})(o)},{"../../actions/preview":13,"../../selectors/auth":100,"./ErrorHandler":61,classnames:void 0,lodash:void 0,"prop-types":void 0,react:void 0,"react-redux":void 0,"redux-tooltip":void 0,"rlc-components":void 0}],63:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.isClosed,n=e.onClickDecrement,r=e.onClickIncrement,o=e.isDisabledIncrement;return i.default.createElement("div",{className:(0,c.default)("control-glyphs",{closed:t})},i.default.createElement("a",{className:"control-glyph minus",title:"Show less snapshots",onClick:n},"−"),i.default.createElement("a",{className:(0,c.default)("control-glyph","plus",{disabled:o}),title:"Show more snapshots",onClick:r},"+"))}Object.defineProperty(n,"__esModule",{value:!0});var a=e("react"),i=r(a),l=e("prop-types"),s=r(l),u=e("classnames"),c=r(u);o.propTypes={isClosed:s.default.bool.isRequired,onClickDecrement:s.default.func.isRequired,onClickIncrement:s.default.func.isRequired,isDisabledIncrement:s.default.bool.isRequired},n.default=o},{classnames:void 0,"prop-types":void 0,react:void 0}],64:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.onClick,n=e.label;return i.default.createElement("div",{className:"snapshots-title-wrap"},i.default.createElement("div",{className:"snapshots-title",onClick:t},i.default.createElement("i",{className:"control-icon snapshots-rlc-icon"}),i.default.createElement("a",{className:"control-title"},n)))}Object.defineProperty(n,"__esModule",{value:!0});var a=e("react"),i=r(a),l=e("prop-types"),s=r(l);o.propTypes={onClick:s.default.func.isRequired,label:s.default.string.isRequired},n.default=o},{"prop-types":void 0,react:void 0}],65:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("react-redux"),f=e("lodash"),d=r(f),p=e("classnames"),m=r(p),h=e("moment"),v=r(h),g=e("../../utils"),y=e("../../utils/fetch"),E=window.URL||window.webkitURL,b=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return l(t,e),t.prototype.render=function(){var e=this.props,t=e.camera,n=e.ts,r=e.apartments,o=d.default.find(r,function(e){return e.apartment==t.slice(0,2)}),a=d.default.find(o.cameras,function(e){return e.camera==t});return u.default.createElement("div",{className:"snapshot"},u.default.createElement("div",{className:"no_snapshot"},u.default.createElement("p",{className:"msg"},"Preview image not found"),u.default.createElement("p",{className:"title"},o.name),u.default.createElement("p",null,a.name),n?u.default.createElement("p",{className:"time"},u.default.createElement("i",{className:"time-icon"}),u.default.createElement("span",null,v.default.unix(n).utcOffset(60*Number(o.timezone)).format("HH:mm"))):null))},t}(u.default.Component),S=(0,c.connect)(function(e){return{apartments:e.apartments.data}})(b),w=u.default.createClass({displayName:"SnapshotImg",getInitialState:function(){return{imageUrl:null,error:!1,children:null,onClick:function(){}}},componentDidMount:function(){this.load()},componentWillUnmount:function(){window.removeEventListener("scroll",this.listener)},componentWillReceiveProps:function(e){e.src!=this.props.src&&(window.removeEventListener("scroll",this.listener),this.checkAndLoadImg(e,!0))},checkAndLoadImg:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments[1];(0,g.inWindow)(this.refs.img)?(window.removeEventListener("scroll",this.listener),this.load(t)):n&&(this.listener=function(){return e.checkAndLoadImg(t)},window.addEventListener("scroll",this.listener))},load:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=function(){"function"==typeof t.callback&&t.callback()};this.setState({isFetching:!0}),(0,y.fetch)(t.number||Symbol(t.src),{type:"GET",url:t.src,retries:0,timeoutOverall:3e3,responseParser:function(e){return new Blob([e.response])},responseType:"arraybuffer"}).then(function(n){t.src==e.props.src&&e.isMounted()&&e.setState({imageUrl:E.createObjectURL(n),error:!1,onClick:t.onClick,children:t.children,className:t.className,isFetching:!1,camera:t.camera})}).then(n).catch(function(r){e.setState({onClick:t.onClick,children:t.children,className:t.className,camera:t.camera,isFetching:!1,error:!0}),n()})},render:function(){var e=this.props.currentCamera,t=this.state,n=t.imageUrl,r=t.error,o=t.onClick,a=(t.isCurrent,t.children),i=t.className,l=t.camera,s=t.ts;t.isFetching;return u.default.createElement("div",{className:(0,m.default)(i,"snapshot",{loading:!n&&!r,active:e&&e==l}),onClick:o,ref:"img"},a,r?u.default.createElement(S,{camera:l,ts:s}):u.default.createElement("img",{src:n}))}});n.default=w},{"../../utils":115,"../../utils/fetch":113,classnames:void 0,lodash:void 0,moment:void 0,react:void 0,"react-redux":void 0}],66:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("lodash"),c=r(u),f=e("react"),d=r(f),p=e("prop-types"),m=r(p),h=e("classnames"),v=r(h),g=(e("react-redux"),e("react-infinite-scroller")),y=r(g),E=e("../../consts"),b=e("./SnapshotsControls"),S=r(b),w=e("./SnapshotsTitle"),_=r(w),T=148,O=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.state={snapCount:0},r.onChangeSnapCount=function(){var e=r.props,t=e.linesCount,n=e.data,o=e.access,a=e.snapOnLine,i=e.setLinesCount;if(n.length){var l=Math.floor(n.length/a)*a||a,s=Math.min(l,a*t);if(s/a<t){var u=Math.floor(n.length/a);"premium"!==o&&(u-=1);var c=Math.min(Math.floor(s/a),u);return i(c),void r.setState({snapCount:c*a})}r.setState({snapCount:s})}},r.onClickClose=function(){(0,r.props.setLinesCount)(0)},r.onClickIncrement=function(){if(r.isMax){var e=r.props,t=e.access,n=e.showAccessError,o=e.snapType;if("premium"===t)return;if(null===E.MAX_SNAPSHOTS_LINES[o][t])return void n()}var a=r.props,i=a.linesCount,l=a.setLinesCount,s=a.isAutoIncrement;l(i+1),s||setTimeout(function(){window.scrollBy(0,T)},10)},r.onClickDecrement=function(){var e=r.props,t=e.linesCount;(0,e.setLinesCount)(t-1)},r.onClickIcon=function(){var e=r.props,t=e.linesCount,n=e.isShow,o=e.toggleIsShow;0!==t&&n&&o()},o=n,i(r,o)}return l(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.linesCount,n=e.access,r=e.snapType,o=e.data,a=e.setLinesCount,i=E.MAX_SNAPSHOTS_LINES[r][n];i&&i<t&&a(i),o.length&&this.onChangeSnapCount()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.snapOnLine,r=t.data,o=t.linesCount;n===e.snapOnLine&&r.length===e.data.length&&o===e.linesCount||this.onChangeSnapCount()},t.prototype.render=function(){var e=this.props,t=e.linesCount,n=e.className,r=e.isAutoIncrement,o=e.label,a=e.isShow,i=e.access,l=e.data,s=(e.snapType,e.SnapshotItem),u=e.toggleIsShow,c=this.state.snapCount,f=l.slice(0,c),p=0===t||!a;return d.default.createElement("div",{className:(0,v.default)(n,"snapshots",{closed:p})},d.default.createElement(_.default,{onClick:u,label:o}),d.default.createElement("div",{className:"snapshots-block"},!p&&(r?d.default.createElement(y.default,{loadMore:this.onClickIncrement,hasMore:!this.isMax},f.map(function(e,t){return d.default.createElement(s,{data:e,key:t,number:t})})):f.map(function(e,t){return d.default.createElement(s,{data:e,key:t,number:t})}))),!r&&d.default.createElement(S.default,{isClosed:p,onClickDecrement:this.onClickDecrement,onClickIncrement:this.onClickIncrement,isDisabledIncrement:"premium"===i&&this.isMax}))},s(t,[{key:"isMax",get:function(){var e=this.props,t=e.snapType,n=e.linesCount,r=e.data,o=e.access,a=e.snapOnLine,i=this.state.snapCount,l=Math.floor(r.length/a)*a;return i>=l||(E.MAX_SNAPSHOTS_LINES[t][o]?n>=E.MAX_SNAPSHOTS_LINES[t][o]:"premium"!==o&&i>=l-a)}}]),t}(d.default.Component);O.propTypes={snapType:m.default.oneOf(c.default.values(E.SNAP_TYPES)).isRequired,data:m.default.arrayOf(m.default.shape()).isRequired,linesCount:m.default.number.isRequired,isShow:m.default.bool.isRequired,snapOnLine:m.default.number.isRequired,access:m.default.string.isRequired,setLinesCount:m.default.func.isRequired,toggleIsShow:m.default.func.isRequired,showAccessError:m.default.func.isRequired,className:m.default.string,label:m.default.string.isRequired,SnapshotItem:m.default.func.isRequired},O.defaultProps={className:null},n.default=O},{"../../consts":76,"./SnapshotsControls":63,"./SnapshotsTitle":64,classnames:void 0,lodash:void 0,"prop-types":void 0,react:void 0,"react-infinite-scroller":void 0,"react-redux":void 0}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}function s(e,t){if("premium"===t)return"";switch(e){case"premium":return"PREMIUM";case"private":return t===y.USER_TYPES.GUEST?"STANDARD":"";case"public":return t===y.USER_TYPES.GUEST?"FREE":"";default:return""}}Object.defineProperty(n,"__esModule",{value:!0});var u=e("react"),c=r(u),f=e("react-redux"),d=e("classnames"),p=r(d),m=e("../../actions/current"),h=e("../../selectors/auth"),v=e("../../selectors/current"),g=e("../../utils"),y=e("../../consts"),E=e("./snapshot.img"),b=r(E),S=250,w=61,_=8,T=.5,O=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onClickItem=function(e){var t=r.props,n=t.setCamera,o=t.currentPlayer,a=t.userAccess,i=t.data;if(n(e),a===y.USER_TYPES.STANDARD&&"premium"!==i.access||a===y.USER_TYPES.GUEST&&"public"===i.access)try{var l=document.querySelector("#player_"+o),s=document.querySelector(".panel.player"),u=s.offsetTop-_;if(window.innerWidth<y.MARKUP_BREAKPOINTS.DESKTOP.min)return void(0,g.scrollTo)(u,S);var c=l.clientHeight;if(l.getBoundingClientRect().top+c*T<0)try{(0,g.scrollTo)(u,S)}catch(e){(0,g.scrollTo)(w,S)}}catch(e){}},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.data,r=t.imgURI,o=t.currentCamera,a=t.userAccess,i=s(n.access,a),l=i.toLowerCase();return c.default.createElement(b.default,{className:(0,p.default)(l),onClick:function(){return e.onClickItem(n.name)},camera:n.name,src:r(n.name,(n.order+1)%10||0),currentCamera:o.camera},""!==i?c.default.createElement("div",{className:"label "+l},i):null)},t}(c.default.Component);n.default=(0,f.connect)(function(e){return{currentCamera:(0,v.getCurrentCamera)(e),currentPlayer:(0,v.getCurrentPlayer)(e),imgURI:(0,h.getTopCamsSnapURI)(e),userAccess:(0,h.getAccess)(e)}},function(e){return{setCamera:function(t){return e((0,m.setCamera)(t))}}})(O)},{"../../actions/current":7,"../../consts":76,"../../selectors/auth":100,"../../selectors/current":102,"../../utils":115,"./snapshot.img":65,classnames:void 0,react:void 0,"react-redux":void 0}],68:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("react-redux"),a=e("../../consts"),i=e("../../actions/snapshots"),l=e("../../actions/modal"),s=e("../../selectors/auth"),u=e("../../selectors/snapshots"),c=e("./snapshots"),f=r(c),d=e("./topcams.item"),p=r(d);n.default=(0,o.connect)(function(e){return{label:"RLC Live: Popular cameras right now",vertLabel:"RLC Live",snapType:a.SNAP_TYPES.TOP_CAMS,SnapshotItem:p.default,data:u.getSnapshotsData[a.SNAP_TYPES.TOP_CAMS](e),linesCount:e.snapshots[a.SNAP_TYPES.TOP_CAMS].linesCount,isShow:e.snapshots[a.SNAP_TYPES.TOP_CAMS].isShow,snapOnLine:e.snapshots.common.snapOnLine,access:(0,s.getAccess)(e)}},function(e){return{setLinesCount:function(t){return e((0,i.setCountSnapshotLines)(a.SNAP_TYPES.TOP_CAMS,t))},toggleIsShow:function(){return e((0,i.toggleIsShowSnapshots)(a.SNAP_TYPES.TOP_CAMS))},showAccessError:function(){return e((0,l.modalShowPremium)())}}})(f.default)},{"../../actions/modal":10,"../../actions/snapshots":14,"../../consts":76,"../../selectors/auth":100,"../../selectors/snapshots":105,"./snapshots":66,"./topcams.item":67,"react-redux":void 0}],69:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),u=r(s),c=e("react-redux"),f=e("../../actions/modal"),d=e("../../selectors/current"),p=e("../../selectors/auth"),m=e("../../consts"),h=e("./snapshot.img"),v=r(h),g=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.state={href:""},r.onClick=function(){r.state.href;return void(0,r.props.showAccessError)()},r.changeHref=function(){var e=r.props,t=e.lang,n=e.data;r.setState({href:(0,m.REPLAY_URI)(t,n.stream,n.ts)})},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.imgURI,r=e.number;return u.default.createElement(v.default,{onClick:this.onClick,camera:t.stream,ts:t.ts,src:n(t.stream,t.ts,(r||0)%10),callback:this.changeHref})},t}(u.default.Component);n.default=(0,c.connect)(function(e){return{lang:(0,d.getLanguage)(e),imgURI:(0,p.getTopScenesSnapURI)(e)}},function(e){return{showAccessError:function(){return e((0,f.modalShowPremium)())}}})(g)},{"../../actions/modal":10,"../../consts":76,"../../selectors/auth":100,"../../selectors/current":102,"./snapshot.img":65,react:void 0,"react-redux":void 0}],70:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("react"),a=(r(o),e("react-redux")),i=e("../../consts"),l=e("../../actions/snapshots"),s=e("../../actions/modal"),u=e("../../selectors/auth"),c=e("../../selectors/snapshots"),f=e("./snapshots"),d=r(f),p=e("./topscenes.item"),m=r(p);n.default=(0,a.connect)(function(e){return{label:"RLC Replay: Popular scenes in the past 24h",className:"replay",snapType:i.SNAP_TYPES.TOP_SCENES,SnapshotItem:m.default,data:c.getSnapshotsData[i.SNAP_TYPES.TOP_SCENES](e),linesCount:e.snapshots[i.SNAP_TYPES.TOP_SCENES].linesCount,isShow:e.snapshots[i.SNAP_TYPES.TOP_SCENES].isShow,snapOnLine:e.snapshots.common.snapOnLine,access:(0,u.getAccess)(e),isAutoIncrement:i.STARTUP_PARAMS.isMobile}},function(e){return{setLinesCount:function(t){return e((0,l.setCountSnapshotLines)(i.SNAP_TYPES.TOP_SCENES,t))},toggleIsShow:function(){return e((0,l.toggleIsShowSnapshots)(i.SNAP_TYPES.TOP_SCENES))},showAccessError:function(){return e((0,s.modalShowPremium)())}}})(d.default)},{"../../actions/modal":10,"../../actions/snapshots":14,"../../consts":76,"../../selectors/auth":100,"../../selectors/snapshots":105,"./snapshots":66,"./topscenes.item":69,react:void 0,"react-redux":void 0}],71:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.children,n=e.label,r=e.flow,o=e.wrap,a=e.width,l=e.mode;if(a<c)return i.default.createElement("span",null,i.default.Children.map(t,function(e){return i.default.cloneElement(e,{title:n})}));var s={"data-tooltip":n};return r&&(s["data-flow"]=r),o&&(s["data-wrap"]=o),l&&(s["data-mode"]=l),i.default.createElement("span",null,i.default.Children.map(t,function(e){return i.default.cloneElement(e,s)}))}Object.defineProperty(n,"__esModule",{value:!0});var a=e("react"),i=r(a),l=e("prop-types"),s=r(l),u=e("react-redux"),c=1e3;o.propTypes={label:s.default.string,wrap:s.default.bool,flow:s.default.oneOf(["up","down","left","right",""]),width:s.default.number,mode:s.default.string,children:s.default.node.isRequired},o.defaultProps={label:"",wrap:!1,flow:"",width:0,mode:""},n.default=(0,u.connect)(function(e){return{width:e.window.width}})(o)},{"prop-types":void 0,react:void 0,"react-redux":void 0}],72:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=e("lodash"),u=r(s),c=e("react"),f=r(c),d=e("prop-types"),p=r(d),m=e("react-redux"),h=e("i18next"),v=r(h),g=e("../actions/modal"),y=e("../selectors/auth"),E=e("../selectors/apartments"),b=e("./tooltip"),S=r(b),w=e("../utils"),_=e("../consts"),T=function(){return f.default.createElement(S.default,{label:"Logout",flow:"left"},f.default.createElement("a",{className:"logout",href:"/logout"}))},O=function(e){var t=e.isActive,n=e.userType,r=e.onClickLogin,o=e.apartsInfo;if(n!==_.USER_TYPES.GUEST)return t?f.default.createElement("div",{className:"membership"},f.default.createElement("span",null,v.default.t("panel."+n+"-membership"))):f.default.createElement("div",{className:"membership"},f.default.createElement("span",null,v.default.t("panel.nosubscription")," "),f.default.createElement("a",{onClick:w.onClickJoin,href:_.JOIN_URI},"["+v.default.t("panel.renew")+"]"));var a=o.apartments.length,i=10*Math.floor(o.camsCount/10);return f.default.createElement("div",{className:"guest-block"},f.default.createElement("div",{className:"get-premium"},f.default.createElement("div",{className:"text"},f.default.createElement("span",{className:"title"},v.default.t("panel.get-premium.title",{aparts:a,cams:i}),f.default.createElement("br",null)),f.default.createElement("span",{className:"subtitle"},v.default.t("panel.get-premium.subtitle"))),f.default.createElement("div",{className:"btn-block"},f.default.createElement(S.default,{label:v.default.t("panel.get-premium.tooltip").replace(/\\n/g,"\n"),flow:"down",wrap:!0},f.default.createElement("a",{onClick:w.onClickJoin,href:_.JOIN_URI,className:"btn btn-premium"},"Get Premium")),f.default.createElement("a",{onClick:r,className:"btn btn-login"},"Log In"))))};O.propTypes={isActive:p.default.bool.isRequired,userType:p.default.oneOf(u.default.values(_.USER_TYPES)).isRequired,onClickLogin:p.default.func.isRequired,apartsInfo:p.default.shape({apartments:p.default.arrayOf(p.default.shape()),camsCount:p.default.number}).isRequired};var M=function(e){var t=e.isActive,n=e.userType,r=e.showConvertModal,o=e.balance;if(n!==_.USER_TYPES.PREMIUM&&0===o)return null;var a=o>0&&(!t&&n===_.USER_TYPES.PREMIUM||n===_.USER_TYPES.STANDARD);return f.default.createElement("div",{className:"balance"},"Balance: ",f.default.createElement("span",{className:"tokens"},o+" tokens"),a&&f.default.createElement("span",null,f.default.createElement("span",{className:"divider"},"|"),f.default.createElement("a",{onClick:r},"[Convert]")))};M.propTypes={isActive:p.default.bool.isRequired,userType:p.default.oneOf(u.default.values(_.USER_TYPES)).isRequired,showConvertModal:p.default.func.isRequired,balance:p.default.number.isRequired};var A=function(e){function t(){var n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(s))),r.onClickLogin=function(e){var t=r.props.showLoginModal;e.preventDefault(),t()},o=n,i(r,o)}return l(t,e),t.prototype.render=function(){var e=this.props,t=e.userType,n=e.balance,r=e.isActive,o=e.showConvertModal,a=e.apartsInfo;return t?f.default.createElement("div",{className:"info"},f.default.createElement("div",{className:"membership-block"},f.default.createElement(O,{userType:t,isActive:r,onClickLogin:this.onClickLogin,apartsInfo:a}),f.default.createElement(M,{userType:t,isActive:r,balance:n,showConvertModal:o})),t!==_.USER_TYPES.GUEST?f.default.createElement(T,null):null):null},t}(f.default.Component);A.defaultProps={balance:0},A.propTypes={balance:p.default.number,userType:p.default.string.isRequired,isActive:p.default.bool.isRequired,showLoginModal:p.default.func.isRequired,showConvertModal:p.default.func.isRequired,apartsInfo:p.default.shape({apartments:p.default.arrayOf(p.default.shape()),camsCount:p.default.number}).isRequired},n.default=(0,m.connect)(function(e){return{userType:(0,y.getUserType)(e),balance:e.auth.balance,isActive:(0,y.getIsActive)(e),apartsInfo:(0,E.getDataForPremiumModal)(e)}},function(e){return{showLoginModal:function(){return e((0,g.modalShowLogin)())},showGetNewsModal:function(){return e((0,g.modalShowGetNews)())},showConvertModal:function(){return e((0,g.modalShowConvert)())}}})(A)},{"../actions/modal":10,
"../consts":76,"../selectors/apartments":99,"../selectors/auth":100,"../utils":115,"./tooltip":71,i18next:void 0,lodash:void 0,"prop-types":void 0,react:void 0,"react-redux":void 0}],73:[function(e,t,n){"use strict";t.exports=function(){return null}},{"./ws.connector.premium":74}],74:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=e("react"),c=r(u),f=e("react-redux"),d=e("socket.io-client"),p=r(d),m=e("lodash"),h=r(m),v=e("../../actions/md"),g=e("../../actions/current"),y=e("../../selectors/current"),E=e("../../selectors/apartments"),b=e("../../consts"),S=function(e){function t(){a(this,t);var n=i(this,e.call(this));return n.connect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.host_socketio;n.socket&&n.socket.connected||!e||(n.socket=p.default.connect(e+"/active",{secure:"http:"!==window.location.protocol,transports:["websocket","polling"]}),n.socket.on("connect",function(){n.socket.emit("MD",{cookie:document.cookie}),console.log("Connect to ws")}),n.socket.on("error",function(e){console.log("error",JSON.stringify(e))}),n.socket.on("disconnect",function(e){console.log("disconnected",e)}),n.socket.on("manage",function(e){if(console.log(e),"run"===e.type&&"controller"===e.element){switch(e.command.replace("dW","").replace("Cn","")){case"sendState":n.sendState(e.param);break;case"remoteSwitchCamera":n.props.setCamera(e.param);break;case"setMode":n.props.setViewModeRM(e.param);break;case"TrackingMode":n.props.toggleIsAutoFollow(e.param-1);break;case"selectPlayerByIdn":n.props.setCurrentPlayer(e.param)}}}),n.socket.on("MD",function(e){n.props.isMdOn&&(void 0!==e.cams&&n.props.setMDCameras(e.cams),void 0!==e.apartments&&n.props.setMDApartments(e.apartments))}))},n.getPlayers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.players,r=e.currentPlayer;return h.default.map(t,function(e,t){var n=Number(t);return s({},e,{Id:n,current:n===r})})},n.getCurrents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.apartments,r=e.players,o=e.currentPlayer,a=e.isAutoFollow,i=h.default.map(r,function(e,n){var r=Number(n);return{apartment:h.default.find(t,{apartment:e.camera.camera.split("_")[0]}),camera:e.camera,selected:r===o,autoFollow:a.player===r}});return 1===i.length&&i.push(s({},i[0],{selected:!1})),i},n.sendState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"globalState",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.props,o={MD:r.isMdOn,currents:n.getCurrents(r),mode:r.viewMode,player:r.player,players:n.getPlayers(r),tracking:r.isAutoFollow.mode===b.AUTO_FOLLOW_MODES.ALL};void 0!==e&&(o.session=e),n.socket.emit(t,o)},n.disconnect=function(){n.socket&&n.socket.disconnected||(n.socket.disconnect(),n.props.cleanMDData())},n.socket=null,n}return l(t,e),t.prototype.componentDidMount=function(){this.connect()},t.prototype.componentWillReceiveProps=function(e){e.isMdOn===this.props.isMdOn&&h.default.isEqual(e.isAutoFollow,this.props.isAutoFollow)&&e.camera===this.props.camera&&e.currentPlayer===this.props.currentPlayer&&h.default.isEqual(e.players,this.props.players)||this.sendState(void 0,void 0,e)},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this.disconnect()},t.prototype.render=function(){return null},t}(c.default.Component);n.default=(0,f.connect)(function(e){return{host_socketio:e.config.host_socketio,isMdOn:e.md.isOn,isAutoFollow:(0,y.getIsAutoFollow)(e),viewMode:(0,y.getViewMode)(e),apartment:(0,y.getCurrentApartment)(e),apartments:(0,E.getApartments)(e),camera:(0,y.getCurrentCamera)(e),players:(0,y.getPlayers)(e),currentPlayer:(0,y.getCurrentPlayer)(e)}},function(e){return{setMDCameras:function(t){return e((0,v.mdSetCameras)(t))},setMDApartments:function(t){return e((0,v.mdSetApartments)(t))},cleanMDData:function(){return e((0,v.mdCleanData)())},setCamera:function(t){return e((0,g.setCamera)(t))},setViewModeRM:function(t){return e((0,g.setViewModeRM)(t))},toggleIsAutoFollow:function(t){return e((0,g.toggleIsAutoFollow)(t))},setCurrentPlayer:function(t){return e((0,g.setCurrentPlayer)(t))}}})(S)},{"../../actions/current":7,"../../actions/md":9,"../../consts":76,"../../selectors/apartments":99,"../../selectors/current":102,lodash:void 0,react:void 0,"react-redux":void 0,"socket.io-client":void 0}],75:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.IS_NEW_PLAYER=n.SAVED_ACTIONS=n.PANELS_DEFAULT_STATUS=n.SET_IS_SHOW_SNAPSHOT=n.SET_COUNT_SNAPSHOT_LINES=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=e("lodash"),i=function(e){return e&&e.__esModule?e:{default:e}}(a),l=e("./actions/panels"),s=e("./actions/options"),u=e("./actions/config"),c=e("./consts"),f=n.SET_COUNT_SNAPSHOT_LINES=function(e){return"SET_COUNT_"+e+"_LINES"},d=n.SET_IS_SHOW_SNAPSHOT=function(e){return"SET_IS_SHOW_"+e},p=(n.PANELS_DEFAULT_STATUS=o({},i.default.fromPairs(c.PANELS.map(function(e){return[e,!c.STARTUP_PARAMS.isMobile&&!c.STARTUP_PARAMS.isGuest]})),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},c.PLAN_PANEL,c.STARTUP_PARAMS.isGuest&&!c.STARTUP_PARAMS.isMobile)),c.STARTUP_PARAMS.isMobile?[c.SNAP_TYPES.TOP_CAMS]:[c.SNAP_TYPES.TOP_CAMS,c.SNAP_TYPES.TOP_SCENES]);n.SAVED_ACTIONS=c.STARTUP_PARAMS.isGuest?[s.SET_IS_DISABLE_GROUPS,s.SET_IS_HIDE_NON_ACTIVE_GROUPS,u.CONFIG_SET_SEND_START_STREAM]:[].concat(r(p.map(function(e){return f(e)})),r(p.map(function(e){return d(e)})),r(c.PANELS.map(function(e){return(0,l.SET_SHOW_PANEL)(e)})),[s.SET_IS_DISABLE_GROUPS,s.SET_IS_HIDE_NON_ACTIVE_GROUPS,u.CONFIG_SET_SEND_START_STREAM]),n.IS_NEW_PLAYER=c.STARTUP_PARAMS.isGuest&&c.STARTUP_PARAMS.isHlsLM},{"./actions/config":3,"./actions/options":11,"./actions/panels":12,"./consts":76,lodash:void 0}],76:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var o,a,i,l=(n.VIEW_MODE={SINGLE:0,SINGLE_WIDE:1,TWO_VERTICAL:2,TWO_HORIZONTAL:3,FOUR:4,FULLSCREEN:5},n.LANGUAGES=["en","de","fr","tr"],n.MODAL_TYPES={PREMIUM:1,LOGIN:2,HOTKEY:3,STANDARD:4,GET_NEWS:5,CONVERT:6},n.SNAP_TYPES={TOP_CAMS:"topCams",TOP_SCENES:"topScenes"}),s=n.USER_TYPES={GUEST:"guest",STANDARD:"standard",PREMIUM:"premium"},u=(n.MAX_SNAPSHOTS_LINES=(i={},r(i,l.TOP_CAMS,(o={},r(o,s.GUEST,7),r(o,s.STANDARD,7),r(o,s.PREMIUM,8),o)),r(i,l.TOP_SCENES,(a={},r(a,s.GUEST,null),r(a,s.STANDARD,null),r(a,s.PREMIUM,null),a)),i),n.VIDEO_FORMATS={P480:{classname:"p480",value:"480p"},P720:{classname:"p720",value:"720p"},P1080:{classname:"p1080",value:"1080p"}}),c=(n.AVAILABLE_FORMATS=[u.P720,u.P1080],n.AUTO_FOLLOW_MODES={ALL:0,APARTMENT:1},n.GLOBAL_LOADER_SELECTOR="loader",n.UPDATE_TOP_SCENES_INTERVAL=600,n.TOP_SCENES_URI="https://replay.reallifecam.com/topscenes",n.MOTION_URI="/resources/motion/apartments",n.JOIN_URI="/join",n.LOGIN_URI="/resources/login",n.WHOAMI_URI="/resources/whoami",n.I18N_URI="/locales/{{lng}}/{{ns}}",n.CONVERT_URI="/tokens_convert",n.REPLAY_URI=function(e,t,n){return"https://replay.reallifecam.com/"+e+"/view/"+t+"?ts="+n+"&from=scenes"},n.SWF_PLAYER=window.bootstrap.swf_path,n.PREVIEW_DELAY=1500,n.PREVIEW_MARGIN=140,n.PREVIEW_DEBOUNCE=1e3,n.APARTMENT_GROUP_ORDER=["Couples","Roommates","Girls on vacation","Couples on vacation"]),f=n.ALL_APARTMENTS="ALL_APARTMENTS",d=n.PLAN_PANEL="plan",p=(n.PANELS=[].concat(c,[f,d]),n.MARKUP_BREAKPOINTS={DESKTOP:{min:1e3}}),m=n.LANDING_MODES={FULLSCREEN:1,SIMPLIFIED:2,SIMPLIFIED_WORDS:3,NORMAL:4,HLS:5,SCENES:6};n.SPECIAL_MARKUP_LANDING_MODES=[m.FULLSCREEN,m.SIMPLIFIED,m.SIMPLIFIED_WORDS],n.USED_LANDING_MODES=[m.NORMAL,m.HLS,m.SCENES],n.STARTUP_PARAMS={isMobile:window.innerWidth<p.DESKTOP.min,isGuest:window.bootstrap.access===s.GUEST,isHlsLM:window.location.href.indexOf("hello")>=0&&window.location.href.indexOf("lm="+m.NORMAL)<0&&window.location.href.indexOf("landingmode="+m.NORMAL)<0},n.PLAYER_ERRORS={NET_CONNECTION_FAILED:9,SAFARI_FLASH:10,TIMEOUT:11,CONNECTION_PROBLEM:12,STRANGE_1:13,STRANGE_2:14,BUFFER_TIMEOUT:15,BUFFER_EMPTY:101,BUFFER_TIMEOUT_WARNING:102}},{}],77:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("i18next"),a=r(o),i=e("i18next-xhr-backend"),l=r(i),s=e("./language"),u=e("./consts");a.default.use(l.default);var c=function(e){a.default.init({lng:(0,s.getLanguage)(),fallbackLng:["en"],preload:["en"],ns:["translation","keywords","join"],backend:{loadPath:u.I18N_URI}},function(){"function"==typeof e&&e()})};n.default=c},{"./consts":76,"./language":79,i18next:void 0,"i18next-xhr-backend":void 0}],78:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){(0,l.render)(i.default.createElement(s.Provider,{store:d.default},i.default.createElement(c.default,{store:d.default})),document.getElementById("rlc"))}var a=e("react"),i=r(a),l=e("react-dom"),s=e("react-redux"),u=e("./router"),c=r(u);e("babel-polyfill"),e("whatwg-fetch");var f=e("./store"),d=r(f),p=e("./i18next.init"),m=r(p),h=e("./actions/auth"),v=e("./actions/apartments"),g=e("./actions/config"),y=e("./utils"),E=e("./utils/fetch"),b=e("./libs/redux-localstorage-saver"),S=e("./slivax"),w=d.default.dispatch;(0,S.globalHandingError)(w,d.default.getState),(0,E.initFetch)(w,d.default.getState),w((0,S.initSlivax)()),(0,y.initBalanced)(),Promise.resolve(window.bootstrap).then(function(e){return w((0,g.configSetData)(e))}).then(function(){return w((0,h.authInit)())}).then(function(){return w((0,v.initApartmentsData)())}).then(function(){return w((0,b.restore)())}).then(function(){try{(0,y.disableGlobalLoader)()}catch(e){console.error(e)}(0,m.default)(o)})},{"./actions/apartments":1,"./actions/auth":2,"./actions/config":3,"./i18next.init":77,"./libs/redux-localstorage-saver":84,"./router":98,"./slivax":109,"./store":111,"./utils":115,"./utils/fetch":113,"babel-polyfill":void 0,react:void 0,"react-dom":void 0,"react-redux":void 0,"whatwg-fetch":void 0}],79:[function(e,t,n){"use strict";function r(e){return!(!e||-1===f.LANGUAGES.indexOf(e.toLowerCase()))}function o(e){return e?e.indexOf("-")>0?e.slice(0,e.indexOf("-")):e.toLowerCase():null}function a(){var e=window.location.pathname.split("/");if(e.length<4)return null;var t=e[1].toLowerCase();if(!r(t)){var n=o(t);return r(n)?e[1]=n:e[1]="en",c.browserHistory.push(e.join("/")),e[1]}return t}function i(){var e=navigator?o(navigator.language):null;return r(e)?e:null}function l(){return(0,d.isLocalStorage)()?localStorage.getItem(p):null}function s(e){(0,d.isLocalStorage)()&&localStorage.setItem(p,e)}function u(){var e=m||a()||l()||i()||"en";return e!==m&&(m=e,s(m)),m}Object.defineProperty(n,"__esModule",{value:!0}),n.getLanguageFromCache=l,n.getLanguage=u;var c=e("react-router"),f=e("./consts"),d=e("./utils"),p="LNG_LS_ITEM",m=void 0},{"./consts":76,"./utils":115,"react-router":void 0}],80:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,n){function o(e,t){try{if("function"!=typeof e)return e;if(!e.bugsnag){var n=i();e.bugsnag=function(r){if(t&&t.eventHandler&&(b=r),S=n,!T){var o=e.apply(this,arguments);return S=null,o}try{return e.apply(this,arguments)}catch(e){throw d("autoNotify",!0)&&(_.notifyException(e,null,null,"error"),y()),e}finally{S=null}},e.bugsnag.bugsnag=e.bugsnag}return e.bugsnag}catch(t){return e}}function a(){A=!1}function i(){var e=document.currentScript||S;if(!e&&A){var t=document.scripts||document.getElementsByTagName("script");e=t[t.length-1]}return e}function l(e){var t=i();t&&(e.script={src:t.src,content:d("inlineScript",!0)?t.innerHTML:""})}function s(t){var n=e.console;void 0!==n&&void 0!==n.log&&n.log("[Bugsnag] "+t)}function u(e,t){if(null==t)return e;e=e||{};for(var n in t)if(t.hasOwnProperty(n))try{t[n].constructor===Object?e[n]=u(e[n],t[n]):e[n]=t[n]}catch(r){e[n]=t[n]}return e}function c(e,t){if("undefined"!=typeof BUGSNAG_TESTING&&_.testRequest)_.testRequest(e,t);else{var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),"function"==typeof _.afterNotify&&n.addEventListener("readystatechange",function(e){4===this.readyState&&_.afterNotify()}),n.send(JSON.stringify(t))}}function f(e){for(var t={},n=/^data\-([\w\-]+)$/,r=e.attributes,o=0;o<r.length;o++){var a=r[o];if(n.test(a.nodeName)){t[a.nodeName.match(n)[1]]=a.value||a.nodeValue}}return t}function d(e,t){P=P||f(I);var n=void 0!==_[e]?_[e]:P[e.toLowerCase()];return"false"===n&&(n=!1),void 0!==n?n:t}function p(t,n){if(M){M-=1;var r=d("releaseStage"),o=d("notifyReleaseStages");if(o){for(var a=!1,i=0;i<o.length;i++)if(r===o[i]){a=!0;break}if(!a)return}var l=[t.name,t.message,t.stacktrace].join("|");if(l!==w){w=l,b&&(n=n||{},n["Last Event"]=v(b));var f={notifierVersion:x,projectRoot:d("projectRoot")||e.location.protocol+"//"+e.location.host,context:d("context")||e.location.pathname,userId:d("userId"),user:d("user"),metaData:u(u({},d("metaData")),n),releaseStage:r,appVersion:d("appVersion"),url:e.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:t.severity,name:t.name,message:t.message,stacktrace:t.stacktrace,file:t.file,lineNumber:t.lineNumber,columnNumber:t.columnNumber,payloadVersion:"2"},p=_.beforeNotify;if("function"==typeof p){if(!1===p(f,f.metaData))return}if(0===f.lineNumber&&/Script error\.?/.test(f.message))return s("Ignoring cross-domain script error. See https://bugsnag.com/docs/notifiers/js/cors");c(d("endpoint")||N,f)}}}function m(){var e,t;try{throw new Error("")}catch(n){e="<generated>\n",t=h(n)}if(!t){e="<generated-ie>\n";var n=[];try{for(var r=arguments.callee.caller.caller;r&&n.length<10;){var o=C.test(r.toString())?RegExp.$1||"[anonymous]":"[anonymous]";n.push(o),r=r.caller}}catch(e){s(e)}t=n.join("\n")}return e+t}function h(e){return e.stack||e.backtrace||e.stacktrace}function v(e){return{millisecondsAgo:new Date-e.timeStamp,type:e.type,which:e.which,target:g(e.target)}}function g(e){if(e){var t=e.attributes;if(t){for(var n="<"+e.nodeName.toLowerCase(),r=0;r<t.length;r++)t[r].value&&"null"!=t[r].value.toString()&&(n+=" "+t[r].name+'="'+t[r].value+'"');return n+">"}return e.nodeName}}function y(){O+=1,e.setTimeout(function(){O-=1})}function E(t,n,r){var o=t[n],a=r(o);t[n]=a,"undefined"!=typeof BUGSNAG_TESTING&&e.undo&&e.undo.push(function(){t[n]=o})}var b,S,w,_={},T=!0,O=0,M=10;_.noConflict=function(){return e.Bugsnag=n,_},_.refresh=function(){M=10},_.notifyException=function(e,t,n,r){t&&"string"!=typeof t&&(n=t,t=void 0),n||(n={}),l(n),p({name:t||e.name,message:e.message||e.description,stacktrace:h(e)||m(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line,columnNumber:e.columnNumber?e.columnNumber+1:void 0,severity:r||"warning"},n)},_.notify=function(t,n,r,o){p({name:t,message:n,stacktrace:m(),file:e.location.toString(),lineNumber:1,severity:o||"warning"},r)};var A="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!0),e.addEventListener("load",a,!0)):e.attachEvent("onload",a);var P,C=/function\s*([\w\-$]+)?\s*\(/i,N="https://bugsnag.reallifecam.com/js",x="2.4.6",L=document.getElementsByTagName("script"),I=L[L.length-1];if(e.atob){if(e.ErrorEvent)try{0===new e.ErrorEvent("test").colno&&(T=!1)}catch(e){}}else T=!1;if(d("autoNotify",!0)){E(e,"onerror",function(t){return"undefined"!=typeof BUGSNAG_TESTING&&(_._onerror=t),function(n,r,o,a,i){var s=d("autoNotify",!0),u={};!a&&e.event&&(a=e.event.errorCharacter),l(u),S=null,s&&!O&&p({name:i&&i.name||"window.onerror",message:n,file:r,lineNumber:o,columnNumber:a,stacktrace:i&&h(i)||m(),severity:"error"},u),"undefined"!=typeof BUGSNAG_TESTING&&(t=_._onerror),t&&t(n,r,o,a,i)}});var R=function(e){return function(t,n){if("function"==typeof t){t=o(t);var r=Array.prototype.slice.call(arguments,2);return e(function(){t.apply(this,r)},n)}return e(t,n)}};E(e,"setTimeout",R),E(e,"setInterval",R),e.requestAnimationFrame&&E(e,"requestAnimationFrame",function(e){return function(t){return e(o(t))}}),e.setImmediate&&E(e,"setImmediate",function(e){return function(t){var n=Array.prototype.slice.call(arguments);return n[0]=o(n[0]),e.apply(this,n)}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(t){var n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(E(n,"addEventListener",function(e){return function(t,n,r,a){return n&&n.handleEvent&&(n.handleEvent=o(n.handleEvent,{eventHandler:!0})),e.call(this,t,o(n,{eventHandler:!0}),r,a)}}),E(n,"removeEventListener",function(e){return function(t,n,r,a){return e.call(this,t,n,r,a),e.call(this,t,o(n),r,a)}}))})}e.Bugsnag=_,"function"==typeof define&&define.amd?define([],function(){return _}):"object"===(void 0===t?"undefined":r(t))&&"object"===r(t.exports)&&(t.exports=_)}(window,window.Bugsnag)},{}],81:[function(e,t,n){"use strict";!function(e,n,r){void 0!==t&&t.exports?t.exports=r():"function"==typeof define&&define.amd?define(r):n.Fingerprint2=r()}(0,void 0,function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError("'this' is null or undefined");var r=Object(this),o=r.length>>>0;if(0===o)return-1;var a=+t||0;if(Math.abs(a)===1/0&&(a=0),a>=o)return-1;for(n=Math.max(a>=0?a:o-Math.abs(a),0);n<o;){if(n in r&&r[n]===e)return n;n++}return-1});var e=function(e){var t={swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i]};this.options=this.extend(e,t),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map};return e.prototype={extend:function(e,t){if(null==e)return t;for(var n in e)null!=e[n]&&t[n]!==e[n]&&(t[n]=e[n]);return t},log:function(e){window.console&&console.log(e)},get:function(e){var t=[];t=this.userAgentKey(t),t=this.languageKey(t),t=this.colorDepthKey(t),t=this.screenResolutionKey(t),t=this.availableScreenResolutionKey(t),t=this.timezoneOffsetKey(t),t=this.sessionStorageKey(t),t=this.localStorageKey(t),t=this.indexedDbKey(t),t=this.addBehaviorKey(t),t=this.openDatabaseKey(t),t=this.cpuClassKey(t),t=this.platformKey(t),t=this.doNotTrackKey(t),t=this.pluginsKey(t),t=this.canvasKey(t),t=this.webglKey(t),t=this.adBlockKey(t),t=this.hasLiedLanguagesKey(t),t=this.hasLiedResolutionKey(t),t=this.hasLiedOsKey(t),t=this.hasLiedBrowserKey(t),t=this.touchSupportKey(t);var n=this;this.fontsKey(t,function(t){var r=[];n.each(t,function(e){var t=e.value;void 0!==e.value.join&&(t=e.value.join(";")),r.push(t)});var o=n.x64hash128(r.join("~~~"),31);return e(o,t)})},userAgentKey:function(e){return this.options.excludeUserAgent||e.push({key:"user_agent",value:this.getUserAgent()}),e},getUserAgent:function(){return navigator.userAgent},languageKey:function(e){return this.options.excludeLanguage||e.push({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage}),e},colorDepthKey:function(e){return this.options.excludeColorDepth||e.push({key:"color_depth",value:screen.colorDepth}),e},screenResolutionKey:function(e){return this.options.excludeScreenResolution?e:this.getScreenResolution(e)},getScreenResolution:function(e){var t;return t=this.options.detectScreenOrientation&&screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height],void 0!==t&&e.push({key:"resolution",value:t}),e},availableScreenResolutionKey:function(e){return this.options.excludeAvailableScreenResolution?e:this.getAvailableScreenResolution(e)},getAvailableScreenResolution:function(e){var t;return screen.availWidth&&screen.availHeight&&(t=this.options.detectScreenOrientation?screen.availHeight>screen.availWidth?[screen.availHeight,screen.availWidth]:[screen.availWidth,screen.availHeight]:[screen.availHeight,screen.availWidth]),void 0!==t&&e.push({key:"available_resolution",value:t}),e},timezoneOffsetKey:function(e){return this.options.excludeTimezoneOffset||e.push({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),e},sessionStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&e.push({key:"session_storage",value:1}),e},localStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&e.push({key:"local_storage",value:1}),e},indexedDbKey:function(e){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&e.push({key:"indexed_db",value:1}),e},addBehaviorKey:function(e){return document.body&&!this.options.excludeAddBehavior&&document.body.addBehavior&&e.push({key:"add_behavior",value:1}),e},openDatabaseKey:function(e){return!this.options.excludeOpenDatabase&&window.openDatabase&&e.push({key:"open_database",value:1}),e},cpuClassKey:function(e){return this.options.excludeCpuClass||e.push({key:"cpu_class",value:this.getNavigatorCpuClass()}),e},platformKey:function(e){return this.options.excludePlatform||e.push({key:"navigator_platform",value:this.getNavigatorPlatform()}),e},doNotTrackKey:function(e){return this.options.excludeDoNotTrack||e.push({key:"do_not_track",value:this.getDoNotTrack()}),e},canvasKey:function(e){return!this.options.excludeCanvas&&this.isCanvasSupported()&&e.push({key:"canvas",value:this.getCanvasFp()}),e},webglKey:function(e){return this.options.excludeWebGL?("undefined"==typeof NODEBUG&&this.log("Skipping WebGL fingerprinting per excludeWebGL configuration option"),e):this.isWebGlSupported()?(e.push({key:"webgl",value:this.getWebglFp()}),e):("undefined"==typeof NODEBUG&&this.log("Skipping WebGL fingerprinting because it is not supported in this browser"),e)},adBlockKey:function(e){return this.options.excludeAdBlock||e.push({key:"adblock",value:this.getAdBlock()}),e},hasLiedLanguagesKey:function(e){return this.options.excludeHasLiedLanguages||e.push({key:"has_lied_languages",value:this.getHasLiedLanguages()}),e},hasLiedResolutionKey:function(e){return this.options.excludeHasLiedResolution||e.push({key:"has_lied_resolution",value:this.getHasLiedResolution()}),e},hasLiedOsKey:function(e){return this.options.excludeHasLiedOs||e.push({key:"has_lied_os",value:this.getHasLiedOs()}),e},hasLiedBrowserKey:function(e){return this.options.excludeHasLiedBrowser||e.push({key:"has_lied_browser",value:this.getHasLiedBrowser()}),e},fontsKey:function(e,t){return this.options.excludeJsFonts?this.flashFontsKey(e,t):this.jsFontsKey(e,t)},flashFontsKey:function(e,t){return this.options.excludeFlashFonts?("undefined"==typeof NODEBUG&&this.log("Skipping flash fonts detection per excludeFlashFonts configuration option"),t(e)):this.hasSwfObjectLoaded()?this.hasMinFlashInstalled()?void 0===this.options.swfPath?("undefined"==typeof NODEBUG&&this.log("To use Flash fonts detection, you must pass a valid swfPath option, skipping Flash fonts enumeration"),t(e)):void this.loadSwfAndDetectFonts(function(n){e.push({key:"swf_fonts",value:n.join(";")}),t(e)}):("undefined"==typeof NODEBUG&&this.log("Flash is not installed, skipping Flash fonts enumeration"),t(e)):("undefined"==typeof NODEBUG&&this.log("Swfobject is not detected, Flash fonts enumeration is skipped"),t(e))},jsFontsKey:function(e,t){var n=this;return setTimeout(function(){var r=["monospace","sans-serif","serif"],o=document.getElementsByTagName("body")[0],a=document.createElement("span");a.style.fontSize="72px",a.innerHTML="mmmmmmmmmmlli";var i={},l={};for(var s in r)a.style.fontFamily=r[s],o.appendChild(a),i[r[s]]=a.offsetWidth,l[r[s]]=a.offsetHeight,o.removeChild(a)
;var u=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"],c=["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"];n.options.extendedJsFonts&&(u=u.concat(c));for(var f=[],d=0,p=u.length;d<p;d++)(function(e){var t=!1;for(var n in r){a.style.fontFamily=e+","+r[n],o.appendChild(a);var s=a.offsetWidth!==i[r[n]]||a.offsetHeight!==l[r[n]];o.removeChild(a),t=t||s}return t})(u[d])&&f.push(u[d]);e.push({key:"js_fonts",value:f}),t(e)},1)},pluginsKey:function(e){return this.options.excludePlugins||(this.isIE()?e.push({key:"ie_plugins",value:this.getIEPlugins()}):e.push({key:"regular_plugins",value:this.getRegularPlugins()})),e},getRegularPlugins:function(){for(var e=[],t=0,n=navigator.plugins.length;t<n;t++)e.push(navigator.plugins[t]);return this.pluginsShouldBeSorted()&&(e=e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.map(e,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this)},getIEPlugins:function(){if(window.ActiveXObject){var e=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"];return this.map(e,function(e){try{return new ActiveXObject(e),e}catch(e){return null}})}return[]},pluginsShouldBeSorted:function(){for(var e=!1,t=0,n=this.options.sortPluginsFor.length;t<n;t++){var r=this.options.sortPluginsFor[t];if(navigator.userAgent.match(r)){e=!0;break}}return e},touchSupportKey:function(e){return this.options.excludeTouchSupport||e.push({key:"touch_support",value:this.getTouchSupport()}),e},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasIndexedDB:function(){return!!window.indexedDB},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:"unknown"},getTouchSupport:function(){var e=0,t=!1;void 0!==navigator.maxTouchPoints?e=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){}return[e,t,"ontouchstart"in window]},getCanvasFp:function(){var e=[],t=document.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var n=t.getContext("2d");return n.rect(0,0,10,10),n.rect(2,2,6,6),e.push("canvas winding:"+(!1===n.isPointInPath(5,5,"evenodd")?"yes":"no")),n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",this.options.dontUseFakeFontInCanvas?n.font="11pt Arial":n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),n.fillStyle="rgba(102, 204, 0, 0.7)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),e.push("canvas fp:"+t.toDataURL()),e.join("~")},getWebglFp:function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"};if(!(e=this.getWebglCanvas()))return null;var n=[],r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);var o=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW),r.itemSize=3,r.numItems=3;var a=e.createProgram(),i=e.createShader(e.VERTEX_SHADER);e.shaderSource(i,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),e.compileShader(i);var l=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(l,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(l),e.attachShader(a,i),e.attachShader(a,l),e.linkProgram(a),e.useProgram(a),a.vertexPosAttrib=e.getAttribLocation(a,"attrVertex"),a.offsetUniform=e.getUniformLocation(a,"uniformOffset"),e.enableVertexAttribArray(a.vertexPosArray),e.vertexAttribPointer(a.vertexPosAttrib,r.itemSize,e.FLOAT,!1,0,0),e.uniform2f(a.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,r.numItems),null!=e.canvas&&n.push(e.canvas.toDataURL()),n.push("extensions:"+e.getSupportedExtensions().join(";")),n.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),n.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),n.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),n.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),n.push("webgl max anisotropy:"+function(e){var t,n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");return n?(t=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===t&&(t=2),t):null}(e)),n.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+e.getParameter(e.RED_BITS)),n.push("webgl renderer:"+e.getParameter(e.RENDERER)),n.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),n.push("webgl vendor:"+e.getParameter(e.VENDOR)),n.push("webgl version:"+e.getParameter(e.VERSION)),e.getShaderPrecisionFormat?(n.push("webgl vertex shader high float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision),n.push("webgl vertex shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMin),n.push("webgl vertex shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMax),n.push("webgl vertex shader medium float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision),n.push("webgl vertex shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMin),n.push("webgl vertex shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMax),n.push("webgl vertex shader low float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).precision),n.push("webgl vertex shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMin),n.push("webgl vertex shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMax),n.push("webgl fragment shader high float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision),n.push("webgl fragment shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMin),n.push("webgl fragment shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMax),n.push("webgl fragment shader medium float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision),n.push("webgl fragment shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMin),n.push("webgl fragment shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMax),n.push("webgl fragment shader low float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).precision),n.push("webgl fragment shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMin),n.push("webgl fragment shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMax),n.push("webgl vertex shader high int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).precision),n.push("webgl vertex shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMin),n.push("webgl vertex shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMax),n.push("webgl vertex shader medium int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).precision),n.push("webgl vertex shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMin),n.push("webgl vertex shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMax),n.push("webgl vertex shader low int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).precision),n.push("webgl vertex shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMin),n.push("webgl vertex shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMax),n.push("webgl fragment shader high int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).precision),n.push("webgl fragment shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMin),n.push("webgl fragment shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMax),n.push("webgl fragment shader medium int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).precision),n.push("webgl fragment shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMin),n.push("webgl fragment shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMax),n.push("webgl fragment shader low int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).precision),n.push("webgl fragment shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMin),n.push("webgl fragment shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMax),n.join("~")):("undefined"==typeof NODEBUG&&this.log("WebGL fingerprinting is incomplete, because your browser does not support getShaderPrecisionFormat"),n.join("~"))},getAdBlock:function(){var e=document.createElement("div");e.setAttribute("id","ads");try{return document.body.appendChild(e),!document.getElementById("ads")}catch(e){return!1}},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},getHasLiedResolution:function(){return screen.width<screen.availWidth||screen.height<screen.availHeight},getHasLiedOs:function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.oscpu,r=navigator.platform.toLowerCase();e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("win")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0?"iOS":t.indexOf("mac")>=0?"Mac":"Other";if(("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if(void 0!==n){if(n=n.toLowerCase(),n.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(n.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(n.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if(0===n.indexOf("win")&&0===n.indexOf("linux")&&n.indexOf("mac")>=0&&"other"!==e)return!0}return r.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||((r.indexOf("linux")>=0||r.indexOf("android")>=0||r.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||((r.indexOf("mac")>=0||r.indexOf("ipad")>=0||r.indexOf("ipod")>=0||r.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||(0===r.indexOf("win")&&0===r.indexOf("linux")&&r.indexOf("mac")>=0&&"other"!==e||void 0===navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e)))},getHasLiedBrowser:function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(("Chrome"===(e=t.indexOf("firefox")>=0?"Firefox":t.indexOf("opera")>=0||t.indexOf("opr")>=0?"Opera":t.indexOf("chrome")>=0?"Chrome":t.indexOf("safari")>=0?"Safari":t.indexOf("trident")>=0?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==n)return!0;var r=eval.toString().length;if(37===r&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===r&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===r&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;var o;try{throw"a"}catch(e){try{e.toSource(),o=!0}catch(e){o=!1}}return!(!o||"Firefox"===e||"Other"===e)},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var e,t=document.createElement("canvas");try{e=t.getContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){e=!1}return!!window.WebGLRenderingContext&&!!e},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return void 0!==window.swfobject},hasMinFlashInstalled:function(){return swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var e=document.createElement("div");e.setAttribute("id",this.options.swfContainerId),document.body.appendChild(e)},loadSwfAndDetectFonts:function(e){window.___fp_swf_loaded=function(t){e(t)};var t=this.options.swfContainerId;this.addFlashDivNode();var n={onReady:"___fp_swf_loaded"},r={allowScriptAccess:"always",menu:"false"};swfobject.embedSWF(this.options.swfPath,t,"1","1","9.0.0",!1,n,r,{})},getWebglCanvas:function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t},each:function(e,t,n){if(null!==e)if(this.nativeForEach&&e.forEach===this.nativeForEach)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e)==={})return}else for(var a in e)if(e.hasOwnProperty(a)&&t.call(n,e[a],a,e)==={})return},map:function(e,t,n){var r=[];return null==e?r:this.nativeMap&&e.map===this.nativeMap?e.map(t,n):(this.each(e,function(e,o,a){r[r.length]=t.call(n,e,o,a)}),r)},x64Add:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Multiply:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Rotl:function(e,t){return t%=64,32===t?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},x64LeftShift:function(e,t){return t%=64,0===t?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},x64Xor:function(e,t){return[e[0]^t[0],e[1]^t[1]]},x64Fmix:function(e){return e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[4283543511,3981806797]),e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[3301882366,444984403]),e=this.x64Xor(e,[0,e[0]>>>1])},x64hash128:function(e,t){e=e||"",t=t||0;for(var n=e.length%16,r=e.length-n,o=[0,t],a=[0,t],i=[0,0],l=[0,0],s=[2277735313,289559509],u=[1291169091,658871167],c=0;c<r;c+=16)i=[255&e.charCodeAt(c+4)|(255&e.charCodeAt(c+5))<<8|(255&e.charCodeAt(c+6))<<16|(255&e.charCodeAt(c+7))<<24,255&e.charCodeAt(c)|(255&e.charCodeAt(c+1))<<8|(255&e.charCodeAt(c+2))<<16|(255&e.charCodeAt(c+3))<<24],l=[255&e.charCodeAt(c+12)|(255&e.charCodeAt(c+13))<<8|(255&e.charCodeAt(c+14))<<16|(255&e.charCodeAt(c+15))<<24,255&e.charCodeAt(c+8)|(255&e.charCodeAt(c+9))<<8|(255&e.charCodeAt(c+10))<<16|(255&e.charCodeAt(c+11))<<24],i=this.x64Multiply(i,s),i=this.x64Rotl(i,31),i=this.x64Multiply(i,u),o=this.x64Xor(o,i),o=this.x64Rotl(o,27),o=this.x64Add(o,a),o=this.x64Add(this.x64Multiply(o,[0,5]),[0,1390208809]),l=this.x64Multiply(l,u),l=this.x64Rotl(l,33),l=this.x64Multiply(l,s),a=this.x64Xor(a,l),a=this.x64Rotl(a,31),a=this.x64Add(a,o),a=this.x64Add(this.x64Multiply(a,[0,5]),[0,944331445]);switch(i=[0,0],l=[0,0],n){case 15:l=this.x64Xor(l,this.x64LeftShift([0,e.charCodeAt(c+14)],48));case 14:l=this.x64Xor(l,this.x64LeftShift([0,e.charCodeAt(c+13)],40));case 13:l=this.x64Xor(l,this.x64LeftShift([0,e.charCodeAt(c+12)],32));case 12:l=this.x64Xor(l,this.x64LeftShift([0,e.charCodeAt(c+11)],24));case 11:l=this.x64Xor(l,this.x64LeftShift([0,e.charCodeAt(c+10)],16));case 10:l=this.x64Xor(l,this.x64LeftShift([0,e.charCodeAt(c+9)],8));case 9:l=this.x64Xor(l,[0,e.charCodeAt(c+8)]),l=this.x64Multiply(l,u),l=this.x64Rotl(l,33),l=this.x64Multiply(l,s),a=this.x64Xor(a,l);case 8:i=this.x64Xor(i,this.x64LeftShift([0,e.charCodeAt(c+7)],56));case 7:i=this.x64Xor(i,this.x64LeftShift([0,e.charCodeAt(c+6)],48));case 6:i=this.x64Xor(i,this.x64LeftShift([0,e.charCodeAt(c+5)],40));case 5:i=this.x64Xor(i,this.x64LeftShift([0,e.charCodeAt(c+4)],32));case 4:i=this.x64Xor(i,this.x64LeftShift([0,e.charCodeAt(c+3)],24));case 3:i=this.x64Xor(i,this.x64LeftShift([0,e.charCodeAt(c+2)],16));case 2:i=this.x64Xor(i,this.x64LeftShift([0,e.charCodeAt(c+1)],8));case 1:i=this.x64Xor(i,[0,e.charCodeAt(c)]),i=this.x64Multiply(i,s),i=this.x64Rotl(i,31),i=this.x64Multiply(i,u),o=this.x64Xor(o,i)}return o=this.x64Xor(o,[0,e.length]),a=this.x64Xor(a,[0,e.length]),o=this.x64Add(o,a),a=this.x64Add(a,o),o=this.x64Fmix(o),a=this.x64Fmix(a),o=this.x64Add(o,a),a=this.x64Add(a,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}},e.VERSION="1.1.0",e})},{}],82:[function(e,t,n){"use strict";function r(e){var t=Math.floor((new Date).getTime()/1e3),n=e-t;Math.abs(n)>=a&&(i=n)}function o(e){var t=Math.floor(Date.now()/1e3)+(i||0);return e?t-t%5:t}Object.defineProperty(n,"__esModule",{value:!0}),n.initFixtime=r;var a=20,i=null;o.init=r,n.default=o},{}],83:[function(e,t,n){(function(r){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(e,t,n,r){for(var i,l=n.slice(),s=a(t,e),u=0,c=l.length;u<c&&(handler=l[u],"object"==("undefined"==typeof handler?"undefined":o(handler))&&"function"==typeof handler.handleEvent?handler.handleEvent(s):handler.call(e,s),!s.stoppedImmediatePropagation);u++);return i=!s.stoppedPropagation,r&&i&&e.parentNode?e.parentNode.dispatchEvent(s):!s.defaultPrevented}function n(e,t){return{configurable:!0,get:e,set:t}}function r(e,t,r){var o=E(t||e,r);g(e,"textContent",n(function(){return o.get.call(this)},function(e){o.set.call(this,e)}))}function a(e,t){return e.currentTarget=t,e.eventPhase=e.target===e.currentTarget?2:3,e}function i(e,t){for(var n=e.length;n--&&e[n]!==t;);return n}function l(){if("BR"===this.tagName)return"\n";for(var e=this.firstChild,t=[];e;)8!==e.nodeType&&7!==e.nodeType&&t.push(e.textContent),e=e.nextSibling;return t.join("")}function s(e){!d&&T.test(document.readyState)&&(d=!d,document.detachEvent(p,s),e=document.createEvent("Event"),e.initEvent(m,!0,!0),document.dispatchEvent(e))}function u(e){for(var t;t=this.lastChild;)this.removeChild(t);null!=e&&this.appendChild(document.createTextNode(e))}function c(t,n){return n||(n=e.event),n.target||(n.target=n.srcElement||n.fromElement||document),n.timeStamp||(n.timeStamp=(new Date).getTime()),n}if(!document.createEvent){var f=!0,d=!1,p="onreadystatechange",m="DOMContentLoaded",h="__IE8__"+Math.random(),v=e.Object,g=v.defineProperty||function(e,t,n){e[t]=n.value},y=v.defineProperties||function(t,n){for(var r in n)if(b.call(n,r))try{g(t,r,n[r])}catch(n){e.console&&console.log(r+" failed on object:",t,n.message)}},E=v.getOwnPropertyDescriptor,b=v.prototype.hasOwnProperty,S=e.Element.prototype,w=e.Text.prototype,_=/^[a-z]+$/,T=/loaded|complete/,O={},M=document.createElement("div");r(e.HTMLCommentElement.prototype,S,"nodeValue"),r(e.HTMLScriptElement.prototype,null,"text"),r(w,null,"nodeValue"),r(e.HTMLTitleElement.prototype,null,"text"),g(e.HTMLStyleElement.prototype,"textContent",function(e){return n(function(){return e.get.call(this.styleSheet)},function(t){e.set.call(this.styleSheet,t)})}(E(e.CSSStyleSheet.prototype,"cssText"))),y(S,{textContent:{get:l,set:u},firstElementChild:{get:function(){for(var e=this.childNodes||[],t=0,n=e.length;t<n;t++)if(1==e[t].nodeType)return e[t]}},lastElementChild:{get:function(){for(var e=this.childNodes||[],t=e.length;t--;)if(1==e[t].nodeType)return e[t]}},previousElementSibling:{get:function(){for(var e=this.previousSibling;e&&1!=e.nodeType;)e=e.previousSibling;return e}},nextElementSibling:{get:function(){for(var e=this.nextSibling;e&&1!=e.nodeType;)e=e.nextSibling;return e}},childElementCount:{get:function(){for(var e=0,t=this.childNodes||[],n=t.length;n--;e+=1==t[n].nodeType);return e}},addEventListener:{value:function(e,n,r){var o,a=this,l="on"+e,s=a[h]||g(a,h,{value:{}})[h],u=s[l]||(s[l]={}),f=u.h||(u.h=[]);if(!b.call(u,"w")){if(u.w=function(e){return e[h]||t(a,c(a,e),f,!1)},!b.call(O,l))if(_.test(e))try{o=document.createEventObject(),o[h]=!0,9!=a.nodeType&&null==a.parentNode&&M.appendChild(a),a.fireEvent(l,o),O[l]=!0}catch(o){for(O[l]=!1;M.hasChildNodes();)M.removeChild(M.firstChild)}else O[l]=!1;(u.n=O[l])&&a.attachEvent(l,u.w)}i(f,n)<0&&f[r?"unshift":"push"](n)}},dispatchEvent:{value:function(e){var n,r=this,o="on"+e.type,a=r[h],i=a&&a[o],l=!!i;return e.target||(e.target=r),l?i.n?r.fireEvent(o,e):t(r,e,i.h,!0):!(n=r.parentNode)||n.dispatchEvent(e),!e.defaultPrevented}},removeEventListener:{value:function(e,t,n){var r=this,o="on"+e,a=r[h],l=a&&a[o],s=l&&l.h,u=s?i(s,t):-1;-1<u&&s.splice(u,1)}}}),y(w,{addEventListener:{value:S.addEventListener},dispatchEvent:{value:S.dispatchEvent},removeEventListener:{value:S.removeEventListener}}),y(e.XMLHttpRequest.prototype,{addEventListener:{value:function(e,t,n){var r=this,o="on"+e,a=r[h]||g(r,h,{value:{}})[h],l=a[o]||(a[o]={}),s=l.h||(l.h=[]);i(s,t)<0&&(r[o]||(r[o]=function(){var t=document.createEvent("Event");t.initEvent(e,!0,!0),r.dispatchEvent(t)}),s[n?"unshift":"push"](t))}},dispatchEvent:{value:function(e){var n=this,r="on"+e.type,o=n[h],a=o&&o[r];return!!a&&(a.n?n.fireEvent(r,e):t(n,e,a.h,!0))}},removeEventListener:{value:S.removeEventListener}}),y(e.Event.prototype,{bubbles:{value:!0,writable:!0},cancelable:{value:!0,writable:!0},preventDefault:{value:function(){this.cancelable&&(this.defaultPrevented=!0,this.returnValue=!1)}},stopPropagation:{value:function(){this.stoppedPropagation=!0,this.cancelBubble=!0}},stopImmediatePropagation:{value:function(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}},
initEvent:{value:function(e,t,n){this.type=e,this.bubbles=!!t,this.cancelable=!!n,this.bubbles||this.stopPropagation()}}}),y(e.HTMLDocument.prototype,{textContent:{get:function(){return 11===this.nodeType?l.call(this):null},set:function(e){11===this.nodeType&&u.call(this,e)}},addEventListener:{value:function(t,n,r){var o=this;S.addEventListener.call(o,t,n,r),f&&t===m&&!T.test(o.readyState)&&(f=!1,o.attachEvent(p,s),e==top&&function e(t){try{o.documentElement.doScroll("left"),s()}catch(t){setTimeout(e,50)}}())}},dispatchEvent:{value:S.dispatchEvent},removeEventListener:{value:S.removeEventListener},createEvent:{value:function(e){var t;if("Event"!==e)throw new Error("unsupported "+e);return t=document.createEventObject(),t.timeStamp=(new Date).getTime(),t}}}),y(e.Window.prototype,{getComputedStyle:{value:function(){function e(e){this._=e}function t(){}var n=/^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/,r=/^(top|right|bottom|left)$/,o=function(e,t){return t.toUpperCase()};return e.prototype.getPropertyValue=function(e){var t,a,i,l=this._,s=l.style,u=l.currentStyle,c=l.runtimeStyle;return e=("float"===e?"style-float":e).replace(/\-([a-z])/g,o),t=u?u[e]:s[e],n.test(t)&&!r.test(e)&&(a=s.left,i=c&&c.left,i&&(c.left=u.left),s.left="fontSize"===e?"1em":t,t=s.pixelLeft+"px",s.left=a,i&&(c.left=i)),null==t?t:t+""||"auto"},t.prototype.getPropertyValue=function(){return null},function(n,r){return r?new t(n):new e(n)}}()},addEventListener:{value:function(n,r,o){var a,l=e,s="on"+n;l[s]||(l[s]=function(e){return t(l,c(l,e),a,!1)}),a=l[s][h]||(l[s][h]=[]),i(a,r)<0&&a[o?"unshift":"push"](r)}},dispatchEvent:{value:function(t){var n=e["on"+t.type];return!n||!1!==n.call(e,t)&&!t.defaultPrevented}},removeEventListener:{value:function(t,n,r){var o="on"+t,a=(e[o]||v)[h],l=a?i(a,n):-1;-1<l&&a.splice(l,1)}}})}}(void 0),function(e){if("object"==(void 0===n?"undefined":o(n))&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var a;"undefined"!=typeof window?a=window:void 0!==r?a=r:"undefined"!=typeof self&&(a=self),a.flowplayer=e()}}(function(){var t;return function t(n,r,o){function a(l,s){if(!r[l]){if(!n[l]){var u="function"==typeof e&&e;if(!s&&u)return u(l,!0);if(i)return i(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[l]={exports:{}};n[l][0].call(f.exports,function(e){var t=n[l][1][e];return a(t||e)},f,f.exports,t,n,r,o)}return r[l].exports}for(var i="function"==typeof e&&e,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(e,t,n){var r=t.exports={},a=e("class-list"),i=window.jQuery,l=e("punycode"),s=e("computed-style");r.noop=function(){},r.identity=function(e){return e},r.removeNode=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},r.find=function(e,t){return i?i(e,t).toArray():(t=t||document,Array.prototype.map.call(t.querySelectorAll(e),function(e){return e}))},r.text=function(e,t){e["innerText"in e?"innerText":"textContent"]=t},r.findDirect=function(e,t){return r.find(e,t).filter(function(e){return e.parentNode===t})},r.hasClass=function(e,t){return a(e).contains(t)},r.isSameDomain=function(e){var t=window.location,n=r.createElement("a",{href:e});return t.hostname===n.hostname&&t.protocol===n.protocol&&t.port===n.port},r.css=function(e,t,n){return"object"===(void 0===t?"undefined":o(t))?Object.keys(t).forEach(function(n){r.css(e,n,t[n])}):void 0!==n?""===n?e?e.style.removeProperty(t):void 0:e?e.style.setProperty(t,n):void 0:e?s(e,t):void 0},r.createElement=function(e,t,n){try{var o=document.createElement(e);for(var a in t)t.hasOwnProperty(a)&&("css"===a?r.css(o,t[a]):r.attr(o,a,t[a]));return o.innerHTML=n||"",o}catch(r){if(!i)throw r;return i("<"+e+">"+n+"</"+e+">").attr(t)[0]}},r.toggleClass=function(e,t,n){if(e){var r=a(e);void 0===n?r.toggle(t):n?r.add(t):n||r.remove(t)}},r.addClass=function(e,t){return r.toggleClass(e,t,!0)},r.removeClass=function(e,t){return r.toggleClass(e,t,!1)},r.append=function(e,t){return e.appendChild(t),e},r.appendTo=function(e,t){return r.append(t,e),e},r.prepend=function(e,t){e.insertBefore(t,e.firstChild)},r.insertAfter=function(e,t,n){t==r.lastChild(e)&&e.appendChild(n);var o=Array.prototype.indexOf.call(e.children,t);e.insertBefore(n,e.children[o+1])},r.html=function(e,t){e=e.length?e:[e],e.forEach(function(e){e.innerHTML=t})},r.attr=function(e,t,n){if("class"===t&&(t="className"),r.hasOwnOrPrototypeProperty(e,t))try{e[t]=n}catch(r){if(!i)throw r;i(e).attr(t,n)}else!1===n?e.removeAttribute(t):e.setAttribute(t,n);return e},r.prop=function(e,t,n){if(void 0===n)return e&&e[t];e[t]=n},r.offset=function(e){var t=e.getBoundingClientRect();return e.offsetWidth/e.offsetHeight>e.clientWidth/e.clientHeight&&(t={left:100*t.left,right:100*t.right,top:100*t.top,bottom:100*t.bottom,width:100*t.width,height:100*t.height}),t},r.width=function(e,t){if(t)return e.style.width=(""+t).replace(/px$/,"")+"px";var n=r.offset(e).width;return void 0===n?e.offsetWidth:n},r.height=function(e,t){if(t)return e.style.height=(""+t).replace(/px$/,"")+"px";var n=r.offset(e).height;return void 0===n?e.offsetHeight:n},r.lastChild=function(e){return e.children[e.children.length-1]},r.hasParent=function(e,t){for(var n=e.parentElement;n;){if(r.matches(n,t))return!0;n=n.parentElement}return!1},r.createAbsoluteUrl=function(e){return r.createElement("a",{href:e}).href},r.xhrGet=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState)return this.status>=400?n():void t(this.responseText)},r.open("get",e,!0),r.send()},r.pick=function(e,t){var n={};return t.forEach(function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n},r.hostname=function(e){return l.toUnicode(e||window.location.hostname)},r.browser={webkit:"WebkitAppearance"in document.documentElement.style},r.getPrototype=function(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__},r.hasOwnOrPrototypeProperty=function(e,t){for(var n=e;n;){if(Object.prototype.hasOwnProperty.call(n,t))return!0;n=r.getPrototype(n)}return!1},r.matches=function(e,t){var n=Element.prototype;return(n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),r=0;n[r]&&n[r]!==t;)r++;return!!n[r]}).call(e,t)},function(e){function t(e){return e.replace(/-[a-z]/g,function(e){return e[1].toUpperCase()})}void 0!==e.setAttribute&&(e.setProperty=function(e,n){return this.setAttribute(t(e),String(n))},e.getPropertyValue=function(e){return this.getAttribute(t(e))||null},e.removeProperty=function(e){var n=this.getPropertyValue(e);return this.removeAttribute(t(e)),n})}(window.CSSStyleDeclaration.prototype)},{"class-list":22,"computed-style":24,punycode:21}],2:[function(e,t,n){var r=e("../common");t.exports=function(e,t,n,o){n=n||"opaque";var a="obj"+(""+Math.random()).slice(2,15),i='<object class="fp-engine" id="'+a+'" name="'+a+'" ',l=navigator.userAgent.indexOf("MSIE")>-1;i+=l?'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">':' data="'+e+'" type="application/x-shockwave-flash">';var s={width:"100%",height:"100%",allowscriptaccess:"always",wmode:n,quality:"high",flashvars:"",movie:e+(l?"?"+a:""),name:a};"transparent"!==n&&(s.bgcolor=o||"#333333"),Object.keys(t).forEach(function(e){s.flashvars+=e+"="+t[e]+"&"}),Object.keys(s).forEach(function(e){i+='<param name="'+e+'" value="'+s[e]+'"/>'}),i+="</object>";var u=r.createElement("div",{},i);return r.find("object",u)},window.attachEvent&&window.attachEvent("onbeforeunload",function(){window.__flash_savedUnloadHandler=window.__flash_unloadHandler=function(){}})},{"../common":1}],3:[function(e,t,n){function r(e){return/^https?:/.test(e)}var o,a=e("../flowplayer"),i=e("../common"),l=e("./embed"),s=e("extend-object"),u=e("bean");o=function(e,t){function n(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}if(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))return"#"+t(e[1])+t(e[2])+t(e[3])}function c(e){return 7===e.length?e:"#"+e.split("").slice(1).map(function(e){return e+e}).join("")}function f(e){return/application\/x-mpegurl/i.test(e.type)}var d,p,m,h=e.conf,v=(e.video,window,{engineName:o.engineName,pick:function(t){var n=s({},function(){if(a.support.flashVideo){for(var n,r,o=0;o<t.length;o++)if(r=t[o],/mp4|flv|flash/i.test(r.type)&&(n=r),e.conf.swfHls&&/mpegurl/i.test(r.type)&&(n=r),n&&!/mp4/i.test(n.type))return n;return n}}());if(n)return!n.src||r(n.src)||e.conf.rtmp||n.rtmp||(n.src=i.createAbsoluteUrl(n.src)),n},load:function(o){function g(e){return e.replace(/&amp;/g,"%26").replace(/&/g,"%26").replace(/=/g,"%3D")}d=o;var y=i.findDirect("video",t)[0]||i.find(".fp-player > video",t)[0],E=o.src,b=r(E),S=function(){i.removeNode(y)};a.support.video&&i.prop(y,"autoplay")&&function(e){return e.some(function(e){return!!y.canPlayType(e.type)})}(o.sources)?u.one(y,"timeupdate",S):S();var w=o.rtmp||h.rtmp;if(b||w||(E=i.createAbsoluteUrl(E)),m&&f(o)&&m.data!==h.swfHls&&v.unload(),m){["live","preload","loop","connectionProvider","guest_screen"].forEach(function(e){o.hasOwnProperty(e)&&m.__set(e,o[e])}),Object.keys(o.flashls||{}).forEach(function(e){m.__set("hls_"+e,o.flashls[e])});var _=!1;if(!b&&w)m.__set("rtmp",w.url||w);else{_=!!m.__get("rtmp"),m.__set("rtmp",null)}m.__set("initialVolume",e.volumeLevel),m.__play(E,_||o.rtmp&&o.rtmp!==h.rtmp)}else{p="fpCallback"+(""+Math.random()).slice(3,15),E=g(E);var T={hostname:h.embedded?i.hostname(h.hostname):i.hostname(location.hostname),url:E,callback:p};t.getAttribute("data-origin")&&(T.origin=t.getAttribute("data-origin")),["proxy","key","autoplay","preload","subscribe","live","loop","debug","splash","poster","rtmpt","connectionProvider","timeOut","guest_screen","bufferTimeout","scale"].forEach(function(e){h.hasOwnProperty(e)&&(T[e]=h[e]),o.hasOwnProperty(e)&&(T[e]=o[e]),(h.rtmp||{}).hasOwnProperty(e)&&(T[e]=(h.rtmp||{})[e]),(o.rtmp||{}).hasOwnProperty(e)&&(T[e]=(o.rtmp||{})[e])}),h.rtmp&&(T.rtmp=h.rtmp.url||h.rtmp),o.rtmp&&(T.rtmp=o.rtmp.url||o.rtmp),Object.keys(o.flashls||{}).forEach(function(e){var t=o.flashls[e];T["hls_"+e]=t}),void 0!==h.bufferTime&&(T.bufferTime=h.bufferTime),b&&delete T.rtmp,T.rtmp&&(T.rtmp=g(T.rtmp));var O,M=h.bgcolor||i.css(t,"background-color")||"";0===M.indexOf("rgb")?O=n(M):0===M.indexOf("#")&&(O=c(M)),T.initialVolume=e.volumeLevel;var A=f(o)?h.swfHls:h.swf;m=l(A,T,h.wmode,O)[0];var P=i.find(".fp-player",t)[0];i.prepend(P,m),m.pollInterval=setInterval(function(){if(m){var t=m.__status?m.__status():null;t&&(e.playing&&t.time&&t.time!==e.video.time&&e.trigger("progress",[e,t.time]),o.buffer=t.buffer/o.bytes*o.duration,e.trigger("buffer",[e,o.buffer]),!o.buffered&&t.time>0&&(o.buffered=!0,e.trigger("buffered",[e])))}},250),window[p]=function(n,r){var o=d;h.debug&&(0===n.indexOf("debug")&&r&&r.length?console.log.apply(console,["--"+new Date+" "+n].concat(r)):console.log("--"+new Date,n,r));var a={type:n};if(-1!="onBeforeConnect".indexOf(n))return!e.conf[n]||e.conf[n](r);switch(n){case"ready":r=s(o,r);break;case"click":a.flash=!0;break;case"keydown":a.which=r;break;case"seek":o.time=r;break;case"pause":o.buffered=!1;break;case"status":e.trigger("progress",[e,r.time]),r.buffer<o.bytes&&!o.buffered?(o.buffer=r.buffer/o.bytes*o.duration,e.trigger("buffer",o.buffer)):o.buffered||(o.buffered=!0,e.trigger("buffered"))}"click"===n||"keydown"===n?(a.target=t,u.fire(t,n,[a])):"buffered"!=n&&"unload"!==n?setTimeout(function(){e.trigger(a,[e,r])},1):"unload"===n&&e.trigger(a,[e,r])}}},speed:i.noop,unload:function(){m&&m.__unload&&m.__unload();try{p&&window[p]&&delete window[p]}catch(e){}i.find("object",t).forEach(i.removeNode),m=0,e.off(".flashengine"),clearInterval(m.pollInterval)},checkBandwidth:function(e){m.__checkBandwidth(e)}});return["pause","resume","seek","volume"].forEach(function(t){v[t]=function(n){try{e.ready&&(void 0===n?m["__"+t]():m["__"+t](n))}catch(n){if(void 0===m["__"+t])return e.trigger("flashdisabled",[e]);throw n}}}),v},o.engineName="flash",o.canPlay=function(e,t){return a.support.flashVideo&&/video\/(mp4|flash|flv)/i.test(e)||a.support.flashVideo&&t.swfHls&&/mpegurl/i.test(e)},a.engines.push(o)},{"../common":1,"../flowplayer":18,"./embed":2,bean:20,"extend-object":26}],4:[function(e,t,n){function r(e,t){return t=t||100,Math.round(e*t)/t}function o(e){return/mpegurl/i.test(e)?"application/x-mpegurl":e}function a(e){return/^(video|application)/i.test(e)||(e=o(e)),!!m.canPlayType(e).replace("no","")}function i(e,t){var n=e.filter(function(e){return e.type===t});return n.length?n[0]:null}var l,s,u=e("../flowplayer"),c=e("bean"),f=e("class-list"),d=e("extend-object"),p=e("../common"),m=document.createElement("video"),h={ended:"finish",pause:"pause",play:"resume",progress:"buffer",timeupdate:"progress",volumechange:"volume",ratechange:"speed",seeked:"seek",loadeddata:"ready",error:"error",dataunavailable:"error",webkitendfullscreen:!u.support.inlineVideo&&"unload"},v=function(e,t,n,r){if(void 0===t&&(t=!0),void 0===n&&(n="none"),void 0===r&&(r=!0),r&&l)return l.type=o(e.type),l.src=e.src,p.find("track",l).forEach(p.removeNode),l.removeAttribute("crossorigin"),l;var a=document.createElement("video");return a.src=e.src,a.type=o(e.type),a.className="fp-engine",a.autoplay=!!t&&"autoplay",a.preload=n,a.setAttribute("x-webkit-airplay","allow"),r&&(l=a),a};s=function(e,t){function n(n,o,i){var l=t.getAttribute("data-flowplayer-instance-id");if(n.listeners&&n.listeners.hasOwnProperty(l))return void(n.listeners[l]=i);(n.listeners||(n.listeners={}))[l]=i,c.on(o,"error",function(t){try{a(t.target.getAttribute("type"))&&e.trigger("error",[e,{code:4,video:d(i,{src:n.src,url:n.src})}])}catch(e){}}),e.on("shutdown",function(){c.off(o)});var s={};return Object.keys(h).forEach(function(o){var a=h[o];if(a){var u=function(s){if(i=n.listeners[l],s.target&&f(s.target).contains("fp-engine")&&(b.debug&&!/progress/.test(a)&&console.log(o,"->",a,s),(e.ready||/ready|error/.test(a))&&a&&p.find("video",t).length)){var u;if("unload"===a)return void e.unload();var c=function(){e.trigger(a,[e,u])};switch(a){case"ready":u=d(i,{duration:n.duration,width:n.videoWidth,height:n.videoHeight,url:n.currentSrc,src:n.currentSrc});try{u.seekable=!e.live&&/mpegurl/i.test(i?i.type||"":"")&&n.duration||n.seekable&&n.seekable.end(null)}catch(e){}if(m=m||setInterval(function(){try{u.buffer=n.buffered.end(null)}catch(e){}u.buffer&&(r(u.buffer,1e3)<r(u.duration,1e3)&&!u.buffered?e.trigger("buffer",s):u.buffered||(u.buffered=!0,e.trigger("buffer",s).trigger("buffered",s),clearInterval(m),m=0))},250),!e.live&&!u.duration&&!E.hlsDuration&&"loadeddata"===o){var h=function e(){u.duration=n.duration;try{u.seekable=n.seekable&&n.seekable.end(null)}catch(e){}c(),n.removeEventListener("durationchange",e),f(t).remove("is-live")};n.addEventListener("durationchange",h);var v=function r(){e.ready||n.duration||(u.duration=0,f(t).add("is-live"),c()),n.removeEventListener("timeupdate",r)};return void n.addEventListener("timeupdate",v)}break;case"progress":case"seek":e.video.duration;if(n.currentTime>0||e.live)u=Math.max(n.currentTime,0);else if("progress"==a)return;break;case"speed":u=r(n.playbackRate);break;case"volume":u=r(n.volume);break;case"error":try{u=(s.srcElement||s.originalTarget).error,u.video=d(i,{src:n.src,url:n.src})}catch(e){return}}c()}};t.addEventListener(o,u,!0),s[o]||(s[o]=[]),s[o].push(u)}}),s}var o,m,g,y=p.findDirect("video",t)[0]||p.find(".fp-player > video",t)[0],E=u.support,b=(p.find("track",y)[0],e.conf);return o={engineName:s.engineName,pick:function(e){var t=function(){if(E.video){if(b.videoTypePreference){var t=i(e,b.videoTypePreference);if(t)return t}for(var n=0;n<e.length;n++)if(a(e[n].type))return e[n]}}();if(t)return"string"==typeof t.src&&(t.src=p.createAbsoluteUrl(t.src)),t},load:function(r){var a=!1,i=p.find(".fp-player",t)[0],l=!1;b.splash&&!y?(y=v(r),p.prepend(i,y),a=!0):y?(f(y).add("fp-engine"),p.find("source,track",y).forEach(p.removeNode),e.conf.nativesubtitles||p.attr(y,"crossorigin",!1),l=y.src===r.src):(y=v(r,!!r.autoplay||!!b.autoplay,b.clip.preload||"metadata",!1),p.prepend(i,y),a=!0),E.inlineVideo||p.css(y,{position:"absolute",top:"-9999em"}),c.off(y,"timeupdate",p.noop),c.on(y,"timeupdate",p.noop),p.prop(y,"loop",!(!r.loop&&!b.loop)),void 0!==g&&(y.volume=g),(e.video.src&&r.src!=e.video.src||r.index)&&p.attr(y,"autoplay","autoplay"),y.src=r.src,y.type=r.type,o._listeners=n(y,p.find("source",y).concat(y),r),("none"==b.clip.preload||"mpegurl"==r.type)&&E.zeropreload&&E.dataload||y.load(),(a||l)&&y.load(),y.paused&&(r.autoplay||b.autoplay)&&y.play()},pause:function(){y.pause()},resume:function(){y.play()},speed:function(e){y.playbackRate=e},seek:function(t){try{var n=e.paused;y.currentTime=t,n&&y.pause()}catch(e){}},volume:function(e){g=e,y&&(y.volume=e)},unload:function(){p.find("video.fp-engine",t).forEach(p.removeNode),E.cachedVideoTag||(l=null),m=clearInterval(m);var e=t.getAttribute("data-flowplayer-instance-id");delete y.listeners[e],y=0,o._listeners&&Object.keys(o._listeners).forEach(function(e){o._listeners[e].forEach(function(n){t.removeEventListener(e,n,!0)})})}}},s.canPlay=function(e){return u.support.video&&a(e)},s.engineName="html5",u.engines.push(s)},{"../common":1,"../flowplayer":18,bean:20,"class-list":22,"extend-object":26}],5:[function(e,t,n){var r=e("../flowplayer"),o=e("./resolve").TYPE_RE,a=e("scriptjs"),i=e("bean");r(function(e,t){var n,r=e.conf.analytics,l=0,s=0;if(r){"undefined"==typeof _gat&&a("//google-analytics.com/ga.js");var u=function(){var e=_gat._getTracker(r);return e._setAllowLinker(!0),e},c=function(r,a,i){if(i=i||e.video,l&&"undefined"!=typeof _gat){u()._trackEvent("Video / Seconds played",e.engine.engineName+"/"+i.type,i.title||t.getAttribute("title")||i.src.split("/").slice(-1)[0].replace(o,""),Math.round(l/1e3)),l=0,n&&(clearTimeout(n),n=null)}};e.bind("load unload",c).bind("progress",function(){e.seeking||(l+=s?+new Date-s:0,s=+new Date),n||(n=setTimeout(function(){n=null,u()._trackEvent("Flowplayer heartbeat","Heartbeat","",0,!0)},6e5))}).bind("pause",function(){s=0}),e.bind("shutdown",function(){i.off(window,"unload",c)}),i.on(window,"unload",c)}})},{"../flowplayer":18,"./resolve":13,bean:20,scriptjs:29}],6:[function(e,t,n){var r=e("../flowplayer"),o=e("class-list"),a=e("../common"),i=e("bean");r(function(e,t){function n(e){t.className=t.className.replace(l," "),e>=0&&o(t).add("cue"+e)}function r(t){var n=t&&!isNaN(t.time)?t.time:t;return n<0&&(n=e.video.duration+n),.125*Math.round(n/.125)}var l=/ ?cue\d+ ?/,s=!1,u={},c=-.125,f=function(t){var r=e.cuepoints.indexOf(t);isNaN(t)||(t={time:t}),t.index=r,n(r),e.trigger("cuepoint",[e,t])};e.on("progress",function(e,t,n){if(!s)for(var o=r(n);c<o;)c+=.125,u[c]&&u[c].forEach(f)}).on("unload",n).on("beforeseek",function(e){setTimeout(function(){e.defaultPrevented||(s=!0)})}).on("seek",function(e,t,o){n(),c=r(o||0)-.125,s=!1,!o&&u[0]&&u[0].forEach(f)}).on("ready",function(t,n,r){c=-.125;var o=r.cuepoints||e.conf.cuepoints||[];e.setCuepoints(o)}).on("finish",function(){c=-.125}),e.conf.generate_cuepoints&&e.bind("load",function(){a.find(".fp-cuepoint",t).forEach(a.removeNode)}),e.setCuepoints=function(t){return e.cuepoints=[],u={},t.forEach(e.addCuepoint),e},e.addCuepoint=function(n){e.cuepoints||(e.cuepoints=[]);var o=r(n);if(u[o]||(u[o]=[]),u[o].push(n),e.cuepoints.push(n),e.conf.generate_cuepoints&&!1!==n.visible){var l=e.video.duration,s=a.find(".fp-timeline",t)[0];a.css(s,"overflow","visible");var c=n.time||n;c<0&&(c=l+c);var f=a.createElement("a",{className:"fp-cuepoint fp-cuepoint"+(e.cuepoints.length-1)});a.css(f,"left",c/l*100+"%"),s.appendChild(f),i.on(f,"mousedown",function(t){t.preventDefault(),t.stopPropagation(),e.seek(c)})}return e},e.removeCuepoint=function(t){var n=e.cuepoints.indexOf(t),o=r(t);if(-1!==n){e.cuepoints=e.cuepoints.slice(0,n).concat(e.cuepoints.slice(n+1));var a=u[o].indexOf(t);if(-1!==a)return u[o]=u[o].slice(0,a).concat(u[o].slice(a+1)),e}}})},{"../common":1,"../flowplayer":18,bean:20,"class-list":22}],7:[function(e,t,n){var r=e("../flowplayer"),o=e("bean"),a=e("../common"),i=(e("is-object"),e("extend-object")),l=e("class-list");r(function(e,t){if(!1!==e.conf.embed){var n=(e.conf,a.find(".fp-ui",t)[0]),r=a.createElement("a",{class:"fp-embed",title:"Copy to your site"}),l=a.createElement("div",{class:"fp-embed-code"},"<label>Paste this HTML code on your site to embed.</label><textarea></textarea>"),u=a.find("textarea",l)[0];n.appendChild(r),n.appendChild(l),e.embedCode=function(){var n=e.conf.embed||{},r=e.video;if(n.iframe){var o=(e.conf.embed.iframe,n.width||r.width||a.width(t)),l=n.height||r.height||a.height(t);return'<iframe src="'+e.conf.embed.iframe+'" allowfullscreen style="width:'+o+";height:"+l+';border:none;"></iframe>'}var s=["ratio","rtmp","live","bufferTime","origin","analytics","key","subscribe","swf","swfHls","embed","adaptiveRatio","logo"];n.playlist&&s.push("playlist");var u=a.pick(e.conf,s);u.logo&&(u.logo=a.createElement("img",{src:u.logo}).src),n.playlist&&e.conf.playlist.length||(u.clip=i({},e.conf.clip,a.pick(e.video,["sources"])));var c='var w=window,d=document,e;w._fpes||(w._fpes=[],w.addEventListener("load",function(){var s=d.createElement("script");s.src="//embed.flowplayer.org/6.0.5/embed.min.js",d.body.appendChild(s)})),e=[].slice.call(d.getElementsByTagName("script"),-1)[0].parentNode,w._fpes.push({e:e,l:"$library",c:$conf});\n'.replace("$conf",JSON.stringify(u)).replace("$library",n.library||"");return'<a href="$href">Watch video!\n<script>$script</script></a>'.replace("$href",e.conf.origin||window.location.href).replace("$script",c)},s(t,".fp-embed","is-embedding"),o.on(t,"click",".fp-embed-code textarea",function(){u.select()}),o.on(t,"click",".fp-embed",function(){u.textContent=e.embedCode().replace(/(\r\n|\n|\r)/gm,""),u.focus(),u.select()})}});var s=function(e,t,n){function r(){i.remove(n),o.off(document,".st")}var i=l(e);o.on(e,"click",t||"a",function(e){e.preventDefault(),i.toggle(n),i.contains(n)&&(o.on(document,"keydown.st",function(e){27==e.which&&r()}),o.on(document,"click.st",function(e){a.hasParent(e.target,"."+n)||r()}))})}},{"../common":1,"../flowplayer":18,bean:20,"class-list":22,"extend-object":26,"is-object":28}],8:[function(e,t,n){t.exports=function(e,t){t||(t=document.createElement("div"));var n={},r={},o=function(e,o,a){var i=e.split(".")[0],l=function l(s){a&&(t.removeEventListener(i,l),n[e].splice(n[e].indexOf(l),1));var u=[s].concat(r[s.timeStamp+s.type]||[]);o&&o.apply(void 0,u)};t.addEventListener(i,l),n[e]||(n[e]=[]),n[e].push(l)};e.on=e.bind=function(t,n){return t.split(" ").forEach(function(e){o(e,n)}),e},e.one=function(t,n){return t.split(" ").forEach(function(e){o(e,n,!0)}),e};var a=function(e,t){return 0===t.filter(function(t){return-1===e.indexOf(t)}).length};e.off=e.unbind=function(r){return r.split(" ").forEach(function(e){var r=e.split(".").slice(1),o=e.split(".")[0];Object.keys(n).filter(function(e){var t=e.split(".").slice(1);return(!o||0===e.indexOf(o))&&a(t,r)}).forEach(function(e){var r=n[e],o=e.split(".")[0];r.forEach(function(e){t.removeEventListener(o,e),r.splice(r.indexOf(e),1)})})}),e},e.trigger=function(n,o,a){if(n){o=(o||[]).length?o||[]:[o];var i,l=document.createEvent("Event");return i=n.type||n,l.initEvent(i,!1,!0),Object.defineProperty&&(l.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}),r[l.timeStamp+l.type]=o,t.dispatchEvent(l),a?l:e}}},t.exports.EVENTS=["beforeseek","disable","error","finish","fullscreen","fullscreen-exit","load","mute","pause","progress","ready","resume","seek","speed","stop","unload","volume","boot","shutdown"]},{}],9:[function(e,t,n){var r,o=e("../flowplayer"),a=e("bean"),i=e("class-list"),l=(e("extend-object"),e("../common")),s=(o.support.browser.mozilla,"fullscreen-exit"),u=o.support.fullscreen,c=(document.exitFullscreen,navigator.userAgent.toLowerCase()),f=/(safari)[ \/]([\w.]+)/.exec(c)&&!/(chrome)[ \/]([\w.]+)/.exec(c);a.on(document,"fullscreenchange.ffscr webkitfullscreenchange.ffscr mozfullscreenchange.ffscr MSFullscreenChange.ffscr",function(e){var t=document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.fullscreenElement||document.msFullscreenElement||e.target;if(r||t.parentNode&&t.parentNode.getAttribute("data-flowplayer-instance-id")){var n=r||o(t.parentNode);t&&!r?r=n.trigger("fullscreen",[t]):(r.trigger(s,[r]),r=null)}}),o(function(e,t){var n=l.createElement("div",{className:"fp-player"});if(Array.prototype.map.call(t.children,l.identity).forEach(function(e){l.matches(e,".fp-ratio,script")||n.appendChild(e)}),t.appendChild(n),e.conf.fullscreen){var o,a,c=window,d=i(t);e.isFullscreen=!1,e.fullscreen=function(t){if(!e.disabled&&(!e.onBeforeFullscreen||e.onBeforeFullscreen(e)))return void 0===t&&(t=!e.isFullscreen),t&&(o=c.scrollY,a=c.scrollX),u?t?["requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].forEach(function(e){if("function"==typeof n[e])return n[e](Element.ALLOW_KEYBOARD_INPUT),f&&!document.webkitCurrentFullScreenElement&&document.mozFullScreenElement,!1}):["exitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].forEach(function(e){if("function"==typeof document[e])return document[e](),!1}):e.trigger(t?"fullscreen":s,[e]),e};var p;e.on("mousedown.fs",function(){+new Date-p<150&&e.ready&&e.fullscreen(),p=+new Date}),e.on("fullscreen",function(n){d.add("is-fullscreen"),u||l.css(t,"position","fixed"),e.isFullscreen=!0}).on(s,function(n){var r;u||"html5"!==e.engine||(r=t.css("opacity")||"",l.css(t,"opacity",0)),u||l.css(t,"position",""),d.remove("is-fullscreen"),u||"html5"!==e.engine||setTimeout(function(){t.css("opacity",r)}),e.isFullscreen=!1,c.scrollTo(a,o)}).on("unload",function(){e.isFullscreen&&e.fullscreen()}),e.on("shutdown",function(){r=null})}})},{"../common":1,"../flowplayer":18,bean:20,"class-list":22,"extend-object":26}],10:[function(e,t,n){var r,o,a=e("../flowplayer"),i=e("bean"),l=e("../common"),s=e("class-list");i.on(document,"keydown.fp",function(e){var t=r,n=e.ctrlKey||e.metaKey||e.altKey,a=e.which,i=t&&t.conf,l=o&&s(o);if(t&&i.keyboard&&!t.disabled){if(-1!=[63,187,191].indexOf(a))return l.toggle("is-help"),!1;if(27==a&&l.contains("is-help"))return l.toggle("is-help"),!1;if(!n&&t.ready){if(e.preventDefault(),e.shiftKey)return void(39==a?t.speed(!0):37==a&&t.speed(!1));if(a<58&&a>47)return t.seekTo(a-48);switch(a){case 38:case 75:t.volume(t.volumeLevel+.15);break;case 40:case 74:t.volume(t.volumeLevel-.15);break;case 39:case 76:t.seeking=!0,t.seek(!0);break;case 37:case 72:t.seeking=!0,t.seek(!1);break;case 190:t.seekTo();break;case 32:t.toggle();break;case 70:i.fullscreen&&t.fullscreen();break;case 77:t.mute();break;case 81:t.unload()}}}}),a(function(e,t){if(e.conf.keyboard){i.on(t,"mouseenter mouseleave",function(n){(r=e.disabled||"mouseover"!=n.type?0:e)&&(o=t)});var n=a.support.video&&"flash"!==e.conf.engine&&document.createElement("video").playbackRate?"<p><em>shift</em> + <em>&#8592;</em><em>&#8594;</em>slower / faster</p>":"";if(t.appendChild(l.createElement("div",{className:"fp-help"},'         <a class="fp-close"></a>         <div class="fp-help-section fp-help-basics">            <p><em>space</em>play / pause</p>            <p><em>q</em>unload | stop</p>            <p><em>f</em>fullscreen</p>'+n+'         </div>         <div class="fp-help-section">            <p><em>&#8593;</em><em>&#8595;</em>volume</p>            <p><em>m</em>mute</p>         </div>         <div class="fp-help-section">            <p><em>&#8592;</em><em>&#8594;</em>seek</p>            <p><em>&nbsp;. </em>seek to previous            </p><p><em>1</em><em>2</em>&hellip; <em>6</em> seek to 10%, 20% &hellip; 60% </p>         </div>   ')),e.conf.tooltip){var u=l.find(".fp-ui",t)[0];u.setAttribute("title","Hit ? for help"),i.one(t,"mouseout.tip",".fp-ui",function(){u.removeAttribute("title")})}i.on(t,"click",".fp-close",function(){s(t).toggle("is-help")}),e.bind("shutdown",function(){o==t&&(o=null)})}})},{"../common":1,"../flowplayer":18,bean:20,"class-list":22}],11:[function(e,t,n){var r=e("../flowplayer"),o=/IEMobile/.test(window.navigator.userAgent),a=e("class-list"),i=e("../common"),l=e("bean"),s=e("./ui").format,u=window.navigator.userAgent;(r.support.touch||o)&&r(function(e,t){var n=/Android/.test(u)&&!/Firefox/.test(u)&&!/Opera/.test(u),c=/Silk/.test(u),f=n?parseFloat(/Android\ (\d\.\d)/.exec(u)[1],10):0,d=a(t);if(n&&!o){if(!/Chrome/.test(u)&&f<4){var p=e.load;e.load=function(t,n){var r=p.apply(e,arguments);return e.trigger("ready",[e,e.video]),r}}var m,h=0,v=function(e){m=setInterval(function(){e.video.time=++h,e.trigger("progress",[e,h])},1e3)};e.bind("ready pause unload",function(){m&&(clearInterval(m),m=null)}),e.bind("ready",function(){h=0}),e.bind("resume",function(t,n){if(n.live)return h?v(n):void e.one("progress",function(e,t,n){0===n&&v(t)})})}r.support.volume||(d.add("no-volume"),d.add("no-mute")),d.add("is-touch"),e.sliders&&e.sliders.timeline&&e.sliders.timeline.disableAnimation(),r.support.inlineVideo&&!e.conf.native_fullscreen||(e.conf.nativesubtitles=!0);var g=!1;l.on(t,"touchmove",function(){g=!0}),l.on(t,"touchend click",function(t){return g?void(g=!1):e.playing&&!d.contains("is-mouseover")?(d.add("is-mouseover"),d.remove("is-mouseout"),t.preventDefault(),void t.stopPropagation()):void(e.playing||e.splash||!d.contains("is-mouseout")||d.contains("is-mouseover")||setTimeout(function(){e.playing||e.splash||e.resume()},400))}),e.conf.native_fullscreen&&"function"==typeof document.createElement("video").webkitEnterFullScreen&&(e.fullscreen=function(){var e=i.find("video.fp-engine",t)[0];e.webkitEnterFullScreen(),l.one(e,"webkitendfullscreen",function(){i.prop(e,"controls",!0),i.prop(e,"controls",!1)})}),(n||c)&&e.bind("ready",function(){var n=i.find("video.fp-engine",t)[0];l.one(n,"canplay",function(){n.play()}),n.play(),e.bind("progress.dur",function(){var r=n.duration;1!==r&&(e.video.duration=r,i.find(".fp-duration",t)[0].innerHTML=s(r),e.unbind("progress.dur"))})})})},{"../common":1,"../flowplayer":18,"./ui":17,bean:20,"class-list":22}],12:[function(e,t,n){var r=e("../flowplayer"),o=e("extend-object"),a=e("bean"),i=e("class-list"),l=e("../common"),s=e("./resolve"),u=new s,c=window.jQuery,f=/^#/;r(function(e,t){function n(){return l.find(h.query,r())}function r(){if(!f.test(h.query))return t}function d(){return l.find(h.query+"."+v,r())}function p(){var n=l.find(".fp-playlist",t)[0];if(!n){n=l.createElement("div",{className:"fp-playlist"});var r=l.find(".fp-next,.fp-prev",t);r.length?r[0].parentElement.insertBefore(n,r[0]):l.insertAfter(t,l.find("video",t)[0],n)}n.innerHTML="",e.conf.playlist[0].length&&(e.conf.playlist=e.conf.playlist.map(function(e){if("string"==typeof e){var t=e.split(s.TYPE_RE)[1];return{sources:[{type:"m3u8"===t.toLowerCase()?"application/x-mpegurl":"video/"+t,src:e}]}}return{sources:e.map(function(e){var t={};return Object.keys(e).forEach(function(n){t.type=/mpegurl/i.test(n)?"application/x-mpegurl":"video/"+n,t.src=e[n]}),t})}})),e.conf.playlist.forEach(function(e,t){var r=e.sources[0].src;n.appendChild(l.createElement("a",{href:r,"data-index":t}))})}function m(t){return void 0!==t.index?t.index:void 0!==e.video.index?e.video.index:e.conf.startIndex||0}var h=o({active:"is-active",advance:!0,query:".fp-playlist a"},e.conf),v=h.active,g=i(t);e.play=function(t){if(void 0===t)return e.resume();if("number"==typeof t&&!e.conf.playlist[t])return e;if("number"!=typeof t)return e.load.apply(null,arguments);var n=o({index:t},e.conf.playlist[t]);return t===e.video.index?e.load(n,function(){e.resume()}):(e.off("resume.fromfirst"),e.load(n,function(){e.video.index=t}),e)},e.next=function(t){t&&t.preventDefault();var n=e.video.index;return-1!=n&&(n=n===e.conf.playlist.length-1?0:n+1,e.play(n)),e},e.prev=function(t){t&&t.preventDefault();var n=e.video.index;return-1!=n&&(n=0===n?e.conf.playlist.length-1:n-1,e.play(n)),e},e.setPlaylist=function(t){return e.conf.playlist=t,delete e.video.index,p(),e},
e.addPlaylistItem=function(t){return e.setPlaylist(e.conf.playlist.concat([t]))},e.removePlaylistItem=function(t){var n=e.conf.playlist;return e.setPlaylist(n.slice(0,t).concat(n.slice(t+1)))},a.on(t,"click",".fp-next",e.next),a.on(t,"click",".fp-prev",e.prev),h.advance&&e.off("finish.pl").on("finish.pl",function(e,t){if(t.video.loop)return t.seek(0,function(){t.resume()});var n=t.video.index>=0?t.video.index+1:void 0;n<t.conf.playlist.length||h.loop?(n=n===t.conf.playlist.length?0:n,g.remove("is-finished"),setTimeout(function(){t.play(n)})):t.conf.playlist.length>1&&t.one("resume.fromfirst",function(){return t.play(0),!1})});var y=!1;e.conf.playlist.length&&(y=!0,p(),e.conf.clip&&e.conf.clip.sources.length||(e.conf.clip=e.conf.playlist[e.conf.startIndex||0])),n().length&&!y&&(e.conf.playlist=[],delete e.conf.startIndex,n().forEach(function(t){var n=t.href;t.setAttribute("data-index",e.conf.playlist.length);var r=u.resolve(n,e.conf.clip.sources);c&&o(r,c(t).data()),e.conf.playlist.push(r)})),a.on(f.test(h.query)?document:t,"click",h.query,function(t){t.preventDefault();var n=t.currentTarget,r=Number(n.getAttribute("data-index"));-1!=r&&e.play(r)}),e.on("load",function(n,o,a){if(e.conf.playlist.length){var s=d()[0],u=s&&s.getAttribute("data-index"),c=a.index=m(a),f=l.find(h.query+'[data-index="'+c+'"]',r())[0],p=c==e.conf.playlist.length-1;s&&i(s).remove(v),f&&i(f).add(v),g.remove("video"+u),g.add("video"+c),l.toggleClass(t,"last-video",p),a.index=o.video.index=c,a.is_last=o.video.is_last=p}}).on("unload.pl",function(){e.conf.playlist.length&&(d().forEach(function(e){i(e).toggle(v)}),e.conf.playlist.forEach(function(e,t){g.remove("video"+t)}))}),e.conf.playlist.length&&(e.conf.loop=!1)})},{"../common":1,"../flowplayer":18,"./resolve":13,bean:20,"class-list":22,"extend-object":26}],13:[function(e,t,n){function r(e){var t=e.attr("src"),n=e.attr("type")||"",r=t.split(a)[1];return n=n.toLowerCase(),i(e.data(),{src:t,suffix:r||n,type:n||r})}function o(e){return/mpegurl/i.test(e)?"application/x-mpegurl":"video/"+e}var a=/\.(\w{3,4})(\?.*)?$/i,i=e("extend-object");t.exports=function(){var e=this;e.sourcesFromVideoTag=function(e,t){var n=[];return t("source",e).each(function(){n.push(r(t(this)))}),!n.length&&e.length&&n.push(r(e)),n},e.resolve=function(e,t){return e?("string"==typeof e&&(e={src:e,sources:[]},e.sources=(t||[]).map(function(t){var n=t.src.split(a)[1];return{type:t.type,src:e.src.replace(a,"."+n+"$2")}})),e instanceof Array&&(e={sources:e.map(function(e){return e.type&&e.src?e:Object.keys(e).reduce(function(t,n){return i(t,{type:o(n),src:e[n]})},{})})}),e):{sources:t}}},t.exports.TYPE_RE=a},{"extend-object":26}],14:[function(e,t,n){var r=e("class-list"),o=e("bean"),a=e("../common"),i=function(e,t){var n;return function(){n||(e.apply(this,arguments),n=1,setTimeout(function(){n=0},t))}},l=function(e,t){var n,l,s,u,c,f,d,p=(/iPad/.test(navigator.userAgent)&&/CriOS/.test(navigator.userAgent),a.lastChild(e)),m=r(e),h=r(p),v=!1,g=function(){l=a.offset(e),s=a.width(e),u=a.height(e),c=s,d=S(f)},y=function(t){n||t==w.value||f&&!(t<f)||(o.fire(e,"slide",[t]),w.value=t)},E=function(e){var n=e.pageX||e.clientX;!n&&e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length&&(n=e.originalEvent.touches[0].pageX);var r=n-l.left;r=Math.max(0,Math.min(d||c,r));var o=r/c;return t&&(o=1-o),b(o,0,!0)},b=function(e,t){void 0===t&&(t=0),e>1&&(e=1);var n=Math.round(1e3*e)/10+"%";return(!f||e<=f)&&(h.remove("animated"),v?h.remove("animated"):(h.add("animated"),a.css(p,"transition-duration",(t||0)+"ms")),a.css(p,"width",n)),e},S=function(e){return Math.max(0,Math.min(c,e*s))},w={max:function(e){f=e},disable:function(e){n=e},slide:function(e,t,n){g(),n&&y(e),b(e,t)},disableAnimation:function(t,n){v=!1!==t,a.toggleClass(e,"no-animation",!!n)}};return g(),o.on(e,"mousedown.sld touchstart",function(e){if(e.preventDefault(),!n){var t=i(y,100);g(),w.dragging=!0,m.add("is-dragging"),y(E(e)),o.on(document,"mousemove.sld touchmove.sld",function(e){e.preventDefault(),t(E(e))}),o.one(document,"mouseup touchend",function(){w.dragging=!1,m.remove("is-dragging"),o.off(document,"mousemove.sld touchmove.sld")})}}),w};t.exports=l},{"../common":1,bean:20,"class-list":22}],15:[function(e,t,n){var r=e("../flowplayer"),o=e("../common"),a=e("bean"),i=e("class-list");r.defaults.subtitleParser=function(e){function t(e){var t=e.split(":");return 2==t.length&&t.unshift(0),60*t[0]*60+60*t[1]+parseFloat(t[2].replace(",","."))}for(var n,r,o,a=/^(([0-9]{2}:){1,2}[0-9]{2}[,.][0-9]{3}) --\> (([0-9]{2}:){1,2}[0-9]{2}[,.][0-9]{3})(.*)/,i=[],l=0,s=e.split("\n"),u=s.length,c={};l<u;l++)if(r=a.exec(s[l])){for(n=s[l-1],o="<p>"+s[++l]+"</p><br/>";"string"==typeof s[++l]&&s[l].trim()&&l<s.length;)o+="<p>"+s[l]+"</p><br/>";c={title:n,startTime:t(r[1]),endTime:t(r[3]),text:o},i.push(c)}return i},r(function(e,t){var n,l,s,u,c=i(t),f=function(){u=o.createElement("a",{className:"fp-menu"});var n=o.createElement("ul",{className:"fp-dropdown fp-dropup"});return n.appendChild(o.createElement("li",{"data-subtitle-index":-1},"No subtitles")),(e.video.subtitles||[]).forEach(function(e,t){var r=e.srclang||"en",a=e.label||"Default ("+r+")",i=o.createElement("li",{"data-subtitle-index":t},a);n.appendChild(i)}),u.appendChild(n),o.find(".fp-controls",t)[0].appendChild(u),u};a.on(t,"click",".fp-menu",function(e){i(u).toggle("dropdown-open")}),a.on(t,"click",".fp-menu li[data-subtitle-index]",function(t){var n=t.target.getAttribute("data-subtitle-index");if("-1"===n)return e.disableSubtitles();e.loadSubtitles(n)});var d=function(){var e=o.find(".fp-player",t)[0];s=o.find(".fp-subtitle",t)[0],s=s||o.appendTo(o.createElement("div",{class:"fp-subtitle"}),e),Array.prototype.forEach.call(s.children,o.removeNode),n=i(s),o.find(".fp-menu",t).forEach(o.removeNode),f()};e.on("ready",function(n,a,i){var l=a.conf;if(r.support.subtitles&&l.nativesubtitles&&"html5"==a.engine.engineName){var s=function(e){var n=o.find("video",t)[0].textTracks;n.length&&(n[0].mode=e)};if(!i.subtitles||!i.subtitles.length)return;var u=o.find("video.fp-engine",t)[0];return i.subtitles.some(function(e){return!o.isSameDomain(e.src)})&&o.attr(u,"crossorigin","anonymous"),u.textTracks.addEventListener("addtrack",function(){s("disabled"),s("showing")}),void i.subtitles.forEach(function(e){u.appendChild(o.createElement("track",{kind:"subtitles",srclang:e.srclang||"en",label:e.label||"en",src:e.src,default:e.default}))})}if(a.subtitles=[],d(),c.remove("has-menu"),e.disableSubtitles(),i.subtitles&&i.subtitles.length){c.add("has-menu");var f=i.subtitles.filter(function(e){return e.default})[0];f&&a.loadSubtitles(i.subtitles.indexOf(f))}}),e.bind("cuepoint",function(e,t,r){r.subtitle?(l=r.index,o.html(s,r.subtitle.text),n.add("fp-active")):r.subtitleEnd&&(n.remove("fp-active"),l=r.index)}),e.bind("seek",function(t,r,o){l&&e.cuepoints[l]&&e.cuepoints[l].time>o&&(n.remove("fp-active"),l=null),(e.cuepoints||[]).forEach(function(t){var n=t.subtitle;n&&l!=t.index?o>=t.time&&(!n.endTime||o<=n.endTime)&&e.trigger("cuepoint",[e,t]):t.subtitleEnd&&o>=t.time&&t.index==l+1&&e.trigger("cuepoint",[e,t])})});var p=function(e){o.toggleClass(o.find("li.active",t)[0],"active"),o.toggleClass(o.find('li[data-subtitle-index="'+e+'"]',t)[0],"active")};e.disableSubtitles=function(){return e.subtitles=[],(e.cuepoints||[]).forEach(function(t){(t.subtitle||t.subtitleEnd)&&e.removeCuepoint(t)}),s&&Array.prototype.forEach.call(s.children,o.removeNode),p(-1),e},e.loadSubtitles=function(t){e.disableSubtitles();var n=e.video.subtitles[t],r=n.src;if(r)return p(t),o.xhrGet(r,function(t){e.conf.subtitleParser(t).forEach(function(t){var n={time:t.startTime,subtitle:t,visible:!1};e.subtitles.push(t),e.addCuepoint(n),e.addCuepoint({time:t.endTime,subtitleEnd:t.title,visible:!1}),0!==t.startTime||e.video.time||e.trigger("cuepoint",[e,n])})},function(){return e.trigger("error",{code:8,url:r}),!1}),e}})},{"../common":1,"../flowplayer":18,bean:20,"class-list":22}],16:[function(e,t,n){var r=e("../flowplayer"),o=e("extend-object");!function(){var e={},t=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(t)||/(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];n[1]&&(e[n[1]]=!0,e.version=n[2]||"0");var a=function(){var e=document.createElement("video");return e.loop=!0,e.autoplay=!0,e.preload=!0,e}(),i=navigator.userAgent,l=e.msie||/Trident\/7/.test(i),s=/iPad|MeeGo/.test(i)&&!/CriOS/.test(i),u=/iPad/.test(i)&&/CriOS/.test(i),c=/iP(hone|od)/i.test(i)&&!/iPad/.test(i)&&!/IEMobile/i.test(i),f=/Android/.test(i)&&!/Firefox/.test(i),d=/Android/.test(i)&&/Firefox/.test(i),p=/Silk/.test(i),m=/IEMobile/.test(i),h=m?parseFloat(/Windows\ Phone\ (\d+\.\d+)/.exec(i)[1],10):0,v=m?parseFloat(/IEMobile\/(\d+\.\d+)/.exec(i)[1],10):0,g=(s&&function(e){var t=/Version\/(\d\.\d)/.exec(e);t&&t.length>1&&parseFloat(t[1],10)}(i),f?parseFloat(/Android\ (\d+(\.\d+)?)/.exec(i)[1],10):0),y=o(r.support,{browser:e,subtitles:!!a.addTextTrack,fullscreen:"function"==typeof document.webkitCancelFullScreen&&!/Mac OS X 10_5.+Version\/5\.0\.\d Safari/.test(i)||document.mozFullScreenEnabled||"function"==typeof document.exitFullscreen||"function"==typeof document.msExitFullscreen,inlineBlock:!(l&&e.version<8),touch:"ontouchstart"in window,dataload:!s&&!c&&!m,zeropreload:!l&&!f,volume:!(s||f||c||p||u),cachedVideoTag:!(s||c||u||m),firstframe:!(c||s||f||p||u||m||d),inlineVideo:!c&&(!m||h>=8.1&&v>=11)&&(!f||g>=3),hlsDuration:!f&&(!e.safari||s||c||u),seekable:!s&&!u});try{var E=navigator.plugins["Shockwave Flash"],b=l?new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version"):E.description;l||E[0].enabledPlugin?(y.flashVersion=b,b=b.split(/\D+/),b.length&&!b[0]&&(b=b.slice(1)),y.flashVideo=b[0]>9||9==b[0]&&b[3]>=115):y.flashVideo=!1}catch(e){}try{y.video=!!a.canPlayType,y.video&&a.canPlayType("video/mp4")}catch(e){y.video=!1}y.animation=function(){for(var e=["","Webkit","Moz","O","ms","Khtml"],t=document.createElement("p"),n=0;n<e.length;n++)if(void 0!==t.style[e[n]+"AnimationName"])return!0}()}()},{"../flowplayer":18,"extend-object":26}],17:[function(e,t,n){function r(e){return e=parseInt(e,10),e>=10?e:"0"+e}function o(e){e=e||0;var t=Math.floor(e/3600),n=Math.floor(e/60);return e-=60*n,t>=1?(n-=60*t,t+":"+r(n)+":"+r(e)):r(n)+":"+r(e)}var a=e("../flowplayer"),i=e("../common"),l=e("class-list"),s=e("bean"),u=e("./slider");a(function(e,t){function n(e){return i.find(".fp-"+e,t)[0]}function r(e){i.css(b,"padding-top",100*e+"%"),p.inlineBlock||i.height(i.find("object",t)[0],i.height(t))}function c(e){e?(m.add("is-mouseover"),m.remove("is-mouseout")):(m.add("is-mouseout"),m.remove("is-mouseover"))}var f,d=e.conf,p=a.support,m=l(t);i.find(".fp-ratio,.fp-ui",t).forEach(i.removeNode),m.add("flowplayer"),t.appendChild(i.createElement("div",{className:"fp-ratio"})),t.appendChild(i.createElement("div",{className:"blacklisted"}));var h=i.createElement("div",{className:"fp-ui before_swf_load"},'         <div class="waiting"><em></em><em></em><em></em></div>         <a class="unload"></a>         <p class="speed"></p>         <div class="controls">            <a class="play"></a>            <div class="timeline">               <div class="buffer"></div>               <div class="progress"></div>            </div>            <div class="timeline-tooltip fp-tooltip"></div>            <div class="volume">               <a class="mute"></a><div class="volumeslider">                  <div class="volumelevel"></div>               </div>            </div>            <a class="fullscreen"></a>            <a class="replay" title="RLC Replay. 24-Hour Playback"></a>         </div>         <div class="time">            <em class="elapsed">00:00</em>            <em class="remaining"></em>            <em class="duration">00:00</em>         </div>         <div class="message"><h2></h2><p></p></div>'.replace(/class="/g,'class="fp-'));t.appendChild(h);var v=(n("progress"),n("buffer")),g=n("elapsed"),y=n("remaining"),E=n("waiting"),b=n("ratio"),S=n("speed"),w=l(S),_=n("duration"),T=n("controls"),O=n("timeline-tooltip"),M=i.css(b,"padding-top"),A=n("timeline"),P=u(A,e.rtl),C=(n("volume"),n("fullscreen")),N=n("volumeslider"),x=u(N,e.rtl),L=m.contains("fixed-controls")||m.contains("no-toggle");P.disableAnimation(m.contains("is-touch")),e.sliders=e.sliders||{},e.sliders.timeline=P,e.sliders.volume=x,p.animation||i.html(E,"<p>loading &hellip;</p>"),d.ratio&&r(d.ratio);try{d.fullscreen||i.removeNode(C)}catch(e){i.removeNode(C)}e.on("ready",function(e,n,a){var l=n.video.duration;P.disable(n.disabled||!l),d.adaptiveRatio&&!isNaN(a.height/a.width)&&r(a.height/a.width),i.html([_,y],o(l)),i.toggleClass(t,"is-long",l>=3600),x.slide(n.volumeLevel),"flash"===n.engine.engineName?P.disableAnimation(!0,!0):P.disableAnimation(!1),i.find(".fp-title",h).forEach(i.removeNode),a.title&&i.prepend(h,i.createElement("div",{className:"fp-title"},a.title))}).on("unload",function(){M||d.splash||i.css(b,"paddingTop",""),P.slide(0)}).on("buffer",function(){var t=e.video,n=t.buffer/t.duration;!t.seekable&&p.seekable&&P.max(n),n<1?i.css(v,"width",100*n+"%"):i.css(v,"width","100%")}).on("speed",function(e,t,n){i.text(S,n+"x"),w.add("fp-hilite"),setTimeout(function(){w.remove("fp-hilite")},1e3)}).on("buffered",function(){i.css(v,"width","100%"),P.max(1)}).on("progress",function(){var t=e.video.time,n=e.video.duration;P.dragging||P.slide(t/n,e.seeking?0:250),i.html(g,o(t)),i.html(y,"-"+o(n-t))}).on("finish resume seek",function(e){i.toggleClass(t,"is-finished","finish"==e.type)}).on("stop",function(){i.html(g,o(0)),P.slide(0,100)}).on("finish",function(){i.html(g,o(e.video.duration)),P.slide(1,100),m.remove("is-seeking")}).on("beforeseek",function(){}).on("volume",function(){x.slide(e.volumeLevel)}).on("disable",function(){var n=e.disabled;P.disable(n),x.disable(n),i.toggleClass(t,"is-disabled",e.disabled)}).on("mute",function(e,n,r){i.toggleClass(t,"is-muted",r)}).on("error",function(e,n,r){if(i.removeClass(t,"is-loading"),i.removeClass(t,"is-seeking"),i.addClass(t,"is-error"),r){r.message=d.errors[r.code],n.error=!0;var o=i.find(".fp-message",t)[0];r.video||n.video;i.find("h2",o)[0].innerHTML=r.message,n.off("mouseenter click"),m.remove("is-mouseover")}}).on("info",function(e,n,r){i.removeClass(t,"is-loading"),i.addClass(t,"is-error"),n.error=!0;var o=i.find(".fp-message",t)[0];i.find("h2",o)[0].innerHTML=r,n.off("mouseenter click"),m.remove("is-mouseover")}),s.on(t,"mouseenter mouseleave",function(n){if(!L){var r,o="mouseover"==n.type;if(c(o),o){var a=function(){c(!0),r=new Date};e.on("pause.x volume.x",a),s.on(t,"mousemove.x",a),f=setInterval(function(){new Date-r>d.mouseoutTimeout&&(c(!1),r=new Date)},100)}else s.off(t,"mousemove.x"),e.off("pause.x volume.x"),clearInterval(f)}}),s.on(t,"mouseleave",function(){(P.dragging||x.dragging)&&(m.add("is-mouseover"),m.remove("is-mouseout"))}),s.on(t,"dblclick",function(t){if(!e.disabled){var n=l(t.target);return t.stopPropagation(),n.contains("fp-ui")||n.contains("fp-engine")||t.flash?(t.preventDefault&&t.preventDefault(),e.fullscreen()):void 0}}),s.on(t,"mousemove",".fp-timeline",function(t){var n=t.pageX||t.clientX,r=n-i.offset(A).left,a=r/i.width(A),l=a*e.video.duration;a<0||(i.html(O,o(l)),i.css(O,"left",n-i.offset(T).left-i.width(O)/2+"px"))}),s.on(t,"contextmenu",function(e){var n=i.offset(i.find(".fp-player",t)[0]),r=window,o=e.clientX-(n.left+r.scrollX),a=e.clientY-(n.top+r.scrollY);if(!m.contains("is-flash-disabled")){var l=i.find(".fp-context-menu",t)[0];l&&(e.preventDefault(),i.css(l,{left:o+"px",top:a+"px",display:"block"}),s.on(t,"click",".fp-context-menu",function(e){e.stopPropagation()}),s.on(document,"click.outsidemenu",function(e){i.css(l,"display","none"),s.off(document,"click.outsidemenu")}))}}),e.on("flashdisabled",function(){m.add("is-flash-disabled"),e.one("ready progress",function(){m.remove("is-flash-disabled"),i.find(".fp-flash-disabled",t).forEach(i.removeNode)}),t.appendChild(i.createElement("div",{className:"fp-flash-disabled"},"Adobe Flash is disabled for this page, click player area to enable"))}),d.poster&&i.css(t,"background-image","url("+d.poster+")");var I=i.css(t,"background-color"),R="none"!=i.css(t,"background-image")||I&&"rgba(0, 0, 0, 0)"!=I&&"transparent"!=I;"string"==typeof d.splash&&i.css(t,"background-image","url('"+d.splash+"')"),!R&&e.forcedSplash&&i.css(t,"background-color","#555"),s.on(t,"click",".fp-toggle, .fp-play",function(){e.disabled||e.toggle()}),s.on(t,"click",".fp-mute",function(){e.mute(void 0,void 0,!0)}),s.on(t,"click",".fp-fullscreen",function(){e.fullscreen()}),s.on(t,"click",".fp-unload",function(){e.unload()}),s.on(t,"click",".fp-replay",function(){e.replay_icon()}),s.on(t,"click",".fp-quality",function(){e.qualityToggle()}),s.on(A,"slide",function(t){e.seeking=!0,e.seek(t*e.video.duration)}),s.on(N,"slide",function(t){e.volume(t)});var k=n("time");s.on(t,"click",".fp-time",function(){l(k).toggle("is-inverted")}),c(L),e.on("shutdown",function(){s.off(A),s.off(N)})}),t.exports.format=o},{"../common":1,"../flowplayer":18,"./slider":14,bean:20,"class-list":22}],18:[function(e,t,n){function r(e,t,n){t&&t.embed&&(t.embed=a({},E.defaults.embed,t.embed)),E.defaults.volume=h?"true"==localStorage.muted?0:isNaN(localStorage.volume)?1:localStorage.volume||1:1;var r,o,m=e,v=l(m),g=a({},E.defaults,E.conf,t),y={},w=new S;v.add("is-loading");try{y=h?window.localStorage:y}catch(e){}var _=m.currentStyle&&"rtl"===m.currentStyle.direction||window.getComputedStyle&&null!==window.getComputedStyle(m,null)&&"rtl"===window.getComputedStyle(m,null).getPropertyValue("direction");_&&v.add("is-rtl");var T={conf:g,currentSpeed:1,volumeLevel:g.muted?0:void 0===g.volume?1*y.volume:g.volume,video:{},disabled:!1,finished:!1,loading:!1,muted:"true"==y.muted||g.muted,paused:!1,playing:!1,ready:!1,splash:!1,rtl:_,onBeforeResume:g.onBeforeResume,onBeforeFullscreen:g.onBeforeFullscreen,black_poster:!1,load:function(e,t){if(g.debug&&console.log("api load",e,t,T.loading),T.error)return void console.log("api error. cant load");T.video={},T.finished=!1,e=e||g.clip,e=a({},w.resolve(e,g.clip.sources)),(T.playing||T.engine)&&(e.autoplay=!0);var n=O(e);if(!n){if(!E.support.flashVideo){var r=T.conf.swf,l=c(r,{},T.conf.wmode,"#333333")[0],s=u.find(".fp-player",m)[0];u.prepend(s,l)}return T.trigger("error",[T,{code:E.support.flashVideo?5:10}])}if(!n.engineName)throw new Error("engineName property of factory should be exposed");if(T.engine&&n.engineName===T.engine.engineName||(T.ready=!1,T.engine&&(T.engine.unload(),T.conf.autoplay=!0),o=T.engine=n(T,m),T.one("ready",function(){o.volume(T.volumeLevel)})),a(e,o.pick(e.sources.filter(function(e){return!e.engine||e.engine===o.engineName}))),g.debug&&console.log("api video before engine load",e),e.src){T.trigger("load",[T,e,o],!0).defaultPrevented?T.loading=!1:(o.load(e),i(e)&&(t=e),t&&T.one("ready",t))}return T},pause:function(e){return!T.ready||T.seeking||T.loading||(o.pause(),T.one("pause",e)),T},resume:function(){if(T.ready&&T.paused){if(g.debug&&console.log("flowplayer resume",T.onBeforeResume,T,T.conf),T.onBeforeResume)return T.onBeforeResume(T),T;o.resume(),T.finished&&(T.trigger("resume",[T]),T.finished=!1)}return T},toggle:function(){return T.ready?T.paused?T.resume():T.pause():T.load()},seek:function(e,t){if(T.ready&&!T.live){if("boolean"==typeof e){var n=.1*T.video.duration;e=T.video.time+(e?n:-n)}e=r=Math.min(Math.max(e,0),T.video.duration-.1).toFixed(1);T.trigger("beforeseek",[T,e],!0).defaultPrevented?(T.seeking=!1,u.toggleClass(m,"is-seeking",T.seeking)):(o.seek(e),i(t)&&T.one("seek",t))}return T},seekTo:function(e,t){var n=void 0===e?r:.1*T.video.duration*e;return T.seek(n,t)},mute:function(e,t,n){return void 0===n&&(n=!1),void 0===e&&(e=!T.muted),t||(y.muted=T.muted=e,y.volume=isNaN(y.volume)?g.volume:y.volume),T.volume(e?0:y.volume,!0),T.trigger("mute",[T,e,n]),T},volume:function(e,t){return T.ready&&(e=Math.min(Math.max(e,0),1),t||(y.volume=e),o.volume(e),T.volumeLevel=Math.round(100*e)/100),T},speed:function(e,t){return T.ready&&("boolean"==typeof e&&(e=g.speeds[g.speeds.indexOf(T.currentSpeed)+(e?1:-1)]||T.currentSpeed),o.speed(e),t&&m.one("speed",t)),T},stop:function(){return T.ready&&(T.pause(),T.seek(0,function(){T.trigger("stop",[T])})),T},unload:function(){return v.contains("is-embedding")||(g.splash?(T.trigger("unload",[T]),o&&(o.unload(),T.engine=o=0)):T.stop()),T},shutdown:function(){T.unload(),T.trigger("shutdown",[T]),s.off(m),delete d[m.getAttribute("data-flowplayer-instance-id")],m.removeAttribute("data-flowplayer-instance-id")},disable:function(e){return void 0===e&&(e=!T.disabled),e!=T.disabled&&(T.disabled=e,T.trigger("disable",e)),T},poster:function(e,t){var n=u.find(".fp-player .blacklisted",m)[0];e?(u.css(n,"z-index","12"),u.css(n,"background-image","url("+t+")"),T.black_poster=!0):(u.css(n,"z-index","0"),u.css(n,"background-image",""),T.black_poster=!1)},checkBandwidth:function(e,t){var n;n=o,n.checkBandwidth(e)},replay_icon:function(){T.trigger("replay_icon",[T])},quality:function(e){var t=l(u.find(".fp-quality",m)[0]);for(var n in T.conf.qualities)t.remove("fp-"+T.conf.qualities[n]);t.add("fp-"+e)},qualityToggle:function(){var e=T.conf.qualities.indexOf(T.video.quality),t=T.conf.qualities.length==e+1?0:e+1;T.video.quality=T.conf.qualities[t];var n=l(u.find(".fp-quality",m)[0]);n.remove("fp-"+T.conf.qualities[e]),n.add("fp-"+T.conf.qualities[t]),T.trigger("quality",[T,T.video.quality])},setLive:function(){var e=u.createElement("div",{class:"icon-live"}),t=u.find(".fp-ui",m)[0];u.prepend(t,e)}};T.conf=a(T.conf,g),f(T);var O=function(e){var t,n=E.engines;if(g.engine){var r=n.filter(function(e){return e.engineName===g.engine})[0];if(r&&e.sources.some(function(e){return(!e.engine||e.engine===r.engineName)&&r.canPlay(e.type,T.conf)}))return r}return g.enginePreference&&(n=E.engines.filter(function(e){return g.enginePreference.indexOf(e.engineName)>-1}).sort(function(e,t){return g.enginePreference.indexOf(e.engineName)-g.enginePreference.indexOf(t.engineName)})),e.sources.some(function(e){var r=n.filter(function(t){return(!e.engine||e.engine===t.engineName)&&t.canPlay(e.type,T.conf)}).shift();return r&&(t=r),!!r}),t};return m.getAttribute("data-flowplayer-instance-id")||(m.setAttribute("data-flowplayer-instance-id",b++),T.on("boot",function(){(g.splash||v.contains("is-splash")||!E.support.firstframe)&&(T.forcedSplash=!g.splash&&!v.contains("is-splash"),T.splash=g.autoplay=!0,g.splash||(g.splash=!0),v.add("is-splash")),g.splash&&u.find("video",m).forEach(u.removeNode),(g.live||v.contains("is-live"))&&(T.live=g.live=!0,v.add("is-live")),p.forEach(function(e){e(T,m)}),d.push(T),g.disabled&&T.disable(),T.one("ready",n)}).on("load",function(e,t,n){g.splash&&u.find(".flowplayer.is-ready,.flowplayer.is-loading").forEach(function(e){var t=e.getAttribute("data-flowplayer-instance-id");if(t!==m.getAttribute("data-flowplayer-instance-id")){var n=d[Number(t)];n&&n.conf.splash&&n.unload()}}),v.add("is-loading"),t.loading=!0,void 0!==n.live&&(u.toggleClass(m,"is-live",n.live),t.live=n.live)}).on("ready",function(e,t,n){n.time=0,t.video=n,v.remove("is-loading"),t.loading=!1,t.muted?t.mute(!0,!0,!1):t.volume(t.volumeLevel);var r=t.conf.hlsFix&&/mpegurl/i.exec(n.type);u.toggleClass(m,"hls-fix",!!r)}).on("unload",function(e){v.remove("is-loading"),T.loading=!1}).on("ready unload",function(e){var t="ready"==e.type;u.toggleClass(m,"is-splash",!t),u.toggleClass(m,"is-ready",t),T.ready=t,T.splash=!t}).on("progress",function(e,t,n){t.video.time=n}).on("speed",function(e,t,n){t.currentSpeed=n}).on("volume",function(e,t,n){t.volumeLevel=Math.round(100*n)/100,t.muted?n&&t.mute(!1,!1,!1):y.volume=n}).on("beforeseek seek",function(e){T.seeking="beforeseek"==e.type,u.toggleClass(m,"is-seeking",T.seeking)}).on("ready pause unload finish stop",function(e,t,n){T.paused=/pause|finish|unload|stop/.test(e.type),T.paused=T.paused||"ready"===e.type&&!g.autoplay&&!T.playing,T.playing=!T.paused,u.toggleClass(m,"is-paused",T.paused),u.toggleClass(m,"is-playing",T.playing),T.load.ed||T.pause()}).on("finish",function(e){T.finished=!0}).on("error",function(){})),T.trigger("boot",[T,m]),T}var a=e("extend-object"),i=e("is-function"),l=e("class-list"),s=e("bean"),u=e("./common"),c=e("./engine/embed"),f=e("./ext/events"),d=[],p=[],m=(window.navigator.userAgent,window.onbeforeunload);window.onbeforeunload=function(e){if(d.forEach(function(e){e.conf.splash?e.unload():e.bind("error",function(){u.find(".flowplayer.is-error .fp-message").forEach(u.removeNode)})}),m)return m(e)};var h=!1;try{"object"==o(window.localStorage)&&(window.localStorage.flowplayerTestStorage="test",h=!1)}catch(e){}var v=/Safari/.exec(navigator.userAgent)&&!/Chrome/.exec(navigator.userAgent),g=/(\d+\.\d+) Safari/.exec(navigator.userAgent),y=g?Number(g[1]):100,E=t.exports=function(e,t,n){if(i(e))return p.push(e);if("number"==typeof e||void 0===e)return d[e||0];if(e.nodeType){if(null!==e.getAttribute("data-flowplayer-instance-id"))return d[e.getAttribute("data-flowplayer-instance-id")];if(!t)return;return r(e,t,n)}if(e.jquery)return E(e[0],t,n);if("string"==typeof e){var o=u.find(e)[0];return o&&E(o,t,n)}};a(E,{version:"6.0.5",engines:[],conf:{},set:function(e,t){"string"==typeof e?E.conf[e]=t:a(E.conf,e)},support:{},defaults:{debug:!!h&&!!localStorage.flowplayerDebug,disabled:!1,fullscreen:window==window.top,keyboard:!0,ratio:9/16,adaptiveRatio:!1,rtmp:0,proxy:"best",splash:!1,live:!1,swf:"//releases.flowplayer.org/6.0.5/flowplayer.swf",swfHls:"//releases.flowplayer.org/6.0.5/flowplayerhls.swf",speeds:[.25,.5,1,1.5,2],tooltip:!0,mouseoutTimeout:5e3,volume:h?"true"==localStorage.muted?0:isNaN(localStorage.volume)?1:localStorage.volume||1:1,errors:["","Video loading aborted","Network error","Video not properly encoded","Video file not found","Unsupported video","Skin not found","SWF file not found","Subtitles not found","Invalid RTMP URL","Unsupported video format. Try installing Adobe Flash.","Invalid RTMP URL. Connection timeout","Invalid RTMP URL. Connection problem","Invalid RTMP URL. Wrong id","Invalid RTMP URL. Wrong secure id","Buffer full timeout"],errorUrls:["","","","","","","","","","","http://get.adobe.com/flashplayer/"],playlist:[],hlsFix:v&&y<8,scale:"scale"},bean:s,common:u,extend:a});var b=0,S=e("./ext/resolve");if(void 0!==window.jQuery){var w=window.jQuery;w(function(){"function"==typeof w.fn.flowplayer&&w('.flowplayer:has(video,script[type="application/json"])').flowplayer()});var _=function(e){if(!e.length)return{};var t=e.data()||{},n={};return w.each(["autoplay","loop","preload","poster"],function(r,o){var a=e.attr(o);void 0!==a&&-1!==["autoplay","poster"].indexOf(o)?n[o]=a||!0:void 0!==a&&(t[o]=a||!0)}),t.subtitles=e.find("track").map(function(){var e=w(this);return{src:e.attr("src"),kind:e.attr("kind"),label:e.attr("label"),srclang:e.attr("srclang"),default:e.prop("default")}}).get(),t.sources=(new S).sourcesFromVideoTag(e,w),a(n,{clip:t})};w.fn.flowplayer=function(e,t){return this.each(function(){"string"==typeof e&&(e={swf:e}),i(e)&&(t=e,e={});var n=w(this),o=n.find('script[type="application/json"]'),a=o.length?JSON.parse(o.text()):_(n.find("video")),l=w.extend({},e||{},a,n.data()),s=r(this,l,t);f.EVENTS.forEach(function(e){s.on(e+".jquery",function(e){n.trigger.call(n,e.type,e.detail&&e.detail.args)})}),n.data("flowplayer",s)})}}},{"./common":1,"./engine/embed":2,"./ext/events":8,"./ext/resolve":13,bean:20,"class-list":22,"extend-object":26,"is-function":27}],19:[function(e,t,n){e("es5-shim");var r=t.exports=e("./flowplayer");e("./ext/support"),e("./engine/embed"),e("./engine/html5"),e("./engine/flash"),e("./ext/ui"),e("./ext/keyboard"),e("./ext/playlist"),e("./ext/cuepoint"),e("./ext/subtitle"),e("./ext/analytics"),e("./ext/embed"),e("./ext/fullscreen"),e("./ext/mobile"),r(function(e,t){var n=e.conf,o=r.common,a=o.createElement,i=n.swf.indexOf("flowplayer.org")&&n.e&&t.getAttribute("data-origin"),l=i?function(e){var t=document.createElement("a");return t.href=e,o.hostname(t.hostname)}(i):o.hostname(),s=(document,n.key);"file:"==location.protocol&&(l="localhost"),e.load.ed=1,n.hostname=l,n.origin=i||location.href,i&&function(e,t){-1===e.className.split(" ").indexOf(t)&&(e.className+=" "+t)}(t,"is-embedded"),"string"==typeof s&&(s=s.split(/,\s*/));if(s&&"function"==typeof key_check&&key_check(s,l)){if(n.logo){var u=o.find(".fp-player",t)[0],c=a("a",{className:"fp-logo"});i&&(c.href=i),n.embed&&n.embed.popup&&(c.target="_blank");var f=a("img",{src:n.logo});c.appendChild(f),(u||t).appendChild(c)}n.brand&&i||n.brand&&n.brand.showOnOrigin?(n.brand.text||n.brand,i||location.href):o.addClass(t,"no-brand")}else{var c=a("a",{href:"http://flowplayer.org"});t.appendChild(c);var u=(a("div",{className:"fp-context-menu"},'<ul><li class="copyright">&copy; 2015</li><li><a href="http://flowplayer.org">About Flowplayer</a></li><li><a href="http://flowplayer.org/license">GPL based license</a></li></ul>'),window.location.href.indexOf("localhost"),o.find(".fp-player",t)[0]);e.on("pause resume finish unload ready",function(e,n){o.removeClass(t,"no-brand");var r=-1;if(n.video.src)for(var a=[["org","flowplayer","drive"],["org","flowplayer","my"],["org","flowplayer","cdn"]],i=0;i<a.length&&-1===(r=n.video.src.indexOf("://"+a[i].reverse().join(".")));i++);if((4===r||5===r)&&o.addClass(t,"no-brand"),/pause|resume/.test(e.type)&&"flash"!=n.engine.engineName&&4!=r&&5!=r){[".png","logo","/",".net",".cloudfront","d32wqyuo10o653","//"].reverse().join("")}else c.style.display="none"})}})},{"./engine/embed":2,"./engine/flash":3,"./engine/html5":4,"./ext/analytics":5,"./ext/cuepoint":6,"./ext/embed":7,"./ext/fullscreen":9,"./ext/keyboard":10,"./ext/mobile":11,"./ext/playlist":12,"./ext/subtitle":15,"./ext/support":16,"./ext/ui":17,"./flowplayer":18,"es5-shim":25}],20:[function(e,n,r){!function(e,r,o){void 0!==n&&n.exports?n.exports=o("bean",r):"function"==typeof t&&t.amd?t(o):r.bean=o()}(0,this,function(e,t){e=e||"bean",t=t||this;var n,r=window,a=t[e],i="addEventListener",l=document||{},s=l.documentElement||{},u=s[i],c=u?i:"attachEvent",f={},d=Array.prototype.slice,p=function(e,t){return e.split(t||" ")},m=function(e){return"string"==typeof e},h=function(e){return"function"==typeof e},v=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},p("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll "+(u?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":""))),g=function(){var e="compareDocumentPosition"in s?function(e,t){return t.compareDocumentPosition&&16==(16&t.compareDocumentPosition(e))}:"contains"in s?function(e,t){return(t=9===t.nodeType||t===window?s:t)!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),y=function(){
var e=p("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(p("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(p("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),o=e.concat(p("char charCode key keyCode keyIdentifier keyLocation location")),a=e.concat(p("data")),i=e.concat(p("touches targetTouches changedTouches scale rotation")),u=e.concat(p("data origin source")),c=e.concat(p("state")),f=/over|out/,d=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,o}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,r){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+l.body.scrollLeft+s.scrollLeft,n.clientY=e.clientY+l.body.scrollTop+s.scrollTop),f.test(r)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==r?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return a}},{reg:/^touch|^gesture/i,fix:function(){return i}},{reg:/^message$/i,fix:function(){return u}},{reg:/^popstate$/i,fix:function(){return c}},{reg:/.*/,fix:function(){return e}}],m={},h=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||r).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var o,a,i,l,s,u=e.type,c=e.target||e.srcElement;if(this.target=c&&3===c.nodeType?c.parentNode:c,n){if(!(s=m[u]))for(o=0,a=d.length;o<a;o++)if(d[o].reg.test(u)){m[u]=s=d[o].fix;break}for(l=s(e,this,u),o=l.length;o--;)!((i=l[o])in this)&&i in e&&(this[i]=e[i])}}};return h.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},h.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},h.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},h.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},h.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},h.prototype.clone=function(e){var t=new h(this,this.element,this.isNative);return t.currentTarget=e,t},h}(),E=function(e,t){return u||t||e!==l&&e!==r?e:s},b=function(){var e=function(e,t,n,r){var o=function(n,o){return t.apply(e,r?d.call(o,n?0:1).concat(r):o)},a=function(n,r){return t.__beanDel?t.__beanDel.ft(n.target,e):r},i=n?function(e){var t=a(e,this);if(n.apply(t,arguments))return e&&(e.currentTarget=t),o(e,arguments)}:function(e){return t.__beanDel&&(e=e.clone(a(e))),o(e,arguments)};return i.__beanDel=t.__beanDel,i},t=function(t,n,r,o,a,i,l){var s,f=g[n];"unload"==n&&(r=O(M,t,n,r,o)),f&&(f.condition&&(r=e(t,r,f.condition,i)),n=f.base||n),this.isNative=s=v[n]&&!!t[c],this.customType=!u&&!s&&n,this.element=t,this.type=n,this.original=o,this.namespaces=a,this.eventType=u||s?n:"propertychange",this.target=E(t,s),this[c]=!!this.target[c],this.root=l,this.handler=e(t,r,null,i)};return t.prototype.inNamespaces=function(e){var t,n,r=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&r++;return e.length===r},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),S=function(){var e={},t=function t(n,r,o,a,i,l){var s=i?"r":"$";if(r&&"*"!=r){var u,c=0,f=e[s+r],d="*"==n;if(!f)return;for(u=f.length;c<u;c++)if((d||f[c].matches(n,o,a))&&!l(f[c],f,c,r))return}else for(var p in e)p.charAt(0)==s&&t(n,p.substr(1),o,a,i,l)};return{has:function(t,n,r,o){var a,i=e[(o?"r":"$")+n];if(i)for(a=i.length;a--;)if(!i[a].root&&i[a].matches(t,r,null))return!0;return!1},get:function(e,n,r,o){var a=[];return t(e,n,r,null,o,function(e){return a.push(e)}),a},put:function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),r=(t.root?"r":"$")+t.type;return(e[r]||(e[r]=[])).push(t),n},del:function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,r){return n.splice(r,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},entries:function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n}}}(),w=function(e){n=arguments.length?e:l.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},_=function(e,t){if(u||!t||!e||e.propertyName=="_on"+t){var n=S.get(this,t||e.type,null,!1),r=n.length,o=0;for(e=new y(e,this,!0),t&&(e.type=t);o<r&&!e.isImmediatePropagationStopped();o++)n[o].removed||n[o].handler.call(this,e)}},T=u?function(e,t,n){e[n?i:"removeEventListener"](t,_,!1)}:function(e,t,n,r){var o;n?(S.put(o=new b(e,r||t,function(t){_.call(e,t,r)},_,null,null,!0)),r&&null==e["_on"+r]&&(e["_on"+r]=0),o.target.attachEvent("on"+o.eventType,o.handler)):(o=S.get(e,r||t,_,!0)[0])&&(o.target.detachEvent("on"+o.eventType,o.handler),S.del(o))},O=function(e,t,n,r,o){return function(){r.apply(this,arguments),e(t,n,o)}},M=function(e,t,n,r){var o,a,i=t&&t.replace(/\..*/,""),l=S.get(e,i,null,!1),s={};for(o=0,a=l.length;o<a;o++)n&&l[o].original!==n||!l[o].inNamespaces(r)||(S.del(l[o]),!s[l[o].eventType]&&l[o][c]&&(s[l[o].eventType]={t:l[o].eventType,c:l[o].type}));for(o in s)S.has(e,s[o].t,null,!1)||T(e,s[o].t,!1,s[o].c)},A=function(e,t){var r=function(t,r){for(var o,a=m(e)?n(e,r):e;t&&t!==r;t=t.parentNode)for(o=a.length;o--;)if(a[o]===t)return t},o=function(e){var n=r(e.target,this);n&&t.apply(n,arguments)};return o.__beanDel={ft:r,selector:e},o},P=u?function(e,t,n){var o=l.createEvent(e?"HTMLEvents":"UIEvents");o[e?"initEvent":"initUIEvent"](t,!0,!0,r,1),n.dispatchEvent(o)}:function(e,t,n){n=E(n,e),e?n.fireEvent("on"+t,l.createEventObject()):n["_on"+t]++},C=function e(t,n,r){var o,a,i,l,s=m(n);if(s&&n.indexOf(" ")>0){for(n=p(n),l=n.length;l--;)e(t,n[l],r);return t}if(a=s&&n.replace(/\..*/,""),a&&g[a]&&(a=g[a].base),!n||s)(i=s&&n.replace(/[^\.]*(?=\..*)\.|.*/,""))&&(i=p(i,".")),M(t,a,r,i);else if(h(n))M(t,null,n);else for(o in n)n.hasOwnProperty(o)&&e(t,o,n[o]);return t},N=function e(t,n,r,a){var i,l,s,u,m,v,g;{if(void 0!==r||"object"!=(void 0===n?"undefined":o(n))){for(h(r)?(m=d.call(arguments,3),a=i=r):(i=a,m=d.call(arguments,4),a=A(r,i)),s=p(n),this===f&&(a=O(C,t,n,a,i)),u=s.length;u--;)g=S.put(v=new b(t,s[u].replace(/\..*/,""),a,i,p(s[u].replace(/[^\.]*(?=\..*)\.|.*/,""),"."),m,!1)),v[c]&&g&&T(t,v.eventType,!0,v.customType);return t}for(l in n)n.hasOwnProperty(l)&&e.call(this,t,l,n[l])}},x=function(e,t,n,r){return N.apply(null,m(n)?[e,n,t,r].concat(arguments.length>3?d.call(arguments,5):[]):d.call(arguments))},L=function(){return N.apply(f,arguments)},I=function(e,t,n){var r,o,a,i,l,s=p(t);for(r=s.length;r--;)if(t=s[r].replace(/\..*/,""),(i=s[r].replace(/[^\.]*(?=\..*)\.|.*/,""))&&(i=p(i,".")),i||n||!e[c])for(l=S.get(e,t,null,!1),n=[!1].concat(n),o=0,a=l.length;o<a;o++)l[o].inNamespaces(i)&&l[o].handler.apply(e,n);else P(v[t],t,e);return e},R=function(e,t,n){for(var r,o,a=S.get(t,n,null,!1),i=a.length,l=0;l<i;l++)a[l].original&&(r=[e,a[l].type],(o=a[l].handler.__beanDel)&&r.push(o.selector),r.push(a[l].original),N.apply(null,r));return e},k={on:N,add:x,one:L,off:C,remove:C,clone:R,fire:I,Event:y,setSelectorEngine:w,noConflict:function(){return t[e]=a,this}};if(r.attachEvent){var D=function e(){var t,n=S.entries();for(t in n)n[t].type&&"unload"!==n[t].type&&C(n[t].element,n[t].type);r.detachEvent("onunload",e),r.CollectGarbage&&r.CollectGarbage()};r.attachEvent("onunload",D)}return w(),k})},{}],21:[function(e,n,a){(function(e){!function(r){function i(e){throw RangeError(k[e])}function l(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function s(e,t){return l(e.split(R),t).join(".")}function u(e){for(var t,n,r=[],o=0,a=e.length;o<a;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<a?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function c(e){return l(e,function(e){var t="";return e>65535&&(e-=65536,t+=F(e>>>10&1023|55296),e=56320|1023&e),t+=F(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:T}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?j(e/P):e>>1,e+=j(e/t);e>D*M>>1;r+=T)e=j(e/D);return j(r+(D+1)*e/(e+A))}function m(e){var t,n,r,o,a,l,s,u,d,m,h=[],v=e.length,g=0,y=N,E=C;for(n=e.lastIndexOf(x),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&i("not-basic"),h.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(a=g,l=1,s=T;o>=v&&i("invalid-input"),u=f(e.charCodeAt(o++)),(u>=T||u>j((_-g)/l))&&i("overflow"),g+=u*l,d=s<=E?O:s>=E+M?M:s-E,!(u<d);s+=T)m=T-d,l>j(_/m)&&i("overflow"),l*=m;t=h.length+1,E=p(g-a,t,0==a),j(g/t)>_-y&&i("overflow"),y+=j(g/t),g%=t,h.splice(g++,0,y)}return c(h)}function h(e){var t,n,r,o,a,l,s,c,f,m,h,v,g,y,E,b=[];for(e=u(e),v=e.length,t=N,n=0,a=C,l=0;l<v;++l)(h=e[l])<128&&b.push(F(h));for(r=o=b.length,o&&b.push(x);r<v;){for(s=_,l=0;l<v;++l)(h=e[l])>=t&&h<s&&(s=h);for(g=r+1,s-t>j((_-n)/g)&&i("overflow"),n+=(s-t)*g,t=s,l=0;l<v;++l)if(h=e[l],h<t&&++n>_&&i("overflow"),h==t){for(c=n,f=T;m=f<=a?O:f>=a+M?M:f-a,!(c<m);f+=T)E=c-m,y=T-m,b.push(F(d(m+E%y,0))),c=j(E/y);b.push(F(d(c,0))),a=p(n,g,r==o),n=0,++r}++n,++t}return b.join("")}function v(e){return s(e,function(e){return L.test(e)?m(e.slice(4).toLowerCase()):e})}function g(e){return s(e,function(e){return I.test(e)?"xn--"+h(e):e})}var y="object"==(void 0===a?"undefined":o(a))&&a,E="object"==(void 0===n?"undefined":o(n))&&n&&n.exports==y&&n,b="object"==(void 0===e?"undefined":o(e))&&e;b.global!==b&&b.window!==b||(r=b);var S,w,_=2147483647,T=36,O=1,M=26,A=38,P=700,C=72,N=128,x="-",L=/^xn--/,I=/[^ -~]/,R=/\x2E|\u3002|\uFF0E|\uFF61/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=T-O,j=Math.floor,F=String.fromCharCode;if(S={version:"1.2.4",ucs2:{decode:u,encode:c},decode:m,encode:h,toASCII:g,toUnicode:v},"function"==typeof t&&"object"==o(t.amd)&&t.amd)t("punycode",function(){return S});else if(y&&!y.nodeType)if(E)E.exports=S;else for(w in S)S.hasOwnProperty(w)&&(y[w]=S[w]);else r.punycode=S}(this)}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(e,t,n){function r(e){function t(e){var t=c();i(t,e)>-1||(t.push(e),f(t))}function n(e){var t=c(),n=i(t,e);-1!==n&&(t.splice(n,1),f(t))}function r(e){return i(c(),e)>-1}function l(e){return r(e)?(n(e),!1):(t(e),!0)}function s(){return e.className}function u(e){return c()[e]||null}function c(){return o(e.className.split(" "),a)}function f(t){var n=t.length;e.className=t.join(" "),p.length=n;for(var r=0;r<t.length;r++)p[r]=t[r];delete t[n]}var d=e.classList;if(d)return d;var p={add:t,remove:n,contains:r,toggle:l,toString:s,length:0,item:u};return p}function o(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n}function a(e){return!!e}var i=e("indexof");t.exports=r},{indexof:23}],23:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],24:[function(e,t,n){function r(e,t,n,r){if(n=window.getComputedStyle,r=n?n(e):e.currentStyle)return r[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]}t.exports=r},{}],25:[function(e,n,r){!function(e,a){"function"==typeof t&&t.amd?t(a):"object"===(void 0===r?"undefined":o(r))?n.exports=a():e.returnExports=a()}(this,function(){var e,t,n=Array,r=n.prototype,a=Object,i=a.prototype,l=Function,s=l.prototype,u=String,c=u.prototype,f=Number,d=f.prototype,p=r.slice,m=r.splice,h=r.push,v=r.unshift,g=r.concat,y=r.join,E=s.call,b=s.apply,S=Math.max,w=Math.min,_=i.toString,T="function"==typeof Symbol&&"symbol"===o(Symbol.toStringTag),O=Function.prototype.toString,M=/^\s*class /,A=function(e){try{var t=O.call(e),n=t.replace(/\/\/.*\n/g,""),r=n.replace(/\/\*[.\s\S]*\*\//g,""),o=r.replace(/\n/gm," ").replace(/ {2}/g," ");return M.test(o)}catch(e){return!1}},P=function(e){try{return!A(e)&&(O.call(e),!0)}catch(e){return!1}},e=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!==(void 0===e?"undefined":o(e)))return!1;if(T)return P(e);if(A(e))return!1;var t=_.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t},C=RegExp.prototype.exec,N=function(e){try{return C.call(e),!0}catch(e){return!1}};t=function(e){return"object"===(void 0===e?"undefined":o(e))&&(T?N(e):"[object RegExp]"===_.call(e))};var x,L=String.prototype.valueOf,I=function(e){try{return L.call(e),!0}catch(e){return!1}};x=function(e){return"string"==typeof e||"object"===(void 0===e?"undefined":o(e))&&(T?I(e):"[object String]"===_.call(e))};var R=a.defineProperty&&function(){try{var e={};a.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}(),k=function(e){var t;return t=R?function(e,t,n,r){!r&&t in e||a.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)},function(n,r,o){for(var a in r)e.call(r,a)&&t(n,a,r[a],o)}}(i.hasOwnProperty),D=function(e){var t=void 0===e?"undefined":o(e);return null===e||"object"!==t&&"function"!==t},j=f.isNaN||function(e){return e!==e},F={ToInteger:function(e){var t=+e;return j(t)?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t},ToPrimitive:function(t){var n,r,o;if(D(t))return t;if(r=t.valueOf,e(r)&&(n=r.call(t),D(n)))return n;if(o=t.toString,e(o)&&(n=o.call(t),D(n)))return n;throw new TypeError},ToObject:function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return a(e)},ToUint32:function(e){return e>>>0}},U=function(){};k(s,{bind:function(t){var n=this;if(!e(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r,o=p.call(arguments,1),i=function(){if(this instanceof r){var e=b.call(n,this,g.call(o,p.call(arguments)));return a(e)===e?e:this}return b.call(n,t,g.call(o,p.call(arguments)))},s=S(0,n.length-o.length),u=[],c=0;c<s;c++)h.call(u,"$"+c);return r=l("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(i),n.prototype&&(U.prototype=n.prototype,r.prototype=new U,U.prototype=null),r}});var B=E.bind(i.hasOwnProperty),G=E.bind(i.toString),H=E.bind(p),W=b.bind(p),V=E.bind(c.slice),q=E.bind(c.split),Y=E.bind(c.indexOf),X=E.bind(h),K=E.bind(i.propertyIsEnumerable),z=E.bind(r.sort),$=n.isArray||function(e){return"[object Array]"===G(e)},J=1!==[].unshift(0);k(r,{unshift:function(){return v.apply(this,arguments),this.length}},J),k(n,{isArray:$});var Z=a("a"),Q="a"!==Z[0]||!(0 in Z),ee=function(e){var t=!0,n=!0,r=!1;if(e)try{e.call("foo",function(e,n,r){"object"!==(void 0===r?"undefined":o(r))&&(t=!1)}),e.call([1],function(){n="string"==typeof this},"x")}catch(e){r=!0}return!!e&&!r&&t&&n};k(r,{forEach:function(t){var n,r=F.ToObject(this),o=Q&&x(this)?q(this,""):r,a=-1,i=F.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++a<i;)a in o&&(void 0===n?t(o[a],a,r):t.call(n,o[a],a,r))}},!ee(r.forEach)),k(r,{map:function(t){var r,o=F.ToObject(this),a=Q&&x(this)?q(this,""):o,i=F.ToUint32(a.length),l=n(i);if(arguments.length>1&&(r=arguments[1]),!e(t))throw new TypeError("Array.prototype.map callback must be a function");for(var s=0;s<i;s++)s in a&&(l[s]=void 0===r?t(a[s],s,o):t.call(r,a[s],s,o));return l}},!ee(r.map)),k(r,{filter:function(t){var n,r,o=F.ToObject(this),a=Q&&x(this)?q(this,""):o,i=F.ToUint32(a.length),l=[];if(arguments.length>1&&(r=arguments[1]),!e(t))throw new TypeError("Array.prototype.filter callback must be a function");for(var s=0;s<i;s++)s in a&&(n=a[s],(void 0===r?t(n,s,o):t.call(r,n,s,o))&&X(l,n));return l}},!ee(r.filter)),k(r,{every:function(t){var n,r=F.ToObject(this),o=Q&&x(this)?q(this,""):r,a=F.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.every callback must be a function");for(var i=0;i<a;i++)if(i in o&&!(void 0===n?t(o[i],i,r):t.call(n,o[i],i,r)))return!1;return!0}},!ee(r.every)),k(r,{some:function(t){var n,r=F.ToObject(this),o=Q&&x(this)?q(this,""):r,a=F.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.some callback must be a function");for(var i=0;i<a;i++)if(i in o&&(void 0===n?t(o[i],i,r):t.call(n,o[i],i,r)))return!0;return!1}},!ee(r.some));var te=!1;r.reduce&&(te="object"===o(r.reduce.call("es5",function(e,t,n,r){return r}))),k(r,{reduce:function(t){var n=F.ToObject(this),r=Q&&x(this)?q(this,""):n,o=F.ToUint32(r.length);if(!e(t))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var a,i=0;if(arguments.length>=2)a=arguments[1];else for(;;){if(i in r){a=r[i++];break}if(++i>=o)throw new TypeError("reduce of empty array with no initial value")}for(;i<o;i++)i in r&&(a=t(a,r[i],i,n));return a}},!te);var ne=!1;r.reduceRight&&(ne="object"===o(r.reduceRight.call("es5",function(e,t,n,r){return r}))),k(r,{reduceRight:function(t){var n=F.ToObject(this),r=Q&&x(this)?q(this,""):n,o=F.ToUint32(r.length);if(!e(t))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var a,i=o-1;if(arguments.length>=2)a=arguments[1];else for(;;){if(i in r){a=r[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(i<0)return a;do{i in r&&(a=t(a,r[i],i,n))}while(i--);return a}},!ne);var re=r.indexOf&&-1!==[0,1].indexOf(1,2);k(r,{indexOf:function(e){var t=Q&&x(this)?q(this,""):F.ToObject(this),n=F.ToUint32(t.length);if(0===n)return-1;var r=0;for(arguments.length>1&&(r=F.ToInteger(arguments[1])),r=r>=0?r:S(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}},re);var oe=r.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);k(r,{lastIndexOf:function(e){var t=Q&&x(this)?q(this,""):F.ToObject(this),n=F.ToUint32(t.length);if(0===n)return-1;var r=n-1;for(arguments.length>1&&(r=w(r,F.ToInteger(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}},oe);var ae=function(){var e=[1,2],t=e.splice();return 2===e.length&&$(t)&&0===t.length}();k(r,{splice:function(e,t){return 0===arguments.length?[]:m.apply(this,arguments)}},!ae);var ie=function(){var e={};return r.splice.call(e,0,0,1),1===e.length}();k(r,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=S(F.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof t&&(n=H(arguments),n.length<2?X(n,this.length-e):n[1]=F.ToInteger(t)),m.apply(this,n)}},!ie);var le=function(){var e=new n(1e5);return e[8]="x",e.splice(1,1),7===e.indexOf("x")}(),se=function(){var e=[];return e[256]="a",e.splice(257,0,"b"),"a"===e[256]}();k(r,{splice:function(e,t){for(var n,r=F.ToObject(this),o=[],a=F.ToUint32(r.length),i=F.ToInteger(e),l=i<0?S(a+i,0):w(i,a),s=w(S(F.ToInteger(t),0),a-l),c=0;c<s;)n=u(l+c),B(r,n)&&(o[c]=r[n]),c+=1;var f,d=H(arguments,2),p=d.length;if(p<s){c=l;for(var m=a-s;c<m;)n=u(c+s),f=u(c+p),B(r,n)?r[f]=r[n]:delete r[f],c+=1;c=a;for(var h=a-s+p;c>h;)delete r[c-1],c-=1}else if(p>s)for(c=a-s;c>l;)n=u(c+s-1),f=u(c+p-1),B(r,n)?r[f]=r[n]:delete r[f],c-=1;c=l;for(var v=0;v<d.length;++v)r[c]=d[v],c+=1;return r.length=a-s+p,o}},!le||!se);var ue,ce=r.join;try{ue="1,2,3"!==Array.prototype.join.call("123",",")}catch(e){ue=!0}ue&&k(r,{join:function(e){var t=void 0===e?",":e;return ce.call(x(this)?q(this,""):this,t)}},ue);var fe="1,2"!==[1,2].join(void 0);fe&&k(r,{join:function(e){var t=void 0===e?",":e;return ce.call(this,t)}},fe);var de=function(e){for(var t=F.ToObject(this),n=F.ToUint32(t.length),r=0;r<arguments.length;)t[n+r]=arguments[r],r+=1;return t.length=n+r,n+r},pe=function(){var e={};return 1!==Array.prototype.push.call(e,void 0)||1!==e.length||void 0!==e[0]||!B(e,0)}();k(r,{push:function(e){return $(this)?h.apply(this,arguments):de.apply(this,arguments)}},pe);var me=function(){var e=[];return 1!==e.push(void 0)||1!==e.length||void 0!==e[0]||!B(e,0)}();k(r,{push:de},me),k(r,{slice:function(e,t){var n=x(this)?q(this,""):this;return W(n,arguments)}},Q);var he=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(e){}return!1}(),ve=function(){try{return[1,2].sort(/a/),!1}catch(e){}return!0}(),ge=function(){try{return[1,2].sort(void 0),!0}catch(e){}return!1}();k(r,{sort:function(t){if(void 0===t)return z(this);if(!e(t))throw new TypeError("Array.prototype.sort callback must be a function");return z(this,t)}},he||!ge||!ve);var ye=!K({toString:null},"toString"),Ee=K(function(){},"prototype"),be=!B("x","0"),Se=function(e){var t=e.constructor;return t&&t.prototype===e},we={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},_e=function(){if("undefined"==typeof window)return!1;for(var e in window)try{!we["$"+e]&&B(window,e)&&null!==window[e]&&"object"===o(window[e])&&Se(window[e])}catch(e){return!0}return!1}(),Te=function(e){if("undefined"==typeof window||!_e)return Se(e);try{return Se(e)}catch(e){return!1}},Oe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Me=Oe.length,Ae=function(e){return"[object Arguments]"===G(e)},Pe=function(t){return null!==t&&"object"===(void 0===t?"undefined":o(t))&&"number"==typeof t.length&&t.length>=0&&!$(t)&&e(t.callee)},Ce=Ae(arguments)?Ae:Pe;k(a,{keys:function(t){var n=e(t),r=Ce(t),a=null!==t&&"object"===(void 0===t?"undefined":o(t)),i=a&&x(t);if(!a&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var l=[],s=Ee&&n;if(i&&be||r)for(var c=0;c<t.length;++c)X(l,u(c));if(!r)for(var f in t)s&&"prototype"===f||!B(t,f)||X(l,u(f));if(ye)for(var d=Te(t),p=0;p<Me;p++){var m=Oe[p];d&&"constructor"===m||!B(t,m)||X(l,m)}return l}});var Ne=a.keys&&function(){return 2===a.keys(arguments).length}(1,2),xe=a.keys&&function(){var e=a.keys(arguments);return 1!==arguments.length||1!==e.length||1!==e[0]}(1),Le=a.keys;k(a,{keys:function(e){return Le(Ce(e)?H(e):e)}},!Ne||xe);var Ie,Re,ke=0!==new Date(-0xc782b5b342b24).getUTCMonth(),De=new Date(-0x55d318d56a724),je=new Date(14496624e5),Fe="Mon, 01 Jan -45875 11:59:59 GMT"!==De.toUTCString();De.getTimezoneOffset()<-720?(Ie="Tue Jan 02 -45875"!==De.toDateString(),Re=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(je.toString())):(Ie="Mon Jan 01 -45875"!==De.toDateString(),Re=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(je.toString()));var Ue=E.bind(Date.prototype.getFullYear),Be=E.bind(Date.prototype.getMonth),Ge=E.bind(Date.prototype.getDate),He=E.bind(Date.prototype.getUTCFullYear),We=E.bind(Date.prototype.getUTCMonth),Ve=E.bind(Date.prototype.getUTCDate),qe=E.bind(Date.prototype.getUTCDay),Ye=E.bind(Date.prototype.getUTCHours),Xe=E.bind(Date.prototype.getUTCMinutes),Ke=E.bind(Date.prototype.getUTCSeconds),ze=E.bind(Date.prototype.getUTCMilliseconds),$e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ze=function(e,t){return Ge(new Date(t,e,0))};k(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Ue(this);return e<0&&Be(this)>11?e+1:e},getMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Ue(this),t=Be(this);return e<0&&t>11?0:t},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=Ue(this),t=Be(this),n=Ge(this);if(e<0&&t>11){if(12===t)return n;return Ze(0,e+1)-n+1}return n},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=He(this);return e<0&&We(this)>11?e+1:e},getUTCMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=He(this),t=We(this);return e<0&&t>11?0:t},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=He(this),t=We(this),n=Ve(this);if(e<0&&t>11){if(12===t)return n;return Ze(0,e+1)-n+1}return n}},ke),k(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=qe(this),t=Ve(this),n=We(this),r=He(this),o=Ye(this),a=Xe(this),i=Ke(this);return $e[e]+", "+(t<10?"0"+t:t)+" "+Je[n]+" "+r+" "+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)+":"+(i<10?"0"+i:i)+" GMT"}},ke||Fe),k(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=this.getDay(),t=this.getDate(),n=this.getMonth(),r=this.getFullYear();return $e[e]+" "+Je[n]+" "+(t<10?"0"+t:t)+" "+r}},ke||Ie),(ke||Re)&&(Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var e=this.getDay(),t=this.getDate(),n=this.getMonth(),r=this.getFullYear(),o=this.getHours(),a=this.getMinutes(),i=this.getSeconds(),l=this.getTimezoneOffset(),s=Math.floor(Math.abs(l)/60),u=Math.floor(Math.abs(l)%60);return $e[e]+" "+Je[n]+" "+(t<10?"0"+t:t)+" "+r+" "+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)+":"+(i<10?"0"+i:i)+" GMT"+(l>0?"-":"+")+(s<10?"0"+s:s)+(u<10?"0"+u:u)},R&&a.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var Qe=Date.prototype.toISOString&&-1===new Date(-621987552e5).toISOString().indexOf("-000001"),et=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),tt=E.bind(Date.prototype.getTime);k(Date.prototype,{toISOString:function(){if(!isFinite(this)||!isFinite(tt(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var e=He(this),t=We(this);e+=Math.floor(t/12),t=(t%12+12)%12;var n=[t+1,Ve(this),Ye(this),Xe(this),Ke(this)];e=(e<0?"-":e>9999?"+":"")+V("00000"+Math.abs(e),0<=e&&e<=9999?-4:-6);for(var r=0;r<n.length;++r)n[r]=V("00"+n[r],-2);return e+"-"+H(n,0,2).join("-")+"T"+H(n,2).join(":")+"."+V("000"+ze(this),-3)+"Z"}},Qe||et),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(-621987552e5).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}()||(Date.prototype.toJSON=function(t){var n=a(this),r=F.ToPrimitive(n);if("number"==typeof r&&!isFinite(r))return null;var o=n.toISOString;if(!e(o))throw new TypeError("toISOString property is not callable");return o.call(n)});var nt=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),rt=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||rt||!nt){var ot=Math.pow(2,31)-1,at=j(new Date(1970,0,1,0,0,0,ot+1).getTime());Date=function(e){var t=function(n,r,o,a,i,l,s){var c,f=arguments.length;if(this instanceof e){var d=l,p=s;if(at&&f>=7&&s>ot){var m=Math.floor(s/ot)*ot,h=Math.floor(m/1e3);d+=h,p-=1e3*h}c=1===f&&u(n)===n?new e(t.parse(n)):f>=7?new e(n,r,o,a,i,d,p):f>=6?new e(n,r,o,a,i,d):f>=5?new e(n,r,o,a,i):f>=4?new e(n,r,o,a):f>=3?new e(n,r,o):f>=2?new e(n,r):f>=1?new e(n instanceof e?+n:n):new e}else c=e.apply(this,arguments);return D(c)||k(c,{constructor:t},!0),c},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function(e,t){var n=t>1?1:0;return r[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)},a=function(t){var n=0,r=t;if(at&&r>ot){var o=Math.floor(r/ot)*ot,a=Math.floor(o/1e3);n+=a,r-=1e3*a}return f(new e(1970,0,1,0,0,n,r))};for(var i in e)B(e,i)&&(t[i]=e[i]);return k(t,{now:e.now,UTC:e.UTC},!0),t.prototype=e.prototype,k(t.prototype,{constructor:t},!0),k(t,{parse:function(t){var r=n.exec(t);if(r){var i,l=f(r[1]),s=f(r[2]||1)-1,u=f(r[3]||1)-1,c=f(r[4]||0),d=f(r[5]||0),p=f(r[6]||0),m=Math.floor(1e3*f(r[7]||0)),h=Boolean(r[4]&&!r[8]),v="-"===r[9]?1:-1,g=f(r[10]||0),y=f(r[11]||0);return c<(d>0||p>0||m>0?24:25)&&d<60&&p<60&&m<1e3&&s>-1&&s<12&&g<24&&y<60&&u>-1&&u<o(l,s+1)-o(l,s)&&(i=60*(24*(o(l,s)+u)+c+g*v),i=1e3*(60*(i+d+y*v)+p)+m,h&&(i=a(i)),-864e13<=i&&i<=864e13)?i:NaN}return e.parse.apply(this,arguments)}}),t}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var it=d.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),lt={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1,r=t;++n<lt.size;)r+=e*lt.data[n],lt.data[n]=r%lt.base,r=Math.floor(r/lt.base)},divide:function(e){for(var t=lt.size,n=0;--t>=0;)n+=lt.data[t],lt.data[t]=Math.floor(n/e),n=n%e*lt.base},numToString:function(){for(var e=lt.size,t="";--e>=0;)if(""!==t||0===e||0!==lt.data[e]){var n=u(lt.data[e]);""===t?t=n:t+=V("0000000",0,7-n.length)+n}return t},pow:function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)},log:function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}};k(d,{toFixed:function(e){var t,n,r,o,a,i,l,s;if(t=f(e),(t=j(t)?0:Math.floor(t))<0||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=f(this),j(n))return"NaN";if(n<=-1e21||n>=1e21)return u(n);if(r="",n<0&&(r="-",n=-n),o="0",n>1e-21)if(a=lt.log(n*lt.pow(2,69,1))-69,i=a<0?n*lt.pow(2,-a,1):n/lt.pow(2,a,1),i*=4503599627370496,(a=52-a)>0){for(lt.multiply(0,i),l=t;l>=7;)lt.multiply(1e7,0),l-=7;for(lt.multiply(lt.pow(10,l,1),0),l=a-1;l>=23;)lt.divide(1<<23),l-=23;lt.divide(1<<l),lt.multiply(1,1),lt.divide(2),o=lt.numToString()}else lt.multiply(0,i),lt.multiply(1<<-a,0),o=lt.numToString()+V("0.00000000000000000000",2,2+t);return t>0?(s=o.length,o=s<=t?r+V("0.0000000000000000000",0,t-s+2)+o:r+V(o,0,s-t)+"."+V(o,s-t)):o=r+o,o}},it);var st=function(){try{return"1"===1..toPrecision(void 0)}catch(e){return!0}}(),ut=d.toPrecision;k(d,{toPrecision:function(e){return void 0===e?ut.call(this):ut.call(this,e)}},st),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=void 0===/()??/.exec("")[1],n=Math.pow(2,32)-1;c.split=function(r,o){var a=String(this);if(void 0===r&&0===o)return[];if(!t(r))return q(this,r,o);var i,l,s,u,c=[],f=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(r.sticky?"y":""),d=0,p=new RegExp(r.source,f+"g");e||(i=new RegExp("^"+p.source+"$(?!\\s)",f));var m=void 0===o?n:F.ToUint32(o);for(l=p.exec(a);l&&!((s=l.index+l[0].length)>d&&(X(c,V(a,d,l.index)),!e&&l.length>1&&l[0].replace(i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)}),l.length>1&&l.index<a.length&&h.apply(c,H(l,1)),u=l[0].length,d=s,c.length>=m));)p.lastIndex===l.index&&p.lastIndex++,l=p.exec(a);return d===a.length?!u&&p.test("")||X(c,""):X(c,V(a,d)),c.length>m?H(c,0,m):c}}():"0".split(void 0,0).length&&(c.split=function(e,t){return void 0===e&&0===t?[]:q(this,e,t)});var ct=c.replace;(function(){var e=[];return"x".replace(/x(.)?/g,function(t,n){X(e,n)}),1===e.length&&void 0===e[0]})()||(c.replace=function(n,r){var o=e(r),a=t(n)&&/\)[*?]/.test(n.source);if(o&&a){var i=function(e){var t=arguments.length,o=n.lastIndex;n.lastIndex=0;var a=n.exec(e)||[];return n.lastIndex=o,
X(a,arguments[t-2],arguments[t-1]),r.apply(this,a)};return ct.call(this,n,i)}return ct.call(this,n,r)});var ft=c.substr,dt="".substr&&"b"!=="0b".substr(-1);k(c,{substr:function(e,t){var n=e;return e<0&&(n=S(this.length+e,0)),ft.call(this,n,t)}},dt);var pt="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",mt="​",ht="["+pt+"]",vt=new RegExp("^"+ht+ht+"*"),gt=new RegExp(ht+ht+"*$"),yt=c.trim&&(pt.trim()||!mt.trim());k(c,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return u(this).replace(vt,"").replace(gt,"")}},yt);var Et=E.bind(String.prototype.trim),bt=c.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);k(c,{lastIndexOf:function(e){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");for(var t=u(this),n=u(e),r=arguments.length>1?f(arguments[1]):NaN,o=j(r)?1/0:F.ToInteger(r),a=w(S(o,0),t.length),i=n.length,l=a+i;l>0;){l=S(0,l-i);var s=Y(V(t,l,a+i),n);if(-1!==s)return l+s}return-1}},bt);var St=c.lastIndexOf;if(k(c,{lastIndexOf:function(e){return St.apply(this,arguments)}},1!==c.lastIndexOf.length),8===parseInt(pt+"08")&&22===parseInt(pt+"0x16")||(parseInt=function(e){var t=/^[\-+]?0[xX]/;return function(n,r){var o=Et(String(n)),a=f(r)||(t.test(o)?16:10);return e(o,a)}}(parseInt)),1/parseFloat("-0")!=-1/0&&(parseFloat=function(e){return function(t){var n=Et(String(t)),r=e(n);return 0===r&&"-"===V(n,0,1)?-0:r}}(parseFloat)),"RangeError: test"!==String(new RangeError("test"))){var wt=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");var e=this.name;void 0===e?e="Error":"string"!=typeof e&&(e=u(e));var t=this.message;return void 0===t?t="":"string"!=typeof t&&(t=u(t)),e?t?e+": "+t:e:t};Error.prototype.toString=wt}if(R){var _t=function(e,t){if(K(e,t)){var n=Object.getOwnPropertyDescriptor(e,t);n.configurable&&(n.enumerable=!1,Object.defineProperty(e,t,n))}};_t(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),_t(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var Tt=function(){var e="/"+this.source+"/";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),e};RegExp.prototype.toString=Tt}})},{}],26:[function(e,t,n){var r=[],o=r.forEach,a=r.slice;t.exports=function(e){return o.call(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e}},{}],27:[function(e,t,n){function r(e){var t=o.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=r;var o=Object.prototype.toString},{}],28:[function(e,t,n){t.exports=function(e){return"object"===(void 0===e?"undefined":o(e))&&null!==e}},{}],29:[function(e,n,r){!function(e,r){void 0!==n&&n.exports?n.exports=r():"function"==typeof t&&t.amd?t(r):this.$script=r()}(0,function(){function e(e,t){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return s;return 1}function t(t,n){e(t,function(e){return!n(e)})}function n(a,i,l){function s(e){return e.call?e():d[e]}function c(){if(!--y){d[g]=1,v&&v();for(var n in m)e(n.split("|"),s)&&!t(m[n],s)&&(m[n]=[])}}a=a[u]?a:[a];var f=i&&i.call,v=f?i:l,g=f?a.join(""):i,y=a.length;return setTimeout(function(){t(a,function e(t,n){return null===t?c():(n||/^https?:\/\//.test(t)||!o||(t=-1===t.indexOf(".js")?o+t+".js":o+t),h[t]?(g&&(p[g]=1),2==h[t]?c():setTimeout(function(){e(t,!0)},0)):(h[t]=1,g&&(p[g]=1),void r(t,c)))})},0),n}function r(e,t){var n,r=i.createElement("script");r.onload=r.onerror=r[f]=function(){r[c]&&!/^c|loade/.test(r[c])||n||(r.onload=r[f]=null,n=1,h[e]=2,t())},r.async=1,r.src=a?e+(-1===e.indexOf("?")?"?":"&")+a:e,l.insertBefore(r,l.lastChild)}var o,a,i=document,l=i.getElementsByTagName("head")[0],s=!1,u="push",c="readyState",f="onreadystatechange",d={},p={},m={},h={};return n.get=r,n.order=function(e,t,r){!function o(a){a=e.shift(),e.length?n(a,o):n(a,t,r)}()},n.path=function(e){o=e},n.urlArgs=function(e){a=e},n.ready=function(r,o,a){r=r[u]?r:[r];var i=[];return!t(r,function(e){d[e]||i[u](e)})&&e(r,function(e){return d[e]})?o():function(e){m[e]=m[e]||[],m[e][u](o),a&&a(i)}(r.join("|")),n},n.done=function(e){n([null],e)},n})},{}]},{},[19])(19)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],84:[function(e,t,n){"use strict";function r(e){c.items.forEach(function(t){try{var n=localStorage.getItem(""+c.prefix+t);n&&e({type:t,payload:c.deserialize(n)})}catch(e){}})}function o(e){try{localStorage.setItem(""+c.prefix+e.type,c.serialize(e.payload))}catch(e){}}function a(e){if(c.items.indexOf(e)>=0)try{return null!=localStorage.getItem(""+c.prefix+e)}catch(e){return!1}return!1}function i(e){if(Array.isArray(e))c.items=e;else{if("object"!==(void 0===e?"undefined":s(e)))throw new Error("You need to use saver(config), where config is array or object");c=l({},c,e)}return function(){return function(e){return function(t){t.type===u?r(e):(c.items.indexOf(t.type)>=0&&o(t),e(t))}}}}Object.defineProperty(n,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.getIsSaved=a;var u="LOAD_LOCALSTORAGE",c=(n.restore=function(){return{type:u}},{items:[],prefix:"rls_",serialize:JSON.stringify,deserialize:JSON.parse});n.default=i},{}],85:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=e("lodash"),i=function(e){return e&&e.__esModule?e:{default:e}}(a),l=e("../utils/fsa"),s=e("../actions/apartments"),u=o({},l.FSA_INITIAL_STATE,{motion:l.FSA_INITIAL_STATE}),c=(0,l.createFSAReducer)(s.FETCH_MOTION),f=(0,l.createFSAReducer)(s.FETCH_APARTMENTS,u,function(e,t){var n=t.type,a=t.payload;switch(n){case s.FETCH_MOTION:return o({},e,{motion:c(e.motion,{type:n,payload:a})});case s.UPDATE_APARTMENT:var l=i.default.findIndex(e.data,function(e){return e.apartment===a.apartment});return l<0?e:o({},e,{data:[].concat(r(e.data.slice(0,l)),[a],r(e.data.slice(l+1)))});default:return e}});n.default=f},{"../actions/apartments":1,"../utils/fsa":114,lodash:void 0}],86:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../actions/auth"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,o=t.payload;switch(n){case r.AUTH_SET:return o;default:return e}};n.default=o},{"../actions/auth":2}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("../actions/config"),a={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,i=t.payload;switch(n){case o.CONFIG_SET_DATA:return r({},e,i);case o.CONFIG_SET_SEND_START_STREAM:return r({},e,{sendStartStream:i});default:return e}};n.default=i},{"../actions/config":3}],88:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1],n=t.type,r=t.payload;switch(n){case f.SET_FORMAT_TO_PLAYER:return(0,c.default)(e,{format:{$set:r.format},show:{$set:!0}});case f.SET_IS_MUTED_TO_PLAYER:return(0,c.default)(e,{isMuted:{$set:r.isMuted},show:{$set:!0}});case f.SET_CAMERA_TO_PLAYER:return(0,c.default)(e,{camera:{$set:r.camera},show:{$set:!0}});case f.SET_PLAYERS:return r.show=!0,(0,c.default)(e,{$merge:r});case f.SET_PLAYLIST_TO_PLAYER:return(0,c.default)(e,{playlist:{$set:r.playlist},show:{$set:!0}});default:return e}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=e("lodash"),s=r(l),u=e("immutability-helper"),c=r(u),f=e("../actions/current"),d=e("../consts"),p={camera:{},format:d.VIDEO_FORMATS.P720,playlist:{},show:!1,isMuted:!1},m={0:p,1:p,2:p,3:p},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1],n=t.type,r=t.payload;switch(n){case f.SET_PLAYERS:return s.default.reduce(e,function(e,t,o){return r[o]?e[o]=a(t,{type:n,payload:r[o]}):e[o]=(0,c.default)(t,{show:{$set:!1}}),e},{});case f.SET_FORMAT_TO_PLAYER:case f.SET_CAMERA_TO_PLAYER:case f.SET_PLAYLIST_TO_PLAYER:case f.SET_IS_MUTED_TO_PLAYER:return(0,c.default)(e,o({},r.player,{$set:a(e[r.player],{type:n,payload:r})}));default:return e}},v={viewMode:d.VIEW_MODE.SINGLE,prevViewMode:d.VIEW_MODE.SINGLE,players:m,player:0,isAutoFollow:{mode:null,player:null},language:"en",videoFormat:d.VIDEO_FORMATS.P720,excludeList:[],level:1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments[1],n=t.type,r=t.payload;switch(n){case f.SET_LANGUAGE:return i({},e,{language:r});case f.SET_PLAYERS:case f.SET_CAMERA_TO_PLAYER:case f.SET_FORMAT_TO_PLAYER:case f.SET_IS_MUTED_TO_PLAYER:case f.SET_PLAYLIST_TO_PLAYER:return i({},e,{players:h(e.players,{type:n,payload:r})});case f.SET_CURRENT_PLAYER:return i({},e,{player:r});case f.SET_LEVEL:return i({},e,{level:r});case f.SET_VIEW_MODE:return i({},e,r,{prevViewMode:e.viewMode});case f.SET_IS_AUTO_FOLLOW:return i({},e,{isAutoFollow:r});case f.SET_VIDEO_FORMAT:return i({},e,{videoFormat:r});case f.SET_EXCLUDE_LIST:return i({},e,{excludeList:r});default:return e}};n.default=g},{"../actions/current":7,"../consts":76,"immutability-helper":void 0,lodash:void 0}],89:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("redux"),a=e("redux-tooltip"),i=e("./apartments"),l=r(i),s=e("./auth"),u=r(s),c=e("./current"),f=r(c),d=e("./snapshots"),p=r(d),m=e("./md"),h=r(m),v=e("./modal"),g=r(v),y=e("./config"),E=r(y),b=e("./options"),S=r(b),w=e("./panels"),_=r(w),T=e("./landing"),O=r(T),M=e("./preview"),A=r(M),P=e("./window"),C=r(P),N=e("../slivax");n.default=(0,o.combineReducers)({apartments:l.default,auth:u.default,current:f.default,config:E.default,snapshots:p.default,preview:A.default,options:S.default,panels:_.default,landing:O.default,md:h.default,modal:g.default,tooltip:a.reducer,window:C.default,slivax:N.slivax})},{"../slivax":109,"./apartments":85,"./auth":86,"./config":87,"./current":88,"./landing":90,"./md":91,"./modal":92,"./options":93,"./panels":94,"./preview":95,"./snapshots":96,"./window":97,redux:void 0,"redux-tooltip":void 0}],90:[function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1],n=t.type,r=t.payload;switch(n){case a.SAVE_SCENES:return o({},e,{data:r});case a.SET_CURRENT_SCENE:return o({},e,{currentScene:r});default:return e}}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=e("../actions/landing"),i={data:{},currentScene:null};n.default=r},{"../actions/landing":8}],91:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("../actions/md"),a={apartments:{},cameras:{},isOn:!1},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,i=t.payload;switch(n){case o.MD_CLEAN_DATA:return a;case o.MD_SET_APARTMENTS:case o.MD_SET_CAMERAS:case o.MD_SET_IS_ON:return r({},e,i);default:return e}};n.default=i},{"../actions/md":9}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("../actions/modal"),a={show:!1,type:null},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,i=t.payload;switch(n){case o.MODAL_SET_SHOW:return r({},e,{show:i});case o.MODAL_SET_TYPE:return r({},e,{type:i});default:return e}};n.default=i},{"../actions/modal":10}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("../actions/options"),a=e("../consts"),i={isDisableGroups:!1,isHideNonActiveGroups:!(a.STARTUP_PARAMS.isGuest&&a.STARTUP_PARAMS.isMobile)};n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1],n=t.type,a=t.payload;switch(n){case o.SET_IS_DISABLE_GROUPS:case o.SET_IS_HIDE_NON_ACTIVE_GROUPS:return r({},e,a);default:return e}}},{"../actions/options":11,"../consts":76}],94:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=e("lodash"),l=r(i),s=e("immutability-helper"),u=r(s),c=e("../actions/panels"),f=e("../consts"),d=e("../config"),p=l.default.reduce(f.PANELS,function(e,t){return a({},e,o({},t,void 0===d.PANELS_DEFAULT_STATUS[t]||d.PANELS_DEFAULT_STATUS[t]))},{}),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1],n=t.type,r=t.payload;return l.default.startsWith(n,(0,c.SET_SHOW_PANEL)(""))?(0,u.default)(e,o({},r.panel,{$set:r.isShow})):e};n.default=m},{"../actions/panels":12,"../config":75,"../consts":76,"immutability-helper":void 0,lodash:void 0}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("../actions/preview"),a={disabled:!1,isShow:!1,camera:null,className:null},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,i=t.payload;switch(n){case o.SET_IS_SHOW_PREVIEW:case o.SET_DISABLED_PREVIEW:case o.SET_CAMERA_PREVIEW:case o.SET_CLASSNAME_PREVIEW:return r({},e,i);default:return e}};n.default=i},{"../actions/preview":13}],96:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0});var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=e("redux"),l=e("../actions/snapshots"),s=e("../consts"),u=e("../utils"),c=function(e){return{isFetching:!1,error:null,data:[],linesCount:e===s.SNAP_TYPES.TOP_CAMS?5:10,isShow:!0}},f=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c(e),n=arguments[1],r=n.type,o=n.payload,i=n.error;switch(r){case(0,l.FETCH_SNAPSHOTS)(e):return o?i?a({},t,{error:i}):a({},t,{data:o,isFetching:!1,ts:(0,u.getTimestamp)(),error:null}):a({},t,{isFetching:!0,error:null});case(0,l.SET_COUNT_SNAPSHOT_LINES)(e):return a({},t,{linesCount:o});case(0,l.SET_IS_SHOW_SNAPSHOT)(e):return a({},t,{isShow:o,linesCount:t.linesCount||1});default:return t}}},d={snapOnLine:5},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1],n=t.type,r=t.payload;switch(n){case l.SET_SNAPSHOT_ON_LINES_COUNT:return a({},e,{snapOnLine:r});default:return e}};n.default=(0,i.combineReducers)((o={},r(o,s.SNAP_TYPES.TOP_CAMS,f(s.SNAP_TYPES.TOP_CAMS)),r(o,s.SNAP_TYPES.TOP_SCENES,f(s.SNAP_TYPES.TOP_SCENES)),r(o,"common",p),o))},{"../actions/snapshots":14,"../consts":76,"../utils":115,redux:void 0}],97:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("../actions/window"),a={width:null};n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,i=t.payload;switch(n){case o.SET_WIDTH:return r({},e,{width:i});default:return e}}},{"../actions/window":15}],98:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){var n=t.location;n.query.cam&&n.query.stamp&&(e((0,v.setCurrentScene)({camera:n.query.cam,ts:n.query.stamp})),y.default.preselectScene(n.query.cam,n.query.stamp)),n.query.lm||n.query.landingmode||e((0,m.configSetLM)(E.LANDING_MODES.SCENES)),e((0,m.configSetMuted)(!0))}}function a(e){var t=e.store;return l.default.createElement(c.Router,{history:c.browserHistory},l.default.createElement(c.Route,{path:"/",component:d.default,onEnter:S(t.dispatch,t.getState)},l.default.createElement(c.Route,{path:"/hello",onEnter:o(t.dispatch)}),l.default.createElement(c.Route,{path:"/main"}),l.default.createElement(c.Route,{path:"/:lang/view/:camera",onEnter:w(t.dispatch)})),l.default.createElement(c.Redirect,{from:"",to:"/"}),l.default.createElement(c.Redirect,{from:"/*",to:"/"}))}Object.defineProperty(n,"__esModule",{value:!0});var i=e("react"),l=r(i),s=e("prop-types"),u=r(s),c=e("react-router"),f=e("./components/app"),d=r(f),p=e("./actions/snapshots"),m=e("./actions/config"),h=e("./actions/current"),v=e("./actions/landing"),g=e("./utils/events"),y=r(g),E=e("./consts"),b=!0,S=function(e){return function(t){var n=t.location,r=t.params;b&&(b=!1,e((0,m.configParseQuery)(n.query)),e((0,p.autoFetchTopCams)()),e((0,p.autoFetchTopScenes)()),r.camera||e((0,h.setPopular)()))}},w=function(e){return function(t){var n=t.params;n.lang&&e((0,h.setLanguage)(n.lang)),n.camera&&e((0,h.setCameraToPlayer)(n.camera))}};a.propTypes={store:u.default.shape({dispatch:u.default.func.isRequired,getState:u.default.func.isRequired}).isRequired},n.default=a},{"./actions/config":3,"./actions/current":7,"./actions/landing":8,"./actions/snapshots":14,"./components/app":21,"./consts":76,"./utils/events":112,"prop-types":void 0,react:void 0,"react-router":void 0}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getDataForPremiumModal=n.getCameraOnNextApartment=n.getResultedApartments=n.getFilteredApartments=n.getGroupedApartments=n.getSortedApartments=n.getApartmentsMD=n.getMotion=n.getApartments=void 0;var r=e("reselect"),o=e("lodash"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=e("../consts"),l=e("../utils/selectors"),s=e("./options"),u=e("./current"),c=n.getApartments=(0,r.createSelector)([function(e){return e.apartments.data}],function(e){return a.default.orderBy(e,"order")}),f=n.getMotion=(0,r.createSelector)([function(e){return e.apartments.motion.data||{}}],function(e){return e}),d=n.getApartmentsMD=(0,r.createSelector)([function(e){return e.md.apartments||{}}],function(e){return e}),p=n.getSortedApartments=(0,r.createSelector)([c],function(e){return a.default.orderBy(e,function(e){return i.APARTMENT_GROUP_ORDER.indexOf(e.group)})}),m=n.getGroupedApartments=(0,r.createSelector)([p,s.getIsDisableGroups],function(e,t){return a.default.groupBy(e,function(e){return t?i.ALL_APARTMENTS:e.group})}),h=n.getFilteredApartments=(0,r.createSelector)([p,f,s.getIsHideNonActiveGroups,u.getCurrentApartmentNum],function(e,t,n,r){return n?a.default.filter(e,function(e){return t[e.apartment]||e.apartment===r}):e});n.getResultedApartments=(0,r.createSelector)([m,f,s.getIsHideNonActiveGroups,u.getCurrentApartmentNum,d],function(e,t,n,r){var o=a.default.reduce(e,function(e,o,i){return e.push({name:i,sourceCount:o.length,apartments:a.default.filter(o,function(e){return!n||t[e.apartment]||e.apartment===r}),notActive:a.default.filter(o,function(e){return n&&!t[e.apartment]})}),e},[]);return a.default.orderBy(o,function(e){return i.APARTMENT_GROUP_ORDER.indexOf(e.name)})}),n.getCameraOnNextApartment=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=n||(0,u.getCurrentApartmentNum)(e),o=t?a.default.reverse(h(e).slice()):h(e),i=a.default.findIndex(o,{apartment:r}),s=null,c=(0,l.predicateFilterByUserStatus)(e),f=(0,l.predicateSortByWithReverse)(!1);!s;){i+=1,i=i<o.length?i:0;var d=a.default.get(o,"["+i+"].cameras"),p=a.default.filter(d,c),m=a.default.sortBy(p,f);s=a.default.head(m)}return s},n.getDataForPremiumModal=(0,r.createSelector)([p],function(e){return{apartments:e,camsCount:a.default.sumBy(e,function(e){return e.cameras.length})}})},{"../consts":76,"../utils/selectors":117,"./current":102,"./options":103,lodash:void 0,reselect:void 0}],100:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.auth.user.userid}Object.defineProperty(n,"__esModule",{value:!0}),n.getUpdateMotionInterval=n.getUpdateAparmentsInterval=n.getApartmentsURI=n.getIsShowPromo=n.getTopScenesSnapURI=n.getTopCamsSnapURI=n.getAccess=n.getUserType=n.getIsActive=n.getBaseStaticUrl=n.getLogin=void 0,n.getUserId=o;var a=e("reselect"),i=e("lodash"),l=r(i),s=e("../libs/fixtime"),u=r(s),c=e("../consts"),f=(n.getLogin=(0,a.createSelector)([function(e){return e.auth.user&&e.auth.user.login}],function(e){return e}),function(e){return e.auth.user&&e.auth.user.tokens||[]}),d=n.getBaseStaticUrl=function(e){return e.auth.baseStaticUrl},p=function(e){return e.auth.snaphotsUriLatest},m=function(e){return e.auth.snaphotsUriReplay},h=function(e){return e.snapshots[c.SNAP_TYPES.TOP_CAMS].ts},v=n.getIsActive=(0,a.createSelector)([f],function(e){return e.indexOf("active")>=0}),g=n.getUserType=(0,a.createSelector)([f],function(e){return l.default.isEmpty(e)?null:e.indexOf("premium")>=0?"premium":e.indexOf("member")>=0?"standard":"guest"});n.getAccess=(0,a.createSelector)([v,g],function(e,t){return e?t:"guest"}),n.getTopCamsSnapURI=(0,a.createSelector)([d,p,h],function(e,t,n){var r=window.location.protocol;return l.default.startsWith(t,"http")||l.default.startsWith(t,"//")?function(e){return e&&""+t+e+".jpg?ts="+(0,u.default)(!0)}:"http:"===r?function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r&&"//snapshots0"+o+"."+e+t+r+".jpg?ts="+n||null}:function(n){return n&&"//"+e+t+n+".jpg?ts="+(0,u.default)(!0)||null}}),n.getTopScenesSnapURI=(0,a.createSelector)([d,m],function(e,t){return function(n,r,o){var a=void 0;if(l.default.startsWith(t,"http")||l.default.startsWith(t,"//"))a=t;else{a="http:"===window.location.protocol?"//snapshots0"+o+"."+e+t:"//"+e+t+"&l"}return a.replace("${camera}",n).replace("${ts}",r)}}),n.getIsShowPromo=(0,a.createSelector)([function(e){return e.auth.showPromo}],function(e){return 1===Number(e)}),n.getApartmentsURI=(0,a.createSelector)([function(e){return e.auth.apartments}],function(e){return e}),n.getUpdateAparmentsInterval=(0,a.createSelector)([function(e){return e.auth.updateAparmentsInterval}],function(e){return Math.max(Number(e)||0,60)}),n.getUpdateMotionInterval=(0,a.createSelector)([function(e){return e.auth.updateMotionStateInterval}],function(e){return Math.max(Number(e)||0,60)})},{"../consts":76,"../libs/fixtime":82,lodash:void 0,reselect:void 0}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getMDLevels=n.getNextLevel=n.getCameraOnLevelSelector=n.getCameraForSelectApartmentSelector=n.getNextCamera=n.getCurrentLevelCameras=n.getCamerasListByLevelSelector=n.getCamerasList=void 0;var r=e("reselect"),o=e("lodash"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=e("../utils/selectors"),l=e("./preview"),s=e("./current"),u=e("./apartments"),c=function(e){return e.apartments.data},f=n.getCamerasList=(0,r.createSelector)([s.getCurrentApartment],function(e){return a.default.sortBy(e.cameras,["level","order"])}),d=n.getCamerasListByLevelSelector=(0,r.createSelector)([f],function(e){return function(t){return a.default.sortBy(a.default.filter(e,function(e){return Number(a.default.get(e,"level",1))===t}),"order")}}),p=(n.getCurrentLevelCameras=(0,r.createSelector)([s.getCurrentLevel,d],function(e,t){return t(e)}),n.getNextCamera=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n&&n.camera||(0,s.getCurrentCamera)(e).camera,l=c(e),f=a.default.find(l,{apartment:o.split("_")[0]});if(a.default.isEmpty(f))return{};for(var d=t?-1:1,p=a.default.chain(f).get("cameras").filter((0,i.predicateFilterByUserStatus)(e)).sortBy(function(e){return d*e.order}).sortBy(function(e){return d*a.default.parseInt(e.level||"1")}).value(),m=a.default.findIndex(p,{camera:o}),h=null;!h&&m+1<p.length;)m+=1,h=a.default.get(p,m);return h||r&&p[0]||(0,u.getCameraOnNextApartment)(e,t,f.apartment)},n.getCameraForSelectApartmentSelector=(0,r.createSelector)([c,i.predicateFilterByUserStatus,l.getDisabledPreview,l.getIsShowPreview,l.getCameraPreview],function(e,t,n,r,o){return function(i){var l=a.default.find(e,{apartment:i}),s=a.default.sortBy(l.cameras,["level","order"]);if(!a.default.size(s))return null;var u=a.default.filter(s,t);if(0===u.length)return a.default.head(s);if(!n&&r&&o){var c=a.default.find(u,{camera:o});if(c)return c}return a.default.head(u)}}),n.getCameraOnLevelSelector=(0,r.createSelector)([f,i.predicateFilterByUserStatus],function(e,t){return function(n){var r=a.default.filter(e,function(e){return Number(e.level)===n});if(!a.default.size(r))return null;var o=a.default.filter(r,t);return a.default.size(o)?a.default.head(o):null}}),n.getNextLevel=(0,r.createSelector)([s.getCurrentLevel,s.getCurrentApartmentLevels],function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=void 0;return n?(r=e-1)<=0&&(r=t):(r=e+1)>t&&(r=1),r}}),function(e){return e.md.cameras});n.getMDLevels=(0,r.createSelector)([p,f],function(e,t){var n=a.default.groupBy(t,function(e){return e.level||1});return a.default.reduce(n,function(t,n,r){var o=a.default.map(n,function(e){return e.camera});return a.default.forEach(o,function(n){t[r]=t[r]||1===e[n]}),t},{})})},{"../utils/selectors":117,"./apartments":99,"./current":102,"./preview":104,lodash:void 0,reselect:void 0}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrentPlan=n.getCurrentApartmentLevels=n.getCurrentApartment=n.getCurrentApartmentNum=n.getCurrentCamera=n.getPlayers=n.getCurrentLevel=n.getCurrentAutoFollowMode=n.getCurrentPlayer=n.getIsAutoFollow=n.getLanguage=n.getVideoFormat=n.getViewMode=void 0;var r=e("reselect"),o=e("lodash"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=e("../consts"),l=n.getViewMode=(0,r.createSelector)([function(e){return e.current.viewMode}],function(e){return Number(e)}),s=(n.getVideoFormat=(0,r.createSelector)([function(e){return e.current.videoFormat}],function(e){return e}),n.getLanguage=(0,r.createSelector)([function(e){return e.current.language}],function(e){return e}),n.getIsAutoFollow=(0,r.createSelector)([function(e){return e.current.isAutoFollow}],function(e){return e||{}})),u=n.getCurrentPlayer=(0,r.createSelector)([function(e){return e.current.player}],function(e){return e}),c=(n.getCurrentAutoFollowMode=(0,r.createSelector)([s,u],function(e,t){return e.player===t&&e.mode}),n.getCurrentLevel=(0,r.createSelector)([function(e){return e.current.level}],function(e){return e})),f=n.getPlayers=(0,r.createSelector)([function(e){return a.default.pickBy(e.current.players,function(e){return e.show})},l],function(e,t){var n=Object.keys(e).map(function(t){return e[t]});switch(t){case i.VIEW_MODE.SINGLE:case i.VIEW_MODE.SINGLE_WIDE:return{0:n[0]};case i.VIEW_MODE.TWO_VERTICAL:case i.VIEW_MODE.TWO_HORIZONTAL:return a.default.fromPairs(n.slice(0,2).map(function(e,t){return[t,e]}));case i.VIEW_MODE.FULLSCREEN:case i.VIEW_MODE.FOUR:default:return e}}),d=n.getCurrentCamera=(0,r.createSelector)([f,u],function(e,t){return a.default.get(e,t,{}).camera}),p=n.getCurrentApartmentNum=(0,r.createSelector)([d],function(e){return a.default.get(e,"camera","").split("_")[0]}),m=n.getCurrentApartment=(0,r.createSelector)([function(e){return e.apartments.data||[]},p],function(e,t){return a.default.find(e,function(e){return e.apartment===t})||{}}),h=(n.getCurrentApartmentLevels=(0,r.createSelector)([m],function(e){return a.default.parseInt(a.default.get(e,"levels",1))}),function(e,t){var n=a.default.map(t,function(e){return e.camera}),r=a.default.get(e,"zones",[]);return a.default.filter(r,function(e){return a.default.includes(n,e.link)})});n.getCurrentPlan=(0,r.createSelector)([m,c],function(e,t){var n=a.default.get(e,"planSVG","{}");try{var r=JSON.parse(n),o=a.default.chain(e).get("cameras").filter(function(e){return a.default.get(e,"level",1)===t}).value();return r.zones=h(r,o),r}catch(e){return{}}})},{"../consts":76,lodash:void 0,reselect:void 0}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getIsHideNonActiveGroups=n.getIsDisableGroups=void 0;var r=e("reselect");n.getIsDisableGroups=(0,r.createSelector)([function(e){return e.options.isDisableGroups}],function(e){return e}),n.getIsHideNonActiveGroups=(0,r.createSelector)([function(e){return e.options.isHideNonActiveGroups}],function(e){return e})},{reselect:void 0}],104:[function(e,t,n){"use strict";function r(e){return e.preview.isShow}function o(e){return e.preview.camera}function a(e){return e.preview.disabled}function i(e){return e.preview.className}Object.defineProperty(n,"__esModule",{value:!0}),n.getIsShowPreview=r,n.getCameraPreview=o,n.getDisabledPreview=a,n.getClassNamePreview=i},{}],105:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.getTopCamByLevel=n.getTopCamByApartment=n.getSnapshotsData=n.getSnapshotOnLineCount=void 0;var o,a=e("reselect"),i=e("lodash"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),s=e("../consts"),u=e("./apartments"),c=e("./cameras"),f=e("./current"),d=e("./auth"),p=function(e){return e.snapshots[s.SNAP_TYPES.TOP_CAMS].data||[]},m=n.getSnapshotOnLineCount=(0,a.createSelector)([function(e){return e.snapshots.common.snapOnLine}],function(e){return e}),h=n.getSnapshotsData=(o={},r(o,s.SNAP_TYPES.TOP_CAMS,(0,a.createSelector)([p,d.getUserType,m],function(e,t,n){if("guest"!==t)return e;var r=l.default.take(l.default.filter(e,{access:"public"}),n),o=l.default.filter(e,function(e){return!l.default.includes(r,e)});return l.default.concat(r,o)})),r(o,s.SNAP_TYPES.TOP_SCENES,(0,a.createSelector)([function(e){return e.snapshots[s.SNAP_TYPES.TOP_SCENES].data||[]}],function(e){return e})),o);n.getTopCamByApartment=(0,a.createSelector)([h[s.SNAP_TYPES.TOP_CAMS],u.getApartments],function(e,t){return function(n){return l.default.get(l.default.find(e,function(e){return l.default.startsWith(e.name,n)}),"name",null)||l.default.get(l.default.find(t,{apartment:n}),"cameras[0].camera",null)}}),n.getTopCamByLevel=(0,
a.createSelector)([h[s.SNAP_TYPES.TOP_CAMS],f.getCurrentApartment,c.getCamerasListByLevelSelector],function(e,t,n){return function(r){var o=n(r);if(0===o.length)return l.default.get(t,"cameras[0].camera",null);var a=l.default.filter(o,function(e){return"active"===e.status}),i=l.default.map(a,function(e){return e.camera}),s=l.default.find(e,function(e){return l.default.includes(i,e.name)});return s?s.name:l.default.get(a,"[0].camera",null)}})},{"../consts":76,"./apartments":99,"./auth":100,"./cameras":101,"./current":102,lodash:void 0,reselect:void 0}],106:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.globalHandingError=n.sendStatistics=n.addError=n.initSlivax=n.addAction=n.setUid=void 0;var o=e("lodash"),a=r(o),i=e("uuid"),l=r(i),s=e("ua-parser-js"),u=r(s),c=e("./events"),f=e("../utils"),d=e("../utils/fetch"),p=window.slivaxGlobalConfig||{},m=function(e){return{type:"SLIVAX_ADD_ACTION",payload:e}},h=function(){return{type:"SLIVAX_SET_STAMP",payload:(0,f.getTimestampFloat)()}},v=function(e){return{type:"SLIVAX_SET_COUNT",payload:e}},g=function(){return{type:"SLIVAX_SET_SID",payload:l.default.v1()}},y=(n.setUid=function(e){return{type:"SLIVAX_SET_UID",payload:e}},function(){return{type:"SLIVAX_SET_UA",payload:(new u.default).getResult()}}),E=function(e){return{type:"SLIVAX_SET_FINGERPRINT",payload:e}},b=function(e){return{type:"SLIVAX_SET_ERRORSSENDCOUNT",payload:e}},S=function(e){return function(t,n){var r=Number(n().slivax.count)+Number(e);t(v(r))}},w=function(){return function(e){(0,f.getFingerprint)().then(function(t){return e(E(t))})}},_=n.addAction=function(e,t,n,r){var o=n||{};return function(a){if(void 0!==r)return void a((0,c.addActionPool)(e,t,n,r));var i={type:t,event:e,stamp:(0,f.getTimestampFloat)(),data:o};a(m(i))}},T=(n.initSlivax=function(){return function(e){e(g()),e(h()),e(y()),e(w());var t=1e3*Number(p.interval),n=document.getElementById("js_vendor_version").src,r=document.getElementById("js_main_version").src;e(_("app.init","general",{jsVendor:n,jsMain:r})),setInterval(function(){e(O())},t),e((0,c.initSendStatisticsPool)())}},n.addError=function(e,t){return function(n,r){n(_(e,"error",t));var o=r().slivax.errorsSendCount;o<2&&n(O("error")),n(b(o+1))}}),O=n.sendStatistics=function(e){return function(t,n){var r=n();if(p.slivaxSend&&void 0!==p.slivaxUrl&&""!==p.slivaxUrl){var o=a.default.cloneDeep(r.slivax);if(o.type=e||"general","error"===o.type){var i=o.actions.length-3;o.actions=a.default.slice(o.actions,i)}else void 0!==r.auth.config.debug&&r.auth.config.debug?o.type="debug":o.actions=a.default.filter(o.actions,function(e){return"general"===e.type||"error"===e.type}),0!==Number(o.count)&&(o.actions=a.default.slice(o.actions,o.count));o.actions=JSON.stringify(o.actions),o.ua=JSON.stringify(o.ua),o.timezone=(new Date).getTimezoneOffset(),(0,d.fetch)("slivax_stat",{url:p.slivaxUrl,type:"POST",data:o,retries:1,success:function(e){t(S(e.countRecord))}})}}};n.globalHandingError=function(e){window.onerror=function(t,n,r,o,a){var i=["Message: "+t,"URL: "+n,"Line: "+r,"Column: "+o,"Error object: "+JSON.stringify(a)].join(" - ");console.error(i),e(T("globalHandingError",i))}}},{"../utils":115,"../utils/fetch":113,"./events":108,lodash:void 0,"ua-parser-js":void 0,uuid:void 0}],107:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.POOL_CONFIG={player:{url:"https://at.reallifecam.com/slivax/actions/player/push",interval:60}}},{}],108:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initSendStatisticsPool=n.addActionPool=void 0;var r=e("lodash"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=e("./config"),i=e("../selectors/auth"),l=e("../utils/fetch"),s=e("../utils"),u=function(e,t){return{type:"SLIVAX_ADD_ACTION_POOL",payload:e,pool:t}},c=function(e,t){return{type:"SLIVAX_SET_COUNT_POOL",payload:e,pool:t}},f=function(e,t){return function(n,r){var o=Number(r().slivax.pools[t].count)+Number(e);n(c(o,t))}},d=(n.addActionPool=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];return function(o){var a={type:t,event:e,stamp:(0,s.getTimestampFloat)(),data:n};o(u(a,r))}},function(e){return function(t,n){var r=a.POOL_CONFIG[e].url,s=n();if((0,i.getIsActive)(s)){var u=s.slivax,c=o.default.cloneDeep(u.pools[e]);if(0!==Number(c.count)&&(c.actions=o.default.slice(c.actions,c.count)),0!==c.actions.length){var d={actions:JSON.stringify(c.actions),fingerprint:u.fingerprint,sid:u.sid,ua:JSON.stringify(u.ua),timezone:(new Date).getTimezoneOffset(),uid:u.uid,stamp:u.stamp};(0,l.fetch)("slivax_stat_pool",{url:r,type:"POST",data:d,retries:1,success:function(n){t(f(n.countRecord,e))}})}}}});n.initSendStatisticsPool=function(){return function(e){o.default.forEach(a.POOL_CONFIG,function(t,n){var r=t.interval;setInterval(function(){e(d(n))},1e3*r)})}}},{"../selectors/auth":100,"../utils":115,"../utils/fetch":113,"./config":107,lodash:void 0}],109:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.globalHandingError=n.setUid=n.slivax=n.addAction=n.initSlivax=n.addError=void 0;var r=e("./reducer"),o=e("./actions");n.addError=o.addError,n.initSlivax=o.initSlivax,n.addAction=o.addAction,n.slivax=r.slivax,n.setUid=o.setUid,n.globalHandingError=o.globalHandingError},{"./actions":106,"./reducer":110}],110:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.slivax=void 0;var a=e("lodash"),i=r(a),l=e("immutability-helper"),s=r(l),u=e("./config"),c={};i.default.forEach(u.POOL_CONFIG,function(e,t){c[t]={actions:[],count:0}});var f={count:0,actions:[],errorsSendCount:0,pools:c};n.slivax=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case"SLIVAX_SET_SID":return(0,s.default)(e,{sid:{$set:t.payload}});case"SLIVAX_SET_UID":return(0,s.default)(e,{uid:{$set:t.payload}});case"SLIVAX_SET_FINGERPRINT":return(0,s.default)(e,{fingerprint:{$set:t.payload}});case"SLIVAX_SET_STAMP":return(0,s.default)(e,{stamp:{$set:t.payload}});case"SLIVAX_SET_UA":return(0,s.default)(e,{ua:{$set:t.payload}});case"SLIVAX_ADD_ACTION":return(0,s.default)(e,{actions:{$push:[t.payload]}});case"SLIVAX_ADD_ACTION_POOL":return(0,s.default)(e,{pools:o({},t.pool,{actions:{$push:[t.payload]}})});case"SLIVAX_SET_COUNT_POOL":return(0,s.default)(e,{pools:o({},t.pool,{count:{$set:t.payload}})});case"SLIVAX_SET_COUNT":return(0,s.default)(e,{count:{$set:t.payload}});case"SLIVAX_SET_ERRORSSENDCOUNT":return(0,s.default)(e,{errorsSendCount:{$set:t.payload}});default:return e}}},{"./config":107,"immutability-helper":void 0,lodash:void 0}],111:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("redux-thunk"),a=r(o),i=e("redux"),l=e("redux-tooltip"),s=e("./libs/redux-localstorage-saver"),u=r(s),c=e("./config"),f=e("./reducers"),d=r(f),p=(0,i.createStore)(d.default,(0,i.applyMiddleware)(a.default,l.middleware,(0,u.default)({items:c.SAVED_ACTIONS,prefix:window.bootstrap.access})));n.default=p},{"./config":75,"./libs/redux-localstorage-saver":84,"./reducers":89,redux:void 0,"redux-thunk":void 0,"redux-tooltip":void 0}],112:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=this,r=void 0,o=e;return function(){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];return o&&(r=o.apply(t||n,a),o=null),r}}function a(){return(new Date).getTime()}function i(){var e=a();return null===p&&(p=e),{stamp:e,diff:e-p}}Object.defineProperty(n,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=e("url"),c=function(e){return e&&e.__esModule?e:{default:e}}(u),f=e("./index"),d={INIT:"init",FOCUS:"focus",CLICK_PLAY:"clickplay",CLICK_OUT:"clickout",SITE_OPEN:"siteopen",INIT_PLAYER:"initplayer",STREAM_START:"streamstart",PRESELECT_SCENE:"preselectscene"},p=null,m=function(){function e(t,n){r(this,e),this.playsCount=0,this.tc=t,this.ts=n,this.init=o(this.init,this),this.clickOut=o(this.clickOut,this),this.focus=o(this.focus,this),this.siteOpen=o(this.siteOpen,this),this.initPlayer=o(this.initPlayer,this),this.streamStart=o(this.streamStart,this),this.preselectScene=o(this.preselectScene,this)}return e.prototype.sendEvent=function(e,t){if(this.tc&&this.ts){var n=i(),r=n.stamp,o=n.diff,a=s({event:e,ts:this.ts,tc:this.tc,stamp:r/1e3,diff:o/1e3},"object"===(void 0===t?"undefined":l(t))?t:{params:t});fetch("//lt.reallifecam.com/track/landing",{method:"PUT",body:JSON.stringify(a)}).catch(function(){})}},e.prototype.init=function(){this.sendEvent(d.INIT)},e.prototype.focus=function(){this.sendEvent(d.FOCUS)},e.prototype.runFocusWaiter=function(){var e=this,t=setInterval(function(){document.hasFocus()&&(e.focus(),clearInterval(t))},100)},e.prototype.clickPlay=function(){this.playsCount+=1,this.sendEvent(d.CLICK_PLAY,{playsCount:this.playsCount})},e.prototype.clickOut=function(){this.sendEvent(d.CLICK_OUT,{playsCount:this.playsCount})},e.prototype.siteOpen=function(){this.sendEvent(d.SITE_OPEN)},e.prototype.startStream=function(){this.sendEvent(d.STREAM_START)},e.prototype.initPlayer=function(){this.sendEvent(d.INIT_PLAYER)},e.prototype.preselectScene=function(e,t){this.sendEvent(d.PRESELECT_SCENE,{camera:e,timestamp:t})},e}(),h=c.default.parse(window.location.href,!0),v=void 0,g=void 0;if(h.query.ts&&h.query.tc){var y=h.query;v=y.tc,g=y.ts,localStorage.setItem("tc",v),localStorage.setItem("ts",g)}else(0,f.isLocalStorage)()&&(v=localStorage.getItem("tc"),g=localStorage.getItem("ts"));n.default=new m(v,g)},{"./index":115,url:void 0}],113:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.responseText;try{t=JSON.parse(e.responseText)}catch(e){}return t}Object.defineProperty(n,"__esModule",{value:!0}),n.fetch=n.initFetch=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=e("bluebird"),s=r(l),u=e("url"),c=r(u),f=e("./index"),d=e("../slivax");s.default.config({warnings:!1,cancellation:!0});var p={},m=void 0,h=void 0,v=(n.initFetch=function(e,t){m=e,h=t},void 0);n.fetch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"GET"},n=3,r=1e3,l=0,u=0,h=!0;void 0==t.type&&(t.type="GET"),void 0!=t.retries&&(n=t.retries),void 0!=t.interval&&(r=t.interval),void 0!=t.timeoutOverall&&(l=t.timeoutOverall),void 0!=t.timeoutItem&&(u=t.timeoutItem),void 0!=t.cache&&(h=t.cache),void 0!=p[e]&&(clearTimeout(v),p[e].cancel());var g="regular";return-1!=["whoami","apartments"].indexOf(e)&&(g="general"),"symbol"!==(void 0===e?"undefined":i(e))&&m((0,d.addAction)("fetch."+e.toString()+".start",g,{url:t.url})),p[e]=new s.default(function(s,p,y){function E(n,o){var a=Date.now();if(o>0&&(0==l||a-b<l))v=setTimeout(function(){S(o-1)},r);else{var i="Unknown error. (status:"+n.status+")";try{i=JSON.parse(n.responseText)}catch(e){}console.error(i),"slivax_stat"!=e&&m((0,d.addError)("fetch."+e.toString()+".error",i)),void 0!=t.error&&"function"==typeof t.error?t.error(i):p(i)}}var b=Date.now(),S=function(n){n--;var r=new XMLHttpRequest;0==h&&(void 0==t.data&&(t.data={}),"POST"!=t.type&&(t.data._=(0,f.getTimestamp)()));var l=null,v=t.url;if(void 0!=t.data)if("POST"==t.type)l=(0,f.createFormData)(t.data);else{var b=c.default.parse(v,!0);b.query=a({},b.query,t.data),v=c.default.format(b)}r.open(t.type,v,!0),t.responseType&&(r.responseType=t.responseType);try{r.withCredentials=!0}catch(e){console.error(e),p(e)}r.onload=function(r,a){if(200==this.status){var l=void 0;if(l=void 0!=t.responseParser&&"function"==typeof t.responseParser?t.responseParser(this):o(this),void 0!=t.success&&"function"==typeof t.success?t.success(l):s(l),"symbol"!==(void 0===e?"undefined":i(e))){var u={};"whoami"==e&&(u=l),m((0,d.addAction)("fetch."+e.toString()+".finish",g,u))}}else E(this,n)},r.onerror=function(e){E(e,n)},y(function(){r.abort(),p("Fetch canceled")}),0!=u&&setTimeout(function(){r.abort()},u),r.send(l)};S(n)}),p[e]}},{"../slivax":109,"./index":115,bluebird:void 0,url:void 0}],114:[function(e,t,n){"use strict";function r(e){return function(t){return void 0===t?{type:e}:t instanceof Error?{type:e,error:!0,payload:t}:{type:e,payload:t}}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=arguments[2];return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,o=arguments[1],l=o.type,s=o.payload,u=o.error;return l===e?s?u?a({},r,{isFetching:!1,error:u}):a({},r,{data:s,error:null,isFetching:!1}):a({},r,{isFetching:!0,error:null}):(0,i.isFunction)(n)?n(r,{type:l,payload:s,error:u})||r:r}}Object.defineProperty(n,"__esModule",{value:!0}),n.FSA_INITIAL_STATE=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.createFSA=r,n.createFSAReducer=o;var i=e("lodash"),l=n.FSA_INITIAL_STATE={data:[],error:null,isFetching:!1}},{lodash:void 0}],115:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e){var t=Math.floor(Date.now()/1e3);return e?t-t%5:t}function i(){return Date.now()/1e3}function l(e){var t=new FormData;return Object.keys(e).forEach(function(n){t.append(n,e[n])}),t}function s(){return new Promise(function(e,t){try{(new N.default).get(e)}catch(e){t(e)}})}function u(){var e=document.getElementById(x.GLOBAL_LOADER_SELECTOR);e&&(e.style.display=null)}function c(){var e=document.getElementById(x.GLOBAL_LOADER_SELECTOR);e&&(e.style.display="none")}function f(e){for(var t=0,n=0,r=e;r&&!Number.isNaN(r.offsetLeft)&&!Number.isNaN(r.offsetTop);)t+=r.offsetLeft-r.scrollLeft,n+=r.offsetTop-r.scrollTop,r=r.offsetParent;return{top:n,left:t}}function d(e,t){var n=f(e).top/(t/15),r=setInterval(function(){f(e).top<0?window.scrollBy(0,n):clearInterval(r)},15)}function p(){return window.pageYOffset||document.documentElement.scrollTop}function m(e,t){var n=(e-p())/(t/15),r=setInterval(function(){var t=p(),o=Math.abs(n)<Math.abs(e-t)?n:e-t;e!==p()?window.scrollBy(0,o):clearInterval(r)},15);setTimeout(function(){return clearInterval(r)},Math.min(4*t,1e3))}function h(e){var t=window.innerHeight,n=e.clientHeight,r=e.getBoundingClientRect().top;return t>r&&r+n>0}function v(){if(void 0!==L)return L;try{return localStorage.setItem("localStorage",1),localStorage.removeItem("localStorage"),L=!0}catch(e){return Storage.prototype.setItem=function(){},console.error('Your web browser does not support storing settings locally.\n         In Safari, the most common cause of this is using "Private Browsing Mode".\n         Some settings may not save or some features may not work properly for you.'),L=!1}}function g(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function y(e){e&&e.preventDefault&&e.preventDefault(),u(),window.location=x.JOIN_URI}function E(){return void 0!==document.createElement("video").canPlayType}function b(){return E()?"o":"s"}function S(){var e=[];if(v())try{var t=localStorage.getItem("prior");t&&""!==t&&(e=JSON.parse(t))}catch(e){}return e}function w(){v()&&localStorage.removeItem(I)}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&v()&&(e?localStorage.setItem(I,e):w()),R=e}function T(){return v()?R||localStorage.getItem(I):R}function O(){var e=P.default.parse(window.location.href,!0);o(e.query,"reset_balanced")&&w(),o(e.query,"balanced")&&_(e.query.balanced,o(e.query,"store"))}function M(e){var t=e.netConnectionUrl,n=e.src;return(t||n).replace("rtmps://","").replace("https://","").split(".")[0]}Object.defineProperty(n,"__esModule",{value:!0}),n.BALANCED_KEY=void 0,n.getTimestamp=a,n.getTimestampFloat=i,n.createFormData=l,n.getFingerprint=s,n.enableGlobalLoader=u,n.disableGlobalLoader=c,n.scrollIntoView=d,n.scrollTo=m,n.inWindow=h,n.isLocalStorage=v,n.getCookie=g,n.onClickJoin=y,n.isSupportHtml5Video=E,n.getAuthCapabilities=b,n.getPrior=S,n.resetBalanced=w,n.setBalanced=_,n.getBalanced=T,n.initBalanced=O,n.getEdgeFromUrl=M;var A=e("url"),P=r(A),C=e("../libs/fingerprint2"),N=r(C),x=e("../consts"),L=void 0,I=n.BALANCED_KEY="balanced",R=null},{"../consts":76,"../libs/fingerprint2":81,url:void 0}],116:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeApartments=n.normalizeApartment=void 0;var r=e("lodash"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=e("../../consts"),i=["access","active","apartment","group","isnew","info","info_text","levels","name","motion","order","plan","planSVG","premiumOnly","status","timezone","vacation","vacation_till","_id","planSVG2"],l=n.normalizeApartment=function(e){var t=o.default.pick(e,i);t.levels=t.levels||1,t.group=t.group||a.APARTMENT_GROUP_ORDER[0];var n=1,r=1;return t.cameras=o.default.chain(e.cameras).sortBy(["level","order"]).map(function(e){return e.level!=n&&(n=e.level,r=1),e.label=t.levels>1?e.level+"-"+r:""+r,r+=1,e}).value(),t};n.normalizeApartments=function(e){var t=o.default.sortBy(e,"order");return o.default.map(t,l)}},{"../../consts":76,lodash:void 0}],117:[function(e,t,n){"use strict";function r(e){var t=(0,l.getAccess)(e);return"premium"===t?function(){return!0}:"standard"===t?function(e){return i.default.isArray(e.access)?i.default.includes(e.access,"private"):"private"===e.access}:function(e){return i.default.isArray(e.access)?i.default.includes(e.access,"public"):"public"===e.access}}function o(e){return e?function(e){return-1*e.order}:function(e){return e.order}}Object.defineProperty(n,"__esModule",{value:!0}),n.predicateFilterByUserStatus=r,n.predicateSortByWithReverse=o;var a=e("lodash"),i=function(e){return e&&e.__esModule?e:{default:e}}(a),l=e("../selectors/auth")},{"../selectors/auth":100,lodash:void 0}]},{},[78]);