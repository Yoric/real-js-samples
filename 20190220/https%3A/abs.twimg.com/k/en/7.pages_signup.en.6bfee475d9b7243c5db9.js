webpackJsonp([7],{"+8MG":function(t,e,i){"use strict";function n(){this.defaultAttrs({expandButtonSelector:".SignupCallOut-expand",formSelector:".SignupForm"}),this.expandForm=function(){this.select("formSelector").slideDown(),this.select("expandButtonSelector").slideUp(),this.scribe({element:"signup_call_out_expand",action:"click"})},this.after("initialize",function(t){this.on("click",{expandButtonSelector:this.expandForm})})}var s=i("DBjh"),a=i("3oDc");e.a=Object(s.default)(n,a.a)},"+WdX":function(t,e,i){"use strict";function n(){this.defaultAttrs({minLength:6,requireStrong:!1,username:"",bannedPasswords:[]}),this.strength=function(t,e,i){function n(t,e){return e&&t.toLowerCase()===(""+e).toLowerCase()}function a(){return{score:0,message:Object(s.default)("Too Obvious"),reason:"obvious"}}function o(t,e){for(var i="",n=0;n<e.length;n++){var s=!0,a=void 0;for(a=0;a<t&&a+n+t<e.length;a++)s=s&&e.charAt(a+n)===e.charAt(a+n+t);a<t&&(s=!1),s?(n+=t-1,s=!1):i+=e.charAt(n)}return i}var r=0;if(e=e||this.attr.username,t.length<this.attr.minLength)return{score:t.length,message:Object(s.default)("Too Short"),reason:"tooshort"};if(n(t,e))return a();if(n(t,i))return a();if(this.attr.bannedPasswords.indexOf(t.toLowerCase())>-1)return a();if(this.attr.requireStrong){var l="# ` ~ ! @ $ % ^ & * ( ) - _ = + [ ] { } \\ | ; : ' \" , . < > / ?".split(" ");l=l.map(function(t){return"\\"+t}).join("");var c=["\\d","[a-z]","[A-Z]","["+l+"]"],h=c.map(function(t){return"(?=.*"+t+")"}).join("");if(!t.match(new RegExp("("+h+"){10,}")))return{score:0,message:Object(s.default)("Too Weak"),reason:"tooweak"}}return r+=4*t.length,r+=1*(o(1,t).length-t.length),r+=1*(o(2,t).length-t.length),r+=1*(o(3,t).length-t.length),r+=1*(o(4,t).length-t.length),t.match(/(.*[0-9].*[0-9].*[0-9])/)&&(r+=5),t.match(/(.*[!@#$%^&*?_~].*[!@#$%^&*?_~])/)&&(r+=5),t.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(r+=10),t.match(/([a-zA-Z])/)&&t.match(/([0-9])/)&&(r+=15),t.match(/([!@#$%^&*?_~])/)&&t.match(/([0-9])/)&&(r+=15),t.match(/([!@#$%^&*?_~])/)&&t.match(/([a-zA-Z])/)&&(r+=15),(t.match(/^\w+$/)||t.match(/^\d+$/))&&(r-=10),r<0&&(r=0),r>100&&(r=100),r<34?{score:r,message:Object(s.default)("Weak"),reason:"weak"}:r<50?{score:r,message:Object(s.default)("Good"),reason:"good"}:r<75?{score:r,message:Object(s.default)("Strong"),reason:"strong"}:{score:r,message:Object(s.default)("Very Strong"),reason:"verystrong"}},this.undoBannedPasswordROT13=function(){for(var t=[],e=0,i=this.attr.bannedPasswords.length;e<i;e++)t.push(this.attr.bannedPasswords[e].replace(/[a-z]/gi,function(t){var e=t.charCodeAt(0),i=e+13;return(e<=90&&i>90||i>122)&&(i-=26),String.fromCharCode(i)}));this.attr.bannedPasswords=t},this.after("initialize",function(){this.attr.bannedPasswords.length&&this.undoBannedPasswordROT13()})}var s=i("0d4m");e.a=n},"/tGO":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i("WXGR"),s=i("7BVw"),a=i("reQR"),o=i("srAy"),r=i("38t/"),l=i("DBjh"),c=i("1dN/"),h=i("3Dhe"),u=i("xswm"),d=i("6b+H"),m=i("jctv"),f=i("y9Hg"),g=i("hvgr"),p=i("X+Sp"),v=i("BQz8"),S=i("Ny+n"),b=i("kBGy"),C=i("rLv+"),w=i("6hdX"),k=i("xgWv"),T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},P=Object(l.default)(k.a);e.default=function(e){Object(n.a)(e),Object(s.a)(T({},e,{containerSelector:".Grid.TweetForwardTimeline",endpoint:e.timeline_url,excludeExpandingTweets:!0,excludeUserActions:!0,itemType:"tweet",lastItemSelector:".tweet:last",pollingEnabled:!1,scrollTopOnNewItemsClick:!1})),Object(C.a)({loggedIn:e.loggedIn}),v.a.attachTo(document),r.a.attachTo("#front-no-cookies-warn"),h.a.attachTo(".js-StreamsTopBarSignIn"),g.a.attachTo(".StreamsTopBar",{scrollThreshold:t(".StreamsTopBar").offset().top}),g.a.attachTo(".StreamsTopBar-container",{scrollThreshold:10,fixedClass:"StreamsTopBar-container--collapsedHero"}),p.a.attachTo(".StreamsFooter"),f.a.attachTo(".StreamsCategoryBar, .StreamsCategoryMoreOverlay",{eventData:{scribeContext:{component:"category_bar"}}});var i={itemType:"tweet",noTeardown:!0,loggedIn:e.loggedIn,eventData:{scribeContext:{component:"gallery"}}};S.a.attachTo("#timeline",e,i),m.a.attachTo(".Gallery",e,i),m.a.attachTo(".AppContent",e),w.a.attachTo(".AppContent",T({},e,{eventData:{scribeContext:{component:"tweet"}}})),P.attachTo("#timeline",T({},e,{itemType:"tweet"})),u.a.attachTo("#timeline",{tweetSelector:".tweet",mediaPreviewContainerSelector:".js-media-preview"}),d.a.attachTo(document,e),c.a.attachTo(".TweetForwardTimeline"),o.a.attachTo(document),b.a.attachTo("#timeline"),a.a.setGlobalNavSelector(".StreamsTopBar")}}.call(e,i("4kSj"))},"0bGJ":function(t,e,i){"use strict";function n(){this.verifyEmail=function(t){function e(t){var e=null;t.msg&&t.msg.indexOf("taken")>-1?e=a.a.EMAIL_TAKEN:t.valid||(e=a.a.EMAIL_INVALID),this.trigger("dataEmailPhoneVerificationResult",{invalidCode:e})}this.get({url:"/users/email_available",data:{email:t},success:e.bind(this),error:"dataEmailError"})},this.verifyPhone=function(t){function e(t){t.valid?this.trigger("dataEmailPhoneVerificationResult",{signupType:"phone",invalidCode:t.available?null:a.a.PHONE_TAKEN}):this.trigger("dataEmailPhoneVerificationResult",{invalidCode:a.a.PHONE_INVALID})}this.get({url:"/users/phone_number_available",data:{raw_phone_number:t},success:e.bind(this),error:"dataPhoneError"})},this.verifyPassword=function(t){function e(t){this.trigger("dataSimplePasswordResult",{invalidCode:t.pass?null:a.a.PASSWORD_WEAK})}this.post({url:"/account/password_strength",data:{password:t},success:e.bind(this),error:"dataSimplePasswordError"})},this.emailPhoneValidation=function(t,e){var i=/^\+?[0-9\-.()\s]{7,1000}$/,n=/^\+?[0-9\-.()\s]{0,6}$/,s=e.trim(),o=i.test(s),r=o||n.test(s);0===s.length?this.trigger("dataEmailPhoneVerificationResult",{invalidCode:a.a.EMAIL_PHONE_EMPTY}):r&&o?this.verifyPhone(e):r||this.verifyEmail(e)},this.nameOrEmailMatch=function(t){function e(t,e){return e&&t.toLowerCase()===(""+e).toLowerCase()}return e(t.password,t.fullName)||e(t.password,t.emailPhone)},this.passwordValidation=function(t,e){0===e.password.length?this.trigger("dataSimplePasswordResult",{invalidCode:a.a.PASSWORD_EMPTY}):e.password.length<6?this.trigger("dataSimplePasswordResult",{invalidCode:a.a.PASSWORD_SHORT}):this.nameOrEmailMatch(e)?this.trigger("dataSimplePasswordResult",{invalidCode:a.a.PASSWORD_WEAK}):this.verifyPassword(e.password)},this.fullNameValidation=function(t,e){var i=e.trim(),n=i.length>0,s=-1===i.toLowerCase().indexOf("twitter"),o=n?s?null:a.a.FULL_NAME_NO_TWITTER:a.a.FULL_NAME_EMPTY;this.trigger("dataFullNameResult",{invalidCode:o})},this.after("initialize",function(){this.on("uiVerifyPassword",this.passwordValidation),this.on("uiVerifyEmailPhone",this.emailPhoneValidation),this.on("uiVerifyFullName",this.fullNameValidation)})}var s=i("DBjh"),a=i("7O6F"),o=i("VtWx"),r=i("+WdX"),l=Object(s.default)(n,o.a,r.a);e.a=l},"1dN/":function(t,e,i){"use strict";(function(t){function n(){this.defaultAttrs({tweetSelector:".js-stream-tweet",mediaGifSelector:".js-media-preview",animatedGifSelector:".animated-gif"}),this.handleGifClick=function(e,i){var n=t(i.el).closest(this.attr.tweetSelector),s=n.find(this.attr.mediaGifSelector);s.hasClass("is-playing")?(this.trigger(n,"uiStopGif"),s.removeClass("is-playing")):(this.trigger(n,"uiStartGif"),s.addClass("is-playing"))},this.after("initialize",function(){this.on("click",{mediaGifSelector:this.handleGifClick,animatedGifSelector:this.handleGifClick})})}var s=i("F/Mh"),a=i("DBjh");e.a=Object(a.default)(n,s.a)}).call(e,i("4kSj"))},"2TcO":function(t,e,i){"use strict";function n(){var t=(new Date).getTime(),e=[];this.defaultAttrs({pollUrl:"/devices/verify",pollInterval:5e3,awaitingVerificationSelector:"input[name=awaiting_verification]"}),this.checkDeviceStatus=function(){var i=(new Date).getTime(),n=Math.round((i-t)/1e3);n>65&&(window.location="/welcome"),n=10*Math.floor(n/10);var s={device_id:this.attr.deviceId,miracle_gro:!0};void 0===e[n]&&(s.waited=n,e[n]=!0),this.get({url:this.attr.pollUrl,data:s,cache:!1,success:this.deviceStatusCheckSuccess.bind(this),complete:this.deviceStatusCheckComplete.bind(this)})},this.deviceStatusCheckSuccess=function(t){"true"===this.select("awaitingVerificationSelector").val()&&(t.verified||t.error)&&window.location.reload()},this.deviceStatusCheckComplete=function(){setTimeout(this.checkDeviceStatus.bind(this),this.attr.pollInterval)},this.after("initialize",function(){this.checkDeviceStatus()})}var s=i("DBjh"),a=i("VtWx"),o=Object(s.default)(n,a.a);e.a=o},"38t/":function(t,e,i){"use strict";function n(){this.cookiesEnabled=function(){return!!navigator.cookieEnabled},this.showWarning=function(){this.cookiesEnabled()||this.$node.show("fast")},this.after("initialize",function(){this.on(document,"uiSwiftLoaded",this.showWarning)})}var s=i("DBjh");e.a=Object(s.default)(n)},"4f09":function(t,e,i){"use strict";function n(){this.defaultAttrs({hideOnCookiesError:void 0,hideOnGeoblockError:void 0,playerSelector:".PlayableMedia-player",ignoreFineGrainGeoblockingData:"data-ignore-fine-grain-geoblocking"}),this.onCookiesError=function(){this.$elementToHideOnCookiesError.length&&this.$elementToHideOnCookiesError.hide()},this.onGeoblockError=function(){var t=this.select("playerSelector").attr(this.attr.ignoreFineGrainGeoblockingData),e=this.select("hideOnGeoblockError");t&&e.length&&e.hide()},this.after("initialize",function(){this.$elementToHideOnCookiesError=this.select("hideOnCookiesError"),this.on("uiPlayableMediaNoCookiesError",this.onCookiesError),this.on("uiPlayableMediaGeoblockError",this.onGeoblockError)})}var s=i("DBjh");e.a=Object(s.default)(n)},"6b+H":function(t,e,i){"use strict";function n(){var t=/:[A-Z0-9_-]+$/i;this.scribeMediaThumbnailResults=function(e,i){var n=i.thumbnails.length,s=n?"results":"no_results",a={};n&&(a.items=i.thumbnails.map(function(e){return{name:e.replace(t,"")}})),this.scribe({action:s},i,a)},this.scribeMediaThumbnailClick=function(e,i){var n={url:i.url&&i.url.replace(t,"")},s={element:i.mediaType,action:"click"};this.scribe(s,i,n)},this.after("initialize",function(){this.on(document,"uiMediaGalleryResults",this.scribeMediaThumbnailResults),this.on(document,"uiMediaThumbnailsVisible",this.scribeMediaThumbnailResults),this.on(document,"uiMediaThumbnailClick",this.scribeMediaThumbnailClick)})}var s=i("DBjh"),a=i("3oDc");e.a=Object(s.default)(n,a.a)},"6hdX":function(t,e,i){"use strict";var n=i("DBjh"),s=i("CNhr");e.a=Object(n.default)(s.a)},"7BVw":function(t,e,i){"use strict";function n(t){Object(s.a)(t),Object(a.a)("#timeline",t),r.a.mixin.apply(this,[o.a]).attachTo("#timeline",t)}var s=i("cuTm"),a=i("zqN9"),o=i("nrfy"),r=i("hODd");e.a=n},"7O6F":function(t,e,i){"use strict";e.a={EMAIL_PHONE_EMPTY:"EMAIL_PHONE_EMPTY",EMAIL_TAKEN:"EMAIL_TAKEN",EMAIL_INVALID:"EMAIL_INVALID",PASSWORD_EMPTY:"PASSWORD_EMPTY",PASSWORD_SHORT:"PASSWORD_SHORT",PASSWORD_WEAK:"PASSWORD_WEAK",PHONE_TAKEN:"PHONE_TAKEN",PHONE_INVALID:"PHONE_INVALID",FULL_NAME_EMPTY:"FULL_NAME_EMPTY",FULL_NAME_NO_TWITTER:"FULL_NAME_NO_TWITTER"}},"8Ies":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("1QVz"),s=i("d8yn"),a=i("Haz5"),o=i("Coug"),r=i("6jrG"),l=i("BsnM"),c=i("waF/");e.default=function(t){Object(n.default)(t),s.a.attachTo(document),r.a.attachTo(".js-session"),o.a.attachTo(document,{scribeContext:"signup"}),a.a.attachTo(document,{scribeContext:t.scribeContext,bannedPasswords:t.bannedPasswords,isDeviceCompletion:t.isDeviceCompletion,validationFields:t.validationFields,usernameSuggestionParams:t.usernameSuggestionParams}),l.a.attachTo("#phx-signup-form",{env:t.environment,isDeviceCompletion:t.isDeviceCompletion,validationFields:t.validationFields}),c.a.attachTo(".select-username .suggestions")}},"8PbC":function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({viewAllSelector:"button.view-all-supplements",interactionsPageViewAllToggleSelector:".stream-item-activity-notification button.view-all-supplements",additionalStreamItemsSelector:".sub-stream-item-showing, .sub-stream-item-hidden"}),this.toggleInteractionsSupplements=function(e,i){var n=t(i.el),s=n.hasClass("show");this.toggleSupplementTrigger(n,s),this.toggleSubStreamItemsVisibility(n.parent(),s)},this.toggleSupplementTrigger=function(t,e){t.toggleClass("hide",e).toggleClass("show",!e)},this.toggleSubStreamItemsVisibility=function(t,e){t.find(this.attr.additionalStreamItemsSelector).toggleClass("sub-stream-item-hidden",!e).toggleClass("sub-stream-item-showing",e)},this.after("initialize",function(){this.on("click",{interactionsPageViewAllToggleSelector:this.toggleInteractionsSupplements})})}e.a=i}).call(e,i("4kSj"))},"8mUk":function(t,e,i){"use strict";var n=i("4Pj3"),s=i("GbBZ"),a=i("k1OA"),o=i("8PbC"),r=i("CA0f"),l=i("E+fT"),c=i("xgWv"),h=i("bgdb"),u=i("jyKx"),d=i("CNhr"),m=i("Pp1+"),f=n.a.mixin(s.a,a.a,o.a,r.a,l.a,c.a,h.a,u.a,d.a,m.a);e.a=f},"9JOn":function(t,e,i){"use strict";function n(){this.defaultAttrs({selectedSelector:":selected",dropdownSelector:"#device_country_code",prefixInputSelector:"#device_country_intl_prefix",isoCodeInputSelector:"#device_iso_code"}),this.handleSelectionChange=function(t,e){var i=this.$node.find(this.attr.selectedSelector),n=i.val(),s=i.data("iso-code");this.$node.find(this.attr.prefixInputSelector).val(n),this.$node.find(this.attr.isoCodeInputSelector).val(s),this.trigger(document,"uiHasSelectedCountryCode",{code:n})},this.after("initialize",function(t){this.on(this.attr.dropdownSelector,"change",this.handleSelectionChange)})}var s=i("DBjh");e.a=Object(s.default)(n)},"9qF2":function(t,e,i){"use strict";(function(t){function n(){a.default.mixin(this,[s.a]),this.defaultAttrs({messageStreamItemSelector:".MessageStreamItem",dismissButtonSelector:".MessageStreamItem .Icon--close.js-dismiss",dismissSelector:".MessageStreamItem .js-dismiss",primaryActionSelector:".MessageStreamItem .js-primary-action",secondaryActionSelector:".MessageStreamItem .js-secondary-action"}),this.dismissMessage=function(t){this.scribe({component:this.getScribeComponent(t),action:"dismiss"});var e=this.getStreamItem(t);e.fadeOut(function(){return e.remove()})},this.scribeDismissButton=function(t){this.scribeClick(t,"dismiss")},this.scribePrimaryAction=function(t){this.scribeClick(t,"primary_action")},this.scribeSecondaryAction=function(t){this.scribeClick(t,"secondary_action")},this.scribeClick=function(t,e){this.scribe({component:this.getScribeComponent(t),element:e,action:"click"})},this.getScribeComponent=function(t){return this.getStreamItem(t).attr("data-component-context")},this.getStreamItem=function(e){return t(e.target).closest(this.attr.messageStreamItemSelector)},this.after("initialize",function(){this.on("click",{dismissButtonSelector:this.scribeDismissButton,dismissSelector:this.dismissMessage,primaryActionSelector:this.scribePrimaryAction,secondaryActionSelector:this.scribeSecondaryAction})})}e.a=n;var s=i("3oDc"),a=i("q9/C")}).call(e,i("4kSj"))},AN05:function(t,e,i){"use strict";(function(t){function i(){this.removeSeparatedModule=function(e){var i=t(e.target);this.trigger(i,"uiRemoveClassBeforePromptbird"),i.remove()},this.after("initialize",function(){this.on(document,"uiRemoveSeparatedModule",this.removeSeparatedModule)})}e.a=i}).call(e,i("4kSj"))},BQz8:function(t,e,i){"use strict";function n(){this.defaultAttrs({signinEmailInputSelector:".js-signin-email"}),this.after("initialize",function(){"input"!==this.node.activeElement.tagName.toLowerCase()&&this.select("signinEmailInputSelector").focus()})}var s=i("DBjh");e.a=Object(s.default)(n)},BsnM:function(t,e,i){"use strict";(function(t){function n(){this.defaultAttrs({advancedOptionsSelector:".SlidedownOptions",userCookiePersonalizationSelector:".use-cookie-personalization-field",spinnerSelector:".use-cookie-personalization .loading-spinner"}),this.focusFirstNonOkField=function(){this.$allRows.each(function(){var e=t(this);if(!e.find(".sidetip p.isaok.active, .sidetip p.checking.active").length)return e.find("input").focus(),!1})},this.showPasswordScore=function(t,e){this.$score.fadeIn().find("b").animate({width:e/2})},this.updateP13nCheckbox=function(t,e){e&&e.use_cookie_personalization?this.select("userCookiePersonalizationSelector").prop("checked",!0):this.select("userCookiePersonalizationSelector").prop("checked",!1),this.showP13nCheckbox()},this.showP13nCheckbox=function(){this.select("spinnerSelector").hide(),this.select("userCookiePersonalizationSelector").show()},this.after("initialize",function(t,e){this.trigger("dataPersonalizationPreferences"),this.on(document,"uiSignupValidationFail",this.focusFirstNonOkField),this.on(document,"uiValidated",function(t,e){"username"===e.fieldname&&!0===e.valid&&this.focusFirstNonOkField()}),this.on(document,"dataPasswordStrength",this.showPasswordScore),this.on(document,"uiSwiftLoaded",this.focusFirstNonOkField),this.on(document,"dataPersonalizationPreferencesGetSuccess",this.updateP13nCheckbox),this.on(document,"dataPersonalizationPreferencesGetFailure",this.showP13nCheckbox),this.attachChild(a.a,this.select("advancedOptionsSelector"))})}var s=i("DBjh"),a=i("z+v7"),o=i("tzCb"),r=i("AJAn");e.a=Object(s.default)(n,o.a,r.a)}).call(e,i("4kSj"))},Coug:function(t,e,i){"use strict";(function(t){function n(){this.defaultAttrs({signupButtonSelector:"#submit_button",nextButtonSelector:"#next_button",usernameSelector:"#username",suggestionButtonSelector:".suggestions button.btn-link",suggestionSelector:".select-username .suggestions li button",bqLearnMoreSelector:".cookie-personalization-support",skipLinkSelector:".skip-link",LegalLinkSelector:".legal-link",signupContext:"context"}),this.scribeValidationError=function(t,e){var i=e.field;"username"===i&&(i="screen_name"),e.quick||e.valid||this.scribe({component:"personalization",element:i,action:"validation_error"},{context:this.attr.signupContext})},this.scribeSuggestionSelected=function(e,i){var n=t(e.target);this.scribe({component:"form",element:"suggestion",action:"click"},{message:n.text(),query:n.attr("data-sugg-sources"),event_info:n.attr("data-sugg-technik"),context:this.attr.signupContext})},this.scribeSuggestionChosen=function(e,i){var n=t(e.target).find(this.attr.usernameSelector).val(),s=this.select("suggestionSelector").map(function(){return t(this).text().trim()}).get();-1!==t.inArray(n,s)&&this.scribe({component:"form",element:"suggestion",action:"choose"},{event_value:s.length,query:n,context:this.attr.signupContext})},this.scribeFocus=function(e,i){var n=t(e.target),s=n.closest(".field").attr("data-fieldname");this.scribe({component:"form",element:s,action:"focus_field"},{context:this.attr.signupContext})},this.scribeBQLearnMore=function(t,e){this.scribe({component:"personalization",element:"support_link",action:"click"},{context:this.attr.signupContext})},this.scribeBQState=function(t,e){this.scribe({component:"personalization",element:"checkbox",action:e.bq},{context:this.attr.signupContext})},this.scribeEmailCorrectionImpression=function(t,e){this.scribe({component:"form",element:"email_autocorrect",action:"impression"},{context:this.attr.signupContext})},this.scribeImpression=function(t,e){this.scribe({component:"javascript",action:"impression"},{context:this.attr.signupContext})},this.scribeNamePageImpression=function(t,e){this.scribe({section:"add_name",component:"javascript",action:"impression"},{context:this.attr.signupContext})},this.scribeEmailCorrectionClick=function(t,e){this.scribe({component:"form",element:"email_autocorrect",action:"click"},{context:this.attr.signupContext})},this.scribeSignupButtonClick=function(t,e){this.scribe({element:"signup_button",action:"click"},{context:this.attr.signupContext})},this.scribeSignupButtonSuccess=function(t,e){this.scribe({element:"signup_button",action:"success"},{context:this.attr.signupContext})},this.scribeNextButtonClick=function(t,e){this.scribe({page:"add_info",section:"add_name",element:"signup_button",action:"click"},{context:this.attr.signupContext})},this.scribeNextButtonSuccess=function(t,e){this.scribe({page:"add_info",section:"add_name",element:"signup_button",action:"success"},{context:this.attr.signupContext})},this.scribeSkip=function(t,e){this.scribe({action:"skip"},{context:this.attr.signupContext})},this.scribeLegalLinkClick=function(t,e){this.scribe({element:"legal_link",action:"click"},{context:this.attr.signupContext})},this.scribeSignupIdentifier=function(t,e){this.scribe({page:e?"phone_signup":"email_signup",section:"form",action:"attempt"})},this.after("initialize",function(){this.on("uiCorrectEmailClicked",this.scribeEmailCorrectionClick),this.on("uiShowingEmailCorrection",this.scribeEmailCorrectionImpression),this.on("uiValidated",this.scribeValidationError),this.on("click",{suggestionSelector:this.scribeSuggestionSelected,bqLearnMoreSelector:this.scribeBQLearnMore,signupButtonSelector:this.scribeSignupButtonClick,nextButtonSelector:this.scribeNextButtonClick,skipLinkSelector:this.scribeSkip,LegalLinkSelector:this.scribeLegalLinkClick}),this.on("uiFieldTouched",this.scribeFocus),this.on("uiReportBQCheckboxState",this.scribeBQState),this.on("uiSignupValidationSuccess",this.scribeSuggestionChosen),this.on("uiSignupValidationSuccess",this.scribeSignupButtonSuccess),this.on("uiNextValidationSuccess",this.scribeNextButtonSuccess),this.on("uiReportSignupPageLoaded",this.scribeImpression),this.on("uiSignupScribeNamePageImpression",this.scribeNamePageImpression),this.on("uiSignupIdentifierScribe",this.scribeSignupIdentifier)})}var s=i("DBjh"),a=i("3oDc");e.a=Object(s.default)(n,a.a)}).call(e,i("4kSj"))},D6ny:function(t,e,i){"use strict";e.a={name:/\S+/,ampersat:/^[@＠]$/,usernameForSignup:/^[@＠]?([a-zA-Z0-9_]{1,15})$/,email:/^[\w-]+([^@,\s<>()]*[\w-]+)?@[\w-]+(\.[\w-]+)*\.[a-z]{2,}$/i,allDigitsUsername:/^\d{7,}$/,phoneNumber:/^\+?[0-9\-.()\s]{7,1000}$/,possiblyPhoneNumber:/^\+?[0-9\-.()\s]{0,6}$/,end:"end"}},"EWF/":function(t,e,i){"use strict";function n(t){var e=s.a.fromQuery(location).multiplier;return t*(window.DEBUG.multiplier||e||1)}e.a=n;var s=i("sxXh")},F2sH:function(t,e,i){"use strict";(function(t){function n(){this.defaultAttrs({itemSelector:".MomentCapsuleSummary",ctaSelector:".MomentCallToAction",defaultLinkSelector:".js-default-link"}),this.onCapsuleClick=function(e,i){if(this.isValidClickTarget(e)){var n=t(i.el).closest(this.attr.itemSelector),s=n.find(this.attr.defaultLinkSelector);this.trigger("uiMomentClicked",this.getMomentScribeInfo(s)),this.trigger("uiNavigate",{href:s.attr("href")})}},this.onDefaultLinkClick=function(e,i){var n=t(e.target);this.trigger("uiMomentClicked",this.getMomentScribeInfo(n))},this.onCtaClick=function(e){var i=t(e.target);this.trigger("uiMomentCtaClicked",this.getMomentScribeInfo(i))},this.isValidClickTarget=function(e){return 0===t(e.target).closest("a, button").length},this.after("initialize",function(){this.on("click",{itemSelector:this.onCapsuleClick,defaultLinkSelector:this.onDefaultLinkClick,ctaSelector:this.onCtaClick})})}var s=i("DBjh"),a=i("Qs/v");e.a=Object(s.default)(n,a.a)}).call(e,i("4kSj"))},Haz5:function(t,e,i){"use strict";(function(t){function n(){var e="";this.validateUsernameAndSuggest=function(t){var i=t.username.match(o.a.usernameForSignup);i&&(t.username=i[1]);var n={suggest:1,username:t.username,full_name:t.fullname,email:t.email,context:this.attr.scribeContext||"signup",custom:t&&t.custom||0};n.suggest_on_username=e!==n.username,e=n.username,this.trigger("dataValidateUsername",n)},this.validateName=function(t,e,i){var n=t.toLowerCase().indexOf("twitter")>-1,s=!!t.match(o.a.name)&&!n,a="tip";return s?e||(a="ok"):(a=t.length?"invalid":"blank",a=n?"notwitter":a),this.trigger("uiValidated",{field:"name",valid:s,quick:e}),a},this.validateEmailOrPhone=function(t,e,i){var n=this,s="tip",a=o.a.possiblyPhoneNumber.test(t),r=o.a.phoneNumber.test(t),l=function(t,i,a){e||(s="checking",n.trigger(t,i),"username"in n.attr.validationFields&&n.validateUsernameAndSuggest(a))};return this.trigger("uiToggleSmsConsent",r),a||r?r&&l("dataValidatePhone",{raw_phone_number:t},i):l("dataValidateEmail",{email:t},i),this.trigger("uiValidated",{field:"email",valid:!0,quick:e&&!r}),s},this.validatePassword=function(t,e,i){var n="tip",s=t.length>5;if(!e){var a=this.strength(t,i.username,i.fullname);switch(a.score||(s=!1),a.reason){case"obvious":case"banned":n="obvious",s=!1;break;case"whitespace":case"tooshort":case"tooweak":n="invalid",s=!1;break;case"verystrong":n="perfect",s=!0;break;case"good":case"strong":n="ok",s=!0;break;case"weak":default:var o=a.score>9;n="weak."+(o?"isaok":"error"),s=o}this.trigger("dataPasswordStrength",a.score)}return s||"tip"!==n||(n=t.length?"invalid":"blank"),s&&this.verifyPassword(i),this.trigger("uiValidated",{field:"password",valid:s,quick:e}),n},this.validateUsername=function(t,e,i){var n=!1,s="tip";if(t.match(o.a.ampersat))n=!0,s="tip";else{var a=o.a.usernameForSignup.test(t),r=o.a.allDigitsUsername.test(t);if(n=a&&!r,this.attr.isDeviceCompletion)s="ok";else if(!e){a&&(s="checking");var l=c({},i,this.attr.usernameSuggestionParams,{custom:!0});this.validateUsernameAndSuggest(l)}}return n||"tip"!==s||(s=t.length?"invalid":"blank"),n||this.trigger("uiValidated",{field:"username",valid:n,quick:e}),s},this.validateField=function(e,i){var n="tip";n={"user[name]":this.validateName,"user[email]":this.validateEmailOrPhone,"user[user_password]":this.validatePassword,"user[screen_name]":this.validateUsername}[i.name].call(this,i.value,i.quick,i),t(e.target).trigger("uiShowTip",n)},this.verifyUsername=function(t,e){this.get({url:"/users/username_available",eventData:e,data:e,success:"dataUsernameResult",error:"dataUsernameError"})},this.verifyEmail=function(t,e){this.get({url:"/users/email_available",eventData:e,data:e,success:"dataEmailResult",error:"dataEmailError"})},this.verifyPhone=function(t,e){this.get({url:"/users/phone_number_available",eventData:e,data:e,success:"dataPhoneResult",error:"dataPhoneError"})},this.verifyPassword=function(t){this.post({url:"/account/password_strength",eventData:t,data:{password:t.password,name:t.fullname,screen_name:t.username,email:t.email},success:"dataPasswordResult",error:"dataPasswordError"})},this.after("initialize",function(){this.on("uiSignupValidate",this.validateField),this.on("dataValidateUsername",this.verifyUsername),this.on("dataValidateEmail",this.verifyEmail),this.on("dataValidatePhone",this.verifyPhone),this.attr.usernameSuggestionParams&&this.validateUsernameAndSuggest(r.default.merge(this.attr.usernameSuggestionParams,{username:""}))})}var s=i("DBjh"),a=i("VtWx"),o=i("D6ny"),r=i("YzIt"),l=i("+WdX"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},h=Object(s.default)(n,a.a,l.a);e.a=h}).call(e,i("4kSj"))},KfqD:function(t,e,i){"use strict";function n(){this.after("initialize",function(){this.scribeOnEvent("uiMomentClicked",{action:"click"}),this.scribeOnEvent("uiMomentCtaClicked",{action:"click"}),this.scribeOnEvent("uiFollowMoment",{action:"follow"}),this.scribeOnEvent("uiUnfollowMoment",{action:"unfollow"}),this.scribeOnEvent("uiLikeMoment",{action:"like"}),this.scribeOnEvent("uiUnlikeMoment",{action:"unlike"}),this.scribeOnEvent("uiMomentShareViaTweet",{component:"share_moment",action:"open"}),this.scribeOnEvent("uiMomentShareViaDM",{component:"moment_capsule_menu",action:"share_via_dm"}),this.scribeOnEvent("uiMomentCopyLink",{component:"copy_link_to_moment",action:"open"}),this.scribeOnEvent("uiMomentEmbed",{component:"embed_moment",action:"open"})})}var s=i("DBjh"),a=i("3oDc");e.a=Object(s.default)(n,a.a)},Lvec:function(t,e,i){"use strict";function n(){this.defaultAttrs({nextButton:".next",skipButton:".skip",tryAgainButton:".try_again",tryDifferentNumberButton:".try_different_number",continueOnPendingButton:".continue"}),this.nextClicked=function(t,e){this.scribe({component:"next_button",action:"click"})},this.skipClicked=function(t,e){this.scribe({component:"skip_button",action:"click"})},this.continueOnPending=function(t,e){this.scribe({component:"continue",action:"click"})},this.tryAgainClicked=function(t,e){this.scribe({component:"try_again",action:"click"})},this.tryDifferentNumber=function(t,e){this.scribe({component:"try_different_number",action:"click"})},this.after("initialize",function(){this.on("click",{nextButton:this.nextClicked,skipButton:this.skipClicked,tryAgainButton:this.tryAgainClicked,tryDifferentNumberButton:this.tryDifferentNumber,continueOnPendingButton:this.continueOnPending})})}var s=i("DBjh"),a=i("3oDc"),o=Object(s.default)(n,a.a);e.a=o},OuLQ:function(t,e,i){"use strict";(function(t){function n(){s.default.mixin(this,[a.a]),this.defaultAttrs({unchosenActionClass:"unchosen-action",dismissedModuleClass:"dismissed",dismissibleSelector:".dismissible-content",dismissModuleSelector:".dismiss-module",feedbackActionClickSelector:".dropdown .action-prompt",feedbackActionSelector:".feedback-action",undoActionSelector:".dismissed-module .undo-action",conversationTweetSelector:".conversation-module .tweet",converationModuleSelector:".conversation-module",childFeedbackPromptClickSelector:".child-feedback-prompt",childFeedbackConfirmSelector:".child-feedback-confirmation",childConfirmTextSelector:".child-confirmation-text",undoChildFeedbackSelector:".dismissed-module .undo-child-feedback-action",dismissedModuleSelector:".dismissed-module",feedbackActionsSelector:".feedback-actions"}),this.getStreamItemFromEvent=function(e){return t(e.target).closest(this.attr.topLevelStreamItemSelector)},this.getSuggestionInfoFromStreamItem=function(t){var e=t.attr("data-suggestion-json");return e&&JSON.parse(e)},this.suggestionFeedback=function(t,e,i){var n=this.getSuggestionInfoFromStreamItem(t),s=e.attr("data-feedback-type");this.trigger("uiSuggestionFeedback",{suggestionInfo:n,feedbackType:s,undo:i})},this.timelineFeedback=function(t){var e=t.feedbackUrl,i=t.undo;e&&this.trigger("uiTimelineFeedbackAction",{feedbackUrl:e,undo:i})},this.selectAction=function(e,i){var n=this,s=t(e.target).closest(this.attr.feedbackActionClickSelector),a=s.attr("data-feedback-type"),o=s.attr("data-feedback-url"),r=this.getStreamItemFromEvent(e);if(r.addClass(this.attr.dismissedModuleClass),this.slideAndFadeContent(r.children(this.attr.dismissibleSelector),r.children(this.attr.dismissModuleSelector),r),r.children(this.attr.dismissModuleSelector).find(this.attr.feedbackActionSelector).each(function(e,i){var s=t(i);s.toggleClass(n.attr.unchosenActionClass,s.attr("data-feedback-type")!==a)}),0!==r.find(this.attr.converationModuleSelector).length){var l=t(e.target).closest(this.attr.conversationTweetSelector),c=this.getSuggestionInfoFromStreamItem(r);c.tweet_ids=l.attr("data-tweet-id"),r.attr("data-suggestion-json",JSON.stringify(c))}this.suggestionFeedback(r,s,!1),this.timelineFeedback({feedbackUrl:o,undo:!1})},this.undoSelectAction=function(e,i){var n=t(e.target).closest(this.attr.feedbackActionSelector),s=n.attr("data-feedback-url"),a=this.getStreamItemFromEvent(e);a.removeClass(this.attr.dismissedModuleClass),this.slideAndFadeContent(a.children(this.attr.dismissModuleSelector),a.children(this.attr.dismissibleSelector),a),a.children(this.attr.dismissModuleSelector).find(this.attr.feedbackActionSelector).removeClass(this.attr.unchosenActionClass),this.suggestionFeedback(a,n,!0),this.timelineFeedback({feedbackUrl:s,undo:!0})},this.handleChildFeedbackSelected=function(e,i){var n=t(e.target),s=n.data("child-feedback-confirmation"),a=n.data("child-feedback-url"),o=this.getStreamItemFromEvent(e),r=o.find(this.attr.childFeedbackConfirmSelector);r.find(this.attr.childConfirmTextSelector).text(s),r.data("child-feedback-url",a);var l=o.find(this.attr.feedbackActionsSelector),c=o.find(this.attr.dismissedModuleSelector);this.slideAndFadeContent(l,r,c),this.timelineFeedback({feedbackUrl:a,undo:!1})},this.handleUndoChildFeedback=function(t,e){var i=this.getStreamItemFromEvent(t),n=i.find(this.attr.feedbackActionsSelector),s=i.find(this.attr.childFeedbackConfirmSelector),a=s.data("child-feedback-url"),o=i.find(this.attr.dismissedModuleSelector);this.slideAndFadeContent(s,n,o),this.timelineFeedback({feedbackUrl:a,undo:!0})},this.after("initialize",function(){this.on("click",{feedbackActionClickSelector:this.selectAction,undoActionSelector:this.undoSelectAction,childFeedbackPromptClickSelector:this.handleChildFeedbackSelected,undoChildFeedbackSelector:this.handleUndoChildFeedback})})}e.a=n;var s=i("q9/C"),a=i("Ouhc")}).call(e,i("4kSj"))},Ouhc:function(t,e,i){"use strict";(function(t){function n(){this.defaultAttrs({animationTime:200}),this.slideAndFadeContent=function(t,e,i,n){var a=this;if(!t.is(":hidden")){var o=this.getCombinedHeight(t);t.hide(),e.show();var r=this.getCombinedHeight(e);this.setAbsolutePosition(e),e.hide(),t.show(),this.setAbsolutePosition(t),i.css("paddingTop",o),t.fadeOut(Object(s.a)(this.attr.animationTime)),e.fadeIn(Object(s.a)(this.attr.animationTime)),i.animate({paddingTop:r},Object(s.a)(this.attr.animationTime),function(){a.resetCss(t),a.resetCss(e),a.resetCss(i),a.trigger(i.closest(a.attr.conversationModuleSelector),"uiConversationModuleUpdated"),n&&n()})}},this.getCombinedHeight=function(e){var i=0;return e.each(function(){i+=t(this).outerHeight()}),i},this.setAbsolutePosition=function(e){e.get().reverse().forEach(function(e){var i=t(e),n=i.width(),s=i.height();i.css({position:"absolute",top:i.position().top}),i.width(n),i.height(s)})},this.resetCss=function(t){var e={position:"",top:"",width:"",height:"",paddingTop:""};t.css(e)}}var s=i("EWF/");e.a=n}).call(e,i("4kSj"))},"Qs/v":function(t,e,i){"use strict";function n(){this.getMomentScribeData=function(t){var e={impression_id:s.a.getClosestAttr(t,"data-guide-impression-id")},i={guide_category_id:s.a.getClosestAttr(t,"data-guide-category-id")},n={moment_id:s.a.getClosestAttr(t,"data-moment-id")},o={navigation_uri:s.a.getClosestAttr(t,"href")},r={visibility:s.a.getClosestAttr(t,"data-moment-visibility")},l=a({},e,i,n,o,r);for(var c in l)void 0===l[c]&&delete l[c];return s.a.scribeData(l)},this.getMomentScribeInfo=function(t){return{scribeData:this.getMomentScribeData(t),scribeContext:{component:s.a.getClosestAttr(t,"data-component-context"),element:s.a.getClosestAttr(t,"data-element-context")}}}}var s=i("zm5j"),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.a=n},TTiE:function(t,e,i){"use strict";(function(t){function n(){s.default.mixin(this,[a.a]),this.defaultAttrs({conversationModuleSelector:".conversation-module",hasConversationModuleSelector:".tweet.has-conversation-module",conversationHeaderSelector:".conversation-header",uncollapseSelector:"a.uncollapse",conversationRootSelector:"li.conversation-root",repliesCountSelector:".replies-count",otherRepliesSelector:".other-replies",topLevelStreamItemSelector:".stream-item:not(.conversation-tweet-item)",repliesCountClass:"replies-count",visuallyHiddenClass:"visuallyhidden",conversationRootClass:"conversation-root",conversationTweetsSelector:".conversation-tweet-item,.original-tweet-item",conversationFirstVisibleTweetClass:"conversation-first-visible-tweet",originalTweetClass:"original-tweet",conversationItemsSelector:".conversation-header, .conversation-tweet-item, .original-tweet-item, .missing-tweets-bar",toBeRemovedClass:"to-be-removed",unselectableStreamItemClass:"js-unselectable-stream-item",firstNavigableStreamItemClass:"first-navigable-stream-item",lastNavigableStreamItemClass:"last-navigable-stream-item",collapsedRootClass:"collapsed-root",collapsedAncestorsClass:"collapsed-ancestors",restoreConversationDelay:100,collapseOverMinimum:20}),this.dedupAndCollapse=function(t,e){this.dedupConversations(),this.collapseConversationTweets(e&&e.tweets)},this.dedupAndCollapseNew=function(t,e){this.dedupConversations(),e&&e.tweets&&e.tweets.length<=this.attr.collapseOverMinimum?this.collapseFirstConversationTweets(this.attr.collapseOverMinimum):this.collapseConversationTweets(e&&e.tweets)},this.dedupConversations=function(){var e=this;this.select("conversationModuleSelector").each(function(i,n){if(n.parentNode){var s=t(n).attr("data-ancestors").split(","),a=e.$node.find(e.idsToSelector(s)).filter(function(e,i){return!t(i).parent().hasClass("recap-module")});a.find(e.attr.conversationModuleSelector).addClass(e.attr.toBeRemovedClass);var o=e;a.slideUp({queue:!1,duration:"fast",complete:function(){var e=t(this);e.hasClass(o.attr.selectedClass)&&o.trigger("uiSelectNext",{maintainPosition:!0}),requestAnimationFrame(function(){o.trigger(e,"uiWillRemoveStreamItem"),e.remove()})}})}})},this.idToSelector=function(t){return this.attr.topLevelStreamItemSelector+"#stream-item-tweet-"+t},this.idsToSelector=function(t){return t.map(this.idToSelector.bind(this)).join(",")},this.collapseFirstConversationTweets=function(t){var e=this.$node.find(this.attr.streamItemSelector).slice(0,t).find(this.attr.conversationModuleSelector);this.collapseConversations(e)},this.collapseConversationTweets=function(t){var e=void 0;if(t){var i=t.map(function(t){return t.tweetId});e=this.$node.find(this.idsToSelector(i)).find(this.attr.conversationModuleSelector)}else e=this.select("conversationModuleSelector");this.collapseConversations(e)},this.collapseConversations=function(e){var i=this,n={},s={};e.get().reverse().forEach(function(e){var a=t(e),o=a.attr("data-ancestors"),r=a.find(".conversation-root .tweet").attr("data-item-id");a.hasClass("dont-collapse")||(n[o]?i.collapseAncestors(a):s[r]&&i.collapseRoot(a)),a.hasClass(i.attr.toBeRemovedClass)||(n[o]=!0,s[r]=!0)})},this.uncollapseConversationHandler=function(t,e){t.preventDefault();var i=this.conversationModuleFromEvent(t);this.uncollapseConversation(i),i.addClass("dont-collapse")},this.uncollapseConversation=function(t){t.find(".conversation-tweet-item.conversation-ancestor:visible").length>0?this.expandRoot(t):this.expandAncestors(t)},this.setSelectionToRoot=function(t){this.trigger(t.find(".conversation-root.conversation-tweet-item"),"uiSelectItem",{setFocus:!0})},this.expandAncestors=function(t){var e=this,i=t.find(this.attr.conversationHeaderSelector),n=t.find(".conversation-tweet-item, .missing-tweets-bar"),s=t.find(".original-tweet-item");this.slideAndFadeContent(i,n,s,function(){t.removeClass(e.attr.collapsedAncestorsClass).removeClass(e.attr.collapsedRootClass),e.setSelectionToRoot(t)})},this.expandRoot=function(t){var e=this,i=t.find(this.attr.conversationHeaderSelector),n=t.find(".conversation-tweet-item.conversation-root, .missing-tweets-bar"),s=t.find(".conversation-tweet-item.conversation-ancestor:not(.conversation-root):first");0===s.length&&(s=t.find(".original-tweet-item")),this.slideAndFadeContent(i,n,s,function(){e.setSelectionToRoot(t),t.removeClass(e.attr.collapsedAncestorsClass).removeClass(e.attr.collapsedRootClass)})},this.collapseAncestors=function(t){var e=t.find(".conversation-tweet-item, .missing-tweets-bar"),i=t.find(this.attr.conversationHeaderSelector),n=t.find(".original-tweet-item");this.slideAndFadeContent(e,i,n),t.addClass(this.attr.collapsedAncestorsClass)},this.collapseRoot=function(t){var e=t.find(".conversation-tweet-item.conversation-root, .missing-tweets-bar"),i=t.find(this.attr.conversationHeaderSelector),n=t.find(".conversation-tweet-item.conversation-ancestor:not(.conversation-root):first");0===n.length&&(n=t.find(".original-tweet-item")),this.slideAndFadeContent(e,i,n),1===t.find(".conversation-tweet-item").length?t.addClass(this.attr.collapsedAncestorsClass):t.addClass(this.attr.collapsedRootClass)},this.updateConversationItemClasses=function(e){var i=t(e.target),n=i.find(this.attr.conversationItemsSelector);n.removeClass(this.attr.unselectableStreamItemClass),n.removeClass(this.attr.firstNavigableStreamItemClass),n.removeClass(this.attr.lastNavigableStreamItemClass),n.filter(":hidden").addClass(this.attr.unselectableStreamItemClass);var s=n.filter(":visible");s.first().addClass(this.attr.firstNavigableStreamItemClass),s.last().addClass(this.attr.lastNavigableStreamItemClass),i.find(this.attr.conversationTweetsSelector).removeClass(this.attr.conversationFirstVisibleTweetClass).filter(":visible").first().addClass(this.attr.conversationFirstVisibleTweetClass)},this.conversationModuleFromEvent=function(e){return t(e.target).closest(this.attr.conversationModuleSelector)},this.after("initialize",function(){this.on(document,"uiHasInjectedOldTimelineItems",this.dedupAndCollapse),this.on(document,"uiHasInjectedNewTimeline",this.dedupAndCollapseNew),this.on("click",{uncollapseSelector:this.uncollapseConversationHandler}),this.on("uiShortcutEnter",{conversationHeaderSelector:this.uncollapseConversationHandler}),this.on("uiUncollapseConversation",this.uncollapseConversationHandler),this.on("uiConversationModuleUpdated",this.updateConversationItemClasses),this.dedupAndCollapse()})}e.a=n;var s=i("q9/C"),a=i("Ouhc")}).call(e,i("4kSj"))},VeSc:function(t,e,i){"use strict";(function(t){function n(){s.default.mixin(this,[a.a]);this.defaultAttrs({streamItemsSelector:".stream-items",socialProofSelector:".tweet-stats-container"}),this.autoplayNewItems=function(t){if(t){var e=this.$window.scrollTop(),i=e+this.$window.height(),n=this.$promotedItem.length&&this.$promotedItem.offset().top>i,s=this.injectNewItems({},{autoplay:!0}),a=this.select("streamItemsSelector");this.travelingPTw&&n&&this.repositionPromotedItem(function(t){s.first().before(t),s=s.add(t),this.trigger(t,"uiShouldFixMargins")});var o=s.first().offset().top,r=o>e&&o<i,l=a.offset().top,c=s.last().next().offset().top-l+1;r?(a.css("marginTop",-c),this.animateBlockOfItems()):this.setScrollerScrollTop(e+c)}},this.animateBlockOfItems=function(){var t=this,e=this.select("streamItemsSelector"),i=this.$window.scrollTop(),n=parseFloat(e.css("marginTop"));e.parent().css("overflow","hidden"),e.animate({marginTop:0},{duration:700+Math.abs(n),step:function(e){t.lockedTimelineScroll&&t.setScrollerScrollTop(i+Math.abs(n-Math.ceil(e)))},complete:function(){e.parent().css("overflow","inherit"),t.afterAnimationQueue.forEach(function(t){t.call(this)},t),t.afterAnimationQueue=[]}})},this.setScrollerScrollTop=function(e){(this.attr.overflowScroll?this.$node:t(window)).scrollTop(e)},this.enableAutoplay=function(){this.autoplay=!0,this.travelingPTw=this.attr.travelingPTw,this.lockedTimelineScroll=!1,this.afterAnimationQueue=[],this.newItemsXLine=0,this.$window=this.attr.overflowScroll?this.$node:t(window),this.on("mouseover",function(){this.lockedTimelineScroll=!0}),this.on("mouseleave",function(){this.lockedTimelineScroll=!1})},this.after("initialize",function(){this.attr.autoplay&&this.enableAutoplay()})}var s=i("q9/C"),a=i("bgdb");e.a=n}).call(e,i("4kSj"))},WXGR:function(t,e,i){"use strict";var n=i("DNqT"),s=i("hhhH"),a=i("NNES"),o=i("A1Ox"),r=i("4f09"),l=i("oV37"),c=i("6jrG"),h=i("y9Hg"),u=i("pB0G"),d=i("Eq71"),m=i("bCJo"),f=i("+9xK"),g=i("DrJY"),p=i("fZJD"),v=i("Ny+n"),S=i("+8MG"),b=i("k0Jg"),C=i("IAMj"),w=i("9RxZ"),k=i("8Xx6"),T=i("F2sH"),P=i("KfqD"),I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.a=function(t){t.loggedIn||Object(n.default)(t),Object(s.a)(t),d.a.attachTo(document,{noTeardown:!0});var e={itemType:"tweet",noTeardown:!0,loggedIn:t.loggedIn,eventData:{scribeContext:{component:"gallery"}}};if(u.a.attachTo(".Gallery",t,e),v.a.attachTo(".Gallery",t,e),a.a.scribeData.context=t.streamId,c.a.attachTo(".js-session"),t.passwordResetAdvancedLoginForm&&l.a.attachTo(".js-front-signin"),b.a.attachTo(".StreamsHero-buttonContainer, .StreamsTopBar"),g.a.attachTo(document),S.a.attachTo(".SignupCallOut"),p.a.attachTo(document,{autoStart:!0,scrollDelay:10}),o.a.attachTo(window,{containerSelector:"#timeline",unloadedCardsFilter:'[data-has-autoplayable-media="true"]'}),w.a.attachTo(document),C.a.getDecider("moments_lohp_enabled")){k.a.attachTo(".Streams-momentsContainer"),T.a.attachTo(".Streams-momentsContainer"),P.a.attachTo(document),h.a.attachTo(".Streams-momentsContainer",{eventData:{scribeContext:{component:"moments"}}})}m.a.attachTo(".StreamsLiveVideoModule",t),h.a.attachTo(".StreamsLiveVideoModule",{eventData:{scribeContext:{component:"live_video_logged_out"},scribeData:{items:[{id:t.liveVideoEventId,item_type:28}]}}}),r.a.attachTo(".StreamsLiveVideoModule",I({},t,{hideOnCookiesError:".StreamsLiveVideoModule-overlay"})),f.a.attachTo("#timeline",{liveVideoContinuePlayingBehindModals:t.liveVideoContinuePlayingBehindModals})}},"X+Sp":function(t,e,i){"use strict";(function(t){function n(){this.defaultAttrs({fixedClass:"StreamsFooter--fixed",slideClass:"StreamsFooter--slide"}),this.isOnScreen=function(e){var i=t(window).scrollTop(),n=t(e).offset().top;return n<t(window).height()+i&&n>i-t(e).height()},this.scrolledToBottom=function(){return this.isOnScreen(".btn-link.back-to-top")||this.isOnScreen(".js-stream-whale-end")},this.handleScroll=function(t,e){this.$node.addClass(this.attr.slideClass),this.isFooterShown||-1!==e.direction&&!this.scrolledToBottom()?this.isFooterShown&&1===e.direction&&!this.scrolledToBottom()&&(this.$node.removeClass(this.attr.fixedClass),this.isFooterShown=!1):(this.scrolledToBottom()&&this.$node.removeClass(this.attr.slideClass),this.$node.addClass(this.attr.fixedClass),this.isFooterShown=!0)},this.after("initialize",function(){this.isFooterShown=!0,this.on(document,"uiElementHasScrolled",this.handleScroll),this.on(document,"uiHasInjectedOldTimelineItems",this.handleScroll)})}var s=i("DBjh");e.a=Object(s.default)(n)}).call(e,i("4kSj"))},XY0R:function(t,e,i){"use strict";(function(t){function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(){this.defaultAttrs({additionalOptionsSelector:".StaticLoggedOutHomePage-additionalOptionsBlock",advancedOptionsSelector:".SlidedownOptions",emailContainerSelector:".StaticLoggedOutHomePage-phoneEmail",emailSelector:'input[name="user[email]"]',fullNameContainerSelector:".StaticLoggedOutHomePage-fullName",fullNameSelector:'input[name="user[name]"]',passwordContainerSelector:".StaticLoggedOutHomePage-password",passwordSelector:'input[name="user[user_password]"]',getStartedBlockSelector:".StaticLoggedOutHomePage-getStartedBlock",getStartedButtonSelector:".StaticLoggedOutHomePage-getStartedButton",spinnerSelector:".use-cookie-personalization .loading-spinner",userCookiePersonalizationSelector:".use-cookie-personalization-field",debounceInterval:500}),this.updateP13nCheckbox=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!e.is_eu_country&&e.use_cookie_personalization,n=e.is_eu_country;this.dom.$personalizeCheckbox.prop("checked",i).prop("disabled",n),this.showP13nCheckbox()},this.showP13nCheckbox=function(){this.dom.$spinner.hide(),this.dom.$personalizeCheckbox.show()},this.possiblyShowAdditionalOptions=function(){this.verifyEmailPhone(),this.verifyPassword();var t=this.formValidation.email&&this.formValidation.password;this.dom.$getStartedBlock.toggle(!t),this.dom.$additionalOptions.toggle(t),t&&(this.trigger("toggleLoginFormVisibility",!1),this.dom.$fullNameInput.focus())},this.verifyEmailPhone=function(e,i){var n=this.dom.$emailPhoneInput.val();t(document).trigger("uiVerifyEmailPhone",n)},this.verifyPassword=function(e,i){t(document).trigger("uiVerifyPassword",{password:this.dom.$passwordInput.val(),fullName:this.dom.$fullNameInput.val(),emailPhone:this.dom.$emailPhoneInput.val()})},this.verifyFullName=function(e,i){var n=this.dom.$fullNameInput.val();t(document).trigger("uiVerifyFullName",n)},this.validationResponse=function(t,e,i){var n=this.select(t+"ContainerSelector"),s=i.invalidCode?d[i.invalidCode]:"",a=!i.invalidCode&&"phone"===i.signupType;n.find(".StaticLoggedOutHomePage-smsNotice").toggle(a),n.find(".StaticLoggedOutHomePage-helpText").html(s),n.toggleClass("valid",!i.invalidCode),n.toggleClass("invalid",!!i.invalidCode),this.formValidation[t]=!i.invalidCode},this.handleSubmit=function(t){var e=this;if(this.verifyEmailPhone(),this.verifyPassword(),this.verifyFullName(),!Object.keys(this.formValidation).every(function(t){return e.formValidation[t]}))return!1},this.after("initialize",function(t,e){this.dom={$additionalOptions:this.select("additionalOptionsSelector"),$emailPhoneInput:this.select("emailSelector"),$fullNameInput:this.select("fullNameSelector"),$passwordInput:this.select("passwordSelector"),$getStartedBlock:this.select("getStartedBlockSelector"),$personalizeCheckbox:this.select("userCookiePersonalizationSelector"),$spinner:this.select("spinnerSelector")},this.formValidation={email:!1,fullName:!1,password:!1},this.trigger("dataPersonalizationPreferences"),this.on(document,"dataPersonalizationPreferencesGetFailure",this.showP13nCheckbox),this.on(document,"dataPersonalizationPreferencesGetSuccess",this.updateP13nCheckbox),this.on(document,"dataEmailPhoneVerificationResult",this.validationResponse.bind(this,"email")),this.on(document,"dataSimplePasswordResult",this.validationResponse.bind(this,"password")),this.on(document,"dataFullNameResult",this.validationResponse.bind(this,"fullName")),this.on("keyup",{fullNameSelector:h.default.debounce(this.verifyFullName.bind(this),this.attr.debounceInterval),emailSelector:h.default.debounce(this.verifyEmailPhone.bind(this),this.attr.debounceInterval),passwordSelector:h.default.debounce(this.verifyPassword.bind(this),this.attr.debounceInterval)}),this.on("submit",this.handleSubmit),this.on("click",{getStartedButtonSelector:this.possiblyShowAdditionalOptions}),this.attachChild(c.a,this.select("advancedOptionsSelector"))})}var a,o=i("0d4m"),r=i("DBjh"),l=i("7O6F"),c=i("z+v7"),h=i("YzIt"),u=i("AJAn");e.a=Object(r.default)(s,u.a);var d=(a={},n(a,l.a.EMAIL_PHONE_EMPTY,Object(o.default)("Please enter an email or phone number.")),n(a,l.a.EMAIL_TAKEN,Object(o.default)('This email is already registered. Want to <a href="{{login_path}}">login</a> or <a href="{{resend_password_path}}">recover your password</a>?',{login_path:"/login",resend_password_path:"/account/begin_password_reset"})),n(a,l.a.EMAIL_INVALID,Object(o.default)("Please enter a valid email.")),n(a,l.a.PASSWORD_EMPTY,Object(o.default)("Please enter a password.")),n(a,l.a.PASSWORD_SHORT,Object(o.default)("Your password must be at least 6 characters.")),n(a,l.a.PASSWORD_WEAK,Object(o.default)("Please enter a stronger password.")),n(a,l.a.PHONE_TAKEN,Object(o.default)("We cannot currently register this phone number. Please try signing up with email instead.")),n(a,l.a.PHONE_INVALID,Object(o.default)("Please enter a valid phone number.")),n(a,l.a.FULL_NAME_EMPTY,Object(o.default)("What's your name?")),n(a,l.a.FULL_NAME_NO_TWITTER,Object(o.default)('Your full name can\'t include the word "Twitter".')),a)}).call(e,i("4kSj"))},bgdb:function(t,e,i){"use strict";function n(){this.repositionPromotedItem=function(t){t.call(this,this.$promotedItem.detach())},this.after("initialize",function(){this.$promotedItem=this.$node.find(".promoted-tweet").first().closest(".stream-item")})}e.a=n},d8yn:function(t,e,i){"use strict";var n=i("DBjh"),s=i("VtWx");e.a=Object(n.default)(s.a,function(t,e){this.defaultAttrs({url:"https://api.twitter.com/1.1/account/personalization/p13n_preferences.json"}),this.getPersonalizationPreferences=function(t,e){this.get({url:this.attr.url,success:"dataPersonalizationPreferencesGetSuccess",error:"dataPersonalizationPreferencesGetFailure",useOAuthSessionAuth:!0})},this.updatePreference=function(t,e,i,n){this.post({url:this.attr.url,data:{preferences:e},contentType:this.CONTENT_TYPES.APPLICATION_JSON,acceptEmptyStringAsJsonResponse:!0,success:i,error:n,useOAuthSessionAuth:!0}),this.trigger("scribe",{scribeEvent:{component:t,action:"edit"},scribeData:{event_info:e}})},this.updateGender=function(t,e){this.updatePreference("gender",{gender_preferences:{gender_override:e.gender}},"dataGenderUpdateSuccess","dataGenderUpdateError")},this.disableLanguages=function(t,e){this.updatePreference("language",{language_preferences:{disabled_languages:e.disabledLanguages}},"dataLanguagesUpdateSuccess","dataLanguagesUpdateError")},this.disabledInterests=function(t,e){this.updatePreference("interests",{interest_preferences:e},"dataInterestsUpdateSuccess","dataInterestsUpdateError")},this.getTimeNow=function(){return Date.now()},this.removePlacesYouHaveBeen=function(t,e){this.updatePreference("location_history",{location_preferences:{override_times:[this.getTimeNow()]}},"dataRemovePlacesYouHaveBeenSuccess","dataRemovePlacesYouHaveBeenError")},this.updateP13nPreference=function(t,e){this.updatePreference("other",e,"dataUpdateP13nPreferenceSuccess","dataUpdateP13nPreferenceError")},this.enableGenderP13n=function(){this.updatePreference("use_gender_for_personalization",{gender_preferences:{use_gender_for_personalization:!0}},"dataEnableGenderP13nSuccess","dataEnableGenderP13nError")},this.disableGenderP13n=function(){this.updatePreference("use_gender_for_personalization",{gender_preferences:{use_gender_for_personalization:!1}},"dataDisableGenderP13nSuccess","dataDisableGenderP13nError")},this.enableAgeP13n=function(){this.updatePreference("use_age_for_personalization",{age_preferences:{use_age_for_personalization:!0}},"dataEnableAgeP13nSuccess","dataEnableAgeP13nError")},this.disableAgeP13n=function(){this.updatePreference("use_age_for_personalization",{age_preferences:{use_age_for_personalization:!1}},"dataDisableAgeP13nSuccess","dataDisableAgeP13nError")},this.after("initialize",function(){this.on("dataPersonalizationPreferences",this.getPersonalizationPreferences),this.on("uiSaveGender",this.updateGender),this.on("uiSaveDisabledLanguages",this.disableLanguages),this.on("uiRemovePlacesYouHaveBeenConfirm",this.removePlacesYouHaveBeen),this.on("uiSaveDisabledInterests",this.disabledInterests),this.on("uiUpdateP13nPreference",this.updateP13nPreference),this.on("uiEnableGenderP13n",this.enableGenderP13n),this.on("uiDisableGenderP13n",this.disableGenderP13n),this.on("uiEnableAgeP13n",this.enableAgeP13n),this.on("uiDisableAgeP13n",this.disableAgeP13n)})})},diGA:function(t,e,i){"use strict";function n(){this.notifyAndContinue=function(t){var e=this;if(t.access_tokens&&window.external)try{window.external.notify(t.access_tokens)}catch(t){}setTimeout(function(){t.continue_flow_path?e.trigger("uiNavigate",{href:t.continue_flow_path}):e.trigger("uiNavigate",{href:"/"})},100)},this.after("initialize",function(t,e){this.notifyAndContinue(e)})}var s=i("DBjh");e.a=Object(s.default)(n)},eCK1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i("1QVz"),s=i("DNqT"),a=i("oV37"),o=i("0d4m"),r=i("3Dhe");e.default=function(e){Object(n.default)(e),Object(s.default)(e),e.passwordResetAdvancedLoginForm&&a.a.attachTo(".signin-wrapper"),t("#login-signup-link").click(function(e){return t(document).trigger("uiSignupLinkClicked")}),t(".signin-wrapper").data("login-message")&&t(document).trigger("uiShowMessage",{message:Object(o.default)("You must log in to do that")}),t(".js-username-field").focus(),r.a.attachTo(".signin-wrapper")}}.call(e,i("4kSj"))},fZJD:function(t,e,i){"use strict";(function(t){function n(){this.attributes({autoStart:!1,scrollDelay:0,scrollDelta:0}),this.$element=null,this.active=!1,this.frameID=null,this.lastClientHeight=null,this.lastResizeEvent=null,this.lastScrollEvent=null,this.lastScrollTop=null,this.retryScroll=null,this.cancelPendingFrame=function(){this.frameID&&(cancelAnimationFrame(this.frameID),this.frameID=null)},this.frame=function(t){t||(t={}),this.frameID=null,null==t.clientHeight&&(t.clientHeight=this.lastClientHeight||0),null==t.direction&&(t.direction=0),null==t.distance&&(t.distance=0),null==t.scrollTop&&(t.scrollTop=this.scrollTop());var e=t.eventName||"uiElementHasScrolled";delete t.eventName,this.trigger(e,t)},this.clientHeight=function(){return this.$element.height()},this.handleNativeScroll=function(){var t=this.scrollDelay();if(this.retryScroll&&(clearTimeout(this.retryScroll),this.retryScroll=null),!this.validScrollDelay(t))return this.retryScroll=setTimeout(this.trigger.bind(this,"scroll"),this.attr.scrollDelay-t),void this.cancelPendingFrame();var e=this.scrollTop(),i=this.scrollDistance(e);if(this.validScrollDistance(i)){var n=this.scrollDirection(e);this.lastScrollEvent=Date.now(),this.lastScrollTop=e,this.cancelPendingFrame(),this.requestFrame({direction:n,distance:i,scrollTop:e})}},this.handleNativeResize=function(){this.validResizeDelay()&&(this.lastClientHeight=this.clientHeight(),this.lastResizeEvent=Date.now(),this.cancelPendingFrame(),this.requestFrame({direction:0,distance:0,scrollTop:this.lastScrollTop}))},this.resetState=function(){this.frameID=null,this.lastClientHeight=null,this.lastResizeEvent=null,this.lastScrollEvent=null,this.lastScrollTop=null},this.requestInitialFrame=function(){this.lastClientHeight=this.clientHeight(),this.requestFrame({eventName:"uiScrollMonitorStarted"})},this.requestFrame=function(t){this.frameID=requestAnimationFrame(this.frame.bind(this,t))},this.scrollDirection=function(t){return this.lastScrollTop?this.lastScrollTop>t?-1:this.lastScrollTop<t?1:0:t?1:0},this.eventDelay=function(t){return t?Date.now()-t:-1},this.resizeDelay=function(){return this.eventDelay(this.lastResizeEvent)},this.scrollDelay=function(){return this.eventDelay(this.lastScrollEvent)},this.scrollDistance=function(t){return Math.abs(t-(this.lastScrollTop||0))},this.scrollTop=function(){return this.$element.scrollTop()},this.start=function(){this.active||(this.active=!0,this.requestInitialFrame(),this.on(this.$element,"scroll",this.handleNativeScroll),this.on(window,"resize",this.handleNativeResize))},this.stop=function(t,e){this.active&&(e||(e={}),this.active=!1,this.off(this.$element,"scroll",this.handleNativeScroll),this.off(window,"resize",this.handleNativeResize),e.cancelPending&&this.cancelPendingFrame())},this.validResizeDelay=function(t){return this.validEventDelay(t,this.attr.scrollDelay)},this.validScrollDelay=function(t){return this.validEventDelay(t,this.attr.scrollDelay)},this.validEventDelay=function(t,e){return e>0?!(t>-1)||t>=e:0===e},this.validScrollDistance=function(t){return 0===this.attr.scrollDelta||t>=this.attr.scrollDelta},this.after("initialize",function(e){this.on("uiScrollMonitorStart",this.start),this.on("uiScrollMonitorStop",this.stop),this.$element=t(e===window?document:e),this.attr.autoStart&&this.trigger("uiScrollMonitorStart")})}var s=i("DBjh");e.a=Object(s.default)(n)}).call(e,i("4kSj"))},h1WY:function(t,e,i){"use strict";(function(t){function n(){this.scribeFrontpageLink=function(e,i){var n=e.target.className;"signup-welcome-link"===n?this.scribe({component:"lifeline",element:"welcome_text",action:"signup_click"}):-1!==n.indexOf("app-store")?this.scribe({page:"front",section:"front",component:"download",element:"ios",action:"click"}):-1!==n.indexOf("google-play")?this.scribe({page:"front",section:"front",component:"download",element:"android",action:"click"}):t(e.target).parent().hasClass("devices-link")?this.scribe({page:"front",section:"front",component:"download",element:"other",action:"click"}):-1!==n.indexOf("tweet-text")?this.scribe({page:"front",section:"front",component:"tweet",element:"lohp_tweet_text",action:"click"}):-1!==n.indexOf("tweet-username")?this.scribe({page:"front",section:"front",component:"tweet",element:"lohp_tweet_username",action:"click"}):-1!==n.indexOf("tweet-time")&&this.scribe({page:"front",section:"front",component:"tweet",element:"lohp_tweet_time",action:"click"})},this.after("initialize",function(){this.on("click",this.scribeFrontpageLink)})}var s=i("DBjh"),a=i("3oDc");e.a=Object(s.default)(n,a.a)}).call(e,i("4kSj"))},hODd:function(t,e,i){"use strict";function n(){this.defaultAttrs({itemType:"tweet"})}var s=i("8mUk"),a=i("G/SW"),o=i("AN05"),r=i("TTiE"),l=i("OuLQ"),c=i("9qF2");e.a=s.a.mixin(n,a.a,r.a,l.a,c.a,o.a)},hvgr:function(t,e,i){"use strict";(function(t){function n(){this.defaultAttrs({fixedClass:"StreamsTopBar--fixed",scrollThreshold:300}),this.handleScroll=function(t,e){!this.isFixed&&e.scrollTop>=this.attr.scrollThreshold?(this.$node.addClass(this.attr.fixedClass),this.isFixed=!0):this.isFixed&&e.scrollTop<this.attr.scrollThreshold&&(this.$node.removeClass(this.attr.fixedClass),this.isFixed=!1)},this.after("initialize",function(){this.isFixed=!1,this.handleScroll(null,{scrollTop:t(document).scrollTop()}),this.on(document,"uiElementHasScrolled",this.handleScroll)})}var s=i("DBjh");e.a=Object(s.default)(n)}).call(e,i("4kSj"))},jrOt:function(t,e,i){"use strict";function n(){this.shake=function(t){t.css("position","relative");var e=0;!function i(){var n=[-8,8,-5,5,0][e];void 0!==n&&(e++,t.animate({left:n},100,i))}()}}e.a=n},jyKx:function(t,e,i){"use strict";function n(){this.defaultAttrs({pinnedStreamItemSelector:"li.js-pinned"}),this.keepPinnedStreamItemsOnTop=function(){this.$pinnedStreamItems.length&&(this.$pinnedStreamItems.first().css("margin-top","0"),this.$items.prepend(this.$pinnedStreamItems.detach()))},this.after("initialize",function(){this.$items=this.select("itemsSelector"),this.$pinnedStreamItems=this.select("pinnedStreamItemSelector"),this.on("uiHasInjectedNewTimeline",this.keepPinnedStreamItemsOnTop)})}e.a=n},k0Jg:function(t,e,i){"use strict";function n(){this.defaultAttrs({loginButtonSelector:".js-login"}),this.loginClicked=function(t,e){t.preventDefault(),this.trigger("uiOpenLoginDialog")},this.after("initialize",function(){this.on("click",{loginButtonSelector:this.loginClicked})})}var s=i("DBjh");e.a=Object(s.default)(n)},k1OA:function(t,e,i){"use strict";(function(t){function n(){this.injectNewItems=function(t,e){if(this.timelineCacheTTLTimer&&(clearTimeout(this.timelineCacheTTLTimer),this.timelineCacheTTLTimer=null),!(this.latentItems.length<1)){e&&e.wasPeriodPress&&this.trigger("uiUserPressedPeriodAndSawNewTweets"),e&&e.wasPushStateInjection&&this.trigger("uiUserPushStateInjectedTweets"),e&&e.wasTopBarBirdClick&&this.trigger("uiUserClickedTopBarBirdAndSawNewTweets"),e&&e.wasComposedTweet&&this.trigger("uiUserComposedTweet"),this.trigger("uiHideNewItemsBar");var i=this.injectItems("prepend",this.latentItems.join(""),"uiHasInjectedNewTimeline",e);return this.resetLatentItems(),i}},s.default.mixin(this,[a.a,o.a]),this.defaultAttrs({streamItemSelector:".js-stream-item:not(.js-stream-item .js-stream-item)",refreshOnReturn:!0}),this.getNewItems=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.getInitial,n=void 0!==i&&i,s=e.injectImmediately,a=void 0!==s&&s,o=Object.keys(this.composedThenInjectedTweetIds),l=n?this.getInitialItemsData():this.getNewItemsData(),c=n?{}:this.getNewItemsCountData&&this.getNewItemsCountData();this.trigger("uiWantsMoreTimelineItems",r({include_new_items_bar:!a,latent_count:this.latentCount,composed_count:o.length,composed_ids:o},l,c,e)),n&&this.trigger("uiShowGlobalLoadingIndicator")},this.notifyNewItems=function(t){if(t.items_html&&t.items_html.trim()){var e=t.sourceEventData||{};if(this.resetStateVariables(t),t.items_html){if(this.latentItems=this.htmlToItemArray(t.items_html).concat(this.latentItems),this.latentCount=t.new_latent_count,t.new_tweets_bar_html){var i=t.new_tweets_bar_html;this.autoplay?this.autoplayNewItems(t.new_tweets_bar_html):e.injectImmediately||(this.trigger("uiUpdateNewItemsBar",{html:i}),this.trigger("uiAddPageCount",{count:this.latentCount}))}if(e.injectImmediately||e.timeline_empty){var n={startTimeMs:e.startTimeMs};this.trigger("uiInjectNewItems",n)}e.scrollToTop&&this.scrollToTop(),e.selectTopTweet&&this.trigger("uiSelectTopTweet")}}},this.htmlToItemArray=function(e){return t("<div>").html(e).find(this.attr.streamItemSelector).toArray().map(function(e){return t("<div>").append(e).html()})},this.saveLatentItems=function(t,e){var i=this.select("containerSelector");i.attr("data-latent-items",this.latentItems.join("")),i.attr("data-latent-count",this.latentCount)},this.resetLatentItems=function(){var t=this.select("containerSelector"),e=t.attr("data-latent-items");t.removeAttr("data-latent-items"),this.latentItems=this.htmlToItemArray(e),this.latentCount=parseInt(t.attr("data-latent-count"),10)||0,t.removeAttr("data-latent-count")},this.refreshOnNavigate=function(t,e){(this.isPollingStopped||e.fromCache&&this.attr.refreshOnReturn)&&this.trigger("uiTimelineShouldRefresh",{navigated:!0})},this.refreshAndSelectTopTweet=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:!0,getInitial:this.shouldGetInitialTimeline})},this.injectComposedTweet=function(e,i){if(!i.in_reply_to_status_id&&i.tweet_html){this.injectNewItems();var n=t(i.tweet_html).filter(this.attr.streamItemSelector).first().attr("data-item-id");this.$node.find(".original-tweet[data-tweet-id='"+n+"']:first").length||(this.latentItems=this.htmlToItemArray(i.tweet_html),this.injectNewItems(null,{wasComposedTweet:"dataTweetSuccess"===e.type}),this.composedThenInjectedTweetIds[i.tweet_id]=window.location.href)}},this.refreshAndInjectImmediately=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:1===this.$selected.length,getInitial:this.shouldGetInitialTimeline})},this.resetCacheOfComposedInjectedTweets=function(t,e){this.composedThenInjectedTweetIds=l={}},this.addPageCount=function(t,e){this.latentCount&&this.trigger("uiAddPageCount",{count:this.latentCount})},this.after("initialize",function(){var t=this;this.latentItems=[],this.latentCount=0,this.isPollingStopped=!1,this.timelineCacheTTLTimer=null,this.shouldGetInitialTimeline=!1,this.composedThenInjectedTweetIds=l,this.resetLatentItems(),this.injectNewItems(null,{wasPushStateInjection:!0}),this.on("uiInjectNewItems",this.injectNewItems),this.on(document,"uiTimelineShouldRefresh",this.getNewItems),this.on(document,"uiBeforePageChanged",function(){t.isPollingStopped?t.resetLatentItems():t.saveLatentItems()}),this.on(document,"uiPageChanged",this.refreshOnNavigate),this.on(document,"uiGotoTopOfScreen",this.refreshAndInjectImmediately),this.on(document,"uiShortcutGotoTopOfScreen",this.refreshAndSelectTopTweet),this.on(document,"dataPageMutated",this.resetCacheOfComposedInjectedTweets),this.on(document,"uiPageNeedsCount",this.addPageCount),this.on(document,"uiPollingStopped",function(){t.isPollingStopped=!0,t.attr.timelineCacheTTLMillis&&(t.timelineCacheTTLTimer=setTimeout(function(){t.resetLatentItems(),clearTimeout(t.timelineCacheTTLTimer),t.timelineCacheTTLTimer=null,t.trigger("uiTimelineCacheInvalidated"),t.shouldGetInitialTimeline=!0},t.attr.timelineCacheTTLMillis))}),this.on(document,"uiPollingStarted",function(){t.isPollingStopped=!1,t.shouldGetInitialTimeline=!1}),this.attr.injectComposedTweets&&this.on(document,"dataTweetSuccess",this.injectComposedTweet)})}var s=i("q9/C"),a=i("VeSc"),o=i("p067"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l={};e.a=n}).call(e,i("4kSj"))},kBGy:function(t,e,i){"use strict";(function(t){function n(){this.defaultAttrs({moduleSelector:".TweetWithPivotModule",pivotSelector:".TweetWithPivotModule-header a",tweetItemSelector:".tweet",itemType:"tweet",exculdesSelector:"a, .AdaptiveMedia, button"}),this.isDropdownOpen=function(){return t(document).find(".dropdown-menu:visible").length>0},this.handlePivotClick=function(e,i,n){this.scribeModuleClick(t(e.target),"pivot")},this.handleTweetClick=function(e,i,n){var s=t(e.target),a=s.closest(this.attr.moduleSelector),o=t(i.el);e.isDefaultPrevented()||0!==s.closest(this.attr.exculdesSelector).length||this.isDropdownOpen()||!o.data("permalink-path")||(n.position=s.closest("[data-module-position]").data("module-position"),this.triggerTweetAction("uiPermalinkClick").apply(this,arguments),this.scribeModuleClick(s,"tweet"),o.trigger("uiNavigate",{href:a.data("tweet-click-path")||o.data("permalink-path"),conversation_id:o.data("conversation-id")}))},this.scribeModuleClick=function(e,i){var n=e.closest(this.attr.moduleSelector),s=n.find(this.attr.tweetItemSelector),a=n.data("scribe-context"),o=this.getModulePosition(n),r={event_info:a.type,items:[{id:s.attr("data-tweet-id"),item_type:"tweet",position:o}],targets:[{id:a.id,name:a.name,item_type:"stream",position:o}]};t(document).trigger("scribe",{scribeEvent:{component:"module_"+a.type,element:i,action:"click"},scribeData:r}),t(document).trigger("scribe",{scribeEvent:{component:"module_"+o,element:i,action:"click"},scribeData:r})},this.getModulePosition=function(e){return t(this.select("moduleSelector").sort(function(e,i){var n=t(e).position(),s=t(i).position();return Math.abs(n.top-s.top)<=100?n.left-s.left:n.top-s.top})).index(e)},this.after("initialize",function(){this.on("click",{pivotSelector:this.handlePivotClick,tweetItemSelector:this.composeHandler(this.getClosestTweet,this.mkTweetDataCollectorForAction(this.interactionDataWithCard),this.handleTweetClick)})})}var s=i("DBjh"),a=i("RhwY"),o=i("alSu");e.a=Object(s.default)(n,a.a,o.a)}).call(e,i("4kSj"))},kjiX:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var n=i("1QVz"),s=i("DNqT"),a=i("oV37"),o=i("h1WY"),r=i("38t/"),l=i("3Dhe");e.default=function(e){Object(n.default)(e),Object(s.default)(e),t('.front-signin input[name="session[username_or_email]"]').focus(),e.passwordResetAdvancedLoginForm&&a.a.attachTo(".js-front-signin"),o.a.attachTo(document,e),"input"!==document.activeElement.tagName.toLowerCase()&&t(".front-signin .email-input").focus(),r.a.attachTo("#front-no-cookies-warn"),l.a.attachTo(".js-front-signin")}}.call(e,i("4kSj"))},nrfy:function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({columnContainer:".Grid-cell",columnCount:3,alignmentDelta:500}),this.getItemsToInject=function(t){return t.children().children()},this.injectToDOM=function(e,i){for(var n=0;n<this.attr.columnCount;n++)this.columnSelector(n).append(t(i[n]).children());for(var s=0;s<this.attr.fetchedItemsCount;s++){var a=this.getMinMaxColumns(),o=a.min,r=a.max;if(r.height-o.height<this.attr.alignmentDelta)break;this.moveItemOver(r.index,o.index)}},this.columnSelector=function(e){return t(this.attr.columnContainer+":eq("+e+")")},this.getMinMaxColumns=function(){for(var t=void 0,e=t={index:0,height:this.columnSelector(0).height()},i=1;i<this.attr.columnCount;i++){var n=this.columnSelector(i).height();n<e.height&&(e={index:i,height:n}),n>t.height&&(t={index:i,height:n})}return{min:e,max:t}},this.moveItemOver=function(t,e){var i=this.columnSelector(t).children(),n=i.last();i.remove(n),this.columnSelector(e).append(n)}}e.a=i}).call(e,i("4kSj"))},p067:function(t,e,i){"use strict";(function(t){function n(){this.defaultAttrs({pollingWatchNode:t(window),pollingEnabled:!0}),this.shouldStopPolling=function(t){return!!(this.attr.pollingOptions&&this.attr.pollingOptions.pauseItemCount&&t>=this.attr.pollingOptions.pauseItemCount)},this.startPolling=function(){this.pollingTimer&&this.pollingTimer.clear(),this.pollingTimer=Object(s.a)("uiTimelinePollForNewItems",this.attr.pollingWatchNode,this.attr.pollingOptions),this.resetPolling()},this.pausePolling=function(){this.pollingTimer.pause(),this.pollingPaused=!0},this.resetPolling=function(){this.backoffEmptyResponseCount=0,this.pollingPaused=!1,this.trigger("uiPollingStarted")},this.stopPolling=function(){this.pollingTimer&&(this.pollingTimer.clear(),this.trigger("uiPollingStopped"))},this.pollForNewItems=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!1,interval:this.pollingTimer.interval,fromPolling:!0})},this.onGotMoreTimelineItems=function(t,e){if(this.attr.pollingOptions&&this.attr.pollingOptions.pauseAfterBackoff&&e&&e.sourceEventData){if(e.focused_refresh_interval){var i=this.attr.pollingOptions.blurredInterval/this.attr.pollingOptions.focusedInterval;this.stopPolling(),this.attr.pollingOptions.focusedInterval=e.focused_refresh_interval,this.attr.pollingOptions.blurredInterval=e.focused_refresh_interval*i,this.startPolling()}var n=e.sourceEventData;n.fromPolling&&(this.shouldStopPolling(e.new_latent_count)?this.stopPolling():this.isNewItem(e)||n.interval<this.attr.pollingOptions.blurredInterval?this.resetPolling():++this.backoffEmptyResponseCount>=this.attr.pollingOptions.backoffEmptyResponseLimit&&this.pausePolling())}},this.getNewItemsCountData=function(t){if(this.pollingPaused&&this.attr.pollingOptions)return this.resetPolling(),{count:this.attr.pollingOptions.resumeItemCount}},this.possiblyRefreshBeforeInject=function(t,e,i){return this.pollingPaused&&i&&i.fromClick&&this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0}),t(e,i)},this.around("injectNewItems",this.possiblyRefreshBeforeInject),this.before("teardown",function(){this.stopPolling()}),this.after("initialize",function(){this.attr.pollingEnabled&&(this.on(document,"uiTimelinePollForNewItems",this.pollForNewItems),this.on(document,"dataGotMoreTimelineItems",this.onGotMoreTimelineItems),this.on(document,"uiHasInjectedNewTimeline",this.startPolling),this.startPolling())})}var s=i("11Yp");e.a=n}).call(e,i("4kSj"))},pX2M:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("1QVz"),s=i("Lvec"),a=i("sO58");e.default=function(t){Object(n.default)(t),s.a.attachTo(".content-placeholder",t),a.a.attachTo("#device_address",t)}},q1GU:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("1QVz"),s=i("2TcO"),a=i("Lvec");e.default=function(t){Object(n.default)(t),s.a.attachTo("#sms-phone-verify-form",{deviceId:t.phoneDeviceId}),a.a.attachTo(".content-placeholder",t)}},sO58:function(t,e,i){"use strict";(function(t){function n(){var e="";this.recordLast=function(i,n){e=t(i.target).val()},this.uiFieldChanged=function(i,n){var s=t(i.target).val(),a="";e!==s&&(s=s.replace(/\D/g,""),s=s.replace(/^1/,""),s.length>10&&(s=s.substring(0,10)),a=s.length>6?s.substring(0,3)+"-"+s.substring(3,6)+"-"+s.substring(6,10):s.length>3?s.substring(0,3)+"-"+s.substring(3,10):s,t(i.target).val(a))},this.after("initialize",function(){this.on("keydown",this.recordLast),this.on("keyup",this.uiFieldChanged)})}var s=i("DBjh"),a=i("3oDc"),o=Object(s.default)(n,a.a);e.a=o}).call(e,i("4kSj"))},srAy:function(t,e,i){"use strict";function n(){this.defaultAttrs({searchItemSelector:".StreamsCategoryBar-item.ItemSearch",searchBarSelector:".StreamsTopBar-searchContainer",searchDismissSelector:".StreamsTopBar-searchDismiss",searchHiddenClass:"StreamsTopBar-searchContainerHidden",categoryBarSelector:".StreamsCategoryBar",scribeComponent:"category_bar",scribeElement:"search"}),this.showSearch=function(){var t=this;this.scribe({component:this.attr.scribeComponent,element:this.attr.scribeElement,action:"show"}),this.select("categoryBarSelector").addClass("u-hidden"),this.select("categoryBarSelector").addClass("StreamsTopBar--invisible"),this.select("searchBarSelector").removeClass("u-hidden"),setTimeout(function(){return t.select("searchBarSelector").removeClass("StreamsTopBar--invisible")})},this.hideSearch=function(){var t=this;this.scribe({component:this.attr.scribeComponent,element:this.attr.scribeElement,action:"hide"}),this.select("searchBarSelector").addClass("u-hidden"),this.select("searchBarSelector").addClass("StreamsTopBar--invisible"),this.select("categoryBarSelector").removeClass("u-hidden"),setTimeout(function(){return t.select("categoryBarSelector").removeClass("StreamsTopBar--invisible")})},this.after("initialize",function(){this.on("click",{searchItemSelector:this.showSearch,searchDismissSelector:this.hideSearch})})}var s=i("DBjh"),a=i("oHsY"),o=i("3oDc");e.a=Object(s.default)(a.a,o.a,n)},tbtK:function(t,e,i){"use strict";function n(){this.handleCountrySelection=function(t,e){e.code.indexOf("+")<0?this.$node.text("+"+e.code):this.$node.text(e.code)},this.after("initialize",function(t){this.on(document,"uiHasSelectedCountryCode",this.handleCountrySelection)})}var s=i("DBjh");e.a=Object(s.default)(n)},tzCb:function(t,e,i){"use strict";(function(t){function n(){a.default.mixin(this,[r.a]),this.defaultAttrs({rowSelector:".field",usernameSelector:'input[name="user[screen_name]"]',fullnameSelector:'input[name="user[name]"]',emailSelector:'input[name="user[email]"]',passwordSelector:'input[name="user[user_password]"]',scoreSelector:".password .score",submitSelector:'input[type="submit"]',nextSelector:"#next_button",bqSelector:'input[name="user[use_cookie_personalization]"]',nameEnclosingSelector:".prompt.name",emailEnclosingSelector:".prompt.email",bqEnclosingSelector:".prompt.optin",legalCopySelector:".befound",nameValuePropSelector:"#name-value-prop",generalValuePropSelector:"#general-value-prop",smsConsentSelector:".sms-consent",suggestionSelector:".select-username .suggestions li button",smallPrintSelector:".textbox",emailCorrectionSelector:".js-email-correction",isDeviceCompletion:!1,forceConfirmPasswordField:!1}),this.showTip=function(e,i){var n=t(e.target),s=n.closest(".field");s.find(".sidetip p").removeClass("active"),i&&s.find("."+i+":first").addClass("active")},this.validated=function(){var t=this,e=!0;return Object.keys(this.attr.validationFields).forEach(function(i){t.attr.validationFields[i]||(e=!1)}),e},this.validatedField=function(t,e){this.attr.validationFields[e.field]=e.valid},this.validate=function(t,e,i,n){if(!this.disabled){var s={name:e,value:i,quick:n,username:this.$username.val(),password:this.$password.val(),email:this.$email.val(),fullname:this.$fullname.val()};t.trigger("uiSignupValidate",s)}},this.focusInput=function(e){var i=t(e.target);i.addClass("focused"),i.val()||i.trigger("uiShowTip","tip")},this.blurInput=function(e){var i=t(e.target);i.removeClass("focused"),i.trigger("uiInputFieldChanged")},this.keydownInput=function(e){var i=t(e.target),n=e&&8===e.keyCode;!i.prop("fieldTouched")&&i.val().length&&(i.prop("fieldTouched",!0),i.trigger("uiFieldTouched",i)),setTimeout(function(){return i.trigger("uiInputFieldChanged",{forceAdd:n&&!i.val().length})},0)},this.checkAllFields=function(){this.$allFields.each(function(){t(this).trigger("uiInputFieldChanged",{noRemove:!0})})},this.uiInputFieldChanged=function(e,i){var n=this,s=t(e.target),a=s.val();i=i||{},(i.forceValidate||a!==s.prop("lastValue"))&&(s.prop("lastValue",a),i.forceValidate?this.validate(s,s.attr("name"),a):(this.validate(s,s.attr("name"),a,!0),clearTimeout(s.prop("validatorTimeout")),s.prop("validatorTimeout",setTimeout(function(){return n.validate(s,s.attr("name"),a)},750))))},this.dataValidateUsernameResult=function(t,e){e.sourceEventData.custom&&(this.trigger("uiValidated",{field:"username",valid:e.valid,quick:!1}),e.valid?(this.$username.trigger("uiShowTip","ok"),this.$password.val()&&this.$password.trigger("uiInputFieldChanged",{forceValidate:!0})):"improper_format"===e.reason?this.$username.trigger("uiShowTip","invalid"):"blank"===e.reason?this.$username.trigger("uiShowTip","blank"):this.$username.trigger("uiShowTip","taken"))},this.dataValidateUsernameError=function(){this.trigger("uiValidated",{field:"username",valid:!0,quick:!1}),this.$username.trigger("uiShowTip")},this.chooseSuggestion=function(e,i){e.preventDefault();var n=t(e.target),s=n.text();this.$username.prop("lastValue",s),this.$username.val(s),this.$username.trigger("uiShowTip","ok"),this.$username.trigger("uiInputFieldChanged"),this.$password.val()&&this.$password.trigger("uiInputFieldChanged",{forceValidate:!0}),this.trigger("uiValidated",{field:"username",valid:!0,quick:!1})},this.dataValidateEmailResult=function(t,e){this.trigger("uiValidated",{field:"email",valid:e.valid,quick:!1}),e.valid?e.email_suggestion?(this.select("emailCorrectionSelector").text(e.email_suggestion),this.$email.trigger("uiShowTip","domain"),this.trigger("uiShowingEmailCorrection")):this.$email.trigger("uiShowTip","ok"):e.taken?this.$email.trigger("uiShowTip","taken"):e.blank?this.$email.trigger("uiShowTip","blank"):this.$email.trigger("uiShowTip","invalid")},this.dataValidatePhoneResult=function(t,e){this.trigger("uiValidated",{field:"email",valid:e.valid&&e.available,quick:!1}),e.valid?e.available?this.$email.trigger("uiShowTip","ok"):this.$email.trigger("uiShowTip","phone_taken"):this.$email.trigger("uiShowTip","invalid_phone")},this.dataValidatePasswordResult=function(t,e){this.trigger("uiValidated",{field:"password",valid:e.pass,quick:!1}),e.pass||this.$password.trigger("uiShowTip","obvious")},this.fail=function(t,e){this.trigger("uiShowError","eek")},this.updateEmailField=function(t){t.preventDefault(),this.$email.val(this.select("emailCorrectionSelector").text()).trigger("uiInputFieldChanged",{noRemove:!0,forceValidate:!0})},this.formSubmit=function(){if(!this.validated()&&!this.disabled)return this.shakeSubmitBtn(),this.trigger("uiSignupValidationFail"),!1;if(this.select("smallPrintSelector").slideUp(),this.$username.val()){var t=this.$username.val().match(o.a.usernameForSignup);t&&this.$username.val(t[1])}var e=o.a.phoneNumber.test(this.$email.val());this.trigger("uiSignupIdentifierScribe",e),this.trigger("uiSignupValidationSuccess"),this.setSubmitting(!0)},this.nextSubmit=function(){if(!this.attr.validationFields.email)return this.shakeNextBtn(),this.trigger("uiSignupValidationFail"),!1;this.trigger("uiNextValidationSuccess"),this.advanceToName()},this.setSubmitting=function(t){!1!==t?(this.$node.addClass("submitting"),this.$submit.prop("disabled",!0)):(this.$node.removeClass("submitting"),this.$submit.prop("disabled",!1))},this.shakeSubmitBtn=function(){var t=this.$submit;this.shake(t)},this.shakeNextBtn=function(){var t=this.select("nextSelector");this.shake(t)},this.disableValidation=function(){this.disabled=!0,this.$node.addClass("validation-disabled")},this.enableValidation=function(){this.disabled=!1,this.$node.removeClass("validation-disabled")},this.advanceToName=function(t){this.trigger("uiSignupScribeNamePageImpression"),this.$node.removeClass("clean-signup-email"),this.$node.addClass("clean-signup-name")},this.toggleSmsConsent=function(t,e){this.select("smsConsentSelector").toggle(e)},this.after("initialize",function(){var e=this;this.trigger("uiReportSignupPageLoaded"),this.$username=this.select("usernameSelector"),this.$fullname=this.select("fullnameSelector"),this.$email=this.select("emailSelector"),this.$password=this.select("passwordSelector"),this.$score=this.select("scoreSelector"),this.$allRows=this.select("rowSelector"),this.$allFields=this.$allRows.find("input"),this.$submit=this.select("submitSelector"),this.$bq=this.select("bqSelector"),this.$body=t("body"),this.disabled=!1,this.on("focusin",{usernameSelector:this.focusInput,fullnameSelector:this.focusInput,emailSelector:this.focusInput,passwordSelector:this.focusInput}),this.on("focusout",{usernameSelector:this.blurInput,fullnameSelector:this.blurInput,emailSelector:this.blurInput,passwordSelector:this.blurInput}),this.on("keydown",{usernameSelector:this.keydownInput,fullnameSelector:this.keydownInput,emailSelector:this.keydownInput,passwordSelector:this.keydownInput}),this.on(document,"uiValidated",this.validatedField),this.on(document,"dataUsernameResult",this.dataValidateUsernameResult),this.on(document,"dataUsernameError",this.dataValidateUsernameError),this.on(document,"dataEmailResult",this.dataValidateEmailResult),this.on(document,"dataEmailError",this.fail),this.on(document,"dataPhoneResult",this.dataValidatePhoneResult),this.on(document,"dataPhoneError",this.fail),this.on(document,"dataPasswordResult",this.dataValidatePasswordResult),this.on("uiInputFieldChanged",this.uiInputFieldChanged),this.on(document,"uiCorrectEmailClicked",this.updateEmailField),this.on(document,"uiDisableSignupValidation",this.disableValidation),this.on(document,"uiEnableSignupValidation",this.enableValidation),this.on("submit",this.formSubmit),this.on("click",{suggestionSelector:this.chooseSuggestion,nextSelector:this.nextSubmit}),this.on("uiShowTip",this.showTip),this.on(document,"uiToggleSmsConsent",this.toggleSmsConsent),this.$allFields.each(function(e,i){var n=t(i);n.prop("lastValue",n.val()),n.val().length>1&&!n.closest(".field").find(".sidetip p.active").length&&n.trigger("uiInputFieldChanged",{forceValidate:!0})}),s.default.setIntervalEvent("uiCheckAllFields",2222),this.on(document,"uiCheckAllFields",this.checkAllFields),this.attr.isDeviceCompletion&&(this.$username.prop("disabled",!0),this.attr.validationFields.username=!0,this.attr.validationFields.email=!0),this.trigger("uiReportBQCheckboxState",{bq:this.$bq.prop("checked")?"on":"off"}),this.on("click",{bqSelector:function(){this.trigger("uiReportBQCheckboxState",{bq:this.$bq.prop("checked")?"select":"deselect"})}}),this.$node.is(".validated")&&(Object.keys(this.attr.validationFields).forEach(function(t){return e.attr.validationFields[t]=!0}),this.formSubmit()),this.on(this.select("emailCorrectionSelector"),"click",function(){this.trigger("uiCorrectEmailClicked")})})}var s=i("r8Bt"),a=i("q9/C"),o=i("D6ny"),r=i("jrOt");e.a=n}).call(e,i("4kSj"))},uvq2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("1QVz"),s=i("diGA");e.default=function(t){Object(n.default)(t),s.a.attachTo(document,t)}},"v2/C":function(t,e,i){"use strict";function n(t){Object(s.default)(t),a.a.attachTo("#choose-country",t),o.a.attachTo("#country_code_display",t),l.a.attachTo("#message-drawer",t),r.a.attachTo("div.signup-wrapper",t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var s=i("1QVz"),a=i("9JOn"),o=i("tbtK"),r=i("x0kd"),l=i("DHQD")},"waF/":function(t,e,i){"use strict";(function(t){function n(){this.showSuggestions=function(e,i){var n=this,s=i.suggestions;if(s&&s.length){var a=this.$node,o=a.children("ul").empty(),r="";t.each(s,function(){r+='<li><button class="btn-link" data-sugg-sources="'+this.sources.join(",")+'" data-sugg-technik="'+this.technique+'">'+this.suggestion+"</button></li>\n"}),o.append(t(r)),a.slideDown("fast",function(){return n.trigger("uiUsernameSuggestionsShown")})}},this.after("initialize",function(){this.on(document,"dataUsernameResult",this.showSuggestions)})}var s=i("DBjh"),a=Object(s.default)(n);e.a=a}).call(e,i("4kSj"))},x0kd:function(t,e,i){"use strict";function n(){this.scribeSkip=function(){this.scribe("skip")},this.scribeResend=function(){this.scribe("resend")},this.scribeEdit=function(){this.scribe("edit")},this.handleCodeSubmit=function(){this.scribe("submit")},this.after("initialize",function(t){this.on("#verify_btn","click",this.handleCodeSubmit),this.on(".skip-link","click",this.scribeSkip),this.on(".resend-link","click",this.scribeResend),this.on(".edit-number-link","click",this.scribeEdit)})}var s=i("DBjh"),a=i("3oDc");e.a=Object(s.default)(n,a.a)},xswm:function(t,e,i){"use strict";(function(t){function n(){this.defaultAttrs({tweetSelector:".js-tweet",mediaPreviewSelector:".js-media-preview"}),this.loadCard=function(e,i){var n=t(i.el).closest(this.attr.tweetSelector);this.createCard(n)},this.once=function(e){var i=this;return function(n,s){var a=t(s.el);a.data("clicked")||(a.data("clicked",!0),e.call(i,n,s))}},this.after("initialize",function(t,e){this.on("click",{mediaPreviewSelector:this.once(this.loadCard)})})}var s=i("DBjh"),a=i("dUMM");e.a=Object(s.default)(n,a.a)}).call(e,i("4kSj"))},"z+v7":function(t,e,i){"use strict";function n(){this.attributes({headerLinkSelector:".SlidedownOptions-headerLink",contentSelector:".SlidedownOptions-content",slideDuration:200}),this.toggleSlide=function(t){t.preventDefault(),this.$content.slideToggle(this.attr.slideDuration)},this.after("initialize",function(){this.$content=this.select("contentSelector"),this.on("click",{headerLinkSelector:this.toggleSlide})})}var s=i("DBjh");e.a=Object(s.default)(n)},zBVw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("1QVz"),s=i("DNqT"),a=i("38t/"),o=i("d8yn"),r=i("0bGJ"),l=i("oV37"),c=i("XY0R");e.default=function(t){Object(n.default)(t),Object(s.default)(t),a.a.attachTo("#front-no-cookies-warn"),o.a.attachTo(document),r.a.attachTo(document,{scribeContext:t.scribeContext}),c.a.attachTo(".StaticLoggedOutHomePage-signupForm",{env:t.environment}),l.a.attachTo(".StaticLoggedOutHomePage-login",{env:t.environment})}},zm5j:function(t,e,i){"use strict";(function(t){var i={scribeData:function(t){return{items:[{moments_details:t}]}},getClosestAttr:function(t,e){return t.closest("["+e+"]").attr(e)},getMomentMakerTopBarVisibility:function(){return t(".MomentMakerTopBar").attr("data-visibility-mode")}};e.a=i}).call(e,i("4kSj"))}});
//# sourceMappingURL=7.pages_signup.en.6bfee475d9b7243c5db9.js.map