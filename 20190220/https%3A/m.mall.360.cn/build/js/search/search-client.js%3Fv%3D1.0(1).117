!function(){var i=!1,t={installHover:function(){var t=$(".js-clone-item");$(".list-container").delegate(".list-item","mouseenter",function(){$(this).addClass("active")}),$(".list-container").delegate(".list-item","mouseleave",function(){$(this).removeClass("active")}).on("click",".add-cart",function(){var t=$(this),i=t.parents(".list-item").find(".addSuccess"),e=t.attr("data-id"),n={edit:"add"};return n.items='{"'+e+'":1}',QHPass.getUserInfo(function(){$.get("/cart/editCart?"+$.param(n),function(t){i.show().animate({bottom:0},500,function(){setTimeout(function(){i.animate({bottom:-36},500,function(){i.hide()})},1e3)}),qikoo.cart.refresh()})},function(){QHPass.signIn(function(){window.location.reload()})}),!1}),t.on("mouseleave",function(){t.stop(!0).hide().html("")}),t.on("hover",function(){},function(){t.stop(!0).hide().html("")})},installBtns:function(){$("body").delegate(".add-cart","click",function(){var t=this;QHPass.when.signIn(function(){qikoo.cart.addCart($(t).attr("data-id"),function(){window.location.href="/shop/shopcart"})})})},installStock:function(){$(".filter-box").delegate("#is-stock","click",function(){location.href=$(this).attr("data-lnk")})},installHotList:function(){var e=function(){return parseInt($(".itemlist .item").width(),10)+parseInt($(".itemlist .item").css("margin-right"),10)},i=!1,n=function(){var t=parseInt($(".itemlist ul").css("left"),10);0==t?($(".left").addClass("disabled"),$(".left").removeClass("abled")):($(".left").addClass("abled"),$(".left").removeClass("disabled"));var i=e();($(".itemlist .item").length-5)*i*-1==t?($(".right").removeClass("abled"),$(".right").addClass("disabled")):($(".right").addClass("abled"),$(".right").removeClass("disabled"))};$("body").delegate(".right","click",function(){if(!i&&!$(this).hasClass("disabled")){var t=parseInt($(".itemlist ul").css("left"),10);width=5*e(),i=!0,$(".itemlist ul").animate({left:t-width+"px"},function(){i=!1,n()})}}),$("body").delegate(".left","click",function(){if(!i&&!$(this).hasClass("disabled")){var t=parseInt($(".itemlist ul").css("left"),10);0!=t&&(width=5*e(),i=!0,$(".itemlist ul").animate({left:t+width+"px"},function(){i=!1,n()}))}})},initialTags:function(){0==i&&$("body").delegate(".find_more","click",function(){var t=$(this).parents(".option_box");t.hasClass("unspread")?(t.scrollTop(0),t.removeClass("unspread")):(t.scrollTop(0),t.addClass("unspread")),$(this).find(".spread_icon img").toggle(),i=!0}),$(".sww").click(function(){var t=function(t){var i=/([^&=]+)=([\w\W]*?)(&|$|#)/g,e=/^[^\?]+\?([\w\W]+)$/.exec(t),n={};if(e&&e[1])for(var s,a=e[1];null!=(s=i.exec(a));)n[s[1]]=s[2];return n}(window.location.href),i={};for(var e in delete t.brand,t)i[e]=decodeURI(t[e]);var n=function(t,i){var e=$.extend({},i);if(e.q=void 0===e.q?"*":e.q,e.q,"api"==t)var n=utils.path.encodeQueryJson(e),s=[SEARCH_HOST,SEARCH_API,"?",n].join("");else s=["/search/","?",n=utils.path.encodeQueryJson(e)].join("");return s}("url",i);window.location.href=n})},dealWithFindMoreVisible:function(){$(".option_box").each(function(){9<$(this).find("a").length&&$(this).find(".find_more").show(),$(this).scroll(function(){var t=$(this).scrollTop();$(this).find(".find_more").css("top",t)})})},run:function(){$("img.lazy").lazyload({threshold:200}),this.installStock(),this.installHover(),this.installBtns(),this.installHotList(),this.initialTags()}};window.filters=t}(),ShopSearchEngine.getSearchList(),filters.run();