!function(t){function o(i){if(n[i])return n[i].exports;var e=n[i]={exports:{},id:i,loaded:!1};return t[i].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}var n={};return o.m=t,o.c=n,o.p="",o(0)}([function(t,o,n){"use strict";function i(t){this.options=s.extend({},this.defaultOptions,t),this._confirmList=[],this.confirmed=!1,this.init()}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=n(1).security,s=n(2),c="riskTelephoneAccount";i.prototype={_type:"riskTelephoneAccount",defaultOptions:{confirmBtnId:"tel_confirm_btn",errorCntId:"tel_error_cnt",waitCntId:"tel_wait_cnt",pollInterval:3e3},init:function(t){var o=this.options;return o.timeout?void this.onTimeout():void this.startPoll()},startPoll:function(){function t(){setTimeout(function(){s.request(r,{securityId:f,t:(new Date).getTime().toString(32)},{format:"jsonp",success:o})},c)}function o(t){"object"===("undefined"==typeof t?"undefined":e(t))&&"success"===t.checkStatus?n(t.telephoneAccountValidatorStatus):u.onError("\u51fa\u9519\u5566")}function n(o){switch(o){case"notTested":t();break;case"failed":case"successed":u.confirm();break;case"timeOut":u.onError("\u8d85\u65f6\u4e86");break;default:u.onError("\u51fa\u9519\u5566")}}var i=this.options,r=i.ajaxUrl,c=i.pollInterval,f=i.sid,u=this;t()},onError:function(t){this.confirmed=!0;var o=this.options;s.node("#"+o.waitCntId).hide(),s.node("#"+o.errorCntId).show().find(".header").text(t);var n=this;s.node("#"+o.confirmBtnId).click(function(){n.confirm()})},onConfirm:function(t){if("function"!=typeof t)throw new Error("onConfirm only accept function parm");this.confirmed?t.call(this):this._confirmList.push(t)},confirm:function(){this.confirmed=!0;for(var t=this._confirmList;t.length;)t.shift().call(this)}},r[c]=i,t.exports=i},function(t,o){t.exports=alipay},function(t,o){t.exports=light}]);!function(e){function t(r){if(i[r])return i[r].exports;var s=i[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";i(26),i(5),i(4),i(27),i(3),i(28),i(7),i(11),i(12),i(10),i(13),i(8),i(19),i(18),i(22),i(23),i(20),i(16),i(24),i(17),i(25),i(21),i(9),i(15),i(6),i(14)},function(e,t){e.exports=alipay},function(e,t){e.exports=light},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/block")||function(e,t,i){var r,a,o,n,c=function(t,i){i(!!e.get(t))},u=function(i){function r(a){var n=i[a];n&&n.rule(n.id,function(i){i?(s.security.snowden&&s.security.snowden.report(),t("#"+n.id).removeClass("fn-hide"),n.callback&&n.callback(t("#"+n.id)),"cashier"==o&&(n.seed+="_cashier"),e.track(n.seed)):r(a+1)})}r(0)},d=[{id:"J_certOs",rule:c,seed:"AQ_CA_OSnotSupport"},{id:"J_certNoPta",rule:function(t,r){if("true"!=e.node("#J-cert-section").attr("data-alternative")){if(s.security.hasBrowserControlPolicy){var a=i.debug("security-core:block");a("\u5f00\u59cb\u68c0\u6d4b\u662f\u5426\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\uff0c\u4f7f\u7528\u7b56\u7565\uff1a"+s.security.certDataAccessPolicy+"\uff0c\u4f7f\u7528websocketPorts: "+s.security.websocketPorts+"\uff0c\u8d85\u65f6\u65f6\u95f4\uff1a"+s.security.controlCheckTimeout);var o=new s.security.Cert({dataAccessPolicy:s.security.certDataAccessPolicy,websocketPorts:s.security.websocketPorts,timeout:s.security.controlCheckTimeout,sid:s.security.sid});return void o.detect(function(e,t){e?(a("\u672a\u68c0\u6d4b\u5230\u53ef\u7528\u7684\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\uff0cblock\u9ec4\u6761\u63d0\u793a\u5b89\u88c5\u63a7\u4ef6\uff0c\u539f\u56e0\uff1a["+e.code+"]"+e.message),s.security.snowden&&s.security.snowden.report()):a("\u68c0\u6d4b\u5230\u53ef\u7528\u7684\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\u7b56\u7565\uff0c\u4e0d\u9700\u8981\u8d34\u9ec4\u6761\u63d0\u793a\u5b89\u88c5\u63a7\u4ef6\uff1a"+t),r(!!e)})}if("true"==e.node(".J-securitycoreMain").attr("data-extension")){var n=s.security.utils.chromeExtension;n.checkExtension(function(e){e?n.checkControl(function(e){r(e?!1:!0)},"alicert"):r(!0)})}else r(i.cdo.installed?!1:!0)}else r(!1)},seed:"AQ_CA_noPta"},{id:"J_certNotUse",rule:c,seed:"AQ_CA_no"},{id:"J_certChecking",rule:c,seed:"AQ_CA_no",callback:function(s){var o=t("#J_certNo, #J_certNotFound, #J_certFound, #J_certValidating, #J_certChecking"),c={type:"cert",element:o,data:s,url:r,callback:a,preventDefaultReCheckSuccess:n,extensionEnabled:"true"==e.node(".J-securitycoreMain").attr("data-extension")};i.core.recheck(c)}},{id:"J_certOverdue",rule:c,seed:"AQ_CA_update"},{id:"J_certException",rule:c,seed:""},{id:"J_publicException",rule:c,seed:""}],l=[{id:"J_ukeyOs",rule:c,seed:"AQ_KEY_OSnotSupport"},{id:"J_ukeyBrowser",rule:c,seed:"AQ_KEY_notSupport"},{id:"J_ukeyNoPta",rule:function(e,t){t(!(i.cdo.installed||i.pta.installed&&i.hwpta.installed))},seed:"AQ_KEY_noPta"},{id:"J_ukeyInActive",rule:c,seed:"AQ_KEY_inActive"},{id:"J_ukeyChecking",rule:c,seed:"AQ_KEY_noKey",callback:function(e){var s=t("#J_ukeyNoKey, #J_ukeyNotFound, #J_ukeyFound, #J_ukeyValidating, #J_ukeyChecking"),o={type:"ukey",element:s,data:e,url:r,callback:a,preventDefaultReCheckSuccess:n};i.core.recheck(o)}},{id:"J_ukeyInLost",rule:c,seed:"AQ_KEY_cancel"},{id:"J_ukeyOverdue",rule:c,seed:"AQ_KEY_update"},{id:"J_ukeyException",rule:c,seed:""},{id:"J_publicException",rule:c,seed:""}],p=[{id:"J_thirdkeyOs",rule:c,seed:"AQ_UKEY_OSnotSupport"},{id:"J_thirdkeyBrowser",rule:c,seed:"AQ_UKEY_notSupport"},{id:"J_thirdkeyNoPta",rule:function(e,t){t(!i.pta.installed)},seed:"AQ_UKEY_noPta"},{id:"J_thirdkeyChecking",rule:c,seed:"AQ_UKEY_noKey",callback:function(e){var s=t("#J_thirdkeyNo, #J_thirdkeyNotFound, #J_thirdkeyFound, #J_thirdkeyValidating, #J_thirdkeyChecking"),o={type:"thirdkey",element:s,data:e,url:r,callback:a,preventDefaultReCheckSuccess:n};i.core.recheck(o)}},{id:"J_thirdkeyOverdue",rule:c,seed:"AQ_UKEY_update"},{id:"J_thirdkeyLogoff",rule:c,seed:"AQ_UKEY_cancel"},{id:"J_thirdkeyException",rule:c,seed:""},{id:"J_publicException",rule:c,seed:""}];i.core.block=function(s,c,h){r=s,a=c,n=h,o=t(".J-securitycoreMain").attr("data-system"),t("#J_scCheck").addClass("fn-hide"),t(".cert-section").length?u(d):t(".ukey-section").length?(u(l),t(".ukeyDownLink").attr("href",i.cdo.info.downloadUrl)):t(".thirdkey-section").length&&(u(p),t(".thirdkeyDownLink").attr("href",i.pta.info.downloadUrl)),t(".downLinkFirst").click(function(){var e=t(this).parent(".ui-tip");e.addClass("fn-hide"),t("#"+e.attr("id")+"Clicked").removeClass("fn-hide")}),i.page.processCertLink(t(".linkInXbox")),i.page.processExtensionLink(e.node(".install-extension-control")),i.page.processExtensionLink(e.node(".newCertControlDownloadLink")),new e.pop({targets:t(".showCertTip"),className:"ui-securitycore",width:340,direction:"down"}),"cashier"==o&&t(".J-securitycoreMain [seed]").each(function(e,i){i=t(i);var r=i.attr("seed");i.attr("seed",r+"_cashier")})}}(window.light,r.node,s.security)},function(e,t,i){"use strict";var r=i(2),s=i(1);!function(e,t,i){i.newProducts={Password:!0,riskTelephoneAccount:!0},i.prodConfig={"control.edit":"edit","control.npedit":"edit",rsainput:"edit",noedit:"edit",mobile:"mobile",ctuMobile:"ctuMobile",otp:"otp",cert:"cert",ukey:"ukey",thirdkey:"thirdkey",riskMobileBank:"riskMobileBank",riskMobileAccount:"riskMobileAccount",riskOriginalAccountMobile:"riskOriginalAccountMobile",riskOriginalSecurityQa:"riskOriginalSecurityQa",riskMobileCredit:"riskMobileCredit",riskCertificate:"riskCertificate",riskSecurityQa:"riskSecurityQa",riskExpressPrivacy:"riskExpressPrivacy",riskOneKeyConfirm:"riskOneKeyConfirm",riskSudoku:"riskSudoku",checkCode:"checkCode",rds:"rds",barcode:"barcode"},i.ajaxParams={cert:"cert",ukey:"ukey",thirdkey:"thirdkey",payment_password:"edit",risk_payment_password:"edit",risk_original_payment_password:"edit",query_password:"edit",operation_password:"edit",otp:"otp",mobileotp:"otp",ctu_mobile:"ctuMobile",mobile_replace:"mobile",mobile_free:"mobile",mobile_pay:"mobile",mobile_bank:"mobile",mobile_special_bank:"mobile",risk_mobile_bank:"riskMobileBank",risk_mobile_account:"riskMobileAccount",risk_original_account_mobile:"riskOriginalAccountMobile",risk_original_security_qa:"riskOriginalSecurityQa",risk_mobile_credit:"riskMobileCredit",risk_certificate:"riskCertificate",risk_security_qa:"riskSecurityQa",risk_express_privacy:"riskExpressPrivacy",risk_onekey_confirm:"riskOneKeyConfirm",risk_mobile_account_sudoku:"riskSudoku",risk_mobile_bank_sudoku:"riskSudoku",check_code:"checkCode",rds:"rds",barcode:"barcode"}}(window,r.page.ui.dialog,s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core")||function(e,t,i){function a(e){return"function"!=typeof e.__type}var o=function(){var t={form:null,loadingClass:"ui-form-status",validateUrl:"",reCheckUrl:"",beforeAjaxValidate:r.noop,afterAjaxValidate:r.noop,block:r.noop,reCheckSuccess:r.noop,stopSubmit:!1,validatedSuccess:null,beforeSubmit:null},n={bind:function(){r.on(document,"click keyup",function(e){var t=0;27==e.which?t=1:e.target&&e.target.className&&e.target.className.indexOf("xbox-close-link")!==-1&&(t=1,e.cancel()),t&&r.page.ui.closeDialog()});var e=function(e){e=r.node(e),e.val()||e.val(e.attr("placeholder")).addClass("ui-form-item-placeholder")},t=function(e){e.val()==e.attr("placeholder")&&e.val(""),e.removeClass("ui-form-item-placeholder")};r.node(".J-securitycoreMain [placeholder]").each(function(){e(r.node(this))}).click(function(){t(r.node(this))}).blur(function(){e(r.node(this))})},execute:function(){if(this.requestContext.stoped){s.security.snowden&&s.security.snowden.report();var e=this,t=this.scProducts,a=r.node(".J-securitycoreMain",this.form).attr("data-status");t.length&&!this.inited&&i.core.init.call(this,this.options);for(var n,c,u=0,d=t.length;u<d;u++)if(n=t[u],void 0!=(c=n._type)&&!o[c]&&!n.confirmed)return void("function"==typeof n.onTrySubmit&&n.onTrySubmit());this.requestContext.stoped=!1,this._q.clear(),r.each(this._products,function(t,i){e._q.add(function(t){i.execute(t,e.requestContext)})}),this._q.add(function(i){t.length?e.needAjaxValidate?e.ajaxValidate(i,e.requestContext.params):i():"true"!=a&&i()}),this._q.add(function(){e.formSuccess()}),this._q.invoke()}},ajaxValidate:function(e,t){if(this.validated)return void e();r.log("Begin ajax validat."),this.showLoadingBar(),this.options.beforeAjaxValidate();var i=this,s=this.options.validateUrl;r.packetRequest(s,{securityId:r.node(".J-securitycoreMain",this.form).attr("data-request"),orderId:r.node(".J-securitycoreMain",this.form).attr("data-orderId")},t,{success:function(t){i.ajaxValidateSucc(e,t)},abort:function(e){i.ajaxValidateFail(e)}})},overLimit:function(e,t){for(var i=e.split(","),s=0,a=i.length;s<a;s++)if("risk_validate_over_limit_times"==i[s]){var o=r.node(".J-securitycoreMain"),n=r.node("."+t+"-blockReason");if(n.length<=0&&(n=r.node("#blockReason")),o.children().hide(),n.appendTo(o),o.parent("form").length){var c=o.parent("form");c.children().hide(),c[0].insertBefore(o[0],c[0].firstChild),o.show()}o[0].insertBefore(n[0],o[0].firstChild),n.show(),o.show(),r.node(".loading-text").hide()}},updateRdsToken:function(t){t&&t.info&&t.info.rdsToken&&(window.form_tk=t.info.rdsToken,e.UA_Opt.setToken(window.form_tk),e.UA_Opt.reload())},ajaxValidateSucc:function(e,t){var i,s,a,n=t.info,c=!0,u=null;if(t.blockReason){var d="";if(n.product&&n.product.length)for(i=0,s=n.product.length;i<s;i++)if(a=n.product[i],a.overLimited){d=a.name;break}this.overLimit(t.blockReason,d)}else if(n.product&&n.product.length){for(i=0,s=n.product.length;i<s;i++){a=n.product[i];var l=o.ajaxParams[a.name];"ukey,thirdkey,cert".indexOf(l)>=0&&!a.validated?u=a:"checkCode"==l?this._products[l].afterValidate(a.validated,a.message):this._products[l].afterValidate(a.validated,a.message,a.validated),!a.validated&&(c=!1),r.log("%s validate %s",l,a.validated)}u&&this._products[u.name].afterValidate(u.validated,u.message,u.validated),c?(this.validated=!0,e()):this.stopSubmit(t)}else n.exception&&this.ajaxValidateFail(n.exception);this.updateRdsToken(t)},ajaxValidateFail:function(e){this.stopSubmit(),this._products.edit?this._products.edit.afterValidate(!1,e):alert(e)},stopSubmit:function(e){this.requestContext.stoped=!0,this.hideLoadingBar(),this.options.afterAjaxValidate(e)},showLoadingBar:function(){this.loading&&this.loading.removeClass("fn-hide")},hideLoadingBar:function(){this.loading&&this.loading.addClass("fn-hide")},formSuccess:function(){this.options.validatedSuccess&&this.options.validatedSuccess(),this.options.beforeSubmit&&this.options.beforeSubmit();var e,t=window.light.page.products;for(var i in t)e=t[i],e.__type&&"rsainput"==e.__type.Name&&(e.element.value="");this.options.stopSubmit||this.options.form.submit()},getStatus:function(){return window.um&&window.um.getStatus()},onSelfCheckConfirmed:function(){for(var e,t,i=this.scProducts,r=!0,s=0,n=i.length;s<n;s++){if(e=i[s],a(e)){if(t=e._type,!o[t]&&e.confirmed)continue;r=!1;break}if(t=e.__type.Name,"riskOneKeyConfirm"!==t&&"barcode"!==t||!e.getValue()){r=!1;break}}r&&this.formSuccess()}};return{init:function(e){if(!(this instanceof o.init))return new o.init(e);r.extend(this,n),this.inited=!1,this._products={},this.requestContext={stoped:!0,params:{}},this._q=new r.queue,this.validated=!1;var s,c=this;this.options=s=r.extend({},t,e),this.form=s.form;var u=r.node(".J-securitycoreMain",this.form),d=u.attr("data-status"),l=u.attr("data-server");u.attr("data-orderId");s.reCheckUrl=s.reCheckUrl?s.reCheckUrl:l+"/securityAjaxCertRecheck.json",s.validateUrl=s.validateUrl?s.validateUrl:l+"/securityAjaxValidate.json",this.loading=r.node("."+s.loadingClass,s.form);var p=this.scProducts=r.page.scProducts;if("true"==d)return i.core.block(s.reCheckUrl,s.reCheckSuccess,s.preventDefaultReCheckSuccess),s.block(),this;if(i.page.processExtensionLink(r.node(".install-extension-control")),this.barcodeOnly=1==this.scProducts.length&&this.scProducts[0].__type&&"barcode"==this.scProducts[0].__type.Name,this.needAjaxValidate=!0,p.length>0){for(var h,f,m=!1,y=0;y<p.length;y++)if(f=p[y],h="",a(f)?h=f._type:f.__type&&(h=f.__type.Name),"riskOneKeyConfirm"!==h&&"barcode"!==h&&"riskTelephoneAccount"!==h&&"riskQRCode"!==h){m=!0;break}this.needAjaxValidate=m}return r.each(this.scProducts,function(e,t){if(a(t)){var i=t._type;if(o[i])c._products[i]=new o[i](t),o.ajaxParams[t.options.prodType]=i;else{if("function"!=typeof t.onConfirm)throw new Error("Illegal product: "+i);t.onConfirm(function(){c.onSelfCheckConfirmed()})}}else{var r=o.prodConfig[t.__type.Name],s=this.options?this.options[r]:null;s&&s.skipChecking||(c._products[r]=o.base.create(o[r],t,s),"riskOneKeyConfirm"!==r&&"barcode"!==r||t.onConfirm(function(){c.onSelfCheckConfirmed()}))}}),this.needAjaxValidate||r.node(this.options.form).find("input[type=submit]").style({display:"none"}),i.core.visualTip(),n.bind(),r.page.scProducts=[],this.inited=!0,this}}}();r.register("alipay/security/core",e,o)}(window,r.page.ui.dialog,s.security)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/core/barcode")||function(e){var t=r.deriveFrom(e.base,{postInit:function(){var e=this;this.product.onready(function(){e.element=e.product.element,e.parent=e.element.parent("."+e.options.itemClass),e.msg=e.parent.find("."+e.options.notifyClass),e.defaultMsg=e.element.attr("data-explain")||"",e.bind()}),r.track("sc_"+this.product.__type.Name)},getValue:function(){var e=this;this.product.render(function(){e.value=this.getValue()})}});t.defaults={errorMsg:"\u8bf7\u626b\u63cf\u4e8c\u7ef4\u7801\u540e\uff0c\u518d\u63d0\u4ea4\u3002",rule:function(e){return e},paramName:"barcode"},e.barcode=t}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/base")||function(e,t,i){var s,a=[];s=i.base=function(e){if(e!==a)throw"invalid constructor, use create() instead."},s.defaults={errorMsg:"",rule:function(e){return!!r.trim(e).length},itemClass:"ui-form-item",notifyClass:"ui-form-explain",errorClass:"ui-form-item-error",successClass:"ui-form-item-success",focusClass:"ui-form-item-focus"},s.create=function(e,t,i){if(!e)throw"this security product not exist";var o=new e(a);return o.__type=e,e.defaults=r.extend({},s.defaults,e.defaults),o.options=r.extend({},e.defaults,i),o.product=t,o.postInit(),o},s.prototype={postInit:function(){this.element=r.node("#"+this.product.options.id),this.parent=this.element.parent("."+this.options.itemClass),this.msg=this.parent.find("."+this.options.notifyClass),this.defaultMsg=this.element.attr("data-explain")||"",this.bind(),r.track("sc_"+this.product.__type.Name)},bind:function(){var e=this;r.on(this.product.options.id,"focus",function(){e.afterValidate(!0)})},execute:function(e,t){this.getValue(t),this.validate()?e():t.stoped=!0},getValue:function(e){var t=this;this.product.render(function(){t.value=this.getValue(),e.params[t.options.paramName]=t.value})},validate:function(){var e=this.options.rule,t=r.node(this.product.element).attr("placeholder");return this.value==t&&(this.value=""),this.isValid=r.isFunction(e)?e(this.value):e.test(this.value),this.afterValidate(this.isValid),this.isValid},lock:function(e){e&&r.node(this.product.element).addClass("ui-input-unwrite").attr("disabled",!0)},afterValidate:function(e,t,i){var s=this.options;t=t||s.errorMsg,this.lock(i),e?(this.parent.removeClass(s.successClass).removeClass(s.errorClass),this.msg.html(this.defaultMsg)):(this.parent.removeClass(s.successClass).addClass(s.errorClass),this.msg.html(r.trim(t)))}}}(window,r.page.ui.dialog,s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/baseCert")||function(e,t,i,s){var a;s.baseCert=a=r.deriveFrom(s.base,{bind:r.noop,getValue:r.noop,validate:r.noop,lock:r.noop,postInit:function(){var e=r.node(".J-securitycoreTip")[0]||r.node(".edit-section")[0]||r.node(".cert-section, .ukey-section, .thirdkey-section")[0];this.parent=r.node("."+this.options.itemClass,e),this.msg=this.parent.find("."+this.options.notifyClass);var t=r.node(".J-checkResult",e)[0]||this.msg[0];this.defaultMsg=t.innerHTML,r.track("sc_"+this.product.__type.Name)},showMessage:function(e,t){var i=this.options.label,r="";"ukey"==this.product.__type.Name&&(r=', <a href="'+this.product.exeDownloadUrl+'">\u7acb\u5373\u5b89\u88c5</a>');var s=t?"\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+t.number:"",a={noPta:'\u60a8\u7684\u7535\u8111\u8fd8\u672a\u88c5\u63a7\u4ef6\uff0c\u8bf7<a href="'+this.product.__type.info.downloadUrl+'">\u7acb\u5373\u5b89\u88c5</a>\uff0c\u5b89\u88c5\u540e\u8bf7\u5237\u65b0\u6216\u91cd\u542f\u6d4f\u89c8\u5668\u3002',noKey:"\u6ca1\u6709\u68c0\u6d4b\u5230\u60a8\u7684"+i+"\uff0c\u8bf7\u63d2\u5165\u540e\u91cd\u8bd5\u6216\u8bf7\u5c1d\u8bd5\u5b89\u88c5\u9a71\u52a8"+r,keyError:i+"\u51fa\u73b0\u5f02\u5e38"+s};this.afterValidate(!1,a[e])}}),a.defaults={paramName:"signedData"},s.cert=r.deriveFrom(a,{execute:function(e,t){t.params[this.options.paramName]={singedData:"cert"},r.extend(t.params,{singedData:"cert"}),e()}}),s.cert.defaults=r.extend({},a.defaults,{label:"\u6570\u5b57\u8bc1\u4e66",paramName:"cert"}),s.ukey=r.deriveFrom(a,{execute:function(e,t){if(!this.product.__type.installed)return this.showMessage("noPta"),void(t.stoped=!0);var s=this;this.product.onready(function(){if(i.cdo.installed&&this.cmd){var a=this;this.handlers["*"]=function(e){s.showMessage.call(s,"keyError",e),t.stoped=!0},this.handlers[12004]=function(e){s.showMessage.call(s,"noKey",e),t.stoped=!0},this.execute(r.unescapeHTML(this.cmd),function(i){s.certCmdOutput=i.rawData,t.stoped||(s.certCmdOutput?(r.get(a.id).value=s.certSign,t.params[s.options.paramName]={certCmdOutput:s.certCmdOutput},r.extend(t.params,{certCmdOutput:s.certCmdOutput}),s.afterValidate(!0),e()):(s.showMessage("noKey"),t.stoped=!0))})}else{if(this.handlers["*"]=function(e){s.showMessage.call(s,"keyError",e),t.stoped=!0},this.handlers[-2147483135]=this.handlers[-2146434962]=function(){t.stoped=!0},s.certSign=this.sign(this.src,this.certSn,this.issuerDn,"",this.subjectCN),t.stoped)return;s.certSign?(r.get(this.id).value=s.certSign,t.params[s.options.paramName]={signedData:s.certSign},r.extend(t.params,{signedData:s.certSign}),s.afterValidate(!0),e()):(s.showMessage("noKey"),t.stoped=!0)}})}}),s.ukey.defaults=r.extend({},a.defaults,{label:"\u652f\u4ed8\u76fe",paramName:"ukey"}),s.thirdkey=r.deriveFrom(a,{execute:function(e,t){if(!this.product.__type.installed)return this.showMessage("noPta"),void(t.stoped=!0);var i=this;this.product.onready(function(){this.handlers["*"]=function(e){i.showMessage.call(i,"keyError",e),t.stoped=!0},this.handlers[-2147483135]=this.handlers[-2146434962]=function(){t.stoped=!0},i.certSign=this.sign(this.src,this.certSn,this.issuerDn,"",this.subjectCN),t.stoped||(i.certSign?(r.get(this.id).value=i.certSign,t.params[i.options.paramName]={signedData:i.certSign},r.extend(t.params,{signedData:i.certSign}),i.afterValidate(!0),e()):(i.showMessage("noKey"),t.stoped=!0))})}}),s.thirdkey.defaults=r.extend({},a.defaults,{label:"U\u76fe",paramName:"thirdkey"})}(window,r.page.ui.dialog,s.security,s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/core/checkCode")||function(e){var t=r.deriveFrom(e.base,{getValue:function(e){var t=this;this.product.render(function(){t.value=this.getValue(),e.params[t.options.paramName]=t.value,r.extend(e.params,t.value)})}});t.defaults={errorMsg:"\u8bf7\u6b63\u786e\u586b\u5199\u6821\u9a8c\u7801\u3002",rule:function(e){return/^[a-zA-Z0-9]{4}$/.test(e.check_code)},paramName:"checkcode"},e.checkCode=t}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/ctuMobile")||function(e,t){var i=r.deriveFrom(t.base,{execute:function(e,t){if(this.product.origin&&"credible"==this.product.origin&&!this.product.credibleValidate){var i=this.product.credibleMobile;return i.validateNum.call(i),void(t.stoped=!0)}this.getValue(t),this.validate()?e():t.stoped=!0},getValue:function(e){var t=this;this.product.render(function(){t.value=this.getValue(),e.params[t.options.paramName]=t.value,r.extend(e.params,t.value)})}});i.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(e){return/^\d{6}$/.test(e.mobileAckCode)},paramName:"ctu_mobile"},t.ctuMobile=i}(window,s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/edit")||function(e,t){var i;t.edit=i=r.deriveFrom(t.base,{postInit:function(){this.parent=r.node("#"+this.product.options.hidnId).parent("."+this.options.itemClass),this.msg=this.parent.find("."+this.options.notifyClass),this.defaultMsg=this.msg.html(),this.bind(),r.track("sc_"+this.product.__type.Name)},getValue:r.noop,execute:function(e,t){var i=this,a=this.parent.find("input[name=J_aliedit_key_hidn]")[0].value,o=this.parent.find("input[name=J_aliedit_uid_hidn]")[0].value,n=this.parent.find("input[name=J_aliedit_using]")[0].value,c=this.parent.find("input[name=J_aliedit_prod_type]")[0].value;return this.product.options.useExtension||"true"!=n||s.security.edit.installed||s.security.npedit.installed?void this.product.onready(function(){r.get(a).value=i.value=this.getPassword();var u=i.parent.find("input[name=_seaside_gogo_]"),d="";if("true"==n&&(d=this.getCi1(),u&&(!u.val()&&this.getCi1()&&u.val(this.getCi1()),d=u.val())),i.validate()){var l={J_aliedit_key_hidn:a,J_aliedit_uid_hidn:o,J_aliedit_using:n,netInfo:i.parent.find("input[name=J_aliedit_net_info]").val(),_seaside_gogo_:"true"==n?d:"",security_activeX_enabled:s.security.activeXEnabled};l[a]=i.value,l[o]=r.get(o).value;var p;"function"==typeof this.getKeySeq&&null!==(p=this.getKeySeq())&&(l.ks=p),i.ajaxData=r.extend({},l),i.ajaxData.ks="",i.ajaxData.netInfo="",i.ajaxData[c]=r.extend({},l),t.params=r.extend(t.params,i.ajaxData),e()}t.stoped=!0}):(s.security.edit.detect(),void(t.stoped=!0))},lock:r.noop,afterValidate:function(e,t,i){var s=this.parent.find("input[name=J_aliedit_prod_type]")[0].value,a=this.options;t=t||a.errorMsg[s],this.lock(i),e?(this.parent.removeClass(a.successClass).removeClass(a.errorClass),this.msg.html(this.defaultMsg)):(this.parent.removeClass(a.successClass).addClass(a.errorClass),this.msg.html(r.trim(t)))}}),i.defaults={errorMsg:{payment_password:"\u8bf7\u586b\u5199\u652f\u4ed8\u5bc6\u7801\u3002",query_password:"\u8bf7\u586b\u5199\u767b\u5f55\u5bc6\u7801\u3002",operation_password:"\u8bf7\u586b\u5199\u64cd\u4f5c\u5bc6\u7801\u3002",risk_original_payment_password:"\u8bf7\u586b\u5199\u652f\u4ed8\u5bc6\u7801\u3002",risk_payment_password:"\u8bf7\u586b\u5199\u652f\u4ed8\u5bc6\u7801\u3002"}}}(window,s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/mobile")||function(e,t){var i=r.deriveFrom(t.base,{execute:function(e,t){if(this.product.origin&&"credible"==this.product.origin&&!this.product.credibleValidate){var i=this.product.credibleMobile;return i.validateNum.call(i),void(t.stoped=!0)}this.getValue(t),this.validate()?e():t.stoped=!0},getValue:function(e){var t=this;this.product.render(function(){t.value=this.getValue(),e.params[t.options.paramName]=t.value,e.params.mobileAckCode=t.value.mobileAckCode})}});i.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(e){return/^\d{6}$/.test(e.mobileAckCode)}},t.mobile=i}(window,s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/core/otp")||function(e){var t=r.deriveFrom(e.base,{getValue:function(e){var t=this;this.product.render(function(){t.value=this.getValue(),e.params[t.options.paramName]=t.value,r.extend(e.params,t.value)})}});t.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(e){return/^\d{6}$/.test(e.otpPassword)},paramName:"otp"},e.otp=t}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);!function(e){function t(e){this.product=e,this.parent=r.node("#"+e.options.id).parent("."+this.options.itemClass),this.msg=this.parent.find("."+this.options.notifyClass);var t=this;e.onReady(function(){this.gettable&&this.sensor.collectInfo(),this.renderer.input&&r.on(this.renderer.input.options.id,"focus",function(){t.afterValidate(!0)})})}t.prototype={product:null,options:{itemClass:"ui-form-item",notifyClass:"ui-form-explain",errorClass:"ui-form-item-error",successClass:"ui-form-item-success",focusClass:"ui-form-item-focus"},errorMsg:{payment_password:"\u8bf7\u586b\u5199\u652f\u4ed8\u5bc6\u7801\u3002",query_password:"\u8bf7\u586b\u5199\u767b\u5f55\u5bc6\u7801\u3002",operation_password:"\u8bf7\u586b\u5199\u64cd\u4f5c\u5bc6\u7801\u3002",risk_original_payment_password:"\u8bf7\u586b\u5199\u652f\u4ed8\u5bc6\u7801\u3002",risk_payment_password:"\u8bf7\u586b\u5199\u652f\u4ed8\u5bc6\u7801\u3002"},execute:function(e,t){var i=this.product,s=this;i.onReady(function(){if(!this.renderable)return this.renderer.showInstallDialog(),void(t.stoped=!0);var i=this.getPassword();if(i){var a=s.parent.find("input[name=J_aliedit_key_hidn]")[0].value,o=s.parent.find("input[name=J_aliedit_uid_hidn]")[0].value,n=s.parent.find("input[name=J_aliedit_prod_type]")[0].value,c={J_aliedit_key_hidn:a,J_aliedit_uid_hidn:o,J_aliedit_using:!0};c[a]=i,c[o]=r.get(o).value,this.renderer.input&&this.renderer.input.options.useKS&&(c.ks=this.renderer.input.getKeySeq());try{new window.ActiveXObject("htmlfile"),c.security_activeX_enabled=!0}catch(u){c.security_activeX_enabled=!1}this.gettable?this.sensor.onCollectComplete(function(i,r){i||(c.netinfo=r.netinfo||"",c._seaside_gogo_=r.ci1||""),t.params[n]=c,e()}):(t.params[n]=c,e())}else s.afterValidate(!1),t.stoped=!0})},afterValidate:function(e,t){var i=this.options;t=t||this.errorMsg[this.product.options.prodType],e?(this.parent.removeClass(i.successClass).removeClass(i.errorClass),this.msg.html(this.defaultMsg)):(this.parent.removeClass(i.successClass).addClass(i.errorClass),this.msg.html(r.trim(t)))}},e.Password=t}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/core/rds")||function(e){var t=r.deriveFrom(e.base,{afterValidate:function(){}});t.defaults={paramName:"rds",rule:function(){return!0}},e.rds=t}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/core/riskCertificate")||function(e){var t=r.deriveFrom(e.base,{});t.defaults={errorMsg:"\u8bf7\u586b\u5199\u8bc1\u4ef6\u7684\u6700\u540e6\u4f4d\u3002",rule:function(e){return/^.{6}$/.test(e.inputCertificateNo)},paramName:"risk_certificate"},e.riskCertificate=t}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/riskExpressPrivacy")||function(e){var t;e.baseRiskExpressPrivacy=t=r.deriveFrom(e.base,{errorMsg:"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u94f6\u884c\u5361\u53f7\u3002",rule:function(e){return/^\d{1,30}$/.test(e)},paramName:"risk_express_privacy",validate:function(){var e=this.rule,t=r.node(this.element),i=t.attr("placeholder");return this.value=t.val().replace(/\D/g,""),this.value==i&&(this.value=""),this.isValid=r.isFunction(e)?e(this.value):e.test(this.value),this.afterValidate(this.isValid,this.errorMsg),this.isValid},execute:function(e,t){if(this.validate()||(t.stoped=!0),!t.stoped){var i=this;this.product.queryValue(function(r){r.message?i.afterValidate(!1,r.message):(t.params[i.paramName]=r,i.afterValidate(!0),e())})}}}),e.riskExpressPrivacy=r.deriveFrom(t,{})}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/riskMobileAccount")||function(e,t){var i=r.deriveFrom(t.base,{execute:function(e,t){this.getValue(t),this.validate()?e():t.stoped=!0}});i.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(e){return/\d{6}/.test(e.mobileAckCode)},paramName:"risk_mobile_account"},t.riskMobileAccount=i}(window,s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/riskMobileBank")||function(e,t){var i=r.deriveFrom(t.base,{execute:function(e,t){this.getValue(t),this.validate()?e():t.stoped=!0}});i.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(e){return/\d{6}/.test(e.mobileAckCode)},paramName:"risk_mobile_bank"},t.riskMobileBank=i}(window,s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/riskMobileCredit")||function(e,t){var i=r.deriveFrom(t.base,{execute:function(e,t){this.getValue(t),this.validate()?e():t.stoped=!0}});i.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(e){return/\d{6}/.test(e.mobileAckCode)},paramName:"risk_mobile_credit"},t.riskMobileCredit=i}(window,s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/core/riskOneKeyConfirm")||function(e){var t=r.deriveFrom(e.base,{postInit:function(){var e=this;this.product.onready(function(){e.element=e.product.element,e.parent=e.element.parent(),e.msg=e.parent.find("."+e.options.notifyClass),e.defaultMsg=e.element.attr("data-explain")||"",e.bind()}),r.track("sc_"+this.product.__type.Name)},getValue:function(){var e=this;this.product.render(function(){e.value=this.getValue()})}});t.defaults={errorMsg:"\u8bf7\u5148\u5728\u652f\u4ed8\u5b9d\u94b1\u5305\u786e\u8ba4\u540e\u518d\u63d0\u4ea4\u3002",rule:function(e){return e},paramName:"risk-onekey-confirm"},e.riskOneKeyConfirm=t}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/riskOriginalAccountMobile")||function(e,t){var i=r.deriveFrom(t.base,{execute:function(e,t){this.getValue(t),this.validate()?e():t.stoped=!0}});i.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(e){return/\d{6}/.test(e.mobileAckCode)},paramName:"risk_original_account_mobile"},t.riskOriginalAccountMobile=i}(window,s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/core/riskOriginalSecurityQa")||function(e){var t=r.deriveFrom(e.base,{});t.defaults={errorMsg:"\u8bf7\u586b\u5199\u7b54\u6848\u3002",rule:function(e){return/\S+/.test(e.securityAnswer)},paramName:"risk_original_security_qa"},e.riskOriginalSecurityQa=t}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/core/riskSecurityQa")||function(e){var t=r.deriveFrom(e.base,{});t.defaults={errorMsg:"\u8bf7\u586b\u5199\u7b54\u6848\u3002",rule:function(e){return/\S+/.test(e.securityAnswer)},paramName:"risk_security_qa"},e.riskSecurityQa=t}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/core/riskSudoku")||function(e){var t=r.deriveFrom(e.base,{postInit:function(){var e=this;this.product.onready(function(){e.element=e.product.element,e.parent=e.element.parent("."+e.options.itemClass),e.msg=e.parent.find("."+e.options.notifyClass),e.defaultMsg=e.element.attr("data-explain")||"",e.bind()}),r.track("sc_"+this.product.__type.Name)},getValue:function(e){var t=this;this.product.render(function(){t.value=this.getValue();var i=[],s=this.letters;r.each(t.value.split(""),function(e,t){i.push(s[t])}),e.params[this.options.paramName]={index:i}})},bind:function(){var e=this,t=r.node("table tr td a",this.product.keyboard);r.each(t,function(t,i){r.on(i,"click",function(t){t.cancel(),e.afterValidate(!0)})})},afterValidate:function(e,t,i){var s=this.options;t=t||s.errorMsg;var a=this.element.parent(".input-container"),o=a.find("."+this.options.notifyClass);this.lock(i),e?(a.removeClass(s.successClass).removeClass(s.errorClass),o.html(this.defaultMsg)):(a.removeClass(s.successClass).addClass(s.errorClass),o.html(r.trim(t)))}});t.defaults={errorMsg:"\u8bf7\u70b9\u51fb\u5de6\u4fa7\u8f93\u5165\u6821\u9a8c\u7801\u3002",rule:function(e){return!!e}},e.riskSudoku=t}(s.security.core)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/page")||function(e,t,i){i.page={},
i.page.processCertLink=function(t){if(t.length)try{if(window.frameElement)t.attr("data-href")&&t.attr("href",t.attr("data-href")),t.attr("target","_blank");else for(var i=0,r=t.length;i<r;i++){var s=t[i];e.page.ui.dialog({type:"page",trigger:s,width:612,content:s.href,autoShow:!1})}}catch(a){t.attr("data-href")&&t.attr("href",t.attr("data-href")),t.attr("target","_blank")}},i.page.processExtensionLink=function(t){var i=!1,r=document;try{window.top.document.body&&(r=window.top.document)}catch(s){i=!0}t=e.node(t);for(var a=0,o=t.length;a<o;a++){var n=t[a];e.on(n,"click",function(t){t.cancel(),i?window.open(t.target.href,"_blank"):new e.dialog({targetFrame:r,iframeSrc:t.target.getAttribute("data-xbox-href"),title:t.target.getAttribute("data-xbox-title"),onHide:"true"==t.target.getAttribute("data-xbox-hide-refresh")?function(){document.location.reload()}:function(){}}).show()})}}}(window.light,r.node,s.security)},function(module,exports,__webpack_require__){"use strict";var light=__webpack_require__(2),alipay=__webpack_require__(1);light.has("/alipay/security/core/recheck")||function(light,N,security){security.core.certCheck=function(e,t){function i(){var e=security.debug("security-core:recheck");e("cert recheck\u65b0\u6a21\u5f0f\u5f00\u59cb\u68c0\u6d4b\u8bc1\u4e66");var i=new alipay.security.Cert({dataAccessPolicy:alipay.security.certDataAccessPolicy,websocketPorts:alipay.security.websocketPorts,timeout:alipay.security.controlCheckTimeout,sid:alipay.security.sid});i.execute(light.unescapeHTML(r.attr("data-cmd")),function(i,r){return alipay.security.snowden&&alipay.security.snowden.report(),i?(e("\u6ca1\u6709\u68c0\u6d4b\u5230\u6570\u5b57\u8bc1\u4e66\uff1a["+i.code+"]"+i.message),t({certCmdOutput:""})):(e("\u68c0\u6d4b\u5230\u6570\u5b57\u8bc1\u4e66\uff1a"+r.rawData),void t({certCmdOutput:r.rawData}))})}var r=e.data,s="",a=function(){security.cdo.handlers["*"]=security.cdo.handlers[12004]=function(){t({certCmdOutput:""})},security.create(security.cdo).render(function(){this.execute(light.unescapeHTML(r.attr("data-cmd")),function(e){t({certCmdOutput:e.rawData})})})},o=function(){security.create(security.pta).render(function(){for(var e=r.attr("data-sn").split("&"),i=0,a=e.length;i<a;i++)if(s=this.sign(r.attr("data-random"),e[i],r.attr("data-issuer")))return void t({signedData:s});t({signedData:""})})},n=function(){var e=security.utils.chromeExtension;e.execute({command:"cert",input:light.unescapeHTML(r.attr("data-cmd"))},function(e){t(e&&e.cert?{certCmdOutput:e.cert}:{certCmdOutput:""})})},c=function(){security.create(security.pta).render(function(){s=this.sign(r.attr("data-random"),r.attr("data-sn"),r.attr("data-issuer"),"",r.attr("data-subject")),s?t({signedData:s}):t()})},u=function(){security.cdo.handlers["*"]=security.cdo.handlers[12004]=function(){t()},security.create(security.cdo).render(function(){this.execute(light.unescapeHTML(r.attr("data-cmd")),function(e){t({certCmdOutput:e.rawData})})})};if("cert"==e.type){if(alipay.security.hasBrowserControlPolicy)return i();e.extensionEnabled?n():security.cdo.installed?a():security.pta.installed?o():t({})}else"ukey"==e.type?security.cdo.installed&&light.unescapeHTML(r.attr("data-cmd"))?u():security.pta.installed&&light.client.info.engine.trident&&c():"thirdkey"==e.type&&light.client.info.engine.trident&&security.pta.installed&&c()},security.core.recheck=function(opt){var show=function(e){opt.element.addClass("fn-hide"),opt.element.item(e).removeClass("fn-hide")},check=function(){timer&&clearTimeout(timer),show(4),security.core.certCheck(opt,function(e){"undefined"!=typeof e?(show(3),light.packetRequest(opt.url,{securityId:N(".J-securitycoreMain").attr("data-request")},e,{success:done,abort:notFound})):notFound()})},notFound=function(){timer&&clearTimeout(timer),timer=setTimeout(function(){show(1),"ukey"!=opt.type&&"thirdkey"!=opt.type||(timer=setTimeout(check,5e3))},800)},done=function done(rsp){var info=rsp.info,msg=info.message;if(timer&&clearTimeout(timer),light.log(msg),"block"==msg||"success"==msg){if("block"==msg||"success"==msg&&!opt.preventDefaultReCheckSuccess){var newcore=document.createElement("div"),oldcore=N(".J-securitycoreMain"),oldtip=N(".J-securitycoreTip");newcore.innerHTML=info.html,oldcore.parent()[0].insertBefore(N(".J-securitycoreMain",newcore)[0],oldcore[0]),oldtip.length&&oldtip.parent()[0].insertBefore(N(".J-securitycoreTip",newcore)[0],oldtip[0]),oldcore.del(),oldtip.length&&oldtip.del(),light.each(N("script",N(".J-securitycoreMain")),function(){eval(this.text)})}"block"==msg?security.core.block(opt.url,opt.callback):"success"==msg&&(N(".ui-securitycore").removeClass("fn-hide"),security.core.visualTip(),opt.callback&&opt.callback())}else notFound()},timer=setTimeout(check,100);N(".J_reCheck").click(function(e){e.cancel(),check(e)}),opt.element.item(1).mouseover(function(e){e&&timer&&clearTimeout(timer)}).mouseout(function(){timer=setTimeout(check,4e3)})}}(window.light,light.node,alipay.security)},function(e,t,i){"use strict";var r=i(2),s=i(1);r.has("/alipay/security/core/visualTip")||function(e,t,i){i.core.visualTip=function(){setTimeout(function(){if(r.node(".J-securitycoreTip").length){var e=r.node(".J-securitycoreTip"),a=r.node(".J-checkResult",e),o=a.html(),n="ui-form-item-"+(a.attr("data-status")||"success");r.node(".ui-form-item",e).removeClass("ui-form-item-loading").addClass(n);var c=function(s){r.node(".ui-form-explain",e).html(s),i.page.processCertLink(t(".linkInXbox")),i.page.processExtensionLink(r.node(".install-extension-control")),i.page.processExtensionLink(t(".newCertControlDownloadLink"))};if(r.node(".J-security-cert-is-not-use").length){if(s.security.hasBrowserControlPolicy){var u=i.debug("security-core:visualTip");u("\u5f00\u59cb\u68c0\u6d4b\u662f\u5426\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\uff0c\u4f7f\u7528\u7b56\u7565\uff1a"+s.security.certDataAccessPolicy+"\uff0c\u4f7f\u7528websocketPorts: "+s.security.websocketPorts+"\uff0c\u8d85\u65f6\u65f6\u95f4\uff1a"+s.security.controlCheckTimeout);var d=new s.security.Cert({dataAccessPolicy:s.security.certDataAccessPolicy,websocketPorts:s.security.websocketPorts,timeout:s.security.controlCheckTimeout,sid:s.security.sid});d.detect(function(e){if(e){u("\u6ca1\u6709\u68c0\u6d4b\u5230\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\uff0cvisualTip\u63d0\u793a\u5b89\u88c5\u63a7\u4ef6\uff1a["+e.code+"]"+e.message);var t=i.newCertControlDownloadAddress;o='\u5c1a\u672a\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b9d\u4ee4\u8fdb\u884c\u6821\u9a8c \u6216 <a href="'+t+'" class="newCertControlDownloadLink" seed="AQ_CA_noPtaClick" target="_blank" data-xbox-href="'+t+'&_xbox=true&title=false"  data-xbox-title="\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\u63d0\u793a">\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6</a>\u3002'}else u("\u68c0\u6d4b\u5230\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\uff0cvisualTip\u4e0d\u63d0\u793a\u5b89\u88c5\u63a7\u4ef6");c(o)})}else if(!i.pta.installed&&!i.cdo.installed){var l=i.securityCenterServer+"/cert/downLoadCtrl.htm",p=i.securityCenterServer+"/cert/manage.htm",h=i.securityCenterServer+"/sc/chrome/extensionInstallDialogCert.htm",f=e.attr("data-link-in-xbox"),m="true"==r.node(".J-securitycoreMain").attr("data-extension");o=m?'\u5c1a\u672a\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b9d\u4ee4\u8fdb\u884c\u6821\u9a8c \u6216 <a href="'+h+'" class="install-extension-control" seed="AQ_CA_noPtaClick" target="_blank" data-href="'+h+'?_xbox=true" data-xbox-title="\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\u63d0\u793a">\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6</a>\u3002':'\u5c1a\u672a\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b9d\u4ee4\u8fdb\u884c\u6821\u9a8c \u6216 <a href="'+(f?l:p)+'" class="'+f+'" seed="AQ_CA_noPtaClick" target="_blank" data-href="'+p+'">\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6</a>\u3002',c(o)}}else c(o)}},2e3)}}(window.light,r.node,s.security)}]);