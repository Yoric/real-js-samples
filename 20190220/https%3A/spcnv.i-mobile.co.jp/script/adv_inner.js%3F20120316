var IMobile;!function(r){var e;!function(r){var e;!function(r){function e(){if(!r.whetherSubject)return!1;if(!s)return console.log("tryWriteQueryParamToCookie called. But not support environment."),!1;var e=window.top.window,n=t(e.location.search);if(null!=n.sid&&null!=n.rid&&null!=n.xid&&e.navigator.cookieEnabled){var a=i(e.document.cookie);return a.xid=n.xid,a.rids[""+n.sid]=n.rid,o(f,JSON.stringify(a),e)}return!1}function n(e){var n="";if(!r.whetherSubject)return n;if(!s)return console.log("tryWriteQueryParamToCookie called. But not support environment."),n;var t=window.top.window;if(!t.navigator.cookieEnabled)return n;var o=i(t.document.cookie);return JSON.stringify({xid:o.xid.length>0?o.xid:null,rid:o.rids[""+e]||null,sid:e})}function t(e){for(var n={},t=e.substr(1).split("&"),i=0,o=t.length;o>i;i++){var a=t[i].split("="),u=decodeURIComponent(a[0]),d=decodeURIComponent(a[1]);n[u]=d}var l={xid:null,rid:null,sid:null};if(void 0==n[r.QUERY_KEY])return l;try{return JSON.parse(n[r.QUERY_KEY])}catch(c){return l}}function i(r){function e(r){try{return JSON.parse(r)}catch(e){return console.log("JSON.parse failed."),n}}for(var n={xid:"",rids:{}},t=new RegExp(encodeURIComponent(f)+"=.+$"),i=r.split(";"),o=0,a=i.length;a>o;o++)if(t.test(i[o])){var u=i[o].split("=");return e(decodeURIComponent(u[1]))}return n}function o(r,e,n){if(void 0===n&&(n=window),!n.navigator.cookieEnabled)return!1;var t=new Date;t.setFullYear(t.getFullYear()+1);var i=a(document.domain);try{var o=encodeURIComponent;return n.document.cookie=o(r)+"="+o(e)+"; expires="+t.toUTCString()+"; domain="+i+"; path=/",!0}catch(o){return console.log("trySetCookie called. But write to cookie action failed."),!1}}function a(r){return/^[0-9a-z\-_]{1,20}\.[0-9a-z\-_]{3,50}\.[a-z]{2,10}(\.[a-z]{2,10})?$/.test(r)?r.substr(r.indexOf(".")+1):r}var u=navigator.userAgent,d=/^Mozilla.*(iPhone|iPad|iPod).*AppleWebKit.*Version.*Mobile.*Safari.*$/i.test(u),l=/^Mozilla.*Macintosh.*AppleWebKit.*Version.*Safari.*$/i.test(u),c=function(){if(!d&&!l)return{major:0,minor:0,batch:0};var r=/OS\s(?:X\s)?(\d+)_(\d+)_?(\d+)?/i.exec(u);return{major:parseInt(r[1],10),minor:parseInt(r[2],10),batch:void 0!=r[3]?parseInt(r[3],10):0}}();r.whetherSubject=d&&c.major>=11||l&&c.major>=10&&c.minor>=13;var s=function(){if(window===window.top)return!0;if(window.inDapIF)return!0;try{return window.top.window.document,!0}catch(r){return!1}}();r.QUERY_KEY="_imclid";var f="_imstore";r.tryWriteQueryParamToCookie=e,r.getLinkParamerterOrDefault=n,r.parseQueryParamOrDefault=t}(e=r.Linker||(r.Linker={}))}(e=r.Utils||(r.Utils={}))}(IMobile||(IMobile={})),!function(){IMobile.Utils.Linker.tryWriteQueryParamToCookie();var adv_sid,adv_cq,targ_wait;try{adv_sid=imobile_adv_sid}catch(e){adv_sid=null}try{adv_cq=imobile_adv_cq}catch(e){adv_cq=null}try{targ_wait=imobile_tg_wait}catch(e){targ_wait=null}if(adv_sid&&window.SPDemographic)try{null!=targ_wait&&0==isNaN(targ_wait)?SPDemographic.createGateway().executeAdVisit(adv_sid,adv_cq,targ_wait):SPDemographic.createGateway().executeAdVisit(adv_sid,adv_cq,0)}catch(ex){}}();