$j(document).on("customVoteEvent",function(t,n){var e,a=parseInt($j(".votes-count-container").find(".votesUp").text()),r=parseInt($j(".votes-count-container").find(".votesDown").text());1==n?a++:-1==n&&r++,2==n?(a++,r>0&&r--):-2==n&&(r++,a>0&&a--),e=0==a?0:parseInt(a/(a+r)*100),$j(".votes-count-container").find(".percent").text(e+"%"),$j(".rating-bar-container").find(".bar-thumbs-up").width(parseInt(e)+"%"),$j(".rating-bar-container").find(".bar-thumbs-down").width(100-parseInt(e)+"%")}),$j(document).on("customVotePercent",function(t,n){var e=$j(".votes-count-container").find(".votesUp").text(),a=$j(".votes-count-container").find(".votesDown").text();e=e.trim(),a=a.trim();var r=e.slice(-1),o=a.slice(-1);"k"!=r&&"K"!=r||(e=1e3*e.substring(0,e.length-1)),"k"!=o&&"K"!=o||(a=1e3*a.substring(0,a.length-1)),e=parseInt(e),a=parseInt(a),1===n?($j(".js-voteDown").hasClass("active")&&0!==a&&a--,e++):($j(".js-voteUp").hasClass("active")&&0!==e&&e--,a++),$j(".votesUp").html(e),$j(".votesDown").html(a);var s=parseInt(e/(e+a)*100);$j(".votes-count-container").find(".percent").text(s+"%"),$j(".rating-bar-container").find(".bar-thumbs-up").width(parseInt(s)+"%"),$j(".rating-bar-container").find(".bar-thumbs-down").width(100-parseInt(s)+"%"),(e>0||a>0)&&$j(".rating-bar-container").find(".bar-no-votes").removeClass("bar-no-votes").addClass("bar-thumbs-down").width(100-parseInt(s)+"%").parent().find(".bar-thumbs-up").width(parseInt(s)+"%")});