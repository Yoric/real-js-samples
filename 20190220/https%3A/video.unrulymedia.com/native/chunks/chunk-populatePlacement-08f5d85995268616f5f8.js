(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{35:function(e,t,n){e.exports=n.p+"images/unmiss-sound-button-muted-e74d67a0c85c3548f07d7564782a269c.svg"},38:function(e,t,n){e.exports=n.p+"images/vv-soundoff-2x-cada8dcd42784b4d172eb8b6bd28e9c3.png"},39:function(e,t,n){e.exports=n.p+"images/vv-soundon-2x-c5298244f1d7e90497f7eac6b33f56e2.png"},40:function(e,t,n){e.exports=n.p+"images/unmiss-close-button-dc13fd35130ef93fcd271ef2cd1f1739.svg"},41:function(e,t,n){e.exports=n.p+"images/unmiss-sound-button-unmuted-6218a79835f5e0b587f6da135b41b5da.svg"},42:function(e,t,n){e.exports=n.p+"images/in-art-close-icon-128x128-16481b937f87b244a645cdbef0d930f8.png"},43:function(e,t,n){e.exports=n.p+"images/in-art-soundon-icon-128x128-e5ac702b1980b321f96db67540a21dcf.png"},45:function(e){e.exports={231999:!0,237200:!0,237249:!0,237250:!0,237251:!0,237252:!0,237253:!0,237254:!0,237255:!0,237256:!0,237257:!0,237258:!0,237259:!0,237260:!0,237261:!0}},48:function(e,t,n){"use strict";n.r(t);var r={};n.r(r);n.d(r,"init",function(){return Hr});n.d(r,"log",function(){return zr});var i=n(7),o=n(2),a=n(0),u=n(31),c=n(27);var l=["onAdLoaded","onAdDismissed"];function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l).reduce(function(t,n){var r=e(n);return r?Object.assign(t,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},n,r)):t},{})}var d=n(17),p=n(6),f=n(22),v=function(e){return new Promise(function(t){e.addEventListener("scroll",function n(){e.removeEventListener("scroll",n);t()})})},h=n(18),g=n(8),m={create:function(e){return Object(g.a)(e)}};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){try{return e&&"object"===y(e)?JSON.stringify(e):e}catch(e){}return e}var E=n(1);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){n.push(a.value);if(t&&n.length===t)break}}catch(e){i=!0;o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=function(e){return e&&"VastError"===e.name},P=[[E.a.error.NO_ADS,function(e){return A(e)&&303===e.code}],[E.a.error.NO_COMPATIBLE_MEDIA_FILE_FOUND,function(e){return A(e)&&403===e.code}]];function k(e,t){return"AdError"===e?P.reduce(function(e,n){var r=w(n,2),i=r[0];return(0,r[1])(t)?i:e},E.a.error.AD_ERROR):E.a.error.ERROR}var O=n(9),S=function(e){return"string"==typeof e},_=function(e){if(!e)return!1;var t=e.type,n=e.delivery,r=e.url;return"video/mp4"===t&&"progressive"===n&&S(r)},C=function(e){if(!e)return!1;var t=e.type,n=e.url;return"application/javascript"===t&&function(e){return"VPAID"===e.apiFramework}(e)&&S(n)},T=function(e,t){return e.bitrate>t.bitrate||void 0===e.bitrate?1:e.bitrate<t.bitrate||void 0===t.bitrate?-1:0},x=function(e){return e?e.filter(_).sort(T)[0]:void 0},I=function(e){return e?e.filter(C)[0]:void 0},R=function(e){if(!e)return 16/9;var t=parseInt(e.width,10),n=parseInt(e.height,10);return t&&n?t/n:16/9},j=n(12),L=n(11),D=n(3),M=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:D.b)();return e&&"string"==typeof e.disclosureMessage?e.disclosureMessage:"ADVERTISEMENT"},V=n(23),N=n(21);function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a,n=t.open(e,"_blank");n||((n=t.open("","_blank")).location.href=e);n&&(n.opener=null)}var F=n(28),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){return--t>=0&&e.apply(void 0,arguments)}};function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.e;e.addEventListener("player.pp_completed_view",B(function(){t(E.a.COMPLETED_VIEW)}));e.addEventListener("player.ended",B(function(){t(E.a.COMPLETE)}));e.addEventListener("player.playing",B(function(){t(E.a.IMP);t(E.a.START)}));e.addEventListener("player.firstQuartile",B(function(){t(E.a.FIRST_QUARTILE)}));e.addEventListener("player.midpoint",B(function(){t(E.a.MIDPOINT)}));e.addEventListener("player.thirdQuartile",B(function(){t(E.a.THIRD_QUARTILE)}));e.addEventListener("player.AdClickThru",function(){t(E.a.VIDEO_CLICK)})}function W(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var z=function(){var e;return W(e={},window.MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED,E.a.error.MEDIA_ERR_SRC_NOT_SUPPORTED),W(e,window.MediaError.MEDIA_ERR_ABORTED,E.a.error.MEDIA_ERR_ABORTED),W(e,window.MediaError.MEDIA_ERR_NETWORK,E.a.error.MEDIA_ERR_NETWORK),W(e,window.MediaError.MEDIA_ERR_DECODE,E.a.error.MEDIA_ERR_DECODE),e};function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a,n=!1,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:z)();["timeupdate","firstQuartile","midpoint","thirdQuartile","ended","AdClickThru","readytoplay"].forEach(function(n){e.dispatcher.addEventListener(n,function(r,i){t.dispatchEvent({type:"player."+n,target:e},i)})});e.dispatcher.addEventListener("playing",function(){t.dispatchEvent({type:"player.playing",target:e});if(n){t.dispatchEvent({type:"player.resume",target:e});n=!1}});e.dispatcher.addEventListener("pause",function(){t.dispatchEvent({type:"player.pause",target:e});n=!0});e.dispatcher.addEventListener("error",function(n){var i=new o.a(n.message,n.errorType);i.src=n.mediaFileUrl;if(n.originalEvent&&n.originalEvent.target){n.originalEvent.target.error&&n.originalEvent.target.error.code&&(i.errorType=r[n.originalEvent.target.error.code]);if(n.originalEvent.target.src){i.message="Unable to play file "+n.originalEvent.target.src;i.src=n.originalEvent.target.src}}t.dispatchEvent({type:"player.error",target:e},[i])})}var Q=n(29),Z=function(e){return e&&e.jquery?e[0]:e},J=n(26);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}var G=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.viewabilityEventDispatcher=t;this.globalEventBus=n;this.playerHasStartedPlaying=!1}!function(e,t,n){t&&q(e.prototype,t);n&&q(e,n)}(e,[{key:"startTracking",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.c,t=this;this.viewabilityEventDispatcher.addEventListener("inview",function(){t.playerHasStartedPlaying&&e(E.a.INVIEW)});this.viewabilityEventDispatcher.addEventListener("outofview",function(){t.playerHasStartedPlaying&&e(E.a.OUTOFVIEW)});this.globalEventBus.addEventListener("player.playing",function(){t.playerHasStartedPlaying=!0});this.globalEventBus.addEventListener("player.ended",function(){t.playerHasStartedPlaying=!1})}}]);return e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}var Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.dispatcher=new t(this);this.viewabilityTracker=new n(this.dispatcher);this.viewabilityTracker.startTracking()}!function(e,t,n){t&&X(e.prototype,t);n&&X(e,n)}(e,[{key:"onShow",value:function(){this.dispatcher.dispatchEvent("inview")}},{key:"onHide",value:function(){this.dispatcher.dispatchEvent("outofview")}}]);return e}();function $(e,t,n){var r,i,o,a,u,c,l=function(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.pageYOffset,left:n.left+t.pageXOffset}}(e,n),s=n.pageYOffset,d=n.pageXOffset;if(!(o=n.document.documentElement,a=e,o!==a&&o.contains(a)))return!1;r={left:l.left,top:l.top,right:l.left+e.offsetWidth,bottom:l.top+e.offsetHeight};i={top:s,bottom:s+n.innerHeight,left:d,right:d+n.innerWidth};return(u=r,c=i,Math.max(0,Math.min(u.right,c.right)-Math.max(u.left,c.left))*Math.max(0,Math.min(u.bottom,c.bottom)-Math.max(u.top,c.top)))>=e.offsetWidth*e.offsetHeight*t}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function ne(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ie(e,t)}(t,Y);function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=null;(r=ne(this,re(t).call(this))).timerID=setInterval(function(){var t=o(n,e,i);u!==t&&((u=t)?r.onShow():r.onHide())},100);return r}!function(e,t,n){t&&te(e.prototype,t);n&&te(e,n)}(t,[{key:"destroy",value:function(){clearInterval(this.timerID)}}]);return t}();function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&se(e,t)}(t,Y);function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);n=ce(this,le(t).call(this));var i=null,o=r().getAMPContext();n.removeIntersectionObserver=o.observeIntersection(function(t){var r=t[0].intersectionRatio>=e&&!o.hidden;i!==r&&((i=r)?n.onShow():n.onHide())});return n}!function(e,t,n){t&&ue(e.prototype,t);n&&ue(e,n)}(t,[{key:"destroy",value:function(){this.removeIntersectionObserver&&this.removeIntersectionObserver()}}]);return t}(),pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.b,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:de;return t(window)?new r(e.viewablePercentage):new n(e.viewablePercentage,e.elementToWatch)};function fe(e,t,n){var r,i,o,a=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:pe)({elementToWatch:(arguments.length>4&&void 0!==arguments[4]?arguments[4]:Z)(e.container),viewablePercentage:(r=t.viewablePercentage,i=.5,o=Number(r),isNaN(o)||o<0||o>1?i:o)}),u=function(){return e.pause.apply(e)},c=function(){return e.play.apply(e)};if("false"===t.playThrough||n()){e.dispatcher.one("ended",function(){a.dispatcher.removeEventListener("inview",c);a.dispatcher.removeEventListener("outofview",u)});a.dispatcher.addEventListener("inview",c);a.dispatcher.addEventListener("outofview",u)}else a.dispatcher.one("inview",c)}function ve(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O.a.outOfViewPauseOverride,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:fe;n.expandBeforePlayback?i.one("expanded",function(){o(e,t,r)}):e.dispatcher.one("readytoplay",function(){o(e,t,r)})}function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:K,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ve;(arguments.length>6&&void 0!==arguments[6]?arguments[6]:Q.a).initWithPlayer(e);i(e);r();o(e,t,n)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}var me=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.domElement=document.createElement("img");r.reset(this.domElement);this.domElement.className="unruly_program_icon";r.setImportant(this.domElement,{width:t.width+"px",height:t.height+"px",position:"absolute",background:"transparent"});switch(t.xPosition){case"left":r.setImportant(this.domElement,{left:"0px"});break;case"right":r.setImportant(this.domElement,{right:"0px"});break;default:r.setImportant(this.domElement,{left:t.xPosition+"px"})}switch(t.yPosition){case"top":r.setImportant(this.domElement,{top:"0px"});break;case"bottom":r.setImportant(this.domElement,{bottom:"0px"});break;default:r.setImportant(this.domElement,{top:t.yPosition+"px"})}this.domElement.src=t.resource.url;this.domElement.addEventListener("click",function(e){e.preventDefault&&e.preventDefault();e.stopPropagation&&e.stopPropagation();n();return!1})}!function(e,t,n){t&&ge(e.prototype,t);n&&ge(e,n)}(e,[{key:"src",get:function(){return this.domElement.src}}]);return e}(),ye=n(24);function be(e,t){e.setImportantStyle({position:"relative","padding-bottom":"".concat(1/t*100,"%"),height:0})}function Ee(e){e.setImportantStyle({width:"100%",height:"100%",position:"absolute",top:0,left:0})}function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=i.resetStyles,u=void 0===a?ye.a.resetStyles:a,c=i.$,l=void 0===c?m.create:c,s=i.styles,d=void 0===s?N.a:s,p=i.enable,f=void 0===p?O.a:p,v=i.layout,g=void 0===v?{initContainer:be,initElement:Ee}:v,y=i.eventBus,b=void 0===y?h.a:y,E=l('<div class="unruly_in_article_placement">'),w=l('<div class="unruly_in_article_video_container">');u(E);u(w);g.initContainer(w,t);g.initElement(e);d.setImportantStyle(w,{"background-color":"transparent","margin-top":"1px"});E.mouseenter(function(){return b.dispatchEvent("inarticle.mouseenter")});E.mouseleave(function(){return b.dispatchEvent("inarticle.mouseleave")});var A={overflow:"hidden",position:"relative","max-height":"1px",opacity:1};f&&!f.expandBeforePlayback&&(A.transition="max-height 0.5s cubic-bezier(0.445, 0.05, 0.55, 0.95) 0.2s");if(n){if(!(r&&r[0]&&r[0].getBoundingClientRect))throw new o.a("basePlacement required in fullscreen mode");var P=Object.create(A),k=-r[0].getBoundingClientRect().left;P.width="100vw";P.height="100vh";P["z-index"]=1e3;P.left="".concat(k,"px");d.setImportantStyle(E,P)}else d.setImportantStyle(E,A);w.append(e);E.append(w);return{domElement:E,aspectRatioContainer:w,destroy:function(){d.remove(E)}}}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Pe(e,t){return new o.a("Method not implemented: ".concat(e),void 0,{args:t})}function ke(e){return new Promise(function(t){["AdError","error","ended","AdStopped","adstoptimeout"].forEach(function(n){e.dispatcher.addEventListener(n,function(){t(n)})})})}var Oe,Se,_e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.videoContainer=n.container;this.player=n;this.options=t}!function(e,t,n){t&&Ae(e.prototype,t);n&&Ae(e,n)}(e,[{key:"populate",value:function(e){this.attachEvents(e);this.render();this.renderLayers();this.renderIcons(e);this.load(e)}},{key:"attachEvents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke;(arguments.length>2&&void 0!==arguments[2]?arguments[2]:he)(this.player,e,this.getProps());!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.a.shrinkAdServerIFrame;e.dispatcher.one("setupcomplete",function(){n();t.dispatchEvent("placement.addedtodom")})}(this.player);this.playerSubscription=n(this.player).then(function(e){return t.onAdFinishedPlaying(e)})}},{key:"load",value:function(e){this.player.load(e)}},{key:"renderIcons",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.openWindow,i=void 0===r?U:r,o=n.appendStyles,a=void 0===o?N.a.append:o,u=n.trackThirdParty,c=void 0===u?p.e:u,l=n.ClickThroughIcon,s=void 0===l?me:l;if("true"===e.useVASTIcon){var d=e.icons["unruly-opt-out"];if(d){var f=new s(d,function(){t.player.pause();c(E.a.UNRULY_OPT_OUT_CLICK);i(d.clickThrough)});a(this.videoContainer[0],f.domElement)}}}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=this.getAspectRatio();this.inArticleContainer=e(this.videoContainer,t)}},{key:"renderLayers",value:function(){throw Pe("renderLayers")}},{key:"getAspectRatio",value:function(){throw Pe("getAspectRatio")}},{key:"onAdFinishedPlaying",value:function(e){throw Pe("onAdFinishedPlaying",[e])}},{key:"expand",value:function(){return Promise.reject(Pe("expand"))}},{key:"publishLifecycleEvent",value:function(e,t){return Promise.resolve(Object(o.b)(this.options[e])(t))}},{key:"mute",value:function(){this.player.mute()}},{key:"unmute",value:function(){this.player.unmute()}},{key:"getAdTypeName",value:function(){return"inArticle"}},{key:"getProps",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.a).expandBeforePlayback;return{expandBeforePlayback:void 0!==e&&e}}},{key:"getCollapseDetails",value:function(e){var t=Math.round(this.player.getDuration());return{collapseReason:e,elapsedTime:"ended"===e?t:this.player.getElapsedTime(),duration:t}}}]);return e}(),Ce=(Oe=ye.a.resetStyles,Se=m.create,function(){return Oe(Se.apply(void 0,arguments))}),Te={opacity:.5,margin:"0 18px","padding-top":"2px"},xe={"font-family":"sans-serif","font-size":"10px","text-align":"center","line-height":"21px"},Ie="–– ADVERTISEMENT ––";function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce,r=n('<div class="unruly_ia_disclosure_text">');r.text(t);r.setImportantStyle(xe);var i=n('<div class="unruly_ia_disclosure">');i.append(r);i.setImportantStyle(Te);i.setImportantStyle(e);return i}var je={createImage:function(e,t){return new window.Image(e,t)}};function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}var De=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.a,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.c,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:je;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.options=r;this.muted=!0;this.domElement=i('<img class="unruly_ia_volume"/>');this.domElement.attr("src",this.options.icons.initial);this.domElement.setImportantStyle(this.options.style);this.mouseLeaveListener=function(){return n.domElement.setImportantStyle({opacity:.25})};this.mouseEnterListener=function(){return n.domElement.setImportantStyle({opacity:1})};if(!0===r.shouldFadeInOnUserInteraction){o.addEventListener("inarticle.mouseenter",this.mouseEnterListener);o.addEventListener("inarticle.mouseleave",this.mouseLeaveListener)}this.domElement.click(function(e){n.toggleSound(t,a);n.muted=!n.muted;n.domElement.attr("src",n.chooseImageUrl());e&&e.stopPropagation()});this.preloadSoundOnImage(u)}!function(e,t,n){t&&Le(e.prototype,t);n&&Le(e,n)}(e,[{key:"toggleSound",value:function(e,t){if(this.muted){e.unmute();t(E.a.UNMUTE)}else{e.mute();t(E.a.MUTE)}}},{key:"preloadSoundOnImage",value:function(e){var t=e.createImage();t.onload=function(){};t.src=this.options.icons.muted;var n=e.createImage();n.onload=function(){};n.src=this.options.icons.unmuted}},{key:"chooseImageUrl",value:function(){return this.muted?this.options.icons.muted:this.options.icons.unmuted}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a;e.removeEventListener("inarticle.mouseenter",this.mouseEnterListener);e.removeEventListener("inarticle.mouseleave",this.mouseLeaveListener);this.domElement.remove()}}]);return e}(),Me=n(38),Ve=n.n(Me),Ne=n(39),Ue=n.n(Ne),Fe=function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:De)(e,{icons:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{muted:Ve.a,unmuted:Ue.a,initial:Ve.a},style:{"z-index":100,position:"absolute",bottom:"16px",left:"16px",padding:0,width:"48px",height:"48px",cursor:"pointer",opacity:1,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"}})};function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function We(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var Qe={position:"absolute",top:0,left:0,right:0,color:"white","margin-top":"12px","font-family":"sans-serif","font-size":"9px","line-height":"normal","padding-top":"0px","text-shadow":"0 1px 2px rgba(0, 0, 0, .8)"},Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ke(e,t)}(t,_e);function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);return We(this,ze(t).apply(this,arguments))}!function(e,t,n){t&&He(e.prototype,t);n&&He(e,n)}(t,[{key:"getAspectRatio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a;return e.screen.availWidth/e.screen.availHeight}},{key:"onAdFinishedPlaying",value:function(){(e=this.volumeButton)&&e.destroy&&e.destroy();var e}},{key:"expand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N.a.setImportantStyle,t=this.inArticleContainer;e(t.domElement,{"max-height":"100vh","margin-top":"16px",opacity:1,"background-color":"black"});e(t.aspectRatioContainer,{"margin-top":"0"});return Promise.resolve(!0)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createContainer,n=void 0===t?we:t,r=e.setImportantStyle,i=void 0===r?N.a.setImportantStyle:r,o=e.aspectRatio,a=void 0===o?this.getAspectRatio():o;this.inArticleContainer=n(this.videoContainer,a,!0,this.options.basePlacement);i(this.videoContainer,{width:"100vw",height:"100vh"})}},{key:"renderLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.append,n=void 0===t?N.a.append:t,r=e.createVerticalVideoVolumeButton,i=void 0===r?Fe:r,o=e.createInArticleDisclosure,a=void 0===o?Re:o,u=e.getDisclosureMessage,c=void 0===u?M:u;this.disclosure=a(Qe,c());this.volumeButton=i(this.player);n(this.videoContainer,this.disclosure);n(this.inArticleContainer.domElement,this.volumeButton.domElement)}},{key:"getAdTypeName",value:function(){return"fullscreenVerticalVideo"}},{key:"getAdType",value:function(){return V.a.InArticle}}]);return t}();function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e){return"number"==typeof e&&e>0}var Ge={getForAd:function(e){var t=e.getPotentialVideoSize();return t&&"object"===Je(t)&&qe(t.width)&&qe(t.height)?t:null},getPercentageOfScreen:function(e,t){var n=e.width*e.height;return isNaN(n)?0:n*(t/100)},getWidthForArea:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.6;return Math.floor(Math.sqrt(e*t))}},Xe=n(40),Ye=n.n(Xe);function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}var et=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.player=t;var i=r('<div class="unruly_ia_bottombar"></div>'),o=r('<div class="unruly_ia_progressbar"></div>');o.setImportantStyle({height:"2px",width:0,"background-color":"#0bbbef",transition:"all 0.1s linear",position:"relative"});i.append(o);this.progressBar=o;i.setImportantStyle({height:"20px"});n.forEach(function(e){return i.append(e)});this.domElement=i}!function(e,t,n){t&&$e(e.prototype,t);n&&$e(e,n)}(e,[{key:"populate",value:function(){var e=this;this.player.dispatcher.addEventListener("timeupdate",function(t,n){if(void 0!==n){var r=n.percentComplete;r<=100&&e.progressBar.setImportantStyle({width:"".concat(r,"%")})}})}}]);return e}();function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce)('<img class="unruly_ia_closebutton">');n.attr("src",e);n.setImportantStyle(t);return n}var nt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r('<div class="unruly_ia_furniture"></div>');n.forEach(function(e){return i.append(e)});i.setImportantStyle(t);this.domElement=i},rt=28,it="ADVERTISEMENT";function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rt,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ce,i=Re(e,t);i.css({display:"inline-block",position:"relative","min-width":"100px",height:"".concat(n,"px"),background:"currentColor","vertical-align":"top",margin:"0px 5px 0px 0px",opacity:1,"padding-left":"".concat(n/2,"px"),"padding-right":"".concat(n/4,"px"),"padding-top":"0px"});i.find(".unruly_ia_disclosure_text").css({color:"white","line-height":"".concat(n,"px")});var o=r('<div class="unruly_ia_pinned_disclosure_crescent"></div>');o.css({overflow:"hidden",height:"".concat(n,"px"),width:"".concat(n/2,"px"),position:"absolute",right:"-".concat(n/2,"px"),top:"0px"});i.append(o);var a=r("<div></div>");a.css({margin:"0px",color:"currentColor",width:"".concat(n,"px"),height:"".concat(n/2,"px"),position:"relative",top:"-".concat(n/4,"px"),left:"0px","border-radius":" 50%",border:" solid 0px transparent","box-shadow":" -33px 0 0 0 currentColor",padding:"".concat(n/2,"px")});o.append(a);return i}var at=n(35),ut=n.n(at),ct=n(41),lt=n.n(ct),st=function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:De)(e,{icons:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{unmuted:lt.a,muted:ut.a,initial:ut.a},style:{"z-index":100,padding:0,width:"28px",height:"28px",cursor:"pointer",opacity:1,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",background:"currentColor","border-radius":"50%",display:"inline-block","pointer-events":"auto"}})};function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function vt(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(e,t,n){return(ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&mt(e,t)}(t,_e);function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);r=vt(this,gt(t).call(this,e,n));if(i.isMobile()&&i.isLandscape())throw new o.a("Pinned In-Article not supported on landscape mobile orientation",E.a.error.UNSUPPORTED_BROWSER);return r}!function(e,t,n){t&&ft(e.prototype,t);n&&ft(e,n)}(t,[{key:"getProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.a;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));r.forEach(function(t){pt(e,t,n[t])})}return e}({},ht(gt(t.prototype),"getProps",this).call(this,e),{expandBeforePlayback:!1})}},{key:"getAspectRatio",value:function(){return 16/9}},{key:"_getScreenResolution",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a).screen}},{key:"_getMinAdSpaceWidth",value:function(){return 200}},{key:"_getMaxAdSpaceWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a;return[450,Ge.getWidthForArea(Ge.getPercentageOfScreen(this._getScreenResolution(e),30))].filter(function(e){return e>0}).reduce(function(e,t){return Math.min(e,t)},Number.MAX_VALUE)}},{key:"_getAdSpaceWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a,t=this._getMinAdSpaceWidth(),n=this._getMaxAdSpaceWidth(),r=Ge.getWidthForArea(Ge.getPercentageOfScreen(this._getScreenResolution(e),8));if(r){if(r<=n&&r>=t)return"".concat(r,"px");if(r>n)return"".concat(n,"px")}return"".concat(n<t?n:t,"px")}},{key:"_cleanup",value:function(){this.volumeButton&&this.volumeButton.destroy()}},{key:"_collapse",value:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.a).setImportantStyle(this.inArticleContainer.domElement,{"max-height":0,"margin-top":0});this.options.onCollapseCallback&&this.options.onCollapseCallback(this.getCollapseDetails(e));setTimeout(this.inArticleContainer.destroy,5e3);this.publishLifecycleEvent("onAdDismissed")}},{key:"_collapseAndCleanupWhenInview",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z;this._cleanup();var i=n({elementToWatch:r(this.player.container),viewablePercentage:.5});i.dispatcher.addEventListener("inview",function n(){t._collapse(e);i.dispatcher.removeEventListener("inview",n);i.destroy()})}},{key:"onAdFinishedPlaying",value:function(e){this._collapseAndCleanupWhenInview(e)}},{key:"_getFurnitureHeight",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a).isMobile()?74:50}},{key:"expand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a,t=this.inArticleContainer,n=Math.floor(t.domElement.width()/this.getAspectRatio()+this._getFurnitureHeight(e));t.domElement.setImportantStyle({"max-height":"".concat(n,"px"),opacity:1});this.bottomBar.populate();return Promise.resolve(!0)}},{key:"applyContainerStyles",value:function(){this.inArticleContainer.domElement.setImportantStyle({position:"fixed",bottom:"0.5em",right:"0.5em",width:this._getAdSpaceWidth(),"z-index":2147483647})}},{key:"setUpMobileOrientationEvent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.c;t.isMobile()&&n.addEventListener("resize",function(){e.inArticleContainer.domElement.get(0).style.display=t.isLandscape()?"none":"block";r(E.a.ORIENTATION_CHANGE)})}},{key:"render",value:function(){ht(gt(t.prototype),"render",this).call(this);this.applyContainerStyles();this.setUpMobileOrientationEvent()}},{key:"_createCloseButton",value:function(){return tt(Ye.a,{height:"28px",width:"28px",margin:"0",cursor:"pointer",right:"-12px",display:"inline-block",position:"relative","z-index":"999",background:"currentColor","border-radius":"50%","pointer-events":"auto",left:"auto"})}},{key:"onCloseClicked",value:function(){this.player.skip()}},{key:"renderLayers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._createCloseButton,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nt,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:et,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:N.a,c=t();c.click(function(t){t.stopPropagation();e.onCloseClicked()});this.volumeButton=r(this.player);this.topBar=new o({"text-align":"right",height:"28px","padding-left":"10px",position:"relative",color:"black","margin-bottom":"5px"},[c,n({},i()),this.volumeButton.domElement]);u.prepend(this.inArticleContainer.domElement,this.topBar.domElement);this.bottomBar=new a(this.player);this.bottomBar.domElement.setImportantStyle({height:"auto"});u.append(this.inArticleContainer.domElement,this.bottomBar.domElement)}},{key:"getAdTypeName",value:function(){return"pinned"}},{key:"getAdType",value:function(){return V.a.Unmissable}}]);return t}();function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function wt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Pt(e,t)}(t,_e);function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);return wt(this,At(t).apply(this,arguments))}!function(e,t,n){t&&Et(e.prototype,t);n&&Et(e,n)}(t,[{key:"getAspectRatio",value:function(){return 9/16}},{key:"onAdFinishedPlaying",value:function(){(e=this.volumeButton)&&e.destroy&&e.destroy();var e}},{key:"expand",value:function(){var e=Math.floor(this.inArticleContainer.domElement.width()/this.getAspectRatio());this.inArticleContainer.domElement.setImportantStyle({"max-height":"".concat(e,"px"),"margin-top":"16px",opacity:1,"background-color":"black"});return Promise.resolve(!0)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we;this.inArticleContainer=e(this.videoContainer,this.getAspectRatio(),!1,null)}},{key:"renderLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N.a,i=t({position:"absolute",top:0,left:0,right:0,color:"white","margin-top":"12px","font-family":"sans-serif","font-size":"9px","line-height":"normal","padding-top":"0px","text-shadow":"0 1px 2px rgba(0, 0, 0, .8)"},n());r.append(this.videoContainer,i);this.volumeButton=e(this.player);r.append(this.videoContainer,this.volumeButton.domElement)}},{key:"getAdTypeName",value:function(){return"verticalVideo"}},{key:"getAdType",value:function(){return V.a.InArticle}}]);return t}(),Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(j.a)().getAMPContext();return new Promise(function(n,r){!function(e,t){if(!(e.screen&&e.screen.availWidth&&e.screen.availHeight))throw new Error("Cannot access window.screen");if(!(t&&t.requestResize&&t.onResizeDenied))throw new Error("AMP resize API not available")}(e,t);t.onResizeSuccess(function(){return n()});t.onResizeDenied(function(){return r(new Error("resize failed"))});t.requestResize(e.screen.availWidth,e.screen.availHeight);setTimeout(function(){return r(new Error("resize failed: timeout"))},100)})};function St(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.FullscreenInArticleAdSpace,i=void 0===r?Ze:r,a=n.VerticalInArticleAdSpace,u=void 0===a?kt:a,c=n.PinnedInArticleAdSpace,l=void 0===c?yt:c,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L.a,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return Object(j.a)().isAMP},p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ot;return new Promise(function(n,r){if(e===i||e===u){if(!(s.isMobile()||t.skipIOSCheck))return r(new o.a("Vertical Video not supported on desktop"));if(d()&&e===u)return p().then(function(){return n(e)}).catch(function(){return r(new o.a("Could not resize to vertical video on AMP"))})}else if(e===l&&!t.canRunUnmissable)return r(new o.a("Pinned is not supported on this website"));return n(e)})}var _t=function(e){f.b.setImportant(e,{filter:"blur(4px)"});f.b.setImportant(e.parentElement,{overflow:"hidden"})},Ct=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.b,i=r.createElement("div",e);r.setImportant(i,{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%","background-color":n,opacity:t,margin:0,padding:0,border:0,cursor:"pointer"});return i};function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_t,r=t(e,1,"#b7b7b7");r.setAttribute("id","unruly_postvideo_fallback_endslate");n(r);return r}function xt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct)(e,.8,"#fff");t.setAttribute("id","unruly_postvideo_endslate");return t}var It=n(42),Rt=n.n(It),jt=n(43),Lt=n.n(jt);function Dt(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:De)(e,{icons:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{unmuted:Lt.a,muted:ut.a,initial:ut.a},style:{"z-index":100,padding:0,width:"20px",height:"20px",cursor:"pointer",opacity:.25,float:"right","-webkit-tap-highlight-color":"rgba(0,0,0,0)",transition:"all 0.25s cubic-bezier(0.445, 0.05, 0.55, 0.95)",background:"black","border-radius":"50%",display:"inline-block"},shouldFadeInOnUserInteraction:!0})}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));r.forEach(function(t){Vt(e,t,n[t])})}return e}function Vt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Nt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isAMP,i=void 0===r?j.b:r,o=n.getContext,a=i((void 0===o?j.a:o)().window),u=Math.floor(e.domElement.width()/t+50),c={"max-height":"".concat(u,"px"),opacity:1};return Mt({},c,a?{"margin-top":"0px",transition:"none"}:{"margin-top":"16px"})};function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Bt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Wt(e,t)}(t,_e);function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);return Bt(this,Ht(t).apply(this,arguments))}!function(e,t,n){t&&Ft(e.prototype,t);n&&Ft(e,n)}(t,[{key:"getAspectRatio",value:function(){return 16/9}},{key:"_cleanup",value:function(){this.volumeButton&&this.volumeButton.destroy();this.bottomBar.progressBar&&this.bottomBar.progressBar.remove()}},{key:"_collapse",value:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.a).setImportantStyle(this.inArticleContainer.domElement,{"max-height":0,"margin-top":0});this.publishLifecycleEvent("onCollapseCallback",this.getCollapseDetails(e));setTimeout(this.inArticleContainer.destroy,5e3);this.publishLifecycleEvent("onAdDismissed")}},{key:"_cleanupButNotCollapse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.b.insertAfter,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.b.insertBefore,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Tt;this._cleanup();r(i(document),this.player.videoEl);var o=e(document);t(this.player.videoEl);n(this.player.videoEl,o)}},{key:"_collapseAndCleanupWhenInview",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z;this._cleanup();var i=n({elementToWatch:r(this.player.container),viewablePercentage:.5});i.dispatcher.addEventListener("inview",function n(){t._collapse(e);i.dispatcher.removeEventListener("inview",n);i.destroy()})}},{key:"_shouldCollapseOnAdFinishedPlaying",value:function(e,t){return t.collapseOnComplete||"ended"!==e}},{key:"onAdFinishedPlaying",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a;if(this._shouldCollapseOnAdFinishedPlaying(e,t))this._collapseAndCleanupWhenInview(e);else{this._cleanupButNotCollapse();this.hasAdEndedButNotCollapsed=!0}}},{key:"expand",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getExpandedStyle,t=void 0===e?Nt:e,n=this.inArticleContainer,r=t(n,this.getAspectRatio());n.domElement.setImportantStyle(r);this.bottomBar.populate();return Promise.resolve(!0)}},{key:"_createCloseButton",value:function(){var e=tt(Rt.a,{height:"18px",width:"18px",float:"right",opacity:.25,transition:"all 0.25s cubic-bezier(0.445, 0.05, 0.55, 0.95)",margin:"2px 2px 1px 0",outline:"1px solid transparent","min-width":"0",cursor:"pointer",left:"auto",right:"auto"});!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;t.addEventListener("inarticle.mouseenter",function(){return e.setImportantStyle({opacity:"unset"})});t.addEventListener("inarticle.mouseleave",function(){return e.setImportantStyle({opacity:.25})})}(e);return e}},{key:"_createDisclosureButton",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return Re({},e()?"".concat("––"," ").concat(e()," ").concat("––"):"")}},{key:"onCloseClicked",value:function(){this.player.skip();this.hasAdEndedButNotCollapsed&&this.onAdFinishedPlaying("collapsedAfterEnded")}},{key:"renderLayers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._createCloseButton,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._createDisclosureButton,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nt,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:et,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:N.a;this.hasAdEndedButNotCollapsed=!1;var u=t();u.click(function(t){t.stopPropagation();e.onCloseClicked()});this.topBar=new i({height:"22px"},[u,n()]);a.prepend(this.inArticleContainer.domElement,this.topBar.domElement);this.volumeButton=r(this.player);this.bottomBar=new o(this.player,[this.volumeButton.domElement]);a.append(this.inArticleContainer.domElement,this.bottomBar.domElement)}},{key:"getAdTypeName",value:function(){return"horizontal"}},{key:"getAdType",value:function(){return V.a.InArticle}}]);return t}();function Kt(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a).dispatchEvent({type:"player."+E.a.COMPLETED_VIEW,target:e})}function Qt(e,t){var n=e.target;n.getCurrentTime()>=30&&t(n)}function Zt(e,t){t(e.target)}function Jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qt,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zt,i={},o=B(function(e){t(e);i.unsubscribe&&i.unsubscribe()}),a=function(e){return n(e,o)},u=function(e){return r(e,o)};e.addEventListener("player.timeupdate",a);e.addEventListener("player.ended",u);i.unsubscribe=function(){e.removeEventListener("player.timeupdate",a);e.removeEventListener("player.ended",u)}}var qt={},Gt=[E.a.FIRST_QUARTILE,E.a.MIDPOINT,E.a.THIRD_QUARTILE];function Xt(e,t,n){if(!qt[e]){!function(e,t,n){-1!==Gt.indexOf(e)&&n.dispatchEvent({type:"player."+e,target:t})}(e,t,n);qt[e]=!0}}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t;e.addEventListener("player.timeupdate",function(e){var n=e.target;t(n)})}function $t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a,n=e.getDuration(),r=n/4,i=e.getCurrentTime();i>=r&&i<2*r?Xt(E.a.FIRST_QUARTILE,e,t):i>=2*r&&i<3*r?Xt(E.a.MIDPOINT,e,t):i>=3*r&&i<n&&Xt(E.a.THIRD_QUARTILE,e,t)}var en={ZENTRICK_JSVPAID:"zentrick_jsvpaid",ZENTRICK_MP4:"zentrick_mp4",values:function(){return[this.ZENTRICK_JSVPAID,this.ZENTRICK_MP4]}},tn=function(e){var t,n=function(){t=!1};return function(){return t||(t=Promise.resolve(e()).then(n).catch(function(){n();throw Error("nonreenterant function has rejected")}))}};function nn(e){return n.e(3).then(n.bind(null,47)).then(function(t){return new(0,t.default)(e)})}function rn(e){return e.isSupportedMobileDevice()||e.isSupportedTablet()}function on(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.browser,i=void 0===r?L.a:r,o=n.createVideoAdapter,u=void 0===o?nn:o,c=n.publisherWindow,l=void 0===c?a.a:c,s=n.nonreenterant,d=void 0===s?tn:s,p=n.useMobileVideoAdaptor;if(!(void 0===p?rn:p)(i))return Promise.resolve(t);var f=e.document.createElement("style");f.innerText="*::-webkit-media-controls-start-playback-button {display: none!important;-webkit-appearance: none;}";e.document.body.insertBefore(f,e.document.body.firstChild);return Promise.resolve().then(function(){return u({defaultMuted:!0,autoplay:!1,spriteEnabled:!1,videoSlot:t,audioSlot:new window.Audio,spriteSlot:e.document.createElement("div"),proxy:!0,nativeMutedEnabled:i.isSupportedAndroid(),seekingDurationOffset:100})}).then(function(e){return e.start().then(function(){!function(e,t,n,r){if(!e.armed){var i=r(e.update.bind(e)),o=t.supportsMobileAutoPlay()?"click":"touchstart";n.document.addEventListener(o,i);e.addEventListener("arm",function(){n.document.removeEventListener(o,i)})}}(e,i,l,d);return e})})}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}var un=Math.min,cn=Math.max;var ln=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.vpaidCreative=t;this.playerDispatcher=n;this.duration=0;this.backupDuration=0;var i=function(){var e=t.adRemainingTime&&t.adRemainingTime();r.recordInitialAdRemainingTime(e)};["AdRemainingTimeChange","AdStarted","AdVideoStart","vast:start"].forEach(function(e){return t.once(e,i)});var o=function(){r.adRemainingTimeTimeout=setTimeout(function(){0===r.getDuration()&&r.playerDispatcher.dispatchEvent("adremainingtime_timeout")},5e3);r.timeUpdateTimer||(r.timeUpdateTimer=setInterval(function(){var e={percentComplete:r.getPercentComplete()};r.playerDispatcher.dispatchEvent("timeupdate",e)},100))};t.once("AdVideoStart",o);t.once("vast:start",o);["AdStopped","AdError","error","vast:complete","vpaid:AdStopped"].forEach(function(e){return t.once(e,function(){r.clearTimeouts()})});t.on("AdDurationChange",this.updateInitialDuration.bind(this))}!function(e,t,n){t&&an(e.prototype,t);n&&an(e,n)}(e,[{key:"getDuration",value:function(){this.recordInitialDuration();return this.duration||this.backupDuration||0}},{key:"clearTimeouts",value:function(){clearInterval(this.adRemainingTimeTimeout);clearInterval(this.timeUpdateTimer)}},{key:"getCurrentTime",value:function(){var e=this.vpaidCreative.adRemainingTime&&this.vpaidCreative.adRemainingTime();if(e>=0){this.recordInitialAdRemainingTime(e);var t=this.getDuration();return cn(0,un(t,t-e))}return 0}},{key:"recordInitialAdRemainingTime",value:function(e){!this.backupDuration&&e>=0&&(this.backupDuration=e)}},{key:"updateInitialDuration",value:function(){var e=this.vpaidCreative.adDuration&&this.vpaidCreative.adDuration();e>=0&&(this.duration=e)}},{key:"recordInitialDuration",value:function(){this.duration||this.updateInitialDuration()}},{key:"getPercentComplete",value:function(){var e=this.getDuration();return e?100*this.getCurrentTime()/e:0}}]);return e}(),sn=n(33),dn=function(e,t){var n=new(0,sn.c.MediaFile);Object.assign(n,e);n.uri=e.url;if(300===e.width&&250===e.height){n.width=t.width();n.height=t.height()}return n},pn=function(e){var t=e.mediaFile,n=e.campaignConfig,r=e.container,i=e.createExecutorMediaFile,o=void 0===i?dn:i,a=sn.c.VAST,u=sn.c.InLine,c=sn.c.Linear,l=sn.c.Click,s=new a,d=new u,p=new c;p.mediaFiles.push(o(t,r));var f=new l;f.uri=n.clickThroughs.video.url;p.videoClicks.clickThrough=f;p.adParameters=n.adParameters;d.creatives.add(p);s.ads.add(d);return s};var fn=function(e){var t=e.campaignConfig,n=e.videoSlot;return"true"===t.tag_dbm_ias_fix?{videoSlot:void 0,videoSlotCreationDisabled:!0}:{videoSlot:n,videoSlotCreationDisabled:!1}};function vn(e){var t=e.campaignConfig,n=e.mediaFile,r=e.container,i=e.videoSlot,o=e.adUnitContainer;return Object(sn.a)([pn({mediaFile:n,campaignConfig:t,container:o})],function(e){var t=e.container,n=e.videoSlotConfig;return{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minBitrate:0,maxBitrate:1/0,videoSlotCanAutoPlay:!0,clickToResume:!0,autoDisposeDisabled:!0,pauseBeforeExecuteDisabled:!0,videoSlotCreationDisabled:n.videoSlotCreationDisabled,container:t,videoSlot:n.videoSlot,iframeProperties:{id:"unruly_vpaid_container"}}}({container:r,videoSlotConfig:fn({campaignConfig:t,videoSlot:i})}))}function hn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){n.push(a.value);if(t&&n.length===t)break}}catch(e){i=!0;o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mn(e){return function(t){return t.map(function(t){return t.type===e?t.data:void 0})}}function yn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).vastChain,t=gn(e=void 0===e?[]:e,1)[0];return void 0===t?{}:t}var bn=mn("VASTLoaderError");var En=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}}(mn("message"),mn("vastError"),function(e){return e.map(function(e){return new u.b(e.code,void 0,e.message)}).map(function(t){var n=e.orElse({}).cause;n&&(t.data=n);return t}).map(function(t){return bn(e).map(yn).map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));r.forEach(function(t){hn(e,t,n[t])})}return e}({},t,e)}).orElse(t)})});function wn(e){var t=e.executor,n=e.width,r=e.height;return t.resize(n,r)}function An(e,t){Object(o.c)(e).map(function(e){var n,r,i=(n=function(e){try{return"string"==typeof e?JSON.parse(e):e}catch(e){}return e}(e))&&"object"===y(n)?n:{},a=(r=i,En(Object(o.c)(r))).orElse(!1);a?t.dispatchEvent("AdError",a):t.dispatchEvent("AdLog",i)})}var Pn=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n)},kn={map:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addEventListener";Pn(n,function(i){e[r](i,function(e){return t.dispatchEvent(n[i],e)})})}};function On(e){var t=e.executor,n=e.dispatcher,r=e.events;(void 0===r?kn:r).map(t,n,{"vast:start":"playing","vast:firstQuartile":"firstQuartile","vast:midpoint":"midpoint","vast:thirdQuartile":"thirdQuartile","vast:complete":"ended","vast:error":"error","vpaid:AdError":"AdError","vpaid:AdStopped":"AdStopped",didCancel:"AdStopped",clickThrough:"AdClickThru"},"on")}var Sn=n(19),_n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn.a.getState();e._sessionId=t.sessionId};function Cn(e){var t=e.mediaFile,n=e.campaignConfig,r=e.container,i=e.videoSlot,o=e.dispatcher,a=e.adUnitContainer,u=e.createZentrickExecutor,c=void 0===u?vn:u,l=e.hookEventsBetweenDispatcherAndExecutor,s=void 0===l?On:l,d=e.resizeExecutorToAdUnitContainer,p=void 0===d?wn:d,f=e.convertToErrorOrLog,v=void 0===f?An:f,h=e.retrofitWindowWithZentrickParameters;(void 0===h?_n:h)();var g=c({mediaFile:t,campaignConfig:n,container:r,videoSlot:i,adUnitContainer:a});s({executor:g,dispatcher:o});g.on("vast:start",function(){g.muted=!0;p({executor:g,width:a.width(),height:a.height()})});g.on("vpaid:AdLog",function(e){v(e,o)});return g}function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){return!t||"object"!==Tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&jn(e,t)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Mn(e,t,n){t&&Dn(e.prototype,t);n&&Dn(e,n);return e}function Vn(e,t,n){var r=n.createElement(e,t);n.reset(r);n.setImportant(r,{position:"absolute",width:"100%",height:"100%"});return r}var Nn=function(e){return function(t){t.catchLocation=e;return Promise.reject(t)}},Un=function(){function e(t,n){var r=t.adParameters,i=t.clickThroughs,a=t.tag_dbm_ias_fix,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:J.a;Ln(this,e);if(!n)throw new o.a("Element not provided");this.container=u(n);this.adParameters=r;this.clickthrough=i.video.url;this.muteOnPlay="true"===a||!(!window.parent||!window.parent.context);this.hasExecuted=!1;this.dispatcher=new c(this);this.videoAdapterUpdate=null}Mn(e,[{key:"supports",value:function(){return{ownQuartileTimer:function(){return!0},ownCompletedViewTimer:function(){return!1},clickThrough:function(){return!1}}}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.b,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cn,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:on,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ln,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:rn;i.one("placement.addedtodom",function(){e.executor.load().then(function(){n.reset(a.a.document.getElementById("zentrickPlayer"));e.dispatcher.dispatchEvent("readytoplay");e.dispatcher.dispatchEvent("adimpression")},function(){})});this.videoEl=Vn("video",document,n);this.videoEl=function(e){e.setAttribute("playsinline","true");e.muted=!0;return e}(this.videoEl);var s=Vn("div",document,n);n.setImportant(s,{top:0,left:0,"z-index":0});n.setImportant(this.videoEl,{top:0,left:0,opacity:1});this.container.prepend(s);this.container.prepend(this.videoEl);u(a.a,this.videoEl).then(function(n){e.videoAdapter=n;l(r)&&(e.videoAdapterUpdate=tn(function(){return e.videoAdapter.update()}));e.executor=o({mediaFile:e.mediaFile,campaignConfig:t,container:s,videoSlot:n,dispatcher:e.dispatcher,adUnitContainer:e.container});e.executor.on("willExecute",function(){e.mute()});e.timingHelper=new c((i=e.executor,{once:function(e,t){i.once(e,t)},on:function(e,t){i.on(e,t)},adRemainingTime:function(){return i.remainingTime},adDuration:function(){return i.duration}}),e.dispatcher);var i;e.dispatcher.dispatchEvent("setupcomplete")})}},{key:"play",value:function(){if(this.hasExecuted)return this.executor.resume().catch(Nn("zentrickPlayer.play#resume"));this.hasExecuted=!0;this.muteOnPlay&&this.mute();return this.executor.execute().catch(function(){})}},{key:"pause",value:function(){return this.executor.pause().catch(Nn("zentrickPlayer.pause"))}},{key:"paused",value:function(){return this.executor.paused}},{key:"skip",value:function(){this.executor.cancel().catch(Nn("zentrickPlayer.skip"))}},{key:"mute",value:function(){this.executor.muted=!0;this.executor.volume=0}},{key:"unmute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn,r="string"==typeof this.videoAdapter.src&&this.videoAdapter.src.length>0;if(n(t)&&!this.videoAdapter.armed&&r)return this.videoAdapterUpdate().then(function(){if(e.videoAdapter.armed){e.executor.muted=!1;e.executor.volume=1}});this.executor.muted=!1;this.executor.volume=1;return Promise.resolve()}},{key:"getDuration",value:function(){return this.timingHelper?this.timingHelper.getDuration():0}},{key:"getCurrentTime",value:function(){return this.timingHelper?this.timingHelper.getCurrentTime():0}},{key:"getElapsedTime",value:function(){var e=this.getDuration()-this.getCurrentTime();return Math.round(e)}}]);return e}(),Fn=function(e){Rn(t,Un);function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.a,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:J.a,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:I;Ln(this,t);(i=xn(this,In(t).call(this,e,n,o,a))).mediaFile=u(e.mediaFiles);return i}Mn(t,[{key:"getPlayerType",value:function(){return en.ZENTRICK_JSVPAID}}]);return t}(),Bn=function(e){Rn(t,Un);function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.a,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:J.a,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:x;Ln(this,t);(i=xn(this,In(t).call(this,e,n,o,a))).mediaFile=u(e.mediaFiles);return i}Mn(t,[{key:"getPlayerType",value:function(){return en.ZENTRICK_MP4}}]);return t}();function Hn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wn(e,t,n){var r,i,a,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=u.ErrorType,l=void 0===c?o.a:c,s=u.ZentrickPlayers,d=void 0===s?{ZentrickPlayerJSVPAID:Fn,ZentrickPlayerMP4:Bn}:s,f=u.initialiseQuartileTimer,v=void 0===f?Yt:f,h=u.completedViewTimerInitialiser,g=void 0===h?Jt:h,m=u.trackActivate,y=void 0===m?p.c:m,b=(Hn(r={},en.ZENTRICK_JSVPAID,d.ZentrickPlayerJSVPAID),Hn(r,en.ZENTRICK_MP4,d.ZentrickPlayerMP4),r);en.values().forEach(function(e){a||n.supportsVideoPlayerType(e)&&(a=b[e])});if(!a)throw new l("No compatible media file found",E.a.error.NO_COMPATIBLE_MEDIA_FILE_FOUND,{mediaFiles:JSON.stringify(t.mediaFiles)});i=new a(t,e,n);y(E.a.COMPATIBLE_MEDIA_FILE,{player:i.getPlayerType(),mediaFile:JSON.stringify(i.mediaFile),mediaFiles:JSON.stringify(t.mediaFiles)});i.supports().ownQuartileTimer()||v();i.supports().ownCompletedViewTimer()||g();return i}var zn={LOOP:"loop",CLICK_THROUGH:"click_through",values:function(){return[this.LOOP,this.CLICK_THROUGH]}};function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zn(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Yn(e,t,n){t&&Xn(e.prototype,t);n&&Xn(e,n);return e}var $n=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.isMP4,a=void 0===o?_:o,u=i.isJavascriptVPAID,c=void 0===u?C:u;Gn(this,e);this.supportedVideoPlayers={};this.supportedPlayerFeatures={};this.supportedVideoPlayers[en.HTML5]=!1;this.supportedVideoPlayers[en.ZENTRICK_JSVPAID]=t.mediaFiles.some(c);this.supportedVideoPlayers[en.ZENTRICK_MP4]=t.mediaFiles.some(a)}Yn(e,[{key:"supportsVideoPlayerType",value:function(e){return!!this.supportedVideoPlayers[e]}},{key:"supportsVideoPlayerFeature",value:function(e){return!!this.supportedPlayerFeatures[e]}}]);return e}(),er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&qn(e,t)}(t,$n);function t(e,n,r){var i,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=a.isMP4,c=void 0===u?_:u,l=a.isJavascriptVPAID,s=void 0===l?C:l;Gn(this,t);(o=Zn(this,Jn(t).call(this,e,n,r,{isMP4:c,isJavascriptVPAID:s}))).supportedPlayerFeatures=(Qn(i={},zn.LOOP,!1),Qn(i,zn.CLICK_THROUGH,!0),i);return o}Yn(t,[{key:"adType",value:function(){return"inArticle"}},{key:"supportsVideoCoverSizing",value:function(){return!0}}]);return t}();function tr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wn,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:er,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ce,a=(arguments.length>5&&void 0!==arguments[5]?arguments[5]:N.a).setImportantStyle;if(!e)throw new o.a("No campaignConfig provided");var u=i('<div class="unruly_in_article_video_content_container">'),c=new r(e,t.width,t.height);a(u,{"background-color":"transparent"});return n(u,e,c)}function nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.HorizontalInArticleAdSpace,i=void 0===r?zt:r,a=n.FullscreenInArticleAdSpace,u=void 0===a?Ze:a,c=n.VerticalInArticleAdSpace,l=void 0===c?kt:c,s=n.PinnedInArticleAdSpace,d=void 0===s?yt:s,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=p.setupPlayer,v=void 0===f?tr:f,h=p.getMediaFileAspectRatio,g=void 0===h?R:h,m=p.enable,y=void 0===m?O.a:m,b=p.validate,E=void 0===b?St:b;if(!e)throw new o.a("No campaignConfig provided");var w=v(e,t.basePlacementSize),A=g(w.mediaFile);return E(function(e,t,n,r){var i=r.HorizontalInArticleAdSpace,o=r.FullscreenInArticleAdSpace,a=r.VerticalInArticleAdSpace,u=r.PinnedInArticleAdSpace;return n?t.fullscreenInArticleSupported?o:a:"true"===e.pinned?u:i}(e,y,A<1,{HorizontalInArticleAdSpace:i,FullscreenInArticleAdSpace:u,VerticalInArticleAdSpace:l,PinnedInArticleAdSpace:d}),y).then(function(n){var r=new n(t,w);r.populate(e);return r})}var rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContext,n=void 0===t?j.a:t,r=e.isAMP,i=void 0===r?j.b:r,o=e.publisherWindow;if(i(void 0===o?a.a:o)){var u=n().getAMPContext();u&&"function"==typeof u.renderStart&&u.renderStart()}};function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function or(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ar=16/9;function ur(e){var t=Math.floor(e.width());return{width:t,height:Math.floor(t/ar)}}function cr(e,t,n,r){var i=t.apid,a=t.cid,c=t.crid;return new o.a("In Article Error",r(n,e),Object.assign({apid:i,cid:a,crid:c},function(e){return e&&(e instanceof Error||e instanceof o.a||e instanceof u.b||e.message||e.data)}(e)?{message:b(e.message),data:b(e.data),vastURL:b(e.uri)}:{data:b(e)}))}function lr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v;t.expandBeforePlayback?n.one("player.readytoplay",function(){return r(a.a).then(e)}):n.one("player.playing",e)}var sr=function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.c)("ia_collapsed",e)};function dr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nr,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ur;return n(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));r.forEach(function(t){or(e,t,n[t])})}return e}({},(arguments.length>4&&void 0!==arguments[4]?arguments[4]:s)(),{onCollapseCallback:sr,basePlacement:t,basePlacementSize:r(t)}))}function pr(e,t,n,r){["AdError","error"].forEach(function(i){e.player.dispatcher.addEventListener(i,function(e,o){var a=cr(o,t,i,r);n(a)})})}function fr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:k;return new Promise(function(r,a){n.player.dispatcher.one("adimpression",function(){r(e)});pr(n,t,function(e){a(e)},o);i()}).then(function(e){pr(n,t,function(e){r("Error",e.errorType,e.errorParams)},o);return e})}var vr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.create;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.placementConfig=t;this.basePlacementSelector=t.config.format.inArticle.basePlacement.selector;this.basePlacement=n(this.basePlacementSelector);if(1!==this.basePlacement.length)throw new o.a("Cannot find base placement: ".concat(this.basePlacementSelector),E.a.error.NO_MATCHING_PLACEMENT);this.adType="inArticle"}!function(e,t,n){t&&ir(e.prototype,t);n&&ir(e,n)}(e,[{key:"populate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.setUpExpansion,i=void 0===r?lr:r,o=n.createAdSpace,a=void 0===o?dr:o,u=n.subscribeToAdImpression,c=void 0===u?fr:u,l=n.applyStylesUsingSelectors,s=void 0===l?f.a:l,d=n.trackActivate,v=void 0===d?p.c:d,g=n.eventBus,m=void 0===g?h.a:g,y=n.optionallyCallAMPRenderStart,b=void 0===y?rr:y;this.campaignConfig=e;return a(e,this.basePlacement).then(function(e){t.videoAdSpace=e;i(function(){return t.videoAdSpace.publishLifecycleEvent("onAdLoaded").then(function(){b();t.expand(v,m)})},e.getProps());return e}).then(function(e){e.inArticleContainer.domElement.get(0).setAttribute("data-unruly-ad-type",e.getAdTypeName());s(e.inArticleContainer.domElement.get(0),t.placementConfig.config.format.inArticle.styles);t.basePlacement.append(e.inArticleContainer.domElement);return e}).then(function(t){e.placement=t.getAdType();return t}).then(function(n){return c(t,e,n)})}},{key:"expand",value:function(e,t){this.videoAdSpace.expand();e("ia_expanded");t.dispatchEvent("expanded")}},{key:"getPlayerContainer",value:function(){return this.videoAdSpace.videoContainer}},{key:"getPotentialVideoSize",value:function(){return ur(this.basePlacement)}},{key:"getAdTypeName",value:function(){return this.videoAdSpace.getAdTypeName()}}]);return e}();function hr(e){if(e&&e.config&&e.config.format){var t=Object.keys(e.config.format);return t.length>0?t[0]:void 0}}function gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.InArticleAd,r=void 0===n?vr:n,i=t.getFormatName,a=void 0===i?hr:i,u=t.UnrulyError,c=void 0===u?o.a:u,l=a(e);switch(l){case"inArticle":return new r(e);default:throw new c("Unrecognised ad format '".concat(l,"'"))}}var mr=n(14);function yr(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a).document.createElement("a");t.href=e;return t.hostname}function br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yr;return{site:{ref:e.context.referrer,page:e.context.canonicalUrl,domain:t(e.context.canonicalUrl)}}}function Er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yr;return{site:{ref:e.document.referrer,page:e.location.href,domain:t(e.location.href)}}}var wr=function(e,t){e(t);return t},Ar=n(4),Pr=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(e,t){return e.then(function(e){return Promise.resolve(t(e))})},Promise.resolve(e))}},kr=function(e){return e instanceof Error};var Or={impression:E.a.IMP},Sr=function(e){return Or[e]||e};function _r(e){var t={},n=["apid","skid","aid","crid","cid","vid","playThrough","bidder_name","demand_partner","demand_source","txid","deal_id","rtb_all_adomains","rtb_adid","rtb_crid","rtb_seatid"];if(!e)return{};e.getExtensions().forEach(function(e){e.getDetailsByPath("Property").forEach(function(e){-1!==n.indexOf(e["@id"])&&(t[e["@id"]]=e.nodeValue)})});return t}var Cr=n(25);function Tr(e){return void 0===e||null===e||"number"==typeof e&&0!==e&&!e?[]:Array.isArray(e)?e:[e]}function xr(e,t){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];e.getExtensions().forEach(function(e){var r=e.getDetailsByPath(t+"CustomTrackingEvents.CustomTracking");if(r){r.forEach(function(e){e.nodeValue=u.d.convertProtocol(e.nodeValue)});n=n.concat(r)}});return n.filter(function(e){return u.d.isNonEmptyString(e.nodeValue)})})(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"").forEach(function(t){var n=t["@event"];e.tracking[n]=function(e,t){e instanceof Array!=1&&(e=[]);return e.concat(t)}(e.tracking[n],t.nodeValue)})}function Ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr.a.ensureProtocolPrefix,n=e.inline.VAST.Ad.InLine,r=n.AdTitle&&n.AdTitle.nodeValue||"",i={skid:null,apid:null,adParameters:void 0,items:{title:{text:r},description:{text:n.Description&&n.Description.nodeValue||""},disclosureMessage:{text:"Advertisement"},thumbnail:{attributes:{alt:r,title:r}}},clickThroughs:{title:{},thumbnail:{},disclosureMessage:{},expandedVideo:{},video:{}},tracking:{},sharing:{}};!function(e,t){var n=t.getNonLinearCreative();n&&(e.items.thumbnail.attributes.src=n.getStaticResource()||"")}(i,e);!function(e,t,n){var r=t.getLinearCreative();if(!r)throw new o.a("There was no linear creative in the VAST",E.a.error.NO_LINEAR_CREATIVE);e.mediaFiles=r.getMediaFiles().map(function(e){return function(e,t){var n=e.type,r=e.delivery,i=e.url,o=e.bitrate,a=e.width,u=e.height,c=e.apiFramework;return{type:n,delivery:r,url:t(i),bitrate:o,width:a,height:u,apiFramework:c}}(e,n)});var i=r.getClickThrough();e.clickThroughs.expandedVideo.url=i;e.clickThroughs.thumbnail.url=i;e.clickThroughs.title.url=i;e.clickThroughs.disclosureMessage.url=i;e.clickThroughs.video.url=i;e.adParameters=r.getAdParameters();e.icons=r.getIcons()}(i,e,t);!function(e,t){var n=t.inline.VAST.Ad.InLine;for(var r in E.a)e.tracking[E.a[r]]=[];e.tracking[E.a.IMP]=t.getImpressions();if(t.linearCreative){["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","rewind","resume","fullscreen","exitFullscreen","expand","collapse","acceptInvitationLinear","closeLinear","skip","progress"].forEach(function(n){var r=e.tracking[n]||[];e.tracking[n]=r.concat(t.linearCreative.getTrackingEvents(n))});var i=t.linearCreative.getAllClickTrackersAsMap(),o=Object.keys,a=function(e,t){return e.concat(i[t])},u=function(e){return o(i).filter((t=e,function(e){return e!==t})).reduce(a,[]);var t};e.tracking[E.a.VIDEO_CLICK]=u(E.a.POST_VIDEO_CLICK);e.tracking[E.a.POST_VIDEO_CLICK]=u(E.a.VIDEO_CLICK);var c=t.linearCreative.getIcons()["unruly-opt-out"];e.tracking[E.a.UNRULY_OPT_OUT_CLICK]=c?c.clickTracking:[]}xr(e,t);t.wrappers.forEach(function(t){var n=t.VAST.Ad.Wrapper;(n.Creatives&&n.Creatives.Creative||[]).filter(function(e){return e.NonLinearAds&&e.NonLinearAds.NonLinear}).forEach(function(t){Tr(t.NonLinearAds.NonLinear.NonLinearClickTracking).forEach(function(t){e.tracking[E.a.CLICK]=e.tracking[E.a.CLICK].concat(t.nodeValue)})});n.Extensions&&n.Extensions.Extension&&Tr(n.Extensions.Extension).filter(function(e){return e.Property}).forEach(function(t){Tr(t.Property).forEach(function(t){e[t["@id"]]=t.nodeValue})})});n.Extensions&&n.Extensions.Extension&&Tr(n.Extensions.Extension).forEach(function(t){t.SharingUrl&&(e.sharing.sharingUrl=t.SharingUrl.nodeValue);t.DisclosureMessage&&(e.items.disclosureMessage.text=t.DisclosureMessage.nodeValue)})}(i,e);!function(e,t){var n=t.inline.VAST.Ad.InLine;xr(e,t,"UnrulyCreative.");n.Extensions&&n.Extensions.Extension&&Tr(n.Extensions.Extension).filter(function(e){return e.UnrulyCreative}).forEach(function(t){Tr(t.UnrulyCreative.Property).forEach(function(t){e[t["@id"]]=t.nodeValue})})}(i,e);return i}var Rr=n(45);function jr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Lr=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rr)[e.apid]?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));r.forEach(function(t){jr(e,t,n[t])})}return e}({},e,{viewablePercentage:.75}):e},Dr=n(15),Mr=n(13);function Vr(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a).ajax({url:e,data:t,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},contentType:"application/json; charset=UTF-8",mimeType:"application/json"})}var Nr=function(e){return JSON.stringify(e)},Ur={};function Fr(e){Br(e)}function Br(e){var t;for(t in e)e.hasOwnProperty(t)&&(Ur[t]=void 0!==e[t]?e[t]:"undefined")}function Hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getGitHash,n=void 0===t?Mr.c:t,r=e.getSessionId,i=void 0===r?Mr.f:r,o=e.getSiteId,a=void 0===o?Mr.g:o,u=e.getRefUrl,c=void 0===u?Mr.e:u,l=e.getPageUrl,s=void 0===l?Mr.d:l;Br({gitHash:n(),sessionId:i(),siteId:a(),referrer:c(),pageUrl:s()})}function Wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nr;Br({timings:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.a.getStopwatches)()});t(e,n(Ur))}function zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{logContext:Fr,sendLog:Wr},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"https://targaryen.unrulymedia.com/error",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"https://targaryen.unrulymedia.com/success",o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];n.logContext(t);o&&(e?n.sendLog(r):n.sendLog(i))}var Kr,Qr=n(16);function Zr(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr.a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qr.a;return function(e){return e.getQueryParameterValue("unruly_override")}(r)||(t=o,(n=Object(D.b)(t))&&n.tagId?n.tagId:null)||function(e,t){var n=Object(D.b)(t);return n&&n.placements&&n.placements[e]&&n.placements[e].tagId?n.placements[e].tagId:null}(e,i)}function Jr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var qr=(Jr(Kr={},u.c.NO_ADS.code,E.a.error.NO_ADS),Jr(Kr,u.c.GENERAL_WRAPPER_ERROR.code,E.a.error.NO_ADS),Jr(Kr,u.c.VAST_SCHEMA_ERROR.code,E.a.error.AD_REQUEST_FAILED),Jr(Kr,u.c.XML_PARSE_ERROR.code,E.a.error.AD_REQUEST_FAILED),Jr(Kr,u.c.WRAPPER_URI_TIMEOUT.code,E.a.error.AD_REQUEST_FAILED),Kr);function Gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_r,n=qr[e.code]||E.a.error.ERROR,r=function(e,t){if(!e.vastResponse)return;var n=t(e.vastResponse);e.vastResponse.getLastVASTURL()&&(n.vastURL=e.vastResponse.getLastVASTURL());return Object.keys(n).length>0?n:void 0}(e,t);return new o.a(e.message,n,r)}var Xr=n(5),Yr=n(46);function $r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ei(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.getVideoSizeForAd,o=void 0===i?Ge.getForAd:i,a=r.getSerialisedPlacementTypes,u=void 0===a?V.b:a,c=r.getGitHash,l=void 0===c?Mr.c:c,s=r.getConsentParams,d=void 0===s?mr.d:s,p=r.env,f=void 0===p?{VAST_ENDPOINT:Dr.f}:p,v=r.withSiteEnvironment,h=void 0===v?Xr.a.withSiteEnvironment:v,g=o(t),m=Object.keys(g||{}).reduce(function(e,t){e["video_".concat(t)]=g[t];return e},{}),y=Object(Yr.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));r.forEach(function(t){$r(e,t,n[t])})}return e}({uuid:e.config.targetingUUID},n,d(),m,u(e.config),{"unr.site.env":h()()["unr.site.env"],h:l()}));return"//".concat(f.VAST_ENDPOINT,"?").concat(y)}function ti(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.a,o={};t&&t.getRawResponses?o.raw=t.getRawResponses():o.raw="raw response not recorded";n.init(i);n.log(e,o)}function ni(e,t,n,r,i){var o=e.config.vastURL||r(e,t,n);i.VAST_URL_OVERRIDE&&(o=window.top.__unrulyInArticleVASTURL||o);return{url:o,corsCookieDomainBlacklist:["cloud-video.unrulymedia.com","video.unrulymedia.com","test.corp.unrulymedia.com","test.video.unrulymedia.com"]}}function ri(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zr)(e.config.placementId);if(n){t.headers=t.headers||{};t.headers["X-Unruly-Override"]=n}return t}function ii(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=i.vastErrorMapper,a=void 0===o?Gr:o,u=i.logVASTResponse,c=void 0===u?ti:u,l=i.getVASTRequestConfig,s=void 0===l?ni:l,d=i.applyOverrideHeaders,p=void 0===d?ri:d,f=i.buildVASTUrl,v=void 0===f?ei:f,h=i.env,g=void 0===h?{VAST_URL_OVERRIDE:Dr.g}:h;return Promise.resolve(s(e,t,n,v,g)).then(function(t){return p(e,t)}).then(r.requestVastChain).catch(function(e){c(!0,e.vastResponse);throw a(e)}).then(function(e){c(!1,e);return e})}function oi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));r.forEach(function(t){ui(e,t,n[t])})}return e}function ui(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ci=new u.a;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adManager,n=e.onRequestStart,r=void 0===n?i.a.start:n,o=e.onRequestEnd,a=void 0===o?i.a.stop:o,u=e.extractApidSkidFromVastResponse,c=void 0===u?_r:u,l=e.trackActivate,s=void 0===l?p.c:l;t.addEventListener("requestStart",function(e){r("vast_"+e.requestNumber)});t.addEventListener("requestEnd",function(e){a("vast_"+e.requestNumber);s(E.a.prefixed.VAST_REQUEST_X+e.requestNumber,ai({},c(e.vastResponse),{vast_url:e.uri}))})}({adManager:ci});var li=function(e){return function e(t){if("function"==typeof t)try{return e(t())}catch(e){return Promise.reject(e)}return!t||kr(t)?Promise.reject(t):Promise.resolve(t)}(!!(e&&e.config&&e.config.targetingUUID)).catch(function(){throw{type:E.a.error.SKIN_SETUP_FAILED,message:"no targeting uuid in skin"}})},si=function(e){return Promise.all([li(e)])};function di(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.enrichParametersFromPlacement,i=void 0===r?p.a:r,o=n.trackActivate,a=void 0===o?p.c:o,u=n.getConsentParams,c=void 0===u?mr.d:u;a(E.a.ADCALL,i(ai({site:t.site},c()),e.config));return t}function pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.trackActivate,r=void 0===n?p.c:n,o=t.startStopWatch,a=void 0===o?i.a.start:o;r(E.a.CREATIVE_RECEIVED);a("ad_render");return e}function fi(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.b.getCustomTracking)();return Object.keys(t).map(function(e){return{eventName:Sr(e),customTrackingUrls:t[e]}}).reduce(function(e,t){var n,r=t.eventName,i=t.customTrackingUrls;(n={object:e.tracking,key:r}).object[n.key]||(n.object[n.key]=[]);e.tracking[r]=oi(e.tracking[r]).concat(oi(i));return e},e)}function vi(e){return Ir(e)}var hi=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:br,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Er;return e(window)?t():n()}()};function gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di;return function(n){return t(e,n)}}function mi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ii,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ci;return function(i){return n(e,t,i,r)}}function yi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.registerCampaignConfig,i=void 0===r?p.b:r,o=n.chain,a=void 0===o?Pr:o,u=n.createAdCallTracker,c=void 0===u?gi:u,l=n.createVASTFetcher,s=void 0===l?mi:l,d=n.applyGroupMOverrides,f=void 0===d?Lr:d,v=n.supplyMode,h=void 0===v?Object(D.b)(Object(Ar.a)()).supplyMode:v;return a(e)(si,hi,"prebid"===h?function(e){return e}:c(e),s(e,t),vi,f,fi,function(e){return wr(i,e)},pi)}var bi=function(e){var t=e.campaignConfig,n=e.getGitHash,r=void 0===n?Mr.c:n,o=e.stopwatch,a=void 0===o?i.a:o;return{sampleRate:.05,eventCategory:"terrax",dimensions:[r(),t.pid,t.bidder_name,t.rtb_crid,t.rtb_adid],vastLoadTime:a.getTime("vast_0")}},Ei=function(e){var t=e.campaignConfig,n=e.initialiseZentrickDiagnostics,r=void 0===n?sn.b:n,i=e.buildZentrickDiagnostics,o=void 0===i?bi:i;t.vpaid_wrapped&&r(o({campaignConfig:t}))},wi=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(e,t,n){return t.filter(function(t){return-1!==t.name.indexOf(e)}).map(function(e){return n.reduce(function(t,n){t[n]=e[n];return t},{name:e.name})})}(e,(n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).performance}(t))?n.getEntries():[],r)},Ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qr.a,n=["duration","connectStart","connectEnd","domainLookupStart","domainLookupEnd","requestStart","responseStart","responseEnd"];return e(Dr.b,t,n).reduce(function(e,t,r){n.forEach(function(n){e["prebid_exchange_request_".concat(r,"_").concat(n)]=t[n]});return e},{})};function Pi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.windowScope,r=void 0===n?Object(Ar.a)():n,o=t.stopwatch,a=void 0===o?i.a:o,u=t.trackThirdParty,c=void 0===u?p.e:u,l=t.getPublisherConfiguration,s=void 0===l?D.b:l,d=t.getPrebidRequestProperties,f=void 0===d?Ai:d;a.stop("ad_render");var v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));r.forEach(function(t){Pi(e,t,n[t])})}return e}({},"prebid"===(s(r)||{}).supplyMode?f():{},{adFormat:e});c(E.a.PP_IMP,v)}n.d(t,"populatePlacement",function(){return Oi});function Oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.trackImpression,r=void 0===n?ki:n,o=t.adFactory,a=void 0===o?gr:o,u=t.getCampaignConfig,c=void 0===u?yi:u,l=t.stopwatch,s=void 0===l?i.a:l,d=t.initialiseDiagnostics,p=void 0===d?Ei:d,f=t.eventBus,v=void 0===f?h.a:f,g=a(e);s.start("adAge");return Promise.resolve().then(function(){return c(e,g)}).then(function(e){p({campaignConfig:e});v.dispatchEvent("populateAd",g);return g.populate(e)}).then(function(e){var t=e&&e.getAdTypeName?e.getAdTypeName():"";r(t)})}}}]);
//# sourceMappingURL=https://s3-eu-west-1.amazonaws.com/unruly-sourcemaps/native/sourcemaps/chunks/chunk-populatePlacement-08f5d85995268616f5f8.js.map