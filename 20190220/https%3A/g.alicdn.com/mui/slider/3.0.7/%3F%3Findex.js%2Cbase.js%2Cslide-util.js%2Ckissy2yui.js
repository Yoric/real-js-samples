KISSY.add("mui/slider/index",function(e,t){return t},{requires:["mui/slider/base"]});KISSY.add("mui/slider/base",function(e){"use strict";var t=e.Node.all;var n=function(){if(!(this instanceof n)){throw new Error('please use "new Slide()"')}this.init.apply(this,arguments)};n.plug=function(e){var t=this};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();e.augment(n,e.Event.Target,{init:function(t,n){var i=this;if(e.isObject(t)){i.con=t}else if(/^#/i.test(t)){i.con=e.one(t)}else if(e.one("#"+t)){i.con=e.one("#"+t)}else if(e.one(t)){i.con=e.one(t)}else{throw new Error("Slide Container Hooker not found")}i.buildParam(n);i.buildHTML();i.bindEvent();i.fire("ready",{index:0,navnode:i.tabs.item(0),pannelnode:i.pannels.item(0)});if(i.reverse){var a;a=i.previous;i.previous=i.next;i.next=a}if(i.carousel){for(var s=0;s<i.colspan;s++){i.fix_for_transition_when_carousel(s*2)}}i.fixSlideSize();if(i.layerSlide){i.initLayer()}i.stoped=null;i.renderPannelTextarea(i.currentTab);return this},setWrapperSize:function(t){var n=this;if(e.isUndefined(t)){t=0}n.pannels=n.con.all("."+n.contentClass+" ."+n.pannelClass);n.length=n.pannels.length;var i={none:function(){},vSlide:function(){var e=n.animcon.get("region");n.animwrap.setStyles({height:(n.length+t)*e.height/n.colspan+"px"})},hSlide:function(){var e=n.animcon.get("region");n.animwrap.setStyles({width:(n.length+t)*e.width/n.colspan+"px"})},fade:function(){}};i[n.effect]();if(!e.isUndefined(t)){n.relocateCurrentTab()}return this},add:function(t,n){var i=this;if(e.isUndefined(n)||n>i.length){n=i.length}if(e.isString(t)){t=e.one(t)}if(i.transitions){t.css({visibility:"hidden"})}if(n<=i.currentTab){i.currentTab++}if(n==i.length){setTimeout(function(){i.setWrapperSize(1)},0);t.insertAfter(i.pannels[n-1])}else{t.insertBefore(i.pannels[n])}i.setWrapperSize();i.fixSlideSize(i.currentTab);if(i.transitions){t.css({visibility:""})}if(i.transitions){}return this},remove:function(t){var n=this;if(n.length===1){return}if(t<=n.currentTab){n.currentTab--;n.length--}if(n.transitions){n.con.css({display:"none"})}e.one(n.pannels[t]).remove();n.setWrapperSize();if(n.transitions){n.con.css({display:"block"})}n.fixSlideSize(n.currentTab);return this},removeLast:function(){var e=this;e.remove(e.length-1);return e},renderLazyData:function(t){var n=this;t.setStyle("display","none");if(t.attr("lazy-data")=="1"){return}t.attr("lazy-data","1");if(e.isUndefined(s)){var i=String(e.now())}else{var i=e.stamp(s)}var a=t.get("innerHTML").replace(/&lt;/gi,"<").replace(/&gt;/gi,">"),s=e.Node.create("<div>"+a+"</div>");e.one(s).insertBefore(t);e.execScript(a)},renderPannelTextarea:function(t){var n=this;if(!n.pannels.item(t)){return}var i=function(t){var i=e.one(n.pannels.item(t));var a=n.pannels.item(t).all(".data-lazyload");if(a){a.each(function(e,t){n.renderLazyData(e)})}};for(var a=0;a<n.colspan;a++){i(t+a)}},buildWrap:function(){var t=this;t.animwrap=e.Node.create('<div style="position:absolute;width:100%;"></div>');t.animcon.children().appendTo(t.animwrap);t.animcon.empty().appendChild(t.animwrap);t.pannels=t.con.all("."+t.contentClass+" ."+t.pannelClass);return t},doEffectInit:function(){var e=this;var t={none:function(){e.pannels=e.con.all("."+e.contentClass+" ."+e.pannelClass);e.pannels.setStyles({display:"none"});e.pannels.item(e.defaultTab).setStyles({display:"block"})},vSlide:function(){e.buildWrap();var t=e.animcon.get("region");e.pannels.setStyles({"float":"none",overflow:"hidden"});var n=-1*e.defaultTab*t.height;if(e.colspan){n=n/e.colspan}if(e.transitions){e.animwrap.setStyles({overflow:"hidden",height:e.length*t.height/e.colspan+"px","-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+n+"px,0)"})}else{e.animwrap.setStyles({height:e.length*t.height/e.colspan+"px",overflow:"hidden",top:n+"px"})}},hSlide:function(){e.buildWrap();var t=e.animcon.get("region");e.pannels.setStyles({"float":"left",overflow:"hidden"});var n=-1*e.defaultTab*t.width;if(e.colspan){n=n/e.colspan}if(e.transitions){e.animwrap.setStyles({overflow:"hidden",width:e.length*t.width/e.colspan+"px","-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+n+"px,0,0)"})}else{e.animwrap.setStyles({width:e.length*t.width/e.colspan+"px",overflow:"hidden",left:n+"px"})}},fade:function(){e.pannels=e.con.all("."+e.contentClass+" ."+e.pannelClass);e.pannels.setStyles({position:"absolute",zIndex:0});e.pannels.each(function(t,n){if(n==e.defaultTab){t.setStyles({opacity:1,display:"block"})}else{t.setStyles({opacity:0,display:"none"})}})}};t[e.effect]();return this},buildHTML:function(){var t=this;var n=t.con;t.tabs=n.all("."+t.navClass+" "+t.triggerSelector);var i=n.all("."+t.contentClass+" ."+t.pannelClass);t.length=i.size();if(!n.one("."+t.navClass)){e.Node('<ul class="'+t.navClass+'" style="display:none"></ul>').appendTo(t.con)}if(t.tabs.size()===0){var a=n.all("."+t.navClass);var s="";for(var r=0;r<t.length;r++){var o="";if(r===0){o=t.selectedClass}s+='<li class="'+o+'"><a href="javascript:void(0);">'+(r+1)+"</a></li>"}a.set("innerHTML",s)}t.tabs=n.all("."+t.navClass+" "+t.triggerSelector);t.animcon=n.one("."+t.contentClass);t.animwrap=null;t.doEffectInit();if(t.carousel){t.fixSlideSize(t.currentTab-t.colspan);t.highlightNav(t.currentTab-t.colspan)}else{t.fixSlideSize(t.currentTab);t.highlightNav(t.getWrappedIndex(t.currentTab))}if(t.autoSlide===true){if(t.invisibleStop&&t.isSlideVisible()||!t.invisibleStop){t.play()}}return this},getCurrentPannel:function(){var t=this;return e.one(t.pannels[t.currentTab])},renderWidth:function(){var e=this;var t=e.animcon.get("region").width;if(e.effect=="hSlide"){t/=e.colspan}e.pannels.setStyles({width:t+"px"});return this},renderHeight:function(){var e=this;var t=e.animcon.get("region").height;if(e.effect=="vSlide"){t/=e.colspan}e.pannels.setStyles({height:t+"px"});return this},relocateCurrentTab:function(t){var n=this;if(e.isUndefined(t)){t=n.currentTab}if(n.effect!=="hSlide"&&n.effect!=="vSlide"){return}if(n.transitions){if(n.effect==="hSlide"){n.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+-1*t*n.animcon.get("region").width/n.colspan+"px,0,0)","-webkit-backface-visibility":"hidden"})}else if(n.effect==="vSlide"){n.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+-1*t*n.animcon.get("region").height/n.colspan+"px,0)","-webkit-backface-visibility":"hidden"})}}else{if(n.effect==="hSlide"){n.animwrap.setStyles({left:-1*t*n.animcon.get("region").width/n.colspan})}else if(n.effect==="vSlide"){n.animwrap.setStyles({top:-1*t*n.animcon.get("region").height/n.colspan})}}n.currentTab=t;return this},fixSlideSize:function(e){var t=this;if(t.adaptive_fixed_width){t.renderWidth()}if(t.adaptive_fixed_height){t.renderHeight()}if(t.adaptive_fixed_size){t.renderHeight().renderWidth()}t.resetSlideSize(e);return this},removeHeightTimmer:function(){var t=this;if(!e.isNull(t.heightTimmer)){clearInterval(t.heightTimmer);t.heightTimmer=null}},addHeightTimmer:function(){var t=this;if(!e.isNull(t.heightTimmer)){clearInterval(t.heightTimmer);t.heightTimmer=null}var n=function(){if(t.effect=="hSlide"){t.animcon.setStyles({height:t.pannels.item(t.currentTab).get("region").height+"px"})}};t.heightTimmer=setInterval(n,100);n()},resetSlideSize:function(e){var t=this;var n,i;if(typeof e=="undefined"||e===null){e=t.currentTab}if(t.effect!="hSlide"&&t.effect!="vSlide"){return}if(t.effect=="hSlide"){n=t.adaptive_width?t.adaptive_width():t.animcon.get("region").width;i=t.pannels.item(e).get("region").height;t.animwrap.setStyles({width:t.pannels.size()*n+"px"});n/=t.colspan;t.pannels.setStyles({width:n+"px",display:"block"});t.animcon.setStyles({width:n*t.colspan+"px",overflow:"hidden"});if(t.animWrapperAutoHeightSetting){t.animcon.setStyles({height:i+"px"})}}if(t.effect=="vSlide"){i=t.pannels.item(e).get("region").height;n=t.adaptive_width?t.adaptive_width():t.animcon.get("region").width;t.animwrap.setStyles({height:t.pannels.size()*i+"px"});i/=t.colspan;t.pannels.setStyles({height:i*t.colspan+"px",display:"block"});t.animcon.setStyles({height:i*t.colspan+"px",overflow:"hidden"});if(t.animWrapperAutoWidthSetting){t.animcon.setStyles({width:n+"px"})}}return this},getWrappedIndex:function(e){var t=this,n=0;if(e===0){}if(t.carousel){if(e<t.colspan){n=t.length-t.colspan*3+e}else if(e>=t.length-t.colspan){n=e-(t.length-t.colspan)}else{n=e-t.colspan}}else{n=e}return n},getMousePosition:function(){var t=this;var n=function(e){t._t_mouseX=e.clientX;t._t_mouseY=e.clientY};e.one(document).on("mousemove",n);setTimeout(function(){e.one(window).detach("mouseover",n)},t.triggerDelay)},massTrigger:function(t,n){var i=this;if(!e.inArray(i.eventType,["mouseover","mouseenter"])){t(e.one(n));return}i.getMousePosition();if(e.isUndefined(i._fired)||e.isNull(i._fired)){i._fired=setTimeout(function(){if(i.inRegion([i._t_mouseX+e.one(window).scrollLeft(),i._t_mouseY+e.one(window).scrollTop()],e.one(n))){t(e.one(n))}i._fired=null},i.triggerDelay)}else{clearTimeout(i._fired);i._fired=setTimeout(function(){if(i.inRegion([i._t_mouseX+e.one(window).scrollLeft(),i._t_mouseY+e.one(window).scrollTop()],e.one(n))){t(e.one(n))}i._fired=null},i.triggerDelay)}},getMaxAnimDelay:function(t){var n=this,i=0;if(!n.sublayers){return}e.each(n.sublayers[t],function(e){if(e.durationout+e.delayout>i){i=e.durationout+e.delayout}});return i},inRegion:function(e,t){var n=t.offset();var i={width:t.width(),height:t.height()};if(e[0]>=n.left&&e[0]<=n.left+i.width){if(e[1]>=n.top&&e[1]<=n.top+i.height){return true}}return false},bindEvent:function(){var t=this;if(e.inArray(t.eventType,["click","mouseover","mouseenter"])){t.con._delegate(t.eventType,function(e){e.preventDefault();t.massTrigger(function(e){var n=Number(t.tabs.indexOf(e));if(t.carousel){n=(n+1)%t.length}t.go(n);if(t.autoSlide&&!t.stoped){t.stop().play()}},e.currentTarget)},"."+t.navClass+" "+t.triggerSelector)}if(t.hoverStop){t.con._delegate("mouseover",function(e){t.isMouseover=true;if(t.autoSlide){var n=t.stoped;t.stop();t.stoped=n}},"."+t.contentClass+" ."+t.pannelClass);t.con._delegate("mouseout",function(e){t.isMouseover=false;if(t.autoSlide&&!t.stoped)t.play()},"."+t.contentClass+" ."+t.pannelClass)}e.one(window).on("resize",function(e){t.fixSlideSize(t.currentTab);t.relocateCurrentTab()});t.on("beforeSwitch",function(e){if(this.layerSlide&&this.isAming()){return false}});if(true){if(!t.touchmove){return this}t.con._delegate("touchstart",function(e){var n=t.stoped;t.stop();t.stoped=n;t.touching=true;if(t.is_last()&&t.carousel){t.fix_next_carousel()}if(t.is_first()&&t.carousel){t.fix_pre_carousel()}t.startX=e.changedTouches[0].clientX;t.startY=e.changedTouches[0].clientY;t.animwrap.setStyles({"-webkit-transition-duration":"0s"});t.startT=Number(new Date)},"."+t.contentClass);t.con._delegate("touchend",function(e){t.touching=false;if(t.effect==="hSlide"){var n=e.changedTouches[0].clientX;var i=Number(t.animcon.get("region").width);t.deltaX=Math.abs(n-t.startX);var a=Math.abs(n)<Math.abs(t.startX);var s=!a;var r=t.carousel?false:t.is_last()&&a||t.is_first()&&s;var o=function(){t.animwrap.setStyles({"-webkit-transition-duration":Number(t.speed)/2+"s","-webkit-transform":"translate3d("+-1*t.currentTab*t.animcon.get("region").width/t.colspan+"px,0,0)"})}}else if(t.effect==="vSlide"){var l=e.changedTouches[0].clientY;var f=Number(t.animcon.get("region").height);t.deltaY=Math.abs(l-t.startY);var c=Math.abs(l)<Math.abs(t.startY);var u=!c;var r=t.carousel?false:t.is_last()&&c||t.is_first()&&u;var o=function(){t.animwrap.setStyles({"-webkit-transition-duration":Number(t.speed)/2+"s","-webkit-transform":"translate3d(0,"+-1*t.currentTab*t.animcon.get("region").height/t.colspan+"px,0)"})}}var d=function(){if(t.effect==="hSlide"){var e=t.animcon.get("region").width/t.colspan;var n=parseInt((t.deltaX-e/2)/e,10);if(a){if(n>=1&&t.length>2){t.currentTab+=n+1;if(t.currentTab>=t.length-t.colspan){t.currentTab=t.length-t.colspan-1}}t.next()}else{if(n>=1&&t.length>2){t.currentTab+=-1*n-1;if(t.currentTab<=0){t.currentTab=1}}t.previous()}}else if(t.effect==="vSlide"){var i=t.animcon.get("region").height/t.colspan;var n=parseInt((t.deltaX-i/2)/i,10);if(c){if(n>=1&&t.length>2){t.currentTab+=n+1;if(t.currentTab>=t.length-t.colspan){t.currentTab=t.length-t.colspan-1}}t.next()}else{if(n>=1&&t.length>2){t.currentTab+=-1*n-1;if(t.currentTab<=0){t.currentTab=1}}t.previous()}}};if(t.touchmove&&(t.effect==="vSlide"?t.deltaY:t.deltaX)<30){o();return}if(!r&&(t.touchmove&&t.deltaX>i/3||!t.touchmove&&t.carousel||!t.carousel&&t.touchmove&&(t.effect=="hSlide"||t.effect=="vSlide")||!t.touchmove&&!t.carousel||Number(new Date)-t.startT<550)){d()}else{o()}if(t.autoSlide&&!t.stoped){t.play()}},"."+t.contentClass);if(t.touchmove){t.con._delegate("touchmove",function(e){if(e.touches.length>1)return;if(t.effect==="hSlide"){t.deltaX=e.touches[0].clientX-t.startX;var n=t.is_last()&&t.deltaX<0||t.is_first()&&t.deltaX>0;if(!t.carousel&&t.effect=="hSlide"&&n){t.deltaX=t.deltaX/3}t.isScrolling=Math.abs(t.deltaX)<Math.abs(e.touches[0].clientY-t.startY)?true:false;if(!t.isScrolling){e.preventDefault();var i=t.stoped;t.stop();t.stoped=i;var a=Number(t.animcon.get("region").width/t.colspan);var s=t.deltaX-t.currentTab*a;t.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+s+"px,0,0)"})}}else if(t.effect==="vSlide"){t.deltaY=e.touches[0].clientY-t.startY;var n=t.is_last()&&t.deltaY<0||t.is_first()&&t.deltaY>0;if(!t.carousel&&t.effect=="vSlide"&&n){t.deltaY=t.deltaY/3}t.isScrolling=Math.abs(t.deltaY)<Math.abs(e.touches[0].clientX-t.startX)?true:false;if(!t.isScrolling){e.preventDefault();t.stop();var r=Number(t.animcon.get("region").height/t.colspan);var s=t.deltaY-t.currentTab*r;t.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+s+"px,0)"})}}},"."+t.contentClass);if(t.animwrap){t.animwrap.on("webkitTransitionEnd",function(){})}}}if(t.invisibleStop){var n=e.getHiddenProp();if(n){var i=n.replace(/[H|h]idden/,"")+"visibilitychange",a;e.one(document).on(i,function(n){if(e.isHidden()){if(t.timer){a=true;t.stop()}else{a=false}}else{if(t.isSlideVisible()&&a){t.play()}}})}e.one(window).on("scroll resize",function(e){if(t.isSlideVisible()){if(!t.timer&&(!t.hoverStop||t.hoverStop&&!t.isMouseover)){t.play()}}else{if(t.timer){t.stop()}}})}return this},isSlideVisible:function(){var t=this,n=t.animcon.offset().left,i=t.animcon.offset().top,a=t.animcon.width(),s=t.animcon.height(),r=e.one(window).scrollTop(),o=e.one(window).scrollLeft();if(r>i+s||r+e.one(window).height()<i||o>n+a||o+e.one(window).width()<n){return false}else{return true}},initLayer:function(){var t=this;if("ontouchstart"in document.documentElement){return}if(e.UA.ie>0&&e.UA.ie<9){return}var n=["durationin","easingin","durationout","easingout","delayin","delayout","slideindirection","slideoutdirection","offsetin","offsetout","alpha","easeInStrong","easeOutStrong","easeBothStrong","easeNone","easeIn","easeOut","easeBoth","elasticIn","elasticOut","elasticBoth","backIn","backOut","backBoth","bounceIn","bounceOut","bounceBoth","left","top","right","bottom"];var i={durationin:1e3,easingin:"easeIn",durationout:1e3,easingout:"easeOut",delayin:300,delayout:300,slideindirection:"right",slideoutdirection:"left",alpha:true,offsetin:50,offsetout:50};var a=function(t){var a=this;var s=[];var r=t.attr("rel").replace(/"'/gi,"").replace(new RegExp("("+n.join("|")+")","ig"),'"$1"');var o=e.JSON.parse("{"+r+"}");function l(e,t){var n=o[t];a[t]=n===undefined||n===null?e:n}e.each(i,l);this.el=t;this.left=Number(t.css("left").replace("px",""));this.top=Number(t.css("top").replace("px",""));this.animIn=function(){var t=this;var n=t.offsetin;var i=t.slideindirection;var a={left:function(){t.el.css({left:t.left-n})},top:function(){t.el.css({top:t.top-n})},right:function(){t.el.css({left:t.left+n})},bottom:function(){t.el.css({top:t.top+n})}};a[i]();setTimeout(function(){var n={left:{left:t.left},top:{top:t.top},bottom:{top:t.top},right:{left:t.left}};var a={};e.mix(a,n[i]);if(t.alpha){e.mix(a,{opacity:1})}e.one(t.el).animate(a,t.durationout/1e3,t.easingin,function(){})},t.delayin);if(t.alpha){t.el.css({opacity:0})}};this.animOut=function(){var t=this;var n=t.offsetout;var i=t.slideoutdirection;var a={left:function(){t.el.css({left:t.left})},top:function(){t.el.css({top:t.top})},right:function(){t.el.css({left:t.left})},bottom:function(){t.el.css({top:t.top})}};a[i]();setTimeout(function(){var a={left:{left:t.left+n},top:{top:t.top+n},bottom:{top:t.top-n},right:{left:t.left-n}};var s={};e.mix(s,a[i]);if(t.alpha){e.mix(s,{opacity:0})}e.one(t.el).animate(s,t.durationout/1e3,t.easingout,function(){})},t.delayout);if(t.alpha){t.el.css({opacity:1})}}};t.sublayers=[];t.pannels.each(function(e,n){if(t.effect=="vSlide"||t.effect=="hSlide"){e.css({position:"relative"})}if(e.all('[alt="sublayer"]').length===0){t.sublayers[n]=[];return}if(t.sublayers[n]===undefined){t.sublayers[n]=[]}e.all('[alt="sublayer"]').each(function(e,i){t.sublayers[n].push(new a(e))})});t.on("beforeSwitch",function(e){if(e.index===t.currentTab){return false}t.subLayerRunin(e.index)});t.on("beforeTailSwitch",function(e){t.subLayerRunout(e.index);return t.getMaxAnimDelay(e.index)})},subLayerRunin:function(t){var n=this;var i=n.sublayers[t];e.each(i,function(e,t){e.animIn()})},subLayerRunout:function(t){var n=this;var i=n.sublayers[t];e.each(i,function(e,t){e.animOut()})},buildParam:function(t){var n=this;if(t===undefined||t===null){t={}}function i(e,i){var a=t[i];n[i]=a===undefined||a===null?e:a}e.each({autoSlide:false,speed:300,timeout:3e3,effect:"none",eventType:"click",easing:"easeBoth",hoverStop:true,invisibleStop:false,selectedClass:"selected",conClass:"t-slide",navClass:"tab-nav",triggerSelector:"li",contentClass:"tab-content",pannelClass:"tab-pannel",carousel:false,reverse:false,touchmove:true,adaptive_fixed_width:false,adaptive_fixed_height:false,adaptive_fixed_size:false,adaptive_width:false,adaptive_height:false,defaultTab:0,layerSlide:false,layerClass:"tab-animlayer",colspan:1,animWrapperAutoWidthSetting:false,animWrapperAutoHeightSetting:true,webkitOptimize:true,triggerDelay:300,autoActived:true},i);e.mix(n,{tabs:[],animcon:null,pannels:[],timmer:null,touching:false});n.speed=n.speed/1e3;if(n.defaultTab!==0){n.defaultTab=Number(n.defaultTab)-1}if(n.carousel){n.defaultTab=0;n.defaultTab=n.colspan+n.defaultTab;if(n.effect!=="hSlide"&&n.effect!=="vSlide"){n.effect="hSlide"}}n.currentTab=n.defaultTab;n.transitions="webkitTransition"in document.body.style&&n.webkitOptimize;return n},fix_for_transition_when_carousel:function(e){var t=this;if(typeof e=="undefined"){e=0}var n=t.con;t.animcon=t.animcon||t.con.one("."+t.contentClass);t.animwrap=t.animwrap||t.animcon.one("div");t.pannels=t.pannels||n.all("."+t.contentClass+" ."+t.pannelClass);if(t.effect=="hSlide"){var i=Number(t.animcon.get("region").width/t.colspan);var a=Number(t.animcon.get("region").height);t.animwrap.setStyle("width",t.pannels.size()*i+2*i);var s=t.pannels.item(e).cloneNode(true);var r=t.pannels.item(t.pannels.size()-1-e).cloneNode(true);t.animwrap.append(s);t.animwrap.prepend(r);if(t.defaultTab===0){var o=-1*i*(e/2+1+t.defaultTab-1)}else{var o=-1*i*(e/2+1)}if(t.transitions){t.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+o+"px,0,0)","-webkit-backface-visibility":"hidden",left:"0"})}else{t.animwrap.setStyle("left",o)}}else if(t.effect=="vSlide"){var i=Number(t.animcon.get("region").width);var a=Number(t.animcon.get("region").height/t.colspan);t.animwrap.setStyle("height",t.pannels.size()*a+2*a);var s=t.pannels.item(e).cloneNode(true);var r=t.pannels.item(t.pannels.size()-1-e).cloneNode(true);t.animwrap.append(s);t.animwrap.prepend(r);if(t.defaultTab===0){var l=-1*a*(e/2+1+t.defaultTab-1)}else{var l=-1*a*(e/2+1)}if(t.transitions){t.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+l+"px,0)","-webkit-backface-visibility":"hidden",left:"0"})}else{t.animwrap.setStyle("top",l)}}t.pannels=n.all("."+t.contentClass+" ."+t.pannelClass);t.length=t.pannels.size();return this},isAming:function(){var e=this;return false},previous:function(e){var t=this;var n=t.currentTab+t.length-1-(t.colspan-1);if(n>=t.length-t.colspan+1){n=n%(t.length-t.colspan+1)}if(t.carousel){if(t.is_first()){t.fix_pre_carousel();t.previous.call(t);return this}}t.go(n,e);return this},is_last:function(){var e=this;if(e.currentTab==e.length-(e.colspan-1)-1){return true}else{return false}},is_first:function(){var e=this;if(e.currentTab===0){return true}else{return false}},next:function(e){var t=this;var n=t.currentTab+1;if(n>=t.length-t.colspan+1){n=n%(t.length-t.colspan+1)}if(t.carousel){if(t.is_last()){t.fix_next_carousel();t.next.call(t);return this}}t.go(n,e);return this},fix_next_carousel:function(){var e=this;e.currentTab=e.colspan;var t=e.con;if(e.effect!="none"){e.pannels=t.all("."+e.contentClass+" ."+e.pannelClass)}if(e.effect=="hSlide"){var n="-"+Number(e.animcon.get("region").width).toString()+"px";if(e.transitions){e.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+n+",0,0)"})}else{e.animwrap.setStyle("left",n)}}else if(e.effect=="vSlide"){var n="-"+Number(e.animcon.get("region").height).toString()+"px";if(e.transitions){e.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+n+",0)"})}else{e.animwrap.setStyle("top",n)}}return},fix_pre_carousel:function(){var e=this;e.currentTab=e.length-1-e.colspan*2+1;var t=e.con;if(e.effect!="none"){e.pannels=t.all("."+e.contentClass+" ."+e.pannelClass)}if(e.effect=="hSlide"){var n="-"+(Number(e.animcon.get("region").width/e.colspan)*e.currentTab).toString()+"px";if(e.transitions){e.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d("+n+",0,0)"})}else{e.animwrap.setStyle("left",n)}}else if(e.effect=="vSlide"){var n="-"+(Number(e.animcon.get("region").height/e.colspan)*e.currentTab).toString()+"px";if(e.transitions){e.animwrap.setStyles({"-webkit-transition-duration":"0s","-webkit-transform":"translate3d(0,"+n+",0)"})}else{e.animwrap.setStyle("top",n)}}return},highlightNav:function(e){var t=this;if(t.carousel&&(t.colspan>1||t.colspan>1)){return this}if(t.tabs.item(e)){t.tabs.removeClass(t.selectedClass);t.tabs.item(e).addClass(t.selectedClass)}return this},hightlightNav:function(){var e=this;e.highlightNav.apply(e,arguments);return this},unhighlightNav:function(e){var t=this;if(t.carousel&&(t.colspan>1||t.colspan>1)){return this}if(t.tabs.item(e)){t.tabs.removeClass(t.selectedClass)}return this},unhighlightNavAll:function(){var e=this;e.tabs.removeClass(e.selectedClass);return this},switch_to:function(t,n){var i=this;if(n===false){var a=false}else{var a=true}var s=function(){if(e.isFunction(n)){n.call(i,i)}i.fire("afterSwitch",{index:i.currentTab,navnode:i.tabs.item(i.getWrappedIndex(i.currentTab)),pannelnode:i.pannels.item(i.currentTab)})};var r=i.fire("beforeTailSwitch",{index:i.currentTab,navnode:i.tabs.item(i.getWrappedIndex(i.currentTab)),pannelnode:i.pannels.item(i.currentTab)});i.fixSlideSize(t);if(i.autoSlide&&!i.stoped){i.stop().play()}if(t>=i.length){t=t%i.length}if(t==i.currentTab){return this}if(i.anim){try{i.anim.stop();i.anim=null}catch(o){}}var l={none:function(e){i.pannels.setStyles({display:"none"});i.pannels.item(e).setStyles({display:"block"});s()},vSlide:function(t){if(i.transitions){i.animwrap.setStyles({"-webkit-transition-duration":(a?i.speed:"0")+"s","-webkit-transform":"translate3d(0,"+-1*t*i.animcon.get("region").height/i.colspan+"px,0)","-webkit-backface-visibility":"hidden"});if(a){i.anim=e.one(i.animwrap).animate({"-webkit-transition-duration":i.speed+"s","-webkit-transform":"translate3d(0,"+-1*t*i.animcon.get("region").height/i.colspan+"px,0)","-webkit-backface-visibility":"hidden",opacity:1},e.config("mini")?i.speed:.001,i.easing,function(){});setTimeout(function(){s()},i.speed*1e3)}else{s()}}else{if(a){i.anim=e.one(i.animwrap).animate({top:-1*t*i.animcon.get("region").height/i.colspan},i.speed,i.easing,function(){s()})}else{i.animwrap.css({top:-1*t*i.animcon.get("region").height/i.colspan});s()}}},hSlide:function(t){if(i.transitions){if(a){i.anim=e.one(i.animwrap).animate({"-webkit-transition-duration":i.speed+"s","-webkit-transform":"translate3d("+-1*t*i.animcon.get("region").width/i.colspan+"px,0,0)","-webkit-backface-visibility":"hidden",opacity:1},e.config("mini")?i.speed:.001,i.easing,function(){});setTimeout(function(){s()},i.speed*1e3)}else{s()}}else{if(a){i.anim=e.one(i.animwrap).animate({left:-1*t*i.animcon.get("region").width/i.colspan},i.speed,i.easing,function(){s()})}else{i.animwrap.css({left:-1*t*i.animcon.get("region").width/i.colspan});s()}}},fade:function(t){var n=i.currentTab;i.pannels.item(t).setStyle({display:"block"});i.pannels.item(t).setStyle("opacity",0);i.pannels.item(n).setStyle("zIndex",1);i.pannels.item(t).setStyle("zIndex",2);i.anim=e.one(i.pannels.item(t)).animate({opacity:1},i.speed,i.easing,function(){i.pannels.item(n).setStyle("zIndex",0);i.pannels.item(t).setStyle("zIndex",1);i.pannels.item(n).setStyle("opacity",0);i.pannels.item(n).setStyles({display:"none"});s();i.fire("afterSwitch",{index:t,navnode:i.tabs.item(i.getWrappedIndex(t)),pannelnode:i.pannels.item(t)})})}};var f=function(){var e=i.fire("beforeSwitch",{index:t,navnode:i.tabs.item(t),pannelnode:i.pannels.item(t)});if(e!==false){if(t+i.colspan>i.pannels.size()){t=i.pannels.size()-i.colspan}l[i.effect](t);i.currentTab=t;i.highlightNav(i.getWrappedIndex(t));i.fire("switch",{index:t,navnode:i.tabs.item(i.getWrappedIndex(t)),pannelnode:i.pannels.item(t)});i.renderPannelTextarea(t)}};if(e.isNumber(r)){setTimeout(function(){f()},r)}else{f()}},go:function(e,t){var n=this;n.switch_to(e,t);return this},play:function(){var e=this;if(e.timer!==null){clearTimeout(e.timer)}e.timer=setTimeout(function(){i(function(){clearTimeout(e.timer);e.next().play()})},Number(e.timeout));e.stoped=false;return this},stop:function(){var e=this;clearTimeout(e.timer);e.timer=null;e.stoped=true;return this}});return n},{requires:["node","json","event","anim","ua","mui/slider/slide-util","mui/slider/kissy2yui"]});KISSY.add("mui/slider/slide-util",function(e){"use strict";e.mix(e,{setHash:function(e,t){var n;var i;if(typeof e=="object"){n=window.location.href;t=e}else{n=e}if(n.indexOf("#")<0){n+="#"}var a=this.getHash(n);for(i in t){a[i]=t[i]}n=n.split("#")[0]+"#";for(i in a){n+=i+"="+a[i]+"&"}n=n.substr(0,n.length-1);return n},getHash:function(t){var n=t||window.location.href;if(n.indexOf("#")<0){return{}}else{var i=n.split("#")[1];if(i==="")return{};if(i[i.length-1]=="&")i=i.substr(0,i.length-1);i=i.replace(/"/gi,"'");i=i.replace(/=/gi,'":"');i=i.replace(/&/gi,'","');i+='"';i='{"'+i+"}";var a=e.JSON.parse(i);return a}},_globalEval:function(e){if(e&&/\S/.test(e)){var t=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],n=document.createElement("script");n.text=e;t.insertBefore(n,t.firstChild);setTimeout(function(){t.removeChild(n)},1)}},execScript:function(t){var n=this;var i=new RegExp(/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/gi);var a=e.one("head")[0],s,r,o,l,c,f,u,d=/\ssrc=(['"])(.*?)\1/i,p=/\scharset=(['"])(.*?)\1/i;i.lastIndex=0;while(s=i.exec(t)){r=s[1];o=r?r.match(d):false;if(o&&o[2]){f=document.createElement("script");f.src=o[2];if((l=r.match(p))&&l[2]){f.charset=l[2]}f.async=true;a.appendChild(f)}else if((u=s[2])&&u.length>0){n._globalEval(u)}}},isDaily:function(){var e=this;if(/daily\.taobao\.net/.test(window.location.hostname)){return true}else{return false}},getHiddenProp:function(){if("hidden"in document)return"hidden";var e=["webkit","moz","ms","o"];for(var t=0;t<e.length;t++){if(e[t]+"Hidden"in document)return e[t]+"Hidden"}return null},isHidden:function(){var e=this.getHiddenProp();if(!e)return false;return document[e]}})},{requires:["node","json","event"]});KISSY.add("mui/slider/kissy2yui",function(e){"use strict";var t=e.config("mini")?e.Node.node:e.Node;e.augment(t,{_delegate:function(){var t=this;if(e.isFunction(arguments[1])){t.delegate(arguments[0],arguments[2],arguments[1])}else{t.delegate.apply(t,arguments)}return t},indexOf:function(t){var n=this;if(e.isUndefined(t)){return null}if(t[0]){t=t[0]}var i=0;n.each(function(e,n){if(e[0]===t){i=n}});return i},size:function(){return this.length},set:function(e,t){if(e==="innerHTML"){this.html(t)}else{this.attr(e,t)}return this},get:function(e){var t=this;var n={innerHTML:function(){return t.html()},region:function(){return{height:t.height(),width:t.width()}}};if(e in n){return n[e]()}},appendChild:function(){this.append.apply(this,arguments);return this},setStyle:function(e,t){this.css.apply(this,arguments);return this},setStyles:function(e){this.css.apply(this,arguments);return this},cloneNode:function(){return this.clone.apply(this,arguments)}});e.Node.create=function(t){return e.Node(t)}},{requires:["node","event"]});