/* Azure Media Player v1.8.0 | (c) 2015 Microsoft Corporation */
function _handleMultipleEvents(n,t,i,r){vjs.arr.forEach(i,function(i){n(t,i,r)})}function _logType(n,t){var i,u,r;i=Array.prototype.slice.call(t);u=function(){};r=window.console||{log:u,warn:u,error:u};n?i.unshift(n.toUpperCase()+":"):n="log";vjs.log.history.push(i);i.unshift("VIDEOJS:");r[n].apply?r[n].apply(r,i):r[n](i.join(" "))}function ObjectIron(n){var t;for(t=[],i=0,len=n.length;i<len;i+=1)n[i].isRoot?t.push("root"):t.push(n[i].name);var e=function(n,t){var i;if(n!==null&&t!==null)for(i in n)n.hasOwnProperty(i)&&(t.hasOwnProperty(i)||(t[i]=n[i]))},u=function(n,t,i){var o,s,r,u,f;if(n!==null&&n.length!==0)for(o=0,s=n.length;o<s;o+=1)r=n[o],t.hasOwnProperty(r.name)&&(i.hasOwnProperty(r.name)?r.merge&&(u=t[r.name],f=i[r.name],typeof u=="object"&&typeof f=="object"?e(u,f):i[r.name]=r.mergeFunction!=null?r.mergeFunction(u,f):u+f):i[r.name]=t[r.name])},r=function(n,t){var f=n,o,c,s,l,h,i,e;if(f.children!==null&&f.children.length!==0)for(o=0,c=f.children.length;o<c;o+=1)if(i=f.children[o],t.hasOwnProperty(i.name))if(i.isArray)for(h=t[i.name+"_asArray"],s=0,l=h.length;s<l;s+=1)e=h[s],u(f.properties,t,e),r(i,e);else e=t[i.name],u(f.properties,t,e),r(i,e)},f=function(i){var u,h,c,e,o,s,l;if(i===null||typeof i!="object")return i;for(u=0,h=t.length;u<h;u+=1)t[u]==="root"&&(o=n[u],s=i,r(o,s));for(e in i)if(i.hasOwnProperty(e)){if(c=t.indexOf(e),c!==-1)if(o=n[c],o.isArray)for(l=i[e+"_asArray"],u=0,h=l.length;u<h;u+=1)s=l[u],r(o,s);else s=i[e],r(o,s);f(i[e])}return i};return{run:f}}function X2JS(n,t,i){function h(n){var t=n.localName;return t==null&&(t=n.baseName),(t==null||t=="")&&(t=n.nodeName),t}function w(n){return n.prefix}function c(n){return typeof n=="string"?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):n}function b(n){return n.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function f(u){var v,it,o,tt,y,c,s,rt,p,k,l,a,d,ut,g,nt;if(u.nodeType==r.DOCUMENT_NODE){for(c=u.firstChild,v=0,it=u.childNodes.length;v<it;v+=1)if(u.childNodes[v].nodeType!==r.COMMENT_NODE){c=u.childNodes[v];break}return i?o=f(c):(o={},s=h(c),o[s]=f(c)),o}if(u.nodeType==r.ELEMENT_NODE){for(o={},o.__cnt=0,tt=u.childNodes,y=0;y<tt.length;y++)if(c=tt.item(y),s=h(c),o.__cnt++,o[s]==null)o[s]=f(c),o[s+"_asArray"]=new Array(1),o[s+"_asArray"][0]=o[s];else{for(o[s]!=null&&(o[s]instanceof Array||(rt=o[s],o[s]=[],o[s][0]=rt,o[s+"_asArray"]=o[s])),p=0;o[s][p]!=null;)p++;o[s][p]=f(c)}for(k=0;k<u.attributes.length;k++){for(l=u.attributes.item(k),o.__cnt++,a=l.value,d=0,ut=n.length;d<ut;d++)g=n[d],g.test.call(this,l.value)&&(a=g.converter.call(this,l.value),o[t+l.name+g.suffix()]=a,a=null);a&&(o[t+l.name]=a)}return nt=w(u),nt!=null&&nt!=""&&(o.__cnt++,o.__prefix=nt),o.__cnt==1&&o["#text"]!=null&&(o=o["#text"]),o["#text"]!=null&&(o.__text=o["#text"],e&&(o.__text=b(o.__text)),delete o["#text"],delete o["#text_asArray"]),o["#cdata-section"]!=null&&(o.__cdata=o["#cdata-section"],delete o["#cdata-section"],delete o["#cdata-section_asArray"]),(o.__text!=null||o.__cdata!=null)&&(o.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),o}return u.nodeType==r.TEXT_NODE||u.nodeType==r.CDATA_SECTION_NODE?u.nodeValue:u.nodeType==r.COMMENT_NODE?null:void 0}function u(n,t,i,r){var e="<"+(n!=null&&n.__prefix!=null?n.__prefix+":":"")+t,u,f,o;if(i!=null)for(u=0;u<i.length;u++)f=i[u],o=n[f],e+=" "+f.substr(1)+"='"+o+"'";return e+(r?"/>":">")}function o(n,t){return"<\/"+(n.__prefix!=null?n.__prefix+":":"")+t+">"}function k(n,t){return n.indexOf(t,n.length-t.length)!==-1}function l(n,t){return k(t.toString(),"_asArray")||t.toString().indexOf("_")==0||n[t]instanceof Function?!0:!1}function a(n){var t=0,i;if(n instanceof Object)for(i in n)l(n,i)||t++;return t}function v(n){var i=[],t;if(n instanceof Object)for(t in n)t.toString().indexOf("__")==-1&&t.toString().indexOf("_")==0&&i.push(t);return i}function d(n){var t="";return n.__cdata!=null&&(t+="<![CDATA["+n.__cdata+"]\]>"),n.__text!=null&&(t+=e?c(n.__text):n.__text),t}function y(n){var t="";return n instanceof Object?t+=d(n):n!=null&&(t+=e?c(n):n),t}function g(n,t,i){var f="",r;if(n.length==0)f+=u(n,t,i,!0);else for(r=0;r<n.length;r++)f+=u(n[r],t,v(n[r]),!1),f+=s(n[r]),f+=o(n[r],t);return f}function s(n){var i="",h=a(n),r,t,f,e;if(h>0)for(r in n)l(n,r)||(t=n[r],f=v(t),t==null||t==undefined?i+=u(t,r,f,!0):t instanceof Object?t instanceof Array?i+=g(t,r,f):(e=a(t),e>0||t.__text!=null||t.__cdata!=null?(i+=u(t,r,f,!1),i+=s(t),i+=o(t,r)):i+=u(t,r,f,!0)):(i+=u(t,r,f,!1),i+=y(t),i+=o(t,r)));return i+y(n)}(t===null||t===undefined)&&(t="_");(i===null||i===undefined)&&(i=!1);var p="1.0.11",e=!1,r={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(n){var t,i;return window.DOMParser?(i=new window.DOMParser,t=i.parseFromString(n,"text/xml")):(n.indexOf("<?")==0&&(n=n.substr(n.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)),t};this.xml2json=function(n){return f(n)};this.xml_str2json=function(n){var t=this.parseXmlString(n);return this.xml2json(t)};this.json2xml_str=function(n){return s(n)};this.json2xml=function(n){var t=this.json2xml_str(n);return this.parseXmlString(t)};this.getVersion=function(){return p};this.escapeMode=function(n){e=n}}function handleFairPlayErrors(n,t){this.player().error({code:n,message:t})}function handleFairPlayEvent(n){this.player().trigger(n)}var ampVersion="1.8.0.2",vjs,videojs,hasOwnProp,errNum,swfobject,Uint8ArrayUtil,__extends,AzureHtml5JS,amp,ampURL,org,AMP,UrlRewriter;for(document.createElement("video"),document.createElement("audio"),document.createElement("track"),vjs=function(n,t,i){var r;if(typeof n=="string"){if(n.indexOf("#")===0&&(n=n.slice(1)),vjs.players[n])return t&&vjs.log.warn('Player "'+n+'" is already initialised. Options will not be applied.'),i&&vjs.players[n].ready(i),vjs.players[n];r=vjs.el(n)}else r=n;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return r.player||new vjs.Player(r,t,i)},videojs=window.videojs=vjs,vjs.CDN_VERSION="GENERATED_CDN_VSN",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.VERSION="GENERATED_FULL_VSN",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},loadingSpinner:{},textTrackDisplay:{},bigPlayButton:{},controlBar:{},errorDisplay:{},textTrackSettings:{},hotKeys:{},progressTimeTips:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"SRC_PLAYER_MISMATCH"},vjs.addLanguage=function(n,t){return vjs.options.languages[n]=vjs.options.languages[n]!==undefined?vjs.util.mergeOptions(vjs.options.languages[n],t):t,vjs.options.languages},vjs.players={},typeof define=="function"&&define.amd?define("videojs",[],function(){return videojs}):typeof exports=="object"&&typeof module=="object"&&(module.exports=videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(n){var r,t,i;n=n||{};r=n.init||n.init||this.prototype.init||this.prototype.init||function(){};t=function(){r.apply(this,arguments)};t.prototype=vjs.obj.create(this.prototype);t.prototype.constructor=t;t.extend=vjs.CoreObject.extend;t.create=vjs.CoreObject.create;for(i in n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);return t},vjs.CoreObject.create=function(){var n=vjs.obj.create(this.prototype);return this.apply(n,arguments),n},vjs.on=function(n,t,i){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.on,n,t,i);var r=vjs.getData(n);r.handlers||(r.handlers={});r.handlers[t]||(r.handlers[t]=[]);i.guid||(i.guid=vjs.guid++);r.handlers[t].push(i);r.dispatcher||(r.disabled=!1,r.dispatcher=function(t){var u,f,i,e;if(!r.disabled&&(t=vjs.fixEvent(t),u=r.handlers[t.type],u))for(f=u.slice(0),i=0,e=f.length;i<e;i++)if(t.isImmediatePropagationStopped())break;else f[i].call(n,t)});r.handlers[t].length==1&&(n.addEventListener?n.addEventListener(t,r.dispatcher):n.attachEvent&&n.attachEvent("on"+t,r.dispatcher))},vjs.off=function(n,t,i){var r,e,o,u,f;if(vjs.hasData(n)&&(r=vjs.getData(n),r.handlers)){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.off,n,t,i);if(e=function(t){r.handlers[t]=[];vjs.cleanUpEvents(n,t)},!t){for(o in r.handlers)e(o);return}if(u=r.handlers[t],u){if(!i){e(t);return}if(i.guid)for(f=0;f<u.length;f++)u[f].guid===i.guid&&u.splice(f--,1);vjs.cleanUpEvents(n,t)}}},vjs.cleanUpEvents=function(n,t){var i=vjs.getData(n);i.handlers[t].length===0&&(delete i.handlers[t],n.removeEventListener?n.removeEventListener(t,i.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+t,i.dispatcher));vjs.isEmpty(i.handlers)&&(delete i.handlers,delete i.dispatcher,delete i.disabled);vjs.isEmpty(i)&&vjs.removeData(n)},vjs.fixEvent=function(n){function f(){return!0}function e(){return!1}var t,u,i,r;if(!n||!n.isPropagationStopped){t=n||window.event;n={};for(u in t)u!=="layerX"&&u!=="layerY"&&u!=="keyLocation"&&(u=="returnValue"&&t.preventDefault||(n[u]=t[u]));n.target||(n.target=n.srcElement||document);n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement;n.preventDefault=function(){t.preventDefault&&t.preventDefault();n.returnValue=!1;n.isDefaultPrevented=f;n.defaultPrevented=!0};n.isDefaultPrevented=e;n.defaultPrevented=!1;n.stopPropagation=function(){t.stopPropagation&&t.stopPropagation();n.cancelBubble=!0;n.isPropagationStopped=f};n.isPropagationStopped=e;n.stopImmediatePropagation=function(){t.stopImmediatePropagation&&t.stopImmediatePropagation();n.isImmediatePropagationStopped=f;n.stopPropagation()};n.isImmediatePropagationStopped=e;n.clientX!=null&&(i=document.documentElement,r=document.body,n.pageX=n.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n.pageY=n.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0));n.which=n.charCode||n.keyCode;n.button!=null&&(n.button=n.button&1?0:n.button&4?1:n.button&2?2:0)}return n},vjs.trigger=function(n,t){var u=vjs.hasData(n)?vjs.getData(n):{},i=n.parentNode||n.ownerDocument,r;return typeof t=="string"&&(t={type:t,target:n}),t=vjs.fixEvent(t),u.dispatcher&&u.dispatcher.call(n,t),i&&!t.isPropagationStopped()&&t.bubbles!==!1?vjs.trigger(i,t):i||t.defaultPrevented||(r=vjs.getData(t.target),t.target[t.type]&&(r.disabled=!0,typeof t.target[t.type]=="function"&&t.target[t.type](),r.disabled=!1)),!t.defaultPrevented},vjs.one=function(n,t,i){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.one,n,t,i);var r=function(){vjs.off(n,t,r);i.apply(this,arguments)};r.guid=i.guid=i.guid||vjs.guid++;vjs.on(n,t,r)},hasOwnProp=Object.prototype.hasOwnProperty,vjs.createEl=function(n,t){var i;return n=n||"div",t=t||{},i=document.createElement(n),vjs.obj.each(t,function(n,t){n.indexOf("aria-")!==-1||n=="role"?i.setAttribute(n,t):i[n]=t}),i},vjs.capitalize=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(n){function t(){}return t.prototype=n,new t},vjs.obj.each=function(n,t,i){for(var r in n)hasOwnProp.call(n,r)&&t.call(i||this,r,n[r])},vjs.obj.merge=function(n,t){if(!t)return n;for(var i in t)hasOwnProp.call(t,i)&&(n[i]=t[i]);return n},vjs.obj.deepMerge=function(n,t){var i,r,u;n=vjs.obj.copy(n);for(i in t)hasOwnProp.call(t,i)&&(r=n[i],u=t[i],n[i]=vjs.obj.isPlain(r)&&vjs.obj.isPlain(u)?vjs.obj.deepMerge(r,u):t[i]);return n},vjs.obj.copy=function(n){return vjs.obj.merge({},n)},vjs.obj.isPlain=function(n){return!!n&&typeof n=="object"&&n.toString()==="[object Object]"&&n.constructor===Object},vjs.obj.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},vjs.isNaN=function(n){return n!==n},vjs.bind=function(n,t,i){t.guid||(t.guid=vjs.guid++);var r=function(){return t.apply(n,arguments)};return r.guid=i?i+"_"+t.guid:t.guid,r},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(n){var t=n[vjs.expando];return t||(t=n[vjs.expando]=vjs.guid++),vjs.cache[t]||(vjs.cache[t]={}),vjs.cache[t]},vjs.hasData=function(n){var t=n[vjs.expando];return!(!t||vjs.isEmpty(vjs.cache[t]))},vjs.removeData=function(n){var t=n[vjs.expando];if(t){delete vjs.cache[t];try{delete n[vjs.expando]}catch(i){n.removeAttribute?n.removeAttribute(vjs.expando):n[vjs.expando]=null}}},vjs.isEmpty=function(n){for(var t in n)if(n[t]!==null)return!1;return!0},vjs.hasClass=function(n,t){return(" "+n.className+" ").indexOf(" "+t+" ")!==-1},vjs.addClass=function(n,t){vjs.hasClass(n,t)||(n.className=n.className===""?t:n.className+" "+t)},vjs.removeClass=function(n,t){var i,r;if(vjs.hasClass(n,t)){for(i=n.className.split(" "),r=i.length-1;r>=0;r--)i[r]===t&&i.splice(r,1);n.className=i.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),function(){var n=document.createElement("track");n.kind="captions";n.srclang="en";n.label="English";vjs.TEST_VID.appendChild(n)}(),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var n=vjs.USER_AGENT.match(/OS (\d+)_/i);if(n&&n[1])return n[1]}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var n=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),t,i;return n?(t=n[1]&&parseFloat(n[1]),i=n[2]&&parseFloat(n[2]),t&&i?parseFloat(n[1]+"."+n[2]):t?t:null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_EDGE=/Edge/i.test(vjs.USER_AGENT),vjs.IS_IE=!!document.documentMode,vjs.IS_IE8=/MSIE\s8\.0/.test(vjs.USER_AGENT),vjs.IS_IEMOBILE=/IEMobile\/([0-9.]*)/.test(vjs.USER_AGENT),vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.FIREFOX_VERSION=function(){var n=vjs.USER_AGENT.match(/Firefox\/([0-9.]*)/i);if(n&&n[1])return n[1]}(),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT)&&!vjs.IS_EDGE,vjs.IS_SAFARI=/Safari/i.test(vjs.USER_AGENT)&&!vjs.IS_CHROME&&!vjs.IS_EDGE&&!vjs.IS_IEMOBILE,vjs.IS_MACWEBVIEW=/Macintosh/i.test(vjs.USER_AGENT)&&/AppleWebKit/i.test(vjs.USER_AGENT)&&!vjs.IS_SAFARI&&!vjs.IS_FIREFOX&&!vjs.IS_CHROME,vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.BACKGROUND_SIZE_SUPPORTED=("backgroundSize"in vjs.TEST_VID.style),vjs.setElementAttributes=function(n,t){vjs.obj.each(t,function(t,i){i===null||typeof i=="undefined"||i===!1?n.removeAttribute(t):n.setAttribute(t,i===!0?"":i)})},vjs.getElementAttributes=function(n){var f,e,i,r,u,t;if(f={},e=",autoplay,controls,loop,muted,default,",n&&n.attributes&&n.attributes.length>0)for(i=n.attributes,t=i.length-1;t>=0;t--)r=i[t].name,u=i[t].value,(typeof n[r]=="boolean"||e.indexOf(","+r+",")!==-1)&&(u=u!==null?!0:!1),f[r]=u;return f},vjs.getComputedDimension=function(n,t){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(n,"").getPropertyValue(t):n.currentStyle&&(i=n["client"+t.substr(0,1).toUpperCase()+t.substr(1)]+"px"),i},vjs.insertFirst=function(n,t){t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},vjs.browser={},vjs.el=function(n){return n.indexOf("#")===0&&(n=n.slice(1)),document.getElementById(n)},vjs.formatTime=function(n,t){t=t||n;var i=Math.floor(n%60),r=Math.floor(n/60%60),u=Math.floor(n/3600),f=Math.floor(t/60%60),e=Math.floor(t/3600);return(isNaN(n)||n===Infinity)&&(u=r=i="-"),u=u>0||e>0?u+":":"",r=((u||f>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,u+r+i},vjs.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(n){return(n+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(n,t){return t||(t=0),Math.round(n*Math.pow(10,t))/Math.pow(10,t)},vjs.createTimeRange=function(n,t){return{length:1,start:function(){return n},end:function(){return t}}},vjs.setLocalStorage=function(n,t){try{var r=window.localStorage||!1;if(!r)return;r[n]=t}catch(i){i.code==22||i.code==1014?vjs.log("LocalStorage Full (VideoJS)",i):i.code==18?vjs.log("LocalStorage not allowed (VideoJS)",i):vjs.log("LocalStorage Error (VideoJS)",i)}},vjs.getAbsoluteURL=function(n){var t=vjs.decodeURL(n);return t.hierarchical.match(/^(https?:)?\/\//i)?vjs.encodeURL(t):vjs.createEl("div",{innerHTML:'<a href="'+vjs.encodeURL(t)+'">x<\/a>'}).firstChild.href},vjs.urlQueryRegex_=/^[=&;]{1}/,vjs.urlQueryRegexCap_=/([=&;]{1})/,vjs.decodeURL=function(n){var u=n.indexOf("?"),r={hierarchical:decodeURI(n),query:[]},f,i,t;if(-1!==u)for(r.hierarchical=decodeURI(n.slice(0,u)),f=n.slice(u+1),i=f.split(vjs.urlQueryRegexCap_),t=0;t<i.length;t++)i[t].match(vjs.urlQueryRegex_)?r.query.push(i[t]):r.query.push(decodeURIComponent(i[t]));return r},vjs.encodeURL=function(n){var i="",t;if(n.query&&n.query.length)for(i="?",t=0;t<n.query.length;t++)i+=n.query[t].match(vjs.urlQueryRegex_)?n.query[t]:encodeURIComponent(n.query[t]);return encodeURI(n.hierarchical)+i},vjs.parseUrl=function(n){var i,r,e,f,t,u;for(n=encodeURI(n),f=["protocol","hostname","port","pathname","search","hash","host"],r=vjs.createEl("a",{href:n}),e=r.host===""&&r.protocol!=="file:",e&&(i=vjs.createEl("div"),i.innerHTML='<a href="'+n+'"><\/a>',r=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(i)),t={},u=0;u<f.length;u++)t[f[u]]=r[f[u]];return t.protocol==="http:"&&(t.host=t.host.replace(/:80$/,"")),t.protocol==="https:"&&(t.host=t.host.replace(/:443$/,"")),e&&document.body.removeChild(i),t},vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(n){var i,r,t,u,f,e,o,s,h;return(n.getBoundingClientRect&&n.parentNode&&(i=n.getBoundingClientRect()),!i)?{left:0,top:0}:(r=document.documentElement,t=document.body,u=r.clientLeft||t.clientLeft||0,f=window.pageXOffset||t.scrollLeft,e=i.left+f-u,o=r.clientTop||t.clientTop||0,s=window.pageYOffset||t.scrollTop,h=i.top+s-o,{left:vjs.round(e),top:vjs.round(h)})},vjs.arr={},vjs.arr.forEach=function(n,t,i){if(vjs.obj.isArray(n)&&t instanceof Function)for(var r=0,u=n.length;r<u;++r)t.call(i||vjs,n[r],r,n);return n},vjs.xhr=function(n,t){var u,i,f,e,h,c,o,s,r;typeof n=="string"&&(n={uri:n});videojs.util.mergeOptions({method:"GET",timeout:45e3},n);t=t||function(){};s=function(){window.clearTimeout(o);t(null,i,i.response||i.responseText)};r=function(n){window.clearTimeout(o);n&&typeof n!="string"||(n=new Error(n));t(n,i)};u=window.XMLHttpRequest;typeof u=="undefined"&&(u=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(n){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw new Error("This browser does not support XMLHttpRequest.");});i=new u;i.uri=n.uri;f=vjs.parseUrl(n.uri);e=window.location;c=f.protocol+f.host!==e.protocol+e.host;!c||!window.XDomainRequest||"withCredentials"in i?(h=f.protocol=="file:"||e.protocol=="file:",i.onreadystatechange=function(){if(i.readyState===4){if(i.timedout)return r("timeout");i.status===200||h&&i.status===0?s():r()}},n.timeout&&(o=window.setTimeout(function(){i.readyState!==4&&(i.timedout=!0,i.abort())},n.timeout))):(i=new window.XDomainRequest,i.onload=s,i.onerror=r,i.onprogress=function(){},i.ontimeout=function(){});try{i.open(n.method||"GET",n.uri,!0)}catch(l){return r(l)}n.withCredentials&&(i.withCredentials=!0);n.responseType&&(i.responseType=n.responseType);try{i.send()}catch(l){return r(l)}return i},vjs.url={},vjs.url.isCrossOrigin=function(n){var t=window.location,i=vjs.parseUrl(n),r=i.protocol===":"?t.protocol:i.protocol;return r+i.host!==t.protocol+t.host},vjs.util={},vjs.util.mergeOptions=function(n,t){var i,r,u;n=vjs.obj.copy(n);for(i in t)t.hasOwnProperty(i)&&(r=n[i],u=t[i],n[i]=vjs.obj.isPlain(r)&&vjs.obj.isPlain(u)?vjs.util.mergeOptions(r,u):t[i]);return n},vjs.util.htmlEncode=function(n){var i,r;if(!n)return"";var u=new String(n),f=u.length,t=[];for(i=0;i<f;i++){r=u.charAt(i);switch(r){case"<":t.push("&lt;");break;case">":t.push("&gt;");break;case"&":t.push("&amp;");break;case'"':t.push("&quot;");break;case"'":t.push("&#39;");break;default:t.push(r)}}return t.join("")},vjs.Component=vjs.CoreObject.extend({init:function(n,t,i){this.player_=n;this.options_=vjs.obj.copy(this.options_);t=this.options(t);this.id_=t.id||t.el&&t.el.id;this.id_||(this.id_=(n.id&&n.id()||"no_player")+"_component_"+vjs.guid++);this.name_=t.name||null;this.el_=t.el||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(i);t.reportTouchActivity!==!1&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.off();this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_);vjs.removeData(this.el_);this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(n){return n===undefined?this.options_:this.options_=vjs.util.mergeOptions(this.options_,n)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(n,t){return vjs.createEl(n,t)},vjs.Component.prototype.localize=function(n){var t=this.player_.language(),i=this.player_.languages(),r;return!t||!i?n:(t=t.toLowerCase(),i[t]||(r=t.split("-"),t=r.length===2&&r[0]===r[1]?r[0]:"en"),i[t]&&i[t][n])?i[t][n]:n},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(n){return this.childIndex_[n]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(n){return this.childNameIndex_[n]},vjs.Component.prototype.addChild=function(n,t){var i,u,r;return typeof n=="string"?(r=n,t=t||{},u=t.componentClass||vjs.capitalize(r),t.name=r,i=new window.videojs[u](this.player_||this,t)):i=n,this.children_.push(i),typeof i.id=="function"&&(this.childIndex_[i.id()]=i),r=r||i.name&&i.name(),r&&(this.childNameIndex_[r]=i),typeof i.el=="function"&&i.el()&&this.contentEl().appendChild(i.el()),i},vjs.Component.prototype.removeChild=function(n){var i,t,r;if(typeof n=="string"&&(n=this.getChild(n)),n&&this.children_){for(i=!1,t=this.children_.length-1;t>=0;t--)if(this.children_[t]===n){i=!0;this.children_.splice(t,1);break}i&&(this.childIndex_[n.id()]=null,this.childNameIndex_[n.name()]=null,r=n.el(),r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el()))}},vjs.Component.prototype.initChildren=function(){var i,r,n,t,f,e,o,u;if(i=this,r=i.options(),n=r.children,n)if(o=function(n,t){(r[n]!==undefined&&(t=r[n]),t!==!1)&&(i[n]=i.addChild(n,t))},vjs.obj.isArray(n))for(u=0;u<n.length;u++)t=n[u],typeof t=="string"?(f=t,e={}):(f=t.name,e=t),o(f,e);else vjs.obj.each(n,o)},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(n,t,i){var r,f,u,e,o,s;if(typeof n=="string"||vjs.obj.isArray(n))vjs.on(this.el_,n,vjs.bind(this,t));else{r=n;f=t;u=vjs.bind(this,i);s=this;e=function(){s.off(r,f,u)};e.guid=u.guid;this.on("dispose",e);if(o=function(){s.off("dispose",e)},o.guid=u.guid,n.nodeName){vjs.on(r,f,u);vjs.on(r,"dispose",o)}else if(typeof n.on=="function"){r.on(f,u);r.on("dispose",o)}}return this},vjs.Component.prototype.off=function(n,t,i){var u,f,r;return!n||typeof n=="string"||vjs.obj.isArray(n)?vjs.off(this.el_,n,t):(u=n,f=t,r=vjs.bind(this,i),this.off("dispose",r),n.nodeName?(vjs.off(u,f,r),vjs.off(u,"dispose",r)):(u.off(f,r),u.off("dispose",r))),this},vjs.Component.prototype.one=function(n,t,i){var u,f,e,o,r;if(typeof n=="string"||vjs.obj.isArray(n))vjs.one(this.el_,n,vjs.bind(this,t));else{u=n;f=t;e=vjs.bind(this,i);o=this;r=function(){o.off(u,f,r);e.apply(this,arguments)};r.guid=e.guid;this.on(u,f,r)}return this},vjs.Component.prototype.trigger=function(n){return vjs.trigger(this.el_,n),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(n){return n&&(this.isReady_?n.call(this):(this.readyQueue_===undefined&&(this.readyQueue_=[]),this.readyQueue_.push(n))),this},vjs.Component.prototype.triggerReady=function(){var n,t,i;if(this.isReady_=!0,n=this.readyQueue_,n&&n.length>0){for(t=0,i=n.length;t<i;t++)n[t].call(this);this.readyQueue_=[];this.trigger("ready")}},vjs.Component.prototype.hasClass=function(n){return vjs.hasClass(this.el_,n)},vjs.Component.prototype.addClass=function(n){return vjs.addClass(this.el_,n),this},vjs.Component.prototype.removeClass=function(n){return vjs.removeClass(this.el_,n),this},vjs.Component.prototype.show=function(){return this.removeClass("vjs-hidden"),this},vjs.Component.prototype.hide=function(){return this.addClass("vjs-hidden"),this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide();this.show=function(){}},vjs.Component.prototype.width=function(n,t){return this.dimension("width",n,t)},vjs.Component.prototype.height=function(n,t){return this.dimension("height",n,t)},vjs.Component.prototype.dimensions=function(n,t){return this.width(n,!0).height(t)},vjs.Component.prototype.dimension=function(n,t,i){if(t!==undefined)return(t===null||vjs.isNaN(t))&&(t=0),this.el_.style[n]=(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?t:t==="auto"?"":t+"px",i||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[n],u=r.indexOf("px");return u!==-1?parseInt(r.slice(0,u),10):parseInt(this.el_["offset"+vjs.capitalize(n)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var i,n,e,t,r,u,f,o,s,h;i=0;n=null;s=10;h=200;this.on("touchstart",function(r){r.touches.length===1&&(n=vjs.obj.copy(r.touches[0]),i=(new Date).getTime(),t=!0)});this.on("touchmove",function(i){i.touches.length>1?t=!1:n&&(u=i.touches[0].pageX-n.pageX,f=i.touches[0].pageY-n.pageY,o=Math.sqrt(u*u+f*f),o>s&&(t=!1))});r=function(){t=!1};this.on("touchleave",r);this.on("touchcancel",r);this.on("touchend",function(r){n=null;t===!0&&(e=(new Date).getTime()-i,e<h&&(r.preventDefault(),this.trigger("tap")))})},vjs.Component.prototype.enableTouchActivity=function(){var n,t,i;if(this.player().reportUserActivity){n=vjs.bind(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){n();this.clearInterval(t);t=this.setInterval(n,250)});i=function(){n();this.clearInterval(t)};this.on("touchmove",n);this.on("touchend",i);this.on("touchcancel",i)}},vjs.Component.prototype.setTimeout=function(n,t){n=vjs.bind(this,n);var i=setTimeout(n,t),r=function(){this.clearTimeout(i)};r.guid="vjs-timeout-"+i;this.on("dispose",r);return i},vjs.Component.prototype.clearTimeout=function(n){clearTimeout(n);var t=function(){};return t.guid="vjs-timeout-"+n,this.off("dispose",t),n},vjs.Component.prototype.setInterval=function(n,t){n=vjs.bind(this,n);var i=setInterval(n,t),r=function(){this.clearInterval(i)};r.guid="vjs-interval-"+i;this.on("dispose",r);return i},vjs.Component.prototype.clearInterval=function(n){clearInterval(n);var t=function(){};return t.guid="vjs-interval-"+n,this.off("dispose",t),n},vjs.Button=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.emitTapEvents();this.on("tap",this.onClick);this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(n,t){var i;return t=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},t),i=vjs.Component.prototype.createEl.call(this,n,t),t.innerHTML||(this.contentEl_=vjs.createEl("div",{className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:vjs.util.htmlEncode(this.localize(this.buttonText))||"Need Text"}),this.contentEl_.appendChild(this.controlText_),i.appendChild(this.contentEl_)),i},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){this.on("keydown",this.onKeyPress)},vjs.Button.prototype.onKeyPress=function(n){if(n.which==32||n.which==13){n.preventDefault();this.onClick(n)}},vjs.Button.prototype.onBlur=function(){this.off("keydown",this.onKeyPress)},vjs.Slider=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.bar=this.getChild(this.options_.barName);this.handle=this.getChild(this.options_.handleName);this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.on(n,"controlsvisible",this.update);this.on(n,this.playerEvent,this.update)}}),vjs.Slider.prototype.createEl=function(n,t){return t=t||{},t.className=t.className+" vjs-slider",t=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),vjs.Component.prototype.createEl.call(this,n,t)},vjs.Slider.prototype.onMouseDown=function(n){n.preventDefault();vjs.blockTextSelection();this.addClass("vjs-sliding");this.on(document,"mousemove",this.onMouseMove);this.on(document,"mouseup",this.onMouseUp);this.on(document,"touchmove",this.onMouseMove);this.on(document,"touchend",this.onMouseUp);this.onMouseMove(n)},vjs.Slider.prototype.onMouseMove=function(){},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection();this.removeClass("vjs-sliding");this.off(document,"mousemove",this.onMouseMove);this.off(document,"mouseup",this.onMouseUp);this.off(document,"touchmove",this.onMouseMove);this.off(document,"touchend",this.onMouseUp);this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var t,n=this.getPercent(),i=this.handle,r=this.bar;if((typeof n!="number"||n!==n||n<0||n===Infinity)&&(n=0),t=n,i){var o=this.el_,s=o.offsetWidth,u=i.el().offsetWidth,f=u?u/s:0,h=1-f,e=n*h;t=e+f/2;i.el().style.left=vjs.round(e*100,2)+"%"}r&&(r.el().style.width=vjs.round(t*100,2)+"%")}},vjs.Slider.prototype.calculateDistance=function(n){var r,o,u,f,e,i,t,c,l,s,h;return r=this.el_,o=vjs.findPosition(r),e=i=Math.max(r.offsetWidth,r.clientWidth),t=this.handle,this.options().vertical?(f=o.top,l=n.changedTouches?n.changedTouches[0].pageY:n.pageY,t&&(s=Math.max(t.el().offsetHeight,t.el().clientHeight),f=f+s/2,i=i-s),Math.max(0,Math.min(1,(f-l+i)/i))):(u=o.left,c=n.changedTouches?n.changedTouches[0].pageX:n.pageX,t&&(h=Math.max(t.el().offsetWidth,t.el().clientWidth),u=u+h/2,e=e-h),Math.max(0,Math.min(1,(c-u)/e)))},vjs.Slider.prototype.onFocus=function(){this.on(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onKeyPress=function(n){n.which==37||n.which==40?(n.preventDefault(),this.stepBack()):(n.which==38||n.which==39)&&(n.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){this.off(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onClick=function(n){n.stopImmediatePropagation();n.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(n,t){return t=t||{},t.className=t.className+" vjs-slider-handle",t=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+vjs.util.htmlEncode(this.defaultValue)+"<\/span>"},t),vjs.Component.prototype.createEl.call(this,"div",t)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(n,t){this.addChild(n);n.parent=t;n.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var t=this.options().contentElType||"ul",n;this.contentEl_=vjs.createEl(t,{className:"vjs-menu-content"});n=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});n.appendChild(this.contentEl_);vjs.on(n,"click",function(n){n.preventDefault();n.stopImmediatePropagation()});return n},vjs.MenuItem=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t);this.selected(t.selected)}}),vjs.MenuItem.prototype.createEl=function(n,t){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:vjs.util.htmlEncode(this.localize(this.options_.label))},t))},vjs.MenuItem.prototype.onClick=function(n){n.type!=="keydown"&&n.stopImmediatePropagation();this.selected(!0)},vjs.MenuItem.prototype.selected=function(n){n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0),this.parent&&this.parent.options_&&this.parent.items&&this.parent.items.length>0&&(this.parent.options_.selectedItemIndex=this.parent.items.indexOf(this))):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t);this.update();this.on("keydown",this.onKeyPress);this.on("mouseover",this.onMouseOver);this.on("mouseleave",this.onMouseLeave);this.el_.setAttribute("aria-haspopup",!0);this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.update=function(){var n=this.createMenu();this.menu&&this.removeChild(this.menu);this.menu=n;this.addChild(n);this.items&&this.items.length===0?this.hide():this.items&&this.items.length>1&&this.show()},vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_),n;if(this.options().title&&t.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.util.htmlEncode(vjs.capitalize(this.options().title)),tabindex:-1})),this.items=this.createItems(),this.items)for(n=0;n<this.items.length;n++)t.addItem(this.items[n],this);return t},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onMouseOver=function(){this.clearOtherMenus();this.buttonPressed_||this.pressButton()},vjs.MenuButton.prototype.onMouseLeave=function(){this.unpressButton()},vjs.MenuButton.prototype.onClick=function(n){if(n.type=="keydown"){this.onKeyPress(n);return}this.clearOtherMenus();this.player_.one("userinactive",vjs.bind(this,function(){this.unpressButton();this.el_.blur()}));this.buttonPressed_||this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(n){n.which==32||n.which==13?(this.clearOtherMenus(),this.buttonPressed_?this.unpressButton():this.pressButton(),n.preventDefault()):n.which==27&&(this.buttonPressed_&&(this.unpressButton(),this.el_.focus()),n.preventDefault())},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",!0);this.items&&this.items.length>0&&this.options_.selectedItemIndex>=0?this.items[this.options_.selectedItemIndex].el().focus():this.menu.el().style.display="block"},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1;this.menu.unlockShowing();this.menu.el().style.display="none";this.el_.setAttribute("aria-pressed",!1)},vjs.MenuButton.prototype.clearOtherMenus=function(){var t=this,n=this.player_.controlBar;n&&Object.getOwnPropertyNames(n).forEach(function(i){n[i]!==t&&n[i].el_&&n[i].el_.className&&n[i].el_.className.indexOf("vjs-menu-button")!==-1&&n[i].buttonPressed_&&n[i].unpressButton()})},vjs.MediaError=function(n){typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:typeof n=="object"&&vjs.obj.merge(this,n);this.message||(this.message=vjs.MediaError.errorTypes[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;if(function(){var t,r,i,n;for(vjs.browser.fullscreenAPI,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=t[0],n=0;n<t.length;n++)if(t[n][1]in document){i=t[n];break}if(i)for(vjs.browser.fullscreenAPI={},n=0;n<i.length;n++)vjs.browser.fullscreenAPI[r[n]]=i[n]}(),vjs.Player=vjs.Component.extend({init:function(n,t,i){this.tag=n;n.id=n.id||"vjs_video_"+vjs.guid++;this.tagAttributes=n&&vjs.getElementAttributes(n);t=vjs.obj.merge(this.getTagSettings(n),t);t.autoplay===undefined&&(t.autoplay=!1);this.language_=t.language||vjs.options.language;this.languages_=t.languages||vjs.options.languages;this.cache_={};t.muted&&(this.cache_.muted=!0);this.cache_.volume=1;this.poster_=t.poster||"";this.controls_=!!t.controls;n.controls=!1;t.reportTouchActivity=!1;this.isAudio(this.tag.nodeName.toLowerCase()==="audio");vjs.Component.call(this,this,t,i);this.el_.setAttribute("aria-label","Media Player");this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled");this.isAudio()&&this.addClass("vjs-audio");this.addThrottledWindowResizeListener(function(){this.height_==="auto"&&this.height(this.height_)},100,this);vjs.players[this.id_]=this;this.options_.plugins&&vjs.obj.each(this.options_.plugins,function(n,t){this[n]&&this[n](t)},this);this.listenForUserActivity()}}),vjs.Player.prototype.language_,vjs.Player.prototype.language=function(n){return n===undefined?this.language_:(this.language_=n,this)},vjs.Player.prototype.languages_,vjs.Player.prototype.languages=function(){return this.languages_},vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.disposed_||(this.trigger("disposing"),this.disposed_=!0,this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech&&this.unloadTech(),vjs.Component.prototype.dispose.call(this))},vjs.Player.prototype.getTagSettings=function(n){var i,e,r={sources:[],tracks:[]},o,u,s,f,h,t;if(i=vjs.getElementAttributes(n),e=i["data-setup"],e!==null&&vjs.obj.merge(i,vjs.JSON.safeParseTuple(e||"{}")[1]),vjs.obj.merge(r,i),n.hasChildNodes())for(o=n.childNodes,f=0,h=o.length;f<h;f++)u=o[f],s=u.nodeName.toLowerCase(),s==="source"?(t=vjs.getElementAttributes(u),t=vjs.obj.merge(t,vjs.JSON.safeParseTuple(t["data-setup"]||"{}")[1]),r.sources.push(t)):s==="track"&&r.tracks.push(vjs.getElementAttributes(u));return r},vjs.Player.prototype.createEl=function(){var t=this.el_=vjs.Component.prototype.createEl.call(this,"div"),n=this.tag,i;n.removeAttribute("width");n.removeAttribute("height");i=vjs.getElementAttributes(n);vjs.obj.each(i,function(n){n=="class"?t.className=i[n]:t.setAttribute(n,i[n])});n.id+="_html5_api";n.className="vjs-tech";n.player=t.player=this;this.addClass("vjs-paused");n.initNetworkState_=n.networkState;n.parentNode&&n.parentNode.insertBefore(t,n);vjs.insertFirst(n,t);this.width(this.options_.width,!0);this.height(this.options_.height,!0);this.el_=t;this.on("loadstart",this.onLoadStart);this.on("waiting",this.onWaiting);this.on(["canplay","canplaythrough","playing","ended","error","seeked"],this.onWaitEnd);this.on("seeking",this.onSeeking);this.on("seeked",this.onSeeked);this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("fullscreenchange",this.onFullscreenChange);return t},vjs.Player.prototype.height_,vjs.Player.prototype.dimension=function(n,t,i){var u,f;if(t!==undefined){if((t===null||vjs.isNaN(t))&&(t=0),n==="height"&&(this.height_=t),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1)this.el_.style[n]=t;else if(t==="auto")if(n==="height"){var e=10,o=this.dimension("width"),r=vjs.bind(this,function(){var n=this.videoHeight(),t=this.videoWidth();n&&t?(this.el_.style.height=Math.round(o*n/t)+"px",1080===n&&1920===t&&e--&&this.setTimeout(r,100)):e--&&this.setTimeout(r,100)});if(this.videoHeight()&&this.videoWidth())r();else{this.el_.style.height=Math.round(o*9/16)+"px";this.one("loadeddata",r)}}else this.el_.style[n]="";else this.el_.style[n]=t+"px";return i||this.trigger("resize"),this}return this.el_?(u=this.el_.style[n],f=u.indexOf("px"),f!==-1?parseInt(u.slice(0,f),10):parseInt(this.el_["offset"+vjs.capitalize(n)],10)):0},vjs.Player.prototype.loadTech=function(n,t){this.showPlayerLoad();this.tech&&this.unloadTech();n!=="Html5"&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null);this.techName=n;this.isReady_=!1;var r=function(){this.player_.muted(this.player_.cache_.muted);this.player_.triggerReady()},i=vjs.obj.merge({source:t,parentEl:this.el_},this.options_[n.toLowerCase()]);t&&(this.currentType_=t.type,t.src==this.cache_.src&&this.cache_.currentTime>0&&(i.startTime=this.cache_.currentTime),this.cache_.src=t.src);this.tech=new window.videojs[n](this,i);this.tech.ready(r)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1;this.tech.dispose();this.tech=!1},vjs.Player.prototype.showPlayerLoad=function(){this.removeClass("vjs-waiting");this.removeClass("vjs-seeking");this.removeClass("vjs-paused");this.removeClass("vjs-playing");this.addClass("vjs-loading")},vjs.Player.prototype.onLoadStart=function(){this.removeClass("vjs-ended");this.error(null);this.paused()?this.hasStarted(!1):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(n){return n!==undefined?(this.hasStarted_!==n&&(this.hasStarted_=n,n?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(!0)},vjs.Player.prototype.onWaiting=function(){this.addClass("vjs-waiting")},vjs.Player.prototype.onWaitEnd=function(){this.removeClass("vjs-loading");this.removeClass("vjs-waiting")},vjs.Player.prototype.onSeeking=function(){this.addClass("vjs-seeking")},vjs.Player.prototype.onSeeked=function(){this.removeClass("vjs-seeking")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime);this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){this.bufferedPercent()==1&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.addClass("vjs-ended");this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},vjs.Player.prototype.onDurationChange=function(){var n=this.techGet("duration");n&&(n<0&&(n=Infinity),this.duration(n),n===Infinity?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?(this.addClass("vjs-fullscreen"),vjs.IS_ANDROID&&(this.el_.style.position="relative")):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.onError,vjs.Player.prototype.addThrottledWindowResizeListener=function(n,t,i){i&&(n=n.bind(i));var r=vjs.Player.throttle(n,t);window.addEventListener("resize",r);this.on("dispose",function(){window.removeEventListener("resize",r)})},vjs.Player.throttle=function(n,t){var i=!1,r=!1,u;return u=function(){i?r=!0:(n.call(),i=!0,setTimeout(function(){i=!1;r&&(u(),r=!1)},t))}},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(n,t){if(this.tech)if(this.tech.isReady_)try{this.tech[n](t)}catch(i){vjs.log(i);throw i;}else this.tech.ready(function(){this[n](t)})},vjs.Player.prototype.techGet=function(n){if(this.tech&&this.tech.isReady_)try{return this.tech[n]()}catch(t){this.tech[n]===undefined?vjs.log("Video.js: "+n+" method not defined for "+this.techName+" playback technology.",t):t.name=="TypeError"?(vjs.log("Video.js: "+n+" unavailable on "+this.techName+" playback technology element.",t),this.tech.isReady_=!1):vjs.log(t);throw t;}return},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")===!1?!1:!0},vjs.Player.prototype.currentTime=function(n){return n!==undefined?(this.techCall("setCurrentTime",n),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(n){return n!==undefined?(this.cache_.duration=parseFloat(n),this):(this.cache_.duration===undefined&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var n=this.techGet("buffered");return n&&n.length||(n=vjs.createTimeRange(0,0)),n},vjs.Player.prototype.bufferedPercent=function(){var t=this.duration(),r=this.buffered(),u=0,f,i,n;if(!t)return 0;for(n=0;n<r.length;n++)f=r.start(n),i=r.end(n),i>t&&(i=t),u+=i-f;return u/t},vjs.Player.prototype.bufferedEnd=function(){var t=this.buffered(),i=this.duration(),n=t.end(t.length-1);return n>i&&(n=i),n},vjs.Player.prototype.volume=function(n){var t;return n!==undefined?(t=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=t,this.techCall("setVolume",t),vjs.setLocalStorage("volume",t),this):(t=parseFloat(this.techGet("volume")),isNaN(t)?1:t)},vjs.Player.prototype.muted=function(n){return n!==undefined?(n?this.cache_.muted=!0:(this.cache_.muted=!1,this.cache_.volume!==undefined&&this.volume(this.cache_.volume)),this.techCall("setMuted",n),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(n){return n!==undefined?(this.isFullscreen_=!!n,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(n){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(n)},vjs.Player.prototype.requestFullscreen=function(){var n=vjs.browser.fullscreenAPI;if(this.isFullscreen(!0),n){vjs.on(document,n.fullscreenchange,vjs.bind(this,function(t){this.isFullscreen(document[n.fullscreenElement]);this.isFullscreen()===!1&&vjs.off(document,n.fullscreenchange,arguments.callee);t.currentTarget&&t.currentTarget.nodeType==t.currentTarget.DOCUMENT_NODE&&this.trigger("fullscreenchange")}));this.el_[n.requestFullscreen]()}else this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"));return this},vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var n=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),n?document[n.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=document.documentElement.style.overflow;vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";vjs.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(n){n.keyCode===27&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1;vjs.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;vjs.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(n){for(var i,r,u,e,o,t=0,f=this.options_.techOrder;t<f.length;t++){if(i=vjs.capitalize(f[t]),r=window.videojs[i],!r){vjs.log.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.');continue}if(r.isSupported())for(u=0,e=n;u<e.length;u++)if(o=e[u],r.canPlaySource(o))return{source:o,tech:i}}return!1},vjs.Player.prototype.src=function(n){return n===undefined?this.techGet("src"):(vjs.obj.isArray(n)?this.sourceList_(n):typeof n=="string"?this.src({src:n}):n instanceof Object&&(n.type&&!window.videojs[this.techName].canPlaySource(n)?this.sourceList_([n]):(this.cache_.src=n.src,this.currentType_=n.type||"",this.ready(function(){window.videojs[this.techName].prototype.hasOwnProperty("setSource")?this.techCall("setSource",n):this.techCall("src",n.src);this.options_.preload=="auto"&&this.load();this.options_.autoplay&&this.play()}))),this)},vjs.Player.prototype.sourceList_=function(n){var t=this.selectSource(n);t?t.tech===this.techName?this.src(t.source):this.loadTech(t.tech,t.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options().notSupportedMessage)})},0),this.triggerReady())},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.currentType=function(){return this.currentType_||""},vjs.Player.prototype.preload=function(n){return n!==undefined?(this.techCall("setPreload",n),this.options_.preload=n,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(n){return n!==undefined?(this.techCall("setAutoplay",n),this.options_.autoplay=n,this):this.techGet("autoplay",n)},vjs.Player.prototype.loop=function(n){return n!==undefined?(this.techCall("setLoop",n),this.options_.loop=n,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(n){return n===undefined?this.poster_:(n||(n=""),this.poster_=n,this.techCall("setPoster",n),this.trigger("posterchange"),this)},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(n){return n!==undefined?(n=!!n,this.controls_!==n&&(this.controls_=n,n?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(n){return n!==undefined?(n=!!n,this.usingNativeControls_!==n&&(this.usingNativeControls_=n,n?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(n){return n===undefined?this.error_:(this.tech&&vjs.MediaTechController.prototype.stopTracking.call(this.tech),n===null)?(this.error_=n,this.removeClass("vjs-error"),this):(this.error_=n instanceof vjs.MediaError?n:new vjs.MediaError(n),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(n){if(n!==undefined){if(n=!!n,n!==this.userActive_)if(this.userActive_=n,n)this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");else{if(this.userActivity_=!1,this.tech)this.tech.one("mousemove",function(n){n.stopPropagation();n.preventDefault()});this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")}return this}return this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var n,i,r,t,u,s,f,e,o;n=vjs.bind(this,this.reportUserActivity);i=function(t){(t.screenX!=e||t.screenY!=o)&&(e=t.screenX,o=t.screenY,n())};r=function(){n();this.clearInterval(t);t=this.setInterval(n,250)};u=function(){n();this.clearInterval(t)};this.on("mousedown",r);this.on("mousemove",i);this.on("mouseup",u);this.on("keydown",n);this.on("keyup",n);s=this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1;this.userActive(!0);this.clearTimeout(f);var n=this.options().inactivityTimeout;n>0&&(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},n))}},250)},vjs.Player.prototype.playbackRate=function(n){return n!==undefined?(this.techCall("setPlaybackRate",n),this):this.tech&&this.tech.featuresPlaybackRate?this.techGet("playbackRate"):1},vjs.Player.prototype.isAudio_=!1,vjs.Player.prototype.isAudio=function(n){return n!==undefined?(this.isAudio_=!!n,this):this.isAudio_},vjs.Player.prototype.networkState=function(){return this.techGet("networkState")},vjs.Player.prototype.readyState=function(){return this.techGet("readyState")},vjs.Player.prototype.textTracks=function(){return this.tech&&this.tech.textTracks()},vjs.Player.prototype.remoteTextTracks=function(){return this.tech&&this.tech.remoteTextTracks()},vjs.Player.prototype.addTextTrack=function(n,t,i){return this.tech&&this.tech.addTextTrack(n,t,i)},vjs.Player.prototype.addRemoteTextTrack=function(n){return this.tech&&this.tech.addRemoteTextTrack(n)},vjs.Player.prototype.removeRemoteTextTrack=function(n){this.tech&&this.tech.removeRemoteTextTrack(n)},vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{},subtitlesButton:{},captionsButton:{},chaptersButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.LiveDisplay.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-live-controls vjs-control",tabIndex:0});return this.contentEl_=vjs.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Stream Type"))+"<\/span>"+vjs.util.htmlEncode(this.localize("LIVE")),"aria-live":"off"}),n.appendChild(this.contentEl_),n},vjs.PlayToggle=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t);this.on(n,"play",this.onPlay);this.on(n,"pause",this.onPause)}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){this.removeClass("vjs-paused");this.addClass("vjs-playing");this.el_.children[0].children[0].innerHTML=vjs.util.htmlEncode(this.localize("Pause"))},vjs.PlayToggle.prototype.onPause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.el_.children[0].children[0].innerHTML=vjs.util.htmlEncode(this.localize("Play"))},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.on(n,"timeupdate",this.updateContent)}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Current Time"))+" <\/span>0:00","aria-live":"off"}),n.appendChild(this.contentEl_),n},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var n=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Current Time"))+"<\/span> "+vjs.formatTime(n,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.on(n,"timeupdate",this.updateContent)}}),vjs.DurationDisplay.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Duration Time"))+"<\/span> 0:00","aria-live":"off"}),n.appendChild(this.contentEl_),n},vjs.DurationDisplay.prototype.updateContent=function(){var n=this.player_.duration();n&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Duration Time"))+"<\/span> "+vjs.formatTime(n))},vjs.TimeDivider=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/<\/span><\/div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.on(n,"timeupdate",this.updateContent)}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Remaining Time"))+"<\/span> -0:00","aria-live":"off"}),n.appendChild(this.contentEl_),n},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Remaining Time"))+"<\/span> -"+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML=vjs.util.htmlEncode(this.localize("Fullscreen"))):(this.player_.requestFullscreen(),this.controlText_.innerHTML=vjs.util.htmlEncode(this.localize("Non-Fullscreen")))},vjs.ProgressControl=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control",tabIndex:-1})},vjs.SeekBar=vjs.Slider.extend({init:function(n,t){vjs.Slider.call(this,n,t);this.on(n,"timeupdate",this.updateARIAAttributes);n.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var n=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(this.getPercent()*100,2));this.el_.setAttribute("aria-valuetext",vjs.formatTime(n,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()>this.player_.duration()?1:this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(n){this.player_.scrubbing=!0;this.player_.addClass("vjs-scrubbing");this.videoWasPlaying=!this.player_.paused();this.player_.pause();vjs.Slider.prototype.onMouseDown.call(this,n)},vjs.SeekBar.prototype.onMouseMove=function(n){var t=this.calculateDistance(n)*this.player_.duration();t==this.player_.duration()&&(t=t-.1);this.player_.currentTime(t)},vjs.SeekBar.prototype.onMouseUp=function(n){vjs.Slider.prototype.onMouseUp.call(this,n);this.player_.scrubbing=!1;this.player_.removeClass("vjs-scrubbing");this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.on(n,"progress",this.update)}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+vjs.util.htmlEncode(this.localize("Loaded"))+"<\/span>: 0%<\/span>"})},vjs.LoadProgressBar.prototype.update=function(){var n,r,o,t,i=this.player_.buffered(),s=this.player_.duration(),u=this.player_.bufferedEnd(),f=this.el_.children,e=function(n,t){var i=n/t||0;return i*100+"%"};for(this.el_.style.width=e(u,s),n=0;n<i.length;n++)r=i.start(n),o=i.end(n),t=f[n],t||(t=this.el_.appendChild(vjs.createEl())),t.style.left=e(r,u),t.style.width=e(o-r,u);for(n=f.length;n>i.length;n--)this.el_.removeChild(f[n-1])},vjs.PlayProgressBar=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+vjs.util.htmlEncode(this.localize("Progress"))+"<\/span>: 0%<\/span>"})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(n,t){vjs.SliderHandle.call(this,n,t);this.on(n,"timeupdate",this.updateContent)}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var n=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(n,this.player_.duration())+"<\/span>"},vjs.VolumeControl=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);n.tech&&n.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden");this.on(n,"loadstart",function(){n.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control",tabIndex:0})},vjs.VolumeBar=vjs.Slider.extend({init:function(n,t){vjs.Slider.call(this,n,t);this.on(n,"volumechange",this.updateARIAAttributes);n.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(this.player_.volume()*100,2));this.el_.setAttribute("aria-valuetext",vjs.round(this.player_.volume()*100,2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(n){this.player_.muted()&&this.player_.muted(!1);this.player_.volume(this.calculateDistance(n))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"><\/span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t);this.on(n,"volumechange",this.update);n.tech&&n.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden");this.on(n,"loadstart",function(){n.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Mute"))+"<\/span><\/div>",tabIndex:0})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},vjs.MuteToggle.prototype.update=function(){var i=this.player_.volume(),n=3,t;for(i===0||this.player_.muted()?n=0:i<.33?n=1:i<.67&&(n=2),this.player_.muted()?this.el_.children[0].children[0].innerHTML!=vjs.util.htmlEncode(this.localize("Unmute"))&&(this.el_.children[0].children[0].innerHTML=vjs.util.htmlEncode(this.localize("Unmute"))):this.el_.children[0].children[0].innerHTML!=vjs.util.htmlEncode(this.localize("Mute"))&&(this.el_.children[0].children[0].innerHTML=vjs.util.htmlEncode(this.localize("Mute"))),t=0;t<4;t++)vjs.removeClass(this.el_,"vjs-vol-"+t);vjs.addClass(this.el_,"vjs-vol-"+n)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(n,t){vjs.MenuButton.call(this,n,t);this.on(n,"volumechange",this.volumeUpdate);n.tech&&n.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden");this.on(n,"loadstart",function(){n.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")});this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var n=new vjs.Menu(this.player_,{contentElType:"div"}),t=new vjs.VolumeBar(this.player_,this.options_.volumeBar);t.on("focus",function(){n.lockShowing()});t.on("blur",function(){n.unlockShowing()});return n.addChild(t),n},vjs.VolumeMenuButton.prototype.onClick=function(n){vjs.MuteToggle.prototype.onClick.call(this,n);vjs.MenuButton.prototype.onClick.call(this,n)},vjs.VolumeMenuButton.prototype.onKeyPress=function(n){if(vjs.MenuButton.prototype.onKeyPress.call(this,n),n.which==32||n.which==13){var t=this.el().getElementsByClassName("vjs-volume-bar");t&&t[0]&&t[0].focus()}},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Mute"))+"<\/span><\/div>"})},vjs.VolumeMenuButton.prototype.volumeUpdate=vjs.MuteToggle.prototype.update,vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(n,t){vjs.MenuButton.call(this,n,t);this.updateVisibility();this.updateLabel();this.on(n,"loadstart",this.updateVisibility);this.on(n,"ratechange",this.updateLabel)}}),vjs.PlaybackRateMenuButton.prototype.buttonText="Playback Rate",vjs.PlaybackRateMenuButton.prototype.className="vjs-playback-rate",vjs.PlaybackRateMenuButton.prototype.createEl=function(){var n=vjs.MenuButton.prototype.createEl.call(this);return this.labelEl_=vjs.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.labelEl_),n},vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var i=new vjs.Menu(this.player()),t=this.player().options().playbackRates,n;if(t)for(n=t.length-1;n>=0;n--)i.addChild(new vjs.PlaybackRateMenuItem(this.player(),{rate:t[n]+"x"}));return i},vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},vjs.PlaybackRateMenuButton.prototype.onClick=function(){for(var r=this.player().playbackRate(),n=this.player().options().playbackRates,i=n[0],t=0;t<n.length;t++)if(n[t]>r){i=n[t];break}this.player().playbackRate(i)},vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech&&this.player().tech.featuresPlaybackRate&&this.player().options().playbackRates&&this.player().options().playbackRates.length>0},vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:function(n,t){var i=this.label=t.rate,r=this.rate=parseFloat(i,10);t.label=i;t.selected=r===1;vjs.MenuItem.call(this,n,t);this.on(n,"ratechange",this.update)}}),vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player().playbackRate(this.rate)},vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)},vjs.ProgressTimeTips=vjs.Component.extend({init:function(n,t){var i,r,u,f;vjs.Component.call(this,n,t);i=document.createElement("div");i.className="amp-time-tip";r=document.createElement("div");r.className="amp-time-tip-inner";i.appendChild(r);n.controlBar.el().appendChild(i);i.style.visibility="hidden";i.style.display="block";i.style.opacity="1";i.style.fontSize="11px";i.style.position="absolute";i.style.zIndex="100000";i.style.minWidth="40px";r.style.padding="4px 8px";r.style.backgroundColor="#3c454f";r.style.color="white";r.style.maxWidth="200px";r.style.textAlign="center";f=function(t){var c,e,o,s,f,h,l,a,v;s=n.controlBar.progressControl.seekBar;h=s.el().getBoundingClientRect();t.type=="mousemove"&&(u=t.clientX);v=(u-h.left)/s.width();f=v*n.duration();f===n.duration()&&(f=f-.1);n.isLive()&&f>n.duration()-n.currentPlayerSettingValue("livePlaybackOffsetInSec")?r.innerHTML="LIVE":f<=0?r.innerHTML="0:00":(c=Math.floor(f/3600),e=Math.floor(f/60)%60,o=Math.floor(f)%60,l=":",a=":",c==0?(c="",l=""):e<10&&(e="0"+e),o<10&&(o="0"+o),r.innerHTML=c+l+e+a+o);i.style.top=-1*(n.controlBar.el().offsetHeight+4)+"px";i.style.left=u-h.left<.625*i.offsetWidth?"0px":s.el().offsetWidth-u+h.left<.625*i.offsetWidth?s.el().offsetWidth-i.offsetWidth+"px":u-h.left-i.offsetWidth/2+"px";i.style.visibility="visible"};n.on("durationchange",function(n){i.style.visibility!=="hidden"&&f(n)});n.controlBar.progressControl.seekBar.on("mousemove",f);n.controlBar.progressControl.on("mouseout",function(){i.style.visibility="hidden"})}}),vjs.HotKeys=vjs.Component.extend({init:function(n,t){var f,e,u,c;vjs.Component.call(this,n,t);f=function(n){for(var t,r,i=1;i<arguments.length;i++){t=arguments[i];for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r])}return n};e={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1};t=f({},n.options_.hotKeys||e,t||{});var o=t.volumeStep,i=t.seekStep,s=t.enableMute,r=t.enableFullscreen,l=t.enableNumbers,h=t.enableJogStyle;n.el().hasAttribute("tabIndex")||n.el().setAttribute("tabIndex","1");n.on("play",function(){var t=n.el().querySelector(".iframeblocker");t&&t.style.display===""&&(t.style.display="block",t.style.bottom="39px")});u=function(t){var u=t.which,f,e,c,a;if(n.controls()&&(e=document.activeElement,e==n.el()||n.isFocused||e==n.el().querySelector(".vjs-tech")||e==n.el().querySelector(".vjs-control-bar")||e==n.el().querySelector(".iframeblocker")))switch(u){case 32:t.preventDefault();n.paused()?n.play():n.pause();break;case 37:t.preventDefault();f=n.currentTime()-i;n.currentTime()<=i&&(f=0);n.currentTime(f);break;case 39:t.preventDefault();n.currentTime(n.currentTime()+i);break;case 40:t.preventDefault();h?(f=n.currentTime()-1,n.currentTime()<=1&&(f=0),n.currentTime(f)):n.volume((n.volume()-o).toFixed(1));break;case 38:t.preventDefault();h?n.currentTime(n.currentTime()+1):n.volume((n.volume()+o).toFixed(1));break;case 77:s&&(n.muted()?n.muted(!1):n.muted(!0));break;case 109:s&&(n.muted()?n.muted(!1):n.muted(!0));break;case 70:r&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen());break;case 102:r&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen());break;default:(u>47&&u<59||u>95&&u<106)&&l&&(c=48,u>95&&(c=96),a=u-c,t.preventDefault(),n.currentTime(n.duration()*a*.1))}};c=function(t){if(n.controls()){var i=t.relatedTarget||t.toElement||document.activeElement;(i==n.el()||i==n.el().querySelector(".vjs-tech")||i==n.el().querySelector(".iframeblocker"))&&r&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen())}};window.addEventListener("keydown",u,!1);n.on("dblclick",c);this.keyDown=u}}),vjs.HotKeys.prototype.dispose=function(){window.removeEventListener("keydown",this.keyDown,!1)},vjs.PosterImage=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t);this.update();n.on("posterchange",vjs.bind(this,this.update))}}),vjs.PosterImage.prototype.dispose=function(){this.player().off("posterchange",this.update);vjs.Button.prototype.dispose.call(this)},vjs.PosterImage.prototype.createEl=function(){var n=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return vjs.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=vjs.createEl("img"),n.appendChild(this.fallbackImg_)),n},vjs.PosterImage.prototype.update=function(){var n=this.player().poster();this.setSrc(n);n?this.show():this.hide()},vjs.PosterImage.prototype.setSrc=function(n){var t,n=vjs.getAbsoluteURL(n);n.search(/^(https?:)?\/\//i)===-1&&(vjs.log.warn("ignoring invalid poster URL"),n="");this.fallbackImg_?this.fallbackImg_.src=n:(t="",n&&(t='url("'+n+'")'),this.el_.style.backgroundImage=t)},vjs.PosterImage.prototype.onClick=function(){this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",tabIndex:-1})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"><\/span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.update();this.on(n,"error",this.update);this.on(n,"fullscreenchange",this.onResize);this.on(n,"resize",this.onResize)}}),vjs.ErrorDisplay.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display",tabIndex:0});return this.contentEl_=vjs.createEl("div"),n.appendChild(this.contentEl_),n},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=vjs.util.htmlEncode(this.localize(this.player().error().message)))},vjs.ErrorDisplay.prototype.onResize=function(){var n=Math.max(this.player_.el_.clientWidth*.02,8);this.contentEl_.style.fontSize=parseInt(n)+"px"},vjs.EventEmitter=function(){},vjs.EventEmitter.prototype.allowedEvents_={},vjs.EventEmitter.prototype.on=function(n,t){var i=this.addEventListener;this.addEventListener=Function.prototype;vjs.on(this,n,t);this.addEventListener=i},vjs.EventEmitter.prototype.addEventListener=vjs.EventEmitter.prototype.on,vjs.EventEmitter.prototype.off=function(n,t){vjs.off(this,n,t)},vjs.EventEmitter.prototype.removeEventListener=vjs.EventEmitter.prototype.off,vjs.EventEmitter.prototype.one=function(n,t){vjs.one(this,n,t)},vjs.EventEmitter.prototype.trigger=function(n){var t=n.type||n;typeof n=="string"&&(n={type:t});n=vjs.fixEvent(n);this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](n);vjs.trigger(this,n)},vjs.EventEmitter.prototype.dispatchEvent=vjs.EventEmitter.prototype.trigger,function(){var n;vjs.MediaTechController=vjs.Component.extend({init:function(n,t,i){t=t||{};t.reportTouchActivity=!1;vjs.Component.call(this,n,t,i);this.featuresProgressEvents||this.manualProgressOn();this.featuresTimeupdateEvents||this.manualTimeUpdatesOn();this.initControlsListeners();this.featuresNativeTextTracks||this.emulateTextTracks();this.initTextTrackListeners()}});vjs.MediaTechController.prototype.initControlsListeners=function(){var n=this.player();this.ready(this.activateControls);this.on(n,"controlsenabled",this.activateControls);this.on(n,"controlsdisabled",this.removeControlsListeners);this.ready(function(){this.networkState&&this.networkState()>0&&this.player().trigger("loadstart")})};vjs.MediaTechController.prototype.removeControls=function(){var n=this.player();this.off(n,"controlsenabled",this.activateControls);this.off(n,"controlsdisabled",this.removeControlsListeners)};vjs.MediaTechController.prototype.addControlsListeners=function(){var n;this.on("mousedown",this.onClick);this.on("touchstart",function(){n=this.player_.userActive()});this.on("touchmove",function(){n&&this.player().reportUserActivity()});this.on("touchend",function(n){n.preventDefault()});this.emitTapEvents();this.on("tap",this.onTap)};vjs.MediaTechController.prototype.activateControls=function(){var n=this.player();n.controls()&&!n.usingNativeControls()&&this.addControlsListeners()};vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap");this.off("touchstart");this.off("touchmove");this.off("touchleave");this.off("touchcancel");this.off("touchend");this.off("click");this.off("mousedown")};vjs.MediaTechController.prototype.onClick=function(n){n.button===0&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())};vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())};vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=!0;this.trackProgress()};vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress()};vjs.MediaTechController.prototype.trackProgress=function(){this.progressInterval=this.setInterval(function(){var n=this.player().bufferedPercent();this.bufferedPercent_!=n&&this.player().trigger("progress");this.bufferedPercent_=n;n===1&&this.stopTrackingProgress()},500)};vjs.MediaTechController.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)};vjs.MediaTechController.prototype.manualTimeUpdatesOn=function(){var n=this.player_;this.manualTimeUpdates=!0;this.on(n,"play",this.trackCurrentTime);this.on(n,"pause",this.stopTrackingCurrentTime);this.one("timeupdate",function(){this.featuresTimeupdateEvents=!0;this.manualTimeUpdatesOff()})};vjs.MediaTechController.prototype.manualTimeUpdatesOff=function(){var n=this.player_;this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off(n,"play",this.trackCurrentTime);this.off(n,"pause",this.stopTrackingCurrentTime)};vjs.MediaTechController.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=this.setInterval(function(){this.player().trigger("timeupdate")},250)};vjs.MediaTechController.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.player().trigger("timeupdate")};vjs.MediaTechController.prototype.stopTracking=function(){this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff()};vjs.MediaTechController.prototype.dispose=function(){this.stopTracking();this.removeControls();vjs.Component.prototype.dispose.call(this)};vjs.MediaTechController.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.player().trigger("timeupdate")};vjs.MediaTechController.prototype.initTextTrackListeners=function(){var i=this.player_,n,t=function(){var n=i.getChild("textTrackDisplay");n&&n.updateDisplay()};if(n=this.textTracks(),n){n.addEventListener("removetrack",t);n.addEventListener("addtrack",t);this.on("dispose",vjs.bind(this,function(){n.removeEventListener("removetrack",t);n.removeEventListener("addtrack",t)}))}};vjs.MediaTechController.prototype.emulateTextTracks=function(){var i=this.player_,t,n;if(n=this.textTracks(),n){t=function(){var t,r,n;for(n=i.getChild("textTrackDisplay"),n.updateDisplay(),t=0;t<this.length;t++)r=this[t],r.removeEventListener("cuechange",vjs.bind(n,n.updateDisplay)),r.mode==="showing"&&r.addEventListener("cuechange",vjs.bind(n,n.updateDisplay))};n.addEventListener("change",t);this.on("dispose",vjs.bind(this,function(){n.removeEventListener("change",t)}))}};vjs.MediaTechController.prototype.textTracks_;vjs.MediaTechController.prototype.textTracks=function(){return this.player_.textTracks_=this.player_.textTracks_||new vjs.TextTrackList,this.player_.textTracks_};vjs.MediaTechController.prototype.remoteTextTracks=function(){return this.player_.remoteTextTracks_=this.player_.remoteTextTracks_||new vjs.TextTrackList,this.player_.remoteTextTracks_};n=function(n,t,i,r,u){var e=n.textTracks(),f;return u=u||{},u.kind=t,i&&(u.label=i),r&&(u.language=r),u.player=n.player_,f=new vjs.TextTrack(u),e.addTrack_(f),f};vjs.MediaTechController.prototype.addTextTrack=function(t,i,r){if(!t)throw new Error("TextTrack kind is required but was not provided");return n(this,t,i,r)};vjs.MediaTechController.prototype.addRemoteTextTrack=function(t){var i=n(this,t.kind,t.label,t.language,t);return this.remoteTextTracks().addTrack_(i),{track:i}};vjs.MediaTechController.prototype.removeRemoteTextTrack=function(n){this.textTracks().removeTrack_(n);this.remoteTextTracks().removeTrack_(n)};vjs.MediaTechController.prototype.setPoster=function(){};vjs.MediaTechController.prototype.featuresVolumeControl=!0;vjs.MediaTechController.prototype.featuresFullscreenResize=!1;vjs.MediaTechController.prototype.featuresPlaybackRate=!1;vjs.MediaTechController.prototype.featuresProgressEvents=!1;vjs.MediaTechController.prototype.featuresTimeupdateEvents=!1;vjs.MediaTechController.prototype.featuresNativeTextTracks=!1;vjs.MediaTechController.withSourceHandlers=function(n){n.registerSourceHandler=function(t,i){var r=n.sourceHandlers;r||(r=n.sourceHandlers=[]);i===undefined&&(i=r.length);r.splice(i,0,t)};n.selectSourceHandler=function(t){for(var r=n.sourceHandlers||[],u,i=0;i<r.length;i++)if(u=r[i].canHandleSource(t),u)return r[i];return null};n.canPlaySource=function(t){var i=n.selectSourceHandler(t);return i?i.canHandleSource(t):""};n.prototype.setSource=function(t){var i=n.selectSourceHandler(t);i||(n.nativeSourceHandler?i=n.nativeSourceHandler:vjs.log.error("No source hander found for the current source."));this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);this.currentSource_=t;this.sourceHandler_=i.handleSource(t,this);this.on("dispose",this.disposeSourceHandler);return this};n.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}};vjs.media={}}(),vjs.Html5=vjs.MediaTechController.extend({init:function(n,t,i){var o,s,r,u,h,f,e;if((t.nativeCaptions===!1||t.nativeTextTracks===!1)&&(this.featuresNativeTextTracks=!1),vjs.MediaTechController.call(this,n,t,i),this.setupTriggers(),e=t.source,e&&(this.el_.currentSrc!==e.src||n.tag&&n.tag.initNetworkState_===3)&&this.setSource(e),this.el_.hasChildNodes()){for(o=this.el_.childNodes,s=o.length,f=[];s--;)u=o[s],h=u.nodeName.toLowerCase(),h==="track"&&(this.featuresNativeTextTracks?this.remoteTextTracks().addTrack_(u.track):f.push(u));for(r=0;r<f.length;r++)this.el_.removeChild(f[r])}if(this.featuresNativeTextTracks)this.on("loadstart",vjs.bind(this,this.hideCaptions));vjs.TOUCH_ENABLED&&n.options().nativeControlsForTouch===!0&&this.useNativeControls();this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_);vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var t=this.player_,u,r,i,n=t.tag,e,h,o,f,s;if(n&&this.movingMediaElementInDOM!==!1)n.parentNode!==t.el()&&vjs.insertFirst(n,t.el());else{if(n?(h=n.cloneNode(!1),vjs.Html5.disposeMediaElement(n),n=h,t.tag=null):(n=vjs.createEl("video"),e=videojs.util.mergeOptions({},t.tagAttributes),vjs.TOUCH_ENABLED&&t.options().nativeControlsForTouch===!0||delete e.controls,vjs.setElementAttributes(n,vjs.obj.merge(e,{id:t.id()+"_html5_api","class":"vjs-tech"}))),n.player=t,t.options_.tracks)for(i=0;i<t.options_.tracks.length;i++)u=t.options_.tracks[i],r=document.createElement("track"),r.kind=u.kind,r.label=u.label,r.srclang=u.srclang,r.src=u.src,"default"in u&&r.setAttribute("default","default"),n.appendChild(r);vjs.insertFirst(n,t.el())}for(vjs.setElementAttributes(n,{oncontextmenu:"return false;",preload:"none"}),o=["autoplay","preload","loop","muted"],i=o.length-1;i>=0;i--)f=o[i],s={},typeof t.options_[f]!="undefined"&&(s[f]=t.options_[f]),vjs.setElementAttributes(n,s);return n},vjs.Html5.prototype.hideCaptions=function(){for(var t=this.el_.querySelectorAll("track"),n,i=t.length,r={captions:1,subtitles:1};i--;)n=t[i].track,n&&n.kind in r&&!t[i]["default"]&&(n.mode="disabled")},vjs.Html5.prototype.setupTriggers=function(){for(var n=vjs.Html5.Events.length-1;n>=0;n--)this.on(vjs.Html5.Events[n],this.eventHandler)},vjs.Html5.prototype.eventHandler=function(n){n.type=="error"&&this.error()?amp.Player.raiseError.call(this.player(),"html5",this.error().code<<20):this.processEvent(n)},vjs.Html5.prototype.processEvent=function(n){n.bubbles=!1;this.player().trigger(n);n.type=="canplaythrough"&&this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())},vjs.Html5.prototype.useNativeControls=function(){var t,n,i,r,u;t=this;n=this.player();t.setControls(n.controls());i=function(){t.setControls(!0)};r=function(){t.setControls(!1)};n.on("controlsenabled",i);n.on("controlsdisabled",r);u=function(){n.off("controlsenabled",i);n.off("controlsdisabled",r)};t.on("dispose",u);n.on("usingcustomcontrols",u);n.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.currentAbsoluteTime=function(){return undefined},vjs.Html5.prototype.currentMediaTime=function(){return undefined},vjs.Html5.prototype.setCurrentTime=function(n){try{this.el_.currentTime=n}catch(t){vjs.log(t,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.currentVideoStreamList=function(){return undefined},vjs.Html5.prototype.currentAudioStreamList=function(){return undefined},vjs.Html5.prototype.videoBufferData=function(){return undefined},vjs.Html5.prototype.audioBufferData=function(){return undefined},vjs.Html5.prototype.currentDownloadBitrate=function(){return undefined},vjs.Html5.prototype.currentPlaybackBitrate=function(){return undefined},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.isLive=function(){return this.duration()===Infinity||this.duration()===Number.MAX_VALUE?!0:!1},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(n){this.el_.volume=n},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(n){this.el_.muted=n},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.videoWidth=function(){return this.player().width()},vjs.Html5.prototype.videoHeight=function(){return this.player().height()},vjs.Html5.prototype.supportsFullScreen=function(){return typeof this.el_.webkitEnterFullScreen=="function"&&(/Android/.test(vjs.USER_AGENT)||!/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT))?!0:!1},vjs.Html5.prototype.enterFullScreen=function(){var n=this.el_;if("webkitDisplayingFullscreen"in n)this.one("webkitbeginfullscreen",function(){this.player_.isFullscreen(!0);this.one("webkitendfullscreen",function(){this.player_.isFullscreen(!1);this.player_.trigger("fullscreenchange")});this.player_.trigger("fullscreenchange")});n.paused&&n.networkState<=n.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){n.pause();n.webkitEnterFullScreen()},0)):n.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(n){if(n===undefined)return this.el_.src;this.setSrc(n)},vjs.Html5.prototype.setSrc=function(n){this.setAutoplay(this.player().options_.autoplay);this.el_.src=n},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(n){this.el_.poster=n},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(n){this.el_.preload=n},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(n){this.el_.autoplay=n},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(n){this.el_.controls=!!n},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(n){this.el_.loop=n},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(n){this.el_.playbackRate=n},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.prototype.readyState=function(){return this.el_.readyState},vjs.Html5.prototype.textTracks=function(){return this.featuresNativeTextTracks?this.el_.textTracks:vjs.MediaTechController.prototype.textTracks.call(this)},vjs.Html5.prototype.addTextTrack=function(n,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,t,i):vjs.MediaTechController.prototype.addTextTrack.call(this,n,t,i)},vjs.Html5.prototype.addRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this,n);var t=document.createElement("track");return n=n||{},n.kind&&(t.kind=n.kind),n.label&&(t.label=n.label),(n.language||n.srclang)&&(t.srclang=n.language||n.srclang),n["default"]&&(t["default"]=n["default"]),n.id&&(t.id=n.id),n.src&&(t.src=n.src),vjs.url.isCrossOrigin(t.src)&&vjs.setElementAttributes(this.el(),{crossorigin:"anonymous"}),this.el().appendChild(t),t.track.mode=t.track.kind==="metadata"?"hidden":"disabled",this.remoteTextTracks().addTrack_(t.track),t},vjs.Html5.prototype.removeRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this,n);var i,t;for(this.remoteTextTracks().removeTrack_(n),i=this.el().querySelectorAll("track"),t=0;t<i.length;t++)if(i[t]===n||i[t].track===n){i[t].parentNode.removeChild(i[t]);break}},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(n){return!1}return!!vjs.TEST_VID.canPlayType},vjs.MediaTechController.withSourceHandlers(vjs.Html5),vjs.Html5.nativeSourceHandler={},vjs.Html5.nativeSourceHandler.canHandleSource=function(n){function u(n){try{return vjs.TEST_VID.canPlayType(n)}catch(t){return""}}var i,r,t;if(n.protectionInfo&&n.protectionInfo.length>0)for(t=0;t<n.protectionInfo.length;t++)if(n.protectionInfo[t].type==="PlayReady"||n.protectionInfo[t].type==="Widevine"||n.protectionInfo[t].type==="FairPlay")return"";return n.type?u(n.type):n.src?(i=n.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i),r=i&&i[1],u("video/"+r)):""},vjs.Html5.nativeSourceHandler.handleSource=function(n,t){t.setSrc(n.src)},vjs.Html5.nativeSourceHandler.dispose=function(){},vjs.Html5.registerSourceHandler(vjs.Html5.nativeSourceHandler),vjs.Html5.canControlVolume=function(){try{var n=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=n/2+.1,n!==vjs.TEST_VID.volume}catch(t){return!1}},vjs.Html5.canControlPlaybackRate=function(){try{var n=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=n/2+.1,n!==vjs.TEST_VID.playbackRate}catch(t){return!1}},vjs.Html5.supportsNativeTextTracks=function(){var n;return n=!!vjs.TEST_VID.textTracks,n&&vjs.TEST_VID.textTracks.length>0&&(n=typeof vjs.TEST_VID.textTracks[0].mode!="number"),n&&vjs.IS_FIREFOX&&(n=!1),n},vjs.Html5.prototype.featuresVolumeControl=vjs.Html5.canControlVolume(),vjs.Html5.prototype.featuresPlaybackRate=vjs.Html5.canControlPlaybackRate(),vjs.Html5.prototype.movingMediaElementInDOM=!vjs.IS_IOS,vjs.Html5.prototype.featuresFullscreenResize=!0,vjs.Html5.prototype.featuresProgressEvents=!0,vjs.Html5.prototype.featuresNativeTextTracks=vjs.Html5.supportsNativeTextTracks(),function(){var n,t=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,i=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(n||(n=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(i){return i&&t.test(i)?"maybe":n.call(this,i)});vjs.IS_OLD_ANDROID&&(n||(n=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&i.test(t)?"maybe":n.call(this,t)})};vjs.Html5.unpatchCanPlayType=function(){var t=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=n,n=null,t};vjs.Html5.patchCanPlayType()}(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(n){if(n){for(n.player=null,n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src");typeof n.load=="function"&&function(){try{n.load()}catch(t){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(n,t,i){vjs.MediaTechController.call(this,n,t,i);var u=t.source,o=t.parentEl,f=this.el_=vjs.createEl("div",{id:n.id()+"_temp_flash"}),e=n.id()+"_flash_api",r=n.options_,s=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:r.autoplay,preload:r.preload,loop:r.loop,muted:r.muted},t.flashVars),h=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},t.params),c=vjs.obj.merge({id:e,name:e,"class":"vjs-tech"},t.attributes);u&&this.ready(function(){this.setSource(u)});vjs.insertFirst(f,o);t.startTime&&this.ready(function(){this.load();this.play();this.currentTime(t.startTime)});vjs.IS_FIREFOX&&this.ready(function(){this.on("mousemove",function(){this.player().trigger({type:"mousemove",bubbles:!1})})});n.on("stageclick",n.reportUserActivity);this.el_=vjs.Flash.embed(t.swf,f,s,h,c)}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(n){return n===undefined?this.currentSrc():this.setSrc(n)},vjs.Flash.prototype.setSrc=function(n){if(n=vjs.getAbsoluteURL(n),this.el_.vjs_src(n),this.player_.autoplay()){var t=this;this.setTimeout(function(){t.play()},0)}},vjs.Flash.prototype.setCurrentTime=function(n){this.lastSeekTarget_=n;this.el_.vjs_setProperty("currentTime",n);vjs.MediaTechController.prototype.setCurrentTime.call(this)},vjs.Flash.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},vjs.Flash.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1},function(){function f(n){var t=n.charAt(0).toUpperCase()+n.slice(1);i["set"+t]=function(t){return this.el_.vjs_setProperty(n,t)}}function u(n){i[n]=function(){return this.el_.vjs_getProperty(n)}}for(var i=vjs.Flash.prototype,t="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),r="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(","),n=0;n<t.length;n++)u(t[n]),f(t[n]);for(n=0;n<r.length;n++)u(r[n])}(),vjs.Flash.isSupported=function(){return swfobject.hasFlashPlayerVersion("11.4")},vjs.MediaTechController.withSourceHandlers(vjs.Flash),vjs.Flash.nativeSourceHandler={},vjs.Flash.nativeSourceHandler.canHandleSource=function(n){var t;return n.type?(t=n.type.replace(/;.*/,"").toLowerCase(),t in vjs.Flash.formats)?"maybe":"":""},vjs.Flash.nativeSourceHandler.handleSource=function(n,t){t.setSrc(n.src)},vjs.Flash.nativeSourceHandler.dispose=function(){},vjs.Flash.registerSourceHandler(vjs.Flash.nativeSourceHandler),vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.onReady=function(n){var t,i;t=vjs.el(n);i=t&&t.parentNode&&t.parentNode.player;i&&(t.player=i,vjs.Flash.checkReady(i.tech))},vjs.Flash.checkReady=function(n){n.el()&&(n.el().vjs_getProperty?n.triggerReady():this.setTimeout(function(){vjs.Flash.checkReady(n)},50))},vjs.Flash.onEvent=function(n,t){var i=vjs.el(n).player;i.trigger(t)},vjs.Flash.onError=function(n,t){var i=vjs.el(n).player,r="FLASH: "+t;t=="srcnotfound"?i.error({code:4,message:r}):i.error(r)},vjs.Flash.embed=function(n,t,i,r,u){var o=vjs.Flash.getEmbedCode(n,i,r,u),f=vjs.createEl("div",{innerHTML:o}).childNodes[0],s=t.parentNode,e;return t.parentNode.replaceChild(f,t),e=s.childNodes[0],setTimeout(function(){e.style.display="block"},1e3),f},vjs.Flash.getEmbedCode=function(n,t,i,r){var u="",f="",e="";return t&&vjs.obj.each(t,function(n,t){u+=encodeURIComponent(n)+"="+encodeURIComponent(t)+"&amp;"}),delete i.flashvars,i=vjs.obj.merge({movie:n,flashvars:u,allowScriptAccess:"always",allowNetworking:"all"},i),vjs.obj.each(i,function(n,t){f+='<param name="'+encodeURIComponent(n)+'" value="'+(n!=="flashvars"?encodeURI(t):t)+'" />'}),r=vjs.obj.merge({data:n,width:"100%",height:"100%"},r),vjs.obj.each(r,function(n,t){e+=encodeURIComponent(n)+'="'+encodeURI(t)+'" '}),'<object type="application/x-shockwave-flash" '+e+">"+f+"<\/object>"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.streamFromParts=function(n,t){return n+"&"+t},vjs.Flash.streamToParts=function(n){var i={connection:"",stream:""},t,r;return n?(t=n.indexOf("&"),t!==-1?r=t+1:(t=r=n.lastIndexOf("/")+1,t===0&&(t=r=n.length)),i.connection=n.substring(0,t),i.stream=n.substring(r,n.length),i):i},vjs.Flash.isStreamingType=function(n){return n in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(n){return vjs.Flash.RTMP_RE.test(n)},vjs.Flash.rtmpSourceHandler={},vjs.Flash.rtmpSourceHandler.canHandleSource=function(n){return vjs.Flash.isStreamingType(n.type)||vjs.Flash.isStreamingSrc(n.src)?"maybe":""},vjs.Flash.rtmpSourceHandler.handleSource=function(n,t){var i=vjs.Flash.streamToParts(n.src);t.setRtmpConnection(i.connection);t.setRtmpStream(i.stream)},vjs.Flash.registerSourceHandler(vjs.Flash.rtmpSourceHandler),vjs.MediaLoader=vjs.Component.extend({init:function(n,t,i){var r,u,f,e;if(vjs.Component.call(this,n,t,i),n.options_.sources&&n.options_.sources.length!==0)n.src(n.options_.sources);else for(r=0,u=n.options_.techOrder;r<u.length;r++)if(f=vjs.capitalize(u[r]),e=window.videojs[f],e&&e.isSupported()){n.loadTech(f);break}}}),swfobject=function(){function t(n){return parseInt(n,10)}function l(n){n+="";var r=e.pv,i=n.split(".");return i[0]=t(i[0]),i[1]=t(i[1])||0,i[2]=t(i[2])||0,r[0]>i[0]||r[0]==i[0]&&r[1]>i[1]||r[0]==i[0]&&r[1]==i[1]&&r[2]>=i[2]?!0:!1}var i="undefined",o="object",u="Shockwave Flash",s="ShockwaveFlash.ShockwaveFlash",f="application/x-shockwave-flash",h=window,r=document,n=navigator,c=!1,e=function(){var w=typeof r.getElementById!==i&&typeof r.getElementsByTagName!==i&&typeof r.createElement!==i,a=n.userAgent.toLowerCase(),v=n.platform.toLowerCase(),b=v?/win/.test(v):/win/.test(a),k=v?/mac/.test(v):/mac/.test(a),d=/webkit/.test(a)?parseFloat(a.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,y=n.appName==="Microsoft Internet Explorer",l=[0,0,0],e=null,p;if(typeof n.plugins!==i&&typeof n.plugins[u]===o)e=n.plugins[u].description,e&&typeof n.mimeTypes!==i&&n.mimeTypes[f]&&n.mimeTypes[f].enabledPlugin&&(c=!0,y=!1,e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),l[0]=t(e.replace(/^(.*)\..*$/,"$1")),l[1]=t(e.replace(/^.*\.(.*)\s.*$/,"$1")),l[2]=/[a-zA-Z]/.test(e)?t(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof h.ActiveXObject!==i)try{p=new ActiveXObject(s);p&&(e=p.GetVariable("$version"),e&&(y=!0,e=e.split(" ")[1].split(","),l=[t(e[0]),t(e[1]),t(e[2])]))}catch(g){}return{w3:w,pv:l,wk:d,ie:y,win:b,mac:k}}();return{ua:e,hasFlashPlayerVersion:l}}(),function(){"use strict";vjs.TextTrackDisplay=vjs.Component.extend({init:function(n,t,i){vjs.Component.call(this,n,t,i);n.on("loadstart",vjs.bind(this,this.toggleDisplay));n.ready(vjs.bind(this,function(){if(n.tech&&n.tech.featuresNativeTextTracks){this.hide();return}var t,i,r;n.on("fullscreenchange",vjs.bind(this,this.updateDisplay));for(i=n.options_.tracks||[],t=0;t<i.length;t++)r=i[t],this.player_.addRemoteTextTrack(r);n.options_.tracks.length=0}))}});vjs.TextTrackDisplay.prototype.toggleDisplay=function(){this.player_.tech&&this.player_.tech.featuresNativeTextTracks?this.hide():this.show()};vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};vjs.TextTrackDisplay.prototype.clearDisplay=function(){typeof WebVTT=="function"&&window.WebVTT.processCues(window,[],this.el_)};var t=function(n,t){return"rgba("+parseInt(n[1]+n[1],16)+","+parseInt(n[2]+n[2],16)+","+parseInt(n[3]+n[3],16)+","+t+")"},n="#222",r="#ccc",u={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},i=function(n,t,i){try{n.style[t]=i}catch(r){}};vjs.TextTrackDisplay.prototype.updateDisplay=function(){var n=this.player_.textTracks(),t=0,i;if(this.clearDisplay(),n)for(;t<n.length;t++)i=n[t],i.mode==="showing"&&this.updateForTrack(i)};vjs.TextTrackDisplay.prototype.updateForTrack=function(f){if(typeof WebVTT=="function"&&f.activeCues){for(var s=0,o,e=this.player_.textTrackSettings.getValues(),c,h=[];s<f.activeCues.length;s++)h.push(f.activeCues[s]);for(window.WebVTT.processCues(window,f.activeCues,this.el_),s=h.length;s--;)o=h[s].displayState,e.color&&(o.firstChild.style.color=e.color),e.textOpacity&&i(o.firstChild,"color",t(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(o.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&i(o.firstChild,"backgroundColor",t(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?i(o,"backgroundColor",t(e.windowColor,e.windowOpacity)):o.style.backgroundColor=e.windowColor),e.edgeStyle&&(e.edgeStyle==="dropshadow"?o.firstChild.style.textShadow="2px 2px 3px "+n+", 2px 2px 4px "+n+", 2px 2px 5px "+n:e.edgeStyle==="raised"?o.firstChild.style.textShadow="1px 1px "+n+", 2px 2px "+n+", 3px 3px "+n:e.edgeStyle==="depressed"?o.firstChild.style.textShadow="1px 1px "+r+", 0 1px "+r+", -1px -1px "+n+", 0 -1px "+n:e.edgeStyle==="uniform"&&(o.firstChild.style.textShadow="0 0 4px "+n+", 0 0 4px "+n+", 0 0 4px "+n+", 0 0 4px "+n)),e.fontPercent&&e.fontPercent!==1&&(c=window.parseFloat(o.style.fontSize),o.style.fontSize=c*e.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"),e.fontFamily&&e.fontFamily!=="default"&&(e.fontFamily==="small-caps"?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=u[e.fontFamily])}};vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(n,t){function e(n){var t=vjs.getIsoLangs();return!n||!t||!t[n]?null:t[n].nativeName}var u=this.track=t.track,i=n.textTracks(),f,r;if(i){f=vjs.bind(this,function(){var t=this.track.mode==="showing",r,n,u;if(this instanceof vjs.OffTextTrackMenuItem)for(t=!0,n=0,u=i.length;n<u;n++)if(r=i[n],r.kind===this.track.kind&&r.mode==="showing"){t=!1;break}this.selected(t)});i.addEventListener("change",f);n.on("dispose",function(){i.removeEventListener("change",f)})}if(t.label=u.label||e(u.language)||"Unknown",t.selected=u["default"]||u.mode==="showing",vjs.MenuItem.call(this,n,t),i&&i.onchange===undefined)this.on(["tap","click"],function(){if(typeof Event!="object")try{r=new window.Event("change")}catch(n){}r||(r=document.createEvent("Event"),r.initEvent("change",!0,!0));i.dispatchEvent(r)})}});vjs.TextTrackMenuItem.prototype.onClick=function(n){var u=this.track.kind,i=this.player_.textTracks(),t,r=0;if(vjs.MenuItem.prototype.onClick.call(this,n),i)for(;r<i.length;r++)(t=i[r],t.kind===u)&&(t.mode=t===this.track?"showing":"disabled")};vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(n,t){t.track={kind:t.kind,player:n,label:t.kind+" off","default":!1,mode:"disabled"};vjs.TextTrackMenuItem.call(this,n,t);this.selected(!0)}});vjs.CaptionSettingsMenuItem=vjs.TextTrackMenuItem.extend({init:function(n,t){t.track={kind:t.kind,player:n,label:"Settings","default":!1,mode:"disabled"};vjs.TextTrackMenuItem.call(this,n,t);this.addClass("vjs-texttrack-settings")}});vjs.CaptionSettingsMenuItem.prototype.onClick=function(){this.player().getChild("textTrackSettings").show()};vjs.TextTrackButton=vjs.MenuButton.extend({init:function(n,t){var i,r;if(vjs.MenuButton.call(this,n,t),i=this.player_.textTracks(),this.items.length<=1&&this.hide(),r=vjs.bind(this,this.update),this.player_.ready(r),i){i.addEventListener("removetrack",r);i.addEventListener("addtrack",r);this.player_.on("dispose",function(){i.removeEventListener("removetrack",r);i.removeEventListener("addtrack",r)})}}});vjs.TextTrackButton.prototype.createItems=function(){var n=[],r,t,i;if(this instanceof vjs.CaptionsButton&&!(this.player().tech&&this.player().tech.featuresNativeTextTracks)&&n.push(new vjs.CaptionSettingsMenuItem(this.player_,{kind:this.kind_})),n.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_})),t=this.player_.textTracks(),!t)return n;for(i=0;i<t.length;i++)r=t[i],r.kind===this.kind_&&n.push(new vjs.TextTrackMenuItem(this.player_,{track:r}));return n};vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(n,t,i){vjs.TextTrackButton.call(this,n,t,i);this.el_.setAttribute("aria-label","Captions Menu")}});vjs.CaptionsButton.prototype.kind_="captions";vjs.CaptionsButton.prototype.buttonText="Captions";vjs.CaptionsButton.prototype.className="vjs-captions-button";vjs.CaptionsButton.prototype.update=function(){var n=2;vjs.MenuButton.prototype.update.call(this);this.player().tech&&this.player().tech.featuresNativeTextTracks&&(n=1);this.items&&this.items.length>n?this.show():this.hide()};vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(n,t,i){vjs.TextTrackButton.call(this,n,t,i);this.el_.setAttribute("aria-label","Subtitles Menu")}});vjs.SubtitlesButton.prototype.kind_="subtitles";vjs.SubtitlesButton.prototype.buttonText="Subtitles";vjs.SubtitlesButton.prototype.className="vjs-subtitles-button";vjs.SubtitlesButton.prototype.update=function(){vjs.MenuButton.prototype.update.call(this);this.items&&this.items.length>1?this.show():this.hide()};vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(n,t,i){vjs.TextTrackButton.call(this,n,t,i);this.el_.setAttribute("aria-label","Chapters Menu")}});vjs.ChaptersButton.prototype.kind_="chapters";vjs.ChaptersButton.prototype.buttonText="Chapters";vjs.ChaptersButton.prototype.className="vjs-chapters-button";vjs.ChaptersButton.prototype.createItems=function(){var i=[],r,n,t;if(n=this.player_.textTracks(),!n)return i;for(t=0;t<n.length;t++)r=n[t],r.kind===this.kind_&&i.push(new vjs.TextTrackMenuItem(this.player_,{track:r}));return i};vjs.ChaptersButton.prototype.createMenu=function(){for(var o=this.player_.textTracks()||[],n=0,u=o.length,i,r,h=this.items=[],t,f,s,e;n<u;n++)if(i=o[n],i.kind==this.kind_)if(i.cues){r=i;break}else i.mode="hidden",window.setTimeout(vjs.bind(this,function(){this.createMenu()}),100);if(t=this.menu,t===undefined&&(t=new vjs.Menu(this.player_),t.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.util.htmlEncode(vjs.capitalize(this.kind_)),tabindex:-1}))),r){for(f=r.cues,n=0,u=f.length;n<u;n++)s=f[n],e=new vjs.ChaptersTrackMenuItem(this.player_,{track:r,cue:s}),h.push(e),t.addChild(e);this.addChild(t)}return this.items.length>0&&this.show(),t};vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(n,t){var u=this.track=t.track,i=this.cue=t.cue,r=n.currentTime();t.label=i.text;t.selected=i.startTime<=r&&r<i.endTime;vjs.MenuItem.call(this,n,t);u.addEventListener("cuechange",vjs.bind(this,this.update))}});vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};vjs.ChaptersTrackMenuItem.prototype.update=function(){var n=this.cue,t=this.player_.currentTime();this.selected(n.startTime<=t&&t<n.endTime)}}(),vjs.TextTrackCueList=function(n){var t=this,i;if(vjs.IS_IE8){t=document.createElement("custom");for(i in vjs.TextTrackCueList.prototype)t[i]=vjs.TextTrackCueList.prototype[i]}return vjs.TextTrackCueList.prototype.setCues_.call(t,n),Object.defineProperty(t,"length",{get:function(){return this.length_}}),vjs.IS_IE8?t:void 0},vjs.TextTrackCueList.prototype.setCues_=function(n){var i=this.length||0,t=0,r=n.length,u;if(this.cues_=n,this.length_=n.length,u=function(n){""+n in this||Object.defineProperty(this,""+n,{get:function(){return this.cues_[n]}})},i<r)for(t=i;t<r;t++)u.call(this,t)},vjs.TextTrackCueList.prototype.getCueById=function(n){for(var t=0,u=this.length,r=null,i;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},vjs.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},vjs.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},vjs.TextTrackList=function(n){var t=this,i,r=0;if(vjs.IS_IE8){t=document.createElement("custom");for(i in vjs.TextTrackList.prototype)t[i]=vjs.TextTrackList.prototype[i]}for(n=n||[],t.tracks_=[],Object.defineProperty(t,"length",{get:function(){return this.tracks_.length}});r<n.length;r++)t.addTrack_(n[r]);if(vjs.IS_IE8)return t},vjs.TextTrackList.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrackList.prototype.constructor=vjs.TextTrackList,vjs.TextTrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},function(){for(var n in vjs.TextTrackList.prototype.allowedEvents_)vjs.TextTrackList.prototype["on"+n]=null}(),vjs.TextTrackList.prototype.addTrack_=function(n){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}});n.addEventListener("modechange",vjs.bind(this,function(){this.trigger("change")}));this.tracks_.push(n);this.trigger({type:"addtrack",track:n})},vjs.TextTrackList.prototype.removeTrack_=function(n){for(var t=0,r=this.length,i;t<r;t++)if(i=this[t],i===n){this.tracks_.splice(t,1);break}this.trigger({type:"removetrack",track:n})},vjs.TextTrackList.prototype.getTrackById=function(n){for(var t=0,u=this.length,r=null,i;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},function(){"use strict";function n(n){var t;return n.selectedOptions?t=n.selectedOptions[0]:n.options&&(t=n.options[n.options.selectedIndex]),t.value}function t(n,t){var i,r;if(t){for(i=0;i<n.options.length;i++)if(r=n.options[i],r.value===t)break;n.selectedIndex=i}}function i(){return'<div class="vjs-tracksettings"><div class="vjs-tracksettings-colors"><div class="vjs-fg-color vjs-tracksetting"><label class="vjs-label">Foreground<\/label><select><option value="">---<\/option><option value="#FFF">White<\/option><option value="#000">Black<\/option><option value="#F00">Red<\/option><option value="#0F0">Green<\/option><option value="#00F">Blue<\/option><option value="#FF0">Yellow<\/option><option value="#F0F">Magenta<\/option><option value="#0FF">Cyan<\/option><\/select><span class="vjs-text-opacity vjs-opacity"><select><option value="">---<\/option><option value="1">Opaque<\/option><option value="0.5">Semi-Opaque<\/option><\/select><\/span><\/div><div class="vjs-bg-color vjs-tracksetting"><label class="vjs-label">Background<\/label><select><option value="">---<\/option><option value="#FFF">White<\/option><option value="#000">Black<\/option><option value="#F00">Red<\/option><option value="#0F0">Green<\/option><option value="#00F">Blue<\/option><option value="#FF0">Yellow<\/option><option value="#F0F">Magenta<\/option><option value="#0FF">Cyan<\/option><\/select><span class="vjs-bg-opacity vjs-opacity"><select><option value="">---<\/option><option value="1">Opaque<\/option><option value="0.5">Semi-Transparent<\/option><option value="0">Transparent<\/option><\/select><\/span><\/div><div class="window-color vjs-tracksetting"><label class="vjs-label">Window<\/label><select><option value="">---<\/option><option value="#FFF">White<\/option><option value="#000">Black<\/option><option value="#F00">Red<\/option><option value="#0F0">Green<\/option><option value="#00F">Blue<\/option><option value="#FF0">Yellow<\/option><option value="#F0F">Magenta<\/option><option value="#0FF">Cyan<\/option><\/select><span class="vjs-window-opacity vjs-opacity"><select><option value="">---<\/option><option value="1">Opaque<\/option><option value="0.5">Semi-Transparent<\/option><option value="0">Transparent<\/option><\/select><\/span><\/div><\/div><div class="vjs-tracksettings-font"><div class="vjs-font-percent vjs-tracksetting"><label class="vjs-label">Font Size<\/label><select><option value="0.50">50%<\/option><option value="0.75">75%<\/option><option value="1.00" selected>100%<\/option><option value="1.25">125%<\/option><option value="1.50">150%<\/option><option value="1.75">175%<\/option><option value="2.00">200%<\/option><option value="3.00">300%<\/option><option value="4.00">400%<\/option><\/select><\/div><div class="vjs-edge-style vjs-tracksetting"><label class="vjs-label">Text Edge Style<\/label><select><option value="none">None<\/option><option value="raised">Raised<\/option><option value="depressed">Depressed<\/option><option value="uniform">Uniform<\/option><option value="dropshadow">Dropshadow<\/option><\/select><\/div><div class="vjs-font-family vjs-tracksetting"><label class="vjs-label">Font Family<\/label><select><option value="">Default<\/option><option value="monospaceSerif">Monospace Serif<\/option><option value="proportionalSerif">Proportional Serif<\/option><option value="monospaceSansSerif">Monospace Sans-Serif<\/option><option value="proportionalSansSerif">Proportional Sans-Serif<\/option><option value="casual">Casual<\/option><option value="script">Script<\/option><option value="small-caps">Small Caps<\/option><\/select><\/div><\/div><\/div><div class="vjs-tracksettings-controls"><button class="vjs-default-button">Defaults<\/button><button class="vjs-done-button">Done<\/button><\/div>'}vjs.TextTrackSettings=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.hide();vjs.on(this.el().querySelector(".vjs-done-button"),"click",vjs.bind(this,function(){this.saveSettings();this.hide()}));vjs.on(this.el().querySelector(".vjs-default-button"),"click",vjs.bind(this,function(){this.el().querySelector(".vjs-fg-color > select").selectedIndex=0;this.el().querySelector(".vjs-bg-color > select").selectedIndex=0;this.el().querySelector(".window-color > select").selectedIndex=0;this.el().querySelector(".vjs-text-opacity > select").selectedIndex=0;this.el().querySelector(".vjs-bg-opacity > select").selectedIndex=0;this.el().querySelector(".vjs-window-opacity > select").selectedIndex=0;this.el().querySelector(".vjs-edge-style select").selectedIndex=0;this.el().querySelector(".vjs-font-family select").selectedIndex=0;this.el().querySelector(".vjs-font-percent select").selectedIndex=2;this.updateDisplay()}));vjs.on(this.el().querySelector(".vjs-fg-color > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-bg-color > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".window-color > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-text-opacity > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-bg-opacity > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-window-opacity > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-font-percent select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-edge-style select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-font-family select"),"change",vjs.bind(this,this.updateDisplay));n.options().persistTextTrackSettings&&this.restoreSettings()}});vjs.TextTrackSettings.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:i()})};vjs.TextTrackSettings.prototype.getValues=function(){var t,u,f,e,o,s,h,c,l,i,r,a;t=this.el();o=n(t.querySelector(".vjs-edge-style select"));s=n(t.querySelector(".vjs-font-family select"));h=n(t.querySelector(".vjs-fg-color > select"));f=n(t.querySelector(".vjs-text-opacity > select"));c=n(t.querySelector(".vjs-bg-color > select"));u=n(t.querySelector(".vjs-bg-opacity > select"));l=n(t.querySelector(".window-color > select"));e=n(t.querySelector(".vjs-window-opacity > select"));a=window.parseFloat(n(t.querySelector(".vjs-font-percent > select")));i={backgroundOpacity:u,textOpacity:f,windowOpacity:e,edgeStyle:o,fontFamily:s,color:h,backgroundColor:c,windowColor:l,fontPercent:a};for(r in i)(i[r]===""||i[r]==="none"||r==="fontPercent"&&i[r]===1)&&delete i[r];return i};vjs.TextTrackSettings.prototype.setValues=function(n){var i=this.el(),r;t(i.querySelector(".vjs-edge-style select"),n.edgeStyle);t(i.querySelector(".vjs-font-family select"),n.fontFamily);t(i.querySelector(".vjs-fg-color > select"),n.color);t(i.querySelector(".vjs-text-opacity > select"),n.textOpacity);t(i.querySelector(".vjs-bg-color > select"),n.backgroundColor);t(i.querySelector(".vjs-bg-opacity > select"),n.backgroundOpacity);t(i.querySelector(".window-color > select"),n.windowColor);t(i.querySelector(".vjs-window-opacity > select"),n.windowOpacity);r=n.fontPercent;r&&(r=r.toFixed(2));t(i.querySelector(".vjs-font-percent > select"),r)};vjs.TextTrackSettings.prototype.restoreSettings=function(){var n=vjs.JSON.safeParseTuple(window.localStorage.getItem("vjs-text-track-settings"))[1];n&&this.setValues(n)};vjs.TextTrackSettings.prototype.saveSettings=function(){var n;if(this.player_.options().persistTextTrackSettings){n=this.getValues();try{vjs.isEmpty(n)?window.localStorage.removeItem("vjs-text-track-settings"):window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(n))}catch(t){}}};vjs.TextTrackSettings.prototype.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()}}(),function(){vjs.TextTrack=function(n){var r,c,u,e,l,a,v,o,s,f,h;if(n=n||{},!n.player)throw new Error("A player was not provided.");if(r=this,vjs.IS_IE8){r=document.createElement("custom");for(h in vjs.TextTrack.prototype)r[h]=vjs.TextTrack.prototype[h]}if(r.player_=n.player,u=vjs.TextTrackMode[n.mode]||"disabled",e=vjs.TextTrackKind[n.kind]||"subtitles",l=n.label||"",a=n.language||n.srclang||"",c=n.id||"vjs_text_track_"+vjs.guid++,(e==="metadata"||e==="chapters")&&(u="hidden"),r.cues_=[],r.activeCues_=[],v=new vjs.TextTrackCueList(r.cues_),o=new vjs.TextTrackCueList(r.activeCues_),f=!1,s=vjs.bind(r,function(){this.activeCues;f&&(this.trigger("cuechange"),f=!1)}),u!=="disabled")r.player_.on("timeupdate",s);return Object.defineProperty(r,"kind",{get:function(){return e},set:Function.prototype}),Object.defineProperty(r,"label",{get:function(){return l},set:Function.prototype}),Object.defineProperty(r,"language",{get:function(){return a},set:Function.prototype}),Object.defineProperty(r,"id",{get:function(){return c},set:Function.prototype}),Object.defineProperty(r,"mode",{get:function(){return u},set:function(n){if(vjs.TextTrackMode[n]){if(u=n,u==="showing")this.player_.on("timeupdate",s);this.trigger("modechange")}}}),Object.defineProperty(r,"cues",{get:function(){return this.loaded_?v:null},set:Function.prototype}),Object.defineProperty(r,"activeCues",{get:function(){var t,e,r,u,n;if(!this.loaded_)return null;if(this.cues.length===0)return o;for(u=this.player_.currentTime(),t=0,e=this.cues.length,r=[];t<e;t++)n=this.cues[t],n.startTime<=u&&n.endTime>=u?r.push(n):n.startTime===n.endTime&&n.startTime<=u&&n.startTime+.5>=u&&r.push(n);if(f=!1,r.length!==this.activeCues_.length)f=!0;else for(t=0;t<r.length;t++)i.call(this.activeCues_,r[t])===-1&&(f=!0);return this.activeCues_=r,o.setCues_(this.activeCues_),o},set:Function.prototype}),n.src?t(n.src,r):r.loaded_=!0,vjs.IS_IE8?r:void 0};vjs.TextTrack.prototype=vjs.obj.create(vjs.EventEmitter.prototype);vjs.TextTrack.prototype.constructor=vjs.TextTrack;vjs.TextTrack.prototype.allowedEvents_={cuechange:"cuechange"};vjs.TextTrack.prototype.addCue=function(n){var t=this.player_.textTracks(),i=0;if(t)for(;i<t.length;i++)t[i]!==this&&t[i].removeCue(n);this.cues_.push(n);this.cues.setCues_(this.cues_)};vjs.TextTrack.prototype.removeCue=function(n){for(var t=0,u=this.cues_.length,i,r=!1;t<u;t++)i=this.cues_[t],i===n&&(this.cues_.splice(t,1),r=!0);r&&this.cues.setCues_(this.cues_)};var t,n,i;t=function(t,i){vjs.xhr(t,vjs.bind(this,function(t,r,u){if(t)return vjs.log.error(t);i.loaded_=!0;n(u,i)}))};n=function(t,i){if(typeof WebVTT!="function")return window.setTimeout(function(){n(t,i)},25);var r=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder());r.oncue=function(n){i.addCue(n)};r.onparsingerror=function(n){vjs.log.error(n)};r.parse(t);r.flush()};i=function(n,t){var r,f,u,i;if(this==null)throw new TypeError('"this" is null or not defined');if((f=Object(this),u=f.length>>>0,u===0)||(i=+t||0,Math.abs(i)===Infinity&&(i=0),i>=u))return-1;for(r=Math.max(i>=0?i:u-Math.abs(i),0);r<u;){if(r in f&&f[r]===n)return r;r++}return-1}}(),function(n){var t=n.vttjs={},i=t.VTTCue,r=t.VTTRegion,u=n.VTTCue,f=n.VTTRegion;t.shim=function(){t.VTTCue=i;t.VTTRegion=r};t.restore=function(){t.VTTCue=u;t.VTTRegion=f}}(this),function(n,t){function s(n){if(typeof n!="string")return!1;var t=e[n.toLowerCase()];return t?n.toLowerCase():!1}function r(n){if(typeof n!="string")return!1;var t=o[n.toLowerCase()];return t?n.toLowerCase():!1}function i(n){for(var t=1,i,r;t<arguments.length;t++){i=arguments[t];for(r in i)n[r]=i[r]}return n}function u(n,t,u){var e=this,h=/MSIE\s8\.0/.test(navigator.userAgent),o={};h?e=document.createElement("custom"):o.enumerable=!0;e.hasBeenReset=!1;var c="",l=!1,a=n,v=t,y=u,p=null,w="",b=!0,k="auto",d="start",g=50,nt="middle",tt=50,it="middle";return Object.defineProperty(e,"id",i({},o,{get:function(){return c},set:function(n){c=""+n}})),Object.defineProperty(e,"pauseOnExit",i({},o,{get:function(){return l},set:function(n){l=!!n}})),Object.defineProperty(e,"startTime",i({},o,{get:function(){return a},set:function(n){if(typeof n!="number")throw new TypeError("Start time must be set to a number.");a=n;this.hasBeenReset=!0}})),Object.defineProperty(e,"endTime",i({},o,{get:function(){return v},set:function(n){if(typeof n!="number")throw new TypeError("End time must be set to a number.");v=n;this.hasBeenReset=!0}})),Object.defineProperty(e,"text",i({},o,{get:function(){return y},set:function(n){y=""+n;this.hasBeenReset=!0}})),Object.defineProperty(e,"region",i({},o,{get:function(){return p},set:function(n){p=n;this.hasBeenReset=!0}})),Object.defineProperty(e,"vertical",i({},o,{get:function(){return w},set:function(n){var t=s(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");w=t;this.hasBeenReset=!0}})),Object.defineProperty(e,"snapToLines",i({},o,{get:function(){return b},set:function(n){b=!!n;this.hasBeenReset=!0}})),Object.defineProperty(e,"line",i({},o,{get:function(){return k},set:function(n){if(typeof n!="number"&&n!==f)throw new SyntaxError("An invalid number or illegal string was specified.");k=n;this.hasBeenReset=!0}})),Object.defineProperty(e,"lineAlign",i({},o,{get:function(){return d},set:function(n){var t=r(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");d=t;this.hasBeenReset=!0}})),Object.defineProperty(e,"position",i({},o,{get:function(){return g},set:function(n){if(n<0||n>100)throw new Error("Position must be between 0 and 100.");g=n;this.hasBeenReset=!0}})),Object.defineProperty(e,"positionAlign",i({},o,{get:function(){return nt},set:function(n){var t=r(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");nt=t;this.hasBeenReset=!0}})),Object.defineProperty(e,"size",i({},o,{get:function(){return tt},set:function(n){if(n<0||n>100)throw new Error("Size must be between 0 and 100.");tt=n;this.hasBeenReset=!0}})),Object.defineProperty(e,"align",i({},o,{get:function(){return it},set:function(n){var t=r(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");it=t;this.hasBeenReset=!0}})),e.displayState=undefined,h?e:void 0}var f="auto",e={"":!0,lr:!0,rl:!0},o={start:!0,middle:!0,end:!0,left:!0,right:!0};u.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};n.VTTCue=n.VTTCue||u;t.VTTCue=u}(this,this.vttjs||{}),function(n,t){function f(n){if(typeof n!="string")return!1;var t=u[n.toLowerCase()];return t?n.toLowerCase():!1}function i(n){return typeof n=="number"&&n>=0&&n<=100}function r(){var n=100,t=3,r=0,u=100,e=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");n=t}},lines:{enumerable:!0,get:function(){return t},set:function(n){if(typeof n!="number")throw new TypeError("Lines must be set to a number.");t=n}},regionAnchorY:{enumerable:!0,get:function(){return u},set:function(n){if(!i(n))throw new Error("RegionAnchorX must be between 0 and 100.");u=n}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(n){if(!i(n))throw new Error("RegionAnchorY must be between 0 and 100.");r=n}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(n){if(!i(n))throw new Error("ViewportAnchorY must be between 0 and 100.");o=n}},viewportAnchorX:{enumerable:!0,get:function(){return e},set:function(n){if(!i(n))throw new Error("ViewportAnchorX must be between 0 and 100.");e=n}},scroll:{enumerable:!0,get:function(){return s},set:function(n){var t=f(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");s=t}}})}var u={"":!0,up:!0};n.VTTRegion=n.VTTRegion||r;t.VTTRegion=r}(this,this.vttjs||{}),function(n){function i(n,t){this.name="ParsingError";this.code=n.code;this.message=t||n.message}function c(n){function i(n,t,i,r){return(n|0)*3600+(t|0)*60+(i|0)+(r|0)/1e3}var t=n.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?i(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?i(t[1],t[2],0,t[4]):i(0,t[1],t[2],t[4]):null}function u(){this.values=o(null)}function s(n,t,i,r){var f=r?n.split(r):[n],e,u,o,s;for(e in f)typeof f[e]=="string"&&(u=f[e].split(i),u.length===2)&&(o=u[0],s=u[1],t(o,s))}function v(n,t,r){function o(){var t=c(n);if(t===null)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+e);return n=n.replace(/^[^\sa-zA-Z-]+/,""),t}function h(n,t){var i=new u;s(n,function(n,t){var f,u,e;switch(n){case"region":for(f=r.length-1;f>=0;f--)if(r[f].id===t){i.set(n,r[f].region);break}break;case"vertical":i.alt(n,t,["rl","lr"]);break;case"line":u=t.split(",");e=u[0];i.integer(n,e);i.percent(n,e)?i.set("snapToLines",!1):null;i.alt(n,e,["auto"]);u.length===2&&i.alt("lineAlign",u[1],["start","middle","end"]);break;case"position":u=t.split(",");i.percent(n,u[0]);u.length===2&&i.alt("positionAlign",u[1],["start","middle","end"]);break;case"size":i.percent(n,t);break;case"align":i.alt(n,t,["start","middle","end","left","right"])}},/:/,/\s/);t.region=i.get("region",null);t.vertical=i.get("vertical","");t.line=i.get("line","auto");t.lineAlign=i.get("lineAlign","start");t.snapToLines=i.get("snapToLines",!0);t.size=i.get("size",100);t.align=i.get("align","middle");t.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align);t.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function f(){n=n.replace(/^\s+/,"")}var e=n;if(f(),t.startTime=o(),f(),n.substr(0,3)!=="-->")throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+e);n=n.substr(3);f();t.endTime=o();f();h(n,t)}function a(n,t){function h(){function i(n){return t=t.substr(n.length),n}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return i(n[1]?n[1]:n[2])}function a(n){return y[n]}function v(n){while(i=n.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))n=n.replace(i[0],a);return n}function b(n,t){return!l[t.localName]||l[t.localName]===n.localName}function k(t,i){var u=p[t],r,f;return u?(r=n.document.createElement(u),r.localName=u,f=w[t],f&&i&&(r[f]=i.trim()),r):null}for(var s=n.document.createElement("div"),f=s,r,e=[],o,u,i;(r=h())!==null;){if(r[0]==="<"){if(r[1]==="/"){e.length&&e[e.length-1]===r.substr(2).replace(">","")&&(e.pop(),f=f.parentNode);continue}if(o=c(r.substr(1,r.length-2)),o){u=n.document.createProcessingInstruction("timestamp",o);f.appendChild(u);continue}if(i=r.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/),!i)continue;if(u=k(i[1],i[3]),!u)continue;if(!b(f,u))continue;i[2]&&(u.className=i[2].substr(1).replace("."," "));e.push(i[1]);f.appendChild(u);f=u;continue}f.appendChild(n.document.createTextNode(v(r)))}return s}function b(n){function o(n,t){for(var i=t.childNodes.length-1;i>=0;i--)n.push(t.childNodes[i])}function u(n){var t,i,r;return!n||!n.length?null:(t=n.pop(),i=t.textContent||t.innerText,i)?(r=i.match(/^.*(\n|\r)/),r)?(n.length=0,r[0]):i:t.tagName==="ruby"?u(n):t.childNodes?(o(n,t),u(n)):void 0}var f=[],r="",e,t,i;if(!n||!n.childNodes)return"ltr";for(o(f,n);r=u(f);)for(t=0;t<r.length;t++)for(e=r.charCodeAt(t),i=0;i<h.length;i++)if(h[i]===e)return"rtl";return"ltr"}function k(n){var t;if(typeof n.line=="number"&&(n.snapToLines||n.line>=0&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;var r=n.track,i=r.textTrackList,u=0;for(t=0;t<i.length&&i[t]!==r;t++)i[t].mode==="showing"&&u++;return++u*-1}function f(){}function e(n,t,i){var e=/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",s="rgba(0, 0, 0, 0.8)",r,u;e&&(o="rgb(255, 255, 255)",s="rgb(0, 0, 0)");f.call(this);this.cue=t;this.cueDiv=a(n,t.text);r={color:o,backgroundColor:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};e||(r.writingMode=t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",r.unicodeBidi="plaintext");this.applyStyles(r,this.cueDiv);this.div=n.document.createElement("div");r={textAlign:t.align==="middle"?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"};e||(r.direction=b(this.cueDiv),r.writingMode=t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext");this.applyStyles(r);this.div.appendChild(this.cueDiv);u=0;switch(t.positionAlign){case"start":u=t.position;break;case"middle":u=t.position-t.size/2;break;case"end":u=t.position-t.size}t.vertical===""?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(t.size,"%")});this.move=function(n){this.applyStyles({top:this.formatStyle(n.top,"px"),bottom:this.formatStyle(n.bottom,"px"),left:this.formatStyle(n.left,"px"),right:this.formatStyle(n.right,"px"),height:this.formatStyle(n.height,"px"),width:this.formatStyle(n.width,"px")})}}function t(n){var e=/MSIE\s8\.0/.test(navigator.userAgent),i,r,f,u,t;n.div&&(r=n.div.offsetHeight,f=n.div.offsetWidth,u=n.div.offsetTop,t=(t=n.div.childNodes)&&(t=t[0])&&t.getClientRects&&t.getClientRects(),n=n.div.getBoundingClientRect(),i=t?Math.max(t[0]&&t[0].height||0,n.height/t.length):0);this.left=n.left;this.right=n.right;this.top=n.top||u;this.height=n.height||r;this.bottom=n.bottom||u+(n.height||r);this.width=n.width||f;this.lineHeight=i!==undefined?i:n.lineHeight;e&&!this.lineHeight&&(this.lineHeight=13)}function d(n,i,r,u){function p(n,i){for(var e,o,s=new t(n),h=1,f=0;f<i.length;f++){while(n.overlapsOppositeAxis(r,i[f])||n.within(r)&&n.overlapsAny(u))n.move(i[f]);if(n.within(r))return n;e=n.intersectPercentage(r);h>e&&(o=new t(n),h=e);n=new t(s)}return o||s}var s=new t(i),o=i.cue,e=k(o),f=[],c,a,y;if(o.snapToLines){switch(o.vertical){case"":f=["+y","-y"];c="height";break;case"rl":f=["+x","-x"];c="width";break;case"lr":f=["-x","+x"];c="width"}var l=s.lineHeight,h=l*Math.round(e),v=r[c]+l,w=f[0];Math.abs(h)>v&&(h=(h<0?-1:1)*Math.ceil(v/l)*l);e<0&&(h+=o.vertical===""?r.height:r.width,f=f.reverse());s.move(w,h)}else{a=s.lineHeight/r.height*100;switch(o.lineAlign){case"middle":e-=a/2;break;case"end":e-=a}switch(o.vertical){case"":i.applyStyles({top:i.formatStyle(e,"%")});break;case"rl":i.applyStyles({left:i.formatStyle(e,"%")});break;case"lr":i.applyStyles({right:i.formatStyle(e,"%")})}f=["+y","-x","+x","-y"];s=new t(i)}y=p(s,f);i.move(y.toCSSCompatValues(r))}function r(){}var o=Object.create||function(){function n(){}return function(t){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=t,new n}}(),h;i.prototype=o(Error.prototype);i.prototype.constructor=i;i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};u.prototype={set:function(n,t){this.get(n)||t===""||(this.values[n]=t)},get:function(n,t,i){return i?this.has(n)?this.values[n]:t[i]:this.has(n)?this.values[n]:t},has:function(n){return n in this.values},alt:function(n,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(n,t);break}},integer:function(n,t){/^-?\d+$/.test(t)&&this.set(n,parseInt(t,10))},percent:function(n,t){var i;return(i=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100)?(this.set(n,t),!0):!1}};var y={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},p={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},w={v:"title",lang:"lang"},l={rt:"ruby"};h=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];f.prototype.applyStyles=function(n,t){t=t||this.div;for(var i in n)n.hasOwnProperty(i)&&(t.style[i]=n[i])};f.prototype.formatStyle=function(n,t){return n===0?0:n+t};e.prototype=o(f.prototype);e.prototype.constructor=e;t.prototype.move=function(n,t){t=t!==undefined?t:this.lineHeight;switch(n){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t}};t.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};t.prototype.overlapsAny=function(n){for(var t=0;t<n.length;t++)if(this.overlaps(n[t]))return!0;return!1};t.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};t.prototype.overlapsOppositeAxis=function(n,t){switch(t){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};t.prototype.intersectPercentage=function(n){var t=Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left)),i=Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top)),r=t*i;return r/(this.height*this.width)};t.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};t.getSimpleBoxPosition=function(n){var t=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,r=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,i=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;return n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n,{left:n.left,right:n.right,top:n.top||i,height:n.height||t,bottom:n.bottom||i+(n.height||t),width:n.width||r}};r.StringDecoder=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};r.convertCueToDOMTree=function(n,t){return!n||!t?null:a(n,t)};var g=.05,nt="sans-serif",tt="1.5%";r.processCues=function(n,i,r){function h(n){for(var t=0;t<n.length;t++)if(n[t].hasBeenReset||!n[t].displayState)return!0;return!1}var u,f;if(!n||!i||!r)return null;while(r.firstChild)r.removeChild(r.firstChild);if(u=n.document.createElement("div"),u.style.position="absolute",u.style.left="0",u.style.right="0",u.style.top="0",u.style.bottom="0",u.style.margin=tt,r.appendChild(u),!h(i)){for(f=0;f<i.length;f++)u.appendChild(i[f].displayState);return}var o=[],s=t.getSimpleBoxPosition(u),c=Math.round(s.height*g*100)/100,l={font:c+"px "+nt};(function(){for(var r,f,h=0;h<i.length;h++)f=i[h],r=new e(n,f,l),u.appendChild(r.div),d(n,r,s,o),f.displayState=r.div,o.push(t.getSimpleBoxPosition(r))})()};r.Parser=function(n,t,i){i||(i=t,t={});t||(t={});this.window=n;this.vttjs=t;this.state="INITIAL";this.buffer="";this.decoder=i||new TextDecoder("utf8");this.regionList=[]};r.Parser.prototype={reportOrThrowError:function(n){if(n instanceof i)this.onparsingerror&&this.onparsingerror(n);else throw n;},parse:function(n){function o(){for(var i=t.buffer,n=0,r;n<i.length&&i[n]!=="\r"&&i[n]!=="\n";)++n;return r=i.substr(0,n),i[n]==="\r"&&++n,i[n]==="\n"&&++n,t.buffer=i.substr(n),r}function l(n){var i=new u,r;s(n,function(n,t){var f,r;switch(n){case"id":i.set(n,t);break;case"width":i.percent(n,t);break;case"lines":i.integer(n,t);break;case"regionanchor":case"viewportanchor":if(f=t.split(","),f.length!==2)break;if(r=new u,r.percent("x",f[0]),r.percent("y",f[1]),!r.has("x")||!r.has("y"))break;i.set(n+"X",r.get("x"));i.set(n+"Y",r.get("y"));break;case"scroll":i.alt(n,t,["up"])}},/=/,/\s/);i.has("id")&&(r=new(t.vttjs.VTTRegion||t.window.VTTRegion),r.width=i.get("width",100),r.lines=i.get("lines",3),r.regionAnchorX=i.get("regionanchorX",0),r.regionAnchorY=i.get("regionanchorY",100),r.viewportAnchorX=i.get("viewportanchorX",0),r.viewportAnchorY=i.get("viewportanchorY",100),r.scroll=i.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:i.get("id"),region:r}))}function a(n){s(n,function(n,t){switch(n){case"Region":l(t)}},/:/)}var t=this,r,e,f,c;n&&(t.buffer+=t.decoder.decode(n,{stream:!0}));try{if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;if(r=o(),e=r.match(/^WEBVTT([ \t].*)?$/),!e||!e[0])throw new i(i.Errors.BadSignature);t.state="HEADER"}for(f=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;f?f=!1:r=o();switch(t.state){case"HEADER":/:/.test(r)?a(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",r.indexOf("-->")===-1){t.cue.id=r;continue}case"CUE":try{v(r,t.cue,t.regionList)}catch(h){t.reportOrThrowError(h);t.cue=null;t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":if(c=r.indexOf("-->")!==-1,!r||c&&(f=!0)){t.oncue&&t.oncue(t.cue);t.cue=null;t.state="ID";continue}t.cue.text&&(t.cue.text+="\n");t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID");continue}}}catch(h){if(t.reportOrThrowError(h),t.state==="CUETEXT"&&t.cue&&t.oncue)t.oncue(t.cue);t.cue=null;t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+="\n\n",n.parse()),n.state==="INITIAL")throw new i(i.Errors.BadSignature);}catch(t){n.reportOrThrowError(t)}return n.onflush&&n.onflush(),this}};n.WebVTT=r}(this,this.vttjs||{}),vjs.JSON={},vjs.JSON.safeParseTuple=function(n,t){var i,r=null;try{i=JSON.parse(n,t)}catch(u){r=u;vjs.log("JSON.parse(): invalid or malformed JSON data")}return[r,i]},vjs.autoSetup=function(){var e,t,o,n,i,u=document.getElementsByTagName("video"),f=document.getElementsByTagName("audio"),r=[];if(u&&u.length>0)for(n=0,i=u.length;n<i;n++)r.push(u[n]);if(f&&f.length>0)for(n=0,i=f.length;n<i;n++)r.push(f[n]);if(r&&r.length>0)for(n=0,i=r.length;n<i;n++)if(t=r[n],t&&t.getAttribute)t.player===undefined&&(e=t.getAttribute("data-setup"),e!==null&&(o=videojs(t)));else{vjs.autoSetupTimeout(1);break}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(n){setTimeout(vjs.autoSetup,n)},document.readyState==="complete")vjs.windowLoaded=!0;else vjs.one(window,"load",function(){vjs.windowLoaded=!0});vjs.autoSetupTimeout(1);vjs.plugin=function(n,t){vjs.Player.prototype[n]=t};vjs.getIsoLangs=function(){return{ab:{name:"Abkhaz",nativeName:""},aa:{name:"Afar",nativeName:"Afaraf"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},sq:{name:"Albanian",nativeName:"Shqip"},am:{name:"Amharic",nativeName:""},ar:{name:"Arabic",nativeName:""},an:{name:"Aragonese",nativeName:"Aragons"},hy:{name:"Armenian",nativeName:""},as:{name:"Assamese",nativeName:""},av:{name:"Avaric",nativeName:" ,  "},ae:{name:"Avestan",nativeName:"avesta"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azrbaycan dili"},bm:{name:"Bambara",nativeName:"bamanankan"},ba:{name:"Bashkir",nativeName:" "},eu:{name:"Basque",nativeName:"euskara, euskera"},be:{name:"Belarusian",nativeName:""},bn:{name:"Bengali",nativeName:""},bh:{name:"Bihari",nativeName:""},bi:{name:"Bislama",nativeName:"Bislama"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},br:{name:"Breton",nativeName:"brezhoneg"},bg:{name:"Bulgarian",nativeName:" "},my:{name:"Burmese",nativeName:""},ca:{name:"Catalan; Valencian",nativeName:"Catal"},ch:{name:"Chamorro",nativeName:"Chamoru"},ce:{name:"Chechen",nativeName:" "},ny:{name:"Chichewa; Chewa; Nyanja",nativeName:"chiChea, chinyanja"},zh:{name:"Chinese",nativeName:" (Zhngwn), , "},cv:{name:"Chuvash",nativeName:" "},kw:{name:"Cornish",nativeName:"Kernewek"},co:{name:"Corsican",nativeName:"corsu, lingua corsa"},cr:{name:"Cree",nativeName:""},hr:{name:"Croatian",nativeName:"hrvatski"},cs:{name:"Czech",nativeName:"etina"},da:{name:"Danish",nativeName:"dansk"},dv:{name:"Divehi; Dhivehi; Maldivian;",nativeName:""},nl:{name:"Dutch",nativeName:"Nederlands"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},et:{name:"Estonian",nativeName:"eesti"},ee:{name:"Ewe",nativeName:"Eegbe"},fo:{name:"Faroese",nativeName:"froyskt"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fi:{name:"Finnish",nativeName:"suomi"},fr:{name:"French",nativeName:"franais"},ff:{name:"Fula; Fulah; Pulaar; Pular",nativeName:"Fulfulde, Pulaar, Pular"},gl:{name:"Galician",nativeName:"Galego"},ka:{name:"Georgian",nativeName:""},de:{name:"German",nativeName:"Deutsch"},el:{name:"Greek, Modern",nativeName:""},gn:{name:"Guaran",nativeName:"Avae"},gu:{name:"Gujarati",nativeName:""},ht:{name:"Haitian; Haitian Creole",nativeName:"Kreyl ayisyen"},ha:{name:"Hausa",nativeName:"Hausa, "},he:{name:"Hebrew (modern)",nativeName:""},hz:{name:"Herero",nativeName:"Otjiherero"},hi:{name:"Hindi",nativeName:", "},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hu:{name:"Hungarian",nativeName:"Magyar"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ga:{name:"Irish",nativeName:"Gaeilge"},ig:{name:"Igbo",nativeName:"Ass Igbo"},ik:{name:"Inupiaq",nativeName:"Iupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"slenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:""},ja:{name:"Japanese",nativeName:""},jv:{name:"Javanese",nativeName:"basa Jawa"},kl:{name:"Kalaallisut, Greenlandic",nativeName:"kalaallisut, kalaallit oqaasii"},kn:{name:"Kannada",nativeName:""},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:", "},kk:{name:"Kazakh",nativeName:" "},km:{name:"Khmer",nativeName:""},ki:{name:"Kikuyu, Gikuyu",nativeName:"Gky"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},ky:{name:"Kirghiz, Kyrgyz",nativeName:" "},kv:{name:"Komi",nativeName:" "},kg:{name:"Kongo",nativeName:"KiKongo"},ko:{name:"Korean",nativeName:" (),  ()"},ku:{name:"Kurdish",nativeName:""},kj:{name:"Kwanyama, Kuanyama",nativeName:"Kuanyama"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish, Letzeburgesch",nativeName:"Ltzebuergesch"},lg:{name:"Luganda",nativeName:"Luganda"},li:{name:"Limburgish, Limburgan, Limburger",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingla"},lo:{name:"Lao",nativeName:""},lt:{name:"Lithuanian",nativeName:"lietuvi kalba"},lu:{name:"Luba-Katanga",nativeName:""},lv:{name:"Latvian",nativeName:"latvieu valoda"},gv:{name:"Manx",nativeName:"Gaelg, Gailck"},mk:{name:"Macedonian",nativeName:" "},mg:{name:"Malagasy",nativeName:"Malagasy fiteny"},ms:{name:"Malay",nativeName:"bahasa Melayu,  "},ml:{name:"Malayalam",nativeName:""},mt:{name:"Maltese",nativeName:"Malti"},mi:{name:"Mori",nativeName:"te reo Mori"},mr:{name:"Marathi (Marh)",nativeName:""},mh:{name:"Marshallese",nativeName:"Kajin Maje"},mn:{name:"Mongolian",nativeName:""},na:{name:"Nauru",nativeName:"Ekakair Naoero"},nv:{name:"Navajo, Navaho",nativeName:"Din bizaad, Dinkeh"},nb:{name:"Norwegian Bokml",nativeName:"Norsk bokml"},nd:{name:"North Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:""},ng:{name:"Ndonga",nativeName:"Owambo"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},ii:{name:"Nuosu",nativeName:" Nuosuhxop"},nr:{name:"South Ndebele",nativeName:"isiNdebele"},oc:{name:"Occitan",nativeName:"Occitan"},oj:{name:"Ojibwe, Ojibwa",nativeName:""},cu:{name:"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic",nativeName:" "},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:""},os:{name:"Ossetian, Ossetic",nativeName:" "},pa:{name:"Panjabi, Punjabi",nativeName:", "},pi:{name:"Pli",nativeName:""},fa:{name:"Persian",nativeName:""},pl:{name:"Polish",nativeName:"polski"},ps:{name:"Pashto, Pushto",nativeName:""},pt:{name:"Portuguese",nativeName:"Portugus"},qu:{name:"Quechua",nativeName:"Runa Simi, Kichwa"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"kiRundi"},ro:{name:"Romanian, Moldavian, Moldovan",nativeName:"romn"},ru:{name:"Russian",nativeName:""},sa:{name:"Sanskrit (Saskta)",nativeName:""},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:",  "},se:{name:"Northern Sami",nativeName:"Davvismegiella"},sm:{name:"Samoan",nativeName:"gagana faa Samoa"},sg:{name:"Sango",nativeName:"yng t sng"},sr:{name:"Serbian",nativeName:" "},gd:{name:"Scottish Gaelic; Gaelic",nativeName:"Gidhlig"},sn:{name:"Shona",nativeName:"chiShona"},si:{name:"Sinhala, Sinhalese",nativeName:""},sk:{name:"Slovak",nativeName:"slovenina"},sl:{name:"Slovene",nativeName:"slovenina"},so:{name:"Somali",nativeName:"Soomaaliga, af Soomaali"},st:{name:"Southern Sotho",nativeName:"Sesotho"},es:{name:"Spanish",nativeName:"espaol"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sw:{name:"Swahili",nativeName:"Kiswahili"},ss:{name:"Swati",nativeName:"SiSwati"},sv:{name:"Swedish",nativeName:"svenska"},ta:{name:"Tamil",nativeName:""},te:{name:"Telugu",nativeName:""},tg:{name:"Tajik",nativeName:""},th:{name:"Thai",nativeName:""},ti:{name:"Tigrinya",nativeName:""},bo:{name:"Tibetan Standard, Tibetan, Central",nativeName:""},tk:{name:"Turkmen",nativeName:"Trkmen"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga (Tonga Islands)",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Trke"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:""},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uighur, Uyghur",nativeName:""},uk:{name:"Ukrainian",nativeName:""},ur:{name:"Urdu",nativeName:""},uz:{name:"Uzbek",nativeName:"zbek, , "},ve:{name:"Venda",nativeName:"Tshivena"},vi:{name:"Vietnamese",nativeName:"Ting Vit"},vo:{name:"Volapk",nativeName:"Volapk"},wa:{name:"Walloon",nativeName:"Walon"},cy:{name:"Welsh",nativeName:"Cymraeg"},wo:{name:"Wolof",nativeName:"Wollof"},fy:{name:"Western Frisian",nativeName:"Frysk"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:""},yo:{name:"Yoruba",nativeName:"Yorb"},za:{name:"Zhuang, Chuang",nativeName:"Sa cue, Saw cuengh"},mis:{name:"uncoded languages",nativeName:"uncoded languages"},mul:{name:"multiple languages",nativeName:"multiple languages"},und:{name:"undetermined",nativeName:"undetermined"},zxx:{name:"no linguistic content/not applicable",nativeName:"no linguistic content/not applicable"}}};vjs.get2LetterLangCode=function(n){return{aar:"aa",abk:"ab",ave:"ae",afr:"af",aka:"ak",amh:"am",ara:"ar",asm:"as",ava:"av",aym:"ay",aze:"az",bak:"ba",bel:"be",bul:"bg",bih:"bh",bis:"bi",bam:"bm",ben:"bn",bod:"bo",tib:"bo",bre:"br",bos:"bs",cat:"ca",che:"ce",cha:"ch",cos:"co",cre:"cr",ces:"cs",cze:"cs",chu:"cu",chv:"cv",cym:"cy",wel:"cy",dan:"da",deu:"de",ger:"de",div:"dv",dzo:"dz",ewe:"ee",ell:"el",gre:"el",eng:"en",epo:"eo",spa:"es",est:"et",baq:"eu",eus:"eu",fas:"fa",per:"fa",ful:"ff",fin:"fi",fij:"fj",fao:"fo",fre:"fr",fra:"fr",fry:"fy",gle:"ga",gla:"gd",glg:"gl",grn:"gn",glv:"gv",guj:"gu",hau:"ha",heb:"he",hin:"hi",hmo:"ho",hrv:"hr",hat:"ht",hun:"hu",arm:"hy",hye:"hy",her:"hz",ina:"ia",ind:"id",ile:"ie",ibo:"ig",iii:"ii",ipk:"ik",ido:"io",ice:"is",isl:"is",ita:"it",iku:"iu",jpn:"ja",jav:"jv",geo:"ka",kat:"ka",kon:"kg",kik:"ki",kua:"kj",kaz:"kk",kal:"kl",khm:"km",kan:"kn",kor:"ko",kau:"kr",kas:"ks",kur:"ku",kom:"kv",cor:"kw",kir:"ky",lat:"la",ltz:"lb",lug:"lg",lim:"li",lin:"ln",lao:"lo",lit:"lt",lub:"lu",lav:"lv",mlg:"mg",mah:"mh",mao:"mi",mri:"mi",mac:"mk",mkd:"mk",mal:"ml",mon:"mn",mar:"mr",may:"ms",msa:"ms",mlt:"mt",bur:"my",mya:"my",nau:"na",nob:"nb",nde:"nd",nep:"ne",ndo:"ng",dut:"nl",nld:"nl",nno:"nn",nor:"no",nbl:"nr",nav:"nv",nya:"ny",oci:"oc",oji:"oj",orm:"om",ori:"or",oss:"os",pan:"pa",pli:"pi",pol:"pl",pus:"ps",por:"pt",que:"qu",roh:"rm",run:"rn",ron:"ro",rum:"ro",rus:"ru",kin:"rw",san:"sa",srd:"sc",snd:"sd",sme:"se",sag:"sg",sin:"si",slk:"sk",slo:"sk",slv:"sl",smo:"sm",sna:"sn",som:"so",alb:"sq",sqi:"sq",srp:"sr",ssw:"ss",sot:"st",sun:"su",swe:"sv",swa:"sw",tam:"ta",tel:"te",tgk:"tg",tha:"th",tir:"ti",tuk:"tk",tgl:"tl",tsn:"tn",ton:"to",tur:"tr",tso:"ts",tat:"tt",twi:"tw",tah:"ty",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",chi:"zh",zho:"zh",zul:"zu"}[n]};Dash=function(){"use strict";return{modules:{},dependencies:{},vo:{},di:{}}}();Dash.dependencies.DashParser=function(){"use strict";var f=31536e3,e=2592e3,o=86400,s=3600,n=60,h=60,t=1e3,i=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})([0-9]{2}))?/,u=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,c=[{type:"duration",test:function(n){return i.test(n)},converter:function(t){var r=i.exec(t),u=parseFloat(r[2]||0)*f+parseFloat(r[4]||0)*e+parseFloat(r[6]||0)*o+parseFloat(r[8]||0)*s+parseFloat(r[10]||0)*n+parseFloat(r[12]||0);return parseFloat(u.toFixed(9))},suffix:function(){return""}},{type:"datetime",test:function(n){return r.test(n)},converter:function(i){var u=r.exec(i),f,e;return f=Date.UTC(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10),parseInt(u[4],10),parseInt(u[5],10),u[6]&&parseInt(u[6],10)||0,u[7]&&parseFloat(u[7])*t||0),u[9]&&u[10]&&(e=parseInt(u[9],10)*h+parseInt(u[10],10),f+=(u[8]==="+"?-1:1)*e*n*t),new Date(f)},suffix:function(){return""}},{type:"numeric",test:function(n){return u.test(n)},converter:function(n){return parseFloat(n)},suffix:function(){return""}},{type:"numeric",test:function(n){return u.test(n)},converter:function(n){return n},suffix:function(){return"_str"}}],l=function(){var n,t,i,r;return r=[{name:"profiles",merge:!1},{name:"width",merge:!1},{name:"height",merge:!1},{name:"sar",merge:!1},{name:"frameRate",merge:!1},{name:"audioSamplingRate",merge:!1},{name:"mimeType",merge:!1},{name:"segmentProfiles",merge:!1},{name:"codecs",merge:!1},{name:"maximumSAPPeriod",merge:!1},{name:"startsWithSap",merge:!1},{name:"maxPlayoutRate",merge:!1},{name:"codingDependency",merge:!1},{name:"scanType",merge:!1},{name:"FramePacking",merge:!0},{name:"AudioChannelConfiguration",merge:!0},{name:"ContentProtection",merge:!0}],n={},n.name="AdaptationSet",n.isRoot=!1,n.isArray=!0,n.parent=null,n.children=[],n.properties=r,t={},t.name="Representation",t.isRoot=!1,t.isArray=!0,t.parent=n,t.children=[],t.properties=r,n.children.push(t),i={},i.name="SubRepresentation",i.isRoot=!1,i.isArray=!0,i.parent=t,i.children=[],i.properties=r,t.children.push(i),n},a=function(){var n,t,i,r;return r=[{name:"SegmentBase",merge:!0},{name:"SegmentTemplate",merge:!0},{name:"SegmentList",merge:!0}],n={},n.name="Period",n.isRoot=!1,n.isArray=!0,n.parent=null,n.children=[],n.properties=r,t={},t.name="AdaptationSet",t.isRoot=!1,t.isArray=!0,t.parent=n,t.children=[],t.properties=r,n.children.push(t),i={},i.name="Representation",i.isRoot=!1,i.isArray=!0,i.parent=t,i.children=[],i.properties=r,t.children.push(i),n},v=function(){var i,n,t,r,u;return u=[{name:"BaseURL",merge:!0,mergeFunction:function(n,t){return t.indexOf("http://")===0?t:n+t}}],i={},i.name="mpd",i.isRoot=!0,i.isArray=!0,i.parent=null,i.children=[],i.properties=u,n={},n.name="Period",n.isRoot=!1,n.isArray=!0,n.parent=null,n.children=[],n.properties=u,i.children.push(n),t={},t.name="AdaptationSet",t.isRoot=!1,t.isArray=!0,t.parent=n,t.children=[],t.properties=u,n.children.push(t),r={},r.name="Representation",r.isRoot=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=u,t.children.push(r),i},y=function(){var n=[];return n.push(l()),n.push(a()),n.push(v()),n},p=function(n,t){var i,e=new X2JS(c,"",!0),o=new ObjectIron(y()),f=new Date,r=null,u=null;try{i=e.xml_str2json(n);r=new Date;i.hasOwnProperty("BaseURL")?(i.BaseURL=i.BaseURL_asArray[0],i.BaseURL.toString().indexOf("http")!==0&&(i.BaseURL=t+i.BaseURL)):i.BaseURL=t;o.run(i);u=new Date;this.debug.log("Parsing complete: ( xml2json: "+(r.getTime()-f.getTime())+"ms, objectiron: "+(u.getTime()-r.getTime())+"ms, total: "+(u.getTime()-f.getTime())/1e3+"s)")}catch(s){return this.errHandler.manifestError("parsing the manifest failed","parse",n),null}return i};return{debug:undefined,errHandler:undefined,parse:p}};Dash.dependencies.DashParser.prototype={constructor:Dash.dependencies.DashParser},function(){function n(n){function i(n){var r,u;if(this.data="",this.read=0,typeof n=="string")this.data=n;else if(t.isArrayBuffer(n)||t.isArrayBufferView(n)){r=new Uint8Array(n);try{this.data=String.fromCharCode.apply(null,r)}catch(f){for(u=0;u<r.length;++u)this.putByte(r[u])}}else(n instanceof i||typeof n=="object"&&typeof n.data=="string"&&typeof n.read=="number")&&(this.data=n.data,this.read=n.read);this._constructedStringLength=0}var t=n.util=n.util||{},r;t.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};t.isArrayBuffer=function(n){return typeof ArrayBuffer!="undefined"&&n instanceof ArrayBuffer};t.isArrayBufferView=function(n){return n&&t.isArrayBuffer(n.buffer)&&n.byteLength!==undefined};t.ByteBuffer=i;t.ByteStringBuffer=i;r=4096;t.ByteStringBuffer.prototype._optimizeConstructedString=function(n){this._constructedStringLength+=n;this._constructedStringLength>r&&(this.data.substr(0,1),this._constructedStringLength=0)};t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};t.ByteStringBuffer.prototype.putByte=function(n){return this.putBytes(String.fromCharCode(n))};t.ByteStringBuffer.prototype.fillWithByte=function(n,t){n=String.fromCharCode(n);for(var i=this.data;t>0;)t&1&&(i+=n),t>>>=1,t>0&&(n+=n);return this.data=i,this._optimizeConstructedString(t),this};t.ByteStringBuffer.prototype.putBytes=function(n){return this.data+=n,this._optimizeConstructedString(n.length),this};t.ByteStringBuffer.prototype.putString=function(n){return this.putBytes(t.encodeUtf8(n))};t.ByteStringBuffer.prototype.putInt16=function(n){return this.putBytes(String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt24=function(n){return this.putBytes(String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt32=function(n){return this.putBytes(String.fromCharCode(n>>24&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt16Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255))};t.ByteStringBuffer.prototype.putInt24Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255))};t.ByteStringBuffer.prototype.putInt32Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>24&255))};t.ByteStringBuffer.prototype.putInt=function(n,t){var i="";do t-=8,i+=String.fromCharCode(n>>t&255);while(t>0);return this.putBytes(i)};t.ByteStringBuffer.prototype.putSignedInt=function(n,t){return n<0&&(n+=2<<t-1),this.putInt(n,t)};t.ByteStringBuffer.prototype.putBuffer=function(n){return this.putBytes(n.getBytes())};t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};t.ByteStringBuffer.prototype.getInt16=function(){var n=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24=function(){var n=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32=function(){var n=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,n};t.ByteStringBuffer.prototype.getInt16Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,n};t.ByteStringBuffer.prototype.getInt=function(n){var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),n-=8;while(n>0);return t};t.ByteStringBuffer.prototype.getSignedInt=function(n){var t=this.getInt(n),i=2<<n-2;return t>=i&&(t-=i<<1),t};t.ByteStringBuffer.prototype.getBytes=function(n){var t;return n?(n=Math.min(this.length(),n),t=this.data.slice(this.read,this.read+n),this.read+=n):n===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};t.ByteStringBuffer.prototype.bytes=function(n){return typeof n=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+n)};t.ByteStringBuffer.prototype.at=function(n){return this.data.charCodeAt(this.read+n)};t.ByteStringBuffer.prototype.setAt=function(n,t){return this.data=this.data.substr(0,this.read+n)+String.fromCharCode(t)+this.data.substr(this.read+n+1),this};t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};t.ByteStringBuffer.prototype.copy=function(){var n=t.createBuffer(this.data);return n.read=this.read,n};t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};t.ByteStringBuffer.prototype.truncate=function(n){var t=Math.max(0,this.length()-n);return this.data=this.data.substr(this.read,t),this.read=0,this};t.ByteStringBuffer.prototype.toHex=function(){for(var i,n="",t=this.read;t<this.data.length;++t)i=this.data.charCodeAt(t),i<16&&(n+="0"),n+=i.toString(16);return n};t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())};t.createBuffer=function(n,i){return i=i||"raw",n!==undefined&&i==="utf8"&&(n=t.encodeUtf8(n)),new t.ByteBuffer(n)};t.encodeUtf8=function(n){return unescape(encodeURIComponent(n))};t.decodeUtf8=function(n){return decodeURIComponent(escape(n))}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){n.cipher=n.cipher||{};n.cipher.algorithms=n.cipher.algorithms||{};n.cipher.createDecipher=function(t,i){var r=t;if(typeof r=="string"&&(r=n.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:i,decrypt:!0})};n.cipher.registerAlgorithm=function(t,i){t=t.toUpperCase();n.cipher.algorithms[t]=i};n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase(),t in n.cipher.algorithms)?n.cipher.algorithms[t]:null};var t=n.cipher.BlockCipher=function(n){this.algorithm=n.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this._input=null;this.output=null;this._op=n.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=n.decrypt;this.algorithm.initialize(n)};t.prototype.start=function(t){var i,r;t=t||{};i={};for(r in t)i[r]=t[r];i.decrypt=this._decrypt;this._finish=!1;this._input=n.util.createBuffer();this.output=t.output||n.util.createBuffer();this.mode.start(i)};t.prototype.update=function(n){for(n&&this._input.putBuffer(n);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};t.prototype.finish=function(n){n&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(t){return n(this.blockSize,t,!1)},this.mode.unpad=function(t){return n(this.blockSize,t,!0)});var t={};return(t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))?!1:(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))?!1:this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)?!1:!0}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function i(t){var r,i;if(typeof t=="string"&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4)for(r=t,t=n.util.createBuffer(),i=0;i<r.length;++i)t.putByte(r[i]);return n.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}n.cipher=n.cipher||{};var t=n.cipher.modes=n.cipher.modes||{};t.cbc=function(n){n=n||{};this.name="CBC";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};t.cbc.prototype.start=function(n){if(n.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in n)this._iv=i(n.iv),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.");};t.cbc.prototype.encrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^n.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock};t.cbc.prototype.decrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=n.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)};t.cbc.prototype.pad=function(n){var t=n.length()===this.blockSize?this.blockSize:this.blockSize-n.length();return n.fillWithByte(t,t),!0};t.cbc.prototype.unpad=function(n,t){if(t.overflow>0)return!1;var r=n.length(),i=n.at(r-1);return i>this.blockSize<<2?!1:(n.truncate(i),!0)}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function l(t,i){var r=function(){return new n.aes.Algorithm(t,i)};n.cipher.registerAlgorithm(t,r)}function h(){var u,o,c,l,w,a,h,b,v,y,n,p;for(f=!0,s=[0,1,2,4,8,16,32,64,128,27,54],u=new Array(256),n=0;n<128;++n)u[n]=n<<1,u[n+128]=n+128<<1^283;for(t=new Array(256),e=new Array(256),r=new Array(4),i=new Array(4),n=0;n<4;++n)r[n]=new Array(256),i[n]=new Array(256);for(o=0,c=0,n=0;n<256;++n){for(h=c^c<<1^c<<2^c<<3^c<<4,h=h>>8^h&255^99,t[o]=h,e[h]=o,b=u[h],l=u[o],w=u[l],a=u[w],v=b<<24^h<<16^h<<8^h^b,y=(l^w^a)<<24^(o^a)<<16^(o^w^a)<<8^o^l^a,p=0;p<4;++p)r[p][o]=v,i[p][h]=y,v=v<<24|v>>>8,y=y<<24|y>>>8;o===0?o=c=1:(o=l^u[u[u[l^a]]],c^=u[u[c]])}}function c(n,r){for(var h,y,e=n.slice(0),o,p=1,c=e.length,w=c+6+1,a=u*w,f=c;f<a;++f)o=e[f-1],f%c==0?(o=t[o>>>16&255]<<24^t[o>>>8&255]<<16^t[o&255]<<8^t[o>>>24]^s[p]<<24,p++):c>6&&f%c==4&&(o=t[o>>>24]<<24^t[o>>>16&255]<<16^t[o>>>8&255]<<8^t[o&255]),e[f]=e[f-c]^o;if(r){var v,b=i[0],k=i[1],d=i[2],g=i[3],l=e.slice(0);for(a=e.length,f=0,h=a-u;f<a;f+=u,h-=u)if(f===0||f===a-u)l[f]=e[h],l[f+1]=e[h+3],l[f+2]=e[h+2],l[f+3]=e[h+1];else for(y=0;y<u;++y)v=e[h+y],l[f+(3&-y)]=b[t[v>>>24]]^k[t[v>>>16&255]]^d[t[v>>>8&255]]^g[t[v&255]];e=l}return e}function o(n,u,f,o){var tt=n.length/4-1,y,p,w,b,s,h,c,l,a,d,g,nt,v,k;for(o?(y=i[0],p=i[1],w=i[2],b=i[3],s=e):(y=r[0],p=r[1],w=r[2],b=r[3],s=t),h=u[0]^n[0],c=u[o?3:1]^n[1],l=u[2]^n[2],a=u[o?1:3]^n[3],v=3,k=1;k<tt;++k)d=y[h>>>24]^p[c>>>16&255]^w[l>>>8&255]^b[a&255]^n[++v],g=y[c>>>24]^p[l>>>16&255]^w[a>>>8&255]^b[h&255]^n[++v],nt=y[l>>>24]^p[a>>>16&255]^w[h>>>8&255]^b[c&255]^n[++v],a=y[a>>>24]^p[h>>>16&255]^w[c>>>8&255]^b[l&255]^n[++v],h=d,c=g,l=nt;f[0]=s[h>>>24]<<24^s[c>>>16&255]<<16^s[l>>>8&255]<<8^s[a&255]^n[++v];f[o?3:1]=s[c>>>24]<<24^s[l>>>16&255]<<16^s[a>>>8&255]<<8^s[h&255]^n[++v];f[2]=s[l>>>24]<<24^s[a>>>16&255]<<16^s[h>>>8&255]<<8^s[c&255]^n[++v];f[o?1:3]=s[a>>>24]<<24^s[h>>>16&255]<<16^s[c>>>8&255]<<8^s[l&255]^n[++v]}n.aes=n.aes||{};n.aes.Algorithm=function(n,t){f||h();var i=this;i.name=n;i.mode=new t({blockSize:16,cipher:{encrypt:function(n,t){return o(i._w,n,t,!1)},decrypt:function(n,t){return o(i._w,n,t,!0)}}});i._init=!1};n.aes.Algorithm.prototype.initialize=function(t){var i,f,u,r,e,o;if(!this._init){if(i=t.key,typeof i=="string"&&(i.length===16||i.length===24||i.length===32))i=n.util.createBuffer(i);else if(n.util.isArray(i)&&(i.length===16||i.length===24||i.length===32))for(f=i,i=n.util.createBuffer(),r=0;r<f.length;++r)i.putByte(f[r]);if(!n.util.isArray(i)&&(f=i,i=[],u=f.length(),u===16||u===24||u===32))for(u=u>>>2,r=0;r<u;++r)i.push(f.getInt32());if(!n.util.isArray(i)||!(i.length===4||i.length===6||i.length===8))throw new Error("Invalid key parameter.");e=this.mode.name;o=["CFB","OFB","CTR","GCM"].indexOf(e)!==-1;this._w=c(i,t.decrypt&&!o);this._init=!0}};n.aes._expandKey=function(n,t){return f||h(),c(n,t)};n.aes._updateBlock=o;l("AES-CBC",n.cipher.modes.cbc);var f=!1,u=4,t,e,s,r,i}return typeof forge=="undefined"&&(forge={}),n(forge)}();!function(){var n,t,r,i;!function(){var u={},f={};n=function(n,t,i){u[n]={deps:t,callback:i}};i=r=t=function(n){function l(t){var i;if("."!==t.charAt(0))return t;for(var f=t.split("/"),r=n.split("/").slice(0,-1),u=0,e=f.length;e>u;u++)if(i=f[u],".."===i)r.pop();else{if("."===i)continue;r.push(i)}return r.join("/")}var c;if(i._eak_seen=u,f[n])return f[n];if(f[n]={},!u[n])throw new Error("Could not find module "+n);for(var s,h=u[n],e=h.deps,a=h.callback,o=[],r=0,v=e.length;v>r;r++)"exports"===e[r]?o.push(s={}):o.push(t(l(e[r])));return c=a.apply(this,o),f[n]=s||c}}();n("promise/all",["./utils","exports"],function(n,t){"use strict";function i(n){var t=this;if(!r(n))throw new TypeError("You must pass an array to all.");return new t(function(t,i){function h(n){return function(t){e(n,t)}}function e(n,i){o[n]=i;0==--s&&t(o)}var f,o=[],s=n.length,r;for(0===s&&t([]),r=0;r<n.length;r++)f=n[r],f&&u(f.then)?f.then(h(r),i):e(r,f)})}var r=n.isArray,u=n.isFunction;t.all=i});n("promise/asap",["exports"],function(n){"use strict";function e(){return function(){process.nextTick(i)}}function o(){var n=0,r=new f(i),t=document.createTextNode("");return r.observe(t,{characterData:!0}),function(){t.data=n=++n%2}}function s(){return function(){c.setTimeout(i,1)}}function i(){for(var n=0;n<t.length;n++){var i=t[n],r=i[0],u=i[1];r(u)}t=[]}function h(n,i){var u=t.push([n,i]);1===u&&r()}var r,u="undefined"!=typeof window?window:{},f=u.MutationObserver||u.WebKitMutationObserver,c="undefined"!=typeof global?global:void 0===this?window:this,t=[];r="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():f?o():s();n.asap=h});n("promise/config",["exports"],function(n){"use strict";function i(n,i){return 2!==arguments.length?t[n]:(t[n]=i,void 0)}var t={instrument:!1};n.config=t;n.configure=i});n("promise/polyfill",["./promise","./utils","exports"],function(n,t,i){"use strict";function r(){var n,t;n="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;t="Promise"in n&&"resolve"in n.Promise&&"reject"in n.Promise&&"all"in n.Promise&&"race"in n.Promise&&function(){var t;return new n.Promise(function(n){t=n}),f(t)}();t||(n.Promise=u)}var u=n.Promise,f=t.isFunction;i.polyfill=r});n("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(n,t,i,r,u,f,e,o){"use strict";function s(n){if(!v(n))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof s))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[];nt(n,this)}function nt(n,t){function r(n){c(t,n)}function i(n){h(t,n)}try{n(r,i)}catch(u){i(u)}}function w(n,t,i,r){var u,e,f,o,s=v(i);if(s)try{u=i(r);f=!0}catch(l){o=!0;e=l}else u=r,f=!0;k(t,u)||(s&&f?c(t,u):o?h(t,e):n===y?c(t,u):n===p&&h(t,u))}function tt(n,t,i,r){var u=n._subscribers,f=u.length;u[f]=t;u[f+y]=i;u[f+p]=r}function b(n,t){for(var u,f,r=n._subscribers,e=n._detail,i=0;i<r.length;i+=3)u=r[i],f=r[i+t],w(t,u,f,e);n._subscribers=null}function k(n,t){var i,r=null;try{if(n===t)throw new TypeError("A promises callback cannot return that same promise.");if(ut(t)&&(r=t.then,v(r)))return r.call(t,function(r){return i?!0:(i=!0,t!==r?c(n,r):a(n,r),void 0)},function(t){return i?!0:(i=!0,h(n,t),void 0)}),!0}catch(u){return i?!0:(h(n,u),!0)}return!1}function c(n,t){n===t?a(n,t):k(n,t)||a(n,t)}function a(n,t){n._state===d&&(n._state=g,n._detail=t,l.async(it,n))}function h(n,t){n._state===d&&(n._state=g,n._detail=t,l.async(rt,n))}function it(n){b(n,n._state=y)}function rt(n){b(n,n._state=p)}var l=n.config,ut=(n.configure,t.objectOrFunction),v=t.isFunction,ft=(t.now,i.all),et=r.race,ot=u.resolve,st=f.reject,ht=e.asap;l.async=ht;var d=void 0,g=0,y=1,p=2;s.prototype={constructor:s,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(n,t){var i=this,r=new this.constructor(function(){}),u;return this._state?(u=arguments,l.async(function(){w(i._state,r,u[i._state-1],i._detail)})):tt(this,r,n,t),r},"catch":function(n){return this.then(null,n)}};s.all=ft;s.race=et;s.resolve=ot;s.reject=st;o.Promise=s});n("promise/race",["./utils","exports"],function(n,t){"use strict";function i(n){var t=this;if(!r(n))throw new TypeError("You must pass an array to race.");return new t(function(t,i){for(var r,u=0;u<n.length;u++)r=n[u],r&&"function"==typeof r.then?r.then(t,i):t(r)})}var r=n.isArray;t.race=i});n("promise/reject",["exports"],function(n){"use strict";function t(n){var t=this;return new t(function(t,i){i(n)})}n.reject=t});n("promise/resolve",["exports"],function(n){"use strict";function t(n){if(n&&"object"==typeof n&&n.constructor===this)return n;var t=this;return new t(function(t){t(n)})}n.resolve=t});n("promise/utils",["exports"],function(n){"use strict";function i(n){return t(n)||"object"==typeof n&&null!==n}function t(n){return"function"==typeof n}function r(n){return"[object Array]"===Object.prototype.toString.call(n)}var u=Date.now||function(){return(new Date).getTime()};n.objectOrFunction=i;n.isFunction=t;n.isArray=r;n.now=u});t("promise/polyfill").polyfill()}();Uint8ArrayUtil={},function(){Uint8ArrayUtil.subarray=function(n,t){return this.slice(n,t)};Uint8ArrayUtil.set_=function(n,t){arguments.length<2&&(t=0);for(var i=0,r=n.length;i<r;++i,++t)this[t]=n[i]&255};Uint8ArrayUtil.TypedArray=function(n){var t,i;if(typeof n=="number")for(t=new Array(n),i=0;i<n;++i)t[i]=0;else t=n.slice(0);return t.subarray=Uint8ArrayUtil.subarray,t.buffer=t,t.byteLength=t.length,t.set=Uint8ArrayUtil.set_,typeof n=="object"&&n.buffer&&(t.buffer=n.buffer),t}}();window.Uint8Array===undefined&&(window.Uint8Array=Uint8ArrayUtil.TypedArray),function(n){(function(t){"use strict";var s,h,c,u,f,e,o,i,r;(function(n){n[n.proceed=0]="proceed";n[n.endOfStream=1]="endOfStream";n[n.retry=2]="retry"})(t.RequestState||(t.RequestState={}));s=t.RequestState,function(n){n[n.arraybuffer=0]="arraybuffer";n[n.blob=1]="blob";n[n.document=2]="document";n[n.json=3]="json";n[n.text=4]="text"}(t.ResponseType||(t.ResponseType={}));h=t.ResponseType,function(n){n[n.manifest=0]="manifest";n[n.mediaSegment=1]="mediaSegment";n[n.initSegment=2]="initSegment";n[n.initBandwidth=3]="initBandwidth"}(t.RequestType||(t.RequestType={}));c=t.RequestType;u=function(){function i(i,r,u){this.azureHtml5=i;this.videoTag=r;this.appConfig=u;this.emeManager=new n.KeySystem.EmeManager(r);this.eventMgr=new n.Events.Manager(i,!1);this.workflows=null;this.presentationUrl=null;this.presentationJson=null;this.commonPresentation=null;this.isLiveToVod=!1;this.videoBufferData=new t.BufferData;this.audioBufferData=new t.BufferData;this.startPositionInSec=NaN;this.authenticationTokens={};this.heuristicSettings=new n.Settings.Heuristics;this.httpRetryPolicySettings=new n.Settings.HttpRetryPolicy;this.httpDataRetrieverSettings=new n.Settings.HttpDataRetriever;this.decryptionTracker=new n.Heuristics.DecryptionTracker;this._disposed=!1;this._xmlHttpRequestFactory=null}return i.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.videoTag=null,this.appConfig=null,this.workflows&&this.workflows.forEach(function(n){n.dispose()}),this.workflows=null,this.presentationUrl=null,this.presentationJson=null,this.authenticationTokens=null,this._xmlHttpRequestFactory=null,this.emeManager&&(this.emeManager.dispose(),this.emeManager=null),this.eventMgr&&(this.eventMgr.dispose(),this.eventMgr=null),this.commonPresentation&&(this.commonPresentation.dispose(),this.commonPresentation=null),this.heuristicSettings=null,this.decryptionTracker=null,this.videoBufferData&&(this.videoBufferData.dispose(),this.videoBufferData=null),this.audioBufferData&&(this.audioBufferData.dispose(),this.audioBufferData=null))},Object.defineProperty(i.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),i.prototype.reset=function(){this.presentationUrl=null;this.presentationJson=null;this.startPositionInSec=NaN;this.authenticationTokens={};this.commonPresentation&&(this.commonPresentation.dispose(),this.commonPresentation=null);this.emeManager&&this.emeManager.reset();this.heuristicSettings&&this.heuristicSettings.reset();this.videoBufferData&&(this.videoBufferData.dispose(),this.videoBufferData=new t.BufferData);this.audioBufferData&&(this.audioBufferData.dispose(),this.audioBufferData=new t.BufferData)},i.prototype.setUserConfig=function(n){n.maxBufferInSec!==undefined&&(this.heuristicSettings.buffer.maxBufferInSec=n.maxBufferInSec);n.prerollPercent!==undefined&&(this.heuristicSettings.buffer.prerollPercent=n.prerollPercent);n.livePlaybackOffsetPercent!==undefined&&(this.heuristicSettings.buffer.livePlaybackOffsetPercent=n.livePlaybackOffsetPercent);n.windowSizeHeuristicsEnabled!==undefined&&(this.heuristicSettings.windowSizeHeuristicsEnabled=n.windowSizeHeuristicsEnabled);n.decryptionTimeHeuristicsEnabled===undefined||n.decryptionTimeHeuristicsEnabled||(this.decryptionTracker=null);n.preFetchDataEnabled!==undefined&&(this.heuristicSettings.preFetchDataEnabled=n.preFetchDataEnabled);n.maxRetryPerSegment!==undefined&&(this.httpRetryPolicySettings.maxRetryPerSegment=n.maxRetryPerSegment);n.maxSkipSegments!==undefined&&(this.httpRetryPolicySettings.maxSkipSegments=n.maxSkipSegments);n.maxTotalRetries!==undefined&&(this.httpRetryPolicySettings.maxTotalRetries=n.maxTotalRetries)},i.prototype.maxBufferInSec=function(){return this.appConfig&&this.appConfig.maxBufferInSec&&this.appConfig.maxBufferInSec!="0"?parseInt(this.appConfig.maxBufferInSec):this.heuristicSettings.buffer.maxBufferInSec},i.prototype.prerollBufferInSec=function(){return this.maxBufferInSec()*this.heuristicSettings.buffer.prerollPercent},i.prototype.lowBufferInSec=function(){return this.maxBufferInSec()*this.heuristicSettings.vodDowngradeBufferLevelPercent*this.heuristicSettings.buffer.lowBufferPercent},i.prototype.liveStartBufferInSec=function(){return this.maxBufferInSec()*(this.heuristicSettings.buffer.prerollPercent+this.heuristicSettings.buffer.livePlaybackOffsetPercent)},i.prototype.updatePresentation=function(n){this.commonPresentation?(this.commonPresentation.isLive&&!n.isLive&&(this.isLiveToVod=!0),this.commonPresentation.transferPresentationState(n),this.presentationJson=n.toJson(),n.dispose()):(this.commonPresentation=n,this.presentationJson=n.toJson())},i.prototype.setXmlHttpRequestFactory=function(n){this._xmlHttpRequestFactory=n},i.prototype.createXmlHttpRequest=function(){return this._xmlHttpRequestFactory?this._xmlHttpRequestFactory():new n.HttpRequest.XMLHttpRequestWrapper},i}();t.Session=u;f=function(){function n(n,t){this.workflowType=n;this.sessionContext=t;this.state=0;this.retryWaitTimeMSec=0;this.currentModuleId=null;this.requestedStream=null;this.urlsToRetrieve=[];this.selectedTrack=null;this.selectedSegment=null;this.heuristicData=null;this.externalFailure=null;this.failTracker=new r;this._disposed=!1}return n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.workflowType=null,this.sessionContext=null,this.state=null,this.currentModuleId=null,this.requestedStream=null,this.urlsToRetrieve.forEach(function(n,t,i){i[t].dispose()}),this.urlsToRetrieve=[],this.selectedTrack=null,this.selectedSegment=null,this.heuristicData&&(this.heuristicData.dispose(),this.heuristicData=null),this.externalFailure&&(this.externalFailure.dispose(),this.externalFailure=null),this.failTracker&&(this.failTracker.dispose(),this.failTracker=null))},n.prototype.reset=function(){this.state=0;this.retryWaitTimeMSec=0;this.currentModuleId=null;this.selectedTrack=null;this.selectedSegment=null;1===this.workflowType&&(this.urlsToRetrieve=[]);this.heuristicData&&this.heuristicData.reset();this.externalFailure=null},Object.defineProperty(n.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),n}();t.Request=f;e=function(){function n(n,t,i,r,u,f,e){typeof t=="undefined"&&(t=0);typeof i=="undefined"&&(i=4);typeof r=="undefined"&&(r="");typeof u=="undefined"&&(u=NaN);typeof f=="undefined"&&(f=NaN);typeof e=="undefined"&&(e=NaN);this.url=n;this.httpResponseCode=-1;this.httpResposeContentType="";this.mediaData=null;this.presentationData=null;this.streamId=r;this.bitrate=u;this.presTimeInSec=f;this.durationInSec=e;this.responseType=i;this.requestType=t}return n.prototype.dispose=function(){this.url=null;this.httpResponseCode=null;this.httpResposeContentType="";this.mediaData=null;this.presentationData=null;this.streamId="";this.bitrate=NaN;this.presTimeInSec=NaN;this.durationInSec=NaN;this.responseType=null},n.prototype.clone=function(){var t=new n(this.url,this.requestType,this.responseType,this.streamId,this.bitrate,this.presTimeInSec,this.durationInSec);return t.httpResponseCode=this.httpResponseCode,t.httpResposeContentType=this.httpResposeContentType,t.mediaData=this.mediaData.slice(0),t.presentationData=this.presentationData,t},n}();t.UrlRequest=e;o=function(){function n(n){var t=[];n.tracks.forEach(function(n){n.streamingInfo.selectable&&t.push(new i(n))});this.tracksData=t}return n.prototype.dispose=function(){this.tracksData.forEach(function(n,t,i){i[t].dispose()});this.tracksData=[]},n.prototype.reset=function(){this.tracksData.forEach(function(n,t,i){i[t].reset()})},n}();t.HeuristicData=o;i=function(){function n(n){this.trackInfo=n;this.selectable=!0;this.dataRetrieverEstimationInSec=null}return n.prototype.dispose=function(){this.trackInfo=null;this.selectable=null;this.dataRetrieverEstimationInSec=null},n.prototype.reset=function(){this.selectable=!0;this.dataRetrieverEstimationInSec=null},n}();t.TrackData=i;r=function(){function n(){this.reset()}return n.prototype.dispose=function(){this.lastFailure=null;this.lastTrack=null;this.tracksToTry=[]},n.prototype.reset=function(){this.lastFailure=null;this.lastTrack=null;this.totalRetried=0;this.tracksToTry=[];this.trackToTryIdx=0;this.sameRequestRetried=0;this.segmentsSkipped=0},n.prototype.resetForSegment=function(){this.sameRequestRetried=0;this.trackToTryIdx=0},n.prototype.log=function(n,t){this.lastFailure=n;this.lastTrack=t},n.prototype.isNone=function(){return null===this.lastFailure},n.prototype.isLastNetworkFail=function(){return this.lastFailure.code>=2097752&&this.lastFailure.code<3145727},n.prototype.isLastNotReady=function(){return this.lastFailure.code===2097564},n.prototype.isLastServerError=function(){return this.lastFailure.code>=2097652&&this.lastFailure.code<=2097751},n.prototype.isLastNotFound=function(){return this.lastFailure.code===2097556},n}();t.FailTracker=r})(n.Context||(n.Context={}));var t=n.Context}(AzureHtml5JS||(AzureHtml5JS={})),function(n){"use strict";function r(n,t){return new i(n,t)}var u,t,i;n.CreateAzureHtml5=r,function(n){n[n.internalErrStart=0]="internalErrStart";n[n.internalErrDisposed=0]="internalErrDisposed";n[n.internalErrSegmentNotFound=1]="internalErrSegmentNotFound";n[n.internalErrEnd=1048575]="internalErrEnd"}(n.ErrorCode||(n.ErrorCode={}));u=n.ErrorCode;t=function(){function n(){}return n.exception="exception",n.flushvideo="flushvideo",n}();n.InternalEventName=t;i=function(){function i(t,i){this._sessionContext=new n.Context.Session(this,t,i);this._playerType=null;this._autoplay=!0;this._type="";this._error=null;this._dispose=!1;this._passThroughEventNames=[n.EventName.volumechange,n.EventName.ended,n.EventName.timeupdate,n.EventName.pause,n.EventName.play,n.EventName.playing,n.EventName.seeking,n.EventName.seeked,n.EventName.suspend,n.EventName.loadstart,n.EventName.loadeddata];this._conditionalEventNames=[n.EventName.waiting,n.EventName.canplaythrough,n.EventName.error];this._registerVideoTagEvents(!0);this._registerInternalEvents(!0)}return i.prototype.dispose=function(){this._dispose=!0;this._workflowCoordinator&&this._workflowCoordinator.dispose();this._sessionContext&&(this._registerVideoTagEvents(!1),this._registerInternalEvents(!1),this._sessionContext.dispose(),this._sessionContext=null);this._error=null},Object.defineProperty(i.prototype,"currentVideoStreamList",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.videoStreamList:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentAudioStreamList",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.audioStreamList:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"src",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.src:this._sessionContext.videoTag.src},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentTime",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.currentTime:this._sessionContext.videoTag.currentTime},set:function(t){n.Log.verbose(7,"currentTime: "+t+" sec");this._workflowCoordinator?this._workflowCoordinator.currentTime=t:this._sessionContext.videoTag.currentTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentAbsoluteTime",{get:function(){return this._sessionContext.videoTag.currentTime},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentMediaTime",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.currentMediaTime:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentDownloadBitrate",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.downloadBitrate:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentPlaybackBitrate",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.playbackBitrate:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"videoBufferData",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.videoBufferData:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"audioBufferData",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.audioBufferData:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"volume",{get:function(){return this._sessionContext.videoTag.volume},set:function(t){n.Log.verbose(7,"volume: "+t.toString);var i=t;NaN!==t&&undefined!==t&&null!==t&&(t<0?i=0:t>1&&(i=1),this._sessionContext.videoTag.volume=i)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoplay",{get:function(){return this._autoplay},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paused",{get:function(){return this._sessionContext.videoTag.paused},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"seeking",{get:function(){return this._sessionContext.videoTag.seeking},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ended",{get:function(){return this._sessionContext.videoTag.ended},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._sessionContext.videoTag.height},set:function(n){this._sessionContext.videoTag.height=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._sessionContext.videoTag.width},set:function(n){this._sessionContext.videoTag.width=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"videoHeight",{get:function(){return this._sessionContext.videoTag.videoHeight},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"videoWidth",{get:function(){return this._sessionContext.videoTag.videoWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isFullScreen",{get:function(){var n=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return n===this._sessionContext.videoTag?document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled:!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isLive",{get:function(){return!!this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"duration",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.duration:this._sessionContext.videoTag.duration},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"buffered",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.buffered:this._sessionContext.videoTag.buffered},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"manifestPlayableWindowLength",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive?this._sessionContext.commonPresentation.timeShiftBufferDepth:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentPlayableWindow",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive?new n.Common.TimeRange(this._sessionContext.commonPresentation.playableWindow.startInSec,this._sessionContext.commonPresentation.playableWindow.endInSec):undefined},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"segmentBoundaries",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation?this._sessionContext.commonPresentation.segmentBoundaries:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"error",{get:function(){return this._workflowCoordinator&&this._workflowCoordinator.error?this._workflowCoordinator.error:this._error},enumerable:!0,configurable:!0}),i.prototype.canPlayType=function(t){return n.PlayerType.getByPresentationType(t,this._sessionContext.videoTag)?"maybe":""},i.prototype.setSrc=function(t,i){var r="";if(window.location.protocol.toLowerCase()==="https:"&&t.toLowerCase().indexOf("http:")===0){r="The page was loaded over HTTPS, but the source was set to serve over HTTP. The content must be served over HTTPS. Source URL: "+t+", Page URL: "+window.location.href;n.Log.error(7,r);this._handleError(new n.Failure.External(1048578,r));return}this._sessionContext.reset();this._reset(i);this._playerType=n.PlayerType.getByPresentationType(this._type,this._sessionContext.videoTag);this._playerType||(this._playerType=n.PlayerType.getByUrl(t,this._sessionContext.videoTag));n.Log.verbose(7,"src: "+t+" autoplay: "+this._autoplay+" type: "+(this._type&&this._type.length>0?this._type:"unknown")+" player: "+(null===this._playerType?"unknown":n.PlayerDetector.Type[this._playerType]));this._workflowCoordinator&&(this._workflowCoordinator.dispose(),this._workflowCoordinator=null);this._playerType===1?(this._sessionContext.videoTag.autoplay=this._autoplay,this._sessionContext.videoTag.src=t):this._playerType===3?(this._workflowCoordinator=n.Workflow.CreateCoordinator(this._sessionContext),this._sessionContext.videoTag.autoplay=!1,this._workflowCoordinator.autoplay=this._autoplay,this._workflowCoordinator.src=t):(n.Log.error(7,t+" not supported by AzureHtml5 Video Element"),this._handleError(new n.Failure.External(4194307,t)))},i.prototype.play=function(){n.Log.verbose(7,"play");this._workflowCoordinator?this._workflowCoordinator.play():this._sessionContext.videoTag.play()},i.prototype.pause=function(){n.Log.verbose(7,"pause");this._workflowCoordinator?this._workflowCoordinator.pause():this._sessionContext.videoTag.pause()},i.prototype.requestFullscreen=function(){var i,t;(n.Log.verbose(7,"requestFullscreen"),i=!1,this.isFullScreen)||(t=this._sessionContext.videoTag,t.requestFullscreen?(i=!0,t.requestFullscreen()):t.msRequestFullscreen?(i=!0,t.msRequestFullscreen()):t.webkitRequestFullscreen?(i=!0,t.webkitRequestFullscreen()):t.mozRequestFullScreen&&(i=!0,t.mozRequestFullScreen()),i&&this._sessionContext.eventMgr.dispatchEvent(n.EventName.fullscreenchange))},i.prototype.exitFullscreen=function(){n.Log.verbose(7,"exitFullscreen");var t=!1;this.isFullScreen&&(document.exitFullscreen?(t=!0,document.exitFullscreen()):document.webkitExitFullscreen?(t=!0,document.webkitExitFullscreen()):document.mozCancelFullScreen?(t=!0,document.mozCancelFullScreen()):document.msExitFullscreen&&(t=!0,document.msExitFullscreen()),t&&this._sessionContext.eventMgr.dispatchEvent(n.EventName.fullscreenchange))},i.prototype.addEventListener=function(n,t,i){typeof i=="undefined"&&(i=null);this._sessionContext.eventMgr.addHandler(n,t,i)},i.prototype.removeEventListener=function(n,t){this._sessionContext.eventMgr.removeHandler(n,t)},i.prototype.addKeySystem=function(n){return this._sessionContext.emeManager.addKeySystem(n)},i.prototype.setXmlHttpRequestFactory=function(n){this._sessionContext.setXmlHttpRequestFactory(n)},i.prototype._reset=function(n){function i(n){t._dispose||t._handleError(n)}var t=this;this._playerType=null;this._autoplay=!0;this._type="";this._error=null;n&&(this._type=n.type,"autoPlay"in n&&(this._autoplay=n.autoPlay),"authenticationTokens"in n&&(this._sessionContext.authenticationTokens=n.authenticationTokens),n.userConfig&&this._sessionContext.setUserConfig(n.userConfig));this._sessionContext.emeManager.setup(i,this._sessionContext.authenticationTokens)},i.prototype._registerVideoTagEvents=function(t){function u(t){i._dispose||i._error||(n.Log.verbose(7,"dispatching event: "+t.type+" currentTime: "+i._sessionContext.videoTag.currentTime),i._sessionContext.eventMgr.dispatchEvent(t.type))}function f(t){if(!i._dispose&&!i._error)if(n.EventName.error===t.type){if(i._sessionContext.videoTag.readyState===HTMLMediaElement.HAVE_NOTHING){n.Log.warning(7,"Ignoring video element error since state is HAVE_NOTHING "+n.Failure.mediaErrorToString(i._sessionContext.videoTag.error));return}var r=new n.Failure.External;r.translateMediaError(i._sessionContext.videoTag.error);i._handleError(r)}else i._workflowCoordinator||(n.Log.verbose(7,"dispatching event: "+t.type),i._sessionContext.eventMgr.dispatchEvent(t.type))}var r=this,i=this;this._passThroughEventNames.forEach(function(n){t?r._sessionContext.videoTag.addEventListener(n,u):r._sessionContext.videoTag.removeEventListener(n,u)});this._conditionalEventNames.forEach(function(n){t?r._sessionContext.videoTag.addEventListener(n,f):r._sessionContext.videoTag.removeEventListener(n,f)})},i.prototype._registerInternalEvents=function(i){function r(t){function i(){n.Log.error(7,"Throwing error "+t.message);throw new Error(t.message);}u._dispose||t.message&&n.Util.setTimeout(i,0)}var u=this;i?this._sessionContext.eventMgr.addHandler(t.exception,r,this):this._sessionContext.eventMgr.removeHandler(t.exception,r)},i.prototype._handleError=function(t){this._workflowCoordinator&&this._workflowCoordinator.error||(this._error=t,this._workflowCoordinator&&(n.Log.verbose(7,"Disposing WorkflowCoordinator b/c "+t.toString()),this._workflowCoordinator.dispose(),this._workflowCoordinator=null),n.Log.verbose(7,"dispatching event: "+n.EventName.error),this._sessionContext.eventMgr.dispatchEvent(n.EventName.error))},i}()}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var e=function(){function n(){this.windowSizeHeuristicsEnabled=n._windowSizeHeuristicsEnabledDefault;this.preFetchDataEnabled=n._preFetchDataEnabledDefault;this.preFetchDataMiddle=n._preFetchDataMiddleDefault;this.vodStableBufferLevelPercent=n._vodStableBufferLevelPercentDefault;this.vodDowngradeBufferLevelPercent=n._vodDowngradeBufferLevelPercentDefault;this.belowDowngradeBufferLevelDownloadTimeFactor=n._belowDowngradeBufferLevelDownloadTimeFactorDefault;this.bandwidth=null;this.stepRule=null;this.buffer=null;this.bandwidth=new t;this.stepRule=new i;this.buffer=new r}return n.prototype.reset=function(){this.windowSizeHeuristicsEnabled=n._windowSizeHeuristicsEnabledDefault;this.preFetchDataEnabled=n._preFetchDataEnabledDefault;this.preFetchDataMiddle=n._preFetchDataMiddleDefault;this.vodStableBufferLevelPercent=n._vodStableBufferLevelPercentDefault;this.vodDowngradeBufferLevelPercent=n._vodDowngradeBufferLevelPercentDefault;this.belowDowngradeBufferLevelDownloadTimeFactor=n._belowDowngradeBufferLevelDownloadTimeFactorDefault;this.bandwidth.reset();this.stepRule.reset();this.buffer.reset()},n._windowSizeHeuristicsEnabledDefault=!0,n._preFetchDataEnabledDefault=!0,n._preFetchDataMiddleDefault=!0,n._vodStableBufferLevelPercentDefault=.7,n._vodDowngradeBufferLevelPercentDefault=.15,n._belowDowngradeBufferLevelDownloadTimeFactorDefault=.75,n}(),t,i,r,u,f;n.Heuristics=e;t=function(){function n(){this.bandwidthUsabilityPercent=n._bandwidthUsabilityPercentDefault;this.bandwidthDataSizeThresholdInBytes=n._bandwidthDataSizeThresholdInBytesDefault;this.bandwidthEstimationMaxKbps=n._bandwidthEstimationMaxKbpsDefault;this.bandwidthOutlierFactor=n._bandwidthOutlierFactorDefault;this.maxBandwidthHistoryCount=n._maxBandwidthHistoryCountDefault}return n.prototype.reset=function(){this.bandwidthUsabilityPercent=n._bandwidthUsabilityPercentDefault;this.bandwidthDataSizeThresholdInBytes=n._bandwidthDataSizeThresholdInBytesDefault;this.bandwidthEstimationMaxKbps=n._bandwidthEstimationMaxKbpsDefault;this.bandwidthOutlierFactor=n._bandwidthOutlierFactorDefault;this.maxBandwidthHistoryCount=n._maxBandwidthHistoryCountDefault},n._bandwidthUsabilityPercentDefault=.85,n._bandwidthDataSizeThresholdInBytesDefault=1e4,n._bandwidthEstimationMaxKbpsDefault=1e5,n._bandwidthOutlierFactorDefault=50,n._maxBandwidthHistoryCountDefault=5,n}();n.Bandwidth=t;i=function(){function n(){this.minSegmentsBeforeDowngrade=n._minSegmentsBeforeDowngradeDefault;this.minSegmentsBeforeUpgrade=n._minSegmentsBeforeUpgradeDefault;this.maxStepDownInQuality=n._maxStepDownInQualityDefault;this.maxStepUpInQuality=n._maxStepUpInQualityDefault}return n.prototype.reset=function(){this.minSegmentsBeforeDowngrade=n._minSegmentsBeforeDowngradeDefault;this.minSegmentsBeforeUpgrade=n._minSegmentsBeforeUpgradeDefault;this.maxStepDownInQuality=n._maxStepDownInQualityDefault;this.maxStepUpInQuality=n._maxStepUpInQualityDefault},n._minSegmentsBeforeDowngradeDefault=0,n._minSegmentsBeforeUpgradeDefault=2,n._maxStepDownInQualityDefault=10,n._maxStepUpInQualityDefault=3,n}();n.StepRule=i;r=function(){function n(){this.maxBufferInSec=n._maxBufferInSecDefault;this.prerollPercent=n._prerollPercentDefault;this.livePlaybackOffsetPercent=n._livePlaybackOffsetPercentDefault;this.leftEdgeBackoffInSec=n._leftEdgeBackoffInSecDefault;this.lowBufferPercent=n._lowBufferPercentDefault}return n.prototype.reset=function(){this.maxBufferInSec=n._maxBufferInSecDefault;this.prerollPercent=n._prerollPercentDefault;this.lowBufferPercent=n._lowBufferPercentDefault;this.livePlaybackOffsetPercent=n._livePlaybackOffsetPercentDefault;this.leftEdgeBackoffInSec=n._leftEdgeBackoffInSecDefault},n._maxBufferInSecDefault=30,n._prerollPercentDefault=.25,n._lowBufferPercentDefault=.25,n._livePlaybackOffsetPercentDefault=.25,n._leftEdgeBackoffInSecDefault=4,n}();n.Buffer=r;u=function(){function n(){this.maxTotalRetries=n._maxTotalRetriesDefault;this.maxRetryPerSegment=n._maxRetryPerSegmentDefault;this.maxRetryPresentation=n._maxRetryPresentationDefault;this.maxSkipSegments=n._maxSkipSegmentsDefault;this.retryLowerBitrateOnly=!1;this.retryMediaInMSec=n._retryMediaInMSecDefault;this.retryMediaServerErrorInMSec=n._retryMediaServerErrorInMSecDefault;this.retryPresentationInMSec=n._retryPresentationInMSecDefault}return n._maxTotalRetriesDefault=50,n._maxRetryPerSegmentDefault=10,n._maxRetryPresentationDefault=5,n._maxSkipSegmentsDefault=30,n._retryMediaInMSecDefault=2e3,n._retryMediaServerErrorInMSecDefault=4e3,n._retryPresentationInMSecDefault=500,n}();n.HttpRetryPolicy=u;f=function(){function n(){this.initBandwidthTimeoutInMSec=n._initBandwidthTimeout;this.timeoutInMSec=n._minTimeoutInMSecDefault;this.liveEdgeAdjustmentInSec=n._liveEdgeAdjustmentDefaultInSec}return Object.defineProperty(n.prototype,"maxTimeoutInMSec",{get:function(){return 6e4},enumerable:!0,configurable:!0}),n._minTimeoutInMSecDefault=5e3,n._initBandwidthTimeout=1e3,n._liveEdgeAdjustmentDefaultInSec=-1,n}();n.HttpDataRetriever=f})(n.Settings||(n.Settings={}));var t=n.Settings}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(){return new e}function r(n,t){var i=null;if(window.hasOwnProperty("MediaSource")||window.hasOwnProperty("WebKitMediaSource"))i=window.MediaSource||window.WebKitMediaSource;else return!1;return i&&i.isTypeSupported&&(i.isTypeSupported(n)||i.isTypeSupported(n+";"+t))}t.CreateAdapter=i;t.supported=r;var u={closed:0,open:1,ended:2},f=function(){function n(n,t,i){this.bufferIndex=n;this.startTime=t;this.endTime=i}return n}(),e=function(){function i(){this._mediaSource=new MediaSource;this._adapterSourceBuffers=new o;this._disposed=!1;this._videoTag=null;this._buffered=null}return i.prototype.dispose=function(){this._disposed||(this._mediaSource=null,this._adapterSourceBuffers.dispose(),this._adapterSourceBuffers=null,this._videoTag&&(this._videoTag=null),this._disposed=!0)},Object.defineProperty(i.prototype,"readyState",{get:function(){return this._disposed?0:u[this._mediaSource.readyState]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"durationInSec",{get:function(){return this._disposed?NaN:this._mediaSource.duration},set:function(n){this._disposed||(this._mediaSource.duration=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"adapterBuffers",{get:function(){return this._disposed?null:this._adapterSourceBuffers.adapterBuffers},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"buffered",{get:function(){return this._buffered},enumerable:!0,configurable:!0}),i.prototype.setVideoElementSrcAsync=function(n){var t=this;return this._videoTag=n,new Promise(function(i,r){if(t._disposed){r("VideoElementAdapter already disposed");return}t._mediaSource.addEventListener("sourceopen",function(){if(t._disposed){r("VideoElementAdapter already disposed");return}i()});n.src=URL.createObjectURL(t._mediaSource)})},i.prototype.setStartTime=function(t){function u(){!r._disposed&&r._videoTag&&r._videoTag.currentTime===0&&(r._videoTag.readyState!==HTMLMediaElement.HAVE_NOTHING?(r._videoTag.currentTime=t,n.Log.verbose(3,"StartTime set: "+t)):(n.Log.verbose(3,"Video tag not ready, will retry to set StartTime to "+t),n.Util.setTimeout(u,i._setCurrentTimeTimeoutInMSec)))}var r=this;u()},i.prototype.addAdapterBuffer=function(i,r,u){function s(){o._updateBuffered()}if(this._disposed)return null;var o=this,f,e=null;try{f=this._mediaSource.addSourceBuffer(i);e=new t.VideoElementAdapterBuffer(u,r,f,s);this._adapterSourceBuffers.add(e,f);n.Log.verbose(3,"Adapter buffer added: "+i+" Adapter buffer total: "+this._adapterSourceBuffers.length)}catch(h){n.Log.error(3,"Failed to add SourceBuffer to MediaSource: "+h)}return e},i.prototype.removeAdapterBuffer=function(t){if(!this._disposed){var i;i=this._adapterSourceBuffers.find(t);-1!==i?(this._mediaSource.removeSourceBuffer(this._adapterSourceBuffers.sourceBuffers[i]),this._adapterSourceBuffers.remove(i),n.Log.verbose(3,"Adapter buffer removed, remaining: "+this._adapterSourceBuffers.length)):n.Log.error(3,"Failed to remove adapter buffer: instance not found")}},i.prototype.endOfStream=function(t){function f(){if(!r._disposed)try{u?r._mediaSource.endOfStream(u):r._mediaSource.endOfStream();n.Log.verbose(3,"End of stream signaled")}catch(t){if(t.code===DOMException.INVALID_STATE_ERR&&e++<10)n.Log.warning(3,"MediaSource not ready, will retry: "+t),n.Util.setTimeout(f,i._retryTimeoutInMSec);else{n.Log.error(3,"Failed to set end-of-stream: "+t);throw t;}}}var r=this,u=t,e=0;f()},i.prototype._updateBuffered=function(){var t,f,u,o,i;if(!this._disposed){var s=this._adapterSourceBuffers.adapterBuffers,h=new n.Common.TimeRangeSet,r=this._findUniqueStartTimes();for(t=0;t<r.length;t++){var c=r[t].startTime,e=r[t].endTime,l=!0;for(f=0;f<s.length;f++)if(u=s[f].buffered,f!==r[t].bufferIndex){for(o=!1,i=0;i<u.length;i++)if(u.start(i)<=c&&c<=u.end(i)){o=!0;u.end(i)<e&&(e=u.end(i));break}if(!o){l=!1;break}}l&&(n.Log.verbose(3,"Intersecting buffer found ("+r[t].startTime+", "+e+")"),h.addRange(new n.Common.TimeRange(r[t].startTime,e)))}this._buffered=h}},i.prototype._findUniqueStartTimes=function(){for(var t,n,i=[],u=this._adapterSourceBuffers.adapterBuffers,r=0;r<u.length;r++)for(t=u[r].buffered,n=0;n<t.length;n++)-1===i.findIndexOf(function(i){return i.startTime===t.start(n)})&&i.push(new f(r,t.start(n),t.end(n)));return i.sort(function(n,t){return n.startTime-t.startTime}),i},i._setCurrentTimeTimeoutInMSec=500,i._retryTimeoutInMSec=100,i}(),o=function(){function n(){this.adapterBuffers=[];this.sourceBuffers=[]}return n.prototype.dispose=function(){for(var n=this.adapterBuffers.length-1;n>=0;n--)this.adapterBuffers[n].dispose(),this.adapterBuffers[n]=null;for(n=this.sourceBuffers.length-1;n>=0;n--)this.sourceBuffers[n]=null},Object.defineProperty(n.prototype,"length",{get:function(){if(this.sourceBuffers.length!==this.adapterBuffers.length)throw new Error("AdapterSourceBuffers in invalid state");return this.sourceBuffers.length},enumerable:!0,configurable:!0}),n.prototype.find=function(n){return this.adapterBuffers.indexOf(n)},n.prototype.add=function(n,t){this.adapterBuffers.push(n);this.sourceBuffers.push(t)},n.prototype.remove=function(n){n>=0&&n<this.sourceBuffers.length&&(this.sourceBuffers.splice(n,1),this.adapterBuffers.splice(n,1))},n}()})(n.VideoElementAdapter||(n.VideoElementAdapter={}));var t=n.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(t,i,r,u){function o(){n.Log.verbose(3,"SourceBuffer 'update' event completed.");e()}function s(){n.Log.error(3,"SourceBuffer append failed with 'error' event.");e()}function e(){f._notifyBufferUpdated();f._tryInternalRemove();f._tryInternalAppend()}var f=this;this._disposed=!1;this._pendingBufferRanges=new n.Common.TimeRangeSet;this._sourceBuffer=r;this._maxAdapterBufferInSec=t;this._playbackPosFn=i;this._notifyBufferUpdated=u;this._pendingBuffer=[];this._pendingRemove=[];this._submittedRemove=null;this._sourceBuffer.addEventListener("update",o);this._sourceBuffer.addEventListener("error",s)}return Object.defineProperty(t.prototype,"buffered",{get:function(){var i=new n.Common.TimeRangeSet,s,e,o,r,t,u,f;for(i.addRanges(this._sourceBuffer.buffered),e=i.length>0?i.end(i.length-1):NaN,t=0;t<this._pendingBufferRanges.length;t++)o=this._pendingBufferRanges.start(t),r=this._pendingBufferRanges.end(t),n.Common.diffTimes(o,e)===0?i.extendLast(r):(s=new n.Common.TimeRange(o,r),i.addRange(s)),e=r;for(t=0;t<this._pendingRemove.length;t++)u=this._pendingRemove[t].startInSec,f=this._pendingRemove[t].endInSec,i.removeRange(u,f);return this._submittedRemove&&(u=this._submittedRemove.startInSec,f=this._submittedRemove.endInSec,i.removeRange(u,f)),i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"presentationTimeOffsetInSec",{get:function(){return this._sourceBuffer.timestampOffset},set:function(n){this._sourceBuffer.timestampOffset=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this._sourceBuffer.audioTracks},enumerable:!0,configurable:!0}),t.prototype.getBufferedAheadOfCurrentTimeInSec=function(){var n;if(this._disposed)return 0;var t=this.buffered,i=this._playbackPosFn(),r=0;if(0===t.length)return 0;for(n=0;n<t.length;n++)t.start(n)<=i&&i<t.end(n)?r+=t.end(n)-i:i<t.start(n)&&(r+=t.end(n)-t.start(n));return r},t.prototype.bufferFull=function(){return this.getBufferedAheadOfCurrentTimeInSec()>this._maxAdapterBufferInSec},t.prototype.contains=function(n){for(var i=this.buffered,t=0;t<i.length;t++)if(i.start(t)<=n&&n<i.end(t))return!0;return!1},t.prototype.dispose=function(){var n;if(!this._disposed){for(this._disposed=!0,n=this._pendingBuffer.length-1;n>=0;n--)this._pendingBuffer[n]=null;for(this._sourceBuffer=null,n=this._pendingRemove.length-1;n>=0;n--)this._pendingRemove[n]=null;this._submittedRemove&&(this._submittedRemove=null);this._pendingBufferRanges&&(this._pendingBufferRanges.dispose(),this._pendingBufferRanges=null)}},t.prototype.append=function(t,i,r){for(var s,f,e,o,u=0;u<this._pendingBuffer.length;u++)if(i<this._pendingBuffer[u].presTimeInSec)break;if(r){if(u>0&&(f=this._pendingBuffer[u-1],o=n.Common.diffTimes(i,f.presTimeInSec+f.durationInSec),o>0))throw new Error("append ("+i+","+r+") failed, overlaps with ("+f.presTimeInSec+","+f.durationInSec+")");if(u<this._pendingBuffer.length&&(e=this._pendingBuffer[u],o=n.Common.diffTimes(e.presTimeInSec,i+r),o>0))throw new Error("append ("+i+","+r+") failed, overlaps with ("+e.presTimeInSec+","+e.durationInSec+")");}s=new n.Common.SegmentData(t,i,r);this._pendingBuffer.splice(u,0,s);this._updatePendingRanges();n.Log.verbose(3,"Appending segment: "+i+" sec "+t.byteLength+" bytes");this._tryInternalAppend();this._notifyBufferUpdated()},t.prototype.remove=function(t,i){var r;t=Math.max(t,0);r=new n.Common.TimeRange(t,i);this._pendingRemove.push(r);n.Log.verbose(3,"Added to remove pending list ["+t+","+i+")");this._tryInternalRemove()},t.prototype.flushFrom=function(n){var r=this._sourceBuffer.buffered,t,i,u;if(this._sourceBuffer.updating&&this._sourceBuffer.abort(),t=0,i=0,r.length>0&&(t=r.start(0)),this._pendingBuffer.length>0&&(t=Math.min(t,this._pendingBuffer[0].presTimeInSec)),this._pendingBuffer.length>0&&(u=this._pendingBuffer[this._pendingBuffer.length-1],i=u.presTimeInSec+u.durationInSec),r.length>0&&(i=Math.max(i,r.end(r.length-1))),undefined!==n&&(t=n),i>t)this.remove(t,i);else if(0!==t||0!==i)throw new Error("flush failed, endTime ("+i+") not greater than startime ("+t+")");},t.prototype.flushUntil=function(n){var r=this._sourceBuffer.buffered,i=0,t=0,u;if(r.length>0&&(i=r.start(0)),this._pendingBuffer.length>0&&(i=Math.min(i,this._pendingBuffer[0].presTimeInSec)),this._pendingBuffer.length>0&&(u=this._pendingBuffer[this._pendingBuffer.length-1],t=u.presTimeInSec+u.durationInSec),r.length>0&&(t=Math.max(t,r.end(r.length-1))),t=Math.min(t,n),t>i)this.remove(i,t);else if(0!==i||0!==t)throw new Error("flush failed, endTime ("+t+") not greater than startime ("+i+")");},t.prototype._tryInternalAppend=function(){if(this._pendingBuffer&&this._sourceBuffer&&0!==this._pendingBuffer.length&&!this._sourceBuffer.updating)try{this._sourceBuffer.appendBuffer(this._pendingBuffer[0].data);n.Log.verbose(3,"Appended segment to SourceBuffer: "+this._pendingBuffer[0].presTimeInSec+" sec "+this._pendingBuffer[0].data.byteLength+" bytes");this._pendingBuffer.splice(0,1);this._updatePendingRanges()}catch(t){switch(t.code){case DOMException.INVALID_STATE_ERR:case DOMException.QUOTA_EXCEEDED_ERR:n.Log.error(3,"Failed to append segment to SourceBuffer, will retry: "+t);break;default:n.Log.error(3,"Failed to append segment to SourceBuffer: "+t);throw t;}}},t.prototype._tryInternalRemove=function(){var t,r,f,i,e;if(this._sourceBuffer&&(this._sourceBuffer.updating||(this._submittedRemove=null),this._pendingBuffer&&this._pendingRemove))while(0!==this._pendingRemove.length&&!this._sourceBuffer.updating){for(t=this._pendingRemove[0],r=this._pendingBuffer.length-1;r>=0;r--)f=this._pendingBuffer[r],i=f.presTimeInSec,e=f.durationInSec,i>=t.startInSec&&i<t.endInSec&&(i+e<=t.endInSec?(this._pendingBuffer.splice(r,1),this._updatePendingRanges(),this._notifyBufferUpdated(),n.Log.verbose(3,"Segment removed: "+t.startInSec)):n.Log.verbose(3,"Failed to remove range ("+t.startInSec+", "+t.endInSec+") from                             segment ("+i+", "+(i+e)+") - range ends mid - segment"));try{this._sourceBuffer.remove(t.startInSec,t.endInSec);this._submittedRemove=this._pendingRemove.splice(0,1)[0];n.Log.verbose(3,"Removing range from SourceBuffer: ["+t.startInSec+","+t.endInSec+")")}catch(u){switch(u.code){case DOMException.INVALID_ACCESS_ERR:case DOMException.INVALID_STATE_ERR:n.Log.error(3,"Failed to remove segment from SourceBuffer, will retry: "+u);break;default:n.Log.error(3,"Failed to remove segment from SourceBuffer: "+u);throw u;}}}},t.prototype._updatePendingRanges=function(){var t=this,i,r=NaN;this._pendingBufferRanges&&(this._pendingBufferRanges.dispose(),this._pendingBufferRanges=null);this._pendingBufferRanges=new n.Common.TimeRangeSet;this._pendingBuffer.forEach(function(u){n.Common.diffTimes(u.presTimeInSec,r)===0?t._pendingBufferRanges.extendLast(u.endTimestampInSec):(i=new n.Common.TimeRange(u.presTimeInSec,u.endTimestampInSec),t._pendingBufferRanges.addRange(i));r=u.endTimestampInSec})},t}();t.VideoElementAdapterBuffer=i})(n.VideoElementAdapter||(n.VideoElementAdapter={}));var t=n.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(n){return new r(n)}t.CreateCoordinator=i;var r=function(){function i(r){this._sessionContext=r;this._workflowSeq=t.CreateSequencer(this._sessionContext);this._mediaSource=null;this._lastPresentation=new Date(0);this._pendingPresentation=new Date;this._disposed=!1;this._pendingPlay=!0;this._pendingTryMediaRequestCount=0;this._prerollMet=!1;this._error=null;this._playbackPosInSec=null;this._pendingPlaybackPosInSec=null;this._lastDuration=0;this._videoStreamList=null;this._audioStreamList=null;this._healthCheckLastTime=0;this._healthCheckPeriodInMSec=i._healthCheckPeriodMinInMSec;this._healthCheckId=n.Util.setTimeout(this._periodicHealthCheck,this._healthCheckPeriodInMSec,this);this._healthCheckRetries=0;this._lastPlaybackBitrate=null;this._lastDownloadBitrate=null;this._registerInternalEvents(!0)}return i.prototype.dispose=function(){this._disposed||(this._registerInternalEvents(!1),this._disposed=!0,this._sessionContext=null,this._lastPresentation=null,this._pendingPresentation=null,this._mediaSource&&(this._mediaSource.dispose(),this._mediaSource=null),this._workflowSeq&&(this._workflowSeq.dispose(),this._workflowSeq=null),this._videoStreamList&&this._videoStreamList.dispose(),this._audioStreamList&&this._audioStreamList.dispose(),n.Util.clearTimeout(this._healthCheckId))},Object.defineProperty(i.prototype,"videoStreamList",{get:function(){return this._videoStreamList},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"audioStreamList",{get:function(){return this._audioStreamList},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"videoBufferData",{get:function(){return this._sessionContext.videoBufferData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"audioBufferData",{get:function(){return this._sessionContext.audioBufferData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"src",{get:function(){return this._sessionContext.presentationUrl},set:function(t){function r(t){function u(){return null!==i._playbackPosInSec&&i._sessionContext.videoTag.seeking?i._playbackPosInSec:i._sessionContext.videoTag.currentTime}function f(){i._disposed||(r.periods[0].streams.forEach(function(r){r.streamingInfo.selected&&(r.streamingInfo.sourceBuffer=i._mediaSource.addAdapterBuffer(r.codec,u,t.sessionContext.maxBufferInSec()),n.assert(null!=r.streamingInfo.sourceBuffer,"presentationWorkflowResolved: Failed to create source buffer for stream "+n.Presentation.StreamType[r.type]),r.type===0?i._sessionContext.videoBufferData.updateBuffer(r.streamingInfo.sourceBuffer):r.type===1&&i._sessionContext.audioBufferData.updateBuffer(r.streamingInfo.sourceBuffer),r.streamingInfo.sourceBuffer.presentationTimeOffsetInSec=r.presentationTimeOffsetInSec)}),i._updateStartPosition(),i._updateDuration(),i._registerVideoDownloadedEvents(),i._registerVideoTagEvents(),i._checkMediaWorkflow(),i._tryTimeUpdateEvent(),t.dispose())}function e(n){throw new Error(n);}if(!i._disposed){var r=null;if(n.Log.verbose(1,"presentationWorkflowResolved"),null===t.sessionContext.commonPresentation)throw new Error("presentationWorkflowResolved: unexpected null values");r=t.sessionContext.commonPresentation;i._videoStreamList=new n.Presentation.VideoStreamList(i._sessionContext,r.periods[0].streams);i._audioStreamList=new n.Presentation.AudioStreamList(i._sessionContext,r.periods[0].streams);i._sessionContext.emeManager.setContentTypes(i._audioStreamList.streams[0].codec,i._videoStreamList.streams[0].codec);i._sessionContext.eventMgr.dispatchEvent(n.EventName.loadedmetadata);i._mediaSource=n.VideoElementAdapter.CreateAdapter();i._mediaSource.setVideoElementSrcAsync(t.sessionContext.videoTag).then(f,e).catch(function(t){i._sessionContext.eventMgr.dispatchEvent(n.InternalEventName.exception,t)})}}function u(t){i._disposed||(n.Log.error(1,"presentationWorkflowRejected:  module: "+t.currentModuleId),t.externalFailure&&n.Failure.isExternalError(t.externalFailure.code)&&(i._error=new n.Failure.External(t.externalFailure.code,t.externalFailure.message),n.Log.error(1,"Dispatching error: "+i.error.toString()),t.sessionContext.eventMgr.dispatchEvent(n.EventName.error)),t.dispose())}n.Log.verbose(1,"src("+t+")");var i=this;this._sessionContext.presentationUrl=t;this._presentationWorkflowAsync(r,u)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentTime",{get:function(){var t=this._sessionContext.videoTag,n=0;return this._sessionContext.commonPresentation&&(n=null!==this._pendingPlaybackPosInSec?this._pendingPlaybackPosInSec:t.currentTime,n=Math.max(this._fromPresentationTime(n),0)),n},set:function(t){var f,e,i;n.Log.verbose(1,"currentTime("+t.toFixed(3)+")");var r=this._sessionContext,u=r.commonPresentation.periods[0].streams,o=!1,s=0,h=0,c=this.duration;if(r.commonPresentation.isLive){var a=r.commonPresentation.timeShiftBufferDepth||Infinity,l=r.heuristicSettings.buffer.leftEdgeBackoffInSec,v=a-l;s=r.liveStartBufferInSec();h=c<v?0:l}for(t=Math.max(t,h),t=Math.min(t,c-s),t=this._toPresentationTime(t),n.Log.verbose(1,"seeking from presentation time "+r.videoTag.currentTime.toFixed(3)+" to "+t.toFixed(3)),f=t,i=0;i<u.length;i++)if(u[i].streamingInfo.selected){if(e=u[i].segments.getByInSegmentTimestamp(t),e)continue;e=u[i].segments.getByInDiscontinuityTimestamp(t);e&&(f=Math.max(f,e.segmentInfo.presTimeInSec))}for(f!==t&&(n.Log.verbose(1,"skipping discontinuity from presentation time "+t+" to "+f),t=f),this._playbackPosInSec=t,r.videoTag.currentTime=t,this._pendingPlaybackPosInSec=null,n.Common.diffTimes(r.videoTag.currentTime,t)&&(n.Log.verbose(1,"set currentTime failed to update videoTag: requested="+t+", actual="+r.videoTag.currentTime),this._pendingPlaybackPosInSec=t),i=0;i<u.length;i++)u[i].streamingInfo.selected&&u[i].streamingInfo.sourceBuffer&&!1===u[i].streamingInfo.sourceBuffer.contains(t)&&(u[i].streamingInfo.pendingSeekPositionInSec=t,u[i].streamingInfo.sourceBuffer.flushFrom(),o=!0,2===u[i].streamingInfo.workflowState&&(u[i].streamingInfo.workflowState=0));this._checkMediaWorkflow();o||this._buffersAbovePreroll()||this._endOfSelectedStreams()||(o=!0);o&&(r.videoTag.paused||(this._pendingPlay=!0,r.eventMgr.dispatchEvent(n.EventName.waiting),r.videoTag.pause()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentMediaTime",{get:function(){var r=this._sessionContext.videoTag,t=0,n,i;return this._sessionContext.commonPresentation&&(n=this._sessionContext.commonPresentation.periods[0].streams,n&&n[0]&&(i=n[0].presentationTimeOffsetInSec,t=(null!==this._pendingPlaybackPosInSec?this._pendingPlaybackPosInSec:r.currentTime)-i)),t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"downloadBitrate",{get:function(){return this._lastDownloadBitrate},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"playbackBitrate",{get:function(){return this._lastPlaybackBitrate},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoplay",{set:function(t){n.Log.verbose(1,"autoplay("+t+")");this._pendingPlay=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"duration",{get:function(){var t=this._sessionContext,i=t.commonPresentation,r=Infinity,n;return i&&(n=i.playableWindow,r=n.endInSec-n.startInSec),Math.min(t.videoTag.duration||0,r)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"buffered",{get:function(){var t=null,i;return this._mediaSource&&(i=this._sessionContext.commonPresentation.playableWindow,t=new n.Common.TimeRangeSet,t.addRanges(this._mediaSource.buffered),t.rebase(i.startInSec)),t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),i.prototype.play=function(){n.Log.verbose(1,"play()");var i=this._sessionContext,r=i.heuristicSettings.buffer.leftEdgeBackoffInSec,t=i.videoTag;if(!this._mediaSource){this._pendingPlay=!0;return}this._mediaSource.readyState===0&&t.load();i.commonPresentation&&i.commonPresentation.isLive&&t.paused&&!t.seeking&&this._fromPresentationTime(t.currentTime)<r&&(n.Log.verbose(1,"play: skipping from "+t.currentTime+" to left edge"),this.currentTime=0);t.paused&&n.Common.diffTimes(t.currentTime,t.duration)<=0&&(this.currentTime=0);this._buffersAbovePreroll()||this._endOfSelectedStreams()?this._startPlayback():(this._pendingPlay=!0,i.eventMgr.dispatchEvent(n.EventName.waiting));this._resetHealthCheckTime()},i.prototype.pause=function(){var t=this._sessionContext;n.Log.verbose(1,"pause()");this._pendingPlay&&(this._pendingPlay=!1);t.videoTag.pause();this._tryTimeUpdateEvent()},i.prototype._presentationWorkflowAsync=function(t,r){function o(){u._disposed||(!u._sessionContext.commonPresentation||u._sessionContext.commonPresentation.isLive)&&u._workflowSeq.presentationRequestAsync().then(s,h).catch(function(t){u._sessionContext.eventMgr.dispatchEvent(n.InternalEventName.exception,t)})}function s(f){var e,s,h;if(u._disposed){r&&r(f);return}if(n.Log.verbose(1,"presentationRequestResolved"),e=f.sessionContext.commonPresentation,null===e)throw new Error("presentationRequestResolved: unexpected null values");u._updateDuration();s=new Date;e.isLive&&e.minimumUpdatePeriodInSec>0&&u._pendingPresentation<=s&&(h=Math.max(i._minPresentationUpdatePeriodInMSec,e.minimumUpdatePeriodInSec*1e3),u._pendingPresentation.setTime(s.getTime()+h),n.Util.setTimeout(o,h));u._lastPresentation=s;t&&(t(f),t=null)}function h(t){u._disposed||n.Log.error(1,"presentationRequestRejected:  module: "+t.currentModuleId);r&&r(t)}var u=this,f=0,e=Date.now()-u._lastPresentation.getTime();e<i._minPresentationUpdatePeriodInMSec&&(f=i._minPresentationUpdatePeriodInMSec-e);n.Util.setTimeout(o,f)},i.prototype._checkMediaWorkflow=function(){function u(){var c,h,s,o;if(!t._disposed){for(n.Log.verbose(1,"_doCheckMediaWorkflow"),c=[],t._pendingTryMediaRequestCount--,r.videoTag.paused||t._endOfSelectedStreams()||!t._buffersNearEmpty()?t._buffersAbovePreroll()&&(t._dispatchCanPlayThroughEvent(),t._pendingPlay&&t._startPlayback()):(r.eventMgr.dispatchEvent(n.EventName.waiting),t._pendingPlay=!0,r.videoTag.pause()),h=!1,s=0;s<r.commonPresentation.periods[0].streams.length;s++)o=r.commonPresentation.periods[0].streams[s],o.streamingInfo.selected&&0===o.streamingInfo.workflowState&&(!o.streamingInfo.sourceBuffer||t._isBufferAheadOtherStreams(o)||o.streamingInfo.sourceBuffer.bufferFull()||t._buffersAtLiveEdge(o)?h=!0:(n.Log.verbose(1,"starting media workflow "+n.Presentation.StreamType[o.type]),o.streamingInfo.workflowState=1,t._workflowSeq.mediaRequestAsync(o).then(f,e).catch(function(t){r.eventMgr.dispatchEvent(n.InternalEventName.exception,t)})));h&&0===t._pendingTryMediaRequestCount&&(n.Log.verbose(1,"_doCheckMediaWorkflow: schedule try again"),t._pendingTryMediaRequestCount++,n.Util.setTimeout(u,i._mediaSegmentTimeoutInMSec))}}function f(i){var f,s,e,o,u;if(!t._disposed){for(f=i.requestedStream,f.streamingInfo.workflowState=0,1===i.state&&null===f.streamingInfo.pendingSeekPositionInSec&&(n.Log.verbose(1,"mediaRequestResolved: "+n.Presentation.StreamType[f.type]+" end of stream"),f.streamingInfo.workflowState=2,t._endOfSelectedStreams()&&(n.Log.verbose(1,"End of selected streams"),t._mediaSource.endOfStream(),t._dispatchCanPlayThroughEvent(),t._pendingPlay&&t._startPlayback())),u=0;u<i.urlsToRetrieve.length;u++){if(null===i.urlsToRetrieve[u].mediaData)throw new Error("mediaRequestResolved: data is null url: "+i.urlsToRetrieve[u].url);if(f.streamingInfo.selected&&null===f.streamingInfo.pendingSeekPositionInSec)s=i.urlsToRetrieve[u].presTimeInSec+i.urlsToRetrieve[u].durationInSec,n.Log.verbose(1,"mediaRequestResolved appending url: "+i.urlsToRetrieve[u].url+"("+i.urlsToRetrieve[u].httpResposeContentType+", "+i.urlsToRetrieve[u].mediaData.byteLength+" bytes, "+s+" secs)"),f.streamingInfo.sourceBuffer.append(i.urlsToRetrieve[u].mediaData,i.urlsToRetrieve[u].presTimeInSec,i.urlsToRetrieve[u].durationInSec);else{n.Log.verbose(1,"mediaRequestResolved discarding,"+(f.streamingInfo.selected?"seek in progress":"stream no longer selected ")+"url: "+i.urlsToRetrieve[u].url+"("+i.urlsToRetrieve[u].httpResposeContentType+", "+i.urlsToRetrieve[u].mediaData.byteLength+")");break}}if(null!==t._pendingPlaybackPosInSec){for(e=r.videoTag.buffered,o=!1,u=0;u<e.length;u++)if(e.start(u)<=t._pendingPlaybackPosInSec&&t._pendingPlaybackPosInSec<e.end(u)){o=!0;break}o&&(r.videoTag.currentTime=t._pendingPlaybackPosInSec,n.Common.diffTimes(r.videoTag.currentTime,t._pendingPlaybackPosInSec)?n.Log.verbose(1,"mediaRequestResolved failed to update videoTag currentTime: pending="+t._pendingPlaybackPosInSec+", actual="+r.videoTag.currentTime):t._pendingPlaybackPosInSec=null)}t._checkMediaWorkflow();i.dispose()}}function e(i){function f(i){if(!t._disposed){if(n.Log.verbose(1,"refreshPresentationWorkflowResolved"),null===i.sessionContext.commonPresentation)throw new Error("refreshPresentationWorkflowResolved: unexpected null values");u.streamingInfo.workflowState=0;t._checkMediaWorkflow();i.dispose()}}function e(i){t._disposed||(n.Log.error(1,"refreshPresentationWorkflowRejected:  module: "+i.currentModuleId),i.externalFailure&&n.Failure.isExternalError(i.externalFailure.code)&&(t._error=new n.Failure.External(i.externalFailure.code,i.externalFailure.message),n.Log.error(1,"Dispatching error: "+t.error.toString()),i.sessionContext.eventMgr.dispatchEvent(n.EventName.error)),i.dispose())}if(!t._disposed){var u=i.requestedStream;if(n.Log.error(1,"mediaRequestRejected: "+n.Presentation.StreamType[i.requestedStream.type]+" module: "+i.currentModuleId),i.externalFailure){if((2097556===i.externalFailure.code||1===i.externalFailure.code)&&i.sessionContext.commonPresentation.isLive&&0===i.sessionContext.commonPresentation.minimumUpdatePeriodInSec&&i.failTracker.isNone()){t._presentationWorkflowAsync(f,e);return}n.Failure.isExternalError(i.externalFailure.code)&&(t._error=new n.Failure.External(i.externalFailure.code,i.externalFailure.message),n.Log.error(1,"Dispatching error: "+t.error.toString()),r.eventMgr.dispatchEvent(n.EventName.error))}i.dispose()}}var t=this,r=t._sessionContext;this._pendingTryMediaRequestCount++;n.Util.setTimeout(u,0)},i.prototype._updateStartPosition=function(){var t=this._sessionContext,n=t.commonPresentation,r=t.liveStartBufferInSec(),i=Infinity;n&&isNaN(t.startPositionInSec)&&(i=n.isLive?Math.max(n.playableWindow.startInSec,n.playableWindow.endInSec-r):n.playableWindow.startInSec,0!==i&&(this._mediaSource.setStartTime(i),t.startPositionInSec=i))},i.prototype._updateDuration=function(){var i=this._sessionContext.commonPresentation,t,r;i&&this._mediaSource&&(i.isLive?t=Infinity:this._sessionContext.isLiveToVod?(t=i.playableWindow.endInSec,n.Common.isChrome&&(r=Math.floor(t*1e6)/1e6,t=parseFloat(r.toFixed(6)),n.Log.verbose(1,"newDuration: "+t))):t=i.durationInSec,this._mediaSource.durationInSec!==t&&(this._mediaSource.durationInSec=t))},i.prototype._toPresentationTime=function(n){var t=this._sessionContext.commonPresentation.playableWindow.startInSec;return n+t},i.prototype._fromPresentationTime=function(n){var t=this._sessionContext.commonPresentation.playableWindow.startInSec;return n-t},i.prototype._endOfSelectedStreams=function(){var t,n;if(!this._sessionContext.commonPresentation)return!1;for(t=this._sessionContext.commonPresentation.periods[0].streams,n=0;n<t.length;n++)if(t[n].streamingInfo.selected&&2!==t[n].streamingInfo.workflowState)return!1;return!0},i.prototype._buffersAbovePreroll=function(){var i=!0,r=this._sessionContext.videoTag,t,n;if(!this._sessionContext.commonPresentation)return!1;if(t=this._sessionContext.commonPresentation.periods[0].streams,r.readyState<r.HAVE_METADATA)i=!1;else for(n=0;n<t.length;n++)if(t[n].streamingInfo.selected&&t[n].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()<this._sessionContext.prerollBufferInSec()){i=!1;break}return i},i.prototype._buffersNearEmpty=function(){for(var t=this._sessionContext.commonPresentation.periods[0].streams,n=0;n<t.length;n++)if(t[n].streamingInfo.selected&&t[n].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()<this._sessionContext.lowBufferInSec())return!0;return!1},i.prototype._isBufferAheadOtherStreams=function(n){for(var t,e=0,f=Infinity,o=null,s=0,u=this._sessionContext.commonPresentation.periods[0].streams,r=0;r<u.length;r++)u[r].streamingInfo.selected&&u[r].type!==2&&u[r].streamingInfo.workflowState!==2&&(e++,t=u[r].streamingInfo.sourceBuffer.buffered,t.length>0&&t.end(t.length-1)<f&&(f=t.end(t.length-1),o=u[r],s=u[r].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()));return(t=n.streamingInfo.sourceBuffer.buffered,1===e||o===n||t.length===0)?!1:n.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()>s&&t.end(t.length-1)-f>i._bufferTooFarAheadInSec},i.prototype._buffersAtLiveEdge=function(n){var t=this._sessionContext.commonPresentation,i,r,u;return n.streamingInfo.currentSegment?(i=n.streamingInfo.currentSegment.segmentInfo,r=i.presTimeInSec+i.durationInSec,u=t.playableWindow.endInSec,t.isLive&&t.minimumUpdatePeriodInSec===0&&u<=r):!1},i.prototype._startPlayback=function(){var t=this._sessionContext.videoTag,r;t.buffered&&t.buffered.length>0&&t.currentTime<t.buffered.start(0)&&(r=0,n.Common.isSafari&&n.Common.isOSXElCapitanOrEarlier()&&(r=i._startTimeThresholdInSecForSafari),t.currentTime=t.buffered.start(0)+r,n.Log.verbose(1,"_startPlayback: skipping over missing data at the beginning. currentTime: "+t.currentTime+", buffer start: "+t.buffered.start(0)));this._pendingPlay=!1;this._sessionContext.videoTag.play()},i.prototype._dispatchCanPlayThroughEvent=function(){this._prerollMet||(n.Log.verbose(7,"dispatching event: canplaythrough"),this._prerollMet=!0,this._sessionContext.eventMgr.dispatchEvent(n.EventName.canplaythrough))},i.prototype._registerVideoDownloadedEvents=function(){function r(){if(!i._disposed){var r=t.downloadCompleted.mediaDownload.bitrate;r!=this._lastDownloadBitrate&&(this._lastDownloadBitrate=r,this._sessionContext.eventMgr.dispatchEvent(n.EventName.downloadbitratechanged))}}var i=this,t=this._sessionContext.videoBufferData;t.addEventListener(n.BufferDataEventName.downloadcompleted,r,this)},i.prototype._registerVideoTagEvents=function(){function e(){t._disposed||t._pendingPlay&&t._buffersAbovePreroll()&&t._startPlayback()}function o(){if(!t._disposed){var r=t._sessionContext;r.eventMgr.dispatchEvent(n.EventName.durationchange);r.commonPresentation&&r.commonPresentation.isLive&&n.Util.setTimeout(u,i._durationChangeMinIntervalInMSec)}}function u(){if(!t._disposed){var r=t._sessionContext;r.commonPresentation&&r.commonPresentation.isLive&&(t._lastDuration!==t.duration?(t._lastDuration=t.duration,r.eventMgr.dispatchEvent(n.EventName.durationchange),n.Util.setTimeout(u,i._durationChangeMinIntervalInMSec)):0===t._lastDuration&&n.Util.setTimeout(u,i._durationChangeMinIntervalInMSec))}}function f(){t._resetHealthCheckTime()}function s(){if(!t._disposed){var r=t._sessionContext.videoBufferData,i=r.getPlaybackBitrate(t.currentMediaTime);i!=t._lastPlaybackBitrate&&(t._lastPlaybackBitrate=i,t._sessionContext.eventMgr.dispatchEvent(n.EventName.playbackbitratechanged))}}var t=this,r=t._sessionContext.videoTag;r.addEventListener(n.EventName.canplaythrough,e);r.addEventListener(n.EventName.durationchange,o);r.addEventListener(n.EventName.playing,f);r.addEventListener(n.EventName.seeked,f);r.addEventListener(n.EventName.timeupdate,s)},i.prototype._registerInternalEvents=function(t){t?this._sessionContext.eventMgr.addHandler(n.InternalEventName.flushvideo,this._flushVideoToPreroll,this):this._sessionContext.eventMgr.removeHandler(n.InternalEventName.flushvideo,this._flushVideoToPreroll)},i.prototype._periodicHealthCheck=function(t){var r,s;if(t._sessionContext&&t._sessionContext.videoTag){if(r=t._sessionContext.videoTag,t._healthCheckLastTime)if(r.paused||r.seeking||r.ended||t._healthCheckLastTime!==r.currentTime)t._healthCheckRetries=0,t._healthCheckPeriodInMSec=i._healthCheckPeriodMinInMSec;else{n.Log.verbose(1,"Health Check: currentTime stopped");t._sessionContext.eventMgr.dispatchEvent(n.EventName.playbackstalled);var o=r.currentTime,f=-1,e=new n.Common.TimeRangeSet,u;e.addRanges(r.buffered);u=e.getIndexByInRangeTimestamp(o);u>=0&&(e.beforeDiscontinuity(o,u)?(f=e.start(u+1),n.Log.verbose(1,"Health Check: skipping over discontinuity")):e.atOrAfterDiscontinuity(o,u)&&(f=e.start(u),n.Log.verbose(1,"Health Check: resetting on discontinuity")));f<0&&(f=o+i._healthCheckSkipInSec,n.Log.verbose(1,"Health Check: skipping "+i._healthCheckSkipInSec+" seconds ahead"),t._healthCheckPeriodInMSec+=i._healthCheckPeriodIncrementInMSec,t._healthCheckPeriodInMSec=Math.min(t._healthCheckPeriodInMSec,i._healthCheckPeriodMaxInMSec));n.Log.verbose(1,"Health Check: seeking from "+o+" to "+f);r.currentTime=f;u===-2&&(t._healthCheckRetries++,s=t._sessionContext.commonPresentation.isLive,(!s||s&&t._healthCheckRetries>=i._healthCheckMaxRetries)&&t.pause())}t._healthCheckLastTime=r.currentTime}t._healthCheckId=n.Util.setTimeout(t._periodicHealthCheck,t._healthCheckPeriodInMSec,t)},i.prototype._resetHealthCheckTime=function(){this._disposed||(this._healthCheckLastTime=0)},i.prototype._flushVideoToPreroll=function(){function f(i,r){var o=r.prerollBufferInSec(),e=r.videoTag.currentTime+o,u=null,f;t.flushStream=!1;f=i.segments.getByInSegmentTimestamp(e);f?u=f.segmentInfo.presTimeInSec:(f=i.segments.getByInDiscontinuityTimestamp(e),f&&(u=f.segmentInfo.presTimeInSec));null!=u&&t.sourceBuffer&&t.sourceBuffer.contains(u)&&(n.Log.verbose(7,"flushing at "+u+" from track selection"),t.sourceBuffer.flushFrom(u),t.pendingSeekPositionInSec=u,2===i.streamingInfo.workflowState&&(i.streamingInfo.workflowState=0))}var u=this._sessionContext.commonPresentation.periods[0].streams,i=u.filter(function(n){return n.streamingInfo.flushStream===!0}),r,t;for(i.length===0&&(i=u),r=0;r<i.length;r++)t=i[r].streamingInfo,i[r].type===0&&t.selected&&f(i[r],this._sessionContext);this._checkMediaWorkflow()},i.prototype._tryTimeUpdateEvent=function(){function r(){t.disposed||t.videoTag.paused&&t.commonPresentation&&t.commonPresentation.isLive&&(t.eventMgr.dispatchEvent(n.EventName.timeupdate),n.Util.setTimeout(r,i._timeupdateLivePausedIntervalInMSec))}if(!this._disposed){var t=this._sessionContext;r()}},i._mediaSegmentTimeoutInMSec=2e3,i._minPresentationUpdatePeriodInMSec=1e3,i._bufferTooFarAheadInSec=4,i._timeupdateLivePausedIntervalInMSec=1e3,i._durationChangeMinIntervalInMSec=1e3,i._healthCheckPeriodMinInMSec=1e3,i._healthCheckPeriodMaxInMSec=5e3,i._healthCheckPeriodIncrementInMSec=2e3,i._healthCheckSkipInSec=.5,i._healthCheckMaxRetries=2,i._startTimeThresholdInSecForSafari=.2,i}()})(n.Workflow||(n.Workflow={}));var t=n.Workflow}(AzureHtml5JS||(AzureHtml5JS={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";function r(){return new f}function u(){return new e}t.CreatePresentation=r;t.CreateMedia=u;var i=function(){function t(t){this._eventManager=new n.Events.Manager;this._eventsOrdered=t;this._stepList=[]}return t.prototype.dispose=function(){this._eventManager.dispose();this._eventManager=null;this._eventsOrdered=null;this._stepList=null},t.prototype.addHandler=function(n,t,i){this._eventManager.addHandler(n,t,i)},t.prototype.createSteps=function(){var i=this,r=0,n,t;for(n in this._eventsOrdered)t=this._eventManager.getHandlers(this._eventsOrdered[n]),t.forEach(function(n){i._stepList[r++]=n})},Object.defineProperty(t.prototype,"stepList",{get:function(){return this._stepList},enumerable:!0,configurable:!0}),t}(),f=function(n){function t(){var t=[this.stepEvents.requestBegin,this.stepEvents.requestSend,this.stepEvents.dataRetrieved,this.stepEvents.requestEnd];n.call(this,t)}return __extends(t,n),Object.defineProperty(t.prototype,"stepEvents",{get:function(){return{requestBegin:"requestBegin",requestSend:"requestSend",dataRetrieved:"dataRetrieved",requestEnd:"requestEnd"}},enumerable:!0,configurable:!0}),t}(i),e=function(n){function t(){var t=[this.stepEvents.requestBegin,this.stepEvents.requestSend,this.stepEvents.dataRetrieved,this.stepEvents.requestEnd];n.call(this,t)}return __extends(t,n),Object.defineProperty(t.prototype,"stepEvents",{get:function(){return{requestBegin:"requestBegin",requestSend:"requestSend",dataRetrieved:"dataRetrieved",requestEnd:"requestEnd"}},enumerable:!0,configurable:!0}),t}(i)})(n.Workflow||(n.Workflow={}));var t=n.Workflow}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(n){return new r(n)}t.CreateSequencer=i;var r=function(){function i(t){this._disposed=!1;this._sessionContext=t;this._orderedModules=[new n.DataRetriever.HttpRetryPolicy,new n.SegmentLocator.Dash,new n.Heuristics.InitialBandwidthDataUrlFormatter,new n.Heuristics.WindowSizeRule,new n.Heuristics.StepRule,new n.Heuristics.Engine,new n.UrlBuilder.DashUrlFormatter,new n.DataRetriever.HttpDataRetriever(t),new n.DashPresentation.Parser,new n.ContentProtection.PlayReady,new n.ContentProtection.Widevine,new n.ContentProtection.AesHandler,new n.DashMediaSegment.Parser,new n.Presentation.InitialStreamSelector];this._createWorkflows(t)}return i.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._orderedModules.forEach(function(n){n.dispose()}),this._orderedModules=null,this._sessionContext=null)},i.prototype.presentationRequestAsync=function(){var i=this,t=this;return new Promise(function(r,u){var f=new n.Context.Request(0,t._sessionContext);f.urlsToRetrieve.push(new n.Context.UrlRequest(t._sessionContext.presentationUrl));i._processSteps(f,r,u)})},i.prototype.mediaRequestAsync=function(t){var i=this;return new Promise(function(r,u){var f=new n.Context.Request(1,i._sessionContext);f.requestedStream=t;f.heuristicData=new n.Context.HeuristicData(t);i._processSteps(f,r,u)})},i.prototype._processSteps=function(t,i,r){function f(){if(e._disposed||t.disposed||t.sessionContext.disposed){r();return}if(u===t.sessionContext.workflows[t.workflowType].stepList.length){t.workflowType===1?n.Log.verbose(0,"Finished process steps for "+n.Presentation.StreamType[t.requestedStream.type]+" media workflow"):n.Log.verbose(0,"Finished process steps for presentation workflow");i(t);return}var f=t.sessionContext.workflows[t.workflowType].stepList[u],h=f.functionHandler.call(f.callerInstance,t);u++;h.then(o,s)}function o(){switch(t.state){case 0:n.Util.setTimeout(f,0);break;case 2:u=0;n.Util.setTimeout(f,t.retryWaitTimeMSec);t.reset();break;case 1:i(t);break;default:throw new Error("processSteps unexpected state"+t.state);}}function s(i){if(null===t.externalFailure){t.sessionContext.eventMgr.dispatchEvent(n.InternalEventName.exception,i);return}var u="stepRejected: "+t.externalFailure.toString();i&&(u+="err: "+i);n.Log.error(0,u);r(t)}var e=this,u;t.workflowType===1?n.Log.verbose(0,"Starting process steps for "+n.Presentation.StreamType[t.requestedStream.type]+" media workflow"):n.Log.verbose(0,"Starting process steps for presentation workflow");u=0;n.Util.setTimeout(f,0)},i.prototype._createWorkflows=function(n){n.workflows=[t.CreatePresentation(),t.CreateMedia()];this._orderedModules.forEach(function(t){t.init(n)});this._sessionContext.workflows.forEach(function(n){n.createSteps()})},i}()})(n.Workflow||(n.Workflow={}));var t=n.Workflow}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this.name="com.microsoft.playready";this.type="PlayReady";this._videoElement=null;this._errorHandler=null;this._session=null;this._active=!1;this._authenticationToken=""}return Object.defineProperty(t.prototype,"systemId",{get:function(){return t.systemId},enumerable:!0,configurable:!0}),t.prototype.isSupported=function(i,r,u){return i.isEqual(t.systemId)?n.EmeUtil.isTypeSupported(this.name,r,u):new Promise(function(n,t){t();return})},t.prototype.activate=function(n,t,i){this._videoElement=n;this._errorHandler=t;this._authenticationToken=i;this._active=!0},t.prototype.deactivate=function(){this._active&&(this._active=!1,this._session&&(n.EmeUtil.unlistenToKeyMessage(this._session,this._keyMessageHandler),n.EmeUtil.unlistenKeyError(this._session,this._keyErrorHandler),this._session.close(),this._session=null),this._videoElement=null,this._errorHandler=null,this._authenticationToken="")},t.prototype.initData=function(t,i,r){function h(n){e._keyMessageHandler(n)}function c(){e._keyErrorHandler()}var e=this,u,o,s,f;if(!this._session){if(u=n.EmeUtil.createMediaKeys(this.name),!u){n.Log.error(12,this.name+" createMediaKeys failed");f=new n.Failure.External(5242881,this.name+" createMediaKeys failed");this._reportError(f);return}if(n.EmeUtil.setMediaKeys(this._videoElement,u),o=i.substr(i.indexOf("=")+2),s=r.substr(0,r.length-1)+", "+o,this._session=u.createSession(s,t),!this._session){n.Log.error(12,this.name+" createSession failed");f=new n.Failure.External(5242881,this.name+" createSession failed");this._reportError(f);return}n.EmeUtil.listenToKeyMessage(this._session,h);n.EmeUtil.listenKeyError(this._session,c)}},t.prototype._keyMessageHandler=function(n){var t=this,i=new Uint16Array(n.message.buffer),r=String.fromCharCode.apply(null,i),u=n.destinationURL;this._getPlayReadyLicense(r,u).then(function(n){t._active&&t._session&&t._session.update(n)},function(n){t._active&&t._reportError(n)})},t.prototype._keyErrorHandler=function(){if(this._active&&this._session.error){var t="MSMediaKeyError code: "+this._session.error.code+", systemCode: "+n.Common.toHexString(this._session.error.systemCode),i=new n.Failure.External(5242880,t);this._reportError(i)}},t.prototype._getPlayReadyLicense=function(i,r){var u=this;return new Promise(function(f,e){var v=null,c=[],y=new DOMParser,h=y.parseFromString(i,"application/xml"),l,s,a,o;if(h.getElementsByTagName("Challenge")[0])l=h.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue,l&&(v=atob(l));else{n.Log.error(12,"Playready: Can not find Challenge in keyMessage");e(new n.Failure.External(5242886,"No challenge"));return}if(s=h.getElementsByTagName("name"),a=h.getElementsByTagName("value"),s.length!=a.length){n.Log.error(12,"Playready update, invalid header name/value pair in keyMessage");e(new n.Failure.External(5242886,"Invalid headers"));return}for(o=0;o<s.length;o++)c[o]={name:s[o].childNodes[0].nodeValue,value:a[o].childNodes[0].nodeValue};u._authenticationToken&&u._authenticationToken.length>0&&(c[s.length]={name:n.HttpUtil.authorizationHeader,value:u._authenticationToken});t.overrideLicenseAcquisitionUrl&&(n.Log.verbose(12,"overriding license acquisition url: "+r+" with: "+t.overrideLicenseAcquisitionUrl),r=t.overrideLicenseAcquisitionUrl);n.HttpUtil.httpRequest(r,"POST","arraybuffer",c,v).then(function(n){f(new Uint8Array(n))},function(t){var i=new n.Failure.External(5242886,"Http: "+n.Common.toHexString(t));e(i)})})},t.prototype._reportError=function(n){this._errorHandler&&this._errorHandler(n)},t.systemId=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),t}();t.PlayReady=i})(n.KeySystem||(n.KeySystem={}));var t=n.KeySystem}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function i(){this.name="com.widevine.alpha";this.type="Widevine";this._videoElement=null;this._errorHandler=null;this._laUrl="";this._session=null;this._active=!1;this._authenticationToken=""}return Object.defineProperty(i.prototype,"systemId",{get:function(){return i.systemId},enumerable:!0,configurable:!0}),i.prototype.isSupported=function(t,r,u){return t.isEqual(i.systemId)?n.EmeUtil.isTypeSupported(this.name,r,u):new Promise(function(n,t){t();return})},i.prototype.activate=function(n,t,i){this._videoElement=n;this._errorHandler=t;this._authenticationToken=i;this._active=!0},i.prototype.deactivate=function(){this._active&&(this._active=!1,this._session&&(n.EmeUtil.unlistenToMessage(this._session,this._messageHandler),this._session.close(),this._session=null),this._videoElement&&(this._videoElement.src="",this._videoElement.setMediaKeys(null),this._videoElement=null),this._errorHandler=null,this._laUrl="",this._authenticationToken="")},i.prototype.initData=function(t,i,r,u){function s(n){return n.createMediaKeys()}function h(i){if(f._session=i.createSession(),!f._session){n.Log.error(12,f.name+" createSession failed");var r=new n.Failure.External(5242881,f.name+" createSession failed");f._reportError(r);return}n.EmeUtil.listenToMessage(f._session,c);f._session.generateRequest("cenc",t).catch(function(){n.Log.error(12,f.name+" generateRequest failed");var t=new n.Failure.External(5242881,f.name+" generateRequest failed");f._reportError(t)});f._videoElement.setMediaKeys(i).catch(function(){n.Log.error(12,f.name+" setMediaKeys failed");var t=new n.Failure.External(5242881,f.name+" setMediaKeys failed");f._reportError(t)})}function c(n){f._messageHandler(n)}var f=this,e,o;u&&!this._laUrl&&(this._laUrl=u,e=n.EmeUtil.createSupportedKeySystem(this.name,i,r),e.catch(function(){n.Log.error(12,f.name+" createSupportedKeySystem failed");var t=new n.Failure.External(5242882,f.name+" createSupportedKeySystem failed");f._reportError(t)}),o=e.then(s),o.catch(function(){n.Log.error(12,f.name+" createMediaKeys failed");var t=new n.Failure.External(5242882,f.name+" createMediaKeys failed");f._reportError(t)}),o.then(h).catch(function(){n.Log.error(12,f.name+" createKeySession failed");var t=new n.Failure.External(5242882,f.name+" createKeySession failed");f._reportError(t)}))},i.prototype._messageHandler=function(n){var t=this;n.messageType==="license-request"&&this._getWidevineLicense(n.message,this._laUrl).then(function(n){t._active&&t._session&&t._session.update(n)},function(n){t._active&&t._reportError(n)})},i.prototype._getWidevineLicense=function(r,u){var f=this;return new Promise(function(e,o){var s=[];f._authenticationToken&&f._authenticationToken.length>0&&s.push({name:t.WidevineCustomAuthorizationHeader||n.HttpUtil.authorizationHeader,value:f._authenticationToken});i.overrideLicenseAcquisitionUrl&&(n.Log.verbose(12,"overriding license acquisition url: "+u+" with: "+i.overrideLicenseAcquisitionUrl),u=i.overrideLicenseAcquisitionUrl);n.HttpUtil.httpRequest(u,"POST","arraybuffer",s,r).then(function(n){e(new Uint8Array(n))},function(t){var i=new n.Failure.External(5242886,"Http: "+n.Common.toHexString(t));o(i)})})},i.prototype._reportError=function(n){this._errorHandler&&this._errorHandler(n)},i.systemId=new Uint8Array([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]),i}();t.Widevine=i;t.WidevineCustomAuthorizationHeader=""})(n.KeySystem||(n.KeySystem={}));var t=n.KeySystem}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function i(i){function e(n){r._needKeyHandler(n)}function o(n){r._encryptedHandler(n)}var r=this,u,f;this._videoElement=i;this._errorHandler=null;this.matchedKeySystem=null;this._audioContentType=null;this._videoContentType=null;this._psshBoxes=[];this._keySystems={};this._laUrls={};this._authenticationTokens={};this._disposed=!1;u=new t.PlayReady;this.addKeySystem(u);f=new t.Widevine;this.addKeySystem(f);n.EmeUtil.listenToNeedKey(i,e);n.EmeUtil.listenToEncrypted(i,o)}return i.prototype.reset=function(){this.matchedKeySystem&&(this.matchedKeySystem.deactivate(),this.matchedKeySystem=null);this._psshBoxes=[];this._laUrls={};this._errorHandler=null;this._audioContentType=null;this._videoContentType=null;this._authenticationTokens={}},i.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.matchedKeySystem&&(this.matchedKeySystem.deactivate(),this.matchedKeySystem=null),this._psshBoxes=[],this._keySystems={},this._laUrls={},this._videoElement=null,this._errorHandler=null,this._audioContentType=null,this._videoContentType=null,this._authenticationTokens=null)},i.prototype.setup=function(n,t){this._errorHandler=n;this._authenticationTokens=t},i.prototype.setContentTypes=function(n,t){this._audioContentType=n;this._videoContentType=t},i.prototype.addKeySystem=function(t){var i=n.Common.uint8ArrayToHexString(t.systemId);return i&&i.length>0?(this._keySystems[i]&&n.Log.warning(12,"Overwriting "+t.name),this._keySystems[i]=t,t):null},i.prototype.addPsshBoxes=function(n){var t=this;n.forEach(function(n){t._psshBoxes.push(n)})},i.prototype.addLaUrl=function(t,i){var r=n.Common.uint8ArrayToHexString(t);if(!this._keySystems[r]){n.Log.warning(12,"Cannot set license acquisition URL for system ID "+r);return}this._laUrls[r]&&this._laUrls[r]!==i&&n.Log.warning(12,"Overwriting license acquisition URL for "+this._keySystems[r].name);this._laUrls[r]=i},i.prototype._needKeyHandler=function(t){var i=this,r,u;this._disposed||(t.initData&&(r=new DataView(t.initData.buffer),u=n.Mp4Util.GetPsshBoxes(r),this.addPsshBoxes(u)),this._findMatchedKeySystem().then(function(t){var r,u;if(t)for(r=0;r<i._psshBoxes.length;r++)i._psshBoxes[r].systemId.isEqual(t.systemId)&&(u=new Uint8Array(i._psshBoxes[r].serialize()),n.Log.verbose(12,"Sending initData to: "+t.name),t.initData(u,i._audioContentType,i._videoContentType));else i._reportKeySystemNotFound()},function(){i._reportKeySystemNotFound()}))},i.prototype._encryptedHandler=function(t){var i=this,r,u;this._disposed||(t.initData&&(r=new DataView(t.initData),u=n.Mp4Util.GetPsshBoxes(r),this.addPsshBoxes(u)),this._findMatchedKeySystem().then(function(t){var u,r,f;if(t)for(u=n.Common.uint8ArrayToHexString(t.systemId),r=0;r<i._psshBoxes.length;r++)i._psshBoxes[r].systemId.isEqual(t.systemId)&&(f=new Uint8Array(i._psshBoxes[r].serialize()),n.Log.verbose(12,"Sending initData to: "+t.name),t.initData(f,i._audioContentType,i._videoContentType,i._laUrls[u]));else i._reportKeySystemNotFound()},function(){i._reportKeySystemNotFound()}))},i.prototype._findMatchedKeySystem=function(){var t=this;return new Promise(function(i,r){function f(){if(u>=t._psshBoxes.length){r();return}var e=n.Common.uint8ArrayToHexString(t._psshBoxes[u].systemId);t._keySystems[e]?t._keySystems[e].isSupported(t._psshBoxes[u].systemId,t._audioContentType,t._videoContentType).then(function(){t.matchedKeySystem=t._keySystems[e];t.matchedKeySystem.activate(t._videoElement,t._errorHandler,t._authenticationTokens[t.matchedKeySystem.type]);n.Log.verbose(12,"Matched key system found: "+t.matchedKeySystem.name);i(t.matchedKeySystem);return},function(){++u;f()}):(++u,f())}if(t.matchedKeySystem){i(t.matchedKeySystem);return}var u=0;f()})},i.prototype._reportKeySystemNotFound=function(){var t=new n.Failure.External(5242881,"no matching keySystem found");this._errorHandler(t)},i}();t.EmeManager=i})(n.KeySystem||(n.KeySystem={}));var t=n.KeySystem}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var f=function(){function u(){this._disposed=!1;this._bandwidthTracker=null;this._buffer=null;this._downloadRequested=null;this._downloadCompleted=null;this._downloadFailed=null;this._downloadTracker=null;this._eventMgr=new n.Events.Manager(null,!1)}return u.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._bandwidthTracker=null,this._buffer=null,this._downloadRequested=null,this._downloadCompleted=null,this._downloadFailed=null,this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null),this._downloadTracker&&(this._downloadTracker.dispose(),this._downloadTracker=null))},Object.defineProperty(u.prototype,"bufferLevel",{get:function(){return this._disposed||!this._buffer?null:this._buffer.getBufferedAheadOfCurrentTimeInSec()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"perceivedBandwidth",{get:function(){return this._disposed||!this._bandwidthTracker?null:this._bandwidthTracker.perceivedBandwidth()},enumerable:!0,configurable:!0}),u.prototype.updateBuffer=function(n){this._buffer=n},u.prototype.updateBandwidthTracker=function(n){this._bandwidthTracker=n;this._downloadTracker&&this._downloadTracker.dispose();this._downloadTracker=new t.DownloadTracker},u.prototype.getPlaybackBitrate=function(n){return this._disposed||!this._downloadTracker?-1:this._downloadTracker.findBitrate(n)},Object.defineProperty(u.prototype,"downloadRequested",{get:function(){return this._downloadRequested},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"downloadCompleted",{get:function(){return this._downloadCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"downloadFailed",{get:function(){return this._downloadFailed},enumerable:!0,configurable:!0}),u.prototype.dispatchDownloadRequested=function(t){this._downloadRequested=t;this._eventMgr.dispatchEvent(n.BufferDataEventName.downloadrequested)},u.prototype.dispatchDownloadCompleted=function(t,r){if(this._downloadCompleted=new i(t,r),this._eventMgr.dispatchEvent(n.BufferDataEventName.downloadcompleted),this._downloadTracker&&null!=t.mediaTime&&(this._downloadTracker.add(t.mediaTime,t.bitrate),this._buffer.buffered&&this._buffer.buffered.length>0)){var u=this._buffer.buffered.start(0);this._downloadTracker.cleanup(u)}},u.prototype.dispatchDownloadFailed=function(t,i,u){typeof u=="undefined"&&(u="");this._downloadFailed=new r(t,i,u);this._eventMgr.dispatchEvent(n.BufferDataEventName.downloadfailed)},u.prototype.addEventListener=function(n,t,i){this._eventMgr.addHandler(n,t,i)},u.prototype.removeEventListener=function(n,t){this._eventMgr.removeHandler(n,t)},u}(),u,i,r;t.BufferData=f;u=function(){function n(n,t,i,r,u){this._url=n;this._bitrate=t;this._mediaTime=i;this._data=r;this._presentationTimeOffsetInSec=u}return Object.defineProperty(n.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bitrate",{get:function(){return this._bitrate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaTime",{get:function(){return this._mediaTime},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"presentationTimeOffsetInSec",{get:function(){return this._presentationTimeOffsetInSec},enumerable:!0,configurable:!0}),n}();t.MediaDownload=u;i=function(){function n(n,t){this._mediaDownload=n;this._measuredBw=t.bandwidth*1e3;this._bytes=t.responseLengthInBytes;this._downloadTimeMs=t.totalDownloadTimeMs}return Object.defineProperty(n.prototype,"mediaDownload",{get:function(){return this._mediaDownload},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measuredBandwidth",{get:function(){return this._measuredBw},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalBytes",{get:function(){return this._bytes},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalDownloadMs",{get:function(){return this._downloadTimeMs},enumerable:!0,configurable:!0}),n}();t.MediaDownloadCompleted=i;r=function(){function n(n,t,i){this._mediaDownload=n;this._code=t;this._message=i}return Object.defineProperty(n.prototype,"code",{get:function(){return this._code},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaDownload",{get:function(){return this._mediaDownload},enumerable:!0,configurable:!0}),n}();t.MediaDownloadFailed=r})(n.Context||(n.Context={}));var t=n.Context}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._downloads=[]}return t.prototype.dispose=function(){this._downloads=[]},t.prototype.add=function(t,i){var u,r;if(this._downloads.length===0){this._downloads.push({time:t,bitrate:i});return}if(u=this._downloads[this._downloads.length-1],t>u.time){i!=u.bitrate&&this._downloads.push({time:t,bitrate:i});return}r=n.Common.binarySearchTimeline(t,this._downloads,this._compareTime);(-1===r||t>this._downloads[r].time)&&r++;this._downloads.splice(r,this._downloads.length-r);this._downloads.push({time:t,bitrate:i});return},t.prototype.findBitrate=function(t){var i=n.Common.binarySearchTimeline(t,this._downloads,this._compareTime);return i===-1?-1:this._downloads[i].bitrate},t.prototype.cleanup=function(t){if(!(this._downloads.length>0)||!(t<=this._downloads[0].time)){var i=n.Common.binarySearchTimeline(t,this._downloads,this._compareTime);i>0&&this._downloads.splice(0,i)}},t.prototype._compareTime=function(n,t,i){var r=0;return i?(n<t.time?r=-1:n>=i.time&&(r=1),r):t.time<=n?0:-1},t}();t.DownloadTracker=i})(n.Context||(n.Context={}));var t=n.Context}(AzureHtml5JS||(AzureHtml5JS={})),function(n){"use strict";var u=function(){function n(){}return n.volumechange="volumechange",n.ended="ended",n.timeupdate="timeupdate",n.durationchange="durationchange",n.pause="pause",n.play="play",n.playing="playing",n.seeking="seeking",n.seeked="seeked",n.suspend="suspend",n.loadstart="loadstart",n.loadedmetadata="loadedmetadata",n.loadeddata="loadeddata",n.fullscreenchange="fullscreenchange",n.waiting="waiting",n.canplaythrough="canplaythrough",n.error="error",n.playbackstalled="playbackstalled",n.downloadbitratechanged="downloadbitratechanged",n.playbackbitratechanged="playbackbitratechanged",n}(),t,i,r,f;n.EventName=u;t=function(){function n(){}return n.trackselected="trackselected",n}();n.StreamEventName=t;i=function(){function n(){}return n.streamselected="streamselected",n.streamindexinvalid="streamindexinvalid",n.streamselectnotsupported="streamselectnotsupported",n}();n.StreamListEventName=i;r=function(){function n(){}return n.downloadrequested="downloadrequested",n.downloadcompleted="downloadcompleted",n.downloadfailed="downloadfailed",n}();n.BufferDataEventName=r,function(n){n[n.abortedErrStart=1048576]="abortedErrStart";n[n.abortedErrUnknown=1048576]="abortedErrUnknown";n[n.abortedErrNotImplemented=1048577]="abortedErrNotImplemented";n[n.abortedErrHttpMixedContentBlocked=1048578]="abortedErrHttpMixedContentBlocked";n[n.abortedErrEnd=2097151]="abortedErrEnd";n[n.networkErrStart=2097152]="networkErrStart";n[n.networkErrUnknown=2097152]="networkErrUnknown";n[n.networkErrHttpResponseBegin=2097552]="networkErrHttpResponseBegin";n[n.networkErrHttpBadUrlFormat=2097552]="networkErrHttpBadUrlFormat";n[n.networkErrHttpUserAuthRequired=2097553]="networkErrHttpUserAuthRequired";n[n.networkErrHttpUserForbidden=2097555]="networkErrHttpUserForbidden";n[n.networkErrHttpUrlNotFound=2097556]="networkErrHttpUrlNotFound";n[n.networkErrHttpNotAllowed=2097557]="networkErrHttpNotAllowed";n[n.networkErrHttpGone=2097562]="networkErrHttpGone";n[n.networkErrHttpPreconditionFailed=2097564]="networkErrHttpPreconditionFailed";n[n.networkErrHttpInternalServerFailure=2097652]="networkErrHttpInternalServerFailure";n[n.networkErrHttpBadGateway=2097654]="networkErrHttpBadGateway";n[n.networkErrHttpServiceUnavailable=2097655]="networkErrHttpServiceUnavailable";n[n.networkErrHttpGatewayTimeout=2097656]="networkErrHttpGatewayTimeout";n[n.networkErrHttpResponseEnd=2097751]="networkErrHttpResponseEnd";n[n.networkErrTimeout=2097752]="networkErrTimeout";n[n.networkErrEnd=3145727]="networkErrEnd";n[n.decodeErrStart=3145728]="decodeErrStart";n[n.decodeErrUnknown=3145728]="decodeErrUnknown";n[n.decodeErrEnd=4194303]="decodeErrEnd";n[n.srcErrStart=4194304]="srcErrStart";n[n.srcErrUnknown=4194304]="srcErrUnknown";n[n.srcErrParsePresentation=4194305]="srcErrParsePresentation";n[n.srcErrParseSegment=4194306]="srcErrParseSegment";n[n.srcErrUnsupportedPresentation=4194307]="srcErrUnsupportedPresentation";n[n.srcErrInvalidSegment=4194308]="srcErrInvalidSegment";n[n.srcErrEnd=5242879]="srcErrEnd";n[n.encryptErrStart=5242880]="encryptErrStart";n[n.encryptErrUnknown=5242880]="encryptErrUnknown";n[n.encryptErrDecrypterNotFound=5242881]="encryptErrDecrypterNotFound";n[n.encryptErrDecrypterInit=5242882]="encryptErrDecrypterInit";n[n.encryptErrDecrypterNotSupported=5242883]="encryptErrDecrypterNotSupported";n[n.encryptErrKeyAcquire=5242884]="encryptErrKeyAcquire";n[n.encryptErrDecryption=5242885]="encryptErrDecryption";n[n.encryptErrLicenseAcquire=5242886]="encryptErrLicenseAcquire";n[n.encryptErrCertAcquire=5242887]="encryptErrCertAcquire";n[n.encryptErrEnd=6291455]="encryptErrEnd"}(n.ErrorCode||(n.ErrorCode={}));f=n.ErrorCode}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var t,i;(function(n){n[n.video=0]="video";n[n.audio=1]="audio";n[n.text=2]="text"})(n.StreamType||(n.StreamType={}));t=n.StreamType,function(n){n[n.playReadySpecificData=0]="playReadySpecificData";n[n.widevineSpecificData=1]="widevineSpecificData";n[n.seaEncryptionSystemId=2]="seaEncryptionSystemId";n[n.seaKeyUri=3]="seaKeyUri";n[n.seaIV=4]="seaIV"}(n.ContentProtectionDataType||(n.ContentProtectionDataType={}));i=n.ContentProtectionDataType})(n.Presentation||(n.Presentation={}));var t=n.Presentation}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";(function(n){n[n.closed=0]="closed";n[n.open=1]="open";n[n.ended=2]="ended"})(n.ReadyState||(n.ReadyState={}));var t=n.ReadyState})(n.VideoElementAdapter||(n.VideoElementAdapter={}));var t=n.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";(function(n){n[n.presentation=0]="presentation";n[n.media=1]="media";n[n.max=2]="max"})(n.Type||(n.Type={}));var t=n.Type})(n.Workflow||(n.Workflow={}));var t=n.Workflow}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var r=function(){function t(t,i){this._bandwidthSettings=t;this._decryptionTracker=i;this._averageCalc=new n.Util.AverageCalculator(this._bandwidthSettings.maxBandwidthHistoryCount)}return Object.defineProperty(t.prototype,"averageBandwidthInKbps",{get:function(){return this._averageCalc.average},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latestInKbps",{get:function(){return this._averageCalc.latest},enumerable:!0,configurable:!0}),t.prototype.perceivedBandwidth=function(){var n=this._averageCalc.average*1e3;return n*this._bandwidthSettings.bandwidthUsabilityPercent},t.prototype.updateBandwidthInfo=function(t){if(t.responseLengthInBytes<this._bandwidthSettings.bandwidthDataSizeThresholdInBytes){n.Log.verbose(5,"Ignoring Bandwidth data as data size :"+t.responseLengthInBytes+" which is less than the limit :"+this._bandwidthSettings.bandwidthDataSizeThresholdInBytes);return}if(this._averageCalc.average===0&&t.bandwidth>this._bandwidthSettings.bandwidthEstimationMaxKbps){n.Log.verbose(5,"Ignoring Bandwidth estimation :"+Math.floor(t.bandwidth)+" which is greater than the max configured :"+this._bandwidthSettings.bandwidthEstimationMaxKbps);return}if(this._averageCalc.average&&t.bandwidth>this._averageCalc.average*this._bandwidthSettings.bandwidthOutlierFactor){n.Log.verbose(5,"Ignoring Bandwidth data outlier :"+Math.floor(t.bandwidth)+" which is too far from the average :"+Math.floor(this._averageCalc.average));return}var i=t.totalDownloadTimeMs,r=t.bandwidth;this._averageCalc.addValue(r);n.Log.verbose(5,"updateBandWidthInfo -  currentBw: "+Math.floor(this._averageCalc.latest*1e3)+" averageBw: "+Math.floor(this._averageCalc.average*1e3)+" size: "+t.responseLengthInBytes+" time-taken: "+i)},t.prototype.reportHeuristicsData=function(t,i){var u=this.perceivedBandwidth(),f=this._decryptionTracker?this._decryptionTracker.averageDecryptionSpeed:Infinity,r,e,o,s;if(n.Log.verbose(5,"averageBW reporting is : "+Math.round(u)+" decryptionBW is : "+Math.round(f)),!i)throw new Error("reportHeuristicsData failed, invalid chunkDuration");for(r=0;r<t.tracksData.length;r++)t.tracksData[r].selectable&&(e=t.tracksData[r].trackInfo.bitrate*i,u?(o=e/u,s=f?e/f:0,t.tracksData[r].dataRetrieverEstimationInSec=o+s):t.tracksData[r].dataRetrieverEstimationInSec=Infinity)},t}(),i;t.BandwidthTracker=r;i=function(){function t(){this.requestStartTimeInMS=(new Date).getTime();this.responseStartTimeInMS=null;this.responseEndTimeInMS=null;this.responseLengthInBytes=0}return Object.defineProperty(t.prototype,"totalDownloadTimeMs",{get:function(){return n.assert(this.responseEndTimeInMS>=this.requestStartTimeInMS,"BandwidthInfo.totalDownloadTimeMs: unexpected values:"+this.responseEndTimeInMS+" should not be < "+this.requestStartTimeInMS),this.responseEndTimeInMS-this.requestStartTimeInMS||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latencyTimeMs",{get:function(){return n.assert(this.responseStartTimeInMS>=this.requestStartTimeInMS,"BandwidthInfo.latencyTimeMs: unexpected values:"+this.responseStartTimeInMS+" should not be < "+this.requestStartTimeInMS),this.responseStartTimeInMS-this.requestStartTimeInMS||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bandwidth",{get:function(){return n.assert(this.totalDownloadTimeMs>0,"BandwidthInfo.bandwidth: unexpected value:"+this.totalDownloadTimeMs+" should be > 0"),this.responseLengthInBytes*8/this.totalDownloadTimeMs},enumerable:!0,configurable:!0}),t}();t.BandwidthInfo=i})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var r=function(){function t(){this._moduleId="DashMediaSegmentParser"}return t.prototype.dispose=function(){},t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.dataRetrieved,this.onGetData,this)},t.prototype.onGetData=function(t){function r(){var a,h,e,c,l,s,o,r,f,v;if(r=t.requestedStream.streamingInfo.currentSegment,f=t.urlsToRetrieve.findFirst(function(n){return n.requestType===1}),!f||!f.mediaData)throw new Error(f.url+": no media segment data found");if(a=new DataView(f.mediaData),h=n.Mp4Util.GetBoxByType(a,"moof"),!h)return new i(4194306,"moof not found");if(e=n.Mp4Util.GetBoxByType(h.data,"traf"),!e)return new i(4194306,"traf not found");if(c=n.Mp4Util.GetTfhdBox(e.data),!c)return new i(4194306,"tfhd not found");if(l=n.Mp4Util.GetTrunBox(e.data),!l)return new i(4194306,"trun not found");if(s=n.Mp4Util.GetTfdtBox(e.data),!s)return new i(4194306,"tfdt not found");if(n.Common.diffTimes(s.baseMediaDecodeTime,r.segmentInfo.mediaTimestamp))throw new Error("Segment mismatch, requested: "+r.segmentInfo.mediaTimestamp+" got: "+s.baseMediaDecodeTime);return(o=u(c,l),0===o)?new i(4194308,"failed to derive segment duration"):(n.Log.verbose(10,"Segment duration: "+o),v=t.requestedStream.segments.updateSegmentDuration(r.segmentInfo.presTimeInSec,o),!v)?new i(4194308,"failed to update segment duration in container"):(r.segmentInfo.mediaDuration=o,f.durationInSec=r.segmentInfo.durationInSec,null)}function u(t,i){var r=0;return i.flags&n.Mp4Util.TrunBox.flags_sampleDurationPresent?i.sampleInfoArray.forEach(function(n){r+=n.sampleDuration}):t.defaultSampleDuration?r=t.defaultSampleDuration*i.sampleCount:n.Log.warning(10,"Cannot calculate segment duration from 'tfhd' and 'trun'"),r}function f(){var r=t.requestedStream,u=r.streamingInfo.currentSegment,i=u.segmentInfo,f=r.segments;i.mediaDuration&&f.addMediaSegmentInfo(i.index+1,n.Timestamp.add(i.mediaTimestampStr,i.mediaDuration),NaN,i.presentationOffset,i.timescale)}return t.currentModuleId=this._moduleId,new Promise(function(i,u){var o,e;if(o=t.requestedStream.streamingInfo.currentSegment,!t.sessionContext.commonPresentation.isLive||t.sessionContext.commonPresentation.minimumUpdatePeriodInSec||o.next){i();return}if(!o.segmentInfo.mediaDuration&&(e=r(),e)){n.Failure.attachFailureToRequest(t,t.currentModuleId,e.errorCode,e.message);u();return}f();i()})},t}(),i;t.Parser=r;i=function(){function n(n,t){this.errorCode=n;this.message=t}return n}()})(n.DashMediaSegment||(n.DashMediaSegment={}));var t=n.DashMediaSegment}(AzureHtml5JS||(AzureHtml5JS={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";function a(n){var t;if("schemeIdUri"in n)t=n.schemeIdUri;else throw new Error("ContentProtection missing @schemeIdUri");return t.toLowerCase()===r.schemeIdUri?new r(n):t.toLowerCase()===u.schemeIdUri?new u(n):t.toLowerCase()===f.schemeIdUri?new f(n):new c(n)}var l=function(){function t(){this._moduleId="DashPresentationParser"}return t.prototype.dispose=function(){},t.prototype.init=function(n){var t=n.workflows[0];t.addHandler(t.stepEvents.dataRetrieved,this.onParse,this)},t.prototype.onParse=function(i){return i.currentModuleId=this._moduleId,new Promise(function(r,u){var f,s,c,l,o,h;if(!i.urlsToRetrieve[0].presentationData)throw new Error(i.urlsToRetrieve[0].url+": no presentation data found");if(f=i.sessionContext,h=t._getPublishTime(i.urlsToRetrieve[0].presentationData),h&&f.commonPresentation&&f.commonPresentation.publishTime&&f.commonPresentation.publishTime.getTime()>=Date.parse(h)){n.Log.verbose(4,"skipping MPD parse, not newer than last parsed: "+i.urlsToRetrieve[0].url);r();return}if(s=f.presentationUrl,c=s.lastIndexOf("/"),l=s.slice(0,c+1),o=new e(i.urlsToRetrieve[0].presentationData,l),!o||!o.periods){n.Failure.attachFailureToRequest(i,i.currentModuleId,4194305,i.urlsToRetrieve[0].url+": failed to generate DASH presentation");u("failed to generate DASH presentation");return}if(!t._validPresentation(o)){n.Failure.attachFailureToRequest(i,i.currentModuleId,4194307,i.urlsToRetrieve[0].url+": unsupported presentation");u("unsupported presentation");return}f.updatePresentation(o);n.Log.verbose(4,"MPD updated");r()})},t._validPresentation=function(t){return t.periods.length===0||t.periods.length>1?(n.Log.error(4,"invalid period count: "+(t.periods?t.periods.length.toString():"undefined")),!1):t.periods[0].streams?!0:(n.Log.error(4,"no streams found"),!1)},t._getPublishTime=function(n){var t,i,r="";return n&&(t=n.match(/<MPD[^>]*>/i),t&&t.length>0&&(i=t[0].match(/publishTime="[^"]*/i),i&&i.length>0&&(r=i[0].slice(13)))),r},t}(),e,o,s,h,i,r,u,f,c;t.Parser=l;e=function(){function t(n,t){var u=this,i,r=[];if(this._lastRetrievalTime=new Date,i=Dash.dependencies.DashParser(),i.debug=new y,i.errHandler=new p,this._manifest=i.parse(n,t),this._manifest){if("Period_asArray"in this._manifest&&this._manifest.Period_asArray.length>0&&this._manifest.Period_asArray.forEach(function(n){r.push(new o(n,u.publishTime,u.isLive))}),this._periods=r,r.length>1)throw new Error("Error parsing MPD: multiple periods not supported");"dynamic"===this._manifest.type&&0===this._manifest.minimumUpdatePeriod&&(this._timeShiftTracker=new v(r,this._manifest.timeShiftBufferDepth))}}return Object.defineProperty(t.prototype,"segmentBoundaries",{get:function(){var i=[],n,t;if(this.periods&&this.periods.length>0&&this.periods[0].streams&&this.periods[0].streams.length>0)for(n=0;n<this.periods[0].streams.length;n++)if(this.periods[0].streams[n].type===0&&this.periods[0].streams[n].segments){for(t=this.periods[0].streams[n].segments.first;t;)i.push(t.segmentInfo.presTimeInSec),t=t.next;break}return i},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._periods&&(this._periods.forEach(function(n){n.dispose()}),this._periods=[]);this._manifest=null;this._lastRetrievalTime=null},Object.defineProperty(t.prototype,"startTime",{get:function(){var n=null;return"availabilityStartTime"in this._manifest&&(n=new Date(this._manifest.availabilityStartTime)),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publishTime",{get:function(){return"publishTime"in this._manifest?new Date(this._manifest.publishTime):this._lastRetrievalTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLive",{get:function(){return this._manifest.type==="dynamic"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumUpdatePeriodInSec",{get:function(){return this._manifest.minimumUpdatePeriod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationInSec",{get:function(){var n=0;return"mediaPresentationDuration"in this._manifest&&(n=this._manifest.mediaPresentationDuration),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeShiftBufferDepth",{get:function(){return this._manifest.timeShiftBufferDepth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playableWindow",{get:function(){return new n.Common.TimeRange(this._playWindowLeftEdge(),this._playWindowLiveEdge())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){var n=0;return this._periods.forEach(function(t){n=Math.max(n,t.maxSegmentDuration)}),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"periods",{get:function(){return this._periods},enumerable:!0,configurable:!0}),t.prototype.toJson=function(){return this._manifest},t.prototype.transferPresentationState=function(t){var e=t,i=[],r=[],f,u;for(this._manifest=e._manifest,this._lastRetrievalTime=e._lastRetrievalTime,this._timeShiftTracker=e._timeShiftTracker,this.periods.forEach(function(n){i.push(n)}),e.periods.forEach(function(n){r.push(n)}),f=0;f<r.length;f++)for(u=0;u<i.length;u++)if(i[u]&&r[f].startInSec===i[u].startInSec){i[u].transferPeriodState(r[f]);r[f]=null;i[u]=null;break}i=i.filter(function(n){return!!n});r=r.filter(function(n){return!!n});i.length>0&&n.Log.verbose(4,"Periods removed from MPD: "+i.length);r.length>0&&n.Log.verbose(4,"Periods added to MPD: "+r.length)},t.prototype.adjustPlayableWindow=function(n){this._timeShiftTracker&&this._timeShiftTracker.adjust(n)},t.prototype._playWindowLeftEdge=function(){var t=0,n;return this._timeShiftTracker?this._timeShiftTracker.leftEdge:!this._periods||!this._periods.length?0:(n=this._periods[0].streams,!n||!n.length)?0:(n.forEach(function(n){n.type!==2&&n.segments&&n.segments.first&&(t=Math.max(t,n.segments.first.segmentInfo.presTimeInSec))}),t)},t.prototype._playWindowLiveEdge=function(){var t=Infinity,n;return this._timeShiftTracker?this._timeShiftTracker.liveEdge:!this._periods||!this._periods.length?0:(n=this._periods[0].streams,!n||!n.length)?0:(n.forEach(function(n){if(n.type!==2&&n.segments&&n.segments.last){var i=n.segments.last.segmentInfo;t=Math.min(t,i.presTimeInSec+(i.durationInSec||0))}}),t)},t}();t.Mpd=e;o=function(){function t(n,t,i){var u=this,r=[];this.startInSec="start"in n?n.start:0;"AdaptationSet_asArray"in n&&n.AdaptationSet_asArray.length>0&&n.AdaptationSet_asArray.forEach(function(n){r.push(new s(n,t,i,u.startInSec))});this._streams=r}return Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){var n=0;return this._streams.forEach(function(t){n=Math.max(n,t.maxSegmentDuration)}),n},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._streams&&(this._streams.forEach(function(n){n.dispose()}),this._streams=[])},t.prototype.transferPeriodState=function(t){var i=[],r=[],f,u;for(this.streams.forEach(function(n){i.push(n)}),t.streams.forEach(function(n){r.push(n)}),f=0;f<r.length;f++)for(u=0;u<i.length;u++)if(i[u]&&r[f].id===i[u].id){i[u].transferStreamState(r[f]);r[f]=null;i[u]=null;break}i=i.filter(function(n){return!!n});r=r.filter(function(n){return!!n});i.length>0&&n.Log.verbose(4,"Adaptation Sets removed from period: "+i.length);r.length>0&&n.Log.verbose(4,"Adaptation Sets added to period: "+r.length)},t}();t.Period=o;s=function(){function t(t,i,r,u){var b=[],k=[],s,e,o,v,y,p,c,f,w,l,d;if(this._adaptationSet=t,this.streamingInfo=new n.Presentation.MediaStreamStreamingInfo,"SegmentTemplate"in t&&(this._segmentTemplate=t.SegmentTemplate,"SegmentTimeline"in this._segmentTemplate&&(s=this._segmentTemplate.SegmentTimeline,e=this._segmentTemplate.timescale?this._segmentTemplate.timescale:1,o=u*e,o-=this._segmentTemplate.presentationTimeOffset?this._segmentTemplate.presentationTimeOffset:0,this._normalizedPtoInSec=o/e,v=new n.Presentation.MediaSegmentInfoContainer(e,o,i,r),"S_asArray"in s))){for(y="0",p=this._segmentTemplate.startNumber?this._segmentTemplate.startNumber:0,c=0;c<s.S_asArray.length;c++)f=s.S_asArray[c],w="t"in f?f.t_str:y,l="r"in f?f.r:0,d=new n.Presentation.SegmentRunEntry(p,w,f.d,o,e,l),v.addMediaSegmentRun(d),p+=l+1,y=n.Timestamp.add(w,f.d*(l+1));this.segments=v}"Representation"in t&&t.Representation_asArray.forEach(function(n){b.push(new h(n))});this._tracks=b.sort(function(n,t){return n.bitrate-t.bitrate});"ContentProtection"in t&&t.ContentProtection_asArray.forEach(function(n){k.push(a(n))});this._contentProtections=k}return t.prototype.dispose=function(){this._tracks&&(this._tracks.forEach(function(n){n.dispose()}),this._tracks=[]);this._contentProtections&&(this._contentProtections.forEach(function(n){n.dispose()}),this._contentProtections=[]);this.segments&&(this.segments.dispose(),this.segments=null);this.streamingInfo&&(this.streamingInfo.dispose(),this.streamingInfo=null);this._adaptationSet=null;this._segmentTemplate=null},Object.defineProperty(t.prototype,"codec",{get:function(){var n=this._adaptationSet;return n.mimeType+';codecs="'+n.codecs+'"'},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){var t;switch(this._adaptationSet.contentType){case"video":t=0;break;case"audio":t=1;break;default:n.Log.error(4,"Stream type not supported: "+this._adaptationSet.contentType)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){var n=null;return"id"in this._adaptationSet?n=this._adaptationSet.id.toString():(n=this._adaptationSet.codecs,"lang"in this._adaptationSet&&(n+=this._adaptationSet.lang)),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var n=null;return"lang"in this._adaptationSet&&(n=this._adaptationSet.lang),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initUrlTemplate",{get:function(){var n=null;return"initialization"in this._segmentTemplate&&(n=this._adaptationSet.BaseURL+this._segmentTemplate.initialization),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediaUrlTemplate",{get:function(){var n=null;return"media"in this._segmentTemplate&&(n=this._adaptationSet.BaseURL+this._segmentTemplate.media),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"presentationTimeOffsetInSec",{get:function(){return this._normalizedPtoInSec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tracks",{get:function(){return this._tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentProtections",{get:function(){return this._contentProtections},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){return this.segments.maxSegmentDuration},enumerable:!0,configurable:!0}),t.prototype.transferStreamState=function(t){var i=[],r=[],f,u;for(this.tracks.forEach(function(n){i.push(n)}),t.tracks.forEach(function(n){r.push(n)}),f=0;f<r.length;f++)for(u=0;u<i.length;u++)if(i[u]&&r[f].id===i[u].id){r[f]=null;i[u]=null;break}i=i.filter(function(n){return!!n});r=r.filter(function(n){return!!n});i.length>0&&n.Log.verbose(4,"Representations removed from MPD: "+i.length);r.length>0&&n.Log.verbose(4,"Representations added to MPD: "+r.length);this.segments.update(t.segments)},t}();t.AdaptationSet=s;h=function(){function t(t){if("id"in t)this._id=t.id;else throw new Error("Representation missing @id");if("bandwidth"in t)this._bitrate=t.bandwidth;else throw new Error("Representation missing @bandwidth");this._height=t.height;this._width=t.width;this.streamingInfo=new n.Presentation.MediaTrackStreamingInfo}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitrate",{get:function(){return this._bitrate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this.streamingInfo.selectable},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){},t}();t.Representation=h;i=function(){function n(n){if("schemeIdUri"in n)this.schemeIdUri=n.schemeIdUri;else throw new Error("ContentProtection missing @schemeIdUri");"value_str"in n?this._value=n.value_str:"value"in n&&(this._value=n.value);"id"in n&&(this._id=n.id)}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){},n}();t.BaseContentProtection=i;r=function(n){function t(t){n.call(this,t);"pro"in t&&(this._specificData=t.pro.__text)}return __extends(t,n),t.prototype.data=function(n){return 0===n?this._specificData:null},t.prototype.dispose=function(){},t.schemeIdUri="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",t}(i);t.PlayReadyContentProtection=r;u=function(n){function t(t){n.call(this,t);"pssh"in t&&(this._specificData=t.pssh.__text);"laurl"in t&&(this._laUrl=t.laurl.licenseUrl)}return __extends(t,n),Object.defineProperty(t.prototype,"laUrl",{get:function(){return this._laUrl},enumerable:!0,configurable:!0}),t.prototype.data=function(n){return 1===n?this._specificData:null},t.prototype.dispose=function(){},t.schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t}(i);t.WidevineContentProtection=u;f=function(n){function t(t){if(n.call(this,t),"SegmentEncryption"in t&&(this._seaEncryptionSystemId=t.SegmentEncryption.schemeIdUri,"CryptoPeriod"in t)){var i=t.CryptoPeriod;"keyUriTemplate"in i&&(this._keyUri=i.keyUriTemplate);"IV"in i&&(this._iv=i.IV)}}return __extends(t,n),t.prototype.data=function(n){switch(n){case 2:return this._seaEncryptionSystemId;case 3:return this._keyUri;case 4:return this._iv;default:return null}},t.prototype.dispose=function(){},t.schemeIdUri="urn:mpeg:dash:sea:2012",t}(i);t.SegmentEncryptionContentProtection=f;c=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.data=function(){return null},t.prototype.dispose=function(){},t}(i);t.GenericContentProtection=c;var v=function(){function t(t,i){var f,r=0,u=Infinity;t.length&&(f=t[0].streams,f&&f.length)&&(f.forEach(function(n){n.type!==2&&n.segments&&n.segments.first&&n.segments.last&&(r=Math.max(r,n.segments.first.segmentInfo.presTimeInSec),u=Math.min(u,n.segments.last.segmentInfo.presTimeInSec+n.segments.last.segmentInfo.durationInSec))}),n.Log.verbose(4,"TimeShiftBufferTracker: leftEdge: "+r+" liveEdge: "+u+" duration: "+(u-r)),this._dvrWindowLenInSec=i?i:Infinity,this._leftEdgeReferenceInPresentation=r,this._liveEdgeReferenceInPresentation=u,this._liveEdgeReferenceLocalTime=Date.now())}return Object.defineProperty(t.prototype,"liveEdge",{get:function(){var n=(Date.now()-this._liveEdgeReferenceLocalTime)/1e3;return this._liveEdgeReferenceInPresentation+n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftEdge",{get:function(){var t=(Date.now()-this._liveEdgeReferenceLocalTime)/1e3,n=this._liveEdgeReferenceInPresentation+t;return n-this._leftEdgeReferenceInPresentation<this._dvrWindowLenInSec?this._leftEdgeReferenceInPresentation:n-this._dvrWindowLenInSec},enumerable:!0,configurable:!0}),t.prototype.adjust=function(t){var i=this._liveEdgeReferenceInPresentation+t;if(i<=0){n.Log.warning(4,"TimeShiftBufferTracker error, ignoring invalid adjustment: "+t);return}n.Log.verbose(4,"Adjusting TimeShiftBufferTracker: "+t);this._liveEdgeReferenceInPresentation=i},t}(),y=function(){function t(){this.log=function(t){n.Log.verbose(4,t)}}return t}(),p=function(){function t(){this.manifestError=function(t){n.Log.error(4,t)}}return t}()})(n.DashPresentation||(n.DashPresentation={}));var t=n.DashPresentation}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="DashUrlFormatter"}return t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.requestSend,this.onUrlFormat,this)},t.prototype.dispose=function(){},t.prototype.onUrlFormat=function(t){return t.currentModuleId=this._moduleId,new Promise(function(i){var f,r,u,e,o,h,c,s,l,a;if(!t.selectedTrack)throw new Error("Selected Track not set");if(f=t.requestedStream.id,!f)throw new Error("stream id not set");if(r=t.selectedTrack.bitrate,r===null||r===undefined)throw new Error("incorrect bitrate");if(u=t.requestedStream.streamingInfo.currentSegment,!u)throw new Error("current segment not selected.");if(e=u.segmentInfo.presTimeInSec,t.requestedStream.streamingInfo.fetchInitSegment){if(o=t.requestedStream.initUrlTemplate,!o)throw new Error("initialization url template is not set for the stream");h=n.Util.UrlFormatter.FormatDashInitUrl(o,r.toString());t.requestedStream.streamingInfo.fetchInitSegment=!1;c=new n.Context.UrlRequest(h,2,0,f,r,e);t.urlsToRetrieve.push(c)}if(s=t.requestedStream.mediaUrlTemplate,!s)throw new Error("media url template is not set for the stream");l=u.segmentInfo.mediaTimestampStr;a=n.Util.UrlFormatter.FormatDashMediaUrl(s,r.toString(),l);t.urlsToRetrieve.push(new n.Context.UrlRequest(a,1,0,f,r,e,u.segmentInfo.durationInSec));i()})},t}();t.DashUrlFormatter=i})(n.UrlBuilder||(n.UrlBuilder={}));var t=n.UrlBuilder}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._averageCalc=new n.Util.AverageCalculator(t._maxHistoryCount)}return Object.defineProperty(t.prototype,"averageDecryptionSpeed",{get:function(){return this._averageCalc.average},enumerable:!0,configurable:!0}),t.prototype.updateDecryptionSpeedInfo=function(n,t){var i=8*n/t;this._averageCalc.addValue(i)},t._maxHistoryCount=3,t}();t.DecryptionTracker=i})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="heuristics.Engine";this._disposed=!1}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.requestSend,this.onGetIndex,this)},t.prototype.onGetIndex=function(t){function u(){t.selectedTrack!==t.requestedStream.streamingInfo.lastDownloadedTrack&&(t.requestedStream.streamingInfo.fetchInitSegment=!0)}function f(n){if(!n)throw new Error("findHighestTrack failed, invalid timeEstimationThresholdInSec");for(var i=t.heuristicData.tracksData.length-1;i>=0;i--)if(t.heuristicData.tracksData[i].selectable&&t.heuristicData.tracksData[i].dataRetrieverEstimationInSec<n)return t.heuristicData.tracksData[i].trackInfo;return null}var i=this,r;return n.Log.verbose(8,"OnGetIndex"),t.currentModuleId=this._moduleId,r=this,new Promise(function(r,e){function s(){u();r()}var c,l,h,a,v,o;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);e("object is already disposed.");return}if(t.selectedTrack){s();return}if(t.requestedStream.type!==0){t.selectedTrack=t.requestedStream.tracks[0];s();return}if(c=t.heuristicData.tracksData.findFirst(function(n){return n.selectable===!0}),c)t.selectedTrack=c.trackInfo;else{t.selectedTrack=t.heuristicData.tracksData[0].trackInfo;s();return}if(l=t.requestedStream.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec(),h=5,!t.requestedStream.streamingInfo.currentSegment){s();return}h=n.StreamUtil.getSegmentDuration(t);a=t.sessionContext.maxBufferInSec()*t.sessionContext.heuristicSettings.vodStableBufferLevelPercent;v=t.sessionContext.maxBufferInSec()*t.sessionContext.heuristicSettings.vodDowngradeBufferLevelPercent;l<v&&!t.sessionContext.videoTag.paused&&(h*=t.sessionContext.heuristicSettings.belowDowngradeBufferLevelDownloadTimeFactor);o=f(h);(!o||l>a&&o.bitrate<t.requestedStream.streamingInfo.lastDownloadedTrack.bitrate)&&t.heuristicData.tracksData.findFirst(function(n){return n.trackInfo===t.requestedStream.streamingInfo.lastDownloadedTrack&&n.selectable})&&(o=t.requestedStream.streamingInfo.lastDownloadedTrack);o&&(t.selectedTrack=o);s()})},t}();t.Engine=i})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="stepRule";this._disposed=!1;this._currentTrackSegmentCount=0;this._previousTrackSelected=null;this._currentSelectedVideoStream=null}return t.prototype.dispose=function(){this._disposed=!0;this._previousTrackSelected=null;this._currentSelectedVideoStream=null},t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onRunStepRule,this)},t.prototype.onRunStepRule=function(t){var r=this,i;return n.Log.verbose(8,"onRunStepRule"),t.currentModuleId=this._moduleId,i=this,new Promise(function(u,f){var e;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);f("object is already disposed.");return}if(t.selectedTrack||t.requestedStream.streamingInfo.lastDownloadedTrack===null||t.requestedStream.type!==0){u();return}t.requestedStream!==r._currentSelectedVideoStream&&(i._currentSelectedVideoStream=t.requestedStream,i._previousTrackSelected=null);t.requestedStream.streamingInfo.lastDownloadedTrack===i._previousTrackSelected?i._currentTrackSegmentCount++:(i._previousTrackSelected=t.requestedStream.streamingInfo.lastDownloadedTrack,i._currentTrackSegmentCount=1);var c=i._currentTrackSegmentCount>=t.sessionContext.heuristicSettings.stepRule.minSegmentsBeforeDowngrade,l=i._currentTrackSegmentCount>=t.sessionContext.heuristicSettings.stepRule.minSegmentsBeforeUpgrade,o=t.requestedStream.tracks.indexOf(i._previousTrackSelected),s=o,h=o;for(c&&t.sessionContext.heuristicSettings.stepRule.maxStepDownInQuality>0&&(s=Math.max(0,o-t.sessionContext.heuristicSettings.stepRule.maxStepDownInQuality)),l&&t.sessionContext.heuristicSettings.stepRule.maxStepUpInQuality>0&&(h=Math.min(t.heuristicData.tracksData.length-1,o+t.sessionContext.heuristicSettings.stepRule.maxStepUpInQuality)),e=0;e<t.heuristicData.tracksData.length;e++)(e>h||e<s)&&(t.heuristicData.tracksData[e].selectable=!1);u()})},t}();t.StepRule=i})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="windowSizeRule";this._disposed=!1;this._windowHeight=0;this._windowWidth=0;this._highestTrackIndexAllowed=0;this._currentSelectedVideoStream=null}return t.prototype.dispose=function(){this._disposed=!0;this._currentSelectedVideoStream=null},t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onRunWindowSizeRule,this)},t.prototype.onRunWindowSizeRule=function(t){n.Log.verbose(8,"onRunWindowSizeRule");t.currentModuleId=this._moduleId;var r=!1,i=this;return new Promise(function(u,f){var s,h,e,c,o;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);f("object is already disposed.");return}if(t.selectedTrack||!t.sessionContext.heuristicSettings.windowSizeHeuristicsEnabled||t.requestedStream.type!==0){u();return}if(t.requestedStream!==i._currentSelectedVideoStream&&(i._currentSelectedVideoStream=t.requestedStream,i._highestTrackIndexAllowed=0),s=Math.max(t.sessionContext.videoTag.scrollWidth,t.sessionContext.videoTag.width),h=Math.max(t.sessionContext.videoTag.scrollHeight,t.sessionContext.videoTag.height),h===0||s===0){n.Log.warning(8,"Ignoring window size heuristic rule, as one of the window dimensions is 0.");u();return}for((i._windowWidth!==s||i._windowHeight!==h)&&((i._windowWidth<s||i._windowHeight<h)&&(r=!0),i._windowWidth=s,i._windowHeight=h,i._highestTrackIndexAllowed=0),e=t.heuristicData.tracksData,c=!1,o=i._highestTrackIndexAllowed;o<e.length;o++)e[o].selectable&&e[o].trackInfo.width>s&&e[o].trackInfo.height>h&&(c?e[o].selectable=!1:(c=!0,i._highestTrackIndexAllowed=o));c||(i._highestTrackIndexAllowed=e.length-1);r&&t.requestedStream.streamingInfo.lastDownloadedTrack&&e[i._highestTrackIndexAllowed].trackInfo.bitrate>t.requestedStream.streamingInfo.lastDownloadedTrack.bitrate&&t.sessionContext.eventMgr.dispatchEvent(n.InternalEventName.flushvideo);u()})},t}();t.WindowSizeRule=i})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i,r,u;(function(n){n[n.success=200]="success";n[n.notFound=404]="notFound";n[n.badGateway=502]="badGateway"})(i||(i={}));r=function(){function t(t){this._moduleId="httpDataRetriever";this._requestList=[];this._disposed=!1;this._bandwidthRequest=null;this._bandwidthData=new n.Heuristics.BandwidthTracker(t.heuristicSettings.bandwidth,t.decryptionTracker);t.videoBufferData.updateBandwidthTracker(this._bandwidthData)}return t.prototype.dispose=function(){while(this._requestList.length>0){var n=this._requestList.pop();n.request=null;n=null}this._bandwidthRequest=null;this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[0],i=n.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onGetData,this);t.addHandler(t.stepEvents.requestEnd,this.onGetData,this);i.addHandler(i.stepEvents.requestBegin,this.onReportHeuristicData,this);i.addHandler(i.stepEvents.requestSend,this.onGetData,this)},t.prototype.onReportHeuristicData=function(t){n.Log.verbose(5,"onReportHeuristicData");t.currentModuleId=this._moduleId;var i=this;return new Promise(function(r,u){if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u("object is already disposed.");return}if(t.requestedStream.type!==0){r();return}i._bandwidthData.reportHeuristicsData(t.heuristicData,n.StreamUtil.getSegmentDuration(t));r()})},t.prototype.onGetData=function(t){n.Log.verbose(5,"onGetData");t.currentModuleId=this._moduleId;var i=this;return new Promise(function(r,f){function o(){var y,s,p,f,w;n.assert(null!=t.urlsToRetrieve[e],"Failed to start the download as urlToRetrieve at index "+e+" is null");n.assert(null!=t.urlsToRetrieve[e].url&&t.urlsToRetrieve[e].url.length>0,"Failed to start the download as urlToRetrieve at index "+e+" is empty");i._bandwidthRequest&&i._bandwidthRequest.streamId===t.urlsToRetrieve[e].streamId&&i._bandwidthRequest.presTimeInSec===t.urlsToRetrieve[e].presTimeInSec&&(y=t.heuristicData.tracksData.findFirst(function(n){return n.trackInfo.bitrate===i._bandwidthRequest.bitrate}),y&&i._bandwidthRequest.bitrate>=t.urlsToRetrieve[e].bitrate?t.urlsToRetrieve[e].requestType===2?i._bandwidthRequest.bitrate!==t.urlsToRetrieve[e].bitrate&&(n.Log.verbose(5,"Switching init segment request "+t.urlsToRetrieve[e].url+" to "+i._bandwidthRequest.bitrate),t.urlsToRetrieve[e].bitrate=i._bandwidthRequest.bitrate,t.urlsToRetrieve[e].url=n.Util.UrlFormatter.FormatDashInitUrl(t.requestedStream.initUrlTemplate,i._bandwidthRequest.bitrate.toString()),t.selectedTrack=y.trackInfo):(n.Log.verbose(5,"Reusing bandwidth request "+i._bandwidthRequest.url),t.urlsToRetrieve[e].dispose(),t.urlsToRetrieve[e]=i._bandwidthRequest,i._bandwidthRequest=null):(i._bandwidthRequest.dispose(),i._bandwidthRequest=null));t.urlsToRetrieve[e].responseType===0&&t.urlsToRetrieve[e].mediaData!=null||t.urlsToRetrieve[e].responseType===4&&t.urlsToRetrieve[e].presentationData!=null?(t.urlsToRetrieve[e].responseType===4&&t.sessionContext.commonPresentation!=null&&(s=t.sessionContext.httpDataRetrieverSettings,p=1e3*t.sessionContext.commonPresentation.maxSegmentDuration,s.timeoutInMSec=Math.max(s.timeoutInMSec,2*p),s.timeoutInMSec=Math.min(s.timeoutInMSec,s.maxTimeoutInMSec),n.Log.verbose(5,"Setting data retriever timeout: "+s.timeoutInMSec+" ms")),e++,e>=t.urlsToRetrieve.length?r():o()):(t.workflowType===1&&n.StreamUtil.getBufferData(t).dispatchDownloadRequested(h(e)),f=t.sessionContext.createXmlHttpRequest(),f.open("GET",t.urlsToRetrieve[e].url),f.onprogress=l,f.onload=a,f.onerror=c,f.ontimeout=v,f.onabort=c,t.urlsToRetrieve[e].responseType===0&&(f.responseType=n.Context.ResponseType[0]),f.msCaching&&(f.msCaching="disabled"),f.timeout=t.sessionContext.httpDataRetrieverSettings.timeoutInMSec,w=new u(t.urlsToRetrieve[e],f),t.requestedStream&&t.requestedStream.type==0&&t.selectedTrack?n.Log.verbose(5,"HeuristicInfo: SuggestedBr: "+t.selectedTrack.bitrate+" CurrentBw: "+Math.floor(i._bandwidthData.latestInKbps*1e3)+" AverageBw: "+Math.floor(i._bandwidthData.averageBandwidthInKbps*1e3)+" BufferSize: "+t.requestedStream.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()+" StreamType: "+n.Presentation.StreamType[t.requestedStream.type]+" StreamName: "+t.requestedStream.language+" Index: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.index+" TimeInMS: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.presTimeInSec+" MediaTimeStamp: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.mediaTimestamp+" Index: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.index+" Duration: "+(t.requestedStream.streamingInfo.currentSegment.segmentInfo.durationInSec||0)+" Url: "+t.urlsToRetrieve[e].url):0===t.workflowType&&n.Log.verbose(5,"Getting "+t.urlsToRetrieve[e].url),i._requestList.push(w),f.send())}function l(r){var s=this,f,u,e,o;i._disposed||(f=Date.now(),u=i._requestList.findFirst(function(n){return n.request===s}),n.assert(null!=u,"cannot find the request in the request queue"),u.bandwidthInfo.responseStartTimeInMS||(!r.lengthComputable||r.lengthComputable&&r.total!=r.loaded)&&(u.bandwidthInfo.responseStartTimeInMS=f),n.Common.isSafari&&n.Common.isOSXElCapitanOrEarlier()&&u.getIsAbortInProgress())||u.urlRequest.requestType===3&&(e=u.bandwidthInfo.responseStartTimeInMS,o=t.sessionContext.httpDataRetrieverSettings.initBandwidthTimeoutInMSec,f-e>o&&(u.bandwidthInfo.responseLengthInBytes=r.loaded,u.bandwidthInfo.responseEndTimeInMS=f,i._bandwidthData.updateBandwidthInfo(u.bandwidthInfo),u.abortRequest(),n.Log.verbose(5,"Aborting init bandwidth request due to timeout: "+u.urlRequest.url)))}function a(){var c=this,u,f;if(!i._disposed)if(u=i._requestList.findFirst(function(n){return n.request===c}),n.assert(null!=u,"cannot find the request in the request queue"),u.bandwidthInfo.responseEndTimeInMS=Date.now(),f=t.urlsToRetrieve.indexOf(u.urlRequest),t.urlsToRetrieve[f].httpResposeContentType=this.getResponseHeader("Content-Type"),t.urlsToRetrieve[f].httpResponseCode=this.status,200===this.status){i._requestList.removeFirst(function(n){return n.request===c});switch(u.urlRequest.responseType){case 0:t.urlsToRetrieve[f].mediaData=this.response;u.bandwidthInfo.responseLengthInBytes=t.urlsToRetrieve[f].mediaData.byteLength;t.workflowType===1?n.StreamUtil.getBufferData(t).dispatchDownloadCompleted(h(f),u.bandwidthInfo):(i._bandwidthRequest=t.urlsToRetrieve[f].clone(),i._bandwidthRequest.requestType=1);break;case 4:t.urlsToRetrieve[f].presentationData=this.response;u.bandwidthInfo.responseLengthInBytes=t.urlsToRetrieve[f].presentationData.length;break;default:n.assert(!1,"Unexpected response Type in the request Context")}if(n.Log.verbose(5,"Download Finished for :"+u.urlRequest.url),t.requestedStream&&(i._bandwidthData&&t.requestedStream.type===0&&i._bandwidthData.updateBandwidthInfo(u.bandwidthInfo),t.requestedStream.streamingInfo.lastDownloadedTrack=t.selectedTrack),e++,e>=t.urlsToRetrieve.length){r();return}o()}else n.Log.error(5,u.urlRequest.url+" failed, httpStatus: "+this.status),s.call(this,n.Failure.translateHttpStatusToCode(this.status))}function c(n){i._disposed||s.call(this,2097152,"http: "+n.type)}function v(){i._disposed||s.call(this,2097752,"http timed out")}function s(u,e){var p=this,o=i._requestList.removeFirst(function(n){return n.request===p}),a,s,v,y,c,l;n.Common.isSafari&&n.Common.isOSXElCapitanOrEarlier()||n.assert(null!=o,"cannot find the request in the request queue");a=o!=null?o.urlRequest.url:"no details info";e&&(a+=", "+e);s=new n.Failure.Record(t.currentModuleId,u,a);(e!=="http: abort"||o==null)&&n.Log.error(5,s.toString());o!=null&&(t.requestedStream?(t.urlsToRetrieve.findIndexOf(function(n){return n.requestType===2})!==-1&&(t.requestedStream.streamingInfo.fetchInitSegment=!0),v=t.urlsToRetrieve.indexOf(o.urlRequest),t.workflowType===1&&n.StreamUtil.getBufferData(t).dispatchDownloadFailed(h(v),u,e),2097556===u&&t.sessionContext.commonPresentation.isLive&&t.requestedStream.streamingInfo&&t.requestedStream.streamingInfo.currentSegment&&!t.requestedStream.streamingInfo.currentSegment.next?(c=t.requestedStream.streamingInfo.currentSegment.segmentInfo,l=c?c.presTimeInSec:null,t.requestedStream.streamingInfo.currentSegment=t.requestedStream.streamingInfo.currentSegment.prev,t.failTracker.reset(),n.Log.verbose(5,"hit past live edge with 404: "+(e?e+", ":"")+"presTimeInSec: "+l+" "+o.urlRequest.url),t.externalFailure=s,f()):2097564===u&&t.sessionContext.commonPresentation.isLive&&t.requestedStream.streamingInfo&&t.requestedStream.streamingInfo.currentSegment&&!t.requestedStream.streamingInfo.currentSegment.next?(t.state=2,t.retryWaitTimeMSec=t.sessionContext.httpRetryPolicySettings.retryMediaInMSec,t.failTracker.log(s,t.selectedTrack),y=t.sessionContext.httpDataRetrieverSettings.liveEdgeAdjustmentInSec,t.sessionContext.commonPresentation.adjustPlayableWindow(y),c=t.requestedStream.streamingInfo.currentSegment.segmentInfo,l=c?c.presTimeInSec:null,n.Log.verbose(5,"hit past live edge with 412: "+(e?e+", ":"")+"presTimeInSec: "+l+" "+o.urlRequest.url),r()):(t.workflowType!==0&&o&&o.urlRequest&&o.urlRequest.requestType!==3&&(t.state=2,t.failTracker.log(s,t.selectedTrack),t.retryWaitTimeMSec=t.failTracker.isLastServerError()?t.sessionContext.httpRetryPolicySettings.retryMediaServerErrorInMSec:0),n.Log.warning(5,"failed to download: "+(e?e+", ":"")+o.urlRequest.url),r())):0===t.workflowType&&(2097556===u||2097752===u)?(t.state=2,t.retryWaitTimeMSec=2097556===u?t.sessionContext.httpRetryPolicySettings.retryPresentationInMSec:0,t.failTracker.log(s),n.Log.warning(5,"failed to download: "+(e?e+", ":"")+o.urlRequest.url),r()):(t.externalFailure=s,n.Log.warning(5,"failed to download: "+(e?e+", ":"")+o.urlRequest.url),f()))}function h(i){var r=t.urlsToRetrieve[i],f=t.requestedStream.presentationTimeOffsetInSec,u=t.requestedStream.streamingInfo.currentSegment.segmentInfo,e=r.requestType===2?null:u.mediaTimestamp/u.timescale;return new n.Context.MediaDownload(r.url,t.selectedTrack.bitrate,e,r.mediaData,f)}if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);f("object is already disposed.");return}n.assert(t.urlsToRetrieve.length!==0,"Failed to start the download as urlsToRetrieve is empty.");var e=0;o()})},t}();t.HttpDataRetriever=r;u=function(){function t(t,i){this.urlRequest=t;this.request=i;this.bandwidthInfo=new n.Heuristics.BandwidthInfo;this.abortStarted=!1}return t.prototype.abortRequest=function(){this.abortStarted=!0;this.request.abort()},t.prototype.getIsAbortInProgress=function(){return this.abortStarted},t}()})(n.DataRetriever||(n.DataRetriever={}));var t=n.DataRetriever}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i,r;(function(n){n[n.noRetry=0]="noRetry";n[n.nextTrack=1]="nextTrack";n[n.nextSegment=2]="nextSegment";n[n.same=3]="same"})(i||(i={}));r=function(){function t(){this._moduleId="httpRetryPolicy";this._disposed=!1}return t.prototype.dispose=function(){this._disposed||(this._disposed=!0)},t.prototype.init=function(n){var i=n.workflows[0],t=n.workflows[1];i.addHandler(t.stepEvents.requestBegin,this.onPresentationRetry,this);t.addHandler(t.stepEvents.requestBegin,this.onMediaRetry,this)},t.prototype.onPresentationRetry=function(t){var r=this;return n.Log.verbose(5,"onPresentationRetry"),t.currentModuleId=this._moduleId,new Promise(function(u,f){var e,s,o;if(r._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);f("object is already disposed.");return}if(e=t.failTracker,s=t.sessionContext.httpRetryPolicySettings,e.isNone()){u();return}o=r._getAction(0,s,t);switch(o){case 0:t.externalFailure=e.lastFailure;n.Log.verbose(5,"onPresentationRetry: noRetry, "+t.urlsToRetrieve[0].url);f();return;case 3:e.sameRequestRetried++;break;default:throw new Error("unexpected retry action: "+o);}e.totalRetried++;n.Log.verbose(5,"onPresentationRetry: "+i[o]+" URL: "+t.urlsToRetrieve[0].url);u()})},t.prototype.onMediaRetry=function(t){var r=this;return n.Log.verbose(5,"onMediaRetry"),t.currentModuleId=this._moduleId,new Promise(function(u,f){var s;if(r._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);f("object is already disposed.");return}if(!t.requestedStream){u();return}var e=t.failTracker,o=t.requestedStream.streamingInfo,h=t.sessionContext.httpRetryPolicySettings;if(e.isNone()||null!==o.pendingSeekPositionInSec){u();return}0===e.totalRetried&&(e.tracksToTry=r._createTrackToTry(h,t.requestedStream,e.lastTrack));s=r._getAction(1,h,t);switch(s){case 0:t.externalFailure=e.lastFailure;n.Log.verbose(5,"onMediaRetry: noRetry,mediaTimestamp: "+o.currentSegment.segmentInfo.mediaTimestamp);f();return;case 1:e.sameRequestRetried++;t.selectedSegment=o.currentSegment;e.trackToTryIdx<e.tracksToTry.length-1?e.trackToTryIdx++:e.trackToTryIdx=0;t.selectedTrack=e.tracksToTry[e.trackToTryIdx];break;case 2:if(o.currentSegment.next)o.currentSegment=o.currentSegment.next,e.segmentsSkipped++,e.resetForSegment(),t.selectedSegment=o.currentSegment,t.selectedTrack=e.tracksToTry[0];else{t.externalFailure=e.lastFailure;n.Log.verbose(5,"onRetry: noRetry, EOS mediaTimestamp: "+o.currentSegment.segmentInfo.mediaTimestamp);f();return}break;case 3:e.sameRequestRetried++;t.selectedSegment=o.currentSegment;t.selectedTrack=e.tracksToTry[0];break;default:throw new Error("unexpected retry action: "+s);}e.totalRetried++;n.Log.verbose(5,"onRetry: "+i[s]+" bitrate: "+t.selectedTrack.bitrate+" mediaTimestamp: "+t.selectedSegment.segmentInfo.mediaTimestamp);u()})},t.prototype._getAction=function(n,t,i){var u=0,f=!1,r=i.failTracker;return i.sessionContext&&i.sessionContext.commonPresentation&&(f=i.sessionContext.commonPresentation.isLive),0===n?u=r.sameRequestRetried>=t.maxRetryPresentation?0:3:r.totalRetried>=t.maxTotalRetries||r.segmentsSkipped>=t.maxSkipSegments&&(r.trackToTryIdx>=r.tracksToTry.length-1||r.sameRequestRetried>=t.maxRetryPerSegment)?u=0:r.isLastNotFound()||r.isLastNotReady()&&f&&!this._isLiveEdge(i)?u=r.trackToTryIdx<r.tracksToTry.length-1&&r.sameRequestRetried<t.maxRetryPerSegment?1:2:f&&this._isLiveEdge(i)&&r.isLastNotReady()?(u=3,r.sameRequestRetried>=t.maxRetryPerSegment&&(u=0)):u=r.isLastServerError()?1:r.isLastNetworkFail()?r.sameRequestRetried<t.maxRetryPerSegment?3:2:0,u},t.prototype._isLiveEdge=function(n){var t;return!n.requestedStream||!n.requestedStream.streamingInfo?!1:(t=n.requestedStream.streamingInfo.currentSegment,t&&!t.next?!0:!1)},t.prototype._createTrackToTry=function(n,t,i){var u=[],f=t.tracks.indexOf(i),e=t.tracks.length,r;for(u.push(t.tracks[f]),r=f-1;r>=0;r--)t.tracks[r].streamingInfo.selectable&&u.push(t.tracks[r]);if(!n.retryLowerBitrateOnly)for(r=f+1;r<e;r++)t.tracks[r].streamingInfo.selectable&&u.push(t.tracks[r]);return u},t}();t.HttpRetryPolicy=r})(n.DataRetriever||(n.DataRetriever={}));var t=n.DataRetriever}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i,r;(function(n){n[n.success=200]="success";n[n.notFound=404]="notFound";n[n.badGateway=502]="badGateway"})(i||(i={}));r=function(){function t(){this._moduleId="InitialBandwidthDataUrlFormatter";this._disposed=!1}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onPreFetchUrlFormat,this)},t.prototype.onPreFetchUrlFormat=function(t){n.Log.verbose(6,"OnPreFetchUrlFormat");t.currentModuleId=this._moduleId;var i=this;return new Promise(function(r,u){var c,f,e,l,s,h,o,a,v;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u("object is already disposed.");return}if(!t.sessionContext.heuristicSettings.preFetchDataEnabled){r();return}if(c=t.sessionContext.commonPresentation.periods[0].streams,f=c.findFirst(function(n){return n.type===0}),t.requestedStream=f,t.sessionContext.heuristicSettings.preFetchDataMiddle?(l=Math.round(f.tracks.length/2)-1,e=f.tracks[l].bitrate):e=f.tracks[0].bitrate,!e)throw new Error("bitrate of video track not set in presentation");if(s=t.requestedStream.mediaUrlTemplate,!s)throw new Error("media url template is not set for the video stream");h=f.segments;o=t.sessionContext.commonPresentation.isLive?h.last.segmentInfo:h.first.segmentInfo;a=n.Util.UrlFormatter.FormatDashMediaUrl(s,e.toString(),o.mediaTimestampStr);v=new n.Context.UrlRequest(a,3,0,f.id,e,o.presTimeInSec,o.durationInSec);t.urlsToRetrieve.push(v);t.sessionContext.heuristicSettings.preFetchDataEnabled=!1;r()})},t}();t.InitialBandwidthDataUrlFormatter=r})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="streamSelector";this._disposed=!1;this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onSelectStreams,this)},t.prototype.onSelectStreams=function(t){var i=this;return t.currentModuleId=this._moduleId,new Promise(function(r,u){var o=!1,s=!1,f=t.sessionContext.commonPresentation,e;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u("Disposed");return}if(!i._initial){r();return}if(!f)throw new Error("CommonPresentation is empty");for(f.periods[0].streams.forEach(function(n){n.streamingInfo.selected=!1}),e=f.periods[0].streams.length-1;e>=0;e--)0!==f.periods[0].streams[e].type||o?1!==f.periods[0].streams[e].type||s||(s=!0,f.periods[0].streams[e].streamingInfo.selected=!0):(o=!0,f.periods[0].streams[e].streamingInfo.selected=!0);if(!o||!s){n.Failure.attachFailureToRequest(t,t.currentModuleId,4194307);u("Video or audio streams not found");return}i._initial=!1;r()})},t}();t.InitialStreamSelector=i})(n.Presentation||(n.Presentation={}));var t=n.Presentation}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var r=function(){function n(n,t,i,r,u){this.index=n;this._timescale=u;this._presentationOffset=r;this._mediaTimestampStr=t;this._mediaTimestamp=parseInt(t);this._presTimeInSec=(this._mediaTimestamp+r)/u;i&&(this._mediaDuration=i,this._durationInSec=i/u)}return Object.defineProperty(n.prototype,"timescale",{get:function(){return this._timescale},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"presentationOffset",{get:function(){return this._presentationOffset},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaTimestampStr",{get:function(){return this._mediaTimestampStr},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaTimestamp",{get:function(){return this._mediaTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaDuration",{get:function(){return this._mediaDuration},set:function(n){this._mediaDuration=n;this._durationInSec=n/this._timescale},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"presTimeInSec",{get:function(){return this._presTimeInSec},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"durationInSec",{get:function(){return this._durationInSec},enumerable:!0,configurable:!0}),n.prototype.update=function(n,t){n&&(this.index+=n);this._presentationOffset!==t&&(this._presentationOffset=t,this._presTimeInSec=(this._mediaTimestamp+t)/this._timescale)},n}(),f,i,e,v,u,o,s,h,c,l,a;t.MediaSegmentInfo=r;f=function(){function n(n,t,i,u,f,e){this.firstSegment=new r(n,t,i,u,f);this.repeat=e;this.containerIndex=NaN}return n}();t.SegmentRunEntry=f;i=function(){function t(t,i,u){this._container=t;this._pubTime=t.pubTime;this._runEntry=i;this._runEntryRepeatPosition=u;var f=i.firstSegment.mediaTimestampStr;u&&(f=n.Timestamp.add(f,u*i.firstSegment.mediaDuration));this.segmentInfo=new r(i.firstSegment.index+u,f,i.firstSegment.mediaDuration,t.presentationTimeOffset,t.timescale)}return t.prototype.dispose=function(){this.segmentInfo=null;this._container=null;this._pubTime=null;this._runEntry=null;this._runEntryRepeatPosition=NaN},Object.defineProperty(t.prototype,"next",{get:function(){var i,r,u;if(this._updateIterator(),isNaN(this._runEntryRepeatPosition))return null;if(i=this._runEntry,r=0,this._runEntryRepeatPosition+1>this._runEntry.repeat)if(u=this._runEntry.containerIndex+1,u<this._container.segmentTable.length)i=this._container.segmentTable[u];else return n.Log.verbose(4,"Cannot get next iterator"),null;else r=this._runEntryRepeatPosition+1;return new t(this._container,i,r)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prev",{get:function(){var i,u,r;if(this._updateIterator(),isNaN(this._runEntryRepeatPosition))return null;if(i=this._runEntry,this._runEntryRepeatPosition===0)if(r=this._runEntry.containerIndex-1,r>=0&&r<this._container.segmentTable.length)i=this._container.segmentTable[r],u=i.repeat;else return n.Log.warning(4,"Cannot get previous iterator"),null;else u=this._runEntryRepeatPosition-1;return new t(this._container,i,u)},enumerable:!0,configurable:!0}),t.prototype._updateIterator=function(){var i,t,r,u;if(this._container.pubTime.getTime()>this._pubTime.getTime()){for(this._pubTime=this._container.pubTime,i=this._runEntry.containerIndex,t=this._container.segmentTable[i];!t&&i>0;)i--,t=this._container.segmentTable[i];if(t){if(t.firstSegment.index<=this.segmentInfo.index&&this.segmentInfo.index<=t.firstSegment.index+t.repeat){this._runEntry=t;this._runEntryRepeatPosition=this.segmentInfo.index-t.firstSegment.index;this._updateInfo();return}if(this.segmentInfo.index>t.firstSegment.index+t.repeat&&this._container.segmentTable.length>i+1&&(r=this._container.segmentTable[i+1],this.segmentInfo.index<=r.firstSegment.index+r.repeat)){this._runEntry=r;this._runEntryRepeatPosition=this.segmentInfo.index-r.firstSegment.index;this._updateInfo();return}}if(u=this._container.getByIndex(this.segmentInfo.index),!u){n.Log.warning(4,"Referenced segment not found in presentation, disposing iterator");this.dispose();return}this._runEntry=u._runEntry;this._runEntryRepeatPosition=u._runEntryRepeatPosition;this._updateInfo()}},t.prototype._updateInfo=function(){var t=this._container.getByIndex(this.segmentInfo.index),n;t&&(n=t.segmentInfo,(this.segmentInfo.mediaTimestampStr!==n.mediaTimestampStr||this.segmentInfo.mediaDuration!==n.mediaDuration)&&(this.segmentInfo=new r(n.index,n.mediaTimestampStr,n.mediaDuration,n.presentationOffset,n.timescale)))},t}();t.MediaSegmentInfoIterator=i;e=function(){function r(n,t,i,r){this.maxSegmentDuration=0;this.timescale=n;this.presentationTimeOffset=t;this.pubTime=i;this.segmentTable=[];this._isLive=r}return r.prototype.dispose=function(){this.segmentTable.length=0},Object.defineProperty(r.prototype,"first",{get:function(){var n=null;return this.segmentTable.length>0&&(n=new i(this,this.segmentTable[0],0)),n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"last",{get:function(){var n,t=null;return this.segmentTable.length>0&&(n=this.segmentTable[this.segmentTable.length-1],t=new i(this,n,n.repeat)),t},enumerable:!0,configurable:!0}),r.prototype.addMediaSegmentRun=function(t){var i=null,r=0,u;this.segmentTable.length>0&&(i=this.segmentTable[this.segmentTable.length-1],r=i.firstSegment.mediaTimestamp+i.firstSegment.mediaDuration*(i.repeat+1),u=n.Common.timestampDeltaThreshold*this.timescale,r-t.firstSegment.mediaTimestamp>u&&(n.Log.error(4,"Cannot add segment with timestamp "+t.firstSegment.mediaTimestamp+" to middle of table ["+this.segmentTable[0].firstSegment.mediaTimestamp+","+r+"]"),t=null));t&&(t.containerIndex=this.segmentTable.length,this.segmentTable.push(t),this.maxSegmentDuration=Math.max(this.maxSegmentDuration,t.firstSegment.durationInSec||0),n.Log.verbose(4,"Added segment with idx="+t.firstSegment.index+" mt="+t.firstSegment.mediaTimestamp+" pt="+t.firstSegment.presTimeInSec.toFixed(7)+" r="+t.repeat+(t.firstSegment.durationInSec?" d="+t.firstSegment.durationInSec.toFixed(7):"")))},r.prototype.addMediaSegmentInfo=function(n,i,r,u,f){var e;if(this.segmentTable.length>0&&NaN===this.segmentTable[this.segmentTable.length-1].firstSegment.mediaDuration)throw new Error("Failed to add segment: previous entry doesn't have duration");e=new t.SegmentRunEntry(n,i,r,u,f,0);this.addMediaSegmentRun(e)},r.prototype.updateSegmentDuration=function(t,i){var r,u;if(0===this.segmentTable.length)return!1;if(r=this.segmentTable[this.segmentTable.length-1],r.firstSegment.presTimeInSec!==t){if(u=n.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec),u===-1)return n.Log.verbose(4,"Failed to update segment duration, run entry with presentation time "+t+" not found"),!1;r=this.segmentTable[u]}return r.firstSegment.mediaDuration!==i&&(n.assert(!r.firstSegment.mediaDuration&&0===r.repeat,"Failed to update segment duration, run entry (s:"+r.firstSegment.presTimeInSec+" d:"+r.firstSegment.durationInSec+" r:"+r.repeat+") cannot be overwritten by segment (s:"+t+" d:"+i/this.timescale+")"),r.firstSegment.mediaDuration=i),this.maxSegmentDuration=Math.max(this.maxSegmentDuration,r.firstSegment.durationInSec||0),!0},r.prototype.getByIndex=function(t){var r=null,u,f,e;return 0===this.segmentTable.length?null:(u=n.Common.binarySearch(t,this.segmentTable,this._compareIndex),u!==-1&&(f=this.segmentTable[u],e=t-f.firstSegment.index,r=new i(this,f,e)),r||n.Log.verbose(4,"Entry with index "+t+" not found"),r)},r.prototype.getBySegmentStartTime=function(t,r){var o=null,e,u,f,s;if(0===this.segmentTable.length)return null;if(r||(r=n.Common.timestampDeltaThreshold),Math.abs(t-this.segmentTable[0].firstSegment.presTimeInSec)<r)return this.first;if(e=n.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec),e!==-1){if(u=this.segmentTable[e],f=0,n.Common.diffTimes(t,u.firstSegment.presTimeInSec)&&(f=Math.round((t-u.firstSegment.presTimeInSec)/u.firstSegment.durationInSec)||0),f>u.repeat)if(e+1<this.segmentTable.length)u=this.segmentTable[e+1],f=0;else return n.Log.verbose(4,"Cannot find match for "+t),null;if(s=u.firstSegment.presTimeInSec+f*u.firstSegment.durationInSec,Math.abs(t-s)>r)return n.Log.verbose(4,"Cannot find match within error range for "+t),null;o=new i(this,u,f)}return o},r.prototype.getByInSegmentTimestamp=function(t){var u=null,f,r,e;return 0===this.segmentTable.length?null:(f=n.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec),f!==-1&&(r=this.segmentTable[f],e=Math.floor(Math.abs(t-r.firstSegment.presTimeInSec)/r.firstSegment.durationInSec),u=new i(this,r,e)),u||n.Log.verbose(4,"Entry including timestamp "+t+" not found"),u)},r.prototype.getByInDiscontinuityTimestamp=function(t){var r=null,u;return 0===this.segmentTable.length?null:(u=n.Common.binarySearchInGaps(t,this.segmentTable,this._compareTimestampInSecInGaps),u!==-1&&(r=new i(this,this.segmentTable[u],0)),r||n.Log.verbose(4,"Discontinuity including timestamp "+t+" not found"),r)},r.prototype.update=function(t){var o=this,r=t,i=null,f=0;if(!(r.pubTime.getTime()<=this.pubTime.getTime())){if(this.pubTime=r.pubTime,i=this.getBySegmentStartTime(r.first.segmentInfo.presTimeInSec),i&&i.segmentInfo.index!==r.first.segmentInfo.index){if(f=i.segmentInfo.index,n.Common.diffTimes(r.first.segmentInfo.presTimeInSec,i.segmentInfo.presTimeInSec))throw new Error("Segment mismatch during container update");n.Log.verbose(4,"Segment index offset="+f)}if(r._isLive){var u=r.last.segmentInfo,s=u.index,e=u.mediaTimestamp+u.mediaDuration;for(i=this.getBySegmentStartTime(u.presTimeInSec);e&&i&&i.next;){if(i=i.next,i.segmentInfo.mediaTimestamp<e)break;u=i.segmentInfo;e=u.mediaTimestamp+u.mediaDuration;r.addMediaSegmentInfo(++s,u.mediaTimestampStr,u.mediaDuration,u.presentationOffset,u.timescale)}}this._isLive=r._isLive;this.segmentTable.length=0;r.segmentTable.forEach(function(n){n.firstSegment.update(f,o.presentationTimeOffset);o.segmentTable.push(n)});this.maxSegmentDuration=r.maxSegmentDuration}},r.prototype._compareTimestampInSec=function(t,i){var r=0;return n.Common.diffTimes(t,i.firstSegment.presTimeInSec)>0?r=-1:n.Common.diffTimes(t,i.firstSegment.presTimeInSec)&&n.Common.diffTimes(t,i.firstSegment.presTimeInSec+(i.repeat+1)*(i.firstSegment.durationInSec||0))<=0&&(r=1),r},r.prototype._compareIndex=function(n,t){var i=0;return n<t.firstSegment.index?i=-1:n>=t.firstSegment.index+(t.repeat+1)&&(i=1),i},r.prototype._compareTimestampInSecInGaps=function(n,t,i){var r=0,u=t.firstSegment.presTimeInSec+(t.repeat+1)*(t.firstSegment.durationInSec||0),f=i.firstSegment.presTimeInSec;return n<u?r=-1:n>=f&&(r=1),r},r}();t.MediaSegmentInfoContainer=e,function(n){n[n.needsToBeScheduled=0]="needsToBeScheduled";n[n.inProgress=1]="inProgress";n[n.endOfStream=2]="endOfStream"}(t.WorkflowState||(t.WorkflowState={}));v=t.WorkflowState;u=function(){function n(){this.forge=null;this.webCrypto=null}return n.prototype.dispose=function(){this.forge=null;this.webCrypto=null},n}();t.AesInfo=u;o=function(){function n(){this.selected=!1;this.fetchInitSegment=!0;this.currentSegment=null;this.pendingSeekPositionInSec=null;this.workflowState=0;this.sourceBuffer=null;this.lastDownloadedTrack=null;this.aes=new u;this.flushStream=!1}return n.prototype.dispose=function(){this.currentSegment=null;this.sourceBuffer&&(this.sourceBuffer.dispose(),this.sourceBuffer=null);this.lastDownloadedTrack=null;this.aes&&(this.aes.dispose(),this.aes=null)},n}();t.MediaStreamStreamingInfo=o;s=function(){function n(){this.selectable=!0}return n}();t.MediaTrackStreamingInfo=s;h=function(){function n(n,t){var i,r;for(this._streams=[],i=0;i<t.length;i++)t[i].type==0&&(r=new c(n,t[i]),this._streams.push(r))}return n.prototype.dispose=function(){for(var n=0;n<this._streams.length;n++)this._streams[n].dispose();this._streams=[]},Object.defineProperty(n.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedIndex",{get:function(){for(var t=-1,n=0;n<this._streams.length;n++)if(this._streams[n].commonStream.streamingInfo.selected){t=n;break}return t},enumerable:!0,configurable:!0}),n}();t.VideoStreamList=h;c=function(){function t(t,i){this._commonStream=i;this._eventMgr=new n.Events.Manager(t.azureHtml5,!1);this._sessionContext=t}return t.prototype.dispose=function(){this._commonStream=null;this._sessionContext=null;this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null)},Object.defineProperty(t.prototype,"codec",{get:function(){return this._commonStream.codec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._commonStream.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tracks",{get:function(){return this._commonStream.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commonStream",{get:function(){return this._commonStream},enumerable:!0,configurable:!0}),t.prototype.selectTrackByIndex=function(t){var r=!1,i,u;for((t<-1||t>=this._commonStream.tracks.length)&&(n.Log.warning(7,"selectTrackByIndex: "+t+" switching back to auto track selection"),t=-1),n.Log.verbose(7,"selectTrackByIndex: "+t),i=0;i<this._commonStream.tracks.length;i++)u=this._commonStream.tracks[i].streamingInfo.selectable,this._commonStream.tracks[i].streamingInfo.selectable=-1===t||i===t?!0:!1,u!=this._commonStream.tracks[i].streamingInfo.selectable&&(r=!0);r&&(this.commonStream.streamingInfo.flushStream=!0,this._eventMgr.dispatchEvent(n.StreamEventName.trackselected),this._sessionContext.eventMgr.dispatchEvent(n.InternalEventName.flushvideo))},t.prototype.addEventListener=function(n,t,i){this._eventMgr.addHandler(n,t,i)},t.prototype.removeEventListener=function(n,t){this._eventMgr.removeHandler(n,t)},t}();l=function(){function t(t,i){var r,u;for(this._streams=[],r=0;r<i.length;r++)i[r].type==1&&(u=new a(t,i[r]),this._streams.push(u));this._eventMgr=new n.Events.Manager(t.azureHtml5,!1);this._sessionContext=t}return t.prototype.dispose=function(){for(var n=0;n<this._streams.length;n++)this._streams[n].dispose();this._sessionContext=null;this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null);this._streams=[]},Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabledIndices",{get:function(){for(var t=[],n=0;n<this._streams.length;n++)if(this._streams[n].enabled){t.push(n);break}return t},enumerable:!0,configurable:!0}),t.prototype.switchIndex=function(t){var i,r,u,f;if(this.enabledIndices.length!=1){n.Log.error(7,"switchIndex failed - only single stream supported: "+this.enabledIndices.length+" streams enabled");this._eventMgr.dispatchEvent(n.StreamListEventName.streamselectnotsupported);return}if(t>=this.streams.length||t<0){n.Log.error(7,"audioChange failed - tried to enable invalid index: "+t);this._eventMgr.dispatchEvent(n.StreamListEventName.streamindexinvalid);return}if(i=this._streams[this.enabledIndices[0]],r=this._streams[t],t===this.enabledIndices[0]){n.Log.verbose(7,"audioChange failed because current stream selected");this._eventMgr.dispatchEvent(n.StreamListEventName.streamselected);return}this._switchEnabledIndex(t);u=this._sessionContext.videoTag.currentTime;f=this._sessionContext.prerollBufferInSec();r.swapBuffersAndCleanUp(i,u,f);this._eventMgr.dispatchEvent(n.StreamListEventName.streamselected)},t.prototype.addEventListener=function(n,t,i){this._eventMgr.addHandler(n,t,i)},t.prototype.removeEventListener=function(n,t){this._eventMgr.removeHandler(n,t)},t.prototype._switchEnabledIndex=function(t){n.assert(this.enabledIndices.length==1,"Current implementation only allows one enabled stream at a time");var i=this.enabledIndices[0];this._streams[i].enabled=!1;this._streams[t].enabled=!0},t}();t.AudioStreamList=l;a=function(){function t(n,t){this._commonStream=t}return t.prototype.dispose=function(){this._commonStream=null},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._commonStream.streamingInfo.selected},set:function(n){this._commonStream.streamingInfo.selected=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t=this._commonStream.mediaUrlTemplate.toLowerCase(),i="fragments(",r=t.indexOf(i),u=t.indexOf("=",r);return n.assert(u>r+i.length,"mediaUrlTemplate ("+t+") did not follow expected schema"),this._commonStream.mediaUrlTemplate.substring(r+i.length,u)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._commonStream.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"codec",{get:function(){return this._commonStream.codec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitrate",{get:function(){return this._commonStream.tracks[0].bitrate},enumerable:!0,configurable:!0}),t.prototype.swapBuffersAndCleanUp=function(n,t,i){if(n._commonStream.streamingInfo.sourceBuffer){this._commonStream.streamingInfo.sourceBuffer||(this._commonStream.streamingInfo.sourceBuffer=n._commonStream.streamingInfo.sourceBuffer);var r=this._commonStream.streamingInfo.sourceBuffer;this._commonStream.streamingInfo.workflowState=0;n._commonStream.streamingInfo.workflowState=2;this._commonStream.streamingInfo.pendingSeekPositionInSec=t;r.buffered.end(r.buffered.length-1)>t+i&&r.flushFrom(t+i);r.flushUntil(t)}},t}()})(n.Presentation||(n.Presentation={}));var t=n.Presentation}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="SegmentLocator.Dash";this._disposed=!1}return t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onFindSegment,this)},t.prototype.dispose=function(){this._disposed=!0},t.prototype.onFindSegment=function(i){n.Log.verbose(9,"onFindSegment");i.currentModuleId=this._moduleId;var r=this;return new Promise(function(u,f){var h;if(r._disposed){n.Failure.attachFailureToRequest(i,i.currentModuleId,0);f("object is already disposed.");return}var e=i.requestedStream,o=e.streamingInfo.currentSegment,s=e.segments;if(i.selectedSegment){u();return}if(null!==e.streamingInfo.pendingSeekPositionInSec?(e.streamingInfo.currentSegment=s.getByInSegmentTimestamp(e.streamingInfo.pendingSeekPositionInSec),e.streamingInfo.currentSegment&&(e.streamingInfo.pendingSeekPositionInSec=null,i.requestedStream.streamingInfo.fetchInitSegment=!0)):o?e.streamingInfo.currentSegment=o.next:(h=i.sessionContext,e.streamingInfo.currentSegment=isNaN(h.startPositionInSec)?s.first:s.getByInSegmentTimestamp(h.startPositionInSec)),null===e.streamingInfo.currentSegment)if(i.sessionContext.commonPresentation.isLive&&o&&(o.segmentInfo.mediaTimestamp>=s.last.segmentInfo.mediaTimestamp||e.streamingInfo.pendingSeekPositionInSec))if(e.streamingInfo.currentSegment=o,i.sessionContext.commonPresentation.minimumUpdatePeriodInSec)i.state=2,i.retryWaitTimeMSec=t._retryWaitTimeMSec;else{n.Failure.attachFailureToRequest(i,i.currentModuleId,1);f();return}else i.state=1;u()})},t._retryWaitTimeMSec=2e3,t}();t.Dash=i})(n.SegmentLocator||(n.SegmentLocator={}));var t=n.SegmentLocator}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="playReady";this._disposed=!1;this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onContentProtected,this)},t.prototype.onContentProtected=function(t){var i=this;return t.currentModuleId=this._moduleId,new Promise(function(r,u){var f=[],e=t.sessionContext.commonPresentation;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u("Disposed");return}if(!i._initial){r();return}if(!e)throw new Error("CommonPresentation is empty");e.periods[0].streams.forEach(function(t){for(var u,r,i=0;i<t.contentProtections.length;i++)u=t.contentProtections[i].data(0),u&&(r=new n.Mp4Util.PsshBox,r.systemId=n.KeySystem.PlayReady.systemId,r.specificData=n.Common.stringToUint8Array(atob(u)),f.push(r))});f.length>0&&t.sessionContext.emeManager.addPsshBoxes(f);i._initial=!1;r()})},t}();t.PlayReady=i})(n.ContentProtection||(n.ContentProtection={}));var t=n.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="widevine";this._disposed=!1;this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onContentProtected,this)},t.prototype.onContentProtected=function(t){var i=this;return t.currentModuleId=this._moduleId,new Promise(function(r,u){var f=[],e=t.sessionContext.commonPresentation;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u("Disposed");return}if(!i._initial){r();return}if(!e)throw new Error("CommonPresentation is empty");e.periods[0].streams.forEach(function(i){for(var u,r=0;r<i.contentProtections.length;r++){if(u=i.contentProtections[r].data(1),u){var o=n.Common.stringToUint8Array(atob(u)),s=new DataView(o.buffer),e=n.Mp4Util.GetPsshBoxes(s);if(e.length!=1)throw new Error("Each cenc:pssh element should contain a 'pssh' box");f.push(e[0])}i.contentProtections[r].laUrl&&t.sessionContext.emeManager.addLaUrl(n.KeySystem.Widevine.systemId,i.contentProtections[r].laUrl)}});f.length>0&&t.sessionContext.emeManager.addPsshBoxes(f);i._initial=!1;r()})},t}();t.Widevine=i})(n.ContentProtection||(n.ContentProtection={}));var t=n.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="AesHandler";this._disposed=!1;this._decryptor=new n.WebCryptoUtil.Decryptor}return t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._decryptor&&(this._decryptor.dispose(),this._decryptor=null))},t.prototype.init=function(n){var t=n.workflows[0],i=n.workflows[1];t.addHandler(t.stepEvents.requestEnd,this.onDownloadKey,this);i.addHandler(i.stepEvents.dataRetrieved,this.onDecrypt,this)},t.prototype.onDownloadKey=function(i){var r=this;return i.currentModuleId=this._moduleId,new Promise(function(u,f){function e(){h<s.length?n.Util.setTimeout(c,0,s[h++]):u()}function c(r){var c,a,h,v,p;if(o._disposed){n.Failure.attachFailureToRequest(i,i.currentModuleId,0);f();return}if(o._decryptor.isInitialized(r.streamingInfo.aes)){e();return}if(c=t._getAesContentProtectionIndex(r),isNaN(c)){e();return}var y=r.contentProtections[c],u=y.data(3),l=y.data(4);if(!u||!l){n.Failure.attachFailureToRequest(i,i.currentModuleId,5242883,"Missing IV or keyUrl");f();return}if(a=o._findExistingAesInfo(s,r,u,l),a){r.streamingInfo.aes=a;e();return}if(h=i.sessionContext.authenticationTokens[t._tokenId],!n.AesUtil.verifyKeyUrlWithToken(u,h)){n.Failure.attachFailureToRequest(i,i.currentModuleId,5242883,"verify AMS hostname failed");f();return}v=[];h&&h.length>0&&(v[0]={name:n.HttpUtil.authorizationHeader,value:h});p=Date.now();n.Log.verbose(12,"Starting AES key acquisition");n.HttpUtil.httpRequest(u,"POST","arraybuffer",v).then(function(t){o._decryptor.initialize(r.streamingInfo.aes,t,n.Common.hexStringToUint8Array(l)).then(function(){n.Log.verbose(12,"AES key acquisition in "+(Date.now()-p)+" ms");e();return},function(t){n.Log.error(12,"Failed to initialize decryptor: ");n.Failure.attachFailureToRequest(i,i.currentModuleId,5242882,"AES: "+t);f()})},function(t){n.Log.error(12,"Failed to download AES key url: "+u+", "+n.Common.toHexString(t));n.Failure.attachFailureToRequest(i,i.currentModuleId,5242884,"Http: "+n.Common.toHexString(t));f();return})}var o=r,s=i.sessionContext.commonPresentation.periods[0].streams,h=0;e()})},t.prototype.onDecrypt=function(t){var i=this;return t.currentModuleId=this._moduleId,new Promise(function(r,u){function e(){o<t.urlsToRetrieve.length?n.Util.setTimeout(h,0,t.urlsToRetrieve[o++]):r()}function h(i){if(f._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u();return}if(!i.mediaData){e();return}var r=Date.now();f._decryptor.decrypt(s,i.mediaData).then(function(u){var f=Date.now()-r;n.Log.verbose(12,"AES decrypt data in "+f+" ms, bytes: "+i.mediaData.byteLength+" url: "+i.url);i.mediaData=u;t.sessionContext.decryptionTracker&&t.sessionContext.decryptionTracker.updateDecryptionSpeedInfo(i.mediaData.byteLength,f/1e3);e();return},function(r){n.Log.error(12,"Failed to AES decrypt url: "+i.url+" "+r);n.Failure.attachFailureToRequest(t,t.currentModuleId,5242885,"Failed to AES decrypt segment");u();return})}var f=i,o=0,s=t.requestedStream.streamingInfo.aes;if(!f._decryptor.isInitialized(s)){r();return}e()})},t._getAesContentProtectionIndex=function(n){for(var u,r=n.contentProtections,i=0;i<r.length;i++)if(u=r[i].data(2),u===t._aesCbc128SystemId)return i;return NaN},t.prototype._findExistingAesInfo=function(n,t,i,r){for(var e,f,o,s,u=0;u<n.length;u++)if(n[u]!==t)for(e=n[u].contentProtections,f=0;f<e.length;f++)if(o=e[f].data(3),s=e[f].data(4),o===i&&s===r&&this._decryptor.isInitialized(n[u].streamingInfo.aes))return n[u].streamingInfo.aes;return null},t._aesCbc128SystemId="urn:mpeg:dash:sea:aes128-cbc:2013",t._tokenId="AES",t}();t.AesHandler=i})(n.ContentProtection||(n.ContentProtection={}));var t=n.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={}));Object.defineProperty(Array.prototype,"findFirst",{value:function(n){for(var i,t=0;t<this.length;t++)if(i=this[t],n.call(this,i,t,Object(this)))return i;return null},enumerable:!1,configurable:!0});Object.defineProperty(Array.prototype,"findLast",{value:function(n){for(var i,t=this.length-1;t>=0;t--)if(i=this[t],n.call(this,i,t,Object(this)))return i;return null},enumerable:!1,configurable:!0});Object.defineProperty(Array.prototype,"findIndexOf",{value:function(n){for(var i,t=0;t<this.length;t++)if(i=this[t],n.call(this,i,t,Object(this)))return t;return-1},enumerable:!1,configurable:!0});Object.defineProperty(Array.prototype,"removeFirst",{value:function(n){var t=this.findIndexOf(n),i=null;return t!==-1&&(i=this.splice(t,1)[0]),i},enumerable:!1,configurable:!0});Object.defineProperty(Uint8Array.prototype,"isEqual",{value:function(n){if(this.length===n.length){for(var t=0;t<this.length;t++)if(this[t]!==n[t])return!1;return!0}return!1},enumerable:!1,configurable:!0});window.ArrayBuffer&&(ArrayBuffer.prototype.polyfill_slice=function(n,t){var u,r,i;for(t=t||this.byteLength,u=new Uint8Array(this),r=new Uint8Array(t-n),i=n;i<t;i++)r[i-n]=u[i];return r.buffer},ArrayBuffer.prototype.slice=ArrayBuffer.prototype.slice||ArrayBuffer.prototype.polyfill_slice),function(n){"use strict";function t(n,t){if(!n)throw new Error(t);}n.assert=t}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var t=function(){function n(n){if(this._slidingWindow=[],this._sum=0,this._maxWindowLength=n,n<1)throw new Error("window length for average class should be greater than 0");}return n.prototype.dispose=function(){this._slidingWindow=null},Object.defineProperty(n.prototype,"average",{get:function(){return this._slidingWindow.length===0?0:this._sum/this._slidingWindow.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"latest",{get:function(){return this._slidingWindow.length===0?0:this._slidingWindow[this._slidingWindow.length-1]},enumerable:!0,configurable:!0}),n.prototype.addValue=function(n){if(this._slidingWindow.length>=this._maxWindowLength){var t=this._slidingWindow.splice(0,1);t[0]!=Infinity?this._sum-=t[0]:this._sum=this._slidingWindow.reduce(function(n,t){return n+t})}this._slidingWindow.push(n);this._sum+=n},n}();n.AverageCalculator=t})(n.Util||(n.Util={}));var t=n.Util}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";function f(){var n=/.*Mac OS X (\d+)_(\d+)_*.*\).*/.exec(navigator.userAgent),t,i;return n&&n.length===3?(t=parseInt(n[1],10),i=parseInt(n[2],10),t==10&&i<=11||t<10):!1}function i(t,i,r){typeof r=="undefined"&&(r=n.timestampDeltaThreshold);var u=i-t;return Math.abs(u)<r&&(u=0),u}function e(n,t,i){for(var u=0,f=t.length-1,r=0,e;u<=f;)if(r=Math.floor((u+f)/2),e=i(n,t[r]),e<0)f=r-1;else if(e>0)u=r+1;else return r;return-1}function o(n,t,i){var f=0,u=t.length-1,r=0,e;if(u<=0)return-1;while(f<=u){if(r=Math.floor((f+u)/2),0===r)return i(n,t[f],t[u])?-1:1;if(e=i(n,t[r-1],t[r]),e<0)u=r-1;else if(e>0)f=r+1;else return r}return-1}function s(n,t,i){var f=0,u=t.length-1,r=0,e;if(u<0)return-1;if(u===0)return i(n,t[0]);while(f<=u){if(r=Math.floor((f+u)/2),0===r)return i(n,t[f],t[u]);if(e=i(n,t[r-1],t[r]),e<0)u=r-1;else if(e>0)f=r+1;else return r-1}return t.length-1}function h(n){for(var t,r="",i=0;i<n.length;i++)t=n[i].toString(16),r+=t.length<2?"0"+t:t;return r}function c(n){var t,r,i,u;if(n.length<=2||n.substr(0,2).toLowerCase()!="0x")throw new Error("Invalid hexString");for(t=n.substr(2),n.length%2!=0&&(t="0"+t),r=new Uint8Array(t.length/2),i=0;i<t.length;i+=2){if(u=parseInt(t.substr(i,2),16),isNaN(u))throw new Error("Invalid hexString");r[i/2]=u}return r}function l(n){return n<0&&(n=4294967295+n+1),"0x"+("00000000"+n.toString(16).toUpperCase()).substr(-8)}function a(n){for(var i="",t=0;t<n.byteLength;t++)i+=String.fromCharCode(n[t]);return i}function v(n){for(var i=new Uint8Array(n.length),t=0;t<i.byteLength;t++)i[t]=n.charCodeAt(t);return i}var t,r,u;n.timestampDeltaThreshold=.0005;n.nearDiscontinuityThreshold=2;n.isChrome=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);n.isEdge=/Edge/i.test(navigator.userAgent);n.isIEMobile=/IEMobile\/([0-9.]*)/.test(navigator.userAgent);n.isSafari=/Safari/i.test(navigator.userAgent)&&!n.isChrome&&!n.isEdge&&!n.isIEMobile;n.isOSXElCapitanOrEarlier=f;n.diffTimes=i;t=function(){function n(n,t){this.startInSec=n;this.endInSec=t}return n}();n.TimeRange=t;r=function(){function r(){this._timeRanges=[]}return r.prototype.dispose=function(){this._timeRanges=null},Object.defineProperty(r.prototype,"length",{get:function(){return this._timeRanges.length},enumerable:!0,configurable:!0}),r.prototype.start=function(n){return this._timeRanges[n].startInSec},r.prototype.end=function(n){return this._timeRanges[n].endInSec},r.prototype.duration=function(n){return this._timeRanges[n].endInSec-this._timeRanges[n].startInSec},r.prototype.extendLast=function(n){this._timeRanges[this._timeRanges.length-1].endInSec=n},r.prototype.addRange=function(n){this._timeRanges.push(n)},r.prototype.addRanges=function(n){if(n)for(var i=0;i<n.length;i++)this.addRange(new t(n.start(i),n.end(i)))},r.prototype.removeRange=function(i,r){var u,e,f;if(i<r)for(u=0;u<this._timeRanges.length;u++)(e=this._timeRanges[u].startInSec,f=this._timeRanges[u].endInSec,n.diffTimes(f,i)>=0)||n.diffTimes(r,e)>=0||(n.diffTimes(e,i)>=0&&n.diffTimes(i,f)>=0&&n.diffTimes(f,r)>=0?this._timeRanges[u].endInSec=i:n.diffTimes(e,i)>=0&&n.diffTimes(r,f)>=0?(this._timeRanges[u].endInSec=i,this._timeRanges.splice(u+1,0,new t(r,f))):n.diffTimes(i,e)>=0&&n.diffTimes(f,r)>=0?(this._timeRanges.splice(u,1),--u):n.diffTimes(i,e)>=0&&n.diffTimes(e,r)>=0&&n.diffTimes(r,f)>=0&&(this._timeRanges[u].startInSec=r),n.diffTimes(this._timeRanges[u].endInSec,this._timeRanges[u].startInSec)>=0&&(this._timeRanges.splice(u,1),--u))},r.prototype.rebase=function(n){this._timeRanges.forEach(function(t){t.startInSec-=n;t.endInSec-=n})},r.prototype.removeGaps=function(n){for(var t=0;t+1<this._timeRanges.length;)this._timeRanges[t+1].startInSec-this._timeRanges[t].endInSec<n?(this._timeRanges[t].endInSec=this._timeRanges[t+1].endInSec,this._timeRanges.splice(t+1,1)):t++},r.prototype.getIndexByInRangeTimestamp=function(n){for(var i,r,t=0;t<this._timeRanges.length;t++){if(i=this._timeRanges[t],n<i.startInSec)return-1;if(i.startInSec<=n&&n<i.endInSec)return t;if(t+1>=this._timeRanges.length)return-2;if(r=this._timeRanges[t+1],i.endInSec<=n&&n<=r.startInSec)return t+1}return-1},r.prototype.beforeDiscontinuity=function(t,r){return r<0||r+1>=this._timeRanges.length||this._timeRanges[r].startInSec>t||t>=this._timeRanges[r].endInSec?!1:0!==i(this._timeRanges[r].endInSec,this._timeRanges[r+1].startInSec)&&this._timeRanges[r].endInSec-t<n.nearDiscontinuityThreshold},r.prototype.atOrAfterDiscontinuity=function(t,r){return r<=0||r>=this._timeRanges.length||this._timeRanges[r-1].endInSec>t||t>=this._timeRanges[r].endInSec?!1:0!==i(this._timeRanges[r-1].endInSec,this._timeRanges[r].startInSec)&&(t<this._timeRanges[r].startInSec||t-this._timeRanges[r].startInSec<n.nearDiscontinuityThreshold)},r}();n.TimeRangeSet=r;u=function(){function n(n,t,i){this.presTimeInSec=t;this.durationInSec=i;this.data=n}return Object.defineProperty(n.prototype,"endTimestampInSec",{get:function(){return this.presTimeInSec+this.durationInSec},enumerable:!0,configurable:!0}),n}();n.SegmentData=u;n.binarySearch=e;n.binarySearchInGaps=o;n.binarySearchTimeline=s;n.uint8ArrayToHexString=h;n.hexStringToUint8Array=c;n.toHexString=l;n.uint8ArrayToString=a;n.stringToUint8Array=v})(n.Common||(n.Common={}));var t=n.Common}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var i=function(){function n(n,t){typeof t=="undefined"&&(t=0);this.data=n;this.readPos=t}return n.prototype.getUint8=function(){return this.data.getUint8(this.readPos++)},n.prototype.getUint32=function(){var n=this.data.getUint32(this.readPos);return this.readPos+=4,n},n.prototype.getInt32=function(){var n=this.data.getInt32(this.readPos);return this.readPos+=4,n},n.prototype.getBytes=function(n){for(var i=new Uint8Array(n),t=0;t<n;t++)i[t]=this.getUint8();return i},n.prototype.readString=function(n){for(var t="",i=0;i<n;i++)t+=String.fromCharCode(this.getUint8());return t},n}(),t;n.Reader=i;t=function(){function n(n,t){typeof t=="undefined"&&(t=0);this.data=n;this.writePos=t}return n.prototype.setUint8=function(n){this.data.setUint8(this.writePos++,n)},n.prototype.setUint32=function(n){this.data.setUint32(this.writePos,n);this.writePos+=4},n.prototype.setInt32=function(n){this.data.setInt32(this.writePos,n);this.writePos+=4},n.prototype.setString=function(n){for(var t=0;t<n.length;t++)this.setUint8(n.charCodeAt(t))},n.prototype.setBytes=function(n){for(var t=0;t<n.length;t++)this.setUint8(n[t])},n}();n.Writer=t})(n.DataViewReaderWriter||(n.DataViewReaderWriter={}));var t=n.DataViewReaderWriter}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var r=function(){function n(n,t){typeof n=="undefined"&&(n=null);typeof t=="undefined"&&(t=!0);this._azureHtml5=n;this._allowDuplicateHandlers=t;this._registrations={}}return n.prototype.dispose=function(){this._registrations=null},n.prototype.getHandlers=function(n){return n in this._registrations||(this._registrations[n]=[]),this._registrations[n]},n.prototype.addHandler=function(n,t,r){var u=this.getHandlers(n),f;(this._allowDuplicateHandlers||-1===this._findHandlerByFunction(u,t))&&(f=new i(r,t),u[u.length]=f)},n.prototype.removeHandler=function(n,t){for(var i=this.getHandlers(n),r=this._findHandlerByFunction(i,t);r!==-1;)i.splice(r,1),r=this._findHandlerByFunction(i,t)},n.prototype.dispatchEvent=function(n,i){for(var f,e=this,r=0,u=this.getHandlers(n).slice(),r=0;r<u.length;r++)f=new t(n,e._azureHtml5,i),u[r].functionHandler.call(u[r].callerInstance,f)},n.prototype._findHandlerByFunction=function(n,t){for(var r=-1,i=0;i<n.length;i++)if(n[i].functionHandler===t){r=i;break}return r},n}(),t,i;n.Manager=r;t=function(){function n(n,t,i){this.type=n;this.currentDate=new Date;this.azureHtml5=t;this.presentationTimeInSec=t?t.currentTime:0;this.message=i}return n}();n.EventInfo=t;i=function(){function n(n,t){this.callerInstance=n;this.functionHandler=t}return n}();n.Handler=i})(n.Events||(n.Events={}));var t=n.Events}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function u(n){return n>=400&&n<600?2097152|n:2097152}function f(n){var t="";return n.filename&&(t+=" file: "+n.filename),n.lineno&&(t+=" line: "+n.lineno),n.colno&&(t+=" colno: "+n.colno),n.error&&(t+="error: "+n.error),n.message&&(t+="msg: "+n.message),t}function e(t){if(undefined===t||null===t)return"undefined";var i=s(t.code);return t.msExtendedCode&&(i+=", msErrorCode: "+n.Common.toHexString(t.msExtendedCode)),i}function o(n,t,r,u){var f=new i(t,r,u);null!=n&&(n.externalFailure=f)}function s(n){switch(n){case MediaError.MEDIA_ERR_ABORTED:return"MEDIA_ERR_ABORTED";case MediaError.MEDIA_ERR_NETWORK:return"MEDIA_ERR_NETWORK";case MediaError.MEDIA_ERR_DECODE:return"MEDIA_ERR_DECODE";case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return n.toString()}}function h(n){return n>1048575}var i=function(){function t(n,t,i){this.originModuleId=n;this.code=t;this.message=i}return t.prototype.dispose=function(){this.originModuleId=null;this.code=null;this.message=null},t.prototype.toString=function(){var t;return t="Module = "+this.originModuleId+" FailureCode = "+n.Common.toHexString(this.code),this.message&&(t+=" "+this.message),t},t}(),r;t.Record=i;t.translateHttpStatusToCode=u;t.errorEventToString=f;t.mediaErrorToString=e;t.attachFailureToRequest=o;t.isExternalError=h;r=function(){function t(n,t){n?(this.code=n,this.message=t):(this.code=0,this.message=null)}return t.prototype.translateMediaError=function(t){this.code=t.code<<20;t.msExtendedCode&&(this.message="msErrorCode: "+n.Common.toHexString(t.msExtendedCode))},t.prototype.toString=function(){var t="code: "+n.Common.toHexString(this.code);return this.message&&(t+=", msg: "+this.message),t},t}();t.External=r})(n.Failure||(n.Failure={}));var t=n.Failure}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";function l(n,t){u(n,3,t)}function a(n,t){u(n,2,t)}function v(n,t){u(n,1,t)}function y(n){i=n}function p(n){undefined===n||null===n?t.forEach(function(n,t,i){i[t]=!0}):t[n]=!0}function w(n){undefined===n||null===n?t.forEach(function(n,t,i){i[t]=!1}):t[n]=!1}function b(n){typeof n=="undefined"&&(n=!0);h=n}function k(n){typeof n=="undefined"&&(n=!0);var t=e;return n&&(e=""),t}function d(n,t){o=n;c=t}function u(n,u,f){var l,a;if(o&&u<=i){o(c,u,r[n]+": "+f);return}l=new Date(Date.now());u<=i&&t[n]&&(a="["+l.getHours()+":"+l.getMinutes()+":"+(l.getSeconds()+l.getMilliseconds()/1e3).toFixed(3)+"] "+s[u]+": "+r[n]+": "+f,h&&(e+="\n"+a),console.log(a))}var s,r,i,t,f;for(function(n){n[n.none=0]="none";n[n.error=1]="error";n[n.warning=2]="warning";n[n.verbose=3]="verbose"}(n.Level||(n.Level={})),s=n.Level,function(n){n[n.workflowSequencer=0]="workflowSequencer";n[n.workflowCoordinator=1]="workflowCoordinator";n[n.htmlAdapter=2]="htmlAdapter";n[n.videoElementAdapter=3]="videoElementAdapter";n[n.manifestParser=4]="manifestParser";n[n.httpDataRetriever=5]="httpDataRetriever";n[n.dashUrlFormatter=6]="dashUrlFormatter";n[n.azureHTML5=7]="azureHTML5";n[n.heuristics=8]="heuristics";n[n.segmentLocator=9]="segmentLocator";n[n.mediaParser=10]="mediaParser";n[n.mp4Parser=11]="mp4Parser";n[n.encrypted=12]="encrypted";n[n.common=13]="common";n[n.functionalTest=14]="functionalTest";n[n.max=15]="max"}(n.Area||(n.Area={})),r=n.Area,n.verbose=l,n.warning=a,n.error=v,n.setConsoleOutputByLevel=y,n.enableConsoleOutputByArea=p,n.disableConsoleOutputByArea=w,n.enableMemoryLog=b,n.getMemoryLog=k,n.setLoggerFunction=d,i=0,t=[],f=0;f<15;f++)t.push(!1);var h=!1,e="",o=undefined,c=null;n.enableConsoleOutputByArea();n.setConsoleOutputByLevel(1)})(n.Log||(n.Log={}));var t=n.Log}(AzureHtml5JS||(AzureHtml5JS={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";function r(t,i,r){typeof r=="undefined"&&(r=0);var u,f=r;if(!i||i.length!==4)return n.Log.error(11,"Parameter error, box type must have four characters"),null;if(!t||t.byteLength<8)return n.Log.error(11,"Parameter error, not enough data"),null;while(f<t.byteLength){if(u=c(t,f),!u)break;if(u.type===i)return u;f+=u.size}return null}function c(t,i){if(!t||t.byteLength-i<8)return n.Log.error(11,"MP4 box parsing error, not enough data for box header"),null;var r=new f(t,i);if(r.size=r.getUint32(),r.type=r.readString(4),r.size===1){if(t.byteLength-i<16)return n.Log.error(11,"MP4 box parsing error, not enough data for largesize"),null;if(r.size=r.getUint32()<<32,r.size+=r.getUint32(),r.size>9007199254740991)return n.Log.error(11,"Box size too big for precise representation as Javascript number"),null}else r.size===0&&(r.size=t.byteLength);if(r.size>t.byteLength-i)return null;if(r.type==="uuid"){if(t.byteLength-r.readPosition<16)return n.Log.error(11,"MP4 box parsing error, not enough data for usertype"),null;r.usertype=r.readString(16)}return r.data=new DataView(t.buffer,t.byteOffset+r.readPosition,t.byteLength-r.readPosition),r}function l(t){var i,u=null;return(i=r(t,"tfhd"),!i)?(n.Log.warning(11,"tfhd not found"),null):(u=e.parse(i),u||n.Log.warning(11,"Parsing of tfhd failed"),u)}function a(t){var i,u=null;return(i=r(t,"trun"),!i)?(n.Log.warning(11,"trun not found"),null):(u=o.parse(i),u||n.Log.warning(11,"Parsing of trun failed"),u)}function v(t){var i,u=null;return(i=r(t,"tfdt"),!i)?(n.Log.warning(11,"tfdt not found"),null):(u=h.parse(i),u||n.Log.warning(11,"Parsing of tfdt failed"),u)}function y(t){for(var i,f=[],e=0,o;e<t.byteLength;){if(i=r(t,u.typeStr,e),!i)return n.Log.warning(11,"pssh not found"),f;o=u.parse(i);o?f.push(o):n.Log.warning(11,"Parsing of pssh failed");e+=i.size}return f}var f=function(){function t(t,i){t&&typeof i!="undefined"&&(this.data=t,this.reader=new n.DataViewReaderWriter.Reader(t,i))}return t.prototype.getUint32=function(){return this.reader.getUint32()},t.prototype.getInt32=function(){return this.reader.getInt32()},t.prototype.getUint8=function(){return this.reader.getUint8()},t.prototype.getBytes=function(n){return this.reader.getBytes(n)},t.prototype.readString=function(n){return this.reader.readString(n)},Object.defineProperty(t.prototype,"readPosition",{get:function(){return this.reader.readPos},enumerable:!0,configurable:!0}),t}(),i,e,o,s,h,u;t.Mp4Box=f;i=function(t){function i(i){t.call(this);i&&(this.size=i.size,this.type=i.type,this.usertype=i.usertype,this.data=i.data,this.reader=new n.DataViewReaderWriter.Reader(this.data),this._versionFlags=i._versionFlags)}return __extends(i,t),i.parse=function(t){var r=null;return t.data.byteLength<4?(n.Log.error(11,"Full box parsing error, not enough bytes"),null):(r=new i,r.size=t.size,r.type=t.type,r.usertype=t.usertype,r._versionFlags=t.data.getUint32(0),r.data=new DataView(t.data.buffer,t.data.byteOffset+4,t.data.byteLength-4),r.reader=new n.DataViewReaderWriter.Reader(r.data),r)},i.serialize=function(t,i){var f=(t.type==="uuid"?16:0)+12,u=i+f,e=new ArrayBuffer(u),o=new DataView(e),r=new n.DataViewReaderWriter.Writer(o);if(u>4294967295)throw new Error("Mp4FullBox::serialize, large size is not supported");if(r.setUint32(u),r.setString(t.type),t.type==="uuid"&&r.setString(t.usertype),r.setUint32(t._versionFlags),r.writePos!==f)throw new Error("Mp4FullBox::serialize, inconsistent bytes written");return r},Object.defineProperty(i.prototype,"version",{get:function(){return this._versionFlags>>24},set:function(n){this._versionFlags&=16777215;this._versionFlags|=n<<24},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"flags",{get:function(){return this._versionFlags&16777215},set:function(n){this._versionFlags&=4278190080;this._versionFlags|=n&16777215},enumerable:!0,configurable:!0}),i.prototype.getUint32Cond=function(n){var t;return n&this.flags&&(t=this.reader.getUint32()),t},i}(f);t.Mp4FullBox=i;e=function(t){function r(n){t.call(this,n)}return __extends(r,t),r.parse=function(t){var u=null,f=null;return(f=i.parse(t),!f)?null:(u=new r(f),f.data.byteLength<u._calculatedSize())?(n.Log.error(11,"tfhd box parsing error, not enough data"),null):(u.trackId=u.getUint32(),u.baseDataOffsetHi=u.getUint32Cond(r.flags_baseDataOffsetPresent),u.baseDataOffsetLo=u.getUint32Cond(r.flags_baseDataOffsetPresent),u.sampleDescriptionIndex=u.getUint32Cond(r.flags_sampleDescriptionIndexPresent),u.defaultSampleDuration=u.getUint32Cond(r.flags_defaultSampleDurationPresent),u.defaultSampleSize=u.getUint32Cond(r.flags_defaultSampleSizePresent),u.defaultSampleFlags=u.getUint32Cond(r.flags_defaultSampleFlagsPresent),u)},r.prototype._calculatedSize=function(){var n=4;return n+=this.flags&r.flags_baseDataOffsetPresent?8:0,n+=this.flags&r.flags_sampleDescriptionIndexPresent?4:0,n+=this.flags&r.flags_defaultSampleDurationPresent?4:0,n+=this.flags&r.flags_defaultSampleSizePresent?4:0,n+(this.flags&r.flags_defaultSampleFlagsPresent?4:0)},r.typeStr="tfhd",r.flags_baseDataOffsetPresent=1,r.flags_sampleDescriptionIndexPresent=2,r.flags_defaultSampleDurationPresent=8,r.flags_defaultSampleSizePresent=16,r.flags_defaultSampleFlagsPresent=32,r.flags_durationIsEmpty=65536,r.flags_defaultBaseIsMoof=131072,r}(i);t.TfhdBox=e;o=function(t){function r(n){t.call(this,n)}return __extends(r,t),r.parse=function(t){var u=null,e=null,o,f;if(e=i.parse(t),!e)return null;if((u=new r(e),e.data.byteLength<4)||(u.sampleCount=u.getUint32(),e.data.byteLength<u._calculatedSize()))return n.Log.error(11,"trun box parsing error, not enough data"),null;for(u.dataOffset=u.getUint32Cond(r.flags_dataOffsetPresent),u.firstSampleFlags=u.getUint32Cond(r.flags_firstSampleFlagsPresent),u.sampleInfoArray=[],o=0;o<u.sampleCount;o++)f=new s,f.sampleDuration=u.getUint32Cond(r.flags_sampleDurationPresent),f.sampleSize=u.getUint32Cond(r.flags_sampleSizePresent),f.sampleFlags=u.getUint32Cond(r.flags_sampleFlagsPresent),u.flags&r.flags_sampleCompositionTimeOffsetsPresent&&(f.sampleCompositionTimeOffset=u.version===0?u.getUint32():u.getInt32()),u.sampleInfoArray.push(f);return u},r.prototype._calculatedSize=function(){var t=4,n;return t+=this.flags&r.flags_dataOffsetPresent?4:0,t+=this.flags&r.flags_firstSampleFlagsPresent?4:0,n=this.flags&r.flags_sampleDurationPresent?4:0,n+=this.flags&r.flags_sampleSizePresent?4:0,n+=this.flags&r.flags_sampleFlagsPresent?4:0,n+=this.flags&r.flags_sampleCompositionTimeOffsetsPresent?4:0,t+this.sampleCount*n},r.typeStr="trun",r.flags_dataOffsetPresent=1,r.flags_firstSampleFlagsPresent=4,r.flags_sampleDurationPresent=256,r.flags_sampleSizePresent=512,r.flags_sampleFlagsPresent=1024,r.flags_sampleCompositionTimeOffsetsPresent=2048,r}(i);t.TrunBox=o;s=function(){function n(){}return n}();t.TrunSampleInfo=s;h=function(t){function r(n){t.call(this,n);this.baseMediaDecodeTime=0}return __extends(r,t),r.parse=function(t){var u=null,f=null;return(f=i.parse(t),!f)?null:(u=new r(f),f.data.byteLength<u._calculatedSize())?(n.Log.error(11,"tfdt box parsing error, not enough data"),null):(u.version===1&&(u.baseMediaDecodeTime=u.getUint32()*4294967296),u.baseMediaDecodeTime+=u.getUint32(),u.baseMediaDecodeTime>=9007199254740992&&n.Log.warning(11,"tfdt timestamp greater than 53 bits, possible precision loss"),u)},r.prototype._calculatedSize=function(){return this.version===1?8:4},r.typeStr="tfdt",r}(i);t.TfdtBox=h;u=function(t){function r(n){n?t.call(this,n):this.type=r.typeStr;this._keyIds=[]}return __extends(r,t),r.parse=function(t){var u=null,f=null,e,o,h,s;if(f=i.parse(t),!f)return null;if(u=new r(f),f.data.byteLength<u._calculatedSize())return n.Log.error(11,"pssh box parsing error, not enough data"),null;if(u.systemId=u.getBytes(16),e=0,u.version>0){if(e=u.getUint32(),u._keyIds.length=e,f.data.byteLength<u._calculatedSize())return n.Log.error(11,"pssh box parsing error, not enough data"),null;for(o=0;o<e;o++)h=u.getBytes(16),u._keyIds[o]=h}return(s=u.getUint32(),f.data.byteLength<u._calculatedSize(s))?(n.Log.error(11,"pssh box parsing error, not enough data"),null):(u.specificData=u.getBytes(s),u)},r.prototype.addKeyId=function(n){if(n.length!==16)throw new Error("keyId must be 16 bytes");this.version=1;this._keyIds.push(n)},Object.defineProperty(r.prototype,"keyIds",{get:function(){return this._keyIds},enumerable:!0,configurable:!0}),r.prototype._calculatedSize=function(n){typeof n=="undefined"&&(n=0);var t=20+n;return this.version>0&&(t+=4+this._keyIds.length*16),t},r.prototype.serialize=function(){var n=i.serialize(this,this._calculatedSize(this.specificData.byteLength));if(!this.systemId)throw new Error("systemId is not set");if(n.setBytes(this.systemId),this.version>0&&(n.setUint32(this._keyIds.length),this._keyIds.forEach(function(t){n.setBytes(t)})),!this.specificData)throw new Error("specificData is not set");if(n.setUint32(this.specificData.byteLength),n.setBytes(this.specificData),n.writePos!=n.data.buffer.byteLength)throw new Error("Failed to write to end of buffer");return n.data.buffer},r.typeStr="pssh",r}(i);t.PsshBox=u;t.GetBoxByType=r;t.GetTfhdBox=l;t.GetTrunBox=a;t.GetTfdtBox=v;t.GetPsshBoxes=y})(n.Mp4Util||(n.Mp4Util={}));var t=n.Mp4Util}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(){return n.VideoElementAdapter.supported("video/mp4",'codecs="avc1.4d404f"')}function r(n){var i=!1,t;return n&&n.canPlayType&&(t=n.canPlayType("application/vnd.apple.mpegurl"),(t==="maybe"||t==="probably")&&(i=!0)),i}function u(n){var i=!1,t;return n&&n.canPlayType&&(t=n.canPlayType("video/mp4"),(t==="maybe"||t==="probably")&&(i=!0)),i}(function(n){n[n.type1=1]="type1";n[n.type2=2]="type2";n[n.type3=3]="type3"})(t.Type||(t.Type={}));var f=t.Type;t.MseSupported=i;t.HlsType1Supported=r;t.Mp4Type1Supported=u})(n.PlayerDetector||(n.PlayerDetector={}));var t=n.PlayerDetector}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function s(n,t){var r;if(n&&n.length>0&&(r=n.trim().toLowerCase(),f[r]))return i(f[r],t)}function h(n,t){var f=n.trim().toLowerCase(),s,h;return f.lastIndexOf(".ism/")>-1&&(s=o(f),r[s])?i(r[s],t):(h=e(f),u[h])?i(u[h],t):null}function e(n){var i=null,t=n.lastIndexOf("."),r=n.indexOf("/",t);return t>-1&&(i=n.substring(t+1,r!==-1?r:n.length)),i}function o(n){var t=null,i=n,e="(format=",o=n.lastIndexOf("?"),r,u,f;return o>-1&&(i=n.substring(0,o)),r=i.lastIndexOf(e),r>-1&&(u=i.lastIndexOf(")"),u>r&&(t=i.substring(r+e.length,u),f=t.indexOf(","),f>-1&&(t=t.substring(0,f)))),t}function i(t,i){var r=null;switch(t){case 1:n.PlayerDetector.HlsType1Supported(i)&&(r=1);break;case 2:n.PlayerDetector.Mp4Type1Supported(i)&&(r=1);break;case 3:n.PlayerDetector.MseSupported(i)&&(r=3)}return r}(function(n){n[n.hls=1]="hls";n[n.mp4=2]="mp4";n[n.dash=3]="dash"})(t.Format||(t.Format={}));var c=t.Format,r={"m3u8-aapl-v3":1,"m3u8-aapl-v4":1,"mpd-time-csf":3},u={mp4:2,m3u8:1},f={"video/mp4":2,"application/dash+xml":3,"application/vnd.apple.mpegurl":1};t.getByPresentationType=s;t.getByUrl=h;t._getFileExtension=e;t._getAzureMediaFormatTag=o;t._getPlayerTypeByFormat=i})(n.PlayerType||(n.PlayerType={}));var t=n.PlayerType}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function f(n){for(var r,t=0;t<i.length;t++)if(i[t]&&i[t].id&&i[t].id==n)return r=i.splice(t,1),r.length===1?r[0]:null;return null}var r,i,e,u;if(t.setTimeout=window.setTimeout.bind(window),t.clearTimeout=window.clearTimeout.bind(window),!window.Worker||!Blob||!window.URL||!window.URL.createObjectURL){n.Log.verbose(7,"AzureHtml5JS.Util: cannot override setTimeout/clearTimeout");return}r=0;i=[];try{e=new Blob(["'use strict';(function () {var timers = [];onmessage = function (event) {if (!event.data.id) {return;}if (event.data.start) {if (event.data.ms) {var internalId = setTimeout(function () {var expiredId = removeTimer(event.data.id);if (expiredId && expiredId.external) {postMessage({ type: 'timeout', id: expiredId.external });}}, event.data.ms);timers.push({ external: event.data.id, internal: internalId });postMessage({ type: 'started', id: event.data.id });}else {postMessage({ type: 'timeout', id: event.data.id });}}else if (event.data.stop) {var removedId = removeTimer(event.data.id);if (removedId && removedId.internal) {clearTimeout(removedId.internal);}postMessage({ type: 'cancelled', id: event.data.id });}};function removeTimer(timerId) {for (var i = 0; i < timers.length; i++) {if (timers[i] && timers[i].external && timers[i].external == timerId) {var removed = timers.splice(i, 1);return removed.length === 1 ? removed[0] : null;}}return null;}})();"],{type:"text/javascript"});u=new Worker(window.URL.createObjectURL(e));u.onmessage=function(n){if(n.data.type==="timeout"){var t=f(n.data.id);t&&t.callback&&t.callback.apply(t.ctx,t.args)}else n.data.type==="cancelled"&&f(n.data.id)};t.setTimeout=function(n,t){for(var e=[],f=0;f<arguments.length-2;f++)e[f]=arguments[f+2];return r++,i.push({id:r,ctx:this,callback:n,args:e}),u.postMessage({start:!0,id:r,ms:t}),r};t.clearTimeout=function(n){u.postMessage({stop:!0,id:n})}}catch(o){n.Log.verbose(7,"AzureHtml5JS.Util: setTimeout/clearTimeout override failed: "+o)}})(n.Util||(n.Util={}));var t=n.Util}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(n){var t=n.requestedStream.streamingInfo.currentSegment,i=t.segmentInfo.durationInSec;return!i&&n.sessionContext.commonPresentation.isLive&&t.prev&&(i=t.prev.segmentInfo.durationInSec),i}function r(t){return n.assert(t.requestedStream.type===0||t.requestedStream.type===1,"getBufferData: unexpected type"),t.requestedStream.type===0?t.sessionContext.videoBufferData:t.sessionContext.audioBufferData}t.getSegmentDuration=i;t.getBufferData=r})(n.StreamUtil||(n.StreamUtil={}));var t=n.StreamUtil}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";function r(n,r){var f,u,e="",h,o,s;if(n.length>t?(f=parseInt(n.slice(0,n.length-t),10),u=parseInt(n.slice(n.length-t),10)):(f=0,u=parseInt(n,10)),u+=r,u>=i&&(h=Math.floor(u/i),f+=h,u=u%i),o=u.toString(),f)for(e=f.toString(),s=0;s<t-o.length;s++)e+="0";return e+o}var t=6,i=Math.pow(10,t);n.add=r})(n.Timestamp||(n.Timestamp={}));var t=n.Timestamp}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var t=function(){function t(){}return t.FormatDashMediaUrl=function(n,t,i){if(!n)throw new Error("url Template is not set");var r=n;return t!==null&&t!==undefined&&t!==""&&(r=r.replace("$Bandwidth$",t)),i!==null&&i!==undefined&&i!==""&&(r=r.replace("$Time$",i)),r},t.FormatDashInitUrl=function(t,i){return n.UrlFormatter.FormatDashMediaUrl(t,i,null)},t}();n.UrlFormatter=t})(n.Util||(n.Util={}));var t=n.Util}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function u(n,t,u){var f="WebKitMediaKeys"in window,e="MSMediaKeys"in window,o="requestMediaKeySystemAccess"in navigator;if(o){var s=new i(t),h=new i(u),c=new r(["cenc"],[s],[h]);return navigator.requestMediaKeySystemAccess(n,[c])}return new Promise(function(t,i){var r="video/mp4";if(f){window.WebKitMediaKeys.isTypeSupported(n,r)?t():i();return}if(e){window.MSMediaKeys.isTypeSupported(n,r)?t():i();return}i();return})}function f(n,t,r){var u={initDataTypes:["cenc"],videoCapabilities:[new i(r)],audioCapabilities:[new i(t)]},f=[u];return navigator.requestMediaKeySystemAccess(n,f)}function e(n){var t="WebKitMediaKeys"in window,i="MSMediaKeys"in window;if(t)return new window.WebKitMediaKeys(n);if(i)return new window.MSMediaKeys(n);throw new Error("create MediaKeys not supported");}function o(n,t){var i="WebKitSetMediaKeys"in n,r="msSetMediaKeys"in n;if(i)n.WebKitSetMediaKeys(t);else if(r)n.msSetMediaKeys(t);else throw new Error("setMediaKeys not supported");}function s(n,t){n.addEventListener("webkitneedkey",t);n.addEventListener("msneedkey",t)}function h(n,t){n.addEventListener("encrypted",t)}function c(n,t){n.addEventListener("message",t)}function l(n,t){n.addEventListener("webkitkeymessage",t);n.addEventListener("mskeymessage",t)}function a(n,t){n.addEventListener("webkitkeyadded",t);n.addEventListener("mskeyadded",t)}function v(n,t){n.addEventListener("webkitkeyerror",t);n.addEventListener("mskeyerror",t)}function y(n,t){n.removeEventListener("webkitneedkey",t);n.removeEventListener("msneedkey",t)}function p(n,t){n.removeEventListener("encrypted",t)}function w(n,t){n.removeEventListener("message",t)}function b(n,t){n.removeEventListener("webkitkeymessage",t);n.removeEventListener("mskeymessage",t)}function k(n,t){n.removeEventListener("webkitkeyadded",t);n.removeEventListener("mskeyadded",t)}function d(n,t){n.removeEventListener("webkitkeyerror",t);n.removeEventListener("mskeyerror",t)}var r=function(){function n(n,t,i){this.initDataTypes=n;this.audioCapabilities=t;this.videoCapabilities=i}return n}(),i=function(){function t(t){this.contentType=t;this.robustness=n.Common.isChrome?"SW_SECURE_CRYPTO":""}return t}();t.isTypeSupported=u;t.createSupportedKeySystem=f;t.createMediaKeys=e;t.setMediaKeys=o;t.listenToNeedKey=s;t.listenToEncrypted=h;t.listenToMessage=c;t.listenToKeyMessage=l;t.listenToKeyAdded=a;t.listenKeyError=v;t.unlistenToNeedKey=y;t.unlistenToEncrypted=p;t.unlistenToMessage=w;t.unlistenToKeyMessage=b;t.unlistenToKeyAdded=k;t.unlistenKeyError=d})(n.EmeUtil||(n.EmeUtil={}));var t=n.EmeUtil}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){if(!t.useJavascriptLibrary){var i="msCrypto"in window,n=i?window.msCrypto:window.crypto;this._webCryptor=n.subtle||n.webkitSubtle}}return t.prototype.dispose=function(){this._webCryptor=null},t.prototype.initialize=function(t,i,r){var f=this,u={name:"aes-cbc",iv:r};return new Promise(function(e,o){f._webCryptoImportKey(i,u).then(function(n){t.webCrypto={importedkey:n,algorithm:u};e()},function(u){if(!i||!r){o(u);return}t.forge={keyStr:n.Common.uint8ArrayToString(new Uint8Array(i)),ivStr:n.Common.uint8ArrayToString(new Uint8Array(r))};e()})})},t.prototype.isInitialized=function(n){return null!=n.forge||null!=n.webCrypto},t.prototype.decrypt=function(n,t){var i=this;return new Promise(function(r,u){n.webCrypto?i._webCryptoDecrypt(n.webCrypto.algorithm,n.webCrypto.importedkey,t).then(function(n){r(n)},function(n){u(n)}):i._forgeDecrypt(n.forge,t).then(function(n){r(n)},function(n){u(n)})})},t.prototype._webCryptoImportKey=function(n,t){var i=this;return new Promise(function(r,u){function e(n){var t=f.result?f.result:n;r(t)}function o(n){u(n)}if(!i._webCryptor){u("Platform doesn't support webCrypto");return}var f=i._webCryptor.importKey("raw",new Uint8Array(n),t,!1,["decrypt"]);"oncomplete"in f?(f.oncomplete=e,f.onerror=o):f.then(function(n){e(n)},function(n){o(n)})})},t.prototype._forgeDecrypt=function(i,r){return new Promise(function(u,f){function e(){n.Forge.decrypt(s,i,r)||(Date.now()-o<t._maxWorkerWaitMSec?n.Util.setTimeout(e,0):f())}function s(n){u(n.buffer)}var o=Date.now();e()})},t.prototype._webCryptoDecrypt=function(n,t,i){var r=this;return new Promise(function(u,f){function s(n){var t=e.result?e.result:n;u(t)}function o(n){f(n)}var e=r._webCryptor.decrypt(n,t,new Uint8Array(i));"oncomplete"in e?(e.oncomplete=s,e.onerror=o,e.onabort=o):e.then(function(n){s(n)},function(n){o(n)})})},t.useJavascriptLibrary=!1,t._maxWorkerWaitMSec=3e4,t}();t.Decryptor=i})(n.WebCryptoUtil||(n.WebCryptoUtil={}));var t=n.WebCryptoUtil}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(t,i,r,u,f){return new Promise(function(e,o){function h(){if(s.status==200){e(s.response);return}n.Log.error(13,"XHR load failed status:"+s.statusText+"("+s.status+"), expected to be 200, readyState:"+s.readyState+" ("+i+" "+t+")");o(n.Failure.translateHttpStatusToCode(s.status));return}function c(){n.Log.error(13,"XHR failed status: "+s.statusText+" ("+s.status+"), readyState: "+s.readyState);o(2097152);return}var s=new n.HttpRequest.XMLHttpRequestWrapper;s.onload=h;s.onerror=c;s.open(i,t);s.responseType=r;u&&u.forEach(function(n){s.setRequestHeader(n.name,n.value)});f?s.send(f):s.send()})}t.authorizationHeader="Authorization";t.httpRequest=i})(n.HttpUtil||(n.HttpUtil={}));var t=n.HttpUtil}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){function i(t,i){var r,h,u,f,s,e,o;if(!i||0===i.length)return!0;try{r=decodeURIComponent(i)}catch(c){return n.Log.error(12,c),!1}return(h="urn:microsoft:azure:mediaservices:keyacquisitionhostname",u=r.indexOf(h),-1===u)?!0:(f=r.indexOf("&",u),-1===f&&(f=r.length),s=r.substring(u,f),e=s.split("="),e.length!=2)?(n.Log.error(12,"AMS hostname token is malformed: "+s),!1):(o=document.createElement("a"),o.href=t,e[1].toLowerCase()!=o.hostname.toLowerCase())?(n.Log.error(12,"AMS hostname mismatch: "+e[1].toLowerCase()+", "+o.hostname.toLowerCase()),!1):!0}t.verifyKeyUrlWithToken=i})(n.AesUtil||(n.AesUtil={}));var t=n.AesUtil}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";n.forgeScript='(function(){function n(n){function i(n){var r,u;if(this.data="",this.read=0,typeof n=="string")this.data=n;else if(t.isArrayBuffer(n)||t.isArrayBufferView(n)){r=new Uint8Array(n);try{this.data=String.fromCharCode.apply(null,r)}catch(f){for(u=0;u<r.length;++u)this.putByte(r[u])}}else(n instanceof i||typeof n=="object"&&typeof n.data=="string"&&typeof n.read=="number")&&(this.data=n.data,this.read=n.read);this._constructedStringLength=0}var t=n.util=n.util||{},r;t.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};t.isArrayBuffer=function(n){return typeof ArrayBuffer!="undefined"&&n instanceof ArrayBuffer};t.isArrayBufferView=function(n){return n&&t.isArrayBuffer(n.buffer)&&n.byteLength!==undefined};t.ByteBuffer=i;t.ByteStringBuffer=i;r=4096;t.ByteStringBuffer.prototype._optimizeConstructedString=function(n){this._constructedStringLength+=n;this._constructedStringLength>r&&(this.data.substr(0,1),this._constructedStringLength=0)};t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};t.ByteStringBuffer.prototype.putByte=function(n){return this.putBytes(String.fromCharCode(n))};t.ByteStringBuffer.prototype.fillWithByte=function(n,t){n=String.fromCharCode(n);for(var i=this.data;t>0;)t&1&&(i+=n),t>>>=1,t>0&&(n+=n);return this.data=i,this._optimizeConstructedString(t),this};t.ByteStringBuffer.prototype.putBytes=function(n){return this.data+=n,this._optimizeConstructedString(n.length),this};t.ByteStringBuffer.prototype.putString=function(n){return this.putBytes(t.encodeUtf8(n))};t.ByteStringBuffer.prototype.putInt16=function(n){return this.putBytes(String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt24=function(n){return this.putBytes(String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt32=function(n){return this.putBytes(String.fromCharCode(n>>24&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt16Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255))};t.ByteStringBuffer.prototype.putInt24Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255))};t.ByteStringBuffer.prototype.putInt32Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>24&255))};t.ByteStringBuffer.prototype.putInt=function(n,t){var i="";do t-=8,i+=String.fromCharCode(n>>t&255);while(t>0);return this.putBytes(i)};t.ByteStringBuffer.prototype.putSignedInt=function(n,t){return n<0&&(n+=2<<t-1),this.putInt(n,t)};t.ByteStringBuffer.prototype.putBuffer=function(n){return this.putBytes(n.getBytes())};t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};t.ByteStringBuffer.prototype.getInt16=function(){var n=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24=function(){var n=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32=function(){var n=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,n};t.ByteStringBuffer.prototype.getInt16Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,n};t.ByteStringBuffer.prototype.getInt=function(n){var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),n-=8;while(n>0);return t};t.ByteStringBuffer.prototype.getSignedInt=function(n){var t=this.getInt(n),i=2<<n-2;return t>=i&&(t-=i<<1),t};t.ByteStringBuffer.prototype.getBytes=function(n){var t;return n?(n=Math.min(this.length(),n),t=this.data.slice(this.read,this.read+n),this.read+=n):n===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};t.ByteStringBuffer.prototype.bytes=function(n){return typeof n=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+n)};t.ByteStringBuffer.prototype.at=function(n){return this.data.charCodeAt(this.read+n)};t.ByteStringBuffer.prototype.setAt=function(n,t){return this.data=this.data.substr(0,this.read+n)+String.fromCharCode(t)+this.data.substr(this.read+n+1),this};t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};t.ByteStringBuffer.prototype.copy=function(){var n=t.createBuffer(this.data);return n.read=this.read,n};t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};t.ByteStringBuffer.prototype.truncate=function(n){var t=Math.max(0,this.length()-n);return this.data=this.data.substr(this.read,t),this.read=0,this};t.ByteStringBuffer.prototype.toHex=function(){for(var i,n="",t=this.read;t<this.data.length;++t)i=this.data.charCodeAt(t),i<16&&(n+="0"),n+=i.toString(16);return n};t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())};t.createBuffer=function(n,i){return i=i||"raw",n!==undefined&&i==="utf8"&&(n=t.encodeUtf8(n)),new t.ByteBuffer(n)};t.encodeUtf8=function(n){return unescape(encodeURIComponent(n))};t.decodeUtf8=function(n){return decodeURIComponent(escape(n))}}return typeof forge=="undefined"&&(forge={}),n(forge)})(),function(){function n(n){n.cipher=n.cipher||{};n.cipher.algorithms=n.cipher.algorithms||{};n.cipher.createDecipher=function(t,i){var r=t;if(typeof r=="string"&&(r=n.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:i,decrypt:!0})};n.cipher.registerAlgorithm=function(t,i){t=t.toUpperCase();n.cipher.algorithms[t]=i};n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase(),t in n.cipher.algorithms)?n.cipher.algorithms[t]:null};var t=n.cipher.BlockCipher=function(n){this.algorithm=n.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this._input=null;this.output=null;this._op=n.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=n.decrypt;this.algorithm.initialize(n)};t.prototype.start=function(t){var i,r;t=t||{};i={};for(r in t)i[r]=t[r];i.decrypt=this._decrypt;this._finish=!1;this._input=n.util.createBuffer();this.output=t.output||n.util.createBuffer();this.mode.start(i)};t.prototype.update=function(n){for(n&&this._input.putBuffer(n);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};t.prototype.finish=function(n){n&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(t){return n(this.blockSize,t,!1)},this.mode.unpad=function(t){return n(this.blockSize,t,!0)});var t={};return(t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))?!1:(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))?!1:this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)?!1:!0}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function i(t){var r,i;if(typeof t=="string"&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4)for(r=t,t=n.util.createBuffer(),i=0;i<r.length;++i)t.putByte(r[i]);return n.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}n.cipher=n.cipher||{};var t=n.cipher.modes=n.cipher.modes||{};t.cbc=function(n){n=n||{};this.name="CBC";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};t.cbc.prototype.start=function(n){if(n.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in n)this._iv=i(n.iv),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.");};t.cbc.prototype.encrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^n.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock};t.cbc.prototype.decrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=n.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)};t.cbc.prototype.pad=function(n){var t=n.length()===this.blockSize?this.blockSize:this.blockSize-n.length();return n.fillWithByte(t,t),!0};t.cbc.prototype.unpad=function(n,t){if(t.overflow>0)return!1;var r=n.length(),i=n.at(r-1);return i>this.blockSize<<2?!1:(n.truncate(i),!0)}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function l(t,i){var r=function(){return new n.aes.Algorithm(t,i)};n.cipher.registerAlgorithm(t,r)}function h(){var u,o,c,l,w,a,h,b,v,y,n,p;for(f=!0,s=[0,1,2,4,8,16,32,64,128,27,54],u=new Array(256),n=0;n<128;++n)u[n]=n<<1,u[n+128]=n+128<<1^283;for(t=new Array(256),e=new Array(256),r=new Array(4),i=new Array(4),n=0;n<4;++n)r[n]=new Array(256),i[n]=new Array(256);for(o=0,c=0,n=0;n<256;++n){for(h=c^c<<1^c<<2^c<<3^c<<4,h=h>>8^h&255^99,t[o]=h,e[h]=o,b=u[h],l=u[o],w=u[l],a=u[w],v=b<<24^h<<16^h<<8^h^b,y=(l^w^a)<<24^(o^a)<<16^(o^w^a)<<8^o^l^a,p=0;p<4;++p)r[p][o]=v,i[p][h]=y,v=v<<24|v>>>8,y=y<<24|y>>>8;o===0?o=c=1:(o=l^u[u[u[l^a]]],c^=u[u[c]])}}function c(n,r){for(var h,y,e=n.slice(0),o,p=1,c=e.length,w=c+6+1,a=u*w,f=c;f<a;++f)o=e[f-1],f%c==0?(o=t[o>>>16&255]<<24^t[o>>>8&255]<<16^t[o&255]<<8^t[o>>>24]^s[p]<<24,p++):c>6&&f%c==4&&(o=t[o>>>24]<<24^t[o>>>16&255]<<16^t[o>>>8&255]<<8^t[o&255]),e[f]=e[f-c]^o;if(r){var v,b=i[0],k=i[1],d=i[2],g=i[3],l=e.slice(0);for(a=e.length,f=0,h=a-u;f<a;f+=u,h-=u)if(f===0||f===a-u)l[f]=e[h],l[f+1]=e[h+3],l[f+2]=e[h+2],l[f+3]=e[h+1];else for(y=0;y<u;++y)v=e[h+y],l[f+(3&-y)]=b[t[v>>>24]]^k[t[v>>>16&255]]^d[t[v>>>8&255]]^g[t[v&255]];e=l}return e}function o(n,u,f,o){var tt=n.length/4-1,y,p,w,b,s,h,c,l,a,d,g,nt,v,k;for(o?(y=i[0],p=i[1],w=i[2],b=i[3],s=e):(y=r[0],p=r[1],w=r[2],b=r[3],s=t),h=u[0]^n[0],c=u[o?3:1]^n[1],l=u[2]^n[2],a=u[o?1:3]^n[3],v=3,k=1;k<tt;++k)d=y[h>>>24]^p[c>>>16&255]^w[l>>>8&255]^b[a&255]^n[++v],g=y[c>>>24]^p[l>>>16&255]^w[a>>>8&255]^b[h&255]^n[++v],nt=y[l>>>24]^p[a>>>16&255]^w[h>>>8&255]^b[c&255]^n[++v],a=y[a>>>24]^p[h>>>16&255]^w[c>>>8&255]^b[l&255]^n[++v],h=d,c=g,l=nt;f[0]=s[h>>>24]<<24^s[c>>>16&255]<<16^s[l>>>8&255]<<8^s[a&255]^n[++v];f[o?3:1]=s[c>>>24]<<24^s[l>>>16&255]<<16^s[a>>>8&255]<<8^s[h&255]^n[++v];f[2]=s[l>>>24]<<24^s[a>>>16&255]<<16^s[h>>>8&255]<<8^s[c&255]^n[++v];f[o?1:3]=s[a>>>24]<<24^s[h>>>16&255]<<16^s[c>>>8&255]<<8^s[l&255]^n[++v]}n.aes=n.aes||{};n.aes.Algorithm=function(n,t){f||h();var i=this;i.name=n;i.mode=new t({blockSize:16,cipher:{encrypt:function(n,t){return o(i._w,n,t,!1)},decrypt:function(n,t){return o(i._w,n,t,!0)}}});i._init=!1};n.aes.Algorithm.prototype.initialize=function(t){var i,f,u,r,e,o;if(!this._init){if(i=t.key,typeof i=="string"&&(i.length===16||i.length===24||i.length===32))i=n.util.createBuffer(i);else if(n.util.isArray(i)&&(i.length===16||i.length===24||i.length===32))for(f=i,i=n.util.createBuffer(),r=0;r<f.length;++r)i.putByte(f[r]);if(!n.util.isArray(i)&&(f=i,i=[],u=f.length(),u===16||u===24||u===32))for(u=u>>>2,r=0;r<u;++r)i.push(f.getInt32());if(!n.util.isArray(i)||!(i.length===4||i.length===6||i.length===8))throw new Error("Invalid key parameter.");e=this.mode.name;o=["CFB","OFB","CTR","GCM"].indexOf(e)!==-1;this._w=c(i,t.decrypt&&!o);this._init=!0}};n.aes._expandKey=function(n,t){return f||h(),c(n,t)};n.aes._updateBlock=o;l("AES-CBC",n.cipher.modes.cbc);var f=!1,u=4,t,e,s,r,i}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){for(var i=new Uint8Array(n.length),t=0;t<i.byteLength;t++)i[t]=n.charCodeAt(t);return i}onmessage=function(t){if(t.data.keyStr&&t.data.ivStr&&t.data.encrypted){var i=forge.cipher.createDecipher("AES-CBC",t.data.keyStr);i.start({iv:t.data.ivStr});i.update(new forge.util.ByteBuffer(t.data.encrypted));i.finish();postMessage({decrypted:n(i.output.bytes())})}}}();'})(n.Forge||(n.Forge={}));var t=n.Forge}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i,u,r;if(t.decrypt,t.decrypt=function(t,i,r){var u=forge.cipher.createDecipher("AES-CBC",i.keyStr),f;return u.start({iv:i.ivStr}),u.update(new forge.util.ByteBuffer(r)),u.finish(),f=n.Common.stringToUint8Array(u.output.bytes()),t.apply(null,[f]),!0},!window.Worker||!Blob||!window.URL||!window.URL.createObjectURL){n.Log.verbose(7,"AzureHtml5JS.Forge: cannot start worker for Forge");return}i=null;try{u=new Blob(["'use strict';var forge;"+t.forgeScript],{type:"text/javascript"});r=new Worker(window.URL.createObjectURL(u));t.decrypt=function(n,t,u){return i===null?(i=n,r.postMessage({keyStr:t.keyStr,ivStr:t.ivStr,encrypted:u}),!0):!1};r.onmessage=function(n){n.data.decrypted&&(i.apply(null,[n.data.decrypted]),i=null)}}catch(f){n.Log.verbose(7,"AzureHtml5JS.Forge: Forge worker setup failed: "+f)}})(n.Forge||(n.Forge={}));var t=n.Forge}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var t=function(){function n(){this.xmlHttpRequestDelegate=new XMLHttpRequest}return Object.defineProperty(n.prototype,"responseType",{get:function(){return this.xmlHttpRequestDelegate.responseType},set:function(n){this.xmlHttpRequestDelegate.responseType=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeout",{get:function(){return this.xmlHttpRequestDelegate.timeout},set:function(n){this.xmlHttpRequestDelegate.timeout=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"msCaching",{get:function(){return this.xmlHttpRequestDelegate.msCaching?this.xmlHttpRequestDelegate.msCaching:undefined},set:function(n){this.xmlHttpRequestDelegate.msCaching&&(this.xmlHttpRequestDelegate.msCaching=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"readyState",{get:function(){return this.xmlHttpRequestDelegate.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.xmlHttpRequestDelegate.status},set:function(n){this.xmlHttpRequestDelegate.status=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"response",{get:function(){return this.xmlHttpRequestDelegate.response},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"statusText",{get:function(){return this.xmlHttpRequestDelegate.statusText},enumerable:!0,configurable:!0}),n.prototype.setRequestHeader=function(n,t){this.xmlHttpRequestDelegate.setRequestHeader(n,t)},n.prototype.abort=function(){this.xmlHttpRequestDelegate.abort()},n.prototype.open=function(n,t,i,r,u){this.xmlHttpRequestDelegate.open(n,t,i?i:!0,r,u)},n.prototype.getResponseHeader=function(n){return this.xmlHttpRequestDelegate.getResponseHeader(n)},n.prototype.send=function(n){this.setCallbacksOnDelegate();this.xmlHttpRequestDelegate.send(n)},n.prototype.setCallbacksOnDelegate=function(){var n=this;this.xmlHttpRequestDelegate.onabort=function(t){if(n.onabort)n.onabort(t)};this.xmlHttpRequestDelegate.onerror=function(t){if(n.onerror)n.onerror(t)};this.xmlHttpRequestDelegate.onload=function(t){if(n.onload)n.onload(t)};this.xmlHttpRequestDelegate.onloadstart=function(t){if(n.onloadstart)n.onloadstart(t)};this.xmlHttpRequestDelegate.onloadend=function(t){if(n.onloadend)n.onloadend(t)};this.xmlHttpRequestDelegate.onprogress=function(t){if(n.onprogress)n.onprogress(t)};this.xmlHttpRequestDelegate.ontimeout=function(t){if(n.ontimeout)n.ontimeout(t)};this.xmlHttpRequestDelegate.onreadystatechange=function(t){if(n.onreadystatechange)n.onreadystatechange(t)}},n}();n.XMLHttpRequestWrapper=t})(n.HttpRequest||(n.HttpRequest={}));var t=n.HttpRequest}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";function f(n,t){r(n,3,t)}function a(n,t){r(n,2,t)}function v(n,t){r(n,1,t)}function w(n){for(var t,i=[],r=0;r<arguments.length-1;r++)i[r]=arguments[r+1];if(i&&i.length>0){t=Array.prototype.slice.call(i[0]);switch(n){case"warn":a(4,t.join(" "));break;case"error":v(4,t.join(" "));break;case null:f(4,t.join(" "));break;default:f(4,t.join(" "))}}}function b(n){o=n}function k(n){undefined===n||null===n?t.forEach(function(n,t,i){i[t]=!0}):t[n]=!0}function d(n){undefined===n||null===n?t.forEach(function(n,t,i){i[t]=!1}):t[n]=!1}function g(n){typeof n=="undefined"&&(n=!0);u=n}function nt(n){if(n!==undefined&&n.TraceTargets&&!(n.TraceTargets.length<=0)){u=!1;h=!1;o=n.maxLogLevel;for(var t=0;t<n.TraceTargets.length;t++)n.TraceTargets[t].target.toLowerCase()==="console"?h=!0:n.TraceTargets[t].target.toLowerCase()==="memory"&&(u=!0,p=n.TraceTargets[t].maxMemoryTraceCount?n.TraceTargets[t].maxMemoryTraceCount:y)}}function tt(n){typeof n=="undefined"&&(n=!0);var t=i;return n&&(i=[]),t.join("\n")}function r(n,r,f){var e=new Date(Date.now()),s;r<=o&&t[n]&&(s="["+e.getHours()+":"+e.getMinutes()+":"+(e.getSeconds()+e.getMilliseconds()/1e3).toFixed(3)+"] "+c[r]+": "+l[n]+": "+f,u&&(i.length>p&&i.shift(),i.push(s)),h&&it.log(s))}var c,l,s;(function(n){n[n.none=0]="none";n[n.error=1]="error";n[n.warning=2]="warning";n[n.verbose=3]="verbose"})(n.Level||(n.Level={}));c=n.Level,function(n){n[n.functionalTest=0]="functionalTest";n[n.azureHtml5JS=1]="azureHtml5JS";n[n.flashSS=2]="flashSS";n[n.silverlightSS=3]="silverlightSS";n[n.videojs=4]="videojs";n[n.plugin=5]="plugin";n[n.html5FairplayHLS=6]="html5FairplayHLS";n[n.max=7]="max"}(n.Area||(n.Area={}));l=n.Area;n.verbose=f;n.warning=a;n.error=v;n.videoJSLogOverride=w;n.setConsoleOutputByLevel=b;n.enableConsoleOutputByArea=k;n.disableConsoleOutputByArea=d;n.enableMemoryLog=g;n.setLogConfig=nt;n.getMemoryLog=tt;n.writeEntry=r;var e=function(){},it=window.console||{log:e,warn:e,error:e},o=0,t=[];for(s=0;s<7;s++)t.push(!1);var y=5e4,u=!1,i=[],p=y,h=!0;n.enableConsoleOutputByArea();n.setConsoleOutputByLevel(1)})(n.Logger||(n.Logger={}));var t=n.Logger}(AMP||(AMP={})),function(n){(function(n){"use strict";function t(n){for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=[],r=0,i;r<n.byteLength;)i=n[r++],t.push(u.charAt(i>>2)),i=(i&3)<<4,r<n.byteLength?(t.push(u.charAt(i|n[r]>>4)),i=(n[r++]&15)<<2,r<n.byteLength?(t.push(u.charAt(i|n[r]>>6)),t.push(u.charAt(n[r++]&63))):(t.push(u.charAt(i)),t.push("="))):(t.push(u.charAt(i)),t.push("=="));return t.join("")}function i(n){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=new Uint8Array(new ArrayBuffer(n.length*3/4+4)),t=0,u=0,o,f,e,s;t<n.length;)o=i.indexOf(n.charAt(t)),f=i.indexOf(n.charAt(t+1)),r[u++]=o<<2|f>>4,n.charAt(t+2)!=="="&&(e=i.indexOf(n.charAt(t+2)),r[u++]=f<<4|e>>2,n.charAt(t+3)!=="="&&(s=i.indexOf(n.charAt(t+3)),r[u++]=e<<6|s)),t+=4;return new Uint8Array(r.buffer,0,u)}n.binaryToBase64=t;n.base64ToBinary=i})(n.Base64Utils||(n.Base64Utils={}));var t=n.Base64Utils}(AMP||(AMP={}));amp=videojs;ampURL="http://amp.azure.net/libs/amp/";amp.Player.prototype.enterFullscreen=amp.Player.prototype.requestFullScreen;amp.Player.prototype.addEventListener=amp.Player.prototype.on;amp.Player.prototype.removeEventListener=amp.Player.prototype.off;amp.Player.prototype.currentTechName=function(){return this.techName};amp.Player.prototype.playerElement=function(){return this.el_};amp.Player.prototype.currentAbsoluteTime=function(){return this.techGet("currentAbsoluteTime")};amp.Player.prototype.currentMediaTime=function(){return this.techGet("currentMediaTime")};amp.Player.prototype.currentVideoStreamList=function(){return this.techGet("currentVideoStreamList")};amp.Player.prototype.currentAudioStreamList=function(){return this.techGet("currentAudioStreamList")};amp.Player.prototype.videoBufferData=function(){return this.techGet("videoBufferData")};amp.Player.prototype.audioBufferData=function(){return this.techGet("audioBufferData")};amp.Player.prototype.currentDownloadBitrate=function(){return this.techGet("currentDownloadBitrate")};amp.Player.prototype.currentPlaybackBitrate=function(){return this.techGet("currentPlaybackBitrate")};amp.Player.prototype.videoWidth=function(){return this.techGet("videoWidth")};amp.Player.prototype.videoHeight=function(){return this.techGet("videoHeight")};amp.Player.prototype.currentProtectionInfo=function(){return this.options_.playbackOptions.protectionInfo};amp.Player.prototype.isLive=function(){return this.techGet("isLive")};amp.Player.prototype.manifestPlayableWindowLength=function(){return this.techGet("manifestPlayableWindowLength")};amp.Player.prototype.currentPlayableWindow=function(){return this.techGet("currentPlayableWindow")};amp.Player.prototype.segmentBoundaries=function(){return this.techGet("segmentBoundaries")};amp.Player.prototype.toPresentationTime=function(n){return this.player().isLive()&&this.player().currentPlayableWindow()?n+this.player().currentPlayableWindow().startInSec:n};amp.Player.prototype.fromPresentationTime=function(n){return this.player().isLive()&&this.player().currentPlayableWindow()?n-this.player().currentPlayableWindow().startInSec:n};amp.Player.prototype.currentHeuristicProfile=function(n){return n===undefined?amp.Heuristics.findProfile(this.options_.heuristicProfile).name:(this.options_.heuristicProfile=n,this)};amp.Player.prototype.currentPlayerSettingValue=function(n){var i,t;this.updateCurrentPlayerConfigs();i={};for(t in this.options_.currentPlayerConfigs.currentHeuristicConfigs)hasOwnProp.call(amp.Player._availableSettings.heuristicSettings,t)&&(i[t]=this.options_.currentPlayerConfigs.currentHeuristicConfigs[t]);return i[n]};amp.Player.getScriptRootURL=function(){var n=document.getElementsByTagName("script"),t=null,i,r,e,u,f;if(n&&n.length>=1)for(i=n.length-1;i>=0;i--)if(r=null,r=n[i].src,e=new RegExp("(.[^?]+)/azuremediaplayer(?:\\.min)?\\.js(?:\\?.*)?$","i"),r&&(u=r.match(e),u&&u.length===2)){t=u[1];break}return f=amp.Player.prototype.getAmpVersion(),!t&&f&&(t=ampURL+f),t};amp.Player.prototype.isFocused=!1;amp.Player.prototype.getAmpVersion=function(){var t=null,i,n;return ampVersion&&(i=new RegExp("([0-9]+.[0-9]+.[0-9]+).[0-9]+"),n=ampVersion.match(i),n&&n.length===2&&(t=n[1])),t};amp.Player.prototype.src=function(n,t){if(n===undefined)return this.currentSrc();if(!amp.obj.isArray(n)&&!(n instanceof Object))throw new Error("src is expecting a source object or an array of source objects");this.one("loadstart",function(){var n=!this.techName||this.techName==="Html5",t=!this.techName||this.techName==="Html5FairPlayHLS",i=this.options().autoplay;(n||t&&!i)&&this.removeClass("vjs-loading")});this.showPlayerLoad();t!==undefined&&t.length>0&&(this.options_.tracks=t);n.selected||(this.options().sdn={},amp.obj.isArray(n)?this.options().sourceList=n:n instanceof Object&&(this.options().sourceList=[n]),this.trigger(amp.eventName.sourceset),this.drmSupportCheck(this.options().sourceList));var i=function(){this.techSetupCheck()&&this.pluginSetupCheck()?n instanceof Object&&n.selected?(this.clearPlaybackOptions(),this.refreshTextTracks(),this.cache_.src=n.src,this.currentType_=n.type||"",this.ready(function(){n.protectionInfo&&(this.options_.playbackOptions.protectionInfo=n.protectionInfo);this.techCall("src",n.src);this.options_.preload=="auto"&&this.load()})):this.sourceList_(UrlRewriter.expandSources(this.options().sourceList)):setTimeout(i.bind(this),50)};return i.call(this),this};amp.Player.prototype.isProtectionInfoAvailable=function(){for(var n=0;n<this.options().sourceList.length;n++)if(this.options().sourceList[n].protectionInfo&&this.options().sourceList[n].protectionInfo.length>0)return!0;return!1};amp.Player.prototype.drmSupportCheck=function(n){for(var u,i,t=0,r=this.options_.techOrder;t<r.length;t++)u=vjs.capitalize(r[t]),i=window.amp[u],i&&i.drmSupportCheck&&i.drmSupportCheck(n)};amp.Player.prototype.techSetupCheck=function(){for(var r,t,n=0,i=this.options_.techOrder;n<i.length;n++)if(r=vjs.capitalize(i[n]),t=window.amp[r],t&&t.setupDone&&!t.setupDone())return!1;return!0};amp.Player.prototype.pluginSetupCheck=function(){var t=this.options_.plugins;for(var n in t)if(t.hasOwnProperty(n)&&this[n]&&this[n].setupDone&&!this[n].setupDone())return!1;return!0};amp.Player.prototype.sourceList_=function(n){var t=this.selectSource(n);t?this.tech&&t.tech===this.techName?t.tech==="FlashSS"&&(JSON.stringify(this.options_.playbackOptions.protectionInfo)!==JSON.stringify(t.source.protectionInfo)||this.tech.isReloadNeeded())?(this.clearPlaybackOptions(),this.refreshTextTracks(),this.loadTech(t.tech,t.source)):(t.source.selected=!0,this.src(t.source)):(this.clearPlaybackOptions(),this.refreshTextTracks(),this.loadTech(t.tech,t.source)):(this.tech&&this.unloadTech(),amp.Player.raiseError.call(this,"amp",amp.Player.getAMPErrorCode.call(this,n)),this.triggerReady())};amp.options.playbackOptions={};amp.Player.prototype.clearPlaybackOptions=function(){this.options_.playbackOptions={}};amp.Player.prototype.getMemoryLog=function(n){return AMP.Logger.getMemoryLog(n)};amp.Player.prototype.updateCurrentPlayerConfigs=function(){var i,n,t,u,r;if(this.options_.currentPlayerConfigs||(this.options_.currentPlayerConfigs={}),i=amp.Heuristics.findProfile(this.options_.heuristicProfile),this.options_.heuristicProfile===undefined&&(this.options_.heuristicProfile=i.name),n=i?amp.obj.copy(i):{},t=this.options_.customPlayerSettings,t&&t.customHeuristicSettings){u={};for(r in t.customHeuristicSettings)hasOwnProp.call(amp.Player._availableSettings.heuristicSettings,r)&&(u[r]=t.customHeuristicSettings[r]);n=amp.obj.merge(n,u)}n.maxBufferInSec<n.preRollInSec&&(n.maxBufferInSec=n.preRollInSec);n.livePlaybackOffsetInSec<n.preRollInSec&&(n.livePlaybackOffsetInSec=n.preRollInSec);this.options_.currentPlayerConfigs.currentHeuristicConfigs=n};amp.Player.prototype.setXmlHttpRequestFactory=function(n){this.tech&&this.tech.setXmlHttpRequestFactory?this.tech.setXmlHttpRequestFactory(n):AMP.Logger.warning(AMP.Logger.Area.videojs,"setXmlHttpRequestFactory unavailable on "+this.techName+" playback technology element.")};amp.Player._availableSettings={heuristicSettings:{preRollInSec:0,maxBufferInSec:0,livePlaybackOffsetInSec:0,windowSizeHeuristics:!1}};amp.protectionType={PlayReady:"PlayReady",Widevine:"Widevine",AES:"AES"};amp.StreamingFormatMimeType={Smooth:"application/vnd.ms-sstr+xml",Dash:"application/dash+xml",HLS:"application/vnd.apple.mpegurl"};amp.eventName={canplaythrough:"canplaythrough",durationchange:"durationchange",ended:"ended",error:"error",fullscreenchange:"fullscreenchange",loadstart:"loadstart",loadedmetadata:"loadedmetadata",loadeddata:"loadeddata",pause:"pause",play:"play",playing:"playing",seeked:"seeked",seeking:"seeking",timeupdate:"timeupdate",volumechange:"volumechange",waiting:"waiting",downloadbitratechanged:"downloadbitratechanged",playbackbitratechanged:"playbackbitratechanged",sourceset:"sourceset",disposing:"disposing"};amp.streamEventName={trackselected:"trackselected"};amp.streamListEventName={streamselected:"streamselected",streamindexinvalid:"streamindexinvalid",streamselectnotsupported:"streamselectnotsupported"};amp.errorCode={abortedErrStart:1048576,abortedErrUnknown:1048576,abortedErrNotImplemented:1048577,abortedErrHttpMixedContentBlocked:1048578,abortedErrEnd:2097151,networkErrStart:2097152,networkErrUnknown:2097152,networkErrHttpResponseBegin:2097552,networkErrHttpBadUrlFormat:2097552,networkErrHttpUserAuthRequired:2097553,networkErrHttpUserForbidden:2097555,networkErrHttpUrlNotFound:2097556,networkErrHttpNotAllowed:2097557,networkErrHttpGone:2097562,networkErrHttpPreconditionFailed:2097564,networkErrHttpInternalServerFailure:2097652,networkErrHttpBadGateway:2097654,networkErrHttpServiceUnavailable:2097655,networkErrHttpGatewayTimeout:2097656,networkErrHttpResponseEnd:2097751,networkErrTimeout:2097752,networkErrEnd:3145727,decodeErrStart:3145728,decodeErrUnknown:3145728,decodeErrEnd:4194303,srcErrStart:4194304,srcErrUnknown:4194304,srcErrParsePresentation:4194305,srcErrParseSegment:4194306,srcErrUnsupportedPresentation:4194307,srcErrInvalidSegment:4194308,srcErrEnd:5242879,encryptErrStart:5242880,encryptErrUnknown:5242880,encryptErrDecrypterNotFound:5242881,encryptErrDecrypterInit:5242882,encryptErrDecrypterNotSupported:5242883,encryptErrKeyAcquire:5242884,encryptErrDecryption:5242885,encryptErrLicenseAcquire:5242886,encryptErrEnd:6291455,srcPlayerMismatchStart:6291456,srcPlayerMismatchUnknown:6291456,srcPlayerMismatchFlashNotInstalled:6291457,srcPlayerMismatchSilverlightNotInstalled:6291458,srcPlayerMismatchEnd:7340031,errUnknown:267386880};amp.httpErrorCode={400:amp.errorCode.networkErrHttpBadUrlFormat,401:amp.errorCode.networkErrHttpUserAuthRequired,403:amp.errorCode.networkErrHttpUserForbidden,404:amp.errorCode.networkErrHttpUrlNotFound,405:amp.errorCode.networkErrHttpNotAllowed,410:amp.errorCode.networkErrHttpGone,412:amp.errorCode.networkErrHttpPreconditionFailed,500:amp.errorCode.networkErrHttpInternalServerFailure,502:amp.errorCode.networkErrHttpBadGateway,503:amp.errorCode.networkErrHttpServiceUnavailable,504:amp.errorCode.networkErrHttpGatewayTimeout};amp.bufferDataEventName={downloadrequested:"downloadrequested",downloadcompleted:"downloadcompleted",downloadfailed:"downloadfailed"};amp.Player.canSupportFormats=function(n,t){var r=t[n.type],i;if(r){if(!n.protectionInfo)return"maybe";for(i=0;i<n.protectionInfo.length;i++)if(r.indexOf(n.protectionInfo[i].type)!==-1)return"maybe"}return""};amp.Player.prototype.refreshTextTracks=function(){var t,n,i;if(this.tech){if(this.remoteTextTracks()&&this.remoteTextTracks().tracks_)while(this.remoteTextTracks().tracks_.length>0)this.removeRemoteTextTrack(this.remoteTextTracks().tracks_[0]);for(t=this.options_.tracks||[],n=0;n<t.length;n++)i=t[n],this.player_.addRemoteTextTrack(i);this.options_.tracks.length=0}};amp.Player.raiseError=function(n,t,i){var u=amp.Player.getErrorTechId(n)<<28,r;t&=~4026531840;t|=u;r=new amp.MediaError(t);r.message=i;this.error(r)};amp.Player.getErrorTechId=function(n){switch(n.toLowerCase()){case"amp":return 1;case"azurehtml5js":return 2;case"flashss":return 3;case"silverlightss":return 4;case"html5":return 5;case"htm5fairplayhls":return 6;default:return 0}};amp.Player.getErrorUI=function(n){var t=(n.code&267386880)>>20;return 0===t?n.message:6===t?this.options().notSupportedMessage:255===t?"MEDIA_ERR_UNKNOWN":vjs.MediaError.errorTypes[t]||""};amp.ErrorDisplay.prototype.update=function(){var n=this.player().error(),t;n&&(t=amp.Player.getErrorUI.call(this.player(),n),this.contentEl_.innerHTML=vjs.util.htmlEncode(this.localize(t))+"<br>(0x"+n.code.toString(16)+")")};amp.Player.getAMPErrorCode=function(n){for(var t,i,r,e,s,u=amp.errorCode.srcPlayerMismatchUnknown,f=0,o=this.options_.techOrder;f<o.length;f++)if((t=vjs.capitalize(o[f]),i=window.videojs[t],i)&&!i.isSupported())for(r=0,e=n;r<e.length;r++)s=e[r],i.canPlaySource(s)&&(t=="SilverlightSS"?u|=amp.errorCode.srcPlayerMismatchSilverlightNotInstalled:t=="FlashSS"&&(u|=amp.errorCode.srcPlayerMismatchFlashNotInstalled));return u};_logType=AMP.Logger.videoJSLogOverride;amp.Heuristics={};amp.Heuristics.findProfile=function(n){for(var t=[{name:amp.Player.HeuristicProfile.Hybrid,preRollInSec:4,maxBufferInSec:30,livePlaybackOffsetInSec:8,windowSizeHeuristics:!0},{name:amp.Player.HeuristicProfile.QuickStart,preRollInSec:2,maxBufferInSec:30,livePlaybackOffsetInSec:8,windowSizeHeuristics:!0},{name:amp.Player.HeuristicProfile.HighQuality,preRollInSec:8,maxBufferInSec:30,livePlaybackOffsetInSec:15,windowSizeHeuristics:!1}],i=0;i<t.length;i++)if(t[i].name===n)return t[i];return t[0]};amp.Player.HeuristicProfile={Hybrid:"Hybrid",QuickStart:"QuickStart",HighQuality:"HighQuality"};amp.isSilverlightInstalled=function(n){var t,l,f,e,h,o,i,r,s,c,u;n==undefined&&(n=null);t=!1;l=null;try{if(f=null,e=!1,window.ActiveXObject)try{f=new ActiveXObject("AgControl.AgControl");n===null?t=!0:f.IsVersionSupported(n)&&(t=!0);f=null}catch(a){e=!0}else e=!0;if(e&&(h=navigator.plugins["Silverlight Plug-In"],h))if(n===null)t=!0;else{for(o=h.description,o==="1.0.30226.2"&&(o="2.0.30226.2"),i=o.split(".");i.length>3;)i.pop();while(i.length<4)i.push(0);for(r=n.split(".");r.length>4;)r.pop();u=0;do s=parseInt(r[u]),c=parseInt(i[u]),u++;while(u<r.length&&s===c);s<=c&&!isNaN(s)&&(t=!0)}}catch(a){t=!1}return t};amp.SilverlightSS=amp.MediaTechController.extend({init:function(n,t,i){var u=this,o=[],f=[],s=[],e,r;n.mediaPlayer=null;this.reset();amp.MediaTechController.call(this,n,t,i);var a=t.parentEl,h=this.el_=amp.createEl("div",{id:n.id()+"_temp_silverlightSS"}),c=n.id()+"_silverlightSS_api",l=n.options_.autoplay;l!==undefined&&f.push("Autoplay="+l);o=amp.obj.merge({id:c,name:c,"class":"vjs-tech"},t.attributes);e=amp.Player.getScriptRootURL();!n.options_.silverlightSS.xap&&e&&(n.options_.silverlightSS.xap=e+"/techs/SmoothStreamingPlayer.xap");s=amp.obj.merge({source:n.options_.silverlightSS.xap,onError:"onSilverlightError",minRuntimeVersion:"5.0.61118.0",onload:"silverlightSSLoaded",enableHtmlAccess:!0,width:"100%",height:"100%",windowless:"true",wmode:"opaque",bgcolor:"#000000"},t.params);f.push("ScriptableName=mainPlayer");f.push("IsControlStripVisible=false");r=t.source;amp.insertFirst(h,a);this.el_=amp.SilverlightSS.embed(h,o,s,f);silverlightSSLoaded=function(t){var i=document.getElementById(n.id()+"_silverlightSS_api");n.mediaPlayer=i.content.mainPlayer;r&&(r.protectionInfo&&(n.options_.playbackOptions.protectionInfo=r.protectionInfo),u.setSrc(r.src));u.triggerReady();u.setTriggers(t)};onSilverlightError=function(n,t){var f="";n!=null&&n!=0&&(f=n.getHost().Source);var r=t.ErrorType,e=t.ErrorCode,i="Unhandled Error in Silverlight Application "+f+"\n";i+="Code: "+e+"    \n";i+="Category: "+r+"       \n";i+="Message: "+t.ErrorMessage+"     \n";r=="ParserError"?(i+="File: "+t.xamlFile+"     \n",i+="Line: "+t.lineNumber+"     \n",i+="Position: "+t.charPosition+"     \n"):r=="RuntimeError"&&(t.lineNumber!=0&&(i+="Line: "+t.lineNumber+"     \n",i+="Position: "+t.charPosition+"     \n"),i+="MethodName: "+t.methodName+"     \n");amp.Player.raiseError.call(u.player(),"silverlightss",amp.errorCode.errUnknown,i)}}});amp.SilverlightSS.embed=function(n,t,i,r){var e=amp.SilverlightSS.getEmbedCode(t,i,r),u=amp.createEl("div",{innerHTML:e}).childNodes[0],o=n.parentNode,f;return n.parentNode.replaceChild(u,n),f=o.childNodes[0],setTimeout(function(){f.style.display="block"},1e3),u};amp.SilverlightSS.getEmbedCode=function(n,t,i){var r='<object  data="data:application/x-silverlight-2," type="application/x-silverlight-2" ';return amp.obj.each(n,function(n,t){r+=encodeURIComponent(n)+'="'+encodeURIComponent(t)+'" '}),r+=">",t=amp.obj.merge({InitParams:i.join(",")},t),amp.obj.each(t,function(n,t){r+='<param name="'+encodeURIComponent(n)+'" value="'+encodeURI(t)+'" />'}),r+="<\/object>"};amp.SilverlightSS.isSupported=function(){return amp.isSilverlightInstalled("5.0")};amp.SilverlightSS.canPlaySource=function(n){return amp.Player.canSupportFormats(n,this.supportedFormats)};amp.SilverlightSS.supportedFormats={};amp.SilverlightSS.supportedFormats[amp.StreamingFormatMimeType.Smooth]=[amp.protectionType.PlayReady];amp.SilverlightSS._seeking=!1;amp.SilverlightSS._ended=!1;amp.SilverlightSS._opening=!0;amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening=!1;amp.SilverlightSS._adaptiveStreamingError=null;amp.SilverlightSS._networkError="Failed to download";amp.SilverlightSS._licenseError="Unable to acquire license due to a network or protocol error";amp.SilverlightSS._tokenError="Unable to complete operation due to a service specific error coming from a network response";amp.SilverlightSS._parseSegmentError="Too many consecutive chunk parse errors";amp.SilverlightSS._parsePresentationError="Manifest file error";amp.SilverlightSS._unsupportedPresentation="Unrecognized manifest";amp.SilverlightSS._licenseAcquisitionErrorCode="6002";amp.SilverlightSS._licenseAcquisitionServiceSpecificErrorCode="6007";amp.SilverlightSS._downloadBitrate;amp.SilverlightSS._playbackBitrate;amp.SilverlightSS.prototype.autoplay=function(){return this.player().mediaPlayer.AutoPlay};amp.SilverlightSS.prototype.setAutoplay=function(n){this.player().mediaPlayer.AutoPlay=n};amp.SilverlightSS.prototype.isLive=function(){return this.player().mediaPlayer.IsLive};amp.SilverlightSS.prototype.buffered=function(){return amp.createTimeRange(this.currentTime(),this.currentTime())};amp.SilverlightSS.prototype.currentSrc=function(){return this.player().mediaPlayer.MediaSource};amp.SilverlightSS.prototype.setCurrentTime=function(n){try{amp.SilverlightSS._seeking=!0;this.player().trigger(amp.eventName.seeking);this.player().mediaPlayer.SeekToPosition(n)}catch(t){amp.Player.raiseError.call(this.player(),"silverlightss",amp.errorCode.srcErrUnknown,t.message)}};amp.SilverlightSS.prototype.currentTime=function(){return this.player().mediaPlayer.PlaybackPositionSeconds};amp.SilverlightSS.prototype.currentAbsoluteTime=function(){return undefined};amp.SilverlightSS.prototype.currentMediaTime=function(){return undefined};amp.SilverlightSS.prototype.currentVideoStreamList=function(){return undefined};amp.SilverlightSS.prototype.currentAudioStreamList=function(){return undefined};amp.SilverlightSS.prototype.videoBufferData=function(){return undefined};amp.SilverlightSS.prototype.audioBufferData=function(){return undefined};amp.SilverlightSS.prototype.currentDownloadBitrate=function(){return amp.SilverlightSS._downloadBitrate};amp.SilverlightSS.prototype.currentPlaybackBitrate=function(){return amp.SilverlightSS._playbackBitrate};amp.SilverlightSS.prototype.duration=function(){return this.player().mediaPlayer.EndPositionSeconds-this.player().mediaPlayer.StartPositionSeconds};amp.SilverlightSS.prototype.ended=function(){return amp.SilverlightSS._ended};amp.SilverlightSS.prototype.error=function(){return this.player().error()};amp.SilverlightSS.prototype.isFullscreen=function(){return this.player().mediaPlayer.isFullscreen};amp.SilverlightSS.prototype.muted=function(){return this.player().mediaPlayer.IsMuted};amp.SilverlightSS.prototype.setMuted=function(n){this.player().mediaPlayer.IsMuted=n};amp.SilverlightSS.prototype.paused=function(){return this.player().mediaPlayer.PlayState===this.SilverlightSSMediaState.Paused||this.player().mediaPlayer.PlayState===this.SilverlightSSMediaState.Buffering};amp.SilverlightSS.prototype.seeking=function(){return amp.SilverlightSS._seeking};amp.SilverlightSS.prototype.src=function(n){if(n===undefined)return this.currentSrc();n.indexOf("//")===0&&(n=window.location.protocol+n);this.setSrc(n)};amp.SilverlightSS.prototype.volume=function(){return this.player().mediaPlayer.GetVolume()};amp.SilverlightSS.prototype.setVolume=function(n){this.player().mediaPlayer.SetVolume(n)};amp.SilverlightSS.prototype.height=function(n){if(n===undefined)return this.player().mediaPlayer.height;this.player().mediaPlayer.height=n};amp.SilverlightSS.prototype.width=function(n){if(n===undefined)return this.player().mediaPlayer.width;this.player().mediaPlayer.width=n};amp.SilverlightSS.prototype.videoHeight=function(){return this.player().mediaPlayer.VideoHeight};amp.SilverlightSS.prototype.videoWidth=function(){return this.player().mediaPlayer.VideoWidth};amp.SilverlightSS.prototype.play=function(){this.player().mediaPlayer.Play()};amp.SilverlightSS.prototype.pause=function(){this.player().mediaPlayer.Pause()};amp.SilverlightSS.prototype.setSrc=function(n){var u,f,r,t,i;if(this.reset(),this.player().options_.autoplay!==undefined&&(this.player().mediaPlayer.AutoPlay=this.player().options_.autoplay),this.player().updateCurrentPlayerConfigs(),u=this.player().options_.currentPlayerConfigs.currentHeuristicConfigs,this.player().mediaPlayer.BufferingTime=u.preRollInSec,this.player().mediaPlayer.LivePlaybackOffset=u.livePlaybackOffsetInSec,AMP.Logger.setLogConfig(this.player().options_.traceConfig),this.player().mediaPlayer.IsTraceEnabled=this.player().options_.traceConfig&&this.player().options_.traceConfig.maxLogLevel&&this.player().options_.traceConfig.maxLogLevel>0?!0:!1,f=this.player().mediaPlayer.CreatePlaylist(),r=this.player().mediaPlayer.CreatePlaylistItem(n,"","",""),r.DeliveryMethod="AdaptiveStreaming",t=this.player().options_.playbackOptions.protectionInfo,t)for(i=0;i<t.length;i++)t[i].type===amp.protectionType.PlayReady&&t[i].authenticationToken&&(r.BearerToken=t[i].authenticationToken);f.AddPlaylistItem(r);this.player().mediaPlayer.SetPlaylist(f)};amp.SilverlightSS.prototype.load=function(){};amp.SilverlightSS.prototype.supportsFullscreen=function(){return!1};amp.SilverlightSS.prototype.enterFullscreen=function(){};amp.SilverlightSS.prototype.exitFullscreen=function(){};amp.SilverlightSS.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)};amp.SilverlightSS.prototype.setTriggers=function(){this.player().mediaPlayer.addEventListener("PlayStateChanged",amp.bind(this,this.playStateChangedHandler));this.player().mediaPlayer.addEventListener("MediaOpened",amp.bind(this,this.onMediaOpened));this.player().mediaPlayer.addEventListener("SeekCompleted",amp.bind(this,this.onSeekCompleted));this.player().mediaPlayer.addEventListener("MediaEnded",amp.bind(this,this.onMediaEnded));this.player().mediaPlayer.addEventListener("PlaybackPositionChanged",amp.bind(this,this.onTimeUpdate));this.player().mediaPlayer.addEventListener("VolumeLevelChanged",amp.bind(this,this.onVolumeChanged));this.player().mediaPlayer.addEventListener("MuteChanged",amp.bind(this,this.onVolumeChanged));this.player().mediaPlayer.addEventListener("MediaFailed",amp.bind(this,this.onMediaFailed));this.player().mediaPlayer.addEventListener("AdaptiveStreamingErrorOccurred",amp.bind(this,this.onAdaptiveStreamingErrorOccurred));this.player().mediaPlayer.addEventListener("ReportDiagTrace",amp.bind(this,this.onReportDiagTrace));this.player().mediaPlayer.addEventListener("DownloadBitrateChanged",amp.bind(this,this.onVideoDownloadBitrateChanged));this.player().mediaPlayer.addEventListener("PlaybackBitrateChanged",amp.bind(this,this.onVideoPlaybackBitrateChanged));this.player().mediaPlayer.addEventListener("FullScreenChanged",amp.bind(this,this.onFullScreenChanged));var n;this.player().mediaPlayer.addEventListener("PlaybackPositionChanged",amp.bind(this,function(){this.duration()!==n&&(n=this.duration(),this.player().trigger(amp.eventName.durationchange));amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening||amp.SilverlightSS._opening||(this.player().trigger(amp.eventName.play),this.player().trigger(amp.eventName.playing),amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening=!0)}));vjs.IS_IE&&window.addEventListener("mouseup",amp.bind(this,this.onMouseUp),!1)};amp.SilverlightSS.prototype.playStateChangedHandler=function(){switch(this.player().mediaPlayer.PlayState){case this.SilverlightSSMediaState.Playing:amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening&&(this.player().trigger(amp.eventName.play),this.player().trigger(amp.eventName.playing));break;case this.SilverlightSSMediaState.Paused:this.player().trigger(amp.eventName.pause);break;case this.SilverlightSSMediaState.Buffering:amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening||this.player().trigger(amp.eventName.waiting)}};amp.SilverlightSS.prototype.onMediaOpened=function(){amp.SilverlightSS._opening=!1;this.player().trigger(amp.eventName.durationchange);this.player().trigger(amp.eventName.loadstart);this.player().trigger(amp.eventName.loadedmetadata);this.player().trigger(amp.eventName.loadeddata);this.player().trigger(amp.eventName.canplaythrough)};amp.SilverlightSS.prototype.onMediaFailed=function(n,t){var u=t.Result.Message,i=t.Result.Message,r;amp.SilverlightSS._adaptiveStreamingError&&(u+=": "+amp.SilverlightSS._adaptiveStreamingError.Message,i=amp.SilverlightSS._adaptiveStreamingError.Message);r=amp.errorCode.errUnknown;i.indexOf(amp.SilverlightSS._networkError)!=-1?r=amp.errorCode.networkErrUnknown:i.indexOf(amp.SilverlightSS._licenseError)!=-1||i.indexOf(amp.SilverlightSS._licenseAcquisitionErrorCode)!=-1||i.indexOf(amp.SilverlightSS._tokenError)!=-1||i.indexOf(amp.SilverlightSS._licenseAcquisitionServiceSpecificErrorCode)!=-1?r=amp.errorCode.encryptErrLicenseAcquire:i.indexOf(amp.SilverlightSS._parseSegmentError)!=-1?r=amp.errorCode.srcErrParseSegment:i.indexOf(amp.SilverlightSS._parsePresentationError)!=-1?r=amp.errorCode.srcErrParsePresentation:i.indexOf(amp.SilverlightSS._unsupportedPresentation)!=-1&&(r=amp.errorCode.srcErrUnsupportedPresentation);amp.Player.raiseError.call(this.player(),"silverlightss",r,u)};amp.SilverlightSS.prototype.onAdaptiveStreamingErrorOccurred=function(n,t){amp.SilverlightSS._adaptiveStreamingError=t.Result};amp.SilverlightSS.prototype.onSeekCompleted=function(){amp.SilverlightSS._seeking=!1;this.player().trigger(amp.eventName.seeked)};amp.SilverlightSS.prototype.onMediaEnded=function(){amp.SilverlightSS._ended=!0;this.player().trigger(amp.eventName.ended)};amp.SilverlightSS.prototype.onTimeUpdate=function(){this.player().trigger(amp.eventName.timeupdate)};amp.SilverlightSS.prototype.onFullScreenChanged=function(){this.player().trigger(amp.eventName.fullscreenchange)};amp.SilverlightSS.prototype.onVolumeChanged=function(){this.player().trigger(amp.eventName.volumechange)};amp.SilverlightSS.prototype.onReportDiagTrace=function(n,t){AMP.Logger.verbose(AMP.Logger.Area.silverlightSS,t.Result)};amp.SilverlightSS.prototype.onVideoDownloadBitrateChanged=function(n,t){amp.SilverlightSS._downloadBitrate=t.Result;this.player().trigger(amp.eventName.downloadbitratechanged)};amp.SilverlightSS.prototype.onVideoPlaybackBitrateChanged=function(n,t){amp.SilverlightSS._playbackBitrate=t.Result;this.player().trigger(amp.eventName.playbackbitratechanged)};amp.SilverlightSS.prototype.onMouseUp=function(n){var i=document.elementFromPoint(n.clientX,n.clientY),t=this.player();i&&i.parentNode===t.el()?(t.isFocused=!0,window.focus()):(t.isFocused=!1,t.el().blur())};amp.SilverlightSS.prototype.reset=function(){amp.SilverlightSS._seeking=!1;amp.SilverlightSS._ended=!1;amp.SilverlightSS._opening=!0;amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening=!1;amp.SilverlightSS._adaptiveStreamingError=null};amp.SilverlightSS.prototype.SilverlightSSMediaState={Closed:0,Opening:1,Buffering:2,Playing:3,Paused:4,Stopped:5,Individualizing:6,AcquiringLicense:7};amp.options.techOrder.unshift("silverlightSS");amp.options.silverlightSS={};amp.Html5FairPlayHLS=amp.Html5.extend({init:function(n,t,i){vjs.Html5.call(this,n,t,i)}});amp.Html5FairPlayHLS.prototype.eventHandler=function(n){"timeupdate"!==n.type&&"progress"!==n.type&&AMP.Logger.verbose(AMP.Logger.Area.html5FairplayHLS,"Event: "+n.type);n.type=="error"&&this.error()?amp.Player.raiseError.call(this.player(),"html5FairPlayHLS",this.error().code<<20):vjs.Html5.prototype.processEvent.call(this,n)};amp.Html5FairPlayHLS.prototype.fairplay=null;amp.Html5FairPlayHLS.prototype.setSrc=function(n){var t,r,i,u;for(AMP.Logger.setLogConfig(this.player().options().traceConfig),this.fairplay&&(this.fairplay.dispose(),this.fairplay=null),t=[],this.player().options_&&this.player().options_.playbackOptions&&this.player().options_.playbackOptions.protectionInfo&&(t=this.player().options_.playbackOptions.protectionInfo),r=null,i=0;i<t.length;i++)if(t[i].type==="FairPlay"){r=t[i];break}r&&amp.Html5FairPlayHLS.isFairPlaySupported()?(u=new AMP.Html5Fairplay.SrcInfo(n,this.player().options_.autoplay,r),this.fairplay=new AMP.Html5Fairplay.FairPlay(this.el_,u,amp.bind(this,handleFairPlayErrors),amp.bind(this,handleFairPlayEvent))):handleFairPlayErrors(amp.erroCode.srcPlayerMismatchUnknown,"html5FairPlayHLS tech can only be used with FairPlay protected content")};amp.Html5FairPlayHLS.prototype.play=function(){this.fairplay.play()};amp.Html5FairPlayHLS.prototype.dispose=function(){this.fairplay&&this.fairplay.dispose();vjs.Html5.prototype.dispose.call(this)};amp.Html5FairPlayHLS.nativeSourceHandler={};amp.Html5FairPlayHLS.nativeSourceHandler.handleSource=function(n,t){n&&n.protectionInfo&&(t.player().options_.playbackOptions.protectionInfo=n.protectionInfo);t.setSrc(n.src)};amp.Html5FairPlayHLS.nativeSourceHandler.canHandleSource=function(n){function r(n){try{return vjs.TEST_VID.canPlayType(n)}catch(t){return""}}var t,i,u=function(n){if(n.protectionInfo)for(var t=0;t<n.protectionInfo.length;t++)if(n.protectionInfo[t].type==="FairPlay")return!0;return!1},f=u(n)&&amp.Html5FairPlayHLS.isFairPlaySupported();return f?n.type==="application/vnd.apple.mpegurl"?r(n.type):n.src?(t=n.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i),i=t&&t[1],r("video/"+i)):"":""};amp.Html5FairPlayHLS.nativeSourceHandler.dispose=function(){};amp.MediaTechController.withSourceHandlers(vjs.Html5FairPlayHLS);amp.Html5FairPlayHLS.registerSourceHandler(amp.Html5FairPlayHLS.nativeSourceHandler);amp.Html5FairPlayHLS.isFairPlaySupported=function(){return window.WebKitMediaKeys&&window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4")};amp.Html5FairPlayHLS.isSupported=function(){return vjs.Html5.isSupported.call(this)};amp.options.techOrder.unshift("html5FairPlayHLS");amp.options.Html5FairPlayHLS={};amp.FlashSS=amp.MediaTechController.extend({init:function(n,t,i){var s,o,e,h;if(amp.MediaTechController.call(this,n,t,i),!t.source){AMP.Logger.setLogConfig(n.options_.traceConfig);this.triggerReady();return}s=amp.Player.getScriptRootURL();!n.options_.flashSS.swf&&s&&(n.options_.flashSS.swf=s+"/techs/StrobeMediaPlayback.2.0.swf");var f=t.source,a=t.parentEl,c=this.el_=amp.createEl("div",{id:n.id()+"_temp_flash"}),l=n.id()+"_flashSS_api",u=n.options_,r=amp.obj.merge({playerId:n.id(),controlBarMode:"none",playButtonOverlay:"false",bufferingOverlay:"false",AdaptiveStreamingPlugin_retryLive:"true",autoPlay:!0,preload:u.preload,loop:u.loop,muted:u.muted},t.flashVars),v=amp.obj.merge({menu:!1,wmode:"opaque",bgcolor:"#000000"},t.params),y=amp.obj.merge({id:l,name:l,"class":"vjs-tech"},t.attributes);if(t.swf=u.flashSS.swf,n.flashSS=this,n.flashSS.lastSeekTarget_=NaN,this.reset(),f&&(f.src=amp.FlashSS.getFullSourceURL(f.src),amp.FlashSS._src=f.src,r.src=f.src,f.protectionInfo)){for(o=0;o<f.protectionInfo.length;o++)f.protectionInfo[o].type===amp.protectionType.AES&&f.protectionInfo[o].authenticationToken&&(r.AdaptiveStreamingPlugin_encryptionKeyToken=f.protectionInfo[o].authenticationToken);u.playbackOptions.protectionInfo=f.protectionInfo}if(this.player().updateCurrentPlayerConfigs(),e=u.currentPlayerConfigs.currentHeuristicConfigs,r.AdaptiveStreamingPlugin_minimumBufferTimeInSeconds=e.preRollInSec,r.AdaptiveStreamingPlugin_maximumBufferTimeInSeconds=e.maxBufferInSec,r.AdaptiveStreamingPlugin_livePlaybackOffsetInSecond=e.livePlaybackOffsetInSec,amp.FlashSS._heuristicSettings.minimumBufferTimeInSeconds=e.preRollInSec,amp.FlashSS._heuristicSettings.maximumBufferTimeInSeconds=e.maxBufferInSec,amp.FlashSS._heuristicSettings.livePlaybackOffsetInSecond=e.livePlaybackOffsetInSec,amp.FlashSS._isTraceEnabled=u.isTraceEnabled,AMP.Logger.setLogConfig(u.traceConfig),u.traceConfig&&u.traceConfig.maxLogLevel){r.AdaptiveStreamingPlugin_enableOSMFLogging=!0;org.osmf.player.debug.logs=amp.FlashSS.onLogMessage;switch(u.traceConfig.maxLogLevel){case 0:r.AdaptiveStreamingPlugin_minimalLogLevel=0;r.AdaptiveStreamingPlugin_enableOSMFLogging=!1;org.osmf.player.debug.logs=undefined;break;case 1:r.AdaptiveStreamingPlugin_minimalLogLevel=2;break;case 2:r.AdaptiveStreamingPlugin_minimalLogLevel=1;break;case 3:r.AdaptiveStreamingPlugin_minimalLogLevel=0;break;default:r.AdaptiveStreamingPlugin_minimalLogLevel=0}}else r.AdaptiveStreamingPlugin_enableOSMFLogging=!1,org.osmf.player.debug.logs=undefined;amp.FlashSS._traceConfig=u.traceConfig;amp.insertFirst(c,a);t.startTime&&this.ready(function(){this.load();this.play();this.currentTime(t.startTime)});amp.IS_FIREFOX&&this.ready(function(){amp.on(this.el(),"mousemove",amp.bind(this,function(){this.player().trigger({type:"mousemove",bubbles:!1})}))});n.on("stageclick",n.reportUserActivity);if(this.el_=amp.Flash.embed(t.swf,c,r,v,y),this.ready(this.setupTriggers),vjs.IS_IE||vjs.IS_EDGE){h=amp.bind(this,this.mouseUp);window.addEventListener("mouseup",h,!1);this.on("dispose",function(){window.removeEventListener("mouseup",h)})}}});typeof org=="undefined"&&(org={});typeof org.osmf=="undefined"&&(org.osmf={});typeof org.osmf.player=="undefined"&&(org.osmf.player={});typeof org.osmf.player.debug=="undefined"&&(org.osmf.player.debug={});amp.FlashSS.onLogMessage=function(n){for(var i=n.split("###"),t=0;t<i.length;t++)AMP.Logger.verbose(AMP.Logger.Area.flashSS,i[t])};amp.FlashSS.isSupported=function(){return amp.Flash.isSupported()};amp.FlashSS.canPlaySource=function(n){return amp.Player.canSupportFormats(n,this.supportedFormats)};amp.FlashSS.supportedFormats={};amp.FlashSS.supportedFormats[amp.StreamingFormatMimeType.Smooth]=[amp.protectionType.AES];amp.FlashSS.prototype.dispose=function(){amp.MediaTechController.prototype.dispose.call(this)};amp.FlashSS.prototype.autoplay=function(){return this.player().options_.autoplay};amp.FlashSS.prototype.setAutoplay=function(){};amp.FlashSS.prototype.isLive=function(){return this.el_.getStreamType&&this.el_.getStreamType()==="dvr"?!0:!1};amp.FlashSS.prototype.buffered=function(){return this.el_.getBufferLength?amp.createTimeRange(this.currentTime(),this.currentTime()+this.el_.getBufferLength()):null};amp.FlashSS.prototype.setCurrentTime=function(n){this.el_.setCurrentTime&&(n=n<=this.duration()?n:this.duration(),n=n>0?n:0,this.lastSeekTarget_=n,this.el_.setCurrentTime(n))};amp.FlashSS.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.getCurrentTime?this.el_.getCurrentTime():null};amp.FlashSS.prototype.currentAbsoluteTime=function(){return undefined};amp.FlashSS.prototype.currentMediaTime=function(){return this.el_.getCurrentMediaTime?this.el_.getCurrentMediaTime():null};amp.FlashSS.prototype.currentVideoStreamList=function(){return amp.FlashSS._currentVideoStreamList};amp.FlashSS.prototype.currentAudioStreamList=function(){return amp.FlashSS._currentAudioStreamList};amp.FlashSS.prototype.videoBufferData=function(){return amp.FlashSS._videoBufferData};amp.FlashSS.prototype.audioBufferData=function(){return amp.FlashSS._audioBufferData};amp.FlashSS.prototype.currentDownloadBitrate=function(){if(amp.FlashSS._currentVideoStreamList&&this.el_.getCurrentDynamicStreamIndex){var n=this.el_.getCurrentDynamicStreamIndex();return amp.FlashSS._currentVideoStreamList.streams[0].tracks[n].bitrate}return undefined};amp.FlashSS.prototype.currentPlaybackBitrate=function(){return undefined};amp.FlashSS.prototype.ended=function(){return amp.FlashSS._ended};amp.FlashSS.prototype.isFullscreen=function(){return this.player().isFullscreen()};amp.FlashSS.prototype.src=function(n){if(n===undefined)return this.currentSrc();this.el_.setAutoPlay&&this.el_.setMediaResourceURL&&(this.reset(),n=amp.FlashSS.getFullSourceURL(n),amp.FlashSS._src=n,this.el_.setAutoPlay(!0),this.el_.setMediaResourceURL(n))},function(){function f(n){var t=n.charAt(0).toUpperCase()+n.slice(1);i["set"+t]=function(n){return this.el_["set"+t]?this.el_["set"+t](n):null}}function u(n){i[n]=function(){var t=n.charAt(0).toUpperCase()+n.slice(1);return this.el_["get"+t]?this.el_["get"+t]():null}}for(var i=amp.FlashSS.prototype,t="controls,muted,volume".split(","),r="currentSrc,duration,paused,seeking,videoHeight,videoWidth".split(","),n=0;n<t.length;n++)u(t[n]),f(t[n]);for(n=0;n<r.length;n++)u(r[n])}();amp.FlashSS.prototype.load=function(){this.el_.load&&this.el_.load()};amp.FlashSS.prototype.play=function(){this.el_.play2&&this.el_.play2()};amp.FlashSS.prototype.pause=function(){this.el_.pause&&this.el_.pause()};amp.FlashSS.prototype.supportsFullScreen=function(){return!1};amp.FlashSS.prototype.enterFullScreen=function(){return!1};amp.FlashSS.prototype.setupTriggers=function(){this.el_.addEventListener("switchingChange","amp.FlashSS.onEvent")};amp.FlashSS.prototype.mouseUp=function(n){var i=document.elementFromPoint(n.clientX,n.clientY),t=this.player();i&&i.parentNode===t.el()?(t.isFocused=!0,window.focus()):(t.isFocused=!1,t.el().blur())};amp.FlashSS.onReady=function(n){AMP.Logger.verbose(AMP.Logger.Area.flashSS,n+" - Ready");var t,i;t=amp.el(n);this.el_=t;i=t&&t.parentNode&&t.parentNode.player;i&&(t.player=i,amp.FlashSS.checkReady(i.flashSS))};amp.FlashSS.checkReady=function(n){return n.el()?n.el().getBufferTime?(n.triggerReady(),amp.FlashSS._videoBufferData=new AMP.FlashSS.BufferData(n.el(),AMP.FlashSS.MediaType.video),amp.FlashSS._audioBufferData=new AMP.FlashSS.BufferData(n.el(),AMP.FlashSS.MediaType.audio),!0):(setTimeout(function(){amp.FlashSS.checkReady(n)},50),!1):!1};amp.FlashSS._firstReady=!0;amp.FlashSS._src=null;amp.FlashSS._ended=!1;amp.FlashSS._heuristicSettings={};amp.FlashSS._currentVideoStreamList=undefined;amp.FlashSS._currentAudioStreamList=undefined;amp.FlashSS._videoBufferData=undefined;amp.FlashSS._audioBufferData=undefined;amp.FlashSS._traceConfig=undefined;amp.FlashSS._passThroughEvents=["seeking","durationchange","loadstart","waiting","volumechange"];amp.FlashSS.onEvent=function(n,t,i){try{var r=amp.el(n).player;amp.FlashSS._passThroughEvents.indexOf(t)!==-1&&r.trigger(t);switch(t){case"onJavaScriptBridgeCreated":amp.FlashSS.onReady(n);break;case"complete":amp.FlashSS._ended=!0;r.trigger("ended");break;case"emptied":amp.FlashSS._firstReady&&(amp.FlashSS._currentVideoStreamList||(amp.FlashSS._currentVideoStreamList=new AMP.FlashSS.VideoStreamList(r.flashSS.el_),amp.FlashSS._currentAudioStreamList=new AMP.FlashSS.AudioStreamList(r.flashSS.el_),amp.FlashSS._currentAudioStreamList.streams.length==0&&(amp.FlashSS._currentAudioStreamList=undefined)),r.trigger("loadeddata"),r.trigger("loadedmetadata"),amp.FlashSS._firstReady=!1,r.flashSS.el_.setAutoDynamicStreamSwitch(!0));break;case"downloadevent":r.flashSS.downloadEvent(i);break;case"play":r.options_.autoplay||r.flashSS.firstPlayingOccurredWithAutoplayFalse_?(r.flashSS.firstPlayingOccurredWithAutoplayFalse_||(r.trigger("canplaythrough"),r.flashSS.firstPlayingOccurredWithAutoplayFalse_=!0),r.trigger("play"),r.trigger("playing")):(r.pause(),r.trigger("canplaythrough"),r.flashSS.firstPlayingOccurredWithAutoplayFalse_=!0);break;case"pause":r.flashSS.firstPlayingOccurredWithAutoplayFalse_&&r.trigger("pause");break;case"seeked":r.flashSS.firstPlayingOccurredWithAutoplayFalse_&&r.trigger("seeked");break;case"timeupdate":r.flashSS.firstPlayingOccurredWithAutoplayFalse_&&(!r.flashSS.el_.getPaused()||r.flashSS.isLive())&&r.trigger("timeupdate");break;case"error":r.currentSrc()&&(amp.Player.raiseError.call(r,"flashss",amp.FlashSS.getMediaErrorCode(i.code,i.detail),amp.FlashSS.getMediaErrorMsg(i.code)),r.flashSS.firstPlayingOccurredWithAutoplayFalse_=!1);break;case"switchingChange":r.trigger("downloadbitratechanged")}"timeupdate"!==t&&"progress"!==t&&AMP.Logger.verbose(AMP.Logger.Area.flashSS,n+" - Event:"+t)}catch(u){AMP.Logger.error(AMP.Logger.Area.flashSS,n+" - Event:"+t+" - error:"+u);throw u;}};amp.FlashSS.prototype.downloadEvent=function(n){var t;if(n&&n.type)switch(n.type){case"downloadStarted":t=n.isAudio?amp.FlashSS._audioBufferData:amp.FlashSS._videoBufferData;t.downloadRequested=t.downloadRequested||{};t.downloadRequested.url=n.url;t.downloadRequested.bitrate=n.bitrate;t.downloadRequested.mediaTime=n.mediaTime;t.dispatchEvent(amp.bufferDataEventName.downloadrequested);break;case"downloadCompleted":t=n.isAudio?amp.FlashSS._audioBufferData:amp.FlashSS._videoBufferData;t.downloadCompleted=t.downloadCompleted||{};t.downloadCompleted.measuredBandwidth=8*n.downloadBytes/n.downloadTime;t.downloadCompleted.totalBytes=n.downloadBytes;t.downloadCompleted.totalDownloadMs=1e3*n.downloadTime;t.downloadCompleted.mediaDownload=t.downloadCompleted.mediaDownload||{};t.downloadCompleted.mediaDownload.url=n.url;t.downloadCompleted.mediaDownload.bitrate=n.bitrate;t.downloadCompleted.mediaDownload.mediaTime=n.mediaTime;t.dispatchEvent(amp.bufferDataEventName.downloadcompleted);break;case"mediaError":t=n.isAudio?amp.FlashSS._audioBufferData:amp.FlashSS._videoBufferData;t.downloadFailed=t.downloadFailed||{};t.downloadFailed.code=n.code;t.downloadFailed.message=n.message;t.downloadFailed.mediaDownload=t.downloadFailed.mediaDownload||{};t.downloadFailed.mediaDownload.url=n.url;t.downloadFailed.mediaDownload.bitrate=n.bitrate;t.downloadFailed.mediaDownload.mediaTime=n.mediaTime;t.dispatchEvent(amp.bufferDataEventName.downloadfailed);amp.Player.raiseError.call(this.player(),"flashss",amp.FlashSS.getMediaErrorCode(n.code,n.detail),amp.FlashSS.getMediaErrorMsg(n.code))}};amp.FlashSS.getMediaErrorCode=function(n,t){switch(n){case amp.FlashSS.errorCodes.OSMF_HTTP_GET_FAILED:case amp.FlashSS.errorCodes.OSMF_NETCONNECTION_REJECTED:case amp.FlashSS.errorCodes.OSMF_NETCONNECTION_APPLICATION_INVALID:case amp.FlashSS.errorCodes.OSMF_NETCONNECTION_FAILED:case amp.FlashSS.errorCodes.FRAGMENT_DOWNLOAD_ERROR:case amp.FlashSS.errorCodes.MANIFEST_DOWNLOAD_ERROR:return amp.FlashSS.getHttpErrorCode(t);case amp.FlashSS.errorCodes.OSMF_NETCONNECTION_TIMEOUT:case amp.FlashSS.errorCodes.MANIFEST_DOWNLOAD_TIMEOUT:case amp.FlashSS.errorCodes.FRAGMENT_DOWNLOAD_TIMEOUT:return amp.errorCode.networkErrTimeout;case amp.FlashSS.errorCodes.MANIFEST_NOT_SUPPORTED_ELEMENT:case amp.FlashSS.errorCodes.MANIFEST_NOT_SUPPORTED_AUDIO_TRACK:case amp.FlashSS.errorCodes.MANIFEST_NOT_SUPPORTED_VIDEO_TRACK:case amp.FlashSS.errorCodes.VIDEO_STREAM_MISSING:case amp.FlashSS.errorCodes.MANIFEST_LIVE_DVRWINDOWLENGTH_TOO_SMALL:case amp.FlashSS.errorCodes.TOO_EARLY_TO_JOIN_LIVE_EVENT:return amp.errorCode.srcErrUnsupportedPresentation;case amp.FlashSS.errorCodes.MANIFEST_PARSE_TIMEOUT:case amp.FlashSS.errorCodes.MANIFEST_MAJOR_VERSION_MISSING:case amp.FlashSS.errorCodes.MANIFEST_MINOR_VERSION_MISSING:case amp.FlashSS.errorCodes.MANIFEST_STREAMINDEX_MISSING:case amp.FlashSS.errorCodes.MANIFEST_UNEXPECTED_ROOT_ELEMENT:case amp.FlashSS.errorCodes.MANIFEST_UNEXPECTED_ROOT_ATTRIBUTE:case amp.FlashSS.errorCodes.MANIFEST_STREAMINFO_TYPE_MISSING:case amp.FlashSS.errorCodes.MANIFEST_STREAMINFO_URL_MISSING:case amp.FlashSS.errorCodes.MANIFEST_CHUNK_ATTRIBUTE_MISSING:case amp.FlashSS.errorCodes.MANIFEST_INVALID_ATTRIBUTE_VALUE:case amp.FlashSS.errorCodes.INVALID_SMOOTH_DYNAMIC_RESOURCE:case amp.FlashSS.errorCodes.MANIFEST_AUDIO_QUALITYLEVEL_BITRATE_MISSING:case amp.FlashSS.errorCodes.MANIFEST_AUDIO_QUALITYLEVEL_AUDIOTAG_MISSING:case amp.FlashSS.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_BITRATE_MISSING:case amp.FlashSS.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_FOURCC_MISSING:case amp.FlashSS.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_MAXWIDTH_MISSING:case amp.FlashSS.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_MAXHEIGHT_MISSING:case amp.FlashSS.errorCodes.MANIFEST_UNEXPECTED_PROTECTION_HEADER:case amp.FlashSS.errorCodes.MANIFEST_LIVE_LOOKAHEADFRAGMENTCOUNT_MISSING:return amp.errorCode.srcErrParsePresentation;case amp.FlashSS.errorCodes.OSMF_NETSTREAM_PLAY_FAILED:case amp.FlashSS.errorCodes.OSMF_NETSTREAM_FILE_STRUCTURE_INVALID:case amp.FlashSS.errorCodes.OSMF_IO_ERROR:case amp.FlashSS.errorCodes.OSMF_SECURITY_ERROR:case amp.FlashSS.errorCodes.OSMF_ASYNC_ERROR:case amp.FlashSS.errorCodes.OSMF_ARGUMENT_ERROR:case amp.FlashSS.errorCodes.OSMF_URL_SCHEME_INVALID:case amp.FlashSS.errorCodes.OSMF_MEDIA_LOAD_FAILED:case amp.FlashSS.errorCodes.OSMF_PLUGIN_VERSION_INVALID:case amp.FlashSS.errorCodes.OSMF_PLUGIN_IMPLEMENTATION_INVALID:case amp.FlashSS.errorCodes.OSMF_SOUND_PLAY_FAILED:case amp.FlashSS.errorCodes.OSMF_NETSTREAM_STREAM_NOT_FOUND:case amp.FlashSS.errorCodes.OSMF_DVRCAST_SUBSCRIBE_FAILED:case amp.FlashSS.errorCodes.OSMF_DVRCAST_CONTENT_OFFLINE:case amp.FlashSS.errorCodes.OSMF_DVRCAST_STREAM_INFO_RETRIEVAL_FAILED:case amp.FlashSS.errorCodes.OSMF_F4M_FILE_INVALID:case amp.FlashSS.errorCodes.CANNOT_SET_AUDIO_STREAM_INDEX:case amp.FlashSS.errorCodes.PLUGIN_INVALID_PARAM:case amp.FlashSS.errorCodes.PLUGIN_NULL_PARAM:return amp.errorCode.srcErrUnknown;case amp.FlashSS.errorCodes.ENCRYPTIONKEY_DOWNLOAD_ERROR:case amp.FlashSS.errorCodes.ENCRYPTIONKEY_DOWNLOAD_AUTH_ERROR:case amp.FlashSS.errorCodes.ENCRYPTIONKEY_DOWNLOAD_TIMEOUT:case amp.FlashSS.errorCodes.ENCRYPTIONKEYURL_TOKEN_VERIFICATION_ERROR:return amp.errorCode.encryptErrKeyAcquire;case amp.FlashSS.errorCodes.FRAGMENT_DECRYPT_ERROR:return amp.errorCode.encryptErrDecryption;default:return amp.errorCode.errUnknown}};amp.FlashSS.getHttpErrorCode=function(n){var t=amp.errorCode.networkErrUnknown,i;return n&&(i=n.match(/^httpStatus:([0-9]+)/),i.length===2&&(t=amp.httpErrorCode[i[1]]||t)),t};amp.FlashSS.errorCodes={OSMF_IO_ERROR:1,OSMF_SECURITY_ERROR:2,OSMF_ASYNC_ERROR:3,OSMF_ARGUMENT_ERROR:4,OSMF_URL_SCHEME_INVALID:5,OSMF_HTTP_GET_FAILED:6,OSMF_MEDIA_LOAD_FAILED:7,OSMF_PLUGIN_VERSION_INVALID:8,OSMF_PLUGIN_IMPLEMENTATION_INVALID:9,OSMF_SOUND_PLAY_FAILED:10,OSMF_NETCONNECTION_REJECTED:11,OSMF_NETCONNECTION_APPLICATION_INVALID:12,OSMF_NETCONNECTION_FAILED:13,OSMF_NETCONNECTION_TIMEOUT:14,OSMF_NETSTREAM_PLAY_FAILED:15,OSMF_NETSTREAM_STREAM_NOT_FOUND:16,OSMF_NETSTREAM_FILE_STRUCTURE_INVALID:17,OSMF_NETSTREAM_NO_SUPPORTED_TRACK_FOUND:18,OSMF_DRM_SYSTEM_UPDATE_ERROR:19,OSMF_DVRCAST_SUBSCRIBE_FAILED:20,OSMF_DVRCAST_CONTENT_OFFLINE:21,OSMF_DVRCAST_STREAM_INFO_RETRIEVAL_FAILED:22,OSMF_F4M_FILE_INVALID:23,MANIFEST_DOWNLOAD_TIMEOUT:1e3,MANIFEST_PARSE_TIMEOUT:1001,MANIFEST_DOWNLOAD_ERROR:1002,MANIFEST_MAJOR_VERSION_MISSING:1003,MANIFEST_MINOR_VERSION_MISSING:1004,MANIFEST_STREAMINDEX_MISSING:1005,MANIFEST_UNEXPECTED_ROOT_ELEMENT:1006,MANIFEST_UNEXPECTED_ROOT_ATTRIBUTE:1007,MANIFEST_STREAMINFO_TYPE_MISSING:1008,MANIFEST_STREAMINFO_URL_MISSING:1009,MANIFEST_AUDIO_QUALITYLEVEL_BITRATE_MISSING:1010,MANIFEST_AUDIO_QUALITYLEVEL_AUDIOTAG_MISSING:1011,MANIFEST_VIDEO_QUALITYLEVEL_BITRATE_MISSING:1012,MANIFEST_VIDEO_QUALITYLEVEL_FOURCC_MISSING:1013,MANIFEST_VIDEO_QUALITYLEVEL_MAXWIDTH_MISSING:1014,MANIFEST_VIDEO_QUALITYLEVEL_MAXHEIGHT_MISSING:1015,MANIFEST_CHUNK_ATTRIBUTE_MISSING:1016,MANIFEST_NOT_SUPPORTED_ELEMENT:1017,MANIFEST_NOT_SUPPORTED_AUDIO_TRACK:1018,MANIFEST_NOT_SUPPORTED_VIDEO_TRACK:1019,MANIFEST_INVALID_ATTRIBUTE_VALUE:1020,INVALID_SMOOTH_DYNAMIC_RESOURCE:1021,FRAGMENT_DOWNLOAD_TIMEOUT:1022,FRAGMENT_DOWNLOAD_ERROR:1023,CANNOT_SET_AUDIO_STREAM_INDEX:1024,VIDEO_STREAM_MISSING:1025,MANIFEST_LIVE_LOOKAHEADFRAGMENTCOUNT_MISSING:1026,PLUGIN_INVALID_PARAM:1027,PLUGIN_NULL_PARAM:1028,MANIFEST_LIVE_DVRWINDOWLENGTH_TOO_SMALL:1029,TOO_EARLY_TO_JOIN_LIVE_EVENT:1030,MANIFEST_UNEXPECTED_PROTECTION_HEADER:1048,ENCRYPTIONKEY_DOWNLOAD_ERROR:1049,ENCRYPTIONKEY_DOWNLOAD_AUTH_ERROR:1050,ENCRYPTIONKEY_DOWNLOAD_TIMEOUT:1051,ENCRYPTIONKEYURL_TOKEN_VERIFICATION_ERROR:1052,FRAGMENT_DECRYPT_ERROR:1053};amp.FlashSS.getMediaErrorMsg=function(n){for(var t in amp.FlashSS.errorCodes)if(amp.FlashSS.errorCodes.hasOwnProperty(t)&&amp.FlashSS.errorCodes[t]===n)return t;return n};amp.FlashSS.getFullSourceURL=function(n){return n=amp.getAbsoluteURL(n),n.indexOf("//")===0&&(n=window.location.protocol+n),n};amp.FlashSS.prototype.reset=function(){amp.FlashSS._firstReady=!0;amp.FlashSS._ended=!1;amp.FlashSS._src=null;amp.FlashSS._currentVideoStreamList=undefined;amp.FlashSS._currentAudioStreamList=undefined;this.player().flashSS.firstPlayingOccurredWithAutoplayFalse_=!1};amp.FlashSS.prototype.isReloadNeeded=function(){var n=this.player().options_.currentPlayerConfigs;return amp.FlashSS._src==null||!n||!n.currentHeuristicConfigs||amp.FlashSS._heuristicSettings.minimumBufferTimeInSeconds!==n.currentHeuristicConfigs.preRollInSec||amp.FlashSS._heuristicSettings.maximumBufferTimeInSeconds!==n.currentHeuristicConfigs.maxBufferInSec||amp.FlashSS._heuristicSettings.livePlaybackOffsetInSecond!==n.currentHeuristicConfigs.livePlaybackOffsetInSec||amp.FlashSS._traceConfig!==this.player().options_.traceConfig?!0:!1};amp.options.techOrder.unshift("flashSS");amp.options.flashSS={};amp.AzureHtml5JS=amp.MediaTechController.extend({init:function(n,t,i){var r,u;this.movingMediaElementInDOM=!amp.IS_IOS;this.playbackRate=!1;this.fullscreenResize=!0;this.progressEvents=!1;this.volumeControl=!0;r=t.source;amp.MediaTechController.call(this,n,t,i);this.el().controls=!1;AzureHtml5JS.Log.setLoggerFunction(AMP.Logger.writeEntry,AMP.Logger.Area.azureHtml5JS);u=AzureHtml5JS.CreateAzureHtml5(this.el());n.mediaPlayer=u;this.setupTriggers(u);r&&this.src!==r.src&&(r.protectionInfo&&(n.options_.playbackOptions.protectionInfo=r.protectionInfo),this.setSrc(r.src));amp.TOUCH_ENABLED&&n.options().nativeControlsForTouch===!0&&this.useNativeControls();this.triggerReady()}});amp.AzureHtml5JS.prototype.setXmlHttpRequestFactory=function(n){this.player_.mediaPlayer.setXmlHttpRequestFactory(n)};amp.AzureHtml5JS.prototype.createEl=function(){var t=this.player_,n=t.tag,e,u,i,r,f;for(n&&this.features.movingMediaElementInDOM!==!1||(n?(e=n.cloneNode(!1),amp.Html5.disposeMediaElement(n),n=e,t.tag=null):(n=amp.createEl("video"),amp.setElementAttributes(n,amp.obj.merge({},{id:t.id()+"_html5_api","class":"vjs-tech"}))),n.player=t,t.tag=n,amp.insertFirst(n,t.el())),amp.setElementAttributes(n,{oncontextmenu:"return false;"}),u=["preload","loop"],i=u.length-1;i>=0;i--)r=u[i],f={},typeof t.options_[r]!="undefined"&&(f[r]=t.options_[r]),amp.setElementAttributes(n,f);return n};amp.AzureHtml5JS.isSupported=function(){return!!window.MediaSource};amp.AzureHtml5JS.canPlaySource=function(n){return amp.Player.canSupportFormats(n,this.supportedFormats)};amp.AzureHtml5JS.supportedFormats={};amp.AzureHtml5JS.supportedFormats[amp.StreamingFormatMimeType.Dash]=[amp.protectionType.AES];amp.AzureHtml5JS._playReadyKeySystemName="com.microsoft.playready";amp.AzureHtml5JS._widevineKeySystemName="com.widevine.alpha";amp.AzureHtml5JS._defaultVideoCodecMime='video/mp4; codecs="avc1.42001E"';amp.AzureHtml5JS._defaultAudioCodecMime='audio/mp4; codecs="mp4a.40.2"';amp.AzureHtml5JS.CHECK_PENDING="pending";amp.AzureHtml5JS.CHECK_DONE="done";amp.AzureHtml5JS._playReadyCheck=null;amp.AzureHtml5JS._widevineCheck=null;amp.AzureHtml5JS.drmSupportCheck=function(n){for(var i,r,u,t=0;n&&t<n.length;t++)for(i=n[t].protectionInfo,r=0;i&&r<i.length;r++){if(u=i[r].type,vjs.IS_FIREFOX&&vjs.FIREFOX_VERSION<47||vjs.IS_MACWEBVIEW){amp.AzureHtml5JS._playReadyCheck=amp.AzureHtml5JS.CHECK_DONE;amp.AzureHtml5JS._widevineCheck=amp.AzureHtml5JS.CHECK_DONE;return}amp.AzureHtml5JS._playReadyCheck||u!==amp.protectionType.PlayReady?amp.AzureHtml5JS._widevineCheck||u!==amp.protectionType.Widevine||(AzureHtml5JS.EmeUtil.isTypeSupported(amp.AzureHtml5JS._widevineKeySystemName,amp.AzureHtml5JS._defaultAudioCodecMime,amp.AzureHtml5JS._defaultVideoCodecMime).then(function(){amp.AzureHtml5JS.supportedFormats[amp.StreamingFormatMimeType.Dash].push(amp.protectionType.Widevine);amp.AzureHtml5JS._widevineCheck=amp.AzureHtml5JS.CHECK_DONE},function(){amp.AzureHtml5JS._widevineCheck=amp.AzureHtml5JS.CHECK_DONE}),amp.AzureHtml5JS._widevineCheck=amp.AzureHtml5JS.CHECK_PENDING):(AzureHtml5JS.EmeUtil.isTypeSupported(amp.AzureHtml5JS._playReadyKeySystemName,amp.AzureHtml5JS._defaultAudioCodecMime,amp.AzureHtml5JS._defaultVideoCodecMime).then(function(){amp.AzureHtml5JS.supportedFormats[amp.StreamingFormatMimeType.Dash].push(amp.protectionType.PlayReady);amp.AzureHtml5JS._playReadyCheck=amp.AzureHtml5JS.CHECK_DONE},function(){amp.AzureHtml5JS._playReadyCheck=amp.AzureHtml5JS.CHECK_DONE}),amp.AzureHtml5JS._playReadyCheck=amp.AzureHtml5JS.CHECK_PENDING)}};amp.AzureHtml5JS.setupDone=function(){return amp.AzureHtml5JS._playReadyCheck!==amp.AzureHtml5JS.CHECK_PENDING&&amp.AzureHtml5JS._widevineCheck!==amp.AzureHtml5JS.CHECK_PENDING};amp.AzureHtml5JS.prototype.useNativeControls=function(){var t,n,i,r,u;t=this;n=this.player();t.setControls(n.controls());i=function(){t.setControls(!0)};r=function(){t.setControls(!1)};n.on("controlsenabled",i);n.on("controlsdisabled",r);u=function(){n.off("controlsenabled",i);n.off("controlsdisabled",r)};t.on("dispose",u);n.on("usingcustomcontrols",u);n.usingNativeControls(!0)};amp.AzureHtml5JS.prototype.autoplay=function(){return this.player().mediaPlayer.autoplay};amp.AzureHtml5JS.prototype.setAutoplay=function(n){this.player().options_.autoplay=n};amp.AzureHtml5JS.prototype.buffered=function(){return this.player().mediaPlayer.buffered};amp.AzureHtml5JS.prototype.currentSrc=function(){return this.src()};amp.AzureHtml5JS.prototype.isLive=function(){return this.player().mediaPlayer.isLive};amp.AzureHtml5JS.prototype.manifestPlayableWindowLength=function(){return this.player().mediaPlayer.manifestPlayableWindowLength};amp.AzureHtml5JS.prototype.currentPlayableWindow=function(){return this.player().mediaPlayer.currentPlayableWindow};amp.AzureHtml5JS.prototype.segmentBoundaries=function(){return this.player().mediaPlayer.segmentBoundaries};amp.AzureHtml5JS.prototype.setCurrentTime=function(n){this.player().mediaPlayer.currentTime=n};amp.AzureHtml5JS.prototype.currentTime=function(){return this.player().mediaPlayer.currentTime};amp.AzureHtml5JS.prototype.currentAbsoluteTime=function(){return this.player().mediaPlayer.currentAbsoluteTime};amp.AzureHtml5JS.prototype.currentMediaTime=function(){return this.player().mediaPlayer.currentMediaTime};amp.AzureHtml5JS.prototype.currentType=function(){return this.player().mediaPlayer.type};amp.AzureHtml5JS.prototype.currentVideoStreamList=function(){return this.player().mediaPlayer.currentVideoStreamList};amp.AzureHtml5JS.prototype.currentAudioStreamList=function(){return this.player().mediaPlayer.currentAudioStreamList};amp.AzureHtml5JS.prototype.videoBufferData=function(){return this.player().mediaPlayer.videoBufferData};amp.AzureHtml5JS.prototype.audioBufferData=function(){return this.player().mediaPlayer.audioBufferData};amp.AzureHtml5JS.prototype.currentDownloadBitrate=function(){return this.player().mediaPlayer.currentDownloadBitrate};amp.AzureHtml5JS.prototype.currentPlaybackBitrate=function(){return this.player().mediaPlayer.currentPlaybackBitrate};amp.AzureHtml5JS.prototype.duration=function(){return this.player().mediaPlayer.duration};amp.AzureHtml5JS.prototype.ended=function(){return this.player().mediaPlayer.ended};amp.AzureHtml5JS.prototype.error=function(){return this.player().error()};amp.AzureHtml5JS.prototype.isFullScreen=function(){return this.player().mediaPlayer.isFullScreen};amp.AzureHtml5JS.prototype.muted=function(){return this.player().mediaPlayer.volume===0};amp.AzureHtml5JS.prototype.setMuted=function(n){n&&!this.muted()&&this.setVolume(0)};amp.AzureHtml5JS.prototype.paused=function(){return this.player().mediaPlayer.paused};amp.AzureHtml5JS.prototype.seeking=function(){return this.player().mediaPlayer.seeking};amp.AzureHtml5JS.prototype.src=function(n){if(n===undefined)return this.player().mediaPlayer.src;this.setSrc(n)};amp.AzureHtml5JS.prototype.volume=function(){return this.player().mediaPlayer.volume};amp.AzureHtml5JS.prototype.setVolume=function(n){this.player().mediaPlayer.volume=n};amp.AzureHtml5JS.prototype.height=function(n){if(n===undefined)return this.player().mediaPlayer.height;this.player().mediaPlayer.height=n};amp.AzureHtml5JS.prototype.width=function(n){if(n===undefined)return this.player().mediaPlayer.width;this.player().mediaPlayer.width=n};amp.AzureHtml5JS.prototype.videoHeight=function(){return this.player().mediaPlayer.videoHeight};amp.AzureHtml5JS.prototype.videoWidth=function(){return this.player().mediaPlayer.videoWidth};amp.AzureHtml5JS.prototype.play=function(){this.player().mediaPlayer.play()};amp.AzureHtml5JS.prototype.pause=function(){this.player().mediaPlayer.pause()};amp.AzureHtml5JS.prototype.setSrc=function(n){var f={type:this.player().currentType()},r,u,t,e,i;if(this.player().options_.autoplay!==undefined&&(f=amp.obj.merge({autoPlay:this.player().options_.autoplay},f)),this.player().updateCurrentPlayerConfigs(),AMP.Logger.setLogConfig(this.player().options_.traceConfig),this.player().options_.traceConfig&&AzureHtml5JS.Log.setConsoleOutputByLevel(this.player().options_.traceConfig.maxLogLevel),r={},u=this.player().options_.currentPlayerConfigs.currentHeuristicConfigs,r.maxBufferInSec=u.maxBufferInSec,r.prerollPercent=u.preRollInSec/u.maxBufferInSec,r.livePlaybackOffsetPercent=(u.livePlaybackOffsetInSec-u.preRollInSec)/u.maxBufferInSec,r.windowSizeHeuristicsEnabled=u.windowSizeHeuristics,amp.options.azureHtml5JS.maxSkipSegments&&(r.maxSkipSegments=amp.options.azureHtml5JS.maxSkipSegments),this.player().options_.heuristicProfile==="QuickStart"&&(r.preFetchDataEnabled=!1),f.userConfig=r,t=this.player().options_.playbackOptions.protectionInfo,e=null,t){for(i=0;i<t.length;i++)(t[i].type===amp.protectionType.PlayReady||t[i].type===amp.protectionType.Widevine||t[i].type===amp.protectionType.AES)&&t[i].authenticationToken&&(e||(e={}),e[t[i].type]=t[i].authenticationToken);e&&(f=amp.obj.merge({authenticationTokens:e},f))}this.player().mediaPlayer.setSrc(n,f)};amp.AzureHtml5JS.prototype.load=function(){};amp.AzureHtml5JS.prototype.supportsFullScreen=function(){return!0};amp.AzureHtml5JS.prototype.enterFullScreen=function(){this.player().mediaPlayer.requestFullScreen()};amp.AzureHtml5JS.prototype.exitFullScreen=function(){this.player().mediaPlayer.exitFullscreen()};amp.AzureHtml5JS.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_);vjs.MediaTechController.prototype.dispose.call(this);this.player().mediaPlayer.dispose()};amp.AzureHtml5JS.prototype.setupTriggers=function(n){n.addEventListener(AzureHtml5JS.EventName.volumechange,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.ended,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.timeupdate,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.pause,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.play,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.playing,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.seeking,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.seeked,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.suspend,amp.bind(this,amp.AzureHtml5JS.onSuspend));n.addEventListener(AzureHtml5JS.EventName.loadstart,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.loadedmetadata,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.loadeddata,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.fullscreenchange,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.waiting,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.canplaythrough,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.error,amp.bind(this,amp.AzureHtml5JS.onError));n.addEventListener(AzureHtml5JS.EventName.durationchange,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.downloadbitratechanged,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.playbackbitratechanged,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler))};amp.AzureHtml5JS.onPassthroughHandler=function(n){this.player().trigger(n)};amp.AzureHtml5JS.onSuspend=function(){this.player().removeClass("vjs-loading")};amp.AzureHtml5JS.onError=function(){var n=this.player().mediaPlayer.error;amp.Player.raiseError.call(this.player(),"azurehtml5js",n.code,n.message)};amp.options.techOrder.unshift("azureHtml5JS");amp.options.azureHtml5JS={},function(n){(function(n){"use strict";var u=function(){function n(n){if(this.streams=[],n.getIsDynamicStream()){var i=new t(n);this.streams.push(i)}this.selectedIndex=this.streams.length>0?0:undefined}return n}(),t,i,r;n.VideoStreamList=u;t=function(){function n(n){var i,t,u;for(this.name="",this.tracks=[],this._tech=n,this._selectedTrack=-1,i=n.getStreamItems(),t=0;t<i.length;t++)u=new r(i[t]),this.tracks.push(u)}return n.prototype.selectTrackByIndex=function(n){if(this._selectedTrack!=n){-1==n?this._tech.setAutoDynamicStreamSwitch(!0):(this._tech.setAutoDynamicStreamSwitch(!1),this._tech.switchDynamicStreamIndex(n));for(var t=0;t<this.tracks.length;t++)this.tracks[t].streamingInfo.selectable=-1===n?!0:n===t;this._selectedTrack=n;this._tech.player.trigger(amp.streamEventName.trackselected)}},n.prototype.addEventListener=function(n,t){this._tech.player.addEventListener(n,t)},n.prototype.removeEventListener=function(n,t){this._tech.player.removeEventListener(n,t)},n}();n.VideoStream=t;i=function(){function n(){this.selectable=!0}return n}();n.MediaTrackStreamingInfo=i;r=function(){function n(n){this.width=n.width;this.height=n.height;this.bitrate=n.bitrate*1e3;this.streamingInfo=new i}return Object.defineProperty(n.prototype,"selectable",{get:function(){return this.streamingInfo.selectable},enumerable:!0,configurable:!0}),n}();n.VideoTrack=r})(n.FlashSS||(n.FlashSS={}));var t=n.FlashSS}(AMP||(AMP={})),function(n){(function(t){"use strict";var r=function(){function t(n){var t,r;for(this._streams=[],this._tech=n,t=0;t<n.getNumAlternativeAudioStreams();t++)r=new i(n,t),this._streams.push(r);this.selectedIndex=this._streams.length>0?n.getCurrentAlternativeAudioStreamIndex():undefined}return Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabledIndices",{get:function(){for(var t=[],n=0;n<this._streams.length;n++)if(this._streams[n].enabled){t.push(n);break}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(n){this._streams.length!=0&&(this._selectedIndex!=undefined&&(this._streams[this._selectedIndex].enabled=!1),this._streams[n].enabled=!0,this._selectedIndex=n)},enumerable:!0,configurable:!0}),t.prototype.switchIndex=function(t){if(this._tech.getHasAlternativeAudio()){if(this.enabledIndices.length!=1){n.Logger.error(2,"switchIndex failed - only single stream supported: "+this.enabledIndices.length+" streams enabled");this._tech.player.trigger(amp.streamListEventName.streamselectnotsupported);return}if(t>=this.streams.length||t<0){n.Logger.error(2,"audioChange failed - tried to enable invalid index: "+t);this._tech.player.trigger(amp.streamListEventName.streamindexinvalid);return}if(t===this.enabledIndices[0]){n.Logger.verbose(2,"audioChange failed because current stream selected");this._tech.player.trigger(amp.streamListEventName.streamselected);return}this.selectedIndex=t;this._tech.switchAlternativeAudioIndex(t);this._tech.player.trigger(amp.streamListEventName.streamselected)}else n.Logger.error(2,"No alternative audio streams found")},t.prototype.addEventListener=function(n,t){this._tech.player.addEventListener(n,t)},t.prototype.removeEventListener=function(n,t){this._tech.player.removeEventListener(n,t)},t}(),i;t.AudioStreamList=r;i=function(){function n(n,t){this.enabled=!1;this.language=n.getAlternativeAudioItemAt(t).info.attributes.Language;this.codec=n.getAlternativeAudioItemAt(t).info.targetTrack.fourCC;this.bitrate=n.getAlternativeAudioItemAt(t).bitrate*1e3;this.name=this.getName(n,t)}return n.prototype.getName=function(n,t){var i=n.getAlternativeAudioItemAt(t).info.urlTemplate.toLowerCase(),r="fragments(",u=i.indexOf(r),f=i.indexOf("=",u);return n.getAlternativeAudioItemAt(t).info.urlTemplate.substring(u+r.length,f)},n}();t.AudioStream=i})(n.FlashSS||(n.FlashSS={}));var t=n.FlashSS}(AMP||(AMP={})),function(n){(function(n){"use strict";var r,t,i;(function(n){n[n.audio=0]="audio";n[n.video=1]="video"})(n.MediaType||(n.MediaType={}));r=n.MediaType;t=function(){function n(n,t){this._el=n;this._typeStr=t===0?"Audio":"Video";this._bufferLevel=0;this._handlers=new i;this.downloadRequested=null;this.downloadCompleted=null;this.downloadFailed=null}return Object.defineProperty(n.prototype,"bufferLevel",{get:function(){var n="get"+this._typeStr+"BufferLength";return this._el&&this._el[n]?this._el[n]():0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"perceivedBandwidth",{get:function(){return this._el&&this._el.getPerceivedBandwidth?this._el.getPerceivedBandwidth():0},enumerable:!0,configurable:!0}),n.prototype.addEventListener=function(n,t){this._handlers[n]&&this._handlers[n].push(t)},n.prototype.removeEventListener=function(n,t){if(this._handlers[n]){var i=this._handlers[n].indexOf(t);-1!==i&&this._handlers[n].splice(i,1)}},n.prototype.dispatchEvent=function(n){var i,t;if(this._handlers[n])for(i={type:n},t=0;t<this._handlers[n].length;t++)this._handlers[n][t].call(this,i)},n}();n.BufferData=t;i=function(){function n(){this.downloadrequested=[];this.downloadcompleted=[];this.downloadfailed=[]}return n}()})(n.FlashSS||(n.FlashSS={}));var t=n.FlashSS}(AMP||(AMP={}));amp.Html5.prototype.vjsSetSrc=vjs.Html5.prototype.setSrc;amp.Html5.prototype.setSrc=function(n){AMP.Logger.setLogConfig(this.player().options().traceConfig);this.vjsSetSrc(n)},function(n){(function(t){"use strict";var i,r,u,f;(function(n){n[n.success=200]="success"})(i||(i={}));r=function(){function n(n,t,i){this.src=n;this.autoPlay=t;this.fairplayInfo=i}return n}();t.SrcInfo=r;u=function(){function n(n,t,i,r){this.target=n;this.listener=t;this.eventName=i;this.useCapture=r}return n}();f=function(){function t(n,t,i,r){this.videoTag=n;this.srcInfo=t;this.onError=i;this.onEvent=r;this.certFecthed=!1;this.certificate=null;this.session=null;this.licenseUrl=null;this.disposed=!1;this.keySessionEventListeners=[];this.init()}return t.prototype.dispose=function(){this.disposed=!0;this.keySessionEventListeners.forEach(function(n){n.target.removeEventListener(n.eventName,n.listener,n.useCapture)});this.keySessionEventListeners=null;this.videoTag&&(this.videoTag=null);this.srcInfo=null;this.onError=null;this.certificate=null;this.onEvent=null;this.certFecthed=!1;this.session&&this.session.close()},t.prototype.init=function(){function t(){n.certFecthed=!0;n.setSrcOnVideoElement()}function i(){return new Promise(function(t,i){function u(){if(!n.disposed)if(this.status===200)n.certificate=new Uint8Array(this.response),t();else{n.onError(5242887,"Fairplay certificate fetch failed with status ="+this.status);i()}}function f(){if(!n.disposed){n.onError(5242887,"Error occurred during Fairplay certificate fetch.");i()}}function e(){if(!n.disposed){n.onError(5242887,"Timeout during Fairplay certificate fetch.");i()}}var r=new XMLHttpRequest;r.open("GET",n.srcInfo.fairplayInfo.certificateUrl,!0);r.responseType="arraybuffer";r.onload=u;r.onerror=f;r.ontimeout=e;n.srcInfo.fairplayInfo.authenticationToken&&r.setRequestHeader("Authorization",n.srcInfo.fairplayInfo.authenticationToken);r.timeout=5e3;r.send()})}if(!this.srcInfo.fairplayInfo||!this.srcInfo.fairplayInfo.type||this.srcInfo.fairplayInfo.type!="FairPlay"||!this.srcInfo.fairplayInfo.certificateUrl)throw new Error("Initialization Error in FairPlay");var n=this;i().then(t)},t.prototype.play=function(){this.certFecthed?this.videoTag.play():this.pendingPlay=!0},t.prototype.addEventListener=function(n,t,i,r){n.addEventListener(t,i,r);this.keySessionEventListeners.push(new u(n,i,t,r))},t.prototype.setSrcOnVideoElement=function(){function i(n){if(!t.disposed){var i=n.initData;t.contentId=e(i);i=t.concatInitDataContentIdAndCertificate(i,h(t.contentId));t.session=f(i,"com.apple.fps.1_0");t.session&&(t.addEventListener(t.session,"webkitkeymessage",r,!1),t.addEventListener(t.session,"webkitkeyerror",u,!1))}}function r(i){function f(){var e,u;if(!t.disposed)try{if(this.status===200){var i=this.responseText.trim(),r=i.indexOf("<ckc>"),f=i.indexOf("<\/ckc>");if(r===-1||f===-1)throw Error("License data format not as expected, missing or misplaced <ckc> tag");r=r+5;i=i.substr(r,f-r);e=n.Base64Utils.base64ToBinary(i);t.session.update(e)}else throw Error("License fetch failed with http status = "+this.status);}catch(o){u=o.message?o.message:"Failed to update MediaKeySession with fetched Fairplay license.";n.Logger.error(6,u);t.onError(5242886,u)}}function e(){if(!t.disposed){var i="Error occurred during Fairplay license fetch.";n.Logger.error(6,i);t.onError(5242886,i)}}function o(){if(!t.disposed){var i="Timeout during Fairplay license fetch.";n.Logger.error(6,i);t.onError(5242886,i)}}var r,u;t.disposed||(r=new XMLHttpRequest,r.open("POST",t.licenseUrl,!0),r.onload=f,r.onerror=e,r.ontimeout=o,r.timeout=5e3,r.responseType="text",u="spc="+n.Base64Utils.binaryToBase64(i.message)+"&assetId="+encodeURIComponent(t.contentId),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.srcInfo.fairplayInfo.authenticationToken&&r.setRequestHeader("Authorization",t.srcInfo.fairplayInfo.authenticationToken),r.send(u))}function u(){if(!t.disposed){var i="MediaKeyError code: "+t.session.error.code+", systemCode: "+AzureHtml5JS.Common.toHexString(t.session.error.systemCode);n.Logger.error(6,i);t.onError(5242880,i)}}function f(i,r){var f="video/mp4",s="WebKitMediaKeys"in window,e=null,u;try{if(s&&window.WebKitMediaKeys.isTypeSupported(r,f))t.videoTag.webkitSetMediaKeys(new window.WebKitMediaKeys(r));else throw new Error("No EME support.");e=t.videoTag.webkitKeys.createSession(f,i)}catch(o){u=o.message?o.message:r+" session creation failed";n.Logger.error(6,u);t.onError(5242881,u)}return e}function e(n){var i=s(n);return t.licenseUrl=i.substring(1).replace("skd://","https://"),o(t.licenseUrl)}function o(n){var t=document.createElement("a");return t.href=n,t.hostname}function s(n){var i=new Uint16Array(n.buffer),r,t;try{return String.fromCharCode.apply(null,i)}catch(u){for(r=[],t=0;t<i.byteLength;t++)r.push(String.fromCharCode(i[t]));return r.join("")}}function h(n){for(var r=new ArrayBuffer(n.length*2),i=new Uint16Array(r),t=0,u=n.length;t<u;t++)i[t]=n.charCodeAt(t);return i}if(!this.disposed){this.addEventListener(this.videoTag,"webkitneedkey",i,!1);this.videoTag.autoplay=this.srcInfo.autoPlay;this.videoTag.src=this.srcInfo.src;this.pendingPlay&&this.videoTag.play();var t=this}},t.prototype.concatInitDataContentIdAndCertificate=function(n,t){var u=4,h=n.length+u+t.byteLength+u+this.certificate.byteLength,r=new ArrayBuffer(h),e=new DataView(r),i=0,o=new Uint8Array(r,i,n.byteLength),f,s;return o.set(n),i+=o.byteLength,e.setUint32(i,t.byteLength,!0),i+=u,f=new Uint16Array(r,i,t.length),f.set(t),i+=f.byteLength,e.setUint32(i,this.certificate.byteLength,!0),i+=u,s=new Uint8Array(r,i,this.certificate.byteLength),s.set(this.certificate),new Uint8Array(r,0,r.byteLength)},t}();t.FairPlay=f})(n.Html5Fairplay||(n.Html5Fairplay={}));var t=n.Html5Fairplay}(AMP||(AMP={})),function(n){"use strict";function a(n){o(n)&&(i=n)}function v(){i=t}function o(n){if(n&&n.length>0){for(var i=0;i<n.length;i++)if(-1===t.indexOf(n[i]))throw new Error('Format "'+n[i]+'" not supported');return!0}return!1}function y(n,t){for(var r=[],i=0;i<t.length;i++)-1!==l[n].indexOf(t[i].type)&&r.push(t[i]);return r}function p(n){for(var f,e,i=[],r,u,o=[],t=0;n&&t<n.length;t++)f=n[t].src,e=n[t].src.indexOf("?"),e!==-1&&(f=n[t].src.substr(0,e).toLowerCase()),f.toLowerCase().lastIndexOf(".ism/manifest")===-1||n[t].disableUrlRewriter?i.push(n[t]):(u=s(n[t].src),o.indexOf(u)===-1&&(o.push(u),r=w(n[t]),r&&(i=i.concat(r))));return i.length>0?i:null}function s(n){var t=n.trim(),i=t.search(/\.ism\/manifest/i);return t.substr(0,i+e.length)}function w(n){var t=n.src.trim(),et=t.search(/format=/i),nt=[],w,a="",l="",ft=t.indexOf("?"),b,k,d,v,p,rt,g,ut;if(ft!==-1&&(l=t.substr(ft),l!=="")){var ot=new RegExp("(\\?|&)protectionType=(.[^&]*)","i"),st=new RegExp("(\\?|&)token=(.[^&]*)","i"),tt=l.match(ot),it=l.match(st);tt&&tt.length===3&&(b=new u,b.type=tt[2],it&&it.length===3&&(b.authenticationToken=decodeURIComponent(it[2])),n.protectionInfo=[b])}for(et>-1&&(t=t.replace(/format=[^,)]*[ ,]*/i,""),t=t.replace(/\(\s*\)/,"")),w=t.match(/\.ism\/manifest\([^)]*\)/i),w&&w.length>0&&(a=w[0].substr(e.length+1).trim()),t=s(n.src.trim()),k=i,n.streamingFormats&&o(n.streamingFormats)&&(k=n.streamingFormats),d=0;d<k.length;d++){if(p="",v=k[d],rt=c[v],v!==f?p="(format="+h[v]+(a?","+a:")"):a&&(p="("+a),n.protectionInfo)if(ut=y(v,n.protectionInfo),ut.length)g=new r(t+p,rt,ut);else continue;else g=new r(t+p,rt);l!==""&&(g.src+=l);nt.push(g)}return nt.length>0?nt:null}var f="SMOOTH",t=[f,"DASH","HLS-V4","HLS-V3","HLS"],h={DASH:"mpd-time-csf","HLS-V3":"m3u8-aapl-v3","HLS-V4":"m3u8-aapl-v4",HLS:"m3u8-aapl"},c={SMOOTH:"application/vnd.ms-sstr+xml",DASH:"application/dash+xml","HLS-V3":"application/vnd.apple.mpegurl","HLS-V4":"application/vnd.apple.mpegurl",HLS:"application/vnd.apple.mpegurl"},l={SMOOTH:["PlayReady","AES"],DASH:["PlayReady","AES","Widevine"],"HLS-V3":["PlayReady","AES"],"HLS-V4":["PlayReady","AES"],HLS:["PlayReady","AES","FairPlay"]},e=".ism/manifest",i=t,r=function(){function n(n,t,i){this.src=n;this.type=t;this.protectionInfo=i}return n}(),u;n.streamSrc=r;u=function(){function n(){}return n}();n.protectionInfo=u;n.setStreamingFormats=a;n.resetStreamingFormats=v;n.expandSources=p}(UrlRewriter||(UrlRewriter={}));amp.options.languages.ar={Play:"",Pause:" ","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:" ",Progress:" ",Fullscreen:" ","Non-Fullscreen":"    ",Mute:" ",Unmuted:"   ","Playback Rate":" ",Subtitles:" ","subtitles off":"    ",Captions:" ","captions off":"    ",Chapters:"",Off:" ",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"  ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":"  ","Share Video":" ","Next Track":"  ","Previous Track":"  ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"         .          .",MEDIA_ERR_DECODE:"              .",MEDIA_ERR_SRC_NOT_SUPPORTED:"            .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:"        .",MEDIA_ERR_UNKNOWN:"   "};amp.options.languages["ar-sa"]=amp.options.languages.ar;amp.options.languages["ar-ab"]=amp.options.languages.ar;amp.options.languages["ar-xm"]=amp.options.languages.ar;amp.options.languages["ar-ma"]=amp.options.languages.ar;amp.options.languages.bg={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:" ",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"   ",Mute:"  ",Unmuted:"  ","Playback Rate":"  ",Subtitles:"","subtitles off":".  ",Captions:"","captions off":".  ",Chapters:"",Off:".",Quality:"",Auto:"","Audio Tracks":"","default":" ","Cast To Device":"  ",Share:"",Volume:"  ","Playback Speed":"  ","Video Quality":"  ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"  ","Zoom Out":"  ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":"  ",MEDIA_ERR_ABORTED:"    .",MEDIA_ERR_NETWORK:"          .       -.",MEDIA_ERR_DECODE:"     ,            .",MEDIA_ERR_SRC_NOT_SUPPORTED:"             ,       .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"         .",MEDIA_ERR_UNKNOWN:"  "};amp.options.languages.ca={Play:"Reprodueix",Pause:"Pausa","Current Time":"Hora actual","Duration Time":"Durada","Remaining Time":"Temps restant","Stream Type":"Tipus de seqncia",LIVE:"EN DIRECTE",Loaded:"Carregat",Progress:"Progrs",Fullscreen:"Pantalla sencera","Non-Fullscreen":"Mida normal",Mute:"Silencia",Unmuted:"So activat","Playback Rate":"Velocitat de reproducci",Subtitles:"Subttols","subtitles off":"Subttols desactivats",Captions:"Llegendes","captions off":"Llegendes desactivades",Chapters:"Captols",Off:"Desactivat",Quality:"Qualitat",Auto:"Automtic","Audio Tracks":"Pistes d'udio","default":"per defecte","Cast To Device":"Emetre al dispositiu",Share:"Comparteix",Volume:"Volum","Playback Speed":"Velocitat de reproducci","Video Quality":"Qualitat de vdeo","Closed Captioning":"Subtitulat ocult","Share Video":"Comparteix el vdeo","Next Track":"Pista segent","Previous Track":"Pista anterior","Skip Forward":"Salta endavant","Skip Backward":"Salta enrere","Fast Forward":"Avana rpidament",Rewind:"Rebobina","Next Frame":"Fotograma segent","Previous Frame":"Fotograma anterior",Settings:"Configuraci",Options:"Opcions","More Options":"Ms opcions",Zoom:"Zoom","Zoom In":"Amplia","Zoom Out":"Redueix","Audio Only":"Noms udio","Picture in Picture":"Imatge a la imatge","Camera Angle":"Angle de cmera",MEDIA_ERR_ABORTED:"S'ha avortat la reproducci de vdeo.",MEDIA_ERR_NETWORK:"Un error de xarxa ha provocat que la baixada del vdeo no es pogus completar. Comproveu la connexi de xarxa o torneu-ho a provar ms tard.",MEDIA_ERR_DECODE:"El vdeo no s'ha pogut carregar a causa d'un error del servidor o de la xarxa o b perqu el format no s compatible.",MEDIA_ERR_SRC_NOT_SUPPORTED:"S'ha avortat la reproducci del vdeo a causa d'un problema de danys o b perqu el vdeo feia servir caracterstiques no admeses pel navegador.",MEDIA_ERR_ENCRYPTED:"No es pot desencriptar la font del vdeo encriptat.",SRC_PLAYER_MISMATCH:"No s'ha trobat cap font compatible per a l'entorn actual del navegador.",MEDIA_ERR_UNKNOWN:"S'ha produt un error desconegut."};amp.options.languages["ca-es"]=amp.options.languages.ca;amp.options.languages.cs={Play:"Pehrt",Pause:"Pozastavit","Current Time":"Aktuln as","Duration Time":"Doba trvn","Remaining Time":"Zbvajc as","Stream Type":"Typ streamu",LIVE:"IV",Loaded:"Naten",Progress:"Prbh",Fullscreen:"Cel obrazovka","Non-Fullscreen":"Normln zobrazen",Mute:"Ztlumit",Unmuted:"Ztlumen zrueno","Playback Rate":"Rychlost pehrvn (snmky)",Subtitles:"Titulky","subtitles off":"vypnut titulky",Captions:"Titulky","captions off":"vypnut titulky",Chapters:"Kapitoly",Off:"Vypnuto",Quality:"Kvalita",Auto:"Automaticky","Audio Tracks":"Zvukov stopy","default":"vchoz","Cast To Device":"Petypovat na zazen",Share:"Sdlet",Volume:"Hlasitost","Playback Speed":"Rychlost pehrvn","Video Quality":"Kvalita videa","Closed Captioning":"Skryt titulky","Share Video":"Sdlet video","Next Track":"Dal stopa","Previous Track":"Pedchoz stopa","Skip Forward":"Peskoit vped","Skip Backward":"Peskoit zpt","Fast Forward":"Pevinout vped",Rewind:"Pevinout zpt","Next Frame":"Dal snmek","Previous Frame":"Pedchoz snmek",Settings:"Nastaven",Options:"Monosti","More Options":"Dal monosti",Zoom:"Lupa","Zoom In":"Piblit","Zoom Out":"Oddlit","Audio Only":"Jenom zvuk","Picture in Picture":"Obraz v obraze","Camera Angle":"hel kamery",MEDIA_ERR_ABORTED:"Pehrvn videa se peruilo.",MEDIA_ERR_NETWORK:"Bhem stahovn videa dolo k chyb kvli problmu se st. Zkontrolujte prosm pipojen k sti nebo to zkuste znova pozdji.",MEDIA_ERR_DECODE:"Video se nedalo nast, bu kvli chyb serveru nebo st, nebo nem podporovan formt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Pehrvn videa se peruilo, protoe je video pokozen nebo pouv funkce, kter v prohle nepodporuje.",MEDIA_ERR_ENCRYPTED:"Ned se deifrovat zaifrovan zdroj videa.",SRC_PLAYER_MISMATCH:"Nenael se dn kompatibiln zdroj pro aktuln prosted prohlee.",MEDIA_ERR_UNKNOWN:"Dolo k neznm chyb."};amp.options.languages["cs-cz"]=amp.options.languages.cs;amp.options.languages.da={Play:"Afspil",Pause:"Pause","Current Time":"Aktuelt klokkeslt","Duration Time":"Varighed","Remaining Time":"Resterende tid","Stream Type":"Streamtype",LIVE:"LIVE",Loaded:"Indlst",Progress:"Status",Fullscreen:"Fuld skrm","Non-Fullscreen":"Ikke fuldskrm",Mute:"Lyd fra",Unmuted:"Lyd til","Playback Rate":"Afspilningshastighed",Subtitles:"Undertekster","subtitles off":"Undertekster fra",Captions:"Billedtekster","captions off":"Billedtekster fra",Chapters:"Kapitler",Off:"Fra",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor","default":"standard","Cast To Device":"Vis p enhed",Share:"Del",Volume:"Lydstyrke","Playback Speed":"Afspilningshastighed","Video Quality":"Videokvalitet","Closed Captioning":"Undertekster","Share Video":"Del video","Next Track":"Nste spor","Previous Track":"Forrige spor","Skip Forward":"Spring frem","Skip Backward":"Spring tilbage","Fast Forward":"Spol hurtigt frem",Rewind:"Spol tilbage","Next Frame":"Nste billede","Previous Frame":"Forrige billede",Settings:"Indstillinger",Options:"Indstillinger","More Options":"Flere indstillinger",Zoom:"Zoom","Zoom In":"Zoom ind","Zoom Out":"Zoom ud","Audio Only":"Kun lyd","Picture in Picture":"Billede i billede","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Afspilning af video blev afbrudt. ",MEDIA_ERR_NETWORK:"P grund af en netvrksfejl blev videoen ikke downloadet helt. Kontrollr din netvrksforbindelse, eller prv igen senere.",MEDIA_ERR_DECODE:"Videoen kunne ikke indlses. Det skyldes en server- eller netvrksfejl, eller at formatet ikke er understttet.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Afspilning af video blev afbrudt. Det skyldes, at videoen er delagt, eller at videoen bruger funktioner, der ikke understttes af din browser.",MEDIA_ERR_ENCRYPTED:"Den krypterede videokilde kunne ikke dekrypteres.",SRC_PLAYER_MISMATCH:"Der blev ikke fundet en kompatibel kilde til det aktuelle browsermilj.",MEDIA_ERR_UNKNOWN:"Der opstod en ukendt fejl"};amp.options.languages["da-dk"]=amp.options.languages.da;amp.options.languages.de={Play:"Spielen",Pause:"Anhalten","Current Time":"Aktuelle Zeit","Duration Time":"Dauer","Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:"LIVE",Loaded:"Geladen",Progress:"Status",Fullscreen:"Vollbild","Non-Fullscreen":"Vollbildmodus beenden",Mute:"Ton aus",Unmuted:"Ton an","Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:"Untertitel","subtitles off":"Untertitel aus",Captions:"Beschriftungen","captions off":"Beschriftungen aus",Chapters:"Kapitel",Off:"Aus",Quality:"Qualitt",Auto:"Automatisch","Audio Tracks":"Audiotitel","default":"Standard","Cast To Device":"Fr Gert umwandeln",Share:"Freigeben",Volume:"Lautstrke","Playback Speed":"Wiedergabegeschwindigkeit","Video Quality":"Videoqualitt","Closed Captioning":"Untertitelung","Share Video":"Video freigeben","Next Track":"Nchster Titel","Previous Track":"Vorheriger Titel","Skip Forward":"Rckwrts","Skip Backward":"Vorwrts","Fast Forward":"Vorlauf",Rewind:"Zurckspulen","Next Frame":"Nchstes Bild","Previous Frame":"Vorheriges Bild",Settings:"Einstellungen",Options:"Optionen","More Options":"Weitere Optionen",Zoom:"Zoom","Zoom In":"Vergrern","Zoom Out":"Verkleinern","Audio Only":"Nur Audio","Picture in Picture":"Bild-im-Bild","Camera Angle":"Kamerawinkel",MEDIA_ERR_ABORTED:"Videowiedergabe abgebrochen.",MEDIA_ERR_NETWORK:"Beim Herunterladen des Videos ist aufgrund eines Netzwerkfehlers ein Fehler aufgetreten. Prfen Sie Ihre Internetverbindung, oder versuchen Sie es spter erneut.",MEDIA_ERR_DECODE:"Das Video konnte nicht geladen werden. Entweder ist ein Server- oder Netzwerkfehler aufgetreten ist, oder das Format wird nicht untersttzt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Die Videowiedergabe wurde abgebrochen. Mglicherweise ist das Video beschdigt, oder es verwendet Funktionen, die in Ihrem Browser nicht untersttzt werden.",MEDIA_ERR_ENCRYPTED:"Die verschlsselte Videoquelle konnte nicht entschlsselt werden.",SRC_PLAYER_MISMATCH:"Keine kompatible Quelle fr die aktuelle Browserumgebung gefunden.",MEDIA_ERR_UNKNOWN:"Unbekannter Fehler."};amp.options.languages["de-at"]=amp.options.languages.de;amp.options.languages["de-ch"]=amp.options.languages.de;amp.options.languages.el={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":"   ","Stream Type":" ",LIVE:"LIVE",Loaded:"   ",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"  ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":"  ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"   ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"          .        .",MEDIA_ERR_DECODE:"                .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                 .",MEDIA_ERR_ENCRYPTED:"        . ",SRC_PLAYER_MISMATCH:"          .",MEDIA_ERR_UNKNOWN:"  ."};amp.options.languages["el-gr"]=amp.options.languages.el;amp.options.languages.en={MEDIA_ERR_ABORTED:"Video playback aborted.",MEDIA_ERR_NETWORK:"A network error caused the video download to fail part-way. Please check your network connection or try again later.",MEDIA_ERR_DECODE:"The video could not be loaded, either because the server or network failed or because the format is not supported.",MEDIA_ERR_SRC_NOT_SUPPORTED:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",MEDIA_ERR_ENCRYPTED:"Unable to decrypt the encrypted video source.",SRC_PLAYER_MISMATCH:"No compatible source found for the current browser environment.",MEDIA_ERR_UNKNOWN:"An unknown error occurred."};amp.options.languages.es={Play:"Reproducir",Pause:"Pausa","Current Time":"Hora actual","Duration Time":"Duracin","Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:"DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Tamao normal",Mute:"Silenciar",Unmuted:"Audio reactivado","Playback Rate":"Tasa de reproduccin",Subtitles:"Subttulos","subtitles off":"subttulos desactivados",Captions:"Subttulos","captions off":"subttulos desactivados",Chapters:"Captulos",Off:"Desactivado",Quality:"Calidad",Auto:"Automtico","Audio Tracks":"Pistas de audio","default":"predeterminado","Cast To Device":"Emitir en el dispositivo",Share:"Compartir",Volume:"Volumen","Playback Speed":"Velocidad de reproduccin","Video Quality":"Calidad de vdeo","Closed Captioning":"Subttulos (CC)","Share Video":"Compartir vdeo","Next Track":"Pista siguiente","Previous Track":"Pista anterior","Skip Forward":"Saltar adelante","Skip Backward":"Saltar atrs","Fast Forward":"Avanzar rpidamente",Rewind:"Rebobinar","Next Frame":"Fotograma siguiente","Previous Frame":"Fotograma anterior",Settings:"Configuracin",Options:"Opciones","More Options":"Ms opciones",Zoom:"Zoom","Zoom In":"Acercar","Zoom Out":"Alejar","Audio Only":"Solo audio","Picture in Picture":"Imagen en imagen","Camera Angle":"ngulo de cmara",MEDIA_ERR_ABORTED:"La reproduccin de vdeo se cancel.",MEDIA_ERR_NETWORK:"Un error de red provoc que la descarga de vdeo no se pudiera realizar. Compruebe la conexin de red o intntelo de nuevo ms tarde.",MEDIA_ERR_DECODE:"No se pudo cargar el vdeo porque hubo un error en la red o en el servidor o porque el formato no es compatible.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La reproduccin de vdeo se cancel debido a un problema con algn elemento o porque el vdeo contiene caractersticas que no son compatibles con el explorador.",MEDIA_ERR_ENCRYPTED:"La fuente de vdeo cifrada no se puede descifrar.",SRC_PLAYER_MISMATCH:"No se encontr ninguna fuente compatible con el entorno de explorador actual.",MEDIA_ERR_UNKNOWN:"Error desconocido."};amp.options.languages["es-ar"]=amp.options.languages.es;amp.options.languages["es-cl"]=amp.options.languages.es;amp.options.languages["es-co"]=amp.options.languages.es;amp.options.languages["es-cr"]=amp.options.languages.es;amp.options.languages["es-do"]=amp.options.languages.es;amp.options.languages["es-ec"]=amp.options.languages.es;amp.options.languages["es-us"]=amp.options.languages.es;amp.options.languages["es-gt"]=amp.options.languages.es;amp.options.languages["es-hn"]=amp.options.languages.es;amp.options.languages["es-xl"]=amp.options.languages.es;amp.options.languages["es-mx"]=amp.options.languages.es;amp.options.languages["es-ni"]=amp.options.languages.es;amp.options.languages["es-pa"]=amp.options.languages.es;amp.options.languages["es-py"]=amp.options.languages.es;amp.options.languages["es-pe"]=amp.options.languages.es;amp.options.languages["es-pr"]=amp.options.languages.es;amp.options.languages["es-us"]=amp.options.languages.es;amp.options.languages["es-uy"]=amp.options.languages.es;amp.options.languages["es-ve"]=amp.options.languages.es;amp.options.languages.et={Play:"Esita",Pause:"Peata","Current Time":"Praegune kellaaeg","Duration Time":"Kestus","Remaining Time":"Jrelejnud aeg","Stream Type":"Voo tp",LIVE:"OTSE",Loaded:"Laaditud",Progress:"Edenemine",Fullscreen:"Tisekraanvaade","Non-Fullscreen":"Mittetisekraanvaade",Mute:"Vaigista",Unmuted:"Vaigistamata","Playback Rate":"Taasesituse kiirus",Subtitles:"Subtiitrid","subtitles off":"subtiitrid vljas",Captions:"Tiitrid","captions off":"tiitrid vljas",Chapters:"Peatkid",Off:"Vljas",Quality:"Kvaliteet",Auto:"Automaatne","Audio Tracks":"Heliribad","default":"vaikeste","Cast To Device":"Esita seadmes",Share:"Jaga",Volume:"Helitugevus","Playback Speed":"Taasesituse kiirus","Video Quality":"Video kvaliteet","Closed Captioning":"Subtiitrid vaegkuuljatele","Share Video":"Jaga videot","Next Track":"Jrgmine pala","Previous Track":"Eelmine pala","Skip Forward":"Keri edasi","Skip Backward":"Keri tagasi","Fast Forward":"Edasi",Rewind:"Tagasi","Next Frame":"Jrgmine kaader","Previous Frame":"Eelmine kaader",Settings:"Stted",Options:"Suvandid","More Options":"Rohkem suvandeid",Zoom:"Suum","Zoom In":"Suurenda","Zoom Out":"Vhenda","Audio Only":"Ainult heli","Picture in Picture":"Pilt pildis","Camera Angle":"Vaatenurk",MEDIA_ERR_ABORTED:"Video taasesitamine katkestati.",MEDIA_ERR_NETWORK:"Video allalaadimine nurjus vrgutrke tttu poole pealt. Kontrollige vrguhendust vi proovige hiljem uuesti.",MEDIA_ERR_DECODE:"Videot ei saanud laadida, kuna serveri- vi vrguhendus nurjus vi vormingut ei toetata.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Video taasesitamine katkes failirikke tttu vi kuna teie brauser ei toeta videos kasutatud funktsioone.",MEDIA_ERR_ENCRYPTED:"Krptitud videoallikat ei saa dekrptida.",SRC_PLAYER_MISMATCH:"Praeguse brauserikeskkonna jaoks ei leitud hilduvat allikat.",MEDIA_ERR_UNKNOWN:"Ilmnes tundmatu trge"};amp.options.languages["et-ee"]=amp.options.languages.et;amp.options.languages.eu={Play:"Erreproduzitu",Pause:"Pausatu","Current Time":"Uneko ordua","Duration Time":"Iraupena","Remaining Time":"Gelditzen den denbora","Stream Type":"Erreprodukzio mota",LIVE:"ZUZENEAN",Loaded:"Kargatuta",Progress:"Aurrerapena",Fullscreen:"Pantaila osoa","Non-Fullscreen":"Pantaila osoa ez",Mute:"Audio desaktibatuta",Unmuted:"Audioa aktibatuta","Playback Rate":"Erreprodukzio-abiadura",Subtitles:"Azpitituluak","subtitles off":"azpitituluak desaktibatuta",Captions:"Epigrafeak","captions off":"epigrafeak desaktibatuta",Chapters:"Atalak",Off:"Desaktibatuta",Quality:"Kalitatea",Auto:"Automatikoa","Audio Tracks":"Audio-pistak","default":"lehenetsia","Cast To Device":"Igorri gailura",Share:"Partekatu",Volume:"Bolumena","Playback Speed":"Erreprodukzio-abiadura","Video Quality":"Bideoaren kalitatea","Closed Captioning":"Epigrafeak","Share Video":"Partekatu bideoa","Next Track":"Hurrengo pista","Previous Track":"Aurreko pista","Skip Forward":"Saltatu aurrera","Skip Backward":"Saltatu atzera","Fast Forward":"Aurreratu",Rewind:"Atzeratu","Next Frame":"Hurrengo fotograma","Previous Frame":"Aurreko fotograma",Settings:"Ezarpenak",Options:"Aukerak","More Options":"Aukera gehiago",Zoom:"Zooma","Zoom In":"Handitu","Zoom Out":"Txikitu","Audio Only":"Audioa soilik","Picture in Picture":"Irudia irudiaren barnean","Camera Angle":"Kamera-angelua",MEDIA_ERR_ABORTED:"Bideo-erreprodukzioa utzi egin da",MEDIA_ERR_NETWORK:"Sare-errore bat gertatu da eta ezin izan da bideo osoa deskargatu. Egiaztatu sarera konektatuta zaudela edo saiatu berriro geroago.",MEDIA_ERR_DECODE:"Ezin izan da kargatu bideoa, zerbitzariak edo sareak huts egin duelako edo formatua onartzen ez delako.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Bideo-erreprodukzioa utzi egin da hondatuta dagoelako edo arakatzaileak onartzen ez dituen eginbideak erabiltzen dituelako bideoak.",MEDIA_ERR_ENCRYPTED:"Ezin da desenkriptatu enkriptatutako bideo-iturburua.",SRC_PLAYER_MISMATCH:"Ez da aurkitu iturburu bateragarririk uneko arakatzaile-ingurunerako.",MEDIA_ERR_UNKNOWN:"Errore ezezagun bat gertatu da"};amp.options.languages["eu-es"]=amp.options.languages.eu;amp.options.languages.fa={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":"  ",LIVE:"",Loaded:" ",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmuted:"  ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:" ","captions off":"  ",Chapters:" ",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":" ","Cast To Device":"   ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":"  ","Skip Backward":"  ","Fast Forward":"   ",Rewind:"  ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:" ","More Options":"  ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"          .            .",MEDIA_ERR_DECODE:"                     .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                     .",MEDIA_ERR_ENCRYPTED:"        .",SRC_PLAYER_MISMATCH:"        .",MEDIA_ERR_UNKNOWN:"     "};amp.options.languages["fa-ir"]=amp.options.languages.fa;amp.options.languages.fi={Play:"Toista",Pause:"Keskeyt","Current Time":"Nykyinen aika","Duration Time":"Kesto","Remaining Time":"Jljell oleva aika","Stream Type":"Suoratoistotyyppi",LIVE:"LIVE",Loaded:"Ladattu",Progress:"Edistyminen",Fullscreen:"Koko nytt","Non-Fullscreen":"Muu kuin koko nytt",Mute:"Vaimenna",Unmuted:"Vaimennus poistettu","Playback Rate":"Toistonopeus",Subtitles:"Tekstitys","subtitles off":"Ei tekstityst",Captions:"Kuvatekstit","captions off":"Ei kuvatekstej",Chapters:"Kohtaukset",Off:"Ei kytss",Quality:"Laatu",Auto:"Automaattinen","Audio Tracks":"niraidat","default":"oletus","Cast To Device":"Lhet laitteeseen",Share:"Jaa",Volume:"nenvoimakkuus","Playback Speed":"Toistonopeus","Video Quality":"Videon laatu","Closed Captioning":"Tekstitys","Share Video":"Jaa video","Next Track":"Seuraava raita","Previous Track":"Edellinen raita","Skip Forward":"Siirry eteenpin","Skip Backward":"Siirry taaksepin","Fast Forward":"Kelaa eteenpin",Rewind:"Kelaa taaksepin","Next Frame":"Seuraava kuva","Previous Frame":"Edellinen kuva",Settings:"Asetukset",Options:"Asetukset","More Options":"Lisasetukset",Zoom:"Zoomaus","Zoom In":"Lhenn ","Zoom Out":"Loitonna","Audio Only":"Vain ni","Picture in Picture":"Kuva kuvassa","Camera Angle":"Kamerakulma",MEDIA_ERR_ABORTED:"Videotoisto keskeytetty.",MEDIA_ERR_NETWORK:"Verkkovirhe keskeytti videon lataamisen. Tarkista verkkoyhteys tai yrit myhemmin uudelleen.",MEDIA_ERR_DECODE:"Videota ei voitu ladata verkko- tai palvelinvirheen takia tai koska muotoa ei tueta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videon toisto keskeytettiin vioittumisen takia tai sen takia, ett selaimesi ei tue kaikkia videon kyttmi toimintoja.",MEDIA_ERR_ENCRYPTED:"Salatun videolhteen salausta ei voida purkaa.",SRC_PLAYER_MISMATCH:"Nykyisen selainympristn kanssa yhteensopivaa lhdett ei lytynyt.",MEDIA_ERR_UNKNOWN:"Ilmeni tuntematon virhe"};amp.options.languages.fr={Play:"Lecture",Pause:"Pause","Current Time":"Heure actuelle","Duration Time":"Dure","Remaining Time":"Temps restant","Stream Type":"Type de flux",LIVE:"EN DIRECT",Loaded:"Charg",Progress:"Progression",Fullscreen:"Plein cran","Non-Fullscreen":"Plein cran dsactiv",Mute:"Muet",Unmuted:"Son activ","Playback Rate":"Flux de lecture",Subtitles:"Sous-titres","subtitles off":"sous-titres dsactivs",Captions:"Sous-titrage","captions off":"sous-titrage dsactiv",Chapters:"Chapitres",Off:"Dsactiv",Quality:"Qualit",Auto:"Auto","Audio Tracks":"Pistes audio","default":"par dfaut","Cast To Device":"Projeter sur un appareil",Share:"Partager",Volume:"Volume","Playback Speed":"Vitesse de lecture","Video Quality":"Qualit vido","Closed Captioning":"Sous-titrage","Share Video":"Partager la vido","Next Track":"Piste suivante","Previous Track":"Piste prcdente","Skip Forward":"Avance rapide","Skip Backward":"Retour rapide","Fast Forward":"Avance rapide",Rewind:"Retour rapide","Next Frame":"Image suivante","Previous Frame":"Image prcdente",Settings:"Paramtres",Options:"Options","More Options":"Autres options",Zoom:"Zoom","Zoom In":"Zoom avant","Zoom Out":"Zoom arrire","Audio Only":"Audio seul","Picture in Picture":"Image dans l'image","Camera Angle":"Angle de camra",MEDIA_ERR_ABORTED:"Lecture vido abandonne.",MEDIA_ERR_NETWORK:"Une erreur rseau a entran l'chec du tlchargement de la vido. Vrifiez votre connexion rseau ou ressayez ultrieurement.",MEDIA_ERR_DECODE:"La vido n'a pas pu tre charge parce que le serveur ou le rseau ont chou ou parce que le format n'est pas pris en charge.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La lecture de la vido a t abandonne en raison d'un problme d'endommagement ou parce que la vido utilise des fonctionnalits que votre navigateur ne prend pas en charge.",MEDIA_ERR_ENCRYPTED:"Impossible de dchiffrer la source vido chiffre.",SRC_PLAYER_MISMATCH:"Aucune source compatible trouve dans l'environnement actuel du navigateur.",MEDIA_ERR_UNKNOWN:"Une erreur inconnue s'est produite."};amp.options.languages["fr-ab"]=amp.options.languages.fr;amp.options.languages["fr-be"]=amp.options.languages.fr;amp.options.languages["fr-ca"]=amp.options.languages.fr;amp.options.languages["fr-xf"]=amp.options.languages.fr;amp.options.languages["fr-ch"]=amp.options.languages.fr;amp.options.languages.gl={Play:"Reproducir",Pause:"Pausar","Current Time":"Hora actual","Duration Time":"Tempo de duracin","Remaining Time":"Tempo restante","Stream Type":"Tipo de transmisin",LIVE:"EN DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Sen pantalla completa",Mute:"Silenciar",Unmuted:"Activado son","Playback Rate":"Velocidade de reproducin",Subtitles:"Subttulos","subtitles off":"Sen subttulos",Captions:"Lendas","captions off":"Sen lendas",Chapters:"Captulos",Off:"Desactivado",Quality:"Calidade",Auto:"Automtico","Audio Tracks":"Pista de audio","default":"predefinido","Cast To Device":"Converter en dispositivo",Share:"Compartir",Volume:"Volume","Playback Speed":"Velocidade de reproducin","Video Quality":"Calidade de vdeo","Closed Captioning":"Subttulos","Share Video":"Compartir vdeo","Next Track":"Pista seguinte","Previous Track":"Pista anterior","Skip Forward":"Saltar adiante","Skip Backward":"Saltar atrs","Fast Forward":"Avanzar rapidamente",Rewind:"Rebobinar","Next Frame":"Fotograma seguinte","Previous Frame":"Fotograma anterior",Settings:"Configuracin",Options:"Opcins","More Options":"Mis opcins",Zoom:"Zoom","Zoom In":"Ampliar","Zoom Out":"Reducir","Audio Only":"S audio","Picture in Picture":"Imaxe en imaxe","Camera Angle":"Angular da cmara",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_ENCRYPTED:"MEDIA_ERR_ENCRYPTED",SRC_PLAYER_MISMATCH:"SRC_PLAYER_MISMATCH",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN"};amp.options.languages["gl-es"]=amp.options.languages.gl;amp.options.languages.he={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":" ","Cast To Device":" ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":"   ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"  ","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  ",MEDIA_ERR_NETWORK:"       .         .",MEDIA_ERR_DECODE:"               .",MEDIA_ERR_SRC_NOT_SUPPORTED:"               .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"   "};amp.options.languages["he-il"]=amp.options.languages.he;amp.options.languages.hi={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:" ","Audio Tracks":" ","default":"","Cast To Device":"   ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:" ","Zoom In":"  ","Zoom Out":"  ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"    ",MEDIA_ERR_NETWORK:"           .            .",MEDIA_ERR_DECODE:"    ,             .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                        .",MEDIA_ERR_ENCRYPTED:"         .",SRC_PLAYER_MISMATCH:"          .",MEDIA_ERR_UNKNOWN:"   "};amp.options.languages["hi-in"]=amp.options.languages.hi;amp.options.languages.hr={Play:"Reproduciraj",Pause:"Pauziraj","Current Time":"Trenutno vrijeme","Duration Time":"Trajanje","Remaining Time":"Preostalo vrijeme","Stream Type":"Vrsta strujanja",LIVE:"UIVO",Loaded:"Uitano",Progress:"Tijek",Fullscreen:"Preko cijelog zaslona","Non-Fullscreen":"Nije preko cijelog zaslona",Mute:"Iskljui zvuk",Unmuted:"Zvuk ukljuen","Playback Rate":"Brzina reprodukcije",Subtitles:"Titlovi","subtitles off":"titlovi iskljueni",Captions:"Titlovi","captions off":"titlovi iskljueni",Chapters:"Poglavlja",Off:"Iskljueno",Quality:"Kvaliteta",Auto:"Automatski","Audio Tracks":"Audiozapisi","default":"zadano","Cast To Device":"Poalji na ureaj",Share:"Zajedniki koristi",Volume:"Glasnoa","Playback Speed":"Brzina reprodukcije","Video Quality":"Kvaliteta videozapisa","Closed Captioning":"Titlanje","Share Video":"Zajedniki koristi videozapis","Next Track":"Sljedei zapis","Previous Track":"Prethodni zapis","Skip Forward":"Skok unaprijed","Skip Backward":"Skok unatrag","Fast Forward":"Brzo naprijed",Rewind:"Premotaj","Next Frame":"Sljedea slika","Previous Frame":"Prethodna slika",Settings:"Postavke",Options:"Mogunosti","More Options":"Dodatne mogunosti",Zoom:"Zumiranje","Zoom In":"Poveavanje","Zoom Out":"Smanjivanje","Audio Only":"Samo zvuk","Picture in Picture":"Slika u slici","Camera Angle":"Kut kamere",MEDIA_ERR_ABORTED:"Prekinuta je reprodukcija videozapisa.",MEDIA_ERR_NETWORK:"Mrena pogreka uzrokovala je prekid preuzimanja videozapisa. Provjerite mrenu vezu i pokuajte ponovno.",MEDIA_ERR_DECODE:"Videozapis nije mogue uitati zbog kvara posluitelja ili mree ili jer oblik nije podran.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Reprodukcija videozapisa prekinuta je zbog oteenja ili jer videozapis sadri znaajke koje preglednik ne podrava.",MEDIA_ERR_ENCRYPTED:"Nije mogue deifriranje ifriranog videoizvora.",SRC_PLAYER_MISMATCH:"Nije pronaen kompatibilan izvor za trenutno okruenje preglednika.",MEDIA_ERR_UNKNOWN:"Pojavila se nepoznata pogreka."};amp.options.languages.hu={Play:"Lejtszs",Pause:"Szneteltets","Current Time":"Aktulis id","Duration Time":"Idtartam","Remaining Time":"Htralv id","Stream Type":"Online tartalom tpusa",LIVE:"L",Loaded:"Betltve",Progress:"llapot",Fullscreen:"Teljes kperny","Non-Fullscreen":"Nem teljes kpernys md",Mute:"Elnmts",Unmuted:"Elnmts kikapcsolva","Playback Rate":"Lejtszsi sebessg",Subtitles:"Feliratok","subtitles off":"feliratok kikapcsolva",Captions:"Feliratok","captions off":"feliratozs kikapcsolva",Chapters:"Fejezetek",Off:"Kikapcsolva",Quality:"Minsg",Auto:"Automatikus","Audio Tracks":"Zeneszmok","default":"alaprtelmezett","Cast To Device":"tvitel eszkzre",Share:"Megoszts",Volume:"Hanger","Playback Speed":"Lejtszs sebessge","Video Quality":"Videminsg","Closed Captioning":"Feliratozs","Share Video":"Vide megosztsa","Next Track":"Kvetkez szm","Previous Track":"Elz szm","Skip Forward":"Ugrs elre","Skip Backward":"Ugrs vissza","Fast Forward":"Elretekers",Rewind:"Visszatekers","Next Frame":"Kvetkez kpkocka","Previous Frame":"Elz kpkocka",Settings:"Belltsok",Options:"Belltsok","More Options":"Tovbbi lehetsgek",Zoom:"Nagyts","Zoom In":"Nagyts","Zoom Out":"Kicsinyts","Audio Only":"Csak hang","Picture in Picture":"Kp a kpben","Camera Angle":"Kamera ltszge",MEDIA_ERR_ABORTED:"Videolejtszs megszaktva.",MEDIA_ERR_NETWORK:"A vide letltse hlzati hiba miatt megszakadt. Ellenrizze a hlzati kapcsolatot, vagy prblkozzon jra ksbb.",MEDIA_ERR_DECODE:"Nem sikerlt betlteni a videt a kiszolgl vagy a hlzat hibja miatt, vagy mert a formtum nem tmogatott.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A vide lejtszsa megszakadt adatsrls miatt, vagy mert a vide olyan funkcikat hasznl, amelyeket a bngsz nem tmogat.",MEDIA_ERR_ENCRYPTED:"Nem lehet visszafejteni a titkostott videoforrst.",SRC_PLAYER_MISMATCH:"Nem tallhat a jelenlegi bngszkrnyezettel kompatibilis forrs.",MEDIA_ERR_UNKNOWN:"Ismeretlen hiba trtnt."};amp.options.languages.id={Play:"Putar",Pause:"Jeda","Current Time":"Waktu Saat Ini","Duration Time":"Waktu Durasi","Remaining Time":"Waktu Tersisa","Stream Type":"Tipe Stream",LIVE:"LANGSUNG",Loaded:"Dimuat",Progress:"Progres",Fullscreen:"Layar Penuh","Non-Fullscreen":"Bukan Layar Penuh",Mute:"Aktifkan Suara",Unmuted:"Nonaktifkan Suara","Playback Rate":"Laju Pemutaran",Subtitles:"Subjudul","subtitles off":"subjudul mati",Captions:"Keterangan","captions off":"keterangan mati",Chapters:"Bab",Off:"Mati",Quality:"Kualitas ",Auto:"Otomatis","Audio Tracks":"Trek Audio","default":"default","Cast To Device":"Putar Ke Perangkat",Share:"Bagikan",Volume:"Volume","Playback Speed":"Kecepatan Pemutaran","Video Quality":"Kualitas Video","Closed Captioning":"Judul Tertutup","Share Video":"Bagikan Video","Next Track":"Trek Berikutnya","Previous Track":"Trek Sebelumnya","Skip Forward":"Lewati Maju","Skip Backward":"Lewati Mundur","Fast Forward":"Maju Cepat",Rewind:"Mundur","Next Frame":"Bingkai Berikutnya","Previous Frame":"Bingkai Sebelumnya",Settings:"Pengaturan",Options:"Opsi","More Options":"Opsi Lainnya",Zoom:"Zoom","Zoom In":"Perbersar","Zoom Out":"Perkecil","Audio Only":"Hanya Audio","Picture in Picture":"Gambar dalam Gambar","Camera Angle":"Sudut Kamera",MEDIA_ERR_ABORTED:"Pemutaran video dibatalkan.",MEDIA_ERR_NETWORK:"Kesalahan jaringan menyebabkan unduhan video gagal sebagian. Periksa koneksi jaringan Anda atau coba lagi nanti.",MEDIA_ERR_DECODE:"Video tidak dapat dimuat, karena server atau jaringan gagal, atau karena format tidak didukung.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Pemutaran video dibatalkan karena masalah kerusakan atau video menggunakan fitur yang tidak didukung browser Anda.",MEDIA_ERR_ENCRYPTED:"Tidak dapat mendekripsi sumber video yang dienkripsi.",SRC_PLAYER_MISMATCH:"Sumber yang kompatibel tidak ditemukan untuk lingkungan browser saat ini.",MEDIA_ERR_UNKNOWN:"Terjadi kesalahan tidak diketahui"};amp.options.languages.is={Play:"Spila",Pause:"Bi","Current Time":"Nverandi tmi","Duration Time":"Tmalengd","Remaining Time":"Tmi eftir","Stream Type":"Ger straums",LIVE:" beinni",Loaded:"Hlai",Progress:"Framvinda",Fullscreen:"Heill skjr","Non-Fullscreen":"Ekki heill skjr",Mute:"gult",Unmuted:"Me hlji","Playback Rate":"Spilunarhrai",Subtitles:"Skjtextar","subtitles off":"Slkkt  skjtexta",Captions:"Myndatextar","captions off":"Slkkt  myndatexta",Chapters:"Kaflar",Off:"Af",Quality:"Gi",Auto:"Sjlfvirkt","Audio Tracks":"Hljspor","default":"sjlfvali","Cast To Device":"Varpa  tki",Share:"Deila",Volume:"Hljstyrkur","Playback Speed":"Afspilunarhrai","Video Quality":"Vdegi","Closed Captioning":"Lokair myndatextar","Share Video":"Deila vdei","Next Track":"Nsta spor","Previous Track":"Fyrra spor","Skip Forward":"Hoppa fram  vi","Skip Backward":"Hoppa afturbak","Fast Forward":"Hratt fram",Rewind:"Spla til baka","Next Frame":"Nsti rammi","Previous Frame":"Fyrri rammi",Settings:"Stillingar",Options:"Valkostir","More Options":"Fleiri valkostir",Zoom:"Sma","Zoom In":"Sma inn","Zoom Out":"Sma t","Audio Only":"Aeins hlj","Picture in Picture":"Mynd  mynd","Camera Angle":"Kameruvinkill",MEDIA_ERR_ABORTED:"Htt vi afspilun vdes",MEDIA_ERR_NETWORK:"Villa  netkerfi olli v a niurhal vdes mistkst a hluta. Vinsamlegast athugau nettenginguna na ea reyndu aftur sar.",MEDIA_ERR_DECODE:"Ekki var hgt a hlaa vdei, annahvort vegna ess a jnn ea net voru ekki  lagi ea vegna ess a snii er ekki studd.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Htt var vi afspilun  vde vegna vandamla vegna truflunar ea vegna ess a vde notar eiginleika sem vafrinn inn styur ekki.",MEDIA_ERR_ENCRYPTED:"Gat ekki afka dulkaan uppruna vdes",SRC_PLAYER_MISMATCH:"Enginn samhfur uppruni fannst fyrir nverandi umhverfi vafra.",MEDIA_ERR_UNKNOWN:"ekkt villa kom upp"};amp.options.languages.it={Play:"Riproduci",Pause:"Pausa","Current Time":"Ora corrente","Duration Time":"Durata","Remaining Time":"Tempo residuo","Stream Type":"Tipo di flusso",LIVE:"LIVE",Loaded:"Caricato",Progress:"Stato",Fullscreen:"Schermo intero","Non-Fullscreen":"Schermo normale",Mute:"Disattiva audio",Unmuted:"Audio riattivato","Playback Rate":"Frequenza di riproduzione",Subtitles:"Sottotitoli","subtitles off":"disattiva sottotitoli",Captions:"Didascalie","captions off":"disattiva didascalie",Chapters:"Capitoli",Off:"Disattivato",Quality:"Qualit",Auto:"Automatico","Audio Tracks":"Brani audio","default":"predefinito","Cast To Device":"Cast nel dispositivo",Share:"Condividi",Volume:"Volume","Playback Speed":"Velocit di riproduzione","Video Quality":"Qualit video","Closed Captioning":"Sottotitoli codificati","Share Video":"Condividi video","Next Track":"Brano successivo","Previous Track":"Brano precedente","Skip Forward":"Skip avanti","Skip Backward":"Skip indietro","Fast Forward":"Avanzamento rapido",Rewind:"Riavvolgi","Next Frame":"Fotogramma successivo","Previous Frame":"Fotogramma precedente",Settings:"Impostazioni",Options:"Opzioni","More Options":"Altre opzioni",Zoom:"Zoom","Zoom In":"Zoom avanti","Zoom Out":"Zoom indietro","Audio Only":"Solo audio","Picture in Picture":"Immagine nell'immagine","Camera Angle":"Angolazione",MEDIA_ERR_ABORTED:"Riproduzione video interrotta.",MEDIA_ERR_NETWORK:"Il download del video si  interrotto a causa di un errore di rete. Controllare la connessione di rete o riprovare pi tardi.",MEDIA_ERR_DECODE:"Non  stato possibile caricare il video perch si  verificato un errore del server o della rete oppure perch il formato non  supportato.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La riproduzione video  stata interrotta a causa di un problema di danneggiamento oppure perch nel video sono state usate funzionalit non supportate dal browser corrente.",MEDIA_ERR_ENCRYPTED:"Non  possibile decrittografare l'origine video crittografata.",SRC_PLAYER_MISMATCH:"Non sono state trovate origini compatibili per l'ambiente del browser corrente.",MEDIA_ERR_UNKNOWN:"Si  verificato un errore sconosciuto."};amp.options.languages.ja={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":" ","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:" ",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"",MEDIA_ERR_ENCRYPTED:" ",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:""};amp.options.languages["ja-jp"]=amp.options.languages.ja;amp.options.languages.kk={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"LIVE",Loaded:"",Progress:" ",Fullscreen:" ","Non-Fullscreen":"  ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":" ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":" ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .       .",MEDIA_ERR_DECODE:"              .",MEDIA_ERR_SRC_NOT_SUPPORTED:"             .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"   "};amp.options.languages["kk-kz"]=amp.options.languages.kk;amp.options.languages.ko={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":" ",Share:"",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .      .",MEDIA_ERR_DECODE:"           .",MEDIA_ERR_SRC_NOT_SUPPORTED:"            .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"    ."};amp.options.languages["ko-kr"]=amp.options.languages.ko;amp.options.languages.lt={Play:"Leisti",Pause:"Pristabdyti","Current Time":"Dabartinis laikas","Duration Time":"Trukm","Remaining Time":"Liks laikas","Stream Type":"Transliavimo tipas",LIVE:"TIESIOGINIS",Loaded:"kelta",Progress:"Eiga",Fullscreen:"Per vis ekran","Non-Fullscreen":"Ne per vis ekran",Mute:"Nutildyti",Unmuted:"Nenutildyta","Playback Rate":"Leidimo danis",Subtitles:"Subtitrai","subtitles off":"subtitrai ijungti",Captions:"Vaizdo apraai","captions off":"vaizdo apraai ijungti",Chapters:"Dalys",Off:"Ijungta",Quality:"Kokyb",Auto:"Automatinis","Audio Tracks":"Garso takeliai","default":"numatytoji reikm","Cast To Device":"Parinkti pagal rengin",Share:"Bendrinti",Volume:"Garsumas","Playback Speed":"Leidimo greitis","Video Quality":"Vaizdo rao kokyb","Closed Captioning":"Paslptieji titrai","Share Video":"Bendrinti vaizdo ra","Next Track":"Kitas takelis","Previous Track":"Ankstesnis takelis","Skip Forward":"Pereiti pirmyn","Skip Backward":"Pereiti atgal","Fast Forward":"Sukti pirmyn",Rewind:"Sukti atgal","Next Frame":"Kitas kadras","Previous Frame":"Ankstesnis kadras",Settings:"Parametrai",Options:"Parinktys","More Options":"Daugiau parinki",Zoom:"Mastelio keitimas","Zoom In":"Artinti","Zoom Out":"Tolinti","Audio Only":"Tik garsas","Picture in Picture":"Paveiksllis paveiksllyje","Camera Angle":"Kameros kampas",MEDIA_ERR_ABORTED:"Vaizdo rao leidimas atmestas.",MEDIA_ERR_NETWORK:"Viso vaizdo rao atsisisti nepavyko dl tinklo klaidos. Patikrinkite tinklo ry arba bandykite dar kart vliau.",MEDIA_ERR_DECODE:"Vaizdo rao nepavyko kelti dl serverio arba tinklo klaidos arba dl to, kad nepalaikomas formatas.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Vaizdo rao leidimas buvo atmestas dl gedimo arba dl to, kad vaizdo rae buvo naudojamos funkcijos, kuri js narykl nepalaiko.",MEDIA_ERR_ENCRYPTED:"Nepavyksta iifruoti uifruoto vaizdo rao altinio.",SRC_PLAYER_MISMATCH:"iai narykls aplinkai suderinamas altinis nerastas.",MEDIA_ERR_UNKNOWN:"vyko neinoma klaida"};amp.options.languages.lv={Play:"Atskaot",Pause:"Pauze","Current Time":"Pareizjais laiks","Duration Time":"Ilguma laiks","Remaining Time":"Atlikuais laiks","Stream Type":"Straumes tips",LIVE:"TIESAISTE",Loaded:"Ieldts",Progress:"Norise",Fullscreen:"Pilnekrna rems","Non-Fullscreen":"Ne pilnekrna rems",Mute:"Izslgt skau",Unmuted:"Ieslgta skaa","Playback Rate":"Atskaoanas trums",Subtitles:"Subtitri","subtitles off":"Subtitri izslgti",Captions:"Paraksti","captions off":"paraksti izslgti",Chapters:"Nodaas",Off:"Izslgts",Quality:"Kvalitte",Auto:"Automtiski","Audio Tracks":"Audio ieraksti","default":"noklusjums","Cast To Device":"Prraidt uz ierci",Share:"Koplietot",Volume:"Skaums","Playback Speed":"Atskaoanas trums","Video Quality":"Video kvalitte","Closed Captioning":"Slptie titri","Share Video":"Kopgot video","Next Track":"Nkamais ieraksts","Previous Track":"Iepriekjais ieraksts","Skip Forward":"Izlaist uz prieku","Skip Backward":"Izlaist atpaka","Fast Forward":"Patt",Rewind:"Attt","Next Frame":"Nkamais kadrs","Previous Frame":"Iepriekjais kadrs",Settings:"Iestatjumi",Options:"Opcijas","More Options":"Papildu opcijas",Zoom:"Tlummaia","Zoom In":"Tuvinana","Zoom Out":"Tlinana","Audio Only":"Tikai audio","Picture in Picture":"Attls attl","Camera Angle":"Kameras leis",MEDIA_ERR_ABORTED:"Video atskaoana prieklaikus prtraukta.",MEDIA_ERR_NETWORK:"Tkla kdas d video lejupielde tika prtraukta pusce. Ldzu, prbaudiet tkla savienojumu vai vlk miniet vlreiz.",MEDIA_ERR_DECODE:"Videoklipu neizdevs ieldt servera vai tkla kmes vai neatbalstta formta d.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Video atskaoana tika prieklaikus prtraukta bojjuma problmas d vai tpc, ka videoklip tika izmantoti ldzeki, ko jsu prlkprogramma neatbalsta.",MEDIA_ERR_ENCRYPTED:"Nevar atifrt ifrto video avotu.",SRC_PLAYER_MISMATCH:"Pareizjai prlkprogrammas videi nav atrasts sadergs avots.",MEDIA_ERR_UNKNOWN:"Rads nezinma kda"};amp.options.languages.ms={Play:"Main",Pause:"Jeda","Current Time":"Masa Semasa","Duration Time":"Tempoh Semasa","Remaining Time":"Baki Masa","Stream Type":"Jenis Strim",LIVE:"LANGSUNG",Loaded:"Dimuatkan",Progress:"Kemajuan",Fullscreen:"Skrin Penuh","Non-Fullscreen":"Bukan Skrin Penuh",Mute:"Bisu",Unmuted:"Dinyahbisu","Playback Rate":"Kadar Main Semula",Subtitles:"Sari kata","subtitles off":"sari kata dimatikan",Captions:"Kapsyen","captions off":"kapsyen dimatikan",Chapters:"Babak",Off:"Matikan",Quality:"Kualiti",Auto:"Auto","Audio Tracks":"Lagu Audio","default":"lalai","Cast To Device":"Siarkan Pada Peranti",Share:"Kongsi",Volume:"Volum","Playback Speed":"Kelajuan Main Semula","Video Quality":"Kualiti Video","Closed Captioning":"Penyarikataan Tertutup","Share Video":"Kongsi Video","Next Track":"Lagu berikut","Previous Track":"Lagu Sebelumnya","Skip Forward":"Langkau Ke Depan","Skip Backward":"Langkau Ke Belakang","Fast Forward":"Maju Ke Depan",Rewind:"Gulung Semula","Next Frame":"Bingkai Berikut","Previous Frame":"Bingkai Sebelumnya",Settings:"Seting",Options:"Opsyen","More Options":"Opsyen Lain",Zoom:"Zum","Zoom In":"Zum Masuk","Zoom Out":"Zum Keluar","Audio Only":"Audio Sahaja","Picture in Picture":"Gambar dalam Gambar","Camera Angle":"Sudut Kamera",MEDIA_ERR_ABORTED:"Main semula video dihentikan.",MEDIA_ERR_NETWORK:"Ralat rangkaian menyebabkan muat turun video gagal. Sila semak sambungan rangkaian anda atau cuba lagi kemudian.",MEDIA_ERR_DECODE:"Video tidak dapat dimuatkan, sama ada disebabkan kegagalan pelayan atau rangkaian atau disebabkan format tidak disokong.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Main semula video dihentikan atas sebab masalah pencemaran atau disebabkan video menggunakan ciri yang tidak disokong oleh pelayar anda.",MEDIA_ERR_ENCRYPTED:"Tidak dapat menyahsulitkan sumber video yang disulitkan.",SRC_PLAYER_MISMATCH:"Tiada sumber yang serasi ditemui untuk persekitaran pelayar semasa.",MEDIA_ERR_UNKNOWN:"Ralat yang tidak diketahui telah berlaku"};amp.options.languages["ms-my"]=amp.options.languages.ms;amp.options.languages.nb={Play:"Spill av",Pause:"Pause","Current Time":"Tid","Duration Time":"Varighet","Remaining Time":"Gjenstende","Stream Type":"Strmmingstype",LIVE:"LIVE",Loaded:"Lastet inn",Progress:"Fremdrift",Fullscreen:"Fullskjerm","Non-Fullscreen":"Ikke-fullskjerm",Mute:"Demp",Unmuted:"Opphevet demping","Playback Rate":"Avspillingshyppighet",Subtitles:"Undertekst","subtitles off":"undertekst av",Captions:"Bildetekst","captions off":"bildetekst av",Chapters:"Kapitler",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor","default":"standard","Cast To Device":"Spill av p enhet",Share:"Del",Volume:"Volume","Playback Speed":"Avspillingshastighet","Video Quality":"Videokvalitet","Closed Captioning":"Teksting for hrselshemmede","Share Video":"Del video","Next Track":"Neste spor","Previous Track":"Forrige spor","Skip Forward":"Hopp fremover","Skip Backward":"Hopp bakover","Fast Forward":"Spol fremover",Rewind:"Spol tilbake","Next Frame":"Neste bilde","Previous Frame":"Forrige bilde",Settings:"Innstillinger",Options:"Alternativer","More Options":"Flere alternativer",Zoom:"Zoom","Zoom In":"Zoom inn","Zoom Out":"Zoom ut","Audio Only":"Bare lyd","Picture in Picture":"Bilde i bilde","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videoavspilling avbrutt.",MEDIA_ERR_NETWORK:"En nettverksfeil har forrsaket at nedlastingen av denne videoen mislykkes. Prv  oppdatere siden.",MEDIA_ERR_DECODE:"Videoen kan ikke lastes inn, enten fordi tilkoblingen til serveren eller nettverket mislyktes, eller fordi formatet ikke stttes.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videoavspillingen ble avbrutt p grunn skadet programvare eller fordi videoen brukte funksjoner som nettleseren din ikke sttter.",MEDIA_ERR_ENCRYPTED:"Kan ikke dekryptere den krypterte videokilden.",SRC_PLAYER_MISMATCH:"Fant ingen kompatibel kilde for det gjeldende nettlesermiljet.",MEDIA_ERR_UNKNOWN:"Det oppstod en ukjent feil."};amp.options.languages["nb-no"]=amp.options.languages.nb;amp.options.languages.nl={Play:"Afspelen",Pause:"Onderbreken","Current Time":"Huidige tijd","Duration Time":"Duur","Remaining Time":"Resterende tijd","Stream Type":"Type stream",LIVE:"LIVE",Loaded:"Geladen",Progress:"Voortgang",Fullscreen:"Volledig scherm","Non-Fullscreen":"Niet-volledig scherm",Mute:"Dempen",Unmuted:"Dempen opgeheven","Playback Rate":"Afspeelsnelheid",Subtitles:"Ondertitels","subtitles off":"ondertitels uit",Captions:"Bijschriften","captions off":"ondertiteling uit",Chapters:"Hoofdstukken",Off:"Uit",Quality:"Kwaliteit",Auto:"Automatisch","Audio Tracks":"Audionummers","default":"standaard","Cast To Device":"Casten naar apparaat",Share:"Delen",Volume:"Volume","Playback Speed":"Afspeelsnelheid","Video Quality":"Videokwaliteit","Closed Captioning":"Ondertiteling","Share Video":"Video delen","Next Track":"Volgend nummer","Previous Track":"Vorig nummer","Skip Forward":"Vooruit springen","Skip Backward":"Terug springen","Fast Forward":"Vooruitspoelen",Rewind:"Terugspoelen","Next Frame":"Volgende frame","Previous Frame":"Vorige frame",Settings:"Instellingen",Options:"Opties","More Options":"Meer opties",Zoom:"In-/uitzoomen","Zoom In":"Inzoomen","Zoom Out":"Uitzoomen","Audio Only":"Alleen audio","Picture in Picture":"Picture in Picture","Camera Angle":"Camerahoek",MEDIA_ERR_ABORTED:"Video afspelen is afgebroken.",MEDIA_ERR_NETWORK:"De video is vanwege een netwerkfout gedeeltelijk gedownload. Controleer uw netwerkverbinding of probeer het later opnieuw.",MEDIA_ERR_DECODE:"De video kan niet worden geladen, omdat er een probleem is met de server of het netwerk of omdat de indeling niet wordt ondersteund.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Het afspelen van de video is afgebroken, omdat deze mogelijk is beschadigd of omdat de video functies gebruikt die niet worden ondersteund door uw browser.",MEDIA_ERR_ENCRYPTED:"Kan de versleutelde videobron niet ontsleutelen.",SRC_PLAYER_MISMATCH:"Er is geen compatibele bron gevonden voor de huidige browseromgeving.",MEDIA_ERR_UNKNOWN:"Er is een onbekende fout opgetreden."};amp.options.languages["nl-be"]=amp.options.languages.nl;amp.options.languages.nn={Play:"Spel av",Pause:"Pause","Current Time":"Tid","Duration Time":"Tidslengd","Remaining Time":"Tid att","Stream Type":"Strmmingstype",LIVE:"LIVE",Loaded:"Lasta inn",Progress:"Framdrift",Fullscreen:"Fullskjerm","Non-Fullscreen":"Ikkje fullskjerm",Mute:"Demp",Unmuted:"Oppheva demping","Playback Rate":"Avspelingsfart",Subtitles:"Teksting","subtitles off":"teksting av",Captions:"Teksting","captions off":"teksting av",Chapters:"Kapittel",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor","default":"standard","Cast To Device":"Spel av p eining",Share:"Del",Volume:"Volum","Playback Speed":"Avspelingsfart","Video Quality":"Videokvalitet","Closed Captioning":"Teksting for hyrselshemma","Share Video":"Del video","Next Track":"Neste spor","Previous Track":"Frre spor","Skip Forward":"Hopp framover","Skip Backward":"Hopp bakover","Fast Forward":"Spol framover",Rewind:"Spol tilbake","Next Frame":"Neste bilete","Previous Frame":"Frre bilete",Settings:"Innstillingar",Options:"Alternativ","More Options":"Fleire alternativ",Zoom:"Zoom","Zoom In":"Zoom inn","Zoom Out":"Zoom ut","Audio Only":"Berre lyd","Picture in Picture":"Bilete i bilete","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videoavspeling avbroten.",MEDIA_ERR_NETWORK:"Ein nettverksfeil har frt til at nedlastinga av denne videoen mislukkast. Kontroller nettverkstilkoplinga, eller prv p nytt seinare.",MEDIA_ERR_DECODE:"Videoen kan ikkje lastast ned, anten fordi tilkoplinga til tenaren eller nettverket mislukkast, eller fordi formatet ikkje er sttta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videoavspelinga blei avbroten p grunn av skadd programvare eller fordi videoen brukte funksjonar som nettlesaren din ikkje stttar.",MEDIA_ERR_ENCRYPTED:"Kan ikkje dekryptere den krypterte videokjelda.",SRC_PLAYER_MISMATCH:"Finn ikkje noka kompatibel kjelde for det gjeldande nettlesarmiljet.",MEDIA_ERR_UNKNOWN:"Det oppstod ein ukjent feil"};amp.options.languages["nn-no"]=amp.options.languages.nn;amp.options.languages.ph={Play:"I-play",Pause:"I-pause","Current Time":"Kasalukuyang Oras","Duration Time":"Oras ng Tagal","Remaining Time":"Nalalabing Oras","Stream Type":"Uri ng Stream",LIVE:"Live",Loaded:"Loaded",Progress:"Progreso",Fullscreen:"Fullscreen","Non-Fullscreen":"Hindi-Fullscreen",Mute:"I-mute",Unmuted:"I-unmute","Playback Rate":"Rate ng Playback",Subtitles:"Mga subtitle","subtitles off":"Naka-off ang subtitle",Captions:"Mga Caption","captions off":"Naka-off ang Caption",Chapters:"Mga chapter",Off:"I-off",Quality:"Kalidad",Auto:"Awto","Audio Tracks":"Mga Track ng Audio","default":"default","Cast To Device":"I-Cast Sa Device",Share:"Ibahagi",Volume:"Volume","Playback Speed":"Bilis ng Playback","Video Quality":"Kalidad ng Video","Closed Captioning":"Isara ang Captioning","Share Video":"Ibahagi ang Video","Next Track":"Susunod na Track","Previous Track":"Nakaraang Track","Skip Forward":"I-skip Pauna","Skip Backward":"I-skip Pabalik","Fast Forward":"I-fast forwarf",Rewind:"I-rewind","Next Frame":"Susunod na Frame","Previous Frame":"Nakaraang Frame",Settings:"Mga Setting",Options:"Mga Opsyon","More Options":"Iba Pang Mga Opsyon",Zoom:"I-zoom","Zoom In":"I-zoom in","Zoom Out":"I-zoom out","Audio Only":"Audio Lamang","Picture in Picture":"Larawam sa Larawan","Camera Angle":"Anggulo ng Camera",MEDIA_ERR_ABORTED:"Nahinto ang playback ng video",MEDIA_ERR_NETWORK:"Ang error sa network ang dahilan kung bakit nabigo ang pag-download ng video. Pakitingnan ang konkesyon ng iyong network at subukang muli.",MEDIA_ERR_DECODE:"Hindi mai-load ang video, marahil dahil nabigo ang server o network o dahil hindi suportado ang format.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Nahinto ang playback ng video dahil sa sa pagkasira o dahil hindi suportado ng browser ang video ng ginamit na mga tampok.",MEDIA_ERR_ENCRYPTED:"Hindi ma-decrypt ang source ng naka-encrypt na video.",SRC_PLAYER_MISMATCH:"Walang nakitang tugmang source para sa kasalukuyang browser.",MEDIA_ERR_UNKNOWN:"May nangyaring hindi kilalang error"};amp.options.languages.pl={Play:"Odtwrz",Pause:"Wstrzymaj","Current Time":"Biecy czas","Duration Time":"Czas trwania","Remaining Time":"Pozostay czas","Stream Type":"Typ strumienia",LIVE:"NA YWO",Loaded:"Zaadowane",Progress:"Postp",Fullscreen:"Peny ekran","Non-Fullscreen":"Niepeny ekran",Mute:"Wycisz",Unmuted:"Wyciszenie wyczone","Playback Rate":"Tempo odtwarzania",Subtitles:"Napisy","subtitles off":"napisy wyczone",Captions:"Podpisy","captions off":"podpisy wyczone",Chapters:"Rozdziay",Off:"Wyczone",Quality:"Jako",Auto:"Auto","Audio Tracks":"cieki dwikowe","default":"domylne","Cast To Device":"Rzutuj na urzdzenie",Share:"Udostpnij",Volume:"Gono","Playback Speed":"Szybko odtwarzania","Video Quality":"Jako wideo","Closed Captioning":"Podpisy kodowane","Share Video":"Udostpnij wideo","Next Track":"Nastpna cieka","Previous Track":"Poprzednia cieka","Skip Forward":"Skocz do tyu","Skip Backward":"Skocz do przodu","Fast Forward":"Przewi do przodu",Rewind:"Przewi do tyu","Next Frame":"Nastpna klatka","Previous Frame":"Poprzednia klatka",Settings:"Ustawienia",Options:"Opcje","More Options":"Wicej opcji",Zoom:"Powikszenie","Zoom In":"Powiksz","Zoom Out":"Pomniejsz","Audio Only":"Tylko dwik","Picture in Picture":"Obraz w obrazie","Camera Angle":"Kt kamery",MEDIA_ERR_ABORTED:"Przerwano odtwarzanie wideo.",MEDIA_ERR_NETWORK:"Bd sieci spowodowa, e trwajce pobieranie wideo zostao przerwane. Sprawd poczenie sieciowe i sprbuj ponownie.",MEDIA_ERR_DECODE:"Nie mona zaadowa wideo. Wystpi bd serwera lub sieci albo format nie jest obsugiwany.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Odtwarzanie wideo zostao przerwane. Dane s uszkodzone lub wideo korzysta z funkcji, ktrych przegldarka nie obsuguje.",MEDIA_ERR_ENCRYPTED:"Nie mona odszyfrowa zaszyfrowanego rda wideo.",SRC_PLAYER_MISMATCH:"Nie znaleziono zgodnego rda dla biecego rodowiska przegldarki.",MEDIA_ERR_UNKNOWN:"Wystpi nieznany bd."};amp.options.languages["pt-br"]={Play:"Executar",Pause:"Pausar","Current Time":"Tempo atual","Duration Time":"Tempo de durao","Remaining Time":"Tempo restante","Stream Type":"Tipo de fluxo",LIVE:"AO VIVO",Loaded:"Carregado",Progress:"Progresso",Fullscreen:"Tela cheia","Non-Fullscreen":"Sem tela cheia",Mute:"Sem udio",Unmuted:"Mudo desativado","Playback Rate":"Taxa de reproduo",Subtitles:"Legendas","subtitles off":"Desativar legendas",Captions:"Legendas","captions off":"desativar legendas",Chapters:"Captulos",Off:"Desativado",Quality:"Qualidade",Auto:"Automtico","Audio Tracks":"Faixas de udio","default":"padro","Cast To Device":"Converter para o dispositivo",Share:"Compartilhar",Volume:"Volume","Playback Speed":"Velocidade de reproduo","Video Quality":"Qualidade do vdeo","Closed Captioning":"Legendagem codificada","Share Video":"Compartilhar vdeo","Next Track":"Prxima faixa","Previous Track":"Faixa anterior","Skip Forward":"Prxima faixa","Skip Backward":"Faixa anterior","Fast Forward":"Avanar",Rewind:"Retroceder","Next Frame":"Prximo quadro","Previous Frame":"Quadro anterior",Settings:"Configuraes",Options:"Opes","More Options":"Mais Opes",Zoom:"Aplicar zoom","Zoom In":"Ampliar","Zoom Out":"Reduzir","Audio Only":"Apenas udio","Picture in Picture":"Picture in picture","Camera Angle":"ngulo da cmera",MEDIA_ERR_ABORTED:"Reproduo de vdeo anulada.",MEDIA_ERR_NETWORK:"Um erro de rede causou a falha do download do vdeo. Verifique sua conexo de rede ou tente novamente mais tarde.",MEDIA_ERR_DECODE:"O vdeo no pde ser carregado, pois h uma falha na rede ou servidor ou o formato no  suportado.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A reproduo do vdeo foi anulada devido a um problema de corrupo ou porque o vdeo usou recursos que seu navegador no suporta.",MEDIA_ERR_ENCRYPTED:"No foi possvel descriptografar a fonte do vdeo criptogradada.",SRC_PLAYER_MISMATCH:"Nenhuma fonte compatvel encontrada para o ambiente do navegador atual.",MEDIA_ERR_UNKNOWN:"Ocorreu um erro desconhecido."};amp.options.languages["pt-pt"]={Play:"Reproduzir",Pause:"Pausa","Current Time":"Tempo Atual","Duration Time":"Tempo de Durao","Remaining Time":"Tempo Restante","Stream Type":"Tipo de Fluxo",LIVE:"EM DIRETO",Loaded:"Carregado",Progress:"Progresso",Fullscreen:"Ecr Inteiro","Non-Fullscreen":"Sair de Ecr Inteiro",Mute:"Desativar Som",Unmuted:"Som ativado","Playback Rate":"Taxa de Reproduo",Subtitles:"Legendas","subtitles off":"legendas desativadas",Captions:"Legendas","captions off":"legendas desligadas",Chapters:"Captulos",Off:"Desligado",Quality:"Qualidade",Auto:"Automtico","Audio Tracks":"Faixas de udio","default":"predefinio","Cast To Device":"Transmitir em Dispositivo",Share:"Partilhar",Volume:"Volume","Playback Speed":"Velocidade de Reproduo","Video Quality":"Qualidade do Vdeo","Closed Captioning":"Legendagem de udio","Share Video":"Partilhar Vdeo","Next Track":"Faixa Seguinte","Previous Track":"Faixa Anterior","Skip Forward":"Para a Frente","Skip Backward":"Para Trs","Fast Forward":"Avanar",Rewind:"Recuar","Next Frame":"Fotograma Seguinte","Previous Frame":"Fotograma Anterior",Settings:"Definies",Options:"Opes","More Options":"Mais Opes",Zoom:"Zoom","Zoom In":"Ampliar","Zoom Out":"Reduzir","Audio Only":"Apenas udio","Picture in Picture":"Imagem na Imagem","Camera Angle":"ngulo da Cmara",MEDIA_ERR_ABORTED:"Reproduo de vdeo abortada.",MEDIA_ERR_NETWORK:"A transferncia do vdeo parou a meio devido a um erro de rede. Verifique a ligao de rede ou tente novamente mais tarde.",MEDIA_ERR_DECODE:"No foi possvel carregar o vdeo. Ocorreu uma falha no servidor ou na rede ou o formato no  suportado.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A reproduo do vdeo foi abortada devido a um problema de danificao ou porque o vdeo utiliza funcionalidades que o seu browser no suporta.",MEDIA_ERR_ENCRYPTED:"No  possvel desencriptar a origem de vdeo encriptada.",SRC_PLAYER_MISMATCH:"No foi encontrada uma origem compatvel para o ambiente de browser atual.",MEDIA_ERR_UNKNOWN:"Ocorreu um erro desconhecido."};amp.options.languages.pt=amp.options.languages["pt-pt"];amp.options.languages.ro={Play:"Redare",Pause:"Pauz","Current Time":"Ora curent","Duration Time":"Durata de timp","Remaining Time":"Timp rmas","Stream Type":"Tip de flux",LIVE:"LIVE",Loaded:"ncrcat",Progress:"Progres",Fullscreen:"Ecran complet","Non-Fullscreen":"Nu este pe ecran complet",Mute:"Fr sunet",Unmuted:"Sunet reactivat","Playback Rate":"Rat de redare",Subtitles:"Subtitrri","subtitles off":"subtitrri dezactivate",Captions:"Legende","captions off":"legende dezactivate",Chapters:"Capitole",Off:"Dezactivat",Quality:"Calitate",Auto:"Auto","Audio Tracks":"Piese audio","default":"implicit","Cast To Device":"Difuzare la dispozitiv",Share:"Partajare",Volume:"Volum","Playback Speed":"Vitez de redare","Video Quality":"Calitate video","Closed Captioning":"Subtitrare complex","Share Video":"Partajare video","Next Track":"Piesa urmtoare","Previous Track":"Piesa anterioar","Skip Forward":"Salt nainte","Skip Backward":"Salt napoi","Fast Forward":"Derulare rapid",Rewind:"Derulare napoi","Next Frame":"Cadrul urmtor","Previous Frame":"Cadrul anterior",Settings:"Setri",Options:"Opiuni","More Options":"Mai multe opiuni",Zoom:"Zoom","Zoom In":"Mrire","Zoom Out":"Micorare","Audio Only":"Doar audio","Picture in Picture":"Imagine n imagine","Camera Angle":"Unghi camer",MEDIA_ERR_ABORTED:"Redare video anulat",MEDIA_ERR_NETWORK:"O eroare de reea a determinat nereuita parial a descrcrii videoclipului. Verificai conexiunea la reea sau ncercai din nou mai trziu.",MEDIA_ERR_DECODE:"Videoclipul nu a putut fi ncrcat din cauza unei erori de server sau reea sau pentru c formatul nu este acceptat.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Redarea video a fost abandonat din cauza unei probleme de deteriorare sau pentru c videoclipul a utilizat caracteristici pe care browserul nu le accept.",MEDIA_ERR_ENCRYPTED:"Nu se poate decripta sursa video criptat.",SRC_PLAYER_MISMATCH:"Nu s-a gsit nicio surs compatibil pentru mediul de browser curent.",MEDIA_ERR_UNKNOWN:"Eroare necunoscut"};amp.options.languages.ru={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:" ",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":" ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:".",Quality:"",Auto:"","Audio Tracks":" ","default":" ","Cast To Device":"  ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"        .       .",MEDIA_ERR_DECODE:"    -        -  .",MEDIA_ERR_SRC_NOT_SUPPORTED:"    -      ,    ,     .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"  ."};amp.options.languages.sk={Play:"Prehra",Pause:"Pozastavi","Current Time":"Aktulny as","Duration Time":"as trvania","Remaining Time":"Zostvajci as","Stream Type":"Typ streamu",LIVE:"NAIVO",Loaded:"Natan",Progress:"Priebeh",Fullscreen:"Na cel obrazovku","Non-Fullscreen":"Nie na cel obrazovku",Mute:"Stlmi",Unmuted:"So zruenm stlmenm","Playback Rate":"Rchlos prehrvania",Subtitles:"Titulky","subtitles off":"vypnut titulky",Captions:"Popisy","captions off":"vypnut popisy",Chapters:"Kapitoly",Off:"Vypnut",Quality:"Kvalita",Auto:"Automaticky","Audio Tracks":"Zvukov stopy","default":"predvolen hodnota","Cast To Device":"Vysielanie do zariadenia",Share:"Zdiea",Volume:"Hlasitos","Playback Speed":"Rchlos prehrvania","Video Quality":"Kvalita videa","Closed Captioning":"Skryt titulkovanie","Share Video":"Zdiea video","Next Track":"Nasledujca stopa","Previous Track":"Predchdzajca stopa","Skip Forward":"Preskoi dopredu","Skip Backward":"Preskoi dozadu","Fast Forward":"Posun dopredu",Rewind:"Posun dozadu","Next Frame":"Nasledujca snmka","Previous Frame":"Predchdzajca snmka",Settings:"Nastavenia",Options:"Monosti","More Options":"alie monosti",Zoom:"Lupa","Zoom In":"Pribli","Zoom Out":"Vzdiali","Audio Only":"Iba zvuk","Picture in Picture":"Obraz vobraze","Camera Angle":"Uhol kamery",MEDIA_ERR_ABORTED:"Prehrvanie videa bolo preruen.",MEDIA_ERR_NETWORK:"Chyba siete spsobila zlyhanie poas sahovania videa. Skontrolujte sieov pripojenie alebo to skste znova neskr.",MEDIA_ERR_DECODE:"Video sa nepodarilo nata. Dvodom je bu zlyhanie servera alebo siete, alebo nepodporovan formt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Prehrvanie videa bolo preruen zdvodu problmu spsobenho pokodenm alebo preto, lebo sa vo videu pouvali funkcie, ktor v prehliada nepodporoval.",MEDIA_ERR_ENCRYPTED:"Nie je mon deifrova zaifrovan zdroj videa.",SRC_PLAYER_MISMATCH:"Nenaiel sa kompatibiln zdroj pre aktulne prostredie prehliadaa.",MEDIA_ERR_UNKNOWN:"Vyskytla sa neznma chyba"};amp.options.languages.sl={Play:"Predvajaj",Pause:"Premor","Current Time":"Trenutni as","Duration Time":"as trajanja","Remaining Time":"Preostali as","Stream Type":"Vrsta pretoka",LIVE:"V IVO",Loaded:"Naloeno",Progress:"Napredek",Fullscreen:"Celozaslonski nain","Non-Fullscreen":"Ni v celozaslonskem nainu",Mute:"Zvok je izklopljen",Unmuted:"Zvok je vklopljen","Playback Rate":"Hitrost predvajanja",Subtitles:"Podnaslovi","subtitles off":"podnaslovi so izklopljeni",Captions:"Napisi","captions off":"napisi so izklopljeni",Chapters:"Poglavja",Off:"Izklopljeno",Quality:"Kakovost",Auto:"Samodejno","Audio Tracks":"Zvoni posnetki","default":"privzeto","Cast To Device":"Predvajaj v napravo",Share:"Skupna raba",Volume:"Glasnost","Playback Speed":"Hitrost predvajanja","Video Quality":"Kakovost videa","Closed Captioning":"Razirjeni podnapisi","Share Video":"Skupna raba videa","Next Track":"Naslednja skladba","Previous Track":"Prejnja skladba","Skip Forward":"Skoi naprej","Skip Backward":"Skoi nazaj","Fast Forward":"Hitro naprej",Rewind:"Hitro nazaj","Next Frame":"Naslednji okvir","Previous Frame":"Prejnji okvir",Settings:"Nastavitve",Options:"Monosti","More Options":"Dodatne monosti",Zoom:"Poveava","Zoom In":"Poveava","Zoom Out":"Pomanjava","Audio Only":"Samo zvok","Picture in Picture":"Slika v sliki","Camera Angle":"Kot fotoaparata",MEDIA_ERR_ABORTED:"Preklic predvajanja videa.",MEDIA_ERR_NETWORK:"Zaradi napake omreja je prilo med prenosom videa do napake. Preverite omreno povezave ali poskusite znova pozneje.",MEDIA_ERR_DECODE:"Videa ni mogoe naloiti, bodisi zato, ker je prilo do napake v streniku ali omreju, bodisi zato, ker oblika zapisa ni podprta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Predvajanje videa je bilo prekinjeno, ker je prilo do teave zaradi ali ker video uporablja funkcije, ki jih brskalnik ne podpira.",MEDIA_ERR_ENCRYPTED:"ifriranega vira videa ni mogoe deifrirati.",SRC_PLAYER_MISMATCH:"Ni mogoe najti zdruljivega vira videa za trenutno okolje brskalnika.",MEDIA_ERR_UNKNOWN:"Prilo je do neznane napake"};amp.options.languages["sl-si"]=amp.options.languages.sl;amp.options.languages["sr-cyrl-cs"]={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"   ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":"  ",Captions:"","captions off":"  ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"  ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":"  ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":"  ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_ENCRYPTED:"MEDIA_ERR_ENCRYPTED",SRC_PLAYER_MISMATCH:"SRC_PLAYER_MISMATCH",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN"};amp.options.languages["sr-latn-rs"]={Play:"Reprodukuj",Pause:"Pauziraj","Current Time":"Trenutno vreme","Duration Time":"Vreme trajanja","Remaining Time":"Preostalo vreme","Stream Type":"Tip toka",LIVE:"UIVO",Loaded:"Uitano",Progress:"Tok",Fullscreen:"Preko celog ekrana","Non-Fullscreen":"Nije preko celog ekrana",Mute:"Privremeno iskljui",Unmuted:"Ponovo ukljueno","Playback Rate":"Stopa reprodukcije",Subtitles:"Titl","subtitles off":"titl je iskljuen",Captions:"Natpisi","captions off":"natpisi su iskljueni",Chapters:"Poglavlja",Off:"Iskljueno",Quality:"Kvalitet",Auto:"Automatski","Audio Tracks":"Audio zapisi","default":"podrazumevano","Cast To Device":"Prebaci na ureaj",Share:"Deli",Volume:"Jaina zvuka","Playback Speed":"Brzina reprodukcije","Video Quality":"Kvalitet video zapisa","Closed Captioning":"Skriveni titlovi","Share Video":"Deli video","Next Track":"Sledei zapis","Previous Track":"Prethodni zapis","Skip Forward":"Preskoi unapred","Skip Backward":"Preskoi unazad","Fast Forward":"Premotaj unapred",Rewind:"Premotaj unazad","Next Frame":"Sledei okvir","Previous Frame":"Prethodni okvir",Settings:"Postavke",Options:"Opcije","More Options":"Jo opcija",Zoom:"Zumiraj","Zoom In":"Uveaj","Zoom Out":"Umanji","Audio Only":"Samo zvuk","Picture in Picture":"Slika u slici","Camera Angle":"Ugao kamere",MEDIA_ERR_ABORTED:"Reprodukcija video zapisa je prekinuta.",MEDIA_ERR_NETWORK:"Usled greke na mrei dolo je do otkazivanja tokom preuzimanja video zapisa. Proverite mrenu vezu ili pokuajte ponovo kasnije.",MEDIA_ERR_DECODE:"Nije mogue preuzeti video zbog toga to je dolo do otkazivanja na serveru ili mrei ili zbog toga to format nije podran.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Reprodukcija video zapisa je prekinuta zbog problema sa oteenjem ili zbog toga to video koristi funkcije koje pregleda ne podrava.",MEDIA_ERR_ENCRYPTED:"Nije mogue deifrovati ifrovani izvor video zapisa.",SRC_PLAYER_MISMATCH:"Za aktuelno okruenje pregledaa nije pronaen nijedan kompatibilan izvor.",MEDIA_ERR_UNKNOWN:"Dolo je do nepoznate greke"};amp.options.languages.sr=amp.options.languages["sr-latn-rs"];amp.options.languages.sv={Play:"Spela upp",Pause:"Pausa","Current Time":"Aktuell tid","Duration Time":"Varaktighet","Remaining Time":"terstende tid","Stream Type":"Strmtyp",LIVE:"LIVE",Loaded:"Inlst",Progress:"Frlopp",Fullscreen:"Helskrm","Non-Fullscreen":"Ej helskrm",Mute:"Ljud av",Unmuted:"Ljud p","Playback Rate":"Uppspelningshastighet",Subtitles:"Textning","subtitles off":"Textning av",Captions:"Bildtexter","captions off":"Bildtexter av",Chapters:"Kapitel",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Ljudspr","default":"standard","Cast To Device":"Snd till enhet",Share:"Dela",Volume:"Volym","Playback Speed":"Uppspelningshastighet","Video Quality":"Videokvalitet","Closed Captioning":"Textning","Share Video":"Dela video","Next Track":"Nsta spr","Previous Track":"Fregende spr","Skip Forward":"Hoppa framt","Skip Backward":"Hoppa bakt","Fast Forward":"Snabbspola framt",Rewind:"Bakt","Next Frame":"Nsta bildruta","Previous Frame":"Fregende bildruta",Settings:"Instllningar",Options:"Alternativ","More Options":"Fler alternativ",Zoom:"Zooma","Zoom In":"Zooma in","Zoom Out":"Zooma ut","Audio Only":"Endast ljud","Picture in Picture":"Bild-i-bild","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videouppspelning avbruten.",MEDIA_ERR_NETWORK:"Ett ntverksfel gjorde att hmtningen av videon avbrts. Kontrollera din ntverksanslutning och frsk igen senare.",MEDIA_ERR_DECODE:"Det gick inte att lsa in den hr videon. Det kan bero p att servern eller ntverket inte fungerade eller p att formatet inte stds.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videouppspelningen avbrts pga att den var skadad eller drfr att videon anvnder funktioner som din webblsare inte stder.",MEDIA_ERR_ENCRYPTED:"Det gick inte att dekryptera den krypterade videokllan.",SRC_PLAYER_MISMATCH:"Ingen kompatibel klla har hittats fr den aktuella webblsarmiljn.",MEDIA_ERR_UNKNOWN:"Det har uppsttt ett ovntat fel."};amp.options.languages["sv-se"]=amp.options.languages.sv;amp.options.languages.th={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","subtitles off":"",Captions:"","captions off":"",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:" ",MEDIA_ERR_DECODE:"  ",MEDIA_ERR_SRC_NOT_SUPPORTED:" ",MEDIA_ERR_ENCRYPTED:"",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:""};amp.options.languages.tl={Play:"I-play",Pause:"I-pause","Current Time":"Kasalukuyang Oras","Duration Time":"Oras ng Tagal","Remaining Time":"Nalalabing Oras","Stream Type":"Uri ng Stream",LIVE:"Live",Loaded:"Loaded",Progress:"Progreso",Fullscreen:"Fullscreen","Non-Fullscreen":"Hindi-Fullscreen",Mute:"I-mute",Unmuted:"I-unmute","Playback Rate":"Rate ng Playback",Subtitles:"Mga subtitle","subtitles off":"Naka-off ang subtitle",Captions:"Mga Caption","captions off":"Naka-off ang Caption",Chapters:"Mga chapter",Off:"I-off",Quality:"Kalidad",Auto:"Awto","Audio Tracks":"Mga Track ng Audio","default":"default","Cast To Device":"I-Cast Sa Device",Share:"Ibahagi",Volume:"Volume","Playback Speed":"Bilis ng Playback","Video Quality":"Kalidad ng Video","Closed Captioning":"Isara ang Captioning","Share Video":"Ibahagi ang Video","Next Track":"Susunod na Track","Previous Track":"Nakaraang Track","Skip Forward":"I-skip Pauna","Skip Backward":"I-skip Pabalik","Fast Forward":"I-fast forwarf",Rewind:"I-rewind","Next Frame":"Susunod na Frame","Previous Frame":"Nakaraang Frame",Settings:"Mga Setting",Options:"Mga Opsyon","More Options":"Iba Pang Mga Opsyon",Zoom:"I-zoom","Zoom In":"I-zoom in","Zoom Out":"I-zoom out","Audio Only":"Audio Lamang","Picture in Picture":"Larawan sa Larawan","Camera Angle":"Anggulo ng Camera",MEDIA_ERR_ABORTED:"Nahinto ang playback ng video",MEDIA_ERR_NETWORK:"Ang error sa network ang dahilan kung bakit nabigo ang pag-download ng video. Pakitingnan ang konkesyon ng iyong network at subukang muli.",MEDIA_ERR_DECODE:"Hindi mai-load ang video, marahil dahil nabigo ang server o network o dahil hindi suportado ang format.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Nahinto ang playback ng video dahil sa sa pagkasira o dahil hindi suportado ng browser ang video ng ginamit na mga tampok.",MEDIA_ERR_ENCRYPTED:"Hindi ma-decrypt ang source ng naka-encrypt na video.",SRC_PLAYER_MISMATCH:"Walang nakitang tugmang source para sa kasalukuyang browser.",MEDIA_ERR_UNKNOWN:"May nangyaring hindi kilalang error"};amp.options.languages["tl-ph"]=amp.options.languages.tl;amp.options.languages.tr={Play:"Yrt",Pause:"Duraklat","Current Time":"Geerli Zaman","Duration Time":"Sre","Remaining Time":"Kalan Sre","Stream Type":"Ak Tr",LIVE:"CANLI",Loaded:"Yklendi",Progress:"lerleme Durumu",Fullscreen:"Tam Ekran","Non-Fullscreen":"Tam Ekrandan k",Mute:"Sessiz",Unmuted:"Ses Ak","Playback Rate":"Kayttan Yrtme Hz",Subtitles:"Alt Yazlar","subtitles off":"alt yazlar kapal",Captions:"Aklamal Alt Yazlar","captions off":"aklamal alt yazlar kapal",Chapters:"Blmler",Off:"Kapal",Quality:"Kalite",Auto:"Otomatik","Audio Tracks":"Ses Paralar","default":"varsaylan","Cast To Device":"Cihazda Yaynla",Share:"Payla",Volume:"Ses Dzeyi","Playback Speed":"Kayttan Yrtme Hz","Video Quality":"Video Kalitesi","Closed Captioning":"Kapal Aklamal Alt Yaz","Share Video":"Videoyu Payla","Next Track":"Sonraki para","Previous Track":"nceki Para","Skip Forward":"leri Atla","Skip Backward":"Geri Atla","Fast Forward":"leri Sar",Rewind:"Geri Sar","Next Frame":"Sonraki Kare","Previous Frame":"nceki Kare",Settings:"Ayarlar",Options:"Seenekler","More Options":"Tm Seenekler",Zoom:"Yaknlatr","Zoom In":"Yaknlatr","Zoom Out":"Uzaklatr","Audio Only":"Yalnzca Ses","Picture in Picture":"Resim inde Resim","Camera Angle":"Kamera As",MEDIA_ERR_ABORTED:"Video kayttan yrtme durduruldu.",MEDIA_ERR_NETWORK:"Video indirme ilemi bir a hatas nedeniyle ksmen baarsz oldu. Ltfen a balantsn kontrol edin veya daha sonra yeniden deneyin.",MEDIA_ERR_DECODE:"Sunucu veya a baarsz olduundan ya da biim desteklenmediinden video yklenemedi.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Bir bozulma sorunu ya da videoda taraycnz tarafndan desteklenmeyen zelliklerin kullanlmas nedeniyle video kayttan yrtme durduruldu.",MEDIA_ERR_ENCRYPTED:"ifreli video kaynann ifresi zlemedi.",SRC_PLAYER_MISMATCH:"Geerli tarayc ortamyla uyumlu kaynak bulunamad.",MEDIA_ERR_UNKNOWN:"Bilinmeyen bir hata olutu."};amp.options.languages.uk={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"LIVE",Loaded:"",Progress:" ",Fullscreen:"","Non-Fullscreen":"",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":" ","Cast To Device":"  ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .        .",MEDIA_ERR_DECODE:"        ,    .",MEDIA_ERR_SRC_NOT_SUPPORTED:"    ,     ,      .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:" ,     .",MEDIA_ERR_UNKNOWN:"  "};amp.options.languages["uk-ua"]=amp.options.languages.uk;amp.options.languages.ur={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":"  ",LIVE:"",Loaded:" ",Progress:"",Fullscreen:" ","Non-Fullscreen":" ",Mute:" ",Unmuted:"  ","Playback Rate":"   ",Subtitles:" ","subtitles off":"  ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"   ",Share:" ",Volume:"","Playback Speed":"  ","Video Quality":"  ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":"  ","Skip Backward":"  ","Fast Forward":"   ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"       ",MEDIA_ERR_NETWORK:"                       ",MEDIA_ERR_DECODE:"                   ",MEDIA_ERR_SRC_NOT_SUPPORTED:"                             ",MEDIA_ERR_ENCRYPTED:"          ",SRC_PLAYER_MISMATCH:"         ",MEDIA_ERR_UNKNOWN:"    "};amp.options.languages["ur-pk"]=amp.options.languages.ur;amp.options.languages.vi={Play:"Pht",Pause:"Tm dng","Current Time":"Thi gian Hin ti","Duration Time":"Thi lng","Remaining Time":"Thi gian Cn li","Stream Type":"Kiu Dng",LIVE:"TRC TIP",Loaded:" ti",Progress:"Tin ",Fullscreen:"Ton mn hnh","Non-Fullscreen":"Thot Ton mn hnh",Mute:"Tt ting",Unmuted:" bt ting","Playback Rate":"Tn sut pht li",Subtitles:"Ph ","subtitles off":"tt ph ",Captions:"Ph ","captions off":"tt ph ",Chapters:"Chng",Off:"Tt",Quality:"Cht lng",Auto:"T ng","Audio Tracks":"Rnh m thanh","default":"mc nh","Cast To Device":"Truyn ti Thit b",Share:"Chia s",Volume:"m lng","Playback Speed":"Tc  Pht li","Video Quality":"Cht lng Video","Closed Captioning":"Ph  Chi tit","Share Video":"Chia s Video","Next Track":"Rnh K","Previous Track":"Rnh Trc","Skip Forward":"Tin Nhanh","Skip Backward":"Li Nhanh","Fast Forward":"Tin Nhanh",Rewind:"Tua li","Next Frame":"Khung K","Previous Frame":"Khung Trc",Settings:"Thit t ",Options:"Ty chn","More Options":"Xem thm Ty chn",Zoom:"Thu phng","Zoom In":"Phng to","Zoom Out":"Thu nh","Audio Only":"Ch m thanh","Picture in Picture":"nh lng nh","Camera Angle":"Gc My",MEDIA_ERR_ABORTED:" hy pht li video.",MEDIA_ERR_NETWORK:"Li mng gy ra do ti xung video tht bi mt phn. Vui lng kim tra kt ni mng ca bn hoc th li sau.",MEDIA_ERR_DECODE:"Khng th ti video do li my ch hoc li mng, hoc do nh dng khng c h tr.",MEDIA_ERR_SRC_NOT_SUPPORTED:" hy pht li video do s c hng hc hoc do video s dng cc tnh nng m trnh duyt ca bn khng h tr.",MEDIA_ERR_ENCRYPTED:"Khng th gii m ngun video c m ha.",SRC_PLAYER_MISMATCH:"Khng tm thy ngun tng thch vi mi trng trnh duyt hin ti.",MEDIA_ERR_UNKNOWN:"Xut hin li cha xc nh"};amp.options.languages["vi-vn"]=amp.options.languages.vi;amp.options.languages["zh-hans"]={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","subtitles off":"",Captions:"","captions off":"",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"",MEDIA_ERR_ENCRYPTED:"",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:""};amp.options.languages.zh=amp.options.languages["zh-hans"];amp.options.languages["zh-cn"]=amp.options.languages["zh-hans"];amp.options.languages["zh-hant"]={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","subtitles off":"",Captions:"","captions off":"",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"",MEDIA_ERR_ENCRYPTED:"",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:""};amp.options.languages["zh-hk"]=amp.options.languages["zh-hant"];amp.options.languages["zh-tw"]=amp.options.languages["zh-hant"],function(n){n.plugin("audioTracks",function(t){function h(n){var u=i.controlBar.audioTracksButton,f=r,t=u.items.indexOf(n),e=i.currentAudioStreamList();!e||t<0||(e.switchIndex(t),f!==t&&(f<u.items.length&&u.items[f].selected(!1),n.selected(!0),r=t))}function y(){var t=i.currentAudioStreamList(),r,u,n;if(!t)return[];for(p(),r=[],n=0;n<t.streams.length;n++)u=t.streams[n],nt(u.codec)==f&&r.push({text:u.title});return r}function p(){var t=i.currentAudioStreamList(),r,n;if(s){for(n=0;n<t.streams.length;n++)t.streams[n].title=t.streams[n].name;return}var f=a(t.streams,function(n){var t=d(n.language);return t||(t=n.language),t}),e=a(t.streams,function(n){return vjs.util.getBitrateByUnit(n.bitrate)}),u=[];for(g(f)?u=f:(r=[],e.forEach(function(n,t){var i=f[t]?f[t]:"Track"+t;r.push(i+" - "+e[t])}),u=r.slice(),r.forEach(function(n,t){var i=r.indexOf(n);i<t&&(u[i]=r[i]+" ("+i+")",u[t]=r[t]+" ("+t+")")})),n=0;n<t.streams.length;n++)t.streams[n].title=u[n]}function w(){var n=i.currentAudioStreamList();n&&n.addEventListener(amp.streamListEventName.streamselected,b);this.refresh();r=undefined;k()}function b(){var u=i.currentAudioStreamList(),n=i.controlBar.audioTracksButton,t=r;t!==u.enabledIndices[0]&&(t<n.items.length&&n.items[t].selected(!1),r=u.enabledIndices[0],r<n.items.length&&n.items[r].selected(!0))}function k(){var n=i.currentAudioStreamList(),t,u;n&&(t=i.controlBar.audioTracksButton,u=r,u!=n.enabledIndices[0]&&h(t.items[n.enabledIndices[0]]))}function d(n){if(!n)return null;var t=null;return n.length==3&&(t=vjs.get2LetterLangCode(n)),u&&t&&u[t]?u[t].nativeName:u&&n&&u[n]?u[n].nativeName:null}function c(n){return n.filter(function(n,t,i){return i.indexOf(n)===t})}function g(n){return c(n).length==n.length}function nt(n){return n==null?f:(n=n.toLowerCase(),l(["dtse","ac-3","ec-3"],n))?v:l(["aac","mp4a"],n)?f:undefined}function l(n,t){for(var i=0;i<n.length;i++)if(t.indexOf(n[i])>-1)return!0;return!1}function a(n,t){var i=[];return n.forEach(function(n,r){i.push(t(n,r))}),i}var i=this,u=vjs.getIsoLangs(),e=!!t&&!!t.menuTitle?t.menuTitle:"Audio Tracks",r=!!t&&!!t.selectedItem?t.selectedItem:0,v="Dolby Digital",f="Stereo",o=!0,s=!1;i.options_.skinConfig&&i.options_.skinConfig.audioTracksMenu&&(typeof i.options_.skinConfig.audioTracksMenu.enabled!="undefined"&&(o=i.options_.skinConfig.audioTracksMenu.enabled),s=i.options_.skinConfig.audioTracksMenu.useManifestForLabel||!1);n.AudioTrackskMenuItem=n.MenuItem.extend({init:function(t,i){var r={label:i.text,selected:i.selected};n.MenuItem.call(this,t,r);this.addClass("amp-menu-item");this.on("click",this.onClick)}});n.AudioTrackskMenuItem.prototype.onClick=function(){h(this)};n.AudioTracksButton=n.MenuButton.extend({init:function(t,i){o&&(i=i||{},i.name="audioTracksButton",n.MenuButton.call(this,t,i),t.addEventListener(amp.eventName.loadedmetadata,amp.bind(this,w)))}});n.AudioTracksButton.prototype.refresh=function(){if(this.removeChild(this.menu),this.menu=this.createMenu(),!this.items||this.items.length<=1){this.hide();return}this.addChild(this.menu);var t=new n.Component(i,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(e)),tabindex:-1})});this.menu.addItem(t);this.show()};n.AudioTracksButton.prototype.buttonText=e;n.AudioTracksButton.prototype.className="amp-audiotracks-control";n.AudioTracksButton.prototype.createItems=function(){for(var f,r=y()||[],u=[],t=0;t<r.length;t++)f=new n.AudioTrackskMenuItem(i,r[t]),u.push(f);return u};i.ready(function(){var t=new n.AudioTracksButton(i,{selectedItemIndex:r});i.controlBar.audioTracksButton=i.controlBar.addChild(t)})})}(window.amp),function(n){n.plugin("castToDevice",function(t){function f(n){var r=i.controlBar.castToDeviceButton,t=u,f=r.items.indexOf(n);t!==f&&(t>=0&&r.items[t].selected(!1),n.selected(!0),u=f)}function e(){return[{text:"Device 1",value:1},{text:"Device 2",value:2},{text:"Device 3",value:3}]}var i=this,r=!!t&&!!t.menuTitle?t.menuTitle:"Cast to Device",u=-1;n.CastToDeviceMenuItem=n.MenuItem.extend({init:function(t,i){var r={label:i.text,value:i.value,selected:i.selected};n.MenuItem.call(this,t,r);this.addClass("amp-menu-item");this.on("click",this.onClick)}});n.CastToDeviceMenuItem.prototype.onClick=function(){f(this)};n.CastToDeviceButton=n.MenuButton.extend({init:function(t,i){if(i=i||{},i.name="castToDeviceButton",n.MenuButton.call(this,t,i),this.items.length>0){var u=new n.Component(t,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(r)),tabindex:-1})});this.menu.addItem(u)}else this.hide()}});n.CastToDeviceButton.prototype.buttonText=r;n.CastToDeviceButton.prototype.className="amp-casttodevice-control";n.CastToDeviceButton.prototype.createItems=function(){for(var f,r=e()||[],u=[],t=0;t<r.length;t++)f=new n.CastToDeviceMenuItem(i,r[t]),u.push(f);return u};i.ready(function(){var r=new n.CastToDeviceButton(i,t);i.controlBar.castToDeviceButton=i.controlBar.addChild(r)})})}(window.amp),function(n){n.plugin("closedCaption",function(t){var i=this,r=!!t&&!!t.menuTitle?t.menuTitle:"Closed Captioning";i.addEventListener(amp.eventName.loadedmetadata,function(){i.controlBar.captionsButton.el().className+=" amp-closedcaption-control";i.controlBar.captionsButton.buttonText=r;var t=new n.Component(i,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(r)),tabindex:-1})});i.controlBar.captionsButton.menu.addItem(t)})})}(window.amp),function(n){n.plugin("controlBarIcons",function(t){function h(n){for(var t=0;t<r.length;t++)if(n===r[t].name())return r[t];return null}function u(t,r){for(var u,e=new n.Component(i,{el:vjs.createEl("div",{className:r})}),f=0;f<t.length;f++)u=h(t[f]),!u||(e.addChild(u),i.controlBar.removeChild(u));i.controlBar.addChild(e)}var i=this,f=!!t&&!!t.leftIcons?t.leftIcons:[],e=!!t&&!!t.middleIcons?t.middleIcons:[],o=!!t&&!!t.rightIcons?t.rightIcons:[],s=!t?!1:!!t.removeOtherIcons,r=[];i.ready(function(){if(r=i.controlBar.children().slice(),!!s)for(var n=0;n<r.length;n++)i.controlBar.removeChild(r[n]);u(f,"amp-controlbaricons-left");u(e,"amp-controlbaricons-middle");u(o,"amp-controlbaricons-right")})})}(window.amp),function(n){n.plugin("live",function(t){function p(){i.currentTime(i.duration())}function w(){i.isLive()?(i.addEventListener(amp.eventName.seeked,s),i.addEventListener(amp.eventName.seeking,h),i.addEventListener(amp.eventName.timeupdate,o),l(),e()):(i.removeEventListener(amp.eventName.seeked,s),i.removeEventListener(amp.eventName.seeking,h),i.removeEventListener(amp.eventName.timeupdate,o),r(),a())}function b(){i.currentTechName()=="Html5"&&i.isLive()&&(l(),e())}function o(){i.isLive()?f()&&r():(i.removeEventListener(amp.eventName.seeked,s),i.removeEventListener(amp.eventName.seeking,h),i.removeEventListener(amp.eventName.timeupdate,o),r(),a())}function s(){f()?r():e()}function h(){i.isLive()&&(f()?r():e())}function f(){var n=i.currentPlayerSettingValue("livePlaybackOffsetInSec");return i.currentTime()<i.duration()-y-n?!0:!1}function e(){i.controlBar.liveDisplay.addClass(u);i.controlBar.currentTimeDisplay.addClass(u)}function r(){i.controlBar.liveDisplay.removeClass(u);i.controlBar.currentTimeDisplay.removeClass(u)}function l(){i.controlBar.liveDisplay.addClass(c);i.controlBar.liveDisplay.show()}function a(){i.controlBar.liveDisplay.removeClass(c);i.controlBar.liveDisplay.hide()}var i=this,v=!!t&&!!t.controlText?t.controlText:"LIVE",c="amp-live-control",u="amp-live-on",y=5;n.LiveEdgeProgressBar=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}});n.LiveEdgeProgressBar.prototype.createEl=function(){return vjs.createEl("div",{className:"amp-live-edge-progress",tabIndex:0})};i.ready(function(){i.addEventListener(amp.eventName.loadedmetadata,w);i.addEventListener(amp.eventName.durationchange,b);i.controlBar.liveDisplay.on("click",function(){f()&&p()});var n=vjs.createEl("div",{className:"amp-livetimeindicator",innerHTML:vjs.util.htmlEncode(this.localize(v))});i.controlBar.currentTimeDisplay.el().appendChild(n)})})}(window.amp),function(n){n.plugin("logo",function(t){function h(n,t){var r=6,u=i.el();return t==="center"&&(r=u.clientWidth/2-n.clientWidth/2),t==="right"&&(r=u.clientWidth-n.clientWidth-6),r}function c(n,t){var r=6,u=i.el();return t==="middle"&&(r=u.clientHeight/2-n.clientHeight/2),t==="bottom"&&(r=u.clientHeight-n.clientHeight-6),r}function l(n,t){var r=i.el();r.clientHeight<t.clientHeight||r.clientWidth<t.clientWidth?(t.style.maxHeight=r.clientHeight+"px",t.style.maxWidth=r.clientWidth+"px"):(t.style.maxHeight="100%",t.style.maxWidth="100%")}function a(n,t){n.style.left=h(t,e)+"px";n.style.top=c(t,o)+"px"}function r(){i.customerLogo.container.style.left="0";i.customerLogo.container.style.top="0";l(i.customerLogo.container,i.customerLogo.el_);a(i.customerLogo.container,i.customerLogo.el_)}var i=this,u=t.enabled,f=t.opacity,e=t.horizontalPosition,o=t.verticalPosition,s="amp-logo";n.Logo=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}});n.Logo.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:s});return n.style.opacity=f,this.container=n,n};i.ready(function(){if(u){var t=new n.Logo(i);i.customerLogo=i.addChild(t);r();i.on("fullscreenchange",r);i.on("resize",r)}})})}(window.amp),function(n){n.plugin("moreOptions",function(t){function e(n){var t;if(n){for(t=0;t<r.length;t++)r[t].control.el().tabIndex=-1,r[t].control.addClass("amp-control-disabled");i.controlBar.moreOptionsButton.el().tabIndex=0;i.controlBar.moreOptionsButton.removeClass("amp-control-disabled")}else{for(t=0;t<r.length;t++)r[t].control.el().tabIndex=0,r[t].control.removeClass("amp-control-disabled"),!r[t].control.menu||(r[t].control.el().style.position="",r[t].control.el().style.left="");i.controlBar.moreOptionsButton.el().tabIndex=-1;i.controlBar.moreOptionsButton.addClass("amp-control-disabled")}}function a(){i.controlBar.moreOptionsButton.menu.el().style.display="";for(var n=0;n<r.length;n++)!r[n].control.menu||(r[n].control.menu.el().style.display="")}function v(){var t,n;for(r=[],t=0;t<s.length;t++)n=i.controlBar[s[t]],!n||!n.el()||r.push({control:n,text:n.buttonText,className:n.el().className});return r}function y(){u=[];for(var n=0;n<r.length;n++)r[n].control.hasClass("vjs-hidden")||u.push(r[n]);u.length>1?c():e(!1)}function c(){if(u.length>0){var n=window.setTimeout(c,100);u[0].control.el()&&u[0].control.el().clientWidth!==0&&(f=u[0].control.el().clientWidth*(u.length+3)*3,l(),window.clearTimeout(n))}}function l(){i.controlBar.width()==0?e(i.width()<f):e(i.controlBar.width()<f)}var i=this,f=0,s=!!t&&!!t.controls?t.controls:[],o=!!t&&!!t.menuTitle?t.menuTitle:"More Options",r=[],u=[],h=Date.now();n.MoreOptionsMenuItem=n.MenuItem.extend({init:function(t,i){var r={label:i.text,value:i.value,selected:i.selected};n.MenuItem.call(this,t,r);this.control=i.control;this.addClass("amp-menu-item");this.addClass(i.className);this.on("click",this.onClick);if(!!this.control.menu)this.control.menu.on("mouseleave",function(){this.el().style.display=""})}});n.MoreOptionsMenuItem.prototype.onClick=function(n){n.stopImmediatePropagation();this.control.onClick(n);h=Date.now()};n.MoreOptionsButton=n.MenuButton.extend({init:function(t,i){i=i||{};i.name="moreOptionsButton";n.MenuButton.call(this,t,i);t.addEventListener(amp.eventName.loadedmetadata,vjs.bind(this,function(){this.refresh()}));this.on("mouseover",a);if(this.items.length>0){var r=new n.Component(t,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(o)),tabindex:-1})});this.menu.addItem(r)}else this.hide()}});n.MoreOptionsButton.prototype.buttonText=o;n.MoreOptionsButton.prototype.className="amp-moreoptions-control";n.MoreOptionsButton.prototype.createItems=function(){for(var f,r=v()||[],u=[],t=0;t<r.length;t++)f=new n.MoreOptionsMenuItem(i,r[t]),u.push(f);return u};n.MoreOptionsButton.prototype.refresh=function(){if(this.removeChild(this.menu),this.menu=this.createMenu(),this.addChild(this.menu),this.items.length>0){var t=new n.Component(i,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(o)),tabindex:-1})});this.menu.addItem(t)}this.items=this.createItems()};n.MoreOptionsButton.prototype.onClick=function(n){Date.now()-h>500&&vjs.MenuButton.prototype.onClick.call(this,n)};i.ready(function(){var r=new n.MoreOptionsButton(i,t);i.controlBar.moreOptionsButton=i.controlBar.addChild(r);i.addEventListener(amp.eventName.loadedmetadata,y);i.on("resize",function(){l()});i.on("fullscreenchange",function(){e(i.controlBar.width()<f)})})})}(window.amp),function(n){n.plugin("navigation",function(t){function o(){alert("hi")}function s(){}function h(){}function c(){}function l(){}function a(){}function i(t,i,u){var f=new n.Button(r,{el:n.Component.prototype.createEl("div",{className:"vjs-control amp-"+t.toLowerCase(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize(u))+"<\/span><\/div>",role:"button",id:t}),name:t});return f.onClick=i,f.buttonText=u,f}var r=this,u=t.track||{},f=t.skip||{},e=t.trickPlay||{};r.ready(function(){var n=[],t,v;for(u.hide||(n[0]=i("previousTrackButton",o,"Previous Track"),n[5]=i("nextTrackButton",s,"Next Track")),f.hide||(n[1]=i("skipBackwardButton",h,"Skip Backward"),n[4]=i("skipForwardButton",c,"Skip Forward")),e.hide||(n[2]=i("rewindButton",l,"Rewind"),n[3]=i("fastForwardButton",a,"Fast Forward")),t=0;t<n.length;t++)v=n[t],!v||(r.controlBar[v.id()]=r.controlBar.addChild(v))})})}(window.amp),function(n){n.plugin("playbackSpeed",function(t){function e(){}function o(n){for(var t=0;t<r.length;t++)if(r[t].name===n)return r[t];return null}function s(n){for(var t=0;t<r.length;t++)if(r[t].value===n)return r[t];return null}var i=this,r=[{name:"low",value:.5},{name:"normal",value:1},{name:"fast",value:2}],u=!!t&&!!t.initialSpeed?o(t.initialSpeed):r[1],f=u==="low"?0:u==="normal"?.5:1;n.PlaybackSpeedLevel=n.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}});n.PlaybackSpeedLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-playbackspeed-level",innerHTML:'<span class="vjs-control-text"><\/span>',tabIndex:0})};n.PlaybackSpeedHandle=n.SliderHandle.extend();n.PlaybackSpeedHandle.prototype.defaultValue=1;n.PlaybackSpeedHandle.prototype.createEl=function(){return n.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-playbackspeed-handle"})};n.PlaybackSpeedBar=n.Slider.extend({init:function(t,i){n.Slider.call(this,t,i)}});n.PlaybackSpeedBar.prototype.options_={children:{playbackSpeedLevel:{},playbackSpeedHandle:{}},barName:"playbackSpeedLevel",handleName:"playbackSpeedHandle",vertical:!0};n.PlaybackSpeedBar.prototype.playerEvent="playbackspeedchange";n.PlaybackSpeedBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-playbackspeed-bar","aria-label":"playback speed level"})};n.PlaybackSpeedBar.prototype.onMouseMove=function(n){var t=this.calculateDistance(n);f=t};n.PlaybackSpeedBar.prototype.getPercent=function(){var n=.2;return f<.5-n?0:f>.5+n?1:.5};n.PlaybackSpeedBar.prototype.update=function(){var f=this.handle,t=this.getPercent(),n=t;n=n===1?.9355:n===.5?.4697:0;f.el().style.left=n*100+"%";u=s(t);u===r[1]?(i.controlBar.playbackSpeedButton.addClass("off"),i.controlBar.playbackSpeedButton.removeClass("on")):(i.controlBar.playbackSpeedButton.addClass("on"),i.controlBar.playbackSpeedButton.removeClass("off"));e()};n.PlaybackSpeedButton=n.MenuButton.extend({init:function(t,i){i=i||{};i.name="playbackSpeedButton";n.MenuButton.call(this,t,i)}});n.PlaybackSpeedButton.prototype.createMenu=function(){var t=new n.Menu(this.player_,{contentElType:"div"}),i=new n.PlaybackSpeedBar(this.player_,this.options_);i.on("focus",function(){t.lockShowing()});i.on("blur",function(){t.unlockShowing()});return t.addChild(i),t};n.PlaybackSpeedButton.prototype.buttonText="Playback Speed";n.PlaybackSpeedButton.prototype.className="amp-playbackspeed-control";i.ready(function(){var t=new n.PlaybackSpeedButton(i);i.controlBar.playbackSpeedButton=i.controlBar.addChild(t)})})}(window.amp),function(n){n.plugin("quality",function(t){function o(n){var u=r.controlBar.qualityButton,o=i,f=u.items.indexOf(n);if(o!==f){u.items[o].selected(!1);n.selected(!0);i=f;h(u,f);var t=r.currentVideoStreamList(),e=t.selectedIndex,s=t.streams[e].tracks;i==0?t.streams[e].selectTrackByIndex(-1):t.streams[e].selectTrackByIndex(s.length-i)}}function s(){var f=r.currentVideoStreamList(),n,o;if(f){var s=f.selectedIndex,t=f.streams[s].tracks,u=[];for(u[0]={text:e},n=1;n<=t.length;n++)o=t[t.length-n].bitrate,u[n]={text:t[t.length-n].height+"p-"+c(o)};return i>=0&&i<u.length&&(u[i].selected=!0),u}}function h(n,t){var i,r,u;t==0?r=4:(i=n.items[t].options_.label.split("-")[0].replace("p",""),r=4,r=i>720?4:i<=720&&i>480?3:i<=480&&i>360?2:1);u=n.el().className.match(/quality-\d/);n.el().className=n.el().className.replace(u,"quality-"+r)}function c(n){var t=n;return n>=1e6?(n=f(n/1e6),t=n+"Mbps"):n>=1e3?(n=f(n/1e3),t=n+"Kbps"):t=n+"bps",t}function f(n){return+(Math.round(n+"e+1")+"e-1")}function l(){this.refresh();a()}function a(){var n=r.currentVideoStreamList(),t;if(n&&n.streams)for(t=0;t<n.streams.length;t++)n.streams[t].addEventListener(amp.streamEventName.trackselected,v)}function v(){for(var t,f=r.controlBar.qualityButton,e=r.currentVideoStreamList(),h=e.selectedIndex,u=e.streams[h].tracks,o=-1,s=0,n=0;n<u.length;n++)u[n].selectable&&(o=n,s++);t=-1;t=s>1?0:u.length-o;t!==i&&(f.items[i].selected(!1),i=t,f.items[i].selected(!0))}var r=this,u=!!t&&!!t.menuTitle?t.menuTitle:"Quality",i=!!t&&!!t.selectedItem?t.selectedItem:0,e=!!t&&!!t.autoMenuItemLabel?t.autoMenuItemLabel:"Auto";n.QualityMenuItem=n.MenuItem.extend({init:function(t,i){var r={label:i.text,value:i.value,selected:i.selected};n.MenuItem.call(this,t,r);this.addClass("amp-menu-item");this.on("click",this.onClick)}});n.QualityMenuItem.prototype.onClick=function(n){n.type!=="keydown"&&n.stopImmediatePropagation();o(this)};n.QualityButton=n.MenuButton.extend({init:function(t,r){if(r=r||{},r.name="qualityButton",n.MenuButton.call(this,t,r),t.addEventListener(amp.eventName.loadedmetadata,amp.bind(this,l)),this.items!=undefined&&this.items.length>0){var f=new n.Component(t,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(u)),tabindex:-1})});this.menu.addItem(f);this.el().className+=" quality-"+(4-i)}else this.hide()}});n.QualityButton.prototype.buttonText=u;n.QualityButton.prototype.className="amp-quality-control";n.QualityButton.prototype.createItems=function(){for(var f,i=s()||[],u=[],t=0;t<i.length;t++)f=new n.QualityMenuItem(r,i[t]),u.push(f);return u};r.ready(function(){var t=new n.QualityButton(r,{selectedItemIndex:i});r.controlBar.qualityButton=r.controlBar.addChild(t)});n.QualityButton.prototype.refresh=function(){if(this.removeChild(this.menu),this.menu=this.createMenu(),this.addChild(this.menu),this.items!=undefined&&this.items.length>0){var t=new n.Component(r,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(u)),tabindex:-1})});this.menu.addItem(t);this.el().className.match(/quality-\d/)==null&&(this.el().className+=" quality-"+(4-i));this.show()}else this.hide()}})}(window.amp),function(n){n.plugin("share",function(t){function u(){}function f(){return[{text:"Option 1",value:1},{text:"Option 2",value:2},{text:"Option 3",value:3}]}var i=this,r=!!t&&!!t.menuTitle?t.menuTitle:"Share";n.ShareMenuItem=n.MenuItem.extend({init:function(t,i){var r={label:i.text,value:i.value,selected:i.selected};n.MenuItem.call(this,t,r);this.addClass("amp-menu-item");this.on("click",this.onClick)}});n.ShareMenuItem.prototype.onClick=function(){u(this)};n.ShareButton=n.MenuButton.extend({init:function(t,i){if(i=i||{},i.name="shareButton",n.MenuButton.call(this,t,i),this.items.length>0){var u=new n.Component(t,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(r)),tabindex:-1})});this.menu.addItem(u)}else this.hide()}});n.ShareButton.prototype.buttonText=r;n.ShareButton.prototype.className="amp-share-control";n.ShareButton.prototype.createItems=function(){for(var e,r=f()||[],u=[],t=0;t<r.length;t++)e=new n.ShareMenuItem(i,r[t]),u.push(e);return u};i.ready(function(){var r=new n.ShareButton(i,t);i.controlBar.shareButton=i.controlBar.addChild(r)})})}(window.amp),function(n){n.plugin("subtitles",function(t){var i=this,r=!!t&&!!t.menuTitle?t.menuTitle:"Subtitles",u=!!t&&!!t.offMenuItemLabel?t.offMenuItemLabel:"Off";i.addEventListener(amp.eventName.loadedmetadata,function(){i.controlBar.subtitlesButton.el().className+=" amp-subtitles-control";i.controlBar.subtitlesButton.menu.children()[0].el().innerHTML=vjs.util.htmlEncode(this.localize(u));var t=new n.Component(i,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(r)),tabindex:-1})});i.controlBar.subtitlesButton.menu.addItem(t)})})}(window.amp),function(n){n.plugin("timelineMarkers",function(t){function f(){i.duration()>0&&(s=i.duration(),h(),c())}function h(){for(var n=0;n<u.length;n++)i.controlBar.progressControl.seekBar.removeChild(u[n]);u=[]}function c(){for(var f,t=0;t<r.length;t++)f=new n.Marker(i,r[t]),u.push(f),i.controlBar.progressControl.seekBar.addChild(f)}var i=this,r=!!t&&!!t.markers?t.markers:[],e="#9CD5F4",o="amp-timeline-marker",s=0,u=[];n.Marker=vjs.Component.extend({init:function(n,t){var i=n.duration(),r=t.time>0?t.time:0,u=!t.color?e:t.color;vjs.Component.call(this,n,{el:vjs.Component.prototype.createEl.call(this,"div",{className:o})});this.el_.style.left=r/i*100+"%";this.el_.style.backgroundColor=u}});i.ready(function(){if(!!r&&r.length>0){f();i.on("loadedmetadata",function(){f()});i.on("durationchange",function(){f()})}})})}(window.amp),function(n){n.plugin("outline",function(n){function h(){t.controlBar.removeClass(i)}function u(n){n.classList.add(s);n.addEventListener("click",h)}function c(){for(var i,r=t.controlBar.el().querySelectorAll(e),n=0;n<r.length;n++)u(r[n]);if(!!f)for(i=t.controlBar.el().querySelectorAll(o),n=0;n<i.length;n++)u(i[n])}function l(){t.controlBar.addClass(i);r||(r=!0,c())}var t=this,f=!!n&&!!n.displayOnMenuItems,e=".vjs-control",o=".vjs-menu-item",i="outline-enabled",s="outline-enabled-control",r=!1;t.ready(function(){t.controlBar.on("keydown",l)})})}(window.amp);amp.AmpSkinPlugin=amp.Component.extend({init:function(n){var t=n.options_.logo,i=!!t&&t.enabled!==undefined?t.enabled:!0,r=!!t&&!!t.opacity?t.opacity:.5,u=!!t&&!!t.horizontalPosition?t.horizontalPosition:"left",f=!!t&&!!t.verticalPosition?t.verticalPosition:"top";n.options_.plugins=amp.obj.merge({logo:{enabled:i,opacity:r,horizontalPosition:u,verticalPosition:f},live:{controlText:"LIVE"},audioTracks:{menuTitle:"Audio Tracks"},closedCaption:{menuTitle:"Closed Captioning"},subtitles:{menuTitle:"Subtitles",offMenuItemLabel:"Off"},quality:{menuTitle:"Quality",selectedItem:0},moreOptions:{controls:["qualityButton","captionsButton","subtitlesButton","audioTracksButton","castToDeviceButton","shareButton","playbackSpeedButton","nextTrackButton","skipForwardButton","fastForwardButton","rewindButton","skipBackwardButton","previousTrackButton"]},controlBarIcons:{leftIcons:["playToggle","previousTrackButton","skipBackwardButton","rewindButton","fastForwardButton","skipForwardButton","nextTrackButton","playbackSpeedButton","liveDisplay"],middleIcons:["liveIndicator","currentTimeDisplay","timeDivider","durationDisplay"],rightIcons:["shareButton","castToDeviceButton","audioTracksButton","subtitlesButton","captionsButton","qualityButton","moreOptionsButton","volumeMenuButton","fullscreenToggle"],removeOtherIcons:!1},outline:{displayOnMenuItems:!0}},n.options_.plugins)}});amp.AmpSkinPlugin.prototype.dispose=function(){};amp.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{volumeBar:{vertical:!0}},playbackRateMenuButton:{},subtitlesButton:{},captionsButton:{},chaptersButton:{},ampSkinPlugin:{}}};vjs.util.getBitrateByUnit=function(n){var t=n+"bps";return n>=1e6?(n=roundToOneDecimal(n/1e6),t=n+"Mbps"):n>=1e3&&(n=vjs.util.roundToOneDecimal(n/1e3),t=n+"Kbps"),t};vjs.util.roundToOneDecimal=function(n){return+(Math.round(n+"e+1")+"e-1")};