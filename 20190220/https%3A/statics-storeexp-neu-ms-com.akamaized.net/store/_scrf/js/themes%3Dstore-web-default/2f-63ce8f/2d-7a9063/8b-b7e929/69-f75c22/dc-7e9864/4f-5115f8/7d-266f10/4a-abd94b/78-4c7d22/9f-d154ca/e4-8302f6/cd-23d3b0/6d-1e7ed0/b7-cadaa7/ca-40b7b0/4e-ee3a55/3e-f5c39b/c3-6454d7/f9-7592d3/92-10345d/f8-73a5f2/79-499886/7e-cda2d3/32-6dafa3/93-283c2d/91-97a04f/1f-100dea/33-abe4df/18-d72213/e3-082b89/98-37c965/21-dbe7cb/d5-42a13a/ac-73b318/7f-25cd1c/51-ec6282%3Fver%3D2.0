function lpBindButton(){function n(){for(var i,n=document.getElementsByClassName("LPMcontainer"),r=n.length,t=r;t--;)i=n[t],i.onclick=function(){lpTag.sdes.push({type:"lead",lead:{topic:"Office365"}})}}isOffice&&lpTag.events.bind("LP_OFFERS","OFFER_DISPLAY",n)}var __extends,lpTag,lpMTagConfig,_lptLoad,lpFlight,enableJsUpdate,liveEngageOffice,isOffice,_requirejs,jsll;define("ajaxWithAnimation",["jqReady!","jsll"],function(n,t){var i=["<div class='c-progress f-indeterminate-","regional","' style='margin:","0","px auto' tabindex='0' role='progressbar'><span><\/span><span><\/span><span><\/span><span><\/span><span><\/span><\/div>"],u=function(t,r){var u=n(t),o,f,e;u.length&&(o=(r.loaderType||"").toUpperCase(),i[1]=o==="PROGRESS"||o==="PROGRESSBAR"?"regional":o==="SPINNERLARGE"?"local f-progress-large f-center":"local f-progress-small",r.margin&&r.margin.length&&(i[3]=r.margin),f=i.join(""),e=(r.loaderPosition||"").toUpperCase(),e==="TOP"||e==="BOTTOM"?(u.addClass("ajaxloader"),e==="BOTTOM"?u.append(f):u.prepend(f)):(u.parent().addClass("ajaxloader"),e==="BEFORE"?u.before(f):u.after(f)))},f=function(t,i){var r=n(t),u;r.length&&(u=(i.loaderPosition||"").toUpperCase(),u!=="TOP"&&u!=="BOTTOM"&&(r=r.parent()),r.removeClass("ajaxloader").children().remove(".c-progress"))},r=function(i){i.refreshElement&&u(i.refreshElement,i);var r=n.extend(i,{serviceName:"OneRFService",serviceType:"WebService",operationName:"OneRFAjax",addCvToRequestHeader:!0});return t.service.post(r).always(function(){f(i.refreshElement,i)})};return n.extend(n,{ajaxWithAnimation:r}),r});define("advancedHistory",["window"],function(n){function f(n,t){var u,f,o,e;if(i)if(u=r[n],u)if(typeof u=="function")u!=t&&(r[n]=[u,t]);else{for(f=!1,e=0;o=u[e];++e)if(o==t){f=!0;break}f||u.push(t)}else r[n]=t}function e(n,t){var u,e,f;if(i&&(u=r[n],u))if(typeof u=="function")u===t&&delete r[n];else for(f=0;e=u[f];++f)if(typeof e=="function"&&e===t){u.splice(f,1);break}}function o(n,r,u,f){if(i){var e={stateType:n,stateObject:r};typeof u=="undefined"?t.pushState(e,f||""):t.pushState(e,f||"",u)}}function s(n,r,u,f){if(i){var e={stateType:n,stateObject:r};typeof u=="undefined"?t.replaceState(e,f||""):t.replaceState(e,f||"",u)}}function h(){i&&t.back()}function c(){i&&t.forward()}function l(n){i&&n&&t.go(n)}function a(){if(i){var n=t.state;if(n)return n.stateType}}function v(){if(i){var n=t.state;if(n&&n.stateType)return n.stateObject}}function y(n){var t,i=n.state,f,e;if(i)t=i.stateType,t&&(f=r[t],f&&(e=i.stateObject,u(f,e)));else for(t in r)u(r[t],null)}function u(n,t){if(typeof n=="function")n(t);else if(n&&n.length>0)for(var i,r=0;i=n[r];++r)typeof i=="function"&&i(t)}var t=n.history,i=!!(t&&t.pushState),r={};return i&&n.addEventListener("popstate",y),{on:f,off:e,push:o,replace:s,back:h,forward:c,go:l,currentType:a,currentState:v,isSupported:i}});define("queryParams",[],function(){function n(n){return n=n.replace(/\+/g," "),decodeURIComponent(n)}function t(n,t,r){if(n.indexOf("?")===-1&&(n.indexOf("http")===0||n.indexOf("=")===-1&&n.indexOf("&")===-1))return{};var u=n.indexOf("?")!==-1?n.split("?")[1]:n;return i(u,t,r)}function i(t,i,r){var f={},s,o;if(t&&t.length)for(t=t.split("#")[0],s=t.split("&"),o=0;o<s.length;o++){var h=s[o].split("="),u=h[0].toLowerCase(),e=h[1];r&&(u=n(u),e&&(e=n(e)));i?(f[u]||(f[u]=[]),f[u].push(e)):f[u]=e}return f}return t});define("ajaxEvent",["jqReady!","document","advancedHistory","queryParams","refreshAjaxModuleTelemetry","jsll","ajaxWithAnimation"],function(n,t,i,r,u,f){function h(t,i,u){var f=null,e,o;return typeof i=="string"&&(f=i.split("?")[0],i=r(i,!0,!0)),f&&f.length||(f=location.href.split("?")[0]),e=n.param(i,!0),o=f+(e&&e.length?"?"+e:""),s(t,o,u||{})}function c(t){var i={ajaxevent:t},s=n("meta[name=MarginTopPixels]").attr("content"),r,u,f,e,o;return s!==undefined&&(i.MarginTopPixels=s),r=n("meta[name=CurrentTheme]").attr("content"),r!==undefined&&(i.CurrentTheme=r),u=n("meta[name=AccentColor]").attr("content"),u!==undefined&&(i.AccentColor=u),f=n("meta[name=X-Flight-Ids]").attr("content"),f!==undefined&&(i["X-Flight-Ids"]=f),e=n("meta[name=X-FD-FEATURES]").attr("content"),e!==undefined&&(i["X-FD-FEATURES"]=e),o=n("meta[name=X-FD-FEATURES-IMP]").attr("content"),o!==undefined&&(i["X-FD-FEATURES-IMP"]=o),i}function l(){var t={},o=n("meta[name=hardware]").attr("content"),i,r,u,f,e;return o!==undefined&&(t.hardware=o),i=n("meta[name=architecture]").attr("content"),i!==undefined&&(t.architecture=i),r=n("meta[name=telemetryId]").attr("content"),r!==undefined&&(t.telemetryId=r),u=n("meta[name=deviceSerialNumber]").attr("content"),u!==undefined&&(t.deviceSerialNumber=u),f=n("meta[name=timeZone]").attr("content"),f!==undefined&&(t.timeZone=f),e=n("meta[name=userinfo]").attr("content"),e!==undefined&&(t.auth=e),t}function s(r,u,e,s){var h={url:u,previousUrl:location.href,event:r,title:t.title,scrollTop:n(t).scrollTop(),options:{complete:null,error:"",loaderPosition:e.loaderPosition,loaderType:e.loaderType,refreshElement:e.refreshElement&&typeof e.refreshElement=="string"?e.refreshElement:null}},a={url:u,dataType:"html",data:n.extend(e.data,l()),additionalHeaders:n.extend(e.additionalHeaders,c(r))};return a=n.extend(a,e),n.ajaxWithAnimation(a).done(function(u){var c=t.URL;v(u,r,e);s||r===o||(i.currentState()||i.push("ajaxEvent",n.extend({},h,{url:h.previousUrl}),h.previousUrl,h.title),i.push("ajaxEvent",h,h.url,h.title));c!==t.URL?f.ct.capturePageView():f.ct.captureContentUpdate();e.complete&&e.complete(u)}).fail(function(){e.error&&e.error()})}function a(t){t&&t.event&&s(t.event,t.url,t.options,!0).done(function(){n("html, body").animate({scrollTop:t.scrollTop},200)})}function v(i,r){var f=n(n.trim(i)),e,h,s;y(f);e=n("head title");e.length&&(t.title=e.text());h=f.find("[data-module-id]");s=[];h.each(function(){var i=n(this),e=i.attr("id"),f=n("[id='"+e+"']"),t;f.length&&(t=n("[data-axp]",f),(t.length||r!==o)&&(t.length?(u(t,i),t.first().after(i.children()),t.parents("section[role=tabpanel]:first").attr("defercomplete","true"),t.remove()):(u(f,i),f.replaceWith(i)),s.push(e),n.each(i[0].attributes,function(n,t){t.name!=="class"&&f.attr(t.name)||f.attr(t.name,t.value)})))});p(f);w(r,s)}function y(t){var i=t.filter("link[rel=stylesheet]");i.length&&i.each(function(){var t=this.getAttribute("href");e[t]||(n("head").append(this),e[t]=!0)})}function p(t){var i=t.filter("script");i.length&&i.each(function(){var f,r,o,s,h,i,u,t;this.text.indexOf("requirejs.config")===0&&(f="requireJsConfig",r=e[f],r&&r.parentNode&&r.parentNode.removeChild(r),o=new RegExp("paths:{(.|\n)*?}"),s=o.exec(this.text),s.forEach(function(n){if(n.indexOf("paths:")===0)return h=n.replace("paths:",""),!1}),u=n("head"),t=JSON.parse(h.replace(/\'/g,'"')),t.redtux!==undefined&&(i='<script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="redtux" src="'+t.redtux+'" crossorigin="anonymous"><\/script>',u.append(i)),t.mwf!==undefined&&(i='<script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="mwf" src="'+t.mwf+'" crossorigin="anonymous"><\/script>',u.append(i)),t.partner!==undefined&&(i='<script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="partner" src="'+t.partner+'" crossorigin="anonymous"><\/script>',u.append(i)),t.platform!==undefined&&(i='<script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="platform" src="'+t.platform+'" crossorigin="anonymous"><\/script>',u.append(i)),e[f]=this)})}function w(n,i){if(n&&i&&i.length){var r=t.createEvent("CustomEvent");r.initCustomEvent("moduleRefreshed",!0,!0,{eventName:n,modules:i});t.dispatchEvent(r)}}var e={},o="DeferredEvent";i.on("ajaxEvent",a);return h});define("fireDeferredEvent",["jqReady!","ajaxEvent","document"],function(n,t,i){var r=!1;return function(u){return r?n.Deferred().reject():(r=!0,t("DeferredEvent",i.URL,u))}});define("refreshAjaxModuleTelemetry",["window"],function(n){var t=n._pageBITags&&n._pageBITags.elementTag?n._pageBITags.elementTag:"data-m";return function(n,i){var r=n&&n.attr(t),u=i&&i.attr(t);if(r!==u&&r&&u){var f=JSON.parse(r),e=JSON.parse(u),o=new RegExp(e.id,"g");i.html(i.get(0).innerHTML.replace(o,f.id));i.attr(t,r)}}});define("deferExec",function(){"use strict";function h(n){for(var t=0;t<n.length;t+=1)Number.isInteger(Number(n[t][1]))?setTimeout(n[t][0],n[t][1]):n[t][0]()}function s(){window._pageTimings||(window._pageTimings={});window._pageTimings.didDeferExecTimeout=e;var n=f;n.length&&(f=[],h(n))}function n(){clearTimeout(o);u=!0;s()}function c(){window.removeEventListener?window.removeEventListener("load",n,!1):window.detachEvent&&window.detachEvent("load",n);r=!0;e=!0;s()}function t(n,i){return u||r?Number.isInteger(Number(i))?setTimeout(n,i):n():f.push([n,i]),t}var i=typeof window!="undefined"&&window.document,r=!i,u=!i,f=[],e=!1,o;return Number.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},i&&(window.addEventListener?window.addEventListener("load",n,!1):window.attachEvent&&window.attachEvent("onload",n),u&&r||(o=setTimeout(c,5e3))),t.load=function(n,i,r,u){u.isBuild?r(null):t(r,n)},t});require(["domReady!","deferExec!"]);define("headData",["evaluate","document"],function(n,t){var r=t.getElementsByTagName("head")[0],i,u,f,e;return r?(i={},u=r.getAttribute("data-js"),u&&(i.jsInfo=n(u)),f=r.getAttribute("data-client-settings"),f&&(i.clientSettings=n(f)),e=r.getAttribute("data-info"),e&&(i.debugInfo=n(e)),i.xdid=r.getAttribute("data-xd-id"),i.locale=t.getElementsByTagName("html")[0].getAttribute("lang").toLowerCase(),i):{}});define("evaluate",function(){return window.JSON&&window.JSON.parse||function(n){return eval("("+n+")")}});require(["jqReady!","document","headData","ajaxEvent","fireDeferredEvent","domReady!"],function(n,t,i,r,u){function c(){var t=n("[data-ajax]");t.each(function(){var i=n(this),t=i.data("ajax"),l,u,f,s,c;if(t&&t.e&&t.e.length&&t.sel&&t.sel.length){l=n(".d_xbox").length>=1;u=!1;i.attr("role")==="region"&&(f=n("#pivot-tab-"+i.attr("id")),f.length&&(i=f,t.sel="#"+i.attr("id")));var e=i.parents("[data-module-id]:first"),r=e.length?e.attr("id"):i.attr("id"),a=e.parents("[data-m]:first").attr("id"),o=t.e;r&&t.pivot==="true"?(s=n("#"+i.attr("aria-controls")),s.length&&(r=s.attr("id"),a=r,t.margin=l?"50":"250"),u=!0):(t.id===1||t.id===!0)&&(o=r+"-"+o);var y=t.sel[0]==="#"?t.sel:"#"+r+" "+t.sel,v=".ajaxevent."+r,h="click"+v;u&&(h+=" focusin"+v);c=t.fireonce==="true"?!0:!1;n("body").on(h,y,function(){var i=t.usebrowserurl==="true"?location.href:n(this).attr("href");return p(o,i,t,r,"#"+a,c),c&&n("body").off(h),!1})}})}function l(n){if(!n)return!1;var i=n.getBoundingClientRect();return i.top<(window.innerHeight||t.documentElement.clientHeight)||i.top<=0}function f(){var t=n(".ajaxplaceholder:visible"),i=t.length;!e&&i&&l(t[0])&&(h(),e=!0)}function a(){f()}function v(){var i=n(".ajaxplaceholder:visible").not(".c-pivot").length;if(i){n(window).on("scroll",f);window.staticOverrideDisableReadyEvent||n(t).ready(a)}}function y(){n(window).off("scroll",f)}function p(t,u,f,e,h,c){f=n.extend({},f,{refreshElement:f.wait?"#"+e+" "+f.wait:"#"+e,loaderType:f.waitind||f.waitInd,loaderPosition:f.waitpos||f.waitPos,margin:f.margin,additionalHeaders:n.extend({},i.debugInfo&&i.debugInfo.bh),data:n.extend({},i.debugInfo&&i.debugInfo.bh)});r(t,u,f).done(function(){c&&s();o(t,e)})}function o(n,i){var u={eventName:n,moduleId:i},r=t.createEvent("CustomEvent");r.initCustomEvent("deferredLoadModuleCompleted",!0,!0,u);t.dispatchEvent(r)}function s(){var t=n("section.c-pivot section[role=tabpanel][defercomplete]");n("[data-axp]",t).removeAttr("data-axp");n("[data-deferredevent]",t).removeAttr("data-deferredevent");t.each(function(){n("body").off("click.ajaxevent."+n(this).attr("id")+" focusin.ajaxevent."+n(this).attr("id"))})}function h(){var t=n(".ajaxplaceholder[data-axp]").length;t&&u({additionalHeaders:n.extend({},i.debugInfo&&i.debugInfo.bh),data:n.extend({},i.debugInfo&&i.debugInfo.bh)}).done(function(){s();o();y()})}var e=!1;n.ajaxPrefilter(function(n,t){(n.dataType=="script"||t.dataType=="script")&&(n.cache=!0)});c();window.staticOverrideDisableScrollEvent||v();n("[data-deferredevent]").length>0&&require(["deferExec!5000"],h)}),function(){require(["trackHelper","jsll"],function(n,t){function e(n,t,i){if(i===void 0&&(i={}),!n||!t)return null;var r;return i.bubbles=typeof i.bubbles=="undefined"?!0:i.bubbles,i.cancelable=typeof i.cancelable=="undefined"?!0:i.cancelable,document.createEvent?(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,i.bubbles,i.cancelable,i)):window.CustomEvent?r=new CustomEvent(t,i):(r=document.createEventObject(),n.fireEvent("on"+t,r)),n.dispatchEvent(r),r}function i(i){var u,f;try{return u=JSON.parse(r.getAttribute("data-m")),u.cN+=" "+i,f=n.extendPageActionContentTags(r),t.utils.extend(u,f)}catch(e){return null}}function o(){var n=$(".msame_Header");n.on("mousedown",function(){u=!0});n.on("keydown",function(){u=!1})}var r=document.getElementById("meControl"),u=!1,f={},s="Drop Down Link",h="Drop Down Open",c="View Account",l="View Rewards",a="Sign In",v="Sign Out";f={events:{onEventLog:function(n,f){var p,y;if(n.indexOf("HeaderReady")>=0&&o(),n.indexOf("DropdownReady")>=0&&(p=document.querySelector(".msame_Drop_content"),!p||(p.setAttribute("data-bi-dnt","true"),p.setAttribute("data-bi-mto","true"))),n.indexOf("MeControl_")>=0&&f&&f.type&&f.type==="bici"&&n.indexOf("Ready")<0){y={targetUri:f.targetUri,behavior:t.behavior.UNDEFINED,actionType:u?"CL":"KE",content:i(s)};switch(n&&n.substring(n.indexOf("_")).toLowerCase()){case"_dropdownopen":y.behavior=t.behavior.EXPAND;y.content=i(h);break;case"_viewaccount":y.content=i(c);break;case"_rewards":y.content=i(l);break;case"_signin":y.behavior=t.behavior.SIGNIN;y.content=i(a);break;case"_signoutall":case"_signout":y.behavior=t.behavior.SIGNOUT;y.content=i(v)}r&&t.ct.capturePageAction(r,y);e(window,"onMeControlClick",{detail:n})}},onSearch:function(n){if(t){var r=n.getElementsByTagName("button")[0],u=n.action+"?"+$(n).serialize(),i=document.getElementById("cli_shellHeaderSearchInput"),f={targetUri:u,behavior:t.behavior.SEARCH,contentTags:{srchq:i?i.value:"",srchtype:"manual"}};t.ct.capturePageAction(r,f)}}}};window.msCommonShell?window.msCommonShell.load(f):window.onShellReadyToLoad=function(){window.onShellReadyToLoad=null;window.msCommonShell.load(f)}})}();__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("multiFlyout",["require","exports","observableComponent","htmlExtensions"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(i){var u=n.call(this,i)||this;return u.element=i,u.updateStoreHour=function(n,t){var u=new Date,f,i;n&&(f=new Date(n.getAttribute("startdate")),i=new Date(n.getAttribute("enddate")),i.setDate(i.getDate()+1),f<=u&&u<=i?(r.css(t,"display","none"),r.css(n,"display","")):(r.css(t,"display",""),r.css(n,"display","none")))},u.firstPageLinkNavigation=function(){r.addClass(u.element,t.pageLinkClass);r.addClass(u.buttonGroupElement,t.buttonGroupClass);r.css(u.flyoutMainPage,"display","none");r.css(u.pageLink1,"display","block");r.css(u.backButton,"display","block");r.css(u.legalText,"display","block");u.updateStoreHour(u.override11,u.storeHours11);u.updateStoreHour(u.override12,u.storeHours12);u.flyoutBody=u.pageLink1},u.secondPageLinkNavigation=function(){r.addClass(u.element,t.pageLinkClass);r.addClass(u.buttonGroupElement,t.buttonGroupClass);r.css(u.flyoutMainPage,"display","none");r.css(u.pageLink2,"display","block");r.css(u.backButton,"display","block");r.css(u.legalText,"display","block");u.updateStoreHour(u.override21,u.storeHours21);u.updateStoreHour(u.override22,u.storeHours22);u.flyoutBody=u.pageLink2},u.thirdPageLinkNavigation=function(){r.addClass(u.element,t.pageLinkClass);r.addClass(u.buttonGroupElement,t.buttonGroupClass);r.css(u.flyoutMainPage,"display","none");r.css(u.pageLink3,"display","block");r.css(u.backButton,"display","block");u.updateStoreHour(u.override31,u.storeHours31);u.updateStoreHour(u.override32,u.storeHours32);u.flyoutBody=u.pageLink3},u.fourthPageLinkNavigation=function(){r.addClass(u.element,t.pageLinkClass);r.addClass(u.buttonGroupElement,t.buttonGroupClass);r.css(u.flyoutMainPage,"display","none");r.css(u.pageLink4,"display","block");r.css(u.backButton,"display","block");u.updateStoreHour(u.override41,u.storeHours41);u.updateStoreHour(u.override42,u.storeHours42);u.flyoutBody=u.pageLink4},u.buttonNavigation=function(){r.css(u.pageLink1,"display")==="block"?r.css(u.pageLink1,"display","none"):r.css(u.pageLink2,"display")==="block"?r.css(u.pageLink2,"display","none"):r.css(u.pageLink3,"display")==="block"?r.css(u.pageLink3,"display","none"):r.css(u.pageLink4,"display")==="block"&&r.css(u.pageLink4,"display","none");r.css(u.legalText,"display","none");r.removeClass(u.element,t.pageLinkClass);r.removeClass(u.buttonGroupElement,t.buttonGroupClass);r.css(u.backButton,"display","none");r.css(u.flyoutMainPage,"display","block")},u.checkvp=function(){var n=r.selectFirstElement("#top-multiflyout");$(window).width()<=540?(r.addClass(n,"c-dialog"),r.addClass(n,"f-flow"),r.removeClass(n,"c-flyout")):(r.addClass(n,"c-flyout"),r.removeClass(n,"c-dialog"),r.removeClass(n,"f-flow"))},u.update(),u}return __extends(t,n),t.prototype.update=function(){this.bodyElement=r.selectFirstElement("body");this.flyoutOpenButton=r.selectFirstElement(".multiflyout-button");this.closeButton=r.selectFirstElement(t.topMultiflyoutId+" .multiflyout-close",this.element);this.backButton=r.selectFirstElement(t.topMultiflyoutId+" .c-call-to-action",this.element);this.flyoutMainPage=r.selectFirstElement(t.topMultiflyoutId+" .c-flyout-page",this.element);this.pageLink1=r.selectFirstElement(t.topMultiflyoutId+" .c-flyout-pagelink-1",this.element);this.pageLink2=r.selectFirstElement(t.topMultiflyoutId+" .c-flyout-pagelink-2",this.element);this.pageLink3=r.selectFirstElement(t.topMultiflyoutId+" .c-flyout-pagelink-3",this.element);this.pageLink4=r.selectFirstElement(t.topMultiflyoutId+" .c-flyout-pagelink-4",this.element);this.legalText=r.selectFirstElement(t.topMultiflyoutId+" .flyout-legaltext",this.element);this.buttonGroupElement=r.selectFirstElement(t.topMultiflyoutId+" .button-group");this.flyoutBody=r.selectFirstElement(t.topMultiflyoutId,this.element);this.pageItem1=r.selectFirstElement(t.topMultiflyoutId+" .item-1-link-1",this.element);this.pageItem2=r.selectFirstElement(t.topMultiflyoutId+" .item-1-link-2",this.element);this.pageItem3=r.selectFirstElement(t.topMultiflyoutId+" .item-1-link-3",this.element);this.pageItem4=r.selectFirstElement(t.topMultiflyoutId+" .item-1-link-4",this.element);this.storeHours11=r.selectFirstElement(t.topMultiflyoutId+" .c_store-hours-1-1",this.element);this.override11=r.selectFirstElement(t.topMultiflyoutId+" .c_o_store-hours-1-1",this.element);this.storeHours12=r.selectFirstElement(t.topMultiflyoutId+" .c_store-hours-1-2",this.element);this.override12=r.selectFirstElement(t.topMultiflyoutId+" .c_o_store-hours-1-2",this.element);this.storeHours21=r.selectFirstElement(t.topMultiflyoutId+" .c_store-hours-2-1",this.element);this.override21=r.selectFirstElement(t.topMultiflyoutId+" .c_o_store-hours-2-1",this.element);this.storeHours22=r.selectFirstElement(t.topMultiflyoutId+" .c_store-hours-2-2",this.element);this.override22=r.selectFirstElement(t.topMultiflyoutId+" .c_o_store-hours-2-2",this.element);this.storeHours31=r.selectFirstElement(t.topMultiflyoutId+" .c_store-hours-3-1",this.element);this.override31=r.selectFirstElement(t.topMultiflyoutId+" .c_o_store-hours-3-1",this.element);this.storeHours32=r.selectFirstElement(t.topMultiflyoutId+" .c_store-hours-3-2",this.element);this.override32=r.selectFirstElement(t.topMultiflyoutId+" .c_o_store-hours-3-2",this.element);this.storeHours41=r.selectFirstElement(t.topMultiflyoutId+" .c_store-hours-4-1",this.element);this.override41=r.selectFirstElement(t.topMultiflyoutId+" .c_o_store-hours-4-1",this.element);this.storeHours42=r.selectFirstElement(t.topMultiflyoutId+" .c_store-hours-4-2",this.element);this.override42=r.selectFirstElement(t.topMultiflyoutId+" .c_o_store-hours-4-2",this.element);r.addEvent(this.flyoutOpenButton,r.eventTypes.click,this.checkvp);r.addEvent(this.closeButton,r.eventTypes.click,this.buttonNavigation);r.addEvent(this.backButton,r.eventTypes.click,this.buttonNavigation);r.addEvent(this.pageItem1,r.eventTypes.click,this.firstPageLinkNavigation);r.addEvent(this.pageItem2,r.eventTypes.click,this.secondPageLinkNavigation);r.addEvent(this.pageItem3,r.eventTypes.click,this.thirdPageLinkNavigation);r.addEvent(this.pageItem4,r.eventTypes.click,this.fourthPageLinkNavigation)},t.prototype.teardown=function(){r.removeEvent(this.closeButton,r.eventTypes.click,this.buttonNavigation);r.removeEvent(this.backButton,r.eventTypes.click,this.buttonNavigation);r.removeEvent(this.pageItem1,r.eventTypes.click,this.firstPageLinkNavigation);r.removeEvent(this.pageItem2,r.eventTypes.click,this.secondPageLinkNavigation);r.removeEvent(this.pageItem3,r.eventTypes.click,this.thirdPageLinkNavigation);r.removeEvent(this.pageItem4,r.eventTypes.click,this.fourthPageLinkNavigation)},t.selector=".flyout-content",t.buttonGroupClass="c-group",t.pageLinkClass="f-pagelink",t.flyoutContentClass=".flyout-content",t.topMultiflyoutId="#top-multiflyout",t}(i.ObservableComponent);t.MultiFlyout=u});require(["multiFlyout","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.MultiFlyout}])});define("defaultFocus",["jqReady!","domReady!"],function(){function o(n){return parseInt(n.getAttribute("tabindex"))>=0?!0:e.indexOf(n.tagName)!==-1?!0:!1}function u(n,t){for(var i,r=0;r<n.children.length;++r)i=n.children[r],o(i)&&(t.top||(t.top=i),t.bottom=i),u(i,t)}function f(n){var f={top:null,bottom:null},t,i,r;u(n,f);t=document.createElement("div");i=document.createElement("div");t.setAttribute("tabindex",0);i.setAttribute("tabindex",0);t.setAttribute("data-tv-prevent-focus",!0);i.setAttribute("data-tv-prevent-focus",!0);t.addEventListener("focus",function(){f.bottom.focus()});i.addEventListener("focus",function(){f.top.focus()});n.insertAdjacentElement("afterbegin",t);n.insertAdjacentElement("beforeend",i);r=10;t.style="width:"+document.documentElement.clientWidth+"px;height:"+r+"px;opacity:0;position:fixed;left:0;top:100px;z-index:9999";i.style="width:"+document.documentElement.clientWidth+"px;height:"+r+"px;opacity:0;position:fixed;left:0;top:"+(document.documentElement.clientHeight-r)+"px;z-index:9999"}function r(n){var u,r,f,i;if(!n)return!1;u=n.querySelectorAll("["+t+"]:not([disabled]):not([hidden])");r=[];for(i in u)u.hasOwnProperty(i)&&r.push(u[i]);for(r=r.sort(function(n,i){var u=parseInt(n.getAttribute(t)),r;return u=isNaN(u)?0:u,r=parseInt(i.getAttribute(t)),r=isNaN(r)?0:r,u-r}),f=!1,i=0;i<r.length;++i)if(r[i].focus(),document.activeElement===r[i]){f=!0;break}return f}var e=["A","BUTTON","IFRAME","INPUT","SELECT","TEXTAREA","X-MS-WEBVIEW"],t="data-focus-rank",n,i=[],s=function(t,u,e,o){if(n&&(n.disconnect(),n=null),t=t||document.body,t===document.body||t===document.documentElement)r(t);else{var s=function(t){if(r(t)){n.disconnect();n=null;u&&f(t);window.WinStoreClient&&window.WinStoreClient.navigateForwardInternally(e,t);return}for(var i=document.activeElement;i&&i.nodeType===Node.ELEMENT_NODE;){if(i===t){n.disconnect();n=null;u&&f(t);window.WinStoreClient&&window.WinStoreClient.navigateForwardInternally(e,t);return}i=i.parentNode}},h=function(n){for(var i,u,r=0;r<n.length;++r)if(i=n[r],i.type==="childList")for(u=0;u<i.addedNodes.length;++u)i.addedNodes[u].nodeType==1&&s(t);else i.type==="attributes"&&i.target.nodeType==1&&s(t)};n=new window.MutationObserver(h);n.observe(t,{childList:!0,attributes:!0,subtree:!0});i.push(o||document.activeElement);s(t)}},h=function(n){for(var t;i.length>0&&t!==document.activeElement;)t=i.pop(),t.focus(),window.WinStoreClient&&window.WinStoreClient.navigateBackwardInternally(n);return t===document.activeElement};return{focus:s,tryRestorePreviousFocus:h,trySetDefaultFocusInContainer:r}});define("targeting",["jqReady!","domReady!"],function(n){function t(){n("body").on("click",function(t){var o=n(t.target),e,s,h;return u(o)&&(e=i(o),typeof e=="string"&&(f(o)?s="click":(h=o.data("m"),s=h&&h.cN||"nonnav"),e=r(e,s),n.ajax(e))),!0})}function i(t){var r=t.parents("[data-target]"),i;if(r.length>0)return i=n(r.get(0)).data("target"),i&&i.trackerUri}function r(n,t){if(!n||!t)return n;var i=encodeURIComponent(t);return n.replace(/click/i,i).replace(/{action}/i,i)}function u(n){return n.is("a, button, form, select, input, [data-js-href]")||n.parents("a, button, [data-js-href]").length>0}function f(n){return n.is("a, [data-js-href]")||n.parents("a, [data-js-href]").length>0}return{setup:t}});require(["targeting"],function(n){n.setup()});require(["jsll","window"],function(n,t){if(t.performance&&performance.mark&&t.requestAnimationFrame){var i=!1,r=function(r){return function(){var s=0,u,f=t.performance.getEntriesByName("frame","mark"),h=[],l=[],e,o,c;if(f&&f.length>0){for(e=0;e<f.length;e++)o=e===0?Math.round(f[0].startTime):Math.round(f[e].startTime-f[e-1].startTime),o=o===16||o===18?17:o,h.push(o.toString(36));for(u=h[0],c=0;c<h.length;c++)u===h[c]?s++:(l.push(s===1?u:s===2?u+";":u+";"+s.toString(36)),s=1,u=h[c]);l.length>0&&(t._pageTimings||(t._pageTimings={}),t._pageTimings.frameMarkerData=l,t._pageTimings.wasPageHidden||(t._pageTimings.wasPageHidden=!1),t._pageTimings.didUserNavigateAway=r,t._pageTimings.frameMarkerBeaconOffset=Math.round(t.performance.now()),n.ct.captureContentUpdate({timings:{frameMarkerData:t._pageTimings.frameMarkerData,wasPageHidden:t._pageTimings.wasPageHidden,didUserNavigateAway:t._pageTimings.didUserNavigateAway,frameMarkerBeaconOffset:t._pageTimings.frameMarkerBeaconOffset}}),i=!0)}}};setTimeout(r(!1),3e4);t.addEventListener("unload",function(){i||r(!0)()})}});require(["jsll","window","domReady!"],function(n,t){function u(){n.ct.captureContentUpdate({timings:t._pageTimings.checkPointMetrics})}var i,r;if(t.performance&&performance.measure&&t.parent===t&&(performance.timing.responseStart&&performance.timing.domInteractive&&(performance.measure("HtmlDuration","responseStart","domInteractive"),performance.getEntriesByName("HeadEnd").length!=0&&(performance.measure("HeadDuration","responseStart","HeadEnd"),performance.measure("BodyDuration","HeadEnd","domInteractive")),performance.getEntriesByName("FooterAreaEnd").length!=0&&performance.measure("PostFooterDuration","FooterAreaEnd","domInteractive")),t._pageTimings||(t._pageTimings={}),t._pageTimings.checkPointMetrics||(t._pageTimings.checkPointMetrics={}),i=performance.getEntriesByType("measure"),i.length!=0)){for(r=0;r<i.length;r++)t._pageTimings.checkPointMetrics[i[r].name]=Math.round(i[r].duration);t._pageTimings.isPaintTimingSupported&&!t._pageTimings.hasFCPFired?setTimeout(u,5e3):u()}});define("msccHelper",["require","exports","htmlExtensions"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){}return n.prototype.setConsent=function(){var n=window.mscc,t;n&&!n.hasConsent()&&(n.setConsent(),t=document.querySelector("header.c-uhfh.context-uhf.f-transparent.js"),t&&t.setAttribute("style","margin-top:0px"))},n.prototype.setAction=function(){var u=i.selectFirstElement(".c-uhfh"),t,r,n;if(u&&(t=u.getAttribute("data-msccaction"),t)){switch(t){case"1":r="https://uhf.microsoft.com/c1.gif";break;case"2":r="https://uhf.microsoft.com/c.gif";break;default:return}n=document.createElement("img");n.setAttribute("src",r);n.id="msccActionId";n.setAttribute("role","none");document.body.appendChild(n)}},n}();t.MsccHelper=r});define("navigationMenus",["require","exports","utility","htmlExtensions","jquery","msccHelper","uhfUtility"],function(n,t,i,r,u,f,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=".c-uhfh",ht=".c-uhfh-actions.no-uhf-actions-exists",nt=".js-global-head",c="#uhf-c-nav",h="#uhf-g-nav",ct="#uhf-l-nav",o=".js-nav-menu",it=".js-subm-uhf-nav-link",a=".f-mobile-title .c-action-trigger.glyph-chevron-left",v=".f-mobile-title .c-action-trigger.glyph-chevron-right",y=".js-global-head .c-action-trigger.glyph-global-nav-button",w="#uhfCatLogoButton",rt="[f-multi-parent=true]",lt="#overflow-menu > div > ul > li > ul > li > button",b=".js-mobile-title",tt=".glyph-shopping-cart",l="aria-expanded",k="ms.interactiontype",ut="aria-hidden",ft="f-opened",et="f-closed",p="f-flip",d="f-current",g=new f.MsccHelper,at=400,ot=10,st="#magicTriangle",vt=".c-sgl-stck",yt=function(){function n(){}return n.refreshFlips=function(){u(" > ul",n.$menus).removeClass(p)},n.closeMenu=function(t,i){var f=t.filter(n.$menus),h=t.filter(n.$multiColumnMenus),o,s,e,c;if(f.length===0)if(h.length>0)n.closeAllOpenMenus(),i&&(o=h.parent(),o.length>0&&(s=u(o.first()).siblings("button"),s.length>0&&s[0].focus()));else return;(e=f.children("button"),e.length!==0)&&(e.attr(l,"false"),f.children("ul").attr(ut,"true"),e.attr(k)!==undefined&&e.attr(k,"14"),i&&e.focus(),u(p,f).removeClass(p),c=r.getDirection()===r.Direction.left?"margin-left":"margin-right",u(" > ul",f).css(c,"").height(""),f.closest("ul").height(""))},n.openMenu=function(t){var o=t.filter(n.$menus),h,e,a,y,w,ot,g,b,d,st;if(o.length!==0&&(h=o.children("button"),h.length!==0)){h.attr(l,"true");o.children("ul").attr(ut,"false");h.focus();h.attr(k)!==undefined&&h.attr(k,"15");var i=o.find("ul").first(),f=i[0].getBoundingClientRect(),c=u(window).width(),v=r.getDirection(),et=v===r.Direction.left?"right":"left";if(o.is(n.$levelTwoMenus))if(e=o.parent("ul"),e.height(""),i.height(""),a=e.height(),y=i.height(),a>y?i.height(a):a<y&&e.height(y),w=v===r.Direction.left&&f.right>c||v===r.Direction.right&&f.left<0,this.isSingleStackEnabled)ot=i.find("ul"),ot.length>0&&(g=c>1399?254:178,w=v===r.Direction.left&&f.right+g>c||v===r.Direction.right&&f.left-g<0),b=u("#overflow-menu-list"),b&&(a=e.height(),d=b.height(),d>a?(i.height(d),e.height(d)):b.height(a)),w?(e.addClass(p),e.find("ul").addClass(p),n.isFlipped=!0):i.hasClass(p)&&(n.isFlipped=!0);else{if(i.hasClass(p)){n.isFlipped=!0;return}w&&(e.find("ul").addClass(p),n.isFlipped=!0)}else if(!n.isMobile()&&o.is(n.$menus.not(n.$levelTwoMenus))){var nt=i[0].offsetWidth,s=0,tt=20,it=v===r.Direction.left?"marginLeft":"marginRight",rt=h.children(".all-ms-nav"),ft=i.hasClass("f-multi-column");ft&&f.right>c?(s=f.right-c,tt=Math.abs(s-f.left)/2,st=rt&&c>1450?100:0,rt&&!n.isSingleStackAndUhfActionsExists?(s=0,it=et):s+=tt-st):ft&&f.left<0?rt&&!n.isSingleStackAndUhfActionsExists?(s=0,it=et):s=-f.left+tt:!ft&&f.left+nt*2>c&&f.right-nt*2<0&&(s=nt-o[0].offsetWidth);i[0].style[it]=-s+"px"}}},n.isOpen=function(n){return n.children("button").attr(l)==="true"},n.toggleMenu=function(t,i){if(n.isOpen(t)){var r=u(o,t).add(t);n.closeMenu(r,i)}else n.closeAllOpenMenus(t.parents()),n.openMenu(t)},n.wasClickFromKeyboard=function(n){return n.keyCode===13},n.isMobile=function(){return this.isSingleStackEnabled?e.STViewports.getViewportSt()<3:i.Viewports.getViewport()<3},n.getOriginalGlobalTitle=function(){return u(s+" "+b).data().globalTitle},n.closeIfBlurred=function(t){!u(t.target).is(".c-uhf-nav-link")&&(u(t.target).parents().is(c+", "+h+", "+ct)||u(t.target).is(""+y)||u(t.target).is(""+w))||(n.isSingleStackEnabled&&n.isMobile()?u(t.target).is(".c-uhf-nav-link")||(u(t.relatedTarget).parents().is(c)?n.toggleHamburgerSt(!0,!0):n.toggleHamburgerSt(!0),u(t.relatedTarget).parents().is(h)?n.toggleCategoryMenuSt(!0,!0):n.toggleCategoryMenuSt(!0)):n.closeAllOpenMenus())},n.handleEscapeCloseMenu=function(t){if(t.keyCode===27&&t.currentTarget===u(t.target).closest(o)[0]){var i=u(t.currentTarget).closest(o);n.isOpen(i)?n.closeMenu(i,!0):n.isSingleStackEnabled&&n.isMobile()?(u(t.target).parents().is(c)?n.toggleHamburgerSt(!0,!0):n.toggleHamburgerSt(!0),u(t.target).parents().is(h)?n.toggleCategoryMenuSt(!0,!0):n.toggleCategoryMenuSt(!0)):n.closeMenu(i.parent().closest(o),!0)}},n.closeOpenSiblingMenusOnFocusChange=function(t){var i=u(t.target).closest(o).first(),r;i.is(n.$menus)&&(r=i.parents(o),n.closeAllOpenMenus(r.add(i)))},n.refreshMenuItems=function(){n.$menus=u(o);n.$levelTwoMenus=u(o+" "+o);n.$multiColumnMenus=u(".f-multi-column "+o);n.handleMoveIntoDesktopViewport();n.$levelTwoMenus.find("button").removeAttr("tabindex")},n.closeAllOpenMenus=function(t){n.closeMenu(u(' > [aria-expanded="true"]',n.$menus).parent().not(t))},n.initShowMagicTriangle=function(){if(n.showMagicTriangle===!0&&u(st).length===0){u(h).attr("style","opacity:0.90;z-index:999");u(h).find("ul").attr("style","opacity:0.90");u(c).attr("style","opacity:0.90;z-index:999");u(c).find("ul").attr("style","opacity:0.90");var t='<svg style="height:100%;width:100%;position:absolute;left:0;top:0;background:#fffff0;opacity:0.4;z-index:100">';t+='<polygon id="magicTriangle" points="0,0 0,0 0,0" style="fill:gray;"><\/polygon>';t+="<\/svg>";u("body").prepend(t)}},n.init=function(){(u(document).documentMode||/Edge/.test(navigator.userAgent))&&u(s+" ul:hidden").each(function(){u(this).parent().append(u(this).detach())});u(s).addClass("js").on("keyup",n.menuSelector,n.handleEscapeCloseMenu);n.originalMobileTitle=u(b).text();n.$menus=u(o);n.$levelTwoMenus=u(o+" "+o);n.$multiColumnMenus=u(".f-multi-column "+o);n.pageDirection=r.getDirection();u(""+s+vt).length>0&&(n.isSingleStackEnabled=!0);n.isMenuInitialized=!0;n.isSingleStackAndUhfActionsExists=n.isSingleStackEnabled&&u(ht).length===0},n.clearCustomMenuHeights=function(){u(" > ul[style]",n.$menus).height("")},n.handleMoveIntoDesktopViewport=function(){n.isInMobileViewPort=!1;n.openMenu(n.$multiColumnMenus);n.clearCustomMenuHeights();n.$multiColumnMenus.children("button").attr("tabindex",-1);n.$menus=n.$menus.not(n.$multiColumnMenus);n.$levelTwoMenus=n.$levelTwoMenus.not(n.$multiColumnMenus);u("body").removeClass("body-overflow");u(rt).attr("role","presentation");u(lt).removeAttr("role");n.isSingleStackEnabled?(n.toggleHamburgerSt(!0),n.toggleCategoryMenuSt(!0),u(y).off("click",n.handleHamburgerClickST),u(w).off("click",n.handleCategoryMenuClickSt),u(s).off("click",n.handleMobileMenuClickSt),u(document).off("click",n.closeIfBlurred)):u("#meControl").show();u(".js-cat-head").show();u(c).show();u(h).show();u(s+" .c-search").show();u(s+" "+tt).show();u(document).off("click",n.closeIfBlurred).on("click",n.closeIfBlurred);u(document).off("focusin",n.closeIfBlurred).on("focusin",n.closeIfBlurred);u(y).off("click",n.toggleHamburger);u(a).off("click",n.handleMobilePrimaryButton);u(v).off("click",n.handleMobileSecondaryButton);u(s).off("click",n.handleMobileMenuClick).off("click",n.handleDesktopMenuClick).on("click",n.handleDesktopMenuClick).off("focusin",n.closeOpenSiblingMenusOnFocusChange).on("focusin",n.closeOpenSiblingMenusOnFocusChange).off("touchstart",n.setTouched).on("touchstart",n.setTouched).off("pointerenter",n.setTouchedIfPointer).on("pointerenter",n.setTouchedIfPointer).off("mouseout",n.handleDesktopMenuMouseLeave).on("mouseout",n.handleDesktopMenuMouseLeave);if(n.resetTitleMobileText(),n.closeAllOpenMenus(),u(s).data("magict")===!0&&(n.isMagicTriangleEnabled=!0),n.isMagicTriangleEnabled&&u(s).data("showmagict")===!0&&(n.showMagicTriangle=!0,n.initShowMagicTriangle()),n.isMagicTriangleEnabled)u(o+" "+o).off("mousemove",n.handleDesktopMenuMouseEnter).on("mousemove",n.handleDesktopMenuMouseEnter);else u(s).off("mouseover",n.handleDesktopMenuMouseEnter).on("mouseover",n.handleDesktopMenuMouseEnter)},n.setTouchedIfPointer=function(t){t&&t.originalEvent.pointerType==="touch"&&n.setTouched()},n.setTouched=function(){n.wasTouched=!0},n.handleDesktopMenuClick=function(t){var i,r;if(u(t.target).is(it)){n.closeAllOpenMenus();return}t.target.tagName!=="A"&&(i=u(t.target).closest(o),i.is(n.$menus))&&((t.preventDefault(),u("> a, > button",i).hasClass("f-hidden"))||(g.setConsent(),r=n.wasClickFromKeyboard(t),n.toggleMenu(i,r)))},n.calcTriangleArea=function(n,t,i){return Math.abs((n.x*(t.y-i.y)+t.x*(i.y-n.y)+i.x*(n.y-t.y))/2)},n.isMagicTriangleMenu=function(t){return!!n.$prevMenu&&t[0]===n.$prevMenu[0]},n.isPointInMagicTriangle=function(){var t=n.calcTriangleArea(n.pointA,n.pointB,n.pointC),i=n.calcTriangleArea(n.pointA,n.pointB,n.currentPoint),r=n.calcTriangleArea(n.pointB,n.pointC,n.currentPoint),u=n.calcTriangleArea(n.pointC,n.pointA,n.currentPoint);return t!==0&&t===i+r+u},n.resetMagicTriangle=function(t){t===void 0&&(t=!0);n.clearMagicTriangleTimer();n.isMagicTriangleSet=!1;t&&(n.pointA={x:0,y:0},n.pointB={x:0,y:0},n.pointC={x:0,y:0},n.renderMagicTriangle(),n.$prevMenu=undefined)},n.renderMagicTriangle=function(){if(n.showMagicTriangle){var t=n.pointA.x+","+n.pointA.y;t+=" "+n.pointB.x+","+n.pointB.y;t+=" "+n.pointC.x+","+n.pointC.y;u(st).attr("points",t)}},n.setupMagicTriangle=function(t){n.setFirstPointOfTriangle();var i=t[0].getBoundingClientRect();!n.isFlipped&&n.pageDirection===r.Direction.left||n.isFlipped&&n.pageDirection===r.Direction.right?(n.pointB={x:i.left+window.pageXOffset,y:i.top+window.pageYOffset},n.pointC={x:i.left+window.pageXOffset,y:i.bottom+window.pageYOffset}):(n.pointB={x:i.right+window.pageXOffset,y:i.top+window.pageYOffset},n.pointC={x:i.right+window.pageXOffset,y:i.bottom+window.pageYOffset});n.isMagicTriangleSet=!0;n.renderMagicTriangle()},n.clearMagicTriangleTimer=function(){clearTimeout(n.magicTriangleTimer);n.$timerTargetMenu=undefined},n.delayToggleMagicTriangleMenus=function(t){n.$timerTargetMenu&&t[0]===n.$timerTargetMenu[0]||(n.clearMagicTriangleTimer(),n.$timerTargetMenu=t,n.magicTriangleTimer=setTimeout(n.toggleMagicTriangleMenus,at,t))},n.haveMenuItems=function(n){return u(n.find("ul").first()).length!==0},n.toggleMagicTriangleMenus=function(t){var i=!1,r=n.isOpen(t),u;(r||(n.$prevMenu?(n.closeMenu(n.$prevMenu),n.$prevMenu=undefined):i=!0),n.haveMenuItems(t))&&(i&&n.closeAllOpenMenus(t.parents(o)),u=t.find("ul").first(),r||(n.isFlipped=!1,n.openMenu(t)),n.setupMagicTriangle(u),n.$prevMenu=t)},n.setFirstPointOfTriangle=function(){n.pointA=n.currentPoint;!n.isFlipped&&n.pageDirection===r.Direction.left||n.isFlipped&&n.pageDirection===r.Direction.right?n.pointA.x-=ot:n.pointA.x+=ot},n.isPrevMenuSibling=function(t){return!!n.$prevMenu&&t.siblings().is(n.$prevMenu)},n.processMagicTriangle=function(t,i){n.currentPoint={x:t.pageX,y:t.pageY};n.isMagicTriangleSet?n.isMagicTriangleMenu(i)?(n.clearMagicTriangleTimer(),n.setFirstPointOfTriangle(),n.showMagicTriangle&&u(t.target.nextElementSibling).is("ul")&&n.renderMagicTriangle()):n.isPrevMenuSibling(i)?n.isPointInMagicTriangle()?n.delayToggleMagicTriangleMenus(i):n.resetMagicTriangle(!1):n.resetMagicTriangle():n.toggleMagicTriangleMenus(i)},n.handleDesktopMenuMouseEnter=function(t){if(!n.isInMobileViewPort){var i=u(t.target).closest(o);if(n.wasTouched||!i.is(n.$levelTwoMenus))return;n.isMagicTriangleEnabled?n.processMagicTriangle(t,i):(n.closeAllOpenMenus(i.parents()),n.openMenu(i))}},n.handleDesktopMenuMouseLeave=function(t){var i=u(t.target).closest(o);n.wasTouched||!i.is(n.$levelTwoMenus)||i[0]&&i[0].contains(t.relatedTarget)||(n.isMagicTriangleEnabled?t.relatedTarget&&u(t.relatedTarget).closest(o).is(n.$levelTwoMenus)||(n.currentPoint={x:t.pageX,y:t.pageY},n.isPointInMagicTriangle()||(n.haveMenuItems(i)?n.closeMenu(i):i.parents(o).length>1&&n.closeMenu(u(i.parents(o).first()))),n.resetMagicTriangle()):n.closeMenu(i))},n.handleMobileMenuClick=function(t){var i,r;if(u(t.target).is("nav a")){n.toggleHamburger();return}(i=u(t.target).closest(o),i.is(n.$menus)&&!n.isOpen(i))&&(r=u(t.target).text(),n.setTitleMobileText(r),u(a).show(),u(v).hide(),n.openMenu(i))},n.handleMobileMenuClickSt=function(t){var i,r;if(u(t.target).is("nav a")){n.toggleHamburgerSt(!0);n.toggleCategoryMenuSt(!0);return}(i=u(t.target).closest(o),i.is(n.$menus))&&(n.isOpen(i)?(r=i.add(i.find(o+" [aria-expanded='true']").parent()),n.closeMenu(r)):n.openMenu(i))},n.handleMoveIntoMobileViewport=function(){if(n.isInMobileViewPort=!0,n.$menus=n.$menus.add(n.$multiColumnMenus),n.$multiColumnMenus.children("button").attr("tabindex",null),u(s).off("touchstart",n.setTouched).off("pointerenter",n.setTouchedIfPointer).off("mouseout",n.handleDesktopMenuMouseLeave).off("click",n.handleDesktopMenuClick).off("focusin",n.closeOpenSiblingMenusOnFocusChange),u(document).off("click",n.closeIfBlurred),u(document).off("focusin",n.closeIfBlurred),n.isMagicTriangleEnabled?u(o+" "+o).off("mousemove",n.handleDesktopMenuMouseEnter):u(s).off("mouseover ",n.handleDesktopMenuMouseEnter),n.isMagicTriangleEnabled=!1,n.showMagicTriangle=!1,u(v).hide(),u(rt).removeAttr("role"),u(c).hide(),u(h).hide(),u(y).attr(l,"false"),u(s+" .c-search").show(),u(s+" "+tt).show(),n.isSingleStackEnabled){u(y).off("click",n.handleHamburgerClickST).on("click",n.handleHamburgerClickST);u(w).off("click",n.handleCategoryMenuClickSt).on("click",n.handleCategoryMenuClickSt);u(s).off("click",n.handleMobileMenuClickSt).on("click",n.handleMobileMenuClickSt);u(document).on("click",n.closeIfBlurred).on("focusin",n.closeIfBlurred);n.toggleHamburgerSt(!0);n.toggleCategoryMenuSt(!0)}else{u("#meControl").hide();u(nt).addClass(et).removeClass(ft);u(y).off("click",n.toggleHamburger).on("click",n.toggleHamburger);u(a).off("click",n.handleMobilePrimaryButton).on("click",n.handleMobilePrimaryButton);u(v).off("click",n.handleMobileSecondaryButton).on("click",n.handleMobileSecondaryButton);u(s).off("click",n.handleMobileMenuClick).on("click",n.handleMobileMenuClick);n.closeAllOpenMenus()}},n.setTitleMobileText=function(n){u(b).text(n)},n.hasCategoryMenu=function(){return u(c).length>0},n.hasGlobalNavItems=function(){return u(h).length>0},n.resetTitleMobileText=function(){var i=u(b),t=n.originalMobileTitle;t?i.text(t):n.originalMobileTitle=this.getOriginalGlobalTitle()},n.handleMobilePrimaryButton=function(){var r=u(' > [aria-expanded="true"]',n.$menus),t,i;r[0]?(t=r.last().parent(o),n.closeMenu(t),i=!u(' > [aria-expanded="true"]',n.$menus)[0],i&&!u(c).is(":visible")?(u(a).hide(),n.hasCategoryMenu()&&u(v).show(),n.setTitleMobileText(n.getOriginalGlobalTitle())):i&&u(c).is(":visible")?(n.resetTitleMobileText(),n.hasGlobalNavItems()||u(a).hide()):n.setTitleMobileText(t.parents(o).first().children("button").first().text())):(u(c).hide(),u(h).show(),u(a).hide(),n.hasCategoryMenu()&&u(v).show(),n.setTitleMobileText(n.getOriginalGlobalTitle()))},n.handleMobileSecondaryButton=function(){u(h).hide();u(c).show();u(a).show();u(v).hide();n.resetTitleMobileText()},n.toggleHamburger=function(){var t=u(y),i="#meControl, "+c+", "+h,r=s+" .c-search,\n                "+s+" "+tt;t.attr(l)==="false"?(u(nt).addClass("f-opened").removeClass("f-closed"),u(r).hide(),u(i).show(),u("body").addClass("body-overflow"),t.attr(l,"true"),n.hasCategoryMenu()&&n.hasGlobalNavItems()?(u(a).show(),u(v).hide(),u(h).hide()):u(a+", "+v).hide()):(u(nt).removeClass(ft).addClass(et),u(r).show(),u(i).hide(),u("body").removeClass("body-overflow"),t.attr(l,"false"));n.isSingleStackEnabled||(n.resetTitleMobileText(),n.closeAllOpenMenus());g.setConsent()},n.handleHamburgerClickST=function(){n.toggleHamburgerSt()},n.toggleHamburgerSt=function(t,i){t===void 0&&(t=!1);i===void 0&&(i=!1);var f=u(y),e=u(w),r=c;u(r).length===0&&(r=h);t||f.attr(l)==="true"?(u(r).hide(),f.attr(l,"false"),e.length!==0&&e.removeAttr("style"),n.closeAllOpenMenus(),i&&f.focus(),r===c&&u(r+" .c-button-logo + .f-multi-column").attr("aria-hidden","true")):((r!==h||u(w).attr(l)==="true")&&n.toggleCategoryMenuSt(!0),f.attr(l,"true"),e.length!==0&&e.attr("style","display: none !important"),u(r).show(),r===c?(u(r+" .c-button-logo + .f-multi-column").attr("aria-hidden","false"),u(r+" .c-button-logo + .f-multi-column").find("button,a").first().focus()):u(r).find("button, a").first().focus());t||g.setConsent()},n.handleCategoryMenuClickSt=function(){n.toggleCategoryMenuSt()},n.toggleCategoryMenuSt=function(t,i){t===void 0&&(t=!1);i===void 0&&(i=!1);var r=u(w);t||r.attr(l)==="true"?(u(h).hide(),r.attr(l,"false"),n.closeAllOpenMenus(),i&&r.focus()):(u(y).attr(l)==="true"&&n.toggleHamburgerSt(!0),r.attr(l,"true"),u(h).show(),u(h).find("button,a").first().focus());t||g.setConsent()},n.resetNavHighlight=function(n){r.removeClass(r.selectElements("."+d,n),d)},n.setCurrentMenuItemId=function(t){var i=null,f=r.selectFirstElement(s);try{i=r.selectFirstElement("#"+t,f)}catch(e){return}i&&(n.resetNavHighlight(f),r.addClass(i,d),u(i).parents("ul").siblings("button").addClass(d))},n.isMenuInitialized=!1,n.wasTouched=!1,n.isMagicTriangleEnabled=!1,n.showMagicTriangle=!1,n.isSingleStackEnabled=!1,n.isInMobileViewPort=!1,n.isMagicTriangleSet=!1,n.isFlipped=!1,n.currentPoint={x:0,y:0},n.pointA={x:0,y:0},n.pointB={x:0,y:0},n.pointC={x:0,y:0},n.mobilePrimaryButtonSelector=a,n.globalNavSelector=h,n.categoryNavSelector=c,n.mobileSecondaryButtonSelector=v,n.mobileTitleSelector=b,n.menuSelector=o,n.subMenuLinkSelector=it,n.uhfSelector=s,n.originalMobileTitle="",n.isSingleStackAndUhfActionsExists=!0,n}();t.NavigationMenus=yt});define("shoppingCart",["require","exports","jquery","htmlExtensions"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u="x-hidden",f=function(){function n(){if(this.shoppingCartFrame=document.getElementById(n.shoppingCartFrameId),!this.shoppingCartFrame)return null;var t=this.shoppingCartFrame.getAttribute("data-src");!t||this.shoppingCartFrame.setAttribute("src",t);i(window).on("message onmessage",this.handleEvent)}return n.setTelemetryAttr=function(n,t,r,u){var e=i(n).attr(t),f;if(e){f=undefined;try{if(f=JSON.parse(e),!f)return;f[r]=u}catch(o){return}i(n).attr(t,JSON.stringify(f))}},n.prototype.handleEvent=function(t){var s=t.originalEvent.data,f="0",c="qtyincart",l="data-m",e=r.selectFirstElement(n.shoppingCartCountSelector),o=r.selectFirstElement(n.shoppingCartLabel),h,a;if(s&&s.split&&e&&(h=s.split("="),h[0]==="DR_Cart_Count")){if(f=h[1],f==="0"){r.addClass(e,u);o&&r.removeClass(o,u);n.setTelemetryAttr(n.shoppingCartAnchorId,l,c,f);return}o&&r.addClass(o,u);r.removeClass(e,u);e.innerText=f;a=i(n.shoppingCartAnchorId).attr("title").replace(/\d+/,f);i(n.shoppingCartAnchorId).attr("title",a);n.setTelemetryAttr(n.shoppingCartAnchorId,l,c,f)}},n.shoppingCartFrameId="shell-cart-count",n.shoppingCartCountSelector=".shopping-cart-amount",n.shoppingCartAnchorId="#uhf-shopping-cart",n.shoppingCartLabel=".c-cart-lbl",n}();t.ShoppingCart=f});__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("uhfAutoSuggest",["require","exports","autosuggest","htmlExtensions","utility","uhfTelemetryHelper","stringExtensions"],function(n,t,i,r,u,f,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={hideNoResults:!0},s=function(n){function t(){var i=n.call(this,r.selectFirstElement(t.autoSuggestSelector),o)||this,h,s;if(i.latestTimestampReceived=0,i.autoSuggestCallback=function(n){var t=window.msCommonShell&&window.msCommonShell.as,u={telemetryType:"jsll",event:"KE",trackType:"searchInitiate",srchq:n.pattern},r;f.trackEvent(u);t&&t.callback?t.callback({text:n.pattern,response:i.updateSuggestions}):t&&t.legacyCallback?t.legacyCallback({text:n.pattern,response:i.mapLegacyCallback}):t&&t.ussAPIParams&&t.ussAPIParams.clientId&&t.ussAPIParams.sources?(t.ussAPIParams.query=n.pattern,t.ussAPIParams.market=t.ussAPIParams.market||i.params.market,r=i.autoSuggestUrl+"?"+$.param(t.ussAPIParams),i.ajaxCall(r,i.updateSuggestions)):i.params&&i.params.clientId&&i.params.sources&&(i.params.query=n.pattern,r=i.autoSuggestUrl+"?"+$.param(i.params),i.ajaxCall(r,i.updateSuggestions))},i.suggestionSelectedCallback=function(n){if(n&&n.suggestion&&n.suggestionType){try{f.fireBeacon(n.suggestion.firstChild.getAttribute("iris-onclick-url"))}catch(r){}if(event.type&&i.telemetryType){var t={trackType:"autosuggest",telemetryType:i.telemetryType,event:event.type==="click"?"CL":"KE",title:n.suggestion.title,suggestionType:n.suggestionType,aslinkpos:n.aslinkpos,qrylngth:n.qrylngth,resultselected:n.resultselected,srchq:n.srchq};f.trackEvent(t)}}},i.mapLegacyCallback=function(n){for(var t,r=[],u=0,f=n.suggestions;u<f.length;u++)t=f[u],t.image&&t.title?r.push({type:"product",value:{title:t.title,targetUrl:t.target,imageSrc:t.image}}):t.title&&r.push({type:"string",value:t.title});i.updateSuggestions(r)},i.ajaxCall=function(n,t){var u=Date.now(),r=new XMLHttpRequest,f=i;r.open("GET",n,!0);r.onreadystatechange=function(){if(this.readyState===4&&this.status>=200&&this.status<400)try{f.processJsonData(u,JSON.parse(this.responseText),t)}catch(n){}};r.send();r=null},i.responseHandlers={Term:function(n){var t=[];return i.telemetryType==="wedcs"&&t.concat(i.getWedcsAttributes(n.Txt)),{type:"string",value:n.Txt,attributes:t}},Product:function(n){for(var r,a,s=null,u=[],h=!1,c=null,o=0,l=n.Metas;o<l.length;o++){if(r=l[o],r.Key==="AppBgColor"){s=r.Value;continue}if(r.Key==="IrisBiClickBeacon"){h=!0;u.push({name:"iris-onclick-url",value:r.Value});continue}if(r.Key==="BigCatalogId"){c=r.Value;continue}if(r.Key==="IrisBiImpressionBeacon"){f.fireBeacon(r.Value);continue}}return i.telemetryType==="wedcs"&&u.concat(i.getWedcsAttributes(n.Title)),a=h&&!e.isNullOrWhiteSpace(n.Source)?n.Source:i.familyNames[n.Source],{type:"product",value:{title:n.Title,category:a,backgroundColor:s,imageSrc:t.transformImageUrl(n.ImageUrl),targetUrl:n.Url,isImageRound:n.Source==="MusicArtists"||n.Source==="VideoActor",pid:c},attributes:u}}},i.configurationElement=r.selectFirstElement(t.configElementSelector),i.configurationElement){i.autoSuggestUrl=i.configurationElement.getAttribute(t.apiUrlAttribute);h=r.selectFirstElement("["+t.telemetryAttribute+"]",i.configurationElement);!h||(i.telemetryType=h.getAttribute(t.telemetryAttribute));s=void 0;try{s=u.parseJson(i.configurationElement.getAttribute(t.configDataAttribute))}catch(c){}i.autoSuggestUrl&&s&&s.queryParams&&(i.params=s.queryParams,i.familyNames=s.familyNames);i.subscribe({onMatchPatternChanged:i.autoSuggestCallback,onSuggestionSelected:i.suggestionSelectedCallback})}return i}return __extends(t,n),t.transformImageUrl=function(n){return n&&n.indexOf(t.badImageDomain)===0?n.replace(t.badImageDomain,t.goodImageDomain):n},t.prototype.processJsonData=function(n,t,i){var r,f,h,u,e,c,s,l,o;if(t&&t.ResultSets&&!(n<this.latestTimestampReceived)){for(this.latestTimestampReceived=n,r=[],f=0,h=t.ResultSets;f<h.length;f++)if(u=h[f],u.Source.toLowerCase().indexOf("-terms")!==-1)for(e=0,c=u.Suggests;e<c.length;e++)o=c[e],r.push(this.responseHandlers.Term(o));else if(u.Source.toLowerCase().indexOf("-products")!==-1)for(s=0,l=u.Suggests;s<l.length;s++)o=l[s],r.push(this.responseHandlers.Product(o));r&&i(r)}},t.prototype.getWedcsAttributes=function(n){var t=[];return n.length>0&&(t.push({name:"ms.title",value:n}),t.push({name:"ms.cmpnm",value:n}),t.push({name:"ms.cn",value:n})),t},t.autoSuggestSelector="#universal-header-search-auto-suggest-transparent",t.configElementSelector=".js-global-head .c-search",t.configDataAttribute="data-seautosuggest",t.apiUrlAttribute="data-seautosuggestapi",t.telemetryAttribute="data-tel",t.badImageDomain="//compass.",t.goodImageDomain="https://compass-ssl.",t}(i.AutoSuggest);t.UhfAutoSuggest=s});__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("uhfCookieAlert",["require","exports","htmlExtensions","utility","publisher"],function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(t){var u=n.call(this,t)||this,f;return(u.cookieAlertElement=t,u.closeSelector="button.c-action-trigger.glyph-cancel",u.cookieName="uhf_hide_cn",u.hiddenClass="x-hidden",u.msccCookieName="MSCC",u.getHeight=function(){return u.cookieAlertElement?i.getClientRect(u.cookieAlertElement).height:0},u.closeAndSetCookie=function(){r.setCookie(u.cookieName,"true","/",365);i.addClass(u.cookieAlertElement,u.hiddenClass);u.initiatePublish({height:u.getHeight()})},!t||!(r.getCookie(u.cookieName)!=="true")||r.getCookie(u.msccCookieName)!==null)?u:(i.removeClass(u.cookieAlertElement,u.hiddenClass),f=i.selectFirstElement(u.closeSelector,t),i.addEvent(f,i.eventTypes.click,u.closeAndSetCookie),u)}return __extends(t,n),t.prototype.publish=function(n,t){n.onBannerClosed(t)},t}(u.Publisher);t.UhfCookieAlert=f});define("uhfCookieAuditor",["require","exports","htmlExtensions","stringExtensions","uhfTelemetryHelper"],function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f;(function(n){function t(){try{var n=i.selectFirstElement(".c-uhfh").getAttribute("data-ckrate");return Math.random()<parseFloat(n)}catch(t){return!1}}function f(){if(t()&&window.btoa&&Array.prototype.map){var n=window.btoa(document.cookie.split(";").map(function(n){return r.trim(n.substr(0,n.indexOf("=")))}).sort().join(";")),i="https://uhf.microsoft.com/_log?c="+n+"&h="+window.location.hostname;u.fireBeacon(i)}}n.audit=f})(f=t.UhfCookieAuditor||(t.UhfCookieAuditor={}))});define("uhfGreenId",["require","exports","htmlExtensions","stringExtensions"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){}return n.prototype.createGreenIdIframe=function(){var t=i.selectFirstElement("#uhf-footer"),u=window.mscc,n;if(t!==null){n=document.createElement("iframe");n.id="uhfGreenId";n.setAttribute("role","none");var f=t.getAttribute("data-uhf-green-id"),e=t.getAttribute("data-uhf-mscc-rq"),o="https://fpt.microsoft.com/tags?session_id="+f;n.src=o;r.isNullOrWhiteSpace(f)||(!r.isNullOrWhiteSpace(e)&&e==="false"||typeof u=="undefined"||u.hasConsent())&&document.body.appendChild(n)}},n}();t.UhfGreenId=u});define("uhfKeyboardNavigationMenu",["require","exports","navigationMenus","uhfKeyboardNavigationSubMenu","htmlExtensions","jquery"],function(n,t,i,r,u,f){"use strict";var y;Object.defineProperty(t,"__esModule",{value:!0});var o=u.selectFirstElement(".c-uhfh.c-sgl-stck #uhfLogo"),s=u.selectFirstElement(".c-uhfh.c-sgl-stck #uhfCatLogo"),h=u.selectFirstElement(".c-uhfh.c-sgl-stck .all-ms-nav"),c=u.selectFirstElement(".c-uhfh.c-sgl-stck #search"),a=u.selectFirstElement(".c-uhfh.c-sgl-stck #uhf-shopping-cart"),v=u.selectFirstElement(".c-uhfh.c-sgl-stck #uhf-shopping-cart .c-cart-lbl"),l=u.selectFirstElement(".c-uhfh.c-sgl-stck #language-selector"),p=u.selectFirstElement(".c-uhfh.c-sgl-stck .c-uhfh-gnav > ul"),e=function(){function n(n,t){var r=this;this.isMenubarItem=!1;this.isMultiColumnItem=!1;this.initializeMenus=function(){i.NavigationMenus.init();i.NavigationMenus.handleMoveIntoDesktopViewport();!r.menuElement||u.removeEvent(r.menuElement,u.eventTypes.click,r.initializeMenus)};this.handleMenuBarKeydown=function(n){if(!i.NavigationMenus.isMobile()){var f=n.key,t=!1;switch(n.keyCode){case 32:case 13:case 40:i.NavigationMenus.closeAllOpenMenus();r.subMenu&&(i.NavigationMenus.handleDesktopMenuClick(n),r.subMenu.setFocusToFirstItem(),t=!0);break;case 37:i.NavigationMenus.closeAllOpenMenus();i.NavigationMenus.pageDirection===u.Direction.left?r.menu.setFocusToPreviousItem(r):r.menu.setFocusToNextItem(r);t=!0;break;case 39:i.NavigationMenus.closeAllOpenMenus();i.NavigationMenus.pageDirection===u.Direction.right?r.menu.setFocusToPreviousItem(r):r.menu.setFocusToNextItem(r);t=!0;break;case 38:i.NavigationMenus.closeAllOpenMenus();r.subMenu&&(i.NavigationMenus.handleDesktopMenuClick(n),r.subMenu.setFocusToLastItem(),t=!0);break;case 36:i.NavigationMenus.closeAllOpenMenus();r.menu.setFocusToFirstItem();t=!0;break;case 35:i.NavigationMenus.closeAllOpenMenus();r.menu.setFocusToLastItem();t=!0;break;case 27:i.NavigationMenus.closeAllOpenMenus();i.NavigationMenus.handleEscapeCloseMenu(n);break;default:r.isPrintableCharacter(f)&&(r.menu.setFocusByFirstCharacter(r,f),t=!0)}if(t){n.stopPropagation();switch(n.keyCode){case 40:case 38:case 37:case 39:case 35:case 36:n.preventDefault()}}}};this.menu=t;this.domNode=n;this.isMenubarItem=!0}return n.prototype.init=function(n){this.menuElement=u.selectElements(".c-uhf-menu");!this.menuElement||this.initializeMenus();f(this.domNode).off("keydown");f(this.domNode).on("keydown",this.handleMenuBarKeydown);if(n){var t=this.domNode.nextElementSibling;t&&t.tagName==="UL"&&t.childElementCount>0&&(this.subMenu=new r.SubMenu(t,this),this.subMenu.init(this.isMultiColumnItem))}},n.prototype.isPrintableCharacter=function(n){return n.length===1&&n.match(/\S/)},n.prototype.setExpanded=function(n){n?this.domNode.setAttribute("aria-expanded","true"):this.domNode.setAttribute("aria-expanded","false")},n.prototype.setMultiColumnExpanded=function(n){var t="false",i;t=n?"true":"false";u.hasClass(this.domNode.nextElementSibling,"f-multi-column")&&(i=u.selectElements("button[f-multi-parent=true]",this.domNode.nextElementSibling),i.forEach(function(n){n.setAttribute("aria-expanded",t)}),this.domNode.setAttribute("aria-expanded",t))},n}();t.MenubarItem=e;y=function(){function n(){this.isMenubar=!1;this.isMenubar=!0;this.menubarItems=[];this.firstChars=[];this.firstItem=null;this.lastItem=null}return n.prototype.init=function(){var n,r,t,y,b;o&&(n=new e(o,this),n.init(!1),this.menubarItems.push(n),t=o.textContent.trim(),this.firstChars.push(t.substring(0,1).toLowerCase()));s&&(n=new e(s,this),n.init(!1),this.menubarItems.push(n),t=s.textContent.trim(),this.firstChars.push(t.substring(0,1).toLowerCase()));for(var i=u.selectFirstElement(".uhf-menu-item",p),f=!1,w=!1;i;)f=!1,w=!1,r=null,u.hasClass(i,"single-link")?r=u.selectFirstElement(".c-uhf-nav-link",i):(u.hasClass(i,"nested-menu")||u.hasClass(i,"overflow-menu"))&&(b=u.selectFirstElement("ul",i),f=u.hasClass(b,"f-multi-column"),b.childElementCount>0&&(r=u.selectFirstElement("button",i),w=!0)),r&&!u.hasClass(i,"x-hidden-none-mobile-vp")&&(n=new e(r,this),n.isMultiColumnItem=f,n.init(w),this.menubarItems.push(n),t=r.textContent.trim(),this.firstChars.push(t.substring(0,1).toLowerCase())),i=i.nextElementSibling;h&&(f=!0,n=new e(h,this),n.isMultiColumnItem=!0,n.init(!0),this.menubarItems.push(n),t=h.textContent.trim(),this.firstChars.push(t.substring(0,1).toLowerCase()));c&&(n=new e(c,this),n.init(!1),this.menubarItems.push(n),t=c.textContent.trim(),this.firstChars.push(t.substring(0,1).toLowerCase()));a&&(n=new e(a,this),n.init(!1),this.menubarItems.push(n),t=v?v.textContent.trim():"",this.firstChars.push(t.substring(0,1).toLowerCase()));l&&(n=new e(l,this),n.init(!0),this.menubarItems.push(n),t=l.textContent.trim(),this.firstChars.push(t.substring(0,1).toLowerCase()));y=this.menubarItems.length;y>0&&(this.firstItem=this.menubarItems[0],this.lastItem=this.menubarItems[y-1])},n.prototype.setFocusToItem=function(n){for(var t,r=!1,i=0;i<this.menubarItems.length;i++)t=this.menubarItems[i],t.domNode.tabIndex===0&&(r=t.domNode.getAttribute("aria-expanded")==="true"),t.subMenu&&t.subMenu.close();u.removeClass(n.domNode,"x-hidden-focus");n.domNode.focus();r&&n.subMenu&&n.subMenu.open()},n.prototype.setFocusToFirstItem=function(){this.setFocusToItem(this.firstItem)},n.prototype.setFocusToLastItem=function(){this.setFocusToItem(this.lastItem)},n.prototype.setFocusToPreviousItem=function(n){var i,t;n===this.firstItem?t=this.lastItem:(i=this.menubarItems.indexOf(n),t=this.menubarItems[i-1]);this.setFocusToItem(t)},n.prototype.setFocusToNextItem=function(n){var i,t;n===this.lastItem?t=this.firstItem:(i=this.menubarItems.indexOf(n),t=this.menubarItems[i+1]);this.setFocusToItem(t)},n.prototype.setFocusByFirstCharacter=function(n,t){var r,i,u=t.toLowerCase();r=this.menubarItems.indexOf(n)+1;r===this.menubarItems.length&&(r=0);i=this.getIndexFirstChars(r,u);i===-1&&(i=this.getIndexFirstChars(0,u));i>-1&&this.setFocusToItem(this.menubarItems[i])},n.prototype.getIndexFirstChars=function(n,t){for(var i=n;i<this.firstChars.length;i++)if(t===this.firstChars[i])return i;return-1},n}();t.Menubar=y});define("uhfKeyboardNavigationSubMenu",["require","exports","navigationMenus","htmlExtensions","jquery"],function(n,t,i,r,u){"use strict";var e,f;Object.defineProperty(t,"__esModule",{value:!0});e=function(){function n(n,t){var i,r;if((this.isMenubar=!1,n)&&n.childElementCount!==0){for(i=n.firstElementChild;i;){if(r=i.firstElementChild,r&&r==="A")return;i=i.nextElementSibling}this.isMenubar=!1;this.domNode=n;this.controller=t;this.menuitems=[];this.firstChars=[];this.firstItem=null;this.lastItem=null}}return n.prototype.init=function(n){var s=this,t,i,o,h,u,c,e,l;if(n)for(u=r.selectFirstElement("li",this.domNode);u;)r.hasClass(u,"c-w0-contr-desktop-hidden")||(c=r.selectElements("a",u),c.forEach(function(n){i=new f(n,s);i.init();s.menuitems.push(i);o=n.textContent.trim();s.firstChars.push(o.substring(0,1).toLowerCase())})),u=u.nextElementSibling;else for(t=this.domNode.firstElementChild;t;)r.hasClass(t,"single-link")?e=r.selectFirstElement(".js-subm-uhf-nav-link",t):r.hasClass(t,"nested-menu")&&(l=r.selectFirstElement("ul",t),l.childElementCount>0&&(e=r.selectFirstElement("button",t))),e&&(i=new f(e,this),i.init(),this.menuitems.push(i),o=e.textContent.trim(),this.firstChars.push(o.substring(0,1).toLowerCase())),t=t.nextElementSibling;h=this.menuitems.length;h>0&&(this.firstItem=this.menuitems[0],this.lastItem=this.menuitems[h-1])},n.prototype.setFocusToMenubarItem=function(n,t){while(n){if(n.isMenubarItem)return n.domNode.focus(),n;t&&n.menu.close(!0);n.hasFocus=!1;n=n.menu.controller}return!1},n.prototype.setFocusToController=function(n,t){if(typeof n!="string"&&(n=""),n===""){this.controller&&this.controller.domNode&&this.controller.domNode.focus();return}if(this.controller.isMenubarItem)i.NavigationMenus.closeAllOpenMenus(),n==="previous"?this.controller.menu.setFocusToPreviousItem(this.controller,t):n==="next"&&this.controller.menu.setFocusToNextItem(this.controller,t);else if(this.controller.domNode.focus(),this.close(!1),n==="next"){var r=this.setFocusToMenubarItem(this.controller,!1);r&&r.menu.setFocusToNextItem(r,t)}},n.prototype.setFocusToFirstItem=function(){this.firstItem.domNode.focus()},n.prototype.setFocusToLastItem=function(){this.lastItem.domNode.focus()},n.prototype.setFocusToPreviousItem=function(n){var t;n===this.firstItem?this.lastItem.domNode.focus():(t=this.menuitems.indexOf(n),this.menuitems[t-1].domNode.focus())},n.prototype.setFocusToNextItem=function(n){var t;n===this.lastItem?this.firstItem.domNode.focus():(t=this.menuitems.indexOf(n),this.menuitems[t+1].domNode.focus())},n.prototype.setFocusByFirstCharacter=function(n,t){var r,i,u=t.toLowerCase();r=this.menuitems.indexOf(n)+1;r===this.menuitems.length&&(r=0);i=this.getIndexFirstChars(r,u);i===-1&&(i=this.getIndexFirstChars(0,u));i>-1&&this.menuitems[i].domNode.focus()},n.prototype.getIndexFirstChars=function(n,t){for(var i=n;i<this.firstChars.length;i++)if(t===this.firstChars[i])return i;return-1},n.prototype.open=function(){this.controller.isMultiColumnItem?this.controller.setMultiColumnExpanded(!0):this.controller.setExpanded(!0)},n.prototype.close=function(n){n&&(this.controller.isMultiColumnItem?this.controller.setMultiColumnExpanded(!1):this.controller.setExpanded(!1))},n}();t.SubMenu=e;f=function(){function n(n,t){var u=this;this.isMenubarItem=!1;this.handleSubMenuKeydown=function(n){if(!i.NavigationMenus.isMobile()){var f=n.key,t=!1;switch(n.keyCode){case 32:case 13:u.subMenu&&(i.NavigationMenus.handleDesktopMenuClick(n),u.subMenu.setFocusToFirstItem());t=!0;break;case 38:u.subMenu&&u.subMenu.domNode&&u.closeSubMenu(u.subMenu);u.menu.setFocusToPreviousItem(u);t=!0;break;case 40:u.subMenu&&u.subMenu.domNode&&u.closeSubMenu(u.subMenu);u.menu.setFocusToNextItem(u);t=!0;break;case 37:i.NavigationMenus.pageDirection===r.Direction.right?u.subMenu?(i.NavigationMenus.handleDesktopMenuClick(n),u.subMenu.setFocusToFirstItem()):(i.NavigationMenus.closeAllOpenMenus(),u.menu.setFocusToController("next",!0),u.menu.close(!0)):(u.menu.setFocusToController("previous",!0),u.menu.close(!0),u.menu.domNode&&u.menu.domNode.tagName==="UL"&&u.closeSubMenu(u.menu));t=!0;break;case 39:i.NavigationMenus.pageDirection===r.Direction.left?u.subMenu?(i.NavigationMenus.handleDesktopMenuClick(n),u.subMenu.setFocusToFirstItem()):(i.NavigationMenus.closeAllOpenMenus(),u.menu.setFocusToController("next",!0),u.menu.close(!0)):(u.menu.setFocusToController("previous",!0),u.menu.close(!0),u.menu.domNode&&u.menu.domNode.tagName==="UL"&&u.closeSubMenu(u.menu));t=!0;break;case 36:u.menu.setFocusToFirstItem();t=!0;break;case 35:u.menu.setFocusToLastItem();t=!0;break;case 27:i.NavigationMenus.handleEscapeCloseMenu(n);t=!0;break;default:u.isPrintableCharacter(f)&&(u.menu.setFocusByFirstCharacter(u,f),t=!0)}if(t){n.stopPropagation();switch(n.keyCode){case 40:case 38:case 37:case 39:case 35:case 36:n.preventDefault()}}}};this.domNode=n;this.menu=t;this.subMenu=!1;this.isMenubarItem=!1}return n.prototype.init=function(){u(this.domNode).off("keydown");u(this.domNode).on("keydown",this.handleSubMenuKeydown);var n=this.domNode.nextElementSibling;n&&n.tagName==="UL"&&(this.subMenu=new e(n,this),this.subMenu.init(!1))},n.prototype.setExpanded=function(n){n?this.domNode.setAttribute("aria-expanded","true"):this.domNode.setAttribute("aria-expanded","false")},n.prototype.isExpanded=function(){return this.domNode.getAttribute("aria-expanded")==="true"},n.prototype.isPrintableCharacter=function(n){return n.length===1&&n.match(/\S/)},n.prototype.closeSubMenu=function(n){n.domNode.setAttribute("aria-hidden","true")},n}();t.SubMenuItem=f});define("uhfLanguageToggle",["require","exports","htmlExtensions","stringExtensions","navigationMenus"],function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f="#uhf-l-nav",e=function(){function n(t){var r=this;this.handleLangugeToggleClick=function(){u.NavigationMenus.isOpen($(n.instance.languageToggleElement))||n.instance.createLanguageToggleUrls()};this.setLangLocaleInUrls=function(n,t,i){n.setAttribute("href",r.currentUrl.replace("/"+t+"/","/"+i+"/"))};this.createLangLocaleArray=function(n,t){var i=[];return n&&t.match(n)&&(i=t.match(n)[0].split("-")),i};this.languageToggleElement=t;i.removeEvent(this.languageToggleElement,i.eventTypes.click,this.handleLangugeToggleClick);i.addEvent(this.languageToggleElement,i.eventTypes.click,this.handleLangugeToggleClick)}return n.prototype.createLanguageToggleUrls=function(n){var o,t,f,e,u,h,c,s,l;if((n===void 0&&(n=window.location.href),this.currentUrl=n.toLowerCase(),o=i.selectFirstElement("ul",this.languageToggleElement),t=i.selectElements("a",this.languageToggleElement),o&&t)&&(f=o.getAttribute("data-localsettings"),f))for(e=this.createLangLocaleArray(f,this.currentUrl),u=0,h=t.length;u<h;u++)c=r.trim(t[u].getAttribute("href")),s=t[u].getAttribute("lang"),c!=null&&!!s&&e&&e.length>1&&(l=(s+"-"+e[1]).toLowerCase(),this.setLangLocaleInUrls(t[u],f,l))},n.instance=null,n.init=function(){var t=i.selectFirstElement(f);t&&n.instance===null&&(n.instance=new n(t))},n}();t.UhfLanguageToggle=e});define("uhfMeControl",["require","exports","uhfMeControlLoader"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){i.Loader.init()}return n.selector=".js-global-head",n}();t.UhfMeControl=r});define("uhfMeControlLoader",["require","exports","jquery","navigationMenus","universalHeader","utility","htmlExtensions","msccHelper","uhfUtility","uhfOverFlowMenu"],function(n,t,i,r,u,f,e,o,s,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=".c-uhfh",l=".c-sgl-stck",a;(function(n){function ct(){var n=t;if(n)n.events.onEventLog("loadMeControl",{type:"qos",success:"0",errorCode:"LoadFailed: Reverted to fallback",duration:tt})}function it(n){if(n&&(n.extensibleLinks&&t.extensibleLinks&&(n.extensibleLinks.push.apply(n.extensibleLinks,t.extensibleLinks),t.extensibleLinks=null),a=n.apiGeneration==="GEN2"||a,(nt||a)&&(n.appContextConfig&&n.appContextConfig.commands&&t.appContextConfig&&t.appContextConfig.commands&&(n.appContextConfig.commands.push.apply(n.appContextConfig.commands,t.appContextConfig.commands),t.appContextConfig.commands=null),n.primaryUXConfig&&n.primaryUXConfig.displayModes&&t.primaryUXConfig&&t.primaryUXConfig.displayModes&&(n.primaryUXConfig.displayModes.push.apply(n.primaryUXConfig.displayModes,t.primaryUXConfig.displayModes),t.primaryUXConfig.displayModes=null)),t=i.extend(!0,{},t,n)),t.enabled)if(ft())rt(!0);else{var r=setTimeout(function(){ct()},tt);window.onMeControlReadyToLoad=function(){clearTimeout(r);window.onMeControlReadyToLoad=null;rt();d()}}}function rt(n){if(n===void 0&&(n=!1),!n&&!ft()){console.error("Error: MeControl API not not found after callback onMeControlReadyToLoad");return}var i="",u="",r=!1;if(w)try{a?v||(i="Mecontrol API/Configuration mismatch: Loading Mecontrol GEN1, with V2 Config, No GEN2 API",console.warn(i),window.MSA.MeControl.Loader.load(t),r=!0,e.addThrottledEvent(window,e.eventTypes.resize,p,66)):(i="Loading MeControl GEN1, with V1 Config",window.MSA.MeControl.Loader.load(t),r=!0,e.addThrottledEvent(window,e.eventTypes.resize,p,66))}catch(f){i="Error: "+i;u+=i;console.error(i);console.error(f);r=!1}if(!r&&v)try{a?(i="Loading MeControl GEN2, with V2 Config",window.MeControl.Loader.load(t),r=!0):(i="Mecontrol API/Configuration mismatch: Loading MeControl GEN2, with V1 Config, auto-remap to V2",console.warn(i),window.MeControl.Loader.load(t),r=!0)}catch(f){i="Error: "+i;u+=u.length===0?i:"\n"+i;console.error(i);console.error(f);r=!1}if(!r&&w&&v&&a)try{i="Mecontrol API/Configuration mismatch: Loading Mecontrol GEN1, with V2 Config, Final Attempt";console.warn(i);window.MSA.MeControl.Loader.load(t);r=!0;e.addThrottledEvent(window,e.eventTypes.resize,p,66)}catch(f){i="Error: "+i;u+=u.length===0?i:"\n"+i;console.error(i);console.error(f);r=!1}if(r){t.events.onEventLog("loadMeControl",{type:"qos",success:"1"});setTimeout(ut,500);e.addThrottledEvent(window,e.eventTypes.resize,p,66)}else t.events.onEventLog("loadMeControl",{type:"qos",success:"0",errorCode:u})}function ut(){if(b&&st()){var n=new h.UhfOverflowMenu;n&&n.handleWidthChange()}}function ft(){return window.MSA&&window.MSA.MeControl&&window.MSA.MeControl.Loader&&(w=!0),window.MeControl&&window.MeControl.Loader&&(v=!0),w||v}function et(n){var t=document.createElement("a");return t.href=n,t.href}function lt(n){n!=null&&(n.apiGeneration==="GEN2"&&(a=!0),n.rpData.aadInfo&&n.rpData.aadInfo.siteUrl&&(n.rpData.aadInfo.siteUrl=et(n.rpData.aadInfo.siteUrl)),n.rpData.msaInfo&&n.rpData.msaInfo.meUrl&&(n.rpData.msaInfo.meUrl=n.rpData.msaInfo.meUrl+"&wreply="+encodeURIComponent(window.location.protocol+"//"+window.location.host)),n.events={onEventLog:function(n,t){if(k&&k.onEventLog)k.onEventLog("MeControl_"+n,t);n&&(n==="SignIn"||n==="DropdownOpen")&&ht.setConsent()}},t=i.extend(!0,{},n,t||{}))}function ot(n){n!=null&&(n.events!=null&&(k=n.events),!n.currentGlobalItemId||r.NavigationMenus.setCurrentMenuItemId(n.currentGlobalItemId),!n.currentMenuItemId||r.NavigationMenus.setCurrentMenuItemId(n.currentMenuItemId),n&&n.theme&&u.UniversalHeader.setTheme(n.theme))}function at(n){var t,i,r;(n!=null&&(window.msCommonShell&&n.as?window.msCommonShell.as=n.as:window.msCommonShell&&n.searchSuggestCallback&&(window.msCommonShell.as={legacyCallback:n.searchSuggestCallback}),window.msCommonShell&&n.events&&(window.msCommonShell.events=n.events)),t=document.getElementById("meControl"),t)&&(i=t.getAttribute("data-signinsettings"),i!==null&&(t.getAttribute("data-mev2")==="true"&&(nt=!0),r=JSON.parse(i),r&&lt(r),n!=null?(ot(n),it(n.meControlOptions)):it(null),d()))}function g(){return b?s.STViewports.getViewportSt()<5:f.Viewports.getViewport()<5}function st(){return b?s.STViewports.getViewportSt()>2:f.Viewports.getViewport()>2}function p(){d()}function d(){var n=window.MeControl&&window.MeControl.API&&window.MeControl.API.setDisplayMode,t=window.MSA&&window.MSA.MeControl;return(t||n)&&(g()&&!y?(y=!0,n?window.MeControl.API.setDisplayMode("compressed"):window.MSA.MeControl.API.setMobileState(1)):!g()&&y&&(y=!1,n?window.MeControl.API.setDisplayMode("standard"):window.MSA.MeControl.API.setMobileState(0)),setTimeout(ut,500)),y}function vt(){var n={AuthState:{SignedIn:1,SignedInIdp:2,NotSignedIn:3},SupportedAuthIdp:{MSA:"msa",AAD:"aad"},meControlOptions:function(){return t},load:function(n){at(n)},update:function(n){ot(n)}};window.msCommonShell=i.extend(!0,window.msCommonShell,n);i(""+c+l).length>0&&(b=!0);window.msCommonShell.swapCategoryHeader||(window.msCommonShell.swapCategoryHeader=function(n){window.msCommonShell._catHTML=n});window.onShellReadyToLoad&&window.onShellReadyToLoad()}var t=null,nt=!1,a=!1,w=!1,v=!1,b=!1,tt=5e3,k=null,y=!1,ht=new o.MsccHelper;n.absolutifyUrl=et;n.isMobile=g;n.isDesktopVp=st;n.onWindowResize=p;n.setMeControlMobileState=d;n.init=vt})(a=t.Loader||(t.Loader={}))});require(["jqReady!"],function(){require(["uhfMeControl","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{c:n.UhfMeControl,eventToBind:"DOMContentLoaded"}])})});require(["jqReady!"],function(){require(["uhfMeControl","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{c:n.UhfMeControl,eventToBind:"DOMContentLoaded"}])})});define("uhfOverFlowMenu",["require","exports","htmlExtensions","navigationMenus"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f="#overflow-menu",e=".c-uhfh-gnav .js-paddle-items",u="x-hidden",o=function(){function n(){(this.refreshMenu=!1,this.minWidthDifference=40,this.overflowMenu=i.selectFirstElement(f),this.nav=i.selectFirstElement(e),this.nav&&this.overflowMenu)&&(this.navItems=this.nav.children,this.overflowMenuList=i.selectFirstElement("#overflow-menu-list"),this.overflowNestedMenuClassList=["f-sub-menu","js-nav-menu"],this.overflowSubMenuClassList="c-uhf-menu js-nav-menu",this.overflowSkipItems=i.selectFirstElement("#c-uhf-nav-cta")?1:0,i.selectFirstElement(".right-aligned-link")&&(this.overflowSkipItems+=1))}return n.prototype.handleWidthChange=function(){var n,t;this.overflowMenu&&this.nav&&(n=this.nav.offsetWidth,this.initializeNavItemsWidths(),t=n-this.navItemsWidth,n>=this.navItemsWidth&&t>this.minWidthDifference?this.isShowing()&&this.overflowMenuList.children.length===0&&this.hide():(this.isShowing()||(this.show(),this.initializeNavItemsWidths()),this.updateOverflowMenuItems()),this.refreshMenu&&(r.NavigationMenus.refreshMenuItems(),this.refreshMenu=!1))},n.prototype.handleMoveIntoDesktopViewport=function(){if(this.overflowMenu&&this.nav){this.initializeNavItemsWidths();var n=this.nav.offsetWidth-this.navItemsWidth;this.nav.offsetWidth>this.navItemsWidth&&n>this.minWidthDifference?(this.updateGlobalMenuItems(!1),this.isShowing()&&this.overflowMenuList.children.length===0&&this.hide()):(this.isShowing()||(this.show(),this.initializeNavItemsWidths()),this.updateOverflowMenuItems());this.refreshMenu&&(r.NavigationMenus.refreshMenuItems(),this.refreshMenu=!1)}},n.prototype.handleMoveIntoMobileViewport=function(){this.overflowMenu&&this.nav&&(this.updateGlobalMenuItems(!0),this.isShowing()&&this.overflowMenuList.children.length===0&&this.hide(),this.refreshMenu&&(r.NavigationMenus.refreshMenuItems(),this.refreshMenu=!1))},n.prototype.initializeNavItemsWidths=function(){var t,n;if(this.nav)for(t=this.nav.children,this.navItemsWidth=0,n=0;n<t.length;n++)this.navItemsWidth+=t[n].offsetWidth},n.prototype.show=function(){i.removeClass(this.overflowMenu,u)},n.prototype.hide=function(){i.addClass(this.overflowMenu,u)},n.prototype.isShowing=function(){return!i.hasClass(this.overflowMenu,u)},n.prototype.updateOverflowMenuItems=function(){var t=this.navItemsWidth+(this.isShowing()?0:this.overflowMenu.offsetWidth),i=this.isShowing()?1:0,r,n;for(i+=this.overflowSkipItems,r=this.nav.offsetWidth-t;this.navItems.length>1&&this.navItems.length>i&&(t>=this.nav.offsetWidth||r<this.minWidthDifference);)n=this.navItems.item(this.navItems.length-i-1),t-=n.offsetWidth,this.nav.removeChild(n),this.updateOverflowMenuItemStyle(n),this.overflowMenuList.insertBefore(n,this.overflowMenuList.firstChild),r=this.nav.offsetWidth-t,this.refreshMenu||(this.refreshMenu=!0)},n.prototype.updateGlobalMenuItems=function(n){for(var i=this.navItemsWidth+this.minWidthDifference,t=this.cloneAndStyleFirstChild();n&&this.overflowMenuList.children.length>0||this.isEnoughSpaceToFitItems(i+this.estimateNavOffsetWidth(t));)this.overflowMenuList.removeChild(this.overflowMenuList.firstElementChild),this.nav.insertBefore(t,this.overflowMenu),i+=t.offsetWidth,this.refreshMenu||(this.refreshMenu=!0),t=this.cloneAndStyleFirstChild()},n.prototype.isEnoughSpaceToFitItems=function(n){var t=!1;return this.overflowMenuList.children.length>0&&(this.overflowMenuList.children.length===1&&(n-=this.overflowMenu.offsetWidth),this.nav.offsetWidth>n&&(t=!0)),t},n.prototype.cloneAndStyleFirstChild=function(){var n=undefined;return this.overflowMenuList.firstElementChild&&(n=this.overflowMenuList.firstElementChild.cloneNode(!0),this.updateGlobalMenuItemStyle(n)),n},n.prototype.estimateNavOffsetWidth=function(n){var t=0;return n&&(this.nav.insertBefore(n,this.overflowMenu),t=n.offsetWidth,this.nav.removeChild(n)),t},n.prototype.updateOverflowMenuItemStyle=function(n){var r,u,t,f;if(i.hasClass(n,"single-link"))i.addClass(n,"js-nav-menu"),i.removeClass(n.firstElementChild,"c-uhf-nav-link"),i.addClass(n.firstElementChild,"js-subm-uhf-nav-link");else if(i.hasClass(n,"nested-menu")){for(i.addClasses(n,this.overflowNestedMenuClassList),r=n.firstElementChild,u=r.children;u.length>0;)t=u.item(0),t.nodeName==="UL"&&i.hasClass(t,"f-multi-column")&&(f=t.getAttribute("data-class-idn").split(" "),i.removeClasses(t,f)),n.appendChild(t);n.removeChild(r)}},n.prototype.updateGlobalMenuItemStyle=function(n){var f,r,t,u;if(i.hasClass(n,"single-link"))i.removeClass(n,"js-nav-menu"),i.addClass(n.firstElementChild,"c-uhf-nav-link"),i.removeClass(n.firstElementChild,"js-subm-uhf-nav-link");else if(i.hasClass(n,"nested-menu")){for(i.removeClasses(n,this.overflowNestedMenuClassList),f=n.children,r=document.createElement("div"),r.setAttribute("class",this.overflowSubMenuClassList);f.length>0;)t=f.item(0),t.nodeName==="UL"&&(u=t.getAttribute("data-class-idn"),u&&u.indexOf("f-multi-column")!==-1&&i.addClasses(t,u.split(" "))),r.appendChild(t);n.appendChild(r)}},n}();t.UhfOverflowMenu=o});define("uhfPaddles",["require","exports","htmlExtensions"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=".js-primary-paddle",f=".js-secondary-paddle",e=".js-paddle-items",r="f-hidden",o=function(){function n(n){var t=this;(this.disabledPrimaryNavItems=[],this.disabledSecondaryNavItems=[],this.slidePrimary=function(){t.setCurrentSlidePosition(t.getNextValidPosition(!0))},this.slideSecondary=function(){t.setCurrentSlidePosition(t.getNextValidPosition(!1))},this.handleSlideIfDisabled=function(n){for(var r=0;r<t.nav.children.length;++r)t.disabledPrimaryNavItems[r]===n.currentTarget?(t.slidePrimary(),i.preventDefault(n)):t.disabledSecondaryNavItems[r]===n.currentTarget&&(t.slideSecondary(),i.preventDefault(n))},this.handleFromKeyboardSlideIfDisabled=function(n){for(var i=0;i<t.nav.children.length;++i)(t.disabledPrimaryNavItems[i]===n.currentTarget||t.disabledSecondaryNavItems[i]===n.currentTarget)&&(t.navItemPositions[i]>t.getMaxSlideAmount()?t.setCurrentSlidePosition(t.getMaxSlideAmount()):t.setCurrentSlidePosition(t.navItemPositions[i]))},n)&&(this.primaryPaddle=i.selectFirstElement(u,n),this.secondaryPaddle=i.selectFirstElement(f,n),this.nav=i.selectFirstElement(e,n),this.nav)&&(this.isLtr=this.nav.currentStyle?this.nav.currentStyle.direction==="ltr":getComputedStyle(this.nav,null).direction==="ltr",this.slideMarginProperty=this.isLtr?"marginLeft":"marginRight",this.firstMenuItem=this.nav.children[0])}return n.prototype.initializeNavItemsWidths=function(){var t,n;if(this.nav){for(t=this.nav.children,this.navItemsWidth=0,this.navItemPositions=[],n=0;n<t.length;++n)this.navItemPositions.push(this.navItemsWidth),this.navItemsWidth+=t[n].offsetWidth;this.navItemsWidth+=24}},n.prototype.setCurrentSlidePosition=function(n){(n<0&&(n=0),this.firstMenuItem.style[this.slideMarginProperty]=-n+"px",this.nav)&&(this.updatePaddleDisplayStates(),this.disablePartiallyHiddenNavItems(),this.nav.scrollLeft=this.isLtr?0:this.nav.scrollWidth)},n.prototype.getCurrentSlidePosition=function(){var n=this.firstMenuItem.style[this.slideMarginProperty];return n===""?0:-parseInt(n,10)},n.prototype.show=function(n){n.style.display="block"},n.prototype.hide=function(n){n.style.display="none"},n.prototype.isShowing=function(n){return n.style.display!=="none"},n.prototype.disablePartiallyHiddenNavItems=function(){for(var u,t=this.nav.children,e=this.nav.offsetWidth,f=this.getCurrentSlidePosition(),n=0;n<t.length;++n)u=t[n].querySelector("button")||t[n],this.navItemPositions[n]<f?(i.addClass(u,r),this.disabledPrimaryNavItems[n]=t[n]):this.navItemPositions[n]+t[n].offsetWidth>f+e?(i.addClass(u,r),this.disabledSecondaryNavItems[n]=t[n]):(i.removeClass(u,r),this.disabledPrimaryNavItems[n]=null,this.disabledSecondaryNavItems[n]=null)},n.prototype.updatePaddleDisplayStates=function(){var t=this.nav.offsetWidth,i=t+this.primaryPaddle.offsetWidth+this.secondaryPaddle.offsetWidth,n;i>=this.navItemsWidth?(this.hide(this.primaryPaddle),this.hide(this.secondaryPaddle)):(n=this.getCurrentSlidePosition(),n===0?(this.hide(this.primaryPaddle),this.show(this.secondaryPaddle)):n>=this.getMaxSlideAmount()?(this.show(this.primaryPaddle),this.hide(this.secondaryPaddle)):(this.show(this.primaryPaddle),this.show(this.secondaryPaddle)))},n.prototype.getMaxSlideAmount=function(){var n=this.isShowing(this.primaryPaddle)&&this.isShowing(this.secondaryPaddle)?this.primaryPaddle.offsetWidth:0,t=this.nav.offsetWidth+n;return this.navItemsWidth-t},n.prototype.handleWidthChange=function(){if(this.primaryPaddle&&this.nav){var n=this.getCurrentSlidePosition(),t=this.nav.offsetWidth,i=t+this.primaryPaddle.offsetWidth+this.secondaryPaddle.offsetWidth;i>this.navItemsWidth?this.setCurrentSlidePosition(0):this.navItemsWidth<n+this.nav.offsetWidth&&this.setCurrentSlidePosition(Math.abs(this.nav.offsetWidth-this.navItemsWidth));this.updatePaddleDisplayStates();this.disablePartiallyHiddenNavItems()}},n.prototype.getNextValidPosition=function(n){var i=this.getCurrentSlidePosition(),r=this.nav.offsetWidth,t;if(n){for(t=0;t<this.navItemPositions.length;++t)if(this.navItemPositions[t]>i)return Math.max(0,this.navItemPositions[t]-r);return 0}for(t=0;t<this.navItemPositions.length-1;++t)if(this.navItemPositions[t+1]>i+r)return Math.min(this.getMaxSlideAmount(),this.navItemPositions[t]);return this.getMaxSlideAmount()},n.prototype.handleMoveIntoDesktopViewport=function(){if(this.primaryPaddle&&this.nav){this.primaryPaddle.tabIndex=-1;this.secondaryPaddle.tabIndex=-1;this.initializeNavItemsWidths();this.updatePaddleDisplayStates();this.disablePartiallyHiddenNavItems();this.firstMenuItem.style.transition="margin .667s cubic-bezier(.16, 1, .29, .99)";i.addEvent(this.primaryPaddle,i.eventTypes.click,this.slidePrimary);i.addEvent(this.secondaryPaddle,i.eventTypes.click,this.slideSecondary);var n=i.nodeListToArray(this.nav.children);i.addEvent(n,i.eventTypes.click,this.handleSlideIfDisabled);i.addEvent(n,i.eventTypes.focusin,this.handleFromKeyboardSlideIfDisabled)}},n.prototype.handleMoveIntoMobileViewport=function(){var t,n,u;if(this.primaryPaddle&&this.nav){for(this.hide(this.primaryPaddle),this.hide(this.secondaryPaddle),this.primaryPaddle.tabIndex=0,this.secondaryPaddle.tabIndex=0,this.firstMenuItem.style.transition="",i.removeEvent(this.primaryPaddle,i.eventTypes.click,this.slidePrimary),i.removeEvent(this.secondaryPaddle,i.eventTypes.click,this.slideSecondary),t=i.nodeListToArray(this.nav.children),i.removeEvent(t,i.eventTypes.click,this.handleSlideIfDisabled),i.removeEvent(t,i.eventTypes.focusin,this.handleFromKeyboardSlideIfDisabled),n=0;n<t.length;++n)u=t[n].querySelector("button")||t[n],i.removeClass(u,r),this.disabledPrimaryNavItems[n]=null,this.disabledSecondaryNavItems[n]=null;this.firstMenuItem.style[this.slideMarginProperty]=null}},n}();t.UhfPaddles=o});__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("uhfPromoBanner",["require","exports","htmlExtensions","utility","publisher"],function(n,t,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(u){var f=n.call(this,u)||this;return(f.promoElement=u,f.closeSelector="#close-epb",f.cookieName="uhf_hide_epb",f.cookieNameV3="msstore_hide_epb",f.hiddenClass="x-hidden",f.rollupAnimationClass="epb-rollup",f.telemetryQsp="epb=1",f.showPromoBanner=function(){var n=i.selectFirstElement("#epbTryNow"),t=i.selectFirstElement(".f-img-lzy"),h=n.getAttribute("data-telem-qsp"),u=i.selectFirstElement(".epb-container"),e,o,s;!u||(u.removeAttribute("data-ios"),u.removeAttribute("data-android"),u.removeAttribute("data-windowsedge"));!n||(e=r.addQSP(window.location.toString(),f.telemetryQsp),h?n.setAttribute("href","Microsoft-edge:"+r.addQSP(e,h)):n.setAttribute("href","Microsoft-edge:"+e));t&&(o=t.getAttribute("data-src"),o&&(t.setAttribute("src",o),t.removeAttribute("data-src")));s=i.selectFirstElement(f.closeSelector,f.promoElement);s&&(i.addEvent(s,i.eventTypes.click,f.closeAndSetCookie),i.removeClass(f.promoElement,f.hiddenClass))},f.showPromoBannerWindowsEdge=function(){var t=i.selectFirstElement("#epbTryNow"),e=i.selectFirstElement(".f-img-lzy"),r=i.selectFirstElement(".epb-container"),s=i.selectFirstElement(".epb-launch"),h=i.selectFirstElement(".epb-text"),c=r.getAttribute("data-windowsedge"),n=JSON.parse(c),o,u;!n||(!t||(t.setAttribute("href",n.LinkUrl),t.setAttribute("aria-label",n.ActionAriaLabel),t.innerText=n.ActionText,t.removeAttribute("data-telem-qsp")),!s||(s.innerText=n.Title),!h||(h.innerText=n.Text),i.addClass(r,"epb-container-background"),r.removeAttribute("data-ios"),r.removeAttribute("data-android"),r.removeAttribute("data-windowsedge"),e&&(o=e.getAttribute("data-src"),o&&(e.setAttribute("src",o),e.removeAttribute("data-src"))),u=i.selectFirstElement(f.closeSelector,f.promoElement),u&&(u.innerText=n.DismissText,u.setAttribute("aria-label",n.DismissAriaLabelWindowsEdge),i.addEvent(u,i.eventTypes.click,f.closeAndSetCookie),i.removeClass(f.promoElement,f.hiddenClass)))},f.getHeight=function(){return f.promoElement?i.getClientRect(f.promoElement).height:0},f.closeAndSetCookie=function(){f.setCookieOnRootDomain(f.cookieName,"true","/",7);i.addClass(f.promoElement,f.rollupAnimationClass);i.addEvent(f.promoElement,i.eventTypes.animationend,f.rollUpBanner);f.trackEpbDismissal()},f.rollUpBanner=function(){i.removeClass(f.promoElement,f.rollupAnimationClass);i.addClass(f.promoElement,f.hiddenClass);f.initiatePublish({height:f.getHeight()})},!u||!(r.getCookie(f.cookieName)!=="true")||!(r.getCookie(f.cookieNameV3)!=="true"))?f:t.resolveTreatment("isEdgeOnWindows")?(f.showPromoBannerWindowsEdge(),f):t.resolveTreatment("noEdgeWin10")?(f.showPromoBanner(),f):f}return __extends(t,n),t.resolveTreatment=function(n){n===void 0&&(n="noEdgeWin10");switch(n){case"noEdgeWin10":return t.isNotEdgeWin10();case"gteRs1OnChrome":return t.isGteRs1OnChrome();case"isEdgeOnWindows":return t.isEdgeOnWindows();default:return!1}},t.prototype.setCookieOnRootDomain=function(n,t,i,u){var e=document.location.hostname.split("."),f=e.pop();if(f==="localhost")r.setCookie(n,t,i,u);else while(r.getCookie(n)!==t&&e.length!==0)f=e.pop()+"."+f,r.setCookie(n,t,i,u,f)},t.prototype.publish=function(n,t){n.onBannerClosed(t)},t.prototype.trackEpbDismissal=function(){typeof MscomCustomEvent=="function"&&window.MscomCustomEvent("wcs.cn","EdgePromoBannerDismissed","wcs.cot",4)},t.isGteRs1OnChrome=function(){var t=document.createElement("canvas").getContext("2d"),i,n;return t.font="64px Segoe UI Emoji",i=t.measureText("🐱‍👤").width,n=navigator.userAgent.toLowerCase(),!window.chrome||n.indexOf("edge")>=0?!1:n.indexOf("windows nt")===-1?!1:i<=90?!0:!1},t.isNotEdgeWin10=function(){var n=navigator.userAgent.toLowerCase();return!(n.indexOf("edge")>=0)&&n.indexOf("windows nt 10")>=0},t.isEdgeOnWindows=function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("edge")>=0},t}(u.Publisher);t.UhfPromoBanner=f});define("uhfSearchModule",["require","exports","htmlExtensions","stringExtensions","utility","uhfUssCategoryService","msccHelper","uhfTelemetryHelper","uhfUtility"],function(n,t,i,r,u,f,e,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=new e.MsccHelper,c=function(){function n(n,t,e,c){var l=this,a,v,y;if(this.searchForm=n,this.showCallback=t,this.autoSuggest=e,this.overflowMenuCallback=c,this.width="",this.searchOpenedClass="f-search-opened",this.focusedClass="js-focused",this.stSelector=".c-sgl-stck",this.searchLabelSelector="#search span",this.searchisOpen=!1,this.windowResizedSearchOpen=!1,this.ussCategoryExpId="StoreSearch",this.ussCategoryCtrlId="AllSearch",this.canHideSearchBox=function(){return u.getWindowWidth()<1400},this.hideSearchBox=function(){l.searchisOpen?l.globalNav&&(l.globalNav.style.display="none"):(l.searchBox&&(l.searchBox.style.display="none",l.searchButton.setAttribute("aria-expanded","false")),l.autoSuggestScreenReader&&i.addClass(l.autoSuggestScreenReader,"x-hidden"))},this.showSearchBox=function(){l.searchBox&&(l.searchBox.style.display="inline-block",l.searchButton.removeAttribute("aria-expanded"));l.autoSuggestScreenReader&&i.removeClass(l.autoSuggestScreenReader,"x-hidden");l.searchisOpen&&l.globalNav&&(l.globalNav.style.display="block")},this.onSearchBoxChange=function(){l.searchBox.value.trim()!==""&&h.setConsent()},this.log=function(){if(window.msCommonShell){(typeof window.msCommonShell.events=="undefined"||typeof window.msCommonShell.events.onSearch=="undefined")&&(window.msCommonShell.events={onSearch:function(){if(event.type){var n=document.getElementById("cli_shellHeaderSearchInput"),t={title:"Search_nav",trackType:"manual",telemetryType:"jsll",event:event.type==="click"?"CL":"KE",srchq:n?n.value:""};o.trackEvent(t)}}});var n=window.msCommonShell.events.onSearch;n&&n(l.searchForm)}},this.addQsp=function(n,t){if(n&&t){var i=document.createElement("input");i.setAttribute("type","hidden");i.setAttribute("name",n);i.setAttribute("value",t);i.setAttribute("data-bi-dnt","");i.setAttribute("data-bi-mto","");l.searchForm.appendChild(i)}},this.isHidden=function(){return l.singleStackEnabled?i.css(l.searchBox,"display")==="none"||l.searchCloseButton.getAttribute("aria-expanded")==="false"?!0:!i.hasClass(l.searchParentElement,l.searchOpenedClass):u.getWindowWidth()>=1400?!1:!i.hasClass(l.searchParentElement,l.searchOpenedClass)},this.showAndFocus=function(){var n=u.Viewports.getViewport();l.singleStackEnabled||l.showCallback&&l.showCallback();i.addClass(l.searchParentElement,l.searchOpenedClass);n<5&&(i.css(l.searchBox,"display","inline-block"),l.autoSuggestScreenReader&&i.removeClass(l.autoSuggestScreenReader,"x-hidden"));l.singleStackEnabled&&i.css(l.searchBox,"display","block");i.css(l.searchBox,"width",l.width);l.searchCloseButton.setAttribute("aria-expanded","true");l.searchButton.removeAttribute("aria-expanded");l.searchBox.focus();l.singleStackEnabled||(l.shoppingCart&&n<3&&i.addClass(l.shoppingCart,"x-hidden"),l.meControl&&n<3&&i.addClass(l.meControl,"x-hidden"));l.singleStackEnabled&&l.showCallback&&l.showCallback();l.searchisOpen=!0},this.hide=function(){var n=u.Viewports.getViewport();l.autoSuggest&&l.autoSuggest.hide();i.css(l.searchBox,"width","");i.removeClass(l.searchParentElement,l.searchOpenedClass);l.searchCloseButton.setAttribute("aria-expanded","false");n<5&&(i.css(l.searchBox,"display","none"),l.autoSuggestScreenReader&&i.addClass(l.autoSuggestScreenReader,"x-hidden"),l.searchButton.setAttribute("aria-expanded","false"));l.singleStackEnabled&&(i.css(l.searchBox,"display","none"),l.searchButton.setAttribute("aria-expanded","false"),l.searchButton.focus(),l.searchBox.value="");n<3&&(l.shoppingCart&&i.hasClass(l.shoppingCart,"x-hidden")&&i.removeClass(l.shoppingCart,"x-hidden"),l.meControl&&i.hasClass(l.meControl,"x-hidden")&&i.removeClass(l.meControl,"x-hidden"));!l.singleStackEnabled&&n>3&&l.searchisOpen&&l.globalNav&&(l.globalNav.style.display="block");l.singleStackEnabled&&s.STViewports.getViewportSt()>=3&&l.windowResizedSearchOpen&&l.overflowMenuCallback&&(l.overflowMenuCallback(),l.windowResizedSearchOpen=!1);l.searchisOpen=!1},this.handleSearchButtonClick=function(n){if(!l.isHidden()){l.onSearch(n);return}i.preventDefault(n);l.showAndFocus()},this.toggleFocusAndClickListeners=function(n,t,r){var u=r?i.removeEvent:i.addEvent;u(n,i.eventTypes.focus,t,!0);u(n,i.eventTypes.click,t,!0)},this.handleSearchCancelButton=function(n){n.preventDefault();n.keyCode===27||n.keyCode===13?l.hideSearch():n.keyCode===9&&l.searchBox.focus()},this.focusInHandler=function(){l.isHidden()||(i.addClass(l.searchForm,l.focusedClass),l.toggleFocusAndClickListeners(l.searchForm,l.focusInHandler,!0),l.toggleFocusAndClickListeners(document.body,l.focusOutHandler))},this.focusOutHandler=function(n){l.singleStackEnabled||l.parentHasClass(n.target,l.focusedClass)?l.singleStackEnabled&&(!l.parentHasClass(n.target,l.focusedClass)&&!l.parentHasClass(n.target,"cancel-search")||n instanceof KeyboardEvent&&n.keyCode===27)&&l.hideSearch():l.hideSearch()},this.hideSearch=function(){i.removeClass(l.searchForm,l.focusedClass);l.toggleFocusAndClickListeners(document.body,l.focusOutHandler,!0);l.toggleFocusAndClickListeners(l.searchForm,l.focusInHandler);l.autoSuggest&&l.autoSuggest.hide();l.hide()},this.parentHasClass=function(n,t){if(n){if(i.hasClass(n,t))return!0}else return!1;return l.parentHasClass(n.parentNode,t)},n){this.searchBox=i.selectFirstElement("input",this.searchForm);try{a=window._pageBITags.pageTags;v=a.expId.toLowerCase().split(",");this.ussCategoryExpEnabled=v.indexOf("ex:"+this.ussCategoryExpId.toLowerCase())>-1;this.ussCategoryCtrlEnabled=v.indexOf("ex:"+this.ussCategoryCtrlId.toLowerCase())>-1;this.market=a.mkt}catch(p){this.ussCategoryExpEnabled=!1}this.ussCategoryExpEnabled&&this.market?(this.categoryService=new f.UhfUssCategoryService(this.market),i.addDebouncedEvent(this.searchBox,i.eventTypes.keyup,function(){l.categoryService.queryService(r.trim(l.searchBox.value))},100),this.addQsp("flt",this.ussCategoryExpId)):this.ussCategoryCtrlEnabled&&this.addQsp("flt",this.ussCategoryCtrlId);this.searchParentElement=i.selectFirstElement(".js-global-head");this.searchButton=i.selectFirstElement("button",this.searchForm);i.addEvent(this.searchButton,i.eventTypes.click,this.handleSearchButtonClick);this.searchCloseButton=i.selectFirstElement(".c-action-trigger.glyph-arrow-htmllegacy");i.addEvent(this.searchCloseButton,i.eventTypes.click,this.hide);i.addEvent(this.searchBox,i.eventTypes.input,this.onSearchBoxChange);this.toggleFocusAndClickListeners(this.searchForm,this.focusInHandler);y=i.selectFirstElement(this.stSelector);this.singleStackEnabled=y!==null;this.searchLabel=i.selectFirstElement(this.searchLabelSelector);this.autoSuggestScreenReader=i.selectFirstElement(".c-search .x-screen-reader");this.meControl=i.selectFirstElement("#meControl");this.shoppingCart=i.selectFirstElement("#uhf-shopping-cart");this.globalNav=i.selectFirstElement("#uhf-g-nav");this.singleStackEnabled?(i.addEvent(n,i.eventTypes.keydown,this.focusOutHandler),this.searchCancel=i.selectFirstElement("#cancel-search"),i.addEvent(this.searchCancel,i.eventTypes.click,this.hideSearch),i.addEvent(this.searchCancel,i.eventTypes.keydown,this.handleSearchCancelButton)):this.canHideSearchBox()?this.hideSearchBox():this.canHideSearchBox()||this.showSearchBox()}}return n.prototype.onSearch=function(n){var t=this,u=r.trim(this.searchBox.value),i;return u.length?this.ussCategoryExpEnabled?(n.preventDefault(),i=!1,this.categoryService.getCategory(u,function(n){!i&&n&&(t.searchForm.setAttribute("action","/"+t.market+"/store/search/"+n),t.log(),t.searchForm.submit(),i=!0)}),setTimeout(function(){i||(t.log(),t.searchForm.submit(),i=!0)},100),!1):(this.log(),!0):(n.preventDefault(),this.searchBox.focus(),!1)},n.prototype.setSearchBoxWidth=function(n){this.width=n;this.isHidden()||i.css(this.searchBox,"width",n)},n.prototype.getSearchFormElement=function(){return this.searchForm},n}();t.UhfSearchModule=c});define("uhfTelemetryHelper",["require","exports","htmlExtensions"],function(n,t,i){"use strict";function e(n){var e=!1,o,s,t;if(n){o=i.selectFirstElement("#cli_shellHeaderSearchInput");o&&(s=o.getAttribute("data-m"),s&&(t=JSON.parse(s),t&&(t.cN&&(n.cN=t.cN),t.aN&&(n.aN=t.aN),t.id&&(n.id=t.id),t.sN&&(n.sN=t.sN))));switch(n.trackType){case"autosuggest":e=r(n);break;case"manual":e=u(n);break;case"searchInitiate":e=f(n)}}return e}function r(n){if(n.telemetryType==="jsll"){var t=n.suggestionType,i=t,r={term:"0",product:"4"}[i],u={behavior:60,actionType:n.event,contentTags:{cN:n.resultselected,aN:n.aN,id:n.id,sN:n.sN,cT:r,pid:n.pid,srchq:n.srchq,srchtype:"auto suggest",asdisplayed:!0,aslinkpos:n.aslinkpos,qrylngth:n.qrylngth,resultselected:n.resultselected}};if(window.awa&&window.awa.ct&&typeof window.awa.ct.captureContentPageAction=="function")return window.awa.ct.captureContentPageAction(u),!0}else if(n.telemetryType==="wedcs"&&typeof MscomCustomEvent=="function")return window.MscomCustomEvent("wcs.cn",n.title,"wcs.cot",4),!0;return!1}function u(n){if(n.telemetryType==="jsll"){var t={behavior:61,actionType:n.event,contentTags:{cN:n.title,aN:n.aN,id:n.id,sN:n.sN,srchq:n.srchq,srchtype:"manual"}};if(window.awa&&window.awa.ct&&typeof window.awa.ct.captureContentPageAction=="function")return window.awa.ct.captureContentPageAction(t),!0}return!1}function f(n){if(n.telemetryType==="jsll"){var t={behavior:62,actionType:n.event,contentTags:{cN:"Search_nav",aN:n.aN,id:n.id,sN:n.sN,srchq:n.srchq,srchtype:"manual"}};if(window.awa&&window.awa.ct&&typeof window.awa.ct.captureContentPageAction=="function")return window.awa.ct.captureContentPageAction(t),!0}return!1}function o(n){if(n){var t=new Image;t.src=n}}Object.defineProperty(t,"__esModule",{value:!0});t.trackEvent=e;t.trackAutoSuggestEvents=r;t.trackManualEvents=u;t.trackSearchInitiateEvents=f;t.fireBeacon=o});define("uhfUssCategoryService",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n){this.market=n;this.responseCache={};this.ajaxCall=function(n,t){var i=new XMLHttpRequest;i.open("GET",n);i.onreadystatechange=function(){this.readyState===4&&this.status>=200&&this.status<400&&t(this.responseText)};i.send();i=null}}return n.prototype.getServiceUrl=function(n){return"https://ussearchprod.trafficmanager.net/services/api/v1.0/store/categories"+("?clientid=7f27b536-cf6b-4c65-8638-a0f8cbdfca65&scope=games,apps,devices,software&query="+n+"&markets="+this.market)},n.prototype.getCachedCategory=function(n){return this.responseCache[this.getCacheKey(n)]},n.prototype.getCategory=function(n,t){var i=this.getCachedCategory(n);i?t(i):this.queryService(n,t)},n.prototype.queryService=function(n,t){var i=this;if(!n||this.getCachedCategory(n)){t&&t(null);return}this.ajaxCall(this.getServiceUrl(n),function(n){try{var r=JSON.parse(n),u=r.categories&&r.categories[0],f=r.query;!u||!f.trim()?t&&t(null):(i.responseCache[i.getCacheKey(f)]=u,t&&t(u))}catch(e){t&&t(null)}})},n.prototype.getCacheKey=function(n){return encodeURIComponent(n.trim().toLowerCase())},n}();t.UhfUssCategoryService=i});define("uhfUtility",["require","exports","utility"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;(function(n){function t(){var t;if(window.matchMedia){for(t=0;t<n.allWidths.length;++t)if(!window.matchMedia("(min-width:"+n.allWidths[t]+"px)").matches)return t}else for(t=0;t<n.allWidths.length;++t)if(i.getWindowWidth()<n.allWidths[t])return t;return n.allWidths.length}n.allWidths=[320,540,860,1084,1400,1779];n.vpMin=n.allWidths[0];n.vpMax=2048;n.getViewportSt=t})(r=t.STViewports||(t.STViewports={}))});define("universalHeader",["require","exports","uhfPaddles","shoppingCart","uhfSearchModule","uhfOverFlowMenu","navigationMenus","htmlExtensions","utility","uhfAutoSuggest","uhfCookieAlert","uhfPromoBanner","uhfLanguageToggle","uhfCookieAuditor","uhfGreenId","msccHelper","uhfUtility","uhfKeyboardNavigationMenu"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var k="tabindex",d=".js-global-head",g=".js-cat-head",nt="#uhfCookieAlert  .c-action-trigger.glyph-cancel",tt="#uhfCookieAlert span.c-group > a.c-action-trigger",it="#uhfSkipToMain",rt=".c-action-trigger.glyph-global-nav-button",ut=".c-action-trigger.glyph-arrow-htmllegacy",ft="#meControl.c-me .msame_Header",et="#uhfCatLogoButton",ot=".c-uhfh.f-keyboard-navigation",st=new p.MsccHelper,ht=function(){function n(){var t=this,ct,p,vt,yt,pt;this.hiddenClass="x-hidden";this.searchOpenedClass="f-search-opened";this.enableKeyBoardNavigation=function(){var t=o.selectFirstElement(ot),n;t&&(n=new b.Menubar,n.init())};this.stickFooterToBottom=function(){var n=o.selectFirstElement("#uhf-footer"),t,i,r;o.removeClass(n,"footer-bottom");t=o.selectFirstElement("body");i=window.innerHeight;o.hasClass(n,"sticky-footer")&&(r=t.offsetHeight,r<i?o.addClass(n,"footer-bottom"):o.removeClass(n,"footer-bottom"))};this.initializeSearchBox=function(){var n;if(!!t.searchBox&&!!window.location.search&&!t.searchBox.getAttribute("dis-showquery")){n=t.searchBox.getAttribute("name");n||(n="q");var r=window.location.search.replace(/\+/g," "),u="[?|&]"+n+"=([^&]*)",i=r.match(u);!i||i.length!==2||(t.searchBox.value=decodeURIComponent(i[1]))}};this.initializeSearch=function(){!t.searchElement||(t.initializeSearchBox(),t.uhfAutoSuggest=new h.UhfAutoSuggest,t.searchModule=new u.UhfSearchModule(t.searchElement,t.setSearchWidth,t.uhfAutoSuggest,t.overflowMenuCallback))};this.isMobile=function(){return t.isSingleStack?w.STViewports.getViewportSt()<3:s.Viewports.getViewport()<3};this.onWindowResize=function(){t.checkForViewportChange();t.wasMobile||(t.catPaddles.handleWidthChange(),t.globalPaddles.handleWidthChange());t.searchModule&&t.setSearchWidth();!t.isMobile()&&t.isSingleStack&&(t.overflowMenuElement&&(t.searchModule?t.searchModule.searchisOpen?t.searchModule.windowResizedSearchOpen=!0:t.overflowMenuElement.handleMoveIntoDesktopViewport():t.overflowMenuElement.handleMoveIntoDesktopViewport()),t.menuElement&&e.NavigationMenus.refreshFlips(),t.enableKeyBoardNavigation());!t.isSingleStack&&t.searchModule&&(t.searchModule.canHideSearchBox()?t.searchModule.hideSearchBox():t.searchModule.showSearchBox());t.updateBannerBufferHeight()};this.initializeMenus=function(){e.NavigationMenus.init();e.NavigationMenus.handleMoveIntoDesktopViewport();!t.menuElement||o.removeEvent(t.menuElement,o.eventTypes.click,t.initializeMenus)};this.overflowMenuCallback=function(){t.overflowMenuElement&&w.STViewports.getViewportSt()>=3&&t.overflowMenuElement.handleMoveIntoDesktopViewport()};this.setSearchWidth=function(){var i="",f;if(!t.isSingleStack&&s.Viewports.getViewport()>=3&&s.Viewports.getViewport()<=4){var n=o.getClientRect(t.globalLogo),u=o.getClientRect(t.searchModule.getSearchFormElement()),r=(n?n.right:699)<u.right?"right":"left",e=r==="right"?200:1199;i=Math.abs(u[r]-(n?n[r]:e))-60+"px"}t.isSingleStack&&w.STViewports.getViewportSt()>=3&&(f=s.getWindowWidth(),i=Math.abs(f*(70/100))+"px");t.searchModule.setSearchBoxWidth(i)};this.updateBannerBufferHeight=function(){if(o.css(t.headerElement,"position")==="absolute"){var u=parseInt(o.css(t.headerElement,"top"),10)||0,n=t.cookieAlert!=null?t.cookieAlert.getHeight():0,i=t.edgePromoBanner!=null?t.edgePromoBanner.getHeight():0,r=n>i?n:i;r!==u&&t.setHeaderTop(r+"px")}};this.delegateBannerNotification=function(n){t.setHeaderTop(n.height+"px")};this.swapCategoryHeader=function(n){if(n){var r=o.selectFirstElement(g),u=document.createElement("DIV");u.innerHTML=n;r.parentNode.replaceChild(u.querySelector(g),r);e.NavigationMenus.init();t.catPaddles=new i.UhfPaddles(o.selectFirstElement(g));t.isMobile()?(e.NavigationMenus.handleMoveIntoMobileViewport(),t.catPaddles.handleMoveIntoMobileViewport()):(e.NavigationMenus.handleMoveIntoDesktopViewport(),t.catPaddles.handleMoveIntoDesktopViewport())}};this.updateTabindexOrder=function(n){if(n===void 0&&(n=!1),t.isSingleStack){var i=1;n?(!t.cookieAlertCancel||(t.cookieAlertCancel.setAttribute(k,i.toString()),i+=1,!t.cookieAlertAboutAds||(t.cookieAlertAboutAds.setAttribute(k,i.toString()),i+=1)),!t.skipToMainBanner||(t.skipToMainBanner.setAttribute(k,i.toString()),i+=1),!t.hamburgerButton||(t.hamburgerButton.setAttribute(k,i.toString()),i+=1),!t.categoryButton||(t.categoryButton.setAttribute(k,i.toString()),i+=1),!t.searchButton||(!t.searchBox||(t.searchBox.setAttribute(k,i.toString()),i+=1),t.searchButton.setAttribute(k,i.toString()),i+=1,!t.searchReturnButton||t.searchReturnButton.setAttribute(k,i.toString())),!t.globalLogo||(t.globalLogo.setAttribute(k,i.toString()),i+=1),!t.shoppingCart||(t.shoppingCart.setAttribute(k,i.toString()),i+=1),!t.meControl||(t.meControl.setAttribute(k,i.toString()),i+=1)):(!t.cookieAlertCancel||t.cookieAlertCancel.removeAttribute(k),!t.cookieAlertAboutAds||t.cookieAlertAboutAds.removeAttribute(k),!t.skipToMainBanner||t.skipToMainBanner.setAttribute(k,"0"),!t.hamburgerButton||t.hamburgerButton.removeAttribute(k),!t.searchBox||t.searchBox.removeAttribute(k),!t.searchButton||t.searchButton.removeAttribute(k),!t.searchReturnButton||t.searchReturnButton.removeAttribute(k),!t.globalLogo||t.globalLogo.removeAttribute(k),!t.shoppingCart||t.shoppingCart.removeAttribute(k),!t.meControl||t.meControl.setAttribute(k,"0"),!t.categoryButton||t.categoryButton.removeAttribute(k))}};this.isSingleStack=o.selectFirstElement(".c-sgl-stck");this.headerElement=o.selectFirstElement(n.selector);this.globalLogo=o.selectFirstElement(d+" .c-logo");this.cookieAlertCancel=o.selectFirstElement(nt);this.cookieAlertAboutAds=o.selectFirstElement(tt);this.skipToMainBanner=o.selectFirstElement(it);this.hamburgerButton=o.selectFirstElement(d+" "+rt+" ");this.searchReturnButton=o.selectFirstElement(d+" "+ut);this.globalHeaderElement=o.selectFirstElement(d);o.removeClass(this.headerElement,"no-js");this.catPaddles=new i.UhfPaddles(o.selectFirstElement(g));this.globalPaddles=new i.UhfPaddles(o.selectFirstElement(d));this.applyFlexClassNameForLegacyBrowsers();this.isMobile()&&!this.wasMobile?(e.NavigationMenus.init(),e.NavigationMenus.handleMoveIntoMobileViewport(),this.wasMobile=!0,this.catPaddles.handleMoveIntoMobileViewport(),this.globalPaddles.handleMoveIntoMobileViewport()):(this.wasMobile=!1,this.catPaddles.handleMoveIntoDesktopViewport(),this.globalPaddles.handleMoveIntoDesktopViewport(),this.menuElement=o.selectElements(".c-uhf-menu"),!this.menuElement||o.addEvent(this.menuElement,o.eventTypes.click,this.initializeMenus),this.isSingleStack&&(this.overflowMenuElement=new f.UhfOverflowMenu,this.overflowMenuElement.handleMoveIntoDesktopViewport()));this.searchElement=o.selectFirstElement(d+"  .c-search");this.searchBox=o.selectFirstElement("input",this.searchElement);this.searchButton=o.selectFirstElement("button",this.searchElement);this.initializeSearch();ct=!!o.selectFirstElement("#"+r.ShoppingCart.shoppingCartFrameId);ct&&new r.ShoppingCart;this.shoppingCart=o.selectFirstElement(r.ShoppingCart.shoppingCartAnchorId);this.meControl=o.selectFirstElement(ft);this.categoryButton=o.selectFirstElement(et);o.addThrottledEvent(window,o.eventTypes.resize,this.onWindowResize,66);p=o.selectFirstElement("#uhfCookieAlert");p&&(this.cookieAlert=new c.UhfCookieAlert(p),this.cookieAlert.subscribe({onBannerClosed:this.delegateBannerNotification}),this.updateBannerBufferHeight());var lt=window.mscc,ht=o.selectFirstElement("#epb"),at=o.hasClass(p,this.hiddenClass)||lt&&!lt.isVisible();(!p||at)&&(this.edgePromoBanner=new l.UhfPromoBanner(ht),this.edgePromoBanner.subscribe({onBannerClosed:this.delegateBannerNotification}),this.updateBannerBufferHeight());(!p||at)&&(!ht||o.hasClass(ht,this.hiddenClass))&&(vt=o.selectFirstElement("#swp"),o.removeClass(vt,this.hiddenClass));st.setAction();a.UhfLanguageToggle.init();v.UhfCookieAuditor.audit();yt=new y.UhfGreenId;setTimeout(yt.createGreenIdIframe,6e3);window.msCommonShell=window.msCommonShell||{};pt=window.msCommonShell._catHTML;window.msCommonShell._catHTML=null;window.msCommonShell.swapCategoryHeader=this.swapCategoryHeader.bind(this);this.swapCategoryHeader(pt);this.updateTabindexOrder(this.isMobile());o.addEvent(window,o.eventTypes.resize,this.stickFooterToBottom);this.stickFooterToBottom();this.isSingleStack&&!this.isMobile()&&this.enableKeyBoardNavigation()}return n.prototype.setHeaderTop=function(n){o.css(this.headerElement,"top",n)},n.prototype.checkForViewportChange=function(){var n=this.isMobile();n&&!this.wasMobile?(!this.menuElement||o.removeEvent(this.menuElement,o.eventTypes.click,this.initializeMenus),e.NavigationMenus.isMenuInitialized||e.NavigationMenus.init(),this.isSingleStack&&this.overflowMenuElement&&this.overflowMenuElement.handleMoveIntoMobileViewport(),e.NavigationMenus.handleMoveIntoMobileViewport(),this.searchModule&&this.searchModule.hide(),this.catPaddles.handleMoveIntoMobileViewport(),this.globalPaddles.handleMoveIntoMobileViewport(),this.updateTabindexOrder(!0),this.wasMobile=!0):!n&&this.wasMobile&&(e.NavigationMenus.handleMoveIntoDesktopViewport(),this.searchModule&&this.searchModule.hide(),this.catPaddles.handleMoveIntoDesktopViewport(),this.globalPaddles.handleMoveIntoDesktopViewport(),this.isSingleStack&&(this.overflowMenuElement?this.overflowMenuElement.handleMoveIntoDesktopViewport():(this.overflowMenuElement=new f.UhfOverflowMenu,this.overflowMenuElement.handleMoveIntoDesktopViewport())),this.wasMobile=!1,this.updateTabindexOrder())},n.setTheme=function(t){var s=o.selectFirstElement(".c-uhfh.f-transparent"),u,f,e;if(s){var h=o.selectElements(d+","+g,s),i=("theme-"+t).toLowerCase(),c=/theme-(dark|light)/,r=c.test(i)?h[0].className.match(c)[0]:!1;if(!!r&&r!==i)for(n.swapLogoImage(i,r),u=0,f=h;u<f.length;u++)e=f[u],o.removeClass(e,r),o.addClass(e,i)}},n.swapLogoImage=function(t,i){var r=o.selectFirstElement(n.logoImageSelector);if(r){var u=function(n){return n==="theme-light"?"gray":"white"},f=u(i),e=u(t);r.setAttribute("src",r.src.replace(f,e))}},n.prototype.applyFlexClassNameForLegacyBrowsers=function(){for(var i,r=document.createElement("p").style,n=0,t=["flex","msFlex","OFlex","MozFlex","WebkitFlex"];n<t.length;n++)if(i=t[n],r[i]!==undefined)return;o.addClass(this.headerElement,"context-noflex")},n.selector=".c-uhfh",n.logoImageSelector=".c-uhfh > div:first-child .c-logo .c-image",n}();t.UniversalHeader=ht});require(["jqReady!"],function(){require(["universalHeader","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{c:n.UniversalHeader}])})});require(["jqReady!"],function(){require(["universalHeader","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{c:n.UniversalHeader}])})});
/*!
 handlebars v1.2.1
Copyright (C) 2011 by Yehuda Katz
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
@license
*/
require(["oneStore.Handlebars.helpers"],function(n){n.register()});_requirejs=window.requirejs&&window.requirejs.specified&&window.requirejs||window.require;!_requirejs.specified("jqReady")&&window.jQuery&&(define.amd.jQuery=!1,define("jqReady",[],function(){return window.jQuery})),function(){var n=document.querySelector('meta[name="is-onerf"]'),t=n&&n.getAttribute("content")==="true";(window.noMwf||t)&&define("platform",[],function(){return undefined})}();require(["jqReady!","oneStore.storeShell"],function(n,t){n(function(){t.initShell()})});define("oneStore.userAuth",["jqReady!","oneStore.storeShell","service"],function(n,t,i){var u="/store/user/getuserjson",f="/store/user/IsAuthorizedForHbiSa",r="application/json",e=function(){var t=n.Deferred(),i=window.prompt("Please provide RPS ticket from https://onestore-ppe.microsoft.com/_tools/UserProfile:");return i?t.resolve(i):t.reject(),t.promise()},o=function(){var f=n.Deferred(),o=t.createUserInfoQueryString(),e=t.getNativeClientUserCredentials(),s,h;return e&&e.Ticket?(s=e.Ticket.replace(/WLID1\.0=(t=)?/,""),f.resolve(s)):o?(h={currentOperationName:"GetUserDetails",operationName:"getuserjson",serviceName:"OneStore",url:u+o,version:"1",contentType:r,noCacheBusting:!0},i.get(h).then(function(n){n&&n.AuthTicket?f.resolve(n.AuthTicket):f.reject()},f.reject)):f.reject(),f.promise()},s=function(){var u=n.Deferred(),o=t.createUserInfoQueryString(),e;return t.isSfa?u.resolve(!0):o?(e={currentOperationName:"CheckUserAuthorizationStatus",operationName:"IsAuthorizedForHbiSa",serviceName:"OneStore",url:f,version:"1",contentType:r,noCacheBusting:!0},i.get(e).then(function(n){n&&n.isAuthorizedForHbiSa?u.resolve(n.isAuthorizedForHbiSa):u.reject()},u.reject)):u.reject(),u.promise()},h=function(n){return n?e():o()};return{getUserTicket:h,isAuthorizedForHbiSa:s}});define("oneStore.pdpCartliteAction",["jqReady!","Handlebars","oneStore.unhide"],function(n,t,i){var r=function(n){var i=n.data("target")||"cart",r=n.data("culture")||"en-US",t="/"+r.toLowerCase()+"/store/buy?route="+i;n.data("ave-verified")&&(t=t+"&ave=1");window.location.href=t},u=function(){n(".cli_cart_checkout, .cli_go_to_cart").click(function(){r(n(this))})},f=function(){var t=n(".cartlite-loading-container");t.prepend('<div class="c-progress f-indeterminate-local f-progress-small cartLiteLoadingAnimation"><span/><span/><span/><span/><span/><\/div>');n(".cartlite-loading-container").addClass("cartlite-loading")},e=function(){n(".cartlite-loading-container").html("");n(".cartlite-loading-container").removeClass("cartlite-loading")},o=function(){i.hide("h2.cartlite-title");i.hide("button.goToCartBtn");i.hide("button.checkoutBtn");i.hide("div.addtocart-result-host")},s=function(){i.unhide("h2.cartlite-title");i.unhide("button.goToCartBtn");i.unhide("button.checkoutBtn");i.unhide("div.addtocart-result-host")},h=function(i){var r,u;i&&(i.AddedItems||i.FailedItems)&&(r=i.AddedItems&&i.AddedItems.length?n(".cartlite-title").data("title-success"):n(".cartlite-title").data("title-fail"),n(".cartlite-title").html(r),u=t.compile(n("#addtocart-result-template").first().html()),n(".addtocart-result-host").html(u(i)));e();s();n("button.checkoutBtn").focus()},c=function(){n(".addtocart-result-host").html("");o();f()},l=function(){setTimeout(function(){n("div.cart-lite-trigger").click();n(".cartlite-dialog").offset().top<n(window).scrollTop()&&window.scroll(0,n(".cartlite-dialog").offset().top)},100)};return{init:u,showAddedItems:h,clearAddedItems:c,showCartLite:l}});require(["oneStore.pdpCartliteAction","jqReady!"],function(n,t){t(function(){n.init()})});define("oneStore.telemetry",["clickstreamTracker"],function(n){var t=window.performance&&window.performance.mark&&window.performance.clearMarks&&window.performance.measure&&window.performance.clearMeasures&&window.performance.getEntriesByName,i={},u=function(n,t){i[n]=t},f=function(n){var t=window.performance.getEntriesByName(n);return t&&t.length&&t[t.length-1]},e=function(n,i,r){return t?(window.performance.measure(n,i,r),f(n)):null},o=function(n,t,i){var r=e(n,t,i);r&&u(r.name,r.duration)},r=function(n){t&&window.performance.mark(n)},s=function(r){t&&(n.captureContentUpdate({pageTags:{perfInfo:i,orderInfo:r}}),i={})},h=function(n,t,i){r(i);o(n,t,i)};return{setMarker:r,setMarkerAndMeasureImmediately:h,capturePerfData:s}});define("oneStore.purchaseFlow.cart",["jquery","service","oneStore.userAuth","oneStore.pdpCartliteAction","oneStore.telemetry","vortexEvents"],function(n,t,i,r,u,f){function a(n){if(!e){var t=window.requirejs&&window.requirejs.specified&&window.requirejs||window.require;if(t.specified("cart-lite"))return t(["cart-lite"],function(t){return e=t,h(n)})}return h(n)}function o(n,t){if(!n[t])throw new Error('"'+t+'" purchaseOption property is required for adding to cart');}function l(t){var r=t.culture,u=t.productId,f=t.skuId,e=t.availabilityId,o=t.upsellChannelId,s=n(".cli_pdp-buy-button").data("redirect-to-buyv2"),i;return s?"/"+r.toLowerCase()+"/store/buyV2?isadditem=1&pid="+u+"&sid="+f+"&aid="+e+"&crosssellid="+o:(i="/"+r.toLowerCase()+"/store/buy?pid="+u+"&sid="+f+"&aid="+e+"&crosssellid="+o,t.aveVerified&&(i=i+"&ave=1"),t.disid&&t.dmid&&(i=i+"&disid="+t.disid+"&dmid="+t.dmid),i)}function v(t){var i={itemPSA:{productId:t.productId,skuId:t.skuId,availabilityId:t.availabilityId,upsellChannelId:t.upsellChannelId,quantity:t.quantity||n(".cli_pdp-buy-button").data("quantity"),maxOrderQuantity:t.maxOrderQuantity},itemDetails:{title:t.title||n("#page-title").text().trim(),price:t.price||n(".price-info .srv_price .price-disclaimer").eq(0).text().trim()||n(".price-info .srv_price").eq(0).text().trim(),salePrice:n(".price-info .srv_price .srv_saleprice").eq(0).text().trim()}};return t.disid&&t.dmid&&(i.itemPSA.distributorId=t.disid,i.itemPSA.deliveryMethodId=t.dmid),i}function s(t){var i=l(t);return window.location.href=i,n.Deferred().promise()}function h(h){var y=h.referral||"Pdp",p,a;return u.setMarker("ready_start"),r.clearAddedItems(),r.showCartLite(),n(".cli_pdp-buy-button").prop("disabled",!0),o(h,"market"),o(h,"culture"),p={market:h.market,language:h.culture,purchaseHost:c[h.environment]||c.prod,serviceRequest:t},a=n.Deferred(),i.getUserTicket().then(function(n){n&&(p.auth=n)},function(){}).always(function(){try{e["default"].init(p).then(function(){e["default"].addItemToActiveOrder(v(h)).then(function(t){return e["default"].updateCartCountFromPurchase(t.Order),e["default"].readyEnd(),n(".cli_pdp-buy-button").prop("disabled",!1),t.directToCartUrl=l(h),u.setMarker("render_start"),r.showAddedItems(t),u.setMarkerAndMeasureImmediately("TTFlyout_Render","render_start","render_end"),a.resolve(),u.setMarkerAndMeasureImmediately("TT"+y+"Flyout_Ready","ready_start","ready_end"),u.capturePerfData(),t}).fail(function(){e["default"].readyEnd();n(".cli_pdp-buy-button").prop("disabled",!1);s(h);a.reject();u.setMarkerAndMeasureImmediately("TT"+y+"Flyout_Ready","ready_start","ready_end");u.capturePerfData()})}).fail(function(){n(".cli_pdp-buy-button").prop("disabled",!1);s(h);a.reject();u.setMarkerAndMeasureImmediately("TT"+y+"Flyout_Ready","ready_start","ready_end");u.capturePerfData()})}catch(t){var i={event:"cartliteError",uri:document.location.href,details:t};f.sendError(i,!1);s(h)}}),a.promise()}var e,c={int:"purchase-int.mp.microsoft.com",prod:"purchase.mp.microsoft.com"};return{addItem:function(n){return(o(n,"productId"),o(n,"skuId"),o(n,"availabilityId"),n.stayOnPdp)?e?h(n):a(n):s(n)},addStaticBundle:function(t,i){var r="/"+i.culture.toLowerCase()+"/store/buy?"+i.urlParam;return window.location.href=r,n.Deferred().promise()},launchDeviceConfig:function(t){var i=t.aveVerified?"&student=verified":"",r=t.preview?"&preview="+t.preview:"",u=t.previewModes?"&previewModes="+t.previewModes:"",f=t.useEnhancedConfig?"&selectedColor="+encodeURIComponent(t.selectedClrSwatch):"",e=t.isStoreAppRequest?"pagenav:/pages/productconfigurator?productId="+t.productId+f:"/"+t.culture.toLowerCase()+"/store/config/"+t.productName+"/"+t.productId+"?crosssellid="+t.upsellChannelId+i+r+u+f,o;return t.useConfigSkuId&&(o="&skuId="+t.skuId,e=t.isStoreAppRequest?"pagenav:/pages/productconfigurator?productId="+t.productId+o:"/"+t.culture.toLowerCase()+"/store/config/"+t.productName+"/"+t.productId+"/"+t.skuId+"?crosssellid="+t.upsellChannelId+i+r+u),window.location.href=e,n.Deferred().promise()}}});define("oneStore.pdpHeaderLoc",["jqReady!"],function(n){var t=function(){var t=n(".cli_header_loc").get(0);return t?t.dataset||[].slice.call(t.attributes).reduce(function(n,t){return/^data-/.test(t.name)&&(n[t.name.substr(5)]=t.value),n},{}):{}};return{getLoc:t}});require(["oneStore.productPageBar","jqReady!"],function(n,t){t(function(){n.setup()})});define("oneStore.configPageBarConstants",[],function(){return{configRootSelector:".configroot",selectionChangedEvent:"selchanged",addtionalInfoSelector:".m-page-bar .additionalinfo",priceSelector:".m-page-bar .c-price",mwfHideClass:"x-hidden",hideTitleClass:".hide_title",pageBarSummarySelector:".context-menu",buyButtonSelector:".checkout-button>button",studentQueryParameterName:"student",studentQueryParameterValue:"verified",channelIdQueryParameterName:"crosssellid",pendingEventKey:"pending",configActiveSkuSelector:".config-activesku",availabilityContainerSelector:"#av-container",promiseDateSelector:".cli_promiseDate",preorderDateAttribute:"preorder-date",releaseDateSelector:".cli_promiseReleaseDate",discountPriceSelector:".price-disclaimer span",subTotalPriceSelector:".ordersummary .cli_subtotal-price",orderSummaryPriceSelector:".ordersummary .cli_sku-price",orderSummrayAditionalInfo:".ordersummary .additionalinfo",mwfButtonFlexClass:"f-flex",unavailablePriceText:"--",orderSummaryRestrictionSelector:".order-summary-restriction",avLookupFormat:"[data-sku-id='{0}'][data-availability-id='{1}']",loadCartApiUri:"https://sfdataservice.microsoft.com/cart/v1.0/cart/loadCart?cartType=consumer",MsaTicketPrefix:"WLID1.0=",appCartUrl:"ms-windows-store://cart"}});define("oneStore.configPageBarHelper",["jqReady!","oneStore.pdpHeaderLoc","storeApi","clickstreamTracker","jsll","oneStore.userLocalTime","oneStore.configPageBarConstants","oneStore.storeShell","service","deferred"],function(n,t,i,r,u,f,e,o,s,h){function l(){var t=n(e.configRootSelector);return t.data("is-enhanced-config")&&t.data("is-enhanced-config").toLowerCase()==="true"}function y(){var t=n(e.configRootSelector);return t.data("is-sku-param")&&t.data("is-sku-param").toLowerCase()==="true"}function a(){var t=n(e.configRootSelector),i="";return t&&(i=t.data("ctabutton-text")),i}function v(t,i){var f=l(),r=c(t,i).html(),u;n(e.priceSelector).html(r);f&&(n(e.orderSummaryPriceSelector).html(r),u=n(r).find(e.discountPriceSelector),u.length?n(e.subTotalPriceSelector).text(u.text()):n(e.subTotalPriceSelector).html(r))}function p(o,s){var w=l(),h=n(e.buyButtonSelector),p,b,k;if(!s){h.attr("disabled","disabled");w&&(n(e.orderSummaryPriceSelector).text(e.unavailablePriceText),n(e.subTotalPriceSelector).text(e.unavailablePriceText),n(e.priceSelector).html(e.unavailablePriceText),n(e.releaseDateSelector).html(""),n(e.promiseDateSelector).addClass(e.mwfHideClass),n(e.orderSummaryRestrictionSelector).removeClass(e.mwfHideClass),n(e.buyButtonSelector).text(a()));return}n(e.orderSummaryRestrictionSelector).addClass(e.mwfHideClass);w?(n(e.hideTitleClass).is(":hidden")&&n(e.addtionalInfoSelector).text(s.title).show(),n(e.orderSummrayAditionalInfo).text(s.title)):n(e.addtionalInfoSelector).text(s.title).show();v(s.skuId,s.availabilityId);p=t.getLoc();n(e.promiseDateSelector).addClass(e.mwfHideClass);s.isPreOrder?(h.text(p.preorder),b=c(s.skuId,s.availabilityId),k=f.convertToLocalDate(b.data(e.preorderDateAttribute),!1,!0),n(e.releaseDateSelector).html(k),n(e.promiseDateSelector).removeClass(e.mwfHideClass)):h.text(i?p.checkout:p.addtocart);s.inStock?h.removeAttr("disabled"):h.attr("disabled","disabled").text(p.outofstock);n(e.configActiveSkuSelector).data("product-id",s.productId).data("sku-id",s.skuId).data("availability-id",s.availabilityId);o&&!y()&&r.capturePageAction(o.target,{behavior:u.behavior.UNDEFINED,actionType:u.actionType.CLICKLEFT,contentTags:{pid:s.productId,sku:s.skuId}})}function w(n,t,i,f){var e=c(t,i),o={behavior:u.behavior.ADDTOCART,actionType:u.actionType.CLICKLEFT,pageTags:{ProductInfo:{sku:t,availabilityId:i,lstPrice:e.data("list-price"),rtPrice:e.data("retail-price"),cur:e.data("currency-code"),aveVerified:f}},contentTags:{sku:t}};r.capturePageAction(n.target,o)}function c(t,i){return n(e.availabilityContainerSelector).find(e.avLookupFormat.replace("{0}",t).replace("{1}",i))}function b(n,t,r,f,c,l){var y=h(),b={locale:f,market:c,catalogClientType:i?"storeApp":"storeWeb",friendlyName:"cart-"+c,riskSessionId:u.cookie.getCookie("MS0")||l,clientContext:{client:i?"UniversalStoreNativeClient.Cart":"UniversalWebStore.Cart"},itemsToAdd:{items:[{productId:n,skuId:t,availabilityId:r,quantity:1}]}},p={"MS-CV":u.cv.getValue(),"x-authorization-muid":u.ids.getVisitorId()},v,a,w;return i?(a=o.getNativeClientUserCredentials(),a&&a.Ticket?v=a.Ticket:a&&a.XToken&&(v=a.XToken)):window.storeUser&&window.storeUser.authTicket&&(v=e.MsaTicketPrefix+window.storeUser.authTicket),v&&(p.Authorization=v),w={operationName:"LoadCart",serviceName:"StorefrontsDataService",contentType:"application/json",url:e.loadCartApiUri,additionalHeaders:p,body:b},s.put(w).then(function(n){if(n&&n.cart&&n.cart){if(n.cart.type=="error")return y.reject();y.resolve(n.cart)}},function(){return y.reject()}),y.promise()}return{updateWithSkuInfo:p,updatePrice:v,isEnhancedConfiguratorEnabled:l,logPageAction:w,getCtaButtonText:a,getAvailabilityElement:c,invokeSFDSLoadCart:b}});define("oneStore.configPageBarWeb",["jqReady!","oneStore.purchaseFlow.cart","window","oneStore.uriBuilder","oneStore.productPageBar","oneStore.configPageBarHelper","oneStore.configPageBarConstants"],function(n,t,i,r,u,f,e){function o(){var o=r.getValueOfQueryParameter(i.location.href,e.studentQueryParameterName)||"",u=o.toLowerCase()==e.studentQueryParameterValue,s=n(e.configRootSelector),h=r.getValueOfQueryParameter(i.location.href,e.channelIdQueryParameterName)||s.data("channel-id");n("body").on("click",e.buyButtonSelector,function(i){var r=n(this),o=n(e.configActiveSkuSelector),s=o.data("sku-id")||"",c=o.data("availability-id")||"",l={culture:r.data("culture"),market:r.data("market"),environment:r.data("environment"),productId:o.data("product-id")||"",skuId:s,availabilityId:c,upsellChannelId:h,aveVerified:u,stayOnPdp:r.data("enable-cart-flyout")||!1,maxOrderQuantity:r.data("max-order-quantity")};t.addItem(l);f.logPageAction(i,s,c,u)})}function s(){var t,r,h,c,s;o();t=n(e.configRootSelector);r=f.isEnhancedConfiguratorEnabled();r&&(h=t.data("sku-id"),c=t.data("aid"),f.updatePrice(h,c));t.on(e.selectionChangedEvent,f.updateWithSkuInfo).data("registered",1);s=t.data(e.pendingEventKey);s&&(f.updateWithSkuInfo(null,s),t.data(e.pendingEventKey,null));n(i).scroll(function(){var n=i.scrollY||i.pageYOffset||document.documentElement.scrollTop;u.hidePageBarSummaryOnScroll(e.hideTitleClass,n)});n(i).resize(function(){var t=n(i).width();u.expandBuyButtonInSmallViewPort(e.hideTitleClass,t);r&&n(e.buyButtonSelector).addClass(e.mwfButtonFlexClass)})}return{setup:s}});define("oneStore.configPageBarSfa",["jqReady!","oneStore.pdpHeaderLoc","storeApi","window","oneStore.uriBuilder","jsll","oneStore.productPageBar","oneStore.configPageBarHelper","oneStore.configPageBarConstants"],function(n,t,i,r,u,f,e,o,s){function h(i){var r=n(".cli_store-pagebar"),e,h;if(!i){r.data("is-action-enabled",!1);r.data("subtitle","");r.data("display-price",s.unavailablePriceText);r.data("buy-button-text",o.getCtaButtonText());return}r.data("product-id",i.productId);r.data("subtitle",i.title);r.data("sku-id",i.skuId);e=o.getAvailabilityElement(i.skuId,i.availabilityId);h=e.data("formatted-price");r.data("display-price",h);r.data("availability-id",i.availabilityId);var c={products:[{productId:i.productId,skuId:i.skuId,availabilityId:i.availabilityId}]},u=t.getLoc(),f=u.checkout;i.isPreOrder?f=u.preorder:i.inStock||(f=u.outofstock);r.data("is-action-enabled",i.inStock||!1);r.data("buy-button-text",f);r.data("purchase-data",JSON.stringify(c))}function c(t,i){o.updateWithSkuInfo(t,i);n(s.hideTitleClass).is(":hidden")&&(e.enableStickyPageBar(),h(i),e.pageBarDataUpdated(),e.show())}function l(){var c=u.getValueOfQueryParameter(r.location.href,s.studentQueryParameterName)||"",l=c.toLowerCase()==s.studentQueryParameterValue,t=n(s.configRootSelector),f=u.getValueOfQueryParameter(r.location.href,s.channelIdQueryParameterName)||t.data("channel-id"),v=11709,e=t.data("server-interstitial"),h=t.data("is-sfds-enabled"),y=t.data("risk-session-id");n("body").on("click",s.buyButtonSelector,function(t){var b=n(this),w=n(s.configActiveSkuSelector),p=w.data("product-id")||"",u=w.data("sku-id")||"",c=w.data("availability-id")||"",k;f&&e&&e.toLowerCase()==="true"?r.location.href=a(p,u,c,f):h&&h.toLowerCase()==="true"?o.invokeSFDSLoadCart(p,u,c,b.data("culture"),b.data("market"),y).always(function(){r.location.href=s.appCartUrl}):parseInt(i.appVersion.split(".")[0])>=v?(k={products:[{productId:p,skuId:u,availabilityId:c,collectionId:f}]},i.purchase.startPurchaseAsync("cart",JSON.stringify(k))):i.purchase.startPurchaseAsync(p,u,c,f,"cart");o.logPageAction(t,u,c,l)})}function a(n,t,i,r){var u=n+"-"+t+"-"+i;return r&&(u+=",c-"+r),"pagenav:/pages/interstitial?addtocart=true&p="+encodeURIComponent(u)}function v(){var t,r,u,f,i;l();t=n(s.configRootSelector);r=o.isEnhancedConfiguratorEnabled();r&&(e.disableStickyPageBar(),u=t.data("sku-id"),f=t.data("aid"),o.updatePrice(u,f),h(null));t.on(s.selectionChangedEvent,c).data("registered",1);i=t.data(s.pendingEventKey);i&&(c(null,i),t.data(s.pendingEventKey,null))}return{setup:v}});define("oneStore.configPageBar",["storeApi","oneStore.configPageBarWeb","oneStore.configPageBarSfa"],function(n,t,i){return n?i:t});require(["oneStore.configPageBar","jqReady!"],function(n,t){t(function(){n.setup()})});lpTag=lpTag||{};lpMTagConfig=lpMTagConfig||{};lpTag.vars=lpTag.vars||[];lpTag.dbs=lpTag.dbs||[];lpTag.sdes=lpTag.sdes||[];lpFlight="#live-engage-flight";enableJsUpdate=$(lpFlight).data("enableJsUpdate")==="True"?!0:!1;require(["utility"],function(n){n.getCookie("_lptChat")=="chatting"?(lpTag.load(),_lptLoad=!0):window._lptStop="true"});enableJsUpdate?(window.lpTag=window.lpTag||{},typeof window.lpTag._tagCount=="undefined"?(window.lpTag={site:lpTag.site||"",section:lpTag.section||"",autoStart:lpTag.autoStart===!1?!1:!0,ovr:lpTag.ovr||{},_v:"1.6.0",_tagCount:1,protocol:"https:",events:{bind:function(n,t,i){lpTag.defer(function(){lpTag.events.bind(n,t,i)},0)},trigger:function(n,t,i){lpTag.defer(function(){lpTag.events.trigger(n,t,i)},1)}},defer:function(n,t){t==0?(this._defB=this._defB||[],this._defB.push(n)):t==1?(this._defT=this._defT||[],this._defT.push(n)):(this._defL=this._defL||[],this._defL.push(n))},load:function(n,t,i){var r=this;setTimeout(function(){r._load(n,t,i)},0)},_load:function(n,t,i){var u=n,r;n||(u=this.protocol+"//"+(this.ovr&&this.ovr.domain?this.ovr.domain:"lptag.liveperson.net")+"/tag/tag.js?site="+this.site);r=document.createElement("script");r.setAttribute("charset",t?t:"UTF-8");i&&r.setAttribute("id",i);r.setAttribute("src",u);document.getElementsByTagName("head").item(0).appendChild(r)},init:function(){this._timing=this._timing||{};this._timing.start=(new Date).getTime();var n=this;window.attachEvent?window.attachEvent("onload",function(){n._domReady("domReady")}):(window.addEventListener("DOMContentLoaded",function(){n._domReady("contReady")},!1),window.addEventListener("load",function(){n._domReady("domReady")},!1));typeof _lptStop=="undefined"&&this.load()},start:function(){this.autoStart=!0},_domReady:function(n){this.isDom||(this.isDom=!0,this.events.trigger("LPT","DOM_READY",{t:n}));this._timing[n]=(new Date).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],ev:lpTag.ev||[]},lpTag.init()):window.lpTag._tagCount+=1,require(function(){function n(){function n(){for(var i,n=document.getElementsByClassName("LPMcontainer"),r=n.length,t=r;t--;)i=n[t],i.onclick=function(){lpTag.sdes.push({type:"lead",lead:{topic:"Store"}})}}lpTag.events.bind("LP_OFFERS","OFFER_DISPLAY",n)}lpTag.events.bind("LP_OFFERS","START",n)})):(window.lpTag=window.lpTag||{},typeof window.lpTag._tagCount=="undefined"?window.lpTag={pid:lpTag.pid||"",sku:lpTag.sku||"",site:lpTag.site||"",section:lpTag.section||"",autoStart:lpTag.autoStart===!1?!1:!0,ovr:lpTag.ovr||{},_v:"1.6.0",_tagCount:1,protocol:"https:",events:{bind:function(n,t,i){lpTag.defer(function(){lpTag.events.bind(n,t,i)},0)},trigger:function(n,t,i){lpTag.defer(function(){lpTag.events.trigger(n,t,i)},1)}},defer:function(n,t){t==0?(this._defB=this._defB||[],this._defB.push(n)):t==1?(this._defT=this._defT||[],this._defT.push(n)):(this._defL=this._defL||[],this._defL.push(n))},load:function(n,t,i){var r=this;setTimeout(function(){r._load(n,t,i)},0)},_load:function(n,t,i){var u=n,r;n||(u=this.protocol+"//"+(this.ovr&&this.ovr.domain?this.ovr.domain:"lptag.liveperson.net")+"/tag/tag.js?site="+this.site);r=document.createElement("script");r.setAttribute("charset",t?t:"UTF-8");i&&r.setAttribute("id",i);r.setAttribute("src",u);document.getElementsByTagName("head").item(0).appendChild(r)},init:function(){this._timing=this._timing||{};this._timing.start=(new Date).getTime();var n=this;window.attachEvent?window.attachEvent("onload",function(){n._domReady("domReady")}):(window.addEventListener("DOMContentLoaded",function(){n._domReady("contReady")},!1),window.addEventListener("load",function(){n._domReady("domReady")},!1));typeof _lptStop=="undefined"&&this.load()},start:function(){this.autoStart=!0},_domReady:function(n){this.isDom||(this.isDom=!0,this.events.trigger("LPT","DOM_READY",{t:n}));this._timing[n]=(new Date).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],ev:lpTag.ev||[]}:window.lpTag._tagCount+=1);require(["deferExec!10000"],function(){var t=function(){_lptLoad||(lpTag.load(),_lptLoad=!0)},n=window.mscc;if(!n||n.hasConsent())t();else n.on("consent",t)});require(["utility"],function(n){var t=function(t){t==="chatting"?n.setCookie("_lptChat","chatting","/"):t==="ended"&&n.setCookie("_lptChat","ended","/")};lpTag.events.bind("ChatAPIV3","state",t)});require(["jqReady!","jsll","clickstreamTracker"],function(n,t,i){n(".multiflyout-button").click(function(){_lptLoad||(lpTag.load(),_lptLoad=!0)});n("body").on("click","#lpChatPostsales a, #lpChatPostsales button,  #lpChatService a, #lpChatService button, #lpChatSales a, #lpChatSales button, #lpChatSMB a, #lpChatSMB button",function(n){var r={behavior:t.behavior.CHATINITIATE,actionType:t.actionType.CLICKLEFT,contentTags:{pid:lpTag.pid,sku:lpTag.sku,cN:"StartChat"}};i.capturePageAction(n.target,r)})});liveEngageOffice=$(".live-engage-office");isOffice=!1;liveEngageOffice.length>0&&(isOffice=$(liveEngageOffice).attr("data-isOfficeCommercial").toLowerCase()==="true"?!0:!1);isOffice&&lpTag.events.bind("LP_OFFERS","START",lpBindButton);
/*!
 handlebars v1.2.1
Copyright (C) 2011 by Yehuda Katz
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
@license
*/
define("Handlebars",[],function(){var n=function(){var u=function(){"use strict";function n(n){this.string=n}return n.prototype.toString=function(){return""+this.string},n}(),t=function(n){"use strict";function h(n){return e[n]||"&amp;"}function c(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}function l(n){return n instanceof f?n.toString():!n&&n!==0?"":(n=""+n,!s.test(n))?n:n.replace(o,h)}function a(n){return n||n===0?u(n)&&n.length===0?!0:!1:!0}var t={},f=n,e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=/[&<>"'`]/g,s=/[&<>"'`]/,i,r,u;return t.extend=c,i=Object.prototype.toString,t.toString=i,r=function(n){return typeof n=="function"},r(/x/)&&(r=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"}),t.isFunction=r,u=Array.isArray||function(n){return n&&typeof n=="object"?i.call(n)==="[object Array]":!1},t.isArray=u,t.escapeExpression=l,t.isEmpty=a,t}(u),n=function(){"use strict";function t(){for(var i=Error.prototype.constructor.apply(this,arguments),t=0;t<n.length;t++)this[n[t]]=i[n[t]]}var n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,t}(),i=function(n,t){"use strict";function e(n,t){this.helpers=n||{};this.partials=t||{};p(this)}function p(n){n.registerHelper("helperMissing",function(n){if(arguments.length===2)return undefined;throw new Error("Missing helper: '"+n+"'");});n.registerHelper("blockHelperMissing",function(t,i){var r=i.inverse||function(){},u=i.fn;return f(t)&&(t=t.call(this)),t===!0?u(this):t===!1||t==null?r(this):c(t)?t.length>0?n.helpers.each(t,i):r(this):u(t)});n.registerHelper("each",function(n,t){var s=t.fn,l=t.inverse,r=0,u="",i,h,e;if(f(n)&&(n=n.call(this)),t.data&&(i=o(t.data)),n&&typeof n=="object")if(c(n))for(h=n.length;r<h;r++)i&&(i.index=r,i.first=r===0,i.last=r===n.length-1),u=u+s(n[r],{data:i});else for(e in n)n.hasOwnProperty(e)&&(i&&(i.key=e,i.index=r,i.first=r===0),u=u+s(n[e],{data:i}),r++);return r===0&&(u=l(this)),u});n.registerHelper("if",function(n,t){return f(n)&&(n=n.call(this)),(t.hash.includeZero||n)&&!r.isEmpty(n)?t.fn(this):t.inverse(this)});n.registerHelper("unless",function(t,i){return n.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})});n.registerHelper("with",function(n,t){return f(n)&&(n=n.call(this)),r.isEmpty(n)?void 0:t.fn(n)});n.registerHelper("log",function(t,i){var r=i.data&&i.data.level!=null?parseInt(i.data.level,10):1;n.log(r,t)})}function v(n,t){u.log(n,t)}var i={},r=n,y=t,s,h,u,o;i.VERSION="1.2.1";s=4;i.COMPILER_REVISION=s;h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};i.REVISION_CHANGES=h;var c=r.isArray,f=r.isFunction,l=r.toString,a="[object Object]";return i.HandlebarsEnvironment=e,e.prototype={constructor:e,logger:u,log:v,registerHelper:function(n,t,i){if(l.call(n)===a){if(i||t)throw new y("Arg not supported with multiple helpers");r.extend(this.helpers,n)}else i&&(t.not=i),this.helpers[n]=t},registerPartial:function(n,t){l.call(n)===a?r.extend(this.partials,n):this.partials[n]=t}},u={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(n,t){if(u.level<=n){var i=u.methodMap[n];typeof console!="undefined"&&console[i]&&console[i].call(console,t)}}},i.logger=u,i.log=v,o=function(n){var t={};return r.extend(t,n),t},i.createFrame=o,i}(t,n),o=function(n,t,i){"use strict";function h(n){var t=n&&n[0]||1,i=s,r,u;if(t!==i)if(t<i){r=o[i];u=o[t];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+u+").");}else throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+n[1]+").");}function c(n,t){if(!t)throw new Error("No environment passed to template");var r=function(n,i,r,u,f,o){var s=t.VM.invokePartial.apply(this,arguments),h;if(s!=null)return s;if(t.compile)return h={helpers:u,partials:f,data:o},f[i]=t.compile(n,{data:o!==undefined},t),f[i](r,h);throw new e("The partial "+i+" could not be compiled when running in runtime-only mode");},i={escapeExpression:u.escapeExpression,invokePartial:r,programs:[],program:function(n,t,i){var r=this.programs[n];return i?r=f(n,t,i):r||(r=this.programs[n]=f(n,t)),r},merge:function(n,t){var i=n||t;return n&&t&&n!==t&&(i={},u.extend(i,t),u.extend(i,n)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(r,u){var f,e,o,s;return u=u||{},f=u.partial?u:t,u.partial||(e=u.helpers,o=u.partials),s=n.call(i,f,r,e,o,u.data),u.partial||t.VM.checkRevision(i.compilerInfo),s}}function l(n,t,i){var u=Array.prototype.slice.call(arguments,3),r=function(n,r){return r=r||{},t.apply(this,[n,r.data||i].concat(u))};return r.program=n,r.depth=u.length,r}function f(n,t,i){var r=function(n,r){return r=r||{},t(n,r.data||i)};return r.program=n,r.depth=0,r}function a(n,t,i,r,u,f){var o={partial:!0,helpers:r,partials:u,data:f};if(n===undefined)throw new e("The partial "+t+" could not be found");else if(n instanceof Function)return n(i,o)}function v(){return""}var r={},u=n,e=t,s=i.COMPILER_REVISION,o=i.REVISION_CHANGES;return r.checkRevision=h,r.template=c,r.programWithDepth=l,r.program=f,r.invokePartial=a,r.noop=v,r}(t,n,i),s=function(n,t,i,r,u){"use strict";var f=n,c=t,l=i,e=r,o=u,s=function(){var n=new f.HandlebarsEnvironment;return e.extend(n,f),n.SafeString=c,n.Exception=l,n.Utils=e,n.VM=o,n.template=function(t){return o.template(t,n)},n},h=s();return h.create=s,h}(i,u,n,t,o),r=function(n){"use strict";var t=n,i={ProgramNode:function(n,t,r){this.type="program";this.statements=n;this.strip={};r?(this.inverse=new i.ProgramNode(r,t),this.strip.right=t.left):t&&(this.strip.left=t.right)},MustacheNode:function(n,t,i,r){var u;this.type="mustache";this.hash=t;this.strip=r;i!=null&&i.charAt?(u=i.charAt(3)||i.charAt(2),this.escaped=u!=="{"&&u!=="&"):this.escaped=!!i;var f=this.id=n[0],e=this.params=n.slice(1),o=this.eligibleHelper=f.isSimple;this.isHelper=o&&(e.length||t)},PartialNode:function(n,t,i){this.type="partial";this.partialName=n;this.context=t;this.strip=i},BlockNode:function(n,i,r,u){if(n.id.original!==u.path.original)throw new t(n.id.original+" doesn't match "+u.path.original);this.type="block";this.mustache=n;this.program=i;this.inverse=r;this.strip={left:n.strip.left,right:u.strip.right};(i||r).strip.left=n.strip.right;(r||i).strip.right=u.strip.left;r&&!i&&(this.isInverse=!0)},ContentNode:function(n){this.type="content";this.string=n},HashNode:function(n){this.type="hash";this.pairs=n},IdNode:function(n){var r,o,i;this.type="ID";var f="",u=[],e=0;for(r=0,o=n.length;r<o;r++)if(i=n[r].part,f+=(n[r].separator||"")+i,i===".."||i==="."||i==="this")if(u.length>0)throw new t("Invalid path: "+f);else i===".."?e++:this.isScoped=!0;else u.push(i);this.original=f;this.parts=u;this.string=u.join(".");this.depth=e;this.isSimple=n.length===1&&!this.isScoped&&e===0;this.stringModeValue=this.string},PartialNameNode:function(n){this.type="PARTIAL_NAME";this.name=n.original},DataNode:function(n){this.type="DATA";this.id=n},StringNode:function(n){this.type="STRING";this.original=this.string=this.stringModeValue=n},IntegerNode:function(n){this.type="INTEGER";this.original=this.integer=n;this.stringModeValue=Number(n)},BooleanNode:function(n){this.type="BOOLEAN";this.bool=n;this.stringModeValue=n==="true"},CommentNode:function(n){this.type="comment";this.comment=n}};return i}(n),h=function(){"use strict";return function(){function n(n,t){return{left:n.charAt(2)==="~",right:t.charAt(0)==="~"||t.charAt(1)==="~"}}function i(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,inMustache_repetition0:28,inMustache_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,hash:35,hash_repetition_plus0:36,hashSegment:37,ID:38,EQUALS:39,DATA:40,pathSegments:41,SEP:42,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",38:"ID",39:"EQUALS",40:"DATA",42:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[35,1],[37,3],[26,1],[26,1],[26,1],[30,2],[21,1],[41,3],[41,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[36,1],[36,2]],performAction:function(t,i,r,u,f,e){var o=e.length-1;switch(f){case 1:return new u.ProgramNode(e[o-1]);case 2:return new u.ProgramNode([]);case 3:this.$=new u.ProgramNode([],e[o-1],e[o]);break;case 4:this.$=new u.ProgramNode(e[o-2],e[o-1],e[o]);break;case 5:this.$=new u.ProgramNode(e[o-1],e[o],[]);break;case 6:this.$=new u.ProgramNode(e[o]);break;case 7:this.$=new u.ProgramNode([]);break;case 8:this.$=new u.ProgramNode([]);break;case 9:this.$=[e[o]];break;case 10:e[o-1].push(e[o]);this.$=e[o-1];break;case 11:this.$=new u.BlockNode(e[o-2],e[o-1].inverse,e[o-1],e[o]);break;case 12:this.$=new u.BlockNode(e[o-2],e[o-1],e[o-1].inverse,e[o]);break;case 13:this.$=e[o];break;case 14:this.$=e[o];break;case 15:this.$=new u.ContentNode(e[o]);break;case 16:this.$=new u.CommentNode(e[o]);break;case 17:this.$=new u.MustacheNode(e[o-1][0],e[o-1][1],e[o-2],n(e[o-2],e[o]));break;case 18:this.$=new u.MustacheNode(e[o-1][0],e[o-1][1],e[o-2],n(e[o-2],e[o]));break;case 19:this.$={path:e[o-1],strip:n(e[o-2],e[o])};break;case 20:this.$=new u.MustacheNode(e[o-1][0],e[o-1][1],e[o-2],n(e[o-2],e[o]));break;case 21:this.$=new u.MustacheNode(e[o-1][0],e[o-1][1],e[o-2],n(e[o-2],e[o]));break;case 22:this.$=new u.PartialNode(e[o-2],e[o-1],n(e[o-3],e[o]));break;case 23:this.$=n(e[o-1],e[o]);break;case 24:this.$=[[e[o-2]].concat(e[o-1]),e[o]];break;case 25:this.$=[[e[o]],null];break;case 26:this.$=e[o];break;case 27:this.$=new u.StringNode(e[o]);break;case 28:this.$=new u.IntegerNode(e[o]);break;case 29:this.$=new u.BooleanNode(e[o]);break;case 30:this.$=e[o];break;case 31:this.$=new u.HashNode(e[o]);break;case 32:this.$=[e[o-2],e[o]];break;case 33:this.$=new u.PartialNameNode(e[o]);break;case 34:this.$=new u.PartialNameNode(new u.StringNode(e[o]));break;case 35:this.$=new u.PartialNameNode(new u.IntegerNode(e[o]));break;case 36:this.$=new u.DataNode(e[o]);break;case 37:this.$=new u.IdNode(e[o]);break;case 38:e[o-2].push({part:e[o],separator:e[o-1]});this.$=e[o-2];break;case 39:this.$=[{part:e[o]}];break;case 42:this.$=[];break;case 43:e[o-1].push(e[o]);break;case 46:this.$=[e[o]];break;case 47:e[o-1].push(e[o])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:29,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:30,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:31,21:24,30:25,38:[1,28],40:[1,27],41:26},{21:33,26:32,32:[1,34],33:[1,35],38:[1,28],41:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,38:[1,28],40:[1,27],41:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,42],24:[2,42],28:43,32:[2,42],33:[2,42],34:[2,42],38:[2,42],40:[2,42]},{18:[2,25],24:[2,25]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],38:[2,37],40:[2,37],42:[1,44]},{21:45,38:[1,28],41:26},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],40:[2,39],42:[2,39]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,40],21:50,27:49,38:[1,28],41:26},{18:[2,33],38:[2,33]},{18:[2,34],38:[2,34]},{18:[2,35],38:[2,35]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,38:[1,28],41:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,44],21:56,24:[2,44],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:55,36:61,37:62,38:[1,63],40:[1,27],41:26},{38:[1,64]},{18:[2,36],24:[2,36],32:[2,36],33:[2,36],34:[2,36],38:[2,36],40:[2,36]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,65]},{18:[2,41]},{18:[1,66]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24]},{18:[2,43],24:[2,43],32:[2,43],33:[2,43],34:[2,43],38:[2,43],40:[2,43]},{18:[2,45],24:[2,45]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],38:[2,26],40:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],38:[2,27],40:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],38:[2,28],40:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],38:[2,29],40:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],38:[2,30],40:[2,30]},{18:[2,31],24:[2,31],37:67,38:[1,68]},{18:[2,46],24:[2,46],38:[2,46]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],39:[1,69],40:[2,39],42:[2,39]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],38:[2,38],40:[2,38],42:[2,38]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{18:[2,47],24:[2,47],38:[2,47]},{39:[1,69]},{21:56,30:60,31:70,32:[1,57],33:[1,58],34:[1,59],38:[1,28],40:[1,27],41:26},{18:[2,32],24:[2,32],38:[2,32]}],defaultActions:{3:[2,2],16:[2,1],50:[2,41]},parseError:function(n){throw new Error(n);},parse:function(n){function it(){var n;return n=k.lexer.lex()||1,typeof n!="number"&&(n=k.symbols_[n]||n),n}var k=this,r=[0],f=[null],t=[],h=this.table,d="",c=0,g=0,y=0,l,nt,i,p,o,u,w,s,a,e,tt,v,b;for(this.lexer.setInput(n),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={}),l=this.lexer.yylloc,t.push(l),nt=this.lexer.options&&this.lexer.options.ranges,typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError),s={};;){if(o=r[r.length-1],this.defaultActions[o]?u=this.defaultActions[o]:((i===null||typeof i=="undefined")&&(i=it()),u=h[o]&&h[o][i]),(typeof u=="undefined"||!u.length||!u[0])&&(b="",!y)){v=[];for(a in h[o])this.terminals_[a]&&a>2&&v.push("'"+this.terminals_[a]+"'");b=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[i]||i)+"'":"Parse error on line "+(c+1)+": Unexpected "+(i==1?"end of input":"'"+(this.terminals_[i]||i)+"'");this.parseError(b,{text:this.lexer.match,token:this.terminals_[i]||i,line:this.lexer.yylineno,loc:l,expected:v})}if(u[0]instanceof Array&&u.length>1)throw new Error("Parse Error: multiple actions possible at state: "+o+", token: "+i);switch(u[0]){case 1:r.push(i);f.push(this.lexer.yytext);t.push(this.lexer.yylloc);r.push(u[1]);i=null;p?(i=p,p=null):(g=this.lexer.yyleng,d=this.lexer.yytext,c=this.lexer.yylineno,l=this.lexer.yylloc,y>0&&y--);break;case 2:if(e=this.productions_[u[1]][1],s.$=f[f.length-e],s._$={first_line:t[t.length-(e||1)].first_line,last_line:t[t.length-1].last_line,first_column:t[t.length-(e||1)].first_column,last_column:t[t.length-1].last_column},nt&&(s._$.range=[t[t.length-(e||1)].range[0],t[t.length-1].range[1]]),w=this.performAction.call(s,d,g,c,this.yy,u[1],f,t),typeof w!="undefined")return w;e&&(r=r.slice(0,-2*e),f=f.slice(0,-1*e),t=t.slice(0,-1*e));r.push(this.productions_[u[1]][0]);f.push(s.$);t.push(s._$);tt=h[r[r.length-2]][r[r.length-1]];r.push(tt);break;case 3:return!0}}return!0}},r=function(){var n={EOF:1,parseError:function(n,t){if(this.yy.parser)this.yy.parser.parseError(n,t);else throw new Error(n);},setInput:function(n){return this._input=n,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var n=this._input[0],t;return this.yytext+=n,this.yyleng++,this.offset++,this.match+=n,this.matched+=n,t=n.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),n},unput:function(n){var i=n.length,t=n.split(/(?:\r\n?|\n)/g),r,u;return this._input=n+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-i-1),this.offset-=i,r=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),u=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===r.length?this.yylloc.first_column:0)+r[r.length-t.length].length-t[0].length:this.yylloc.first_column-i},this.options.ranges&&(this.yylloc.range=[u[0],u[0]+this.yyleng-i]),this},more:function(){return this._more=!0,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var n=this.matched.substr(0,this.matched.length-this.match.length);return(n.length>20?"...":"")+n.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;return n.length<20&&(n+=this._input.substr(0,20-n.length)),(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var n=this.pastInput(),t=new Array(n.length+1).join("-");return n+this.upcomingInput()+"\n"+t+"^"},next:function(){var f,n,r,e,t,u,i;if(this.done)return this.EOF;for(this._input||(this.done=!0),this._more||(this.yytext="",this.match=""),u=this._currentRules(),i=0;i<u.length;i++)if(r=this._input.match(this.rules[u[i]]),r&&(!n||r[0].length>n[0].length)&&(n=r,e=i,!this.options.flex))break;return n?(t=n[0].match(/(?:\r\n?|\n).*/g),t&&(this.yylineno+=t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-t[t.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length},this.yytext+=n[0],this.match+=n[0],this.matches=n,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(n[0].length),this.matched+=n[0],f=this.performAction.call(this,this.yy,this,u[e],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f)?f:void 0:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var n=this.next();return typeof n!="undefined"?n:this.lex()},begin:function(n){this.conditionStack.push(n)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(n){this.begin(n)}};return n.options={},n.performAction=function(n,t,i,r){function u(n,i){return t.yytext=t.yytext.substr(n,t.yyleng-i)}var f=r;switch(i){case 0:if(t.yytext.slice(-2)==="\\\\"?(u(0,1),this.begin("mu")):t.yytext.slice(-1)==="\\"?(u(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return u(0,4),this.popState(),15;case 4:return 25;case 5:return 16;case 6:return 20;case 7:return 19;case 8:return 19;case 9:return 23;case 10:return 22;case 11:this.popState();this.begin("com");break;case 12:return u(3,5),this.popState(),15;case 13:return 22;case 14:return 39;case 15:return 38;case 16:return 38;case 17:return 42;case 19:return this.popState(),24;case 20:return this.popState(),18;case 21:return t.yytext=u(1,2).replace(/\\"/g,'"'),32;case 22:return t.yytext=u(1,2).replace(/\\'/g,"'"),32;case 23:return 40;case 24:return 34;case 25:return 34;case 26:return 33;case 27:return 38;case 28:return t.yytext=u(1,2),38;case 29:return"INVALID";case 30:return 5}},n.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s])))/,/^(?:false(?=([~}\s])))/,/^(?:-?[0-9]+(?=([~}\s])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],n.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,30],inclusive:!0}},n}();return t.lexer=r,i.prototype=t,t.Parser=i,new i}()}(),f=function(n,t){"use strict";function f(n){return n.constructor===u.ProgramNode?n:(r.yy=u,r.parse(n))}var i={},r=n,u=t;return i.parser=r,i.parse=f,i}(h,r),e=function(n){"use strict";function i(n){this.value=n}function t(){}var s=n.COMPILER_REVISION,h=n.REVISION_CHANGES,f=n.log,u,e,r,o;for(t.prototype={nameLookup:function(n,i){var u,r;return n.indexOf("depth")===0&&(u=!0),r=/^[0-9]+$/.test(i)?n+"["+i+"]":t.isValidJavaScriptVariableName(i)?n+"."+i:n+"['"+i+"']",u?"("+n+" && "+r+")":r},compilerInfo:function(){var n=s,t=h[n];return"this.compilerInfo = ["+n+",'"+t+"'];\n"},appendToBuffer:function(n){return this.environment.isSimple?"return "+n+";":{appendToBuffer:!0,content:n,toString:function(){return"buffer += "+n+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(n,t,i,r){var e,u,o;for(this.environment=n,this.options=t||{},f("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(n,t),e=n.opcodes,this.i=0,o=e.length;this.i<o;this.i++)u=e[this.i],u.opcode==="DECLARE"?this[u.name]=u.value:this[u.opcode].apply(this,u.args),u.opcode!==this.stripNext&&(this.stripNext=!1);return this.pushSource(""),this.createFunctionContext(r)},preamble:function(){var t=[],i,n;this.isChild?t.push(""):(i=this.namespace,n="helpers = this.merge(helpers, "+i+".helpers);",this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+i+".partials);"),this.options.data&&(n=n+" data = data || {};"),t.push(n));this.environment.isSimple?t.push(""):t.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=t},createFunctionContext:function(n){var o=this.stackVars.concat(this.registers.list),r,t,u,s,i,e;if(o.length>0&&(this.source[1]=this.source[1]+", "+o.join(", ")),!this.isChild)for(r in this.context.aliases)this.context.aliases.hasOwnProperty(r)&&(this.source[1]=this.source[1]+", "+r+"="+this.context.aliases[r]);for(this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;"),t=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],u=0,s=this.environment.depths.list.length;u<s;u++)t.push("depth"+this.environment.depths.list[u]);return i=this.mergeSource(),this.isChild||(i=this.compilerInfo()+i),n?(t.push(i),Function.apply(this,t)):(e="function "+(this.name||"")+"("+t.join(",")+") {\n  "+i+"}",f("debug",e+"\n\n"),e)},mergeSource:function(){for(var t,i="",n,r=0,u=this.source.length;r<u;r++)t=this.source[r],t.appendToBuffer?n=n?n+"\n    + "+t.content:t.content:(n&&(i+="buffer += "+n+";\n  ",n=undefined),i+=t+"\n  ");return i},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var n=["depth0"];this.setupParams(0,n);this.replaceStack(function(t){return n.splice(1,0,t),"blockHelperMissing.call("+n.join(", ")+")"})},ambiguousBlockValue:function(){var n,t;this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";n=["depth0"];this.setupParams(0,n);t=this.topStack();n.splice(1,0,t);n[n.length-1]="options";this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+n.join(", ")+"); }")},appendContent:function(n){this.pendingContent&&(n=this.pendingContent+n);this.stripNext&&(n=n.replace(/^\s+/,""));this.pendingContent=n},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,""));this.stripNext="strip"},append:function(){this.flushInline();var n=this.popStack();this.pushSource("if("+n+" || "+n+" === 0) { "+this.appendToBuffer(n)+" }");this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(n){this.lastContext!==n&&(this.lastContext=n)},lookupOnContext:function(n){this.push(this.nameLookup("depth"+this.lastContext,n,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(n){return"typeof "+n+" === functionType ? "+n+".apply(depth0) : "+n})},lookup:function(n){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,n,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(n,t){this.pushStackLiteral("depth"+this.lastContext);this.pushString(t);typeof n=="string"?this.pushString(n):this.pushStackLiteral(n)},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var n=this.hash;this.hash=undefined;this.options.stringParams&&(this.register("hashContexts","{"+n.contexts.join(",")+"}"),this.register("hashTypes","{"+n.types.join(",")+"}"));this.push("{\n    "+n.values.join(",\n    ")+"\n  }")},pushString:function(n){this.pushStackLiteral(this.quotedString(n))},push:function(n){return this.inlineStack.push(n),n},pushLiteral:function(n){this.pushStackLiteral(n)},pushProgram:function(n){n!=null?this.pushStackLiteral(this.programExpression(n)):this.pushStackLiteral(null)},invokeHelper:function(n,t){this.context.aliases.helperMissing="helpers.helperMissing";var i=this.lastHelper=this.setupHelper(n,t,!0),r=this.nameLookup("depth"+this.lastContext,t,"context");this.push(i.name+" || "+r);this.replaceStack(function(n){return n+" ? "+n+".call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+")"})},invokeKnownHelper:function(n,t){var i=this.setupHelper(n,t);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(n,t){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var r=this.setupHelper(0,n,t),u=this.lastHelper=this.nameLookup("helpers",n,"helper"),f=this.nameLookup("depth"+this.lastContext,n,"context"),i=this.nextStack();this.pushSource("if ("+i+" = "+u+") { "+i+" = "+i+".call("+r.callParams+"); }");this.pushSource("else { "+i+" = "+f+"; "+i+" = typeof "+i+" === functionType ? "+i+".call("+r.callParams+") : "+i+"; }")},invokePartial:function(n){var t=[this.nameLookup("partials",n,"partial"),"'"+n+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(n){var u=this.popStack(),i,r,t;this.options.stringParams&&(r=this.popStack(),i=this.popStack());t=this.hash;i&&t.contexts.push("'"+n+"': "+i);r&&t.types.push("'"+n+"': "+r);t.values.push("'"+n+"': ("+u+")")},compiler:t,compileChildren:function(n,t){for(var i,f=n.children,r,e,u=0,o=f.length;u<o;u++)r=f[u],e=new this.compiler,i=this.matchExistingProgram(r),i==null?(this.context.programs.push(""),i=this.context.programs.length,r.index=i,r.name="program"+i,this.context.programs[i]=e.compile(r,t,this.context),this.context.environments[i]=r):(r.index=i,r.name="program"+i)},matchExistingProgram:function(n){for(var i,t=0,r=this.context.environments.length;t<r;t++)if(i=this.context.environments[t],i&&i.equals(n))return t},programExpression:function(n){var t,e;if(this.context.aliases.self="this",n==null)return"self.noop";var i=this.environment.children[n],r=i.depths.list,u,f=[i.index,i.name,"data"];for(t=0,e=r.length;t<e;t++)u=r[t],u===1?f.push("depth0"):f.push("depth"+(u-1));return(r.length===0?"self.program(":"self.programWithDepth(")+f.join(", ")+")"},register:function(n,t){this.useRegister(n);this.pushSource(n+" = "+t+";")},useRegister:function(n){this.registers[n]||(this.registers[n]=!0,this.registers.list.push(n))},pushStackLiteral:function(n){return this.push(new i(n))},pushSource:function(n){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=undefined);n&&this.source.push(n)},pushStack:function(n){this.flushInline();var t=this.incrStack();return n&&this.pushSource(t+" = "+n+";"),this.compileStack.push(t),t},replaceStack:function(n){var u="",e=this.isInline(),t,r,o,f;return e?(r=this.popStack(!0),r instanceof i?t=r.value:(o=this.stackSlot?this.topStackName():this.incrStack(),u="("+this.push(o)+" = "+r+"),",t=this.topStack())):t=this.topStack(),f=n.call(this,t),e?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+u+f+")")):(/^stack/.test(t)||(t=this.nextStack()),this.pushSource(t+" = ("+u+f+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var r=this.inlineStack,n,u,t;if(r.length)for(this.inlineStack=[],n=0,u=r.length;n<u;n++)t=r[n],t instanceof i?this.compileStack.push(t):this.pushStack(t)},isInline:function(){return this.inlineStack.length},popStack:function(n){var r=this.isInline(),t=(r?this.inlineStack:this.compileStack).pop();return!n&&t instanceof i?t.value:(r||this.stackSlot--,t)},topStack:function(n){var r=this.isInline()?this.inlineStack:this.compileStack,t=r[r.length-1];return!n&&t instanceof i?t.value:t},quotedString:function(n){return'"'+n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(n,t,i){var r=[],u;return this.setupParams(n,r,i),u=this.nameLookup("helpers",t,"helper"),{params:r,name:u,callParams:["depth0"].concat(r).join(", "),helperMissingParams:i&&["depth0",this.quotedString(t)].concat(r).join(", ")}},setupParams:function(n,t,i){var r=[],o=[],s=[],h,u,f,e;for(r.push("hash:"+this.popStack()),u=this.popStack(),f=this.popStack(),(f||u)&&(f||(this.context.aliases.self="this",f="self.noop"),u||(this.context.aliases.self="this",u="self.noop"),r.push("inverse:"+u),r.push("fn:"+f)),e=0;e<n;e++)h=this.popStack(),t.push(h),this.options.stringParams&&(s.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+o.join(",")+"]"),r.push("types:["+s.join(",")+"]"),r.push("hashContexts:hashContexts"),r.push("hashTypes:hashTypes")),this.options.data&&r.push("data:data"),r="{"+r.join(",")+"}",i?(this.register("options",r),t.push("options")):t.push(r),t.join(", ")}},u="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),e=t.RESERVED_WORDS={},r=0,o=u.length;r<o;r++)e[u[r]]=!0;return t.isValidJavaScriptVariableName=function(n){return!t.RESERVED_WORDS[n]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n)?!0:!1},t}(i),c=function(n,t,i,r){"use strict";function u(){}function c(n,t){if(n==null||typeof n!="string"&&n.constructor!==h.ProgramNode)throw new e("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+n);t=t||{};"data"in t||(t.data=!0);var i=o(n),r=(new u).compile(i,t);return(new s).compile(r,t)}function l(n,t,i){function f(){var r=o(n),f=(new u).compile(r,t),e=(new s).compile(f,t,undefined,!0);return i.template(e)}if(n==null||typeof n!="string"&&n.constructor!==h.ProgramNode)throw new e("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);t=t||{};"data"in t||(t.data=!0);var r;return function(n,t){return r||(r=f()),r.call(this,n,t)}}var f={},e=n,o=t.parse,s=i,h=r;return f.Compiler=u,u.prototype={compiler:u,disassemble:function(){for(var i,e=this.opcodes,n,r=[],u,t,f=0,o=e.length;f<o;f++)if(n=e[f],n.opcode==="DECLARE")r.push("DECLARE "+n.name+"="+n.value);else{for(u=[],i=0;i<n.args.length;i++)t=n.args[i],typeof t=="string"&&(t='"'+t.replace("\n","\\n")+'"'),u.push(t);r.push(n.opcode+" "+u.join(" "))}return r.join("\n")},equals:function(n){var i=this.opcodes.length,t,r,f,u;if(n.opcodes.length!==i)return!1;for(t=0;t<i;t++){if(r=this.opcodes[t],f=n.opcodes[t],r.opcode!==f.opcode||r.args.length!==f.args.length)return!1;for(u=0;u<r.args.length;u++)if(r.args[u]!==f.args[u])return!1}if(i=this.children.length,n.children.length!==i)return!1;for(t=0;t<i;t++)if(!this.children[t].equals(n.children[t]))return!1;return!0},guid:0,compile:function(n,t){var i,r;if(this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t,i=this.options.knownHelpers,this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(r in i)this.options.knownHelpers[r]=i[r];return this.accept(n)},accept:function(n){var t=n.strip||{},i;return t.left&&this.opcode("strip"),i=this[n.type](n),t.right&&this.opcode("strip"),i},program:function(n){for(var i=n.statements,t=0,r=i.length;t<r;t++)this.accept(i[t]);return this.isSimple=r===1,this.depths.list=this.depths.list.sort(function(n,t){return n-t}),this},compileProgram:function(n){var t=(new this.compiler).compile(n,this.options),u=this.guid++,r,i,f;for(this.usePartial=this.usePartial||t.usePartial,this.children[u]=t,i=0,f=t.depths.list.length;i<f;i++)if(r=t.depths.list[i],r<2)continue;else this.addDepth(r-1);return u},block:function(n){var r=n.mustache,t=n.program,i=n.inverse,u;t&&(t=this.compileProgram(t));i&&(i=this.compileProgram(i));u=this.classifyMustache(r);u==="helper"?this.helperMustache(r,t,i):u==="simple"?(this.simpleMustache(r),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(r,t,i),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(n){var u=n.pairs,r,t,i,f;for(this.opcode("pushHash"),i=0,f=u.length;i<f;i++)r=u[i],t=r[1],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this.accept(t),this.opcode("assignToHash",r[0]);this.opcode("popHash")},partial:function(n){var t=n.partialName;this.usePartial=!0;n.context?this.ID(n.context):this.opcode("push","depth0");this.opcode("invokePartial",t.name);this.opcode("append")},content:function(n){this.opcode("appendContent",n.string)},mustache:function(n){var i=this.options,t=this.classifyMustache(n);t==="simple"?this.simpleMustache(n):t==="helper"?this.helperMustache(n):this.ambiguousMustache(n);n.escaped&&!i.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(n,t,i){var r=n.id,u=r.parts[0],f=t!=null||i!=null;this.opcode("getContext",r.depth);this.opcode("pushProgram",t);this.opcode("pushProgram",i);this.opcode("invokeAmbiguous",u,f)},simpleMustache:function(n){var t=n.id;t.type==="DATA"?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperMustache:function(n,t,i){var u=this.setupFullMustacheParams(n,t,i),r=n.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",u.length,r);else if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+r);else this.opcode("invokeHelper",u.length,r)},ID:function(n){var i,t,r;for(this.addDepth(n.depth),this.opcode("getContext",n.depth),i=n.parts[0],i?this.opcode("lookupOnContext",n.parts[0]):this.opcode("pushContext"),t=1,r=n.parts.length;t<r;t++)this.opcode("lookup",n.parts[t])},DATA:function(n){var i,t,r;if(this.options.data=!0,n.id.isScoped||n.id.depth)throw new e("Scoped data references are not supported: "+n.original);for(this.opcode("lookupData"),i=n.id.parts,t=0,r=i.length;t<r;t++)this.opcode("lookup",i[t])},STRING:function(n){this.opcode("pushString",n.string)},INTEGER:function(n){this.opcode("pushLiteral",n.integer)},BOOLEAN:function(n){this.opcode("pushLiteral",n.bool)},comment:function(){},opcode:function(n){this.opcodes.push({opcode:n,args:[].slice.call(arguments,1)})},declare:function(n,t){this.opcodes.push({opcode:"DECLARE",name:n,value:t})},addDepth:function(n){if(isNaN(n))throw new Error("EWOT");n!==0&&(this.depths[n]||(this.depths[n]=!0,this.depths.list.push(n)))},classifyMustache:function(n){var t=n.isHelper,i=n.eligibleHelper,r=this.options,u;return i&&!t&&(u=n.id.parts[0],r.knownHelpers[u]?t=!0:r.knownHelpersOnly&&(i=!1)),t?"helper":i?"ambiguous":"simple"},pushParams:function(n){for(var i=n.length,t;i--;)t=n[i],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t)},setupMustacheParams:function(n){var t=n.params;return this.pushParams(t),n.hash?this.hash(n.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(n,t,i){var r=n.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",i),n.hash?this.hash(n.hash):this.opcode("emptyHash"),r}},f.precompile=c,f.compile=l,f}(n,f,e,r);return function(n,t,i,r,u){"use strict";var f=n,o=t,s=i.parser,h=i.parse,c=r.Compiler,l=r.compile,a=r.precompile,v=u,y=f.create,e=function(){var n=y();return n.compile=function(t,i){return l(t,i,n)},n.precompile=a,n.AST=o,n.Compiler=c,n.JavaScriptCompiler=v,n.Parser=s,n.parse=h,n};return f=e(),f.create=e,f}(s,r,f,c,e)}();return window.Handlebars=n,{compile:n.compile,registerHelper:n.registerHelper,helpers:n.helpers,_:n}});define("oneStore.Handlebars.helpers",["Handlebars"],function(n){function t(){if(!n){console.log("handlebars missing.");return}n.registerHelper("last",s);n.registerHelper("when",u);n.registerHelper("whenAny",f);n.registerHelper("ifCond",i);n.registerHelper("ifAll",e);n.registerHelper("unlessAll",o);n.registerHelper("stringEqual",r);n.registerHelper("plusOne",h)}function c(i,r){t();var u=n.templates[i];return u||l("cannot find handlebars template: "+i),u(r).replace(/\ufeff/,"")}function l(n){typeof console!="undefined"&&typeof console.log!="undefined"&&console.log(n)}var i=function(n,t,i,r){switch(t){case"==":return n==i?r.fn(this):r.inverse(this);case"===":return n===i?r.fn(this):r.inverse(this);case"<":return n<i?r.fn(this):r.inverse(this);case"<=":return n<=i?r.fn(this):r.inverse(this);case">":return n>i?r.fn(this):r.inverse(this);case">=":return n>=i?r.fn(this):r.inverse(this);case"&&":return n&&i?r.fn(this):r.inverse(this);case"||":return n||i?r.fn(this):r.inverse(this);default:return r.inverse(this)}},r=function(n,t,i){return n.toUpperCase()===t.toUpperCase()?i.fn(this):i.inverse(this)},u=function(n,t,i){return n===t?i.fn(this):i.inverse(this)},f=function(){for(var n=[].slice.apply(arguments),i=n.pop(),u=n[0],r=n.slice(1),t=0;t<r.length;t++)if(u===r[t])return i.fn(this);return i.inverse(this)},e=function(){for(var n=[].slice.apply(arguments),i=n.pop(),r=i.fn,t=0;t<n.length;++t)if(!n[t]){r=i.inverse;break}return r(this)},o=function(){for(var n=[].slice.apply(arguments),i=n.pop(),r=i.fn,t=0;t<n.length;++t)if(n[t]){r=i.inverse;break}return r(this)},s=function(n,t,i){var r=parseInt(n),u=parseInt(t);return(r+1)%u==0?i.fn(this):i.inverse(this)},h=function(n){return n+1};return{register:t,generateHtml:c}});require(["oneStore.Handlebars.helpers"],function(n){n.register()});_requirejs=window.requirejs&&window.requirejs.specified&&window.requirejs||window.require;!_requirejs.specified("jqReady")&&window.jQuery&&(define.amd.jQuery=!1,define("jqReady",[],function(){return window.jQuery})),function(){var n=document.querySelector('meta[name="is-onerf"]'),t=n&&n.getAttribute("content")==="true";(window.noMwf||t)&&define("platform",[],function(){return undefined})}();define("oneStore.productPageBarSfa",["jqReady!","storeApi","htmlExtensions","document"],function(n,t,i,r){function p(t){var i=n(h),r=i.data("is-staticbundle"),u=r.toLowerCase()=="true";t.actionLabel=i.data("buy-button-text").trim();t.productId=i.data("product-id");t.header=i.data("title").trim();i.data("show-subtitle")&&(t.subheader=i.data("subtitle").trim());t.imageUrl=i.data("image");t.skuId=i.attr("data-sku-id");t.availabilityId=i.attr("data-availability-id");t.purchaseMethod=i.data("purchase-method")||"cart";t.purchaseData=u?i.attr("data-purchase-data")||"{}":i.data("purchase-data")||"{}";t.displayPrice=i.data("display-price")||"";t.navigationData=i.data("navigation-uri")||"";t.isActionEnabled=i.data("is-action-enabled");t.collectionId=i.data("upsellchannel-id")}function c(){o||(u=!1,t.pageBar.hide())}function s(){if(!u){var n=t.pageBar.dataModel;p(n);t.pageBar.showAsync(n);u=!0}}function k(){if(t){var e=n(h),u=e.data("has-page-header");o=u&&u.toLowerCase()=="true";o&&s();f=r.querySelectorAll("header[role=tablist]");i.addThrottledEvent(window,i.eventTypes.scroll,l,a)}}function l(){if(!e){var n;n=window.TVJS&&r.getElementById("srv_purchaseCTA")?r.getElementById("srv_purchaseCTA").getBoundingClientRect().bottom:f&&f[0]?f[0].getBoundingClientRect().bottom:r.body.getBoundingClientRect().top+v;n<=0?s():c()}}var a=300,v=300,h=".cli_store-pagebar",u=!1,e=!1,o=!1,y=function(){e=!0;c()},w=function(){e=!1;l()},b=function(){u=!1},f;return{disablePageBar:n.noop,disableStickyPageBar:y,enableStickyPageBar:w,enablePageBar:n.noop,hideStickyPageBar:n.noop,hidePageBarSummaryOnScroll:n.noop,expandBuyButtonInSmallViewPort:n.noop,show:s,pageBarDataUpdated:b,setup:k}});define("oneStore.productPageBarWeb",["jqReady!","oneStore.unhide"],function(n,t){var i={pageBarSummarySelector:".context-menu",oneColumnScreenSize:320,mwfButtonFlexClass:"f-flex",buyButtonSelector:".checkout-button>button",stickyPageBarSelector:".m-page-bar.pdp-pagebar.f-sticky",pageBarSelector:".m-page-bar.pdp-pagebar",stickyPageBarShowClass:"f-show"},r=function(){t.hide(n(i.pageBarSelector))},u=function(){t.hide(n(i.stickyPageBarSelector))},f=function(){t.unhide(n(i.pageBarSelector))},e=function(){t.toggle(n(i.stickyPageBarSelector),!1)},o=function(r,u){u<=i.oneColumnScreenSize?n(i.buyButtonSelector).addClass(i.mwfButtonFlexClass):n(i.buyButtonSelector).removeClass(i.mwfButtonFlexClass);n(r).is(":visible")&&t.toggle(n(i.pageBarSummarySelector),!1)},s=function(){n(i.stickyPageBarSelector).removeClass(i.stickyPageBarShowClass)},h=function(r,u){n(r).is(":hidden")&&(u>0?t.toggle(n(i.pageBarSummarySelector),!0):t.toggle(n(i.pageBarSummarySelector),!1))};return{disablePageBar:r,disableStickyPageBar:u,enableStickyPageBar:e,enablePageBar:f,hideStickyPageBar:s,hidePageBarSummaryOnScroll:h,expandBuyButtonInSmallViewPort:o,setup:n.noop}});define("oneStore.productPageBar",["storeApi","oneStore.productPageBarWeb","oneStore.productPageBarSfa"],function(n,t,i){return n?i:t});require(["oneStore.productPageBar","jqReady!"],function(n,t){t(function(){n.setup()})});define("oneStore.pdpPageBarConstants",[],function(){return{isOwnedDataAtrr:"data-isOwned",isScriptLoadedDataAtrr:"data-isScriptLoaded",hideTitleClass:".hide_title",pageBarSelector:".m-page-bar",isTabLayoutAttr:"data-isTabLayout",tabLinksSelector:"section.c-pivot > header > a",pageBarTabLinksSelector:".m-page-bar .c-pivot a",activeTabClass:"f-active",ariaControlsAtrr:"aria-controls",activeTabSelector:".c-pivot a.f-active",ariaHiddenAttr:"aria-hidden",ariaSelectedAttr:"aria-selected",pageBarTabHeaderSelector:".m-page-bar .c-pivot > header",tabHeaderSelector:"section.c-pivot > header",contentToggleSelector:".c-content-toggle",carouselSelector:".c-carousel",pageBarTabsSelector:".m-page-bar .c-pivot",stickyPageBarSelector:".pdp-pagebar.f-tabs.f-sticky",reviewsTabClass:"c-pivot-reviewstab",pivotSectionClass:"section.c-pivot",starRatingsClass:".cli_buybox_ratings a",jumpToBundleLinkClass:".cli_product_message .cli_jumptobundles",systemRequirementsLinkClass:".cli_systemrequirements a",productDescriptionMoreButtonClass:".srv_description_button",productDescriptionClass:".srv_description",buyBoxConfiguratorButtonAreaId:"srv_purchaseCTA",buyBoxConfigureButtonClass:"cli_pdp-device-config-button pdp-action-buttons",flipperPreviousSelector:".m-page-bar .c-pivot .c-flipper.f-previous",flipperNextSelector:".m-page-bar .c-pivot .c-flipper.f-next",flipperPreviousChildSelector:".c-flipper.f-previous",flipperNextChildSelector:".c-flipper.f-next",digitalClassSelector:"f-digital",headerClassSelector:"#headerUniversalHeader",flipperClickHandler:"data-click-handler",anchorLinksToTabsSelector:'a[href*="tabname="]'}});define("oneStore.pdpPageBarHelpers",["jqReady!","oneStore.pdpPageBarConstants"],function(n,t){var i=function(i){var r=n(i),f,u,o,s,e;return(r.attr(t.isScriptLoadedDataAtrr)!=="true"&&(f="#"+r.attr(t.ariaControlsAtrr),require(["componentFactory","contentToggle"],function(i,r){var u=f+" "+t.contentToggleSelector;n(u+" > ul").css("max-height","");n(u+" > button").css("display","");i.ComponentFactory.create([{component:r.ContentToggle,selector:u,callback:function(t){t&&t.length&&n.each(t,function(n,t){t.update()})}}])}),require(["componentFactory","single-slide-carousel"],function(i,r){var u=f+" "+t.carouselSelector;i.ComponentFactory.create([{component:r.SingleSlideCarousel,selector:u,callback:function(t){t&&t.length&&n.each(t,function(n,t){t.teardown();t.update()})}}])}),r.attr(t.isScriptLoadedDataAtrr,"true")),u=n(t.activeTabSelector),u.length>0)?(o="#"+u.attr(t.ariaControlsAtrr),n(u[0]).text()===r.text())?!1:(u.removeClass(t.activeTabClass),u.attr(t.ariaSelectedAttr,"false"),n(o).attr(t.ariaHiddenAttr,"true"),s="#"+r.attr(t.ariaControlsAtrr),e=n("a["+t.ariaControlsAtrr+"="+r.attr(t.ariaControlsAtrr)+"]"),e.attr(t.ariaSelectedAttr,"true"),e.addClass(t.activeTabClass),n(s).attr(t.ariaHiddenAttr,"false"),!0):!1};return{tryUpdateTabLinksAndSendClickStream:i}});define("oneStore.pdpPageBarWeb",["jqReady!","oneStore.unhide","window","oneStore.productPageBar","htmlExtensions","oneStore.pdpPageBarConstants","oneStore.pdpPageBarHelpers","clickstreamTracker","jsll","oneStore.pdpSkuState","oneStore.uriBuilder"],function(n,t,i,r,u,f,e,o,s,h,c){function lt(){var r=st(),e=n(f.tabLinksSelector),t;r&&e.length&&(t=n(f.pageBarTabsSelector),t.attr(f.isScriptLoadedDataAtrr,"false"),ot(),it(),rt(),ut(),ft(),et(),yt());u.addDebouncedEvent(i,u.eventTypes.scroll,ht,p);u.addDebouncedEvent(i,u.eventTypes.resize,ct,p)}function l(){n(f.pageBarTabsSelector).each(function(t,i){var r=n("header",i)[0].clientWidth;d(i)>=0?n(f.flipperPreviousChildSelector,i).attr("aria-hidden",!0):n(f.flipperPreviousChildSelector,i).attr("aria-hidden",!1);g(i)<=r?n(f.flipperNextChildSelector,i).attr("aria-hidden",!0):n(f.flipperNextChildSelector,i).attr("aria-hidden",!1)})}function at(t){var i=nt(t.currentTarget)/2;if(i>0){var r=y(t.currentTarget),f=Math.abs(d(r)),u=Math.min(f,i);u!=0&&n("a",r).first().css("margin-left","+="+u);l()}}function vt(t){var i=nt(t.currentTarget);if(i>0){var f=i/2,r=y(t.currentTarget),e=g(r)-i+25,u=Math.min(e,f);u!=0&&n("a",r).first().css("margin-left","-="+u);l()}}function yt(){if(!n(f.flipperPreviousSelector).data(f.flipperClickHandler)){n(document).on("click",f.flipperPreviousSelector,at);n(f.flipperPreviousSelector).data(f.flipperClickHandler,!0)}if(!n(f.flipperNextSelector).data(f.flipperClickHandler)){n(document).on("click",f.flipperNextSelector,vt);n(f.flipperNextSelector).data(f.flipperClickHandler,!0)}l()}function d(t){return parseInt(n("a",t).first().css("margin-left").replace("px",""))}function g(t){var i=n("a",t).last();return i[0].offsetLeft+i[0].offsetWidth}function y(n){return n.closest(".c-pivot")}function pt(t){return n("header",y(t))}function nt(n){var t=pt(n);return t&&t.length>0?t[0].clientWidth:0}var p=300,w=!1,b=function(){var t=n(f.pageBarSelector);return t.length===0?!1:t.attr(f.isOwnedDataAtrr)},tt=function(t){var i=n(f.pageBarSelector);i&&i.attr(f.isOwnedDataAtrr,t)},it=function(){n(f.tabLinksSelector).attr("data-bi-dnt","");n(f.tabLinksSelector).attr("data-bi-mto","");n(f.tabLinksSelector).off("click");n(f.tabLinksSelector).on("click",function(n){e.tryUpdateTabLinksAndSendClickStream(this)&&v(this,n,"mainArea",null)});n(f.tabLinksSelector).off("keyup");n(f.tabLinksSelector).on("keyup",function(n){n.preventDefault();n.stopPropagation()});n(f.pageBarTabLinksSelector).attr("data-bi-dnt","");n(f.pageBarTabLinksSelector).attr("data-bi-mto","");n("body").off("click",f.pageBarTabLinksSelector);n("body").on("click",f.pageBarTabLinksSelector,function(n){n.preventDefault();e.tryUpdateTabLinksAndSendClickStream(this)&&v(this,n,"stickyPageBar",null);k(this.getAttribute("href"))})},rt=function(){n("body").off("click",f.starRatingsClass);n("body").on("click",f.starRatingsClass,function(n){a(n,this,".c-pivot-reviewstab","starRatings")})},ut=function(){n("body").off("click",f.systemRequirementsLinkClass);n("body").on("click",f.systemRequirementsLinkClass,function(n){a(n,this,".c-pivot-regionofsystemrequirementstab","systemRequirements")})},ft=function(){n("body").off("click",f.jumpToBundleLinkClass);n("body").on("click",f.jumpToBundleLinkClass,function(n){a(n,this,".c-pivot-overviewtab","jumpToBundles")})},et=function(){n("body").off("click",f.anchorLinksToTabsSelector);n("body").on("click",f.anchorLinksToTabsSelector,function(n){a(n,this,null,null)})},a=function(t,i,r,u){var o,l,f,s,y;if(t.preventDefault(),o=i.getAttribute("href"),r==null&&(l=c.getValueOfQueryParameter(o,"tabname"),f=c.getValueOfQueryParameter(o,"moduleid")),s=r==null?l==null?null:".c-pivot-"+f.toLowerCase():r,s!=null){var h=n(s),a=f==null?o:"#"+f,p=u==null?f:u;e.tryUpdateTabLinksAndSendClickStream(h)&&v(h,t,f,a);y=h.attr("href")+a;k(y)}},k=function(n){var t=i.history,r=!!(t&&t.pushState);r&&t.replaceState({},document.title||"",n)},v=function(t,r,u,e){var k=n(t),a="#"+k.attr(f.ariaControlsAtrr),c=n(a).offset().top,y=n(f.stickyPageBarSelector).length>0?n(f.stickyPageBarSelector)[0].clientHeight:0,p=n(f.headerClassSelector).length>0?n(f.headerClassSelector)[0].clientHeight:0,b=0;b=p>y?p-y:y-p;c=c-b;document.body.scrollHeight<2e3&&n(a).css("margin-bottom")!=="1000px"&&n(a).css("margin-bottom","1000px");n(f.stickyPageBarSelector).hasClass(f.digitalClassSelector)&&(n(a).css("margin-top")!=="25px"&&n(a).css("margin-top","25px"),c=c+20);n(f.hideTitleClass).is(":hidden")&&(n(f.stickyPageBarSelector).hasClass(f.digitalClassSelector)?(n(f.tabHeaderSelector).css("padding-bottom")!=="80px"&&n(f.tabHeaderSelector).css("padding-bottom","80px"),c=n(f.stickyPageBarSelector).hasClass("f-show")?c+5:c+50):n(f.stickyPageBarSelector).hasClass("f-show")?(n(f.tabHeaderSelector).css("padding-bottom")!=="40px"&&n(f.tabHeaderSelector).css("padding-bottom","40px"),c=c-30):n(f.tabHeaderSelector).css("padding-bottom")!=="80px"&&n(f.tabHeaderSelector).css("padding-bottom","80px"));e!=null&&(c=n(e).offset().top);n(f.stickyPageBarSelector).hasClass("f-show")?i.scrollTo(0,c):n("html, body").animate({scrollTop:c},400);l();var v=h.getCurrentActiveSku(),w=document.getElementById(f.buyBoxConfiguratorButtonAreaId)==null?null:document.getElementById(f.buyBoxConfiguratorButtonAreaId).getElementsByClassName(f.buyBoxConfigureButtonClass),d=v?v.productId:w!=null&&w.length>0?n(w[0]).data("product-id"):null,g=v?v.skuId:null;o.capturePageAction(r.target,{behavior:s.behavior.UNDEFINED,actionType:s.actionType.CLICKLEFT,contentTags:{sku:g,pid:d,source:u}});o.captureContentUpdate()},ot=function(){var t=n(f.tabHeaderSelector),i=n(f.pageBarTabHeaderSelector);i.html(t.html())},st=function(){var t=n(f.pageBarSelector);return t.attr(f.isTabLayoutAttr)==="true"},ht=function(){var u=b(),t;u?r.disableStickyPageBar():(!w&&n(f.pivotSectionClass).is(":visible")&&(r.enableStickyPageBar(),w=!0),t=i.scrollY||i.pageYOffset||document.documentElement.scrollTop,r.hidePageBarSummaryOnScroll(f.hideTitleClass,t))},ct=function(){var t=n(i).width();r.expandBuyButtonInSmallViewPort(f.hideTitleClass,t);l()};return{isProductOwned:b,addProductOwnedAttr:tt,setup:lt}});define("oneStore.pdpPageBarSfa",["jqReady!","oneStore.productPageBarSfa","oneStore.pdpSkuState","storeApi","oneStore.pdpPageBarConstants","oneStore.pdpPageBarHelpers"],function(n,t,i,r,u,f){function s(n){e=n;e&&t.disableStickyPageBar()}function h(){return e}function o(t){var i,r,u;t&&(i=n(".cli_store-pagebar"),r=t.belongingSkuId||t.skuId,i.data("product-id",t.productId),i.data("subtitle",t.skuButtonTitle),i.data("image",t.imageUrl),i.attr("data-sku-id",r),i.data("display-price",t.formattedListPrice),i.attr("data-availability-id",t.availabilityId),i.data("purchase-method",t.purchaseMethod),u=t.purchaseMethod==="digital"?{ProductId:t.productId,SkuId:r,AvailabilityId:t.availabilityId,DeviceSerialNumber:t.deviceSerialNumber}:{products:[{productId:t.productId,skuId:r,availabilityId:t.availabilityId}]},i.data("purchase-data",JSON.stringify(u)))}function c(){if(r.dialog){var i=n(u.productDescriptionClass),t=n(u.productDescriptionMoreButtonClass);if(i&&t){t.off("click");t.on("click",function(){var t=i.text(),u=n(this);n(document).trigger("untoggleContent");r.dialog.showStringAsync(t).then(function(){n(document).trigger("untoggleContent");u.focus()})})}}}function l(){r.purchaseOption&&r.purchaseOption.addEventListener("selectedpurchaseoptionchanged",function(t){var r=n(u.productDescriptionClass),f=r.text(),i=t.skuDescription;i&&i!==f&&r.text(i)})}function a(){require(["componentFactory","pivot"],function(t,i){t.ComponentFactory.create([{component:i.Pivot,selector:u.pivotSectionClass,callback:function(t){t&&t.length===1&&!!t[0]&&t[0].subscribe({onPivotChanged:function(t){n('a[aria-controls="'+t.activePivotId+'"]').click()}})}}])})}function v(){if(i.hasSku()&&(o(i.getCurrentActiveSku()),i.registerSkuUpdated(o)),r.tabs){var s=function(n,t){var i=r.tabs.createTabItemDataModel();return i.title=n,i.id=t,i},t=r.tabs.createDataModel(),e=n(u.tabHeaderSelector);e.length&&(e.children().each(function(){var i=n(this).text(),r=n(this).attr(u.ariaControlsAtrr);i&&r&&t.tabsList.push(s(i,r))}),window.WinStoreClient&&window.WinStoreClient.tabBarIsPresent&&window.WinStoreClient.tabBarIsPresent(!0));r.tabs.setTabs(t);r.tabs.addEventListener("tabschanged",function(t){var h="a["+u.ariaControlsAtrr+'="'+t.selectedId+'"]',e,i,s;if(f.tryUpdateTabLinksAndSendClickStream(h),n(h).focus(),e=n(u.tabHeaderSelector),e.length)if(i=e[0].getBoundingClientRect(),r.view&&r.view.supportsScrolling){var c=r.view.header,o=i.bottom-c.height,l=r.view.getHeaderForScrollPosition(0,o);o=i.bottom-l.height;r.view.scrollTo(0,o)}else s=Math.floor(i.top),window.TVJS&&(s-=r.pageHandlers.viewportTopOffset>0?r.pageHandlers.viewportTopOffset/2:40),window.scrollTo(0,window.scrollY+s)});n("body").off("click",u.tabLinksSelector);n("body").on("click",u.tabLinksSelector,function(){var t=r.tabs.createTabsChangedEventArgs();t.selectedId=n(this).attr(u.ariaControlsAtrr);r.tabs.onTabsChanged(t)});n(u.tabLinksSelector).each(function(t,i){n(i).attr("data-tv-focus-left","__self");n(i).attr("data-tv-focus-right","__self")});c();l();a()}}var e=!1;return{isProductOwned:h,addProductOwnedAttr:s,setup:v}});define("oneStore.pdpPageBar",["storeApi","oneStore.pdpPageBarWeb","oneStore.pdpPageBarSfa","oneStore.stickyHeader"],function(n,t,i,r){var u=$(".pdp-pagebar-header").data("is-stickyheader"),f=u&&u.toLowerCase()==="true";return n?i:f?r:t});define("oneStore.stickyHeader",["jqReady!","htmlExtensions","window","oneStore.productPageBar"],function(n,t,i,r){function o(){t.addDebouncedEvent(i,t.eventTypes.scroll,f,u.debounceEventTimeOut);t.addDebouncedEvent(i,t.eventTypes.resize,e,u.debounceEventTimeOut)}var u={stickyClassName:"f-sticky",debounceEventTimeOut:300,pagebarContainerSelector:".pdp-pagebar-header",hideTitleClass:".hide_title"},f=function(){var f=i.scrollY||i.pageYOffset||document.documentElement.scrollTop,t=n(u.pagebarContainerSelector),r=0;t.length&&(r=t[0].getBoundingClientRect().top,f>r?t.hasClass(u.stickyClassName)||t.addClass(u.stickyClassName):t.hasClass(u.stickyClassName)&&t.removeClass(u.stickyClassName))},e=function(){var t=n(i).width();r.expandBuyButtonInSmallViewPort(u.hideTitleClass,t)};return{setup:o}});require(["oneStore.pdpPageBar","jqReady!"],function(n,t){t(function(){n.setup()})});define("oneStore.uriBuilder",[],function(){function n(n,t,i){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),u=n.indexOf("?")!==-1?"&":"?";return n.match(r)?n.replace(r,"$1"+t+"="+i+"$2"):n+u+t+"="+i}function t(n,t){var r=new RegExp("[?&]"+t+"=([^&]*)","i"),i=n.match(r);return i&&i.length>1?i[1]:null}function i(n,t){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),r=n.match(i);return r?r.length>2&&r[2]==="&"?n.replace(i,"$1"):n.replace(i,""):n}return{addOrUpdateQueryParameter:n,getValueOfQueryParameter:t,removeQueryParameter:i,setFlightParameterName:"setswitch"}});_requirejs=window.requirejs&&window.requirejs.specified&&window.requirejs||window.require;!_requirejs.specified("jqReady")&&window.jQuery&&(define.amd.jQuery=!1,define("jqReady",[],function(){return window.jQuery})),function(){var n=document.querySelector('meta[name="is-onerf"]'),t=n&&n.getAttribute("content")==="true";(window.noMwf||t)&&define("platform",[],function(){return undefined})}();define("oneStore.productConfigurator",["jqReady!","window","oneStore.pdpColorSwatchSelector","oneStore.pdpSkuState"],function(n,t,i,r){function rt(t){var r=t.currentTarget||t.srcElement,i;if(r){if(i=n(r),i.attr(u.progAttribute)){i.removeAttr(u.progAttribute);return}d(i)}}function ut(t,i){var r=t.currentTarget||t.srcElement,u;r&&(u=n(r),ht(u,i))}function k(){var t=n(u.orderSummaryTitleSelector);v&&t.text().toLowerCase()!==y.toLowerCase()&&n(t).text(y)}function ft(){var t="",i=Object.keys(s);i&&i.length>0&&n.each(i,function(n,r){t=i.length==1||t==""?s[r]:b.replace("{0}",t).replace("{1}",s[r])});n(u.orderSummarySubTitleSelector).text(t)}function et(){var t=n(u.groupSelector).first(),r=Object.keys(f),e=p(r,t.data("key")),i;w(t,e);i=n("["+u.defSelectedKey+"=true]:not(:disabled)",t);i||(i=n("button:not(:disabled)",t));d(i)}function ot(){var r=n(u.groupSelector),e=n(u.groupSelector).first(),o=Object.keys(f),s=o[0],t;i.updateMediaBrowser(s);t=[];c=e.data("key").toLowerCase();t.push(c);n(u.toolTipTextSelector,e).addClass(u.hiddenClass);v?st(r):(it(t,r),i.updateSelectedColorSwatcher())}function st(t){var i=n("["+u.defaultSelected+"=True]:not(:disabled)",t);n.each(i,function(t,i){n(i).attr("aria-pressed","true");n(i).attr("aria-checked","true");n(i).trigger("click",{skipTitleUpdate:!0})})}function d(t){var h=t.data("key"),e=t.closest(u.groupSelector),c=e.data("key"),s=n(u.groupSelector),r;e.data("cs",h);lt(e,s);r=Object.keys(f);n.each(s,function(t,i){var u=n(i).data("cs"),o=n(i).data("key"),f,e;u||(f=p(r,o),w(i,f),f&&f.length>0&&(e=tt(i,f),n(i).data("cs",e),u=e));u?(ct(u,i),r=g(r,o,u)):r=[]});r&&r.length>0&&(o=r[0],i.updateMediaBrowser(o),l())}function ht(t,r){var nt=t.data("key"),b=t.closest(u.groupSelector),rt=b.data("key"),v=n(u.groupSelector),h,d,y,a;i.updateColorPickerName(t);b.data("cs",nt);h=rt.toLowerCase();c.toLowerCase()==h&&(e=[],e.push(c),s={},(r==null||r===undefined)&&k());t.attr("aria-label",t.data("ariatext"));d=t.data("js-selected-text");s.hasOwnProperty(h)?(s[h]=d,k()):s[h]=d;y=e.indexOf(h);y>=0&&(y<e.length&&e.splice(y+1),it(e,v));vt(b,v);a=Object.keys(f);n.each(v,function(t,i){var u=n(i).data("cs"),f=n(i).data("key"),r,e;u||(r=p(a,f),w(i,r),r&&r.length>0&&(e=tt(i,r),u=e));a=u?g(a,f,u):[]});ft();e.indexOf(h)<0&&e.push(h);e.length!==v.length?(o=null,l()):a&&a.length>0&&(o=a[0],l())}function l(){var i=null,r=null,t=n(u.configRootSelector);o&&(i=f[o],r={title:i.Title,availabilityId:i.AvailabilityId,productId:t.attr("data-id"),skuId:o,inStock:yt(o),isPreOrder:i.IsPreOrder});t&&(t.data("registered")?t.trigger(u.selectionChangedEvent,r):t.data(u.pendingEventKey,r))}function g(t,i,r){var u=[];return t&&t.length>0&&i&&r&&n.each(t,function(n,t){var e=f[t];e&&nt(e.ConfigReferences,i)==r&&u.push(t)}),u}function nt(n,t){var r,i;if(n&&n.length>0&&t)for(r in n)if(i=n[r],i.Key.toUpperCase()==t.toUpperCase())return i.Value;return null}function tt(t,i){var r,f,u,e,o;for(f in i)if(u=i[f],e=n("[data-key='{0}'][data-def=true]".replace("{0}",u),t),e.length>0){r=u;break}return r||(r=i[0]),o=n("[data-key='{0}']".replace("{0}",r),t),o.length>0?r:void 0}function ct(t,i){var r=n("[data-key='{0}']".replace("{0}",t),i);r&&(r.attr(u.progAttribute,"1"),r.attr("aria-pressed","true"),r.click())}function lt(t,i){var e,r,f;if(t&&i&&i.length>1)for(e=i.index(t),r=e+1;r<i.length;r++)f=n(i[r]),f.data("cs",null),n(u.configItemSelector,f).removeAttr("disabled").removeClass("f-swatch-disabled")}function at(t,i,r){t&&(i.data("cs",null),i.data("is-enabled","false"),n(t).attr("aria-pressed","false"),n(t).attr("aria-checked","false"),n(t).attr("aria-label",n(t).attr("data-non-selected-text")),n(t).removeAttr(u.defSelectedKey),n(t).find(u.toolTipTextSelector).text(r.text()).removeClass(u.hiddenClass))}function vt(t,i){var e,f,r;t&&i&&i.length>1&&(e=i.index(t),f=e+1,t.data("is-enabled","true"),f<i.length&&(r=n(i[f]),n(u.configItemSelector,r).removeAttr("disabled").removeClass("f-swatch-disabled"),n(u.toolTipTextSelector,r).addClass(u.hiddenClass),r.data("is-enabled","true")))}function p(t,i){var r=[];return t&&t.length>0&&i&&n.each(t,function(n,t){var e=f[t],u;e&&(u=nt(e.ConfigReferences,i),r.indexOf(u)<0&&r.push(u))}),r}function yt(n){return h&&Object.keys(h).indexOf(n)>=0?h[n]:!0}function w(t,i){if(t&&i){var r=n(u.configItemSelector,t),f=n(t).data(u.renderHintDataKey),e=n(u.hoverTextNotAvailableSelector);n(r).each(function(){var r=n(this).data("key");r&&i.indexOf(r)<0&&(n(this).attr("disabled","disabled"),f=="Color"&&n(this).addClass("f-swatch-disabled"),a&&n(t).data("is-enabled")==="true"&&n(this).find(u.toolTipTextSelector).text(e.text()).removeClass(u.hiddenClass))})}}function it(t,i){if(i){var r=n(u.hoverTextValidationMsgSelector);n(i).each(function(){var i=n(this),f=i.data("key"),e,o;f&&t.indexOf(f.toLowerCase())<0&&(delete s[f.toLowerCase()],e=n(u.configItemSelector,this),o=i.data(u.renderHintDataKey),n(e).each(function(){n(this).attr("disabled","disabled");at(this,i,r);o=="Color"&&n(this).addClass("f-swatch-disabled")}))})}}function pt(){var e,i,r;if(f=n(u.skuInfoSelector).data("i"),e=Object.keys(f||[]),i=n(u.configRootSelector),a=i.data("is-enhanced-config")==="True",v=i.data("is-sku-param")==="True",y=i.data("product-title"),b=i.data("subtitle-format"),e.length>0){i.on(u.inventoryUpdatedEvent,function(n,t){h=t});if(r=n(u.configItemSelector),a){r.on("click",ut);ot()}else{r.on("click",rt);et()}n(t).resize(function(){var t=n(u.configSelectButtonClass).first();t&&t.attr(u.disabledAttributeName)===undefined&&n(u.configSelectButtonClass).removeClass(u.hiddenClass)})}}function wt(){var t=n(u.configRootSelector);if(t)return{productId:t.attr("data-id"),market:t.data("market"),locale:t.data("culture")}}function bt(t){t&&(n.each(t,function(n,t){if(t){var i=f[t.SkuId];i.AvailabilityId=t.EffectiveAvalibility.Id;r.updateAvailabilityRemediation(t)}}),l())}var u={skuInfoSelector:"#completeskuinfo",configItemSelector:".c-select-button",groupSelector:".c-group.configparent",configSelectButtonClass:".cli_configbutton",disabledAttributeName:"disabled",hiddenClass:"x-hidden",configRootSelector:".configroot",selectionChangedEvent:"selchanged",inventoryUpdatedEvent:"invUpdated",progAttribute:"data-prog",renderHintDataKey:"rh",defSelectedKey:"data-def",defaultSelected:"data-default-selected",pendingEventKey:"pending",toolTipTextSelector:".config-tooltiptext",orderSummaryTitleSelector:".ordersummary .cli_order-product-title",orderSummarySubTitleSelector:".ordersummary .additionalinfo",hoverTextNotAvailableSelector:"#hovertextdetails .cli_hover-notavailable",hoverTextValidationMsgSelector:"#hovertextdetails .cli_hover-validationmsg"},f,h,o,c,a,b,v,y,e=[],s={};return{setup:pt,getCurrentProduct:wt,updateSkuEligibility:bt}});require(["oneStore.productConfigurator","oneStore.pdpColorSwatchSelector","jqReady!"],function(n,t,i){i(function(){n.setup()})});define("oneStore.inventory",["deferred","service","vortexEvents","window"],function(n,t,i,r){function c(n,t){function a(n,t,i){if(i&&!(i.length<4)){var r={condition:n,productId:i[0],skuId:i[1],inventorySkuId:i[2],availabilityId:i[3],distributorId:c};o.push(r)}}function v(n,t){i=t}function y(){r.inventoryConditionResult&&i(r.inventoryConditionResult);e(o,l).done(function(n){if(n){var t={productId:n[0].productId,conditionValues:{}};n.map(function(n){if(n&&n.inventory){var i=f(n.inventory,!1),r=i.isInStock;t.conditionValues[n.condition]=!r}});r.inventoryConditionResult=t;i(t)}})}if(t){var u=h(),s="https://inv.mp.microsoft.com/v2.0/inventory/"+t+"?MS-CorrelationId="+u+"&MS-RequestId="+u+"&mode=continueOnError",c="9000000013",o=[],i,l={availabilityUrl:s,productId:n};return{addCondition:a,process:y,addEventListener:v}}}var u=function(n){var t={event:"InventoryApiCallResponseError",uri:document.location.href,details:n};i.sendError(t,!1)},s=function(n,t){function r(t){return n[t]?Object.keys(n[t]).filter(function(i){return n[t][i]}).map(function(i){return{name:i,data:n[t][i]}}):null}var i,u,f;return n?(i=null,t?i=r("futureLots"):(u=r("availableLots"),f=r("futureLots"),(u||f)&&(i=(u||[]).concat(f||[]))),i):null},f=function(n,t){for(var i,e=null,s=null,r=0;r<n.length;r++){var c=n[r].name,f=n[r].data,h=o().ship.defaultDistributorId,l=t?"0006":"0004";if(!f||!f[h])return u("inventory: lot "+c+" is invalid."),!1;if(i=f[h],i.inStock.toLowerCase()==="true"&&i.deliveryType.toLowerCase()==="ship"){e=f;s=i.deliverByDates&&i.deliverByDates[l];break}}return{isInStock:!!e,deliveryDate:s}},e=function(i,r){var f=n(),e;return!r||!r.availabilityUrl||!i||!i.length?f.reject().promise():(e={operationName:"QueryInventory",serviceName:"Inventory",contentType:"application/json",url:r.availabilityUrl,data:JSON.stringify(i)},t.post(e).then(function(n){i.map(function(t){var i=(n.availabilities||[]).filter(function(n){var i=(t.inventorySkuId||t.skuId||"").toLowerCase(),r=(n.inventoryControlSkuId||"").toLowerCase(),u=(n.distributorSkuId||"").toLowerCase(),f=t.skuId?t.skuId.toString().toLowerCase():"";return i&&i===r||n.errorCode==="3000"&&f===u}),r,u;i.length&&(r=i[0],u=s(r,t.preorder),t.inventory=u)});f.resolve(i)},function(n,t,r){return n.status===404?f.resolve(i):(u(t+", "+r),f.reject())}),f.promise())},o=function(){return{ship:{defaultDistributorId:"9000000013",defaultDeliveryMethodId:"0004",defaultPreOrderDeliveryMethodId:"0006"},pickup:{defaultDeliveryMethodId:"0005"}}},h=function(){function n(){return Math.floor(Math.random()*16).toString(16)}var t="xxxxxxxx-xxxx-4xxx-Rxxx-xxxxxxxxxxxx".replace(/x/g,n);return t.replace("R",(8|Math.floor(Math.random()*3)).toString(16))};return{queryInventory:e,getDeliveryMethods:o,checkInStock:f,createConditionsProcessor:c}});define("oneStore.productConfiguratorInventory",["jqReady!","vortexEvents","oneStore.inventory"],function(n,t,i){function e(t,u){i.queryInventory(t,u).done(function(t){var i,u;!t||(i={},t.map(function(n){if(!!n&&!!n.inventory){var t=f(n.inventory,n.preorder),r=t.isInStock;i[n.skuId]=r}}),u=n(r.configRootSelector),u.trigger(r.inventoryUpdatedEvent,i))})}var r={skuInfoSelector:"#completeskuinfo",configRootSelector:".configroot",inventoryUpdatedEvent:"invUpdated",msftDistributor:"9000000013"},u=function(n){var i={event:"productConfiguratorInventoryCheck",uri:document.location.href,details:n};t.sendError(i,!1)},f=function(n,t){for(var i,o=null,s=null,f=0;f<n.length;f++){var c=n[f].name,e=n[f].data,h=r.msftDistributor,l=t?"0006":"0004";if(!e||!e[h])return u("inventory: lot "+c+" is invalid."),!1;if(i=e[h],i.inStock.toLowerCase()==="true"&&i.deliveryType.toLowerCase()==="ship"){o=e;s=i.deliverByDates&&i.deliverByDates[l];break}}return{isInStock:!!o,deliveryDate:s}},o=function(){var t=n(r.skuInfoSelector).data("i"),f=Object.keys(t||[]);if(!(f.length<0)){var i=n(r.configRootSelector),o=i.data("id"),s=i.data("aurl"),u=[],h={availabilityUrl:s};n.each(t,function(n,t){t.InventorySkuId&&u.push({productId:o,skuId:n,inventorySkuId:t.InventorySkuId,distributorId:r.msftDistributor,availabilityId:t.AvailabilityId,preorder:t.IsPreOrder})});e(u,h)}};return{setup:o}});require(["jqReady!","oneStore.productConfiguratorInventory"],function(n,t){t.setup()});define("oneStore.productConfiguratorEligibility",["jqReady!","oneStore.productConfigurator","service","oneStore.storeShell"],function(n,t,i,r){var u="/{0}/store/webapi/UserEligibilities",f=function(n,t,r){var f=u.replace("{0}",n.toLowerCase()),e;return f+="?market="+t.toLowerCase(),f+="&productid="+window.encodeURIComponent(r.toLowerCase()),e={operationName:"GetUserEligibility",serviceName:"Catalog",url:f,contentType:"application/json"},i.post(e)},e=function(){var i=t.getCurrentProduct();i&&(r.isUserSignedInMsa()?n.when(r.userInfoLoaded).then(function(n){n.idp===r.idpType.Msa&&f(i.locale,i.market,i.productId).then(function(n){t.updateSkuEligibility(n)},function(){t.updateSkuEligibility()})},function(){t.updateSkuEligibility()}):t.updateSkuEligibility())};return{initialize:e}});require(["oneStore.productConfiguratorEligibility","jqReady!"],function(n,t){t(function(){n.initialize()})});define("oneStore.lazyLoad",["jqReady!","document"],function(n){var t=function(t){n(".cli_lazyImage",t).each(function(){var i=n(this).attr("src"),t=n(this).attr("data-src");i!==t&&n(this).attr("src",t)});n("source[data-srcset]",t).each(function(){var i=n(this).attr("srcset"),t=n(this).attr("data-srcset");i!==t&&n(this).attr("srcset",t)})};return{loadLazyImages:t}});define("oneStore.pdpSkuState",["jqReady!","Handlebars","oneStore.storeShell","oneStore.unhide","oneStore.userLocalTime","oneStore.userAgent"],function(n,t,i,r,u,f){var d=".cli_skuSelector",ct=".cli_sku-select-button",gt=".cli_sku-select-button.active",ni=".cli_availabilities",ti=".cli_availability",o=".cli_availability.active",ii=".cli_skuMenuItemTemplate",ri=".cli_skuDataElementTemplate",ui=".cli_availabilityTemplate",y=".cli_affirmation-message-text",s="#srv_purchaseCTA .c-button",fi=".cli_skuMediaBrowser",g=".srv_installPlayContainer",ei=".srv_addCartContainer",oi=".cli_specifications",si=".c-pivot>header",hi=".cli_remediations",nt=".cli_skuDropdownSelector",tt=".cli_skuOptionDropdownSelectors",ci=".cli_skuOptionDropdownSelector",c=".cli_skuMenuItems",it=".cli_skuSelectorData",li="dynamic-bundle",ai="static-bundle",vi="use-product-images",yi="use-sku-images",pi="digital-product",wi="use-first-spec",lt=".cli_pdp-gift-button",at="requires-device-eligibility-Check",e=d+", "+nt+", "+tt,vt=ct+", .c-menu-item",bi=ct+"{skuData}{availabilityData}, .cli_skuData{skuData}{availabilityData}",rt=[],p=[],ut=[],yt=!1,ki=function(){return yt},w=function(){return n(e).find(vt).length>0||n(tt).find(it).length>0},di=function(){return n("#skuSelector .c-select").length>0||n(".cli_pdp-findinstore-button").length>0},gi=function(){return n(s).data(li)},nr=function(){return n(s).data(pi)},tr=function(){return!!n(s).data(ai)},ir=function(){return n(s).data(vi)},rr=function(){return n(s).data(yi)},ur=function(){return n(s).data(wi)},fr=function(){return n(s).data(at)?n(s).data(at).toLowerCase()==="true":!1},er=function(){return n(e).find(vt).length>1},or=function(){return n(lt+"[data-has-multiple-sku]").length>0},sr=function(){return n(lt).data("is-hbi-authenticated").toLowerCase()==="true"},l=function(){return n(nt).length>0},a=function(){return n(tt).length>0},hr=function(){return{skuId:n(s).attr("data-sku-id")}},cr=function(){var t=n(fi),i;return t.length>0?(i=t.first(),{skuId:i.attr("data-sku-id")}):null},lr=function(){return n(c).find('.c-menu-item a[aria-selected="true"]').first()},b=function(){var t=n(e);return t.length<1?null:{productId:t.data("product-id"),productType:t.data("item-type"),locale:t.data("locale"),market:t.data("market"),purchased:t.data("purchased"),remediationRequired:t.data("remediation-required"),entitlementConfirmed:t.data("entitlement-confirmed"),remediationConfirmed:t.data("remediation-confirmed"),hideActions:t.data("hide-actions"),hasEaAccess:t.data("hasEaAccess"),isOwned:t.data("isOwned"),availabilityUrl:t.data("availability-url"),upsellChannelId:t.data("upsellchannel-id")||"",aveVerified:t.data("ave-verified")||!1,stayOnPdp:t.data("enable-cart-flyout")||!1,maxOrderQuantity:t.data("max-order-quantity")}},ar=function(){var i=n(".cli_findinstore_productinfo").data("productinfo"),t;return i==null||i.trim()===""?null:(t=JSON.parse(i),{productId:t.ProductId,productType:t.ProductType,locale:t.Locale,market:t.Market,availabilityUrl:t.AvailabilityUrl,skuId:t.SkuId})},vr=function(t){var r=n(".cli_findinstore_skuinfo").data("skuinfo"),i;return!r||!t||r.length<1?null:(i=r[t],!i)?null:{productId:i.ProductId,productType:i.ProductType,skuId:i.SkuId,availabilityId:i.AvailabilityId,isPreorder:i.IsPreOrder,inventorySkuId:i.InventorySkuId,showFindInStore:i.ShowFindInStore,imageUrl:i.ImageUrl,imageAltText:i.ImageAltText,skuTitle:i.SkuTitle,skuButtonTitle:i.SkuButtonTitle,skuPrice:n("#storeav-container").find("[data-sku-id="+t+"]").html()||""}},yr=function(t,i){n(e).data(t,i)},k=function(n,t){return{productId:n.data("product-id"),productType:n.data("item-type"),renderHint:n.data("render-hint"),remediationRequired:n.data("remediation-required"),remediationConfirmed:n.data("remediation-confirmed"),entitlementConfirmed:n.data("entitlement-confirmed"),skuId:t.attr("data-sku-id"),belongingSkuId:t.find(o).attr("data-belonging-sku-id"),skuTitle:t.data("title"),skuButtonTitle:t.data("button-title"),availabilityId:t.find(o).data("id"),maxQuantity:t.data("maxquantity"),skuPrice:t.find(o).find(".cli_price").html()||"",skuBadge:t.find(o).find(".cli_skuBadge").html()||"",skuDescription:t.find(".cli_desc").text(),purchasable:t.data("purchasable"),repurchasable:t.data("repurchasable"),inventoried:t.data("inventoried"),useCart:t.data("usecart"),purchaseMethod:t.data("purchase-method"),deviceSerialNumber:t.attr("data-device-serial-number"),inStock:t.data("in-stock"),deliveryDate:t.data("delivery-date"),deliveryOverlay:t.data("delivery-overlay"),preorderReleaseDate:t.data("preorder-release-date"),ctaDisplayType:t.data("cta-display-type"),isTrial:t.data("trial"),isFree:t.data("free"),isPreorder:t.data("preorder"),isInEaVault:t.data("ineavault"),isComingsoon:t.data("comingsoon"),isBundleOnly:t.data("bundleonly"),isNotAvailable:t.data("notavailable"),preorderInfo:t.find(".cli_preorder").html(),upsellOptions:t.find(o).find(".cli_remediations").html(),affirmationMessage:t.find(o).find(".cli_availability-affirmation-message").html(),additionalSale:t.find(o).find(".cli_additionalSale").html(),purchased:t.data("trial")||a()?t.data("purchased"):n.data("purchased"),inventorySkuId:t.data("inventory-sku-id"),imageUrl:t.data("imageuri"),imageAltText:t.data("imagealtext"),showFindInStore:t.data("show-findinstore"),isSatisfiedItem:t.data("is-satisfied-item"),isOnSale:t.find(o).data("is-on-sale"),skuType:t.data("sku-type"),skuSelectionFilters:{videoFormat:t.data("sku-video-format"),audioLanguage:t.data("sku-audio-language")},listPrice:t.data("list-price"),rtPrice:t.data("rt-price"),formattedListPrice:t.data("formatted-list-price"),expirationBeforePlayInHours:t.data("media-options-expiration-before-play-in-hours"),expirationAfterPlayInHours:t.data("media-options-expiration-after-play-in-hours"),acquisitionEndDate:t.data("acquisition-end-date")}},pr=function(){var i=n(nt),r=lr().data("target-id"),u=n(it),t;return!i.length||!r||!u.length?null:(t=u.find("#"+r),!t.length)?null:k(i,t)},wr=function(){var t=n(d),i=t.find(gt);return!t.length||!i.length?null:k(t,i)},pt=function(){return l()?pr():a()?wt()[0]:wr()},wt=function(){for(var r,o,s,f,h,e,t,u={},c=n(ci),i=0;i<c.length;i++){var l=c[i],a=n(l).data("sku-filter-property"),v=n(l).find('.c-menu-item a[aria-selected="true"]').first().text();u[a]=v}for(r=[],o=ft(),i=0;i<o.length;i++){t=o[i];s=!0;for(f in u)if(u.hasOwnProperty(f)&&t.skuSelectionFilters[f]!==u[f]){s=!1;break}if(s&&r.push(t),t.purchased)return r=[],r.push(t),r}return h=r.filter(function(n){return!n.isNotAvailable}),e=h.length>0?h:r,e.length==0&&(t=jQuery.extend({},ft()[0]),t.skuSelectionFilters=u,e.push(t)),e},v=function(n,t){var i=n?'[data-sku-id="'+n+'"]':"",r=t?'[data-availability-id="'+t+'"]':"";return bi.split("{skuData}").join(i).split("{availabilityData}").join(r)},ft=function(){var t=n(e),i=t.find(v());return i.map(function(){return k(t,n(this))})},et=function(t){var s=v(t),r=n(e).find(s),u,i,f,o;if(!r.length)for(u=n(e).find(v()),i=0;i<u.length;i++)if(f=n(u[i]),o=(f.data("merged-skus")||"").split("."),o.indexOf(t)>=0){r=f;break}return r},br=function(t){var i=v(null,t);return n(e).find(i)},kr=function(t,i){var r=v(t,i);return n(e).find(r)},dr=function(i){var o,y,p,w,b,k,h,a,d,v,s,tt,f;if(i&&i.length&&l()&&(o=i.filter(function(n){return!n.IsTrial}),o.length)&&(y=n(ii).find('script[type="text/x-handlebars-template"]'),p=n(ri).find('script[type="text/x-handlebars-template"]'),y.length&&p.length)&&(w=t.compile(y.first().html()),b=t.compile(p.first().html()),w&&b)){for(k=n(c).children(),h=0;h<k.length;h++){var g=n(k[h]),rt=g.attr("data-sku-id"),nt=!1;for(a=0;a<o.length;a++)if(o[a].SkuId===rt){nt=!0;break}nt||n(g).remove()}for(d=n("#ParentBundlesSection").length>0,v=!1,s=0;s<o.length;s++)tt=n(c).children('[data-sku-id="'+o[s].SkuId+'"]'),tt.length||(f=o[s],f.IsBundleOnly=!f.IsPurchasable&&d,f.IsNotAvialable=!f.IsPurchasable&&!d&&(f.IsFirstAvailableDateInPast||!f.IsFirstAvailableDateAvialable),n(c).append(w(f)),n(it).append(b(f)),v=v||f.IsPreorder);v&&u.updateDateDisplay();r.toggle(e,n(c).children().length<2)}},gr=function(t){var i,r,u;if(t&&t.length&&!l())for(i=0;i<t.length;i++)r=t[i],u=n(d).children('[data-sku-id="'+r.SkuId+'"]'),u.length&&r.EffectiveAvalibility&&u.find(".cli_sku_price_acc").html(r.EffectiveAvalibility.ListPriceText)},nu=function(i,r){var u,f;return!i.length||!r||!r.Id?null:(u=n(ui).find('script[type="text/x-handlebars-template"]'),!u.length)?null:(f=t.compile(u.first().html()),!f)?null:(i.find(ni).append(f(r)),i.find(o))},tu=function(t){var r=et(t.SkuId),i,u;(r.find(ti).each(function(r,u){var f=n(u);f.removeClass("active");t.EffectiveAvalibility&&f.data("id")===t.EffectiveAvalibility.Id&&(i=f,f.addClass("active"))}),i||(i=nu(r,t.EffectiveAvalibility)),i)&&(t.EffectiveAvalibility.UserHasEaAccess&&n(e).data("hasEaAccess",!0),r.data("ineavault",t.EffectiveAvalibility.IsAvailableInVault),r.attr("data-availability-id",t.EffectiveAvalibility.Id),r.data("availability-id",t.EffectiveAvalibility.Id),r.data("free",i.data("free")),r.data("purchasable",i.data("purchasable")),t.EffectiveAvalibility.AffirmationMessage&&(i.find(y).html(t.EffectiveAvalibility.AffirmationMessage),u=n.trim(t.EffectiveAvalibility.AffirmationMessage),i.find(y).addClass("context-upsell-information",u),i.find(y).removeAttr("data-m"),i.find(y).attr("data-m",'{"cN":"'+t.EffectiveAvalibility.AffirmationId+'"}'),t.EffectiveAvalibility.ShowRemediationAction||i.find(hi).empty()))},h=function(n){n||(n=pt());rt.forEach(function(t){t(n)})},iu=function(){yt=!0;ut.forEach(function(n){n()})},bt=function(t){var r,i,u,f;w()&&(i=null,t.productType==="TvEpisode"?(r={productId:t.productId,skuId:t.skuId,availabilityId:t.availabilityId,productType:t.productType},p.forEach(function(n){n(r)})):t.productType==="TvSeason"||t.productType==="Movie"||t.productType==="Movies"?i=kr(t.skuId,t.availabilityId):t.availabilityId?i=br(t.availabilityId):t.skuId&&(i=et(t.skuId)),i)&&(u=n(e),i.data("trial")?i.data("purchased",!0):(f=u.data("purchased")||!t.isSatisfiedItem,a()&&i.data("purchased",!0),u.data("purchased",f),i.data("acquisition-end-date",t.acquisitionEndDate),i.data("is-satisfied-item",t.isSatisfiedItem)),i.length?r=k(u,i):(r=b(),r.skuId=t.skuId,r.availabilityId=t.availabilityId,r.autoRenew=t.autoRenew),r.licensingRequired=t.licensingRequired,l()||a()?p.forEach(function(n){n(r)}):h())},ru=function(t){var r,i;if(n(e).data("remediation-confirmed",!0),(t||[]).length)for(r=t.length,dr(t),gr(t),i=0;i<r;i++)tu(t[i]);h()},uu=function(n,t){var i;n&&t&&(i=et(n),i&&(i.data("in-stock",t.isInStock).data("delivery-date",t.deliveryDate),h()))},ot=function(){return n(g).length>0},kt=function(){return f.isFromThresholdDevice()||f.isFromWinPhone10Device()||f.isFromWin8XDevice()||f.isFromWinPhone81Device()||f.isFromWinPhone8Device()||f.isFromXboxOneDevice()||f.isFromXboxDevice()},dt=function(){ot()&&kt()&&(r.toggle(n(ei)),r.toggle(n(g)))},st=function(t,i){t&&n.inArray(t,i)===-1&&i.push(t)},ht=function(n,t){if(n){var i=t.indexOf(n);i!==-1&&t.splice(i,1)}},fu=function(n){st(n,rt)},eu=function(n){ht(n,rt)},ou=function(n){st(n,p)},su=function(n){ht(n,p)},hu=function(n){st(n,ut)},cu=function(n){ht(n,ut)};return n(function(){if(w()){var t=b();if(t.hideActions)if(i.isUserSignedInMsa())n(document).on("entitlementConfirmed",function(){n(e).data("entitlement-confirmed",!0);h()});else n(e).data("entitlement-confirmed",!0).data("remediation-confirmed",!0),h()}n(document).on("deferredLoadModuleCompleted",function(t){var i=n("#"+t.originalEvent.detail.moduleId+" "+oi).length;i&&h();n(si).css("overflow","visible")});n(document).on("entitlementLoaded",function(){var r,u,f,i,t;if(arguments&&arguments.length>1)for(r=[].slice.call(arguments,1),w()&&(f=b(),u=f.productId.toUpperCase()),ot()&&(u=n(g).data("product-id")),i=0;i<r.length;i++)t=r[i],t&&u===(t.ProductId||"").toUpperCase()&&(bt({skuId:t.SkuId,autoRenew:t.AutoRenew,licensingRequired:t.LicensingRequired,isSatisfiedItem:t.IsSatisfiedItem,acquisitionEndDate:t.EndDateUtc}),dt());iu()})}),{hasSku:w,hasFindStore:di,isDynamicBundle:gi,isDigitalProduct:nr,isStaticBundle:tr,useProductLevelImages:ir,useSkuLevelImages:rr,getDefaultSku:hr,useFirstSpec:ur,requiresDeviceEligibilityCheck:fr,hasMultipleSkus:er,hasMultipleGiftingSkus:or,isHbiAuthenticated:sr,isDropdownStyle:l,isMultipleOptionDropdownStyle:a,skuUpdated:h,registerSkuUpdated:fu,unregisterSkuUpdated:eu,registerPurchasedUpdated:ou,unregisterPurchasedUpdated:su,registerEntitlementProcessComplete:hu,unregisterEntitlementProcessComplete:cu,getCurrentProduct:b,getFirstBundleSku:cr,getCurrentActiveSku:pt,getCurrentActiveSkus:wt,updateSkuEligibility:ru,updateProductPurchased:bt,setCurrentProductData:yr,isEntitlementProcessComplete:ki,getAllSkus:ft,updateSkuInventoryStatus:uu,canInstallApp:kt,hasInstallPlayButton:ot,showInstallPlayButton:dt,getProductInfo:ar,getProductActiveSku:vr}});define("oneStore.userAgent",["window"],function(n){var t=n&&n.navigator&&n.navigator.userAgent&&n.navigator.userAgent.toLowerCase&&n.navigator.userAgent.toLowerCase()||null;return{isFromThresholdDevice:function(){return t&&(t.indexOf("windows nt 6.4")>=0||t.indexOf("windows nt 10")>=0)&&t.indexOf("xbox")<0&&t.indexOf("arm")<0},isFromWinPhone10Device:function(){return t&&(t.indexOf("windows phone 10")>=0||t.indexOf("windows nt 10")>=0&&t.indexOf("arm")>=0)},isFromWin8XDevice:function(){return t&&(t.indexOf("windows nt 6.3")>=0||t.indexOf("windows nt 6.2")>=0||t.indexOf("windows nt 8")>=0)&&t.indexOf("xbox")<0&&t.indexOf("wpdesktop")<0},isFromWinPhone81Device:function(){return t&&(t.indexOf("windows phone 8.1")>=0||t.indexOf("trident/7.0")>=0&&t.indexOf("wpdesktop")>=0)},isFromWinPhone8Device:function(){return t&&(t.indexOf("windows phone 8.0")>=0||t.indexOf("trident/6.0")>=0&&t.indexOf("wpdesktop")>=0)},isFromWinPhone7XDevice:function(){return t&&(t.indexOf("windows phone os 7")>=0||t.indexOf("windows nt 6.1")>=0&&t.indexOf("wp7")>=0)},isFromWindowsDevice:function(){return t&&(t.indexOf("windows")>=0||t.indexOf("wpdesktop")>=0)},isFromXboxOneDevice:function(){return t&&t.indexOf("xbox one")>=0},isFromXboxDevice:function(){return t&&t.indexOf("xbox")>=0},isFromiOsDevice:function(){return t&&(t.indexOf("iphone")>=0||t.indexOf("ipad")>=0||t.indexOf("ipod")>=0)},getMsIeVersion:function(){var n=t&&t.indexOf("msie"),r=n>=0;if(r){var u=t.indexOf(";",n),f=t.substring(n,u),i=f.split(" ");if(i&&i.length>1)return i[1]*1}return-1},getEdgeVersion:function(){var n=t&&t.indexOf("edge/"),i=n>0;if(i)try{return parseFloat(t.match("edge/([0-9]*.?[0-9]+)")[1])}catch(r){return-1}return-1},isIeVersionOrLower:function(n){var t=this.getMsIeVersion();return t>-1&&t<=n}}});define("oneStore.userLocalTime",["jqReady!","oneStore.locale"],function(n,t){function i(n){return Object.prototype.toString.call(n)!=="[object Date]"?!1:!isNaN(n.getTime())}function r(n){var t=""+n;return t.length>1?t:"0"+t}function c(n,t){if(!i(n)||!t||!t.toLowerCase)return n;var u=n.getFullYear(),f=n.getMonth()+1,o=n.getDate(),s=e[t.toLowerCase()]||"MM/dd/yyyy";return s.replace(/yyyy/,u).replace(/yy/,(""+u).substr(2)).replace(/MM/,r(f)).replace(/M/,f).replace(/dd/,r(o)).replace(/d/,o)}function u(n,r,u,f){if(!n)return n;var e=new Date(n),l=t.getCurrentLocale(),a=null,o;if(i(e)){a=e;try{o=r?e.toLocaleString(l,s):u?c(e,l):e.toLocaleDateString(l,h)}catch(v){o=r?e.toLocaleString():e.toLocaleDateString()}}else o=n;return f?{date:a,text:o}:o}function f(){n(o).each(function(t,i){var r=!n(this).data("use-short-date"),f=n(i),e=f.text(),o=u(e,r,!r);f.html(o).removeClass("hide").removeClass("x-hidden")})}var e={"ar-sa":"dd/MM/yy","bg-bg":"dd.M.yyyy","ca-es":"dd/MM/yyyy","zh-tw":"yyyy/M/d","cs-cz":"d.M.yyyy","da-dk":"dd-MM-yyyy","de-de":"dd.MM.yyyy","el-gr":"d/M/yyyy","en-us":"M/d/yyyy","fi-fi":"d.M.yyyy","fr-fr":"dd/MM/yyyy","he-il":"dd/MM/yyyy","hu-hu":"yyyy. MM. dd.","is-is":"d.M.yyyy","it-it":"dd/MM/yyyy","ja-jp":"yyyy/MM/dd","ko-kr":"yyyy-MM-dd","nl-nl":"d-M-yyyy","nb-no":"dd.MM.yyyy","pl-pl":"yyyy-MM-dd","pt-br":"d/M/yyyy","ro-ro":"dd.MM.yyyy","ru-ru":"dd.MM.yyyy","hr-hr":"d.M.yyyy","sk-sk":"d. M. yyyy","sq-al":"yyyy-MM-dd","sv-se":"yyyy-MM-dd","th-th":"d/M/yyyy","tr-tr":"dd.MM.yyyy","ur-pk":"dd/MM/yyyy","id-id":"dd/MM/yyyy","uk-ua":"dd.MM.yyyy","be-by":"dd.MM.yyyy","sl-si":"d.M.yyyy","et-ee":"d.MM.yyyy","lv-lv":"yyyy.MM.dd.","lt-lt":"yyyy.MM.dd","fa-ir":"MM/dd/yyyy","vi-vn":"dd/MM/yyyy","hy-am":"dd.MM.yyyy","az-latn-az":"dd.MM.yyyy","eu-es":"yyyy/MM/dd","mk-mk":"dd.MM.yyyy","af-za":"yyyy/MM/dd","ka-ge":"dd.MM.yyyy","fo-fo":"dd-MM-yyyy","hi-in":"dd-MM-yyyy","ms-my":"dd/MM/yyyy","kk-kz":"dd.MM.yyyy","ky-kg":"dd.MM.yy","sw-ke":"M/d/yyyy","uz-latn-uz":"dd/MM yyyy","tt-ru":"dd.MM.yyyy","pa-in":"dd-MM-yy","gu-in":"dd-MM-yy","ta-in":"dd-MM-yyyy","te-in":"dd-MM-yy","kn-in":"dd-MM-yy","mr-in":"dd-MM-yyyy","sa-in":"dd-MM-yyyy","mn-mn":"yy.MM.dd","gl-es":"dd/MM/yy","kok-in":"dd-MM-yyyy","syr-sy":"dd/MM/yyyy","dv-mv":"dd/MM/yy","ar-iq":"dd/MM/yyyy","zh-cn":"yyyy/M/d","de-ch":"dd.MM.yyyy","en-gb":"dd/MM/yyyy","es-mx":"dd/MM/yyyy","fr-be":"d/MM/yyyy","it-ch":"dd.MM.yyyy","nl-be":"d/MM/yyyy","nn-no":"dd.MM.yyyy","pt-pt":"dd-MM-yyyy","sr-latn-cs":"d.M.yyyy","sv-fi":"d.M.yyyy","az-cyrl-az":"dd.MM.yyyy","ms-bn":"dd/MM/yyyy","uz-cyrl-uz":"dd.MM.yyyy","ar-eg":"dd/MM/yyyy","zh-hk":"d/M/yyyy","de-at":"dd.MM.yyyy","en-au":"d/MM/yyyy","es-es":"dd/MM/yyyy","fr-ca":"yyyy-MM-dd","sr-cyrl-cs":"d.M.yyyy","ar-ly":"dd/MM/yyyy","zh-sg":"d/M/yyyy","de-lu":"dd.MM.yyyy","en-ca":"dd/MM/yyyy","es-gt":"dd/MM/yyyy","fr-ch":"dd.MM.yyyy","ar-dz":"dd-MM-yyyy","zh-mo":"d/M/yyyy","de-li":"dd.MM.yyyy","en-nz":"d/MM/yyyy","es-cr":"dd/MM/yyyy","fr-lu":"dd/MM/yyyy","ar-ma":"dd-MM-yyyy","en-ie":"dd/MM/yyyy","es-pa":"MM/dd/yyyy","fr-mc":"dd/MM/yyyy","ar-tn":"dd-MM-yyyy","en-za":"yyyy/MM/dd","es-do":"dd/MM/yyyy","ar-om":"dd/MM/yyyy","en-jm":"dd/MM/yyyy","es-ve":"dd/MM/yyyy","ar-ye":"dd/MM/yyyy","en-029":"MM/dd/yyyy","es-co":"dd/MM/yyyy","ar-sy":"dd/MM/yyyy","en-bz":"dd/MM/yyyy","es-pe":"dd/MM/yyyy","ar-jo":"dd/MM/yyyy","en-tt":"dd/MM/yyyy","es-ar":"dd/MM/yyyy","ar-lb":"dd/MM/yyyy","en-zw":"M/d/yyyy","es-ec":"dd/MM/yyyy","ar-kw":"dd/MM/yyyy","en-ph":"M/d/yyyy","es-cl":"dd-MM-yyyy","ar-ae":"dd/MM/yyyy","es-uy":"dd/MM/yyyy","ar-bh":"dd/MM/yyyy","es-py":"dd/MM/yyyy","ar-qa":"dd/MM/yyyy","es-bo":"dd/MM/yyyy","es-sv":"dd/MM/yyyy","es-hn":"dd/MM/yyyy","es-ni":"dd/MM/yyyy","es-pr":"dd/MM/yyyy","am-et":"d/M/yyyy","tzm-latn-dz":"dd-MM-yyyy","iu-latn-ca":"d/MM/yyyy","sma-no":"dd.MM.yyyy","mn-mong-cn":"yyyy/M/d","gd-gb":"dd/MM/yyyy","en-my":"d/M/yyyy","prs-af":"dd/MM/yy","bn-bd":"dd-MM-yy","wo-sn":"dd/MM/yyyy","rw-rw":"M/d/yyyy","qut-gt":"dd/MM/yyyy","sah-ru":"MM.dd.yyyy","gsw-fr":"dd/MM/yyyy","co-fr":"dd/MM/yyyy","oc-fr":"dd/MM/yyyy","mi-nz":"dd/MM/yyyy","ga-ie":"dd/MM/yyyy","se-se":"yyyy-MM-dd","br-fr":"dd/MM/yyyy","smn-fi":"d.M.yyyy","moh-ca":"M/d/yyyy","arn-cl":"dd-MM-yyyy","ii-cn":"yyyy/M/d","dsb-de":"d. M. yyyy","ig-ng":"d/M/yyyy","kl-gl":"dd-MM-yyyy","lb-lu":"dd/MM/yyyy","ba-ru":"dd.MM.yy","nso-za":"yyyy/MM/dd","quz-bo":"dd/MM/yyyy","yo-ng":"d/M/yyyy","ha-latn-ng":"d/M/yyyy","fil-ph":"M/d/yyyy","ps-af":"dd/MM/yy","fy-nl":"d-M-yyyy","ne-np":"M/d/yyyy","se-no":"dd.MM.yyyy","iu-cans-ca":"d/M/yyyy","sr-latn-rs":"d.M.yyyy","si-lk":"yyyy-MM-dd","sr-cyrl-rs":"d.M.yyyy","lo-la":"dd/MM/yyyy","km-kh":"yyyy-MM-dd","cy-gb":"dd/MM/yyyy","bo-cn":"yyyy/M/d","sms-fi":"d.M.yyyy","as-in":"dd-MM-yyyy","ml-in":"dd-MM-yy","en-in":"dd-MM-yyyy","or-in":"dd-MM-yy","bn-in":"dd-MM-yy","tk-tm":"dd.MM.yy","bs-latn-ba":"d.M.yyyy","mt-mt":"dd/MM/yyyy","sr-cyrl-me":"d.M.yyyy","se-fi":"d.M.yyyy","zu-za":"yyyy/MM/dd","xh-za":"yyyy/MM/dd","tn-za":"yyyy/MM/dd","hsb-de":"d. M. yyyy","bs-cyrl-ba":"d.M.yyyy","tg-cyrl-tj":"dd.MM.yy","sr-latn-ba":"d.M.yyyy","smj-no":"dd.MM.yyyy","rm-ch":"dd/MM/yyyy","smj-se":"yyyy-MM-dd","quz-ec":"dd/MM/yyyy","quz-pe":"dd/MM/yyyy","hr-ba":"d.M.yyyy.","sr-latn-me":"d.M.yyyy","sma-se":"yyyy-MM-dd","en-sg":"d/M/yyyy","ug-cn":"yyyy-M-d","sr-cyrl-ba":"d.M.yyyy","es-us":"M/d/yyyy"},o=".cli_require-local-time",s={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},h={weekday:"long",year:"numeric",month:"long",day:"numeric"};return n(function(){f()}),{updateDateDisplay:f,convertToLocalDate:u}});define("oneStore.locale",["window"],function(n){var t=function(){var t=null,r=n.location.pathname.toString(),i=r.match(/^\/(..\-..)\/.*/i);return i&&(t=i[1]),t||(t=n._pageBITags.pageTags.mkt),t.toLowerCase()},i=function(n,t){if(!n||n.indexOf("-")<0)return t||"";var i=n.split("-");return i[i.length-1].toUpperCase()};return{getCurrentLocale:t,getMarketWithDefault:i}});define("oneStore.pdpColorSwatchSelector",["jqReady!","oneStore.unhide","oneStore.pdpSkuState","clickstreamTracker","jsll"],function(n,t,i,r,u){var f={colorNameSelector:".color-swatches .cli-color-name",pdpColorPickerSelector:"#BuyBox .configparent .c-select-button",configColorPickerSelector:".configroot .color-swatches .c-select-button",skuMediaBrowserClass:".cli_skuMediaBrowser",buyBoxSelector:"#srv_purchaseCTA .c-button",renderHintDataKey:"rh"},s=function(){return f.pdpColorPickerSelector},h=function(){var i=n(f.configColorPickerSelector),u,r,t;i.length&&(u=i.first().parent(),r=u.data("color-selected"),r&&(t=i.filter("[data-key="+r+"]"),t.trigger("click",{skipTelemetry:!0}),t.attr("aria-pressed","true"),t.attr("aria-checked","true")))},e=function(i){n(f.skuMediaBrowserClass).each(function(r,u){var f=n(u),e=f.attr("data-sku-id");t.softToggle(f,e!==i)})},o=function(t){var i=n(t).parent(),o=i.data(f.renderHintDataKey),r,u;o.toLowerCase()=="color"&&(r=n(t).data("js-selected-text"),u=n(t).attr("data-sku-id"),n(f.colorNameSelector).text(r),e(u),c(i,n(t).data("key")))},c=function(t,i){t.children().each(function(t,r){var u=n(r),f=u.data("js-selected-text");i===u.attr("data-key")?u.attr("aria-label",u.attr("data-ariaText")):u.attr("aria-label",f)})},l=function(){n(f.pdpColorPickerSelector).on("click",function(t,i){o(this);var s=n(this).attr("data-sku-id"),h=n(f.buyBoxSelector),c=h.data("product-id");h.data("selected-color",n(this).data("select-button-swatch"));e(s);(i==null||i===undefined)&&r.capturePageAction(t.target,{behavior:u.behavior.UNDEFINED,actionType:u.actionType.CLICKLEFT,contentTags:{pid:c,sku:s}})})},a=function(){l()};return{getColorPickerSelector:s,updateSelectedColorSwatcher:h,setup:a,updateColorPickerName:o,updateMediaBrowser:e}});require(["oneStore.pdpColorSwatchSelector","oneStore.pdpSkuState","jqReady!"],function(n,t,i){i(function(){n.setup();i(n.getColorPickerSelector()).first().trigger("click",{skipTelemetry:!0});i(n.getColorPickerSelector()).first().attr("aria-pressed","true").attr("aria-checked","true")})});require(["jqReady!","oneStore.storeShell"],function(n,t){n(function(){t.initShell()})});_requirejs=window.requirejs&&window.requirejs.specified&&window.requirejs||window.require;!_requirejs.specified("jqReady")&&window.jQuery&&(define.amd.jQuery=!1,define("jqReady",[],function(){return window.jQuery})),function(){var n=document.querySelector('meta[name="is-onerf"]'),t=n&&n.getAttribute("content")==="true";(window.noMwf||t)&&define("platform",[],function(){return undefined})}();define("oneStore.storeShell",["jqReady!","service"],function(n,t){function s(n){var t=document.querySelector('meta[name="'+n+'"]');return t?t.getAttribute("content"):null}function h(n){return s(n)==="true"}function e(){var t,i;return u?(t=s("userinfo"),t?JSON.parse(t):null):(i=n("#meControl").data("signinsettings"),i&&i.userData)}function c(){var n=e();return n&&n.idp||""}function a(){var n=e();return n&&n.cid||""}function f(){return h("authenticated")||v()}function v(){return window._pageBITags&&window._pageBITags.pageTags&&window._pageBITags.pageTags.signedInStatus}function y(){return f()&&c().toLowerCase()===r.Msa}function p(){return f()&&c().toLowerCase()===r.Aad}function l(){var n=a();return!n?"":"/?idp=default&cid="+n}function w(){var n=e();n?i.resolve(n):i.reject()}function b(){n(function(){var n=l(),u;n?(u={currentOperationName:"GetUserDetails",operationName:"getuserjson",serviceName:"FrontDoor",url:"/store/user/getuserjson"+n,version:"1",contentType:"application/json",noCacheBusting:!0},t.get(u).then(function(n){if(n!=undefined){var t=null;n.AuthenticationType==="Windows Live ID"?(t={idp:r.Msa,firstName:n.FirstName,lastName:n.LastName,memberName:n.Name,cid:n.PassportCid,maturityRatingAge:n.MaturityRatingAge,authenticatedState:1},i.resolve(t),window.storeUser||(window.storeUser={}),window.storeUser.authTicket=n.AuthTicket):n.AuthenticationType==="AAD"&&(t={idp:r.Aad,firstName:n.FirstName,lastName:n.LastName,memberName:n.EmailAddress,cid:n.OrganizationId,authenticatedState:1},i.resolve(t))}},function(){i.reject()})):i.reject()})}function o(){var i=null,f=n("meta[name=userinfo]").attr("content"),t;return f&&u&&(t=JSON.parse(f),t&&(i={FirstName:t.FirstName,LastName:t.LastName},t.idp===r.Xtoken?(i.XToken=t.Ticket,i.XboxLiveXToken=t.XboxLiveMsaTicket):t.idp===r.Device?(i.DeviceToken=t.DeviceToken,i.XboxLiveMsaTicket=t.XboxLiveMsaTicket):(i.Ticket=t.Ticket,i.XboxLiveMsaTicket=t.XboxLiveMsaTicket))),i}function k(n){var t=o();return t&&(n.data=n.data||{},n.data.auth=JSON.stringify(t)),n}function d(n){var t=o();return t&&(n.additionalHeaders=n.additionalHeaders||{},n.additionalHeaders["X-Store-Auth"]=JSON.stringify(t)),n}function g(){f()?u?w():b():i.reject()}var u=h("is-sfa"),r={Msa:"msa",Aad:"aad",Xtoken:"xts",Device:"device"},i=n.Deferred();return{initShell:g,isUserSignedIn:f,isUserSignedInMsa:y,isUserSignedInAad:p,isSfa:u,getNativeClientUserCredentials:o,addNativeClientCredentialsIfAvailable:k,addNativeClientCredentialsInTheHeader:d,userInfoLoaded:i.promise(),idpType:r,createUserInfoQueryString:l}});require(["jqReady!","oneStore.storeShell"],function(n,t){n(function(){t.initShell()})});define("oneStore.authUi",["jqReady!","oneStore.storeShell","oneStore.unhide"],function(n,t,i){function r(){t.isUserSignedIn()&&(i.unhide(".showIfSignedIn"),i.hide(".hideIfSignedIn"),t.isUserSignedInMsa()?(i.unhide(".showIfSignedInMsa"),i.hide(".hideIfSignedInMsa")):t.isUserSignedInAad()&&(i.unhide(".showIfSignedInAad"),i.hide(".hideIfSignedInAad")))}return{updateUiAuthState:r}});require(["jqReady!","oneStore.authUi"],function(n,t){n(function(){t.updateUiAuthState()})});define("window",[],function(){return window});define("ember",["window"],function(n){return n.Ember});define("ember-data",["window"],function(n){return n.DS});_requirejs=window.requirejs&&window.requirejs.specified&&window.requirejs||window.require;!_requirejs.specified("jqReady")&&window.jQuery&&(define.amd.jQuery=!1,define("jqReady",[],function(){return window.jQuery}));define("commerce",[],function(){return window.commerce});define("extend",["jqReady!"],function(n){return n.extend});define("document",[],function(){return document});define("Math",[],function(){return Math});define("console",["window"],function(n){var t=n.console||{},i=t.log||function(){};return["log","info","warn","error","trace"].forEach(function(n){t[n]||(t[n]=i)}),t});define("deferred",["jqReady!"],function(n){return n.Deferred});define("when",["jqReady!"],function(n){return n.when});define("stack",["window"],function(n){return n.printStackTrace});define("WinJS",["window"],function(n){return n.WinJS});define("storeApi",["window"],function(n){return n.storeApi});define("WebBlender",["window"],function(){return window.WebBlender});define("EnterpriseWebBlender",["window"],function(){return window.EnterpriseWebBlender});define("cookie",["jsll"],function(n){return n.cookie});define("createGuid",["jsll"],function(n){return n.createGuid});define("ids",["jsll"],function(n){return n.ids});define("vortexEvents",["jsll"],function(n){return n.vortexEvents});define("clickstreamTracker",["jsll"],function(n){return n.ct});define("service",["jsll"],function(n){return n.service}),function(){var n=document.querySelector('meta[name="is-onerf"]'),t=n&&n.getAttribute("content")==="true";(window.noMwf||t)&&define("platform",[],function(){return undefined})}();define("optional",[],{load:function(n,t,i){var r=function(n){i(n)},u=function(n){var i=n.requireModules&&n.requireModules[0],u;console.warn("Could not load optional module: "+i);u=window.requirejs&&window.requirejs.specified&&window.requirejs||window.require;u.undef(i);define(i,[],function(){return{}});t([i],r)};t([n],r,u)}});define("oneStore.unhide",["jqReady!"],function(n){function r(t){return typeof t=="string"?n(t):t}function u(n){if(n)return r(n).addClass(t).addClass(i)}function f(n){if(n)return r(n).removeClass(t).removeClass(i)}function s(n,e){if(typeof e=="undefined"&&n){var o=r(n);e=!o.hasClass(t)&&!o.hasClass(i)}e?u(n):f(n)}function e(n){n&&r(n).addClass(t).addClass(i).hide()}function o(n){n&&r(n).removeClass(t).removeClass(i).show()}function h(n,u){if(typeof u=="undefined"&&n){var f=r(n);u=!f.hasClass(t)&&!f.hasClass(i)}u?e(n):o(n)}var t="hidden",i="x-hidden";return{softHide:u,softUnhide:f,softToggle:s,hide:e,unhide:o,toggle:h}})