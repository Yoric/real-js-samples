(window.__twttrll=window.__twttrll||[]).push([[7],{177:function(e,t,n){var r=n(0);e.exports=function(e){return r.isType("string",e)}},183:function(e,t){var n=/^#(?:[a-f\d]{3}){1,2}$/i;e.exports=function(e){return n.test(e)}},202:function(e,t){var n=/^(dark|light)$/;e.exports=function(e){return n.test(e)}},204:function(e,t,n){var r=n(71),i=n(3),a=n(4);e.exports=function(e){e.selectors({followButton:".follow-button"}),e.define("handleFollowButtonClick",function(e,t){var n=i.intentForFollowURL(t.href);a.asBoolean(t.getAttribute("data-age-gate"))||r.open(n,this.sandbox.sandboxEl,e)}),e.after("render",function(){this.on("click","followButton",function(e,t){this.handleFollowButtonClick(e,t)})})}},205:function(e,t,n){var r=n(31),i=n(10);e.exports=function(e){e.selectors({mediaCard:".MediaCard",mediaCardNsfwDismissalTarget:".MediaCard-dismissNsfw"}),e.define("dismissNsfwWarning",function(e,t){var n=r.closest(this.selectors.mediaCard,t,this.el);n&&i.remove(n,"is-nsfw")}),e.after("render",function(){this.on("click","mediaCardNsfwDismissalTarget",this.dismissNsfwWarning)})}},206:function(e,t,n){var r,i,a=n(10),s=n(29),o=n(166),c=n(31),d=n(68),u=n(17),l=n(11),h=n(192),f=n(6),p={autoplay:"1"},m="js-forceRedraw";e.exports=o.couple(n(207),function(e){function t(e){var t=e.createElement("div");return t.className="MediaCard-mediaAsset",t}e.params({lang:{required:!0,transform:d.matchLanguage,fallback:"en"},videoPlayerBorderRadius:{fallback:{}},videoPlayerBranding:{fallback:!0}}),e.selectors({mediaAsset:".MediaCard-mediaAsset",cardInterstitial:".js-cardPlayerInterstitial",wvpInterstitial:".js-playableMediaInterstitial",sourceIdInfo:".js-tweetIdInfo"}),e.define("videoPlayerOptions",function(){var e=(this.scribeData()||{}).widget_origin,t=this.scribeNamespace()||{};return{addBranding:this.params.videoPlayerBranding,borderRadius:this.params.videoPlayerBorderRadius,languageCode:this.params.lang,widgetOrigin:e,autoPlay:!0,scribeContext:{page:t.page,client:t.client}}}),e.define("replaceInterstitialWithMedia",function(e,t){return f.all([this.restoreLastMediaInterstitial(),u.write(function(){r=e,i=e.parentNode,e.parentNode.replaceChild(t,e)})])}),e.define("restoreLastMediaInterstitial",function(){var e;return r&&i?(e=i.firstElementChild,h.remove(e),u.write(function(){i.replaceChild(r,e)})):f.resolve()}),e.define("playWebVideoPlayerMediaAsset",function(e,t){var n,r=c.closest(this.selectors.sourceIdInfo,t,this.el),i=r.getAttribute("data-tweet-id"),a=h.insertForTweet;return i||(i=r.getAttribute("data-event-id"),a=h.insertForEvent),i?(e.preventDefault(),n=this.selectOne(r,this.selectors.wvpInterstitial),this.getConsent(r,n).then(function(){this.displayWebVideoPlayerMediaAsset(r,i,a)}.bind(this))):f.reject(new Error("No source id found for player"))}),e.define("displayWebVideoPlayerMediaAsset",function(e,n,r){var i=this.selectOne(e,this.selectors.mediaAsset),a=t(this.sandbox),s=this.sandbox.createElement("div"),o=this.videoPlayerOptions();return s.className="wvp-player-container",a.appendChild(s),this.replaceInterstitialWithMedia(i,a).then(function(){return r.call(this,a,n,o)})}),e.define("displayIframeMediaAsset",function(e,n){var r,i,o,d=c.closest(this.selectors.mediaAsset,n,this.el),h=c.closest(this.selectors.cardInterstitial,n,this.el),b=h.getAttribute("data-player-src"),v=h.getAttribute("data-player-width"),g=h.getAttribute("data-player-height"),w=h.getAttribute("data-player-title");return b?(e.preventDefault(),o=b,b=l.url(o,p),r=t(this.sandbox),(i=s({src:b,allowfullscreen:"true",width:v,height:g,title:w||""})).className="FilledIframe",r.appendChild(i),this.replaceInterstitialWithMedia(d,r).then(function(){i.focus(),u.write(function(){a.add(r,m),a.add(i,m)})})):f.reject(new Error("No Player frame source"))}),e.after("render",function(){var e=this.selectOne(this.selectors.wvpInterstitial);e&&a.remove(e,"u-hidden"),this.on("click","cardInterstitial",this.displayIframeMediaAsset),this.on("click","wvpInterstitial",this.playWebVideoPlayerMediaAsset)})})},207:function(e,t,n){var r=n(10),i=n(208),a=n(2),s=n(18),o=n(17),c=n(21),d=n(6),u=n(69);e.exports=function(e){e.selectors({cookieConsentButton:".js-cookieConsentButton",interstitial:".js-interstitial"}),e.define("getConsent",function(e,t){var n=this.selectOne(e,this.selectors.interstitial);return n?u.shouldObtainCookieConsent().catch(function(){return d.resolve(!0)}).then(function(e){var r,i;return e?(r=new a,i=function(){this.handleCookieConsentClick(t,n),r.resolve()}.bind(this),o.write(function(){this.scribe({component:"cookie_consent",action:"show"}),this.showConsentInterstitial(n,t),this.attachConsentListener(n,i)},this),r.promise):d.resolve()}.bind(this)):d.resolve()}),e.define("attachConsentListener",function(e,t){var n=this.selectOne(e,this.selectors.cookieConsentButton);n&&n.addEventListener("click",t,{once:!0})}),e.define("showConsentInterstitial",function(e,t){r.remove(e,"u-hidden"),t&&r.add(t,"is-backgrounded")}),e.define("hideConsentInterstitial",function(e,t){r.add(e,"u-hidden"),t&&r.remove(t,"is-backgrounded")}),e.define("setCookieConsentCookie",function(){return i.request(s.cookieConsent()).catch(function(e){throw new Error("CORS request failed: "+e)})}),e.define("handleCookieConsentClick",function(e,t){return c.allSettled([o.write(this.hideConsentInterstitial.bind(this,t,e)),this.setCookieConsentCookie()])})}},208:function(e,t,n){var r=n(2),i=n(6),a=n(20),s=n(30),o=n(11),c=n(0),d=n(1),u={method:"GET",params:{},headers:{},credentials:"include",isSuccess:function(e){return e>=200&&e<300}},l={JSON:"application/json",TEXT:"text/plain"},h={NO_XHR:new Error("No suitable XHR implementation available."),REQUEST_FAILED:new Error("XHR request failed."),REQUEST_ABORTED:new Error("XHR request aborted."),REQUEST_TIMED_OUT:new Error("XHR request timed out."),NETWORK_ERROR:new Error("Network error.")};e.exports={request:function(e,t){var n,f;return t=c.aug({},u,t||{}),n=o.url(e,t.params),(f=d.fetch)?f(n,t).catch(function(){return i.reject(h.NETWORK_ERROR)}).then(function(e){if(t.isSuccess(e.status))return e.text().then(function(t){var n=e.headers.get("content-type");return t&&c.contains(n,l.JSON)?s.parse(t):t});throw new Error("Request failed with status: "+e.status)}):function(e,t){var n,o=new r,u=a.ie9(),f=u?d.XDomainRequest:d.XMLHttpRequest;if(!f)return i.reject(h.NO_XHR);function p(){var e=u?n.contentType:n.getResponseHeader("content-type"),r=c.contains(e,l.JSON)?function(e){return e?s.parse(e):e}(n.responseText):n.responseText;u||t.isSuccess(n.status)?o.resolve(r):u||0!==n.status?o.reject(r):o.reject(h.NETWORK_ERROR)}return(n=new f).onreadystatechange=function(){4===n.readyState&&p()},n.onload=p,n.onerror=function(){o.reject(h.REQUEST_FAILED)},n.onabort=function(){o.reject(h.REQUEST_ABORTED)},n.ontimeout=function(){o.reject(h.REQUEST_TIMED_OUT)},n.open(t.method,e),"include"===t.credentials&&(n.withCredentials=!0),n.setRequestHeader&&c.forIn(t.headers,function(e){n.setRequestHeader(e,t.headers[e])}),n.send(),o.promise}(n,t)},mimeTypes:l,errors:h}},209:function(e,t,n){var r=n(10),i=n(17),a=n(44),s=n(20),o=n(6),c=n(0),d=n(166),u=50,l="data-card-breakpoints",h="data-theme",f="is-loaded",p="is-constrainedByMaxWidth";e.exports=d.couple(n(167),function(e){e.selectors({prerenderedCard:".PrerenderedCard",periscopeVideo:".PlayerCard--video",rootCardEl:".TwitterCard .CardContent > *:first-child"}),e.define("scribeCardShown",function(e){this.scribe({component:"card",action:"shown"},{items:[{card_name:e.getAttribute("data-card-name")}]},2)}),e.define("resizeSandboxDueToCardChange",function(){return this.sandbox.matchHeightToContent()}),e.define("markCardElAsLoaded",function(e){var t=this,n=!1;function a(){n&&t.resizeSandboxDueToCardChange()}return this.select(e,"img").forEach(function(e){e.addEventListener("load",a,!1)}),this.scribeCardShown(e),i.write(function(){r.add(e,f)}).then(function(){n=!0,t.resizeSandboxDueToCardChange()})}),e.define("updateCardWidthConstraints",function(){var e=this;return o.all(this.select("prerenderedCard").map(function(t){var n=e.selectOne(t,"rootCardEl");return i.defer(function(){var e,i=0;s.ios()?(r.remove(t,p),i=a(t.parentElement).width,t.style.maxWidth=i+"px"):i=a(t.parentElement).width,e=function(e){var t,n="";for(t=Math.floor(e/u);t>0;t--)n+="w"+t*u+" ";return n}(i),n.setAttribute(l,e),r.add(t,p)}).then(function(){return e.resizeSandboxDueToCardChange()})}))}),e.define("setCardTheme",function(e){var t=this.selectOne(e,"rootCardEl");this.params.theme&&t.setAttribute(h,this.params.theme)}),e.after("prepForInsertion",function(e){var t=this,n=this.select(e,"prerenderedCard").reduce(function(e,t){var n=t.getAttribute("data-css");return n&&(e[n]=e[n]||[],e[n].push(t)),e},{});c.forIn(n,function(e,n){t.sandbox.prependStyleSheet(e).then(function(){n.forEach(function(e){t.setCardTheme(e),t.markCardElAsLoaded(e)})})})}),e.after("show",function(){var e;return s.anyIE()&&(e=this.selectOne("periscopeVideo"))&&(e.style.display="none"),this.updateCardWidthConstraints()}),e.after("resize",function(){return this.updateCardWidthConstraints()})})},210:function(e,t,n){var r=n(1),i=n(0),a=/^#/;function s(e){return r.parseInt(e,16)}function o(e,t){var n,r,o,c;if(e=function(e){return i.isType("string",e)?(e=e.replace(a,""),e+=3===e.length?e:""):null}(e),t=t||0,e)return n=t<0?0:255,t=t<0?-Math.max(t,-1):Math.min(t,1),r=s(e.substring(0,2)),o=s(e.substring(2,4)),c=s(e.substring(4,6)),"#"+(16777216+65536*(Math.round((n-r)*t)+r)+256*(Math.round((n-o)*t)+o)+(Math.round((n-c)*t)+c)).toString(16).slice(1)}e.exports={darken:function(e,t){return o(e,-t)},lighten:function(e,t){return o(e,t)}}},211:function(e,t,n){var r=n(31),i=n(40);e.exports=function(e){e.after("render",function(){var e,t=this.sandbox.sandboxEl,n=t.tagName;if(i(t,"td "+n))return e=r.closest("td",t),this.sandbox.styleSelf({maxWidth:e.clientWidth+"px"})})}},239:function(e,t,n){var r=n(6),i=n(173),a=n(32),s=n(4),o=n(0),c=n(166),d=n(7),u=n(184),l=n(177),h=n(68),f=n(72),p=n(202),m=n(240),b=n(69),v=n(244),g=n(176),w="220px",C="100%",E="10px";function x(e){var t={item_ids:[],item_details:{}};return t.item_ids.push(e),t.item_details[e]={item_type:g.TWEET},t}e.exports=c.couple(n(167),n(169),function(e){e.params({tweetId:{required:!0,validate:l},id:{validate:l},lang:{required:!0,transform:h.matchLanguage,fallback:"en"},width:{required:!0,fallback:"500px",validate:u,transform:u},theme:{fallback:[d(a.val,a,"widgets:theme"),"light"],validate:p},hideCard:{fallback:!1,transform:s.asBoolean},hideThread:{fallback:!1,transform:s.asBoolean},partner:{fallback:d(a.val,a,"partner")}}),e.selectors({ancestorTweet:".EmbeddedTweet-ancestor .Tweet",subjectTweet:".EmbeddedTweet-tweet .Tweet",prerenderedCard:".PrerenderedCard"}),e.around("scribeItems",function(e){return o.aug(e(),x(this.params.tweetId))}),e.around("scribeNamespace",function(e){return o.aug(e(),{page:"tweet"})}),e.around("widgetDataAttributes",function(e){return o.aug({"tweet-id":this.params.tweetId},e())}),e.define("scribeImpressionForTweets",function(){var e=this.selectOne("subjectTweet"),t=this.selectOne("ancestorTweet"),n=e&&e.getAttribute("data-tweet-id"),r=t&&t.getAttribute("data-tweet-id");n&&this.scribe({section:"subject",component:"tweet",action:"results"},x(n)),n&&r&&this.scribe({section:"conversation",component:"tweet",action:"results"},function(e,t){var n={item_ids:[],item_details:{},associations:{}};return n.item_ids.push(t),n.item_details[t]={item_type:g.TWEET},n.associations[v.CONVERSATION_ORIGIN]={association_id:e,association_type:g.TWEET},n}(n,r))}),e.override("hydrate",function(){var e,t=this,n=f.getTimezoneOffset();return e={lang:this.params.lang,theme:this.params.theme,tz:n,hideCard:this.params.hideCard,hideThread:this.params.hideThread},m(this.params.tweetId,e).then(function(e){t.html=e},function(e){return t.scribe({section:"subject",component:"rawembedcode",action:"no_result"},x(t.params.tweetId)),r.reject(e)})}),e.override("render",function(){var e,t=this;return this.el=this.sandbox.htmlToElement(this.html),this.el?(this.el.id=this.id,this.el.lang=this.params.lang,this.scribeImpressionForTweets(),b.getExperiments().then(function(n){return e=n&&n.tfw_normalized_tweet_holdback_6979&&"control"===n.tfw_normalized_tweet_holdback_6979.bucket,r.all([t.sandbox.appendStyleSheet(i.tweet(t.params.lang,t.params.theme,!!e)),t.sandbox.styleSelf({maxWidth:C,width:t.params.width,minWidth:w,marginTop:E,marginBottom:E})]).then(function(){return t.prepForInsertion(t.el),t.sandbox.injectWidgetEl(t.el)})})):r.reject(new Error("unable to render"))}),e.override("show",function(){var e=this.sandbox;return this.sandbox.makeVisible().then(function(){return e.matchHeightToContent()})}),e.last("resize",function(){return this.sandbox.matchHeightToContent()})})},240:function(e,t,n){var r=new(n(241));e.exports=function(e,t){return e=function(e,t,n){var r="";return t&&(r+="c"),n&&(r+="t"),r?e+"-"+r:e}(e,(t=t||{}).hideCard,t.hideThread),r.fetch(e,t.lang,t.theme)}},241:function(e,t,n){var r=n(242),i=n(74),a=n(243),s=n(7),o=n(18),c=n(75),d=n(73),u=n(72),l=n(12),h=n(21),f=n(0),p="en",m="light",b=",",v=400;function g(e){return(e.input.lang||p)+b+(e.input.theme||m)}function w(e,t){e.forEach(function(e){var n=t[e.input.id];n?e.taskDoneDeferred.resolve(n):e.taskDoneDeferred.reject(new Error("not found"))})}function C(e){e.forEach(function(e){e.taskDoneDeferred.reject(new Error("request failed"))})}function E(e){var t=o.tweetBatch();h.timeout(r(t),v).catch(function(){return l.devError("Settings promise failed to resolve in batch_fetch_html"),o.tweetBatch()}).then(function(t){!function(e,t){var n=c(t,g);f.forIn(n,function(t,n){var r=t.split(b),i=r[0],o=r[1],c=function(e,t,n){var r={ids:[],lang:e,theme:t,tz:u.getTimezoneOffset()};return(r=n.reduce(function(e,t){return e.ids.push(t.input.id),e},r)).ids=r.ids.sort().join(","),r}(i,o,n),l=s(w,null,n),h=s(C,null,n);d.fetch(e,c,a).then(l,h)})}(t,e)})}function x(){this.requestQueue=new i(E)}x.prototype.fetch=function(e,t,n){return this.requestQueue.add({id:e,lang:t,theme:n})},e.exports=x},242:function(e,t,n){var r=n(12),i=n(11),a=n(69);e.exports=function(e){var t;return a.getExperiments().then(function(n){return 0===Object.keys(n).length?e:(t=Object.keys(n).map(function(e){return t=e,r=n[e],t+":"+(r&&"object"==typeof r?r.bucket:r);var t,r}).join(","),i.url(e,{features:t}))}).catch(function(){return r.devError("Could not load experiment settings"),e})}},243:function(e,t){e.exports=function(e){return{success:!0,resp:e}}},244:function(e){e.exports={CONVERSATION_ORIGIN:4}},245:function(e,t,n){var r=n(166),i=n(69),a=n(0);e.exports=r.couple(n(167),function(e){e.selectors({abScribingTarget:".js-aBScribingTarget"}),e.define("_getTargetedExperiments",function(){var e=this.select(this.selectors.abScribingTarget);return Object.keys(e.reduce(function(e,t){return t.getAttribute("data-experiment-keys").split(",").forEach(function(t){e[t]=!0}),e},{}))}),e.define("_isExperimentedEmbed",function(){var e;return i.getExperimentKeys().then(function(t){return 0!==t.length&&(e=this._getTargetedExperiments(),t.some(function(t){return a.contains(e,t)}))}.bind(this))}),e.around("scribe",function(e,t,n,r){return this._isExperimentedEmbed().then(function(i){return i||(n.unbucketed=!0),e(t,n,r)}).catch(function(){return e(t,n,r)})})})},246:function(e,t,n){var r=n(247),i=n(166),a=n(182),s=n(69),o={};e.exports=i.couple(n(167),function(e){e.selectors({abScribingMarker:".js-aBScribingTarget"}),e.define("scribeABImpression",function(e,t){var n=e.getAttribute("data-experiment-keys");n&&n.split(",").forEach(function(e){o[e]||(o[e]=!0,s.getExperiment(e).then(function(n){n.bucket&&r(e,n.bucket,n.version,t)}).catch(function(){}))})}),e.after("show",function(){var e=this.selectors.abScribingMarker;this.select(e).forEach(function(e){a.inViewportOnce(e,this.sandbox.sandboxEl,function(){this.scribeABImpression(e,this.scribeItems())}.bind(this))},this)})})},247:function(e,t,n){var r=n(36),i=n(33);e.exports=function(e,t,n,a){r.scribe(i.formatClientEventNamespace({client:"tfw",page:"ddg",section:e,action:"experiment"}),{experiment_key:e,bucket:t,version:n,data:a},!0)}},248:function(e,t,n){var r=n(32),i=n(210),a=n(183),s=n(7),o="a, a:visited",c="a:hover, a:focus, a:active";e.exports=function(e){e.params({linkColor:{fallback:s(r.val,r,"widgets:link-color"),validate:a}}),e.after("render",function(){var e;this.params.linkColor&&this.sandbox.appendCss((e=this.params.linkColor,[o+"{color:"+e+";}",c+"{color:"+i.lighten(e,.2)+";}"].join("")))})}},249:function(e,t,n){var r=n(177);e.exports=function(e){e.params({align:{required:!1},width:{required:!1},floatedWidth:{fallback:"350px",validate:r},centeredWidth:{fallback:"70%",validate:r}}),e.before("render",function(){var e,t,n,r,i=this.params.align;switch(i&&i.toLowerCase()){case"center":e=this.params.width||this.params.centeredWidth,t="auto",n="auto";break;case"left":e=this.params.width||this.params.floatedWidth,n="10px",r="left";break;case"right":e=this.params.width||this.params.floatedWidth,t="10px",r="right";break;default:return}return this.sandbox.styleSelf({width:e,marginLeft:t,marginRight:n,cssFloat:r})})}},250:function(e,t,n){var r=n(6),i=n(83),a=n(251);e.exports=function(e){e.selectors({images:"img"}),e.define("_imagesLoaded",function(){return r.all(this.select(this.selectors.images).map(a))}),e.after("show",function(){this._imagesLoaded().then(function(){i.reportImagesLoadForAWidget()})})}},251:function(e,t,n){var r=n(2);e.exports=function(e){var t=new r;return e.complete?t.resolve(e):(e.addEventListener("load",function(){t.resolve(e)}),setTimeout(function(){t.reject(e)},3e4)),t.promise}},89:function(e,t,n){var r=n(166);e.exports=r.build([n(239),n(195),n(245),n(196),n(175),n(180),n(246),n(178),n(248),n(188),n(189),n(185),n(187),n(204),n(209),n(206),n(205),n(249),n(194),n(193),n(190),n(191),n(199),n(211),n(250)],{pageForAudienceImpression:"tweet",productName:"tweetembed",breakpoints:[350],videoPlayerBranding:!1,videoPlayerBorderRadius:{bottomRight:0,bottomLeft:0}})}}]);