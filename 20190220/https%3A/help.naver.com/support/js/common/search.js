function checkKeywordCut(g,d){var a=0;var b="";for(var c=0;c<g.length;c++){var e=g.charAt(c);var f=escape(e);if(f.length==1){a++}else{if(f.indexOf("%u")!=-1){a+=3}else{if(f.indexOf("%")!=-1){a+=f.length/3}}}if(a>d){break}else{b+=e}}return b}function checkKeywordSearchSize(d){var a=0;var e=d.substring(0);if(e==null){return 0}for(var b=0;b<e.length;b++){var c=escape(e.charAt(b));if(c.length==1){a++}else{if(c.indexOf("%u")!=-1){a+=3}else{if(c.indexOf("%")!=-1){a+=c.length/3}}}}return a};