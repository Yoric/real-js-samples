function toggleClickEvent(){return isIpad()?"touchstart":"click"}function toggle(e,t){var r=document.getElementById(e);"none"==r.style.display?(r.style.display=t,r.focus()):r.style.display="none"}var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var r=e[t].string;if(this.versionSearchString=e[t].subString,-1!=r.indexOf(e[t].subString))return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};BrowserDetect.init();var searchTypes=[{name:"video",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlVideo,testTypePattern:"video"},{name:"photos",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlPhoto,testTypePattern:"albums"},{name:"members",autocompleteUrl:null,submitUrl:searchUrlMember,testTypePattern:"user"},{name:"pornstars",autocompleteUrl:"/pornstars/search_autocomplete",submitUrl:searchUrlPornstar,testTypePattern:"pornstars"},{name:"gifs",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlGifs,testTypePattern:"gifs"}];if(1==showStreamate&&searchTypes.push({name:"cam models",autocompleteUrl:"/live/search_autocomplete",submitUrl:searchUrlCam,testTypePattern:"live"}),"Firefox"===BrowserDetect.browser){var arrowIcons=document.querySelectorAll(".arrow.arrowMenu"),i;if(arrowIcons)for(i=0;i<arrowIcons.length;i++)MG_Utils.addClass(arrowIcons[i],"fFox")}!function(){document.querySelector(".fakeClick").addEventListener("click",function(){var e=document.querySelector("#searchTypeSelected"),t=document.querySelector("#searchTypeSelected i");MG_Utils.hasClass(e,"active")?(MG_Utils.removeClass(e,"active"),MG_Utils.removeClass(t,"active")):(MG_Utils.addClass(e,"active"),MG_Utils.addClass(t,"active"))}),document.addEventListener("click",function(e){var t=document.querySelector("#searchTypeSelected.active"),r=document.querySelector("#searchTypeSelected i");t&&"fakeClick"!==e.target.className&&(MG_Utils.removeClass(t,"active"),MG_Utils.removeClass(r,"active"))})}();
!function(){"use strict";var e={options:{debug:!1,parent:"#headerMainMenu",menuItem:".menu",submenu:".js-dropdown",submenuContent:".js-submenu",topMenu:".js-topMenuLink",discover:".discover",timeout:250},asyncMenuItems:["menu_community","menu_livesex","menu_photos"],cache:{},cacheTime:(new Date).getTime()+18e5,init:function(e){document.querySelector(this.options.parent)&&(e=e||{},this.options=MG_Utils.extendSimple(this.options,e),this.options.debug&&console.log("Menu debug mode"),this.createMenuInStorage(),this.eventHandlers())},isHovered:function(e){return 1==e.getAttribute("data-hover")},createMenuInStorage:function(){this.asyncMenuItems.forEach(function(t){var n;switch(t){case"menu_community":n=MENU_MAIN_HEADER.communityUrl;break;case"menu_livesex":n=MENU_MAIN_HEADER.liveSexUrl;break;case"menu_photos":n=MENU_MAIN_HEADER.photosUrl;break;default:return""}if(!e.cache[t]){var s=function(n){e.cache[t]={data:n}};MG_Utils.ajaxCall({dataType:"html",type:"GET",url:n,success:s})}})},asyncItems:function(e,t){if(MG_Utils.hasClass(e,"asyncLoad")){var n,s=this;MG_Utils.hasClass(e,"community")?n=MENU_MAIN_HEADER.communityUrl:MG_Utils.hasClass(e,"livesex")?n=MENU_MAIN_HEADER.liveSexUrl:MG_Utils.hasClass(e,"photos")&&(n=MENU_MAIN_HEADER.photosUrl);var i=function(){t.innerHTML='<div class="menuAsync"><img class="menuAsyncPreload" src="'+MENU_MAIN_HEADER.preloadImage+'"></div>'},o=function(e){e&&e.length&&(s.createMenuInStorage(),t.innerHTML=e)};MG_Utils.ajaxCall({type:"GET",url:n,dataType:"html",beforeSend:i,success:o})}},cacheExpire:function(e){return this.cacheTime-e<=0},loadContent:function(t,n){var s=(new Date).getTime();return MG_Utils.hasClass(t,"community")&&e.cache.menu_community&&!this.cacheExpire(s)?n.innerHTML=e.cache.menu_community.data:MG_Utils.hasClass(t,"livesex")&&e.cache.menu_livesex&&!this.cacheExpire(s)?n.innerHTML=e.cache.menu_livesex.data:MG_Utils.hasClass(t,"photos")&&e.cache.menu_photos&&!this.cacheExpire(s)?n.innerHTML=e.cache.menu_photos.data:(this.cacheExpire(s)&&(this.cacheTime=(new Date).getTime()+18e5,this.cache={}),void this.asyncItems(t,n))},showSubmenu:function(t){var n=t.target||t.srcElement,s=n.querySelector(e.options.submenu);if("undefined"!=typeof isVideoPage&&s&&"photos"===s.getAttribute("data-submenu-type"))n.setAttribute("data-hover",1);else{if(!s)return;n.setAttribute("data-hover",1),setTimeout(function(){if(e.isHovered(n)){var t=s.querySelector(e.options.discover);if(t){t.style.display="inline-block";var i=s.querySelectorAll(".js-menuSwap"),o=0;if(i&&i.length)for(;o<i.length;o++)i[o].setAttribute("src",i[o].getAttribute("data-image"))}else s.querySelector(e.options.submenuContent).style.display="block",MG_Utils.hasClass(n,"asyncLoad")&&e.loadContent(n,s.querySelector(e.options.submenuContent));MG_Utils.addClass(n.querySelector(e.options.topMenu),"hovered"),s.style.display="block"}},e.options.timeout)}},hideSubmenu:function(t){var n=t.target||t.srcElement,s=n.querySelector(e.options.submenu);s&&(n.setAttribute("data-hover",0),setTimeout(function(){if(!e.isHovered(n)){s.style.display="none";var t=s.querySelector(e.options.discover);t?(t.style.display="none",MG_Utils.hasClass(n,"asyncLoad")&&(s.querySelector(e.options.submenuContent).innerHTML="")):s.querySelector(e.options.submenuContent).style.display="none",MG_Utils.removeClass(n.querySelector(e.options.topMenu),"hovered")}},e.options.timeout+200))},eventHandlers:function(){for(var e=document.querySelector(this.options.parent).querySelectorAll(this.options.menuItem),t=0;t<e.length;t++){var n=e[t];MG_Utils.addEventHandler(n,"mouseenter",this.showSubmenu),MG_Utils.addEventHandler(n,"mouseleave",this.hideSubmenu)}}},t={options:{debug:!1,parent:"#headerMainMenu",menuItem:".menu",submenu:".js-dropdown",submenuContent:".js-submenu",topMenu:".js-topMenuLink",discover:".discover",timeout:250},asyncMenuItems:["community","livesex","photos"],cache:{},cacheTime:(new Date).getTime()+18e5,init:function(e){document.querySelector(this.options.parent)&&(e=e||{},this.options=MG_Utils.extendSimple(this.options,e),this.options.debug&&console.log("Menu debug mode"),this.createMenuInStorage(),this.eventHandlers())},isHovered:function(e){return 1==e.getAttribute("data-hover")},createMenuInStorage:function(){if(!~this.asyncMenuItems.indexOf(this.cache)){var e=function(e){t.asyncMenuItems.forEach(function(n){t.cache[n]={data:e[n]}})};MG_Utils.ajaxCall({type:"GET",url:MENU_MAIN_HEADER.menuUrl,success:e})}},asyncItems:function(e,n){if(MG_Utils.hasClass(e,"asyncLoad")){var s=this,i=function(){n.innerHTML='<div class="menuAsync"><img class="menuAsyncPreload" src="'+MENU_MAIN_HEADER.preloadImage+'"></div>'},o=function(i){i&&(s.createMenuInStorage(),t.asyncMenuItems.forEach(function(t){MG_Utils.hasClass(e,t)&&(n.innerHTML=i[t])}))};MG_Utils.ajaxCall({type:"GET",url:MENU_MAIN_HEADER.menuUrl,beforeSend:i,success:o})}},cacheExpire:function(e){return this.cacheTime-e<=0},displayContent:function(e,n){var s=(new Date).getTime(),i=!1;t.asyncMenuItems.forEach(function(o){if(MG_Utils.hasClass(e,o)&&t.cache[o]&&!t.cacheExpire(s))return n.innerHTML=t.cache[o].data,i=!0}),i||(this.cacheExpire(s)&&(this.cacheTime=(new Date).getTime()+18e5,this.cache={}),this.asyncItems(e,n))},showSubmenu:function(e){var n=e.target||e.srcElement,s=n.querySelector(t.options.submenu);if("undefined"!=typeof isVideoPage&&s&&"photos"===s.getAttribute("data-submenu-type"))n.setAttribute("data-hover",1);else{if(!s)return;n.setAttribute("data-hover",1),setTimeout(function(){if(t.isHovered(n)){var e=s.querySelector(t.options.discover);if(e){e.style.display="inline-block";var i=s.querySelectorAll(".js-menuSwap"),o=0;if(i&&i.length)for(;o<i.length;o++)i[o].setAttribute("src",i[o].getAttribute("data-image"))}else s.querySelector(t.options.submenuContent).style.display="block",MG_Utils.hasClass(n,"asyncLoad")&&t.displayContent(n,s.querySelector(t.options.submenuContent));MG_Utils.addClass(n.querySelector(t.options.topMenu),"hovered"),s.style.display="block"}},t.options.timeout)}},hideSubmenu:function(e){var n=e.target||e.srcElement,s=n.querySelector(t.options.submenu);s&&(n.setAttribute("data-hover",0),setTimeout(function(){if(!t.isHovered(n)){s.style.display="none";var e=s.querySelector(t.options.discover);e?(e.style.display="none",MG_Utils.hasClass(n,"asyncLoad")&&(s.querySelector(t.options.submenuContent).innerHTML="")):s.querySelector(t.options.submenuContent).style.display="none",MG_Utils.removeClass(n.querySelector(t.options.topMenu),"hovered")}},t.options.timeout+200))},eventHandlers:function(){for(var e=document.querySelector(this.options.parent).querySelectorAll(this.options.menuItem),t=0;t<e.length;t++){var n=e[t];MG_Utils.addEventHandler(n,"mouseenter",this.showSubmenu),MG_Utils.addEventHandler(n,"mouseleave",this.hideSubmenu)}}};MG_Utils.domReady(function(){page_params.getMenuType?t.init():e.init()})}(),function(){var e=function(e){var t=e.target;if(MG_Utils.hasClass(t,"js-playGifTarget")){var n=t.parentNode,s=n.querySelector(".js-playGifVideo"),i=n.querySelector(".js-playGifImage");if(s){var o=n.querySelector(".js-webm"),a=n.querySelector(".js-mp4");if(o&&o.setAttribute("src",s.getAttribute("data-webm")),a&&a.setAttribute("src",s.getAttribute("data-mp4")),s.load(),window.Promise){var r=s.play();void 0!==r&&r.then(function(){s.play()}).catch(function(e){})}else s.play()}else i&&(i.src=i.getAttribute("data-gif-url"))}},t=function(e){var t=e.target;if(MG_Utils.hasClass(t,"js-playGifTarget")){var n=t.parentNode,s=n.querySelector(".js-playGifVideo"),i=n.querySelector(".js-playGifImage");if(s){var o=s.querySelector(".js-webm"),a=s.querySelector(".js-mp4");o&&o.setAttribute("src",""),a&&a.setAttribute("src",""),s.load(),s.currentTime=0}else i&&(i.src=i.getAttribute("data-static-url"))}};document.addEventListener("mouseover",e),document.addEventListener("mouseout",t)}();
var MG_Flipbook=function(){"use strict";var Self=this,timer,o={},data={},flipTimer,oldThumbUrlAC;Self.init=function(e){Self.params=e,Self.addEvents()},Self.addEvent=function(e,t,i){var a;e.addEventListener?e.addEventListener(t,i,!1):(i.$$guid||(i.$$guid=Self.addEvent.guid++),e.events||(e.events={}),a=e.events[t],a||(a=e.events[t]={},e["on"+t]&&(a[0]=e["on"+t])),a[i.$$guid]=i,e["on"+t]=Self.handleEvent)},Self.addEvent.guid=1,Self.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.events&&e.events[t]&&delete e.events[t][i.$$guid]},Self.handleEvent=function(e){var t=!0;e=e||Self.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var i=this.events[e.type];for(var a in i)this.$$handleEvent=i[a],!1===this.$$handleEvent(e)&&(t=!1);return t},Self.fixEvent=function(e){return e.preventDefault=Self.fixEvent.preventDefault,e.stopPropagation=Self.fixEvent.stopPropagation,e},Self.fixEvent.preventDefault=function(){this.returnValue=!1},Self.fixEvent.stopPropagation=function(){this.cancelBubble=!0},Self.addEvents=function(){Self.addEvent(document.body,"mousemove",Self.initFlip),Self.addEvent(document.body,"mouseout",Self.terminateFlip),Self.addEvent(window,"scroll",Self.endFlip)},Self.hasClass=function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},Self.closestElm=function(e,t,i){for(var i=i||document.body,a=t.charAt(0);e&&e!==i;){if("."===a&&Self.hasClass(e,t.substr(1)))return e;if("#"===a&&e.id===t.substr(1))return e;if("["===a&&e.getAttribute(t.substr(1,t.indexOf("]")-1)))return e;e=e.parentNode}return!1},Self.dataSet=function(string){var data;try{data=eval("("+string+")")}catch(e){data=!1}return data},Self.data=function(e,t,i){switch(e.data=e.data||{},arguments.length){case 3:e.data[t]=i;break;case 2:return e.data[t];default:return e.data}},Self.callbackData=function(){return data={index:o.index,setLength:o.setLength,currentImage:o.currentImage,imgWrapper:o.imgWrapper,currentUrl:o.currentUrl,active:o.active,status:o.status}},Self.initFlip=function(e){var t,e=e||window.event,i=e.target||e.srcElement;if(window.clearTimeout(flipTimer),MG_Utils.hasClass(i,"img")&&MG_Utils.hasClass(i.querySelector(".thumb"),"js-videoThumbFlip")&&!i.querySelector(".js-videoThumbFlip").getAttribute("data-flipbook_active")&&(t=i.querySelector(".js-videoThumbFlip")),MG_Utils.hasClass(i,"js-videoThumbFlip")&&!i.getAttribute("data-flipbook_active")&&(t=i),t){Self.closestElm(t,".img").querySelector(".privateOverlay")||(flipTimer=window.setTimeout(function(){Self.startFlip(t)},100))}},Self.terminateFlip=function(e){e=e||window.event;var t=e.target,i=e.relatedTarget;window.clearTimeout(flipTimer),MG_Utils.hasClass(t,"img")&&MG_Utils.hasClass(t.querySelector(".thumb"),"js-videoThumbFlip")&&t.querySelector(".thumb").getAttribute("data-flipbook_active")&&!MG_Utils.hasClass(i,"thumb")&&Self.endFlip(),MG_Utils.hasClass(t,"js-videoThumbFlip")&&t.getAttribute("data-flipbook_active")&&Self.endFlip()},Self.startFlip=function(e){var t,i,a,l,n,s,r,f,u,d,c,m,S,b,e=e,h=0,g=Self.params.thumbnailsSets.length;for(o.active&&!Self.closestElm(e,"[data-flipbook_active]")&&Self.endFlip(),oldThumbUrlAC=e.src;h<g;h++)if(Self.closestElm(e,Self.params.thumbnailsSets[h].thumbnailsContainer)&&(!Self.params.thumbnailsSets[h].extendHoverClassName&&Self.hasClass(e,Self.params.thumbnailsSets[h].thumbnailsClassName)||Self.params.thumbnailsSets[h].extendHoverClassName&&Self.closestElm(e,"."+Self.params.thumbnailsSets[h].extendHoverClassName))){if(u=e,d=e,Self.params.thumbnailsSets[h].excludeContainer&&Self.closestElm(u,Self.params.thumbnailsSets[h].excludeContainer))return!1;if(Self.params.thumbnailsSets[h].extendHoverClassName&&(u=Self.closestElm(u,"."+Self.params.thumbnailsSets[h].extendHoverClassName),d=u.querySelector("."+Self.params.thumbnailsSets[h].thumbnailsClassName)),o.active){if(u.getAttribute("data-flipbook_active"))return!1;Self.endFlip()}return Self.params.thumbnailsSets[h].cover?(f=Self.dataSet(d.getAttribute("data-flipbook")),l=f.setLength,a=f.firstThumbnail,r=parseInt(f.firstThumbnail,10)-f.incrementer,t=f.digitsPreffix,i=f.digitsSuffix,n=f.incrementer,s=-1):(Self.params.thumbnailsSets[h].adultCentro?(c=9,d.src=d.src.replace("primary","baseline/"+h)):c=1,m=/\(([^)]+)\)/,S=d.src.indexOf(")."),b=m.exec(d.src),t=b?-1!==S?d.src.substring(0,d.src.lastIndexOf(Self.params.thumbnailsSets[h].digitsPreffix)+c):d.src.substring(0,d.src.lastIndexOf(")")+1):d.src.substring(0,d.src.lastIndexOf(Self.params.thumbnailsSets[h].digitsPreffix)+c),r=d.src.replace(t,""),i=Self.params.thumbnailsSets[h].digitsSuffix,r=parseInt(r.replace(i,""),10),a=Self.params.thumbnailsSets[h].firstThumbnail,l=Self.params.thumbnailsSets[h].setLength,n=Self.params.thumbnailsSets[h].incrementer,s=(r-a)/n),o={index:s,setLength:l,currentUrl:d.src,firstThumbnail:a,digits:r,digitsPreffix:t,digitsSuffix:i,matches:b,testString:S,incrementer:n,currentImage:d,imgWrapper:!1,interval:Self.params.thumbnailsSets[h].interval,active:!0,callback:Self.params.thumbnailsSets[h].callback,init:Self.params.thumbnailsSets[h].init,status:"started"},u.setAttribute("data-flipbook_active","1"),Self.params.thumbnailsSets[h].extendHoverClassName&&(o.imgWrapper=u),o.init&&!u.init&&(Self.callbackData(),o.init(data)),u.init||(Self.params.thumbnailsSets[h].adultCentro?Self.data(u,"oldThumbUrl",oldThumbUrlAC):(Self.data(u,"oldThumbUrl",d.src),Self.data(u,"oldIndex",s)),u.init=!0),o.callback&&(Self.callbackData(),o.callback(data)),Self.params.thumbnailsSets[h].resetIndex&&(o.digits=(l-1)*o.incrementer+parseInt(o.firstThumbnail,10),o.index=l-1,Self.callbackData()),window.clearTimeout(timer),timer=window.setTimeout(Self.preload,0),!1}},Self.endFlip=function(){var e;window.clearTimeout(timer),o.active&&(e=document.querySelector("[data-flipbook_active]"),e&&(e.removeAttribute("data-flipbook_active"),"IMG"===e.nodeName?e.src=Self.data(e,"oldThumbUrl"):e.querySelector("img").src=Self.data(e,"oldThumbUrl")),o.active=!1,o.status="ended",o.index=Self.data(e,"oldIndex"),o.callback&&(Self.callbackData(),o.callback(data)))},Self.preload=function(){var e=new Image;o.digits<(o.setLength-1)*o.incrementer+parseInt(o.firstThumbnail,10)?(o.digits=o.digits+o.incrementer,o.index++):(o.digits=parseInt(o.firstThumbnail,10),o.index=0),o.firstThumbnail.length>String(o.digits).length?o.currentUrl=o.digitsPreffix+o.firstThumbnail.substring(0,o.firstThumbnail.length-String(o.digits).length)+o.digits+o.digitsSuffix:-1!==o.testString?o.currentUrl=o.digitsPreffix+o.digits+"("+o.matches[1]+")"+o.digitsSuffix:o.currentUrl=o.digitsPreffix+o.digits+o.digitsSuffix,e.onerror=function(){Self.endFlip()},e.onload=function(){o.active&&(timer="running"!==o.status?window.setTimeout(Self.flipImage,0):window.setTimeout(Self.flipImage,o.interval))},e.src=o.currentUrl},Self.flipImage=function(e){window.clearTimeout(timer),o.currentImage.src=o.currentUrl,o.status="running",o.callback&&(Self.callbackData(),o.callback(data)),void 0!==e&&(o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,Self.callbackData()),Self.preload()},Self.jumpTo=function(e){o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,o.firstThumbnail.length>String(o.digits).length?o.currentUrl=o.digitsPreffix+o.firstThumbnail.substring(0,o.firstThumbnail.length-String(o.digits).length)+o.digits+o.digitsSuffix:o.currentUrl=o.digitsPreffix+o.digits+o.digitsSuffix,o.currentImage.src=o.currentUrl,o.callback&&(Self.callbackData(),o.callback(data))},Self.changeIndex=function(e){o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,Self.callbackData()},Self.pauseFlip=function(){window.clearTimeout(timer),o.status="paused"}};
var MG_Scroll={init:function(e){var t={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0,alwaysVisible:!0,disableFadeOut:!0,railVisible:!0,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"scrollRail",barClass:"scrollBar",wrapperClass:"scrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px",selector:null};MG_Scroll._isPlainObject(e)&&MG_Scroll._setupElements(MG_Scroll._extend({},t,e))},_extend:function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var l in arguments[t])arguments[t].hasOwnProperty(l)&&(e[l]=arguments[t][l]);return e},_fadeIn:function(e){var t,l=10*+MG_Scroll._getStyle(e,"opacity");clearInterval(t),t=setInterval(function(){l<4?(l++,e.style.opacity=(l/10).toFixed(1)):(clearInterval(t),t=0)},50)},_fadeOut:function(e){var t,l=10*+MG_Scroll._getStyle(e,"opacity");clearInterval(t),t=setInterval(function(){l>0?(l--,e.style.opacity=(l/10).toFixed(1)):(clearInterval(t),t=0)},100)},_closestClassElement:function(e,t){for(;e.className!=t;)if(!(e=e.parentNode))return null;return e},_getStyle:function(e,t){return window.getComputedStyle?getComputedStyle(e,"")[t]:e.currentStyle?e.currentStyle[t]:void 0},_isPlainObject:function(e){var t;if(!e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!core_hasOwn.call(e,"constructor")&&!core_hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!0}if(jQuery.support.ownLast)for(t in e)return core_hasOwn.call(e,t);for(t in e);return void 0===t||core_hasOwn.call(e,t)},isWindow:function(e){return!!e&&(e===function(){return this}()||e.eval&&e.eval.call&&e.eval("this === (function(){ return this })()")||!1)},_makeUnselectable:function(e){"string"==typeof e&&(e=document.getelentById(e)),e&&(e.onselectstart=function(){return!1},e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.unselectable="on")},_getOffset:function(e,t){var l=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle&&e.ownerDocument.defaultView.getComputedStyle(e,null),r=l&&l.getPropertyValue(t?"height":"width")||"";return r=r&&r.indexOf(".")>-1?parseFloat(r)+parseInt(l.getPropertyValue(t?"padding-top":"padding-left"))+parseInt(l.getPropertyValue(t?"padding-bottom":"padding-right"))+parseInt(l.getPropertyValue(t?"border-top-width":"border-left-width"))+parseInt(l.getPropertyValue(t?"border-bottom-width":"border-right-width")):t?e.offsetHeight:e.offsetWidth},_outerHeight:function(e){var t=MG_Scroll._getOffset(e,!0),l=MG_Scroll._getStyle(e,"marginTop"),r=MG_Scroll._getStyle(e,"marginBottom");return t+=parseInt(l)+parseInt(r)},_wrap:function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},_setupElements:function(e){el=e.selector;for(var t=0;t<el.length;t++)MG_Scroll._processElement(el[t],e)},_processElement:function(e,t){function l(e){if(i){var e=e||window.event,l=0;e.wheelDelta&&(l=-e.wheelDelta/120),e.detail&&(l=e.detail/3);var o=e.target||e.srcTarget||e.srcElement;MG_Scroll._closestClassElement(o,t.wrapperClass)==v.parentNode&&r(l,!0,!1),e.preventDefault&&!m&&e.preventDefault(),m||(e.returnValue=!1)}}function r(e,l,r){m=!1;var o=e,i=MG_Scroll._getOffset(v,!0),s=MG_Scroll._getOffset(f,!0),c=i-s;if(l&&(o=parseInt(f.style.top)+e*parseInt(t.wheelStep)/100*s,o=Math.min(Math.max(o,0),c),o=e>0?Math.ceil(o):Math.floor(o),MG_Utils.hasClass(document.querySelectorAll("html")[0],"ie8")?f.style.top=o:f.style.top=o+"px"),r){MG_Utils.hasClass(document.querySelectorAll("html")[0],"ie8")?f.style.top=e:f.style.top=e+"px";var d=Math.min(Math.max(e,0),c);e>=d&&(MG_Utils.hasClass(document.querySelectorAll("html")[0],"ie8")?f.style.top=d:f.style.top=d+"px"),e<=0&&(MG_Utils.hasClass(document.querySelectorAll("html")[0],"ie8")?f.style.top=0:f.style.top="0px")}p=parseInt(f.style.top)/(MG_Scroll._outerHeight(v)-MG_Scroll._outerHeight(f)),o=p*(v.scrollHeight-MG_Scroll._outerHeight(f)),v.scrollTop=o,n(),a()}function o(){u=Math.max(v.offsetHeight/v.scrollHeight*v.offsetHeight,_),f.style.height=u+"px";var e=u==v.offsetHeight?"none":"block";f.style.display=e}function n(){if(o(),clearTimeout(d),m=p==~~p&&t.allowPageScroll,h=p,u>=v.offsetHeight)return void(m=!0);MG_Scroll._fadeIn(f),t.railVisible&&MG_Scroll._fadeIn(g)}function a(){t.alwaysVisible||(d=setTimeout(function(){t.disableFadeOut&&i||s||c||(MG_Scroll._fadeOut(f),MG_Scroll._fadeOut(g))},1500))}var i,s,c,d,u,p,h,f,y,g,_=30,m=!1,v=e;if(MG_Utils.hasClass(v.parentNode,t.wrapperClass)){var w=v.scrollTop;MG_Utils.children(v.parentNode);if(f=document.querySelectorAll("."+t.barClass)[0],g=document.querySelectorAll("."+t.railClass)[0],o(),MG_Scroll._isPlainObject(t)){if("height"in t&&"auto"==t.height){v.parentNode.style.height="auto",v.style.height="auto";var M=v.parentNode.parentNode.style.height;v.parentNode.style.height=M,v.style.height=M}else if("height"in t){var S=t.height;v.parentNode.style.height=S,v.style.height=S}if("scrollTo"in t)w=parseInt(t.scrollTo);else if("scrollBy"in t)w+=parseInt(t.scrollBy);else if("bottom"===t.start)w=5e3;else if("destroy"in t)return;r(w,!1,!0)}}else if(!(MG_Scroll._isPlainObject(t)&&"destroy"in t)){if(t.height="auto"==t.height?v.parentNode.clientHeight:t.height,y=document.createElement("div"),y.className+=t.wrapperClass,y.style.position="relative",y.style.overflow="hidden",y.style.width=t.width,y.style.height=t.height,v.style.overflow="hidden",v.style.width=t.width,v.style.height=t.height,g=document.createElement("div"),g.className+=t.railClass,g.style.width=t.size,g.style.height="100%",g.style.position="absolute",g.style.top=0,g.style.display=t.alwaysVisible&&t.railVisible?"block":"none",g.style.borderRadius=t.railBorderRadius,g.style.background=t.railColor,g.style.opacity=t.railOpacity,g.style.zIndex=90,f=document.createElement("div"),f.className+=t.barClass,f.style.background=t.color,f.style.width=t.size,f.style.position="absolute",f.style.top=0,f.style.opacity=t.opacity,f.style.display=t.alwaysVisible?"block":"none",f.style.borderRadius=t.borderRadius,f.style.BorderRadius=t.borderRadius,f.style.MozBorderRadius=t.borderRadius,f.style.WebKitBorderRadius=t.borderRadius,f.style.zIndex=99,"right"==t.position?(g.style.right=0,f.style.right=0):(g.style.left=0,f.style.left=0),MG_Scroll._wrap(v,y),v.parentNode.appendChild(f),v.parentNode.appendChild(g),t.railDraggable){var b="",G="",H=v.clientHeight;MG_Utils.addEventHandler(v,"touchstart",function(e){b=e.touches[0].clientY,G=parseInt(f.style.top)}),MG_Utils.addEventHandler(v,"touchmove",function(e){var t=b+G-e.touches[0].clientY;t>=0&&t<=H&&e.cancelable&&(e.preventDefault(),e.stopPropagation()),r(t,!0,!0)},!1),MG_Utils.addEventHandler(f,"mousedown",function(e){function t(e){r(n+e.clientY-o,!0,!0)}function l(e){c=!1,a(),MG_Utils.removeEventHandler(document,"mousemove",t)}e.preventDefault?e.preventDefault():e.returnValue=!1,c=!0;var o=e.clientY,n=parseInt(f.style.top);return MG_Utils.addEventHandler(document,"mousemove",t),MG_Utils.addEventHandler(document,"mouseup",l),!1})}if(MG_Utils.addEventHandler(g,"mouseenter",function(){n()}),MG_Utils.addEventHandler(g,"mouseleave",function(){a()}),MG_Utils.addEventHandler(f,"mouseenter",function(){s=!0,f.style.width="10px"}),MG_Utils.addEventHandler(f,"mouseleave",function(){s=!1,f.style.width=t.size}),MG_Utils.addEventHandler(v,"mouseenter",function(){i=!0,n()}),MG_Utils.addEventHandler(v,"mouseleave",function(){i=!1,a()}),o(),"bottom"===t.start){var C=v.offsetHeight-f.offsetHeight;r(C,!0,!0)}else"top"!==t.start&&(r(t.start,null,!0),t.alwaysVisible||(f.style.display="none"));!function(e){MG_Utils.addEventHandler(e,"DOMMouseScroll",l,!1),MG_Utils.addEventHandler(e,"mousewheel",l,!1)}(v),this.showDefault=function(){n()}}}};
var dropdown=function(){"use strict";function Dropdown(options){var dontProcess=!1,defaults={dropdownTrigger:"dropdownTrigger",dropdownWrapper:"dropdownWrapper",timeout:4e3,hideDelay:!0};this.options=MG_Utils.extendDefaults(defaults,arguments[0]),this.wrapper=this.options.wrapper,this.selector=this.options.selector,this.additionalElements=document.querySelectorAll(eval(this.options.additionalElements)),this.triggers=this.wrapper.querySelectorAll("."+this.options.dropdownTrigger),this.dropdown=this.wrapper.querySelector("."+this.options.dropdownWrapper),this.hiddenValue=this.wrapper.querySelector('input[type="hidden"]'),this.activateCloseDelay=hideDelayed.call(this),this.closeCallback="function"==typeof this.options.closeCallback?this.options.closeCallback:"",_init.call(this)}function _init(){return!(!this.triggers||!this.dropdown)&&(!MG_Utils.hasClass(this.wrapper,"js_dropdownBound")&&(MG_Utils.addClass(this.wrapper,"js_dropdownBound"),_initEvents.call(this),_checkHiddenValue.call(this),void this.wrapper.setAttribute("data-dropdown-id",id++)))}function _initEvents(){var t=this;[].forEach.call(this.triggers,function(e){MG_Utils.addEventHandler(e,"click",function(e){_triggersHandler.call(t,e)})}),("string"==typeof this.selector&&".channelsAZ"!=this.selector||"object"==typeof this.selector&&!MG_Utils.hasClass(this.wrapper,"channelsAZ"))&&("string"==typeof this.selector&&".alphabetFilter"!=this.selector||"object"==typeof this.selector&&!MG_Utils.hasClass(this.wrapper,"alphabetFilter"))&&this.options.hideDelay&&this.activateCloseDelay(),MG_Utils.addEventHandler(this.dropdown,"click",function(e){_dropdownHandler.call(t,e)})}function _triggersHandler(t){var e=null;if(dontProcess)return void(dontProcess=!1);t=t||window.event;var i=t.target||t.srcElement;if(!MG_Utils.hasClass(i,this.options.dropdownTrigger))for(;(i=i.parentElement)&&!MG_Utils.hasClass(i,this.options.dropdownTrigger););var o=!1,n="withScroll"==this.dropdown.id?1:0;1==this.triggers.length?o=!(!this.dropdown.style.display||"none"===this.dropdown.style.display):this.triggers.length>1&&(o=!(!this.dropdown.style.display||"none"===this.dropdown.style.display)&&this.dropdown.getAttribute("data-type")==i.getAttribute("data-type")),o?(this.dropdown.style.display="none",n&&(e=MG_Utils.nextDivSibling(this.dropdown))&&void 0!==e.style&&(e.style.display="none")):(dropdowns.forEach(function(t){t.dropdown.style.display="none"}),i.getAttribute("data-type")&&(this.dropdown.getAttribute("data-type"),i.getAttribute("data-type")),this.dropdown.style.display="block",_notificationPosition.call(this,t))}function _notificationPosition(t){var e=t.target||t.srcElement;if("notificationIcons"==e.parentNode.getAttribute("id")||"notificationIcons"==e.parentNode.parentNode.getAttribute("id")){var i=e.querySelector("i")||e.parentNode.querySelector("i"),o=document.querySelector("#notificationBox"),n=o.clientWidth/2,r=MG_Utils.offset(i).left,s=i.clientWidth/2;o.style.left=Math.round(r-n+s)+"px"}}function _dropdownHandler(t){t=t||window.event;var e=t.target||t.srcElement;if("li"!==e.tagName.toLowerCase())for(;(e=e.parentElement)&&"li"!==e.tagName.toLowerCase(););this.setItem(e)}function _checkHiddenValue(){this.hiddenValue&&this.hiddenValue.length&&""!=this.hiddenValue.value&&(_selectActiveItem.call(this)||setTimeout(function(){_selectActiveItem.apply(context)},1e3))}function _selectActiveItem(){var t=this.dropdown.querySelector('li[data-value="'+this.hiddenValue_.value+'"]');if(!t.length)return!1;MG_Utils.triggerEvent(t,"click"),dontProcess=!0}var instance=null,dropdowns=[],id=0,dontProcess=!1;Dropdown.prototype={constructor:Dropdown,setItem:function(t){var e,i=this.wrapper.querySelector(".dropdownTrigger .textFilter");if(!isNaN(t)&&function(t){return(0|t)===t}(parseFloat(t))&&(e=this.dropdown.querySelectorAll("li"),t=e[t]),!MG_Utils.isElement(t))return!1;MG_Utils.removeClassMultiple(this.dropdown.querySelectorAll("li"),"active"),MG_Utils.addClass(t,"active"),i&&MG_Utils.setText(i,t.textContent||t.innerText),this.hiddenValue&&(this.hiddenValue.value=t.getAttribute("data-value"))}};var hideDelayed=function(){function t(){for(var t=[],n=0;n<=o.triggers.length-1;n++)t.push(o.triggers[n]);t.push(o.dropdown),t.forEach(function(t){MG_Utils.addEventHandler(t,"mouseenter",function(t){MG_Utils.setData(o.dropdown,"hideDelayedOver","1"),i(o.dropdown)}),MG_Utils.addEventHandler(t,"mouseleave",function(t){MG_Utils.setData(o.dropdown,"hideDelayedOver","0"),i(o.dropdown);var n=setTimeout(function(){e()},o.options.timeout);MG_Utils.setData(o.dropdown,"hideDelayedTimeoutId",n)})})}function e(){if("0"==MG_Utils.getData(o.dropdown,"hideDelayedOver")){for(var t=[],e=0;e<=o.additionalElements.length-1;e++)t.push(o.additionalElements[e]);if(t.push(o.dropdown),t.forEach(function(t){t.style.display="none"}),document.getElementById("withScroll")){var i=MG_Utils.nextDivSibling();i&&void 0!==i.style&&(i.style.display="none")}"function"==typeof o.closeCallback&&o.closeCallback(),clearTimeout(parseInt(MG_Utils.getData(o.dropdown,"hideDelayedTimeoutId"))),MG_Utils.setData(o.dropdown,"hideDelayedTimeoutId","")}}function i(){o.dropdown.getAttribute("data-hideDelayedTimeoutId")&&(clearTimeout(parseInt(MG_Utils.getData(o.dropdown,"hideDelayedTimeoutId"))),MG_Utils.setData(o.dropdown,"hideDelayedTimeoutId",""))}var o=this;return t};return MG_Utils.addEventHandler(document,"click",function(t){t=t||window.event;var e=t.target||t.srcElement;if(!MG_Utils.hasClass(e,"dropdownTrigger"))for(;(e=e.parentElement)&&!MG_Utils.hasClass(e,"dropdownTrigger"););dropdowns.forEach(function(t){if(e&&e.parentNode.querySelector(".dropdownWrapper")===t.dropdown)return!1;t.dropdown.style.display="none"})}),{init:function(t,e){var i,e=e||{};i=t instanceof Array?t:MG_Utils.isElement(t)?t:document.querySelectorAll(t),[].forEach.call(i,function(i){e.wrapper=i,e.selector=t,instance=new Dropdown(e),instance.triggers&&instance.dropdown&&dropdowns.push(instance)})},get:function(t){return dropdowns[t]}}}();
var autocompleteSearch=function(){"use strict";function t(){var t={minLength:2,showDelay:400,showPornstars:!0,defaultType:"video",boldenResults:!0,typesListContainerId:"searchTypes",formId:"search_form",inputId:"searchInput",submitBtnId:"btnSearch",suggestionsListId:"searchSuggestions"};return this.options=MG_Utils.extendDefaults(t,arguments[0]),this.types=this.options.types,this.placeholderData=this.options.placeholderData,this.typesList=document.getElementById(this.options.typesListContainerId),this.form=document.getElementById(this.options.formId),this.input=document.getElementById(this.options.inputId),this.submitBtn=document.getElementById(this.options.submitBtnId),this.suggestionsList=document.getElementById(this.options.suggestionsListId),this.typeSelected=document.getElementById("searchTypeSelected"),this.focusInput=focusSearchInput,this.currentType=null,this.cache=null,this.term=null,this.searchName=null,this.tempTerm=null,this.timeouts={autocomplete:{timer:null,value:null,name:null,matches:0}},y||s.call(this),y}function e(){switch(this.currentType.name.replace(/\s/g,"").toLowerCase()){case"photos":return this.placeholderData.photos;case"members":return this.placeholderData.members;case"pornstars":return this.placeholderData.pornstars;case"gifs":return this.placeholderData.gifs;case"cammodels":return this.placeholderData.cams;default:return this.placeholderData.videos}}function s(){this.input&&(o.call(this),this.focusInput?this.input.focus():this.input.blur(),i.call(this),y=this)}function i(){var t=this;n.call(this),MG_Utils.addEventHandler(this.submitBtn,"click",function(e){a.call(t,e)}),MG_Utils.addEventHandler(this.form,"submit",function(e){a.call(t,e)})}function n(){var t=this;MG_Utils.addEventHandler(this.input,"keyup",function(e){l.call(t,e)}),MG_Utils.addEventHandler(this.input,"keypress",function(t){var e=t.keyCode?t.keyCode:t.charCode;if(60==e||62==e)return!1}),MG_Utils.addEventHandler(this.input,"keydown",function(e){r.call(t,e)}),MG_Utils.addEventHandler(this.input,"click",function(t){t=t||window.event,t.preventDefault?t.preventDefault():t.returnValue=!1}),MG_Utils.addEventHandler(this.suggestionsList,"click",function(t){t=t||window.event,t.preventDefault?t.preventDefault():t.returnValue=!1}),MG_Utils.addEventHandler(document.body,"click",function(e){t.suggestionsList.style.display="none"})}function a(t){var e=this.input.value.replace(/^[ \t]+|[ \t]+$/gi,""),s=this.input.getAttribute("placeholder"),i=this.suggestionsList.querySelector(".selected");if(""!=e&&e!=s){if(i&&(MG_Utils.hasClass(i,"pornstar")||MG_Utils.hasClass(i,"channel")))return MG_Utils.triggerEvent(i,"click"),t.preventDefault?t.preventDefault():t.returnValue=!1,!1;e=e.toLowerCase(),e=encodeURIComponent(e),e=e.replace(/%20/g,"+");var n;if("gay"==e){switch(this.currentType.newUrl="gay",this.currentType.name){case"photos":n="albums/"+this.currentType.newUrl;break;case"pornstars":case"gifs":n=this.currentType.newUrl+"/"+this.currentType.name;break;case"members":n="user/search?gender=1&orientation=1";break;case"video":n="gayporn";break;case"cam models":n="live?s=gay"}window.location="/"+n}else{var n=this.currentType.submitUrl+e;window.location=n}}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}function l(t){var e=RegExp(/[\<\>]/gi),s=this.input.value.match(e),i=this.input.value.replace(e,""),n=t.keyCode?t.keyCode:t.charCode,a=this,l=this.input.value.trim(),r=this.currentType.name,o=!1;if("38"==n||"40"==n||"13"==n)return!1;if(this.term&&this.term==l&&this.searchName==this.currentType.name)return!1;if(s&&(this.input.value=i),"13"!=n||"undefined"!=typeof arrowKeysSelected||MG_Utils.hasClass(this.form,"onHold")||"hd"==this.input.value.toLowerCase()&&"video"==this.currentType.name&&(window.location="/hd"),this.term=l,this.tempTerm=l,this.searchName=this.currentType.name,!this.currentType.autocompleteUrl)return!1;this.cache=this.input.getAttribute("data-autocomplete-cache")||{},"object"!=typeof this.cache&&(this.cache=JSON.parse(this.cache)),void 0===this.cache[r]&&(this.cache[r]={});for(var u in this.cache[r])this.term==u&&(response(this.cache[r][u]),o=!0);if(o)return!1;this.input.value.length<this.options.minLength?(this.timeouts.autocomplete.value="",clearTimeout(this.timeouts.autocomplete.timer),this.timeouts.autocomplete.matches=0,this.suggestionsList.style.display="none"):this.input.value==this.timeouts.autocomplete.value&&this.currentType.name==this.timeouts.autocomplete.name||(this.timeouts.autocomplete.value=this.input.value,clearTimeout(this.timeouts.autocomplete.timer),"user"!=this.currentType.autocompleteUrl&&(this.timeouts.autocomplete.timer=setTimeout(function(){MG_Utils.ajaxGet({url:a.currentType.autocompleteUrl,data:{pornstars:a.options.showPornstars,token:a.input.getAttribute("data-token"),orientation:a.input.getAttribute("data-orientation"),q:a.input.value,alt:0},success:function(t){d.call(a,t)}})},this.options.showDelay)))}function r(t){var e,s,i=t.keyCode?t.keyCode:t.charCode,n=this.suggestionsList.querySelectorAll("li"),a=this.suggestionsList.querySelector(".selected");a||(a=n[0]),40!=i&&38!=i||(MG_Utils.removeClassMultiple(n,"selected"),40==i?e=a.length||a!==n[n.length-1]?a.nextElementSibling||MG_Utils.nextElementSibling(a):n[0]:38==i&&(e=a.length||a!==n[0]?a.previousElementSibling||MG_Utils.previousElementSibling(a):n[n.length-1]),MG_Utils.addClass(e,"selected"),s=e.getAttribute("data-value"),s?(this.input.value=e.getAttribute("data-value"),this.term=this.input.value):this.input.value=this.tempTerm)}function o(){u.call(this),this.typesList.querySelector("li.gifs span").innerHTML="GIFs",dropdown.init("#searchTypeWrapper"),c.call(this),this.setType(),p.call(this)}function u(){var t=this.typesList.innerHTML;this.types.forEach(function(e){t+='<li class="'+e.name+'" data-search-type="'+e.name+'"><i class="'+e.name+'"></i><span>'+e.name+"</span></li>"}),this.typesList.innerHTML=t}function c(){var t=h.call(this),e=window.location.pathname,s=e.split("/")[1];if(s){if("gay"==s||"shemale"==s){var i=e.split("/")[2];"gifs"==i?s="gifs":"pornstars"==i&&(s="pornstars")}if("user"==s){"welcome"==e.split("/")[2]&&(s="")}for(var n=0;n<this.types.length;n++)this.types[n].testTypePattern==s&&"edit"!=e.split("/")[2]&&(t=this.types[n])}this.currentType=t}function h(){for(var t=0;t<this.types.length;t++)if(this.types[t].testTypePattern==this.options.defaultType)return this.types[t]}function p(){var t=this;MG_Utils.children(t.typesList).slice(1).forEach(function(e){MG_Utils.addEventHandler(e,"click",function(e){e=e||window.event;var s=e.target||e.srcElement;if("li"!==s.nodeName.toLowerCase()){for(var i=s;(i=i.parentElement)&&"li"!==i.nodeName.toLowerCase(););s=i}t.setType(s.getAttribute("data-search-type")),t.typesList.focus(),l.call(t,e)})})}function d(t){0==this.timeouts.autocomplete.matches&&(this.suggestionsList.style.display="none"),this.suggestionsList.innerHTML="";var e=!1,s=t;e=m.call(this,s),e?this.suggestionsList.style.display="block":(this.timeouts.autocomplete.matches=0,this.suggestionsList.style.display="none")}function m(t){var e=!1,s=this;if(t instanceof Array&&t.length){this.timeouts.autocomplete.matches=t.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Suggestions</a></li>');for(var i in t)MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t[i]+'"><a>'+(1==this.options.boldenResults?g.call(this,t[i]):t[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,a.call(s,t)})}),e=!0}else{if(t.queries instanceof Array&&t.queries.length)if("photos"==this.currentType.name){if(t.albums instanceof Array&&t.albums.length>0){this.timeouts.autocomplete.matches=t.albums.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">'+this.currentType.name.capitalize()+" results</a></li>");for(var i in t.queries)t.albums.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t.albums[i]+'"><a>'+(1==this.options.boldenResults?g.call(this,t.albums[i]):t.albums[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,a.call(s,t)})}),e=!0}}else if("pornstars"!=this.currentType.name){this.timeouts.autocomplete.matches=t.queries.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">'+this.currentType.name.capitalize()+" results</a></li>");for(var i in t.queries)t.queries.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t.queries[i]+'"><a>'+(1==this.options.boldenResults?g.call(this,t.queries[i]):t.queries[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,a.call(s,t)})}),e=!0}if(t.pornstars instanceof Array&&t.pornstars.length){MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Pornstar profiles</a></li>');for(var i in t.pornstars)t.pornstars.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item pornstar" data-slug="'+t.pornstars[i].slug+'" data-value="'+t.pornstars[i].name+'"><a>'+(1==this.options.boldenResults?g.call(this,t.pornstars[i].name):t.pornstars[i].name)+'&nbsp;&nbsp;-&nbsp;&nbsp;<span class="rank">Rank: '+t.pornstars[i].rank+"</span></a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".pornstar"),function(t){MG_Utils.addEventHandler(t,"click",function(){var t=this.getAttribute("data-slug");location.href="/pornstar/"+t})}),e=!0}if(t.channels instanceof Array&&t.channels.length){MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Channels</a></li>');for(var i in t.channels)t.channels.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item channel" data-slug="'+t.channels[i].slug+'" data-value="'+t.channels[i].name+'"><a>'+(1==this.options.boldenResults?g.call(this,t.channels[i].name):t.channels[i].name)+'&nbsp;&nbsp;-&nbsp;&nbsp;<span class="rank">Rank: '+t.channels[i].rank+"</span></a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".channel"),function(t){MG_Utils.addEventHandler(t,"click",function(){var t=this.getAttribute("data-slug");location.href="/channels/"+t})}),e=!0}if(1==showStreamate&&t.streamates instanceof Array&&t.streamates.length){MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Cam Models</a></li>');for(var i in t.streamates)t.streamates.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item streamate" data-slug="'+t.streamates[i].slug+'" data-value="'+t.streamates[i].name+'"><a>'+(1==this.options.boldenResults?g.call(this,t.streamates[i].name):t.streamates[i].name)+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".streamate"),function(t){MG_Utils.addEventHandler(t,"click",function(){s.input.value=this.textContent||this.innerText;var t=this.getAttribute("data-slug");location.href="/live/"+t})}),e=!0}}return e}function g(t){var e=this.input.value,s=t.search(RegExp(""+e,"i"));if(s>=0){e=e.toLowerCase();for(var i=t.split(/\s|_/),n=0;n<i.length;n++)i[n]=i[n].substr(0,1).toUpperCase()+(i[n].length>1?i[n].substr(1,i[n].length).toLowerCase():"");t=i.join(" "),t=t.slice(0,s)+'<span class="soughtValue">'+e+"</span>"+t.slice(s+e.length)}return t}var y;return t.prototype={constructor:t,setType:function(t){"string"==typeof t&&(this.currentType=this.getType(t)),this.typeSelected.setAttribute("data-search-type",this.currentType.name),this.input.setAttribute("placeholder",e.call(this)),this.typeSelected.querySelector("i").className=this.currentType.name,this.typesList.style.display="none"},getType:function(t){t||(t=this.typeSelected.getAttribute("data-search-type"));for(var e=0;e<this.types.length;e++)if(this.types[e].name==t)return this.currentType=this.types[e],this.currentType}},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},t}();
function appendedTasteProfile(e){var t=document.getElementById(e);if(t&&storageAvailable("localStorage")&&localStorage.tasteCategories)return t.value=localStorage.getItem("tasteCategories")}function scrollToElement(e,t){for(var l=document.body.scrollTop,e=document.querySelector(e),o=MG_Utils.offset(e).top,a=l;a<o;a+=t)document.body.scrollTop=a}function fixPs3(){navigator.userAgent&&navigator.userAgent.match(/PLAYSTATION/)&&(document.getElementById("search_value").style.height="20px",document.getElementById("search_value").style.backgroundImage="none",document.getElementById("search_value").style.backgroundColor="white",document.getElementById("search_value").style.width="151px")}function getCookie(e){var t,l,o,a=document.cookie.split(";");for(t=0;t<a.length;t++)if(l=a[t].substr(0,a[t].indexOf("=")),o=a[t].substr(a[t].indexOf("=")+1),(l=l.replace(/^\s+|\s+$/g,""))==e)return unescape(o)}function setCookie(e,t,l){var o=new Date;o.setDate(o.getDate()+l);var a=escape(t)+(null==l?"":"; expires="+o.toUTCString());document.cookie=e+"="+a}function builtModal(e,t,l,o,a,i){void 0!==friendRequestModal&&friendRequestModal.openModal();var r=document.getElementById("messageRequest"),s=document.getElementById("preventClick"),n=document.getElementById("friendRequestForm"),c=document.getElementById("fromPic");userId=document.getElementById("friendRequestUserId"),elements=document.querySelectorAll(".request-modal .last"),s.setAttribute("data-refresh",i),s.setAttribute("data-user-id",e),n.setAttribute("action",a),c.setAttribute("src",t),MG_Utils.wrap(c,"<a href='"+o+"'></a>"),r.value=r.getAttribute("data-val"),MG_Utils.setText(userId,e);for(var u=0;u<elements.length;u++)elements[u].innerHTML='You are about to add <a href="'+o+'"> '+l+' </a> as a friend. We will then notify <a href="'+o+'"> '+l+" </a> who will then confirm that you are friends."}function recal(){var e=document.getElementById("messageRequest"),t=document.getElementById("chars_left"),l=1e3-e.value.length;t.innerHTML=Math.max(l,0)+" characters left.",l<0&&MG_Utils.appendString(t,' <span style = "color: #F00">You have over 1000 characters.<br />Anything past 1000 will get chopped off.</span>')}function getUrlVars(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,l,o){e[l]=o});return e}function nl2br(e){return e.replace(/\n/g,"<br />")}function strpos(e,t,l){var o=(e+"").indexOf(t,l||0);return-1!==o&&o}function updateQueryStringParameter(e,t,l){var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(o)?e.replace(o,"$1"+t+"="+l+"$2"):e+a+t+"="+l}function initTooltip(e,t){function l(e){var t;t=MG_Utils.offset(e),a.style.left=t.left-a.clientWidth/2+Math.floor(e.clientWidth/2)-1+"px",window.onresize=function(){a.style.left=0},e.classList.contains("pornstarPrev")&&parseFloat(a.style.left)<-3?(a.classList.add("tooltipSmall"),a.style.width=a.clientWidth+parseFloat(a.style.left)-14+"px",a.style.left="0"):o(e,t),a.style.top=t.top-a.clientHeight-a.querySelector(".arrow-down").clientTop+"px"}function o(e,t){a.style.left=t.left-a.clientWidth/2+Math.floor(e.clientWidth/2)-1+"px",a.style.left=parseFloat(a.style.left)<0?"0":a.style.left,a.classList.remove("tooltipSmall"),a.style.width="auto"}var a=document.getElementById("tooltip");a&&(MG_Utils.addEventHandler(e,"mouseenter",function(o){a.innerHTML="<div class='tooltip-sub'>"+t+" </div></div><div class='arrow-down'></div>",a.style.display="block",MG_Utils.addClass(a,e.getAttribute("type")),l(e)}),MG_Utils.addEventHandler(e,"mouseleave",function(e){a.style.display="none"}))}function tooltipPromo(){var e=MG_Utils.offset(tooltipPromoButton);tooltipPromoContent.style.left=e.left-(tooltipPromoContent.clientWidth-tooltipPromoButton.clientWidth)/2+"px",tooltipPromoContent.style.top=e.top+7+"px",tooltipPromoContent.style.opacity="1"}function renderCommentLinks(){for(var e,t=document.querySelectorAll(".commentUsernameLink"),l=0;l<t.length;l++)e=t[l],MG_Utils.hasClass(e,"processed")||(MG_Utils.addClass(e,"processed"),e.getAttribute("data-href")?e.innerHTML='<a href="'+e.getAttribute("data-href")+'">@'+e.getAttribute("data-username")+"</a>":e.innerHTML="<span>@"+e.getAttribute("data-username")+"</span>");var o=document.querySelectorAll(".js_taggable");if(o.length>0){for(var l=0;l<o.length;l++)MG_Utils.empty(o[l]);friendList=[]}}function focusReply(){if(document.querySelectorAll("form.streamCommentFrom"))for(var e=document.querySelectorAll("form.streamCommentFrom"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"blur",function(e){blurTimeout=setTimeout(function(){var e=MG_UtilsNew.closest(this,"form"),t=e.querySelectorAll(".streamSubmitInput"),l=e.querySelectorAll(".streamSections");MG_Utils.addClass(t,"focusReply"),MG_Utils.addClass(t,"hidden"),MG_Utils.addClass(l,"hidden")},200)});if(document.querySelectorAll(".streamTextArea")){var l=document.querySelectorAll(".streamTextArea");MG_Utils.setText(l,"");for(var t=0;t<l.length;t++)MG_Utils.addEventHandler(l[t],"focus",function(e){var t=this.value,l=MG_UtilsNew.closest(this,".streamSubmitInput"),o=MG_UtilsNew.closest(this,".streamSections");"Click to leave a comment"===t&&(this.value=""),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.triggerEvent(this,"resize")})}}function openReply(){if(document.querySelectorAll(".reply a"))for(var e,t,l,o,a,i,r=document.querySelectorAll(".reply a"),s=0;s<r.length;s++)MG_Utils.addEventHandler(r[s],"click",function(r){r=r||window.event,e=MG_UtilsNew.closest(this,".feedItemSection"),t=e.querySelector(".postingForm"),l=e.querySelector(".formAvatar"),o=e.querySelector(".formText"),a=o.querySelector("textarea"),i=o.querySelector(".js_taggable"),MG_Utils.addClass(this,"hideme"),MG_Utils.addClass(t,"showme"),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.setText(a,""),MG_Utils.triggerEvent(a,"click"),MG_Utils.setText(i,commentPlaceholder),MG_Utils.addClass(i,"placeHolderText")})}function addShareExternal(e,t,l){if(WIDGET_SHARE.shareButtonsLoaded)return void("function"==typeof e&&e());if(WIDGET_SHARE.shareButtonsLoaded=!0,void 0===t&&(t=WIDGET_SHARE.urlShare),void 0===l&&(l=WIDGET_SHARE.shareTitle),document.querySelectorAll("a.sharesTwitter")){var o=document.querySelectorAll("a.sharesTwitter")[0],a=o.getAttribute("href");o.setAttribute("href",updateQueryStringParameter(a,"text",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesReddit")){var i=document.querySelectorAll("a.sharesReddit")[0],r=i.getAttribute("href");i.setAttribute("href",updateQueryStringParameter(r,"title",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesTumblr").length>0){var s=document.querySelectorAll("a.sharesTumblr")[0],n=s.getAttribute("href");s.setAttribute("href",updateQueryStringParameter(n,"t",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesGooglePlusOne")){var c=document.querySelectorAll("a.sharesGooglePlusOne")[0],u=c.getAttribute("href");c.setAttribute("href",updateQueryStringParameter(u,"url",t))}if(document.querySelectorAll("a.sharesStubleUpon")){var d=document.querySelectorAll("a.sharesStubleUpon")[0],m=d.getAttribute("href");d.setAttribute("href",updateQueryStringParameter(m,"title",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesBlogger")){var f=document.querySelectorAll("a.sharesBlogger")[0],y=f.getAttribute("href");f.setAttribute("href",updateQueryStringParameter(y,"n",encodeURIComponent(l)))}}function initializeTooltip(){for(var e=document.querySelectorAll(".tooltipTrig"),t=0;t<e.length;t++)initTooltip(e[t],e[t].getAttribute("data-title"))}function removeProfileItem(e,t){var l={url:e,data:" ",type:"POST"};MG_Utils.ajaxCall(l);var o=document.querySelectorAll("#"+t),a=MG_UtilsNew.closest(o[0],".videoSection"),i=0;o[0].parentNode.removeChild(o[0]),0==document.querySelectorAll("#"+t).length&&(i+=1);var r=a.querySelectorAll(".showingInfo .totalSpan"),s=a.querySelectorAll(".showingInfo .videoSpan");if(r||s){var n;if(a.querySelectorAll(".showingInfo span").length>=2)var c=parseInt(s[0].textContent,10);n=parseInt(r[0].textContent,10),vVideos=c,vVideos-=1,n-=i,r.length&&(r[0].innerHTML=n),s.length&&(s[0].innerHTML=vVideos)}}function removeItem(e,t,l,o){var a={url:e,data:{id:t},type:"POST"};MG_Utils.ajaxCall(a);var i=document.querySelectorAll("#"+l);i[0].parentNode.removeChild(i[0])}function removeItemSimple(e,t){var l={url:e,data:" ",type:"POST"};MG_Utils.ajaxCall(l);var o=document.querySelectorAll("#"+t);o[0].parentNode.removeChild(o[0])}function htmlspecialchars_decode(e){return"string"==typeof e&&(e=e.replace(/&amp;/g,"&"),e=e.replace(/&quot;/g,'"'),e=e.replace(/&#039;/g,"'"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">")),e}function createMailAlert(e){if((e.lastMessageIdReceived||e.lastMessageSent)&&"0000-00-00 00:00:00"!=e.lastAction&&!e.profileSpammer){var t="";e.lastMessageIdReceived&&e.lastMessageIdSent>e.lastMessageIdReceived?(e.lastMessageSent=e.lastMessageSent,t=e.lastMessageSent):e.lastMessageIdReceived?(e.lastMessageReceived=e.lastMessageReceived,t=e.lastMessageReceived):e.lastMessageIdSent&&(e.lastMessageSent=e.lastMessageSent,t=e.lastMessageSent);var l=document.querySelectorAll("ul#modelNotificationList > li.messageTemplate");l=l[0].cloneNode(!0),document.querySelectorAll("ul#modelNotificationList")[0].appendChild(l),MG_Utils.removeClass(l,"messageTemplate"),MG_Utils.addClass(l,e.status),MG_Utils.addClass(l,"newElement"),document.querySelectorAll(".newElement")[0].setAttribute("data-link",e.link),document.querySelectorAll(".newElement .js-messageLink")[0].setAttribute("data-link",e.link),document.querySelectorAll(".newElement img")[0].setAttribute("src",e.profileImage),document.querySelectorAll(".newElement .from")[0].innerHTML=e.profileUsername,document.querySelectorAll(".newElement .userProfileLink")[0].setAttribute("href",e.profileLink),document.querySelectorAll(".newElement .userProfileLink.from")[0].setAttribute("href",e.profileLink),document.querySelectorAll(".newElement .message")[0].innerHTML=escapeHtml(unEscapeHtml(t)),document.querySelectorAll(".newElement .date")[0].innerHTML=e.lastActionNice,e.isFanClubChat&&(document.querySelectorAll(".newElement .js-iconPlaceHolder")[0].className+=" fanOnlyIcon"),document.querySelectorAll(".newElement")[0].style.display="block",MG_Utils.removeClass(l,"newElement")}}function createfriendRequestAlert(e,t,l,o,a,i,r,s){var n="manageRequest("+r+", 1, '"+l+"', '"+o+"')",c="manageRequest("+r+", 0, '"+l+"', '"+o+"')",u=s?"checked":"unchecked",d=document.querySelectorAll("ul#modelNotificationList > li.friendRequestTemplate");d=d[0].cloneNode(!0),document.querySelectorAll("ul#modelNotificationList")[0].appendChild(d),MG_Utils.removeClass(d,"friendRequestTemplate"),MG_Utils.addClass(d,"newElement"),d.setAttribute("id","request_"+r),document.querySelectorAll(".newElement img")[0].setAttribute("src",e),document.querySelectorAll(".newElement .profileLink")[0].setAttribute("href",o),document.querySelectorAll(".newElement .from .profileLink")[0].setAttribute("href",o),document.querySelectorAll(".newElement .from .profileLink")[0].innerHTML=l,"1"==t?initializeTooltip():document.querySelectorAll(".newElement .verifiedUser")[0].style.display="none",document.querySelectorAll(".newElement .message")[0].innerHTML=a,document.querySelectorAll(".newElement .date")[0].innerHTML=i,document.querySelectorAll(".newElement button.confirm")[0].setAttribute("onclick",n),document.querySelectorAll(".newElement button.reject")[0].setAttribute("onclick",c),document.querySelectorAll('.newElement .subscribeConfirm input[type="checkbox"]')[0].setAttribute("id","autoSubscribe_"+r),document.querySelectorAll('.newElement .subscribeConfirm input[type="checkbox"]')[0].setAttribute(u,u),document.querySelectorAll(".newElement .subscribeConfirm label")[0].setAttribute("for","autoSubscribe_"+r),s&&MG_Utils.addClass(document.querySelectorAll(".newElement .subscribeConfirm .fakeCheckBox ")[0],"checked"),document.querySelectorAll(".newElement button.btnFlag")[0].setAttribute("data-userid",r),document.querySelectorAll(".newElement")[0].style.display="block",MG_Utils.removeClass(d,"newElement")}function noAlert(e){document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",0),document.querySelectorAll("ul#modelNotificationList > li")[0].style.display="none",document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="block",document.querySelectorAll("ul#modelNotificationList > li.noNewItem > span")[0].innerHTML=e}function insertNotificationContent(){function e(e){for(var t=e.length-1;t>=0;t--)MG_Utils.addEventHandler(e[t],"click",function(e){window.location.href=this.getAttribute("data-link")})}document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="block";for(var t=document.querySelectorAll("#notificationBox")[0].getAttribute("type"),l=document.querySelectorAll("ul#modelNotificationList > li,.handle3, .track3"),o=l.length-1;o>=0;o--)l[o].style.display="none";if("messageContent"==t)if(document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",messageViewAll),document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",messageViewAll),cacheAjaxNotif[0]){document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[0],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[3]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none";var a=document.querySelectorAll(".js-messageLink");e(a)}else MG_Utils.ajaxCall({type:"GET",data:{token:token},url:"/chat/threads?limit=5&reset=1",dataType:"json",success:function(t){if('"EXPIRED"'==t)document.location.reload();else{if(0==t.jsonNonBlockedThreadsCount)noAlert("messages");else{for(var l in t.jsonThreads)createMailAlert(t.jsonThreads[l]);document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",t.count),document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}cacheAjaxNotif[0]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[3]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none";e(document.querySelectorAll(".js-messageLink"))}}});else"requestContent"==t?(document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",requestViewAll),document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",requestViewAll),cacheAjaxNotif[1]?(document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[1],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[4]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"):MG_Utils.ajaxCall({url:"/user/ajaxGetFriendRequests",type:"GET",data:{limit:5,token:token},dataType:"json",success:function(e,t){if('"EXPIRED"'==e)document.location.reload();else{if(0==e.count)noAlert("friend requests");else{for(var l=0;l<e.datas.length;l++)createfriendRequestAlert(e.datas[l].avatar_url,e.datas[l].verified,e.datas[l].username,e.datas[l].user_link,e.datas[l].message,e.datas[l].request_date,e.datas[l].user_id,e.autoSubscribeFriendRequestsReceived);document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}cacheAjaxNotif[1]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[4]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"}}})):"notifContent"==t&&(document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",notifViewAll),document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",notifViewAll),cacheAjaxNotif[2]?(document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[2],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[5]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"):MG_Utils.ajaxCall({url:"/stream/notifications_mini",type:"GET",data:{limit:15,token:token},dataType:"json",success:function(e){var t=e.html;if("REFRESH"==e)document.location.reload();else if(e){var l=JSON.parse(JSON.stringify(t).replace("#*","").replace("*#",""));document.querySelectorAll("#modelNotificationList")[0].innerHTML+=l,document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),leaveModal()}else noAlert("notifications");cacheAjaxNotif[2]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[5]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"}}),leaveModal());MG_Scroll.init({selector:document.querySelectorAll("#scrollNotif"),height:"auto",color:"#F39000",size:"7px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"#222",distance:-2,opacity:1,railClass:"track1",barClass:"handle1",wrapperClass:"wrapper1"}),initializeTooltip()}function leaveModal(){document.getElementById("fileupload")&&MG_Utils.hasClass(document.getElementById("fileupload"),"fileUploadPass")&&(LeavePageConfirmationModal.formChangedHandler(),LeavePageConfirmationPrompt.formChangedHandler())}function manageRequest(e,t,l,o){var a=document.querySelectorAll("#request_"+e)[0],i=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count");url=t?"/user/ajax_accept_friend_request":"/user/ajax_reject_friend_request",url=url+"?token="+token,1==t&&$j("#autoSubscribeHeader").is(":checked")?url+="&subscribe=1":1==t&&$j("#autoSubscribe_"+e).is(":checked")&&(url+="&subscribe=1"),MG_Utils.ajaxCall({url:url,type:"POST",data:{id:e},success:function(r){if("OK"==r){if(document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",i-1),t)MG_Utils.addClass(a,"accepted"),document.querySelectorAll("#request_"+e+" .action button")[0].setAttribute("disabled","disabled"),document.querySelectorAll("#request_"+e+" .action")[0].parentNode.removeChild(document.querySelectorAll("#request_"+e+" .action")[0]),document.querySelectorAll("#request_"+e+" .contentContainer")[0].innerHTML='You and <a href="'+o+'" style="font-weight:bold;">'+l+"</a> are now friends.";else{document.querySelectorAll("#request_"+e)[0].parentNode.removeChild(document.querySelectorAll("#request_"+e)[0]);for(var s=document.querySelectorAll("#modelNotificationList li"),n=0,c=s.length-1;c>=0;c--)"block"==s[c].style.display&&n++;0==n&&0==document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")?noAlert("friend requests"):0==n&&fetchData()}setTimeout(function(){cacheAjaxNotif[1]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[4]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")},600)}}})}function reportSpam(e){var t=document.querySelectorAll("#request_"+e)[0],l=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count");MG_Utils.ajaxCall({url:"/user/ajax_friend_request_report?token="+token,type:"POST",data:{id:e,accept:-1},success:function(e){if("OK"==e){document.querySelectorAll("#tooltip")[0].style.display="none",document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",l-1),t.parentNode.removeChild(t);for(var o=document.querySelectorAll("#modelNotificationList li"),a=0,i=o.length-1;i>=0;i--)"block"==o[i].style.display&&a++;0==a&&0==document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")?noAlert("friend requests"):0==a&&fetchData(),setTimeout(function(){cacheAjaxNotif[1]=document.getElementById("modelNotificationList").innerHTML,cacheAjaxNotif[4]=document.getElementById("notificationBox").getAttribute("data-count")},600)}}})}function fetchData(){var e=document.querySelectorAll("#notificationBox")[0].getAttribute("type");"requestContent"==e&&(urlToFetch="/user/ajaxGetFriendRequests",cachetoUse=1),scrollLimit[cachetoUse]||offset[cachetoUse]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||MG_Utils.ajaxCall({type:"GET",data:{offset:offset[cachetoUse],limit:5,token:token},url:urlToFetch,dataType:"json",success:function(t){for(var l=0;l<t.datas.length;l++)"requestContent"==e&&createfriendRequestAlert(t.datas[l].avatar_url,t.datas[l].verified,t.datas[l].username,t.datas[l].user_link,t.datas[l].message,t.datas[l].request_date,t.datas[l].user_id,t.autoSubscribeFriendRequestsReceived);offset[cachetoUse]=offset[cachetoUse]+5,(offset[cachetoUse]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||offset[cachetoUse]>=100)&&(scrollLimit[cachetoUse]=1),setTimeout(function(){cacheAjaxNotif[cachetoUse]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,initializeTooltip()},600)}})}function fetchDataMessages(){scrollLimit[0]||MG_Utils.ajaxCall({url:"/chat/threads",type:"GET",data:{limit:5,offset:offset[0],token:token},dataType:"json",success:function(e){if('"EXPIRED"'==e)document.location.reload();else{if(0!=e.jsonThreadsCount){offset[0]=offset[0]+5;for(var t in e.jsonThreads)createMailAlert(e.jsonThreads[t]);document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}e.jsonNonBlockedThreadsCount<5&&(scrollLimit[0]=1),setTimeout(function(){cacheAjaxNotif[0]=document.querySelectorAll("#modelNotificationList")[0].innerHTML},600)}}})}function fetchDataNotification(){scrollLimit[2]||offset[2]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||MG_Utils.ajaxCall({url:"/stream/notifications_mini",type:"GET",data:{offset:offset[2],limit:15,token:token},dataType:"json",success:function(e){document.querySelectorAll("#modelNotificationList")[0].innerHTML+=e.html,offset[2]=offset[2]+5,(offset[2]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||offset[2]>=100)&&(scrollLimit[2]=1),setTimeout(function(){cacheAjaxNotif[2]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,initializeTooltip()},600)}})}function formSubmit(){var e=document.querySelectorAll("#friendRequestForm")[0],t=document.querySelectorAll("#preventClick")[0],l=t.getAttribute("data-user-id"),o=e.getAttribute("action"),a=document.querySelectorAll("#cancelRequest")[0].getAttribute("value"),i=document.querySelectorAll("#messageRequest")[0].value,r=document.querySelectorAll("#auto_subscribe")[0].checked?1:0,s={url:o,data:{cancelRequest:a,messageRequest:i,subscribe:r},type:"POST",beforeSend:function(){for(var e=document.querySelectorAll(".friend_"+l+" button")[0],t=e.children,o=t.length-1;o>=0;o--)MG_Utils.addClass(t[o],"visuallyHidden");e.innerHTML+='<span class="spinner" />'},success:function(e){void 0!==friendRequestModal&&friendRequestModal.closeModal();var o=document.querySelectorAll(".friend_"+l+" button")[0],a=document.querySelectorAll(".friend_"+l+" button .spinner"),i=o.children;a[0].parentNode.removeChild(a[0]);for(var r=i.length-1;r>=0;r--)MG_Utils.removeClass(i[r],"visuallyHidden");if("SENT"==e.success){o.setAttribute("data-friends",1);document.querySelectorAll(".friend_"+l)[0];if(MG_Utils.removeClass(document.querySelectorAll(".friend_"+l)[0],"removeFriend"),MG_Utils.removeClass(document.querySelectorAll(".friend_"+l)[0],"add"),MG_Utils.addClass(document.querySelectorAll(".friend_"+l)[0],"sent"),e.subscribed){var s=document.querySelectorAll(".subscribe_"+l+" button")[0],n=document.querySelectorAll(".subscribe_"+l);s.setAttribute("data-subscribed",1),MG_Utils.removeClass(n[0],"subscribe"),MG_Utils.addClass(n[0],"unsubscribe"),document.querySelectorAll(".subscribe_"+l+" .buttonLabel")[0].innerHTML="Subscribed"}t&&1==t.getAttribute("data-refresh")&&location.reload(),document.querySelectorAll(".friend_"+l+" .buttonLabel")[0].innerHTML=e.text_initial}}};MG_Utils.ajaxCall(s)}function avatarPopupHandler(e,t){for(var l=document.querySelectorAll("."+e),o=MG_Utils.hasClass(document.querySelector("body"),"logged-out"),a=l.length-1;a>=0;a--)MG_Utils.addEventHandler(l[a],"mouseenter",function(t){var l=this,a=t.target||t.srcElement;for(mouseEnterAvatar(l,o,t);0==MG_Utils.hasClass(a,e);)a=a.parentNode;myInt=setInterval(function(){MG_Utils.hasClass(a,e)||(mouseLeaveAvatar(l,o,t),clearInterval(myInt))},3e3)}),MG_Utils.addEventHandler(l[a],"mouseleave",function(e){mouseLeaveAvatar(this,o,e),myInt&&clearInterval(myInt)})}function avatarLoad(){document.querySelectorAll(".avatarWrap")&&avatarPopupHandler("avatarWrap"),document.querySelectorAll(".usernameWrap")&&avatarPopupHandler("usernameWrap"),document.querySelectorAll(".userLink")&&avatarPopupHandler("userLink")}function mouseEnterAvatar(e,t,l){if(0==MG_Utils.getData(e,"disable-popover")){var o=l.target;o.querySelectorAll(".avatarPosition");if(MG_Utils.hasClass(o,"avatarTrigger")&&""==document.querySelectorAll(".avatarPosition")[0].innerHTML||MG_Utils.hasClass(o,"usernameWrap")&&""==document.querySelectorAll(".avatarPosition")[0].innerHTML||MG_Utils.hasClass(o,"userLink")){var a=MG_Utils.getData(e,"type"),i=MG_Utils.getData(o,a+"id");MG_Utils.addClass(o,"elementHovered"),timeout.timer&&clearTimeout(timeout.timer),timeout.el=e,timeout.timer=setTimeout(function(e){if(cache[i]){document.querySelectorAll(".avatarPopOver");o.querySelector(".avatarPosition").innerHTML=cache[i],MG_Utils.hasClass(o,"elementHovered")&&(o.querySelector(".avatarPopOver").style.display="block")}else MG_Utils.ajaxCall({type:"POST",url:"/"+a+"/hover?id="+i,dataType:"html",context:this,success:function(e){var t,l,a,r,s=document.querySelectorAll(".avatarPopOver"),n=document.querySelector(".wrapper").offsetWidth;o.querySelector(".avatarPosition").innerHTML=e;for(var c=s.length-1;c>=0;c--)s[c].style.display="none";MG_Utils.hasClass(o,"elementHovered")&&(o.querySelector(".avatarPopOver").style.display="block",t=document.querySelector(".avatarPopOver"),l=t.getBoundingClientRect(),a=l.left,r=t.offsetWidth,a+r>n?MG_Utils.addClass(t,"popOverEdge"):MG_Utils.removeClass(t,"popOverEdge")),MG_Utils.hasClass(o,"elementHovered")&&(cache[i]=o.querySelector(".avatarPosition").innerHTML)}})},1e3)}}}function mouseLeaveAvatar(e,t,l){if(0==MG_Utils.getData(e,"disable-popover")){var o=l.target,a=MG_Utils.getData(e,"type"),i=MG_Utils.getData(o,a+"id");t&&e.querySelector(".avatarPosition").length&&(cache[i]=e.querySelector(".avatarPosition").innerHTML),e.querySelector(".avatarPopOver")&&(e.querySelector(".avatarPopOver").style.display="none"),timeout.timer&&clearTimeout(timeout.timer),MG_Utils.removeClass(e,"elementHovered")}}function focusReply(){if(document.querySelectorAll("form.streamCommentFrom"))for(var e=document.querySelectorAll("form.streamCommentFrom"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"blur",function(e){blurTimeout=setTimeout(function(){var e=MG_UtilsNew.closest(this,"form"),t=e.querySelectorAll(".streamSubmitInput"),l=e.querySelectorAll(".streamSections");MG_Utils.addClass(t,"focusReply"),MG_Utils.addClass(t,"hidden"),MG_Utils.addClass(l,"hidden")},200)});if(document.querySelectorAll(".streamTextArea")){var l=document.querySelectorAll(".streamTextArea");MG_Utils.setText(l,"");for(var t=0;t<l.length;t++)MG_Utils.addEventHandler(l[t],"focus",function(e){var t=this.value,l=MG_UtilsNew.closest(this,".streamSubmitInput"),o=MG_UtilsNew.closest(this,".streamSections");"Click to leave a comment"===t&&(this.value=""),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.triggerEvent(this,"resize")})}}function openReply(){if(document.querySelectorAll(".reply a"))for(var e,t,l,o,a,i,r=document.querySelectorAll(".reply a"),s=0;s<r.length;s++)MG_Utils.addEventHandler(r[s],"click",function(r){r=r||window.event,e=MG_UtilsNew.closest(this,".feedItemSection"),t=e.querySelector(".postingForm"),l=e.querySelector(".formAvatar"),o=e.querySelector(".formText"),a=o.querySelector("textarea"),i=o.querySelector(".js_taggable"),MG_Utils.addClass(this,"hideme"),MG_Utils.addClass(t,"showme"),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.setText(a,""),MG_Utils.triggerEvent(a,"click"),MG_Utils.setText(i,commentPlaceholder),MG_Utils.addClass(i,"placeHolderText")})}function addShareExternal(e,t,l){if(WIDGET_SHARE.shareButtonsLoaded)return void("function"==typeof e&&e());if(WIDGET_SHARE.shareButtonsLoaded=!0,void 0===t&&(t=WIDGET_SHARE.urlShare),void 0===l&&(l=WIDGET_SHARE.shareTitle),document.querySelectorAll("a.sharesTwitter")){var o=document.querySelectorAll("a.sharesTwitter")[0],a=o.getAttribute("href");o.setAttribute("href",updateQueryStringParameter(a,"text",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesReddit")){var i=document.querySelectorAll("a.sharesReddit")[0],r=i.getAttribute("href");i.setAttribute("href",updateQueryStringParameter(r,"title",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesTumblr").length>0){var s=document.querySelectorAll("a.sharesTumblr")[0],n=s.getAttribute("href");s.setAttribute("href",updateQueryStringParameter(n,"t",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesGooglePlusOne")){var c=document.querySelectorAll("a.sharesGooglePlusOne")[0],u=c.getAttribute("href");c.setAttribute("href",updateQueryStringParameter(u,"url",t))}if(document.querySelectorAll("a.sharesStubleUpon")){var d=document.querySelectorAll("a.sharesStubleUpon")[0],m=d.getAttribute("href");d.setAttribute("href",updateQueryStringParameter(m,"title",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesBlogger")){var f=document.querySelectorAll("a.sharesBlogger")[0],y=f.getAttribute("href");f.setAttribute("href",updateQueryStringParameter(y,"n",encodeURIComponent(l)))}}"object"!=typeof console&&(console={},console.log=function(){},console.warn=function(){},console.error=function(){},console.info=function(){});var disablePlaylistPlusButon="false",createPlaylistModalContent=document.getElementById("create-playlist-modal");if(createPlaylistModalContent)var createPlaylistModal=new MG_Modal({content:createPlaylistModalContent,className:"createPlaylistContainer"});var friendRequestModalContent=document.getElementById("friendRequestModal");if(friendRequestModalContent)var friendRequestModal=new MG_Modal({content:friendRequestModalContent,className:"friendRequestContainer"});if(Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var l,o;if(null==this)throw new TypeError(" this is null or not defined");var a=Object(this),i=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(l=t),o=0;o<i;){var r;o in a&&(r=a[o],e.call(l,r,o,a)),o++}}),document.querySelector(".tooltipPromo")){var tooltipPromoButton=document.querySelector("#headerUpgradePremiumBtn"),tooltipPromoContent=document.querySelector(".tooltipPromo"),tooltipPromoRemove=tooltipPromoContent.querySelector("span");MG_Utils.addEventHandler(tooltipPromoRemove,"click",function(e){e.stopPropagation(),setCookie("promoTooltip","1"),tooltipPromoContent.remove()}),MG_Utils.addEventHandler(window,"load",tooltipPromo),MG_Utils.addEventHandler(window,"resize",tooltipPromo)}var blurTimeout="",VideoPreview=function(){"use strict";function e(){if(o()&&a())return l(arguments[0])}function t(e,t,l){return e.style.opacity=t,e.style.width=l,e}function l(e){var l=document.querySelectorAll("."+e),o=l.length,a=document.querySelector("body"),c=0,u=function(e){var l;if(MG_Utils.hasClass(e.target,"js-videoPreview")&&!MG_Utils.hasClass(e.target,"activeVideo")&&(l=e.target),MG_Utils.hasClass(e.target,"premiumHolder")&&(l=MG_UtilsNew.closest(e.target,".img").querySelector(".js-videoPreview")),(MG_Utils.hasClass(e.target,"premiumLockedVideo")||MG_Utils.hasClass(e.target,"fade"))&&(l=e.target.querySelector(".js-videoPreview")),l){
var o=l.parentNode,a=MG_UtilsNew.closest(l,".phimage"),c=a?a.querySelector(".preloadLine"):void 0,u=r(),d=MG_Utils.hasClass(l,"js-menuSwap")?l.getAttribute("data-image"):l.getAttribute("data-mediumthumb"),m=a?a.querySelector(".privateOverlay"):void 0,f=o.querySelector(".watchedVideoText");c&&t(c,1,"100%"),MG_Utils.hasClass(l,"activeVideo")||o.querySelector(".videoPreviewEl")||m||(s=setTimeout(function(){MG_Utils.addClass(l,"activeVideo"),f&&MG_Utils.addClass(f,"hide"),o.appendChild(i(l.getAttribute("data-mediabook"),d))},n)),c&&u&&c.addEventListener(u,function(){c.style.opacity=0})}},d=function(e){var l;if(MG_Utils.hasClass(e.target,"js-videoPreview")&&MG_Utils.hasClass(e.target,"activeVideo")&&(l=e.target),MG_Utils.hasClass(e.target,"premiumHolder")&&(l=MG_UtilsNew.closest(e.target,".img").querySelector(".js-videoPreview")),(MG_Utils.hasClass(e.target,"premiumLockedVideo")||MG_Utils.hasClass(e.target,"fade")&&e.target.querySelector(".js-videoPreview")&&!MG_Utils.hasClass(e.target.querySelector(".js-videoPreview"),"activeVideo"))&&(l=e.target.querySelector(".js-videoPreview")),MG_Utils.hasClass(e.target,"fade")&&e.target.querySelector(".js-videoPreview")&&MG_Utils.hasClass(e.target.querySelector(".js-videoPreview"),"activeVideo")&&e.relatedTarget&&"IMG"!==e.relatedTarget.nodeName&&(l=e.target.querySelector(".js-videoPreview")),l){var o=l.parentNode,a=o.querySelectorAll(".videoPreviewEl"),i=MG_UtilsNew.closest(l,".phimage"),r=i?i.querySelector(".preloadLine"):void 0,n=o.querySelector(".watchedVideoText");window.clearTimeout(s),r&&t(r,0,0),MG_Utils.removeClass(l,"activeVideo"),n&&MG_Utils.removeClass(n,"hide"),a.length&&[].forEach.call(a,function(e){e.parentNode.removeChild(e)})}};for(MG_Utils.addEventHandler(a,"mouseover",u),MG_Utils.addEventHandler(a,"mouseout",d),c;c<o;c++)MG_Utils.removeClass(l[c],"js-videoThumbFlip")}function o(){return!!document.createElement("video").play}function a(){var e=document.createElement("video"),t=!1;try{t=!!e.canPlayType,t&&(t=new Boolean(t),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t="maybe"==t.webm||"probably"==t.webm)}catch(e){console.log(e)}return t}function i(e,t){var l=document.createElement("video");return l.autoplay=!0,l.className="videoPreviewEl",l.loop="loop",l.muted="muted",l.src=e,l.poster=t,l}function r(){var e,t=document.createElement("div"),l={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in l)if(void 0!==t.style[e])return l[e]}var s,n=300;return{getTarget:e}}();if(0!=document.querySelectorAll("#modelNotificationList").length){var modelNotificationList=document.querySelectorAll("#modelNotificationList");modelNotificationList=modelNotificationList[0].innerHTML}var cacheAjaxNotif=[],scrollFuncDefined=0,offset=[5,5,5],limit=5,scrollLimit=[0,0,0];"undefined"!=typeof isLogged&&isLogged;var myInt,cache={},timeout={timer:null,el:null},blurTimeout="",fadeClickthroughEvent=function(){var e=document.querySelectorAll("#moreData, ul.videos-list, ul.videos, ul.popularSectionListPremium");[].forEach.call(e,function(e){e.addEventListener("mousedown",function(e){var t=e.target;if(MG_Utils.hasClass(t,"fadeImage")||MG_Utils.hasClass(t,"fade")){var l,o=t.querySelector("a.img"),a=t.querySelector("a.selectVideoThumb");if(a)l=a.getAttribute("href");else if(o)l=o.getAttribute("href");else{var i=t.querySelector("a");l=i.getAttribute("href")}l&&(e.preventDefault(),1===e.which&&(window.location.href=l),2===e.which&&window.open(l,"_blank"))}})})},MG_UtilsNew={closest:function(e,t){var l;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),l=t.length;--l>=0&&t.item(l)!==this;);return l>-1});null!==e;){if(null!==(l=e.parentElement)&&l instanceof Element&&l.matches(t))return l;e=l}return null}};MG_Utils.domReady(function(){function e(e){var t=e.target||e.srcElement;"Show More"==t.innerHTML?t.innerHTML="Show Less":"Show Less"==t.innerHTML&&(t.innerHTML="Show More")}if(function(){var e=document.querySelector("#js-noticeWarningModal"),t=document.querySelector("#js-blackListModal");if(e&&t){var l=new MG_Modal({content:e,closeButton:!1,className:"noticeModal",closeDocument:!1}),o=new MG_Modal({content:t,closeButton:!1,className:"blackListModal",closeDocument:!1}),a=function(e){var t=e.target;(MG_Utils.hasClass(t,"js-closeBlackList")||MG_Utils.hasClass(t,"js-closeNotice"))&&(MG_Utils.hasClass(t,"js-closeBlackList")&&o.closeModal(),MG_Utils.hasClass(t,"js-closeNotice")&&l.closeModal())},i=function(e){var t=e.target,a=t.href;MG_Utils.hasClass(t,"js-ckeckExternalSource")&&(e.preventDefault(),MG_Utils.ajaxCall({type:"POST",url:modalTranslationText.blackWhiteListUrl,data:{url:a},dataType:"json",success:function(e){try{switch(e.status){case"blacklist":return o.openModal(function(e,t){t.querySelector(".js-blackListInput").value=a});case"whitelist":return window.location.href=a;default:return l.openModal(function(e,t){t.querySelector(".js-noticeDivInput").value=a,t.querySelector(".js-extrnalLink").href=a})}}catch(e){console.log(e)}}}))};document.addEventListener("click",a),document.addEventListener("click",i);document.querySelector(".js-extrnalLink")&&document.addEventListener("click",function(e){MG_Utils.hasClass(e.target,"js-extrnalLink")&&l.closeModal()})}}(),"undefined"!=typeof BrowserDetect){switch(BrowserDetect.browser){case"Opera":MG_Utils.addClass(document.documentElement,"opera");break;case"Safari":MG_Utils.addClass(document.documentElement,"safari");break;case"Firefox":MG_Utils.addClass(document.documentElement,"firefox");break;case"Chrome":MG_Utils.addClass(document.documentElement,"chrome");break;case"Explorer":MG_Utils.addClass(document.documentElement,"ie")}"Explorer"==BrowserDetect.browser&&10==BrowserDetect.version&&MG_Utils.addClass(document.documentElement,"ie10");!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)&&MG_Utils.addClass(document.documentElement,"ie11"),"Win32"==navigator.platform?MG_Utils.addClass(document.documentElement,"windows"):"MacIntel"==navigator.platform&&MG_Utils.addClass(document.documentElement,"osx"),BrowserDetect.init()}if("undefined"!=typeof searchTypes){new autocompleteSearch({types:searchTypes,placeholderData:page_params.placeholderData})}dropdown.init(".mainFilter, .sortFilter"),dropdown.init("#languageWrapper"),dropdown.init(".languageWrapper"),dropdown.init("#notificationIcons",{closeCallback:function(){var e=document.querySelector('.notificationIcon[data-type="'+document.getElementById("notificationBox").getAttribute("type")+'"] > span');e&&(e.style.display="none")}}),"undefined"!=typeof isLogged&&isLogged&&dropdown.init("#profileMenuWrapper"),renderCommentLinks(),function(){for(var e=document.querySelectorAll("textarea[data-val]"),t=0;t<e.length;t++)element=e[t],""==element.value&&(element.value=element.getAttribute("data-val"))}(),function(){for(var e=document.querySelectorAll("ul"),t=0;t<e.length;++t){var l=MG_Utils.firstChild(e[t]),o=MG_Utils.lastChild(e[t]);l&&MG_Utils.addClass(l,"alpha"),o&&(MG_Utils.hasClass(o,"sectionMoreBtn")?MG_Utils.addClass(o.previousElementSibling||MG_Utils.previousElementSibling(o),"omega"):MG_Utils.addClass(o,"omega"))}}(),function(){for(var e=document.querySelectorAll(".container a.img, .container img"),t=0;t<e.length;++t)MG_Utils.hasClass(e[t],"catIcon")||(e[t].setAttribute("data-title",e[t].title),e[t].setAttribute("title",""))}(),function(){for(var e=document.querySelectorAll(".tooltipTrig"),t=0;t<e.length;++t)initTooltip(e[t],e[t].getAttribute("data-title"))}(),function(){for(var e,t,l,o=document.querySelectorAll(".wideDropdown"),a=0;a<o.length;++a)if(t=o[a],e=document.querySelector(".menu."+t.getAttribute("data-submenu-type")),l=document.querySelectorAll(".wideDropdown."+t.getAttribute("data-submenu-type")),e)for(var i=0;i<l.length;i++)e.appendChild(l[i])}(),function(){var e=document.getElementById("countryRedirectMessage");if(e&&!PH_Storage.getItem("hideLangRedirect")){e.style.display="block";for(var t=e.querySelectorAll("i"),l=0;l<t.length;l++)MG_Utils.addEventHandler(t[l],"click",function(t){t=t||window.event,MG_Utils.stopPropagation(t),e.style.display="none",PH_Storage.saveWithExpiry("hideLangRedirect",!0)})}}(),function(){for(var e=document.querySelectorAll(".shareIcons a"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"click",function(e){e=e||window.event;var t=e.target||e.srcElement;if(MG_Utils.preventDefault(e),"a"!==t.nodeName.toLowerCase())for(;(t=t.parentElement)&&"a"!==t.nodeName.toLowerCase(););var l,o;l=Math.floor(((screen.availWidth||1024)-640)/2),o=Math.floor(((screen.availHeight||700)-320)/2),window.open(t.href,"social","width=640,height=320,left="+l+",top="+o+",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1")})}(),VideoPreview.getTarget("js-videoPreview"),function(){var e=function(){"use strict";var e={debug:!1,link:".js-mxp",parent:".js-mxpParent",meta:'head [name="mxp-page"]'},t=function(t){if(!premiumFlag)return!1;t=t||{},e=MG_Utils.extendSimple(e,t),e.debug&&console.log("MixPanel debug mode"),o(),a()},l=function(t){var l=MG_UtilsNew.closest(this,e.parent);if(!this.hasAttribute("data-mxptext")||!l||!l.hasAttribute("data-mxp"))return!1;var o=(JSON.parse(this.getAttribute("data-mxp")),"None"),a=l.getAttribute("data-mxp"),i={};this.hasAttribute("data-mxptype")&&(o=this.getAttribute("data-mxptype")),e.debug&&MG_Utils.preventDefault(t),i[o+"Name"]=this.getAttribute("data-mxptext"),i.PageFrom=a,mixpanel.track("View "+o,i)},o=function(){var t=document.querySelector(e.meta);t&&mixpanel.track("Viewed Page",{"Page Name":t.getAttribute("content")})},a=function(){for(var t=document.querySelectorAll(e.link),o=0;o<t.length;o++)MG_Utils.addEventHandler(t[o],"click",l)};return{init:t,trackClick:a}}();"undefined"!=typeof premiumFlag&&"1"==premiumFlag&&e.init()}(),function(){var e=document.querySelectorAll("#scrollNotif")[0];e&&MG_Utils.addEventHandler(e,"scroll",function(e){var t=document.querySelectorAll("#scrollNotif");if(t[0].scrollTop+t[0].clientHeight>=t[0].scrollHeight){var l=document.querySelectorAll("#notificationBox")[0].getAttribute("type");"notifContent"==l?fetchDataNotification():"messageContent"==l?setTimeout(function(){fetchDataMessages()},600):fetchData()}})}(),function(){MG_Utils.limit=function(e,t){for(var l={limit:200},t=MG_Utils.extendSimple(l,t),o=e.length-1;o>=0;o--)MG_Utils.addEventHandler(e[o],"keyup",function(e){e=e||event;var l=e.target||e.srcElement;l.value.length>t.limit&&(l.value=l.value.substring(0,t.limit))})}}(),function(){var t=document.querySelectorAll("a"),l=document.querySelectorAll("a span"),o=document.querySelectorAll("button"),a=document.querySelectorAll("button span");if(t)for(var i=t.length-1;i>=0;i--)"Show More"==t[i].innerHTML?MG_Utils.addEventHandler(t[i],"click",function(t){e(t=t||event)}):"Show Less"==t[i].innerHTML&&MG_Utils.addEventHandler(t[i],"click",function(t){e(t=t||event)});if(l)for(var i=l.length-1;i>=0;i--)"Show More"==l[i].innerHTML?MG_Utils.addEventHandler(l[i],"click",function(t){e(t=t||event)}):"Show Less"==l[i].innerHTML&&MG_Utils.addEventHandler(l[i],"click",function(t){e(t=t||event)});if(o)for(var i=o.length-1;i>=0;i--)"Show More"==o[i].innerHTML?MG_Utils.addEventHandler(o[i],"click",function(t){e(t=t||event)}):"Show Less"==o[i].innerHTML&&MG_Utils.addEventHandler(o[i],"click",function(t){e(t=t||event)});if(a)for(var i=a.length-1;i>=0;i--)"Show More"==a[i].innerHTML?MG_Utils.addEventHandler(a[i],"click",function(t){e(t=t||event)}):"Show Less"==a[i].innerHTML&&MG_Utils.addEventHandler(a[i],"click",function(t){e(t=t||event)})}(),function(){if(document.querySelectorAll(".createPlaylistModalTrigger"))for(var e=document.querySelectorAll(".createPlaylistModalTrigger"),t=e.length-1;t>=0;t--)MG_Utils.addEventHandler(e[t],"click",function(e){e=e||event,e.preventDefault(),void 0!==createPlaylistModal&&createPlaylistModal.openModal(function(){dropdown.init("#playlist-form .privacySelector"),MG_Utils.limit(document.querySelectorAll("#new-playlist-description"),{limit:1e3})})})}(),function(){if(document.querySelectorAll(".blockPageScroll"))for(var e=document.querySelectorAll(".blockPageScroll"),t=e.length-1;t>=0;t--)MG_Utils.addEventHandler(e[t],"mousewheel",function(e){e=e||event,e.preventDefault()}),MG_Utils.addEventHandler(e[t],"DOMMouseScroll",function(e){e=e||event,e.preventDefault()})}(),function(){if(document.querySelectorAll(".expandable-title")){for(var e=document.querySelectorAll(".expandable-title"),t=e.length-1;t>=0;t--)MG_Utils.addEventHandler(e[t],"click",function(){if(MG_Utils.hasClass(this.parentNode,"active")){var e=this.parentNode;e.querySelector(".expandable-content").style.display="none",MG_Utils.removeClass(e,"active")}else{for(var t=this.parentNode,l=document.querySelectorAll(".expandable-section.active"),o=l.length-1;o>=0;o--)MG_Utils.removeClass(l[o],"active"),l[o].querySelector(".expandable-content").style.display="none";t.querySelector(".expandable-content").style.display="block",MG_Utils.addClass(t,"active")}});for(var l=document.querySelectorAll(".expandable-title .expand-button"),t=l.length-1;t>=0;t--)MG_Utils.addEventHandler(l[t],"click",function(e){e=e||event,e.preventDefault()})}}(),function(){var e,t=document.body;t.addEventListener("mouseover",function(t){var l=t.target;t.relatedTarget;if(window.clearTimeout(e),MG_Utils.hasClass(l,"fadeUp")&&!MG_Utils.hasClass(l.parentNode,"js-noFade")){var o=l.querySelector(".thumb"),a=l.querySelector(".privateOverlay");if(MG_Utils.hasClass(l,"fade"))var i=l.querySelector(".watchedVideoText");else var i=MG_Utils.closest(l,".fade").querySelector(".watchedVideoText");a||(!MG_Utils.hasClass(o,"js-videoPreview")||MG_Utils.hasClass(o,"js-videoThumbFlip")||MG_Utils.hasClass(o,"activeVideo")||(e=setTimeout(function(){MG_Utils.removeClass(l,"fadeUp")},300)),MG_Utils.hasClass(o,"js-videoThumbFlip")&&!o.getAttribute("data-flipbook_active")&&(MG_Utils.hasClass(o,"js-videoPreview")||(e=setTimeout(function(){MG_Utils.removeClass(l,"fadeUp"),i&&!MG_Utils.hasClass(i,"hide")&&MG_Utils.addClass(i,"hide")},100)),MG_Utils.hasClass(o,"js-videoPreview")&&(e=setTimeout(function(){MG_Utils.removeClass(l,"fadeUp"),i&&!MG_Utils.hasClass(i,"hide")&&MG_Utils.addClass(i,"hide")},100))))}var r=!!document.documentMode;if(MG_Utils.hasClass(l,"js-videoThumbFlip")&&r){var i=MG_UtilsNew.closest(l,".fade").querySelector(".watchedVideoText");i&&!MG_Utils.hasClass(i,"hide")&&MG_Utils.addClass(i,"hide")}}),t.addEventListener("mouseout",function(t){var l=t.target,o=t.relatedTarget;if(window.clearTimeout(e),MG_UtilsNew.closest(l,".fade")){if(!MG_Utils.hasClass(MG_UtilsNew.closest(l,".fade"),"fadeUp")){var a=MG_UtilsNew.closest(l,".fade").querySelector(".watchedVideoText");MG_Utils.hasClass(l,"js-videoThumbFlip")&&MG_Utils.hasClass(l,"js-videoPreview")&&(MG_Utils.addClass(MG_UtilsNew.closest(l,".fade"),"fadeUp"),a&&MG_Utils.hasClass(a,"hide")&&MG_Utils.removeClass(a,"hide")),MG_Utils.hasClass(l,"js-videoPreview")&&!MG_Utils.hasClass(l,"js-videoThumbFlip")&&MG_Utils.addClass(MG_UtilsNew.closest(l,".fade"),"fadeUp")}var i=!!document.documentMode;if(MG_Utils.hasClass(l,"js-videoThumbFlip")&&i){var a=MG_UtilsNew.closest(l,".fade").querySelector(".watchedVideoText");a&&MG_Utils.hasClass(a,"hide")&&MG_Utils.removeClass(a,"hide")}}if(MG_Utils.hasClass(l,"fade")&&!MG_Utils.hasClass(l,"fadeUp")){var r=l.querySelector(".thumb");if(MG_Utils.hasClass(l,"fade"))var a=l.querySelector(".watchedVideoText");MG_Utils.hasClass(r,"js-videoThumbFlip")&&MG_Utils.hasClass(r,"js-videoPreview")&&o&&!MG_Utils.hasClass(o,"thumb")&&(MG_Utils.addClass(l,"fadeUp"),a&&MG_Utils.hasClass(a,"hide")&&MG_Utils.removeClass(a,"hide")),MG_Utils.hasClass(r,"js-videoThumbFlip")&&!MG_Utils.hasClass(r,"js-videoPreview")&&o&&!MG_Utils.hasClass(o,"thumb")&&(MG_Utils.addClass(l,"fadeUp"),a&&MG_Utils.hasClass(a,"hide")&&MG_Utils.removeClass(a,"hide")),!MG_Utils.hasClass(r,"js-videoPreview")||MG_Utils.hasClass(r,"js-videoThumbFlip")||MG_Utils.hasClass(r,"activeVideo")||MG_Utils.addClass(l,"fadeUp")}})}(),function(){var e,t=document.body,l=function(e){e.length&&[].forEach.call(e,function(e){MG_Utils.removeClass(e,"active")})},o=function(e){var t,l=document.querySelector(".add-to-playlist-menu");if(e)t=e.querySelector(".playlist-trigger");else{var o=document.querySelector(".zoom.active");o&&(t=o.querySelector(".playlist-trigger"))}if(t)for(;"block"===l.style.display;)t.click()},a=function(e){return!!e&&(!MG_Utils.hasClass(e,"playlist-trigger")&&!(MG_Utils.hasClass(e,"playlist-menu-addTo")||MG_Utils.hasClass(e,"playlist-list")||MG_Utils.hasClass(e,"playlist-menu-createNew")))};t.addEventListener("mouseover",function(t){var a=t.target;t.relatedTarget;if(window.clearTimeout(e),MG_UtilsNew.closest(a,".zoom")&&!MG_Utils.hasClass(MG_UtilsNew.closest(a,".zoom"),"active")){if(MG_Utils.hasClass(a,"img")&&MG_Utils.hasClass(a.querySelector(".thumb"),"js-videoThumbFlip")||MG_Utils.hasClass(a,"js-videoThumbFlip")){var i=MG_UtilsNew.closest(a,".zoom"),r=document.querySelectorAll(".zoom.active"),s=document.querySelector(".add-to-playlist-menu");"block"===s.style.display&&o(),l(r),e=setTimeout(function(){MG_Utils.addClass(i,"active")},100)}if(MG_Utils.hasClass(a,"img")&&a.querySelector(".js-videoPreview")&&!MG_Utils.hasClass(a.querySelector(".js-videoPreview"),"activeVideo")&&!a.querySelector(".js-videoThumbFlip")||MG_Utils.hasClass(a,"js-videoPreview")&&!MG_Utils.hasClass(a,"activeVideo")&&!MG_Utils.hasClass(a,"js-videoThumbFlip")){var i=MG_UtilsNew.closest(a,".zoom"),r=document.querySelectorAll(".zoom.active"),s=document.querySelector(".add-to-playlist-menu");"block"===s.style.display&&o(),l(r),e=setTimeout(function(){MG_Utils.addClass(i,"active")},100)}}}),t.addEventListener("mouseout",function(t){var i=t.target,r=t.relatedTarget,s=this.querySelector(".add-to-playlist-menu");if(MG_UtilsNew.closest(i,".zoom")){var n=(MG_UtilsNew.closest(i,".phimage"),MG_UtilsNew.closest(i,".zoom"));if(window.clearTimeout(e),(MG_Utils.hasClass(i,"img")||MG_Utils.hasClass(i,"thumb"))&&MG_Utils.hasClass(s,"display-none")&&r&&(MG_Utils.hasClass(r,"playlist-trigger")||MG_UtilsNew.closest(r,".playlist-menu-addTo")||MG_UtilsNew.closest(r,".playlist-list")||MG_UtilsNew.closest(r,".playlist-menu-createNew")||MG_UtilsNew.closest(r,".marker-overlays")))return;if(MG_Utils.hasClass(n,"active")&&MG_Utils.hasClass(i,"js-videoPreview")&&MG_Utils.hasClass(i,"js-videoThumbFlip")||i.querySelector(".js-videoPreview")&&i.querySelector(".js-videoThumbFlip")&&!MG_Utils.hasClass(r,"thumb")&&a(r)){var c=document.querySelectorAll(".zoom.active");"block"===s.style.display&&o(n),l(c)}if(MG_Utils.hasClass(n,"active")&&MG_Utils.hasClass(i,"js-videoThumbFlip")||MG_Utils.hasClass(i,"img")&&i.querySelector(".js-videoThumbFlip")&&r&&a(r)&&!MG_Utils.hasClass(r,"thumb")){var c=document.querySelectorAll(".zoom.active");"block"===s.style.display&&o(n),l(c)}if(MG_Utils.hasClass(n,"active")&&MG_Utils.hasClass(i,"js-videoPreview")&&!MG_Utils.hasClass(i,"activeVideo")&&!MG_Utils.hasClass(i,"js-videoThumbFlip")||MG_Utils.hasClass(i,"img")&&i.querySelector(".js-videoPreview")&&!i.querySelector(".js-videoThumbFlip")&&!MG_Utils.hasClass(i.querySelector(".js-videoPreview"),"activeVideo")&&a(r)){var c=document.querySelectorAll(".zoom.active");"block"===s.style.display&&o(n),l(c)}}if((MG_UtilsNew.closest(i,".marker-overlays")||MG_UtilsNew.closest(i,".add-to-playlist-icon"))&&MG_UtilsNew.closest(i,".zoom")&&MG_Utils.hasClass(MG_UtilsNew.closest(i,".zoom"),"active")&&r&&!MG_UtilsNew.closest(r,".marker-overlays")&&!MG_UtilsNew.closest(r,".phimage")&&!MG_UtilsNew.closest(r,".add-to-playlist-menu")){var c=document.querySelectorAll(".zoom.active"),n=MG_UtilsNew.closest(i,".zoom");window.clearTimeout(e),"block"===s.style.display&&o(n),l(c)}if((MG_UtilsNew.closest(i,".playlist-menu-addTo")||MG_UtilsNew.closest(i,".playlist-list")||MG_UtilsNew.closest(i,".playlist-menu-createNew"))&&!MG_Utils.hasClass(r,"playlist-trigger")&&!MG_Utils.hasClass(r,"img")&&!MG_UtilsNew.closest(r,".add-to-playlist-menu")){var c=document.querySelectorAll(".zoom.active");window.clearTimeout(e),"block"===s.style.display&&o(),l(c)}})}(),function(){var e=document.querySelector("#searchInput"),t=document.querySelector("#searchBarContainer");null!==e&&(MG_Utils.addEventHandler(e,"focus",function(){MG_Utils.addClass(t,"active")}),MG_Utils.addEventHandler(e,"blur",function(){MG_Utils.removeClass(t,"active")}))}(),fadeClickthroughEvent()});