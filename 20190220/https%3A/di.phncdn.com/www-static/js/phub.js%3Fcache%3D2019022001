function getChrome69Version(){var e=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/);return null!=e&&5==e.length&&"69"===e[1]&&Number(e[1]+"."+e[2]+e[3]+e[4])<69.034971}function formSubmit(){var e=($j(".request-modal .darkGrey").html(),$j("#preventClick")),t=e.attr("data-user-id");$j.ajax({url:$j("#friendRequestForm").attr("action"),data:$j("#friendRequestForm").serialize(),type:"POST",dataType:"JSON",beforeSend:function(){$j(".friend_"+t).find("button").children().addClass("visuallyHidden"),$j(".friend_"+t).find("button").append('<span class="spinner" />')},success:function(n){"undefined"!=typeof friendRequestModal&&friendRequestModal.closeModal(),$j(".friend_"+t).find("button").children().removeClass("visuallyHidden"),$j(".friend_"+t).find("button").find(".spinner").remove(),"SENT"==n.success&&($j(".friend_"+t).find("button").attr("data-friends",1),$j(".friend_"+t).removeClass("removeFriend add").addClass("sent"),n.subscribed&&($j(".subscribe_"+t).find("button").attr("data-subscribed",1),$j(".subscribe_"+t).removeClass("subscribe").addClass("unsubscribe"),$j(".subscribe_"+t).find(".buttonLabel").text("Subscribed")),1==e.attr("data-refresh")&&location.reload(),$j(".friend_"+t).find(".buttonLabel").text(n.text_initial))}})}function displayConfirmEmailPop(e){var t=document.getElementById("confirmEmailModal");t&&(confirmEmailModal=new MG_Modal({content:t,className:"infoModalContainer"})),void 0!==confirmEmailModal&&confirmEmailModal.openModal(function(t,n){txtMessage=n.querySelectorAll(".text"),txtMessage[0].innerHTML=e})}function checkPopTarget(e){var t=e.target,n=e.currentTarget,a=$j(n).find(".avatarPosition").get(0);return!((!$j.contains(n,t)||$j.contains(a,t))&&n!=t)}function avatarLoad(){var e=$j("body").hasClass("logged-out");$j(document).on({mouseenter:function(t){if(0==$j(this).data("disable-popover")){var n=t.currentTarget;if($j(t.target).is(".avatarTrigger")&&$j(".avatarPosition").html("")||$j(t.currentTarget).is(".usernameWrap")&&$j(".avatarPosition").html("")&&checkPopTarget(t)||$j(t.currentTarget).is(".userLink")){timeout.timer&&clearTimeout(timeout.timer);var a=$j(this).data("type");timeout.el=this,timeout.timer=setTimeout(function(t){cache[$j(n).data(a+"id")]?e&&$j(".avatarPosition",timeout.el).html(cache[$j(n).data(a+"id")]):$j.ajax({type:"POST",url:"/"+a+"/hover?id="+$j(n).data(a+"id"),dataType:"html",context:this,cache:!1,success:function(t){$j(n).find(".avatarPosition").html(t),$j(".avatarPopOver").hide(),$j(n).find(".avatarPopOver").show();var r=$j(".avatarPopOver");r.offset().left+r.width()>$j(".wrapper").width()?r.addClass("popOverEdge"):r.removeClass("popOverEdge"),e&&(cache[$j(timeout.el).data(a+"id")]=$j(".avatarPosition",timeout.el).html())}})},500)}}},mouseleave:function(t){if(0==$j(this).data("disable-popover")){var n=$j(this).data("type");e&&(cache[$j(this).data(n+"id")]=$j(".avatarPosition",this).html()),$j(".avatarPopOver").hide().appendTo("body"),clearTimeout(timeout.timer)}}},".avatarWrap, .usernameWrap, .userLink")}function loadJS(e,t){$j.getScript(e).done(function(e,n){"function"==typeof t&&t()})}function backToPH(){var e=$j(this).data();$j.ajax({url:e.logout,type:"POST"}).done(function(){$j.ajax({url:premiumRedirectCookieURL+"&do=delete",cache:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done(function(){window.location.href=e.redirect})})}var isScrolling,isChrome69=getChrome69Version();page_params.chrome_69_bandaid={iframes:[]},$j("iframe").each(function(){page_params.chrome_69_bandaid.iframes.push({element:$j(this),h:$j(this).height()})}),isChrome69&&(window.addEventListener("scroll",function(e){window.clearTimeout(isScrolling),isScrolling=setTimeout(function(){for(var e=0;e<page_params.chrome_69_bandaid.iframes.length;e++){var t=page_params.chrome_69_bandaid.iframes[e];t.element.height(t.h+1),t.element.height(),t.element.height(t.h)}},66)},!1),$j(document).ready(function(){for(var e=0;e<page_params.chrome_69_bandaid.iframes.length;e++){var t=page_params.chrome_69_bandaid.iframes[e];t.element.height(t.h+1),t.element.height(),t.element.height(t.h)}})),isLogged,head.ready(document,function(e){$j(document).on("click","li.item",function(e){var t=new Date;t.setTime(t.getTime()+3e4);var n=$j(this).find($j(".soughtValue")),a=$j(this).hasClass("pornstar"),r=$j(this).hasClass("channel"),i=n.length?n.text():$j("#searchInput").val(),o={to:encodeURI($j(this).text()),from:encodeURI(i)},s={};a?s.psu=o:r?s.csu=o:s.qsu=o,document.cookie="autocomplete_search="+JSON.stringify(s)+";expires="+t.toUTCString()+";path=/"}),$j(document).on("click","a.relatedItem",function(){var e=new Date;e.setTime(e.getTime()+3e4);var t=$j("#searchInput").val().trim(),n={from:encodeURI(t)};document.cookie="related_search="+JSON.stringify(n)+";expires="+e.toUTCString()+";path=/"}),$j(document).on("click",".js-trendSearch",function(){var e=new Date;e.setTime(e.getTime()+3e4),document.cookie="trending_search= "+encodeURI($j(this).text())+";expires="+e.toUTCString()+";path=/"}),$j("body").on("click","#preventClick",function(e){$j(this).attr("disabled","disabled"),"Add a personal message (optional)..."==$j("#messageRequest").val()&&$j("#messageRequest").val(" "),formSubmit()}),$j("ul#curentItemCategory li").on("click",function(){$j.cookie("currentCategory",$j(this).data("category"))});var t=$j("#menuItem3 > a, .categoryDefault").attr("href");switch($j.cookie("currentCategory")){case"al":t+="?o=al",$j("#menuItem3 > a, .categoryDefault").attr("href",t);break;case"mv":t+="?o=mv",$j("#menuItem3 > a, .categoryDefault").attr("href",t);break;case"mp":t=t,$j("#menuItem3 > a, .categoryDefault").attr("href",t)}"Explorer"==BrowserDetect.browser&&BrowserDetect.version<8||avatarLoad(),$j(document).on("focus","textarea[data-val]",function(){$j(this).attr("data-val")==$j(this).val()&&$j(this).val("")}),$j(document).on("blur","textarea[data-val]",function(){""==$j(this).val()&&$j(this).val($j(this).attr("data-val"))})}),head.ready(document,function(e){function t(e,n,a){e.preventDefault(),$currentElement=$j(void 0!==n?n:this),$parentElement=$currentElement.closest(".subscribeButton"),$allElement=$parentElement.attr("data-button-id"),$toggleUrl=0==$currentElement.attr("data-subscribed")?$currentElement.attr("data-subscribe-url"):$currentElement.attr("data-unsubscribe-url"),$loggedIn=$currentElement.attr("data-login"),$refresh=$currentElement.attr("data-refresh"),$partnerConfirmationText=0==$currentElement.attr("data-subscribed")?"By subscribing to this content partner you are also subscribing to all of their channels, would you like to continue?":"By unsubscribing from this content partner you are also unsubscribing from all of their channels, would you like to continue?",$contentPartner=$currentElement.attr("data-content-partner"),$isPornhubUser=$currentElement.attr("data-is-pornhub"),$showHiddenModal=$currentElement.attr("data-hidden"),1==$loggedIn?signinbox.show(textPHTranslation.loginTitleSubscribe):0==$isPornhubUser&&1==$contentPartner&&!0!==a?yesNoModal.show($partnerConfirmationText,function(){t(e,$currentElement,!0)}):1==$showHiddenModal?displayConfirmEmailPop(modalTranslationText.cannotSubscribe):$j.ajax({type:"POST",url:$toggleUrl,dataType:"JSON",beforeSend:function(){$currentElement.children().addClass("visuallyHidden"),$currentElement.append('<span class="spinner" />')},success:function(e){var t=e;$currentElement.children().removeClass("visuallyHidden"),$currentElement.find(".spinner").remove(),"PASS"==t.success?(0==$currentElement.attr("data-subscribed")?($currentElement.attr("data-subscribed",1),$j("."+$allElement).removeClass("subscribe").addClass("unsubscribe")):($currentElement.attr("data-subscribed",0),$j("."+$allElement).removeClass("unsubscribe").addClass("subscribe")),1==$refresh&&location.reload()):$currentElement.attr("disabled",1),$j("."+$allElement).find(".buttonLabel").text(t.text_initial)},error:function(){location.reload()}})}$j("body").on("mouseenter",".subscribeButton",function(){var e=$j(this).find(".buttonLabel");"Subscribed"==e.text()&&e.text("Unsubscribe")}).on("mouseleave",".subscribeButton",function(){var e=$j(this).find(".buttonLabel");"Unsubscribe"==e.text()&&e.text("Subscribed")}),$j("body").on("click",".subscribeButton button",t),$j("body").on("mouseenter",".addFriendButton",function(){var e=$j(this).find(".buttonLabel");"Friends"==e.text()?e.text("Unfriend"):"Request Sent"==e.text()&&e.text("Cancel Request")}).on("mouseleave",".addFriendButton",function(){var e=$j(this).find(".buttonLabel");"Unfriend"==e.text()?e.text("Friends"):"Cancel Request"==e.text()&&e.text("Request Sent")}),$j("body").on("click",".addFriendButton button",function(e){e.preventDefault(),$currentElement=$j(this),$parentElement=$currentElement.closest(".addFriendButton"),$allElement=$parentElement.attr("data-button-id"),$friendStatus=$currentElement.attr("data-friends"),$refresh=$currentElement.attr("data-refresh"),$toggleUrl=2==$friendStatus?$currentElement.attr("data-unfriend-url"):$currentElement.attr("data-friend-url"),$loggedIn=$currentElement.attr("data-login"),$showConfirmEmailModal=$currentElement.attr("data-show-confirm-email-modal"),$showHiddenModal=$currentElement.attr("data-hidden"),1==$loggedIn?signinbox.show(textPHTranslation.loginTitleToAddFriend):1==$showConfirmEmailModal?displayConfirmEmailPop(modalTranslationText.confirmEmail):1==$showHiddenModal?displayConfirmEmailPop(modalTranslationText.cannotAdd):1==$friendStatus?$j.ajax({type:"POST",url:$currentElement.attr("data-unfriend-url"),dataType:"JSON",success:function(e){"PASS"==e.success&&($currentElement.attr("data-friends",0).find(".buttonLabel").text("Add Friend"),$j("."+$allElement).removeClass("sent").addClass("add"))}}):$j.ajax({type:"POST",url:$toggleUrl,dataType:"JSON",beforeSend:function(){$currentElement.children().addClass("visuallyHidden"),$currentElement.append('<span class="spinner" />')},success:function(e){$currentElement.children().removeClass("visuallyHidden"),$currentElement.find(".spinner").remove(),"PASS"==e.success?0==$friendStatus?(1==$refresh&&e.auto_accepted&&($currentElement.attr("data-friends",2),location.reload()),$currentElement.attr("data-friends",1),$j("."+$allElement).removeClass("add").addClass("removeFriend")):2==$friendStatus&&($currentElement.attr("data-friends",0),$j("."+$allElement).removeClass("removeFriend").addClass("add"),1==$refresh&&location.reload()):"ATTEMPT"==e.success?builtModal(e.user.id,e.user.avatar,e.user.username,e.user.profile,$toggleUrl,$refresh):$currentElement.attr("disabled",1),$currentElement.find(".buttonLabel").text(e.text_initial)},error:function(){location.reload()}})}),$j("body").on("click",".suggestedBox button.dismiss",function(e){e.preventDefault(),$j.ajax({type:"GET",url:$j(this).attr("data-url"),dataType:"json",success:function(e){"OK"===e&&$j(".suggestedBox").addClass("hidden noOverflow")}})}),$j(".suggestedBox").removeClass("hidden"),setTimeout(function(){$j(".suggestedBox").removeClass("noOverflow")},500),$j("body").on("blur, keyup",".pornstarsList",function(){$j(this).val($j(this).val().replace(/[\<\>|\[\]|\{\}|\(\)]/gi,""))}),$j("body").on("click",".js-okBtn",function(e){e.preventDefault(),confirmEmailModal.closeModal()});var n=document.querySelector(".nf-categories-sidebar .sidebar_wrapper.js-mxpParent");n&&MG_Utils.addClass(n,"domReady"),$j("body").on("click",".js-moreAction",function(e){$j(e.target).siblings("#profileBlockReport").children(".blockAndReportSubscribers").toggleClass("hidden")});var a,r;$j("body").on("mouseover",".js-moreAction",function(e){a=$j(e.target).children(".tooltiptext"),r=$j(e.target).children(".triangle"),a.removeClass("hidden"),r.removeClass("hidden")}),$j("body").on("mouseout",".js-moreAction",function(e){a=$j(e.target).children(".tooltiptext"),r=$j(e.target).children(".triangle"),a.addClass("hidden"),r.addClass("hidden")})});var confirmEmailModal,cache={},timeout={timer:null,el:null};head.ready(document,function(){if(isLogged&&($j("#notificationIcons .notificationIcon").on("click",function(e){var t=$j(this),n=t.data("title"),a=t.data("type");$j("#notificationBox .titleContainer").text(n),$j("#notificationBox").data("type",a),$j("#notificationBox").attr("type",a),$j("ul#modelNotificationList > li, .handle3, .track3").hide(),$j("#notificationBox #loadingDiv").show(),setTimeout(function(){insertNotificationContent()},100)}),$j("#notificationBox").on("click",".subscribeConfirm label",function(){checkbox=$j(this).siblings("input"),fakeCheckbox=$j(this).find(".fakeCheckBox"),checkbox.prop("checked")?fakeCheckbox.removeClass("checked"):fakeCheckbox.addClass("checked")}),$j("#notificationBox").on("click",".friendRequestItem .btnFlag",function(){var e=this;yesNoModal.show("Are you sure you want to report as spam and reject this request?",function(){reportSpam($j(e).data("userid"))})}),$j("#notificationBox").on("click",function(e){e.stopPropagation()})),$j("#languages li a, .languages li a").on("click",function(){if($j.cookie("lang",$j(this).data("lang"),{domain:$j(this).data("root"),expires:30,path:"/"}),location.hash!=this.hash)return location.href=(-1==this.href.indexOf("#")?this.href:this.href.substring(0,this.href.indexOf("#")))+location.hash,!1}),$j("#js-backToPH").on("click",backToPH),$j(".js-videoThumbFlip").on("mouseenter",function(){$j(this).data("mediabook")&&$j("#js-mediaVideoUrl").attr("src",$j(this).data("mediabook"))}).on("mouseleave",function(){$j("#js-mediaVideoUrl").removeAttr("src")}),$j(".js_premiumLogOut").on("click",function(e){e.preventDefault();var t=$j(this);$j.ajax({url:premiumRedirectCookieURL+"&do=delete",cache:!1,crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(){document.location.href=t.attr("href")})}),document.getElementById("js-networkBar")){var e=document.getElementById("js-networkBar"),t=e.querySelector(".languageDropdown").querySelectorAll("li");t&&[].forEach.call(t,function(e){MG_Utils.addEventHandler(e,"click",function(){var t=MG_Utils.getData(e,"lang");setCookieAdvanced("lang",t,30,"/",removeSubdomain(window.location.host))})})}}),function(){(function(){function e(e){var t=e.getBoundingClientRect(),n=document.documentElement;return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||n.clientHeight)&&t.left<=(window.innerWidth||n.clientWidth)}function t(){a&&MG_Utils.addEventHandler(window,"scroll",r)}var n,a=document.querySelector(".js-elInViewPort"),r=MG_Utils.debounce(function(){var t=0,i=document.querySelectorAll(".js-whenInView");i.length;if(e(a)){if(n)return void MG_Utils.removeEventHandler(window,"scroll",r);if(i&&i.length){for(t;t<i.length;t++)i[t].setAttribute("src",i[t].getAttribute("data-image"));n=!0}}},125);return{init:t}})().init(),function(){var e=document.querySelector(".relatedCategoriesWrapper");e&&0==e.querySelector(".nf-categories").querySelectorAll(".show").length&&MG_Utils.addClass(e,"hidden")}()}(),function(){if("undefined"!=typeof MPP_EXCLUSIVE_TERMS)try{var e=document.getElementById("modelMPPExclusive"),t=new MG_Modal({content:e,className:"modelMPPExclusiveModal",closeButton:!1,closeDocument:!1,maxWidth:"500px",minWidth:"500px"});t.openModal(function(){var e=document.getElementById("modalWrapMTubes");if(e){var n=e.querySelector(".modelMPPForm"),a=e.querySelector(".modelMPPSubmit"),r=(e.querySelectorAll(".js-modelMPPInput"),e.querySelector(".js-modelMPPInputIntial")),i=e.querySelector(".js-modelMPPError"),o=e.querySelector(".js-modelMPPErrorMessage"),s={errors:[],checked:!1},l=function(e){if(s.errors.push(e),i&&o)return MG_Utils.removeClass(i,"isHidden"),s.errors.forEach(function(e){o.innerHTML=e})},d=function(){i&&o&&(MG_Utils.addClass(i,"isHidden"),o.innerHTML="")},c=function(e){MG_Utils.hasClass(e.target,"js-modelMPPInput")&&(d(),s.checked=!0)},u=function(n){if(MG_Utils.hasClass(n.target,"modelMPPSubmit"))return n.preventDefault(),s.checked?""===r.value?l(MPP_EXCLUSIVE_TERMS.errorIntials):/^[a-zA-Z]+$/.test(r.value)?r.value.length>=3?l(MPP_EXCLUSIVE_TERMS.errorLimit):void MG_Utils.ajaxCall({url:MPP_EXCLUSIVE_TERMS.endPoint,data:{exclusive:e.querySelector(".js-modelMPPInput:checked").value,initials:e.querySelector(".js-modelMPPInputIntial").value},type:"POST",success:function(e){e.success?t.closeModal():l(e.message)}}):l(MPP_EXCLUSIVE_TERMS.errorAlpha):l(MPP_EXCLUSIVE_TERMS.errorChecked)},m=function(e){MG_Utils.hasClass(e.target,"js-modelMPPInputIntial")&&d()},f=function(e){13===event.keyCode&&a.click()},h=function(e){e.preventDefault()};document.addEventListener("change",c),document.addEventListener("click",u),document.addEventListener("focus",m,!0),r.addEventListener("keyup",f),n.addEventListener("submit",h)}})}catch(e){console.log("MPP Eclusive: ",e)}}();