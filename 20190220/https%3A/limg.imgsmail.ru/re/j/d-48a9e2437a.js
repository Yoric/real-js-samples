!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=23)}([function(t,e){t.exports=$},function(t,e){t.exports=mr},function(t,e,n){"use strict";n(5);var r=n(1),i=n.n(r),o=/-/g,a=/\s+/,s=/-(.)/g,u=function(t,e){return e.toUpperCase()},c={}.hasOwnProperty,l=[];function d(t,e){var n=t.__emList;return e=e.toLowerCase().replace(o,""),void 0===n?(n=t.__emList={})[e]=[]:void 0===n[e]&&(n[e]=[]),n[e]}var f=function(){};function h(t){if(t instanceof h)return t;if(t.type){for(var e in t)c.call(t,e)&&(this[e]=t[e]);t=t.type}this.type=t.toLowerCase().replace(o,"")}f.fn=f.prototype={constructor:f,on:function(t,e){for(var n=(t=t.split(a)).length;n--;)d(this,t[n]).push(e);return this},off:function(t,e){if(void 0===t)this.__emList=t;else for(var n=(t=t.split(a)).length;n--;){var r=d(this,t[n]),i=r.length,o=-1;if(1===arguments.length)r.splice(0,1e5);else{if(r.indexOf)o=r.indexOf(e);else for(;i--;)if(r[i]===e){o=i;break}-1!==o&&r.splice(o,1)}}return this},one:function(t,e){var n=function(){return this.off(t,n),e.apply(this,arguments)};return this.on(t,n)},emit:function(t,e){var n,r,i,o,a,c=d(this,t),f=c.length;if((t="on"+t.charAt(0).toUpperCase()+t.substr(1)).indexOf("-")>-1&&(t=t.replace(s,u)),"function"==typeof this[t]&&(o=this[t].apply(this,[].concat(e))),f>0)for(a=(e=void 0===e?l:[].concat(e)).length;f--;)r=this,void 0!==(n=c[f])&&(void 0!==n.handleEvent&&(r=n,n=n.handleEvent),void 0!==(i=0===a?n.call(r):1===a?n.call(r,e[0]):2===a?n.call(r,e[0],e[1]):n.apply(r,e))&&(o=i));return o},trigger:function(t,e,n){var r=new h(t);return r.target=r.target||this,r.details=n,r.result=this.emit(t.type||t,[r].concat(e)),this}},h.fn=h.prototype={constructor:h,defaultPrevented:!1,propagationStopped:!1,isDefaultPrevented:function(){return this.defaultPrevented},preventDefault:function(){this.defaultPrevented=!0},stopPropagation:function(){this.propagationStopped=!0},isPropagationStopped:function(){return this.propagationStopped}},f.apply=function(t){return t.on=f.fn.on,t.off=f.fn.off,t.one=f.fn.one,t.emit=f.fn.emit,t.trigger=f.fn.trigger,t},f.version="0.4.0",f.Event=h,f.getListeners=d;var p={},m={},v=function(){function t(t){this.queryClassNames=[],this.listenStates=[],this.isAsync=!1,this.isInited=!1,this.isReady=!1,this.init()}return Object.defineProperty(t.prototype,"tpl",{get:function(){return t.templates[this.id]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.__id||this.name},enumerable:!0,configurable:!0}),t.addInstance=function(e){p[e.id]||(p[e.id]=[]),p[e.id].push(e),e.isAsync||(e.isReady=!0,t.emit(e.id+".inited",e))},t.waitFor=function(e,n){return m[e]||(m[e]=new Promise(function(r,i){var o=p[e];o&&o.length&&o[0].isReady?r(o[0]):(t.one(e+".inited",function(t){return r(t)}),n&&setTimeout(function(){i({message:e,type:"timeout"})},n))}))},t.attachTemplate=function(e,n){t.templates[e]=n},Object.defineProperty(t.prototype,"inited",{get:function(){return this.isInited},enumerable:!0,configurable:!0}),t.prototype.setInited=function(){this.isInited=!0},t.prototype.render=function(t,e){e.state},t.prototype.init=function(){},t.prototype.emitReady=function(){this.isAsync&&(this.isReady=!0,t.emit(this.id+".inited",this))},t.templates={},t}();f.apply(v),f.apply(v.prototype);var _=v,g=n(0),y=n.n(g),b=y.a.util,w=y.a.dom,x={template:function(t){return(mr.tpl[t.template]||mr.tpl["news-item"])(t)}},S=function(){function t(t,e){this._options=b.extend({},x,e),this.setData(t),this._el=void 0,this._clientRect=null}return t.factory=function(e,n){var r=t.getUid(e),i=t.itemsMap[r];return i?i.setData(e):i=t.itemsMap[r]=new this(e,n),i},t.prototype.setData=function(t){this._data=t||{},this._data.mods||(this._data.mods=new Set),this._lastRenderHash=void 0},t.prototype.getElement=function(t,e){void 0===e&&(e=!1);var n=this._data,r=this._options.mods,i=!this._el||e;"function"==typeof r?n.mods=r(this,t):b.isArray(r)&&r.forEach(function(t){n.mods.add(add)});var o=[];n.mods.forEach(function(t){o.push(t)});var a=o.sort().join("|");return a!==this._lastRenderHash&&(this._lastRenderHash=a,i=!0),i&&(this._el&&this.constructor.elItemMap.delete(this._el),this._el=this._render(t),this.constructor.elItemMap.set(this._el,this),this._clientRect=null),this._el},t.prototype.getHeight=function(){return this.getElementBoundBox().height},t.prototype.getCountableBoundBox=function(){return this.getElementBoundBox()},t.prototype.getElementBoundBox=function(t){return void 0===t&&(t=!1),this._clientRect=this._el.getBoundingClientRect(),this._clientRect},t.prototype.getData=function(){return this._data},t.getItemByElement=function(t){return this.elItemMap.get(t)},t.getUid=function(t){return(t.template||"news")+":"+t.id},t.prototype._render=function(){return w.createElement(this._options.template(this))},t}(),C=S;S.elItemMap=new WeakMap,S.itemsMap={};var O=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=y.a.util,I=y.a.dom,j=E.throttle,N=E.isArray,k={template:void 0,hostElement:void 0,tabs:{},defaultTab:"",counters:{scroll:{},scrollRetarget:{}},counterFn:!1,scrollContainer:void 0},P=function(t){function e(e){var n=t.call(this)||this;return n._options=E.extend({},k,e),n._windowHeight=void 0,n._itemsOnPage=void 0,n._tab=void 0,n._tabCounters={},n._initialData={},n._actualData={},n._lazyScrollHandler=j(n._onScroll.bind(n),300),n._lazyResizeHandler=j(n._onResize.bind(n),300),n._lastState=void 0,n._sources={},n._itemFactories={},n._features=[],n._scrollOffsets={},n._ignoreNextScroll=!1,n._onItemClickEvt=n._onItemClickEvt.bind(n),n._mediaOrder=void 0,n._blockOffset=0,n._itemsOffsets=[],n._currentScrollCounter=0,n}return O(e,t),e.prototype.render=function(t,e){var n=e.state;!n.isInitial()&&this.el||(this._prepareElement(),E.merge(this._initialData,this._mergeSources(t))),this._lastState&&n.isEqual(this._lastState)||(this._getItemHeight(!0),this._lastState=n),this._isRenderNeeded()&&this.tabSet(mr.tab()||this._options.defaultTab,!0)},e.prototype.tabSet=function(t,e){var n=this;void 0===e&&(e=!1),(e||this._tab!==t)&&(this._tab&&this.emit("tabLeave",this._tab),this._tab=t,this._tabCounters[t]||(this._tabCounters[t]=[]),this.emit("tabSet",t),this.fetchData(!0).then(function(t){t=t||[],n._showItems(t,!0),n._getFeedRemainHeight()&&n._onScroll(),n._options.saveScroll&&n._restoreScroll()}))},e.prototype.tabLeave=function(t){this._options.saveScroll&&this._saveScroll()},e.prototype.fetchData=function(t){void 0===t&&(t=!1);var e,n=this._tab,r=this._initialData[n],i=this._actualData[n];if(this._loadingState())return window.Promise.resolve([]);if(this._loadingState(!0),r)if(t){var o=this._getPageItemsCount();i&&i._itemsOnPage!==o&&(r.unshift.apply(r,i),i=this._actualData[n]=void 0),i||((i=this._actualData[n]=r.splice(0,o))._itemsOnPage=o),(e=i).forceReset=!0}else r.length&&(e=r.splice(0,this._getPageItemsCount()),i||(i=this._actualData[n]=[]),i.push.apply(i,e));else;return e||(e=[]),e.isLast=r&&!r.length,this._loadingState(!1),Promise.resolve(e)},e.prototype.registerSource=function(t,e){this._sources[t]=e,e.setFeed(this)},e.prototype.addItemClass=function(t,e){var n=function(n){return t.factory(n,e)};n.class=t,n.options=e,this._itemClassName=t.name,this._itemFactories[t.name]=n},e.prototype.setFeatures=function(t){var e=this;this._features=(t||[]).filter(function(t){return t}).reduce(function(t,n){var r=n.project,i=n.items;return t[r]=i.map(function(t){var n=t.id,i=t.nid,o=t.title,a=t.url;return!e.existInOtherNews(a)&&E.merge({id:r+":"+n,project:r,counterId:"n"+i,alt:o||"",template:"hero"},t)}),t},{})},e.prototype.setWidgets=function(t){this._widgets=E.cloneObject(t)||{}},e.prototype._showItems=function(t,e){var n=this,r=document.createDocumentFragment(),i=this.el.children.length+1;e&&(I.removeElementChilds(this.el),i=1,this._itemsNew=[]),(t||[]).forEach(function(t,e){var o=i+e,a=n._itemFactories[n._itemClassName];if(a){var s=a(t),u=s.getElement(o);u.addEventListener("mousedown",n._onItemClickEvt),r.appendChild(u),t.template&&_.waitFor(t.template).then(function(e){e.setElement?e.setElement(u):e.element=e.el=u,mr.update(t.template,t)}),n._itemsNew.push(s)}}),this.el.appendChild(r),t&&!t.isLast||this._createMoreLink(),setTimeout(function(){return n._checkVisibleItems()},100),this._collectItemsShift(6)},e.prototype._isUniqueCounter=function(t){var e=this._tabCounters[this._tab];return-1===e.indexOf(t)&&!!e.push(t)},e.prototype._onItemClick=function(t){},e.prototype._onItemClickEvt=function(t){var e=t.currentTarget,n=C.getItemByElement(e),r=!1;if(n){var i=this._sources[n.getData()._sourceId];n.onClick&&(r=!1===n.onClick(t)||t.defaultPrevented),!r&&i&&i.onItemClick&&(r=!1===i.onItemClick(n,t)||t.defaultPrevented),r||(r=!1===this._onItemClick(n,t)||t.defaultPrevented)}return n?!r:void 0},e.prototype._isRenderNeeded=function(){var t=!1;return this._lastState.isInitial()&&(t=!0),t},e.prototype._getItemElement=function(t){if(!t)return"";var e=mr.tpl[t.template]||mr.tpl["news-item"];return I.createElement(e(t))},e.prototype._prepareElement=function(){(this._options.scrollContainer||window).addEventListener("scroll",this._lazyScrollHandler),window.addEventListener("resize",this._lazyResizeHandler),this.el=I.replaceWithHtml(this._options.hostElement,'<div class="'+this._options.baseClassName+'"></div>')},e.prototype._getWindowHeight=function(){return this._windowHeight||(this._windowHeight=document.documentElement.clientHeight),this._windowHeight},e.prototype._getItemHeight=function(t){return void 0===t&&(t=!1),100},e.prototype._getPageItemsCount=function(){var t=this._getWindowHeight()-this.el.getBoundingClientRect().top;return this._itemsOnPage=Math.ceil(t/this._getItemHeight())+4,this._itemsOnPage},e.prototype._checkVisibleItems=function(){for(var t=this,e=this._itemsNew.length,n=this._getContainerBox().bottom,r=0,i=0;i<e;i++){var o=this._itemsNew[i].getCountableBoundBox();if(o.top&&o.top<=n&&o.bottom<=n&&r++,o.bottom>n)break}for(var a=this._itemsNew.splice(0,r),s=[],u=[],c={},l=a.length;l--;){var d=a[l],f=d.getData();!f._sourceId||f._isWidget||f._isFeature||(c[f._sourceId]||(c[f._sourceId]=[])).push(d),f.nid&&this._isUniqueCounter("nid"+f.nid)&&s.push(f.nid),f.isProjectMedia&&f.bid&&this._isUniqueCounter("bid"+f.bid)&&u.push(f.bid)}Object.keys(c).forEach(function(e){t._sources[e]&&t._sources[e].onItemsShow(c[e])}),s.length&&mr.counter.links(s),u.length&&mr.counter.bulk("imp",u)},e.prototype._onScroll=function(){var t=this;this._ignoreNextScroll?this._ignoreNextScroll=!1:(this._getFeedRemainHeight()<4*this._getItemHeight()&&this.fetchData(!1).then(function(e){return t._showItems(e,!1)}),this._tab===this._options.defaultTab&&this._isReadyToGetOffset&&(this._processScrollCounter(),this._checkVisibleItems()))},e.prototype._getContainerBox=function(){var t=this._options.scrollContainer;return t?t.getBoundingClientRect():{top:0,bottom:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},e.prototype._getFeedRemainHeight=function(){var t=this._getContainerBox().bottom;return this.el.getBoundingClientRect().bottom-t},e.prototype._createMoreLink=function(t){void 0===t&&(t=null),t=t||this._tab},e.prototype._getScroll=function(){return this._options.scrollContainer?this._options.scrollContainer.scrollTop:I.scroll("top")},e.prototype._saveScroll=function(t){void 0===t&&(t=null);this._options.scrollContainer;this._scrollOffsets[t||this._tab]=this._getScroll()},e.prototype._restoreScroll=function(t){void 0===t&&(t=null);var e=this._options.scrollContainer,n=this._getScroll(),r=this._scrollOffsets[t||this._tab]||0;n!==r&&(this._ignoreNextScroll=!0,e?e.scrollTop=r:I.scroll("top",r))},e.prototype._onResize=function(){this._windowHeight=null,this._onScroll()},e.prototype._loadingState=function(t){var e=this;return void 0!==t&&(t?this._isLoading=new window.Promise(function(t){e._loadingResolve=t}):(this._isLoading=!1,this._loadingResolve&&(this._loadingResolve(),this._loadingResolve=void 0))),this._isLoading},e.prototype._mergeSources=function(t){var e=this,n=this._createEmptyFeed();return t=t.reduce(function(t,e){return t[e.source]=e.data,t},{}),Object.keys(this._sources).forEach(function(r){var i=e._sources[r],o=t[r]?i.process(t[r]):{};Object.keys(o).forEach(function(t){var e=o[t];e.length&&(e.forEach(function(t){return t._sourceId=r}),n[t]=e)})}),n},e.prototype._createEmptyFeed=function(){return Object.keys(this._options.tabs).reduce(function(t,e){return t[e]=[],t},{})},e.prototype.existInOtherNews=function(t){for(var e in this._features)if({}.hasOwnProperty.call(this._features,e))for(var n=this._features[e],r=n.length;r--;){var i=n[r];if(i&&(i.url.indexOf(t)>-1||t.indexOf(i.url)>-1))return!0}},e.prototype._injectIncut=function(t,e){var n,r,i=!this._incutOrder;if(!i&&this._incutOrder.length||(this._incutOrder=[].concat(this._options.incutOrder||[])),this._featureOrder&&this._featureOrder.length||(this._featureOrder=[].concat(this._options.featureOrder||[])),this._widgetOrder||(this._widgetOrder=[].concat(this._options.widgetOrder||[])),"stub"!==this._incutOrder.shift()&&(this._isLastWidget||(this._isLastWidget=n=this._injectWidget(t,this._widgetOrder.shift(),e)),!n&&t.length&&!i)){for(var o=0,a=void 0;!r&&(a=this._featureOrder.shift())&&o<this._featureOrder.length;o++)r=this._injectFeature(t,a,e);this._isLastWidget=!r}return!(!n&&!r)},e.prototype._injectWidget=function(t,e,n){var r="widget/"+e,i=this._widgets&&this._widgets[e],o=!1;if(t=t||[],i){if(N(i.mods)){var a=new Set;i.mods.forEach(function(t){a.add(t)}),i.mods=a}mr.tpl[r]&&(i.template=r),i._isWidget=!0,void 0===n?t.push(i):t.splice(n,0,i),delete this._widgets[e],o=!0}return o},e.prototype._injectFeature=function(t,e,n){for(var r=!1,i=this._features[e]&&this._features[e].length||0,o=0;o<i;o++){var a=this._features[e][o];if(a&&!a._injected){a=E.extend(a,{label:this._options.tabs[a.project],_isFeature:!0}),void 0===n?t.push(a):t.splice(n,0,a),a._injected=r=!0;break}}return r},e.prototype._collectItemsShift=function(){var t=this;this._itemsOffsets=E.toArray(this.el.children).reduce(function(e,n,r){return t._options.counters.scroll&&t._options.counters.scroll[r+1]&&(e[r+1]=n.offsetTop),e},{})},e.prototype._processScrollCounter=function(){var t=this,e=this.el.getBoundingClientRect().top,n=this._getWindowHeight();Object.keys(this._itemsOffsets).some(function(r,i){var o=t._itemsOffsets[r];if(i>=t._currentScrollCounter&&n>=e+o){var a=t._options.counters.scroll[r],s=t._options.counters.scrollRetarget[a];return a&&t._counter("d"+a),s&&t._counter(s,"retarget"),t._currentScrollCounter++}return!1})},e.prototype._counter=function(t,e){var n=this._options.counterFn;if(n&&"function"==typeof n)return n(t,e)},e}(_),R=y.a.util,M=(y.a.dom,{mainFeed:!0,filter:function(t){return t}}),T=function(){function t(t){this._options=R.extend({},M,t),this._tabCounters={}}return t.prototype.setFeed=function(t){var e=this;this.feed=t,t.on("tabSet",function(n){var r=e._tabCounters[n];r&&t._counter("d"+r)})},t.prototype.process=function(t){var e=this,n={},r=[],i=this.feed._options,o=i.tabs,a=i.defaultTab;return t.forEach(function(t){if(t){var i=t.id,a=t.items,s=t.tab;"kino"===s&&(s="cinema"),r.indexOf(i)<0&&r.push(i),s&&s!==e.feed._options.defaultTab&&(e._tabCounters[s]=i);var u=[];a.forEach(function(t){if(e._options.filter(t)){var n,r=t.id,i=(t.url,t.title),a=t.nid,c=t.label,l=t.isProjectMedia,d=c;d&&!o[d]&&(d="regional"),s||l||(s=d),d&&(n=d+":"+r),c=l?o[d]:null,u.push(R.merge({id:r,elementId:n,label:c,project:d,counterId:"n"+a,alt:i||"",isProjectMedia:l},t))}}),s&&(n[s]=u)}}),this._options.mainFeed&&(n[a]=this._makeMainFeed(n),n[a]=(n[a]||[]).map(function(t){var e=R.extend({},t,{counterId:t.counterId+"sz16"});return e=R.merge({label:o[t.project]},e)})),n},t.prototype.onItemsShow=function(t){},t.prototype.onItemClick=function(t){},t.prototype._makeMainFeed=function(t){var e=this,n=R.cloneObject(t)||{},r=this.feed._options,i=r.mediaOrder,o=r.defaultTab,a=[];return i.forEach(function(t){if(t in n){var r=3-/realty|health|deti/.test(t),i=e._getUniqueItems(n[t],r);i.length&&(mr.switches.noDesc&&i.forEach(function(t){return t.desc=null}),e.feed._injectIncut(a),a=a.concat(i))}}),a.length?a:t[o]},t.prototype._getUniqueItems=function(t,e){for(var n=this,r=[];t.length&&e;){var i=t.splice(0,e).filter(function(t){return!n.feed.existInOtherNews(t.url)});r.push.apply(r,i),e-=i.length}return r},t}();n.d(e,"a",function(){return D}),n.d(e,"c",function(){return $});var A=g.dom.id,L=g.dom.addClass,q=g.dom.removeClass,F=g.dom.createElement,H=g.util.merge,B=g.util.each,D=(g.util.extend,{}),z=Object(g.radar)("blocks").group(),U=function(t,e){t.render(e)},W=function(t,e){U(t,e)};function $(t,e){U=t,W=e}var X,K=function(t){return D.hasOwnProperty(t)?D[t]:null};window.Splash={DOMEvent:{on:function(t,e,n,r){g.dom.isNode(e)&&(t?e.addEventListener(n,r,!1):e.removeEventListener(n,r,!1))}}},P.BaseItem=C,P.RbSource=T;e.b={add:function(t,e,n){var r;t instanceof _?(t=(r=t).id,n=e):r=H(e,{name:t,id:t,render:function(){},get inited(){return this.isInited},setInited:function(){this.isInited=!0}}),D[t]=r,z.time(t),W(r,n),_.addInstance(r),z.timeEnd(t)},get:K,update:function(t,e){var n=K(t);n&&(i.a.data[t]=e,U(n,e))},iterate:function(t){B(D,function(e,n){K(n)&&t.call(null,e,n)})},tab:function(t,e){if(t){var n="set"===t;n?X=e:e&&_.waitFor("widget/music").then(function(t){return t.onTabLeave()}),_.waitFor("grid").then(function(t){n?(t.el.classList.add("is-"+e),t.el.classList.add("is-animate-tab"),setTimeout(function(){return t.el.classList.remove("is-animate-tab")},500)):e&&t.el.classList.remove("is-"+e)}),_.waitFor("mediaprojects").then(function(t){n?t.tabSet(e):e&&t.tabLeave(e)}),_.waitFor("news").then(function(t){return n&&t.set(e)}),_.waitFor("feed").then(function(t){return n&&t.tabSet(e)})}return X||(X=i.a.data.tabs&&i.a.data.tabs.autoopen?"regional":"main"),X},replace:function(t,e){_.waitFor(t).then(function(t){t.destroy&&t.destroy(),Object(g.insertBlock)(e,i.a.hashmap[e],t.el)})},addInlineData:function(t,e){i.a.data[t]=e,g.dom.killElement(g.dom.getScriptOrigin())},id:A,addClass:L,removeClass:q,createElement:F,Block:_,Feed:P}},function(t,e,n){"use strict";n.d(e,"b",function(){return y}),n.d(e,"a",function(){return b});var r=n(1),i=n.n(r),o=n(0),a=n.n(o),s=a.a.util,u=s.toArray,c=s.each,l=s.extend,d=a.a.url.makeUrl,f=/^(?:cl([bn])|([adgin]))(\d+)(?:sz(\d+))?/,h=i.a._.EXPERIMENTID||null,p=i.a._.SITEZONE||null,m="//rs.mail.ru/",v="https://ad.mail.ru",_=function(t){return(new Image).src=t},g=function(t){var e;if(!(e=t.match(f)))return null;var n="",r=!1;return e[1]?n="s"+e[1]:"n"===e[2]?n="nc":"i"===e[2]?(r=!0,n=e[1]):n=e[2],{type:n,noRandom:r,num:e[3],params:[{name:"sz",value:e[4]?e[4]:p},{name:"test_id",value:h}]}};function y(t){_(d(v+"/i"+t+".gif"))}function b(){var t={d:"imp",sb:"click"},e={};u(arguments).reverse().forEach(function(t){t&&t.split(",").reverse().forEach(function(t){var n=g(t.trim());null!==n&&(e[n.type]||(e[n.type]=[]),e[n.type].push(n))})}),c(e,function(e,n){1===e.length?w(e[0]):e.length>1&&t[n]&&x(t[n],e.map(function(t){return t.num}))})}var w=function(t){if(null!==t){var e=[m,t.type,t.num,".gif"].join("");_(d(e,t.params,1<<Number(t.noRandom)<<2))}},x=function(t,e,n){t&&e&&e.length&&_(d("//rs.mail.ru/bulkstat/",[{name:"type",value:t},{name:"banner_ids",value:e.map(encodeURIComponent).join(",")},{name:"test_id",value:n||h}],5))};l(b,{bulk:x,links:function(t){t&&t.length&&_(d("//rs.mail.ru/ns.gif",[{name:"n",value:t.map(encodeURIComponent).join(",")}],1))}});document.addEventListener("mousedown",function(t){for(var e,n=[],r=t.target||t.srcElement;r.parentNode;)(e=r.getAttribute&&r.getAttribute("name"))&&n.push(e),r=r.parentNode;n.length&&b(n.join(","))})},function(t,e,n){var r;void 0===(r=function(){var t,e=!1;try{e="http://example.com/"===new URL("http://example.com/").href}catch(t){}function n(t,e){return Math.random()*(e-t+1)+t|0}var r=function(t){return Array.prototype.slice.call(t)};return{random:n,calcString:function(e,r){if(e=parseInt(e,10),function(){if(void 0===t)try{if("function"==typeof window.getComputedStyle){var e=document.createElement("div");e.style.height="calc(30px + 30px)",document.getElementsByTagName("body")[0].appendChild(e),t="60px"===window.getComputedStyle(e,null).getPropertyValue("height"),e.parentNode.removeChild(e)}}catch(e){t=!1}return t}()){for(var i=[],o=0,a=0,s=n(1,6);a<s;a++)i.push(n(-100,100)),o+=i[i.length-1];return o!==e&&i.push(e-o),"calc("+i.map(function(t){return t.toString()+r}).join(" + ")+")"}return e+r},replaceUrl:function(t,n,r){if(e&&n){var i,o=t.charAt(0),a='"'===o||"'"===o,s=0+a;i=r?t.indexOf((a?o:"")+")"):a?t.indexOf(o,s+1):t.length;var u=t.slice(s,i);try{u=new URL(u,n).href}catch(t){}return t.slice(0,s)+u+t.slice(i)}return t},replaceContent:function(t){var e=t.charAt(0),n='"'===e||"'"===e,r=Number(n),i=n?t.indexOf(e,r):t.indexOf(";",r),o=t.slice(r,i),a="";if(/^\\[a-z0-9]+$/.test(o)||!n)a=o;else for(var s=0;s<o.length;s++){var u=o[s].charCodeAt(0);isNaN(u)||(a+="\\"+u.toString(16))}return t.slice(0,r)+a+t.slice(i)},iterate:function(t,e,n){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&"length"!==r&&e.call(n||this,t[r],r)},extend:function(){var t=r(arguments),e=t.shift();return t.forEach(function(t){for(var n in t)e[n]=t[n]}),e},merge:function(){var t=r(arguments),e=t.shift();return t.forEach(function(t){for(var n in t)e[n]||(e[n]=t[n])}),e},toArray:r}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){!function(){"use strict";var e=/[\\'"\/\n\r\t\b\f<>]/g,n=/[\\'"\/\n\r\t\b\f<>]/,r=/[&<>"]/g,i=/[&<>"]/,o={'"':'\\"',"\\":"\\\\","/":"\\/","\n":"\\n","\r":"\\r","\t":"\\t","\b":"\\b","\f":"\\f","'":"\\'","<":"\\u003C",">":"\\u003E"},a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},s=/[<>]/g,u=/[<>]/,c={"<":"\\u003C",">":"\\u003E"};function l(t){return a[t]}function d(t){return o[t]}function f(t){return c[t]}var h={namespace:"fest_stdlib",core:{short_tags:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,wbr:!0},jschars:e,jschars_test:n,htmlchars:r,htmlchars_test:i,jshash:o,htmlhash:a,escapeJS:function(t){return"string"==typeof t&&n.test(t)?t.replace(e,d):null==t?"":t},replaceJS:d,escapeHTML:function(t){return"string"==typeof t&&i.test(t)?t.replace(r,l):null==t?"":t},replaceHTML:l,extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},param:function(t){return t.param=!0,t}},json:{jsonchars:s,jsonchars_test:u,jsonhash:c,replaceJSON:f,escapeJSON:function(t){return t=JSON.stringify(t),u.test(t)?t.replace(s,f):t}},plural:{format:function(t,e){return t.replace(/%./g,function(t){return"%s"===t?e:"%"})}}};new Function("stdlib","this.fest_stdlib = stdlib")(h),t.exports&&(t.exports=h)}()},function(t,e,n){var r;void 0===(r=function(){var t=1e3,e=function(t){for(var e=0;e<10;e++)t.push(e.toString());for(e=0;e<25;e++)t.push(String.fromCharCode(97+e)),t.push(String.fromCharCode(65+e));return function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t}(t)}([]),n=e.length;var r=function(){for(var t=[],n=0;t.length<5&&n<e.length;n++)(t.length>0||!/[0-9]/.test(e[n]))&&t.push(e[n]);return t.join("")}();return function(){return r+function t(r){return(r>=n?t((r/n>>0)-1):"")+e[r%n>>0]}(t++)}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){t.exports=function(){"use strict";var t=/^([a-z][a-z0-9]*)/g,e=/^\.([A-z0-9\-\_]+)/g,n=/^#([A-z0-9\-\_]+)/g,r=/^@([A-z0-9\-\_]+)="([^"]+)"/g,i=/^\*(\d+)/g,o=new RegExp('"',"g"),a=/\s+/;function s(t){for(var e,n=[],r=[];e=t.pop();){var i=document.createElement(e.tag||"div");for(var o in e.attrs||(e.attrs={}),e.id&&(e.attrs.id=e.id),e.classes&&(e.attrs.class=e.classes.join(" ")),e.attrs)e.attrs.hasOwnProperty(o)&&"length"!==o&&i.setAttribute(o,e.attrs[o]);for(var a=0,s=r;a<s.length;a++){var u=s[a];i.appendChild(u)}r.length=0,n.push(i),r.push(i);for(var o=1;o<e.multi;o++){var c=i.cloneNode(!0);n.push(c),r.push(c)}}return{baits:n,nodes:r}}function u(t){return null===t.offsetParent}function c(t,e){if(e.available){for(var n=0,r=e.styles;n<r.length;n++){var i=r[n];t.style[i.field]=i.value}var o=window.getComputedStyle(t,null);return e.styles.some(function(t){return o[t.field]!==t.value&&"auto"!==o[t.field]})}return!1}return function(){function l(t){this.config=t,this.container=null,this.styles=null,this.rules=null,this.baits=[]}return l.prototype.check=function(){try{var l=this.config,d=this.baits,f=this.rules,h=this.styles,p=this.container;if(function(t){if(t){var e=new RegExp(t);return Object.keys(window).some(function(t){return!!t.match(e)})}return!1}(l.js))return!0;if(d.length)return d.some(function(t){return u(t)||c(t,h)});f=this.rules=function(s){return s.map(function(s){var u=s.split(a),c=(s.match(o)||[]).length;if(c>0&&c%2==0)for(var l=null,d=0;d<u.length;d++)if(null===l){var f=(u[d].match(o)||[]).length;f&&f%2&&(l=d)}else u[l]+=" "+u[d],-1!==u[d].indexOf('"')&&(l=null),u[d]=void 0;return u.filter(function(t){return t}).map(function(o){var a,s={id:null,tag:null,classes:null,attrs:null,multi:1};do{t.lastIndex=0,e.lastIndex=0,n.lastIndex=0,r.lastIndex=0,i.lastIndex=0,(a=t.exec(o))?(o=o.substr(t.lastIndex),s.tag=a[1]):(a=e.exec(o))?(o=o.substr(e.lastIndex),s.classes=s.classes||[],s.classes.push(a[1])):(a=n.exec(o))?(o=o.substr(n.lastIndex),s.id=a[1]):(a=r.exec(o))?(o=o.substr(r.lastIndex),s.attrs=s.attrs||{},s.attrs[a[1]]=a[2]):(a=i.exec(o))&&(o=o.substr(i.lastIndex),s.multi=parseInt(a[1],10))}while(a&&o.length);if(o.length)throw new Error('Unparsed template: "'+o+'"');return s})})}(this.config.baits),h=this.styles=function(t){return{available:"function"==typeof window.getComputedStyle,styles:t.map(function(t){var e=t.split(/\s*:\s*/),n=e[0],r=e[1];return{field:n,value:r}})}}(this.config.css),(p=this.container=document.createElement("div")).style.position="absolute",p.style.visibility="hidden",p.style.top="-10000px",p.style.left="-10000px",document.body.appendChild(p);for(var m=0,v=f;m<v.length;m++){var _=v[m],g=s(_);if(g.baits.length){for(var y=0,b=g.nodes;y<b.length;y++){var w=b[y];p.appendChild(w)}var x=g.baits.some(function(t){return d.push(t),u(t)||c(t,h)});if(x)return!0}}}catch(t){console.error(t)}return!1},l.prototype.destroy=function(){var t=this.baits,e=this.container;e&&(document.body.removeChild(e),this.container=null),t.length=0,this.rules=this.styles=null},l.version="2.0.1",l}()}()},function(t,e,n){var r,i;r=[n(10),n(14),n(4),n(6)],void 0===(i=function(t,e,n,r){"use strict";var i,o=r(),a=0,s={names:{},reverse:{},wraps:{}},u={},c=!1,l=[],d=!1,f=/([@#:.]*)([\w$-]+)/gi,h={},p=function(){var t=["top","right","bottom","left"],e=["margin","padding"],n=["height","width","max-width","max-height","min-height","min-width"];return e.forEach(function(e){t.forEach(function(t){n.push(e+"-"+t)})}),n.concat(t,e)}();function m(t){g(t)}function v(e,n){c&&e&&t.update(e,S,n,h)}function _(e){return t.insert(e,S)}function g(e,r){e=n.extend({},h,e||{}),h=e,e.enable&&(c=!0),c&&("boolean"==typeof e.translateAll&&(d=e.translateAll),e.match&&e.match instanceof Array&&e.match.length>0&&(l=l.concat(e.match),i=new RegExp("^("+l.join("|")+")"))),t.setup(e.styleSheetsOptions),e.randomize&&(e.randomize=!0===e.randomize?p:e.randomize),e.links&&v(e.links,r),e.sheet&&_(e.sheet)}function y(t,e){return(e?e+"@@@":"")+t}function b(t,e){var n=y(t,e),o=s.names[n];return!o&&c&&(d||i&&i.test(e||t))&&(o=r(),s.names[n]=o,s.reverse[o]=t),o||t}function w(t,e){var n=x(t);return e?b(n.elem,e)+(n.mod?"_"+b(n.mod,e):""):b(n.elem)+(n.mod?"_"+b(n.mod,n.elem):"")}function x(t){var e,n=(t?""+t:"").match(/^(.*?[^_])(_([^_]+))?$/);return n&&(t=n[1],e=n[3]),{elem:t,mod:e}}function S(t){return t.replace(f,function(t,e,n){return!e||/:/.test(e)?t:e+w(n)})}function C(t,e){var n=x(t);return e?(s.names[y(n.elem,e)]||n.elem)+(n.mod?"_"+(s.names[y(n.mod,e)]||n.mod):""):(s.names[n.elem]||n.elem)+(n.mod?"_"+(s.names[y(n.mod,n.elem)]||n.mod):"")}function O(t,e,n){return(t||"").toString().split(/\s+/).map(function(t){return e(t,n)}).join(" ")}function E(t){var e=x(t);return(s.reverse[e.elem]||e.elem)+(e.mod?"_"+(s.reverse[e.mod]||e.mod):"")}return m.prototype={constructor:m,setup:g,selector:function(t,e){var n=S(t);return e||t==n?n:n+", "+t},transform:function(t,e){return O(t,w,e)},lookup:function(t,e){return O(t,C,e)},updateSheets:v,removeSheets:function(e){c&&e&&t.remove(e)},insertSheet:_,reverse:function(t){return O(t,E)},isWelter:function(t){return e.isWelter(t)},wrap:function(t,n){if(c){var r;(n=n||document)[o]?r=n[o]:(r=++a,n[o]=r);var i=u[r];null==i&&(i={}),t.forEach(function(t){if(!i[t]){var o=S(t);i[t]=o,u[r]=i,e.wrap(n,o)}})}},calcString:function(t,e){return c?n.calcString(t,e):t+e},removeCache:function(t){delete u[t[o]],delete t[o]},isEnabled:function(){return c}},m}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(15)],void 0===(i=function(t,e){return function(e){return function(n){var r=e.getUrl(n);if(!r)return n;switch(e.type){case"xor":var i=t(e.key,r);return i="hex"===e.encode?function(t){for(var e="",n=0;n<t.length;n++)e+=(256+t.charCodeAt(n)).toString(16).slice(1);return e}(i):encodeURIComponent(i),e.endpoint+"/"+(e.keyId||"")+i;case"plain":default:return e.endpoint+encodeURI(r)}}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(11),n(12),n(4),n(13)],void 0===(i=function(t,e,n,r){var i=/^(\/|https?:\/\/([^\/]*.)?(dev|imgs)?mail.ru\/)/,o=/.*?\/\/.*?\//,a=!1,s=!1;function u(t,e){var n=t(e);return a||n===e?n:n+","+e}function c(t){var e=r.request({url:t,sync:!0});if(e.error){var n="[CSS LOADING ERROR] Cant load "+t;throw window.ajs&&window.ajs.log&&window.ajs.log(n),e.error.description=n,e.error.sheet=t,e.error}return e.xhr.responseText}function l(t){var e;return t.ownerNode&&(e=((e=t.ownerNode.href||t.ownerNode.getAttribute("x-href"))||"").replace(/^https:/,"")),e}return{setup:function(t){t&&("boolean"==typeof t.justOneSelector&&(a=t.justOneSelector),"boolean"==typeof t.useRelativeProxy&&(s=t.useRelativeProxy))},update:function(r,a,d,f){!function(t,e){var r=/^(https:)?\/\/[^/]+/,i=t.map(function(t){return t.replace(r,"")});!function t(){n.iterate(document.styleSheets,function(t){if("LINK"===t.ownerNode.tagName){var e=l(t).replace(r,"");i=i.filter(function(t){return e!==t})}}),i.length?setTimeout(t,100):e()}()}(r,function(){[].map.call(document.styleSheets,function(t){return t}).forEach(function(n){if(n.ownerNode&&!n.ownerNode.__created&&!n.__updated&&"LINK"===n.ownerNode.tagName){var r=n;n.__updated=!0;var h=l(n);if(n.href&&i.test(n.href))try{var p=function(t){var e=t.href;try{return c(e)}catch(t){if(s)return c(e=e.replace(o,"/"));throw t}}(n);if(p){var m=new t({"x-href":h,media:n.media.mediaText},n.ownerNode);m.setContent(p),m.apply(),(r=m.getSheet()).__updated=!0}}catch(t){"function"==typeof d&&d(t)}var v=new t({"x-href":h,media:n.media&&n.media.mediaText},r.ownerNode);v.__updated=!0,e.iterate(r,u.bind(null,a),h,function(t){v.insert(t.toString())},f),v.apply()}})})},remove:function(t){if((t=(t||[]).map(function(t){return(t||"").replace(/^https:/,"")})).length){var e=[];n.iterate(document.styleSheets,function(n){var r=l(n);r&&-1!==t.indexOf(r)&&e.push(n)});for(var r=e.length-1;r>=0;r--){var i=e[r];i.ownerNode.parentNode.removeChild(i.ownerNode)}}},insert:function(e,r){var i=new t({}),o=u.bind(null,r),a=function(t,e){return o(t)+function(t){var e=[];return n.iterate(t,function(t,n){e.push(n+":"+t+";")}),"{"+e.join("\n")+"}"}(e)};return n.iterate(e,function(t,e){if(/@(media|supports|document|page|keyframes|font-feature-values)/.test(e)){var r=[];n.iterate(t,function(t,e){r.push(a(e,t))}),i.insertBlock(e,r.join(""))}else i.insert(a(e,t))}),i.apply(),i}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(4)],void 0===(i=function(t){function e(t){t&&this.__rules.push(t)}function n(e,n){this.__style=function(e){var n=document.createElement("style");return n.appendChild(document.createTextNode("")),(e=e||{}).rel="stylesheet",e.type="text/css",e.media=e.media||"screen",t.iterate(e,function(t,e){t&&n.setAttribute(e,t)}),n}(e),this.__style.__created=!0,this.__rules=[],this.__originalNode=n}return n.prototype={constructor:n,insert:function(){e.apply(this,arguments)},insertBlock:function(t,n){e.apply(this,[t+"{"+n+"}"])},setContent:function(t){this.__style.appendChild(document.createTextNode(t))},apply:function(){this.__originalNode&&this.__originalNode.parentNode?(!function(t,e,n){var r=e.getAttribute(t);r&&n.setAttribute(t,r)}("id",this.__originalNode,this.__style),this.__originalNode.parentNode.replaceChild(this.__style,this.__originalNode)):(function(){for(var t=document.styleSheets,e=t.length;e>0;e--){var n=t[e-1];if(n&&n.ownerNode&&n.ownerNode.parentNode)return n.ownerNode.parentNode}}()||document.head).appendChild(this.__style),function(){this.__rules.length&&this.__style.appendChild(document.createTextNode(this.__rules.join("\n")))}.apply(this)},getSheet:function(){return this.__style.sheet}},n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(4)],void 0===(i=function(t){var e=/content\s*:\s*/;function n(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}var r=/^(-?\d+)([a-z%]+)$/,i=/\s(?![*+\-/]|[^()]+\)+|\(+)/;function o(o,a,s,u){for(var c="",l=a(o.selectorText),d=0;d<o.style.length;d++){var f="important"===o.style.getPropertyPriority(o.style[d])?" !important":"",h=o.style[d];/background-(repeat|position)-[xy]/.test(h)&&(h=h.replace(/-[xy]$/,""));var p=o.style[h]||o.style[n(h)];if(void 0!==p&&p.length||(h=h.replace(/-(value|(ltr|rtl)-source)$/g,""),p=o.style[h]||o.style[n(h)]),void 0===p&&"float"===h&&(p=o.style.cssFloat),void 0!==p&&p.length){if(u.randomize&&u.randomize.length&&u.randomize.indexOf(h)>-1&&l!=o.selectorText){for(var m=p.split(i),v=m.length,_=[];v--;){var g=r.exec(m[v]);_.unshift(g?t.calcString(g[1],g[2]):m[v])}p=_.join(" ")}c+=h+": "+p+f+"; "}}return-1!==c.indexOf("url(")&&(c=function(e,n){var r=!0;return e.split("url(").map(function(e){return r?(r=!1,e):t.replaceUrl(e,n,!0)}).join("url(")}(c,s)),-1!==c.indexOf("content")&&(c=function(n){var r=!0;return n.split(e).map(function(e){return r?(r=!1,e):t.replaceContent(e)}).join("content:")}(c)),l+" { "+c+" }"}return{iterate:function(e,n,r,i,a){a=a||{},t.iterate(function(t){try{return t.cssRules||t.rules}catch(t){return null}}(e),function(e){switch(e.type){case 1:i(o(e,n,r,a));break;case 4:var s=[];t.iterate(e.cssRules||e.rules,function(t){s.push(o(t,n,r,a))}),i("@media "+e.media.mediaText+" { "+s.join(" ")+" }");break;default:i(e.cssText)}})}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){var t=new Function;return{request:function(e,n){var r=e,i="GET",o=null,a=!1,s=!1,u=function(){var e={readyState:4,status:-1};e.open=e.send=t;try{e=new window.XMLHttpRequest}catch(t){try{e=new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}}return e}(),c=null,l=new Date,d={error:c,xhr:u};"object"==typeof e&&(r=e.url,i=e.method||i,o=e.body||o,a=e.sync||a,s=e.credentials||s),u.url=r;var f=function(){(c||4===u.readyState)&&(f=t,d.error=c,u.duration=new Date-l,u.onerror=u.onreadystatechange=null,"function"==typeof n&&n(c,u))};try{u.onreadystatechange=f,u.onerror=function(t){c=t,f()},u.open(i,r,!a),u.withCredentials=s,u.send(o)}catch(t){c=t,f()}return d}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(6),n(4)],void 0===(i=function(t,e){"use strict";var n={};function r(){var e=t(!0);return n[e]=!0,e}return{isWelter:function(t){return void 0!==n[t]},wrap:function(t,n){function i(t){t&&e.toArray(t.querySelectorAll(n)).forEach(function(t){var n=function t(n,i){for(var o=document.createDocumentFragment(),a=0,s=e.random(0,n);a<s;a++){var u=document.createElement("div");0,e.random(0,i)&&u.appendChild(t(n,i-1));var c=0;e.random(0,n)%2||(u.id=r(),c++),e.random(0,n)%5||(u.setAttribute("data-bem",r()),c++),e.random(0,n)%6||(u.setAttribute("data-mnemo",r()),c++),e.random(0,n)%3&&c||(u.className=r()),o.appendChild(u)}return o}(5,5),i=n.querySelectorAll("div"),o=i[e.random(0,i.length-1)];t&&o&&(t.originalParentNode=t.parentNode,t.parentNode.insertBefore(n,t),o.appendChild(t))})}try{t.nodeType?i(t):t.length>=0?1===t.length?i(t[0]):e.toArray(t).forEach(i):console.warn('[Walter.wrap] this "context" not supported:',t)}catch(t){console.error(t)}}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return function(t,e){for(var n="",r=0;r<e.length;r++){var i=e.charCodeAt(r),o=r%t.length,a=t.charCodeAt(o);n+=String.fromCharCode(i^a)}return n}}.apply(e,[]))||(t.exports=r)},,,,,,,,function(t,e,n){"use strict";n.r(e);var r,i,o=n(0),a=n.n(o),s=n(1),u=n.n(s),c=n(2),l=function(t,e,n){return function(t,e){var r,i,o,a,s;function u(e){if(e)if(t){var o=e.split(":");r=o[0],i=o[1],a=t[r]===i}else a=!!t,r=e.split(":")[0];else a=!!t;return{is:a,to:c,state:n}}function c(t){if(r&&i)o=t;else{var n=t.split(":");r=n[0],o=n[1]}return{is:s=e[r]===o,back:l}}function l(){var t=i;return s||u(r+":"+o).to(t).is}return u.currentState=e,u.prevState=t,u.state=n,u}(t,e)},d=function(){function t(e,n){void 0===n&&(n=!1);var r=this;this._isInitial=!!n;var i=t.allStatesMap;this._statesMap={},Object.keys(e).forEach(function(t){var n=e[t];r[t]=n,r._statesMap[t]=(i[t]||{})[n]}),t.history.unshift(this),t.history.length>t.MAX_HISTORY&&(t.history.length=t.MAX_HISTORY)}return t.prototype.getPrev=function(e){return void 0===e&&(e=0),t.history[1+e]},t.prototype.isLessThan=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._compareBy(t,function(t,e){return t<=e})},t.prototype.isMoreThan=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._compareBy(t,function(t,e){return t>=e})},t.prototype.isBetween=function(t,e){},t.prototype.isEqual=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._compareBy(t,function(t,e){return t===e})},t.prototype.isInitial=function(){return this._isInitial},t.prototype._compareBy=function(e,n){var r=this;return e=t.splitQuery(e),Object.keys(e).every(function(t){return Object.keys(e[t]).every(function(i){var o=r._statesMap[t],a=e[t][i];return(void 0!==a||void 0!==o)&&n(a,o)})})},t.current=function(){return t.history[0]},t.splitQuery=function(e){var n={},r=function(e,r){n[e]||(n[e]={}),n[e][r]=(t.allStatesMap[e]||{})[r]};return[].concat(e).forEach(function(e){e instanceof t?Object.keys(t.allStatesMap).forEach(function(t){r(t,e[t])}):r.apply(void 0,(e||"").split(":"))}),n},t.registerStates=function(e){t.allStates=e,Object.keys(e).forEach(function(n){t.allStatesMap[n]={},Object.keys(e[n]).forEach(function(e,r){t.allStatesMap[n][e]=r})})},t.MAX_HISTORY=10,t.allStates={},t.allStatesMap={},t.history=[],t}(),f=a.a.util,h=(f.each,f.extend),p=f.contains,m={},v=[],_=[],g={},y=function(t,e,n){m[t]=e,i=r,r=new d(m,n)},b=function(){v=[],_=[],Object.entries(g).forEach(function(t){var e=t[0];(t[1].mq.matches?v:_).push(e)})},w=function(t){var e=t.el||t.element;e&&t.queryClassNames&&t.queryClassNames.length&&[v,_].forEach(function(n,r){n=x(n,t.queryClassNames),(n=S(n,t.name)).forEach(function(t){e.classList[r?"remove":"add"](t)})})},x=function(t,e){return t.filter(function(t){return p(e,t)})},S=function(t,e){return t.map(function(t){var n=t.split(":");return e+"_"+n[0]+"-"+n[1]})},C=function(t,e){t.render(e,l(void 0,m,r)),t.inited||t.setInited()},O=function(t,e){C(t,e),w(t)},E=n(3),I=n(7),j=n.n(I),N=n(8),k=n.n(N),P=n(9),R=n.n(P),M=$.util.randomInt,T=new R.a({endpoint:"/apic",type:"xor",encode:"hex",key:mr.mimic&&mr.mimic.cryptoKey,keyId:mr.mimic&&mr.mimic.cryptoKeyId,getUrl:function(t){return t}}),A=new k.a({links:mr._.STYLE,match:["grid","grid__ccol","grid__lcol","grid__header","grid__container","grid:middle","grid-middle","grid-down","external","banner","news","i-pull","rectangle-banner","games","mediaprojects","tgb","informer","choose-city","horo-informer","rate","o-","i-","m-","weather","toolbar","notify","well","tabs"],randomize:!0}),L=/^.+\/count\//,q=/(rs|r\.mail\.ru)|mradx/,F=/^(https?:)\/\//,H=function(){function t(t){void 0===t&&(t={}),this._base=t.base||"",this._counters=[],this._options=t}return t.prototype.add=function(t){var e;return(e=this._counters).push.apply(e,(t||"").split(",").filter(function(t){return!!t})),this},t.prototype.send=function(){var t=this,e=this._counters.map(function(e){return t._fetchCounter(t._base+e)});return this._counters.length=0,Promise.all(e)},t.send=function(e,n){return new t(n).add(e).send()},t.prototype._fetchCounter=function(t){var e;return this._options.mimic&&(q.test(t)?t=T(t.replace(F,"/")):L.test(this._base)&&(e=$.transport("/api-proxy/rb-mimic/v1/count/",{type:"JSONP",decorator:T}).fetch({params:this._getDirectParams(t),timeout:3e3}).then(function(t){if(200!==t.result.status)throw Error("invalid request")}))),e||(e=new Promise(function(e,n){var r=new Image;r.src=t,r.onload=e,r.onerror=n})),e.catch(function(){$.radar("adblock_stat_error").send()}),e},t.prototype._getDirectParams=function(t){var e=t.split(/^\/count\//,1).pop(),n=this._options,r={key:e,location:location.protocol+"//"+location.host+location.pathname,search_uid:$.cookie("searchuid").value(),type:"resplash",site_charset:"utf-8"};return void 0!==n.stat_id&&(r.stat_id=String(n.stat_id)),void 0!==n.page_id&&(r.page_id=Number(n.page_id)),void 0!==n.cid&&(r.cid=Number(n.cid)),document.referrer&&(r.referer=document.referrer),navigator.userAgent&&(r.agent=navigator.userAgent),"object"==typeof n.context&&(r.context={},void 0!==n.context.title&&(r.context.title=String(n.context.title)),void 0!==n.context.headers&&(r.context.headers=n.context.headers)),r},t}(),B=function(t,e){var n=document.createElement("div");return n.className=e?A.transform(e):"",n.textContent=t||"",n},D=function(){return Math.random().toString(36).substring(Math.max(2,10*Math.random()))},z=function(t){return Array.apply(0,new Array(t)).map(function(t){return 0})},U=function(){return Math.random()<=.5},W=0,X=function(t,e){return void 0===t&&(t=2),void 0===e&&(e=6),z(M(e,t)).reduce(function(t,e,n){return t+" news-rnd-"+(W<=99?W++:W=0)},"")},K=["alt","title"],J=document.createElement("canvas"),V=J.getContext("2d");J.height=J.width=10;var Y={textWrap:function(t,e){void 0===e&&(e="");var n=t.textContent,r=n.length,i="",o=0;t.textContent="";for(var a=0;a<r;a++)i+=n.charAt(a),(Math.random()<.5||i.length>r/2||a===r-1)&&(t.appendChild(B(D(),"i-hide")),t.appendChild(B(i,e)),i="",o++);if(A.wrap(["."+e+":nth-child("+Math.ceil(o/2)+")"||!1],t),e){var s=t.querySelectorAll("div");e=A.transform(e),s.forEach(function(t){return t.classList.add(e)})}},radarOnCaught:function(t,e,n){void 0===n&&(n=1e3),t instanceof HTMLElement&&(t=function(){return!$.dom.isVisible(t)}),setTimeout(function(){t&&mr.mimic.radar("caught_"+e)},n)},hideAll:function(t,e){if(!mr._.STUCK_IN_POT)return t;var n=[],r=[];return e=e||document.body,Object.keys(t).forEach(function(i){var o=e.querySelector(i);if(o){var a=o.className+X(1,Math.max(1,6-o.classList.length));o.className=A.transform(a),o.id&&(o.id=A.transform(o.id)),t[i]&&r.push(i)}else n.push(i)}),A.wrap(r,e),n},insetRndImage:function(t,e,n){if(void 0===e&&(e=3),void 0===n&&(n=0),mr._.STUCK_IN_POT){var r;if(!n||U()){V.strokeText(D(),0,0),(r=new Image).src=J.toDataURL(),r.className=A.transform("i-hide "+X());for(var i=K.length;i--&&U();)r[K[i]]=D()}n<e&&[].forEach.call(t.children,function(t){Y.insetRndImage(t,e,n+1)}),r&&t.appendChild(r)}},spreadWide:function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=5);var r=t.parentNode,i=t.nextSibling;if(r&&mr._.STUCK_IN_POT)for(var o=function(o){var a=document.createDocumentFragment();z(M(n,e)).forEach(function(){var t=document.createElement("div");t.className=A.transform(X()),a.appendChild(t)}),o?r.insertBefore(a,t):i?r.insertBefore(a,i):r.appendChild(a)},a=0;a<2;a++)o(a)}},G={encrypt:T,locator:A,tools:Y,Counter:H,honeyPot:j.a};a.a.util.extend(u.a,c.b,{counter:E.a,retarget:E.b,honeyPot:G.honeyPot}),a.a.util.logger(a.a.radar);var Q=a.a.radar("adblock");G.radar=Q.send,G.rLog=Q.log,a.a.util.extend(u.a.mimic,G),a.a.FagotDetector.init(["mouse","keyboard","keyspeed"]);var Z="Mac"===u.a._.PLATFORM?0:17;!function(t){var e={},n=[];Object.entries(t).forEach(function(t){var o=t[0];t[1].forEach(function(t){var a=t.name,s=t.query,u=o+":"+a,d=window.matchMedia(s);d.matches&&n.push({direction:o,name:a}),d.addListener(function(t){!function(t,e,n){var o;if(b(),!t.matches)for(var a=v.length;a--;){var s=v[a],u=g[s].mq;if(u.matches){var d=s.split(":"),f=d[0],p=d[1];if(f===e){t=u,e=f,n=p;break}}}for(var _ in t.matches&&(o=h({},m),y(e,n)),c.a){var x=c.a[_],S=x.listenStates,C=S&&S.length,O=!!o&&!1!==S;if(O&&C)for(O=!1;C--;){var E=S[C];if(r.isEqual(E)||i.isEqual(E)){O=!0;break}}O&&x.render(void 0,l(o,m,r)),w(x)}}(t,o,a)}),g[u]={mq:d},e[o]||(e[o]={}),e[o][a]=s})}),d.registerStates(e),n.forEach(function(t){var e=t.direction,n=t.name;return y(e,n,!0)}),b(),Object(c.c)(C,O)}({x:[{name:"xl",query:"(min-width: "+(1344+Z)+"px)"},{name:"lg",query:"(min-width: "+(1272+Z)+"px) and (max-width: "+(1343+Z)+"px)"},{name:"lte-md",query:"(max-width: "+(1271+Z)+"px)"},{name:"md",query:"(min-width: "+(1192+Z)+"px) and (max-width: "+(1271+Z)+"px)"},{name:"lte-sm",query:"(max-width: "+(1191+Z)+"px)"},{name:"sm",query:"(min-width: "+(1100+Z)+"px) and (max-width: "+(1191+Z)+"px)"},{name:"xs",query:"(max-width: "+(1099+Z)+"px)"}],y:[{name:"xxxl",query:"(min-height: 925px)"},{name:"xxl",query:"(min-height: 900px) and (max-height: 924px)"},{name:"xl",query:"(min-height: 848px) and (max-height: 899px)"},{name:"lg",query:"(min-height: 778px) and (max-height: 847px)"},{name:"md",query:"(min-height: 700px) and (max-height: 777px)"},{name:"sm",query:"(min-height: 640px) and (max-height: 699px)"},{name:"xs",query:"(max-height: 639px)"}]}),window.mr=u.a}]);