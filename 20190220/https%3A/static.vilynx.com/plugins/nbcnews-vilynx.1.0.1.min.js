!function(){var e=function(e){return new RegExp(e).test(navigator.userAgent.toLowerCase())};function t(){return e("^((?!chrome).)*safari")}function r(e){if(e&&"VIDEO"===e.tagName&&e.closest(".supra-wrapper")){var t=e.closest(".supra-wrapper"),r=e;setTimeout(function(){r.currentSrc.includes("/short")?(t.style.backgroundSize="cover",t.style.backgroundPosition="center",t.style.backgroundImage="url("+r.poster+")"):t.style.background=""},20)}}window.galleryNbcMach=function(){window.vilynxGallery.addOnLoadGalleryItem(function(e){var t;(t=e)&&"A"===t.tagName&&t.classList&&t.querySelector&&t.querySelector("a.vilynx_enabled")&&(t.classList.add("vilynx_disabled"),t.classList.add("vilynx_duplicated")),function(e){if(e&&e.querySelector&&e.querySelector("picture")){var t=window.getComputedStyle(e.querySelector("picture"));"50%"===t.borderBottomLeftRadius&&"50%"===t.borderBottomRightRadius&&"50%"===t.borderTopLeftRadius&&"50%"===t.borderTopRightRadius&&e.classList.add("vilynx_borderRadius")}}(e),function(e){if(e&&e.parentNode){var t=window.getComputedStyle(e.parentNode,":after"),r=e.parentNode.querySelector("div > h3");if(r&&r.parentNode!==e.parentNode){if("none"!==t.pointerEvents)for(var n in document.styleSheets)"vilynx-css"===document.styleSheets[n].title&&document.styleSheets[n].insertRule("div."+e.parentNode.classList[0]+":after{pointer-events:none;}",0);"none"!==window.getComputedStyle(r.parentNode).pointerEvents&&(r.parentNode.style.pointerEvents="none")}}}(e),new MutationObserver(function(e){e.forEach(function(e){var t;(t=e.target)&&t.querySelector&&t.querySelectorAll(".supra-wrapper").length>0&&t.classList&&!t.classList.contains("vilynx_registered")&&t.classList.add("vilynx_registered")})}).observe(e,{attributes:!0})})},function(){var e,n=window.location.host,a=window.location.pathname,o="a[href*='today.com']:not([href$='//www.today.com/']):not([href='/']), a[href*='nbcnews.com']:not([href$='//www.nbcnews.com/']):not([href='/']), a[href*='msnbc.com']:not([href$='//www.msnbc.com/']):not([href='/']), a[href*='/../'],  a[vilynx-id], div.vilynx_enabled[href*='today.com']:not([href$='//www.today.com/']):not([href='/']), div.vilynx_enabled[href*='nbcnews.com']:not([href$='//www.nbcnews.com/']):not([href='/']), div.vilynx_enabled[href*='msnbc.com']:not([href$='//www.msnbc.com/']):not([href='/']), div.vilynx_enabled[href*='/../'],  div.vilynx_enabled[vilynx-id]";function i(e){var t=new XMLHttpRequest,r="https://www.vilynx.com/api2.0/analytics/video_hit";r+="?data="+JSON.stringify(e),t.open("GET",r,!0),t.send(null)}function l(e){var t,r=e.currentTarget.href||null;if(r){if((t=r.split("-")).length>2){t=t[t.length-1];var n=localStorage.getItem("vx_viewed")||"[]";if(-1===(n=JSON.parse(n)||[]).indexOf(t)){var a=n.length;if(n.length>100){var o=a-100;n.splice(0,o)}n.push(t),localStorage.setItem("vx_viewed",JSON.stringify(n))}}setTimeout(function(){i({url:r})},1500)}}if(/(vilynx-today-com|vilynx-bluenode).herokuapp.com|(ec|ppe|wc|www).(nbcnews|today).com|\w*.msnbc.com/gi.exec(n)&&"/"!==a&&"/mach/"!==a&&i({url:n+a}),"undefined"!=typeof MutationObserver){var d=document.querySelector("body");new MutationObserver(function(n){n.forEach(function(n){for(var a in n.addedNodes){t()&&"style"!==n.attributeName&&r(n.addedNodes[a]);try{n.addedNodes[a]&&n.addedNodes[a].tagName&&n.addedNodes[a].parentNode&&n.addedNodes[a].querySelectorAll(o)&&(e=n.addedNodes[a].querySelectorAll(o),Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){l(e)}),e.className+=" vilynx_listened"}))}catch(e){}}})}).observe(d,{childList:!0,subtree:!0,attributeOldValue:!1})}e=document.querySelectorAll(o),Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){l(e)}),e.className+=" vilynx_listened"})}(),function(){var r=document.querySelector('script[src*="nbcnews-vilynx"]'),n={},a=document.createElement("script");vl_attr={type:"text/javascript",src:"https://static.vilynx.com/gallery/vpg.4.5.0.min.js","data-publickey":"a5d3c400d9872cc4aa3bb4e9c87c7cab","data-ongalleryload":"window.galleryNbcMach",urlregexp:"[?]i?cid=(.*)"},function(){if(e("android")||e("iphone|ipad|ipod")||e("iphone")||e("opera mini")||e("iemobile")||e("kindle|silk|kftt|kfot|kfjwa|kfjwi"))return!0}()&&(vl_attr["data-mobilepreload"]="false");for(var o in vl_attr)vl_attr.hasOwnProperty(o)&&a.setAttribute(o,vl_attr[o]);if(r)for(var i in r.attributes)(n=r.attributes[i]).name&&n.value&&"src"!==n.name&&("false"===n.value?delete vl_attr[n.name]:vl_attr[n.name]=n.value);for(var o in vl_attr)vl_attr.hasOwnProperty(o)&&a.setAttribute(o,vl_attr[o]);document.body.appendChild(a);var l,d,c=" a.vilynx_registered{display:block;} ";c+=" article > div > a.vilynx_registered .supra-wrapper{top:auto; bottom: 0px;} ",c+=" article > div > h2 {z-index: 2} ",c+=" .vilynx_borderRadius .supra-wrapper {border-top-left-radius: 50%; border-top-right-radius: 50%; border-bottom-right-radius: 50%; border-bottom-left-radius: 50%;} ",c+=" a.vilynx_registered .vilynx_wrapperImg {vertical-align: baseline;} ",c+=" a.vilynx_registered.vilynx_duplicated > .supra-wrapper {display: none;} ",t()&&(c+=" a.vilynx_registered .vilynx_wrapperImg {transform: translateZ(0);}  "),e("msie|trident/|edge")&&(c+=" .redirectCenter .text, .redirectCenter .counter {max-width:100% !important;} "),l=c+=' img.vilynx_wrapperImg[src*="msnbc-color-square-dvt"], img.vilynx_wrapperImg[src*="today-color-square-dvt"], img.vilynx_wrapperImg[src*="nbc-news-color-square-dvt"] {opacity: 0;}   ',(d=document.createElement("style")).title="vilynx-css",d.type="text/css",d.innerHTML=l,document.body.appendChild(d)}()}();