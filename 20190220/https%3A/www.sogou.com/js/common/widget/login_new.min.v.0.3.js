(function(){function x(){var a=location.hostname.match(/.*(sogou?\.com)$/);return null!==a?a[1]:"sogo.com"}function t(a,f,g){var c=location.hostname;f="https://account."+x()+"/connect/login?provider=qq&client_id=2017&ru="+encodeURIComponent(f)+"&hun=0&oa=0";PassportSC.appid=2017;PassportSC.redirectUrl="http://"+c+"/jump.htm";if("https:"==location.protocol.toLowerCase())a="http://"+c+"/login/qq_login_callback_page_new.html?xy=https&from="+encodeURIComponent(location.href),location.href="http://"+c+"/qq?ru="+encodeURIComponent(a);else if(u){u();var c=$("<div/>").addClass("login-skin"),e=$("<div/>").addClass("login-pop"),k=$("<div/>").attr({id:"qqLoginBox"}),d=$("<div/>").attr({id:"sogouLoginBox"}),b=$("<a/>").attr({href:"javascript:void(0)","class":"login-a1 cur"}),h=$("<a/>").attr({href:"javascript:void(0)","class":"hover-t"});b.append("\u817e\u8bafQQ\u767b\u5f55");h.append("\u624b\u673a\u8d26\u53f7\u767b\u5f55");b.bind("click",function(){l("qqlogin_trigger","http","sogou_login");k.show();d.hide();b.hasClass("hover-t")&&(b.removeClass("hover-t"),b.addClass("cur"));h.hasClass("cur2")&&(h.removeClass("cur2"),h.addClass("hover-t"))});h.bind("click",function(){l("login_trigger","http","sogou_login");d.show();k.hide();h.hasClass("hover-t")&&(h.removeClass("hover-t"),h.addClass("cur2"));b.hasClass("cur")&&(b.removeClass("cur"),b.addClass("hover-t"))});var m=$("<div/>").addClass("login-btn");m.append(b);m.append(h);C(d);D(f,k);e.append(d);g||(d.css("display","none"),e.append(k),e.append(m));a.append(c);a.append(e)}}function D(a,f){a=$("<iframe/>").attr("src",a).css({width:510,height:395,border:0});var g=$("<a/>").attr({id:"loginCloseBtn",href:"javascript:void(0)","class":"del"});f.append(a);f.append(g);g.bind("click.closebox",function(){$(".login-pop").remove();$(".login-skin").remove()})}function C(a){var f="",f="?ru"==location.search.substring(0,3)?location.search.substring(4):encodeURIComponent(location.href),g=function(){return-1!=navigator.userAgent.indexOf("MetaSr")&&-1!=navigator.userAgent.indexOf("SE")?!0:!1},c=$("<div/>").addClass("login-tit");c.append($("<i/>"));c.append("\u624b\u673a\u8d26\u53f7\u767b\u5f55");var e=g(),k=$("<input/>").attr({type:"text",value:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801","class":"grey"}).css({width:315}),d=$("<input/>").attr({id:"password_input_fake",type:"text",value:"\u8bf7\u8f93\u5165\u5bc6\u7801","class":"grey"}).css({width:315}),b=$("<input/>").attr({id:"password_input",type:"password",value:"\u8bf7\u8f93\u5165\u5bc6\u7801","class":"grey"}).css({width:315,display:"none"}),h=$("<p/>").addClass("error-p"),m=$("<p/>").addClass("error-p");e&&(h.css("padding-right","30px"),m.css("padding-right","30px"));var q=$("<div/>").addClass("txt-01"),n=$("<div/>").addClass("txt-02");q.append($("<i/>"));q.append(k);q.append(h);n.append($("<i/>"));n.append(d);n.append(b);n.append(m);var r=$("<div/>").addClass("input-box");r.append(q);r.append(n);var v=$("<label/>"),p=$("<input/>").attr({type:"checkbox"}),y=$("<a/>").attr({href:"https://account."+x()+"/web/findpwd?ru=https%3A%2F%2Faccount."+x()+"&client_id=1120",target:"_blank"}),e=$("<span/>"),f=$("<a/>").attr({href:"register?ru="+f});v.append(p);v.append(" \u663e\u793a\u5bc6\u7801");e.append("|");y.append("\u5fd8\u8bb0\u5bc6\u7801\uff1f");f.append("\u6ce8\u518c\u65b0\u8d26\u53f7");p=$("<div/>").addClass("operate-box");p.append(v);p.append(y);p.append(e);p.append(f);var t=document.createElement("div");t.id="empty";var w=$("<a/>").attr({href:"javascript:void(0)","class":"login-btn1"});w.append("\u767b&nbsp;\u5f55");e=$("<div/>").addClass("login-con");e.append(r);e.append(p);e.append(t);e.append(w);r=$("<a/>").attr({href:"javascript:void(0)","class":"close-btn2"});a.append(c);a.append(e);a.append(r);var z=!1,A=!1,e=g();a=function(){"password_input_fake"!=$(this).attr("id")||$(":checkbox").is(":checked")||(d.hide(),b.show(),b.focus());0==$(this).val().indexOf("\u8bf7\u8f93\u5165")&&$(this).val("");$("i").removeClass("focus-i");$("input").addClass("grey");$(this).siblings("i").addClass("focus-i");$(this).removeClass("grey");q.removeClass("error-div");n.removeClass("error-div");l("input_focus","","sogou_login")};var g=function(a){return function(){""==$(this).val()&&($(this).val(a),"password_input"==$(this).attr("id")&&(d.val(a),d.addClass("grey"),d.show(),b.val(a),b.hide()));$(this).siblings("i").removeClass("focus-i");$(this).addClass("grey")}},u=function(a){z=!0;q.addClass("error-div");k.addClass("grey");k.siblings("i").addClass("focus-i");h.html(a)},B=function(a){A=!0;n.addClass("error-div");b.addClass("grey");d.addClass("grey");b.siblings("i").addClass("focus-i");m.html(a)};k.bind("focus",a);k.bind("blur",g("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801"));b.bind("focus",a);b.bind("blur",g("\u8bf7\u8f93\u5165\u5bc6\u7801"));d.bind("focus",a);d.bind("blur",g("\u8bf7\u8f93\u5165\u5bc6\u7801"));b.bind("change",function(){d.val(b.val())});d.bind("change",function(){b.val(d.val())});w.bind("click",function(){l("login_button","","sogou_login");var a=k.val(),c=b.val();"undefined"!=typeof a&&""!=a&&a.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/)?z=!1:u("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801");"undefined"!=typeof c&&""!=c&&c.match(/^[\@A-Za-z0-9\!\#\$\%\^\&\*\.\~]{6,16}$/)?A=!1:B("\u5bc6\u7801\u957f\u5ea6\u5e94\u4e3a6~16\u4f4d");z||A||PassportSC.loginHandle(a,c,"",1,document.getElementById("empty"),function(a){a&&a.msg&&(a=decodeURIComponent(a.msg),"\u5bc6\u7801\u9519\u8bef"==a?B(a):"\u8be5\u624b\u673a\u53f7\u672a\u6ce8\u518c\uff0c\u63a8\u8350\u77ed\u4fe1\u9a8c\u8bc1\u767b\u5f55"==a&&u("\u8be5\u624b\u673a\u53f7\u672a\u6ce8\u518c\uff0c\u8bf7\u5148\u6ce8\u518c\u8be5\u8d26\u53f7"))},function(a){"?ru"==location.search.substring(0,3)?location.href=decodeURIComponent(location.search.substring(4)):location.reload()})});f.bind("click",function(){l("register_button","","sogou_login")});y.bind("click",function(){l("forget_password","","sogou_login")});r.bind("click",function(){$(".login-pop").remove();$(".login-skin").remove();l("close_button","","sogou_login")});v.bind("click",function(){l("show_password","","sogou_login");if(0!=d.val().indexOf("\u8bf7\u8f93\u5165")||0!=b.val().indexOf("\u8bf7\u8f93\u5165"))$(":checkbox").is(":checked")?(d.addClass("grey"),d.show(),b.hide()):(b.addClass("grey"),b.show(),d.hide())});b.keyup(function(a){if("13"==a.keyCode)return w.click(),!1})}function u(){if(!(0<$("#loginStyle").length)){var a=$("<style/>").attr({id:"loginStyle",type:"text/css"});$("body").append(a);a[0].styleSheet?a[0].styleSheet.cssText=".login-skin{position: absolute;top:0;left:0;width: 100%;height: 100%;z-index: 2100;background-color: #000;opacity:0.4;filter:alpha(opacity=40);}.login-pop{width: 510px;border: 1px solid #ebebeb;position: fixed;top: 50%;left: 50%;background-color: #fff;margin: -220px 0 0 -255px;font-family: Microsoft YaHei;z-index: 2200;}.del{position: absolute;width: 20px;height: 20px;z-index: 4;top: 13px;right: 13px;display: block;background: url(/images/skin/del.gif) no-repeat;_background: url(/images/skin/del.gif) no-repeat;background-position: 0 0;}.del:hover{background-position: -41px 0;}.login-btn{width:100%;height:48px;line-height:48px;font-size:16px;display:table;background-color:#fcfcfc}.login-btn a{display:table-cell;width:50%;box-sizing:border-box;border-top:1px solid #ebebeb;color:#999;text-align:center;*display:block;*float:left;*width:255px;text-decoration: none;}.login-btn .hover-t:hover{background-color:#f6f6f6}.login-btn .login-a1{border-right:1px solid #f4f4f4;*width:254px}.login-btn .cur{color:#1098df;border-top-color:#25a6e9;cursor:default}.login-btn .cur2{color:#f84b00;border-top-color:#ff7b5d;cursor:default}.login-tit{height:48px;line-height:48px;padding-left:20px;background-color:#f5f5f5;font-size:18px;color:#555;_padding-top:15px;_height:33px}.login-tit i{display:inline-block;width:24px;height:24px;background:url(/images/personalcenter/login_ico.gif) no-repeat;margin-right:8px;vertical-align:-5px;*vertical-align:0}.login-con{height:273px;padding:70px 0 0 75px;position:relative;}.input-box{width:360px;height:83px;position:relative}.input-box div{width:285px;height:40px;line-height:40px;padding:0 36px 0 37px;position:relative;overflow:hidden;border:1px solid #e2e2e2;position:absolute}.input-box .txt-02{border-top-color:#f3f3f3;position:absolute;top:41px}.input-box div i,.enrol-txt i{display:block;width:14px;height:16px;background:url(/images/personalcenter/login_ico.gif) no-repeat 0 -26px;position:absolute;top:12px;left:13px}.input-box div .grey,.enrol-txt .grey{color:#bbb;}.input-box div input,.enrol-txt input{color:#333;border:0;*padding:12px 0;outline:none;font-size:13px;}.input-box div a,.enrol-txt a{display:block;width:16px;height:16px;background:url(/images/personalcenter/login_ico.gif) no-repeat 0 -100px;position:absolute;right:10px;top:12px}.input-box div a:hover,.enrol-txt a:hover{background-position:0 -118px}.input-box .txt-01{border-bottom-color:#f3f3f3}.input-box .error-div{border:1px solid #ff6846;z-index:3;}.input-box .txt-02 i{background-position:0 -44px}.input-box .txt-01 .focus-i,.enrol-txt1 .focus-i{background-position:0 -62px}.input-box .txt-02 .focus-i{background-position:0 -80px}.operate-box{width:360px;height:46px;line-height:46px;overflow:hidden;font-size:13px;}.operate-box label{color:#999;*float:left;_margin-top:12px;}.operate-box input{vertical-align:-2px}.operate-box a,.operate-box span{color:#666;float:right;text-decoration:none;}.operate-box a:hover,.accept-div a:hover{text-decoration:underline}.operate-box span{color:#e2e2e2;margin:0 10px}.login-btn1,.enrol-btn{display:block;width:360px;height:40px;line-height:40px;border-radius:2px;background-color:#ff6542;color:#fff;text-align:center;font-size:16px;font-family:SimSun;font-weight:bold;text-decoration:none;}.login-btn1:hover, .login-btn1:active, .login-btn1:focus{text-decoration:none;}.login-btn1:hover,.enrol-btn:hover{background-color:#ff7556}.close-btn2{display:block;width:50px;height:48px;background:url(/images/personalcenter/login_ico.gif) no-repeat 16px -135px;position:absolute;top:0;right:1px}.close-btn2:hover{background-position:16px -183px}.error-p{height:20px;line-height:20px;color:#ff3535;position:absolute;top:10px;right:6px;display:none}.error-div .error-p{display:block}.enrol-header{position:static !important}.enrol-header .personal-header-con{width:340px}.enrol-main{width:340px;margin:0 auto;padding-top:50px}.enrol-txt{height:38px;line-height:38px;border-radius:2px;border:1px solid #e2e2e2;position:relative;padding:0 36px 0 34px;margin-bottom:22px}.enrol-txt i{top:11px}.enrol-txt input{*padding:11px 0}.enrol-yzm{overflow:hidden;*height:62px}.enrol-yzm .enrol-txt{width:158px;float:left}.enrol-yzm .yzm{display:block;width:98px;height:38px;line-height:38px;background:#fff4f2;border:1px solid #f6d6ce;float:right;color:#f56a45;text-align:center}.enrol-txt2 i{background-position:0 -235px}.enrol-txt3 i{background-position:0 -44px}.enrol-txt2 .focus-i{background-position:0 -253px}.enrol-txt3 .focus-i{background-position:0 -80px}.enrol-txt .key-ico{width:18px;background-position:0 -272px}.enrol-txt .key-ico:hover{background-position:0 -289px}.enrol-txt p{color:#ff3535;width:300px;height:40px;line-height:40px;position:absolute;left:350px;top:0;display:none}.error-red p{display:block}.accept-div{height:56px;line-height:56px;color:#666;margin-top:-22px;_padding-top:20px;_height:36px}.accept-div input{vertical-align:-2px}.accept-div a{color:#e96126}.enrol-btn{width:340px}.error-red{border-color:#ff6846}":a[0].appendChild(document.createTextNode(".login-skin{position: absolute;top:0;left:0;width: 100%;height: 100%;z-index: 2100;background-color: #000;opacity:0.4;filter:alpha(opacity=40);}.login-pop{width: 510px;border: 1px solid #ebebeb;position: fixed;top: 50%;left: 50%;background-color: #fff;margin: -220px 0 0 -255px;font-family: Microsoft YaHei;z-index: 2200;}.del{position: absolute;width: 20px;height: 20px;z-index: 4;top: 13px;right: 13px;display: block;background: url(/images/skin/del.gif) no-repeat;_background: url(/images/skin/del.gif) no-repeat;background-position: 0 0;}.del:hover{background-position: -41px 0;}.login-btn{width:100%;height:48px;line-height:48px;font-size:16px;display:table;background-color:#fcfcfc}.login-btn a{display:table-cell;width:50%;box-sizing:border-box;border-top:1px solid #ebebeb;color:#999;text-align:center;*display:block;*float:left;*width:255px;text-decoration: none;}.login-btn .hover-t:hover{background-color:#f6f6f6}.login-btn .login-a1{border-right:1px solid #f4f4f4;*width:254px}.login-btn .cur{color:#1098df;border-top-color:#25a6e9;cursor:default}.login-btn .cur2{color:#f84b00;border-top-color:#ff7b5d;cursor:default}.login-tit{height:48px;line-height:48px;padding-left:20px;background-color:#f5f5f5;font-size:18px;color:#555;_padding-top:15px;_height:33px}.login-tit i{display:inline-block;width:24px;height:24px;background:url(/images/personalcenter/login_ico.gif) no-repeat;margin-right:8px;vertical-align:-5px;*vertical-align:0}.login-con{height:273px;padding:70px 0 0 75px;position:relative;}.input-box{width:360px;height:83px;position:relative}.input-box div{width:285px;height:40px;line-height:40px;padding:0 36px 0 37px;position:relative;overflow:hidden;border:1px solid #e2e2e2;position:absolute}.input-box .txt-02{border-top-color:#f3f3f3;position:absolute;top:41px}.input-box div i,.enrol-txt i{display:block;width:14px;height:16px;background:url(/images/personalcenter/login_ico.gif) no-repeat 0 -26px;position:absolute;top:12px;left:13px}.input-box div .grey,.enrol-txt .grey{color:#bbb;}.input-box div input,.enrol-txt input{color:#333;border:0;*padding:12px 0;outline:none;font-size:13px;}.input-box div a,.enrol-txt a{display:block;width:16px;height:16px;background:url(/images/personalcenter/login_ico.gif) no-repeat 0 -100px;position:absolute;right:10px;top:12px}.input-box div a:hover,.enrol-txt a:hover{background-position:0 -118px}.input-box .txt-01{border-bottom-color:#f3f3f3}.input-box .error-div{border:1px solid #ff6846;z-index:3;}.input-box .txt-02 i{background-position:0 -44px}.input-box .txt-01 .focus-i,.enrol-txt1 .focus-i{background-position:0 -62px}.input-box .txt-02 .focus-i{background-position:0 -80px}.operate-box{width:360px;height:46px;line-height:46px;overflow:hidden;font-size:13px;}.operate-box label{color:#999;*float:left;_margin-top:12px;}.operate-box input{vertical-align:-2px}.operate-box a,.operate-box span{color:#666;float:right;text-decoration:none;}.operate-box a:hover,.accept-div a:hover{text-decoration:underline}.operate-box span{color:#e2e2e2;margin:0 10px}.login-btn1,.enrol-btn{display:block;width:360px;height:40px;line-height:40px;border-radius:2px;background-color:#ff6542;color:#fff;text-align:center;font-size:16px;font-family:SimSun;font-weight:bold;text-decoration:none;}.login-btn1:hover, .login-btn1:active, .login-btn1:focus{text-decoration:none;}.login-btn1:hover,.enrol-btn:hover{background-color:#ff7556}.close-btn2{display:block;width:50px;height:48px;background:url(/images/personalcenter/login_ico.gif) no-repeat 16px -135px;position:absolute;top:0;right:1px}.close-btn2:hover{background-position:16px -183px}.error-p{height:20px;line-height:20px;color:#ff3535;position:absolute;top:10px;right:6px;display:none}.error-div .error-p{display:block}.enrol-header{position:static !important}.enrol-header .personal-header-con{width:340px}.enrol-main{width:340px;margin:0 auto;padding-top:50px}.enrol-txt{height:38px;line-height:38px;border-radius:2px;border:1px solid #e2e2e2;position:relative;padding:0 36px 0 34px;margin-bottom:22px}.enrol-txt i{top:11px}.enrol-txt input{*padding:11px 0}.enrol-yzm{overflow:hidden;*height:62px}.enrol-yzm .enrol-txt{width:158px;float:left}.enrol-yzm .yzm{display:block;width:98px;height:38px;line-height:38px;background:#fff4f2;border:1px solid #f6d6ce;float:right;color:#f56a45;text-align:center}.enrol-txt2 i{background-position:0 -235px}.enrol-txt3 i{background-position:0 -44px}.enrol-txt2 .focus-i{background-position:0 -253px}.enrol-txt3 .focus-i{background-position:0 -80px}.enrol-txt .key-ico{width:18px;background-position:0 -272px}.enrol-txt .key-ico:hover{background-position:0 -289px}.enrol-txt p{color:#ff3535;width:300px;height:40px;line-height:40px;position:absolute;left:350px;top:0;display:none}.error-red p{display:block}.accept-div{height:56px;line-height:56px;color:#666;margin-top:-22px;_padding-top:20px;_height:36px}.accept-div input{vertical-align:-2px}.accept-div a{color:#e96126}.enrol-btn{width:340px}.error-red{border-color:#ff6846}"))}}var l=function(){return function(a,f,g){var c=["http://pb.sogou.com/","cl",".gif?uigs_productid=","webapp"];c.push("&type=");c.push(a);c.push("&stype=");c.push(f);c.push("&pagetype=");c.push(g);c.push("&uigs_t=");c.push((new Date).getTime());(new Image).src=c.join("")}}();window.login=function(a){if($(a.loginBtn)){var f=a.loginBtn,g=$(a.parent)||$("body"),c="http://"+location.hostname+"/login/qq_login_callback_page_new.html",e=a.cbFn;$(f).bind("click.login",function(){if("changeSkin"==$(this).attr("id")){var a=new Date;a.setMinutes(a.getMinutes()+1);a=a.toUTCString();document.cookie=["skinLogin=1;expires=",a,";path=/"].join("")}t(g,c);e&&e();return!1})}};window.createLoginBox=t})();