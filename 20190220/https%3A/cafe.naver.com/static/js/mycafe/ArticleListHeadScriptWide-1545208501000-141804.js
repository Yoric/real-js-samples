document.domain="naver.com";var NS4;var IE4;var sUserAgent=navigator.userAgent;var isOpera=sUserAgent.indexOf("Opera")>-1;var isIE=sUserAgent.indexOf("compatible")>-1&&sUserAgent.indexOf("MSIE")>-1&&!isOpera;function getIEVersion(){var b=-1;if(navigator.appName=="Microsoft Internet Explorer"){var a=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(a.exec(sUserAgent)!=null){b=parseFloat(RegExp.$1);}}return b;}if(isIE){IE4=true;NS4=false;}else{IE4=false;NS4=true;}var isWin=(navigator.appVersion.indexOf("Win")!=-1);var goWindows={};function popupCenter(a,l,m,e){var k=window.screenLeft!=undefined?window.screenLeft:window.screenX;var b=window.screenTop!=undefined?window.screenTop:window.screenY;var c=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var n=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var d=((c/2)-(m/2))+k;var g=((n/2)-(e/2))+b;var f=window.open(a,l,"toolbar=0,status=0,menubar=0,location=0,scrollbars=yes,resizable=yes,width="+m+", height="+e+", top="+g+", left="+d);if(!f){alert("선택하신 기능이 차단되었습니다.\n팝업 차단을 해지하신 후에 다시 시도해 주세요.");}if(window.focus){f.focus();}}function popupCenterFromIframe(a,l,m,e){var k=window.parent.screenLeft!=undefined?window.parent.screenLeft:window.parent.screenX;var b=window.parent.screenTop!=undefined?window.parent.screenTop:window.parent.screenY;var c=window.parent.innerWidth?window.parent.innerWidth:parent.document.documentElement.clientWidth?parent.document.documentElement.clientWidth:screen.width;var n=window.parent.innerHeight?window.parent.innerHeight:parent.document.documentElement.clientHeight?parent.document.documentElement.clientHeight:screen.height;var d=((c/2)-(m/2))+k;var g=((n/2)-(e/2))+b;var f=window.open(a,l,"toolbar=0,status=0,menubar=0,location=0,scrollbars=yes,resizable=yes,width="+m+", height="+e+", top="+g+", left="+d);if(!f){alert("선택하신 기능이 차단되었습니다.\n팝업 차단을 해지하신 후에 다시 시도해 주세요.");}if(window.focus){f.focus();}}function open_window(a,b,c,f,h){var k=Math.ceil((window.screen.width-c)/2);var g=Math.ceil((window.screen.height-f)/2);var d=h+",width="+c+",height="+f+",left="+k+",top="+g;var e=goWindows[b];if(!e||e.closed){if(isIE){e=window.open("",b,d);if(!e){alert("선택하신 기능이 차단되었습니다.\n팝업 차단을 해지하신 후에 다시 시도해 주세요.");}else{e.location.href=a;goWindows[b]=e;}}else{e=window.open(a,b,d);goWindows[b]=e;}}else{e.location.href=a;}return e;}function open_wnd(c,b,d,a){var e=open_window(c,b,d,a,"toolbar=0,menubar=0,resizable=yes,scrollbars=no");return e;}function open_wnd_post(f,e,h,b){var g=document.createElement("form");document.body.appendChild(g);var d=Math.ceil((window.screen.width-h)/2);var a=Math.ceil((window.screen.height-b)/2);var c=window.open("",e,"toolbar=0,menubar=0,resizable=yes,scrollbars=no,width="+h+",height="+b+",left="+d+",top="+a);g.target=e;g.method="post";g.action=f;g.submit();document.body.removeChild(g);}function popup(c,b,d,a,e){var f=open_window(c,b,d,a,"toolbar=0,menubar=0,resizable=yes,scrollbars="+e);return f;}function pop(c,d,a,b){if(b==1){var e=open_window(c,"",d,a,"toolbar=0,menubar=0,scrollbars=yes,resizable=yes");}else{var e=open_window(c,"",d,a,"toolbar=0,menubar=0,scrollbars=no,resizable=yes");}return e;}function openWindow(c,b,f,a,d){try{this.childWin=open_window(c,b,f,a,d);}catch(g){}if(this.childWin&&!this.childWin.closed){this.childWin.focus();}}function findLoginUrl(e,b){if(e==null||e==""){e=encodeURIComponent(document.location.href);}else{if(e.match("/ArticleRead.nhn")){e=encodeURIComponent(e);}else{e=encodeURIComponent(e);}}if(e.match("#$")){e=encodeURIComponent(e.substring(0,e.length-1));}var d="https://nid.naver.com/nidlogin.login?mode=form";var c=(b)?"&template=plogin":"";var a="&url="+e;return d+c+a;}function toLoginPage(a){top.location.href=findLoginUrl(a);}function popupLoginPage(a){var b=(a==null||a=="")?document.location:a;var d="http://"+document.location.host+"/OpenerRedirect.nhn?openerurl="+encodeURIComponent(b);var c=open_wnd(findLoginUrl(d,true),"naverLoginPop",410,280);if(!c){alert("선택하신 기능이 차단되었습니다.\n팝업 차단을 해지하신 후에 다시 시도해 주세요.");}return c;}function toCertPage(a,c){if(a==null||a==""){a=document.location.href;}var b="https://nid.naver.com/user/cert.nhn?todo=cert_start&svc=common&rurl="+a;if(c!=null&&c!=""){b+="&surl="+c;}top.location.href=b;}function toAdultLoginPage(b){var a=b+encodeURIComponent(document.location.href);top.location.href=a;}function LH_create(){this._list=new Array;this._isLoaded=false;this.add=function(strExec){this._list[this._list.length]=strExec;};this.exec=function(){if(this._isLoaded){return;}this._isLoaded=true;var list_len=this._list.length;for(var i=0;i<list_len;i++){try{eval(this._list[i]);}catch(e){}}};}function LH_exec(){if(LH){LH.exec();}}String.prototype.cut=function(a,c){var e=this;var b=0;for(var d=0;d<e.length;d++){b+=(e.charCodeAt(d)>128)?2:1;if(b>a){return e.substring(0,d)+c;}}return e;};String.prototype.bytes=function(){var c=this;var a=0;for(var b=0;b<c.length;b++){a+=(c.charCodeAt(b)>128)?2:1;}return a;};String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"");};function replaceBackslash(a){var b=a;if(b.indexOf("\\")>=0){b=b.replace(/\\/g,"\\\\");}if(b.indexOf('"')>=0){b=b.replace(/\"/g,'\\"');}return b;}function setTop(){window.scrollTo(0,0);}function setTopInIframe(){$("cafe_main").scrollIntoView();}function setTopInIframeComment(){var a=300;setTimeout(function(){try{document.getElementById("cafe_main").contentWindow.document.getElementById("cmtMenu").scrollIntoView();}catch(b){}},a);}function setTopInPanel(){$("main-area").scrollIntoView();}var frmMinWidth=-1;var frmMinHeight=-1;var applyMinSize=false;var frmMaxWidth=-1;var frmMaxHeight=-1;var applyMaxSize=false;function setMinSize(b,a){frmMinWidth=b;frmMinHeight=a;applyMinSize=true;}function setMaxSize(b,a){frmMaxWidth=b;frmMaxHeight=a;applyMaxSize=true;}function resizeIframeHeight(a){if(a==null||a==""){a="ManageRemocon";}try{var b;if(isIE&&(getIEVersion()<=7||document.documentMode<=7)){var f=document.getElementById(a);var h=window.frames[a].document.getElementsByTagName("HTML")[0];var k=window.frames[a].document.getElementsByTagName("BODY")[0];var d=window.frames[a].document.documentElement;var m=Math.max(k.scrollHeight,d.scrollHeight);}else{var c=document.getElementById(a).contentDocument.documentElement;var n=document.getElementById(a).contentDocument.body;var f=document.getElementById(a);var m=Math.max(c.scrollHeight,n.scrollHeight);if(m==parseInt(f.style.height)||!parseInt(f.style.height)||m==0){var o=c.getElementsByTagName("BODY")[0].appendChild(document.createElement("DIV"));o.style.clear="both";o.innerHTML="";var l=o.offsetTop;o.parentNode.removeChild(o);if(l>0){m=l;}}if(applyMinSize){m=(frmMinHeight>-1)?Math.max(m,frmMinHeight):m;}if(applyMaxSize){m=(frmMaxHeight>-1)?Math.min(m,frmMaxHeight):m;}}f.style.height=m+"px";}catch(g){}}function resizeIframe(a,h){if(a==null||a==""){a="cafe_main";}try{var b;if(isIE&&(getIEVersion()<=7||document.documentMode<=7)){var f=document.getElementById(a);var k=window.frames[a].document.getElementsByTagName("HTML")[0];var l=window.frames[a].document.getElementsByTagName("BODY")[0];var d=window.frames[a].document.documentElement;var p=l.scrollWidth;var n=Math.max(l.scrollHeight,d.scrollHeight);}else{var c=document.getElementById(a).contentDocument.documentElement;var o=document.getElementById(a).contentDocument.body;var f=document.getElementById(a);var p=Math.max(c.scrollWidth,o.scrollWidth);var n=Math.max(c.scrollHeight,o.scrollHeight);if(n==parseInt(f.style.height)||!parseInt(f.style.height)||n==0){var q=c.getElementsByTagName("BODY")[0].appendChild(document.createElement("DIV"));q.style.clear="both";q.innerHTML="";q.innerHTML="";var m=q.offsetTop;q.parentNode.removeChild(q);if(m>0){n=m;}}if(isIE&&(navigator.userAgent.indexOf("Trident/5")>-1)){p=(c.clientWidth)?c.clientWidth:p;}if(applyMinSize){p=(frmMinWidth>-1)?Math.max(p,frmMinWidth):p;n=(frmMinHeight>-1)?Math.max(n,frmMinHeight):n;}if(applyMaxSize){p=(frmMaxWidth>-1)?Math.min(p,frmMaxWidth):p;n=(frmMaxHeight>-1)?Math.min(n,frmMaxHeight):n;}}n+=200;f.style.height=n+"px";}catch(g){}}function parentResizeIframe(a,b){if(parent&&parent!=this&&parent.resizeIframe!=null){parent.resizeIframe(a,b);}}function photocastCallback(){parentResizeIframe("cafe_main");}function customResizeIFrame(c,b){var a=self.frameElement;if(a){var f=Element.realPos(Event.ready(c).element).top,g=document.documentElement.offsetHeight,e=(f+b)-g,d=g+e;if(d>g){a.style.height=d+"px";}}}function cutStringByPixel(a,b,l){var e=(typeof a!="String")?a.toString():a,g=parseInt(b,10),m=l||"",c=[],k="",f=arguments.callee;if(!f.welMeasure){f.welMeasure=document.createElement("SPAN");f.welMeasure.style.position="absolute";f.welMeasure.style.top="-1000px";f.welMeasure.style.left="-1000px";document.body.appendChild(f.welMeasure);}else{f.welMeasure.innerHTML="";}e=e.replace(/\r?\n/gim," ");for(var d=0,h=e.length;d<h;d++){k=e.charAt(d);if(k===" "){c.push(";");}else{c.push(k);}f.welMeasure.innerHTML=c.join("")+m;if(f.welMeasure.offsetWidth>g){return e.substring(0,(c.length-1))+m;}}return e;}if(NS4){document.captureEvents(Event.KEYDOWN);document.onkeydown=trapRefresh;}else{if(IE4){document.onkeydown=trapRefresh;}}function trapRefresh(b){var a;if(window.event){a=window.event;}else{a=b;}if(a.keyCode==116){if(window.event){a.keyCode=0;}a.cancelBubble=true;a.returnValue=false;document.location.reload();}}function initRead(a){document.getElementById(a).oncontextmenu=new Function("return false");document.getElementById(a).onselectstart=new Function("return false");document.getElementById(a).ondragstart=new Function("return false");}function toggleBlockDragInFF(a){if(a){cancelBlockDragInFF();}else{blockDragInFF();}}function blockMouseRight(){document.oncontextmenu=document.onselectstart=document.ondragstart=function(c){var d=c||window.event,b=d.target||d.srcElement,a=b.tagName||"";return/(?:textarea|input)/i.test(a);};if(window.document.body){window.document.body.style.MozUserSelect="none";}}function blockDragInFF(){if(window.document.body){window.document.body.style.MozUserSelect="none";}}function cancelBlockDragInFF(){if(window.document.body){window.document.body.style.MozUserSelect="text";}}function CancelBlockMouseRight(){document.ondragstart=document.onselectstart=document.oncontextmenu=null;document.body.style.MozUserSelect="text";}var prevSelIdx=0;function chkWriteFormCount(a,c){for(var b=0;b<a.length;b++){if(a[b].selected){if(c!=a[b].value&&Number(a[b].getAttribute("wf"))>=20){alert("선택하신 글양식은 이미 다른 20개의 메뉴에서 사용되고 있습니다.");a[prevSelIdx].selected=true;}else{prevSelIdx=b;}}}}function wordBreak(d){if(!d){return;}var b=$Agent();if(b.IE9||b.IE10){var c=d.innerHTML;if(c==null||c==""){return;}var a=c.match(g_sNicknameRegex)[0];var e=c.match(/<img [a-zA-Z0-9\=\"\-\s\:\/\.\_]*>/gi);if(e==null){e="";}a=a.replace(/./g,function(f){return f+"&#x200B;";});d.innerHTML=a+e;}else{return;}}function checkNumber(a){var b=/[^0-9]/g;var c=a.value;if(c.match(b)!=null){c=c.replace(b,"");a.value=c;}return true;}function onclickRos(){alert("죄송합니다.\n카페 서비스 점검 중입니다.\n점검 시간 동안 기능 이용이 제한됩니다.\n자세한 내용은 카페공지를 확인해 주세요. ");return false;}function onclickRosNotJoin(){alert("카페 서비스 점검 중입니다.\n점검이 끝난 후에 카페 가입이 가능합니다.");return false;}function initRosEvent(){var b="_rosRestrict";if(document.getElementsByClassName){var c=document.getElementsByClassName(b);for(i=0;i<c.length;i++){var d=c[i];if(d!=null){d.onclick=onclickRos;}}}else{var a=["a","div","span"];for(i=0;i<a.length;i++){var c=document.getElementsByTagName(a[i]);for(j=0;j<c.length;j++){var d=c[j];if(d.className.indexOf(b)>-1){d.onclick=onclickRos;}}}}}function changeTitle(a){top.document.title=(typeof(a)=="string")?decodeHtmlEntity(a):"";}function decodeHtmlEntity(b){var a=document.createElement("div");a.innerHTML=b.replace(/</g,"&lt;").replace(/>/g,"&gt;");return a.innerText;}function linkToNotice(){var a=window.open("${readOnlyMode.linkToNoticeURL}","underConstructionNotice");}function resizeImageSizeForPost(c){var b=740;if(c.width>b){var e=c.width;var a=c.height;var d=b/e;c.width=b;c.height=a*d;}return c;}function imageUrlReplacer(b,d){var a=/(https:\/\/cafeptthumb-phinf.pstatic.net|http:\/\/(beta.)?cafeptthumb(\d{1})?.phinf.naver.net)\.*/;var c=b.match(a);if(c&&c[0]&&c[1]){b=b.replace(c[1],d).replace(/\?.*/,"");return b;}return b;}function imageUrlReplacerForSkin(b,d){var a=/(https:\/\/cafeskthumb-phinf.pstatic.net|http:\/\/(beta.)?cafeskthumb.phinf.naver.net)\.*/;var c=b.match(a);if(c&&c[0]&&c[1]){b=b.replace(c[1],d).replace(/\?.*/,"");return b;}return b;}function openPopupSendURL(){var b;try{var e=285,a=402,g=100,f=100,d="http://webmsg.naver.com/popup_send/send_url.php",h="toolbar=no,status=no,menubar=no,location=no,scrollbars=no,resizable=no";h+=",width="+e+",height="+a+",left="+f+",top="+g;b=window.open(d+"?code=cafe&SMSID=ESW00017&MMSID=EMG00005","sendURL",h);}catch(c){}if(b&&!b.closed){b.focus();}}function intimacyLogMaker(b,c,a){var d=new Ajax("/IntimacyLogMake.nhn",{method:"POST",params:{intimacyMemberId:b,clubid:c,m:a}});}function initTopLayerQuery(){var a=parent.document.getElementById("topLayerQueryInput");if(a==null){return;}if(a==="undefined"){return;}a.value="";}function skipToMobileweb(b){var a=parent.document.getElementById("u_skipToMobileweb");if(a==null){return;}if(a==="undefined"){return;}a.href=b;}function targetCleaner(a){try{if(typeof a=="undefined"||a==null){return;}if(!!$Agent()&&$Agent().macSafari){a.target="_self";}}catch(b){if(a.tagName!=null){JEagleEyeClient.raiseError(b,this,{message:"targetCleaner - "+a.tagName});}else{JEagleEyeClient.raiseError(b,this,{message:"cafe_common.js > targetCleaner fail"});}}}function targetChangeToTop(a){try{if(typeof a=="undefined"||a==null){return;}if(!!$Agent()&&$Agent().macSafari){a.target="_top";}}catch(b){if(a.tagName!=null){JEagleEyeClient.raiseError(b,this,{message:"targetCleaner - "+a.tagName});}else{JEagleEyeClient.raiseError(b,this,{message:"cafe_common.js > targetCleaner fail"});}}}function targetChangeForMacSafari(a){if(!a){return false;}document.location.href=a;}function escapeXssCharacters(a){if(a==null){return a;}var c={'"':"quot","<":"lt",">":"gt"};var b=a.replace(/[<>"]/g,function(d){return c[d]?"&"+c[d]+";":d;});return b;}function encodeURIWithSpecialCharacter(a){return encodeURIComponent(a).replace(/[!'()*]/g,escape);}var uiMenuArr={viewArticle:"게시글보기",inviteCafe:"카페초대",inviteCafeChat:"1:1 채팅",updateLevel:"등급변경",kickMember:"강퇴시키기",sendMemo:"쪽지보내기",viewBlog:"블로그보기",givePresent:"선물하기",addNeighbor:"이웃추가",activityStop:"활동정지",activityStopRelease:"활동정지 해제"};var uiMenuNClickID={viewArticle:"nui.article",inviteCafe:"nui.invite",inviteCafeChat:"nui.1on1",updateLevel:"nui.mchange",kickMember:"nui.mban",sendMemo:"nui.note",viewBlog:"nui.blog",givePresent:"",addNeighbor:"",activityStop:"nui.mdisable",activityStopRelease:""};var _nUIMaxHeight=330;var sLoadBarTmpl='<img height="24" width="24" alt="" src="https://cafe.pstatic.net/cafe4/loading_name.gif">';var ui_memberid="";var ui_open_type="";var ui_nickname="";var ui_clubid="";var ui_memberinfo="";var ui_memberleveluse="false";var ui_cluburl="";var uiFactory=null;var ui_sBeforeID;var ui_menuid=null;function ui(e,p_memberid,lv_open_type,p_nickname,p_clubid,p_memberinfo,p_entireBoardStaff,p_memberleveluse,p_cluburl,p_activityStopExecutable,p_menuid,sMode){e=e||window.event;var sType="",elIFrame=self.frameElement;var ajax=new Ajax("/CafeMemberExistCheck.nhn",{method:"POST",params:{clubid:p_clubid,memberid:p_memberid},onLoad:onCafeMemberCheckAjaxLoad});if(!ui_sBeforeID){ui_sBeforeID="menu_parent";}sNewID="elFloatLayer_"+Math.floor(Math.random()*100000);if(uiFactory==null){uiFactory=new uiFactoryObject();}sType="loadingBar";if(elIFrame){var nPosTop=Element.realPos(Event.ready(e).element).top,nFrameHeight=document.documentElement.offsetHeight,nDiff=(nPosTop+_nUIMaxHeight)-nFrameHeight,nNewHeight=nFrameHeight+nDiff;if(nNewHeight>nFrameHeight){elIFrame.style.height=nNewHeight+"px";}}uiFactory.createUi(ui_sBeforeID,sNewID,sType);ui_sBeforeID=sNewID;var bApplyMember=false;var bSecedeMember=false;var bActivityStop=false;function onCafeMemberCheckAjaxLoad(){try{var oJsonData=eval("("+arguments[0].responseText+")");if(oJsonData.exist!="true"){bSecedeMember=true;}if(oJsonData.apply=="true"){bApplyMember=true;}if(oJsonData.activityStop=="true"){bActivityStop=true;}sType="menu";uiFactory.setParameter(p_memberid,lv_open_type,p_nickname,p_clubid,p_memberinfo,p_memberleveluse,p_cluburl,p_menuid);var htParam={p_memberid:p_memberid,lv_open_type:lv_open_type,p_nickname:p_nickname,p_clubid:p_clubid,p_memberinfo:p_memberinfo,p_entireBoardStaff:p_entireBoardStaff,p_memberleveluse:p_memberleveluse,p_cluburl:p_cluburl,p_activityStopExecutable:p_activityStopExecutable,bApplyMember:bApplyMember,bSecedeMember:bSecedeMember,bActivityStop:bActivityStop};if(elIFrame){htParam.fAfterCreate=function(){nFrameHeight=document.documentElement.offsetHeight;var cafe_main_IframeHeight=parseInt(top.$("cafe_main").style.height);if(nNewHeight>nFrameHeight){newCafeMainIframeHeight=(cafe_main_IframeHeight+(nNewHeight-nFrameHeight))+"px";elIFrame.style.height=nNewHeight+"px";top.$("cafe_main").style.height=newCafeMainIframeHeight;}};}uiFactory.createUi(ui_sBeforeID,sNewID,sType,htParam);}catch(e){}}if(sMode=="WIDGET"){var nDiffTop=$("lm-list").scrollTop;var nHeightElement=Event&&Event.ready?Event.ready(e).element.offsetHeight:13;nDiffTop=-(nDiffTop==0?0:nDiffTop-nHeightElement);oCL.show(sNewID,e,nDiffTop);}else{oCL.show(sNewID,e);}}function uiFactoryObject(){var a;this.setParameter=function(f,k,g,c,h,e,b,d){ui_memberid=f;if(k==null){ui_open_type="3";}ui_open_type=k.toString();if(g==null){ui_nickname="";}else{ui_nickname=g;}if(d!=null){ui_menuid=d;}ui_clubid=c;ui_memberinfo=h;ui_memberleveluse=e;ui_cluburl=b;};this.createUi=function(f,h,b,c){if(!document.getElementById(f)){var e=document.createElement("DIV");e.id="menu_parent";e.style.display="block";e.style.position="absolute";e.className="perid-layer";document.body.appendChild(e);}var k=document.getElementById(f);k.id=h;k.innerHTML="";if(b=="loadingBar"){k.style.width="109px";var l=document.createElement("dl");l.className="nm_load";var g=document.createElement("dt");g.innerHTML=sLoadBarTmpl;l.appendChild(g);var d=document.createElement("dd");d.innerHTML="정보를 불러오는<br>중입니다";l.appendChild(d);k.appendChild(l);}else{if(b=="menu"){k.style.width="109px";k.innerHTML="";var m=document.createElement("UL");m.appendChild(this.createFragment(c));k.appendChild(m);if(typeof c.fAfterCreate=="function"){c.fAfterCreate();}}}};this.createFragment=function(g){var f=this.setUiArr(g);var d;d=document.createDocumentFragment();var b=false;for(var c=0,e=f.length;c<e;c++){if(f[c]=="|"&&c+1<e){b=true;}else{d.appendChild(this.setMenuItem(f[c],b,g));b=false;}}return d;};this.setUiArr=function(c){var b=[];if(c.p_memberinfo=="me"||c.p_memberinfo=="st"||c.p_memberinfo=="ma"){if(c.bApplyMember){b.push("inviteCafe");b.push("sendMemo");b.push("viewBlog");return b;}if(c.bSecedeMember){if(c.p_memberinfo=="ma"||c.p_entireBoardStaff=="true"){b.push("viewArticle");return b;}}else{b.push("viewArticle");if(c.p_memberid!=g_sUserId){b.push("inviteCafeChat");b.push("sendMemo");}}}b.push("|");if(c.p_memberid!=g_sUserId){if(c.p_memberinfo=="st"||c.p_memberinfo=="ma"){if(c.p_memberleveluse=="true"){b.push("updateLevel");}if(c.p_activityStopExecutable=="true"){if(c.bActivityStop==false){b.push("activityStop");}else{b.push("activityStopRelease");}}b.push("kickMember");b.push("|");}else{if(c.p_activityStopExecutable=="true"){if(c.bActivityStop==false){b.push("activityStop");}else{b.push("activityStopRelease");}b.push("|");}}}b.push("inviteCafe");b.push("|");b.push("viewBlog");return b;};this.setMenuItem=function(c,f,g){var b;b=document.createElement("Li");if(f){b.className="line";}var d=document.createElement("A");d.href="#";d.onclick=function(){execMenuItem(c,g.p_memberid,g.p_membernick);return false;};var e=document.createElement("SPAN");e.innerHTML=uiMenuArr[c];d.appendChild(e);b.appendChild(d);return b;};this.hideUi=function(){oCL.hide(ui_sBeforeID);};}function execMenuItem(d,b,c){window[d](b,c);uiFactory.hideUi();var a=uiMenuNClickID[d];if(!!a&&a!=""){clickcr(this,a,"","","");}}function getTop(){return(screen.height-500)/2;}function getLeft(){return(screen.width-330)/2;}function viewBlog(a){popblog(a);}function sendMemo(c,a){try{intimacyLogMaker(c,g_sClubId,"sendMemo");}catch(b){}window.open("https://note.naver.com/note/sendForm.nhn?popup=1&svcType=2&targetUserId="+c,"popWin","width=330,height=200,scrollbars=no,resizable=yes,top="+getTop()+", left="+getLeft());}function inviteCafe(a){window.open("/CafeInviteView.nhn?m=view&inviteid="+a+"","popWin","width=350,height=390,scrollbars=no,resizable=yes,top="+getTop()+",left="+getLeft());}function inviteCafeChat(d){var c=g_sUserId;var a=g_sClubId;try{intimacyLogMaker(d,g_sClubId,"inviteCafeChat");}catch(b){}oOneToOneChatLauncher.run(a,c,d);}function popblog(b){var a=window.open("http://blog.naver.com/"+b,"popblog");a.focus();}function givePresent(a){window.open("http://item.naver.com/itembag/GiftPop.jsp?userid="+a,"gift","width=400,height=500,status=no,scrollbars=no");}function popMemberProfile(b,c){var a=window.open("/"+b+"/member/"+c+"/article","popMemberProfile");a.focus();}function viewArticle(a){uiRequest.doProcess("/CafeMemberExistCheck.nhn","&clubid="+ui_clubid+"&memberid="+a,viewArticleProcess);}function viewArticleProcess(req){var res=eval("("+req.responseText+")");if(res.apply!="true"){var url="/CafeMemberNetworkView.nhn?m=view&clubid="+ui_clubid+"&memberid="+ui_memberid;var newwindowurl="/"+ui_cluburl+".cafe?iframe_url=/CafeMemberNetworkView.nhn%3Fm=view%26memberid="+ui_memberid;try{top.document.getElementById("cafe_main").src=url;}catch(e){window.open(newwindowurl);}}else{if(res.apply=="true"){alert("가입 대기중인 멤버입니다");}else{}}}function updateLevel(a){uiRequest.doProcess("/CafeMemberExistCheck.nhn","&clubid="+ui_clubid+"&luc=true&memberid="+a,updateLevelProcess);}function updateLevelProcess(req){var res=eval("("+req.responseText+")");if(res.exist=="true"&&res.updatable=="true"){window.open("/ManageLevelUp.nhn?m=view&fromUpService=member&model.clubid="+ui_clubid+"&model.memberid="+ui_memberid,"levelup","width=350,height=476");}else{if(res.exist=="true"&&res.updatable=="false"){alert("매니저나 스탭의 등급을 변경할 수 없습니다.");}else{if(res.apply=="true"){alert("가입 대기중인 멤버입니다");}else{alert("탈퇴한 멤버입니다.");}}}}function kickMember(a){uiRequest.doProcess("/CafeMemberExistCheck.nhn","&clubid="+ui_clubid+"&luc=true&memberid="+a,kickMemberProcess);}function kickMemberProcess(req){var res=eval("("+req.responseText+")");if(res.exist=="true"&&res.manager=="false"){window.open("/ManageSecedePopupView.nhn?clubid="+ui_clubid+"&memberids="+ui_memberid+"&nickname="+ui_nickname,"","width=350,height=472");}else{if(res.exist=="true"&&res.manager=="true"){alert("매니저는 탈퇴시킬 수 없습니다.");}else{if(res.apply=="true"){alert("가입 대기중인 멤버입니다");}else{alert("탈퇴한 멤버입니다.");}}}}function activityStop(a){uiRequest.doProcess("/CafeMemberExistCheck.nhn","&clubid="+ui_clubid+"&memberid="+a,activityStopProcess);}function activityStopProcess(req){var res=eval("("+req.responseText+")");if(res.exist=="true"&&res.updatable=="true"){window.open("/ManageActivityStopPopupView.nhn?clubid="+ui_clubid+"&memberids="+ui_memberid+"&nickname="+ui_nickname+"&menuid="+ui_menuid,"activityStopPopup","width=350,height=472");}else{if(res.exist=="true"&&res.updatable=="false"){alert("스탭 이상은 활동정지 할 수 없습니다.");}else{if(res.apply=="true"){alert("가입 대기중인 멤버입니다");}else{alert("탈퇴한 멤버입니다.");}}}}function activityStopRelease(a){uiRequest.doProcess("/CafeMemberExistCheck.nhn","&clubid="+ui_clubid+"&memberid="+a,activityStopReleaseProcess);}function activityStopReleaseProcess(req){var res=eval("("+req.responseText+")");if(res.exist=="true"&&res.updatable=="true"){if(confirm("활동이 가능하도록 처리하시겠습니까?")){var ajax=new Ajax("/ManageActivityStopReleaseAjax.nhn",{method:"POST",params:{clubid:ui_clubid,activityStopId:ui_memberid},charset:"euc-kr",onLoad:function(res){try{var oJsonData=eval("("+res.responseText+")");alert(oJsonData.message);}catch(e){}}});}}else{alert("탈퇴한 멤버입니다.");}}var uiRequest=new Object();uiRequest.xmlHttp=null;uiRequest.doProcess=function(b,d,c){uiRequest.xmlHttp=getXmlHttpRequest();var a=b+"?t="+(new Date()).getTime();uiRequest.xmlHttp.onreadystatechange=function(){if(uiRequest.xmlHttp.readyState==4){c(uiRequest.xmlHttp);uiRequest.xmlHttp=null;}};uiRequest.xmlHttp.open("POST",a,true,null,null);if(typeof(uiRequest.xmlHttp.setRequestHeader)!="undefined"){uiRequest.xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8");}uiRequest.xmlHttp.send(d);};function getXmlHttpRequest(){if(window.XMLHttpRequest){return new XMLHttpRequest();}else{if(window.ActiveXObject){
/*@cc_on @*/
/*@if (@_jscript_version >= 5)
		try {
			return new ActiveXObject("Msxml2.XMLHTTP");
		} catch (e) {
			try {
				return new ActiveXObject("Microsoft.XMLHTTP");
			} catch (E) {
				return null;
			}
		}
		@end @*/
}else{return null;}}}var FLASH_BLOCK_CHROME_VERSION=55;var JINDO={clone:function(b){var c=new b.constructor;for(var a in b){c[a]=b[a];}return c;},extend:function(c,b){var d=c;for(var a in b){d[a]=b[a];}return d;}};var Class=function(){var a=function(){if(this.__init){this.__init.apply(this,arguments);}};if(arguments[0]){a.prototype=arguments[0];}return a;};Class.extend=function(b){var c=Class();c.prototype=new b;for(var a=1;a<arguments.length;a++){if(arguments[a]){JINDO.extend(c.prototype,arguments[a]);}}return c;};var Ajax=Class({_url:"",_request:null,_response:null,_headers:{},_crossDom:false,_loaded:false,__init:function(a){this.options=JINDO.extend({method:"GET",async:true,interval:0,params:null,suspend:false,charset:"utf-8",preventCache:false,ignoreWhiteSpace:false,contentType:"application/x-www-form-urlencoded",headers:{},onLoad:function(c){},onError:function(){},decode:true},arguments[1]||{});this._url=a;var b=String(document.location.href).match(/https?:\/\/([a-z0-9_\-\.]+)/i)[1];if(!(/^https?:\/\//i.test(a))){this._crossDom=false;}else{this._crossDom=!(new RegExp("^https?://"+b+"(:[0-9]+)?(?:/|$)","i")).test(a);}this._request=this._getXMLHTTP();this._headers=this.options.headers;if(!this.options.suspend){this.request();}},_getXMLHTTP:function(){if(this._crossDom){var a=new Ajax.swfHTTPRequest();a._decode=this.options.decode;return a;}else{if(window.XMLHttpRequest){return new XMLHttpRequest();}else{if(ActiveXObject){try{return new ActiveXObject("MSXML2.XMLHTTP");}catch(b){return new ActiveXObject("Microsoft.XMLHTTP");}return null;}}}},_onReadyStateChange:function(){if(this._request.readyState==4&&!this._loaded){this._loaded=true;this.options.onLoad(this._request);if(this.options.interval>0){this._timer=setTimeout(this.request.bind(this),this.options.interval*1000);}}},_getData:function(){var d,b=[],c=this;$H(this.options.params).each(function(e,a){if(e instanceof Function){e=e();}if(e instanceof Array){for(d=0;d<e.length;d++){b.push(a+"="+encodeURIComponent(e[d]));}return;}e=encodeURIComponent(e);b.push(a+"="+e);});return b.length?b.join("&"):null;},request:function(){var d=this.options;var b=d.method.toUpperCase();var c=this._request;if(this._crossDom){c.charset=this.options.charset;}c.open(d.method,this._url,d.async);c.setRequestHeader("Content-Type",d.contentType+"; charset=utf-8");c.setRequestHeader("charset","utf-8");for(var a in this._headers){if(this._headers.propertyIsEnumerable&&typeof(this._headers[a])!="function"){c.setRequestHeader(a,this._headers[a]);}}if(typeof c.onload!="undefined"){c.onload=this._onReadyStateChange.bind(this);}else{c.onreadystatechange=this._onReadyStateChange.bind(this);}this._loaded=false;c.send(this._getData());},abort:function(){this._request.abort();},setRequestHeader:function(a,b){this._headers[a]=b;},getResponseHeader:function(a){return this._request.getResponseHeader(a);}});Ajax.swfHTTPRequest=Class({_url:"",_method:"GET",_headers:{},charset:"utf-8",readyState:1,responseText:"",_decode:true,onreadystatechange:function(){},__init:function(){this._tmpId="tmpSwf"+(new Date).getMilliseconds()+Math.floor(Math.random()*100000);},_onLoad:function(c,a){if(c){if(typeof a=="undefined"){throw new Error("Access denied. please check crossdomain.xml and application domain");}try{this.responseText=this._decode?decodeURIComponent(a):a;if(!this.responseText||this.responseText==""){this.responseText=a;}this.responseXML=null;this.responseXML=this._parseXML(this.responseText);}catch(b){if(b.name=="URIError"){this.responseText=a;if(!this.responseText||this.responseText==""){this.responseText=a;}}}this.readyState=4;this.onreadystatechange();}},_parseXML:function(c){var a=null;try{a=new ActiveXObject("Microsoft.XMLDOM");a.async="false";a.loadXML(c);}catch(b){var d=new DOMParser();a=d.parseFromString(c,"text/xml");}return a;},abort:function(){},open:function(b,a){this._method=b;this._url=a;},send:function(f){var c=this;var e={},b,g,h;var d=window.document[Ajax._tmpId];f=(f||"").split(/&/);for(var a=0;a<f.length;a++){if(f[a]!=null&&f[a].trim()!==""){h=f[a].indexOf("=");b=f[a].substring(0,h);g=f[a].substring(h+1);e[b]=decodeURIComponent(g);}}Ajax.swfHTTPRequest["callback_"+this._tmpId]=function(){c._onLoad.apply(c,arguments);};d.requestViaFlash(JINDO.obj2json({url:this._url,type:this._method,data:e,charset:this.charset.toUpperCase(),callback:"Ajax.swfHTTPRequest.callback_"+this._tmpId,headers_json:this._headers}));},setRequestHeader:function(a,b){this._headers[a]=b;},getResponseHeader:function(a){return"";}});Ajax.initFlash=function(a){if(typeof a=="undefined"){a="./ajax.swf";}Ajax._tmpId="tmpSwf"+(new Date).getMilliseconds()+Math.floor(Math.random()*100000);document.write('<div style="filter:alpha(opacity=0); -ms-opacity:0; opacity:0;border: 0pt none  ! important; margin: 0pt ! important; padding: 0pt ! important; overflow: hidden ! important; position: absolute ! important; width: 3px ! important; height: 3px ! important; z-index: 9999 ! important;"><object id="'+Ajax._tmpId+'" width="1" height="1" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"><param name="movie" value="'+a+'"><param name = "allowScriptAccess" value = "always" /><embed name="'+Ajax._tmpId+'" src="'+a+'" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" width="1" height="1" allowScriptAccess="always" swLiveConnect="true"></embed></object></div>');};JINDO.extend(Array.prototype,{has:function(a){return(this.indexOf(a)>-1);},load:function(b){for(var a=0;a<b.length;a++){this.push(b[a]);}return this;},each:function(a){for(var b=0;b<this.length;b++){a.call(this,this[b],b);}},refuse:function(a){return this.filter(function(b){return b!=a;});},size:function(){return this.length;}});if(Array.prototype.forEach){Array.prototype.each=Array.prototype.forEach;}var Element={_blockTags:/^(div|p|ul|ol|li|pre|xmp|hr|blockquote|center|br|h[1-6]|fieldset|dl|dt|dd)$/i,show:function(){[].load(arguments).each(function(a){a=$(a);if(!Element.visible(a)){a.style.display=Element._blockTags.test(a.tagName)?"block":"inline";}});},hide:function(){[].load(arguments).each(function(a){$(a).style.display="none";});},toggle:function(){[].load(arguments).each(function(a){Element[Element.visible(a)?"hide":"show"](a);});},visible:function(a){return(this.getCSS($(a),"display")!="none");},has:function(b,a){for(;a;a=a.parentNode){if(a==b){return true;}}return false;},realPos:function(a){if(a.offsetParent){var b=this.realPos(a.offsetParent);return{top:a.offsetTop+b.top,left:a.offsetLeft+b.left};}else{return{top:a.offsetTop,left:a.offsetLeft};}},getCSS:function(c,b){var a;if(c.ownerDocument&&(a=c.ownerDocument.defaultView)){b=b.replace(/([A-Z])/g,function(d){return"-"+d.toLowerCase();});return a.getComputedStyle(c,null).getPropertyValue(b);}else{if(c.currentStyle){return c.currentStyle[b];}}return Element.getInlineCSS(c,b);},setCSS:function(a,b){$H(b).each(function(d,c){a.style[c]=d;});},hasClass:function(a,b){if(!a){return false;}return(" "+a.className+" ").indexOf(" "+b+" ")!=-1;},addClass:function(a,b){if(!this.hasClass(a,b)){$(a).className=($(a).className+" "+b).replace(/^\s+/,"");}},removeClass:function(a,c){for(var b=1,c;c=arguments[b];b++){$(a).className=$(a).className.replace(new RegExp("\\b"+c+"(\\s+|$)","g"),"");}},getInlineCSS:function(b,a){return b.style[a];},firstChild:function(a){for(a=a.firstChild;a&&a.nodeType!=1;a=a.nextSibling){}return a;},previousSibling:function(a){for(a=a.previousSibling;a&&a.nodeType!=1;a=a.previousSibling){}return a;},nextSibling:function(a){for(a=a.nextSibling;a&&a.nodeType!=1;a=a.nextSibling){}return a;},_cache:{},_regexp:{bparse:/([^>|\+|\s]+)\s*([>|\+]?)\s*/g,fparse:/\s*([>|\+]?)\s*([^>|\+|\s]+)/g,tag:/^([\w-]+)/,id:/#([\w-]+)/g,cls:/\.([\w-]+)/g,pseudo:/:([\w-]+(\(.*\))?)/g,pseudoparse:/([\w-]+)(\((.*)\))?/,attr:/\[([^\]]+)]/g,attrparse:/^(\[)([\w-]+)([!|\^|\$|\*]?=)(.*)(\])$/},_previousNode:function(a){while(a&&(a=a.previousSibling)&&a.nodeType!=1){}return a;},_nextNode:function(a){while(a&&(a=a.nextSibling)&&a.nodeType!=1){}return a;},_nodeIndex:function(b){var a=1;for(var c=b.parentNode.firstChild;c&&c!=b;c=this._nextNode(c),a++){}return a;},_pseudo:{first_child:function(a){return Element._previousNode(a)?false:true;},last_child:function(a){return Element._nextNode(a)?false:true;},empty:function(a){return a.firstChild?false:true;},contains:function(b,a){return b.innerHTML.indexOf(a)>-1;}},_filter:function(g,r){var d={};var k={},m=["true"];var a,e="";var c,q,f,o,b;if(c=g.match(this._regexp.id)){if(c[1]){return false;}d.id=c[0].substr(1);}q=g.match(this._regexp.tag);d.tag=(q&&q[1])||"*";if(f=g.match(this._regexp.cls)){for(var p,h=0;p=f[h];h++){m.push('Element.hasClass(o,"'+p.substr(1)+'")');}}if(o=g.match(this._regexp.pseudo)){for(var n,h=0;n=o[h];h++){n=n.substr(1).match(this._regexp.pseudoparse);m.push("Element._pseudo."+n[1].replace("-","_")+'(o, "'+n[3]+'")');}}if(b=g.match(this._regexp.attr)){for(var l,h=0;l=b[h];h++){l=l.match(this._regexp.attrparse);a="v_"+l[2];if(!k[l[2]]){e+="var "+a+' = o.getAttribute("'+l[2]+'") || "";\n';k[l[2]]=true;}switch(l[3]){case"=":m.push(a+' == "'+l[4]+'"');break;case"!=":m.push(a+' != "'+l[4]+'"');break;case"^=":m.push(a+'.indexOf("'+l[4]+'") == 0');break;case"$=":m.push(a+".substr("+a+'.length - "'+l[4]+'".length) == "'+l[4]+'"');break;case"*=":m.push(a+'.indexOf("'+l[4]+'") > -1');break;default:m.push(a+" != null");}}}if(r){if(d.tag&&d.tag!="*"){m.push('(casei ? o.tagName.toLowerCase() == "'+d.tag.toLowerCase()+'" : o.tagName == "'+d.tag+'")');}if(d.id){m.push('o.id == "'+d.id+'"');}}d.func=new Function("o","casei",e+"\nreturn ("+m.join(" && ")+")");return d;},_traceNode:function(c,f,d,b,e){if(b==-1){return true;}var a=d[b];switch(a.type){case"":for(f=f.parentNode;f!=c;f=f.parentNode){if(a.filter.func(f,e)){if(this._traceNode(c,f,d,b-1,e)){return true;}}}break;case">":f=f.parentNode;if(f&&f!=c&&a.filter.func(f,e)){if(this._traceNode(c,f,d,b-1,e)){return true;}}break;case"+":f=this._previousNode(f);if(f&&a.filter.func(f,e)){if(this._traceNode(c,f,d,b-1,e)){return true;}}break;}return false;},_compile:function(f,h,e){if(!this._cache[f]){var b={backward:[],forward:[]};var a=this;h.replace(this._regexp.bparse,function(m,k,l){b.backward.push({type:l,filter:a._filter(k,true)});});var c=0,g;var d=[];e.replace(this._regexp.fparse,function(m,l,k){b.forward.push({type:l,filter:a._filter(k)});switch(l){case">":g="_getChildren";break;case"":g="_getOffspring";break;case"+":g="_getBrother";break;}d.push("result = Element."+g+"(result, forward["+(c++)+"].filter, casei);");});d.push("return result;");b.filter=new Function("result","forward","casei",d.join("\n"));this._cache[f]=b;}return this._cache[f];},_getChildren:function(f,d,c){var a=[];var g;for(var b=0,e;e=f[b];b++){for(g=e.firstChild;g;g=this._nextNode(g)){if(d.func(g,c)){a.push(g);}}}return a;},_getOffspring:function(g,a,c){var h=[];var k;for(var f=0,e;e=g[f];f++){k=e.getElementsByTagName(a.tag);for(var d=0,b;b=k[d];d++){if(a.func(b,c)){h.push(b);}}}return h;},_getBrother:function(f,d,c){var a=[];var g;for(var b=0,e;e=f[b];b++){if(g=this._nextNode(e)){if(d.func(g,c)){a.push(g);}}}return a;},query:function(h,k){var c=$Agent();k=k||document;var e=h.match(/(.*#[\w]+[^>|\+|\s]*)([>|\+|\s].*)/)||[];var a=Element._compile(h,e[1]||h,e[2]||"");var m=a.backward.length-1;var b=a.backward[m].filter;var l=[];var n=[];var d=(k==document||(k.ownerDocument||k.document)==document);if(b.id){l.push(document.getElementById(b.id));}else{if(c.IE55&&b.tag=="*"){l=k.all;}else{l=k.getElementsByTagName(d?b.tag.toLowerCase():b.tag);}}for(var f=0,g;g=l[f];f++){if(b.func(g,d)){if(Element._traceNode(k,g,a.backward,m-1,d)){n.push(g);}}}return a.filter(n,a.forward,d);},appendHTML:function(a,b){return Element.insertAdjacentHTML(a,b,"beforeEnd","firstChild",function(c){this._element.appendChild(this,c);});},insertAdjacentHTML:function(m,k,s,o,p){var d=m;if(d.insertAdjacentHTML&&!(/^<(option|tr|td|th|col)(?:.*?)>/.test(k.replace(/^[\s]+/,"").replace(/[\s]+$/,"").replace(/[\s]{2,}/," ").toLowerCase()))){d.insertAdjacentHTML(s,k);}else{var t=d.ownerDocument||d.document||document;var n=t.createDocumentFragment();var r;var b=k.replace(/^[\s]+/,"").replace(/[\s]+$/,"").replace(/[\s]{2,}/," ");var q={option:"select",tr:"tbody",thead:"table",tbody:"table",col:"table",td:"tr",th:"tr",div:"div"};var a=/^\<(option|tr|thead|tbody|td|th|col)(?:.*?)\>/i.exec(b);var c=a===null?"div":a[1].toLowerCase();var g=q[c];r=Element._createEle(g,b,t,true);var f=r.getElementsByTagName("script");for(var h=0,e=f.length;h<e;h++){f[h].parentNode.removeChild(f[h]);}while(r[o]){n.appendChild(r[o]);}p(n.cloneNode(true));}return m;},_createEle:function(g,f,a,e){var c="R"+new Date().getTime()+parseInt(Math.random()*100000,10);var d=a.createElement("div");switch(g){case"select":case"table":case"dl":case"ul":case"fieldset":d.innerHTML="<"+g+' class="'+c+'">'+f+"</"+g+">";break;case"thead":case"tbody":case"col":d.innerHTML="<table><"+g+' class="'+c+'">'+f+"</"+g+"></table>";break;case"tr":d.innerHTML='<table><tbody><tr class="'+c+'">'+f+"</tr></tbody></table>";break;default:d.innerHTML='<div class="'+c+'">'+f+"</div>";break;}var b;for(b=d.firstChild;b;b=b.firstChild){if(b.className==c){break;}}return e?b:b.childNodes;}};$$=Element.query;var Event={register:function(a,c,b){a=$(a);if(a.addEventListener){if(c=="mousewheel"){c="DOMMouseScroll";}a.addEventListener(c,b,false);}else{if(a.attachEvent){a.attachEvent("on"+c,b);}}},unregister:function(a,c,b){a=$(a);if(a.removeEventListener){if(c=="mousewheel"){c="DOMMouseScroll";}a.removeEventListener(c,b,false);}else{if(a.detachEvent){a.detachEvent("on"+c,b);}}},ready:function(c){var f=c||window.event;var a=document.body;switch(f.type.toUpperCase()){case"DOMMOUSESCROLL":f.delta=-f.detail;break;case"MOUSEWHEEL":f.delta=f.wheelDelta/40;break;}var g=[a.scrollLeft||document.documentElement.scrollLeft,a.scrollTop||document.documentElement.scrollTop];var d={element:f.target||f.srcElement,related_element:f.relatedTarget||(f.type=="mouseover"?f.fromElement:f.toElement),page_x:f.pageX||f.clientX+g[0]-a.clientLeft,page_y:f.pageY||f.clientY+g[1]-a.clientTop,layer_x:f.offsetX||f.layerX-1,layer_y:f.offsetY||f.layerY-1,mouse:{left:(f.which&&f.button==0)||!!(f.button&1),middle:(f.which&&f.button==1)||!!(f.button&4),right:(f.which&&f.button==2)||!!(f.button&2)},of:function(h){var e;var b=true;if(e=this.element){b&=Element.has(h,e);}if(e=this.related_element){b&=Element.has(h,e);}return b;},stop:function(){Event.stop(this);}};d[f.key?"keyInfo":"key"]={alt:f.altKey,ctrl:f.ctrlKey,shift:f.shiftKey,up:[38,104].has(f.keyCode),down:[40,98].has(f.keyCode),left:[37,100].has(f.keyCode),right:[39,102].has(f.keyCode),enter:(f.keyCode==13)};JINDO.extend(f,d);return f;},stop:function(a){if(a.preventDefault!==undefined){a.preventDefault();}else{a.returnValue=false;}if(a.stopPropagation!==undefined){a.stopPropagation();}else{a.cancelBubble=true;}}};Event.stopProc=function(a){Event.stop(a||window.event);};document.getElementsByClassName=function(c,e){var b=[].load(($(e)||document.body).getElementsByTagName("*"));var d=new RegExp("(^|\\s)"+c+"($|\\s)","gi");return b.filter(function(a){return d.test(a.className);});};function $(){var a=[];for(var b=0;b<arguments.length;b++){if(typeof arguments[b]=="string"){a[a.length]=document.getElementById(arguments[b]);}else{a[a.length]=arguments[b];}}return a[1]?a:a[0];}function $A(c){var a=[];for(var b=0;b<c.length;b++){a[a.length]=c[b];}return a;}function $C(a){return document.createElement(a);}function $H(d){var a,b=function(){};JINDO.extend(b.prototype,{keys:function(){var f=new Array;for(var e in this){if(this.propertyIsEnumerable(e)&&typeof Object.prototype[e]=="undefined"){f.push(e);}}return f;},values:function(){var e=new Array;var g=this.keys();for(var f=0;f<g.length;f++){e.push(this[g[f]]);}return e;},each:function(e){var g=this.keys();for(var f=0;f<g.length;f++){e(this[g[f]],g[f]);}},size:function(){return this.keys().length;}});a=new b;try{JINDO.extend(a,d);}catch(c){alert(c);}return a;}function $Agent(){var c={},k=-1,d=-1,n=navigator.userAgent,m=navigator.vendor||"",g=document.documentMode,a=navigator.platform;function h(f,e){return((e||"").indexOf(f)>-1);}c.getName=function(){var f="";for(var e in c){if(typeof c[e]=="boolean"&&c[e]&&c.hasOwnProperty(e)){f=e;}}return f;};c.webkit=h("WebKit",n);c.opera=(window.opera!==undefined)||h("Opera",n);c.ie=!c.opera&&(h("MSIE",n)||h("Trident",n));c.chrome=c.webkit&&h("Chrome",n);c.safari=c.webkit&&!c.chrome&&h("Apple",m);c.firefox=h("Firefox",n);c.mozilla=h("Gecko",n)&&!c.safari&&!c.chrome&&!c.firefox&&!c.ie;c.camino=h("Camino",m);c.netscape=h("Netscape",n);c.omniweb=h("OmniWeb",n);c.icab=h("iCab",m);c.konqueror=h("KDE",m);c.mobile=(h("Mobile",n)||h("Android",n)||h("Nokia",n)||h("webOS",n)||h("Opera Mini",n)||h("BlackBerry",n)||(h("Windows",n)&&h("PPC",n))||h("Smartphone",n)||h("IEMobile",n))&&!h("iPad",n);c.msafari=(!h("IEMobile",n)&&h("Mobile",n))||(h("iPad",n)&&h("Safari",n));c.mopera=h("Opera Mini",n);c.mie=h("PPC",n)||h("Smartphone",n)||h("IEMobile",n);c.macSafari=c.safari&&h("Mac",a);c.IE=c.ie;c.IE5=false;c.IE55=false;c.IE6=false;c.IE7=false;c.IE8=false;c.IE9=false;c.IE10=false;c.IE11=false;c.macIE=c.ie&&h("Mac",a);c.Gecko=h("Gecko",n);c.Opera=c.opera;c.Safari=c.safari;c.KHTML=h("KHTML",m);c.OldIE=false;try{if(c.ie){if(g>0){k=g;if(n.match(/(?:Trident)\/([0-9.]+)/)){var b=parseFloat(RegExp.$1,10);if(b>3){d=b+4;}}else{d=k;}}else{d=k=parseFloat(n.match(/(?:MSIE) ([0-9.]+)/)[1],10);}if(k>=5&&k<5.5){c.IE5=true;c.OldIE=true;}else{if(k==5.5){c.IE55=true;c.OldIE=true;}else{if(k>=6&&k<7){c.IE6=true;c.OldIE=true;}else{if(k>=7&&k<8){c.IE7=true;c.OldIE=true;}else{if(k>=8&&k<9){c.IE8=true;c.OldIE=true;}else{if(k>=9&&k<10){c.IE9=true;}else{if(k>=10&&k<11){c.IE10=true;}else{if(k>=11&&k<12){c.IE11=true;}}}}}}}}}else{if(c.safari||c.msafari){k=parseFloat(n.match(/Safari\/([0-9.]+)/)[1]);if(k==100){k=1.1;}else{if(n.match(/Version\/([0-9.]+)/)){k=RegExp.$1;}else{k=[1,1.2,-1,1.3,2,3][Math.floor(k/100)];}}}else{if(c.mopera){k=n.match(/(?:Opera\sMini)\/([0-9.]+)/)[1];}else{if(c.firefox||c.opera||c.omniweb){k=n.match(/(?:Firefox|Opera|OmniWeb)\/([0-9.]+)/)[1];}else{if(c.mozilla){k=n.match(/rv:([0-9.]+)/)[1];}else{if(c.icab){k=n.match(/iCab[ \/]([0-9.]+)/)[1];}else{if(c.chrome){k=n.match(/Chrome[ \/]([0-9.]+)/)[1];}}}}}}}c.version=parseFloat(k);c.nativeVersion=parseFloat(d);if(isNaN(c.version)){c.version=-1;}}catch(l){c.version=-1;}window.$Agent=function(){return c;};return c;}(function(){var a={push:function(){for(var i=0;i<arguments.length;i++){this[this.length]=arguments[i];}return this.length;},pop:function(){var el=this[Math.max(this.length-1,0)];if(this.length){this.length--;}return el;},shift:function(){var el=this[0];for(var i=0;i<this.length-1;i++){this[i]=this[i+1];}if(this.length){this.length--;}return el;},unshift:function(){var a=new Array(arguments.length+this.length);for(var i=a.length-1;i>-1;i--){a[i]=(i<arguments.length)?arguments[i]:this[i-arguments.length];}for(var i=0;i<a.length;i++){this[i]=a[i];}},filter:function(func){var l=this.length,a=[],obj=arguments[1],v;for(var i=0;i<l;i++){v=this[i];if(obj){if(func.call(obj,v,i,this)){a.push(v);}}else{if(func(v,i,this)){a.push(v);}}}return a;},map:function(func){var l=this.length,a=new Array(l),obj=arguments[1];for(var i=0;i<l;i++){a[i]=obj?func.call(obj,this[i],i,this):func(this[i],i,this);}return a;},indexOf:function(el){var from=arguments[1]||0;if(from<0){from+=this.length;}for(var i=from;i<this.length;i++){if(this[i]==el){return i;}}return -1;},lastIndexOf:function(el){var from=(typeof arguments[1]=="undefined")?this.length:arguments[1];if(from<0){from+=this.length;}for(var i=from;i>=0;i--){if(this[i]==el){return i;}}return -1;}};var f={call:function(obj){var r,a=[];(obj||{}).prototype.__jindo_call__=this;switch(arguments.length){case 1:return obj.__jindo_call__();break;case 2:return obj.__jindo_call__(arguments[1]);break;case 3:return obj.__jindo_call__(arguments[1],arguments[2]);break;default:for(var i=1;i<arguments.length;i++){a.push("arguments["+i+"]");}return eval("obj.__jindo_call__("+a.join(",")+")");}},apply:function(obj,arg){var r,a=[];arg=arg||[];(obj||{}).prototype.__jindo_apply__=this;switch(arg.length){case 0:return obj.__jindo_apply__();case 1:return obj.__jindo_apply__(arg[0]);case 2:return obj.__jindo_apply__(arg[0],arg[1]);default:for(var i=0;i<arg.length;i++){a.push("arg["+i+"]");}return eval("obj.__jindo_apply__("+a.join(",")+")");}}};var o={propertyIsEnumerable:function(k){return(typeof Object[k]=="undefined")&&(typeof Object.prototype[k]=="undefined");}};for(var x in a){if(typeof Array.prototype[x]=="undefined"){Array.prototype[x]=a[x];}}for(var x in f){if(typeof Function.prototype[x]=="undefined"){Function.prototype[x]=f[x];}}for(var x in o){if(typeof Object.prototype[x]=="undefined"){Object.prototype[x]=o[x];}}})();if(typeof window.debugg=="undefined"){(function(){window.debugg={};var b=["log","assert","time","timeEnd"];for(var a=0;a<b.length;a++){window.debugg[b[a]]=function(){};}})();}JINDO.extend(Function.prototype,{bind:function(d){var c=this,b=$A(arguments);b.shift();return function(){return c.apply(d,b);};},bindForEvent:function(d){var c=this,b=$A(arguments);return function(a){b[0]=Event.ready(a);return c.apply(d,b);};},owner:function(a){var b=this;return function(){return b.apply(a,$A(arguments));};}});JINDO.obj2json=function(d){switch(typeof d){case"boolean":case"number":return d.toString();case"string":d=d.replace(/(["|\\])/g,"\\$1");return'"'+d+'"';case"object":if(d===null){return"null";}if(d instanceof Function){return JINDO.obj2json(d());}if(d instanceof Array){var b=new Array;for(var c=0;c<d.length;c++){b.push(JINDO.obj2json(d[c]));}return"["+b.join(",")+"]";}if(d instanceof Object){var b=new Array;$H(d).each(function(e,a){if(e instanceof Function){e=d[a]();}b.push(JINDO.obj2json(a)+":"+JINDO.obj2json(e));});return"{"+b.join(",")+"}";}case"undefined":default:return'""';}};JINDO.xml2obj=function(b){var f={},h=[],g=0;var d=/^\s+|\s+$/g;var c=/^[0-9]+(\.[0-9]+)?$/;var a=function(k){k=k||"";if(k.substr(0,9)=="<![CDATA["&&k.substr(k.length-3,3)=="]]>"){return k.substring(9,k.length-3);}k=k.replace(d,"");if(c.test(k)){return((RegExp.$1).length?parseFloat:parseInt)(k);}if(k=="true"||k=="false"){return new Boolean(k);}return k.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&");};var e=function(l,m){var k=false;m.replace(/([^=\s]+)\s*=\s*"([^\"]*)"/g,function(p,o,n){k=true;l[o]=a(n);});return k;};b=b.replace(/<(\?|\!-)[^>]*>/g,"").replace(/>\s+</g,"><");b=b.replace(/<([0-9a-zA-Z:_\-]+)([^>]*?)>(<\!\[CDATA\[(?:.|\s)*?\]\]>|\s*[^<>]*\s*)?<\/\1>|<([0-9a-zA-Z:_\-]+)([^>]*?)>|<\/([0-9a-zA-Z:_\-]+)>/ig,function(w,u,t,s,r,o,n){var m=false;var p=false;var l={};var v="";if((n||"").length){g--;return"";}if(h.length==0){h[g]=f;if((u||"").length){if((t||"").length){m=e(f,t);}if((s||"").length){if(m){f._nodeValue=a(s);}else{f=a(s);}}}else{if((o||"").length){e(f,o);}}return"";}v=u||r;if(typeof h[g][v]=="undefined"){h[g][v]=l;}else{if(h[g][v].constructor==Array){h[g][v].push(l);}else{h[g][v]=[h[g][v],l];}}if((u||"").length){m=e(l,t||"");if((s||"").length&&m){l._nodeValue=a(s);}else{var k=h[g][v];if(k.constructor==Array){k[k.length-1]=a(s);}else{h[g][v]=a(s);}}return"";}if((r||"").length){o=o||"";if(o.substr(o.length-1,1)=="/"){p=true;o=o.substr(0,o.length-1);}m=e(l,o);}if(!p){h[++g]=l;}return"";});return f;};JINDO.xml2json=function(a){return JINDO.obj2json(JINDO.xml2obj(a));};var Ju={};Ju.Animate=Class({_timer:null,_stopped:false,duration:0.3,interval:0.01,start:function(){this.onStart();this._stopped=false;this.__animate=this._animate.bind(this);this._animate();},_animate:function(){var a=this.onProgress();if(a&&!stopped){this._timer=setTimeout(this.__animate,this.interval);}},stop:function(){clearTimeout(this._timer);this._stopped=true;this.onFinish();},onStart:function(){},onProgress:function(){},onFinish:function(){}});Ju.Blind=Class({__init:function(a){this.options=JINDO.extend({duration:0.3},arguments[1]||{});this.element=$(a);this._timer=null;this.element.style.display=(this.element.offsetHeight>0)?"block":"none";},toggle:function(){var c=0;var d=(this.element.style.display=="none");if(this._timer!=null){return;}if(d){var b=this.element.style.position;var a=this.element.style.visibility;this.element.style.visibility="hidden";this.element.style.position="absolute";Element.show(this.element);}c=this.element.offsetHeight;this.element.style.height=c+"px";if(this.element.offsetHeight!=this.element.style.height){c+=parseInt(this.element.style.height)-this.element.offsetHeight;}if(d){this.element.style.height="0px";this._animateCur=0;this._animateTo=c;}else{this.element.style.height=c+"px";this._animateCur=c;this._animateTo=0;}this._animateStep=(this._animateTo-this._animateCur)/(this.options.duration*50);this.element.style.overflow="hidden";if(d){this.element.style.visibility=a;this.element.style.position=b;}this.animate();},animate:function(){var a=this._animateStep/Math.abs(this._animateStep);var b=Math.floor(this._animateCur+this._animateStep);this._animateCur+=this._animateStep;if(a<0&&b<0){b=0;}else{if(a>0&&b>this._animateTo){b=this._animateTo;}}this.element.style.height=b+"px";if(b!=this._animateTo){this._timer=setTimeout(this.animate.bind(this),20);}else{this._animateCur=b;this.element.style.display=this._animateTo?"block":"none";this.element.style.overflow="";this.element.style.height="";clearTimeout(this._timer);this._timer=null;}}});Ju.Static=Class({__init:function(b){this.obj=$(b);this.options=JINDO.extend({enable:true,slowDown:false,topTrack:false,topMargin:0,division:50,limitArea:null},arguments[1]||{});var a=this.getPos(this.obj)[0];if(this.obj.style.position==""){this.obj.style.position="absolute";if(a!=this.getPos(this.obj)[0]){this.obj.style.position="relative";}}if(this.obj.style.position=="absolute"){this.obj.style.top=this.obj.offsetTop+"px";}else{if(a==this.getPos(this.obj)[0]){this.obj.style.top="0px";}else{this.obj.style.top=(this.getPos(this.obj)[0]-a)+"px";}}this._scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this._startTop=parseInt(this.obj.style.top);this._startPosY=this.getPos(this.obj)[0];this.onscroll=this.onScroll.bindForEvent(this);Event.register(window,"scroll",this.onscroll);},onScroll:function(f){if(!this.options.enable){return;}var d=Math.max(document.documentElement.scrollTop,document.body.scrollTop);var c=d-this._scrollTop;if(this._timer!=null){clearTimeout(this._timer);this._timer=null;}this._targetTop=this._startTop+c;if(this.options.topTrack){if(d+this.options.topMargin>this._startPosY){this._targetTop-=this._startPosY-this.options.topMargin;}else{this._targetTop=this._startTop;}c=this._targetTop-this._startTop;}if(this.options.limitArea){var a=this.getPos(this.obj)[0];var b=$(this.options.limitArea);var g=this.getPos(b)[0];if(this._startPosY+c+this.obj.offsetHeight>g+b.offsetHeight){c=g+b.offsetHeight-this._startPosY-this.obj.offsetHeight;this._targetTop=this._startTop+c;}}this._timer=setTimeout(this.animate.bind(this),1);},animate:function(){var a=parseInt(this.obj.style.top);var c=(this._targetTop-a)<0?-1:1;var b=Math.ceil(this._targetTop-this._startTop/100);if(this.options.slowDown){b=parseInt((this._targetTop-a)/this.options.division);if(b==0){b=c;}}if((b>0&&a+b>this._targetTop)||(b<0&&a+b<this._targetTop)){b=this._targetTop-a;}if(this._targetTop!=a){this.obj.style.top=(a+b)+"px";setTimeout(this.animate.bind(this),10);}},getPos:function(c){var b=0,a=0;while(c.offsetParent){b+=c.offsetTop;a+=c.offsetLeft;c=c.offsetParent;}return[b,a];},setEnable:function(a){this.options.enable=a;}});Ju.controlLayer=Class({_bCursorOver:false,_bBlockReOpen:false,_oElement:null,_sElementID:"",__init:function(){this.options=JINDO.extend({onShow:function(a){},onHide:function(){}},arguments[0]||{});this._checkFunction=this._checkLayer.bind(this);this._onMouseOverFunction=this._onMouseOver.bind(this);this._onMouseOutFunction=this._onMouseOut.bind(this);},show:function(a,c,e,f){if(this._oElement==null||this._sElementID!=a){this._bBlockReOpen=false;}this._sElementID=a;this._oElement=$(a);if(this._bBlockReOpen==false){if(c){this._oElement.style.position="absolute";this._oElement.style.zIndex="1000";var c=c||window.event;var d=c.target||c.srcElement;var b=Element.realPos(d);if(e||f){this._oElement.style.top=e?(b.top+e)+"px":b.top+"px";this._oElement.style.left=f?(b.left+f)+"px":b.left+"px";}else{this._oElement.style.top=(b.top+d.offsetHeight)+"px";this._oElement.style.left=b.left+"px";}}this._oElement.style.zIndex="1000";this._oElement.style.display="block";Event.register(this._oElement,"mouseover",this._onMouseOverFunction);Event.register(this._oElement,"mouseout",this._onMouseOutFunction);Event.register(document.body,"mousedown",this._checkFunction);this.options.onShow(this._oElement);}},hide:function(a){if(a){this._oElement=$(a);}this._oElement.style.display="none";Event.unregister(this._oElement,"mouseover",this._onMouseOverFunction);Event.unregister(this._oElement,"mouseout",this._onMouseOutFunction);Event.unregister(document.body,"mousedown",this._checkFunction);this.options.onHide();},_checkLayer:function(){if(this._bCursorOver==false){this.hide();this._bBlockReOpen=true;setTimeout(function(){this._bBlockReOpen=false;}.bind(this),300);}},_onMouseOver:function(){this._bCursorOver=true;},_onMouseOut:function(){this._bCursorOver=false;}});Ku={};Ku.Colorpicker=Class({__init:function(g){var b=this._element=$(g);this.useFilter=!!(this._element.filters);this.useCanvas=!!($C("canvas").getContext);this.options=JINDO.extend({width:201,huePanelHeight:12,colPanelHeight:170,onchange:function(c){}},arguments[1]||{});var d=this.options;if(!this.useFilter&&!this.useCanvas){Element.hide(this._element);return false;}b.style.width=d.width+"px";var f=this._col_panel=this.useCanvas?$C("canvas"):$C("div");var a=this._hue_panel=this.useCanvas?$C("canvas"):$C("div");Element.setCSS(b.appendChild(f),{border:"1px solid #C5CAD0",background:"white",cursor:"crosshair",zIndex:0});Element.setCSS(b.appendChild(a),{marginTop:"6px",border:"1px solid #C5CAD0",background:"white",cursor:"crosshair",position:"relative",zIndex:0});if(this.useCanvas){f.width=a.width=d.width;f.height=d.colPanelHeight;a.height=d.huePanelHeight;}else{f.style.width=a.style.width=d.width+"px";f.style.height=d.colPanelHeight+"px";a.style.height=d.huePanelHeight+"px";f.style.position=a.style.position="relative";a.style.overflow="hidden";}this.ondown_hue=this.ondownHue.bindForEvent(this);this.onmove_hue=this.onmoveHue.bindForEvent(this);this.ondown_col=this.ondownCol.bindForEvent(this);this.onmove_col=this.onmoveCol.bindForEvent(this);Event.register(f,"mousedown",this.ondown_col);Event.register(f,"mousemove",this.onmove_col);Event.register(a,"mousedown",this.ondown_hue);Event.register(a,"mousemove",this.onmove_hue);Event.register(document.body,"mouseup",this.onup.bind(this));this.drawHueBar();this.setHSV(0,100,100);},setRGB:function(e,d,a){var c=this.rgb2hsv(e,d,a);this.setHSV(c.h,c.s,c.v);},setHSV:function(d,c,a){var b=this.hsv2rgb(d,c,a);var e=this.rgb2hex(b.r,b.g,b.b);this.clear();this.gradFill("#"+e,1);this.gradFill("#000000",0);this._curHSV={h:d,s:c,v:a};},ondownHue:function(a){if(a.mouse.left){this.movingHue=true;this.onmoveHue(a);}},onmoveHue:function(b){if(!this.movingHue){return;}var c=this._getOffsetXY(b);var a=(c.x/(this._hue_panel.offsetWidth-1))*360;a=Math.min(Math.max(a,0),360);this.setHSV(a,this._curHSV.s,this._curHSV.v);},ondownCol:function(a){if(a.mouse.left){this.movingCol=true;this.onmoveCol(a);}},onmoveCol:function(f){if(!this.movingCol){return;}var g=this._getOffsetXY(f);var c=(g.x/(this._col_panel.offsetWidth-1))*100;var a=(1-g.y/(this._col_panel.offsetWidth-1))*100;c=Math.min(Math.max(c,0),100);a=Math.min(Math.max(a,0),100);var b=this.hsv2rgb(this._curHSV.h,c,a);var d=this.rgb2hex(b.r,b.g,b.b);this.options.onChange(d);},onup:function(){this.movingCol=false;this.movingHue=false;},_getOffsetXY:function(b){if(!b.offsetX&&b.layerX){b.offsetX=b.layerX-b.element.offsetLeft;}if(!b.offsetY&&b.layerY){b.offsetY=b.layerY-b.element.offsetTop;}var a=b.offsetX,c=b.offsetY;if(this.useFilter||/Opera/.test(navigator.userAgent)){a++;c++;}else{a--;c--;}a=Math.min(Math.max(a,0),b.element.offsetWidth-1);c=Math.min(Math.max(c,0),b.element.offsetHeight-1);return{x:a,y:c};},clear:function(){if(this.useCanvas){var a=this._col_panel.getContext("2d");a.fillStyle="#FFFFFF";a.fillRect(0,0,this._col_panel.width,this._col_panel.height);}else{this._col_panel.innerHTML="";}},gradFill:function(g,e){var a=this._col_panel,b=this.options;var k=a.offsetWidth,f=a.offsetHeight;if(this.useCanvas){var n=a.getContext("2d");var d=n.createLinearGradient(0,0,e?k:0,e?0:f);g=this.hex2rgb(g);d.addColorStop(0,"rgba("+g.r+","+g.g+","+g.b+",0)");d.addColorStop(1,"rgba("+g.r+","+g.g+","+g.b+",1)");n.fillStyle=d;n.fillRect(0,0,k,f);}else{var c=g.match(/#?([0-9a-f]{6})/);g=c[1];Element.setCSS(a.appendChild($C("div")),{top:0,left:0,width:"100%",height:a.offsetHeight+"px",position:"absolute",filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType="+e+", StartColorStr='#00"+g+"', EndColorStr='#FF"+g+"')"});}},drawHueBar:function(){var a=0,o=0,s=0,q,f;var n=this._hue_panel;if(this.useCanvas){var u=n.getContext("2d");var k=u.createLinearGradient(0,0,n.offsetWidth,0);for(var m=0;m<7;m++){q=this.hsv2rgb(m/6*360,100,100);k.addColorStop(m/6,"#"+this.rgb2hex(q.r,q.g,q.b));}u.fillStyle=k;u.fillRect(0,0,n.offsetWidth,n.offsetHeight);}else{var c,e,v,t,d;for(var m=1;m<7;m++){e=Math.floor(((m-1)/6)*(n.offsetWidth-1));v=Math.floor(m/6*(n.offsetWidth-1));t=this.hsv2rgb((m-1)/6*360,100,100);d=this.hsv2rgb(m/6*360,100,100);c=$C("div");Element.setCSS(c,{position:"absolute",height:"100%",top:"0",left:e+"px",width:v-e,filter:'progid:DXImageTransform.Microsoft.Gradient(GradientType=1,StartColorStr="#FF'+this.rgb2hex(t.r,t.g,t.b)+'",EndColorStr="#FF'+this.rgb2hex(d.r,d.g,d.b)+'")'});this._hue_panel.appendChild(c);}}},rgb2hsv:function(a,e,l){a/=255;e/=255;m/=255;var d=0,o=0,m=0,k=0;var n,f;n=l>(n=(a>=e)?a:e)?l:n;f=l<(f=(a<=e)?a:e)?l:f;m=n;k=n-f;o=n?0:k/n;if(o){if(a==n){d=(e-l)/k;}else{if(e==n){d=2+(l-a)/k;}else{if(l==n){d=4+(4-e)/k;}}}if(d*=60<0){d+=360;}}return{h:d,s:o,v:m};},hsv2rgb:function(k,w,o){var a=0,l=0,n=0;k=k%360;w/=100;o/=100;k/=60;var e=Math.floor(k);var m=k-e;var d=o*(1-w);var c=o*(1-w*m);var u=o*(1-w*(1-m));switch(e){case 0:a=o;l=u;n=d;break;case 1:a=c;l=o;n=d;break;case 2:a=d;l=o;n=u;break;case 3:a=d;l=c;n=o;break;case 4:a=u;l=d;n=o;break;case 5:a=o;l=d;n=c;break;case 6:break;}a=Math.floor(a*255);l=Math.floor(l*255);n=Math.floor(n*255);return{r:a,g:l,b:n};},rgb2hex:function(d,c,a){d=d.toString(16);if(d.length==1){d="0"+d;}c=c.toString(16);if(c.length==1){c="0"+c;}a=a.toString(16);if(a.length==1){a="0"+a;}return d+c+a;},hex2rgb:function(b){var a=b.match(/#?([0-9a-f]{6}|[0-9a-f]{3})/i);if(a[1].length==3){a=a[1].match(/./g).filter(function(d){return d+d;});}else{a=a[1].match(/../g);}return{r:Number("0x"+a[0]),g:Number("0x"+a[1]),b:Number("0x"+a[2])};}});function toInt(a){var b=parseInt(a);if(!b){b=0;}return b;}Ku.AutoExpand=Class({__init:function(d){this.obj=$(d);this.gripHolder=document.createElement("DIV");this.options=JINDO.extend({maxRows:10,stopAutoExpandAt:3,gripImg:"btn_resize.gif",gripImg_x_spacing:0,gripImg_y_spacing:0,width:"400px",scrollbarWidth:17,tempDataVarName:"",onRowChange:function(){}},arguments[1]||{});if($(d).value!=""){this.options.tempDataVarName=$(d).value;$(d).value="";}this.obj.style.width=this.options.width;this.obj.parentNode.insertBefore(this.gripHolder,this.obj);this.gripHolder.appendChild(this.obj);if($Agent().Safari||$Agent().Opera){return;}if(!$Agent().IE){this.options.stopAutoExpandAt-=1;}this.clone=this.obj.cloneNode(true);this.clone.removeAttribute("name");this.clone.removeAttribute("id");this.clone.name="";this.clone.id="";this.clone.style.position="absolute";this.clone.style.visibility="hidden";this.obj.parentNode.insertBefore(this.clone,this.obj);this.clone.value=this.obj.value;this.imgDiv=$C("DIV");this.imgGrip=$C("IMG");this.imgGrip.src=this.options.gripImg;this.imgGrip.style.position="absolute";this.imgGrip.style.cursor="n-resize";this.imgDiv.style.width=this.obj.style.width;this.imgDiv.style.height=this.obj.style.height;this.imgDiv.style.position="relative";this.imgDiv.appendChild(this.imgGrip);this.gripHolder.appendChild(this.imgDiv);this.options.minRows=this.obj.rows;this.obj.style.overflow="hidden";if($Agent().IE){this.clone.value+="\n";}else{this.clone.rows=this.obj.rows+1;}var a=this.clone.scrollHeight;this.lineHeight=(this.clone.scrollHeight-this.obj.scrollHeight);if($Agent().IE){this.clone.value=this.obj.value;}else{this.clone.rows=1;}var b=this.execute.bind(this);var c=this.execute.bind(this);Event.register(this.obj,"keyup",b);Event.register(this.obj,"keydown",b);this.rowHeight=this.lineHeight;this.evalFunc=this.evaluate.bind(this);this.evalFunc();this.bfOnGripMouseDown=this.onGripMouseDown.bindForEvent(this);this.bfOnGripMouseMove=this.onGripMouseMove.bindForEvent(this);this.bfOnGripMouseUp=this.onGripMouseUp.bindForEvent(this);this.imgGrip.onmousedown=this.bfOnGripMouseDown;this.obj.style.overflow="hidden";this.execute();if(this.options.tempDataVarName){$(d).value=this.options.tempDataVarName;}this.options.tempDataVarName="";},execute:function(){clearTimeout(this._timer);this._timer=setTimeout(this.evalFunc,50);},evaluate:function(){this.clone.value=this.obj.value;var b=this.obj.rows;var a=this.clone.scrollHeight;var c=toInt(this.clone.scrollHeight/this.lineHeight)+(!$Agent().IE?-1:0);if(c>this.obj.rows){while(c>this.obj.rows&&this.obj.rows<this.options.maxRows&&this.obj.rows<this.options.stopAutoExpandAt){this.setRows(this.obj.rows+1);}}else{while(c>this.obj.rows&&this.obj.rows>this.options.minRows&&this.obj.rows<this.options.stopAutoExpandAt){this.setRows(this.obj.rows-1);}}if(toInt(this.clone.scrollHeight/this.lineHeight)>toInt(this.obj.clientHeight/this.lineHeight)){this.obj.style.overflowY="scroll";}else{this.obj.style.overflowY="hidden";}if(b!=this.obj.rows){this.obj.focus();}this.draw();},onGripMouseDown:function(a){this.imgGrip_offsetY=a.clientY-toInt(Element.realPos(this.imgGrip).top);Event.register(document,"mousemove",this.bfOnGripMouseMove);Event.register(document,"mouseup",this.bfOnGripMouseUp);a.stop();},onGripMouseUp:function(a){Event.unregister(document,"mousemove",this.bfOnGripMouseMove);Event.unregister(document,"mouseup",this.bfOnGripMouseUp);if(toInt(this.clone.scrollHeight/this.lineHeight)>toInt(this.obj.clientHeight/this.lineHeight)){this.obj.style.overflowY="scroll";}else{this.obj.style.overflowY="hidden";}this.execute();this.draw();a.stop();},onGripMouseMove:function(b){var c=Element.realPos(this.obj);var a=Math.floor((b.clientY-c.top+(20-this.imgGrip_offsetY))/this.rowHeight)+($Agent().IE?1:0)-1;if(a<1){a=1;}if(a>this.options.maxRows){a=this.options.maxRows;}this.setRows(a);this.draw();b.stop();},draw:function(){var a=(this.obj.style.overflowY!="hidden")?this.options.scrollbarWidth:0;this.imgGrip.style.bottom=this.options.gripImg_y_spacing+"px";this.imgGrip.style.right=this.options.gripImg_x_spacing+a+"px";},setRows:function(a){this.obj.rows=a;if(this.obj.rows<=1){this.obj.rows=2;}this.options.onRowChange();}});Ku.Rating=Class({_value:0,_pressed:false,__init:function(a){this.obj=$(a);this.options=JINDO.extend({step:1,range:[0,100],hover:false,vertical:false,onChange:function(b){},onChanging:function(b){},onHoverChanging:function(b){}},arguments[1]||{});this.objOffsetWidth=this.obj.offsetWidth;this._value=this.options.range[0];this.gauge=this.obj.firstChild;this.gauge.style[this.options.vertical?"height":"width"]="0px";this.onmousedown=this.MouseDown.bindForEvent(this);this.onmousemove=this.MouseMove.bindForEvent(this);this.onmouseup=this.MouseUp.bindForEvent(this);this.onhoverout=this.HoverOut.bindForEvent(this);this.onhoverover=this.HoverOver.bindForEvent(this);this.onhovermove=this.HoverMove.bindForEvent(this);Event.register(this.obj,"mousedown",this.onmousedown);if(this.options.hover){Event.register(this.obj,"mouseover",this.onhoverover);Event.register(this.obj,"mousemove",this.onhovermove);Event.register(this.obj,"mouseout",this.onhoverout);Event.register(this.gauge,"mouseover",this.onhoverover);}},MouseDown:function(b){var a=this.options.vertical;var c=Element.realPos(this.gauge);this._pressed=true;this._startPos=b[a?"page_y":"page_x"];this._startLength=a?(parseInt(this.gauge.style.height)-this._startPos+c.top):(this._startPos-c.left);this.setValue(this._len2val(this._startLength));Event.register(document,"mousemove",this.onmousemove);Event.register(document,"mouseup",this.onmouseup);b.stop();this.options.onChange(this._value);},MouseMove:function(c){var a=this.options.vertical;var b=(this._startPos-c[a?"page_y":"page_x"])*(a?1:-1);this.setValue(this._len2val(this._startLength+b));this.options.onChanging(this._value);},MouseUp:function(c){var a=this.options.vertical;var b=(this._startPos-c[a?"page_y":"page_x"])*(a?1:-1);this._pressed=false;this.setValue(this._len2val(this._startLength+b));Event.unregister(document,"mousemove",this.onmousemove);Event.unregister(document,"mouseup",this.onmouseup);c.stop();this.options.onChange(this._value);},HoverOver:function(b){if(this._pressed){return;}clearTimeout(this._restoreTimer);this._gaugePos=Element.realPos(this.gauge);var a=this.options.vertical;this._startPos_h=b[a?"page_y":"page_x"];this._startLen_h=a?(parseInt(this.gauge.style.height)-this._startPos_h+this._gaugePos.top):(this._startPos_h-this._gaugePos.left);if(!this.objOffsetWidth){this.objOffsetWidth=this.obj.offsetWidth;}if((this._startLen_h)<this.objOffsetWidth){this.gauge.style[a?"height":"width"]=this._startLen_h+"px";}this.options.onHoverChanging(this._len2val(this._startLen_h));},HoverOut:function(c){if(this._pressed){return;}var a=this;var b=function(){a.setValue(a._value);};this._restoreTimer=setTimeout(b,50);this._startLen_h=false;this._startPos_h=false;},HoverMove:function(c){if(this._pressed){return;}if(!this._startLen_h||!this._startPos_h){this.HoverOver(c);}var a=this.options.vertical;var b=(this._startPos_h-c[a?"page_y":"page_x"])*(a?1:-1);if(!this.objOffsetWidth){this.objOffsetWidth=this.obj.offsetWidth;}if((this._startLen_h+b)<this.objOffsetWidth){this.gauge.style[a?"height":"width"]=(this._startLen_h+b)+"px";}else{return;}this.options.onHoverChanging(this._len2val(this._startLen_h+b));},setValue:function(c){var b=this.options;var a=this.options.vertical;var c=Math.min(Math.max(b.range[0],Math.round(c/b.step)*b.step),b.range[1]);this._value=c;this.gauge.style[a?"height":"width"]=this._val2len(c)+"px";},getValue:function(){return this._value;},_len2val:function(b){var d=this.options;var c=this.options.vertical;var a=this.obj[c?"clientHeight":"clientWidth"];var e=((b/a)*(d.range[1]-d.range[0]))+d.range[0];return Math.min(Math.max(Math.round(e),d.range[0]),d.range[1]);},_val2len:function(e){var c=this.options;var b=this.options.vertical;var a=this.obj[b?"clientHeight":"clientWidth"];var d=(e-c.range[0])/(c.range[1]-c.range[0]);return Math.min(Math.max(Math.round(d*a),0),a);}});Ku.Upload=Class({__init:function(g){this._obj=$(g);this.options=JINDO.extend({url:"",meta:"",data:{},multiple:true,filetype:"*.*",onSelect:function(){},onSuccess:function(){},onError:function(){},onBeforeSelect:function(h){return"";},msgNotAllowedExt:"Extension %s is not allowed"},arguments[1]||{});this._htDivCss=arguments[2];this._htInputCss=arguments[3];var d=this;var e=this.options;var b=-1;var a=$Agent();if(!a.chrome&&a.version<FLASH_BLOCK_CHROME_VERSION){b=this._getFlashVer();}if(e.multiple&&b>=8){}else{e.multiple=false;this._div=$C("div");this._file=this._createFileForm();var f=this._obj.offsetWidth;var c=this._obj.offsetHeight;this._obj.parentNode.insertBefore(this._div,this._obj);Element.setCSS(this._div,this._htDivCss||{position:"absolute",opacity:0,filter:"alpha(opacity=0)",width:f+"px",height:c+"px",overflow:"hidden"});this._div.appendChild(this._file);if(["relative","fixed","absolute"].has(this._div.offsetParent.style.position)){this._div.style.left="0px";}}this.onmouseover=this.MouseOver.bindForEvent(this);this.onmouseout=this.MouseOut.bindForEvent(this);this.onmousedown=this.MouseDown.bindForEvent(this);this.onmouseup=this.MouseUp.bindForEvent(this);if(e.multiple){Event.register(this._obj,"click",this.MouseClick.bind(this));}else{this._div.onmouseover=this.onmouseover;this._div.onmouseout=this.onmouseout;this._div.onmousedown=this.onmousedown;this._div.onmouseup=this.onmouseup;}},_getHtDivCss:function(){if(this._htDivCss){return this._htDivCss;}var b=this._obj.offsetWidth;var a=this._obj.offsetHeight;return{position:"absolute",opacity:0,filter:"alpha(opacity=0)",width:b+"px",height:a+"px",overflow:"hidden"};},_getHtInputCss:function(){if(this._htInputCss){return this._htInputCss;}var a=parseInt(Math.max(this._obj.offsetHeight,this._obj.offsetWidth/5));return{"font-size":a+"px",position:"absolute",top:"0px",right:"0px",filter:"alpha(opacity=0)"};},_getTmpId:function(){return(new Date).getMilliseconds()+Math.floor(Math.random()*100000);},_createElement:function(c,b){var d=$C(c);for(var a in b){d.setAttribute(a,b[a]);}return d;},_checkExtension:function(d){var c=/\.([^\.\/]*)$/.test(d)?RegExp.$1:"";var b=this.options.filetype.split(";");for(var a=0;a<b.length;a++){b[a]=b[a].replace(/^\s+|\s+$/,"");b[a]=b[a].replace(/\./g,"\\.");b[a]=b[a].replace(/\*/g,"[^\\.\\/\\\\]+");if((new RegExp(b[a]+"$","gi")).test(d)){return true;}}return false;},send:function(){var h,g,c=this;var a="tmpFrame_"+this._getTmpId();var d=a+"_func";try{g=$C('<iframe name="'+a+'"></iframe>');}catch(l){g=$C("iframe");g.setAttribute("name",a);}g.style.position="absolute";g.style.width="1px";g.style.height="1px";g.style.left="-100px";g.style.top="-100px";document.body.appendChild(g);try{h=$C('<form enctype="multipart/form-data"></form>');}catch(l){h=$C("form");h.setAttribute("enctype","multipart/form-data");}h.style.position="absolute";h.style.width="1px";h.style.height="1px";h.style.left="-100px";h.style.overflow="hidden";h.setAttribute("target",a);h.setAttribute("action",this.options.url+"?callback="+encodeURIComponent(this.options.callback)+"&callback_func="+d);h.setAttribute("method","POST");h.appendChild(this._file);h.appendChild(this._createElement("input",{type:"hidden",name:"callback",value:this.options.callback}));h.appendChild(this._createElement("input",{type:"hidden",name:"callback_func",value:d}));for(var b in this.options.data){h.appendChild(this._createElement("input",{type:"hidden",name:b,value:this.options.data[b]}));}document.body.appendChild(h);Ku.Upload.__tmpFunc[d+"_success"]=function(e){c.options.onSuccess(e);setTimeout(function(){g.parentNode.removeChild(g);document.body.removeChild(h);},10);};Ku.Upload.__tmpFunc[d+"_error"]=function(e){c.options.onError(e);setTimeout(function(){g.parentNode.removeChild(g);document.body.removeChild(h);},10);};h.submit();this.reset();},reset:function(){this._file.onchange=null;this._file.parentNode.removeChild(this._file);this._file=this._div.appendChild(this._createFileForm());},MouseClick:function(){var c=window.document[Ku.Upload._tmpId];var d="f"+this._getTmpId();var b=this,a="";if(this.options.onBeforeSelect){a=this.options.onBeforeSelect(this);}if(a){alert(a);return;}Ku.Upload.__tmpFunc[d+"_success"]=this.options.onSuccess;Ku.Upload.__tmpFunc[d+"_error"]=this.options.onError;Ku.Upload.__tmpFunc[d+"_select"]=function(f){var e=f.split("#");b.options.onSelect.apply(This.options.onSelect,e);};c.uploadWithFlash(this.options.url,this.options.meta,'{"filter":"*.*","onselect":"Ku.Upload.__tmpFunc.'+d+'_select","onsuccess":"Ku.Upload.__tmpFunc.'+d+'_success","onerror":"Ku.Upload.__tmpFunc.'+d+'_error"}');},MouseOver:function(a){if(this._obj.onmouseover){this._obj.onmouseover(a);}},MouseOut:function(a){if(this._obj.onmouseout){this._obj.onmouseout(a);}},MouseDown:function(c){var b=this,a="";if(this.options.onBeforeSelect){a=this.options.onBeforeSelect(this);}if(this._obj.onmousedown){this._obj.onmousedown(c);}if(a){this._file.disabled=true;alert(a);setTimeout(function(){b._file.disabled=false;},100);}},MouseUp:function(a){if(this._obj.onmouseup){this._obj.onmouseup(a);}},_createDefaultFileForm:function(){var c=null;var a=parseInt(Math.max(this._obj.offsetHeight,this._obj.offsetWidth/5));try{c=$C('<input type="file" name="Filedata" style="font-size:'+a+'px" />');}catch(d){c=$C("input");c.setAttribute("type","file");c.setAttribute("name","Filedata");c.style.fontSize=a+"px";}Element.setCSS(c,{position:"absolute",top:"0px",right:"0px",filter:"alpha(opacity=0)"});try{c.style.cursor="pointer";}catch(b){c.style.cursor="hand";}return c;},_createCustomFileForm:function(a){var b=$C("input");b.setAttribute("type","file");b.setAttribute("name","Filedata");Element.setCSS(b,a||{});return b;},_createFileForm:function(){var a=this;var b=null;if(this._htInputCss){b=this._createCustomFileForm(this._htInputCss);}else{b=this._createDefaultFileForm();}b.onchange=function(){if(!a._checkExtension(this.value)){var c=/\.([^\.\/]*)$/.test(this.value)?RegExp.$1:".";alert(a.options.msgNotAllowedExt.replace("%s",c));return false;}a.options.onSelect(this.value);a.send();};return b;},_getFlashVer:function(){if(navigator.plugins&&navigator.plugins.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){var d=a.description;return parseInt(d.charAt(d.indexOf(".")-1));}}else{if(ActiveXObject){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.9");return 9;}catch(c){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.8");return 8;}catch(b){return -1;}}}}return -1;},free:function(){var a=this._div;a.onmouseover=null;a.onmouseout=null;a.onmousedown=null;a.onmouseup=null;if(a.parentNode){a.parentNode.removeChild(a);}this._div=a=null;}});Ku.Upload.__tmpFunc={};Ku.Upload.initFlash=function(a){if(typeof a=="undefined"){a="./uploader.swf";}Ku.Upload._tmpId="tmpSwf"+(new Date).getMilliseconds()+Math.floor(Math.random()*100000);document.write('<div style="position:absolute;top:300px;left:-1000px"><object id="'+Ku.Upload._tmpId+'" width="200" height="200" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"><param name="movie" value="'+a+'"><param name = "allowScriptAccess" value = "always" /><embed name="'+Ku.Upload._tmpId+'" src="'+a+'" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" width="200" height="200" allowScriptAccess="always" swLiveConnect="true"></embed></object></div>');};Ku.Checkbox=Class({__init:function(c){this._source=$(c);this.options=JINDO.extend({skinFormat:"./images/check_%s.gif"},arguments[1]);var b=this.options;$C("img").src=b.onImg=b.skinFormat.replace("%s","on");$C("img").src=b.offImg=b.skinFormat.replace("%s","off");var a=this._element=$C("img");a.onclick=this.onclick.bind(this);this.paint();this._source.parentNode.insertBefore(a,this._source);this._source.style.display="none";},onclick:function(){this._source.checked=!this._source.checked;this.paint();if(this._source.onclick){this._source.onclick();}},paint:function(){this._element.src=this._source.checked?this.options.onImg:this.options.offImg;}});Ku.Radiobox=Class({__init:function(a){var c=this._sources=$A(document.getElementsByName(a));this.options=JINDO.extend({onChange:function(e,g){},skinFormat:"./images/radio_%s.gif"},arguments[1]);var f=this.options;$C("img").src=f.onImg=f.skinFormat.replace("%s","on");$C("img").src=f.offImg=f.skinFormat.replace("%s","off");var d=this._elements=[];for(var b=0;b<c.length;b++){d.push($C("img"));d[b].onclick=this.onclick.bind(this,b);}this.paint();c.each(function(e,g){e.parentNode.insertBefore(d[g],e);Element.hide(e);});},onclick:function(a){var b=this._sources[a];var d=b.checked;b.checked=true;this.paint();if(b.onclick){b.onclick();}if(d!=b.checked){this.options.onChange(b.value,a);}},setIndex:function(a){this._sources[a].checked=true;this.paint();},setValue:function(a){this._sources.each(function(b){if(b.value==a){b.checked=true;}});this.paint();},getValue:function(){var a;this._sources.each(function(b){if(b.checked){a=b.value;}});return a;},getIndex:function(){var a;this._sources.each(function(b,c){if(b.checked){a=c;}});return a;},paint:function(){var a=this;this._elements.each(function(b,c){b.src=a._sources[c].checked?a.options.onImg:a.options.offImg;});}});Ku.Selectbox=Class({__init:function(id){var s=this._source=$(id);this.options=JINDO.extend({height:s.offsetHeight,width:s.offsetWidth,fontSize:12,listSize:8,skinActive:false,opacity:3,skinFormat:"./images/sbox_%s.gif",mouseAct:false,borderActive:true,borderColor:"#CCCCCC",borderHColor:"#FFFFFF",borderTColor:false,borderRColor:false,borderBColor:false,borderLColor:false,optTxtColor:"black",optBgColor:"white",optTxtHover:"white",optBgHover:"gray",optAlign:"left",useImage:false},arguments[1]);var o=this.options;var e=this._element=$C("div");var c=this._container=e.appendChild($C("div"));var p=Element.realPos(this._source);this._source.parentNode.insertBefore(e,s);this._source.style.display="none";this.borderact();Element.setCSS(e,{top:p.top+"px",left:p.left+"px",width:o.width+"px",height:(o.height-2)+"px",color:o.optTxtColor,background:o.optBgColor});Element.setCSS(c,{width:o.width+"px",height:(o.height-2)+"px",fontSize:o.fontSize+"px",overflow:"hidden",cursor:"default"});this.disable();var b=c.appendChild($C("div"));Element.setCSS(b,{height:"100%",background:"no-repeat url("+o.skinFormat.replace("%s","bt")+") 50% 50%",cssFloat:"right",styleFloat:"right"});this._txt_element=$C("div");this._source.parentNode.insertBefore(this._txt_element,s);with(this._txt_element){if(this.options.useImage){var img=$C("img");img.onload=function(){this.parentNode.style.height=o.height+"px";this.parentNode.style.background="url("+this.src+") "+o.optBgColor+" no-repeat 0px 0px";this.parentNode.removeChild(this);};appendChild(img).src=s.options[s.selectedIndex].text;}else{appendChild(document.createTextNode(s.options[s.selectedIndex].text));style.color=o.optTxtColor;style.fontSize=o.fontSize+"px";style.height=o.fontSize+"px";}style.overflow="hidden";style.marginTop=Math.max(Math.floor((o.height-offsetHeight)/2),0)+"px";style.marginLeft=style.marginTop;}c.appendChild(this._txt_element);c.appendChild($C("div")).style.clear="both";var im=$C("img");im.onload=function(){b.style.width=im.width+"px";};im.src=o.skinFormat.replace("%s","bt");this._list_element=e.appendChild($C("div"));Element.setCSS(this._list_element,{position:"absolute",zIndex:1000});var el=this._list_element.appendChild($C("div"));Element.setCSS(el,{position:"absolute",top:"1px",left:"-1px",overflow:"auto",zIndex:1000});if(o.borderActive){el.style.borderTop="0px";el.style.borderRight="1px solid "+this.ColorR;el.style.borderBottom="1px solid "+this.ColorB;el.style.borderLeft="1px solid "+this.ColorL;}el.onmousedown=this.onscrollbar.bindForEvent(this);if(o.mouseAct){el.onmouseover=this.onmouseover.bind(this);}this.paint();Element.hide(this._list_element);this._event_onmousedown=this.onmousedown.bindForEvent(this);},disable:function(){var a=this._source,d=this.options,b=this._element;var f=this._container;Element.setCSS(b,{filter:(a.disabled)?"alpha(opacity="+d.opacity+"0)":"alpha(opacity=100)",opacity:(a.disabled)?"0."+d.opacity:"1"});f.onmousedown=(a.disabled)?"":this.onmousedown.bindForEvent(this);f.onmouseup=(a.disabled)?"":this.onmouseup.bind(this);if(d.mouseAct){f.onmouseover=(a.disabled)?"":this.onmouseover.bindForEvent(this);}if(d.mouseAct){f.onmouseout=(a.disabled)?"":this.onmouseout.bind(this);}},borderact:function(){var a=this._source,c=this.options,b=this._element;this.ColorT=(c.borderTColor)?c.borderTColor:c.borderColor;this.ColorR=(c.borderRColor)?c.borderRColor:c.borderColor;this.ColorB=(c.borderBColor)?c.borderBColor:c.borderColor;this.ColorL=(c.borderLColor)?c.borderLColor:c.borderColor;if(c.borderActive){b.style.borderTop=(c.mouseAct)?"1px solid "+c.borderHColor:"1px solid "+this.ColorT;b.style.borderRight=(c.mouseAct)?"1px solid "+c.borderHColor:"1px solid "+this.ColorR;b.style.borderBottom=(c.mouseAct)?"1px solid "+c.borderHColor:"1px solid "+this.ColorB;b.style.borderLeft=(c.mouseAct)?"1px solid "+c.borderHColor:"1px solid "+this.ColorL;}},onmouseover:function(a){var a=this._element;Element.setCSS(a,{borderTop:"1px solid "+this.ColorT,borderRight:"1px solid "+this.ColorR,borderBottom:"1px solid "+this.ColorB,borderLeft:"1px solid "+this.ColorL});},onmouseout:function(a){var a=this._element;Element.setCSS(a,{border:"1px #FFFFFF solid"});},onmousedown:function(a){if(!Element.visible(this._list_element)){Element.show(this._list_element);this.paint();}else{Element.hide(this._list_element);Event.unregister(document.body,"mousedown",this._event_onmousedown);}},onmouseup:function(){if(Element.visible(this._list_element)){Event.register(document.body,"mousedown",this._event_onmousedown);}},onselect:function(c){var b=c.element,d=this.options;var a=d.useImage?b.parentNode._index:b._index;this.setIndex(a);this.onmousedown();this.borderact();if(this._source.onchange){this._source.onchange();}},onover:function(d){var b=d.element,f=this.options;if(f.useImage){var g=$A(b.parentNode.parentNode.childNodes),a=b.parentNode._index;}else{var g=$A(b.parentNode.childNodes),a=b._index;}g.map(function(c,e){if(c.className!="nhn_ajaxui_gony_selectbox_option"){return c;}if(f.useImage){c.firstChild.style.backgroundColor="transparent";}else{c.style.color=(e==a)?f.optTxtHover:f.optTxtColor;}c.style.backgroundColor=(e==a)?f.optBgHover:f.optBgColor;return c;});},onscrollbar:function(a){a.stop();},paint:function(){var g=this.options,e=this._source,h,c=this._list_element.firstChild,d=this._element,b,f;c.innerHTML="";c.style.width="";c.style.height="";this._maxImageWidth=0;b={padding:"4px 5px 2px 5px",cursor:"default",fontSize:g.fontSize+"px",color:g.optTxtColor,background:g.optBgColor,display:"block"};h=this._makeOption("",unescape("%uAC00"));Element.setCSS(h,b);c.appendChild(h);f=Math.max(h.clientHeight,h.offsetHeight);c.removeChild(h);b.overflow="hidden";if($Agent().IE){b.height=f+"px";}else{b.height=(f-6)+"px";}for(var a=0;a<e.options.length;a++){h=this._makeOption(e.options[a].value,e.options[a].text);h._index=a;Element.setCSS(h,b);c.appendChild(h);if(a==this._source.selectedIndex){h.style.color=g.optTxtHover;h.style.backgroundColor=g.optBgHover;}}if(c.offsetWidth<d.offsetWidth){if($Agent().IE){c.style.width=(d.clientWidth+2)+"px";}else{c.style.width=d.clientWidth+"px";}}if(g.listSize=="auto"){c.style.height=(Math.max(f,c.children[0].offsetHeight)*e.options.length)+"px";}else{c.style.height=f*Math.min(g.listSize,e.options.length)+"px";}if((g.listSize=="auto")||(g.listSize>e.options.length)){c.style.overflow="hidden";}this.setIndex(e.selectedIndex);},setValue:function(a){this._source.value=a;this.setIndex(this._source.selectedIndex);},setIndex:function(a){var b=this._source,d=this.options,c=this._txt_element;b.selectedIndex=a;if(d.useImage){c.style.backgroundImage='url("'+b.options[b.selectedIndex].text+'")';}else{c.firstChild.nodeValue=b.options[b.selectedIndex].text;}Element.setCSS(c,{fontSize:d.fontSize+"px",color:d.optTxtColor});},_makeOption:function(c,e){var d=$C("div"),b=this;d.className="nhn_ajaxui_gony_selectbox_option";d._value=c;if(this.options.useImage){var a=$C("IMG");d.appendChild(a).src=e;Event.register(a,"mousedown",this.onselect.bindForEvent(this));Event.register(a,"mouseover",this.onover.bindForEvent(this));}else{d.appendChild(document.createTextNode(e));d.style.textAlign=this.options.optAlign;Event.register(d,"mousedown",this.onselect.bindForEvent(this));Event.register(d,"mouseover",this.onover.bindForEvent(this));}return d;}});if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"");};}function setupFavoriteCafeMenu(isLogin,clubid,menuid){if(!isLogin){toLoginPage();return;}var oFavorite=$("favorite");var isRemovingFavorite=Element.hasClass(oFavorite,"on");var method=isRemovingFavorite?"clear":"setup";var ajax=new Ajax("/FavoriteCafeMenuSetupAjax.nhn",{method:"POST",params:{m:method,clubId:clubid,menuId:menuid},charset:"euc-kr",onLoad:function(res){var json;try{json=eval("("+res.responseText+")");}catch(e){alert("알수없는 오류로 인하여 \n즐겨찾는 게시판 설정에 실패했습니다.");return;}var resultCode=json.resultCode;var denialTypeCode=json.denialTypeCode;var resultViewType=json.resultViewType;var alertMessage;if(json.alertMessage!=null){alertMessage=json.alertMessage.replace(/\\n/gi,"\n");}if(resultCode==1){toggleFavorite(oFavorite);}if(!isRemovingFavorite){openResultPopup(denialTypeCode,resultViewType,alertMessage,clubid,menuid);}}});}function toggleFavorite(a){var c=Element.hasClass(a,"on");var b=Element.firstChild(a);if(c){Element.removeClass(a,"on");b.html="즐겨찾는 게시판 등록";}else{Element.addClass(a,"on");b.html="즐겨찾는 게시판 해제";}}function openResultPopup(e,c,g,f,h){if(c=="alert"){alert(g);return;}var b="/FavoriteCafeMenuSetupResultPopup.nhn?clubId="+f+"&menuId="+h+"&resultCode="+e;var d=366;var a=189;wnd=open_window(b,"favoriteCafeMenuSetupResultPopup",d,a,"toolbar=0,menubar=0,scrollbars=no,resizable=yes");}var Tablet={};Tablet.core={SupportChecker:Class({aCheckTable:[],add:function(a){this.aCheckTable.push(a);return this;},check:function(c){for(var a=0,b;b=this.aCheckTable[a];a++){if(c[b.sCheckValue]){return b.oReason;}}return null;}}),JustAlertTemplate:Class({oChecker:null,__init:function(a){this.oChecker=a;},check:function(d){var c=d.bAccessTabletPC;var a=d.bReadOnlyStatus||false;if(!c||a){return true;}var b=this.oChecker.check(d);if(b){setTimeout(function(){alert(b.sAlertMessage);},200);return false;}return true;}}),ClickAlertTemplate:Class({oChecker:null,oReason:null,__init:function(a){this.oChecker=a;},check:function(c){var b=c.bAccessTabletPC;var a=c.bReadOnlyStatus||false;if(!b||a){return this;}this.oReason=this.oChecker.check(c);return this;},click:function(a){return new this.ClickRuleBuilder(this,a);},ClickRuleBuilder:Class({__init:function(a,b){this.oParent=a;this.sElementId=b;},collectElements:function(a){var b=[];if(a instanceof Array){a.each(function(c){b.push($(c));});}else{b.push($(this.sElementId));}return b;},run:function(c,a){var b=this.oParent;this.collectElements(this.sElementId).each(function(d){if(!d){return;}Event.register(d,"click",function(e){if(b.oReason){alert(b.oReason.sAlertMessage);Event.stop(e);return;}c.call(a,e);});});return this.oParent;}})})};Tablet.checkers={oEditingChecker:(function(){var oChecker=new Tablet.core.SupportChecker();with(oChecker){add({sCheckValue:"bMarketBoard",oReason:{sWhy:"상품등록 게시판",sAlertMessage:"태블릿PC에서는 상품등록게시판 쓰기가 지원되지 않습니다. PC에서 이용해주세요"}});add({sCheckValue:"bStaffBoard",oReason:{sWhy:"스탭 게시판",sAlertMessage:"태블릿PC에서는 스탭게시판 쓰기가 지원되지 않습니다. PC에서 이용해주세요"}});add({sCheckValue:"bCafeProfile",oReason:{sWhy:"카페 프로필",sAlertMessage:"태블릿PC에서는 프로필 편집이 지원되지 않습니다. PC에서 이용해주세요"}});add({sCheckValue:"bCafeBook",oReason:{sWhy:"카페북",sAlertMessage:"태블릿PC에서는 카페북 편집이 지원되지 않습니다. PC에서 이용해주세요"}});add({sCheckValue:"bHasArticleForm",oReason:{sWhy:"글양식 게시판",sAlertMessage:"태블릿PC에서는 글양식 게시판 쓰기가 지원되지 않습니다. PC에서 이용해주세요"}});add({sCheckValue:"bArticleFormList",oReason:{sWhy:"글양식 만들기",sAlertMessage:"태블릿PC에서는 글양식 만들기가 지원되지 않습니다. PC에서 이용해주세요"}});add({sCheckValue:"bHasTemplate",oReason:{sWhy:"템플릿 게시판",sAlertMessage:"태블릿PC에서는 템플릿 게시판 쓰기가 지원되지 않습니다. PC에서 이용해주세요"}});}return oChecker;})()};Tablet.editing={ClickAlert:function(){return new Tablet.core.ClickAlertTemplate(Tablet.checkers.oEditingChecker);},JustAlert:function(){return new Tablet.core.JustAlertTemplate(Tablet.checkers.oEditingChecker);}};if(typeof window.jsCompFileCheckSum=="undefined"){window.jsCompFileCheckSum={};}window.jsCompFileCheckSum.ArticleListHeadScriptWide=true;