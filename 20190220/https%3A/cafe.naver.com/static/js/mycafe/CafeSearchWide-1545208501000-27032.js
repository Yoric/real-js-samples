SelectBox.DOCTYPE="loose";nhn.search={init:function(e,b,g,d,c,a,f){this.bMemo=e;this.sDomain=b||"";this.nClubId=g||0;this.nPerPage=d||null;this.bNaverSearch=c||null;this.nMenuId=a||null;this.DATE_REG=/^ *[\d]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]) *$/;this.bTop=f||null;if($("divSearchDate")!=null){$("divSearchDate").onclick=function(h){customResizeIFrame(h,400);};}this._createKeyManager();this._bindEventWithDateInput(this.bTop);Event.register(window,"unload",nhn.search.destroy.bindForEvent(nhn.search));},_bindEventWithDateInput:function(e){var i=undefined,j=$(e?"input_1_top":"input_1"),c=$(e?"input_2_top":"input_2"),b=$(e?"searchdateTop":"searchdate"),k=$(e?"btn_set_top":"btn_set");if(!j||!c){return;}if(e){var f=$("searchByTop").value;if(typeof f!="undefined"){this.searchTargetNameChangeWide(f);}}var a=function(n,m){var p=new Date();if(typeof m!="undefined"&&m){p.setMonth(p.getMonth()-3);}n.value=p.getFullYear()+"-"+((p.getMonth()+1)<10?"0"+(p.getMonth()+1):(p.getMonth()+1))+"-"+(p.getDate()<10?"0"+p.getDate():p.getDate());try{n.focus();}catch(o){}};if(b.value.length>=20){j.value=b.value.substring(0,10);c.value=b.value.substring(10);}else{a(j,true);a(c);}var l=function(){var m=j.value;var r="";var n=false;for(var p=(m.length-1);p>=0;p--){var q=m.charAt(p).charCodeAt(0);if((q>=48&&q<=57)||q==45){r=m.charAt(p)+r;}else{n=true;}}if(n){var o=m;j.blur();j.value=o.substring(0,o.length-1);j.focus();}if(r.length>=8){if(/\d{8,8}/.test(r.replace(/-/g,""))){r=r.replace(/-/g,"");j.value=r.substring(0,4)+"-"+r.substring(4,6)+"-"+r.substring(6,8);}}};var h=function(){var m=c.value;var r="";var n=false;for(var p=(m.length-1);p>=0;p--){var q=m.charAt(p).charCodeAt(0);if((q>=48&&q<=57)||q==45){r=m.charAt(p)+r;}else{n=true;}}if(n){var o=m;c.blur();c.value=o.substring(0,o.length-1);c.focus();}if(r.length>=8){if(/\d{8,8}/.test(r.replace(/-/g,""))){r=r.replace(/-/g,"");c.value=r.substring(0,4)+"-"+r.substring(4,6)+"-"+r.substring(6,8);}}};if($Agent().ie){Event.register(j,"keyup",function(o){var n=o.keyInfo||o.key;if(o.keyCode==9||o.keyCode==16){return;}var m=j.value;if(m.length>=8){if(/\d{8,8}/.test(m.replace(/-/g,""))){m=m.replace(/-/g,"");j.value=m.substring(0,4)+"-"+m.substring(4,6)+"-"+m.substring(6,8);}}}.bindForEvent(this));Event.register(c,"keyup",function(n){if(n.keyCode==9||n.keyCode==16){return;}var m=c.value;if(m.length>=8){if(/\d{8,8}/.test(m.replace(/-/g,""))){m=m.replace(/-/g,"");c.value=m.substring(0,4)+"-"+m.substring(4,6)+"-"+m.substring(6,8);}}}.bindForEvent(this));}Event.register(j,"focus",function(m){j.select();if($Agent().Gecko){i=setInterval(l.bind(this),10);}this._keys.init();m.stop();}.bindForEvent(this));Event.register(c,"focus",function(m){c.select();if($Agent().Gecko){i=setInterval(h.bind(this),10);}this._keys.init();m.stop();}.bindForEvent(this));Event.register(j,"blur",function(m){if($Agent().Gecko){clearInterval(i);}}.bindForEvent(this));Event.register(c,"blur",function(m){if($Agent().Gecko){clearInterval(i);}}.bindForEvent(this));var g=function(p){var m=p.keyInfo||p.key,o=p.keyCode;this._keys.init();if(o==9&&m.shift){this._keys.sTab=true;j.focus();}else{if(o==9){this._keys.tab=true;}else{if(m.keyCode==38||m.keyCode==40||m.keyCode==27){this._keys.moveKey=true;j.focus();}else{if(m.enter){b.value=j.value+c.value;if(this.DATE_REG.test(j.value)&&this.DATE_REG.test(c.value)){var n=this.submitCall;n.call(window,p,e);}else{if(!this.DATE_REG.test(j.value)){j.focus();}else{c.focus();}p.stop();}}else{if(m.shift==false&&((o>=48&&o<=57)||(o>=96&&o<=106)||o==35||o==36||o==8||o==46)){}else{if(m.left||m.right){}else{p.stop();}}}}}}}.bindForEvent(this);var d=function(p){var m=p.keyInfo||p.key,o=p.keyCode;this._keys.init();if(o==9&&m.shift){this._keys.sTab=true;j.focus();}else{if(o==9){this._keys.tab=true;}else{if(m.keyCode==38||m.keyCode==40||m.keyCode==27){this._keys.moveKey=true;c.focus();}else{if(m.enter){b.value=j.value+c.value;if(this.DATE_REG.test(j.value)&&this.DATE_REG.test(c.value)){var n=this.submitCall;n.call(window,p,e);}else{if(!this.DATE_REG.test(j.value)){j.focus();}else{c.focus();}p.stop();}}else{if(m.shift==false&&((o>=48&&o<=57)||(o>=96&&o<=106)||o==35||o==36||o==8||o==46)){}else{if(m.left||m.right){}else{p.stop();}}}}}}};Event.register(j,"keydown",g.bindForEvent(this));Event.register(c,"keydown",d.bindForEvent(this));Event.register(k,"click",function(n){if(this.DATE_REG.test(j.value)&&this.DATE_REG.test(c.value)){b.value=j.value+c.value;var m=this.submitCall;m.call(window,n,e);}else{if(!this.DATE_REG.test(j.value)){this._alert=true;nhn.MessageBox.alert("검색기간을 잘못 입력하셨습니다.<br />확인 후 검색기간을 다시 입력해주세요.<br />(예) 2018-08-02",function(o){a(j,true);});}else{if(!this.DATE_REG.test(c.value)){this._alert=true;nhn.MessageBox.alert("검색기간을 잘못 입력하셨습니다.<br />확인 후 검색기간을 다시 입력해주세요.<br />(예) 2018-08-02",function(o){a(c);});}}n.stop();return false;}}.bindForEvent(this));},searchTargetNameChangeWide:function(c){if(typeof c=="undefined"){return;}var d=parseInt(c,10);var b=3;var a=5;if(d==b||d==a){this.disableDetailSearch(true);return;}if($("searchmenuTop").value.indexOf("M")<0){this.disableDetailSearch(false);}},disableDetailSearch:function(b){var a=$("detailSearchBtn");if(typeof a=="undefined"){return;}if(b){a.setAttribute("disabled","disabled");a.style.opacity="0.3";a.className=a.className.replace("is_selected","");return;}a.removeAttribute("disabled");a.style.opacity="1";},_createKeyManager:function(){this._keys={tab:false,sTab:false,moveKey:false,init:function(){this.tab=false;this.sTab=false;this.moveKey=false;}};},destroy:function(){this.selectsearchdate=this.selectsearchBy=this.bMemo=this.sDomain=this.nClubId=this.nPerPage=this.bNaverSearch=this.nMenuId=null;},submitCall:function(b,c){$(c?"queryTop":"query").focus();$(c?"currentSearchDateTop":"currentSearchDate").text="기간 입력";var a=$(c?"divSearchDateTop":"divSearchDate");a.className=a.className.replace("is_selected","");},goSearch:function(c,d){if(this.checkValidation(c,d)){var a=d?"Top":"",b=document["frmSearch"+a];if(b["query"+a].value.split(/[ \t]/g).join("")==""){nhn.MessageBox.alert("검색어를 입력하세요.");b["query"+a].focus();return;}this.searchFrmAfter(b,d);return;}},checkValidation:function(b,c){var a=c?$("searchdateTop"):$("searchdate");if(a.value.length>=20){if(!this.isValidPeriod(a.value)){nhn.MessageBox.alert("검색기간을 잘못 입력하셨습니다.<br />확인 후 검색기간을 다시 입력해주세요.<br />(예) 2018-08-02",function(d){$(c?"divSearchDateTop":"divSearchDate").className="select_component  is_selected";});return false;}}return true;},isValidPeriod:function(e){if(e.length!=20){return false;}var f=e.substring(0,10),b=e.substring(10),d=/\d{4,4}-\d{2,2}-\d{2,2}/,c=/^ *[\d]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]) *$/,a=/-/g;if(!d.test(f)||!d.test(b)||!c.test(f)||!c.test(b)){return false;}if(parseInt(f.replace(a,""),10)>parseInt(b.replace(a,""),10)){return false;}return true;},searchFrmAfter:function(i,d){var f;var h=1;if(d){f={searchBy:i.searchByTop.value,searchdate:i.searchdateTop.value,searchmenu:i.searchmenuTop.value,query:URLEncoder.encode(i.queryTop.value,"MS949")};}else{f={searchBy:i.searchBy.value,searchdate:i.searchdate.value,searchmenu:"",query:URLEncoder.encode(i.query.value,"MS949")};}var j=$("searchmenuTop");if(typeof j!="undefined"&&j!=null){this.bMemo=j.value.indexOf("M")>-1;}var c=this.nPerPage,b=this.sDomain+(this.bMemo?"/MemoSearchList.nhn":"/ArticleSearchList.nhn")+"?search.clubid="+this.nClubId+"&search.searchdate="+f.searchdate+"&search.searchBy="+f.searchBy+"&search.query="+f.query+"&search.defaultValue="+h;if(d&&f.searchBy!=3&&f.searchBy!=5){b+=this.getDetailInput();}if(!this.bMemo&&this.bNaverSearch==true){b+="&search.sortBy="+i.sortBy.value;if(f.searchBy==0||f.searchBy==1){var a=i.userDisplay.value||0,g=i.media.value||0,e=i.option.value||0;b+="&userDisplay="+a;b+="&search.media="+g;b+="&search.option="+e;}}if(f.searchmenu!=""){b+="&search.menuid="+this.findMenuId(f.searchmenu.replace(/_[MBE]/,""));}else{if(this.nMenuId&&!d){b+="&search.menuid="+this.nMenuId;}}if(!!$Agent()&&$Agent().macSafari&&typeof top.document!="undefined"){top.document.location.href=b;}else{document.location.href=b;}},getDetailInput:function(){var b=[],d=document.getElementsByClassName("_detail_input");for(var c=0,a;a=d[c];c++){b.push(URLEncoder.encode(a.value||"","MS949"));}return"&search.includeAll="+b[0]+"&search.exclude="+b[1]+"&search.include="+b[2]+"&search.exact="+b[3];},findMenuId:function(a){var b=a.split("_");if(b.size()>1){a=b[0];}return a;},toggleBoxLayer:function(b){var a=$(b);if(b=="detailSearchBtn"){this.executeBlurEventForOtherDiv();}if(a.className.indexOf("is_selected")>-1){a.className=a.className.replace("is_selected","");}else{this.executeBlurEventForOtherDiv();this.toggleIconLayer();a.className=a.className+" is_selected";}},toggleIconLayer:function(c){var a=typeof c!="null"?$(c):"undefined",d=$$("div[class*=tip_layer]");for(var b=0;b<d.length;b++){d[b].style.display="none";}this.executeBlurEventForOtherDiv();if(typeof a!="undefined"){a.style.display="block";}},executeBlurEventForOtherDiv:function(){var a=$$("div[class*=is_selected]");if(typeof a=="undefined"||typeof a[0]=="undefined"){return;}a[0].className=a[0].className.replace("is_selected","");},toggleSearchBy:function(c){if(typeof c=="undefined"){return;}var a=$("sl_general"),d=$("sl_memo"),b=c=="M";a.style.display=b?"none":"";d.style.display=b?"":"none";setTimeout(function(){$("currentSearchByTop").click();if(b){d.children[0].children[0].click();nhn.search.disableDetailSearch(true);}else{a.children[0].children[0].click();}},10);}};nhn.searchTop={init:function(){},clearSearchDetail:function(){var a=document.getElementsByClassName("_detail_input");a.forEach(function(b){b.value="";});}};if(typeof window.jsCompFileCheckSum=="undefined"){window.jsCompFileCheckSum={};}window.jsCompFileCheckSum.CafeSearchWide=true;