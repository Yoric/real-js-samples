!function(){function e(e,t){if(e){if(t){var i=n.Account.viewModelHandle;if(i&&i.validationOrder){var o=jQuery.inArray(e,i.validationOrder),r=o+1,a=i.validationOrder.length===r;if(a){e.focused&&e.focused(!0)}else{if(i.validationOrder.length>r){var s=i.validationOrder[r];s&&s.focused&&(e.focused&&e.focused(!1),s.focused(!0))}}}}else{e.focused&&e.focused(!0)}}}var t=window,n=t.wLive;registerNamespace("wLive.Account.Extensions.Utils"),n.Account.Extensions.Utils.setFocusOnObservable=e}(),function(){var e=window,t=e.jQuery,n=".placeholder",i="placement",o={"top":"top","left":$B.ltr?"left":"right","right":$B.ltr?"right":"left","bottom":"bottom"};
ko.bindingHandlers.autoSubmit={"update":function(e,n){var i=n(),o=ko.unwrap(i);o&&(ko.isObservable(i)&&i(!1),t(e).submit())}},ko.bindingHandlers.errorMessage={"init":function(){return{"controlsDescendantBindings":!0}},"update":function(e,t,n,i,o){{var r=null,a=t();ko.utils.unwrapObservable(a)}if(a.isValid()||a.suppressClientErrors&&a.suppressClientErrors()?a.isModified()||(r=a.serverError||null):r=a.error,ko.utils.setHtml(e,r),n.has("childBindings")){var s=n.get("childBindings")||{};for(var l in s){var u=document.getElementById(l);
u&&u.setAttribute("data-bind",s[l])}ko.applyBindingsToDescendants(o,e)}}},ko.bindingHandlers.validatorError={"init":function(){return{"controlsDescendantBindings":!0}},"update":function(e,t,n,i,o){{var r=null,a=t();ko.utils.unwrapObservable(a)}if(a.isModified()&&!a.isValid()&&(r=a.error),!a.isModified()&&a.serverError&&(r=a.serverError),ko.utils.setHtml(e,r),n.has("childBindings")){var s=n.get("childBindings")||{};for(var l in s){var u=document.getElementById(l);u&&u.setAttribute("data-bind",s[l])}ko.applyBindingsToDescendants(o,e)
}}},ko.bindingHandlers.hasFocusSelect={"init":function(e,t,n){ko.bindingHandlers.hasfocus.init(e,t,n)},"update":function(e,n){ko.bindingHandlers.hasfocus.update(e,n);var i=n(),o=ko.utils.unwrapObservable(i);o&&t(e).select()}},ko.bindingHandlers.setFocus={"update":function(e,n){var i=n(),o=ko.utils.unwrapObservable(i);o&&t(e).focus()}},ko.bindingHandlers.tooltip={"init":function(e,n){if(!($B&&$B.IE&&$B.V&&$B.V<=8)){var r=n(),a=ko.utils.unwrapObservable(r),s=t(e),l=t(window),u=".tooltip";if(a&&a.target){var d=t(a.target);
d&&d.length>0&&(s.on("blur"+u,function(){d.is(":focus")||d.tooltip("hide")}),s.on("focus"+u,function(){d.tooltip("show")})),l.on("resize",function(){s.is(":focus")&&(d.tooltip("hide"),d.tooltip("show"))})}else{s.on("show.bs.tooltip",function(){t(".tooltip").not(this).hide()});var c={};c.animation=!1;var v=a&&a[i]&&o[a[i]];c[i]=v||o.right,c.container="#maincontent",c.viewport="#maincontent",a&&a.html&&(c.html=!0,c.delay={"show":150,"hide":100}),a&&a.setup?(c.trigger="manual",a.setup()):c.trigger="focus",a&&a.dynamic&&s.on("change"+u,function(){s.tooltip("hide"),s.tooltip("show")
}),a&&a.hover&&(s.on("mouseover"+u,function(){s.tooltip("show")}),s.on("mouseout"+u,function(){s.tooltip("hide")})),a&&a.click&&(s.on("click"+u,function(){s.tooltip("show")}),s.on("focus"+u,function(){s.tooltip("show")}),s.on("blur"+u,function(){s.tooltip("hide")})),s.tooltip(c),l.on("resize",function(){s.is(":focus")&&(s.tooltip("hide"),s.tooltip("show"))})}ko.utils.domNodeDisposal.addDisposeCallback(e,function(){l.off("resize"),s.off(u),l=null,s=null})}}},ko.bindingHandlers.inputWithPlaceholder={"init":function(e,i,o){ko.bindingHandlers.textInput.init(e,i,o);
var r=".placeholder",a=t(e),s=a.next(n);s.on("click"+r,function(){setTimeout(function(){a.focus()},0)}),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){a=null,s.off(r),s=null})},"update":function(e,i,o){var r=ko.bindingHandlers.textInput.update;r&&r();var a=i(),s=ko.utils.unwrapObservable(a),l=t(e).next(n);l.length>0&&ko.bindingHandlers.visible.update(l[0],function(){var e=o.get("inlineLabelId");if(e){var n=t("#"+e);s?n.css("opacity",1):n.css("opacity",0)}return!s})}},ko.bindingHandlers.htmlWithBindings={"init":function(){return{"controlsDescendantBindings":!0}
},"update":function(e,t,n,i,o){ko.utils.setHtml(e,t());var r=n.get("childBindings");if(r){for(var a in r){var s=document.getElementById(a);s&&ko.applyBindingsToNode(s,r[a],o)}}ko.applyBindingsToDescendants(o,e)}}}(),function(){function e(e,t){return!e||!Boolean(e.match(t))}function t(e,t,n){var i=!0;return r.each(t,function(t,o){return i=Boolean(e.match(o)),n?i:!i}),i}function n(e,t,n){return n&&(e=e.toLowerCase(),t=t.toLowerCase()),0===e.indexOf(t)}function i(e,t,n){return n&&(e=e.toLowerCase(),t=t.toLowerCase()),e.lastIndexOf(t)+t.length===e.length
}var o=window,r=o.jQuery,a=o.wLive,s=a.Core,l=a.Account,u=o.$Config.WLXAccount,d=u.signup,c=s.DataRequest,v=l.FieldHelper,g=l.Extensions.Utils,f=l.Util&&l.Util.MarchingAnts,p="newpwd";r.extend(ko.validation.rules,{"birthdatePartRequired":{"validator":function(e){var t="",n="",i="",o=e.split(":");return 3===o.length&&(t=o[0],n=o[1],i=o[2]),Boolean(t&&n&&i)},"message":""},"birthdateValid":{"validator":function(e){var t=new Date,n="",i="",o="",r=e.split(":");3===r.length&&(n=r[0],i=r[1],o=r[2]);var a=parseInt(o,10),s=parseInt(i,10)-1,l=parseInt(n,10),u=new Date(a,s,l);
return!(u>t||0/0===a||0/0===s||0/0===l||l!==u.getDate()||s!==u.getMonth()||a!==u.getFullYear())},"message":""},"pwdContainsMemberName":{"validator":function(e){var t=d.viewContext&&d.viewContext.data&&d.viewContext.data.input?d.viewContext.data.input.memberNameInput:"";return e&&t&&0!==t.length?-1===e.toLowerCase().indexOf(t.toLowerCase().split("@")[0]):!0},"message":""},"pwdComplexity":{"validator":function(e){for(var t=[/[\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E]+/,/[\x30-\x39]+/,/[\x41-\x5A]+/,/[\x61-\x7A]+/],n=2,i=0,o=0,r=t.length;r>o;o++){if(e.match(t[o])&&i++,i>=n){return!0
}}return!1},"message":""},"strongPwdComplexity":{"validator":function(e){for(var t=[/[\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E]+/,/[\x30-\x39]+/,/[\x41-\x5A]+/,/[\x61-\x7A]+/],n=3,i=0,o=0,r=t.length;r>o;o++){if(e.match(t[o])&&i++,i>=n){return!0}}return!1},"message":""},"notMatchingPattern":{"validator":function(t,n){return e(t,n)},"message":""},"allPatterns":{"validator":function(e,n){return t(e,n,!0)},"message":""},"onePattern":{"validator":function(e,n){return t(e,n,!1)},"message":""},"userNamePattern":{"validator":function(e,n){if(!e||0===e.length||-1===e.indexOf("@")){return!1
}var i=e.split("@");return 2!==i.length?!1:t(i[0],n,!1)}},"userNameRequired":{"validator":function(e){if(!e||0===e.length||-1===e.indexOf("@")){return!1}var t=e.split("@");return 2!==t.length?!1:t[0].trim().length>0}},"liveMemberNameValid":{"validator":function(e,n){var i=n.domains,o=n.patterns;return i&&0!==i.length&&v.getMemberNameType(e,i)===v.memberNameTypes.Live?t(e.split("@")[0],o,!0):!0}},"proofClearPortionMatchEmail":{"validator":function(e,o){if(e){var r=n(e,o.clearPortion(),!0),a=o.domainPortion(),s=o.patterns,l=o.allowZero;
return l&&"0"===String(e)?!0:e.indexOf("@")>=0?r&&i(e,a,!0)&&t(e,s,!0):r&&t(e+a,s,!0)}return!1}},"proofClearPortionMatchPhone":{"validator":function(e,t){return t.allowZero&&"0"===String(e)?!0:Boolean(e&&e.length===t.matchDigits&&e.match(/^\d+$/)&&i(e,t.clearPortion(),!0))}},"memberNameValidForFl":{"validator":function(e,t){var n=t.fl,i=v.getMemberNameType(e,t.domains);return"EASI"===n&&i!==v.memberNameTypes.EASI?!1:"Live"===n&&i!==v.memberNameTypes.Live?!1:"Phone"===n&&i!==v.memberNameTypes.Phone?!1:!0}},"hipValidation":{"validator":function(e){var t=o.HIPAMFE;
return t&&t.done?(r("#hipContent .hiddenHipInputText").val(e),a.Account&&a.Account.viewModelHandle&&a.Account.viewModelHandle.hip&&a.Account.viewModelHandle.hip.serverError&&""===a.Account.viewModelHandle.hip()?(this.message=a.Account.viewModelHandle.hip.serverError,!1):(t.clientValidation(),t.setError(),this.message=t.getError(),""===t.getError())):!0}},"bannedPwd":{"async":!0,"validator":function(e,t,n){var i={"uaid":o.$Config.uaid};i.cipherValue=Encrypt("","",p,e),i.ski=t.ski;var r=new c(null,t.url,i,function(e){n(!e.isBanned),g.setFocusOnObservable(t.observable,!e.isBanned)
},function(){n(!0),g.setFocusOnObservable(t.observable,!0)});r.start()},"message":""},"checkAvailable":{"async":!0,"validator":function(e,t,n){var i={"signInName":e,"uaid":o.$Config.uaid};t.dft&&(i.dft=t.dft),t.includeSuggestions&&(i.includeSuggestions=t.includeSuggestions);var r="Account_CheckAvailPage",a=new c(null,t.url,i,function(i){try{var a={},s=o.performance&&o.performance.now?o.performance.now():(new Date).getTime();a.pageId=r,a.duration=Math.round(s-checkAvailableNamesApiStartTime),a.skipClientCall=!0,$ReportEvent.Action(a)
}catch(l){}var u=!i||i.isAvailable,c=i&&i.type,v=i&&i.suggestions||[],p=v.length>0,m=i&&i.isProof,h=i&&i.possibleEviction,b=i&&i.nopaAllowed,w=t.getResult&&t.getResult(0,e,u,c,p,m,h,b);f&&f.hideLightboxProgress(),t.getSuggestedMemberNames&&t.getSuggestedMemberNames(v),t.setSuccessMessage&&u&&t.setSuccessMessage(c,e),d.viewContext&&d.viewContext.data&&d.viewContext.data.reporting&&(d.viewContext.data.reporting.memberNameChangeCount++,u?d.viewContext.data.reporting.memberNameAvailableCount++:d.viewContext.data.reporting.memberNameUnavailableCount++),n(w?w:u),g.setFocusOnObservable(t.observable,u&&1===$B.IE)
},function(i){var a=i&&i.error;try{var s={},l=o.performance&&o.performance.now?o.performance.now():(new Date).getTime();s.pageId=r,s.duration=Math.round(l-checkAvailableNamesApiStartTime),s.errorCode=a?i.error.code:"",s.skipClientCall=!0,$ReportEvent.Action(s)}catch(u){}var c=i&&i.suggestions||[],v=c.length>0,p=t.getResult&&t.getResult(a&&i.error.code,e,void 0,void 0,v);f&&f.hideLightboxProgress(),t.getSuggestedMemberNames&&t.getSuggestedMemberNames(c),d.viewContext&&d.viewContext.data&&d.viewContext.data.reporting&&(d.viewContext.data.reporting.memberNameChangeCount++,d.viewContext.data.reporting.memberNameUnavailableCount++),n(p?p:!1),g.setFocusOnObservable(t.observable,!0)
});f&&f.showLightboxProgress(),checkAvailableNamesApiStartTime=o.performance&&o.performance.now?o.performance.now():(new Date).getTime(),a.start()},"message":""},"getPhoneDetails":{"async":!0,"validator":function(e,t,n){function i(e){if(!e.phoneDetails||e.phoneDetails.length<=0){n(!1)}else{var i=e.phoneDetails[0];t.phoneDetails&&t.phoneDetails(i),n(i.IsValid===!0)}}function r(e){n(!!t.onError),t.onError&&t.onError(e)}var a={"phone":[].concat(e),"uaid":o.$Config.uaid};t.country&&(a.country=[].concat(t.country()));
var s=new c(null,t.url,a,i,r);s.start()}}}),ko.validation.registerExtenders()}();var KnockoutExtensions;!function(){var e=window,t=e.jQuery;ko.subscribable.fn.whenAttainsValue=function(e){var n=this,i=t.Deferred();if(!ko.isObservable(n)&&!ko.isComputed(n)||e!==n()){var o=n.subscribe(function(t){t===e&&(o.dispose(),i.resolve())})}else{i.resolve()}return i.promise()},ko.subscribable.fn.validation=function(){return this.isValidating.whenAttainsValue(!1)}}(KnockoutExtensions||(KnockoutExtensions={}));