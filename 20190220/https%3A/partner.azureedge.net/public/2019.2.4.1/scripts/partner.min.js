define("local-storage",function(){"use strict";function h(t,i,r){var u=n(t,i,r);return u?JSON.parse(u):null}function c(n,i,r,u){i&&(i=JSON.stringify(i));t(n,i,r,u)}function n(n,t,r){return n==null||n===""?null:u()?t&&i(n,r)?null:e(n,r):null}function t(n,t,i,e){n!=null&&n!==""&&u()&&(o(n,t,e),i&&o(f(n),r()+i,e))}function i(n,t){var o=f(n),i=e(o,t),u;return i&&(u=parseInt(i),r()>=u)?!0:!1}function r(){return Math.floor((new Date).getTime()/1e3)}function u(){return typeof Storage!="undefined"}function f(n){return s+n}function e(n,t){return t||(t=localStorage),t.getItem(n)}function o(n,t,i){i||(i=localStorage);i.removeItem(n);try{i.setItem(n,t)}catch(r){(r&&r.name==="QUOTA_EXCEEDED_ERR"||r.name==="NS_ERROR_DOM_QUOTA_REACHED"||r.name==="QuotaExceededError")&&(console.log(r),i.clear(),i.setItem(n,t),(new Image).src="/reporterror?clientError="+encodeURIComponent(r)+"&sourceUri="+encodeURIComponent(window.location.href.replace(window.location.hash,"")))}}var s="expiry:";return{getJson:h,setJson:c,get:n,set:t,expired:i}});define("local-storage-helper",["local-storage"],function(n){"use strict";function s(t,i,r){var f=n.get(t),u;f&&r(f);u=i();u&&u!==f&&(n.set(t,u),r(u))}function h(n,t,r,u){i(n,t,r,u,sessionStorage)}function c(n,t,i){return r(n,t,i,sessionStorage)}function l(n,t,r,u){i(n,t,r,u,localStorage)}function a(n,t,i){return r(n,t,i,localStorage)}function i(t,i,r,u,e){t=f(u,t);n.set(t,i,r,e)}function r(t,i,r,u){return t=f(r,t),n.get(t,i,u)}function f(n,t){var i="svc";return n?i=n:$("#serviceName").length&&(i=$("#serviceName").val()),i+":"+t}function e(){var i=n.get(u,!0,sessionStorage);return i==null&&(i=t),i}function v(i){i||(i=t);n.set(u,i,3600,sessionStorage)}function y(){return n.getJson(o())}function p(t){n.setJson(o(),t)}function o(){return"fd:v2:"+e()+":user-data"}function w(){return t}function b(){localStorage.clear();sessionStorage.clear()}var u="fd:v2:user",t="anon";return{smartFetch:s,setSessionStorageItem:h,getSessionStorageItem:c,setLocalStorageItem:l,getLocalStorageItem:a,setItem:i,getItem:r,getUserIdentity:e,setUserIdentity:v,getUserData:y,setUserData:p,getAnonUser:w,clearStorage:b}}),function(){function n(n,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}if(typeof window.CustomEvent=="function")return!1;n.prototype=window.Event.prototype;window.CustomEvent=n}();define("fdjsll",["require","customTracker","util"],function(n,t,i){var e="ms.appId",o="DevCenter",r=document.getElementById(e),u,f;r||(r=document.createElement("meta"),r.id=e,document.getElementsByTagName("head")[0].appendChild(r));r.setAttribute("name",e);u=document.createElement("meta");u.name="awa-market";u.setAttribute("content",$("#awaMarket").val());document.getElementsByTagName("head")[0].appendChild(u);$("#awaMarket").remove();f=$("#asimovTelemetryAppId").val();i.isNonEmptyString(f)?(r.setAttribute("content",f),o=f.substring(3)):r.setAttribute("content","JS:DevCenter");t.recordPageLoadPerf("beforeWebi");n(["clickstreamTracker"],function(){var i=function(){var n=$("meta[id='ms.pagename']").attr("content");return n!==undefined?n:"undefined"},n,t;typeof awa!="undefined"&&awa!==null&&(n={useDefaultContentName:!1,muidDomain:"windows.com",autoCapture:{pageView:!1,onLoad:!1,onUnload:!0,jsError:!1,lineage:!0},coreData:{appId:o,pageTags:{}},callback:{pageName:i},useBeacon:document.getElementById("useJsllBeacons")?document.getElementById("useJsllBeacons").value=="true"?!0:!1:!0,useDefaultContentName:!0},awa._registerSchemas([{name:"Ms.Webi.DevCenter.CustomPerf","Ms.Webi.DevCenter.CustomPerf":{part:"B",def:{fields:[{name:"pageTags",type:"string"},{name:"customSessionGuid",type:"string"},{name:"impressionGuid",type:"string"}]}}}]),awa.init(n),t=new CustomEvent("jsllInit",{detail:{message:"JSLL initialized",time:new Date},bubbles:!0,cancelable:!0}),$("body")[0].dispatchEvent(t))})});define("util",["require"],function(){function t(t){if(!n(t))return null;var r=new RegExp("[; ]"+t+"=([^;]*)"),u=" "+document.cookie,i=u.match(r);return i?i[1]:""}function n(n){return n!=null&&typeof n=="string"&&n!=""}return{getCookieValue:t,isNonEmptyString:n}});define("meControl",["require","clickstreamTracker"],function(n,t){function i(n){var r,u,f;if(!window.msCommonShell){window.onShellReadyToLoad=function(){window.onShellReadyToLoad=null;i(n)};return}r=window.msCommonShell;u=n.signInReturnUrl;u||(u=window.location.pathname+location.search);f={meControlOptions:{rpData:{aadInfo:{signInUrl:"/aad?action=signin&returnPath="+u,signOutUrl:"/aad?action=signout",siteUrl:"https://"+window.location.host,appId:"fa3d9a0c-3fb0-42cc-9193-47c7ecd2edbd"},msaInfo:{signInUrl:"/aad?action=signin&returnPath="+u,signOutUrl:"/aad?action=signout",meUrl:""},preferredIdp:"aad"},userData:{idp:n.identityType==="Msa"?"msaFed":r.SupportedAuthIdp.AAD,firstName:n.firstName,lastName:n.lastName,memberName:n.memberEmail,orgLogoUrl:"//dri1.img.digitalrivercontent.net/Storefront/Site/mscommon/cm/images/common_images/microsoftlogov3.png",authenticatedState:n.isSignedIn===!0?r.AuthState.SignedIn:r.AuthState.NotSignedIn}},events:{onEventLog:function(n,i){if(mscc&&mscc.hasConsent()&&n.indexOf("MeControl_")!=-1&&i.type=="bici"&&n.indexOf("Ready")==-1){var r={name:n,contentId:n,areaName:"MeControl",targetUri:i.targetUri};typeof awa!="undefined"&&awa!==null?awa.ct.captureContentPageAction({content:r}):t.captureContentPageAction(r);window.MscomCustomEvent&&window.MscomCustomEvent("wcs.cn",n,"wcs.ct",i.destUri,"ms.pgarea","header","ms.cmpnm","MeControl")}},onSearch:function(n){var t=n.query.value,i=n.action;window.MscomCustomEvent&&window.MscomCustomEvent("wcs.cot","4","wcs.cn","Search","wcs.ct",i,"ms.pgarea","header","ms.searchquery",t,"ms.scope","DevCenter","wcs.interactionType","2")}}};r.load(f);window.setTimeout(function(){$(".msame_TxtTrunc").length>0&&$(".msame_TxtTrunc").click(function(){sessionStorage.clear()})},500)}return{initMeControl:i}});define("single-signon",function(){function i(n,t,i){var r=document.createElement("iframe");r.height=r.width=0;r.frameBorder=r.scrolling="no";r.src=n+"?signedin="+(t?t:"0");i&&(r.src+="&locale="+i);document.body.appendChild(r)}function t(){var t=document.cookie.match(new RegExp("\\b"+n+"=([^;]+)"));return t?t[1]:null}function r(i){var r=t(),u,f;r&&(u="&c="+i,f="&c=2",document.cookie=n+"="+r.replace(u,f)+";path=/")}function u(n){var t={};return n&&n.replace(/([^?=&]+)=([^&]*)?/g,function(n,i,r){t[i]=r}),t}var n="ssostate";$(document).ready(function(){var n=u(t()),e,f;if(n.url&&n.c=="1")for(e=n.url.split(","),f=0;f<e.length;f++)e[f]&&i(unescape(e[f]),n.sig,n.loc);n.c&&(n.c==="0"||n.c==="1")&&r(n.c)})});define("customTracker",["require","clickstreamTracker"],function(){function i(n,t){var i=document.getElementById(n),r;return i||(i=document.createElement("meta"),i.id=n,document.getElementsByTagName("head")[0].appendChild(i)),i.setAttribute("name",n),r=(new Date).getTime(),t!=null&&typeof t=="number"&&(r=t),i.setAttribute("content",r),r}function r(n,t,i){var r,u;typeof awa!="undefined"&&awa!==null?(r={name:"Ms.Webi.DevCenter.CustomPerf",data:{"Ms.Webi.DevCenter.CustomPerf":{pageTags:awa.utils.stringifyField("pageTags",i),customSessionGuid:typeof awa.ids.getSessionId=="function"?awa.ids.getSessionId():"",impressionGuid:awa.ids.getImpressionGuid()}}},r[awa.cv.tag]=awa.cv.getValue(),r.appId="DevCenter",awa.isInitialized?awa.writeEvent(r):$("body")[0].addEventListener("jsllInit",function(){awa.writeEvent(r)},!1)):typeof Asimov=="object"&&(u={name:"Ms.Webi.DevCenter.CustomPerf",content:{"Ms.Webi.DevCenter.CustomPerf":{pageTags:Asimov.utils.stringifyField("pageTags",i),customSessionGuid:typeof Asimov.ids.getSessionId=="function"?Asimov.ids.getSessionId():"",impressionGuid:Asimov.ids.getImpressionGuid()}}},u[Asimov.correlationVectorTag]=Asimov.ids.getCv(),u.appId="DevCenter",Asimov.writeEvent(u))}function n(n,t,u){var f,o,e;if(n!=null&&typeof n=="string"&&n!=""){if(f="ms.",t!=null&&typeof t=="string"&&t!=""&&(f=f+t+"."),f=f+n,o=i(f,u),document.readyState==="complete")return e={},e[f]=o,r(n,o,e),e}else throw"customTracker.recordPerf(): Null, Empty or non-String areaId";return null}var u=function(){var n=t("atfe");n!=null&&$(document).trigger("AboveTheFoldReady",n)},t=function(t,i){return n(t,null,i)},f=function(t){n(t,"start")},e=function(t){n(t,"end")};return{recordAboveTheFoldEnd:u,recordPageLoadPerf:t,recordCustomEventStart:f,recordCustomEventEnd:e}});define("npsDialog",["require","feedback","knockout","util"],function(n,t,i){function r(){$("#npsFeedbackDetails").val("");$("#npsFeedback input:radio").attr("checked",!1);$("#npsFeedbackSubmit").prop("disabled","disabled");$("#npsFeedback").hide()}var u,f;return window.npsfeedbackvm=new t.FeedbackViewModel,window.ifEligibleOpenDialog=npsfeedbackvm.ifEligibleOpenDialog,$("#npsFeedbackNeverShow").click(function(){npsfeedbackvm.nevershow();r()}),$("#npsFeedbackNotNow").click(function(){npsfeedbackvm.notnow();r()}),$("#npsFeedbackSubmit").click(function(){npsfeedbackvm.savenpsfeedback();r()}),u=document.getElementById("npsFeedback"),u!=null&&i.applyBindings(npsfeedbackvm,u),f=function(n){typeof n=="undefined"?ifEligibleOpenDialog(!1):ifEligibleOpenDialog(n)},{openNPSDialog:f}});define("init",["require","knockout","common","clickstreamTracker","local-storage","local-storage-helper","meControl"],function(n,t,i,r,u,f,e){function a(n){if(awa.cv.isInit()||awa.cv.init(n.correlationVector),awa.ct.capturePageView(),document.readyState==="complete")awa.ct.captureContentUpdate({isDomComplete:!0});else $(window).on("load",function(){awa.ct.captureContentUpdate({isDomComplete:!0})})}function p(){$.ajax({url:"/fdapi/handshake?caller="+encodeURIComponent(window.location.href.replace(window.location.hash,"")),dataType:"json",type:"GET",cache:!1,async:!0,success:function(n){$('meta[name="ms.Cv"]').attr("content",n.correlationVector);typeof awa!="undefined"&&awa!==null&&(awa.isInitialized?a(n):$("body")[0].addEventListener("jsllInit",function(){a(n)},!1))},error:function(){console.log("Cannot fetch handshake data.")}})}function w(n){$.ajax({url:"/api/partialui/delta?caller="+encodeURIComponent(window.location.href.replace(window.location.hash,"")),dataType:"json",type:"GET",cache:!1,async:!0,success:function(t){n&&n(t)},error:function(){console.log("Cannot fetch delta.")}})}function b(n){var t=y(n);return s==null||s!=t?!0:!1}function k(n){if(n){if(b(n.data)&&(f.setUserIdentity(y(n.data)),sessionStorage.removeItem("contentNotifications")),f.setUserData(n.data),o=n.data,c=n.ui.fp,v(),n.data.meControl.isSignedIn!==!1&&$("#headerWrapper #headerUniversalHeader").length&&$("#uhf-gleam-wrapper").length===0)if(sessionStorage.getItem("contentNotifications")!==null&&sessionStorage.getItem("notificationLocale")===i.locale()){var t=JSON.parse(sessionStorage.getItem("contentNotifications")),r='<div id="uhf-gleam-wrapper"><\/div>';$("#headerWrapper .theme-dark.brand-neutral.js-cat-head").length?($(r).prependTo("#headerWrapper .theme-dark.brand-neutral.js-cat-head"),$("#uhf-gleam-wrapper").append(t)):$("#headerUniversalHeader .c-uhfh-actions").length&&($(r).insertBefore("#headerUniversalHeader .c-uhfh-actions #meControl"),$("#uhf-gleam-wrapper").append(t))}else $.ajax({url:"/"+i.locale()+"/common/ux/api/shellapi/gleam",success:function(n){if(n){var t=n.trim(),r='<div id="uhf-gleam-wrapper"><\/div>';$("#headerWrapper .theme-dark.brand-neutral.js-cat-head").length?($(r).prependTo("#headerWrapper .theme-dark.brand-neutral.js-cat-head"),$("#uhf-gleam-wrapper").append(t)):$("#headerUniversalHeader .c-uhfh-actions").length&&($(r).insertBefore("#headerUniversalHeader .c-uhfh-actions #meControl"),$("#uhf-gleam-wrapper").append(t));sessionStorage.setItem("contentNotifications",JSON.stringify(n));sessionStorage.setItem("notificationLocale",i.locale())}}});e.initMeControl(o.meControl)}}function v(){h($("#flightPicker"),c,"#flightPickerContents",null);o.ignoreCache}function y(n){return n.userId?n.userId:n.userEmail?n.userEmail:f.getAnonUser()}function h(n,t,i,r){if(i&&$(i).remove(),document.readyState==="complete")n.append(t),n.show();else $(window).on("load",function(){n.append(t);n.show()});r&&r()}function g(n,t,i){document.location.href="mailto:"+i+"?subject="+encodeURIComponent(n)+"&body="+encodeURIComponent(t)}$(document).ready(function(){p()});var nt=i.userJustSignedIn(),s=null,o=null,c=null;s=f.getUserIdentity();try{o=f.getUserData();o&&v()}catch(l){f.clearStorage();(new Image).src="/reporterror?clientError="+encodeURIComponent(l)+"&sourceUri="+encodeURIComponent(window.location.href.replace(window.location.hash,""));console.log(l)}return w(k),{generateEmail:g}});define("util",["require"],function(){function t(n,t,i){var r="Error when calling "+n+".  textStatus="+t+".  errorThrown="+i;console.log(r);(new Image).src="/reporterror?clientError="+encodeURIComponent(r)+"&sourceUri="+encodeURIComponent(window.location.href.replace(window.location.hash,""))}function i(t){if(!n(t))return null;var r=new RegExp("[; ]"+t+"=([^;]*)"),u=" "+document.cookie,i=u.match(r);return i?i[1]:""}function n(n){return n!=null&&typeof n=="string"&&n!=""}return{logAjaxError:t,getCookieValue:i,isNonEmptyString:n}});define("feedback",["knockout","exports","common"],function(n,t,i){var r=function(){function s(n,t,r){var u=t==o.V2?"/notification/api/v2/notifications/":"/notification/api/v1/notifications/";$.ajax({method:"PATCH",data:r,url:"/"+i.locale()+u+n})}function f(){var n=$("a[data-bi-id='NetPromoterScoreFeedback_Title']")[0],t,i;n=n!=undefined?n:$("a[data-bi-id='9170b545-7aef-490a-8235-449e356363c6']")[0];t=n!=undefined?n.attributes["data-bi-product"].value:null;i=n!=undefined?n.attributes["data-version"].value:null;t&&s(t,i,{status:3});return}function u(t,i,r,u,f){var e="Error getting survey data! xhr.status is "+t+" textStatus is "+i+" errorThrown is "+r+" data is "+n.toJSON(u);(new Image).src="/reporterror?clientError="+encodeURIComponent(e)+"&sourceUri="+encodeURIComponent(f)}function e(n,t){var i=0,r=3;$.ajax({url:n,type:"GET",contentType:"application/json;charset=utf-8",error:function(t,f,e){if(t.status!=null&&t.status.toString().startsWith("5")){if(i++,i<=r){$.ajax(this);return}u(t.status,f,e,data,n);return}u(t.status,f,e,data,n)},success:function(n){t(n)}})}function t(t,i,r,f,e){var o=0,s=3;$.ajax({url:i,type:r,contentType:"application/json;charset=utf-8",data:n.toJSON(t),success:function(){f&&f()},error:function(n,r,f){if(e&&e(),n.status!=null&&n.status.toString().startsWith("5")){if(o++,o<=s){$.ajax(this);return}u(n.status,r,f,t,i);return}u(n.status,r,f,t,i)}})}function r(){function u(n){e("/"+i.locale()+"/engagementapi/survey/eligibleuserstate?askLater="+n,o)}function o(n){if(n!==""&&n!==null){if(n==="-1"){f();return}r.surveyUserState(n);e("/"+i.locale()+"/engagementapi/survey/surveyconfig?surveyid="+n.SurveyConfigId,s)}}function s(u){for(var f=u,e=0;e<f.Questions.length;e++)f.Questions[e].rating=n.observable(""),f.Questions[e].description=n.observable("");r.surveyData(f);r.surveyUserState().SurveyPresentedDateUtc=(new Date).toUTCString();t(r.surveyUserState(),"/"+i.locale()+"/engagementapi/survey/userstate","PUT");$("#npsFeedback").show()}function h(n){var t=n.match(/(\r\n|\n|\r)/g),i=0;return t!=null&&(i=t.length),n.length+i}var r=this;r.visible=n.observable(!1);r.userAgent=n.observable("");r.description=n.observable("");r.area=n.observable("");r.subArea=n.observable("");r.culture=n.observable("");r.sourceUrl=n.observable(window.location.href.replace(window.location.hash,""));r.ifEligibleOpenDialog=u;r.surveyUserState=n.observable("");r.surveyData=n.observable("");r.apiSuccessful=n.observable(!1);r.devFeedbackSubmitting=n.observable(!1);r.canSubmitSurvey=n.computed(function(){if(r.surveyData().Questions!==undefined){for(var n=0;n<r.surveyData().Questions.length;n++)if(r.surveyData().Questions[n].rating()==="")return!1;return!0}return!1});r.autoInfo=n.computed(function(){return"Culture: "+r.culture()+"; Url: "+r.sourceUrl()+"; UserAgent: "+r.userAgent()});r.submitted=n.observable(!1);r.descriptionLimit=2500;r.userName=n.observable("");r.userInfo=n.computed(function(){return r.userName().trim()});r.category=n.observable("0");r.calculatedLength=n.computed(function(){return h(r.description())});r.disableSubmit=n.computed(function(){return r.devFeedbackSubmitting()||r.calculatedLength()>r.descriptionLimit||r.description().trim().length==0||r.area().trim().length==0})}var o={V1:1,V2:2};return r.prototype.clear=function(){return this.userAgent(""),this.description(""),this.userName(""),this.category("0"),this.sourceUrl(""),this.area(""),this.subArea(""),this.culture(""),this.surveyData(""),this.apiSuccessful(!1),this},r.prototype.savenpsfeedback=function(){for(var u,r=[],n=0;n<this.surveyData().Questions.length;n++)r[n]={FeedbackRating:this.surveyData().Questions[n].rating(),Description:this.surveyData().Questions[n].description().trim()};this.sourceUrl(window.location.href.replace(window.location.hash,""));this.userAgent(navigator.userAgent);u={SurveyConfigId:this.surveyData().SurveyId,Culture:i.locale(),SubmittedResponse:r,AccountId:this.surveyUserState().AccountId,UserId:this.surveyUserState().UserId,UserAgent:this.userAgent()+"[pagename:"+$('meta[id="ms.pagename"]').attr("content")+"][Cv"+$('meta[name="ms.Cv"]').attr("content")+"]",SubmittedDateUtc:(new Date).toUTCString(),SourceUrl:this.sourceUrl(),ClickedSubmit:!0};t(u,"/"+i.locale()+"/engagementapi/survey/surveysubmission","POST");f()},r.prototype.notnow=function(){var f=Array(),n,r,u;this.sourceUrl(window.location.href.replace(window.location.hash,""));this.userAgent(navigator.userAgent);n={SurveyConfigId:this.surveyData().SurveyId,Culture:i.locale(),SubmittedResponse:f,AccountId:this.surveyUserState().AccountId,UserId:this.surveyUserState().UserId,UserAgent:this.userAgent(),SourceUrl:this.sourceUrl(),SubmittedDateUtc:(new Date).toUTCString(),ClickedAskLater:!0};t(n,"/"+i.locale()+"/engagementapi/survey/surveysubmission","POST");r="/"+i.locale()+"/notification/api/v2/notifications?updateNotificationWithSameTemplateId=true";u={template_id:"9170b545-7aef-490a-8235-449e356363c6",status:0};t(u,r,"POST")},r.prototype.nevershow=function(){var r=Array(),n;this.sourceUrl(window.location.href.replace(window.location.hash,""));this.userAgent(navigator.userAgent);n={SurveyConfigId:this.surveyData().SurveyId,Culture:i.locale(),SubmittedResponse:r,AccountId:this.surveyUserState().AccountId,UserId:this.surveyUserState().UserId,UserAgent:this.userAgent(),SubmittedDateUtc:(new Date).toUTCString(),SourceUrl:this.sourceUrl(),ClickedNeverShow:!0};t(n,"/"+i.locale()+"/engagementapi/survey/surveysubmission","POST")},r}();t.FeedbackViewModel=r});define("common",["exports"],function(n){function u(){return i("MarketplaceSelectedLocale")}function i(n){var i=new RegExp(n+"=([^;]+)"),t=i.exec(document.cookie);return t!=null?unescape(t[1]):null}function t(n,t){document.cookie=n+"="+t+"; path=/"}function r(){return $("#fdIsSignedIn").text()==="true"}function f(){var n=r(),u="PrevSignedIn",f=i(u);return f==null?(t(u,n.toString()),n):(f=f==="true",f?n?!1:(t(u,"false"),!1):n?(t(u,"true"),!0):!1)}function e(n){let t=document.createElement("a");return t.href=n,t.host!==window.location.host}n.locale=u;n.getCookie=i;n.setSessionCookie=t;n.userJustSignedIn=f;n.userSignedIn=r;n.isExternalUrl=e});
/**
 * @license RequireJS text 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */
define("text",["module"],function(n){"use strict";var t,o,r,u,s,h=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,a=f&&location.protocol&&location.protocol.replace(/\:/,""),v=f&&location.hostname,y=f&&(location.port||undefined),e={},i=n.config&&n.config()||{};return t={version:"2.0.12",strip:function(n){if(n){n=n.replace(c,"");var t=n.match(l);t&&(n=t[1])}else n="";return n},jsEscape:function(n){return n.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:i.createXhr||function(){var t,n,i;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(n=0;n<3;n+=1){i=h[n];try{t=new ActiveXObject(i)}catch(r){}if(t){h=[i];break}}return t},parseName:function(n){var r,u,i,f=!1,t=n.indexOf("."),e=n.indexOf("./")===0||n.indexOf("../")===0;return t!==-1&&(!e||t>1)?(r=n.substring(0,t),u=n.substring(t+1,n.length)):r=n,i=u||r,t=i.indexOf("!"),t!==-1&&(f=i.substring(t+1)==="strip",i=i.substring(0,t),u?u=i:r=i),{moduleName:r,ext:u,strip:f}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(n,i,r,u){var e,f,o,s=t.xdRegExp.exec(n);return s?(e=s[2],f=s[3],f=f.split(":"),o=f[1],f=f[0],(!e||e===i)&&(!f||f.toLowerCase()===r.toLowerCase())&&(!o&&!f||o===u)):!0},finishLoad:function(n,r,u,f){u=r?t.strip(u):u;i.isBuild&&(e[n]=u);f(u)},load:function(n,r,u,e){if(e&&e.isBuild&&!e.inlineText){u();return}i.isBuild=e&&e.isBuild;var o=t.parseName(n),h=o.moduleName+(o.ext?"."+o.ext:""),s=r.toUrl(h),c=i.useXhr||t.useXhr;if(s.indexOf("empty:")===0){u();return}if(!f||c(s,a,v,y))t.get(s,function(i){t.finishLoad(n,o.strip,i,u)},function(n){u.error&&u.error(n)});else{
//!strip part to avoid file system issues.
r([h],function(n){t.finishLoad(o.moduleName+"."+o.ext,o.strip,n,u)})}},write:function(n,i,r){if(e.hasOwnProperty(i)){var u=t.jsEscape(e[i]);r.asModule(n+"!"+i,"define(function () { return '"+u+"';});\n")}},writeFile:function(n,i,r,u,f){var e=t.parseName(i),o=e.ext?"."+e.ext:"",s=e.moduleName+o,h=r.toUrl(e.moduleName+o)+".js";t.load(s,r,function(){var i=function(n){return u(h,n)};i.asModule=function(n,t){return u.asModule(n,h,t)};t.write(n,s,i,f)},f)}},i.env!=="node"&&(i.env||typeof process=="undefined"||!process.versions||!process.versions.node||process.versions["node-webkit"])?i.env==="xhr"||!i.env&&t.createXhr()?t.get=function(n,r,u,f){var e=t.createXhr(),o;if(e.open("GET",n,!0),f)for(o in f)f.hasOwnProperty(o)&&e.setRequestHeader(o.toLowerCase(),f[o]);if(i.onXhr)i.onXhr(e,n);e.onreadystatechange=function(){var t,f;if(e.readyState===4&&(t=e.status||0,t>399&&t<600?(f=new Error(n+" HTTP status: "+t),f.xhr=e,u&&u(f)):r(e.responseText),i.onXhrComplete))i.onXhrComplete(e,n)};e.send(null)}:i.env!=="rhino"&&(i.env||typeof Packages=="undefined"||typeof java=="undefined")?(i.env==="xpconnect"||!i.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)&&(r=Components.classes,u=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(n,t){var i,f,e,o={};s&&(n=n.replace(/\//g,"\\"));e=new FileUtils.File(n);try{i=r["@mozilla.org/network/file-input-stream;1"].createInstance(u.nsIFileInputStream);i.init(e,1,0,!1);f=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(u.nsIConverterInputStream);f.init(i,"utf-8",i.available(),u.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);f.readString(i.available(),o);f.close();i.close();t(o.value)}catch(h){throw new Error((e&&e.path||"")+": "+h);}}):t.get=function(n,t){var r,i,e=new java.io.File(n),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(e),"utf-8")),f="";try{for(r=new java.lang.StringBuffer,i=u.readLine(),i&&i.length()&&i.charAt(0)===65279&&(i=i.substring(1)),i!==null&&r.append(i);(i=u.readLine())!==null;)r.append(o),r.append(i);f=String(r.toString())}finally{u.close()}t(f)}:(o=require.nodeRequire("fs"),t.get=function(n,t,i){try{var r=o.readFileSync(n,"utf8");r.indexOf("ï»¿")===0&&(r=r.substring(1));t(r)}catch(u){i&&i(u)}}),t});