/* sohutv 2017-10-16 11:40:54 */
!function(t,i,e){if(-1!=navigator.platform.indexOf("Win")){var a=new e.plugin.Ifox,n={getPlayer:function(){return document.getElementById("player")},getPlayedTime:function(){var t=0,i=this.getPlayer();return i&&i.playedTime&&(t=1e3*i.playedTime()),t},getDefinition:function(){var t=-1,i=this.getPlayer(),e=/"version"\s*:\s*(\d+)/g;if(i&&i.getDebugInfo)try{for(var a,n=i.getDebugInfo().debugInfo;a=e.exec(n);)t=a[1]}catch(l){}return t},pause:function(){var t=this.getPlayer();t&&t.pauseVideo()},play:function(){var t=this.getPlayer();t&&t.pauseVideo()}},l={closed:!1,plid:t.playlistId,vid:t.vid,pid:t.pid||-1,layer:null,timeoutID:null,cd:!1,tmpl:{11:['<a title="\u4f7f\u7528\u641c\u72d0\u5f71\u97f3\u5c0f\u7a97\u7f6e\u9876\u89c2\u770b" rel="btn" rev="play" href="#" target="_blank" class="abtn-win">\u5c0f\u7a97</a>','<a title="\u4e0b\u8f7d\u672c\u7247" rel="btn" rev="detail" href="#" target="_blank" class="abtn-down">\u4e0b\u8f7d</a>'].join(""),10:['<a title="\u4f7f\u7528\u641c\u72d0\u5f71\u97f3\u5c0f\u7a97\u7f6e\u9876\u89c2\u770b" rel="btn" rev="play" href="#" target="_blank" class="abtn-win">\u5c0f\u7a97</a>','<a title="\u9884\u52a0\u8f7d\u672c\u7247" rel="btn" rev="detail" href="#" target="_blank" class="abtn-yujz">\u9884\u52a0\u8f7d</a>'].join(""),"01":['<a href="${downloadUrl}1031" title="\u5b89\u88c5\u641c\u72d0\u5f71\u97f3\u98de\u901f\u52a0\u8f7d\uff0c95%\u7528\u6237\u90fd\u8bf4\u597d" class="abtn-speed">\u52a0\u901f</a>','<a href="${downloadUrl}1029" title="\u5b89\u88c5\u641c\u72d0\u5f71\u97f3\uff0c\u7f6e\u9876\u5c0f\u7a97\u7b80\u6d01\u4f53\u9a8c" class="abtn-win">\u5c0f\u7a97</a>','<a href="${downloadUrl}1030" title="\u5b89\u88c5\u641c\u72d0\u5f71\u97f3\u540e\u53ef\u4e0b\u8f7d\u672c\u7247" class="abtn-down">\u4e0b\u8f7d</a>'].join(""),"00":['<a href="${downloadUrl}1031" title="\u5b89\u88c5\u641c\u72d0\u5f71\u97f3\u98de\u901f\u52a0\u8f7d\uff0c95%\u7528\u6237\u90fd\u8bf4\u597d" class="abtn-speed">\u52a0\u901f</a></li>','<a href="${downloadUrl}1029" title="\u5b89\u88c5\u641c\u72d0\u5f71\u97f3\uff0c\u7f6e\u9876\u5c0f\u7a97\u7b80\u6d01\u4f53\u9a8c" class="abtn-win">\u5c0f\u7a97</a>','<a href="${downloadUrl}1033" title="\u5b89\u88c5\u641c\u72d0\u5f71\u97f3\u540e\u53ef\u9884\u52a0\u8f7d\u672c\u7247" class="abtn-yujz">\u9884\u52a0\u8f7d</a>'].join("")},handlers:{close:function(){this.layer.hide(),this.closed=!0},play:function(){n.pause(),a.play(this.pid,this.vid,n.getPlayedTime(),this.ismytv,n.getDefinition())},detail:function(){n.pause();var t="http://tv.sohu.com/feihudetail/index.shtml#"+this.getVideoInfoStr();a.showDetailPageUrl(t,5)}},getVideoInfoStr:function(){var t,i=this.cid;return t="9001"==i?[this.vid,_uid,this.cid,_uid]:"13"==i||"1300"==i||"25"==i?[this.vid,0,this.cid,this.pid]:[this.vid,this.plid,this.cid,this.pid],t.join("_")},getHTML:function(){var t=""+(1&a.isInstalled())+(1&this.cd),i=this.getVideoInfoStr();if(i)var e=this.downloadUrl+"&videoinfo="+i+"&s=";var n=this.tmpl[t];return n=n.replace(/\$\{downloadUrl\}/g,e),n='<span class="bL"></span>'+n+'<a href="#" rel="btn" rev="close" title="" target="_blank" class="abtn-close">\u5173\u95ed</a><span class="bR"></span>'},fresh:function(){this.layer.html(this.getHTML());var t=i("#player").offset(),e=t.left+i("#player").width(),a=t.top;this.layer.css({left:e,top:a})},initEvent:function(){var e=this;this.layer.hover(function(){clearTimeout(e.timeoutID)},function(){clearTimeout(e.timeoutID),e.timeoutID=setTimeout(function(){e.layer.hide()},300)}),i("#sohuplayer").hover(function(){clearTimeout(e.timeoutID),e.closed||(e.fresh(),i(t).width()>=i("#sohuplayer").width()+60&&e.layer.show())},function(){clearTimeout(e.timeoutID),e.timeoutID=setTimeout(function(){e.layer.hide()},300)}),this.layer.on("click","a[rel=btn]",function(t){var i=this.getAttribute("rev");try{e.handlers[i]&&e.handlers[i].call(e)}catch(t){}t.preventDefault()})},initDOM:function(){var t=i("#sohuplayer");t.length||(t=e.ifoxtipPack),this.layer=i('<div class="boxAdv cfix" ></div>'),i("body").append(this.layer)},init:function(){this.cid=t.cid,this.ismytv=9001==this.cid?1:0,this.downloadUrl="http://p2p.hd.sohu.com/dcs.do?vid="+this.vid+"&pid="+(this.pid||"")+"&playlistid="+this.plid+"&f=1",this.initDOM(),this.initEvent()}};l.init(),messagebus.subscribe("video.candownload",function(){l.cd=!0},null,null,{cache:!0})}}(window,jQuery,sohuHD);