var Identity=Identity||{};Identity.headerAuthenticate=function(n,t){Identity.headerLoginMode!=0&&Identity.popupAuthenticate(n,"","EXPLICIT_P")||(_w.location.href=t)},function(){function p(n,t,i){if(n&&t){var r=n.className;i?r.indexOf(t)==-1&&(r=r.concat(" ",t)):r=r.replace(t,"");n.className=r}}function nt(n){n[1]!=="login"&&y(!1)}var u=_ge("id_h"),f=_ge("id_l"),n=_ge("id_d"),r=!1,s=!1,h=Identity.hdrClk,t=sj_gx(),c=!1,w="keyup",e="click",o="touchstart",l="focusChange",a=function(){var u,o,f,l;if(!r){r=!0;var a=n.getAttribute("_iid"),e="",i="testhooks=1";location.href.indexOf(i)>0&&(e="&"+i);u="";o="loginmode=1";Identity.headerLoginMode==1&&(u="&"+o);f="";i="idtest=windows_live_id";location.href.indexOf(i)>0&&(f="&"+i);l="/Identity/Dropdown?n=1&IID="+a+"&IG="+_G.IG+e+f+u+"&ru="+encodeURIComponent(location.href);t.open("GET",l,!0);t.onreadystatechange=function(){t.readyState==4&&t.status==200&&t.responseText?(n.innerHTML=t.responseText,s=!0,c=!1,h!=null&&b(h),sj_evt.fire("id:refreshed")):t.readyState==4&&(r=!1,s=!1)};t.send(null)}};a();var b=function(n){if(!r||!s){h=n;a(n);return}var t=u.className.indexOf("b_idOpen")<0;y(t);sj_sp(n)},d=function(){var t=n.getElementsByTagName("a"),r,u,i;return t!=null&&t.length===1&&(r=t[0].getAttribute("data-a"),u=t[0].getAttribute("data-p"),r==="false"&&u==="W"&&(i=t[0].href,i!=null))?(document.location.href=i,!0):!1},v=function(n){sj_sp(n)},y=function(n){f.setAttribute("aria-expanded",n);n?d()||(p(u,"b_idOpen",n),g(),sj_evt.fire(l,u),sj_evt.fire("onPopTR","login"),sj_be(_d,e,i),sj_be(_d,o,i),sj_be(_d,w,k,!0),sj_evt.bind(l,i)):(p(u,"b_idOpen",n),sj_ue(_d,e,i),sj_ue(_d,o,i),sj_ue(_d,w,k),sj_evt.unbind(l,i))},g=function(){var h,e,r,u,f,i,n,t,s;if(!c&&(c=!0,h=_ge("b_idProviders"),h)){for(e=h.children,r=0,u=0;u<e.length;u++){if(f=0,document.getElementsByClassName)n=e[u].getElementsByClassName("id_name"),n&&n.length>0&&(f+=n[0].clientWidth),t=e[u].getElementsByClassName("id_link_text"),t&&t.length>0&&(f+=t[0].clientWidth);else{var n=[],t=[],o=e[u].getElementsByTagName("span");for(i=0;i<o.length;i++)o[i].className=="id_name"?n.push(o[i]):o[i].className=="id_link_text"&&t.push(o[i]);n&&n.length>0&&(f+=n[0].getBoundingClientRect().right-n[0].getBoundingClientRect().left);t&&t.length>0&&(f+=t[0].getBoundingClientRect().right-t[0].getBoundingClientRect().left)}r=Math.max(r,f)}r+=84;s=_ge("id_d");s&&r>s.clientWidth&&(s.style.width=r+"px")}},k=function(t){var r=t.which||t.keyCode;if(r==27){i();f.focus();return}if(r==9&&!n.contains(sj_et(t))){i();return}},i=function(){y(!1)};u&&sj_be(u,"mouseover",a);f&&sj_be(f,e,b);n&&sj_be(n,e,v);f&&sj_be(f,o,v);n&&sj_be(n,o,v);sj_evt.bind("wl:auth",function(){r=!1},1);sj_evt.bind("aad:signedin",function(){r=!1},1);sj_evt.bind("aad:signedout",function(){r=!1},1);sj_evt.bind("onPopTR",nt)}()