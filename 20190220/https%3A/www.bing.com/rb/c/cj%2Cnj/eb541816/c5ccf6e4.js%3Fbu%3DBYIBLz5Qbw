define("ajax.shared",["require","exports"],function(n,t){function r(n){var r=keyMap[n]?keyMap[n]:keyMap.Prefix+n,i=document.getElementById(r),t;return!i&&document.getElementsByClassName&&(t=document.getElementsByClassName(r),i=t&&t.length?t[0]:null),i}function u(n){var f=sj_ce("a"),t,r,u;return f.href=n,t=f.pathname,t[0]!=="/"&&(t="/"+t),t=t.replace(i,"/"),r="",t==="/"?r=t:(u=n.indexOf(t),r=u>-1?n.substr(u):""),r}function f(n,t,i){for(;n&&n!==document;n=n.parentNode){if(n[t]===i)return n;if(n===undefined)break}}var i=/^(\/)(\1+)/;t.getPlaceholder=r;t.getRelativeUrl=u;t.getParentContainer=f});define("ajax.cache.mm",["require","exports"],function(n,t){function a(n,t){e[n]=t}function v(n,t,i,r){if(n>=0){var u=p(n);switch(t){case"Script":u.ScriptHolder.push(r);break;case"Style":u.Style+=r;break;case"EOS":u.Script=u.ScriptHolder;delete u.ScriptHolder;u[t]=r;h(i,u);break;default:u[t]=r}}}function y(n){if(sessionStorage){var t=sessionStorage.getItem(u+n);return t?JSON.parse(t):null}return null}function h(n,t){if(sessionStorage)try{var f=sessionStorage.getItem(s+n);f=f?parseInt(f)+1:1;sessionStorage.setItem(s+n,f);(i!="/search"||f>1)&&(sessionStorage.setItem(u+n,JSON.stringify(t)),r[i]&&e[i]&&(r[i].push(n),r[i].length>e[i]&&(sessionStorage.removeItem(r[i][0]),r[i].shift())))}catch(o){}t={}}function p(n){while(n>=f.length)f.push({Style:"",SearchForm:"",Content:"",ScriptHolder:[]});return f[n]}function c(){var e,r,f,s,n,t,a;if(sessionStorage){for(e in sessionStorage)e.indexOf(u)===0&&sessionStorage.removeItem(e);var v="",y=document.body.getElementsByTagName("style"),p=l.getCssHolder();for(n=0;n<y.length;n++)r=y[n],r.hasAttribute("data-rms")||(v+=r.outerHTML,p.appendChild(r));for(f=[],s=document.body.getElementsByTagName("script"),n=0;n<s.length;n++)t=s[n],t.hasAttribute("data-rms")||(t.text.length>0?f.push({Content:t.text}):t.src.length>0&&f.push({Content:t.src,Method:"reference"}));a=window.location.href.substr(window.location.href.indexOf(i));h(a,{Style:v,SearchForm:_G.SRF,Content:_G.CNT,Script:f,IG:_G.IG,Title:document.title,Url:a,EOS:1});o.unbind("onP1",c)}}var o=n("event.custom"),l=n("dom"),i=location.pathname,s="bingc#",u="bing#",f=[],e={},r={"/videos/search":[],"/images/search":[]};t.setQuota=a;t.cacheItem=v;t.fetch=y;o.bind("onP1",c,!0)});define("ajax.history.mm",["require","exports"],function(n,t){function f(n){history.pushState(i,i,n)}function e(n){history.replaceState(i,i,n)}function o(){var n=window.location.href,t=n.indexOf(u),i;t>=0?(i=n.substr(t),r.fire("ajax.state",i)):window.location.assign(n)}var r=n("event.custom"),u=location.pathname,i="";t.pushState=f;t.replaceState=e;window.addEventListener("popstate",o,!1)});define("ajax.framework.mm",["require","exports","ajax.cache.mm","ajax.history.mm"],function(n,t,i,r){function rr(n){for(var t=0;t<p.length;t++)if(p[t]===n)return;p.push(n)}function ur(n){et=n}function fr(n){ot=n}function er(n){st=n}function or(n){y=n}function gt(){var n="onpopstate"in _w,t;h||(h=b.get("_SS","SID"),yt="jsonv2");_w.keyMap&&_w.JSON&&document.getElementsByClassName&&h&&n&&(pt=b.get("SRCHHPGUSR","AS"),ht(),f.bind("ajax.state",br),vt.bind(document,"keydown",function(n){n.keyCode===27&&k.preventDefault(n)}),sr(),f.fire("ajaxReady"));n&&h||(t=n?"":"History NA",t+=h?"":"SID NA",sj_log("CI.Ajax","H5Support",t),ct());f.unbind("onP1",gt)}function ht(){f.bind("ErrorInstrumentation",function(){ct()});var n=document.getElementById("sb_form");n&&(pt==="0"?vt.bind(n,"submit",hi):n.submit=hi);document.onclick=hr;window.sj_lc=function(n){kr(n,s.as)}}function ct(){b.set("_SS","h5comp","0",!1,"/")}function sr(){var n=document.createElement("style"),t;n.setAttribute("data-rms","1");t="#"+c+"{position:absolute;background-color:white;opacity:0.6;z-index:10}";t+="a,a *{-ms-touch-action:manipulation;touch-action:manipulation}";n.textContent!==nt?n.textContent=t:n.styleSheet.cssText+=t;document.body.appendChild(n)}function hr(n){var r,t;if(!n.defaultPrevented&&!n.ctrlKey&&!n.shiftKey&&n.button!==2&&n.button!=1&&(r=n.target,t=e.getParentContainer(r,"tagName","A"),t&&(t.target==="_self"||!t.target)&&t.getAttribute("data-noajax")!=="1")){var u=t.pathname,f=t.hostname?t.hostname:location.hostname,i=t.href;if(i=i.replace(pi,""),i&&(t.href=i),y&&y(t))return;f===location.hostname&&u.indexOf(d)===0&&(i=w(i.substr(i.indexOf(d))),i!==w(g)&&(it(i,s.click,r),n.preventDefault()))}}function ni(n,t,i){var r,u,f;i!==bt&&(bt=i);for(r in n)if(r==="Script")for(u=0;u<n[r].length;u++)f=n[r][u],ti(t,r,i,f);else ti(t,r,i,n[r])}function ti(n,t,r,u){for(var e=!1,f=0;f<p.length;f++)if(p[f](n,t,r,u,v)){e=!0;break}e||ii(n,t,r,u);i.cacheItem(n,t,r,u)}function ii(n,t,i,r){var f,u;if(i===g)switch(t){case"Script":r.Method==="reference"?a.includeScriptReference(r.Content):a.includeScript(r.Content);break;case"Style":dr();a.getCssHolder().innerHTML+="<div><\/div>"+r;break;case"IG":_G.IG=r;break;case"Title":wt.innerHTML=r;document.title=wt.value;break;case"EOS":e.ajaxPerf?cr(i):(ui(),ht(),si(),oi(i),fi());break;case"HBop":u=document.createElement("div");document.getElementById(keyMap.Content).appendChild(u);u.outerHTML=r;break;case"RmsDefer":case"EmbDivs":f=e.getPlaceholder(t);f||(f=document.createElement("div"),document.body.appendChild(f));f.outerHTML=r;break;case"Content":ri(t,r);tt!==null&&(sb_ct(tt),tt=null);break;case"LangSwitch":case"MarketSwitch":u=document.createElement("div");document.body.appendChild(u);u.outerHTML=r;break;default:ri(t,r)}}function cr(n){if(u){var t=u.onload,i=sb_st(function(){lt(n);u.onload=function(){}},1e3);u.onload=function(){sb_ct(i);lt(n);t&&t()}}else lt(n)}function lt(n){l.performance=u&&u.contentWindow&&u.contentWindow.performance;ui();ht();si();oi(n);fi()}function ri(n,t){var i=e.getPlaceholder(n);i&&(i.outerHTML=t)}function ui(){_G.PPS=!1;si_PP(new Date)}function lr(){f.fire("ajax.unload");rt.clear();k.forEach(li,function(n){window.hasOwnProperty(n)&&(window[n]=nt,delete window[n])});k.forEach(ai,function(n){for(var i,r=document.getElementsByClassName(n),t=0;t<r.length;t++)i=r[t],i.parentNode.removeChild(i)});tu();f.reset();ci.reset();try{window.scrollTo(0,0)}catch(n){}}function ar(){var n=e.getPlaceholder("AutoSug"),t=e.getPlaceholder("SearchForm"),i=e.getPlaceholder("header");n&&t&&i&&(n.style.display="none",t.className="",i.className="")}function vr(n){var i,u;if(ar(),i=st?st(n):document.getElementById(keyMap.Content),i){var t=i.getBoundingClientRect(),f=t.width===nt?Math.abs(t.right-t.left):t.width,e=yr(i,"paddingLeft");f=f-(e?parseInt(e):0);var s=t.height===nt?Math.abs(t.bottom-t.top):t.height,o="px",r=document.getElementById(c);r||(r=document.createElement("div"),r.setAttribute("id",c));r.style.height=s+o;r.style.width=f+o;u=i.childNodes;u&&u.length&&i.insertBefore(r,u[0])}}function yr(n,t){var i;if(window.getComputedStyle)i=getComputedStyle(n,null);else if(n.currentStyle)i=n.currentStyle;else return null;return i[t]}function pr(){var n=document.getElementById(c);n&&n.parentNode.removeChild(n)}function fi(){e.ajaxPerf?f.fire("ajax.load",l):f.fire("ajax.load");f.fire("onHTML");f.fire("onPP");f.fire("onP1Lazy");e.ajaxPerf?f.fire("ajax.postload",l):f.fire("ajax.postload");try{window.scrollTo(0,0)}catch(n){}l={};pr()}function it(n,t,i){o=ki;try{if(window.performance&&performance.now&&performance.now()>yi){at(n,"PageExpired",o,t);return}g=n;v=t;ut=!0;lr();o=di;wr(n,t,i)}catch(u){var f=o===kt&&!document.getElementById(c)?!1:!0,r=""+u;f?at(n,r,o,t):ei(r,o)}}function wr(n,r,f){var p,e,a,w,y,k;ft.indexOf(n)===-1&&(t.enableLocalCache&&r===s.history&&(p=i.fetch(n))?(o=kt,l.fromCache=!0,ni(p,-1,n)):(l.fromCache=!1,e=window.AjaxCB.length,o=gi,ft.push(n),a=b.get("_SS","SID"),a&&(h=a),w=n+(n.indexOf("&sid=")===-1?"&sid="+h:"")+"&format="+yt+"&jsoncbid="+e,u&&u.parentNode&&u.parentNode.removeChild(u),u=document.createElement("iframe"),u.style.display="none",document.body.appendChild(u),window.AjaxCB.push(function(t){ni(t,e,n)}),bi=new Date,y=function(t,i){return function(){document.getElementById(c)&&at(n,"FailedRequest",t,i)}},u.onload=y(dt,v),k=window.location.protocol+"//"+window.location.host+w,u.contentWindow.location.assign(k),tt=rt.setTimeout(y(tr,v),t.timeout),o=nr,vr(f)))}function at(n,t,i,r){ei(t,i);n=n+ir+i;var u="assign";r===s.history&&(u="replace");rt.setTimeout(function(){return window.location[u](n)},vi)}function ei(n,t){if(t<dt&&typeof onerror=="function")window.onerror(n,"Ajax.Bundle.MM",t);else sj_log("CI.Error","Ajax.MM",n+t),ct()}function oi(n){v!==s.history&&r.pushState(n);ft=[]}function br(n){if(n&&n.length>1){var t=w(n[1]),i=w(g);if(et!=null&&et(t,i))return;t&&t!==i&&it(t,s.history)}}function kr(n,t){var i=e.getRelativeUrl(n);i.indexOf(d)===0&&(ot==null||ot(n))?(i=w(i),it(i,t)):window.location.assign(n)}function w(n){if(!n)return n;var t=n.indexOf("#");return t===-1?n:n.substring(0,t)}function dr(){var n,i,t;ut&&(n=a.getCssHolder(),n.id="ajaxStylesBackup",i=a.getCssHolder(),t=n.nextSibling,t&&n.parentNode.insertBefore(i,t),ut=!1)}function si(){var n=document.getElementById("ajaxStylesBackup");n&&n.parentNode.removeChild(n)}function gr(n,t){var i=t&&t.action?t.action:d;return e.getRelativeUrl(i)+"?q="+encodeURIComponent(n)}function nu(n){for(var r="",i=n.getElementsByTagName("input"),t=0;t<i.length;t++)i[t].type==="hidden"&&(r+="&"+i[t].name+"="+encodeURIComponent(i[t].value));return r}function hi(n){var t=document.getElementById(keyMap.SearchForm),u=document.getElementById(keyMap.SBoxId),r=u.value,i;if(wi.test(r)){if(i=gr(r,t)+nu(t),y&&y(null,t,i))return;k.preventDefault(n);it(i,s.as)}}function tu(){var n=document.getElementById(keyMap.Notification),t;n&&(n.parentNode.removeChild(n),t=document.getElementById("id_h"),t&&(t.style.top="0"))}var b=n("cookies"),a=n("dom"),rt=n("env"),f=n("event.custom"),vt=n("event.native"),ci=n("rmsajax"),k=n("shared"),e=n("ajax.shared");(function(n){n[n.click=1]="click";n[n.history=2]="history";n[n.as=3]="as"})(t.Origin||(t.Origin={}));var s=t.Origin,u=null,d=location.pathname,h=_G.SID,yt="snrjson",ut=!1,v=s.click,g=e.getRelativeUrl(window.location.href),ft=[],li=["Bnp","RMS_IACL","sched","TP","bepns","Identity","initComCtrl","ccal","ccal_bundle"],ai=["bubblePlaceholder","irhc","vrhc"],c="ajaxMaskLayer",nt,tt=null;t.enableLocalCache=!0;t.timeout=1e4;var vi=30,yi=864e5,pi=/(&|%26)sid(=|%3d)\w+(&|%26)format(=|%3d)(jsonv2|snrjson)(&|%26)jsoncbid(=|%3d)\d+/gm,wi=/\S/,pt,wt=sj_ce("textarea"),bt,bi=si_ST,o,ki=10,di=20,gi=30,nr=40,kt=50,dt=60,tr=70,ir="&ajf=",l={},et=null,ot=null,st=null,y=null,p=[];t.registerRenderCallback=rr;t.setHistoryChangeCallback=ur;t.setLocationChangeCallback=fr;t.setContentMaskCallback=er;t.setBeforeLoadCallback=or;t.renderItem=ii;f.bind("onP1",gt,!0);window.AjaxCB=[]});define("ajax.render.mm",["require","exports","ajax.cache.mm","ajax.framework.mm"],function(n,t,i,r){function a(n){for(var i=0,t=0;t<u.length;t++)if(u[t].url.indexOf(n)>-1){i=u[t].pos;break}return i}function b(n,t,i,u,e){var c=!1,s,h;switch(t){case"EOS":f=i;r.renderItem(n,t,i,u);s="";h=0;e==r.Origin.history&&(o=h=a(i),s="if(typeof (_w.LateLoad) != 'undefined') _w.LateLoad.updateImages()");s="if(typeof (_w.VideoDenseResult) != 'undefined') _w.VideoDenseResult.init("+h+");"+s;w.includeScript(s);c=!0}return c}function k(n,t,i,u,s){var h=!1;switch(t){case"EOS":f=i;r.renderItem(n,t,i,u);e(i)||s==r.Origin.history&&(o=a(i));h=!0}return h}function d(){if(s=="/images/search")r.registerRenderCallback(k);else if(s=="/videos/search")r.registerRenderCallback(b);else return;r.enableLocalCache=!1;r.timeout=keyMap.Timeout;r.setHistoryChangeCallback(it);r.setLocationChangeCallback(rt);r.setContentMaskCallback(ut);r.setBeforeLoadCallback(tt)}function h(n,t){if(t)if(v(t)){if(y(t)||!n||!v(n)||y(n))return!1}else if(!e(t)&&n&&e(n)||e(t)&&n&&!e(n))return!1;return!0}function e(n){return n.match(/\/images\/search.*[?&]view=detailv2\b/i)!=null}function v(n){return n.match(/\/videos\/search.*[?&]view=detail\b/i)!=null}function y(n){return/\?.+\bvrth=1\b/.test(n)}function g(n){return n&&n.getAttribute("data-ajax-allowed")==="1"}function nt(n,t,i){for(;n&&n!==document;n=n.parentNode){if(n[t]&&n[t].indexOf(i)!==-1)return n;if(n===undefined)break}}function tt(n,t,i){var r=!1,u=t?t.target:null,f;return u=="_blank"||u=="_parent"?(_w.open(i,u),r=!0):(f=n?l.getParentContainer(n,"tagName","A"):null,h(f?f.href:null,window.location.href)?n&&!e(window.location.href)?nt(n,"className","dg_u")===undefined||g(n)||(r=!0):typeof DgConfig=="undefined"&&(r=!0):r=!0,r&&i&&window.location.assign(i)),r}function it(n,t){var i=!1;return(n.indexOf("#view=detail")>-1||p(n)||p(t)||!h(n,t))&&(i=!0),i}function p(n){return n&&n.indexOf("ajaxhist=0")>-1}function rt(n){return h(n,window.location.href)}function ut(n){if(n&&l.getParentContainer(n,"id","mmvm_car")!==undefined)return document.getElementById(keyMap.VideoMaskContent);var t=document.getElementById(keyMap.ImageDetailMaskContent);return t?t:document.getElementById(keyMap.Content)}function ft(){o=_w.pageYOffset||Math.max(sb_de.scrollTop,sj_b.scrollTop)}function et(){f===undefined&&(f=window.location.href.substr(window.location.href.indexOf(s)));for(var n=0;n<u.length;n++)if(u[n].url==f){u[n].pos=o;break}n==u.length&&u.push({url:f,pos:o})}var w=n("dom"),c=n("event.custom"),l=n("ajax.shared"),s=location.pathname,u=[],o=0,f;i.setQuota(s,10);c.bind("onP1",d,!0);c.bind("ajax.unload",et,!0);sj_be(_w,"scroll",ft)})