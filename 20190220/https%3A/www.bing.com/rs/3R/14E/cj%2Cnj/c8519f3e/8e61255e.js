var VideoAction_Watchlist;(function(){function it(){if(n&&!(n.length<1)){s=DetailPageActionButton.apply(null,[null,e,st]);ct();var t=s.getCurMeta();t&&t.inWatchlist&&c();h&&(sj_be(n[0],"mouseover",rt),sj_be(n[0],"keydown",ut),sj_evt.bind("MySavesBalloon.show",function(){return l(!0)}),sj_evt.bind("MySavesBalloon.hide",function(){return l(!1)}));MySaves.unsaveFunction=ot;MySaves.contextMetadata=t}}function rt(){r(n[0],u)&&VideoMySaves.showBalloon(n[0])}function ut(t){t.keyCode===v&&r(n[0],u)&&(VideoMySaves.showBalloon(n[0]),ft(),sj_pd(t),sj_sp(t),MySaves.setBalloonVisible(MySaves.AnimationTimeout.Long))}function ft(){var n,t;f&&(n=f.getElementsByTagName("A"),n&&n.length>1&&(t=n[0],t.focus(),sj_be(n[n.length-1],"keydown",et)))}function et(t){t.keyCode===v&&(n[0].focus(),MySaves.setBalloonVisible(MySaves.AnimationTimeout.Short))}function ot(n){var i={collectionId:null,collectionType:CollectionType.VideoWatchLater,mid:n.mid,murl:n.mediaUrl,purl:n.pageUrl,query:p()},r=t.TransactionType.Delete;w(i,sj_et(event),r,null);c()}function st(o,s){var l;if(s&&(l=g(e,o.target),l)){var a=r(l,u),y={collectionId:null,collectionType:CollectionType.VideoWatchLater,mid:s.mid,murl:s.mediaUrl,purl:s.pageUrl,query:p()},v=t.TransactionType.Write;if(h&&a)v=t.TransactionType.Delete,i.sdt(f,4);else if(h)VideoMySaves.showBalloon(n[0]);else if(a)return;w(y,sj_et(o),v,null);c();sj_pd(o);sj_sp(o)}}function p(){var t=parseQueryParams(),n=t.q;return n!=null&&typeof n!="undefined"&&(n=decodeURIComponent(n)),n||""}function w(n,i,r,u){var f=t.extns(i.parentNode);f&&t.lfi(f,t.instCl,t.addFromDetailPageInstComponentName,JSON.stringify(n));nt(n,r,i,u)}function c(){s.switchTitleOnMainText();ht(u);b()}function ht(t){for(var u,i=0;i<n.length;++i)for(u=r(n[0],t)?d:k,i=0;i<n.length;++i)u(n[i],t)}function ct(){l(!0);b()}function l(t){a(n[0],"aria-expanded",t.toString())}function b(){o=!o;a(n[0],"aria-pressed",o.toString())}var i=pMMUtils,k=i.ac,r=i.hc,d=i.rc,a=i.sa,g=i.gaebc,t=VideoFavoritesUtil,nt=t.sxhr,e="action_watchlist",u="saved",v=9,o=!0,y=_ge("actionbar"),n=y&&i.gebc(e,y),f=_ge("ms_ba"),tt=_ge("fav_msg_mt"),s,h=f&&tt;it()})(VideoAction_Watchlist||(VideoAction_Watchlist={}))