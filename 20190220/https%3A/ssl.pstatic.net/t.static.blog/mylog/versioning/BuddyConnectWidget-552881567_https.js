var BuddyConnect=$Class({_elBottomBox:null,_elSubView:null,_elTabArea:null,_oList:null,_elContent:null,_htVisbleEl:{listArea:null,byMe:null,toMe:null},_sSelectedGroupId:"",sLoginId:"",sBlogId:"",sListType:"",sAuthCode:"",sWidgetSeq:"",sBlogUserNo:"",sBlogNo:"",bIsAritcleWidget:false,sTomeListType:"",oTidOverFade:null,oTidOutFade:null,sSectionDomain:"",_aTabClass:["tab1on","tab2on"],_MSG:{NEWARTICLE:"새글보기",NEWARTICLE_MORE:"새글 더 보기",CLOSEVISIBLEBUDDY:"비공개 하시겠습니까?",NOBODY:{GROUP:{ARTICLE:"선택하신 그룹에 등록된 <br> 이웃 새글이 없습니다.",BUDDY:"선택하신 그룹에 등록된 <br> 이웃이 없습니다."}}},htListType:{L:"basic",T:"thumb",D:"detail",P:"article"},$init:function(b){var a=b.elWidget;this.sLoginId=b.sLoginId;this.sBlogId=b.sBlogId;this.sAuthCode=b.sAuthCode;this.sWidgetSeq=b.sWidgetSeq;this.sBlogNo=b.sBlogNo;this.sBlogUserNo=b.sBlogUserNo;this.bIsAritcleWidget=b.bIsAritcleWidget;this.sTomeListType=this.bIsAritcleWidget?this.htListType.D:this.htListType[b.sWidgetType];this.sSectionDomain=b.sSectionDomain;this._elContent=b.elContent;this._elTabArea=b.elTabArea;this._elSubView=$$.getSingle("div.sub_view",this._elContent);this._elBottomBox=$$.getSingle("div.bottom_box",a);this.setListType(this.htListType[b.sWidgetType]);this._initVisibleEl();this._oList=new BuddyConnect.List(this);this._setEvt()},getListType:function(a){return this.htListType[a]},getIsAritcleWidget:function(){return this.bIsAritcleWidget},getSectionDomain:function(){return this.sSectionDomain},setListType:function(a){this.sListType=a;if(this._htVisbleEl.listArea instanceof $Element){this._htVisbleEl.listArea.hide()}this._htVisbleEl.listArea=$Element($$.getSingle(BuddyConnect.htVisibleElement[this.sListType],this._elContent))},setAsyncURL:function(b){if(typeof b!="undefined"){for(var a in BuddyConnect.METADATA){BuddyConnect.METADATA[a]=b[a]}}},getSubView:function(){return this._elSubView},getListArea:function(){return this._htVisbleEl.listArea},_initVisibleEl:function(){this._htVisbleEl={listArea:null,byMe:$Element($$.getSingle(BuddyConnect.htVisibleElement.common["byMe"],this._elContent)),toMe:$Element($$.getSingle(BuddyConnect.htVisibleElement.common["toMe"],this._elContent)),noBody:{byMe:$Element($("noBody_byMe")),toMe:$Element($("noBody_toMe")),article:$Element($("noBody_article")),group:$Element($("noBody_group"))}}},_setEvt:function(){$Fn(this._onClickClickCr,this).attach(document,"click");$Fn(this._onClickTab,this).attach(this._elTabArea,"click");$Fn(this._onClickContent,this).attach(this._elContent,"click")},_onClickTab:function(g){g.stopDefault();var f=g.element;if(f.nodeType!=1||f.tagName.toLowerCase()!="li"){f=f.parentNode}var a=f.className;var b=$Element(f.parentNode);if((a=="col1"&&b.hasClass("tab1on"))||(a=="col2"&&b.hasClass("tab2on"))){return false}else{this.setPageNo(1)}switch(a){case"col1":this._activeTab("first");this._listContent(this._getAsyncListURL(this._getPageNo()));break;case"col2":this._activeTab("second");this._listContent(this._getAsyncListURL(this._getPageNo()));break;default:break}this._hideBuddyGroup();return false},_displayList:function(){this._hideNoBody();if(this.isFirstTab()){this._displayByMeList()}else{this._displayToMeList()}$Element(this.getSubView()).show()},_hideNoBody:function(){this._htVisbleEl.noBody["byMe"].hide();this._htVisbleEl.noBody["toMe"].hide();this._htVisbleEl.noBody["article"].hide();this._htVisbleEl.noBody["group"].hide()},_displayNoBodyList:function(g){var f=this.isFirstTab();var k=false;this._htVisbleEl.byMe.hide();this._htVisbleEl.toMe.hide();this._htVisbleEl.listArea.hide();this._htVisbleEl.noBody["group"].hide();$Element(this.getSubView()).hide();if(this.bIsAritcleWidget){this._hideArticleList()}if(g=="article"){if(this._sSelectedGroupId!=null&&this._sSelectedGroupId!=""){this._htVisbleEl.noBody["group"].show();k=parseInt($$.getSingle(" div.sub_select  p.amount  span.co_num",this._elContent).innerHTML,10)>0;if(k){this._htVisbleEl.noBody["group"].html(this._MSG.NOBODY["GROUP"]["ARTICLE"])}else{this._htVisbleEl.noBody["group"].html(this._MSG.NOBODY["GROUP"]["BUDDY"])}this._htVisbleEl.byMe.show();this._htVisbleEl.noBody["article"].hide()}else{this._htVisbleEl.noBody["article"].show();$Element($$.getSingle(BuddyConnect.htVisibleElement[this.sTomeListType],this._elContent)).hide();this._htVisbleEl.noBody["byMe"].hide();this._htVisbleEl.noBody["toMe"].hide()}}else{this._htVisbleEl.noBody["article"].hide();if(f){if(this._sSelectedGroupId!=null&&this._sSelectedGroupId!=""){this._htVisbleEl.noBody["group"].show();this._htVisbleEl.noBody["group"].html(this._MSG.NOBODY["GROUP"]["BUDDY"]);this._htVisbleEl.byMe.show()}else{this._htVisbleEl.noBody["byMe"].show();this._htVisbleEl.noBody["toMe"].hide()}}else{this._htVisbleEl.noBody["byMe"].hide();this._htVisbleEl.noBody["toMe"].show();this._htVisbleEl.toMe.show();var b=$Element($$.getSingle(" div.no_inbuddy_v2",this._htVisbleEl.noBody["toMe"].$value()));var a=$Element($$.getSingle(" div.no_inbuddy",this._htVisbleEl.noBody["toMe"].$value()));k=!$Element($$.getSingle(" div.buddy_cnt > p > span.numset > span",this._elContent)).hasClass("n0");var h=null;if(this.sLoginId==this.sBlogId){b.show();a.hide();h=b.$value()}else{a.show();b.hide();h=a.$value()}var e=$Element($$.getSingle("> ._notHaveBuddy",h));var j=$Element($$.getSingle("> ._notOpenBuddy",h));if(k){j.show();e.hide()}else{j.hide();e.show()}}}},_displayByMeList:function(){if(this.bIsAritcleWidget){$Element($$.getSingle(BuddyConnect.htVisibleElement[this.sTomeListType],this._elContent)).hide()}this._htVisbleEl.toMe.hide();this._htVisbleEl.byMe.show();this._htVisbleEl.listArea.show()},_displayToMeList:function(){if(this.bIsAritcleWidget){this._hideArticleList()}this._htVisbleEl.byMe.hide();this._htVisbleEl.toMe.show();this._htVisbleEl.listArea.show()},_hideArticleList:function(){$Element($$.getSingle(BuddyConnect.htVisibleElement.article,this._elContent)).hide()},_onClickClickCr:function(a){var f,g;var b=a.element;var e=this.getElement(b,"a");if(b.className.indexOf("_clickcr")>-1){f=this.getParam(b.className);g=b}else{if(e&&e.className.indexOf("_clickcr")>-1){f=this.getParam(e.className);g=e}}if(f){clickcr(g,f[0],"",f[1]||"",a.$value())}},_onClickContent:function(g){var b=g.element;var a=b.tagName.toLowerCase();if(a=="img"){b=b.parentNode;a=b.tagName.toLowerCase()}var h=b.className.split(" ");if(a!="input"&&h[h.length-1]=="_returnFalse"){g.stopDefault()}var f=h[0];if(a=="a"){switch(f){case"select_ui":this._toggleBuddyGroup();break;case"next":this._listContent(this._getAsyncListURL(this._getPageNo(f)));clickcr(b,"wbm.page","",this._getPageNo(f),g.$value());break;case"pre":this._listContent(this._getAsyncListURL(this._getPageNo(f)));clickcr(b,"wbm.page","",this._getPageNo(f),g.$value());break;case"_delete":this._deleteBuddy(b);break;default:break}}else{if(a=="li"){this.setPageNo(1);this._onSelectBuddyGroups(b)}}return true},_deleteBuddy:function(b){if(confirm(this._MSG.CLOSEVISIBLEBUDDY)){var a=$("deleteBuddyForm");a.action=this.getSectionDomain()+BuddyConnect.METADATA.URL.DELETEBUDDY+"?blogId="+this.sBlogId;a.blogNo.value=this.sBlogNo;a.buddyBlogNo.value=this.sBlogUserNo;a.widgetSeq.value=this.sWidgetSeq;a.submit()}},_onSelectBuddyGroups:function(b){if(!$$.getSingle("!> ul !> div.buddy_list",b)){return}var a=b.innerHTML;var e=this.getParam(b.className);this._sSelectedGroupId=e[0];var f=function(){var h=$$("> li",$$.getSingle("> ul",$("buddy_list")));for(var j=0,g=h.length;j<g;j++){if(h[j]==b){$Element(h[j]).addClass("selected")}else{$Element(h[j]).removeClass("selected")}}$$.getSingle(" div.sub_select > a.select_ui",this._elContent).innerHTML=a};this._listContent(this._getAsyncListURL(this._getPageNo()),f);this._hideBuddyGroup()},getParam:function(a){if(a){var e=/_param\((.*)\)/;var b=a.match(e);if(b&&b[0]&&b[1]){return b[1].split("|")}}return null},getElement:function(e,b,a){if(typeof a=="undefined"){if(e.tagName.toLowerCase()==b){return e}else{return $$.getSingle("!"+b,e)}}else{if(e.tagName.toLowerCase()==b&&$Element(e).hasClass(a)){return e}else{return $$.getSingle("!"+b+"."+a,e)}}},_getGroupId:function(){return this._sSelectedGroupId},setPageNo:function(a){this._oList.setPageNo(a)},_getPageNo:function(b){var a=this._oList.getCurNo();if(b=="next"){a++}else{if(b=="pre"){a--}}return a},isFirstTab:function(){return $Element(this._elTabArea).hasClass(this._aTabClass[0])},_getAsyncListURL:function(a){var b="";if(this.isFirstTab()){b=BuddyConnect.METADATA.URL.BUDDYLISTBYME}else{b=BuddyConnect.METADATA.URL.BUDDYLISTTOME}return b+"?blogId="+this.sBlogId+"&groupId="+this._getGroupId()+"&currentPage="+a+"&authCode="+this.sAuthCode+"&widgetSeq="+this.sWidgetSeq},_listContent:function(a,b){var e=new $Ajax(a,{onload:$Fn(function(j){var k=j.json();if(k.isSuccess){var f=k.result;var h=this.getListType(f.listType);this.setListType(h);this.upDateBuddyCnt(f.buddyCount);var g=(h=="article")?f.posts:f.buddies;if(g.list.length>0){this._oList.list(g,f.listType);this._displayList()}else{this._displayNoBodyList(h)}this.upDateBuddyGroup(f.buddyGroups);if(b&&typeof b=="function"){b()}}},this).bind()});e.request()},upDateBuddyGroup:function(a){this._sSelectedGroupId=a.selectedGroupId;var e=$$.getSingle(" div.buddy_list > ul",this._elContent);var b=a.list;e.innerHTML=this._getBuddyGroup(b)},_getBuddyGroup:function(b){var f=[];var g=new $Template(BuddyConnect.template.buddyGroup);b.unshift({selected:"null",groupName:"전체 이웃",groupId:"null",openyn:true});for(var e=0,a=b.length;e<a;e++){f.push(g.process({selected:b[e]["groupId"]==this._sSelectedGroupId?"selected":"",groupName:b[e]["groupName"],groupId:b[e]["groupId"],openyn:b[e]["openyn"]==true?"none":"inline"}))}return f.join("")},upDateBuddyCnt:function(a){if(this.isFirstTab()){this._updateToMeBuddyCnt(a)}else{this._updateByMeBuddyCnt(a)}},_showArticleMoreTxt:function(a){a.innerHTML=this._MSG.NEWARTICLE_MORE},_toggleBuddyGroup:function(){var a=$Element($$.getSingle(" div.buddy_list",this._elContent));if(a.visible()){this._hideBuddyGroup()}else{a.show()}},_hideBuddyGroup:function(){$Element($$.getSingle(" div.buddy_list",this._elContent)).hide()},_activeTab:function(f){var e=$Element(this._elTabArea);var b=$Element(this._elContent);var a="tab2";var h=0;var g=1;if(f!="first"){h=1;g=0;b.addClass(a)}else{b.removeClass(a)}e.removeClass(this._aTabClass[g]);e.addClass(this._aTabClass[h])},_updateToMeBuddyCnt:function(b){var a=$$.getSingle(" div.sub_select  p.amount  span.co_num",this._elContent);if(b>=0&&a){a.innerHTML=b}},_updateByMeBuddyCnt:function(h){var b=[];var g=String(h).split("");var e=$$.getSingle(" div.buddy_cnt > p > span.numset",this._elContent);var j=$Template(BuddyConnect.template.buddyCnt.num);for(var f=0,a=g.length;f<a;f++){b.push(j.process({num:g[f]}))}$$.getSingle(" div.buddy_cnt > p > strong",this._elContent).innerHTML=h;e.innerHTML=b.join("")+BuddyConnect.template.buddyCnt.dssc},getTabType:function(){return this.isFirstTab()?"byMe":"toMe"},getLoginId:function(){return this.sLoginId}});BuddyConnect.METADATA={IMGPATH:gsImages+"/buddyconnect/widget/",THUMBIMGPATH:gsThumbnailURL,URL:{DELETEBUDDY:"/connect/FollowerVisibilityClose.nhn",BUDDYLISTTOME:"/connect/WidgetAddedMeAsBuddyViewAsync.nhn",BUDDYLISTBYME:"/connect/WidgetViewAsync.nhn"}};BuddyConnect.template={buddyCnt:{num:'<span class="n{=num}"></span>',dssc:'<span class="desc1"><img alt="명이" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif" width="18" height="11"></span><span class="desc2"><img alt="이 블로그를 구독중입니다" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif" width="111" height="11"></span>'},buddyGroup:'<li class="_param({=groupId}) {=selected}">{=groupName} <img width="9" height="11" alt="비공개" style="display:{=openyn}" src=gsImages + "/nblog/admin/buddy/ico_lock.gif"/></li>'};BuddyConnect.htVisibleElement={common:{byMe:"div.sub_select",toMe:"div.buddy_cnt"},basic:"> ul.txt_list",detail:"> ul.thumb_list2",thumb:"> ul.thumb_list",article:"> ul.article_list"};BuddyConnect.List=$Class({_oPaging:null,_upObj:null,$init:function(a){this._upObj=a;this._oPaging=new BuddyConnect.List.Paging(this)},list:function(e,b){this._upObj.getListArea().$value().innerHTML=this._getListHTML(e.list,this._upObj.getListType(b),((e.currentPage-1)*e.countPerPage));var f=Math.floor(e.totalCount/e.countPerPage);var a=e.totalCount%e.countPerPage>0?1:0;f=f+a==0?1:f+a;this._oPaging.goPage(e.currentPage,f)},_getListHTML:function(e,g,k){var b=[];var j=this._getTabType();var h=$Template(BuddyConnect.List.template[g][j]);if(g=="article"){for(var f=0,a=e.length;f<a;f++){b.push(h.process({linkUrl:e[f]["linkUrl"],commentCnt:e[f]["commentCnt"],hasCmt:parseInt(e[f]["commentCnt"],10)>0?"":"none",content:e[f]["content"],lastModified:e[f]["lastModified"],blogName:e[f]["blogName"],title:e[f]["title"],RANK:f+k+1}))}}else{if(g=="thumb"){for(var f=0,a=e.length;f<a;f++){b.push(h.process({buddyURL:e[f]["linkUrl"],buddyImg:e[f]["imgUrl"],hasNewPost:e[f]["hasNewPost"]==true?"":"none",neighborNickName:e[f]["neighborNickName"]!=""?e[f]["neighborNickName"]:e[f]["blogName"],blogId:e[f]["blogId"],blogName:e[f]["blogName"],isMe:e[f]["blogId"]==this._getLoginId()?"":"none",RANK:f+k+1}))}}else{for(var f=0,a=e.length;f<a;f++){b.push(h.process({buddyURL:e[f]["linkUrl"],buddyImg:e[f]["imgUrl"],hasNewPost:e[f]["hasNewPost"]==true?"":"none",neighborNickName:e[f]["neighborNickName"]!=""?e[f]["neighborNickName"]:"",hasNickName:e[f]["neighborNickName"]!=""?"":"none",hasNewPost:e[f]["hasNewPost"]==true?"":"none",blogId:e[f]["blogId"],blogName:e[f]["blogName"],isMe:e[f]["blogId"]==this._getLoginId()?"":"none",nickNameTag:e[f]["neighborNickName"]!=""?"a":"span",RANK:f+k+1}))}}}return b.join("")},_getTabType:function(){return this._upObj.getTabType()},_getLoginId:function(){return this._upObj.getLoginId()},getSubView:function(){return this._upObj.getSubView()},getCurNo:function(){return this._oPaging.getCurNo()},setPageNo:function(a){this._oPaging.setCurNo(a)}});BuddyConnect.List.template={basic:{byMe:'<li><div class="buddy_info">{if hasNickName != "none"}<a target="_blank" href="{=buddyURL}" class="buddy_name _clickcr _param(wmy.list|{=RANK})" >{=neighborNickName}</a><span class="bar"> | </span>{/if}<a class="blog_name _clickcr _param(wmy.list|{=RANK})" target="_blank" href="{=buddyURL}">{=blogName}</a> <img height="11" width="13" class="up" alt="update" src=gsImages + "/buddyconnect/widget/b.gif" style="display:{=hasNewPost};"></div></li>',toMe:'<li><div class="buddy_info"><a class="_delete _returnFalse" style="display:{=isMe};" href="#"><img height="11" width="11" class="del" alt="delete" src=gsImages + "/buddyconnect/widget/b.gif"></a>{if hasNickName != "none"}<a target="_blank" href="{=buddyURL}" class="buddy_name _clickcr _param(wme.list|{=RANK})" >{=neighborNickName}</a><span class="bar"> | </span>{/if}<a class="blog_name _clickcr _param(wme.list|{=RANK})" target="_blank" href="{=buddyURL}">{=blogName}</a> <img height="11" width="13" class="up" alt="update" src=gsImages + "/buddyconnect/widget/b.gif" style="display:{=hasNewPost};"></div></li>'},thumb:{byMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wmy.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=gsImages + \'/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><img height="11" width="13" class="up" style="display:{=hasNewPost};"alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><a target="_blank" class="buddy_name _clickcr _param(wmy.list|{=RANK})" href="{=buddyURL}">{=neighborNickName}</a></li>',toMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wme.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=gsImages + \'/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><a href="#" class="_delete _returnFalse" style="display:{=isMe};"><img class="del" width="11" height="11" title="delete" alt="delete" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></a><img height="11" width="13" class="up" style="display:{=hasNewPost};"alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><a target="_blank" class="buddy_name _clickcr _param(wme.list|{=RANK})" href="{=buddyURL}">{=neighborNickName}</a></li>'},detail:{byMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wmy.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=gsImages + \'/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><img height="11" width="13" class="up" style="display:{=hasNewPost}; alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><div class="buddy_info"><{=nickNameTag}  target="_blank" class="buddy_name _clickcr _param(wmy.list|{=RANK})" href="{=buddyURL}">{=neighborNickName}</{=nickNameTag}><span style="display:none;" class="bar"> | </span><a target="_blank" class="blog_name _clickcr _param(wmy.list|{=RANK})" href="{=buddyURL}">{=blogName}</a></div></li>',toMe:'<li><div class="buddy_img"><a href="{=buddyURL}" target="_blank" class="_clickcr _param(wme.list|{=RANK})"><img height="40" width="40" alt="{=blogName}" onerror="this.onerror=null; this.src=gsImages + \'/nblog/comment/login_basic.gif\';" src="'+BuddyConnect.METADATA.THUMBIMGPATH+'{=buddyImg}"/><span class="co_box"></span></a><a href="#" class="_delete _returnFalse" style="display:{=isMe};"><img class="del" width="11" height="11" title="delete" alt="delete" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></a><img height="11" width="13" class="up" style="display:{=hasNewPost}; alt="update" src="'+BuddyConnect.METADATA.IMGPATH+'b.gif"/></div><div class="buddy_info"><{=nickNameTag} target="_blank" class="buddy_name _clickcr _param(wme.list|{=RANK})" href="{=buddyURL}">{=neighborNickName}</{=nickNameTag}><span style="display:none;"  class="bar"> | </span><a target="_blank" class="blog_name _clickcr _param(wme.list|{=RANK})" href="{=buddyURL}">{=blogName}</a></div></li>'},article:{byMe:'<li><dl><dt><a target="_blank" class="article_title _clickcr _param(wmy.list|{=RANK})" href="{=linkUrl}">{=title}</a> <span style="display:{=hasCmt};" class="comment_cnt">[{=commentCnt}]</span></dt><dd class="pub_desc"><a target="_blank" class="article_desc _clickcr _param(wmy.list|{=RANK})" href="{=linkUrl}">{=content}</a></dd><dd class="pub_info"><span class="pub_date">{=lastModified}</span> <a target="_blank" class="blog_name _clickcr _param(wmy.list|{=RANK})" href="{=linkUrl}">{=blogName}</a></dd></dl></li>'}};BuddyConnect.List.Paging=$Class({_upObj:null,_nCurNo:1,elCurPage:null,$init:function(a){this._upObj=a;this.elCurPage=$$.getSingle("> p.paging > span.paging_now",this._upObj.getSubView())},setCurNo:function(a){this._nCurNo=a;this.elCurPage.innerHTML=a},getCurNo:function(){return this._nCurNo},goPage:function(a,b){this.setCurNo(a);this._updateTotalCnt(b);if(a==1){this._disablePreBtn()}else{this._enablePreBtn()}if(b!=a){this._enableNextBtn()}else{this._disableNextBtn()}},_updateTotalCnt:function(a){var b=$$.getSingle("> p.paging > span.paging_all",this._upObj.getSubView());b.innerHTML="/ "+a},_enablePreBtn:function(){var e=$$.getSingle("> p.paging > .pre_n",this._upObj.getSubView());if(!e){return}var b=e.parentNode;var a=$(BuddyConnect.List.Paging.template.pre);b.insertBefore(a,e);b.removeChild(e)},_disablePreBtn:function(){var e=$$.getSingle("> p.paging > .pre",this._upObj.getSubView());if(!e){return}var b=e.parentNode;var a=$(BuddyConnect.List.Paging.template.first);b.insertBefore(a,e);b.removeChild(e)},_enableNextBtn:function(){var e=$$.getSingle("> p.paging > .next_n",this._upObj.getSubView());if(!e){return}var a=e.parentNode;var b=$(BuddyConnect.List.Paging.template.next);a.insertBefore(b,e);a.removeChild(e)},_disableNextBtn:function(){var e=$$.getSingle("> p.paging > .next",this._upObj.getSubView());if(!e){return}var a=e.parentNode;var b=$(BuddyConnect.List.Paging.template.last);a.insertBefore(b,e);a.removeChild(e)}});BuddyConnect.List.Paging.template={first:'<a class="pre_n _returnFalse"><span>처음</span></a>',last:'<a class="next_n _returnFalse"><span>끝</span></a>',pre:'<a href="#" class="pre _returnFalse" href="#"><span>이전</span></a>',next:'<a href="#" class="next _returnFalse"><span>다음</span></a>'};var Utility=$Class({$init:function(){this.oAgent=$Agent().navigator();this.bSelectPrevent=false;this.wfStopEvent=$Fn(this._stopEvent,this)},getAgent:function(){return this.oAgent},getRandNumber:function(){return parseInt(Math.random((new Date()).getTime())*100000,10)},clearInputElDefaultTxt:function(a){if(a.value==a.defaultValue){a.value=""}},zoomIn:function(b,a,e){if(a=="undefined"){a=false}if(e=="undefined"){e=false}window.open("/common/util/imageZoom.jsp?url="+b+"&rClickYn="+a+"&isOwner="+e,"zoomIn","scrollbars=yes,width=10,height=10")},getRequestQueryString:function(e){var a=document.location.search.split("?");if(a!=null&&a!=""){aQuery=a[1].split("%26");nArrCount=aQuery.length;for(i=0;i<=nArrCount-1;i++){var b=aQuery[i].split("=");if(e==b[0]){return b[1]}}}},setTop:function(a){try{if(a){a.scrollTo(0,0)}else{window.scrollTo(0,0);parent.window.scrollTo(0,0)}}catch(b){}},detachSelectPrevent:function(){if(Event&&Event.unregister){Event.unregister(document,"contextmenu",this.wfStopEvent);Event.unregister(document,"dragstart",this.wfStopEvent);Event.unregister(document,"selectstart",this.wfStopEvent)}if(document.body.style.MozUserSelect!=undefined){document.body.style.MozUserSelect=""}},checkRClickYN:function(b,a){if(b&&!a){this._addBlockEvent()}},_stopEvent:function(a){if((a.type=="selectstart"||a.type=="contextmenu")&&this._isContentEditableArea(a.target||a.srcElement)){return}if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}if(a&&a.stopPropagation&&a.preventDefault){a.stopPropagation();a.preventDefault()}},_isContentEditableArea:function(a){if(!a){return false}if(this._isEditableEl(a)){return true}var b=this;var e=$Element(a).parent(function(f){return b._isEditableEl(f.$value())},5);return e!=null&&e.length>0},_isEditableEl:function(a){return a.nodeType==1&&($Element(a).attr("contenteditable")||a.tagName=="TEXTAREA")},_block:function(a){if(this.bSelectPrevent){return}this._stopEvent(a)},_addEvent:function(e,b,a){this.bSelectPrevent=false;if(window.addEventListener){e.addEventListener(b,a,false)}else{if(window.attachEvent){e.attachEvent("on"+b,a)}}},_addBlockEvent:function(){this._addEvent(document,"dragstart",$Fn(this._block,this).bind());this._addEvent(document,"selectstart",$Fn(this._block,this).bind());this._addEvent(document,"contextmenu",$Fn(this._block,this).bind());if(document.body&&document.body.style.MozUserSelect!=undefined){document.body.style.MozUserSelect="none"}},clickPrevent:function(){if(this.checkLayoutPreview()){oCurtain.showCurtain()}return false},actOnUnload:function(){if(this.checkPostPreview()){try{window.opener.editor.setUnloadWarn(true)}catch(a){}}},checkLayoutPreview:function(){return document.location.href.indexOf("Redirect=Preview")>-1},checkPostPreview:function(){return document.location.href.indexOf("PostPreview.nhn")>-1},writelcs:function(a){document.createElement("img").src="http://lcs.naver.com/i{"+a+"}"},writeNewLcs:function(e,b,g,h,f){if(this.isChkNull(g)||typeof(b)=="undefined"){h=false}if(this.isChkNull(b)||this.isChkNull(g)||typeof(b)=="undefined"||typeof(g)=="undefined"){lcs_do_gdid(e,"",h,f)}else{var a={};a[b]=g;lcs_do_gdid(e,a,h,f)}},writeNewLcsNonGdid:function(b,f,g,e){if(this.isChkNull(f)||typeof(b)=="undefined"){g=false}if(this.isChkNull(b)||this.isChkNull(f)||typeof(b)=="undefined"||typeof(f)=="undefined"){lcs_do("",g,e)}else{var a={};a[b]=f;lcs_do(a,g,e)}},sendGnbGlobalSession:function(){if(window.location.protocol==="https:"){document.createElement("img").src="//static.nid.naver.com//index.html?tmpl=10000"}else{document.createElement("img").src="//gn.naver.com/index.html?tmpl=10000"}},resizeIfr:function(a,b){this.resizeIfrWithMargin(a,b,50)},resizeIfrWithMargin:function(f,m,k){var g,j,b,a;g=m||10;try{j=f.contentWindow.document}catch(e){return}if(j.location.href=="about:blank"){f.style.height=g+"px";return}if(this.oAgent.ie&&this.oAgent.version<8){b=j.body.scrollHeight}else{a=j.body.appendChild($("<DIV>"));a.style.clear="both";b=a.offsetTop;a.parentNode.removeChild(a);if(this.oAgent.chrome){j.body.style.overflowY="hidden";l=0}}if(b<g){b=g}f.height=b+k;f.style.height=b+k+"px";g=j=b=a=null},wordBreak:function(a){if(this.oAgent.ie&&!(this.oAgent.version!=6||this.oAgent.version!=7)){a=a.replace(/./g,function(b){return b+"&#x200B;"})}return a},trim:function(a){if(a&&a!=""){a=a.replace(/(^\s*)|(\s*$)/g,"")}return a||""},removeSpace:function(a){if(a&&a!=""){a=a.replace(/\s/g,"")}return a||""},isChkNull:function(e){var b=false;var a=this.trim(e);if(a==null||a==""){b=true}return b},isNotFilled:function(a){if(a.value==a.defaultValue||this.isBlank(a.value)){return true}return(a.value=="")},isFilled:function(a){return !this.isNotFilled(a)},isBlank:function(a){if(a.match(/^\s*$/)){return true}return false},isBlankTextArea:function(a){if(a.value==a.defaultValue){return true}return this.isBlankHTML(a.value)},isBlankHTML:function(a){if(a.replace(/<(?!table|span|img|div|embed|iframe|object)[^>]*>|&nbsp;|\s*/gi,"")){return false}else{return true}},stripTags:function(a){return a.replace(/<\/?[^>]+>/gi,"")},unescapeUnicode:function(unicodes){var regExp=/&#([0-9]+);/gi;var doubleQuote='"';var quotedUnicodes=doubleQuote+unicodes.replace(/\"/gi,"&#34;")+doubleQuote;var lazyTranslated=quotedUnicodes.replace(regExp,doubleQuote+' + String.fromCharCode("$1") + '+doubleQuote);return eval(lazyTranslated)},toText2HTMLWitoutAmp:function(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/%22/g,"&quot;").replace(/%27/g,"'")},toText2HTML:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/%22/g,"&quot;").replace(/%27/g,"'")},toHTML2TextWitoutAmp:function(b){var a=b;a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">");a=a.replace(/&#039;/g,"'");a=a.replace(/&#034;/g,'"');a=a.replace(/&quot;/g,'"');return a},toHTML2Text:function(a){return a.replace(/&amp;/g,"&").replace(/&#([0-9]{1,7});/g,function(f,e){var b="";if(e<=65535){b+=String.fromCharCode(e)}else{if(e<=1114111){e-=65536;n=e;b+=String.fromCharCode(55296|(n>>10))+String.fromCharCode(56320|(e&1023))}}return b}).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#039;/g,"'").replace(/&#034;/g,'"').replace(/&quot;/g,'"')},bytes:function(j,f,g){var a=0,m=0,e=0,h=j.length;var b=((document.charset||document.characterSet||document.defaultCharset)+"").toLowerCase();var k=(typeof f=="number");if(b=="utf-8"&&!g){for(e=0;e<h;e++){a=j.charCodeAt(e);if(a<128){m+=1}else{if(a<2048){m+=2}else{if(a<65536){m+=3}else{m+=4}}}if(k&&m>f){j=j.substr(0,e);break}}}else{for(e=0;e<h;e++){m+=(j.charCodeAt(e)>128)?2:1;if(k&&m>f){j=j.substr(0,e);break}}}return k?j:m},truncate:function(f,b,j){if(!f||b<4){return f}var h=f;var a=h.length;var g=0;var e=0;while(e<a&&g<b){if(h.charCodeAt(e++)<256){g++}else{if(g<b-3){g+=2}else{break}}}if(e<a){h=h.substring(0,e)+j}return h},getParam:function(a){if(a&&typeof a=="string"){var e=/_param\((.*)\)/;var b=a.match(e);if(b&&b[0]&&b[1]){return b[1].split("|")}}return null},getElement:function(e,b,a){if(typeof e.tagName=="undefined"){return e}if(typeof a=="undefined"){if(e.tagName.toLowerCase()==b){return e}else{return $$.getSingle("!"+b,e)}}else{if(e.tagName.toLowerCase()==b&&$Element(e).hasClass(a)){return e}else{return $$.getSingle("!"+b+"."+a,e)}}},leave:function(a){return a.parentNode.removeChild(a)},openHelpWin:function(b,a,e){window.open(b,e?e:"editor_help",a?a:"width=790,height=540")},winOpenCenter:function(a,b,e,m,h,j){var f=Math.round((screen.availLeft||0)+(screen.availWidth-e)*0.5);var k=Math.round((screen.availTop||0)+(screen.availHeight-m)*0.5);var o="top="+k+",left="+f+",width="+e+",height="+m;var h=h||"scrollbars=no,status=yes";o+=(h.indexOf(0)!=","?",":"")+h;j=j||window;var g=j.open(a,b,o);if(g){setTimeout(function(){g.focus()},100)}return g},showLayer:function(e,h,k,o,g){var b,a,m,j,f;m=$Element(h);j=$Element(e);b=j.offset().top+j.height();a=j.offset().left+o;if(k!==undefined&&!isNaN(k)){b+=k}f=o||16;var p={top:b+"px"};(g=="direct")?p.left=a+"px":p.right=f+"px";m.css(p).show()},closeLayer:function(b){var a=$Element($(b));if(a){a.hide()}a=null},resizeImage:function(a){this.resizeImg($("userImg"+a))},resizeImageWithId:function(a){this.resizeImg($(a))},resizeImg:function(a){var f=$Element($(a));if(!f){return}var b,e;b=parseInt(f.width(),10)||100;e=imageWidth==""?550:parseInt(imageWidth,10);if(b>e){f.width(e)}b=e=null},sizeToContent:function(){var a=100;setTimeout(utility.doSizeToContent,a)},doSizeToContent:function(){var a,f,e;a=$Document(document);f=a.clientSize();e=a.scrollSize();try{self.resizeBy(e.width-f.width,e.height-f.height)}catch(b){}a=f=e=null},decodeURIComponentForJava:function(a){var b=decodeURIComponent(a.replace(/\+/g,"%20"));return b.replace(/\$/g,"&#0036;")},_curtain:null,createCurtain:function(f){var e=this,h=$("<div>");var f=$(f);var g=$$("selectbox",document.body);for(var b=0,a=g.length;b<a;b++){g[b].style.visibility="hidden"}if(e._curtain){return}if(f){$Element(f).css("zIndex",1001)}$Element(h).css({backgroundColor:"white",position:"absolute",top:0,left:0,opacity:0.5,filter:"Alpha(Opacity=50)",width:document.body.scrollWidth+"px",height:document.body.scrollHeight+"px",zIndex:1000});document.body.appendChild(h);$Fn(utility.wfStopEvent,this).attach(h,"mousedown");e._curtain=h},removeCurtain:function(){var e=this;if(e._curtain){e._curtain.parentNode.removeChild(e._curtain);e._curtain=null}var f=$$("selectbox",document.body);for(var b=0,a=f.length;b<a;b++){f[b].style.visibility=""}},replaceAll:function(b,f,e){var a="";if(this.trim(b)!=""&&f!=e){a=this.trim(b);while(a.indexOf(f)>-1){a=a.replace(f,e)}}return a},replaceLast:function(e,g,f){var b="";if(this.trim(e)!=""&&g!=f){b=this.trim(e);if(b.indexOf(g)>-1){var a=b.lastIndexOf(g);b=b.substring(0,a)+f}}return b},ellipsis:function(e,k,q){var g,b,m,j,h,f,o,a;h=false;e=$(e);a=$Element(e);q=q||"...";k=parseInt(k,10)||50;g=a.text();g=g.replace(/&nbsp;/ig," ");g=$S(g).unescapeHTML().toString();a.text(q);b=a.width();m=a.height();k=k-b;a.text(g);if(a.width()>=k||a.height()>m){for(var p=2,o=g.length;p<=o;p++){j=g.substring(0,p);a.text(j);if(a.height()>m||a.width()>=k){if(p!=o){a.text(g.substring(0,p-1)+q);h=true;break}else{a.text(j);break}}}}g=b=j=m=p=o=null;return h},ellipsisPage:function(h){var f,g,j,b;h=$(h)||document.body;f=$$("._ellipsis",h);for(var a=0,e=f.length;a<e;a++){g=f[a];j=this.getParam(g.className);b=$Element(g).text();if(j==null){j=105}if(this.ellipsis(g,j[1]||j[0])){g.title=b}}f=g=j=b=null},gotoTag:function(b,a){el=$(b);this.gotoEl(el,a)},gotoEl:function(e,f){if(e&&this.isParentExist()){if(self.parent!=self){if(!f){f={x:0,y:0}}var b=f.x?f.x:0;var a=f.y?f.y:0;self.scrollTo(self.parent.scrollX+b,$Element(e).offset().top+$Element(self.frameElement).offset().top+a)}else{e.scrollIntoView()}}},isParentExist:function(){try{if(!parent||!parent.document||typeof parent=="undefined"){return false}}catch(a){return false}return true},centerLayer:function(g,a){var h=$Document(a).clientSize();var e=$Document(a).scrollPosition();var b=h.height/2-g.offsetHeight/2+e.top;var f=h.width/2-g.offsetWidth/2+e.left;$Element(g).css({top:(b>0?b:0)+"px",left:(f>0?f:0)+"px"})},changeLayerToFixedPosition:function(e,a,b){if(a==null||b==null){return}$Element(e).css({top:(a>0?a:0)+"px",left:(b>0?b:0)+"px"})},positionLayer:function(e,o,q){var f,h,p,b,g,k,a,m,j;q=q||{};k=q.sTargetPos||"tr";a=q.sLayerPos||"tr";m=parseInt(q.nDiffTop,10)||0;j=parseInt(q.nDiffLeft,10)||0;f=$(e);h=$(o);p=$Element(f).offset();b=this.getSize(f);g=this.getSize(h);switch(k){case"tr":nTop=p.top;nLeft=p.left+b.width;break;case"bl":nTop=p.top+b.height;nLeft=p.left;break;case"br":nTop=p.top+b.height;nLeft=p.left+b.width;break;default:nTop=p.top;nLeft=p.left;break}switch(a){case"tr":nLeft-=g.width;break;case"bl":nTop+=g.height;break;case"br":nTop+=g.height;nLeft+=g.width;break;default:break}$Element(h).css({top:(nTop+m)+"px",left:(nLeft+j)+"px"});f=h=p=b=g=k=a=m=j=null},getSize:function(a){return{width:a.offsetWidth,height:a.offsetHeight}},arrays2JsonStr:function(f,a){var g=[];for(var b=0;b<a[0].length;b++){var h=[];for(var e=0;e<a.length;e++){h[h.length]="'"+f[e]+"':'"+a[e][b]+"'"}g[g.length]="{"+h.join(",")+"}"}return"["+g.join(",")+"]"},goBlog:function(f,b,e,g,h){var a="/DomainDispatcher.nhn?blogId="+f+"&id="+b+"&type="+e+"&subName="+g;window.open(a,h,"")},goPermalink:function(g,e,f,h,j,a){var b="/DomainDispatcher.nhn?blogId="+g+"&id="+e+"&type="+f+"&subName="+h+"&logNo="+a;window.open(b,j,"")},bookmarksite:function(e,a){if(this.oAgent.firefox){window.sidebar.addPanel(e,a,"")}else{if(this.oAgent.opera){var b=document.createElement("a");b.setAttribute("href",a);b.setAttribute("title",e);b.setAttribute("rel","sidebar");b.click()}else{if(this.oAgent.ie){window.external.AddFavorite(a,e)}else{return true}}}},nvl_error:function(e,b,a){if(isJeagleDebug){if(typeof e=="object"&typeof e.description=="string"){e=e+" : "+e.description}if(!b){b=document.location}if(!a){a=0}JEagleEyeClient.sendError(e,b,a)}else{return}},getJsonData:function(b){var e=null;try{e=new Function("","return "+b+";")()}catch(a){}return e},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},isNotValidId:function(a){var b=/^[\uac00-\ud7a30\u3130-\u318f0-9a-zA-Z\s]*$/g;return !b.test(a)},isDuplicateRequest:function(a){if(!this.ckDupReqMap){this.ckDupReqMap=$H()}prevReqTime=this.ckDupReqMap.$(a);if(prevReqTime&&(new Date().getTime()-prevReqTime.getTime()<500)){return true}else{this.ckDupReqMap.add(a,new Date());return false}},isSupportCopyCommand:function(){return !!document.queryCommandSupported&&!!document.queryCommandSupported("copy")}});var Curtain=$Class({_elCurtain:null,$init:function(){this._setEvent()},_setEvent:function(){this.wfResizeCurtain=$Fn(this.resizeCurtain,this).bindForEvent()},_createCurtain:function(){if(!this._elCurtain){var a=$("<div>");$Element(a).css({backgroundColor:"white",position:"fixed",top:0,left:0,zIndex:2147483656});document.body.appendChild(a);$Fn(function(b){b.stop()},this).attach(a,"click");this._elCurtain=a}return this._elCurtain},showCurtain:function(g,e,f){var a=$Agent().navigator();var g=$(g);var e=e||0;if(a.ie&&a.version==6){this.hideSelectbox(true)}var b=$Element(this.getEl()).css({opacity:e,filter:e!=0?"Alpha(Opacity="+e*100+")":"Alpha(Opacity=0)",backgroundColor:typeof f=="string"?f:"#FFF"});var h=this;setTimeout(function(){h.resizeCurtain();$Element(h.getEl()).show();if(g){b.css("zIndex",1000);$Element(g).css("zIndex",1001)}h.attachEvent()},0)},attachEvent:function(){$Fn(this.wfResizeCurtain,this).attach(window,"resize")},detachEvent:function(){$Fn(this.wfResizeCurtain,this).detach(window,"resize")},resizeCurtain:function(){var a=$Document().scrollSize();$Element(this.getEl()).css({width:a.width+"px",height:"100%"})},hideCurtain:function(){$Element(this.getEl()).hide();var a=$Agent().navigator();if(a.ie&&a.version==6){this.hideSelectbox(false)}this.detachEvent()},hideSelectbox:function(a){$A(document.getElementsByTagName("selectbox")).forEach(function(b){b.style.visibility=a?"hidden":""})},getEl:function(){return this._createCurtain()}});var Penalty=$Class({$init:function(){if(typeof isWritingBlocked!="undefined"){this.writingBlocked=isWritingBlocked;this.writingBlockedBySpamIP=isWritingBlockedBySpamIP;this.writingBlockedBySpamIPManually=isWritingBlockedBySpamIPManually;this.initializingBlog=isInitializingBlog;this.WRITE_BLOCKED="죄송합니다. 블로그 서비스 내 글쓰기가 제한된 상태입니다.";this.WRITE_BLOCKED_BY_SPAMIP="죄송합니다. 해당 IP의 블로그 서비스 내 글쓰기가 제한된 상태입니다."}},isBlocked:function(){return this.writingBlocked||this.writingBlockedBySpamIP||this.writingBlockedBySpamIPManually},isWritingBlockedBySpamIP:function(){return this.writingBlockedBySpamIP},isWritingBlockedBySpamIPManually:function(){return this.writingBlockedBySpamIPManually},isWritingBlocked:function(){return this.writingBlocked},isInitializingBlog:function(){return this.initializingBlog},showMessage:function(a){if(this.writingBlockedBySpamIPManually){alert(this.WRITE_BLOCKED_BY_SPAMIP)}else{if(this.writingBlockedBySpamIP){alert(this.WRITE_BLOCKED_BY_SPAMIP)}else{if(this.writingBlocked||this.initializingBlog){alert(this.WRITE_BLOCKED)}}}if(a){a.blur()}}});var CaptchaObject=$Class({openLayeredCaptchaForPostWrite:function(e,f,a){var g=$("captcha_layer");var b=$Element(g);if(!b){return}b.show();$("captchalayeredframe").src=e;if(f==true){utility.changeLayerToFixedPosition(g,a.top,a.left)}else{utility.centerLayer(g,document)}oCurtain.showCurtain(g,0.1,"#000")},openLayeredCaptcha:function(e,f,a){var g=parent.$("captcha_layer");var b=$Element(g);if(!b){return}b.show();parent.$("captchalayeredframe").src=e;if(f==true){utility.changeLayerToFixedPosition(g,a.top,a.left)}else{utility.centerLayer(g,parent.document)}parent.oCurtain.showCurtain(g,0.1,"#000")},closeLayeredCaptcha:function(){parent.oCurtain.hideCurtain();$Element(parent.$("captcha_layer")).hide();parent.$("captchalayeredframe").src=""},validateFormAfterOpenCaptchaLayer:function(a){parent.$("target").value="CommentFrm"+a;this.openLayeredCaptcha("/CommentWriteCaptchaLayerOpen.nhn?blogId="+blogId,false)}});var captchaObj=new CaptchaObject();var WriteLimitObject=$Class({openLayeredWriteLimit:function(e,b,a){var f=null;if(e=="day"){f=parent.$("day_write_limit_layer")}else{if(e=="reported"){f=parent.$("reported_write_limit_layer")}}document.body.focus();if(!f){return}$Element(f).show();if(b==true){utility.changeLayerToFixedPosition(f,a.top,a.left)}else{utility.centerLayer(f,parent.document)}parent.oCurtain.showCurtain(f,0.1,"#000")},closeLayeredWriteLimit:function(a){oCurtain.hideCurtain();if(a=="day"){elLayeredWriteLimitLayer=$("day_write_limit_layer")}else{if(a=="reported"){elLayeredWriteLimitLayer=$("reported_write_limit_layer")}}$Element(elLayeredWriteLimitLayer).hide()}});var writeLimitObj=new WriteLimitObject();var LoginObject=$Class({login:false,$init:function(){},setIsLogin:function(a){this.login=a},getIsLogin:function(){return this.login},isLogin:function(e,b){var a="/isLogin.nhn";new $Ajax(a,{method:"get",onerror:function(){},async:false,onload:$Fn(function(f){var f=f.text();if(f=="LOGOUT"){this.setIsLogin(false)}else{if(f=="LOGIN"){this.setIsLogin(true)}}f=null},this).bind()}).request();this.loginProc(e,b)},loginProc:function(b,a){if(this.getIsLogin()){if(typeof b=="function"){b()}}else{if(typeof a=="function"){a()}}},openLayeredLogin:function(){var a=$("loginstart_layer");if(!a){return}$Element(a).show();$("layeredframe").src=idURLSecret+"/nidlogin.login?mode=form&svctype=40960&id="+userId+"&url="+blogURL+"/common/checklogin/closeLayeredLogin.html";utility.centerLayer(a);oCurtain.showCurtain(a,0.1,"#000")},closeLayeredLogin:function(){oCurtain.hideCurtain();$Element($("loginstart_layer")).hide();$("layeredframe").src=""},popUpLogin:function(b){var b=!!b?b:blogURL+"/post/common/simpleReloadOpenerAndClose.jsp";if(b=="self reload"){b=blogURL+"/post/common/simpleReloadOpenerAndClose.jsp"}else{if(b=="parent reload"){b=blogURL+"/post/common/reloadOpenerParentAndClose.jsp"}else{if(b=="top reload"){b=blogURL+"/post/common/reloadOpenerTopAndClose.jsp"}else{if(b=="self replace"){b=blogURL+"/post/common/replaceOpenerAndClose.jsp?target=self"}else{if(b=="parent replace"){b=blogURL+"/post/common/replaceOpenerAndClose.jsp?target=parent"}else{if(b=="top replace"){b=blogURL+"/post/common/replaceOpenerAndClose.jsp?target=top"}}}}}}var a=idURLSecret+"/nidlogin.login?template=plogin&mode=form&url="+encodeURIComponent(b);utility.winOpenCenter(a,"PopUpLogin",374,405)},forwardLoginPage:function(a){var a=!!a?a:location.href;location.href=idURLSecret+"/nidlogin.login?mode=form&url="+encodeURIComponent(a)}});var Monitoring=$Class({bAlreadyRequest:false,blogId:"",serviceLog:"",punishType:"",punishTargetNo:"",highestPunishType:"",releaseRequest:function(b,g,f,a,e){this.blogId=b;this.serviceLog=g;this.punishType=f;this.punishTargetNo=a;this.highestPunishType=e;this._checkAlreadyRequested(b,f,a)},_checkAlreadyRequested:function(b,g,a){try{new $Ajax("/ReleaseRequestCheckAsync.nhn?blogId="+b+"&punishType="+g+"&punishTargetNo="+a,{method:"get",onerror:function(){},onload:$Fn(this._onResponse,this).bind()}).request()}catch(f){utility.nvl_error(f,blogURL+"/nblog_common.js/Monitoring/checkAlreadyRequested ",f.lineNumber);throw f}},_onResponse:function(e){if(e.text()=="true"){alert("이미 접수하신 제한 해제 요청이 검토 중입니다.\n최대한 빠른 시간 내에 요청 내용을 검토한 후 그 결과를 메일로 안내해드리겠습니다.");return}var b,f,a;b="/global/main/releaseRequest.jsp?blogId="+this.blogId+"&serviceLog="+this.serviceLog+"&punishType="+this.punishType+"&punishTargetNo="+this.punishTargetNo+"&highestPunishType="+this.highestPunishType;f="width=347,height=250,scrollbars=no";a="brequest";utility.openHelpWin(b,f,a);b=f=a=null},monitorToggle:function(a,e){var b=$Element($(a));var f=$(e);if(b.visible()){f.innerHTML="자세히 보기";b.removeClass("close");b.hide()}else{f.innerHTML="그만보기";b.addClass("close");b.show()}b=f=null},blockContentToggle:function(f,b){var a=$Element($(f));var e=$(b);if(a.visible()){e.innerHTML="내용열기";a.removeClass("close");a.hide()}else{e.innerHTML="내용닫기";a.addClass("close");a.show()}a=e=null},monitorToggleNew:function(a,e){var b=$Element($(a));var f=$(e);if(b.visible()){f.innerHTML="자세히 보기";b.parent().addClass("appr_rst_cl");b.hide()}else{f.innerHTML="접기";b.parent().removeClass("appr_rst_cl");b.show()}b=f=null}});var setSlidePhoto2View=function(h,e,b,a,f){var g=[];g.push('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="'+b+'" height="'+a+'" id="motionPhoto" align="middle">');g.push('<param name="allowScriptAccess" value="always" />');g.push('<param name="FlashVars" value="" />');g.push('<param name="movie" value="http://blog.naver.com/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+h+"&w="+b+"&h="+a+"&f="+f+"&s="+e);g.push('" />');g.push('<param name="quality" value="high" />');g.push('<param name="bgcolor" value="#ffffff" />');g.push('<param name="wmode" value="transparent" />');g.push('<embed wmode="transparent" src="http://blog.naver.com/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+h+"&w="+b+"&h="+a+"&f="+f+"&s="+e+'" quality="high" bgcolor="#ffffff"');g.push('width="'+b+'" height="'+a+'" name="motionPhoto" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" autostart="true"/></object>');document.write(g.join(""))};var setSlidePhoto2Preview=function(h,e,b,a,f){var g=[];g.push('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="'+b+'" height="'+a+'" id="motionPhoto" align="middle">');g.push('<param name="allowScriptAccess" value="always" />');g.push('<param name="FlashVars" value="" />');g.push('<param name="movie" value="/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+h+"&w="+b+"&h="+a+"&f="+f+"&s="+e);g.push('" />');g.push('<param name="quality" value="high" />');g.push('<param name="bgcolor" value="#ffffff" />');g.push('<param name="wmode" value="transparent" />');g.push('<embed wmode="transparent" src="/post/editor/slide_photo/swf/motionPhoto.swf?c=0&m='+h+"&w="+b+"&h="+a+"&f="+f+"&s="+e+'" quality="high" bgcolor="#ffffff"');g.push('width="'+b+'" height="'+a+'" name="motionPhoto" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" autostart="true"/></object></div>');$("previewArea").innerHTML=g.join("")};var SimpleTimer=$Class({$init:function(e,b,a){this.callback=e;this.frequency=b;this.currentlyExecuting=false;this._oParam=a;this._registerCallback()},_registerCallback:function(){this.timer=setInterval($Fn(this.onTimerEvent,this).bind(),this.frequency*1000)},execute:function(){this.callback(this,this._oParam)},stop:function(){if(!this.timer){return}clearInterval(this.timer);this.timer=null},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.execute()}finally{this.currentlyExecuting=false}}}});var utility=new Utility();var resizeImage=$Fn(utility.resizeImage,this).bind();var resizeImg=$Fn(utility.resizeImg,this).bind();var goBlog=$Fn(utility.goBlog,this).bind();var goPermalink=$Fn(utility.goPermalink,this).bind();var oCurtain=new Curtain();var penalty=new Penalty();var loginObj=new LoginObject();var oMonitoring=new Monitoring();var isFlashMusicPlayerTargetBrowser=function(){if(parent&&parent.hiddenFrame&&parent.hiddenFrame.isFlashMusicPlayerTargetBrowser){return parent.hiddenFrame.isFlashMusicPlayerTargetBrowser()}else{return false}};var hideSmartEditor3Layer=function(){clickcr("","prf_lyr.close2","","","");$Element($("smartEditor3Layer")).hide()};var hideForever=function(){clickcr("","prf_lyr.close1","","","");new $Ajax("/HideSmartEditor3Layer.nhn",{method:"post",onload:$Fn(function(a){if(a&&a.text()&&a.text()!=""){hideSmartEditor3Layer();return}},this).bind()}).request({blogId:blogId})};var removeStylesDisplay=function(){document.querySelector(".lyr_official_blog").style.display=""};var hideOfficialBlogGuideLayer=function(){document.querySelector(".lyr_official_blog").style.display="none"};var hidOfficialBlogLayer=function(){document.querySelector(".lyr_reputation").style.display="none"};var hideOfficialBlogLayerForever=function(){new $Ajax("/HideOfficialBlogLayerAsync.nhn",{method:"post",onload:$Fn(function(a){if(a&&!!a.text()){hidOfficialBlogLayer();return}},this).bind()}).request({blogId:blogId})};if(typeof nclk=="undefined"){nclk={}}if(typeof nclkMaxDepth=="undefined"){var nclkMaxDepth=8}if(typeof ccsrv=="undefined"){var ccsrv="cc.naver.com"}if(typeof nsc=="undefined"){var nsc="decide.me"}if(typeof g_pid=="undefined"){var g_pid=""}if(typeof g_sid=="undefined"){var g_sid=""}var nclkImg=[];nclk.version="1.2.14";nclk.getScrollBarWidth=function(){var e=document.createElement("p");e.style.width="200px";e.style.height="200px";var f=document.createElement("div");f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.visibility="hidden";f.style.width="200px";f.style.height="150px";f.style.overflow="hidden";f.appendChild(e);document.body.appendChild(f);var b=e.offsetWidth;f.style.overflow="scroll";var a=e.offsetWidth;if(b==a){a=f.clientWidth}document.body.removeChild(f);return(b-a)};nclk.findPos=function(b){var f=curtop=0;try{if(b.offsetParent){do{f+=b.offsetLeft;curtop+=b.offsetTop}while(b=b.offsetParent)}else{if(b.x||b.y){if(b.x){f+=b.x}if(b.y){curtop+=b.y}}}}catch(a){}return[f,curtop]};nclk.windowSize=function(e){if(!e){e=window}var a=0;if(e.innerWidth){a=e.innerWidth;if(typeof(e.innerWidth)=="number"){var b=nclk.getScrollBarWidth();a=e.innerWidth-b}}else{if(document.documentElement&&document.documentElement.clientWidth){a=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){a=document.body.clientWidth}}}return a};nclk.checkIframe=function(j){var f=document.URL;var h=j.parentNode;var a;var b;if(h==null||h==undefined){return false}while(1){if(h.nodeName.toLowerCase()=="#document"){if(h.parentWindow){a=h.parentWindow}else{a=h.defaultView}try{if(a.frameElement!=null&&a.frameElement!=undefined){if(a.frameElement.nodeName.toLowerCase()=="iframe"){b=a.frameElement.id;if(!b){return false}return b}else{return false}}else{return false}}catch(g){return false}}else{h=h.parentNode;if(h==null||h==undefined){return false}}}};nclk.absPath=function(a){var e=window.location;var f=e.href;var b=e.protocol+"//"+e.host;if(a.charAt(0)=="/"){if(a.charAt(1)=="/"){return e.protocol+a}else{return b+a}}if(/^\.\//.test(a)){a=a.substring(2)}while(/^\.\./.test(a)){if(b!=f){f=f.substring(0,f.lastIndexOf("/"))}a=a.substring(3)}if(b!=f){if(a.charAt(0)!="?"&&a.charAt(0)!="#"){f=f.substring(0,f.lastIndexOf("/"))}}if(a.charAt(0)=="/"){return f+a}else{if(a.charAt(0)=="?"){f=f.split("?")[0];return f+a}else{if(a.charAt(0)=="#"){f=f.split("#")[0];return f+a}else{return f+"/"+a}}}};function clickcr(g,L,z,H,I,E,T){if(arguments.length==1){if(typeof nclk.generateCC!="undefined"){nclk.generateCC(arguments[0])}return}var C="cc";var J=navigator.userAgent.toLowerCase();var m=(J.indexOf("safari")!=-1?true:false);var G=/msie/.test(J)&&!/opera/.test(J);var p=(window.location.protocol=="https:")?"https:":"http:";var a=ccsrv.substring(ccsrv.indexOf(".")+1);var w=window.event?window.event:I;var v=-1;var t=-1;var s=-1;var r=-1;var W,f,j;var u,k,q;var Q,N,M,P,D,F,B;var S;var K=0;if(!E){E="0"}else{E=String(E)}if(!T){T=""}if(E.indexOf("n")==0){K=0}else{if(window.g_ssc!=undefined&&window.g_query!=undefined){K=1}else{K=0}}try{P=nclk.windowSize(window);j=nclk.checkIframe(g);if(j){var A=nclk.findPos(document.getElementById(j));if(w.clientX&&w.clientX!=undefined){W=document.body;if(W.clientLeft&&W.clientTop){ifrSx=w.clientX-W.clientLeft;ifrSy=w.clientY-W.clientTop}else{ifrSx=w.clientX;ifrSy=w.clientY}}s=A[0]+ifrSx;r=A[1]+ifrSy;if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){W=document.body;v=s-W.scrollLeft;t=r-W.scrollTop}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){f=document.documentElement;v=s-f.scrollLeft;t=r-f.scrollTop}else{v=s;t=r}}}else{if(w.clientX&&w.clientX!=undefined){W=document.body;if(W.clientLeft&&W.clientTop){v=w.clientX-W.clientLeft;t=w.clientY-W.clientTop}else{v=w.clientX;t=w.clientY}}if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){s=document.body.scrollLeft+(v<0?0:v);r=document.body.scrollTop+(t<0?0:t)}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){f=document.documentElement;if(f.scrollLeft!=undefined){s=f.scrollLeft+(v<0?0:v)}if(f.scrollTop!=undefined){r=f.scrollTop+(t<0?0:t)}}else{s=(v<0?0:v);r=(t<0?0:t)}}if(w.pageX){s=w.pageX}if(w.pageY){r=w.pageY}}}catch(U){}if(L==""||typeof L=="undefined"){return}if(E.indexOf("1")!=-1){u=0}else{if(g.href){D=g.nodeName.toLowerCase();F=g.href.toLowerCase();if((g.target&&g.target!="_self"&&g.target!="_top"&&g.target!="_parent")||(F.indexOf("javascript:")!=-1)||(g.getAttribute("href",2)&&g.getAttribute("href",2).charAt(0)=="#")||(F.indexOf("#")!=-1&&(F.substr(0,F.indexOf("#"))==document.URL))||D.toLowerCase()=="img"||G&&window.location.host.indexOf(a)==-1){u=0}else{u=1}}else{u=0}}if(g.href&&g.href.indexOf(p+"//"+ccsrv)==0){k=g.href}else{k=p+"//"+ccsrv+"/"+C+"?a="+L+"&r="+H+"&i="+z;k+="&bw="+P+"&px="+s+"&py="+r+"&sx="+v+"&sy="+t+"&m="+u;if(K==0){k+="&nsc="+nsc}else{if(K==1){k+="&ssc="+g_ssc+"&q="+encodeURIComponent(g_query)+"&s="+g_sid+"&p="+g_pid}}if(T){k+="&g="+T}if(F&&F.indexOf(p+"//"+ccsrv)!=0&&D.toLowerCase()!="img"){var R=g.href;if(g.outerHTML&&!window.XMLHttpRequest){R=(/\shref=\"([^\"]+)\"/i.test(g.outerHTML)&&RegExp.$1).replace(/\\/g,"\\\\").replace(/%([A-Z0-9]{2})/ig,"\\$1");(d=document.createElement("div")).innerHTML=R;R=d.innerText.replace(/\\([A-Z0-9]{2})/gi,"%$1").replace(/\\\\/g,"\\")}F=R.toLowerCase();if(F.indexOf("http:")==0||F.indexOf("https:")==0||F.indexOf("javascript:")==0){k+="&u="+encodeURIComponent(R)}else{B=nclk.absPath(R);k+="&u="+encodeURIComponent(B)}}else{if(g.href){if(g.href.length>0){k+="&u="+encodeURIComponent(g.href)}else{k+="&u=about%3Ablank"}}else{k+="&u=about%3Ablank"}}}if(u==1){S=g.innerHTML;g.href=k;if(g.innerHTML!=S){g.innerHTML=S}}else{if(document.images){var O=new Date().getTime();k+="&time="+O;if(m&&!g.href){var V=c=new Date();while((V.getTime()-c.getTime())<100){V=new Date()}var Q=new Image();nclkImg.push(Q);Q.src=k}else{var Q=new Image();nclkImg.push(Q);Q.src=k}}}return true}if(typeof(window.defineNHNJS)=="undefined"){window.defineNHNJS={}}window.defineNHNJS["BuddyConnectWidget-552881567_js"]=true;
