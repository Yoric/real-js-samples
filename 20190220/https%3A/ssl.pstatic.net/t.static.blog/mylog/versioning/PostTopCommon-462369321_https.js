function uploadChange(a){if(editor.thumbnailList.imageCount>0){if(confirm("현재 추가된 사진들을 사용할 수 없습니다.\n\n계속 진행하시겠습니까?")){location.href=a}}else{location.href=a}}var layout_type_selected="";var max_layout_free_type_count=6;function uploadProc(){if(editor.thumbnailList.imageCount==0){alert("사진을 첨부 해주세요!");return}if(layout_type_selected==""){alert("타입을 지정 해야 합니다.");return}var c;var k;var a;var n=0;var l=0;var d=0;if(layout_type_selected=="free"){n=getFreeLayoutSubTypeCheck();c=getFreeLayoutTypeNeedCountInfo(n);a=getFreeLayoutTypeSizeInfo(c,n)}else{if(layout_type_selected=="sort"){l=document.getElementById("col_size").value;d=document.getElementById("row_size").value;c=getSortLayoutPhotoMaxImageCount(l,d);k=CheckSortThunbnailSize(l)}}if(editor.thumbnailList.imageCount<c){alert("현재 타입은 최소 "+c+"개까지 업로드 해야 합니다.");return}var h=c;var e=0;var m=new Array(h);var g=0;var b="";for(i=0;i<h;i++){var f=document.getElementById("srcImg"+i);b=f.src;b=b.replace(thumbnailURL,attachURL);b=b.replace("?type=s1","");m[i]=b}opener.setLayoutPhoto2Editor(layout_type_selected,n,l,d,m.join("|"));self.close()}function imageTypeLayerItemAllClear(e){for(var b=1;b<=e;b++){var d;for(var a=1;a<=max_layout_free_type_count;a++){d=document.getElementById("free_layout"+a+"_item"+b);if(d!=null){d.innerHTML=""}}var c=document.getElementById("sort_layout_item"+b);if(c!=null){c.innerHTML=""}}}function imageTypeLayerAllHidden(){var c;for(var a=1;a<=max_layout_free_type_count;a++){c=document.getElementById("free_layout"+a);if(c!=null){c.style.display="none"}document.getElementById("lay"+a).src=imageURL+"img_lay0"+a+".gif"}var b=document.getElementById("sort_layout");if(b!=null){b.style.display="none"}}function imageTypeLayerChange(a){var c;if(layout_type_selected=="free"){for(var b=1;b<=max_layout_free_type_count;b++){c=document.getElementById(layout_type_selected+"_layout"+b);if(c!=null&&a==b){c.style.display=""}else{if(c!=null){c.style.display="none"}}}}}function getSortLayoutPhotoMaxImageCount(c,b){var a;a=parseInt(c)*parseInt(b);return a}function getFreeLayoutTypeNeedCountInfo(b){var a;if(b==1){a=3}else{if(b==2){a=3}else{if(b==3){a=5}else{if(b==4){a=7}else{if(b==5){a=6}else{if(b==6){a=7}}}}}}return a}function getFreeLayoutTypeSizeInfo(b,c){var a;if(c==1){a=new Array(b);a[0]="3:362";a[1]="2:179";a[2]="2:179"}else{if(c==2){nedd_imagecount=3;a=new Array(b);a[0]="2:179";a[1]="3:362";a[2]="2:179"}else{if(c==3){a=new Array(b);a[0]="2:133";a[1]="3:271";a[2]="2:133";a[3]="2:133";a[4]="2:133"}else{if(c==4){a=new Array(b);a[0]="2:106";a[1]="3:326";a[2]="2:106";a[3]="2:106";a[4]="2:106";a[5]="2:106";a[6]="2:106"}else{if(c==5){a=new Array(b);a[0]="3:271";a[1]="3:271";a[2]="2:135";a[3]="2:135";a[4]="2:135";a[5]="2:135";a[6]="2:135"}else{if(c==6){a=new Array(b);a[0]="3:269";a[1]="3:269";a[2]="2:108";a[3]="2:108";a[4]="2:108";a[5]="2:108";a[6]="2:108"}}}}}}return a}function getFreeLayoutSubTypeCheck(){var a="";var c=document.getElementsByName("laytype");for(var b=0;b<c.length;b++){if(c[b].checked){a=c[b].value;break}}return a}function imageEditViewInit(){if(layout_type_selected==null||layout_type_selected==""){return}var f=0;var o;var e;var c;var m;if(layout_type_selected=="free"){o=getFreeLayoutSubTypeCheck();need_imagecount=getFreeLayoutTypeNeedCountInfo(o);m=getFreeLayoutTypeSizeInfo(need_imagecount,o)}else{if(layout_type_selected=="sort"){e=document.getElementById("col_size").value;c=document.getElementById("row_size").value;m=CheckSortThunbnailSize(e);need_imagecount=parseInt(e)*parseInt(c)}}imageTypeLayerItemAllClear(20);for(var h=0;h<need_imagecount;h++){if(document.getElementById("srcImg"+h)!=null){var b="";var l="";var k="";var a;var j;var d;var n=parseInt((Math.random()*10000000));if(layout_type_selected=="free"){a=document.getElementById(layout_type_selected+"_layout"+o+"_item"+(h+1));var g=m[h].split(":");j=g[0];d=g[1]}else{if(layout_type_selected=="sort"){a=document.getElementById(layout_type_selected+"_layout_item"+(h+1));j=m[0];d=m[1]}}if(a!=null){b=document.getElementById("srcImg"+h).src;l=b.replace("?type=s1","?type=s"+j);k=b.replace(thumbnailURL,attachURL);k=k.replace("?type=s1","");a.innerHTML="<img src='"+l+"' width='"+d+"' height='"+d+"' id='userImg"+n+"' style='cursor: pointer' rel='"+k+"' div_id>"}}}}function imageChange(a){if(a==0){layout_type_selected="sort"}else{layout_type_selected="free"}document.getElementById("imageViewLayer").style.background="";imageTypeLayerAllHidden();imageTypeLayerChange(a);for(var b=1;b<=max_layout_free_type_count;b++){if(b==a){document.getElementById("lay"+b).src=imageURL+"img_lay0"+b+"_on.gif";document.getElementsByName("laytype")[b].checked=true}else{document.getElementById("lay"+b).src=imageURL+"img_lay0"+b+".gif"}}imageEditViewInit()}function clearTableRow(a){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}function CheckSortThunbnailSize(b){var a=new Array(2);if(b==2){a[0]="3";a[1]="271"}else{if(b==3){a[0]="2";a[1]="179"}else{if(b==4){a[0]="2";a[1]="133"}else{if(b==5){a[0]="2";a[1]="106"}}}}return a}function sortTypeSelect(a,d,c){if(document.getElementById(a)!=null){document.getElementById("imageViewLayer").style.background="";document.getElementById(a).style.display="";var f=document.getElementById(a).getElementsByTagName("TBODY")[0];clearTableRow(f);var k=CheckSortThunbnailSize(d);var e=1;for(var g=0;g<c;g++){var j=document.createElement("<TR>");var b;var l;for(var h=0;h<d;h++){b=document.createElement("<TD>");b.className="i"+e+" y"+d;b.width=k[1];b.height=k[1];l=document.createElement("<SPAN>");l.id="sort_layout_item"+(e);b.appendChild(l);j.appendChild(b);e++}f.appendChild(j)}}}function sortRowSizeCheck(f,d){var e=document.getElementById(f);if(e){var b=document.getElementById(d);if(b){var a=b.selectedIndex;while(b.hasChildNodes()){b.removeChild(b.firstChild)}var g;for(var c=0;c<=5;c++){g=document.createElement("<option>");if(c>0){if(c==5&&e.value==5){break}g.text=c+"줄";g.value=c}else{g.text="세로";g.value=""}b.options.add(g)}b.selectedIndex=a}}}function sortTypePreview(d,b){var c=document.getElementById(d);var a=document.getElementById(b);if(a.value>0&&c.value>0){document.getElementsByName("laytype")[0].checked=true;layout_type_selected="sort";sortTypeSelect("sort_layout",c.value,a.value);imageEditViewInit()}else{layout_type_selected=""}}function deleteUploadFileFromLocal(b){if(b!=null&&b.length>0){var e=b.replaceAll(thumbnailURL,"");e=e.replaceAll("?type=s1","");if(e!=null&&e.length>0){var a=false;if(opener.document.getElementById("filelist")){for(var d=0;d<opener.document.getElementById("filelist").options.length;d++){var c=opener.document.getElementById("filelist").options[d].value.split("@");if(c[0]!=""&&c[0]==e){if(d>0){opener.document.getElementById("filelist").options.selectedIndex=d;a=true;break}}}if(a){opener.DelFileList(blogID,"","")}}}}}function stringReplaceAll(a,d,c){var b="";if(utility.trim(a)!=""&&d!=c){b=utility.trim(a);while(b.indexOf(d)>-1){b=b.replace(d,c)}}return b}function LayoutPhotoMakeHTML(d,f,g,c,a){var b="";var e=parseInt((Math.random()*10000000))+"_div";if(d=="free"){b=freeLayoutMakeHTML(e,f,a)}else{if(d=="sort"){b=sortLayoutMakeHTML(e,g,c,a)}}return b}function thunmbnailLinkMake(g,c,e){var b="http://blogfiles.naver.net";var d=g.replace(attachURL,"").replace(b,"");var a=parseInt((Math.random()*10000000));var f="<img src='"+thumbnailURL+d+"?type=s"+c+"' width='"+e+"' height='"+e+"' id='userImg"+a+"' style='cursor: pointer' rel='"+g+"' div_id>";return f}function sortLayoutMakeHTML(q,e,a,s){var u="";if(s!=""){var t=s.split("|");var r=document.createElement("table");var b=document.createElement("tbody");var c=CheckSortThunbnailSize(e);var m=CheckSortThunbnailSize(e);var p=m[0];var f=m[1];var h=1;var d=0;for(var n=0;n<a;n++){var l=document.createElement("tr");var j;var k;for(var o=0;o<e;o++){j=document.createElement("td");j.className="i"+h+" y"+e;j.width=c[1];j.height=c[1];var g="<div id='sort_layout_item"+(h)+"' onMouseOver='ImgMouseOver(this)' onMouseOut='ImgMouseOut(this)' style='position:relative;top:0px;left:0px;cursor:pointer;' div_id>"+thunmbnailLinkMake(t[d++],p,f)+"</div>";j.innerHTML=g;l.appendChild(j);h++}b.appendChild(l)}r.appendChild(b);u=r.innerHTML;u=stringReplaceAll(u,"div_id","onClick='photo.doPhotoClick(this, \""+q+"\")'");u="<span id='"+q+"'>\r\n<table border='0' align='center' valign='middle' cellspacing=0 style='padding : 0 0 0 0'>\r\n"+u+"\r\n</table>\r\n</span>"}return u}function freeLayoutMakeHTML(e,b,c){var h="";if(c!=""){var m=c.split("|");var j=getFreeLayoutTypeNeedCountInfo(b);var l=getFreeLayoutTypeSizeInfo(j,b);var k="";var g=new Array(j);var a=new Array(j);var f=" onMouseOver='ImgMouseOver(this)' onMouseOut='ImgMouseOut(this)' style='position:relative;top:0px;left:0px;cursor:pointer;' div_id ";for(var d=0;d<j;d++){temp_split=l[d].split(":");g[d]=temp_split[0];a[d]=temp_split[1]}if(b=="1"){k="<table summary='레이아웃 스타일1' cellpadding='0' cellspacing='1' id='free_layout1'><tr><td rowspan='2' width='362' height='362'><div id='free_layout1_item1' "+f+">"+thunmbnailLinkMake(m[0],g[0],a[0])+"</div></td><td width='179' height='179'><div id='free_layout1_item2' "+f+">"+thunmbnailLinkMake(m[1],g[1],a[1])+"</div></td></tr><tr><td width='179' height='179'><div id='free_layout1_item3' "+f+">"+thunmbnailLinkMake(m[2],g[2],a[2])+"</div></td></tr></table>"}else{if(b=="2"){k="<table summary='레이아웃 스타일2' cellpadding='0' cellspacing='1' id='free_layout2'><tr><td width='179' height='179'><div id='free_layout2_item1' "+f+">"+thunmbnailLinkMake(m[0],g[0],a[0])+"</div></td><td rowspan='2' width='362' height='362'><div id='free_layout2_item2' "+f+">"+thunmbnailLinkMake(m[1],g[1],a[1])+"</div></td></tr><tr><td width='179' height='179'><div id='free_layout2_item3' "+f+">"+thunmbnailLinkMake(m[2],g[2],a[2])+"</div></td></tr></table>"}else{if(b=="3"){k="<table summary='레이아웃 스타일3' cellpadding='0' cellspacing='1' id='free_layout3'><tr><td width='133' height='133'><div id='free_layout3_item1' "+f+">"+thunmbnailLinkMake(m[0],g[0],a[0])+"</div></td><td rowspan='2' width='271' height='271'><div id='free_layout3_item2' "+f+">"+thunmbnailLinkMake(m[1],g[1],a[1])+"</span></td><td width='133' height='133'><div id='free_layout3_item3' "+f+">"+thunmbnailLinkMake(m[2],g[2],a[2])+"</div></td></tr><tr><td width='133' height='133'><div id='free_layout3_item4' "+f+">"+thunmbnailLinkMake(m[3],g[3],a[3])+"</div></td><td width='133' height='133'><div id='free_layout3_item5' "+f+">"+thunmbnailLinkMake(m[4],g[4],a[4])+"</div></td></tr></table>"}else{if(b=="4"){k="<table summary='레이아웃 스타일4' cellpadding='0' cellspacing='1' id='free_layout4'><tr><td width='106' height='106'><div id='free_layout4_item1' "+f+">"+thunmbnailLinkMake(m[0],g[0],a[0])+"</div></td><td rowspan='3' width='326' height='326'><div id='free_layout4_item2' "+f+">"+thunmbnailLinkMake(m[1],g[1],a[1])+"</div></td><td width='106' height='106'><div id='free_layout4_item3' "+f+">"+thunmbnailLinkMake(m[2],g[2],a[2])+"</div></td></tr><tr><td width='106' height='106'><div id='free_layout4_item4' "+f+">"+thunmbnailLinkMake(m[3],g[3],a[3])+"</div></td><td width='106' height='106'><div id='free_layout4_item5' "+f+">"+thunmbnailLinkMake(m[4],g[4],a[4])+"</div></td></tr><tr><td width='106' height='106'><div id='free_layout4_item6' "+f+">"+thunmbnailLinkMake(m[5],g[5],a[5])+"</div></td><td width='106' height='106'><div id='free_layout4_item7' "+f+">"+thunmbnailLinkMake(m[6],g[6],a[6])+"</div></td></tr></table>"}else{if(b=="5"){k="<table summary='레이아웃 스타일5' cellpadding='0' cellspacing='1' id='free_layout5'><tr><td colspan='2' width='271' height='271' align='center'><div id='free_layout5_item1' "+f+">"+thunmbnailLinkMake(m[0],g[0],a[0])+"</div></td><td colspan='2' width='271' height='271' align='center'><div id='free_layout5_item2' "+f+">"+thunmbnailLinkMake(m[1],g[1],a[1])+"</div></td></tr><tr><td width='135' height='135' align='center'><div id='free_layout5_item3' "+f+">"+thunmbnailLinkMake(m[2],g[2],a[2])+"</div></td><td width='135' height='135' align='center'><div id='free_layout5_item4' "+f+">"+thunmbnailLinkMake(m[3],g[3],a[3])+"</div></td><td width='135' height='135' align='center'><div id='free_layout5_item5' "+f+">"+thunmbnailLinkMake(m[4],g[4],a[4])+"</div></td><td width='135' height='135' align='center'><div id='free_layout5_item6' "+f+">"+thunmbnailLinkMake(m[5],g[5],a[5])+"</div></td></tr></table>"}else{if(b=="6"){k="<table summary='레이아웃 스타일6' cellpadding='0' cellspacing='1' id='free_layout6'><tr><td width='269' height='269'><div id='free_layout6_item1' "+f+">"+thunmbnailLinkMake(m[0],g[0],a[0])+"</div></td><td width='269' height='269'><div id='free_layout6_item2' "+f+">"+thunmbnailLinkMake(m[1],g[1],a[1])+"</div></td></tr><tr><td colspan='2'><table cellpadding='0' cellspacing='0'><tr><td width='108' height='108'><div id='free_layout6_item3' "+f+">"+thunmbnailLinkMake(m[2],g[2],a[2])+"</div></td><td width='108' height='108'><div id='free_layout6_item4' "+f+">"+thunmbnailLinkMake(m[3],g[3],a[3])+"</div></td><td width='108' height='108'><div id='free_layout6_item5' "+f+">"+thunmbnailLinkMake(m[4],g[4],a[4])+"</div></td><td width='108' height='108'><div id='free_layout6_item6' "+f+">"+thunmbnailLinkMake(m[5],g[5],a[5])+"</div></td><td width='108' height='108'><div id='free_layout6_item7' "+f+">"+thunmbnailLinkMake(m[6],g[6],a[6])+"</div></td></tr></table></td></tr></table>"}}}}}}k=k.replace(/div_id/ig,"onClick='photo.doPhotoClick(this, \""+e+"\")'");h="<span id='"+e+"'>\r\n"+k+"\r\n</span>"}return h}function ImgMouseOver(a){targetImage=a.getElementsByTagName("img")[0];offsetWidth=(targetImage.width/2)-11;offsetHeight=(targetImage.height/2)-11;btnObject=a.getElementsByTagName("img")[1];if(!btnObject){a.innerHTML=a.innerHTML+"<div style='position:absolute;left:0px;top:0px'></div><img  src='"+viewerImageUrl+"/ico_zoom.gif' width='0' height='0' style='display: ; position:absolute; left:"+offsetWidth+"; top:"+offsetHeight+"'>"}else{btnObject.style.display=""}fadeObject=a.getElementsByTagName("div")[0];fadeObject.style.width=targetImage.width;fadeObject.style.height=targetImage.height;fadeObject.style.backgroundColor="#fff";fadeObject.style.filter="alpha(opacity:20)";fadeObject.style.opacity="0.2";fadeObject.style.display="block"}function ImgMouseOut(a){btnObject=a.getElementsByTagName("img")[1];fadeObject=a.getElementsByTagName("div")[0];if(btnObject){btnname=a.getElementsByTagName("img")[1];btnname.style.display="none"}if(fadeObject){fadeObject.style.display="none"}}function setLayoutPhoto2Preview(b,f,d,a,c){var e=LayoutPhotoMakeHTML(b,f,d,a,c);document.write(e)}function displayMovieLink(g,e,b){var c=g.replace(/(^\s*)|(\s*$)/g,"");var h=c.indexOf("?");var f=c.substring(0,h);if(h==-1){f=c}var a=c.substring(f.length-4,f.length);var d=new String();if(a.substring(0,1)=="."){if(a==".swf"){d+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="'+e+'" height="'+b+'">'}else{d+='<object classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6" width="'+e+'" height="'+b+'">'}}else{d+='<object width="'+e+'" height="'+b+'">'}d+='<param name="allowScriptAccess" value="always" />';d+='<param name="movie" value="'+c+'" />';d+='<embed invokeURLs="false" autostart="false" AllowScriptAccess="never" width="'+e+'" height="'+b+'" src="'+c+'"/>';d+="</object>";document.write(d)}var DivFrame=$Class({$init:function(){this.oframe=null;this.sTargetId=null;this.sCreateId=null;this.oTargetId=null;this.oCreateId=null},setFrame:function(c,a,b){if(c){this.oframe=c}else{this.oframe=self}this.sTargetId=a;this.sCreateId=a+b},doFrameCreate:function(){if(!this.oframe.document.getElementById(this.sCreateId)){if(this.sTargetId){this.oTargetId=this.oframe.document.getElementById(this.sTargetId)}else{this.oTargetId=this.oframe.document.body}this.oCreateId=this.oframe.document.createElement("div");this.oCreateId.id=this.sCreateId;this.oTargetId.appendChild(this.oCreateId)}},doFrameDelete:function(){if(this.oTargetId){this.oTargetId.removeChild(this.oCreateId)}this.sTargetId=null;this.sCreateId=null;this.oTargetId=null;this.oCreateId=null},setFrameCssApply:function(a){this.doFrameCreate();$Element(this.oCreateId).css(a)}});var MotionFade=$Class({$init:function(a){if(a){this.oframe=a}else{this.oframe=self}this.oTid=null;this.iSpeedFadeIn=5;this.iFadeShame=0;this.bStatus=true},initialized:function(a){if(!this.oCreateId){this.setFrame(this.oframe,a.id,"_FadeFunction");this.setFrameCssApply({position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",background:"#FFFFFF"});if(this.bStatus==false){this.setFrameCssApply({opacity:"0",filter:"alpha(opacity : 0)"})}}},onFadeStop:function(){clearInterval(this.oTid);this.oTid=null},onFadeInStarted:function(){},onFadeInFinished:function(){},onFadeOutStarted:function(){},onFadeOutFinished:function(){},doFadeIn:function(a){if(!this.oTid){this.bStatus=true;if(this.oCreateId==null){this.initialized(this.sTargetId)}this.iFadeShame=100;this.oCreateId.style.opacity="1";this.oCreateId.filter="alpha(opacity=100)";if(a){this.iSpeedFadeIn=a}this.onFadeInStarted();this.oTid=setInterval($Fn(this._FadeIn,this).bind(),28)}},doFadeOut:function(a){if(!this.oTid){this.bStatus=false;if(this.oCreateId==null){this.initialized(this.sTargetId)}this.iFadeShame=0;if(a){this.iSpeedFadeIn=a}this.onFadeOutStarted();this.oTid=setInterval($Fn(this._FadeOut,this).bind(),28)}},_FadeIn:function(){if(this.iFadeShame>0){this.iFadeShame=this.iFadeShame-this.iSpeedFadeIn;if($Agent().navigator().ie){if(this.oCreateId){this.oCreateId.style.filter="alpha(opacity="+this.iFadeShame+");"}}else{if(this.oCreateId){this.oCreateId.style.opacity=(this.iFadeShame/100)}}}else{this._Clear();this.onFadeInFinished()}},_FadeOut:function(){if(this.iFadeShame>100){this._Clear();this.onFadeOutFinished()}else{this.iFadeShame=this.iFadeShame+this.iSpeedFadeIn;if($Agent().navigator().ie){if(this.oCreateId){this.oCreateId.style.filter="alpha(opacity="+this.iFadeShame+");"}}else{if(this.oCreateId){this.oCreateId.style.opacity=(this.iFadeShame/100)}}}},_Clear:function(){if(this.oTid!=null){clearTimeout(this.oTid)}this.oTid=null;if(this.bStatus==true){this.oTargetId.removeChild(this.oCreateId);this.oCreateId=null}}});MotionFade.extend(DivFrame);var PhotoMotionBox=$Class({$init:function(a){if(a){this.oframe=a}else{this.oframe=self}if(navigator.userAgent.toLowerCase().indexOf("opera")!=-1){this.iMotionSpeedWidth=0.3;this.iMotionSpeedHeight=0.25}else{this.iMotionSpeedWidth=0.2;this.iMotionSpeedHeight=0.15}this.iMotionSpeedTop=0.08;this.iMotionStyle=0;this.iTopMotion=this.oframe.document.documentElement.scrollTop+50;this.iWidthMotion=0;this.iHeightMotion=0;this.bWidthSize=true;this.bHeightSize=true;this.bTopSize=true;this.oTid=null;this.oTid2=null;this.oTid3=null;this.oTid4=null;this.bStatus=false},Initialized:function(a){if(!this.oCreateId){this.setFrame(this.oframe,"","_MotionBoxFunction");this.setFrameCssApply({margin:"0 auto",position:"absolute",border:"1px solid #555555",backgroundColor:"#FFFFFF",top:this.oframe.document.documentElement.scrollTop+50,width:"300px",height:"300px",zIndex:"1000"})}this._ResizeLeft();$Fn(this._ResizeLeft,this).attach(this.oframe.window,"resize")},onMotionStop:function(){clearInterval(this.oTid);clearInterval(this.oTid2);clearInterval(this.oTid3);clearInterval(this.oTid4);this.oTid=null;this.oTid2=null;this.oTid3=null;this.oTid4=null},onMotionBoxStarted:function(){this.bStatus=true},onMotionBoxFinished:function(){this.bStatus=false},doMotionBoxClose:function(){if(this.oCreateId!=null&&this.oTid2==null&&this.oTid==null&&this.oTid4==null){this.doFrameDelete(this.oCreateId)}},doMotionBox:function(b,a){this.Initialized();this.iTop=this.oframe.document.documentElement.scrollTop+50;this.iWidth=b;this.iHeight=a;this.iWidthMotion=parseInt(this.oCreateId.style.width,10);this.iHeightMotion=parseInt(this.oCreateId.style.height,10);this.oCreateId.style.display="block";if(b>this.iWidthMotion){this.bWidthSize=true}else{this.bWidthSize=false}if(a>this.iHeightMotion){this.bHeightSize=true}else{this.bHeightSize=false}if(this.iTop>this.iTopMotion){this.bTopSize=true}else{this.bTopSize=false}this._ResizeLeft();this.onMotionBoxStarted();this._MotionStyle01()},_MotionStyle01:function(){if(this.iMotionStyle==0){if(!this.oTid2){this.oTid2=setInterval($Fn(this._MotionHeightBox,this).bind(),13)}if(!this.oTid4){this.oTid4=setInterval($Fn(this._MotionTopBox,this).bind(),13)}this.oTid3=setInterval($Fn(this._MotionStyle01,this).bind(),100);this.iMotionStyle++}else{if(this.iMotionStyle==1){if(!this.oTid2){if(!this.oTid){this.oTid=setInterval($Fn(this._MotionWidthBox,this).bind(),13)}this.iMotionStyle++}}else{if(!this.oTid){clearInterval(this.oTid3);this.iMotionStyle=0;this.onMotionBoxFinished()}}}},_MotionWidthBox:function(){this.iWidthMotion+=this.iMotionSpeedWidth*((this.iWidth)-this.iWidthMotion);this.oCreateId.style.width=this.iWidthMotion+"px";if(this.bWidthSize==true){if(parseInt(this.iWidthMotion,10)>=this.iWidth-2){clearInterval(this.oTid);this.oTid=null}}else{if(parseInt(this.iWidthMotion,10)==this.iWidth){clearInterval(this.oTid);this.oTid=null}}this._ResizeLeft()},_MotionHeightBox:function(){this.iHeightMotion+=this.iMotionSpeedHeight*((this.iHeight)-this.iHeightMotion);this.oCreateId.style.height=this.iHeightMotion+"px";if(this.bHeightSize==true){if(parseInt(this.iHeightMotion,10)>=this.iHeight-2){clearInterval(this.oTid2);this.oTid2=null}}else{if(parseInt(this.iHeightMotion,10)==this.iHeight){clearInterval(this.oTid2);this.oTid2=null}}this._ResizeLeft()},_MotionTopBox:function(){this.iTopMotion+=this.iMotionSpeedTop*((this.iTop)-this.iTopMotion);this.oCreateId.style.top=this.iTopMotion+"px";if(this.bTopSize==true){if(parseInt(this.iTopMotion,10)>=this.iTop-2){clearInterval(this.oTid4);this.oTid4=null}}else{if(parseInt(this.iTopMotion,10)==this.iTop){clearInterval(this.oTid4);this.oTid4=null}}},_ResizeLeft:function(){if(this.oCreateId){this.left=Math.round((this.oframe.document.body.clientWidth/2)-parseInt(this.oCreateId.style.width,10)/2);this.oCreateId.style.left=this.left+"px"}}});PhotoMotionBox.extend(DivFrame);var PhotoFrameView=$Class({$init:function(a){if(a){this.oframe=a}else{this.oframe=self}},Initialized:function(a){if(!this.oCreateId){this.setFrame(this.oframe,a.id,"_FrameViewFunction");this.setFrameCssApply({position:"absolute",top:"0px",marginTop:"28px",width:"100%"})}}});PhotoFrameView.extend(DivFrame);var PhotoFrameImage=$Class({$init:function(a){if(a){this.oframe=a}else{this.oframe=self}},Initialized:function(a){if(!this.oCreateId){this.setFrame(this.oframe,a.id,"_FrameImageViewFunction");this.setFrameCssApply({position:"absolute",top:"0px",width:"100%"})}}});PhotoFrameImage.extend(DivFrame);var PhotoFrameBtnPrev=$Class({$init:function(a){if(a){this.oframe=a}else{this.oframe=self}},Initialized:function(a){if(!this.oCreateId){this.setFrame(this.oframe,a.id,"_FrameBtnPrevFunction");this.setFrameCssApply({position:"absolute",top:"0px",width:"27px",margin:"24px 0 0 35px"})}this.sBtnPrevId=this.sCreateId+"_BtnPrevFunction";this.oCreateId.innerHTML+="<img id='"+this.sBtnPrevId+"' src='"+viewerImageUrl+"btn_prev.gif' style='display:none;cursor:pointer;opacity:0.7;filter:alpha(opacity=70)'>"}});PhotoFrameBtnPrev.extend(DivFrame);var PhotoFrameBtnNext=$Class({$init:function(a){if(a){this.oframe=a}else{this.oframe=self}},Initialized:function(a){if(!this.oCreateId){this.setFrame(this.oframe,a.id,"_FrameBtnNextFunction");this.setFrameCssApply({position:"absolute",top:"0px",width:"27px",margin:"24px 0 0 "+(parseInt(a.offsetWidth,10)-60)+"px"})}this.sBtnNextId=this.sCreateId+"_BtnNextFunction";this.oCreateId.innerHTML+="<img id='"+this.sBtnNextId+"' src='"+viewerImageUrl+"btn_next.gif' style='display:none;cursor:pointer;opacity:0.7;filter:alpha(opacity=70)'>"}});PhotoFrameBtnNext.extend(DivFrame);var PhotoFrameStatus=$Class({$init:function(a){if(a){this.oframe=a}else{this.oframe=self}},Initialized:function(a){if(!this.oCreateId){this.setFrame(this.oframe,a.id,"_FrameStatusFunction");this.setFrameCssApply({height:"28px",textAlign:"right"})}this.oCreateId.innerHTML="<img src='"+viewerImageUrl+"btn_close.gif' style='margin:8px 12px 0 0;cursor:pointer'>"}});PhotoFrameStatus.extend(DivFrame);var PhotoFrameMain=$Class({$init:function(a){if(a){this.oframe=a}else{this.oframe=self}this.oMotionBox=null;this.oMotionFade=null;this.oFrameStatus=null;this.oFrameView=null;this.oFramePhotoView=null;this.oFrameBtnPrev=null;this.oFrameBtnNext=null;this.oLoadImage=null;this.sImageUrl=null;this.iNo=0;this.iTotal=0;this.oTimeOutError=null;this.bCreated=false;this.bFrameMainLock=false;this.mWidth=0;this.iHeight_Init=250;this.mHeight=250},Initialized:function(){this.oMotionBox=new PhotoMotionBox(this.oframe);this.oMotionBox.Initialized();this.oMotionFade=new MotionFade(this.oframe);this.oFrameStatus=new PhotoFrameStatus(this.oframe);this.oFrameStatus.Initialized(this.oMotionBox.oCreateId)},onFrameStarted:function(){},onFrameFinished:function(){},doFrameMain:function(a,c,b){this.sImageUrl=a;this.iNo=c;this.iTotal=b;if(this.bFrameMainLock==false){this.bFrameMainLock=true;if(this.bCreated==false){this.Initialized()}this.onFrameStarted();this.oMotionBox.onMotionBoxStarted=$Fn(function(){this.oFramePhotoView.oCreateId.style.height=this.mHeight},this).bind();this.oMotionBox.onMotionBoxFinished=$Fn(function(){if(this.bCreated==false){this.oFramePhotoView.oCreateId.innerHTML="<center><img src='"+this.sImageUrl+"' style='display:none'></center>";if(this.oFrameBtnPrev!=null){this.oFrameBtnPrev.Initialized(this.oFramePhotoView.oCreateId)}if(this.oFrameBtnNext!=null){this.oFrameBtnNext.Initialized(this.oFramePhotoView.oCreateId)}this.oMotionFade.initialized(this.oFramePhotoView.oCreateId);this.oMotionFade.onFadeInFinished=$Fn(function(){this.onFrameFinished()},this).bind();this.oMotionFade.doFadeIn(5);this.oFramePhotoView.oCreateId.getElementsByTagName("img")[0].style.display="block";this.bCreated=true}this.bFrameMainLock=false},this).bind();if(this.oFrameView){if(this.oFrameView!=null){this.oFrameView.doFrameDelete()}if(this.oFrameBtnPrev!=null){this.oFrameBtnPrev.doFrameDelete()}if(this.oFrameBtnNext!=null){this.oFrameBtnNext.doFrameDelete()}if(this.oFramePhotoView!=null){this.oFramePhotoView.doFrameDelete()}this.oFrameView=null;this.oFrameBtnPrev=null;this.oFrameBtnNext=null;this.oFramePhotoView=null;this.bCreated=false}this.oFrameView=new PhotoFrameView(this.oframe);this.oFrameView.Initialized(this.oMotionBox.oCreateId);this.oFrameView.oCreateId.style.height=this.mHeight;if(this.iNo-1>=0){this.oFrameBtnPrev=new PhotoFrameBtnPrev(this.oframe)}else{this.oFrameBtnPrev=null}if(this.iNo+1<this.iTotal){this.oFrameBtnNext=new PhotoFrameBtnNext(this.oframe)}this.oFramePhotoView=new PhotoFrameImage(this.oframe);this.oFramePhotoView.Initialized(this.oFrameView.oCreateId);this.oFramePhotoView.oCreateId.style.height=this.mHeight;utility.writeNewLcsNonGdid();this.bLoadImageOnLoadBug=false;this.oLoadImage=new Image();this.oLoadImage.onload=$Fn(function(){if(this.bLoadImageOnLoadBug==false){this.mWidth=this.oLoadImage.width;this.mHeight=this.oLoadImage.height;if(this.oLoadImage.width<120||this.oLoadImage.height<120){this.oLoadImage.width=250;this.oLoadImage.height=120}this.oMotionBox.doMotionBox(this.oLoadImage.width+22,this.oLoadImage.height+40);this.bLoadImageOnLoadBug=true;clearTimeout(this.oTimeOutError);this.oTimeOutError=null}},this).bind();this.oLoadImage.src=this.sImageUrl;this.oTimeOutError=setTimeout($Fn(function(){this.sImageUrl=viewerImageUrl+"img_no_photo2.gif";this.oLoadImage.src=this.sImageUrl;this.oLoadImage.height=140},this).bind(),3000)}},doFrameMainClose:function(){if(this.oFrameStatus!=null){this.oFrameStatus.doFrameDelete()}if(this.oFrameView!=null){this.oFrameView.doFrameDelete()}if(this.oFramePhotoView!=null){this.oFramePhotoView.doFrameDelete()}if(this.oMotionBox!=null){this.oMotionBox.onMotionStop();this.oMotionBox.doFrameDelete()}if(this.oMotionFade!=null){this.oMotionFade.onFadeStop()}this.oMotionBox=null;this.oMotionFade=null;this.oFrameStatus=null;this.oFrameView=null;this.oFramePhotoView=null;this.oFrameBtnPrev=null;this.oFrameBtnNext=null;this.bCreated=false;this.bFrameMainLock=false;this.mHeight=this.iHeight_Init;clearTimeout(this.oTimeOutError)},doFrameMainFadeClose:function(){if(this.oMotionFade){if(this.bFrameMainLock==false){this.oMotionFade.onFadeOutFinished=$Fn(function(){if(this.oMotionFade){this.oMotionFade.doFrameDelete()}if(this.oFramePhotoView){this.oFramePhotoView.doFrameDelete()}if(this.oFrameView){this.oFrameView.doFrameDelete()}if(this.oFrameStatus){this.oFrameStatus.doFrameDelete()}if(this.oMotionBox){this.oMotionBox.doFrameDelete()}if(this.oFrameBtnPrev){this.oFrameBtnPrev.doFrameDelete()}if(this.oFrameBtnNext){this.oFrameBtnNext.doFrameDelete()}this.oFrameBtnPrev=null;this.oFrameBtnNext=null;this.oMotionBox=null;this.oMotionFade=null;this.oFrameStatus=null;this.oFrameView=null;this.oFramePhotoView=null;this.bCreated=false;this.mHeight=this.iHeight_Init},this).bind();this.oMotionFade.initialized(this.oMotionBox.oCreateId);this.oMotionFade.doFadeOut(10)}}}});PhotoFrameMain.extend(DivFrame);var PhotoLayer=$Class({$init:function(a){if(a){this.oframe=a}else{this.oframe=self}this.oPhotoFrame=null;this.oImg=null;this.bPhotoLayerLock=false;this.i=0;this.aPhotoLayer=[];this.j=0;this.n=0},Initialized:function(){this.oPhotoFrame=new PhotoFrameMain(this.oframe)},doPhotoClick:function(a,b){if(a.getElementsByTagName("img")[0]){this.aPhotoLayer=[];this.j=0;this.n=0;this.oImg=document.getElementById(b).getElementsByTagName("IMG");for(this.i=0;this.i<this.oImg.length;this.i++){if(this.oImg[this.i].getAttribute("rel")){this.aPhotoLayer[this.j]=this.oImg[this.i].getAttribute("rel");if(this.oImg[this.i].src==a.getElementsByTagName("img")[0].src){this.n=this.j}this.j++}}this.doPhotoViewer()}},doPhotoViewer:function(){this.oPhotoFrame.onFrameStarted=$Fn(function(){this.oPhotoFrame.oFrameStatus.oCreateId.getElementsByTagName("img")[0].onclick=$Fn(function(){this.doPhotoBreakClose()},this).bind()},this).bind();this.oPhotoFrame.onFrameFinished=$Fn(function(){this.bPhotoLayerLock=false;this.oPhotoFrame.oFrameStatus.oCreateId.getElementsByTagName("img")[0].onclick=$Fn(function(){this.doPhotoClose()},this).bind();$Fn(function(){if(arguments[0].wheelDelta>0){this.doPhotoPrev()}else{this.doPhotoNext()}},this).attach(this.oPhotoFrame.oFramePhotoView.oCreateId,"mousewheel");if(this.oPhotoFrame.oFrameBtnPrev){$Fn(function(){this.oPhotoFrame.oFrameBtnPrev.oCreateId.getElementsByTagName("img")[0].style.display="block"},this).attach(this.oPhotoFrame.oFramePhotoView.oCreateId,"mouseover");$Fn(function(){this.oPhotoFrame.oFrameBtnPrev.oCreateId.getElementsByTagName("img")[0].style.display="none"},this).attach(this.oPhotoFrame.oFramePhotoView.oCreateId,"mouseout");$Fn(function(){this.doPhotoPrev()},this).attach(this.oPhotoFrame.oFrameBtnPrev.oCreateId,"click")}if(this.oPhotoFrame.oFrameBtnNext){$Fn(function(){this.oPhotoFrame.oFrameBtnNext.oCreateId.getElementsByTagName("img")[0].style.display="block"},this).attach(this.oPhotoFrame.oFramePhotoView.oCreateId,"mouseover");$Fn(function(){this.oPhotoFrame.oFrameBtnNext.oCreateId.getElementsByTagName("img")[0].style.display="none"},this).attach(this.oPhotoFrame.oFramePhotoView.oCreateId,"mouseout");$Fn(function(){this.doPhotoNext()},this).attach(this.oPhotoFrame.oFrameBtnNext.oCreateId,"click")}},this).bind();if(this.bPhotoLayerLock==false){this.oPhotoFrame.doFrameMain(this.aPhotoLayer[this.n],this.n,this.j)}this.bPhotoLayerLock=true},doPhotoPrev:function(){if(this.n-1>=0){this.n--}this.doPhotoViewer()},doPhotoNext:function(){if(this.n+1<this.j){this.n++}this.doPhotoViewer()},doPhotoClose:function(){this.bPhotoLayerLock=false;this.oPhotoFrame.doFrameMainFadeClose()},doPhotoBreakClose:function(){this.bPhotoLayerLock=false;this.oPhotoFrame.doFrameMainClose()}});PhotoLayer.extend(DivFrame);var photo=new PhotoLayer(window);photo.Initialized();$Fn(function(){photo.oPhotoFrame.doFrameMainClose();if(typeof(mlayoutPhoto)!="undefined"){mlayoutPhoto.unload()}},this).attach(window,"unload");if(typeof(window.defineNHNJS)=="undefined"){window.defineNHNJS={}}window.defineNHNJS["PostTopCommon-462369321_js"]=true;
