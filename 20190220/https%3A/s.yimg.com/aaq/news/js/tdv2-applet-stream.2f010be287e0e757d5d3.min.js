webpackJsonp([9],{1257:function(e,t,a){e.exports={controllerViews:{Featured:a(2242),MegaItem:a(1851),SimpleItem:a(2246),Storyline:a(2247),Stream:a(2248),StreamAd:a(1724)},stores:{ContentStore:a(92),StreamStore:a(1546),VideoCapabilitiesStore:a(1337),VideoLocationStore:a(55)},meta:{dependencies:["react-share-buttons","tdv2-applet-follow","tdv2-applet-userintent","tdv2-applet-video-modal"]}}},1314:function(e,t,a){"use strict";function n(e,t){if(!i[e])throw new Error('There is no I13nModel for "'+e+'"');return t?Object.assign({},i[e],t):i[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.I13nButton=void 0,t.getI13nModel=n;var i={userintentBtn:{sec:"strm",slk:"",elm:"open-usr-int",elmt:"btn",itc:1},discoverClose:{sec:"strm",slk:"_",subsec:"userintent",elm:"dismiss-tooltip",elmt:"click",itc:1},confirmManage:{sec:"strm",slk:"confirm_manage",elm:"btn",itc:1},confirmSignin:{sec:"strm",slk:"Sign In",elm:"undo",elmt:"click",itc:0},confirmUndo:{sec:"strm",slk:"",elm:"undo",elmt:"click",itc:1},panelClick:{sec:"strm",slk:"",elm:"",elmt:"click",itc:1},managementClick:{sec:"userintentmgmt",slk:"",elmt:"click"},managementClose:{sec:"userintentmgmt",slk:"Done",elmt:"click"}};t.I13nButton=(0,a(21).createI13nNode)("button",{bindClickEvent:!0,isLeafNode:!1})},1318:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(!e)return"";var t=Object.keys(e).reduce(function(t,a){var n=e[a];return n&&t.push(n.get("url")+" "+a),t},[]);return t.length>1?t.join():""}function o(e,t,a,n){var i,o,s=e.get("i13n")||A.default.Map(),r=e.get("clusterInfo")||A.default.Map(),l=e.get("isTodayItem"),d=e.get("storyline"),u=e.get("type"),c=t&&"function"==typeof t.get&&t.get("fallback"),f=t&&!c,p={ct:D[u]||u,g:e.get("id")},m=M(e.get("link")||e.get("url")||"");m&&(p.tar=m.host,p.tar_uri=m.pathname),e.get("off_network")&&(p.tar_uri="offnet");var g=e.get("title");if(g&&(p.slk=g),l&&(p.aid=e.get("aid",""),p.g=p.aid?p.g:-1,p.expb=0),!n){p.refcnt=d?d.size:0,p.bpos=s.get("bpos"),p.cpos=s.get("cpos"),p.cposy=s.get("cposy"),p.ss_cid=r.get("id")||l&&e.get("id")||"",p.grpt=r.get("type")||"",p.cpos!==a+1&&(p.cpos=p.cposy=a+1),d&&(i=!!d.getIn([0,"images"]),o=!!d.getIn([1,"images"])),_(e)?(p.pkgt="need_to_know",p.subsec="needtoknow"):p.pkgt=d?i&&!o?"cluster_first_img":o&&!i?"cluster_second_img":!f||i||o?c&&d?"cluster_ph_img":f?"cluster_all_img":"cluster_no_img":"cluster_no_child_imgs":f?"orphan_img":c?"orphan_ph_img":"orphan_no_img";var h=b(e);h&&(p.cnt_tpc=h)}return p}function s(e,t){var a=t&&t.getPageData();return{description:e.get("summary")||e.get("description"),imageUrl:e.getIn(["images","original","url"])||(0,O.default)(a,["image"],""),title:e.get("title")||"",url:e.get("link")||"",uuid:e.get("id")||""}}function r(e,t){var a=s(e,t);return{metaData:{description:a.description,link:a.url,picture:a.imageUrl,title:a.title}}}function l(e,t){var a=["video","slideshow"],n=e.get("subtype")||e.get("type"),i=t.ui.show_type_icon;return a.indexOf(n)>=0&&i?n:""}function d(e){var t=e.get("type");return"ad"===t||"cm"===t}function u(e){var t=e.get("listIdMixin")||e.get("editorsPick");return"true"===t||!0===t}function c(e){var t=e.get("clusterInfo");if(!t)return!1;var a=t.get("followable"),n=t.get("followId"),i=t.get("title");return!(!n||!i||"true"!==a&&!0!==a)}function f(e){return!(!e.get("id")||e.get("isTodayItem")&&!e.get("aid"))}function p(e,t){var a=(0,O.default)(t,["video","enable_video_enrichment"]),n=e.get("video_enrichment");return"video"===e.get("type")&&(0,O.default)(t,["video","use_inline_video"])||n&&a&&n.get("uuid")}function m(e,t){return(0,O.default)(t,["ui","thumbnail_sizes",e.get("type")],"small")}function g(e,t){var a;return e.get("off_network")&&(a=(0,O.default)(t,["offnet","share_buttons","buttons_to_show"])),a||(a=(0,O.default)(t,["ui","share_buttons","buttons_to_show"],[])),a}function h(e){var t=e.config.pageload_image_count;return t>=0&&e.index>=t}function _(e){return"roundup"===e.getIn(["clusterInfo","type"])}function v(e){var t=e.config,a=e.data,n=(0,O.default)(t,["ui","follow_cluster"])&&c(a),i=(0,O.default)(t,["ui","storyline_navparam_enabled"]);return{buttons:!h(e)&&E(e),followCluster:n,relatedItems:x(e),storylineIds:i?S(a):[],typeIcon:l(a,t)}}function b(e,t){var a=_(e),n=c(e)&&e.getIn(["clusterInfo","title"]),i=e.get("categoryLabel")||"",o=e.get("property")||"";t=t||{};var s=t.THE_ROUNDUP||"Need To Know";return a?s:n||t["STREAM_CATEGORY_"+i.toUpperCase()]||t["STREAM_CATEGORY_"+o.toUpperCase()]||i||o||""}function y(e,t){var a=e.get("clusterInfo")||A.default.Map(),n=e.get("id"),i=t.render_targets&&t.render_targets[e.get("type")],o={category:t.persist_category?t.category:"",i13n:{ss_cid:a.get("id")||e.get("isTodayItem")&&n||""},originalSite:t.content_site,pageTitle:e.get("title"),url:e.get("url"),uuid:n};return i&&(o.renderTarget=i),o}function x(e){var t=e.relatedItems,a=(0,O.default)(e.config,["ui","related_min"])||3;return t&&t.size>=a?t:null}function S(e){var t=e.get("id"),a=e.get("storyline")||A.default.List(),n=[t];return a.forEach(function(e){n.push(e.get("id"))}),n}function C(e){var t,a,n,i,o;if(e){a=e.videoId||void 0,t=e.clickParams||void 0,o=e.playlist||void 0,i=e.rid||void 0,(t||i)&&(n={},t&&(n.clickParams=t),i&&(n.pageParams={_rid:i}));var s={cover:e.cover,enableAd:!!e.enableAd,enableSharedMediaStore:!0,energySaverMode:e.energySaverMode,key:a,navToUrlOnClick:e.navToUrlOnClick,yvpConfig:{autoplay:!!e.autoplay,ccode:e.ccode,cpos:e.cpos,expName:e.expName||"advance",expType:e.expType||"strm-inline",html5:!0,loop:!!e.loop,mute:"boolean"!=typeof e.mute||e.mute,playlist:o||{mediaItems:[{id:a}]},preload:!0,rapidConfig:n,replayonlyendscreen:!0,sec:e.sec,showTitleOnHover:!!e.showTitleOnHover,startscreen:{showDesc:!1,showProvider:!1,showTitle:!1},stopBufferingOnPause:!!e.stopBufferingOnPause}};return void 0!==e.mediaItem&&(s.yvpConfig.mediaItem=e.mediaItem),void 0!==e.showTitleOnStart&&(s.yvpConfig.showTitleOnStart=!!e.showTitleOnStart),void 0!==e.showControls&&(s.yvpConfig.showControls=!!e.showControls),void 0!==e.displayMarkers&&(s.yvpConfig.displayMarkers=!!e.displayMarkers),void 0!==e.hidePlaylist&&(s.yvpConfig.hidePlaylist=!!e.hidePlaylist),void 0!==e.video_reel&&(s.yvpConfig.video_reel=!!e.video_reel),s}return{}}function M(e){if(e=e.split("?")[0]){if("/"===e.charAt(0))return{host:L?window.location.host:"",pathname:e,protocol:L?window.location.protocol:""};var t=e.split("/");return{host:t[2],pathname:"/"+t.slice(3).join("/"),protocol:t[0]}}return null}function w(e,t){return t.ui&&!t.ui.relative_links||"/"!==e.get("link","").charAt(0)}function E(e){var t=e.config,a=e.data;return N(a,t)||T(a,t)||I(a,t)}function I(e,t){var a="false"!==e.get("comments_allowed"),n=e.get("off_network")||!1,i=n&&(0,O.default)(t,["ui","comments_offnet"])||!1;return!(!a||n&&!i||!(0,O.default)(t,["ui","comments"]))}function P(e){return!!(0,O.default)(e,["ui","user_intent","enable"])}function T(e,t){return!(!(0,O.default)(t,["ui","follow_content"])||!f(e))}function N(e,t){var a=(0,O.default)(t,["ui","share_buttons","enable"],!1),n=g(e,t);return a&&n.length>0}function k(e,t){return e.filter(function(e){return e!==t})}Object.defineProperty(t,"__esModule",{value:!0}),t.createSrcSet=i,t.getBaseI13n=o,t.getSharingMetadata=s,t.getSharingGroupMetadata=r,t.getTypeIcon=l,t.isAd=d,t.isEditorsPick=u,t.isFollowableCluster=c,t.isFollowableContent=f,t.isInlineVideo=p,t.getItemThumbSize=m,t.getButtonsToShow=g,t.isLazyLoad=h,t.isNeedToKnow=_,t.getBaseItemState=v,t.getContentLabel=b,t.getNavParams=y,t.getRelatedItems=x,t.getStorylineIds=S,t.getVideoManagedPlayerConfig=C,t.parseUrl=M,t.shouldFollowLink=w,t.shouldRenderButtons=E,t.shouldRenderComment=I,t.shouldRenderUserintent=P,t.shouldRenderFollowContent=T,t.shouldRenderShareButtonMenu=N,t.filterStoryId=k;var A=n(a(10)),O=n(a(2)),D={article:"story"},L="undefined"!=typeof window},1337:function(e,t,a){"use strict";e.exports=a(20)({storeName:"VideoCapabilitiesStore",statics:{handlers:{SET_USER_CONNECTION:"_setUserConnection"}},initialize:function(){this._data={connectionType:null},this._setMobileAutoplaySupport(),this._isUserConnectionChecksEnabled=!0},getConnectionType:function(){return this._data.connectionType},isAutoplayEnabledConnection:function(){var e=this.getConnectionType();return"unknown"===e||a(1360).isAutoplayAllowed(e)},isMobileAutoplayDevice:function(){return this._data.isMobileAutoplaySupported},isUserConnectionChecksEnabled:function(){return this._isUserConnectionChecksEnabled},disableUserConnectionChecks:function(){return this._isUserConnectionChecksEnabled=!1},_setMobileAutoplaySupport:function(){"undefined"!=typeof window&&(this._data.isMobileAutoplaySupported=a(1360).isAutoplaySupported())},_setUserConnection:function(e){e&&e.type&&(this._data.connectionType=e.type,this.emitChange())}})},1360:function(e,t,a){"use strict";function n(){if("undefined"!=typeof navigator){return(navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection)||{}).type}}function i(){if(!s.mobile)return!0;var e=s.android&&s.chrome>=50,t=s.ios&&!s.iosWebView&&s.safari>=10;return e||t}function o(e){return!s.mobile||!(!(e=(n()||e||"").replace(/^cs_/i,"").toLowerCase())||!r[e])&&i()}var s=a(1544),r={wifi:!0,broadband:!0,dsl:!0,cable:!0};e.exports={getConnectionType:n,isAutoplaySupported:i,isAutoplayAllowed:o}},1361:function(e,t,a){"use strict";e.exports={FollowCluster:a(1199),FollowContent:a(1191)}},1366:function(e,t){if(void 0===a)var a={};a["caret-up"]={name:"caret-up",height:48,width:48,path:"M24.21 16.03L11.48 28.76c-.78.78-.78 2.047 0 2.827.78.78 2.048.78 2.83 0l9.898-9.9 9.9 9.9c.78.78 2.047.78 2.827 0 .78-.78.78-2.047 0-2.828L24.21 16.03z"},void 0!==e&&e.exports&&(e.exports=a["caret-up"])},1368:function(e,t,a){"use strict";function n(e,t,a){e.type="video";var n=s(t,a);e.link=n?n.link:e.link,e.id=n?n.id:e.id,e.bypassModal=!1;var i=r(t,a);i&&e.imageSize&&(e.imageSize[m]={url:i})}function i(e,t,a,n){if(!t.enableVideoReel)return e;var i={},o=s(a,n);i.type="video",i.link=o?o.link:i.link,i.id=o?o.id:i.id,i.bypassModal=!1;var l=r(a,n);return l&&(i.imageSize={},i.imageSize[m]={url:l}),e.merge(i)}function o(e){var t=e&&e.meta&&e.meta.url||"",a=t&&p.default.parse(t);return a&&a.pathname.replace("news","video")}function s(e,t){var a=e&&e.getPlaylist(t);if(a&&a.length>0){var n=o(a[0]);return n&&{link:n,id:a[0].id}}return null}function r(e,t){var a=e&&e.getPlaylist(t);if(a&&a.length>0)for(var n=0;n<a.length;n++){var i=a[n]&&a[n].meta,o=i&&i.playlist_config&&i.playlist_config.is_bumper||!1;if(!o)return i&&(i.thumbnailF2||i.thumbnail)}return null}function l(e){var t=e&&e.meta,a=t&&t.playlist_config;return{title:t&&t.title||"",description:t&&t.description||"",section:a&&a.header&&a.header.type||"",label:a&&a.header&&a.header.label||"",primaryMarkerLabel:t&&t.primaryMarkerLabel||[],isBumper:a&&a.is_bumper||!1,liveState:t&&t.live_state||!1}}function d(e,t,a){var n=t&&t.getPlaylist(a);if(n&&n.length>0)for(var i=0;i<n.length;i++)if(n[i].id===e){var s=l(n[i]),r="",d=l(n[i+1]);return i<n.length-1&&!d.isBumper?r=d.title:i<n.length-2&&(r=l(n[i+2]).title),{id:n[i].id,isBumper:s.isBumper,lastBumper:s.isBumper&&i===n.length-1,title:s.title,description:s.description,section:s.section,link:!s.isBumper&&o(n[i]),nextTitle:r,liveState:s.liveState}}return null}function u(e,t,a){return!(!t.enableVideoReel||!e||"reel"!==e.get("subtype")||(n(e,a),0))}function c(e,t){var a=d(e.id,t);return a&&"live"===a.liveState}function f(e,t){var a=d(e.id,t);return a?a.title:""}Object.defineProperty(t,"__esModule",{value:!0}),t.convertReelArticleToVideo=n,t.fetchReelArticleWithThumbnail=i,t.getReelItem=d,t.shouldRenderReel=u,t.isReelItemLive=c,t.getItemTitle=f;var p=function(e){return e&&e.__esModule?e:{default:e}}(a(30)),m="img:reel"},1369:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=(n(a(0)),n(a(1))),d=n(a(1180)),u=n(a(294)),c=n(a(6)),f=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.count;return a.state={commentCount:n,commentString:a.getCommentString(n),hover:!1},a}return s(t,e),r(t,[{key:"getCommentString",value:function(e){var t=this.props,a=t.intl,n=t.showDescription;if(!e)return n?a.formatMessage({id:"APPLET_COMMENT_START_CONVERSATION"}):"";var i=void 0;return i=e>=1e6?parseFloat((e/1e6).toFixed(2))+"m":e>=1e5?parseFloat((e/1e3).toFixed(0))+"k":e>=1e4?parseFloat((e/1e3).toFixed(1))+"k":a.formatNumber(e),n&&(i+=" "+a.formatMessage({id:"APPLET_COMMENT_COUNT_DESCRIPTION"},{count:e})),i}},{key:"componentWillMount",value:function(){var e=this,t=e.constructor.prototype;(e.props.enableHoverColor||e.props.enableTooltip)&&(e.onMouseEnter=t.onMouseEnter.bind(e),e.onMouseLeave=t.onMouseLeave.bind(e))}},{key:"onMouseEnter",value:function(){this.setState({hover:!0})}},{key:"onMouseLeave",value:function(){this.setState({hover:!1})}},{key:"renderTooltip",value:function(e){var t=this;if(t.props.enableTooltip&&t.state.hover){var a=(0,c.default)("comment-btn-tooltip Bdc($c-fuji-grey-c) Bds(s) Bdw(1px)","Bdrs(3px) Bgc(#fff) Bxsh(commentTooltipBxsh) C($c-fuji-blue-1-a)","Fz(13px) Lh(14px) Pos(a) Px(14px) Py(8px) Whs(nw) Z(3)",{"Start(0) T(22px)":"down"===e,"B(-3px) End(36px)":"left"===e}),n=t.props.intl.formatMessage({id:"APPLET_COMMENT_COMMENTS"});return l.default.createElement("b",{className:a},t.props.intl.formatMessage({id:t.state.commentCount?"APPLET_COMMENT_COMMENTS":"APPLET_COMMENT_START_CONVERSATION",defaultMessage:n}))}}},{key:"render",value:function(){var e=this,t=e.props,n=t.showDescription,i=t.deepLinkQueryParams,o=t.display,s=t.iconSize,r=t.iconClassName,f=t.textAlign,p=e.state.commentString,m=["block","inline-block"],g=t.openDirection||(m.indexOf(o)>=0?"left":"down"),h=e.state.hover?t.hoverIconColor:t.iconColor,_=t.url;if(!_)return null;var v="/"!==_.charAt(0);v&&i&&(_+=(-1===_.indexOf("?")?"?":"&")+i);var b=(0,c.default)("comment-btn-count",t.stringClassName,"Pos(r)",{"D(b)":"block"===o||"inline-block"===o,"Fz(11px)":"block"===o||"inline-block"===o,"Mend(4px)":"inline"===o&&"left"===f,"Mstart(4px)":"inline"===o&&"right"===f,"Fz(13px)":"inline"===o&&!n,"Fw(b) Fz(11px)":n}),y={className:(0,c.default)("comment-btn-link Pos(r) Cur(p) Va(m) Td(n)",t.className,{"Pb(6px) D(b)":"block"===o,"D(ib)":"inline"===o,"D(ib) Pb(6px)":"inline-block"===o,"desktop_W(100%)":"left"===g}),followLink:v,href:_,i13nModel:Object.assign({},t.i13nModel||t.model,{elm:"cmmt_open",itc:0,pos:1,slk:"comments"}),navParams:Object.assign({},t.navParams,{collapseContent:!0,uuid:t.uuid||""}),target:t.target},x=void 0;return p?x=l.default.createElement("span",{style:{color:h},className:b},p):y["aria-label"]=t.intl.formatMessage({id:"APPLET_COMMENT_ARIA_VIEW_COMMENTS"}),(t.enableHoverColor||t.enableTooltip)&&(y.onMouseEnter=e.onMouseEnter,y.onMouseLeave=e.onMouseLeave),l.default.createElement(u.default,y,"left"===f||"top"===f?x:null,l.default.createElement(a(26).Icon,{className:r,asset:d.default,height:s,color:h,style:{position:"relative",top:"1px",margin:"auto",verticalAlign:"middle"}}),"right"===f||"bottom"===f?x:null,e.renderTooltip(g))}}]),t}(a(1).PureComponent);f.defaultProps={className:"",deepLinkQueryParams:"bcmt=1",display:"inline",enableHoverColor:!1,enableTooltip:!1,hoverIconColor:"#188fff",iconClassName:"",iconColor:"#ccc",iconSize:20,showDescription:!1,textAlign:"left",stringClassName:"Fw(b)"},t.default=(0,a(33).injectIntl)(f),e.exports=t.default},1373:function(e,t,a){"use strict";e.exports={contextTypes:{session:a(0).object.isRequired},componentDidMount:function(){var e=this.context,t=a(24)(e,"session.dimensions.device","desktop"),n=e.getStore(a(1337));if("undefined"!=typeof window&&"desktop"!==t&&n.isMobileAutoplayDevice()){var i=this._deviceSupportsVideoAutoplay();n.isUserConnectionChecksEnabled()?(n.addChangeListener(this.onVideoCapabilitiesChange),e.executeAction(a(1545))):this.state.supportsVideoAutoplay!==i&&this.setState({supportsVideoAutoplay:i})}},getInitialState:function(){var e=this.context;return{supportsVideoAutoplay:"desktop"===a(24)(e,"session.dimensions.device","desktop")}},_deviceSupportsVideoAutoplay:function(){var e=this.context;if("desktop"===a(24)(e,"session.dimensions.device","desktop"))return!0;var t=e.getStore(a(1337));return t&&t.isMobileAutoplayDevice()&&t.isAutoplayEnabledConnection()},onVideoCapabilitiesChange:function(){this.setState({supportsVideoAutoplay:this._deviceSupportsVideoAutoplay()})}}},1374:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a=c;t&&"StreamService"!==t||(a=a.concat(f));for(var n={ui:{}},i=0,o=a.length;i<o;i++){var s=a[i],r=(0,l.default)(e,s);(r||"number"==typeof r)&&(0,u.default)(n,s,r)}return n}function o(e){return(0,l.default)(e,["params","contentSite"])||(0,l.default)(e,["contentSite"])}function s(e,t,n){var s=i(t,n),u=e.getStore("StreamStore"),c=e.getStore("ContentStore"),f=e.getStore("PageStore");if("failsafe"===(0,l.default)(e,["session","dimensions","mode"])?(0,d.default)(s,r.getFailsafeConfigs(t)):(0,l.default)(e,["session","isLightWeightBrowser"])&&(0,d.default)(s,r.getLightWeightConfigs(t)),s.category=s.category||"",s=Object.assign(s,r.getCategoryOverrides(u,t)),t.ui&&!0===t.ui.list_id_for_hero){var p=(u.getHeroCategory()||"").split(":");2===p.length&&"LISTID"===p[0]?s.ui.list_id_for_hero=p[1]:(delete s.ui.editorial_content_count,delete s.ui.list_id_for_hero)}if(t.use_yct_wikiids&&("sidekick"===t.ui.view||"discussion"===t.ui.view)){var m=c.getCurrentContent(),g=m&&(0,a(5).get)(m,"entities");if(g){var h=r.getYctWikiids(g);h&&(h.ycts&&h.ycts.length>0&&(s.ycts=h.ycts),h.wikiids&&h.wikiids.length>0&&(s.wikiids=h.wikiids))}}s.ads&&(void 0!==u.getAdsFrequency()&&(s.ads.frequency=u.getAdsFrequency()),s.ads.se=u.getSectionId(s.ui&&s.ui.view)||s.ads.se,s.ads.spaceid=f.getSpaceid()||s.ads.spaceid),t.use_content_id&&(s.content_id=u.getPageUuid());var _=e.getStore("RouteStore").getCurrentRoute();if(void 0!==_&&_){_=_||{};var v=o(_);void 0!==v&&(s.content_site=v)}if(t.max_exclude>0){var b=e.localStorage,y=b&&b.getItem("strm-read")||{};s.exclude_uuids=[];s.exclude_uuids=Object.keys(y).sort(function(e,t){return parseInt(y[t])-parseInt(y[e])}).slice(0,t.max_exclude)}return s.pageContext=(0,l.default)(f.getPageConfig(),["_context"],{}),s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1440)),l=n(a(2)),d=n(a(27)),u=n(a(195)),c=[["additional_subsite"],["batches","ss_endpoint"],["bypassmodal_enabled"],["category"],["dedupe_ntk_items_from_stream"],["flyout_enabled"],["forceJpg"],["image"],["imageResizer"],["link_params"],["offnet","include_lcp"],["offnet","use_preview"],["offnet","url_scheme"],["parentCategory"],["redisCompress"],["sentiment_comments_enabled"],["ss_endpoint"],["ss_timeout"],["subtype_enabled"],["ui","ad_image_fit"],["ui","comments"],["ui","comments_offnet"],["ui","dispatch_content_store"],["ui","editorial_featured_count"],["ui","featured_count"],["ui","image_quality_override"],["ui","link_out_allowed"],["ui","mega_image_height"],["ui","needtoknow_roundup_only"],["ui","needtoknow_template"],["ui","ntk_bypassA3c"],["ui","pubtime_maxage"],["ui","relative_links"],["ui","render_video_featured"],["ui","require_resized_image"],["ui","show_comment_count"],["ui","show_follow_treatment"],["ui","smart_crop"],["ui","storyline_count"],["ui","storyline_enabled"],["ui","storyline_min"],["ui","summary"],["ui","thumbnail_size"],["ui","thumbnail_specs"],["ui","tiles"],["ui","user_intent"],["ui","view"],["use_canonical"],["use_content_site"],["use_mags_nydc"],["video","enable_video_enrichment"]],f=[["ads","ad_polices"],["ads","cluster"],["ads","contentType"],["ads","count"],["ads","ctx_signals_enabled"],["ads","fallback"],["ads","frequency"],["ads","geminiep"],["ads","generic_viewability"],["ads","inline_video"],["ads","partial_viewability"],["ads","pu"],["ads","se"],["ads","spaceid"],["ads","start_index"],["ads","timeout"],["ads","type"],["ads","useHqImg"],["ads","useOrigImg"],["ads","useResizedImages"],["ads","video_ads_count"],["author_content_indexing_enabled"],["batches","pagination"],["batches","size"],["batches","timeout"],["batches","total"],["blending_enabled"],["editors_picks"],["enableAuthorBio"],["comments_enabled"],["offnet","exclude_offnet_content"],["use_page_subsite"],["max_exclude"],["min_count"],["min_count_error"],["newsyness_level"],["no_ss_pnr_ntk"],["pnr_override_base_url"],["pnr_package_enabled"],["pnr_package_dest_excl_enabled"],["promoAds","asyncBeacon"],["promoAds","count"],["promoAds","enableAppReviews"],["promoAds","enablePromoService"],["promoAds","enableStarRating"],["promoAds","frequency"],["promoAds","imageTag"],["promoAds","noClickRedirect"],["promoAds","se"],["promoAds","start_index"],["promoAds","timeout"],["qsp_views"],["service","specRetry"],["sidekick_sectionid_enabled"],["subsite"],["sponsored_ads","backfill_enabled"],["sponsored_ads","total_cnt"],["sponsored_ads","pu"],["sponsored_ads","se"],["sponsored_ads","type"],["sponsored_ads","image_tags"],["sponsored_ads","content_type"],["sponsored_ads","timeout"],["sponsored_ads","floor_price"],["ui","editorial_content_count"],["ui","editorial_content_min"],["ui","enable_lead_fallback_image"],["ui","lead_fallback_image"],["ui","list_id_for_hero"],["ui","list_id_start_index"],["ui","roundup"],["ui","sports_morelink_enabled"]];e.exports=t.default},1375:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){var n=(0,o.default)(t,["componentConfig","bundleName"],d),i={},u=[],c=t.componentConfig,f=c&&c.ui||{};t.components.forEach(function(e){e.bundleName&&e.bundleName!==d||(e.bundleName=n);var t=e.bundleName+"."+e.name;if(!i[t]){var a=(0,o.default)(c,["components",e.name]);if(a){var r=(0,o.default)(e,["props","componentConfig"],{});r=(0,l.default)({},r,a),(0,s.default)(e,["props","componentConfig"],r)}i[t]=!0,u.push(e)}}),f.follow_cluster&&u.push({bundleName:"tdv2-applet-follow",name:"FollowCluster"}),f.follow_content&&u.push({bundleName:"tdv2-applet-follow",name:"FollowContent"}),f.share_buttons&&f.share_buttons.enable&&u.push({bundleName:"react-share-buttons",name:"FollowButtonGroup"}),(0,r.default)(e,u,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(a(2)),s=n(a(195)),r=n(a(540)),l=n(a(27)),d="tdv2-applet-stream";i.displayName="loadStreamComponents",e.exports=t.default},1385:function(e,t){if(void 0===a)var a={};a["caret-down"]={name:"caret-down",height:48,width:48,path:"M24.21 33.173l12.727-12.728c.78-.78.78-2.048 0-2.828-.78-.78-2.047-.78-2.828 0l-9.9 9.9-9.9-9.9c-.78-.78-2.047-.78-2.827 0-.78.78-.78 2.047 0 2.828L24.21 33.173z"},void 0!==e&&e.exports&&(e.exports=a["caret-down"])},1411:function(e,t,a){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};e.exports=a(4)({displayName:"VideoManagedPlayer",contextTypes:{executeAction:a(0).func.isRequired,getStore:a(0).func,renderTarget:a(0).object},propTypes:{className:a(0).string,context:a(0).object,enableLazy:a(0).bool,playerGroups:a(0).array,viewport:a(0).object,yvpConfig:a(0).object.isRequired},componentDidMount:function(){this.context.getStore(a(37)).addChangeListener(this._videoStoreChangeHandler)},shouldComponentUpdate:function(e,t){return!this.state.resetLazy&&!!t.resetLazy},fireInitAction:function(e,t,n,i){if(t){var o=this,s=o.context,r=o.getGroups();s&&s.executeAction&&s.executeAction(a(311),{groups:r,id:o.getModuleId(),player:t,customConfig:i})}},getDefaultProps:function(){return{className:"H(100%)",enableLazy:!0,playerGroups:[],viewport:{allIn:!0,bottomBoundary:null,margins:{usePercent:!1,bottom:0,top:0}}}},getGroups:function(){var e=this,t=e.context,a=t.renderTarget&&"render-target-"+t.renderTarget.id,n=e.props.playerGroups||[];return a&&n.push(a),e.props.enableLazy&&n.push("lazy-support-enabled"),n},getInitialState:function(){return{resetLazy:!1}},getModuleId:function(e){var t=this.moduleId;return t||(t=e||"VideoManaged-"+Date.now(),this.moduleId=t),t},render:function(){var e=this,t=e.props,i=e.getModuleId(t.playerKey);return a(1).createElement(a(518),n({},t,{onPlayerReady:e.fireInitAction,playerKey:i,playlist:[],resetLazyState:t.enableLazy&&this.state.resetLazy,vpConfigOverrides:t.yvpConfig}))},_videoStoreChangeHandler:function(){if(this.props.enableLazy){var e=this.props.context||this.context,t=e.getStore(a(37)),n=t.getDestroyedVideoPlayers(),i=this.getModuleId();if(n&&n[i]&&!this.state.resetLazy)return void this.setState({resetLazy:!0});this.state.resetLazy&&t.getVideoPlayer(i)&&this.setState({resetLazy:!1})}}})},1440:function(e,t,a){"use strict";function n(e,t){var a,n={};if(t.use_page_category&&(a=e.getPageCategory(),a&&(n.category=a),(a=e.getParentCategory())&&(n.parentCategory=a)),t.use_article_category&&(a=e.getArticleCategory())&&(n.category=a),t.use_page_subsite){var i=e.getPageSubsite();i&&(n.subsite=i)}return n}function i(e,t,n,i){var s=(0,a(5).get)(n,"type");if("ad"!==s&&"cm"!==s){var r,l=e.ui||{},d=l.stream_navparam_count||0;if(l.storyline_navparam_enabled){var u=(0,a(5).get)(n,"storyline");if(u)r=o(u,0,u.size);else if(d&&"ad"!==s&&"cm"!==s&&(r=o((0,a(5).get)(t,"stream_items"),i+1,d),r.length<d)){var c=d-r.length;r=r.concat(o((0,a(5).get)(t,"more_items"),0,c))}}return{itemI13n:{ccode:(0,a(5).get)(t,"ccode")||"",cpos:i+1,sec:e.i13n&&e.i13n.sec||"strm"},relatedUuids:r}}}function o(e,t,n){for(var i=[],o=e?e.count():0,s=t;i.length<n&&s<o;s++){var r=e.get(s),l=(0,a(5).get)(r,"type");"ad"!==l&&"cm"!==l&&i.push((0,a(5).get)(r,"id"))}return i}function s(e){var t=r(e);return t.ads.frequency=0,t}function r(e){var t=e&&e.batches&&e.batches.size||20;return{ads:{enableGeminiAdFeedback:!1,inline_video:!1},batches:{pagination:!1,total:t},pageload_image_count:2*t,pageload_item_count:-1,perf_beacon:!1,ui:{comments:!1,dispatch_content_store:!1,follow_cluster:!1,follow_content:!1,prerender:!1,share_buttons:{enable:!1},show_summary:!0},use_prefetch:!1,video:{use_inline_video:!1}}}function l(e){if(!e)return null;var t={ycts:[],wikiids:[]};return e.forEach(function(e){var n=(0,a(5).get)(e,"term"),i=n&&n.split(":");i&&i[0]&&("YCT"===i[0]?t.ycts.push(i[1]):"WIKIID"===i[0]&&t.wikiids.push(i[1]))}),t}function d(e){return-1===(e&&e.category||"").indexOf("YTOPIC")}Object.defineProperty(t,"__esModule",{value:!0}),t.getCategoryOverrides=n,t.getItemNavParams=i,t.getItemUuids=o,t.getFailsafeConfigs=s,t.getLightWeightConfigs=r,t.getYctWikiids=l,t.shouldUseSlingstoneLcp=d},1441:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n=e.config||{},i=n.ui||{},d=i.view,u="headlines"===d,c=n.ads||{},f=e.data.get("adChoicesUrl")||c.adchoices_url,p=u?"#959595":e.sponsoredColor.split(/\(([^)]+)\)/)[1],m=e.data.get("isPromoAd"),g=e.sponsorContainerClass,h={elm:"icon",outcm:"sponsor"},_={elm:"itm",outcm:"advertiser"},v={elm:"icon",outcm:"info"};c.sponsored_label_support&&(t=e.data.get("sponsoredByLabel")),t||(t=e.intl.formatMessage({id:"SPONSORED"}));var b,y=u?"C(#959595)":e.sponsoredColor,x="tiles"!==(0,s.default)(n,["ui","view"]),S=(0,o.default)("Mend(6px)",y,{"Td(n)":x,"Fz(11px) Pos(r) Td(n)":u}),C=(0,o.default)(e.publisherColor,{"Td(n)":x,"Whs(nw) Mend(6px) Lh(1.6)":!u,"Fz(12px) Ell D(b)":u});return!x&&!e.sponsored_only||e.publisher_only||m||(b=r.default.createElement("span",{className:g},r.default.createElement(a(21).I13nAnchor,{className:S,href:c.sponsored_url,i13nModel:h,rel:"noopener noreferrer",target:"_blank"},t),r.default.createElement(a(21).I13nAnchor,{href:f,i13nModel:v,target:"_blank",rel:"noopener noreferrer"},r.default.createElement("i",{className:"Pos(r) T(3px)"},r.default.createElement(a(26).Icon,{asset:l.default,color:p,height:15,style:{verticalAlign:"baseline"}})))),!e.sponsored_only)?r.default.createElement("div",{className:e.className},r.default.createElement(a(1176).Controls.Publisher,{className:C,data:e.data,i13nModel:_,rel:"noopener noreferrer",target:"_blank"}),b):b}Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(6)),s=n(a(2)),r=(n(a(0)),n(a(1))),l=n(a(502));i.displayName="AdAttribution",i.defaultProps={className:"Fz(13px) Pos(r) Z(2) Ell",publisherColor:"C(#959595)",sponsoredColor:"C($c-fuji-grey-e)"},t.default=i,e.exports=t.default},1486:function(e,t){if(void 0===a)var a={};a["dislike-heart"]={name:"dislike-heart",height:14,width:16,path:"M1.253 3.196l9.054 9.053L8 14.666 1.774 8.142c-1.276-1.34-1.45-3.408-.52-4.946zm.874-1.01c.672-.553 1.494-.853 2.363-.853 2.125 0 3.117 1.694 3.51 2.016.406-.332 1.375-2.017 3.51-2.017 1.028 0 1.994.42 2.717 1.18 1.475 1.552 1.475 4.077 0 5.628l-3 3.144-9.1-9.1z"},void 0!==e&&e.exports&&(e.exports=a["dislike-heart"])},1544:function(e,t,a){"use strict";var n=/<[A-Za-z]+.*?(\/>|>.*?<\/[A-Za-z]+>)|javascript:/g,i="undefined"!=typeof navigator?navigator.userAgent.toLowerCase().replace(n,""):"",o="undefined"!=typeof window?window:{},s=function(e){if(null===e)return!1;var t=e[1];return parseFloat(t.replace("_",".").split(".",2).join("."))||1},r=function(e){for(var t=o&&o.location&&o.location.search&&o.location.search.substring(1)||"",a=t.split("&"),n=0;n<a.length;n++){var i=a[n].split("=");if(decodeURIComponent(i[0])===e)return decodeURIComponent(i[1])}return null};if(t.ua=i,t.chromium=s(/chromium\/([^\s]*)/.exec(i)),t.edge=s(/edge\/([^\s]*)/.exec(i)),t.opera=/opr\/|opera\//.test(i),t.chrome=!t.chromium&&!t.edge&&!t.opera&&(s(/chrome\/([^\s]*)/.exec(i))||s(/crios\/([^\s]*)/.exec(i))),t.ie=s(/msie ([^;]*)/.exec(i))||s(/trident.*; rv:([0-9.]+)/.exec(i)),t.firefox=!t.ie&&s(/firefox\/([^\s]*)/.exec(i)),t.android=/android/.test(i),t.androidTablet=t.android&&!/mobile/.test(i),t.htc_one=/htc_one/.test(i),t.vizio=/Vizio/i.test(i)||"vizio"===r("man"),t.tivo=/TiVo/i.test(i),t.fios=/Verizon_STB|\(Verizon.*VMS1100|\(Verizon.*IPC1100|\(Verizon.*IPC3200/i.test(i),t.firetv=t.android&&/amazonwebappplatform/.test(i)&&/aft/.test(i),t.lg=/web0s/.test(i),t.tizen=/tizen/.test(i),t.orsay=/smarttv/.test(i)&&!t.tizen&&!t.lg,t.samsung=t.orsay||t.tizen,t.sony=/(sony)/.test(i),t.ps4=/(playstation 4)/.test(i),t.ios=/(ipad|iphone|ipod)/.test(i),t.iphone=/(iphone|ipod)/.test(i)&&!/ipad/.test(i),t.ipad=t.ios&&!t.iphone,t.androidBrowser=!t.chrome&&/android/.test(i),t.androidVersion=s(/android\s([0-9.]*)/.exec(i)),t.safari=!t.chrome&&!t.chromium&&!t.android&&/safari\/([^\s]*)/.test(i)&&s(/version\/([^\s]*)/.exec(i)),t.iosWebView=t.ios&&!navigator.standalone&&!t.safari,t.iosVersion=t.ios&&s(/\bos ((\d+_?){2,3})\s/.exec(i)),t.mobile=t.ios||t.android&&!t.firetv,t.safariDesktop=!t.mobile&&t.safari,t.tv=t.vizio||t.tivo||t.firetv||t.samsung||t.sony||t.ps4||t.lg||t.fios,t.desktop=!t.mobile&&!t.tv,t.phantomJS=o.window&&o.window._phantom,t.tv)if(t.vizio)t.os="vizio",t.model=r("class")||r("soc");else if(t.tivo)t.os="tivo",/tcd849/.test(i)?(t.model="series6",t.version="tcd849"):/tcd8d9/.test(i)?(t.model="series6",t.version="tcd8d9"):/tcd8f9/.test(i)?(t.model="series6",t.version="tcd8f9"):/tcd8/.test(i)?(t.model="series5",t.version="tcd8"):/tcdd/.test(i)?(t.model="series5",t.version="tcdd"):t.model="series4";else if(t.firetv)t.os="firetv",t.model=/aftb/.test(i)?"aftb":/afts/.test(i)?"afts":(/aftm/.test(i),"aftm");else if(t.lg)t.os="lg",t.model="lg";else if(t.samsung){t.os="samsung";var l=void 0!==l?l:window.tizen;l&&l.systeminfo?(t.model="tizen",t.version=l.systeminfo.getCapability("http://tizen.org/feature/platform.version")):t.model="orsay"}else t.sony?(t.os="sony",t.model=/bdp/.test(i)?"bdp":"tv"):t.ps4?(t.os="ps4",t.model="4"):t.os=t.fios?"fios":null;else t.ios?t.os="ios":t.android?t.os="android":/windows|win32/.test(i)?(t.os="windows",t.winXP=/(windows nt 5\.[1-3])/.test(i),t.winVista=/(windows nt 6\.0)/.test(i),t.win7=/(windows nt 6\.1)/.test(i),t.win8=/(windows nt 6\.2)/.test(i),t.win8_1=/(windows nt 6\.3)/.test(i),t.win10=/(windows nt 10\.0)/.test(i),t.win64=/(wow64|win64)/.test(i)):t.os=/macintosh|mac_powerpc/.test(i)?"macintosh":/symbos/.test(i)?"symbos":/linux/.test(i)?"linux":null},1545:function(e,t,a){"use strict";function n(e,t,n){var i=e.getStore(a(1337)),o=i.getConnectionType();return o?n(null,{type:o}):(o=a(1360).getConnectionType())?(e.dispatch("SET_USER_CONNECTION",{type:o}),n(null,{type:o})):i.isUserConnectionChecksEnabled()?(i.disableUserConnectionChecks(),void e.service.read("UserConnectionService.read",{},{},function(t,a){var i={type:t?"err":a&&a.speed||"unknown"};e.dispatch("SET_USER_CONNECTION",i),n(null,i)})):n&&n()}e.exports=n},1546:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e&&e.get("type");return"ad"===t||"cm"===t}function o(e,t,a){return e.withMutations(function(n){var i=t?t.get("cpos"):0,o=t?t.get("cposy"):0;i&&(n.set("beacon",e.get("beacon").replace("$(AD_POSN)",i)),n.setIn(["i13n","cpos"],i),n.setIn(["i13n","cposy"],o),n.setIn(["i13n","bpos"],t.get("bpos"))),a&&n.set("_component",a)})}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n(a(98)),d=n(a(3)),u=n(a(2)),c=n(a(10)),f=n(a(195)),p=(0,d.default)("StreamStore"),m="streams",g={CUSTOM:!0,LISTID:!0,MAGTOPICTAG:!0,WIKIID:!0,YCT:!0,YFINANCE:!0,YMAG:!0,YMEDIA:!0,YPROP:!0,YTOPIC:!0,YUMBLR:!0};t.default=(0,a(199).createImmutableStore)({storeName:"StreamStore",statics:{handlers:{NEW_PAGE_START:"newPageStart",STREAM_ADS:"updateAds",STREAM_ADS_FAILURE:"updateAdsFailure",STREAM_FETCH:"appendStream",STREAM_FETCH_ERROR:"batchError",STREAM_LOAD:"populateStream",STREAM_LOAD_CACHE:"loadCachedStream",STREAM_UPDATE_ADS_CONFIG:"setAdsConfig",STREAM_UPDATE_CATEGORY:"setPageCategory",STREAM_UPDATE_RELATED:"updateRelatedData",STREAM_UPDATE_RELATED_AD:"updateRelatedDataAds",STREAM_UPDATE_SECTIONID:"setSectionId",STREAM_UPDATE_UUID:"setPageUuid",UPDATE_STREAM_HERO_CATEGORY:"setHeroCategory",USERINTENT_CHANGE:"handleUserintentChange"}},initialize:function(){this._state=c.default.Map()},setConfig:function(e){p("setConfig",e),e&&!this._state.has("config")&&(this._state=this._state.set("config",c.default.fromJS(e)),this._restoreFromLocalStorage())},getInstance:function(e,t){return void 0===t&&console.warn("StreamStore.getInstance requires two parameters: instanceId and category."),this._state.getIn(this._getInstancePath(e,t,this.dispatcher.getStore(l.default).getConfig(e)))||c.default.fromJS({data:{}})},getSnippetIds:function(e,t){var a=this,n=a.getInstance(e,t),o=n.getIn(["data","stream_items"])||c.default.List(),s={},r={};return o.forEach(function(e){var t,n=e.get("id");n&&(i(e)?s[n]=!0:(r[n]=!0,t=e.get("storyline")||c.default.List(),t=t.concat(a.getRelatedItemsByUuid(n)||c.default.List()),t.size&&t.forEach(function(e){var t=e.get("id");i(e)?s[t]=!0:r[t]=!0})))}),{adIds:Object.keys(s),uuids:Object.keys(r)}},removeInstance:function(e,t){if(void 0!==t){this.setState(this._state.removeIn(this._getInstancePath(e,t,this.dispatcher.getStore(l.default).getConfig(e))),null,{id:e})}else console.warn("StreamStore.removeInstance requires two parameters: instanceId and category.")},newPageStart:function(e){var t=this,a=this._state.getIn([m])||c.default.Map(),n=this._state;a.forEach(function(e,a){var i=e.get("clear_on_navigate"),o=(e.getIn(["data","stream_items"])||c.default.List()).size;i&&o>0&&(n=t._state.setIn([m,a],c.default.fromJS({data:{category:e.getIn(["data","category"]),components:[],stream_items:[]}})))}),n!==t._state&&t.setState(n,null,{type:"STREAM_RESET"})},populateStream:function(e){p("populateStream",e);var t=e.data||{},a=t.category||"",n=e.id,i=1;try{if(n&&t.stream_items){var o={bpos:1,data:t,ts:+new Date/1e3};t.stream_items.forEach(function(e,t){e.i13n=Object.assign({},e.i13n,{bpos:1,cpos:t+1,cposy:i}),i++,e.storyline&&e.storyline.forEach(function(e){e.cposy=i,i++})}),o.cposy=i;var s=this.dispatcher.getStore(l.default).getConfig(n);s&&s.clear_on_navigate&&(o.clear_on_navigate=s.clear_on_navigate);this.setState(this._state.setIn(this._getInstancePath(n,a,s),c.default.fromJS(o)),null,{type:"STREAM_INIT",id:n,category:a})}}catch(e){console.log(e)}},loadCachedStream:function(e){p("loadCachedStream",e);var t=e.id,a=e.category;this.setState(this._state.setIn(this._getInstancePath(t,a,this.dispatcher.getStore(l.default).getConfig(t)).concat("fromLS"),!1),null,{type:"STREAM_INIT",id:t,cached:!0,category:a,fromLS:e.fromLS})},isCacheable:function(e){return!!e&&!(!e.cache_ttl||e.use_content_id)},appendStream:function(e){if(p("appendStream",e),e&&e.id){var t=e.data||{},a=e.id,n=this.dispatcher.getStore(l.default).getConfig(a);try{var i=t.category||"",o=this._getInstancePath(a,i,n),s=this._getDataPath(a,i,n),r=this._state.getIn(s);if(r){var d=e.batchSize,u=this._state.getIn(o.concat("bpos")),f=this._state.getIn(o.concat("cposy")),m=r.get("stream_items").size,g=t.stream_items||[],h=g.map(function(e,t){return e.i13n=e.i13n||{},e.i13n.bpos=u+1,e.i13n.cpos=m+t+1,e.i13n.cposy=f++,e.storyline&&e.storyline.forEach(function(e){e.cposy=f++}),e}),_=c.default.fromJS(t.components||[]),v=c.default.fromJS(t.more_items||[]),b=c.default.fromJS(h);this.setState(this._state.mergeIn(o,{data:r.withMutations(function(e){e.set("more_items",e.get("more_items").concat(v).splice(0,d)),e.set("stream_items",e.get("stream_items").concat(b)),e.set("components",e.get("components").concat(_))}),bpos:u+1,cposy:f}),null,{type:"STREAM_BATCH",id:a})}}catch(e){console.log(e)}}},batchError:function(e){if(e){var t=e.data||{},a=e.id,n=this.dispatcher.getStore(l.default).getConfig(a);if(a&&n){var i=t.category||"",o=this._getInstancePath(a,i,n),s=this._getDataPath(a,i,n),r=this._state.getIn(s);if(r&&o){var d=e.batchSize,u=this._state.getIn(o.concat("bpos"));this.setState(this._state.mergeIn(o,{data:r.withMutations(function(e){e.set("more_items",e.get("more_items").slice(d))}),bpos:u+1}),null,{type:"STREAM_BATCH",id:a})}}}},updateAds:function(e){if(p("updateAds",e),e){var t=c.default.fromJS(e.data||{}),a=t.get("stream_ads")||c.default.List(),n=t.get("components"),s=e.id,r=e.category,d=this.dispatcher.getStore(l.default).getConfig(s);try{if(s){var u=this._getDataPath(s,r,d),f=this._state.getIn(u);if(f){var m=0,g=a.size;if(g){this.setState(this._state.setIn(u,f.withMutations(function(e){var t=e.get("stream_items");t.forEach(function(t,s){i(t)&&m<g&&(e.setIn(["stream_items",s],o(a.get(m),t.get("i13n"))),e.setIn(["components",s],n.get(m)),m++)}),t=e.get("more_items")||c.default.List(),t.forEach(function(t,s){if(i(t)&&m<g){var r=o(a.get(m),null,n.get(m));e.setIn(["more_items",s],r),m++}})})),null,{type:"STREAM_ADS",id:s})}}}}catch(e){console.log(e)}}},updateAdsFailure:function(e){p("updateAdsFailure",e)},updateRelatedData:function(e){p("updateRelatedData",e);var t=this;e&&e.items&&e.items.length&&t.setState(t._state.withMutations(function(t){e.items.forEach(function(e){t.setIn(["relatedData",e.uuid],c.default.fromJS(e.relatedItems))})}),null,{type:"STREAM_RELATED",id:e.id})},getRelatedItemsByUuid:function(e){return this._state.getIn(["relatedData",e])},updateRelatedDataAds:function(e){p("updateRelatedDataAds",e),e&&e.ads&&this.setState(this._state.set("relatedDataAds",e.ads),null,{type:"STREAM_RELATED_AD",id:e.id})},getRelatedItemsAd:function(){return this._state.get("relatedDataAds")},isStreamItem:function(e,t,a){return(this.getInstance(e,t).getIn(["data","stream_items"])||c.default.List()).some(function(e){var t=e.get("id");return t&&t===a})},handleUserintentChange:function(e){e&&this.setState(this._state.set("userIntentData",e),null,r({type:"USERINTENT_CHANGE"},e))},setHeroCategory:function(e){p("setHeroCategory",e),this.setState(this._state.set("heroCategory",e&&e.category||""),null,{type:"STREAM_HERO_CATEGORY"})},getHeroCategory:function(){return this._state.get("heroCategory")||""},setAdsConfig:function(e){p("setAdsConfig",e),this.setState(this._state.merge({adsFrequency:e.frequency}),null,{type:"STREAM_ADS_CONFIG"})},getAdsFrequency:function(){return this._state.get("adsFrequency")},setPageCategory:function(e){p("setPageCategory",e),"object"!==(void 0===e?"undefined":s(e))&&(e={category:e});var t=e.category||"",a=e.parentCategory,n=e.articleCategory||{term:"",label:""},i=t.split(":")[0],o={articleCategory:n};""===i||g[i]?void 0!==e.category&&(o.pageCategory=t,o.fallbackCategory=e.fallbackCategory||t,o.parentCategory=a,o.pageSubsite=e.subsite||""):console.warn("StreamStore.setPageCategory received an invalid category: "+t),this.setState(this._state.merge(o),null,{type:"STREAM_PAGE_CATEGORY"})},getPageCategory:function(){return this._state.get("pageCategory")},getFallbackCategory:function(){return this._state.get("fallbackCategory")},getPageSubsite:function(){return this._state.get("pageSubsite")},getParentCategory:function(){return this._state.get("parentCategory")},getArticleCategory:function(){return this._state.getIn(["articleCategory","term"])},getArticleCategoryLabel:function(){return this._state.getIn(["articleCategory","label"])},setSectionId:function(e){p("setSectionId",e);var t=void 0===e?"undefined":s(e);if("undefined"!==t){this.setState(this._state.set("sectionIds","object"===t?e:{stream:e}))}},setPageUuid:function(e){if(p("setPageUuid",e),void 0!==e){this.setState(this._state.set("pageUuid",e),null,{type:"STREAM_UPDATE_UUID",uuid:e});var t=this.getLocalStorage();if(t){t.setItemIn("strm-read",[e],((new Date).getTime()+1728e5).toString()),this.purgeOldReadsPeriodically();var a=this._state.getIn(["config","ls_delay"]);a&&setTimeout(this._saveToLocalStorage.bind(this),a)}}},getPageUuid:function(){return this._state.get("pageUuid")},getSectionId:function(e){var t=this._state.get("sectionIds")||{};return e&&t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("stream")?t.stream:""},getLocalStorage:function(){var e=this.getContext();return e?e.localStorage||null:null},_saveToLocalStorage:function(){p("saveToLocalStorage");var e=this,t=e.getLocalStorage();if(t){var a=e._state.getIn(["config","ls_ttl"]);if(!a)return p("Clearing out stream local storage"),void t.setItem("strm",null);var n={streams:{}},i=+new Date,o=i/1e3,s=t.getItem("strm"),r=e._state.get(m)||c.default.Map(),l=!1;r.forEach(function(e,t){var i=(e.getIn(["data","stream_items"])||c.default.List()).size,r=e.get("ts"),d=r<o-a;if(i>0&&-1!==t.indexOf(".c")&&!d){var f=(0,u.default)(s,[m,t]);!f||f.ts!==r||f.data.stream_items.length<i?(n[m][t]=e.toJS(),l=!0):n[m][t]=f}}),l&&(t.setItem("strm",n),p("Saving stream data to local storage took "+(new Date-i)+" ms",n))}},_restoreFromLocalStorage:function(){var e=this,t=e._state.getIn(["config","ls_delay"]);t&&!e._restoredFromLocalStorage&&(p("restoreFromLocalStorage"),e._restoredFromLocalStorage=!0,setTimeout(function(){var t=e.getLocalStorage();if(t){var a,n=t.getItem("strm"),i=+new Date/1e3,o=e._state.getIn(["config","ls_ttl"]);n&&n[m]&&o&&Object.keys(n[m]).forEach(function(t){var s=n[m][t].ts<i-o;e._state.hasIn([m,t])||s||(a=(0,f.default)(a||{},[t],n[m][t]),a[t].fromLS=!0)}),a&&(p("read stream data from local storage",a),e._state=e._state.mergeIn([m],a))}},t))},purgeOldReadsPeriodically:function(){var e,t=this.getLocalStorage();if(t){var a=(new Date).getTime(),n=t.getItem("strm-read")||{};if(!isNaN(n.nextPurge)&&parseInt(n.nextPurge)>a)return;n.nextPurge=a+1728e5;for(var i in n)n.hasOwnProperty(i)&&(e=n[i],(isNaN(e)||a>parseInt(e))&&delete n[i]);t.setItem("strm-read",n),p("purged read items from local storage",n)}},rehydrate:function(e){p("rehydrate",e);var t=+new Date/1e3;e&&e[m]&&Object.keys(e[m]).forEach(function(a){e[m][a].ts=t}),this._state=c.default.fromJS(e),this._restoreFromLocalStorage()},_getInstancePath:function(e,t,a){var n=(0,u.default)(a,["ui","view"]),i=[].concat(t||[],n||[],this.isCacheable(a)?"c":[]);return[m,i.join(".")]},_getDataPath:function(e,t,a){return this._getInstancePath(e,t,a).concat("data")}}),e.exports=t.default},1547:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){var n="undefined"==typeof window;t=t||{};var i=t.uuids||[],d=e.getStore("FollowContentStore"),u=e.session&&e.session.dimensions?e.session.dimensions.authed:"0";if(e.executeAction(s.default),n)e.logger.warn("fetchContentState should not be used from server-side"),a&&a();else if(i.length)if("1"!==u)a&&a();else{var c=d.getContentStateMap()||o.default.Map(),f=[],p=e.getStore(r.default),m=p.getGUID();if(i.forEach(function(e){void 0===c.get(e)&&f.push(e)}),f.length>20&&(e.logger.warn("fetchContentState accepts a max of 20 uuids at a time. Only fetching first 20 uuids supplied"),f=f.slice(0,20)),f.length){var g=e.localStorage;if(g){var h=g.getItem(l)||{};h[m]&&e.dispatch("SET_CONTENT_FOLLOW_STATE",{action:"fetch",uuids:f,followedContent:Object.keys(h[m])})}a&&a()}else a&&a()}else e.logger.warn("fetchContentState did not recieve any uuids"),a&&a()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(10)),s=n(a(1717)),r=n(a(81)),l="followed-content-signedin";i.displayName="fetchContentState",t.default=i,e.exports=t.default},1548:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a,n){var i=e.session,o=f.default.format({host:i.host,pathname:"/"+t+"/tagged/"+a,protocol:i.protocol,query:i.query});e.executeAction(u.default,{code:301,redirect:{url:o}},n)}function o(e,t){var a=p.default.getEntriesByName("NAVIGATE_START"),n=p.default.getEntriesByName(e+"_LOAD_STREAM"),i=p.default.getEntriesByName(e+"_LOAD_STREAM_RESP"),o=p.default.getEntriesByName(e+"_DISPATCH_STREAM_LOAD");t.beacon("perf","td-app-yahoo",{code:"stream_latency",time:Math.round(o[o.length-1].startTime-a[a.length-1].startTime),label:e,loadStream:Math.round(n[n.length-1].startTime-a[a.length-1].startTime),loadStreamResponse:Math.round(i[i.length-1].startTime-n[n.length-1].startTime),dataDispatch:Math.round(o[o.length-1].startTime-i[i.length-1].startTime)})}function s(e,t,a){function n(t){if(t)return void(a&&a(t));if(u.use_pagetags_info&&r.pagetags_info){var n=r.pagetags_info;if("REDIRECT"===n.alias_type&&n.primary_tag_info_tag){var d=e.getStore("RouteStore").getCurrentRoute()||{},c=(0,l.default)(d,["params","contentSite"])||d.contentSite;if(c)return void i(e,c,n.primary_tag_info_tag,a)}e.dispatch("UPDATE_NAV_SECTIONS",n)}"undefined"!=typeof window&&u.perf_beacon&&u.perf_label&&window.performance&&(p.default.mark(u.perf_label+"_DISPATCH_STREAM_LOAD"),o(u.perf_label,e)),e.dispatch("STREAM_LOAD",{data:r,id:s}),a&&a(null)}var s=t.instanceId,r=t.data;if(m("processing stream data:",s,r),!r)return void(a&&a());var u=t.componentConfig||{},f={componentConfig:u,components:r.components};if(u.use_page_category&&t.isFallbackData){var g=e.getStore("StreamStore").getPageCategory();g&&(r.category=g)}(0,c.default)(e,r),(0,d.default)(e,f,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(a(3)),l=n(a(2)),d=n(a(1375)),u=n(a(514)),c=n(a(1549)),f=n(a(30)),p=n(a(9)),m=(0,r.default)("Stream:processStreamAction");s.displayName="processStream",e.exports=t.default},1549:function(e,t,a){"use strict";function n(e,t){var a=e.getStore("I13nStore");if(t&&a){if(-1===(t.category||"").indexOf("SIDEKICK")&&"row"!==t.view){var n=a.runtimeConfig;(0,i.default)(n,["rapid","keys","ccode_st"],t.ccode),e.dispatch("UPDATE_I13N_CONFIG",n)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=function(e){return e&&e.__esModule?e:{default:e}}(a(195));e.exports=t.default},1550:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n,i,l,d=e.config||{},u=e.data||{},c=e.userAgent,f=d.promoAds||{},p=d.ui&&"headlines"===d.ui.view,m=p?12:14,g=e.intl||{},h=u.get("ratingsNum")||5,_=u.get("appReviews"),v=u.get("cpi"),b=[],y=h%1;for(l=1;l<=h;l++)b.push(o.default.createElement(a(26).Icon,{key:l,className:"Pos(r) T(3px) Mend(1px) Fl(start)",asset:s.default,color:"#ffc208",height:m}));return y&&b.push(o.default.createElement("span",{className:(0,r.default)("Pos(r) Mend(1px) Fl(start) Ov(h)",{"T(-1px) W(6px)":p},{"T(1px) W(7px)":!p})},o.default.createElement(a(26).Icon,{key:l,asset:s.default,color:"#ffc208",height:m}))),t=o.default.createElement("div",{className:"C(#ffc208) Pos(r) Fl(start) Mt(5px) H(100%)","aria-label":g.formatMessage({id:"PROMO_ARIA_RATINGS"},{ratings:h})},b),_&&(n=o.default.createElement("div",{className:(0,r.default)("C(#959595) Pos(r) Mt(5px) Fl(start) D(n)--maw370",{"Fz(12px) Mstart(2px)":p},{"Fz(14px) Mstart(10px)":!p})},"(",g.formatNumber(_),")")),v&&(i=o.default.createElement("button",{className:(0,r.default)("D(b) Va(t) Bdrs(2px) Py(6px) Ta(c) Fz(14px) Mstart(5px) P(8px) Fl(end)",{"C(#298cda) Bdc(#298cda) Bdw(2px) Bds(s)":"ios"===c},{"C(#fff) Bgc(#689f38)":"android"===c},{"C(#fff) Bgc(#188fdc)":!c})},f.cta||g.formatMessage({id:"CALL_TO_ACTION"}))),o.default.createElement("div",{className:"H(30px)"},t,n,i)}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(a(0)),n(a(1))),s=n(a(1727)),r=n(a(6));t.default=i,e.exports=t.default},1551:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(97)),o=n(a(2)),s=n(a(10)),r=n(a(305)),l=n(a(1728)),d=n(a(0)),u=n(a(1)),c=n(a(11)),f=n(a(1411)),p=n(a(533)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1729)),g=n(a(27));t.default={contextTypes:{beacon:d.default.func,session:d.default.object},isVideoplayer:function(e){return e=e||this.state,e.videoPlayer},componentDidMount:function(){var e=this.props.data,t=e.get("isVideo"),a=c.default.findDOMNode(this),n=a.getBoundingClientRect(),i=e.getIn(["video_ad_assets","mediaInfo","xml"]),s=this._isFlashInstalled((0,o.default)(this.context,["session","userAgent"],{})),r=n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth),l=this.state.supportsVideoAutoplay;!t||i&&!s||this.setState({autoplay:r&&l,videoPlayer:l})},componentWillReceiveProps:function(e){var t=e.data||s.default.Map(),a=!!t.get("isVideo");a!==this.state.videoPlayer&&this.setState({videoPlayer:a})},handlePlaybackComplete:function(e){this.fireBeacon("VIDEO_QUARTILE_100"),this.props.config.ads.enableEndCard&&this.setState({endCard:!0})},handlePlaybackStart:function(e){this.fireBeacon("VIDEO_START")},handleAdPlaybackStart:function(e){this.props.config.ads.enableEndCard&&this.setState({endCard:!1})},handlePlaybackUpdate:function(e,t,a){t>((this.props.config.ads||{}).videoViewBeaconTime||3)&&this.fireBeacon("VIDEO_VIEW"),t>30&&this.fireBeacon("VIDEO_30_SEC"),t>.25*a&&this.fireBeacon("VIDEO_QUARTILE_25"),t>.5*a&&this.fireBeacon("VIDEO_QUARTILE_50"),t>.75*a&&this.fireBeacon("VIDEO_QUARTILE_75")},handlePlayerReady:function(e,t){this.refs.videoplayer.enableViewportDetection()},fireBeacon:function(e){if(!this.props.config.ads.videoBeaconDisabled&&!this.state.firedBeacons[e]){var t=this.state.firedBeacons,a=new i.default,n=this.props.data.getIn(["video_ad_beacons",e]);n&&(a.image(n),t[e]=!0,this.setState({firedBeacons:t}))}},_isFlashInstalled:function(e){var t=(0,o.default)(e,["browserName"],"");return(0,l.default)("ie"===t)},buildVideoPlayer:function(e){var t=this.props.config.ads||{},a=e.getIn(["video_ad_assets","mediaInfo","url"]),n=e.getIn(["video_ad_assets","mediaInfo","xml"]),i=e.getIn(["image","url"]),s=(0,o.default)(this.context,["session","dimensions"],{}),l=t.videoExpName||"y20stream",d=t.videoExpType||"strm-inline",c=t.videoSec||"strm",h=this.getStore("PageStore").getSpaceid(),_=m.formatVideoBeacons(this.props.data.get("video_ad_beacons")),v=m.convertImmutableToJSRecur(this.props.data.get("video_ad_assets")),b=m.convertImmutableToJSRecur(this.props.data.get("video_ad_rules")),y=(0,r.default)((0,o.default)(this.context,["session"])),x=(0,o.default)(this.props,["config","content_site"],s.site),S={},C=null,M=t.vpaidTimeout||5,w={conviva:!1,disableCasting:!0,fullscreenBtn:!0,pausescreen:!1,sec:c,settingscreen:!1,startscreen:{showButton:0,showDesc:!1,showProvider:!1,showTitle:!1},unMuteOnClick:!0};if(v&&Array.isArray(v.mediaInfo))for(var E=0;E<v.mediaInfo.length;E++){var I=v.mediaInfo[E];"video/mp4"===I.contentType&&I.url&&(a=I.url),I.xml&&(n=I.xml)}a?t.videoBeaconDisabled?(v.mediaInfo=[].concat(v.mediaInfo),S={mediaItems:[{id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:i}}]},v.clickUrl=e.get("link"),C={standaloneAd:{gemini:v,rules:b,beacons:_}}):S={mediaItems:[{streams:[{url:a}],images:{thumbnail:i}}]}:n&&(l="GeminiBRX",C={standaloneAd:{beacons:_,xml:n},vpaidTimeout:M},S={mediaItems:[{id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:i}}]});var P={autoplay:this.state.autoplay,CMS:{env:"prod",suppressAdContext:!0},comscoreC4:s.region+" "+s.site,continuousPlay:!1,conviva:!1,disableCasting:!0,docking:{},expBucket:s.bucket,expName:l,expType:d,fullscreenBtn:!0,lang:s.lang,loop:!1,mute:!0,pageSpaceId:h,pausescreen:0,playlist:S,preload:!0,region:s.region,replayonlyendscreen:!1,stopBufferingOnPause:!0,sec:c,settingscreen:!1,site:"fp"===x?"frontpage":x,startscreen:{showButton:0,showDesc:!1,showProvider:!1,showTitle:!1}};return C&&(P.YVAP=C,w.YVAP=C),t.videoAdCCOnMute&&a&&(P.ccOnMute=!0,P.html5=!0),t.enableVideoManagerGemini?(w.playlist=S,P=(0,g.default)({},P,w),u.default.createElement(f.default,{enableSharedMediaStore:!1,onAdPlaybackStart:this.handleAdPlaybackStart,onPlaybackComplete:this.handlePlaybackComplete,onPlaybackStart:this.handlePlaybackStart,onPlaybackUpdate:this.handlePlaybackUpdate,vpClassName:"H(0) Pb(56.25%)",yvpConfig:P})):u.default.createElement(p.default,{addViewportHandler:!0,height:null,onPlaybackComplete:this.handlePlaybackComplete,onPlaybackStart:this.handlePlaybackStart,onAdPlaybackStart:this.handleAdPlaybackStart,onPlaybackUpdate:this.handlePlaybackUpdate,onPlayerReady:this.handlePlayerReady,playerJs:y,ref:"videoplayer",width:null,className:"Pb(56.25%)",yvpConfig:P})}},e.exports=t.default},1588:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n,i,u,c=e.includeBreakPoints,f=e.storyline||o.default.List(),p=f.count(),m=e.storylineIds||o.default.List(),g=!d.isLazyLoad(e),h=e.config.ui||{},_=h.show_read,v=e.isAd||!1;if((h.storyline_min||1)>p)return null;var b=(0,l.default)("Td(n) D(ib) Va(t) W(90%) Mend(10%) C(#0078ff)!:h",e.titleClassName,{"C(#959595):vi":_}),y=f.map(function(f,h){var _=f.get("id"),y=f.get("link")||"";if(v)n=f.get("image"),i=e.i13nModel;else{var x=f.get("images")||o.default.Map();n=x.get("img:72x72")||x.get("small_fixed")||x.get("square"),i=d.getBaseI13n(f,n,h,!0),u={relatedUuids:d.filterStoryId(m,_),url:f.get("url")}}t=Object.assign({},i,{elm:"rhdln",pos:h+2});var S,C={className:b,followLink:d.shouldFollowLink(f,e.config),href:y,i13nModel:t,navParams:u};if(v&&(C.target="_blank",C.rel="noopener noreferrer"),n){var M=(0,l.default)("Fl(start) W(29%) Miw(65px) Maw(72px) Mend(10px) Trsdu(0s)!",{"D(n)--sm1024":c},e.imageClassName);S=r.default.createElement(a(80).Img,{url:n.get("url"),checkPosition:!1,className:M,forceLoad:g,alt:f.get("title")})}return r.default.createElement("li",{className:(0,l.default)("Fl(start) W(50%)",{"W(100%)--sm1024":c,"Mb(8px)--sm1024":c&&h<p-1}),key:h},r.default.createElement(s.default,C,S,r.default.createElement("div",{className:"Ov(h)"},r.default.createElement("div",{className:(0,l.default)("Lh(15px) Fw(b) LineClamp(3,45px)",{"D(i)--sm1024 Pend(10px)--sm1024":c})},f.get("title")),r.default.createElement("div",{className:(0,l.default)("C(#959595) Fz(11px) Mt(2px) Va(b)",{"D(ib)--sm1024":c})},f.get("publisher")))))});return r.default.createElement("ul",{className:(0,l.default)(e.className,{"Mt(8px)--sm1024":c})},y)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(10)),s=n(a(294)),r=(n(a(0)),n(a(1))),l=n(a(6)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1318));i.displayName="StorylineList",i.defaultProps={className:"Cf Mt(12px) Fz(12px) Pos(r)",includeBreakPoints:!1,titleClassName:"C(#000)"},t.default=i,e.exports=t.default},1589:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=n(a(1)),d=(n(a(0)),n(a(504))),u=n(a(1486)),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),r(t,[{key:"handleClickOutside",value:function(e){var t=this.props,a=t.showPanel,n=t.hidePanelAction;a&&n()}},{key:"render",value:function(){var e=this.props,t=e.uuid,n=e.intl,i=e.isMuted,o=e.publisher,s=e.userPreferenceAction,r=i?"#ff6368":"#ccc",d=(i?n.formatMessage({id:"UNDO"}):"")+" "+n.formatMessage({id:"SHOW_LESS_OF"},{publisher:o});return l.default.createElement("div",{className:"userintent-panel Pos(a) T(-15px) End(30px) Px(8px) Py(12px) W(210px) Mih(30px) Ov(h) Bgc(#fff) Bdrs(2px) Bxsh(userintentBoxshadow)",key:"userintent-panel-"+t},l.default.createElement(a(1314).I13nButton,{onClick:s,i13nModel:(0,a(1314).getI13nModel)("panelClick",{slk:o,elm:i?"undo":"mute"}),role:"button",className:"Pos(r) P(0) D(b) Bdw(0) Ta(start) Fz(15px) O(n):f C(#000)"},l.default.createElement(a(26).Icon,{className:"Fl(start) Mend(10px) Mb(22px) Cur(p)",asset:u.default,color:r,height:22,width:22}),d,l.default.createElement("div",{className:"Fz(11px) C(gray-light) Fw(200) Pt(5px)"},n.formatMessage({id:"SEE_LESS_OF_NEWS_LIKE_THIS"}))))}}]),t}(a(1).PureComponent);t.default=(0,d.default)(c),e.exports=t.default},1713:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(0)),o=n(a(1)),s=n(a(4)),r=n(a(93)),l=n(a(1589)),d=n(a(17)),u=n(a(96)),c=n(a(523)),f=(0,s.default)({mixins:[d.default,u.default],displayName:"Userintent",statics:{storeListeners:[c.default],componentConfig:{name:"componentUserintent"}},propTypes:{className:i.default.string,index:i.default.number,intl:a(33).intlShape,config:i.default.object,uuid:i.default.string,publisher:i.default.string,publisherId:i.default.string,componentConfig:i.default.object},getDefaultProps:function(){return{className:"",index:1}},componentWillMount:function(){this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this)},componentDidMount:function(){var e=this.props.config;e=void 0===e?{}:e;var t=e.discoverIndex,a=void 0===t?1:t;this.state.inViewport||this.props.index!==a||this.onEnterViewport(this.handleEnterViewport.bind(this))},componentWillUnmount:function(){this.stopListeningToViewport()},stopListeningToViewport:function(){this.onEnterViewport(null)},handleEnterViewport:function(){var e=this.props.config;this.executeAction(a(498).setTooltipViews,{componentConfig:e}),this.setState({inViewport:!0}),this.stopListeningToViewport()},getData:function(){var e=this.props.publisher,t=this.stores.userintent,a=t&&t.getStateJson()||{},n=a.mutedPublishers;return a.isMuted=((void 0===n?{}:n)[e]||{}).muted||!1,a},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(c.default),this.executeAction(a(498).fetchCrumb),this.getData()},onChange:function(){this.setState(this.getData())},shouldRenderDiscover:function(){var e=this.props.config;e=void 0===e?{}:e;var t=e.discoverIndex;return this.props.index===(void 0===t?1:t)&&this.state&&this.state.showTooltip},shouldRenderPanel:function(){var e=this.props.uuid,t=this.state,a=t.target,n=t.showPanel;return this.state&&n&&a===e},handleDimissTooltip:function(e){var t=this.props.config;this.executeAction(a(498).setTooltipSeen,{componentConfig:t}),e.preventDefault()},handleShowPanel:function(e){var t=this.props,n=t.uuid,i=t.publisherId;this.executeAction(a(498).getMutedPublishers,{target:n,showPanel:!0,publisher:i}),e.preventDefault()},handleHidePanel:function(){this.executeAction(a(498).getMutedPublishers)},handleUserPreference:function(){var e=this.props,t=e.uuid,n=e.publisher,i=e.publisherId,o=this.state.isMuted;this.executeAction(a(498).managePreference,{target:t,isMuted:o,publisher:n,publisherId:i})},renderDiscover:function(){var e=this.props,t=e.uuid,n=e.intl,i={background:"rgba(0,0,0,.3)"};return this.shouldRenderDiscover()?o.default.createElement("div",{className:"userintent-tooltip Pos(a) P(12px) W(183px) End(0) Fw(200) Ta(start) H(a) Fz(12px) T(30px) Lh(1.5) Z(1) C(#fff) Bgc(#188fff) Bdrs(2px) Bxsh(userintentBoxshadow) Pos(a)::b End(6%)::b B(100%)::b W(0)::b H(0)::b Bd(userintentBorderTransparent)::b Bdbc(#188fff)::b Cnt(userintentEmpty)::b"},o.default.createElement("div",{className:"Fw(500)"},n.formatMessage({id:"DONT_LIKE_THIS_SOURCE"})),o.default.createElement("div",null,n.formatMessage({id:"CUSTOMIZE_HERE"})),o.default.createElement(a(21).I13nAnchor,{key:"userintent-close-"+t,className:"userintent-dimiss-tooltip D(b) O(n) Pos(a) T(30%) End(5%) Bdrs(10px) Mt(-10px)",style:i,href:"#",onTouchStart:this.handleDimissTooltip,onClick:this.handleDimissTooltip,i13nModel:(0,a(1314).getI13nModel)("discoverClose")},o.default.createElement(a(26).Icon,{className:"",asset:r.default,color:"#188fff",height:20,width:20}))):void 0},renderPanel:function(){var e=this.props,t=e.index,a=e.intl,n=e.uuid,i=e.publisher,s=e.publisherId,r=this.state,d=r.showPanel,u=r.isMuted,c={index:t,intl:a,showPanel:d,isMuted:u,uuid:n,publisher:i,publisherId:s,hidePanelAction:this.handleHidePanel,userPreferenceAction:this.handleUserPreference};return this.shouldRenderPanel()?o.default.createElement(l.default,c):void 0},render:function(){var e=this.props,t=e.uuid,n=e.publisher,i=e.className,s=void 0===i?"":i,r=this.handleShowPanel,l="userintent-btn-link Va(m) Td(n) Fz(21px) Lh(17px) C(#959595) C(#188fff):h D(ib) desktop_W(100%) Cnt(userintentEllipsis)::b "+s,d={key:"userintent-"+t,className:l,href:"#",onTouchStart:r,onClick:r,i13nModel:(0,a(1314).getI13nModel)("userintentBtn",{slk:n})};return o.default.createElement("div",{className:"userintent-wrapper Mt(6px) Pos(r)"},o.default.createElement(a(21).I13nAnchor,d),this.renderDiscover(),this.renderPanel())}});t.default=(0,a(33).injectIntl)(f),e.exports=t.default},1714:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(0)),o=n(a(1)),s=n(a(4)),r=n(a(17)),l=n(a(523)),d=(0,s.default)({mixins:[r.default],displayName:"UserintentConfirm",statics:{storeListeners:[l.default],componentConfig:{name:"componentUserintent"}},propTypes:{className:i.default.string,index:i.default.number,intl:a(33).intlShape,uuid:i.default.string,publisher:i.default.string,publisherId:i.default.string},getDefaultProps:function(){return{className:""}},getData:function(){var e=this.stores.userintent;return e&&e.getStateJson()||{}},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(l.default),this.executeAction(a(498).fetchCrumb),this.getData()},onChange:function(){this.setState(this.getData())},handleShowManagement:function(e){var t=this.props,n=t.uuid,i=t.publisherId;this.executeAction(a(498).getMutedPublishers,{target:n,showManagement:!0,publisher:i}),e.preventDefault()},handleUserPreference:function(e){var t=this.props,n=t.uuid,i=t.publisher,o=t.publisherId;this.executeAction(a(498).managePreference,{target:n,isMuted:!0,publisher:i,publisherId:o}),e.preventDefault()},render:function(){var e=this.props,t=e.uuid,n=e.intl,i=e.className,s=void 0===i?"":i,r=e.action,l=void 0===r?"":r,d=e.publisher,u=this.context.getStore("UserStore"),c=u.isSignedIn()||u.isRecognized(),f="show_more"===l?"YOU_WILL_SEE_MORE":"YOU_WILL_SEE_LESS",p=n.formatMessage({id:f},{publisher:d}),m=c?o.default.createElement(a(21).I13nAnchor,{key:"userintent-manage-"+t,className:"Fl(end) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleShowManagement,onClick:this.handleShowManagement,i13nModel:(0,a(1314).getI13nModel)("confirmManage")},n.formatMessage({id:"MANAGE_PUBLISHERS_SHORT"})):o.default.createElement("div",null,n.formatMessage({id:"SIGN_IN_TO_MANAGE_PUBLISHERS"}),o.default.createElement(a(21).I13nAnchor,{key:"userintent-signin-"+t,className:"Fz(14px) C($c-fuji-blue-1-a)",href:"https://login.yahoo.com/",i13nModel:(0,a(1314).getI13nModel)("confirmSignin")},n.formatMessage({id:"SIGN_IN"})));return o.default.createElement("div",{className:"Pos(r) userintent-confirm Bgc($c-fuji-grey-a) ($c-fuji-grey-c) Bds(s) Bdc($c-fuji-grey-c) Bdw(1px) Bdrs(2px) Px(14px) Py(12px) "+s,key:"userintent-confirm-"+t},o.default.createElement("h4",{className:"Fw(n) Fz(15px) Lh(24px)"},p,o.default.createElement(a(21).I13nAnchor,{key:"userintent-undo-"+t,className:"Mstart(5px) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleUserPreference,onClick:this.handleUserPreference,i13nModel:(0,a(1314).getI13nModel)("confirmUndo",{slk:d})},n.formatMessage({id:"UNDO"})),m))}});t.default=(0,a(33).injectIntl)(d),e.exports=t.default},1715:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(4)),o=n(a(2)),s=(n(a(0)),n(a(1)));t.default=(0,i.default)({displayName:"ErrorItem",autobind:!1,propTypes:{},getDefaultProps:function(){return{itemCount:0}},render:function(){var e=this.props.config,t=(0,o.default)(e,["ui","view"]),n=(0,o.default)(e,["ui","error_id"])||"CONTENT_ERROR";return s.default.createElement("tiles"===t?"div":"li",{className:"Pos(r) P(20px) Ta(c) C(#9ea2af)"},s.default.createElement(a(26).Icon,{color:"#b9bdc5",cursorClass:"Cur(d)",height:40,name:"nav-news"}),s.default.createElement("h3",{className:"Mt(4px) Fw(500) Fz(16px) Lh(23px)"},s.default.createElement(a(33).FormattedMessage,{id:n,values:{hasItems:this.props.itemCount>0}})))}}),e.exports=t.default},1716:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=(n(a(0)),n(a(1))),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,a=e.titleKey,n=e.titleValues,o=e.className,s=e.intl;return(!t||t.length<=0)&&(t=s.formatMessage({id:a},n)),i.default.createElement("h2",{className:o},t)};o.displayName="Title",o.defaultProps={className:"C($c-fuji-grey-l) Fw(500) Fz(16px) Lh(23px)"},t.default=o,e.exports=t.default},1717:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){if("1"===(e.session&&e.session.dimensions?e.session.dimensions.authed:"0")){var n=e.localStorage,i=+new Date;if(n){var l=n.getItem(r);l&&(n.removeItem(r),!(e.getStore("FollowContentStore").getContentStateMap()||o.default.Map()).get(l.uuid)&&l.expiry>i&&e.executeAction(s.default,{uuid:l.uuid,state:0,fromSlingstone:l.fromSlingstone}))}}a&&a()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(10)),s=n(a(545)),r="followed-content-login";i.displayName="initializeContent",t.default=i,e.exports=t.default},1718:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){var n=t.config,i=n.ads||{},l=n.ui||{},d=n.max_dedupe_UUID_size||250,u=n.max_dedupe_ADID_size||50,c=e.getStore(r.default),f=i.related_start_index,p={ads:{ad_polices:i.ad_polices,adchoices_url:i.adchoices_url,spaceid:c.getSpaceid(),pu:i.pu,related_ct_se:i.related_ct_se,related_start_index:f,useResizedImages:i.useResizedImages},content_site:n.content_site,offnet:{use_preview:(0,s.default)(n,["offnet","use_preview"]),url_scheme:(0,s.default)(n,["offnet","url_scheme"])},ui:{image_quality_override:l.image_quality_override,related_count:l.related_count,related_endpoint:l.related_endpoint,relative_links:l.relative_links,smart_crop:l.smart_crop},uuids:[]},m=e.getStore("StreamStore"),g=null,h=[],_=function(){if(g&&g.length){var a=[],n=0;h.forEach(function(e){var t=m.getRelatedItemsByUuid(e);t&&(t=t.toJS(),t.splice(f,1,g[n]),n++,a.push({relatedItems:t,uuid:e}))}),a.length&&(e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:g.slice(n),id:t.instanceId}),e.dispatch("STREAM_UPDATE_RELATED",{items:a,id:t.instanceId}))}};if(t&&t.uuids)if(t.uuids.forEach(function(e){m.getRelatedItemsByUuid(e)?h.push(e):p.uuids.push(e)}),f&&(g=m.getRelatedItemsAd(),g&&g.length>h.length?delete p.ads:g=null),p.uuids.length>0||p.ads){var v=m.getSnippetIds(t.instanceId,n.category);p.dedupeUUIDs=v.uuids,p.ads&&(p.dedupeADIDs=v.adIds),p.dedupeUUIDs&&p.dedupeUUIDs.length>d&&(p.dedupeUUIDs=p.dedupeUUIDs.slice(p.dedupeUUIDs.length-d)),p.dedupeADIDs&&p.dedupeADIDs.length>u&&(p.dedupeADIDs=p.dedupeADIDs.slice(p.dedupeADIDs.length-u)),e.service.read("StreamRelatedService",p,{},function(i,s){if(!i&&s){var r=s.related||s,d=0;if(!g&&s.ads&&s.ads.stream_ads&&s.ads.stream_ads.length&&(g=s.ads.stream_ads),f&&g&&r?(r.forEach(function(e){g[d]&&e.relatedItems.splice(f,0,g[d]),e.relatedItems=e.relatedItems.slice(0,l.related_count),d++}),e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:g.slice(d),id:t.instanceId})):f&&s.ads&&s.ads.stream_ads&&(h.length>0&&_(),e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:s.ads.stream_ads,id:t.instanceId})),e.dispatch("STREAM_UPDATE_RELATED",{items:r,id:t.instanceId}),l.dispatch_content_store){var u=[];r.forEach(function(e){e&&e.relatedItems&&(u=u.concat(e.relatedItems))}),u.length&&e.executeAction(o.default,{items:u,prefetch:n.use_prefetch,snippets:!0,sourceId:t.instanceId})}a&&a()}else a&&a(i)})}else h.length>0?(_(),a&&a()):a&&a()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(a(1181)),s=n(a(2)),r=n(a(8));i.displayName="fetchRelated",e.exports=t.default},1719:function(e,t,a){"use strict";function n(e,t,a){var n=Object.assign({},t,{use_content_id:!1}),o=(0,i.default)(e,n,a);if(o.ads&&(o.ads.frequency=0),t.use_page_category){var s=t.fallbackCategory||e.getStore("StreamStore").getFallbackCategory();s&&(o.category=s)}return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=function(e){return e&&e.__esModule?e:{default:e}}(a(1374));e.exports=t.default},1720:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.i13n&&e.i13n.executeEvent;if(t){var a=e.getStore("I13nStore"),n=e.getStore("PageStore"),i=e.getStore("UserStore"),o=a&&a.getI13nConfig();m&&i&&n&&o&&o.initComscore&&t("comscore_beacons",{c14:i.getComscoreC14(),currentUrl:m.location.href,getConsentData:o.enableConsentData?l.default:null,keyword:a.getComscoreC7Keyword(),spaceid:n.getSpaceid()})}}function o(e,t,a){var n=[],o=t.componentProps||{},l=o.id,m=e.getStore("StreamStore"),g=t.config||{},h=(0,c.default)(e,g,"StreamService.items"),_=g.batches.size;if(!l)return a(new Error("Instance id not set for fetchMore"));var v=m.getInstance(l,h.category),b=v.get("data"),y=(b.get("more_items")||d.default.List()).slice(0,_);if(y.forEach(function(e,t){var a=e.get("type");void 0!==a&&"unknown"!==a||n.push((e.get("idPrefix")||"")+e.get("id"))}),0===n.length)return a();h.uuids=n;var x={};g.post_for_more&&(x.post_for_read=!0),e.service.read(t.resource||"StreamService.items",h,x,function(t,n){if(!t&&n){var o=0,d=[];y.forEach(function(e){var t=e.get("type");if(void 0===t||"unknown"===t){var a=n.stream_items[o],i=e.get("id"),s=a&&a.clusterInfo&&a.clusterInfo.id;!a||a.id!==i&&s!==i||(Object.assign(a,e.toJS(),{type:a.type,id:a.id}),d.push(a.id),o++)}else n.stream_items.splice(o,0,e.toJS()),n.components.splice(o,0,n.stream_items[o]._component),o++}),g.ui&&g.ui.follow_content&&e.executeAction(r.default,{uuids:d}),(0,u.default)(e,{componentConfig:g,components:n.components},function(t){if(t)return a(t);e.dispatch("STREAM_FETCH",{data:n,id:l,batchSize:_}),i(e),h.ui&&h.ui.dispatch_content_store&&e.executeAction(s.default,{items:n.stream_items,prefetch:h.use_prefetch,snippets:!0,sourceId:l,ssEP:(0,p.default)(g,["batches","ss_endpoint"],""),useSlingstoneLcp:f.shouldUseSlingstoneLcp(g)}),a()})}else{if(e.dispatch("STREAM_FETCH_ERROR",{data:{category:h.category},id:l,batchSize:_}),e.beacon){var c={code:"strbatch",remainingItems:b.get("more_items").length-_};e.beacon("error","tdv2-applet-stream",c)}a(t)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s=n(a(1181)),r=n(a(1547)),l=n(a(301)),d=n(a(10)),u=n(a(1375)),c=n(a(1374)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1440)),p=n(a(2)),m="undefined"!=typeof document?document:null;o.displayName="fetchMore",e.exports=t.default},1721:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){var n=t.componentProps||{},i=n.id,s=n.componentConfig||{},m=(0,d.default)(e,s);if(s.simulateError)return a(new Error("Simulated error"));if(!i)return a(new Error("Instance id not set for loadStream"));if("undefined"!=typeof window&&s.perf_beacon&&s.perf_label&&c.default.mark(s.perf_label+"_LOAD_STREAM"),s.batches&&s.batches.start_index&&s.batches.start_index>0)return p("Extended stream instance - skipping the service call"),a();var g=e.getStore("StreamStore");if(g.setConfig(s.store),g.isCacheable(s)){var h=g.getInstance(i,m.category),_=h.get("data"),v=+new Date/1e3,b=e.getStore("RouteStore").getCurrentNavigate(),y=b&&b.type;if(_.size&&_.get("view")===m.ui.view&&(v-h.get("ts")<s.cache_ttl||"popstate"===y)){p("Reusing a cached stream",y,m.category),(0,f.default)(e,{category:_.get("category"),ccode:_.get("ccode"),view:_.get("view")});var x=h.get("fromLS");return void o.default.auto({components:function(t){if(x){p("Fetching resources for a local storage stream");var a={componentConfig:s,components:_.get("components").toJS()};(0,l.default)(e,a,t)}else t()},ads:["components",function(t){m.ads&&m.ads.frequency&&(!s.cache_ads||x)?(p("Fetching ads for a cached stream"),m.instanceId=i,(0,r.default)(e,m,t)):t()}]},function(){e.dispatch("STREAM_LOAD_CACHE",{id:i,category:m.category,fromLS:x}),a&&a()})}}var S={};s.post_for_stream&&(S.post_for_read=!0),s.retry&&(S.retry=s.retry);var C=t.resource||"StreamService";e.service.read(C,m,S,function(t,n){p(C+" response",t,n),!t&&n?("undefined"!=typeof window&&s.perf_beacon&&s.perf_label&&c.default.mark(s.perf_label+"_LOAD_STREAM_RESP"),(0,u.default)(e,{componentConfig:s,data:n,instanceId:i},a)):a(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(a(25)),s=n(a(3)),r=n(a(1722)),l=n(a(1375)),d=n(a(1374)),u=n(a(1548)),c=n(a(9)),f=n(a(1549)),p=(0,s.default)("loadStream");i.displayName="loadStream",e.exports=t.default},1722:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){var n={ads:t.ads,category:t.category,ui:{image_quality_override:t.ui.image_quality_override,storyline_count:t.ui.storyline_count,summary:t.ui.summary,view:t.ui.view}};if(!n.ads.frequency)return a&&a(o.default.http.badRequest("Stream loadAds action: No ads requested"));e.service.read("StreamService.ads",n,{},function(n,i){!n&&i?(0,s.default)(e,{componentConfig:t,components:i.components||[]},function(){e.dispatch("STREAM_ADS",{data:i,id:t.instanceId,category:t.category}),a&&a(null)}):(e.dispatch("STREAM_ADS_FAILURE",{id:t.instanceId,category:t.category}),a&&a(n||new Error("Ads not returned from StreamService.ads")))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(a(68)),s=n(a(1375));i.displayName="loadAds",e.exports=t.default},1723:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(6)),o=n(a(3)),s=(n(a(0)),n(a(1))),r=(0,o.default)("StreamContainer"),l=function(e){r("render");var t=e.config,a=void 0===t?{}:t,n=e.className,o=e.appletTitle,l=e.children,d=e.id,u=a.ui||{},c={maxWidth:u.max_width||"none"},f=(0,i.default)(n,u.container_classnames),p=void 0;return"tiles"===u.view&&e.errorItem&&(p=e.errorItem),s.default.createElement("div",{id:d,className:f,style:c},o,l,p)};l.displayName="StreamContainer",l.defaultProps={className:"tdv2-applet-stream Bdc(#e2e2e6)"},t.default=l,e.exports=t.default},1724:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(1725)),s=n(a(1726)),r=n(a(1730)),l=n(a(1731)),d=n(a(17)),u=n(a(4)),c=n(a(2)),f=n(a(117)),p=n(a(8)),m=(n(a(0)),n(a(1)));t.default=(0,u.default)({displayName:"Ad",autobind:!1,mixins:[d.default,n(a(507)).default],propTypes:{},getInitialState:function(){var e=this.getStore(p.default),t=e.getPageConfig();return{adsMessages:this.getStore(f.default).getStrings("tdv2-applet-stream"),enableFeedback:t&&t.enableGeminiFeedback||!1}},render:function(){var e=this.props.data,t=(0,c.default)(this.props.config,["ui","view"])||"",n=(0,c.default)(this.props.config,["ads","partial_viewability"])||!1,d={enableFeedback:this.state.enableFeedback,adsMessages:this.state.adsMessages,scrollHandler:n};return this.props.tile?m.default.createElement(a(1176).Controller,i({},this.props,d,{type:"tile",component:o.default})):"featured"===e.get("format")||"featured"===t||"discussion"===t?m.default.createElement(a(1176).Controller,i({},this.props,d,{type:"featured",component:s.default})):"row"===t||"headlines"===t?m.default.createElement(a(1176).Controller,i({},this.props,d,{type:"megastream",component:l.default})):m.default.createElement(a(1176).Controller,i({},this.props,d,{type:"megastream",component:r.default}))}}),e.exports=t.default},1725:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(1441)),o=n(a(6)),s=n(a(4)),r=n(a(2)),l=n(a(10)),d=n(a(0)),u=n(a(1)),c=n(a(502));t.default=(0,s.default)({displayName:"AdTile",autobind:!1,mixins:[a(1176).DataMixin],contextTypes:{intl:d.default.object},propTypes:{},render:function(){var e,t=this.props,n=t.data,s=n.get("i13n")||l.default.Map(),d=this.context.intl,f=t.tile,p=t.config,m=p.ads,g=this.getHQImage(),h={},_=(0,r.default)(p,["ui","tiles"])||{},v=_.gradient;g&&g.height>=.7*f.height&&g.width>=.7*f.width?(e=a(80).Img,h.nodeName="div",h.checkPosition=!1,h.className="Bgr(nr) Bgz(cv) Bgp(c) Trsdu(0s)!",h.url=g.url):(e="div",h.className="Bgc($general)"),h.className=(0,o.default)("StretchedBox","js-stream-ad",h.className);var b,y={bpos:s.get("bpos"),cpos:s.get("cpos"),cposy:s.get("cposy"),ad:1,aid:n.get("id"),pkgt:g?"sponsored_img":"sponsored_noimg",slk:n.get("title"),ct:"ad"},x={elm:"icon",outcm:"sponsor"},S={elm:"icon",outcm:"info"},C=n.get("adChoicesUrl")||m.adchoices_url;return m.sponsored_label_support&&(b=n.get("sponsoredByLabel")),b||(b=d.formatMessage({id:"SPONSORED"})),u.default.createElement(e,h,u.default.createElement("div",{className:(0,o.default)("Pos(a) B(0) Start(0) End(0) P(10px) C(#fff)",{"Bgi($linear-grad-dark) Fil($linear-grad-dark-fallback)":v,"Bgc($bg-dark)":!v})},u.default.createElement(a(21).I13nAnchor,{className:"Mend(6px) C(#fff) Tt(u) Fw(b) Fz(11px) Pos(r) Z(2)",href:m.sponsored_url,i13nModel:Object.assign({},y,x),rel:"noopener noreferrer",target:"_blank"},b),u.default.createElement(a(21).I13nAnchor,{className:"C(#fff) Pos(r) Z(2) ie-7_Pos(a) ie-7_Mt(-5px)",href:C,i13nModel:S,rel:"noopener noreferrer",target:"_blank"},u.default.createElement("i",{className:"Pos(r) T(3px)"},u.default.createElement(a(26).Icon,{asset:c.default,color:"#fff",height:15,style:{verticalAlign:"baseline"}}))),u.default.createElement("h3",{className:"M(0) Pt(2px) Pb(4px) C(#fff) LineClamp(2,47px)"},u.default.createElement(a(1176).Controls.Headline,{data:this.props.data,className:"Ff($ff-primary) Fw($fweight) Lh($lheight) Lts($lspacing-sm) Fsm($fsmoothing) Fsmw($fsmoothing) Fsmm($fsmoothing) Fz($fz-m)"})),u.default.createElement(i.default,{config:p,data:n,intl:d,publisherColor:"C(#fff)",sponsoredColor:"C(#fff)"})),u.default.createElement(a(1176).Controls.PrimaryLink,{data:n,i13nModel:Object.assign({},y,{elm:"hdln",outcm:"ad"})},u.default.createElement("u",{className:"StretchedBox Z(1)"})))}}),e.exports=t.default},1726:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(1441)),s=n(a(1550)),r=n(a(2)),l=n(a(6)),d=n(a(4)),u=n(a(17)),c=n(a(10)),f=n(a(294)),p=n(a(0)),m=n(a(1)),g=n(a(1551));t.default=(0,d.default)({displayName:"FeaturedAd",autobind:!1,mixins:[u.default,n(a(1373)).default,g.default],contextTypes:{beacon:p.default.func,intl:p.default.object,session:p.default.object},propTypes:{},getInitialState:function(){return{autoplay:!1,firedBeacons:{},videoPlayer:!1}},shouldComponentUpdate:function(e,t){return this.state.endCard!==t.endCard||this.props.data.get("id")!==e.data.get("id")||this.state.imgHover!==t.imgHover||this.isVideoplayer()!==this.isVideoplayer(t)},render:function(){var e,t=this.props,n=t.config,d=n.ui||{},u=d.use_img,p=t.data,g=p.get("isPromoAd"),h=n.promoAds||{},_=p.get("i13n")||c.default.Map(),v=this.context.intl,b=this.isVideoplayer(),y=d.adlink_classnames,x=d.adprovider_classnames,S=(0,l.default)(y||"C(#0078ff):h Td(n) smartphone_C(#000)",{"Fz(13px) LineClamp(4,96px) C($c-fuji-blue-4-b)":"discussion"!==d.view,"Fw(600) Fz(14px) Lh(16px) LineClamp(4,64px) C(#000)":"discussion"===d.view,"smartphone_Fz(19px)":"thingrid"!==d.layout}),C=p.get("image")||c.default.Map(),M=C.get("width")||0,w=C.get("height")||0;if(M&&w&&p.get("hasHqImg")){var E=n.pageload_image_count||3,I=Math.round(w/M*100),P=u?"img":"div",T={checkPosition:!1,className:(0,l.default)({"Bdrs(2px)":"sidekick"===d.view||"discussion"===d.view,"W(100%) H(100%) Pos(a)":u},"Bgz(cv) smartphone_Mx(0) Mb(6px) smartphone_Mb(12px) Trsdu(0s)!"),url:C.get("url"),nodeName:P,forceLoad:t.index<E},N={};u?N.paddingBottom=I+"%":T.style={paddingBottom:I+"%"};var k=m.default.createElement(a(80).Img,T);if(u&&(k=m.default.createElement("div",{style:N},m.default.createElement(a(80).Img,T))),b){var A={className:"Pos(r) T(-1em) H(1em) D(ib) V(v) Td(n) C(#fff) Bdc(#fff) Bds(s) Bdrs(2px) Bdw(t) Pt(4px) Pb(6px) Px(10px) Cur(p) Fz(12px) M(a) end-screen-link",followLink:!0,href:p.get("link")},O=this.state.endCard?m.default.createElement("div",{className:"Pos(a) T(45%) V(h) H(100%) W(100%) Ta(c)"},m.default.createElement(f.default,i({},A,{target:"_blank",rel:"noopener noreferrer"}),v.formatMessage({id:"LEARN_MORE"}))):void 0;e=m.default.createElement("div",{className:(0,l.default)("Mx(a) Pb(6px)",{"Pos(r)":u})},m.default.createElement("div",{className:"Pos(r)"},this.buildVideoPlayer(p),O))}else e=m.default.createElement("div",{className:(0,l.default)("Mx(a) Maw(500px)",{"Pos(r)":u})},k)}var D,L,R,B={config:n,data:p,intl:v},F=null;"thingrid"===d.layout&&(F="D(b)"),"top"===d.attribution_pos?D=m.default.createElement(o.default,i({className:(0,l.default)(x||"Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1) Ell Mb(2px)"),publisherColor:"C(#96989f)"},B)):L=m.default.createElement(o.default,i({className:(0,l.default)(x||"Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1) Ell",{"Mt(8px)":"sidekick"!==d.view&&"discussion"!==d.view}),publisherColor:"C(#96989f)",sponsorContainerClass:F},B));var j={bpos:_.get("bpos"),cpos:t.index+1,ad:1,aid:p.get("id"),pkgt:e?"sponsored_img":"sponsored_noimg",slk:p.get("title"),ct:"ad"},z={className:S,data:p,i13nModel:Object.assign(j,{elm:"hdln",outcm:"ad"})};g&&(R=m.default.createElement(s.default,{userAgent:(0,r.default)(this.context,["session","userAgent","osName"]),config:n,data:p,intl:v}),z.promoConfig=h,z.onpromoclick=!0);var U=(0,l.default)({"Py(20px)":"sidekick"!==d.view&&"discussion"!==d.view,"Py(14px)":"sidekick"===d.view&&"thingrid"!==d.layout||"discussion"===d.view,"Py(10px) Px(10px)":"thingrid"===d.layout,"H(190px) ":"thingrid"===d.layout&&!g,"smartphone_Px(20px)":"thingrid"!==d.layout},"Pos(r) Ov(h) smartphone_Bxsh(streamBoxShadow)",t.className),H=d.title_pos||"bottom",V=m.default.createElement("h3",{className:(0,l.default)("M(0) Py(1px)",{"Mb(12px)":"top"===H,"Pos(r)":b})},m.default.createElement(a(1176).Controls.PrimaryLink,z,m.default.createElement(a(1176).Controls.Headline,{data:p,className:"Fw(600) smartphone_Fw(500)"}),m.default.createElement("u",{className:"StretchedBox Z(1)"})));return m.default.createElement("div",{className:U},D,"top"===H?V:null,e,"bottom"===H?V:null,L,R)}}),e.exports=t.default},1727:function(e,t){if(void 0===a)var a={};a["star-filled"]={name:"star-filled",height:24,width:24,path:"M22.954 8.952c-.126-.39-.49-.652-.9-.652H15.06L12.9 1.652C12.772 1.262 12.41 1 12 1s-.772.263-.898.652L8.94 8.3H1.945c-.41 0-.772.263-.898.652-.127.39.012.815.343 1.056l5.66 4.108-2.163 6.648c-.126.39.012.815.344 1.055.332.24.78.24 1.112 0L12 17.71l5.66 4.11c.165.12.36.18.555.18.194 0 .39-.06.555-.18.33-.24.47-.667.343-1.056l-2.16-6.648 5.658-4.108c.332-.24.47-.667.344-1.056z"},void 0!==e&&e.exports&&(e.exports=a["star-filled"])},1728:function(e,t){e.exports=function(e){var t=null,a=navigator||{};if(e)try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/[A-Za-z\s]+/g,"").split(",")}catch(e){}else{var n=a.mimeTypes&&a.mimeTypes["application/x-shockwave-flash"];if(n){var i=n.enabledPlugin;i&&(t=i.description.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split("."))}}return!!t&&"0"!==t[0]}},1729:function(e,t,a){"use strict";function n(e){var t={};return(e||[]).forEach(function(e,a){if("object"===(void 0===e?"undefined":o(e)))if(s.default.List.isList(e)){for(var i=[],r=0;r<e.size;r++)i[r]=n(e.get(r));t[a]=i}else t[a]=n(e);else t[a]=e,t[a]=isNaN(parseInt(t[a]))?t[a]:parseInt(t[a])}),t}function i(e){var t={};return(e||[]).forEach(function(e,a){if(s.default.List.isList(e)){for(var n=[],i=0;i<e.size;i++)n[i]=e.get(i);t[a]=n}else t[a]=[e]}),t}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.convertImmutableToJSRecur=n,t.formatVideoBeacons=i;var s=function(e){return e&&e.__esModule?e:{default:e}}(a(10))},1730:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(6)),s=n(a(4)),r=n(a(17)),l=n(a(10)),d=n(a(0)),u=n(a(1)),c=n(a(1588)),f=n(a(502)),p=n(a(1551)),m=n(a(1373)),g=n(a(294));t.default=(0,s.default)({displayName:"MegaItemAd",autobind:!1,mixins:[r.default,a(1176).DataMixin,m.default,p.default],contextTypes:{beacon:d.default.func,intl:d.default.object,session:d.default.object},propTypes:{},getInitialState:function(){return{autoplay:!1,firedBeacons:{},videoPlayer:!1}},componentWillMount:function(){var e=this;e.props.config.ui.hover_on_image&&(e.onMouseEnterImg=e.onMouseEnterImg.bind(e),e.onMouseLeaveImg=e.onMouseLeaveImg.bind(e))},shouldComponentUpdate:function(e,t){return this.state.endCard!==t.endCard||this.props.data.get("id")!==e.data.get("id")||this.state.imgHover!==t.imgHover||this.isVideoplayer()!==this.isVideoplayer(t)},onMouseEnterImg:function(){this.setState({imgHover:!0})},onMouseLeaveImg:function(){this.setState({imgHover:!1})},render:function(){var e=this.props,t=e.data,n=t.get("i13n")||l.default.Map(),s=this.context.intl,r=e.config,d=r.ui||{},p=r.ads||{},m=t.get("adChoicesUrl")||p.adchoices_url,h=d.attribution_pos,_=d.button_pos||"bottom",v=(t.get("hasHqImg")||t.get("hasLargeSquareImg"))&&this.getImage(),b=r.pageload_image_count||3,y=e.index+1>b,x=t.get("summary"),S=this.isVideoplayer(),C=d.summary_classnames,M=d.adattribution_classnames,w=d.adpublisher_classnames||d.adattribution_classnames,E=d.link_classnames,I=d.h3_classnames,P=t.get("cluster");if(v&&!S){var T={};d.hover_on_image&&(T.onMouseEnter=this.onMouseEnterImg,T.onMouseLeave=this.onMouseLeaveImg),v=u.default.createElement("div",T,u.default.createElement(a(1176).Controls.PrimaryImage,{checkPosition:!1,className:"D(b) Trsdu(0s)! Bdrs(2px) Mx(a)",data:t,lazyLoad:y}))}var N,k={bpos:n.get("bpos"),cpos:n.get("cpos"),cposy:n.get("cposy"),ad:1,aid:t.get("id"),pkgt:v?"sponsored_img":"sponsored_noimg",slk:t.get("title"),ct:"ad"};P&&(N="sponsored_cluster"),t.get("sponsored_suppress")&&(N="sponsored_suppress"),k.pkgt=N||k.pkgt;var A,O=(0,o.default)("Cf Ov(h) Pos(r) Py(14px)",{"Mt(-3px)":!!v},e.className);if(x){var D=(0,o.default)(C||"Fz(14px) Lh(19px) Fz(13px)--sm1024 Lh(17px)--sm1024 LineClamp(2,38px) LineClamp(2,34px)--sm1024 Mt(5px)","M(0)");A=u.default.createElement(a(1176).Controls.Summary,{className:D,data:t})}var L,R={elm:"icon",outcm:"sponsor"},B={elm:"itm",outcm:"advertiser"},F={elm:"icon",outcm:"info"};if(v){var j=(0,o.default)("Fl(start) Mt(3px) Mend(25px)",{"W(30%) Maw(255px)":!d.image_classes},d.image_classes);if(S){var z={className:"Pos(r) T(-1em) H(1em) D(ib) V(v) Td(n) C(#fff) Bdc(#fff) Bds(s) Bdrs(2px) Bdw(t) Pt(4px) Pb(6px) Px(10px) Cur(p) Fz(12px) M(a) end-screen-link",followLink:!0,href:t.get("link")},U=this.state.endCard?u.default.createElement("div",{className:"Pos(a) T(50%) V(h) H(100%) W(100%) Ta(c)"},u.default.createElement(g.default,i({},z,{target:"_blank",rel:"noopener noreferrer"}),s.formatMessage({id:"LEARN_MORE"}))):void 0;L=u.default.createElement("div",{className:j},u.default.createElement("div",{className:"Pos(r)"},this.buildVideoPlayer(t),U))}else L=u.default.createElement(a(1176).Controls.PrimaryLink,{className:j,data:t,tabIndex:"-1",i13nModel:Object.assign({},k,{elm:"img",outcm:"ad"})},v)}var H;P&&(H=u.default.createElement(c.default,{config:r,imageClassName:"Bdrs(2px)",includeBreakPoints:!d.touch_device,index:e.index,storyline:P,i13nModel:k,isAd:!0}),h="top");var V,W=u.default.createElement(a(1176).Controls.Publisher,{className:(0,o.default)(w||"Fz(11px)","Td(n) Fw(n) D(ib) C(#959595)",{"Mt(4px)":"top"!==h,"Mstart(9px)":"top"===h}),data:t,i13nModel:B,rel:"noopener noreferrer",target:"_blank"}),$=(0,o.default)("Ov(h)",{"Pend(44px)":!!L&&"right"===_,"Pend(14%)":!L,"Pend(0)--sm1024":!L&&"bottom"===_,"Pend(44px)--sm1024":!L&&"right"===_}),q=this.state.imgHover,G=(0,o.default)(E||"Fw(b) Fz(20px) Lh(23px) LineClamp(2,46px) Fz(17px)--sm1024 Lh(19px)--sm1024 LineClamp(2,38px)--sm1024","Td(n) C(#0078ff):h",{"C(#0078ff)":q,"C(#000)":!q}),Y=(0,o.default)(I||"M(0)",{"Pos(r)":S});p.sponsored_label_support&&(V=t.get("sponsoredByLabel")),V||(V=s.formatMessage({id:"SPONSORED"}));var J=(0,o.default)(M||"Fz(12px)","D(ib) Td(n) C(#959595) Mend(3px) Mb(6px)");return u.default.createElement("div",{className:O},L,u.default.createElement("div",{className:$},u.default.createElement("div",{className:"Pos(r) Z(2) Fw(b)"},u.default.createElement(a(21).I13nAnchor,{className:J,href:p.sponsored_url,i13nModel:R,target:"_blank",rel:"noopener noreferrer"},V),u.default.createElement(a(21).I13nAnchor,{href:m,i13nModel:F,target:"_blank",rel:"noopener noreferrer"},u.default.createElement("i",{className:"Pos(r) T(2px)"},u.default.createElement(a(26).Icon,{asset:f.default,color:"#959595",height:12,style:{verticalAlign:"baseline"}}))),"top"===h?W:void 0),u.default.createElement("h3",{className:Y},u.default.createElement(a(1176).Controls.PrimaryLink,{className:G,data:t,i13nModel:Object.assign({},k,{elm:"hdln",outcm:"ad"})},u.default.createElement("u",{className:"StretchedBox"}),u.default.createElement(a(1176).Controls.Headline,{data:t}))),A,"top"!==h?W:void 0,H))}}),e.exports=t.default},1731:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(1441)),o=n(a(6)),s=n(a(2)),r=n(a(1550)),l=n(a(17)),d=n(a(4)),u=n(a(10)),c=n(a(0)),f=n(a(1)),p=n(a(507)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1318));t.default=(0,d.default)({displayName:"SimpleItemAd",autobind:!1,mixins:[l.default,p.default],contextTypes:{intl:c.default.object},propTypes:{},render:function(){var e,t=this.props,n=t.config,l=n.ui||{},d=l.view||{},c=t.data,p="headlines"===d,g=c.get("isPromoAd"),h=n.promoAds||{},_=c.get("image")||c.getIn(["images","original"]),v=c.get("link")||"",b=c.get("i13n")||u.default.Map(),y={bpos:b.get("bpos"),cpos:b.get("cpos"),cposy:b.get("cposy"),ad:1,aid:c.get("id"),pkgt:_?"sponsored_img":"sponsored_noimg",slk:c.get("title"),elm:"hdln",ct:"ad"},x={className:"Td(n) C(#0078ff):h C($c-fuji-blue-4-b)",href:v,i13nModel:y,data:c};g&&p&&(e=f.default.createElement(r.default,{userAgent:(0,s.default)(this.context,["session","userAgent","osName"]),config:n,data:c,intl:this.context.intl}),x.promoConfig=h,x.onpromoclick=!0);var S=(0,o.default)("Lts(n) Whs(n) D(b) Pos(r)",{"D(tb) Td(n) C(#0078ff):h Pstart(20px) Pb(20px) Pend(13px)":p,"Px(9px)":!p}),C=(0,o.default)({"D(tbr)":p}),M=(0,o.default)("Maw(100%) Pos(r) H(0) Cur(p) Bdrs(2px)",{"D(tbc) W(120px) W(100px)--maw370":p,"Pb(58.1%) Bgc(#ddd)":!p}),w=(0,o.default)("Tdrsu(0s)! Bdrs(2px)",{"Mend(20px) W(100px) H(100px) W(80px)--maw370 H(80px)--maw370":p,"StretchedBox W(100%) H(100%) ie-7_H(a)":!p}),E=(0,o.default)("W(100%)",{"D(tbc) Va(t)":p,"D(ib) Mt(6px)":!p}),I=g&&h.enableGeminiAdFeedback||!g&&n.ads&&n.ads.enableGeminiAdFeedback,P=(0,o.default)({"M(0) Mb(4px) Mt(-2px) Fw(b) Fz(16px) Fz(15px)--maw370 Lh(1.3) LineClamp(3,4em) LineClamp(2,2.7em)--maw370 Bfv(h) C(#000)":p,"Mend(20px)":I&&p,"Fz(13px) Fw(700) LineClamp(3,48px)":!p}),T=(0,o.default)({"Fz(11px) C(#96989f) Z(2) Pos(r)":!p}),N=(0,o.default)("C(#959595)",{"D(ib) Ell W(50%) Va(m)":!p});return f.default.createElement("div",{className:S},f.default.createElement("div",{className:C},f.default.createElement("div",{className:M},f.default.createElement(a(80).Img,{checkPosition:!1,className:w,forceLoad:!m.isLazyLoad(t),url:_&&_.get("url")})),f.default.createElement("div",{className:E},f.default.createElement(a(1176).Controls.PrimaryLink,x,f.default.createElement(a(1176).Controls.Headline,{className:P,data:c}),f.default.createElement("u",{className:"StretchedBox Z(1)"})),f.default.createElement(i.default,{className:T,config:n,data:c,intl:this.context.intl,publisherColor:N}),e)))}}),e.exports=t.default},1848:function(e,t,a){e.exports=a(2243)},1849:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(6)),o=n(a(0)),s=n(a(1)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1318)),l=n(a(2244)),d={beauty:"C($c-fuji-beauty)",business:"C($c-fuji-blue-1-a)",celebrity:"C($c-fuji-punch-a)",entertainment:"C($c-fuji-entertainment)",finance:"C($c-fuji-blue-1-a)",health:"C($c-fuji-teal-1-a)",hkfood:"C($c-fuji-style)",hkstylemen:"C($c-fuji-style)",hktravelnow:"C($c-fuji-style)",lifestyle:"C($c-fuji-lifestyle)",movies:"C($c-fuji-movies)",music:"C($c-fuji-music)",news:"C($c-fuji-blue-1-a)",politics:"C($c-fuji-blue-3-a)",popculture:"C($c-fuji-ruby-a)",science:"C($c-fuji-blue-3-a)",sports:"C($c-fuji-orange-c)",style:"C($c-fuji-ruby-a)",technology:"C($c-fuji-orange-b)",tv:"C($c-fuji-tv)",trending:"C($c-fuji-purple-1-b)",us:"C($c-fuji-blue-1-a)",wellness:"C($c-fuji-ruby-a)",world:"C($c-fuji-blue-1-a)"},u=function(e,t){var a=e.data,n=e.className,o=t.intl,u=t.session,c=a.get("categoryLabel"),f=c&&c.replace(/\./g,"").toLowerCase(),p=a.get("property"),m=r.isEditorsPick(a),g=r.isNeedToKnow(a),h=r.getContentLabel(a,o.messages),_="C(#0078ff)";if(!h&&!m)return null;f&&d[f]&&!g?_=d[f]:p&&!g&&(_="C($c-fuji-"+p+")");var v={className:(0,i.default)(n,_,{"Mend(9px)":!!h,"Mt(-2px)":u.userAgent&&"internet explorer"!==u.userAgent.browserName}),"data-test-locator":"catlabel",key:"catlabel"};return m?s.default.createElement("div",v,s.default.createElement(l.default,{intl:o}),h):s.default.createElement("div",v,h)};u.displayName="CategoryLabel",u.contextTypes={intl:o.default.object.isRequired,session:o.default.object},u.defaultProps={className:"Fw(b) Mb(2px) smartphone_Mb(8px) Tt(c) Ell"},t.default=u,e.exports=t.default},1850:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e){var t=e.get("width"),a=e.get("height");if(t&&a)return p.default.createElement("div",{className:"H(0) Mb(5px)",style:{paddingBottom:Math.round(a/t*100)+"%"}},p.default.createElement("img",{className:"W(100%) H(a) Bdrs(2px)",src:e.get("url"),width:t,height:a}))}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=n(a(6)),r=n(a(4)),l=n(a(2)),d=n(a(10)),u=n(a(294)),c=n(a(1187)),f=n(a(0)),p=n(a(1)),m=n(a(502)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1318)),h=(0,r.default)({displayName:"RelatedAd",autobind:!1,mixins:[a(1176).DataMixin],contextTypes:{intl:f.default.object.isRequired},getDefaultProps:function(){return{cposy:0,titleClassName:"C(#000)"}},render:function(){var e,t=this.props,n=t.data,o=t.idx+1,r=n.get("link")||n.get("url")||"",l=n.get("image"),d=t.cposy?t.cposy+"."+o:0,c=g.parseUrl(n.get("link"))||n.get("url")||"",f={className:(0,s.default)("Td(n) D(ib) Va(t) W(100%) C(#0078ff):h",t.titleClassName),followLink:!0,href:r,i13nModel:{ad:1,cposy:d,ct:1,g:n.get("id"),pkgt:"youmaylike",pos:o,tar:c.host,tar_uri:c.pathname},navParams:{url:n.get("url")},rel:"nofollow noopener noreferrer",target:"_blank"};return t.sponsoredByLabel&&(e=n.get("sponsoredByLabel")),e||(e=this.context.intl.formatMessage({id:"SPONSORED"})),p.default.createElement(u.default,f,i(l),p.default.createElement("div",{className:"Fz(12px) Fw(b) Lh(16px) LineClamp(3,48px)"},n.get("title")),p.default.createElement("div",{className:"C(#959595) Mt(2px) Fz(11px)"},p.default.createElement("span",{className:"Mend(6px)"},n.get("publisher")),p.default.createElement("div",{className:"Whs(nw) D(ib) Va(t) C($c-fuji-grey-j)"},e,p.default.createElement(a(26).Icon,{asset:m.default,className:"Mstart(4px)",height:11,color:"#464e56",style:{verticalAlign:"text-top"}}))))}});t.default=(0,r.default)({displayName:"RelatedItemsList",autobind:!1,mixins:[a(199).ComponentMixin],contextTypes:{i13n:f.default.object},statics:{ignoreImmutableCheck:{props:{config:"SKIP_SHOULD_UPDATE"}}},propTypes:{},getDefaultProps:function(){return{cposy:0,titleClassName:"C(#000)"}},componentDidMount:function(){var e=this.context.i13n,t=e.getI13nNode().getMergedModel();t.elm="rhdln",t.pkgt="youmaylike",delete t.itc,delete t.ct,e.executeEvent("beacon",{beaconType:"beaconClick",arguments:["strm",t.slk,1,t]})},getRelatedItemComponents:function(){var e=this,t=e.props,n=t.relatedItems||d.default.List(),r=t.config.ui||{},f=r.related_item_width||Math.floor(100/r.related_count)+"%",m=r.prerender||{},_=r.show_read,v=[],b=(0,l.default)(t.config,["ads","partial_viewability"])||!1;r.storyline_navparam_enabled&&n.forEach(function(e){e&&!g.isAd(e)&&v.push(e.get("id"))});var y=(0,s.default)("Td(n) D(ib) Va(t) W(100%) C(#0078ff):h",t.titleClassName,{"C(#959595):vi":_}),x={width:f},S="stream-related-item D(ib) Bxz(bb) Pend(12px) Whs(n) Va(t)";return n.map(function(e,n){var s=e.get("link")||e.get("url")||"",r=i(e.get("image")),l=n+1,d=t.cposy?t.cposy+"."+l:0,f=g.getBaseI13n(e,null,n,!0),_={className:y,followLink:g.shouldFollowLink(e,t.config),href:s,i13nModel:Object.assign({},f,{cposy:d,elm:"rhdln",pkgt:"youmaylike",pos:l}),navParams:{relatedUuids:g.filterStoryId(v,e.get("id")),url:e.get("url")}};return g.isAd(e)?p.default.createElement("li",{className:S,style:x,key:n},p.default.createElement(a(1176).Controller,{component:h,cposy:t.cposy,data:e,scrollHandler:b,idx:n,sponsoredByLabel:t.config.ads.sponsored_label_support,titleClassName:t.titleClassName})):p.default.createElement(c.default,o({className:S,key:n,nodeName:"li",payload:{url:s},style:x},m),p.default.createElement(u.default,_,r,p.default.createElement("div",{className:"Fz(12px) Fw(b) Lh(16px) LineClamp(3,48px)"},e.get("title")),p.default.createElement("div",{className:"C(#959595) Mt(2px)"},e.get("publisher"))))})},render:function(){if(!this.props.relatedItems)return null;var e=(0,s.default)("Mt(12px) Fz(11px) C(#7200ff) Whs(nw) Pos(r) Z(1) Lh(18px)",this.props.className);return p.default.createElement("ul",{className:e},this.getRelatedItemComponents())}}),e.exports=t.default},1851:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(6)),s=n(a(4)),r=n(a(2)),l=n(a(95)),d=n(a(10)),u=n(a(0)),c=n(a(1)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1318)),p=n(a(8)),m=n(a(17)),g=n(a(507)),h=n(a(1849)),_=n(a(1369)),v=n(a(294)),b=n(a(1187)),y=n(a(1850)),x=n(a(1588)),S=n(a(1411)),C=n(a(1373)),M=n(a(1713)),w=n(a(1714)),E=(0,a(21).createI13nNode)(a(201).ShareButtonMenu),I=(0,a(21).createI13nNode)(a(201).ShareButtonGroup),P="right";t.default=(0,s.default)({displayName:"MegaItem",autobind:!1,mixins:[m.default,g.default,C.default],contextTypes:{intl:u.default.object.isRequired,session:u.default.object},propTypes:{},getInitialState:function(){return this.pageStore=this.context.getStore(p.default),this._getState(this.props)},componentWillMount:function(){var e=this;e.props.config.ui.related_enabled&&(e._hideRelatedContent=e._hideRelatedContent.bind(e))},componentDidMount:function(){this.setState({buttons:f.shouldRenderButtons(this.props)})},componentWillReceiveProps:function(e){var t=this.props,a=t.config,n=t.data,i=n.get("id"),o=e.userIntentData||{},s=o.target,r=!f.shouldRenderUserintent(a)||!s||s!==i;if(e.data!==n||!r||e.relatedItems!==this.props.relatedItems){var l=this._getState(e);l.buttons=this.state.buttons,this.setState(l)}},_getState:function(e){var t=f.getBaseItemState(e);return t.images=this._getImages(e.data,t.followCluster),t.image=t.images["1x"]||t.images["2x"],t.model=f.getBaseI13n(e.data,t.image,e.index),t},_getImages:function(e,t){var a=!!e.get("storyline"),n=e.get("images");return n?a?{"1x":n.get("img:220x193")||n.get("square"),"2x":n.get("img:440x386")||n.get("square")}:{"1x":n.get("img:220x123")||n.get("img:255x162")||n.get("square"),"2x":n.get("img:440x246")||n.get("img:510x324")||n.get("square")}:t&&a?{"1x":d.default.Map({url:"https://s.yimg.com/dh/ap/default/150902/stream-gradient.png",width:255,height:224,fallback:!0})}:t&&!a?{"1x":d.default.Map({url:"https://s.yimg.com/dh/ap/default/151015/stream-gradient-230x130.png",width:255,height:143,fallback:!0})}:{}},_generateButtons:function(e,t){if(this.state.buttons){var a=this.renderComment(e),n=this.renderFollowContent(e),i=(0,r.default)(this.props.config,["ui","share_buttons"],{}),s=i.inline?this.renderShareButtonGroup():this.renderShareButtonMenu(e),l=this.renderUserintent();if("bottom"===e)return c.default.createElement("div",{className:"Mt(8px) Mt(2px)--sm1024 Pos(a) NoJs_D(n)"},n,s,a);if(e===P)return c.default.createElement("div",{className:(0,o.default)("Pos(a) T(14px) End(0) W(36px) Ta(c) NoJs_D(n)",{"Mt(20px)":t})},a,n,s,l)}},renderFollowContent:function(e){var t=this.props.config,n=t.ui||{},i=this.props.data,o=i.get("id");if(f.shouldRenderFollowContent(i,t))return c.default.createElement(a(1361).FollowContent,{category:t.category,className:e===P?"Pt(3px) Pb(6px)":"Mend(30px)",colors:{initial:"#959595",hovered:"#f23347"},enableHoverColor:n.follow_content_hover_color,enableTooltip:n.follow_content_tooltip,iconSize:20,uuid:o,openDirection:e===P?"left":"down"})},renderShareButtonGroup:function(){var e=this.props,t=e.config,a=e.data;if(f.shouldRenderShareButtonMenu(a,t)){var n={borderColorOverride:"transparent",buttonsToShow:f.getButtonsToShow(a,t),className:"D(tbc) Va(b)",hoverBorderColorOverride:"transparent",iconSize:"18",roundButtonDiameter:20,buttonSpacingPixels:21,sharingConfig:{twitterId:t.twitter_id},useButtonColorForBackgroundOnHover:!1,hoverColors:(0,r.default)(t,["ui","share_buttons","hoverColors"]),colorOverride:"#babec8",model:{slk:null,tar:null,tar_uri:null},ylkData:this._getShareYlkData(this.state.model)};return c.default.createElement(I,i({},n,f.getSharingGroupMetadata(a,this.pageStore)))}},renderShareButtonMenu:function(e){var t=this.props.config,a=this.props.data;if(f.shouldRenderShareButtonMenu(a,t)){var n=t.ui||{},i=Object.assign({ariaLabel:this.context.intl.formatMessage({id:"SHARE_MENU"}),buttonsToShow:f.getButtonsToShow(a,t),className:(0,o.default)({"Mend(30px) Va(m)":"bottom"===e}),isTouchDevice:n.touch_device,openButtonColor:"#959595",openButtonIconName:"share",openButtonIconSize:20,openDirection:e===P?"left":"down",twitterId:t.twitter_id,model:{slk:null,tar:null,tar_uri:null},ylkData:this._getShareYlkData(this.state.model)},f.getSharingMetadata(a,this.pageStore));return c.default.createElement(E,i)}},_getShareYlkData:function(e){return{sec:"strm",g:e.g,cpos:e.cpos,bpos:e.bpos,pkgt:e.pkgt,cnt_tpc:e.cnt_tpc,ct:e.ct}},_generateFollowCluster:function(){if(this.state.followCluster){var e=this.props.data.get("clusterInfo"),t=this.props.config.ui.follow_cluster_hover_color,n=e.get("followId"),i=e.get("title"),o=e.get("userFollowing");return c.default.createElement(a(1361).FollowCluster,{className:"Pos(a) B(0) Start(0) End(0) Py(12px) Ta(c)",enableHoverColor:t,followId:n,title:i,userFollowing:"true"===o||!0===o})}},_generateCategoryLabel:function(e){var t=(0,r.default)(this.props.config,["ui","attribution_classnames"])||"";return h.default.call(this,{className:(0,o.default)(t||"Fz(12px)","Fw(b) Tt(c) D(ib) Mb(6px)"),data:e,key:"catlabel"},this.context)},_generateHeader:function(e){var t=this.props,a=t.data,n=t.read,s=t.config,r=s.ui||{},l=r.link_classnames,d=r.h3_classnames;d=this._shouldRenderHeaderAndAttrAboveAll()?"Mb(15px)":d||"Mb(5px)";var u={className:(0,o.default)(l||"Fw(b) Fz(20px) Lh(23px) LineClamp(2,46px) Fz(17px)--sm1024 Lh(19px)--sm1024 LineClamp(2,38px)--sm1024","Td(n) C(#0078ff):h",{"C(#000)":!n,"C(#959595)":n}),i13nModel:{elm:"hdln",pos:1}};return c.default.createElement("h3",{className:d,key:"header"},c.default.createElement(v.default,i({},e,u),c.default.createElement("u",{className:"StretchedBox"}),a.get("title")))},_shouldRenderHeaderAndAttrAboveAll:function(){var e=this.props,t=e.data,a=e.config,n=f.getItemThumbSize(t,a);return this._isInlineVideo()&&"large"===n},_isInlineVideo:function(){var e=this.props,t=e.data,a=e.config;return this.state.supportsVideoAutoplay&&f.isInlineVideo(t,a)},_hideRelatedContent:function(){this.setState({relatedItems:null})},_generateRelatedContent:function(e){var t=this.props,n=this.state,i=n.relatedItems;if(i)return c.default.createElement(a(1182).Drawer,{className:(0,o.default)("stream-related-content Cl(b) Mt(12px)",{"D(n)":e}),closeButtonModel:{pkgt:"youmaylike"},onClose:this._hideRelatedContent},c.default.createElement("p",{className:"Fz(13px) Fw(b) C(#111) Px(12px) Mx(-12px)"},this.context.intl.formatMessage({id:"YOU_MIGHT_ALSO_LIKE"})),c.default.createElement(y.default,{className:"Mend(-8px)",config:t.config,cposy:n.model.cposy,relatedItems:i,titleClassName:"C(#000)"}))},renderComment:function(e){var t=this.props,a=t.config,n=t.data,i=t.navParams;if(f.shouldRenderComment(n,a)){var s=n.get("id"),l=n.get("commentCount"),d={count:l,display:"bottom"===e?"inline":"inline-block",openDirection:e===P?"left":"down",enableHoverColor:!0,enableTooltip:e===P,iconColor:"#959595",iconSize:20,navParams:Object.assign(f.getNavParams(n,a),i),stringClassName:(0,o.default)("Fw(b)",{"Mt(-14px)":e===P&&l>0}),textAlign:"bottom"===e?P:"top",url:n.get("link"),uuid:s};return n.get("off_network")&&(d.target=(0,r.default)(a,["offnet","target"])||void 0),c.default.createElement(_.default,d)}},renderUserintent:function(){var e=this.props,t=e.config,a=e.data,n=a.get("id"),i=a.get("publisher"),o=a.get("publisher_id");if(f.shouldRenderUserintent(t)&&o)return c.default.createElement(M.default,{index:e.index,config:(0,r.default)(t,["ui","user_intent"]),uuid:n,publisher:i,publisherId:o,viewport:{margins:{usePercent:!0,top:-.2,bottom:-.2}}})},renderUserintentConfirm:function(){var e=this.props,t=e.config,a=e.data,n=a.get("id"),i=a.get("publisher"),o=a.get("publisher_id");if(f.shouldRenderUserintent(t))return c.default.createElement(w.default,{index:e.index,uuid:n,publisher:i,publisherId:o})},render:function(){var e,t=this.props,n=this.state,s=t.data,d=t.config,u=d.ui||{},p=u.prerender||{},m=s.get("publisher"),g=s.get("storyline"),h=f.shouldRenderUserintent(d),_=t.userIntentData||{},v=h&&_[m],y=n.storylineIds,C=s.get("link")||"",M=s.get("id"),w=this._isInlineVideo(),E=Object.assign(f.getNavParams(s,d),t.navParams),I=s.get("video_enrichment"),T=w&&I?I.get("uuid"):M,N={followLink:f.shouldFollowLink(s,d),href:C,target:s.get("off_network")?(0,r.default)(d,["offnet","target"]):void 0,navParams:E},k=t.header||this._generateHeader(N),A=u.attribution_classnames,O=u.attribution_pos?c.default.createElement(a(1182).Attribution,{className:(0,o.default)(A||"Fz(11px)","D(ib) Mb(6px)"),data:s,key:"attribution"}):null;u.show_label&&(e=t.categoryLabel||this._generateCategoryLabel(s));var D,L,R=this._generateRelatedContent(v),B=f.getItemThumbSize(s,d),F=this._shouldRenderHeaderAndAttrAboveAll(),j=n.image,z=u.button_pos||"bottom",U=z===P,H=this._generateButtons(z,!(!m&&!e)),V=u.summary_classnames;if(j){var W,$=this._generateFollowCluster(),q=!f.isLazyLoad(t),G={small:"W(30%) Maw(255px)",medium:"W(50%) Maw(400px)",large:"W(100%) Maw(880px) Fl(n)!"},Y=(0,o.default)("Fl(start) Pos(r) Mt(2px)",u.image_classes||G[B]),J=Math.round(j.get("height")/j.get("width")*100);if($)j.get("fallback")||(W=c.default.createElement("div",{className:"Bg(streamImgGradient) StretchedBox"}));else if(n.typeIcon){var K=u.magazine_icon;W=c.default.createElement(a(1182).TypeIcon,{iconSize:K?16:20,lazyLoad:!q,magazineFormat:K,orbSize:50,type:n.typeIcon})}if(w){var Z={},X=(0,o.default)(Y,{"Mb(15px)!":F}),Q=d.video||{},ee={autoplay:Q.autoplay,cpos:n.model.cpos,enableAd:Q.enable_ads,energySaverMode:Q.energy_saver_mode,navToUrlOnClick:Q.navigate_on_click&&C,clickParams:Object.assign({},n.model),showTitleOnHover:!Q.disable_title_on_hover,stopBufferingOnPause:Q.disable_buffer_on_pause,videoId:T};if(Q.exp_type&&(ee.expType=Q.exp_type),t.i13n){var te=t.i13n.getI13nNode().getMergedModel();ee.ccode=te.ccode,ee.sec=te.sec;var ae=this.getStore(l.default),ne=ae.getI13nConfig();ee.rid=(0,r.default)(ne,["rapid","keys","_rid"])}var ie=g?"Pb(87.45%)":"Pb(56.25%)";Z=f.getVideoManagedPlayerConfig(ee),Z.vpClassName="H(0) "+ie,Q.enable_cc_on_mute&&(Z.ccOnMute=!0),L=c.default.createElement("div",{className:X},c.default.createElement(S.default,Z))}L||(L=c.default.createElement("div",{className:Y},c.default.createElement("div",{className:"H(0) Ov(h) Bdrs(2px)",style:{paddingBottom:J+"%"}},c.default.createElement(a(80).Img,{url:j.get("url"),srcSet:f.createSrcSet(n.images),forceLoad:q,checkPosition:!1,className:"W(100%) Trsdu(0s)! Bdrs(2px)",alt:s.get("title")}),W),$)),g&&(D=c.default.createElement(x.default,{config:d,imageClassName:"Bdrs(2px)",includeBreakPoints:!u.touch_device,index:t.index,storyline:g,storylineIds:y}))}var oe=(0,o.default)("Fz(14px) Lh(19px) Fz(13px)--sm1024 Lh(17px)--sm1024",{"LineClamp(2,38px) LineClamp(2,34px)--sm1024":L&&!F,"LineClamp(3,57px) LineClamp(3,51px)--sm1024":!L,"LineClamp(5,95px) LineClamp(4,68px)--sm1024":F}),se=(0,o.default)(V||oe,"M(0)",{"D(n)--sm1024 Bxz(bb) Pb(2px)":!!D,"C(#959595)":t.read}),re=(0,o.default)("Ov(h)",{"Pend(14%)":!L,"Pend(0)--sm1024":!L&&!U,"Pend(44px)--sm1024":!L&&U,"Pend(44px)":!!L&&U,"Pstart(25px)":!!L&&"large"!==B,"Pos(r)":w,"JsEnabled_Mb(32px)":(H||f.shouldRenderButtons(t))&&!U,"W(100%)":!!L&&"large"===B}),le=[e,O,k],de=v&&this.renderUserintentConfirm();return c.default.createElement(a(21).I13nDiv,{className:(0,o.default)("Py(14px) Pos(r)",{"Trs(streamItemTransition) Mih(100px)":h,"Mih(44px)":v}),"data-test-locator":"mega",i13nModel:n.model},c.default.createElement(b.default,i({className:(0,o.default)("Cf",{"D(n)":v}),nodeName:"div",payload:{url:C,itemI13n:E.itemI13n}},p),F?le:void 0,L,c.default.createElement("div",{className:re},F?void 0:le,c.default.createElement("p",{className:se},s.get("summary")),D,U?void 0:H),U?H:void 0),R,de)}}),e.exports=t.default},2242:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=i(a(6)),r=i(a(4)),l=i(a(2)),d=i(a(95)),u=i(a(10)),c=i(a(0)),f=i(a(1)),p=i(a(1848)),m=n(a(1318)),g=n(a(1368)),h=i(a(17)),_=i(a(507)),v=i(a(1373)),b=i(a(1195)),y=i(a(1385)),x=i(a(1366)),S=i(a(1849)),C=i(a(1369)),M=i(a(203)),w=i(a(294)),E=i(a(8)),I=i(a(1850)),P=i(a(583)),T=i(a(2245)),N=i(a(1411)),k=i(a(503));t.default=(0,r.default)({displayName:"Featured",autobind:!1,mixins:[h.default,_.default,v.default,b.default],contextTypes:{intl:c.default.object.isRequired},propTypes:{},getInitialState:function(){return this.reelStore=this.getStore(k.default),this._getState(this.props)},componentWillMount:function(){this.onClickToggle=this.onClickToggle.bind(this)},componentDidMount:function(){this.setState({buttons:m.shouldRenderButtons(this.props)})},componentWillReceiveProps:function(e){if(e.data!==this.props.data||e.relatedItems!==this.props.relatedItems){var t=this._getState(e);t.buttons=this.state.buttons,this.setState(t)}},_getState:function(e){var t=e.data,a=m.getBaseItemState(e),n=m.isNeedToKnow(t);return a.image=this._getImage(t),a.model=m.getBaseI13n(t,a.image,e.index),a.storylineInitValue=n,a.storylineVisible=n,a.title=null,a},_getImage:function(e){var t=e.get("images")||u.default.Map();return t.get("medium")||t.get("original")},_generateImage:function(e,t){var n,i=this.props.data,o=this.props.config,r=o.video||{},l=o.ui||{},d=l.use_img,c=m.isLazyLoad(this.props),p=(0,s.default)("Pos(r) smartphone_Mx(a) smartphone_Mb(12px) Maw(500px)",{"Ov(h)":d}),g=this.state.image||u.default.Map(),h=g.get("width")||0,_=g.get("height")||0,v=l.thumbnail_min_width||0;if(e)return f.default.createElement("div",{className:p},this._generateVideoThumbnail(i,r,t));if(h&&h>=v){var b=Math.round(_/h*100);0===this.props.index&&(b=Math.min(b,75));var y=d?"img":"div",x={},S={url:g.get("url"),nodeName:y,forceLoad:!c,checkPosition:!1,className:(0,s.default)("Mb(6px)",{"Bdrs(2px)":"sidekick"===l.view,"W(100%) Pos(a)":d},"Bgz(cv) Trsdu(0s)!")};d?x.paddingBottom=b+"%":S.style={paddingBottom:b+"%"};var C;if(this.state.typeIcon){var M="sidekick"===l.view,w=l.magazine_icon,E=w?16:M?20:30,I=M?50:80;C=f.default.createElement(a(1182).TypeIcon,{iconSize:E,lazyLoad:c,magazineFormat:w,orbSize:I,type:this.state.typeIcon})}var P=f.default.createElement(a(80).Img,S);d&&(P=f.default.createElement("div",{style:x},f.default.createElement(a(80).Img,S))),n=f.default.createElement("div",{className:p},P,C)}return n},_generateVideoThumbnail:function(e,t,a){var n={},i={autoplay:t.autoplay,cpos:this.state.model.cpos,enableAd:t.enable_ads,energySaverMode:t.energy_saver_mode,mute:t.mute,stopBufferingOnPause:t.disable_buffer_on_pause,videoId:e.get("id")};t.exp_type&&(i.expType=t.exp_type);var o,s,r;if(this.props.i13n){var u=this.props.i13n.getI13nNode().getMergedModel();i.sec=u.sec,i.ccode=u.ccode;var c=this.getStore(d.default),p=c.getI13nConfig();i.rid=(0,l.default)(p,["rapid","keys","_rid"])}return a?this._addVideoReelProps(e,t,i):i.navToUrlOnClick=t.navigate_on_click&&e.get("link"),n=m.getVideoManagedPlayerConfig(i),n.vpClassName="H(0) Pb(56.25%)",t.enable_cc_on_mute&&(n.ccOnMute=!0),a&&(s=this._getCustomReelComponentConfig(n)),o=s?M.default:N.default,r=s?{components:[s]}:n,f.default.createElement(o,r)},_addVideoReelProps:function(e,t,a){var n=e.mediaItem,i=n&&n.id,o=i?n:{id:e.id,type:"video"},s=this.context.getStore(E.default),r=s&&s.getPageConfig(),l=this.reelStore.getPlaylist(r.channelName);a.expName=t.exp_name||this.reelStore.getExpName(r.channelName),a.expType=t.exp_type||"default",a.showTitleOnHover=t.show_title_on_hover||!0,a.showControls=t.show_controls||!0,a.displayMarkers=t.display_markers||!1,a.hidePlaylist=t.hide_playlist||!0,a.video_reel=!0,a.mediaItem=o,a.playlist={mediaItems:l}},_getCustomReelComponentConfig:function(e){var t,a=this.context.getStore(E.default),n=a&&a.getPageConfig(),i=n&&n.enableCustomReelComponent&&a.getComposite(n.customReelComponentId);return i&&i.components&&(t=Object.assign({},i.components[0]),t.props.videoProps=e),t},_generateStoryline:function(){var e=this.props.data.get("storyline"),t=(0,l.default)(this.props.config,["ui","storyline_min_count"])||e&&e.size||0;if(this.state.storylineVisible&&e&&e.size>=t)return f.default.createElement(T.default,{config:this.props.config,storyline:e,wrapperModel:this.state.model,navParams:this.props.navParams})},_generateRelatedContent:function(){var e=this.state,t=e.relatedItems;if(t){var n=this.context.intl.formatMessage({id:"YOU_MIGHT_ALSO_LIKE"});return f.default.createElement(a(1182).Drawer,{className:"stream-related-content Mb(-12px)",closeButton:!1},f.default.createElement("p",{className:"Fz(13px) Fw(b) C(#111) Mt(12px) Px(12px) Mx(-12px) Pt(12px) Mb(-8px) Bdtw(12px) Bdts(s) Bdtc(#eee)"},n),f.default.createElement(p.default,{axis:"x",className:"Mend(-12px) Mstart(0) Mt(6px) Mb(4px)",stopPropagation:!0},f.default.createElement(I.default,{relatedItems:t,config:this.props.config})))}},_generateStorylineToggle:function(){var e=this.props.data,t=e.get("storyline"),n=this.context.intl.formatMessage,i=m.isNeedToKnow(e),o=e.get("publisher");if(t&&t.size){var r,l=this.state.storylineVisible,d=this.state.storylineInitValue,u=(0,s.default)("Mstart(4px) Trsdu(.42s) Pos(a) T(-5%)",{"Rotate(-180deg)":d&&!l,"Rotate(180deg)":!d&&l});r=n(i?l?{id:"HIDE_STORIES"}:{id:"SHOW_STORIES"}:l?{id:"HIDE_SOURCES"}:{id:"SHOW_SOURCES"});var c={elm:"btn",elmt:l?"hide":"expand"};return f.default.createElement(a(21).I13nButton,{className:(0,s.default)("Pos(r) D(b) P(0) Fz(11px) smartphone_Fz(13px) Bd(0) Z(1) O(0) Whs(nw) Lh(1)",{"C(#959595)":o,"C(#0078ff)":!o}),i13nModel:c,onClick:this.onClickToggle,style:{WebkitTapHighlightColor:"transparent"}},f.default.createElement("span",{className:"Ell Maw(140px) Maw(110px)--sm320 D(ib)"},o||r),f.default.createElement(a(26).Icon,{asset:d?x.default:y.default,className:u,color:o?"#959595":"#0078ff",height:16,width:16,style:{verticalAlign:"initial"}}))}},_generateFollowCluster:function(){if(this.state.followCluster){var e=this.props.data.get("clusterInfo")||u.default.Map(),t=this.props.config.ui.follow_cluster_hover_color,n=e.get("followId"),i=e.get("title"),o=e.get("userFollowing");return f.default.createElement(a(1361).FollowCluster,{className:"Fl(end) Mt(-1px)",enableHoverColor:t,followId:n,showFollowTreatment:(0,l.default)(this.props.config,["ui","show_follow_treatment"]),title:i,userFollowing:"true"===o||!0===o,view:"featured"})}},onClickToggle:function(){this.setState({storylineVisible:!this.state.storylineVisible})},render:function(){var e,t=this.props,n=t.config,i=n.ui||{},o=t.data,r=o.get("summary"),d=o.get("link")||"",u=i.attribution_pos,c=i.title_pos||"bottom",p=this.state.supportsVideoAutoplay&&m.isInlineVideo(o,n),h=g.shouldRenderReel(o,n,this.reelStore),_=h&&g.isReelItemLive(o,this.reelStore),v=o.get("storyline"),b=v&&v.size>0,y="roundup"===o.getIn(["clusterInfo","type"]),x=i.link_classnames,C=i.provider_classnames,M=i.show_label;h&&(p=!0,c=_&&i.title_pos_live_reel||c,M=_&&void 0!==i.show_label_live_reel?i.show_label_live_reel:M),e=y?"needtoknow":"featured";var E,I={className:(0,s.default)(x||"Fz(13px) LineClamp(4,96px)","C(#0078ff):h Td(n)",{"C($c-fuji-blue-4-b) smartphone_C(#000)":!t.read,"C(#959595)":t.read,"smartphone_Fz(19px)":"thingrid"!==i.layout}),followLink:m.shouldFollowLink(o,n),href:d,i13nModel:Object.assign({},this.state.model,{elm:"hdln",pos:1}),navParams:Object.assign(m.getNavParams(o,n),t.navParams),target:o.get("off_network")?(0,l.default)(n,["offnet","target"]):void 0},P=this._generateImage(p,h);M&&(E=f.default.createElement(S.default,{data:o}));var T,N=(0,s.default)({"Mb(2px)":"top"===u,"Ell W(44%)":"bottom"===u&&b}),k=f.default.createElement(a(1182).Attribution,{className:N,data:o});if(!P&&!p){var A=(0,s.default)("M(0) Mt(12px) Lh(18px) LineClamp(3,54.015px)",{"C(#959595)":t.read});T=f.default.createElement("p",{className:A},r)}var O=p?null:f.default.createElement("u",{className:"StretchedBox Z(1)"}),D=(0,s.default)({"Py(20px) smartphone_Px(20px)":"sidekick"!==i.view,"Py(14px) smartphone_Px(20px)":"sidekick"===i.view&&"thingrid"!==i.layout,"Py(10px) H(190px) Px(10px)":"sidekick"===i.view&&"thingrid"===i.layout},"smartphone_Bxsh(streamBoxShadow) Cf",t.className),L=o.get("title");h&&(L=_?g.getItemTitle(o,this.reelStore):this.context.intl.formatMessage({id:"VIDEO_REEL_TITLE"}),L=null!==this.state.title?this.state.title:L);var R=f.default.createElement("h3",{className:(0,s.default)("M(0) Py(1px)",{"Mb(12px)":"top"===c,"Pos(a) B(50px) Start(16px) Lh(22px)":"inline-bottom"===c})},f.default.createElement(w.default,I,f.default.createElement("span",{className:"Fw(600) smartphone_Fw(500)"},L),O)),B=m.shouldRenderButtons(t);return f.default.createElement(a(21).I13nDiv,{className:D,i13nModel:this.state.model,"data-test-locator":e},f.default.createElement("div",{className:"Pos(r)"},this._generateFollowCluster(),E,"top"===u?k:void 0,f.default.createElement("div",{className:"Pos(r)"},"top"===c?R:void 0,P,"bottom"===c?R:void 0,T,B||b||"bottom"===u?f.default.createElement("div",{className:(0,s.default)(C||"Lh(1.2) Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1)",{"Mt(20px)":b&&"sidekick"!==i.view,"Mt(10px)":!b&&"sidekick"!==i.view,"Mt(4px) C(#96989f)":"sidekick"===i.view,"smartphone_H(15px)":B})},this._renderButtons(),b?this._generateStorylineToggle():"bottom"===u?k:void 0):void 0)),this._generateStoryline(),this._generateRelatedContent())},_renderButtons:function(){if(this.state.buttons)return f.default.createElement("div",{className:"NoJs_D(n) Pos(a) End(0) B(-6px)"},this.renderComment(),this.renderHeart({className:"Pstart(23px) Pstart(10px)--sm320",iconSize:25}),this.renderShareModal())},renderComment:function(){var e=this.props.data,t=this.props.config;if(m.shouldRenderComment(e,t)){var a={count:e.get("commentCount"),iconSize:25,model:this.state.model,navParams:{pageTitle:e.get("title"),url:e.get("url")},url:e.get("link"),uuid:e.get("id")};return t.persist_category&&(a.navParams.category=t.category),f.default.createElement(C.default,a)}},renderShareModal:function(){var e=this.props,t=e.config,n=e.data;if(m.shouldRenderShareButtonMenu(n,t)){var i={className:"D(ib) Pos(r) Z(1) Bdrs(50%) W(54px) H(54px) Bgc(#fff)",colors:{initial:"#959595",selected:"#f23347"},iconSize:21},s={buttonRenderer:this.getOpenModalButtonRenderer(),buttonsToShow:m.getButtonsToShow(n,t),className:"D(ib)",enableHeart:m.shouldRenderFollowContent(n,t),enableTumblrReblog:!0,heartProps:i,heartRenderer:this.renderHeart.bind(this),iconSize:25,twitterId:t.twitter_id};return f.default.createElement(a(201).ShareModal,o({},m.getSharingMetadata(n),s))}},getOpenModalButtonRenderer:function(){return function(e){return f.default.createElement(a(331).Button,{className:"O(0):f Bd(0) P(0) Pstart(10px)--sm320 D(ib) Va(m) Pstart(23px)",component:a(21).I13nButton,onClick:e},f.default.createElement(a(26).Icon,{asset:P.default,height:25,color:"#ccc",style:{margin:"auto",verticalAlign:"bottom",position:"relative",top:"-3px"}}))}},renderHeart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.config,n=this.props.data;if(m.shouldRenderFollowContent(n,t)){var i=n.get("id");return f.default.createElement(a(1361).FollowContent,o({},e,{category:t.category,uuid:i}))}}}),e.exports=t.default},2243:function(e,t,a){"use strict";var n,i,o,s,r="transform",l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};"undefined"!=typeof window&&(i=a(1203)),n=a(4)({displayName:"ScrollView",offset:0,offsetTarget:0,offsetMin:0,offsetMax:0,releaseTime:0,afterBoundsTime:0,amplitude:0,getInitialState:function(){return{translate:0,translateTransition:!1}},propTypes:{rubberBandTiming:a(0).number,lubricity:a(0).number,stopPropagation:a(0).bool,axis:a(0).oneOf(["x","y"]),maxRubberBandDistance:a(0).oneOfType([a(0).number,a(0).oneOf([!1])]),transitionStyle:a(0).string,onTap:a(0).func,onPanEnd:a(0).func,children:a(0).element,className:a(0).string},getDefaultProps:function(){return{rubberBandTiming:100,lubricity:.5,axis:"x",maxRubberBandDistance:100,transitionStyle:"all .5s ease-out",stopPropagation:!1,onTap:function(){},onPanEnd:function(){}}},translate:function(e,t){this.setState({translate:e,translateTransition:t})},snapBack:function(e){this.afterBoundsTime=0,this.offset=e,this.translate(e,!0)},autotranslate:function(){var e,t,a,n=this.amplitude,i=this.offsetTarget,o=this.offsetMin,s=this.offsetMax,r=this.props.rubberBandTiming;if(n&&!this.dragging){if(e=Date.now()-this.releaseTime,t=Math.round(-n*Math.exp(-e/325)),(a=i+t)>=s||a<=o)if(!1!==this.props.maxRubberBandDistance&&this.props.maxRubberBandDistance>=0&&(a>s?a=Math.min(a,s+this.props.maxRubberBandDistance):a<o&&(a=Math.max(a,o-this.props.maxRubberBandDistance))),0!==this.afterBoundsTime){if(Date.now()-this.afterBoundsTime>r||this.state.translate===a)return void this.snapBack(a>=s?s:o)}else this.afterBoundsTime=Date.now();t>.5||t<-.5?(this.translate(a),requestAnimationFrame(this.autotranslate)):this.translate(i)}},updateOffsetMin:function(){var e=a(11).findDOMNode(this);this.offsetMin=e[this.maskSpace]-e.firstChild[this.maskScroll]},handleHammer:function(e){var t,a=1e3*e[this.velocityPropName],n=this.offsetMax,i=this.offsetMin,o=!0;switch(t=this.offset+e[this.deltaPropName],!1!==this.props.maxRubberBandDistance&&this.props.maxRubberBandDistance>=0&&(t>n?t=Math.min(t,n+this.props.maxRubberBandDistance):t<i&&(t=Math.max(t,i-this.props.maxRubberBandDistance))),e.type){case"panup":case"pandown":Math.abs(e.deltaY)>Math.abs(e.deltaX)&&(this.dragging=!0,this.translate(t));break;case"panright":case"panleft":Math.abs(e.deltaX)>Math.abs(e.deltaY)&&(this.dragging=!0,this.translate(t));break;case"panend":this.dragging=!1,this.props.onPanEnd(e),0===e.distance?o=!1:Math.abs(a)>10?("y"===this.props.axis&&Math.abs(e.velocityY)>Math.abs(e.velocityX)||"x"===this.props.axis&&Math.abs(e.velocityX)>Math.abs(e.velocityY))&&(this.amplitude=this.props.lubricity*a,this.offsetTarget=Math.round(t+this.amplitude),this.releaseTime=Date.now(),this.offset=this.offsetTarget,this.autotranslate()):t>=n?(this.offset=n,this.translate(n,!0)):t<=i?(this.offset=i,this.translate(i,!0)):this.offset=t;break;case"tap":this.props.onTap(e),o=!1}o&&(e.preventDefault(),this.props.stopPropagation&&e.srcEvent.stopPropagation())},handleOrientationChange:function(){var e,t,a;this.updateOffsetMin(),e=this.offset,t=this.offsetMax,a=this.offsetMin,e>=t?(this.offset=t,this.translate(t)):e<=a&&(this.offset=a,this.translate(a))},componentWillMount:function(){switch(this.props.axis){case"y":this.gestures="tap panend panup pandown",this.deltaPropName="deltaY",this.velocityPropName="velocityY",this.maskSpace="offsetHeight",this.maskScroll="scrollHeight";break;case"x":default:this.gestures="tap panend panleft panright",this.deltaPropName="deltaX",this.velocityPropName="velocityX",this.maskSpace="offsetWidth",this.maskScroll="scrollWidth"}},componentDidMount:function(){var e=a(11).findDOMNode(this);r=Modernizr.prefixed("transform"),s=Modernizr.prefixed("transition"),o=l[s],this.hammer=new i(e,{touchAction:"y"===this.props.axis?"pan-x":"pan-y",cssProps:{tapHighlightColorString:""}}).on(this.gestures,this.handleHammer),this.hammer.get("pan").set({direction:i.DIRECTION_ALL,threshold:10}),this.updateOffsetMin(),window.addEventListener("orientationchange",this.handleOrientationChange,!1)},componentWillUnmount:function(){window.removeEventListener("orientationchange",this.handleOrientationChange),this.hammer.off(this.gestures,this.handleHammer)},componentDidUpdate:function(e){e!==this.props&&this.handleOrientationChange()},render:function(){var e=this.props.axis,t=this.state.translate,n=this.state.translateTransition,i={},o=0,l=0;return"x"===e?o=t+"px":"y"===e&&(l=t+"px"),i[r]="translate3d("+o+","+l+",0)",n&&(i[s]=this.props.transitionStyle),a(1).createElement("div",Object.assign({},this.props,{className:["Ov(h)",this.props.className].join(" "),"aria-hidden":"true"}),a(1).createElement("div",{style:i},this.props.children))}}),e.exports=n},2244:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=(n(a(0)),n(a(1))),o=function(){return i.default.createElement("span",{className:"D(ib) Bgc(#6526c1) C(#fff) Bg(editorsPickGradient) Fw(600) Fz(11px) Px(6px) Py(3px) Bdrs(2px) Mend(11px) Mt(4px)"},(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intl.formatMessage({id:"EDITORS_PICK"})+" ")};o.displayName="EditorsPick",t.default=o,e.exports=t.default},2245:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(6)),o=n(a(17)),s=n(a(10)),r=n(a(2)),l=n(a(4)),d=n(a(294)),u=n(a(0)),c=n(a(1)),f=n(a(1848)),p=n(a(503)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1318));t.default=(0,l.default)({displayName:"StorylineScrollview",autobind:!1,mixins:[o.default,a(199).ComponentMixin],contextTypes:{session:u.default.object},statics:{ignoreImmutableCheck:{props:{config:"SKIP_SHOULD_UPDATE",navParams:"SKIP_SHOULD_UPDATE",wrapperModel:"SKIP_SHOULD_UPDATE"}}},propTypes:{},componentDidMount:function(){var e=this.props.storyline||s.default.List();this.state.numToRender<e.size&&this.setState({numToRender:e.size})},componentWillReceiveProps:function(e){this.props.storyline!==e.storyline&&this.setState(this.getState(e,!0))},getState:function(e,t){var a=e.storyline||s.default.List();return{numToRender:t?a.size:e.config.pageload_storyline_count||3,showImages:a.every(this.getStoryImage)}},getInitialState:function(){return this.reelStore=this.getStore(p.default),this.getState(this.props,!1)},getStoryImage:function(e){if("reel"===e.get("subtype")&&e.getIn(["imageSize","img:reel"]))return e.getIn(["imageSize","img:reel"]);var t=e.get("images")||s.default.Map();return t.get("small_fixed")||t.get("square")},getStorylineComponents:function(){var e=this,t=this,n=t.props,o=t.state,l=n.config,u=o.showImages,f=n.storyline||s.default.List(),p=n.config.ui||{},g=p.show_read,h="smartphone"===t.context.session.dimensions.device;if((p.storyline_min||1)>f.size)return null;var _=(0,i.default)("Td(n) D(ib) Va(t) C($c-fuji-blue-4-b) W(100%)",{"C(#959595):vi":g}),v=(0,i.default)("Fz(13px) LineClamp(3,48px)",{"C(#000) Fw(n)":h,"C(#0078ff):h Fw(b)":!h});return f=f.slice(0,o.numToRender),f.map(function(i,o){var f="reel"===i.get("subtype");s.default.Map.isMap(i)&&f&&(i=(0,a(1368).fetchReelArticleWithThumbnail)(i,l,e.reelStore,l.channelName));var g,b,y=f&&h?p.storyline_reel_link_path:i.get("link")||"",x=u?t.getStoryImage(i):null,S=m.getBaseI13n(i,x,!0),C={className:_,followLink:m.shouldFollowLink(i,n.config),href:y,i13nModel:Object.assign({},S,{elm:"rhdln",pos:o+2}),navParams:{itemI13n:(0,r.default)(e.props,["navParams","itemI13n"]),url:i.get("url")}},M=i.get("title");if(x){b={maxWidth:x.get("width")},g=c.default.createElement(a(80).Img,{url:x.get("url"),checkPosition:!1,className:"Mb(5px) W(100%) H(a)",forceLoad:!0,width:x.get("width"),height:x.get("height"),alt:M})}return c.default.createElement("li",{className:"D(ib) Mend(12px) Whs(n) W(44%)",style:b,key:o},c.default.createElement(d.default,C,g,c.default.createElement("div",{className:v},M),c.default.createElement("div",{className:"C(#959595) Pt(2px)"},i.get("publisher"))))})},render:function(){var e,t=(0,i.default)("Mstart(-20px) Mend(-12px) Mt(20px)",this.props.className);return this.props.storyline&&(e=this.getStorylineComponents()),e?c.default.createElement(f.default,{axis:"x",className:t,stopPropagation:!0},c.default.createElement("ul",{className:"Whs(nw) Pos(r) Z(1) Lh(16px) Fz(11px) Mstart(20px)"},e)):null}}),e.exports=t.default},2246:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(0)),s=n(a(1)),r=n(a(6)),l=n(a(1369)),d=n(a(4)),u=n(a(17)),c=n(a(2)),f=n(a(294)),p=n(a(507)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1318));t.default=(0,d.default)({displayName:"SimpleItem",autobind:!1,mixins:[u.default,p.default],contextTypes:{session:o.default.object},propTypes:{},render:function(){var e=this.props,t=e.config,n=e.data,i=t.ui||{},o=i.view,l="row"===o,d="headlines"===o,u=this.context.session.dimensions.device,f="smartphone"===u,p="smartphone-lite"===u,g=d&&(f||p),h="imageView"===o,_=m.isLazyLoad(e),v=n.get("images"),b=n.getIn(l?["images","img:198x115"]:h?["images","img:300x100"]:f||p?["images","img:100x100"]:["images","img:72x72"])||n.getIn(["images","original"]),y=n.get("link")||"",x={data:n,propertyColors:i.property_colors,textClass:"C(#96989f)"},S=m.getBaseI13n(n,b,e.index);S.elm="hdln",S.pos=1;var C,M=(0,r.default)("Td(n)",{"D(b) Td(n):f":d,"D(ib) Mt(6px)":!d,"C(#0078ff):h C($c-fuji-blue-4-b)":!g}),w={className:M,followLink:m.shouldFollowLink(n,t),href:y,i13nModel:S,navParams:Object.assign(m.getNavParams(n,t),e.navParams),target:n.get("off_network")?(0,c.default)(t,["offnet","target"]):void 0},E=g?(0,r.default)("M(0) Mb(4px) Mt(-2px) Fw(b) Fz(16px)","Fz(15px)--maw370 Lh(1.3) LineClamp(3,4em) LineClamp(2,2.7em)--maw370 Bfv(h) C(#000)"):"Fz(13px) Fw(700) Pb(3px) LineClamp(3,48px)",I=m.getTypeIcon(n,t);return I&&(C=s.default.createElement(a(1182).TypeIcon,{iconSize:16,lazyLoad:_,orbSize:40,type:I})),s.default.createElement("div",{className:(0,r.default)("Lts(n) Whs(n)",{"C($c-fuji-blue-4-b)":!e.read,"C(#959595)":e.read,"Px(9px)":l,"Pend(13px) Pos(r)":d,"Pb(20px) Pstart(20px)":g,"D(tb)":g,"D(b)":!g})},s.default.createElement("div",{className:(0,r.default)({"D(tbr)":g})},s.default.createElement("div",{className:(0,r.default)("Maw(100%) Pos(r) Cur(p) Bdrs(2px)",{"Pb(58.1%) Bgc(#ddd)":l,"D(tbc) W(120px) W(100px)--maw370":g&&v,"W(72px) H(72px) D(ib) Mend(10px) Fl(start)":d&&!f&&!p,"W(300px) H(100px) D(ib) Mend(10px) Fl(start) Bgc(#ddd)":h,"D(n)":d&&!v,"H(0)":!(d&&!f&&!p||h)})},s.default.createElement(a(80).Img,{checkPosition:!1,className:(0,r.default)("Tdrsu(0s)!",{"StretchedBox W(100%) H(100%) ie-7_H(a) Bdrs(2px)":!d,"Bdrs(2px) W(100px) H(100px) W(80px)--maw370 H(80px)--maw370":g,"W(100%) H(100%) ie-7_H(a) Bdrs(2px)":d&&!f&&!p}),forceLoad:!_,url:b&&b.get("url")}),C),s.default.createElement("div",{className:(0,r.default)({"D(tbc) Va(t) W(100%)":d,"Pstart(20px)":v&&g})},d?s.default.createElement("div",null,this.renderHeadline(w,E,x,h),this.renderComment()):this.renderHeadline(w,E,x,h))))},renderHeadline:function(e,t,n,o){var r=this.props||{},l=r.config||{},d=l.ui||{},u=r.data;return u?s.default.createElement(f.default,e,o?null:s.default.createElement("h4",{className:t},u.get("title")),d.attribution_pos?s.default.createElement(a(1182).Attribution,i({className:"Fz(12px) C(#959595)! Ell Mb(2px)"},n)):null,s.default.createElement("u",{className:"StretchedBox"})):null},renderComment:function(){var e=this.props.data,t=this.props.config,a=this.props.navParams;if(!e||!t||!m.shouldRenderComment(e,t))return null;var n={count:e.get("commentCount"),stringClassName:"Mstart(6px) Fw(500)! Fz(12px)!",showDescription:!0,iconColor:"#188fff",iconSize:18,navParams:Object.assign(m.getNavParams(e,t),a),textAlign:"right",url:e.get("link"),uuid:e.get("id")};return s.default.createElement(l.default,n)}}),e.exports=t.default},2247:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(a(1851)).default}}),e.exports=t.default},2248:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(2249)),o=n(a(1720)),s=n(a(1721));t.default=(0,i.default)(n(a(1723)).default,{fetchMoreAction:o.default,loadStreamAction:s.default}),e.exports=t.default},2249:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!t.loadStreamAction)throw new Error(["A `loadStreamAction` is required to create a Stream.","Provide a `loadStreamAction` in the options passed to `createStream`."].join("\n"));var n=(0,A.default)("Stream:"+e.displayName);return(0,s.default)({displayName:"Stream:"+e.displayName,autobind:!1,mixins:[r.default],statics:{componentConfig:t.componentConfig||{bundleName:"tdv2-applet-stream",name:"componentStream"},initializeAction:t.loadStreamAction,resources:t.resources||{streamItems:{action:k.default,params:T.default,fallbackParams:N.default,resource:"StreamService"}}},contextTypes:{getComponent:c.default.func,intl:c.default.object,localStorage:c.default.object,logger:c.default.object,renderTarget:c.default.object.isRequired,session:c.default.object},propTypes:{},getDefaultProps:function(){return{componentConfig:{category:""}}},getInitialState:function(){n("getInitialState");var e=this,t=e.props;e.store=e.getStore(M.default),e.langStore=e.getStore(x.default),e.pageStore=e.getStore(S.default),e.routeStore=e.getStore(C.default);var a={config:e._getConfig(t),fetching:!1,isMounted:!1};return a.data=e._getData(t.id,a.config.category),a},initialComponentActions:function(){if(!this.initialActionsExecuted){var e=this,t=this.state,a=t.config,n=a.ui||{},i=t.data.get("stream_items");if(i){e.initialActionsExecuted=!0;if(((0,l.default)(a,["batches","start_index"])||0)>0)return;if(n.dispatch_content_store&&e.executeAction(w.default,{items:i.toJS(),loadContentAction:n.use_caas?E.default:void 0,snippets:!0,sourceId:e.props.id,prefetch:a.use_prefetch,redisCompress:a.redisCompress,useSlingstoneLcp:g.shouldUseSlingstoneLcp(a),ssEP:a&&a.batches&&a.batches.ss_endpoint||""}),n.follow_content){var o=[];i.forEach(function(e){-1===D.indexOf(e.get("type"))||e.get("isTodayItem")&&!e.get("aid")||o.push(e.get("id"))}),o.length&&e.executeAction(I.default,{uuids:o,instanceId:e.props.id})}}}},componentWillMount:function(){var e=this;e.onFollowContentStoreChange=e.onFollowContentStoreChange.bind(e),e.onStreamStoreChange=e.onStreamStoreChange.bind(e)},componentDidMount:function(){n("componentDidMount");var e=this;e.subscribers=[(0,m.default)("scroll",e.onScroll.bind(e),{enableScrollInfo:!0}),(0,m.default)("resize",e.onResize.bind(e))],e.getStore(y.default).addChangeListener(e.onFollowContentStoreChange),e.store.addChangeListener(e.onStreamStoreChange),setImmediate(function(){e.initialComponentActions(),e.setState({isMounted:!0})})},shouldComponentUpdate:function(e,t){var n=this.state,i=t.config.ui||{};return this.context.renderTarget.isActive()&&t.data.get("category")===t.config.category&&(t.newRelatedItems||t.data!==n.data||t.fetching!==n.fetching||t.config.embedComponents!==n.config.embedComponents||t.isMounted!==n.isMounted&&(-1!==t.config.pageload_item_count||i.show_read)||(0,a(1318).shouldRenderUserintent)(t.config)&&t.userIntentData!==n.userIntentData)},componentDidUpdate:function(){n("componentDidUpdate"),this.state.newRelatedItems&&this.setState({newRelatedItems:!1}),this.onScroll(),this.initialComponentActions(),this.props.onComponentDidUpdate&&this.props.onComponentDidUpdate()},componentWillUnmount:function(){n("componentWillUnmount");var e=this;e.subscribers&&e.subscribers.forEach(function(e){e.unsubscribe()}),e.getStore(y.default).removeChangeListener(e.onFollowContentStoreChange),e.store.removeChangeListener(e.onStreamStoreChange)},componentWillReceiveProps:function(e){n("componentWillReceiveProps");var t=this,a=t._getConfig(e);a.pageload_item_count=-1,t.setState({config:a,data:t._getData(t.props.id,a.category)}),t._maxScroll=0},onScroll:function(e,a){if(this.context.renderTarget.isActive()){var n=this.state.config,i=this.state.data,o=i.get("more_items")||u.default.List(),s=(0,l.default)(n,["batches","pagination"]),r=(0,l.default)(n,["ui","scrollbuffer"])||900;if(s&&!this.state.fetching&&0!==o.count()){var d=a&&a.scroll&&a.scroll.top||window.scrollY||document.documentElement.scrollTop;if(!this._maxScroll||d>this._maxScroll){var c=p.default.findDOMNode(this).getBoundingClientRect(),f=window.innerHeight||document.documentElement.clientHeight;if(this._maxScroll=Math.min(d,d+c.bottom),c.height&&c.bottom-r<f){if(!t.fetchMoreAction)throw new Error(["A `fetchMoreAction` is required to create a Stream with pagination enabled.","Either disable pagination in ./configs/component<MyComponent>.js under","`batches.pagination`, or provide a `fetchMoreAction` in the options passed","to `createStream`."].join("\n"));n.pageload_image_count=-1,this.state.fetching=!0,this.executeAction(t.fetchMoreAction,{componentProps:this.props,config:n})}}}}},onResize:function(e,t){this._maxScroll=0,this.onScroll(null,t)},onFollowContentStoreChange:function(e){n("onFollowContentStoreChange");var t=this;e&&(0,l.default)(t.state.config,["ui","related_enabled"])&&setImmediate(t._fetchRelated.bind(t,e))},onStreamStoreChange:function(e){if(n("onStreamStoreChange"),e){var t=this,i=t.props.id,o=e.type,s=t.state.config,r=s.ui||{},d=(0,l.default)(s,["batches","start_index"])||0,u=s.category||"";if(e.id===i||d>0&&e.category===u)"STREAM_INIT"!==o&&"STREAM_BATCH"!==o||t.setState({data:t._getData(i,u),fetching:!1}),"STREAM_RELATED"===o&&t.setState({newRelatedItems:!0}),"STREAM_INIT"===o?(t._maxScroll=0,e.cached&&!e.fromLS||(t.initialActionsExecuted=!1)):t.onScroll();else if("STREAM_RESET"===o&&s.clear_on_navigate)t.setState({data:t._getData(i,u)});else if("STREAM_UPDATE_UUID"===o&&e.uuid&&r.related_enabled)setImmediate(t._fetchRelated.bind(t,e));else if("STREAM_PAGE_CATEGORY"===o&&!0===s.use_page_category){var c=this.store.getPageCategory();c&&u!==c&&(s.category=c,t.setState({config:s}))}else"USERINTENT_CHANGE"===o&&(0,a(1318).shouldRenderUserintent)(s)&&t.setState({userIntentData:e})}},_fetchRelated:function(e){var t=this.state.config.category,a=this.props.id,n=[],i=this.store;if("STREAM_UPDATE_UUID"===e.type&&e.uuid)i.isStreamItem(a,t,e.uuid)&&n.push(e.uuid);else if("SET_CONTENT_FOLLOW_STATE"===e.type&&"set"===e.action){var o=this.getStore(y.default);e.uuids.forEach(function(e){o.getContentState(e)&&i.isStreamItem(a,t,e)&&n.push(e)})}n.length&&this.executeAction(P.default,{config:this.state.config,instanceId:this.props.id,uuids:n})},_getData:function(e,t){var a=this.store.getInstance(e,t);return a.get("fromLS")?u.default.Map():a.get("data")},_getConfig:function(e){var t=this,a=Object.assign({},e.componentConfig,g.getCategoryOverrides(t.store,e.componentConfig));a.content_site=t._getContentSite(),a.twitter_id=t._getTwitterId();var n=a.ui&&a.ui.view;return"megastream"===n?(t.context.logger.warn("Stream: ui.view=megastream is deprecated. Please move to ui.view=mega"),a.ui=Object.assign({},a.ui,{button_pos:"right",image_classes:"W(26.5%) Maw(220px)",view:"mega"})):"list"===n&&(t.context.logger.warn("Stream: ui.view=list is deprecated. Please move to ui.view=mega"),a.ui=Object.assign({},a.ui,{view:"mega"})),"failsafe"===(0,l.default)(t.context,["session","dimensions","mode"])?a=(0,d.default)({},a,g.getFailsafeConfigs(a)):(0,l.default)(t.context,["session","isLightWeightBrowser"],!1)&&(a=(0,d.default)({},a,g.getLightWeightConfigs(a))),a},_getContentSite:function(){var e=this.routeStore.getCurrentRoute()||{};return(0,l.default)(e,["params","contentSite"])||e.contentSite||(0,l.default)(this.context,["session","dimensions","site"])||"fp"},_getTwitterId:function(){var e=this.pageStore.getPageData();return(0,l.default)(e,["meta","name","twitter:site"])||(0,l.default)(e,["meta","property","twitter:site"])||"Yahoo"},_getItemComponent:function(e,t,n){var i=Object.assign({props:{}},t),o=this.state.config,s=this.state.userIntentData;return i.props.key="item-"+n+"-"+e.get("id"),i.props.id="item-"+n,i.props.index=n,i.props.locales=this.props.locales,i.props.messages=this.langStore.getStrings(i.bundleName),i.props.navParams=g.getItemNavParams(o,this.state.data,e,n),i.props.config=o,i.props.data=e,(0,a(1318).shouldRenderUserintent)(o)&&s&&(i.props.userIntentData=s),(0,l.default)(o,["ui","related_enabled"])&&(i.props.relatedItems=this.store.getRelatedItemsByUuid(e.get("id"))),i},_getEmbedComponents:function(e){var t=e.embedComponents;return t?t.map(function(e){var t=e.props||{},n={bundleName:e.bundleName,name:e.name,props:t},i="streamembed-"+e.index;return{component:f.default.createElement(a(150).Composite,{key:i,components:[n]}),index:e.index}}):[]},_makeItems:function(e,t,a){var n=this,i=n.context.localStorage,s="desktop"===n.context.session.dimensions.device,r=this.state.isMounted&&i&&i.getItem("strm-read")||{},l=a.ui||{},d=l.show_read,u=l.item_classnames;return t.map(function(t,a){var i=e.get(a),c=n._getItemComponent(i,t,a),f=i.get("id"),p=i.get("isPromoAd"),m=(0,o.default)("js-stream-content",{"D(n)":c.props.hideItem,"Pos(r)":s,"Ov(h) Fl(start) P(0px) My(0px) Mb(-4px)":"thingrid"===l.layout,"H(210px) W(50%)--po W(33%)--lso":"thingrid"===l.layout&&!p,"W(100%)":"thingrid"===l.layout&&p},u);return c.props.read=!(!d||!r[f]),{key:"list-"+a,component:c,itemClasses:m}})},_makeTitle:function(e){var t=e.ui||{},a=t.title;if("disabled"!==a){var n=t.titleKey,i=t.titleValues;if(!n&&("sidekick"===t.view&&(n="SIDEKICK_TITLE"),"discussion"===t.view&&(n="SIDEPIC_TITLE"),e.use_article_category)){var o=this.store.getArticleCategoryLabel();o?(n="MORE_ON",i={category:o}):n="MORE"}if(a||n){return f.default.createElement(v.default,{className:t.title_classnames,intl:this.context.intl,title:a,titleKey:n,titleValues:i})}}},getContentIndexByUuid:function(e,t){var a,n=e.size;if(n>0&&t)for(a=0;a<n;a++)if(e.getIn([a,"id"])===t)return a;return-1},render:function(){n("render");var t=this.state,a=t.data||u.default.Map(),i=t.config||{},o=i.ui||{},s=o.view;if(a.get("category")!==i.category)return f.default.createElement("div",null);var r=a.get("stream_items")||u.default.List(),d=r.size,c=(0,l.default)(i,["batches","start_index"])||0,p=(0,l.default)(i,["batches","end_index"])||d-1,m=i.pageload_item_count,g=!t.isMounted&&m>=0?m:d;p=Math.min(p,c+g-1);var _=r.slice(c,p+1),v=a.get("components")||u.default.List();if(v=v.slice(c,p+1).toJS(),o.exclude_current_content){var y=this.context.getStore(b.default).getCurrentContent(),x=y&&y.get("uuid"),S=this.getContentIndexByUuid(_,x);S>=0&&(_=_.splice(S,1),v.splice(S,1),d--)}var C;if(0===c&&(d<i.min_count||0===d&&i.category)){if(!1===i.ui.show_error)return f.default.createElement("div",null);C=f.default.createElement(h.default,{itemCount:d,config:i})}var M=Object.assign({cat:i.category,ccode:a.get("ccode"),itc:0,sec:"strm"},i.i13n);"sidekick"===s&&(M.sec="sdkick");var w=f.default.createElement(O,{embedComponents:this._getEmbedComponents(i),errorItem:C,items:this._makeItems(_,v,i),i13nModel:M}),E=Object.assign({appletTitle:this._makeTitle(i),errorItem:C,id:this.props.id},this.state);return f.default.createElement(e,E,w)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(a(6)),s=n(a(4)),r=n(a(17)),l=n(a(2)),d=n(a(27)),u=n(a(10)),c=n(a(0)),f=n(a(1)),p=n(a(11)),m=n(a(39)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1440)),h=n(a(1715)),_=n(a(2250)),v=n(a(1716)),b=n(a(92)),y=n(a(535)),x=n(a(117)),S=n(a(8)),C=n(a(22)),M=n(a(1546)),w=n(a(1181)),E=n(a(1201)),I=n(a(1547)),P=n(a(1718)),T=n(a(1374)),N=n(a(1719)),k=n(a(1548)),A=n(a(3)),O=(0,a(21).createI13nNode)(_.default),D=["article","slideshow","video"];e.exports=t.default},2250:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(0)),s=n(a(1)),r=["off_network","type"],l=function(e,t){var n=e.items,o=e.errorItem,l=e.embedComponents,d=t.session||{},u=d.isDevInfo,c=d.isYnet,f=n.map(function(e,n){var o=e.component,l=o.props.data,d=t.getComponent(o.bundleName,o.name),f={className:e.itemClasses||""};return u&&(f.className+=" Pos(r)"),c&&r.forEach(function(e){var t=l.get(e);void 0!==t&&(f["data-test-"+e]=String(t))}),s.default.createElement("li",i({key:e.key},f),u?s.default.createElement(a(1182).DebugStreamItem,{data:l}):void 0,s.default.createElement(d,o.props))});return l&&l.forEach(function(e){f.splice(e.index,0,e.component)}),s.default.createElement("ul",{className:"Mb(0) Ov(h) P(0) Wow(bw)"},f,o)};l.displayName="Items",l.contextTypes={getComponent:o.default.func.isRequired,session:o.default.object},t.default=l,e.exports=t.default}});