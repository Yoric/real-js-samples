webpackJsonp([27],{1843:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.meta=t.controllerViews=void 0;var a;t.controllerViews={DataUtility:(a||function(){return a=r(n(2150))}()).default},t.meta={langBundle:"react-finance"}},1920:function(e,t,n){"use strict";function r(){return o=a(n(134))}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LIST_IDS=t.QUOTE_FIELDS=t.COLUMNS_TO_STREAM=t.LIST_TABLE_CONFIG=t.TABLE_CONFIG=t.TABLE_COLUMNS=t.DATAUTILITY_TYPES=void 0;var o,i,u,s,l=t.DATAUTILITY_TYPES={DEFAULT:"default",NARROW:"narrow"},c=(t.TABLE_COLUMNS=(i={},(0,(o||r()).default)(i,l.DEFAULT,[{raw:"symbol"},{raw:"regularMarketPrice"},{raw:"regularMarketChange"},{raw:"regularMarketChangePercent"}]),(0,(o||r()).default)(i,l.NARROW,[{raw:"symbol",type:"chartQuoteLink"},{raw:"regularMarketPrice",type:"priceWithChange"}]),i),t.TABLE_CONFIG=(u={},(0,(o||r()).default)(u,l.DEFAULT,{ui:{isEditable:!0,quoteStreaming:!0},col:{0:{className:"Whs(nw) Py(6px) Ta(start)"}}}),(0,(o||r()).default)(u,l.NARROW,{ui:{isEditable:!0,quoteStreaming:!0},col:{0:{className:"Whs(nw) Py(6px) Va(m)! Ta(start)"}},row:{className:"Bgc($extraLightBlue):h BdB Bdbc($finLightGrayAlt) Bdbc($tableBorderBlue):h H(40px)"}}),u));t.LIST_TABLE_CONFIG=(s={},(0,(o||r()).default)(s,l.DEFAULT,Object.assign({},c[l.DEFAULT],{ui:{maxRows:5,quoteStreaming:!0}})),(0,(o||r()).default)(s,l.NARROW,Object.assign({},c[l.NARROW],{ui:{maxRows:5,quoteStreaming:!0}})),s),t.COLUMNS_TO_STREAM=["regularMarketPrice","regularMarketChange","regularMarketChangePercent"],t.QUOTE_FIELDS=["symbol","shortName","longName","regularMarketPrice","regularMarketChange","regularMarketChangePercent"],t.LIST_IDS={recentQuotes:"recent",cryptocurrencies:"list",trending_tickers:"list",most_active:"list",gainers:"list",losers:"list",mutualfunds:"list",etfs:"list",currencies:"list",commodities:"list",signedOut:"signedOut",promoImage:"promoImage","ad-lrec":"ad-lrec","ad-srec":"ad-srec","ad-lrec2":"ad-lrec2",sidekickTv:"sidekickTv",options_highest_open_interest:"list",options_highest_implied_volatility:"list"}},1937:function(e,t,n){"use strict";function r(){return p=f(n(42))}function a(){return m=f(n(43))}function o(){return h=f(n(47))}function i(){return b=f(n(48))}function u(){return g=f(n(1))}function s(){return E=f(n(0))}function l(){return v=f(n(133))}function c(){return y=n(21)}function d(){return _=n(16)}function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var p,m,h,b,g,E,v,y,_,x=function(e){function t(e,n){(0,(p||r()).default)(this,t);var a=(0,(h||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.onClose=a.onClose.bind(a),a.onSubmit=a.onSubmit.bind(a),a}return(0,(b||i()).default)(t,e),(0,(m||a()).default)(t,[{key:"onClose",value:function(){this.context.executeAction((v||l()).default.hide),"function"==typeof this.props.onClose&&this.props.onClose()}},{key:"onSubmit",value:function(e){e.preventDefault(),"function"==typeof this.props.onSubmit&&(this.props.onSubmit(e),this.onClose())}},{key:"render",value:function(){var e=this.props,t=e.rapidSec,n=e.children,r=e.titleMessageId,a=e.subTitleMessage,o=e.submitMessageId,i=e.errorMessageId,s=e.submitI13nModel;return(g||u()).default.createElement("section",{className:"Bxsh($boxAreaShadow) Bgc(white) P(25px) Pos(f) T(50%) Start(50%) Translate(-50%,-50%) Miw(400px) Miw(300px)--mobp","data-test":"fin-pfModal"},(g||u()).default.createElement("h2",{className:"Fz(17px) C(black) Mb(10px)"},(g||u()).default.createElement((y||c()).FormattedMessage,{id:r})),a&&(g||u()).default.createElement("h3",{className:"Fz(m) Fw(500) C($c-fuji-grey-i) Mb(10px)"},a),i&&(g||u()).default.createElement("div",{className:"C($dataRed) Fw(500) Fz(s) Mb(5px)"},(g||u()).default.createElement((y||c()).FormattedMessage,{id:i})),(g||u()).default.createElement("form",{onSubmit:this.onSubmit},(g||u()).default.createElement("div",null,n),(g||u()).default.createElement("div",{className:"Bfc Mt(20px)"},(g||u()).default.createElement((_||d()).I13nButton,{type:"submit",className:"Bgc($c-fuji-blue-1-b) Bgc($actionBlueHover):h C(white) Fw(500) Px(20px) Py(9px) Bdrs(3px) Bd(0) Fz(s) D(ib) Whs(nw) Miw(110px) O(n):f",i13nModel:Object.assign({},s,{sec:t,slk:"submit",itc:1,elm:"btn",elmt:"cl",rspns:"cl"})},(g||u()).default.createElement((y||c()).FormattedMessage,{id:o})),(g||u()).default.createElement((_||d()).I13nButton,{type:"button",className:"C($c-fuji-blue-1-b) Bd Bdc($c-fuji-blue-1-b) Bdc($actionBlueHover):h C($c-fuji-blue-1-b) C($actionBlueHover):h C($actionBlueHover):f Fw(500) Px(20px) Py(8px) Bdrs(3px) Fz(s) D(ib) Mstart(20px) Whs(nw) Miw(110px) O(n):f",i13nModel:{sec:t,slk:"cancel",itc:1,elm:"btn",elmt:"cl",rspns:"cl"},onClick:this.onClose},(g||u()).default.createElement((y||c()).FormattedMessage,{id:"CANCEL"})))))}}]),t}((g||u()).default.Component);x.displayName="PortfolioPopup",x.contextTypes={executeAction:(E||s()).default.func.isRequired},x.defaultProps={submitMessageId:"SUBMIT"},t.default=x,e.exports=t.default},1948:function(e,t,n){"use strict";function r(){return v=E(n(42))}function a(){return y=E(n(43))}function o(){return _=E(n(47))}function i(){return x=E(n(48))}function u(){return S=E(n(1))}function s(){return I=E(n(0))}function l(){return N=E(n(2052))}function c(){return C=n(21)}function d(){return T=n(14)}function f(){return M=E(n(1721))}function p(){return P=E(n(1728))}function m(){return O=E(n(273))}function h(){return w=E(n(694))}function b(){return L=n(67)}function g(){return F=E(n(407))}function E(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var v,y,_,x,S,I,N,C,T,M,P,O,w,L,F,k={BTN:"button",LINK:"link",NOMODAL:"nomodal"},R=function(e){function t(e){(0,(v||r()).default)(this,t);var n=(0,(_||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.rapidSec=e.rapidSec||(0,(L||b()).getRapidSec)("AddSymbolBtn"),n.onAdd=n.onAdd.bind(n),n.setDropdownRef=n.setDropdownRef.bind(n),n}return(0,(x||i()).default)(t,e),(0,(y||a()).default)(t,[{key:"setDropdownRef",value:function(e){e&&(this.listDropDown=e)}},{key:"closeDropDown",value:function(){this.listDropDown&&this.listDropDown.closeMenu()}},{key:"onAdd",value:function(e,t){(0,(L||b()).fireRapidEvent)("add-symbol",this,{sec:this.props.rapidSec,subsec:this.props.subSec,slk:t,outcm:t+" added"}),this.context.executeAction((N||l()).default,{symbols:t,pfId:this.props.pfId,silent:!1}),this.closeDropDown(),"function"==typeof this.props.onAdd&&this.props.onAdd(e,t)}},{key:"renderDropdown",value:function(e){var t=e.containerClass,n=e.inputClass,r=void 0===n?"":n,a=e.resultClassName,o=void 0===a?"":a,i=this.props,s=i.showTip,l=i.subSec,d=i.autoFocus,m=(S||u()).default.createElement((P||p()).default,{inputClassNames:(F||g()).default.input+"Pend(30px) My(8px) W(100%) "+r,resultClassNames:"W(100%) T(38px) "+o,containerClassNames:"Bxz(bb) Z(2) "+t,submitButtonClassName:"D(n)!",searchIconClassNames:"Pos(a) Px(8px) T(15px) End(12px) Fz(m) H(15px) W(15px) Stk($c-fuji-blue-1-b)! Fill($c-fuji-blue-1-b)!",haveSubmitButton:!1,onEscape:this.onEscapeActive,onSubmit:this.onAdd,onSelect:this.onAdd,searchI13n:{subsec:l},placeholderKey:"AUTOCOMPLETE_PLACEHOLDER",showFooter:this.props.showFooter,resultsRowConfig:{type:"addSymbol"},autoToggleResults:!1,autoFocus:d}),h=void 0;return s&&(h=(S||u()).default.createElement("div",{key:"tip",className:"Px(8px) C($c-fuji-grey-j) Pt(6px) Pb(10px)"},(S||u()).default.createElement("div",{className:"Mb(10px) Fw(500) Fz(14px)"},(S||u()).default.createElement((C||c()).FormattedMessage,{id:"ENTER_SYMBOL_COMPANY"})),(S||u()).default.createElement("div",{className:"Mb(10px)"},(S||u()).default.createElement((C||c()).FormattedMessage,{id:"LOOKUP_FOOTER_TIP"})),(S||u()).default.createElement("div",null,(S||u()).default.createElement((C||c()).FormattedMessage,{id:"CASH_TIP"})))),[(S||u()).default.createElement((M||f()).default,{key:"signin",signedInElement:m,wrapInDialog:!0}),h]}},{key:"render",value:function(){var e=this.props,t=e.menuClassName,n=e.arrowStyle,r=e.className,a=e.type,o=void 0,i=void 0,s=void 0,l=void 0;return a===k.NOMODAL?(S||u()).default.createElement("div",{className:"Pos(r) "+r},this.renderDropdown({inputClass:"Fz(m)",containerClass:"Px(8px)"})):(a===k.LINK?(o="add-sym-btn Td(n) Fz(s) D(ib) Bxz(bb) Py(7px) Px(0) C($c-fuji-blue-1-b) C($actionBlueHover):h Fw(500) ",i="H(13px) add-sym-btn:h_Fill($actionBlueHover)! add-sym-btn:h_Stk($actionBlueHover)! Mend(4px) Mt(-3px) Va(m)!",s="#0081f2",l="T(35px) "):(o="Bgc($c-fuji-blue-1-b) Bgc($actionBlueHover):h C(white) Fw(500) Pstart(10px) Pend(15px) Py(8px) Bdrs(3px) Bd(0) Fz(s) D(ib) Whs(nw) Miw(110px)",i="Fill(white)! Stk(white)! Fw(b) Pend(6px) Mt(-3px) Va(m)!",s="#fff",l="Start(-45px) T(45px) "),(S||u()).default.createElement((O||m()).default,{id:this.rapidSec,ref:this.setDropdownRef,content:this.renderDropdown({containerClass:"Py(0) Px(8px) W(300px) Maw(98%)",resultClassName:"Mx(-8px)"}),className:"M(0) D(ib) Bdrs(3px) Fz(s)",menuClassName:"Bd Bdrs(3px) Bdc($c-fuji-grey-c) Z(10) Bxsh($boxShadow) Bgc(white) W(300px) Ta(start) Cur(a) "+l+t,showClose:!1,showArrow:!0,arrowStyle:n},(S||u()).default.createElement("div",{className:o+r,"data-test":"add-symbol-btn"},(S||u()).default.createElement((T||d()).Icon,{asset:(w||h()).default,height:13,color:s,className:i}),(S||u()).default.createElement((C||c()).FormattedMessage,{id:"ADD_SYMBOL"}))))}}]),t}((S||u()).default.PureComponent);R.displayName="AddSymbolBtn",R.defaultProps={type:k.LINK,className:"",menuClassName:"End(0)",arrowStyle:{left:15},subSec:"",autoFocus:!1,showTip:!1},R.contextTypes={executeAction:(I||s()).default.func.isRequired},t.default=R,e.exports=t.default},1959:function(e,t,n){"use strict";function r(){return p=s(n(2))}function a(){return m=s(n(22))}function o(){return h=s(n(6))}function i(){return b=s(n(1742))}function u(){return g=s(n(405))}function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return e.getStore((b||i()).default).dehydrate().toJS()}function c(e,t,n){var o=(0,(p||r()).default)(t,"currentState");if(!o)return n((m||a()).default.http.create(400,"Missing current user preferences value",{debug:[t]}));e.service.update("finance_user_preferences",{userPreferences:{watchlist:{isDefaultOrder:!1,pfOrder:o.pfOrder||[],isVisible:o.isVisible||{}}}},{},null,function(t,o){t||o||(t=(m||a()).default.http.badGateway("Empty user pref response")),t||(o=(0,(p||r()).default)(o,"userPreferences.watchlist",{isDefaultOrder:!0}),e.dispatch("USER_PREFERENCES_LOAD",{pfOrder:o.pfOrder||[],isDefaultOrder:o.isDefaultOrder,isVisible:o.isVisible||{}})),n(t,o)})}function d(e,t){var n=e.getStore((g||u()).default),r=n.getOrderedLists(),a=[E];if(t&&t.forEach(function(e){a.push(e)}),a=(h||o()).default.OrderedSet(a),r.isEmpty())return a;var i=r.toArray().map(function(e){return e.get("pfId")}),s=n.getDefaultPortfolio();return s&&(i.splice(i.indexOf(s.get("pfId")),1),i.unshift(s.get("pfId"))),(h||o()).default.OrderedSet(i).concat(a)}function f(e,t){var n=e.getStore((b||i()).default),r=n.getPfOrder();if(r.isEmpty())return d(e,t);var a=e.getStore((g||u()).default),s=a.getOrderedLists(),l=[];s.forEach(function(e,t){r.includes(t)||l.push(t)});var c=[E];return t&&t.forEach(function(e){c.push(e)}),c=(h||o()).default.OrderedSet(c),(h||o()).default.OrderedSet(l).withMutations(function(e){e.merge(r).merge(c)})}Object.defineProperty(t,"__esModule",{value:!0});var p,m,h,b,g,E="recentQuotes";t.default={getDefaultListOrder:d,getListOrder:f,getCurrentUserPfState:l,updatePreferences:c},e.exports=t.default},1961:function(e,t,n){"use strict";function r(){return m=c(n(1))}function a(){return h=n(21)}function o(){return b=c(n(93))}function i(){return g=c(n(2154))}function u(){return E=c(n(1706))}function s(){return v=n(27)}function l(){return y=c(n(111))}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var m,h,b,g,E,v,y,_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I={quoteStreaming:!0,isEditable:!1,showDashes:!0},N={symbol:"TD_SYMBOL",regularMarketPrice:"LAST_PRICE",regularMarketChange:"TD_CHANGE",regularMarketChangePercent:"TD_PERCENT_CHANGE"},C={regularMarketPrice:"change",regularMarketChange:"colorChange",regularMarketPercentChange:"colorChange",regularMarketChangePercent:"colorChange",symbol:"quoteLink"},T=function(e){function t(e){d(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.rapidSec=e.rapidSec||"mini-data-table",n}return p(t,e),S(t,[{key:"getCellContent",value:function(e){var t=e.fieldId,n=e.rowData,i=e.columnType,c=this.props.config.ui,d=c.quoteStreaming,f=c.showDashes,p=n[t]||{},g=("object"===(void 0===p?"undefined":x(p))?p.raw:p)||0,_=("object"===(void 0===p?"undefined":x(p))?p.fmt:p)||"",S=i||C[t],I=n.underlyingSymbol||n.symbol||n.ticker||"";switch(S){case"chartQuoteLink":case"quoteLink":var N=(y||l()).default.decode(n.longName||n.shortName||"");if(N||n.quoteType){var T=(0,(v||s()).generateURL)("chartQuoteLink"===S?"chart":"quote",{symbol:I,comscoreEnabled:!0});return[(m||r()).default.createElement((b||o()).default,{key:"quote",href:T,title:N,followLink:!1,className:"Fw(b) Ell D(b)",i13nModel:{itc:0,elm:"qte",elmt:"link",subsec:this.props.subSec,sec:this.rapidSec}},I),"quoteLink"===S?(m||r()).default.createElement("p",{key:I,title:N,className:"Fz(xs) Pt(2px) M(0) C($c-fuji-grey-j) Pos(a) Fw(400)! Ell Maw(220px)"},N):null]}return(m||r()).default.createElement("div",{title:N,className:"Fw(500) D(ib) Ell"},I);case"priceWithChange":var M=n.regularMarketPrice,P=n.regularMarketChange,O=n.regularMarketChangePercent,w=n.priceHint;if(M&&!isNaN(M.raw)&&M.fmt)return[(m||r()).default.createElement((E||u()).default,{key:"price",className:"Fw(500)",symbol:I,field:"regularMarketPrice",value:M.raw,textColor:!1,config:{priceHint:w},streamingEnabled:d},_),(m||r()).default.createElement("p",{key:"change"},P&&O?[(m||r()).default.createElement((E||u()).default,{key:"change",className:"IbBox Fz(xs) Mend(5px)",symbol:I,field:"regularMarketChange",value:P.raw,textColor:!0,config:{priceHint:w},streamingEnabled:d},P.fmt),(m||r()).default.createElement((E||u()).default,{key:"changepercent",className:"IbBox Fz(xs)",symbol:I,field:"regularMarketChangePercent",value:O.raw,textColor:!0,cconfig:{priceHint:w},streamingEnabled:d},O.fmt)]:"-")];break;case"change":case"colorChange":if(_&&!isNaN(g))return(m||r()).default.createElement((E||u()).default,{className:"Fw(500)",symbol:I,field:t,value:g,textColor:"colorChange"===S,config:{priceHint:n.priceHint},streamingEnabled:d},_)}return _||(f?"-":(m||r()).default.createElement((h||a()).FormattedMessage,{id:"NA"}))}},{key:"renderHeader",value:function(){var e=this.props.columns,t=this.props.config.col||{},n=t.className||"Whs(nw) Ta(end) Pstart(10px) Py(6px)",o=e.length,i=0,u=[];for(i;i<o;i++){var s=e[i],l=n;t[i]&&(l=t[i].headerClassName||t[i].className||l);var c={style:{},className:l+" Fz(xs) Va(m) Py(5px) Fw(400) "};0===i&&(c.className+=" Ta(start) Pend(10px)");var d=s.fmt;d||(d=void 0===N[s.raw]?"SCREENER_FIELD_"+s.raw:N[s.raw]),u[i]=(m||r()).default.createElement("th",_({key:s.raw},c),""===d?d:(m||r()).default.createElement((h||a()).FormattedMessage,{id:d}))}return(m||r()).default.createElement("tr",{className:"C($c-fuji-grey-j) BdB Bxz(bb) Bdc($c-fuji-grey-c)"},u)}},{key:"renderRows",value:function(){var e=this.props,t=e.columns,n=e.rowId,a=e.config,o=e.isLoading,u=e.rapidSec,s=e.rows,l=a.col||{},c=l.className||"Whs(nw) Ta(end) Pstart(10px) Py(6px)",d=a.row||{},f=a.ui&&a.ui.isEditable,p=[],h=0,b=void 0,E=t.length,v=o?5:void 0!==a.ui.maxRows?Math.min(a.ui.maxRows,s.length):s.length,y=d.className||"Bgc($extraLightBlue):h BdB Bdbc($finLightGrayAlt) Bdbc($tableBorderBlue):h H(44px)";for(h;h<v;h++){var _=s[h]||{},x=o?"":_[n],S=[];if("$$CASH"!==_.symbol){for(b=0;b<E;b++){var I=t[b].raw,N=l[b]&&l[b].className||c,C=t[b].type||l[b]&&l[b].type,T=b===E-1;0===b&&(N+=" Start(0) Pend(10px)"),S[b]=(m||r()).default.createElement("td",{key:I+b,className:"Va(t) Fz(14px) "+N},o?(m||r()).default.createElement("div",{className:"gray-placeholder W(100%) H(30px) My(6px)"}):this.getCellContent({fieldId:I,rowData:_,columnType:C,rowIndex:h}),T&&f?(m||r()).default.createElement((g||i()).default,{className:"Pos(a) Mt(15px) End(-2px) Py(2px) Px(8px) V(h) dt-row:h_V(v)",symbol:_.symbol,onDelete:this.props.onDeleteRow,posId:_.posId,rapidSec:u}):null)}var M=d[h]&&d[h].className||"";p[h]=(m||r()).default.createElement("tr",{key:x+h,className:"dt-row "+y+" "+M},S)}}return p}},{key:"render",value:function(){var e=this.props.config;return e.ui=Object.assign({},I,e.ui),(m||r()).default.createElement("table",{className:"W(100%) Pos(r) Tbl(f) "+this.props.className},(m||r()).default.createElement("thead",null,this.renderHeader()),(m||r()).default.createElement("tbody",null,this.renderRows()))}}]),t}((m||r()).default.Component);T.displayName="MiniDataTable",T.defaultProps={columns:[],subSec:"",className:"Bdcl(c) BdB Bdc($c-fuji-grey-c)",config:{},isLoading:!1,rows:[],rowId:"symbol",id:"mini-data-table"},t.default=T,e.exports=t.default},1962:function(e,t,n){"use strict";function r(){return d=c(n(1))}function a(){return f=c(n(93))}function o(){return p=n(14)}function i(){return m=c(n(1948))}function u(){return h=n(67)}function s(){return b=n(1920)}function l(){return g=c(n(693))}function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d,f,p,m,h,b,g,E=function(e){var t=e.showHeader,n=e.href,c=e.type,E=e.listId,v=e.title,y=e.className,_=e.rapidSec,x=e.showAddButton;if(!t)return null;var S=void 0,I=void 0;if(n&&v){var N="Wow(bw) Us(n) D(ib)",C=void 0;c!==(b||s()).DATAUTILITY_TYPES.NARROW?(C=(d||r()).default.createElement((p||o()).Icon,{asset:(g||l()).default,height:16,className:"Px(2px) Pt(3px)"}),x&&(N+=" Mt(5px) ",I=(d||r()).default.createElement("div",{className:"Fl(end) Fw(500)"},(d||r()).default.createElement((m||i()).default,{pfId:E,type:"link",menuClassName:"W(250px)! End(0)",containerClassNames:"Va(m) Fl(end) Cl(start)",arrowStyle:{left:80},rapidSec:_,subSec:"symbol-"+E,autoFocus:!0})))):N="D(b) Ell Maw(150px)",S=(d||r()).default.createElement((f||a()).default,{href:n,title:v,className:"Va(m) Fw(b) Fz(m) C(black) "+N,followLink:0!==n.indexOf("/"),i13nModel:(0,(h||u()).geti13nModel)("link",{sec:_,subsec:E}),"data-test":"list-name"},v,C)}return(d||r()).default.createElement("header",{className:y},S,I)};E.displayName="DataUtilitySectionHeader",E.defaultProps={className:"My(5px)",showAddButton:!1,showHeader:!1},t.default=E,e.exports=t.default},1972:function(e,t,n){"use strict";function r(){return h=m(n(42))}function a(){return b=m(n(43))}function o(){return g=m(n(47))}function i(){return E=m(n(48))}function u(){return v=m(n(1))}function s(){return y=m(n(0))}function l(){return _=m(n(2053))}function c(){return S=n(21)}function d(){return I=n(16)}function f(){return N=m(n(2008))}function p(){return C=m(n(1705))}function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var h,b,g,E,v,y,_,x,S,I,N,C,T=function(e){function t(){(0,(h||r()).default)(this,t);var e=(0,(g||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onCancel=e.onCancel.bind(e),e.onSubmit=e.onSubmit.bind(e),e.setInputRef=e.setInputRef.bind(e),e.setCurrencyRef=e.setCurrencyRef.bind(e),e._requestPending=!1,e}return(0,(E||i()).default)(t,e),(0,(b||a()).default)(t,[{key:"setInputRef",value:function(e){e&&(this.inputNode=e,e.focus())}},{key:"setCurrencyRef",value:function(e){e&&(this.currencySelect=e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.meta,n=e.hasError,r=e.onCreate;if(this._requestPending){var a=t.lastCreatedList;!n&&a&&a.pfName===this.inputNode.value&&(this.inputNode.value="","function"==typeof r&&r({pfName:a.pfName,pfId:a.id})),this._requestPending=!1}}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.inputNode.value;if(t.trim()){var n=this.currencySelect&&this.currencySelect.getValue();this._requestPending=!0,this.context.executeAction((_||l()).default,{silent:!1,pfName:t,baseCurrency:n})}}},{key:"onCancel",value:function(e){"function"==typeof this.props.onCancel&&this.props.onCancel(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.showCurrency,r=e.currencies,a=e.hasError,o=e.rapidSec,i=this.context.intl.formatMessage,s=n&&r&&r.map(function(e){return{data:e.symbol,content:e.longName+" ("+e.symbol+")"}}),l=void 0;a&&(l=(v||u()).default.createElement("div",{className:"C($c-fuji-red-2-b) Fw(500) Fz(s) Mb(5px)"},(v||u()).default.createElement((S||c()).FormattedMessage,{id:"CREATE_PF_ERROR"})));var p=s&&n;return(v||u()).default.createElement("section",{className:t,"data-test":"fin-create-pfModal"},(v||u()).default.createElement("h2",{className:"Fz(17px) C(black) Mb(10px)"},(v||u()).default.createElement((S||c()).FormattedMessage,{id:"CREATE_PORTFOLIO"})),l,(v||u()).default.createElement("form",{onSubmit:this.onSubmit},(v||u()).default.createElement("div",null,(v||u()).default.createElement("input",{required:!0,className:"Fz(s) H(34px) Bdc($c-fuji-grey-c) Bdc($c-fuji-blue-1-b):f W(100%) Pstart(6px) Fw(500) "+(p?" Mb(20px)":""),placeholder:i({id:"ENTER_PORTFOLIO_NAME"}),autoFocus:!0,ref:this.setInputRef})),(v||u()).default.createElement("div",null,p?(v||u()).default.createElement((N||f()).default,{name:"currency-select",className:"H(36px) D(b) W(100%)",iconClassName:"H(100%) W(8px) Va(m)! Mstart(8px)",options:s,selected:"USD",ref:this.setCurrencyRef}):null),(v||u()).default.createElement("div",{className:"Bfc Mt(20px)"},(v||u()).default.createElement((I||d()).I13nButton,{type:"submit",className:"Bgc($c-fuji-blue-1-b) Bgc($actionBlueHover):h C(white) Fw(500) Px(20px) Py(9px) Bdrs(3px) Bd(0) Fz(s) D(ib) Whs(nw) Miw(110px) O(n):f",title:i({id:"SUBMIT"}),i13nModel:{sec:o,slk:"submit",itc:0,elm:"btn",elmt:"done",rspns:"nav"}},(v||u()).default.createElement((S||c()).FormattedMessage,{id:"SUBMIT"})),(v||u()).default.createElement((I||d()).I13nButton,{type:"button",className:"C($c-fuji-blue-1-b) Bd Bdc($c-fuji-blue-1-b) Bdc($actionBlueHover):h C($c-fuji-blue-1-b) C($actionBlueHover):h C($actionBlueHover):f Fw(500) Px(20px) Py(8px) Bdrs(3px) Fz(s) D(ib) Mstart(20px) Whs(nw) Miw(110px) O(n):f",title:i({id:"CANCEL"}),i13nModel:{sec:o,slk:"cancel",itc:1,elm:"btn",elmt:"cl",rspns:"cl"},onClick:this.onCancel},(v||u()).default.createElement((S||c()).FormattedMessage,{id:"CANCEL"})))))}}]),t}((v||u()).default.PureComponent);T.displayName="CreatePortfolio",T.contextTypes={executeAction:(y||s()).default.func.isRequired,getStore:(y||s()).default.func.isRequired,intl:(y||s()).default.object.isRequired},T.defaultProps={className:"Bxsh($boxAreaShadow) Bgc(white) P(25px) Pos(f) T(50%) Start(50%) Translate(-50%,-50%) Miw(400px) Miw(300px)--mobp",rapidSec:"fin-creat-pf",showCurrency:!0},t.default=(0,(x||function(){return x=m(n(162))}()).default)(T,[(C||p()).default],function(e,t){var n=e.getStore((C||p()).default);return{meta:n.getMeta(),isLoading:n.isLoading(),currencies:n.getCurrencies(),hasError:n.hasError("PORTFOLIO_CREATE_FAIL")}}),e.exports=t.default},1980:function(e,t,n){"use strict";function r(){return o=n(1776)}function a(e,t,n){t||(t={});var a=e.request&&e.request.req,i=(0,(o||r()).getTickersFromCookie)(a);if(!i||!i.length)return n();var u=(0,(o||r()).formatAsRecentQuotes)(i);t.silent||e.dispatch("RECENT_QUOTES_LOAD",u),n(null,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o;e.exports=t.default},2004:function(e,t,n){"use strict";function r(){return m=f(n(22))}function a(){return h=f(n(28))}function o(){return b=n(67)}function i(){return g=f(n(94))}function u(){return E=f(n(45))}function s(){return v=n(687)}function l(){return y=f(n(411))}function c(){return _=f(n(219))}function d(){return x=f(n(1738))}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(!(0,(b||o()).isSignedIn)(e))return void(n&&n());var f=t.realTime,p=void 0===f||f,I=t.pfId,N=t.silent,C=void 0!==N&&N,T=t.setLoading,M=void 0===T||T,P=t.viewId,O=t.callback;M&&e.dispatch("SET_FIN_PF_LIST_LOADING",{loading:!0}),(E||u()).default.waterfall([(y||l()).default.bind(null,e,t),function(t){var n=e.request.user.guid;if(!n){var a=(m||r()).default.http.unauthorized("Portfolio load action: Unable to fetch user guid");return e.dispatch("SET_FIN_PF_LIST_ERROR",{error:I?(v||s()).EVENT_LOAD_PF_FAIL:(v||s()).EVENT_LOAD_PFS_FAIL}),void t(a)}var o={userId:n};if(I){o.pfIds=I;var u=(v||s()).PORTFOLIO_FIELDS;if(P){var l=e.getStore((x||d()).default).getViews(P);l&&(u=l.columns||(v||s()).PORTFOLIO_FIELDS)}u=u.reduce(function(e,t){return(v||s()).PORTFOLIO_COLUMN_APIS[t]?e.concat((v||s()).PORTFOLIO_COLUMN_APIS[t]):(e.push(t),e)},S),o.fields=u.join(",")}(0,(g||i()).default)(e,{resource:p||I?"tachyon.portfolio":"tachyon.portfolios",params:o}).then(function(e){t(null,e)}).catch(function(e){t(e)})}],function(t,r){if("function"==typeof O&&O(t,r),I&&r&&r.portfolios&&!r.portfolios.length)return void e.executeAction((_||c()).default,{code:302,redirect:{url:(h||a()).default.format({pathname:"/portfolios",query:(0,(b||o()).hasFeature)(e,"yahooapp")?{yahooapp:1}:{}})}},n);C?M&&e.dispatch("SET_FIN_PF_LIST_LOADING",{loading:!1}):t?e.dispatch("SET_FIN_PF_LIST_ERROR",{error:I?(v||s()).EVENT_LOAD_PF_FAIL:(v||s()).EVENT_LOAD_PFS_FAIL}):I?e.dispatch("FIN_PF_LIST_LOAD",(0,(v||s()).parseData)(I,r)):e.dispatch("FIN_PF_LIST_LOAD",(0,(v||s()).parseData)(null,r)),n&&n(t,r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var m,h,b,g,E,v,y,_,x,S=["shortName","longName","priceHint","regularMarketPrice","currentMarketValue","totalPercentGain","totalGain"];e.exports=t.default},2005:function(e,t,n){"use strict";function r(){return l=u(n(22))}function a(){return c=n(94)}function o(){return d=u(n(133))}function i(){return f=n(687)}function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=t.pfId,u=t.posIds;if(!n)throw(l||r()).default.http.badRequest("deletePositions: missing `pfId`");if(!u)throw(l||r()).default.http.badRequest("deletePositions: missing `posIds`");var s=e.request.user.guid;if(!s)throw(l||r()).default.http.badRequest("deletePositions: Unable to fetch user guid");return(0,(c||a()).fetchService)(e,{resource:"tachyon.portfolioUpdate",params:{action:"update",userId:s,pfId:n},method:"update",body:{parameters:{userId:s,userIdType:"guid",pfId:n,fullResponse:!0},operations:u.map(function(e){return{operation:"position_delete",posId:e}})}}).then(function(){e.dispatch("FIN_PF_LIST_DELETE_POSITIONS",{pfId:n,posIds:u}),e.executeAction((d||o()).default.hide)}).catch(function(t){throw e.dispatch("SET_FIN_PF_LIST_ERROR",{error:(f||i()).EVENT_DELETE_POSITIONS_FAIL}),t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var l,c,d,f;e.exports=t.default},2006:function(e,t,n){"use strict";function r(){return s=u(n(22))}function a(){return l=u(n(2))}function o(){return c=u(n(1752))}function i(){return d=u(n(1959))}function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!t.pfId){var u=(s||r()).default.http.badRequest("Missing pfId",{debug:[t]});return e.dispatch("USER_PREFERENCES_LOAD_FAIL",u),n(u)}t.currentState=(d||i()).default.getCurrentUserPfState(e);var f="currentState.isVisible."+t.pfId,p=(0,(l||a()).default)(t,f,!0);(0,(c||o()).default)(t,f,!p),e.executeAction((d||i()).default.updatePreferences,t,n)};var s,l,c,d;e.exports=t.default},2007:function(e,t,n){"use strict";function r(){return i=o(n(22))}function a(){return u=o(n(1959))}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!Array.isArray(t.order))return n((i||r()).default.http.badRequest("Missing new order",{debug:[t]}));var o=(u||a()).default.getCurrentUserPfState(e);o.pfOrder=t.order,(u||a()).default.updatePreferences(e,{currentState:o},n)};var i,u;e.exports=t.default},2008:function(e,t,n){"use strict";function r(){return d=c(n(42))}function a(){return f=c(n(43))}function o(){return p=c(n(47))}function i(){return m=c(n(48))}function u(){return h=c(n(1))}function s(){return b=n(14)}function l(){return g=c(n(712))}function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d,f,p,m,h,b,g,E=function(e){function t(e){(0,(d||r()).default)(this,t);var n=(0,(p||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=e.selected,i=0;if(a)for(var u=0;u<e.options.length;u++)if(e.options[u].data===a){i=u;break}return n.onChange=n.onChange.bind(n),n.state={selectedIndex:i},n}return(0,(m||i()).default)(t,e),(0,(f||a()).default)(t,[{key:"onChange",value:function(e){var t=this.props.onChange,n=e.target.value,r=e.target.selectedIndex;this.setState({selectedIndex:r}),"function"==typeof t&&t(e,{value:n,selectedIndex:r})}},{key:"getValue",value:function(){return this.props.options[this.state.selectedIndex].data}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.options,r=e.iconClassName,a=e.name,o=this.state.selectedIndex;return(h||u()).default.createElement("label",{className:"Pos(r) Bd Bdc($c-fuji-grey-c) M(0) "+t,"data-test":a+"-sel"},(h||u()).default.createElement("div",{className:" H(100%) Va(m) D(ib)"}),(h||u()).default.createElement("div",{className:"Fw(500) D(ib) Va(m) Mstart(8px)"},n[o].content),(h||u()).default.createElement("div",{className:"D(ib) Va(m) Fl(end) Mend(8px) H(100%)"},(h||u()).default.createElement((b||s()).Icon,{asset:(g||l()).default,className:r})),(h||u()).default.createElement("select",{className:"Pos(a) W(100%) H(100%) Z(1) Op(0) Start(0) T(0) D(b) Bd(0) Fz(s) Cur(p)",value:n[o].data,onChange:this.onChange},n.map(function(e){return(h||u()).default.createElement("option",{key:e.data,value:e.data},e.content)})))}}]),t}((h||u()).default.Component);E.displayName="NativeSelect",E.defaultProps={className:"",name:"select",options:[],iconClassName:"W(8px) Va(m)! Mstart(8px) Stk($c-fuji-blue-1-b)! Fill($c-fuji-blue-1-b)! H(100%)"},t.default=E,e.exports=t.default},2023:function(e,t,n){"use strict";function r(){return d=u(n(1))}function a(){return f=u(n(407))}function o(){return p=n(16)}function i(){return m=n(27)}function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d,f,p,m,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=Function.prototype,g=function(e){function t(e){s(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onConfirm=n.onConfirm.bind(n),n.onCancel=n.onCancel.bind(n),n}return c(t,e),h(t,[{key:"onConfirm",value:function(e){e.preventDefault(),this.props.onConfirm&&this.props.onConfirm(e)}},{key:"onCancel",value:function(e){e.preventDefault(),this.props.onCancel&&this.props.onCancel(e)}},{key:"render",value:function(){var e=(0,(m||i()).getRapidSec)("ConfirmModal"),t={sec:e,_p:"0",slk:this.props.confirmText,elmt:"dn",rspns:"updct",outcm:"confirm"},n={sec:e,_p:"1",slk:this.props.cancelText,elmt:"cl",rspns:"cl",outcm:"cancel"};return(d||r()).default.createElement("div",{className:this.props.className},(d||r()).default.createElement("h4",null,this.props.title),(d||r()).default.createElement("p",{className:"Mt(5px)"},this.props.message),(d||r()).default.createElement("form",{onSubmit:this.onConfirm},this.props.children,(d||r()).default.createElement("div",{className:"Bfc My(20px)"},(d||r()).default.createElement((p||o()).I13nButton,{type:"submit",className:(f||a()).default.btn_primary+(f||a()).default.btn_primary_large+"proceed Mend(10px)",autoFocus:!0,i13nModel:t},this.props.confirmText),(d||r()).default.createElement((p||o()).I13nButton,{className:(f||a()).default.btn_secondary+(f||a()).default.btn_secondary_large+"cancel",onClick:this.onCancel,i13nModel:n},this.props.cancelText))))}}]),t}((d||r()).default.PureComponent);g.displayName="ConfirmModal",g.defaultProps={className:"dropbox modal Ta(c) Pt(15px)",onCancel:b,onConfirm:b},t.default=g,e.exports=t.default},2052:function(e,t,n){"use strict";function r(){return s=i(n(22))}function a(){return l=n(687)}function o(){return c=i(n(45))}function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Function.prototype;t||(t={});var i=t,u=i.pfId,d=i.symbols,f=i.silent,p=void 0===f||f,m=e.request.user.guid;if(!m)return void n((s||r()).default.http.badRequest("addPositions: Unable to fetch user guid"));if(!u||!d)return void n((s||r()).default.http.badRequest("Missing `pfId` or `symbols`:",{debug:[t]}));if(u===(l||a()).MULTI_QUOTE_PF_ID)return void n();var h=Array.isArray(d)?d:d.split(",");(c||o()).default.auto([function(t){e.service.read("finance.quote",{symbols:h.join(",")},function(e,n){t(e,n)})},function(t){var n={parameters:{userId:m,userIdType:"guid",pfId:u,fullResponse:!0},operations:h.map(function(e){return{operation:"position_insert",symbol:e}})};e.service.update("finance.watchlist",null,n,null,function(e,n){t(e,n)})}],function(t,o){if(!t&&o&&o[1]&&o[1].portfolio||(t=t||(s||r()).default.http.internalServerError("position add failed:"+u+" and symbols: "+h.join(","))),!p)if(t)e.dispatch("SET_FIN_PF_LIST_ERROR",{error:(l||a()).EVENT_EDIT_PF_FAIL,ignoreLoading:!0});else{var i=o[1];e.dispatch("FIN_PF_LIST_UPDATE",Object.assign({},(0,(l||a()).parseData)(u,{portfolio:i.portfolio,quotes:o[0]}),{pfId:u,silent:!1}))}n(t,o)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var s,l,c;e.exports=t.default},2053:function(e,t,n){"use strict";function r(){return c=s(n(22))}function a(){return d=n(27)}function o(){return f=n(687)}function i(){return p=s(n(133))}function u(){return m=s(n(96))}function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Function.prototype,s=t.pfName,l=t.defaultPf,h=void 0!==l&&l,b=t.silent,g=void 0===b||b,E=t.baseCurrency,v=void 0===E?"USD":E,y=t.symbols;if(!s){var _=(c||r()).default.http.badRequest("Missing list name",{debug:[t]});return g||e.dispatch("SET_FIN_PF_LIST_ERROR",{error:(f||o()).EVENT_CREATE_PF_FAIL,ignoreLoading:!0}),void n(_)}var x=e.request.user.guid;if(!x)return void n((c||r()).default.http.badRequest("createPortfolio: Unable to fetch user guid"));var S={parameters:{userId:x,userIdType:"guid",fullResponse:!0},operations:[{operation:"portfolio_update",pfName:s,baseCurrency:v,defaultPf:!!h}]};if(y){S.operations=S.operations.concat((Array.isArray(y)?y:y.split(",")).map(function(e){return{operation:"position_insert",symbol:e}}))}e.service.create("finance.watchlist",null,S,null,function(t,l){if(!t&&l&&l.portfolio&&l.portfolio.pfId||(t=t||(c||r()).default.http.internalServerError("Unable to create watchlist - pfId not found for "+s)),!g){if(!t)return e.dispatch("FIN_PF_LIST_CREATE",{id:l.portfolio.pfId,list:l.portfolio}),(p||i()).default.hide(e,null),void(0,(m||u()).default)(e,{url:(0,(d||a()).generateURL)("portfolio",{pfId:l.portfolio.pfId}),type:"default"},n);e.dispatch("SET_FIN_PF_LIST_ERROR",{error:(f||o()).EVENT_CREATE_PF_FAIL,ignoreLoading:!0})}n(t,l)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c,d,f,p,m;e.exports=t.default},2054:function(e,t,n){"use strict";function r(){return h=m(n(42))}function a(){return b=m(n(43))}function o(){return g=m(n(47))}function i(){return E=m(n(48))}function u(){return v=m(n(1))}function s(){return y=m(n(0))}function l(){return _=m(n(2055))}function c(){return x=m(n(1937))}function d(){return I=m(n(1705))}function f(){return N=n(687)}function p(){return C=n(21)}function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var h,b,g,E,v,y,_,x,S,I,N,C,T=function(e){function t(){(0,(h||r()).default)(this,t);var e=(0,(g||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onSubmit=e.onSubmit.bind(e),e.setInputRef=e.setInputRef.bind(e),e}return(0,(E||i()).default)(t,e),(0,(b||a()).default)(t,[{key:"setInputRef",value:function(e){e&&(this.inputRef=e,e.focus())}},{key:"onSubmit",value:function(){this.context.executeAction((_||l()).default,{pfId:this.props.pfId,pfName:this.inputRef.value})}},{key:"render",value:function(){var e=this.props,t=e.hasError,n=e.pfName,r=this.context.intl.formatMessage;return(v||u()).default.createElement((x||c()).default,{rapidSec:"fin-rename-pf",onSubmit:this.onSubmit,titleMessageId:"RENAME_PORTFOLIO",errorMessageId:t&&"RENAME_PORTFOLIO_ERROR",submitMessageId:"SAVE"},(v||u()).default.createElement("p",{className:"M(0) Mb(10px) P(0) Fz(s)"},(v||u()).default.createElement((C||p()).FormattedMessage,{id:"RENAME_MODAL_MESSAGE",values:{pfName:n}})),(v||u()).default.createElement("input",{required:!0,className:"Fz(s) H(34px) Bdc($c-fuji-grey-c) Bdc($c-fuji-blue-1-b):f W(100%) Pstart(6px) Fw(500)",placeholder:r({id:"ENTER_PORTFOLIO_NAME"}),defaultValue:n,ref:this.setInputRef}))}}]),t}((v||u()).default.Component);T.displayName="RenamePortfolioPopup",T.defaultProps={pfName:""},T.contextTypes={executeAction:(y||s()).default.func.isRequired,intl:(y||s()).default.object.isRequired},t.default=(0,(S||function(){return S=m(n(162))}()).default)(T,[(I||d()).default],function(e,t){return{hasError:e.getStore((I||d()).default).hasError((N||f()).EVENT_RENAME_PORTFOLIO_FAIL)}}),e.exports=t.default},2055:function(e,t,n){"use strict";function r(){return l=u(n(22))}function a(){return c=n(94)}function o(){return d=u(n(133))}function i(){return f=n(687)}function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=t.pfId,u=t.pfName;if(!n)throw(l||r()).default.http.badRequest("renamePortfolio: missing `pfId`");if(!u)throw(l||r()).default.http.badRequest("renamePortfolio: missing `pfName`");var s=e.request.user.guid;if(!s)throw(l||r()).default.http.badRequest("renamePortfolio: Unable to fetch user guid");return(0,(c||a()).fetchService)(e,{resource:"tachyon.portfolioUpdate",params:{action:"update",userId:s,pfId:n},method:"update",body:{parameters:{userId:s,userIdType:"guid",pfId:n,fullResponse:!0},operations:[{operation:"portfolio_update",pfName:u}]}}).then(function(t){if(!t)throw(l||r()).default.http.internalServerError("renamePortfolio: No list received");delete t.positions,e.dispatch("FIN_PF_LIST_UPDATE",{pfId:n,list:t}),e.executeAction((d||o()).default.hide)}).catch(function(t){throw e.dispatch("SET_FIN_PF_LIST_ERROR",{error:(f||i()).EVENT_RENAME_PORTFOLIO_FAIL}),t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var l,c,d,f;e.exports=t.default},2056:function(e,t,n){"use strict";function r(){return h=m(n(42))}function a(){return b=m(n(43))}function o(){return g=m(n(47))}function i(){return E=m(n(48))}function u(){return v=m(n(1))}function s(){return y=m(n(0))}function l(){return _=m(n(2057))}function c(){return x=m(n(1937))}function d(){return I=m(n(1705))}function f(){return N=n(687)}function p(){return C=n(21)}function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var h,b,g,E,v,y,_,x,S,I,N,C,T=function(e){function t(){(0,(h||r()).default)(this,t);var e=(0,(g||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onSubmit=e.onSubmit.bind(e),e.state={errorMessage:null},e}return(0,(E||i()).default)(t,e),(0,(b||a()).default)(t,[{key:"onSubmit",value:function(e){this.context.executeAction((_||l()).default,{pfId:this.props.pfId})}},{key:"render",value:function(){var e=this.props,t=e.hasError,n=e.pfName;return(v||u()).default.createElement((x||c()).default,{rapidSec:"fin-delete-pf",onSubmit:this.onSubmit,titleMessageId:"DELETE_PORTFOLIO_TITLE",errorMessageId:t&&"DELETE_PORTFOLIO_ERROR",submitMessageId:"CONFIRM",submitI13nModel:{slk:"submit",itc:0,elm:"btn",elmt:"done",rspns:"nav"}},(v||u()).default.createElement("p",{className:"M(0) Mb(10px) P(0) Fz(s)"},(v||u()).default.createElement((C||p()).FormattedMessage,{id:"CONFIRM_DELETE_MSG",values:{pfName:n}})))}}]),t}((v||u()).default.PureComponent);T.displayName="DeletePortfolioPopup",T.defaultProps={pfName:""},T.contextTypes={executeAction:(y||s()).default.func.isRequired},t.default=(0,(S||function(){return S=m(n(162))}()).default)(T,[(I||d()).default],function(e,t){return{hasError:e.getStore((I||d()).default).hasError((N||f()).EVENT_DELETE_PORTFOLIO_FAIL)}}),e.exports=t.default},2057:function(e,t,n){"use strict";function r(){return c=s(n(22))}function a(){return d=n(94)}function o(){return f=s(n(133))}function i(){return p=s(n(96))}function u(){return m=n(687)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=t.pfId;if(!n)throw(c||r()).default.http.badRequest("deletePortfolio: missing `pfId`");var s=e.request.user.guid;if(!s)throw(c||r()).default.http.badRequest("deletePortfolio: Unable to fetch user guid");return(0,(d||a()).fetchService)(e,{resource:"tachyon.portfolioDelete",params:{userId:s,pfId:n},method:"delete"}).then(function(){e.executeAction((f||o()).default.hide),e.executeAction((p||i()).default,{url:"/portfolios"})}).catch(function(t){throw e.dispatch("SET_FIN_PF_LIST_ERROR",{error:(m||u()).EVENT_DELETE_PORTFOLIO_FAIL}),t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c,d,f,p,m;e.exports=t.default},2095:function(e,t,n){"use strict";function r(){return b=p(n(1980))}function a(){return g=p(n(2004))}function o(){return E=p(n(715))}function i(){return v=p(n(2151))}function u(){return y=p(n(215))}function s(){return _=n(1920)}function l(){return x=p(n(2))}function c(){return S=n(67)}function d(){return I=p(n(45))}function f(){return C=n(687)}function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){var r=!(0,(x||l()).default)(t,["recentQuotes","err"])&&t.recentQuotes,a=t.portfolios&&t.portfolios.portfolios,i={};if(r&&r.positions)for(var u=0;u<r.positions.length;u++)i[r.positions[u].symbol]=!0;if(a&&a.length)for(var s=0;s<a.length;s++)if(a[s].positions)for(var c=0;c<a[s].positions.length;c++)i[a[s].positions[c].symbol]=!0;var d=Object.keys(i);if(!d.length)return void n();e.dispatch("QUOTEDATA_LOADING",d),d.sort(),(0,(E||o()).default)(e,{symbols:d,finalFields:t.fields},function(t,o){a&&o&&e.dispatch("FIN_PF_LIST_LOAD",(0,(C||f()).parseData)(null,{portfolios:a,quotes:o})),r&&r.positions&&o&&e.dispatch("RECENT_QUOTES_LOAD_QUOTE_DATA",o),n(t,o)})}function h(e,t,n){t||(t={});var o={portfolios:(S||c()).continueOnError.bind(null,(g||a()).default,e,{realTime:!1,setLoading:!1,silent:!1}),recentQuotes:(S||c()).continueOnError.bind(null,(b||r()).default,e,{}),userPreferences:(S||c()).continueOnError.bind(null,(v||i()).default,e,{}),initialQuotes:["portfolios","recentQuotes",function(t,n){n.fields=(_||s()).QUOTE_FIELDS,T("Fetching fields",n.fields),(0,(S||c()).continueOnError)(m,e,n,t)}]};t.componentProps&&t.componentProps.sidekickTvModEnabled&&(o.loadSidekick=(S||c()).continueOnError.bind(null,(y||u()).default,e,{name:"sidekickTv-0-Channels",components:[t.componentProps.sidekickTvConfig],parentComponent:{bundleName:"DataUtility",name:"DataUtility"}})),(I||d()).default.auto(o,function(t){t&&e.logger.error(t),n()})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchQuotes=m,t.default=h;var b,g,E,v,y,_,x,S,I,N,C,T=(0,(N||function(){return N=p(n(75))}()).default)("FinApp:initInitialDataUtil")},2150:function(e,t,n){"use strict";function r(){return O=P(n(42))}function a(){return w=P(n(43))}function o(){return L=P(n(47))}function i(){return F=P(n(48))}function u(){return k=P(n(1))}function s(){return R=P(n(0))}function l(){return B=P(n(2152))}function c(){return D=P(n(2153))}function d(){return j=P(n(2155))}function f(){return U=P(n(2156))}function p(){return $=P(n(2157))}function m(){return H=P(n(698))}function h(){return q=P(n(1781))}function b(){return z=n(21)}function g(){return W=P(n(2158))}function E(){return V=P(n(2159))}function v(){return Y=P(n(1739))}function y(){return G=P(n(11))}function _(){return K=P(n(1742))}function x(){return Z=P(n(1705))}function S(){return J=P(n(699))}function I(){return X=n(67)}function N(){return ee=n(27)}function C(){return te=n(1920)}function T(){return ne=n(170)}function M(){return re=P(n(137))}function P(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var O,w,L,F,k,R,A,B,D,j,U,$,H,q,z,W,V,Y,Q,G,K,Z,J,X,ee,te,ne,re,ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe=function(e){function t(){(0,(O||r()).default)(this,t);var e=(0,(L||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.rapidSec=(0,(X||I()).getRapidSec)("DataUtility"),e}return(0,(F||i()).default)(t,e),(0,(w||a()).default)(t,[{key:"componentDidMount",value:function(){this.context.executeAction((B||l()).default,{enableLoading:!0,fields:(te||C()).QUOTE_FIELDS})}},{key:"getCustomizedListOrder",value:function(e){var t=e.isUserSignedIn,n=this.getListOrder(t),r=this.context.getStore((J||S()).default).getConfig("app",["base","marketdata","lists"]),a=this.context.getStore((Z||x()).default),o=this.context.intl.formatMessage;return n.map(function(e){var n=(te||C()).LIST_IDS[e]||"portfolio";switch(n){case"recent":return{type:n,title:o({id:"RQ_TITLE"}),listId:e,isEditable:t,href:(0,(ee||N()).generateURL)("watchlist",{pfId:e})};case"list":return{type:n,title:o({id:r.getIn([e,"name"],e.toUpperCase()+"_TITLE")}),listId:e,href:r.getIn([e,"uri"],(0,(ee||N()).generateURL)("watchlist",{pfId:e}))};case"signedOut":return null;default:var i=a.getLists(e);if(!i)return null;var u=!i.linkedAccount&&!i.following&&t;return{type:n,isEditable:u,isDeletable:u&&!i.defaultPf,title:i.pfName,listId:e,href:(0,(ee||N()).generateURL)("portfolio",{pfId:e})}}})}},{key:"insertAdSections",value:function(e){var t=[{pos:1,type:"ad-srec"},{pos:2,type:"ad-lrec"},{pos:6,type:"ad-lrec2"}];this.props.sportsPromoConfig&&(t=[{pos:1,type:"ad-srec"},{pos:2,type:"ad-lrec"},{pos:3,type:"promoImage"},{pos:7,type:"ad-lrec2"}]),t.forEach(function(t){e.splice(t.pos,0,t.type)})}},{key:"injectSidekickTv",value:function(e){for(var t=-1,n=0;n<e.length;n++)if("ad-lrec"===e[n]){t=n;break}e.splice(-1!==t?t+1:1,0,"sidekickTv")}},{key:"getListOrder",value:function(e){var t=this.props,n=t.listIds,r=t.userListIds,a=t.type,o=void 0;return e?o=r:(o=n,a!==(te||C()).DATAUTILITY_TYPES.NARROW&&o.splice(1,0,"signedOut")),o}},{key:"renderSections",value:function(e){var t=this,n=this.props,r=n.visibleLists,a=n.componentConfig,o=n.type,i=this.getListOrder(e);return this.props.withAds&&this.insertAdSections(i),this.props.sidekickTvModEnabled&&this.injectSidekickTv(i),(0,(re||M()).default)(i).map(function(n,i){if(e&&!1===r[n])return null;switch((te||C()).LIST_IDS[n]||"portfolio"){case"recent":return(k||u()).default.createElement((j||d()).default,{key:n,config:a,listId:n,type:o,showHeader:!0,rapidSec:t.rapidSec});case"list":return(k||u()).default.createElement((D||c()).default,{key:n,listId:n,type:o,showHeader:!0,rapidSec:t.rapidSec});case"signedOut":return(k||u()).default.createElement(($||p()).default,{key:n+i,listId:n,type:o,showHeader:!0,rapidSec:t.rapidSec});case"promoImage":return(k||u()).default.createElement((q||h()).default,ae({key:"sportspromo-datautil"},t.props.sportsPromoConfig));case"ad-srec":return(k||u()).default.createElement((H||m()).default,{key:"SCREC",pos:"SCREC",style:{marginBottom:20,marginTop:20}});case"ad-lrec":return[(k||u()).default.createElement((H||m()).default,{key:"LREC",pos:"LREC",style:{marginBottom:20,marginTop:20}}),(k||u()).default.createElement((H||m()).default,{key:"MON",pos:"MON",style:{marginBottom:20,marginTop:20}})];case"ad-lrec2":return(k||u()).default.createElement((H||m()).default,{key:"LREC2",pos:"LREC2",style:{marginBottom:20,marginTop:20}});case"sidekickTv":var s=t.context.getStore((G||y()).default).getComposite("sidekickTv-0-Channels"),l=s&&s.components;return l&&l.length>0?(k||u()).default.createElement((Y||v()).default,{key:"sidekickTv",components:l}):null;default:return(k||u()).default.createElement((U||f()).default,{key:n,config:a,listId:n,type:o,showHeader:!0,rapidSec:t.rapidSec})}})}},{key:"render",value:function(){var e=this.props,t=e.visibleLists,n=e.componentConfig,r=e.type,a=(0,(X||I()).isSignedIn)(this.context),o=void 0;if(r!==(te||C()).DATAUTILITY_TYPES.NARROW){var i=n&&n.useNewCustomize;o=(k||u()).default.createElement("header",{className:"Pos(r)"},(k||u()).default.createElement("div",{className:"Fz(14px) Fw(b) Lh(1) IbBox Ell Maw(210px)",id:"data-util-header"},(k||u()).default.createElement((z||b()).FormattedMessage,{id:"DATA_UTILITY_PF_TITLE"})),i?(k||u()).default.createElement((V||E()).default,{isUserSignedIn:a,order:this.getCustomizedListOrder({isUserSignedIn:a,visibleLists:t}),visibleLists:t,rapidSec:this.rapidSec,showNewListForm:!0}):(k||u()).default.createElement((W||g()).default,{isUserSignedIn:a,order:this.getCustomizedListOrder({isUserSignedIn:a,visibleLists:t}),visibleLists:t,rapidSec:this.rapidSec,showNewListForm:!0}))}return(k||u()).default.createElement("section",{className:this.props.className},o,(k||u()).default.createElement("div",{id:"data-util-col",className:"data-util-content Bxz(bb)"},this.renderSections(a)))}}]),t}((k||u()).default.Component);oe.displayName="DataUtility",oe.initializeAction=(A||function(){return A=P(n(2095))}()).default,oe.componentConfig={name:"componentDataUtility"},oe.defaultProps={className:"",type:(te||C()).DATAUTILITY_TYPES.DEFAULT,listIds:[],withAds:!0,sidekickTvModEnabled:!1,sportsPromoConfig:null,visibleLists:{}},oe.contextTypes={executeAction:(R||s()).default.func.isRequired,intl:(R||s()).default.object.isRequired,getStore:(R||s()).default.func.isRequired,session:(R||s()).default.object.isRequired},t.default=(0,(Q||function(){return Q=P(n(162))}()).default)(oe,[(K||_()).default],function(e,t){var n=e.getStore((K||_()).default),r=e.getStore((J||S()).default),a=n.getVisible().toJS(),o=n.getPfOrder().toJS(),i=e.getStore((Z||x()).default).getPfOrder(),u=[(ne||T()).RECENT_QUOTES_ID].concat(r.getConfig("app",["base","marketdata","orderedLists"]).toJS()),s=r.getConfig("app",["base","marketdata","defaultLists"]).toJS(),l=void 0;if(o&&o.length>0){for(var c=[],d={},f={},p=0;p<i.length;p++)d[i[p]]=!0;for(var m=0;m<o.length;m++)f[o[m]]=!0,d[o[m]]&&c.push(o[m]);for(var h=0;h<i.length;h++)f[i[h]]||c.push(i[h]);d={},f={};for(var b=0;b<u.length;b++)d[u[b]]=!0;for(var g=0;g<o.length;g++)f[o[g]]=!0,d[o[g]]&&c.push(o[g]);for(var E=0;E<u.length;E++)f[u[E]]||c.push(u[E]);l=c}else l=i.concat(u);return{userListIds:l,visibleLists:a,listIds:s}}),e.exports=t.default},2151:function(e,t,n){"use strict";function r(){return u=i(n(2))}function a(){return s=i(n(22))}function o(){return l=n(67)}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(t=t||{},!(0,(l||o()).isSignedIn)(e))return n((s||a()).default.http.unauthorized("User is not logged in"));e.service.read("finance_user_preferences",{},{},function(o,i){if(o||!i)return o=o||(s||a()).default.http.badGateway("sherpa error"),e.dispatch("USER_PREFERENCES_LOAD_FAIL",o),n(o);var l={pref:(0,(u||r()).default)(i,["userPreferences","watchlist"],{isDefaultOrder:!0})};l.pref.classicPf=i.classicPf,t.silent||e.dispatch("USER_PREFERENCES_LOAD",l.pref),n(o,l)})};var u,s,l;e.exports=t.default},2152:function(e,t,n){"use strict";function r(){return p=c(n(1775))}function a(){return m=c(n(715))}function o(){return h=c(n(699))}function i(){return b=c(n(2))}function u(){return g=n(27)}function s(){return E=n(67)}function l(){return v=c(n(45))}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){t.symbols.sort(),(0,(m||a()).default)(e,{symbols:t.symbols,finalFields:t.fields},function(r,a){!r&&a&&e.dispatch("YFIN_LIST_QUOTE_DATA_SUCCESS",{listId:t.listId,quoteData:a}),n(r,a)})}function f(e,t,n){var a=e.getStore((h||o()).default),c=(0,(g||u()).isSignedIn)(e),f=void 0;f=c?a.getConfig("app",["base","marketdata","orderedLists"]).toArray():a.getConfig("app",["base","marketdata","defaultLists"]).toArray();var m=a.getConfig("app",["base","marketdata","lists"]);(v||l()).default.waterfall([function(t){(v||l()).default.parallel(f.map(function(t){return(E||s()).continueOnError.bind(null,(p||r()).default,e,{listIds:t,enableLoading:!1,listConfig:m,count:y})}),t)},function(n,r){(v||l()).default.parallel(n.map(function(n){if(n.length<1)return Function.prototype;var r=(0,(b||i()).default)(n[0],[n[0].primaryKey,0,"positions"],[]),a=[];if(r.length<1)return Function.prototype;for(var o=0;o<y;o++)r[o]&&r[o].symbol&&a.push(r[o].symbol);return(E||s()).continueOnError.bind(null,d,e,{symbols:a,fields:t.fields,listId:n[0].primaryKey})}),r)}],function(t){t&&e.logger.error(t),n()})}Object.defineProperty(t,"__esModule",{value:!0});var p,m,h,b,g,E,v,y=5;f.displayName="initDataUtil.client",t.default=f,e.exports=t.default},2153:function(e,t,n){"use strict";function r(){return E=g(n(42))}function a(){return v=g(n(43))}function o(){return y=g(n(47))}function i(){return _=g(n(48))}function u(){return x=g(n(1))}function s(){return S=g(n(0))}function l(){return I=g(n(1961))}function c(){return N=g(n(1962))}function d(){return T=g(n(277))}function f(){return M=g(n(689))}function p(){return P=g(n(699))}function m(){return O=n(1920)}function h(){return w=n(27)}function b(){return L=g(n(213))}function g(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var E,v,y,_,x,S,I,N,C,T,M,P,O,w,L,F=function(e){function t(){return(0,(E||r()).default)(this,t),(0,(y||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,(_||i()).default)(t,e),(0,(v||a()).default)(t,[{key:"componentDidMount",value:function(){this.refreshStreaming(this.props.positions)}},{key:"componentWillReceiveProps",value:function(e){this.refreshStreaming(e.positions)}},{key:"componentWillUnmount",value:function(){this._symbols&&this.context.getStore((M||f()).default).unsubscribe(this._symbols,(O||m()).COLUMNS_TO_STREAM)}},{key:"refreshStreaming",value:function(e){if(e&&e.length>0){var t=e.map(function(e){return e.symbol});this._symbols&&(0,(L||b()).default)(this._symbols,t)||(this._symbols=t,this.context.getStore((M||f()).default).subscribe(t,(O||m()).COLUMNS_TO_STREAM))}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.listId,r=e.showHeader,a=e.rapidSec,o=e.name,i=e.type,s=e.positions,d=e.listHref,f=e.isLoading;if(e.hasError)return null;var p=(o||"").toLowerCase().replace(/ /g,"_");return(x||u()).default.createElement("section",{className:t,"data-yaft-module":"tdv2-applet-"+p},(x||u()).default.createElement((N||c()).default,{rapidSec:a,showHeader:r,type:i,href:d||(0,(w||h()).generateURL)("watchlist",{pfId:n}),listId:n,title:o?this.context.intl.formatMessage({id:o}):""}),(x||u()).default.createElement((I||l()).default,{rapidSec:a,subSec:n,rowId:"symbol",columns:(O||m()).TABLE_COLUMNS[i],rows:s,isLoading:f,config:(O||m()).LIST_TABLE_CONFIG[i],id:n+"-du-section"}))}}]),t}((x||u()).default.Component);F.displayName="DataUtilityListSection",F.contextTypes={intl:(S||s()).default.object.isRequired,getStore:(S||s()).default.func.isRequired},F.defaultProps={listId:"",className:"Mb(20px)",positions:[],rapidSec:"",type:(O||m()).DATAUTILITY_TYPES.DEFAULT,showHeader:!0},t.default=(0,(C||function(){return C=g(n(162))}()).default)(F,[(T||d()).default],function(e,t){var n=e.getStore((T||d()).default).getList(t.listId)||{loading:!0,name:t.listId?t.listId.toUpperCase()+"_TITLE":"YF_TITLE"},r=e.getStore((P||p()).default).getConfig("app",["base","marketdata","lists"]);return{isLoading:n.loading,name:r.getIn([t.listId,"name"],n.name),listHref:r.getIn([t.listId,"uri"]),hasError:!!n.error,positions:n.positions}}),e.exports=t.default},2154:function(e,t,n){"use strict";function r(){return h=d(n(1))}function a(){return b=d(n(0))}function o(){return g=n(133)}function i(){return E=d(n(2023))}function u(){return v=n(16)}function s(){return y=n(14)}function l(){return _=d(n(73))}function c(){return x=n(27)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var h,b,g,E,v,y,_,x,S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I=function(e){function t(){f(this,t);var e=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onDeleteRow=e.onDeleteRow.bind(e),e.onDeleteConfirm=e.onDeleteConfirm.bind(e),e.onModalClose=e.onModalClose.bind(e),e}return m(t,e),S(t,[{key:"onDeleteRow",value:function(e){e.stopPropagation();var t=this.context.intl.formatMessage;this.context.executeAction((g||o()).show,{component:(E||i()).default,closeable:!0,componentProps:{title:t({id:"CONFIRM_DELETE"}),message:t({id:"CONFIRM_DELETE_TICKER"},{symbol:this.props.symbol}),confirmText:t({id:"CONFIRM_YES"}),cancelText:t({id:"CONFIRM_NO"}),errorMessage:t({id:"RENAME_MODAL_ERROR_MESSAGE"}),onConfirm:this.onDeleteConfirm,onCancel:this.onModalClose}})}},{key:"onDeleteConfirm",value:function(e){var t=this.props,n=t.posId,r=t.symbol,a=t.onDelete;(0,(x||c()).fireRapidClick)(this,{sec:"confirm-remove",slk:"confirm",elmt:"dn",rspns:"rmct",outcm:"delete"}),"function"==typeof a&&a(e,{posId:n,symbol:r}),this.onModalClose(!0)}},{key:"onModalClose",value:function(e){e||(0,(x||c()).fireRapidClick)(this,{sec:"confirm-remove",slk:"cancel",elmt:"cl",rspns:"cl",outcm:"cancel"}),this.context.executeAction((g||o()).hide)}},{key:"render",value:function(){var e=this.props,t=e.rapidSec,n=e.symbol,a=e.className;return(h||r()).default.createElement((v||u()).I13nButton,{className:a,title:this.context.intl.formatMessage({id:"DELETE_TICKER_INFO"}),i13nModel:{sec:t,slk:n,elmt:"rm",rspns:"op",outcm:"delete"},onClick:this.onDeleteRow,"data-test":"remove-pos"},(h||r()).default.createElement((y||s()).Icon,{asset:(_||l()).default,className:"Va(m)! Mt(-5px)",height:16}))}}]),t}((h||r()).default.Component);I.displayName="RemoveSymbol",I.contextTypes={intl:(b||a()).default.object.isRequired,executeAction:(b||a()).default.func.isRequired},I.defaultProps={className:"",rapidSec:""},t.default=I,e.exports=t.default},2155:function(e,t,n){"use strict";function r(){return v=E(n(42))}function a(){return y=E(n(43))}function o(){return _=E(n(47))}function i(){return x=E(n(48))}function u(){return S=E(n(1))}function s(){return I=E(n(0))}function l(){return N=E(n(762))}function c(){return C=E(n(1961))}function d(){return T=E(n(1962))}function f(){return M=n(21)}function p(){return O=E(n(1713))}function m(){return w=E(n(689))}function h(){return L=n(1920)}function b(){return F=n(27)}function g(){return k=E(n(213))}function E(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var v,y,_,x,S,I,N,C,T,M,P,O,w,L,F,k,R=function(e){function t(){(0,(v||r()).default)(this,t);var e=(0,(_||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onRemoveSymbol=e.onRemoveSymbol.bind(e),e}return(0,(x||i()).default)(t,e),(0,(y||a()).default)(t,[{key:"componentDidMount",value:function(){this.refreshStreaming(this.props.positions)}},{key:"componentWillReceiveProps",value:function(e){this.refreshStreaming(e.positions)}},{key:"componentWillUnmount",value:function(){this._symbols&&this.context.getStore((w||m()).default).unsubscribe(this._symbols,(L||h()).COLUMNS_TO_STREAM)}},{key:"refreshStreaming",value:function(e){if(e&&e.length>0){var t=e.map(function(e){return e.symbol});this._symbols&&(0,(k||g()).default)(this._symbols,t)||(this._symbols=t,this.context.getStore((w||m()).default).subscribe(t,(L||h()).COLUMNS_TO_STREAM))}}},{key:"onRemoveSymbol",value:function(e,t){var n=t.symbol;this.context.executeAction((N||l()).default,{symbol:n})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.listId,r=e.showHeader,a=e.rapidSec,o=e.type,i=e.positions,s=e.hasError,l=e.config;if(s)return null;var p=void 0;if(i&&i.length){var m=(0,(F||b()).isSignedIn)(this.context),g=Object.assign({},(L||h()).TABLE_CONFIG[o]);g.ui.isEditable=m&&o!==(L||h()).DATAUTILITY_TYPES.NARROW,l&&l.recentQuotes&&l.recentQuotes.visibleTickerCount&&(g.ui.maxRows=l.recentQuotes.visibleTickerCount),p=(S||u()).default.createElement((C||c()).default,{rapidSec:a,subSec:n,rowId:"symbol",columns:(L||h()).TABLE_COLUMNS[o],rows:i,onDeleteRow:this.onRemoveSymbol,config:g,id:n+"-du-section"})}else p=(S||u()).default.createElement("div",{className:"Bdrs(2px) Bdc($c-fuji-grey-c) Bds(s) Bdw(1px) P(20px)"},(S||u()).default.createElement("span",{className:"Fz(s) Mb(6px) D(b) Ta(c)"},(S||u()).default.createElement((M||f()).FormattedMessage,{id:"MSG_EMPTY_LIST"})));return(S||u()).default.createElement("section",{className:t,"data-yaft-module":"tdv2-applet-recently_viewed"},(S||u()).default.createElement((T||d()).default,{rapidSec:a,showHeader:r,type:o,href:(0,(F||b()).generateURL)("watchlist",{pfId:n}),listId:n,title:this.context.intl.formatMessage({id:"RQ_TITLE"})}),p)}}]),t}((S||u()).default.Component);R.displayName="DataUtilityRecentSection",R.contextTypes={intl:(I||s()).default.object.isRequired,session:(I||s()).default.object.isRequired,getStore:(I||s()).default.func.isRequired,executeAction:(I||s()).default.func.isRequired},R.defaultProps={listId:"recentQuotes",className:"Mb(20px)",positions:[],config:{},rapidSec:"",type:(L||h()).DATAUTILITY_TYPES.DEFAULT,showHeader:!0},t.default=(0,(P||function(){return P=E(n(162))}()).default)(R,[(O||p()).default],function(e,t){var n=e.getStore((O||p()).default),r=n.getPositions()||[],a=n.getError();return{positions:r,hasError:a&&a.length>0}}),e.exports=t.default},2156:function(e,t,n){"use strict";function r(){return x=_(n(42))}function a(){return S=_(n(43))}function o(){return I=_(n(47))}function i(){return N=_(n(48))}function u(){return C=_(n(1))}function s(){return T=_(n(0))}function l(){return M=_(n(2005))}function c(){return P=_(n(1961))}function d(){return O=_(n(1962))}function f(){return w=n(21)}function p(){return L=_(n(1948))}function m(){return F=n(16)}function h(){return R=_(n(1705))}function b(){return A=_(n(689))}function g(){return B=n(1920)}function E(){return D=n(27)}function v(){return j=n(687)}function y(){return U=_(n(213))}function _(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var x,S,I,N,C,T,M,P,O,w,L,F,k,R,A,B,D,j,U,$=function(e){function t(){(0,(x||r()).default)(this,t);var e=(0,(I||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isExpanded:!1},e.onDeletePosition=e.onDeletePosition.bind(e),e.onToggleShowMore=e.onToggleShowMore.bind(e),e}return(0,(N||i()).default)(t,e),(0,(S||a()).default)(t,[{key:"componentDidMount",value:function(){this.refreshStreaming(this.props.portfolio&&this.props.portfolio.positions)}},{key:"componentWillReceiveProps",value:function(e){this.refreshStreaming(e.portfolio&&e.portfolio.positions)}},{key:"componentWillUnmount",value:function(){this._symbols&&this.context.getStore((A||b()).default).unsubscribe(this._symbols,(B||g()).COLUMNS_TO_STREAM)}},{key:"refreshStreaming",value:function(e){if(e&&e.length>0){var t=e.map(function(e){return e.symbol});this._symbols&&(0,(U||y()).default)(this._symbols,t)||(this._symbols=t,this.context.getStore((A||b()).default).subscribe(t,(B||g()).COLUMNS_TO_STREAM))}}},{key:"onDeletePosition",value:function(e,t){var n=t.posId;this.context.executeAction((M||l()).default,{pfId:this.props.listId,posIds:[n]})}},{key:"onToggleShowMore",value:function(){this.setState({isExpanded:!this.state.isExpanded})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.rapidSec,r=e.showHeader,a=e.type,o=e.listId,i=e.isLoading,s=e.hasError,l=e.config,h=void 0===l?{}:l,b=e.portfolio,v=this.state.isExpanded;if(s)return null;var y=b.following,_=y||!!b.linkedAccount||a===(B||g()).DATAUTILITY_TYPES.NARROW,x=b.positions,S=b.pfName,I=void 0;if(i||x&&0!==x.length){var N=Object.assign({},(B||g()).TABLE_CONFIG[a]);N.ui.isEditable=!_,h.portfolio&&h.portfolio.visibleTickerCount?N.ui.maxRows=h.portfolio.visibleTickerCount:h.enableShowMore&&!v&&(N=Object.assign({},N,{ui:Object.assign({},N.ui,{maxRows:5})})),I=[(C||u()).default.createElement((P||c()).default,{key:"table",rapidSec:n,subSec:"portfolio",rowId:"symbol",columns:(B||g()).TABLE_COLUMNS[a],rows:x,isLoading:i,onDeleteRow:this.onDeletePosition,config:N,id:o+"-du-section"}),h.enableShowMore?(C||u()).default.createElement((F||m()).I13nButton,{key:"exp-btn",className:"P(0) Mx(0) Mb(0) D(ib) C($c-fuji-blue-1-b) C($actionBlueHover):h Fz(s) Fw(500) Mt(5px)",onClick:this.onToggleShowMore,i13nModel:{sec:n,subSec:"portfolio",slk:"show-more",itc:1,elm:"btn",elmt:"ct",outcm:v?"clps":"xpnd"}},(C||u()).default.createElement((w||f()).FormattedMessage,{id:v?"SHOW_LESS":"SHOW_ALL"})):null]}else{var T=void 0;_||(T=(C||u()).default.createElement("div",{className:"Ta(c) M(a) Fw(500)"},(C||u()).default.createElement((L||p()).default,{pfId:o,type:"button",menuClassName:"W(250px)! End(0)",rapidSec:n,arrowStyle:{left:40},subSec:"symbol-"+o,autoFocus:!0}))),I=(C||u()).default.createElement("div",{className:"Bdrs(2px) Bdc($c-fuji-grey-c) Bds(s) Bdw(1px) P(20px)"},(C||u()).default.createElement("span",{className:"Fz(s) Mb(6px) D(b) Ta(c)"},(C||u()).default.createElement((w||f()).FormattedMessage,{id:"MSG_EMPTY_LIST"})),T)}var M=(S||"").toLowerCase().replace(/ /g,"_");return(C||u()).default.createElement("section",{className:t,"data-test":"du-section-"+M,"data-yaft-module":"tdv2-applet-"+M},(C||u()).default.createElement((O||d()).default,{rapidSec:n,showAddButton:!_,showHeader:r,type:a,href:y?b.portfolioMeta&&b.portfolioMeta.shareUrl:(0,(D||E()).generateURL)("portfolio",{pfId:o}),listId:o,title:S}),I)}}]),t}((C||u()).default.PureComponent);$.displayName="DataUtilityPortfolioSection",$.contextTypes={intl:(T||s()).default.object.isRequired,executeAction:(T||s()).default.func.isRequired,getStore:(T||s()).default.func.isRequired},$.defaultProps={listId:"",portfolio:{},config:{},className:"Mb(20px)",rapidSec:"",type:(B||g()).DATAUTILITY_TYPES.DEFAULT,showHeader:!0},t.default=(0,(k||function(){return k=_(n(162))}()).default)($,[(R||h()).default],function(e,t){var n=e.getStore((R||h()).default);return{portfolio:n.getLists(t.listId)||{},isLoading:n.isLoading(),hasError:n.hasError((j||v()).EVENT_LOAD_PFS_FAIL)}}),e.exports=t.default},2157:function(e,t,n){"use strict";function r(){return s=u(n(1))}function a(){return l=n(21)}function o(){return c=u(n(1721))}function i(){return d=n(67)}function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s,l,c,d,f=function(e,t){var n=(0,(d||i()).isTcookieExpired)(t)?"WATCHLIST_SIGNIN_AGAIN":"WATCHLIST_SIGNIN";return(s||r()).default.createElement("section",{className:e.className,"data-yaft-module":"tdv2-applet-signed_out_notice"},(s||r()).default.createElement("span",{className:"Fw(b) Fz(m) C(black) D(b) Mb(10px)"},(s||r()).default.createElement((l||a()).FormattedMessage,{id:"MY_WATCHLIST"})),(s||r()).default.createElement("div",{className:"Bdrs(2px) Bdc($c-fuji-grey-c) Bds(s) Bdw(1px) P(20px)"},(s||r()).default.createElement("div",{className:"Fz(s) Ta(c) Mb(10px)"},(s||r()).default.createElement((l||a()).FormattedMessage,{id:n})),(s||r()).default.createElement((c||o()).default,{classNameWithoutContainer:"Ta(c)"})))};f.defaultProps={className:"",listId:""},f.displayName="DataUtilitySignedOutSection",t.default=f,e.exports=t.default},2158:function(e,t,n){"use strict";function r(){return M=T(n(42))}function a(){return P=T(n(43))}function o(){return O=T(n(47))}function i(){return w=T(n(48))}function u(){return L=T(n(1))}function s(){return F=T(n(0))}function l(){return k=n(133)}function c(){return R=T(n(2006))}function d(){return A=T(n(2007))}function f(){return B=T(n(273))}function p(){return D=T(n(410))}function m(){return j=T(n(1972))}function h(){return U=T(n(2054))}function b(){return $=T(n(2056))}function g(){return H=T(n(1721))}function E(){return q=n(21)}function v(){return z=n(1733)}function y(){return W=T(n(93))}function _(){return V=n(16)}function x(){return Y=n(14)}function S(){return Q=T(n(1745))}function I(){return G=T(n(1743))}function N(){return K=T(n(694))}function C(){return Z=T(n(213))}function T(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var M,P,O,w,L,F,k,R,A,B,D,j,U,$,H,q,z,W,V,Y,Q,G,K,Z,J=function(e){var t=e.href,n=e.rapidSec,r=e.name,a=e.isUserSignedIn;return(L||u()).default.createElement((W||y()).default,{href:t,title:r,i13nModel:{sec:n,slk:r,itc:0,elm:"itm",elmt:"mu"},className:"C(black) C(inh):h Td(n):h menuitem:h_C($c-fuji-blue-1-b) D(ib) Va(m) Bxz(bb) H(40px)  "+(a?"Cur(g) Pt(12px)":"Pt(0px) W(100%)")},(L||u()).default.createElement("div",{className:"Mstart(10px) Mend(5px) D(ib) Ell "+(a?"W(160px)":"Pt(11px)")},r))};J.defaultProps={isUserSignedIn:!1},J.displayName="DUItemHandle";var X=(0,(z||v()).sortableHandle)(J);X.propTypes={href:(F||s()).default.string,name:(F||s()).default.string,rapidSec:(F||s()).default.string},X.defaultProps={isUserSignedIn:!1},X.displayName="sortableDUItemHandle";var ee=(0,(z||v()).sortableElement)(function(e){function t(e){"function"==typeof b&&b(e,{listId:o,name:a})}function n(e){"function"==typeof h&&h(e,{listId:o,name:a})}function r(e){"function"==typeof m&&m(e,{listId:o})}var a=e.name,o=e.listId,i=e.href,s=e.rapidSec,l=e.selected,c=e.isEditable,d=e.isUserSignedIn,f=e.isDeletable,m=e.onToggle,h=e.onSetting,b=e.onDelete,g=e.className;return(L||u()).default.createElement("li",{className:g},d?(L||u()).default.createElement((D||p()).default,{value:o,checked:l,onChange:r,onClick:function(e){return e.stopPropagation()},className:"Pos(r) Mstart(10px) H(40px) Lh(40px) Va(m) Cur(p) D(ib)"}):null,d?(L||u()).default.createElement(X,{name:a,href:i,isUserSignedIn:d,rapidSec:s}):(L||u()).default.createElement(J,{isUserSignedIn:d,name:a,href:i,rapidSec:s}),c?(L||u()).default.createElement("div",{className:"Pos(a) End(0) D(n) menuitem:h_D(ib) Lh(40px) H(40px)"},(L||u()).default.createElement((V||_()).I13nButton,{className:"Op(0.33) C(black) Op(1):h C($c-fuji-blue-1-b):h Py(8px) Pstart(0px) Va(m) Pend(10px) Bd(0)",title:"",onClick:n,i13nModel:{sec:s,slk:"rename",itc:1,c10:a,elm:"itm",elmt:"set",rspns:"updct",outcm:"rename "+a}},(L||u()).default.createElement((Y||x()).Icon,{asset:(G||I()).default,width:18,height:18,color:"#0081f2",className:"Fill($c-fuji-blue-1-b)!:h Stk($c-fuji-blue-1-b)!h"})),f?(L||u()).default.createElement((V||_()).I13nButton,{className:"Op(0.33) C(black) Op(1):h C($c-fuji-blue-1-b):h Py(8px) Pstart(0px) Pend(10px) Va(m) Bd(0)",title:"",onClick:t,i13nModel:{sec:s,slk:"Delete",c10:a,elm:"itm",elmt:"rm",rspns:"rmct",outcm:"delete "+a}},(L||u()).default.createElement((Y||x()).Icon,{asset:(Q||S()).default,width:18,height:18,color:"#0081f2",className:"Fill($c-fuji-blue-1-b)!:h Stk($c-fuji-blue-1-b)!h"})):null):null)});ee.defaultProps={className:"",selected:!1,isEditable:!1,isUserSignedIn:!1,isDeletable:!1},ee.displayName="sortableDUCustomizeItem";var te=(0,(z||v()).sortableContainer)(function(e){var t=e.order,n=e.visibleLists,r=e.onToggle,a=e.onSetting,o=e.isUserSignedIn,i=e.onDelete,s=e.rapidSec;return(L||u()).default.createElement("ul",{className:"List(n)"},t.map(function(e,t){return e?(L||u()).default.createElement(ee,{key:e.listId+t,index:t,rapidSec:s,name:e.title,selected:!1!==n[e.listId],href:e.href,onToggle:r,onDelete:i,onSetting:a,isUserSignedIn:o,isEditable:o&&e.isEditable,isDeletable:o&&e.isDeletable,listId:e.listId,className:"Z(52) Bfc BdT Bdc($c-fuji-grey-c) Bgc(white) Ov(h) H(40px) Va(m) Bxz(bb) C($c-fuji-blue-1-b) Bgc($extraLightBlue):h Ov(h) menuitem"}):null}))});te.displayName="sortableDUCustomizeList";var ne=function(e){function t(e,n){(0,(M||r()).default)(this,t);var a=(0,(O||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.onCreatePortfolio=a.onCreatePortfolio.bind(a),a.closeLightBox=a.closeLightBox.bind(a),a.onSortEnd=a.onSortEnd.bind(a),a.onToggle=a.onToggle.bind(a),a.onDelete=a.onDelete.bind(a),a.onSetting=a.onSetting.bind(a),a.state={order:e.order},a}return(0,(w||i()).default)(t,e),(0,(P||a()).default)(t,[{key:"onCreatePortfolio",value:function(){this.context.executeAction((k||l()).show,{wrapperClass:"Bgc($modalBackground) Ovy(a)",component:(j||m()).default,componentProps:{onCancel:this.closeLightBox}})}},{key:"onToggle",value:function(e,t){var n=t.listId;this.context.executeAction((R||c()).default,{pfId:n})}},{key:"onDelete",value:function(e,t){var n=t.listId,r=t.name;this.context.executeAction((k||l()).show,{wrapperClass:"Bgc($modalBackground) Ovy(a)",component:($||b()).default,componentProps:{pfId:n,pfName:r}})}},{key:"onSetting",value:function(e,t){var n=t.listId,r=t.name;this.context.executeAction((k||l()).show,{wrapperClass:"Bgc($modalBackground) Ovy(a)",component:(U||h()).default,componentProps:{pfId:n,pfName:r}})}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex,r=(0,(z||v()).arrayMove)(this.state.order,t,n);this.setState({order:r});for(var a=[],o=0;o<r.length;o++)r[o]&&a.push(r[o].listId);this.context.executeAction((A||d()).default,{order:a})}},{key:"closeLightBox",value:function(){this.context.executeAction((k||l()).hide)}},{key:"componentWillReceiveProps",value:function(e){(0,(Z||C()).default)(e.order,this.state.order)||this.setState({order:e.order})}},{key:"renderCustomizeMenu",value:function(){var e=this.props,t=e.className,n=e.showNewListForm,r=e.rapidSec,a=e.visibleLists,o=e.isUserSignedIn,i=void 0,s=void 0;return n&&(s=(L||u()).default.createElement((V||_()).I13nButton,{className:"Fz(s) Fw(500) Bd(0) Bgc($c-fuji-blue-1-b) C(white) Bgc($actionBlueHover):h Pstart(10px) Pend(15px) Pt(9px) Pb(7px) Bdrs(3px) Miw(110px) Bd(0)",i13nModel:{sec:r,subsec:"new-list-form",slk:"create-new-list",elm:"btn",elmt:"mu",outcm:"show-pf-form",itc:1},onClick:this.onCreatePortfolio},(L||u()).default.createElement((Y||x()).Icon,{className:"Va(m)! Cur(a)! Mend(4px) Mb(2px) H(16px) W(16px) Fill(white)! Stk(white)!",asset:(K||N()).default,height:16}),(L||u()).default.createElement((q||E()).FormattedMessage,{id:"CREATE_PORTFOLIO"})),i=(L||u()).default.createElement("div",{className:"M(10px) Ta(c)"},(L||u()).default.createElement((H||g()).default,{signedInElement:s}))),(L||u()).default.createElement("div",{className:t,"data-test":"quotelistmenu"},i,(L||u()).default.createElement(te,{pressDelay:100,order:this.state.order,visibleLists:a,onSortEnd:this.onSortEnd,onToggle:this.onToggle,onDelete:this.onDelete,onSetting:this.onSetting,isUserSignedIn:o,useDragHandle:!0,helperClass:"List(n) Bxsh($boxAreaShadow) Bd Bdc($c-fuji-blue-1-b)! Cur(gr)!",rapidSec:r}))}},{key:"render",value:function(){var e=this.props,t=e.isUserSignedIn,n=e.rapidSec;return(L||u()).default.createElement((B||f()).default,{id:n,content:this.renderCustomizeMenu(t),className:"M(0) O(n):f IbBox Bdrs(3px) C($c-fuji-grey-j) Fz(s) Fl(end)",menuClassName:"Z(10) C($c-fuji-grey-j) Bxsh($boxShadow) Bd Bdc($finLightGray) Bdrs(2px) End(0px) T(25px) Bgc(white)  W(260px) Ta(start) Cur(a) O(n):f",showClose:!1,showArrow:!0,arrowStyle:{left:83}},(L||u()).default.createElement("div",{className:"Fz(s) Mstart(10px) Fw(500) Cur(p) C($c-fuji-blue-1-b) O(n)","data-test":"data-util-edit"},(L||u()).default.createElement((q||E()).FormattedMessage,{id:"CUSTOMIZE"}),(L||u()).default.createElement((Y||x()).Icon,{className:"H(16px) W(16px) Va(m)! Fill($c-fuji-blue-1-b)! Stk($c-fuji-blue-1-b) Cur(a)! Mstart(5px) Mb(2px)",asset:(G||I()).default,height:16})))}}]),t}((L||u()).default.Component);ne.displayName="DataUtilityCustomize",ne.defaultProps={rapidSec:"",className:"",isUserSignedIn:!1,visibleLists:{},showNewListForm:!1},ne.contextTypes={session:(F||s()).default.object.isRequired,intl:(F||s()).default.object.isRequired,executeAction:(F||s()).default.func.isRequired},t.default=ne,e.exports=t.default},2159:function(e,t,n){"use strict";function r(){return C=N(n(42))}function a(){return T=N(n(43))}function o(){return M=N(n(47))}function i(){return P=N(n(48))}function u(){return O=N(n(1))}function s(){return w=N(n(0))}function l(){return L=n(133)}function c(){return F=N(n(2006))}function d(){return k=N(n(2007))}function f(){return R=N(n(273))}function p(){return A=N(n(410))}function m(){return B=N(n(1972))}function h(){return D=N(n(1721))}function b(){return j=n(21)}function g(){return U=n(1733)}function E(){return $=N(n(93))}function v(){return H=n(16)}function y(){return q=n(14)}function _(){return z=N(n(1743))}function x(){return W=N(n(694))}function S(){return V=N(n(1746))}function I(){return Y=N(n(213))}function N(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var C,T,M,P,O,w,L,F,k,R,A,B,D,j,U,$,H,q,z,W,V,Y,Q=(0,(U||g()).sortableElement)(function(e){var t=e.name;return(O||u()).default.createElement("li",{className:"Z(52) Bfc BdT Bdtc($c-fuji-grey-c) Bgc(white) Ov(h) Bxz(bb) Ov(h) Mb(5px) Bxsh($boxAreaShadow) Bdrs(3px) Cur(g) C(black) H(40px)",title:t},(O||u()).default.createElement("div",{className:"Px(5px) Fw(b) Va(m) Pt(12px) Ell Bxz(bb)"},(O||u()).default.createElement("span",{className:"Mend(5px)"},(O||u()).default.createElement((q||y()).Icon,{asset:(V||S()).default,height:15})),t))});Q.defaultProps={},Q.displayName="sortableDUCustomizeItem";var G=(0,(U||g()).sortableContainer)(function(e){var t=e.order,n=e.visibleLists,r=e.rapidSec;return(O||u()).default.createElement("ul",{className:"List(n)"},t.map(function(e,t){return e&&!1!==n[e.listId]?(O||u()).default.createElement(Q,{key:e.listId+t,index:t,rapidSec:r,name:e.title,listId:e.listId}):null}))});G.displayName="sortableDUCustomizeList";var K=function(e){function t(e,n){(0,(C||r()).default)(this,t);var a=(0,(M||o()).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.onCreatePortfolio=a.onCreatePortfolio.bind(a),a.closeLightBox=a.closeLightBox.bind(a),a.onSortEnd=a.onSortEnd.bind(a),a.onToggle=a.onToggle.bind(a),a.state={order:e.order},a}return(0,(P||i()).default)(t,e),(0,(T||a()).default)(t,[{key:"componentDidMount",value:function(){var e=document.body.querySelector("#YDC-Col1 + div");e&&(e.style.zIndex=1)}},{key:"componentWillUnmount",value:function(){var e=document.body.querySelector("#YDC-Col1 + div");e&&(e.style.zIndex="auto")}},{key:"onCreatePortfolio",value:function(){this.context.executeAction((L||l()).show,{wrapperClass:"Bgc($modalBackground) Ovy(a)",component:(B||m()).default,componentProps:{onCancel:this.closeLightBox}})}},{key:"onToggle",value:function(e,t){var n=t.listId;this.context.executeAction((F||c()).default,{pfId:n})}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex,r=(0,(U||g()).arrayMove)(this.state.order,t,n);this.setState({order:r});for(var a=[],o=0;o<r.length;o++)r[o]&&a.push(r[o].listId);this.context.executeAction((k||d()).default,{order:a})}},{key:"closeLightBox",value:function(){this.context.executeAction((L||l()).hide)}},{key:"componentWillReceiveProps",value:function(e){(0,(Y||I()).default)(e.order,this.state.order)||this.setState({order:e.order})}},{key:"renderCustomizeMenu",value:function(){var e=this,t=this.props,n=t.showNewListForm,r=t.rapidSec,a=t.visibleLists,o=t.isUserSignedIn,i=this.state.order,s=void 0,l=void 0;n&&(l=(O||u()).default.createElement((H||v()).I13nButton,{className:"Fz(s) Fw(500) Bd(0) Bgc($c-fuji-blue-1-b) C(white) Bgc($actionBlueHover):h Pstart(10px) Pend(15px) Pt(9px) Pb(7px) Bdrs(3px) Miw(110px) Bd(0)",i13nModel:{sec:r,subsec:"new-list-form",slk:"create-new-list",elm:"btn",elmt:"mu",outcm:"show-pf-form",itc:1},onClick:this.onCreatePortfolio},(O||u()).default.createElement((q||y()).Icon,{className:"Va(m)! Cur(a)! Mend(4px) Mb(2px) H(16px) W(16px) Fill(white)! Stk(white)!",asset:(W||x()).default,height:16}),(O||u()).default.createElement((j||b()).FormattedMessage,{id:"CREATE_PORTFOLIO"})),s=(O||u()).default.createElement("div",{key:"signin",className:"M(10px) Ta(c)"},(O||u()).default.createElement((D||h()).default,{signedInElement:l})));var c=void 0;if(o){var d=[],f=[];i.forEach(function(t,n){if(!t)return null;var r=t.listId,o=t.title;("portfolio"===t.type?f:d).push((O||u()).default.createElement("li",{key:t.listId+n,className:"Fl(start) D(b) Mb(12px) W(50%) Whs(nw) Bxz(bb) Pend(10px)"},(O||u()).default.createElement((A||p()).default,{value:r,checked:!1!==a[t.listId],onChange:function(t){e.onToggle(t,{listId:r})},onClick:function(e){return e.stopPropagation()},className:"Pos(r) Ta(c) Va(m) Pend(10px)"},(O||u()).default.createElement("div",{className:"Pstart(6px) D(ib) Ell Va(m) Bxz(bb) Pend(10px)",title:o},o))))}),c=[(O||u()).default.createElement("div",{key:"select-lists",className:"IbBox W(65%)"},(O||u()).default.createElement("h3",{className:"Bxz(bb) H(40px) Pt(15px) Px(15px) Pb(5px) M(0) Fz(m) Ell"},(O||u()).default.createElement((j||b()).FormattedMessage,{id:"SELECT_LISTS"})),(O||u()).default.createElement("div",{className:"Ovy(a) Ovx(h) Px(15px) H(410px)"},(O||u()).default.createElement("h5",{className:"Fz(s) Mb(10px)"},(O||u()).default.createElement((j||b()).FormattedMessage,{id:"WATCHLISTS"})),(O||u()).default.createElement("ul",{className:"List(n)"},d),(O||u()).default.createElement("h5",{className:"Fz(s) My(10px)"},(O||u()).default.createElement((j||b()).FormattedMessage,{id:"MY_PORTFOLIO_NAV_TITLE"})),(O||u()).default.createElement("ul",{className:"List(n)"},f))),(O||u()).default.createElement("div",{key:"selected-lists",className:"IbBox Bgc($panelBackground) W(35%)"},(O||u()).default.createElement("h3",{className:"H(35px) Bxz(bb) Fz(m) Px(15px) Pt(10px) Pb(5px) Ell"},(O||u()).default.createElement((j||b()).FormattedMessage,{id:"SELECTED_LISTS"})),(O||u()).default.createElement("div",{className:"Ovy(a) Ovx(h) Px(15px) H(360px)"},(O||u()).default.createElement(G,{pressDelay:100,helperClass:"List(n) Bxsh($boxAreaShadow) Bd Bdc($c-fuji-blue-1-b)! Cur(gr)!",order:this.state.order,visibleLists:a,onSortEnd:this.onSortEnd,rapidSec:r})),(O||u()).default.createElement("div",{className:"M(a) Ta(c)"},s))]}else c=[s,(O||u()).default.createElement("ul",{key:"list",className:"List(n)"},i.map(function(e,t){return e?(O||u()).default.createElement("li",{key:e.listId+t,className:"Bfc BdT Bdc($c-fuji-grey-c) Bgc(white) Ov(h) H(40px) Va(m) Bxz(bb) C($c-fuji-blue-1-b) Bgc($extraLightBlue):h Ov(h) menuitem"},(O||u()).default.createElement(($||E()).default,{href:e.href,title:e.title,i13nModel:{sec:r,slk:e.title,itc:0,elm:"itm",elmt:"mu"},className:"C(black) C(inh):h Td(n):h menuitem:h_C($c-fuji-blue-1-b) D(ib) Va(m) Bxz(bb) Pt(0px) W(100%) H(40px)"},(O||u()).default.createElement("div",{className:"Mstart(10px) Mend(5px) D(ib) Ell Pt(11px)"},e.title))):null}))];return(O||u()).default.createElement("div",{className:"H(450px) C(black)","data-test":"quotelistmenu"},c)}},{key:"render",value:function(){var e=this.props,t=e.isUserSignedIn,n=e.rapidSec;return(O||u()).default.createElement((R||f()).default,{id:n,content:this.renderCustomizeMenu(t),className:"M(0) O(n):f IbBox Bdrs(3px) C($c-fuji-grey-j) Fz(s) Fl(end)",menuClassName:"Z(10) C($c-fuji-grey-j) Bxsh($boxShadow) Bd Bdc($finLightGray) Bdrs(2px) End(0px) T(25px) Bgc(white) Ta(start) Cur(a) O(n):f W(700px) H(450px)",showClose:!1,showArrow:!0,arrowStyle:{left:92}},(O||u()).default.createElement("div",{className:"Fz(s) Mstart(10px) Fw(500) Cur(p) C($c-fuji-blue-1-b) O(n)","data-test":"data-util-edit"},(O||u()).default.createElement((j||b()).FormattedMessage,{id:"CUSTOMIZE"}),(O||u()).default.createElement((q||y()).Icon,{className:"H(16px) W(16px) Va(m)! Fill($c-fuji-blue-1-b)! Stk($c-fuji-blue-1-b) Cur(a)! Mstart(5px) Mb(2px)",asset:(z||_()).default,height:16})))}}]),t}((O||u()).default.Component);K.displayName="DataUtilityCustomize",K.defaultProps={rapidSec:"",isUserSignedIn:!1,visibleLists:{},showNewListForm:!1},K.contextTypes={session:(w||s()).default.object.isRequired,intl:(w||s()).default.object.isRequired,executeAction:(w||s()).default.func.isRequired},t.default=K,e.exports=t.default}});