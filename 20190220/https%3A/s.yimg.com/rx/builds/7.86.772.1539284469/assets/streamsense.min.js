// Copyright (c) 2014 comScore, Inc.
var ns_=ns_||{};ns_.PlatformAPIs=ns_.PlatformAPIs||{Standard:0,Trilithium:1,AppleTV:2,Chromecast:3},ns_.Utils=ns_.Utils||function(){return{uid:function(){var e=1;return function(){return+(new Date)+"_"+e++}}(),filter:function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},extend:function(e){var t=arguments.length,n;e=e||{};for(var r=1;r<t;r++){n=arguments[r];if(!n)continue;for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},getString:function(e,t){var n=String(e);return e==null?t||"na":n},getLong:function(e,t){var n=Number(e);return e==null||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(e);return e==null||isNaN(n)?t||0:n},getBoolean:function(e,t){var n=String(e).toLowerCase()=="true";return e==null?t||!1:n},isNotEmpty:function(e){return typeof e!="undefined"&&e!=null&&typeof e.length!="undefined"&&e.length>0},indexOf:function(e,t){var n=-1;return this.forEach(t,function(t,i){t==e&&(n=i)}),n},forEach:function(e,t,n){try{if(typeof t=="function"){n=typeof n!="undefined"?n:null;if(typeof e["length"]!="number"||typeof e[0]=="undefined"){var r=typeof e.__proto__!="undefined";for(var i in e)e.hasOwnProperty(i)&&(!r||r&&typeof e.__proto__[i]=="undefined")&&typeof e[i]!="function"&&t.call(n,e[i],i)}else for(var s=0,o=e.length;s<o;s++)t.call(n,e[s],s)}}catch(u){}},regionMatches:function(e,t,n,r,i){if(t<0||r<0||t+i>e.length||r+i>n.length)return!1;while(--i>=0){var s=e.charAt(t++),o=n.charAt(r++);if(s!=o)return!1}return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(typeof t!="undefined"&&t&&typeof console!="undefined"&&console){var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(r,e)}},isTrue:function(e){return typeof e=="undefined"?!1:typeof e=="string"?(e=e.toLowerCase(),e==="true"||e==="1"||e==="on"):!!e},toString:function(e){if(typeof e=="undefined")return"undefined";if(typeof e=="string")return e;if(Object.prototype.toString.call(e)==="[object Array]")return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return typeof e!="undefined"&&e!=null},firstGreaterThan0:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){if(null==e||"object"!=typeof e)return e;var t=function(){function e(){}function t(t){return typeof t=="object"?(e.prototype=t,new e):t}function r(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function i(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function s(e,t){var n=new i;return t&&(n.maxDepth=t),n.deepCopy(e)}function o(e){return typeof window!="undefined"&&window&&window.Node?e instanceof Node:e===document?!0:typeof e.nodeType=="number"&&e.attributes&&e.childNodes&&e.cloneNode}var n=[];return r.prototype={constructor:r,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},i.prototype={constructor:i,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){var t=this.copiedObjects,n=t.length;for(var r=0;r<n;r++)if(t[r][0]===e)return t[r][1];return undefined},deepCopy:function(e){if(e===null)return null;if(typeof e!="object")return e;var t=this.getCachedResult(e);if(t)return t;for(var r=0;r<n.length;r++){var i=n[r];if(i.canCopy(e))return this.applyDeepCopier(i,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);this.cacheResult(t,n),this.depth++;if(this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},s.DeepCopier=r,s.deepCopiers=n,s.register=function(e){e instanceof r||(e=new r(e)),n.unshift(e)},s.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}}),s.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var r=0;r<t.length;r++)n.push(e(t[r]));return n}}),s.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),s.register({canCopy:function(e){return o(e)},create:function(e){return e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if(t===document)return document;if(t.childNodes&&t.childNodes.length)for(var r=0;r<t.childNodes.length;r++){var i=e(t.childNodes[r]);n.appendChild(i)}}}),{deepCopy:s}}();return t.deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if(typeof navigator=="undefined"||!navigator.hasOwnProperty("userAgent")||!navigator.hasOwnProperty("appName"))return"";var e=navigator.userAgent,t=navigator.appName,n,r;return(r=e.indexOf("Opera"))!=-1||(r=e.indexOf("OPR/"))!=-1?t="Opera":(r=e.indexOf("Android"))!=-1?t="Android":(r=e.indexOf("Chrome"))!=-1?t="Chrome":(r=e.indexOf("Safari"))!=-1?t="Safari":(r=e.indexOf("Firefox"))!=-1?t="Firefox":(r=e.indexOf("IEMobile"))!=-1?t="Internet Explorer Mobile":t=="Microsoft Internet Explorer"||t=="Netscape"?t="Internet Explorer":(n=e.lastIndexOf(" ")+1)<(r=e.lastIndexOf("/"))&&(t=e.substring(n,r),t.toLowerCase()==t.toUpperCase()&&(t=navigator.appName)),t},getBrowserFullVersion:function(){if(typeof navigator=="undefined"||!navigator.hasOwnProperty("userAgent")||!navigator.hasOwnProperty("appName")||!navigator.hasOwnProperty("appVersion"))return"";var e=navigator.userAgent,t=navigator.appName,n=""+parseFloat(navigator.appVersion),r,i,s,o;return(i=e.indexOf("Opera"))!=-1?(n=e.substring(i+6),(i=e.indexOf("Version"))!=-1&&(n=e.substring(i+8))):(i=e.indexOf("OPR/"))!=-1?n=e.substring(i+4):(i=e.indexOf("Android"))!=-1?n=e.substring(i+11):(i=e.indexOf("Chrome"))!=-1?n=e.substring(i+7):(i=e.indexOf("Safari"))!=-1?(n=e.substring(i+7),(i=e.indexOf("Version"))!=-1&&(n=e.substring(i+8))):(i=e.indexOf("Firefox"))!=-1?n=e.substring(i+8):t=="Microsoft Internet Explorer"?(o=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),o.exec(e)!=null&&(n=parseFloat(RegExp.$1))):t=="Netscape"?(o=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),o.exec(e)!=null&&(n=parseFloat(RegExp.$1))):e.lastIndexOf(" ")+1<(i=e.lastIndexOf("/"))&&(n=e.substring(i+1)),n=n.toString(),(s=n.indexOf(";"))!=-1&&(n=n.substring(0,s)),(s=n.indexOf(" "))!=-1&&(n=n.substring(0,s)),(s=n.indexOf(")"))!=-1&&(n=n.substring(0,s)),r=parseInt(""+n,10),isNaN(r)&&(n=""+parseFloat(navigator.appVersion)),n},browserAcceptsLargeURLs:function(){return typeof window!="undefined"?window.ActiveXObject===null||!0:!0}}}(),ns_.StreamSense=ns_.StreamSense||function(){function w(t,n){var r=t||"",i="undefined",s=y.comScore||y.sitestat||function(t){var n="comScore=",r=b.cookie,s="",o="indexOf",u="substring",a="length",f=e.browserAcceptsLargeURLs()?N.URL_LENGTH_LIMIT:N.RESTRICTED_URL_LENGTH_LIMIT,l,c="&ns_",h="&",d,v,m,g,w=y.encodeURIComponent||escape;if(r[o](n)+1)for(m=0,v=r.split(";"),g=v[a];m<g;m++)d=v[m][o](n),d+1&&(s=h+unescape(v[m][u](d+n[a])));t+=c+"_t="+ +(new Date)+c+"c="+(b.characterSet||b.defaultCharset||"")+s,t.length>f&&t.indexOf(h)>0&&(l=t.substr(0,f-8).lastIndexOf(h),t=(t.substring(0,l)+c+"cut="+w(t.substring(l+1))).substr(0,f)),p.httpGet(t),typeof ns_p===i&&(ns_p={src:t}),ns_p.lastMeasurement=t};if(typeof n!==i){var o=[],u=y.encodeURIComponent||escape;for(var a in n)n.hasOwnProperty(a)&&o.push(u(a)+"="+u(n[a]));/[\?\&]$/.test(r)||(r+="&"),r+=o.join("&")}return s(r)}function E(t,n){var r,i=y.encodeURIComponent||escape,s=[],o=N.LABELS_ORDER,u=t.split("?"),a=u[0],f=u[1],l=f.split("&");for(var c=0,h=l.length;c<h;c++){var p=l[c].split("="),d=unescape(p[0]),v=unescape(p[1]);d&&(n[d]=v)}var m={};for(var g=0,w=o.length;g<w;g++){var E=o[g];if(n.hasOwnProperty(E)){var S=n[E];typeof S!="undefined"&&S!=null&&(m[E]=!0,s.push(i(E)+"="+i(n[E])))}}for(var x in n)if(n.hasOwnProperty(x)){if(m[x])continue;var T=n[x];typeof T!="undefined"&&T!=null&&s.push(i(x)+"="+i(n[x]))}r=a+"?"+s.join("&"),r=r+(r.indexOf("&c8=")<0?"&c8="+i(b.title):"")+(r.indexOf("&c7=")<0?"&c7="+i(b.URL):"")+(r.indexOf("&c9=")<0?"&c9="+i(b.referrer):"");var C=e.browserAcceptsLargeURLs()?N.URL_LENGTH_LIMIT:N.RESTRICTED_URL_LENGTH_LIMIT;if(r.length>C&&r.indexOf("&")>0){var k=r.substr(0,C-8).lastIndexOf("&");r=(r.substring(0,k)+"&ns_cut="+i(r.substring(k+1))).substr(0,C)}return r}var e=ns_.Utils,t=function(){var t="cs_";return function(){var n=typeof localStorage!="undefined"?localStorage:{};e.extend(this,{get:function(e){return n[t+e]},set:function(e,r){n[t+e]=r},has:function(e){return t+e in n},remove:function(e){delete n[t+e]},clear:function(){for(var e in n)n.hasOwnProperty(e)&&delete n[e]}})}}(),n=function(){var t="cs_",n=function(){var n=this,r=typeof atv!="undefined"&&typeof atv.localStorage!="undefined"&&atv.localStorage||null;e.extend(this,{get:function(e){return r&&e&&r.getItem(t+e)||null},set:function(e,n){r&&e&&(r[t+e]=n)},has:function(e){return r&&e&&r.getItem(t+e)!=null||!1},remove:function(e){r&&e&&r.removeItem(t+e)},clear:function(){}})};return n}(),r=function(e,t){if(typeof Image!="undefined"){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},i=function(e,t){typeof XMLHttpRequest!="undefined"&&t&&typeof setTimeout!="undefined"&&setTimeout(t,0);var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&(t&&t(n.status),n=null)},n.send()},s=function(e,t,n){typeof XMLHttpRequest!="undefined"&&n&&typeof setTimeout!="undefined"&&setTimeout(n,0);var r=new XMLHttpRequest;r.open("POST",e,!0),r.onreadystatechange=function(){r.readyState===4&&(n&&n(r.status),r=null)},r.send(t)},o=function(e,t){t&&typeof setTimeout!="undefined"&&setTimeout(t,0)},u=function(e,t,n){n&&typeof setTimeout!="undefined"&&setTimeout(n,0)},a=function(){function f(e){var t=r+e;s[t]="",o[t]=[]}function l(e,n){var i=r+e;s[i]+=u+t(n),o[i].push(n)}function c(n,a){var f=r+n,l=o[f];l.splice(e.indexOf(a,l),1);var c=[];for(var h=0,p=l.length;h<p;h++)c.push(t(l[h]));s[f]=c.join(u),delete s[i+n+a]}function h(e,t,n){s[i+e+t]=n}function p(e,t){return s[i+e+t]}var t=typeof encodeURIComponent!="undefined"?encodeURIComponent:escape,n=typeof decodeURIComponent!="undefined"?decodeURIComponent:unescape,r="cs_dir_",i="cs_file_",s=typeof localStorage!="undefined"?localStorage:{},o={},u="|";return{dir:function(e){var t=r+e,i=o[t];if(i)return i.slice();var a=s[t];if(a){a=a.split(u),i=[];for(var f=0,l=a.length;f<l;f++)a[f].length>0&&i.push(n(a[f]));return o[t]=i,i.slice()}return null},append:function(e,t,n){var r=a.read(e,t);r?r+=n:r=n,a.write(e,t,r)},write:function(t,n,r){var i=a.dir(t);i||(f(t),i=[]),e.indexOf(n,i)==-1&&l(t,n),h(t,n,r)},deleteFile:function(t,n){var r=a.dir(t);return r?e.indexOf(n,r)==-1?!1:(c(t,n),!0):!1},read:function(t,n){var r=a.dir(t);return r?e.indexOf(n,r)==-1?null:p(t,n):null}}}(),f=function(){return{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}}}(),l=function(e,t){typeof engine!="undefined"&&t&&typeof setTimeout!="undefined"&&setTimeout(t,0);var n=engine.createHttpClient(),r=n.createRequest("GET",e,null);r.start(),t&&setTimeout(t,0)},c=function(e,t){if(typeof atv!="undefined"&&typeof atv.setTimeout=="function"){typeof XMLHttpRequest!="undefined"&&t&&atv.setTimeout(t,0);var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&(t&&t(n.status),n=null)},n.send()}},h=function(e,t,n){if(typeof atv!="undefined"&&typeof atv.setTimeout=="function"){typeof XMLHttpRequest!="undefined"&&n&&atv.setTimeout(n,0);var r=new XMLHttpRequest;r.open("POST",e,!0),r.onreadystatechange=function(){r.readyState===4&&(n&&n(r.status),r=null)},r.send(t)}},p=function(){return{PLATFORM:"generic",httpGet:r,httpPost:u,Storage:t,IO:f,getCrossPublisherId:function(){return null},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +(new Date)+~~(Math.random()*1e3)},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return""},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return""},getRuntimeVersion:function(){return""},getResolution:function(){return""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t,n){return setTimeout(e,t,n)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return Constants.UNKNOWN_VALUE},getConnectionType:function(){return Constants.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return Constants.UNKNOWN_VALUE}}}(),d=function(){function s(){return typeof engine!="undefined"&&typeof engine.stats!="undefined"}function o(){return e.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:e.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null}function a(){if(n==null){var e=o();e!=null?(n=e,r="31",i=e):(n=+(new Date)+~~(Math.random()*1e3),r="72",i=null)}}var n=null,r=null,i=null;return{PLATFORM:"trilithium",httpGet:l,httpPost:u,Storage:t,IO:f,getCrossPublisherId:function(){return a(),i},getAppName:function(){return e.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:Constants.UNKNOWN_VALUE},getAppVersion:function(){return e.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:Constants.UNKNOWN_VALUE},getVisitorId:function(){return a(),n},getVisitorIdSuffix:function(){return r},getDeviceName:function(){return e.safeGet(engine.stats.device.platform,"")},getPlatformVersion:function(){return e.safeGet(engine.stats.device.version,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return""},getResolution:function(){return typeof screen!="undefined"&&typeof screen.height!="undefined"&&typeof screen.width!="undefined"?screen.height+"x"+screen.width:""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:s}}(),v=function(){function s(){return typeof window=="undefined"&&typeof atv!="undefined"}function o(){t==null&&(typeof atv!="undefined"&&typeof atv.device!="undefined"&&atv.device.idForVendor?(t=e.safeGet(atv.device.idForVendor,""),r="62"):(t=+(new Date)+~~(Math.random()*1e3),r="72"),i=null)}var t=null,r=null,i=null;return{PLATFORM:"atv",httpGet:c,httpPost:h,Storage:n,IO:f,getCrossPublisherId:function(){return o(),i},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return o(),t},getVisitorIdSuffix:function(){return r},getDeviceName:function(){return"Apple TV"},getPlatformVersion:function(){return typeof atv!="undefined"&&typeof atv.device!="undefined"&&e.safeGet(atv.device.softwareVersion,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return typeof atv!="undefined"&&typeof atv.device!="undefined"&&e.safeGet(atv.device.softwareVersion,"")},getResolution:function(){return typeof atv.device!="undefined"&&typeof atv.device.screenFrame!="undefined"&&typeof atv.device.screenFrame.height!="undefined"&&typeof atv.device.screenFrame.width!="undefined"?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:""},getLanguage:function(){return typeof atv!="undefined"&&typeof atv.device!="undefined"&&e.safeGet(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(e,t,n){return typeof atv!="undefined"&&typeof atv.setTimeout!="undefined"&&atv.setTimeout(e,t,n)},clearTimeout:function(e){return typeof atv!="undefined"&&typeof atv.clearTimeout!="undefined"&&atv.clearTimeout(e)},isCompatible:s}}(),m=function(){function n(){return typeof window!="undefined"&&typeof document!="undefined"}return{PLATFORM:"chromecast",httpGet:r,httpPost:s,Storage:t,IO:a,getCrossPublisherId:function(){return null},getAppName:function(){return typeof document!="undefined"&&document.title||Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return+(new Date)+~~(Math.random()*1e3)},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return"chromecast"},getPlatformVersion:function(){return"5"},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return e.safeGet(e.getBrowserName()+" "+e.getBrowserFullVersion(),Constants.UNKNOWN_VALUE)},getResolution:function(){var t=typeof window!="undefined"&&e.exists(window.screen)&&e.exists(window.screen.availWidth)?window.screen.availWidth:0,n=typeof window!="undefined"&&e.exists(window.screen)&&e.exists(window.screen.availHeight)?window.screen.availHeight:0;return t>0&&n>0?t+"x"+n:""},getLanguage:function(){return typeof window!="undefined"&&e.exists(window.navigator)&&e.safeGet(window.navigator.language,"")||""},getPackageName:function(){return typeof castReceiverManager!="undefined"&&castReceiverManager.getApplicationData&&typeof castReceiverManager.getApplicationData=="function"&&castReceiverManager.getApplicationData().namespaces&&castReceiverManager.getApplicationData().namespaces[0]||""},isConnectionAvailable:function(){return typeof window!="undefined"&&e.exists(window.navigator)&&e.safeGet(window.navigator.onLine,!0)||!0},isCompatible:n,getConnectionType:function(){return Constants.UNKNOWN_VALUE}}}();p.autoSelect=function(){d.isCompatible()?ns_.Utils.extend(p,d):v.isCompatible()&&ns_.Utils.extend(p,v)},p.setPlatformAPI=function(t){var n=!1;switch(t){case ns_.PlatformAPIs.Trilithium:ns_.Utils.extend(p,d),n=!0;break;case ns_.PlatformAPIs.AppleTV:ns_.Utils.extend(p,v),n=!0;break;case ns_.PlatformAPIs.Chromecast:e.extend(p,m),n=!0}n&&(p.autoSelect=function(){})};var g=typeof window!="undefined"&&typeof document!="undefined",y,b;g?(y=window,b=document):(y={},b={location:{href:""},title:"",URL:"",referrer:"",cookie:""});var e=e||{};e.filterMap=function(t,n){for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r,n)==-1&&delete t[r]},e.getKeys=function(e,t){var n,r=[];for(n in e)(!t||t.test(n))&&e.hasOwnProperty(n)&&(r[r.length]=n);return r};var S=function(){var e=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"];return{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return e[t]}}}(),x=function(){var e=[S.END,S.PLAY,S.PAUSE,S.BUFFER];return{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return e[t]}}}(),T={ADPLAY:S.AD_PLAY,ADPAUSE:S.AD_PAUSE,ADEND:S.AD_END,ADCLICK:S.AD_CLICK},N={STREAMSENSE_VERSION:"4.1505.18",DEFAULT_PLAYERNAME:"streamsense",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},C=function(){return function(){function l(e,t){var n=t[e];n!=null&&(f[e]=n)}var t=this,n=0,r=0,i=0,s=0,o=0,u=0,a,f;e.extend(this,{reset:function(n){n!=null&&n.length>0?e.filterMap(f,n):f={},f.hasOwnProperty("ns_st_cl")||(f.ns_st_cl="0"),f.hasOwnProperty("ns_st_pn")||(f.ns_st_pn="1"),f.hasOwnProperty("ns_st_tp")||(f.ns_st_tp="1"),t.setPauses(0),t.setStarts(0),t.setBufferingTime(0),t.setBufferingTimestamp(-1),t.setPlaybackTime(0),t.setPlaybackTimestamp(-1)},setLabels:function(n,r){n!=null&&e.extend(f,n),t.setRegisters(f,r)},getLabels:function(){return f},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return f[e]},getClipId:function(){return(typeof a=="undefined"||a==null)&&t.setClipId("1"),a},setClipId:function(e){a=e},setRegisters:function(e,s){var u=e.ns_st_cn;u!=null&&(t.setClipId(u),delete e.ns_st_cn),u=e.ns_st_bt,u!=null&&(i=Number(u),delete e.ns_st_bt),l("ns_st_cl",e),l("ns_st_pn",e),l("ns_st_tp",e),l("ns_st_ub",e),l("ns_st_br",e);if(s==x.PLAYING||s==null)u=e.ns_st_sq,u!=null&&(r=Number(u),delete e.ns_st_sq);s!=x.BUFFERING&&(u=e.ns_st_pt,u!=null&&(o=Number(u),delete e.ns_st_pt));if(s==x.PAUSED||s==x.IDLE||s==null)u=e.ns_st_pc,u!=null&&(n=Number(u),delete e.ns_st_pc)},createLabels:function(i,s){var o=s||{};o.ns_st_cn=t.getClipId(),o.ns_st_bt=String(t.getBufferingTime());if(i==S.PLAY||i==null)o.ns_st_sq=String(r);if(i==S.PAUSE||i==S.END||i==S.KEEP_ALIVE||i==S.HEART_BEAT||i==null)o.ns_st_pt=String(t.getPlaybackTime()),o.ns_st_pc=String(n);return e.extend(o,t.getLabels()),o},incrementPauses:function(){n++},incrementStarts:function(){r++},getBufferingTime:function(){var e=i;return s>=0&&(e+=+(new Date)-s),e},setBufferingTime:function(e){i=e},getPlaybackTime:function(){var e=o;return u>=0&&(e+=+(new Date)-u),e},setPlaybackTime:function(e){o=e},getPlaybackTimestamp:function(){return u},setPlaybackTimestamp:function(e){u=e},getBufferingTimestamp:function(){return s},setBufferingTimestamp:function(e){s=e},getPauses:function(){return n},setPauses:function(e){n=e},getStarts:function(){return r},setStarts:function(e){r=e}}),f={},t.reset()}}(),k=function(){return function(){var t=this,n=null,r,i=0,s=0,o=0,u=0,a=0,f,l=0,c=!1;e.extend(this,{reset:function(n){n!=null&&n.length>0?e.filterMap(f,n):f={},t.setPlaylistId(+(new Date)+"_"+l),t.setBufferingTime(0),t.setPlaybackTime(0),t.setPauses(0),t.setStarts(0),t.setRebufferCount(0),c=!1},setLabels:function(n,r){n!=null&&e.extend(f,n),t.setRegisters(f,r)},getLabels:function(){return f},setLabel:function(e,n){var r={};r[e]=n,t.setLabels(r,null)},getLabel:function(e){return f[e]},getClip:function(){return n},getPlaylistId:function(){return r},setPlaylistId:function(e){r=e},setRegisters:function(e,t){var n=e.ns_st_sp;n!=null&&(i=Number(n),delete e.ns_st_sp),n=e.ns_st_bc,n!=null&&(o=Number(n),delete e.ns_st_bc),n=e.ns_st_bp,n!=null&&(u=Number(n),delete e.ns_st_bp),n=e.ns_st_id,n!=null&&(r=n,delete e.ns_st_id),t!=x.BUFFERING&&(n=e.ns_st_pa,n!=null&&(a=Number(n),delete e.ns_st_pa));if(t==x.PAUSED||t==x.IDLE||t==null)n=e.ns_st_pp,n!=null&&(s=Number(n),delete e.ns_st_pp)},createLabels:function(n,u){var a=u||{};a.ns_st_bp=String(t.getBufferingTime()),a.ns_st_sp=String(i),a.ns_st_id=String(r),o>0&&(a.ns_st_bc=String(o));if(n==S.PAUSE||n==S.END||n==S.KEEP_ALIVE||n==S.HEART_BEAT||n==null)a.ns_st_pa=String(t.getPlaybackTime()),a.ns_st_pp=String(s);if(n==S.PLAY||n==null)t.didFirstPlayOccurred()||(a.ns_st_pb="1",t.setFirstPlayOccurred(!0));return e.extend(a,t.getLabels()),a},incrementStarts:function(){i++},incrementPauses:function(){s++,n.incrementPauses()},setPlaylistCounter:function(e){l=e},incrementPlaylistCounter:function(){l++},addPlaybackTime:function(e){if(n.getPlaybackTimestamp()>=0){var r=e-n.getPlaybackTimestamp();n.setPlaybackTimestamp(-1),n.setPlaybackTime(n.getPlaybackTime()+r),t.setPlaybackTime(t.getPlaybackTime()+r)}},addBufferingTime:function(e){if(n.getBufferingTimestamp()>=0){var r=e-n.getBufferingTimestamp();n.setBufferingTimestamp(-1),n.setBufferingTime(n.getBufferingTime()+r),t.setBufferingTime(t.getBufferingTime()+r)}},getBufferingTime:function(){var e=u;return n.getBufferingTimestamp()>=0&&(e+=+(new Date)-n.getBufferingTimestamp()),e},setBufferingTime:function(e){u=e},getPlaybackTime:function(){var e=a;return n.getPlaybackTimestamp()>=0&&(e+=+(new Date)-n.getPlaybackTimestamp()),e},setPlaybackTime:function(e){a=e},getStarts:function(){return i},setStarts:function(e){i=e},getPauses:function(){return s},setPauses:function(e){s=e},getRebufferCount:function(){return o},incrementRebufferCount:function(){o++},setRebufferCount:function(e){o=e},didFirstPlayOccurred:function(){return c},setFirstPlayOccurred:function(e){c=e}}),n=new C,f={},t.reset()}}(),L=function(){var t=function(t,n,r){function q(e){var t=0;if(C!=null)for(var n=0;n<C.length;n++){var r=C[n],i=r.playingtime;if(!i||e<i){t=r.interval;break}}return t}function R(){X();var e=q(v.getClip().getPlaybackTime());if(e>0){var t=O>0?O:e;T=p.setTimeout(W,t)}O=0}function U(){X();var e=q(v.getClip().getPlaybackTime());O=e-v.getClip().getPlaybackTime()%e,T!=null&&X()}function z(){O=0,_=0,M=0}function W(){M++;var e=mt(S.HEART_BEAT,null);rt(e),O=0,R()}function X(){T!=null&&(p.clearTimeout(T),T=null)}function V(){J(),b=p.setTimeout($,L)}function $(){var e=mt(S.KEEP_ALIVE,null);rt(e),d++,V()}function J(){b!=null&&(p.clearTimeout(b),b=null)}function K(){G(),i.isPauseOnBufferingEnabled()&&at(x.PAUSED)&&(g=p.setTimeout(Q,A))}function Q(){if(P==x.PLAYING){v.incrementRebufferCount(),v.incrementPauses();var e=mt(S.PAUSE,null);rt(e),d++,P=x.PAUSED}}function G(){g!=null&&(p.clearTimeout(g),g=null)}function Y(e){return e==x.PLAYING||e==x.PAUSED}function Z(){l&&(p.clearTimeout(l),l=null)}function et(e){return e==S.PLAY?x.PLAYING:e==S.PAUSE?x.PAUSED:e==S.BUFFER?x.BUFFERING:e==S.END?x.IDLE:null}function tt(t,n,r){Z();if(r)l=p.setTimeout(function(e,t){return function(){tt(e,t)}}(t,n),r);else if(ct(t)){var i=pt(),s=a,o=lt(n),u=s>=0?o-s:0;ot(pt(),n),ut(t,n),dt(pt()),ht(t);for(var f=0,c=F.length;f<c;f++)F[f](i,t,n,u);nt(n),v.setRegisters(n,t),v.getClip().setRegisters(n,t);var m=mt(x.toEventType(t),n);e.extend(m,n),at(h)&&(rt(m),P=h,d++)}}function nt(e){var t=e.ns_st_mp;t!=null&&(H=t,delete e.ns_st_mp),t=e.ns_st_mv,t!=null&&(B=t,delete e.ns_st_mv),t=e.ns_st_ec,t!=null&&(d=Number(t),delete e.ns_st_ec)}function rt(e,t){t===undefined&&(t=!0),t&&st(e);var n=i.getPixelURL();if(m){if(!it()){var r=I.am,s=I.et,o=r.newApplicationMeasurement(m,s.HIDDEN,e,n);m.getQueue().offer(o)}}else n&&p.httpGet(E(n,e))}function it(){var e=m.getAppContext(),t=m.getSalt(),n=m.getPixelURL();return e==null||t==null||t.length==0||n==null||n.length==0}function st(t){j=mt(null),e.extend(j,t)}function ot(t,n){var r=lt(n);if(t==x.PLAYING)v.addPlaybackTime(r),U(),J();else if(t==x.BUFFERING)v.addBufferingTime(r),G();else if(t==x.IDLE){var i=e.getKeys(v.getClip().getLabels());v.getClip().reset(i)}}function ut(e,t){var n=lt(t);f=ft(t),e==x.PLAYING?(R(),V(),v.getClip().setPlaybackTimestamp(n),at(e)&&(v.getClip().incrementStarts(),v.getStarts()<1&&v.setStarts(1))):e==x.PAUSED?at(e)&&v.incrementPauses():e==x.BUFFERING?(v.getClip().setBufferingTimestamp(n),y&&K()):e==x.IDLE&&z()}function at(e){return e!=x.PAUSED&&e!=x.IDLE||P!=x.IDLE&&P!=null?e!=x.BUFFERING&&P!=e:!1}function ft(t){var n=-1;return t.hasOwnProperty("ns_st_po")&&(n=e.getInteger(t.ns_st_po)),n}function lt(e){var t=-1;return e.hasOwnProperty("ns_ts")&&(t=Number(e.ns_ts)),t}function ct(e){return e!=null&&pt()!=e}function ht(e){h=e,a=+(new Date)}function pt(){return h}function dt(e){c=e}function vt(){return c}function mt(){var t,n;arguments.length==1?(t=x.toEventType(h),n=arguments[0]):(t=arguments[0],n=arguments[1]);var r={};if(typeof document!="undefined"){var s=document;r.c7=s.URL,r.c8=s.title,r.c9=s.referrer}return n!=null&&e.extend(r,n),r.hasOwnProperty("ns_ts")||(r.ns_ts=String(+(new Date))),t!=null&&!r.hasOwnProperty("ns_st_ev")&&(r.ns_st_ev=S.toString(t)),e.extend(r,i.getLabels()),gt(t,r),v.createLabels(t,r),v.getClip().createLabels(t,r),r.hasOwnProperty("ns_st_mp")||(r.ns_st_mp=H),r.hasOwnProperty("ns_st_mv")||(r.ns_st_mv=B),r.hasOwnProperty("ns_st_ub")||(r.ns_st_ub="0"),r.hasOwnProperty("ns_st_br")||(r.ns_st_br="0"),r.hasOwnProperty("ns_st_pn")||(r.ns_st_pn="1"),r.hasOwnProperty("ns_st_tp")||(r.ns_st_tp="1"),r.hasOwnProperty("ns_st_it")||(r.ns_st_it="c"),r.ns_st_sv=N.STREAMSENSE_VERSION,r.ns_type="hidden",r}function gt(t,n){var r=n||{};r.ns_st_ec=String(d);if(!r.hasOwnProperty("ns_st_po")){var i=f,s=lt(r);if(t==S.PLAY||t==S.KEEP_ALIVE||t==S.HEART_BEAT||t==null&&h==x.PLAYING)i+=s-v.getClip().getPlaybackTimestamp();r.ns_st_po=e.getInteger(i)}return t==S.HEART_BEAT&&(r.ns_st_hc=String(M)),r}function yt(e){var t=lt(e);t<0&&(e.ns_ts=String(+(new Date)))}function bt(e,t,n){t=t||{},t.ns_st_ad=1,e>=S.AD_PLAY&&e<=S.AD_CLICK&&i.notify(e,t,n)}function wt(e,t){i.notify(S.CUSTOM,e,t)}var i=this,s=500,o,u=null,a=0,f=0,l,c,h,d=0,v=null,m,g,y=!0,b,T,C=N.DEFAULT_HEARTBEAT_INTERVAL,L=N.DEFAULT_KEEP_ALIVE_INTERVAL,A=N.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,O=0,M=0,_=0,D=!1,P,H,B,j,F,I={};r?p.setPlatformAPI(r):p.autoSelect(),e.extend(this,{reset:function(t){v.reset(t),v.setPlaylistCounter(0),v.setPlaylistId(+(new Date)+"_1"),v.getClip().reset(t),t!=null&&!t.isEmpty()?e.filterMap(o,t):o={},d=1,M=0,U(),z(),J(),G(),Z(),h=x.IDLE,c=null,a=-1,P=null,H=N.DEFAULT_PLAYERNAME,B=N.STREAMSENSE_VERSION,j=null},setPauseOnBufferingInterval:function(e){A=e},getPauseOnBufferingInterval:function(){return A},setKeepAliveInterval:function(e){L=e},getKeepAliveInterval:function(){return L},setHeartbeatIntervals:function(e){C=e},notify:function(){var t,n,r,o;n=arguments[0],arguments.length==3?(r=arguments[1],o=arguments[2]):(r={},o=arguments[1]);if(!S.toString(n))return;t=et(n);var u=e.extend({},r);yt(u),u.hasOwnProperty("ns_st_po")||(u.ns_st_po=e.getInteger(o).toString());if(n==S.PLAY||n==S.PAUSE||n==S.BUFFER||n==S.END)i.isThrottlingEnabled()&&Y(h)&&Y(t)&&(h!=x.PLAYING||t!=x.PAUSED||!!l)?tt(t,u,s):tt(t,u);else{var a=mt(n,u);e.extend(a,u),rt(a,!1),d++}},getLabels:function(){return o},getState:function(){return h},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&i.setLabel(t,e[t])},getLabel:function(e){return o[e]},setLabel:function(e,t){t==null?delete o[e]:o[e]=t},setPixelURL:function(e){if(e==null||e.length==0)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){var r=e.substring(n+1).split("&");for(var s=0,o=r.length;s<o;s++){var a=r[s],f=a.split("=");f.length==2?i.setLabel(f[0],t(f[1])):f.length==1&&i.setLabel(N.PAGE_NAME_LABEL,t(f[0]))}e=e.substring(0,n+1)}}else e+="?";return u=e,u},getPixelURL:function(){return u?u:typeof ns_p!="undefined"&&typeof ns_p.src=="string"?u=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):typeof ns_pixelUrl=="string"?u=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},isPauseOnBufferingEnabled:function(){return y},setPauseOnBufferingEnabled:function(e){y=e},isThrottlingEnabled:function(){return D},setThrottlingEnabled:function(e){D=e},setThrottlingDelay:function(e){e&&e>0&&
(s=e)},getThrottlingDelay:function(){return s},setClip:function(e,t){var n=!1;return h==x.IDLE&&(v.getClip().reset(),v.getClip().setLabels(e,null),t&&v.incrementStarts(),n=!0),n},setPlaylist:function(e){var t=!1;return h==x.IDLE&&(v.incrementPlaylistCounter(),v.reset(),v.getClip().reset(),v.setLabels(e,null),t=!0),t},importState:function(t){reset();var n=e.extend({},t);v.setRegisters(n,null),v.getClip().setRegisters(n,null),nt(n),d++},exportState:function(){return j},getVersion:function(){return N.STREAMSENSE_VERSION},addListener:function(e){F.push(e)},removeListener:function(t){F.splice(e.indexOf(t,F),1)},getClip:function(){return v.getClip()},getPlaylist:function(){return v},setHttpGet:function(e){typeof e=="function"&&(p.httpGet=e)},setHttpPost:function(e){typeof e=="function"&&(p.httpPost=e)}}),e.extend(this,{adNotify:bt,customNotify:wt,viewNotify:function(e,t){e=e||i.getPixelURL(),e&&w(e,t)}}),ns_.comScore&&(I=ns_.comScore.exports,m=I.c()),o={},d=1,h=x.IDLE,v=new k,g=null,y=!0,T=null,M=0,z(),b=null,l=null,D=!1,P=null,f=0,F=[],i.reset(),t&&i.setLabels(t),n&&i.setPixelURL(n)};return function(t){function s(e,t){return n[i]||u(e,t)}function o(){i=-1;for(var e=0;e<=r;e++)if(n.hasOwnProperty(String(e))){i=e;break}return ns_.StreamSense.activeIndex=i,i}function u(e,t){return e=e||null,t=t||null,e&&typeof e=="object"&&(t=e,e=null),n[++r]=new ns_.StreamSense(t,e),o(),n[r]}function a(){var e=!1,t=i;if(typeof arguments[0]=="number"&&isFinite(arguments[0]))t=arguments[0];else if(arguments[0]instanceof ns_.StreamSense)for(var r in n)if(n.hasOwnProperty(r)&&n[r]===arguments[0]){t=r;break}return n.hasOwnProperty(String(t))&&(e=n[t],delete n[t],e.reset(),o()),e}function f(e){return e=e||{},s().setPlaylist(e),s().getPlaylist()}function l(e,t,n){return e=e||{},typeof t=="number"&&(e.ns_st_cn=t),s().setClip(e,n),s().getClip()}function c(e,t,n){return typeof e=="undefined"?!1:(n=n||null,t=t||{},s().notify(e,t,n))}function h(e){typeof e!="undefined"&&s().setLabels(e)}function p(){return s().getLabels()}function d(e){typeof e!="undefined"&&s().getPlaylist().setLabels(e)}function v(){return s().getPlaylist().getLabels()}function m(e){typeof e!="undefined"&&s().getClip().setLabels(e)}function g(){return s().getClip().getLabels()}function y(e){return s().reset(e||{})}function b(e){return s().getPlaylist().reset(e||{})}function w(e){return s().getClip().reset(e||{})}function E(e){return e=e||{},s().viewNotify(null,e)}function S(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},typeof t=="number"&&(e.ns_st_po=t),s().customNotify(e,t)}function x(){return s().exportState()}function T(e){s().importState(e)}var n={},r=-1,i=-1;e.extend(t,{activeIndex:i,newInstance:u,"new":u,destroyInstance:a,destroy:a,newPlaylist:f,newClip:l,notify:c,setLabels:h,getLabels:p,setPlaylistLabels:d,getPlaylistLabels:v,setClipLabels:m,getClipLabels:g,resetInstance:y,resetPlaylist:b,resetClip:w,viewEvent:E,customEvent:S,exportState:x,importState:T})}(t),t}();return L.AdEvents=T,L.PlayerEvents=S,L.InternalStates=x,L.getPlatformAPI=function(){return p},L}(),ns_.StreamingTag=ns_.StreamingTag||function(){var e=ns_.Utils,t=ns_.StreamSense,n=ns_.StreamSense.PlayerEvents,r=ns_.StreamSense.AdEvents,i=ns_.StreamSense.InternalStates||null,s=ns_.StreamSense.InternalStates!=null;return function(){var r=function(r){function v(){if(!s)return;if(ns_.comScore)c=new t,c.setLabel("ns_st_it","r");else if(e.exists(r)){h=e.isTrue(r.debug);if(e.exists(r.customerC2)&&r.customerC2.length>0){var n=r.secure?"https://sb":"http"+(document.location.href.charAt(4)=="s"?"s://sb":"://b");c=new t,c.setPixelURL(n+".scorecardresearch.com/p?c1=2"),c.setLabel("c2",r.customerC2),c.setLabel("ns_st_it","r")}else h&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}}function m(t){return e.exists(t)||(t={}),e.exists(t.ns_st_ci)||(t.ns_st_ci="0"),e.exists(t.c3)||(t.c3="*null"),e.exists(t.c4)||(t.c4="*null"),e.exists(t.c6)||(t.c6="*null"),t}function g(e){return u>0&&e>=u?a+=e-u:a=0,a}function y(e){c.getState()!=i.IDLE&&c.getState()!=i.PAUSED?c.notify(n.END,g(e)):c.getState()==i.PAUSED&&c.notify(n.END,a)}function b(e){return w("ns_st_ci",f,e)&&w("c3",f,e)&&w("c4",f,e)&&w("c6",f,e)}function w(t,n,r){if(e.exists(t)&&e.exists(n)&&e.exists(r)){var i=n[t],s=r[t];return e.exists(i)&&e.exists(s)&&i===s}return!1}function E(t,r){y(t),o++;var i={ns_st_cn:o,ns_st_pn:"1",ns_st_tp:"0"};e.extend(i,r),c.setClip(i),f=r,u=t,a=0,c.notify(n.PLAY,a)}function S(t){var r=+(new Date);y(r),o++,t=m(t);var i={ns_st_cn:o,ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};e.extend(i,t),c.setClip(i),a=0,c.notify(n.PLAY,a),u=r,l=!1}function x(e,t){var r=+(new Date);e=m(e),d==p.None&&(d=t),l&&d==t?b(e)?(c.getClip().setLabels(e),c.getState()!=i.PLAYING&&(u=r,c.notify(n.PLAY,a))):E(r,e):E(r,e),l=!0,d=t}var o=0,u=0,a=0,f=null,l=!1,c=null,h=!1,p={None:0,AudioContent:1,VideoContent:2},d=p.None;e.extend(this,{playAdvertisement:function(){if(!c)return;h&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");var e={ns_st_ct:"va"};S(e)},playVideoAdvertisement:function(t){if(!c)return;var n={ns_st_ct:"va"};t&&e.extend(n,t),S(n)},playAudioAdvertisement:function(t){if(!c)return;var n={ns_st_ct:"aa"};t&&e.extend(n,t),S(n)},playContentPart:function(t){if(!c)return;h&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};t&&e.extend(n,t),x(n,p.VideoContent)},playVideoContentPart:function(t){if(!c)return;var n={ns_st_ct:"vc"};t&&e.extend(n,t),x(n,p.VideoContent)},playAudioContentPart:function(t){if(!c)return;var n={ns_st_ct:"ac"};t&&e.extend(n,t),x(n,p.AudioContent)},stop:function(){if(!c)return;var e=+(new Date);c.notify(n.PAUSE,g(e))}}),v()};return function(e){}(r),r}()}();