if (self.CavalryLogger) { CavalryLogger.start_js(["mqrBt"]); }

__d("IntegrityContextTriggerGlimpseAnimator",["cx","CSS","OnVisible","Run","SubscriptionsHandler","ViewportBounds","getElementRect","getViewportDimensions","requestAnimationFrame"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="_3i0x",i="_3i0y",j=500,k={GLIMPSE_ANIM_ENABLED:"glimpse_anim_enabled",GLIMPSE_HAS_EVER_EXPANDED:"glimpse_has_ever_expanded",GLIMPSE_EXPAND_DELAY_MS:"glimpse_expand_delay_ms",GLIMPSE_CONTRACT_DELAY_MS:"glimpse_contract_delay_ms"};function l(a,c,d){__p&&__p();this.$1=a;this.$2=c;this.$3=d;this.$7=!1;a=this.destroy.bind(this);this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(b("Run").onLeave(a),b("Run").onUnload(a));this.$5=new(b("SubscriptionsHandler"))();this.$8();this.$6=new(b("SubscriptionsHandler"))()}l.prototype.getExtraDataForTriggerLogger=function(){var a={};a[k.GLIMPSE_ANIM_ENABLED]="1";var b=this.$7?"1":"0";a[k.GLIMPSE_HAS_EVER_EXPANDED]=b;a[k.GLIMPSE_EXPAND_DELAY_MS]=this.$2.toString();b=this.$3;b!==null&&b!==void 0&&(a[k.GLIMPSE_CONTRACT_DELAY_MS]=b.toString());return a};l.prototype.destroy=function(){this.$4.release(),this.$5.release(),this.$6.release()};l.prototype.$8=function(){this.$5.release();if(this.$7)return;this.$5.engage();var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(new(b("OnVisible"))(this.$1,function(){a.release(),this.$9()}.bind(this),!0,0));this.$5.addSubscriptions({remove:function(){a.release()}})};l.prototype.$9=function(){this.$10()};l.prototype.$10=function(){var a=new(b("SubscriptionsHandler"))(),c=setTimeout(function(){a.release(),this.$11(),this.$12()}.bind(this),this.$2);a.addSubscriptions({remove:function(){clearTimeout(c)}});a.addSubscriptions(new(b("OnVisible"))(this.$1,function(){a.release(),this.$8()}.bind(this),!0,0,!0));this.$5.addSubscriptions({remove:function(){a.release()}})};l.prototype.$13=function(){var a=b("ViewportBounds").getTop(),c=b("getViewportDimensions")().height,d=b("getElementRect")(this.$1);return d.bottom-d.top>0&&d.bottom>=a&&d.top<=c};l.prototype.$12=function(){if(this.$3==null)return;var a=new(b("SubscriptionsHandler"))(),c=setTimeout(function(){a.release(),this.$13()?this.$14():this.$15()}.bind(this),this.$3);a.addSubscriptions({remove:function(){clearTimeout(c)}});this.$5.addSubscriptions({remove:function(){a.release()}})};l.prototype.$11=function(){this.$16(!0,!0)};l.prototype.$14=function(){this.$16(!1,!0)};l.prototype.$15=function(){this.$16(!1,!1)};l.prototype.$16=function(a,c){__p&&__p();this.$7=this.$7||a;this.$6.release();this.$6.engage();b("CSS").conditionClass(this.$1,h,c);var d=b("requestAnimationFrame")(function(){b("CSS").conditionClass(this.$1,i,a);if(!c)return;var d=setTimeout(function(){this.$6.release(),b("CSS").removeClass(this.$1,h)}.bind(this),j);this.$6.addSubscriptions({remove:function(){clearTimeout(d)}})}.bind(this));this.$6.addSubscriptions({remove:function(){cancelAnimationFrame(d)}})};function a(a){var b=a.triggerRootElem;a=a.glimpseConfig;if(!b||!a)return null;var c=a.expandDelayMs;a=a.contractDelayMs;return c==null?null:new l(b,c,a)}e.exports={initAnim:a}}),null);
__d("IntegrityContextTriggerClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:IntegrityContextTriggerClientLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:IntegrityContextTriggerClientLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:IntegrityContextTriggerClientLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEntryPoint=function(a){this.$1.entry_point=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setFeedTracking=function(a){this.$1.feed_tracking=a;return this};a.prototype.setIntegrityContextType=function(a){this.$1.integrity_context_type=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTriggerLoggerID=function(a){this.$1.trigger_logger_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={entry_point:!0,event:!0,feed_tracking:!0,integrity_context_type:!0,time:!0,trigger_logger_id:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("IntegrityContextTriggerLoggerManager",["Event","IntegrityContextTriggerClientTypedLogger","OnVisible","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=Object.freeze({TRIGGER_VPV:"trigger_vpv",TRIGGER_HOVER:"trigger_hover",TRIGGER_CLICK:"trigger_click"});function i(a,c,d){__p&&__p();var e=a.triggerLinkElem,f=a.loggerID,g=a.serializedFTMsg,h=a.integrityContextType;a=a.entryPoint;this.$1=e;this.$2=f;this.$3=g;this.$4=h;this.$6=null;this.$5=a;this.$7=c;e=this.destroy.bind(this);f=new(b("SubscriptionsHandler"))();f.addSubscriptions(b("Run").onLeave(e),b("Run").onUnload(e));d||this.$9(f);this.$8=f}i.prototype.$10=function(){var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(new(b("OnVisible"))(this.$1,function(){a.release(),this.onFirstVisible()}.bind(this),!0,0));return a};i.prototype.$11=function(){var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Event").listen(this.$1,"mouseenter",function(){a.release(),this.onFirstMouseEnter()}.bind(this)));return a};i.prototype.$9=function(a){var c=this.$10(),d=this.$11();a.addSubscriptions(b("Event").listen(this.$1,"click",function(){this.onClick()}.bind(this)),{remove:function(){c.release(),d.release()}})};i.prototype.destroy=function(){this.$8.release(),delete g[this.$2]};i.prototype.onClick=function(){this.$6=new Date().valueOf(),this.$12(h.TRIGGER_CLICK)};i.prototype.onFirstMouseEnter=function(){this.$12(h.TRIGGER_HOVER)};i.prototype.onFirstVisible=function(){this.$12(h.TRIGGER_VPV)};i.prototype.getLastTriggerTimeMS=function(){return this.$6};i.prototype.$12=function(a){a=new(b("IntegrityContextTriggerClientTypedLogger"))().setEvent(a).setTriggerLoggerID(this.$2).setIntegrityContextType(this.$4).setEntryPoint(this.$5);this.$3&&a.setFeedTracking(this.$3);var c=this.$7&&this.$7();c&&a.updateExtraData(c);a.log()};function j(a){return g[a]||null}function k(a){a=j(a);a&&a.destroy()}function l(a,b,c){var d=a.loggerID;k(d);a=new i(a,b,c);g[d]=a;return a}function a(a,b){b===void 0&&(b=null);return l(a,b,!1)}function c(a){return l(a,null,!0)}function d(a){a=j(a);return a&&a.getLastTriggerTimeMS()||null}e.exports={initLogger:a,initLoggerWithCustomEventListeners:c,clearLogger:k,getLastTriggerTimeMS:d}}),null);