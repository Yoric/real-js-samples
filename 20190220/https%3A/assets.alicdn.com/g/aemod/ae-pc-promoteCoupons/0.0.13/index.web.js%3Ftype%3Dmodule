// {"framework" : "Rax"}
!function(e){if("function"==typeof define)define("aemod/ae-pc-promoteCoupons/index.web",["rat-frame","rat-view","rat-text","rat-picture","rat-overlay","rat-link","rat-slider"],function(require,exports,module){module.exports=e(require("rat-frame"),require("rat-view"),require("rat-text"),require("rat-picture"),require("rat-overlay"),require("rat-link"),require("rat-slider"))});else if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("rat-frame"),require("rat-view"),require("rat-text"),require("rat-picture"),require("rat-overlay"),require("rat-link"),require("rat-slider"));else{var t;(t="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:this).AePcPromoteCoupons=e(t["rat-frame"],t["rat-view"],t["rat-text"],t["rat-picture"],t["rat-overlay"],t["rat-link"],t["rat-slider"])}}(function(e,t,o,n,r,l,i){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var module=t[n]={i:n,l:!1,exports:{}};return e[n].call(module.exports,module,module.exports,o),module.l=!0,module.exports}return o.m=e,o.c=t,o.d=function(exports,e,t){o.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},o.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return o.d(e,"a",e),e},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=7)}([function(module,exports){module.exports=e},function(module,exports){module.exports=t},function(module,exports){module.exports=o},function(module,exports){module.exports=n},function(module,exports){module.exports=r},function(module,exports){module.exports=l},function(module,exports){module.exports=i},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var o,n=0;n<t.length;n++)(o=t[n]).enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=e(0),l=c(e(1)),i=(c(e(2)),c(e(3))),a=c(e(8)),u=c(e(10)),p=c(e(12)),d=c(e(14));function c(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.goTargetUrl=function(e,o,n){var r=t.state,l=r.mds,i=(r.gdc,{url:e,nid:o||0,widgetId:l.widgetId,moduleName:l.moduleName,target:n||null});t.pageUtils.goTargetUrl&&t.pageUtils.goTargetUrl(i)},t.getLogin=function(){var e="n";(document.cookie.split(/;\s/g)||[]).forEach(function(t){if(0===t.indexOf("xman_us_t=")){t.match(/(.*&?sign=)(.*?)(&.*|$)/),e=RegExp.$2}}),"y"===e&&t.setState({isLogin:!0})},t.changeCoins=function(e){var o=t.state,n=o.userCoins,r=o.balance,l=o.time;n=e.userCoins,r=e.balance,l=e.time,t.setState({userCoins:n,balance:r,time:l})},t.getUsualCou=function(){var e=t.state.mds.moduleData,o=void 0===e?{}:e,n=o.couponInfoUrl,r=void 0===n?"":n;return!(!o||!r)&&void t.fetch(r,{dataType:"jsonp"}).then(function(e){return e.json()}).then(function(e){e&&(e.prizeItemResult&&e.prizeItemResult.length>0&&o&&"{}"!==JSON.stringify(o)&&t.setState({showDataStatus:!0,showNoDataStatus:!1,prizeItemResult:e.prizeItemResult[0],userCoins:e.userCoins||0,balance:e.prizeItemResult[0].coupon_balance||0,denomination:e.prizeItemResult[0].denomination,order_amount:e.prizeItemResult[0].order_amount,time:e.prizeItemResult[0].consume_effective_period,cost_coins:e.prizeItemResult[0].cost_coins}),e.prizeItemResult&&0===e.prizeItemResult.length&&t.setState({showDataStatus:!0,showNoDataStatus:!1,errorImage:!0}))}).catch(function(e){console.log("fetch error: ",e)})},t.getOtherCou=function(){var e=t.state,o=(e.gdc,e.mds.moduleData),n=(o||{}).dataApi,r=(n||{}).ajax||{},l=r.params,i=void 0===l?{}:l,a=r.apiName;r.componentKey;if(!n||!n.ajax)return!1;var u="";for(var p in i)u+="&"+p+"="+i[p];var d=a+"?componentKey=promoteCoupons"+u;t.fetch(d,{dataType:"jsonp"}).then(function(e){return e.json()}).then(function(e){e.success&&o&&"{}"!==JSON.stringify(o)&&t.setState({showDataStatus:!0,showNoDataStatus:!1,couponList:e.result.couponList||[],promotionList:e.result.promotionList||[]})}).catch(function(e){console.log("fetch error: ",e)})},t.getCouponsWidth=function(){var e=t.state,o=e.couponList,n="100%",r=0,l=0;return 0===e.promotionList.length?0===o.length?(n="100%",r=0,l=0):1===o.length?(n=930,r=192,l=0):(n=730,r=392,l=0):0===o.length?(n=790,r=0,l=290):1===o.length?(n=590,r=192,l=290):(n=390,r=392,l=290),{usualCoupons_width:n,specialConpons_widh:r,discount_widh:l}},t.pageUtils=e.pageUtils,t.fetch=e.pageUtils.fetch,t.state={showDataStatus:!1,showNoDataStatus:!0,mds:t.props.mds||{},gdc:t.props.gdc||{},dataSource:[],isLogin:!1,couponList:[],promotionList:[],prizeItemResult:[],userCoins:0,denomination:"",order_amount:"",balance:"",time:{},cost_coins:"",errorImage:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,r.Component),n(c,[{key:"componentWillMount",value:function(){this.getLogin()}},{key:"componentDidMount",value:function(){this.getUsualCou(),this.getOtherCou()}},{key:"render",value:function(){var e=this.state,n=e.showDataStatus,c=e.showNoDataStatus,s=e.mds,f=e.gdc,g=e.isLogin,m=e.couponList,h=e.promotionList,x=(e.prizeItemResult,e.userCoins),b=e.denomination,y=e.time,w=e.cost_coins,C=e.order_amount,v=e.balance,E=e.errorImage,S=f.preView,T=f.translation,k=void 0===T?"{}":T;k="object"===(void 0===k?"undefined":o(k))?k:JSON.parse(k);var O=this.getCouponsWidth(),_=1==S||"true"==S?"0":"-93px",R=t({},d.default.wrapper,{marginTop:_});return n?(0,r.createElement)(l.default,{style:R},(0,r.createElement)(l.default,{style:d.default.wrap},(0,r.createElement)(a.default,{translation:k,isLogin:g,pageUtils:this.pageUtils,gdc:f,mds:s,userCoins:x,denomination:b,time:y,cost_coins:w,order_amount:C,couponList:m,promotionList:h,balance:v,changeCoins:this.changeCoins,width:O.usualCoupons_width,errorImage:E}),(0,r.createElement)(u.default,{translation:k,isLogin:g,pageUtils:this.pageUtils,gdc:f,mds:s,couponList:m,promotionList:h,width:O.specialConpons_widh}),(0,r.createElement)(p.default,{translation:k,pageUtils:this.pageUtils,gdc:f,mds:s,couponList:m,promotionList:h,width:O.discount_widh}))):!c||"true"!==S&&!0!==S?null:(0,r.createElement)(i.default,{style:t({},d.default.defaultImage,{width:s.defaultImageWidth||"100%",height:s.defaultImageHeight||"auto"}),source:{uri:s.defaultImage},lazyload:!1})}}]),c}();exports.default=s,module.exports=exports.default},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o=function(){function e(e,t){for(var o,n=0;n<t.length;n++)(o=t[n]).enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),n=e(0),r=d(e(1)),l=d(e(2)),i=d(e(3)),a=d(e(4)),u=d(e(5)),p=d(e(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return o.changeCoins=function(e){o.props.changeCoins&&o.props.changeCoins(e)},o.getMaxHeight=function(){window.addEventListener("resize",function(){var e=document.documentElement.clientHeight-50;o.setState({maxHeight:e})})},o.goTargetUrl=function(e,t,n){var r=o.state.mds,l={url:e,nid:t||0,widgetId:r.widgetId,moduleName:r.moduleName,target:n||null};o.pageUtils.goTargetUrl&&o.pageUtils.goTargetUrl(l)},o.closePoup=function(){o.setState({visible:!1,iconAndBtNull:!0,successContent:!1,errorState:!1})},o.continueExchange=function(){var e=o.state,t=e.mds,n=e.isLogin,r=t.moduleData,l=(void 0===r?{}:r).couponInfoUrl,i=void 0===l?"":l;if(n){var a=o;o.fetch(i,{dataType:"jsonp"}).then(function(e){return e.json()}).then(function(e){e.prizeItemResult&&a.setState({visible:!0,userCoins:e.userCoins,balance:e.prizeItemResult[0].coupon_balance,time:e.prizeItemResult[0].consume_effective_period,iconAndBtNull:!0,successContent:!1},function(){var e=o.state,t=e.userCoins,n=e.balance,r=e.time;a.changeCoins({userCoins:t,balance:n,time:r})}),e.success}).catch(function(e){console.log("fetch error: ",e)})}else window.location.href="//login.aliexpress.com/?returnurl="+location.href},o.changeBg=function(e){e.target.style.background="url(//i.alicdn.com/ae-store-ui/node_modules/@alife/beta-window/src/close.7c8a0ec2.png)  0 -51px"},o.changeBgRe=function(e){e.target.style.background="url(//i.alicdn.com/ae-store-ui/node_modules/@alife/beta-window/src/close.7c8a0ec2.png)  0 -2px"},o.exchangeClick=function(){var e=o.state,t=e.mds,n=e.isLogin,r=t.moduleData,l=(void 0===r?{}:r).exchangeInfoUrl,i=void 0===l?"":l;if(n){var a=o;o.fetch(i,{dataType:"jsonp"}).then(function(e){return e.json()}).then(function(e){e.success&&e.data.user_prize_result&&e.data.user_prize_result.currentUser&&(e.data.user_prize_result.currentUser.items[0]&&e.data.user_prize_result.currentUser.items[0].success?o.setState({visible:!0,iconAndBtNull:!1,successContent:!0},function(){a.renderOverCoupon()}):o.setState({visible:!0,errorState:!0},function(){a.renderOverCoupon()})),e.success||e.text&&o.setState({visible:!0,errorState:!0,errorText:e.text},function(){a.renderOverCoupon()})}).catch(function(e){console.log("fetch error: ",e)})}else window.location.href="//login.aliexpress.com/?returnurl="+location.href},o.getmyCouUrl=function(){return o.state.isLogin?"//coupon.aliexpress.com/buyer/shoppingcoupon/listView.htm?":"//login.aliexpress.com/?returnurl="+location.href},o.renderOverCoupon=function(){var e=o.state,a=e.iconAndBtNull,d=e.successContent,c=e.maxHeight,s=e.balance,f=e.userCoins,g=e.errorState,m=e.visible,h=e.errorText,x=o.props,b=x.denomination,y=x.cost_coins,w=x.time,C=(x.order_amount,x.couponList,x.promotionList,x.translation),v=(C["module.pc.promoteCoupons.exchangeforCou"]||"Exchange {num} coins for an AliExpress Select Coupon").split("{num}"),E=w.begin,S=void 0===E?"":E,T=w.end,k=void 0===T?"":T;if(m)return(0,n.createElement)(r.default,{style:t({},p.default.overCouponWrap)},(0,n.createElement)(r.default,{style:p.default.closeBtn,onClick:o.closePoup,onMouseOver:o.changeBg,onMouseOut:o.changeBgRe}),(0,n.createElement)(r.default,{style:p.default.contentCouWrap},(0,n.createElement)(r.default,{ref:function(e){return o.contentScroll=e},style:t({},p.default.contentScroll,{maxHeight:c})}," ",a&&!g?(0,n.createElement)(r.default,{style:p.default.contentTitle},C["module.pc.promoteCoupons.saveTitle"]||"Save More with AliExpress Select Coupon"):null,d?(0,n.createElement)(r.default,{style:p.default.successTitle},(0,n.createElement)(r.default,{style:p.default.successIcon}),(0,n.createElement)(r.default,{style:p.default.left}," ",C["module.pc.promoteCoupons.successTitle"]||"You just got an AliExpress Select Coupon!"," ")):null,a&&!g?(0,n.createElement)(r.default,{style:p.default.iconWrap}," ",(0,n.createElement)(r.default,{style:p.default.iconLeft},(0,n.createElement)(r.default,{style:p.default.iconOne,title:C["module.pc.promoteCoupons.apply"]||"Apply to selected items in participating stores"}),(0,n.createElement)(r.default,{style:p.default.iconWord},C["module.pc.promoteCoupons.apply"]||"Apply to selected items in participating stores")),(0,n.createElement)(r.default,{style:p.default.iconCenter},(0,n.createElement)(r.default,{style:p.default.iconTwo,title:C["module.pc.promoteCoupons.combinWith"]||"Can be combined with other discounts & coupons"}),(0,n.createElement)(r.default,{style:p.default.iconWord},C["module.pc.promoteCoupons.combinWith"]||"Can be combined with other discounts & coupons")),(0,n.createElement)(u.default,{style:p.default.iconRight,onClick:function(){o.goTargetUrl("//sale.aliexpress.com/2018_1111_BestDealsOfTheYear_coupon.htm",0,"_blank")}},(0,n.createElement)(r.default,{style:p.default.learnMore},C["module.pc.promoteCoupons.learnMore"]||"Learn More"),(0,n.createElement)(r.default,{style:p.default.arrow},">"))):null,g?null:(0,n.createElement)(r.default,{style:p.default.couponWrap},(0,n.createElement)(r.default,{style:p.default.realCoupon},(0,n.createElement)(r.default,{style:p.default.mainCoupon},(0,n.createElement)(r.default,{style:p.default.couponWord},b),(0,n.createElement)(r.default,{style:p.default.couponTime},S+"-"+k)),(0,n.createElement)(r.default,{style:p.default.couponBottom},(0,n.createElement)(r.default,{style:p.default.couponBtLeft},(0,n.createElement)(r.default,{style:p.default.couBticon}),(0,n.createElement)(r.default,{style:p.default.couBtword},C["module.pc.promoteCoupons. aeiCou"]||"AliExpress Select Coupon"," ")),(0,n.createElement)(u.default,{style:p.default.couponBtRight,onClick:function(){o.goTargetUrl(o.getmyCouUrl(),1,"_blank")}},C["module.pc.promoteCoupons.myCou"]||"MY COUPON")))),a&&!g?(0,n.createElement)(r.default,{style:p.default.couponAction}," ",(0,n.createElement)(r.default,{style:p.default.coinTip},""+v[0]+y+v[1],"  "),f<y?(0,n.createElement)(r.default,{style:p.default.exchange2},C["module.pc.promoteCoupons.exhangeNow"]||"Exchange Now"):(0,n.createElement)(r.default,{style:p.default.exchange,onClick:o.exchangeClick},C["module.pc.promoteCoupons.exhangeNow"]||"Exchange Now"),f<y?(0,n.createElement)(r.default,{style:p.default.getCoins},(0,n.createElement)(r.default,{style:p.default.left},C["module.pc.promoteCoupons.notEnoughCoin"]||"Not enough coins?"," "),(0,n.createElement)(u.default,{style:t({},p.default.left,p.default.marginClick),onClick:function(){o.goTargetUrl("//sale.aliexpress.com/328_coins_coupons.htm?",3,"_blank")}},C["module.pc.promoteCoupons.clickgetCoins"]||"Click  here to win more coins now."," ")):null,(0,n.createElement)(r.default,{style:p.default.couponInfo},(0,n.createElement)(r.default,{style:p.default.balance},(C["module.pc.promoteCoupons.balance"]||"Balance")+":"+s),(0,n.createElement)(r.default,{style:p.default.mycoins},(0,n.createElement)(i.default,{source:{uri:"//ae01.alicdn.com/kf/HTB14Y9iXNnaK1RjSZFB763W7VXaa.png"},style:p.default.imageCoin}),(0,n.createElement)(r.default,{style:p.default.left},(C["module.pc.promoteCoupons.myCoin"]||"My Coins")+": "+f)))):null,d?(0,n.createElement)(r.default,{style:p.default.successWidth},(0,n.createElement)(r.default,{style:p.default.mySelectCou},(0,n.createElement)(r.default,{style:p.default.left},C["module.pc.promoteCoupons.successTip"]||"An AliExpress Select Coupon has been saved to"," "),(0,n.createElement)(u.default,{style:t({},p.default.left,p.default.colorBlue),onClick:function(){o.goTargetUrl("//coupon.aliexpress.com/buyer/shoppingcoupon/listView.htm?",2,"_blank")}},C["  module.pc.promoteCoupons.mySelect"]||"My Select Coupon")),(0,n.createElement)(r.default,{style:p.default.successButtonWrap},(0,n.createElement)(r.default,{style:p.default.ok,onClick:o.closePoup},C["module.pc.promoteCoupons.ok"]||"OK"),(0,n.createElement)(r.default,{style:p.default.getMore,onClick:o.continueExchange},C["module.pc.promoteCoupons.getMore "]||"Get More"))):null,g?(0,n.createElement)(r.default,null,(0,n.createElement)(r.default,{style:p.default.errTitle},C["module.pc.promoteCoupons.oops"]||"Oops, something went wrong…"),(0,n.createElement)(r.default,{style:p.default.wordContent},(0,n.createElement)(r.default,{style:p.default.result},h?(0,n.createElement)(l.default,null,h):(0,n.createElement)(r.default,null,(0,n.createElement)(l.default,null,C["module.pc.promoteCoupons.sorryTwo"]||"Sorry, the AliExpress Select Coupon could not be issued."),(0,n.createElement)(l.default,null,C["module.pc.promoteCoupons.try"]||"Please try again.")))),(0,n.createElement)(r.default,{style:p.default.okWrap},(0,n.createElement)(r.default,{style:p.default.okBtn,onClick:o.closePoup},C["module.pc.promoteCoupons.ok"]||"OK"))):null)))},o.renderCommonRight=function(){var e=o.props,t=e.cost_coins,a=e.translation;return(0,n.createElement)(r.default,{style:p.default.rightContent},(0,n.createElement)(r.default,{style:p.default.rightPic},(0,n.createElement)(i.default,{source:{uri:"//ae01.alicdn.com/kf/HTB14Y9iXNnaK1RjSZFB763W7VXaa.png"},style:p.default.imagepic}),(0,n.createElement)(l.default,{numberOfLines:1,style:p.default.picWord},t+" "+(a["module.pc.promoteCoupons.coin"]||"Coin(s)"))),(0,n.createElement)(r.default,{style:p.default.buttonWrap,onClick:o.continueExchange},(0,n.createElement)(l.default,{style:p.default.buttontext},a["module.pc.promoteCoupons.exchange"]||"Exchange")))},o.pageUtils=e.pageUtils,o.fetch=e.pageUtils.fetch,o.state={mds:e.mds||{},gdc:e.gdc||{},isLogin:o.props.isLogin,iconAndBtNull:!0,successContent:!1,maxHeight:"",balance:e.balance||"",userCoins:e.userCoins||"",time:e.time||{},all_prize_fail:"",items:[],errorState:!1,errorText:""},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,n.Component),o(d,[{key:"componentWillReceiveProps",value:function(e){this.setState({balance:e.balance,userCoins:e.userCoins,isLogin:e.isLogin})}},{key:"componentDidMount",value:function(){this.getMaxHeight();var e=this,t=this.props.translation["module.pc.promoteCoupons.logo"]||"//ae01.alicdn.com/kf/HTB10QP6XITxK1Rjy0Fg761ovpXaQ.png",o=new Image;o.src=t,o.onload=function(){e.setState({imgHeight:"24px",imgWidth:"auto",img_url:t})}}},{key:"render",value:function(){var e=this,o=this.state,u=o.imgHeight,d=o.imgWidth,c=o.img_url,s=this.props,f=s.denomination,g=s.time,m=s.couponList,h=s.promotionList,x=s.translation,b=s.width,y=s.errorImage,w=g.begin,C=void 0===w?"":w,v=g.end,E=void 0===v?"":v,S=((x["module.pc.promoteCoupons.save"]||"Save {value} every {value} spent in this store").split("{value}"),x["module.pc.promoteCoupons.errorImageSmall"]||"//ae01.alicdn.com/kf/HTB196kZXPzuK1RjSspe762iHVXaj.png"),T=x["module.pc.promoteCoupons.errorImageSmall2"]||"//ae01.alicdn.com/kf/HTB1e9oTXFzsK1Rjy1Xb760OaFXan.png",k=x["module.pc.promoteCoupons.errorImageMedium"]||"//ae01.alicdn.com/kf/HTB1hG.YXOYrK1Rjy0Fd763CvVXas.png",O=x["module.pc.promoteCoupons.errorImageMedium2"]||"//ae01.alicdn.com/kf/HTB1u072XUrrK1RkSne1763rVVXa7.png",_=x["module.pc.promoteCoupons.errorImageBig2"]||"//ae01.alicdn.com/kf/HTB1.t76XLjsK1Rjy1Xa762ispXay.png",R=x["module.pc.promoteCoupons.errorImageBig"]||"//ae01.alicdn.com/kf/HTB1I.o0XN2rK1RkSnhJ761kdpXaL.png",B={width:d,height:u,backgroundSize:"contain",backgroundImage:"url("+c+")",marginBottom:4,backgroundRepeat:"no-repeat"},W={height:"122px",width:"100%"};return(0,n.createElement)(r.default,{style:t({},p.default.wrap,{width:b})},!y&&m.length>=2&&h.length>0?(0,n.createElement)(r.default,{style:p.default.usualWrap,ref:function(t){e.btn=t}},(0,n.createElement)(r.default,{style:p.default.leftContent},(0,n.createElement)(r.default,{style:B}),(0,n.createElement)(r.default,null,(0,n.createElement)(l.default,{style:p.default.coupons},f)),(0,n.createElement)(r.default,null,(0,n.createElement)(l.default,{numberOfLines:1,style:t({},p.default.time,{maxWidth:256}),title:C+"-"+E},C+"-"+E," PT"))),this.renderCommonRight()):null,y&&m.length>=2&&h.length>0?(0,n.createElement)(i.default,{style:W,source:{uri:S}}):null,!y&&1===m.length&&h.length>0?(0,n.createElement)(r.default,{style:p.default.usualWrap2,ref:function(t){e.btn=t}},(0,n.createElement)(r.default,{style:p.default.leftContent2},(0,n.createElement)(r.default,{style:B}),(0,n.createElement)(r.default,null,(0,n.createElement)(l.default,{style:p.default.coupons},f)),(0,n.createElement)(r.default,null,(0,n.createElement)(l.default,{numberOfLines:1,style:t({},p.default.time,{maxWidth:456}),title:C+"-"+E},C+"-"+E," PT"))),this.renderCommonRight()):null,y&&1===m.length&&h.length>0?(0,n.createElement)(i.default,{style:W,source:{uri:T}}):null,y||1!==m.length||0!==h.length?null:(0,n.createElement)(r.default,{style:p.default.usualMediumCou,ref:function(t){e.btn=t}},(0,n.createElement)(r.default,{style:p.default.usualMedLeft},(0,n.createElement)(r.default,{style:B}),(0,n.createElement)(r.default,{style:p.default.priceTime},(0,n.createElement)(r.default,{style:p.default.couponsMed},f),(0,n.createElement)(r.default,{style:p.default.wordWrap},(0,n.createElement)(r.default,{style:p.default.marginTop},(0,n.createElement)(l.default,{numberOfLines:1,style:t({},p.default.time,{maxWidth:570}),title:C+"-"+E},C+"-"+E," PT"))))),this.renderCommonRight()),y&&1===m.length&&0===h.length?(0,n.createElement)(i.default,{style:W,source:{uri:_}}):null,!y&&m.length>=2&&0===h.length?(0,n.createElement)(r.default,{style:p.default.usualMediumCou3,ref:function(t){e.btn=t}},(0,n.createElement)(r.default,{style:p.default.usualMedLeft3},(0,n.createElement)(r.default,{style:B}),(0,n.createElement)(r.default,{style:p.default.priceTime},(0,n.createElement)(r.default,{style:p.default.couponsMed},f),(0,n.createElement)(r.default,{style:p.default.wordWrap},(0,n.createElement)(r.default,{style:p.default.marginTop},(0,n.createElement)(l.default,{numberOfLines:1,style:t({},p.default.time,{maxWidth:370}),title:C+"-"+E},C+"-"+E," PT"))))),this.renderCommonRight()):null,y&&m.length>=2&&0===h.length?(0,n.createElement)(i.default,{style:W,source:{uri:k}}):null,!y&&0===m.length&&h.length>0?(0,n.createElement)(r.default,{style:p.default.usualMediumCou2,ref:function(t){e.btn=t}},(0,n.createElement)(r.default,{style:p.default.usualMedLeft2},(0,n.createElement)(r.default,{style:B}),(0,n.createElement)(r.default,{style:p.default.priceTime},(0,n.createElement)(r.default,{style:p.default.couponsMed},f),(0,n.createElement)(r.default,{style:p.default.wordWrap},(0,n.createElement)(r.default,{style:p.default.marginTop},(0,n.createElement)(l.default,{numberOfLines:1,style:t({},p.default.time,{maxWidth:460}),title:C+"-"+E},C+"-"+E," PT"))))),this.renderCommonRight()):null,y&&0===m.length&&h.length>0?(0,n.createElement)(i.default,{style:W,source:{uri:O}}):null,y||0!==m.length||0!==h.length?null:(0,n.createElement)(r.default,{style:p.default.BigCou,ref:function(t){e.btn=t}},(0,n.createElement)(r.default,{style:p.default.bigLeft},(0,n.createElement)(r.default,{style:B}),(0,n.createElement)(r.default,{style:p.default.priceTime},(0,n.createElement)(r.default,{style:p.default.couponsMed},f),(0,n.createElement)(r.default,{style:p.default.wordWrap},(0,n.createElement)(r.default,{style:p.default.marginTop},(0,n.createElement)(l.default,{numberOfLines:1,style:t({},p.default.time,{maxWidth:760}),title:C+"-"+E},C+"-"+E," PT"))))),this.renderCommonRight()),y&&0===m.length&&0==h.length?(0,n.createElement)(i.default,{style:W,source:{uri:R}}):null,(0,n.createElement)(a.default,{visible:this.state.visible,align:"cc cc",hasMask:!0,disableScroll:!0},this.renderOverCoupon()))}}]),d}();exports.default=c,module.exports=exports.default},function(module,exports,e){module.exports={wrap:{display:"block",float:"left",fontFamily:"Open Sans"},usualWrap:{width:"390px",height:"122px",display:"block",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(255,126,126)",borderRadius:"4px",paddingTop:"23px",paddingBottom:"23px",paddingLeft:"16px",paddingRight:"16px",background:"url(//ae01.alicdn.com/kf/HTB1Nbg.XdzvK1RkSnfo762MwVXaD.png) no-repeat center center"},leftContent:{width:"256px",height:"76px",float:"left"},usualWrap2:{width:"590px",height:"122px",display:"block",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(255,126,126)",borderRadius:"4px",paddingTop:"23px",paddingBottom:"23px",paddingLeft:"16px",paddingRight:"16px",background:"url(//ae01.alicdn.com/kf/HTB1Nbg.XdzvK1RkSnfo762MwVXaD.png) no-repeat center center"},leftContent2:{width:"456px",height:"76px",float:"left"},logo:{display:"block",marginBottom:"3px"},coupons:{fontSize:"24px",color:"rgb(255,71,71)",textAlign:"left",lineHeight:"32px",fontWeight:"700"},time:{fontSize:"12px",color:"rgb(51,51,51)",lineHeight:"16px",overflow:"hidden",textOverflow:"ellipsis"},rightContent:{width:"98px",height:"76px",float:"left",display:"flex",justifyContent:"center",alignItems:"center"},rightPic:{display:"block",marginTop:"22px"},imagepic:{display:"block",width:"16px",height:"16px",marginRight:"4px",marginBottom:"8px",float:"left"},picWord:{color:"rgb(51,51,51)",textAlign:"center",lineHeight:"16px",fontSize:"12px",float:"left",maxWidth:"60px",maxHeight:"16px",textOverflow:"ellipsis"},buttonWrap:{width:"100px",height:"30px",background:"#FF4747",borderRadius:"15px",textAlign:"center",lineHeight:"30px",cursor:"pointer"},buttonNoWrap:{width:"100px",height:"30px",background:"#E9E9E9",borderRadius:"15px",textAlign:"center",lineHeight:"30px"},buttonNotext:{fontSize:"13px",textAlign:"center",fontWeight:"700",color:"rgb(153,153,153)"},buttontext:{fontSize:"13px",color:"rgb(255,255,255)",textAlign:"center",fontWeight:"700"},usualMediumCou:{width:"930px",height:"122px",display:"flex",flexDirection:"row",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(255,126,126)",borderRadius:"4px",paddingTop:"23px",paddingBottom:"23px",paddingLeft:"16px",paddingRight:"16px",background:"url(//ae01.alicdn.com/kf/HTB1Nbg.XdzvK1RkSnfo762MwVXaD.png) no-repeat center center"},usualMedLeft:{width:"794px",height:"76px"},usualMediumCou2:{width:"790px",height:"122px",display:"flex",flexDirection:"row",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(255,126,126)",borderRadius:"4px",paddingTop:"23px",paddingBottom:"23px",paddingLeft:"16px",paddingRight:"16px",background:"url(//ae01.alicdn.com/kf/HTB1Nbg.XdzvK1RkSnfo762MwVXaD.png) no-repeat center center"},usualMedLeft2:{width:"656px",height:"76px"},usualMediumCou3:{width:"730px",height:"122px",display:"flex",flexDirection:"row",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(255,126,126)",borderRadius:"4px",paddingTop:"23px",paddingBottom:"23px",paddingLeft:"16px",paddingRight:"16px",background:"url(//ae01.alicdn.com/kf/HTB1Nbg.XdzvK1RkSnfo762MwVXaD.png) no-repeat center center"},usualMedLeft3:{width:"592px",height:"76px"},priceTime:{display:"flex",flexDirection:"row"},couponsMed:{fontSize:"40px",color:"rgb(255,71,71)",fontWeight:"700",textAlign:"left",lineHeight:"48px"},wordWrap:{marginLeft:"16px"},saveWord:{fontSize:"13px",color:"rgb(255,71,71)",lineHeight:"18px",fontWeight:"700",marginTop:"6px",marginBottom:"2px",textOverflow:"ellipsis",wordWrap:"break-word"},overCouponWrap:{width:"580px",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(204,204,204)",boxShadow:"2px 5px 8px rgba(0,0,0,.25)",backgroundColor:"rgb(255,255,255)",paddingTop:"0rem",paddingRight:"0rem",paddingBottom:"0rem",paddingLeft:"0rem",color:"rgb(0,0,0)",height:"auto",overflow:"hidden"},closeBtn:{width:"17px",height:"17px",background:"url(//i.alicdn.com/ae-store-ui/node_modules/@alife/beta-window/src/close.7c8a0ec2.png) no-repeat 0 -2px",position:"absolute",top:"6px",right:"6px",zIndex:3,cursor:"pointer"},contentCouWrap:{paddingTop:"20px",paddingRight:"15px",paddingBottom:"15px",paddingLeft:"15px"},contentScroll:{overflow:"auto"},contentTitle:{height:"24px",width:"92%",fontWeight:"700",lineHeight:"24px",fontSize:"18px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},successTitle:{display:"inline-block",height:"53px",lineHeight:"53px",fontSize:"20px",fontWeight:"400"},successIcon:{float:"left",width:"40px",height:"40px",marginTop:"6px",marginRight:"6px",background:"url(//i.alicdn.com/ae-store-ui/node_modules/@alife/omega-voucher/src/img/sprite_icon.43588a9d.png) -1px -145px no-repeat"},iconWrap:{marginTop:"25px",display:"block"},iconLeft:{float:"left",position:"relative",width:"36%",height:"30px",paddingLeft:"32px",paddingRight:"5px",display:"block"},iconOne:{float:"left",position:"absolute",top:"2px",left:0,width:"23px",height:"23px",background:"url(//i.alicdn.com/ae-store-ui/node_modules/@alife/omega-voucher/src/img/sprite_icon.43588a9d.png) -48px -145px no-repeat",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},iconWord:{fontSize:"12px",color:"rgb(51,51,51)"},iconCenter:{float:"left",display:"block",position:"relative",width:"36%",height:"30px",paddingLeft:"32px",paddingRight:"5px"},iconTwo:{float:"left",position:"absolute",top:"6px",left:"0px",width:"27px",height:"16px",background:"url(//i.alicdn.com/ae-store-ui/node_modules/@alife/omega-voucher/src/img/sprite_icon.43588a9d.png) -71px -145px no-repeat"},iconRight:{float:"right",display:"block",maxWidth:"25%",marginRight:"7px",height:"32px",lineHeight:"32px"},learnMore:{maxWidth:"100px",fontSize:"12px",color:"rgb(153,153,153)",overflow:"hidden",cursor:"pointer",float:"left",marginRight:"5px"},arrow:{fontSize:"12px",color:"rgb(153,153,153)",float:"left",cursor:"pointer"},couponWrap:{marginTop:"15px",position:"relative",width:"100%",height:"220px",paddingTop:"35px",background:"url(//i.alicdn.com/ae-store-ui/node_modules/@alife/omega-voucher/src/img/bg.068a5c63.png) no-repeat center bottom"},realCoupon:{position:"relative",borderRadius:"5px",paddingTop:"20px",paddingBottom:"20px",paddingLeft:"20px",paddingRight:"20px",marginTop:"0rem",marginRight:"auto",marginBottom:"0rem",marginLeft:"auto",width:"415px",height:"145px",background:"url(//i.alicdn.com/ae-store-ui/node_modules/@alife/omega-voucher/src/img/sprite_icon.43588a9d.png) no-repeat left top"},mainCoupon:{paddingTop:"10px"},couponWord:{fontSize:"32px",color:"rgb(255,77,154)",fontWeight:"700"},couponTime:{paddingTop:"5px",paddingBottom:"5px",color:"rgb(102,102,102)",fontSize:"12px"},couponBottom:{display:"block",position:"absolute",bottom:"10px",left:"20px",marginTop:"0rem",marginRight:"0rem",marginBottom:"0rem",marginLeft:"0rem",fontSize:"12px",lineHeight:"18px",color:"rgb(153,153,153)",width:"375px"},couponBtLeft:{display:"block",float:"left"},couBticon:{float:"left",width:"19px",height:"12px",verticalAlign:"top",marginTop:"3px",marginRight:"10px",marginBottom:"0rem",marginLeft:"0rem",background:"url(//i.alicdn.com/ae-store-ui/node_modules/@alife/omega-voucher/src/img/sprite_icon.43588a9d.png) no-repeat -143px -146px"},couBtword:{float:"left"},couponBtRight:{float:"right",color:"rgb(153,153,153)",cursor:"pointer"},couponAction:{marginTop:"10px",display:"block",textAlign:"center"},coinTip:{marginBottom:"10px",fontSize:"12px",color:"rgb(51,51,51)"},exchange:{borderRadius:"3px",background:"#E62E04",fontSize:"18px",color:"rgb(255,255,255)",maxWidth:"200px",height:"44px",lineHeight:"44px",marginTop:"0rem",marginRight:"auto",marginBottom:"0rem",marginLeft:"auto",paddingLeft:"20px",paddingRight:"20px",cursor:"pointer"},exchange2:{borderRadius:"3px",background:"#E9E9E9",color:"rgb(153,153,153)",fontSize:"18px",maxWidth:"200px",height:"44px",lineHeight:"44px",marginTop:"0rem",marginRight:"auto",marginBottom:"0rem",marginLeft:"auto",paddingLeft:"20px",paddingRight:"20px"},getCoins:{marginTop:"10px",display:"inline-block",height:"14px",fontSize:"13px",lineHeight:"13px"},left:{float:"left"},marginClick:{color:"rgb(51,51,51)",cursor:"pointer"},couponInfo:{display:"block",marginTop:"10px",fontSize:"18px"},balance:{float:"left"},mycoins:{float:"right",display:"inline-block"},imageCoin:{display:"block",float:"left",width:"25px",height:"25px",marginRight:"5px"},successWidth:{width:"100%",height:"100%"},mySelectCou:{fontSize:"13px",textAlign:"center",display:"block",marginTop:"15px",marginRight:"auto",marginBottom:"15px",marginLeft:"auto"},colorBlue:{color:"rgb(29,124,204)",cursor:"pointer",marginLeft:"4px"},successButtonWrap:{lineHeight:"44px",display:"inline-block",fontSize:"18px",marginTop:"0rem",marginRight:"auto",marginBottom:"0rem",marginLeft:"auto"},ok:{color:"rgb(255,255,255)",background:"#E62E04",marginRight:"9px",paddingLeft:"20px",paddingRight:"20px",borderRadius:"3px",float:"left",cursor:"pointer"},getMore:{color:"rgb(51,51,51)",paddingLeft:"20px",paddingRight:"20px",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(233,233,233)",borderRadius:"3px",float:"left",cursor:"pointer"},BigCou:{width:"100%",height:"122px",display:"flex",flexDirection:"row",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(255,126,126)",borderRadius:"4px",backgroundColor:"rgb(255,255,255)",paddingTop:"23px",paddingBottom:"23px",paddingLeft:"16px",paddingRight:"16px",background:"url(//ae01.alicdn.com/kf/HTB1Nbg.XdzvK1RkSnfo762MwVXaD.png) no-repeat center center"},bigLeft:{width:"972px",height:"76px",float:"left"},error:{textAlign:"center"},marginTop:{marginTop:"18px"},errTitle:{height:"24px",width:"92%",fontWeight:"700",lineHeight:"22px",fontSize:"18px",color:"rgb(0,0,0)"},wordContent:{marginTop:"15px",position:"relative",width:"100%",height:"220px",paddingTop:"35px",background:"url(//i.alicdn.com/ae-detail-ui/node_modules/@alife/omega-voucher/src/img/bg.068a5c63.png) no-repeat center bottom"},result:{padding:"20px",marginTop:"0rem",marginRight:"20px",marginBottom:"0rem",marginLeft:"20px",backgroundColor:"rgb(255,255,255)",borderRadius:"3px"},okWrap:{lineHeight:"44px",display:"inline-block",fontSize:"18px",marginTop:"15px",marginRight:"auto",marginBottom:"0rem",marginLeft:"auto",textAlign:"center"},okBtn:{color:"rgb(255,255,255)",background:"#E62E04",marginRight:"9px",paddingLeft:"20px",paddingRight:"20px",borderRadius:"3px",cursor:"pointer"}}},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o=function(){function e(e,t){for(var o,n=0;n<t.length;n++)(o=t[n]).enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),n=e(0),r=c(e(1)),l=c(e(2)),i=c(e(3)),a=c(e(6)),u=c(e(4)),p=c(e(5)),d=c(e(11));function c(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return o.goTargetUrl=function(e,t,n){var r=o.state.mds,l={url:e,nid:t||0,widgetId:r.widgetId,moduleName:r.moduleName,target:n||null};o.pageUtils.goTargetUrl&&o.pageUtils.goTargetUrl(l)},o.onClickOver=function(e){var t=o;return o.state.isLogin?void o.fetch(e,{dataType:"script"}).then(function(){if(window.COUPON_JSONP_TEXT){if(window.COUPON_JSONP_TEXT.isLoginOut)return void(window.location.href="//login.aliexpress.com/?returnurl="+location.href);window.COUPON_JSONP_TEXT.isSuccess&&t.setState({getStatus:"success",visible:!0,consumeEndDate:window.COUPON_JSONP_TEXT.consumeEndDate,denomination:window.COUPON_JSONP_TEXT.denomination,orderAmountLimit:window.COUPON_JSONP_TEXT.denomination}),window.COUPON_JSONP_TEXT.isSuccess||(o.setState({getStatus:"fail"}),100===window.COUPON_JSONP_TEXT.errorCode&&t.setState({sellerFail:!0,visible:!0}),101===window.COUPON_JSONP_TEXT.errorCode&&t.setState({buyerFail:!0,visible:!0}))}}).catch(function(e){console.log("fetch error: ",e)}):void(window.location.href="//login.aliexpress.com/?returnurl="+location.href)},o.closePoup=function(){o.setState({visible:!1})},o.changeBg=function(e){e.target.style.background="url(//i.alicdn.com/ae-store-ui/node_modules/@alife/beta-window/src/close.7c8a0ec2.png)  0 -51px"},o.changeBgRe=function(e){e.target.style.background="url(//i.alicdn.com/ae-store-ui/node_modules/@alife/beta-window/src/close.7c8a0ec2.png)  0 -2px"},o.changeBgColor=function(){o.setState({continueHover:!0})},o.changeBgColorRe=function(){o.setState({continueHover:!1})},o.changeStyleTwo=function(e){e.target.style.color="#f90",e.target.style.textDecoration="underline"},o.changeStyleTwoRe=function(e){e.target.style.color="#06c",e.target.style.textDecoration="none"},o.renderOverlay=function(){var e=o.props.translation,t=o.state,i=t.continueHover,a=t.getStatus,u=t.sellerFail,c=t.buyerFail,s=t.consumeEndDate,f=void 0===s?"":s,g=t.denomination,m=void 0===g?"":g,h=t.mds.moduleData.shopId,x=(e["module.pc.promoteCoupons.successSellerTip"]||"This {val} coupon can only be used in this seller's store.The coupon is valid until {val}.").split("{val}");return(0,n.createElement)(r.default,{style:d.default.overPoupBox},(0,n.createElement)(r.default,{style:d.default.closeBtn,onClick:o.closePoup,onMouseOver:o.changeBg,onMouseOut:o.changeBgRe}),(0,n.createElement)(r.default,{style:d.default.popTitle},e["module.pc.promoteCoupons.sellerCoupon"]||"Seller Coupons"),"success"===a?(0,n.createElement)(r.default,{style:d.default.contentBox}," ",(0,n.createElement)(r.default,{style:d.default.contentTop},(0,n.createElement)(r.default,{style:d.default.contentBg},(0,n.createElement)(r.default,{style:d.default.contentTip},e["module.pc.promoteCoupons.getSellerCou"]||"You got this seller's coupon!"),(0,n.createElement)(r.default,{style:d.default.detailWord},""+x[0]+m+x[1]+f))),(0,n.createElement)(r.default,{style:d.default.contentBottom},(0,n.createElement)(p.default,{style:i?d.default.deepBgColor:d.default.lightBgColor,onClick:function(){o.goTargetUrl("//www.aliexpress.com/store/"+h,0)},onMouseOver:o.changeBgColor,onMouseOut:o.changeBgColorRe},(0,n.createElement)(l.default,null,e["module.pc.promoteCoupons.useCou"]||"Use Coupon Now")),(0,n.createElement)(p.default,{style:d.default.viewCou,onMouseOver:o.changeStyleTwo,onMouseOut:o.changeStyleTwoRe,onClick:function(){o.goTargetUrl("//coupon.aliexpress.com/buyer/coupon/listView.htm?",1)}},e["module.pc.promoteCoupons.viewCou"]||"View My Coupons"))):null,"fail"===a?(0,n.createElement)(r.default,{style:d.default.contentBox}," ",(0,n.createElement)(r.default,{style:d.default.contentTop},(0,n.createElement)(r.default,{style:d.default.contentBgFail},(0,n.createElement)(r.default,{style:d.default.contentTip},e["module.pc.promoteCoupons.sorry"]||"Sorry! Something went wrong."),c?(0,n.createElement)(r.default,{style:d.default.detailWord},e[" module.pc.promoteCoupons.AlreadyGet"]||"You already have this coupon."," "):null,u?(0,n.createElement)(r.default,{style:d.default.detailWord}," ",e["module.pc.promoteCoupons.systemError"]||"System error "," "):null)),(0,n.createElement)(r.default,{style:d.default.contentBottom},(0,n.createElement)(r.default,{style:i?d.default.deepBgColorFail:d.default.lightBgColorFail,onMouseOver:o.changeBgColor,onMouseOut:o.changeBgColorRe},(0,n.createElement)(l.default,{style:{fontSize:12},onClick:o.closePoup},e["module.pc.promoteCoupons.goBack"]||"Go Back")),(0,n.createElement)(p.default,{style:d.default.viewCou,onMouseOver:o.changeStyleTwo,onMouseOut:o.changeStyleTwoRe,onClick:function(){o.goTargetUrl("//coupon.aliexpress.com/buyer/coupon/listView.htm?origin=store&status=unused",2)}},e["module.pc.promoteCoupons.viewCou"]||"View My Coupons"))):null)},o.renderCoupons=function(e){var u=o.props.translation,p=(u["module.pc.promoteCoupons.ordersOf"]||"Orders of {price} or more").split("{price}");if(e&&e.length>0){if(1===e.length)return(0,n.createElement)(r.default,{style:d.default.oneCoupons,onClick:function(){o.onClickOver(e[0].promoteUrl)},ref:function(e){o.btn=e}},(0,n.createElement)(i.default,{source:{uri:"//ae01.alicdn.com/kf/HTB1kDltXoLrK1Rjy0Fj762YXFXaD.png"},style:d.default.imageCou}),(0,n.createElement)(r.default,{style:d.default.couTop},(0,n.createElement)(r.default,{style:d.default.couponsMargin},(0,n.createElement)(l.default,{style:d.default.coupons},e[0].discountAmount)),(0,n.createElement)(r.default,{style:d.default.overPriceMargin},(0,n.createElement)(l.default,{numberOfLines:1,style:d.default.overPrice},""+p[0]+e[0].displayAmount+p[1])),(0,n.createElement)(r.default,{style:d.default.getCoupons},u["module.pc.promoteCoupons.getCoupon"]||"Get Coupon Now"," ")));if(2===e.length)return(0,n.createElement)(r.default,{style:d.default.twoCouponWrap},e.map(function(e,t){return(0,n.createElement)(r.default,{style:0===t?d.default.firstCou:d.default.secondCou,onClick:function(){o.onClickOver(e.promoteUrl)},ref:function(e){o.btn=e}},(0,n.createElement)(i.default,{source:{uri:"//ae01.alicdn.com/kf/HTB1kDltXoLrK1Rjy0Fj762YXFXaD.png"},style:d.default.imageCou}),(0,n.createElement)(r.default,{style:d.default.couTop},(0,n.createElement)(r.default,{style:d.default.couponsMargin},(0,n.createElement)(l.default,{style:d.default.coupons},e.discountAmount)),(0,n.createElement)(r.default,{style:d.default.overPriceMargin},(0,n.createElement)(l.default,{numberOfLines:1,style:d.default.overPrice},""+p[0]+e.displayAmount+p[1])),(0,n.createElement)(r.default,{style:d.default.getCoupons},u["module.pc.promoteCoupons.getCoupon"]||"Get Coupon Now"," ")))}));if(e.length>2)return(0,n.createElement)(r.default,{style:d.default.twoCouponSliderWrap},(0,n.createElement)(a.default,{infinite:!1,arrows:!0,autoplay:!1,dots:!1,slidesToShow:2,slidesToScroll:1},e.map(function(e){return(0,n.createElement)(r.default,{style:t({},d.default.oneCoupons2),onClick:function(){o.onClickOver(e.promoteUrl)},ref:function(e){o.btn=e}},(0,n.createElement)(i.default,{source:{uri:"//ae01.alicdn.com/kf/HTB1kDltXoLrK1Rjy0Fj762YXFXaD.png"},style:d.default.imageCou}),(0,n.createElement)(r.default,{style:d.default.couTop},(0,n.createElement)(r.default,{style:d.default.couponsMargin},(0,n.createElement)(l.default,{style:d.default.coupons},e.discountAmount)),(0,n.createElement)(r.default,{style:d.default.overPriceMargin},(0,n.createElement)(l.default,{numberOfLines:1,style:d.default.overPrice},""+p[0]+e.displayAmount+p[1])),(0,n.createElement)(r.default,{style:d.default.getCoupons},u["module.pc.promoteCoupons.getCoupon"]||"Get Coupon Now"," ")))})))}},o.pageUtils=e.pageUtils,o.fetch=e.pageUtils.fetch,o.state={mds:e.mds||{},gdc:e.gdc||{},dataSource:[],visible:!1,continueHover:!1,isLogin:o.props.isLogin},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,n.Component),o(c,[{key:"componentWillReceiveProps",value:function(e){this.setState({isLogin:e.isLogin})}},{key:"render",value:function(){var e=this,o=this.props,l=o.couponList,i=o.promotionList,a=o.width,p=d.default.couponsWrap;return i&&i.length>0&&(p.marginRight=12),l&&l.length>0?(0,n.createElement)(r.default,{style:t({},p,{width:a})},this.renderCoupons(l),(0,n.createElement)(u.default,{visible:this.state.visible,safeNode:function(){return e.btn},align:"cc cc",hasMask:!0},this.renderOverlay())):null}}]),c}();exports.default=s,module.exports=exports.default},function(module,exports,e){module.exports={couponsWrap:{display:"block",height:"122px",float:"left",marginLeft:"12px",marginRight:0,fontFamily:"Open Sans"},sliderWrap:{display:"block"},oneCoupons:{float:"left",cursor:"pointer",position:"relative"},twoCouponWrap:{width:"392px",display:"flex",flexDirection:"row",justifyContent:"space-between"},firstCou:{float:"left",cursor:"pointer",position:"relative",marginRight:"8px"},secondCou:{float:"left",cursor:"pointer",position:"relative",marginRight:"0px"},twoCouponSliderWrap:{width:"392px",display:"inline-block"},oneCoupons2:{width:"192px",height:"122px",float:"left",cursor:"pointer",overflow:"hidden",position:"relative"},imageCou:{display:"block",width:"192px",height:"122px",position:"relative"},couTop:{width:"192px",height:"122px",position:"absolute",top:0,left:0,textAlign:"center"},couponsMargin:{marginTop:"20px"},coupons:{fontSize:"24px",color:"rgb(255,255,255)",lineHeight:"32px"},overPriceMargin:{marginBottom:"20px"},overPrice:{fontSize:"12px",color:"rgb(255,255,255)",textAlign:"center",lineHeight:"16px",overflow:"hidden",textOverflow:"ellipsis"},getCoupons:{fontSize:"13px",color:"rgb(0,0,0)",lineHeight:"18px",paddingTop:"8px",paddingBottom:"8px"},overPoupBox:{width:"400px",height:"auto",backgroundColor:"rgb(255,255,255)",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(204,204,204)",position:"relative",paddingTop:"0rem",paddingRight:"0rem",paddingBottom:"0rem",paddingLeft:"0rem",color:"rgb(0,0,0)"},closeBtn:{width:"17px",height:"17px",background:"url(//i.alicdn.com/ae-store-ui/node_modules/@alife/beta-window/src/close.7c8a0ec2.png) no-repeat 0 -2px",position:"absolute",top:"6px",right:"6px",zIndex:3,cursor:"pointer"},popTitle:{height:"27px",paddingTop:"10px",textIndent:"15px",fontWeight:"700",fontSize:"16px",color:"rgb(51,51,51)"},contentBox:{paddingTop:"20px",paddingRight:"15px",paddingBottom:"15px",paddingLeft:"15px"},contentTop:{},contentBg:{paddingTop:"10px",paddingRight:"10px",paddingBottom:"10px",paddingLeft:"56px",background:"url(//i.alicdn.com/ae-store-ui/node_modules/@alife/beta-feedback/src/img/sprite-feedback-standalone.7350efc5.png) no-repeat -6px -82px"},contentTip:{marginBottom:"8px",fontSize:"14px",lineHeight:"14px",fontWeight:"700",color:"rgb(0,0,0)"},detailWord:{display:"flex",flexDirection:"row",justifyContent:"flex-start",flexWrap:"wrap",maxWidth:"304px",fontSize:"12px",wordWrap:"break-word",whiteSpace:"pre-wrap"},contentBottom:{marginTop:"20px",display:"block",height:"26px",lineHeight:"26px"},deepBgColor:{marginRight:"10px",fontWeight:"700",textAlign:"center",verticalAlign:"middle",cursor:"pointer",fontSize:"14px",color:"rgb(255,255,255)",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(232,123,14)",backgroundColor:"rgb(255,171,2)",paddingLeft:"15px",paddingRight:"15px",borderRadius:"2px",display:"inline-block",float:"left"},lightBgColor:{marginRight:"10px",fontWeight:"700",textAlign:"center",verticalAlign:"middle",cursor:"pointer",fontSize:"14px",color:"rgb(255,255,255)",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(232,123,14)",backgroundColor:"rgb(255,138,40)",paddingLeft:"15px",paddingRight:"15px",borderRadius:"2px",display:"inline-block",float:"left"},viewCou:{color:"rgb(0,102,204)",fontSize:"12px",marginLeft:"10px",cursor:"pointer",float:"left"},contentBgFail:{paddingTop:"10px",paddingRight:"10px",paddingBottom:"10px",paddingLeft:"56px",background:"url(//i.alicdn.com/ae-store-ui/node_modules/@alife/beta-feedback/src/img/sprite-feedback-standalone.7350efc5.png) no-repeat -95px 0"},deepBgColorFail:{fontWeight:"700",textAlign:"center",verticalAlign:"middle",cursor:"pointer",fontSize:"14px",color:"rgb(255,255,255)",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(232,123,14)",backgroundColor:"rgb(255,171,2)",paddingLeft:"5px",paddingRight:"5px",borderRadius:"2px",float:"left"},lightBgColorFail:{fontWeight:"700",textAlign:"center",verticalAlign:"middle",cursor:"pointer",fontSize:"14px",color:"rgb(255,255,255)",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(232,123,14)",backgroundColor:"rgb(255,138,40)",paddingLeft:"5px",paddingRight:"5px",borderRadius:"2px",float:"left"}}},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e,t){for(var o,n=0;n<t.length;n++)(o=t[n]).enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),o=e(0),n=a(e(1)),r=a(e(2)),l=a(e(3)),i=a(e(13));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.goTargetUrl=function(e,o,n){var r=t.state.mds,l={url:e,nid:o||0,widgetId:r.widgetId,moduleName:r.moduleName,target:n||null};t.pageUtils.goTargetUrl&&t.pageUtils.goTargetUrl(l)},t.pageUtils=e.pageUtils,t.state={mds:e.mds||{},gdc:e.gdc||{}},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.Component),t(a,[{key:"render",value:function(){var e=this.props,t=e.promotionList,a=e.translation,u=e.couponList,p=(a["module.pc.promoteCoupons.get"]||"Get {val} on orders over {val}").split("{val}");return t&&t.length>0?(0,o.createElement)(n.default,{style:0===u.length?i.default.discountWrap2:i.default.discountWrap},(0,o.createElement)(n.default,{style:i.default.contentWrap},(0,o.createElement)(n.default,{style:i.default.pictureWrap},(0,o.createElement)(l.default,{source:{uri:"//ae01.alicdn.com/kf/HTB1vZd3XHPpK1RjSZFF7615PpXaI.png"},style:i.default.image}),(0,o.createElement)(r.default,{style:i.default.picWord},a["module.pc.promoteCoupons.sellerDiscount"]||"Seller Discount")),t.map(function(e){return(0,o.createElement)(n.default,{style:i.default.detailWrap},(0,o.createElement)(r.default,{style:i.default.overflow,title:p[0]+" "+e.discountAmount+" "+p[1]+" "+e.displayAmount},p[0],(0,o.createElement)(r.default,{style:i.default.coupons},e.discountAmount),p[1],(0,o.createElement)(r.default,{style:i.default.overPrice},e.displayAmount)))}))):null}}]),a}();exports.default=u,module.exports=exports.default},function(module,exports,e){module.exports={discountWrap:{height:"122px",background:"#FAFAFA",borderRadius:"4px",width:"330px",float:"left",overflow:"hidden",fontFamily:"Open Sans"},discountWrap2:{height:"122px",background:"#FAFAFA",borderRadius:"4px",width:"330px",float:"left",marginLeft:"12px",overflow:"hidden"},contentWrap:{paddingLeft:"16px",paddingRight:"16px",paddingTop:"16px",paddingBottom:"16px"},pictureWrap:{display:"inline-block",marginBottom:"8px"},image:{display:"block",width:"27px",height:"16px",marginRight:"8px",marginTop:"2px",float:"left"},picWord:{fontSize:"14px",color:"rgb(0,0,0)",fontWeight:"700",lineHeight:"20px",float:"left"},detailWrap:{display:"flex",flexDirection:"row",fontSize:"13px",color:"rgb(51,51,51)",lineHeight:"18px",marginBottom:"4px",width:"298px",height:"18px",overflow:"hidden",textOverflow:"ellipsis",flexWrap:"nowrap",whiteSpace:"nowrap"},coupons:{color:"rgb(255,153,0)",fontWeight:"700",marginLeft:"2px",marginRight:"2px"},overPrice:{color:"rgb(0,0,0)",fontWeight:"700",marginLeft:"2px"},overflow:{width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},function(module,exports){module.exports={wrapper:{width:"1200px",marginTop:"0rem",marginRight:"auto",marginBottom:"0rem",marginLeft:"auto",color:"rgb(0,0,0)",fontFamily:"Open Sans"},title:{fontSize:"14px",color:"rgb(255,0,0)"},pic:{width:1200},defaultImage:{width:1200},wrap:{width:"1200px",height:"186px",paddingLeft:"32px",paddingRight:"32px",paddingTop:"32px",paddingBottom:"32px",borderRadius:"8px",backgroundColor:"rgb(255,0,99)",display:"block"},moduleTitleWrap:{textAlign:"center",marginTop:"24px",marginBottom:"24px"},moduleTitle:{fontSize:"32px",lineHeight:"40px",fontWeight:"700",color:"rgb(255,255,255)"}}}])});