// {"framework" : "Rax"}
define("aemod/ae-pc-hotSpots/index.web",["rat-frame","rat-view","rat-picture","rat-link"],function(require,exports,module){module.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var module=e[n]={i:n,l:!1,exports:{}};return t[n].call(module.exports,module,module.exports,r),module.l=!0,module.exports}return r.m=t,r.c=e,r.d=function(exports,t,e){r.o(exports,t)||Object.defineProperty(exports,t,{enumerable:!0,get:e})},r.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(module){var t=module&&module.__esModule?function(){return module.default}:function(){return module};return r.d(t,"a",t),t},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(module,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=Object.assign||function(t){for(var e,r=1;r<arguments.length;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},r=function(){function t(t,e){for(var r,n=0;n<e.length;n++)(r=e[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),n=t(1),o=l(t(2)),a=l(t(3)),i=l(t(4)),u=l(t(5));function l(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function l(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,t));return e.getData=function(){var t=e.state,r=t.mds,n=(t.gdc,r.moduleData||{}),o=n.hotSpot,a=n.titleAlias,i=n.image;e.setState({titleAlias:a,image:i,hotSpot:o,showDataStatus:!!i&&"{}"!==JSON.stringify(i),showNoDataStatus:!i||"{}"===JSON.stringify(i)})},e.goTargetUrl=function(t,r){var n=e.state,o=n.mds,a=(n.gdc,{url:t,nid:r||0,widgetId:o.widgetId,moduleName:o.moduleName,target:"_blank"});e.pageUtils.goTargetUrl&&e.pageUtils.goTargetUrl(a)},e.getSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.state.gdc.preView,n=t.width,o=void 0===n?1200:n,a=t.height,i=void 0===a?300:a,u=document.body.clientWidth||1200,l=(document.body.clientHeight,0),s=0,f=1;return o<=1200||u<=1200||"true"===r||!0===r?(l=1200,s=1200/o*i,f=1200/o):o>=u?(l="100%",s=i*(f=u/o)):o<u&&(l=o,s=i,f=1),{realWidth:l,realHeight:s,scale:f}},e.pageUtils=t.pageUtils,e.state={showDataStatus:!1,showNoDataStatus:!0,mds:e.props.mds||{},gdc:e.props.gdc||{},hotSpot:[]},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,n.Component),r(l,[{key:"componentWillMount",value:function(){this.getData()}},{key:"componentDidMount",value:function(){var t=this,e=this.state.image;if(window.addEventListener("resize",function(){t.setState({resize:!0})}),e&&e.url&&!e.width){var r=e.url,n=new Image;n.src=r,n.onload=function(){t.setState({image:{height:n.height,width:n.width}})}}}},{key:"render",value:function(){var t=this,r=this.state,l=r.hotSpot,s=r.showDataStatus,f=r.showNoDataStatus,c=r.mds,d=r.gdc,p=(r.titleAlias,r.image),h=d.preView,g=this.getSize(p),m=g.realWidth,y=g.realHeight,w=g.scale;return s?(0,n.createElement)(o.default,{style:e({},u.default.wrapper,{height:parseInt(y),width:m})},(0,n.createElement)(a.default,{style:{height:"100%",width:m},width:m,height:"100%",source:{uri:p.url},lazyload:!1}),(0,n.createElement)(o.default,{style:e({},u.default.hotWrap)},l.map(function(r,o){var a=e({width:parseInt(r.width)*w,height:parseInt(r.height)*w,top:parseInt(r.top)*w,left:parseInt(r.left)*w},u.default.hotStyle);return(0,n.createElement)(i.default,{style:a,onClick:function(){t.goTargetUrl(r.link,o)},"data-href":""+r.link})}))):!f||"true"!==h&&!0!==h?null:(0,n.createElement)(a.default,{style:e({},u.default.defaultImage,{width:c.defaultImageWidth||"100%",height:c.defaultImageHeight||"auto"}),source:{uri:c.defaultImage},lazyload:!1})}}]),l}();exports.default=s,module.exports=exports.default},function(module,exports){module.exports=require("rat-frame")},function(module,exports){module.exports=require("rat-view")},function(module,exports){module.exports=require("rat-picture")},function(module,exports){module.exports=require("rat-link")},function(module,exports,t){module.exports={wrapper:{minWidth:"1200px",width:"100%",marginTop:"0rem",marginRight:"auto",marginBottom:"0rem",marginLeft:"auto",overflow:"hidden"},title:{fontSize:"14px",color:"rgb(255,0,0)"},pic:{width:1200},defaultImage:{width:1200},hotWrap:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},hotStyle:{position:"absolute",backgroundColor:"transparent",cursor:"pointer"}}}])});