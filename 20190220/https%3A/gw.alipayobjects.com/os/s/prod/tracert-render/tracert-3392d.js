!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=r(o),a=n(19),c=r(a),s=n(9),u=r(s),l=n(10),f=r(l),d=n(14),p=r(d),h=n(17),m=r(h),v=n(13),g=r(v),y=n(12),b=r(y),w=n(11),x=r(w),S=n(15),_=r(S),I=n(16),k=r(I),O={};O.web=c.default,O.autoLogPv=u.default,O.bucName=f.default,O.layout=p.default,O.timeOnPage=m.default,O.fullfillRef=g.default,O.clientSession=b.default,O.clickAndExpo=x.default,O.meta=_.default,O.performance=k.default;var T=window;if(!T.Tracert||T.Tracert._isInit||T.Tracert._isRenderInit){if(window.TracertCmdCache&&window.TracertCmdCache.length)for(var E=0;E<window.TracertCmdCache.length;E++){var P=window.TracertCmdCache[E];if(P&&"start"===P[0]&&P[1]&&P[1].disabledPlugins&&P[1].disabledPlugins.length)for(var j=P[1].disabledPlugins,C=0;C<j.length;C++)delete O[j[C]]}var A=new i.default;A.setSysInfo({v:"1.0.24"});var L=[];for(var B in O)O.hasOwnProperty(B)&&L.push(O[B]);A.loadPlugins(L),T.Tracert=A}t.default=T.Tracert,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t,n){var r=t||window.document;r.addEventListener?r.addEventListener(e,n,!0):r.attachEvent?r.attachEvent("on".concat(e),n):r[e]=n}function i(e,t,n){var r=t||window.document;r.removeEventListener?r.removeEventListener(e,n,!0):r.detachEvent?r.detachEvent("on".concat(e),n):r[e]=n}function a(e,t){var n,r=this,o=arguments;return function(){var i=r,a=o,c=function(){n=null,e.apply(i,a)};clearTimeout(n),n=setTimeout(c,t)}}function c(e,t){return t={exports:{}},e(t,t.exports),t.exports}function s(e){"interactive"===document.readyState||"complete"===document.readyState?e():o("DOMContentLoaded",document,e)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return"requestIdleCallback"in window?u(e,{timeout:t}):setTimeout(e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={};for(var r in e)if(e.hasOwnProperty(r)){var o=0===r.indexOf(t)?r:t+r;n[o]=e[r]}return n}function f(e,t){var n=e||{};for(var r in t)t.hasOwnProperty(r)&&void 0!==t[r]&&(n[r]=t[r]);return n}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.search;if(!e)return"";var n="",r=window.AlipayJSBridge;try{var o=new RegExp("(?=\\?|\\&|\\b|^)".concat(e,"\\=(.+?)(?=\\&|$)"));n=o.exec(t),n=n?"".concat(n[1]):"",n=decodeURIComponent(n)}catch(e){console.warn(e)}return""===n&&(n=r&&r.startupParams&&r.startupParams[e]),n}function p(e){var t=e||window.navigator.userAgent,n=function(e){var n=new RegExp("aliapp\\(".concat(e),"i");return n.test(t)};if(!n("ap"))return 0;var r=/alipayclient\/(\d+)\.?(\d+)?\.?(\d+)?/i.exec(t),o=0;if(r){var i=r[1]||0,a=r[2]||0,c=r[3]||0;+a<10&&(a="0".concat(a)),+c<10&&(c="0".concat(c)),o=parseFloat("".concat(i,".").concat(a).concat(c))}return o}function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"^",r=[];if(e instanceof Array)r=e;else if(e instanceof Object)for(t in e)e.hasOwnProperty(t)&&r.push("".concat(t,"=").concat(e[t]));return r.join(n)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"^";if("string"!=typeof e)return null;var n=e.split(t);if(e.indexOf("=")===-1)return n;for(var r,o,i=n.length,a={},c=0;c<i;c++)r=n[c],r&&(o=r.split("="),a[o[0]]=o[1]||"");return a}function v(e,t){var n=e||{},r=t||{};if(!r.spmId||"mergeExpose"!==r.actionId)return n;var o=r.spmId.split(".");if(3===o.length){var i=r.spmId;n[i]||(n[i]={},n[i]=q({},r))}return n}function g(e,t){var n=e||{},r=t||{};if(!r.spmId||"mergeExpose"!==r.actionId)return null;var o=r.spmId.split(".");if(3===o.length){var i=r.spmId;n[i]||(n[i]={});var a="";r.param4&&r.param4.rid?(a=r.param4.rid,delete r.param4.rid):a="",n[i][a]?n[i][a].push(r.param4):(n[i][a]=[],n[i][a].push(r.param4))}return n}function y(e,t){var n=[],r=["fullURL","mBizScenario","mPageState","mPageName","version"];if("object"===H(e))for(var o in e)if(e.hasOwnProperty(o)){var i={};t?i=q(i,t[o]):(i.spmId=o,i.actionId="mergeExpose");var a=[];if(e[o].options)i.param4=V(e[o].options.param4);else{for(var c in e[o])if(e[o].hasOwnProperty(c)){for(var s=[],u=e[o][c],l=0;l<u.length;l++){var f=[],d=u[l];for(var p in d)d.hasOwnProperty(p)&&r.indexOf(p)===-1&&f.push("".concat(p,"|").concat(d[p]));s.push(f.join(";"))}a.push("rid|".concat(c,":").concat(s.join("&")))}i.param4="exposed=".concat(a.join("__"))}n.push(i)}return n}function b(e){var t,n;try{return t=[].slice.call(e)}catch(o){t=[],n=e.length;for(var r=0;r<n;r++)t.push(e[r]);return t}}function w(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function x(e){return null!==e&&"object"===H(e)&&1===e.nodeType}function S(e){return!(!e||!x(e)||e===document.body||e===document.documentElement)}function _(e){for(var t,n,r,o,i,a=b(e||document.getElementsByTagName("meta")),c=a.length,s=0;s<c;s++){switch(t=a[s],n=w(t,"name"),r=w(t,"content"),n){case K:i=r;break;case"data-bizType":o=r}if(i&&o)break}var u={};return i&&(u.spmAPos=i),o&&(u.bizType=o),u}function I(){var e=w(document.body,K);return e}function k(e){var t=e;if(!S(t))return"";for(var n="";t&&t!==document.body&&!(n=w(t,K));)t=t.parentNode;return n}function O(e){var t=e;if(!S(t))return"null";do if(G.test(t.tagName)||t.hasAttribute(J))return t;while((t=t.parentNode)&&t&&t.tagName&&"BODY"!==t.tagName&&t!==document.body&&!w(t,K));return null}function T(e){var t=e;if(!S(t))return"";if(G.test(t.tagName)||t.hasAttribute(J)||(t=O(t)),!t)return"";var n=w(t,J),r=t.tagName;if(("string"==typeof n||G.test(r))&&!n){var o=0,i=t;do x(i)&&r===i.tagName&&o++,i=i.previousSibling;while(i);n=o}return"".concat(n)}function E(e){var t=e&&e.getAttribute?e.getAttribute("data-aspm-param")||"":"",n={};if(t){var r=t.split("^");if(t.indexOf("=")===-1)n=r;else for(var o,i,a=r.length,c=0;c<a;c++)o=r[c],o&&(i=o.split("="),n[i[0]]=i[1]||"")}return n}function P(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pagename",t=b(window.document.getElementsByTagName("meta")),n="",r=0;r<t.length;r++){var o=t[r],i=w(o,"name"),a=w(o,"content");if(a&&i&&i===e){n=a;break}}return n}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=window.localStorage&&window.localStorage.getItem(e)||D.get(e,t);if(D.get(e,t)&&window.localStorage)try{window.localStorage.setItem(e,n),D.remove(e,t)}catch(e){console&&console.warn&&console.warn("localstorage error")}return n}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&t.length>=400&&(n.cookie||!window.localStorage))return void(console&&console.warn&&console.warn("Tracert cookie set too long"));if(window.localStorage)try{window.localStorage.setItem(e,t)}catch(r){D.set(e,t,n)}else D.set(e,t,n)}function M(e,t){window.localStorage&&window.localStorage.removeItem(e),D.remove(e,t)}function U(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function R(e){var t=e.split("//"),n=t[0],r=t[1]||"",o=r.split("/"),i=o[0],a=i.split(":"),c=a[0],s=a[1]||"",u=r.replace(i,""),l=u.split("#"),f=l[0],d=l[1]||"",p=d?"#".concat(d):null,h=f.split("?"),m=h[0],v=h[1]||"",g=v?"?".concat(v):null,y={protocol:n,slashes:!0,auth:null,host:i,port:s||null,hostname:c,hash:p,search:g,query:v||null,pathname:m,path:f,href:e,format:function(){return"".concat(y.protocol,"//").concat(y.host).concat(y.path).concat(y.hash||"")}};return y}Object.defineProperty(t,"__esModule",{value:!0});var D=r(n(2)),H=c(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n}),z="_TRACERT_COOKIE_",F={load:s,requestIdleCallback:u,dealExtra:l,objectAssign:f,getValue:d,getApFloatVersion:p,cookiesPrefix:z},W={objToStr:h,strToObj:m},q=F.objectAssign,V=W.objToStr,K="data-aspm",J="data-aspm-click",G=/^a|area$/i,Q=j,$=C,Y=L,X=function(){function e(){$(this,e)}return Y(e,[{key:"set",value:function(){var e=[].slice.call(arguments);e.length>=2?this._set(Q({},e[0],e[1]),e[2]||{}):this._set(e)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="".concat(z,"_").concat(e),o=B(r,t);return n&&M(r),o}},{key:"_set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&0!==Object.keys(e).length)for(var n in e)if(e.hasOwnProperty(n)){var r="".concat(z,"_").concat(n);N(r,e[n],t)}}}]),e}(),Z=new X,ee={parse:R};t.Cookies=D,t.storage=Z,t.uuid=U,t.url=ee,t.addEvent=o,t.removeEvent=i,t.debounce=a,t.addMexOption=v,t.addToExObj=g,t.formatExObj=y,t.objToStr=h,t.strToObj=m,t.load=s,t.requestIdleCallback=u,t.dealExtra=l,t.objectAssign=f,t.getValue=d,t.getApFloatVersion=p,t.cookiesPrefix=z,t.nodeListToArray=b,t.getAttr=w,t.isDom=x,t.isViewDom=S,t.getMetaSpm=_,t.getSpmBPos=I,t.getSpmCPos=k,t.getDPosDom=O,t.getSpmDPos=T,t.getDomParam=E,t.getMetaPageName=P},function(e,t,n){var r,o;!function(i){var a=!1;if(r=i,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o)),a=!0,e.exports=i(),a=!0,!a){var c=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=c,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*i.expires),i.expires=c}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,i[u]!==!0&&(s+="="+i[u]));return document.cookie=t+"="+o+s}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var p=l[d].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=p[0].replace(f,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(f,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===m){a=h;break}t||(a[m]=h)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},function(e,t){function n(){var e,t=[],n=!0;for(var r in p)p.hasOwnProperty(r)&&(n=!1,e=p[r]||"",t.push(f(r)+u+f(e)));i.name=n?o:a+f(o)+s+t.join(l)}function r(e,t,n){e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t)}))}var o,i=window,a="nameStorage:",c=/^([^=]+)(?:=(.*))?$/,s="?",u="=",l="&",f=encodeURIComponent,d=decodeURIComponent,p={},h={};!function(e){if(e&&0===e.indexOf(a)){var t=e.split(/[:?]/);t.shift(),o=d(t.shift())||"";for(var n,r,i,s=t.join(""),u=s.split(l),f=0,h=u.length;f<h;f++)n=u[f].match(c),n&&n[1]&&(r=d(n[1]),i=d(n[2])||"",p[r]=i)}else o=e||""}(i.name),h.setItem=function(e,t){e&&"undefined"!=typeof t&&(p[e]=String(t),n())},h.getItem=function(e){return p.hasOwnProperty(e)?p[e]:null},h.removeItem=function(e){p.hasOwnProperty(e)&&(p[e]=null,delete p[e],n())},h.clear=function(){p={},n()},h.valueOf=function(){return p},h.toString=function(){var e=i.name;return 0===e.indexOf(a)?e:a+e},r(i,"beforeunload",function(){n()}),i.nameStorage=h,e.exports=h},function(e,t,n){var r,o,i;!function(n,a){o=[],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}("undefined"!=typeof self?self:this,function(){if("object"==typeof window){var e,t=window,n={0:"navigate",1:"reload",2:"back_forward"},r=["unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart"];if(!t||!t.performance||"object"!=typeof t.performance)return e;if("function"==typeof t.performance.getEntries&&"function"==typeof t.performance.getEntriesByType&&"function"==typeof t.performance.getEntriesByName&&"function"==typeof t.performance.now&&t.performance.timeOrigin)return t.performance;var o=function(){for(var e=t.performance.timing,o=e.navigationStart||e.redirectStart||e.fetchStart,i={entryType:"navigation",initiatorType:"navigation",name:t.location.href,startTime:0,duration:e.loadEventEnd?e.loadEventEnd-o:0,redirectCount:t.performance.navigation.redirectCount,type:n[t.performance.navigation.type]},a=0;a<r.length;a++){var c=r[a],s=e[c];i[c]=s?s-o:0}return i};return e={_entry:o(),timeOrigin:t.performance.timing.navigationStart,getEntries:function(){return[this._entry]},getEntriesByType:function(e){return"navigation"!==e?[]:[this._entry]},getEntriesByName:function(e){return e!==t.location.href?[]:[this._entry]},now:function(){return Date.now()-t.performance.timing.navigationStart}}}})},function(e,t,n){var r=n(7);e.exports=r},function(e,t){var n=function(e){var t={},n=e.match(/AliApp\S+\b\)/gi);return t.is=!!/(T-UA)|(TBIOS)|(WindVane)|(AliApp)/i.test(e),t.name=n?n[0].match(/\(\w+\-*\w*/)[0].split("(")[1]:"",t.version=n?n[0].match(/(\d+\.*)+/gi)[0]:"",t};e.exports=n},function(e,t,n){function r(e){return Object.prototype.toString.call(e)}function o(e){return"[object Object]"===r(e)}function i(e){return"[object Function]"===r(e)}function a(e,t,n){for(var r=0,o=e.length;r<o&&t.call(e,e[r],r)!==!1;r++);}function c(e,t,n){var a=i(t)?t.call(null,n):t;if(!a)return null;var c={name:e,version:l,codename:""};"android"===e&&(c.type=n.indexOf("Mobi")>-1?"phone":"pad"),"ios"===e&&(c.type=n.indexOf("iPhone")>-1?"phone":"pad");var s=r(a);if(a===!0)return c;if("[object String]"===s){if(n.indexOf(a)!==-1)return c}else{if(o(a))return a.hasOwnProperty("version")&&(c.version=a.version),c;if(a.exec){var u=a.exec(n);if(u)return u.length>=2&&u[1]?c.version=u[1].replace(/_/g,"."):c.version=l,c}}}function s(e,t,n,r){var o=y;a(t,function(t){var n=c(t[0],t[1],e);if(n)return o=n,!1}),n.call(r,o.name,o.version)}var u={},l="-1",f=navigator.userAgent||"",d=navigator.appVersion||"",p=navigator.vendor||"",h=(window.external,/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/),m=n(6),v=[["wp",function(e){return e.indexOf("windows phone ")!==-1?/\bwindows phone (?:os )?([0-9.]+)/:e.indexOf("xblwp")!==-1?/\bxblwp([0-9.]+)/:e.indexOf("zunewp")!==-1?/\bzunewp([0-9.]+)/:"windows phone"}],["ios",function(e){return/\bcpu(?: iphone)? os /.test(e)?/\bcpu(?: iphone)? os ([0-9._]+)/:e.indexOf("iph os ")!==-1?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",/\bandroid[\/\- ]?([0-9.x]+)?/],["linux","linux"]],g=[["qq",/\bm?qqbrowser\/([0-9.]+)/],["ie",h],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["uc",function(e){return e.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/:e.indexOf("ucweb")>=0?/\bucweb[\/]?([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["android",function(e){if(e.indexOf("android")!==-1)return/\bversion\/([0-9.]+(?: beta)?)/}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/]],y={name:"na",version:l},b=function(e){e=(e||"").toLowerCase();var t={};return s(e,v,function(e,n){var r=parseFloat(n);t.os={name:e,version:r,fullVersion:n},t.os[e]=r},t),s(e,g,function(e,n){var r=parseFloat(n);t.browser={name:e,version:r,fullVersion:n},t.browser[e]=r},t),t};u=b(f+" "+d+" "+p),u.parse=b,u._checkApp=m,u.app=u._checkApp(f),e.exports=u},function(e,t,n){"use strict";function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){return w(e)||x(e)||S()}function l(e){if(Array.isArray(e))return e}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(e){return I(e)||x(e)||k()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var v=n(1),g=r(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n}),y=o,b=i,w=a,x=c,S=s,_=u,I=l,k=f,O=d,T=p,E=m,P=function(e){console&&console.warn&&console.warn("Tracert deprecated\uff1a".concat(e))},j=document,C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T(this,e);var n={autoLogPv:!0,eventType:"click",autoExpo:!1,bizType:"H5behavior",state:"",name:"",logLevel:"2",mdata:{},seedIdPrefix:"",seedIdSuffix:"",spmAPos:"",spmBPos:"",bizScenario:v.getValue("bizScenario")||"",paramPrefix:"",debug:!1,server:"",lastClkSpm:"",url:location.href.split(/\?|#|;jsessionid=/)[0],referSPM:"",srcSpm:"",sessionIdKey:"tracert-session-key",seedIdCfg:{pageSeedId:"H5_MTRACKER_AP_PAGE",clkSeedId:"H5_MTRACKER_AP_CLK",calcSeedId:"H5_MTRACKER_AP_CALC",expoSeedId:"H5_MTRACKER_AP_EXPO",syslogSeedId:"H5_MTRACKER_AP_SYSLOG"},_plugins:[],platformType:"",ready:!1,apiCashList:[],timeMap:{},expoOnce:!1,_wap_intervalEx:400,_wap_interval:300,_wap_mgObjIndex:0,_wap_exObjIndex:0,_wap_mgTdObjIndex:0,_expoMergeItvObj:0,hasExpoMerge:!1,fmtedExObjArr:[],fmtedExObj:{},fmtedExOptions:{},cacheExObjArr:[],cacheMrExObjArr:[],expotTimeout:300,expoObj:{},expoType:function(e){var t=!1,n=function n(){t||(t=!0,v.removeEvent("scroll",j,n),setTimeout(function(){t=!1,v.addEvent("scroll",j,n)},300),e())};v.addEvent("scroll",j,n)},expoSection:[-.3,.3],_beforeEvObj:{logPv:[],click:[],expo:[],set:[],send:[]},_afterEvObj:{start:[],logPv:[],click:[],expo:[]},_pluginLoadCnt:0,sysInfo:{}};v.objectAssign(n,t),v.objectAssign(this,n);var r=window.TracertCmdCache;if(r&&r.length)for(var o=0;o<r.length;o++){var i=[].slice.call(r[o]),a=O(i),c=a[0],s=a.slice(1);this.call.apply(this,[c].concat(_(s)))}this._start()}return E(e,[{key:"before",value:function(e,t){var n=this._beforeEvObj;if(!n[e])throw new Error("\u76ee\u6807\u65b9\u6cd5\u4e0d\u652f\u6301\u8be5\u4e8b\u4ef6");if("function"!=typeof t)throw new Error("\u76d1\u542c\u5668\u4e0d\u662f\u51fd\u6570");n[e].push(t)}},{key:"_runBeforeFns",value:function(e,t){var n=this._beforeEvObj[e]||[];if(!n||!n.length)return!0;for(var r=0;r<n.length;r++){var o=n[r].call(this,t);if(o===!1)return console&&console.debug&&console.debug("Tracert before fns: ".concat(e," stop propagation")),!1}return!0}},{key:"after",value:function(e,t){var n=this._afterEvObj;if(!n[e])throw new Error("\u76ee\u6807\u65b9\u6cd5\u4e0d\u652f\u6301\u8be5\u4e8b\u4ef6");if("function"!=typeof t)throw new Error("\u76d1\u542c\u5668\u4e0d\u662f\u51fd\u6570");return"start"===e&&this.ready?void t():void n[e].push(t)}},{key:"_runAfterFns",value:function(e,t){var n=this._afterEvObj[e]||[];if(n&&n.length)for(var r=0;r<n.length;r++)n[r].call(this,t)}},{key:"init",value:function(){}},{key:"load",value:function(e){v.load(e)}},{key:"onReady",value:function(e){this.ready?e&&e():document.addEventListener("TracertOnReady",function(){e&&e()})}},{key:"_start",value:function(){var e=this,t=function(){e.load(function(){if(!e.ready){var t=v.getMetaSpm();t.spmAPos=e.spmAPos||t.spmAPos,e.spmBPos||(t.spmBPos=v.getSpmBPos()),e.set(t),e.ready=!0;for(var n=0;n<e.apiCashList.length;n++){var r=e.apiCashList[n];e.call.apply(e,r)}e._runAfterFns("start"),e.apiCashList=[]}})};this.pluginReady&&this.started?t():(document.addEventListener("TracertPluginReady",function(){e.started&&t()}),document.addEventListener("TracertStart",function(){e.pluginReady&&t()}))}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.run(e)}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.set(b({},e,{started:!0}));var t=document.createEvent("HTMLEvents");t.initEvent("TracertStart",!0,!0),document.dispatchEvent(t),this.autoLogPv&&this.call("logPv")}},{key:"loadPlugins",value:function(e){if(e&&e.length){this._plugins=e;for(var t=0;t<e.length;t++){var n=e[t];this.loadPlugin(n)}}}},{key:"loadPlugin",value:function(e){var t=this;if(e&&(window["tracert".concat(e)]&&"function"==typeof window["tracert".concat(e)]||"function"==typeof e)){var n="function"==typeof e?e:window["tracert".concat(e)];n(this,function(){if(t._pluginLoadCnt++,t._pluginLoadCnt===t._plugins.length){t.set({pluginReady:!0});var e=document.createEvent("HTMLEvents");e.initEvent("TracertPluginReady",!0,!0),document.dispatchEvent(e)}})}}},{key:"call",value:function(){var e,t=[].slice.call(arguments);if(!t[0]||"run"!==t[0]&&"start"!==t[0]||this.set({started:!0}),this.ready){if(!this[t[0]]||"function"!=typeof this[t[0]])return console.warn("\u672a\u627e\u5230\u65b9\u6cd5\uff1a".concat(t[0])),null;var n=t.slice(1);n=this.optionsHandle(n),e=this[t[0]].apply(this,n)}else this.apiCashList.push(t);return e}},{key:"optionsHandle",value:function(e){return e&&e.length?(e.forEach(function(e){var t=e;t&&(t.spmid&&(t.spmId=t.spmid),t.seedid&&(t.seedId=t.seedid),t.ucid&&(t.ucId=t.ucid))}),e):e}},{key:"get",value:function(e){return this[e]}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e;this._runBeforeFns("set",t),t.eventName&&v.objectAssign(t,{eventType:t.eventName}),"object"===g(t.mdata)&&(t.mdata=b({},this.mdata,t.mdata)),v.objectAssign(this,t)}},{key:"getSysInfo",value:function(e){return this.sysInfo[e]}},{key:"setSysInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e;v.objectAssign(this.sysInfo,t)}},{key:"config",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};P("\u8bf7\u4f7f\u7528 set \u65b9\u6cd5"),this.set(e)}},{key:"remoteLog",value:function(){}},{key:"logPv",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._runBeforeFns("logPv",e);t&&(this._logPv(e),this._runAfterFns("logPv",e))}},{key:"_logPv",value:function(){}},{key:"report",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=e.spmId;if(n){var r=n.split("."),o=r[0],i=r[1];o&&i&&this.set({spmAPos:o,spmBPos:i})}"object"===g(t)&&this.set({mdata:b({},this.mdata,t)}),this.set({_calledLogPv:!!n}),this.call("logPv")}},{key:"pageState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.set({state:e}),this.call("logPv")}},{key:"pageName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";P("\u5df2\u5e9f\u5f03"),this.set({name:e})}},{key:"setPageState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.call("pageState",e)}},{key:"time",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(e),n=this.timeMap;t&&!n[t]&&(n[t]=new Date-0)}},{key:"timeEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(e),n=this.timeMap;if(!t||!n[t])return"";var r=n[t],o=new Date-0-r;return delete n[t],o}},{key:"_goRemotelog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.seedId&&!e.spmId)return void console.warn("\u8bf7\u586b\u5165\u57cb\u70b9seedId\u6216spmId");var t=e.spmId||e.spmid||"",n=t.split("."),r=n.length,o=this.spmAPos,i=this.spmBPos;if(o&&i)switch(r){case 1:case 2:if(""===t)break;if(0!==t.indexOf("c"))break;t=[o,i,t].join(".")}var a={ucId:e.ucId,seedId:e.seedId,spmId:t,actionId:e.actionId,logLevel:e.logLevel||this.logLevel,param4:e.mdata||{}};if(e.type&&(a.type=e.type),e.params&&"object"===g(e.params))if(e.params.length)v.objectAssign(a,{param1:e.params[0]||"",param2:e.params[1]||"",param3:e.params[2]||""});else{var c=e.mdata||{};v.objectAssign(c,e.params),v.objectAssign(a.param4,c)}if(e.timeKey){var s=this.call("timeEnd",e.timeKey);s&&(a.param4.consume=s)}this.call("remoteLog",a)}},{key:"info",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._goRemotelog(e)}},{key:"error",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v.objectAssign(e,{type:"error",actionId:"exception"}),this._goRemotelog(e)}},{key:"click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={spmId:e,extra:t,options:n},o=this._runBeforeFns("click",r);if(o){var i=r.spmId.split(":"),a=i[1]?{seedDesc:i[1]}:{};v.objectAssign(a,v.dealExtra(r.extra,this.paramPrefix));var c={param1:this.url,param2:i[0],param4:a,seedId:this.seedIdCfg.clkSeedId,actionId:"clicked",spmId:i[0]};v.objectAssign(c,r.options),this.set({lastClkSpm:r.spmId}),this.call("remoteLog",c,!0),this._runAfterFns("click",r)}}},{key:"expo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={spmId:e,offset:t,extra:n},o=this._runBeforeFns("expo",r);if(o){var i={param1:this.url,param2:r.spmId,param3:r.offset,param4:v.dealExtra(r.extra,this.paramPrefix),seedId:this.seedIdCfg.expoSeedId,actionId:"exposure",spmId:r.spmId};if(this.expoObj=this.expoObj||{},this.expoObj[r.spmId]===!1)return void console.warn("\u8be5\u57cb\u70b9\u5df2\u7ecf\u66dd\u5149\u8fc7\u4e86");this.expoOnce&&(this.expoObj[r.spmId]=!1),this.call("remoteLog",i),this._runAfterFns("expo",r)}}},{key:"calc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};P("calc \u5df2\u5e9f\u5f03");var r={param1:this.url,param2:e,param3:t,param4:v.dealExtra(n,this.paramPrefix),seedId:this.seedIdCfg.calcSeedId,actionId:"timestamp"};this.call("remoteLog",r)}}]),e}();e.exports=C},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(){return document.body&&document.body.innerText&&document.body.innerText.length||0}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return JSON.stringify(e)===JSON.stringify(t)}var s=n(1),u=r,l=i,f=s.url,d=function(){function e(t){u(this,e),this.tracert=t,this.curUrl=t.get("fullURL");var n=this.curUrlObj=f.parse(this.curUrl);this.curDocLen=a();var r=n.hash,o=this.isAnchor(r);o||(n.hash=this.cleanHash(r)),this.tracert.call("set",{url:o?this.curUrl.split(/\?|#/)[0]:n.format()}),this.start()}return l(e,[{key:"start",value:function(){var e=this;this.interval=setTimeout(function(){e.check(),e.start()},500)}},{key:"stop",value:function(){clearTimeout(this.interval),this.interval=void 0}},{key:"check",value:function(){var e=window.location.href,t=this.diff(e);t&&(this.tracert.call("set",{refUrl:this.curUrl,referSPM:"".concat(this.tracert.spmAPos,".").concat(this.tracert.spmBPos),url:t.isHashSinglePage?t.format():e.split(/\?|#/)[0],fullURL:e}),this.tracert.call("logPv")),this.curUrl=e,this.curUrlObj=t||f.parse(e),this.curDocLen=a()}},{key:"diff",value:function(e){if(e===this.curUrl)return!1;var t=f.parse(e),n=t.path,r=t.query,o=t.hash,i=this.curUrlObj;return n===i.path&&c(r,i.query)?o!==i.hash&&(!this.isAnchor(o)&&(t.isHashSinglePage=!0,t.hash=this.cleanHash(t.hash),t)):t}},{key:"isAnchor",value:function(e){return!(!e||"#"===e)&&(e=e.substr(1),"/"!==e[0]&&(document.getElementById(decodeURI(e))&&Math.abs(this.curDocLen-a())<5))}},{key:"cleanHash",value:function(e){if(!e)return e;var t=e.indexOf("?");return t!==-1&&(e=e.substr(0,t)),e}}]),e}(),p=function(e,t){var n=e,r=new d(n);return n.set({monitor:r}),t(),n};e.exports=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){if(Array.isArray(e))return e}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e){return m(e)||v(e)||g()}function l(e,t,n){e.postMessage(JSON.stringify({type:t,content:n}),"*")}function f(){return"undefined"!=typeof WeixinJSBridge||!(!window.navigator||!(window.navigator.userAgent.toLowerCase().indexOf("micromessenger")>-1||"undefined"!=typeof window.navigator.wxuserAgent))}var d=n(1),p=r,h=i,m=a,v=c,g=s,y=u,b=d.load,w=function(){function e(){var t=this;p(this,e),this.iframe=null,this.iframeLoaded=!1,this.userId=null,this.pending=!1,this.queue=[],this.cachedQuery=[],b(function(){return t.initIframe()})}return h(e,[{key:"initIframe",value:function(){var e=this,t=document.createElement("iframe");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.left="-100px",t.style.bottom="-100px",t.style.width="-100px",window.addEventListener("message",function(t){return e.receive(t)},!1),this.pending=!0,t.setAttribute("src","https://tracert.alipay.com/cross.html"),t.onload=function(){
t.style.display="none"},document.body.appendChild(t),this.iframe=t}},{key:"receive",value:function(e){var t;if(e.data){try{t=JSON.parse(e.data)}catch(e){return}if(t.type)switch(t.type){case"getBucUserId":for(this.userId=t.content,this.pending=!1;this.queue.length;){var n=this.queue[0];n(t.content),this.queue.shift()}break;case"iframOnload":this.iframeOnLoad()}}}},{key:"iframeOnLoad",value:function(){this.iframeLoaded=!0,this.executeCachedQuery()}},{key:"executeCachedQuery",value:function(){if(this.cachedQuery.length)for(var e=0;e<this.cachedQuery.length;e++){var t=y(this.cachedQuery[e]),n=t[0],r=t.slice(1);this[n].apply(this,r)}}},{key:"getBucUserId",value:function(e){return this.iframeLoaded?(this.queue.push(e),void(this.pending||(l(this.iframe.contentWindow,"getBucUserId"),this.pending=!0))):void this.cachedQuery.push(["getBucUserId",e])}},{key:"setBucUserId",value:function(e,t,n){var r=this;return this.iframeLoaded?(this.queue.push(function(){r.userId=t,n()}),void l(this.iframe.contentWindow,"setBucUserId",t)):void this.cachedQuery.push(["setBucUserId",e,t,n])}}]),e}(),x=d.objectAssign,S=d.Cookies,_=".alipay.com",I="__TRACERT_COOKIE_",k=function(){function e(t,n){var r=this;p(this,e),this.tracert=t,x(this,n),this.tracert.after("start",function(){r.init()})}return h(e,[{key:"init",value:function(){if(!f()){if(this.isAlipayDomain=document.domain.indexOf(_)!==-1,this.isAlipayDomain||(this.cookiesHelper=new w),this.tracert.bucUserId)return this.setBucUser(),this.tracert.backupUserId=this.tracert.bucUserId,void this.tracert.call("logPv");var e=this.isAlipayDomain?_:null;return this.tracert.bucUserId=S.get("".concat(I,"bucUserId"),{domain:e})||S.get("bucUserId",{domain:e}),this.tracert.bucUserId?(this.synchronousBucId(!1),void this.tracert.call("logPv")):void this.synchronousBucId(!0)}}},{key:"setLocalBucUserId",value:function(){S.set("".concat(I,"bucUserId"),this.tracert.bucUserId,{domain:this.isAlipayDomain?_:null})}},{key:"setBucUser",value:function(){this.setLocalBucUserId(),this.isAlipayDomain||this.cookiesHelper.setBucUserId("userId",this.tracert.bucUserId,function(){})}},{key:"synchronousBucId",value:function(e){var t=this;return this.isAlipayDomain?void(e&&this.tracert.call("logPv")):void this.cookiesHelper.getBucUserId(function(n){n&&(t.tracert.bucUserId=n,t.setLocalBucUserId()),e&&t.tracert.call("logPv")})}}]),e}(),O=function(e,t){var n=e,r=new k(n);return n.set({autoLogPv:!1,buc:r}),t(),n};e.exports=O},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ae(e,t,n[t])})}return e}function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}function c(e,t){return window.getComputedStyle(e,t)}function s(e,t){var n=C(e);if(0===n.length)return void(e[t]=1);for(var r=0;r<n.length;r++)if(Math.abs(n[r]-t)<=me)return void e[n[r]]++;e[t]=1}function u(e){for(var t=h(e),n=0;n<t.length;n++)if(v(t[n]).hasOwnProperty("contenteditable"))return!0;return!1}function l(e){var t=e.tagName.toLowerCase();return"div"===t||"span"===t?"span":t}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=h(e,function(e){return 8!==e.nodeType}),r=n.length;if("ul"===e.tagName.toLowerCase())return!0;if(r<=1&&r<t)return!1;if(r>ve)return!1;for(var o="",i=!0,a={},c={},u={},f=0,d=0;d<r;d++){var p=n[d],m=l(p);if(ye.indexOf(m)!==-1)return!1;if(p.offsetWidth>de[0]&&p.offsetHeight>de[1])return!1;(p.offsetWidth<le||p.offsetHeight<le)&&f++;var v=Math.max(me,p.offsetWidth);s(a,v);var g=Math.max(me,p.offsetHeight);s(c,g);for(var y=0;y<p.classList.length;y++){var b=p.classList[y];u[b]=(u[b]||0)+1}if(i=o?o===m:i,o=m,!i)return!1}return i&&f<r/2&&A(u).indexOf(r)!==-1&&C(a).length<=2&&C(c).length<=r/2}function d(e){var t,n=e.tagName.toLowerCase(),r=e.parentNode;if(f(e.parentNode)&&r.children&&r.children.length){for(var o=0,i=0;i<r.children.length;i++){var a=r.children[i];if(a.tagName.toLowerCase()===n&&o++,a===e)break}return"".concat(n,":nth-of-type(").concat(o,")")}for(var c=0;c<r.children.length;c++)if(r.children[c]===e){t=c+1;break}return"".concat(n,":nth-child(").concat(t,")")}function p(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t||document.body;if(e===r||e===document.body)return"body";if(n)for(var o=0;o<ue.length;o++)if(e&&e[ue[o]])return e[ue[o]];var i=e,a=[];do a.unshift(d(i));while(i.parentNode&&i.parentNode!==document.body&&i.parentNode!==r&&(i=i.parentNode));return a.join(">")}function h(e,t){if(!e||!e.children)return[];var n=[].slice.call(e.children)||[];return t?n.filter(t):n}function m(e){return e.childNodes||[]}function v(e){var t={};if(!e.attributes)return{};for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n];t[r.name]=r.value}return t}function g(e){for(;e&&e.childNodes&&e.childNodes.length;){var t=[].slice.call(e.childNodes);if(t.find(function(e){return 3===e.nodeType}))return!0;e=t.filter(function(e){return!!e.tagName}).sort(function(e,t){return e.offsetWidth<24?1:e.offsetLeft-t.offsetLeft})[0]}return!!e&&!![].slice.call(e.childNodes||[]).find(function(e){return 3===e.nodeType})}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:">",n=e.split(t);return Array.isArray(n)?n:[n]}function b(e){return y(e,">").map(function(e){var t=e.split(":"),n=t[0],r=t[1],o=_e.hasOwnProperty(n)?"".concat(_e[n].toString(16)):n,i=r?r.replace(/nth-child\((\d+)\)/g,function(e,t){return"".concat(t)}).replace(/nth-of-type\((\d+)\)/g,function(e,t){return"t".concat(t)}):"";return"".concat(o).concat(i?"".concat(we).concat(i):"")}).join(xe)}function w(e){var t=e.indexOf("\n");return t!==-1&&(e=e.substring(0,t)),e.trim().substring(0,15)}function x(e){try{return e instanceof HTMLElement}catch(t){return"object"===se(e)&&1===e.nodeType&&"object"===se(e.style)&&"object"===se(e.ownerDocument)}}function S(e){for(var t=0;t<e.length;t++)if(3===e[t].nodeType)return!0;return!1}function _(e){if(5===e.nodeType)return"";if(3===e.nodeType)return window.Text&&e instanceof Text?e.wholeText:e;if(!x(e))return"";var t=e.tagName.toLowerCase();switch(t){case"img":return"img:".concat(e.src);case"canvas":return"canvas"}var n=m(e),r=h(e),o=v(e);return 0===n.length||S(n)||0===r.length?e.innerText||o.placeholder||o.alt||c(e,":before").content||c(e,":after").content:_(r[0])}function I(e){var t=_(e);if(t&&"string"==typeof t)return w(t.replace(/\s/g,""));if(!e||h(e).length>3)return"";var n=e.innerText;return n?w(n):h(e.parentNode).length<3?w(I(e.parentNode)):""}function k(e){var t=h(e);if(!t||!t.length)return I(e);if(1===t.length)return w(k(t[0]));for(var n;(n=h(e))&&n.length;)return e=[].slice.call(n).sort(function(e,t){return e.offsetWidth<24?1:e.offsetLeft-t.offsetLeft})[0],w(I(e));return""}function O(e){return e.id&&pe.indexOf(e.id)!==-1||ge.indexOf(e.tagName.toLowerCase())!==-1}function T(e){var t=c(e);return"SCRIPT"===e.tagName||"none"===t.display||"relative"===t.position&&null===e.offsetParent||"absolute"===t.position&&(Math.abs(parseFloat(t.left)+e.offsetWidth)<5||Math.abs(parseFloat(t.top)+e.offsetHeight)<5)||e.offsetWidth<5||e.offsetHeight<5}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(0===t)return!1;var n=h(e);if(0===n.length)return e.clientHeight>he;for(var r=0;r<n.length;r++){var o=n[r],i=c(o);if(("absolute"===i.position||i.float)&&o.clientHeight>he[1])return!0;if(E(o,t-1))return!0}return!1}function P(e){return e.id?e.id:e.classList&&e.classList.length?".".concat([].slice.call(e.classList,0,2).join(".")):""}function j(e){var t=e.offsetWidth,n=e.offsetHeight;return t*n}function C(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function A(e){if(Object.values)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function L(e){var t=h(e);if(t.length<2||t.length>3)return!1;if(f(e,2))return!1;var n=e.offsetWidth,r=t[0],o=r.offsetWidth,i=r.offsetHeight,a=parseInt(c(r).lineHeight,10)||16;return!(o<200||o<.9*n)&&((!i||!(i<a||i>4*a))&&!!g(r))}function B(e,t){if(e.contains&&"function"==typeof e.contains)return e.contains(t);var n=t;do if(e===n)return!0;while(n=n&&n.parentNode);return!1}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}function R(e){var t=e.dom,n=e.extraParams,r=e.block,o=e.blockSelector,i=e.blockTitle,a=e.blockId,c=e.node,s=e.nodeId,u=e.nodeSelector,l=e.nodeText,f=e.clickText,d=o||p(r);if(r&&(r["data-block-selector"]=d,Te[o]=r),c){c["data-block"]=d;var h=u||p(c,r);c["data-node-selector"]=h,Te[h]=c}return{dom:t,extraParams:n,node:u||p(c),nodeText:l,nodeId:s,block:(o||p(r)).replace(/\[data-aspm="([\w-]+)"\]/g,function(e,t){return t}),blockTitle:i,blockId:a,clickText:f}}function D(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map(function(e){var n=e.node,r=e.selector,o=r||p(n,document.body,t);return n["data-block-selector"]=o,{block:n,selector:b(o)}})}function H(e,t){var n=document.querySelector(e);if(!n||!B(n,t)){var r=Te[e];if(r){var o=p(r);return r["data-block-selector"]=o,Te[o]=r,r}return null}return n}function z(){Te={}}function F(){var e=window,t=e.visualViewport;return t?[t.offsetLeft,t.offsetTop,t.width,t.height]:[0,0,window.innerWidth,window.innerHeight]}function W(e){var t=F(),n=t[1],r=t[0]+t[3],o=e.getBoundingClientRect(),i=o.top,a=o.bottom,c=o.height;return i<=n&&a>=r||i>=n&&a<=r||i>=n&&r-i>=Math.min(300,c/2)||a<=r&&a-n>=Math.min(300,c/2)}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{time:0,cnt:0},n=t.time,r=void 0===n?0:n,o=t.cnt,i=void 0===o?0:o,a={};if(!e)return a;var c=e.exposedTime+r,s=e.exposedCnt+i;return e.empty()&&document.body.contains(e.dom)?a[b(p(e.dom),document.body,!1)]={time:c,cnt:s,title:e.title,type:e.type}:Object.assign(a,e.children.reduce(function(e,t){return Object.assign(e,q(t,{time:c,cnt:s}))},a)),a}function V(){return new Ee}function K(e){for(var t=[],n=[],r=0;r<e.length;r++){var o=e[r];o&&(O(o)||T(o)?n.push(o):t.push(o))}return{ordered:t,disorderd:n}}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];for(var n=[],r=[],o=K(e),i=o.ordered,a=o.disorderd,c=0;c<a.length;c++){var s=a[c];E(s)&&(s.__possibleBlock=!0,i.push(s))}i.sort(function(e,t){return j(e)-j(t)});for(var l=0;l<i.length;l++){var d=i[l],p=h(d);if(Ae(d,"data-aspm"))n=n.concat({node:d,type:"spm",selector:Ae(d,"data-aspm")});else if(u(d))n=n.concat([{node:d,type:"ugc"}]);else if(f(d))n=n.concat([{node:t[0],type:"list"}]);else{if(L(d)){var m=function(){var e=J(p,[d].concat(t)),r=[],o=[];return e.forEach(function(e){"pattern"===e.type?r.push(e):o.push(e)}),n=r&&r.length?n.concat(r.concat(o)):n.concat([{node:d,type:"pattern"}]),"continue"}();if("continue"===m)continue}if(d.offsetWidth>document.body.offsetWidth)n=n.concat(J(p,[d].concat(t)));else if(Z(d)){if(1===p.length){var v=J(p,[d].concat(t),!0);n=n.concat(v&&v.length?v:[{node:d,type:"hoist"}]);continue}var g=J(p,[d].concat(t),!0);g&&g.length?n=n.concat(g):r.push({node:d,type:"stashed"})}else r.push({node:d,type:"stashed"})}}if(n.length>1){for(var y=0,b=t[0]||e[0],w=0;w<n.length;w++)if("list"===n[w].type&&y++,n[w].node===t[0]){if(b.__possibleBlock){n=n.concat([{node:b.parentNode,type:"hoist"}]);break}return[{node:b,type:"merge"}]}if(y>=n.length/2)return[{node:b,type:"hoist"}]}return r.length&&(n=n.length>=i.length/2?n.concat(r):[{node:t[0]||e[0],type:"end"}]),n}function G(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],o=r.time,i=r.title,a=r.cnt,c=r.type;t.push("".concat(n,"\x02").concat(o,"\x02").concat(i,"\x02").concat(a,"\x02").concat(c))}return t.join("\x01")}function Q(e){var t=e.offsetWidth,n=e.offsetHeight;return be.indexOf(e.tagName.toLowerCase())!==-1||(t*n<fe||Math.max(t,n)>Ne||!g(e)&&!c(e).backgroundImage)}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e||!e.length)return null;if(!t||!t.length)return null;if(t.length>e.length-n)return null;var r=Array.isArray(t[0])?t[0]:[t[0]];return r.find(function(t){return e[n].cursor===t})?1===t.length?0===n?null:e[n-1].node:$(e,t.slice(1),n+1):$(e,t,n+1)}function Y(e){var t=e;if(e instanceof SVGElement&&"svg"!==e.tagName.toLowerCase())try{return Y(e.ownerSVGElement)}catch(e){return console.debug("Failed to get ownerSVGElement"),{node:parent,type:ze}}var n=[];do{if(e.id&&pe.indexOf(e.id)!==-1)return null;var r=v(e);if(e["data-block"]&&e["data-node-selector"])return{node:e,type:"CACHED",nodeSelector:e["data-node-selector"]};if(r["data-aspm"])break;if(r["data-aspm-click"])return{node:e,nodeSelector:"".concat(r["data-aspm-click"]),spm:!0,type:Me};if("a"===e.tagName.toLowerCase())return{node:e,type:Ue};if(ye.indexOf(e.tagName.toLowerCase())===-1){var o=c(e).cursor||"default";n.push({node:e,type:De,cursor:o})}else n.push({node:e,type:Re})}while(e.parentNode&&e.parentNode!==document.body&&(e=e.parentNode));for(var i=0;i<n.length;i++){var a=n[i],s=a.node,u=a.type;if(u===Re)return{node:s,type:u}}var l=$(n,["pointer",["default","auto"]]);return l?{node:l,type:De}:Q(t)?null:{node:t,type:He}}function X(e){return e.id&&pe.indexOf(e.id)!==-1}function Z(e){var t=e;if(t.__possibleBlock)return!0;var n=e.tagName.toLowerCase();if("a"===n)return!1;if(X(t))return!1;if(f(t))return!1;var r=h(t);if(!r||!r.length)return!1;var o=t.offsetWidth,i=t.offsetHeight;return!(o<he[0]||i<he[1])}function ee(e,t,n){var r=t.block,o=t.blockSelector,i=n.node,a=n.nodeSelector,s=n.nodeType,u=n.clickDom,l="";r&&(l=k(r),a=a||p(i,r));var f=I(e),d=u&&u.getAttribute?u.getAttribute("data-aspm-param"):"",h=Be(d);return R({dom:e,extraParams:h,clickDom:u,node:i,nodeSelector:a,nodeMeta:{id:P(i),type:s,err:i.type===He&&"pointer"!==c(i).cursor},nodeText:encodeURIComponent(f),block:r,blockTitle:encodeURIComponent(l),blockSelector:o,blockMeta:r?{id:P(r)}:null,clickText:encodeURIComponent(f)})}function te(e){for(var t=e,n=[t];t.parentNode&&t.parentNode!==document.body;){var r=t.parentNode;n.push(r),t=r}return n}function ne(e,t){for(var n=t.length;n>0;n--)for(var r=t[n],o=0;o<e.length;o++){var i=e[o].block;if(i===r)return i}return!1}function re(e){if(!e||e===document.body)return null;var t=Y(e);if(!t)return null;var n=t.node,r=t.type,o=t.node;if("CACHED"===r){var i=n["data-block"],a=H(i,n);if(a)return ee(e,{block:a,blockSelector:i},{node:n,nodeSelector:t.nodeSelector,clickDom:o})}var c=t.nodeSelector;if(r===Me&&c.indexOf(".")!==-1){var s=c.split("."),u=s[0],l=s[1],f=document.querySelector('[data-aspm="'.concat(u,'"]'));return ee(e,{block:f,blockSelector:u},{node:n,nodeSelector:l,nodeType:r,clickDom:o})}for(var d=n,h=!1,m="",g=[];d&&d.parentNode&&d.parentNode!==document.body;){var y=d=d.parentNode,b=v(d);if(b["data-aspm"]){h=!0,m='[data-aspm="'.concat(b["data-aspm"],'"]');break}g.unshift(y)}if(h)return ee(e,{block:d,blockSelector:m},{node:n,nodeSelector:c,nodeType:r,clickDom:o});for(;d=g.pop();)if(d["data-block-selector"]){var w=d["data-block-selector"],x=H(w,d);if(!x)continue;return ee(e,{block:x,blockSelector:w},{node:n,nodeSelector:c||p(n,x),clickDom:o})}var S=te(e),_=D(J([document.body])),I=ne(_,S);return I?ee(e,{block:I,blockSelector:p(I)},{node:n,nodeSelector:c||p(n,I),clickDom:o}):null}var oe=n(1),ie=r(n(3)),ae=o,ce=i,se=a(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n}),ue=["data-node-selector","data-block-selector"];window._getSelector=p;for(var le=16,fe=le*le,de=[400,400],pe=["deer-analysis-render-container","mocha"],he=[200,50],me=5,ve=100,ge=["svg","i","p","iframe","pre"],ye=["label","input","button","img","iframe"],be=["ul","header","section","article","aside"],we="`",xe=">",Se=["div","span","a","p","button","ul","li","ol","img","h1","h2","h3","h4","h5","h6","form"],_e={},Ie=0;Ie<Se.length;Ie++)_e[Se[Ie]]=Ie;window.getNodeText=I,window.getFirstNodeText=_,window.getBlockTitle=k,window.possibleHeadedBlock=L;var ke=N,Oe=U,Te={},Ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,n=arguments.length>1?arguments[1]:void 0;ke(this,e),this.dom=document.body,this.children=[],this.selector="",this.lastExposingTime=0,this.exposedTime=0,this.exposedCnt=0,this.title="",this.type="",this.dom=t,this.type=n,this.title=k(t),this.expo()}return Oe(e,[{key:"visible",value:function(){return!T(this.dom)&&W(this.dom)}},{key:"expo",value:function(){if(!this.empty())return[].concat(this.children.filter(function(e){return e.expo()}));var e=this.dom;return this.visible()?(this.exposed(),[e]):(this.unexposed(),[])}},{key:"getExposed",value:function(e){return q(this,e)}},{key:"exposed",value:function(){return this.lastExposingTime?this.exposedTime+=Date.now()-this.lastExposingTime:this.exposedCnt++,this.lastExposingTime=Date.now(),this.exposedTime}},{key:"unexposed",value:function(){return this.lastExposingTime&&(this.exposedTime+=Date.now()-this.lastExposingTime),this.lastExposingTime=0,this.exposedTime}},{key:"empty",value:function(){return!this.children.length}},{key:"update",value:function(e){var t=this;e.forEach(function(e){return t.insert(e.node,e.type)}),D(e,!1)}},{key:"contains",value:function(e){return this.dom!==e&&this.dom.contains(e)}},{key:"insert",value:function(t,n){var r=this;this.children=this.children.filter(function(e){var t=e.dom;return r.contains(t)});var o=this.children.find(function(e){return e.dom===t});if(!o){var i=this.children.find(function(e){return e.contains(t)});i?i.insert(t,n):this.children.push(new e(t,n))}}}]),e}(),Pe=oe.addEvent,je=oe.debounce,Ce=oe.storage,Ae=oe.getAttr;window._pickLayout=J;var Le=function(){function e(t){var n=this;ke(this,e),this.layout={},this.expoTree=null,this.restore=function(){var e=n.tracert,t=Ce.get("exposed",{},!0);if(t){var r=t.split("|"),o=r[0],i=r[1];try{var a=decodeURIComponent(o),c=G(JSON.parse(i));a===n.tracert.refUrl&&e.after("start",function(){e.call("expo","deer_expo","",{expo:c})})}catch(e){}}},this.log=function(){n.cacheLayout(),n.expoTree.empty()||(n.expoTree.expo(),Ce.set("exposed","".concat(encodeURIComponent(location.href),"|").concat(JSON.stringify(q(n.expoTree)))))},this.tracert=t,this.restore(),this.expoTree=V(),this.log(),this.events()}return Oe(e,[{key:"events",value:function(){var e=this;Pe("scroll",window,je(function(){return e.log()},200)),Pe("unload",window,function(){e.expoTree.expo();var t=q(e.expoTree);Ce.set("exposed","".concat(encodeURIComponent(location.href),"|").concat(JSON.stringify(t)))}),this.tracert.before("logPv",function(){e.expoTree.expo();var t=q(e.expoTree);Ce.set("exposed","".concat(encodeURIComponent(location.href),"|").concat(JSON.stringify(t))),z(),e.expoTree=V(),e.cacheLayout()})}},{key:"cacheLayout",value:function(){var e=[document.body],t=J(e);return this.expoTree.update(t),this.layout}},{key:"get",value:function(){return this.layout}}]),e}(),Be=oe.strToObj;window.isList=f;var Ne=.5*document.body.scrollWidth,Me=0,Ue=1,Re=2,De=3,He=4,ze=5;window.possibleBlock=Z;var Fe=oe.url,We="https://render.alipay.com/p/s/deer-analysis-render/index.js?_t=".concat(Date.now()),qe="https://render.alipay.com/p/s/deer-analysis-render/index.css?_t=".concat(Date.now()),Ve=function(e){if(!e)return{};var t=e.split("&");if(!t.length)return{};for(var n={},r=0;r<t.length;r++){var o=t[r]||"",i=o.split("=");n[i[0]]=i[1]||""}return n},Ke=function(){oe.load(function(){var e=Fe.parse(location.href),t=e.query,n=Ve(t),r=n.deer_tracert_token||ie.getItem("deer_tracert_token");if(r){var o=document.createElement("script");o.type="text/javascript",o.src="".concat(We),document.getElementsByTagName("HEAD").item(0).appendChild(o);var i=document.createElement("link");i.href=qe,i.rel="stylesheet",i.type="text/css",document.getElementsByTagName("HEAD").item(0).appendChild(i)}})},Je=oe.addEvent,Ge=function(e,t){function n(n){r||(r=new Le(e,{layout:n}),e.set({_expo:r}),Ke(),t())}var r,o=e;return window.getComputedStyle?(e._layout?n(e._layout):e.before("set",function(e){e.hasOwnProperty("_layout")?n(e._layout):t()}),Je("click",document.body,function(e){var t=re(e.target);if(t){var n=t.node,r=t.nodeText,i=t.nodeId,a=t.block,c=t.blockTitle,s=t.blockId,u=t.extraParams;n&&a&&o.after("start",function(){o.call("click","".concat(b(a),".").concat(b(n)),ce({nodeText:r,nodeId:i,blockTitle:c,blockId:s},u))})}}),o):(t(),o)};e.exports=Ge},function(e,t,n){"use strict";function r(){var e=c.get(f)||s();return c.set(f,e,{expires:new Date((new Date).getTime()+l),cookie:!0}),e}function o(e){var t=document.domain&&document.domain.indexOf(u)!==-1,n=t?u:null,r={domain:n,cookie:!0,expires:new Date((new Date).getTime()+l)},o=function(e,t,n){var o=[e,t,n].join("\x01");return c.set(d,o,r),{_trid:t,_trll:n}},i=s(),a=1;if(!e)return{};var f=c.get(d,r,!0);if(!f)return o(e,i,a);var p=f.split("\x01"),h=p[0],m=p[1],v=p[2];if(h!==e)return o(h,i,a);var g=parseInt(v,10)+1;return o(h,m,g)}var i=n(1),a=i.cookiesPrefix,c=i.Cookies,s=i.uuid,u=".alipay.com",l=18e5,f="".concat(a,"_SESSION"),d="tree",p=i.objectAssign,h=function(e,t){var n=e;return r(),n.before("logPv",function(e){var t=o(n.spmAPos),i=r();e.__sid=i,p(e,t)}),t(),n};e.exports=h},function(e,t,n){"use strict";function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var c=n(1),s=r(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n}),u=o,l=a,f=c.addEvent,d=c.storage,p=c.nodeListToArray,h=c.getAttr,m=c.url,v=".alipay.com",g=function(){function e(t){var n=this;u(this,e),this.tracert=t,this.isAlipayDomain=document.domain&&document.domain.indexOf(v)!==-1,this.cookiesDomain=this.isAlipayDomain?v:null,this.tracert.before("logPv",function(e){e=e||{};var t=n.get(),r=n.getMetaSpmId();if(r&&(e._spmId=r),t&&t.metaSpmId&&(e._refSpm=t.metaSpmId,n.tracert.set({_refSpm:e._refSpm})),n.tracert.refUrl&&"-"!==n.tracert.refUrl){var o={},i={};try{if(o=m.parse(n.tracert.url),i=m.parse(n.tracert.refUrl),o.host===i.host)return void n.tracert.set({referSPM:"".concat(n.tracert.spmAPos,".").concat(n.tracert.spmBPos)})}catch(e){}t&&(n.tracert.set({refUrl:t.fullUrl}),n.tracert.referSPM||n.tracert.set({referSPM:t.refSpm}))}}),f("click",window.document.body,function(e){n.cache(e.target)})}return l(e,[{key:"getMetaSpmId",value:function(){for(var e=p(window.document.getElementsByTagName("meta")),t="",n=0;n<e.length;n++){var r=e[n],o=h(r,"name"),i=h(r,"content");if(i&&o)switch(o){case"pagename":t=i}}return t?"".concat(this.tracert.spmAPos,".").concat(encodeURIComponent(t)):t}},{key:"cache",value:function(){var e=this.tracert.fullURL||"";e.length>150&&(e=this.tracert.url);var t=[e,"".concat(this.tracert.spmAPos,".").concat(this.tracert.spmBPos),this.getMetaSpmId()];d.set("fullfill_ref",t.join("\x01"),{domain:this.cookiesDomain,cookie:!0})}},{key:"get",value:function(){var e=d.get("fullfill_ref",{domain:this.cookiesDomain},!0);if(!e)return null;var t=e.split("\x01"),n=t[0],r=t[1],o=t[2],i=m.parse(this.tracert.refUrl),a=m.parse(n);return"object"!==s(i)||"object"!==s(a)?null:i.host===a.host?{fullUrl:n,refSpm:r,metaSpmId:o}:null}}]),e}(),y=function(e,t){var n=e,r=new g(n);return n.set({fullfillRef:r}),t(),n};e.exports=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){return e.length>w?e.substr(0,w):e}function c(e){return e===document.body?"body":e.className?".".concat(a(e.className)):a(e.nodeName.toLowerCase())}function s(e){e=e||[];for(var t,n=0;n<e.length;n++){var r=e[n];r.isLeaf||r.children&&!(r=s(r.children))||(!t||t.area<r.area)&&(t=r)}return t}function u(e){var t=e.offsetWidth,n=e.offsetHeight,r=Math.min(t,n),o=Math.max(t,n);return"none"!==e.style.display&&r>=20&&o>=200&&e.children&&e.children.length>0}function l(e){e=e||[];for(var t=[],n=0;n<e.length;n++)u(e[n])&&t.push(e[n]);return t}function f(e){for(var t=e.node;;){var n=l(t.children),r=n.length;if(r>1)return n.map(function(e){return{node:e,area:e.offsetWidth*e.offsetHeight}});if(1!==r)return null;t=n[0]}}function d(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=document.body,n=[{node:t,area:t.offsetWidth*t.offsetHeight}],r=1;;){var o=s(n);if(!o)break;var i=f(o);if(i?r-1+i.length>e?(o.children=i.splice(0,e-r+1),r=e):(o.children=i,r+=i.length-1):o.isLeaf=!0,r>=e)break}return n}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t||[];return e.forEach(function(e){var t="".concat(n,"\x01").concat(c(e.node));r.push(t),e&&e.children&&p(e.children,r,n+1)}),t?null:r.join("\x02")}var h=n(1),m=r,v=i,g=h.addEvent,y=h.storage,b=7,w=30,x=function(){function e(t){var n=this;m(this,e),this.tracert=t,t.before("logPv",function(e){var t=n.get();t&&(e._layout=t)}),this.cache(),g("click",document.body,function(){n.cache()}),g("unload",window,function(){n.cache()})}return v(e,[{key:"getLayout",value:function(){return d(1/0)}},{key:"cache",value:function(){if(!this.cached){var e=d();y.set("layout","".concat(location.href,"|").concat(p(e))),this.cached=!0}}},{key:"get",value:function(){this.cached=void 0;var e=y.get("layout",{},!0);if(!e)return null;var t=e.split("|"),n=t[0],r=t[1];return n===this.tracert.refUrl?r:null}}]),e}(),S=h.addEvent,_=h.storage,I=function(){function e(t){var n=this;m(this,e),this.tracert=t,this.tracert.before("logPv",function(e){var t=n.get();t&&(e._clickReferer=t)}),S("click",document.body,function(e){n.cache(e.target)})}return v(e,[{key:"cache",value:function(e){var t=this.getText(e),n=this.getSectionHead(e),r="";n&&(r=this.getSectionTitle(n)),_.set("clickReferer","".concat(location.href,"\x01").concat(this.format(t),"\x01").concat(this.format(r)))}},{key:"get",value:function(){var e=_.get("clickReferer",{},!0);if(!e)return null;var t=e.split("\x01"),n=t[0],r=t[1],o=t[2];return n===this.tracert.refUrl?"".concat(r,"\x01").concat(o):null}},{key:"getSectionTitle",value:function(e){for(;e&&e.children&&e.children.length;)e=[].slice.call(e.children).sort(function(e,t){return e.offsetWidth<24?1:e.offsetLeft-t.offsetLeft})[0];return this.getText(e)}},{key:"getSectionHead",value:function(e){for(;e.parentNode;){var t=e,n=e=e.parentNode,r=n.offsetWidth;if(!(r<200||r>=document.body.offsetWidth)){var o=n.children;if(o&&o.length){var i=o.length;if(!(i<2||i>3)&&o[0]!==t){var a=o[0],c=a.offsetWidth,s=a.offsetHeight;if(!(c<200||c<.9*r||s<14||s>60))return a}}}}return null}},{key:"getText",value:function(e){if(this.isTooManyChildren(e,3))return"";var t=e.innerText;if(!t){var n=e.parentNode;this.isTooManyChildren(n,3)||(t=n.innerText)}return t}},{key:"format",value:function(e){if(!e)return"";var t=e.length;return t>20?"...".concat(e.substr(t-20)):e}},{key:"isTooManyChildren",value:function(e,t){var n=0,r=function(e){var o=e.children;if(o){var i=o.length;if(n+=i,!(n>t)&&i)for(var a=0;a<i;a++)if(r(o[a]),n>t)return}};return r(e),n>t}}]),e}(),k=function(e,t){var n=e,r=new x(n),o=new I(n);return n.set({_layout:r,clickReferer:o}),t(),n};e.exports=k},function(e,t,n){"use strict";var r=n(1),o=function(e,t){var n=e;return r.load(function(){n.before("logPv",function(e){var t=r.getMetaPageName()||r.getMetaPageName("pagerouter");t&&(e._spmId="".concat(n.spmAPos,".").concat(encodeURIComponent(t)))}),n.before("send",function(e){var t=r.getMetaPageName()||r.getMetaPageName("pagerouter");t&&(e._spmId="".concat(n.spmAPos,".").concat(encodeURIComponent(t)))}),n.before("click",function(e){var t=e.spmId,o=e.extra,i=n._refSpm,a=r.getMetaPageName()||r.getMetaPageName("pagerouter");a&&(o._spmId="".concat(n.spmAPos,".").concat(encodeURIComponent(a),".").concat(t)),i&&(o._refSpm=i)}),n.before("expo",function(e){var t=e.spmId,o=e.extra,i=r.getMetaPageName()||r.getMetaPageName("pagerouter"),a=n._refSpm;i&&(o._spmId="".concat(n.spmAPos,".").concat(encodeURIComponent(i),".").concat(t)),a&&(o._refSpm=a)}),t()}),n};e.exports=o},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){g(e,t,n[t])})}return e}function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}function c(e,t){if("object"!==b(e)||"function"!=typeof e.getEntriesByType)return[];var n=[],r=e.getEntriesByType("navigation");if(!r||0===r.length)return[];var o=r[0],i=x(e),a={firstMeaningfulPaint:t};return w.forEach(function(e){var t=o[e]||i[e]||a[e];null==t||"number"==typeof t&&isNaN(t)?n.push("-"):n.push("number"==typeof t?parseFloat(t.toFixed(2)):t)}),n}function s(e){return S.reduce(function(t,n,r){var o=S[r-1]||0,i={name:"imageSizeGroup".concat(r,"Count"),field:"img_".concat(r),val:e.filter(function(e){return e.encodedBodySize<n&&e.encodedBodySize>o}).length};return t.concat(i)},[]).concat({name:"imageSizeGroup".concat(_,"Count"),field:"img_".concat(_),val:e.filter(function(e){return e.encodedBodySize>S[S.length-1]}).length})}function u(e,t){if("object"!==b(e))return[];var n=e.getEntriesByType("resource").filter(function(e){return e.startTime&&e.startTime<t});if(0===n.length)return[];var r=n.filter(I),o=n.filter(k),i=n.filter(E),a=n.filter(j),c=n.filter(P),u=[{name:"resourceCount",field:"rcnt",val:n.length},{name:"resourceSize",field:"rsize",val:B(n)},{name:"jsCount",field:"jscnt",val:r.length},{name:"jsSize",field:"jssize",val:B(r)},{name:"cssCount",field:"csscnt",val:o.length},{name:"cssSize",field:"csssize",val:B(o)},{name:"imageCount",field:"imgcnt",val:i.length},{name:"imageSize",field:"imgsize",val:B(i)},{name:"fontCount",field:"fontcnt",val:a.length},{name:"fontSize",field:"fontsize",val:B(a)},{name:"iframeCount",field:"iframecnt",val:c.length},{name:"iframeSize",field:"iframesize",val:B(c)},{name:"Http2EnabledCount",field:"h2cnt",val:n.filter(O).length},{name:"compressedResourceCount",field:"crcnt",val:n.filter(C).length},{name:"cachedResourceCount",field:"carcnt",val:n.filter(A).length},{name:"serviceWorkerResourceCount",field:"swrcnt",val:n.filter(L).length}];return{
metrics:u,imageGroupMetrics:s(i)}}function l(e,t){if("object"!==b(e))return[];var n=e.getEntriesByType("resource").filter(function(e){return["xmlhttprequest","fetch"].indexOf(e.initiatorType)>-1&&e.startTime<=t});return n.map(function(e){return[e.name.split("?")[0],e.startTime,e.transferSize,Math.round(e.responseStart-e.startTime),e.duration]})}function f(e,t){var n={pid:"tracert",msg:e.message,code:t,page:location.href,c1:(e.stack||"").slice(0,500),c2:(e.stack||"").slice(500,1e3),c3:(e.stack||"").slice(1e3,1500)},r=new Image;r.src="//gm.mmstat.com/fsp.1.1?".concat(h.objToStr(n,"&"))}function d(e,t){if("object"===b(t)&&!e.metricsSent)try{var n=t.getEntriesByType("navigation")[0],r=c(t,N),o=u(t,n.duration),i=l(t,n.duration);e.send("perf",y({nav:r.join("_")},(o.metrics||[]).reduce(function(e,t){return y({},e,g({},t.field,Math.round(t.val)))},{}),{img_group:(o.imageGroupMetrics||[]).map(function(e){return e.val}).join("_"),network:navigator.connection&&navigator.connection.effectiveType||"-",partial:0===n.duration?1:0,ajax:i.map(function(e){return e.join("-")}).join("_"),title:document.title})),e.metricsSent=!0}catch(e){f(e,12)}}function p(e){if("object"!==b(m))return e;try{v(function(e){N=e}),"function"==typeof m.setResourceTimingBufferSize&&m.setResourceTimingBufferSize(M);var t=navigator.userAgent,n=!!t.match(/iPhone|iPad|iPod/i),r=n?"pagehide":"beforeunload";window.addEventListener(r,d.bind(null,e,m))}catch(e){f(e,11)}return e}var h=n(1),m=r(n(4)),v=r(n(21)),g=o,y=i,b=a(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n}),w=["connectEnd","connectStart","decodedBodySize","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domainLookupEnd","domainLookupStart","duration","encodedBodySize","fetchStart","loadEventEnd","loadEventStart","redirectCount","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","transferSize","type","unloadEventEnd","unloadEventStart","workerStart","firstPaint","firstContentfulPaint","firstMeaningfulPaint"],x=function(e){if("object"!==b(e))return[];var t=e.getEntriesByType("paint"),n={};if(t.length){var r=(t.filter(function(e){return"first-paint"===e.name})[0]||{}).startTime,o=(t.filter(function(e){return"first-contentful-paint"===e.name})[0]||{}).startTime;n.firstPaint=parseFloat(r),n.firstContentfulPaint=parseFloat(o)}return n},S=[10240,51200,102400,204800,512e3],_=S.length+1,I=function(e){return"script"===e.initiatorType&&e.name.indexOf(".js")>-1},k=function(e){return"link"===e.initiatorType&&e.name.indexOf(".css")>-1},O=function(e){return"h2"===e.nextHopProtocol},T=function(e){return/^.*font.*\.svg(\?|$|#)/.test(e.name)},E=function(e){return"img"===e.initiatorType||/\.(jpg|jpeg|png|bmp|webp|svg|ico)(\?|$|#)/.test(e.name)&&!T(e)},P=function(e){return"iframe"===e.initiatorType},j=function(e){return"css"===e.initiatorType&&(/\.(ttf|eot|woff)(\?|$|#)/.test(e.name)||T(e))},C=function(e){return e.encodedBodySize<e.decodedBodySize},A=function(e){return e.encodedBodySize>e.transferSize},L=function(e){return e.workerStart},B=function(e){return e.reduce(function(e,t){return e+t.encodedBodySize},0)},N=null,M=500,U=function(e,t){return p(e),t(),e};e.exports=U},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e){return e.length<=20?e:"".concat(e.substring(0,10)).concat(e.substring(e.length-10),"|").concat(e.length-20)}var c=n(1),s=r,u=i,l=c.addEvent,f=c.storage,d=function(){function e(t){var n=this;s(this,e),this.pause=function(e){e.target===window&&(n.paused=!0,n._time_consumed+=Date.now()-n._start_timestamp)},this.resume=function(){n.paused&&(n._start_timestamp=Date.now())},this.cache=function(){var e=location.href,t=n.gettimeConsuming();f.set("residual","".concat(encodeURIComponent(e),"|").concat(t))},this._tracert_inst=t,this.paused=!1,this.start(),this.bindEventListeners()}return u(e,[{key:"start",value:function(){this._start_timestamp=Date.now(),this._time_consumed=0,this.lastClickEle=null,this.lastClickText=""}},{key:"bindEventListeners",value:function(){l("blur",window,this.pause),l("focus",window,this.resume),l("beforeunload",window,this.cache)}},{key:"gettimeConsuming",value:function(){return this.paused?this._time_consumed:this._time_consumed+(Date.now()-this._start_timestamp)}},{key:"getTime",value:function(){var e=f.get("residual",{},!0);if(!e)return null;var t=e.split("|"),n=t[0],r=t[1];try{if(decodeURIComponent(n)===this._tracert_inst.refUrl)return r}catch(e){return null}return null}}]),e}(),p=function(e,t){var n=e;n.before("logPv",function(e){var t=n.timeConsuming.getTime();t&&(e._consume=t),e._title=a(document.title),n.timeConsuming.cache(),n.timeConsuming.start()});var r=new d(n);return n.set({timeConsuming:r}),t(),n};e.exports=p},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}var c=r(n(5)),s=n(1),u=r(n(3)),l=o,f=i,d=a(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n}),p="TRACERT_REF_",h={_guid:function(){return s.uuid()},_initSessionId:function(e){var t=window.sessionStorage,n=e.sessionIdKey;t||(t={}),t[n]||(t[n]="".concat(this._guid(),"_").concat(Date.now())),e.set({sessionId:t[n]})},_initClientId:function(e){var t=window.localStorage,n=e.sessionIdKey;t&&(t[n]||(t[n]="".concat(this._guid(),"_").concat(Date.now())),e.set({clientId:t[n]}))},_initPageId:function(e){if(!e.get("pageId")){var t="".concat(e.spmAPos,".").concat(e.spmBPos,"_").concat(this._guid(),"_").concat(Date.now());e.set({pageId:t})}},_initChInfo:function(e){if(!e.chInfo){var t=s.getValue("chInfo")||s.getValue("chinfo");t&&e.set({chInfo:t})}},_initFromUrlOrStorage:function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=s.getValue(r)||u.getItem("".concat(p).concat(r));if(o){var i={};i[r]=o,e.set(i)}}},_initRefs:function(e){var t=["srcSpm","referPageId","dtLogMonitor","referSPM"];this._initFromUrlOrStorage(e,t);var n=e.get("srcSpm"),r=e.get("referPageId");n&&r&&e.set({ref:"".concat(n,"|").concat(r)}),e.ignoreNameStorage||(u.setItem("".concat(p,"referPageId"),e.get("pageId")),u.setItem("".concat(p,"dtLogMonitor"),e.get("dtLogMonitor")),window.onunload=function(){var t=e.spmAPos&&e.spmBPos?[e.spmAPos,e.spmBPos].join("."):"";t&&u.setItem("".concat(p,"referSPM"),t),n=e.get("lastClkSpm"),n&&u.setItem("".concat(p,"srcSpm"),n)})},_formatParam:function(e,t){var n=t||{},r=e.spmAPos,o=e.spmBPos,i=n.spmId||"",a=i.split("."),c=a.length,u={version:e.version,mBizScenario:e.bizScenario,mPageState:e.state,role_id:e.roleId||e.role_id,fullURL:e.fullURL||location.href,ref:e.refUrl,clientID:e.clientId};if(e.chInfo&&(u.chInfo=e.chInfo),e.dtLogMonitor&&(u.dtLogMonitor=e.dtLogMonitor),r&&o){if(t.seedId!==e.seedIdCfg.pageSeedId)switch(c){case 1:if(""===i){delete n.spmId;break}n.spmId=[r,o,i].join(".");break;case 2:n.spmId=[r,o,i].join(".");break;case 3:break;case 4:break;default:n.param2=i,delete n.spmId}}else delete n.spmId;return!n.param2&&n.spmId&&(n.param2=n.spmId),n.param4?s.objectAssign(n.param4,u):n.param4=u,n.param4=f({},e.mdata,n.param4),n}},m={server:"https://mdap.alipay.com/loggw/dwcookieLogGet.do",seedIdCfg:{pageSeedId:"pageMonitor",clkSeedId:"clicked",calcSeedId:"calc",expoSeedId:"exposure",syslogSeedId:"syslog"},refUrl:document.referrer||"-",clientIdKey:"tracert-client-key",init:function(){this._calledInited||(h._initSessionId(this),h._initClientId(this),h._initPageId(this),h._initChInfo(this),h._initRefs(this),this._calledInited=!0)},get:function(e){if("pageId"===e&&!this[e]){if(window._tracert_loader_cfg=window._tracert_loader_cfg||{},window._tracert_loader_cfg.pageId)return this.set({pageId:window._tracert_loader_cfg.pageId}),window._tracert_loader_cfg.pageId;var t=s.getMetaSpm();t.spmBPos=s.getSpmBPos();var n=t.spmAPos,r=t.spmBPos,o=n&&r?"".concat(n,".").concat(r,"_").concat(h._guid(),"_").concat(Date.now()):"-_".concat(h._guid(),"_").concat(Date.now());return window._tracert_loader_cfg.pageId=o,this.set({pageId:o}),o}return this[e]},_logPv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.getValue("cityId"),n=this.spmAPos&&this.spmBPos?[this.spmAPos,this.spmBPos].join("."):"",r={seedId:this.seedIdCfg.pageSeedId,actionId:this.seedIdCfg.pageSeedId,spmId:n,param1:this.url,param2:"",param3:"",param4:f({cityid:t},e)};this.call("remoteLog",r)},sendExpose:function(){var e=this,t=setInterval(function(){if(e.cacheExObjArr.length-1>=e._wap_exObjIndex){var n=e._packFinalData(e.cacheExObjArr[e._wap_exObjIndex]);e._send(n),e._wap_exObjIndex++}else clearTimeout(t)},this._wap_intervalEx)},sendMergeExpose:function(){var e=this;this._expoMergeItvObj||(this._expoMergeItvObj=setInterval(function(){if(e.fmtedExObjArr.length-1>=e._wap_mgObjIndex){var t=e.cacheMrExObjArr[e._wap_mgObjIndex];if(t&&t.length&&t.length-1>=e._wap_mgTdObjIndex){var n=e._packFinalData(t[e._wap_mgTdObjIndex]);e._send(n),e._wap_mgTdObjIndex++}else t&&t.length&&(e._wap_mgTdObjIndex=0,e.mgObjIndex++);var r=e._packFinalData(e.fmtedExObjArr[e._wap_mgObjIndex]);e._send(r),e._wap_mgObjIndex++}else clearTimeout(e._expoMergeItvObj),e._expoMergeItvObj=null},this._wap_interval))},remoteLog:function(e){this.init();var t=this,n=h._formatParam(this,e);if("mergeExpose"===n.actionId&&n.spmId&&3===n.spmId.split(".").length&&n.param4)return this._wap_timer&&clearTimeout(this._wap_timer),this.fmtedExOptions=s.addMexOption(this.fmtedExOptions,s.objectAssign({},n)),this.fmtedExObj=s.addToExObj(this.fmtedExObj,s.objectAssign({},n)),this.fmtedExObjArr=s.formatExObj(this.fmtedExObj,this.fmtedExOptions),void(this._wap_timer=setTimeout(function(){t.cacheMrExObjArr.push(t.fmtedExObjArr),t.fmtedExObj={},t.fmtedExObjArr=[],t.sendMergeExpose()},this._wap_interval));if("exposure"===n.actionId&&n.spmId&&3===n.spmId.split(".").length)return this._wap_timerEx&&clearTimeout(this._wap_timerEx),this.cacheExObjArr.push(n),void(this._wap_timerEx=setTimeout(function(){t.sendExpose()},this._wap_intervalEx));var r=this._packFinalData(n);this._send(r)},_packFinalData:function(e){if("function"==typeof this._beforePackFinalData&&this._beforePackFinalData(e),"object"===d(e.param4)){var t=e.param4;for(var n in t)if(t.hasOwnProperty(n)&&"string"==typeof t[n]){var r=t[n].replace(/,/g,"%2C").replace(/\s+/g," ");t[n]="fullURL"===n&&r.length>300?r.slice(0,300):r}}"clicked"===e.actionId&&this.set({lastClkSpm:e.spmId});for(var o=this.refSpm||this.referSPM||"",i=["DW-COOKIE",this.sessionId||"",this.role_id||this.roleId||this.backupUserId||(e.param4&&"3"===e.param4.__ut?this.bucUserId:"")||"",e.actionId||"",e.spmId||e.seedId||"",o||"",this.url&&this.url.length>300?this.url.slice(0,300):this.url||"",this.ref||"".concat(o),"object"===d(e.param4)?s.objToStr(e.param4):e.param4,this.chInfo||"",this.platformType||"",this.pageId||"",navigator.userAgent?navigator.userAgent.replace(/,/g,"%2C"):"","na"===c.os.name?"PC":"H5","".concat(c.app.name,"/").concat(c.app.version,"|").concat(c.browser.name,"/").concat(c.browser.fullVersion,"|").concat(c.os.name,"/").concat(c.os.fullVersion),this.srcSpm||"",this.referPageId||"",this.bizType||"","",window.innerWidth||"",window.innerHeight||"",window.devicePixelRatio||"","object"===d(this.sysInfo)?s.objToStr(this.sysInfo):"",this.darwinExpId||""],a=0;a<i.length;a++)"string"==typeof i[a]&&(i[a]=i[a].replace(/,/g,"%2C"));return i},_send:function(e){var t=window.encodeURIComponent;if(this.debug&&console.log(e),!this.server)return void console.warn("\u8bf7\u914d\u7f6eTracert\u670d\u52a1\u63a5\u6536\u5730\u5740");var n=new Image;n.src="".concat(this.server,"?data=").concat(t(e.join()),"&time=").concat((new Date).getTime())},send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clicked",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this._runBeforeFns("send",t);var r=this._packFinalData({spmId:n||"".concat(this.spmAPos,".").concat(this.spmBPos),actionId:e,param4:t});this._send(r)}},v=function(e,t){var n=e;return n.set(f({},m)),n.call("init"),t(),n};e.exports=v},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=r(n(18)),i=n(1),a={eventType:"click",fullURL:location.href,_beforePackFinalData:function(e){var t=e||{};t.param4=t.param4||{};var n=e.param4;for(var r in n)n.hasOwnProperty(r)&&"string"==typeof n[r]&&(n[r]=n[r].replace(/,/g,"%2C"));this.platformType&&(t.param4.mPlatformType=this.platformType),this.bucUserId&&(t.param4.__BUC_ID=this.bucUserId);var o=this.userType;if(!o)switch(o="3",this.spmAPos){case"a385":o="2";break;case"a369":o="2";break;case"a316":o="1"}t.param4.__ut=o,delete t.param4.mBizScenario,delete t.param4.mPageState,delete t.param4.cityid}},c=i.objectAssign,s=function(e,t){var n=e;return o(n,function(){c(n,a),t()}),n};e.exports=s},function(e,t){function n(e){return Math.pow(.5,e)}e.exports=function(e){var t=e.records,r=e.start,o=e.timeout,i=e.load;if(0===t.length)return"number"==typeof o?o:0;"number"==typeof i&&t.forEach(function(e){var t=e.t,r=Math.abs(parseFloat(t)-i);e.weight=n(r/1e3)});var a=t.map(function(e,n){if(0===n)return 0;var r=t[n-1];return e.domCnt===r.domCnt?0:(e.domCnt-r.domCnt)/(e.t-r.t)*("number"==typeof e.weight?e.weight:1)}),c=Math.max.apply(null,a),s=a.indexOf(c);return t[s].t-r}},function(e,t,n){function r(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():Date.now()}var o=n(4),i=n(20),a="number"==typeof __PAINTY_STACK_LIMIT__?__PAINTY_STACK_LIMIT__:100;e.exports=function(e,t){function n(){if("function"==typeof MutationObserver){var e=new MutationObserver(function(){s.push({t:r(),domCnt:document.getElementsByTagName("*").length}),s.length===a&&c()});return e.observe(document,{childList:!0,subtree:!0}),e.disconnect.bind(e)}var t=setTimeout(function(){s.push({t:r(),domCnt:document.getElementsByTagName("*").length}),s.length===a?c():n()},200);return function(){clearTimeout(t)}}function c(){if(u(),"object"==typeof o&&"function"==typeof o.getEntriesByType){var n=o.getEntriesByType("navigation");if(n&&n.length){var r=n[0],a=r.startTime;t(i({records:s,start:a,timeout:e,load:r.duration}))}}}if("object"==typeof window&&"object"==typeof o){"function"==typeof e&&(t=e);var s=[],u=n();if("number"==typeof e)setTimeout(c,e);else{var l=navigator.userAgent,f=!!l.match(/iPhone|iPad|iPod/i),d=f?"pagehide":"beforeunload";window.addEventListener(d,c)}}}}]);