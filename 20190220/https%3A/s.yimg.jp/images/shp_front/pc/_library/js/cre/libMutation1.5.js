!function(t){"use strict";function n(){var n,e,a,d,s=0,f=0,l=document.body;for(n in i)e=i[n],a=e.$target,d=a.data(o),f++,!e.resolve&&t.contains(l,a.get(0))||(e.resolve=!0,s++,"undefined"!=typeof d&&(null!==d.observer?d.observer.disconnect():a.off(r)));null!==u&&s===f&&(clearInterval(u),u=null)}function e(t,n){return 0!==t.length&&(!n||"undefined"!=typeof t.data(o))}function a(){if(!(!s||s&&d||t("style[data-"+o+'-parts="css"]').length>0)){var n="";n+="\n",n+="@-webkit-keyframes "+o+"{\n",n+="0% {",n+="max-height:100000px;\n",n+="background:rgba(0,0,0,0);\n",n+="}\n",n+="}\n",n+="@keyframes "+o+"{\n",n+="0% {",n+="max-height:100000px;\n",n+="background:rgba(0,0,0,0);\n",n+="}\n",n+="}\n",n+="[data-"+o+"]:not([data-"+o+'=""]),\n',n+="[data-"+o.toLowerCase()+"]:not([data-"+o.toLowerCase()+'=""]){\n',n+="-webkit-animation:"+o+" 0.001s 1;\n",n+="animation:"+o+" 0.001s 1;\n",n+="}\n",t("<style data-"+o+'-parts="css">'+n+"</style>").appendTo(t("body"))}}var i,o="libMutation",r="animationstart."+o+" webkitAnimationStart."+o,d=function(){return"MutationObserver"in window}(),s=function(){if(d)return!1;var t=navigator.userAgent.toLowerCase(),n=document.body.style,e=t.split("/").reverse()[0];return!(t.match("android")&&e<534)&&(!t.match("trident")&&("animation"in n||"webkitAnimation"in n))}(),u=null,f=250,l=t(window),p=0;l.data(o,{}),i=l.data(o),a();var c={initialize:function(n){return this.each(function(){var e=t(this),a={};"undefined"==typeof e.data(o)&&(e.data(o,t.extend(!0,{index:p,observer:null,temporary:[],done:[]},n)),p++,a=e.data(o),"undefined"==typeof i[a.index]&&(i[a.index]={mutationFunction:{},resolve:!1,$target:e}),"undefined"==typeof e.attr("data-"+o+"-last")&&e.attr("data-"+o+"-last",""),""===e.attr("data-"+o)&&e.attr("data-"+o+"-last","ready"))})},setTimerEvent:function(){var n=function(){var n,e=[];for(n in i)i[n].resolve||e.push(i[n].$target);t(e).each(function(){var n=t(this);""!==n.attr("data-"+o)&&c.trigger.apply(n,[n.attr("data-"+o)])})};null===u&&(clearInterval(u),u=setInterval(n,f))},setAnimationEvent:function(){var n=t(this);n.off(r).on(r,function(t){t.originalEvent.animationName===o&&c.trigger.apply(n,[n.attr("data-"+o)])})},setMutationEvent:function(){var n=t(this),e=n.data(o),a={attributes:!0,attributeFilter:["data-"+o,"data-"+o.toLocaleLowerCase()]},i=function(){""!==n.attr("data-"+o)&&c.trigger.apply(n,[n.attr("data-"+o)])};null!==e.observer&&e.observer.disconnect(),e.observer=new MutationObserver(i),e.observer.observe(n.get(0),a)},trigger:function(){var n,e=t(this),a=e.data(o),r=a.index,d=i[r].mutationFunction,s=arguments[0].split(","),u=s.length,f=function(t){var n=e.attr("data-"+o).split(","),i=[],r=[];"undefined"!=typeof d[t]&&("function"==typeof d[t].handler&&d[t].handler.apply(e),a.done.push(t),"undefined"!=typeof d[t]&&d[t].one&&c.off.apply(e,[t])),a.temporary.push(t),n=n.sort(),i=a.done.sort(),r=a.temporary.sort(),n.join(",")===r.join(",")&&(e.attr("data-"+o,"").attr("data-"+o+"-last",i.join(",")),a.done=[],a.temporary=[])};for(n=0;n<u;n++)f(s[n])},one:function(){if(!e(t(this)),1){var n,a=arguments,r=a[0].split(","),d=r.length;return this.each(function(){var e,s=t(this);for(c.on.apply(s,a),e=s.data(o).index,n=0;n<d;n++)i[e].mutationFunction[r[n]].one=!0})}},on:function(){if(!e(t(this)),1){"undefined"==typeof t(this).data(o)&&c.initialize.apply(this);var n,a=arguments[0].split(","),r=arguments[1],u=arguments[2],f=a.length,l=function(t,n,e,a){var o,d=a.length;for(i[n].resolve=!1,i[n].mutationFunction[e]={handler:r,timeout:u,one:!1},o=0;o<d;o++)a[o]===e&&c.trigger.apply(t,[e])};return this.each(function(){var e=t(this),i=e.data(o).index,r=e.attr("data-"+o).split(",");for(d?c.setMutationEvent.apply(e):s?c.setAnimationEvent.apply(e):c.setTimerEvent.apply(e),n=0;n<f;n++)l(e,i,a[n],r);"number"==typeof u&&setTimeout(function(){c.off.apply(e,[a.join(",")])},u)})}},off:function(){if(!e(t(this)),1){var a,d="undefined"!=typeof arguments[0]?arguments[0].split(","):[],s=0===d.length,u=d.length,f=function(t,n,a,d){if(e(t,!0)){var s,u=t.data(o),f=0;if("undefined"!=typeof d[a]){delete d[a];for(s in d)f++;f>0||(i[n].resolve=!0,null!==u.observer?u.observer.disconnect():t.off(r))}}};return this.each(function(){var e=t(this),r=e.data(o),l=r.index,p=i[l].mutationFunction;if("undefined"!=typeof r){if(s){d=[];for(a in p)d.push(a);u=d.length}for(a=0;a<u;a++)f(e,l,d[a],p);n()}})}},updateMutation:function(){n()}};t.fn[o]=function(t){return c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:c.initialize.apply(this,arguments)}}(jQuery);