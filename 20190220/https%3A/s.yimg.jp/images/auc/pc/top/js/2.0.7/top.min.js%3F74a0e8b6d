/*
top.min.js
Copyright (C) 2018 Yahoo Japan Corporation. All Rights Reserved.
version 2.0.7
*/
"undefined"==typeof YAHOO&&(YAHOO={}),"undefined"==typeof YAHOO.JP&&(YAHOO.JP={}),"undefined"==typeof YAHOO.JP.auc&&(YAHOO.JP.auc={}),"undefined"==typeof YAHOO.JP.auc.cre&&(YAHOO.JP.auc.cre={}),YAHOO.JP.auc.cre.consoleIE=function(){"console"in window||(window.console={},window.console.log=function(){})}(),YAHOO.JP.auc.cre.BrowserCheck=function(){var t=window.navigator.userAgent.toLowerCase(),e=window.navigator.appVersion.toLowerCase();if(t.indexOf("msie")!=-1){if(e.indexOf("msie 6.")!=-1)return"IE6";if(e.indexOf("msie 7.")!=-1)return"IE7";e.indexOf("msie 8.")!=-1||e.indexOf("msie 9.")!=-1}else if(t.indexOf("chrome")!=-1);else{if(t.indexOf("safari")!=-1)return"safari";if(t.indexOf("firefox")!=-1)return"FF"}},function(){function t(){n=o>1173?Math.floor((o-c)/s):2}function e(){o=$(window).width(),prevColumn=n,t(),nextColumn=n,prevColumn!=nextColumn&&$(window).trigger("resizeAucTop")}var n,i=null,o=$(window).width(),r=203,a=340,s=203,c=r+a+35;t(),$(window).on("resize",function(){i&&clearTimeout(i),i=setTimeout(function(){e()},200)})}(),YAHOO.JP.auc.cre.ColumnUpdate=function(){function t(){r=Math.floor((n-u)/a),r<=2?o=950:(i=r*a,o=s+i+c),$("#yjContentsBody").css({width:o})}function e(){n=$(window).width(),n>1173?t():$("#yjContentsBody").css("width",950)}var n,i,o,r,a=203,s=203,c=340,u=s+c+35;$(window).on("resizeAucTop",function(){e()})}(),YAHOO.JP.auc.cre.FlexCard=function(){var t,e,n=203,i=2,o=10,r=($("#yjSub").width()>0?$("#yjSub").width():0,function(n){!n||$(n).size()<=0||(t=$(n),e=t.closest(".block"),s(),a())}),a=function(){$(window).on("resizeAucTop.FlexCard",function(){s()})},s=function(){var t=Math.floor(($("#block-wrapper").width()+15)/n)-0,r=e.attr("class").match(/row-[0-9]/gi)[0];t=t>o?o:t<i?i:t,e.removeClass(r).addClass("row-"+t),$(window).trigger("resizeAucTopFlexCard")};return{init:r}},YAHOO.JP.auc.cre.Carousel=function(){var t,e,n,o,r,a,s,c,u,f,d,l,h=function(i){!i||$(i).size()<=0||(t=$(i),e=t.find("div.carouselBd"),n=e.find("ul"),o=n.find("li"),r=t.find("div.carouselFt"),a=r.find("div.next"),s=r.find("div.prev"),c=r.find("ul.position"),p(),w(),"ontouchstart"in window&&Y())},p=function(){m();var t,n;return u=e.width(),u<400?(n=o.find("a").width(),u=2*o.find("a").width()):n=u>500&&u<700?o.find("a").width()+10:o.find("a").width()+30,d=Math.round(u/n),l=0,o.css({width:Math.round(u/d)}),t=o.size(),f=Math.ceil(t/d),f<=1?void r.hide():(g(),T(0),void v())},v=function(){a.on("click.Carousel",function(t){t.preventDefault(),b()}),s.on("click.Carousel",function(t){t.preventDefault(),A()}),c.find("li").each(function(t){$(this).on("click.Carousel",function(e){e.preventDefault(),k(t)})})},m=function(){a.off("click.Carousel"),s.off("click.Carousel"),c.find("li").each(function(){$(this).off("click.Carousel")})},w=function(){$(window).on("resizeAucTopFlexCard.Carousel",function(){p()})},g=function(){for(c.empty(),i=0;i<f;i++)c.append("<li>"+(i+1)+"</li>")},y=function(){return l},x=function(t){l=t},C=function(){return y()+1<f},O=function(){return y()-1>=0},b=function(){var t=y();C()&&T(t+1)},A=function(){var t=y();O()&&T(t-1)},T=function(t){n.stop().animate({"margin-left":-t*u},500),x(t),H(t),P(t)},k=function(t){T(t>=f-1?f-1:t<=0?0:t)},H=function(t){s.html('<span class="on">前の画像</span>'),a.html('<span class="on">次の画像</span>'),O()?C()||a.html("<span>次の画像</span>"):s.html("<span>前の画像</span>")},P=function(t){c.find("li").removeClass("on"),c.find("li").eq(t).addClass("on")},Y=function(){var e,i,o,r,a,s,c,d,l=200,h=($(t).offset().left,function(t){c=$(t.target).closest("a").size()>0?$(t.target).closest("a").attr("href"):"#",e=t.originalEvent.changedTouches[0].pageX,i=t.originalEvent.changedTouches[0].pageY,o=t.originalEvent.changedTouches[0].pageX,s=$(this).css("margin-left").replace("px","")-0||0}),p=function(t){t.preventDefault(),s-=o-t.originalEvent.changedTouches[0].pageX,$(this).css({"margin-left":s}),d=5*(t.originalEvent.changedTouches[0].pageX-o),o=t.originalEvent.changedTouches[0].pageX},v=function(t){t.preventDefault(),r=t.originalEvent.changedTouches[0].pageX,a=t.originalEvent.changedTouches[0].pageY;var n=Math.abs(r-e),o=Math.abs(a-i);if(n<6&&o<6&&(window.location.href=c),n>350?d=0:d>140?d=140:d<-140&&(d=-140),s+=d,d=0,s>0)s=0,$(this).animate({"margin-left":s},l,"linear",m);else if(s<-(f-1)*u)s=-(f-1)*u,$(this).animate({"margin-left":s},l,"linear",m);else{var h=s%u;r-e>0?h>-u/2?s-=h:s=s-h-u:h>-u/2?s-=h:s=s-h-u,$(this).animate({"margin-left":s},l,"linear",m)}},m=function(){var t=n.css("margin-left").toString().split("px").join("")-0,e=Math.abs(t/u);T(e)};n.on("touchstart.Carousel",h).on("touchmove.Carousel",p).on("touchend.Carousel",v)};return{init:h,getCurrent:y}},YAHOO.JP.auc.cre.Tile=function(){var t,e,n,o,r,a,s,c,u,f,d,h,p,v,m,w,g,y=(new Date).getTime(),x=1e4,C=!1,O=function(i){return t=$("#block-wrapper"),n=t.find("div.block"),o=B(n),r=t.find("div.block").not(".fix"),a=t.find("div.fix"),e=15,s={x:[],y:[]},c=203,u=203,f=!1,m="string"==typeof $("<div/>").css("transitionProperty"),w="string"==typeof $("<div/>").css("webkitTransitionProperty"),g=i&&i.callback&&"function"==typeof i.callback?i.callback:function(){},k(),T(!0,!0),this},b=function(t){var t=t;t&&!C&&(new Date).getTime()-y>x&&(C=!0,A())},A=function(t){for(i=0,l=o.length;i<l;i++)tmp=o[i],$(tmp).css({left:"auto",top:"auto",position:"static"}),tmp.setAttribute("data-unrendered",!0)},T=function(e,i){var c,u=0,l=0;for(f=!0,d=t.width(),h=t.height(),p=parseInt(t.css("padding-left"),10),v=parseInt(t.css("padding-top"),10),n=t.find("div.block"),r=t.find("div.block").not(".fix"),a=t.find("div.fix"),o=B(n),_fixesDom=B(a),_blocksDom=B(r),s={x:[p],y:[v]},u=0,l=o.length;u<l;u++)c=o[u],$(c).css({left:c.offsetLeft,top:c.offsetTop,position:"absolute"}),c.setAttribute("data-unrendered",!0);if(b(i),!C)for(u=0,l=_fixesDom.length;u<l;u++)c=_fixesDom[u],M(c),H(c);if(b(i),!C)for(u=0,l=_blocksDom.length;u<l;u++)c=_blocksDom[u],J(c,!!e&&e),H(c);return t.height(s.y[s.y.length-1]-parseInt(t.css("padding-top"),10)),i&&g.apply(this,arguments),this},k=function(){$(window).on("resizeAucTop.Tile",function(){return!C&&void(f&&t.width()!==d&&window.setTimeout(function(){T(!m&&!w)},1))})},H=function(t){var n=t.offsetLeft+t.offsetWidth+e,i=t.offsetTop+t.offsetHeight+e;$.inArray(n,s.x)===-1&&(s.x.push(n),s.x.sort(function(t,e){return t-e})),$.inArray(i,s.y)===-1&&(s.y.push(i),s.y.sort(function(t,e){return t-e}))},P=function(t,e){return d-p<e+t.offsetWidth},Y=function(t,n,i){var r,a=0,s=o.length,c=e;for(a;a<s;a++)if(r=o[a],!o[a].getAttribute("data-unrendered")&&r.offsetLeft<n+t.offsetWidth+c&&n<r.offsetLeft+r.offsetWidth+c&&r.offsetTop<i+t.offsetHeight+c&&i<r.offsetTop+r.offsetHeight+c)return!1;return!0},M=function(t){$(t).css({left:(t.getAttribute("data-x")-0)*c,top:(t.getAttribute("data-y")-0)*u,position:"absolute"}),t.removeAttribute("data-unrendered")},J=function(t,e){if(t.getAttribute("data-unrendered")){var n,i,o,r,a=0,c=0,u=s.y.length,f=s.x.length,d=!!e&&e;for(a=0;a<u;a++)for(r=s.y[a],c=0;c<f;c++)if(o=s.x[c],!P(t,o)&&Y(t,o,r))return n=$(t).css("left").split("px").join(""),i=$(t).css("top").split("px").join(""),$(t).css({left:o,top:r,position:"absolute"}),w&&!d?($(t).css({"-webkit-transform":"translate("+(n-o)+"px,"+(i-r+.1)+"px)"}),window.setTimeout(function(){$(t).css({"-webkit-transform":"translate(0,0)"}).css({"-webkit-transition":"-webkit-transform 0.4s ease"}).one("transitionend webkittransitionend",function(){$(t).css({"-webkit-transition":"","-webkit-transform":""})})},1*u+c)):m&&!d&&($(t).css({transform:"translate("+(n-o+.1)+"px,"+(i-r+.1)+"px)"}),window.setTimeout(function(){$(t).css({transform:"translate(0,0)"}).css({transition:"transform 0.4s ease"}).one("transitionend",function(){$(t).css({transition:"",transform:""})})},1*u+c)),void t.removeAttribute("data-unrendered")}},B=function(t){for(var e=0,n=t.length,i=[];e<n;e++)i.push(t[e]);return i};return{init:O,tile:T}}();var modwatchFlex=YAHOO.JP.auc.cre.FlexCard(),modhistoryFlex=YAHOO.JP.auc.cre.FlexCard(),modrelatedFlex=YAHOO.JP.auc.cre.FlexCard();modwatchFlex.init("#modWatchCarousel"),modhistoryFlex.init("#modHistoryCarousel"),modrelatedFlex.init("#modRelatedCarousel");var modwatchCarousel=YAHOO.JP.auc.cre.Carousel(),modhistoryCarousel=YAHOO.JP.auc.cre.Carousel(),modrelatedCarousel=YAHOO.JP.auc.cre.Carousel();modwatchCarousel.init("#modWatchCarousel"),modhistoryCarousel.init("#modHistoryCarousel"),modrelatedCarousel.init("#modRelatedCarousel"),function(t){function e(e){var n=t(this),i=null,o=[],r=null,a=null,s=t.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:t.noop,exit:t.noop,activate:t.noop,deactivate:t.noop,exitMenu:t.noop},e),c=3,u=300,f=function(t){o.push({x:t.pageX,y:t.pageY}),o.length>c&&o.shift()},d=function(){a&&clearTimeout(a),s.exitMenu(this)&&(i&&s.deactivate(i),i=null)},l=function(){a&&clearTimeout(a),s.enter(this),m(this)},h=function(){s.exit(this)},p=function(){v(this)},v=function(t){i&&s.deactivate(i),s.activate(t),i=t},m=function(t){var e=w();e?a=setTimeout(function(){m(t)},e):v(t)},w=function(){function e(t,e){return(e.y-t.y)/(e.x-t.x)}if(!i||!t(i).is(s.submenuSelector))return 0;var a=n.offset(),c={x:a.left,y:a.top-s.tolerance},f={x:a.left+n.outerWidth(),y:c.y},d={x:a.left,y:a.top+n.outerHeight()+s.tolerance},l={x:a.left+n.outerWidth(),y:d.y},h=o[o.length-1],p=o[0];if(!h)return 0;if(p||(p=h),p.x<a.left||p.x>l.x||p.y<a.top||p.y>l.y)return 0;if(r&&h.x==r.x&&h.y==r.y)return 0;var v=f,m=l;"left"==s.submenuDirection?(v=d,m=c):"below"==s.submenuDirection?(v=l,m=d):"above"==s.submenuDirection&&(v=c,m=f);var w=e(h,v),g=e(h,m),y=e(p,v),$=e(p,m);return w<y&&g>$?(r=h,u):(r=null,0)};n.mouseleave(d).find(s.rowSelector).mouseenter(l).mouseleave(h).click(p),t(document).mousemove(f)}t.fn.menuAim=function(t){return this.each(function(){e.call(this,t)}),this}}(jQuery),YAHOO.JP.auc.cre.CateSearch=function(t){function e(){n()}function n(){s.find("li").removeClass("on"),c.hide(),i("show")}function i(t){"show"==t?($("div.acMdAdPr div.untBody").removeClass("decHide"),$("div.acMdAdPr div.untBody div").css({visibility:"visible",opacity:1})):"hide"==t&&($("div.acMdAdPr div.untBody").addClass("decHide"),$("div.acMdAdPr div.untBody div").css({visibility:"hidden",opacity:0}))}function o(t){function e(){if(0!=f&&p==a)return!1;p=a;for(var t=0;t<s.find("li").length;t++){var e=s.find("li").eq(t).offset().top,n=e+s.find("li").eq(t).outerHeight();if(n>a+r){f=e;break}}}function n(){if(950==d.width()){var t=$("div.acMdAdPr").offset().top+$("div.acMdAdPr").outerHeight();t>s.find("div.untBody li").eq(0).offset().top&&i("hide")}else i("show")}function o(){var e=s.find("div.untBody li").index($(t)),o=$("div.acMdCateLinks").eq(e);o.show();var c=($(t).offset().top,$(t).offset().left),u=$(t).offset().top+$(t).outerHeight();u>a+r?(o.css({top:f,left:c+$(t).innerWidth()}),i("show")):(o.css({top:a,left:c+$(t).innerWidth()}),n())}var r=c.height(),a=s.find("div.untBody li").eq(0).offset().top;return 0==p&&(p=a),c.hide(),e(),n(),$(t).addClass("on"),o(),!1}function r(t){n()}var a,s=(t.page,$("div.acMdCateSearch")),c=$("div.acMdCateLinks"),u=(c.width(),s.find("ul")),f=0,d=$("#yjContentsBody");navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1&&s.find("a").attr("aria-haspopup","true"),$(window).on("resizeAucTop",function(){e()}),e();var l,h=500;s.find("div.untBody").on({mouseenter:function(){return a=!0,!1},mouseleave:function(){return l&&clearTimeout(l),l=setTimeout(function(){a||n()},h),a=!1,!1}}),c.on({mouseenter:function(){return a=!0,!1},mouseleave:function(){return l&&clearTimeout(l),l=setTimeout(function(){a||n()},h),a=!1,!1}}),$("#wrapper").on({mousedown:function(){a||n()}}),c.find("span.close").on({click:function(){n()}}),u.menuAim({activate:o,deactivate:r});var p=0},YAHOO.JP.auc.cre.CateSearch({page:"top"}),YAHOO.JP.auc.cre.SearchForm=function(){function t(t){var e=c.find("p").width(),n=e-r,o=parseInt(i.find("div.ptsInputTxt").css("paddingRight"),10);i.find("div.ptsInputTxt").css("paddingRight",o+n),a.hide(),$("input#cateNum").val(t)}function e(){if(n())$("#yschsp").attr("placeholder","");else{var t="",e=jQuery("input[name=fixed]:checked").val();t=1==e?"今すぐ買えるアイテムから探す":2==e?"オークション商品から探す":"すべての商品から探す",jQuery("#yschsp").attr("placeholder",t)}$("#yschsp").focus()}function n(){var t=window.navigator.userAgent.toLowerCase();return t.indexOf("msie")!=-1||t.indexOf("trident")!=-1}var i=$("div.acMdSearchForm");if(0==i.size())return!1;var o,r,a=i.find("div.ptsPanel"),s=i.find("span.closeBtn"),c=i.find("div.ptsCate"),u=YAHOO.JP.auc.cre.BrowserCheck();$("#yschsp.js-focus").length>0&&$("#yschsp").focus(),c.on({click:function(){a.toggle()}}),s.on({click:function(){a.hide()}}),a.find("li").on({mouseenter:function(){$(this).addClass("hover")},mouseleave:function(){a.find("li").removeClass("hover")},click:function(){a.find("li").removeClass("on"),$(this).addClass("on"),r=c.find("p").width(),c.find("p").text($(this).text());var e=$(this).attr("id").replace("elCate","");return"IE6"==u?setTimeout(function(){t(e)},100):t(e),!1}}),i.find("div.ptsPanel,div.ptsCate").on({mouseenter:function(){return o=!0,!1},mouseleave:function(){return o=!1,!1}}),$("#op14").on("click",e),$("#op15").on("click",e),$("#op16").on("click",e),$(document).on({mousedown:function(){o||a.hide()}}),$("#sbn").on({submit:function(){var t=$("#cateNum").val();""==t&&(t=0);var e={catid:t},n=$("#acHdSchBtn").data("rapid_p");ins.beaconClick(headerBeaconClickSec,"button",n,e)}})}(),YAHOO.JP.auc.cre.MyBox=function(){function t(){"localStorage"in window&&null!==window.localStorage&&(r=!0,i=window.localStorage.getItem("topMyBox"))}function e(){return!!r&&void("close"==i?window.localStorage.setItem("topMyBox","open"):window.localStorage.setItem("topMyBox","close"))}var n=$("div.acMdMyBox");if(0==n.length)return!1;var i,o=n.find("div.isState"),r=!1;t(),n.find("div.untHead").on({click:function(){return e(),o.toggleClass("decOpen"),!1}})}(),YAHOO.JP.auc.cre.YadsOverlay=function(t){"use strict";var e,n,i,o,r,a=function(r){r&&r.target&&(e=t(r.target),n=t(r.targetClass),i=t(r.lrec),o=t(r.sqb),t("#footer").css("margin-bottom","60px"),s())},s=function(){t(window).on("scroll.YadsOverlay load.YadsOverlay",function(){clearTimeout(r),r=setTimeout(function(){d()},30)}),setTimeout(d(),500)},c=function(){n.hasClass("is-off")&&n.removeClass("is-off"),n.addClass("is-on")},u=function(t){n.hasClass("is-on")&&n.removeClass("is-on"),n.addClass("is-off")},f=function(e){try{var n=t(window).height(),i=t(window).scrollTop(),o=e.offset().top-n,r=e.offset().top+e.height();return o<i&&i<r}catch(a){return!1}},d=function(){f(i)||f(o)?u():c()};return{init:a}}(jQuery),YAHOO.JP.auc.cre.YadsOverlay.init({target:".js-acMdYadsOverlay",targetClass:".acMdYadsOverlay",lrec:"#acMdAdLrecArea",sqb:".acMdAdSqb"});