"use strict";var module,exports,require2=function(n){return require2.modules._define(n).exports},graph;require2.modules={_base:function(n){return n.split("/").slice(-1)[0].toLowerCase().replace(/\.js$/g,"")},_define:function(n){var i=this._base(n),t=this[i];return t||(t=this[i]={exports:{}}),t}};module=require2.modules._define("utilities");exports=module.exports,function(){var n=function(n,t){var i={enumerable:!1};if(typeof t=="function")i.value=t;else if(t instanceof Object)t.enumerable||(t.enumerable=!1),i=t;else throw"Object._extend: Illegal arg "+t;Object.defineProperty(this,n,i)};n.call(Object.prototype,"_cg_extends",n);Object.prototype._cg_extends("_cg_property",function(n){var i=Object.getOwnPropertyDescriptor(this,n),t;return i?i:(t=this._cg_parent,t?t._cg_property(n):void 0)});Object.prototype._cg_extends("_cg_createChild",function(){var n=Object.create(this);return this._initChild&&this._initChild.apply(n,arguments),n});Object.prototype._cg_extends("_cg_parent",{get:function(){return Object.getPrototypeOf(this)}});Object.prototype._cg_extends("_cg_keys",{get:function(){return Object.keys(this)}});Object.prototype._cg_extends("_cg_forEach",function(n){var t=this;this._cg_keys._cg_forEach(function(i,r){return n.call(t,r,t[r])})});Object.prototype._cg_extends("_cg_map",function(n){var t=this,i=[];return this._cg_keys._cg_forEach(function(r,u){i.push(n.call(t,u,t[u]))}),i});Object.prototype._cg_extends("_cg_any",function(n){var t=this;return this._cg_keys._cg_any(function(i,r){return n.call(t,r,t[r])})});Object.prototype._cg_extends("_cg_all",function(n){var t=this;return this._cg_keys._cg_all(function(i,r){return n.call(t,r,t[r])})});Object.prototype._cg_extends("_cg_allZip",function(n,t){var r=this._cg_keys,i;return!(n instanceof Object)||n._cg_keys.length!==r.length?!1:(i=this,r._cg_all(function(r,u){return u in n&&t.call(i,u,i[u],n[u])}))});Object.prototype._cg_extends("_cg_equals",function(n,t){switch(arguments.length){case 1:return this._cg_equals(this,n);case 2:break;default:case 0:throw"Object._cg_equals: Illegal arg";}return n===t?!0:n instanceof Object?n._cg_allZip(t,function(n,t,i){return Object._cg_equals(t,i)}):!1});Object.prototype._cg_extends("_cg_merge",function(n){if(n){var t=this instanceof Array?[]:this._cg_parent._cg_createChild();return this._cg_forEach(function(n,i){t[n]=i}),n._cg_all(function(n,i){var r=t[n];return r?r._cg_equals(i):(t[n]=i,!0)})?t:undefined}});Object.prototype._cg_extends("_cg_subsetKeys",function(n){return this._cg_all(function(t){return n.hasOwnProperty(t)})});Object.prototype._cg_extends("_cg_clear",function(){this._cg_all(function(n){return delete this[n]})});Object.prototype._cg_extends("_cg_thunk",function(n){var t=this;return function(){return n.apply(t,arguments)}});Object.prototype._cg_extends("_cg_clone",function(n){var t,i;return n!==undefined&&(t=n(this),t)?t:this._suppressClone?this:(i=this instanceof Array?[]:this._cg_parent._cg_createChild(),this._cg_forEach(function(t,r){i[t]=r instanceof Object?r._cg_clone(n):r}),i)});Object.prototype._cg_extends("_cg_exists",function(n){return n(this)||!this._suppressClone&&this._cg_any(function(t,i){return i instanceof Object&&i._cg_exists(n)})});Array.prototype._cg_extends("_cg_forEach",function(n){for(var i=this.length,t=0;t<i;t++)t in this&&n.call(this,t,this[t])});Array.prototype._cg_extends("_cg_any",function(n){for(var i,r=this.length,t=0;t<r;t++)if(t in this&&(i=n.call(this,t,this[t]),i||i===0))return i});Array.prototype._cg_extends("_cg_all",function(n){for(var i=this.length,t=0;t<i;t++)if(t in this&&!n.call(this,t,this[t]))return!1;return!0});Array.prototype._cg_extends("_cg_allZip",function(n,t){var r=this.length,i;if(!(n instanceof Array)||n.length!==r)return!1;for(i=0;i<r;i++)if(i in this&&(!(i in n)||!t.call(this,i,this[i],n[i])))return!1;return!0});Array.prototype._cg_extends("_cg_clear",function(){this.splice(0,this.length)});Array.prototype._cg_extends("_cg_replace",function(n,t,i){return t=t||1,i=i||[],this.slice(0,n).concat(i).concat(this.slice(n+t))});Array.prototype._cg_extends("_cg_pushUnique",function(n){this._cg_any(function(t,i){return i._cg_equals(n)})||this.push(n)});String.prototype._cg_extends("_cg_format",function(){for(var n,i=this,t=0;t<arguments.length;t++)n=arguments[t],n.toString&&(n=n.toString()),i=i._cg_replace(new RegExp("\\{"+t+"\\}","gm"),n);return i});String.prototype._cg_extends("_cg_replace",function(n,t){return this.replace(n,t.replace(/\$/g,"$$$$"))});String.prototype._cg_extends("_cg_repeat",function(n){return new Array((n||0)+1).join(this)});String.prototype._cg_extends("_cg_htmlify",function(){return this.replace(/ /g,"&nbsp;").replace(/\n/g,"<br/>")});String.prototype._cg_extends("_cg_startsWith",function(n){return this.indexOf(n)===0});String.prototype._cg_extends("_cg_endsWith",function(n){return this.indexOf(n,this.length-n.length)!==-1});String.prototype._cg_extends("_cg_contains",function(n){return this.indexOf(n)!==-1});String.prototype._cg_extends("_cg_find",function(n){var t=this.indexOf(n);return t!==-1?this.substring(t):""});String.prototype._cg_extends("_cg_findLast",function(n){var t=this.lastIndexOf(n);return t!==-1?this.substring(t):""});String._cg_extends("_cg_createGuid",function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()})}();module=require2.modules._define("configuration");exports=module.exports,function(){module.exports.Configuration="\n# Configuration    \n\n@prefix geo:    <http://www.opengis.net/ont/geosparql#> ;   \ngeof:   <http://www.opengis.net/ont/geosparql/function/> ;   \ns:      <http://schema.org/> ;   \nb:      <http://platform.bing.com/maps/> ;   \np:      <http://platform.bing.com/persons/> ;   \nrdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .    \n\n\n####################    \n# Favorites    \n####################    \n\nb:routeMode/Driving                            a b:routeMode .    \nb:routeMode/Walking                            a b:routeMode .    \nb:routeMode/Transit                            a b:routeMode .    \n\nb:routeOption/Highways                         a b:routeOption .    \nb:routeOption/Tolls                            a b:routeOption .    \nb:routeOption/MinimizeHighways                 a b:routeOption .    \nb:routeOption/MinimizeTolls                    a b:routeOption .    \nb:routeOption/ExpressTrain                     a b:routeOption .    \nb:routeOption/Airline                          a b:routeOption .    \nb:routeOption/BulletTrain                      a b:routeOption .    \n\nb:favorites.category/Home                      a b:favorites.category .    \nb:favorites.category/Work                      a b:favorites.category .    \nb:favorites.category/School                    a b:favorites.category .    \nb:favorites.category/Gym                       a b:favorites.category .    \nb:favorites.category/Grocery                   a b:favorites.category .    \n\nb:trafficAgentStatus/NoData                    a b:trafficAgentStatus .    \nb:trafficAgentStatus/Off                       a b:trafficAgentStatus .    \nb:trafficAgentStatus/Updating                  a b:trafficAgentStatus .    \nb:trafficAgentStatus/Error                     a b:trafficAgentStatus .    \nb:trafficAgentStatus/On                        a b:trafficAgentStatus .    \n\n####################    \n# My device             \n####################    \n\n<http://platform.bing.com/devices/me/bingStore> a s:Intangible/DataStore/BingDataStore .    \n\n\n####################    \n# Me defaults           \n####################    \n\np:me a s:Person ;   \nb:person.preferences     p:me/preferences .    \n\np:me/preferences a s:Thing/Preferences ;   \nb:preferences.favorites p:me/preferences/favorites .    \n\np:me/preferences/favorites a s:Thing/Favorites .    \n\np:me/geoAnnotationCollection.default  a s:Intangible/GeoAnnotationCollection .    \np:me/geoAnnotationCollection.recent   a s:Intangible/GeoAnnotationCollection .    \n\np:me/list.geoAnnotationCollection.default a rdf:List ;   \nrdf:first p:me/geoAnnotationCollection.default ;   \nrdf:rest p:me/list.geoAnnotationCollection.recent ;   \ns:displayOrder 0 ;   \ns:memberOf p:me/preferences/favorites .    \n\np:me/list.geoAnnotationCollection.recent a rdf:List ;   \nrdf:first p:me/geoAnnotationCollection.recent ;   \nrdf:rest rdf:nil ;   \ns:displayOrder 1 ;   \ns:memberOf p:me/preferences/favorites .    \n"}();module=require2.modules._define("logger");exports=module.exports,function(){var n={logging:!1,start:function(){(this.colorTable=typeof process!="undefined"?this.colorTableConsole:this.colorTableBrowser,this.logging||typeof console=="undefined")||(this.logging=!0)},stop:function(){this.logging=!1},log:function(){this.logging&&console.log(this.toString.apply(this,arguments))},colorTableConsole:{"#bold":"\x1b[1m{0}\x1b[0m","#italic":"\x1b[3m{0}\x1b[0m","#underline":"\x1b[4m{0}\x1b[0m","#black":"\x1b[30m{0}\x1b[0m","#red":"\x1b[31m{0}\x1b[0m","#green":"\x1b[32m{0}\x1b[0m","#yellow":"\x1b[33m{0}\x1b[0m","#blue":"\x1b[34m{0}\x1b[0m","#magenta":"\x1b[35m{0}\x1b[0m","#cyan":"\x1b[36m{0}\x1b[0m","#white":"\x1b[37m{0}\x1b[0m"},colorTableBrowser:{"#bold":"<b>{0}<\/b>","#italic":"<i>{0}<\/i>","#underline":"<u>{0}<\/u>","#black":'<font color="black">{0}<\/font>',"#red":'<font color="red">{0}<\/font>',"#green":'<font color="green">{0}<\/font>',"#yellow":'<font color="yellow">{0}<\/font>',"#blue":'<font color="blue">{0}<\/font>',"#magenta":'<font color="magenta">{0}<\/font>',"#cyan":'<font color="cyan">{0}<\/font>',"#white":'<font color="white">{0}<\/font>'},toString:function(){var t="",i=arguments.length-1;return arguments._cg_forEach(function(r,u){var f,e=[],o;typeof u=="undefined"?f="undefined":u instanceof Array?(u._cg_forEach(function(t,i){e.push(n.toString(i))}),f="[ "+e.join(",")+" ]"):u.isJacquard?f=u.toInputForm():typeof u=="function"?f="function(){...}":u instanceof Object?(o=0,u._cg_forEach(function(t,i){var r=n.colorTable[t];r?(o++,r=r._cg_format(n.toString(i)),e.push(r)):e.push(t+": "+n.toString(i))}),f=o===1&&e.length===1?e[0]:"{ "+e.join(",")+"}"):f=u;t+=f+(r<i?" ":"")}),t}};n.start();module.exports.log=function(){n.log.apply(n,arguments)};module.exports.toString=function(){return n.toString.apply(n,arguments)}}();module=require2.modules._define("enum");exports=module.exports,function(){module.exports={Unknown:"<unknown>",Type:"<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>",Statement:"<http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement>",Subject:"<http://www.w3.org/1999/02/22-rdf-syntax-ns#subject>",Predicate:"<http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate>",Object:"<http://www.w3.org/1999/02/22-rdf-syntax-ns#object>",List:"<http://www.w3.org/1999/02/22-rdf-syntax-ns#List>",First:"<http://www.w3.org/1999/02/22-rdf-syntax-ns#first>",Rest:"<http://www.w3.org/1999/02/22-rdf-syntax-ns#rest>",Nil:"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>",Sparql:"<http://www.w3.org/TR/rdf-sparql-query/>",Term:"<http://schema.org/Term>",Graph:"<http://schema.org/Graph>",Boolean:"<http://schema.org/Boolean>",Double:"<http://schema.org/Float>",Integer:"<http://schema.org/Integer>",Date:"<http://schema.org/Date>",Duration:"<http://schema.org/Duration>",Text:"<http://schema.org/Text>",Geometry:"<http://www.opengis.net/ont/geosparql#wktLiteral>",variable:"<http://schema.org/Variable>",Symbol:"<http://schema.org/Symbol>",Person:"<http://schema.org/Person>",PreferencesType:"<http://schema.org/Thing/Preferences>",LocalScoutPreferences:"<http://schema.org/Thing/LocalScoutPreferences>",LocalScoutCategoryGroup:"<http://schema.org/Thing/LocalScoutCategoryGroup>",PoiType:"<http://schema.org/Enumeration/PoiType>",PoiCategory:"<http://schema.org/Enumeration/PoiCategory>",FavoritesType:"<http://schema.org/Thing/Favorites>",StoreLocal:"<http://schema.org/Intangible/DataStore/LocalDataStore>",StoreLive:"<http://schema.org/Intangible/DataStore/LiveDataStore>",StoreSkyDrive:"<http://schema.org/Intangible/DataStore/SkydriveDataStore>",BingStore:"<http://schema.org/Intangible/DataStore/BingDataStore>",Photo:"<http://schema.org/ImageObject>",Place:"<http://schema.org/Place>",GeoAnnotationCollection:"<http://schema.org/Intangible/GeoAnnotationCollection>",Route:"<http://schema.org/Route>",PostalAddress:"<http://schema.org/PostalAddress>",Folder:"<http://schema.org/Intangible/DataStore/Folder>",TrafficAlerts:"<http://schema.org/Intangible/TrafficAlerts>",Typemetadata:"<http://platform.bing.com/maps/type.type>",Propertymetadata:"<http://platform.bing.com/maps/type.property>",Categorymetadata:"<http://platform.bing.com/maps/type.Category>",Url:"<http://schema.org/url>",Name:"<http://schema.org/name>",Description:"<http://schema.org/description>",DateTaken:"<http://schema.org/dateTaken>",DateCreated:"<http://schema.org/dateCreated>",DateModified:"<http://schema.org/dateModified>",DateAccessed:"<http://platform.bing.com/dateAccessed>",Caption:"<http://schema.org/caption>",Height:"<http://schema.org/height>",Width:"<http://schema.org/width>",DateExecuted:"<http://schema.org/dateExecuted>",DateDeleted:"<http://schema.org/dateDeleted>",Version:"<http://platform.bing.com/maps/Version>",ImageUri:"<http://schema.org/image>",Store:"<http://schema.org/dataStore>",Preferences:"<http://platform.bing.com/maps/person.preferences>",PersonStore:"<http://platform.bing.com/maps/person.store>",LocalScout:"<http://platform.bing.com/maps/preferences.local_scout>",Favorites:"<http://platform.bing.com/maps/preferences.favorites>",LocalScoutSortby:"<http://platform.bing.com/maps/localscout.sortby>",LocalScoutOpennow:"<http://platform.bing.com/maps/localscout.opennow>",LocalScoutDeals:"<http://platform.bing.com/maps/localscout.deals>",LocalScoutCategory:"<http://platform.bing.com/maps/localscout.category>",PoiCategoryEatDrink:"<http://platform.bing.com/maps/PoiCategory/EatDrink>",PoiCategorySeeDo:"<http://platform.bing.com/maps/PoiCategory/SeeDo>",PoiCategorySeeDoEvent:"<http://platform.bing.com/maps/PoiCategory/SeeDoEvent>",PoiCategoryShop:"<http://platform.bing.com/maps/PoiCategory/Shop>",BingMasterId:"<http://platform.bing.com/maps/Bing/masterId>",BingECoreId:"<http://platform.bing.com/maps/Bing/eCoreId>",BingSuggestId:"<http://platform.bing.com/maps/Bing/suggestId>",MemberOf:"<http://schema.org/memberOf>",Members:"<http://schema.org/members>",FavoritesCollection:"<http://platform.bing.com/maps/favorites.collection>",FavoritesSearch:"<http://platform.bing.com/maps/favorites.search>",FavoritesRegion:"<http://platform.bing.com/maps/favorites.region>",FavoritesMetric:"<http://platform.bing.com/maps/favorites.metric>",FavoritesShowBirdsEyeView:"<http://platform.bing.com/maps/favorites.showBirdsEyeView>",DisplayOrder:"<http://schema.org/displayOrder>",MapZoomLevel:"<http://schema.org/mapZoomLevel>",Location:"<http://schema.org/location>",BingEntityId:"<http://platform.bing.com/maps/preferences/favorites.entityId>",BingEntityUrl:"<http://platform.bing.com/maps/preferences/favorites.entityUrl>",Geo:"<http://schema.org/geo>",RouteDetails:"<http://schema.org/routeDetails>",Address:"<http://schema.org/address>",AddressSingleLine:"<http://schema.org/addressSingleLine>",Phone:"<http://schema.org/phone>",ShowOnMap:"<http://schema.org/ShowOnMap>",TravelTime:"<http://platform.bing.com/maps/TravelTime>",OriginalName:"<http://platform.bing.com/maps/preferences/favorites.originalName>",FavoritesEntityType:"<http://platform.bing.com/maps/preferences/favorites.entityType>",FavoritesIsBusiness:"<http://platform.bing.com/maps/preferences/favorites.isBusiness>",BusinessType:"<http://platform.bing.com/maps/preferences/favorites.businessType>",FavoritesVersion:"<http://platform.bing.com/maps/preferences/favorites.version>",FavoritesCategory:"<http://platform.bing.com/maps/favorites.category>",FavoritesCategoryHome:"<http://platform.bing.com/maps/favorites.category/Home>",FavoritesCategoryWork:"<http://platform.bing.com/maps/favorites.category/Work>",FavoritesCategorySchool:"<http://platform.bing.com/maps/favorites.category/School>",FavoritesCategoryGym:"<http://platform.bing.com/maps/favorites.category/Gym>",FavoritesCategoryGrocery:"<http://platform.bing.com/maps/favorites.category/Grocery>",WifiIdentity:"<http://schema.org/wifiIdentity>",BluetoothIdentity:"<http://schema.org/bluetoothIdentity>",DisplayCoordinates:"<http://schema.org/displayCoordinates>",RouteFrom:"<http://platform.bing.com/maps/routeFrom>",RouteTo:"<http://platform.bing.com/maps/routeTo>",WayPoint:"<http://platform.bing.com/maps/wayPoint>",RouteMode:"<http://platform.bing.com/maps/routeMode>",RouteModeDriving:"<http://platform.bing.com/maps/routeMode/Driving>",RouteModeWalking:"<http://platform.bing.com/maps/routeMode/Walking>",RouteModeTransit:"<http://platform.bing.com/maps/routeMode/Transit>",RouteOption:"<http://platform.bing.com/maps/routeOption>",RouteOptionHighways:"<http://platform.bing.com/maps/routeOption/Highways>",RouteOptionTolls:"<http://platform.bing.com/maps/routeOption/Tolls>",RouteOptionMinimizeHighways:"<http://platform.bing.com/maps/routeOption/MinimizeHighways>",RouteOptionMinimizeTolls:"<http://platform.bing.com/maps/routeOption/MinimizeTolls>",RouteOptionExpressTrain:"<http://platform.bing.com/maps/routeOption/ExpressTrain>",RouteOptionAirline:"<http://platform.bing.com/maps/routeOption/Airline>",RouteOptionBulletTrain:"<http://platform.bing.com/maps/routeOption/BulletTrain>",RouteTrafficAlerts:"<http://platform.bing.com/maps/routeTrafficAlerts>",TrafficRouteId:"<http://platform.bing.com/maps/trafficRouteId>",TrafficDataAvailable:"<http://platform.bing.com/maps/trafficDataAvailable>",TrafficRouteTravelTime:"<http://platform.bing.com/maps/trafficRouteTravelTime>",TrafficRouteSelectedHash:"<http://platform.bing.com/maps/trafficRouteSelectedHash>",TrafficAgentStatus:"<http://platform.bing.com/maps/trafficAgentStatus>",TrafficAgentStatusNoData:"<http://platform.bing.com/maps/trafficAgentStatus/NoData>",TrafficAgentStatusOff:"<http://platform.bing.com/maps/trafficAgentStatus/Off>",TrafficAgentStatusUpdating:"<http://platform.bing.com/maps/trafficAgentStatus/Updating>",TrafficAgentStatusError:"<http://platform.bing.com/maps/trafficAgentStatus/Error>",TrafficAgentStatusOn:"<http://platform.bing.com/maps/trafficAgentStatus/On>",TrafficThreshold:"<http://platform.bing.com/maps/trafficThreshold>",TrafficSchedule:"<http://platform.bing.com/maps/TrafficSchedule>",TrafficAgentId:"<http://platform.bing.com/maps/trafficAgentId>",TrafficDeviceId:"<http://platform.bing.com/maps/trafficDeviceId>",TrafficTimeZone:"<http://platform.bing.com/maps/trafficTimeZone>",StreetAddress:"<http://schema.org/streetAddress>",PostalCode:"<http://schema.org/postalCode>",AddressRegion:"<http://schema.org/addressRegion>",AddressLocality:"<http://schema.org/addressLocality>",AddressCountry:"<http://schema.org/addresssCountry>",BuildingHeight:"<http://schema.org/buildingHeight>",Floors:"<http://schema.org/floors>",Properties:"<http://platform.bing.com/maps/type.properties>",PropertyMaximumCardinality:"<http://platform.bing.com/maps/type.MaxCardinality>",PropertyMinimumCardinality:"<http://platform.bing.com/maps/type.MinCardinality>",PropertyExpectedType:"<http://platform.bing.com/maps/type.expected>",Login:"<http://platform.bing.com/login>",MyDevice:"<http://platform.bing.com/devices/me>",MyBingStore:"<http://platform.bing.com/devices/me/bingStore>",VersionHistoryLog:"<http://platform.bing.com/devices/me/bingStore/VersionHistoryLog>",LastPurgedTimestamp:"<http://platform.bing.com/devices/me/bingStore/LastPurgedTimestamp>",MinimumVersion:"<http://platform.bing.com/devices/me/bingStore/MinimumVersion>",Me:"<http://platform.bing.com/persons/me>",MyPicturesLibrary:"<http://platform.bing.com/persons/me/pictures>",LocalScoutEntity:"<http://platform.bing.com/persons/me/preferences/localscout>",FavoritesEntity:"<http://platform.bing.com/persons/me/preferences/favorites>",CloudSyncEnrolled:"<http://platform.bing.com/persons/me/preferences/CloudSyncEnrolled>",SkyDriveStore:"<https://apis.live.net/v5.0/me/SkyDrive>",LocalStore:"<ms-knownFolders:///Pictures>",Live:"<https://apis.live.net/v5.0>",ErrorMessage:"<http://platform.bing.com/maps/ErrorMessage>",StatusCode:"<http://platform.bing.com/maps/StatusCode>",Internal:"<http://platform.bing.com/Internal>",InternalClientImportVersion:"<http://platform.bing.com/Internal/ClientImportVersion>",InternalDoFullSave:"<http://platform.bing.com/Internal/DoFullSave>",InternalIsPurgeDisabled:"<http://platform.bing.com/Internal/IsPurgeDisabled>",InternalServerVersionFromStore:"<http://platform.bing.com/Internal/ServerVersionFromStore>",InternalPersistentState:"<http://platform.bing.com/Internal/PersistentState>",InternalDiagnosticsLevel:"<http://platform.bing.com/Internal/Diagnostics/Level>",InternalDiagnosticsMessage:"<http://platform.bing.com/Internal/Diagnostics/Message>",InternalLoadFrom:"<http://platform.bing.com/Internal/Store/LoadFrom>",InternalRetrieveLocationListResponse:"<http://platform.bing.com/Internal/RetrieveLocationListResponse>",InternalSuggestionResponse:"<http://platform.bing.com/Internal/SuggestionResponse>",FavoritesDefaultCollection:"<http://platform.bing.com/persons/me/geoAnnotationCollection.default>",FavoritesRecentCollection:"<http://platform.bing.com/persons/me/geoAnnotationCollection.recent>",FavoritesDefaultCollectionList:"<http://platform.bing.com/persons/me/list.geoAnnotationCollection.default>",FavoritesRecentCollectionList:"<http://platform.bing.com/persons/me/list.geoAnnotationCollection.recent>",MyListNode:"<http://platform.bing.com/persons/me/list.>",MyStatement:"<http://platform.bing.com/persons/me/statement>",WRPMigratedFavorites:"<http://platform.bing.com/maps/WRP.MigratedFavorites>",WRPMigrateStartTime:"<http://platform.bing.com/maps/WRP.MigrateStartTime>",MyInternal:"<http://platform.bing.com/persons/me/Internal>",MasterCollection:"<http://platform.bing.com/persons/me/Internal/MasterCollection>",PreferredCollection:"<http://platform.bing.com/persons/me/Internal/PreferredCollection>",ProtectedState:"<http://platform.bing.com/protected/State>",ProtectedExceptionMessage:"<http://platform.bing.com/protected/State/ExceptionMessage>",ProtectedExceptionStackTrace:"<http://platform.bing.com/protected/State/ExceptionStackTrace>"}}();module=require2.modules._define("tokenizer");exports=module.exports,function(){function n(n,t){function e(){i["s:"]="http://schema.org/";i["b:"]="http://platform.bing.com/maps/";i["p:"]="http://platform.bing.com/persons/";i["rdf:"]="http://www.w3.org/1999/02/22-rdf-syntax-ns#";i["geo:"]="http://www.opengis.net/ont/geosparql#";i["geof:"]="http://www.opengis.net/ont/geosparql/function/"}function r(n){var r=n.length,t,u;return!n._cg_startsWith("<")||r<2?n:(t=n.substr(1,r-2),u=t.length,i._cg_any(function(n,i){if(t._cg_startsWith(i)&&u>i.length)return t._cg_replace(i,n)})||n)}function u(n){var t=n.length;return i._cg_any(function(i,r){if(n._cg_startsWith(i)&&t>i.length)return"<"+n._cg_replace(i,r)+">"})||n}var i={},f="a";return this.Expand=function(t){if(t===f)return n.Entities.Type.Id;if(t._cg_startsWith('"')){var i=t.lastIndexOf('"^^');return i===-1?t:(i+=3,t.substr(0,i)+u(t.substr(i)))}return u(t)},this.Compress=function(t){if(t===n.Entities.Type.Id)return f;if(t._cg_startsWith('"')){var i=t.lastIndexOf('"^^<');return i===-1?t:(i+=3,t.substr(0,i)+r(t.substr(i)))}return r(t)},this._cg_extends("TurtleHeader",{get:function(){return"@prefix "+i._cg_map(function(n,t){return n+"<"+t+">"}).join(" ;")+" .\r\n"}}),this._cg_extends("ExtendNamespace",function(n,t){i[n]=t}),t&&e(),this}function t(n,t,i){function f(n){return n=n||0,r+n>=e.length?undefined:e[r+n]}function u(){return r>=e.length?undefined:e[r++]}function h(){for(var t=r,n;;)if(n=f(),n&&" \r\n\t"._cg_contains(n))u();else break;if(t!=r)return{type:"Space",value:e.substring(t,r),skip:!0}}function c(){var t=r,n;if(f()=="#")for(;;)if(n=u(),!n||n==="\n")return{type:"Comment",value:e.substring(t,r),skip:!0}}function o(n){return"%^:_~.-!$&'*+;=/?#@()"._cg_contains(n)||n.match(/[0-9a-z]/i)}function l(){var n=r;if("+-0123456789"._cg_contains(f())){while("+-.0123456789eE"._cg_contains(f()))u();return{type:"Number",value:e.substring(n,r)}}}function a(){for(var n=r;o(f());)u();if(n!=r)return{type:"Symbol",value:e.substring(n,r)}}function v(){var t=r,n=f();return n?i._cg_contains(n)?(u(),{type:"Punctuation",value:e.substring(t,r)}):void 0:{type:"EOF"}}function s(n,t){return n===t&&n===f()&&n===f(1)}function y(){var l=r,t;if(f()==='"'){var c=!1,i=u(),h=s(i,i);for(h&&(u(),u());;){if(t=u(),n.Assert(t,"ParseError"),!c&&t===i)if(h&&s(i,t)){u();u();break}else if(!h)break;c=t==="\\"}for(;;){if(t=f(),!o(t)&&t!="<"&&t!=">")break;u()}return{type:"String",value:e.substring(l,r)}}}function p(){var i=r,t;if(f()==="<"){for(;;)if(t=u(),n.Assert(t,"ParseError"),t===">")break;return{type:"Uri",value:e.substring(i,r)}}}i=i||",;.";var r=0,e=t;return this.GetNextToken=function(){for(;;){var n=h()||c()||v()||y()||p()||l()||a();if(!n.skip)return n}},this}module.exports.MapNamespaces=n;module.exports.Tokenizer=t}();module=require2.modules._define("graph");exports=module.exports,function(){function u(n){function lt(){var n=new Date;return n.valueOf()<ut+2&&n.setTime(ut+2),ut=n.getTime(),n}var st,ut,u,et,ft,ht,ct;this._cg_extends("_etag",{value:"0",writable:!0});this._cg_extends("_mapCache",{value:{}});this._cg_extends("_recordDelta",{value:!0,writable:!0});this._cg_extends("Settings",{value:{_useSSL:!0,_useProd:!0,_useFiddler:!1}});this._cg_extends("isNodeJS",{value:typeof process!="undefined"});st=function(n,t,i,r,u){var h=this,f,e;if(this.isNodeJS){f=require2("url").parse(n);f.method=t;f.headers=i;this.Settings._useFiddler&&(f.protocol="http:",f.pathname=f.path=n,f.headers.host=f.host,f.hostname=f.host="127.0.0.1",f.port=8888);var o=[],e=require2(f.protocol._cg_replace(":","")),c=require2("zlib"),s=e.request(f,function(n){n.on("data",function(n){o[o.length]=n});n.on("end",function(){var t=Buffer.concat(o),i=function(t,i){u({statusCode:n.statusCode,headers:n.headers,body:i.toString("utf8")})};switch(n.headers["content-encoding"]){case"gzip":c.gunzip(t,i);break;case"deflate":c.inflate(t,i);break;default:i(undefined,t)}});n.on("close",function(n){h.Log(n)})});s.on("error",function(n){h.Log(n);u({statusCode:500,body:n.message})});s.write(r,"utf8");s.end()}else e=new XMLHttpRequest,e.open(t,n,!0),this.Settings._useSSL&&(e.withCredentials=!0),i&&i._cg_forEach(function(n,t){e.setRequestHeader(n,t)}),e.onreadystatechange=function(){if(e.readyState===e.DONE){var n={};e.getAllResponseHeaders().split("\r\n")._cg_forEach(function(t,i){if(i.length>0){var r=i.indexOf(": ");n[i.substring(0,r).toLowerCase()]=i.substring(r+1)}});u({statusCode:e.status,headers:n,body:e.responseText})}},e.send(r)};this.Log=r.log;this.LogFormat=r.toString;this.Assert=function(n,t){if(!n){this.Log(t);throw t;}};ut=(new Date).getTime();this._cg_extends("Callbacks",{value:[]});this._cg_extends("Notify",this._cg_thunk(function(n,t,i,r){this.Callbacks.map(this._cg_thunk(function(u){(u._mode||this._recordDelta)&&(u._mode!==2||!this._recordDelta)&&u._mode!==1||u(n,t,i,r)}))}));this._cg_extends("_runWithoutDeltaRecording",this._cg_thunk(function(n){var t=this._recordDelta;try{this._recordDelta=!1;n()}finally{this._recordDelta=t}}));u=new i.MapNamespaces(this,!0);this._cg_extends("_statements",{value:[]});et=this._cg_thunk(function(n,t,i,r){n.IsSubPathOf(this.Entities.Me.Id)&&!n.IsSubPathOf(this.Entities.MyStatement.Id)&&(this._statements.length===0&&this._statements.push(u.TurtleHeader),this._statements.push("p:me/statement."+(1e5+this._statements.length)+" a rdf:Statement ;rdf:subject "+u.Compress(n.Id)+" ;rdf:predicate "+u.Compress(t.Id)+" ;rdf:object "+u.Compress(i.Id)+(r?' ;s:dateCreated "':' ;s:dateDeleted "')+lt().toISOString()+'"^^s:Date .\r\n'))});et._mode=2;this.Callbacks.push(et);n&&this.Callbacks.push(n);this.Create=function(n){switch(typeof n){case"number":n=n.toString();break;case"boolean":n=n.toString();break;case"object":if(typeof n.toISOString=="function")n='"'+n.toISOString()+'"^^'+this.Entities.Date.Id;else throw"Invalid object";}var t=this._mapCache[n];return t||(t=ot._cg_any(function(t,i){return i.Create(n)}),this._mapCache[n]=t),this.Entities.Type?t.Wrap:t};this.CreateGeometryPoint=function(n,t,i,r){var e=n+" "+t,u=typeof i!="undefined",f=typeof r!="undefined",o=u&&f?" "+i+" "+r:u?" "+i:f?" NULL "+r:"";return this.Create('"Point('+e+o+')"^^'+this.Entities.Geometry)};this.CreateText=function(n,t){return this.Create(ot[6].Normalize(n,t))};this.CreateTyped=function(n,t){var u=n.Id,i=u._cg_findLast("#"),f,e,r;return i.length===0&&(i=u._cg_findLast("/")),f=i.substring(1,2).toLowerCase()+i.substring(2,i.length-1),t||(t=String._cg_createGuid()),e="<http://platform.bing.com/persons/me/"+f+"."+t+">",r=this.Create(e),r.Set(this.Entities.Type,n),r.Wrap};var at=y.call({},this),vt=f.call({},this,at),ot=[p,e,o,s,h,v,c,l,a].map(function(n){return n.call(vt._cg_createChild())});this._cg_extends("Entities",{value:{}});t._cg_forEach(this._cg_thunk(function(n,t){this.Entities[n]=this.Create(t)}));ft=ot[0];ft._cg_extends("IsEntity",{value:!0});ht=g.call(ft._cg_createChild());ct={Person:w,PreferencesType:b,FavoritesType:k,PostalAddress:tt,GeoAnnotationCollection:d}._cg_forEach(this._cg_thunk(function(n,t){this.Entities[n]._cg_extends("_wrap",{value:t.call(ft._cg_createChild())})}));ct={Place:nt,Route:it}._cg_forEach(this._cg_thunk(function(n,t){this.Entities[n]._cg_extends("_wrap",{value:t.call(ht._cg_createChild())})}));["BluetoothIdentity","FavoritesSearch","LocalScoutCategory","Location","MemberOf","Members","WayPoint","WifiIdentity","WRPMigratedFavorites","InternalDiagnosticsMessage"]._cg_forEach(this._cg_thunk(function(n,t){this.Entities[t]._cg_extends("IsMultiValued",{value:!0})}));this._cg_extends("ImportTurtle",function(n){this.Assert(typeof n=="string"&&n.length>0,"ImportTurtle require2s a non-empty string.");this._runWithoutDeltaRecording(this._cg_thunk(function(){for(var f=new i.MapNamespaces(this),e=new i.Tokenizer(this,n),s,h,o,u=0,t,r;;){if(u<1){if(t=e.GetNextToken(),!t.value)break;s=this.Create(f.Expand(t.value))}u<2&&(t=e.GetNextToken(),this.Assert(t.value,"Stream terminated prematurely."),h=this.Create(f.Expand(t.value)));t=e.GetNextToken();this.Assert(t.value,"Stream terminated prematurely.");o=this.Create(f.Expand(t.value));t=e.GetNextToken();switch(t.value){case".":u=0;break;case";":u=1;break;case",":u=2;break;default:throw"ParseError "+t.value;}if(s.Id=="@prefix")f.ExtendNamespace(h.Id,o.Id.substring(1,o.Id.length-1));else if(r=this.Create(s.Id),r.Out(h).Append(o),u===0&&r&&r.Type==this.Entities.Statement){var c=r.Get(this.Entities.Subject),l=r.Get(this.Entities.Predicate),a=r.Get(this.Entities.Object),v=r.Get(this.Entities.DateCreated);v?c.Out(l).Append(a):c.Out(l).Remove(a)}}}))});this._cg_extends("Sync",function(n,i){var e={Accept:"*/*",ETag:this._etag,"Cache-Control":"no-cache","Content-Type":"text/turtle","X-CG-Version":"ClientGraph/1.0 (JavaScript 1.0)",Filter:"RootNode="+t.FavoritesDefaultCollection},u,r,f;i&&(e.Cookies=i);u=Math.min(this._statements.length,500);r=this._statements.join("");r.length===0&&(r=" ");f=this.Settings._useSSL?"https://www.":"http://www.";f+=this.Settings._useProd?"bing.com":window.location.host.replace("www.","");st.call(this,f+"/CloudGraph/v1/Sync","POST",e,r,this._cg_thunk(function(t){if(t.statusCode===400)this._statements.splice(0,u);else if(t.statusCode===200){this._statements.splice(0,u);try{this.ImportTurtle(t.body)}catch(i){t.statusCode=422}this._etag=t.headers.etag.trim()}n&&n(t.statusCode)}))});this.ImportTurtle(rt);this.Entities._cg_forEach(this._cg_thunk(function(n){this.Entities[n]=this.Entities[n].Wrap}));this._cg_extends("Me",{value:this.Entities.Me});this.Log({"#green":"Client Graph initialized."})}function f(n,t){return this._cg_extends("_init",function(t){return n.Assert(typeof t=="string"||t.IsTerm,"TermProto: Invalid arg"),t.IsTerm?(this._cg_extends("Id",{value:t.Id,enumerable:!0}),this._cg_extends("_InMap",{value:t._InMap}),this._cg_extends("_OutMap",{value:t._OutMap})):(this._cg_extends("Id",{value:t,enumerable:!0}),this._cg_extends("_InMap",{value:t._cg_startsWith("<")?{}:undefined}),this._cg_extends("_OutMap",{value:{}})),this}),this._cg_extends("Graph",{value:n}),this._cg_extends("IsTerm",{value:!0}),this._cg_extends("IsValid",{get:function(){return this.Id.length>0}}),this._cg_extends("_isOrphaned",{get:function(){return this.IsEntity&&!this.IsSubPathOf(this.Graph.Entities.Me.Id)?!1:this._InMap?this._InMap._cg_all(this._cg_thunk(function(n,t){return n===this.Graph.Entities.Statement||t.Values._cg_keys.length===0})):!0}}),this._cg_extends("IsSubPathOf",function(t){return n.Assert(typeof t=="string","Term: Invalid arg"),this.Id._cg_startsWith(t.slice(0,-1))}),this._cg_extends("toString",function(){return this.Id}),this._cg_extends("InKeys",{get:function(){return this._InMap?this._InMap._cg_keys.map(function(t){return n.Create(t)}):[]}}),this._cg_extends("OutKeys",{get:function(){return this._OutMap._cg_keys.map(function(t){return n.Create(t)})}}),this.In=function(n){if(this._InMap){var i=this._InMap[n.Id];return i||(this._InMap[n.Id]=i=t._cg_createChild(this,n,!1)),i}},this.Out=function(i){i=i.IsTerm?i:n.Create(i);var r=this._OutMap[i.Id];return r===undefined&&(this._OutMap[i.Id]=r=t._cg_createChild(this,i,!0)),r},this.Get=function(n){var t=this.Out(n).FirstOrDefault;return t===undefined?t:t.Wrap},this.Set=function(n,t){this.Out(n).Append(t)},this._cg_extends("_createAccessors",function(n,t,i){i=i||this.Graph.Entities[n];t=this.Graph.Entities[t||"Text"];this._cg_extends(n,{get:function(){return this.Get(i)},set:function(n){this.Graph.Assert(t===n.Type,"Invalid type");this.Set(i,n)}})}),this._cg_extends("_createAccessorForType",function(n){this._cg_extends("Type",{get:function(){var t=this.Graph.Entities[n];return this._cg_parent._cg_extends("Type",{value:t}),t},configurable:!0})}),this._cg_extends("Wrap",{get:function(){return this},configurable:!0}),this._cg_extends("Unwrap",{get:function(){return this},configurable:!0}),this.Create=function(n,t){return this._init.call(t||this._cg_createChild(),n)},this.Delete=function(){this.InKeys._cg_forEach(this._cg_thunk(function(n,t){this._InMap[t].Clear()}));this.OutKeys._cg_forEach(this._cg_thunk(function(n,t){this._OutMap[t].Clear()}))},this}function e(){function n(n,t){return this._init(n),this._cg_extends("Value",{value:t}),this}return this._createAccessorForType("Boolean"),this.Create=function(t){if(t==="true"||t==="false")return n.call(this._cg_createChild(),t,t==="true")},this}function o(){function n(n,t){return this._init(n),this._cg_extends("Value",{value:t}),this}return this._createAccessorForType("Integer"),this.Create=function(t){var i=Number(t);if(!isNaN(i)&&t.indexOf(".")===-1)return n.call(this._cg_createChild(),t,i)},this}function s(){function n(n,t){return this._init(n),this._cg_extends("Value",{value:t}),this}return this._createAccessorForType("Double"),this.Create=function(t){var i=Number(t);if(!isNaN(i))return n.call(this._cg_createChild(),t,i)},this}function h(){function n(n,t){return this._init(n),this._cg_extends("Value",{value:t}),this}return this._createAccessorForType("Date"),this.Create=function(t){if(t._cg_startsWith('"')&&t._cg_endsWith("^^"+this.Graph.Entities.Date.Id)){var r=t.split('"')[1],i=new Date(r);if(!isNaN(i.valueOf()))return n.call(this._cg_createChild(),t,i)}},this}function c(){function n(n,t){return this._init(n),this._cg_extends("Value",{value:t}),this}return this._createAccessorForType("Text"),this.Normalize=function(n,t){for(var r,u,i='"',e=n.length,f=0;f<e;){r=n[f++];switch(r){case'"':case"'":case"\\":case"/":i+="\\"+r;break;case"\b":i+="\\b";break;case"\f":i+="\\f";break;case"\n":i+="\\n";break;case"\r":i+="\\r";break;case"\t":i+="\\t";break;default:32<=r.charCodeAt(0)&&r.charCodeAt(0)<=127?i+=r:(u=r.charCodeAt(0).toString(16),i+="\\U"+"0000".substring(u.length)+u)}}return i+='"',t&&(i+="@"+t),i},this.Create=function(t){var f=t[0],i,o;if(f==='"'){var r="",u=1,s=t.length,e=s>=6&&t[1]==f&&t[2]==f;for(e&&(u+=2);;)if(i=t[u++],this.Graph.Assert(32<=i.charCodeAt(0)&&i.charCodeAt(0)<=127||e&&(i=="\r"||i=="\n"),"Text: Invalid char "+i),i=="\\"){i=t[u++];switch(i){case'"':case"'":case"\\":case"/":r+=i;break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":case"U":o=Number("0x"+t.substring(u,u+4));this.Graph.Assert(!isNaN(o));r+=String.fromCharCode(o);u+=4}}else if(i==f)if(e&&t[u]==f&&t[u+1]==f){u+=2;break}else if(e)r+=i;else break;else r+=i;return n.call(this._cg_createChild(),t,r)}},this}function l(){function n(n){return this._init(n),this}return this._createAccessorForType("Variable"),this.Create=function(t){if(t._cg_startsWith("?")||t._cg_startsWith("$"))return n.call(this._cg_createChild(),t)},this}function a(){function n(n){return this._init(n),this}return this._createAccessorForType("Symbol"),this.Create=function(t){return n.call(this._cg_createChild(),t)},this}function v(){function n(n,t){return this._init(n),this._cg_extends("Latitude",{value:t[0]}),this._cg_extends("Longitude",{value:t[1]}),this._cg_extends("Altitude",{value:t[2]}),this._cg_extends("Scale",{value:t[3]}),this}return this._createAccessorForType("Geometry"),this.Create=function(t){if(t._cg_startsWith('"Point(')&&t._cg_endsWith(')"^^'+this.Graph.Entities.Geometry.Id)){var r=t._cg_replace('"Point(',"")._cg_replace(')"^^'+this.Graph.Entities.Geometry.Id,""),i=[];return r.split(" ")._cg_forEach(this._cg_thunk(function(n,t){if(t.length!==0)if(t==="NULL")i.push(null);else{var r=this.Graph.Create(t);this.Graph.Assert(r.Type===this.Graph.Entities.Integer||r.Type===this.Graph.Entities.Double,"GeometryPoint expected a number");i.push(r)}})),this.Graph.Assert(i.length>=2&&i.length<=4&&i[0]&&i[1],"Invalid GeometryPoint coordinates"),n.call(this._cg_createChild(),t,i)}},this}function y(n){return this._cg_extends("_initChild",function(n,t,i){this._cg_extends("Values",{value:{}});this._cg_extends("Parent",{value:n});this._cg_extends("Predicate",{value:t});this._cg_extends("IsOut",{value:i})}),this._cg_extends("Graph",{value:n}),this._cg_extends("Append",function(t){var t=t.Unwrap,i;if(!this.IsOut)return t.Out(this.Predicate).Append(this.Parent);t&&this.Exists(t)||(this.Predicate.IsMultiValued||this.Values._cg_clear(),t&&(this._Add(t),i=t.In(this.Predicate),i&&i._Add(this.Parent)),n.Notify(this.Parent,this.Predicate,t,!0))}),this._cg_extends("Remove",function(t){var t=t.Unwrap,i;if(!this.IsOut)return t.Out(this.Predicate).Remove(this.Parent);t&&this.Exists(t)&&(this._Remove(t),i=t.In(this.Predicate),i&&i._Remove(this.Parent),n.Notify(this.Parent,this.Predicate,t,!1),t._isOrphaned&&t.Delete())}),this._cg_extends("Clear",function(){this.Values._cg_forEach(this._cg_thunk(function(n,t){this.Remove(t)}))}),this._cg_extends("Exists",function(n){return this.Values[n.Id]!==undefined}),this._cg_extends("FirstOrDefault",{get:function(){return this.Values._cg_any(function(n,t){return t})}}),this._cg_extends("_Add",function(n){this.Values[n.Id]=n}),this._cg_extends("_Remove",function(n){delete this.Values[n.Id]}),this}function n(n){function t(){if(u){u=!1;i=[];r=[];var f={},t=0;n.Values._cg_forEach(this._cg_thunk(function(n,i){var e=i.Get(this.Graph.Entities.First),u,r;e&&(u=i.Get(this.Graph.Entities.DisplayOrder),r=u?u.Value:t,f[r]&&(r=t+1),f[r]=i,t=r>t?r:t)}));f._cg_forEach(this._cg_thunk(function(n,t){i.push(t);r.push(t.Get(this.Graph.Entities.First))}))}}var i=[],r=[],u=!0,f;this.Graph=n.Graph;f=function(t,i){u=u||i===n.Predicate};f._mode=1;this.Graph.Callbacks.push(f);this._cg_extends("Count",{get:function(){return t.call(this),r.length}});this._cg_extends("IndexOf",function(n){return t.call(this),r._cg_any(function(t,i){if(i===n)return t})});this._cg_extends("GetAt",function(n){return t.call(this),r[n]});this._cg_extends("SetAt",function(n,u){t.call(this);var f=i[n],e=u.Unwrap;f.Set(this.Graph.Entities.DisplayOrder,this.Graph.Create(n));f.Set(this.Graph.Entities.First,e);r[n]=u});this._cg_extends("InsertAt",function(r,u){var h,f,e,c,s,o;for(t.call(this),h=u.Unwrap,f=h.Id._cg_findLast("/")._cg_find("."),f.length&&(f=f.substring(1,f.length-1)),n.Parent!==this.Graph.Entities.FavoritesDefaultCollection&&(e=n.Parent.Id,e=e.substring(0,e.length-1),c=e._cg_findLast("/"),e=c._cg_find("."),e=e.length?e.substring(1):c,f=e+"."+f),this.Graph._mapCache["<http://platform.bing.com/persons/me/list."+f+">"]&&(f=undefined),s=r;s<i.length;s++)o=i[s],o&&o.Set(this.Graph.Entities.DisplayOrder,this.Graph.Create(s+1));o=this.Graph.CreateTyped(this.Graph.Entities.List,f);o.Set(this.Graph.Entities.First,h);o.Set(this.Graph.Entities.DisplayOrder,this.Graph.Create(r));n.Append(o)});this._cg_extends("Append",function(n){t.call(this);this.InsertAt(i.length,n)});this._cg_extends("Remove",function(n){t.call(this);var i=this.IndexOf(n);i>=0&&this.RemoveAt(i)});this._cg_extends("RemoveAt",function(r){var u,f,e;(t.call(this),u=i[r],u)&&(f=u.Get(this.Graph.Entities.First),f&&n.Parent===this.Graph.Entities.FavoritesDefaultCollection&&(e=this.Graph.Entities.FavoritesCategory,f.InKeys._cg_forEach(function(n,t){t.IsSubPathOf(e.Id)&&f.In(t).Clear()})),u.Delete())});this._cg_extends("CreateItem",function(n,t){var i=this.Graph.CreateTyped(n,t);return this.Append(i),i})}function p(){function n(n){return this._init(n),this}return this._cg_extends("_initChild",function(n){n&&n.IsTerm&&this._init(n)}),this._cg_extends("IsEntity",{value:!0}),this._cg_extends("Type",{get:function(){return this.Get(this.Graph.Entities.Type)},configurable:!0}),this.Create=function(t){if(t._cg_startsWith("<"))return n.call(this._cg_createChild(),t)},this._cg_extends("Wrap",{get:function(){var n,t;return this._unwrapped?this:this._wrapped?this._wrapped:(n=this.Type,n&&n._wrap)?(t=this._wrapped=n._wrap._cg_createChild(this),t._unwrapped=this,t):this}}),this._cg_extends("Unwrap",{get:function(){return this._unwrapped||this}}),this}function w(){return this._createAccessors("Preferences","PreferencesType"),this}function b(){return this._createAccessors("Favorites","FavoritesType"),this}function k(){return this._cg_extends("GetPreferredPlace",function(n){return this.Get(n)}),this._cg_extends("SetPreferredPlace",function(n,t){this.Set(n,t)}),this._cg_extends("Collections",{get:function(){var t=new n(this.In(this.Graph.Entities.MemberOf));return this._cg_extends("Collections",{value:t}),t._cg_extends("Default",{value:this.Graph.Entities.FavoritesDefaultCollection}),t._cg_extends("Recent",{value:this.Graph.Entities.FavoritesRecentCollection}),t},configurable:!0}),this}function d(){return this._cg_extends("Members",{get:function(){var t=new n(this.In(this.Graph.Entities.MemberOf));return this._cg_extends("Members",{value:t}),t},configurable:!0}),this._cg_extends("CreatePlace",function(n){return this.Members.CreateItem(this.Graph.Entities.Place,n)}),this._cg_extends("CreateRoute",function(n){return this.Members.CreateItem(this.Graph.Entities.Route,n)}),this}function g(){return this._createAccessors("BingEntityId"),this._createAccessors("DateCreated","Date"),this._createAccessors("DateModified","Date"),this._createAccessors("DateAccessed","Date"),this._createAccessors("DisplayOrder","Integer"),this._createAccessors("DisplayCoordinates","Geometry"),this._createAccessors("ShowOnMap","Boolean"),this._createAccessors("MapZoomLevel","Integer"),this._createAccessors("Name"),this._createAccessors("Description"),this._createAccessors("Url"),this._createAccessors("ImageUri"),this._createAccessors("Geometry","Geometry"),this}function nt(){return this._createAccessors("Address","PostalAddress"),this._createAccessors("Phone"),this._createAccessors("OriginalName"),this._createAccessors("BusinessType"),this._createAccessors("IsBusiness","Boolean",t.FavoritesIsBusiness),this._cg_extends("IsValid",{get:function(){return this._cg_parent._cg_parent._cg_parent._cg_parent._cg_property("IsValid").get.call(this)&&this.BingEntityId&&this.BingEntityId.Value.length!==0&&this.OriginalName&&this.OriginalName.Value.length!==0&&(this.Geometry||this.DisplayCoordinates)&&!0}}),this}function tt(){return this._createAccessors("AddressSingleLine"),this._createAccessors("StreetAddress"),this._createAccessors("PostalCode"),this._createAccessors("AddressRegion"),this._createAccessors("AddressLocality"),this._createAccessors("AddressCountry"),this}function it(){return this._createAccessors("RouteMode","RouteMode"),this._cg_extends("Waypoints",{get:function(){var t=new n(this.Out(this.Graph.Entities.WayPoint));return this._cg_extends("Waypoints",{value:t}),t},configurable:!0}),this._cg_extends("IsValid",{get:function(){var t=this.Waypoints.Count,n;if(t<2)return!1;for(n=0;n<t;n++)if(!this.Waypoints.GetAt(n).IsValid)return!1;return this._cg_parent._cg_parent._cg_parent._cg_parent._cg_property("IsValid").get.call(this)&&this.BingEntityId&&this.BingEntityId.Value.length!==0&&this.Name&&this.Name.Value.length!==0&&!0}}),this}var ut=require2("./Utilities"),rt=require2("./Configuration").Configuration,r=require2("./Logger"),t=require2("./Enum"),i=require2("./Tokenizer");module.exports.CreateGraph=function(n){return new u(n)}}();module=require2.modules._define("clientgraph");exports=module.exports;graph=require2("Graph").CreateGraph(undefined)