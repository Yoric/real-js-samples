for(var gifLoadTimeout=0,gifList=document.querySelectorAll("ul.gifs li"),i=0;i<gifList.length;i++){for(var showGifs=function(e){var t=e.target;if(null==t.querySelector("video"))t.querySelector("img.thumb").setAttribute("src",t.querySelector("img.thumb").getAttribute("data-gif-url")),MG_Utils.addClass(t.querySelector("img.loader"),"fade"),t.querySelector("div")&&MG_Utils.addClass(t.querySelector("div"),"slide");else{var r=t.querySelector("video");t.querySelector(".js-webm")&&r.querySelector(".js-webm").setAttribute("src",r.getAttribute("data-webm")),t.querySelector(".js-mp4")&&r.querySelector(".js-mp4").setAttribute("src",r.getAttribute("data-mp4")),t.querySelectorAll("video")[0].load(),r.setAttribute("autoplay",!0)}gifLoadTimeout&&clearTimeout(gifLoadTimeout),removeLoader(t)},hideGifs=function(e){var t=e.target;if(null==t.querySelector("video"))t.querySelector("img.thumb").setAttribute("src",t.querySelector("img.thumb").getAttribute("data-static-url")),MG_Utils.removeClass(t.querySelector("img.loader"),"fade"),t.querySelector("div")&&MG_Utils.removeClass(t.querySelector("div"),"slide");else{var r=t.querySelector("video");r.querySelector(".js-webm")&&r.querySelector(".js-webm").removeAttribute("src"),r.querySelector(".js-mp4")&&r.querySelector(".js-mp4").removeAttribute("src"),t.querySelectorAll("video")[0].pause(),r.setAttribute("autoplay",!1),t.querySelectorAll("video")[0].load()}},imgThumb=gifList[i].querySelectorAll("img.thumb"),j=0;j<imgThumb.length;j++)MG_Utils.addEventHandler(imgThumb[j],"load",function(){MG_Utils.removeClass(this.parentNode.querySelector("img.loader"),"fade")});MG_Utils.addEventHandler(gifList[i],"mouseenter",showGifs),MG_Utils.addEventHandler(gifList[i],"mouseleave",hideGifs)}function removeLoader(e){gifLoadTimeout=setTimeout(function(){null!=e.querySelector("img.loader")&&MG_Utils.removeClass(e.querySelector("img.loader"),"fade")},1e4)}dropdown.init(".subFilter"),null!=document.getElementById("gifModalLink")&&MG_Utils.addEventHandler(document.getElementById("gifModalLink"),"click",function(e){if(MG_Utils.storage.hasLocalStorage)try{MG_Utils.storage.saveItem("gifView",1)}catch(e){localStorageFull(e)}window.location.href=document.querySelector(".gifLink").querySelectorAll("li")[0].querySelector("a").getAttribute("href")});