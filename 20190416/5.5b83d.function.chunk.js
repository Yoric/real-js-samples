(window.webpackJsonpwebpackLogReporter=window.webpackJsonpwebpackLogReporter||[]).push([[5],{84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(10)),i=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(e,t){if(!(e instanceof t))try{throw new TypeError("Cannot call a class as a function")}catch(e){}}(this,e),this.scrollDivClass="report-scroll-module",this.scrollSubDivClass="report-scroll-sub-module",this.ignoreHidden=t,this.scrollLintenerFns=[],this.checkScroll()}var t,n,r;return t=e,(n=[{key:"getOffset1",value:function(e){var t={top:0,left:0};return"function"==typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()),{top:t.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}},{key:"judgeHidden",value:function(e){for(var t=e;t!==document.body;){if(window.getComputedStyle(t)&&"none"===window.getComputedStyle(t).display)return!0;t=t.parentNode}return!1}},{key:"inView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.documentElement||document.body.parentNode||document.body,o=window.pageYOffset?window.pageYOffset:n.scrollTop,i=this.getOffset1(e).top,r=e.getBoundingClientRect().height,l=window.screen.availHeight;return t?i>=o&&i+200<o+l||i<=o&&i+r>o+200:i>=o&&i+200<o+l}},{key:"subInView",value:function(e,t){var n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return o.top>0&&o.top-n.top<n.height-200}},{key:"judgeAppear",value:function(){for(var e=document.querySelectorAll("."+this.scrollDivClass),t=0;t<e.length;t++){e[t].getAttribute("scrollshow")||this.ignoreHidden&&this.judgeHidden(e[t])||this.inView(e[t])&&(e[t].setAttribute("scrollshow",!0),this.todo(e[t].id,t))}}},{key:"judgeSubAppear",value:function(e){if(this.inView(e,!0))for(var t=e.querySelectorAll("."+this.scrollSubDivClass),n=0,o=t.length;n<o;n++){t[n].getAttribute("scrollshow")||this.ignoreHidden&&this.judgeHidden(t[n])||this.subInView(t[n],e)&&(t[n].setAttribute("scrollshow",!0),this.todo(t[n].id,n))}}},{key:"checkScroll",value:function(){var e=this;e.judgeAppear(),window.addEventListener("scroll",i.default.throttleV2(function(){e.judgeAppear()},100,200),!1)}},{key:"addScrollListenNode",value:function(e){var t=this,n=i.default.throttleV2(function(){t.judgeSubAppear(e)},100,200);this.scrollLintenerFns.push(n),e.addEventListener("scroll",n,!1)}},{key:"removeScrollListenNode",value:function(e){this.scrollLintenerFns.forEach(function(t){e.removeEventListener("scroll",t)})}},{key:"todo",value:function(e,t){var n=o.default.spmPrefix+".",i={};i.spm_id=n+e+".0",i.timestamp=(new Date).getTime(),i.msg=JSON.stringify({num:t+1,name:"report-scroll-module"}),o.default.receiveGroupMsg({type:"appear",obj:i})}}])&&l(t.prototype,n),r&&l(t,r),e}();t.default=u}}]);