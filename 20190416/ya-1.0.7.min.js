!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ya=t():e.ya=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){return Object.prototype.toString.call(e).slice(8,-1)}function o(e,t){return null!=t&&i(t)===e}function u(e){return o("Object",e)}function a(e){return o("Array",e)}function l(e){return o("String",e)}function f(e){return Math.abs(e)===1/0}function s(e){return o("Number",e)&&!y(e)&&!f(e)}function c(e){return o("Boolean",e)}function d(e){return o("Map",e)}function g(e){return null===e}function p(e){return void 0===e}function y(e){return!("object"!==(void 0===e?"undefined":r(e))||!o("Number",e)||!isNaN(e))||o("Number",e)&&e!=e}function v(e){return""+e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e=Number(e))?e:t}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=h(e,t))===t?e:parseInt(e)}t.default={getType:i,is:o,isObject:u,isArray:a,isString:l,isNumber:s,isBoolean:c,isMap:d,isPrimitive:function(e){return s(e)||l(e)||c(e)},isFunction:function(e){return o("Function",e)},isNull:g,isNaN:y,isUndefined:p,findKey:function(e,t){return o("Object",e)&&e.hasOwnProperty(t)},isUUID:function(e){return!!l(e)&&null!==e.match(/^[\da-fA-F]{8}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{12}$/)},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},merge:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.length,i={},o=function(e){var n=t[e];Object.keys(n).forEach(function(e){i[e]=n[e]})},u=0;u<r;u++)o(u);return i},getTime:function(){return(new Date).getTime()},normalizeToString:v,normalizeToNumber:h,normalizeToInt:b,normalizeToUnsignedInt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=b(e,t))===t?e:e>=0?e:t},isEmpty:function(e){return!!(g(e)||p(e)||y(e))||(l(e)?""===e:s(e)||f(e)?0===e:u(e)?0===Object.keys(e).length:a(e)?0===e.length:!!d(e)&&0===e.size)},snakeToLCC:function(e){return(e=v(e).replace(/_+([a-z])/g,function(e,t){return t.toUpperCase()})).charAt(0).toLowerCase()+e.slice(1)},urlQueryBuild:function(e){var t="";return u(e)&&(t=Object.keys(e).map(function(t){return[t,e[t]].map(v).map(encodeURIComponent).join("=")}).join("&")),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=t.Util=t.CLog=void 0;var r=u(n(2)),i=u(n(0)),o=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}t.CLog=r.default,t.Util=i.default,t.Browser=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=(r=o)&&r.__esModule?r:{default:r};function a(){return["Object","Console"].indexOf(u.default.getType(console))>=0?console:{}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"debug",value:function(){var t=a();if(this.logLevel>=e.DEBUG){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];u.default.isFunction(t.debug)?this.printLog(t.debug,r):u.default.isFunction(t.log,r)&&(r.unshift("[DEBUG]"),this.printLog(t.log,r))}}},{key:"info",value:function(){var t=a();if(this.logLevel>=e.INFO){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];u.default.isFunction(t.info)?this.printLog(t.info,r):u.default.isFunction(t.log,r)&&(r.unshift("[INFO]"),this.printLog(t.log,r))}}},{key:"warning",value:function(){var t=a();if(this.logLevel>=e.WARNING){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];u.default.isFunction(t.warn)?this.printLog(t.warn,r):u.default.isFunction(t.log,r)&&(r.unshift("[WARN]"),this.printLog(t.log,r))}}},{key:"error",value:function(){var t=a();if(this.logLevel>=e.CRITICAL){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];u.default.isFunction(t.error)?this.printLog(t.error,r):u.default.isFunction(t.log,r)&&(r.unshift("[ERROR]"),this.printLog(t.log,r))}}},{key:"printLog",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=new Date;i.unshift("["+o.toLocaleTimeString()+"."+o.getUTCMilliseconds()+"]"),u.default.isEmpty(this._prefix)||i.unshift(this._prefix),r.apply(console,i)}},{key:"NONE",get:function(){return 0}},{key:"CRITICAL",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"prefix",set:function(e){this._prefix=e}},{key:"defaultLogLevel",get:function(){return this.CRITICAL}},{key:"logLevel",get:function(){return u.default.isNumber(this._logLevel)?this._logLevel:this.defaultLogLevel},set:function(e){u.default.isNumber(e)&&[0,1,2,3,4].indexOf(e)>=0&&(this._logLevel=e)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),u=(r=o)&&r.__esModule?r:{default:r};t.default={generateMetrics:function(e,t){if("object"!==(void 0===e?"undefined":i(e)))return null;var n={},r=e.line||e.lineNumber,o=e.column||e.columnNumber;n.ts=u.default.getTime(),e.name&&(n.name=e.name),e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),r&&(n.line=r),o&&(n.col=o);var a="undefined"!=typeof window?window:{};return"object"===i(a.performance)&&"object"===i(a.performance.timing)&&u.default.isNumber(a.performance.timing.navigationStart)&&(n.progress_time=n.ts-a.performance.timing.navigationStart),n.ex_base="",void 0!==a.location&&void 0!==a.location.href&&(n.url=a.location.href),u.default.isString(t)&&(n.label=t),n},createImageTag:function(e,t){var n=document.createElement("img");u.default.isFunction(t)&&(n.onload=t),n.src=e}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(n(12)),u=l(n(4)),a=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return i.Util.isUndefined(e)||i.Util.isNull(e)?"":i.Util.isPrimitive(e)?i.Util.normalizeToString(e):""}function s(e){if(i.Util.isUndefined(e)||i.Util.isNull(e))return a.default;if(i.Util.isPrimitive(e)){var t=i.Util.normalizeToString(e);return""!==t?t:a.default}return""}function c(e){return""!==e}function d(e,t,n){if(!i.Util.isUndefined(n[t]))return n;var r=function(e,t){return!i.Util.isUndefined(e[t])&&e[t]instanceof o.default?e[t].getParameters():null}(e,t);return i.Util.isNull(r)||(n[t]=r),n}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackers={},this.tokens={},this.groups={default:[]},this.baseParameters={},this.pvid=u.default.getPageSession(),i.CLog.debug("[YAConfigurator#constructor] pvid = "+this.pvid)}return r(e,null,[{key:"getInstance",value:function(){return p}}]),r(e,[{key:"registerTracker",value:function(e,t,n){var r=f(e);if(""===r)return i.CLog.error("[YAConfigurator#registerTracker] 不正なロギングID",e),null;if(i.Util.isUndefined(t))return i.CLog.error("[YAConfigurator#registerTracker] TOKENが見つからない"),null;var u=s(n);if(""===u)return i.CLog.error("[YAConfigurator#registerTracker] 不正なグループ名"),null;if(!i.Util.isUndefined(this.trackers[r]))return i.CLog.debug("[YAConfigurator#registerTracker] Already created tracker, ["+r+"]"),this.trackers[r];var a=new o.default(r,u);return this.trackers[r]=a,this.tokens[r]=t,i.Util.isUndefined(this.groups[u])?(i.CLog.debug("[YAConfigurator#registerTracker] new group, ["+u+"]"),this.groups[u]=[r]):this.groups[u].push(r),i.CLog.info("[YAConfigurator#registerTracker] トラッカーを作成しました\nLoggingID="+r+", Group="+u+", Token="+t),a}},{key:"updateTracker",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default,r=f(n);if(""===r)return i.CLog.error("[YAConfigurator#updateTracker] 不正なロギングID",n),!1;if(!i.Util.isObject(e))return i.CLog.error("[YAConfigurator#updateTracker] 期待しないデータ型",e),!1;var o=[];if(i.Util.isUndefined(this.trackers[r])){if(!i.Util.isArray(this.groups[r]))return i.CLog.error("[YAConfigurator#updateTracker] トラッカー未作成のロギングIDまたはグループ",n),!1;this.groups[r].forEach(function(e){o.push(t.trackers[e])})}else o.push(this.trackers[r]);return o.forEach(function(t){Object.keys(e).forEach(function(n){t.setParameter(n,e[n])})}),i.CLog.info("[YAConfigurator#updateTracker] トラッカーに値を設定完了",o),!0}},{key:"setBaseParameters",value:function(e){return i.Util.isObject(e)?(this.baseParameters=i.Util.merge(this.baseParameters,e),i.CLog.info("[YAConfigurator#baseParameters] ベースパラメータ設定完了",this.baseParameters),!0):(i.CLog.error("[YAConfigurator#setBaseParameters] オブジェクト形式ではありません",e),!1)}},{key:"getBaseParameters",value:function(){return i.Util.merge(this.baseParameters,{pvid:this.pvid})}},{key:"getTrackerParameters",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r={};if(!i.Util.isString(t)&&i.Util.isPrimitive(t)||!i.Util.isEmpty(t))if(i.Util.isArray(t))n=i.Util.deepCopy(t);else{if(!i.Util.isPrimitive(t))return i.CLog.error("[YAConfigurator#getTrackerParameters] 不正なターゲット指定"),r;n=[t]}else n=[a.default];return n.map(f).filter(c).forEach(function(t){r=d(e.trackers,t,r)}),n.map(s).filter(c).filter(function(t){return i.Util.isArray(e.groups[t])}).forEach(function(t){e.groups[t].map(f).filter(c).forEach(function(t){r=d(e.trackers,t,r)})}),i.Util.deepCopy(r)}}]),e}(),p=new g;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(14)),o=a(n(15)),u=n(0);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"formatParameters",value:function(e){var t={};return u.Util.isObject(e)?(Object.keys(e).forEach(function(n){var r=u.Util.snakeToLCC(n);t[r]=e[n]}),t):t}},{key:"buildWritableCommonData",value:function(){var e="undefined"!=typeof window?window:{};o.default.document=e.document;var t={isNonInteraction:!this.defaultInteraction,dataSource:o.default.dataSource,pageUrl:o.default.pageUrl,pageReferrer:o.default.pageReferrer,pageTitle:o.default.pageTitle,userLanguage:o.default.userLanguage,screenColorDepth:o.default.screenColorDepth,viewportWidth:o.default.viewportWidth,viewportHeight:o.default.viewportHeight,deviceOrientation:o.default.deviceOrientation,screenWidth:o.default.screenWidth,screenHeight:o.default.screenHeight};return Object.keys(t).forEach(function(e){u.Util.isNull(t[e])&&delete t[e]}),t}},{key:"buildNonWritableCommonData",value:function(){return{loggingId:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,loggerSdkName:o.default.loggerSdkName,loggerSdkVersion:o.default.loggerSdkVersion,hitType:this.hitType||null,clientHitTimestamp:u.Util.getTime()}}},{key:"run",value:function(e,t,n,r,o){if(!u.Util.isString(e)||u.Util.isEmpty(e))return null;u.CLog.debug("[BaseBuilder#run] hit schema = "+this.hitType+", rule =",this.rule);var a=this.buildWritableCommonData(),l=this.formatParameters(t),f=this.formatParameters(n),s=this.formatParameters(r),c=this.formatParameters(o),d=this.buildNonWritableCommonData(e);d.hitSequence=s.hitSequence,d.pvid=f.pvid,u.CLog.debug("[BaseBuilder#run] common =",a,"builder =",l,"base =",f,"tracker =",s,"hit =",c,"non_writable =",d);var g=u.Util.merge(a,l,f,s,c,d);return i.default.run(this.rule,g)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={hitType:{short:"ht",type:"string"},loggingId:{short:"lid",type:"string"},clientHitTimestamp:{short:"cht",type:"number"},loggerSdkName:{short:"lsn",type:"string"},loggerSdkVersion:{short:"lsv",type:"string"},isNonInteraction:{short:"ini",type:"boolean"},pageUrl:{short:"pu",type:"string"},pageReferrer:{short:"pr",type:"string"},pageTitle:{short:"pt",type:"string"},userLanguage:{short:"ul",type:"string"},dataSource:{short:"ds",type:"string"},screenWidth:{short:"sw",type:"number"},screenHeight:{short:"sh",type:"number"},viewportWidth:{short:"vw",type:"number"},viewportHeight:{short:"vh",type:"number"},screenColorDepth:{short:"scd",type:"number"},deviceOrientation:{short:"do",type:"string"},hitSequence:{short:"hs",type:"number"},pvid:{short:"pvid",type:"string"}}},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){return Object.prototype.toString.call(e).slice(8,-1)}function o(e,t){return null!=t&&i(t)===e}function u(e){return o("Object",e)}function a(e){return o("Array",e)}function l(e){return o("String",e)}function f(e){return Math.abs(e)===1/0}function s(e){return o("Number",e)&&!y(e)&&!f(e)}function c(e){return o("Boolean",e)}function d(e){return o("Map",e)}function g(e){return null===e}function p(e){return void 0===e}function y(e){return!("object"!==(void 0===e?"undefined":r(e))||!o("Number",e)||!isNaN(e))||o("Number",e)&&e!=e}function v(e){return""+e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e=Number(e))?e:t}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=h(e,t))===t?e:parseInt(e)}t.default={getType:i,is:o,isObject:u,isArray:a,isString:l,isNumber:s,isBoolean:c,isMap:d,isPrimitive:function(e){return s(e)||l(e)||c(e)},isFunction:function(e){return o("Function",e)},isNull:g,isNaN:y,isUndefined:p,findKey:function(e,t){return o("Object",e)&&e.hasOwnProperty(t)},isUUID:function(e){return!!l(e)&&null!==e.match(/^[\da-fA-F]{8}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{12}$/)},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},merge:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.length,i={},o=function(e){var n=t[e];Object.keys(n).forEach(function(e){i[e]=n[e]})},u=0;u<r;u++)o(u);return i},getTime:function(){return(new Date).getTime()},normalizeToString:v,normalizeToNumber:h,normalizeToInt:b,normalizeToUnsignedInt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=b(e,t))===t?e:e>=0?e:t},isEmpty:function(e){return!!(g(e)||p(e)||y(e))||(l(e)?""===e:s(e)||f(e)?0===e:u(e)?0===Object.keys(e).length:a(e)?0===e.length:!!d(e)&&0===e.size)},snakeToLCC:function(e){return(e=v(e).replace(/_+([a-z])/g,function(e,t){return t.toUpperCase()})).charAt(0).toLowerCase()+e.slice(1)},urlQueryBuild:function(e){var t="";return u(e)&&(t=Object.keys(e).map(function(t){return[t,e[t]].map(v).map(encodeURIComponent).join("=")}).join("&")),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=t.Util=t.CLog=void 0;var r=u(n(2)),i=u(n(0)),o=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}t.CLog=r.default,t.Util=i.default,t.Browser=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=(r=o)&&r.__esModule?r:{default:r};function a(){return["Object","Console"].indexOf(u.default.getType(console))>=0?console:{}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"debug",value:function(){var t=a();if(this.logLevel>=e.DEBUG){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];u.default.isFunction(t.debug)?this.printLog(t.debug,r):u.default.isFunction(t.log,r)&&(r.unshift("[DEBUG]"),this.printLog(t.log,r))}}},{key:"info",value:function(){var t=a();if(this.logLevel>=e.INFO){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];u.default.isFunction(t.info)?this.printLog(t.info,r):u.default.isFunction(t.log,r)&&(r.unshift("[INFO]"),this.printLog(t.log,r))}}},{key:"warning",value:function(){var t=a();if(this.logLevel>=e.WARNING){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];u.default.isFunction(t.warn)?this.printLog(t.warn,r):u.default.isFunction(t.log,r)&&(r.unshift("[WARN]"),this.printLog(t.log,r))}}},{key:"error",value:function(){var t=a();if(this.logLevel>=e.CRITICAL){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];u.default.isFunction(t.error)?this.printLog(t.error,r):u.default.isFunction(t.log,r)&&(r.unshift("[ERROR]"),this.printLog(t.log,r))}}},{key:"printLog",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=new Date;i.unshift("["+o.toLocaleTimeString()+"."+o.getUTCMilliseconds()+"]"),u.default.isEmpty(this._prefix)||i.unshift(this._prefix),r.apply(console,i)}},{key:"NONE",get:function(){return 0}},{key:"CRITICAL",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"prefix",set:function(e){this._prefix=e}},{key:"defaultLogLevel",get:function(){return this.CRITICAL}},{key:"logLevel",get:function(){return u.default.isNumber(this._logLevel)?this._logLevel:this.defaultLogLevel},set:function(e){u.default.isNumber(e)&&[0,1,2,3,4].indexOf(e)>=0&&(this._logLevel=e)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),u=(r=o)&&r.__esModule?r:{default:r};t.default={generateMetrics:function(e,t){if("object"!==(void 0===e?"undefined":i(e)))return null;var n={},r=e.line||e.lineNumber,o=e.column||e.columnNumber;n.ts=u.default.getTime(),e.name&&(n.name=e.name),e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),r&&(n.line=r),o&&(n.col=o);var a="undefined"!=typeof window?window:{};return"object"===i(a.performance)&&"object"===i(a.performance.timing)&&u.default.isNumber(a.performance.timing.navigationStart)&&(n.progress_time=n.ts-a.performance.timing.navigationStart),n.ex_base="",void 0!==a.location&&void 0!==a.location.href&&(n.url=a.location.href),u.default.isString(t)&&(n.label=t),n},createImageTag:function(e,t){var n=document.createElement("img");u.default.isFunction(t)&&(n.onload=t),n.src=e}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i={},o={get:function(e){return i[e]||null},set:function(e,t){i[e]=t}};o.set("apiScheme","https://"),o.set("apiHost","dsb.yahoo.co.jp"),o.set("apiPath","/api/v1/stream"),o.set("apiPathSendBeacon","/api/v1/stream_nct"),o.set("ajaxTimeout",5e3),o.set("clientIdSize","'token':'01234567-0123-0123-0123-0123456789AB',".length),o.set("wrapJsonSize","{'r':[]}".length),o.set("maxRequestRecordsLength",65536-4*(o.get("clientIdSize")-o.get("wrapJsonSize"))),o.set("shortTimerInterval",1e3),o.set("longTimerInterval",5e3),r.CLog.debug("[config]",o),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=(r=i)&&r.__esModule?r:{default:r},u=n(0),a="undefined"!=typeof window?window:{};a.YAS=a.YAS||{};var l=a.YAS;u.Util.isUndefined(l.CoreLogger)?l.CoreLogger=o.default:l.CoreLogger.compatNumber<o.default.compatNumber?(l.CoreLogger.flush(),l.CoreLogger.destroy(),l.CoreLogger=o.default):o.default.destroy(),t.default=l.CoreLogger},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=s(n(4)),u=s(n(5)),a=s(n(8)),l=s(n(1)),f=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var c=new u.default,d=new a.default(c),g=(0,o.default)();i.CLog.prefix="[CoreLogger]";var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"setConsoleLogLevel",value:function(e){i.CLog.logLevel=e}},{key:"getConsoleLogLevel",value:function(){return i.CLog.logLevel}},{key:"setBeaconServer",value:function(e){i.Util.isString(e)&&(l.default.set("apiHost",e),i.CLog.info("[送信先変更]",e))}},{key:"enableSecureTransport",value:function(e){!0===e?l.default.set("apiScheme","https://"):!1===e&&(l.default.set("apiScheme","http://"),i.CLog.warning("通信にHTTPを利用します"))}},{key:"send",value:function(e){i.Util.isObject(e)?(c.push(e.token,e.project,e.dataset,e.data),i.Util.isUndefined(e.flush)||i.Util.isBoolean(e.flush)||i.CLog.warning("flushオプションが期待するのはboolean型です"),i.Util.isUndefined(e.async)||i.Util.isBoolean(e.async)||i.CLog.warning("asyncオプションが期待するのはboolean型です"),!0===e.flush?this.flush(e.callback,e.async):d.setTimer()):i.CLog.error("引数の型が不正")}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i.Util.isFunction(e)?c.send(e,t):(i.Util.isNull(e)||i.CLog.warning("callbackには関数を指定してください"),c.send())}},{key:"getSdkName",value:function(){return f.default.name}},{key:"getSdkVersion",value:function(){return f.default.version}},{key:"getPageSession",value:function(){return g}},{key:"destroy",value:function(){i.CLog.debug("[バッファ削除]",c.queue),d.destroy(),c.queue=[],c.queueSize=0}},{key:"compatNumber",get:function(){return 2}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(n(6)),u=l(n(7)),a=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queue=[],this.queueSize=0,this.sizeArray=[],this.online=!0}return r(e,[{key:"push",value:function(e,t,n,r){var o=u.default.recordsBuild(e,t,n,r),l=JSON.stringify(o).length;if(!(o.length<1))if(l>=a.default.get("maxRequestRecordsLength"))i.CLog.error("データのサイズが大きすぎます "+l+"/"+a.default.get("maxRequestRecordsLength"),o);else if(this.queueSize+l<a.default.get("maxRequestRecordsLength"))this.sizeArray.push(l),this.queue=this.queue.concat(o),this.queueSize+=l;else if(this.online)this.send(),this.sizeArray.push(l),this.queueSize+=l,this.queue=this.queue.concat(o);else{this.sizeArray.push(l),this.queue=this.queue.concat(o),this.queueSize+=l;for(var f=this.sizeArray.length-1,s=0;f>=0;f--)if((s+=this.sizeArray[f])>=a.default.get("maxRequestRecordsLength")){for(var c=0;c<=f;c++)i.CLog.warning("データ容量超過のため削除",this.queue[0]),this.queueSize-=this.sizeArray[0],this.queue.shift(),this.sizeArray.shift();break}}}},{key:"send",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.queue.length>0&&this.online){var n=u.default.requestBodyBuild(this.queue);this.queue=[],this.queueSize=0,this.sizeArray=[],o.default.send(n,e,t)}}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),a=n(1),l=(r=a)&&r.__esModule?r:{default:r},f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="undefined"!=typeof window?window:{};u.Util.isNull(t)&&n&&"object"===i(r.navigator)&&u.Util.isFunction(r.navigator.sendBeacon)?this.sendBeacon(e):this.sendAjax(e,t,n)}},{key:"sendAjax",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(){var e=null;if("undefined"==typeof XMLHttpRequest)return null;try{if(!("withCredentials"in(e=new XMLHttpRequest)))return null;if("undefined"!=typeof XDomainRequest)return null}catch(e){return u.CLog.error("XMLHttpRequestオブジェクトの作成に失敗",e),null}return e}(),i=""+l.default.get("apiScheme")+l.default.get("apiHost")+l.default.get("apiPath"),o=function(){u.Util.isFunction(t)&&t()};u.Util.isNull(r)||(r.open("POST",i,n),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n&&("timeout"in r||!l.default.get("ajaxTimeout")?r.timeout=l.default.get("ajaxTimeout"):setTimeout(function(){r.abort(),o()},l.default.get("ajaxTimeout"))),r.onload=r.ontimeout=r.onerror=r.onabort=o,r.send(e),u.CLog.info("[送信]",i,e))}},{key:"sendBeacon",value:function(e){var t=""+l.default.get("apiScheme")+l.default.get("apiHost")+l.default.get("apiPathSendBeacon"),n=new Blob(["q="+encodeURIComponent(e)],{type:"application/x-www-form-urlencoded",host:l.default.get("apiHost")});navigator.sendBeacon(t,n),u.CLog.info("[送信]",t,e)}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"recordBuild",value:function(e,t,n,r){if(!i.Util.isString(e)||!i.Util.isUUID(e))return i.CLog.error("tokenが不正な値:",e),null;if(!i.Util.isString(t)||t.length<1)return i.CLog.error("projectが不正な値:",t),null;if(!i.Util.isString(n)||n.length<1)return i.CLog.error("datasetが不正な値:",n),null;if(!i.Util.isObject(r))return i.CLog.error("dataが不正な値:",r),null;var o=i.Util.deepCopy(r);Object.keys(o).forEach(function(e){0===e.indexOf("cex_")&&(i.CLog.warning("パラメータ "+e+": cex_で始まるキーは予約済みキーのため使用できません."),delete o[e])}),o.cex_cqt=i.Util.getTime();var u={tk:e,p:t,d:n,data:o};return i.CLog.info("[レコード生成]",u),u}},{key:"recordsBuild",value:function(e,t,n,r){var o=this,u=[],a=function(r){var a=o.recordBuild(e,t,n,r);i.Util.isNull(a)||u.push(a)};return i.Util.isObject(r)?a(r):i.Util.isArray(r)&&r.forEach(a),u}},{key:"requestBodyBuild",value:function(e){var t={},n=i.Util.deepCopy(e);return t.cex_cst=i.Util.getTime(),JSON.stringify({r:n,bp:t})}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),a=n(1),l=(r=a)&&r.__esModule?r:{default:r},f=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buffer=t,this.shortInterval=i||l.default.get("shortTimerInterval"),this.longInterval=r||l.default.get("longTimerInterval"),this.shortTimer=null,this.longTimer=null,this.leaveCallback=function(e){u.CLog.debug("fire inactive event. type = "+e.type),n.buffer.queue.length>0&&(n.buffer.send(),n.clearAllTimer())};var o="undefined"!=typeof window?window:{};this.destroy=function(){u.Util.isFunction(o.removeEventListener)&&(e.INACTIVE_EVENTS.forEach(function(e){o.removeEventListener(e,n.leaveCallback,!1)}),o.removeEventListener("online",n.onlineHandler,!1),o.removeEventListener("offline",n.offlineHandler,!1))},u.Util.is("Window",o)&&u.Util.isFunction(o.addEventListener)?e.INACTIVE_EVENTS.forEach(function(e){o.addEventListener(e,n.leaveCallback,!1)}):u.CLog.warning("not hook a leave event."),this.createNetWorkStateHandler(),this.setInitialNetWork(),this.setNetWorkWatcher()}return o(e,null,[{key:"INACTIVE_EVENTS",get:function(){return["blur","pagehide","visibilitychange-hidden","beforeunload","unload"]}}]),o(e,[{key:"createNetWorkStateHandler",value:function(){var e=this;this.onlineHandler=function(){e.buffer.online=!0,e.buffer.queue.length>0&&e.buffer.send()},this.offlineHandler=function(){e.buffer.online=!1}}},{key:"setInitialNetWork",value:function(){var e="undefined"!=typeof window?window:{};u.Util.is("Window",e)&&"object"===i(e.navigator)&&u.Util.isBoolean(e.navigator.onLine)?this.buffer.online=e.navigator.onLine:this.buffer.online=!0}},{key:"setNetWorkWatcher",value:function(){var e="undefined"!=typeof window?window:{};u.Util.isFunction(e.addEventListener)&&(e.addEventListener("online",this.onlineHandler,!1),e.addEventListener("offline",this.offlineHandler,!1))}},{key:"setTimer",value:function(){var e=this;u.Util.isNull(this.shortTimer)||(clearTimeout(this.shortTimer),this.shortTimer=null),this.shortTimer=setTimeout(function(){e.buffer.send(),e.clearAllTimer(),u.CLog.debug("Called: short timer fire.")},this.shortInterval),u.Util.isNull(this.longTimer)&&(this.longTimer=setTimeout(function(){e.buffer.send(),e.clearAllTimer(),u.CLog.debug("Called: long timer fire.")},this.longInterval))}},{key:"clearAllTimer",value:function(){clearTimeout(this.shortTimer),clearTimeout(this.longTimer),this.shortTimer=null,this.longTimer=null}}]),e}();t.default=f},function(e){e.exports={name:"YASCoreLogger-web",version:"0.2.17"}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="default"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=n(1),a=(r=u)&&r.__esModule?r:{default:r},l=n(0);var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"run",value:function(){var e=void 0,t=void 0;if(1===arguments.length&&o.Util.isObject(arguments.length<=0?void 0:arguments[0]))t=arguments.length<=0?void 0:arguments[0];else{if(2!==arguments.length||!o.Util.isString(arguments.length<=0?void 0:arguments[0])||!o.Util.isObject(arguments.length<=1?void 0:arguments[1]))return void l.CLog.error("[ParamCommander#run] 不正な引数の指定");e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1]}var n=a.default.getInstance();o.Util.isString(e)?"*"===e.trim()?Object.keys(n.trackers).forEach(function(e){n.updateTracker(t,e)}):n.updateTracker(t,e):n.updateTracker(t)}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=c(n(4)),u=c(n(13)),a=c(n(17)),l=c(n(19)),f=c(n(21)),s=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var d=s.default.getInstance(),g={pageview:u.default,timing:l.default,webPerformance:a.default,event:f.default},p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getHitBuilder",value:function(e){var t=i.Util.snakeToLCC(e);return!i.Util.isString(t)||i.Util.isUndefined(g[t])?(i.CLog.error("[HitCommander#getHitBuilder] 不正なイベント名",t),null):(i.CLog.debug("[HitCommander#getHitBuilder] "+t+" builder is finded."),g[t])}},{key:"run",value:function(){var e=this,t=void 0,n=void 0,r=void 0,u=arguments.length;if(this.isFlush=!1,i.Util.isString(arguments.length<=0?void 0:arguments[0])&&i.Util.isString(arguments.length<=1?void 0:arguments[1])&&(2===u||3===u&&i.Util.isObject(arguments.length<=2?void 0:arguments[2])))t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=i.Util.isObject(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:{};else{if(!i.Util.isString(arguments.length<=0?void 0:arguments[0])||!(1===u||2===u&&i.Util.isObject(arguments.length<=1?void 0:arguments[1])))return void i.CLog.error("[HitCommander#run] 不正な引数の指定");n=arguments.length<=0?void 0:arguments[0],r=i.Util.isObject(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:{}}var l=this.formatConfig(r);n.split(",").forEach(function(n){var u=e.getHitBuilder(n.trim());if(null!==u){if(u===a.default){var f=a.default.timing;return i.Util.isNull(f)?void i.CLog.debug("[HitCommander#run] timing object not exist."):(i.CLog.debug("[HitCommander#run] window onload is not over yet, wait a moment"),void function e(n){var f=a.default.timing;if(i.Util.isUndefined(f.loadEventEnd)||f.loadEventEnd>0)return i.CLog.debug("[HitCommander#run] window onload was over."),n.generate(u,t,r),void o.default.flush(l.eventCallback);setTimeout(e,100,n)}(e))}e.generate(u,t,r)}}),this.isFlush&&!0!==l.nonFlush&&(o.default.flush(l.eventCallback),i.CLog.info("[HitCommander#run] フラッシュ完了"))}},{key:"generate",value:function(e,t,n){var r=this,u=d.getBaseParameters(),a=d.getTrackerParameters(t);i.CLog.debug("[HitCommander#generate] Fire "+e.schemaName+", LoggingIDs are ["+Object.keys(a)+"]"),Object.keys(a).forEach(function(t){var l=e.run(t,u,a[t],n);i.Util.isNull(l)?i.CLog.error("[HitCommander#generate] ログ生成失敗\nLoggingID="+t+", EventName="+e.schemaName+", options="+n):(o.default.send({token:d.tokens[t],project:"ya",dataset:t,data:l}),r.isFlush=!0,i.CLog.info("[HitCommander#generate] ログ登録完了",l))})}},{key:"formatConfig",value:function(e){var t=["nonFlush","eventCallback"],n={};return Object.keys(e).forEach(function(r){t.indexOf(i.Util.snakeToLCC(r))>-1&&(n[i.Util.snakeToLCC(r)]=e[r])}),n}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(n(5)),u=l(n(7)),a=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n="undefined"!=typeof window?window:{};this.isStart=!1,this.targets=[],this.title=n.document.title,this.url=n.window.location.href,this.options=this.optionsFormater(t)}return r(e,[{key:"addTarget",value:function(e){var t=i.Util.isString(e)?e:o.default;i.CLog.debug("[BaseObserver#addTarget] "+t+" added. spa tracking."),-1===this.targets.indexOf(t)&&(this.targets.push(t),this.options.initPageview&&u.default.run(t,"pageview,webPerformance"))}},{key:"fire",value:function(){var e=this,t="undefined"!=typeof window?window:{};this.options.requireUrlChange&&this.url===t.window.location.href?i.CLog.debug("[BaseObserver#fire] not url changed."):this.options.requireTitleChange&&this.title===t.document.title?i.CLog.debug("[BaseObserver#fire] not title changed."):this.options.requireNonEmptyTitle&&i.Util.isEmpty(t.document.title)?i.CLog.debug("[BaseObserver#fire] title is empty."):(this.targets.forEach(function(t){a.default.run(t,{pageReferrer:e.url}),u.default.run(t,"pageview"),i.CLog.info("[BaseObserver#fire] "+t+" へ自動PVを送信しました.")}),this.title=t.document.title,this.url=t.window.location.href,i.Util.isFunction(this.options.pvCallback)&&this.options.pvCallback())}},{key:"optionsFormater",value:function(e){var t=i.Util.isObject(e)?e:{},n={};return Object.keys(t).forEach(function(e){var r=i.Util.snakeToLCC(e);n[r]=t[e]}),n.initPageview=!i.Util.isBoolean(n.initPageview)||n.initPageview,n.requireUrlChange=!!i.Util.isBoolean(n.requireUrlChange)&&n.requireUrlChange,n.requireTitleChange=!!i.Util.isBoolean(n.requireTitleChange)&&n.requireTitleChange,n.requireNonEmptyTitle=!i.Util.isBoolean(n.requireNonEmptyTitle)||n.requireNonEmptyTitle,n.minElapsedTime=i.Util.isNumber(n.minElapsedTime)?n.minElapsedTime:0,n.interval=i.Util.isNumber(n.interval)?n.interval:200,n}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(10),o=(r=i)&&r.__esModule?r:{default:r},u=n(0);t.default=o.default,u.CLog.prefix="[YA]";var a="undefined"!=typeof window?window:{};if(u.Util.is("Window",a)&&u.Util.isString(a.location.href)){var l=location.href.match(/yadebug=(\d)/);u.Util.isNull(l)||(u.CLog.logLevel=u.Util.normalizeToNumber(l[1]))}u.Util.isArray(a.yacmds)&&a.yacmds.forEach(function(e){e=Array.prototype.slice.call(e),u.CLog.debug("ya() called from command queue.",e),o.default.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0!==t.length){var i=t[0],o=t.slice(1);if(r.Util.findKey(d,i)&&r.Util.isFunction(d[i].run))try{var u;(u=d[i]).run.apply(u,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o))}catch(e){var a=r.Util.merge(r.Browser.generateMetrics(e,i),{tk:s.default.errMetrics.tk,p:s.default.errMetrics.pj,d:s.default.errMetrics.ds}),l=r.Util.urlQueryBuild(a);r.Browser.createImageTag("https://dsb.yahoo.co.jp/api/v1/clear.gif?"+l)}else r.CLog.warning("[ya] 指定されたコマンドが見つかりません",i)}else r.CLog.warning("[ya] コマンドが指定されてません")};var r=n(0),i=c(n(11)),o=c(n(6)),u=c(n(7)),a=c(n(23)),l=c(n(24)),f=c(n(27)),s=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}var d={init:i.default,param:o.default,hit:u.default,debug:f.default,spa:l.default,global:a.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=n(1),a=(r=u)&&r.__esModule?r:{default:r};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"run",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.default.getInstance();o.Util.isPrimitive(e)?(n=o.Util.isObject(n)?n:{},o.Util.findKey(n,"groups")?(o.CLog.debug("[ConfigCommander#run] found options.groups",n.groups),r.registerTracker(e,t,n.groups)):(o.CLog.debug("[ConfigCommander#run] not found options.groups"),r.registerTracker(e,t))):o.CLog.error("[ConfigCommander#run] ロギングIDは文字列を期待します",e)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=i.Util.isString(t)?t:"",this.group=i.Util.isString(n)?n:"",this.parameters={},this.hitSequence=0}return r(e,[{key:"setParameter",value:function(e,t){var n,r=(n=e,i.Util.isPrimitive(n)?i.Util.normalizeToString(n):"");""!==r&&(this.parameters[r]=function(e){return i.Util.isUndefined(e)?"":e}(t))}},{key:"getParameters",value:function(){var e={hitSequence:++this.hitSequence};return i.Util.merge(this.parameters,e)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=a(n(2)),u=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var l=i.Util.deepCopy(u.default),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,null,[{key:"run",value:function(e,n,r,i){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,{},n,r,i)}},{key:"hitType",get:function(){return"pageview"}},{key:"rule",get:function(){return l}},{key:"defaultInteraction",get:function(){return!0}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);var o=new RegExp("^(.+?)([0-9]+)$");var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(e,t){if(!i.Util.isObject(e))return i.CLog.error("[YAValidator#run] 不正なルールセット",e),null;if(!i.Util.isObject(t))return i.CLog.error("[YAValidator#run] 不正な形式のデータ",t),null;var n=Object.keys(e).filter(function(t){return!e[t].numbered}),r=Object.keys(e).filter(function(t){return!!e[t].numbered}),u={};return Object.keys(t).filter(function(t){if(-1!==n.indexOf(t))return!0;var u=o.exec(t);if(null!==u&&-1!==r.indexOf(u[1])){var a=e[u[1]],l=i.Util.normalizeToNumber(u[2]);return!(i.Util.findKey(a,"min")&&l<a.min)&&(!(i.Util.findKey(a,"max")&&l>a.max)&&(e[t]={short:""+a.short+l,type:a.type},!0))}return!1}).forEach(function(n){var r=e[n],o=r.short,a=r.type,l=function(e,t){return i.Util.isUndefined(t)||i.Util.isNull(t)?null:"string"===e?i.Util.normalizeToString(t):"number"===e?i.Util.normalizeToNumber(t,null):Boolean(t)}(a,t[n]);null!==l?u[o]=l:i.CLog.warning("[YAValidator#run] "+n+"に"+a+"型以外の値("+t[n]+")が指定されています")}),u}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(16);function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t.slice(1),u=r,a=!0;return i.Util.isArray(o)&&o.length>0?o.forEach(function(e){u&&!i.Util.isUndefined(u[e])?u=u[e]:a=!1}):a=!1,a?u:null}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getVal",value:function(){return u.apply(void 0,arguments)}},{key:"document",set:function(e){this._document=e}},{key:"pageUrl",get:function(){return u(this._document,"location","href")}},{key:"pageReferrer",get:function(){var e=u(this._document,"referrer");return i.Util.isString(e)&&!i.Util.isEmpty(e)?e:null}},{key:"pageTitle",get:function(){return u(this._document,"title")}},{key:"userLanguage",get:function(){return u(this._document,"defaultView","navigator","language")||u(this._document,"defaultView","navigator","browserLanguage")}},{key:"dataSource",get:function(){return"web"}},{key:"loggerSdkName",get:function(){return"YASYahooAnalyticsLogger-web"}},{key:"loggerSdkVersion",get:function(){return i.Util.isString(o.version)?o.version:""}},{key:"screenWidth",get:function(){return u(this._document,"defaultView","screen","width")}},{key:"screenHeight",get:function(){return u(this._document,"defaultView","screen","height")}},{key:"viewportWidth",get:function(){var e=u(this._document,"documentElement","clientWidth"),t=u(this._document,"body","clientWidth"),n=u(this._document,"compatMode");return!e||"CSS1Compat"!==n&&t?t||null:e}},{key:"viewportHeight",get:function(){var e=u(this._document,"documentElement","clientHeight"),t=u(this._document,"body","clientHeight"),n=u(this._document,"compatMode");return!e||"CSS1Compat"!==n&&t?t||null:e}},{key:"screenColorDepth",get:function(){return u(this._document,"defaultView","screen","colorDepth")}},{key:"deviceOrientation",get:function(){var e=u(this._document,"defaultView","screen","orientation","type")||u(this._document,"defaultView","screen","mozOrientation","type")||u(this._document,"defaultView","screen","msOrientation","type"),t=u(this._document,"defaultView","orientation");if(i.Util.isString(e)){var n=e.match(/^(landscape|portrait)-(primary|secondary)$/);if(i.Util.isArray(n))return n[1]}else if(i.Util.isNumber(t))return 90===Math.abs(t)?"landscape":"portrait";return null}}]),e}();t.default=a},function(e){e.exports={version:"1.0.7"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0},u=n(0),a=s(n(2)),l=s(n(3)),f=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}var c=u.Util.merge(l.default,f.default),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,null,[{key:"buildNonWritableCommonData",value:function(e){return u.Util.merge(o(t.__proto__||Object.getPrototypeOf(t),"buildNonWritableCommonData",this).call(this,e),{isNonInteraction:!this.defaultInteraction})}},{key:"run",value:function(e,n,r,i){var a=this.timing;return u.Util.isNull(a)?null:o(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,a,n,r,i)}},{key:"hitType",get:function(){return"timing"}},{key:"rule",get:function(){return c}},{key:"defaultInteraction",get:function(){return!1}},{key:"timing",get:function(){var e="undefined"!=typeof window?window:{};if("object"!==(void 0===e?"undefined":r(e))||u.Util.isNull(e))return null;var t=e.performance||e.webkitPerformance,n={};return u.Util.isEmpty(t)||u.Util.isEmpty(t.timing)?null:(Object.keys(this.rule).forEach(function(e){u.Util.isUndefined(t.timing[e])||(n[e]=t.timing[e])}),n)}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={navigationStart:{short:"ns",type:"number"},unloadEventStart:{short:"ues",type:"number"},unloadEventEnd:{short:"uee",type:"number"},redirectStart:{short:"rds",type:"number"},redirectEnd:{short:"rde",type:"number"},fetchStart:{short:"fs",type:"number"},domainLookupStart:{short:"dls",type:"number"},domainLookupEnd:{short:"dle",type:"number"},connectStart:{short:"cs",type:"number"},connectEnd:{short:"ce",type:"number"},secureConnectionStart:{short:"scs",type:"number"},requestStart:{short:"rqs",type:"number"},responseStart:{short:"rs",type:"number"},responseEnd:{short:"re",type:"number"},domLoading:{short:"dl",type:"number"},domInteractive:{short:"di",type:"number"},domContentLoadedEventStart:{short:"dcles",type:"number"},domContentLoadedEventEnd:{short:"dclee",type:"number"},domComplete:{short:"dc",type:"number"},loadEventStart:{short:"les",type:"number"},loadEventEnd:{short:"lee",type:"number"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(n(2)),u=l(n(3)),a=l(n(20));function l(e){return e&&e.__esModule?e:{default:e}}var f=i.Util.merge(u.default,a.default),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,null,[{key:"run",value:function(e,n,r,i){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,{},n,r,i)}},{key:"hitType",get:function(){return"timing"}},{key:"rule",get:function(){return f}},{key:"defaultInteraction",get:function(){return!1}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:{short:"tn",type:"string"},action:{short:"ta",type:"string"},category:{short:"tc",type:"string"},value:{short:"tv",type:"number"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(n(2)),u=l(n(3)),a=l(n(22));function l(e){return e&&e.__esModule?e:{default:e}}var f=i.Util.merge(u.default,a.default),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,null,[{key:"run",value:function(e,n,r,i){return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,{},n,r,i)}},{key:"hitType",get:function(){return"event"}},{key:"rule",get:function(){return f}},{key:"defaultInteraction",get:function(){return!0}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:{short:"en",type:"string"},action:{short:"ea",type:"string"},category:{short:"ec",type:"string"},value:{short:"ev",type:"number"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=n(1),a=(r=u)&&r.__esModule?r:{default:r},l=n(0);var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"run",value:function(e){o.Util.isObject(e)?a.default.getInstance().setBaseParameters(e):l.CLog.error("[GlobalCommander#run] 不正な引数の指定")}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=a(n(25)),u=a(n(26));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(){var e=void 0,t=void 0,n=void 0;if(2===arguments.length&&i.Util.isString(arguments.length<=0?void 0:arguments[0]))e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];else{if(1!==arguments.length)return void i.CLog.error("[SpaCommander#run] 不正な引数の指定");t=arguments.length<=0?void 0:arguments[0]}if(i.Util.isObject(t)&&i.Util.isString(t.method)){if("titleObserver"===t.method)n=new o.default(t);else{if("polling"!==t.method)return void i.CLog.error("[SpaCommander#run] 予期しないSPAメソッドの指定",t.method);n=new u.default(t)}n.start(e),i.Util.isArray(this.observers)||(this.observers=[]),this.observers.push(n),i.CLog.info("[SpaCommander#run] 自動PVモードを適用しました, target = ["+e+"]. method = "+t.method)}else i.CLog.error("[SpaCommander#run] SPAメソッドの指定がありません")}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0},u=n(0),a=n(8),l=(r=a)&&r.__esModule?r:{default:r};var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),i(t,[{key:"start",value:function(e){var t="undefined"!=typeof window?window:{};if(this.addTarget(e),!this.isStart){var n=t.document.querySelector("title");"undefined"!=typeof MutationObserver?(this.observer=new MutationObserver(this.fire.bind(this)),this.observer.observe(n,{childList:!0,characterData:!0,subtree:!0}),u.CLog.debug("[TitleObserver#start] use MutationObserver.")):(n.addEventListener("DOMSubtreeModified",this.fire.bind(this)),u.CLog.debug("[TitleObserver#start] use dom event listener.")),this.isStart=!0}}},{key:"fire",value:function(){var e=this;u.CLog.debug("[TitleObserver#fire] run processing."),this.options.minElapsedTime>0?setTimeout(function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",e).call(e)},this.options.minElapsedTime):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this)}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=n(8),a=(r=u)&&r.__esModule?r:{default:r};var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"start",value:function(e){this.addTarget(e),this.isStart||(this.isStart=!0,this.fire(),o.CLog.debug("[Polling#start] start success."))}},{key:"fire",value:function(){var e=this;o.CLog.debug("[Polling#fire] run processing."),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var u=i.get;return void 0!==u?u.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this),this.isStart&&setTimeout(function(){e.fire()},this.options.interval)}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(i.Util.isObject(n[0])?e=n[0]:n.length>=2&&i.Util.isString(n[0])&&(e[n[0]]=n[1]),i.Util.findKey(e,"log_level")){var o=e.log_level;"debug"===o||4===o?i.CLog.logLevel=4:"info"===o||3===o?i.CLog.logLevel=3:"warning"===o||2===o?i.CLog.logLevel=2:"critical"===o||1===o?i.CLog.logLevel=1:"none"!==o&&0!==o||(i.CLog.logLevel=0)}}}]),e}();t.default=o},function(e){e.exports={errMetrics:{tk:"9225bd01-1ff0-4e57-9c92-6e831c45253a",pj:"ds_logger",ds:"ya_web_error"}}}]).default});