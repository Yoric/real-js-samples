(this.webpackJsonp=this.webpackJsonp||[]).push([[10],[,function(e,t,n){"use strict";n.d(t,"q",function(){return S}),n.d(t,"f",function(){return I}),n.d(t,"g",function(){return A}),n.d(t,"p",function(){return M}),n.d(t,"i",function(){return D}),n.d(t,"r",function(){return B}),n.d(t,"b",function(){return N}),n.d(t,"m",function(){return L}),n.d(t,"a",function(){return $}),n.d(t,"d",function(){return F}),n.d(t,"n",function(){return U}),n.d(t,"l",function(){return Y}),n.d(t,"e",function(){return G}),n.d(t,"h",function(){return H}),n.d(t,"c",function(){return K}),n.d(t,"j",function(){return W}),n.d(t,"k",function(){return z}),n.d(t,"o",function(){return V});n(37),n(45),n(13),n(21),n(22),n(85),n(97),n(102);var r=n(11),o=(n(60),n(0)),c=n(59),l=n.n(c),d=n(628),f=n.n(d),h=n(629),m=n.n(h),v=n(630),_=n.n(v),y=n(631),k=n.n(y),O=n(632),w=n.n(O),j=n(633),x=n.n(j),C=n(634),T=n.n(C),E=n(8),P=n(638),R=n.n(P);function S(e){return Number(e).toLocaleString()}function I(e){return Object(o.get)(m.a,e,"")}function A(e){return Object(o.get)(_.a,e,"")}function M(e){return Object(o.get)(k.a,e,"")}function D(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return/(undefined|null)/.test(e)?I("url.image.noImage.common"):I(t?n?"url.image.spine":"url.image.book":"url.image.series")+e}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...",o=N(e);if(!Number(t)||o<=t)return e;var c=0,l=N(n),d=!1,f=Object(r.a)(e).filter(function(e){return c+=e.charCodeAt(0)<=255?.5:1,!(d||c>t-l)||(d=!0,!1)});return"".concat(f.join("")).concat(n)}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(r.a)(e).reduce(function(e,t){return e+(t.charCodeAt(0)<=255?.5:1)},0)}function L(e){e.req;var t=e.route,n=e.redirect,r=location.protocol,o="";o=location.host;var c="".concat(r,"//").concat(o).concat(t.fullPath),d={".done":c,".src":"ebookjapan"},f="https://login.yahoo.co.jp/config/login?"+l.a.stringify(d);return new Promise(function(){try{window.history&&window.history.pushState&&window.history.pushState(null,null,c),n(f)}catch(e){}})}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=I("taxRate");return Math.floor(e*t)+e}function F(e){if(!Array.isArray(e)||!e.length)return[];var t=[],n=e.map(function(e){return E.a.methods.bookCd(e)}).filter(function(e){return e});return t=t.concat(n),t=Object(o.uniq)(t)}I("premium");function U(e,t){var n=R.a.reduce(function(t,n){var r=new RegExp(n.reg_str),o=e.match(r);return o&&t.push(Object.assign({matched_str:o[0]},n)),t},[]);return n.sort(function(a,b){return a.matched_str.length<b.matched_str.length?1:-1}),n.length>0?n[0]["spaceid_"+t]:""}function Y(e){var t=[M("BROWSE_TYPE.TRIAL"),M("BROWSE_TYPE.TRIAL_ONLY")],n=[M("BOOK_TYPE.TRIAL"),M("BOOK_TYPE.TRIAL_INCREASE")],r=Object(o.get)(e,"books")||[],c=t.includes(e.browse_type);return r.some(function(e){return n.includes(e.book_type)})&&c}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},output=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=Object(o.get)(Object(o.cloneDeep)(f.a),e,{});return Object.keys(t).forEach(function(e){n.href=n.href.replace("#"+e+"#",t[e]),n.title=n.title.replace("#"+e+"#",t[e])}),output.unshift(n),1===output.length&&(output[0].href=""),0===Object.keys(n).length||""===Object(o.get)(n,"parent","")?output:G(n.parent,t,output)}function H(){return Object(o.get)(w.a,"freeMagazines",[])}function K(e){var t=e.type,param=e.param,n=e.additionalParam,code=e.code,r=e.log,o=I("approach");if(!o.types.includes(t))return null;var c="".concat(o.src,"?id=").concat(t);switch(t){case"store_parent_detail":case"store_child_detail":case"free_volume_child_detail":c+="&parameter=".concat(param);break;case"ticket_detail":case"series_detail":c="&parameter=".concat(param,"&additional_parameter=").concat(n)}var d={src:c};code&&(d.code=code),r&&(d.log=r);var f=l.a.stringify(d);return"".concat(o.base,"?").concat(f)}function W(e){return Object(o.get)(x.a,e,"")}function z(e){return Object(o.get)(T.a,e,"")}function V(e){var t=I("url.image.noImage.common");e.target.src=t,e.target.classList.add("img-error")}},,,,function(e,t,n){"use strict";n(676);var r=n(95),o=n.n(r),c=n(635),l=n.n(c),d=n(636),f=n.n(d),h=n(637),m=n.n(h);o.a.locale("ja"),o.a.extend(l.a),o.a.extend(f.a),o.a.extend(m.a),t.a=o.a},,,function(e,t,n){"use strict";n(60),n(17),n(9);var r=n(2),o=(n(13),n(37),n(21),n(22),n(6)),c=n(0),l=n(1),d=n(7),f=n(112),h=n.n(f),m=n(25),v=n(5),_=n(170),y=n.n(_);t.a={computed:Object(o.a)({},Object(d.e)("user",["isPremium"]),Object(d.e)("settings",["regularTpointRate","premiumTpointRate"]),Object(d.c)("user/bookshelf",["purchaseBookCds"]),Object(d.e)({stateTargetDatetime:"targetDatetime"})),methods:{staticValue:l.p,hasTrial:l.l,showErrorImage:l.o,bookUrl:function(e){var t=Object(c.get)(e,"title_id","-");return"/books/".concat(t,"/").concat(e.publication_cd,"/")},titleUrl:function(e){return"/books/".concat(e.title_id,"/")},bookImageUrl:function(e){var t=this.$cookie&&!!this.$cookie.get(Object(l.f)("cookie.key.adultCheckVerification"));if(this.isAdult(e)&&!t)return Object(l.f)("url.image.noImage.adult");var n=this.good(e);if(n&&n.image_file_name){var r=Object(v.a)(n.cache_datetime),o=0;return r.isValid()&&(o=r.valueOf()),Object(l.i)("".concat(n.image_file_name,"?").concat(o),!0)}var d=Object(c.get)(e,"books[0].products[0].file_id",null)||null;return Object(l.i)("".concat(d,".jpg"),!0)},publicationName:function(e){var t=Object(c.get)(e,"publication_name","");return Object(l.f)("comicMiddleGenres").includes(m.a.methods.titleUnificationMiddleGenreId(e.title))?t.replace(/(\(|（)(\d+)(\)|）)$/,"$2巻"):t},truncatedTitle:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...",r=Object(c.get)(e,"publication_name");return Object(l.r)(r,t,n)},truncatedTitleWithVolumeName:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"...",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"...",d=Object(c.get)(e,"title.title_name"),f=Object(c.get)(e,"volume_name");if(!d||!f||["T8","T9","T13"].includes(m.a.methods.titleUnificationTopGenreId(e.title)))return this.truncatedTitle(e,t,r);var h=Object(l.r)(f,n,o),v=t-Object(l.b)("（".concat(h,"）"));return"".concat(Object(l.r)(d,v,r),"（").concat(h,"）")},publicationAuthor:function(e){return Object(c.get)(e,"publication_author","")},publicationAuthorUrl:function(e){var t=Object(c.get)(e,"title.author.author_id","");return"/lists/authors/".concat(t,"/")},truncatedPublicationAuthor:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return Object(l.r)(this.publicationAuthor(e),t,n)},catchcopy:function(e){return Object(c.get)(e,"catchcopy","")},truncatedCatchcopy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return Object(l.r)(this.catchcopy(e),t-Object(l.b)("..."),"...")},price:function(e){var t=this.nonTaxedPrice(e);return"number"==typeof t?Object(l.a)(t):void 0},nonTaxedPrice:function(e){var t=Object(c.get)(this.good(e),"price");return this.isBrowserFree(e)||"number"!=typeof t?void 0:t},point:function(e){var t=this.price(e),n=this.regularTpointRate||.01;return t?parseInt(t*n):0},bookCd:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(c.get)(this.book(e,t),"book_cd","")},goodsCd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(c.get)(this.good(e,t),"goods_cd","")},titleId:function(e){return Object(c.get)(e,"title_id","")},pointRulePoint:function(e){var t=this.book(e);return(Object(c.get)(t,"campaign_point_sets")||[]).map(function(e){return{pointRule:Object(c.get)(e,"point_rule",0),pointRulePoint:Object(c.get)(e,"point",0)}})},campaignPoint:function(e){var t=this,n=this.pointRulePoint(e),r=this.point(e),o=0;n.forEach(function(n){switch(n.pointRule){case Object(l.p)("POINT.RULE_TYPE.DOUBLE"):o+=n.pointRulePoint*r;break;case Object(l.p)("POINT.RULE_TYPE.PERCENT"):var c=t.price(e);o+=c?Math.floor(c*n.pointRulePoint/100):0;break;case Object(l.p)("POINT.RULE_TYPE.ADD"):case Object(l.p)("POINT.RULE_TYPE.GIVE"):o+=n.pointRulePoint}});var c=this.premiumTpointRate;return o+r*c+r},isPointUp:function(e){return this.campaignRating(e)>1},campaignRating:function(e){var t=this.point(e),n=this.campaignPoint(e);return t?parseInt(n/t):1},bookPurchased:function(e){var t=this.bookCd(e);return this.purchaseBookCds.includes(t)},isLastVolume:function(e){return!!e.is_last_volume},truncatedAuthor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36,n=Object(c.get)(e,"publication_author","");return Object(l.r)(n,t-Object(l.b)("..."),"...")},book:function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return this.preferentialBookAndGood(e)[0];var t=[Object(l.p)("BOOK_TYPE.TRIAL"),Object(l.p)("BOOK_TYPE.TRIAL_INCREASE")],n=Object(c.get)(e,"books",[]).filter(function(e){return t.includes(e.book_type)});return n.length>1&&(n=n.filter(function(e){return e.book_type===t[1]})),n[0]||{}},good:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.preferentialBookAndGood(e,t)[0].goods[0]},tags:function(e){return Object(c.get)(e,"title.tags",[])},isFree:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.good(e,t),r=Object(c.get)(n,"price_type");return[Object(l.p)("GOODS.PRICE_TYPE.FREE"),Object(l.p)("GOODS.PRICE_TYPE.CAMPAIGN_FREE")].includes(r)||0===Object(c.get)(n,"price")},isBrowserFree:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.isFree(e,t)&&1===Object(c.get)(this.good(e,t),"is_browser_special_free")},isPaid:function(e){return(Object(c.get)(e,"books")||[]).some(function(e){var t=Object(c.get)(e,"book_type");return!![Object(l.p)("BOOK_TYPE.NORMAL"),Object(l.p)("BOOK_TYPE.NORMAL_WITH_GIFT")].includes(t)&&(Object(c.get)(e,"goods")||[]).some(function(e){var t=Object(c.get)(e,"price_type"),n=Object(c.get)(e,"is_book_display");return[Object(l.p)("GOODS.PRICE_TYPE.NORMAL"),Object(l.p)("GOODS.PRICE_TYPE.SALE")].includes(t)&&n!==Object(l.p)("GOODS.IS_BOOK_DISPLAY.NOT_DISPLAY")})})},goViewer:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o,d,f,m,v,_,y,base,k,O,w,code,j,x,C,T,E=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.publication,r=t.type,o=t.bookCode,d=t.lgn,f=t.rdType,m=t.date,v=null,_=function(e){var base=E.$router.options.base;/(\/complete)/.test(location.pathname)&&(e.from="complete"),d&&(e.lgn=1),f&&(e.rdtype=f);var t=h.a.stringify(e),n="".concat(base,"viewer?").concat(t);return/^(\/viewer|\/rd\/viewer)/.test(location.pathname)?(location.replace(n),!0):(location.href=n,!0)},!o){e.next=7;break}v=o,e.next=18;break;case 7:e.t0=r,e.next=e.t0===Object(l.p)("READ_TYPE.TRIAL")?10:e.t0===Object(l.p)("READ_TYPE.PURCHASED")?12:e.t0===Object(l.p)("READ_TYPE.FREE")?14:e.t0===Object(l.p)("READ_TYPE.RENTAL")?16:e.t0===Object(l.p)("READ_TYPE.SERIAL")?17:10;break;case 10:return v=this.bookCd(n,!0)||n.book_cd,e.abrupt("break",18);case 12:case 14:return v=this.bookCd(n,!1)||n.book_cd,e.abrupt("break",18);case 16:case 17:return e.abrupt("break",18);case 18:if(v){e.next=20;break}return e.abrupt("return",!1);case 20:if(y=Object(c.get)(this.good(n),"is_login_required"),/^\/rd\/viewer/.test(location.pathname)||r!==Object(l.p)("READ_TYPE.FREE")||!y){e.next=26;break}return base=this.$router.options.base,k=h.a.stringify({lgn:1,bookCd:v,rdtype:"web"}),location.href="".concat(base,"rd/viewer/free?").concat(k),e.abrupt("return",!0);case 26:return e.prev=26,e.next=29,this.$store.dispatch("bookshelf/connect");case 29:if(e.sent){e.next=34;break}throw new Error;case 34:return O={type:r,code:v},(m||this.stateTargetDatetime)&&(O.date=m||this.stateTargetDatetime),e.next=38,this.$store.dispatch("bookshelf/openBook",O);case 38:if(w=e.sent,code=w.code,j=w.session,x=w.reflow,C=w.extDrmUrl,j&&code&&null!=x){e.next=42;break}throw new Error;case 42:if(this.$bookHistory.save(n),!C){e.next=48;break}return location.href=C,e.abrupt("return",!0);case 48:return T={sessionid:j,bookid:code,reflow:x||"true"===x,titleid:n.title_id,type:r},e.abrupt("return",_(T));case 50:e.next=55;break;case 52:return e.prev=52,e.t1=e.catch(26),e.abrupt("return",_({errorCode:e.t1.code,errorType:e.t1.type||"Default"}));case 55:case"end":return e.stop()}},e,this,[[26,52]])}));return function(t){return e.apply(this,arguments)}}(),isSale:function(e){return Object(c.get)(this.good(e),"price_type")===Object(l.p)("GOODS.PRICE_TYPE.SALE")},isDiscount:function(e){return this.isSale(e)&&0!==this.discountPercent(e)},discountPercent:function(e){var t=this.price(e),n=this.normalPrice(e),r=0;return t&&n&&(r=Math.floor(100-100*t/n)),r>0&&r<100?r:0},isPointAnyTimes:function(e){var t=this.pointRulePoint(e),n=t.every(function(e){return Object(c.get)(e,"pointRule",0)===Object(l.p)("POINT.RULE_TYPE.DOUBLE")});return this.campaignRating(e)>1&&(Array.isArray(t)&&t.length>0&&n||this.premiumTpointRate>0)},isNew:function(e){var t=Object(c.get)(e,"publication_sale_date",""),n=Object(v.a)(t);return!!n.isValid()&&n.add(7,"days").isSameOrAfter(Object(v.a)(),"days")},isCompleted:function(e){return 0===Object(c.get)(e,"title.is_uncomplete")&&Object(v.a)().isAfter(Object(c.get)(e,"title.complete_publication_sale_date"))},isDeals:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.isFree(e,t)||this.isSale(e)||this.isPointAnyTimes(e)},isSet:function(e){return Object(c.get)(this.book(e),"set_type",Object(l.p)("BOOKS.SET_TYPE.PUB"))===Object(l.p)("BOOKS.SET_TYPE.SET_PUB")},preferentialBookAndGood:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(c.get)(e,"books",[]),r=n.filter(function(e){return 0===e.book_type}),l=[];r.forEach(function(e){if(Object(c.get)(e,"goods")&&Object(c.get)(e,"book_cd")){var t=e.goods.map(function(t){return Object(o.a)({},t,{book_cd:e.book_cd})});l=l.concat(t)}});var d=this._findPreferentialGood(l,t),f=n.find(function(e){return e.book_cd===d.book_cd});return[Object(o.a)({},f,{goods:[d]})]},_findPreferentialGood:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(v.a)(),r=this.stateTargetDatetime||t;r&&Object(v.a)(r,"YYYYMMDD").isValid()&&(n=Object(v.a)(r));var o=e.filter(function(e){var t=Object(c.get)(e,"price_type",1),r=Object(c.get)(e,"sale_start_datetime"),o=Object(c.get)(e,"sale_end_datetime");return[Object(l.p)("GOODS.PRICE_TYPE.FREE"),Object(l.p)("GOODS.PRICE_TYPE.CAMPAIGN_FREE")].includes(t)&&(!r||Object(v.a)(r).isSameOrBefore(n,"minute"))&&(!o||Object(v.a)(o).isSameOrAfter(n,"minute"))});if(o.length>0){if(this.isPremium){var d=o.filter(function(e){return Object(c.get)(e,"is_premium_member_only",0)});if(1===d.length)return d[0];if(d.length>1)return Object(c.minBy)(d,function(e){return Object(c.get)(e,"sale_end_datetime")?Object(v.a)(e.sale_end_datetime).unix():Object(v.a)("2100-12-31").unix()})}var f=o.filter(function(e){return Object(c.get)(e,"is_browser_special_free",0)});return 1===f.length?f[0]:f.length>1?Object(c.minBy)(f,function(e){return Object(c.get)(e,"sale_end_datetime")?Object(v.a)(e.sale_end_datetime).unix():Object(v.a)("2100-12-31").unix()}):o.length>1?Object(c.minBy)(o,function(e){return Object(c.get)(e,"sale_end_datetime")?Object(v.a)(e.sale_end_datetime).unix():Object(v.a)("2100-12-31").unix()}):o[0]}var h=e.filter(function(e){var t=Object(c.get)(e,"price_type",1),r=Object(c.get)(e,"sale_start_datetime"),o=Object(c.get)(e,"sale_end_datetime");return t===Object(l.p)("GOODS.PRICE_TYPE.SALE")&&(!r||Object(v.a)(r).isSameOrBefore(n,"minute"))&&(!o||Object(v.a)(o).isSameOrAfter(n,"minute"))});return 1===h.length?h[0]:h.length>1?Object(c.minBy)(h,function(e){return Object(c.get)(e,"sale_end_datetime")?Object(v.a)(e.sale_end_datetime).unix():Object(v.a)("2100-12-31").unix()}):e.find(function(e){return Object(c.get)(e,"price_type")===Object(l.p)("GOODS.PRICE_TYPE.NORMAL")})||{}},discountPrice:function(e){if(!this.isBrowserFree(e)){var t=this.price(e),n=this.normalPrice(e);return void 0!==t&&(void 0===n||t<n)?t:void 0}},normalPrice:function(e){var t=this.good(e),n=Object(c.get)(t,"price_normal_goods");if(!this.isBrowserFree(e)&&"number"==typeof n)return Object(l.a)(n)},isAdult:function(e){return m.a.methods.isTitleAdult(Object(c.get)(e,"title"))},publicationSummary:function(e){return Object(c.get)(e,"summary","")},truncatedPublicationSummary:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return Object(l.r)(this.publicationSummary(e),t,n)},isReadableOnBrowser:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.book(e,t).products;return!Array.isArray(n)||!n.length||n.some(function(e){var t=Object(c.get)(e,"browser_reader_type"),n=Object(c.get)(e,"data_format_id"),r=Object(c.get)(e,"is_browser_reader_convert");return Number(t)===Object(l.p)("BOOKS.PRODUCTS.BROWSER_READER_TYPE.BROWSER_READER")&&(!["2","6"].includes(n)||Number(r)===Object(l.p)("BOOKS.PRODUCTS.IS_BROWSER_READER_CONVERT.EXIST"))})},displaySaleStartDate:function(e){var t=e.publication_sale_date;return Object(v.a)(t).isValid()?y()(t,"yyyy/mm/dd"):"----/--/--"}}}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(37),n(21),n(22);var r=n(6),o=n(0),c=n(1),l=n(7),d=n(8),f=n(5);t.a={computed:Object(r.a)({},Object(l.e)(["targetDatetime"])),methods:{titleId:function(title){return Object(o.get)(title,"title_id","")},titleName:function(title){return Object(o.get)(title,"title_name","")},truncatedTitleName:function(title,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return Object(c.r)(this.titleName(title),e,t)},truncatedTitleNameWithVolumeName:function(title,e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"...",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"...",o=this.titleName(title),l="".concat(this.titleNumberPublications(title)),d=" ".concat(Object(c.r)(l,t,r),"冊");return"".concat(Object(c.r)(o,e,n)).concat(d)},titleAuthor:function(title){return Object(o.get)(title,"author.author_name","")},titleAuthorId:function(title){return Object(o.get)(title,"author.author_id","")},truncatedTitleAuthor:function(title,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return Object(c.r)(this.titleAuthor(title),e,t)},titleMagazineName:function(title){return Object(o.get)(title,"magazine.magazine_name","")},titleMagazineId:function(title){return Object(o.get)(title,"magazine.magazine_id","")},titlePublisherName:function(title){var e=Object(o.get)(title,"publisher.publisher_name","");return/.*〓.*/.test(e)?"":e},titlePublisherId:function(title){var e=Object(o.get)(title,"publisher.publisher_name","");return/.*〓.*/.test(e)?"":Object(o.get)(title,"publisher.publisher_id","")},titleUnificationTopGenreName:function(title){return Object(o.get)(title,"unification_top_genre.unification_top_genre_name","")},titleUnificationTopGenreId:function(title){return Object(o.get)(title,"unification_top_genre.unification_top_genre_id","")},titleUnificationMiddleGenreName:function(title){return Object(o.get)(title,"unification_middle_genre.unification_middle_genre_name","")},titleUnificationMiddleGenreId:function(title){return Object(o.get)(title,"unification_middle_genre.unification_middle_genre_id","")},titlePublicationFirst:function(title){return Object(o.get)(title,"publication_first",{})},titlePublicationLast:function(title){return Object(o.get)(title,"publication_last",{})},titlePublicationLastPublicationName:function(title){var e=Object(o.get)(this.titlePublicationLast(title),"publication_name","");return Object(c.f)("comicMiddleGenres").includes(this.titleUnificationMiddleGenreId(title))?e.replace(/(\(|（)(\d+)(\)|）)$/,"$2巻"):e},titlePublicationFirstImageUrl:function(title){var e=this.$cookie&&!!this.$cookie.get(Object(c.f)("cookie.key.adultCheckVerification"));if(this.isTitleAdult(title)&&!e)return Object(c.f)("url.image.noImage.adult");var t=this.titlePublicationFirst(title),n=d.a.methods.good(t),r=Object(f.a)(n.cache_datetime),o=0;return r.isValid()&&(o=r.valueOf()),Object(c.i)("".concat(n.image_file_name,"?").concat(o),!0)},titlePublicationLastImageUrl:function(title){var e=this.$cookie&&!!this.$cookie.get(Object(c.f)("cookie.key.adultCheckVerification"));if(this.isTitleAdult(title)&&!e)return Object(c.f)("url.image.noImage.adult");var t=this.titlePublicationLast(title),n=d.a.methods.good(t),r=Object(f.a)(n.cache_datetime),o=0;return r.isValid()&&(o=r.valueOf()),Object(c.i)("".concat(n.image_file_name,"?").concat(o),!0)},titleTags:function(title){return Object(o.get)(title,"tags",[])},titleCampaignRating:function(title){var e=Object(o.get)(title,"publication_first",{}),t=Object(o.get)(title,"publication_last",{});return d.a.methods.campaignRating(e)||d.a.methods.campaignRating(t)},titleFreeTurns:function(title){return Object(o.get)(title,"free_turns",0)},titleIsSale:function(title){var e=Object(o.get)(title,"publication_first",{}),t=Object(o.get)(title,"publication_last",{});return d.a.methods.isSale(e)||d.a.methods.isSale(t)},titleIsDiscount:function(title){return this.titleIsSale(title)&&0!==this.titleDiscountPercent(title)},titleDiscountPercent:function(title){var e=Object(o.get)(title,"publication_first",{}),t=Object(o.get)(title,"publication_last",{});return d.a.methods.discountPercent(e)||d.a.methods.discountPercent(t)},titleIsPointAnyTimes:function(title){var e=Object(o.get)(title,"publication_first",{}),t=Object(o.get)(title,"publication_last",{});return d.a.methods.isPointAnyTimes(e)||d.a.methods.isPointAnyTimes(t)},titleIsCompleted:function(title){return 0===Object(o.get)(title,"is_uncomplete")&&Object(f.a)().isAfter(Object(o.get)(title,"complete_publication_sale_date"))},titleIsDeals:function(title){var e=Object(o.get)(title,"publication_first",{}),t=Object(o.get)(title,"publication_last",{});return d.a.methods.isDeals(e,this.targetDatetime)||d.a.methods.isDeals(t,this.targetDatetime)},isTitleAdult:function(title){return"T12"===Object(o.get)(title,"unification_top_genre.unification_top_genre_id")},titleRatingType:function(title){return Object(o.get)(title,"rating_type")},titleTitlePublicationCount:function(title){return Object(o.get)(title,"title_publication_count",0)},titleNumberPublications:function(title){return Object(o.get)(title,"number_publications",0)},titleIsCompletedAfter30Days:function(title){var e=Object(o.get)(title,"complete_publication_sale_date");if(null===e)return!1;var t=Object(f.a)(e).add(30,"days");return Object(f.a)().isAfter(t)}}}},,,,,,,,,,,,,function(e,t,n){"use strict";var r={name:"atoms-font-icon-pc",props:{name:{type:String,required:!0},icon:{type:Boolean,default:!1}}},o=n(3),component=Object(o.a)(r,function(){var e=this.$createElement;return(this._self._c||e)("i",{class:["font-"+this.name,{icon:this.icon}]},[this._t("default")],2)},[],!1,null,null,null);t.a=component.exports},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(85);var r=n(6),o=n(7),c=n(0),l=n(5),d=n(8),f=n(505);t.a={mixins:[d.a,f.a],computed:Object(r.a)({},Object(o.e)("top",["timeStamps"]),Object(o.e)("user",["isMobile","isLogin"]),Object(o.e)("user/autoPurchase",{autoPurchaseData:"purchase"}),Object(o.c)("user/newbookNotification",["newbookNotification","newbookPublications"]),Object(o.c)("user/payment",["defaultPaymentMethod"]),Object(o.c)("user/coupon",["coupons","stockableCoupons"]),Object(o.c)("information/notice",["informations","regularInformation","emergencyInformation","topEmgInformation"]),{notifications:function(){var e=[],t=this._getCouponLimitNotification();t&&e.push(t);var n=this._getStockableCouponNotification();n&&e.push(n);var r=this._getGivenCouponNotification();return r&&e.push(r),e.sort(function(a,b){return a.priority<b.priority?-1:1}),e},couponNotifications:function(){var e=[],t=this._getCouponLimitNotification();t&&e.push(t);var n=this._getStockableCouponNotification();n&&e.push(n);var r=this._getGivenCouponNotification();return r&&e.push(r),e.sort(function(a,b){return a.priority<b.priority?-1:1}),e},sequelNotification:function(){if(!this.isLogin||this.isMobile)return null;if(this.timeStamps.sequel)return null;var e=this.newbookNotification,t=this.newbookPublications[0]||null,n=Object(c.get)(e,"total_results",1)-1;return t?{url:this.bookUrl(t),alt:t.publication_name,image:this.bookImageUrl(t),text:this.truncatedTitle(t,25),publication:t,othersNum:n,link:"/mypage/arrival-alerts/",title:"続刊が発売されました"}:null},autoPurchasedNotification:function(){if(!this.isLogin)return null;if(this.timeStamps.autoPurchased)return null;var e=Object(c.get)(this,"autoPurchaseData.recent",null);if(!e||e.items.length<=0)return null;var t=e.total-1,n=e.items[0],r={link:"/mypage#my-auto",title:"最新刊が自動購入されました"};return this.isMobile||Object.assign(r,{url:this.bookUrl(n),alt:n.publication_name,image:this.bookImageUrl(n),text:this.truncatedTitle(n,25),othersNum:t}),r},expectedAutoPurchaseNotification:function(){if(!this.isLogin)return null;if(this.timeStamps.expectedAutoPurchase)return null;var e=Object(c.get)(this,"autoPurchaseData.expected",null);if(!e||e.items.length<=0)return null;var t=e.total-1,n=e.items[0],r={link:"/mypage/auto-purchase/",title:"自動購入対象の最新刊が発売されます"};return this.isMobile||Object.assign(r,{url:this.bookUrl(n),alt:n.publication_name,image:this.bookImageUrl(n),text:this.truncatedTitle(n,25),othersNum:t,title:"最新刊が自動購入されます"}),this.defaultPaymentMethod||Object.assign(r,{message:this.isMobile?"お支払い方法を設定してください":"※お支払い方法未設定"}),r}}),methods:{_getCouponLimitNotification:function(){var e=this,t=this.coupons.filter(function(t){return e.isExpireNear(t.calc_usable_period_end_datetime)});if(0!==t.length){t.sort(function(a,b){return a.calc_usable_period_end_datetime>b.calc_usable_period_end_datetime?-1:1});var n=7-Object(l.a)(t[0].calc_usable_period_end_datetime).diff(Object(l.a)(),"days"),r=Object(l.a)(Object(c.last)(t).calc_usable_period_end_datetime).diff(Object(l.a)(),"days");return{priority:n,url:"/mypage/coupon",text:"".concat(r>0?"あと"+r+"日":"今日","で有効期限が切れるクーポンがあります")}}},_getStockableCouponNotification:function(){var e=Object(c.cloneDeep)(this.stockableCoupons);if(e&&0!==e.length)return e.sort(function(a,b){return a.stockable_start_datetime>b.stockable_start_datetime?-1:1}),{priority:Object(l.a)().diff(Object(l.a)(e[0].stockable_start_datetime),"days"),url:"/mypage/coupon#stockableCoupons",text:"獲得可能なクーポンがあります"}},_getGivenCouponNotification:function(){var e=this.coupons.filter(function(e){var t=Object(l.a)(e.stocked_datetime);if(!t||!t.isValid())return!1;var n=t.add(7,"days");return 0===e.enable_user_manual_stock&&n.isSameOrAfter(Object(l.a)(),"days")});if(0!==e.length)return e.sort(function(a,b){return a.stocked_datetime>b.stocked_datetime?-1:1}),{priority:Object(l.a)().diff(Object(l.a)(e[0].stocked_datetime),"days"),url:"/mypage/coupon",text:"新たにクーポンが付与されました"}}}}},,,,,,function(e,t,n){"use strict";n(17),n(21),n(22),n(13);var r=n(6),o=n(7),c=n(0),l=n(1),d=n(5);t.a={computed:Object(r.a)({},Object(o.e)("user",["isPremium"]),Object(o.c)("user/bookshelf",["purchaseBookCds"]),Object(o.e)("settings",["regularTpointRate","premiumTpointRate"]),Object(o.e)({stateTargetDatetime:"targetDatetime"})),methods:{setPublicationName:function(e){return Object(c.get)(e,"publication_name","")},setPublicationTruncatedName:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return Object(l.r)(this.setPublicationName(e),t,n)},setPublicationAuthor:function(e){return Object(c.get)(e,"publication_author","")},setPublicationAuthorUrl:function(e){var t=Object(c.get)(e,"title.author.author_id","");return"/lists/authors/".concat(t,"/")},setPublicationTruncatedAuthor:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return Object(l.r)(this.setPublicationAuthor(e),t,n)},setPublicationImageUrl:function(e){var t=this.setPublicationGood(e),n=Object(d.a)(t.cache_datetime),r=0;return n.isValid()&&(r=n.valueOf()),Object(l.i)("".concat(t.image_file_name,"?").concat(r),!0)},setPublicationBookCd:function(e){return Object(c.get)(this.setPublicationBook(e),"book_cd","")},setPublicationGoodsCd:function(e){return Object(c.get)(this.setPublicationGood(e),"goods_cd","")},setPublicationPrice:function(e){var t=this.setPublicationNonTaxedPrice(e);return t?Object(l.a)(t):void 0},setPublicationNonTaxedPrice:function(e){var t=Object(c.get)(this.setPublicationGood(e),"price");return"number"==typeof t?t:void 0},setPublicationFormattedPrice:function(e){return Object(l.q)(this.setPublicationPrice(e))},setPublicationTPoint:function(e){var t=this.setPublicationPrice(e),n=this.regularTpointRate||.01;return t?parseInt(t*n):0},setPublicationPointRulePoint:function(e){var t=this.setPublicationBook(e);return(Object(c.get)(t,"campaign_point_sets")||[]).map(function(e){return{pointRule:Object(c.get)(e,"point_rule",0),pointRulePoint:Object(c.get)(e,"point",0)}})},setPublicationCampaignTPoint:function(e){var t=this,n=this.setPublicationPointRulePoint(e),r=this.setPublicationTPoint(e),o=0;n.forEach(function(n){switch(n.pointRule){case Object(l.p)("POINT.RULE_TYPE.DOUBLE"):o+=n.pointRulePoint*r;break;case Object(l.p)("POINT.RULE_TYPE.PERCENT"):var c=t.price(e);o+=c?Math.floor(c*n.pointRulePoint/100):0;break;case Object(l.p)("POINT.RULE_TYPE.ADD"):case Object(l.p)("POINT.RULE_TYPE.GIVE"):o+=n.pointRulePoint}});var c=this.premiumTpointRate;return o+r*c+r},setPublicationTPointRating:function(e){var t=this.setPublicationTPoint(e),n=this.setPublicationCampaignTPoint(e);return t?parseInt(n/t):1},setPublicationBook:function(e){return this._preferentialBookAndGood(e)[0]},setPublicationGood:function(e){return this._preferentialBookAndGood(e)[0].goods[0]},setPublicationIsSale:function(e){return Object(c.get)(this.setPublicationGood(e),"price_type")===Object(l.p)("GOODS.PRICE_TYPE.SALE")},setPublicationIsDiscount:function(e){return this.setPublicationIsSale(e)&&0!==this.setPublicationDiscountPercent(e)},setPublicationDiscountPercent:function(e){var t=this.setPublicationPrice(e),n=this.setPublicationNormalPrice(e),r=0;return t&&n&&(r=Math.floor(100-100*t/n)),r>0&&r<100?r:0},setPublicationIsPointAnyTimes:function(e){var t=this.setPublicationPointRulePoint(e);return Array.isArray(t)&&t.length>0&&t.every(function(e){return Object(c.get)(e,"pointRule",0)===Object(l.p)("POINT.RULE_TYPE.DOUBLE")})},setPublicationDiscountPrice:function(e){var t=this.setPublicationPrice(e),n=this.setPublicationNormalPrice(e);return void 0!==t&&(void 0===n||t<n)?t:void 0},setPublicationNormalPrice:function(e){var t=this.setPublicationGood(e),n=Object(c.get)(t,"price_normal_goods");if("number"==typeof n)return Object(l.a)(n)},setPublicationPurchased:function(e){var t=this.setPublicationBookCd(e);return this.purchaseBookCds.includes(t)},_preferentialBookAndGood:function(e){var t=Object(c.get)(e,"books",[]),n=t.filter(function(e){return 0===e.book_type}),o=[];n.forEach(function(e){if(Object(c.get)(e,"goods")&&Object(c.get)(e,"book_cd")){var t=e.goods.map(function(t){return Object(r.a)({},t,{book_cd:e.book_cd})});o=o.concat(t)}});var l=this._findPreferentialGood(o),d=t.find(function(e){return e.book_cd===l.book_cd});return[Object(r.a)({},d,{goods:[l]})]},_findPreferentialGood:function(e){var t=this.stateTargetDatetime&&Object(d.a)(this.stateTargetDatetime,"YYYYMMDD").isValid()?Object(d.a)(this.stateTargetDatetime):Object(d.a)(),n=e.filter(function(e){var n=Object(c.get)(e,"price_type",1),r=Object(c.get)(e,"sale_start_datetime"),o=Object(c.get)(e,"sale_end_datetime");return[Object(l.p)("GOODS.PRICE_TYPE.FREE"),Object(l.p)("GOODS.PRICE_TYPE.CAMPAIGN_FREE")].includes(n)&&(!r||Object(d.a)(r).isSameOrBefore(t,"minute"))&&(!o||Object(d.a)(o).isSameOrAfter(t,"minute"))});if(n.length>0){if(this.isPremium){var r=n.filter(function(e){return Object(c.get)(e,"is_premium_member_only",0)});if(1===r.length)return r[0];if(r.length>1)return Object(c.minBy)(r,function(e){return Object(c.get)(e,"sale_end_datetime")?Object(d.a)(e.sale_end_datetime).unix():Object(d.a)("2100-12-31").unix()})}var o=n.filter(function(e){return Object(c.get)(e,"is_browser_special_free",0)});return 1===o.length?o[0]:o.length>1?Object(c.minBy)(o,function(e){return Object(c.get)(e,"sale_end_datetime")?Object(d.a)(e.sale_end_datetime).unix():Object(d.a)("2100-12-31").unix()}):n.length>1?Object(c.minBy)(n,function(e){return Object(c.get)(e,"sale_end_datetime")?Object(d.a)(e.sale_end_datetime).unix():Object(d.a)("2100-12-31").unix()}):n[0]}var f=e.filter(function(e){var n=Object(c.get)(e,"price_type",1),r=Object(c.get)(e,"sale_start_datetime"),o=Object(c.get)(e,"sale_end_datetime");return n===Object(l.p)("GOODS.PRICE_TYPE.SALE")&&(!r||Object(d.a)(r).isSameOrBefore(t,"minute"))&&(!o||Object(d.a)(o).isSameOrAfter(t,"minute"))});return 1===f.length?f[0]:f.length>1?Object(c.minBy)(f,function(e){return Object(c.get)(e,"sale_end_datetime")?Object(d.a)(e.sale_end_datetime).unix():Object(d.a)("2100-12-31").unix()}):e.find(function(e){return Object(c.get)(e,"price_type")===Object(l.p)("GOODS.PRICE_TYPE.NORMAL")})||{}}}}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return title});var r=n(0),o=n(5);function c(e){return Object(r.get)(e,"information_id","")}function title(e){return Object(r.get)(e,"information_title","")}t.a={filters:{id:c,title:title,url:function(e){return"/information/notice/".concat(c(e),"/")},startDate:function(e){var t=Object(r.get)(e,"start_datetime",new Date);return Object(o.a)(t).format("YYYY/MM/DD")},localeCategory:function(e){var t=Object(r.get)(e,"information_category","3");return Object(r.get)({1:"緊急お知らせ",2:"重要",3:"お知らせ",4:"おすすめ"},t,"お知らせ")}},methods:{contents:function(e){return Object(r.get)(e,"information_contents","")}}}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r={props:{name:{type:String,required:!0},element:{type:String,default:"i"}}},o=n(3),component=Object(o.a)(r,function(){var e=this.$createElement;return(this._self._c||e)(this.element,{tag:"component",staticClass:"icon",class:"sprite-"+this.name})},[],!1,null,null,null);t.a=component.exports},,function(e,t,n){"use strict";var r=n(59),o=n.n(r);t.a={methods:{gotoLoginPage:function(){var e={".done":this.$currentUrl.get(),".src":"ebookjapan"};location.href="https://login.yahoo.co.jp/config/login?"+o.a.stringify(e)},gotoAccountPage:function(){var e={".done":this.$currentUrl.get(),".src":"ebookjapan"};location.href="https://accounts.yahoo.co.jp/profile?"+o.a.stringify(e)}}}},function(e,t,n){"use strict";n(19),n(37);var r=n(0),o=n(112),c=n.n(o),l=n(1),d=Object(l.f)("cookie.key.safeMode"),f=Object(l.p)("SAFE_MODE.OFF"),h=Object(l.p)("SAFE_MODE.ON"),m=new Date(Date.UTC(2038,0,1)).toUTCString();t.a={data:function(){return{safeMode:""}},methods:{setSafeMode:function(e){this.safeMode=e,document.cookie="".concat(d,"=").concat(e,"; path=/; expires=").concat(m);var t=this.$route.query;if(e===h&&t&&"adult"===t.genre){delete t.genre,delete t.page;var n=c.a.stringify(t);location.replace("".concat(this.$route.path).concat(n?"?"+n:""))}else location.reload()}},computed:{isValidSafeMode:function(){return this.safeMode&&this.safeMode!==f},filteredGenre:function(){var e=Object(l.f)("genreTop"),t=e;return this.isValidSafeMode&&(t=Object(r.reject)(e,function(e){return"adult"===e.name})),t}},created:function(){this.SAFE_MODE_OFF=f,this.SAFE_MODE_ON=h,this.safeModeOptions=[{label:"オン",value:h},{label:"オフ",value:f}],this.safeMode=this.$cookie.get(d)||f}}},,function(e,t,n){"use strict";var r={name:"atoms-heading-pc"},o=n(3),component=Object(o.a)(r,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"heading"},[this._t("icon"),t("h1",{staticClass:"heading__main"},[this._t("default")],2)],2)},[],!1,null,null,null);t.a=component.exports},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);t.default=function(){return{campaignType:"",response:null,notFoundResponse:!1,utmParams:{utmSource:null,utmMedium:null,utmCampaign:null}}}},function(e,t,n){"use strict";n(9);var r=n(2),o=(n(21),n(22),n(127)),c=n(128),l=n(27),d=n.n(l),f=function(){function e(t,n){Object(o.a)(this,e),this.prefix=t||"/brapi",this.version="2.0.0.0",this.notify=200,this.linkMax=5,d.a.defaults.headers.common["x-csrf-token"]=n}return Object(c.a)(e,[{key:"connect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(n,r){d.a.post("".concat(e.prefix,"/begin"),{version:e.version,envid:t}).then(function(t){var o=t.data;if(o&&o.error)return r(new Error("".concat(o.error.code,": ").concat(o.error.message)));var c=o.envid,l=o.token,f=o.version?o.version:e.version;if(!c||!l)return r(new Error("connect failed: Fail to make session on server"));d.a.defaults.headers.common["x-api-session"]=c,f&&(e.version=f),n({envid:c,token:l,version:f})}).catch(function(e){r(new Error("connect",e))})})}},{key:"getReadingSession",value:function(e,code,t){var n=this;return new Promise(function(r,o){var c={type:e,code:code,date:t};d.a.post("".concat(n.prefix,"/open_book/"),c).then(function(e){var t=e.data;if(t&&t.error)return o(t.error);var code=t.book_code,n=t.session_id,c=t.reflow,l=t.ext_drm;if(!code||!n||null===c)return o(new Error("not enough data"));r({code:code,session:n,reflow:c,extDrmUrl:l})})})}},{key:"getInspectionSession",value:function(e){var t=this,n=null;return new Promise(function(r,o){t.connect().then(function(data){var r=data.envid,c=data.token;return r&&c?(n=r,d.a.defaults.headers.common["x-api-session"]=r,d.a.post("".concat(t.prefix,"/inspection"),{download_id:e})):o(new Error("connect failed: Fail to make session on server"))}).then(function(e){var t=e.data;if(t&&t.error)return o(new Error("".concat(t.error.code,": ").concat(t.error.message)));var c=t.session_id,l=t.reflow,d=t.title_id,f=t.book_code;if(!c||null==l||!d||!f){var h="sessionId: ".concat(c," / reflow: ").concat(l," / titleId: ").concat(d," / bookCode: ").concat(f);return o(new Error(h))}r({envId:n,sessionId:c,reflow:l,titleId:d,bookCode:f})})})}},{key:"getFolders",value:function(){var e=this;return new Promise(function(t,n){d.a.post("".concat(e.prefix,"/folders/")).then(function(e){var r=e.data;if(r&&r.error)return n(new Error("".concat(r.error.code,": ").concat(r.error.message)));t(r)})})}},{key:"createFolder",value:function(e){var t=this;return new Promise(function(n,r){d.a.post("".concat(t.prefix,"/create_folder/"),{name:e}).then(function(e){var t=e.data;if(t&&t.error)return r(new Error("".concat(t.error.code,": ").concat(t.error.message)));n([t])}).catch(function(e){console.log("create folder",e),r(e)})})}},{key:"renameFolder",value:function(code,e){var t=this;return new Promise(function(n,r){d.a.post("".concat(t.prefix,"/rename_folder/"),{code:code,name:e}).then(function(e){var t=e.data;if(t&&t.error)return r(new Error("".concat(t.error.code,": ").concat(t.error.message)));n([t])}).catch(function(e){console.log("rename folder",e),r(e)})})}},{key:"deleteFolder",value:function(code){var e=this;return new Promise(function(t,n){d.a.post("".concat(e.prefix,"/delete_folder/"),{code:code}).then(function(e){var r=e.data;if(r&&r.error)return n(new Error("".concat(r.error.code,": ").concat(r.error.message)));t(null===r)})})}},{key:"moveFolder",value:function(code,e){var t=this;return new Promise(function(n,r){d.a.post("".concat(t.prefix,"/move_folder/"),{code:code,to:e}).then(function(e){var t=e.data;if(t&&t.error)return r(new Error("".concat(t.error.code,": ").concat(t.error.message)));n(t)}).catch(function(e){console.log("move folder",e),r(e)})})}},{key:"getBooks",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return!!n&&(t&&t.length<1?Promise.resolve({type:"end"}):new Promise(function(r,o){var c={page:0};t&&(c.book_cds=t.filter(function(code){return null!=code}).join(","));var l=0;!function t(){return location.pathname.includes("bookshelf")?d.a.post("".concat(e.prefix,"/get_books/"),c).then(function(e){var d=e.data;if(d&&d.error)return o(new Error("".concat(d.error.code,": ").concat(d.error.message)));if(!Array.isArray(d.books))return console.log(e),o(new Error("downloaded data is corrupted"));var data=d;if(l+=data.books.length,n){var param={type:"loading",total:data.total,done:l,data:data.books};if(n(param),c.page++,l>=data.total)return r({type:"end"});t()}}):o(new Error("page was changed before download books complete"))}()}))}},{key:"getCountOfBooks",value:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("".concat(this.prefix,"/get_counts_books/"));case 3:t=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0.err);case 9:return e.abrupt("return",t.data.total||0);case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"moveBooks",value:function(e,t){var n=this;return new Promise(function(r,o){d.a.post("".concat(n.prefix,"/move_books/"),{to_:t,codes:e}).then(function(e){var t=e.data;if(t&&t.error)return o(new Error("".concat(t.error.code,": ").concat(t.error.message)));r(t)})})}},{key:"deleteBooks",value:function(e){var t=this;return new Promise(function(n,r){d.a.post("".concat(t.prefix,"/delete_books/"),{codes:e}).then(function(e){var t=e.data;if(t&&t.error)return r(new Error("".concat(t.error.code,": ").concat(t.error.message)));var o=t.changed||null;n(o)})})}},{key:"sync",value:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,data,r,o,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:null,e.prev=1,e.next=4,d.a.post("".concat(this.prefix,"/sync/"),{id:t});case 4:if(n=e.sent,data=n.data,r=data.logs,o=data.last_id,!r||Array.isArray(r)){e.next=9;break}throw new Error(r);case 9:return e.abrupt("return",{syncId:o,data:r||[]});case 12:throw e.prev=12,e.t0=e.catch(1),c=e.t0.data.error,new Error("".concat(c.code,": ").concat(c.message));case 16:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"getBooks2",value:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,r,o,c,l,f,h,m=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.length>0&&void 0!==m[0]?m[0]:null,n=m.length>1&&void 0!==m[1]?m[1]:0,r=m.length>2&&void 0!==m[2]?m[2]:null,!(t&&t.length<=0)){e.next=5;break}return e.abrupt("return",{type:"end"});case 5:if(o={page:n||0,results:this.notify},t&&(o.book_cds=t.filter(function(code){return/^[A-Z]{1}\d+/.test(code)}).join(",")),r&&(o.modified=r),location.pathname.includes("bookshelf")){e.next=10;break}throw new Error("page was changed before download books complete");case 10:return e.prev=10,e.next=13,d.a.post("".concat(this.prefix,"/get_books"),o);case 13:c=e.sent,e.next=25;break;case 16:if(e.prev=16,e.t0=e.catch(10),!(e.t0.status>=500)){e.next=24;break}return e.next=21,d.a.post("".concat(this.prefix,"/get_books"),o);case 21:c=e.sent,e.next=25;break;case 24:throw new Error(e.t0.data);case 25:if(!(l=c.data).error){e.next=28;break}throw new Error("".concat(l.error.code,": ").concat(l.error.message));case 28:if(Array.isArray(l.books)){e.next=31;break}throw console.error(c),new Error("downloaded data is corrupted");case 31:if(f=l.books.length,h=l.total,0!==f){e.next=37;break}return e.abrupt("return",{type:"end"});case 37:return e.abrupt("return",{type:"loading",done:f,total:h,data:l.books});case 38:case"end":return e.stop()}},e,this,[[10,16]])}));return function(){return e.apply(this,arguments)}}()}]),e}();t.a=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var content=n(666);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(62).default)("76020b4c",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(668);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(62).default)("239b2bdf",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(670);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(62).default)("432edc10",content,!0,{sourceMap:!1})},,function(e,t,n){"use strict";var r=n(172),o=n.n(r);t.default=o.a},function(e,t){},function(e,t,n){"use strict";var r=n(6),o=n(0),c=n(7);t.a={data:function(){return{keyword:"",searchSuggestDisabled:!1,searchSuggestDelay:500}},watch:{keyword:function(e){this.clearSuggests(),this.searchSuggest({keyword:e})}},computed:Object(r.a)({},Object(c.c)("search",["suggestKeywords","isSearching"])),methods:Object(r.a)({},Object(c.b)("search",{_searchSuggest:"searchSuggest",_search:"search"}),Object(c.d)("search",["clearSuggests","startSearching","stopSearching"]),{search:function(e){this._search({keyword:e})},updateKeyword:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.searchSuggestDisabled=t,this.keyword=e},clearKeyword:function(){this.keyword=""},clear:function(){this.stopSearching(),this.searchSuggest.cancel()}}),created:function(){var e=this;this.searchSuggest=Object(o.debounce)(function(t){e.searchSuggestDisabled||e._searchSuggest(t)},this.searchSuggestDelay)}}},function(e,t,n){"use strict";var r=n(175),o=n.n(r);t.default=o.a},function(e,t){},function(e,t,n){"use strict";var r=n(177),o=n.n(r);t.default=o.a},function(e,t){},function(e,t,n){var content=n(679);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(62).default)("78182131",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(681);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(62).default)("f2776f6e",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(683);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(62).default)("67c3a534",content,!0,{sourceMap:!1})},function(e,t,n){"use strict";var r=n(182),o=n.n(r);t.default=o.a},function(e,t){},function(e,t,n){"use strict";var r=n(184),o=n.n(r);t.default=o.a},function(e,t){},function(e,t,n){var content=n(686);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(62).default)("5b6b856e",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(688);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(62).default)("2e8b40c6",content,!0,{sourceMap:!1})},function(e,t,n){var content=n(690);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(62).default)("a1baa4c6",content,!0,{sourceMap:!1})},function(e,t,n){"use strict";var r=n(499),o=n(171),c=n(3),component=Object(c.a)(o.default,r.a,r.b,!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";var r=n(500),o=n(183),c=n(3),component=Object(c.a)(o.default,r.a,r.b,!1,null,null,null);t.default=component.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){(0,e.commit)("setCsrfToken",t.req.csrfToken())}n.r(t),n.d(t,"nuxtServerInit",function(){return r})},function(e,t,n){"use strict";n.r(t),n.d(t,"setDisplayNumberPerWidth",function(){return o}),n.d(t,"setEnv",function(){return c}),n.d(t,"setCsrfToken",function(){return l}),n.d(t,"setBaseURL",function(){return d}),n.d(t,"setLogger",function(){return f}),n.d(t,"setVersion",function(){return h}),n.d(t,"setFunctionDisable",function(){return m}),n.d(t,"setTargetDatetime",function(){return v});var r=n(5);function o(e,t){e.displayNumberPerWidth=t}function c(e,t){e.env=t}function l(e,t){e._csrf=t}function d(e,t){"string"==typeof t&&(e.baseURL=t)}function f(e,t){e.logger=t}function h(e,t){e.version=t}function m(e,t){var n=t.autoPurchase,r=void 0===n||n,o=t.linkPay,c=void 0===o||o;e.isAutoPurchaseDisabled=r,e.isLinkPayDisabled=c}function v(e,t){var n=t.targetDatetime;Object(r.a)(n,"YYYYMMDD").isValid()&&(e.targetDatetime=n)}},function(e,t,n){"use strict";n.r(t);var r=n(245),o=n(256),c=n(261),l=n(276),d=n(315),f=n(325),h=n(330),m=n(335),v=n(350),_=n(361),y=n(366),k=n(371),O=n(377),w=n(415),j=n(418),x=n(421),C=n(426),T=n(431),E=n(437),P=n(446),R=n(450),S=n(456),I=n(460),A=n(465),M=n(470),D=n(475),B=n(480),N=n(485),L=n(490);t.default={books:r.default,lists:o.default,cart:c.default,user:l.default,search:d.default,top:f.default,ranking:h.default,free:m.default,viewerlast:v.default,schedule:_.default,sale:y.default,bookshelf:k.default,mypage:O.default,hamburgerMenu:w.default,dropdown:j.default,setPublicationDetail:x.default,viewer:C.default,information:T.default,campaign:E.default,settings:P.default,redirect:R.default,emg:S.default,genre:I.default,signboard:A.default,bundle:M.default,banner:D.default,cyberSunday:B.default,miffy:N.default,common:L.default}},function(e,t,n){"use strict";n.r(t);var r=n(246),o=n(251);t.default={namespaced:!0,modules:{book:r.default,title:o.default}}},function(e,t,n){"use strict";n.r(t);var r=n(247),o=n(248),c=n(249),l=n(250);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{titleId:"",bookId:"",response:{publication:null,sameTitlePublications:{data:null,error:null},sameAuthorTitles:{data:null,error:null},sameMagazineTitles:{data:null,error:null},sameGenreTitles:{data:null,error:null},setPublications:{data:null,error:null},freeCampaignPublications:{data:null,error:null},reviewData:{data:{my_review:{},results:0,reviews:[],total_results:0},error:null},reviewSummary:{data:null,error:null},rewardTpoints:null,autoPurchaseRegisterCheck:{data:null,error:null},autoPurchaseRegistered:{data:null,error:null},coupons:null}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return _}),n.d(t,"getMoreReviews",function(){return k}),n.d(t,"registerReview",function(){return w}),n.d(t,"voteReview",function(){return x});var r=n(6),o=n(11),c=(n(13),n(33),n(31)),l=(n(9),n(2)),d=n(0),f=n(1),h=n(8),m=n(64),v=n(25);function _(e,t){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(regeneratorRuntime.mark(function e(t,n){var r,l,_,y,k,O,w,j,data,x,C,body,T,E,P,R,S,I,A,M;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.state,l=t.dispatch,_=t.rootState,y=n.titleId,k=n.bookId,O=n.approved,r("entered",{titleId:y,bookId:k}),w={titleId:y,publicationCd:k},"production"!==_.env&&(_.targetDatetime&&(w.targetDatetime=_.targetDatetime),O&&(w.approved=O)),e.prev=5,e.next=8,this.$fetchr.read("books/book",w);case 8:if(j=e.sent,data=j.data,x=Object(d.get)(data,"publication"),!_.user.isLogin||!x){e.next=30;break}return C=[],body={books:[{bookCd:h.a.methods.bookCd(x),goodsCd:h.a.methods.goodsCd(x),genreId:v.a.methods.titleUnificationMiddleGenreId(x.title)}],token:_.user.token},C.push(this.$fetchr.create("order/init",{},body)),T=Object(d.get)(x,"title.title_id"),C.push(l("user/autoPurchase/fetch",{results:1,titleIds:[T]},{root:!0})),e.prev=17,e.next=20,Promise.all(C);case 20:E=e.sent,P=Object(c.a)(E,1),R=P[0],data.rewardTpoints=Object(d.get)(R,"data.reward_tpoints",null),data.coupons=Object(d.get)(R,"data.available_coupons",null),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(17),this.$logger.warn.bind({fileName:"store/modules/books/book/actions.js",line:49})(e.t0);case 30:return r("fetched",data),S=Object(f.d)([x].concat(Object(o.a)(Object(d.get)(data,"sameTitlePublications.data.publications")||[]))),e.next=34,l("user/bookshelf/fetch",{bookCds:S},{root:!0});case 34:return I=Object(d.get)(data,"setPublications.data.set_publications",[])||[],A=I.map(function(e){return{bookCd:m.a.methods.setPublicationBookCd(e),composedBookCds:Object(d.get)(e,"composedBookCds",[])}}),e.next=38,l("user/bookshelf/fetchBySet",{bookCdsList:A,isMerge:!0},{root:!0});case 38:e.next=45;break;case 40:throw e.prev=40,e.t1=e.catch(5),(M=new Error("books/book/actions.fetch failed: ".concat(e.t1.message))).statusCode=e.t1.statusCode||500,M;case 45:case"end":return e.stop()}},e,this,[[5,40],[17,27]])}))).apply(this,arguments)}function k(e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,l,f,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.prev=1,o=r.bookId,c=Object(d.get)(r,"response.reviewData.data.reviews")||[],l={publicationCd:o,results:10},Array.isArray(c)&&c.length>0&&(l.start=c.length),e.next=8,this.$fetchr.read("review/more",l);case 8:f=e.sent,data=f.data,n("fetchedMoreReviews",data),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(1),new Error("books/book/actions.getMoreReviews failed: ".concat(e.t0.message));case 16:case"end":return e.stop()}},e,this,[[1,13]])}))).apply(this,arguments)}function w(e,t){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(regeneratorRuntime.mark(function e(t,n){var r,o,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.state,e.prev=1,e.next=4,this.$fetchr.create("my/review",{},n);case 4:o=e.sent,data=o.data,r("registeredReview",data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("books/book/actions.registerReview failed: ".concat(e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}function x(e,t){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(regeneratorRuntime.mark(function e(t,n){var o,c,l,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.commit,c=n.reviewId,e.prev=2,e.next=5,this.$fetchr.create("review/vote",{},{reviewId:c});case 5:l=e.sent,data=l.data,o("votedReview",Object(r.a)({},data,{review_id:c})),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),new Error("books/book/actions.voteReview failed: ".concat(e.t0.message));case 13:case"end":return e.stop()}},e,this,[[2,10]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return o}),n.d(t,"fetched",function(){return c}),n.d(t,"fetchedMoreReviews",function(){return l}),n.d(t,"registeredReview",function(){return d}),n.d(t,"votedReview",function(){return f}),n.d(t,"resetReviews",function(){return h});n(17);var r=n(0);function o(e,t){var n=t.titleId,r=t.bookId;e.titleId=n,e.bookId=r}function c(e,t){e.response=t}function l(e,t){var n=Object(r.get)(t,"data"),o=Object(r.get)(t,"error");if(n&&!o){e.response.reviewData.data.results=Object(r.get)(n,"results")||0;var c=Object(r.get)(n,"reviews")||[];e.response.reviewData.data.reviews=e.response.reviewData.data.reviews.concat(c),e.response.reviewData.data.total_results=Object(r.get)(n,"total_results")||0}}function d(e,t){}function f(e,data){var t=e.response.reviewData.data.reviews.find(function(e){return e.review_id===data.review_id});t&&0===data.is_voted&&t.voted_count++}function h(e){e.response.reviewData.data.reviews=e.response.reviewData.data.reviews.slice(0,3)}},function(e,t,n){"use strict";n.r(t),n.d(t,"error",function(){return h}),n.d(t,"publication",function(){return m}),n.d(t,"sameTitlePublications",function(){return v}),n.d(t,"branchPublications",function(){return _}),n.d(t,"sameAuthorTitles",function(){return y}),n.d(t,"sameMagazineTitles",function(){return k}),n.d(t,"sameGenreTitles",function(){return O}),n.d(t,"setPublications",function(){return w}),n.d(t,"freeCampaignPublications",function(){return j}),n.d(t,"isRegistedAutoPurchase",function(){return x}),n.d(t,"otherPatternGoods",function(){return C}),n.d(t,"rewardTpointsNormal",function(){return T}),n.d(t,"rewardTpointsSpecial",function(){return E}),n.d(t,"rewardTpointsNormalTotal",function(){return P}),n.d(t,"rewardTpointsSpecialTotal",function(){return R}),n.d(t,"reviewData",function(){return S}),n.d(t,"reviewSummary",function(){return I}),n.d(t,"isValidAutoPurchase",function(){return A}),n.d(t,"firstPressLimitedCoupon",function(){return M});n(17);var r=n(6),o=(n(13),n(11)),c=(n(21),n(22),n(0)),l=n(5),d=n(8),f=n(1);function h(e){return function(t){return Object(c.get)(e,"response.".concat(t,".error"))}}function m(e){return Object(c.get)(e,"response.publication",{})}function v(e){return Object(c.get)(e,"response.sameTitlePublications.data.publications",[]).filter(function(t){return Object(c.get)(t,"publication_cd")!==e.bookId})}function _(e,t){var n=t.publication,r=t.freeCampaignPublications,l=Object(c.get)(e,"response.sameTitlePublications.data.publications",[]),d=r.map(function(e){return e.publication_cd});return l.filter(function(t){return Object(c.get)(n,"volume_no")===Object(c.get)(t,"volume_no")&&![].concat(Object(o.a)(d),[e.bookId]).includes(t.publication_cd)&&(0===Object(c.get)(n,"volume_branch_no")&&0!==Object(c.get)(t,"volume_branch_no")||0!==Object(c.get)(n,"volume_branch_no")&&0===Object(c.get)(t,"volume_branch_no"))})}function y(e){return Object(c.get)(e,"response.sameAuthorTitles.data.titles")||[]}function k(e){return Object(c.get)(e,"response.sameMagazineTitles.data.titles")||[]}function O(e){return Object(c.get)(e,"response.sameGenreTitles.data.titles")||[]}function w(e){return Object(c.get)(e,"response.setPublications.data.set_publications",[])||[]}function j(e){return(Object(c.get)(e,"response.freeCampaignPublications.data.publications",[])||[]).filter(function(t){return t.publication_cd!==e.bookId})}function x(e){return Object(c.get)(e,"isRegistedAutoPurchase",!1)}function C(e,t,n){var o=t.publication,h=n.targetDatetime,m=d.a.methods.goodsCd(o,h),v=Object(c.get)(o,"books",[]).filter(function(e){return 0===e.book_type}),_=[];v.forEach(function(e){if(Object(c.get)(e,"goods")&&Object(c.get)(e,"book_cd")){var t=e.goods.map(function(t){return Object(r.a)({},t,{book_cd:e.book_cd,set_type:e.set_type})});_=_.concat(t)}});var y=h&&Object(l.a)(h,"YYYYMMDD").isValid()?Object(l.a)(h):Object(l.a)(),k=_.filter(function(e){var t=Object(c.get)(e,"sale_start_datetime"),n=Object(c.get)(e,"sale_end_datetime");return e.goods_cd!==m&&!([Object(f.p)("GOODS.PRICE_TYPE.FREE"),Object(f.p)("GOODS.PRICE_TYPE.CAMPAIGN_FREE")].includes(e.price_type)&&Object(c.get)(e,"is_browser_special_free"))&&(!t||Object(l.a)(t).isSameOrBefore(y,"minute"))&&(!n||Object(l.a)(n).isSameOrAfter(y,"minute"))&&1===Object(c.get)(e,"is_book_display",1)});return k.length>1&&(k=[Object(c.minBy)(k,function(e){return Object(c.get)(e,"price",1/0)})]),k.length>0?k[0]:void 0}function T(e,t,n){return n.user.isLogin&&Object(c.get)(e,"response.rewardTpoints.normal")||[]}function E(e,t,n){return n.user.isLogin&&Object(c.get)(e,"response.rewardTpoints.special")||[]}function P(e,t){return t.rewardTpointsNormal.reduce(function(e,t){return e+(t.tpoint||0)},0)}function R(e,t){return t.rewardTpointsSpecial.reduce(function(e,t){return e+(t.tpoint||0)},0)}function S(e){return Object(c.get)(e,"response.reviewData.data",{})}function I(e){return Object(c.get)(e,"response.reviewSummary.data.review_publication_summary")||{}}function A(e){return!!Object(c.get)(e,"response.autoPurchaseRegisterCheck.data.is_checked")}function M(e){return(Object(c.get)(e,"response.coupons")||[]).find(function(e){return Object(c.get)(e,"coupon_publish_type")===Object(f.p)("COUPON.COUPON_PUBLISH_TYPE.FIRST")&&e.is_useable})}},function(e,t,n){"use strict";n.r(t);var r=n(252),o=n(253),c=n(254),l=n(255);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{titleId:"",response:{title:null,sameTitlePublications:{data:null,error:null},sameAuthorTitles:{data:null,error:null},sameMagazineTitles:{data:null,error:null},sameGenreTitles:{data:null,error:null},setPublications:{data:null,error:null},freeCampaignPublications:{data:null,error:null},reviewData:{data:{my_review:{},results:0,reviews:[],total_results:0},error:null},reviewSummary:{data:null,error:null},autoPurchaseRegisterCheck:{data:null,error:null},autoPurchaseRegistered:{data:null,error:null}}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return _}),n.d(t,"getMoreReviews",function(){return k}),n.d(t,"voteReview",function(){return w});var r=n(6),o=n(11),c=(n(13),n(33),n(31)),l=(n(9),n(2)),d=n(0),f=n(1),h=n(8),m=n(25),v=n(64);function _(e,t){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(regeneratorRuntime.mark(function e(t,n){var r,l,_,y,k,O,w,data,j,x,body,C,T,E,P,R,S,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.state,l=t.dispatch,_=t.rootState,y=n.titleId,k=n.approved,O={titleId:y},"production"!==_.env&&(_.targetDatetime&&(O.targetDatetime=_.targetDatetime),k&&(O.approved=k)),r("entered",{titleId:y}),e.prev=5,e.next=8,this.$fetchr.read("books/title",O);case 8:if(w=e.sent,data=w.data,j=Object(d.get)(data,"titlePublicationMain.data.publication"),!_.user.isLogin){e.next=29;break}return x=[],body={books:[{bookCd:h.a.methods.bookCd(j),goodsCd:h.a.methods.goodsCd(j),genreId:m.a.methods.titleUnificationMiddleGenreId(j.title)}],token:_.user.token},x.push(this.$fetchr.create("order/init",{},body)),C=Object(d.get)(j,"title.title_id"),x.push(l("user/autoPurchase/fetch",{results:1,titleIds:[C]},{root:!0})),e.prev=17,e.next=20,Promise.all(x);case 20:T=e.sent,E=Object(c.a)(T,1),P=E[0],data.rewardTpoints=Object(d.get)(P,"data.reward_tpoints",null),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(17),this.$logger.warn.bind({fileName:"store/modules/books/title/actions.js",line:45})(e.t0);case 29:return r("fetched",data),R=Object(f.d)([j].concat(Object(o.a)(Object(d.get)(data,"sameTitlePublications.data.publications")||[]))),e.next=33,l("user/bookshelf/fetch",{bookCds:R},{root:!0});case 33:return S=Object(d.get)(data,"setPublications.data.set_publications",[])||[],I=S.map(function(e){return{bookCd:v.a.methods.setPublicationBookCd(e),composedBookCds:Object(d.get)(e,"composedBookCds",[])}}),e.next=37,l("user/bookshelf/fetchBySet",{bookCdsList:I,isMerge:!0},{root:!0});case 37:e.next=42;break;case 39:throw e.prev=39,e.t1=e.catch(5),new Error("books/title/actions.fetch failed: ".concat(e.t1.message));case 42:case"end":return e.stop()}},e,this,[[5,39],[17,26]])}))).apply(this,arguments)}function k(e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,l,f,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.prev=1,o=r.titleId,c=Object(d.get)(r,"response.reviewData.data.reviews")||[],l={titleId:o,results:10},Array.isArray(c)&&c.length>0&&(l.start=c.length),e.next=8,this.$fetchr.read("review/more",l);case 8:f=e.sent,data=f.data,n("fetchedMoreReviews",data),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(1),new Error("books/title/actions.getMoreReviews failed: ".concat(e.t0.message));case 16:case"end":return e.stop()}},e,this,[[1,13]])}))).apply(this,arguments)}function w(e,t){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(regeneratorRuntime.mark(function e(t,n){var o,c,l,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.commit,c=n.reviewId,e.prev=2,e.next=5,this.$fetchr.create("review/vote",{},{reviewId:c});case 5:l=e.sent,data=l.data,o("votedReview",Object(r.a)({},data,{review_id:c})),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),new Error("books/title/actions.voteReview failed: ".concat(e.t0.message));case 13:case"end":return e.stop()}},e,this,[[2,10]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return o}),n.d(t,"fetched",function(){return c}),n.d(t,"fetchedMoreReviews",function(){return l}),n.d(t,"votedReview",function(){return d}),n.d(t,"resetReviews",function(){return f});n(17);var r=n(0);function o(e,t){var n=t.titleId;e.titleId=n}function c(e,t){e.response=t}function l(e,t){var n=Object(r.get)(t,"data"),o=Object(r.get)(t,"error");if(n&&!o){e.response.reviewData.data.results=Object(r.get)(n,"results")||0;var c=Object(r.get)(n,"reviews")||[];e.response.reviewData.data.reviews=e.response.reviewData.data.reviews.concat(c),e.response.reviewData.data.total_results=Object(r.get)(n,"total_results")||0}}function d(e,data){var t=e.response.reviewData.data.reviews.find(function(e){return e.review_id===data.review_id});t&&0===data.is_voted&&t.voted_count++}function f(e){e.response.reviewData.data.reviews=e.response.reviewData.data.reviews.slice(0,3)}},function(e,t,n){"use strict";n.r(t),n.d(t,"error",function(){return o}),n.d(t,"titleInfo",function(){return c}),n.d(t,"setPublications",function(){return l}),n.d(t,"sameTitlePublications",function(){return d}),n.d(t,"reviewData",function(){return f}),n.d(t,"reviewSummary",function(){return h}),n.d(t,"sameAuthorTitles",function(){return m}),n.d(t,"sameMagazineTitles",function(){return v}),n.d(t,"sameGenreTitles",function(){return _}),n.d(t,"freeCampaignPublications",function(){return y}),n.d(t,"titlePublicationMain",function(){return k}),n.d(t,"isValidAutoPurchase",function(){return O}),n.d(t,"rewardTpointsNormal",function(){return w}),n.d(t,"rewardTpointsSpecial",function(){return j}),n.d(t,"rewardTpointsNormalTotal",function(){return x}),n.d(t,"rewardTpointsSpecialTotal",function(){return C});var r=n(0);function o(e){return function(t){return Object(r.get)(e,"response.".concat(t,".error"))}}function c(e){return Object(r.get)(e,"response.title",{})}function l(e){return Object(r.get)(e,"response.setPublications.data.set_publications",[])||[]}function d(e){return Object(r.get)(e,"response.sameTitlePublications.data.publications",[])||[]}function f(e){return Object(r.get)(e,"response.reviewData.data",{})}function h(e){return Object(r.get)(e,"response.reviewSummary.data.review_title_summary")||{}}function m(e){return Object(r.get)(e,"response.sameAuthorTitles.data.titles")||[]}function v(e){return Object(r.get)(e,"response.sameMagazineTitles.data.titles")||[]}function _(e){return Object(r.get)(e,"response.sameGenreTitles.data.titles")||[]}function y(e){return Object(r.get)(e,"response.freeCampaignPublications.data.publications",[])||[]}function k(e){return Object(r.get)(e,"response.titlePublicationMain.data.publication")||[]}function O(e){return!!Object(r.get)(e,"response.autoPurchaseRegisterCheck.data.is_checked")}function w(e,t,n){return n.user.isLogin&&Object(r.get)(e,"response.rewardTpoints.normal")||[]}function j(e,t,n){return n.user.isLogin&&Object(r.get)(e,"response.rewardTpoints.special")||[]}function x(e,t){return t.rewardTpointsNormal.reduce(function(e,t){return e+(t.tpoint||0)},0)}function C(e,t){return t.rewardTpointsSpecial.reduce(function(e,t){return e+(t.tpoint||0)},0)}},function(e,t,n){"use strict";n.r(t);var r=n(257),o=n(258),c=n(259),l=n(260);t.default={namespaced:!0,state:r.default,mutations:o,actions:c,getters:l}},function(e,t,n){"use strict";n.r(t);n(17);var r=n(1);t.default=function(){var e=Object(r.f)("lists.filters"),t=Object(r.f)("lists.ckeckboxFilters");return{page:1,start:0,results:Object(r.f)("results"),authorId:void 0,genreId:void 0,magazineId:void 0,publisherId:void 0,tagId:void 0,keyword:void 0,response:null,suggests:[],useTitle:t.find(function(e){return"useTitle"===e.value}).checked,searchSuggestResponse:null,sortType:"rank",filters:{label:"絞込み",iconName:"arrow-down",showHeader:!0,items:e,selected:{}},checkboxFilters:{items:t,selected:{}},sorts:Object(r.f)("lists.sorts")}}},function(e,t,n){"use strict";n.r(t),n.d(t,"setListsitems",function(){return c}),n.d(t,"setAuthorId",function(){return l}),n.d(t,"setGenreId",function(){return d}),n.d(t,"setMagazineId",function(){return f}),n.d(t,"setPublisherId",function(){return h}),n.d(t,"setTagId",function(){return m}),n.d(t,"setKeyword",function(){return v}),n.d(t,"setPage",function(){return _}),n.d(t,"setUseTitle",function(){return y}),n.d(t,"setSelectedFilter",function(){return k}),n.d(t,"updateSortType",function(){return O}),n.d(t,"searchSuggestFetched",function(){return w}),n.d(t,"clearSuggests",function(){return j}),n.d(t,"reset",function(){return x});n(46),n(19),n(17);var r=n(0),o=n(1);function c(e,data){e.response=data}function l(e,t){"string"==typeof t&&(e.authorId=encodeURIComponent(t))}function d(e,t){if("string"==typeof t){var n=encodeURIComponent(t);if(n&&"M"!==n.slice(0,1)){var r=Object(o.f)("unificationTopGenres").find(function(e){return n===e.name});e.genreId=r?r.value:""}else e.genreId=n}}function f(e,t){"string"==typeof t&&(e.magazineId=encodeURIComponent(t))}function h(e,t){"string"==typeof t&&(e.publisherId=encodeURIComponent(t))}function m(e,t){"string"==typeof t&&(e.tagId=encodeURIComponent(t))}function v(e,t){"string"==typeof t&&(e.keyword=t)}function _(e,t){e.page=/^\d+$/.test(t)?+t:1,e.start=(e.page-1)*e.results}function y(e,t){t&&(e.useTitle="1"===t)}function k(e,t){Object(r.forEach)(t,function(t,n){if("string"==typeof t&&t.length>0){var o=t.split(",");e.filters.selected[n]=Object(r.uniq)(o.filter(function(e){return e.length>0}))}else e.filters.selected[n]=null})}function O(e,t){e.sortType=t||"rank"}function w(e,t){var n=t.response;e.searchSuggestResponse=n}function j(e){e.searchSuggestResponse=null}function x(e){e.page=1,e.start=0,e.authorId=null,e.genreId=null,e.magazineId=null,e.publisherId=null,e.tagId=null,e.keyword=null,e.suggests=null;var t=Object(o.f)("lists.ckeckboxFilters");e.useTitle=t.find(function(e){return"useTitle"===e.value}).checked,e.searchSuggestResponse=null,e.sortType="rank"}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return l}),n.d(t,"fetch",function(){return f}),n.d(t,"searchSuggest",function(){return m});n(13),n(21),n(22),n(9);var r=n(2),o=n(0),c=n(1);function l(e,t){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,c,l,d,f,h,m,v,_,y,k,O,w,j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.commit,t.rootState,c=Object(o.get)(n,"authorId"),l=Object(o.get)(n,"genreId"),d=Object(o.get)(n,"magazineId"),f=Object(o.get)(n,"publisherId"),h=Object(o.get)(n,"tagId"),m=Object(o.get)(n,"keyword"),v=Object(o.get)(n,"page",1),_=Object(o.get)(n,"product",""),y=Object(o.get)(n,"genres",""),k=Object(o.get)(n,"publisher",""),O=Object(o.get)(n,"tags",""),w=Object(o.get)(n,"useTitle"),j=Object(o.get)(n,"sort"),r("reset"),r("setAuthorId",c),r("setGenreId",l),r("setMagazineId",d),r("setPublisherId",f),r("setTagId",h),r("setKeyword",m),r("setPage",v),r("setSelectedFilter",{product:_,genres:y,publisher:k,tags:O}),r("setUseTitle",w),r("updateSortType",j);case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,l,d,f,h,m,v,_,y,k,data,O,w=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,l=t.getters,d=t.dispatch,f=t.rootState,h=w.length>1&&void 0!==w[1]?w[1]:"keyword",e.prev=2,m={},"keyword"!==h){e.next=8;break}m.keyword=r.keyword,e.next=33;break;case 8:if("author"!==h){e.next=12;break}m.authorId=r.authorId,e.next=33;break;case 12:if("genre"!==h){e.next=16;break}m.genreId=r.genreId,e.next=33;break;case 16:if("label"!==h){e.next=20;break}m.magazineId=r.magazineId,e.next=33;break;case 20:if("publisher"!==h){e.next=24;break}m.publisherId=r.publisherId,e.next=33;break;case 24:if("tag"!==h){e.next=28;break}m.tagId=r.tagId,e.next=33;break;case 28:if("all"!==h){e.next=31;break}e.next=33;break;case 31:return n("setListsitems",null),e.abrupt("return",-1);case 33:return v={start:r.start,results:r.results,sort:r.sortType},"production"!==f.env&&f.targetDatetime&&(v.targetDatetime=f.targetDatetime),l.enableFiltersByPage(h)&&(_=l.filtersByPage(h).items.map(function(e){return e.value}),y=l.selectedFilter,v.isFilterCondition=!0,_.includes("product")&&y.product&&y.product.forEach(function(e){v[e]=!0}),_.includes("genres")&&y.genres&&(v.unificationTopGenres=y.genres.join(",")),_.includes("publisher")&&y.publisher&&(v.publisher=y.publisher[0]),_.includes("tags")&&y.tags&&(v.tags=y.tags.join(","))),e.next=38,this.$fetchr.read("search/view",{params:m,options:v,useTitle:l.useTitle});case 38:return k=e.sent,data=k.data,n("setListsitems",data),O=Object(c.d)(Object(o.get)(data,"books.publications",[])||[]),e.next=44,d("user/bookshelf/fetch",{bookCds:O},{root:!0});case 44:e.next=49;break;case 46:throw e.prev=46,e.t0=e.catch(2),new Error("lists/actions.fetch failed: ".concat(e.t0.message));case 49:case"end":return e.stop()}},e,this,[[2,46]])}))).apply(this,arguments)}function m(e,t){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.state,t.$fetchr,o=n.keyword,e.prev=2,e.next=5,this.$fetchr.read("search/suggest",{query:{keyword:o}});case 5:c=e.sent,data=c.data,r("searchSuggestFetched",{response:data}),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),new Error("lists/actions.suggest failed: ".concat(e.t0.message));case 13:case"end":return e.stop()}},e,this,[[2,10]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"books",function(){return l}),n.d(t,"bookResults",function(){return d}),n.d(t,"bookTotalResults",function(){return f}),n.d(t,"tagId",function(){return h}),n.d(t,"useTitle",function(){return m}),n.d(t,"filters",function(){return v}),n.d(t,"checkboxFilters",function(){return _}),n.d(t,"filtersByPage",function(){return y}),n.d(t,"checkboxFiltersByPage",function(){return k}),n.d(t,"filteringCondition",function(){return O}),n.d(t,"enableFiltersByPage",function(){return w}),n.d(t,"selectedFilter",function(){return j}),n.d(t,"selectedFilterStrings",function(){return x}),n.d(t,"selectedCheckboxFilterStrings",function(){return C}),n.d(t,"sorts",function(){return T}),n.d(t,"selectedSort",function(){return E}),n.d(t,"suggestKeywords",function(){return P});n(21),n(22);var r=n(6),o=n(0),c=n(1);function l(e,t){return t.useTitle?Object(o.get)(e.response,"books.titles",null):Object(o.get)(e.response,"books.publications",null)}function d(e){return Object(o.get)(e.response,"books.results",0)}function f(e){return Object(o.get)(e.response,"books.total_results",0)}function h(e){return e.tagId}function m(e,t){return e.useTitle&&"price"!==t.selectedSort}function v(e,t){var n=Object(r.a)({},e.filters),c=t.filteringCondition,l=t.useTitle;return n.items=n.items.map(function(e){return"product"===e.value&&l&&(e.subitems=e.subitems.filter(function(e){return"pointup"!==e.value})),"genres"===e.value&&c.unifaication_genres&&(e.subitems=c.unifaication_genres.map(function(e){return{label:e.unification_top_genre_name,value:e.unification_top_genre_id}})),"publisher"===e.value&&c.publishers&&(e.subitems=c.publishers.filter(function(e){var t=Object(o.get)(e,"publisher_name","");return t&&!/.*〓.*/.test(t)}).map(function(e){return{label:e.publisher_name,value:e.publisher_id}})),"tags"===e.value&&c.tags&&(e.subitems=c.tags.map(function(e){return{label:e.tag_name,value:e.tag_id}})),e}),n}function _(e,t){var n=e.sortType,o=Object(r.a)({},e.checkboxFilters);return o.items=o.items.filter(function(e){return"useTitle"===e.value&&"price"!==n}),o}function y(e,t){var n=Object(c.f)("lists.enableFiltersMenuMap");return function(e){var c=Object(r.a)({},t.filters);return c.items=c.items.filter(function(t){return Object(o.get)(n,e,[]).includes(t.value)}),c}}function k(e,t){var n=Object(c.f)("lists.enableFiltersMenuMap");return function(e){var c=Object(r.a)({},t.checkboxFilters);return c.items=c.items.filter(function(t){return Object(o.get)(n,e,[]).includes(t.value)}),c}}function O(e){var t=Object(o.get)(e.response,"books.filtering_condition",{});return Object(o.mapValues)(t,function(e){return e.sort(function(a,b){return a.sort_order_no>b.sort_order_no?1:a.sort_order_no<b.sort_order_no?-1:0})})}function w(e,t){return function(e){return t.filtersByPage(e).items.length>0}}function j(e){return e.filters.selected}function x(e,t){var n=t.selectedFilter,r=[];return Object(o.forEach)(n,function(e,t){Object(o.forEach)(e,function(e){r.push("".concat(t,"/").concat(e))})}),r}function C(e,t){var n=[];return t.useTitle&&n.push("useTitle"),n}function T(e,t){var n=e.sorts;return t.useTitle?n.filter(function(e){return"price"!==e.value}):n}function E(e){return e.sortType}function P(e){var t=Object(o.get)(e,"searchSuggestResponse.suggest_word_list");return Array.isArray(t)?t.map(function(e){return e.suggest_keyword}):[]}},function(e,t,n){"use strict";n.r(t);var r=n(262),o=n(263),c=n(264),l=n(265),d=n(266),f=n(271);t.default={namespaced:!0,state:r.default,actions:o,getters:c,mutations:l.default,modules:{confirm:d.default,complete:f.default}}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{cartItems:[],laterItems:[],localBasket:[],addedItems:[],rewardTpointsResponse:null,isFetched:!1,totalResults:0}}},function(e,t,n){"use strict";n.r(t),n.d(t,"getCartInfo",function(){return v}),n.d(t,"transferToCartItem",function(){return y}),n.d(t,"transferToLaterItem",function(){return O}),n.d(t,"addCartItem",function(){return j}),n.d(t,"addLaterItem",function(){return C}),n.d(t,"deleteCartItem",function(){return E}),n.d(t,"saveLocalBasketToRemote",function(){return R}),n.d(t,"fetchRewardTpoints",function(){return I});n(21),n(22),n(13),n(60),n(9);var r=n(2),o=n(1),c=n(8),l=n(25),d=n(0),f=Object(o.p)("CART.BASKET_TYPE"),h=Object(o.p)("CART.PUBLICATION_TYPE"),m=Object(o.g)("ERROR.CART");function v(e,t){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,data,h,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.dispatch,r=t.commit,o=t.state,c=t.rootState,l=n.results,e.prev=2,c.user.isLogin){e.next=12;break}return d=isNaN(Number(l))?o.localBasket:o.localBasket.slice(0,1),e.next=7,this.$fetchr.read("cart/guest",{cartItems:d});case 7:f=e.sent,data=f.data,r("fetchedGuest",data),e.next=17;break;case 12:return e.next=14,this.$fetchr.read("cart/cart",{results:l});case 14:h=e.sent,v=h.data,r("fetched",v);case 17:e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(2),new Error(m.FetchError);case 22:case"end":return e.stop()}},e,this,[[2,19]])}))).apply(this,arguments)}function y(e,t){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,body;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,t.state,o=t.rootState,c=n.bookCd,l=n.publicationType,o.user.isLogin){e.next=5;break}return r("updatedBasketType",{bookCd:c,basketType:f.BASKET}),e.abrupt("return");case 5:return e.prev=5,body={bookCd:c,publicationType:l,basketType:f.BASKET},e.next=9,this.$fetchr.update("cart/cart",{},body);case 9:r("updatedBasketType",{bookCd:c,basketType:f.BASKET}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(5),new Error(m.MoveError);case 15:case"end":return e.stop()}},e,this,[[5,12]])}))).apply(this,arguments)}function O(e,t){return w.apply(this,arguments)}function w(){return(w=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,body;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,t.state,o=t.rootState,c=n.bookCd,l=n.publicationType,o.user.isLogin){e.next=5;break}return r("updatedBasketType",{bookCd:c,basketType:f.LATER}),e.abrupt("return");case 5:return e.prev=5,body={bookCd:c,publicationType:l,basketType:f.LATER},e.next=9,this.$fetchr.update("cart/cart",{},body);case 9:r("updatedBasketType",{bookCd:c,basketType:f.LATER}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(5),new Error(m.MoveError);case 15:case"end":return e.stop()}},e,this,[[5,12]])}))).apply(this,arguments)}function j(e,t){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,h,v,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.state,c=t.dispatch,l=t.rootState,d=o.laterItems,h=o.localBasket,v=l.user.isLogin?d.map(function(e){return e.book_cd}):h.filter(function(e){return e.basketType===f.LATER}).map(function(e){return e.bookCd}),_=[],n.forEach(function(e){v.includes(e.bookCd)&&(c("transferToCartItem",e),_.push(e.bookCd))}),(n=n.filter(function(e){return!_.includes(e.bookCd)})).length){e.next=8;break}return e.abrupt("return");case 8:if(l.user.isLogin){e.next=11;break}return r("addToLocalBasket",{items:n,basketType:f.BASKET}),e.abrupt("return");case 11:return e.prev=11,e.next=14,this.$fetchr.create("cart/cart",{},{items:n});case 14:r("addedCartItem",n),e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(11),new Error(m.AddError);case 20:case"end":return e.stop()}},e,this,[[11,17]])}))).apply(this,arguments)}function C(e,t){return T.apply(this,arguments)}function T(){return(T=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,h,v,_,y,k,O,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.state,c=t.dispatch,l=t.rootState,h=o.cartItems,v=o.addedItems,_=o.localBasket,y=[],l.user.isLogin?(k=h.map(function(e){return e.book_cd}),O=v.map(function(e){return e.bookCd}),y=Object(d.union)(y,k,O)):y=_.filter(function(e){return e.basketType===f.BASKET}).map(function(e){return e.bookCd}),w=[],n.forEach(function(e){y.includes(e.bookCd)&&(c("transferToLaterItem",e),w.push(e.bookCd))}),(n=n.filter(function(e){return!w.includes(e.bookCd)})).length){e.next=9;break}return e.abrupt("return");case 9:if(l.user.isLogin){e.next=12;break}return r("addToLocalBasket",{items:n,basketType:f.LATER}),e.abrupt("return");case 12:return e.prev=12,e.next=15,this.$fetchr.create("cart/cart",{},{items:n});case 15:r("addedLaterItem",n),e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(12),new Error(m.AddError);case 21:case"end":return e.stop()}},e,this,[[12,18]])}))).apply(this,arguments)}function E(e,t){return P.apply(this,arguments)}function P(){return(P=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,t.rootState.user.isLogin){e.next=4;break}return r("deleted",n),e.abrupt("return");case 4:return e.prev=4,e.next=7,this.$fetchr.delete("cart/cart",{items:n});case 7:r("deleted",n),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new Error(m.DeleteError);case 13:case"end":return e.stop()}},e,this,[[4,10]])}))).apply(this,arguments)}function R(e){return S.apply(this,arguments)}function S(){return(S=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,l,f,v,_,y,k,O,w,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,o=t.dispatch,c=t.rootGetters,l=t.rootState,f=r.localBasket,l.user.isLogin&&f.length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,this.$fetchr.read("cart/guest.setDetails",{cartItems:f});case 7:if(v=e.sent,_=v.data,y=f.map(function(e){if(Number(e.publicationType)===h.PUBLICATION)return e.bookCd}).filter(function(e){return e}),!Array.isArray(y)||!y.length){e.next=13;break}return e.next=13,o("user/bookshelf/fetch",{bookCds:y},{root:!0});case 13:if(k=Object(d.get)(_,"setPublicationBookCds.data.setPublicationDetails")||[],!Array.isArray(k)||!k.length){e.next=17;break}return e.next=17,o("user/bookshelf/fetchBySet",{bookCdsList:k,isMerge:!!y},{root:!0});case 17:if(O=c["user/bookshelf/purchaseBookCds"],Array.isArray(O)&&y.length&&(f=f.filter(function(e){return!O.includes(e.bookCd)})),!f.length){e.next=25;break}return e.next=22,this.$fetchr.create("cart/cart",{},{items:f});case 22:w=e.sent,data=w.data,n("resetLocalBasket",data.failed);case 25:e.next=30;break;case 27:throw e.prev=27,e.t0=e.catch(4),new Error(m.FetchError);case 30:case"end":return e.stop()}},e,this,[[4,27]])}))).apply(this,arguments)}function I(e){return A.apply(this,arguments)}function A(){return(A=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o,body,d,data,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.rootState,o=r.cart.cartItems,r.user.isLogin&&o.length){e.next=5;break}return n("updateRewardTpoints",{response:void 0}),e.abrupt("return");case 5:return e.prev=5,body={books:o.map(function(e){return{bookCd:e.book_cd,goodsCd:c.a.methods.goodsCd(e.publication),genreId:l.a.methods.titleUnificationMiddleGenreId(e.publication.title)}})},e.next=9,this.$fetchr.create("order/init",{},body);case 9:d=e.sent,data=d.data,n("updateRewardTpoints",{response:data}),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(5),f=M(e.t0),new Error(f);case 18:case"end":return e.stop()}},e,this,[[5,14]])}))).apply(this,arguments)}function M(e){var t=Object(d.get)(e,"body.errorType");return t&&m[t]||m.OrderInProgressError}},function(e,t,n){"use strict";n.r(t),n.d(t,"contentsCount",function(){return l}),n.d(t,"contentsTotal",function(){return d}),n.d(t,"rewardTpointsNormal",function(){return f}),n.d(t,"rewardTpointsSpecial",function(){return h}),n.d(t,"rewardTpointsNormalTotal",function(){return m}),n.d(t,"rewardTpointsSpecialTotal",function(){return v}),n.d(t,"isCartAdded",function(){return _}),n.d(t,"isLaterAdded",function(){return y}),n.d(t,"hasItems",function(){return k}),n.d(t,"hasItemsInLocal",function(){return O}),n.d(t,"isCartAddable",function(){return w}),n.d(t,"isLaterAddable",function(){return j});var r=n(8),o=n(0),c=n(1);function l(e){return e.cartItems.length}function d(e){return e.cartItems.reduce(function(e,t){var n=r.a.methods.price(t.publication);return"number"==typeof n?e+n:e},0)}function f(e){return Object(o.get)(e,"rewardTpointsResponse.reward_tpoints.normal")||[]}function h(e){return Object(o.get)(e,"rewardTpointsResponse.reward_tpoints.special")||[]}function m(e,t){return t.rewardTpointsNormal.reduce(function(e,t){return e+(t.tpoint||0)},0)}function v(e,t){return t.rewardTpointsSpecial.reduce(function(e,t){return e+(t.tpoint||0)},0)}function _(e,t,n){return function(t){if(n.user.isLogin){if(!Array.isArray(t)||t.length<1||e.cartItems.length<=0&&e.addedItems.length<=0)return!1;var r=e.cartItems.map(function(e){return e.book_cd}),l=e.addedItems.map(function(e){return e.bookCd});return 0===Object(o.difference)(t,r).length||0===Object(o.difference)(t,l).length}if(!Array.isArray(t)||t.length<1||e.localBasket.length<=0)return!1;var d=e.localBasket.filter(function(e){return e.basketType===Object(c.p)("CART.BASKET_TYPE.BASKET")}).map(function(e){return e.bookCd});return 0===Object(o.difference)(t,d).length}}function y(e,t,n){return function(t){if(n.user.isLogin){if(!Array.isArray(t)||t.length<1||e.laterItems.length<=0)return!1;var r=e.laterItems.map(function(e){return e.book_cd});return 0===Object(o.difference)(t,r).length}if(!Array.isArray(t)||t.length<1||e.localBasket.length<=0)return!1;var l=e.localBasket.filter(function(e){return e.basketType===Object(c.p)("CART.BASKET_TYPE.LATER")}).map(function(e){return e.bookCd});return 0===Object(o.difference)(t,l).length}}function k(e){return!!e.cartItems.length||!!e.addedItems.length}function O(e){return e.localBasket.some(function(e){return e.basketType===Object(c.p)("CART.BASKET_TYPE.BASKET")})}function w(e,t,n){var r=n.user.isLogin?e.cartItems.length:e.localBasket.length;return function(e){return e+r<=Object(c.f)("cartLimit")}}function j(e,t,n){return e.laterItems.length+1<Object(c.f)("laterLimit")}},function(e,t,n){"use strict";n.r(t);n(139);var r=n(6),o=(n(17),n(82),n(83),n(13),n(0)),c=n(1),l=n(8),d=n(64),f=n(511),h=l.a.methods.bookCd.bind(l.a.methods),m=d.a.methods.setPublicationBookCd.bind(d.a.methods),v=Object(c.p)("CART.BASKET_TYPE"),_=Object(c.p)("CART.PUBLICATION_TYPE"),y={fetched:function(e,data){var t=Object(o.get)(data,"baskets",[]);t.forEach(function(e){e.publication=k(e.publication)}),e.cartItems=t.filter(function(e){return Object(o.get)(e,"basket_type")===String(v.BASKET)}),e.laterItems=t.filter(function(e){return Object(o.get)(e,"basket_type")===String(v.LATER)}),e.addedItems=[],e.totalResults=Object(o.get)(data,"total_results",0)},fetchedGuest:function(e,t){var n=e.localBasket||[],r=[],o=[],c=!0,l=!1,d=void 0;try{for(var f,y=function(){var e=f.value,n=e.bookCd,c=e.publicationType,l=e.basketType,d=void 0===l?v.BASKET:l,y=void 0;if(!(y=c===_.PUBLICATION?t.publications.find(function(e){return n===h(e)}):t.setPublications.find(function(e){return n===m(e)})))return"continue";var k={book_cd:n,publication_type:c,publication:y};d===v.BASKET?r.push(k):o.push(k)},O=n[Symbol.iterator]();!(c=(f=O.next()).done);c=!0)y()}catch(e){l=!0,d=e}finally{try{c||null==O.return||O.return()}finally{if(l)throw d}}r.forEach(function(e){e.publication=k(e.publication)}),o.forEach(function(e){e.publication=k(e.publication)}),e.cartItems=r,e.laterItems=o},updatedBasketType:function(e,t){var n=t.bookCd,o=t.basketType;if(o===v.BASKET){var c=e.laterItems.filter(function(e){return e.book_cd===n});e.cartItems=c.concat(e.cartItems),e.laterItems=e.laterItems.filter(function(e){return e!==c[0]})}else if(o===v.LATER){var l=e.cartItems.filter(function(e){return e.book_cd===n});e.cartItems=e.cartItems.filter(function(e){return e!==l[0]}),e.laterItems=l.concat(e.laterItems)}e.localBasket=e.localBasket.map(function(e){return e.bookCd===n?Object(r.a)({},e,{basketType:o}):e})},restoreLocalBasket:function(e,t){e.localBasket=t},addToLocalBasket:function(e,t){var n=t.items,r=t.basketType,o=void 0===r?v.BASKET:r;n.forEach(function(t){-1===e.localBasket.findIndex(function(e){return e.bookCd===t.bookCd})&&(t.basketType=o,e.localBasket.push(t))})},resetLocalBasket:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.localBasket=t},deleted:function(e,t){t.forEach(function(t){var n=t.bookCd,r=function(e){return e.book_cd!==n};e.cartItems=e.cartItems.filter(r),e.laterItems=e.laterItems.filter(r),e.localBasket=e.localBasket.filter(function(e){return e.bookCd!==n})})},setCartItems:function(e,data){e.cartItems=data},addedCartItem:function(e,t){t.forEach(function(t){var n=t.bookCd,r=t.publicationType;e.addedItems.find(function(e){return e.bookCd===n})||e.addedItems.push({bookCd:n,publicationType:r})})},addedLaterItem:function(e,t){t.forEach(function(t){var n=t.bookCd,r=t.publicationType,o=t.publication;e.laterItems.find(function(e){return e.book_cd===n})||e.laterItems.push({book_cd:n,publication_type:String(r),publication:o})})},updateRewardTpoints:function(e,t){var n=t.response;e.rewardTpointsResponse=n},setIsFetched:function(e,t){e.isFetched=!!t}};function k(e){return l.a.methods.isSet(e)||!l.a.methods.goodsCd(e)?e:(e.books[0].goods=e.books[0].goods.filter(function(e){return!f.a.methods.isBrowserFree(e)}),e)}t.default=y},function(e,t,n){"use strict";n.r(t);var r=n(267),o=n(268),c=n(269),l=n(270);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{query:{bookCd:null,goodsCd:null,publicationType:null},response:null,paymentMethods:[],paymentMethod:null,linkedPayments:[],isUseTpoint:!1,usingTpoint:0,usingCoupon:null,purchaseContents:null,linkOrderParamsResponse:null,rewardTpoints:null,rewardTpointsContext:"",hasAdult:!0}}},function(e,t,n){"use strict";n.r(t),n.d(t,"createBookshelf",function(){return k}),n.d(t,"fetchPayment",function(){return w}),n.d(t,"fetch",function(){return x}),n.d(t,"fetchLinkOrderParams",function(){return T}),n.d(t,"purchaseBySbps",function(){return P}),n.d(t,"purchaseByWallet",function(){return S}),n.d(t,"purchase",function(){return A});var r=n(6),o=(n(21),n(22),n(119),n(13),n(33),n(31)),c=(n(9),n(2)),l=n(1),d=n(0),f=n(8),h=n(25),m=Object(l.g)("ERROR.ORDER"),v=Object(l.p)("CART.PUBLICATION_TYPE"),_=Object(l.p)("PAYMENT_ORDER.PAYMENT_ID"),y=Object(l.p)("RATING_TYPE");function k(e){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rootState,e.prev=1,!n.user.isLogin){e.next=7;break}return e.next=5,this.$fetchr.create("cart/confirm",{},{});case 5:return r=e.sent,e.abrupt("return",Object(d.get)(r,"data.statusCode",400));case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",500);case 12:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}function w(e){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r,c,l,f,h,m,v,y,k,O,w,j,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,r=t.commit,c=t.rootGetters,l=t.rootState,e.prev=1,!l.user.isLogin){e.next=18;break}return f=[n("user/payment/fetch",null,{root:!0}),this.$fetchr.read("cart/confirm.payments",{})],e.next=6,Promise.all(f);case 6:h=e.sent,m=Object(o.a)(h,2),v=m[1],y=c["user/payment/sbpsCreditCard"],k=c["user/payment/walletCreditCard"],O=c["user/payment/defaultPayment"],w=Object(d.get)(v,"data.content")||[],j=Object.values(_.LINKED),x=w.filter(function(e){return j.includes(e.payment_id)}),r("fetchedPayment",{sbps:y,wallet:k,defaultPayment:O}),r("setLinkedPayments",x);case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(1),new Error("cart/confirm/actions.fetchPayment failed: ".concat(e.t0.message));case 23:case"end":return e.stop()}},e,this,[[1,20]])}))).apply(this,arguments)}function x(e,t){return C.apply(this,arguments)}function C(){return(C=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,m,_,k,O,w,j,x,C,body,T,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.dispatch,r=t.commit,t.state,o=t.getters,c=t.rootState,l=n.bookCd,m=n.goodsCd,_=n.publicationType,e.prev=2,!c.user.isLogin){e.next=25;break}if(r("entered",{bookCd:l,goodsCd:m,publicationType:_}),!(l&&m&&[v.PUBLICATION,v.SET_PUBLICATION].includes(_))){e.next=13;break}return e.next=8,this.$fetchr.read("cart/confirm.publication",{bookCd:l,goodsCd:m,publicationType:_});case 8:O=e.sent,(w=O.data).content&&(k=[w.content]),e.next=15;break;case 13:j=c.cart.cartItems,k=j.map(function(e){return Object(d.get)(e,"publication",{})});case 15:if(k&&(r("setPurchaseContents",k),x=k.some(function(e){return Object(d.get)(e,"title.rating_type",y.LOW)>=y.LOW}),r("setHasAdult",x)),C=o.contents,Array.isArray(C)&&C.length){e.next=19;break}return e.abrupt("return");case 19:return body={books:C.map(function(e){return{bookCd:f.a.methods.bookCd(e),goodsCd:f.a.methods.goodsCd(e),genreId:h.a.methods.titleUnificationMiddleGenreId(e.title)}})},e.next=22,this.$fetchr.create("order/init",{},body);case 22:T=e.sent,data=T.data,r("fetched",{response:data});case 25:e.next=30;break;case 27:throw e.prev=27,e.t0=e.catch(2),new Error("cart/confirm/actions.fetch failed: ".concat(e.t0.message));case 30:case"end":return e.stop()}},e,this,[[2,27]])}))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,o,c,l,d,f,h,m,v,_,body,y,data,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=t.state,c=t.getters,l=t.rootGetters,e.prev=1,d=c.totalAmount,f=c.contentsTotal,h=c.paymentMethod,m=o.query,v=l["user/order/isFirstChargePurchase"],_=D({state:o,getters:c}),body=Object(r.a)({},_,{totalAmount:d,contentsTotal:f,paymentType:h.type,urlParams:m,isFirstChargePurchased:v}),e.next=9,this.$fetchr.create("order/link",{},body);case 9:y=e.sent,data=y.data,n("fetchedLinkOrderParams",{response:data}),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(1),k=N(e.t0),new Error(k);case 18:case"end":return e.stop()}},e,this,[[1,14]])}))).apply(this,arguments)}function P(e,t){return R.apply(this,arguments)}function R(){return(R=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var o,c,d,f,h,m,v,_,body,y,data,k,O;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.commit,c=t.state,d=t.getters,f=t.rootGetters,h=n.sbpsInfo,e.prev=2,m=d.totalAmount,v=d.paymentMethod,_=D({state:c,getters:d}),body=Object(r.a)({},_,{amount:m}),"new"===v.type&&(body.token=h.token,body.tokenKey=h.tokenKey,body.registerCreditCardFlag=h.isRegistration),e.next=9,this.$fetchr.create("order/sbps",{},body);case 9:y=e.sent,data=y.data,B({commit:o,getters:d,rootGetters:f},data);try{(!f["user/payment/defaultPayment"]||"new"===v.type&&!0===h.isRegistration)&&(k={paymentAgentType:Object(l.p)("PAYMENT_AGENT_TYPE.SBPS")},this.$fetchr.create("user/payment",{},k))}catch(e){this.$logger.warn.bind({fileName:"store/modules/cart/confirm/actions.js",line:158})(e)}e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(2),O=N(e.t0),new Error(O);case 19:case"end":return e.stop()}},e,this,[[2,15]])}))).apply(this,arguments)}function S(e){return I.apply(this,arguments)}function I(){return(I=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,o,c,f,h,m,v,body,_,data,y,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,o=t.state,c=t.getters,f=t.rootGetters,e.prev=1,h=c.paymentMethod,m=c.totalAmount,v=D({state:o,getters:c}),body=Object(r.a)({},v,{amount:m,cardBrand:Object(d.get)(h,"creditCard.brand"),cardNumber:Object(d.get)(h,"creditCard.number"),cardExpireYear:Object(d.get)(h,"creditCard.expiration.year"),cardExpireMonth:Object(d.get)(h,"creditCard.expiration.month"),paymentKey:Object(d.get)(h,"paymentKey"),paymentNum:Object(d.get)(h,"paymentNum")}),e.next=7,this.$fetchr.create("order/wallet",{},body);case 7:_=e.sent,data=_.data,B({commit:n,getters:c,rootGetters:f},data);try{f["user/payment/defaultPayment"]||(y={paymentAgentType:Object(l.p)("PAYMENT_AGENT_TYPE.WALLET")},this.$fetchr.create("user/payment",{},y))}catch(e){this.$logger.warn.bind({fileName:"store/modules/cart/confirm/actions.js",line:195})(e)}e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(1),k=N(e.t0),new Error(k);case 17:case"end":return e.stop()}},e,this,[[1,13]])}))).apply(this,arguments)}function A(e){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,body,l,data,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,o=t.getters,c=t.rootGetters,e.prev=1,body=D({state:r,getters:o}),e.next=5,this.$fetchr.create("order/default",{},body);case 5:l=e.sent,data=l.data,B({commit:n,getters:o,rootGetters:c},data),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(1),d=N(e.t0),new Error(d);case 14:case"end":return e.stop()}},e,this,[[1,10]])}))).apply(this,arguments)}function D(e){var t=e.state,n=e.getters,r=t.usingTpoint,o=t.isUseTpoint,c=t.usingCoupon,l=n.orderDetails,f=n.couponDiscount,h=n.couponDiscountedTotalAmount,body={orderDetails:l,rewardTpoints:Object(d.get)(t,"response.reward_tpoints"),couponDiscountedTotalAmount:h};if(o&&"number"==typeof r&&(body.tpoint=r),c){body.couponMasterId=c.coupon_master_id,body.stockedCouponId=c.stocked_coupon_id,body.couponAmount=f;var m=Object(d.get)(c,"enable_book_list")||[];m.length>0&&(body.couponBookCds=m.filter(function(e){return e.book_code}).map(function(e){return e.book_code})),body.rewardTpoints=Object(d.get)(c,"reward_tpoints")}return body}function B(e,data){var t=e.commit,n=e.getters,r=e.rootGetters;t("cart/complete/purchased",{response:data,orderDetails:n.orderDetails,amount:n.contentsTotal,couponDiscountedTotalAmount:n.couponDiscountedTotalAmount,isFirstChargePurchased:r["user/order/isFirstChargePurchase"]},{root:!0})}function N(e){var t=Object(d.get)(e,"body.errorType");if(t){if("PaymentError"===t){var n=Object(d.get)(e,"body.errorDetail.payment_errors[0]");return n&&m.PaymentError[n.type]?m.PaymentError[n.type]:m.OrderInProgressError}return m[t]||m.OrderInProgressError}return m.OrderInProgressError}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return c}),n.d(t,"fetchedPayment",function(){return l}),n.d(t,"setLinkedPayments",function(){return d}),n.d(t,"fetched",function(){return f}),n.d(t,"fetchedLinkOrderParams",function(){return h}),n.d(t,"setUsingCoupon",function(){return m}),n.d(t,"setPaymentMethod",function(){return v}),n.d(t,"setIsUseTpoint",function(){return _}),n.d(t,"setUsingTpoint",function(){return y}),n.d(t,"setPurchaseContents",function(){return k}),n.d(t,"reset",function(){return O}),n.d(t,"setHasAdult",function(){return w});n(67),n(68),n(17);var r=n(0),o=n(1);function c(e,t){var n=t.bookCd,o=t.goodsCd,c=t.publicationType;if(n||o||c){var l={bookCd:n,goodsCd:o,publicationType:c};e.query=Object(r.pickBy)(l,function(e){return null!=e})}else e.query=null}function l(e,t){var n=t.sbps,c=t.wallet,l=t.defaultPayment;e.paymentMethods=function(e,t,n){var c=[];if(Object(r.get)(t,"is_usable")&&!Object(r.get)(t,"is_error",!0)&&Object(r.get)(t,"payment_key")&&Object(r.get)(t,"payment_num")&&Object(r.get)(t,"credit_card")){var l=Object(r.get)(n,"payment_agent_type")===Object(o.p)("PAYMENT_AGENT_TYPE.WALLET").toString();c.push({type:"wallet",paymentKey:Object(r.get)(t,"payment_key"),paymentNum:Object(r.get)(t,"payment_num"),creditCard:Object(r.get)(t,"credit_card"),isDefault:l})}if(!Object(r.get)(e,"is_error",!0)&&Object(r.get)(e,"credit_card")){var d=Object(r.get)(n,"payment_agent_type")===Object(o.p)("PAYMENT_AGENT_TYPE.SBPS").toString();c.push({type:"sbps",creditCard:Object(r.get)(e,"credit_card"),isDefault:d})}return c}(n,c,l),e.paymentMethod=e.paymentMethods.find(function(e){return e.isDefault})||(e.paymentMethods.length?e.paymentMethods[0]:null)}function d(e,t){Array.isArray(t)&&t.length>0&&(e.linkedPayments=t)}function f(e,t){var n=t.response;e.response=n}function h(e,t){var n=t.response;e.linkOrderParamsResponse=n}function m(e,t){e.usingCoupon=t}function v(e,t){e.paymentMethod=t}function _(e,data){e.isUseTpoint=data}function y(e,data){e.usingTpoint=data}function k(e,t){e.purchaseContents=t}function O(e){e.paymentMethod=null,e.isUseTpoint=!1,e.usingTpoint=0,e.usingCoupon=null,e.purchaseContents=null}function w(e,t){e.hasAdult=!!t}},function(e,t,n){"use strict";n.r(t),n.d(t,"paymentMethods",function(){return h}),n.d(t,"paymentMethod",function(){return m}),n.d(t,"contents",function(){return v}),n.d(t,"linkedPaymentsMethods",function(){return _}),n.d(t,"contentsCount",function(){return y}),n.d(t,"contentsTotal",function(){return k}),n.d(t,"coupons",function(){return O}),n.d(t,"couponDiscount",function(){return w}),n.d(t,"totalAmount",function(){return j}),n.d(t,"couponDiscountedTotalAmount",function(){return x}),n.d(t,"totalAmountTax",function(){return C}),n.d(t,"orderDetails",function(){return T}),n.d(t,"rewardTpointsNormal",function(){return E}),n.d(t,"rewardTpointsSpecial",function(){return P}),n.d(t,"rewardTpointsNormalTotal",function(){return R}),n.d(t,"rewardTpointsSpecialTotal",function(){return S}),n.d(t,"rewardTpointsTotal",function(){return I}),n.d(t,"linkOrderUrl",function(){return A}),n.d(t,"linkOrderParams",function(){return M});var r=n(6),o=(n(46),n(11)),c=(n(17),n(0)),l=n(8),d=n(25),f=n(1);function h(e){return Object(c.get)(e,"paymentMethods",[])}function m(e){return Object(c.get)(e,"paymentMethod",{})}function v(e){return Object(c.get)(e,"purchaseContents",[])||[]}function _(e){var t=[],n=e.linkedPayments,r=Object(f.p)("PAYMENT_ORDER.PAYMENT_ID.LINKED");if(n.length<=0)return t;var o=function(o){var c=n.find(function(e){return e.payment_id===r[o]});return c?"1"!==c.payment_status?"continue":e.hasAdult&&"0"===c.is_adult_buyable?"continue":(c.type=o,void t.push(c)):"continue"};for(var l in r)o(l);return Object(c.sortBy)(t,function(e){return parseInt(e.sort_order_no)})}function y(e,t){return t.contents?t.contents.length:0}function k(e,t){return t.contents?[0].concat(Object(o.a)(t.contents)).reduce(function(e,t){return e+l.a.methods.price(t)}):0}function O(e){return(Object(c.get)(e,"response.available_coupons")||[]).map(function(e){var t=Object(c.get)(e,"icon_text"),n={smallText:"",mediumText:"",largeText:""};if(t){var o=t.split("\n");n.smallText=o[2]||"",n.mediumText=o[0]||"",n.largeText=o[1]||""}return Object(r.a)({},e,{splitedIconText:n})})}function w(e){return Object(c.get)(e,"usingCoupon.actual_discount_amount")||0}function j(e,t){var n=e.isUseTpoint?e.usingTpoint:0,r=t.couponDiscount;return t.contentsTotal-n-r}function x(e,t){var n=t.couponDiscount;return t.contentsTotal-n}function C(e,t){var n=t.totalAmount,r=Object(f.f)("taxRate");return Math.floor(n*r/(1+r))}function T(e,t){return t.contents.map(function(e){var t=l.a.methods.price(e),n=l.a.methods.nonTaxedPrice(e),r=l.a.methods.good(e);return{goods_cd:l.a.methods.goodsCd(e),book_cd:l.a.methods.bookCd(e),title_id:l.a.methods.titleId(e),genre_id:d.a.methods.titleUnificationMiddleGenreId(e.title),tax_excluded_price:void 0!==n?n:0,tax_included_price:void 0!==t?t:0,set_type:l.a.methods.isSet(e)?Object(f.p)("ORDER_SET_TYPE.SET"):Object(f.p)("ORDER_SET_TYPE.PUBLICATION"),price_type:Object(c.get)(r,"price_type",1)}})}function E(e){var t=e.usingCoupon;return t?Object(c.get)(t,"reward_tpoints.normal")||[]:Object(c.get)(e,"response.reward_tpoints.normal")||[]}function P(e){var t=e.usingCoupon;return t?Object(c.get)(t,"reward_tpoints.special")||[]:Object(c.get)(e,"response.reward_tpoints.special")||[]}function R(e,t){return t.rewardTpointsNormal.reduce(function(e,t){return e+(t.tpoint||0)},0)}function S(e,t){return t.rewardTpointsSpecial.reduce(function(e,t){return e+(t.tpoint||0)},0)}function I(e,t){return t.rewardTpointsNormalTotal+t.rewardTpointsSpecialTotal}function A(e){return Object(c.get)(e,"linkOrderParamsResponse.action_form_url")}function M(e){return Object(c.get)(e,"linkOrderParamsResponse.form_data")}},function(e,t,n){"use strict";n.r(t);var r=n(272),o=n(273),c=n(274),l=n(275);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{response:null,purchasedResponse:null,orderType:null,orderDetails:null,amount:null,couponDiscountedTotalAmount:null,isFirstChargePurchased:!1}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state,r=t.commit,o=t.rootState,c=t.getters,l=n.jwt,e.prev=2,o.user.isLogin){e.next=5;break}return e.abrupt("return");case 5:return d=c.orderId,e.next=8,this.$fetchr.read("cart/complete",{orderId:d,jwt:l});case 8:f=e.sent,data=f.data,r("fetched",data),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),e.t0;case 16:case"end":return e.stop()}},e,this,[[2,13]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){e.response=t,t.decodeJwt&&(e.amount=t.decodeJwt.contentsTotal,e.isFirstChargePurchased=!!t.decodeJwt.isFirstChargePurchased,e.couponDiscountedTotalAmount=t.decodeJwt.couponDiscountedTotalAmount)}function o(e,t){var n=t.response,r=t.orderDetails,o=t.amount,c=t.couponDiscountedTotalAmount,l=t.isFirstChargePurchased;e.purchasedResponse=n,e.orderDetails=r,e.amount=o,e.couponDiscountedTotalAmount=c,e.isFirstChargePurchased=!!l}n.r(t),n.d(t,"fetched",function(){return r}),n.d(t,"purchased",function(){return o})},function(e,t,n){"use strict";n.r(t),n.d(t,"error",function(){return d}),n.d(t,"orderId",function(){return f}),n.d(t,"purchasedItems",function(){return h}),n.d(t,"campaigns",function(){return m}),n.d(t,"sameAuthorTitles",function(){return v}),n.d(t,"sameMagazineTitles",function(){return _}),n.d(t,"sameGenreTitles",function(){return y}),n.d(t,"dealerId",function(){return k}),n.d(t,"purchasedFirstChaegeItems",function(){return O}),n.d(t,"formalOrderDetails",function(){return w});var r=n(0),o=n(8),c=n(25),l=n(1);function d(e){return function(t){return Object(r.get)(e,"response.".concat(t,".error"))}}function f(e){return Object(r.get)(e,"purchasedResponse.order_id","")||Object(r.get)(e,"response.decodeJwt.orderId","")}function h(e){return Object(r.get)(e,"response.purchasedItems.publications","")}function m(e){return Object(r.get)(e,"response.campaigns.data")||[]}function v(e){return Object(r.get)(e,"response.sameAuthorTitles.data.titles")||[]}function _(e){return Object(r.get)(e,"response.sameMagazineTitles.data.titles")||[]}function y(e){return Object(r.get)(e,"response.sameGenreTitles.data.titles")||[]}function k(e){return Object(r.get)(e,"response.dealerId")||null}function O(e){return!!Object(r.get)(e,"isFirstChargePurchased",!1)&&Object(r.get)(e,"couponDiscountedTotalAmount",0)>0}function w(e,t){var n=t.purchasedItems,d=e.orderDetails;return d||(Array.isArray(n)?n.map(function(e){var t=o.a.methods.price(e),n=o.a.methods.nonTaxedPrice(e),d=o.a.methods.good(e);return{goods_cd:o.a.methods.goodsCd(e),book_cd:o.a.methods.bookCd(e),title_id:o.a.methods.titleId(e),genre_id:c.a.methods.titleUnificationMiddleGenreId(e.title),tax_excluded_price:void 0!==n?n:0,tax_included_price:void 0!==t?t:0,set_type:o.a.methods.isSet(e)?Object(l.p)("ORDER_SET_TYPE.SET"):Object(l.p)("ORDER_SET_TYPE.PUBLICATION"),price_type:Object(r.get)(d,"price_type",1)}}):null)}},function(e,t,n){"use strict";n.r(t);var r=n(277),o=n(278),c=n(279),l=n(280),d=n(281),f=n(286),h=n(291),m=n(296),v=n(301),_=n(306),y=n(311);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l,modules:{coupon:d.default,newbookNotification:f.default,order:h.default,payment:m.default,bookshelf:v.default,autoPurchase:_.default,entryCampaign:y.default}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return{displayName:"",userId:"",iconUrl:"",tpoint:0,limitedTpoint:0,limitedTpointDate:"",sex:"",isPremium:!1,isSmartLogin:!1,isMobile:!1,testUserType:Object(r.p)("TEST_USER_TYPE.PUBLIC"),isFirstLogin:!1,ratingType:null,memberId:"",isLogin:!1,hash:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return d});n(97),n(9);var r=n(2),o=n(0),c=n(642),l=n.n(c);function d(e){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,c,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,t.state,r=t.rootState,e.prev=1,e.next=4,this.$fetchr.read("user/member").params({version:r.version}).clientConfig({post_for_read:!0}).end();case 4:if(c=e.sent,data=c.data,205!==Object(o.get)(data,"meta.statusCode")){e.next=8;break}throw new Error("205 Reset Content");case 8:if(data.isLogin){e.next=11;break}return n("reset"),e.abrupt("return");case 11:data.displayName||(data.displayName=data.userId),data.iconUrl&&data.iconUrl.match(/^http/)||(data.iconUrl=l.a),n("fetched",data),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),new Error("user/member/actions.fetch error: ".concat(e.t0.message));case 19:case"end":return e.stop()}},e,this,[[1,16]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetched",function(){return o}),n.d(t,"reset",function(){return c}),n.d(t,"setIsMobile",function(){return l}),n.d(t,"logined",function(){return d});n(97),n(85);var r=n(1);function o(e,t){Object.assign(e,t),e.testUserType=Object(r.p)("TEST_USER_TYPE.PUBLIC"),e.userId.match(/^chkyj_ex_ebj/)?e.testUserType=Object(r.p)("TEST_USER_TYPE.DEVELOPER"):e.userId.match(/^chkyj/)&&(e.testUserType=Object(r.p)("TEST_USER_TYPE.MEMBER"))}function c(e){e.displayName="",e.userId="",e.iconUrl="",e.tpoint=0,e.limitedTpoint=0,e.limitedTpointDate="",e.sex="",e.isPremium=!1,e.isSmartLogin=!1,e.testUserType=Object(r.p)("TEST_USER_TYPE.PUBLIC"),e.isFirstLogin=!1,e.memberId="",e.isLogin=!1}function l(e,t){e.isMobile=t}function d(e,t){var n=t.response;e.isLogin=!!n.isLogin}},function(e,t,n){"use strict";function r(e){return"number"==typeof e.tpoint?e.tpoint.toLocaleString():""}function o(e){if(!e.limitedTpointDate)return"";var t=e.limitedTpointDate.slice(0,4),n=e.limitedTpointDate.slice(4,6),r=e.limitedTpointDate.slice(6,8);return"".concat(t,"/").concat(n,"/").concat(r)}function c(e){return e.isMobile?"sp":"pc"}n.r(t),n.d(t,"formattedTpoint",function(){return r}),n.d(t,"displayLimitedTpointDate",function(){return o}),n.d(t,"device",function(){return c})},function(e,t,n){"use strict";n.r(t);var r=n(282),o=n(283),c=n(284),l=n(285);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{response:null,firstPressLimitedCouponCloseTime:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,h,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.rootState,c=n.disableFilter,l=void 0!==c&&c,d=n.getInvisibleCoupon,f=void 0!==d&&d,e.prev=2,o.user.isLogin){e.next=6;break}return r("fetched",{response:null}),e.abrupt("return");case 6:return e.next=8,this.$fetchr.read("my/coupons",{disableFilter:l,getInvisibleCoupon:f,token:o.user.token});case 8:h=e.sent,data=h.data,r("fetched",{response:data}),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),new Error("user/coupon/actions.fetch failed: ".concat(e.t0.message));case 16:case"end":return e.stop()}},e,this,[[2,13]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){var n=t.response;e.response=n}function o(e,t){e.firstPressLimitedCouponCloseTime=t}n.r(t),n.d(t,"fetched",function(){return r}),n.d(t,"setFirstPressLimitedCouponCloseTime",function(){return o})},function(e,t,n){"use strict";n.r(t),n.d(t,"coupons",function(){return l}),n.d(t,"hasFirstPressLimitedCoupon",function(){return d}),n.d(t,"shouldFirstPressLimitedCouponModalBeShown",function(){return f}),n.d(t,"stockableCoupons",function(){return h}),n.d(t,"sortedByStockedDatetimeCoupons",function(){return m});n(46),n(13);var r=n(0),o=n(5),c=n(1);function l(e){var t=Object(r.cloneDeep)(Object(r.get)(e,"response.coupons"));return Array.isArray(t)?(t.forEach(function(e){e.splitedIconText=v(Object(r.get)(e,"icon_text"))}),t):[]}function d(e,t){return t.coupons.some(function(e){return Object(r.get)(e,"coupon_publish_type")===Object(c.p)("COUPON.COUPON_PUBLISH_TYPE.FIRST")})}function f(e,t){var n=Object(r.get)(e,"firstPressLimitedCouponCloseTime");return"number"==typeof n&&(Date.now()-n>864e5&&t.hasFirstPressLimitedCoupon)}function h(e){var t=Object(r.cloneDeep)(Object(r.get)(e,"response.stockableCoupons"));return Array.isArray(t)?(t.forEach(function(e){e.splitedIconText=v(Object(r.get)(e,"icon_text"))}),t):[]}function m(e,t){var n=t.coupons,r=function(e){return e.stocked_datetime&&Object(o.a)(e.stocked_datetime).isValid()?Object(o.a)(e.stocked_datetime).unix():Object(o.a)().unix()};return n.sort(function(a,b){return r(b)-r(a)})}function v(e){var t={smallText:"",mediumText:"",largeText:""};if(e){var n=e.split("\n");t.smallText=n[2]||"",t.mediumText=n[0]||"",t.largeText=n[1]||""}return t}},function(e,t,n){"use strict";n.r(t);var r=n(287),o=n(288),c=n(289),l=n(290);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{response:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.rootState,e.prev=1,r.user.isLogin){e.next=5;break}return n("fetched",{response:null}),e.abrupt("return");case 5:return e.next=7,this.$fetchr.read("my/newbook",{});case 7:o=e.sent,data=o.data,n("fetched",{response:data}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),new Error("user/newbookNotification/actions.fetch failed: ".concat(e.t0.message));case 15:case"end":return e.stop()}},e,this,[[1,12]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){var n=t.response;e.response=n}n.r(t),n.d(t,"fetched",function(){return r})},function(e,t,n){"use strict";n.r(t),n.d(t,"newbookNotification",function(){return o}),n.d(t,"hasNewbookNotification",function(){return c}),n.d(t,"newbookPublications",function(){return l});var r=n(0);function o(e){return Object(r.get)(e,"response.notifications")||void 0}function c(e){return Object(r.get)(e,"response.notifications.total_results",0)>0}function l(e){return Object(r.get)(e,"response.notifications.publications",[])||[]}},function(e,t,n){"use strict";n.r(t);var r=n(292),o=n(293),c=n(294),l=n(295);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{response:null,purchaseDatetime:null,ebjPurchaseHistory:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o}),n.d(t,"fetchFirstAndLastPurchaseDatetime",function(){return l}),n.d(t,"ebjPurchaseHistoryFetch",function(){return f});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,h,m,v,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.rootState,c=n.results,l=void 0===c?50:c,d=n.isDetails,f=void 0!==d&&d,h=n.start,m=void 0===h?0:h,e.prev=2,!o.user.isLogin){e.next=11;break}return e.next=6,this.$fetchr.read("my/order",{results:l,isDetails:f,start:m});case 6:v=e.sent,data=v.data,r("fetched",data),e.next=12;break;case 11:r("fetched",null);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(2),new Error("user/order/actions.fetch failed: ".concat(e.t0.message));case 17:case"end":return e.stop()}},e,this,[[2,14]])}))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.rootState,e.prev=1,!r.user.isLogin){e.next=10;break}return e.next=5,this.$fetchr.read("my/purchaseDatetime",{});case 5:o=e.sent,data=o.data,n("fetchedFirstAndLastPurchaseDatetime",data),e.next=11;break;case 10:n("fetchedFirstAndLastPurchaseDatetime",null);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(1);case 15:case"end":return e.stop()}},e,this,[[1,13]])}))).apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,h,m,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.rootState,c=n.results,l=void 0===c?50:c,d=n.isDetails,void 0!==d&&d,f=n.start,h=void 0===f?0:f,e.prev=2,!o.user.isLogin){e.next=11;break}return e.next=6,this.$fetchr.read("my/ebjPurchaseHistory",{results:l,start:h});case 6:m=e.sent,data=m.data,r("ebjPurchaseHistoryFetched",data),e.next=12;break;case 11:r("ebjPurchaseHistoryFetched",null);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(2),new Error("user/order/actions.ebj purchase history fetch was failed: ".concat(e.t0.message));case 17:case"end":return e.stop()}},e,this,[[2,14]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){e.response=t}function o(e,t){e.purchaseDatetime=t}function c(e,t){e.ebjPurchaseHistory=t}n.r(t),n.d(t,"fetched",function(){return r}),n.d(t,"fetchedFirstAndLastPurchaseDatetime",function(){return o}),n.d(t,"ebjPurchaseHistoryFetched",function(){return c})},function(e,t,n){"use strict";n.r(t),n.d(t,"orders",function(){return c}),n.d(t,"firstPurchaseDatetime",function(){return l}),n.d(t,"lastPurchaseDatetime",function(){return d}),n.d(t,"orderResultsTotal",function(){return f}),n.d(t,"ebjOrderResultsTotal",function(){return h}),n.d(t,"isOldestOrderMonthEqualThisMonth",function(){return m}),n.d(t,"isOldestOrderMonthEqualThisMonth2",function(){return v}),n.d(t,"isFirstChargePurchase",function(){return _}),n.d(t,"firstTimePurchaseYetOrCurrentMonthIs",function(){return y}),n.d(t,"ebookPurchaseHistory",function(){return k}),n.d(t,"ebookPurchaseHistoryTotal",function(){return O});var r=n(0),o=n(5);function c(e){return Object(r.get)(e,"response.orders",[])||[]}function l(e){return Object(r.get)(e,"purchaseDatetime.goods_purchase_datetimes[0].first_purchase_datetime")||null}function d(e){return Object(r.get)(e,"purchaseDatetime.goods_purchase_datetimes[0].last_purchase_datetime")||null}function f(e){return Object(r.get)(e,"response.total_results",0)}function h(e){return Object(r.get)(e,"ebjPurchaseHistory.total_results",0)}function m(e,t){var n=t.firstPurchaseDatetime;return!(!n||!Object(o.a)(n).isValid())&&Object(o.a)(n).isSame(Object(o.a)(),"month")}function v(e,t){var n=t.firstPurchaseDatetime;return!n||!(!n||!Object(o.a)(n).isValid())&&Object(o.a)(n).isSame(Object(o.a)(),"month")}function _(e,t){return!t.firstPurchaseDatetime}function y(e,t){return!!t.isFirstChargePurchase||t.isOldestOrderMonthEqualThisMonth}function k(e){return Object(r.get)(e,"ebjPurchaseHistory.orders")||[]}function O(e){return Object(r.get)(e,"ebjPurchaseHistory.total_results",0)}},function(e,t,n){"use strict";n.r(t);var r=n(297),o=n(298),c=n(299),l=n(300);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{response:null,sbps:{merchantId:"",serviceId:""},cached:!1}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,l,data,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,o=t.rootState,c=d.length>1&&void 0!==d[1]&&d[1],e.prev=2,!o.user.isLogin||!c&&r.cached){e.next=9;break}return e.next=6,this.$fetchr.read("user/payment",{});case 6:l=e.sent,data=l.data,n("fetched",{response:data});case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),new Error("user/payment/actions.fetch failed: ".concat(e.t0.message));case 14:case"end":return e.stop()}},e,this,[[2,11]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetched",function(){return o}),n.d(t,"updateSbps",function(){return c});var r=n(0);function o(e,t){var n=t.response;e.response=n,e.cached=!0}function c(e,t){var n=t.sbps;Object(r.has)(n,"merchantId")&&Object(r.has)(n,"serviceId")&&(e.sbps=Object(r.pick)(n,["merchantId","serviceId"]))}},function(e,t,n){"use strict";n.r(t),n.d(t,"defaultPayment",function(){return c}),n.d(t,"sbpsCreditCard",function(){return l}),n.d(t,"walletCreditCard",function(){return d}),n.d(t,"defaultPaymentMethod",function(){return f});n(67),n(68),n(17);var r=n(0),o=n(1);function c(e){return Object(r.get)(e,"response.memberPaymentAgents.data.member_payment_agents",[]).find(function(e){return"1"===Object(r.get)(e,"is_primary_payment")})}function l(e){return Object(r.get)(e,"response.creditCards.sbps")}function d(e){return Object(r.get)(e,"response.creditCards.yahoo_wallet")}function f(e,t){var n=t.sbpsCreditCard,c=t.walletCreditCard,l=t.defaultPayment;if(!l||!n&&!c)return null;switch(Object(r.get)(l,"payment_agent_type")){case Object(o.p)("PAYMENT_AGENT_TYPE.SBPS").toString():if(!Object(r.get)(n,"is_error",!0)&&Object(r.get)(n,"credit_card"))return{type:"sbps",creditCard:Object(r.get)(n,"credit_card")};break;case Object(o.p)("PAYMENT_AGENT_TYPE.WALLET").toString():if(Object(r.get)(c,"is_usable")&&!Object(r.get)(c,"is_error",!0)&&Object(r.get)(c,"payment_key")&&Object(r.get)(c,"payment_num")&&Object(r.get)(c,"credit_card"))return{type:"wallet",paymentKey:Object(r.get)(c,"payment_key"),paymentNum:Object(r.get)(c,"payment_num"),creditCard:Object(r.get)(c,"credit_card")}}return null}},function(e,t,n){"use strict";n.r(t);var r=n(302),o=n(303),c=n(304),l=n(305);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{possessionBooks:{data:{deleted:null,purchased:null,non_purchase:null},error:null}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return c}),n.d(t,"fetchBySet",function(){return d});n(82),n(83),n(13),n(9);var r=n(2),o=n(0);function c(e,t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.rootState,c=n.bookCds,l=n.isMerge,d=void 0!==l&&l,o.user.isLogin&&Array.isArray(c)&&c.length){e.next=5;break}return d||r("fetched",void 0),e.abrupt("return");case 5:return e.prev=5,e.next=8,this.$fetchr.read("my/bookshelf",{bookCds:c});case 8:f=e.sent,data=f.data,r(d?"merge":"fetched",data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),this.$logger.warn.bind({fileName:"store/modules/user/bookshelf/actions.js",line:19})(e.t0);case 16:case"end":return e.stop()}},e,this,[[5,13]])}))).apply(this,arguments)}function d(e,t){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,c,l,d,f,h,m,v,_,y,k,O,w,j,x,C,T,E,P,R,data,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,c=t.state,l=t.rootState,d=n.bookCdsList,f=n.isMerge,h=void 0!==f&&f,l.user.isLogin&&Array.isArray(d)&&d.length){e.next=5;break}return h||r("fetched",void 0),e.abrupt("return");case 5:e.prev=5,m=[],v=!0,_=!1,y=void 0,e.prev=10,k=d[Symbol.iterator]();case 12:if(v=(O=k.next()).done){e.next=33;break}if(w=O.value,j=Object(o.get)(w,"composedBookCds",[])||[],x=Array.isArray(c.possessionBooks.data.deleted)?j.filter(function(e){return-1!==c.possessionBooks.data.deleted.indexOf(e)}):[],C=Array.isArray(c.possessionBooks.data.purchased)?j.filter(function(e){return-1!==c.possessionBooks.data.purchased.indexOf(e)}):[],T=Array.isArray(c.possessionBooks.data.non_purchase)?j.filter(function(e){return-1!==c.possessionBooks.data.non_purchase.indexOf(e)}):[],E={possessionBooks:{data:{deleted:x,purchased:C,non_purchase:T},error:void 0}},0===(P=Object(o.difference)(j,x,C,T)).length){e.next=28;break}return e.next=23,this.$fetchr.read("my/bookshelf",{bookCds:P});case 23:R=e.sent,data=R.data,E.possessionBooks.data.deleted=Object(o.union)(x,Object(o.get)(data,"possessionBooks.data.deleted")||[]),E.possessionBooks.data.purchased=Object(o.union)(C,Object(o.get)(data,"possessionBooks.data.purchased")||[]),E.possessionBooks.data.non_purchase=Object(o.union)(T,Object(o.get)(data,"possessionBooks.data.non_purchase")||[]);case 28:S=Object(o.get)(E,"possessionBooks.data.non_purchase",[])||[],j.length>0&&!S.length&&m.push(w.bookCd);case 30:v=!0,e.next=12;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e.catch(10),_=!0,y=e.t0;case 39:e.prev=39,e.prev=40,v||null==k.return||k.return();case 42:if(e.prev=42,!_){e.next=45;break}throw y;case 45:return e.finish(42);case 46:return e.finish(39);case 47:r(h?"mergeBySet":"fetchedBySet",m),e.next=53;break;case 50:e.prev=50,e.t1=e.catch(5),this.$logger.warn.bind({fileName:"store/modules/user/bookshelf/actions.js",line:68})(e.t1);case 53:case"end":return e.stop()}},e,this,[[5,50],[10,35,39,47],[40,,42,46]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetched",function(){return o}),n.d(t,"merge",function(){return c}),n.d(t,"fetchedBySet",function(){return l}),n.d(t,"mergeBySet",function(){return d});var r=n(0);function o(e,t){e.possessionBooks.data.deleted=Object(r.get)(t,"possessionBooks.data.deleted",null),e.possessionBooks.data.purchased=Object(r.get)(t,"possessionBooks.data.purchased",null),e.possessionBooks.data.non_purchase=Object(r.get)(t,"possessionBooks.data.non_purchase",null),e.possessionBooks.error=Object(r.get)(t,"possessionBooks.error",null)}function c(e,t){var n=e.possessionBooks.data.deleted,o=Object(r.get)(t,"possessionBooks.data.deleted",[])||[];e.possessionBooks.data.deleted=Array.isArray(n)?Object(r.union)(n,o):o;var c=e.possessionBooks.data.purchased,l=Object(r.get)(t,"possessionBooks.data.purchased",[])||[];e.possessionBooks.data.purchased=Array.isArray(c)?Object(r.union)(c,l):l;var d=e.possessionBooks.data.non_purchase,f=Object(r.get)(t,"possessionBooks.data.non_purchase",[])||[];e.possessionBooks.data.non_purchase=Array.isArray(d)?Object(r.union)(d,f):f,e.possessionBooks.error=Object(r.get)(t,"possessionBooks.error",null)}function l(e,t){e.possessionBooks.data.purchased=t}function d(e,t){var n=e.possessionBooks.data.purchased;e.possessionBooks.data.purchased=Array.isArray(n)?Object(r.union)(n,t):t}},function(e,t,n){"use strict";n.r(t),n.d(t,"purchaseBookCds",function(){return o});var r=n(0);function o(e){var t=Object(r.get)(e,"possessionBooks.data.purchased",[])||[],n=Object(r.get)(e,"possessionBooks.data.deleted",[])||[];return t.concat(n)}},function(e,t,n){"use strict";n.r(t);var r=n(307),o=n(308),c=n(309),l=n(310);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{response:null,purchase:{recent:{cached:!1,total:0,items:[]},expected:{cached:!1,total:0,items:[]}}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"register",function(){return d}),n.d(t,"unregister",function(){return h}),n.d(t,"fetch",function(){return v}),n.d(t,"getUserConfig",function(){return y}),n.d(t,"activate",function(){return O}),n.d(t,"deactivate",function(){return j}),n.d(t,"getExpected",function(){return C}),n.d(t,"getRecentPurchased",function(){return E});n(13),n(9);var r=n(2),o=n(5),c=n(1),l=n(0);function d(e,t){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,!t.rootState.user.isLogin){e.next=14;break}return e.prev=2,e.next=5,this.$fetchr.create("user/autoPurchase",{titleId:n});case 5:if(!(o=e.sent).error){e.next=8;break}throw new Error(o.error.message);case 8:r("registered",n),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),new Error("user/autoPurchase/actions.register failed: ".concat(e.t0.message));case 14:case"end":return e.stop()}},e,this,[[2,11]])}))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.rootState,e.prev=1,!o.user.isLogin){e.next=6;break}return e.next=5,this.$fetchr.delete("user/autoPurchase",{titleId:n});case 5:r("unregistered",n);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error("user/autoPurchase/actions.unregister failed: ".concat(e.t0.message));case 11:case"end":return e.stop()}},e,this,[[1,8]])}))).apply(this,arguments)}function v(e,t){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,h,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.rootState,c=n.titleIds,l=n.start,d=n.results,f=n.sort,e.prev=2,!o.user.isLogin){e.next=9;break}return e.next=6,this.$fetchr.read("user/autoPurchase.registration",{titleIds:c,start:l,results:d,sort:f});case 6:h=e.sent,data=h.data,r("fetched",{response:data});case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),new Error("user/autoPurchase/actions.fetch failed: ".concat(e.t0.message));case 14:case"end":return e.stop()}},e,this,[[2,11]])}))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.rootState,e.prev=1,!r.user.isLogin){e.next=7;break}return e.next=5,this.$fetchr.read("my/autoPurchase",{});case 5:o=e.sent,n("mypage/auto-purchase/fetched",{response:Object(l.get)(o,"data")||null},{root:!0});case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("user/auto-purchase/actions.getUserConfig failed: ".concat(e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}function O(e){return w.apply(this,arguments)}function w(){return(w=Object(r.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.rootState.user.isLogin){e.next=10;break}return e.prev=2,e.next=5,this.$fetchr.update("user/paymentConfigure",{isAutoPurchase:!0});case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error("user/autoPurchase/actions.activate failed: ".concat(e.t0.message));case 10:case"end":return e.stop()}},e,this,[[2,7]])}))).apply(this,arguments)}function j(e){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.rootState.user.isLogin){e.next=10;break}return e.prev=2,e.next=5,this.$fetchr.update("user/paymentConfigure",{isAutoPurchase:!1});case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error("user/autoPurchase/actions.deactivate failed: ".concat(e.t0.message));case 10:case"end":return e.stop()}},e,this,[[2,7]])}))).apply(this,arguments)}function C(e,t){return T.apply(this,arguments)}function T(){return(T=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,data,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.rootState,o=t.state,c=t.commit,l=n.results,d=void 0===l?1:l,e.prev=2,!r.user.isLogin||o.purchase.expected.cached){e.next=10;break}return e.next=6,this.$fetchr.read("user/autoPurchase.expected",{results:d});case 6:f=e.sent,data=f.data,h=data.item,m=data.total,h&&m>0&&c("setPurchaseExpected",{items:[h],total:m});case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),new Error("user/autoPurchase/actions.getExpected failed: ".concat(e.t0.message));case 15:case"end":return e.stop()}},e,this,[[2,12]])}))).apply(this,arguments)}function E(e){return P.apply(this,arguments)}function P(){return(P=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,d,f,h,data,m,v,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,d=t.rootState,e.prev=1,!d.user.isLogin||r.purchase.recent.cached){e.next=14;break}return f={dateFrom:Object(o.a)().subtract(7,"days").format("YYYYMMDD"),orderType:Object(c.p)("PAYMENT_ORDER.ORDER_TYPE.AUTO_PURCHASE"),isDetails:!0},e.next=6,this.$fetchr.read("my/order",f);case 6:h=e.sent,data=h.data,m=Object(l.get)(data,"orders")||[],v=0,_=[],m.forEach(function(e){for(var t=(Object(l.get)(e,"items")||[]).length,i=0;i<t;i++)_.push(Object(l.get)(e,"items[".concat(i,"].publication")),null),v++}),_=Object(l.compact)(_),n("setPurchaseRecent",{items:_,total:v});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),new Error("user/order/actions.getRecentPurchased failed: ".concat(e.t0.message));case 19:case"end":return e.stop()}},e,this,[[1,16]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetched",function(){return c}),n.d(t,"registered",function(){return l}),n.d(t,"unregistered",function(){return d}),n.d(t,"setPurchaseExpected",function(){return f}),n.d(t,"setPurchaseRecent",function(){return h});var r=n(6),o=n(0);function c(e,t){var n=t.response;e.response=n}function l(e,t){var n=Object(r.a)({},Object(o.get)(e,"response.registeredTitles"));Array.isArray(n.member_auto_purchases)?(n.member_auto_purchases.push({title_id:t}),n.results++,n.total_results++):n={member_auto_purchases:[{title_id:t}],results:1,total_results:1},e.response.registeredTitles=n}function d(e,t){var n=Object(o.get)(e,"response.registeredTitles.member_auto_purchases");Array.isArray(n)&&(e.response.registeredTitles.member_auto_purchases=e.response.registeredTitles.member_auto_purchases.filter(function(e){return Object(o.get)(e,"title_id")!==t}),e.response.registeredTitles.results--,e.response.registeredTitles.total_results--)}function f(e,data){var t=data.total,n=data.items;Array.isArray(n)&&t>0&&(e.purchase.expected.total=t,e.purchase.expected.items=n),e.purchase.expected.cached=!0}function h(e,data){var t=data.total,n=data.items;Array.isArray(n)&&t>0&&(e.purchase.recent.total=t,e.purchase.recent.items=n),e.purchase.recent.cached=!0}},function(e,t,n){"use strict";n.r(t),n.d(t,"isTitleRegistered",function(){return o}),n.d(t,"total",function(){return c}),n.d(t,"registeredTitles",function(){return l}),n.d(t,"purchasedPublications",function(){return d});var r=n(0);function o(e){return function(t){var n=Object(r.get)(e,"response.registeredTitles.member_auto_purchases");return!!(t&&Array.isArray(n)&&n.length)&&n.some(function(e){var n=Object(r.get)(e,"title_id");return t===n})}}function c(e){return Object(r.get)(e,"response.registeredTitles.total_results",0)}function l(e){return Object(r.get)(e,"response.registeredTitles.member_auto_purchases")||[]}function d(e){return Object(r.get)(e,"purchase.recent.items")||[]}},function(e,t,n){"use strict";n.r(t);var r=n(312),o=n(313),c=n(314);t.default={namespaced:!0,state:r.default,actions:o,mutations:c}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{entryCampaignIds:[]}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,this.$fetchr.read("user/entryCampaign",{});case 3:r=e.sent,data=r.data,n("fetched",{response:data});case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){var n=t.response;e.entryCampaignIds=n.entryCampaignIds}n.r(t),n.d(t,"fetched",function(){return r})},function(e,t,n){"use strict";n.r(t);var r=n(316),o=n(317),c=n(318),l=n(319),d=n(320);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l,modules:{recent:d.default}}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{keyword:"",modalOpened:!1,isSearching:!1,searchSuggestResponse:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"searchSuggest",function(){return c}),n.d(t,"search",function(){return d});n(9);var r=n(2),o=n(0);function c(e,t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.getters,c=n.keyword,r("setKeyword",c),e.prev=3,e.next=6,this.$fetchr.read("search/suggest",{query:{keyword:c}});case 6:l=e.sent,data=l.data,o.isSearching&&c===o.keyword?r("searchSuggestFetched",{response:data}):r("clearSuggests"),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(3),new Error("search/actions.suggest failed: ".concat(e.t0.message));case 14:case"end":return e.stop()}},e,this,[[3,11]])}))).apply(this,arguments)}function d(e,t){var n=e.commit,r=e.rootGetters,c=t.keyword;if(0!==c.length){n("clearSuggests");var l={keyword:c};r["lists/useTitle"]&&(l.useTitle="1");var d=r["lists/selectedFilter"];Object(o.forIn)(d,function(e,t){Array.isArray(e)&&e.length>0&&(l[t]=e.join(","))}),this.$router.push({name:"search",query:l})}}},function(e,t,n){"use strict";function r(e,t){e.keyword=t}function o(e){e.modalOpened=!0,e.searchSuggestResponse=null}function c(e){e.modalOpened=!1,e.searchSuggestResponse=null}function l(e,t){var n=t.response;e.searchSuggestResponse=n}function d(e){e.searchSuggestResponse=null}function f(e){e.isSearching=!0}function h(e){e.isSearching=!1}n.r(t),n.d(t,"setKeyword",function(){return r}),n.d(t,"openModal",function(){return o}),n.d(t,"closeModal",function(){return c}),n.d(t,"searchSuggestFetched",function(){return l}),n.d(t,"clearSuggests",function(){return d}),n.d(t,"startSearching",function(){return f}),n.d(t,"stopSearching",function(){return h})},function(e,t,n){"use strict";n.r(t),n.d(t,"keyword",function(){return o}),n.d(t,"suggestKeywords",function(){return c}),n.d(t,"isSearching",function(){return l});var r=n(0);function o(e){return e.keyword}function c(e){var t=Object(r.get)(e,"searchSuggestResponse.suggest_word_list");return Array.isArray(t)?t.filter(function(e){return 1!==e.priority}).map(function(e){return e.suggest_keyword}):[]}function l(e){return e.isSearching}},function(e,t,n){"use strict";n.r(t);var r=n(321),o=n(322),c=n(323),l=n(324);t.default={namespaced:!0,state:r.default,mutations:o,actions:c,getters:l}},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return{response:null,page:1,start:0,genre:null,results:Object(r.f)("results"),genres:Object(r.f)("unificationTopGenres")}}},function(e,t,n){"use strict";function r(e,t){var n=t.page,r=t.genre;t.useTitle,t.sort;e.page=parseInt(n)?+n:1,e.start=(e.page-1)*e.results||0,e.genre=r}function o(e,t){var n=t.response;e.response=n}n.r(t),n.d(t,"entered",function(){return r}),n.d(t,"fetched",function(){return o})},function(e,t,n){"use strict";n.r(t),n.d(t,"enter",function(){return d}),n.d(t,"fetch",function(){return f}),n.d(t,"updateQuery",function(){return m});n(9);var r=n(44),o=n(6),c=n(2),l=n(0);function d(e,t){(0,e.commit)("entered",{page:Object(l.get)(t,"page",1),genre:Object(l.get)(t,"genre","")})}function f(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,l,d,f,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,o=t.rootState,e.prev=1,c=r.start,l=r.results,d=r.genre,f={start:c,results:l,genre:d},"production"!==o.env&&o.targetDatetime&&(f.targetDatetime=o.targetDatetime),e.next=7,this.$fetchr.read("search/recent",f);case 7:h=e.sent,m=h.data,n("fetched",{response:m}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),new Error("search/recent/actions.fetch failed: ".concat(e.t0.message));case 15:case"end":return e.stop()}},e,this,[[1,12]])}))).apply(this,arguments)}function m(e,t){var n=t.key,c=t.value,l=t.currentRoute,d=Object(o.a)({},l.query,Object(r.a)({},n,c));"page"!==n&&(d.page=void 0),this.$router.push({path:l.path,query:d})}},function(e,t,n){"use strict";n.r(t),n.d(t,"publications",function(){return o}),n.d(t,"totalResults",function(){return c}),n.d(t,"selectedGenre",function(){return l});n(19),n(17);var r=n(0);function o(e){return Object(r.get)(e,"response.publications")||[]}function c(e){return Object(r.get)(e,"response.total_results",0)}function l(e){var t=e.genres,n=e.genre;return t.find(function(e){return e.name===n})}},function(e,t,n){"use strict";n.r(t);var r=n(326),o=n(327),c=n(328),l=n(329);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{response:{bff:{data:void 0,error:void 0},banners:{data:void 0,error:void 0},ranking:{data:void 0,error:void 0},editableModule:{data:void 0,error:void 0}},timeStamps:{expectedAutoPurchase:null,autoPurchased:null,sequel:null},firstMonthPromotionModalCloseTime:null,matildaCampaignModalDisplayTime:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.rootState,c=n.approved,l={},"production"!==o.env&&(o.targetDatetime&&(l.targetDatetime=o.targetDatetime),c&&(l.approved=c)),e.prev=4,e.next=7,this.$fetchr.read("top/top",l);case 7:d=e.sent,f=d.data,r("fetched",{response:f}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(4),new Error("top/actions.fetch failed: ".concat(e.t0.message));case 15:case"end":return e.stop()}},e,this,[[4,12]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetched",function(){return o}),n.d(t,"setFirstMonthPromotionModalCloseTime",function(){return c}),n.d(t,"setTimeStamps",function(){return l}),n.d(t,"setMatildaCampaignModalDisplayTime",function(){return d});n(45);var r=n(76);n(13);function o(e,t){var n=t.response;e.response=n}function c(e,t){e.firstMonthPromotionModalCloseTime=t}function l(e,t){var n=(new Date).valueOf();if(Array.isArray(t))t.forEach(function(t){e.timeStamps[t]=n});else if("object"===Object(r.a)(t)){Object.keys(e.timeStamps).forEach(function(r){var o=t[r];e.timeStamps[r]=n-o>864e5?null:n})}}function d(e,t){e.matildaCampaignModalDisplayTime=t}},function(e,t,n){"use strict";n.r(t),n.d(t,"error",function(){return c}),n.d(t,"heroes",function(){return l}),n.d(t,"allFreeModule",function(){return d}),n.d(t,"editableModules",function(){return f}),n.d(t,"newPublications",function(){return h}),n.d(t,"ranking",function(){return m}),n.d(t,"campaigns",function(){return v}),n.d(t,"isShownFirstMonthPromotionModal",function(){return _}),n.d(t,"politicsBanners",function(){return y});n(21),n(17);var r=n(0),o=n(1);function c(e){return function(t){return Object(r.get)(e,"response.".concat(t,".error"))}}function l(e){return Object(r.get)(e,"response.banners.data",[])}function d(e){var t=Object(o.f)("editableModule.top.framePosition.allFree"),n=(Object(r.get)(e,"response.editableModule.data.organization_frame")||[]).find(function(e){return e.frame_position===t}),c=Object(r.get)(n,"organization_module")||[];return Object(r.get)(c,"[0]",null)}function f(e){var t=Object(o.f)("editableModule.top.framePosition.editable"),n=(Object(r.get)(e,"response.editableModule.data.organization_frame")||[]).find(function(e){return e.frame_position===t});return Object(r.get)(n,"organization_module")||[]}function h(e){var t=["unisex","woman","man"];return function(n){t.includes(n)||(n=t[0]),n="unisex";var c=Object(o.f)("editableModule.top.framePosition.newPublication.".concat(n)),l=(Object(r.get)(e,"response.editableModule.data.organization_frame")||[]).find(function(e){return e.frame_position===c});return Object(r.get)(l,"organization_module[0].organization_module_book")||[]}}function m(e){return function(t){var n=Object(r.get)(e,"response.ranking.data",{unisex:[],men:[],women:[]});switch(t){case Object(o.p)("USER_GENDER_TYPE.MAN"):return n.men;case Object(o.p)("USER_GENDER_TYPE.WOMAN"):return n.women;default:return n.unisex}}}function v(e){var t=Object(r.get)(e,"response.campaigns.data");return Array.isArray(t)?t:[]}function _(e,t,n){var o=Object(r.get)(e,"firstMonthPromotionModalCloseTime");return!n.campaign.entry.isEntryFirstMonthCampaign&&!o}function y(e){return Object(r.get)(e,"response.politicsBanners.data")||[]}},function(e,t,n){"use strict";n.r(t);var r=n(331),o=n(332),c=n(333),l=n(334);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);n(19);var r=n(11),o=n(1);t.default=function(){return{response:null,type:"charge",term:"recent",genre:"",page:1,results:Object(o.f)("results"),types:Object(o.f)("ranking.types"),terms:Object(o.f)("ranking.terms"),genres:[{value:"",label:"すべてのジャンル"}].concat(Object(r.a)(Object(o.f)("unificationTopGenres").map(function(e){return{value:e.name,label:e.label}})))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return d});n(19),n(17),n(9);var r=n(2),o=n(0),c=n(1),l=Object(c.f)("unificationTopGenres");function d(e,t){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,c,d,f,h,m,v,_,y,k,O,w,j,data,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,c=t.state,d=t.getters,f=t.dispatch,h=n.query,e.prev=2,r("entered",{query:h}),m=c.type,v=c.term,_=c.genre,y=c.results,k=d.start,O={type:m,term:v,start:k,results:y},_&&(w=l.find(function(e){return e.name===_}),O.genreIds=Object(o.get)(w,"value")||""),e.next=10,this.$fetchr.read("ranking/ranking",{query:O});case 10:return j=e.sent,data=j.data,r("fetched",{response:data}),x=data.ranking.publications.map(function(e){return e.book.cd}),e.next=16,f("user/bookshelf/fetch",{bookCds:x},{root:!0});case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(2),new Error("ranking/actions.fetch failed: ".concat(e.t0.message));case 21:case"end":return e.stop()}},e,this,[[2,18]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return c}),n.d(t,"fetched",function(){return l});var r=n(0),o=n(1);function c(e,t){var n=t.query;e.type=Object(r.get)(n,"type",Object(o.f)("ranking.types")[0].value),e.term=Object(r.get)(n,"term",Object(o.f)("ranking.terms")[0].value),e.genre=Object(r.get)(n,"genre",""),e.page=Object(r.get)(n,"page",1)}function l(e,t){var n=t.response;e.response=n}},function(e,t,n){"use strict";n.r(t),n.d(t,"start",function(){return l}),n.d(t,"total",function(){return d}),n.d(t,"pages",function(){return f}),n.d(t,"aggregationStartDate",function(){return h}),n.d(t,"aggregationEndDate",function(){return m}),n.d(t,"publications",function(){return v});var r=n(0),o=n(1),c=n(5);function l(e){return((e.page||1)-1)*(e.results||50)}function d(e){return Object(r.get)(e,"response.ranking.total",e.results)}function f(e,t){return{total:Math.min(Object(o.f)("maxDisplay.ranking"),t.total),start:t.start,results:e.results,href:function(t){var param="";switch(e.type){case"free":param="free/"}param+="".concat(e.term);var n=e.genre?"?genre=".concat(e.genre):"";return n+=t?"".concat(n?"&":"?","page=").concat(t):"","/ranking/".concat(param,"/").concat(n)}}}function h(e,t){var n=Object(r.get)(e,"term"),o=t.aggregationEndDate;switch(n){case"recent":return Object(c.a)(o).subtract(1,"days").format();case"weekly":return Object(c.a)(o).subtract(7,"days").format();case"monthly":return Object(c.a)(o).subtract(1,"months").format()}}function m(e){return Object(c.a)().subtract(1,"days").format()}function v(e){return Object(r.get)(e,"response.ranking.publications",[])}},function(e,t,n){"use strict";n.r(t);var r=n(336),o=n(337),c=n(338),l=n(339),d=n(340),f=n(345);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l,modules:{special:d.default,books:f.default}}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{response:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.state,t.getters,o=t.rootState,c=n.approved,l={},"production"!==o.env&&(o.targetDatetime&&(l.targetDatetime=o.targetDatetime),c&&(l.approved=c)),e.prev=4,e.next=7,this.$fetchr.read("free/top",l);case 7:d=e.sent,data=d.data,r("fetched",{response:data}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(4),new Error("free/actions.fetch failed: ".concat(e.t0.message));case 15:case"end":return e.stop()}},e,this,[[4,12]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){var n=t.response;e.response=n}n.r(t),n.d(t,"fetched",function(){return r})},function(e,t,n){"use strict";n.r(t),n.d(t,"error",function(){return c}),n.d(t,"ranking",function(){return l}),n.d(t,"heroes",function(){return d}),n.d(t,"newPublications",function(){return f}),n.d(t,"allFreeModule",function(){return h}),n.d(t,"editableModules",function(){return m}),n.d(t,"campaigns",function(){return v});n(17);var r=n(0),o=n(1);function c(e){return function(t){return Object(r.get)(e,"response.".concat(t,".error"))}}function l(e){return function(t){var n=Object(r.get)(e,"response.ranking.data",{unisex:[],men:[],women:[]});switch(t){case Object(o.p)("USER_GENDER_TYPE.MAN"):return n.men;case Object(o.p)("USER_GENDER_TYPE.WOMAN"):return n.women;default:return n.unisex}}}function d(e){var t=Object(r.get)(e,"response.heroes.data");return Array.isArray(t)?t:[]}function f(e){var t=Object(o.f)("editableModule.free.framePosition.newPublication.unisex"),n=(Object(r.get)(e,"response.editableModule.data.organization_frame")||[]).find(function(e){return e.frame_position===t});return Object(r.get)(n,"organization_module[0].organization_module_book")||[]}function h(e){var t=Object(o.f)("editableModule.free.framePosition.allFree"),n=(Object(r.get)(e,"response.editableModule.data.organization_frame")||[]).find(function(e){return e.frame_position===t}),c=Object(r.get)(n,"organization_module")||[];return Object(r.get)(c,"[0]",null)}function m(e){var t=Object(o.f)("editableModule.free.framePosition.editable"),n=(Object(r.get)(e,"response.editableModule.data.organization_frame")||[]).find(function(e){return e.frame_position===t});return Object(r.get)(n,"organization_module")||[]}function v(e){var t=Object(r.get)(e,"response.campaigns.data");return Array.isArray(t)?t:[]}},function(e,t,n){"use strict";n.r(t);var r=n(341),o=n(342),c=n(343),l=n(344);t.default={namespaced:!0,actions:r,getters:o,mutations:c,state:l.default}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return l}),n.d(t,"updateQuery",function(){return f});n(9);var r=n(44),o=n(6),c=n(2);function l(e,t){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,h,m,v,_,y,k,O,w,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.state,c=t.rootState,l=n.page,d=n.genre,f=void 0===d?null:d,h=n.sort,m=void 0===h?null:h,v=n.results,_=void 0===v?50:v,y=n.approved,O={start:k=(l-1)*_,results:o.results,sort:m,genre:f},"production"!==c.env&&(c.targetDatetime&&(O.targetDatetime=c.targetDatetime),y&&(O.approved=!0)),e.prev=5,e.next=8,this.$fetchr.read("campaign/free",O);case 8:w=e.sent,data=w.data,r("fetched",{response:data,page:l,start:k,results:_,sort:m,genre:f}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),r("fetched",{error:e.t0});case 16:case"end":return e.stop()}},e,this,[[5,13]])}))).apply(this,arguments)}function f(e,t){var n=t.key,c=t.value,l=t.currentRoute,d=Object(o.a)({},l.query,Object(r.a)({},n,c));"page"!==n&&(d.page=void 0),this.$router.push({path:l.path,query:d})}},function(e,t,n){"use strict";n.r(t),n.d(t,"error",function(){return o}),n.d(t,"response",function(){return c}),n.d(t,"heroes",function(){return l}),n.d(t,"campaigns",function(){return d}),n.d(t,"totalResults",function(){return f}),n.d(t,"formattedTotal",function(){return h}),n.d(t,"selectedGenre",function(){return m}),n.d(t,"defaultSort",function(){return v}),n.d(t,"selectedSort",function(){return _});n(19),n(17);var r=n(0);function o(e){return function(t){return Object(r.get)(e,"response.".concat(t,".error"))}}function c(e){return Object(r.get)(e,"response",{})}function l(e,t){var n=Object(r.get)(t.response,"heroes.data");return Array.isArray(n)?n:[]}function d(e){var t=Object(r.get)(e,"response.campaigns.campaigns");return Array.isArray(t)?t:[]}function f(e){return Object(r.get)(e,"response.campaigns.total_results",0)}function h(e,t){return"number"==typeof t.totalResults?t.totalResults.toLocaleString("ja"):"0"}function m(e){var t=e.genres,n=e.genre;return t.find(function(e){return e.name===n})}function v(e){return e.sorts.find(function(e){return e.default})}function _(e){var t=e.sorts,n=e.sort;return t.find(function(e){return e.name===n})}},function(e,t,n){"use strict";function r(e,t){e.response=t.response||null,e.error=t.error||null,e.page=t.page,e.start=t.start,e.results=t.results,e.sort=t.sort,e.genre=t.genre}n.r(t),n.d(t,"fetched",function(){return r})},function(e,t,n){"use strict";n.r(t);var r=n(1),o=Object(r.f)("unificationTopGenres"),c=Object(r.f)("free.special.sorts"),l=Object(r.f)("results");t.default=function(){return{response:null,error:null,page:null,start:null,sort:null,genre:null,results:l,genres:o,sorts:c}}},function(e,t,n){"use strict";n.r(t);var r=n(346),o=n(347),c=n(348),l=n(349);t.default={namespaced:!0,state:r.default,mutations:o,actions:c,getters:l}},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return{response:null,page:1,start:0,genre:null,sort:Object(r.f)("freeBooks.sorts")[0],useTitle:!1,results:Object(r.f)("results"),genres:Object(r.f)("unificationTopGenres"),sorts:Object(r.f)("freeBooks.sorts")}}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return r}),n.d(t,"setListsitems",function(){return o});n(19);function r(e,t){var n=t.page,r=t.genre,o=t.useTitle,c=t.sort;e.page=/^\d+$/.test(n)?+n:1,e.start=(e.page-1)*e.results,e.genre=r,e.useTitle=1===parseInt(o),e.sort=c||e.sorts[0].name}function o(e,data){e.response=data}},function(e,t,n){"use strict";n.r(t),n.d(t,"enter",function(){return h}),n.d(t,"fetch",function(){return m}),n.d(t,"updateQuery",function(){return _});n(19),n(17),n(9);var r=n(44),o=n(6),c=n(2),l=n(0),d=n(1),f=Object(d.f)("unificationTopGenres");function h(e,t){(0,e.commit)("entered",{page:Object(l.get)(t,"page",1),genre:Object(l.get)(t,"genre",""),useTitle:Object(l.get)(t,"useTitle"),sort:Object(l.get)(t,"sort")})}function m(e){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,d,h,m,v,_,y,k,O,w,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,o=t.rootState,t.getters,t.dispatch,e.prev=1,c=r.start,d=r.results,h=r.sort,m=r.sorts,v=r.genre,_=r.useTitle,y={},k={start:c,results:d,sort:m.find(function(e){return e.name===h}).value,isFilterCondition:!0,free:!0},v&&(O=f.find(function(e){return e.name===v}),k.unificationTopGenres=Object(l.get)(O,"value")||""),"production"!==o.env&&o.targetDatetime&&(k.targetDatetime=o.targetDatetime),e.next=9,this.$fetchr.read("search/view",{params:y,options:k,useTitle:_});case 9:w=e.sent,data=w.data,n("setListsitems",data),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),new Error("free/books/actions.fetch failed: ".concat(e.t0.message));case 17:case"end":return e.stop()}},e,this,[[1,14]])}))).apply(this,arguments)}function _(e,t){var n=t.key,c=t.value,l=t.currentRoute,d=Object(o.a)({},l.query,Object(r.a)({},n,c));"page"!==n&&(d.page=void 0),this.$router.push({path:l.path,query:d})}},function(e,t,n){"use strict";n.r(t),n.d(t,"books",function(){return o}),n.d(t,"bookResults",function(){return c}),n.d(t,"totalResults",function(){return l}),n.d(t,"selectedGenre",function(){return d}),n.d(t,"defaultSort",function(){return f}),n.d(t,"selectedSort",function(){return h});n(19),n(17);var r=n(0);function o(e){return e.useTitle?Object(r.get)(e.response,"books.titles",null):Object(r.get)(e.response,"books.publications",null)}function c(e){return Object(r.get)(e.response,"books.results",0)}function l(e){return Object(r.get)(e.response,"books.total_results",0)}function d(e){var t=e.genres,n=e.genre;return t.find(function(e){return e.name===n})}function f(e){return e.sorts.find(function(e){return e.default})}function h(e){var t=e.sorts,n=e.sort;return t.find(function(e){return e.name===n})}},function(e,t,n){"use strict";n.r(t);var r=n(351),o=n(356);t.default={namespaced:!0,modules:{book:r.default,series:o.default}}},function(e,t,n){"use strict";n.r(t);var r=n(352),o=n(353),c=n(354),l=n(355);t.default={namespaced:!0,actions:r,getters:c,mutations:o,state:l.default}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return v}),n.d(t,"oneClickPurchase",function(){return y});var r=n(6),o=(n(9),n(2)),c=n(0),l=n(1),d=n(8),f=n(64),h=n(25),m=Object(l.g)("ERROR.ORDER");function v(e,t){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(regeneratorRuntime.mark(function e(t,n){var r,o,m,v,_,y,k,O,data,w,body,j,x,C,T,E,P;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,o=t.commit,t.rootGetters,m=t.rootState,v=n.publicationCd,_=n.type,y=n.approved,o("entered",{publicationCd:v,type:_}),k={publicationCd:v,type:_},"production"!==m.env&&(m.targetDatetime&&(k.targetDatetime=m.targetDatetime),y&&(k.approved=y)),e.prev=5,e.next=8,this.$fetchr.read("viewerlast/book",k);case 8:if(O=e.sent,data=O.data,w=Object(c.get)(data,"mainPublication"),!m.user.isLogin||!w){e.next=23;break}return e.prev=12,body={books:[{bookCd:d.a.methods.bookCd(w),goodsCd:d.a.methods.goodsCd(w),genreId:h.a.methods.titleUnificationMiddleGenreId(w.title)}],orderType:Object(l.p)("ORDER_TYPE.ONE_CLICK")},e.next=16,this.$fetchr.create("order/init",{},body);case 16:j=e.sent,data.rewardTpoints=Object(c.get)(j,"data.reward_tpoints",null),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),this.$logger.warn.bind({fileName:"store/modules/viewerlast/book/actions.js",line:42})(e.t0);case 23:if(o("fetched",{response:data}),x=Object(c.get)(data,"readPublication"),!m.user.isLogin||!x){e.next=29;break}return C=Object(c.get)(x,"title.title_id"),e.next=29,r("user/autoPurchase/fetch",{results:1,titleIds:[C]},{root:!0});case 29:return T=Object(l.d)([w]),e.next=32,r("user/bookshelf/fetch",{bookCds:T},{root:!0});case 32:return E=Object(c.get)(data,"setPublications.data.set_publications")||[],P=E.map(function(e){return{bookCd:f.a.methods.setPublicationBookCd(e),composedBookCds:Object(c.get)(e,"composedBookCds",[])}}),e.next=36,r("user/bookshelf/fetchBySet",{bookCdsList:P,isMerge:!!w},{root:!0});case 36:e.next=41;break;case 38:throw e.prev=38,e.t1=e.catch(5),new Error("viewerlast/book/actions.fetch failed: ".concat(e.t1.message));case 41:case"end":return e.stop()}},e,this,[[5,38],[12,20]])}))).apply(this,arguments)}function y(e,t){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(regeneratorRuntime.mark(function e(t,n){var o,f,h,m,v,_,y,k,w,j,x,C,T,body,E,P;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.commit,f=t.state,h=t.getters,m=t.rootState,v=t.rootGetters,_=n.usingTpoint,m.user.isLogin){e.next=4;break}return e.abrupt("return",void 0);case 4:if(e.prev=4,y=h.orderDetails,k=h.mainPublication,w=Object(c.get)(f,"response.rewardTpoints"),j=v["user/payment/defaultPaymentMethod"],x={amount:d.a.methods.price(k),orderDetails:y,orderType:Object(l.p)("ORDER_TYPE.ONE_CLICK"),rewardTpoints:w},C=x.amount,_>0&&(x.tpoint=_,x.amount-=_),0!==x.amount){e.next=17;break}return e.next=14,this.$fetchr.create("order/default",{},x);case 14:T=e.sent,e.next=28;break;case 17:if("sbps"!==j.type){e.next=23;break}return e.next=20,this.$fetchr.create("order/sbps",{},x);case 20:T=e.sent,e.next=28;break;case 23:if("wallet"!==j.type){e.next=28;break}return body=Object(r.a)({},x,{cardBrand:Object(c.get)(j,"creditCard.brand"),cardNumber:Object(c.get)(j,"creditCard.number"),cardExpireYear:Object(c.get)(j,"creditCard.expiration.year"),cardExpireMonth:Object(c.get)(j,"creditCard.expiration.month"),paymentKey:Object(c.get)(j,"paymentKey"),paymentNum:Object(c.get)(j,"paymentNum")}),e.next=27,this.$fetchr.create("order/wallet",{},body);case 27:T=e.sent;case 28:if(!T){e.next=32;break}return E=v["user/order/isFirstChargePurchase"],o("cart/complete/purchased",{response:T.data,orderDetails:y,couponDiscountedTotalAmount:C,isFirstChargePurchased:E},{root:!0}),e.abrupt("return",T.data);case 32:return e.abrupt("return",void 0);case 35:throw e.prev=35,e.t0=e.catch(4),P=O(e.t0),new Error(P);case 39:case"end":return e.stop()}},e,this,[[4,35]])}))).apply(this,arguments)}function O(e){var t=Object(c.get)(e,"body.errorType");if(t){if("PaymentError"===t){var n=Object(c.get)(e,"body.errorDetail.payment_errors[0]");return n&&m.PaymentError[n.type]?m.PaymentError[n.type]:m.OrderInProgressError}return m[t]||m.OrderInProgressError}return m.OrderInProgressError}},function(e,t,n){"use strict";function r(e,t){var n=t.publicationCd,r=t.type;e.publicationCd=n||"",e.type=r||""}function o(e,t){var n=t.response;t.paymentData;e.response=n}function c(e,t){var n=t.response;e.purchasedResponse=n}n.r(t),n.d(t,"entered",function(){return r}),n.d(t,"fetched",function(){return o}),n.d(t,"oneClickPurchased",function(){return c})},function(e,t,n){"use strict";n.r(t),n.d(t,"error",function(){return d}),n.d(t,"mainPublication",function(){return f}),n.d(t,"readPublication",function(){return h}),n.d(t,"sameAuthorTitles",function(){return m}),n.d(t,"sameMagazineTitles",function(){return v}),n.d(t,"sameGenreTitles",function(){return _}),n.d(t,"orderDetails",function(){return y}),n.d(t,"rewardTpointsNormal",function(){return k}),n.d(t,"rewardTpointsSpecial",function(){return O}),n.d(t,"rewardTpointsNormalTotal",function(){return w}),n.d(t,"rewardTpointsSpecialTotal",function(){return j}),n.d(t,"campaigns",function(){return x}),n.d(t,"freePublications",function(){return C}),n.d(t,"setPublications",function(){return T}),n.d(t,"isValidAutoPurchase",function(){return E});var r=n(0),o=n(8),c=n(25),l=n(1);function d(e){return function(t){return Object(r.get)(e,"response.".concat(t,".error"))}}function f(e){return Object(r.get)(e,"response.mainPublication")}function h(e){return Object(r.get)(e,"response.readPublication",{})}function m(e){return Object(r.get)(e,"response.sameAuthorTitles.data.titles")||[]}function v(e){return Object(r.get)(e,"response.sameMagazineTitles.data.titles")||[]}function _(e){return Object(r.get)(e,"response.sameGenreTitles.data.titles")||[]}function y(e,t,n){var d=t.mainPublication,f=o.a.methods.price(d),h=o.a.methods.nonTaxedPrice(d),m=o.a.methods.good(d);return[{goods_cd:o.a.methods.goodsCd(d),book_cd:o.a.methods.bookCd(d),title_id:o.a.methods.titleId(d),genre_id:d?c.a.methods.titleUnificationMiddleGenreId(d.title):"",tax_excluded_price:void 0!==h?h:0,tax_included_price:void 0!==f?f:0,set_type:o.a.methods.isSet(d)?Object(l.p)("ORDER_SET_TYPE.SET"):Object(l.p)("ORDER_SET_TYPE.PUBLICATION"),price_type:Object(r.get)(m,"price_type",1)}]}function k(e,t,n){return n.user.isLogin&&Object(r.get)(e,"response.rewardTpoints.normal")||[]}function O(e,t,n){return n.user.isLogin&&Object(r.get)(e,"response.rewardTpoints.special")||[]}function w(e,t){return t.rewardTpointsNormal.reduce(function(e,t){return e+(t.tpoint||0)},0)}function j(e,t){return t.rewardTpointsSpecial.reduce(function(e,t){return e+(t.tpoint||0)},0)}function x(e){var t=Object(r.get)(e,"response.campaigns.data");return Array.isArray(t)?t:[]}function C(e,t){var n=Object(r.get)(e,"response.freePublications.data.publications")||[],o=t.mainPublication,c=Object(r.get)(o,"publication_cd","");return n.filter(function(e){return e.publication_cd!==c})}function T(e){return Object(r.get)(e,"response.setPublications.data.set_publications")||[]}function E(e){var t="purchased"===Object(r.get)(e,"type"),n=!!Object(r.get)(e,"response.autoPurchaseRegisterCheck.data.is_checked"),o=!!Object(r.get)(e,"response.readPublication.is_last_volume"),c=!!Object(r.get)(e,"response.readPublication.next_publication.publication_cd");return t&&n&&!o&&!c}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{publicationCd:"",type:"",response:{mainPublication:null,readPublication:null,sameAuthorTitles:{data:null,error:null},sameMagazineTitles:{data:null,error:null},sameGenreTitles:{data:null,error:null},rewardTpoints:null,autoPurchaseRegisterCheck:{data:null,error:null},autoPurchaseRegistered:{data:null,error:null}}}}},function(e,t,n){"use strict";n.r(t);var r=n(357),o=n(358),c=n(359),l=n(360);t.default={namespaced:!0,actions:r,getters:c,mutations:o,state:l.default}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.state,c=n.query,e.prev=2,r("entered",{query:c}),e.next=6,this.$fetchr.read("viewerlast/series",{storyCd:o.storyCd});case 6:l=e.sent,data=l.data,r("fetched",{response:data}),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),new Error("viewerlast/series/actions.fetch failed: ".concat(e.t0.message));case 14:case"end":return e.stop()}},e,this,[[2,11]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return o}),n.d(t,"fetched",function(){return c});var r=n(0);function o(e,t){var n=t.query;e.storyCd=Object(r.get)(n,"story_cd",""),e.purchased="true"===Object(r.get)(n,"purchased","false")}function c(e,t){var n=t.response;e.response=n}},function(e,t,n){"use strict";n.r(t),n.d(t,"story",function(){return o});var r=n(0);function o(e){return Object(r.get)(e,"response.story",{})}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{storyCd:"",purchased:!1,response:void 0}}},function(e,t,n){"use strict";n.r(t);var r=n(362),o=n(363),c=n(364),l=n(365);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return{response:null,genres:Object(r.f)("unificationTopGenres"),selected:[],page:1,results:Object(r.f)("results")}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return c});n(9);var r=n(2),o=n(0);function c(e,t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,c,l,d,f,h,m,data,v,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,c=t.state,l=t.getters,d=t.dispatch,f=n.query,e.prev=2,r("entered",{query:f}),h={genreIds:c.selected.join(","),start:l.start,results:c.results},e.next=7,this.$fetchr.read("schedule/schedule",h);case 7:if(m=e.sent,data=m.data,r("fetched",data),v=l.autoPurchaseInfo,!((_=Object(o.keys)(v)).length>0)){e.next=20;break}return e.prev=13,e.next=16,d("user/autoPurchase/fetch",{results:_.length,titleIds:_},{root:!0});case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(13);case 20:e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(2),new Error("schedule/actions.fetch failed: ".concat(e.t1.message));case 25:case"end":return e.stop()}},e,this,[[2,22],[13,18]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return o}),n.d(t,"fetched",function(){return c});n(46);var r=n(0);function o(e,t){var n=t.query,o=Object(r.get)(n,"genres");e.selected=o?o.split(","):[],e.page=Object(r.get)(n,"page",1)}function c(e,t){e.response=t}},function(e,t,n){"use strict";n.r(t),n.d(t,"error",function(){return c}),n.d(t,"scheduledPublications",function(){return l}),n.d(t,"start",function(){return d}),n.d(t,"total",function(){return f}),n.d(t,"pages",function(){return h}),n.d(t,"autoPurchaseInfo",function(){return m});var r=n(0),o=n(5);function c(e){return function(t){return Object(r.get)(e,"response.".concat(t,".error"))}}function l(e){var t=Object(r.cloneDeep)(Object(r.get)(e,"response.schedules.data.publication_sale_dates")||[]).filter(function(e){return e.publication_sale_date&&Object(o.a)(e.publication_sale_date).isValid()}),n=function(e){return Object(o.a)(e.publication_sale_date).unix()},c=function(e){return parseInt(Object(r.get)(e,"title.publisher.publisher_id","0"))},l=function(e){return Object(r.get)(e,"publication_cd","0")};return Object(r.isEmpty)(t)||0===t.length?[]:(t.sort(function(a,b){return n(a)-n(b)}),t.map(function(e){return e.publications.sort(function(a,b){return c(a)===c(b)?l(a)>l(b)?1:-1:c(a)>c(b)?1:-1}),e}))}function d(e){return((e.page||1)-1)*(e.results||50)}function f(e){return Object(r.get)(e,"response.schedules.data.total_results",e.results)}function h(e,t){return{total:t.total,start:t.start,results:e.results,href:function(t){var n=e.selected.join(","),r=n?"?genres=".concat(n):"";return r+=t?"".concat(r?"&":"?","page=").concat(t):"","/schedule/".concat(r)}}}function m(e){return Object(r.get)(e,"response.autoPurchaseInfo.data")||{}}},function(e,t,n){"use strict";n.r(t);var r=n(367),o=n(368),c=n(369),l=n(370);t.default={namespaced:!0,actions:r,getters:o,mutations:c,state:l.default}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return l}),n.d(t,"updateQuery",function(){return f});n(9);var r=n(44),o=n(6),c=n(2);function l(e,t){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,h,m,v,_,y,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.state,c=t.rootState,l=n.page,d=n.genre,f=void 0===d?null:d,h=n.sort,m=void 0===h?null:h,v=n.approved,_={sort:m,genre:f,start:(l-1)*o.results,results:o.results},"production"!==c.env&&(c.targetDatetime&&(_.targetDatetime=c.targetDatetime),v&&(_.approved=!0)),e.prev=4,e.next=7,this.$fetchr.read("campaign/sale",_);case 7:y=e.sent,data=y.data,r("fetched",{response:data,page:l,sort:m,genre:f,start:_.start}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(4),new Error("sale/actions.fetch failed: ".concat(e.t0.message));case 15:case"end":return e.stop()}},e,this,[[4,12]])}))).apply(this,arguments)}function f(e,t){var n=t.currentRoute,c=t.key,l=t.value,d=Object(o.a)({},n.query,Object(r.a)({},c,l));"page"!==c&&(d.page=void 0),this.$router.push({path:n.path,query:d})}},function(e,t,n){"use strict";n.r(t),n.d(t,"start",function(){return o}),n.d(t,"resultsCount",function(){return c}),n.d(t,"total",function(){return l}),n.d(t,"pages",function(){return d}),n.d(t,"campaignItems",function(){return f}),n.d(t,"heroes",function(){return h}),n.d(t,"defaultSort",function(){return m}),n.d(t,"selectedSort",function(){return v}),n.d(t,"selectedGenre",function(){return _});n(19),n(17);var r=n(0);function o(e){return((e.page||1)-1)*(e.results||50)}function c(e){return Object(r.get)(e,"response.campaigns.results",0)}function l(e){return Object(r.get)(e,"response.campaigns.total_results",0)}function d(e,t){return{total:t.total,start:t.start,results:e.results,href:function(t){var n="?genre=".concat(e.genre,"&sort=").concat(encodeURIComponent(e.sort),"&page=").concat(t);return"/sale/".concat(n)}}}function f(e){return Object(r.get)(e,"response.campaigns.campaigns",[])}function h(e){var t=Object(r.get)(e,"response.heroes.data");return Array.isArray(t)?t:[]}function m(e){return e.sorts.find(function(e){return e.default})}function v(e){var t=e.sort;return e.sorts.find(function(e){return e.name===t})}function _(e,t){var n=e.genre;return e.genres.find(function(e){return e.name===n})}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return o}),n.d(t,"fetched",function(){return c}),n.d(t,"updateOptions",function(){return l});var r=n(0);function o(e,t){var n=t.query;e.genre=Object(r.get)(n,"genre",e.genre),e.sort=decodeURIComponent(Object(r.get)(n,"sort",e.sort)),e.page=Object(r.get)(n,"page",1)}function c(e,t){var n=t.response,r=t.page,o=t.start,c=t.genre,l=t.sort;e.response=n,e.page=r,e.start=o,e.genre=c,e.sort=l}function l(e,t){var n=t.genre,r=t.sort;e.genre=n||e.genre,e.sort=r||e.sort}},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return{response:null,genre:"",sort:"-discount_level",page:1,results:Object(r.f)("results"),genres:Object(r.f)("unificationTopGenres"),sorts:Object(r.f)("sale.sorts")}}},function(e,t,n){"use strict";n.r(t);var r=n(372),o=n(373),c=n(496),l=n(376);t.default={namespaced:!0,state:r.default,actions:c,getters:o,mutations:l}},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return{Api:null,BM:null,sessionId:null,isReflow:null,initialized:!1,folders:{list:{},covers:{}},bucket:{data:{},books:[],titles:{},load:0,status:"prepare"},limit:300,current:{display:{type:"books"},filter:{status:0,genres:[]},folder:0,title:{id:null,name:""},book:null,modal:{show:!1,type:null},action:null,search:{show:!1,query:null},histories:[],total:0},bookId:null,loading:!1,keyword:"",config:{display:{mode:"list"},sort:"-bought",folder:0,total:0,resume:!0,token:null,syncId:null,dummy:[],download:[],version:"0.0.0.0"},modal:{show:!1,type:null},checked:[],readingType:0,currentDisplayOption:0,sortType:"bought",chunk:{list:50,grid:50,spine:300},displayModes:["list","grid","spine"],filters:{status:[{label:"未読",type:"no-read",value:4},{label:"読書中",type:"reading",value:2},{label:"終了",type:"finish",value:1}],genres:Object(r.f)("filter.genres")},sorts:{icon:"arrow-down",items:[{value:"-bought",label:"購入日順"},{value:"+kana",label:"作品名順"},{value:"-updated",label:"読書履歴順"}],def:{BOOK_SORT_NAME_ASC:0,BOOK_SORT_NAME_DSC:1,BOOK_SORT_AUTHOR_ASC:2,BOOK_SORT_AUTHOR_DSC:3,BOOK_SORT_DATE_ASC:4,BOOK_SORT_DATE_DSC:5,BOOK_SORT_READ_ASC:6,BOOK_SORT_READ_DSC:7}},folderAllBooks:{code:0,image:[],name:"購入した本",order:999,total:0},download:{total:0,done:-1}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"downloadRate",function(){return l}),n.d(t,"bookItems",function(){return d}),n.d(t,"folderItems",function(){return f}),n.d(t,"folderIcons",function(){return h}),n.d(t,"numberOfItems",function(){return m}),n.d(t,"pageName",function(){return v}),n.d(t,"authorName",function(){return _}),n.d(t,"selecting",function(){return y}),n.d(t,"displayType",function(){return k}),n.d(t,"displayMode",function(){return O}),n.d(t,"chunkCount",function(){return w}),n.d(t,"modalType",function(){return j}),n.d(t,"currentAction",function(){return x}),n.d(t,"wrappedFilter",function(){return C}),n.d(t,"currentFolder",function(){return T}),n.d(t,"currentSort",function(){return E}),n.d(t,"checkedCodes",function(){return P}),n.d(t,"bucketStatus",function(){return R}),n.d(t,"searchQuery",function(){return S}),n.d(t,"showSearch",function(){return I});n(533),n(45),n(19),n(99),n(13),n(119),n(21),n(22);var r=n(1),o=n(643),c=n.n(o);function l(e){var t=e.download.done,n=e.download.total;if(t<0)return null;var r=parseInt((t/n*100).toFixed());return r>0&&r<100?r:null}function d(e){var t=[],n=e.bucket.books,data=e.bucket.data;if(n.length<=0||c()(data))return null;var r=e.config.display.mode,o=e.current.display.type,l=e.bucket.titles,filter=e.current.filter;if(0!==filter.status&&(n=n.filter(function(e){return(filter.status&e.status)===e.status})),filter.genres.length>0&&(n=n.filter(function(e){return filter.genres.includes(e.genre)})),"title"===o&&(n=n.filter(function(t){return e.current.title.id===t.title})),"spine"===r||"title"===o)t=n.map(function(e){var t=data[e.code];return t.currentCount=1,t});else{var d=[];t=n.reduce(function(e,t){if(!d.includes(t.title)){d.push(t.title);var n=data[t.code];n.currentCount=0!==filter.status?function(title){var e=0;for(var t in l[title].status){var n=parseInt(t);(filter.status&n)===n&&(e+=l[title].status[t])}return e}(t.title):l[t.title].count,e=e.concat(n)}return e},t)}return t}function f(e){var t=Object.values(e.folders.list);return t.sort(function(a,b){return b.order-a.order}),t}function h(e){return e.folders.covers}function m(e,t){if("start"!==e.bucket.status)return 0;switch(e.current.display.type){case"folders":return t.folderItems?Object(r.q)(t.folderItems.length-1):0;case"title":return Object(r.q)(t.bookItems.length);case"books":default:return e.current.total>0?e.current.total:e.config.total}}function v(e){var t=e.current.display.type;if(e.current.search.show)return"title"===t?e.current.title.name:e.current.search.query?"「".concat(e.current.search.query,"」の検索結果"):"本棚検索";switch(t){case"folders":return"フォルダ";case"title":return e.current.title.name||"";case"books":default:return Object.keys(e.folders.list).length>0?e.folders.list[e.current.folder].name:""}}function _(e){if("title"!==e.current.display.type)return null;var t=e.current.title.id;if(t){var n=e.bucket.titles[t].authors||[];return n.length>0?n[0].name:null}return null}function y(e){return null!==e.current.action}function k(e){return e.current.display.type}function O(e){return e.config.display.mode}function w(e){return e.chunk[e.config.display.mode]}function j(e){return e.current.modal.type}function x(e){return e.current.action}function C(e){var t={label:"ステータス",value:"status",subitems:e.filters.status.map(function(e){return{label:e.label,value:e.value}})},n={label:"ジャンル",value:"genre",subitems:e.filters.genres.map(function(e){return{label:e.label,value:e.sub.join("/")}})},r=[];return r.push(t),r.push(n),r}function T(e){return e.current.folder}function E(e){return e.config.sort}function P(e,t){return"folders"===t.displayType?e.checked:"title"===t.displayType||"spine"===t.displayMode?e.checked:e.checked.reduce(function(t,n){return t=t.concat(e.bucket.titles[n].codes)},[])}function R(e){return e.bucket.status}function S(e){return e.current.search.query}function I(e){return e.current.search.show}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"setFolders",function(){return r}),n.d(t,"setLoading",function(){return o}),n.d(t,"setTotalOfBooks",function(){return c}),n.d(t,"setCurrentTotal",function(){return l}),n.d(t,"setBooks",function(){return d}),n.d(t,"reloadBucket",function(){return f}),n.d(t,"selectTitle",function(){return h}),n.d(t,"cancelSelectedTitle",function(){return m}),n.d(t,"setFolderIcons",function(){return v}),n.d(t,"updateDisplayType",function(){return _}),n.d(t,"setCurrentFolder",function(){return y}),n.d(t,"setBookSelectAction",function(){return k}),n.d(t,"setDeleteAction",function(){return O}),n.d(t,"cancelAction",function(){return w}),n.d(t,"showFolders",function(){return j}),n.d(t,"setBookSessionId",function(){return x}),n.d(t,"setIsReflow",function(){return C}),n.d(t,"updateDisplayMode",function(){return T}),n.d(t,"setFilter",function(){return E}),n.d(t,"showModal",function(){return P}),n.d(t,"closeModal",function(){return R}),n.d(t,"setCheckedItems",function(){return S}),n.d(t,"checkItem",function(){return I}),n.d(t,"clearCheckedItem",function(){return A}),n.d(t,"initConfig",function(){return M}),n.d(t,"resetConfig",function(){return D}),n.d(t,"openSearch",function(){return B}),n.d(t,"setSearchQuery",function(){return N}),n.d(t,"closeSearch",function(){return L}),n.d(t,"setSort",function(){return $}),n.d(t,"setSyncId",function(){return F}),n.d(t,"setConfigDummy",function(){return U}),n.d(t,"setConfigDownload",function(){return Y}),n.d(t,"setDownloadRate",function(){return G}),n.d(t,"setInitDataFinish",function(){return H}),n.d(t,"updateHistories",function(){return K}),n.d(t,"deleteHistory",function(){return W}),n.d(t,"clearHistories",function(){return z}),n.d(t,"setBucketStatus",function(){return V}),n.d(t,"setLimit",function(){return J}),n.d(t,"setCurrentBook",function(){return Q});n(99),n(67),n(68),n(13),n(45),n(21),n(22),n(19);function r(e,t){t.unshift(e.folderAllBooks),e.folders.list=t.reduce(function(e,t){return e[t.code]=t,e},[])}function o(e,t){var n=t.status;e.loading=n||!e.loading}function c(e,t){e.folderAllBooks.total=t,e.config.total=t}function l(e,t){e.current.total=t}function d(e,t){var n=t.titles,r=t.books,o=t.load,data=t.data;e.bucket.data=data,e.bucket.titles=n,e.bucket.books=r,e.bucket.load=o,e.bucket.status="start"}function f(e){e.bucket.books=[],e.bucket.load=0,e.bucket.status="reload"}function h(e,t){var n=t.id,r=t.name;e.current.title.id=n,e.current.title.name=r,e.current.display.type="title"}function m(e){e.current.title={id:null,name:""},e.current.display.type="books"}function v(e,t){e.folders.covers=t}function _(e,t){e.current.display.type=t}function y(e,t){Object.keys(e.folders.list).includes(t.toString())||(t=0),e.current.folder=t,e.current.title={id:null,name:""},e.checked=[],e.current.display.type="books",e.current.search.show&&(e.current.search={show:!1,query:null}),e.bucket.books=[],e.bucket.load=0,e.bucket.status="prepare"}function k(e){e.current.action="select"}function O(e){e.current.action="delete"}function w(e){e.current.action=null,e.checked=[]}function j(e){e.current.display.type="folders"}function x(e,t){e.sessionId=t}function C(e,t){e.isReflow=2===t||6===t}function T(e,t){e.displayModes.includes(t)&&(e.config.display.mode=t,"spine"===t&&(e.current.title.id=null,e.current.title.name="",e.current.display.type="books"))}function E(e,filter){e.current.filter.status=filter.status,e.current.filter.genres=filter.genres}function P(e,t){e.current.modal.show=!0,e.current.modal.type=t}function R(e){e.current.modal.show=!1,e.current.modal.type=null}function S(e,t){e.checked=t}function I(e,t){if(Array.isArray(t))e.checked=t;else{var i=e.checked.indexOf(t);-1===i?e.checked.push(t):e.checked.splice(i,1)}}function A(e){e.checked=[]}function M(e,data){e.config=data}function D(e,data){e.config.display={type:"books",mode:"list"},e.config.sort="-bought",e.config.total=0,e.config.folder=0,e.config.resume=!0,e.config.download=[],e.config.dummy=[],e.config.token=data.token,e.config.syncId=null}function B(e){e.current.search.show=!0}function N(e,t){t.length>0&&!/^\s+/.test(t)?e.current.search.query=t:e.current.search.query=null,e.current.folder=0,"title"===e.current.display.type&&(e.current.title={id:null,name:""},e.current.display.type="books"),e.checked=[],e.bucket.books=[],e.bucket.load=0,e.bucket.status="prepare"}function L(e){e.current.search.show=!1,e.current.search.query=null}function $(e,t){e.config.sort=t,e.bucket.books=[],e.bucket.load=0,e.bucket.status="prepare",e.checked=[]}function F(e,t){e.config.syncId=t}function U(e,t){e.config.dummy=t}function Y(e,t){e.config.download=t}function G(e,t){var n=t.done,r=t.total;e.download.done+=n,e.download.total=r}function H(e){e.initialized=!0,e.config.resume=!1,e.download.done=e.download.total}function K(e,t){var n=e.current.histories;n.unshift(t),e.current.histories=n}function W(e){var t=e.current.histories;t.shift(),e.current.histories=t}function z(e){e.current.histories=[]}function V(e,t){e.bucket.status=t}function J(e,t){e.limit=t}function Q(e,t){e.current.book=t}},function(e,t,n){"use strict";n.r(t);var r=n(378),o=n(383),c=n(388),l=n(393),d=n(398),f=n(403),h=n(405),m=n(410);t.default={namespaced:!0,modules:{"purchase-list":r.default,"review-list":o.default,"ebj-purchase-list":c.default,"arrival-alerts":l.default,"auto-purchase":d.default,coupon:f.default,restore:h.default,accounts:m.default}}},function(e,t,n){"use strict";n.r(t);var r=n(379),o=n(380),c=n(381),l=n(382);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{response:null,page:1,results:10}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.dispatch,c=t.getters,l=t.state,d=n.query,e.prev=2,r("entered",{query:d}),f=c.start,h=l.results,e.next=8,o("user/order/fetch",{isDetails:!0,start:f,results:h},{root:!0});case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),new Error("mypage/purchase-list/actions.fetch failed: ".concat(e.t0.message));case 13:case"end":return e.stop()}},e,null,[[2,10]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return o}),n.d(t,"fetched",function(){return c});var r=n(0);function o(e,t){var n=t.query;e.page=Object(r.get)(n,"page",1)}function c(e,t){var n=t.response;e.response=n}},function(e,t,n){"use strict";function r(e){return((e.page||1)-1)*(e.results||10)}function o(e,t,n,r){return{total:r["user/order/orderResultsTotal"],start:t.start,results:e.results,href:function(e){var t=e?"?page=".concat(e):"";return"/mypage/purchase-list".concat(t)}}}n.r(t),n.d(t,"start",function(){return r}),n.d(t,"pages",function(){return o})},function(e,t,n){"use strict";n.r(t);var r=n(384),o=n(385),c=n(386),l=n(387);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{response:null,page:1,results:20}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return c});n(9);var r=n(2),o=n(0);function c(e,t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,c,l,d,f,h,m,v,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.dispatch,c=t.getters,l=t.state,d=n.query,e.prev=2,f=Object(o.get)(d,"page",1),r("entered",{page:f}),h=l.results,m=c.start,e.next=9,this.$fetchr.read("my/review",{start:m,results:h});case 9:v=e.sent,data=v.data,r("fetched",{response:data}),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(2),new Error("mypage/reviewList/actions.fetch failed: ".concat(e.t0.message));case 17:case"end":return e.stop()}},e,this,[[2,14]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){var n=t.page;e.page=n}function o(e,t){var n=t.response;e.response=n}n.r(t),n.d(t,"entered",function(){return r}),n.d(t,"fetched",function(){return o})},function(e,t,n){"use strict";n.r(t),n.d(t,"start",function(){return o}),n.d(t,"reviewDataTotal",function(){return c}),n.d(t,"myReviewListPages",function(){return l}),n.d(t,"reviewData",function(){return d});var r=n(0);function o(e){return((e.page||1)-1)*(e.results||20)}function c(e){return Object(r.get)(e,"response.reviewData.data.total_results")||0}function l(e,t){return{total:t.reviewDataTotal,start:t.start,results:e.results,href:function(e){return"/mypage/review-list/?page=".concat(e)}}}function d(e){return Object(r.get)(e,"response.reviewData.data",{})}},function(e,t,n){"use strict";n.r(t);var r=n(389),o=n(390),c=n(391),l=n(392);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{response:null,page:1,results:10}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.dispatch,c=t.getters,l=t.state,d=n.query,e.prev=2,r("entered",{query:d}),f=c.start,h=l.results,e.next=8,o("user/order/ebjPurchaseHistoryFetch",{isDetails:!0,start:f,results:h},{root:!0});case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),new Error("mypage/ebj-purchase-list/actions.fetch failed: ".concat(e.t0.message));case 13:case"end":return e.stop()}},e,null,[[2,10]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return o}),n.d(t,"fetched",function(){return c});var r=n(0);function o(e,t){var n=t.query;e.page=Object(r.get)(n,"page",1)}function c(e,t){var n=t.response;e.response=n}},function(e,t,n){"use strict";function r(e){return((e.page||1)-1)*(e.results||10)}function o(e,t,n,r){return{total:r["user/order/ebjOrderResultsTotal"],start:t.start,results:e.results,href:function(e){var t=e?"?page=".concat(e):"";return"/mypage/ebj-purchase-list/".concat(t)}}}n.r(t),n.d(t,"start",function(){return r}),n.d(t,"pages",function(){return o})},function(e,t,n){"use strict";n.r(t);var r=n(394),o=n(395),c=n(396),l=n(397);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return{response:null,page:1,results:Object(r.f)("results"),tab:"notifications"}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return l}),n.d(t,"deleteRegisteredTitle",function(){return f});n(9);var r=n(2),o=n(0),c=n(1);function l(e,t){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,l,d,f,h,m,v,_,y,k,O,w,data,j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,l=t.dispatch,d=t.getters,f=t.state,h=t.rootState,m=n.query,v=n.isPage,_=void 0!==v&&v,e.prev=2,r("entered",{query:m}),y=f.results,k=f.tab,O=d.start,!h.user.isLogin){e.next=16;break}return e.next=9,this.$fetchr.read("my/newbook",{start:O,results:y,tab:k});case 9:if(w=e.sent,data=w.data,r("fetched",{response:data}),!_){e.next=16;break}return j=Object(c.d)(Object(o.get)(data,"notifications.publications",[])||[]),e.next=16,l("user/bookshelf/fetch",{bookCds:j},{root:!0});case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(2),new Error("mypage/arrival-alerts/actions.fetch failed: ".concat(e.t0.message));case 21:case"end":return e.stop()}},e,this,[[2,18]])}))).apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.rootState,e.prev=1,!o.user.isLogin){e.next=6;break}return e.next=5,this.$fetchr.delete("my/newbook",{titleId:n});case 5:r("deleted",{titleId:n});case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error("mypage/arrival-alerts/actions.deleteRegisteredTitle failed: ".concat(e.t0.message));case 11:case"end":return e.stop()}},e,this,[[1,8]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return o}),n.d(t,"fetched",function(){return c}),n.d(t,"deleted",function(){return l});var r=n(0);function o(e,t){var n=t.query;e.page=Object(r.get)(n,"page",1),e.tab=Object(r.get)(n,"tab","notifications")}function c(e,t){var n=t.response;e.response=n}function l(e,t){var n=t.titleId;Object(r.has)(e.response,"notifications.publications")&&(e.response.notifications.publications=e.response.notifications.publications.filter(function(e){return e.title_id!==n}),e.response.notifications.total_results--),Object(r.has)(e.response,"registeredTitles.titles")&&(e.response.registeredTitles.titles=e.response.registeredTitles.titles.filter(function(title){return title.title_id!==n}),e.response.registeredTitles.total_results--)}},function(e,t,n){"use strict";n.r(t),n.d(t,"start",function(){return o}),n.d(t,"notificationsTotal",function(){return c}),n.d(t,"notificationsPages",function(){return l}),n.d(t,"notificationsPublications",function(){return d}),n.d(t,"registeredTitlesTotal",function(){return f}),n.d(t,"gotResponseData",function(){return h}),n.d(t,"registeredTitlesPages",function(){return m}),n.d(t,"registeredTitles",function(){return v});var r=n(0);function o(e){return((e.page||1)-1)*(e.results||50)}function c(e){return Object(r.get)(e,"response.notifications.total_results",0)||0}function l(e,t){return{total:t.notificationsTotal||0,start:t.start,results:Object(r.get)(e,"response.notifications.results",e.results)||0,href:function(e){return"/mypage/arrival-alerts?page=".concat(e,"&tab=notifications")}}}function d(e){return Object(r.get)(e,"response.notifications.publications",[])||[]}function f(e){return Object(r.get)(e,"response.registeredTitles.total_results",0)}function h(e){return!!e.response}function m(e,t){return{total:t.registeredTitlesTotal||0,start:t.start,results:Object(r.get)(e,"response. registeredTitles.results",e.results)||0,href:function(e){return"/mypage/arrival-alerts?page=".concat(e,"&tab=registeredTitles")}}}function v(e){return Object(r.get)(e,"response.registeredTitles.titles",[])||[]}},function(e,t,n){"use strict";n.r(t);var r=n(399),o=n(400),c=n(401),l=n(402);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return{response:null,page:1,results:Object(r.f)("results"),tab:"purchasePlanning"}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return c});n(13),n(33);var r=n(31),o=(n(9),n(2));function c(e,t){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(regeneratorRuntime.mark(function e(t,n){var o,c,l,d,f,h,m,v,_,y,k,O,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.commit,c=t.getters,l=t.state,d=t.dispatch,f=t.rootState,h=n.query,e.prev=2,o("entered",{query:h}),m=l.results,v=l.tab,_=c.start,!f.user.isLogin){e.next=16;break}return(y=[]).push(this.$fetchr.read("my/autoPurchase",{start:_,results:m,tab:v})),"registeredTitles"===v&&y.push(d("user/autoPurchase/fetch",{start:_,results:m},{root:!0})),e.next=12,Promise.all(y);case 12:k=e.sent,O=Object(r.a)(k,1),w=O[0],o("fetched",{response:w.data});case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(2),new Error("mypage/auto-purchase/actions.fetch failed: ".concat(e.t0.message));case 21:case"end":return e.stop()}},e,this,[[2,18]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return c}),n.d(t,"fetched",function(){return l}),n.d(t,"unregistered",function(){return d}),n.d(t,"updateIsActiveAutoPurchase",function(){return f});n(13);var r=n(0),o=n(1);function c(e,t){var n=t.query;e.page=Object(r.get)(n,"page",1),e.tab=Object(r.get)(n,"tab","purchasePlanning")}function l(e,t){var n=t.response;e.response=n}function d(e,t){var n=Object(r.get)(e,"response.purchasePlanningPublications.publication_sale_dates");Array.isArray(n)&&(e.response.purchasePlanningPublications.results--,e.response.purchasePlanningPublications.total_results--,0===e.response.purchasePlanningPublications.total_results?e.response.purchasePlanningPublications.publication_sale_dates=null:e.response.purchasePlanningPublications.publication_sale_dates.forEach(function(e){e.publications=e.publications.filter(function(e){return Object(r.get)(e,"title.title_id")!==t})}))}function f(e,t){Object(r.has)(e,"response.paymentConfigure.data.member_payment_configure.is_auto_purchase")?e.response.paymentConfigure.data.member_payment_configure.is_auto_purchase=t?Object(o.p)("MEMBER_PAYMENT_CONFIGURE.IS_AUTO_PURCHASE.ON"):Object(o.p)("MEMBER_PAYMENT_CONFIGURE.IS_AUTO_PURCHASE.OFF"):e.response.paymentConfigure={data:{member_payment_configure:{is_auto_purchase:t?Object(o.p)("MEMBER_PAYMENT_CONFIGURE.IS_AUTO_PURCHASE.ON"):Object(o.p)("MEMBER_PAYMENT_CONFIGURE.IS_AUTO_PURCHASE.OFF")}}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"start",function(){return c}),n.d(t,"purchasePlanningPublicationsTotal",function(){return l}),n.d(t,"purchasePlanningPages",function(){return d}),n.d(t,"purchasePlanningInfo",function(){return f}),n.d(t,"registeredTitlesPages",function(){return h}),n.d(t,"isActiveAutoPurchase",function(){return m});var r=n(0),o=n(1);function c(e){return((e.page||1)-1)*(e.results||50)}function l(e){return Object(r.get)(e,"response.purchasePlanningPublications.total_results")||0}function d(e,t){return{total:t.purchasePlanningPublicationsTotal,start:t.start,results:e.results,href:function(e){return"/mypage/auto-purchase?page=".concat(e,"&tab=purchasePlanning")}}}function f(e){return Object(r.get)(e,"response.purchasePlanningPublications.publication_sale_dates")||[]}function h(e,t,n,r){return{total:r["user/autoPurchase/total"],start:t.start,results:e.results,href:function(e){return"/mypage/auto-purchase?page=".concat(e,"&tab=registeredTitles")}}}function m(e){return parseInt(Object(r.get)(e,"response.paymentConfigure.data.member_payment_configure.is_auto_purchase"))===Object(o.p)("MEMBER_PAYMENT_CONFIGURE.IS_AUTO_PURCHASE.ON")}},function(e,t,n){"use strict";n.r(t);var r=n(404);t.default={namespaced:!0,actions:r}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o}),n.d(t,"stockCoupon",function(){return l});n(9);var r=n(2);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,r=t.rootState,e.prev=1,!r.user.isLogin){e.next=5;break}return e.next=5,n("user/coupon/fetch",{disableFilter:!0},{root:!0});case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("mypage/coupon/actions.fetch failed: ".concat(e.t0.message));case 10:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function l(e,t){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.dispatch,o=t.rootState,e.prev=1,!o.user.isLogin){e.next=7;break}return e.next=5,this.$fetchr.create("my/coupons",{couponId:n});case 5:return e.next=7,r("user/coupon/fetch",{},{root:!0});case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("mypage/coupon/actions.stockCoupon failed: ".concat(e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t);var r=n(406),o=n(407),c=n(408),l=n(409);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);var r=n(1);t.default=function(){return{response:null,page:1,start:0,results:Object(r.f)("results")}}},function(e,t,n){"use strict";n.r(t),n.d(t,"enter",function(){return d}),n.d(t,"fetch",function(){return f}),n.d(t,"restore",function(){return m});n(9);var r=n(2),o=n(506),c=n.n(o),l=n(0);function d(e,t){(0,e.commit)("entered",{page:Object(l.get)(t,"page",1)})}function f(e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,l,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.prev=1,o=r.page,c=r.results,e.next=5,this.$fetchr.read("my/restore",{page:o,results:c});case 5:l=e.sent,data=l.data,n("fetched",{response:data}),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),new Error("mypage/restore/actions.fetch failed: ".concat(e.t0.message));case 13:case"end":return e.stop()}},e,this,[[1,10]])}))).apply(this,arguments)}function m(e,t){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,l,d,f,h,m,v,_,data,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.dispatch,l=t.rootState,d=n.bookCds,f=void 0===d?[]:d,e.prev=2,e.next=5,o("bookshelf/connect",{uuid:c()()},{root:!0});case 5:return h=e.sent,m=h.envid,v=h.token,e.next=10,this.$fetchr.update("my/restore",{bookCds:f,envId:m});case 10:_=e.sent,data=_.data,y=data.codes,l.bookshelf.worker&&l.bookshelf.worker.postMessage(["update_books",{data:{codes:y,changed:null,token:v}}]),r("restored",{response:data}),e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(2),new Error("mypage/restore/restore.fetch failed: ".concat(e.t0.message));case 20:case"end":return e.stop()}},e,this,[[2,17]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){var n=t.page;e.page=/^\d+$/.test(n)?+n:1,e.start=(e.page-1)*e.results}function o(e,t){var n=t.response;e.response=n}function c(e,t){var n=t.response.codes;e.response.deleted=e.response.deleted.filter(function(e){return-1===n.indexOf(e.book_cd)})}n.r(t),n.d(t,"entered",function(){return r}),n.d(t,"fetched",function(){return o}),n.d(t,"restored",function(){return c})},function(e,t,n){"use strict";n.r(t),n.d(t,"deleted",function(){return o}),n.d(t,"totalResults",function(){return c});var r=n(0);function o(e){var data=Object(r.get)(e,"response.deleted")||[];return data.length>0&&(data=data.filter(function(e){return e.publication})),data}function c(e){return Object(r.get)(e,"response.total")||0}},function(e,t,n){"use strict";n.r(t);var r=n(411),o=n(412),c=n(413),l=n(414);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{paymentMethods:[]}}},function(e,t,n){"use strict";n.r(t),n.d(t,"updateDefaultPayment",function(){return d}),n.d(t,"registerSbps",function(){return h}),n.d(t,"deleteSbpsCreditCard",function(){return v});n(67),n(68),n(9);var r=n(2),o=n(1),c=n(0),l=Object(o.g)("ERROR.ORDER");function d(e,t){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,c,l,body;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.rootState,c=n.type,e.prev=2,l="","sbps"===c?l=Object(o.p)("PAYMENT_AGENT_TYPE.SBPS"):"wallet"===c&&(l=Object(o.p)("PAYMENT_AGENT_TYPE.WALLET")),body={paymentAgentType:l},e.next=8,this.$fetchr.create("user/payment",{},body);case 8:r("updatedDefaultPayment",{type:c}),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),new Error("mypage/accounts/actions.updateDefaultPayment failed: ".concat(e.t0.message));case 14:case"end":return e.stop()}},e,this,[[2,11]])}))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,c,l,d,body,f,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.rootState,c=t.rootGetters,l=n.sbpsInfo,d=n.creditCard,e.prev=2,body={token:l.token,tokenKey:l.tokenKey},e.next=6,this.$fetchr.create("my/sbps",{},body);case 6:if(f=c["user/payment/defaultPayment"],h=!f||f.payment_agent_type===Object(o.p)("PAYMENT_AGENT_TYPE.SBPS").toString(),f){e.next=11;break}return e.next=11,this.$fetchr.create("user/payment",{},{paymentAgentType:Object(o.p)("PAYMENT_AGENT_TYPE.SBPS")});case 11:r("registeredSbps",{creditCard:d,isSbpsDefault:h}),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(2),m=y(e.t0),new Error(m);case 18:case"end":return e.stop()}},e,this,[[2,14]])}))).apply(this,arguments)}function v(e,t){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,l,d,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.rootState,l=t.rootGetters,d=n.isUpdateDefaultPayment,e.prev=2,e.next=5,this.$fetchr.delete("my/sbps",{});case 5:if(!d){e.next=15;break}if(f=l["user/payment/walletCreditCard"],!Object(c.get)(f,"credit_card")){e.next=13;break}return e.next=10,this.$fetchr.create("user/payment",{},{paymentAgentType:Object(o.p)("PAYMENT_AGENT_TYPE.WALLET")});case 10:r("updatedDefaultPayment",{type:"wallet"}),e.next=15;break;case 13:return e.next=15,this.$fetchr.update("user/payment",{},{paymentAgentType:Object(o.p)("PAYMENT_AGENT_TYPE.SBPS")});case 15:r("deletedSbpsCreditCard"),e.next=22;break;case 18:throw e.prev=18,e.t0=e.catch(2),h=y(e.t0),new Error(h);case 22:case"end":return e.stop()}},e,this,[[2,18]])}))).apply(this,arguments)}function y(e){var t=Object(c.get)(e,"body.errorType");if(t){if("PaymentError"===t){var n=Object(c.get)(e,"body.errorDetail.payment_errors[0]");return n&&l.PaymentError[n.type]?l.PaymentError[n.type]:l.PaymentError.SbpsInvalidCreditCardError}return l[t]||l.PaymentError.SbpsInvalidCreditCardError}return l.PaymentError.SbpsInvalidCreditCardError}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetched",function(){return c}),n.d(t,"updatedDefaultPayment",function(){return l}),n.d(t,"deletedSbpsCreditCard",function(){return d}),n.d(t,"registeredSbps",function(){return f});n(67),n(68),n(13);var r=n(0),o=n(1);function c(e,t){var n=t.sbps,c=t.wallet,l=t.defaultPayment;e.paymentMethods=function(e,t,n){var c=[];if(Object(r.get)(t,"is_usable")&&!Object(r.get)(t,"is_error",!0)&&Object(r.get)(t,"payment_key")&&Object(r.get)(t,"credit_card")){var l=Object(r.get)(n,"payment_agent_type")===Object(o.p)("PAYMENT_AGENT_TYPE.WALLET").toString();c.push({type:"wallet",paymentKey:Object(r.get)(t,"payment_key"),creditCard:Object(r.get)(t,"credit_card"),isDefault:l})}if(!Object(r.get)(e,"is_error",!0)&&Object(r.get)(e,"credit_card")){var d=Object(r.get)(n,"payment_agent_type")===Object(o.p)("PAYMENT_AGENT_TYPE.SBPS").toString();c.push({type:"sbps",creditCard:Object(r.get)(e,"credit_card"),isDefault:d})}return c}(n,c,l)}function l(e,t){var n=t.type;e.paymentMethods.forEach(function(e){e.isDefault=e.type===n})}function d(e){e.paymentMethods=e.paymentMethods.filter(function(e){return"sbps"!==e.type})}function f(e,t){var n=t.creditCard,r=t.isSbpsDefault,o=e.paymentMethods.filter(function(e){return"sbps"!==e.type});o.push({type:"sbps",creditCard:n,isDefault:r}),e.paymentMethods=o}},function(e,t,n){"use strict";n.r(t),n.d(t,"paymentMethods",function(){return o});var r=n(0);function o(e){return Object(r.get)(e,"paymentMethods",[])}},function(e,t,n){"use strict";n.r(t);var r=n(416),o=n(417);t.default={namespaced:!0,state:r.default,mutations:o}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{isShowMenu:!1}}},function(e,t,n){"use strict";function r(e){e.isShowMenu=!e.isShowMenu}function o(e){e.isShowMenu=!1}n.r(t),n.d(t,"setMenuState",function(){return r}),n.d(t,"closeMenu",function(){return o})},function(e,t,n){"use strict";n.r(t);var r=n(419),o=n(420);t.default={namespaced:!0,state:r.default,mutations:o}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{showedDropdownId:""}}},function(e,t,n){"use strict";function r(e,t){e.showedDropdownId=t}n.r(t),n.d(t,"updateShowedDropdownId",function(){return r})},function(e,t,n){"use strict";n.r(t);var r=n(422),o=n(423),c=n(424),l=n(425);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{setPublicationCd:null,setPublicationDetails:{},setPublication:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"open",function(){return o});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.state,r("open",{setPublication:n}),c=o.setPublicationCd,!o.setPublicationDetails[c]){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,this.$fetchr.read("setItems/detail",{setPublicationCd:c});case 8:l=e.sent,data=l.data,r("fetched",{setPublicationCd:c,response:data}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),r("fetched",{setPublicationCd:c,error:e.t0});case 16:case"end":return e.stop()}},e,this,[[5,13]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"open",function(){return l}),n.d(t,"fetched",function(){return d}),n.d(t,"close",function(){return f}),n.d(t,"pageChanged",function(){return h});var r=n(44),o=n(6),c=n(0);function l(e,t){var n=t.setPublication;e.setPublicationCd=Object(c.get)(n,"set_publication_cd",""),e.setPublication=n}function d(e,t){var n=t.setPublicationCd,c=t.response,l=t.error;e.setPublicationDetails=Object(o.a)({},e.setPublicationDetails,Object(r.a)({},n,l||c))}function f(e){e.setPublicationCd=null,e.setPublication=null}function h(e){e.setPublicationCd=null,e.setPublication=null,e.setPublicationDetails={}}},function(e,t,n){"use strict";function r(e){return e.setPublicationCd&&e.setPublicationDetails[e.setPublicationCd]?e.setPublicationDetails[e.setPublicationCd]:null}n.r(t),n.d(t,"setPublicationDetail",function(){return r})},function(e,t,n){"use strict";n.r(t);var r=n(427),o=n(428),c=n(429),l=n(430);t.default={namespaced:!0,state:r.default,actions:o,getters:c,mutations:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{base:null,config:null,cursor:"default",rightBind:!0,doRange:!1,visible:{layout:!1,side:!1,modal:!1},title:"Loading ...",page:{view:0,min:0,max:0,value:0,pages:[]},header:{icons:[{label:"目次",type:"index",icon:"label"},{label:"コンテンツ",type:"contents",icon:"menu-contents"},{label:"設定",type:"setting",icon:"setting"}]},modalType:null,info:null,chapters:[],bookmarks:[],viewMode:{}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"specificPublication",function(){return l}),n.d(t,"getPublicationsInfo",function(){return f}),n.d(t,"inspection",function(){return m});n(13),n(9);var r=n(2),o=n(126),c=n(0);function l(e,t){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,data,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.commit,r=n.bookCode,e.prev=2,e.next=5,this.$fetchr.read("viewer/book.specificPublication",{bookCd:r});case 5:if(o=e.sent,!(data=o.data)){e.next=10;break}return l=data.publication,e.abrupt("return",{titleId:l.title_id,title:l.publication_name,publicationCode:l.publication_cd,titleTitleName:Object(c.get)(l,"title.title_name"),authorName:Object(c.get)(l,"title.author.author_name"),topGenreName:Object(c.get)(l,"title.unification_top_genre.unification_top_genre_name"),middleGenreName:Object(c.get)(l,"title.unification_middle_genre.unification_middle_genre_name"),publisherName:Object(c.get)(l,"title.publisher.publisher_name"),firstTagId:Object(c.get)(l,"title.tags[0].tag_id")});case 10:return e.abrupt("return","dummy");case 13:throw e.prev=13,e.t0=e.catch(2),new Error("viewer/book/actions.fetch failed: ".concat(e.t0.message));case 16:case"end":return e.stop()}},e,this,[[2,13]])}))).apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,l,d,f,h,data,m,v,_,y,k,O,w,j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,t.state,o=t.rootState,l=t.dispatch,d=n.titleId,f=n.bookCode,e.prev=2,"dummy"!==d){e.next=6;break}return r("setBookInformation",{cur:[],series:[]}),e.abrupt("return",null);case 6:return e.next=8,this.$fetchr.read("viewer/book.sameTitlePublications",{titleId:d});case 8:if(h=e.sent,data=h.data,m=data.sameTitlePublications.data,v=m.publications.reverse(),_=Object(c.find)(m.publications,function(e){return Object(c.find)(e.books,function(e){return e.book_cd===f})})){e.next=15;break}return e.abrupt("return",!1);case 15:if(!o.user.isLogin||!v){e.next=26;break}if(y=v.reduce(function(e,t,i){var n=t.books.filter(function(e){return 0===e.book_type||2===e.book_type});if(n.length>0){var code=null;0!==n[0].book_type&&2!==n[0].book_type||(code=n[0].book_cd),e.push(code)}return e},[]),!((k=y.filter(function(e){return null!==e}))&&k.length>0)){e.next=26;break}return e.next=21,l("user/bookshelf/fetch",{bookCds:k},{root:!0});case 21:O=o.user.bookshelf.possessionBooks,w=O.data.purchased,j=O.data.deleted,w.forEach(function(code){var e=y.indexOf(code);e>=0&&(v[e].bought=!0)}),j.forEach(function(code){var e=y.indexOf(code);e>=0&&(v[e].deleted=!0)});case 26:if(_&&v){e.next=28;break}return e.abrupt("return",!1);case 28:return r("setBookInformation",{cur:_,series:v}),e.abrupt("return",!0);case 32:throw e.prev=32,e.t0=e.catch(2),new Error("books/book/actions.fetch failed: ".concat(e.t0.message));case 35:case"end":return e.stop()}},e,this,[[2,32]])}))).apply(this,arguments)}function m(e,t){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,c=n.downloadId,e.prev=2,r.bookshelf.Api||(r.bookshelf.Api=new o.a("/brapi",r._csrf)),e.abrupt("return",r.bookshelf.Api.getInspectionSession(c).then(function(e){return{envId:e.envId,sessionId:e.sessionId,reflow:e.reflow,titleId:e.titleId,bookCode:e.bookCode}}));case 7:throw e.prev=7,e.t0=e.catch(2),new Error("doInspection failed: ".concat(e.t0.message));case 10:case"end":return e.stop()}},e,null,[[2,7]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e){return e.visible.modal}n.r(t),n.d(t,"isShowModal",function(){return r})},function(e,t,n){"use strict";n.r(t),n.d(t,"setUIComponent",function(){return o}),n.d(t,"setConfigItems",function(){return c}),n.d(t,"updateShowLayout",function(){return l}),n.d(t,"updateShowSidebar",function(){return d}),n.d(t,"movePage",function(){return f}),n.d(t,"showModal",function(){return h}),n.d(t,"closeModal",function(){return m}),n.d(t,"setChapters",function(){return v}),n.d(t,"setBookmarks",function(){return _}),n.d(t,"setBookInformation",function(){return y}),n.d(t,"addBookmark",function(){return k}),n.d(t,"deleteBookmark",function(){return O}),n.d(t,"setViewMode",function(){return w}),n.d(t,"setRangeCond",function(){return j}),n.d(t,"setTitle",function(){return x});var r=n(0);function o(e,base){e.base=base}function c(e,t){e.config=t}function l(e,t){e.visible.layout=t}function d(e){e.visible.side=!e.visible.side}function f(e,t){e.base.move(t)}function h(e,t){e.visible.modal=!0,e.modalType=t}function m(e){e.visible.modal=!1,e.modalType=null}function v(e,t){e.chapters=t}function _(e,t){e.bookmarks=t}function y(e,t){e.info=t}function k(e,t){var n=Object(r.findIndex)(e.bookmarks,function(e){return e.page===t.page});-1!==n?e.bookmarks[n].comment=t.comment:(e.bookmarks.push(t),e.bookmarks.sort(function(a,b){return a.page-b.page})),e.base.setMarker(e.bookmarks)}function O(e,t){e.bookmarks.splice(t,1),e.base.setMarker(e.bookmarks)}function w(e,t){e.viewMode=t}function j(e,t){e.doRange=t}function x(e,title){e.title=title}},function(e,t,n){"use strict";n.r(t);var r=n(432);t.default={namespaced:!0,modules:{notice:r.default}}},function(e,t,n){"use strict";n.r(t);var r=n(433),o=n(434),c=n(435),l=n(436);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{id:null,response:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"enter",function(){return o}),n.d(t,"fetch",function(){return c});n(9);var r=n(2);function o(e,t){(0,e.commit)("entered",t)}function c(e){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,this.$fetchr.read("information/notice",{});case 4:r=e.sent,data=r.data,n("fetched",data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("information/notice/actions.fetch failed: ".concat(e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){e.id=t.id}function o(e,t){e.response=t}n.r(t),n.d(t,"entered",function(){return r}),n.d(t,"fetched",function(){return o})},function(e,t,n){"use strict";n.r(t),n.d(t,"id",function(){return o}),n.d(t,"informations",function(){return c}),n.d(t,"informationById",function(){return l}),n.d(t,"emergencyInformation",function(){return d}),n.d(t,"regularInformation",function(){return f});n(17);var r=n(0);function o(e){return Object(r.get)(e,"id")}function c(e){return Object(r.get)(e,"response.information")||[]}function l(e,t){return function(e){return t.informations.find(function(t){return"".concat(Object(r.get)(t,"information_id"))===e})}}function d(e){return Object(r.get)(e,"response.information",[]).filter(function(e){return"1"===Object(r.get)(e,"information_category")}).slice(0,2)}function f(e,t){return t.informations.filter(function(e){return"1"!==Object(r.get)(e,"information_category")})}},function(e,t,n){"use strict";n.r(t);var r=n(125),o=n(438),c=n(439),l=n(440),d=n(441);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l,modules:{entry:d.default}}},function(e,t,n){"use strict";n.r(t),n.d(t,"enter",function(){return o}),n.d(t,"fetch",function(){return c});n(9);var r=n(2);function o(e,t){var n=e.commit;n("reset"),n("entered",t)}function c(e,t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,h,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.rootState,c=n.campaignId,l=n.campaignType,n.redirect,d=n.approved,r("setCampaignType",l),f={campaignId:c,campaignType:l},"production"!==o.env&&(o.targetDatetime&&(f.targetDatetime=o.targetDatetime),d&&(f.approved=!0)),e.next=7,this.$fetchr.read("campaign/campaign",f);case 7:if(h=e.sent,(data=h.data).campaign){e.next=12;break}return r("setNotFoundResponse"),e.abrupt("return");case 12:r("setResponse",{response:data});case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"setCampaignType",function(){return c}),n.d(t,"setResponse",function(){return l}),n.d(t,"setNotFoundResponse",function(){return d}),n.d(t,"reset",function(){return f}),n.d(t,"entered",function(){return h});n(45),n(13);var r=n(125),o=n(0);function c(e,t){e.campaignType=t}function l(e,t){var n=t.response;e.response=n}function d(e){e.notFoundResponse=!0}function f(e){var t=Object(r.default)();Object.keys(t).forEach(function(n){e[n]=t[n]})}function h(e,t){e.utmParams.utmSource=Object(o.get)(t,"utm_source",null),e.utmParams.utmMedium=Object(o.get)(t,"utm_medium",null),e.utmParams.utmCampaign=Object(o.get)(t,"utm_campaign",null)}},function(e,t,n){"use strict";n.r(t),n.d(t,"campaign",function(){return o}),n.d(t,"campaignRating",function(){return c}),n.d(t,"recommendedCampaigns",function(){return l}),n.d(t,"layoutType",function(){return d}),n.d(t,"campaignSpecialSets",function(){return f});var r=n(0);function o(e){return Object(r.get)(e,"response.campaign",null)}function c(e){return Object(r.get)(e,"response.campaign.rating_type",null)}function l(e){var t=Object(r.get)(e,"response.recommended_campaigns");return Array.isArray(t)?t:null}function d(e,t){return t.campaign?t.campaign.layout_type:null}function f(e){var t=Object(r.get)(e,"response.campaign.campaign_special_sets");return Array.isArray(t)?t:[]}},function(e,t,n){"use strict";n.r(t);var r=n(442),o=n(443),c=n(444),l=n(445);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{campaignId:null,campaign:{},campaignOpened:!1,isEntry:!1,entryStatus:null,isEntryFirstMonthCampaign:""}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return d}),n.d(t,"enterCampaign",function(){return h}),n.d(t,"fetchFirstMonthCampaign",function(){return v});n(9);var r=n(2),o=n(1),c=n(170),l=n.n(c);function d(e,t){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.rootGetters,o=n.campaignId,r("entered",{campaignId:o}),e.next=5,this.$fetchr.read("campaign/entry",{campaignId:o});case 5:if(c=e.sent,(data=c.data).campaign){e.next=9;break}throw new Error("campaign not exists");case 9:r("fetched",{response:data});case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=n.campaignId,e.next=4,this.$fetchr.create("campaign/entry",{campaignId:o});case 4:c=e.sent,data=c.data,r("enteredCampaign",{response:data});case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function v(e){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,c,d,f,h,m,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootState,t.rootGetters,c=r.env,d=Object(o.f)("regularCampaignId.firstMonth"),f=l()(new Date,"yyyymm"),h=d[f][c]||d[f].production,e.next=7,this.$fetchr.read("campaign/entry",{campaignId:h});case 7:m=e.sent,data=m.data,n("fetchedFirstMonthCampaign",{response:data});case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){var n=t.campaignId;e.campaignId=n}function o(e,t){var n=t.response;e.campaign=n.campaign||{},e.campaignOpened=!!n.campaign_opened,e.isEntry=!!n.is_entry}function c(e,t){var n=t.response;e.isEntryFirstMonthCampaign=!!n.is_entry}function l(e,t){var n=t.response;e.entryStatus=n.entryStatus,1===parseInt(n.entryStatus)&&(e.isEntry=!0)}n.r(t),n.d(t,"entered",function(){return r}),n.d(t,"fetched",function(){return o}),n.d(t,"fetchedFirstMonthCampaign",function(){return c}),n.d(t,"enteredCampaign",function(){return l})},function(e,t,n){"use strict";n.r(t),n.d(t,"campaignId",function(){return o}),n.d(t,"startDate",function(){return c}),n.d(t,"endDate",function(){return l}),n.d(t,"isNotCovered",function(){return d});var r=n(5);function o(e){return e.campaign?e.campaign.campaign_id:void 0}function c(e){return e.campaign&&"string"==typeof e.campaign.open_start_datetime?Object(r.a)(e.campaign.open_start_datetime):void 0}function l(e){return e.campaign&&"string"==typeof e.campaign.open_end_datetime?Object(r.a)(e.campaign.open_end_datetime):void 0}function d(e){return 5===parseInt(e.entryStatus)}},function(e,t,n){"use strict";n.r(t);var r=n(447),o=n(448),c=n(449);t.default={namespaced:!0,state:r.default,actions:o,mutations:c}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{regularTpointRate:.01,premiumTpointRate:0}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootState,e.prev=1,e.next=4,this.$fetchr.read("settings/settings",{token:r.user.token});case 4:o=e.sent,data=o.data,n("fetched",data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("settings/actions.fetch failed: ".concat(e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetched",function(){return o});var r=n(0);function o(e,t){var n=Object(r.get)(t,"regularTpointPercent")||.01;e.regularTpointRate=n;var o=Object(r.get)(t,"premiumTpointRate")||0;e.premiumTpointRate=o}},function(e,t,n){"use strict";n.r(t);var r=n(451);t.default={namespaced:!0,modules:{viewer:r.default}}},function(e,t,n){"use strict";n.r(t);var r=n(452),o=n(453),c=n(454),l=n(455);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{bookCd:"",rdType:null,response:null,date:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o}),n.d(t,"createBookshelf",function(){return l});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=n.bookCd,c=n.rdType,l=n.date,e.prev=2,r("entered",{bookCd:o,rdType:c,date:l}),e.next=6,this.$fetchr.read("redirect/viewer",{bookCd:o});case 6:d=e.sent,f=d.data,r("fetched",{response:f}),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),new Error("redirect/viewer/actions.fetch failed: ".concat(e.t0.message));case 14:case"end":return e.stop()}},e,this,[[2,11]])}))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rootState,e.prev=1,!n.user.isLogin){e.next=5;break}return e.next=5,this.$fetchr.create("redirect/viewer",{},{});case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",!0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return o}),n.d(t,"fetched",function(){return c});n(21),n(22);var r=n(1);function o(e,t){var n=t.bookCd,o=t.rdType,c=t.date;e.bookCd=n,e.date=c,Object(r.f)("redirect.types").includes(o)&&(e.rdType=o)}function c(e,t){var n=t.response;e.response=n}},function(e,t,n){"use strict";n.r(t),n.d(t,"publication",function(){return o});var r=n(0);function o(e){return Object(r.get)(e,"response.publication")||null}},function(e,t,n){"use strict";n.r(t);var r=n(457),o=n(458),c=n(459);t.default={namespaced:!0,actions:r,mutations:o,state:c.default}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,this.$fetchr.read("emg",n);case 4:o=e.sent,data=o.data,r("fetched",{data:data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r("fetched",{data:{}});case 12:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){var data=t.data;e.emg1=data.mem||data.emg||"",e.emg2=data.mem2||data.emg2||"",e.emg3=data.mem3||data.emg3||"",e.dummy="\x3c!-- ".concat(Date.now()," --\x3e")}n.r(t),n.d(t,"fetched",function(){return r})},function(e,t,n){"use strict";n.r(t);t.default=function(){return{emg1:"",emg2:"",emg3:"",dummy:""}}},function(e,t,n){"use strict";n.r(t);var r=n(461),o=n(462),c=n(463),l=n(464);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{response:null,config:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return c});n(19),n(17),n(9);var r=n(2),o=n(1);function c(e,t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,c,l,d,f,h,m,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,t.state,t.getters,c=t.rootState,l=n.genreId,d=n.approved,e.prev=2,0!==(f=Object(o.f)("genreTop").find(function(e){return e.name===l})).length){e.next=6;break}throw new Error("".concat(l," not found"));case 6:return r("entered",f),h={genreId:l},"production"!==c.env&&(c.targetDatetime&&(h.targetDatetime=c.targetDatetime),d&&(h.approved=d)),e.next=11,this.$fetchr.read("genre/top",h);case 11:m=e.sent,data=m.data,r("fetched",{response:data}),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(2),new Error("genre/actions.fetch failed: ".concat(e.t0.message));case 19:case"end":return e.stop()}},e,this,[[2,16]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"entered",function(){return c}),n.d(t,"fetched",function(){return l});n(19);var r=n(0),o=n(1);function c(e,data){var t=Object(o.f)("url.label.Image"),n=Object(r.get)(data,"magazines"),c={baseUrl:t,name:data.name,id:data.id,label:data.title,magazines:n&&n.length>0?n[0].labels:[]};e.config=c}function l(e,t){var n=t.response;e.response=n}},function(e,t,n){"use strict";n.r(t),n.d(t,"label",function(){return label}),n.d(t,"genreId",function(){return l}),n.d(t,"genreName",function(){return d}),n.d(t,"error",function(){return f}),n.d(t,"campaigns",function(){return h}),n.d(t,"freePublications",function(){return m}),n.d(t,"ranking",function(){return v}),n.d(t,"sales",function(){return _}),n.d(t,"banners",function(){return y}),n.d(t,"editors",function(){return k}),n.d(t,"newBookModules",function(){return O}),n.d(t,"baseUrl",function(){return w});n(19);var r=n(6),o=(n(13),n(17),n(0)),c=n(1);function label(e){return Object(o.get)(e,"config.label")}function l(e){return Object(o.get)(e,"config.id")}function d(e){return Object(o.get)(e,"config.name")}function f(e){return function(t){return Object(o.get)(e,"response.".concat(t,".error"))}}function h(e){var t=Object(o.get)(e,"response.campaigns.data");return Array.isArray(t)?t:[]}function m(e){var t=Object(o.get)(e,"response.freeBooks.data.publications");return Array.isArray(t)?t:[]}function v(e){var t=Object(o.get)(e,"response.ranking.data.publications");return Array.isArray(t)?t:[]}function _(e){var t=Object(o.get)(e,"response.sales.data.publications");return Array.isArray(t)?t:[]}function y(e){var t=Object(o.get)(e,"response.banners.data");return Array.isArray(t)?t:[]}function k(e){var t=Object(o.get)(e,"config.name"),n=Object(c.f)("editableModule.genre.framePosition.editable")[t],r=(Object(o.get)(e,"response.editors.data.organization_frame")||[]).find(function(e){return e.frame_position===n});return Object(o.get)(r,"organization_module")||[]}function O(e){var t=Object(o.get)(e,"config.name"),n=Object(c.f)("editableModule.genre.framePosition.newPublication")[t]||[],l=Object(o.get)(e,"response.editors.data.organization_frame")||[],d=[];return n.forEach(function(e){var t=l.find(function(t){return t.frame_position===e.id});if(t){var n=Object(o.get)(t,"organization_module[0]")||{};d.push(Object(r.a)({},n,{title:e.name}))}}),d}function w(e){return Object(o.get)(e,"config.baseUrl")}},function(e,t,n){"use strict";n.r(t);var r=n(466),o=n(467),c=n(468),l=n(469);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{signboard:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e,t){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,t.state,"production"!==(o=t.rootState).env&&o.targetDatetime&&(n.targetDatetime=o.targetDatetime),e.prev=2,e.next=5,this.$fetchr.read("signboard/signboard",n);case 5:c=e.sent,data=c.data,r("fetched",data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r("reset");case 13:case"end":return e.stop()}},e,this,[[2,10]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){var n=t.data||null;e.signboard=n}function o(e){e.signboard=null}n.r(t),n.d(t,"fetched",function(){return r}),n.d(t,"reset",function(){return o})},function(e,t,n){"use strict";n.r(t),n.d(t,"signboardText",function(){return o}),n.d(t,"signboardLinkText",function(){return c}),n.d(t,"signboardLinkUrl",function(){return l}),n.d(t,"signboardImageUrl",function(){return d});var r=n(0);function o(e){return Object(r.get)(e,"signboard.signboard_text",null)}function c(e){return Object(r.get)(e,"signboard.text_link[0].link_text",null)}function l(e){return Object(r.get)(e,"signboard.text_link[0].link_url",null)}function d(e){return Object(r.get)(e,"signboard.image_file_name",null)}},function(e,t,n){"use strict";n.r(t);var r=n(471),o=n(472),c=n(473),l=n(474);t.default={namespaced:!0,state:r.default,mutations:o,actions:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{result:null,param:null,error:null}}},function(e,t,n){"use strict";function r(e,t){e.result=t.result,e.error=t.error}function o(e,t){e.param=t.param}n.r(t),n.d(t,"setResult",function(){return r}),n.d(t,"setParam",function(){return o})},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return m}),n.d(t,"getBundle",function(){return _});n(9);var r=n(2),o=n(0),c=n(191),l=n.n(c),d=n(1),f=n(59),h=n.n(f);function m(e,t){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,c,f,m,v,_,y,k,O;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,c=n.affilParam,f=n.deviceInfo,m=n.hostname,v=Object(d.f)("bundleCoupon"),_="".concat(Object(o.get)(v,"redirectInternal"),"?").concat(h.a.stringify({affil_param:c,device_info:f})),w=m,base=Object(o.get)(v,"redirectUrl"),y=/^stg-ebookjapan\.yahoo\.co\.jp$/.test(w)?"https://web-mig-stg.ebookjapan.co.jp/ebj/external/begin":/^dev-ebookjapan\.yahoo\.co\.jp$/.test(w)?"https://web-mig-dev.ebookjapan.co.jp/ebj/external/begin":base,k="".concat(y,"?").concat(h.a.stringify({authType:5,actionType:5,returnUrl:_})),e.next=8,this.$fetchr.read("my/affil",{affilParam:c,deviceInfo:f});case 8:if(!(O=e.sent).data.error){e.next=11;break}throw new l.a(O.data.error);case 11:r("setParam",{param:{affil:O.data,redirectUrl:k,deviceInfo:f}});case 12:case"end":return e.stop()}var w,base},e,this)}))).apply(this,arguments)}function _(e){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,c,l,d,data,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,e.prev=1,c=Object(o.get)(r,"param.deviceInfo"),(l=Object(o.get)(r,"param.affil.id"))&&c){e.next=7;break}return n("setResult",{result:null,error:{message:"Invalid affil_param",code:404001}}),e.abrupt("return");case 7:return e.next=9,this.$fetchr.read("my/bundle",{deviceInfo:c,affilParam:l});case 9:d=e.sent,data=d.data,(f=Object(o.get)(data,"status"))>=300?n("setResult",{result:null,error:{code:Object(o.get)(data,"data.error.code")}}):(h=208===f?Object(o.get)(data,"data.coupon")||Object(o.get)(data,"data.stocked_coupon")?2:3:1,n("setResult",{result:{status:h},error:null})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),n("setResult",{result:null,error:{message:e.t0.message,code:999999}});case 18:case"end":return e.stop()}},e,this,[[1,15]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"done",function(){return o}),n.d(t,"ready",function(){return c}),n.d(t,"productName",function(){return l}),n.d(t,"bundleCount",function(){return d}),n.d(t,"redirectUrl",function(){return f}),n.d(t,"error",function(){return h}),n.d(t,"resultStatus",function(){return m});var r=n(0);function o(e){return Object(r.get)(e,"result",null)||Object(r.get)(e,"error",null)}function c(e){return Object(r.get)(e,"param.affil.id",null)&&!o(e)}function l(e){return Object(r.get)(e,"param.affil.product","")}function d(e){return Object(r.get)(e,"param.affil.count","")}function f(e){return Object(r.get)(e,"param.redirectUrl","")}function h(e){return Object(r.get)(e,"error.code",0)}function m(e){return Object(r.get)(e,"result.status",0)}},function(e,t,n){"use strict";n.r(t);var r=n(476),o=n(477),c=n(478),l=n(479);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{response:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,this.$fetchr.read("banner/banner",{});case 4:r=e.sent,data=r.data,n("fetched",data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("banner/actions.fetch failed: ".concat(e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){e.response=t}n.r(t),n.d(t,"fetched",function(){return r})},function(e,t,n){"use strict";n.r(t),n.d(t,"bannerData",function(){return o});var r=n(0);function o(e){return Object(r.get)(e,"response.displayBanner",{})}},function(e,t,n){"use strict";n.r(t);var r=n(481),o=n(482),c=n(483),l=n(484);t.default={namespaced:!0,state:r.default,actions:o,mutations:c,getters:l}},function(e,t,n){"use strict";n.r(t),t.default=function(){return{couponInfo:null,nextCouponInfo:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return o});n(9);var r=n(2);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,this.$fetchr.read("cyberSunday/cyberSunday",{});case 4:r=e.sent,data=r.data,n("fetched",data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("cyberSunday/actions.fetch failed: ".concat(e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}},function(e,t,n){"use strict";function r(e,t){e.couponInfo=t.couponInfo,e.nextCouponInfo=t.nextCouponInfo}n.r(t),n.d(t,"fetched",function(){return r})},function(e,t,n){"use strict";n.r(t),n.d(t,"couponId",function(){return c}),n.d(t,"couponUseDatetime",function(){return l}),n.d(t,"couponObtained",function(){return d}),n.d(t,"couponUsed",function(){return f}),n.d(t,"nextCouponDistributionStartDatetime",function(){return h});var r=n(0),o=n(5);function c(e){return Object(r.get)(e,"couponInfo.couponId",null)}function l(e){var t=Object(r.get)(e,"couponInfo.couponUseStartDatetime",null),n=Object(r.get)(e,"couponInfo.couponUseEndDatetime",null);return Object(o.a)(t).isValid()&&Object(o.a)(n).isValid()?Object(o.a)(t).isSame(n,"day")?"".concat(Object(o.a)(t).format("M/D（ddd）HH:mm〜")).concat(Object(o.a)(n).format("HH:mm")):"".concat(Object(o.a)(t).format("M/D（ddd）HH:mm〜")).concat(Object(o.a)(n).format("M/D（ddd）HH:mm")):null}function d(e,t,n,r){var o=r["user/coupon/coupons"],c=t.couponId;return!(!c||!Array.isArray(o))&&o.some(function(e){return e.coupon_master_id===c})}function f(e,t,n,r){var o=t.couponId,c=r["user/coupon/stockableCoupons"];return!(t.couponObtained||!Array.isArray(c))&&(!(c.length>0)||c.every(function(e){return e.coupon_master_id!==o}))}function h(e){var t=Object(r.get)(e,"nextCouponInfo.couponDistributionStartDatetime",null);return Object(o.a)(t).isValid()?Object(o.a)(t).format("M/D（ddd）HH:mm〜"):null}o.a.locale("ja")},function(e,t,n){"use strict";n.r(t);var r=n(486),o=n(487),c=n(488),l=n(489);t.default={namespaced:!0,state:r.default,mutations:o,actions:c,getters:l}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{buckets:null,experimentId:null,bucketId:null}}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetched",function(){return o}),n.d(t,"reset",function(){return c}),n.d(t,"entered",function(){return l});var r=n(0);function o(e,t){e.buckets=Object(r.get)(t,"buckets")||null}function c(e){e.experimentId=null,e.bucketId=null}function l(e,t){var n=t.experimentId,r=t.bucketId;e.experimentId=n,e.bucketId=r}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetch",function(){return c}),n.d(t,"enter",function(){return d});n(9);var r=n(2),o=n(0);function c(e){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,t.state,e.prev=1,e.next=4,this.$fetchr.read("miffy/miffy",{});case 4:r=e.sent,data=r.data,n("fetched",data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("miffy/actions.fetch error: ".concat(e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}function d(e,t){var n=e.commit,r=e.state,c=t.experimentId,l=r.buckets;if(c&&l){var d=l[c];n("entered",{experimentId:c,bucketId:Object(o.get)(d,"bucketId")})}}},function(e,t,n){"use strict";n.r(t),n.d(t,"bucketValues",function(){return o});var r=n(0);function o(e){var t=e.experimentId,n=e.buckets;return t&&n?Object(r.get)(n[t],"values"):null}},function(e,t,n){"use strict";n.r(t);var r=n(491);t.default={namespaced:!0,modules:{modal:r.default}}},function(e,t,n){"use strict";n.r(t);var r=n(492),o=n(493),c=n(494);t.default={namespaced:!0,state:r.default,mutations:o,getters:c}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{fridayCampaignModalCloseTime:null}}},function(e,t,n){"use strict";function r(e,t){e.fridayCampaignModalCloseTime=t}n.r(t),n.d(t,"setFridayCampaignModalCloseTime",function(){return r})},function(e,t,n){"use strict";n.r(t),n.d(t,"isShownFridayCampaignModal",function(){return o});var r=n(0);function o(e,t,n){if(!(5===(new Date).getDay()))return!1;var o=Object(r.get)(e,"fridayCampaignModalCloseTime");return"number"!=typeof o||Date.now()-o>864e5}},function(e,t,n){"use strict";n.r(t);t.default=function(){return{env:"",baseURL:"",_csrf:"",displayNumberPerWidth:6,logger:null,version:null,isAutoPurchaseDisabled:!0,isLinkPayDisabled:!0,targetDatetime:null}}},function(e,t,n){"use strict";n.r(t);n(19);var r=n(31),o=(n(37),n(9),n(45),n(21),n(22),n(99),n(13),n(33),n(122),n(11)),c=n(2),l=n(126),d=(n(119),n(67),n(68),n(46),n(208),n(102),n(127)),f=n(128),h=n(374),m=n(375),v=n.n(m),_=function(){function e(){Object(d.a)(this,e),this.db=null,this.prefix=["ebj"],this.isMS=/msie|trident|edge/i.test(navigator.userAgent)}return Object(f.a)(e,[{key:"initialize",value:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.db=new h.a(this.prefix.concat(t).join("_")),this.db.version(1).stores({books:"code, kana, folder_code, volume, bought, updated",titles:"id, kana, *folders, str_folders, bought, updated, genre, *keywords, str_keywords"}),e.next=4,this.db.open();case 4:return e.abrupt("return",this.countBooks());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"destroyDB",value:function(e){return this.db=new h.a(this.prefix.concat(e).join("_")),this.db.delete()}},{key:"clearDB",value:function(){return Promise.all([this.db.books.clear(),this.db.titles.clear()])}},{key:"countBooks",value:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.books.count());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"countBooksWithOpt",value:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0!==t.folder,o=t.keyword?this._tohankaku(t.keyword):null,!r){e.next=8;break}return e.next=5,this.db.books.where("folder_code").equals(t.folder).toArray();case 5:n=e.sent,e.next=28;break;case 8:if(!o){e.next=25;break}if(c=new RegExp("\\w*(".concat(o,"){1}\\w*")),!this.isMS){e.next=16;break}return e.next=13,this.db.titles.toCollection().filter(function(title){return c.test(title.str_keywords)}).toArray;case 13:e.t0=e.sent,e.next=19;break;case 16:return e.next=18,this.db.titles.where("keywords").startsWith(o).toArray();case 18:e.t0=e.sent;case 19:return l=e.t0,e.next=22,this.db.books.where("volume").startsWithAnyOf(l.map(function(title){return title.id})).toArray();case 22:n=e.sent,e.next=28;break;case 25:return e.next=27,this.db.books.toArray();case 27:n=e.sent;case 28:return n=this.booksFilter(n,t.status,t.genres),e.abrupt("return",n.length);case 30:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"booksFilter",value:function(e,t,n){return 0!==t&&(e=e.filter(function(e){return(t&e.status)===e.status})),n.length>0&&(e=e.filter(function(e){return n.includes(e.unification_middle_genre.id)})),e}},{key:"getBooks",value:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r,o,l,d,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._resolveSort(t.sort),r=t.keyword?this._tohankaku(t.keyword):null,o=0!==t.folder,!this.isMS&&(r||o)){e.next=13;break}return l=this.db.titles.orderBy(n.key),n.asc||l.reverse(),r&&(l=l.filter(function(title){return new RegExp("\\w*(".concat(r,"){1}\\w*")).test(title.str_keywords)})),o&&(l=l.filter(function(title){return title.str_folders.split("_").includes(t.folder.toString())})),e.next=10,l.offset(t.offset).limit(t.limit).toArray();case 10:d=e.sent,e.next=21;break;case 13:if(r&&(l=this.db.titles.where("keywords").startsWith(r)),o&&(l=this.db.titles.where("folders").equals(t.folder)),l){e.next=17;break}throw new Error("Can't get titleCollection");case 17:return n.asc||(l=l.reverse()),e.next=20,l.sortBy(n.key).then(function(e){return e.slice(t.offset,t.offset+t.limit)});case 20:d=e.sent;case 21:return e.abrupt("return",Promise.all(d.map(function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(title){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.db.books.where("volume").startsWith(title.id),0!==t.folder&&(r=r.filter(function(e){return t.folder===e.folder_code})),n.asc||(r=r.reverse()),e.next=5,r.sortBy(n.key);case 5:return title.books=e.sent,e.abrupt("return",title);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getFourTitles",value:function(e,t){var n=this;return t=this._resolveSort(t),Promise.all(e.map(function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(r){var o,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isMS){e.next=8;break}return o=n.db.titles.orderBy(t.key),t.asc||(o=o.reverse()),e.next=5,o.filter(function(title){return title.str_folders.split("_").includes(r.toString())}).limit(4).toArray();case 5:l=e.sent,e.next=13;break;case 8:return o=n.db.titles.where("folders").equals(r),t.asc||(o=o.reverse()),e.next=12,o.sortBy(t.key).then(function(e){return e.slice(0,4)});case 12:l=e.sent;case 13:return e.next=15,Promise.all(l.map(function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(title){var o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.db.books.where("volume").startsWith(title.id),t.asc||(o=o.reverse()),o=o.filter(function(e){return e.folder_code===r}),e.next=5,o.sortBy(t.key).then(function(e){return e.length>0?e[0].image_file_name:""});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 15:return d=e.sent,e.abrupt("return",{imgs:d,folder:r});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}},{key:"getLastBought",value:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.books.orderBy("bought").reverse().first();case 2:return t=e.sent,e.abrupt("return",t?t.bought_datetime:null);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"putBooks",value:function(e){var t=this;return e=e.filter(function(e){return e.title&&e.kana&&e.bought_datetime}).map(function(e){e.reading_condition=e.reading_condition||{},e.reading_condition.updated_datetime=e.reading_condition.updated_datetime||v()("%FT%T%:z",new Date("1970-01-01"));var t="00".concat(e.volume_sort_no).substr(-3);return e.volume="".concat(e.title.id,"_").concat(t),e.bought="".concat(e.bought_datetime,"_").concat(e.kana),e.updated="".concat(e.reading_condition.updated_datetime,"_").concat(e.kana),e.status=e.reading_condition.reading_position?2:e.reading_condition.end_reading?1:4,e.genre=e.unification_middle_genre.id,e}),this.db.books.bulkPut(e).then(function(){var n=Object(c.a)(regeneratorRuntime.mark(function n(r){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._putTitles(e);case 2:return n.abrupt("return",r);case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())}},{key:"updateBooks",value:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(data){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(data&&!(data.length<0)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all(data.map(function(e){switch(e.type){case"moved":return n.moveBooks(e.book_cds,e.folder_cd);case"deleted":return n.deleteBooks(e.book_cds).then(function(){return"done"});case"reading":return n.updateReadingCondition(e.book_cds[0],e.reading_condition)}})).then(function(e){return e.filter(function(e){return"done"!==e}).reduce(function(e,t){return e=e.concat(t)},[])});case 4:return t=e.sent,e.abrupt("return",t.length>0?t:"done");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateReadingCondition",value:function(code,e){var t=this;return this.db.books.where("code").equals(code).first().then(function(){var n=Object(c.a)(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",code);case 2:return o=e.updated_datetime?e.updated_datetime:v()("%FT%T%:z"),n.next=5,t.db.books.update(r.code,{reading_condition:e,updated:"".concat(o,"_")+"00".concat(r.volume_sort_no).substr(-3),status:e.end_reading?1:2});case 5:return n.next=7,t.db.titles.where("id").equals(r.title.id).first().then(function(title){o>title.updated_datetime&&t.db.titles.update(title.id,{updated_datetime:o,updated:"".concat(o,"_").concat(r.title.kana)})});case 7:return n.abrupt("return","done");case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())}},{key:"moveBooks",value:function(e,t){var n=this,r=[];return this.db.books.where("code").anyOf(e).toArray().then(function(o){if(o.length<=0)return r=e,[];var l=o.reduce(function(e,t){return e=e.concat(t.code)},[]);return r=e.filter(function(code){return!l.includes(code)}),Promise.all(o.map(function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.folder_code!==t){e.next=2;break}return e.abrupt("return",r.title.id);case 2:return e.next=4,n.db.books.update(r.code,{folder_code:t});case 4:return e.abrupt("return",r.title.id);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))}).then(function(e){return n.db.books.where("volume").startsWithAnyOf(Object(o.a)(new Set(e))).toArray().then(function(e){return e.reduce(function(e,t){var n=e[t.title.id]||[0];return e[t.title.id]=Object(o.a)(new Set(n.concat(t.folder_code))),e},{})})}).then(function(e){return Promise.all(Object.keys(e).map(function(t){return n.db.titles.update(t,{folders:e[t],str_folders:e[t].join("_")})}))}).then(function(){return r.length>0?r:"done"})}},{key:"deleteBooks",value:function(e){var t=this;if(!(e.length<=0))return this.db.books.where("code").anyOf(e).toArray(function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length<=0)){e.next=2;break}return e.abrupt("return",[]);case 2:return r=n.map(function(e){return e.code}),o=n.map(function(e){return e.title.id}),e.next=6,t.db.books.bulkDelete(r);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(function(e){return Promise.all(e.map(function(e){t.db.books.where("volume").startsWith(e).toArray().then(function(n){if(0===n.length)return t.db.titles.delete(e);var title=n.reduce(function(e,t){e.folders=e.folders||[0],e.folders=Object(o.a)(new Set(e.folders.concat(t.folder_code)));var n=e.updated_datetime&&e.updated_datetime>t.reading_condition.updated_datetime?e.updated_datetime:t.reading_condition.updated_datetime,r=e.bought_datetime&&e.bought_datetime>t.bought_datetime?e.bought_datetime:t.bought_datetime;return e.updated_datetime=n,e.bought_datetime=r,e.updated="".concat(n,"_").concat(t.title.kana),e.bought="".concat(r,"_").concat(t.title.kana),e},{});return title.str_folders=title.folders.join("_"),t.db.titles.update(e,title)})}))})}},{key:"deleteFolder",value:function(e){var t=this;if(!(e.length<=0))return this.db.books.where("folder_code").anyOf(e).toArray().then(function(e){t.moveBooks(e.map(function(e){return e.code}),0)})}},{key:"_putTitles",value:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r,c=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.titles.where("id").anyOf(Object(o.a)(new Set(t.map(function(e){return e.title.id})))).toArray().then(function(e){return e.reduce(function(e,title){return e[title.id]=title,e},{})});case 2:return n=e.sent,r=t.reduce(function(e,t){var n=t.reading_condition.updated_datetime,r="".concat(n,"_").concat(t.title.kana),l=t.bought_datetime,d="".concat(l,"_").concat(t.title.kana),f="".concat(t.title.id);if(e.hasOwnProperty(f))e[f].folders=Object(o.a)(new Set(e[f].folders.concat([t.folder_code,0]))),e[f].str_folders=e[f].folders.join("_"),e[f].bought_datetime=l>=e[f].bought_datetime?l:e[f].bought_datetime,e[f].bought=l>=e[f].bought_datetime?d:e[f].bought,e[f].updated_datetime=n>=e[f].updated_datetime?n:e[f].updated_datetime,e[f].updated=n>=e[f].updated_datetime?r:e[f].updated;else{var h=t.authors.reduce(function(e,t){return e=e.concat([c._tohankaku(t.name).toLowerCase(),t.kana.toLowerCase()])},[]),m=Object(o.a)(new Set([t.folder_code,0])),v=[c._tohankaku(t.title.name).toLowerCase(),t.title.kana.toLowerCase()].concat(h);e[f]={id:t.title.id,name:t.title.name,kana:t.title.kana,genre:t.unification_middle_genre.id,authors:t.authors,bought_datetime:l,bought:d,updated_datetime:n,updated:r,folders:m,str_folders:m.join("_"),keywords:v,str_keywords:v.join("_")}}return e},n),e.next=6,this.db.titles.bulkPut(Object.values(r));case 6:return e.abrupt("return","done");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_resolveSort",value:function(e){/^[+-]{1}\w+/i.test(e)||(e="-bought");return{asc:"+"===e.substr(0,1),key:e.substr(1).toLowerCase()}}},{key:"_tohankaku",value:function(e){for(var t,n="あ".charCodeAt(0),r="ゖ".charCodeAt(0),o="ア".charCodeAt(0),c="",i=0,l=e.length;i<l;i++)c+=(t=e.charCodeAt(i))>=65313&&t<=65338?String.fromCharCode(t-65313+"A".charCodeAt(0)):t>=65345&&t<=65370?String.fromCharCode(t-65345+"a".charCodeAt(0)):t>=65296&&t<=65305?String.fromCharCode(t-65296+"0".charCodeAt(0)):t>=n&&t<=r?String.fromCharCode(t-n+o):String.fromCharCode(t);return c.replace(/\s+/g," ").toLowerCase()}}]),e}(),y=n(190),k=n.n(y);n.d(t,"initialize",function(){return w}),n.d(t,"destroy",function(){return j}),n.d(t,"connect",function(){return x}),n.d(t,"setDB",function(){return C}),n.d(t,"createFolder",function(){return E}),n.d(t,"deleteFolder",function(){return P}),n.d(t,"renameFolder",function(){return S}),n.d(t,"moveFolder",function(){return I}),n.d(t,"changeFolder",function(){return A}),n.d(t,"moveBooks",function(){return M}),n.d(t,"deleteBooks",function(){return D}),n.d(t,"openBook",function(){return B}),n.d(t,"setSort",function(){return N}),n.d(t,"setInitData2",function(){return L}),n.d(t,"getApiBooks",function(){return F}),n.d(t,"execDownload",function(){return Y}),n.d(t,"pickDummy",function(){return H}),n.d(t,"recordDownload",function(){return K}),n.d(t,"resume",function(){return z}),n.d(t,"syncDB",function(){return J}),n.d(t,"confirmDB",function(){return X}),n.d(t,"getDBBooks",function(){return ee}),n.d(t,"countDBBooks",function(){return ne}),n.d(t,"searchBooks",function(){return ae}),n.d(t,"fixBucket",function(){return oe}),n.d(t,"getFolders",function(){return ie}),n.d(t,"getDBFolderIcons",function(){return se}),n.d(t,"updateReadingCondition",function(){return ce}),n.d(t,"setFilter",function(){return ue});var O="br2_config";function w(e){var t=e.state,n=(e.dispatch,e.rootState);t.Api=new l.a("/brapi",n._csrf),t.BM=new _}function j(e,t){var n=e.state,r=t.token;return sessionStorage.clear(),localStorage.removeItem("".concat(O,"_").concat(r)),n.BM.destroyDB(r)}function x(e){var t=e.state,n=e.rootState;t.Api||(t.Api=new l.a("/brapi",n._csrf));var r=localStorage.getItem("br2_envid");return r&&"undefined"!==r&&"null"!==r||(r=""),new Promise(function(e,n){t.Api.connect(r).then(function(t){localStorage.setItem("br2_envid",t.envid),e(t)}).catch(function(e){n(e)})})}function C(e,t){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,data,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,o=t.commit,c=t.dispatch,l=n.token,d=n.version,f=localStorage.getItem("".concat(O,"_").concat(l)),(data=f?JSON.parse(f):r.config).version!==d&&((data=r.config).version=d),data.token!==l&&(data.token=l),o("initConfig",data),e.next=9,r.BM.initialize(l);case 9:return h=e.sent,c("getFolders"),e.abrupt("return",c("setInitData2",h));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e,t){var n=e.dispatch;e.state.Api.createFolder(t).then(function(e){n("getFolders")}).catch(function(e){return console.error(e),Promise.reject(e)})}function P(e,t){return R.apply(this,arguments)}function R(){return(R=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.state,c=t.dispatch,n=[].concat(n),l=n.map(function(code){return o.Api.deleteFolder(code)}),e.prev=3,e.next=6,Promise.all(l);case 6:return e.next=8,o.BM.deleteFolder(n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:return e.prev=13,e.next=16,c("getFolders");case 16:return r("cancelAction"),n.includes(o.current.folder)&&(r("setCurrentFolder",0),c("countDBBooks"),c("getDBBooks")),e.finish(13);case 19:case"end":return e.stop()}},e,null,[[3,10,13,19]])}))).apply(this,arguments)}function S(e,t){var n=e.dispatch,r=e.state,code=r.current.folder;r.Api.renameFolder(code,t).then(function(e){n("getFolders")}).catch(function(e){return Promise.reject(e)})}function I(e,t){var n=e.state,r=e.dispatch,code=t.code,o=t.to;n.Api.moveFolder(code,o).then(function(e){r("getFolders")}).catch(function(e){return Promise.reject(e)})}function A(e,t){var n=e.state,r=e.commit,o=e.dispatch;n.current.action=null,r("setCurrentFolder",t),o("countDBBooks"),o("getDBBooks")}function M(e,t){var n=e.state,r=e.commit,o=e.dispatch,c=t.books,l=t.folder;0===l||c.length<=0||n.BM.moveBooks(c,l).then(function(){r("clearCheckedItem"),n.Api.moveBooks(c,l).then(function(e){o("getFolders"),n.current.modal.show&&r("closeModal")}),0!==n.current.folder&&(o("fixBucket",c),r("setCurrentTotal",n.current.total-c.length))}).catch(function(e){return Promise.reject(e)})}function D(e,t){var n=e.state,r=e.commit,o=e.dispatch;if(t.length<=0)return null;n.BM.deleteBooks(t).then(function(){n.Api.deleteBooks(t).then(function(e){o("getFolders")}),o("fixBucket",t),r("setCurrentTotal",n.current.total-t.length)}).catch(function(e){return Promise.reject(e)})}function B(e,t){var n=e.state,r=(e.dispatch,e.rootState),o=t.type,code=t.code,c=t.date;return new Promise(function(e,t){"purchased"===o&&n.Api.getBooks2([code],0).then(function(e){n.BM.putBooks(e.data)}),n.Api.getReadingSession(o,code,c,"/brapi",r._csrf).then(function(t){e({code:t.code,session:t.session,reflow:t.reflow,extDrmUrl:t.extDrmUrl})}).catch(function(e){console.error(e),t(e)})})}function N(e,t){e.state;var n=e.commit,r=e.dispatch;n("setSort",t),r("getDBBooks"),setTimeout(function(){r("getDBFolderIcons")},5e3)}function L(e,t){return $.apply(this,arguments)}function $(){return($=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var r,l,d,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,l=t.dispatch,d=t.commit,f="1"===sessionStorage.getItem("keepAlive_".concat(r.config.token)),e.abrupt("return",r.Api.getCountOfBooks().then(function(e){return d("setTotalOfBooks",e),0===n?(f=!1,h=Object(o.a)(Array(Math.ceil(r.config.total/r.Api.notify))).map(function(e,t){return t}),l("execDownload",h).then(function(){return!1})):r.config.resume?l("resume").then(function(){return!1}):l("syncDB",f)}).then(function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("resume");case 2:return e.abrupt("return",l("confirmDB",t));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t||d("reloadBucket"),l("getDBBooks"),l("countDBBooks");case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return console.error("failed to get data from server"),d("setDownloadRate",{done:r.download.total,total:r.download.total}),Promise.reject(e)}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e,t){return U.apply(this,arguments)}function U(){return(U=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,d,f,h,m,v,_,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,o=t.dispatch,c=t.commit,l=n.codes,d=n.page,f=n.modified,e.prev=2,e.next=5,r.Api.getBooks2(l,d,f);case 5:if(m=e.sent,h=m.type,v=m.done,_=m.total,data=m.data,"loading"!==h){e.next=13;break}return o("pickDummy",data),c("setDownloadRate",{done:v,total:_}),e.next=13,r.BM.putBooks(data);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("get books fail. param: %o",n),console.error(e.t0);case 19:return e.abrupt("return",{type:h,page:n.page});case 20:case"end":return e.stop()}},e,null,[[2,15]])}))).apply(this,arguments)}function Y(e,t){return G.apply(this,arguments)}function G(){return(G=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var r,o,l,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,o=t.dispatch,l=d.length>2&&void 0!==d[2]?d[2]:null,e.abrupt("return",k()(n,r.Api.linkMax).reduce(function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,Promise.all(n.map(function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("getApiBooks",{page:t,modified:l});case 2:return n=e.sent,e.abrupt("return",o("recordDownload",n,l));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:return e.next=6,o("getDBBooks");case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve()));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(e,data){var t=e.state,n=e.commit,r=data.filter(function(e){return!e.title||!/^B\d+/.test(e.code)}).map(function(e){return e.code});n("setConfigDummy",Object(o.a)(new Set(r.concat(t.config.dummy))))}function K(e,t,n){return W.apply(this,arguments)}function W(){return(W=Object(c.a)(regeneratorRuntime.mark(function e(t,param,n){var r,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,c=t.commit,n||"loading"!==param.type||((l=r.config.download.concat(param.page)).sort(function(a,b){return a-b}),c("setConfigDownload",Object(o.a)(new Set(l))));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(e){return V.apply(this,arguments)}function V(){return(V=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=t.dispatch,c=Object(o.a)(Array(Math.ceil(n.config.total/n.Api.notify))).map(function(e,t){return t}).filter(function(e){return!n.config.download.includes(e)}),e.abrupt("return",c.length>0?r("execDownload",c):null);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function J(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var r,c,l,d,f,data,h,m,v,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,c=t.commit,l=t.dispatch,e.next=3,r.Api.sync(r.config.syncId);case 3:if(d=e.sent,f=d.syncId,data=d.data,h=r.config.syncId!==f,c("setSyncId",f),!(h&&data.length>0)){e.next=20;break}return m=[],v=[],_=[],data.forEach(function(e){switch(e.type){case"registered":case"ope_registered":case"reverted":v=v.concat(e.book_cds);break;case"moved":case"deleted_books":case"reading_condition":var t=e.book_cds.filter(function(e){return!v.includes(e)});t.length>0&&(e.book_cds=t,e.type=e.type.replace(/_\w+/,""),_.push(e))}}),_.length>0&&m.push(r.BM.updateBooks(_).then(function(e){"done"!==e&&v.concat(e)})),v.length>0&&(v=Object(o.a)(new Set(v)),m.push(k()(k()(v,r.Api.notify),r.Api.linkMax).map(function(e){return l("getApiBooks",{codes:e})}))),e.next=17,Promise.all(m);case 17:return e.next=19,l("syncDB",!1);case 19:n=e.sent;case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function X(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(c.a)(regeneratorRuntime.mark(function e(t,n){var c,l,d,f,h,m,v,_,y,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.state,l=t.commit,d=t.dispatch,e.next=3,Promise.all([c.Api.getCountOfBooks(),c.BM.countBooks()]);case 3:if(f=e.sent,h=Object(r.a)(f,2),m=h[0],v=h[1],!(m>v)){e.next=18;break}return n=!1,e.next=11,c.BM.getLastBought();case 11:return y=e.sent,k=Object(o.a)(Array(Math.ceil(Math.abs(m-v)/c.Api.notify))).map(function(e,t){return t}),e.next=15,d("execDownload",k,y);case 15:_=m,e.next=19;break;case 18:_=v;case 19:return l("setInitDataFinish"),l("setTotalOfBooks",_),e.abrupt("return",n);case 22:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=t.commit,o={keyword:n.current.search.show?n.current.search.query:null,folder:n.current.folder,sort:n.config.sort,offset:n.bucket.load,limit:n.limit},c=n.bucket,e.next=5,n.BM.getBooks(o);case 5:return(l=e.sent).length>0&&(c.load+=l.length,c=l.reduce(function(e,title){return e.titles[title.id]={name:title.name,codes:[],count:0,authors:title.authors,browseable:title.books.length>1||title.books.some(function(e){return e.is_read_browser}),status:{1:title.books.filter(function(e){return(1&e.status)===e.status}).length,2:title.books.filter(function(e){return(2&e.status)===e.status}).length,4:title.books.filter(function(e){return(4&e.status)===e.status}).length}},title.books.forEach(function(t){e.titles[title.id].codes.push(t.code),e.titles[title.id].count++,e.data[t.code]=t,e.books=e.books.concat({code:t.code,genre:title.genre,title:title.id,status:t.status})}),e},c)),r("setBooks",c),e.abrupt("return","done");case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(c.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=t.commit,o={keyword:n.current.search.show?n.current.search.query:null,folder:n.current.folder,status:n.current.filter.status,genres:n.current.filter.genres},e.next=4,n.BM.countBooksWithOpt(o);case 4:c=e.sent,r("setCurrentTotal",c);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e,t){var n=e.state,r=e.commit,o=e.dispatch;n.current.search.show||r("openSearch"),t||r("closeSearch"),r("setSearchQuery",t),o("getDBBooks"),o("countDBBooks")}function oe(e,t){var n=e.state,r=e.commit,o=n.bucket,c=o.load,l=o.books.reduce(function(e,n){return t.includes(n.code)?e.removed=e.removed.concat(n):e.books=e.books.concat(n),e},{books:[],removed:[]}),d=l.books;if(l.removed.forEach(function(e){var title=o.titles[e.title];title.codes=title.codes.filter(function(code){return code!==e.code}),title.count--,0===title.count?delete o.titles[e.title]:(1===title.count&&(title.browseable=o.data[title.codes[0]].is_read_browser),o.titles[e.title]=title)}),o.titles.hasOwnProperty(n.current.title.id)||r("cancelSelectedTitle"),0!==n.current.folder||"remove"===n.current.action){var f=Object.keys(o.titles);c-=Object.keys(o.titles).filter(function(e){return!f.includes(e)}).length}r("setBooks",{data:o.data,total:o.total,books:d,titles:o.titles,load:c}),r("cancelAction")}function ie(e){var t=e.state,n=e.commit,r=e.dispatch;t.Api.getFolders().then(function(e){n("setFolders",e),t.config.total<=0||r("getDBFolderIcons")}).catch(function(e){console.error(e),n("setFolders",[])})}function se(e){var t=e.state,n=e.commit,r=t.folders.list.reduce(function(e,t){return t.books>0&&(e=e.concat(t.code)),e},[]);t.BM.getFourTitles(r,t.config.sort).then(function(e){var data=e.reduce(function(e,t){return e[t.folder]=t.imgs,e},{});n("setFolderIcons",data)})}function ce(e,t){var n=e.state,code=t.code,r=t.condititon;n.BM.updateReadingCondition(code,r)}function ue(e,filter){var t=e.commit,n=e.dispatch;t("setFilter",filter),n("countDBBooks")}},,,function(e,t,n){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"header__sitelogo"},[t("nuxt-link",{staticClass:"sprite-ebook",attrs:{to:"/"}},[this._v("ebookjapan")])],1)},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var r=function(){var e=this.$createElement;this._self._c;return this._m(0)},o=[function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"header__shortcut-item"},[t("a",{attrs:{href:"https://www.yahoo.co.jp/"}},[t("i",{staticClass:"sprite-y"},[this._v("Yahoo! JAPAN")])])])}];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"header__shortcut-item"},[t("nuxt-link",{attrs:{to:"/bookshelf"}},[t("i",{staticClass:"icon font-shelf"},[this._v("本棚")])])],1)},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var r=function(){var e=this.$createElement;return(this._self._c||e)("li",{staticClass:"dropdown__item"},[this._t("default")],2)},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var r=function(){var e=this.$createElement;return(this._self._c||e)("li",{staticClass:"line-list__item"},[this._t("default")],2)},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";n(60);var r={props:{items:{type:Array,required:!0},cols:{type:Number,default:3},disp:{type:String,default:"grid"}},computed:{rows:function(){return Math.ceil(this.items.length/this.cols)||1}},methods:{slice:function(e){var t=this.cols*(e-1);return this.items.slice(t,t+this.cols)}}},o=n(3),component=Object(o.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item-container"},e._l(e.rows,function(t){return n("div",{staticClass:"item-container__row",class:{"item-container__row--disp-grid":"grid"===e.disp,"item-container__row--disp-list":"list"===e.disp}},[n("div",{staticClass:"item-container__row-gutter"},[n("ul",{staticClass:"item-container__items"},e._l(e.slice(t),function(r,o){return n("li",{staticClass:"item-container__item"},[n("div",{staticClass:"item-container__item-inner"},[n("div",{staticClass:"item-container__item-gutter"},[e._t("default",null,{item:r,index:o+(t-1)*e.cols})],2)])])}),0)])])}),0)},[],!1,null,null,null);t.a=component.exports},function(e,t,n){"use strict";var r=n(5);t.a={methods:{sortCoupons:function(e){if(Array.isArray(e))return e.sort(function(a,b){if(a.calc_usable_period_end_datetime<b.calc_usable_period_end_datetime)return-1;if(a.calc_usable_period_end_datetime>b.calc_usable_period_end_datetime)return 1;if(a.amount_unit!==b.amount_unit){if("percent"===a.amount_unit)return-1;if("percent"===b.amount_unit)return 1}return a.disp_coupon_name<b.disp_coupon_name?-1:a.disp_coupon_name>b.disp_coupon_name?1:0})},expirationDate:function(e){return e.calc_usable_period_end_datetime?"".concat(this.formatDate(e.calc_usable_period_end_datetime)," まで有効"):e.expire_days?"".concat(e.expire_days,"日間有効"):e.usable_period_end_datetime?"".concat(this.formatDate(e.usable_period_end_datetime)," まで有効"):""},formatDate:function(e){var t=Object(r.a)(e);return e&&t.isValid()?t.format("YYYY/MM/DD HH:mm"):"----/--/-- --:--"},amountSuffix:function(e){return"yen"===e?"円":"percent"===e?"%":""},isExpireNear:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(),n=Object(r.a)(e);if(!e||!n.isValid())return!1;var o=n.clone().subtract(7,"days");return t.isBetween(o,n,"days",[])}}}},,function(e,t,n){"use strict";n(9);var r=n(2);t.a={props:{folderAllBooks:{type:Object,default:function(){return{code:0,name:"購入した本"}}}},methods:{changeFolder:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$data.isUpdateFolderMode){e.next=2;break}return e.abrupt("return");case 2:return this.$data.selected=n,this.$store.commit("bookshelf/updateHistories",{before:"folders",param:t.code,after:"books"}),e.next=6,this.$store.dispatch("bookshelf/changeFolder",t.code);case 6:window.scroll(0,0);case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),addFolder:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$store.dispatch("bookshelf/createFolder",t),e.abrupt("return",!0);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteFolder:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(code){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$store.dispatch("bookshelf/deleteFolder",code);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}}},function(e,t,n){"use strict";t.a={data:function(){return{scrollY:0,height:0}},beforeMount:function(){window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),window.addEventListener("load",this.onLoad)},methods:{onScroll:function(){this.scrollY=window.pageYOffset},onResize:function(){this.height=document.documentElement.clientHeight},onLoad:function(){this.onScroll(),this.onResize()}},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("load",this.onLoad)}}},,,function(e,t,n){"use strict";n(21),n(22),n(13);var r=n(6),o=n(7),c=n(0),l=n(1);t.a={computed:Object(r.a)({},Object(o.e)("settings",["regularTpointRate"])),methods:{price:function(e){var t=this.nonTaxedPrice(e);return"number"==typeof t?Object(l.a)(t):void 0},nonTaxedPrice:function(e){var t=Object(c.get)(e,"price");return this.isBrowserFree(e)||"number"!=typeof t?void 0:t},point:function(e){var t=this.price(e),n=this.regularTpointRate||0;return t?parseInt(t*n):0},campaignPoint:function(e,t){var n=this,r=t,o=this.point(e),c=0;return r.forEach(function(t){switch(t.pointRule){case Object(l.p)("POINT.RULE_TYPE.DOUBLE"):c+=t.pointRulePoint*o;break;case Object(l.p)("POINT.RULE_TYPE.PERCENT"):var r=n.normalPrice(e);c+=r?Math.floor(r*t.pointRulePoint/100):0;break;case Object(l.p)("POINT.RULE_TYPE.ADD"):case Object(l.p)("POINT.RULE_TYPE.GIVE"):c+=t.pointRulePoint}}),c+o},priceType:function(e){return Object(c.get)(e,"price_type",Object(l.p)("GOODS.PRICE_TYPE.NORMAL"))},normalPrice:function(e){var t=Object(c.get)(e,"price_normal_goods");if(!this.isBrowserFree(e)&&"number"==typeof t)return Object(l.a)(t)},bookCd:function(e){return Object(c.get)(e,"book_cd","")},isBrowserFree:function(e){return this.isFree(e)&&1===Object(c.get)(e,"is_browser_special_free")},isFree:function(e){var t=this.priceType(e);return[Object(l.p)("GOODS.PRICE_TYPE.FREE"),Object(l.p)("GOODS.PRICE_TYPE.CAMPAIGN_FREE")].includes(t)}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(38),o={name:"bookshelf-expand-item-pc",props:{title:{type:String,default:void 0},titleIcon:{type:String,default:"arrow-down"},itemClass:{type:String},bodyClass:{type:String}},data:function(){return{showBody:!0}},methods:{openExpandBody:function(){this.$data.showBody=!this.$data.showBody},doBody:function(){this.$emit("body-clicked")}},components:{fontIcon:r.a}},c=n(3),component=Object(c.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"expand__item",class:e.itemClass},[e.title?n("p",{staticClass:"expand__title",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openExpandBody(t)}}},[n("span",[n("font-icon",{attrs:{name:e.titleIcon,icon:!0}}),e._v(e._s(e.title))],1)]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showBody,expression:"showBody"}],staticClass:"expand__body",class:e.bodyClass,on:{click:function(t){return t.preventDefault(),e.doBody(t)}}},[e._t("body")],2)])},[],!1,null,null,null);t.a=component.exports},,,function(e,t){e.exports={top:{href:"/",title:"まんが（漫画）・電子書籍トップ",parent:""},genre:{href:"/genre/#genre_id#",title:"#genre_name#",parent:"top"},sale:{href:"/sale/",title:"お得・割引・セール一覧",parent:"top"},sale_genre:{href:"/sale/?genre=#genre_id#",title:"お得・割引・セール一覧（#genre_name#）",parent:"top"},sale_campaign_detail:{href:"/sale/#campaign_id#/",title:"#campaign_name#",parent:"sale"},free:{href:"/free/",title:"無料・試し読みまんが（漫画）・電子書籍コーナー",parent:"top"},search_free:{href:"/search?keyword=&sort=recent&product=free",title:"今すぐ読める！無料まんが・本一覧",parent:"free"},search_free_genre:{href:"/search?keyword=&sort=recent&product=free&genres=#genre_id#",title:"今すぐ読める！無料まんが・本一覧（人気の#genre_name#）",parent:"free"},free_campaign:{href:"/free/special/",title:"無料キャンペーン一覧",parent:"free"},free_campaign_genre:{href:"/free/special/?genre=#genre_id#",title:"無料キャンペーン一覧（#genre_name#）",parent:"free"},free_campaign_detail:{href:"/free/#campaign_id#/",title:"#campaign_name#",parent:"free_campaign"},ranking_free:{href:"/ranking/free/",title:"人気無料まんがランキング：#start_rank#位〜#end_rank#位",parent:"free"},ranking_free_genre:{href:"/ranking/free?genre=#genre_id#",title:"【最新・毎日更新】無料#genre_name#人気ランキング：#start_rank#位〜#end_rank#位",parent:"free"},ranking_dayly:{href:"/ranking/",title:"【最新・毎日更新】まんが・電子書籍総合人気ランキング：#start_rank#位〜#end_rank#位",parent:"top"},ranking_dayly_genre:{href:"/ranking/?genre=#genre_id#",title:"【最新・毎日更新】#genre_name#人気ランキング：#start_rank#位〜#end_rank#位",parent:"top"},ranking_weekly:{href:"/ranking/weekly/",title:"【週間】まんが・電子書籍総合人気ランキング：#start_rank#位〜#end_rank#位",parent:"top"},ranking_weekly_genre:{href:"/ranking/weekly/?genre=#genre_id#",title:"【週間】#genre_name#人気ランキング：#start_rank#位〜#end_rank#位",parent:"top"},ranking_monthly:{href:"/ranking/monthly/",title:"【月間】まんが・電子書籍総合人気ランキング：#start_rank#位〜#end_rank#位",parent:"top"},ranking_monthly_genre:{href:"/ranking/monthly/?genre=#genre_id#",title:"【月間】#genre_name#人気ランキング：#start_rank#位〜#end_rank#位",parent:"top"},lists_genre_title:{href:"/lists/genres/#genre_id#/",title:"#genre_name#",parent:"top"},lists_publisher_title:{href:"/lists/publishers/#publisher_id#/",title:"#publisher_name#",parent:"lists_genre_title"},lists_labels_title:{href:"/lists/labels/#label_id#/",title:"#label_name#",parent:"lists_publisher_title"},lists_author_title:{href:"/lists/authors/#author_id#/",title:"#author_name#",parent:"lists_publisher_title"},title:{href:"/books/#title_id#/",title:"#title_name#",parent:"lists_labels_title"},title_nolabel:{href:"/books/#title_id#/",title:"#title_name#",parent:"lists_author_title"},book:{href:"/books/#title_id#/#publication_cd#/",title:"#book_name#",parent:"title"},book_nolabel:{href:"/books/#title_id#/#publication_cd#/",title:"#book_name#",parent:"title_nolabel"},recent:{href:"/search/recent/",title:"新刊一覧",parent:"top"},schedule:{href:"/schedule/",title:"まんが新刊発売予定一覧",parent:"recent"},schedule_genre:{href:"/schedule/?genres=#genre_id#",title:"新刊発売予定一覧（#genre_name#）",parent:"recent"},lists:{href:"/lists/",title:"作品一覧",parent:"top"},search:{href:"/search/?keyword=",title:"検索結果",parent:"lists"},search_keyword:{href:"/search/?keyword=#keyword#",title:"#keyword#の検索結果",parent:"lists"},lists_author:{href:"/lists/author/#author_id#/",title:"#author_name#の作品一覧",parent:"lists"},lists_publisher:{href:"/lists/publisher/#pubkisher_id#/",title:"#publisher_name#の作品一覧",parent:"lists"},lists_labels:{href:"/lists/labels/#label_id#/",title:"#label_name#の作品一覧",parent:"lists"},lists_tag:{href:"/lists/tag/#tag_id#/",title:"#tag_name#の作品一覧",parent:"lists"},lists_genre:{href:"/lists/genre/#genre_id#/",title:"#genre_name#の作品一覧",parent:"lists"}}},function(e,t){e.exports={results:50,dealer_id:0,service_id:1,filter:{genres:[{id:["T2"],label:"少女・女性まんが",sub:["M3","M4"]},{id:["T1"],label:"少年・青年まんが",sub:["M1","M2"]},{id:["T5"],label:"TL・レディコミ",sub:["M10","M11","M12"]},{id:["T4"],label:"ボーイズラブ(BL)",sub:["M7","M8","M9"]},{id:["T6"],label:"ハーレクイン",sub:["M13","M14"]},{id:["T7"],label:"ライトノベル",sub:["M15"]},{id:["T8"],label:"文芸・ビジネス",sub:["M16","M17","M18","M19","M20"]},{id:["T3"],label:"まんが雑誌",sub:["M5","M6"]},{id:["T9","T10"],label:"雑誌・写真集",sub:["M21","M22","M23","M24","M25","M26","M27","M28","M29","M30","M43"]},{id:["T13"],label:"ビジネス・実用",sub:["M38","M39","M40","M41","M42"]},{id:["T11"],label:"キッズ",sub:["M31","M32","M33"]},{id:["T12"],label:"アダルト",sub:["M34","M35","M36","M37"]}]},maxDisplay:{ranking:100},ranking:{types:[{value:"charge",label:"有料作品"},{value:"free",label:"無料まんが"}],terms:[{value:"recent",label:"前日"},{value:"weekly",label:"週間"},{value:"monthly",label:"月間"}]},bookshelf:{filters:[{label:"ステータス",subitems:[{label:"未読",value:"no-read"},{label:"読書中",value:"reading"},{label:"終了",value:"read-end"}]},{label:"ジャンル",subitems:[{label:"少女・女性まんが",value:""},{label:"少年・青年まんが",value:""},{label:"TL・レディコミ",value:""},{label:"ボーイズラブ(BL)",value:""},{label:"ハーレクイン",value:""},{label:"まんが雑誌",value:""},{label:"ライトノベル(ラノベ)",value:""},{label:"文芸",value:""},{label:"キッズ",value:""},{label:"ビジネス・実用",value:""},{label:"雑誌・写真集",value:""},{label:"アダルト",value:""}]}]},lists:{enableFiltersMenuMap:{keyword:["genres","product","publisher","tags","useTitle"],genre:["product","publisher","tags","useTitle"],tag:["genres","product","publisher","useTitle"]},filters:[{label:"ジャンル",value:"genres"},{label:"商品情報",value:"product",subitems:[{label:"無料あり",value:"free"},{label:"完結",value:"completed"},{label:"ポイントアップ",value:"pointup"},{label:"割引",value:"sale"}]},{label:"出版社",value:"publisher"},{label:"タグ",value:"tags"}],ckeckboxFilters:[{label:"同一タイトルでまとめる",value:"useTitle",checked:!1}],sorts:[{value:"rank",label:"人気順"},{value:"recent",label:"新着順"},{value:"price",label:"安い順"}]},editableModule:{top:{framePosition:{hero:"10001",editable:"60001",newPublication:{unisex:"10003",man:"10004",woman:"10005"},allFree:"10007",special:"10002"}},free:{framePosition:{hero:"12201",editable:"62201",newPublication:{unisex:"12202",man:"12202",woman:"12202"},allFree:"12203"}},genre:{framePosition:{newPublication:{mens:[{name:"青年まんが",id:"10102"},{name:"少年まんが",id:"10103"}],womens:[{name:"女性まんが",id:"10202"},{name:"少女まんが",id:"10203"}],bl:[{name:"ボーイズラブコミック",id:"10302"},{name:"ボーイズラブ小説",id:"10303"},{name:"ボーイズラブ雑誌",id:"10304"}],tl:[{name:"ティーンズラブコミック",id:"10402"},{name:"ティーンズラブ小説",id:"10403"},{name:"レディースコミック",id:"10404"}],harlequin:[{name:"ハーレクインコミック",id:"10502"},{name:"ハーレクイン小説",id:"10503"}],"light-novel":[{name:"ライトノベル",id:"10602"}],"novel-and-business":[{name:"文芸",id:"10802"},{name:"ビジネス",id:"10803"},{name:"趣味・実用",id:"10804"},{name:"学術・学芸",id:"10805"},{name:"写真集",id:"10806"},{name:"絵本",id:"10807"},{name:"児童文学",id:"10808"},{name:"学習・参考書",id:"10809"}],"comic-magazine":[{name:"男性まんが誌",id:"10702"},{name:"女性まんが誌",id:"10703"}],"photo-magazine":[{name:"雑誌",id:"10902"},{name:"グラビア",id:"10903"}],adult:[{name:"アダルトコミック",id:"11002"},{name:"アダルト写真集",id:"11003"},{name:"官能小説",id:"11004"},{name:"アダルト雑誌",id:"11005"}]},editable:{mens:"60101",womens:"60201",bl:"60301",tl:"60401",harlequin:"60501","light-novel":"60601","novel-and-business":"60801","comic-magazine":"60701","photo-magazine":"60901",adult:"61001"}}}},url:{cdn:"https://cache2-br-ebookjapan.akamaized.net",image:{book:"https://cache2-ebookjapan.akamaized.net/contents/thumb/s/",spine:"https://cache2-ebookjapan.akamaized.net/contents/images-b/",series:"https://cache2-ebookjapan.akamaized.net/contents/story/kanban/",heroes:"https://ebookjapan-campaign.east.edge.storage-yahoo.jp/ebook-banner/hero/",campaign:"https://ebookjapan-campaign.east.edge.storage-yahoo.jp/ebook-campaign/",special:"https://ebookjapan-campaign.east.edge.storage-yahoo.jp/ebook-campaign/",noImage:{common:"https://s.yimg.jp/images/bookstore/update/assets/no_image.svg",adult:"https://s.yimg.jp/images/bookstore/update/assets/adult_image.png",campaign:"https://s.yimg.jp/images/bookstore/update/assets/no_campaign_image.jpg"},labelImage:"https://s.yimg.jp/images/bookstore/ebook/web/label/"},br:"/viewer/",faq:"https://faq.ebookjapan.jp/faq/",static:{coupon:"https://ebookjapan.yahoo.co.jp/info/coupon/",tpoint:"https://ebookjapan.yahoo.co.jp/info/limited/",settlement:"https://ebookjapan.yahoo.co.jp/info/settlement/",notice:"https://ebookjapan.yahoo.co.jp/info/notice/",autopurchase:"https://ebookjapan.yahoo.co.jp/info/autopurchase/"}},unificationTopGenres:[{name:"womens",value:"T2",label:"少女・女性まんが"},{name:"mens",value:"T1",label:"少年・青年まんが"},{name:"tl",value:"T5",label:"TL・レディコミ"},{name:"bl",value:"T4",label:"BL（ボーイズラブ）"},{name:"harlequin",value:"T6",label:"ハーレクイン"},{name:"light-novel",value:"T7",label:"ライトノベル（ラノベ）"},{name:"novel-and-business",value:"T8,T13,T11",label:"文芸・ビジネス・実用"},{name:"comic-magazine",value:"T3",label:"まんが雑誌"},{name:"photo-magazine",value:"T9,T10",label:"雑誌・グラビア"},{name:"adult",value:"T12",label:"アダルト"}],famousAuthors:[{name:"永井豪",authorId:"259"},{name:"横山光輝",authorId:"1837"},{name:"手塚治虫",authorId:"209"},{name:"ちばてつや",authorId:"245"},{name:"竹宮惠子",authorId:"12486"},{name:"萩尾望都",authorId:"2867"},{name:"さいとう・たかを",authorId:"18"}],mypage:{autoDelivery:{sort:[{label:"登録順",value:"date",default:!0}]}},sale:{sorts:[{label:"お得順",name:"discount",value:"-discount_level",default:!0},{label:"新着順",name:"new",value:"-open_start_datetime"},{label:"終了日が近い順",name:"close",value:"+open_end_datetime"}]},free:{special:{sorts:[{label:"新着順",name:"new",value:"-open_start_datetime",default:!0},{label:"終了日が近い順",name:"close",value:"+open_end_datetime"}]}},freeBooks:{sorts:[{label:"人気順",name:"rank",value:"+rank",default:!0},{label:"新着順",name:"new",value:"-free_sale_start_datetime"}]},taxRate:.08,premium:{orderUrl:"https://premium.yahoo.co.jp/",routeCode:{top:{pc:"C1ebj001",sp:"C1ebj002"},second:{pc:"C1ebj003",sp:"C1ebj004"},detail:{pc:"C1ebj005",sp:"C1ebj006"},premiumLP:{pc:"C1ebj007",sp:"C1ebj008"},firstMonthLP:{pc:"C1ebj009",sp:"C1ebj010"}}},cookie:{key:{adultCheckVerification:"ebaf",dealerid:"ebdid",safeMode:"ebsm"}},contentsNav:{pagesConfigSp:[{name:"index",isFixed:!1,hasContents:!0},{name:"free",isFixed:!1,hasContents:!0},{name:"sale",isFixed:!1,hasContents:!0},{name:"search-recent",isFixed:!1,hasContents:!0},{name:"ranking",isFixed:!1,hasContents:!0},{name:"books-title",isFixed:!0,hasContents:!1},{name:"books-title-book",isFixed:!0,hasContents:!1},{name:"free-books",isFixed:!1,hasContents:!1}],contents:[{label:"トップ",name:"index",to:"/",icon:"home"},{label:"無料まんが",name:"free",to:"/free/",icon:"free"},{label:"セール",name:"sale",to:"/sale/",icon:"sale"},{label:"新刊",name:"search-recent",to:"/search/recent/",icon:"new"},{label:"ランキング",name:"ranking",to:"/ranking/",icon:"ranking"}]},hamburgerMenu:{navigation:[{label:"トップ",value:"top",to:"/",icon:"home"},{label:"本棚",value:"bookshelf",to:"/bookshelf/",icon:"shelf"},{label:"カゴ",value:"cart",to:"/cart/",icon:"bag"},{label:"続刊",value:"arrival-alerts",to:"/mypage/arrival-alerts/",icon:"zokkan"},{label:"無料まんが",value:"free",to:"/free/",icon:"free"},{label:"セール",value:"sale",to:"/sale/",icon:"sale"},{label:"新刊",value:"recent",to:"/search/recent/",icon:"new"},{label:"ランキング",value:"ranking",to:"/ranking/",icon:"ranking"}],menuSection:[{label:"購入履歴",value:"purchase-list",to:"/mypage/purchase-list/"},{label:"あとで買うリスト",value:"later",to:"/cart/#laterContents"},{label:"クーポン",value:"coupon",to:"/mypage/coupon/"}]},cartLimit:400,laterLimit:1500,lockTime:{base:5e3,order:6e4},regularCampaignId:{friday:{staging:20,development:16},fiveDay:{staging:18,development:18},firstMonth:{201903:{production:53,preview:2,staging:87,development:2},201904:{production:1366,preview:2,staging:87,development:2},201905:{production:1367,preview:2,staging:87,development:2},201906:{production:1368,preview:2,staging:87,development:2}},oneHundredMillion:{production:1160,preview:1160,staging:153,development:122}},comicMiddleGenres:["M1","M2","M3","M4","M5","M6","M7","M10","M12","M13","M34"],genreTop:[{name:"womens",title:"少女・女性向けまんが",id:"T2",banner:10201,frame:"f02",hasFree:!0},{name:"mens",title:"少年・青年向けまんが",id:"T1",banner:10101,frame:"f01",hasFree:!0},{name:"tl",title:"TL・レディコミ",id:"T5",banner:10401,frame:"f04",hasFree:!0},{name:"bl",title:"BL（ボーイズラブ）",id:"T4",banner:10301,frame:"f03",hasFree:!0},{name:"harlequin",title:"ハーレクイン",id:"T6",banner:10501,frame:"f05",hasFree:!1},{name:"light-novel",title:"ライトノベル（ラノベ）",id:"T7",banner:10601,frame:"f06",hasFree:!1},{name:"comic-magazine",title:"まんが雑誌",id:"T3",banner:10701,frame:"f07",hasFree:!1},{name:"novel-and-business",title:"文芸・ビジネス・実用",id:"T8,T13",banner:10801,frame:"f08",hasFree:!1},{name:"photo-magazine",title:"雑誌・グラビア",id:"T9,T10",banner:10901,frame:"f09",hasFree:!1},{name:"adult",title:"アダルト",id:"T12",banner:11001,frame:"f10",hasFree:!1}],approach:{base:"https://approach.yahoo.co.jp/r/FzqVnF",src:"http://ebookjapan.yahoo.co.jp/app/launcher/",types:["store_parent_detail","store_child_detail","free_volume_child_detail","ticket_detail","series_detail","ticket_top","series_top","free_volume_top","store_top","bookshelf_top","mypage_top","notification_list"]},bundleCoupon:{redirectUrl:"https://www.ebookjapan.jp/ebj/external/begin",redirectInternal:"/ebj/guide/bundle/rd/"},tileContents:{displayNumber:{desktop:{default:8,top:10},mobile:{default:6}}},redirect:{types:["web","app"]},searchRecommend:{keywords:["コーヒー&バニラ","キングダム","賭ケグルイ","ハクメイとミコチ","メタモルフォーゼの縁側","ブルーピリオド","彼方のアストラ","ミステリと言う勿れ","抱かれたい男1位に脅されています。"]}}},function(e,t){e.exports={ERROR:{ORDER:{TestIdError:"テストIDでは購入できません",OneYenOrderError:"「１円」での購入はできません",OrderInProgressError:"時間をおいてから再度お試しください",InvalidRequestError:"購入処理を完了できませんでした",InvalidOrderIdError:"購入処理を完了できませんでした",AlreadyOrderedProductError:"既に購入済の本は購入できません",DuplicateOrderProductError:"同じ本は複数購入できません",ProductIllegalStateError:"この本は購入できません",TpointInsufficientFundsError:"ポイントが不足しています",TpointInvalidUserError:"ポイントはご利用になれません",CouponNotFoundError:"このクーポンはご利用になれません",CouponDiscountMismatchError:"購入処理を完了できませんでした。",CouponOrderFloorError:"このクーポンはご利用になれません",RewardTpointMismatchError:"購入処理を完了できませんでした",InvalidPaymentAmountError:"購入処理を完了できませんでした",TpointMaintenanceError:"現在ポイントはご利用になれません",InvalidCampaignError:"購入処理を完了できませんでした",NullPointerException:"このカードは利用できません",CreditCardLockedAbuserError:"現在ご購入いただけません",PaymentError:{PexMaintenanceError:"現在Yahoo!ウォレットはご利用になれません",PexCreditCardInsufficientFundsError:"このクレジットカードはご利用になれません",SbpsMaintenanceError:"現在クレジットカードではご購入できません",SbpsInsufficientFundsCreditCardError:"このクレジットカードはご利用になれません",SbpsInvalidCreditCardError:"このクレジットカードはご利用になれません",SbpsInvalidInputCreditCardError:"クレジットカード情報を正しくご入力ください",TpointUseTimeOutError:"現在ポイントはご利用になれません",TpointMaintenanceError:"現在ポイントはご利用になれません",TpointInsufficientFundsError:"ポイントが不足しています",TpointUseUpperLimitError:"現在ポイントはご利用になれません",CouponNotFoundError:"ご利用になれません"}},VIEWER:{Default:"エラーが発生したため前のページに戻ります",NotReadableError:"この作品はブラウザでは読めません。アプリでお楽しみください"},AUTO_PURCHASE:{RegisterError:"新刊自動購入の登録に失敗しました",UnregisterError:"自動購入の登録の解除に失敗しました",ActivateError:"新刊自動購入の再開に失敗しました",DeactivateError:"新刊自動購入の一時停止に失敗しました",NotRegisteredDefaultPayment:"お支払い方法が未登録です。後ほどお支払い方法設定機能でクレジットカード情報を登録してください。\nクレジットカード情報が登録されるまで新刊自動購入は行われません。",OutOfService:"現在、新刊自動購入は停止中です。対象作品を追加登録すると、新刊自動購入が開始されます。"},CART:{DuplicateOrderProductError:"セットに含まれる本が買い物カゴに入っています。ご確認の上、削除してください",OrderInProgressError:"時間をおいてから再度お試しください",FetchError:"本の取得に失敗しました。時間をおいてから再度お試しください",MoveError:"本の移動に失敗しました。時間をおいてから再度お試しください",AddError:"本の追加に失敗しました。時間をおいてから再度お試しください",DeleteError:"本の削除に失敗しました。時間をおいてから再度お試しください"}}}},function(e,t){e.exports={TEST_USER_TYPE:{PUBLIC:0,DEVELOPER:1,MEMBER:2},RATING_TYPE:{NONE:null,HIGH:0,MIDDLE:1,LOW:2},BOOKS:{SET_TYPE:{SET_PUB:0,PUB:1},PRODUCTS:{BROWSER_READER_TYPE:{BROWSER_READER:1},IS_BROWSER_READER_CONVERT:{EXIST:0,NOT_EXIST:1}}},GOODS:{PRICE_TYPE:{NORMAL:1,SALE:2,FREE:3,CAMPAIGN_FREE:4},IS_BOOK_DISPLAY:{DISPLAY:1,NOT_DISPLAY:2}},POINT:{RULE_TYPE:{DOUBLE:1,PERCENT:2,ADD:3,GIVE:4},POINT_TYPE:{NORMAL:1,LIMITED:2}},PAYMENT_AGENT_TYPE:{SBPS:1,WALLET:2},RANK_TERM_TYPE:{RECENT:0,WEEKLY:1,MONTHLY:2},DEVICE_CD:{WINDOWS:1,MAC:2,IPHONE:3,IPAD:4,ANDROID:5,OTHER:6},PAYMENT_ORDER:{ORDER_TYPE:{WEB:1,ONE_CLICK:4,AUTO_PURCHASE:5},PAYMENT_ID:{CREDIT:{NOTHING:"3000000",JCB:"3000006",VISA:"3000007",MASTER:"3000008",AMEX:"3000009",DINERS:"3000010",OTHERS:"3000011",PEX:"3000012"},LINKED:{SOFTBANK:"3000015",DOCOMO:"3000016",AU:"3000017",WEBMONEY:"3000018",BITCASH:"3000019",YMOBILE:"3000020"},OTHER:{TPOINT:"3000013",COUPON:"3000014"}},GOODS_TYPE:{PUBLICATION:"30",SET_PARENT:"31",SET_CHILD:"32"}},CAMPAIGN_POINT:{MEMBER_TYPE:{ALL:0,REGULAR:1,PREMIUM:2},SMART_LOGIN_TYPE:{ALL:0,REGULAR:1,SMART_LOGIN:2}},USER_GENDER_TYPE:{MAN:0,WOMAN:1,OTHER:9},REVIEW:{REVIEWER_TYPE:{CELEBRITY:1,STAFF:2,USER:3},MIGRATION_TYPE:{EBJ:0,OLD_EBJ:1,BOOKLOG:2}},MEMBER_PAYMENT_CONFIGURE:{IS_AUTO_PURCHASE:{ON:1,OFF:0},IS_AUTO_PURCHASE_SKIP_CONFIRM:{ON:1,OFF:0}},ORDER_TYPE:{NORMAL:"NORMAL",ONE_CLICK:"ONE_CLICK"},ORDER_SET_TYPE:{SET:0,PUBLICATION:1},PAY_METHODS:{DOCOMO:"docomo",AU:"auone",SOFTBANK:"softbank2",YMOBILE:"ymobile",WEBMONEY:"webmoney",BITCASH:"bitcash"},SAFE_MODE:{ON:"l",OFF:"o"},COUPON:{COUPON_PUBLISH_TYPE:{NORMAL:1,FIRST:2,SPECIAL:3}},CAMPAIGN:{TYPE:{FREE:"1",DISCOUNT:"2"},LAYOUT_TYPE:{NONE:"0",FULL_SCRATCH:"1",PINK:"2",ORANGE:"3",BLUE:"4",LIGHT_BLUE:"5",BLACK:"6",GREEN:"7",RED:"8"},GROUP_LAYOUT_TYPE:{LIST:"1",GRID:"2"}},CART:{PUBLICATION_TYPE:{PUBLICATION:0,SET_PUBLICATION:1},BASKET_TYPE:{BASKET:0,LATER:1}},READ_TYPE:{TRIAL:"trial",PURCHASED:"purchased",FREE:"free",RENTAL:"rental",SERIAL:"serial_story"},BOOK_TYPE:{NORMAL:0,TRIAL:1,NORMAL_WITH_GIFT:2,TRIAL_INCREASE:3},BROWSE_TYPE:{NO_TRIAL:0,TRIAL:1,TRIAL_ONLY:2},SIGNBOARD_TYPE:{TITLE:"1",AUTHOR:"2",PUBLISHER:"3",MAGAZINE:"4",TAG:"5"}}},function(e,t){e.exports={freeMagazines:[{titleText:"毎週更新！『キン肉マン』連載中！",linkUrl:"/lists/labels/43178/?sort=recent",imageUrl:"https://ebookjapan-campaign.east.edge.storage-yahoo.jp/ebook-banner/kanban/labels43178_328.jpg",imageAlt:"週プレ",startDatetime:"2019-02-26 10:00"},{titleText:"毎週更新！　充実ラインアップをお届け",linkUrl:"/lists/labels/43177/?sort=recent",imageUrl:"https://ebookjapan-campaign.east.edge.storage-yahoo.jp/ebook-banner/kanban/labels43177_328.jpg",imageAlt:"ネクストF",startDatetime:"2019-02-26 10:00"},{titleText:"毎日更新！　人気7タイトルが連載中！",linkUrl:"/lists/labels/43179/?sort=price",imageUrl:"https://ebookjapan-campaign.east.edge.storage-yahoo.jp/ebook-banner/kanban/labels43179_328.jpg",imageAlt:"ハーレクイン",startDatetime:"2019-02-26 10:00"},{titleText:"毎月28日更新！「Wings」のネット版姉妹誌",linkUrl:"/lists/labels/43183/?sort=recent",imageUrl:"https://ebookjapan-campaign.east.edge.storage-yahoo.jp/ebook-banner/kanban/labels43183_328.jpg",imageAlt:"FLASHウィングス",startDatetime:"2019-02-28 10:00"},{titleText:"毎月28日更新！　エッセイ・コミックが充実",linkUrl:"/lists/labels/43184/?sort=recent",imageUrl:"https://ebookjapan-campaign.east.edge.storage-yahoo.jp/ebook-banner/kanban/labels43184_328.jpg",imageAlt:"ウンポコWEB",startDatetime:"2019-02-28 10:00"}]}},function(e,t){e.exports={premium:{pc:"ebj_prem_entry_1_pc,ebj_prem_entry_2_pc",sp:"ebj_prem_entry_1_sp,ebj_prem_entry_2_sp"},firstMonth:"ebj_prem1st_entry_1_pc",oneHundredMillion:"ebj_prem_100million_2_pc",premiumJoinCampaign:{common:{pc:"ebj_common_2_pc",sp:"ebj_common_2_sp"},top:{pc:"ebj_top_2_pc",sp:"ebj_top_2_sp"},cart:{pc:"ebj_cart_1_pc",sp:"ebj_cart_1_sp"}},campaignModal:{pc:"ebj_common_3_pc",sp:"ebj_common_3_sp"},header:{common:{pc:"ebj_ebj_prem_pc",sp:"ebj_ebj_prem_sp"}}}},function(e,t){e.exports={click:{common:{search:{recommendKeywords:{sec:"srchrec",slk:"keyword"}}},book:{laterActions:{sec:"maincov",slk:{laterBtn:"laterbtn",laterLink:"laterlin"}}}}}},,,,function(e,t){e.exports=[{title:"総合TOP",reg_str:"^/",spaceid_pc:"2080508529",spaceid_sp:"2080508588"},{title:"作品詳細",reg_str:"^/books/\\d{6}",spaceid_pc:"2080508720",spaceid_sp:"2080508723"},{title:"書誌詳細",reg_str:"^/books/(?:\\d{6}|undefined)/[A-Z\\d]{10}",spaceid_pc:"2080508719",spaceid_sp:"2080508722"},{title:"無料TOP",reg_str:"^/free",spaceid_pc:"2080508531",spaceid_sp:"2080508590"},{title:"無料特集一覧",reg_str:"^/free/special",spaceid_pc:"2080508532",spaceid_sp:"2080508591"},{title:"無料特集一覧（終了）",reg_str:"^/free/special/closed",spaceid_pc:"2080508533",spaceid_sp:"2080508592"},{title:"無料特集詳細",reg_str:"^/free/special/.....",spaceid_pc:"2080508534",spaceid_sp:"2080508593"},{title:"ジャンルTOP　少年・青年まんが",reg_str:"^/genre/mens",spaceid_pc:"2080508536",spaceid_sp:"2080508595"},{title:"ジャンルTOP　少女・女性まんが",reg_str:"^/genre/womens",spaceid_pc:"2080508537",spaceid_sp:"2080508596"},{title:"ジャンルTOP　BL（ボーイズラブ）",reg_str:"^/genre/bl",spaceid_pc:"2080508538",spaceid_sp:"2080508597"},{title:"ジャンルTOP　ＴＬ・レディコミ",reg_str:"^/genre/tl",spaceid_pc:"2080508539",spaceid_sp:"2080508598"},{title:"ジャンルTOP　ハーレクイン",reg_str:"^/genre/harlequin",spaceid_pc:"2080508540",spaceid_sp:"2080508599"},{title:"ジャンルTOP　ライトノベル(ラノベ)",reg_str:"^/genre/light-novel",spaceid_pc:"2080508541",spaceid_sp:"2080508600"},{title:"ジャンルTOP　まんが雑誌",reg_str:"^/genre/comic-magazine",spaceid_pc:"2080508542",spaceid_sp:"2080508601"},{title:"ジャンルTOP　雑誌・写真集",reg_str:"^/genre/photo-magazine",spaceid_pc:"2080508543",spaceid_sp:"2080508602"},{title:"ジャンルTOP　アダルト",reg_str:"^/genre/adult",spaceid_pc:"2080508544",spaceid_sp:"2080508603"},{title:"検索結果",reg_str:"^/search/?keyword=",spaceid_pc:"2080508545",spaceid_sp:"2080508604"},{title:"新着一覧",reg_str:"^/search/recent",spaceid_pc:"2080508546",spaceid_sp:"2080508605"},{title:"発売予定作品一覧",reg_str:"^/schedule",spaceid_pc:"2080508547",spaceid_sp:"2080508606"},{title:"著者別作品一覧",reg_str:"^/lists/authors/[1-9][0-9]*",spaceid_pc:"2080508549",spaceid_sp:"2080508608"},{title:"連載誌・レーベル別作品一覧",reg_str:"^/lists/labels/[1-9][0-9]*",spaceid_pc:"2080508550",spaceid_sp:"2080508609"},{title:"出版社別作品一覧",reg_str:"^/lists/publishers/[1-9][0-9]*",spaceid_pc:"2080508551",spaceid_sp:"2080508610"},{title:"タグ別作品一覧",reg_str:"^/lists/tags/[1-9][0-9]*",spaceid_pc:"2080508552",spaceid_sp:"2080508611"},{title:"ジャンル別作品一覧",reg_str:"^/lists/genres/(?:M[0-9]*|mens|womens|bl|tl|harlequin|light-novel|novel-and-business|comic-magazine|photo-magazine|adult)",spaceid_pc:"2080508553",spaceid_sp:"2080508612"},{title:"有料ランキング",reg_str:"^/ranking",spaceid_pc:"2080508555",spaceid_sp:"2080508614"},{title:"無料ランキング",reg_str:"^/ranking/free",spaceid_pc:"2080508556",spaceid_sp:"2080508615"},{title:"割引特集一覧",reg_str:"^/sale",spaceid_pc:"2080508557",spaceid_sp:"2080508616"},{title:"割引特集一覧（終了）",reg_str:"^/sale/special/closed",spaceid_pc:"2080508559",spaceid_sp:"2080508618"},{title:"割引特集詳細",reg_str:"^/sale/special/.....",spaceid_pc:"2080508560",spaceid_sp:"2080508619"},{title:"マイページ　トップ",reg_str:"^/mypage",spaceid_pc:"2080508562",spaceid_sp:"2080508621"},{title:"マイページ　メール、決済情報の設定",reg_str:"^/mypage/accounts",spaceid_pc:"2080508563",spaceid_sp:"2080508622"},{title:"マイページ　クーポン管理",reg_str:"^/mypage/coupon",spaceid_pc:"2080508564",spaceid_sp:"2080508623"},{title:"マイページ　発売通知リスト",reg_str:"^/mypage/arrival-alerts",spaceid_pc:"2080508565",spaceid_sp:"2080508624"},{title:"マイページ　発売通知作品リスト",reg_str:"^/mypage/arrival-alerts?tab=registeredTitles",spaceid_pc:"2080508566",spaceid_sp:"2080508625"},{title:"マイページ　購入履歴",reg_str:"^/mypage/purchase-list",spaceid_pc:"2080508567",spaceid_sp:"2080508626"},{title:"マイページ　削除した本",reg_str:"^/mypage/restore",spaceid_pc:"2080508568",spaceid_sp:"2080508627"},{title:"本棚",reg_str:"^/bookshelf",spaceid_pc:"2080508569",spaceid_sp:"2080508628"},{title:"ビューワー　試し読み",reg_str:"^/viewer?.....",spaceid_pc:"2080508572",spaceid_sp:"2080508631"},{title:"ビューワー　無料読み",reg_str:"^/viewer?.....",spaceid_pc:"2080508573",spaceid_sp:"2080508632"},{title:"ビューワー　購入読み",reg_str:"^/viewer?.....",spaceid_pc:"2080508574",spaceid_sp:"2080508633"},{title:"ビューワー最終　試し読み後",reg_str:"^/viewerlast/book",spaceid_pc:"2080508576",spaceid_sp:"2080508635"},{title:"ビューワー最終　無料読み後",reg_str:"^/viewerlast/book",spaceid_pc:"2080508577",spaceid_sp:"2080508636"},{title:"ビューワー最終　購入読み後",reg_str:"^/viewerlast/book",spaceid_pc:"2080508578",spaceid_sp:"2080508637"},{title:"買い物かご",reg_str:"^/cart",spaceid_pc:"2080508579",spaceid_sp:"2080508638"},{title:"購入手続き",reg_str:"^/cart/confirm",spaceid_pc:"2080508580",spaceid_sp:"2080508639"},{title:"購入完了",reg_str:"^/cart/complete",spaceid_pc:"2080508581",spaceid_sp:"2080508640"},{title:"プレミアム",reg_str:"^/premium",spaceid_pc:"2080509568",spaceid_sp:"2080509570"},{title:"初月ポイント倍増",reg_str:"^/premium/1stmonth",spaceid_pc:"2080509569",spaceid_sp:"2080509571"},{title:"アダルトゲートウェイ",reg_str:"",spaceid_pc:"2080508582",spaceid_sp:"2080508641"},{title:"サービスの紹介（プレミアムだとお得説明）",reg_str:"",spaceid_pc:"2080508583",spaceid_sp:"2080508642"},{title:"お知らせ一覧",reg_str:"",spaceid_pc:"2080508584",spaceid_sp:"2080508643"},{title:"お知らせ詳細",reg_str:"",spaceid_pc:"2080508584",spaceid_sp:"2080508643"},{title:"お問い合わせ（入力、確認、完了）",reg_str:"",spaceid_pc:"2080508585",spaceid_sp:"2080508644"},{title:"FAQ",reg_str:"",spaceid_pc:"2080508586",spaceid_sp:"2080508645"},{title:"特定商取引法の表示",reg_str:"^/settlement",spaceid_pc:"2080508587",spaceid_sp:"2080508646"},{title:"商品概要・動作環境・注意事項",reg_str:"^/.....",spaceid_pc:"2080508587",spaceid_sp:"2080508646"},{title:"ebookjapanについて",reg_str:"^/about",spaceid_pc:"2080508587",spaceid_sp:"2080508646"}]},function(e,t,n){"use strict";var r=n(502),o=n(174),c=n(3),component=Object(c.a)(o.default,r.a,r.b,!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";var r=n(503),o=n(176),c=n(3),component=Object(c.a)(o.default,r.a,r.b,!1,null,null,null);t.default=component.exports},function(e,t,n){"use strict";var r=n(501),o=n(181),c=n(3),component=Object(c.a)(o.default,r.a,r.b,!1,null,null,null);t.default=component.exports},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAADf0lEQVR4Ae2c0XEaMRCGNxm/Ox0YVwAd+PKg59BBUoJLMB2QDuIO4FkPgQoMFWA6CBWQuZu9CXOeJAat9P/H7TfD+MXcIn2sOOlW+nA8HsXB8dH7HosLAOMCwLgAMC4AjAsA4wLAuAAwLgCMCwDjAsDc9OWDhhBGIjLV10REbjv/chCRjYgs6leM8RX0Uc+CfjFOO/5JRL6e+dbn+n3sIqiHoBBC3fG7Czpf9D07vQYtlBkQQvikQ8mD0SXX9dAVY/xldD0z6ARo569EZGx86a2IVGwSGIegHJ0ves1VhusmQSUghDDP1PktY41BA80QFEKoRORnoXCfY4wU2cCUASW/mTRZQCEghPAt89DTZawx4bBkAKIzKATAfwN0prsDhb9Hz5QZMmA60NgNDAKqgcZuYBAwGWjsBgYBdwON3eAPZMC4ADAuAIwLAOMCwDAIOABj74GxGxgEbICx4Q/shy4AGbth6ALgD2UYBCA7wQXocvAWEHrLUCHBchuK+Cb+AMR8A4sAxDPaBSDmGygE6DC0LhhyyVIzyjQTLlnD6VURXbROp0QWrFlqgoRwLeixQAyKaogWKgExxnpS9j1jiBnbfgHW8vRNhkKteuiBP4TvwrocXRlPzrbg8pe/QilAZ6hTIwmU+wJaaB/I6FhdJd4ZLZk7X/qwSU/+FO8+nVHCUj9oeYwxUsx2/0WvjixTEVPNjO421b2uKS360PEtfmYcGH8oD8YFgHEBYKjOitDNGqOTkvX27+iCIt79SdXD6uTvK9NyBOxHWDdkV1qeXhnuin8vaxWyQd41FRWgnd6eePKlWOD3sTw5aaXYxK2IgIQTT1AUO2klqwD9xs971PFdnnVGnS0jsgkIIUx0jO3OWPvGQdeTshSQZbkN1SWDlyvofNE2vOTa2G2eAVf0ze+SJRNyZMD8CjtftE3m1RSmAjRNS9/Pl+TBeiiyzoASVQ1oTNtoJkDH/pInnqAYa1tNsMwAqnqbzJi11VIAZdVBJszaaiJAUxK+7b8gd1bDkFUG0BU8FcCkzS7gclwAGA4ButR8jTPf/3GrbU/CIgOSP0SPoRAwxOGnJbntngFp+BAEhkIA/OA7IMlttxAwxDugluS2e2VcIlp4cDEuAIyFgFmveyCNWWrJiu8PAONDEBgXAMYFgHEBYFwAGBcAxgWAcQFgXAAYFwDGBSARkd+rlP+jN0fSnwAAAABJRU5ErkJggg=="},,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(1019)},,,function(e,t,n){var map={"./init.js":662,"./member.js":664};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=661},function(e,t,n){"use strict";n.r(t);n(9);var r=n(2),o=n(111),c=n.n(o);n(0);function l(){return(l=Object(r.a)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=navigator.userAgent,t.userAgent=c.a.parse(n),t.store.commit("user/setIsMobile",t.userAgent.isMobile&&!t.userAgent.isTablet),t.userAgent.isiPad||t.userAgent.isiPhone?t.userAgent.isYJApp=/jp\.co\.yahoo\.ipn\.appli/.test(n):t.userAgent.isAndroid?t.userAgent.isYJApp=/jp\.co\.yahoo\.android\.yjtop/.test(n):t.userAgent.isYJApp=!1,e.next=17;break;case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.default=function(e){return l.apply(this,arguments)}},,function(e,t,n){"use strict";n.r(t);n(9);var r=n(2);function o(){return(o=Object(r.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=4;break;case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),t.app.$logger.warn.bind({fileName:"middleware/member.js",line:7})(e.t0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}t.default=function(e){return o.apply(this,arguments)}},function(e,t,n){"use strict";var r=n(167);n.n(r).a},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,".title[data-v-8513e8ce]{color:#999;font-size:35px;margin:20px auto 15px}.info[data-v-8513e8ce],.title[data-v-8513e8ce]{font-weight:400}.info[data-v-8513e8ce]{color:#555;font-size:15px;line-height:1.7;margin:15px auto}",""])},function(e,t,n){"use strict";var r=n(168);n.n(r).a},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,".nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}",""])},function(e,t,n){"use strict";var r=n(169);n.n(r).a},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,".webview{text-align:center}.webview .container{max-width:950px}.webview .container .header{padding-bottom:0}.webview .container .header__sitelogo{padding:30px 0 25px}.webview .container .header__sitelogo .sprite-ebook{background-image:url(/_nuxt/img/sprite.49cd0dd.png);background-size:158px 128px;height:45px;margin:0 auto;width:158px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.webview .container .header__sitelogo .sprite-ebook{background-image:url(/_nuxt/img/sprite@2x.32eaeff.png)}}.webview .container .footer{background-color:transparent;background-color:initial;margin-bottom:30px;padding:0;text-align:left}",""])},,,,,,,function(e,t,n){e.exports=n.p+"img/1f65f01.svg"},function(e,t,n){"use strict";var r=n(178);n.n(r).a},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,".side-menu[data-v-0fd755d0]{display:block}.show-aside-btn[data-v-0fd755d0]{position:static!important}.aside-dummy[data-v-0fd755d0]{position:absolute;top:0}.aside[data-v-0fd755d0]{position:absolute;height:calc(100vh - 120px);max-height:100vh;overflow-y:scroll}",""])},function(e,t,n){"use strict";var r=n(179);n.n(r).a},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,".loading{position:absolute;top:50%;left:50%}",""])},function(e,t,n){"use strict";var r=n(180);n.n(r).a},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,'.header-notice__item span[data-v-5b801f68]{color:"#555"}',""])},function(e,t,n){e.exports=n.p+"img/1f65f01.svg"},function(e,t,n){"use strict";var r=n(185);n.n(r).a},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,"input[type=search][data-v-6f367024]::-webkit-search-cancel-button,input[type=search][data-v-6f367024]::-webkit-search-decoration,input[type=search][data-v-6f367024]::-webkit-search-results-button,input[type=search][data-v-6f367024]::-webkit-search-results-decoration{display:none}",""])},function(e,t,n){"use strict";var r=n(186);n.n(r).a},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,".opacity-valid[data-v-11ea3817]{transition:opacity .5s ease-in;opacity:1}.opacity-invalid[data-v-11ea3817]{transition:none;opacity:0}",""])},function(e,t,n){"use strict";var r=n(187);n.n(r).a},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,".loading{position:absolute;top:50%;left:50%}",""])},function(e,t,n){var map={"./actions.js":242,"./index.js":692,"./modules/banner/actions.js":477,"./modules/banner/getters.js":479,"./modules/banner/index.js":475,"./modules/banner/mutations.js":478,"./modules/banner/state.js":476,"./modules/books/book/actions.js":248,"./modules/books/book/getters.js":250,"./modules/books/book/index.js":246,"./modules/books/book/mutations.js":249,"./modules/books/book/state.js":247,"./modules/books/index.js":245,"./modules/books/title/actions.js":253,"./modules/books/title/getters.js":255,"./modules/books/title/index.js":251,"./modules/books/title/mutations.js":254,"./modules/books/title/state.js":252,"./modules/bookshelf/actions.js":496,"./modules/bookshelf/getters.js":373,"./modules/bookshelf/index.js":371,"./modules/bookshelf/mutations.js":376,"./modules/bookshelf/state.js":372,"./modules/bundle/actions.js":473,"./modules/bundle/getters.js":474,"./modules/bundle/index.js":470,"./modules/bundle/mutations.js":472,"./modules/bundle/state.js":471,"./modules/campaign/actions.js":438,"./modules/campaign/entry/actions.js":443,"./modules/campaign/entry/getters.js":445,"./modules/campaign/entry/index.js":441,"./modules/campaign/entry/mutations.js":444,"./modules/campaign/entry/state.js":442,"./modules/campaign/getters.js":440,"./modules/campaign/index.js":437,"./modules/campaign/mutations.js":439,"./modules/campaign/state.js":125,"./modules/cart/actions.js":263,"./modules/cart/complete/actions.js":273,"./modules/cart/complete/getters.js":275,"./modules/cart/complete/index.js":271,"./modules/cart/complete/mutations.js":274,"./modules/cart/complete/state.js":272,"./modules/cart/confirm/actions.js":268,"./modules/cart/confirm/getters.js":270,"./modules/cart/confirm/index.js":266,"./modules/cart/confirm/mutations.js":269,"./modules/cart/confirm/state.js":267,"./modules/cart/getters.js":264,"./modules/cart/index.js":261,"./modules/cart/mutations.js":265,"./modules/cart/state.js":262,"./modules/common/index.js":490,"./modules/common/modal/getters.js":494,"./modules/common/modal/index.js":491,"./modules/common/modal/mutations.js":493,"./modules/common/modal/state.js":492,"./modules/cyberSunday/actions.js":482,"./modules/cyberSunday/getters.js":484,"./modules/cyberSunday/index.js":480,"./modules/cyberSunday/mutations.js":483,"./modules/cyberSunday/state.js":481,"./modules/dropdown/index.js":418,"./modules/dropdown/mutations.js":420,"./modules/dropdown/state.js":419,"./modules/emg/actions.js":457,"./modules/emg/index.js":456,"./modules/emg/mutations.js":458,"./modules/emg/state.js":459,"./modules/free/actions.js":337,"./modules/free/books/actions.js":348,"./modules/free/books/getters.js":349,"./modules/free/books/index.js":345,"./modules/free/books/mutations.js":347,"./modules/free/books/state.js":346,"./modules/free/getters.js":339,"./modules/free/index.js":335,"./modules/free/mutations.js":338,"./modules/free/special/actions.js":341,"./modules/free/special/getters.js":342,"./modules/free/special/index.js":340,"./modules/free/special/mutations.js":343,"./modules/free/special/state.js":344,"./modules/free/state.js":336,"./modules/genre/actions.js":462,"./modules/genre/getters.js":464,"./modules/genre/index.js":460,"./modules/genre/mutations.js":463,"./modules/genre/state.js":461,"./modules/hamburgerMenu/index.js":415,"./modules/hamburgerMenu/mutations.js":417,"./modules/hamburgerMenu/state.js":416,"./modules/index.js":244,"./modules/information/index.js":431,"./modules/information/notice/actions.js":434,"./modules/information/notice/getters.js":436,"./modules/information/notice/index.js":432,"./modules/information/notice/mutations.js":435,"./modules/information/notice/state.js":433,"./modules/lists/actions.js":259,"./modules/lists/getters.js":260,"./modules/lists/index.js":256,"./modules/lists/mutations.js":258,"./modules/lists/state.js":257,"./modules/miffy/actions.js":488,"./modules/miffy/getters.js":489,"./modules/miffy/index.js":485,"./modules/miffy/mutations.js":487,"./modules/miffy/state.js":486,"./modules/mypage/accounts/actions.js":412,"./modules/mypage/accounts/getters.js":414,"./modules/mypage/accounts/index.js":410,"./modules/mypage/accounts/mutations.js":413,"./modules/mypage/accounts/state.js":411,"./modules/mypage/arrival-alerts/actions.js":395,"./modules/mypage/arrival-alerts/getters.js":397,"./modules/mypage/arrival-alerts/index.js":393,"./modules/mypage/arrival-alerts/mutations.js":396,"./modules/mypage/arrival-alerts/state.js":394,"./modules/mypage/auto-purchase/actions.js":400,"./modules/mypage/auto-purchase/getters.js":402,"./modules/mypage/auto-purchase/index.js":398,"./modules/mypage/auto-purchase/mutations.js":401,"./modules/mypage/auto-purchase/state.js":399,"./modules/mypage/coupon/actions.js":404,"./modules/mypage/coupon/index.js":403,"./modules/mypage/ebj-purchase-list/actions.js":390,"./modules/mypage/ebj-purchase-list/getters.js":392,"./modules/mypage/ebj-purchase-list/index.js":388,"./modules/mypage/ebj-purchase-list/mutations.js":391,"./modules/mypage/ebj-purchase-list/state.js":389,"./modules/mypage/index.js":377,"./modules/mypage/purchase-list/actions.js":380,"./modules/mypage/purchase-list/getters.js":382,"./modules/mypage/purchase-list/index.js":378,"./modules/mypage/purchase-list/mutations.js":381,"./modules/mypage/purchase-list/state.js":379,"./modules/mypage/restore/actions.js":407,"./modules/mypage/restore/getters.js":409,"./modules/mypage/restore/index.js":405,"./modules/mypage/restore/mutations.js":408,"./modules/mypage/restore/state.js":406,"./modules/mypage/review-list/actions.js":385,"./modules/mypage/review-list/getters.js":387,"./modules/mypage/review-list/index.js":383,"./modules/mypage/review-list/mutations.js":386,"./modules/mypage/review-list/state.js":384,"./modules/ranking/actions.js":332,"./modules/ranking/getters.js":334,"./modules/ranking/index.js":330,"./modules/ranking/mutations.js":333,"./modules/ranking/state.js":331,"./modules/redirect/index.js":450,"./modules/redirect/viewer/actions.js":453,"./modules/redirect/viewer/getters.js":455,"./modules/redirect/viewer/index.js":451,"./modules/redirect/viewer/mutations.js":454,"./modules/redirect/viewer/state.js":452,"./modules/sale/actions.js":367,"./modules/sale/getters.js":368,"./modules/sale/index.js":366,"./modules/sale/mutations.js":369,"./modules/sale/state.js":370,"./modules/schedule/actions.js":363,"./modules/schedule/getters.js":365,"./modules/schedule/index.js":361,"./modules/schedule/mutations.js":364,"./modules/schedule/state.js":362,"./modules/search/actions.js":317,"./modules/search/getters.js":319,"./modules/search/index.js":315,"./modules/search/mutations.js":318,"./modules/search/recent/actions.js":323,"./modules/search/recent/getters.js":324,"./modules/search/recent/index.js":320,"./modules/search/recent/mutations.js":322,"./modules/search/recent/state.js":321,"./modules/search/state.js":316,"./modules/setPublicationDetail/actions.js":423,"./modules/setPublicationDetail/getters.js":425,"./modules/setPublicationDetail/index.js":421,"./modules/setPublicationDetail/mutations.js":424,"./modules/setPublicationDetail/state.js":422,"./modules/settings/actions.js":448,"./modules/settings/index.js":446,"./modules/settings/mutations.js":449,"./modules/settings/state.js":447,"./modules/signboard/actions.js":467,"./modules/signboard/getters.js":469,"./modules/signboard/index.js":465,"./modules/signboard/mutations.js":468,"./modules/signboard/state.js":466,"./modules/top/actions.js":327,"./modules/top/getters.js":329,"./modules/top/index.js":325,"./modules/top/mutations.js":328,"./modules/top/state.js":326,"./modules/user/actions.js":278,"./modules/user/autoPurchase/actions.js":308,"./modules/user/autoPurchase/getters.js":310,"./modules/user/autoPurchase/index.js":306,"./modules/user/autoPurchase/mutations.js":309,"./modules/user/autoPurchase/state.js":307,"./modules/user/bookshelf/actions.js":303,"./modules/user/bookshelf/getters.js":305,"./modules/user/bookshelf/index.js":301,"./modules/user/bookshelf/mutations.js":304,"./modules/user/bookshelf/state.js":302,"./modules/user/coupon/actions.js":283,"./modules/user/coupon/getters.js":285,"./modules/user/coupon/index.js":281,"./modules/user/coupon/mutations.js":284,"./modules/user/coupon/state.js":282,"./modules/user/entryCampaign/actions.js":313,"./modules/user/entryCampaign/index.js":311,"./modules/user/entryCampaign/mutations.js":314,"./modules/user/entryCampaign/state.js":312,"./modules/user/getters.js":280,"./modules/user/index.js":276,"./modules/user/mutations.js":279,"./modules/user/newbookNotification/actions.js":288,"./modules/user/newbookNotification/getters.js":290,"./modules/user/newbookNotification/index.js":286,"./modules/user/newbookNotification/mutations.js":289,"./modules/user/newbookNotification/state.js":287,"./modules/user/order/actions.js":293,"./modules/user/order/getters.js":295,"./modules/user/order/index.js":291,"./modules/user/order/mutations.js":294,"./modules/user/order/state.js":292,"./modules/user/payment/actions.js":298,"./modules/user/payment/getters.js":300,"./modules/user/payment/index.js":296,"./modules/user/payment/mutations.js":299,"./modules/user/payment/state.js":297,"./modules/user/state.js":277,"./modules/viewer/actions.js":428,"./modules/viewer/getters.js":429,"./modules/viewer/index.js":426,"./modules/viewer/mutations.js":430,"./modules/viewer/state.js":427,"./modules/viewerlast/book/actions.js":352,"./modules/viewerlast/book/getters.js":354,"./modules/viewerlast/book/index.js":351,"./modules/viewerlast/book/mutations.js":353,"./modules/viewerlast/book/state.js":355,"./modules/viewerlast/index.js":350,"./modules/viewerlast/series/actions.js":357,"./modules/viewerlast/series/getters.js":359,"./modules/viewerlast/series/index.js":356,"./modules/viewerlast/series/mutations.js":358,"./modules/viewerlast/series/state.js":360,"./mutation-types.js":747,"./mutations.js":243,"./state.js":495};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=691},function(e,t,n){"use strict";n.r(t);var r=n(7),o=n(242),c=n(243),l=n(244),d=n(495);t.default=function(){return new r.a.Store({actions:o,mutations:c,modules:l.default,state:d.default})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"lists",function(){return r}),n.d(t,"ADD_REVIEWS",function(){return o}),n.d(t,"SET_SEARCH_KEYWORD",function(){return c}),n.d(t,"SET_SEARCH_RESULT",function(){return l}),n.d(t,"SET_SCHEDULE_ITEMS",function(){return d});var r={authors:{FETCH:"fetch"}},o="ADD_REVIEWS",c="SET_SEARCH_KEYWORD",l="SET_SEARCH_RESULT",d="SET_SCHEDULE_ITEMS"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(33),n(82),n(83);var r=n(76),o=(n(9),n(97),n(2)),c=(n(21),n(22),n(45),n(13),n(85),n(19),n(117),n(520),n(525),n(10)),l=(n(37),n(661)),d=l.keys();function f(e){var t=l(e);return t.default||t}var h={},m=!0,v=!1,_=void 0;try{for(var y,k=d[Symbol.iterator]();!(m=(y=k.next()).done);m=!0){var O=y.value;h[O.replace(/^\.\//,"").replace(/\.(js|mjs|ts)$/,"")]=f(O)}}catch(e){v=!0,_=e}finally{try{m||null==k.return||k.return()}finally{if(v)throw _}}var w=h,j=(n(46),n(208),n(526),n(67),n(68),n(102),n(99),n(6));function x(e){c.a.config.errorHandler&&c.a.config.errorHandler(e)}function C(e){return e.then(function(e){return e.default||e})}function T(e,t){if(t||!e.options.__hasNuxtData){var n=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=n,e.options.data=function(){var data=n.call(this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),Object(j.a)({},data,t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function E(e){return e.options&&e._Ctor===e?e:(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=c.a.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file),e)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.prototype.concat.apply([],e.matched.map(function(e,n){return Object.keys(e.components).map(function(r){return t&&t.push(n),e.components[r]})}))}function R(e,t){return Array.prototype.concat.apply([],e.matched.map(function(e,n){return Object.keys(e.components).reduce(function(r,o){return e.components[o]?r.push(t(e.components[o],e.instances[o],e,o,n)):delete e.components[o],r},[])}))}function S(e){return Promise.all(R(e,function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t,n,r,o){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return r.components[o]=E(t),e.abrupt("return",r.components[o]);case 6:case"end":return e.stop()}},e)}));return function(t,n,r,o){return e.apply(this,arguments)}}()))}function I(e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:return e.abrupt("return",Object(j.a)({},t,{meta:P(t).map(function(e,n){return Object(j.a)({},e.options.meta,(t.matched[n]||{}).meta)})}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e,t){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.context||(t.context={isStatic:!1,isDev:!1,isHMR:!1,app:t,store:t.store,payload:n.payload,error:n.error,base:"/",env:{isProduction:!0}},n.req&&(t.context.req=n.req),n.res&&(t.context.res=n.res),t.context.redirect=function(e,path,n){if(e){t.context._redirected=!0;var o=Object(r.a)(path);if("number"==typeof e||"undefined"!==o&&"object"!==o||(n=path||{},path=e,o=Object(r.a)(path),e=302),"object"===o&&(path=t.router.resolve(path).href),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=K(path,n),window.location.replace(path),new Error("ERR_REDIRECT");t.context.next({path:path,query:n,status:e})}},t.context.nuxtState=window.__NUXT__),t.context.next=n.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!!n.isHMR,!n.route){e.next=9;break}return e.next=8,I(n.route);case 8:t.context.route=e.sent;case 9:if(t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{},!n.from){e.next=15;break}return e.next=14,I(n.from);case 14:t.context.from=e.sent;case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e,t){var n;return(n=2===e.length?new Promise(function(n){e(t,function(e,data){e&&t.error(e),n(data=data||{})})}):e(t))&&(n instanceof Promise||"function"==typeof n.then)||(n=Promise.resolve(n)),n}function N(base,e){var path=window.location.pathname;return"hash"===e?window.location.hash.replace(/^#\//,""):(base&&0===path.indexOf(base)&&(path=path.slice(base.length)),decodeURI(path||"/")+window.location.search+window.location.hash)}function L(e,t){return function(e){for(var t=new Array(e.length),i=0;i<e.length;i++)"object"===Object(r.a)(e[i])&&(t[i]=new RegExp("^(?:"+e[i].pattern+")$"));return function(n,r){for(var path="",data=n||{},o=r||{},c=o.pretty?Y:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!=typeof d){var f=data[d.name||"pathMatch"],h=void 0;if(null==f){if(d.optional){d.partial&&(path+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(Array.isArray(f)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var m=0;m<f.length;m++){if(h=c(f[m]),!t[l].test(h))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(h)+"`");path+=(0===m?d.prefix:d.delimiter)+h}}else{if(h=d.asterisk?encodeURI(f).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):c(f),!t[l].test(h))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+h+'"');path+=d.prefix+h}}else path+=d}return path}}(function(e,t){var n,r=[],o=0,c=0,path="",l=t&&t.delimiter||"/";for(;null!=(n=U.exec(e));){var d=n[0],f=n[1],h=n.index;if(path+=e.slice(c,h),c=h+d.length,f)path+=f[1];else{var m=e[c],v=n[2],_=n[3],y=n[4],k=n[5],O=n[6],w=n[7];path&&(r.push(path),path="");var j=null!=v&&null!=m&&m!==v,x="+"===O||"*"===O,C="?"===O||"*"===O,T=n[2]||l,pattern=y||k;r.push({name:_||o++,prefix:v||"",delimiter:T,optional:C,repeat:x,partial:j,asterisk:!!w,pattern:pattern?H(pattern):w?".*":"[^"+G(T)+"]+?"})}}c<e.length&&(path+=e.substr(c));path&&r.push(path);return r}(e,t))}function $(e,t){var n={},r=Object(j.a)({},e,t);for(var o in r)String(e[o])!==String(t[o])&&(n[o]=!0);return n}function F(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(n){t="[".concat(e.constructor.name,"]")}return Object(j.a)({},e,{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(e){window.onNuxtReadyCbs.push(e)};var U=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Y(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function G(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function H(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function K(e,t){var n,r=e.indexOf("://");-1!==r?(n=e.substring(0,r),e=e.substring(r+3)):e.startsWith("//")&&(e=e.substring(2));var o,c=e.split("/"),l=(n?n+"://":"//")+c.shift(),path=c.filter(Boolean).join("/");return 2===(c=path.split("#")).length&&(path=c[0],o=c[1]),l+=path?"/"+path:"",t&&"{}"!==JSON.stringify(t)&&(l+=(2===e.split("?").length?"&":"?")+function(e){return Object.keys(e).sort().map(function(t){var n=e[t];return null==n?"":Array.isArray(n)?n.slice().map(function(e){return[t,"=",e].join("")}).join("&"):t+"="+n}).filter(Boolean).join("&")}(t)),l+=o?"#"+o:""}var W=n(626),z=n.n(W),V=n(497),J=function(){return C(n.e(13).then(n.bind(null,1408)))},Q=function(){return C(n.e(17).then(n.bind(null,1415)))},X=function(){return C(n.e(18).then(n.bind(null,1404)))},Z=function(){return C(Promise.all([n.e(3),n.e(22)]).then(n.bind(null,1377)))},ee=function(){return C(Promise.all([n.e(1),n.e(25)]).then(n.bind(null,1379)))},te=function(){return C(Promise.all([n.e(0),n.e(2),n.e(33)]).then(n.bind(null,1419)))},ne=function(){return C(n.e(42).then(n.bind(null,1382)))},re=function(){return C(n.e(48).then(n.bind(null,1400)))},ae=function(){return C(Promise.all([n.e(1),n.e(4),n.e(52)]).then(n.bind(null,1423)))},oe=function(){return C(n.e(59).then(n.bind(null,1401)))},ie=function(){return C(n.e(60).then(n.bind(null,1378)))},se=function(){return C(Promise.all([n.e(0),n.e(2),n.e(61)]).then(n.bind(null,1413)))},ce=function(){return C(n.e(63).then(n.bind(null,1384)))},ue=function(){return C(n.e(12).then(n.bind(null,1393)))},le=function(){return C(n.e(16).then(n.bind(null,1414)))},de=function(){return C(Promise.all([n.e(3),n.e(20)]).then(n.bind(null,1392)))},fe=function(){return C(n.e(21).then(n.bind(null,1376)))},pe=function(){return C(Promise.all([n.e(0),n.e(24)]).then(n.bind(null,1390)))},he=function(){return C(n.e(26).then(n.bind(null,1397)))},me=function(){return C(n.e(30).then(n.bind(null,1402)))},be=function(){return C(n.e(37).then(n.bind(null,1394)))},ge=function(){return C(n.e(38).then(n.bind(null,1387)))},ve=function(){return C(n.e(39).then(n.bind(null,1385)))},_e=function(){return C(n.e(40).then(n.bind(null,1398)))},ye=function(){return C(n.e(41).then(n.bind(null,1395)))},ke=function(){return C(n.e(43).then(n.bind(null,1403)))},Oe=function(){return C(n.e(44).then(n.bind(null,1396)))},we=function(){return C(n.e(45).then(n.bind(null,1389)))},je=function(){return C(n.e(46).then(n.bind(null,1405)))},xe=function(){return C(n.e(47).then(n.bind(null,1406)))},Ce=function(){return C(Promise.all([n.e(1),n.e(4),n.e(51)]).then(n.bind(null,1428)))},Te=function(){return C(Promise.all([n.e(8),n.e(57)]).then(n.bind(null,1431)))},Ee=function(){return C(Promise.all([n.e(0),n.e(62)]).then(n.bind(null,1391)))},Pe=function(){return C(Promise.all([n.e(3),n.e(5),n.e(65)]).then(n.bind(null,1386)))},Re=function(){return C(n.e(19).then(n.bind(null,1407)))},Se=function(){return C(n.e(53).then(n.bind(null,1412)))},Ie=function(){return C(n.e(54).then(n.bind(null,1430)))},Ae=function(){return C(n.e(55).then(n.bind(null,1429)))},Me=function(){return C(n.e(64).then(n.bind(null,1409)))},De=function(){return C(n.e(29).then(n.bind(null,1399)))},Be=function(){return C(Promise.all([n.e(0),n.e(2),n.e(31)]).then(n.bind(null,1427)))},Ne=function(){return C(Promise.all([n.e(0),n.e(2),n.e(32)]).then(n.bind(null,1426)))},Le=function(){return C(Promise.all([n.e(0),n.e(2),n.e(34)]).then(n.bind(null,1425)))},$e=function(){return C(Promise.all([n.e(0),n.e(2),n.e(35)]).then(n.bind(null,1424)))},Fe=function(){return C(Promise.all([n.e(0),n.e(2),n.e(36)]).then(n.bind(null,1422)))},Ue=function(){return C(Promise.all([n.e(1),n.e(4),n.e(50)]).then(n.bind(null,1421)))},Ye=function(){return C(Promise.all([n.e(3),n.e(5),n.e(6),n.e(15)]).then(n.bind(null,1388)))},Ge=function(){return C(Promise.all([n.e(7),n.e(23)]).then(n.bind(null,1420)))},He=function(){return C(Promise.all([n.e(1),n.e(27)]).then(n.bind(null,1375)))},qe=function(){return C(Promise.all([n.e(1),n.e(4),n.e(49)]).then(n.bind(null,1418)))},Ke=function(){return C(Promise.all([n.e(7),n.e(58)]).then(n.bind(null,1417)))},We=function(){return C(Promise.all([n.e(8),n.e(56)]).then(n.bind(null,1416)))},ze=function(){return C(Promise.all([n.e(3),n.e(5),n.e(6),n.e(14)]).then(n.bind(null,1381)))},Ve=function(){return C(Promise.all([n.e(1),n.e(28)]).then(n.bind(null,1374)))};c.a.use(V.a);var Je=function(e,t,n){return n||{x:0,y:0}};var Qe=n(627),Xe=n.n(Qe),Ze=Object(j.a)({},Xe.a,{name:"NoSsr"}),et={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(e,t){var n=t.parent,data=t.data,r=t.props;data.nuxtChild=!0;for(var o=n,c=n.$nuxt.nuxt.transitions,l=n.$nuxt.nuxt.defaultTransition,d=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&d++,n=n.$parent;data.nuxtChildDepth=d;var f=c[d]||l,h={};tt.forEach(function(e){void 0!==f[e]&&(h[e]=f[e])});var m={};nt.forEach(function(e){"function"==typeof f[e]&&(m[e]=f[e].bind(o))});var v=m.beforeEnter;m.beforeEnter=function(e){if(window.$nuxt.$nextTick(function(){window.$nuxt.$emit("triggerScroll")}),v)return v.call(o,e)};var _=[e("router-view",data)];return r.keepAlive&&(_=[e("keep-alive",{props:r.keepAliveProps},_)]),e("transition",{props:h,on:m},_)}},tt=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],nt=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],at={props:["error"],layout:function(e){return e.userAgent.isMobile&&!e.userAgent.isTablet?"sp-error":"pc-error"},data:function(){var e="";switch(this.error.statusCode){default:case 400:case 502:e="ページが表示できません。";break;case 404:e="title"===this.error.errorType||"book"===this.error.errorType?"この作品は存在しません。":"ページが見つかりません";break;case 503:e+=" サーバがダウンしています。"}return{message:e}}},ot=(n(665),n(3)),it=Object(ot.a)(at,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"container"},[n("h1",{staticClass:"title"},[e._v("\n    "+e._s(e.error.statusCode)+"\n  ")]),n("h2",{staticClass:"info"},[e._v("\n    "+e._s(e.message)+"\n    "),n("br")]),"title"===this.error.errorType||"book"===this.error.errorType?n("div",{staticClass:"contents-more contents-more--center"},[n("a",{staticClass:"btn",attrs:{href:"/"}},[e._v("トップに戻る")])]):e._e()])},[],!1,null,"8513e8ce",null).exports,st={name:"Nuxt",components:{NuxtChild:et,NuxtError:it},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||L(this.$route.matched[0].path)(this.$route.params);var e=this.$route.matched[0]&&this.$route.matched[0].components.default;return e&&e.options&&e.options.key?"function"==typeof e.options.key?e.options.key(this.$route):e.options.key:this.$route.path}},beforeCreate:function(){c.a.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(e){return this.nuxt.err?e("NuxtError",{props:{error:this.nuxt.err}}):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}},ct={name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var e=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout(function(){return e.startTimer()},this.throttle):this.startTimer(),this},set:function(e){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(e))),this},get:function(){return this.percent},increase:function(e){return this.percent=Math.min(100,Math.floor(this.percent+e)),this},decrease:function(e){return this.percent=Math.max(0,Math.floor(this.percent-e)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var e=this;return this.clear(),setTimeout(function(){e.show=!1,e.$nextTick(function(){e.percent=0,e.reversed=!1})},500),this},fail:function(){return this.canSucceed=!1,this},startTimer:function(){var e=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval(function(){e.skipTimerCount>0?e.skipTimerCount--:(e.reversed?e.decrease(e._cut):e.increase(e._cut),e.continuous&&(e.percent>=100?(e.skipTimerCount=1,e.reversed=!e.reversed):e.percent<=0&&(e.skipTimerCount=1,e.reversed=!e.reversed)))},100)}},render:function(e){var t=e(!1);return this.show&&(t=e("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),t}},ut=(n(667),Object(ot.a)(ct,void 0,void 0,!1,null,null,null).exports),lt=(n(669),Object(ot.a)({},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"webview"},[t("div",{staticClass:"container"},[t("div",{staticClass:"container__gutter"},[this._m(0),t("nuxt"),this._m(1)],1)])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("h1",{staticClass:"header__sitelogo"},[t("div",{staticClass:"sprite-ebook"})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("p",[this._v("\n          クーポンは新サービス「ebookjapan」https://ebookjapan.yahoo.co.jp/ でご利用いただけます。\n          "),t("br"),this._v("\n          獲得から3ヶ月間有効です。\n        ")])])}],!1,null,null,null).exports),ft=n(0),pt=n(7),ht=n(1),mt={computed:Object(j.a)({},Object(pt.c)("user",["device"]),{positionId:function(){return Object(ht.j)("header.common.".concat(this.device))}}),watch:{$route:function(e,t){if(e.path!==t.path){var element=Object(ft.get)(this,"$refs.matildaDiv");element&&(element.textContent=null)}}}},bt=Object(ot.a)(mt,function(){var e=this.$createElement,t=this._self._c||e;return t("no-ssr",[t("div",{ref:"matildaDiv",attrs:{id:this.positionId}})])},[],!1,null,null,null).exports,gt=n(188),vt=n(38),_t=n(173),yt={name:"headerSearch",components:{fontIcon:vt.a},mixins:[_t.a],data:function(){return{keyword:this.$route.query.keyword||"",mouseovered:!1,maxSuggestKeywords:10}},computed:{isButtonVisible:function(){return this.keyword&&this.keyword.length}},watch:{$route:function(e){var t=Object(ft.get)(e,"query.keyword","");t&&this.keyword!==t&&this.updateKeyword(t,!0)}}},kt=Object(ot.a)(yt,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header__search"},[n("div",{staticClass:"input-box"},[n("div",{staticClass:"input-box__inner"},[n("div",{staticClass:"input-box__text"},[n("font-icon",{attrs:{name:"search"}}),n("form",{on:{submit:function(t){return t.preventDefault(),e.search(e.keyword)}}},[n("input",{attrs:{type:"text",maxlength:"150",placeholder:"作品名・作者名で検索"},domProps:{value:e.keyword},on:{input:function(t){return e.updateKeyword(t.target.value)},focus:e.startSearching,blur:e.clear}})])],1),n("ul",{directives:[{name:"show",rawName:"v-show",value:(e.isSearching||e.mouseovered)&&this.suggestKeywords.length>0,expression:"(isSearching || mouseovered) && this.suggestKeywords.length > 0"}],staticClass:"search-suggest",on:{mouseover:function(t){e.mouseovered=!0},mouseleave:function(t){e.mouseovered=!1}}},e._l(e.suggestKeywords.slice(0,e.maxSuggestKeywords),function(t,i){return n("li",{key:"suggest-"+i,staticClass:"search-suggest__item",on:{click:function(n){return e.search(t)}}},[n("div",{staticClass:"suggest"},[n("div",{staticClass:"suggest__text"},[e._v(e._s(t))])])])}),0)])]),n("a",{staticClass:"btn btn-search",style:{visibility:e.isButtonVisible?"visible":"hidden"},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.search(e.keyword)}}},[e._v("検索")])])},[],!1,null,null,null).exports,Ot=n(98),wt=n(100),jt={mixins:[wt.a],data:function(){return{isMounted:!1}},computed:Object(j.a)({},Object(pt.e)("user",["isLogin"]),Object(pt.c)("cart",["hasItems","hasItemsInLocal"]),{showedBagBadge:function(){return this.isMounted&&(this.hasItems||this.hasItemsInLocal)}}),mounted:function(){this.isMounted=!0}},xt={mixins:[jt],components:{fontIcon:vt.a,spriteIcon:Ot.a},props:{hasNewbookNotification:{type:Boolean,default:!1},hasCoupons:{type:Boolean,default:!1}}},Ct=Object(ot.a)(xt,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"header__shortcut"},[n("li",{staticClass:"header__shortcut-item"},[n("nuxt-link",{attrs:{to:"/mypage/arrival-alerts"}},[n("i",{staticClass:"icon font-zokkan"},[e._v("続刊")]),e.hasNewbookNotification?n("span",{staticClass:"bag-badge"}):e._e(),n("p",[e._v("続刊")])])],1),n("li",{staticClass:"header__shortcut-item"},[n("nuxt-link",{attrs:{to:"/mypage/coupon"}},[n("i",{staticClass:"icon font-coupon"},[e._v("クーポン")]),e.hasCoupons?n("span",{staticClass:"bag-badge"}):e._e(),n("p",[e._v("クーポン")])])],1),n("li",{staticClass:"header__shortcut-item"},[n("nuxt-link",{attrs:{to:"/bookshelf"}},[n("font-icon",{attrs:{name:"shelf",icon:""}},[e._v("本棚")]),n("p",[e._v("本棚")])],1)],1),n("li",{staticClass:"header__shortcut-item"},[n("nuxt-link",{attrs:{to:"/cart/"}},[n("font-icon",{attrs:{name:"bag",icon:""}},[e._v("カゴ")]),e.showedBagBadge?n("span",{staticClass:"bag-badge"}):e._e(),n("p",[e._v("カゴ")])],1)],1),n("li",{staticClass:"header__shortcut-item"},[n("a",{attrs:{href:"https://www.yahoo.co.jp/"}},[n("sprite-icon",{attrs:{name:"yahoo"}})],1)])])},[],!1,null,null,null).exports,Tt=n(11);function Et(script){return new Promise(function(e){script.addEventListener("load",function(){return e})})}var Pt={name:"emg",computed:Object(j.a)({},Object(pt.e)("emg",["emg1","emg2","emg3","dummy"]),{emg:function(){return this.emg3+this.emg2+this.emg1+this.dummy}}),watch:{emg:function(){var e=this;this.$nextTick(Object(o.a)(regeneratorRuntime.mark(function t(){var n,r,o,script,c,l,d,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(Tt.a)(e.$el.querySelectorAll("script")),r=0;case 2:if(!(r<n.length)){t.next=17;break}for(o=n[r],(script=document.createElement("script")).innerHTML=o.textContent,c=o.attributes,l=Object(Tt.a)(c),d=0;d<l.length;d++)f=l[d],script.setAttribute(f.name,f.value);if(!o.parentNode){t.next=14;break}if(o.parentNode.replaceChild(script,o),!script.src||!script.defer){t.next=14;break}return t.next=14,Et(script);case 14:r++,t.next=2;break;case 17:case"end":return t.stop()}},t)})))}}},Rt=Pt,St=Object(ot.a)(Rt,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"emgWrapper",attrs:{id:"emg-wrapper"}},[t("no-ssr",[t("div",{domProps:{innerHTML:this._s(this.emg)}})])],1)},[],!1,null,null,null),It=St.exports,At=n(58),Mt={mixins:[At.a],components:{ebookLogo:gt.default,headerShortcut:Ct,headerSearch:kt,emg:It},computed:Object(j.a)({},Object(pt.c)("user/newbookNotification",["hasNewbookNotification"]),Object(pt.c)("user/coupon",["coupons"]))},Dt=Mt,Bt=Object(ot.a)(Dt,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"header"},[t("header",{staticClass:"header"},[t("div",{staticClass:"header__inner"},[t("ebook-logo"),t("header-shortcut",{attrs:{hasNewbookNotification:this.hasNewbookNotification,hasCoupons:this.coupons.length>0}}),t("header-search")],1)]),t("emg")],1)},[],!1,null,null,null),Nt=Bt.exports,Lt=n(639),$t=n(640),Ft={components:{fontIcon:vt.a},props:{text:{type:String,required:!0},iconName:{type:String,required:!0}},methods:{parentMouseoverEvent:function(){this.$emit("child-mouseover-event")}}},Ut=Ft,Yt=Object(ot.a)(Ut,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown__btn",on:{mouseover:function(t){return e.parentMouseoverEvent()}}},[e._v("\n  "+e._s(e.text)),n("font-icon",{attrs:{name:e.iconName}})],1)},[],!1,null,null,null),Gt=Yt.exports,Ht={data:function(){return{isShowList:!1}},methods:{updateIsShowList:function(){this.isShowList=!this.isShowList}},watch:{"$route.path":function(){this.isShowList=!1}}},qt=Object(ot.a)(Ht,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown",on:{click:function(t){return e.updateIsShowList()}}},[e._t("btn"),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowList,expression:"isShowList"}]},[e._t("list")],2)],2)},[],!1,null,null,null),Kt=qt.exports,Wt=n(101),zt={mixins:[Wt.a],components:{lineListItem:$t.default,dropdownItem:Lt.default,dropdown:Kt,dropdownBtn:Gt},data:function(){return{menu:[].concat(Object(Tt.a)(Object(ht.f)("contentsNav.contents")),[{label:"ジャンル"}])}},methods:{isCurrentPathUnder:function(e){var t=new RegExp("(^"+e+"$|^"+e+"/)");return this.$route.path.match(t)}}},Vt=zt,Jt=Object(ot.a)(Vt,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navigation__menu"},[n("ul",{staticClass:"line-list"},e._l(e.menu,function(t){return n("line-list-item",{key:t.label,class:{"line-list__item--current":t.to&&e.isCurrentPathUnder(t.to)}},["ジャンル"===t.label?[n("dropdown",[n("dropdown-btn",{attrs:{slot:"btn",text:"ジャンル",iconName:"arrow-down"},slot:"btn"}),n("ul",{staticClass:"dropdown__list",attrs:{slot:"list"},slot:"list"},e._l(e.filteredGenre,function(t){return n("dropdown-item",{key:t.title},[n("nuxt-link",{attrs:{to:"/genre/"+t.name+"/"}},[e._v(e._s(t.title))])],1)}),1)],1)]:[n("nuxt-link",{attrs:{to:t.to}},[n("i",{staticClass:"icon",class:"font-"+t.icon}),e._v(e._s(t.label))])]],2)}),1)])},[],!1,null,null,null),Qt=Jt.exports,Xt=(n(60),{mixins:[wt.a],components:{spriteIcon:Ot.a},props:{displayName:{type:String,required:!0},icon:{type:String,default:""},tpoint:{type:Number,required:!0},isLogin:{type:Boolean,required:!0}},computed:{localedTpoint:function(){return Object(ht.q)(this.tpoint)},username:function(){return"".concat(Object(ht.r)(this.displayName,16),"さん")}}}),Zt=Xt,en=Object(ot.a)(Zt,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navigation__account"},[this.isLogin?[e.icon&&e.displayName?n("div",{staticClass:"account"},[n("div",{staticClass:"figure-circle"},[n("img",{attrs:{alt:"プロフィール画像",src:e.icon}})]),n("div",{staticClass:"v"},[n("nuxt-link",{attrs:{to:"/mypage"}},[e._v(e._s(e.username))])],1)]):e._e(),n("div",{staticClass:"tpoint"},[n("div",{staticClass:"v"},[n("a",{attrs:{href:"https://points.yahoo.co.jp/book"}},[e._v(e._s(e.localedTpoint)+"pt")])])])]:[n("div",{staticClass:"login"},[n("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.gotoLoginPage(t)}}},[e._v("\n        ログイン\n      ")])])]],2)},[],!1,null,null,null),tn=en.exports,nn={components:{navigationMenu:Qt,navigationAccount:tn},computed:Object(j.a)({},Object(pt.e)("user",["displayName","tpoint","iconUrl","isLogin"]))},rn=nn,an=Object(ot.a)(rn,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"navigation",staticClass:"navigation"},[t("navigation-menu"),t("no-ssr",[t("navigation-account",{attrs:{displayName:this.displayName,icon:this.iconUrl,isLogin:this.isLogin,tpoint:this.tpoint}})],1)],1)},[],!1,null,null,null),on=an.exports,sn=n(625),cn=n(507),un={name:"bookshelf-side-pc",mixins:[cn.a],data:function(){return{keyword:"",selected:-1,dragged:null,isUpdateFolderMode:!1,newFolderName:"",showInput:!1}},computed:Object(j.a)({},Object(pt.c)("bookshelf",["currentFolder"]),Object(pt.c)("bookshelf",{folders:"folderItems",showSearch:"showSearch",downloadRate:"downloadRate"})),methods:{currentItemClass:function(e){if(this.currentFolder===e)return"expand__sub-item--current"},dragOverClass:function(e){return this.$data.dragged===e?"expand__sub-item--dragover":""},doDragEnd:function(){this.$data.dragged=null},updateShowInput:function(){this.$data.showInput=!this.$data.showInput},doDragStart:function(e,t){var dt=t.dataTransfer;dt.effectAllowed="move";var data=JSON.stringify({folder:e});dt.setData(/msie|trident|edge/i.test(navigator.userAgent)?"text":"application/x-ebij-folder",data)},doDragOver:function(e,t){t.preventDefault(),this.$data.dragged=e},doDrop:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t,n){var dt,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:dt=n.dataTransfer,(r=JSON.parse(dt.getData(/msie|trident|edge/i.test(navigator.userAgent)?"text":dt.types[0]))).hasOwnProperty("books")?this.$store.dispatch("bookshelf/moveBooks",{books:r.books,folder:t.code}):r.hasOwnProperty("folder")&&this.$store.dispatch("bookshelf/moveFolder",{code:r.folder.code,from:r.folder.order,to:t.order}),this.doDragEnd();case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),doFolderEvent:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){var n,r,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:null,e.t0=t,e.next="select"===e.t0?4:"delete"===e.t0?9:"add"===e.t0?12:17;break;case 4:if(!this.$data.isUpdateFolderMode){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,this.changeFolder(n.folder,n.selected);case 8:return e.abrupt("break",17);case 9:return e.next=11,this.deleteFolder(n.code);case 11:return e.abrupt("break",17);case 12:return e.next=14,this.addFolder(this.$data.newFolderName);case 14:return r=e.sent,this.$data.newFolderName=r?"":this.$data.newFolderName,e.abrupt("break",17);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),showModal:function(e){document.body.style.overflow="hidden"},updateFolderMode:function(){this.$data.isUpdateFolderMode=!this.$data.isUpdateFolderMode},search:function(){this.$store.dispatch("bookshelf/searchBooks",this.$data.keyword)}},components:{fontIcon:vt.a,expandItem:sn.a},watch:{showSearch:function(e){e||(this.keyword="")}}},ln=un,dn=Object(ot.a)(ln,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shelf-menu"},[n("ul",{ref:"expand",staticClass:"expand"},[n("expand-item",{attrs:{title:"本棚内を検索",itemClass:"expand__item--type-search",titleIcon:"arrow-down"}},[n("template",{slot:"body"},[n("div",{staticClass:"expand__inner"},[n("div",{staticClass:"input-box"},[n("div",{staticClass:"input-box__inner"},[n("div",{staticClass:"input-box__text"},[n("font-icon",{attrs:{name:"search"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"作品名・作者名で検索",disabled:null!==e.downloadRate},domProps:{value:e.keyword},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)},input:function(t){t.target.composing||(e.keyword=t.target.value)}}})],1)])])])])],2),n("expand-item",{attrs:{itemClass:0===e.currentFolder?"expand__item--current":""},on:{"body-clicked":function(t){return e.doFolderEvent("select",{folder:e.folderAllBooks})}}},[n("template",{slot:"body"},[n("p",{staticClass:"expand__inner"},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){e.preventDefault()}}},[e._v("購入した本")])])])],2),n("expand-item",{attrs:{title:"フォルダ",itemClass:"expand__item--type-folder"}},[n("template",{slot:"body"},[n("ul",[e.isUpdateFolderMode?n("li",{staticClass:"expand__sub-item",on:{click:function(t){return t.preventDefault(),e.updateShowInput(t)}}},[n("i",{staticClass:"icon font-plus"},[e._v("追加")]),n("span",[e._v("フォルダを追加")])]):e._e(),e.isUpdateFolderMode&&e.showInput?n("li",{staticClass:"expand__sub-item expand__sub-item--type-input"},[n("div",{staticClass:"input-box"},[n("div",{staticClass:"input-box__inner"},[n("div",{staticClass:"input-box__text"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newFolderName,expression:"newFolderName"}],attrs:{type:"text",placeholder:"フォルダ名を入力",autofocus:""},domProps:{value:e.newFolderName},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doFolderEvent("add")},input:function(t){t.target.composing||(e.newFolderName=t.target.value)}}})])])]),n("span",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.doFolderEvent("add")}}},[e._v("追加")])]):e._e(),e._l(e.folders,function(t,i){return 0!==t.code?n("li",{key:"folder_"+t.code,staticClass:"expand__sub-item",class:[e.currentItemClass(t.code),e.dragOverClass(i)],attrs:{draggable:"true"},on:{dragstart:function(n){return n.stopPropagation(),e.doDragStart(t,n)},dragover:function(t){return e.doDragOver(i,t)},drop:function(n){return e.doDrop(t,n)},dragleave:e.doDragEnd,dragend:e.doDragEnd,click:function(n){return n.preventDefault(),e.doFolderEvent("select",{folder:t,selected:i})}}},[e.isUpdateFolderMode?n("i",{staticClass:"icon font-close",on:{click:function(n){return n.preventDefault(),e.doFolderEvent("delete",{code:t.code})}}},[e._v("削除")]):e._e(),n("span",[e._v(e._s(t.name))])]):e._e()})],2),n("div",{staticClass:"expand__edit"},[n("span",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.updateFolderMode(t)}}},[e._v("編集")])])])],2)],1)])},[],!1,null,null,null),fn=dn.exports,pn=[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"footer__txt"},[this._v("\n      たった一つのコマに、涙することもある。"),t("br"),this._v("\n      たった一言のセリフに、心打たれることもある。"),t("br"),this._v("\n      たった一冊の漫画で、人生が変わることもある。"),t("br"),t("br"),this._v("\n      一人でも多くの人に、"),t("br"),this._v("\n      感動と、発見と、インスピレーションを。\n    ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"https://privacy.yahoo.co.jp/"}},[this._v("プライバシー")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"https://about.yahoo.co.jp/docs/info/terms/"}},[this._v("利用規約")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"https://corp.ebookjapan.jp/"}},[this._v("株式会社イーブックイニシアティブジャパン")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"https://premium.yahoo.co.jp/info/guidelines.html"}},[this._v("Y!プレミアム利用ガイド")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"https://recruit.ebookjapan.jp"}},[this._v("電子書籍の未来を一緒につくる新卒メンバー募集中")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer__abj"},[t("img",{attrs:{alt:"ABJマーク",src:n(677),width:"101",height:"83"}}),t("p",{staticClass:"footer__txt"},[this._v("\n      ABJマークは、この電子書店・電子書籍配信サービスが、著作権者からコンテンツ使用許諾を得た正規版配信サービスであることを示す登録商標(登録番号 第6091713号)です。\n      詳しくは[ABJマーク]または[電子出版制作・流通協議会]で検索してください。\n    ")])])}],hn={data:function(){return{settlementUrl:Object(ht.f)("url.static.settlement")}},computed:Object(j.a)({},Object(pt.e)("user",["memberId"]),{faqUrl:function(){return"".concat(Object(ht.f)("url.faq"),"?memberid=").concat(this.memberId)}})},mn=hn,bn=Object(ot.a)(mn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{ref:"footer",staticClass:"footer"},["/"===this.$route.path?[n("p",{staticClass:"footer__about"},[e._v("About ebookjapan")]),n("h3",[e._v("人生に、漫画を。")]),e._m(0)]:e._e(),n("ul",{staticClass:"footer__link"},[e._m(1),e._m(2),n("li",[n("a",{attrs:{href:e.settlementUrl}},[e._v("特定商取引法に基づく表示")])]),e._m(3),e._m(4),n("li",[n("a",{attrs:{href:e.faqUrl}},[e._v("よくある質問・お問い合わせ")])]),e._m(5)]),n("p",{staticClass:"footer__txt"},[e._v("商品情報に記載の割引率は税込価格をもとに表示しております。")]),e._m(6),n("p",[e._v("\n  ebookjapanはヤフー株式会社のサービスであり、ヤフー株式会社が株式会社イーブックイニシアティブジャパンと協力して運営しています。\n  ")]),n("address",[e._v("(C) eBOOK Initiative Japan Co.,Ltd.　(C) Yahoo Japan Corporation.")])],2)},pn,!1,null,null,null),gn=bn.exports,vn={props:{noNotificationBanner:{type:Boolean,default:!1}},computed:Object(j.a)({},Object(pt.c)("information/notice",["informations","emergencyInformation"]))},_n=n(75),yn={name:"emgInfoModule",props:{notificationItem:{type:Object}},mixins:[vn,At.a,_n.a]},kn=yn,On=Object(ot.a)(kn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.emergencyInformation?n("div",{staticClass:"header-notice"},e._l(e.emergencyInformation,function(t){return n("nuxt-link",{key:e._f("id")(t),staticClass:"header-notice__item",attrs:{to:e._f("url")(t)}},[e._v("\n    "+e._s(e._f("title")(t))),n("i",{staticClass:"icon font-arrow-right"})])}),1):e._e()},[],!1,null,null,null),wn=On.exports,jn={name:"layout-bookshelf-pc",computed:{spineClass:function(){return"spine"===this.$store.getters["bookshelf/displayMode"]?"page-shelf--spine":null}},components:{matildaBanner:bt,ebookHeader:Nt,appNavigation:on,bookshelfSide:fn,ebookFooter:gn,emgInfoModule:wn},mounted:function(){this.$refs.contentsWrapper.style.minHeight="".concat(window.innerHeight,"px")}},xn=jn,Cn=Object(ot.a)(xn,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrapper"},[t("emg-info-module"),t("matilda-banner"),t("ebook-header"),t("app-navigation"),t("div",{ref:"contentsWrapper",staticClass:"contents-wrapper"},[t("div",{staticClass:"page-shelf",class:this.spineClass},[t("div",{staticClass:"container"},[t("div",{staticClass:"container__gutter"},[t("nuxt"),t("div",{staticClass:"shelf-aside"},[t("bookshelf-side",{ref:"side"})],1)],1)])])]),t("ebook-footer")],1)},[],!1,null,null,null),Tn=Cn.exports,En={name:"pc-campaign",components:{matildaBanner:bt,ebookHeader:Nt,ebookFooter:gn,emgInfoModule:wn}},Pn=En,Rn=Object(ot.a)(Pn,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"wrapper"}},[t("emg-info-module"),t("matilda-banner"),t("ebook-header"),t("nuxt"),t("ebook-footer")],1)},[],!1,null,null,null),Sn=Rn.exports,In=n(103),An={components:{heading:In.a},props:{articles:{type:Array}}},Mn=An,Dn=Object(ot.a)(Mn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return Array.isArray(e.articles)&&e.articles.length?n("div",{staticClass:"side-menu__block"},[n("heading",[e._v("通知")]),n("div",{staticClass:"article-section"},[n("ul",e._l(e.articles,function(t,i){return n("li",{key:"notification_"+i},[n("div",{staticClass:"article bullet"},[n("nuxt-link",{attrs:{to:t.url}},[e._v("\n              "+e._s(t.text)+"\n          ")])],1)])}),0)])],1):e._e()},[],!1,null,null,null),Bn=Dn.exports,Nn=n(8),Ln={props:{defaultDisplayHistory:{type:Number,default:5},maxDisplayHistory:{type:Number,default:10}},data:function(){return{allHistory:[],displayHistory:this.defaultDisplayHistory}},mixins:[Nn.a],computed:{history:function(){return this.allHistory.slice(0,this.displayHistory)},canSeeMore:function(){return this.displayHistory<Math.min(this.maxDisplayHistory,this.allHistory.length)}},methods:{seeMore:function(){this.displayHistory=this.maxDisplayHistory}},mounted:function(){this.allHistory=this.$bookHistory.get()}},$n=Ln,Fn=Object(ot.a)($n,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.history&&e.history.length?n("div",{staticClass:"side-menu__block"},[e._m(0),n("div",{staticClass:"article-section"},[n("ul",e._l(e.history,function(t){return n("li",{key:"sidemenu-history-"+t.publication_cd,staticClass:"article",attrs:{"data-testid":"publication"}},[n("nuxt-link",{staticClass:"inlinebox",attrs:{to:e.bookUrl(t)}},[n("img",{attrs:{alt:t.publication_name,src:e.bookImageUrl(t)}}),n("div",{staticClass:"inlinebox__item inlinebox__txt"},[e._v("\n            "+e._s(e.truncatedTitleWithVolumeName(t,14,10))+"\n          ")])])],1)}),0),e.canSeeMore?n("div",{staticClass:"contents-more"},[n("span",{attrs:{"data-testid":"see-more"},on:{click:function(t){return e.seeMore()}}},[e._v("もっと見る"),n("i",{staticClass:"icon font-arrow-down"})])]):e._e()])]):e._e()},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"heading"},[t("h2",{staticClass:"heading__main"},[this._v("最近読んだ作品")])])}],!1,null,null,null),Un=Fn.exports,Yn={mixins:[_n.a],components:{heading:In.a,fontIcon:vt.a},props:{informations:{type:Array,required:!0}}},Gn=Yn,Hn=Object(ot.a)(Gn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.informations.length>0?n("div",[n("heading",[e._v("お知らせ")]),n("ul",e._l(e.informations,function(t){return n("li",{key:e._f("id")(t)},[n("nuxt-link",{attrs:{to:e._f("url")(t)}},[e._v(e._s(e._f("title")(t)))])],1)}),0),n("div",{staticClass:"contents-more"},[n("nuxt-link",{attrs:{tag:"span",to:"/information/notice/"}},[e._v("\n      お知らせ一覧"),n("font-icon",{attrs:{icon:"",name:"arrow-right"}})],1)],1)],1):e._e()},[],!1,null,null,null),qn=Hn.exports,Kn={props:{name:{type:String,required:!0},checked:{type:Boolean,default:!1},text:{type:String,default:""},value:{type:String,default:""}},methods:{handleChange:function(e){var t=e.target,n=t.value,r=t.checked;this.$emit("change",{value:n,checked:r})}}},Wn=Kn,zn=Object(ot.a)(Wn,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-radio"},[t("label",[t("input",{attrs:{type:"radio",name:this.name},domProps:{value:this.value,checked:this.checked},on:{change:this.handleChange}}),t("span",{staticClass:"input-radio__btn"}),t("span",{staticClass:"input-radio__txt"},[this._v(this._s(this.text))])])])},[],!1,null,null,null),Vn=zn.exports,Jn={mixins:[Wt.a],components:{heading:In.a,inputRadioItem:Vn},methods:{handleChange:function(e){var t=e.value;this.setSafeMode(t)}}},Qn=Jn,Xn=Object(ot.a)(Qn,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("heading",[e._v("セーフモード")]),n("div",{staticClass:"safe-mode-section"},e._l(e.safeModeOptions,function(option){return n("input-radio-item",{key:"safe-mode-radio-input-"+option.value,attrs:{name:"safe",value:option.value,checked:e.safeMode===option.value,text:option.label},on:{change:e.handleChange}})}),1)],1)},[],!1,null,null,null),Zn=Xn.exports,er={name:"side-notice-block",mixins:[Nn.a],props:{title:{type:String},items:{type:Array},total:{type:Number},displayNumber:{type:Number},link:{type:Object},message:{type:String},allowLinkToBook:{type:Boolean,default:!0}}},nr=er,rr=Object(ot.a)(nr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.items.length>0?n("div",{staticClass:"side-menu__block"},[n("div",{staticClass:"heading"},[n("h2",{staticClass:"heading__main"},[e._v(e._s(e.title))])]),e.message&&e.message.length>0?n("p",{staticClass:"notice-text"},[e._v(e._s(e.message))]):e._e(),n("div",{staticClass:"article-section"},[n("ul",e._l(e.items.slice(0,e.displayNumber),function(t,i){return n("li",{key:"side-notification_"+e.title+"_"+i,staticClass:"article"},[n("nuxt-link",{staticClass:"inlinebox",attrs:{to:e.allowLinkToBook?e.bookUrl(t):e.link}},[n("img",{attrs:{alt:e.publicationName(t),src:e.bookImageUrl(t)},on:{error:e.showErrorImage}}),n("div",{staticClass:"inlinebox__item inlinebox__txt"},[e._v("\n            "+e._s(e.truncatedTitleWithVolumeName(t,14,10))+"\n          ")])])],1)}),0)]),e.total-e.displayNumber>0?n("div",{staticClass:"contents-more"},[n("p",[n("nuxt-link",{attrs:{to:e.link}},[e._v("ほか "+e._s(e.total-e.displayNumber)+" 作品"),n("i",{staticClass:"icon font-arrow-right"})])],1)]):e._e()]):e._e()},[],!1,null,null,null),ar=rr.exports,or={props:{linkUrl:{type:String,required:!0},imageUrl:{type:String,required:!0},alt:{type:String,default:""}}},ir=or,sr=Object(ot.a)(ir,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"side-menu__banner"},[t("a",{attrs:{href:this.linkUrl,target:"_blank",rel:"noopener"}},[t("img",{attrs:{src:this.imageUrl,width:"480",height:"120",alt:this.alt}})])])},[],!1,null,null,null),cr=sr.exports,ur={mixins:[At.a],components:{userNotification:Bn,userCheckContents:Un,information:qn,safeMode:Zn,noticeBlock:ar,banner:cr},props:{footerHeight:{type:Number,default:0}},data:function(){return{windowWidth:0,frameId:null,isShowSidemenu:!0,asideStyle:{},isMounted:!1}},methods:Object(j.a)({},Object(pt.b)("user/payment",["fetch"]),Object(pt.b)("user/autoPurchase",["getExpected","getRecentPurchased"]),{onScroll:function(){this._updateAsideStyle()},onResize:function(){this.windowWidth=window.innerWidth||document.documentElement.clientWidth||0,this._updateAsideStyle(),this.$emit("updateContentsWrapperHeight")},onClickAsideBtn:function(){this.isShowSidemenu=!this.isShowSidemenu},_updateAsideStyle:function(){var e=this;cancelAnimationFrame(this.frameId),this.frameId=requestAnimationFrame(function(){var t,n,r=e.$refs.asideDummy.getBoundingClientRect().top,o=window.innerHeight||document.documentElement.clientHeight||0,c=document.documentElement.offsetHeight,l=e.footerHeight-(c-o-window.pageYOffset);l>0?(t="calc(100vh - ".concat(l,"px)"),n="fixed"):r<=0?(t="100vh",n="fixed"):(t="calc(100vh - ".concat(r,"px)"),n="absolute"),e.asideStyle={height:t,position:n}})}}),beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)},computed:Object(j.a)({},Object(pt.e)("user/autoPurchase",{autoPurchaseData:"purchase"}),Object(pt.c)("user/payment",["defaultPaymentMethod"]),Object(pt.c)("user/newbookNotification",["newbookPublications"]),Object(pt.c)("banner",["bannerData"])),watch:{isShowSidemenu:function(e,t){this.$refs.sideMenu.style.display=e?"block":"none",this.$refs.aside.style["background-color"]=e?"#f5f5f5":"",this._updateAsideStyle()},windowWidth:function(e,t){t<1140&&e>=1140&&(this.isShowSidemenu=!0),t>1140&&e<=1140&&(this.isShowSidemenu=!1)}},beforeMount:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.fetch(),this.getExpected({results:1}),this.getRecentPurchased({results:1});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),mounted:function(){var e=this;window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this.$nextTick(function(){e.onResize(),e.isShowSidemenu=e.windowWidth>=1140}),this.isMounted=!0}},lr=ur,dr=(n(678),Object(ot.a)(lr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"asideDummy",staticClass:"aside-dummy"}),n("div",{ref:"aside",staticClass:"aside",style:e.asideStyle},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSidemenu,expression:"isShowSidemenu"}],ref:"sideMenu",staticClass:"side-menu"},[n("no-ssr",[Array.isArray(e.newbookPublications)&&e.newbookPublications.length>0?n("notice-block",{attrs:{title:"あなたへの続刊のお知らせ",items:e.newbookPublications,total:e.newbookPublications.length,displayNumber:3,link:{path:"/mypage/arrival-alerts/"}}}):e._e()],1),n("no-ssr",[e.autoPurchaseData.expected.total>0?n("notice-block",{attrs:{title:"最新刊が自動購入されます",items:e.autoPurchaseData.expected.items,total:e.autoPurchaseData.expected.total,displayNumber:1,link:{path:"/mypage/auto-purchase/"},message:null===e.defaultPaymentMethod?"お支払い方法未設定":"",allowLinkToBook:!1}}):e._e()],1),n("no-ssr",[e.autoPurchaseData.recent.total>0?n("notice-block",{attrs:{title:"最新刊が自動購入されました",items:e.autoPurchaseData.recent.items,total:e.autoPurchaseData.recent.total,displayNumber:1,link:{path:"/mypage#my-auto"}}}):e._e()],1),n("no-ssr",[n("user-notification",{attrs:{articles:e.notifications}})],1),n("user-check-contents"),n("information",{staticClass:"side-menu__block",attrs:{informations:e.regularInformation}}),n("div",{staticClass:"side-menu__block"},[n("safe-mode")],1),Array.isArray(e.bannerData.sideMenu)&&e.bannerData.sideMenu.length>0&&e.isMounted?e._l(e.bannerData.sideMenu,function(e,i){return n("banner",{key:"sidemenu-banner-"+i,attrs:{linkUrl:e.linkUrl,imageUrl:e.imageUrl,alt:e.alt}})}):e._e()],2),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowSidemenu,expression:"!isShowSidemenu"}],staticClass:"show-aside-btn",on:{click:e.onClickAsideBtn}},[n("i",{staticClass:"icon font-arrow-right"})])])])},[],!1,null,"0fd755d0",null)),fr=dr.exports,pr={data:function(){return{isSidemenu:!1,isViewerlast:!1}},methods:Object(j.a)({},Object(pt.d)(["setDisplayNumberPerWidth"]),{updateDisplayNumberPerWidth:function(){var e=this.$refs.contentsWrapper.clientWidth||0,t=0;t=e>=1410?this.isSidemenu||this.isViewerlast?8:10:e>=1274?this.isSidemenu||this.isViewerlast?7:9:this.isSidemenu||this.isViewerlast?6:8,this.setDisplayNumberPerWidth(t)}}),mounted:function(){this.isSidemenu=!!this.$refs.side,this.updateDisplayNumberPerWidth(),window.addEventListener("resize",this.updateDisplayNumberPerWidth)},beforeDestroy:function(){window.removeEventListener("resize",this.updateDisplayNumberPerWidth)}},mr={mixins:[pr],components:{matildaBanner:bt,ebookHeader:Nt,ebookFooter:gn,navigation:on,sideMenu:fr,emgInfoModule:wn},data:function(){return{footerHeight:0}},methods:{updateContentsWrapperHeight:function(){var e=Object(ft.get)(this,"$refs.side.$refs.sideMenu.clientHeight",0),t=window.innerHeight||document.documentElement.clientHeight||0;this.$refs.contentsWrapper.style.minHeight="".concat(Math.max(e,t),"px")}},mounted:function(){var e=this;this.$nextTick(function(){e.footerHeight=Object(ft.get)(e,"$refs.ebookFooter.$refs.footer.clientHeight",0),e.updateContentsWrapperHeight()})}},gr=mr,vr=Object(ot.a)(gr,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"wrapper"}},[t("emg-info-module"),t("matilda-banner"),t("ebook-header"),t("navigation"),t("div",{ref:"contentsWrapper",staticClass:"contents-wrapper"},[t("div",{staticClass:"main"},[t("nuxt")],1),t("side-menu",{ref:"side",attrs:{footerHeight:this.footerHeight},on:{updateContentsWrapperHeight:this.updateContentsWrapperHeight}})],1),t("ebook-footer",{ref:"ebookFooter"})],1)},[],!1,null,null,null),_r=vr.exports,yr={components:{ebookHeader:Nt,ebookFooter:gn}},kr=yr,Or=Object(ot.a)(kr,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"wrapper"}},[t("ebook-header"),t("nuxt"),t("ebook-footer")],1)},[],!1,null,null,null).exports,wr=(n(680),Object(ot.a)({},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this._m(0),t("nuxt")],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loading"},[t("div",{staticClass:"loading__circle"},[this._v("Loading...")])])}],!1,null,null,null).exports),jr={mixins:[pr],components:{matildaBanner:bt,ebookHeader:Nt,ebookFooter:gn,navigation:on,emgInfoModule:wn},props:{isShownBanner:{type:Boolean,default:!0}}},xr=Object(ot.a)(jr,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"wrapper"}},[t("emg-info-module"),this.isShownBanner?t("matilda-banner"):this._e(),t("ebook-header"),t("navigation"),t("div",{ref:"contentsWrapper",staticClass:"contents-wrapper"},[t("nuxt")],1),t("ebook-footer")],1)},[],!1,null,null,null).exports,Cr={components:{pcNoSidemenu:xr}},Tr=Object(ot.a)(Cr,function(){var e=this.$createElement;return(this._self._c||e)("pc-no-sidemenu",{attrs:{isShownBanner:!1}})},[],!1,null,null,null).exports,Er={mixins:[pr],components:{ebookLogo:gt.default,spriteIcon:Ot.a,matildaBanner:bt,emg:It},props:{page:{type:String,default:""},isShownBanner:{type:Boolean,default:!1}},data:function(){return{isViewerlast:"viewerlast"===this.page}}},Pr=Object(ot.a)(Er,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"wrapper"}},[this.isShownBanner?t("matilda-banner"):this._e(),t("header",{staticClass:"header"},[t("div",{staticClass:"header__inner"},[t("ebook-logo"),t("ul",{staticClass:"header__shortcut"},[t("li",{staticClass:"header__shortcut-item"},[t("a",{attrs:{href:"https://www.yahoo.co.jp/"}},[t("sprite-icon",{attrs:{name:"yahoo"}})],1)])])],1)]),t("emg"),t("div",{ref:"contentsWrapper",staticClass:"contents-wrapper"},[t("nuxt")],1),this._m(0)],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("footer",{staticClass:"footer"},[t("p",{staticClass:"footer__txt"},[this._v("商品情報に記載の割引率は税込価格をもとに表示しております。")]),t("p",[this._v("ebookjapanはヤフー株式会社のサービスであり、ヤフー株式会社が株式会社イーブックイニシアティブジャパンと協力して運営しています。")]),t("address",[this._v("(C) eBOOK Initiative Japan Co.,Ltd.　(C) Yahoo Japan Corporation.")])])}],!1,null,null,null).exports,Rr={components:{pcSimple:Pr}},Sr=Object(ot.a)(Rr,function(){var e=this.$createElement;return(this._self._c||e)("pc-simple",{attrs:{page:"viewerlast",isShownBanner:!0}})},[],!1,null,null,null).exports,Ir={mixins:[vn,At.a,_n.a]},Ar=(n(682),Object(ot.a)(Ir,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.emergencyInformation?n("div",{ref:"headerNotice",staticClass:"header-notice"},[n("no-ssr",e._l(e.emergencyInformation,function(t){return n("nuxt-link",{key:e._f("id")(t),staticClass:"header-notice__item",attrs:{to:e._f("url")(t)}},[e._v("\n      "+e._s(e._f("title")(t))),n("i",{staticClass:"icon font-arrow-right"})])}),1)],1):e._e()},[],!1,null,"5b801f68",null).exports),Mr=(n(17),{props:{isShowMenu:{type:Boolean,default:!1}},methods:{switchSidemenu:function(){this.$emit("clickHamburgerBtn")}}}),Dr=Object(ot.a)(Mr,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header__menu",on:{click:this.switchSidemenu}},[t("span",{staticClass:"menu-icon",class:{"menu-icon--open":this.isShowMenu}},[t("i",{staticClass:"icon line"})])])},[],!1,null,null,null).exports,Br={name:"ebookLogo"},Nr=Object(ot.a)(Br,function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"header__sitelogo"},[t("nuxt-link",{staticClass:"sprite-ebook",attrs:{to:"/"}},[this._v("ebookjapan")])],1)},[],!1,null,null,null).exports,Lr={props:{showedBagBadge:{type:Boolean,default:!1}}},$r=Object(ot.a)(Lr,function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"header__shortcut-item"},[t("nuxt-link",{attrs:{to:"/cart/"}},[t("i",{staticClass:"icon font-bag"},[this._v("カゴ")])]),this.showedBagBadge?t("span",{staticClass:"bag-badge"}):this._e()],1)},[],!1,null,null,null).exports,Fr={name:"search-icon",methods:Object(j.a)({},Object(pt.d)("search",["openModal"]))},Ur=Object(ot.a)(Fr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"header__shortcut-item"},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.openModal()}}},[n("i",{staticClass:"icon font-search"},[e._v("検索")])])])},[],!1,null,null,null).exports,Yr=n(641),Gr=n(189),Hr={mixins:[jt],components:{bagIcon:$r,searchIcon:Ur,shelfIcon:Yr.default,yIcon:Gr.default}},qr=Object(ot.a)(Hr,function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"header__shortcut"},[t("search-icon"),t("shelf-icon"),t("bag-icon",{attrs:{"showed-bag-badge":this.showedBagBadge}}),t("y-icon")],1)},[],!1,null,null,null).exports,Kr=["/","/free"],Wr={mixins:[vn],props:{noHamburgerMenu:{type:Boolean,default:!1}},components:{ebookLogo:Nr,hamburgerIcon:Dr,shortcut:qr},data:function(){var path=this.$router.currentRoute.path;return{isShownSearchInput:Kr.find(function(e){return new RegExp("^".concat(e,"/?$")).test(path)})}},computed:Object(j.a)({},Object(pt.e)("hamburgerMenu",["isShowMenu"]),Object(pt.e)("search",["modalOpened"])),methods:Object(j.a)({},Object(pt.d)("hamburgerMenu",["setMenuState"]),Object(pt.d)("search",["openModal"]),{onClickHamburgerBtn:function(){this.setMenuState()}}),watch:{isShowMenu:function(e){this.$refs.header.style.height=e?"".concat(this.$refs.headerInner.clientHeight,"px"):""},$route:function(e,t){e.path!==t.path&&(this.isShownSearchInput=Kr.find(function(t){return new RegExp("^".concat(t,"/?$")).test(e.path)}))}}},zr=Object(ot.a)(Wr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{ref:"header",staticClass:"header",class:{"header--type-simple":e.noHamburgerMenu}},[n("div",{ref:"headerInner",staticClass:"header__inner"},[e.isShowMenu?e._e():n("ebook-logo"),e.noHamburgerMenu?e._e():n("hamburger-icon",{attrs:{isShowMenu:e.isShowMenu},on:{clickHamburgerBtn:e.onClickHamburgerBtn}}),e.isShowMenu?e._e():n("shortcut")],1),!e.isShownSearchInput||e.isShowMenu||e.modalOpened?e._e():n("div",{staticClass:"search-form"},[n("div",{staticClass:"container"},[n("div",{staticClass:"container__gutter"},[n("div",{staticClass:"search-input"},[n("div",{staticClass:"input-box"},[n("div",{staticClass:"input-box__inner"},[n("div",{staticClass:"input-box__text"},[n("input",{attrs:{type:"search",placeholder:"作品名・作者名で検索"},on:{focus:function(t){return e.openModal()}}})]),n("i",{staticClass:"icon font-search"},[e._v("検索")])])])])])])])])},[],!1,null,null,null).exports,Vr=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",{staticClass:"footer__about"},[this._v("About ebookjapan")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"footer__txt"},[this._v("\n          たった一つのコマに、涙することもある。"),t("br"),this._v("\n          たった一言のセリフに、心打たれることもある。"),t("br"),this._v("\n          たった一冊の漫画で、人生が変わることもある。"),t("br"),t("br"),this._v("\n          一人でも多くの人に、"),t("br"),this._v("\n          感動と、発見と、インスピレーションを。\n        ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"https://privacy.yahoo.co.jp/"}},[this._v("プライバシー")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"https://about.yahoo.co.jp/docs/info/terms/"}},[this._v("利用規約")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"https://corp.ebookjapan.jp/"}},[this._v("株式会社イーブックイニシアティブジャパン")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"https://premium.yahoo.co.jp/info/guidelines.html"}},[this._v("Y!プレミアム利用ガイド")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"https://recruit.ebookjapan.jp"}},[this._v("電子書籍の未来を一緒につくる新卒メンバー募集中")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer__abj"},[t("img",{attrs:{alt:"ABJマーク",src:n(684),width:"100",height:"82"}}),t("p",{staticClass:"footer__txt"},[this._v("\n          ABJマークは、この電子書店・電子書籍配信サービスが、著作権者からコンテンツ使用許諾を得た正規版配信サービスであることを示す登録商標(登録番号 第6091713号)です。\n          詳しくは[ABJマーク]または[電子出版制作・流通協議会]で検索してください。\n        ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("address",[this._v("\n        ebookjapanはヤフー株式会社のサービスであり、ヤフー株式会社が株式会社イーブックイニシアティブジャパンと協力して運営しています。"),t("br"),this._v("\n        (C) eBOOK Initiative Japan Co.,Ltd.　(C) Yahoo Japan Corporation.\n      ")])}],Jr={props:{isPoem:{type:Boolean,default:!0}},data:function(){return{settlementUrl:Object(ht.f)("url.static.settlement")}},computed:Object(j.a)({},Object(pt.e)("user",["memberId"]),{faqUrl:function(){return"".concat(Object(ht.f)("url.faq"),"?memberid=").concat(this.memberId)}})},Qr=Object(ot.a)(Jr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"footer"},[n("div",{staticClass:"container"},[n("div",{staticClass:"container__gutter"},[e.isPoem?[e._m(0),n("h3",[e._v("人生に、漫画を。")]),e._m(1)]:e._e(),n("ul",{staticClass:"footer__link"},[e._m(2),e._m(3),n("li",[n("a",{attrs:{href:e.settlementUrl}},[e._v("特定商取引法に基づく表示")])]),n("li",{staticClass:"footer__link--break"}),e._m(4),e._m(5),n("li",[n("a",{attrs:{href:e.faqUrl}},[e._v("よくある質問・お問い合わせ")])]),e._m(6)]),n("p",{staticClass:"footer__txt"},[e._v("商品情報に記載の割引率は税込価格をもとに表示しております。")]),e._m(7),e._m(8)],2)])])},Vr,!1,null,null,null).exports,Xr={name:"search",mixins:[_t.a],data:function(){return{recommendKeywords:Object(ht.f)("searchRecommend.keywords"),isMounted:!1,clickLogRapidInfo:{recommendKeywords:{sec:Object(ht.k)("click.common.search.recommendKeywords.sec"),slk:Object(ht.k)("click.common.search.recommendKeywords.slk")}}}},computed:Object(j.a)({},Object(pt.e)("search",["modalOpened"])),methods:Object(j.a)({},Object(pt.d)("search",["closeModal","startSearching","stopSearching"]),{clear:function(){this.clearSuggests(),this.clearKeyword()},doSearch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(e.length<=0)){var n=Object(ft.get)(this,"$refs[recommendKeywords_".concat(t,"][0].attributes.data-rapid_p.value"));if(Object(ft.has)(window,"YAHOO.i13n.JP.ebook.rapid")&&n)try{window.YAHOO.i13n.JP.ebook.rapid.beaconClick(this.clickLogRapidInfo.recommendKeywords.sec,this.clickLogRapidInfo.recommendKeywords.slk,n)}catch(e){}this.closeModal(),this.search(e)}}}),watch:{modalOpened:function(e){this.isMounted&&(this.clearKeyword(),window.scrollTo(0,0))}},mounted:function(){this.isMounted=!0}},Zr=(n(685),Object(ot.a)(Xr,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-search"},[n("div",{staticClass:"search-form search-form--background"},[n("div",{staticClass:"container"},[n("div",{staticClass:"container__gutter"},[n("div",{staticClass:"search-input"},[n("div",{staticClass:"input-box"},[n("div",{staticClass:"input-box__inner"},[n("div",{staticClass:"input-box__text"},[n("form",{attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.doSearch(e.keyword)}}},[n("input",{ref:"keywordInput",attrs:{type:"search",placeholder:"作品名・作者名で検索",maxlength:"150"},domProps:{value:e.keyword},on:{input:function(t){return e.updateKeyword(t.target.value)},focus:e.startSearching,blur:e.stopSearching}})])]),n("i",{staticClass:"icon font-search"},[e._v("検索")]),e.keyword?n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.clear()}}},[n("i",{staticClass:"icon font-clear"},[e._v("クリア")])]):e._e()])]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.suggestKeywords.length,expression:"suggestKeywords.length"}],staticClass:"search-suggest"},e._l(e.suggestKeywords,function(t,i){return n("li",{key:"suggest-keyword-"+i,staticClass:"search-suggest__item",on:{click:function(n){return e.doSearch(t)}}},[e._v(e._s(t))])}),0),n("span",{staticClass:"cancel",on:{click:function(t){return t.preventDefault(),e.closeModal()}}},[e._v("キャンセル")]),Array.isArray(e.recommendKeywords)&&e.recommendKeywords.length>0?n("div",{staticClass:"keyword-list tracked_mods",attrs:{id:e.clickLogRapidInfo.recommendKeywords.sec}},[n("div",{staticClass:"container"},[n("div",{staticClass:"container__gutter"},[e._m(0),n("ul",{staticClass:"tag-block"},e._l(e.recommendKeywords,function(t,i){return n("li",{key:"recommend-keyword_"+t,staticClass:"tag-block__list"},[n("a",{ref:"recommendKeywords_"+(i+1),refInFor:!0,staticClass:"tagtxt rapid-noclick-resp",attrs:{href:"javascript:void(0)","data-ylk":"slk:"+e.clickLogRapidInfo.recommendKeywords.slk+";pos:"+(i+1)},on:{click:function(n){return n.preventDefault(),e.doSearch(t,i+1)}}},[e._v(e._s(t))])])}),0)])])]):e._e()])])])]),n("div",{staticClass:"input-background"})])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"heading"},[t("h2",{staticClass:"heading__main"},[this._v("人気のキーワード")])])}],!1,null,"6f367024",null).exports),ea={computed:Object(j.a)({},Object(pt.e)("hamburgerMenu",["isShowMenu"]),Object(pt.e)("dropdown",["showedDropdownId"]),Object(pt.e)("search",["modalOpened"])),methods:Object(j.a)({},Object(pt.d)("hamburgerMenu",["closeMenu"]),Object(pt.d)("dropdown",["updateShowedDropdownId"]),{onClickOutsideDropdown:function(){this.updateShowedDropdownId("")}}),watch:{$route:function(e,t){this.closeMenu()}}},ta={name:"layout-bookshelf-sp",mixins:[ea],components:{mhd:It,matildaBanner:bt,emgInfoModule:Ar,ebookHeader:zr,ebookFooter:Qr,search:Zr}},na=Object(ot.a)(ta,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("emg-info-module",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}]}),e.isShowMenu?e._e():n("matilda-banner",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened,expression:"!modalOpened"}]}),n("ebook-header"),n("mhd",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}]}),n("nuxt",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened,expression:"!modalOpened"}]}),n("search",{directives:[{name:"show",rawName:"v-show",value:e.modalOpened,expression:"modalOpened"}]}),n("ebook-footer",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}]}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showedDropdownId,expression:"showedDropdownId"}],staticClass:"dropdown-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.onClickOutsideDropdown(t)}}})],1)},[],!1,null,null,null).exports,ra={name:"layout-bookshelf-sp",mixins:[ea],components:{mhd:It,matildaBanner:bt,emgInfoModule:Ar,ebookHeader:zr,ebookFooter:Qr,search:Zr}},aa=Object(ot.a)(ra,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("emg-info-module",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}]}),e.isShowMenu?e._e():n("matilda-banner",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened,expression:"!modalOpened"}]}),n("ebook-header"),n("mhd",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}]}),n("nuxt",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened,expression:"!modalOpened"}]}),n("search",{directives:[{name:"show",rawName:"v-show",value:e.modalOpened,expression:"modalOpened"}]}),n("ebook-footer",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}]}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showedDropdownId,expression:"showedDropdownId"}],staticClass:"dropdown-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.onClickOutsideDropdown(t)}}})],1)},[],!1,null,null,null).exports,oa=n(510),ia={mixins:[wt.a],computed:Object(j.a)({},Object(pt.e)("user",["displayName","tpoint","iconUrl","isPremium","isLogin"])),methods:{toLocaleString:ht.q,truncate:ht.r}},sa=Object(ot.a)(ia,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("div",{staticClass:"container"},[e.isLogin?[e.iconUrl&&e.displayName?n("nuxt-link",{attrs:{to:"/mypage"}},[n("div",{staticClass:"flexbox"},[n("div",{staticClass:"flexbox__item"},[n("div",{staticClass:"user__figure"},[n("img",{attrs:{alt:"プロフィール画像",src:e.iconUrl}})])]),n("div",{staticClass:"flexbox__item"},[e.isPremium?n("i",{staticClass:"icon sprite-premium"}):e._e(),e._v("\n            "+e._s(e.truncate(e.displayName,7))+"さん\n            "),n("p",{staticClass:"user__point"},[e._v("\n              "+e._s(e.toLocaleString(e.tpoint))+"ポイント\n            ")])])]),n("i",{staticClass:"icon font-arrow-right"})]):e._e()]:[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.gotoLoginPage(t)}}},[e._v("\n        ログイン\n      ")])]],2)])},[],!1,null,null,null).exports,ca=n(504),ua={mixins:[At.a,Wt.a,_n.a],components:{userInfo:sa,itemContainer:ca.a},data:function(){return{navigationMenu:Object(ht.f)("hamburgerMenu.navigation"),menuSectionContents:[].concat(Object(Tt.a)(Object(ht.f)("hamburgerMenu.menuSection")),[{label:"よくある質問",value:"faq",to:Object(ht.f)("url.faq")}]),isMounted:!1,observer:null}},computed:Object(j.a)({},Object(pt.c)("cart",["hasItems","hasItemsInLocal"]),Object(pt.c)("user/newbookNotification",["hasNewbookNotification"]),Object(pt.c)("user/coupon",["coupons"])),methods:{getIsShownNavigationBadge:function(e){return!!this.isMounted&&("cart"===e&&(this.hasItems||this.hasItemsInLocal)||"arrival-alerts"===e&&this.hasNewbookNotification)},getIsShownMenuSectionBadge:function(e){return!!this.isMounted&&("coupon"===e&&this.coupons.length>0)},changeSafeMode:function(e){this.setSafeMode(e.target.value)},onClickLink:function(e){this.$router.currentRoute.path!==e?/^https?:\/\//.test(e)?location.href=e:this.$router.push(e):this.$emit("closeMenu")}},mounted:function(){this.isMounted=!0,this.observer=new oa.a(function(e){window.scrollTo(0,0)}),this.observer.observe(this.$refs.sideMenu)},beforeDestroy:function(){this.observer.disconnect(this.$refs.sideMenu)}},la=Object(ot.a)(ua,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{ref:"sideMenu",staticClass:"side-menu"},[n("no-ssr",{attrs:{placeholder:"status checking..."}},[n("user-info")],1),n("div",{staticClass:"navigation"},[n("div",{staticClass:"container"},[n("div",{staticClass:"line-list line-list--aside"},[n("ul",{staticClass:"line-list__inner"},e._l(e.navigationMenu,function(menu){return n("li",{key:"navigationMenu_"+menu.value,staticClass:"line-list__item"},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return t.preventDefault(),e.onClickLink(menu.to)}}},[n("i",{staticClass:"icon",class:"font-"+menu.icon}),e.getIsShownNavigationBadge(menu.value)?n("span",{staticClass:"badge"}):e._e(),e._v("\n              "+e._s(menu.label)+"\n            ")])])}),0)])])]),n("div",{staticClass:"menu-section"},[n("ul",{staticClass:"columns"},e._l(e.menuSectionContents,function(content,i){return n("li",{key:"menu-section_"+content.value,staticClass:"col col--half"},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return t.preventDefault(),e.onClickLink(content.to)}}},[e._v("\n          "+e._s(content.label)+"\n          "),e.getIsShownMenuSectionBadge(content.value)?n("span",{staticClass:"badge"}):e._e()])])}),0)]),e.newbookPublications&&e.newbookPublications.length>0?[n("div",{staticClass:"arrivals-section"},[n("div",{staticClass:"container"},[n("div",{staticClass:"container__gutter"},[n("div",{staticClass:"heading"},[n("h2",{staticClass:"heading__main"},[e._v("あなたへの続刊のお知らせ")]),n("div",{staticClass:"heading__aside"},[n("nuxt-link",{attrs:{to:"/mypage/arrival-alerts/"}},[e._v("すべて見る"),n("i",{staticClass:"icon font-arrow-right"})])],1)])])]),n("item-container",{attrs:{items:e.newbookPublications.slice(0,3)},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"book-item book-item--disp-grid"},[n("nuxt-link",{staticClass:"book-item__box",attrs:{to:e.bookUrl(t.item)}},[n("div",{staticClass:"book-item__cover"},[n("img",{attrs:{alt:e.publicationName(t.item),src:e.bookImageUrl(t.item)}})])])],1)]}}],null,!1,1768649103)})],1)]:e._e(),e.notifications&&e.notifications.length?n("div",{staticClass:"notice-section"},[e._m(0),n("ul",{staticClass:"notices"},e._l(e.notifications,function(t,i){return n("li",{key:"notification_"+i,staticClass:"notice-list"},[n("div",{staticClass:"container"},[n("nuxt-link",{attrs:{to:t.url}},[n("div",{staticClass:"flexbox"},[n("div",[n("p",{staticClass:"notice-list__txt"},[e._v(e._s(t.text))])])]),n("i",{staticClass:"icon font-arrow-right"})])],1)])}),0)]):e._e(),n("div",{staticClass:"category-section"},[e._m(1),n("ul",{staticClass:"columns"},[e._l(e.filteredGenre,function(t){return n("li",{key:t.title,staticClass:"col col--half"},[n("nuxt-link",{attrs:{to:"/genre/"+t.name+"/"}},[e._v(e._s(t.title))])],1)}),e.filteredGenre.length%2==1?n("li",{staticClass:"col col--half"}):e._e()],2)]),Array.isArray(e.regularInformation)&&e.regularInformation.length>0?n("div",{staticClass:"notice-section"},[n("div",{staticClass:"container"},[n("div",{staticClass:"container__gutter"},[n("div",{staticClass:"heading"},[n("h2",{staticClass:"heading__main"},[e._v("お知らせ")]),n("div",{staticClass:"heading__aside"},[n("nuxt-link",{attrs:{to:"/information/notice/"}},[e._v("一覧"),n("i",{staticClass:"icon font-arrow-right"})])],1)])])]),n("ul",{staticClass:"notices"},e._l(e.regularInformation,function(t){return n("li",{key:e._f("id")(t),staticClass:"notice-list"},[n("div",{staticClass:"container"},[n("nuxt-link",{attrs:{to:e._f("url")(t)}},[n("div",{staticClass:"flexbox"},[n("div",[n("p",{staticClass:"notice-list__txt"},[e._v(e._s(e._f("title")(t)))])])]),n("i",{staticClass:"icon font-arrow-right"})])],1)])}),0)]):e._e(),n("div",{staticClass:"safe-mode-button"},[n("div",{staticClass:"container"},[n("div",{staticClass:"container__gutter"},[e._m(2),n("div",{staticClass:"input-radio"},e._l(e.safeModeOptions,function(option){return n("label",{key:"safe-mode-input-radio-"+option.value},[n("input",{attrs:{type:"radio",name:"safe-mode-rb"},domProps:{value:option.value,checked:option.value===e.safeMode},on:{change:e.changeSafeMode}}),n("span",{staticClass:"input-radio__btn"}),n("span",{staticClass:"input-radio__txt"},[e._v(e._s(option.label))])])}),0)])])])],2)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"container__gutter"},[t("div",{staticClass:"heading"},[t("h2",{staticClass:"heading__main"},[this._v("通知")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"container__gutter"},[t("div",{staticClass:"heading"},[t("h2",{staticClass:"heading__main"},[this._v("ジャンル")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"heading"},[t("h2",{staticClass:"heading__main"},[this._v("セーフモード")])])}],!1,null,null,null).exports,da={props:{selected:{type:String},isFixed:{type:Boolean,default:!1}},data:function(){return{contents:Object(ht.f)("contentsNav.contents")}}},fa=Object(ot.a)(da,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"contentsNav",staticClass:"navigation",class:{"navigation--fixed":e.isFixed}},[n("div",{staticClass:"container"},[n("div",{staticClass:"line-list"},[n("ul",{staticClass:"line-list__inner"},e._l(e.contents,function(t,i){return n("li",{key:"contents-nav_"+t.name,staticClass:"line-list__item",class:{"line-list__item--current":t.name===e.selected}},[n(t.name===e.selected?"span":"nuxt-link",{tag:"component",attrs:{to:t.to}},[n("i",{staticClass:"icon",class:"font-"+t.icon}),e._v(e._s(t.label))])],1)}),0)])])])},[],!1,null,null,null).exports,pa={mixins:[n(508).a],props:{isOpenModal:{type:Boolean,default:!1},isShowMenu:{type:Boolean,default:!1}},components:{contentsNav:fa,ebookHeader:zr,mhd:It},data:function(){return{isShownFixedHeader:!1,isShownFixedContentsNav:!1}},computed:{isValidFixedScroll:function(){var e=this.contentsNavInfo&&!this.contentsNavInfo.isFixed&&!this.isOpenModal&&!this.isShowMenu&&!this.mhdModuleHeight;return e||this.resetShowStatus(),e},headerClientTop:function(){var e=Object(ft.get)(this,"$refs.ebookHeader.$refs.header");return e?e.getBoundingClientRect().top+this.scrollY:0},headerClientHeight:function(){return Object(ft.get)(this,"$refs.ebookHeader.$refs.header.offsetHeight",0)},contentsNavHeight:function(){return Object(ft.get)(this,"$refs.contentsNav.$refs.contentsNav.offsetHeight",0)},mhdModuleHeight:function(){return Object(ft.get)(this,"$refs.mhdModule.$refs.emgWrapper.offsetHeight",0)},headerBlockClientHeight:function(){return this.headerClientHeight+this.contentsNavHeight+this.mhdModuleHeight},contentsNavInfo:function(){var e=this.$route.name;return Object(ht.f)("contentsNav.pagesConfigSp").find(function(t){return t.name===e})},seletctedContentsNavName:function(){return this.contentsNavInfo&&this.contentsNavInfo.hasContents?this.contentsNavInfo.name:null},opacityClass:function(){return this.isShownFixedHeader||!this.isShownFixedContentsNav?"opacity-valid":"opacity-invalid"}},watch:{scrollY:function(e,t){if(this.isValidFixedScroll){var n=this.headerClientTop+this.headerClientHeight+this.mhdModuleHeight;t<e?this.headerClientHeight>0&&(this.isShownFixedContentsNav=e>n,this.isShownFixedHeader=!1):this.headerClientHeight<=0||e<=this.headerClientHeight?(this.isShownFixedHeader=!1,this.isShownFixedContentsNav=!1,this.$refs.dummy.style.paddingTop=0):e>n&&(this.isShownFixedHeader=!0)}},isShownFixedContentsNav:function(e){this.$refs.dummy.style.paddingTop=e?"".concat(this.contentsNavHeight,"px"):0},isShownFixedHeader:function(e){e?this.$refs.dummy.style.paddingTop="".concat(this.headerBlockClientHeight,"px"):this.isShownFixedContentsNav&&(this.$refs.dummy.style.paddingTop="".concat(this.contentsNavHeight,"px"))},$route:function(e,t){this.resetShowStatus()},isShowMenu:function(e){this.resetShowStatus()}},methods:{resetShowStatus:function(){this.isShownFixedContentsNav=!1,this.isShownFixedHeader=!1}}},ha=(n(687),Object(ot.a)(pa,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:{"header-block header-block--fixed":e.isShownFixedHeader}},[n("ebook-header",{ref:"ebookHeader",class:e.opacityClass}),n("mhd",{directives:[{name:"show",rawName:"v-show",value:!e.isOpenModal&&!e.isShowMenu,expression:"!isOpenModal && !isShowMenu"}],ref:"mhdModule",class:e.opacityClass}),e.contentsNavInfo?n("contents-nav",{directives:[{name:"show",rawName:"v-show",value:!e.isOpenModal&&!e.isShowMenu,expression:"!isOpenModal && !isShowMenu"}],ref:"contentsNav",attrs:{selected:e.seletctedContentsNavName,isFixed:!e.isShownFixedHeader&&e.isShownFixedContentsNav}}):e._e()],1),n("div",{ref:"dummy"})])},[],!1,null,"11ea3817",null).exports),ma={mixins:[ea],components:{matildaBanner:bt,ebookHeader:zr,headerContents:ha,ebookFooter:Qr,hamburgerMenu:la,search:Zr,emgInfoModule:Ar},props:{isShownBanner:{type:Boolean,default:!0}}},ba=Object(ot.a)(ma,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("emg-info-module",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}]}),e.isShownBanner&&!e.isShowMenu?n("matilda-banner",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened,expression:"!modalOpened"}]}):e._e(),n("header-contents",{attrs:{isOpenModal:e.modalOpened,isShowMenu:e.isShowMenu}}),n("transition",{attrs:{name:"sidemenu"}},[n("hamburger-menu",{directives:[{name:"show",rawName:"v-show",value:e.isShowMenu,expression:"isShowMenu"}],on:{closeMenu:e.closeMenu}})],1),e.isShowMenu?e._e():[n("nuxt",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened,expression:"!modalOpened"}]}),n("search",{directives:[{name:"show",rawName:"v-show",value:e.modalOpened,expression:"modalOpened"}]})],n("ebook-footer",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}],attrs:{isPoem:!1}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showedDropdownId,expression:"showedDropdownId"}],staticClass:"dropdown-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.onClickOutsideDropdown(t)}}})],2)},[],!1,null,null,null).exports,va={components:{spDefault:ba}},_a=Object(ot.a)(va,function(){var e=this.$createElement;return(this._self._c||e)("sp-default")},[],!1,null,null,null).exports,ya={components:{mhd:It,ebookHeader:zr,emgInfoModule:Ar,ebookFooter:Qr},computed:Object(j.a)({},Object(pt.e)("search",["modalOpened"]))},ka=Object(ot.a)(ya,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("emg-info-module",{directives:[{name:"show",rawName:"v-show",value:!this.modalOpened,expression:"!modalOpened"}]}),t("ebook-header",{attrs:{noHamburgerMenu:!0}}),t("mhd",{directives:[{name:"show",rawName:"v-show",value:!this.modalOpened,expression:"!modalOpened"}]}),t("nuxt",{directives:[{name:"show",rawName:"v-show",value:!this.modalOpened,expression:"!modalOpened"}]}),t("ebook-footer",{directives:[{name:"show",rawName:"v-show",value:!this.modalOpened,expression:"!modalOpened"}],attrs:{isPoem:!1}})],1)},[],!1,null,null,null).exports,Oa=(n(689),Object(ot.a)({},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this._m(0),t("nuxt")],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loading"},[t("div",{staticClass:"loading__circle"},[this._v("Loading...")])])}],!1,null,null,null).exports),wa={components:{spDefault:ba}},ja=Object(ot.a)(wa,function(){var e=this.$createElement;return(this._self._c||e)("sp-default",{attrs:{isShownBanner:!1}})},[],!1,null,null,null).exports,xa={mixins:[ea],components:{matildaBanner:bt,ebookHeader:zr,headerContents:ha,hamburgerMenu:la,search:Zr,emgInfoModule:Ar}},Ca=Object(ot.a)(xa,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("emg-info-module",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}]}),e.isShowMenu?e._e():n("matilda-banner",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened,expression:"!modalOpened"}]}),n("header-contents",{attrs:{isOpenModal:e.modalOpened,isShowMenu:e.isShowMenu}}),n("transition",{attrs:{name:"sidemenu"}},[n("hamburger-menu",{directives:[{name:"show",rawName:"v-show",value:e.isShowMenu,expression:"isShowMenu"}],on:{closeMenu:e.closeMenu}})],1),e.isShowMenu?e._e():[n("nuxt",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened,expression:"!modalOpened"}]}),n("search",{directives:[{name:"show",rawName:"v-show",value:e.modalOpened,expression:"modalOpened"}]})],n("div",{directives:[{name:"show",rawName:"v-show",value:e.showedDropdownId,expression:"showedDropdownId"}],staticClass:"dropdown-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.onClickOutsideDropdown(t)}}})],2)},[],!1,null,null,null).exports,Ta={components:{ebookLogo:Nr,yIcon:Gr.default,matildaBanner:bt,mhd:It},props:{isShownBanner:{type:Boolean,default:!1}}},Ea=Object(ot.a)(Ta,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this.isShownBanner?t("matilda-banner"):this._e(),t("header",{staticClass:"header header--type-simple"},[t("div",{staticClass:"header__inner"},[t("ebook-logo"),t("ul",{staticClass:"header__shortcut"},[t("y-icon")],1)],1)]),t("mhd"),t("nuxt"),this._m(0)],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("footer",{staticClass:"footer"},[t("div",{staticClass:"container"},[t("div",{staticClass:"container__gutter"},[t("p",{staticClass:"footer__txt"},[this._v("商品情報に記載の割引率は税込価格をもとに表示しております。")]),t("address",[this._v("\n          ebookjapanはヤフー株式会社のサービスであり、ヤフー株式会社が株式会社イーブックイニシアティブジャパンと協力して運営しています。"),t("br"),this._v("\n          (C) eBOOK Initiative Japan Co.,Ltd.　(C) Yahoo Japan Corporation.\n        ")])])])])}],!1,null,null,null).exports,Pa={components:{mhd:It}},Ra={components:{spSimple:Ea}},Sa={mixins:[ea],components:{matildaBanner:bt,ebookHeader:zr,headerContents:ha,ebookFooter:Qr,hamburgerMenu:la,search:Zr,emgInfoModule:Ar}},Ia={"_page-webview":lt,"_pc-bookshelf":Tn,"_pc-campaign":Sn,"_pc-default":_r,"_pc-error":Or,"_pc-loading":wr,"_pc-no-banner":Tr,"_pc-no-sidemenu":xr,"_pc-simple":Pr,"_pc-viewerlast":Sr,"_sp-bookshelf":na,"_sp-bookshelf2":aa,"_sp-campaign":_a,"_sp-default":ba,"_sp-error":ka,"_sp-loading":Oa,"_sp-no-banner":ja,"_sp-no-footer":Ca,"_sp-simple":Ea,"_sp-viewerlast-appLink":Object(ot.a)(Pa,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("header",{staticClass:"header header--type-simple"}),t("mhd"),t("nuxt"),this._m(0)],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("footer",{staticClass:"footer"},[t("div",{staticClass:"container"},[t("div",{staticClass:"container__gutter"},[t("address",[this._v("\n          ebookjapanはヤフー株式会社のサービスであり、ヤフー株式会社が株式会社イーブックイニシアティブジャパンと協力して運営しています。"),t("br"),this._v("\n          (C) eBOOK Initiative Japan Co.,Ltd.　(C) Yahoo Japan Corporation.\n        ")])])])])}],!1,null,null,null).exports,"_sp-viewerlast":Object(ot.a)(Ra,function(){var e=this.$createElement;return(this._self._c||e)("sp-simple",{attrs:{isShownBanner:!0}})},[],!1,null,null,null).exports,"_sp-with-poem":Object(ot.a)(Sa,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("emg-info-module",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}]}),e.isShowMenu?e._e():n("matilda-banner",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened,expression:"!modalOpened"}]}),n("header-contents",{attrs:{isOpenModal:e.modalOpened,isShowMenu:e.isShowMenu}}),n("transition",{attrs:{name:"sidemenu"}},[n("hamburger-menu",{directives:[{name:"show",rawName:"v-show",value:e.isShowMenu,expression:"isShowMenu"}],on:{closeMenu:e.closeMenu}})],1),e.isShowMenu?e._e():[n("nuxt",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened,expression:"!modalOpened"}]}),n("search",{directives:[{name:"show",rawName:"v-show",value:e.modalOpened,expression:"modalOpened"}]})],n("ebook-footer",{directives:[{name:"show",rawName:"v-show",value:!e.modalOpened&&!e.isShowMenu,expression:"!modalOpened && !isShowMenu"}]}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showedDropdownId,expression:"showedDropdownId"}],staticClass:"dropdown-background",on:{click:function(t){return t.target!==t.currentTarget?null:e.onClickOutsideDropdown(t)}}})],2)},[],!1,null,null,null).exports,_default:Object(ot.a)({},function(){var e=this.$createElement;return(this._self._c||e)("Nuxt")},[],!1,null,null,null).exports},Aa={head:function(){var e=[],t="desktop",n=this.$Useragent.parse(navigator.userAgent);return n.isMobile&&!n.isTablet&&(t="smartphone"),/^\/viewer\/?$/.test(this.$store.app.context.route.path)?e.push({rel:"stylesheet",href:"/smartphone/css/viewer.min.css"}):e.push({rel:"stylesheet",href:"/".concat(t,"/css/style.min.css")}),/\/((free|sale)\/\d+)/.test(this.$store.app.context.route.path)&&(e.push({rel:"stylesheet",href:"/".concat(t,"/css/event.min.css")}),e.push({rel:"stylesheet",href:"/".concat(t,"/css/event_color.min.css")})),{title:"無料まんが・試し読みが豊富！ebookjapan｜まんが（漫画）・電子書籍をお得に買うなら、無料で読むならebookjapan",meta:[{charset:"utf-8"},{hid:"viewport",name:"viewport",content:"width=device-width, initial-scale=1, user-scalable=no"},{hid:"keywords",name:"keywords",content:"まんが,電子書籍,マンガ,漫画,コミック,イーブック,ebook"},{hid:"description",name:"description",content:"まんがをお得に買うなら、無料で読むなら、品揃え世界最大級のまんが・電子書籍販売サイト「ebookjapan」！豊富な無料・試し読みまんがに加えて、1巻まるごと無料で読めるまんがも多数！割引・セールも毎日実施！新刊も続々入荷！"}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"},{rel:"apple-touch-icon",href:"https://s.yimg.jp/images/bookstore/ebook/web/common/ipn/ebookjapan180.png"},{rel:"dns-prefetch",href:"//stats.g.doubleclick.net"},{rel:"dns-prefetch",href:"//yjtag.yahoo.co.jp"},{rel:"dns-prefetch",href:"//s.yjtag.jp"},{rel:"dns-prefetch",href:"//px.ladsp.com"},{rel:"dns-prefetch",href:"//dsb.yahoo.co.jp"},{rel:"dns-prefetch",href:"//analytics.twitter.com"},{rel:"dns-prefetch",href:"//t.co"},{rel:"dns-prefetch",href:"//d-track.send.microad.jp"},{rel:"dns-prefetch",href:"//b97.yahoo.co.jp"},{rel:"dns-prefetch",href:"//cd.ladsp.com"},{rel:"dns-prefetch",href:"//connect.facebook.net"},{rel:"dns-prefetch",href:"//static.ads-twitter.com"},{rel:"dns-prefetch",href:"//cache.send.microad.jp"},{rel:"dns-prefetch",href:"//www.google-analytics.com"},{rel:"dns-prefetch",href:"//www.facebook.com"},{rel:"dns-prefetch",href:"//googleads.g.doubleclick.net"},{rel:"dns-prefetch",href:"//www.google.co.jp"},{rel:"dns-prefetch",href:"//www.googletagmanager.com"},{rel:"dns-prefetch",href:"//www.googleadservices.com"},{rel:"preload",href:"https://s.yimg.jp/images/ds/ult/jp/rapid-4.0.3.js",as:"script"},{rel:"preload",href:"https://s.yimg.jp/images/bookstore/ebook/web/external/ga.js",as:"script"}].concat(e),script:[{src:"https://s.yimg.jp/images/ds/ult/jp/rapid-4.0.3.js",type:"text/javascript",body:!0,defer:!0},{src:"https://s.yimg.jp/images/bookstore/ebook/web/external/ga.js",type:"text/javascript",body:!0,defer:!0},{src:"https://s.yimg.jp/images/mempf/mt.js",type:"text/javascript",body:!0}]}},render:function(e,t){var n=e("NuxtLoading",{ref:"loading"}),r=e(this.layout||"nuxt"),o=e("div",{domProps:{id:"__layout"},key:this.layoutName},[r]),c=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(e){window.$nuxt.$nextTick(function(){window.$nuxt.$emit("triggerScroll")})}}},[o]);return e("div",{domProps:{id:"__nuxt"}},[n,c])},data:function(){return{isOnline:!0,layout:null,layoutName:""}},beforeCreate:function(){c.a.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){c.a.prototype.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error},mounted:function(){this.$loading=this.$refs.loading},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},errorChanged:function(){this.nuxt.err&&this.$loading&&(this.$loading.fail&&this.$loading.fail(),this.$loading.finish&&this.$loading.finish())},setLayout:function(e){return e&&Ia["_"+e]||(e="default"),this.layoutName=e,this.layout=Ia["_"+e],this.layout},loadLayout:function(e){return e&&Ia["_"+e]||(e="default"),Promise.resolve(Ia["_"+e])}},components:{NuxtLoading:ut}};c.a.use(pt.a);var Ma,Da=console,Ba=["state","getters","actions","mutations"],Na={};!function(){var e=(Ma=n(691)).keys().sort(function(e,t){var n=e.split("/").length-t.split("/").length;return 0===n&&e.includes("/index.")?n=-1:0===n&&t.includes("/index.")&&(n=1),n}),t=e.find(function(path){return path.includes("./index.")});if(t&&(Na=$a(t,{isRoot:!0})),"function"==typeof Na)return Da.warn("Classic mode for store/ is deprecated and will be removed in Nuxt 3.");Na.modules=Na.modules||{};var r=!0,o=!1,c=void 0;try{for(var l,d=e[Symbol.iterator]();!(r=(l=d.next()).done);r=!0){var path=l.value,f=path.replace(/^\.\//,"").replace(/\.(js|mjs|ts)$/,"");if("index"!==f){var h=f.split("/"),m=h[h.length-1],v=$a(path,{isState:"state"===m});if(Ba.includes(m)){var _=m;Ua(Fa(Na,h,{isProperty:!0}),v,_)}else{"index"===m&&(h.pop(),m=h[h.length-1]);for(var y=Fa(Na,h),k=0;k<Ba.length;k++){var O=Ba[k];Ua(y,v[O],O)}}}}}catch(e){o=!0,c=e}finally{try{r||null==d.return||d.return()}finally{if(o)throw c}}}();var La=Na instanceof Function?Na:function(){return new pt.a.Store(Object.assign({strict:!1},Na))};function $a(path){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.isRoot,n=void 0!==t&&t,r=e.isState,o=void 0!==r&&r,c=Ma(path),l=c.default||c;if(o&&"function"!=typeof l){Da.warn("".concat(path," should export a method that returns an object"));var d=Object.assign({},l);return function(){return d}}if(n&&l.commit)throw new Error("[nuxt] store/"+path.replace("./","")+" should export a method that returns a Vuex instance.");if(n&&"function"!=typeof l&&(l=Object.assign({},l)),l.state&&"function"!=typeof l.state){Da.warn("'state' should be a method that returns an object in ".concat(path));var f=Object.assign({},l.state);l=Object.assign({},l,{state:function(){return f}})}return l}function Fa(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).isProperty,r=void 0!==n&&n;if(!t.length||r&&1===t.length)return e;var o=t.shift();return e.modules[o]=e.modules[o]||{},e.modules[o].namespaced=!0,e.modules[o].modules=e.modules[o].modules||{},Fa(e.modules[o],t,{isProperty:r})}function Ua(e,t,n){t&&("state"===n?e.state=t||e.state:e[n]=Object.assign({},e[n],t))}var Ya=n(31),Ga=n(96),Ha=n(644),qa=n.n(Ha);Ga.a.Validator.localize("ja",qa.a),Ga.a.Validator.extend("creditNumber",{getMessage:function(e){return"クレジットカード番号を正しくご入力ください。"},validate:function(e){var t=e.replace(/\s/g,"");if(!t||isNaN(t))return!1;if(t.length<14||t.length>16)return!1;var n=t.split("").reverse(),r=0;return n.forEach(function(e,i){var t=e*(1+i%2);r+=t>9?t-9:t}),r%10==0}}),Ga.a.Validator.extend("expireMonth",{getMessage:function(e){return"有効期限を正しくご入力ください。"},validate:function(e,t){var n=Object(Ya.a)(t,1)[0];if(!e||isNaN(e))return!1;if(parseInt(e)<1||parseInt(e)>12)return!1;var r=new Date,o=new Date("20"+n,e,1);return!(n&&r.getTime()>o.getTime())}},{hasTarget:!0}),Ga.a.Validator.extend("expireYear",{getMessage:function(e){return"有効期限を正しくご入力ください。"},validate:function(e,t){var n=Object(Ya.a)(t,1)[0];if(!e||isNaN(e))return!1;var r=(new Date).getFullYear()-2e3;if(parseInt(e)<r||parseInt(e)>r+20)return!1;var o=new Date,c=new Date("20"+e,n,1);return!(n&&o.getTime()>c.getTime())}},{hasTarget:!0}),Ga.a.Validator.extend("secureCode",{getMessage:function(e){return"セキュリティコードを正しくご入力ください。"},validate:function(e){return!(!e||isNaN(e))&&!(e.length<3||e.length>4)}}),c.a.use(Ga.a,{locale:"ja"});var Ka=n(498),Wa=n.n(Ka);function za(e,t){t("scrollTo",Wa.a.scrollTo)}c.a.use(Wa.a);n(119);var Va=n(191),Ja=n.n(Va),Qa={DEBUG:1,INFO:2,WARN:3,CRIT:4,NONE:99},Xa={CF:1,STRING:2,OBJECT:3},Za=Qa.WARN,eo=Xa.CF,to=function(){};function no(text,e){return text}function filter(e){var t=Object(ft.get)(e,"Error.res.data.error.type","");return!/EbiDataNotFoundException/.test(t)}function ro(e,t){var n=function(){var e=new Date,t=e.getFullYear(),n="00".concat(e.getMonth()+1).slice(-2),r="00".concat(e.getDate()).slice(-2),o="00".concat(e.getHours()).slice(-2),c="00".concat(e.getMinutes()).slice(-2),l="00".concat(e.getSeconds()).slice(-2);return"".concat(t,"/").concat(n,"/").concat(r," ").concat(o,":").concat(c,":").concat(l)}(),r={};r.name=this.fileName||"",r.line=this.line||"";var o=this.isClient?"[30;102m CLIENT [0m":"",c=function(e){var t="LOG";switch(e){case Qa.DEBUG:t="DBG";break;case Qa.INFO:t="INF";break;case Qa.WARN:t="WRN";break;case Qa.CRIT:t="CRT"}return t}(e),l=t.map(function(e){return e instanceof Error?function e(t){if(t instanceof Ja.a){var n=t.cause();if(n)return e(n)}var r={message:t.message};return t.response&&(r.res={},r.res.status=Object(ft.get)(t,"response.status"),r.res.data=Object(ft.get)(t,"response.data")),t.request&&t.config&&(r.req={},r.req.method=Object(ft.get)(t,"config.method",null),r.req.url=Object(ft.get)(t,"config.url",null),r.req.params=Object(ft.get)(t,"config.params",null)),{Error:r}}(e):e}).filter(filter);if(l.length){var output,d={level:c,date:n,fileInfo:r,messages:l};switch(eo){case Xa.CF:output="".concat(no("lv:"+c)).concat(o," obj:").concat(JSON.stringify(d));break;case Xa.STRING:output="".concat(no("Logger."+c)).concat(o,": ").concat(JSON.stringify(d,null,"  "));break;case Xa.OBJECT:output={Logger:d}}if(Za<=e)switch(e){case Qa.DEBUG:console.log(output);break;case Qa.INFO:console.info(output);break;case Qa.WARN:console.warn(output);break;case Qa.CRIT:console.error(output)}to(d)}}var ao={set level(e){"number"==typeof e&&-1!==Object.values(Qa).indexOf(e)?Za=e:ro(Qa.WARN,"Unknown log level. => ".concat(e))},get level(){return this.LOG_LEVEL},set type(e){"number"==typeof e&&-1!==Object.values(Xa).indexOf(e)?eo=e:ro(Qa.WARN,"Unknown log type. => ".concat(e))},get type(){return eo},set onwrite(e){"function"==typeof e&&(to=e)},debug:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ro.bind(this)(Qa.DEBUG,t)},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ro.bind(this)(Qa.INFO,t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ro.bind(this)(Qa.WARN,t)},warning:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ro.bind(this)(Qa.WARN,t)},crit:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ro.bind(this)(Qa.CRIT,t)},critical:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ro.bind(this)(Qa.CRIT,t)}};Object.defineProperty(ao,"LOG_LEVELS",{value:Qa}),Object.defineProperty(ao,"LOG_TYPES",{value:Xa});var oo=ao;function io(e,t){window.onerror=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];oo.warn.bind({fileName:"plugins/injectLogger.js",line:28}).apply(void 0,["window.onerror"].concat(Object(Tt.a)(t.map(function(e){if(!(e instanceof Error))return e;var t={};return t.message=e.message,t.stack=e.stack,{Error:t}}))))},void 0!==window.onunhandledrejection&&(window.onunhandledrejection=function(e){oo.warn.bind({fileName:"plugins/injectLogger.js",line:41})("unhandledrejection",e.reason)}),t("logger",oo)}var so=n(645),co=n.n(so);function uo(e,t){var n=e.req||{},r=e.store.state._csrf;t("fetchr",new co.a({xhrPath:"/proxy",xhrTimeout:15e3,req:n,context:{_csrf:r},contextPicker:{GET:function(e,t){return"_csrf"!==t}}}))}function lo(e,t){t("cookie",{get:function(e){var t=document.cookie.split(";").map(function(e){return e.replace(/^\s+/,"")}).map(function(e){return e.split("=")}).find(function(t){var n=Object(Ya.a)(t,2),r=n[0];n[1];return r===e});return t&&t[1]}})}function fo(e,t){t("currentUrl",{get:function(){var t=location.protocol,n="";n=location.host;var path=e.route.fullPath;return"".concat(t,"//").concat(n).concat(path)}})}n(583),n(157),n(122);function po(e){if(!Object(ft.isObject)(e))return e;if(Array.isArray(e))return e.map(function(e){return po(e)});var t=new Set,n=new Map;return new Proxy(e,{get:function(e,r){if("usedKeys"===r)return Object(Tt.a)(t.keys());if("unusedKeys"===r)return Object(ft.difference)(Object.keys(e),Object(Tt.a)(t.keys()));/at Function.assign/.test((new Error).stack)||t.add(r);var o=Reflect.get(e,r);if(!Object(ft.isObject)(o))return o;if(n.has(r))return n.get(r);var c=po(o);return n.set(r,c),c}})}function ho(e,t){t("toProxy",po)}var mo=n(111),bo=n.n(mo);function go(e,t){t("Useragent",bo.a)}n(862);var vo=new Map;function _o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e4;return!vo.has(e)&&(vo.set(e,setTimeout(function(){vo.delete(e)},t)),!0)}function yo(e){var t=vo.get(e);t&&(clearTimeout(t),vo.delete(e))}function ko(e,t){t("lock",{acquire:_o,release:yo})}var Oo={timer:null,key:"plugins/router"},wo=null;function jo(e,t,n,r){return xo.apply(this,arguments)}function xo(){return(xo=Object(o.a)(regeneratorRuntime.mark(function e(t,n,r,o){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("production"===t.store.state.env||!n.query.date){e.next=4;break}wo=n.query.date,e.next=8;break;case 4:if(!wo){e.next=8;break}return n.query.date=wo,o({path:n.path,hash:n.hash,query:n.query}),e.abrupt("return");case 8:if(t.app.$lock.acquire(Oo.key,500)){e.next=15;break}return t.app.$lock.release(Oo.key),t.app.$lock.acquire(Oo.key,500),Oo.timer&&clearTimeout(Oo.timer),Oo.timer=setTimeout(function(){Oo.timer=null,t.app.router.push(n.fullPath)},500),o(!1),e.abrupt("return");case 15:if(e.prev=15,document.getElementById("__nuxt").dataset.serverRendered){e.next=19;break}return e.next=19,Promise.all([t.store.dispatch("user/fetch",{}),t.store.dispatch("miffy/fetch")]);case 19:o(),e.next=31;break;case 22:if(e.prev=22,e.t0=e.catch(15),!(e.t0 instanceof Error)){e.next=29;break}if(!/(invalid csrf token|reset content)/i.test(e.t0.message)){e.next=29;break}return location.href=n.fullPath,o(!1),e.abrupt("return");case 29:t.app.$logger.warn.bind({fileName:"plugins/router.js",line:49})(e.t0),o();case 31:case"end":return e.stop()}},e,null,[[15,22]])}))).apply(this,arguments)}function Co(e,t,n){e.app.$lock.release(Oo.key);var r=[];/^\/information\/notice/.test(e.route.path)||r.push(e.store.dispatch("information/notice/fetch")),r.push(e.store.dispatch("settings/fetch")),/^(\/cart|\/cart\/confirm|\/cart\/complete|\/mypage)\/?$/.test(e.route.path)||r.push(e.store.dispatch("cart/getCartInfo",{})),/^(\/cart\/confirm|\/viewerlast\/book|\/premium\/1stmonth|\/premium\/100million_cp)/.test(e.route.path)||r.push(e.store.dispatch("user/order/fetchFirstAndLastPurchaseDatetime")),/^\/mypage\/arrival-alerts/.test(e.route.path)||r.push(e.store.dispatch("user/newbookNotification/fetch",{})),r.push(e.store.dispatch("campaign/entry/fetchFirstMonthCampaign")),r.push(e.store.dispatch("banner/fetch")),Promise.all(r).then(function(){if(!/^(\/mypage\/coupon|\/campaign\/coupon\/sunday)/.test(e.route.path))return e.store.dispatch("user/coupon/fetch",{})}).catch(function(e){})}var To=function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:bo.a.parse(navigator.userAgent).isIE||"production"===t.store.state.env||document.addEventListener("click",function(e){var t=e.target.closest("a");if(t&&t.href){var n=new URL(t.href,location.origin);wo&&!n.searchParams.has("date")&&n.searchParams.set("date",wo),t.href=n.href}}),t.app.router.beforeEach(jo.bind(null,t)),t.app.router.afterEach(Co.bind(null,t));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Eo=n(646),Po=n.n(Eo);c.a.use(Po.a,{observer:!0});var Ro=function(e){var t=e.app,n=e.store;t.router.beforeEach(function(e,t,r){n.commit("miffy/reset"),r()}),t.router.afterEach(function(e,t){var r="pc";n.state.user.isMobile&&(r="smartphone");var o=e.name.split("-").map(function(e){return e.slice(0,3)}).join("");if(o.length>8){var c=o.slice(0,4),l=o.slice(-4);o=c+l}var d,f=e.fullPath;try{var h=n.getters["user/device"];d=Object(ht.n)(f,h)}catch(e){return void console.error(e)}var m={service:"ebookjapan",pagetype:o,page01:o,conttype:"",status:"",ctsid:"",prtnr:"",apptype:"web",opttype:r,metakwd:"電子書籍,ebook"},v=Object(ft.get)(n,"state.miffy.experimentId");v&&(m.vtgrpid=v);var _=Object(ft.get)(n,"state.miffy.bucketId");_&&(m.vtestid=_);var y=window.YAHOO,k=y.i13n.JP.simpleRapid();k.destroy(),y.i13n.JP.ebook={},y.i13n.JP.ebook.rapid=k.setSpaceid(d).trackedClass().trackedViewableClass().setPageParam(m).setRapidConf({viewability:!0}).initRapid()})},So={install:function(e){e.prototype.$fetchCokeRecommendation=function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.publicationCd,e.prev=1,e.next=4,this.$fetchr.read("recommendation/book",{publicationCd:n});case 4:return r=e.sent,o=r.data.titles,e.abrupt("return",o);case 9:throw e.prev=9,e.t0=e.catch(1),new Error("$fetchCokeRecommendation failed: ".concat(e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()}},Io=location,Ao=Io.protocol,Mo=Io.host;c.a.use(So,{protocol:Ao,host:Mo});n(139);function Do(e,t){return Bo.apply(this,arguments)}function Bo(){return(Bo=Object(o.a)(regeneratorRuntime.mark(function e(t,n){var r,c,l,d,f,h,m,v,_,y,k,O,w,j,x,C,T;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T=function(e){return e.filter(function(e){return"T12"!==Object(ft.get)(e,"title.unification_top_genre.unification_top_genre_id")})},C=function(){return(C=Object(o.a)(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(ht.d)(n),e.prev=1,e.next=4,t.store.dispatch("user/bookshelf/fetch",{bookCds:r,isMerge:!0});case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),console.log("_filterPurchasedPublications is failed in bookHistory.js"),e.abrupt("return",n);case 10:return o=t.store.getters["user/bookshelf/purchaseBookCds"],e.abrupt("return",n.filter(function(e){return!o.includes(Nn.a.methods.bookCd(e))}));case 12:case"end":return e.stop()}},e,null,[[1,6]])}))).apply(this,arguments)},x=function(e){return C.apply(this,arguments)},j=function(){f=[]},w=function(){var e=t.app.$cookie.get(l)||d;return e&&e!==d?T(f):f},O=function(){return(O=Object(o.a)(regeneratorRuntime.mark(function e(n){var r,data,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.app.$fetchr.read("read/publication").params({publicationCds:[n]}).end();case 3:r=e.sent,data=r.data,null!==(o=Object(ft.get)(data,"publications[0]",null))&&y(o),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)},k=function(e){return O.apply(this,arguments)},y=function(e){var t=f.findIndex(function(p){return p.publication_cd===e.publication_cd});f=t<0?[e].concat(Object(Tt.a)(f.slice(0,c-1))):[e].concat(Object(Tt.a)(f.slice(0,t)),Object(Tt.a)(f.slice(t+1)))},_=function(){var e=t.app.$cookie.get(l)||d;if(e&&e!==d){var n=T(f);return Object(ft.get)(n,"[0]",null)}return Object(ft.get)(f,"[0]",null)},r="bookHistory",c=t.userAgent&&t.userAgent.isMobile&&!t.userAgent.isTablet?12:16,l=Object(ht.f)("cookie.key.safeMode"),d=Object(ht.p)("SAFE_MODE.OFF"),f=[],"string"!=typeof(h=window.localStorage.getItem(r))){e.next=30;break}if(e.prev=16,m=JSON.parse(h),!Array.isArray(m)){e.next=25;break}if(!((v=m.filter(function(e){return Nn.a.methods.goodsCd(e)})).length>0)){e.next=24;break}return e.next=23,x(v);case 23:v=e.sent;case 24:f=v;case 25:e.next=29;break;case 27:e.prev=27,e.t0=e.catch(16);case 29:window.localStorage.removeItem(r);case 30:window.addEventListener("beforeunload",function e(){if(f.length)try{window.localStorage.setItem(r,JSON.stringify(f))}catch(e){}window.removeEventListener("beforeunload",e)}),n("bookHistory",{getRecentItem:_,save:y,saveByPublicationCd:k,get:w,clear:j});case 32:case"end":return e.stop()}},e,null,[[16,27]])}))).apply(this,arguments)}var No="localBasket";function Lo(e,t){var n=localStorage.getItem(No);if(n){try{var data=JSON.parse(n);e.store.commit("cart/restoreLocalBasket",data)}catch(e){console.log(e)}localStorage.removeItem(No)}window.addEventListener("unload",function(){var t=e.store.state.cart.localBasket;localStorage.setItem(No,JSON.stringify(t))})}var $o=n(647),Fo=n(649),Uo=n.n(Fo),Yo=n(650),Go=n.n(Yo),Ho=n(651),qo=n.n(Ho),Ko=function(e,t){window.Promise||(window.Promise=$o.a),window.indexedDB||(window.indexedDB=Uo.a,window.IDBKeyRange=Go.a),window.IntersectionObserver||(window.IntersectionObserver=qo.a)},Wo="user/top/modals";function zo(e){var t=e.store,n=localStorage.getItem(Wo);if(n)try{var data=JSON.parse(n);t.commit("top/setTimeStamps",data)}catch(e){}t.watch(function(e){return e.top.timeStamps},function(e){try{localStorage.setItem(Wo,JSON.stringify(e))}catch(e){}},{deep:!0})}var Vo="fridayCampaignModalCloseTime";function Jo(e){var t=e.store,n=localStorage.getItem(Vo);if(n)try{var data=parseInt(n);t.commit("common/modal/setFridayCampaignModalCloseTime",data)}catch(e){}else t.commit("common/modal/setFridayCampaignModalCloseTime",null);t.watch(function(e){return e.common.modal.fridayCampaignModalCloseTime},function(e){try{localStorage.setItem(Vo,JSON.stringify(e))}catch(e){}})}var Qo="matildaCampaignModalDisplayTime";function Xo(e){var t=e.store,n=localStorage.getItem(Qo);if(n)try{var data=parseInt(n);t.commit("top/setMatildaCampaignModalDisplayTime",data)}catch(e){}else t.commit("top/setMatildaCampaignModalDisplayTime",null);t.watch(function(e){return e.top.matildaCampaignModalDisplayTime},function(e){try{localStorage.setItem(Qo,JSON.stringify(e))}catch(e){}})}var Zo=function(e){return ei.apply(this,arguments)};function ei(){return(ei=Object(o.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.app.router.afterEach(function(e,n){return t.store.dispatch("emg/fetch",{path:e.fullPath})});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ti=function(e){e.app.router.afterEach(function(e,t){setTimeout(function(){"function"==typeof window.ga&&(ga("set","page",e.fullPath),ga("send","pageview"))},1e3);var n=document.getElementById("ytmtag");null!==n&&n.parentNode.removeChild(n);var r="/ytm".concat(e.fullPath),iframe=document.createElement("iframe");iframe.style.display="none",iframe.id="ytmtag",iframe.src=r,iframe.style.width=1,iframe.style.height=1,document.body.appendChild(iframe)})};function ni(e,t){var n=e.store.getters["user/device"],r=null;t("matilda",{init:function(e){if(!("number"==typeof r&&Date.now()-r<=500)){r=Date.now();var t=[Object(ht.j)("header.common.".concat(n))];e&&t.push(e);var o=t.join(",");window.YAHOO.JP.matilda.complete=!1,window.YAHOO.JP.matilda.init(o)}}})}c.a.component(Ze.name,Ze),c.a.component(et.name,et),c.a.component("NChild",et),c.a.component(st.name,st),c.a.use(z.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var ri={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function ai(){return(ai=Object(o.a)(regeneratorRuntime.mark(function e(t){var n,r,o,l,d,f,path,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new V.a({mode:"history",base:"/",linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:Je,routes:[{path:"/adult",component:J,name:"adult"},{path:"/bookshelf",component:Q,name:"bookshelf"},{path:"/bundle",component:X,name:"bundle"},{path:"/cart",component:Z,name:"cart"},{path:"/free",component:ee,name:"free"},{path:"/lists",component:te,name:"lists"},{path:"/mypage",component:ne,name:"mypage"},{path:"/premium",component:re,name:"premium"},{path:"/ranking",component:ae,name:"ranking"},{path:"/sale",component:oe,name:"sale"},{path:"/schedule",component:ie,name:"schedule"},{path:"/search",component:se,name:"search"},{path:"/viewer",component:ce,name:"viewer"},{path:"/adult/gate",component:ue,name:"adult-gate"},{path:"/bookshelf/clear",component:le,name:"bookshelf-clear"},{path:"/cart/complete",component:de,name:"cart-complete"},{path:"/cart/confirm",component:fe,name:"cart-confirm"},{path:"/free/books",component:pe,name:"free-books"},{path:"/free/special",component:he,name:"free-special"},{path:"/information/notice",component:me,name:"information-notice"},{path:"/mypage/accounts",component:be,name:"mypage-accounts"},{path:"/mypage/arrival-alerts",component:ge,name:"mypage-arrival-alerts"},{path:"/mypage/auto-purchase",component:ve,name:"mypage-auto-purchase"},{path:"/mypage/coupon",component:_e,name:"mypage-coupon"},{path:"/mypage/ebj-purchase-list",component:ye,name:"mypage-ebj-purchase-list"},{path:"/mypage/purchase-list",component:ke,name:"mypage-purchase-list"},{path:"/mypage/restore",component:Oe,name:"mypage-restore"},{path:"/mypage/review-list",component:we,name:"mypage-review-list"},{path:"/premium/100million_cp",component:je,name:"premium-100million_cp"},{path:"/premium/1stmonth",component:xe,name:"premium-1stmonth"},{path:"/ranking/free",component:Ce,name:"ranking-free"},{path:"/review/new",component:Te,name:"review-new"},{path:"/search/recent",component:Ee,name:"search-recent"},{path:"/viewerlast/book",component:Pe,name:"viewerlast-book"},{path:"/campaign/coupon/sunday",component:Re,name:"campaign-coupon-sunday"},{path:"/rd/other/faq",component:Se,name:"rd-other-faq"},{path:"/rd/viewer/free",component:Ie,name:"rd-viewer-free"},{path:"/rd/viewer/trial",component:Ae,name:"rd-viewer-trial"},{path:"/viewerlast/book/appLink",component:Me,name:"viewerlast-book-appLink"},{path:"/information/notice/:id",component:De,name:"information-notice-id"},{path:"/lists/authors/:id?",component:Be,name:"lists-authors-id"},{path:"/lists/genres/:id?",component:Ne,name:"lists-genres-id"},{path:"/lists/labels/:id?",component:Le,name:"lists-labels-id"},{path:"/lists/publishers/:id?",component:$e,name:"lists-publishers-id"},{path:"/lists/tags/:id?",component:Fe,name:"lists-tags-id"},{path:"/ranking/free/:term",component:Ue,name:"ranking-free-term"},{path:"/books/:title?",component:Ye,name:"books-title"},{path:"/free/:id",component:Ge,name:"free-id"},{path:"/genre/:id?",component:He,name:"genre-id"},{path:"/ranking/:term",component:qe,name:"ranking-term"},{path:"/sale/:id",component:Ke,name:"sale-id"},{path:"/review/:id?/edit",component:We,name:"review-id-edit"},{path:"/books/:title?/:book",component:ze,name:"books-title-book"},{path:"/",component:Ve,name:"index"}],fallback:!1});case 2:return n=e.sent,(r=La(t)).$router=n,o=r.registerModule,r.registerModule=function(path,e,t){return o.call(r,path,e,Object.assign({preserveState:!0},t))},l=Object(j.a)({router:n,store:r,nuxt:{defaultTransition:ri,transitions:[ri],setTransitions:function(e){return Array.isArray(e)||(e=[e]),e=e.map(function(e){return e=e?"string"==typeof e?Object.assign({},ri,{name:e}):Object.assign({},ri,e):ri}),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error:function(e){e=e||null,l.context._errored=!!e,e=e?F(e):null;var n=this.nuxt||this.$options.nuxt;return n.dateErr=Date.now(),n.err=e,t&&(t.nuxt.error=e),e}}},Aa),r.app=l,d=t?t.next:function(e){return l.router.push(e)},t?f=n.resolve(t.url).route:(path=N(n.options.base),f=n.resolve(path).route),e.next=13,M(l,{route:f,next:d,error:l.nuxt.error.bind(l),store:r,payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0});case 13:h=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject(key, value) has no value provided");l[e="$"+e]=t,r[e]=l[e];var n="__nuxt_"+e+"_installed__";c.a[n]||(c.a[n]=!0,c.a.use(function(){c.a.prototype.hasOwnProperty(e)||Object.defineProperty(c.a.prototype,e,{get:function(){return this.$root.$options[e]}})}))},window.__NUXT__&&window.__NUXT__.state&&r.replaceState(window.__NUXT__.state),e.next=18;break;case 18:return e.next=21,za(l.context,h);case 21:return e.next=24,io(l.context,h);case 24:return e.next=27,uo(l.context,h);case 27:return e.next=30,lo(l.context,h);case 30:return e.next=33,fo(l.context,h);case 33:return e.next=36,ho(l.context,h);case 36:return e.next=39,go(l.context,h);case 39:0,e.next=43;break;case 43:return e.next=46,ko(l.context,h);case 46:if("function"!=typeof To){e.next=49;break}return e.next=49,To(l.context,h);case 49:e.next=52;break;case 52:if("function"!=typeof Ro){e.next=55;break}return e.next=55,Ro(l.context,h);case 55:e.next=58;break;case 58:return e.next=61,Do(l.context,h);case 61:return e.next=64,Lo(l.context);case 64:if("function"!=typeof Ko){e.next=67;break}return e.next=67,Ko(l.context,h);case 67:return e.next=70,zo(l.context);case 70:return e.next=73,Jo(l.context);case 73:return e.next=76,Xo(l.context);case 76:if("function"!=typeof Zo){e.next=79;break}return e.next=79,Zo(l.context,h);case 79:if("function"!=typeof ti){e.next=82;break}return e.next=82,ti(l.context,h);case 82:return e.next=85,ni(l.context,h);case 85:e.next=88;break;case 88:return e.abrupt("return",{app:l,store:r,router:n});case 89:case"end":return e.stop()}},e)}))).apply(this,arguments)}var oi=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},ii=window.IntersectionObserver&&new window.IntersectionObserver(function(e){e.forEach(function(e){var t=e.intersectionRatio,link=e.target;t<=0||link.__prefetch()})}),si={name:"NuxtLink",extends:c.a.component("RouterLink"),props:{noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.noPrefetch||oi(this.observe,{timeout:2e3})},beforeDestroy:function(){this.__observed&&(ii.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){ii&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetch.bind(this),ii.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var e=navigator.connection;return!(this.$nuxt.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map(function(e){return e.components.default}).filter(function(e){return"function"==typeof e&&!e.options&&!e.__prefetched})},prefetch:function(){if(this.canPrefetch()){ii.unobserve(this.$el);var e=this.getPrefetchComponents(),t=!0,n=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var l=o.value;try{l(),l.__prefetched=!0}catch(e){}}}catch(e){n=!0,r=e}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}}}}};c.a.component(si.name,si),c.a.component("NLink",si);var ci,ui,di=[],fi=window.__NUXT__||{};Object.assign(c.a.config,{silent:!0,performance:!1});var pi=c.a.config.errorHandler||console.error;function hi(e,t,n){var r=function(component){var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",t,n)||{};return"string"==typeof e?{name:e}:e};return e.map(function(e){var t=Object.assign({},r(e));if(n&&n.matched.length&&n.matched[0].components.default){var o=r(n.matched[0].components.default);Object.keys(o).filter(function(e){return o[e]&&e.toLowerCase().includes("leave")}).forEach(function(e){t[e]=o[e]})}return t})}function mi(e,t,n){return bi.apply(this,arguments)}function bi(){return(bi=Object(o.a)(regeneratorRuntime.mark(function e(t,n,r){var o,c,l,d,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._pathChanged=!!ci.nuxt.err||n.path!==t.path,this._queryChanged=JSON.stringify(t.query)!==JSON.stringify(n.query),this._diffQuery=this._queryChanged?$(t.query,n.query):[],this._pathChanged&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),e.prev=4,e.next=7,S(t);case 7:o=e.sent,!this._pathChanged&&this._queryChanged&&o.some(function(e){var t=e.options.watchQuery;return!0===t||!!Array.isArray(t)&&t.some(function(e){return f._diffQuery[e]})})&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),r(),e.next=23;break;case 12:if(e.prev=12,e.t0=e.catch(4),c=e.t0||{},l=c.statusCode||c.status||c.response&&c.response.status||500,d=c.message||"",!/^Loading chunk (\d)+ failed\./.test(d)){e.next=20;break}return window.location.reload(!0),e.abrupt("return");case 20:this.error({statusCode:l,message:d}),this.$nuxt.$emit("routeChanged",t,n,c),r();case 23:case"end":return e.stop()}},e,this,[[4,12]])}))).apply(this,arguments)}function gi(e,t){return fi.serverRendered&&t&&T(e,t),e._Ctor=e,e}function vi(e,t,n){var r=this,o=["init","member"],c=!1;if(void 0!==n&&(o=[],(n=E(n)).options.middleware&&(o=o.concat(n.options.middleware)),e.forEach(function(e){e.options.middleware&&(o=o.concat(e.options.middleware))})),o=o.map(function(e){return"function"==typeof e?e:("function"!=typeof w[e]&&(c=!0,r.error({statusCode:500,message:"Unknown middleware "+e})),w[e])}),!c)return function e(t,n){return!t.length||n._redirected||n._errored?Promise.resolve():B(t[0],n).then(function(){return e(t.slice(1),n)})}(o,t)}function _i(e,t,n){return yi.apply(this,arguments)}function yi(){return(yi=Object(o.a)(regeneratorRuntime.mark(function e(t,n,r){var o,c,l,d,f,h,m,v,_,y,k,O,w,j,C,E,R=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this._pathChanged||!1!==this._queryChanged){e.next=2;break}return e.abrupt("return",r());case 2:return di=t===n?[]:P(n,o=[]).map(function(e,i){return L(n.matched[o[i]].path)(n.params)}),c=!1,l=function(path){n.path===path.path&&R.$loading.finish&&R.$loading.finish(),n.path!==path.path&&R.$loading.pause&&R.$loading.pause(),c||(c=!0,r(path))},e.next=7,M(ci,{route:t,from:n,next:l.bind(this)});case 7:if(this._dateLastError=ci.nuxt.dateErr,this._hadError=!!ci.nuxt.err,(f=P(t,d=[])).length){e.next=25;break}return e.next=14,vi.call(this,f,ci.context);case 14:if(!c){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,this.loadLayout("function"==typeof it.layout?it.layout(ci.context):it.layout);case 18:return h=e.sent,e.next=21,vi.call(this,f,ci.context,h);case 21:if(!c){e.next=23;break}return e.abrupt("return");case 23:return ci.context.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",r());case 25:return f.forEach(function(e){e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)}),this.setTransitions(hi(f,t,n)),e.prev=27,e.next=30,vi.call(this,f,ci.context);case 30:if(!c){e.next=32;break}return e.abrupt("return");case 32:if(!ci.context._errored){e.next=34;break}return e.abrupt("return",r());case 34:return"function"==typeof(m=f[0].options.layout)&&(m=m(ci.context)),e.next=38,this.loadLayout(m);case 38:return m=e.sent,e.next=41,vi.call(this,f,ci.context,m);case 41:if(!c){e.next=43;break}return e.abrupt("return");case 43:if(!ci.context._errored){e.next=45;break}return e.abrupt("return",r());case 45:v=!0,e.prev=46,_=!0,y=!1,k=void 0,e.prev=50,O=f[Symbol.iterator]();case 52:if(_=(w=O.next()).done){e.next=64;break}if("function"==typeof(j=w.value).options.validate){e.next=56;break}return e.abrupt("continue",61);case 56:return e.next=58,j.options.validate(ci.context);case 58:if(v=e.sent){e.next=61;break}return e.abrupt("break",64);case 61:_=!0,e.next=52;break;case 64:e.next=70;break;case 66:e.prev=66,e.t0=e.catch(50),y=!0,k=e.t0;case 70:e.prev=70,e.prev=71,_||null==O.return||O.return();case 73:if(e.prev=73,!y){e.next=76;break}throw k;case 76:return e.finish(73);case 77:return e.finish(70);case 78:e.next=84;break;case 80:return e.prev=80,e.t1=e.catch(46),this.error({statusCode:e.t1.statusCode||"500",message:e.t1.message}),e.abrupt("return",r());case 84:if(v){e.next=87;break}return this.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",r());case 87:return e.next=89,Promise.all(f.map(function(e,i){if(e._path=L(t.matched[d[i]].path)(t.params),e._dataRefresh=!1,R._pathChanged&&R._queryChanged||e._path!==di[i])e._dataRefresh=!0;else if(!R._pathChanged&&R._queryChanged){var n=e.options.watchQuery;!0===n?e._dataRefresh=!0:Array.isArray(n)&&(e._dataRefresh=n.some(function(e){return R._diffQuery[e]}))}if(!R._hadError&&R._isMounted&&!e._dataRefresh)return Promise.resolve();var r=[],o=e.options.asyncData&&"function"==typeof e.options.asyncData,c=!!e.options.fetch,l=o&&c?30:45;if(o){var f=B(e.options.asyncData,ci.context).then(function(t){T(e,t),R.$loading.increase&&R.$loading.increase(l)});r.push(f)}if(R.$loading.manual=!1===e.options.loading,c){var p=e.options.fetch(ci.context);p&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then(function(e){R.$loading.increase&&R.$loading.increase(l)}),r.push(p)}return Promise.all(r)}));case 89:c||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),r()),e.next=106;break;case 92:if(e.prev=92,e.t2=e.catch(27),"ERR_REDIRECT"!==(C=e.t2||{}).message){e.next=97;break}return e.abrupt("return",this.$nuxt.$emit("routeChanged",t,n,C));case 97:return di=[],x(C),"function"==typeof(E=it.layout)&&(E=E(ci.context)),e.next=103,this.loadLayout(E);case 103:this.error(C),this.$nuxt.$emit("routeChanged",t,n,C),r();case 106:case"end":return e.stop()}},e,this,[[27,92],[46,80],[50,66,70,78],[71,,73,77]])}))).apply(this,arguments)}function ki(e,t){R(e,function(e,t,n,o){return"object"!==Object(r.a)(e)||e.options||((e=c.a.extend(e))._Ctor=e,n.components[o]=e),e})}function Oi(e){this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&this.error();var t=this.$options.nuxt.err?it.layout:e.matched[0].components.default.options.layout;"function"==typeof t&&(t=t(ci.context)),this.setLayout(t)}function wi(e,t){var n=this;!1===this._pathChanged&&!1===this._queryChanged||c.a.nextTick(function(){var t=[],r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.prototype.concat.apply([],e.matched.map(function(e,n){return Object.keys(e.instances).map(function(r){return t&&t.push(n),e.instances[r]})}))}(e,t),o=P(e,t);r.forEach(function(e,i){if(e&&e.constructor._dataRefresh&&o[i]===e.constructor&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var n in t)c.a.set(e.$data,n,t[n])}}),Oi.call(n,e)})}function ji(e){window.onNuxtReadyCbs.forEach(function(t){"function"==typeof t&&t(e)}),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(e),ui.afterEach(function(t,n){c.a.nextTick(function(){return e.$nuxt.$emit("routeChanged",t,n)})})}function xi(){return(xi=Object(o.a)(regeneratorRuntime.mark(function e(t){var n,r,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ci=t.app,ui=t.router,t.store,e.next=5,Promise.all((path=void 0,path=N((f=ui).options.base,f.options.mode),R(f.match(path),function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t,n,r,o,c){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return l=gi(E(t),fi.data?fi.data[c]:null),r.components[o]=l,e.abrupt("return",l);case 7:case"end":return e.stop()}},e)}));return function(t,n,r,o,c){return e.apply(this,arguments)}}())));case 5:return n=e.sent,r=new c.a(ci),l=fi.layout||"default",e.next=10,r.loadLayout(l);case 10:if(r.setLayout(l),d=function(){r.$mount("#__nuxt"),c.a.nextTick(function(){ji(r)})},r.setTransitions=r.$options.nuxt.setTransitions.bind(r),n.length&&(r.setTransitions(hi(n,ui.currentRoute)),di=ui.currentRoute.matched.map(function(e){return L(e.path)(ui.currentRoute.params)})),r.$loading={},fi.error&&r.error(fi.error),ui.beforeEach(mi.bind(r)),ui.beforeEach(_i.bind(r)),ui.afterEach(ki),ui.afterEach(wi.bind(r)),!fi.serverRendered){e.next=23;break}return d(),e.abrupt("return");case 23:_i.call(r,ui.currentRoute,ui.currentRoute,function(path){if(!path)return ki(ui.currentRoute,ui.currentRoute),Oi.call(r,ui.currentRoute),void d();ui.push(path,function(){return d()},function(e){if(!e)return d();pi(e)})});case 24:case"end":return e.stop()}var f,path},e)}))).apply(this,arguments)}(function(e){return ai.apply(this,arguments)})().then(function(e){return xi.apply(this,arguments)}).catch(function(e){e.message="[nuxt] Error while mounting app: "+e.message,pi(e)})}],[[658,66,11,67]]]);