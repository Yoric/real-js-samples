var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var r=e[t].string;if(this.versionSearchString=e[t].subString,-1!=r.indexOf(e[t].subString))return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};function toggleClickEvent(){return isIpad()?"touchstart":"click"}function toggle(e,t){var r=document.getElementById(e);"none"==r.style.display?(r.style.display=t,r.focus()):r.style.display="none"}BrowserDetect.init();var searchTypes=[{name:"video",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlVideo,testTypePattern:"video"},{name:"photos",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlPhoto,testTypePattern:"albums"},{name:"members",autocompleteUrl:null,submitUrl:searchUrlMember,testTypePattern:"user"},{name:"pornstars",autocompleteUrl:"/pornstars/search_autocomplete",submitUrl:searchUrlPornstar,testTypePattern:"pornstars"},{name:"gifs",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlGifs,testTypePattern:"gifs"}];if(1==showStreamate&&searchTypes.push({name:"cam models",autocompleteUrl:"/live/search_autocomplete",submitUrl:searchUrlCam,testTypePattern:"live"}),"Firefox"===BrowserDetect.browser){var i,arrowIcons=document.querySelectorAll(".arrow.arrowMenu");if(arrowIcons)for(i=0;i<arrowIcons.length;i++)MG_Utils.addClass(arrowIcons[i],"fFox")}document.querySelector(".fakeClick").addEventListener("click",function(){var e=document.querySelector("#searchTypeSelected"),t=document.querySelector("#searchTypeSelected i");MG_Utils.hasClass(e,"active")?(MG_Utils.removeClass(e,"active"),MG_Utils.removeClass(t,"active")):(MG_Utils.addClass(e,"active"),MG_Utils.addClass(t,"active"))}),document.addEventListener("click",function(e){var t=document.querySelector("#searchTypeSelected.active"),r=document.querySelector("#searchTypeSelected i");t&&"fakeClick"!==e.target.className&&(MG_Utils.removeClass(t,"active"),MG_Utils.removeClass(r,"active"))});
!function(){"use strict";var o={options:{debug:!1,parent:"#headerMainMenu",menuItem:".menu",submenu:".js-dropdown",submenuContent:".js-submenu",topMenu:".js-topMenuLink",discover:".discover",timeout:250},asyncMenuItems:["menu_community","menu_livesex","menu_photos"],cache:{},cacheTime:(new Date).getTime()+18e5,init:function(e){document.querySelector(this.options.parent)&&(e=e||{},this.options=MG_Utils.extendSimple(this.options,e),this.options.debug&&console.log("Menu debug mode"),this.createMenuInStorage(),this.eventHandlers())},isHovered:function(e){return 1==e.getAttribute("data-hover")},createMenuInStorage:function(){this.asyncMenuItems.forEach(function(t){var e;switch(t){case"menu_community":e=MENU_MAIN_HEADER.communityUrl;break;case"menu_livesex":e=MENU_MAIN_HEADER.liveSexUrl;break;case"menu_photos":e=MENU_MAIN_HEADER.photosUrl;break;default:return""}if(!o.cache[t]){MG_Utils.ajaxCall({dataType:"html",type:"GET",url:e,success:function(e){o.cache[t]={data:e}}})}})},asyncItems:function(e,t){if(MG_Utils.hasClass(e,"asyncLoad")){var n,s=this;MG_Utils.hasClass(e,"community")?n=MENU_MAIN_HEADER.communityUrl:MG_Utils.hasClass(e,"livesex")?n=MENU_MAIN_HEADER.liveSexUrl:MG_Utils.hasClass(e,"photos")&&(n=MENU_MAIN_HEADER.photosUrl);MG_Utils.ajaxCall({type:"GET",url:n,dataType:"html",beforeSend:function(){t.innerHTML='<div class="menuAsync"><img class="menuAsyncPreload" src="'+MENU_MAIN_HEADER.preloadImage+'"></div>'},success:function(e){e&&e.length&&(s.createMenuInStorage(),t.innerHTML=e)}})}},cacheExpire:function(e){return this.cacheTime-e<=0},loadContent:function(e,t){var n=(new Date).getTime();return MG_Utils.hasClass(e,"community")&&o.cache.menu_community&&!this.cacheExpire(n)?t.innerHTML=o.cache.menu_community.data:MG_Utils.hasClass(e,"livesex")&&o.cache.menu_livesex&&!this.cacheExpire(n)?t.innerHTML=o.cache.menu_livesex.data:MG_Utils.hasClass(e,"photos")&&o.cache.menu_photos&&!this.cacheExpire(n)?t.innerHTML=o.cache.menu_photos.data:(this.cacheExpire(n)&&(this.cacheTime=(new Date).getTime()+18e5,this.cache={}),void this.asyncItems(e,t))},showSubmenu:function(e){var s=e.target||e.srcElement,i=s.querySelector(o.options.submenu);if("undefined"!=typeof isVideoPage&&i&&"photos"===i.getAttribute("data-submenu-type"))s.setAttribute("data-hover",1);else{if(!i)return;s.setAttribute("data-hover",1),setTimeout(function(){if(o.isHovered(s)){var e=i.querySelector(o.options.discover);if(e){e.style.display="inline-block";var t=i.querySelectorAll(".js-menuSwap"),n=0;if(t&&t.length)for(;n<t.length;n++)t[n].setAttribute("src",t[n].getAttribute("data-image"))}else i.querySelector(o.options.submenuContent).style.display=checkForGridSupport()?"grid":"block",MG_Utils.hasClass(s,"asyncLoad")&&o.loadContent(s,i.querySelector(o.options.submenuContent));MG_Utils.addClass(s.querySelector(o.options.topMenu),"hovered"),i.style.display="block"}},o.options.timeout)}},hideSubmenu:function(e){var t=e.target||e.srcElement,n=t.querySelector(o.options.submenu);n&&(t.setAttribute("data-hover",0),setTimeout(function(){if(!o.isHovered(t)){n.style.display="none";var e=n.querySelector(o.options.discover);e?(e.style.display="none",MG_Utils.hasClass(t,"asyncLoad")&&(n.querySelector(o.options.submenuContent).innerHTML="")):n.querySelector(o.options.submenuContent).style.display="none",MG_Utils.removeClass(t.querySelector(o.options.topMenu),"hovered")}},o.options.timeout+200))},eventHandlers:function(){for(var e=document.querySelector(this.options.parent).querySelectorAll(this.options.menuItem),t=0;t<e.length;t++){var n=e[t];MG_Utils.addEventHandler(n,"mouseenter",this.showSubmenu),MG_Utils.addEventHandler(n,"mouseleave",this.hideSubmenu)}}},a={options:{debug:!1,parent:"#headerMainMenu",menuItem:".menu",submenu:".js-dropdown",submenuContent:".js-submenu",topMenu:".js-topMenuLink",discover:".discover",timeout:250},asyncMenuItems:["community","livesex","photos"],cache:{},cacheTime:(new Date).getTime()+18e5,init:function(e){document.querySelector(this.options.parent)&&(e=e||{},this.options=MG_Utils.extendSimple(this.options,e),this.options.debug&&console.log("Menu debug mode"),this.createMenuInStorage(),this.eventHandlers())},isHovered:function(e){return 1==e.getAttribute("data-hover")},createMenuInStorage:function(){if(!~this.asyncMenuItems.indexOf(this.cache)){MG_Utils.ajaxCall({type:"GET",url:MENU_MAIN_HEADER.menuUrl,success:function(t){a.asyncMenuItems.forEach(function(e){a.cache[e]={data:t[e]}})}})}},asyncItems:function(n,s){if(MG_Utils.hasClass(n,"asyncLoad")){var e=this;MG_Utils.ajaxCall({type:"GET",url:MENU_MAIN_HEADER.menuUrl,beforeSend:function(){s.innerHTML='<div class="menuAsync"><img class="menuAsyncPreload" src="'+MENU_MAIN_HEADER.preloadImage+'"></div>'},success:function(t){t&&(e.createMenuInStorage(),a.asyncMenuItems.forEach(function(e){MG_Utils.hasClass(n,e)&&(s.innerHTML=t[e])}))}})}},cacheExpire:function(e){return this.cacheTime-e<=0},displayContent:function(t,n){var s=(new Date).getTime(),i=!1;a.asyncMenuItems.forEach(function(e){if(MG_Utils.hasClass(t,e)&&a.cache[e]&&!a.cacheExpire(s))return n.innerHTML=a.cache[e].data,i=!0}),i||(this.cacheExpire(s)&&(this.cacheTime=(new Date).getTime()+18e5,this.cache={}),this.asyncItems(t,n))},showSubmenu:function(e){var s=e.target||e.srcElement,i=s.querySelector(a.options.submenu);if("undefined"!=typeof isVideoPage&&i&&"photos"===i.getAttribute("data-submenu-type"))s.setAttribute("data-hover",1);else{if(!i)return;s.setAttribute("data-hover",1),setTimeout(function(){if(a.isHovered(s)){var e=i.querySelector(a.options.discover);if(e){e.style.display="inline-block";var t=i.querySelectorAll(".js-menuSwap"),n=0;if(t&&t.length)for(;n<t.length;n++)t[n].setAttribute("src",t[n].getAttribute("data-image"))}else i.querySelector(a.options.submenuContent).style.display=checkForGridSupport()?"grid":"block",MG_Utils.hasClass(s,"asyncLoad")&&a.displayContent(s,i.querySelector(a.options.submenuContent));MG_Utils.addClass(s.querySelector(a.options.topMenu),"hovered"),i.style.display="block"}},a.options.timeout)}},hideSubmenu:function(e){var t=e.target||e.srcElement,n=t.querySelector(a.options.submenu);n&&(t.setAttribute("data-hover",0),setTimeout(function(){if(!a.isHovered(t)){n.style.display="none";var e=n.querySelector(a.options.discover);e?(e.style.display="none",MG_Utils.hasClass(t,"asyncLoad")&&(n.querySelector(a.options.submenuContent).innerHTML="")):n.querySelector(a.options.submenuContent).style.display="none",MG_Utils.removeClass(t.querySelector(a.options.topMenu),"hovered")}},a.options.timeout+200))},eventHandlers:function(){for(var e=document.querySelector(this.options.parent).querySelectorAll(this.options.menuItem),t=0;t<e.length;t++){var n=e[t];MG_Utils.addEventHandler(n,"mouseenter",this.showSubmenu),MG_Utils.addEventHandler(n,"mouseleave",this.hideSubmenu)}}};MG_Utils.domReady(function(){page_params.getMenuType?a.init():o.init()})}(),document.addEventListener("mouseover",function(e){var t=e.target;if(MG_Utils.hasClass(t,"js-playGifTarget")){var n=t.parentNode,s=n.querySelector(".js-playGifVideo"),i=n.querySelector(".js-playGifImage");if(s){var o=n.querySelector(".js-webm"),a=n.querySelector(".js-mp4");if(o&&o.setAttribute("src",s.getAttribute("data-webm")),a&&a.setAttribute("src",s.getAttribute("data-mp4")),s.load(),window.Promise){var r=s.play();void 0!==r&&r.then(function(){s.play()}).catch(function(e){})}else s.play()}else i&&(i.src=i.getAttribute("data-gif-url"))}}),document.addEventListener("mouseout",function(e){var t=e.target;if(MG_Utils.hasClass(t,"js-playGifTarget")){var n=t.parentNode,s=n.querySelector(".js-playGifVideo"),i=n.querySelector(".js-playGifImage");if(s){var o=s.querySelector(".js-webm"),a=s.querySelector(".js-mp4");o&&o.setAttribute("src",""),a&&a.setAttribute("src",""),s.load(),s.currentTime=0}else i&&(i.src=i.getAttribute("data-static-url"))}});
var MG_Flipbook=function(){"use strict";var Self=this,timer,o={},data={},flipTimer,oldThumbUrlAC;Self.init=function(e){Self.params=e,Self.addEvents()},Self.addEvent=function(e,t,i){var a;e.addEventListener?e.addEventListener(t,i,!1):(i.$$guid||(i.$$guid=Self.addEvent.guid++),e.events||(e.events={}),(a=e.events[t])||(a=e.events[t]={},e["on"+t]&&(a[0]=e["on"+t])),a[i.$$guid]=i,e["on"+t]=Self.handleEvent)},Self.addEvent.guid=1,Self.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.events&&e.events[t]&&delete e.events[t][i.$$guid]},Self.handleEvent=function(e){var t=!0;e=e||Self.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var i=this.events[e.type];for(var a in i)this.$$handleEvent=i[a],!1===this.$$handleEvent(e)&&(t=!1);return t},Self.fixEvent=function(e){return e.preventDefault=Self.fixEvent.preventDefault,e.stopPropagation=Self.fixEvent.stopPropagation,e},Self.fixEvent.preventDefault=function(){this.returnValue=!1},Self.fixEvent.stopPropagation=function(){this.cancelBubble=!0},Self.addEvents=function(){Self.addEvent(document.body,"mousemove",Self.initFlip),Self.addEvent(document.body,"mouseout",Self.terminateFlip),Self.addEvent(window,"scroll",Self.endFlip)},Self.hasClass=function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},Self.closestElm=function(e,t,i){i=i||document.body;for(var a=t.charAt(0);e&&e!==i;){if("."===a&&Self.hasClass(e,t.substr(1)))return e;if("#"===a&&e.id===t.substr(1))return e;if("["===a&&e.getAttribute(t.substr(1,t.indexOf("]")-1)))return e;e=e.parentNode}return!1},Self.dataSet=function(string){var data;try{data=eval("("+string+")")}catch(e){data=!1}return data},Self.data=function(e,t,i){switch(e.data=e.data||{},arguments.length){case 3:e.data[t]=i;break;case 2:return e.data[t];default:return e.data}},Self.callbackData=function(){return data={index:o.index,setLength:o.setLength,currentImage:o.currentImage,imgWrapper:o.imgWrapper,currentUrl:o.currentUrl,active:o.active,status:o.status}},Self.initFlip=function(e){var t,i=(e=e||window.event).target||e.srcElement;(window.clearTimeout(flipTimer),MG_Utils.hasClass(i,"img")&&MG_Utils.hasClass(i.querySelector(".thumb"),"js-videoThumbFlip")&&!i.querySelector(".js-videoThumbFlip").getAttribute("data-flipbook_active")&&(t=i.querySelector(".js-videoThumbFlip")),MG_Utils.hasClass(i,"js-videoThumbFlip")&&!i.getAttribute("data-flipbook_active")&&(t=i),t)&&(Self.closestElm(t,".img").querySelector(".privateOverlay")||(flipTimer=window.setTimeout(function(){Self.startFlip(t)},100)))},Self.terminateFlip=function(e){var t=(e=e||window.event).target,i=e.relatedTarget;window.clearTimeout(flipTimer),MG_Utils.hasClass(t,"img")&&MG_Utils.hasClass(t.querySelector(".thumb"),"js-videoThumbFlip")&&t.querySelector(".thumb").getAttribute("data-flipbook_active")&&!MG_Utils.hasClass(i,"thumb")&&Self.endFlip(),MG_Utils.hasClass(t,"js-videoThumbFlip")&&t.getAttribute("data-flipbook_active")&&Self.endFlip()},Self.startFlip=function(e){e=e;var t,i,a,l,n,s,r,f,u,d,c,m,S,b,h=0,g=Self.params.thumbnailsSets.length;for(o.active&&!Self.closestElm(e,"[data-flipbook_active]")&&Self.endFlip(),oldThumbUrlAC=e.src;h<g;h++)if(Self.closestElm(e,Self.params.thumbnailsSets[h].thumbnailsContainer)&&(!Self.params.thumbnailsSets[h].extendHoverClassName&&Self.hasClass(e,Self.params.thumbnailsSets[h].thumbnailsClassName)||Self.params.thumbnailsSets[h].extendHoverClassName&&Self.closestElm(e,"."+Self.params.thumbnailsSets[h].extendHoverClassName))){if(d=u=e,Self.params.thumbnailsSets[h].excludeContainer&&Self.closestElm(u,Self.params.thumbnailsSets[h].excludeContainer))return!1;if(Self.params.thumbnailsSets[h].extendHoverClassName&&(d=(u=Self.closestElm(u,"."+Self.params.thumbnailsSets[h].extendHoverClassName)).querySelector("."+Self.params.thumbnailsSets[h].thumbnailsClassName)),o.active){if(u.getAttribute("data-flipbook_active"))return!1;Self.endFlip()}return s=Self.params.thumbnailsSets[h].cover?(l=(f=Self.dataSet(d.getAttribute("data-flipbook"))).setLength,a=f.firstThumbnail,r=parseInt(f.firstThumbnail,10)-f.incrementer,t=f.digitsPreffix,i=f.digitsSuffix,n=f.incrementer,-1):(Self.params.thumbnailsSets[h].adultCentro?(c=9,d.src=d.src.replace("primary","baseline/"+h)):c=1,m=/\(([^)]+)\)/,S=d.src.indexOf(")."),t=(b=m.exec(d.src))?-1!==S?d.src.substring(0,d.src.lastIndexOf(Self.params.thumbnailsSets[h].digitsPreffix)+c):d.src.substring(0,d.src.lastIndexOf(")")+1):d.src.substring(0,d.src.lastIndexOf(Self.params.thumbnailsSets[h].digitsPreffix)+c),r=d.src.replace(t,""),i=Self.params.thumbnailsSets[h].digitsSuffix,r=parseInt(r.replace(i,""),10),a=Self.params.thumbnailsSets[h].firstThumbnail,l=Self.params.thumbnailsSets[h].setLength,(r-a)/(n=Self.params.thumbnailsSets[h].incrementer)),o={index:s,setLength:l,currentUrl:d.src,firstThumbnail:a,digits:r,digitsPreffix:t,digitsSuffix:i,matches:b,testString:S,incrementer:n,currentImage:d,imgWrapper:!1,interval:Self.params.thumbnailsSets[h].interval,active:!0,callback:Self.params.thumbnailsSets[h].callback,init:Self.params.thumbnailsSets[h].init,status:"started"},u.setAttribute("data-flipbook_active","1"),Self.params.thumbnailsSets[h].extendHoverClassName&&(o.imgWrapper=u),o.init&&!u.init&&(Self.callbackData(),o.init(data)),u.init||(Self.params.thumbnailsSets[h].adultCentro?Self.data(u,"oldThumbUrl",oldThumbUrlAC):(Self.data(u,"oldThumbUrl",d.src),Self.data(u,"oldIndex",s)),u.init=!0),o.callback&&(Self.callbackData(),o.callback(data)),Self.params.thumbnailsSets[h].resetIndex&&(o.digits=(l-1)*o.incrementer+parseInt(o.firstThumbnail,10),o.index=l-1,Self.callbackData()),window.clearTimeout(timer),timer=window.setTimeout(Self.preload,0),!1}},Self.endFlip=function(){var e;window.clearTimeout(timer),o.active&&((e=document.querySelector("[data-flipbook_active]"))&&(e.removeAttribute("data-flipbook_active"),"IMG"===e.nodeName?e.src=Self.data(e,"oldThumbUrl"):e.querySelector("img").src=Self.data(e,"oldThumbUrl")),o.active=!1,o.status="ended",o.index=Self.data(e,"oldIndex"),o.callback&&(Self.callbackData(),o.callback(data)))},Self.preload=function(){var e=new Image;o.digits<(o.setLength-1)*o.incrementer+parseInt(o.firstThumbnail,10)?(o.digits=o.digits+o.incrementer,o.index++):(o.digits=parseInt(o.firstThumbnail,10),o.index=0),o.firstThumbnail.length>String(o.digits).length?o.currentUrl=o.digitsPreffix+o.firstThumbnail.substring(0,o.firstThumbnail.length-String(o.digits).length)+o.digits+o.digitsSuffix:-1!==o.testString?o.currentUrl=o.digitsPreffix+o.digits+"("+o.matches[1]+")"+o.digitsSuffix:o.currentUrl=o.digitsPreffix+o.digits+o.digitsSuffix,e.onerror=function(){Self.endFlip()},e.onload=function(){o.active&&(timer="running"!==o.status?window.setTimeout(Self.flipImage,0):window.setTimeout(Self.flipImage,o.interval))},e.src=o.currentUrl},Self.flipImage=function(e){window.clearTimeout(timer),o.currentImage.src=o.currentUrl,o.status="running",o.callback&&(Self.callbackData(),o.callback(data)),void 0!==e&&(o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,Self.callbackData()),Self.preload()},Self.jumpTo=function(e){o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,o.firstThumbnail.length>String(o.digits).length?o.currentUrl=o.digitsPreffix+o.firstThumbnail.substring(0,o.firstThumbnail.length-String(o.digits).length)+o.digits+o.digitsSuffix:o.currentUrl=o.digitsPreffix+o.digits+o.digitsSuffix,o.currentImage.src=o.currentUrl,o.callback&&(Self.callbackData(),o.callback(data))},Self.changeIndex=function(e){o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,Self.callbackData()},Self.pauseFlip=function(){window.clearTimeout(timer),o.status="paused"}};
var MG_Scroll={init:function(e){MG_Scroll._isPlainObject(e)&&MG_Scroll._setupElements(MG_Scroll._extend({},{width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0,alwaysVisible:!0,disableFadeOut:!0,railVisible:!0,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"scrollRail",barClass:"scrollBar",wrapperClass:"scrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px",selector:null},e))},_extend:function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var l in arguments[t])arguments[t].hasOwnProperty(l)&&(e[l]=arguments[t][l]);return e},_fadeIn:function(e){var t,l=10*+MG_Scroll._getStyle(e,"opacity");clearInterval(t),t=setInterval(function(){l<4?(l++,e.style.opacity=(l/10).toFixed(1)):(clearInterval(t),t=0)},50)},_fadeOut:function(e){var t,l=10*+MG_Scroll._getStyle(e,"opacity");clearInterval(t),t=setInterval(function(){0<l?(l--,e.style.opacity=(l/10).toFixed(1)):(clearInterval(t),t=0)},100)},_closestClassElement:function(e,t){for(;e.className!=t;)if(!(e=e.parentNode))return null;return e},_getStyle:function(e,t){return window.getComputedStyle?getComputedStyle(e,"")[t]:e.currentStyle?e.currentStyle[t]:void 0},_isPlainObject:function(e){var t;if(!e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!core_hasOwn.call(e,"constructor")&&!core_hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!0}if(jQuery.support.ownLast)for(t in e)return core_hasOwn.call(e,t);for(t in e);return void 0===t||core_hasOwn.call(e,t)},isWindow:function(e){return e&&(e===function(){return this}()||e.eval&&e.eval.call&&e.eval("this === (function(){ return this })()"))||!1},_makeUnselectable:function(e){"string"==typeof e&&(e=document.getelentById(e)),e&&(e.onselectstart=function(){return!1},e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.unselectable="on")},_getOffset:function(e,t){var l=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle&&e.ownerDocument.defaultView.getComputedStyle(e,null),r=l&&l.getPropertyValue(t?"height":"width")||"";return r=r&&-1<r.indexOf(".")?parseFloat(r)+parseInt(l.getPropertyValue(t?"padding-top":"padding-left"))+parseInt(l.getPropertyValue(t?"padding-bottom":"padding-right"))+parseInt(l.getPropertyValue(t?"border-top-width":"border-left-width"))+parseInt(l.getPropertyValue(t?"border-bottom-width":"border-right-width")):t?e.offsetHeight:e.offsetWidth},_outerHeight:function(e){var t=MG_Scroll._getOffset(e,!0),l=MG_Scroll._getStyle(e,"marginTop"),r=MG_Scroll._getStyle(e,"marginBottom");return t+=parseInt(l)+parseInt(r)},_wrap:function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},_setupElements:function(e){el=e.selector;for(var t=0;t<el.length;t++)MG_Scroll._processElement(el[t],e)},_processElement:function(e,s){var r,t,o,l,n,c,d,a,i,u=30,p=!1,h=e;if(MG_Utils.hasClass(h.parentNode,s.wrapperClass)){var y=h.scrollTop;MG_Utils.children(h.parentNode);if(d=document.querySelectorAll("."+s.barClass)[0],i=document.querySelectorAll("."+s.railClass)[0],b(),MG_Scroll._isPlainObject(s)){if("height"in s&&"auto"==s.height){h.parentNode.style.height="auto",h.style.height="auto";var f=h.parentNode.parentNode.style.height;h.parentNode.style.height=f,h.style.height=f}else if("height"in s){var g=s.height;h.parentNode.style.height=g,h.style.height=g}if("scrollTo"in s)y=parseInt(s.scrollTo);else if("scrollBy"in s)y+=parseInt(s.scrollBy);else if("bottom"===s.start)y=5e3;else if("destroy"in s)return;S(y,!1,!0)}}else if(!(MG_Scroll._isPlainObject(s)&&"destroy"in s)){if(s.height="auto"==s.height?h.parentNode.clientHeight:s.height,(a=document.createElement("div")).className+=s.wrapperClass,a.style.position="relative",a.style.overflow="hidden",a.style.width=s.width,a.style.height=s.height,h.style.overflow="hidden",h.style.width=s.width,h.style.height=s.height,(i=document.createElement("div")).className+=s.railClass,i.style.width=s.size,i.style.height="100%",i.style.position="absolute",i.style.top=0,i.style.display=s.alwaysVisible&&s.railVisible?"block":"none",i.style.borderRadius=s.railBorderRadius,i.style.background=s.railColor,i.style.opacity=s.railOpacity,i.style.zIndex=90,(d=document.createElement("div")).className+=s.barClass,d.style.background=s.color,d.style.width=s.size,d.style.position="absolute",d.style.top=0,d.style.opacity=s.opacity,d.style.display=s.alwaysVisible?"block":"none",d.style.borderRadius=s.borderRadius,d.style.BorderRadius=s.borderRadius,d.style.MozBorderRadius=s.borderRadius,d.style.WebKitBorderRadius=s.borderRadius,d.style.zIndex=99,"right"==s.position?(i.style.right=0,d.style.right=0):(i.style.left=0,d.style.left=0),MG_Scroll._wrap(h,a),h.parentNode.appendChild(d),h.parentNode.appendChild(i),s.railDraggable){var _="",m="",v=h.clientHeight;MG_Utils.addEventHandler(h,"touchstart",function(e){_=e.touches[0].clientY,m=parseInt(d.style.top)}),MG_Utils.addEventHandler(h,"touchmove",function(e){var t=_+m-e.touches[0].clientY;0<=t&&t<=v&&e.cancelable&&(e.preventDefault(),e.stopPropagation()),S(t,!0,!0)},!1),MG_Utils.addEventHandler(d,"mousedown",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,o=!0;var t=e.clientY,l=parseInt(d.style.top);function r(e){S(l+e.clientY-t,!0,!0)}return MG_Utils.addEventHandler(document,"mousemove",r),MG_Utils.addEventHandler(document,"mouseup",function(e){o=!1,H(),MG_Utils.removeEventHandler(document,"mousemove",r)}),!1})}var w;if(MG_Utils.addEventHandler(i,"mouseenter",function(){G()}),MG_Utils.addEventHandler(i,"mouseleave",function(){H()}),MG_Utils.addEventHandler(d,"mouseenter",function(){t=!0,d.style.width="10px"}),MG_Utils.addEventHandler(d,"mouseleave",function(){t=!1,d.style.width=s.size}),MG_Utils.addEventHandler(h,"mouseenter",function(){r=!0,G()}),MG_Utils.addEventHandler(h,"mouseleave",function(){r=!1,H()}),b(),"bottom"===s.start)S(h.offsetHeight-d.offsetHeight,!0,!0);else"top"!==s.start&&(S(s.start,null,!0),s.alwaysVisible||(d.style.display="none"));w=h,MG_Utils.addEventHandler(w,"DOMMouseScroll",M,!1),MG_Utils.addEventHandler(w,"mousewheel",M,!1),this.showDefault=function(){G()}}function M(e){if(r){var t=0;(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3);var l=e.target||e.srcTarget||e.srcElement;MG_Scroll._closestClassElement(l,s.wrapperClass)==h.parentNode&&S(t,!0,!1),e.preventDefault&&!p&&e.preventDefault(),p||(e.returnValue=!1)}}function S(e,t,l){p=!1;var r=e,o=MG_Scroll._getOffset(h,!0),n=MG_Scroll._getOffset(d,!0),a=o-n;if(t&&(r=parseInt(d.style.top)+e*parseInt(s.wheelStep)/100*n,r=Math.min(Math.max(r,0),a),r=0<e?Math.ceil(r):Math.floor(r),MG_Utils.hasClass(document.querySelectorAll("html")[0],"ie8")?d.style.top=r:d.style.top=r+"px"),l){MG_Utils.hasClass(document.querySelectorAll("html")[0],"ie8")?d.style.top=e:d.style.top=e+"px";var i=Math.min(Math.max(e,0),a);i<=e&&(MG_Utils.hasClass(document.querySelectorAll("html")[0],"ie8")?d.style.top=i:d.style.top=i+"px"),e<=0&&(MG_Utils.hasClass(document.querySelectorAll("html")[0],"ie8")?d.style.top=0:d.style.top="0px")}r=(c=parseInt(d.style.top)/(MG_Scroll._outerHeight(h)-MG_Scroll._outerHeight(d)))*(h.scrollHeight-MG_Scroll._outerHeight(d)),h.scrollTop=r,G(),H()}function b(){n=Math.max(h.offsetHeight/h.scrollHeight*h.offsetHeight,u),d.style.height=n+"px";var e=n==h.offsetHeight?"none":"block";d.style.display=e}function G(){b(),clearTimeout(l),p=c==~~c&&s.allowPageScroll,c,n>=h.offsetHeight?p=!0:(MG_Scroll._fadeIn(d),s.railVisible&&MG_Scroll._fadeIn(i))}function H(){s.alwaysVisible||(l=setTimeout(function(){s.disableFadeOut&&r||t||o||(MG_Scroll._fadeOut(d),MG_Scroll._fadeOut(i))},1500))}}};
var dropdown=function(){"use strict";var instance=null,dropdowns=[],id=0,dontProcess=!1;function Dropdown(options){var dontProcess=!1,defaults={dropdownTrigger:"dropdownTrigger",dropdownWrapper:"dropdownWrapper",timeout:4e3,hideDelay:!0};this.options=MG_Utils.extendDefaults(defaults,options),this.wrapper=this.options.wrapper,this.selector=this.options.selector,this.additionalElements=document.querySelectorAll(eval(this.options.additionalElements)),this.triggers=this.wrapper.querySelectorAll("."+this.options.dropdownTrigger),this.dropdown=this.wrapper.querySelector("."+this.options.dropdownWrapper),this.hiddenValue=this.wrapper.querySelector('input[type="hidden"]'),this.activateCloseDelay=hideDelayed.call(this),this.closeCallback="function"==typeof this.options.closeCallback?this.options.closeCallback:"",_init.call(this)}function _init(){return!(!this.triggers||!this.dropdown)&&(!MG_Utils.hasClass(this.wrapper,"js_dropdownBound")&&(MG_Utils.addClass(this.wrapper,"js_dropdownBound"),_initEvents.call(this),_checkHiddenValue.call(this),void this.wrapper.setAttribute("data-dropdown-id",id++)))}function _initEvents(){var e=this;[].forEach.call(this.triggers,function(t){MG_Utils.addEventHandler(t,"click",function(t){_triggersHandler.call(e,t)})}),("string"==typeof this.selector&&".channelsAZ"!=this.selector||"object"==typeof this.selector&&!MG_Utils.hasClass(this.wrapper,"channelsAZ"))&&("string"==typeof this.selector&&".alphabetFilter"!=this.selector||"object"==typeof this.selector&&!MG_Utils.hasClass(this.wrapper,"alphabetFilter"))&&this.options.hideDelay&&this.activateCloseDelay(),MG_Utils.addEventHandler(this.dropdown,"click",function(t){_dropdownHandler.call(e,t)})}function _triggersHandler(t){var e=null;if(dontProcess)dontProcess=!1;else{var i=(t=t||window.event).target||t.srcElement;if(!MG_Utils.hasClass(i,this.options.dropdownTrigger))for(;(i=i.parentElement)&&!MG_Utils.hasClass(i,this.options.dropdownTrigger););var o=!1,n="withScroll"==this.dropdown.id?1:0;1==this.triggers.length?o=!(!this.dropdown.style.display||"none"===this.dropdown.style.display):1<this.triggers.length&&(o=!(!this.dropdown.style.display||"none"===this.dropdown.style.display)&&this.dropdown.getAttribute("data-type")==i.getAttribute("data-type")),o?(this.dropdown.style.display="none",n&&(e=MG_Utils.nextDivSibling(this.dropdown))&&void 0!==e.style&&(e.style.display="none")):(dropdowns.forEach(function(t){t.dropdown.style.display="none"}),i.getAttribute("data-type")&&(this.dropdown.getAttribute("data-type"),i.getAttribute("data-type")),this.dropdown.style.display="block",_notificationPosition.call(this,t))}}function _notificationPosition(t){var e=t.target||t.srcElement;if("notificationIcons"==e.parentNode.getAttribute("id")||"notificationIcons"==e.parentNode.parentNode.getAttribute("id")){var i=e.querySelector("i")||e.parentNode.querySelector("i"),o=document.querySelector("#notificationBox"),n=o.clientWidth/2,r=MG_Utils.offset(i).left,s=i.clientWidth/2;o.style.left=Math.round(r-n+s)+"px"}}function _dropdownHandler(t){var e=(t=t||window.event).target||t.srcElement;if("li"!==e.tagName.toLowerCase())for(;(e=e.parentElement)&&"li"!==e.tagName.toLowerCase(););this.setItem(e)}function _checkHiddenValue(){this.hiddenValue&&this.hiddenValue.length&&""!=this.hiddenValue.value&&(_selectActiveItem.call(this)||setTimeout(function(){_selectActiveItem.apply(context)},1e3))}function _selectActiveItem(){var t=this.dropdown.querySelector('li[data-value="'+this.hiddenValue_.value+'"]');if(!t.length)return!1;MG_Utils.triggerEvent(t,"click"),dontProcess=!0}Dropdown.prototype={constructor:Dropdown,setItem:function(t){var e,i=this.wrapper.querySelector(".dropdownTrigger .textFilter");if(isNaN(t)||(0|(e=parseFloat(t)))!==e||(t=this.dropdown.querySelectorAll("li")[t]),!MG_Utils.isElement(t))return!1;MG_Utils.removeClassMultiple(this.dropdown.querySelectorAll("li"),"active"),MG_Utils.addClass(t,"active"),i&&MG_Utils.setText(i,t.textContent||t.innerText),this.hiddenValue&&(this.hiddenValue.value=t.getAttribute("data-value"))}};var hideDelayed=function(){var o=this;function i(){o.dropdown.getAttribute("data-hideDelayedTimeoutId")&&(clearTimeout(parseInt(MG_Utils.getData(o.dropdown,"hideDelayedTimeoutId"))),MG_Utils.setData(o.dropdown,"hideDelayedTimeoutId",""))}return function(){for(var t=[],e=0;e<=o.triggers.length-1;e++)t.push(o.triggers[e]);t.push(o.dropdown),t.forEach(function(t){MG_Utils.addEventHandler(t,"mouseenter",function(t){MG_Utils.setData(o.dropdown,"hideDelayedOver","1"),i(o.dropdown)}),MG_Utils.addEventHandler(t,"mouseleave",function(t){MG_Utils.setData(o.dropdown,"hideDelayedOver","0"),i(o.dropdown);var e=setTimeout(function(){!function(){if("0"==MG_Utils.getData(o.dropdown,"hideDelayedOver")){for(var t=[],e=0;e<=o.additionalElements.length-1;e++)t.push(o.additionalElements[e]);if(t.push(o.dropdown),t.forEach(function(t){t.style.display="none"}),document.getElementById("withScroll")){var i=MG_Utils.nextDivSibling();i&&void 0!==i.style&&(i.style.display="none")}"function"==typeof o.closeCallback&&o.closeCallback(),clearTimeout(parseInt(MG_Utils.getData(o.dropdown,"hideDelayedTimeoutId"))),MG_Utils.setData(o.dropdown,"hideDelayedTimeoutId","")}}()},o.options.timeout);MG_Utils.setData(o.dropdown,"hideDelayedTimeoutId",e)})})}};return MG_Utils.addEventHandler(document,"click",function(t){var e=(t=t||window.event).target||t.srcElement;if(!MG_Utils.hasClass(e,"dropdownTrigger"))for(;(e=e.parentElement)&&!MG_Utils.hasClass(e,"dropdownTrigger"););dropdowns.forEach(function(t){if(e&&e.parentNode.querySelector(".dropdownWrapper")===t.dropdown)return!1;t.dropdown.style.display="none"})}),{init:function(e,i){var t;i=i||{};t=e instanceof Array?e:MG_Utils.isElement(e)?e:document.querySelectorAll(e),[].forEach.call(t,function(t){i.wrapper=t,i.selector=e,(instance=new Dropdown(i)).triggers&&instance.dropdown&&dropdowns.push(instance)})},get:function(t){return dropdowns[t]}}}();
var autocompleteSearch=function(){"use strict";var t;function e(){return this.options=MG_Utils.extendDefaults({minLength:2,showDelay:400,showPornstars:!0,defaultType:"video",boldenResults:!0,typesListContainerId:"searchTypes",formId:"search_form",inputId:"searchInput",submitBtnId:"btnSearch",suggestionsListId:"searchSuggestions"},arguments[0]),this.types=this.options.types,this.placeholderData=this.options.placeholderData,this.typesList=document.getElementById(this.options.typesListContainerId),this.form=document.getElementById(this.options.formId),this.input=document.getElementById(this.options.inputId),this.submitBtn=document.getElementById(this.options.submitBtnId),this.suggestionsList=document.getElementById(this.options.suggestionsListId),this.typeSelected=document.getElementById("searchTypeSelected"),this.focusInput=focusSearchInput,this.currentType=null,this.cache=null,this.term=null,this.searchName=null,this.tempTerm=null,this.timeouts={autocomplete:{timer:null,value:null,name:null,matches:0}},t||function(){if(!this.input)return;(function(){(function(){var e=this.typesList.innerHTML;this.types.forEach(function(t){e+='<li class="'+t.name+'" data-search-type="'+t.name+'"><i class="'+t.name+'"></i><span>'+t.name+"</span></li>"}),this.typesList.innerHTML=e}).call(this),this.typesList.querySelector("li.gifs span").innerHTML="GIFs",dropdown.init("#searchTypeWrapper"),function(){var t=function(){for(var t=0;t<this.types.length;t++)if(this.types[t].testTypePattern==this.options.defaultType)return this.types[t]}.call(this),e=window.location.pathname,s=e.split("/")[1];if(s){if("gay"==s||"shemale"==s){var i=e.split("/")[2];"gifs"==i?s="gifs":"pornstars"==i&&(s="pornstars")}if("user"==s){var n=e.split("/")[2];"welcome"==n&&(s="")}for(var a=0;a<this.types.length;a++)this.types[a].testTypePattern==s&&"edit"!=e.split("/")[2]&&(t=this.types[a])}this.currentType=t}.call(this),this.setType(),function(){var i=this;MG_Utils.children(i.typesList).slice(1).forEach(function(t){MG_Utils.addEventHandler(t,"click",function(t){var e=(t=t||window.event).target||t.srcElement;if("li"!==e.nodeName.toLowerCase()){for(var s=e;(s=s.parentElement)&&"li"!==s.nodeName.toLowerCase(););e=s}i.setType(e.getAttribute("data-search-type")),i.typesList.focus(),n.call(i,t)})})}.call(this)}).call(this),this.focusInput?this.input.focus():this.input.blur(),function(){var e=this;(function(){var e=this;MG_Utils.addEventHandler(this.input,"keyup",function(t){n.call(e,t)}),MG_Utils.addEventHandler(this.input,"keypress",function(t){var e=t.keyCode?t.keyCode:t.charCode;if(60==e||62==e)return!1}),MG_Utils.addEventHandler(this.input,"keydown",function(t){(function(t){var e,s=t.keyCode?t.keyCode:t.charCode,i=this.suggestionsList.querySelectorAll("li"),n=this.suggestionsList.querySelector(".selected");n||(n=i[0]);if(40!=s&&38!=s)return;MG_Utils.removeClassMultiple(i,"selected"),40==s?e=n.length||n!==i[i.length-1]?n.nextElementSibling||MG_Utils.nextElementSibling(n):i[0]:38==s&&(e=n.length||n!==i[0]?n.previousElementSibling||MG_Utils.previousElementSibling(n):i[i.length-1]);MG_Utils.addClass(e,"selected"),e.getAttribute("data-value")?(this.input.value=e.getAttribute("data-value"),this.term=this.input.value):this.input.value=this.tempTerm}).call(e,t)}),MG_Utils.addEventHandler(this.input,"click",function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}),MG_Utils.addEventHandler(this.suggestionsList,"click",function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}),MG_Utils.addEventHandler(document.body,"click",function(t){e.suggestionsList.style.display="none"})}).call(this),MG_Utils.addEventHandler(this.submitBtn,"click",function(t){c.call(e,t)}),MG_Utils.addEventHandler(this.form,"submit",function(t){c.call(e,t)})}.call(this),t=this}.call(this),t}function c(t){var e=this.input.value.replace(/^[ \t]+|[ \t]+$/gi,""),s=this.input.getAttribute("placeholder"),i=this.suggestionsList.querySelector(".selected");if(""!=e&&e!=s){if(i&&(MG_Utils.hasClass(i,"pornstar")||MG_Utils.hasClass(i,"channel")))return MG_Utils.triggerEvent(i,"click"),t.preventDefault?t.preventDefault():t.returnValue=!1,!1;if(e=e.toLowerCase(),"gay"==(e=(e=encodeURIComponent(e)).replace(/%20/g,"+"))){switch(this.currentType.newUrl="gay",this.currentType.name){case"photos":n="albums/"+this.currentType.newUrl;break;case"pornstars":case"gifs":n=this.currentType.newUrl+"/"+this.currentType.name;break;case"members":n="user/search?gender=1&orientation=1";break;case"video":n="gayporn";break;case"cam models":n="live?s=gay"}window.location="/"+n}else{var n=this.currentType.submitUrl+e;window.location=n}}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}function n(t){var e=RegExp(/[\<\>]/gi),s=this.input.value.match(e),i=this.input.value.replace(e,""),n=t.keyCode?t.keyCode:t.charCode,a=this,l=this.input.value.trim(),r=this.currentType.name,o=!1;if("38"==n||"40"==n||"13"==n)return!1;if(this.term&&this.term==l&&this.searchName==this.currentType.name)return!1;if(s&&(this.input.value=i),"13"!=n||"undefined"!=typeof arrowKeysSelected||MG_Utils.hasClass(this.form,"onHold")||"hd"==this.input.value.toLowerCase()&&"video"==this.currentType.name&&(window.location="/hd"),this.term=l,this.tempTerm=l,this.searchName=this.currentType.name,!this.currentType.autocompleteUrl)return!1;for(var u in this.cache=this.input.getAttribute("data-autocomplete-cache")||{},"object"!=typeof this.cache&&(this.cache=JSON.parse(this.cache)),void 0===this.cache[r]&&(this.cache[r]={}),this.cache[r])this.term==u&&(response(this.cache[r][u]),o=!0);if(o)return!1;this.input.value.length<this.options.minLength?(this.timeouts.autocomplete.value="",clearTimeout(this.timeouts.autocomplete.timer),this.timeouts.autocomplete.matches=0,this.suggestionsList.style.display="none"):this.input.value==this.timeouts.autocomplete.value&&this.currentType.name==this.timeouts.autocomplete.name||(this.timeouts.autocomplete.value=this.input.value,clearTimeout(this.timeouts.autocomplete.timer),"user"!=this.currentType.autocompleteUrl&&(this.timeouts.autocomplete.timer=setTimeout(function(){MG_Utils.ajaxGet({url:a.currentType.autocompleteUrl,data:{pornstars:a.options.showPornstars,token:a.input.getAttribute("data-token"),orientation:a.input.getAttribute("data-orientation"),q:a.input.value,alt:0},success:function(t){(function(t){0==this.timeouts.autocomplete.matches&&(this.suggestionsList.style.display="none");this.suggestionsList.innerHTML="";(function(t){var e=!1,s=this;if(t instanceof Array&&t.length){for(var i in this.timeouts.autocomplete.matches=t.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Suggestions</a></li>'),t)MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t[i]+'"><a>'+(1==this.options.boldenResults?h.call(this,t[i]):t[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,c.call(s,t)})}),e=!0}else{if(t.queries instanceof Array&&t.queries.length)if("photos"==this.currentType.name){if(t.albums instanceof Array&&0<t.albums.length){for(var i in this.timeouts.autocomplete.matches=t.albums.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">'+this.currentType.name.capitalize()+" results</a></li>"),t.queries)t.albums.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t.albums[i]+'"><a>'+(1==this.options.boldenResults?h.call(this,t.albums[i]):t.albums[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,c.call(s,t)})}),e=!0}}else if("pornstars"!=this.currentType.name){for(var i in this.timeouts.autocomplete.matches=t.queries.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">'+this.currentType.name.capitalize()+" results</a></li>"),t.queries)t.queries.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t.queries[i]+'"><a>'+(1==this.options.boldenResults?h.call(this,t.queries[i]):t.queries[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,c.call(s,t)})}),e=!0}if(t.pornstars instanceof Array&&t.pornstars.length){for(var i in MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Pornstar profiles</a></li>'),t.pornstars)t.pornstars.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item pornstar" data-slug="'+t.pornstars[i].slug+'" data-value="'+t.pornstars[i].name+'"><a>'+(1==this.options.boldenResults?h.call(this,t.pornstars[i].name):t.pornstars[i].name)+'&nbsp;&nbsp;-&nbsp;&nbsp;<span class="rank">Rank: '+t.pornstars[i].rank+"</span></a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".pornstar"),function(t){MG_Utils.addEventHandler(t,"click",function(){var t=this.getAttribute("data-slug");location.href="/pornstar/"+t})}),e=!0}if(t.channels instanceof Array&&t.channels.length){for(var i in MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Channels</a></li>'),t.channels)t.channels.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item channel" data-slug="'+t.channels[i].slug+'" data-value="'+t.channels[i].name+'"><a>'+(1==this.options.boldenResults?h.call(this,t.channels[i].name):t.channels[i].name)+'&nbsp;&nbsp;-&nbsp;&nbsp;<span class="rank">Rank: '+t.channels[i].rank+"</span></a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".channel"),function(t){MG_Utils.addEventHandler(t,"click",function(){var t=this.getAttribute("data-slug");location.href="/channels/"+t})}),e=!0}if(1==showStreamate&&t.streamates instanceof Array&&t.streamates.length){for(var i in MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Cam Models</a></li>'),t.streamates)t.streamates.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item streamate" data-slug="'+t.streamates[i].slug+'" data-value="'+t.streamates[i].name+'"><a>'+(1==this.options.boldenResults?h.call(this,t.streamates[i].name):t.streamates[i].name)+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".streamate"),function(t){MG_Utils.addEventHandler(t,"click",function(){s.input.value=this.textContent||this.innerText;var t=this.getAttribute("data-slug");location.href="/live/"+t})}),e=!0}}return e}).call(this,t)?this.suggestionsList.style.display="block":(this.timeouts.autocomplete.matches=0,this.suggestionsList.style.display="none")}).call(a,t)}})},this.options.showDelay)))}function h(t){var e=this.input.value,s=t.search(RegExp(""+e,"i"));if(0<=s){e=e.toLowerCase();for(var i=t.split(/\s|_/),n=0;n<i.length;n++)i[n]=i[n].substr(0,1).toUpperCase()+(1<i[n].length?i[n].substr(1,i[n].length).toLowerCase():"");t=(t=i.join(" ")).slice(0,s)+'<span class="soughtValue">'+e+"</span>"+t.slice(s+e.length)}return t}return e.prototype={constructor:e,setType:function(t){"string"==typeof t&&(this.currentType=this.getType(t)),this.typeSelected.setAttribute("data-search-type",this.currentType.name),this.input.setAttribute("placeholder",function(){switch(this.currentType.name.replace(/\s/g,"").toLowerCase()){case"photos":return this.placeholderData.photos;case"members":return this.placeholderData.members;case"pornstars":return this.placeholderData.pornstars;case"gifs":return this.placeholderData.gifs;case"cammodels":return this.placeholderData.cams;default:return this.placeholderData.videos}}.call(this)),this.typeSelected.querySelector("i").className=this.currentType.name,this.typesList.style.display="none"},getType:function(t){t||(t=this.typeSelected.getAttribute("data-search-type"));for(var e=0;e<this.types.length;e++)if(this.types[e].name==t)return this.currentType=this.types[e],this.currentType}},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},e}();
"object"!=typeof console&&(console={log:function(){},warn:function(){},error:function(){},info:function(){}});var disablePlaylistPlusButon="false",createPlaylistModalContent=document.getElementById("create-playlist-modal");if(createPlaylistModalContent)var createPlaylistModal=new MG_Modal({content:createPlaylistModalContent,className:"createPlaylistContainer"});var friendRequestModalContent=document.getElementById("friendRequestModal");if(friendRequestModalContent)var friendRequestModal=new MG_Modal({content:friendRequestModalContent,className:"friendRequestContainer"});function appendedTasteProfile(e){var t=document.getElementById(e);if(t&&storageAvailable("localStorage")&&localStorage.tasteCategories)return t.value=localStorage.getItem("tasteCategories")}function scrollToElement(e,t){for(var l=document.body.scrollTop,o=(e=document.querySelector(e),MG_Utils.offset(e).top),a=l;a<o;a+=t)document.body.scrollTop=a}function fixPs3(){navigator.userAgent&&navigator.userAgent.match(/PLAYSTATION/)&&(document.getElementById("search_value").style.height="20px",document.getElementById("search_value").style.backgroundImage="none",document.getElementById("search_value").style.backgroundColor="white",document.getElementById("search_value").style.width="151px")}function getCookie(e){var t,l,o,a=document.cookie.split(";");for(t=0;t<a.length;t++)if(l=a[t].substr(0,a[t].indexOf("=")),o=a[t].substr(a[t].indexOf("=")+1),(l=l.replace(/^\s+|\s+$/g,""))==e)return unescape(o)}function setCookie(e,t,l){var o=new Date;o.setDate(o.getDate()+l);var a=escape(t)+(null==l?"":"; expires="+o.toUTCString());document.cookie=e+"="+a}function builtModal(e,t,l,o,a,r){void 0!==friendRequestModal&&friendRequestModal.openModal();var i=document.getElementById("messageRequest"),s=document.getElementById("preventClick"),n=document.getElementById("friendRequestForm"),c=document.getElementById("fromPic");userId=document.getElementById("friendRequestUserId"),elements=document.querySelectorAll(".request-modal .last"),s.setAttribute("data-refresh",r),s.setAttribute("data-user-id",e),n.setAttribute("action",a),c.setAttribute("src",t),MG_Utils.wrap(c,"<a href='"+o+"'></a>"),i.value=i.getAttribute("data-val"),MG_Utils.setText(userId,e);for(var u=0;u<elements.length;u++)elements[u].innerHTML='You are about to add <a href="'+o+'"> '+l+' </a> as a friend. We will then notify <a href="'+o+'"> '+l+" </a> who will then confirm that you are friends."}function recal(){var e=document.getElementById("messageRequest"),t=document.getElementById("chars_left"),l=1e3-e.value.length;t.innerHTML=Math.max(l,0)+" characters left.",l<0&&MG_Utils.appendString(t,' <span style = "color: #F00">You have over 1000 characters.<br />Anything past 1000 will get chopped off.</span>')}function getUrlVars(){var o={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,l){o[t]=l});return o}function nl2br(e){return e.replace(/\n/g,"<br />")}function strpos(e,t,l){var o=(e+"").indexOf(t,l||0);return-1!==o&&o}function updateQueryStringParameter(e,t,l){var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(o)?e.replace(o,"$1"+t+"="+l+"$2"):e+a+t+"="+l}function initTooltip(t,l){var o=document.getElementById("tooltip");function a(e,t){o.style.left=t.left-o.clientWidth/2+Math.floor(e.clientWidth/2)-1+"px",o.style.left=parseFloat(o.style.left)<0?"0":o.style.left,o.classList.remove("tooltipSmall"),o.style.width="auto"}o&&(MG_Utils.addEventHandler(t,"mouseenter",function(e){o.innerHTML="<div class='tooltip-sub'>"+l+" </div></div><div class='arrow-down'></div>",o.style.display="block",MG_Utils.addClass(o,t.getAttribute("type")),function(e){var t;t=MG_Utils.offset(e),o.style.left=t.left-o.clientWidth/2+Math.floor(e.clientWidth/2)-1+"px",window.onresize=function(){o.style.left=0},e.classList.contains("pornstarPrev")&&parseFloat(o.style.left)<-3?(o.classList.add("tooltipSmall"),o.style.width=o.clientWidth+parseFloat(o.style.left)-14+"px",o.style.left="0"):a(e,t);o.style.top=t.top-o.clientHeight-o.querySelector(".arrow-down").clientTop+"px"}(t)}),MG_Utils.addEventHandler(t,"mouseleave",function(e){o.style.display="none"}))}if(Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var l,o;if(null==this)throw new TypeError(" this is null or not defined");var a=Object(this),r=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(l=t),o=0;o<r;){var i;o in a&&(i=a[o],e.call(l,i,o,a)),o++}}),document.querySelector(".tooltipPromo")){var tooltipPromoButton=document.querySelector("#headerUpgradePremiumBtn"),tooltipPromoContent=document.querySelector(".tooltipPromo"),tooltipPromoRemove=tooltipPromoContent.querySelector("span");function tooltipPromo(){var e=MG_Utils.offset(tooltipPromoButton);tooltipPromoContent.style.left=e.left-(tooltipPromoContent.clientWidth-tooltipPromoButton.clientWidth)/2+"px",tooltipPromoContent.style.top=e.top+7+"px",tooltipPromoContent.style.opacity="1"}MG_Utils.addEventHandler(tooltipPromoRemove,"click",function(e){e.stopPropagation(),setCookie("promoTooltip","1"),tooltipPromoContent.remove()}),MG_Utils.addEventHandler(window,"load",tooltipPromo),MG_Utils.addEventHandler(window,"resize",tooltipPromo)}function renderCommentLinks(){for(var e,t=document.querySelectorAll(".commentUsernameLink"),l=0;l<t.length;l++)e=t[l],MG_Utils.hasClass(e,"processed")||(MG_Utils.addClass(e,"processed"),e.getAttribute("data-href")?e.innerHTML='<a href="'+e.getAttribute("data-href")+'">@'+e.getAttribute("data-username")+"</a>":e.innerHTML="<span>@"+e.getAttribute("data-username")+"</span>");var o=document.querySelectorAll(".js_taggable");if(0<o.length){for(l=0;l<o.length;l++)MG_Utils.empty(o[l]);friendList=[]}}var blurTimeout="";function focusReply(){if(document.querySelectorAll("form.streamCommentFrom"))for(var e=document.querySelectorAll("form.streamCommentFrom"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"blur",function(e){blurTimeout=setTimeout(function(){var e=MG_UtilsNew.closest(this,"form"),t=e.querySelectorAll(".streamSubmitInput"),l=e.querySelectorAll(".streamSections");MG_Utils.addClass(t,"focusReply"),MG_Utils.addClass(t,"hidden"),MG_Utils.addClass(l,"hidden")},200)});if(document.querySelectorAll(".streamTextArea")){var l=document.querySelectorAll(".streamTextArea");MG_Utils.setText(l,"");for(t=0;t<l.length;t++)MG_Utils.addEventHandler(l[t],"focus",function(e){var t=this.value,l=MG_UtilsNew.closest(this,".streamSubmitInput"),o=MG_UtilsNew.closest(this,".streamSections");"Click to leave a comment"===t&&(this.value=""),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.triggerEvent(this,"resize")})}}function openReply(){if(document.querySelectorAll(".reply a"))for(var t,l,o,a,r,i,e=document.querySelectorAll(".reply a"),s=0;s<e.length;s++)MG_Utils.addEventHandler(e[s],"click",function(e){e=e||window.event,t=MG_UtilsNew.closest(this,".feedItemSection"),l=t.querySelector(".postingForm"),o=t.querySelector(".formAvatar"),a=t.querySelector(".formText"),r=a.querySelector("textarea"),i=a.querySelector(".js_taggable"),MG_Utils.addClass(this,"hideme"),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.addClass(a,"showme"),MG_Utils.setText(r,""),MG_Utils.triggerEvent(r,"click"),MG_Utils.setText(i,commentPlaceholder),MG_Utils.addClass(i,"placeHolderText")})}function addShareExternal(e,t,l){if(WIDGET_SHARE.shareButtonsLoaded)"function"==typeof e&&e();else{if(WIDGET_SHARE.shareButtonsLoaded=!0,void 0===t&&(t=WIDGET_SHARE.urlShare),void 0===l&&(l=WIDGET_SHARE.shareTitle),document.querySelectorAll("a.sharesTwitter")){var o=document.querySelectorAll("a.sharesTwitter")[0],a=o.getAttribute("href");o.setAttribute("href",updateQueryStringParameter(a,"text",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesReddit")){var r=document.querySelectorAll("a.sharesReddit")[0],i=r.getAttribute("href");r.setAttribute("href",updateQueryStringParameter(i,"title",encodeURIComponent(l)))}if(0<document.querySelectorAll("a.sharesTumblr").length){var s=document.querySelectorAll("a.sharesTumblr")[0],n=s.getAttribute("href");s.setAttribute("href",updateQueryStringParameter(n,"t",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesGooglePlusOne")){var c=document.querySelectorAll("a.sharesGooglePlusOne")[0],u=c.getAttribute("href");c.setAttribute("href",updateQueryStringParameter(u,"url",t))}if(document.querySelectorAll("a.sharesStubleUpon")){var d=document.querySelectorAll("a.sharesStubleUpon")[0],m=d.getAttribute("href");d.setAttribute("href",updateQueryStringParameter(m,"title",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesBlogger")){var f=document.querySelectorAll("a.sharesBlogger")[0],y=f.getAttribute("href");f.setAttribute("href",updateQueryStringParameter(y,"n",encodeURIComponent(l)))}}}function initializeTooltip(){for(var e=document.querySelectorAll(".tooltipTrig"),t=0;t<e.length;t++)initTooltip(e[t],e[t].getAttribute("data-title"))}var VideoPreview=function(){"use strict";var c,u=300;function d(e,t,l){return e.style.opacity=t,e.style.width=l,e}return{getTarget:function(){if(document.createElement("video").play&&function(){var e=document.createElement("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t="maybe"==t.webm||"probably"==t.webm)}catch(e){console.log(e)}return t}())return function(e){var t=document.querySelectorAll("."+e),l=t.length,o=document.querySelector("body"),a=0;for(MG_Utils.addEventHandler(o,"mouseover",function(e){var t;if(MG_Utils.hasClass(e.target,"js-videoPreview")&&!MG_Utils.hasClass(e.target,"activeVideo")&&(t=e.target),MG_Utils.hasClass(e.target,"premiumHolder")&&(t=MG_UtilsNew.closest(e.target,".img").querySelector(".js-videoPreview")),(MG_Utils.hasClass(e.target,"premiumLockedVideo")||MG_Utils.hasClass(e.target,"fade"))&&(t=e.target.querySelector(".js-videoPreview")),t){var l=t.parentNode,o=MG_UtilsNew.closest(t,".phimage"),a=o?o.querySelector(".preloadLine"):void 0,r=function(){var e,t=document.createElement("div"),l={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in l)if(void 0!==t.style[e])return l[e]}(),i=MG_Utils.hasClass(t,"js-menuSwap")?t.getAttribute("data-image"):t.getAttribute("data-mediumthumb"),s=o?o.querySelector(".privateOverlay"):void 0,n=l.querySelector(".watchedVideoText");a&&d(a,1,"100%"),MG_Utils.hasClass(t,"activeVideo")||l.querySelector(".videoPreviewEl")||s||(c=setTimeout(function(){MG_Utils.addClass(t,"activeVideo"),n&&MG_Utils.addClass(n,"hide"),l.appendChild(function(e,t){var l=document.createElement("video");return l.autoplay=!0,l.className="videoPreviewEl",l.loop="loop",l.muted="muted",l.src=e,l.poster=t,l}(t.getAttribute("data-mediabook"),i))},u)),a&&r&&a.addEventListener(r,function(){a.style.opacity=0})}}),MG_Utils.addEventHandler(o,"mouseout",function(e){var t;if(MG_Utils.hasClass(e.target,"js-videoPreview")&&MG_Utils.hasClass(e.target,"activeVideo")&&(t=e.target),MG_Utils.hasClass(e.target,"premiumHolder")&&(t=MG_UtilsNew.closest(e.target,".img").querySelector(".js-videoPreview")),(MG_Utils.hasClass(e.target,"premiumLockedVideo")||MG_Utils.hasClass(e.target,"fade")&&e.target.querySelector(".js-videoPreview")&&!MG_Utils.hasClass(e.target.querySelector(".js-videoPreview"),"activeVideo"))&&(t=e.target.querySelector(".js-videoPreview")),MG_Utils.hasClass(e.target,"fade")&&e.target.querySelector(".js-videoPreview")&&MG_Utils.hasClass(e.target.querySelector(".js-videoPreview"),"activeVideo")&&e.relatedTarget&&"IMG"!==e.relatedTarget.nodeName&&(t=e.target.querySelector(".js-videoPreview")),t){var l=t.parentNode,o=l.querySelectorAll(".videoPreviewEl"),a=MG_UtilsNew.closest(t,".phimage"),r=a?a.querySelector(".preloadLine"):void 0,i=l.querySelector(".watchedVideoText");window.clearTimeout(c),r&&d(r,0,0),MG_Utils.removeClass(t,"activeVideo"),i&&MG_Utils.removeClass(i,"hide"),o.length&&[].forEach.call(o,function(e){e.parentNode.removeChild(e)})}});a<l;a++)MG_Utils.removeClass(t[a],"js-videoThumbFlip")}(arguments[0])}}}();function removeProfileItem(e,t){var l={url:e,data:" ",type:"POST"};MG_Utils.ajaxCall(l);var o=document.querySelectorAll("#"+t),a=MG_UtilsNew.closest(o[0],".videoSection"),r=0;o[0].parentNode.removeChild(o[0]),0==document.querySelectorAll("#"+t).length&&(r+=1);var i=a.querySelectorAll(".showingInfo .totalSpan"),s=a.querySelectorAll(".showingInfo .videoSpan");if(i||s){var n;if(2<=a.querySelectorAll(".showingInfo span").length)var c=parseInt(s[0].textContent,10);n=parseInt(i[0].textContent,10),vVideos=c,vVideos-=1,n-=r,i.length&&(i[0].innerHTML=n),s.length&&(s[0].innerHTML=vVideos)}}function removeItem(e,t,l,o){var a={url:e,data:{id:t},type:"POST"};MG_Utils.ajaxCall(a);var r=document.querySelectorAll("#"+l);r[0].parentNode.removeChild(r[0])}function removeItemSimple(e,t){var l={url:e,data:" ",type:"POST"};MG_Utils.ajaxCall(l);var o=document.querySelectorAll("#"+t);o[0].parentNode.removeChild(o[0])}if(0!=document.querySelectorAll("#modelNotificationList").length){var modelNotificationList=document.querySelectorAll("#modelNotificationList");modelNotificationList=modelNotificationList[0].innerHTML}var myInt,cacheAjaxNotif=[],scrollFuncDefined=0,offset=[5,5,5],limit=5,scrollLimit=[0,0,0];function htmlspecialchars_decode(e){return"string"==typeof e&&(e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&quot;/g,'"')).replace(/&#039;/g,"'")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")),e}function createMailAlert(e){if((e.lastMessageIdReceived||e.lastMessageSent)&&"0000-00-00 00:00:00"!=e.lastAction&&!e.profileSpammer){var t="";e.lastMessageIdReceived&&e.lastMessageIdSent>e.lastMessageIdReceived?(e.lastMessageSent=e.lastMessageSent,t=e.lastMessageSent):e.lastMessageIdReceived?(e.lastMessageReceived=e.lastMessageReceived,t=e.lastMessageReceived):e.lastMessageIdSent&&(e.lastMessageSent=e.lastMessageSent,t=e.lastMessageSent),t=(t=escapeHtml(unEscapeHtml(t))).replace(/{{phTransactionIcon}}/g,'<i class="transactionIcon"></i>');var l=document.querySelectorAll("ul#modelNotificationList > li.messageTemplate");l=l[0].cloneNode(!0),document.querySelectorAll("ul#modelNotificationList")[0].appendChild(l),MG_Utils.removeClass(l,"messageTemplate"),MG_Utils.addClass(l,e.status),MG_Utils.addClass(l,"newElement"),document.querySelectorAll(".newElement")[0].setAttribute("data-link",e.link),document.querySelectorAll(".newElement .js-messageLink")[0].setAttribute("data-link",e.link),document.querySelectorAll(".newElement img")[0].setAttribute("src",e.profileImage),document.querySelectorAll(".newElement .from")[0].innerHTML=e.profileUsername,document.querySelectorAll(".newElement .userProfileLink")[0].setAttribute("href",e.profileLink),document.querySelectorAll(".newElement .userProfileLink.from")[0].setAttribute("href",e.profileLink),document.querySelectorAll(".newElement .message")[0].innerHTML=t,document.querySelectorAll(".newElement .date")[0].innerHTML=e.lastActionNice,e.isFanClubChat&&(document.querySelectorAll(".newElement .js-iconPlaceHolder")[0].className+=" fanOnlyIcon"),e.hasTransaction&&(document.querySelectorAll(".newElement .js-transactionIconPlaceHolder")[0].className+=" transactionIcon"),document.querySelectorAll(".newElement")[0].style.display="block",MG_Utils.removeClass(l,"newElement")}}function createfriendRequestAlert(e,t,l,o,a,r,i,s){var n="manageRequest("+i+", 1, '"+l+"', '"+o+"')",c="manageRequest("+i+", 0, '"+l+"', '"+o+"')",u=s?"checked":"unchecked",d=document.querySelectorAll("ul#modelNotificationList > li.friendRequestTemplate");d=d[0].cloneNode(!0),document.querySelectorAll("ul#modelNotificationList")[0].appendChild(d),MG_Utils.removeClass(d,"friendRequestTemplate"),MG_Utils.addClass(d,"newElement"),d.setAttribute("id","request_"+i),document.querySelectorAll(".newElement img")[0].setAttribute("src",e),document.querySelectorAll(".newElement .profileLink")[0].setAttribute("href",o),document.querySelectorAll(".newElement .from .profileLink")[0].setAttribute("href",o),document.querySelectorAll(".newElement .from .profileLink")[0].innerHTML=l,"1"==t?initializeTooltip():document.querySelectorAll(".newElement .verifiedUser")[0].style.display="none",document.querySelectorAll(".newElement .message")[0].innerHTML=a,document.querySelectorAll(".newElement .date")[0].innerHTML=r,document.querySelectorAll(".newElement button.confirm")[0].setAttribute("onclick",n),document.querySelectorAll(".newElement button.reject")[0].setAttribute("onclick",c),document.querySelectorAll('.newElement .subscribeConfirm input[type="checkbox"]')[0].setAttribute("id","autoSubscribe_"+i),document.querySelectorAll('.newElement .subscribeConfirm input[type="checkbox"]')[0].setAttribute(u,u),document.querySelectorAll(".newElement .subscribeConfirm label")[0].setAttribute("for","autoSubscribe_"+i),s&&MG_Utils.addClass(document.querySelectorAll(".newElement .subscribeConfirm .fakeCheckBox ")[0],"checked"),document.querySelectorAll(".newElement button.btnFlag")[0].setAttribute("data-userid",i),document.querySelectorAll(".newElement")[0].style.display="block",MG_Utils.removeClass(d,"newElement")}function noAlert(e){document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",0),document.querySelectorAll("ul#modelNotificationList > li")[0].style.display="none",document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="block",document.querySelectorAll("ul#modelNotificationList > li.noNewItem > span")[0].innerHTML=e}function insertNotificationContent(){document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="block";for(var e=document.querySelectorAll("#notificationBox")[0].getAttribute("type"),t=document.querySelectorAll("ul#modelNotificationList > li,.handle3, .track3"),l=t.length-1;0<=l;l--)t[l].style.display="none";if("messageContent"==e){if(document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",messageViewAll),document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",messageViewAll),cacheAjaxNotif[0])document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[0],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[3]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none",o(document.querySelectorAll(".js-messageLink"));else MG_Utils.ajaxCall({type:"GET",data:{token:token},url:"/chat/threads?limit=5&reset=1",dataType:"json",success:function(e){if('"EXPIRED"'==e)document.location.reload();else{if(0==e.jsonNonBlockedThreadsCount)noAlert("messages");else{for(var t in e.jsonThreads)createMailAlert(e.jsonThreads[t]);document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}cacheAjaxNotif[0]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[3]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none",o(document.querySelectorAll(".js-messageLink"))}}});function o(e){for(var t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"click",function(e){window.location.href=this.getAttribute("data-link")})}}else"requestContent"==e?(document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",requestViewAll),document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",requestViewAll),cacheAjaxNotif[1]?(document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[1],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[4]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"):MG_Utils.ajaxCall({url:"/user/ajaxGetFriendRequests",type:"GET",data:{limit:5,token:token},dataType:"json",success:function(e,t){if('"EXPIRED"'==e)document.location.reload();else{if(0==e.count)noAlert("friend requests");else{for(var l=0;l<e.datas.length;l++)createfriendRequestAlert(e.datas[l].avatar_url,e.datas[l].verified,e.datas[l].username,e.datas[l].user_link,e.datas[l].message,e.datas[l].request_date,e.datas[l].user_id,e.autoSubscribeFriendRequestsReceived);document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}cacheAjaxNotif[1]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[4]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"}}})):"notifContent"==e&&(document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",notifViewAll),document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",notifViewAll),cacheAjaxNotif[2]?(document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[2],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[5]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"):MG_Utils.ajaxCall({url:"/stream/notifications_mini",type:"GET",data:{limit:15,token:token},dataType:"json",success:function(e){var t=e.html;if("REFRESH"==e)document.location.reload();else if(e){var l=JSON.parse(JSON.stringify(t).replace("#*","").replace("*#",""));document.querySelectorAll("#modelNotificationList")[0].innerHTML+=l,document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),leaveModal()}else noAlert("notifications");cacheAjaxNotif[2]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[5]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"}}),leaveModal());MG_Scroll.init({selector:document.querySelectorAll("#scrollNotif"),height:"auto",color:"#F39000",size:"7px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"#222",distance:-2,opacity:1,railClass:"track1",barClass:"handle1",wrapperClass:"wrapper1"}),initializeTooltip()}function leaveModal(){document.getElementById("fileupload")&&MG_Utils.hasClass(document.getElementById("fileupload"),"fileUploadPass")&&(LeavePageConfirmationModal.formChangedHandler(),LeavePageConfirmationPrompt.formChangedHandler())}function manageRequest(a,r,i,s){var n=document.querySelectorAll("#request_"+a)[0],c=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count");url=r?"/user/ajax_accept_friend_request":"/user/ajax_reject_friend_request",url=url+"?token="+token,1==r&&$j("#autoSubscribeHeader").is(":checked")?url+="&subscribe=1":1==r&&$j("#autoSubscribe_"+a).is(":checked")&&(url+="&subscribe=1"),MG_Utils.ajaxCall({url:url,type:"POST",data:{id:a},success:function(e){if("OK"==e){if(document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",c-1),r)MG_Utils.addClass(n,"accepted"),document.querySelectorAll("#request_"+a+" .action button")[0].setAttribute("disabled","disabled"),document.querySelectorAll("#request_"+a+" .action")[0].parentNode.removeChild(document.querySelectorAll("#request_"+a+" .action")[0]),document.querySelectorAll("#request_"+a+" .contentContainer")[0].innerHTML='You and <a href="'+s+'" style="font-weight:bold;">'+i+"</a> are now friends.";else{document.querySelectorAll("#request_"+a)[0].parentNode.removeChild(document.querySelectorAll("#request_"+a)[0]);for(var t=document.querySelectorAll("#modelNotificationList li"),l=0,o=t.length-1;0<=o;o--)"block"==t[o].style.display&&l++;0==l&&0==document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")?noAlert("friend requests"):0==l&&fetchData()}setTimeout(function(){cacheAjaxNotif[1]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[4]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")},600)}}})}function reportSpam(e){var a=document.querySelectorAll("#request_"+e)[0],r=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count");MG_Utils.ajaxCall({url:"/user/ajax_friend_request_report?token="+token,type:"POST",data:{id:e,accept:-1},success:function(e){if("OK"==e){document.querySelectorAll("#tooltip")[0].style.display="none",document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",r-1),a.parentNode.removeChild(a);for(var t=document.querySelectorAll("#modelNotificationList li"),l=0,o=t.length-1;0<=o;o--)"block"==t[o].style.display&&l++;0==l&&0==document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")?noAlert("friend requests"):0==l&&fetchData(),setTimeout(function(){cacheAjaxNotif[1]=document.getElementById("modelNotificationList").innerHTML,cacheAjaxNotif[4]=document.getElementById("notificationBox").getAttribute("data-count")},600)}}})}function fetchData(){var l=document.querySelectorAll("#notificationBox")[0].getAttribute("type");"requestContent"==l&&(urlToFetch="/user/ajaxGetFriendRequests",cachetoUse=1),scrollLimit[cachetoUse]||offset[cachetoUse]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||MG_Utils.ajaxCall({type:"GET",data:{offset:offset[cachetoUse],limit:5,token:token},url:urlToFetch,dataType:"json",success:function(e){for(var t=0;t<e.datas.length;t++)"requestContent"==l&&createfriendRequestAlert(e.datas[t].avatar_url,e.datas[t].verified,e.datas[t].username,e.datas[t].user_link,e.datas[t].message,e.datas[t].request_date,e.datas[t].user_id,e.autoSubscribeFriendRequestsReceived);offset[cachetoUse]=offset[cachetoUse]+5,(offset[cachetoUse]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||100<=offset[cachetoUse])&&(scrollLimit[cachetoUse]=1),setTimeout(function(){cacheAjaxNotif[cachetoUse]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,initializeTooltip()},600)}})}function fetchDataMessages(){scrollLimit[0]||MG_Utils.ajaxCall({url:"/chat/threads",type:"GET",data:{limit:5,offset:offset[0],token:token},dataType:"json",success:function(e){if('"EXPIRED"'==e)document.location.reload();else{if(0!=e.jsonThreadsCount){for(var t in offset[0]=offset[0]+5,e.jsonThreads)createMailAlert(e.jsonThreads[t]);document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}e.jsonNonBlockedThreadsCount<5&&(scrollLimit[0]=1),setTimeout(function(){cacheAjaxNotif[0]=document.querySelectorAll("#modelNotificationList")[0].innerHTML},600)}}})}function fetchDataNotification(){scrollLimit[2]||offset[2]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||MG_Utils.ajaxCall({url:"/stream/notifications_mini",type:"GET",data:{offset:offset[2],limit:15,token:token},dataType:"json",success:function(e){document.querySelectorAll("#modelNotificationList")[0].innerHTML+=e.html,offset[2]=offset[2]+5,(offset[2]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||100<=offset[2])&&(scrollLimit[2]=1),setTimeout(function(){cacheAjaxNotif[2]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,initializeTooltip()},600)}})}if("undefined"!=typeof isLogged&&isLogged)function formSubmit(){var e=document.querySelectorAll("#friendRequestForm")[0],s=document.querySelectorAll("#preventClick")[0],n=s.getAttribute("data-user-id"),t={url:e.getAttribute("action"),data:{cancelRequest:document.querySelectorAll("#cancelRequest")[0].getAttribute("value"),messageRequest:document.querySelectorAll("#messageRequest")[0].value,subscribe:document.querySelectorAll("#auto_subscribe")[0].checked?1:0},type:"POST",beforeSend:function(){for(var e=document.querySelectorAll(".friend_"+n+" button")[0],t=e.children,l=t.length-1;0<=l;l--)MG_Utils.addClass(t[l],"visuallyHidden");e.innerHTML+='<span class="spinner" />'},success:function(e){void 0!==friendRequestModal&&friendRequestModal.closeModal();var t=document.querySelectorAll(".friend_"+n+" button")[0],l=document.querySelectorAll(".friend_"+n+" button .spinner"),o=t.children;l[0].parentNode.removeChild(l[0]);for(var a=o.length-1;0<=a;a--)MG_Utils.removeClass(o[a],"visuallyHidden");if("SENT"==e.success){t.setAttribute("data-friends",1);document.querySelectorAll(".friend_"+n)[0];if(MG_Utils.removeClass(document.querySelectorAll(".friend_"+n)[0],"removeFriend"),MG_Utils.removeClass(document.querySelectorAll(".friend_"+n)[0],"add"),MG_Utils.addClass(document.querySelectorAll(".friend_"+n)[0],"sent"),e.subscribed){var r=document.querySelectorAll(".subscribe_"+n+" button")[0],i=document.querySelectorAll(".subscribe_"+n);r.setAttribute("data-subscribed",1),MG_Utils.removeClass(i[0],"subscribe"),MG_Utils.addClass(i[0],"unsubscribe"),document.querySelectorAll(".subscribe_"+n+" .buttonLabel")[0].innerHTML="Subscribed"}s&&1==s.getAttribute("data-refresh")&&location.reload(),document.querySelectorAll(".friend_"+n+" .buttonLabel")[0].innerHTML=e.text_initial}}};MG_Utils.ajaxCall(t)}function avatarPopupHandler(o,e){for(var t=document.querySelectorAll("."+o),a=MG_Utils.hasClass(document.querySelector("body"),"logged-out"),l=t.length-1;0<=l;l--)MG_Utils.addEventHandler(t[l],"mouseenter",function(e){var t=this,l=e.target||e.srcElement;for(mouseEnterAvatar(t,a,e);0==MG_Utils.hasClass(l,o);)l=l.parentNode;myInt=setInterval(function(){MG_Utils.hasClass(l,o)||(mouseLeaveAvatar(t,a,e),clearInterval(myInt))},3e3)}),MG_Utils.addEventHandler(t[l],"mouseleave",function(e){mouseLeaveAvatar(this,a,e),myInt&&clearInterval(myInt)})}var cache={},timeout={timer:null,el:null};function avatarLoad(){document.querySelectorAll(".avatarWrap")&&avatarPopupHandler("avatarWrap"),document.querySelectorAll(".usernameWrap")&&avatarPopupHandler("usernameWrap"),document.querySelectorAll(".userLink")&&avatarPopupHandler("userLink")}function mouseEnterAvatar(e,t,l){if(0==MG_Utils.getData(e,"disable-popover")){var r=l.target;r.querySelectorAll(".avatarPosition");if(MG_Utils.hasClass(r,"avatarTrigger")&&""==document.querySelectorAll(".avatarPosition")[0].innerHTML||MG_Utils.hasClass(r,"usernameWrap")&&""==document.querySelectorAll(".avatarPosition")[0].innerHTML||MG_Utils.hasClass(r,"userLink")){var o=MG_Utils.getData(e,"type"),i=MG_Utils.getData(r,o+"id");MG_Utils.addClass(r,"elementHovered"),timeout.timer&&clearTimeout(timeout.timer),timeout.el=e,timeout.timer=setTimeout(function(e){if(cache[i]){document.querySelectorAll(".avatarPopOver");r.querySelector(".avatarPosition").innerHTML=cache[i],MG_Utils.hasClass(r,"elementHovered")&&(r.querySelector(".avatarPopOver").style.display="block")}else MG_Utils.ajaxCall({type:"POST",url:"/"+o+"/hover?id="+i,dataType:"html",context:this,success:function(e){var t,l=document.querySelectorAll(".avatarPopOver"),o=document.querySelector(".wrapper").offsetWidth;r.querySelector(".avatarPosition").innerHTML=e;for(var a=l.length-1;0<=a;a--)l[a].style.display="none";MG_Utils.hasClass(r,"elementHovered")&&(r.querySelector(".avatarPopOver").style.display="block",o<(t=document.querySelector(".avatarPopOver")).getBoundingClientRect().left+t.offsetWidth?MG_Utils.addClass(t,"popOverEdge"):MG_Utils.removeClass(t,"popOverEdge")),MG_Utils.hasClass(r,"elementHovered")&&(cache[i]=r.querySelector(".avatarPosition").innerHTML)}})},1e3)}}}function mouseLeaveAvatar(e,t,l){if(0==MG_Utils.getData(e,"disable-popover")){var o=l.target,a=MG_Utils.getData(e,"type"),r=MG_Utils.getData(o,a+"id");t&&e.querySelector(".avatarPosition").length&&(cache[r]=e.querySelector(".avatarPosition").innerHTML),e.querySelector(".avatarPopOver")&&(e.querySelector(".avatarPopOver").style.display="none"),timeout.timer&&clearTimeout(timeout.timer),MG_Utils.removeClass(e,"elementHovered")}}blurTimeout="";function focusReply(){if(document.querySelectorAll("form.streamCommentFrom"))for(var e=document.querySelectorAll("form.streamCommentFrom"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"blur",function(e){blurTimeout=setTimeout(function(){var e=MG_UtilsNew.closest(this,"form"),t=e.querySelectorAll(".streamSubmitInput"),l=e.querySelectorAll(".streamSections");MG_Utils.addClass(t,"focusReply"),MG_Utils.addClass(t,"hidden"),MG_Utils.addClass(l,"hidden")},200)});if(document.querySelectorAll(".streamTextArea")){var l=document.querySelectorAll(".streamTextArea");MG_Utils.setText(l,"");for(t=0;t<l.length;t++)MG_Utils.addEventHandler(l[t],"focus",function(e){var t=this.value,l=MG_UtilsNew.closest(this,".streamSubmitInput"),o=MG_UtilsNew.closest(this,".streamSections");"Click to leave a comment"===t&&(this.value=""),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.triggerEvent(this,"resize")})}}function openReply(){if(document.querySelectorAll(".reply a"))for(var t,l,o,a,r,i,e=document.querySelectorAll(".reply a"),s=0;s<e.length;s++)MG_Utils.addEventHandler(e[s],"click",function(e){e=e||window.event,t=MG_UtilsNew.closest(this,".feedItemSection"),l=t.querySelector(".postingForm"),o=t.querySelector(".formAvatar"),a=t.querySelector(".formText"),r=a.querySelector("textarea"),i=a.querySelector(".js_taggable"),MG_Utils.addClass(this,"hideme"),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.addClass(a,"showme"),MG_Utils.setText(r,""),MG_Utils.triggerEvent(r,"click"),MG_Utils.setText(i,commentPlaceholder),MG_Utils.addClass(i,"placeHolderText")})}function addShareExternal(e,t,l){if(WIDGET_SHARE.shareButtonsLoaded)"function"==typeof e&&e();else{if(WIDGET_SHARE.shareButtonsLoaded=!0,void 0===t&&(t=WIDGET_SHARE.urlShare),void 0===l&&(l=WIDGET_SHARE.shareTitle),document.querySelectorAll("a.sharesTwitter")){var o=document.querySelectorAll("a.sharesTwitter")[0],a=o.getAttribute("href");o.setAttribute("href",updateQueryStringParameter(a,"text",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesReddit")){var r=document.querySelectorAll("a.sharesReddit")[0],i=r.getAttribute("href");r.setAttribute("href",updateQueryStringParameter(i,"title",encodeURIComponent(l)))}if(0<document.querySelectorAll("a.sharesTumblr").length){var s=document.querySelectorAll("a.sharesTumblr")[0],n=s.getAttribute("href");s.setAttribute("href",updateQueryStringParameter(n,"t",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesGooglePlusOne")){var c=document.querySelectorAll("a.sharesGooglePlusOne")[0],u=c.getAttribute("href");c.setAttribute("href",updateQueryStringParameter(u,"url",t))}if(document.querySelectorAll("a.sharesStubleUpon")){var d=document.querySelectorAll("a.sharesStubleUpon")[0],m=d.getAttribute("href");d.setAttribute("href",updateQueryStringParameter(m,"title",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesBlogger")){var f=document.querySelectorAll("a.sharesBlogger")[0],y=f.getAttribute("href");f.setAttribute("href",updateQueryStringParameter(y,"n",encodeURIComponent(l)))}}}var fadeClickthroughEvent=function(){var e=document.querySelectorAll("#moreData, ul.videos-list, ul.videos, ul.popularSectionListPremium");[].forEach.call(e,function(e){e.addEventListener("mousedown",function(e){var t=e.target;if(MG_Utils.hasClass(t,"fadeImage")||MG_Utils.hasClass(t,"fade")){var l,o=t.querySelector("a.img"),a=t.querySelector("a.selectVideoThumb");if(a)l=a.getAttribute("href");else if(o)l=o.getAttribute("href");else{l=t.querySelector("a").getAttribute("href")}l&&(e.preventDefault(),1===e.which&&(window.location.href=l),2===e.which&&window.open(l,"_blank"))}})})},MG_UtilsNew={closest:function(e,t){var l;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),l=t.length;0<=--l&&t.item(l)!==this;);return-1<l});null!==e;){if(null!==(l=e.parentElement)&&l instanceof Element&&l.matches(t))return l;e=l}return null}};MG_Utils.domReady(function(){if(function(){var e=document.querySelector("#js-noticeWarningModal"),t=document.querySelector("#js-blackListModal");if(e&&t){var o=new MG_Modal({content:e,closeButton:!1,className:"noticeModal",closeDocument:!1}),a=new MG_Modal({content:t,closeButton:!1,className:"blackListModal",closeDocument:!1});document.addEventListener("click",function(e){var t=e.target;(MG_Utils.hasClass(t,"js-closeBlackList")||MG_Utils.hasClass(t,"js-closeNotice"))&&(MG_Utils.hasClass(t,"js-closeBlackList")&&a.closeModal(),MG_Utils.hasClass(t,"js-closeNotice")&&o.closeModal())}),document.addEventListener("click",function(e){var t=e.target;if(MG_Utils.hasClass(t,"js-ckeckExternalSource")||MG_Utils.hasClass(t.parentNode,"js-ckeckExternalSource")){e.preventDefault();var l=t.getAttribute("href")||t.parentNode.getAttribute("href");MG_Utils.ajaxCall({type:"POST",url:modalTranslationText.blackWhiteListUrl,data:{url:l},dataType:"json",success:function(e){try{switch(e.status){case"blacklist":return a.openModal(function(e,t){t.querySelector(".js-blackListInput").value=l});case"whitelist":return window.location.href=l;default:return o.openModal(function(e,t){t.querySelector(".js-noticeDivInput").value=l,t.querySelector(".js-extrnalLink").href=l})}}catch(e){console.log(e)}}})}}),document.querySelector(".js-extrnalLink")&&document.addEventListener("click",function(e){MG_Utils.hasClass(e.target,"js-extrnalLink")&&o.closeModal()})}}(),"undefined"!=typeof BrowserDetect){switch(BrowserDetect.browser){case"Opera":MG_Utils.addClass(document.documentElement,"opera");break;case"Safari":MG_Utils.addClass(document.documentElement,"safari");break;case"Firefox":MG_Utils.addClass(document.documentElement,"firefox");break;case"Chrome":MG_Utils.addClass(document.documentElement,"chrome");break;case"Explorer":MG_Utils.addClass(document.documentElement,"ie")}"Explorer"==BrowserDetect.browser&&10==BrowserDetect.version&&MG_Utils.addClass(document.documentElement,"ie10"),!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)&&MG_Utils.addClass(document.documentElement,"ie11"),"Win32"==navigator.platform?MG_Utils.addClass(document.documentElement,"windows"):"MacIntel"==navigator.platform&&MG_Utils.addClass(document.documentElement,"osx"),BrowserDetect.init()}if("undefined"!=typeof searchTypes)new autocompleteSearch({types:searchTypes,placeholderData:page_params.placeholderData});var e,t,i,l,s,o,n,c,u,a,r;dropdown.init(".mainFilter, .sortFilter"),dropdown.init("#languageWrapper"),dropdown.init(".languageWrapper"),dropdown.init("#notificationIcons",{closeCallback:function(){var e=document.querySelector('.notificationIcon[data-type="'+document.getElementById("notificationBox").getAttribute("type")+'"] > span');e&&(e.style.display="none")}}),"undefined"!=typeof isLogged&&isLogged&&dropdown.init("#profileMenuWrapper"),renderCommentLinks(),function(){for(var e=document.querySelectorAll("textarea[data-val]"),t=0;t<e.length;t++)element=e[t],""==element.value&&(element.value=element.getAttribute("data-val"))}(),function(){for(var e=document.querySelectorAll("ul"),t=0;t<e.length;++t){var l=MG_Utils.firstChild(e[t]),o=MG_Utils.lastChild(e[t]);l&&MG_Utils.addClass(l,"alpha"),o&&(MG_Utils.hasClass(o,"sectionMoreBtn")?MG_Utils.addClass(o.previousElementSibling||MG_Utils.previousElementSibling(o),"omega"):MG_Utils.addClass(o,"omega"))}}(),function(){for(var e=document.querySelectorAll(".container a.img, .container img"),t=0;t<e.length;++t)MG_Utils.hasClass(e[t],"catIcon")||(e[t].setAttribute("data-title",e[t].title),e[t].setAttribute("title",""))}(),function(){for(var e=document.querySelectorAll(".tooltipTrig"),t=0;t<e.length;++t)initTooltip(e[t],e[t].getAttribute("data-title"))}(),function(){for(var e,t,l,o=document.querySelectorAll(".wideDropdown"),a=0;a<o.length;++a)if(t=o[a],e=document.querySelector(".menu."+t.getAttribute("data-submenu-type")),l=document.querySelectorAll(".wideDropdown."+t.getAttribute("data-submenu-type")),e)for(var r=0;r<l.length;r++)e.appendChild(l[r])}(),function(){var t=document.getElementById("countryRedirectMessage");if(t&&!PH_Storage.getItem("hideLangRedirect")){t.style.display="block";for(var e=t.querySelectorAll("i"),l=0;l<e.length;l++)MG_Utils.addEventHandler(e[l],"click",function(e){e=e||window.event,MG_Utils.stopPropagation(e),t.style.display="none",PH_Storage.saveWithExpiry("hideLangRedirect",!0)})}}(),function(){for(var e=document.querySelectorAll(".shareIcons a"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"click",function(e){var t,l,o=(e=e||window.event).target||e.srcElement;if(MG_Utils.preventDefault(e),"a"!==o.nodeName.toLowerCase())for(;(o=o.parentElement)&&"a"!==o.nodeName.toLowerCase(););t=Math.floor(((screen.availWidth||1024)-640)/2),l=Math.floor(((screen.availHeight||700)-320)/2),window.open(o.href,"social","width=640,height=320,left="+t+",top="+l+",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1")})}(),VideoPreview.getTarget("js-videoPreview"),e=function(){"use strict";var r={debug:!1,link:".js-mxp",parent:".js-mxpParent",meta:'head [name="mxp-page"]'},l=function(e){var t=MG_UtilsNew.closest(this,r.parent);if(!this.hasAttribute("data-mxptext")||!t||!t.hasAttribute("data-mxp"))return!1;JSON.parse(this.getAttribute("data-mxp"));var l="None",o=t.getAttribute("data-mxp"),a={};this.hasAttribute("data-mxptype")&&(l=this.getAttribute("data-mxptype")),r.debug&&MG_Utils.preventDefault(e),a[l+"Name"]=this.getAttribute("data-mxptext"),a.PageFrom=o,mixpanel.track("View "+l,a)},t=function(){var e=document.querySelector(r.meta);e&&mixpanel.track("Viewed Page",{"Page Name":e.getAttribute("content")})},o=function(){for(var e=document.querySelectorAll(r.link),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"click",l)};return{init:function(e){if(!premiumFlag)return!1;e=e||{},(r=MG_Utils.extendSimple(r,e)).debug&&console.log("MixPanel debug mode"),t(),o()},trackClick:o}}(),"undefined"!=typeof premiumFlag&&"1"==premiumFlag&&e.init(),(t=document.querySelectorAll("#scrollNotif")[0])&&MG_Utils.addEventHandler(t,"scroll",function(e){var t=document.querySelectorAll("#scrollNotif");if(t[0].scrollTop+t[0].clientHeight>=t[0].scrollHeight){var l=document.querySelectorAll("#notificationBox")[0].getAttribute("type");"notifContent"==l?fetchDataNotification():"messageContent"==l?setTimeout(function(){fetchDataMessages()},600):fetchData()}}),MG_Utils.limit=function(e,l){l=MG_Utils.extendSimple({limit:200},l);for(var t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"keyup",function(e){var t=(e=e||event).target||e.srcElement;t.value.length>l.limit&&(t.value=t.value.substring(0,l.limit))})},function(){var e=document.querySelectorAll(".topProfileHeader")?document.querySelectorAll(".topProfileHeader")[0]:null;if(e){var l=e?e.querySelector(".showMore"):null,o=document.querySelector(".bio .text")?document.querySelector(".bio .text"):null,a=document.querySelector(".bio.bioEmpty")?document.querySelector(".bio.bioEmpty"):null,r=document.querySelector(".detailedInfo")?document.querySelector(".detailedInfo"):null,i="extended",s={showMore:"Show More",showLess:"Show Less"};function n(e,t){t?(l.innerHTML=e.showMore,MG_Utils.removeClass(o,i),MG_Utils.removeClass(r,i)):(l.innerHTML=e.showLess,MG_Utils.addClass(o,i),MG_Utils.addClass(r,i))}l&&MG_Utils.addEventHandler(l,"click",function(){var e=MG_Utils.hasClass(r,i),t=MG_Utils.hasClass(o,i);"undefined"!=typeof CLAIMED_HEADER_COVER_TABLET?e&&(o&&t||a)?n(CLAIMED_HEADER_COVER_TABLET,!0):n(CLAIMED_HEADER_COVER_TABLET):"undefined"!=typeof MODEL_PROFILE&&o&&r?e&&t?n(MODEL_PROFILE,!0):n(MODEL_PROFILE):e&&t?n(s,!0):n(s)})}var t=[e],c=[function(e,t){{if(0===t.length)return e;for(var l=[],o=0;o<e.length;o++)y(t,e[o])||l.push(e[o]);return l}}(document.querySelectorAll("a"),t),document.querySelectorAll("a span"),document.querySelectorAll("button"),document.querySelectorAll("button span")];for(k=0;k<c.length;k++){var u=c[k];if(u&&0!==u.length)for(var d=u.length-1;0<=d;d--){var m=u[d];"Show More"!=m.innerHTML&&"Show Less"!=m.innerHTML||MG_Utils.addEventHandler(m,"click",function(e){f(e=e||event)})}}function f(e){var t=e.target||e.srcElement;"Show More"==t.innerHTML?t.innerHTML="Show Less":"Show Less"==t.innerHTML&&(t.innerHTML="Show More")}function y(e,t){for(var l=t.parentNode;null!=l;){for(var o=0;o<e.length;o++)if(l===e[o])return!0;l=l.parentNode}return!1}}(),function(){if(document.querySelectorAll(".createPlaylistModalTrigger"))for(var e=document.querySelectorAll(".createPlaylistModalTrigger"),t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"click",function(e){(e=e||event).preventDefault(),void 0!==createPlaylistModal&&createPlaylistModal.openModal(function(){dropdown.init("#playlist-form .privacySelector"),MG_Utils.limit(document.querySelectorAll("#new-playlist-description"),{limit:1e3})})})}(),function(){if(document.querySelectorAll(".blockPageScroll"))for(var e=document.querySelectorAll(".blockPageScroll"),t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"mousewheel",function(e){(e=e||event).preventDefault()}),MG_Utils.addEventHandler(e[t],"DOMMouseScroll",function(e){(e=e||event).preventDefault()})}(),function(){if(document.querySelectorAll(".expandable-title")){for(var e=document.querySelectorAll(".expandable-title"),t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"click",function(){if(MG_Utils.hasClass(this.parentNode,"active")){var e=this.parentNode;e.querySelector(".expandable-content").style.display="none",MG_Utils.removeClass(e,"active")}else{for(var t=this.parentNode,l=document.querySelectorAll(".expandable-section.active"),o=l.length-1;0<=o;o--)MG_Utils.removeClass(l[o],"active"),l[o].querySelector(".expandable-content").style.display="none";t.querySelector(".expandable-content").style.display="block",MG_Utils.addClass(t,"active")}});var l=document.querySelectorAll(".expandable-title .expand-button");for(t=l.length-1;0<=t;t--)MG_Utils.addEventHandler(l[t],"click",function(e){(e=e||event).preventDefault()})}}(),(l=document.body).addEventListener("mouseover",function(e){var t=e.target;if(e.relatedTarget,window.clearTimeout(i),MG_Utils.hasClass(t,"fadeUp")&&!MG_Utils.hasClass(t.parentNode,"js-noFade")){var l=t.querySelector(".thumb"),o=t.querySelector(".privateOverlay");if(MG_Utils.hasClass(t,"fade"))var a=t.querySelector(".watchedVideoText");else a=MG_Utils.closest(t,".fade").querySelector(".watchedVideoText");o||(!MG_Utils.hasClass(l,"js-videoPreview")||MG_Utils.hasClass(l,"js-videoThumbFlip")||MG_Utils.hasClass(l,"activeVideo")||(i=setTimeout(function(){MG_Utils.removeClass(t,"fadeUp")},300)),MG_Utils.hasClass(l,"js-videoThumbFlip")&&!l.getAttribute("data-flipbook_active")&&(MG_Utils.hasClass(l,"js-videoPreview")||(i=setTimeout(function(){MG_Utils.removeClass(t,"fadeUp"),a&&!MG_Utils.hasClass(a,"hide")&&MG_Utils.addClass(a,"hide")},100)),MG_Utils.hasClass(l,"js-videoPreview")&&(i=setTimeout(function(){MG_Utils.removeClass(t,"fadeUp"),a&&!MG_Utils.hasClass(a,"hide")&&MG_Utils.addClass(a,"hide")},100))))}var r=!!document.documentMode;MG_Utils.hasClass(t,"js-videoThumbFlip")&&r&&(a=MG_UtilsNew.closest(t,".fade").querySelector(".watchedVideoText"))&&!MG_Utils.hasClass(a,"hide")&&MG_Utils.addClass(a,"hide")}),l.addEventListener("mouseout",function(e){var t=e.target,l=e.relatedTarget;if(window.clearTimeout(i),MG_UtilsNew.closest(t,".fade")){if(!MG_Utils.hasClass(MG_UtilsNew.closest(t,".fade"),"fadeUp")){var o=MG_UtilsNew.closest(t,".fade").querySelector(".watchedVideoText");MG_Utils.hasClass(t,"js-videoThumbFlip")&&MG_Utils.hasClass(t,"js-videoPreview")&&(MG_Utils.addClass(MG_UtilsNew.closest(t,".fade"),"fadeUp"),o&&MG_Utils.hasClass(o,"hide")&&MG_Utils.removeClass(o,"hide")),MG_Utils.hasClass(t,"js-videoPreview")&&!MG_Utils.hasClass(t,"js-videoThumbFlip")&&MG_Utils.addClass(MG_UtilsNew.closest(t,".fade"),"fadeUp")}var a=!!document.documentMode;MG_Utils.hasClass(t,"js-videoThumbFlip")&&a&&(o=MG_UtilsNew.closest(t,".fade").querySelector(".watchedVideoText"))&&MG_Utils.hasClass(o,"hide")&&MG_Utils.removeClass(o,"hide")}if(MG_Utils.hasClass(t,"fade")&&!MG_Utils.hasClass(t,"fadeUp")){var r=t.querySelector(".thumb");MG_Utils.hasClass(t,"fade")&&(o=t.querySelector(".watchedVideoText")),MG_Utils.hasClass(r,"js-videoThumbFlip")&&MG_Utils.hasClass(r,"js-videoPreview")&&l&&!MG_Utils.hasClass(l,"thumb")&&(MG_Utils.addClass(t,"fadeUp"),o&&MG_Utils.hasClass(o,"hide")&&MG_Utils.removeClass(o,"hide")),MG_Utils.hasClass(r,"js-videoThumbFlip")&&!MG_Utils.hasClass(r,"js-videoPreview")&&l&&!MG_Utils.hasClass(l,"thumb")&&(MG_Utils.addClass(t,"fadeUp"),o&&MG_Utils.hasClass(o,"hide")&&MG_Utils.removeClass(o,"hide")),!MG_Utils.hasClass(r,"js-videoPreview")||MG_Utils.hasClass(r,"js-videoThumbFlip")||MG_Utils.hasClass(r,"activeVideo")||MG_Utils.addClass(t,"fadeUp")}}),o=document.body,n=function(e){e.length&&[].forEach.call(e,function(e){MG_Utils.removeClass(e,"active")})},c=function(e){var t,l=document.querySelector(".add-to-playlist-menu");if(e)t=e.querySelector(".playlist-trigger");else{var o=document.querySelector(".zoom.active");o&&(t=o.querySelector(".playlist-trigger"))}if(t)for(;"block"===l.style.display;)t.click()},u=function(e){return!!e&&(!MG_Utils.hasClass(e,"playlist-trigger")&&!(MG_Utils.hasClass(e,"playlist-menu-addTo")||MG_Utils.hasClass(e,"playlist-list")||MG_Utils.hasClass(e,"playlist-menu-createNew")))},o.addEventListener("mouseover",function(e){var t=e.target;if(e.relatedTarget,window.clearTimeout(s),MG_UtilsNew.closest(t,".zoom")&&!MG_Utils.hasClass(MG_UtilsNew.closest(t,".zoom"),"active")){if(MG_Utils.hasClass(t,"img")&&MG_Utils.hasClass(t.querySelector(".thumb"),"js-videoThumbFlip")||MG_Utils.hasClass(t,"js-videoThumbFlip")){var l=MG_UtilsNew.closest(t,".zoom"),o=document.querySelectorAll(".zoom.active");"block"===document.querySelector(".add-to-playlist-menu").style.display&&c(),n(o),s=setTimeout(function(){MG_Utils.addClass(l,"active")},100)}(MG_Utils.hasClass(t,"img")&&t.querySelector(".js-videoPreview")&&!MG_Utils.hasClass(t.querySelector(".js-videoPreview"),"activeVideo")&&!t.querySelector(".js-videoThumbFlip")||MG_Utils.hasClass(t,"js-videoPreview")&&!MG_Utils.hasClass(t,"activeVideo")&&!MG_Utils.hasClass(t,"js-videoThumbFlip"))&&(l=MG_UtilsNew.closest(t,".zoom"),o=document.querySelectorAll(".zoom.active"),"block"===document.querySelector(".add-to-playlist-menu").style.display&&c(),n(o),s=setTimeout(function(){MG_Utils.addClass(l,"active")},100))}}),o.addEventListener("mouseout",function(e){var t=e.target,l=e.relatedTarget,o=this.querySelector(".add-to-playlist-menu");if(MG_UtilsNew.closest(t,".zoom")){MG_UtilsNew.closest(t,".phimage");var a=MG_UtilsNew.closest(t,".zoom");if(window.clearTimeout(s),(MG_Utils.hasClass(t,"img")||MG_Utils.hasClass(t,"thumb"))&&MG_Utils.hasClass(o,"display-none")&&l&&(MG_Utils.hasClass(l,"playlist-trigger")||MG_Utils.hasClass(l,"not-interested-trigger")||MG_UtilsNew.closest(l,".playlist-menu-addTo")||MG_UtilsNew.closest(l,".playlist-list")||MG_UtilsNew.closest(l,".playlist-menu-createNew")||MG_UtilsNew.closest(l,".marker-overlays")))return;if(MG_Utils.hasClass(a,"active")&&MG_Utils.hasClass(t,"js-videoPreview")&&MG_Utils.hasClass(t,"js-videoThumbFlip")||t.querySelector(".js-videoPreview")&&t.querySelector(".js-videoThumbFlip")&&!MG_Utils.hasClass(l,"thumb")&&u(l)){var r=document.querySelectorAll(".zoom.active");"block"===o.style.display&&c(a),n(r)}(MG_Utils.hasClass(a,"active")&&MG_Utils.hasClass(t,"js-videoThumbFlip")||MG_Utils.hasClass(t,"img")&&t.querySelector(".js-videoThumbFlip")&&l&&u(l)&&!MG_Utils.hasClass(l,"thumb"))&&(r=document.querySelectorAll(".zoom.active"),"block"===o.style.display&&c(a),n(r)),(MG_Utils.hasClass(a,"active")&&MG_Utils.hasClass(t,"js-videoPreview")&&!MG_Utils.hasClass(t,"activeVideo")&&!MG_Utils.hasClass(t,"js-videoThumbFlip")||MG_Utils.hasClass(t,"img")&&t.querySelector(".js-videoPreview")&&!t.querySelector(".js-videoThumbFlip")&&!MG_Utils.hasClass(t.querySelector(".js-videoPreview"),"activeVideo")&&u(l))&&(r=document.querySelectorAll(".zoom.active"),"block"===o.style.display&&c(a),n(r))}(MG_UtilsNew.closest(t,".marker-overlays")||MG_UtilsNew.closest(t,".add-to-playlist-icon"))&&MG_UtilsNew.closest(t,".zoom")&&MG_Utils.hasClass(MG_UtilsNew.closest(t,".zoom"),"active")&&l&&!MG_UtilsNew.closest(l,".marker-overlays")&&!MG_UtilsNew.closest(l,".phimage")&&!MG_UtilsNew.closest(l,".add-to-playlist-menu")&&(r=document.querySelectorAll(".zoom.active"),a=MG_UtilsNew.closest(t,".zoom"),window.clearTimeout(s),"block"===o.style.display&&c(a),n(r)),t&&l&&(MG_UtilsNew.closest(t,".playlist-menu-addTo")||MG_UtilsNew.closest(t,".playlist-list")||MG_UtilsNew.closest(t,".playlist-menu-createNew"))&&!MG_Utils.hasClass(l,"playlist-trigger")&&!MG_Utils.hasClass(l,"img")&&!MG_UtilsNew.closest(l,".add-to-playlist-menu")&&(r=document.querySelectorAll(".zoom.active"),window.clearTimeout(s),"block"===o.style.display&&c(),n(r))}),a=document.querySelector("#searchInput"),r=document.querySelector("#searchBarContainer"),null!==a&&(MG_Utils.addEventHandler(a,"focus",function(){MG_Utils.addClass(r,"active")}),MG_Utils.addEventHandler(a,"blur",function(){MG_Utils.removeClass(r,"active")})),fadeClickthroughEvent()});