function setWidth(){$j(window).width()<1600?15<$j(".bkg-channel-btn span").text().length&&$j(".bkg-channel-btn span").css({"line-height":"1.5em"}):$j(".bkg-channel-btn").css({"line-height":"2em"})}$j(window).resize(function(){setWidth()}),head.ready(document,function(){dropdown.init(".subFilter"),setWidth(),$j("ul.categories-list li div a").click(function(){position=1+$j("ul.categories-list li").index($j(this).parent().parent());var t=$j(this).parent().parent().data("category");1600<=$j(window).width()?(perRow=5,values=[[0,0,0,0,0,0],[0,1,2,2,2,3],[0,2,2,2,3,3],[0,3,3,3,3,4],[0,4,4,4,4,5],[0,4,4,4,4,5]],y=Math.ceil(position/perRow),x=position-(y-1)*perRow,5<=y||6<=x?points=5:points=values[y][x]):(perRow=4,values=[[0,0,0,0,0],[0,1,2,2,2],[0,2,2,2,3],[0,3,3,3,3],[0,4,4,4,4]],y=Math.ceil(position/perRow),x=position-(y-1)*perRow,5<=y||5<=x?points=5:points=values[y][x]),$j.ajax({url:"/video/category_tracker?e=click&points="+points+"&id="+t+"&token="+token,async:!1,success:function(){}})}),$j.ajax({url:"/video/category_tracker?e=view&token="+token})}),function(){var i=["0","10","20","30","40+"],o=$j("#duration-slider");o.slider({range:!0,min:0,max:i.length-1,values:[0,i.length-2],stop:function(t,n){var e=window.location.href;if(n.values[0]==n.values[1])return!1;e=l(e=l(e,"min_duration"),"max_duration"),"0"==i[n.values[0]]||(e=s(e,"min_duration",i[n.values[0]])),"40+"!=i[n.values[1]]&&(e=s(e,"max_duration",i[n.values[1]])),window.location.replace(e)}});var a=100/(i.length-1);function s(t,n,e){var i=-1<t.indexOf("?")?"&":"?";return t+i+n+"="+e}function l(t,n){var e=t.split("?");if(2<=e.length){for(var i=encodeURIComponent(n)+"=",o=e[1].split(/[&;]/g),a=o.length;0<a--;)-1!==o[a].lastIndexOf(i,0)&&o.splice(a,1);return t=o.join("&")?e[0]+"?"+o.join("&"):e[0]}return t}$j.each(i,function(t,n){var e=a;0!==t&&t!==i.length-1||(e=a/2),o.next(".legend").append("<label style='width: "+e+"%'>"+n+"</laben>")}),$j(document).on({mouseenter:function(){$this=$j(this),$j("#tooltip").html("<div class='tooltip-sub'>Drag to set filter</div></div><div class='arrow-down'></div>").show().addClass($this.attr("type")),$j("#tooltip").position({my:"center bottom-10",at:"center top",collision:"fit none",of:$this}),$j(".arrow-down").position({my:"center bottom",at:"center top",collision:"none none",of:$this})},mouseleave:function(){$j("#tooltip").hide()}},".ui-slider-handle"),$j("div#sideCatContainer").click(function(){$j("div.sideCatBox").toggle()})}();