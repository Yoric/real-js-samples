;/*lib/mustache üëâ*/;var Mustache;!function(t){"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define?define(t):Mustache=t}(function(){var m={name:"mustache.js",version:"0.7.0",tags:["{{","}}"]};m.Scanner=C,m.Context=c,m.Writer=t;var d=/\s*/,y=/\s+/,r=/\S/,w=/\s*=/,_=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;function b(t){return e=r,n=t,!RegExp.prototype.test.call(e,n);var e,n}var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function x(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function C(t){this.string=t,this.tail=t,this.pos=0}function c(t,e){this.view=t,this.parent=e,this.clearCache()}function t(){this.clearCache()}function l(t){for(var e,n=t[3],r=n;(e=t[4])&&e.length;)r=(t=e[e.length-1])[3];return[n,r]}function U(t){if(2!==t.length)throw new Error("Invalid tags: "+t.join(" "));return[new RegExp(x(t[0])+"\\s*"),new RegExp("\\s*"+x(t[1]))]}m.escape=function(t){return String(t).replace(/[&<>"'\/]/g,function(t){return e[t]})},C.prototype.eos=function(){return""===this.tail},C.prototype.scan=function(t){var e=this.tail.match(t);return e&&0===e.index?(this.tail=this.tail.substring(e[0].length),this.pos+=e[0].length,e[0]):""},C.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return e},c.make=function(t){return t instanceof c?t:new c(t)},c.prototype.clearCache=function(){this._cache={}},c.prototype.push=function(t){return new c(t,this)},c.prototype.lookup=function(t){var e=this._cache[t];if(!e){if("."===t)e=this.view;else for(var n=this;n;){if(0<t.indexOf(".")){var r=t.split("."),i=0;for(e=n.view;e&&i<r.length;)e=e[r[i++]]}else e=n.view[t];if(null!=e)break;n=n.parent}this._cache[t]=e}return"function"==typeof e&&(e=e.call(this.view)),e},t.prototype.clearCache=function(){this._cache={},this._partialCache={}},t.prototype.compile=function(t,e){var n=this._cache[t];if(!n){var r=m.parse(t,e);n=this._cache[t]=this.compileTokens(r,t)}return n},t.prototype.compilePartial=function(t,e,n){var r=this.compile(e,n);return this._partialCache[t]=r},t.prototype.compileTokens=function(t,r){var a=function i(s){var a={};function u(t,e,n){if(!a[t]){var r=i(e);a[t]=function(t,e){return r(t,e,n)}}return a[t]}return function(t,e,n){for(var r,i,a="",o=0,c=s.length;o<c;++o)switch((r=s[o])[0]){case"#":i=n.slice.apply(n,l(r)),a+=t._section(r[1],e,i,u(o,r[4],n));break;case"^":a+=t._inverted(r[1],e,u(o,r[4],n));break;case">":a+=t._partial(r[1],e);break;case"&":a+=t._name(r[1],e);break;case"name":a+=t._escaped(r[1],e);break;case"text":a+=r[1]}return a}}(t),o=this;return function(t,e){if(e)if("function"==typeof e)o._loadPartial=e;else for(var n in e)o.compilePartial(n,e[n]);return a(o,c.make(t),r)}},t.prototype.render=function(t,e,n){return this.compile(t)(e,n)},t.prototype._section=function(t,e,n,r){var i=e.lookup(t);switch(typeof i){case"object":if(u(i)){for(var a="",o=0,c=i.length;o<c;++o)a+=r(this,e.push(i[o]));return a}return i?r(this,e.push(i)):"";case"function":var s=this;return i.call(e.view,n,function(t){return s.render(t,e)})||"";default:if(i)return r(this,e)}return""},t.prototype._inverted=function(t,e,n){var r=e.lookup(t);return!r||u(r)&&0===r.length?n(this,e):""},t.prototype._partial=function(t,e){t in this._partialCache||!this._loadPartial||this.compilePartial(t,this._loadPartial(t));var n=this._partialCache[t];return n?n(e):""},t.prototype._name=function(t,e){var n=e.lookup(t);return"function"==typeof n&&(n=n.call(e.view)),null==n?"":String(n)},t.prototype._escaped=function(t,e){return m.escape(this._name(t,e))},m.parse=function(t,e){var n,r,i,a,o=U(e=e||m.tags),c=new C(t),s=[],u=[],l=!1,p=!1;function h(){if(l&&!p)for(;u.length;)s.splice(u.pop(),1);else u=[];p=l=!1}for(;!c.eos();){if(n=c.pos,i=c.scanUntil(o[0]))for(var f=0,v=i.length;f<v;++f)b(a=i.charAt(f))?u.push(s.length):p=!0,s.push(["text",a,n,n+1]),n+=1,"\n"===a&&h();if(n=c.pos,!c.scan(o[0]))break;if(l=!0,r=c.scan(k)||"name",c.scan(d),"="===r)i=c.scanUntil(w),c.scan(w),c.scanUntil(o[1]);else if("{"===r){var g=new RegExp("\\s*"+x("}"+e[1]));i=c.scanUntil(g),c.scan(_),c.scanUntil(o[1]),r="&"}else i=c.scanUntil(o[1]);if(!c.scan(o[1]))throw new Error("Unclosed tag at "+c.pos);s.push([r,i,n,c.pos]),"name"!==r&&"{"!==r&&"&"!==r||(p=!0),"="===r&&(o=U(e=i.split(y)))}return function(t){for(var e,n,r=0;r<t.length;++r)e=t[r],n&&"text"===n[0]&&"text"===e[0]?(n[1]+=e[1],n[3]=e[3],t.splice(r--,1)):n=e}(s),function(t){for(var e,n,r=[],i=r,a=[],o=0;o<t.length;++o)switch((e=t[o])[0]){case"#":case"^":e[4]=[],a.push(e),i.push(e),i=e[4];break;case"/":if(0===a.length)throw new Error("Unopened section: "+e[1]);if((n=a.pop())[1]!==e[1])throw new Error("Unclosed section: "+n[1]);i=0<a.length?a[a.length-1][4]:r;break;default:i.push(e)}if(n=a.pop())throw new Error("Unclosed section: "+n[1]);return r}(s)};var i=new t;return m.clearCache=function(){return i.clearCache()},m.compile=function(t,e){return i.compile(t,e)},m.compilePartial=function(t,e,n){return i.compilePartial(t,e,n)},m.compileTokens=function(t,e){return i.compileTokens(t,e)},m.render=function(t,e,n){return i.render(t,e,n)},m.to_html=function(t,e,n,r){var i=m.render(t,e,n);if("function"!=typeof r)return i;r(i)},m}());
;/*plugin/jquery.autocomplete üëâ*/;!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(h){"use strict";var s={escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.display="none",t},cookie:function(e,t,n,s,i){if(t==undefined){var o=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),a=document.cookie.match(o);return a?a[1]:""}var l=new Date;l.setDate(l.getDate()+n),document.cookie=e+"="+escape(t)+(null==n?"":";expires="+l.toGMTString())+(null==s?"":";path="+s)+(null==i?"":";domain="+i)}},n=27,i=9,o=13,a=38,l=39,r=40;function u(e,t){var n=function(){},s=this,i={offset:{top:0,left:0},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:u.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onEnter:n,onSearchStart:n,onSearchComplete:n,onSearchError:n,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(e,t,n){return-1!==e.value.toLowerCase().indexOf(n)},paramName:"query",transformResult:function(e){return"string"==typeof e?h.parseJSON(e):e}};s.element=e,s.el=h(e),s.suggestions=[],s.history=[],s.badQueries=[],s.selectedIndex=-1,s.currentValue=s.element.value,s.intervalId=0,s.cachedResponse={},s.onChangeInterval=null,s.onChange=null,s.isLocal=!1,s.suggestionsContainer=null,s.options=h.extend({},i,t),s.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},s.hint=null,s.hintValue="",s.selection=null,s.initialize(),s.setOptions(t)}u.utils=s,(h.Autocomplete=u).formatResult=function(e,t){var n="("+s.escapeRegExChars(t)+")";return e.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>")},u.prototype={killerFn:null,initialize:function(){var e,n=this,t="."+n.classes.suggestion,s=n.classes.selected,i=n.options;n.element.setAttribute("autocomplete","off"),n.killerFn=function(e){0===h(e.target).closest(n.options.containerClass).length&&(n.killSuggestions(),n.disableKillerFn())},(e=n.container=h(i.containerClass)).append(h('<div class="c-header-search-list" mg-stat-mod="c_search">                <h4 class="c-header-search-list-title c-header-search-list-history-title">ÊêúÁ¥¢ÂéÜÂè≤</h4>                <a class="c-header-search-list-empty" href="javascript:;" mg-stat-click=""><i class="c-header-icon u-search-del">                <svg class="svg-del"><use xlink:href="#header-channel-del"></use></svg></i>Ê∏ÖÁ©∫ËÆ∞ÂΩï</a>                <div class="c-header-search-list-history"></div>                <h4 class="c-header-search-list-title c-header-search-list-hot-title">ÁÉ≠Èó®ÊêúÁ¥¢</h4>                <div class="c-header-search-list-hot"></div>            </div>')),n.$historyList=e.find(i.historyList),n.$suggestList=e.find(i.suggestList),n.wrapper=h(i.wrapperClass),e.on("mouseover.autocomplete",t,function(){n.activate(h(this).data("index"))}),e.on("mouseout.autocomplete",function(){n.selectedIndex=-1,e.children("."+s).removeClass(s)}),e.on("click.autocomplete",t,function(){n.select(h(this).data("index")),n.options.onEnter()}),e.on("click.autocomplete",i.emptyHistory,function(){n.clearHisotry(),n.showHideHistory()}),h(document).on("before.search",function(e,t){n.addHistory(t.word)}),n.el.on("keydown.autocomplete",function(e){n.onKeyPress(e)}),n.el.on("keyup.autocomplete",function(e){n.onKeyUp(e)}),n.el.on("blur.autocomplete",function(){n.onBlur()}),n.el.on("focus.autocomplete",function(){n.onFocus()}),n.el.on("change.autocomplete",function(e){n.onKeyUp(e)})},onFocus:function(){var e=this;e.options.minChars<=e.el.val().length&&e.onValueChange()},onBlur:function(){this.enableKillerFn()},setOptions:function(e){var t=this,n=t.options;h.extend(n,e),t.isLocal=h.isArray(n.lookup),t.isLocal&&(n.lookup=t.verifySuggestionsFormat(n.lookup))},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var e=this;e.disabled=!0,e.currentRequest&&e.currentRequest.abort()},enable:function(){this.disabled=!1},enableKillerFn:function(){h(document).on("click.autocomplete",this.killerFn)},disableKillerFn:function(){h(document).off("click.autocomplete",this.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.hide(),e.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var e,t=this.el.val().length,n=this.element.selectionStart;return"number"==typeof n?n===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length)},onKeyPress:function(e){var t=this;if(t.disabled||t.visible||e.which!==r||!t.currentValue)if(!t.disabled&&t.visible){switch(e.which){case n:t.el.val(t.currentValue),t.hide();break;case l:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case i:if(t.hint&&t.options.onHint)return void t.selectHint();case o:if(-1===t.selectedIndex)return t.hide(),void t.options.onEnter();if(t.select(t.selectedIndex),t.options.onEnter(),e.which===i&&!1===t.options.tabDisabled)return;break;case a:t.moveUp();break;case r:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}else e.which==o&&t.options.onEnter();else t.suggest()},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case a:case r:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(t.findBestHint(),0<t.options.deferRequestBy?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var e,t=this,n=t.options,s=t.el.val(),i=t.getQuery(s);t.selection&&(t.selection=null,(n.onInvalidateSelection||h.noop).call(t.element)),clearInterval(t.onChangeInterval),t.currentValue=s,t.selectedIndex=-1,n.triggerSelectOnValidInput&&-1!==(e=t.findSuggestionIndex(i))?t.select(e):(t.showHideHistory(),i.length<n.minChars?t.hide():t.getSuggestions(i))},findSuggestionIndex:function(e){var n=-1,s=e.toLowerCase();return h.each(this.suggestions,function(e,t){if(t.value.toLowerCase()===s)return n=e,!1}),n},getQuery:function(e){var t,n=this.options.delimiter;return n?(t=e.split(n),h.trim(t[t.length-1])):e},getSuggestionsLocal:function(t){var e,n=this.options,s=t.toLowerCase(),i=n.lookupFilter,o=parseInt(n.lookupLimit,10);return e={suggestions:h.grep(n.lookup,function(e){return i(e,t,s)})},o&&e.suggestions.length>o&&(e.suggestions=e.suggestions.slice(0,o)),e},getSuggestions:function(s){var e,t,n,i=this,o=i.options,a=o.serviceUrl;if(o.params[o.paramName]=s,t=o.ignoreParams?null:o.params,i.isLocal?e=i.getSuggestionsLocal(s):(h.isFunction(a)&&(a=a.call(i.element,s)),n=a+"?"+h.param(t||{}),e=i.cachedResponse[n]),e&&h.isArray(e.suggestions))i.suggestions=e.suggestions,i.suggest();else if(!i.isBadQuery(s)){if(!1===o.onSearchStart.call(i.element,o.params))return;i.currentRequest&&i.currentRequest.abort(),i.currentRequest=h.ajax({url:a,data:t,type:o.type,dataType:o.dataType}).done(function(e){var t;i.currentRequest=null,t=o.transformResult(e),i.processResponse(t,s,n),o.onSearchComplete.call(i.element,s,t.suggestions)}).fail(function(e,t,n){o.onSearchError.call(i.element,s,e,t,n)})}},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,n=t.length;n--;)if(0===e.indexOf(t[n]))return!0;return!1},hide:function(){this.visible=!1,this.selectedIndex=-1,this.wrapper.hide(),this.signalHint(null)},getHistory:function(){var e,t=this.options;return e=u.utils.cookie(t.cookieName)||"",e=(e=(e=unescape(e)).replace(/\s/g,""))?e.split(","):[]},clearHisotry:function(){var e=this.options;u.utils.cookie(e.cookieName,"",99999,"/","mgtv.com"),this.history=[]},addHistory:function(e){var t,n,s=[],i=this.options;if(e&&e.replace(/\s/g,"")){for(e=(e=e||"").replace(/,/g,"").slice(0,10),n=this.getHistory(),t=0;t<n.length;t++)n[t]!=e&&s.push(n[t]);6<=s.length&&(s=s.slice(0,5)),s.unshift(e),u.utils.cookie(i.cookieName,s.join(","),99999,"/","mgtv.com")}},showHideHistory:function(){var e=this,t=e.options,n=e.getQuery(e.currentValue);0==e.history.length||n?(e.showHistory=!1,e.container.find(t.whenNoHistory).hide()):(e.showHistory=!0,e.container.find(t.whenNoHistory).show())},suggest:function(){var e,n=this,t=n.options,s=t.formatResult,i=n.getQuery(n.currentValue),o=n.classes.suggestion,a=n.classes.selected,l=n.container,r=t.beforeRender,u="",c="";n.history=n.getHistory(),0!==n.suggestions.length?(n.showHideHistory(),t.triggerSelectOnValidInput&&-1!==(e=n.findSuggestionIndex(i))?n.select(e):(h.each(n.history,function(e,t){c+='<div class="'+o+'" data-index="'+e+'" data-value="'+t+'"><p>'+t+"</p></div>"}),h.each(n.suggestions,function(e,t){1==t.type?u+='<div class="'+o+'" data-index="'+(e+n.history.length)+'" data-value="'+t.value+'"><p>'+(""==i?'<i class="'+(e<3?"istop":"")+'">'+(e+1)+"</i>":"")+s(t,i)+(t.recently?"<span>ÊúÄËøëÊêúËøá</span>":"")+"</p></div>":2==t.type&&(u+='<div class="'+o+' c-header-search-game " data-index="'+(e+n.history.length)+'" data-value="'+t.value+'" data-url="'+t.url+'"><span class="pic"><img src="'+t.img+'" width="100%" height="100%"/></span><p class="txt">'+t.value+"<em>"+t.typeName+'</em></p><p class="btn"><a href="javascript:;">'+t.btnText+"</a></p></div>")}),n.$historyList.html(c),n.$suggestList.html(u),t.autoSelectFirst&&(n.selectedIndex=0,n.$suggestList.children().first().addClass(a)),h.isFunction(r)&&r.call(n.element,l),n.wrapper.show(),n.visible=!0,n.findBestHint())):n.hide()},findBestHint:function(){var s=this.el.val().toLowerCase(),i=null;s&&(h.each(this.suggestions,function(e,t){var n=0===t.value.toLowerCase().indexOf(s);return n&&(i=t),!n}),this.signalHint(i))},signalHint:function(e){var t="",n=this;e&&(t=n.currentValue+e.value.substr(n.currentValue.length)),n.hintValue!==t&&(n.hintValue=t,n.hint=e,(this.options.onHint||h.noop)(t))},verifySuggestionsFormat:function(e){return e.length&&"string"==typeof e[0]?h.map(e,function(e){return{value:e,data:null}}):e},processResponse:function(e,t,n){var s=this,i=s.options;e.suggestions=s.verifySuggestionsFormat(e.suggestions),i.noCache||(s.cachedResponse[n]=e,i.preventBadQueries&&0===e.suggestions.length&&s.badQueries.push(t)),t===s.getQuery(s.currentValue)&&(s.suggestions=e.suggestions,s.suggest())},activate:function(e){var t,n=this,s=n.classes.selected,i="."+n.classes.suggestion,o=n.container.find(i);return o.removeClass(s),n.selectedIndex=e,-1!==n.selectedIndex&&o.length>n.selectedIndex?(t=o.get(n.selectedIndex),h(t).addClass(s),t):null},selectHint:function(){var e=h.inArray(this.hint,this.suggestions);this.select(e)},select:function(e){this.hide(),this.onSelect(e)},moveUp:function(){var e=this,t="."+e.classes.suggestion,n=e.container.find(t);if(-1!==e.selectedIndex)return e.selectedIndex===e.history.length&&!e.showHistory||0===e.selectedIndex&&e.showHistory?(n.removeClass(e.classes.selected),e.selectedIndex=-1,e.el.val(e.currentValue),void e.findBestHint()):void e.adjustScroll(e.selectedIndex-1)},moveDown:function(){var e=this,t="."+e.classes.suggestion,n=e.container.find(t);-1===e.selectedIndex&&0<e.history.length&&!e.showHistory&&(e.selectedIndex=e.history.length-1);e.showHistory&&Math.ceil(e.history.length/2);e.selectedIndex!==n.length-1&&e.adjustScroll(e.selectedIndex+1)},adjustScroll:function(e){var t=this.activate(e);t&&(this.el.val(h(t).data("value")),this.signalHint(null))},onSelect:function(e){var t,n=this,s=n.options.onSelect,i=n.history.length;t=i<=e?{value:n.suggestions[e-i].value,data:e-i,url:n.suggestions[e-i].url}:{value:n.history[e],data:e,isHistory:!0,url:""},n.currentValue=n.getValue(t.value),n.el.val(n.currentValue),n.el.attr("jump-url",t.url),n.signalHint(null),n.suggestions=[],n.selection=t,h.isFunction(s)&&s.call(n.element,t)},getValue:function(e){var t,n,s=this.options.delimiter;return s?1===(n=(t=this.currentValue).split(s)).length?e:t.substr(0,t.length-n[n.length-1].length)+e:e},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),this.disableKillerFn(),h(this.suggestionsContainer).remove()}},h.fn.autocomplete=function(n,s){var i=[],o="autocomplete";return 0===arguments.length?this.first().data(o):(this.each(function(){var e=h(this),t=e.data(o);"string"==typeof n?t&&"function"==typeof t[n]&&t[n](s):(t&&t.dispose&&t.dispose(),t=new u(this,n),i.push(t),e.data(o,t))}),i)}});
;/*plugin/jquery.cookie üëâ*/;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(m){var i=/\+/g;function x(e){return j.raw?e:encodeURIComponent(e)}function g(e,n){var o=j.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(i," ")),j.json?JSON.parse(e):e}catch(n){}}(e);return m.isFunction(n)?n(o):o}var j=m.jcookie=function(e,n,o){if(1<arguments.length&&!m.isFunction(n)){if("number"==typeof(o=m.extend({},j.defaults,o)).expires){var i=o.expires,r=o.expires=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*i)}return document.cookie=[x(e),"=",(t=n,x(j.json?JSON.stringify(t):String(t))),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}for(var t,c,u=e?undefined:{},s=document.cookie?document.cookie.split("; "):[],d=0,a=s.length;d<a;d++){var f=s[d].split("="),p=(c=f.shift(),j.raw?c:decodeURIComponent(c)),l=f.join("=");if(e===p){u=g(l,n);break}e||(l=g(l))===undefined||(u[p]=l)}return u};j.defaults={},m.removeCookie=function(e,n){return m.cookie(e,"",m.extend({},n,{expires:-1})),!m.cookie(e)}});
;/*plugin/jquery.history üëâ*/;window.JSON||(window.JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var a,r,n,o,s,i=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,a=0;a<o;a+=1)s[a]=str(a,u)||"null";return n=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+i+"]":"["+s.join(",")+"]",gap=i,n}if(rep&&"object"==typeof rep)for(o=rep.length,a=0;a<o;a+=1)"string"==typeof(r=rep[a])&&((n=str(r,u))&&s.push(quote(r)+(gap?": ":":")+n));else for(r in u)Object.hasOwnProperty.call(u,r)&&((n=str(r,u))&&s.push(quote(r)+(gap?": ":":")+n));return n=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+i+"}":"{"+s.join(",")+"}",gap=i,n}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var JSON=window.JSON,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,a){var r;if(indent=gap="","number"==typeof a)for(r=0;r<a;r+=1)indent+=" ";else"string"==typeof a&&(indent=a);if(!(rep=t)||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var a,r,n=e[t];if(n&&"object"==typeof n)for(a in n)Object.hasOwnProperty.call(n,a)&&((r=walk(n,a))!==undefined?n[a]=r:delete n[a]);return reviver.call(e,t,n)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"use strict";var a=e.History=e.History||{},r=e.jQuery;if("undefined"!=typeof a.Adapter)throw new Error("History.js Adapter has already been loaded...");a.Adapter={bind:function(e,t,a){r(e).bind(t,a)},trigger:function(e,t,a){r(e).trigger(t,a)},extractEventData:function(e,t,a){return t&&t.originalEvent&&t.originalEvent[e]||a&&a[e]||void 0},onDomLoad:function(e){r(e)}},"undefined"!=typeof a.init&&a.init()}(window),function(l,e){"use strict";var c=l.document,t=l.setTimeout||t,a=l.clearTimeout||a,s=l.setInterval||s,d=l.History=l.History||{};if("undefined"!=typeof d.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");d.initHtml4=function(){if("undefined"!=typeof d.initHtml4.initialized)return!1;d.initHtml4.initialized=!0,d.enabled=!0,d.savedHashes=[],d.isLastHash=function(e){return e===d.getHashByIndex()},d.saveHash=function(e){return!d.isLastHash(e)&&(d.savedHashes.push(e),!0)},d.getHashByIndex=function(e){return void 0===e?d.savedHashes[d.savedHashes.length-1]:e<0?d.savedHashes[d.savedHashes.length+e]:d.savedHashes[e]},d.discardedHashes={},d.discardedStates={},d.discardState=function(e,t,a){var r,n=d.getHashByState(e);return r={discardedState:e,backState:a,forwardState:t},d.discardedStates[n]=r,!0},d.discardHash=function(e,t,a){var r={discardedHash:e,backState:a,forwardState:t};return d.discardedHashes[e]=r,!0},d.discardedState=function(e){var t=d.getHashByState(e);return d.discardedStates[t]||!1},d.discardedHash=function(e){return d.discardedHashes[e]||!1},d.recycleState=function(e){var t=d.getHashByState(e);return d.discardedState(e)&&delete d.discardedStates[t],!0},d.emulated.hashChange&&(d.hashChangeInit=function(){d.checkerFunction=null;var a,r,n,o="";return d.isInternetExplorer()?("historyjs-iframe",(a=c.createElement("iframe")).setAttribute("id","historyjs-iframe"),a.style.display="none",c.body.appendChild(a),a.contentWindow.document.open(),a.contentWindow.document.close(),r="",n=!1,d.checkerFunction=function(){if(n)return!1;n=!0;var e=d.getHash()||"",t=d.unescapeHash(a.contentWindow.document.location.hash)||"";return e!==o?(t!==(o=e)&&(r=t=e,a.contentWindow.document.open(),a.contentWindow.document.close(),a.contentWindow.document.location.hash=d.escapeHash(e)),d.Adapter.trigger(l,"hashchange")):t!==r&&(r=t,d.setHash(t,!1)),!(n=!1)}):d.checkerFunction=function(){var e=d.getHash();return e!==o&&(o=e,d.Adapter.trigger(l,"hashchange")),!0},d.intervalList.push(s(d.checkerFunction,d.options.hashChangeInterval)),!0},d.Adapter.onDomLoad(d.hashChangeInit)),d.emulated.pushState&&(d.onHashChange=function(e){var t,a=e&&e.newURL||c.location.href,r=d.getHashByUrl(a),n=null;return d.isLastHash(r)?(d.busy(!1),!1):(d.doubleCheckComplete(),d.saveHash(r),r&&d.isTraditionalAnchor(r)?(d.Adapter.trigger(l,"anchorchange"),d.busy(!1),!1):(n=d.extractState(d.getFullUrl(r||c.location.href,!1),!0),d.isLastSavedState(n)?(d.busy(!1),!1):(d.getHashByState(n),(t=d.discardedState(n))?(d.getHashByIndex(-2)===d.getHashByState(t.forwardState)?d.back(!1):d.forward(!1),!1):(d.pushState(n.data,n.title,n.url,!1),!0))))},d.Adapter.bind(l,"hashchange",d.onHashChange),d.pushState=function(e,t,a,r){if(d.getHashByUrl(a))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&d.busy())return d.pushQueue({scope:d,callback:d.pushState,args:arguments,queue:r}),!1;d.busy(!0);var n=d.createStateObject(e,t,a),o=d.getHashByState(n),s=d.getState(!1),i=d.getHashByState(s),u=d.getHash();return d.storeState(n),d.expectedStateId=n.id,d.recycleState(n),d.setTitle(n),o===i?(d.busy(!1),!1):o!==u&&o!==d.getShortUrl(c.location.href)?(d.setHash(o,!1),!1):(d.saveState(n),d.Adapter.trigger(l,"statechange"),d.busy(!1),!0)},d.replaceState=function(e,t,a,r){if(d.getHashByUrl(a))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&d.busy())return d.pushQueue({scope:d,callback:d.replaceState,args:arguments,queue:r}),!1;d.busy(!0);var n=d.createStateObject(e,t,a),o=d.getState(!1),s=d.getStateByIndex(-2);return d.discardState(o,n,s),d.pushState(n.data,n.title,n.url,!1),!0}),d.emulated.pushState&&d.getHash()&&!d.emulated.hashChange&&d.Adapter.onDomLoad(function(){d.Adapter.trigger(l,"hashchange")})},"undefined"!=typeof d.init&&d.init()}(window),function(s,a){"use strict";var i=s.console||a,u=s.document,r=s.navigator,n=s.sessionStorage||!1,o=s.setTimeout,l=s.clearTimeout,c=s.setInterval,d=s.clearInterval,p=s.JSON,f=s.alert,h=s.History=s.History||{},g=s.history;if(p.stringify=p.stringify||p.encode,p.parse=p.parse||p.decode,"undefined"!=typeof h.init)throw new Error("History.js Core has already been loaded...");h.init=function(){return"undefined"!=typeof h.Adapter&&("undefined"!=typeof h.initCore&&h.initCore(),"undefined"!=typeof h.initHtml4&&h.initHtml4(),!0)},h.initCore=function(){if("undefined"!=typeof h.initCore.initialized)return!1;if(h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.storeInterval=h.options.storeInterval||1e3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||u.title,h.intervalList=[],h.clearAllIntervals=function(){var e,t=h.intervalList;if(null!=t){for(e=0;e<t.length;e++)d(t[e]);h.intervalList=null}},h.debug=function(){h.options.debug&&h.log.apply(h,arguments)},h.log=function(){var e,t,a,r,n,o=void 0!==i&&"undefined"!=typeof i.log&&"undefined"!=typeof i.log.apply,s=u.getElementById("log");for(o?(e=(r=Array.prototype.slice.call(arguments)).shift(),"undefined"!=typeof i.debug?i.debug.apply(i,[e,r]):i.log.apply(i,[e,r])):e="\n"+arguments[0]+"\n",t=1,a=arguments.length;t<a;++t){if("object"==typeof(n=arguments[t])&&void 0!==p)try{n=p.stringify(n)}catch(d){}e+="\n"+n+"\n"}return s?(s.value+=e+"\n-----\n",s.scrollTop=s.scrollHeight-s.clientHeight):o||f(e),!0},h.getInternetExplorerMajorVersion=function(){return h.getInternetExplorerMajorVersion.cached="undefined"!=typeof h.getInternetExplorerMajorVersion.cached?h.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=u.createElement("div"),a=t.getElementsByTagName("i");(t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e")&&a[0];);return 4<e&&e}()},h.isInternetExplorer=function(){return h.isInternetExplorer.cached="undefined"!=typeof h.isInternetExplorer.cached?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion())},h.emulated={pushState:!Boolean(s.history&&s.history.pushState&&s.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(r.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(r.userAgent)),hashChange:Boolean(!("onhashchange"in s||"onhashchange"in u)||h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8)},h.enabled=!h.emulated.pushState,h.bugs={setHash:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),safariPoll:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<7)},h.isEmptyObject=function(e){for(var t in e)return!1;return!0},h.cloneObject=function(e){var t,a;return e?(t=p.stringify(e),a=p.parse(t)):a={},a},h.getRootUrl=function(){var e=u.location.protocol+"//"+(u.location.hostname||u.location.host);return u.location.port&&(e+=":"+u.location.port),e+="/"},h.getBaseHref=function(){var e=u.getElementsByTagName("base"),t="";return 1===e.length&&(t=e[0].href.replace(/[^\/]+$/,"")),(t=t.replace(/\/+$/,""))&&(t+="/"),t},h.getBaseUrl=function(){return h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl()},h.getPageUrl=function(){return((h.getState(!1,!1)||{}).url||u.location.href).replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,a){return/\./.test(e)?e:e+"/"})},h.getBasePageUrl=function(){return u.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,a){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/"},h.getFullUrl=function(e,t){var a=e,r=e.substring(0,1);return t=void 0===t||t,/[a-z]+\:\/\//.test(e)||(a="/"===r?h.getRootUrl()+e.replace(/^\/+/,""):"#"===r?h.getPageUrl().replace(/#.*/,"")+e:"?"===r?h.getPageUrl().replace(/[\?#].*/,"")+e:t?h.getBaseUrl()+e.replace(/^(\.\/)+/,""):h.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),a.replace(/\#$/,"")},h.getShortUrl=function(e){var t=e,a=h.getBaseUrl(),r=h.getRootUrl();return h.emulated.pushState&&(t=t.replace(a,"")),t=t.replace(r,"/"),h.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||{}},h.getState=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a=h.getLastSavedState();return!a&&t&&(a=h.createStateObject()),e&&((a=h.cloneObject(a)).url=a.cleanUrl||a.url),a},h.getIdByState=function(e){var t,a=h.extractId(e.url);if(!a)if(t=h.getStateString(e),"undefined"!=typeof h.stateToId[t])a=h.stateToId[t];else if("undefined"!=typeof h.store.stateToId[t])a=h.store.stateToId[t];else{for(;a=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof h.idToState[a]||"undefined"!=typeof h.store.idToState[a];);h.stateToId[t]=a,h.idToState[a]=e}return a},h.normalizeState=function(e){var t,a;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),(t={normalized:!0}).title=e.title||"",t.url=h.getFullUrl(h.unescapeString(e.url||u.location.href)),t.hash=h.getShortUrl(t.url),t.data=h.cloneObject(e.data),t.id=h.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,a=!h.isEmptyObject(t.data),(t.title||a)&&(t.hash=h.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=h.getFullUrl(t.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},h.createStateObject=function(e,t,a){var r={data:e,title:t,url:a};return r=h.normalizeState(r)},h.getStateById=function(e){return e=String(e),h.idToState[e]||h.store.idToState[e]||a},h.getStateString=function(e){var t;return t={data:h.normalizeState(e).data,title:e.title,url:e.url},p.stringify(t)},h.getStateId=function(e){return h.normalizeState(e).id},h.getHashByState=function(e){return h.normalizeState(e).hash},h.extractId=function(e){var t;return(t=/(.*)\&_suid=([0-9]+)$/.exec(e))&&t[1]||e,(t?String(t[2]||""):"")||!1},h.isTraditionalAnchor=function(e){return!/[\/\?\.]/.test(e)},h.extractState=function(e,t){var a,r,n=null;return t=t||!1,(a=h.extractId(e))&&(n=h.getStateById(a)),n||(r=h.getFullUrl(e),(a=h.getIdByUrl(r)||!1)&&(n=h.getStateById(a)),!n&&t&&!h.isTraditionalAnchor(e)&&(n=h.createStateObject(null,null,r))),n},h.getIdByUrl=function(e){return h.urlToId[e]||h.store.urlToId[e]||a},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||a},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||a},h.hasUrlDuplicate=function(e){var t;return(t=h.extractState(e.url))&&t.id!==e.id},h.storeState=function(e){return h.urlToId[e.url]=e.id,h.storedStates.push(h.cloneObject(e)),e},h.isLastSavedState=function(e){var t=!1;return h.savedStates.length&&(t=e.id===h.getLastSavedState().id),t},h.saveState=function(e){return!h.isLastSavedState(e)&&(h.savedStates.push(h.cloneObject(e)),!0)},h.getStateByIndex=function(e){return void 0===e?h.savedStates[h.savedStates.length-1]:e<0?h.savedStates[h.savedStates.length+e]:h.savedStates[e]},h.getHash=function(){return h.unescapeHash(u.location.hash)},h.unescapeString=function(e){for(var t,a=e;(t=s.unescape(a))!==a;)a=t;return a},h.unescapeHash=function(e){var t=h.normalizeHash(e);return t=h.unescapeString(t)},h.normalizeHash=function(e){return e.replace(/[^#]*#/,"").replace(/#.*/,"")},h.setHash=function(e,t){var a,r,n;return!1!==t&&h.busy()?(h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:t}),!1):(a=h.escapeHash(e),h.busy(!0),(r=h.extractState(e,!0))&&!h.emulated.pushState?h.pushState(r.data,r.title,r.url,!1):u.location.hash!==a&&(h.bugs.setHash?(n=h.getPageUrl(),h.pushState(null,null,n+"#"+a,!1)):u.location.hash=a),h)},h.escapeHash=function(e){var t=h.normalizeHash(e);return t=s.escape(t),h.bugs.hashEscape||(t=t.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),t},h.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=h.unescapeHash(t)},h.setTitle=function(e){var t,a=e.title;a||(t=h.getStateByIndex(0))&&t.url===e.url&&(a=t.title||h.options.initialTitle);try{u.getElementsByTagName("title")[0].innerHTML=a.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(r){}return u.title=a,h},h.queues=[],h.busy=function(e){if(void 0!==e?h.busy.flag=e:"undefined"==typeof h.busy.flag&&(h.busy.flag=!1),!h.busy.flag){l(h.busy.timeout);var r=function(){var e,t,a;if(!h.busy.flag)for(e=h.queues.length-1;0<=e;--e)0!==(t=h.queues[e]).length&&(a=t.shift(),h.fireQueueItem(a),h.busy.timeout=o(r,h.options.busyDelay))};h.busy.timeout=o(r,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(e){return e.callback.apply(e.scope||h,e.args||[])},h.pushQueue=function(e){return h.queues[e.queue||0]=h.queues[e.queue||0]||[],h.queues[e.queue||0].push(e),h},h.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),void 0!==t&&(e.queue=t),h.busy()?h.pushQueue(e):h.fireQueueItem(e),h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(l(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(e){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=o(function(){return h.doubleCheckClear(),h.stateChanged||e(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=function(){var e=h.extractState(u.location.href);if(!h.isLastSavedState(e))return e||h.createStateObject(),h.Adapter.trigger(s,"popstate"),h},h.back=function(e){return!1!==e&&h.busy()?(h.pushQueue({scope:h,callback:h.back,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),g.go(-1),!0)},h.forward=function(e){return!1!==e&&h.busy()?(h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),g.go(1),!0)},h.go=function(e,t){var a;if(0<e)for(a=1;a<=e;++a)h.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(a=-1;e<=a;--a)h.back(t)}return h},h.emulated.pushState){var e=function(){};h.pushState=h.pushState||e,h.replaceState=h.replaceState||e}else h.onPopState=function(e,t){var a,r,n=!1,o=!1;return h.doubleCheckComplete(),(a=h.getHash())?((r=h.extractState(a||u.location.href,!0))?h.replaceState(r.data,r.title,r.url,!1):(h.Adapter.trigger(s,"anchorchange"),h.busy(!1)),h.expectedStateId=!1):((o=(n=h.Adapter.extractEventData("state",e,t)||!1)?h.getStateById(n):h.expectedStateId?h.getStateById(h.expectedStateId):h.extractState(u.location.href))||(o=h.createStateObject(null,null,u.location.href)),h.expectedStateId=!1,h.isLastSavedState(o)?(h.busy(!1),!1):(h.storeState(o),h.saveState(o),h.setTitle(o),h.Adapter.trigger(s,"statechange"),h.busy(!1),!0))},h.Adapter.bind(s,"popstate",h.onPopState),h.pushState=function(e,t,a,r){if(h.getHashByUrl(a)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:r}),!1;h.busy(!0);var n=h.createStateObject(e,t,a);return h.isLastSavedState(n)?h.busy(!1):(h.storeState(n),h.expectedStateId=n.id,g.pushState(n.id,n.title,n.url),h.Adapter.trigger(s,"popstate")),!0},h.replaceState=function(e,t,a,r){if(h.getHashByUrl(a)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:r}),!1;h.busy(!0);var n=h.createStateObject(e,t,a);return h.isLastSavedState(n)?h.busy(!1):(h.storeState(n),h.expectedStateId=n.id,g.replaceState(n.id,n.title,n.url),h.Adapter.trigger(s,"popstate")),!0};if(n){try{h.store=p.parse(n.getItem("History.store"))||{}}catch(t){h.store={}}h.normalizeStore()}else h.store={},h.normalizeStore();h.Adapter.bind(s,"beforeunload",h.clearAllIntervals),h.Adapter.bind(s,"unload",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(u.location.href,!0))),n&&(h.onUnload=function(){var e,t;try{e=p.parse(n.getItem("History.store"))||{}}catch(i){e={}}for(t in e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{},h.idToState)h.idToState.hasOwnProperty(t)&&(e.idToState[t]=h.idToState[t]);for(t in h.urlToId)h.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=h.urlToId[t]);for(t in h.stateToId)h.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=h.stateToId[t]);h.store=e,h.normalizeStore(),n.setItem("History.store",p.stringify(e))},h.intervalList.push(c(h.onUnload,h.options.storeInterval)),h.Adapter.bind(s,"beforeunload",h.onUnload),h.Adapter.bind(s,"unload",h.onUnload)),h.emulated.pushState||(h.bugs.safariPoll&&h.intervalList.push(c(h.safariStatePoll,h.options.safariPollInterval)),"Apple Computer, Inc."!==r.vendor&&"Mozilla"!==(r.appCodeName||"")||(h.Adapter.bind(s,"hashchange",function(){h.Adapter.trigger(s,"popstate")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(s,"hashchange")})))},h.init()}(window);
;/*plugin/pswencode üëâ*/;honey.def(function(t){function s(i,t,s){this.e=c(i),this.d=c(t),this.m=c(s),this.chunkSize=2*B(this.m),this.radix=16,this.barrett=new O(this.m)}t.encodePassword=function(i){return e(131),time=String(Date.parse(new Date)).substring(0,10),rd=String(Math.random()),nonce=String(rd+time+time+rd).substring(0,32),i=time+nonce+i,function(i,t){var s=new Array,r=t.length,e=0;for(;e<r;)s[e]=t.charCodeAt(e),e++;for(;s.length%i.chunkSize!=0;)s[e++]=0;var g,n,d,u=s.length,o="";for(e=0;e<u;e+=i.chunkSize){for(d=new k,g=0,n=e;n<e+i.chunkSize;++g)d.digits[g]=s[n++],d.digits[g]+=s[n++]<<8;var a=i.barrett.powMod(d,i.e),h=16==i.radix?l(a):f(a,i.radix);o+=h+" "}return o.substring(0,o.length-1)}(new s("10001","","A5245A4630DD7CE9D8A967E33A50EB52C2634FD042C4BFBCF5A5C1317A234FD0D1D2C75D083946AF70CE480C399FAD8EEBE9F5A904F30E4D3C91CDD7C27C4D07E27015D46B29A003E9D49834E19041A7BA45A95E6161697975721E88949E8023DA682895086223683593F054E7AAE0E07C40DB33BD80EE5909CE48D17C07D097"),i)};var r,g,A,o=16,D=o,E=65536,b=E>>>1,M=E*E,C=E-1;function e(i){r=new Array(i);for(var t=0;t<r.length;t++)r[t]=0;g=new k,(A=new k).digits[0]=1}e(20);n(1e15);function k(i){this.digits="boolean"==typeof i&&1==i?null:r.slice(0),this.isNeg=!1}function y(i){var t=new k(!0);return t.digits=i.digits.slice(0),t.isNeg=i.isNeg,t}function n(i){var t=new k;t.isNeg=i<0,i=Math.abs(i);for(var s=0;0<i;)t.digits[s++]=i&C,i=Math.floor(i/E);return t}function d(i){for(var t="",s=i.length-1;-1<s;--s)t+=i.charAt(s);return t}var u=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z");function f(i,t){var s=new k;s.digits[0]=t;for(var r=L(i,s),e=u[r[1].digits[0]];1==K(r[0],g);)r=L(r[0],s),digit=r[1].digits[0],e+=u[r[1].digits[0]];return(i.isNeg?"-":"")+d(e)}var a=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");function h(t){var s="";for(i=0;i<4;++i)s+=a[15&t],t>>>=4;return d(s)}function l(i){for(var t="",s=(B(i),B(i));-1<s;--s)t+=h(i.digits[s]);return t}function N(i){return 48<=i&&i<=57?i-48:65<=i&&i<=90?10+i-65:97<=i&&i<=122?10+i-97:0}function v(i){for(var t=0,s=Math.min(i.length,4),r=0;r<s;++r)t<<=4,t|=N(i.charCodeAt(r));return t}function c(i){for(var t=new k,s=i.length,r=0;0<s;s-=4,++r)t.digits[r]=v(i.substr(Math.max(s-4,0),Math.min(s,4)));return t}function p(i,t){var s;if(i.isNeg!=t.isNeg)t.isNeg=!t.isNeg,s=F(i,t),t.isNeg=!t.isNeg;else{s=new k;for(var r,e=0,g=0;g<i.digits.length;++g)r=i.digits[g]+t.digits[g]+e,s.digits[g]=r%E,e=Number(E<=r);s.isNeg=i.isNeg}return s}function F(i,t){var s;if(i.isNeg!=t.isNeg)t.isNeg=!t.isNeg,s=p(i,t),t.isNeg=!t.isNeg;else{var r,e;s=new k;for(var g=e=0;g<i.digits.length;++g)r=i.digits[g]-t.digits[g]+e,s.digits[g]=r%E,s.digits[g]<0&&(s.digits[g]+=E),e=0-Number(r<0);if(-1==e){for(g=e=0;g<i.digits.length;++g)r=0-s.digits[g]+e,s.digits[g]=r%E,s.digits[g]<0&&(s.digits[g]+=E),e=0-Number(r<0);s.isNeg=!i.isNeg}else s.isNeg=i.isNeg}return s}function B(i){for(var t=i.digits.length-1;0<t&&0==i.digits[t];)--t;return t}function S(i){var t,s=B(i),r=i.digits[s],e=(s+1)*D;for(t=e;e-D<t&&0==(32768&r);--t)r<<=1;return t}function w(i,t){for(var s,r,e,g=new k,n=B(i),d=B(t),u=0;u<=d;++u){for(s=0,e=u,j=0;j<=n;++j,++e)r=g.digits[e]+i.digits[j]*t.digits[u]+s,g.digits[e]=r&C,s=r>>>o;g.digits[u+n+1]=s}return g.isNeg=i.isNeg!=t.isNeg,g}function x(i,t){var s,r,e;result=new k,s=B(i);for(var g=r=0;g<=s;++g)e=result.digits[g]+i.digits[g]*t+r,result.digits[g]=e&C,r=e>>>o;return result.digits[1+s]=r,result}function m(i,t,s,r,e){for(var g=Math.min(t+e,i.length),n=t,d=r;n<g;++n,++d)s[d]=i[n]}var z=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535);function q(i,t){var s=Math.floor(t/D),r=new k;m(i.digits,0,r.digits,s,r.digits.length-s);for(var e=t%D,g=D-e,n=r.digits.length-1,d=n-1;0<n;--n,--d)r.digits[n]=r.digits[n]<<e&C|(r.digits[d]&z[e])>>>g;return r.digits[0]=r.digits[n]<<e&C,r.isNeg=i.isNeg,r}var P=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);function G(i,t){var s=Math.floor(t/D),r=new k;m(i.digits,s,r.digits,0,i.digits.length-s);for(var e=t%D,g=D-e,n=0,d=n+1;n<r.digits.length-1;++n,++d)r.digits[n]=r.digits[n]>>>e|(r.digits[d]&P[e])<<g;return r.digits[r.digits.length-1]>>>=e,r.isNeg=i.isNeg,r}function H(i,t){var s=new k;return m(i.digits,0,s.digits,t,s.digits.length-t),s}function I(i,t){var s=new k;return m(i.digits,t,s.digits,0,s.digits.length-t),s}function J(i,t){var s=new k;return m(i.digits,0,s.digits,0,t),s}function K(i,t){if(i.isNeg!=t.isNeg)return 1-2*Number(i.isNeg);for(var s=i.digits.length-1;0<=s;--s)if(i.digits[s]!=t.digits[s])return i.isNeg?1-2*Number(i.digits[s]>t.digits[s]):1-2*Number(i.digits[s]<t.digits[s]);return 0}function L(i,t){var s,r,e=S(i),g=S(t),n=t.isNeg;if(e<g)return i.isNeg?((s=y(A)).isNeg=!t.isNeg,i.isNeg=!1,t.isNeg=!1,r=F(t,i),i.isNeg=!0,t.isNeg=n):(s=new k,r=y(i)),new Array(s,r);s=new k,r=i;for(var d=Math.ceil(g/D)-1,u=0;t.digits[d]<b;)t=q(t,1),++u,++g,d=Math.ceil(g/D)-1;r=q(r,u),e+=u;for(var o=Math.ceil(e/D)-1,a=H(t,o-d);-1!=K(r,a);)++s.digits[o-d],r=F(r,a);for(var h=o;d<h;--h){var f=h>=r.digits.length?0:r.digits[h],l=h-1>=r.digits.length?0:r.digits[h-1],N=h-2>=r.digits.length?0:r.digits[h-2],v=d>=t.digits.length?0:t.digits[d],c=d-1>=t.digits.length?0:t.digits[d-1];s.digits[h-d-1]=f==v?C:Math.floor((f*E+l)/v);for(var w=s.digits[h-d-1]*(v*E+c),m=f*M+(l*E+N);m<w;)--s.digits[h-d-1],w=s.digits[h-d-1]*(v*E|c),m=f*E*E+(l*E+N);(r=F(r,x(a=H(t,h-d-1),s.digits[h-d-1]))).isNeg&&(r=p(r,a),--s.digits[h-d-1])}return r=G(r,u),s.isNeg=i.isNeg!=n,i.isNeg&&(s=n?p(s,A):F(s,A),r=F(t=G(t,u),r)),0==r.digits[0]&&0==B(r)&&(r.isNeg=!1),new Array(s,r)}function O(i){this.modulus=y(i),this.k=B(this.modulus)+1;var t,s,r=new k;r.digits[2*this.k]=1,this.mu=(t=r,s=this.modulus,L(t,s)[0]),this.bkplus1=new k,this.bkplus1.digits[this.k+1]=1,this.modulo=Q,this.multiplyMod=R,this.powMod=T}function Q(i){var t=I(w(I(i,this.k-1),this.mu),this.k+1),s=F(J(i,this.k+1),J(w(t,this.modulus),this.k+1));s.isNeg&&(s=p(s,this.bkplus1));for(var r=0<=K(s,this.modulus);r;)r=0<=K(s=F(s,this.modulus),this.modulus);return s}function R(i,t){var s=w(i,t);return this.modulo(s)}function T(i,t){var s=new k;s.digits[0]=1;for(var r=i,e=t;0!=(1&e.digits[0])&&(s=this.multiplyMod(s,r)),0!=(e=G(e,1)).digits[0]||0!=B(e);)r=this.multiplyMod(r,r);return s}});
;/*mod/messenger üëâ*/;window.Messenger=function(){var i="[PROJECT_NAME]",n="postMessage"in window;function r(t,n){var e="";if(arguments.length<2?e="target error - target and name are both required":"object"!=typeof t?e="target error - target itself must be window object":"string"!=typeof n&&(e="target error - target name must be string type"),e)throw new Error(e);this.target=t,this.name=n}function t(t,n){this.targets={},this.name=t,this.listenFunc=[],"string"!=typeof(i=n||i)&&(i=i.toString()),this.initListen()}return r.prototype.send=n?function(t){this.target.postMessage(i+t,"*")}:function(t){var n=window.navigator[i+this.name];if("function"!=typeof n)throw new Error("target callback function is not defined");n(i+t,window)},t.prototype.addTarget=function(t,n){var e=new r(t,n);this.targets[n]=e},t.prototype.initListen=function(){var e=this,t=function(t){"object"==typeof t&&t.data&&(t=t.data),t=t.slice(i.length);for(var n=0;n<e.listenFunc.length;n++)e.listenFunc[n](t)};n?"addEventListener"in document?window.addEventListener("message",t,!1):"attachEvent"in document&&window.attachEvent("onmessage",t):window.navigator[i+this.name]=t},t.prototype.listen=function(t){this.listenFunc.push(t)},t.prototype.clear=function(){this.listenFunc=[]},t.prototype.send=function(t){var n,e=this.targets;for(n in e)e.hasOwnProperty(n)&&e[n].send(t)},t}();
;/*plugin/new.placeholder üëâ*/;!function(r,t,e){var a="placeholder"in t.createElement("input"),l="placeholder"in t.createElement("textarea"),n=":input[placeholder]";function o(){r(this).find(n).each(d)}function d(){var e,a=r(this);a.is(":password")||(a.data("password")?(e=a.next().show().focus(),r("label[for="+a.attr("id")+"]").attr("for",e.attr("id")),a.remove()):a.realVal()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder")))}function i(){var e,a,t=r(this);placeholder=t.attr("placeholder"),0<r.trim(t.val()).length||(t.is(":password")?(a=t.attr("id")+"-clone",e=r("<input/>").attr(r.extend(function(e){for(var a=e.attributes,t={},r=/^jQuery\d+/,l=0;l<a.length;l++)a[l].specified&&!r.test(a[l].name)&&(t[a[l].name]=a[l].value);return t}(this),{type:"text",value:placeholder,"data-password":1,id:a})).addClass("placeholder"),t.before(e).hide(),r("label[for="+t.attr("id")+"]").attr("for",a)):(t.val(placeholder),t.addClass("placeholder")))}r.placeholder={input:a,textarea:l},!e&&a&&l?r.fn.placeholder=function(){}:(e||!a||l||(n="textarea[placeholder]"),r.fn.realVal=r.fn.val,r.fn.val=function(){var e,a=r(this);return 0<arguments.length?a.realVal.apply(this,arguments):(e=a.realVal())==a.attr("placeholder")?"":e},r.fn.placeholder=function(){return this.filter(n).each(i),this},r(function(e){var a=e(t);a.on("submit","form",o),a.on("focus",n,d),a.on("blur",n,i),e(n).placeholder()}))}(jQuery,document,window.debug);
;/*mod/dialog üëâ*/;HN.dialog=function(t){var i=this,e=i.settings=$.extend({id:"honey-dialog",width:"auto",height:"auto",position:"center",fixed:!0,opacity:0,needBG:!0,disableBgClick:!1,close:!1,html:!1,appendTo:"body",content:"",zindex:999},t);i.init=function(){i.box=$("#"+i.settings.id).length?$("#"+i.settings.id):function(){var t=e.html||['<div class="dialog mod-dialog" id="'+e.id+'">','<div class="black pa"></div>','<div class="honey-dialog-conBox dialog-wrap">',"</div>","</div>"].join(""),i=[];0==$("#honey-dialog-bgframe").length&&(i=['<iframe id="honey-dialog-bgframe-'+e.id+'" framebroder=0 />','<div id="honey-dialog-overlay-'+e.id+'"></div>'].join(""));return $(e.appendTo).append(t),e.needBG&&$("body").append(i),$("#"+e.id)}(),i.conBox=i.box.find(".honey-dialog-conBox"),i.bg=$("#honey-dialog-overlay-"+i.settings.id),i.bgiframe=$("#honey-dialog-bgframe-"+i.settings.id),i.ie6=HN.ie<7,i.inited=!0,i.reInit=!1,i.setContent(e.content),i.box.on("click",".honey-dialog-close",function(){return i.close(),!1})}},HN.dialog.prototype={open:function(){var t=this;t.inited?(t.box.show(),t.setPosition(t.settings.width,t.settings.height),t.settings.needBG&&(t.bg.show(),t.bgiframe.show())):t.init()},find:function(t){return this.conBox.find(t)},setSize:function(t,i){var e=this,o=e.box,n=(e.conBox,i),s=t;o.css({width:+s,height:+n}),o.find(".w-top-m, .w-main-m, .w-buttom-m").width(s-24),o.find(".w-main-l, .w-main-m, .w-main-r").height(n-24),e.setPosition(s,n)},showLoading:function(){var t=$("<img />",{src:this.loadingimage,height:55,width:55,style:"margin-left: 5px"});this.setContent(t,[85,85])},setContent:function(t,i){var e=this,o=i?i[0]:e.settings.width,n=i?i[1]:e.settings.height;"function"==typeof t?(e.showLoading(),t(e)):(e.conBox.html(t),e.setSize(o,n))},setPosition:function(t,i){var e=this,o=e.settings.position,n=$(window),s=!e.ie6&&e.settings.fixed,d=n.width(),a=n.height(),l=n.scrollTop(),g={position:s?"fixed":"absolute",zIndex:e.settings.zindex},c=!1;if(i="auto"==i?+e.conBox.height()+10+24:i,t="auto"==t?+e.conBox.width()+10+24:t,"center"==o)g.left=(d-t)/2,g.top=(a-i)/3,!s&&(g.top+=l);else if("rightTop"==o)g.right=10,g.top=10,!s&&(g.top+=l);else if("rightBottom"==o)g.bottom=10,g.right=10,!s&&(g.top+=l);else{if("object"!=typeof o)return;if(4==o.length)g.top=o[0],g.right=o[1],g.bottom=o[2],g.left=o[3];else{var h=$(o),r=h.position(),f=h.height();g.left=r.left,g.top=r.top+f+5,g.position="absolute",e.settings.fixed=s=!1}}"auto"===g.top&&(g.top=a-g.bottom-i),e.box.css(g),e.settings.needBG&&e.setIframe(d,a,l),e.ie6&&e.settings.fixed&&!e.box.scrollbinded&&n.scroll(function(){c=!0,e.box.scrollbinded=!0}),setInterval(function(){c&&(e.resetPos.call(e,n,g.top-l),c=!1)},250),!e.box.resizebinded&&n.resize(function(){e.box.resizebinded=!0,e.setPosition.call(e,e.box.width(),e.box.height())})},resetPos:function(t,i){var e=i,o=t.scrollTop();this.box.stop().animate({top:+(e+o)},500)},setIframe:function(t,i,e){var o=this,n=window.document,s=Math.max(i,"CSS1Compat"===n.compatMode?n.documentElement.scrollHeight:n.body.scrollHeight),d={position:o.ie6?"absolute":"fixed",left:0,top:0,height:s,width:t,zIndex:o.settings.zindex-1,opacity:o.settings.opacity,backgroundColor:"#000"};o.bg.css(d),o.bgiframe.css(d),o.settings.disableBgClick||o.bg.unbind("click").click(function(){o.close.call(o)})},close:function(){var t=this;t.reInit?t.destroy():(t.box.hide(),t.settings.needBG&&(t.bg.hide(),t.bgiframe.hide()),t.settings.close&&t.settings.close.call(t,t))},setCloseCallBack:function(t){this.settings.close=t},destroy:function(){var t=this;t.box.remove(),t.settings.needBG&&(t.bg.remove(),t.bgiframe.remove()),t.inited=!1}};
;/*widget/login.tv üëâ*/;honey.def("mod:dialog, plugin:encodePassword",function(d){"use strict";d.css("//css.mgtv.com/imgotv-member/page/member/member-dialog.css?version=20190415");var m,a=$(document),p=$(document),i="//i.mgtv.com",u=i+"/vcode?from=pcclient&time=",h=$("img[node-type=mini-yzm-src]"),n=i+"/my/userinfo?callback=?",f=null,g=$(".yzm-mod"),v=/(^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$)|(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/,w={},y={},b="login",c="fail",k=!1,x=['<div class="m-dialog-login" id="honey-mini-login-dialog" mg-stat-mod="c_login">','<div class="m-content honey-dialog-conBox">',"</div>","</div>"].join(""),S=null,l="",C={100:4,200:5,300:3},O=['<div node-type="honey-mini-dialog-box">','        <a href="#" class="close honey-dialog-destroy"><em>ÂÖ≥Èó≠</em></a>','        <ul class="tab" node-type="tab-nav">','            <li class="current" mg-stat-click="" action-type="honey-mini-login-tabs" node-type="honey-mini-login-account-tabs" type="login">Ë¥¶Âè∑ÁôªÂΩï</li>','            <li class="current" mg-stat-click="" type="register" node-type="honey-mini-register-btn-tabs" style="display:none;">Ê≥®ÂÜå</li>','            <li type="loginmes" mg-stat-click="" node-type="honey-mini-login-mes-btn" action-type="honey-mini-login-tabs">Áü≠‰ø°ÁôªÂΩï</li>',"        </ul>",'        <div class="m-form-login info-box honey-mini-dialog" id="honey-mini-box-login" node-type="honey-mini-box-login">','            <p class="row msg-validate" id="honey-mini-login-error" style="display:none;"></p>','            <p class="row-title">Ë¥¶Âè∑</p>','            <p class="row"><input type="text" class="text mini-login-name" id="honey-mini-login-auto" placeholder="ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†ÅÊàñÈÇÆÁÆ±">','                   <span class="rowlayer-list" node-type="honey-mini-login-auto" style="display:none"></span>','                   <a class="m-saoma-icon"></a>',"               </p>",'            <p class="row-title">ÂØÜÁ†Å</p>','            <p class="row">','               <input type="password" maxlength="20" class="text password login-dialog-password" placeholder="ËØ∑ËæìÂÖ•ÂØÜÁ†Å">',"            </p>",'            <div class="yzm-mod" style="display:none;">','            <p class="row-title">È™åËØÅÁ†Å</p> ','            <p class="row">','                <input type="text" name="" class="text verifcode mini-login-yzm" placeholder="È™åËØÅÁ†Å">','                <span class="verif" mg-stat-click="">','                    <img class="verifimg-img" action-type="login-accout-yzm" node-type="mini-yzm-src" src="'+i+'/vcode" action-type="mini-yzm-refresh" alt="È™åËØÅÁ†Å">','                    <i class="verifimg-refresh" action-type="mini-yzm-refresh">Âà∑Êñ∞</i>',"                </span>","            </p>","            </div>",'            <p class="row-title"></p>','            <p class="row top2">','                <input type="checkbox" checked="checked" class="choose" node-type="honey-mini-login-auto">','                <label for="remember" class="label remember">ËÆ∞‰ΩèÊàë</label>','                <a class="note a-register" href="javascript:void(0)" type="register" node-type="honey-mini-register-btn" action-type="honey-mini-login-tabs">Ê≥®ÂÜå</a>','                <a class="note losepwd" target="_blank" href="'+i+'/account/backpwd">ÂøòËÆ∞ÂØÜÁ†ÅÔºü</a>',"            </p>",'            <p class="row"><a href="javascript:void(0)" class="btn btn-login" id="honey-mini-login-submit">Áôª ÂΩï</a></p>',"        </div>",'       <div class="m-form-login info-box honey-mini-dialog" id="honey-mini-box-login-message" node-type="honey-mini-box-loginmes" style="display:none;">','           <div class="m-zhanghao-login">','               <p class="row msg-validate" id="honey-mini-mes-error" node-type="error-title"></p>','               <p class="row-title">Ë¥¶Âè∑</p>','               <div class="row a-phone">','                   <a class="m-saoma-icon"></a>','                   <span class="area" node-type="honey-mini-area" id="honey-mini-area-btns">','                       <b node-type="honey-mini-area-county" id="honey-mini-area-btns2"  style="border-right:1px solid #ddd;">+86</b>','                       <i id="honey-mini-area-btns3" style="display:none;"></i>',"                   </span>",'                   <ul class="area-ul" node-type="honey-mini-area-list">',"                       <li>","                           <span>‰∏≠ÂõΩ</span>","                           <b>+86</b>","                       </li>","                   </ul>",'                   <input type="text" name="" maxlength="20" class="text" node-type="honey-mini-mes-phone" placeholder="ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑">',"               </div>",'               <div class="yzm-mod">','                   <p class="row-title">È™åËØÅÁ†Å</p>','                   <p class="row">','                     <input type="text" name="" class="text verifcode" node-type="meslogin-code" placeholder="ËØ∑ËæìÂÖ•È™åËØÅÁ†Å">','                    <span class="verif">','                         <img class="verifimg-img" id="login-yzm_img" src="" action-type="meslogin-img" alt="">','                         <i class="verifimg-refresh" action-type="meslogin-refresh">Âà∑Êñ∞</i>',"                    </span>","                   </p>","               </div>",'               <p class="yzm-mod">','                   </p><p class="row-title">Ê†°È™åÁ†Å</p>','                   <p class="row">','                       <input type="text" name="" class="text verifcode" node-type="honey-mini-mes-code" placeholder="ËØ∑ËæìÂÖ•Ê†°È™åÁ†Å">','                       <span class="verif">','                           <a href="javascript:void(0)" class="verif-a" action-type="message-verify-code" node-type="honey-mini-mes-getcode">Ëé∑ÂèñÊ†°È™åÁ†Å</a>',"                       </span>","                   </p>","               <p></p>",'               <p class="row-title"></p>','               <p class="row">','                   <a href="javascript:void(0)" class="btn btn-login" id="honey-mini-mes-login-submit" action-type="message_login">Áôª ÂΩï</a>',"               </p>","           </div>","       </div>",'        <div class="m-content" node-type="honey-mini-dialog-saoma" id="honey-mini-box-saoma" style="display:none;">','           <div class="m-form-saoma" node-type="register">','               <p class="m-form-image">','                   <img class="m-erweima-image" src="//www.mgtv.com/image/global/saoma_default.gif"/>','                   <span class="m-erweima-tips"><b>180</b> ÁßíÂêé‰∏∫‰Ω†Êõ¥Êñ∞‰∫åÁª¥Á†Å</span>','                   <span class="m-erweima-failed">Êâ´Á†ÅÂ§±Ë¥•ÔºåËØ∑<b class="m-erweima-again"> ÈáçËØï</b></span>','                   <span class="m-repeat-image-bg"></span>','                   <span class="m-repeat-image-intro">‰∫åÁª¥Á†ÅÂ§±Êïà<br>ËØ∑ÁÇπÂáªÂà∑Êñ∞</span>','                   <span class="m-repeat-image-success">Êâ´Á†ÅÊàêÂäü<br>ËØ∑Âú®ÊâãÊú∫‰∏äÁ°ÆÂÆö</span>',"               </p>",'               <p class="m-form-intro"></p>',"           </div>",'           <a class="m-back-login">ËøîÂõûË¥¶Âè∑ÁôªÂΩï</a>',"        </div>",'        <div class="m-form-register info-box honey-mini-dialog" id="honey-mini-box-register" node-type="honey-mini-box-register" style="display:none;">','            <p class="row msg-validate" id="honey-mini-register-error" style="display:none">ÈîôËØØÊèêÁ§∫</p>','            <p class="row msg-validate ok-ts" style="display:none;">Ê†°È™åÁ†ÅÂèëÈÄÅÊàêÂäü</p>','            <p class="row-title" node-type="mini-register-type">ÊâãÊú∫</p>','            <p class="row"><input type="text" name="" class="text register-name username-reg" node-type="honey-mini-reg-name" placeholder="ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å">','                <span class="rowlayer-btn" type="phone" action-type="honey-mini-reg-email" style="display:none">ÈÇÆÁÆ±Ê≥®ÂÜå</span>','                <span class="rowlayer-list" node-type="honey-mini-reg-auto" style="display:none"></span>',"            </p>",'            <p class="row-title" node-type="honey-mini-reg-pas">ÂØÜÁ†Å</p>','            <p class="row" node-type="honey-mini-reg-pas"><input type="password" maxlength="20" name="" class="text register-password" node-type="honey-mini-reg-safe" placeholder="ËØ∑ËæìÂÖ•6~20‰ΩçÂØÜÁ†Å"></p>','            <p class="row-password-line" id="honey-mini-pass-safe" node-type="honey-mini-reg-pas" style="display:none">','                <span class="row-txt step">Âº∫Â∫¶</span>','                <em class="row-line" node-type="honey-mini-line"></em><em class="row-line" node-type="honey-mini-line"></em><em class="row-line" node-type="honey-mini-line"></em>',"            </p>",'            <p class="row-title" node-type="honey-mini-email-yzm">È™åËØÅÁ†Å</p> ','            <p class="row" node-type="honey-mini-email-yzm">','                <input type="text" name="" class="text verifcode honey-mini-register-yzm" placeholder="È™åËØÅÁ†Å">','                <span class="verif">','                    <img class="verifimg-img" action-type="register-account-yzm" node-type="mini-yzm-src" src="" action-type="mini-yzm-refresh" alt="È™åËØÅÁ†Å">','                    <i class="verifimg-refresh" action-type="mini-yzm-refresh">Âà∑Êñ∞</i>',"                </span>","            </p>",'            <p class="row-title" node-type="honey-mini-phone-regcode">Ê†°È™åÁ†Å</p>','            <p class="row" node-type="honey-mini-phone-regcode"><input type="text" name="" class="text phone-yzm username-reg" placeholder="ËØ∑ËæìÂÖ•Ê†°È™åÁ†Å">','                <span class="rowlayer-btn zcm" action-type="honey-mini-get-pollcode">Ëé∑ÂèñÊ†°È™åÁ†Å</span>',"            </p>",'            <p class="row-title"></p>','            <p class="row row-license">','                <input type="checkbox" name="" class="choose" id="honey-mini-license" checked="checked">','                <label for="license" class="label license">ÊàëÂ∑≤ÈòÖËØª<a href="//i.mgtv.com/account/protocol" target="_blank">ËäíÊûútvÁî®Êà∑ÂçèËÆÆ</a>Âèä<a href="//i.mgtv.com/account/protocol" target="_blank">ÁâàÊùÉÂ£∞Êòé</a></label>',"            </p>",'            <p class="row"><a href="javascript:void(0)" class="btn btn-register" id="honey-mini-register">Ê≥® ÂÜå</a></p>','            <a href="javascript:void(0)" action-type="honey-mini-login-tabs" type="login" class="m-backto-login">ËøîÂõûË¥¶Âè∑ÁôªÂΩï</a>',"        </div>",'        <div id="honey-mini-box-email" node-type="honey-mini-box-email" class="m-form-register info-box honey-mini-dialog" style="display:none">','               <p class="row-sendemail">','                   <span class="row-sendemail-title" >ËøòÂ∑Æ‰∏ÄÊ≠•Âç≥ÂèØÂÆåÊàêÊ≥®ÂÜå</span>','                   <span class="row-sendemail-info">Êàë‰ª¨Â∑≤ÁªèÂêëÊÇ®ÁöÑÈÇÆÁÆ± <em node-type="honey-mini-email-name"></em> <a href="#" action-type="honey-mini-reset-email">[Êõ¥ÊîπÊ≥®ÂÜåÈÇÆÁÆ±]</a>ÂèëÈÄÅ‰∫Ü‰∏ÄÂ∞ÅÊøÄÊ¥ªÈÇÆ‰ª∂ÔºåËØ∑ÁÇπÂáªÈÇÆ‰ª∂‰∏≠ÁöÑÈìæÊé•ÂÆåÊàêÊ≥®ÂÜåÔºÅ</span>','                   <span class="row-sendemail-change">','                       <em class="ico-re" action-type="honey-mini-reset-send">ÈáçÊñ∞ÂèëÈÄÅ</em>',"                   </span>","               </p>",'               <p class="row row-email"><a href="javascript:;" target="_blank" class="btn btn-register" node-type="honey-mini-reg-gotoEmail">Á´ãÂç≥ËøõÂÖ•ÈÇÆÁÆ±</a></p>','               <p class="row-sendemail-ts">Â¶ÇÊûúÊó†Ê≥ïË∑≥ËΩ¨ÔºåËØ∑ÊâãÂä®ÊâìÂºÄÈÇÆÁÆ±</p>',"        </div>",'        <div class="c-union-login c-union-login-simple">','            <ul node-type="honey-mini-third">','                <li><a href="#" class="qq" type="100"><i></i><span>QQ</span></a></li>','                <li><a href="#" class="wx" type="300"><i></i><span>ÂæÆ‰ø°</span></a></li>','                <li class="last"><a href="#" class="wb" type="200"><i></i><span>Êñ∞Êµ™</span></a></li>',"            </ul>","        </div>","</div>",'<div class="m-content" node-type="honey-mini-dialog-suc" style="display:none;">','   <a href="#" class="close honey-dialog-close"><em>ÂÖ≥Èó≠</em></a>','   <p class="close-tx"><em node-type="honey-mini-suc-time">3s</em> ÂêéËá™Âä®ÂÖ≥Èó≠</p>','   <div class="m-form-register m-form-register-ok" node-type="register">','       <p class="register-ok">','           <span class="register-ok-title">ÊÅ≠ÂñúÊÇ®Ê≥®ÂÜåÊàêÂäüÔºÅ</span>','           <span class="register-ok-info">ÊòµÁß∞Ôºö<em node-type="honey-mini-suc-name"></em></span>',"       </p>",'       <p class="row row-email"><a href="#" class="btn btn-register btn-110 honey-dialog-close">ÂÖ≥ Èó≠</a></p>',"    </div>","</div>"].join(""),s=['<div class="login-check-dialog login-check-dialog-first">','<div class="m-content">','<div class="m-merr">','<a href="#" class="merr-close honey-dialog-destroy">ÂÖ≥Èó≠</a>','<p class="merr-head"><span>ÁôªÂΩïÊèêÈÜí</span></p>','<div class="merr-con">','<p class="merr-p1 merr-tips">ÊÇ®ÁöÑË¥¶Âè∑ÁôªÂΩïÁöÑËÆæÂ§áÂ∑≤Ë∂ÖËøá‰∏äÈôêÔºåËØ∑<span class="title"></span>ÊâãÊú∫ÂêéÂÜçÁôªÂΩï</p>','<p class="merr-p">','<a href="javascript:void(0)" class="merr-btn cancel honey-dialog-destroy">ÂèñÊ∂àÁôªÂΩï</a>','<a href="javascript:void(0)" class="merr-btn" id="login-check-first-btn"><span class="title"></span>ÊâãÊú∫</a>',"</p>","</div>","</div>","</div>","</div>",'<div class="login-check-dialog login-check-dialog-two " style="display:none;">','<div class="m-content">','<div class="m-merr">','<a href="javascript:void(0)" class="merr-close honey-dialog-destroy">ÂÖ≥Èó≠</a>','<p class="merr-head"><span><span class="title"></span>ÊâãÊú∫</span></p>','<div class="merr-con pt30">','<p class="merr-p">','<span class="merr-ts ok-ts">ÊâãÊú∫Âè∑Á†Å‰∏çËÉΩ‰∏∫Á©∫</span>','<span class="row-til">ÊâãÊú∫</span>','<span class="row"><input id="phone-name" name="" class="text user-phone" placeholder="ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å" type="text"></span>',"</p>",'<p class="merr-p">','<span class="row-til">Ê†°È™åÁ†Å</span>','<span class="row row-1"><input id="yzm-name" name="" class="text phone-check-yzm" placeholder="ËØ∑ËæìÂÖ•Ê†°È™åÁ†Å" type="text"></span>','<a href="javascript:void(0)" class="merr-btn yzm-btn login-check-yzm-btn">Ëé∑ÂèñÊ†°È™åÁ†Å</a>',"</p>",'<p class="merr-p">','<span class="row-til"></span>','<a href="javascript:void(0)" class="merr-btn yzphone login-check-submit"><span class="title"></span>ÊâãÊú∫</a>',"</p>","</div>","</div>","</div>","</div>",'<div class="login-check-dialog login-check-dialog-three " style="display:none;">','<div class="m-content">','<div class="m-merr">','<a href="javascript:void(0)" class="merr-close honey-dialog-destroy">ÂÖ≥Èó≠</a>','<p class="merr-head"><span><span class="title"></span>ÊâãÊú∫</span></p>','<div class="merr-con">','<p class="merr-p1 okts">ÊâãÊú∫<span class="title"></span>ÊàêÂäü<em><i class="login-check-dialog-three-clock">3<i>S ÂêéÂÖ≥Èó≠</em></p>',"</div>","</div>","</div>","</div>"].join(""),I={"qq.com":"http://mail.qq.com","gmail.com":"http://mail.google.com","sina.com":"http://mail.sina.com.cn","sina.cn":"http://mail.sina.com.cn","163.com":"http://mail.163.com","126.com":"http://mail.126.com","sohu.com":"http://mail.sohu.com","sogou.com":"http://mail.sogou.com","139.com":"http://mail.10086.cn","189.com":"http://webmail16.189.cn/webmail","foxmail.com":"http://www.foxmail.com"},E=function(e){var i=/http:\/\/([^\/]+)/i;var o,n,t=e.replace(i,""),a={"www.mgtv.com":0,"so.mgtv.com":9,"list.mgtv.com":8,"live.mgtv.com":7,"i.mgtv.com":12}[(o=e,n=o.match(i),null!=n&&0<n.length?n[1]:"")],s="";if(s=0<t.indexOf("?")?t.substring(0,t.indexOf("?")):0<t.indexOf("#")?t.substring(0,t.indexOf("#")):t,0==a){var r=13;return $.map({"^/$":0,"^/show/$":1,"^/movie/$":3,"^/tv/$":2,"^/cartoon/$":4,"^/child/$":5,"^/music/$":6,"^/live/$":7,"^/v/\\d{1,3}/\\d+/$":10,"^/v/\\d{1,3}/\\d+/[a-z]/\\d+\\.html$":11},function(e,i){var o=!1,n=new RegExp(i);try{o=n.test(s)}catch(t){}o&&(r=e)}),r}return a||13};function T(e){var i=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),o=document.cookie.match(i);return o?o[1]:""}var e,o,N=function(e){e=e||"yyyyMMddhhmmss";var i=new Date,o={"M+":i.getMonth()+1,"d+":i.getDate(),"h+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(i.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return e},U=(e=/[xy]/g,o=function(e){var i=16*Math.random()|0;return("x"==e?i:3&i|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,o).toUpperCase()}),z=function(e,i){var o,n;$(e);o=$("span[node-type=honey-mini-"+i+"-auto]");var t=['<a href="#" hz=""></a>','<a href="#" hz="@qq.com"></a>','<a href="#" hz="@163.com"></a>','<a href="#" hz="@126.com"></a>','<a href="#" hz="@sina.com"></a>','<a href="#" hz="@sohu.com"></a>','<a href="#" hz="@gmail.com"></a>'].join("");o.html(t),(n=o.find("a")).mousedown(function(){n.removeClass("hover"),$(this).addClass("hover"),$(e).val($(this).text()),o.hide()}),a.on("keyup",e,function(e){if(""==$(this).val()&&(o.hide(),n.html("")),/13|38|40|116/.test(e.keyCode)||""==$(this).val())return!1;var i=$(this).val();n.each(function(){this.innerHTML=(i.replace(/\@+.*/,"@")+$(this).attr("hz")).replace(/\@+/,"@"),0<=this.innerHTML.indexOf(i)?$(this).show():$(this).hide()}).filter(".hover").removeClass("hover"),o.show(),0==n.filter(":visible").length?o.hide():n.filter(":visible").eq(0).addClass("hover")}).keydown(function(e){38==e.keyCode?n.filter(".hover").prev().addClass("hover").next().removeClass("hover"):40==e.keyCode?n.filter(".hover").next().addClass("hover").prev().removeClass("hover"):13==e.keyCode&&(n.filter(".hover").mousedown(),e.preventDefault())}),a.on("blur",e,function(e){o.hide()})},R=function(e){var i="";for(var o in e)""!=i&&(i+="&"),i+=o+"="+encodeURIComponent(e[o]);new Image(1,1).src="//pcweb-v1.log.mgtv.com/dispatcher.do?"+i};function D(e){m.show()}function K(e,i){i.text(e).show()}function L(e){e.hide().empty()}var r,t=!1,j=function(o){t||(t=new Messenger("parent","MessengerLogin")),t.listen(function(e){if(e){var i=$.parseJSON(e);$.isFunction(o)&&o(i),t.clear()}})},J={login:function(e){e.preventDefault();$(this);var i=f.find("#honey-mini-box-login"),o=i.find(".mini-login-name"),n=o.val(),t=i.find("#honey-mini-login-error"),a=i.find(".password"),s=i.find(".mini-login-yzm"),r=s.val(),c=a.val();if(""==$.trim(n))return K("Â∏êÂè∑‰∏çËÉΩ‰∏∫Á©∫",t),o.focus(),!1;if(y={act:"login",time:N(),guid:T("MQGUID")||"",suuid:U(),uuid:T("uuid"),cookie:"",bid:"1.1.11",ch:"",url:encodeURIComponent(window.location.href),ext3:0,ext1:"",ext2:E(window.location.href),ext4:"",ext5:1},0<n.indexOf("@")){if(y.ext1=5,!/^([a-zA-Z0-9\_\.\-])+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/gi.test(n))return K("ÈÇÆÁÆ±Ê†ºÂºèÈîôËØØ",t),o.focus(),!1}else{if(!v.test(n))return K("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑Á†Å",t),o.focus(),!1;y.ext1=4}if(""==$.trim(c))return K("ÂØÜÁ†Å‰∏çËÉΩ‰∏∫Á©∫",t),a.focus(),!1;if("block"==g.css("display")&&""==$.trim(r))return K("È™åËØÅÁ†Å‰∏çËÉΩ‰∏∫Á©∫",t),s.focus(),!1;var l=0;$("input[node-type=honey-mini-login-auto]").is(":checked")&&(l=1,y.ext3=l),c=honey.encodePassword(c),L(t),D(),J.doAjaxLogin({username:n,password:c,vcode:r,rem:l})},doAjaxLogin:function(e){$("#honey-mini-login-submit").addClass("loading");var i=$("#honey-login-from"),o=$(".honey-login-from"),n="honey-login-from";if(0==i.length&&$('<iframe frameborder="0" height="0" name="'+n+'" id="'+n+'" width="0"/>').appendTo("body"),0==o.length){o=$('<form action="//i.mgtv.com/account/loginVerify" target="honey-login-from" method="post" class="honey-login-from"><input type="hidden" name="sub" value="1" /><input type="hidden" name="account" /><input type="hidden" name="pwd" /><input type="hidden" name="vcode" /><input type="hidden" name="remember" value="1" /></form>').appendTo("body")}$('[name="remember"]',o).val(e.rem),$('[name="account"]',o).val(e.username),$('[name="vcode"]',o).val(e.vcode),$('[name="pwd"]',o).val(e.password),o.submit(),j(function(e){J.succeed(e)})},succeed:function(e){if(200==e.code){f.destroy(),window.USER=e,p.trigger("HONEY-LOGIN-DONE"),p.trigger("HONEY-LOGIN-SUCCESS",{user:window.USER,type:"direct"}),window.OnJSCallbackGetUID&&OnJSCallbackGetUID.call(window,e.data.uid),R(y),f=null;var i={type:1,httpcode:200,retcode:e.code||"",opt:1},o={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)var n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}else if(-129==e.code){window.USER=e,d.loginCheckDialog(e);i={type:1,httpcode:-1,retcode:e.code||"",opt:1},o={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}else{e.code,p.trigger("HONEY-LOGIN-ERR"),$("#honey-mini-login-error").html(e.msg).show(),$("#honey-mini-login-submit").removeClass("loading");i={type:1,httpcode:-1,retcode:e.code||"",opt:1},o={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}$.ajax({url:"//i.mgtv.com/account/loginVerifyStatus",dataType:"jsonp",success:function(e){e&&200==e.code&&"success"==e.msg&&(1==e.data||2==e.data?($("img[node-type=mini-yzm-src]").attr("src",u+$.now()),$(".yzm-mod").show(),k=!0):($("img[node-type=mini-yzm-src]").attr("src",u+$.now()),$(".yzm-mod").hide(),k=!1))}})}}},G={login:function(e){e.preventDefault();$(this);var i=f.find("#honey-mini-box-login-message"),o=i.find("#honey-mini-mes-error"),n=i.find("[node-type=honey-mini-mes-phone]"),t=n.val(),a=i.find("[node-type=honey-mini-mes-code]"),s=a.val(),r=$("b[node-type=honey-mini-area-county]").html(),c=parseInt(r),l=i.find("[node-type=meslogin-code]"),d=l.val();return""==$.trim(t)?(K("ÊâãÊú∫Âè∑‰∏çËÉΩ‰∏∫Á©∫",o),n.focus(),!1):(y={act:"login",time:N(),guid:T("MQGUID")||"",suuid:U(),uuid:T("uuid"),cookie:"",bid:"1.1.11",ch:"",url:encodeURIComponent(window.location.href),ext3:0,ext1:"",ext2:E(window.location.href),ext4:"",ext5:1},v.test(t)?(y.ext1=4,""==$.trim(d)?(K("È™åËØÅÁ†Å‰∏çËÉΩ‰∏∫Á©∫",o),l.focus(),!1):""==$.trim(s)?(K("Ê†°È™åÁ†Å‰∏çËÉΩ‰∏∫Á©∫",o),a.focus(),!1):(L(o),void G.doAjaxLogin({mobile:t,code:s,codeimg:d,county:c}))):(K("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑Á†Å",o),n.focus(),!1))},doAjaxLogin:function(e){$("#honey-mini-mes-login-submit").addClass("loading"),$.ajax({url:i+"/account/mobileLogin",data:{mobile:e.mobile,code:e.code,county:e.county},type:"get",dataType:"jsonp",success:function(e){if(200==e.code){f.destroy(),window.USER=e,p.trigger("HONEY-LOGIN-DONE"),p.trigger("HONEY-LOGIN-SUCCESS",{user:window.USER,type:"direct"}),window.OnJSCallbackGetUID&&OnJSCallbackGetUID.call(window,e.data.uid),R(y),f=null;var i={type:2,httpcode:200,retcode:e.code||"",opt:1},o={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)var n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}else if(-129==e.code){window.USER=e,d.loginCheckDialog(e);i={type:2,httpcode:-1,retcode:e.code||"",opt:1},o={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}else{p.trigger("HONEY-LOGIN-ERR"),$("#honey-mini-mes-error").removeClass("ok-ts").html(e.msg).show(),$("#honey-mini-mes-login-submit").removeClass("loading");i={type:2,httpcode:-1,retcode:e.code||"",opt:1},o={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}}})}},_={check:function(e,i){var o=S.find(".login-check-dialog-two"),n=o.find(".user-phone"),t=o.find(".phone-check-yzm"),a=n.attr("mobile")?n.attr("mobile"):n.val(),s=t.val(),r=S.find(".merr-ts");function c(e){r.html(e).removeClass("ok-ts").show()}return""==$.trim(a)?(c("ÊâãÊú∫Âè∑Á†Å‰∏çËÉΩ‰∏∫Á©∫"),n.focus(),!1):v.test(a)?""==$.trim(s)?(c("Ê†°È™åÁ†Å‰∏çËÉΩ‰∏∫Á©∫"),t.focus(),!1):(r.hide(),void _.doAjaxLogin({phone:a,code:s,is_relate_mobile:e,rtoken:i})):(c("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑Á†Å"),n.focus(),!1)},doAjaxLogin:function(e){var a=S.find(".merr-ts");$.ajax({url:i+"/account/exceptionLogin",data:{phone:e.phone,code:e.code,is_relate_mobile:e.is_relate_mobile,rtoken:e.rtoken},type:"get",dataType:"jsonp",success:function(e){if(200==e.code&&"success"==e.msg){_.succeed(e);var i={type:1,httpcode:200,retcode:e.code||"",opt:1},o={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)var n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}else{a.html(e.msg).removeClass("ok-ts").show();i={type:1,httpcode:-1,retcode:e.code||"",opt:1},o={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}}})},succeed:function(e){S.find(".login-check-dialog-two").hide(),S.find(".login-check-dialog-three").show();var i=S.find(".login-check-dialog-three-clock"),o=3;setInterval(function(){0==--o?(S.destroy(),window.USER=e,p.trigger("HONEY-LOGIN-DONE"),p.trigger("HONEY-LOGIN-SUCCESS",{user:window.USER,type:"direct"}),window.OnJSCallbackGetUID&&OnJSCallbackGetUID.call(window,e.data.uid)):i.html(o+"S ÂêéÂÖ≥Èó≠")},1e3)}},M={registe:function(e){e.preventDefault();$(this);var i=f.find("#honey-mini-box-register"),o=i.find(".honey-mini-register-yzm"),n=i.find(".register-name"),t=n.val(),a=i.find(".register-password"),s=i.find(".phone-yzm"),r=a.val(),c=o.val(),l=f.find("li[node-type=honey-mini-register-btn]"),d=f.find("a[node-type=honey-mini-reg-gotoEmail]"),m=f.find("em[node-type=honey-mini-email-name]"),p=i.find("span[action-type=honey-mini-reg-email]").attr("type"),h=$("#honey-mini-register-error"),g=$("#honey-mini-license");function y(e){h.html(e).removeClass("ok-ts").show()}return w={act:"register",time:N(),guid:T("MQGUID")||"",suuid:U(),uuid:T("uuid"),cookie:"",bid:"1.1.11",ch:"",url:encodeURIComponent(window.location.href),ext1:"",ext2:E(window.location.href)},""==$.trim(t)?(y("Ë¥¶Âè∑‰∏çËÉΩ‰∏∫Á©∫"),n.focus(),!1):"phone"!=p?(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(t)?""==$.trim(c)?(y("È™åËØÅÁ†Å‰∏çËÉΩ‰∏∫Á©∫"),o.focus()):g.attr("checked")?(h.hide(),w.ext1=2,$.getJSON("//i.mgtv.com/account/sendRegEmail?callback=?",{email:t,vcode:c},function(e){e&&200==e.code?(R(w),d.attr("href",I[t.split("@")[1]]),m.html(t),i.hide(),l.attr("type","email"),$("#honey-mini-box-email").show()):(-109==e.code&&n.focus(),$("img[node-type=mini-yzm-src]").attr("src",u+$.now()),y(e.msg))})):y("ËØ∑ÊÇ®ÂãæÈÄâÁî®Êà∑ÂçèËÆÆ"):(y("ÈÇÆÁÆ±Ê†ºÂºèÈîôËØØ"),n.focus()),!1):v.test(t)?""==$.trim(r)?(y("ÂØÜÁ†Å‰∏çËÉΩ‰∏∫Á©∫"),a.focus(),!1):r.length<6?(y("ÂØÜÁ†Å‰∏∫6-20‰ΩçÔºå‰∏î‰ªÖÈôê‰ΩøÁî®Êï∞Â≠ó„ÄÅÂ≠óÊØçÊàñÁ¨¶Âè∑"),a.focus(),!1):""==$.trim(o.val())?(y("È™åËØÅÁ†Å‰∏çËÉΩ‰∏∫Á©∫"),o.focus(),!1):""==$.trim(s.val())?(y("Áü≠‰ø°È™åËØÅÁ†Å‰∏çËÉΩ‰∏∫Á©∫"),s.focus(),!1):g.attr("checked")?(w.ext1=1,h.hide(),r=honey.encodePassword(r),L(h),D(),void M.doAjaxLogin({account:t,password:r,mobileCode:s.val()})):(y("ËØ∑ÊÇ®ÂãæÈÄâÁî®Êà∑ÂçèËÆÆ"),!1):(y("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑Á†Å"),n.focus(),!1)},doAjaxLogin:function(e){$("#honey-mini-register").addClass("loading");var i=$("#honey-login-from"),o=$(".honey-register-from"),n="honey-login-from";if(0==i.length&&$('<iframe frameborder="0" height="0" name="'+n+'" id="'+n+'" width="0"/>').appendTo("body"),0==o.length){o=$('<form action="//i.mgtv.com/account/mobileReg" target="honey-login-from" method="post" class="honey-register-from"><input type="hidden" name="sub" value="1" /><input type="hidden" name="account" /><input type="hidden" name="password" /><input type="hidden" name="mobileCode" value="" /></form>').appendTo("body")}$('[name="account"]',o).val(e.account),$('[name="password"]',o).val(e.password),$('[name="mobileCode"]',o).val(e.mobileCode),o.submit(),j(function(e){M.succeed(e)})},succeed:function(e){var i=$("#honey-mini-register-error");if(200==e.code){M.regSuccess(e.data.nickname),window.USER=e,p.trigger("HONEY-LOGIN-DONE"),p.trigger("HONEY-LOGIN-SUCCESS"),window.OnJSCallbackGetUID&&OnJSCallbackGetUID.call(window,e.data.uid),R(w);var o={httpcode:200,retcode:e.code||""},n={bid:"1.5.5.5",act:"MgAccountReg",pos:1,value:encodeURI(JSON.stringify(o))};try{if(!t&&window.STK)var t=new window.STK.start;t&&t.pageEvent(n)}catch(a){}}else{p.trigger("HONEY-LOGIN-ERR"),i.html(e.msg).removeClass("ok-ts").show(),$("#honey-mini-register").removeClass("loading"),h.attr("src",u+$.now());o={httpcode:-1,retcode:e.code||""},n={bid:"1.5.5.5",act:"MgAccountReg",pos:1,value:encodeURI(JSON.stringify(o))};try{if(!t&&window.STK)t=new window.STK.start;t&&t.pageEvent(n)}catch(a){}}},regSuccess:function(e){var i=$("div[node-type=honey-mini-dialog-box]"),o=$("div[node-type=honey-mini-dialog-suc]");$("em[node-type=honey-mini-suc-name]").html(e),i.hide(),o.show();var n=3;setInterval(function(){if(0==--n)return f.destroy(),f=null,!1;$("em[node-type=honey-mini-suc-time]").html(n+"s")},1e3)}},A=function(){var s=!1,i=0;N(),T("MQGUID"),U(),T("uuid"),encodeURIComponent(window.location.href),E(window.location.href);function o(e){clearTimeout(s),e&&0==e.err&&"00000"==e.status&&("waiting"!==c&&($(".m-form-image").removeClass("repeat"),$(".m-erweima-image").attr("src",e.msg.pic_url),window.erweiUID=e.msg.uid||"",i=0),s=setTimeout(r,1e3))}function r(){if(62<++i)return clearInterval(s),i=0,void $(".m-form-image").removeClass("success").addClass("repeat");$.ajax({url:"//oauth.mgtv.com/2.0/polling?invoker=pc",data:{uid:window.erweiUID},type:"get",dataType:"jsonp",success:function(e){if(0==e.err&&"00000"==e.status)if("201"==e.msg.code){0==(t=e).err&&"00000"==t.status&&"201"==t.msg.code&&$.ajax({url:"//i.mgtv.com/account/getByTicket?",data:{ticket:t.msg.ticket},type:"get",dataType:"jsonp",success:function(e){200==e.code?(f.destroy(),window.USER=e,p.trigger("HONEY-LOGIN-DONE"),p.trigger("HONEY-LOGIN-SUCCESS",{user:window.USER,type:"qrcode"}),window.OnJSCallbackGetUID&&OnJSCallbackGetUID.call(window,e.data.uid),f=null):(-102==e.code&&$("#honey-mini-login-auto").focus(),p.trigger("HONEY-LOGIN-ERR"),$("#honey-mini-login-error").html(e.msg).show(),$("#honey-mini-login-submit").removeClass("loading"),$("img[node-type=mini-yzm-src]").attr("src",u+$.now()))}}),c="success";var i={type:10,httpcode:200,retcode:e.msg.code||"",opt:2},o={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)var n=new window.STK.start;n&&n.pageEvent(o)}catch(a){}}else"203"==e.msg.code?(s=setTimeout(r,3e3),c="fail"):"208"==e.msg.code&&($(".m-form-image").addClass("success"),s=setTimeout(r,3e3),c="waiting");else 1==e.err&&"10045"==e.status&&($(".m-form-image").removeClass("success").addClass("repeat"),c="expire");var t}})}return{init:function(){var a,e;a=o,e="//oauth.mgtv.com/2.0/getqrcode?invoker=pc&deviceid="+(""==T("__STKUUID")?"0":T("__STKUUID"))+"&callback=?",$.ajax({url:e,dataType:"jsonp",timeout:2e3,success:function(e){if(e&&0==e.err&&"00000"==e.status){var i={type:10,httpcode:200,retcode:e.status||""},o={bid:"1.5.5.5",act:"PreLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)var n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}$.isFunction(a)&&a.call(this,e)}else{$(".m-form-image").addClass("repeat").find(".m-repeat-image-intro").text("‰∫åÁª¥Á†ÅËé∑ÂèñÂ§±Ë¥•ÔºåËØ∑ÁÇπÂáªÂà∑Êñ∞"),i={type:10,httpcode:-1,retcode:e.status||""},o={bid:"1.5.5.5",act:"PreLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{!n&&window.STK&&(n=new window.STK.start),n&&n.pageEvent(o)}catch(t){}}},error:function(e,i){var o={bid:"1.5.5.5",act:"PreLogin",pos:1,value:encodeURI(JSON.stringify({type:10,httpcode:"",retcode:""}))};try{if(!n&&window.STK)var n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}})},stopInquiry:function(){clearTimeout(s),i=0}}}(),H=0;function q(){if(240<++H){K("ÁôªÂΩïÂ§±Ë¥•",f.find("#honey-mini-login-error")),clearTimeout(r),H=0,m.hide();var e={type:C[l],httpcode:"",retcode:"",opt:2},i={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(e))};try{if(!o&&window.STK)var o=new window.STK.start;o&&o.pageEvent(i)}catch(t){}}else $.getJSON(n,function(e){if(e.code<0&&(clearTimeout(r),r=setTimeout(q,1e3)),200==~~e.code){f.destroy(),clearTimeout(r),H=0,window.USER=e,p.trigger("HONEY-LOGIN-DONE"),p.trigger("HONEY-LOGIN-SUCCESS",{user:window.USER,type:l}),window.OnJSCallbackGetUID&&OnJSCallbackGetUID.call(window,e.data.uid),f=null;var i={type:C[l],httpcode:200,retcode:e.code||"",opt:2},o={bid:"1.5.5.5",act:"DoLogin",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)var n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}})}function Y(e){e.preventDefault();var i=$(this).attr("type");window.loginType&&"change"==window.loginType&&$.getJSON("//i.mgtv.com/account/logout?jsonp=1&callback=?",function(e){});var o,n=""==T("__STKUUID")?"0":T("__STKUUID"),t=0<=(o=navigator.userAgent.toLowerCase()).indexOf("msie")?"IE":0<=o.indexOf("chrome")?"Chrome":0<=o.indexOf("firefox")?"Firefox":0<=o.indexOf("opera")?"opera":0<=o.indexOf("safari")?"safari":0<=o.indexOf("mozilla")?"mozilla":"other",a="//oauth.mgtv.com/2.0/"+{100:"qq",110:"tencent",200:"weibo",300:"wechat"}[i]+"/login?invoker=pc&type=1&from="+location.protocol+"//i.mgtv.com&deviceid="+n+"&dname="+t;300==~~i&&(a="//oauth.mgtv.com/2.0/wechat/login?invoker=pc&type=1&from="+location.protocol+"//i.mgtv.com&deviceid="+n+"&dname="+t);window.open(a,"_blank","width=750, height=525");setTimeout(q,3e3),D();y.ext1={100:1,200:3,300:2}[i],R(y);var s={type:C[l=i],httpcode:"",retcode:"",msg:"ÂêéÁª≠DologinÊó†Ê≥ïÊÑüÁü•"},r={bid:"1.5.5.5",act:"PreLogin",pos:1,value:encodeURI(JSON.stringify(s))};try{if(!c&&window.STK)var c=new window.STK.start;c&&c.pageEvent(r)}catch(e){}}d.loginDialog=function(e,i,o){e&&""!==e&&(window.loginType=e),f||((f=new d.dialog({id:"honey-mini-login-dialog",html:x,content:O,width:620,opacity:.5})).init(),f.find("#honey-mini-login-submit").click(J.login),f.find("#honey-mini-mes-login-submit").click(G.login),f.find("ul[node-type=honey-mini-third] a").click(Y),f.find(".mini-login-yzm").keyup(function(e){"13"==(e.keyCode?e.keyCode:e.which)&&f.find("#honey-mini-login-submit").trigger("click")}),f.find(".login-dialog-password").keyup(function(e){k||"13"==(e.keyCode?e.keyCode:e.which)&&f.find("#honey-mini-login-submit").trigger("click")}),$.fn.placeholder&&f.find("input").placeholder(),h=f.find("img[node-type=mini-yzm-src]"),$("[action-type=mini-yzm-refresh]").click(function(){h.attr("src",u+$.now())}),h.click(function(){$(this).attr("src",u+$.now())}),f.find("#honey-mini-register").click(M.registe),f.find(".phone-yzm").keyup(function(e){"13"==(e.keyCode?e.keyCode:e.which)&&f.find("#honey-mini-register").trigger("click")}),f.find(".text").blur(function(e){$("#honey-mini-register-error,#honey-mini-login-error,#honey-mini-mes-error").hide()}),m=f.find("#honey-login-loading")),$("[node-type=honey-mini-dialog-saoma]").hide(),$(".m-saoma-icon").show(),$(".c-union-login-simple").show(),i&&"register"==i?($("[action-type=honey-mini-login-tabs]").removeClass("current").hide(),$("[node-type=honey-mini-register-btn-tabs]").addClass("current").show(),$(".honey-mini-dialog").hide(),$("[node-type=honey-mini-box-register]").show(),$(".m-backto-login").show()):($("[node-type=honey-mini-register-btn]").show(),$("[node-type=honey-mini-register-btn-tabs]").removeClass("current").hide(),$("[node-type=honey-mini-login-account-tabs]").addClass("current").show(),$("[node-type=honey-mini-login-mes-btn]").removeClass("current").show(),$(".honey-mini-dialog").hide(),$("[node-type=honey-mini-box-login]").show()),p.trigger("HONEY-LOGIN-SHOW");try{if(!n&&window.STK)var n=new window.STK.start;if(n){var t={act:"pv",url:"http://www.mgtv.com/bdsfm/login",ref:window.location.href,bid:isPad?"4.1.1":"1.1.2",cid:window.VIDEOINFO?window.VIDEOINFO.rid:"",plid:window.VIDEOINFO?window.VIDEOINFO.cid:"",vid:window.VIDEOINFO?window.VIDEOINFO.vid:"",ext1:o&&o.entrance?o.entrance:"",ext2:""};i&&"register"==i&&(t.url="http://www.mgtv.com/bdsfm/reg"),n.pageEvent(t,"//pcweb-v1.log.mgtv.com/dispatcher.do")}}catch(l){}var a,s,r;$.ajax({url:"//i.mgtv.com/account/loginVerifyStatus",dataType:"jsonp",success:function(e){e&&200==e.code&&"success"==e.msg&&(1==e.data||2==e.data?($("img[node-type=mini-yzm-src]").attr("src",u+$.now()),$(".yzm-mod").show(),k=!0):($("img[node-type=mini-yzm-src]").attr("src",u+$.now()),$(".yzm-mod").hide(),k=!1))}}),m&&m.hide(),"saoma"==b&&A.init(),f.open(),z("#honey-mini-reg-auto","reg"),z("#honey-mini-login-auto","login"),s=[[(a="//i5.hitv.com/s1/2017/userimg/")+"dialog_1.jpg","#fff"],[a+"dialog_2.jpg","#fff"],[a+"dialog_3.jpg","#fff"],[a+"dialog_4.jpg","#fff"]],r=Math.round(Math.random()*(s.length-1)),$("span[node-type=honey-top-bg]").css("background-image","url("+s[r][0]+")");var c=T("loginAccount");c&&""!==c&&f.find("#honey-mini-login-auto").val(decodeURIComponent(c))},d.loginCheckDialog=function(e){f.destroy(),f=null;var i="",o=0;if((""==e.data.relate_mobile?(i="ÁªëÂÆö",o=0):(i="È™åËØÅ",o=1),!S)&&((S=new d.dialog({id:"honey-mini-login-check-dialog",content:s,width:560,height:320,opacity:.5})).init(),S.find(".title").html(i),"624"==e.data.status&&S.find(".merr-tips").html("ÊÇ®Êú¨Ê¨°ÁôªÂΩïÂú∞Âå∫‰∏∫ÈùûÂ∏∏Áî®ÁôªÂΩïÂú∞Âå∫ÔºåËØ∑È™åËØÅÊâãÊú∫ÂêéÁôªÂΩï"),S.find("#login-check-first-btn").click(function(e){S.find(".login-check-dialog-first").hide(),S.find(".login-check-dialog-two").show()}),S.find(".login-check-yzm-btn").attr("hasMobile",o),S.find(".login-check-submit").click(function(){_.check(o,e.data.rtoken)}),""!==e.data.relate_mobile)){var n=e.data.relate_mobile,t=n.substring(0,4)+"****"+n.substring(8);S.find("#phone-name").attr({disabled:"true",mobile:e.data.relate_mobile}),S.find("#phone-name").val(t)}S.open()},a.on("click","[action-type=honey-mini-login-tabs]",function(e){e.preventDefault();var i=$(this).attr("type");A.stopInquiry(),$("[node-type=tab-nav]").children("li").removeClass("current").hide(),"register"==i?($("[node-type=honey-mini-register-btn-tabs]").addClass("current").show(),$("a.m-saoma-icon").hide(),$("[action-type=register-account-yzm]").attr("src",u+$.now()),b="register"):"login"==i?($("[node-type=honey-mini-register-btn]").show(),$("[node-type=honey-mini-login-account-tabs]").addClass("current").show(),$("[node-type=honey-mini-login-mes-btn]").show(),$("a.m-saoma-icon").show(),$("[action-type=login-accout-yzm]").attr("src",u+$.now()),b="login"):($("[node-type=honey-mini-login-account-tabs]").show(),$("[node-type=honey-mini-login-mes-btn]").addClass("current").show(),$("a.m-saoma-icon").hide(),$("[action-type=meslogin-img]").attr("src",u+$.now()),b="loginmes"),$(".honey-mini-dialog").hide(),$("div[node-type=honey-mini-box-"+i+"]").show(),$("div.c-union-login-simple").show(),$("div[node-type=honey-mini-dialog-saoma]").hide()}),a.on("click","span[action-type=honey-mini-reg-email]",function(e){var i=$(this);$("p[node-type=mini-register-type]").html("ÈÇÆÁÆ±"),$("input[node-type=honey-mini-reg-name]").attr({placeholder:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±",id:"honey-mini-reg-auto"}).val("").focus(),i.attr("action-type","mini-reg-phone"),i.html("ÊâãÊú∫Ê≥®ÂÜå"),i.attr("type","email"),$("p[node-type=honey-mini-phone-regcode]").hide(),$("p[node-type=honey-mini-reg-pas]").hide(),$("#honey-mini-register-error").hide(),h.attr("src",u+$.now())}),a.on("click","span[action-type=mini-reg-phone]",function(e){var i=$(this);$("p[node-type=mini-register-type]").html("ÊâãÊú∫"),i.attr("action-type","honey-mini-reg-email"),$("input[node-type=honey-mini-reg-name]").attr({placeholder:"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å",id:"honey-mini-type-phone"}).val("").focus(),i.html("ÈÇÆÁÆ±Ê≥®ÂÜå"),i.attr("type","phone"),$("p[node-type=honey-mini-phone-regcode]").show(),$("p[node-type=honey-mini-reg-pas]").show(),$("#honey-mini-pass-safe").hide(),h.attr("src",u+$.now())}),a.on("keyup","input[node-type=honey-mini-reg-safe]",function(e){var i=new RegExp("^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$","g"),o=new RegExp("^(?![d]+$)(?![a-zA-Z]+$)(?![^da-zA-Z]+$).{6,20}$"),n=new RegExp("(?=.{6,}).*","g"),t=$("em[node-type=honey-mini-line]"),a=$("#honey-mini-pass-safe");0<$(this).val().length?a.slideDown():a.slideUp(),0==n.test($(this).val())?t.removeClass("step"):i.test($(this).val())?(t.removeClass("step"),t.addClass("step")):o.test($(this).val())?(t.removeClass("step"),$("em",a).each(function(e){1<e||$(this).addClass("step")})):(t.removeClass("step"),a.find(".row-line").first().addClass("step"))}),a.on("click","span[action-type=honey-mini-get-pollcode]",function(t){t.preventDefault();var a=$(this),s=60,e=$("input[node-type=honey-mini-reg-name]"),i=e.val(),r=$("#honey-mini-register-error"),o=$(".honey-mini-register-yzm");if(""==i)return r.html("ÊâãÊú∫Âè∑‰∏çËÉΩ‰∏∫Á©∫").removeClass("ok-ts").show(),void $("input[node-type=honey-mini-reg-name]").focus();if(!v.test(i))return r.html("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑Á†Å").removeClass("ok-ts").show(),e.focus(),!1;if(""==o.val())return r.html("ËØ∑ËæìÂÖ•È™åËØÅÁ†Å").removeClass("ok-ts").show(),o.focus(),!1;var n={phone:i,vcode:o.val()};if(a.data("lock"))return!1;a.data("lock",!0);var c=setInterval(function(){0==--s?(a.html("Ëé∑ÂèñÈ™åËØÅÁ†Å"),clearInterval(c),s=0,a.data("lock",!1)):a.html(s+"s")},1e3);$.getJSON("//i.mgtv.com/account/sendRegMobileCode?callback=?",n,function(e){if(e&&200==e.code){r.addClass("ok-ts").html("Ê†°È™åÁ†ÅÂèëÈÄÅÊàêÂäü").show();var i={type:0,httpcode:200,retcode:e.code||""},o={bid:"1.5.5.5",act:"VerifySMSGet",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)var n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}else{i={type:0,httpcode:-1,retcode:e.code||""},o={bid:"1.5.5.5",act:"VerifySMSGet",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}a.data("lock",!1),clearInterval(c),s=0,a.html("Ëé∑ÂèñÊ†°È™åÁ†Å"),r.html(e.msg).removeClass("ok-ts").show(),h.attr("src",u+$.now())}})}),a.on("click","a.login-check-yzm-btn",function(t){t.preventDefault();var a=$(this),s=60,e=S.find(".login-check-dialog-two").find(".user-phone"),i=e.attr("mobile")?e.attr("mobile"):e.val(),r=S.find(".merr-ts");function c(e){r.html(e).removeClass("ok-ts").show()}if(""==$.trim(i))return c("ÊâãÊú∫Âè∑Á†Å‰∏çËÉΩ‰∏∫Á©∫"),e.focus(),!1;if(!v.test(i))return c("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑Á†Å"),e.focus(),!1;var o={phone:i,is_relate_mobile:a.attr("hasMobile")};if(a.data("lock"))return!1;a.data("lock",!0);var l=setInterval(function(){0==--s?(a.html("Ëé∑ÂèñÈ™åËØÅÁ†Å").removeClass("yzm-b1"),r.hide(),clearInterval(l),s=0,a.data("lock",!1)):(a.html(s+"ÁßíÂêéÈáçÊñ∞Ëé∑Âèñ"),a.addClass("yzm-b1"))},1e3);$.getJSON("//i.mgtv.com/account/sendMobileCode?callback=?",o,function(e){if(e&&200==e.code){r.addClass("ok-ts").html("Ê†°È™åÁ†ÅÂèëÈÄÅÊàêÂäü").show();var i={type:1,httpcode:200,retcode:e.code||""},o={bid:"1.5.5.5",act:"VerifySMSGet",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)var n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}else{i={type:1,httpcode:-1,retcode:e.code||""},o={bid:"1.5.5.5",act:"VerifySMSGet",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}a.data("lock",!1),clearInterval(l),s=0,a.html("Ëé∑ÂèñÊ†°È™åÁ†Å").removeClass("yzm-b1"),c(e.msg)}})}),a.on("click","[action-type=meslogin-refresh]",function(e){$("[action-type=meslogin-img]").attr("src",u+$.now())}),a.on("click","[action-type=meslogin-img]",function(e){$(this).attr("src",u+$.now())});var V=!0;a.on("click","a[action-type=honey-mini-reset-email]",function(e){e.preventDefault(),$("li[node-type=honey-mini-register-btn]").attr("type","register"),$("#honey-mini-box-email").hide(),$("#honey-mini-box-register").show(),$("em[action-type=honey-mini-reset-send]").html("ÈáçÊñ∞ÂèëÈÄÅ").addClass("ico-re"),h.attr("src",u+$.now()),V=!0}),a.on("click","em[action-type=honey-mini-reset-send]",function(e){var i=$("em[node-type=honey-mini-email-name]").html(),o=$(this);if(!V)return!1;$.getJSON("//i.mgtv.com/account/resendRegEmail?callback=?",{email:i},function(e){V=!1,e&&200==e.code?(o.html("ÂèëÈÄÅÊàêÂäü").addClass("ico-ok"),setTimeout(function(){o.html("ÈáçÊñ∞ÂèëÈÄÅ").removeClass("ico-ok").addClass("ico-re"),V=!0},4e3)):(V=!1,o.html(e.msg).removeClass("ico-ok ico-re"))})}),a.on("click touchstart","a.m-saoma-icon",function(e){e.preventDefault(),A.init();var i=$("div[node-type=honey-mini-dialog-saoma]"),o=$("div[node-type=honey-mini-box-login]"),n=$("div.c-union-login-simple");$(this).hide(),n.hide(),o.hide(),i.show(),b="saoma"}),a.on("click touchstart","a.m-back-login",function(e){e.preventDefault();var i=$("a.m-saoma-icon"),o=$("div[node-type=honey-mini-dialog-saoma]"),n=$("div[node-type=honey-mini-box-login]"),t=$("div.c-union-login-simple");i.show(),t.show(),n.show(),o.hide(),b="login",A.stopInquiry()}),a.on("click touchstart",".m-repeat-image-bg, .m-repeat-image-intro",function(e){e.preventDefault(),A.init()}),a.on("click touchstart",".c-header-user-loginout,a[action-type=u-header-loginout]",function(e){var i={bid:"1.5.5.5",act:"logout",pos:1,value:encodeURI(JSON.stringify({httpcode:"",retcode:""}))};try{if(!o&&window.STK)var o=new window.STK.start;o&&o.pageEvent(i)}catch(e){}}),a.on("click touchstart",".honey-dialog-destroy",function(){return f&&f.close(),S&&(S.destroy(),S=null),A.stopInquiry(),!1}),a.on("click","a[node-type=honey-mini-mes-getcode]",function(t){t.preventDefault();var a=$(this),s=60,e=$("input[node-type=honey-mini-mes-phone]"),i=e.val(),o=$("b[node-type=honey-mini-area-county]").html(),n=parseInt(o),r=$("#honey-mini-mes-error"),c=$("[node-type=meslogin-code]"),l=$("[node-type=meslogin-code]").val();if(""==i)return r.html("ÊâãÊú∫Âè∑‰∏çËÉΩ‰∏∫Á©∫").removeClass("ok-ts").show(),void e.focus();if(!v.test(i))return r.html("ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑Á†Å").removeClass("ok-ts").show(),e.focus(),!1;if(""==l)return r.html("È™åËØÅÁ†Å‰∏çËÉΩ‰∏∫Á©∫").removeClass("ok-ts").show(),void c.focus();var d={mobile:i,codeimg:l,county:n};if(a.data("lock"))return!1;a.data("lock",!0);var m=setInterval(function(){0==--s?(a.html("Ëé∑ÂèñÈ™åËØÅÁ†Å"),clearInterval(m),s=0,a.data("lock",!1),a.removeClass("visited")):a.html(s+"s")},1e3);$.getJSON("//i.mgtv.com/account/mobileLoginCode?callback=?",d,function(e){if(e&&200==e.code){r.addClass("ok-ts").html("Ê†°È™åÁ†ÅÂèëÈÄÅÊàêÂäü").show(),a.addClass("visited");var i={type:2,httpcode:200,retcode:e.code||""},o={bid:"1.5.5.5",act:"VerifySMSGet",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)var n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}else{a.data("lock",!1),clearInterval(m),s=0,a.html("Ëé∑ÂèñÊ†°È™åÁ†Å"),r.html(e.msg).removeClass("ok-ts").show(),$("[action-type=meslogin-img]").attr("src",u+$.now());i={type:2,httpcode:-1,retcode:e.code||""},o={bid:"1.5.5.5",act:"VerifySMSGet",pos:1,value:encodeURI(JSON.stringify(i))};try{if(!n&&window.STK)n=new window.STK.start;n&&n.pageEvent(o)}catch(t){}}})})});
;/*lib/store üëâ*/;this.JSON||(this.JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,u,f=gap,a=t[e];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(e)),"function"==typeof rep&&(a=rep.call(t,e,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(a)){for(i=a.length,n=0;n<i;n+=1)u[n]=str(n,a)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+f+"]":"["+u.join(",")+"]",gap=f,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof(r=rep[n])&&((o=str(r,a))&&u.push(quote(r)+(gap?": ":":")+o));else for(r in a)Object.hasOwnProperty.call(a,r)&&((o=str(r,a))&&u.push(quote(r)+(gap?": ":":")+o));return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+f+"}":"{"+u.join(",")+"}",gap=f,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(indent=gap="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(!(rep=t)||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.hasOwnProperty.call(o,n)&&((r=walk(o,n))!==undefined?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e){var r,i={},t=e.document,o="localStorage",n="script";if(i.disabled=!1,i.set=function(e,t){},i.get=function(e){},i.remove=function(e){},i.clear=function(){},i.transact=function(e,t,n){var r=i.get(e);null==n&&(n=t,t=null),void 0===r&&(r=t||{}),n(r),i.set(e,r)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(e){return JSON.stringify(e)},i.deserialize=function(e){if("string"!=typeof e)return undefined;try{return JSON.parse(e)}catch(i){return e||undefined}},function(){try{return o in e&&e[o]}catch(i){return!1}}())r=e[o],i.set=function(e,t){return t===undefined?i.remove(e):(r.setItem(e,i.serialize(t)),t)},i.get=function(e){return i.deserialize(r.getItem(e))},i.remove=function(e){r.removeItem(e)},i.clear=function(){r.clear()},i.getAll=function(){var n={};return i.forEach(function(e,t){n[e]=t}),n},i.forEach=function(e){for(var t=0;t<r.length;t++){var n=r.key(t);e(n,i.get(n))}};else if(t.documentElement.addBehavior){var u,f;try{(f=new ActiveXObject("htmlfile")).open(),f.write("<"+n+">document.w=window</"+n+'><iframe src="/favicon.ico"></iframe>'),f.close(),u=f.w.frames[0].document,r=u.createElement("div")}catch(p){r=t.createElement("div"),u=t.body}function a(n){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(r),u.appendChild(r),r.addBehavior("#default#userData"),r.load(o);var t=n.apply(i,e);return u.removeChild(r),t}}var c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function l(e){return e.replace(/^d/,"___$&").replace(c,"___")}i.set=a(function(e,t,n){return t=l(t),n===undefined?i.remove(t):(e.setAttribute(t,i.serialize(n)),e.save(o),n)}),i.get=a(function(e,t){return t=l(t),i.deserialize(e.getAttribute(t))}),i.remove=a(function(e,t){t=l(t),e.removeAttribute(t),e.save(o)}),i.clear=a(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(o);for(var n,r=0;n=t[r];r++)e.removeAttribute(n.name);e.save(o)}),i.getAll=function(e){var n={};return i.forEach(function(e,t){n[e]=t}),n},i.forEach=a(function(e,t){for(var n,r=e.XMLDocument.documentElement.attributes,o=0;n=r[o];++o)t(n.name,i.deserialize(e.getAttribute(n.name)))})}try{var s="__storejs__";i.set(s,s),i.get(s)!=s&&(i.disabled=!0),i.remove(s)}catch(p){i.disabled=!0}i.enabled=!i.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=i:"function"==typeof define&&define.amd?define(i):e.store=i}(Function("return this")());
;/*widget/search.v5 üëâ*/;honey.def("plugin:jquery.autocomplete, mod:search.statistics",function(e){"use strict";var a,o=window.KEYWORD||"",n="//mobileso.bz.mgtv.com",i="",u=null,c=null,l="//so.log.mgtv.com/a.gif?",d=new Image,p=function(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),a=document.cookie.match(t);return a?unescape(a[1]):""},h=function(e,t){document.cookie=e+"="+escape(t)},r=function(e,t){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)||/MSIE(\d+\.\d+);/.test(navigator.userAgent)){var a=document.createElement("a");a.href=e,t&&(a.target="_blank"),document.body.appendChild(a),a.click()}else t?window.open(e,"_blank"):location.href=e},t=function(){};t.prototype.init=function(){var t=this;t.sbox=$(".c-header-search"),t.sform=$(".c-header-search-form"),t.sinput=$(".c-header-search-text"),t.sbtn=$(".c-header-search-btn"),t.bindEvent(),t.autoFocus(),t.autoComplete();var a=PAGE_DATA&&PAGE_DATA.cid||0;$.getJSON(n+"/pc/recommend/v1?platform=pcweb&fstlvlId="+a+"&callback=?",function(e){e&&e.data&&e.data["default"]&&e.data["default"][a]&&e.data["default"][a][0]&&(o=e.data["default"][a][0],t.defaultKeyword=o,t.sinput.is(":focus")||(t.sinput.val(o),$(window).trigger("header.search.mounted")))})},t.prototype.goToUrl=function(e){var t=$.now();a&&t-a<1e3||(a=t,/so\.mgtv/.test(window.location.href)?setTimeout(function(){r(e,!1)},200):r(e,!0))},t.prototype.bindEvent=function(){var e=this;e.sinput.on("input",function(){i=e.sinput.val()}),e.sform.submit(function(e){return e.preventDefault(),!1})},t.prototype.autoFocus=function(){var e=this,t=function(e,t){var a=$(e),r=a.val();t&&r===o&&a.val(null),t||r||a.val(o)};e.sinput.focus(function(){e.sbox.addClass("c-header-search-focus"),t(this,!0)}).blur(function(){e.sbox.removeClass("c-header-search-focus"),t(this,!1)}).val(o)},t.prototype.autoComplete=function(){var o=this,s=o.sinput,r=function(){var e=s.val(),t=s.attr("jump-url"),a="";if(e){if($(document).trigger("before.search",{word:e}),t&&""!=t){a=t;var r={act:"click",query:e,tp:4,id:"",idx:0,_client:"web",v_type:"5.5",uuid:p("uuid"),socookie:p("socookie"),source:"imgo"};d.src=l+$.param(r),s.attr("jump-url","")}else a="//so.mgtv.com/so/k-"+encodeURIComponent(e);o.goToUrl(a)}},e={triggerSelectOnValidInput:!1,cookieName:"search-history",serviceUrl:n+"/pc/suggest/v3",containerClass:".c-header-search",wrapperClass:".c-header-search-list",suggestList:".c-header-search-list-hot",historyList:".c-header-search-list-history",whenNoHistory:".c-header-search-list-title, .c-header-search-list-history, .c-header-search-list-empty",emptyHistory:".c-header-search-list-empty",minChars:0,zIndex:1099,width:"auto",paramName:"q",dataType:"JSONP",transformResult:function(e){return e={suggestions:$.map(e.data,function(e,t){return{recently:e.recently,value:e.title,data:t,type:e.type,img:e.img||"",btnText:e.btnText||"",typeName:e.typeName||"",url:e.url||""}})}},onEnter:function(){var e=c?c.value:s.val(),t={act:"search",input:i,has:c||0<u.suggestions.length?1:0,suggest:c?c.value:"",suggestidx:c?c.data+1:"",page:1,query:e,lastquery:p("lastquery"),socookie:p("socookie"),_client:"web",v_type:"2.3.0",uuid:p("uuid"),from:o.defaultKeyword==e?"1":"2",t:+new Date};return h("lastquery",e),o.reportTimer=setTimeout(function(){d.src=l+$.param(t),c=null},200),r(),!1},onSelect:function(e){c=e}};e.appendTo=$(".c-header-search-list");var t=s.autocomplete(e);u=t.length?t[0]:null,o.sbtn.click(function(e){o.reportTimer&&clearTimeout(o.reportTimer);var t=s.val(),a={act:"search",input:s.val(),has:0<u.suggestions.length?1:0,suggest:"",suggestidx:"",page:1,query:t,lastquery:p("lastquery"),socookie:p("socookie"),_client:"web",v_type:"2.3.0",uuid:p("uuid"),from:o.defaultKeyword==t?"1":"2",t:+new Date};return h("lastquery",t),d.src=l+$.param(a),e.preventDefault(),r(),!1})},e.search=new t});
;/*widget/header.msg.v5 üëâ*/;honey.def("lib:jquery, lib:mustache",function(t){"use strict";var o=!1,m={},i=function(e){return $("<textarea />").html(e).text()};t.msgCenterTpl={msgList:'<ul class="c-header-msg-tab">                        <li class="{{#showComment}}on{{/showComment}} {{#hasNewComment}}u-pop{{/hasNewComment}}" mg-stat-click="direct=cntp" data-type="1">ËØÑËÆ∫/ÂõûÂ§ç<em></em><i>{{newComment}}</i></li>                        <li class="{{#showZan}}on{{/showZan}} {{#hasNewZan}}u-pop{{/hasNewZan}}" mg-stat-click="direct=cntp" data-type="2">ÁÇπËµû<em></em><i>{{newZan}}</i></li>                        <li class="{{#showFantuan}}on{{/showFantuan}} {{#hasNewFantuan}}u-pop{{/hasNewFantuan}}" mg-stat-click="direct=cntp" data-type="5">È•≠Âõ¢<em></em><i>{{newFantuan}}</i></li>                        <li class="{{#showSystem}}on{{/showSystem}} {{#hasNewSystem}}u-pop{{/hasNewSystem}}" mg-stat-click="direct=cntp" data-type="4">Á≥ªÁªü<em></em><i>{{newSystem}}</i></li>                    </ul>                    {{#needLogin}}                        <p class="c-header-msg-null">ÊÇ®ËøòÊ≤°ÊúâÁôªÂΩïÔºå<a class="js-login-btn" mg-stat-click="" href="javascript:void(0)">ÁôªÂΩï</a>ÂêéÂèØÊü•ÁúãÊâÄÊúâÊ∂àÊÅØ</p>                    {{/needLogin}}                    {{^needLogin}}                    {{#showComment}}                        {{#isNull}}<p class="c-header-msg-null">ËøòÊ≤°ÊúâÊî∂Âà∞‰ªª‰ΩïÊ∂àÊÅØ</p>{{/isNull}}<ul class="c-header-msg-list">                        {{#items}}                            <li class="c-header-msg-reply">                                <p class="u-event">                                    <span class="u-headpic"><a href="{{spaceUrl}}" target="_blank"><img alt="" src="{{avatar.m}}"></a></span>                                    <span class="u-name"><a href="{{spaceUrl}}" target="_blank">{{accountName}}</a></span>                                    <span class="u-desc"><a href="{{link}}" target="_blank">{{reply}}</a></span>                                </p>                                <p class="u-quote">                                    <a href="{{link}}" target="_blank">                                        <span class="u-quote-reply">{{comment}}</span>                                        <span class="u-quote-original {{klass}}">                                            <i class="c-header-icon c-header-panel-icon c-header-icon-fromplay">                                                <svg class="svg-fromplay"><use xlink:href="#header-fromplay"/></svg>                                            </i>                                            <i class="c-header-icon c-header-panel-icon c-header-icon-fromfantuan">                                                <svg class="svg-fromfantuan"><use xlink:href="#header-fromfantuan"/></svg>                                            </i>                                            <span class="u-qo-txt">{{subjectTitle}}</span>                                        </span>                                    </a>                                </p>                                <em class="u-time">{{date}}</em>                            </li>                        {{/items}}                        <div class="c-header-msg-more">                            <a class="u-allmsg" href="//i.mgtv.com/my/message?type=1&from=nav" target="_blank">ÂÖ®ÈÉ®Ê∂àÊÅØ</a>                        </div>                    </ul>{{/showComment}}                    {{#showZan}}                        {{#isNull}}<p class="c-header-msg-null">ËøòÊ≤°ÊúâÊî∂Âà∞‰ªª‰ΩïÊ∂àÊÅØ</p>{{/isNull}}<ul class="c-header-msg-list">                        {{#items}}                            <li class="c-header-msg-approve">                                <p class="u-event">                                    <span class="u-headpic"><a href="{{spaceUrl}}" target="_blank"><img alt="" src="{{avatar.m}}"></a></span>                                    <span class="u-name"><a href="{{spaceUrl}}" target="_blank">{{accountName}}</a></span>                                    <span class="u-desc">Ëµû‰∫Ü‰Ω†ÁöÑËØÑËÆ∫</span>                                </p>                                <p class="u-quote">                                    <a href="{{link}}" target="_blank">                                        <span class="u-quote-reply">{{comment}}</span>                                        <span class="u-quote-original {{klass}}">                                            <i class="c-header-icon c-header-panel-icon c-header-icon-fromplay">                                                <svg class="svg-fromplay"><use xlink:href="#header-fromplay"/></svg>                                            </i>                                            <i class="c-header-icon c-header-panel-icon c-header-icon-fromfantuan">                                                <svg class="svg-fromfantuan"><use xlink:href="#header-fromfantuan"/></svg>                                            </i>                                            <span class="u-qo-txt">{{subjectTitle}}</span>                                        </span>                                    </a>                                </p>                                <em class="u-time">{{date}}</em>                            </li>                        {{/items}}                        <div class="c-header-msg-more">                            <a class="u-allmsg" href="//i.mgtv.com/my/message?type=2&from=nav" target="_blank">ÂÖ®ÈÉ®Ê∂àÊÅØ</a>                        </div>                    </ul>{{/showZan}}                    {{#showFantuan}}                        {{#isNull}}<p class="c-header-msg-null">ËøòÊ≤°ÊúâÊî∂Âà∞‰ªª‰ΩïÊ∂àÊÅØ</p>{{/isNull}}<ul class="c-header-msg-list">                        {{#items}}                        <li class="c-header-msg-system c-header-msg-fantuan">                            <p class="u-txttime">                                <span class="u-tt-date"><em></em>{{date}}</span>                                <a href="{{fantuanUrl}}" target="_blank" class="u-tt-more">Êü•ÁúãËØ¶ÊÉÖ ></a>                            </p>                            <a class="u-info" href="{{fantuanUrl}}" target="_blank">                                <span class="u-title">{{title}}</span>                                <span class="u-desc">{{content}}</span>                            </a>                            <span class="u-img">                                <a href="{{fantuanUrl}}" target="_blank"><img alt="" src="{{img}}"></a>                            </span>                            <span class="u-fromwhere">                                Êù•Ëá™È•≠Âõ¢Ôºö<a href="{{fantuanUrl}}" target="_blank">{{messageTypeName}}</a>                            </span>                        </li>                        {{/items}}                        <div class="c-header-msg-more">                            <a class="u-allmsg" href="//i.mgtv.com/my/message?type=5&from=nav" target="_blank">ÂÖ®ÈÉ®Ê∂àÊÅØ</a>                        </div>                    </ul>{{/showFantuan}}                    {{#showSystem}}                        {{#isNull}}<p class="c-header-msg-null">ËøòÊ≤°ÊúâÊî∂Âà∞‰ªª‰ΩïÊ∂àÊÅØ</p>{{/isNull}}                        <ul class="c-header-msg-list">                        {{#items}}                        <li class="c-header-msg-system" data-id="{{id}}">                            <p class="u-txttime">                                <span class="u-tt-date"><em></em>{{date}}</span>                                <a href="//i.mgtv.com/my/message?type=4&from=nav" target="_blank" class="u-tt-more">Êü•ÁúãËØ¶ÊÉÖ ></a>                            </p>                            <a class="u-info" href="{{link}}" target="_blank">                                <span class="u-title">{{title}}</span>                                <span class="u-desc">{{content}}</span>                            </a>                        </li>                        {{/items}}                        <div class="c-header-msg-more">                            <a class="u-allmsg" href="//i.mgtv.com/my/message?type=4&from=nav" target="_blank">ÂÖ®ÈÉ®Ê∂àÊÅØ</a>                        </div>                    </ul>{{/showSystem}}                    {{/needLogin}}',msgLoading:'<p class="c-header-msg-null"><i class="c-header-icon c-header-icon-loading"></i></p>'};var e=function(){var e="//courier.bz.mgtv.com";this.unreadCntUrl=e+"/v2/message/poll?",this.msgUrl=e+"/v2/message/getList?",this.t=null,this.hasInit=!1,this.reset()};e.prototype.reset=function(){m={1:{hasUnread:!1,unread:0},2:{hasUnread:!1,unread:0},5:{hasUnread:!1,unread:0},4:{hasUnread:!1,unread:0}}},e.prototype.init=function(e){var a,s=this;e=e||{};(s.tpl=t.msgCenterTpl,s.box=$("#honey-header-msg"),s.noteMsg=$(".c-header-msg-lucky"),s.sysMsg=$(".c-header-msg-ac"),s.trigger=$("#honey-header-msg .c-header-panel-floattg"),s.boxMsg=$("#honey-header-msg .c-header-panel-floatbox"),s.UNREAD_MSG_LOOP=e.refresh||3600,s.bindEvent(),c())?(a=this).afterUserReady.call(a):(a=this).userTimer=setTimeout(function(){c()&&!a.hasInit&&a.afterUserReady.call(a)},500);s.box.removeClass("c-header-panel-mod-active")},e.prototype.bindEvent=function(){var s=this,e=$(document);s.box.on("mouseenter",".c-header-msg",function(){s.t&&clearTimeout(s.t)}),s.box.on("click",".c-header-msg",function(){s.t&&clearTimeout(s.t)}),s.box.on("click",".js-login-btn",function(){t.loginDialog()}),s.box.on("click",".c-header-msg-tab li",function(){$(this).index();var e=$(this).data("type");if(s.lastShowType=e,!c())return setTimeout(function(){s.renderMsgPanel({type:e,messageList:[],needLogin:!0})},0),!0;s.getUnreadCnt(function(){s.getUserMsg(e)})}),s.box.on("mouseleave",function(){s.box.removeClass("c-header-panel-mod-active")}),s.trigger.click(function(e){if(e.preventDefault(),s.box.hasClass("c-header-panel-mod-active"))s.box.removeClass("c-header-panel-mod-active");else{s.t&&clearTimeout(s.t),t.watchRecord&&t.watchRecord.hide(),t.headerUser&&t.headerUser.hide(),o&&s.box.addClass("c-header-panel-mod-active");try{if(!s.DATAREPORT&&window.STK&&(s.DATAREPORT=new window.STK.start),s.DATAREPORT){var a={act:"pv",url:"http://www.mgtv.com/bdsfm/message",ref:window.location.href,bid:"1.1.2",cid:window.VIDEOINFO&&window.VIDEOINFO.rid?window.VIDEOINFO.rid:window.PAGE_DATA&&window.PAGE_DATA.cid?window.PAGE_DATA.cid:"",plid:window.VIDEOINFO&&window.VIDEOINFO.cid?window.VIDEOINFO.cid:"",vid:window.VIDEOINFO&&window.VIDEOINFO.vid?window.VIDEOINFO.vid:"",ext1:"",ext2:""};s.DATAREPORT.pageStart(a)}}catch(e){}if(!c())return s.renderMsgPanel({type:s.lastShowType||1,messageList:[],needLogin:!0}),!1;s.renderMsgPanel({type:s.lastShowType||1,messageList:[],needLogin:!1,loading:!0}),s.getUnreadCnt(function(){s.getUserMsg(s.lastShowType||1)})}}),e.on("HONEY-LOGIN-DONE",function(){s.afterUserReady()}),e.on("HONEY-LOGIN-SUCCESS",function(){s.afterUserReady()})},e.prototype.hide=function(){this.box.removeClass("c-header-panel-mod-active")},e.prototype.renderMsgPanel=function(e){var a=this,s="",t=e.loading,n=e.type,i=e.messageList,l=a.box.find(".c-header-panel-floattg em");if(a.box.addClass("c-header-panel-mod-active"),t)s=a.tpl.msgLoading,a.box.find(".c-header-msg").html(s).show();else{(new Date).getTime();for(var r=[],c=0;c<i.length;c++){i[c].sendTime;i[c].content=$("<div>"+i[c].content+"</div>").text(),i[c].avatar=i[c].avatar||{},i[c].avatar.m=i[c].avatar.m||"http://i5.hitv.com/s1/2017/static/user-avatar.png",0==i[c].readStatus&&(i[c].isNew=!0)}r=i.slice(0,2),5==n&&(r=i.slice(0,1)),m[n]={hasUnread:!1,unread:0};e={needLogin:e.needLogin,showComment:1==n,showZan:2==n,showFantuan:5==n,showSystem:4==n,hasNewComment:m[1].hasUnread,hasNewZan:m[2].hasUnread,hasNewFantuan:m[5].hasUnread,hasNewSystem:m[4].hasUnread,newComment:Math.min(m[1].unread,99),newZan:Math.min(m[2].unread,99),newFantuan:Math.min(m[5].unread,99),newSystem:Math.min(m[4].unread,99),isNull:r.length<1,items:r,unread:m},s=Mustache.render(a.tpl.msgList,e);a.box.find(".c-header-msg").html(s),0<m[1].unread+m[2].unread+m[5].unread+m[4].unread?l.css({visibility:"visible"}):l.css({visibility:"hidden"})}o=!0},e.prototype.getUnreadCnt=function(a){var e,s,t,n=this,i=0,l=n.box.find(".c-header-panel-floattg em");e={uuid:c(),ticket:r("HDCN").split("-")[0],from:1,cookie:r("__STKUUID")},$.getJSON(this.unreadCntUrl+$.param(e)+"&callback=?",function(e){if(e&&200==e.code&&e.data){for(n.UNREAD_MSG_LOOP=+e.data.interval,t=e.data.messageList,n.reset(),s=0;s<t.length;s++)i+=t[s].unread,t[s].messageType&&(m[t[s].messageType]={hasUnread:0<t[s].unread,unread:t[s].unread});0<i?l.css({visibility:"visible"}):l.css({visibility:"hidden"})}else l.css({visibility:"hidden"});a&&a()})},e.prototype.getUserMsg=function(t,e,a){var n=this,s={uuid:c(),ticket:r("HDCN").split("-")[0],from:1,cookie:r("__STKUUID"),messageType:t||"1",pageNo:e||1,pageSize:a||2};$.getJSON(this.msgUrl+$.param(s)+"&callback=?",function(e){if(e&&200==e.code&&e.data){var a,s=e.data.messageList||[];if(1==t||2==t)for(a=0;a<s.length;a++)s[a].link="https://www.mgtv.com/s/"+s[a].subjectId+".html?commentid="+s[a].commentId+"#-~-",s[a].spaceUrl="http://i.mgtv.com/u/"+s[a].uuid+"/dynamic.html",s[a].subjectTitle=i(s[a].subjectTitle),s[a].comment=i(s[a].comment),104==s[a].subjectType&&(s[a].klass="u-qo-fantuan",s[a].subjectTitle=i(s[a].fantuanName),s[a].link="https://www.mgtv.com/fantuan/"+s[a].fantuanId+"/list.html?feedid="+s[a].subjectId);else if(5==t)for(a=0;a<s.length;a++)s[a].fantuanUrl="https://www.mgtv.com/fantuan/"+s[a].messageType+"/list.html",s[a].title=i(s[a].title),s[a].content=i(s[a].content);else if(4==t)for(a=0;a<s.length;a++)s[a].link=s[a].link||"//i.mgtv.com/my/message?type=4&from=nav",s[a].title=i(s[a].title),s[a].content=i(s[a].content);n.renderMsgPanel({type:t,messageList:s})}})},e.prototype.afterUserReady=function(){var e=this;e.hasInit=!0,e.userTimer&&clearTimeout(e.userTimer),e.getUnreadCnt(),e.msgLoop()},e.prototype.msgLoop=function(){var e=this,a=1;setInterval(function(){a%e.UNREAD_MSG_LOOP==0&&e.getUnreadCnt(),a++},1e3)};var r=function(e){var a=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),s=document.cookie.match(a);return s?s[1]:""},c=function(){return!!(window.USER&&window.USER.data&&window.USER.data.uid)&&window.USER.data.uid};t.msgCenter=new e});
;/*tpl/watch.record.v5 üëâ*/;honey.def("lib:mustache",function(s){s.watchRecordTpl={newList:'<div class="c-header-record-box">                    <div class="c-header-record-filter">                        <i class="u-check" mg-stat-click=""><i class="u-check u-filter-btn {{#isFilter}}u-ok{{/isFilter}}"></i></i>                        <span class="u-tips">ËøáÊª§Áü≠ËßÜÈ¢ë</span>                    </div>                    {{#items}}                        <ul class="c-header-record-list">                            <h5 class="u-time">                                <i class="u-dot"></i>                                <span class="u-date">{{name}}</span>                            </h5>                            {{#data}}                            <li class="u-item u-item-{{classes}}">                                <i class="u-device u-device-{{classes}}"><svg class="svg-{{classes}}"><use xlink:href="#header-{{classes}}"/></svg></i>                                <span class="u-progress">{{#isEnd}}Â∑≤ÁúãÂÆå{{/isEnd}}{{^isEnd}}Â∑≤ËßÇÁúã{{/isEnd}}<b>{{^isEnd}}{{rate}}{{/isEnd}}</b></span>                                {{#isEnd}}                                    <a class="u-title" href="{{videoUrl}}?refer=i1&start_time=0" target="_blank">{{name}}</a>                                {{/isEnd}}                                {{^isEnd}}                                    <a class="u-title" href="{{videoUrl}}?refer=i1&start_time={{watchTime}}" target="_blank">{{name}}</a>                                {{/isEnd}}                                <span class="u-do">                                    {{#isEnd}}                                    <a class="u-do-item u-do-replay" href="{{videoUrl}}?refer=i1&start_time=0" target="_blank">                                        <svg class="svg-play"><use xlink:href="#header-play"/></svg></a>                                    {{/isEnd}}                                    {{^isEnd}}                                    <a class="u-do-item u-do-goon" href="{{videoUrl}}?refer=i1&start_time={{watchTime}}" target="_blank">                                        <svg class="svg-play"><use xlink:href="#header-play"/></svg></a>                                    {{/isEnd}}                                    {{#hasNextVideoUrl}}                                    <a class="u-do-item u-do-next" href="{{nextVideoUrl}}?refer=i1&start_time=0" target="_blank">                                    <svg class="svg-next"><use xlink:href="#header-next"/></svg></a>                                    {{/hasNextVideoUrl}}                                    <a class="u-do-item u-do-delete" mg-stat-click="" mg-stat-lob="vid={{playId}}" href="javascript:void(0);" vid="{{playId}}">                                    <svg class="svg-close"><use xlink:href="#header-close"/></svg></a>                                </span>                            </li>                            {{/data}}                        </ul>                    {{/items}}                </div>                <div class="c-header-msg-more">                    <a class="u-allmsg" href="//i.mgtv.com/my/watch" target="_blank">Êü•ÁúãÂÖ®ÈÉ®</a>                </div>',newNone:'<p class="c-header-record-null">                    <i class="u-icon"></i>                    <span class="u-tips">ÊÇ®ËøòÊ≤°ÊúâËßÇÁúã‰ªª‰ΩïËßÜÈ¢ë</span>                </p>',loading:'<p class="c-header-msg-null"><i class="c-header-icon c-header-icon-loading"></i></p>'}});
;/*widget/watch.record.v5 üëâ*/;honey.def("lib:jquery, lib:mustache, tpl:watch.record",function(h){"use strict";var r=!0,e=function(){var e="//u.api.mgtv.com/user";this.watchUrl=e+"/new_watch_record?callback=?",this.delWatchUrl=e+"/remove_watch_record?callback=?",this.delAllWatchUrl=e+"/destroy_watch_record?callback=?",this.SendHistoryUrl="//u.api.mgtv.com/user/get_history_info?",this.t=null,this.DATAREPORT=null,this.isFilter=parseInt($.jcookie("watch_record_filter"))||0};function p(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),r=document.cookie.match(t);return r?r[1]:""}e.prototype.init=function(){var e=this;e.tpl=h.watchRecordTpl,e.wrapper=$("#honey-header-record"),e.box=e.wrapper.find(".c-header-record"),e.trigger=e.wrapper.find(".c-header-panel-floattg"),e.wrapperBox=$("#honey-header-record  .c-header-panel-floatbox"),e.user=window.USER||{code:-101,data:null},e.bindEvent()},e.prototype.updateUser=function(){this.user=window.USER||{code:-101,data:null}},e.prototype.bindEvent=function(){var s=this;$(document).on("HONEY-LOGIN-DONE",function(){s.updateUser.call(s)}),s.wrapper.on("mouseenter",".c-header-record",function(){s.t&&clearTimeout(s.t)}),s.wrapper.on("click",".c-header-record",function(){s.t&&clearTimeout(s.t)}),s.box.on("click",".u-do-delete",function(e){e.preventDefault();var o=$(this),n=o.attr("vid"),d=o.parents("ul.c-header-record-list"),c=d.find("li").length,l=o.parents(".c-header-record-box").find("li.u-item").length;if(6!=h.ie&&!p("HDCN")&&window.store){var r=[],t=window.store.get("honey-rec");if($.each(t,function(e,t){t.video_id.toString()!==n&&r.push(t)}),window.store.set("honey-rec",r),1==c&&d.hide(),1==l){var i=s.tpl.newNone,a=Mustache.render(i,{});return void s.box.html(a)}return o.parents("li").remove(),!1}$.ajax({url:s.delWatchUrl+"&video_id="+n,dataType:"jsonp",success:function(e){if(e)if(200==e.code){if(1==c&&d.hide(),1==l){var t=s.tpl.newNone,r=Mustache.render(t,{});return void s.box.html(r)}if(o.parents("li").remove(),6!=h.ie&&!p("HDCN")&&window.store){var i=[],a=window.store.get("honey-rec");$.each(a,function(e,t){t.video_id!==n&&i.push(t)}),window.store.set("honey-rec",i)}}else alert("ÊÇ®Â•ΩÔºåÂà†Èô§Â§±Ë¥•ÔºåËØ∑Á®çÁ≠â")}})}),s.box.on("click",".u-empty",function(e){e.preventDefault(),s.clearAll()}),s.wrapper.on("mouseleave",function(){s.wrapper.removeClass("c-header-panel-mod-active")}),s.trigger.click(function(e){if(e.preventDefault(),$(".c-header-panel-mod").removeClass("c-header-panel-mod-active"),s.wrapper.hasClass("c-header-panel-mod-active"))s.wrapper.removeClass("c-header-panel-mod-active");else{s.t&&clearTimeout(s.t),h.msgCenter&&h.msgCenter.hide(),h.headerUser&&h.headerUser.hide(),s.wrapper.addClass("c-header-panel-mod-active");try{if(!s.DATAREPORT&&window.STK&&(s.DATAREPORT=new window.STK.start),s.DATAREPORT){var t={act:"pv",url:"http://www.mgtv.com/bdsfm/playlist",ref:window.location.href,bid:"1.1.2",cid:window.VIDEOINFO&&window.VIDEOINFO.rid?window.VIDEOINFO.rid:window.PAGE_DATA&&window.PAGE_DATA.cid?window.PAGE_DATA.cid:"",plid:window.VIDEOINFO&&window.VIDEOINFO.cid?window.VIDEOINFO.cid:"",vid:window.VIDEOINFO&&window.VIDEOINFO.vid?window.VIDEOINFO.vid:"",ext1:"",ext2:""};s.DATAREPORT.pageStart(t)}}catch(e){}if(6!=h.ie&&!p("HDCN")&&window.store){t=window.store.get("honey-rec")||[];r&&(s.box.html(Mustache.render(s.tpl.loading,{})),s.requestUnLoginUrl(t))}r&&(s.box.html(Mustache.render(s.tpl.loading,{})),s.requestUrl(),r=!1)}}),s.box.on("click",".u-filter-btn",function(){if($(this).hasClass("u-ok")?($(this).removeClass("u-ok"),s.isFilter=0):($(this).addClass("u-ok"),s.isFilter=1),$.jcookie("watch_record_filter",s.isFilter,{expires:9e3,domain:".mgtv.com",path:"/"}),6!=h.ie&&!p("HDCN")&&window.store){var e=window.store.get("honey-rec")||[];s.requestUnLoginUrl(e)}else s.requestUrl()})},e.prototype.hide=function(){this.wrapper.removeClass("c-header-panel-mod-active")},e.prototype.requestUnLoginUrl=function(e){var t=this,r=e.slice(0,10);e={did:p("__STKUUID"),playList:JSON.stringify(r),isFilter:t.isFilter};$.ajax({url:t.SendHistoryUrl,dataType:"jsonp",data:e,success:function(e){if(e&&"200"==e.code&&e.data&&0<e.data.size)t.renderWatchPanel(e,r);else{t.renderWatchPanel({data:{list:[],size:0}})}}})},e.prototype.requestUrl=function(){var t=this,e={isFilter:t.isFilter};$.ajax({url:t.watchUrl,data:e,dataType:"jsonp",success:function(e){if(e&&"200"==e.code&&e.data&&0<e.data.size)t.renderWatchPanel(e),r=!1;else{t.renderWatchPanel({data:{list:[],size:0}}),r=!1}}})},e.prototype.renderWatchPanel=function(e,t){var r,i=this,a=0,o=e.data.list,n=e.data.size?i.tpl.newList:i.tpl.newNone;for(a=0;a<o.length;a++){var d=o[a];0==d.data.length&&(o.splice(a,1),a--);for(var c=0;c<d.data.length;c++){var l=d.data[c];l.isEnd=parseInt(l.isEnd),l.classes="2"==l.from?"phone":"3"==l.from?"pad":"4"==l.from?"tv":"5"==l.from?"tv":"6"==l.from?"phone":"pc",l.hasNextVideoUrl=""!=l.nextVideoUrl,"0"==l.playId&&(l.playId=t[c].video_id)}}r=Mustache.render(n,{logined:""!=p("HDCN"),items:o,isFilter:i.isFilter}),i.box.html(r),!0},e.prototype.clearAll=function(){var t=this;if(!p("HDCN")&&window.store)return window.store.clear(),void t.renderWatchPanel({data:[]});$.getJSON(t.delAllWatchUrl,function(e){e&&200==e.code&&t.renderWatchPanel({data:[]})})},h.watchRecord=new e});
;/*tpl/header.userinfo.v5 üëâ*/;honey.def("lib:mustache",function(a){a.headerUserTpl={menu:'{{^islogin}}<a class="c-header-login c-header-panel-link" href="javascript:void(0)" mg-stat-click="direct=cntp&addr=c_personal">ÁôªÂΩï</a> {{/islogin}}{{#islogin}}<a class="c-header-avt" href="javascript:void(0)" mg-stat-click="direct=cntp&addr=c_personal"><img src="{{user.avatar}}" alt="{{user.nickname}}"></a>{{/islogin}}',panel:'<div class="c-header-panel-floatbox c-header-user" mg-stat-mod="c_personal"><div class="c-header-user-info"><a class="u-loginout" href="{{logout_url}}">ÈÄÄÂá∫</a><a class="u-avt" href="//i.mgtv.com/my" target="_blank"><img class="u-avt-pic" src="{{user.avatar}}" alt="">{{#user.isVipLike}}<i class="{{user.vipIcon}}" style="display:block;"><svg class="svg-pc"><use xlink:href="#header-fullscreenvip"/></svg></i>{{/user.isVipLike}}</a><a class="u-name" href="//i.mgtv.com/my" target="_blank">{{user.nickname}}</a>{{#isshow}}<p class="u-point" style="height:20px;margin:10px 0 12px;line-height:20px;font-size:12px;text-align:center;"><span class="pic" style="display:inline-block;margin-right:5px;vertical-align:-3px;"><img src="//img.mgtv.com/imgotv-member/jifen/jf-ico.png" width="16" height="16"></span><span class="pot" node-type="honey-balance-pot" style="margin-right:8px;color:#aaa;">{{balance}}ÁßØÂàÜ</span><a class="rec" node-type="honey-balance-tips" href="//i.mgtv.com/my/lottery?fpa=header" style="color:#ff6f00;" mg-stat-custom="label=header-userAvatar-score">{{lotteryTitle}}</a></p>{{/isshow}}{{#user.isVipLike}}<span class="u-status"><span class="{{vip}}">{{user.vipInfo}}</span></span>{{/user.isVipLike}}{{#user.isVipLike}}<span class="u-vipdate">{{user.vipTime}}<a class="open-vip-dialog" clocation="6" href="javascript:void(0);" mg-stat-click="direct=cntp&addr=c_pay"><em>{{user.vipActName}}</em></a></span>{{/user.isVipLike}}{{#user.notVip}}<a class="u-vipbtn open-vip-dialog" clocation="0" href="javascript:void(0);" mg-stat-click="direct=cntp&addr=c_pay">ÂºÄÈÄö‰ºöÂëò</a>{{/user.notVip}}</div><div class="c-header-user-box"><a href="//i.mgtv.com" target="_blank" class="c-hub-tab"><i class="c-header-icon c-header-icon-home"><svg class="svg-home"><use xlink:href="#header-home"/></svg></i>‰∏ªÈ°µ</a><a href="//i.mgtv.com/my/setting" target="_blank" class="c-hub-tab"><i class="c-header-icon c-header-icon-set"><svg class="svg-set"><use xlink:href="#header-set"/></svg></i>ËÆæÁΩÆ</a><a href="//www.mgtv.com/vip/" target="_blank" class="c-hub-tab"><i class="c-header-icon c-header-icon-uservip"><svg class="svg-uservip"><use xlink:href="#header-vip"/></svg></i>‰ºöÂëò</a><a href="//i.mgtv.com/my/card" target="_blank" class="c-hub-tab"><i class="c-header-icon c-header-icon-ticket"><svg class="svg-ticket"><use xlink:href="#header-ticket"/></svg></i>Âç°Âà∏</a><a href="//wan.mgtv.com/?from=mgtvsite" target="_blank" class="c-hub-tab"><i class="c-header-icon c-header-icon-game"><svg class="svg-game"><use xlink:href="#header-game"></use></svg></i>Ê∏∏Êàè</a><a href="//i.mgtv.com/vm/video" target="_blank" class="c-hub-tab c-hub-tab-other"><i class="c-header-icon c-header-icon-management"><svg class="svg-management"><use xlink:href="#header-management"></use></svg></i>ÁÆ°ÁêÜ</a><a href="//i.mgtv.com/vm/video/upload" target="_blank" class="c-hub-tab c-hub-tab-other"><i class="c-header-icon c-header-icon-update"><svg class="svg-update"><use xlink:href="#header-update"></use></svg>                            </i>‰∏ä‰º†</a></div></div>'}});
;/*widget/header.userinfo.v5 üëâ*/;honey.def("lib:jquery, lib:mustache, tpl:header.userinfo",function(c){"use strict";var o=!1,e=function(){this.menu_render=!1,this.panel_render=!1,this.t_render=null,this.t=null,this.len=function(e){return e.replace(/[^\x00-\xff]/g,"xx").length}},i=navigator.userAgent.toLowerCase();function p(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),o=document.cookie.match(t);return o?o[1]:""}e.prototype.init=function(e){var t=this;t.opt=e||{},t.tpl=c.headerUserTpl,t.box=$("#honey-header-user"),t.buyVip=$("#header-buyvip"),t.publicParams={uuid:""==p("uuid")?"":p("uuid"),ticket:""==p("HDCN")?"":p("HDCN").match(/\b\w+\b/g)[0],mac:""==p("__STKUUID")?"00000000-0000-0000-0000-000000000000":p("__STKUUID"),platform:"4",device:"",appVersion:"",osType:"",abroad:""};setTimeout(function(){window.getLotteryEnter||o||t.getLotteryEnter(function(){t.getLotteryMount()})},200);window.USER===undefined||t.menu_render||(t.t_render=setTimeout(function(){t.renderMenu.call(t)},500)),t.bindEvent()},e.prototype.getLotteryEnter=function(t){if(!/windows nt 10.0/i.test(i))return!1;$.ajax({url:"//task.bz.mgtv.com/credits/url",type:"get",data:this.publicParams,dataType:"jsonp",success:function(e){e&&e.data&&e.data.show&&1==e.data.show&&(window.lotteryEnterData=e.data,$("[node-type=f-getlottery]").show(),$("[node-type=member-total-mount]").show(),p("isCloseMemberLottery")?p("isCloseMemberLottery")!=n()?$("[node-type=sidebar-lottery-icon]").html(e.data.icon).show():$("[node-type=sidebar-lottery-icon]").hide():$("[node-type=sidebar-lottery-icon]").html(e.data.icon).show(),window.getLotteryEnter=e.data,o=!0,e.data.show&&t&&t())}})},e.prototype.getLotteryMount=function(){var e=this;e.publicParams.uuid=""==p("uuid")?"":p("uuid"),e.publicParams.ticket=""==p("HDCN")?"":p("HDCN").match(/\b\w+\b/g)[0],$.ajax({url:"//credits.bz.mgtv.com/user/creditsBalance",type:"get",data:e.publicParams,dataType:"jsonp",success:function(e){e&&200==e.code&&(window.getLotteryMount=e.data.balance,$("[node-type=honey-balance-pot]").html(e.data.balance+"ÁßØÂàÜ"),$("[node-type=sidebar-total-point],[node-type=content-total-point],[node-type=detail-total-point]").html(e.data.balance))}})},e.prototype.bindEvent=function(){var t=this,e=$(document);e.on("HONEY-LOGIN-DONE",function(){t.renderMenu(),t.getLotteryEnter(function(){t.getLotteryMount()})}),e.on("HONEY-LOGIN-ERR",function(){t.renderMenu(),t.getLotteryEnter()}),e.on("HONEY-BALANCE-UPDATE",function(){t.getLotteryMount()}),e.on("HONEY-LOTTERY-ENTER",function(){t.getLotteryEnter()}),t.box.on("mouseleave",function(){t.box.removeClass("c-header-panel-mod-active")}),t.box.on("click","a.c-header-login",function(){c.loginDialog?c.loginDialog():window.location.href="//i.mgtv.com/account/login"}),t.box.on("click","a.c-header-register",function(e){e.preventDefault(),c.loginDialog?c.loginDialog("","register"):window.location.href="//i.mgtv.com/account/login?type=register&from=http%3A%2F%2Fwww.mgtv.com%2F"}),t.box.on("click","a.c-header-avt",function(){t.t&&clearTimeout(t.t);var e=$(this).offset().left;t.renderUserPanel(e)}),t.box.on("mouseenter",".c-header-user",function(){t.t&&clearTimeout(t.t)})},e.prototype.hide=function(){this.box.removeClass("c-header-panel-mod-active")},e.prototype.renderMenu=function(){var e=this,t=window.USER||{code:-101,data:null};t.data&&(t.data.avatar=t.data.avatar||"//img.mgtv.com/imgotv-member/user/avt.jpg"),e.t_render&&clearTimeout(e.t_render);var o=Mustache.render(c.headerUserTpl.menu,{islogin:200==~~t.code,user:t.data});t.data&&(1==t.data.isvip||2==t.data.isvip&&-t.data.vipLeft<16)&&e.setVipText(),e.box.html(o),e.menu_render=!0,e.user=t,this.buyVip.show()},e.prototype.sendModulePv=function(){var e=this;try{if(!e.DATAREPORT&&window.STK&&(e.DATAREPORT=new window.STK.start),e.DATAREPORT){var t={act:"pv",url:"http://www.mgtv.com/bdsfm/uc",ref:window.location.href,bid:"1.1.2",cid:window.VIDEOINFO&&window.VIDEOINFO.rid?window.VIDEOINFO.rid:window.PAGE_DATA&&window.PAGE_DATA.cid?window.PAGE_DATA.cid:"",plid:window.VIDEOINFO&&window.VIDEOINFO.cid?window.VIDEOINFO.cid:"",vid:window.VIDEOINFO&&window.VIDEOINFO.vid?window.VIDEOINFO.vid:"",ext1:"",ext2:""};e.DATAREPORT.pageStart(t)}}catch(o){}},e.prototype.setVipText=function(){$(".c-header-panel-buyvip").html('<i class="c-header-icon c-header-panel-icon c-header-icon-buyvip"><svg class="svg-openvip"><use xlink:href="#header-openvip"/></svg></i>Á´ãÂç≥Áª≠Ë¥π'),$(".c-header-panel-buyvip").attr("clocation","61401")},e.prototype.renderUserPanel=function(){var t=this,e=t.tpl.panel;if(t.user&&200==~~t.user.code){if(this.sendModulePv(),t.panel_render)return c.msgCenter&&c.msgCenter.hide(),c.watchRecord&&c.watchRecord.hide(),void t.box.addClass("c-header-panel-mod-active");var o=window.location.href,i=o.substring(0,o.indexOf("#")),n=""==i?o:i,a=$.extend(!0,{},t.user.data);if(a.isVipLike=!1,1==a.isvip)a.vipIcon="u-avt-vip",1==a.vip_id?(a.vipInfo="pcÁßªÂä®ÂΩ±ËßÜ‰ºöÂëò",a.vipIcon="u-avt-vip u-avt-vip-pc",a.isVipLike=!0):2==a.vip_id?(a.vipInfo="ÂÖ®Â±èÂΩ±ËßÜ‰ºöÂëò",a.vipIcon="u-avt-vip u-avt-vip-all",a.isVipLike=!0):a.vipInfo="‰ºöÂëòÊúâÊïàÊúü",a.vipTime="ÊúâÊïàÊúüËá≥Ôºö"+a.vipExpiretime,a.vipActName="Áª≠Ë¥π",t.setVipText();else if(2==a.isvip){var r=-a.vipLeft;a.vipIcon="",a.vipTime="",r<16?(a.vipActName="Áª≠Ë¥π",a.vipTime="‰ºöÂëòÂ∑≤ËøáÊúü"+r+"Â§©",a.vipIcon="u-avt-vip u-avt-vip-expire",a.isVipLike=!0,t.setVipText()):a.vipActName="ÂºÄÈÄö‰ºöÂëò"}else 3==a.isvip&&(a.vipIcon="",a.vipTime="",a.vipActName="ÂºÄÈÄö‰ºöÂëò",a.vipInfo="");a.notVip=!a.isVipLike;var d=Mustache.render(e,{user:a,logout_url:function(){return"//i.mgtv.com/account/logout?from="+encodeURIComponent(n)},isshow:window.getLotteryEnter&&window.getLotteryEnter.show||0,lotteryTitle:window.getLotteryEnter&&window.getLotteryEnter.title||"",balance:window.getLotteryMount||0});t.box.append(d),$("[node-type=honey-balance-pot]").html(window.getLotteryMount+"ÁßØÂàÜ"),c.msgCenter&&c.msgCenter.hide(),c.watchRecord&&c.watchRecord.hide(),t.box.addClass("c-header-panel-mod-active"),t.panel_render=!0,$.ajax({url:"//upgc.api.mgtv.com/upgc/verify?"+$.param({ticket:p("HDCN").split("-")[0],reqtype:"jsonp"}),type:"POST",dataType:"jsonp",jsonpCallback:"mgtvcallback_upgc_verify",success:function(e){e&&200==e.code&&$(".c-header-user-box",t.box).addClass("c-hub-other")}})}};var n=function(){var e=new Date;return""+e.getFullYear()+e.getMonth()+e.getDate()};c.headerUser=new e});
;/*plugin/stk üëâ*/;!function(e,t,o){"undefined"!=typeof module&&module.exports?module.exports=o():"function"==typeof define&&define.amd?define(o):t.Fingerprint=o()}(0,this,function(){"use strict";var e=function(e){var s,t;s=Array.prototype.forEach,t=Array.prototype.map,this.each=function(e,t,o){if(null!==e)if(s&&e.forEach===s)e.forEach(t,o);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(t.call(o,e[n],n,e)==={})return}else for(var r in e)if(e.hasOwnProperty(r)&&t.call(o,e[r],r,e)==={})return},this.map=function(e,n,i){var r=[];return null==e?r:t&&e.map===t?e.map(n,i):(this.each(e,function(e,t,o){r[r.length]=n.call(i,e,t,o)}),r)},"object"==typeof e?(this.hasher=e.hasher,this.screen_resolution=e.screen_resolution,this.screen_orientation=e.screen_orientation,this.canvas=e.canvas,this.ie_activex=e.ie_activex):"function"==typeof e&&(this.hasher=e)};return e.prototype={get:function(){var e=[];if(e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),this.screen_resolution){var t=this.getScreenResolution();void 0!==t&&e.push(t.join("x"))}return e.push((new Date).getTimezoneOffset()),e.push(this.hasSessionStorage()),e.push(this.hasLocalStorage()),e.push(this.hasIndexDb()),document.body?e.push(typeof document.body.addBehavior):e.push(typeof undefined),e.push(typeof window.openDatabase),e.push(navigator.cpuClass),e.push(navigator.platform),e.push(navigator.doNotTrack),e.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&e.push(this.getCanvasFingerprint()),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},murmurhash3_32_gc:function(e,t){var o,n,i,r,s,a,c,u;for(o=3&e.length,n=e.length-o,i=t,s=3432918353,a=461845907,u=0;u<n;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(r=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295)<<15|c>>>17))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(c=0,o){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<15|c>>>17))*a+(((c>>>16)*a&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},hasIndexDb:function(){try{return!!window.indexedDB}catch(e){return!0}},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){return this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],function(e){try{return new ActiveXObject(e),e}catch(t){return null}}).join(";")}return""},getScreenResolution:function(){return this.screen_orientation?screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height]:[screen.height,screen.width]},getCanvasFingerprint:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),o="http://valve.github.io";return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(o,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(o,4,17),e.toDataURL()}},e}),function(i){"use strict";var s,r,o,a,e;i?function(){var e=i.crypto||i.msCrypto;if(!s&&e&&e.getRandomValues)try{var t=new Uint8Array(16);a=s=function(){return e.getRandomValues(t),t},s()}catch(n){}if(!s){var o=new Array(16);r=s=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}():function(){if("function"==typeof require)try{var e=require("crypto").randomBytes;o=s=e&&function(){return e(16)},s()}catch(t){}}();for(var c="function"==typeof Buffer?Buffer:Array,u=[],d={},t=0;t<256;t++)u[t]=(t+256).toString(16).substr(1),d[u[t]]=t;function h(e,t){var o=t||0,n=u;return n[e[o++]]+n[e[o++]]+n[e[o++]]+n[e[o++]]+"-"+n[e[o++]]+n[e[o++]]+"-"+n[e[o++]]+n[e[o++]]+"-"+n[e[o++]]+n[e[o++]]+"-"+n[e[o++]]+n[e[o++]]+n[e[o++]]+n[e[o++]]+n[e[o++]]+n[e[o++]]}var n=s(),f=[1|n[0],n[1],n[2],n[3],n[4],n[5]],w=16383&(n[6]<<8|n[7]),p=0,v=0;function g(e,t,o){var n=t&&o||0;"string"==typeof e&&(t="binary"===e?new c(16):null,e=null);var i=(e=e||{}).random||(e.rng||s)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var r=0;r<16;r++)t[n+r]=i[r];return t||h(i)}var l=g;l.v1=function(e,t,o){var n=t&&o||0,i=t||[],r=null!=(e=e||{}).clockseq?e.clockseq:w,s=null!=e.msecs?e.msecs:(new Date).getTime(),a=null!=e.nsecs?e.nsecs:v+1,c=s-p+(a-v)/1e4;if(c<0&&null==e.clockseq&&(r=r+1&16383),(c<0||p<s)&&null==e.nsecs&&(a=0),1e4<=a)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=s,w=r;var u=(1e4*(268435455&(s+=122192928e5))+(v=a))%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=255&u;var d=s/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=255&d,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=r>>>8|128,i[n++]=255&r;for(var g=e.node||f,l=0;l<6;l++)i[n+l]=g[l];return t||h(i)},l.v4=g,l.parse=function(e,t,o){var n=t&&o||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[n+i++]=d[e])});i<16;)t[n+i++]=0;return t},l.unparse=h,l.BufferClass=c,l._rng=s,l._mathRNG=r,l._nodeRNG=o,l._whatwgRNG=a,"undefined"!=typeof module&&module.exports?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):(e=i.uuid,l.noConflict=function(){return i.uuid=e,l},i.honeyUuid=l)}("undefined"!=typeof window?window:null),function(e){"use strict";var m={},t="",c="//pcweb-v1.log.mgtv.com/dispatcher.do",s=!0;m.lastModify="2015-06-29 15:18:07",m.isIvt=0,m.name="ËäíÊûúTVÊï∞ÊçÆ‰∏äÊä•";m.wver=window.VIDEOINFO&&window.VIDEOINFO.wver?window.VIDEOINFO.wver:"https:"==location.protocol?"pcweb-5.6.33":"5.6.33";var u,o,n,i,r,d,g,l,a=window.top;if(a!=window)try{m.topurl=a.location.href}catch(b){a=window}m.log=function(e){null!=document.getElementById("STK_debug_console")?document.getElementById("STK_debug_console").innerHTML+=e+" | ":window.console&&window.console.log("["+m.log.debugid+++"] "+e)},m.log.isDebug=-1,m.log.debugid=1,m.$={},m.E=(o=Object.prototype.toString,n=Object.prototype.hasOwnProperty,i={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Object]":"object"},r=function(e){return null==e?String(e):i[o.call(e)]||"object"},d=Array.isArray||function(e){return"array"===r(e)},g=function(e){if(!e||"object"!==r(e)||e.nodeType||(t=e)&&"object"==typeof t&&"setInterval"in t)return!1;var t,o;if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1;for(o in e);return o===undefined||n.call(e,o)},{extend:l=function(){var e,t,o,n=arguments[0]||{},i=1,r=arguments.length,s=!1;for("boolean"==typeof n&&(s=n,n=arguments[1]||{},i=2),"object"!=typeof n&&(n={});i<r;i++)if(null!=(o=arguments[i]))for(e in o){var a=n[e],c=o[e];n!==c&&(s&&c&&(g(c)||(u=d(c)))?(u?(u=!1,t=a&&d(a)?a:[]):t=a&&g(a)?a:{},n[e]=l(s,t,c)):c!==undefined&&(n[e]=c))}return n}}),m.$.cookie={set:function(e,t,o,n,i){if(o){var r=new Date;1==o?(r.setDate(r.getDate()+1),r.setHours(0),r.setMinutes(0),r.setSeconds(0)):r.setTime(r.getTime()+864e5*o)}return document.cookie=e+"="+t+"; "+(o?"expires="+r.toGMTString()+"; ":"")+(i?"path="+i+"; ":"path=/; ")+(n?"domain="+n+";":"domain="+window.location.host+";"),!0},get:function(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),o=document.cookie.match(t);return o?o[1]:""},del:function(e,t,o){var n=new Date;n.setTime(n.getTime()-1),document.cookie=e+"=; expires="+n.toGMTString()+";"+(o?"path="+o+"; ":"path=/; ")+(t?"domain="+t+";":"domain="+window.location.host+";")}};var y,h,f,w,p,v;if(y=m.$,function(t){var e=t.match(/MQQBrowser\/(\d+\.\d+)/i),o=(t.match(/QQ\/(\d+\.(\d+)\.(\d+)\.(\d+))/i)||t.match(/V1_AND_SQ_([\d\.]+)/),t.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/)||t.match(/MicroMessenger\/((\d+)\.(\d+))/),t.match(/Mac\sOS\sX\s(\d+(\_|\.)\d+)/)),n=t.match(/Windows(\s+\w+)?\s+?(\d+\.\d+)/),i=t.match(/MiuiBrowser\/(\d+\.\d+)/i),r=t.match(/MI-ONE/),s=t.match(/MI PAD/),a=t.match(/UCBrowser\/(\d+\.\d+(\.\d+\.\d+)?)/)||t.match(/\sUC\s/),c=t.match(/IEMobile(\/|\s+)(\d+\.\d+)/)||t.match(/WPDesktop/),u=t.match(/(iphone)\sos\s([\d_]+)/i),d=t.match(/Chrome\/(\d+\.\d+)/),g=t.match(/Mozilla.*Linux.*Android.*AppleWebKit.*Mobile Safari/),l=t.match(/(android)\s([\d\.]+)/i),h=(t.indexOf("HTC"),navigator.userAgent.toLowerCase()),f=/ipad/.test(h);if(y.browser=y.browser||{},y.os=y.os||{},window.ActiveXObject){var w=6;(window.XMLHttpRequest||-1<t.indexOf("MSIE 7.0"))&&(w=7),(window.XDomainRequest||-1<t.indexOf("Trident/4.0"))&&(w=8),-1<t.indexOf("Trident/5.0")&&(w=9),-1<t.indexOf("Trident/6.0")&&(w=10),y.browser.ie=!0,y.browser.version=w}else-1<t.indexOf("Trident/7.0")&&(y.browser.ie=!0,y.browser.version=11);l&&(this.os.android=!0,this.os.version=l[2],this.os.sys=l[1]),f&&(this.os.ios=this.os.ipad=!0,this.os.version=parseInt(navigator.userAgent.match(/os\s+(\d+)/i)[1]-0,10)),u&&(this.os.iphone=this.os.ios=!0,this.os.version=u[2].replace(/_/g,"."),this.os.sys=u[1]),n&&(this.os.windows=!0,this.os.version=n[2],this.os.windows=this.os.sys="window"),o&&(this.os.Mac=!0,this.os.version=o[1],this.os.Mac=this.os.sys="MAC"),0<t.indexOf("lepad_hls")&&(this.os.LePad=!0),s&&(this.os.MIPAD=!0),e&&(this.browser.MQQ=!0,this.browser.version=e[1]),i&&(this.browser.MIUI=!0,this.browser.version=i[1]),a&&(this.browser.UC=!0,this.browser.version=a[1]||NaN),c&&(this.browser.IEMobile=!0,this.browser.version=c[2]),g&&(this.browser.AndriodBrowser=!0),r&&(this.browser.M1=!0),d&&(this.browser.Chrome=!0,this.browser.version=d[1]),this.os.windows&&("undefined"!=typeof navigator.platform&&"win64"==navigator.platform.toLowerCase()?this.os.win64=!0:this.os.win64=!1);var p={iPad7:"iPad; CPU OS 7",LePad:"lepad_hls",XiaoMi:"MI-ONE",SonyDTV:"SonyDTV",SamSung:"SAMSUNG",HTC:"HTC",VIVO:"vivo"};for(var v in p)this.os[v]=-1!==t.indexOf(p[v]);y.os.phone=y.os.phone||/windows phone/i.test(t),this.os.getNumVersion=function(){return parseFloat(y.os.version,"10")},this.os.hasTouch="ontouchstart"in window,this.os.hasTouch&&this.os.ios&&this.os.getNumVersion()<6&&(this.os.hasTouch=!1),m.E.extend(!0,y.browser,{getNumVersion:function(){return parseFloat(y.browser.version,"10")},uaMatch:function(){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}})}.call(y,navigator.userAgent),function(){var e=navigator.userAgent.toLowerCase(),t={isUc:/ucweb/.test(e),isChrome:-1!==navigator.userAgent.indexOf("Chrome"),isFirefox:/firefox/.test(e),isOpera:/opera/.test(e),isSafire:/safari/.test(e)&&!/chrome/.test(e),is360:/360se/.test(e),isBaidu:/bidubrowser/.test(e),isSougou:/metasr/.test(e),isIE6:/msie 6.0/.test(e),isIE7:/msie 7.0/.test(e),isIE8:/msie 8.0/.test(e),isIE9:/msie 9.0/.test(e),isIE10:/msie 10.0/.test(e),isIE11:/msie 11.0/.test(e),isLB:/lbbrowser/.test(e),isWX:/micromessenger/.test(e),isQQ:/qqbrowser/.test(e)};for(var o in t)t.hasOwnProperty(o)&&t[o]&&(y.browser.brName=o)}(),function(){var e=navigator.userAgent.toLowerCase(),t={isIpad:/ipad/.test(e),isIphone:/iphone os/.test(e),isAndroid:/android/.test(e),isWindowsCe:/windows ce/.test(e),isWindowsMobile:/windows mobile/.test(e),isWin2K:/windows nt 5.0/.test(e),isXP:/windows nt 5.1/.test(e),isVista:/windows nt 6.0/.test(e),isWin7:/windows nt 6.1/.test(e),isWin8:/windows nt 6.2/.test(e),isWin81:/windows nt 6.3/.test(e)};for(var o in t)t.hasOwnProperty(o)&&t[o]&&(y.os.sys=o)}(),h=m.$,f={getWindowWH:function(){return[window.screen.width,window.screen.height]},noop:function(){},isString:function(e){return"string"===h.type(e)},isUndefined:function(e){return"undefined"===h.type(e)},now:function(){return(new Date).getTime()},mouseCoords:function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.body.scrollLeft-document.body.clientLeft,y:e.clientY+document.body.scrollTop-document.body.clientTop}},getHost:function(){var e=window.location.hostname||window.location.host,t=location.host.split(".");return 1<t.length&&(e=t.slice(t.length-2).join(".")),e},createPar:function(e){var t="";for(var o in e)""!=t&&(t+="&"),t+=o+"="+encodeURIComponent(e[o]);return t},filterXSS:function(e){return h.isString(e)?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;"):e},getJsonp:function(e,t){var o,n;if("string"==typeof e)var i=e.indexOf("?");o=e+function(e,t){var o,n=[];for(o in t)n.push(escape(t)+"="+escape(t[o]));return 0<n.length?(-1==e?"?":"&")+n.join("&"):""}(i,t),(n=document.createElement("script")).type="text/javascript",n.setAttribute("charset","utf-8"),n.readyState?n.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||(this.onreadystatechange=null,document.body.removeChild(this))}:n.onload=function(){document.body.removeChild(this)},n.setAttribute("src",o),document.body.appendChild(n)},createGUID:function(){m.$.getJsonp("//guids.api.mgtv.com/pc/distribute.do?callback=STK.$.getGUID",{t:(new Date).getTime()})},getGUID:function(e){200==e.status?(t=e.data,m.$.cookie.set("__MQGUID",t,9e3,".mgtv.com")):m.log("GUIDÂä†ËΩΩÂ§±Ë¥•")},getUA:function(){return navigator.userAgent.toLowerCase()},getTimer:function(e){var t=new Date,o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};if(/(y+)/.test(e))for(var n in e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)),o)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return e},stkuuid:function(){return m.$.globalStorage()},globalStorage:function(){var e=window.localStorage,t="",o=m.$.cookie.get("__STKUUID");if(e)try{""!==o&&e.setItem("__STKUUID",o),(t=e.getItem("__STKUUID"))||(t=window.honeyUuid(),e.setItem("__STKUUID",t),m.$.cookie.set("__STKUUID",t,9e3,".mgtv.com"))}catch(n){""==o?(t=window.honeyUuid(),m.$.cookie.set("__STKUUID",t,9e3,".mgtv.com")):t=o}else""==o?(t=window.honeyUuid(),m.$.cookie.set("__STKUUID",t,9e3,".mgtv.com")):t=o;return t},getRequest:function(e,t){var o=void 0!==t?t.substring(t.indexOf("?")):location.search,n={};if(-1!=o.indexOf("?"))for(var i=0,r=o.substr(1).split("&");i<r.length;i+=1)n[r[i].split("=")[0]]=unescape(r[i].split("=")[1]);var s=n[e.toLowerCase()];return void 0===s?"":s},uuid:function(){return m.$.cookie.get("uuid")},getCxid:function(e){var t=m.$.getRequest(e)||"",o=location.referrer||document.referrer,n=/mgtv/g.test(o);return""===o||n||""!=t||(t="8kpqp21m4cm"),t},sessionid:function(e){var t=m.$.cookie.get("sessionid"),o=m.$.cookie.get("lastActionTime")||0,n=m.$.getCxid("cxid")||"",i="";""!=n&&m.$.cookie.get("sessionid").indexOf("_")<0&&(i="_"+n);var r=function(e){""!=e&&(i="_"+e),t=h.now(),m.$.cookie.set("sessionid",t.toString()+i,1,".mgtv.com"),t=t.toString()};return e&&""!=n&&m.$.getRequest("cxid",document.referrer)!=n?s&&(r(n),s=!1):""==t?r(n):18e5<h.now()-parseInt(o,10)&&r(n),m.$.cookie.set("lastActionTime",h.now().toString(),1,".mgtv.com"),t.toString()+i},getWver:function(){return m.wver},setSessionStorage:function(e,t){try{t=t||window.honeyUuid(),window.sessionStorage&&e?window.sessionStorage.setItem(e,t):window["__"+e+"__"]=t}catch(b){window["__"+e+"__"]=t}return t},getSessionStorage:function(e){var t="";try{t=window.sessionStorage&&e?window.sessionStorage.getItem(e):window["__"+e+"__"]}catch(b){t=window["__"+e+"__"]}return t},getsUUID:function(e,t){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}).toUpperCase()},createUUID:function(e){return m._create_uuid||(m._create_uuid=m.$.getsUUID()),e&&(m._create_uuid=m.$.getsUUID()),m._create_uuid},getPageCatogry:function(e){var t=/http:\/\/([^\/]+)/i;var o,n,i={"^/$":0,"^/show/$":1,"^/movie/$":3,"^/tv/$":2,"^/cartoon/$":4,"^/child/$":5,"^/music/$":6,"^/live/$":7,"^/v/\\d{1,3}/\\d+/$":10,"^/v/\\d{1,3}/\\d+/[a-z]/\\d+\\.html$":11},r=e.replace(t,""),s={"www.mgtv.com":0,"so.mgtv.com":9,"list.mgtv.com":8,"live.mgtv.com":7,"i.mgtv.com":12}[(o=e,n=o.match(t),null!=n&&0<n.length?n[1]:"")],a="";if(a=0<r.indexOf("?")?r.substring(0,r.indexOf("?")):0<r.indexOf("#")?r.substring(0,r.indexOf("#")):r,0==s){var c,u=13;for(c in i){var d=!1,g=new RegExp(c);try{d=g.test(a)}catch(l){}d&&(u=i[c])}return u}return s||13}},m.E.extend(!0,h,f),(w=m).$,w.BasePlayer=function(){this.config={}},w.BasePlayer.prototype={log:function(e){window.console&&window.console.log(e)}},m.defaultConfig={},m.wver_ipad="","isIpad"==m.$.os.sys){var x=m.wver.replace(/pcweb-/,"padweb-");m.wver_ipad=x}m.playerConfig={url:window.location.href,bid:"isIpad"==m.$.os.sys?"4.1.2":"1.1.2",time:m.$.getTimer("yyyyMMddhhmmss"),guid:"",ch:m.$.getCxid("cxid"),sessionid:m.$.sessionid(!0),cookie:m.$.globalStorage(),suuid:m.$.getsUUID(),wver:"isIpad"==m.$.os.sys?m.wver_ipad:m.wver,plid:"",vid:"",cid:"",uuid:m.$.cookie.get("uuid"),wuid:"",pix:m.$.getWindowWH()[0]+"X"+m.$.getWindowWH()[1],ref:document.referrer||"",uvip:"1"==m.$.cookie.get("vipStatus")?"1":"0",nfid:new Fingerprint({screen_resolution:!0}).get()+m.$.getWindowWH()[0]+"X"+m.$.getWindowWH()[1]+m.$.os.sys,rdc:m.$.getRequest("dc")||""},m.pvConfig={url:window.location.href,bid:"isIpad"==m.$.os.sys?"4.1.2":"1.1.2",time:m.$.getTimer("yyyyMMddhhmmss"),guid:"",uuid:m.$.cookie.get("uuid"),cookie:m.$.globalStorage(),ch:m.$.getCxid("cxid"),wver:"isIpad"==m.$.os.sys?m.wver_ipad:m.wver,sessionid:m.$.sessionid(!0),suuid:m.$.getsUUID(),pix:m.$.getWindowWH()[0]+"X"+m.$.getWindowWH()[1],ref:document.referrer||"",uvip:"1"==m.$.cookie.get("vipStatus")?"1":"0",nfid:new Fingerprint({screen_resolution:!0}).get()+m.$.getWindowWH()[0]+"X"+m.$.getWindowWH()[1]+m.$.os.sys,rdc:m.$.getRequest("dc")||""},v=(p=m).$,p.start=function(){this.config={},p.E.extend(!1,this.config,p.playerConfig)},p.start.fn=p.start.prototype=new p.BasePlayer,p.E.extend(!0,p.start.fn,{create:function(e,t,o,n){o||(o=p.playerConfig),t||(t=c),n=n||[];var i=p.$.cookie.get("MQGUID");""==i&&(e,p.$.createGUID()),e.guid=i;for(var r=p.E.extend(!1,o,e),s=0;s<n.length;s++)delete r[n[s]];var a=p.$.createPar(r);new Image(1,1).src=t+"?"+a},ivtData:function(){window.VIDEOINFO&&window.VIDEOINFO.vid&&0==p.isIvt&&(new Image(1,1).src="https://v13-"+VIDEOINFO.vid+".z.irs01.com?p=v13&ts="+v.now(),p.isIvt++)},pageBtn:function(e){e=e||{},this.create(e)},pageStart:function(e,t,o){e=e||{},p.defaultConfig=p.playerConfig,this.create(e,t,null,o),this.ivtData()},pageEvent:function(e,t){e=e||{},t=t||"//pcweb-v1.log.mgtv.com/dispatcher.do",p.defaultConfig=p.pvConfig,this.create(e,t,p.pvConfig)},pagePv:function(e,t){e=e||{},t=t||c,p.defaultConfig=p.pvConfig,this.create(e,t,p.pvConfig),this.ivtData()}}),e.STK=m}(this);
;/*tpl/vipDialog üëâ*/;honey.def("lib:mustache",function(s){s.vipPayMiniDialogTpl={list:'<div class="vipDialog-top"><div class="user">{{^isLogin}}<a href="javascript:void(0)" class="im"><img src="https://img.mgtv.com/imgotv-member/user/avt.jpg"></a><p><i>ËØ∑</i><b class="vip-pay-mini-dialog-login">ÁôªÂΩï</b><i>ÊÇ®ÁöÑË¥¶Âè∑ÔºÅ</i></p>{{/isLogin}}{{#isLogin}}{{#userData}}<a href="javascript:void(0)" class="im"><img src="{{avatar}}"></a><span class="name">{{nickname}}</span>{{#isPCVip}}<i class="vip"><img src="//i5.hitv.com/s1/2018/mzdlpz/vip-pc-1.png"></i>{{/isPCVip}}{{#isQPVip}}<i class="vip"><img src="//i5.hitv.com/s1/2018/mzdlpz/vip-all-1.png"></i>{{/isQPVip}}{{/userData}}<a href="javascript:void(0)" class="btn VMD-change-login-btn">ÂàáÊç¢Ë¥¶Âè∑</a>{{/isLogin}}</div><a href="javascript:void(0);" class="close honey-vip-dialog-destroy"></a><span class="VMD_ad" style="display:none;"><i class="l"></i><i class="r"></i><i class="w"></i><a target="_blank" href="{{bannerUrl}}" class="VMD_ad_h"><img src="{{bannerIamge}}" class="VMD_ad_i"></a></span></div><div class="VMD-head"><p class="nav"><a href="javascript:void(0);" class="vipBtn {{#isPCVipType}}select{{/isPCVipType}}"><span>PCÁßªÂä®ÂΩ±ËßÜ‰ºöÂëò</span><b>(ÁîµËÑë„ÄÅÊâãÊú∫„ÄÅPAD)</b><i></i></a><a href="javascript:void(0);" class="superBtn {{#isQPVipType}}select{{/isQPVipType}} "><span>ÂÖ®Â±èÂΩ±ËßÜ‰ºöÂëò</span><b>ÔºàTV„ÄÅÁõíÂ≠ê„ÄÅÁîµËÑë„ÄÅÊâãÊú∫„ÄÅPADÔºâ</b><i></i></a></p></div><div class="VMD-con"><div class="content guides"><div class="VMD-product-con" id="VMD-product-con"><a class="prev" href="javascript:void(0)"><i></i></a><div class="pay-ment-list"><ul class="VMD-product-wrap">{{#data}}<li class="VMD-product-list {{#discount_tips}}mon{{/discount_tips}}" renew="{{renew}}" productid="{{id}}" vipID="{{vip_id}}" price="{{price}}"><span></span><span class="select"></span>{{#header}}<span class="icon">{{header}}</span>{{/header}}<p class="price">¬•<i class="money">{{price}}</i>/{{name}}</p>{{#discount_tips}}<p class="info"><span>{{discount_tips}}</span></p>{{/discount_tips}}</li>{{/data}}</ul></div><a class="next" href="javascript:void(0)"><i></i></a></div>{{#data}}<div node-type="VMD-product-child" productidDIV="{{id}}" class="VMD-product-child"><p class="VMD-payment-wrap {{#twoPay}}twoPay{{/twoPay}} {{#threePay}}threePay{{/threePay}} {{#fourPay}}fourPay{{/fourPay}}" node-type="pay-nav">{{#class_list}}<a type="{{type}}" price="{{showPrice}}" payment="{{showpayment}}" class="VMD-payment-list {{type}}">{{name}}{{#new}}<i></i>{{/new}}<b>{{name}}</b></a>{{/class_list}}<a type="card" class="VMD-payment-list">ÂÖëÊç¢Á†ÅÊîØ‰ªò<b>ÂÖëÊç¢Á†ÅÊîØ‰ªò</b></a></p>{{#class_list}}{{#isQRCode}}<div class="VMD-pay VMD-pay-dhm VMD-pay-QRCode {{#isSelect}}show{{/isSelect}}{{^isSelect}}hide{{/isSelect}}" node-type="VMD-pay-QRCode"><div class="VMD-pay-form {{^v_s}}VMD-pay-noDJJ{{/v_s}} {{#hasWeiPayMent}}hasWeiPayMent{{/hasWeiPayMent}}"><div class="ticket-main {{#hasDJQ}}ticket-main-duo{{/hasDJQ}}">{{#showLogin}}<div class="tik-1" style="display:;"><a class="djj-login-btn"><em>ÁôªÂΩï</em>Êü•Áúã‰ΩøÁî®‰ª£ÈáëÂà∏</a></div> {{/showLogin}}{{#hasDJQ}}<div class="tik-2 ticket"><p class="tik-t1"><input class="djj-check" checked="checked" name="rem" type="checkbox">Êú¨ÂçïÊúâ {{DJQnumber}} Âº†‰ª£ÈáëÂà∏ÂèØ‰ΩøÁî®</p><p class="tik-t3">‰ΩøÁî®Ôºö</p><div class="tik-sel {{#hasDuoDJQ}}djj-xiala-open{{/hasDuoDJQ}}">{{#hasDuoDJQ}}<span class="btnico"></span>{{/hasDuoDJQ}}<p class="select-txt" djjID="{{showDJJID}}" djjPrice="{{showDJJAmount}}"><span class="st-type" ><i class="select-money">{{showDJJAmount}}</i>ÂÖÉ‰ª£ÈáëÂà∏</span><span class="st-date"><i class="select-time">{{showDJJTip}}</i>Âà∞Êúü</span></p><div class="tikbox"><i class="i-ico"></i><div class="tikul"><ul class="ullist DJJ-ullist">{{#DJJList}}<li djjID="{{id}}" djjPrice="{{amount}}"><div class="li-box"><p class="pleft"><span class="t1 djj-money">{{amount}}</span><span class="t2">ÂÖÉ</span></p><p class="pright"><i class="djj-time">{{tips}}</i><em>Âà∞Êúü</em></p></div></li>{{/DJJList}}</ul></div></div></div><a class="tik-t2 dhm-open-dialog"><em>ÂÖëÊç¢‰ª£ÈáëÂà∏</em><span class="t3-ico"></span></a><a href="javascript:void(0)" class="a-xuzhi xuzhi-open"><i></i>‰ΩøÁî®È°ªÁü•</a></div>\t{{/hasDJQ}}{{#noDJJ}}<div class="tik-2"><p class="tik-t1">ÊÇ®Êúâ 0 Âº†‰ª£ÈáëÂà∏ÂèØ‰ΩøÁî®</p><a class="tik-t2 dhm-open-dialog"><em>ÂÖëÊç¢‰ª£ÈáëÂà∏</em></a></div>{{/noDJJ}}<div class="tik-3"><span class="t3-ico"></span><p class="t3-input"><span class="input-txt dhh-code-ele"><input type="text" name="dhm-code" placeholder="‰ª£ÈáëÂà∏ÂÖëÊç¢Á†Å"></span><span class="input-txt int96 dhh-yzm-ele"><input type="text" name="dhm-yzm" placeholder="È™åËØÅÁ†Å"></span><span class="yzm-img"><img id="yzm_img" src="//i.mgtv.com/vcode??" action-type="refresh" alt=""></span><b class="txterr"><i>ÂÖëÊç¢‰∏≠...</i></b><a class="duihuan">Á´ãÂç≥ÂÖëÊç¢</a></p></div>{{#v_s}}<div class="tik-4">(‰∏ÄÊ¨°ÊîØ‰ªòÂè™ËÉΩ‰ΩøÁî®‰∏ÄÂº†‰ª£ÈáëÂà∏ÔºåÂèØÊäµÁî®Èù¢È¢ùËåÉÂõ¥ÂÜÖÈáëÈ¢ùÔºå‰ΩôÈ¢ù‰∏ç‰∫àÈÄÄËøò)<span class="t3-ico"></span></div>{{/v_s}}</div><p class="pm con1"><a class="con1-l"><i class="vmd-code-fresh">Âà∑Êñ∞</i><i class="vmd-code-success">ÊîØ‰ªòÊàêÂäü</i><em><img class="code_image" src="//i5.hitv.com/s1/2016/yuanxiao/qrcode.jpg" alt="" /><span class="canvas_image"><img src="//i5.hitv.com/s1/2016/yuanxiao/qrcode.jpg" alt="" /></span></em></a><span class="con1-r"><span class="a-money"><b class="money">{{showPrice}}</b>ÂÖÉ<i style="display:none" class="youhui youhuiEle">ÔºàÂ∑≤‰ºòÊÉ†<em class="youhui-money">0</em>ÂÖÉÔºâ</i></span><span class="tips">‰ΩøÁî®<b class="zhifubao">ÊîØ‰ªòÂÆù</b><b class="weixin">ÔºåÂæÆ‰ø°</b>Êâ´‰∏ÄÊâ´</span><span class="icon"><i>ËΩªÊùæÊîØ‰ªòÔºÅ</i><i class="zhifubao"></i><i class="weixin"></i></span></span></span></p><p class="pm ts2"><label for=""><input node-type="QRCode-pay" checked="checked" name="rem" type="checkbox"><a href="//order.mgtv.com/pc/protocol" target="_blank">ÂêåÊÑèËäíÊûúTV‰ªòË¥πÂçèËÆÆ</a></label>{{#isRenew}}<label for="" class="QRCode-pay-auto-label"><input node-type="QRCode-pay-auto" checked="checked" name="rem" type="checkbox"><a href="//order.mgtv.com/pc/renewprotocol" target="_blank">ÂêåÊÑèËäíÊûúTVËá™Âä®Áª≠Ë¥πÂçèËÆÆ</a></label>{{/isRenew}}</p></div></div>{{/isQRCode}}{{#isPhone}}<div class="VMD-pay VMD-pay-phone {{#isSelect}}show{{/isSelect}}{{^isSelect}}hide{{/isSelect}} " node-type="VMD-pay-phone"><div class="VMD-pay-form VMD-phone"><div class="VMD-box"><p class="pm p-price"><span class="txt"><em>Ôø•<i node-type="VMD-phone-money">{{yingfuPrice}}</i></em></span><span class="name">ËøêËê•ÂïÜÂÆö‰ª∑{{showPrice}}/Êúà</span></p><p class="pm p-input"><span class="txt"><input type="text" id="phoneNumber"></span><span class="err-1" style="display:none;">ÊâãÊú∫Âè∑Á†ÅËæìÂÖ•ÈïøÂ∫¶ÊúâËØØ</span><span class="err-2" style="display:none;">Êä±Ê≠âÔºåÁé∞Âú®‰ªÖÊîØÊåÅ‰∏≠ÂõΩÁßªÂä®Áî®Êà∑</span></p><p class="pm p-button"><a href="javascript:void(0)" class="btn" type="phone" action-type="VMD-pay-submit-btn">‰∏ã‰∏ÄÊ≠•</a></p><p class="pm pts"><b>Ê∏©È¶®ÊèêÁ§∫Ôºö</b><br><span>1„ÄÅ‰ΩøÁî®ËØùË¥πÊîØ‰ªòÈªòËÆ§ÂºÄÈÄöËá™Âä®Áª≠Ë¥πÂäüËÉΩÔºåÊØèÊúàÁî±ËøêËê•ÂïÜ‰ªéÈÄöËÆØË¥¶Êà∑‰∏≠‰ª£‰∏∫Êâ£Áº¥„ÄÇ</span><br><span>2„ÄÅÁõÆÂâçÂ∑≤ÊîØÊåÅÁßªÂä®„ÄÅËÅîÈÄöÂíåÁîµ‰ø°Áî®Êà∑ÔºåÂÆö‰ª∑‰∏∫20ÂÖÉ/Êúà„ÄÇ</span><br><span>3„ÄÅÈÄÄËÆ¢ÊñπÂºèÔºöÁßªÂä®Áî®Êà∑ÈÄÄËÆ¢ÊñπÂºèÔºöÂèëÈÄÅTD2285Âà∞1065890059,ËÅîÈÄöÁî®Êà∑ÈÄÄËÆ¢ÊñπÂºèÔºöÂèëÈÄÅTDÂà∞10655198665,Áîµ‰ø°Áî®Êà∑ÈÄÄËÆ¢ÊñπÂºèÔºöÊã®ÊâìÁîµËØù4008289289ËøõË°åÈÄÄËÆ¢„ÄÇ</span><br><span>4„ÄÅÂú®‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÊÇ®ÈÅáÂà∞ÈóÆÈ¢òÔºåËØ∑ËÅîÁ≥ªÂÆ¢ÊúçÁîµËØùÔºö4006770707ÔºàÂ∑•‰ΩúÊó∂Èó¥8ÁÇπ-24ÁÇπÔºâÔºåËäíÊûúTVÂ∞ÜÁ´≠ËØö‰∏∫ÊÇ®ÊúçÂä°„ÄÇ</span><br></p><p class="pm pts xieyi"><label for=""><input type="checkbox" node-type="phone-pay" checked="checked" name="rem"><a href="//order.mgtv.com/pc/protocol" target="_blank">ÂêåÊÑèËäíÊûúTV‰ªòË¥πÂçèËÆÆ</a></label> <label for=""><input type="checkbox" node-type="phone-pay-auto" checked="checked" name="rem"><a href="//order.mgtv.com/pc/renewprotocol" target="_blank">ÂêåÊÑèËäíÊûúTVËá™Âä®Áª≠Ë¥πÂçèËÆÆ</a></label></p></div></div></div>{{/isPhone}}{{/class_list}}<div class="VMD-pay VMD-pay-card hide" node-type="VMD-pay-card"><div class="VMD-pay-form VMD-pay-code "><div class="code-form"><p class="cfz"><i>‰ΩøÁî®ÂÖëÊç¢Á†ÅÁ´ãÂç≥ÂÖëÊç¢Ôºå‰∫´ËäíÊûúTVÁ≤æÂΩ©‰ºöÂëòÊùÉÁõäÔºÅ</i></p><p class="cfz"><a target="_blank" href="http://i.mgtv.com/vip/exchange/page" class="btn">Á´ãÂç≥ÂÖëÊç¢</a></p><p class="cfz nz"><em>Ê∏©È¶®ÊèêÁ§∫Ôºö</em>ÊøÄÊ¥ª‰ºöÂëò‰∏çÊîØÊåÅÈÄâÊã©Êó∂ÈïøÔºå‰ºöÂëòÂºÄÈÄöÊó∂ÈïøËØ∑‰ª•‰ºöÂëòÂç°Áõ∏ÂÖ≥ËØ¥Êòé‰∏∫ÂáÜ„ÄÇ</p></div></div></div></div>{{/data}}</div></div><div class="VMD-pay-tips-dialog VMD-pay-wait-tips-dialog"><div class="tips-h1"><span>Ê∏©È¶®ÊèêÁ§∫<i></i></span><a href="javascript:void(0);" class="tip-close"></a></div><div class="tips-con"><span>ËØ∑Âú®Êñ∞ÊâìÂºÄÁöÑÊîØ‰ªòÈ°µÈù¢ÂÆåÊàê‰ªòÊ¨æ</span><p>1„ÄÅÊîØ‰ªòÂÆåÊàêÂâçËØ∑‰∏çË¶ÅÂÖ≥Èó≠Á™óÂè£<br>2„ÄÅÊîØ‰ªòÂÆåÊàêÂêéËØ∑Ê†πÊçÆÁªìÊûúÈÄâÊã©</p><div class="tips-btn"><a href="javascript:void(0);" class="a-ok">‰ªòÊ¨æÊàêÂäü</a><a href="javascript:void(0);" class="a-other">ÈÄâÊã©ÂÖ∂‰ªñÊîØ‰ªòÊñπÂºè</a></div></div><div style="width:365px; height:30px; margin:50px auto 0; color:red;text-align:left;">Ê≥®ÔºöÂ¶ÇÁî®ËØùË¥πÊîØ‰ªòÊú™ÊâìÂºÄÊîØ‰ªòÈ°µÈù¢ÔºåËØ∑ÁÇπÂáªÂÖÅËÆ∏ÂºπÂá∫Êñ∞Á™óÂè£</div></div><div class="VMD-pay-tips-dialog VMD-pay-fail-tips-dialog"><div class="tips-h1"><span>Ê∏©È¶®ÊèêÁ§∫<i></i></span><a href="javascript:void(0);" class="tip-close"></a></div><div class="tips-con"><span class="span-fail">ÊîØ‰ªòÂ§±Ë¥•</span><div class="tips-btn"><a class="a-again" href="javascript:void(0);">ÈáçÊñ∞ÊîØ‰ªò</a><a href="javascript:void(0);" class="a-cancel">ÂèñÊ∂à</a></div></div></div><div class="VMD-pay-tips-dialog VMD-pay-success-tips-dialog"><div class="tips-h1"><span>Ê∏©È¶®ÊèêÁ§∫<i></i></span><a href="javascript:void(0);" class="tip-close"></a></div><div class="tips-con"><span class="span-fail">ÊîØ‰ªòÊàêÂäü</span><div class="tips-btn"><a class="a-success honey-vip-dialog-destroy" href="javascript:void(0);">ÂÖ≥Èó≠ÂºπÁ™ó</a></div></div></div><div class="VMD-pay-tips-dialog VMD-pay-bad-tips-dialog"><div class="tips-h1"><span>Ê∏©È¶®ÊèêÁ§∫<i></i></span><a href="javascript:void(0);" class="tip-close"></a></div><div class="tips-con"><span class="span-paused">ÂºÄÈÄöÂ§±Ë¥•</span><p class="pay-failed-msg"></p><div class="tips-btn"><a class="a-success a-pause" href="javascript:void(0);">Á°ÆËÆ§</a></div></div></div>'}});
;/*mod/music-fluxes üëâ*/;"use strict";honey.def("lib:jquery, lib:mustache",function(t){(t.musicFluxes=function(t){var i=$("#"+t.id),o=0<=navigator.userAgent.toLowerCase().indexOf("ipad");if(0!=i.length&&(this.con={btnl:i.find(t.btnlCl||".btnl").hide(),btnr:i.find(t.btnrCl||".btnr").hide(),listBox:i.find(t.listBoxCl||".list-box"),list:i.find(t.listCl||".list")},this.con.item=this.con.list.find(t.itemSel||">li"),0!=this.con.item.length)){var n=this;this.conAttr={gap:t.gap||0,listWidth:0},this.conAttr.itemWidth=this.con.item.outerWidth(),this.con.item.each(function(t,i){n.conAttr.listWidth+=~~$(i).outerWidth()+~~n.conAttr.gap}),this.con.list.width(this.conAttr.listWidth),function(){var n=this,s=n.con,l="normal";s.btnl.on("click",function(){var t=s.listBox.scrollLeft()-s.listBox.outerWidth(),i=$(this);return s.listBox.stop().animate({scrollLeft:t},l,function(){0==s.listBox.scrollLeft()&&i.hide(),s.btnr.show()}),!1}),s.btnr.on("click",function(){var t=s.listBox.scrollLeft()+s.listBox.outerWidth(),i=$(this),o=n.conAttr.listWidth-s.listBox.outerWidth();return o<t&&(t=o-n.conAttr.gap),s.listBox.stop().animate({scrollLeft:t},l,function(){t==o-n.conAttr.gap&&i.hide(),s.btnl.show()}),!1}),window.RESIZEINTERVAL=100,$(window).on("onResizeEx",function(){n.showBtns()})}.call(this),this.showBtns(o)}}).prototype.showBtns=function(t){if(t)return this.con.listBox.css({"overflow-x":"scroll","-webkit-overflow-scrolling":"touch"}),!1;var i=this.con,o=i.btnr.show(),n=i.btnl.show(),s=i.listBox.outerWidth();if(this.conAttr.listWidth<=s+this.conAttr.gap)return n.hide(),void o.hide();var l=parseInt(this.con.listBox.scrollLeft());0==l?(n.hide(),o.show()):s>=this.conAttr.listWidth-l&&(o.hide(),n.show())}});
;/*plugin/slimscroll üëâ*/;honey.def("lib:jquery",function(e){var O;(O=jQuery).fn.extend({slimScroll:function(H){var E=O.extend({width:"auto",height:"250px",size:"5px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"3px",railBorderRadius:"3px"},H);return this.each(function(){var o,e,s,i,r,a,l,n,c="<div></div>",h=30,u=!1,d=O(this);if(d.parent().hasClass(E.wrapperClass)){var p=d.scrollTop();if(b=d.parent().find("."+E.barClass),v=d.parent().find("."+E.railClass),C(),O.isPlainObject(H)){if("height"in H&&"auto"==H.height){d.parent().css("height","auto"),d.css("height","auto");var g=d.parent().parent().height();d.parent().css("height",g),d.css("height",g)}if("scrollTo"in H)p=parseInt(E.scrollTo);else if("scrollBy"in H)p+=parseInt(E.scrollBy);else if("destroy"in H)return b.remove(),v.remove(),void d.unwrap();y(p,!1,!0)}}else if(!(O.isPlainObject(H)&&"destroy"in H)){E.height="auto"==E.height?d.parent().height():E.height;var f=O(c).addClass(E.wrapperClass).css({position:"relative",overflow:"hidden",width:E.width,height:E.height});d.css({overflow:"hidden",width:E.width,height:E.height});var v=O(c).addClass(E.railClass).css({width:E.size,height:"100%",position:"absolute",top:0,display:E.alwaysVisible&&E.railVisible?"block":"none","border-radius":E.railBorderRadius,background:E.railColor,opacity:E.railOpacity,zIndex:90}),b=O(c).addClass(E.barClass).css({background:E.color,width:E.size,position:"absolute",top:0,opacity:E.opacity,display:E.alwaysVisible?"block":"none","border-radius":E.borderRadius,BorderRadius:E.borderRadius,MozBorderRadius:E.borderRadius,WebkitBorderRadius:E.borderRadius,zIndex:99}),w="right"==E.position?{right:E.distance}:{left:E.distance};v.css(w),b.css(w),d.wrap(f),d.parent().append(b),d.parent().append(v),E.railDraggable&&b.bind("mousedown",function(e){window.SCROLLISOPEN=!0;var i=O(document);return s=!0,t=parseFloat(b.css("top")),pageY=e.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,b.css("top",currTop),y(0,b.position().top,!1)}),i.bind("mouseup.slimscroll",function(e){window.SCROLLISOPEN=!1,s=!1,x(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),v.hover(function(){S()},function(){x()}),b.hover(function(){e=!0},function(){e=!1}),d.hover(function(){o=!0,S(),x()},function(){o=!1,x()}),d.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(r=e.originalEvent.touches[0].pageY)}),d.bind("touchmove",function(e){u||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(y((r-e.originalEvent.touches[0].pageY)/E.touchScrollStep,!0),r=e.originalEvent.touches[0].pageY)}),C(),"bottom"===E.start?(b.css({top:d.outerHeight()-b.outerHeight()}),y(0,!0)):"top"!==E.start&&(0<O(E.start).length&&y(O(E.start).position().top-10,null,!0),E.alwaysVisible||b.hide()),function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",m,!1),this.addEventListener("mousewheel",m,!1)):document.attachEvent("onmousewheel",m)}()}function m(e){if(o){var t=0;(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3);var i=e.target||e.srcTarget||e.srcElement;O(i).closest("."+E.wrapperClass).is(d.parent())&&y(t,!0),e.preventDefault&&!u&&e.preventDefault(),u||(e.returnValue=!1)}}function y(e,t,i){u=!1;var o=e,s=d.outerHeight()-b.outerHeight();if(t&&(o=parseInt(b.css("top"))+e*parseInt(E.wheelStep)/100*b.outerHeight(),o=Math.min(Math.max(o,0),s),o=0<e?Math.ceil(o):Math.floor(o),b.css({top:o+"px"})),o=(l=parseInt(b.css("top"))/(d.outerHeight()-b.outerHeight()))*(d[0].scrollHeight-d.outerHeight()),i){var r=(o=e)/d[0].scrollHeight*d.outerHeight();r=Math.min(Math.max(r,0),s),b.css({top:r+"px"})}d.scrollTop(o),d.trigger("slimscrolling",~~o),S(),x()}function C(){a=Math.max(d.outerHeight()/d[0].scrollHeight*d.outerHeight(),h),b.css({height:a+"px"});var e=a==d.outerHeight()?"none":"block";b.css({display:e})}function S(){if(C(),clearTimeout(i),l==~~l){if(u=E.allowPageScroll,n!=l){var e=0==~~l?"top":"bottom";d.trigger("slimscroll",e)}}else u=!1;n=l,a>=d.outerHeight()?u=!0:(b.stop(!0,!0).fadeIn("fast"),E.railVisible&&v.stop(!0,!0).fadeIn("fast"))}function x(){E.alwaysVisible||(i=setTimeout(function(){E.disableFadeOut&&o||e||s||(b.fadeOut("slow"),v.fadeOut("slow"))},1e3))}}),this}}),O.fn.extend({slimscroll:O.fn.slimScroll})});
;/*plugin/sha1 üëâ*/;var hexcase=0,b64pad="",chrsz=8;function hex_sha1(r){return binb2hex(core_sha1(str2binb(r),r.length*chrsz))}function b64_sha1(r){return binb2b64(core_sha1(str2binb(r),r.length*chrsz))}function str_sha1(r){return binb2str(core_sha1(str2binb(r),r.length*chrsz))}function hex_hmac_sha1(r,a){return binb2hex(core_hmac_sha1(r,a))}function b64_hmac_sha1(r,a){return binb2b64(core_hmac_sha1(r,a))}function str_hmac_sha1(r,a){return binb2str(core_hmac_sha1(r,a))}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc")}function core_sha1(r,a){r[a>>5]|=128<<24-a%32,r[15+(a+64>>9<<4)]=a;for(var n=Array(80),t=1732584193,h=-271733879,e=-1732584194,c=271733878,s=-1009589776,o=0;o<r.length;o+=16){for(var b=t,_=h,f=e,u=c,i=s,d=0;d<80;d++){n[d]=d<16?r[o+d]:rol(n[d-3]^n[d-8]^n[d-14]^n[d-16],1);var l=safe_add(safe_add(rol(t,5),sha1_ft(d,h,e,c)),safe_add(safe_add(s,n[d]),sha1_kt(d)));s=c,c=e,e=rol(h,30),h=t,t=l}t=safe_add(t,b),h=safe_add(h,_),e=safe_add(e,f),c=safe_add(c,u),s=safe_add(s,i)}return Array(t,h,e,c,s)}function sha1_ft(r,a,n,t){return r<20?a&n|~a&t:r<40?a^n^t:r<60?a&n|a&t|n&t:a^n^t}function sha1_kt(r){return r<20?1518500249:r<40?1859775393:r<60?-1894007588:-899497514}function core_hmac_sha1(r,a){var n=str2binb(r);16<n.length&&(n=core_sha1(n,r.length*chrsz));for(var t=Array(16),h=Array(16),e=0;e<16;e++)t[e]=909522486^n[e],h[e]=1549556828^n[e];var c=core_sha1(t.concat(str2binb(a)),512+a.length*chrsz);return core_sha1(h.concat(c),672)}function safe_add(r,a){var n=(65535&r)+(65535&a);return(r>>16)+(a>>16)+(n>>16)<<16|65535&n}function rol(r,a){return r<<a|r>>>32-a}function str2binb(r){for(var a=Array(),n=(1<<chrsz)-1,t=0;t<r.length*chrsz;t+=chrsz)a[t>>5]|=(r.charCodeAt(t/chrsz)&n)<<24-t%32;return a}function binb2str(r){for(var a="",n=(1<<chrsz)-1,t=0;t<32*r.length;t+=chrsz)a+=String.fromCharCode(r[t>>5]>>>24-t%32&n);return a}function binb2hex(r){for(var a=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",t=0;t<4*r.length;t++)n+=a.charAt(r[t>>2]>>8*(3-t%4)+4&15)+a.charAt(r[t>>2]>>8*(3-t%4)&15);return n}function binb2b64(r){for(var a="",n=0;n<4*r.length;n+=3)for(var t=(r[n>>2]>>8*(3-n%4)&255)<<16|(r[n+1>>2]>>8*(3-(n+1)%4)&255)<<8|r[n+2>>2]>>8*(3-(n+2)%4)&255,h=0;h<4;h++)8*n+6*h>32*r.length?a+=b64pad:a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>6*(3-h)&63);return a}
;/*mod/md5 üëâ*/;!function(n){"use strict";function d(n,t){var r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function f(n,t,r,e,o,u){return d((c=d(d(t,n),d(e,u)))<<(f=o)|c>>>32-f,r);var c,f}function g(n,t,r,e,o,u,c){return f(t&r|~t&e,n,t,o,u,c)}function l(n,t,r,e,o,u,c){return f(t&e|r&~e,n,t,o,u,c)}function v(n,t,r,e,o,u,c){return f(t^r^e,n,t,o,u,c)}function C(n,t,r,e,o,u,c){return f(r^(t|~e),n,t,o,u,c)}function i(n,t){n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;var r,e,o,u,c,f=1732584193,i=-271733879,a=-1732584194,h=271733878;for(r=0;r<n.length;r+=16)i=C(i=C(i=C(i=C(i=v(i=v(i=v(i=v(i=l(i=l(i=l(i=l(i=g(i=g(i=g(i=g(o=i,a=g(u=a,h=g(c=h,f=g(e=f,i,a,h,n[r],7,-680876936),i,a,n[r+1],12,-389564586),f,i,n[r+2],17,606105819),h,f,n[r+3],22,-1044525330),a=g(a,h=g(h,f=g(f,i,a,h,n[r+4],7,-176418897),i,a,n[r+5],12,1200080426),f,i,n[r+6],17,-1473231341),h,f,n[r+7],22,-45705983),a=g(a,h=g(h,f=g(f,i,a,h,n[r+8],7,1770035416),i,a,n[r+9],12,-1958414417),f,i,n[r+10],17,-42063),h,f,n[r+11],22,-1990404162),a=g(a,h=g(h,f=g(f,i,a,h,n[r+12],7,1804603682),i,a,n[r+13],12,-40341101),f,i,n[r+14],17,-1502002290),h,f,n[r+15],22,1236535329),a=l(a,h=l(h,f=l(f,i,a,h,n[r+1],5,-165796510),i,a,n[r+6],9,-1069501632),f,i,n[r+11],14,643717713),h,f,n[r],20,-373897302),a=l(a,h=l(h,f=l(f,i,a,h,n[r+5],5,-701558691),i,a,n[r+10],9,38016083),f,i,n[r+15],14,-660478335),h,f,n[r+4],20,-405537848),a=l(a,h=l(h,f=l(f,i,a,h,n[r+9],5,568446438),i,a,n[r+14],9,-1019803690),f,i,n[r+3],14,-187363961),h,f,n[r+8],20,1163531501),a=l(a,h=l(h,f=l(f,i,a,h,n[r+13],5,-1444681467),i,a,n[r+2],9,-51403784),f,i,n[r+7],14,1735328473),h,f,n[r+12],20,-1926607734),a=v(a,h=v(h,f=v(f,i,a,h,n[r+5],4,-378558),i,a,n[r+8],11,-2022574463),f,i,n[r+11],16,1839030562),h,f,n[r+14],23,-35309556),a=v(a,h=v(h,f=v(f,i,a,h,n[r+1],4,-1530992060),i,a,n[r+4],11,1272893353),f,i,n[r+7],16,-155497632),h,f,n[r+10],23,-1094730640),a=v(a,h=v(h,f=v(f,i,a,h,n[r+13],4,681279174),i,a,n[r],11,-358537222),f,i,n[r+3],16,-722521979),h,f,n[r+6],23,76029189),a=v(a,h=v(h,f=v(f,i,a,h,n[r+9],4,-640364487),i,a,n[r+12],11,-421815835),f,i,n[r+15],16,530742520),h,f,n[r+2],23,-995338651),a=C(a,h=C(h,f=C(f,i,a,h,n[r],6,-198630844),i,a,n[r+7],10,1126891415),f,i,n[r+14],15,-1416354905),h,f,n[r+5],21,-57434055),a=C(a,h=C(h,f=C(f,i,a,h,n[r+12],6,1700485571),i,a,n[r+3],10,-1894986606),f,i,n[r+10],15,-1051523),h,f,n[r+1],21,-2054922799),a=C(a,h=C(h,f=C(f,i,a,h,n[r+8],6,1873313359),i,a,n[r+15],10,-30611744),f,i,n[r+6],15,-1560198380),h,f,n[r+13],21,1309151649),a=C(a,h=C(h,f=C(f,i,a,h,n[r+4],6,-145523070),i,a,n[r+11],10,-1120210379),f,i,n[r+2],15,718787259),h,f,n[r+9],21,-343485551),f=d(f,e),i=d(i,o),a=d(a,u),h=d(h,c);return[f,i,a,h]}function a(n){var t,r="";for(t=0;t<32*n.length;t+=8)r+=String.fromCharCode(n[t>>5]>>>t%32&255);return r}function h(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;for(t=0;t<8*n.length;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}function e(n){var t,r,e="0123456789abcdef",o="";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),o+=e.charAt(t>>>4&15)+e.charAt(15&t);return o}function r(n){return unescape(encodeURIComponent(n))}function o(n){return a(i(h(t=r(n)),8*t.length));var t}function u(n,t){return function(n,t){var r,e,o=h(n),u=[],c=[];for(u[15]=c[15]=void 0,16<o.length&&(o=i(o,8*n.length)),r=0;r<16;r+=1)u[r]=909522486^o[r],c[r]=1549556828^o[r];return e=i(u.concat(h(t)),512+8*t.length),a(i(c.concat(e),640))}(r(n),r(t))}function t(n,t,r){return t?r?u(t,n):e(u(t,n)):r?o(n):e(o(n))}"function"==typeof define&&define.amd?define(function(){return t}):n.md5=t}(this);
;/*widget/vip.qrcode üëâ*/;function QR8bitByte(t){this.mode=QRMode.MODE_8BIT_BYTE,this.data=t}function QRCode(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function QRPolynomial(t,e){if(t.length==undefined)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}function QRRSBlock(t,e){this.totalCount=t,this.dataCount=e}function QRBitBuffer(){this.buffer=new Array,this.length=0}QR8bitByte.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},QRCode.prototype={addData:function(t){var e=new QR8bitByte(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=QRRSBlock.getRSBlocks(t,this.errorCorrectLevel),r=new QRBitBuffer,o=0,n=0;n<e.length;n++)o+=e[n].dataCount;for(n=0;n<this.dataList.length;n++){var i=this.dataList[n];r.put(i.mode,4),r.put(i.getLength(),QRUtil.getLengthInBits(i.mode,t)),i.write(r)}if(r.getLengthInBits()<=8*o)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(this.modules[t+r][e+o]=0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var o=QRUtil.getLostPoint(this);(0==r||o<t)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){var o=t.createEmptyMovieClip(e,r);this.make();for(var n=0;n<this.modules.length;n++)for(var i=1*n,a=0;a<this.modules[n].length;a++){var s=1*a;this.modules[n][a]&&(o.beginFill(0,100),o.moveTo(s,i),o.lineTo(s+1,i),o.lineTo(s+1,i+1),o.lineTo(s,i+1),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=QRUtil.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],n=t[r];if(null==this.modules[o][n])for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)this.modules[o+i][n+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a}},setupTypeNumber:function(t){for(var e=QRUtil.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(r=0;r<18;r++){o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,o=QRUtil.getBCHTypeInfo(r),n=0;n<15;n++){var i=!t&&1==(o>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(n=0;n<15;n++){i=!t&&1==(o>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=i:n<9?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,n=7,i=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[o][a-s]){var u=!1;i<t.length&&(u=1==(t[i]>>>n&1)),QRUtil.getMask(e,o,a-s)&&(u=!u),this.modules[o][a-s]=u,-1==--n&&(i++,n=7)}if((o+=r)<0||this.moduleCount<=o){o-=r,r=-r;break}}}},QRCode.PAD0=236,QRCode.PAD1=17,QRCode.createData=function(t,e,r){for(var o=QRRSBlock.getRSBlocks(t,e),n=new QRBitBuffer,i=0;i<r.length;i++){var a=r[i];n.put(a.mode,4),n.put(a.getLength(),QRUtil.getLengthInBits(a.mode,t)),a.write(n)}var s=0;for(i=0;i<o.length;i++)s+=o[i].dataCount;if(n.getLengthInBits()>8*s)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+8*s+")");for(n.getLengthInBits()+4<=8*s&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*s)&&(n.put(QRCode.PAD0,8),!(n.getLengthInBits()>=8*s));)n.put(QRCode.PAD1,8);return QRCode.createBytes(n,o)},QRCode.createBytes=function(t,e){for(var r=0,o=0,n=0,i=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s++){var u=e[s].dataCount,h=e[s].totalCount-u;o=Math.max(o,u),n=Math.max(n,h),i[s]=new Array(u);for(var l=0;l<i[s].length;l++)i[s][l]=255&t.buffer[l+r];r+=u;var g=QRUtil.getErrorCorrectPolynomial(h),f=new QRPolynomial(i[s],g.getLength()-1).mod(g);a[s]=new Array(g.getLength()-1);for(l=0;l<a[s].length;l++){var d=l+f.getLength()-a[s].length;a[s][l]=0<=d?f.get(d):0}}var R=0;for(l=0;l<e.length;l++)R+=e[l].totalCount;var c=new Array(R),Q=0;for(l=0;l<o;l++)for(s=0;s<e.length;s++)l<i[s].length&&(c[Q++]=i[s][l]);for(l=0;l<n;l++)for(s=0;s<e.length;s++)l<a[s].length&&(c[Q++]=a[s][l]);return c};for(var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;0<=QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G15);)e^=QRUtil.G15<<QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G15);return(t<<10|e)^QRUtil.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;0<=QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G18);)e^=QRUtil.G18<<QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return QRUtil.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case QRMaskPattern.PATTERN000:return(e+r)%2==0;case QRMaskPattern.PATTERN001:return e%2==0;case QRMaskPattern.PATTERN010:return r%3==0;case QRMaskPattern.PATTERN011:return(e+r)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case QRMaskPattern.PATTERN101:return e*r%2+e*r%3==0;case QRMaskPattern.PATTERN110:return(e*r%2+e*r%3)%2==0;case QRMaskPattern.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new QRPolynomial([1],0),r=0;r<t;r++)e=e.multiply(new QRPolynomial([1,QRMath.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;o<e;o++)for(var n=0;n<e;n++){for(var i=0,a=t.isDark(o,n),s=-1;s<=1;s++)if(!(o+s<0||e<=o+s))for(var u=-1;u<=1;u++)n+u<0||e<=n+u||0==s&&0==u||a==t.isDark(o+s,n+u)&&i++;5<i&&(r+=3+i-5)}for(o=0;o<e-1;o++)for(n=0;n<e-1;n++){var h=0;t.isDark(o,n)&&h++,t.isDark(o+1,n)&&h++,t.isDark(o,n+1)&&h++,t.isDark(o+1,n+1)&&h++,0!=h&&4!=h||(r+=3)}for(o=0;o<e;o++)for(n=0;n<e-6;n++)t.isDark(o,n)&&!t.isDark(o,n+1)&&t.isDark(o,n+2)&&t.isDark(o,n+3)&&t.isDark(o,n+4)&&!t.isDark(o,n+5)&&t.isDark(o,n+6)&&(r+=40);for(n=0;n<e;n++)for(o=0;o<e-6;o++)t.isDark(o,n)&&!t.isDark(o+1,n)&&t.isDark(o+2,n)&&t.isDark(o+3,n)&&t.isDark(o+4,n)&&!t.isDark(o+5,n)&&t.isDark(o+6,n)&&(r+=40);var l=0;for(n=0;n<e;n++)for(o=0;o<e;o++)t.isDark(o,n)&&l++;return r+=10*(Math.abs(100*l/e/e-50)/5)}},QRMath={glog:function(t){if(t<1)throw new Error("glog("+t+")");return QRMath.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;256<=t;)t-=255;return QRMath.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;QRPolynomial.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var o=0;o<t.getLength();o++)e[r+o]^=QRMath.gexp(QRMath.glog(this.get(r))+QRMath.glog(t.get(o)));return new QRPolynomial(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=QRMath.glog(this.get(0))-QRMath.glog(t.get(0)),r=new Array(this.getLength()),o=0;o<this.getLength();o++)r[o]=this.get(o);for(o=0;o<t.getLength();o++)r[o]^=QRMath.gexp(QRMath.glog(t.get(o))+e);return new QRPolynomial(r,0).mod(t)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(t,e){var r=QRRSBlock.getRsBlockTable(t,e);if(r==undefined)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=r.length/3,n=new Array,i=0;i<o;i++)for(var a=r[3*i+0],s=r[3*i+1],u=r[3*i+2],h=0;h<a;h++)n.push(new QRRSBlock(s,u));return n},QRRSBlock.getRsBlockTable=function(t,e){switch(e){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+3];default:return undefined}},QRBitBuffer.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},function(s){s.fn.qrcode=function(h){"string"==typeof h&&(h={text:h}),h=s.extend({},{render:"canvas",width:119,height:119,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#fff",foreground:"#000"},h);return this.each(function(){var t="canvas"==h.render?function(){var t=new QRCode(h.typeNumber,h.correctLevel);t.addData(h.text),t.make();var e=document.createElement("canvas");e.width=h.width,e.height=h.height;for(var r=e.getContext("2d"),o=h.width/t.getModuleCount(),n=h.height/t.getModuleCount(),i=0;i<t.getModuleCount();i++)for(var a=0;a<t.getModuleCount();a++){r.fillStyle=t.isDark(i,a)?h.foreground:h.background;var s=Math.ceil((a+1)*o)-Math.floor(a*o),u=Math.ceil((i+1)*o)-Math.floor(i*o);r.fillRect(Math.round(a*o),Math.round(i*n),s,u)}return e}():function(){var t=new QRCode(h.typeNumber,h.correctLevel);t.addData(h.text),t.make();for(var e=s("<table></table>").css("width",h.width+"px").css("height",h.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",h.background),r=h.width/t.getModuleCount(),o=h.height/t.getModuleCount(),n=0;n<t.getModuleCount();n++)for(var i=s("<tr></tr>").css("height",o+"px").appendTo(e),a=0;a<t.getModuleCount();a++)s("<td></td>").css("width",r+"px").css("background-color",t.isDark(n,a)?h.foreground:h.background).appendTo(i);return e}();jQuery(t).appendTo(this)})}}(jQuery);
;/*widget/vip.dialog üëâ*/;honey.def("mod:dialog , plugin:slimscroll",function(d){d.css("//css.mgtv.com/imgotv-member/page/vip/vip-dialog.css?"+VERSION);var s,l=/(iPad|Android)/.test(navigator.userAgent),p=new STK.start,a=null,n=($("body"),"vip-pay-mini-dialog"),u=!1;VMD_getProductInfoUrl="//as.mgtv.com/client/store/products",VMD_djjCheckUrl="//order.mgtv.com/pc/exchange",VMD_payUrl="//as.mgtv.com/client/order/orderBuy",VMD_getBannberUrl="//as.mgtv.com/client/banner/activity_banner?",VMD_parentHtml=['<div class="m-dialog-vip-pay vipDialog-new" id="'+n+'" style="background:#fff;" mg-stat-mod="c_pay">','<div class="honey-dialog-conBox">',"</div>","</div>"].join(""),VMD_con_html="",VMD_VERSION="",VMD_CLOCATION="",VMD_FTYPE="",VMD_CLIENT=1,VMDHeaderUrl="",VMDHeaderIamge="",VMDPCLOGINDATA=[],VMDQPLOGINDATA=[],VMDPCNOLOGINDATA=[],VMDQPNOLOGINDATA=[],VMDPAGEORDERID="";var i=function(i,t,e,a){VMD_VERSION=i||"",VMD_CLOCATION=t||"",VMD_FTYPE=e||"",VMD_UNID=a||"",this.proIndex=0,this.payIndex=0,this.productid=0,this.vipId=0,this.type="",this.renew=0,this.DJPrice=0,this.DJID=0,this.origiPrice=0,this.realPrice=0,this.init()},h=i.prototype;h.init=function(i,t){var e=this;e.version=i,e.vipClinet=t,e.box=$("#"+n),e.getVipInfo(function(){if(!a){(a=new d.dialog({id:n,html:VMD_parentHtml,content:VMD_con_html,height:580,width:760,zindex:520,opacity:.3})).init(),e.setTopBg(),e.bindEvents(),bidValues=l?"4.1.11":"1.1.11";var i={time:STK.$.getTimer("yyyyMMddhhmmss"),bid:bidValues,act:"vip",unid:VMD_UNID,clocation:VMD_CLOCATION||5,ftype:VMD_FTYPE||14,expver:VMD_VERSION,uuid:""==f("uuid")?"":f("uuid")};p&&p.pagePv(i,"//vip.log.mgtv.com/audit_pc.html")}e.box.find(".VMD-product-wrap li").eq(e.proIndex).trigger("click"),a.open(),e.renderAnimate()})},h.getVipInfo=function(e,i){var a=this,n=(window.USER&&window.USER.data,{client:VMD_CLIENT,invoker:"pcweb",ip:"127.0.0.1",mac:""==f("__STKUUID")?"00000000-0000-0000-0000-000000000000":f("__STKUUID"),os:navigator.platform?navigator.platform:"Win32",t:Math.round((new Date).getTime()/1e3),ticket:""==f("HDCN")?"":f("HDCN").match(/\b\w+\b/g)[0],uuid:""==f("uuid")?"":f("uuid"),version:"5.0.0.1",scene_code:VMD_VERSION});if(n.sign=hex_sha1(m(n).toLowerCase().substr(1)),!i)if(n.uuid){if(1==VMD_CLIENT&&0<VMDPCLOGINDATA.length)return a.render(VMDPCLOGINDATA),void(e&&e());if(2==VMD_CLIENT&&0<VMDQPLOGINDATA.length)return a.render(VMDQPLOGINDATA),void(e&&e())}else{if(1==VMD_CLIENT&&0<VMDPCNOLOGINDATA.length)return a.render(VMDPCNOLOGINDATA),void(e&&e());if(2==VMD_CLIENT&&0<VMDQPNOLOGINDATA.length)return a.render(VMDQPNOLOGINDATA),void(e&&e())}$.ajax({url:VMD_getProductInfoUrl,dataType:"jsonp",data:n,success:function(i){if(i&&"200"==i.status)a.render(i.data.productList),e&&e(),n.uuid?1==VMD_CLIENT?VMDPCLOGINDATA=i.data.productList:2==VMD_CLIENT&&(VMDQPLOGINDATA=i.data.productList):1==VMD_CLIENT?VMDPCNOLOGINDATA=i.data.productList:2==VMD_CLIENT&&(VMDQPNOLOGINDATA=i.data.productList);else{var t="https://order.mgtv.com/pay/pc/index.html?clocation="+VMD_CLOCATION+"&ftype="+VMD_FTYPE+"&unid="+VMD_UNID;window.location.href=t}}})},h.onlyGetData=function(i,t,e){var a=this;a.getVipInfo(function(){i.find(".honey-dialog-conBox").html(VMD_con_html),i.find(".VMD-product-list").eq(t).trigger("click"),a.setTopBg(),a.renderAnimate()},e)},h.render=function(i){var t=window.USER?window.USER.data:"",e=this.format(i,t);t&&(1==t.isvip&&1==t.vip_id?t.isPCVip=1:1==t.isvip&&2==t.vip_id&&(t.isQPVip=1)),VMD_con_html="",VMD_con_html=Mustache.render(d.vipPayMiniDialogTpl.list,{data:e,isLogin:""==f("HDCN")?0:1,userData:t,isQPVipType:"2"==VMD_CLIENT,isPCVipType:"1"==VMD_CLIENT,isHideQP:t.isQPVip})},h.renderAnimate=function(){$(".VMD-phone").slimScroll({color:"#656565",width:"698px",height:"100%",alwaysVisible:!0,disableFadeOut:!1,railVisible:!0,allowPageScroll:!1}),new d.musicFluxes({id:"VMD-product-con",btnlCl:".prev",btnrCl:".next",listCl:".VMD-product-wrap",listBoxCl:".pay-ment-list",gap:20}),$(".DJJ-ullist").slimScroll({color:"#656565",width:"210px",height:"100%",alwaysVisible:!0,disableFadeOut:!1,railVisible:!0,allowPageScroll:!1})},h.setTopBg=function(){var t=this;if(t.box=$("#"+n),VMDHeaderUrl&&VMDHeaderIamge)return t.box=$("#"+n),t.box.find(".VMD_ad_h").attr("href",VMDHeaderUrl),t.box.find(".VMD_ad_i").attr("src",VMDHeaderIamge),void t.box.find(".VMD_ad").show();var i={source:"products",uuid:""==f("uuid")?"":f("uuid"),ip:"127.0.0.1",invoker:"pcweb",version:"5.0.0.1",os:navigator.platform?navigator.platform:"Win32",mac:""==f("__STKUUID")?"00000000-0000-0000-0000-000000000000":f("__STKUUID"),ticket:""==f("HDCN")?"":f("HDCN").match(/\b\w+\b/g)[0],t:Math.round((new Date).getTime()/1e3)};i.sign=hex_sha1(m(i).toLowerCase().substr(1)),$.ajax({url:VMD_getBannberUrl,dataType:"jsonp",data:i,success:function(i){i&&"200"==i.status&&i.data.banner_img?(t.box.find(".VMD_ad_h").attr("href",i.data.jump_url),t.box.find(".VMD_ad_i").attr("src",i.data.banner_img),t.box.find(".VMD_ad").show(),VMDHeaderUrl=i.data.jump_url,VMDHeaderIamge=i.data.banner_img):t.box.find(".VMD_ad").hide()}})},h.format=function(i,t){for(var e=[],a=0;a<i.length;a++){var n=i[a];e[a]={},e[a].renew=n.renew,e[a].id=n.id,e[a].vip_id=n.vip_id,e[a].price=n.price,e[a].header=n.header,e[a].name=n.name,e[a].price=n.price,e[a].discount_tips=n.discount_tips,e[a].promotion=n.promotion,e[a].index=a,e[a].isSelect=0==a?1:0;for(var o=0;o<n.class_list.length;o++){var r=n.class_list[o];e[a].class_list=[],e[a].class_list[o]=r,e[a].class_list[o].showPrice=r.channel_list[0].price,e[a].class_list[o].showpayment=r.channel_list[0].code,e[a].class_list[o].isSelect=0==o?1:0,e[a].class_list[o]["new"]="new"==r.tag?1:0,e[a].class_list[o].isQRCode="QRCode"==r.type?1:0,e[a].class_list[o].isPhone="phone"==r.type?1:0,1==n.v_s?t.uid?r.channel_list[0].vs&&0<r.channel_list[0].vs.length?(e[a].class_list[o].showLogin=0,e[a].class_list[o].hasDJQ=1,e[a].class_list[o].DJQnumber=r.channel_list[0].vs.length,1<r.channel_list[0].vs.length&&(e[a].class_list[o].hasDuoDJQ=1)):r.channel_list[0].vs&&0==r.channel_list[0].vs.length&&(e[a].class_list[o].showLogin=0,e[a].class_list[o].noDJJ=1):e[a].class_list[o].showLogin=1:0==n.v_s&&(e[a].class_list[o].showLogin=0),r.channel_list[0].vs&&0<r.channel_list[0].vs.length&&(e[a].class_list[o].showDJJID=r.channel_list[0].vs[0].id,e[a].class_list[o].showDJJAmount=r.channel_list[0].vs[0].amount,e[a].class_list[o].showDJJTip=r.channel_list[0].vs[0].tips),e[a].class_list[o].yingfuPrice=r.channel_list[0].price,e[a].class_list[o].DJJList=r.channel_list[0].vs,e[a].class_list[o].isRenew=1==n.renew?1:0,e[a].class_list[o].v_s=n.v_s,"QRCode"==r.type&&1<r.channel_list.length&&(e[a].class_list[o].hasWeiPayMent=1)}1==n.class_list.length?e[a].twoPay=1:2==n.class_list.length?e[a].threePay=1:3==n.class_list.length&&(e[a].fourPay=1),e[a].class_list=i[a].class_list}return e},h.bindEvents=function(){var p=this;$(document).on("HONEY-LOGIN-SUCCESS",function(){h.onlyGetData(p.box,0,!0),u=!0}),p.box.on("click touchstart",".vip-pay-mini-dialog-login",function(i){if(""==f("HDCN"))return d.loginDialog(),$("[node-type=honey-mini-login-account-tabs]").trigger("click"),!1}),p.box.on("click touchstart",".VMD-change-login-btn",function(i){return d.loginDialog("change"),!1}),p.box.on("click",".honey-vip-dialog-destroy",function(){g.stopInquiry(),a&&a.destroy(),a=null;try{(i="hunantv-player-1",-1!=navigator.appName.indexOf("Microsoft")?window[i]:document[i]).closeVIPPopPayFlash()}catch(t){}var i}),p.box.on("click touchstart",".nav a",function(i){$(this).hasClass("select")||($(this).addClass("select").siblings().removeClass("select"),$(this).hasClass("superBtn")?VMD_CLIENT=2:VMD_CLIENT=1,h.onlyGetData(p.box,0,!1))}),p.box.on("click touchstart",".VMD-product-list",function(i){if($(this).hasClass("hover"))return!1;g.stopInquiry(),$(this).addClass("hover").siblings().removeClass("hover");var t=$(this).index(),e=$(this).parents(".VMD-product-con").siblings(".VMD-product-child").eq(t),a=e.find(".VMD-pay.show").find("input.djj-check");p.origiPrice=$(this).find(".money").html(),p.productid=$(this).attr("productid"),p.vipId=$(this).attr("vipid"),p.type=e.find(".VMD-payment-wrap .select").attr("type"),p.renew=$(this).attr("renew"),p.proIndex=t,e.show().siblings(".VMD-product-child").hide();var n=e.find(".select-txt");0<n.length&&a.is(":checked")?(p.DJPrice=n.attr("djjprice"),p.DJID=n.attr("djjid"),p.origiPrice-p.DJPrice<0?p.realPrice=0:p.realPrice=(p.origiPrice-p.DJPrice).toFixed(2),e.find("b.money").html(p.realPrice),e.find(".youhui-money").html(p.DJPrice),e.find(".ico1,.youhuiEle").css("display","inline-block")):(p.DJID=0,p.DJPrice=0,p.realPrice=p.origiPrice,e.find("b.money").html(p.origiPrice)),e.find(".VMD-payment-list").removeClass("select");var o=e.find(".VMD-payment-list").eq(p.payIndex);0<o.length?o.trigger("click"):e.find(".VMD-payment-list").eq(0).trigger("click")}),p.box.on("click touchstart",".VMD-payment-list",function(i){if(!$(this).hasClass("select")){i.preventDefault(),g.stopInquiry(),$(this).addClass("select").siblings().removeClass("select");var t=$(this).index(),e=$(this).parents("p").siblings(".VMD-pay").eq(t),a=e.find("i.vmd-code-fresh"),n=e.find("input[node-type=QRCode-pay]"),o=e.find("input[node-type=QRCode-pay-auto]"),r=e.find("input.djj-check");p.productid=$(".VMD-product-wrap").find(".hover").attr("productid"),p.payment=$(this).attr("payment"),p.renew=$(".VMD-product-wrap").find(".hover").attr("renew"),p.type=$(this).attr("type"),p.payIndex=t,e.show().siblings(".VMD-pay").hide();var s=e.find(".select-txt");if(0<s.length&&r.is(":checked")?(p.DJPrice=s.attr("djjprice"),p.DJID=s.attr("djjid"),p.origiPrice-p.DJPrice<0?p.realPrice=0:p.realPrice=(p.origiPrice-p.DJPrice).toFixed(2),e.find("b.money").html(p.realPrice),e.find(".youhui-money").html(p.DJPrice),e.find(".ico1,.youhuiEle").css("display","inline-block")):(p.DJID=0,p.DJPrice=0,p.realPrice=p.origiPrice,e.find("b.money").html(p.origiPrice)),n.is(":checked")&&"0"==p.renew&&""!==f("HDCN"))a.hide();else{if("1"!=p.renew||!n.is(":checked")||!o.is(":checked")||""===f("HDCN"))return void a.show();a.hide()}if("QRCode"==p.type){var d={productid:p.productid,DJID:p.DJID,type:p.type,channel:p.payment,origiPrice:p.origiPrice,realPrice:p.realPrice,box:p.box,proIndex:p.proIndex};g.init(d)}else g.stopInquiry()}}),p.box.on("click touchstart",".VMD-pay input[node-type=QRCode-pay]",function(i){var t=$(this).parents(".VMD-pay").find(".vmd-code-fresh"),e=$(this).parents("label").siblings("label").find("input[node-type=QRCode-pay-auto]"),a={productid:p.productid,DJID:p.DJID,type:p.type,channel:p.payment,origiPrice:p.origiPrice,realPrice:p.realPrice,box:p.box,proIndex:p.proIndex};"1"==p.renew&&$(this).attr("checked")&&e.attr("checked")&&""!==f("HDCN")?(t.hide(),g.init(a)):"0"==p.renew&&$(this).attr("checked")&&""!==f("HDCN")?(t.hide(),g.init(a)):(t.show(),g.stopInquiry())}),p.box.on("click touchstart",".VMD-pay input[node-type=QRCode-pay-auto]",function(i){var t=$(this).parents("label").siblings("label").find("input[node-type=QRCode-pay]"),e=$(this).parents(".VMD-pay").find(".vmd-code-fresh"),a={productid:p.productid,DJID:p.DJID,type:p.type,channel:p.payment,origiPrice:p.origiPrice,realPrice:p.realPrice,box:p.box,proIndex:p.proIndex};$(this).attr("checked")&&t.attr("checked")&&""!==f("HDCN")?(e.hide(),g.init(a)):(e.show(),g.stopInquiry())}),p.box.on("click touchstart","i.vmd-code-fresh",function(i){if(""==f("HDCN"))return d.loginDialog(),!1;var t=$(this).parents(".con1").siblings(".ts2").find("input[node-type=QRCode-pay]"),e=$(this).parents(".con1").siblings(".ts2").find("input[node-type=QRCode-pay-auto]");if(!t.is(":checked"))return alert("ËØ∑ÈÄâÊã©ÂêåÊÑèËäíÊûúTV‰ªòË¥πÂçèËÆÆ"),!1;if(1==p.renew&&!e.is(":checked"))return alert("ËØ∑ÈÄâÊã©ÂêåÊÑèËäíÊûúTVËá™Âä®Áª≠Ë¥πÂçèËÆÆ"),!1;$(this).hide();var a={productid:p.productid,DJID:p.DJID,type:p.type,channel:p.payment,origiPrice:p.origiPrice,realPrice:p.realPrice,box:p.box,proIndex:p.proIndex};g.init(a)}),p.box.find("#phoneNumber").focus(function(){$(this).parents(".p-button").siblings(".p-input").find(".err-1").hide()}),p.box.on("click",".dhm-open-dialog",function(i){var t=$(this).parents(".tik-2").siblings(".tik-3");t.show(),$(this).removeClass("dhm-open-dialog").addClass("dhm-close-dialog"),$(this).parents(".tik-2").siblings(".tik-3").find("#yzm_img").attr("src","//order.mgtv.com/pc/captcha?t="+Math.round((new Date).getTime()/1e3)),t.find(".txterr").hide(),t.find("input[name=dhm-code]").val(""),t.find("input[name=dhm-yzm]").val(""),0<$(this).siblings(".djj-xiala-close").length&&$(this).siblings(".djj-xiala-close").trigger("click"),0<$(this).siblings(".xuzhi-close").length&&$(this).siblings(".xuzhi-close").trigger("click")}),p.box.on("click",".dhm-close-dialog",function(i){$(this).parents(".tik-2").siblings(".tik-3").hide(),$(this).removeClass("dhm-close-dialog").addClass("dhm-open-dialog")}),p.box.on("click touchstart","#yzm_img",function(i){$(this).attr("src","//order.mgtv.com/pc/captcha?t="+Math.round((new Date).getTime()/1e3))}),p.box.on("click touchstart",".duihuan",function(i){i.preventDefault();var e=$(this),a=e.siblings(".txterr"),n=a.find("i"),t=e.siblings(".dhh-code-ele").find("input[name=dhm-code]"),o=t.val(),r=e.siblings(".dhh-yzm-ele").find("input[name=dhm-yzm]"),s=r.val(),d=e.parents(".tik-3").siblings(".tik-2").find(".tik-add1"),c=($(".VMD-product-wrap .hover").index(),$(this).siblings(".yzm-img").find("#yzm_img"));n.html("ÂÖëÊç¢‰∏≠..."),a.show();var l={mac:f("__STKUUID"),os:navigator.platform,voucher_key:$.trim(o),ticket:""==f("HDCN")?"":f("HDCN").match(/\b\w+\b/g)[0],uuid:""==f("uuid")?"":f("uuid"),captcha:s,vip_id:p.vipId,product_id:p.productid,channel:p.payment,price:p.origiPrice};return""==$.trim(o)?(n.html("ÂÖëÊç¢Á†Å‰∏çÂèØ‰∏∫Á©∫"),a.show(),t.focus(),!1):""==$.trim(s)?(n.html("È™åËØÅÁ†Å‰∏çÂèØ‰∏∫Á©∫"),a.show(),r.focus(),!1):void $.ajax({url:VMD_djjCheckUrl,dataType:"jsonp",data:l,success:function(i){if(i&&"200"==i.err_code){if(1==i.data.match)d.animate({width:"39px",height:"24px",opacity:"1"},800).animate({bottom:"30px",opacity:"0"},1500,function(){}),n.html("ÂÖëÊç¢ÊàêÂäü"),a.show();else{var t="ÊÇ®Â∑≤ÂÖëÊç¢Êª°"+(i.data.amount_limit/100).toFixed(2)+"Âáè"+(i.data.amount/100).toFixed(2)+"ÂÖÉ‰ª£ÈáëÂà∏ÊàêÂäüÔºå"+i.data.des;n.html(t),a.css("line-height","15px").show()}e.parents(".tik-3").fadeOut(2500),g.stopInquiry();setTimeout(function(){h.onlyGetData(p.box,p.proIndex,!0),e.parents(".tik-3").siblings(".tik-2").find(".tik-t2").removeClass("dhm-close-dialog").addClass("dhm-open-dialog-dialog")},3e3)}else c.attr("src","//order.mgtv.com/pc/captcha?t="+Math.round((new Date).getTime()/1e3)),n.html(i.err_msg),a.show()}})}),p.box.on("click touchstart",".djj-login-btn",function(i){if(""==f("HDCN"))return d.loginDialog(),!1}),p.box.on("click touchstart",".djj-xiala-open",function(i){$(this).find(".tikbox").show(),$(this).addClass("djj-xiala-close").removeClass("djj-xiala-open"),0<$(this).siblings(".dhm-close-dialog").length&&$(this).siblings(".tik-t2").trigger("click"),0<$(this).siblings(".xuzhi-close").length&&$(this).siblings(".xuzhi-close").trigger("click")}),p.box.on("click touchstart",".djj-xiala-close",function(i){$(this).find(".tikbox").hide(),$(this).addClass("djj-xiala-open").removeClass("djj-xiala-close")}),p.box.on("click touchstart",".tikbox li",function(i){g.stopInquiry();var t=$(this).parents(".VMD-pay-form"),e=(t.find("input.djj-check"),$(this).find(".djj-time").text());p.DJPrice=$(this).find(".djj-money").text(),p.DJID=$(this).attr("djjid"),t.find(".select-money").html(p.DJPrice),t.find(".select-time").html(e),t.find(".select-txt").attr({djjid:p.JID,djjprice:p.DJPrice});var a=t.find("b.money");p.origiPrice-p.DJPrice<0?p.realPrice=0:p.realPrice=(p.origiPrice-p.DJPrice).toFixed(2),a.html(p.realPrice),t.find(".youhui-money").html(p.DJPrice),$(this).parents(".tikbox").hide(),t.find(".djj-xiala-close").addClass("djj-xiala-open").removeClass("djj-xiala-close");var n={productid:p.productid,DJID:p.DJID,type:p.type,channel:p.payment,origiPrice:p.origiPrice,realPrice:p.realPrice,box:p.box,proIndex:p.proIndex};g.init(n)}),p.box.on("click touchstart","input.djj-check",function(i){g.stopInquiry();var t=$(this).parents(".VMD-pay-form "),e=t.find("b.money"),a={productid:p.productid,DJID:p.DJID,type:p.type,channel:p.payment,origiPrice:p.origiPrice,realPrice:p.realPrice,box:p.box,proIndex:p.proIndex};if($(this).is(":checked")){p.origiPrice-p.DJPrice<0?p.realPrice=0:p.realPrice=(p.origiPrice-p.DJPrice).toFixed(2),e.html(p.realPrice),p.DJID=t.find(".select-txt").attr("djjid");a={productid:p.productid,DJID:p.DJID,type:p.type,channel:p.payment,origiPrice:p.origiPrice,realPrice:p.realPrice,box:p.box,proIndex:p.proIndex};g.init(a),t.find(".youhuiEle,.ico1").css("display","inline-block")}else{t.find(".youhuiEle,.ico1").hide(),e.html(origiPrice),p.DJID=0;a={productid:p.productid,DJID:p.DJID,type:p.type,channel:p.payment,origiPrice:p.origiPrice,realPrice:p.realPrice,box:p.box,proIndex:p.proIndex};g.init(a)}}),p.box.on("click touchstart",".xuzhi-open",function(i){$(this).parents(".tik-2").siblings(".tik-4").show(),$(this).removeClass("xuzhi-open").addClass("xuzhi-close"),0<$(this).siblings(".djj-xiala-close").length&&$(this).siblings(".djj-xiala-close").trigger("click"),0<$(this).siblings(".dhm-close-dialog").length&&$(this).siblings(".tik-t2").trigger("click")}),p.box.on("click touchstart",".xuzhi-close",function(i){$(this).parents(".tik-2").siblings(".tik-4").hide(),$(this).removeClass("xuzhi-close").addClass("xuzhi-open")}),p.box.on("click","a[action-type=VMD-pay-submit-btn]",function(i){if(i.preventDefault(),""==f("HDCN"))return d.loginDialog(),!1;if(g.stopInquiry(),"1"==p.renew&&"phone"==p.type){var t=$(this).parents(".p-button"),e=t.siblings(".xieyi"),a=t.siblings(".p-input"),n=e.find("input[node-type=phone-pay]"),o=e.find("input[node-type=phone-pay-auto]"),r=a.find("#phoneNumber").val(),s=a.find(".err-1");return s.hide(),n.is(":checked")?(o.is(":checked")?""!=r&&/^\d{11}$/.test($.trim(r))?c(p.payment,p.productid,r,p.type,p.origiPrice,p.realPrice,p.DJID):s.show():alert("ËØ∑ÈÄâÊã©ÂêåÊÑèËäíÊûúTVËá™Âä®Áª≠Ë¥πÂçèËÆÆ"),!1):(alert("ËØ∑ÈÄâÊã©ÂêåÊÑèËäíÊûúTV‰ªòË¥πÂçèËÆÆ"),!1)}}),p.box.on("click touchstart","a.a-ok",function(i){var t=$(this);$.ajax({url:"//order.mgtv.com/v1/pc/orderStatus?order_id="+VMDPAGEORDERID,dataType:"jsonp",success:function(i){i&&("10100"==i.err_code||"10007"==i.err_code||"10004"==i.err_code?(t.parents(".VMD-pay-wait-tips-dialog").hide(),p.box.find(".VMD-pay-fail-tips-dialog").show()):"200"==i.err_code&&(t.parents(".VMD-pay-wait-tips-dialog").hide(),p.box.find(".VMD-pay-success-tips-dialog").show()))}})}),p.box.on("click touchstart","a.tip-close, a.a-other, a.a-cancel,a.a-pause, a.a-again",function(i){i.preventDefault(),p.box.find(".VMD-pay-tips-dialog").hide()})};var c=function(i,t,e,a,n,o,r){var s=VMD_payUrl,d={product_id:t,channel:i,ticket:""==f("HDCN")?"":f("HDCN").match(/\b\w+\b/g)[0],code:"",mobile:e||"",voucherid:0,uuid:""==f("uuid")?"":f("uuid"),ip:"127.0.0.1",invoker:"pcweb",version:"5.0.0.1",os:navigator.platform?navigator.platform:"Win32",mac:""==f("__STKUUID")?"00000000-0000-0000-0000-000000000000":f("__STKUUID"),t:Math.round((new Date).getTime()/1e3),expver:VMD_VERSION},c=window.open();c&&$.ajax({type:"get",url:s,async:!1,timeout:3e4,data:d,dataType:"jsonp",success:function(i){i&&200==i.status?(VMDPAGEORDERID=i.data.order_id,"location"==i.data.pay_type&&(c.location.href=i.data.pay_msg,$(".VMD-pay-wait-tips-dialog").show(),D(t,i.data.order_id,i.data.channel,a,n,o,r,0))):alert(i.msg)}})},D=function(i,t,e,a,n,o,r,s){var d;d=l?"4.1.11":"1.1.11";var c={time:STK.$.getTimer("yyyyMMddhhmmss"),bid:d,act:"order",p:i,pp:"phone"==a?$("i[node-type=VMD-phone-money]").html():n,c:e,o:t,pp_actual:0==r?0:o,bc:"",unid:VMD_UNID,clocation:VMD_CLOCATION||5,ftype:VMD_FTYPE||14,loginflag:u?1:0,isscan:s?1:0,uuid:""==f("uuid")?"":f("uuid"),expver:VMD_VERSION};p&&p.pageStart(c,"//vip.log.mgtv.com/audit_pc.html",["pix","nfid","plid","vid","cid","wuid"])},g=function(){var o=!1,e=0;function r(){0,function(i,t){var e=this,a=$("div[productiddiv="+e.productid+"]").find(".vmd-code-fresh"),n=$("div[productiddiv="+e.productid+"]").find(".vmd-code-success");$.ajax({url:"//as.mgtv.com/client/qrcode/pollingqrcode",data:i,dataType:"jsonp",success:function(i){i&&"200"==i.status?(i.data&&i.data.buy_info&&-3==i.data.buy_info.buy_status?o=setTimeout(r,4e3):i.data&&i.data.buy_info&&0==i.data.buy_info.buy_status?(s!==i.data.buy_info.order_id&&D(productid,i.data.buy_info.order_id,i.data.buy_info.channel,"code",origiPrice,realPrice,DJID,1),o=setTimeout(r,4e3)):i.data&&i.data.buy_info&&1==i.data.buy_info.buy_status?(s!==i.data.buy_info.order_id&&D(productid,i.data.buy_info.order_id,i.data.buy_info.channel,"code",origiPrice,realPrice,DJID,1),n.show(),setTimeout(function(){n.hide(),h.onlyGetData(box,proIndex,!0)},1e3)):i.data&&i.data.buy_info&&-1==i.data.buy_info.buy_status?(s!==i.data.buy_info.order_id&&D(productid,i.data.buy_info.order_id,i.data.buy_info.channel,"code",origiPrice,realPrice,DJID,1),a.show(),g.stopInquiry()):i.data&&i.data.buy_info&&2==i.data.buy_info.buy_status&&(s!==i.data.buy_info.order_id&&D(productid,i.data.buy_info.order_id,i.data.buy_info.channel,"code",origiPrice,realPrice,DJID,1),a.show(),g.stopInquiry(),e.box.find(".VMD-pay-bad-tips-dialog").find(".pay-failed-msg").html(i.data.buy_info.buy_msg),e.box.find(".VMD-pay-bad-tips-dialog").show()),s=i.data&&i.data.buy_info&&i.data.buy_info.order_id?i.data.buy_info.order_id:""):i&&"0679"==i.status?(a.show(),g.stopInquiry()):o=setTimeout(r,4e3)}})}({invoker:"pcweb",version:"5.0.0.1",uuid:""==f("uuid")?"":f("uuid"),nickname:window.USER.data.nickname,qrcode:e,ticket:""==f("HDCN")?"":f("HDCN").match(/\b\w+\b/g)[0],mac:""==f("__STKUUID")?"00000000-0000-0000-0000-000000000000":f("__STKUUID"),ip:"127.0.0.1",os:navigator.platform?navigator.platform:"Win32",t:Math.round((new Date).getTime()/1e3),expver:VMD_VERSION})}return{init:function(t){f("HDCN")&&(0,!1,e=function i(){var t=Math.floor(1e11*Math.random());return t<1e9?i():t}(),productid=t.productid,DJID=t.DJID,type=t.type,channel=t.channel,origiPrice=t.origiPrice,realPrice=t.realPrice,box=t.box,proIndex=t.proIndex,function(i){var t=$("div[productiddiv="+this.productid+"]").find(".canvas_image"),e=$("div[productiddiv="+this.productid+"]").find(".vmd-code-fresh"),a=$("div[productiddiv="+this.productid+"]").find(".code_image");!isNaN(d.ie)&&d.ie<9?(t.hide(),a.attr("src","//as.mgtv.com/client/qrcode/getqrcodeinfo?"+$.param(i)).show(),o=setTimeout(r,4e3)):$.ajax({url:"//as.mgtv.com/client/qrcode/getqrcodeinfo?",data:i,dataType:"jsonp",success:function(i){i&&"200"==i.status?(t.children().remove(),t.qrcode({render:"canvas",width:119,height:119,text:i.msg.url}),o=setTimeout(r,4e3),e.hide()):i&&"0605"==i.status&&1==i.err&&(e.show(),alert(i.msg))}})}({invoker:"pcweb",version:"5.0.0.1",uuid:""==f("uuid")?"":f("uuid"),nickname:window.USER?window.USER.data.nickname:"",product_id:productid,qrcode:e,action:2,voucher_id:DJID,ticket:""==f("HDCN")?"":f("HDCN").match(/\b\w+\b/g)[0],ip:"127.0.0.1",mac:""==f("__STKUUID")?"00000000-0000-0000-0000-000000000000":f("__STKUUID"),cxid:f("sessionid"),t:Math.round((new Date).getTime()/1e3),os:navigator.platform?navigator.platform:"Win32",scene_code:"system",auto_buy:1,expver:VMD_VERSION}))},stopInquiry:function(){clearTimeout(o),0}}}();function m(i,t,e){if(null==i)return"";var a="",n=typeof i;if("string"==n||"number"==n||"boolean"==n)a+="&"+t+"="+(null==e||e?encodeURIComponent(i):i);else for(var o in i){var r=null==t?o:t+(i instanceof Array?"["+o+"]":"."+o);a+=m(i[o],r,e)}return a}function f(i){var t=new RegExp("(?:^|;+|\\s+)"+i+"=([^;]*)"),e=document.cookie.match(t);return e?e[1]:""}d.vipPayMiniDialog=i});
;/*widget/header.v5 üëâ*/;honey.def("lib:mustache",function(h){var v={1:"show",2:"tv",3:"movie",10:"child",11:"idol",20:"music",50:"cartoon",51:"doc",66:"live",88:"vip",105:"life",106:"news",111:"ori",115:"edu",116:"game",117:"sports"},t=!1,m="",e=function(e){this.downloadTimer=null,this.scrollTimer=null,this.scrollThreshold=5,this.fixClass="c-header-fix",this.navLimit=0,this.header=$("#honey-header"),this.download=$("#honey-header-download"),this.feed=$("#header-feed"),this.opt=e||{},this.navTpl='{{#items}}<li class="{{#isFirst}}first{{/isFirst}} header-nav-index{{navindex}} {{#ishide}}header-nav-hide{{/ishide}}" data-fstlvlid="{{fstlvlId}}" data-type="{{pageType}}">                        <a href="{{url}}" {{#isExternal}}target="_blank"{{/isExternal}}                         class="{{#isCurrent}}on{{/isCurrent}}" >{{title}}<em class="lihove"></em></a></li>{{/items}}',this.navmoreTpl='{{#items}}<p class="header-navmore-index{{navindex}}" data-fstlvlid="{{fstlvlId}}" data-type="{{pageType}}">        <a href="{{url}}" {{#isExternal}}target="_blank"{{/isExternal}}         class="{{#isCurrent}}on{{/isCurrent}}" >{{title}}</a></p>{{/items}}',this.init(e)};e.prototype.init=function(){this.initBuyVip(),this.getNav(),honey.search.init(),honey.headerUser.init(),honey.watchRecord.init(),honey.msgCenter.init(),this.bindEvent(),this.initVipAB(),$(".c-header-downloadbox").length&&this.getDownloadBtn()},e.prototype.initBuyVip=function(){this.feed.hide(),this.buyVip=$('<div class="c-header-panel-mod" id="header-buyvip">            <a class="c-header-panel-floattg c-header-panel-link c-header-panel-buyvip open-vip-dialog" clocation="61401" ftype="14" href="//order.mgtv.com/pay/pc/index.html?clocation=61401&ftype=14" target="_blank"><i class="c-header-icon c-header-panel-icon c-header-icon-buyvip"></i>ÂºÄÈÄö‰ºöÂëò</a>        </div>').hide(),this.feed.after(this.buyVip)},e.prototype.navmoreStatus=function(){var e=this;$("html").hasClass("screen-xl")?e.navLimit=24:$("html").hasClass("screen-l")?e.navLimit=22:$("html").hasClass("screen-m")?e.navLimit=19:$("html").hasClass("screen-s")&&(e.navLimit=16),e.navs.length>e.navLimit?$(".c-header-lv1").find(".header-navmore").show():$(".c-header-lv1").find(".header-navmore").hide()},e.prototype.getNav=function(){var s,a,d,o,h,l,c=this;o=window.PAGE_DATA?window.PAGE_DATA.cid:-1,h=window.VIDEOINFO?window.VIDEOINFO.rid:-1,a={version:"5.0",type:"4",pageSize:"999"},function e(a,n,i){i=i||0;$.ajax({timeout:[2e3,4e3,6e3][i],url:["//pc.bz.mgtv.com","//pc2.bz.mgtv.com","//pc2.bz.mgtv.com"][i]+a,type:"GET",jsonpCallback:"mgtvcallback_cl",dataType:"jsonp"}).done(function(e){e&&n.call(this,e)}).fail(function(){++i<3&&e(a,n,i)})}("/odin/c1/channel/list?"+$.param(a),function(e){if(e&&e.data&&0<e.data.length){c.navs=e.data;var a=c.navs.length;for(d=0;d<a;d++)15<(c.navs[d].navindex=d)&&(c.navs[d].ishide=!0),"0"==c.navs[d].pageType&&(c.header.find(".c-header-logo").attr("href",c.navs[d].url),c.header.find(".c-header-qcmenu a").eq(0).attr("href",c.navs[d].url)),"88"==c.navs[d].pageType&&c.header.find(".c-header-vip").attr("href",c.navs[d].url),"100"==c.navs[d].pageType&&(c.navs[d].url=c.navs[d].url.replace(/^https:/,"http:")),c.navs[d].pageType==o&&(c.navs[d].isCurrent=!0,m=c.navs[d].url,c.navs[d].title),c.navs[d].url&&-1==c.navs[d].url.indexOf("www.mgtv.com")&&(c.navs[d].isExternal=!0),c.navs[d].pageType==h&&(c.navs[d].isCurrent=!0,l=c.navs[d].url),0==d&&(c.navs[d].isFirst=!0);if(c.header.hasClass("c-header-lv2")||c.header.hasClass("c-header-lv1-extend")||c.header.hasClass("c-header-lv3"))for(d=0;d<c.navs.length;d++)if("0"==c.navs[d].pageType){c.navs.splice(d,1);break}if(c.header.hasClass("c-header-lv2")){var n=c.header.find(".c-header-channel-name"),i=v[~~h]||"";n.addClass("u-hcn-"+i),n.attr("href",l)}if(c.header.hasClass("c-header-lv3")){n=c.header.find(".c-header-channel-name"),i=v[~~o]?v[~~o]:117==~~o?"sports":"";n.addClass("u-hcn-"+i),n.attr("href",m)}if($("#honey-header").hasClass("c-header-lv1-extend")){var t=Math.ceil(c.navs.length/6);c.navs.length;for(d=c.navs.length;d<6*t;d++)c.navs.push({url:"javascript:void(0);"})}if(s=Mustache.render(c.navTpl,{items:c.navs}),$(".c-header-channel ul").html(s),$("#honey-header").hasClass("c-header-lv1")){c.navmoreStatus(),c.navmore=c.navs.slice(16);var r=Mustache.render(c.navmoreTpl,{items:c.navmore});$(".c-header-channel .header-navmore .header-navmore-list").html(r)}c.header.find('[href="//www.mgtv.com/fantuan/square.html"]').attr("href","//www.mgtv.com/fantuan/")}})},e.prototype.showIndexChanel=function(e){if($("#honey-header").hasClass("c-header-fix")&&e&&!$("#honey-header").hasClass("c-header-lv1-extend")){if("undefined"!=typeof PAGE_DATA){var a=window.PAGE_DATA?window.PAGE_DATA.cid:-1;if(0!=PAGE_DATA.cid||t){var n=this.header.find(".c-header-channel-name"),i=v[~~a]?v[~~a]:117==~~a?"sports":"";n.addClass("u-hcn-"+i),n.attr("href",m),i&&n.show()}else{$(".c-header-qcmenu .mitem-index").hide(),$("div[head-channel-key=channel_more]").before('<div class="mitem mitem-hot"><a class="c-header-obtn" href="//www.mgtv.com/show/">ÁªºËâ∫</a></div>                 <div class="mitem mitem-hot"><a class="c-header-obtn" href="//www.mgtv.com/tv/">ÁîµËßÜÂâß</a></div>')}t=!0}}else this.header.hasClass("c-header-lv3")||$("#honey-header a.c-header-channel-name").hide()},e.prototype.initVipAB=function(){this.header.find(".c-header-panel-buyvip").removeAttr("target").attr({href:"javascript:void(0)","mg-stat-click":"direct=cntp&addr=c_pay",clocation:"61401",ftype:"14"}).addClass("open-vip-dialog")},e.prototype.bindEvent=function(){var a=this,n=$(window),i=$(document),t=0,r={},s=0,d=0,o=i.scrollTop();n.scroll(function(e){clearTimeout(a.scrollTimer),a.scrollTimer=setTimeout(function(){d=i.scrollTop(),s=(t=d-o)>a.scrollThreshold?1:t<-a.scrollThreshold?-1:0,r={direction:s,position:d,originEvent:e},n.trigger("scrollEndEx",r),a.onScrollEnd(r),o=d},200)}),a.buyVip.on("mouseenter",function(e){a.buyVip.addClass("c-header-panel-mod-active")}),a.buyVip.on("mouseleave",function(e){a.buyVip.removeClass("c-header-panel-mod-active")}),a.feed.on("mouseenter",function(e){a.feed.addClass("c-header-panel-mod-active")}),a.feed.on("mouseleave",function(e){a.feed.removeClass("c-header-panel-mod-active")}),a.header.on("mouseenter",".c-header-menutg, .c-header-menu",function(){a.menuTimer&&clearTimeout(a.menuTimer),a.header.find(".c-header-menu").show(),a.header.addClass("c-header-hover")}),a.header.on("mouseleave",".c-header-menutg, .c-header-menu",function(){a.menuTimer&&clearTimeout(a.menuTimer),a.menuTimer=setTimeout(function(){a.header.removeClass("c-header-hover"),a.header.find(".c-header-menu").hide(),!a.header.hasClass("c-header-lv1")||a.header.hasClass("c-header-lv1-extend")||a.header.hasClass("c-header")||a.header.hasClass("c-header-fix")||a.header.find(".c-header-menu").show()},200)}),$(window).on("onResizeEx",function(){a.navs&&0<a.navs.length&&a.navmoreStatus()}),a.header.on("mouseenter",".header-navmore",function(){$(this).addClass("navmore-hover")}),a.header.on("mouseleave",".header-navmore",function(){$(this).removeClass("navmore-hover")}),a.header.on("click",".header-navmore",function(){$(this).toggleClass("navmore-hover")}),$(document).on("click",".open-vip-dialog",function(e){e.preventDefault();var a=$(this).attr("clocation"),n=$(this).attr("ftype"),i=$(this).attr("unid");h.vipPayMiniDialog?new h.vipPayMiniDialog("exp_1_2",a,n,i):window.open="//order.mgtv.com/pay/pc/index.html?clocation="+a+"&ftype="+n+"&unid="+i}),window.getVIPPopPayFlash=function(){var e="";VIDEOINFO?e="":!VIDEOINFO.bdid||""===VIDEOINFO.bdid&&0===VIDEOINFO.bdid?data_unid=(VIDEOINFO.cid||"")+"_"+(VIDEOINFO.vid||""):data_unid="0_"+(VIDEOINFO.bdid||"")+"_"+(VIDEOINFO.vid||""),h.vipPayMiniDialog?new h.vipPayMiniDialog("exp_1_2",60202,2,e):window.open="//order.mgtv.com/pay/pc/index.html?clocation=60202&ftype=2&unid="+e}},e.prototype.onScrollEnd=function(e){var a=this;if(window.PAGE_DATA&&window.PAGE_DATA.fixHeader)return!1;if($("#honey-header").hasClass("c-header-lv2"))return!1;if(600<e.position){if(a.header.hasClass(a.fixClass))return;a.header.addClass(a.fixClass),a.header.find(".c-header-menu").hide(),a.showIndexChanel(!0)}else a.header.removeClass(a.fixClass),a.header.hasClass("c-header-lv1")&&a.header.find(".c-header-menu").show(),a.showIndexChanel(!1)},e.prototype.getDownloadBtn=function(){var d=$("#honey-header-download"),o=($(".c-header-downloadbox"),$("#honey-header-download .c-header-panel-link")),h=$(".c-header-downloadbox .btn a"),l=$(".c-header-downloadbox ul"),c=$("#honey-header-download .download-arr"),v=$("#honey-header-download .download-arr img");$.ajax({type:"GET",url:"//www.mgtv.com/v/2018/pcweb_top_navi/",dataType:"jsonp",jsonpCallback:"mgtvcallback_top_navi",success:function(s){var e=function(e){if(s&&s[e]){var a=s[e].link,n=s[e].list,t=s[e].img;if(t&&(c.show(),v.attr("src",t)),n.length)for(d.on("mouseenter",function(){$(".c-header-panel-mod").removeClass("c-header-panel-mod-active"),$(this).addClass("c-header-panel-mod-active")}).on("mouseleave",function(){d.removeClass("c-header-panel-mod-active")}),o.on("mouseenter",function(){MgStat.send("cv",{},{mod:"D2a8zl"})}),h.attr("href",a),i=0;i<s[e].list.length;i++){var r='<li><span class="pic"><img src="'+s[e].list[i].img+'" width="24" height="24"></span><span class="txt">'+s[e].list[i].title+"</span></li>";l.append(r)}a&&o.attr("href",a)}},a=navigator.userAgent.toLowerCase();/windows nt 10.0/i.test(a)?e("win10app"):/windows phone 10.0/i.test(a)?e("win10app"):/(macintosh|mac(?=_powerpc)\s)/i.test(a)?e("macapp"):/ipad/i.test(a)||/android/i.test(a)?e("padapp"):e("win32app")},error:function(e){return!1}})},h.header=new e});