if (self.CavalryLogger) { CavalryLogger.start_js(["gX7d0"]); }

__d("AdsPageMenuLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AD_PAGE_SELECTOR.LOAD_ERROR");e.exports=a}),null);
__d("AdsPageMenuLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AD_PAGE_SELECTOR.LOAD_ERROR"}}),null);
__d("AdsPageMenuLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AD_PAGE_SELECTOR.LOAD_SUCCESS");e.exports=a}),null);
__d("AdsPageMenuLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AD_PAGE_SELECTOR.LOAD_SUCCESS"}}),null);
__d("AdsPageMenuRetryLoadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AD_PAGE_SELECTOR.RETRY_LOAD");e.exports=a}),null);
__d("AdsPageMenuRetryLoadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AD_PAGE_SELECTOR.RETRY_LOAD"}}),null);
__d("BizNotificationTabCountUtils",["BizChromeNotifTab","BizNotificationListConst"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_MAP,h=b("BizNotificationListConst").CLASSIFICATION_TO_TAB_MAP;a={incrementCountByTab:function(a,c){var d=Object.assign({},c);Object.keys(a).forEach(function(c){var e=h[c]||h[g[c]];c=a[c];e!=null&&(d[e]+=c,d[b("BizChromeNotifTab").ALL]+=c)});return d},clearTabCount:function(a,c,d){var e=Object.assign({},c),f=Object.assign({},d);a===b("BizChromeNotifTab").ALL?Object.keys(c).forEach(function(a){e[a]=0,f[a]=!1}):(e[b("BizChromeNotifTab").ALL]-=e[a],e[a]=0,f[a]=!1);return{updatedUnseenByTab:e,updatedTabCountToBeCleared:f}}};e.exports=a}),null);
__d("BizNotificationInitUnseenNotifsReducerPlugin",["BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_MAP;a={reduce:function(a,c){var d=c.initialClassificationsForUnseenNotifs,e=a.unseenNotifsClassificationsMap,f=a.unseenNotifsCountByTab;f=b("BizNotificationTabCountUtils").incrementCountByTab(c.initialUnseenNotifsCountByClassification,a.unseenNotifsCountByTab);Object.keys(d).forEach(function(a){var b=d[a];b.forEach(function(b){e[b]=g[a]||a})});return babelHelpers["extends"]({},a,{unseenNotifsClassificationsMap:e,unseenNotifsCountByTab:f})}};e.exports=a}),null);
__d("BizNotificationInitUnseenNotifsAction",["Laminar","BizNotificationInitUnseenNotifsReducerPlugin","BizNotificationPopoverDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationInitUnseenNotifsReducerPlugin"),b("BizNotificationPopoverDataProvider"),{})]},function(){return[]},"BizNotificationInitUnseenNotifsActionPlugin");e.exports=a}),null);
__d("BizNotificationPrefsProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{prefs:null}};e.exports=a}),null);
__d("BizNotificationPrefsProvider",["Laminar","BizNotificationPrefsProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("BizNotificationPrefsProviderPlugin"),"BizNotificationPrefsProviderPlugin")}),null);
__d("IndeterminateNotificationCounter",["cx","DocumentTitle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="(*) ",i={init:function(a){a>0&&i.addBadge()},addBadge:function(){__p&&__p();var a=b("DocumentTitle").get(),c=document.getElementById("NotifIndeterminateBadge"),d=c&&c.getAttribute("class");if(d!=null&&d.includes("_76t_")){c=c&&c.textContent;c!=null&&b("DocumentTitle").set("("+c+") "+a,!0);return}else if(d!=null&&d.includes("_79ig")){b("DocumentTitle").set("(99+) "+a,!0);return}b("DocumentTitle").set(h+a,!0)},removeBadge:function(){var a=b("DocumentTitle").get();b("DocumentTitle").set(a,!0)}};e.exports=i}),null);
__d("BizNotificationBadgeUtils",["cx","IndeterminateNotificationCounter","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=99,i={increaseBadgeCount:function(a){if(a!=null){var b=a.textContent;if(!b.endsWith("+")){b=Number(a.textContent)+1;a.textContent=b<=h?b+"":h+"+"}}return a},decreaseBadgeCount:function(a){a!=null&&(a.textContent="0");return a},setBadgeElementToBeActive:function(a){var c=document.getElementById("NotifIndeterminateBadge");a?(c=i.increaseBadgeCount(c),b("IndeterminateNotificationCounter").addBadge()):(c=i.decreaseBadgeCount(c),b("IndeterminateNotificationCounter").removeBadge());var d=c&&c.textContent;d=(d!=null&&!d.endsWith("+")?"_76t_":"")+(d!=null&&d.endsWith("+")?" _79ig":"");a=a?b("joinClasses")("_7256",d):b("joinClasses")("_7257",d);c&&c.setAttribute("class",a)}};e.exports=i}),null);
__d("BizNotificationReceivedNotifReducerPlugin",["BizNotificationBadgeUtils","BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_TO_MACRO_CATEGORY_MAP,h=b("BizNotificationListConst").EMPTY_UNSEEN_NOTIFS_COUNT_BY_CLASSIFICATION,i=b("BizNotificationListConst").ORDERED_CLASSIFICATIONS,j=function(a,b){if(b==null)return!1;b=b.macro_categories_excluded_from_badging;return!b.includes(g[a])};a={reduce:function(a,c,d){__p&&__p();var e=d.prefsData;d=c.notifs;var f=a.unseenNotifsClassificationsMap,g=Object.assign({},h);d.forEach(function(a){var c=a.classifications;if(c==null)return;c.forEach(function(c){i.includes(c)&&(g[c]+=1,f[a.alert_id]=c,j(c,e.prefs)&&b("BizNotificationBadgeUtils").setBadgeElementToBeActive(!0))})});c=b("BizNotificationTabCountUtils").incrementCountByTab(g,a.unseenNotifsCountByTab);return babelHelpers["extends"]({},a,{unseenNotifsClassificationsMap:f,unseenNotifsCountByTab:c})}};e.exports=a}),null);
__d("BizNotificationReceivedNotifAction",["Laminar","BizNotificationReceivedNotifReducerPlugin","BizNotificationPopoverDataProvider","BizNotificationPrefsProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationReceivedNotifReducerPlugin"),b("BizNotificationPopoverDataProvider"),{prefsData:b("BizNotificationPrefsProvider")})]},function(){return[]},"BizNotificationReceivedNotifActionPlugin");e.exports=a}),null);
__d("BizNotificationSeenStateUpdateReducerPlugin",["BizChromeNotifTab","BizNotificationBadgeUtils","BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").CLASSIFICATION_TO_TAB_MAP;a={reduce:function(a,c){__p&&__p();b("BizNotificationBadgeUtils").setBadgeElementToBeActive(!1);if(!a.isJewelOpen){var d=b("BizNotificationTabCountUtils").clearTabCount(b("BizChromeNotifTab").ALL,a.unseenNotifsCountByTab,a.tabCountToBeCleared),e=d.updatedUnseenByTab;d=d.updatedTabCountToBeCleared;return babelHelpers["extends"]({},a,{unseenNotifsCountByTab:e,tabCountToBeCleared:d})}else{var f=a.tabCountToBeCleared;Object.keys(c.seenState).forEach(function(b){b=a.unseenNotifsClassificationsMap[b];if(b!=null){b=g[b];f[b]=!0}});return babelHelpers["extends"]({},a,{tabCountToBeCleared:f})}}};e.exports=a}),null);
__d("BizNotificationSeenStateUpdateAction",["Laminar","BizNotificationSeenStateUpdateReducerPlugin","BizNotificationPopoverDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationSeenStateUpdateReducerPlugin"),b("BizNotificationPopoverDataProvider"),{})]},function(){return[]},"BizNotificationSeenStateUpdateActionPlugin");e.exports=a}),null);
__d("BizNotificationSetJewelOpenReducerPlugin",["BizNotificationBadgeUtils","BizNotificationListConst","BizNotificationTabCountUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BizNotificationListConst").TAB_MAP;a={reduce:function(a,c){__p&&__p();c=c.isJewelOpen;var d=a.tabCountToBeCleared,e=a.unseenNotifsCountByTab,f=a.tabCountToBeCleared;b("BizNotificationBadgeUtils").setBadgeElementToBeActive(!1);c||Object.keys(d).forEach(function(a){if(d[a]){a=b("BizNotificationTabCountUtils").clearTabCount(g[a],e,f);e=a.updatedUnseenByTab;f=a.updatedTabCountToBeCleared}});return babelHelpers["extends"]({},a,{isJewelOpen:c,unseenNotifsCountByTab:e,tabCountToBeCleared:f})}};e.exports=a}),null);
__d("BizNotificationSetJewelOpenAction",["Laminar","BizNotificationSetJewelOpenReducerPlugin","BizNotificationPopoverDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationSetJewelOpenReducerPlugin"),b("BizNotificationPopoverDataProvider"),{})]},function(){return[]},"BizNotificationSetJewelOpenActionPlugin");e.exports=a}),null);
__d("BizNotificationsSetPrefsReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{prefs:b.prefs})}};e.exports=a}),null);
__d("BizNotificationSetPrefsAction",["Laminar","BizNotificationsSetPrefsReducerPlugin","BizNotificationPrefsProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("BizNotificationsSetPrefsReducerPlugin"),b("BizNotificationPrefsProvider"),{})]},function(){return[]},"BIZ_NOTIFICATION.SET_PREFS");e.exports=a}),null);
__d("BizNotificationBucketingUtils",["BizNotificationConfig"],(function(a,b,c,d,e,f){"use strict";a={preProcessNodeForLiveSendBucketing:function(a){var c=b("BizNotificationConfig").notifTypeWhitelist,d=[];a.eligible_buckets==null?d=["BIZ_NON_CRITICAL"]:!a.eligible_buckets.includes("BIZ_CRITICAL")&&c.includes(a.notif_type)&&(d=["BIZ_CRITICAL"].concat(a.eligible_buckets||[]));d.length!==0&&(a.eligible_buckets=d);return a}};e.exports=a}),null);
__d("BusinessManagerNotificationsSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2375554172487069",queryID:"584010498721203"})}),null);
__d("BusinessManagerNotificationsSubscription",["BaseGraphQLSubscription","BusinessManagerNotificationsSubscriptionWebGraphQLSubscription","WebPixelRatio","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="ADS_UNIFIED_NAV";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionCallName()+"/actor_id_"+a.businessUserID+"_environment_"+g};d.getQueryID=function(){return b("BusinessManagerNotificationsSubscriptionWebGraphQLSubscription").getDocID()};d.getQueryParameters=function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),environment:g}),is_work_user:!1,scale:b("WebPixelRatio").get()}};d.getSubscriptionCallName=function(){return"web_notification_receive_subscribe"};d.getViewerID=function(a){a=a.businessUserID;return a};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("BusinessManagerNotificationSubscriptions",["Arbiter","BizNotificationBucketingUtils","BusinessManagerNotificationsSubscription","BusinessUserConf","ChannelConstants","NotificationTokens","createNotificationSubscriptions","createObjectFrom","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=b("createNotificationSubscriptions")({subscribeToNotificationHides:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notification_hidden"),function(c,d){c=b("NotificationTokens").tokenizeIDs([d.obj.notif_id+""]);d=d.obj.state===1;a(b("createObjectFrom")(c,d))})},subscribeToNotificationReadnessUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_read"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToNotificationSeenStateUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_seen"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToRealtimeChannelNotifications:function(a){return b("BusinessUserConf").businessUserID!==null?b("BusinessManagerNotificationsSubscription").subscribe({businessUserID:String(b("nullthrows")(b("BusinessUserConf").businessUserID))},function(c){c=c.web_notification_receive_subscribe.aggregated_notification;a(c?[b("BizNotificationBucketingUtils").preProcessNodeForLiveSendBucketing(c)]:null,"BusinessManagerNotificationsPayloadPagelet")}):null}})}),null);
__d("BusinessManagerGlobalNotificationSubscriptionsSubscription",["BusinessManagerNotificationSubscriptions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("BusinessManagerNotificationSubscriptions").setup()}),null);
__d("BusinessManagerNotificationExceptionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:BusinessManagerNotificationExceptionLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:BusinessManagerNotificationExceptionLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:BusinessManagerNotificationExceptionLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBusinessID=function(a){this.$1.business_id=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setExtraErrorData=function(a){this.$1.extra_error_data=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={business_id:!0,error_message:!0,event_name:!0,extra_error_data:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("BusinessManagerNotificationLogEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOTIF_SYNC_ERROR:"notif_sync_error",INVALID_UNREGISTERED_EMAIL:"invalid_unregistered_email"})}),null);
__d("BusinessManagerNotificationsSyncQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1917258221721070"};b.getQueryID=function(){return"497831067351736"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("BusinessManagerNotificationSync",["invariant","Arbiter","BizSiteIdentifier.brands","BusinessManagerNotificationExceptionTypedLogger","BusinessManagerNotificationLogEvent","BusinessManagerNotificationsSyncQueryWebGraphQLQuery","ChannelConstants","CurrentUser","NotificationConstants","NotificationUpdates","WebGraphQL","WebPixelRatio","ifRequired","objectValues","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=0;function i(){var a={endpointControllerName:"BusinessManagerNotificationsPayloadPagelet"},c;b("ifRequired")("NotificationStore",function(d){c=b("objectValues")(d.getAll(a))});if(c==null)return null;var d=c.map(function(a){return a.creation_time}).filter(Boolean);return d.length===0?null:Math.max.apply(Math,d)}function j(){__p&&__p();var a=i();if(a==null)return;var c=b("BizSiteIdentifier.brands").getBusinessID();c!=null||g(0,6163);b("promiseDone")(b("WebGraphQL").exec(new(b("BusinessManagerNotificationsSyncQueryWebGraphQLQuery"))({business_id:c,is_work_user:b("CurrentUser").isWorkUser(),newer_than:a,scale:b("WebPixelRatio").get()})),function(a){__p&&__p();if(a){a=(a=a)!=null?(a=a.business)!=null?(a=a.viewer)!=null?(a=a.notifications)!=null?a.edges:a:a:a:a;a=a&&a.map(function(a){a=a.node;return a}).filter(Boolean);if(a==null)return;a={nodes:a};b("NotificationUpdates").handleUpdate(b("NotificationConstants").PayloadSourceType.SYNC,a)}},function(a){if(a){a=a.errors;Array.isArray(a)&&a.forEach(function(a){var d=JSON.stringify(a.error||a.repsonse);new(b("BusinessManagerNotificationExceptionTypedLogger"))().setBusinessID(c).setEventName(b("BusinessManagerNotificationLogEvent").NOTIF_SYNC_ERROR).setErrorMessage(a.message).setExtraErrorData(d).log()})}})}var k=null,l=0;a={setup:function(a){__p&&__p();l++;(h===null||a>h)&&(h=a);k==null&&(k=b("Arbiter").subscribe(b("ChannelConstants").ON_INVALID_HISTORY,j));var c=!1;return{remove:function(){if(c===!0)return;k!=null||g(0,51);c=!0;l--;l===0&&(k.unsubscribe(),k=null)}}}};e.exports=a}),null);
__d("BusinessManagerGlobalNotificationSyncSubscription",["BusinessManagerNotificationSync","InitialServerTime"],(function(a,b,c,d,e,f){"use strict";e.exports=b("BusinessManagerNotificationSync").setup(b("InitialServerTime").serverTime)}),null);
__d("AdsPageMenuActions",["AdsPageMenuLoadErrorDataAction","AdsPageMenuLoadSuccessDataAction","AdsPageMenuRetryLoadDataAction"],(function(a,b,c,d,e,f){"use strict";a={updatePageMenu:function(a){b("AdsPageMenuLoadSuccessDataAction").dispatch({data:a},{line:"22",module:"AdsPageMenuActions.js"})},pageMenuFailedToLoad:function(a,c){b("AdsPageMenuLoadErrorDataAction").dispatch({data:{businessID:a,error:c}},{line:"28",module:"AdsPageMenuActions.js"})},retryLoad:function(a){b("AdsPageMenuRetryLoadDataAction").dispatch({data:{businessID:a}},{line:"37",module:"AdsPageMenuActions.js"})}};e.exports=a}),null);
__d("XAdsUnifiedNavPagesMenuItemsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/unified_nav/pages_menu_items/",{business_id:{type:"FBID"}})}),null);
__d("AdsPageMenuStore",["AdsDataAtom","AdsInterfacesLoggerUtils","AdsPageMenuActions","AdsPageMenuLoadErrorDataActionFlux","AdsPageMenuLoadSuccessDataActionFlux","AdsPageMenuRetryLoadDataActionFlux","AppConstants.brands","AsyncRequest","FluxLoadObjectStore","ICEPerformanceTimer","XAdsUnifiedNavPagesMenuItemsController","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="pages_jewel_load",h=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return h?[this.getActionTypeStartLoad(),b("AdsPageMenuLoadErrorDataActionFlux").actionType,b("AdsPageMenuLoadSuccessDataActionFlux").actionType,b("AdsPageMenuRetryLoadDataActionFlux").actionType]:null};d.reduce=function(a,c){switch(c.action.type){case b("AdsPageMenuLoadSuccessDataActionFlux").actionType:return this.__handleOne(a,c.action.data.businessID,c.action.data);case b("AdsPageMenuLoadErrorDataActionFlux").actionType:return this.__handleOne(a,c.action.data.businessID,c.action.data.error);case b("AdsPageMenuRetryLoadDataActionFlux").actionType:return this.$AdsPageMenuStore1(a,c.action.data.businessID);case b("AppConstants.brands").FAVORITE_ACTION.UPDATE_SUCCESS:return this.$AdsPageMenuStore1(a,c.action.businessID)}return a};d.$AdsPageMenuStore1=function(a,b){this.__load(b);return this.__setEmptyAndLoading(a,[b])};d.__load=function(a){var c=b("XAdsUnifiedNavPagesMenuItemsController").getURIBuilder().setFBID("business_id",a).getURI();b("ICEPerformanceTimer").start(g);b("promiseDone")(new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI(c).exec().then(function(c){b("AdsPageMenuActions").updatePageMenu({businessID:a,menu:c.payload,endpoint:null,seenPagesPromo:!0}),b("ICEPerformanceTimer").stop(g)})["catch"](function(c){c=new Error(c.getError(),c.getErrorDescription());b("AdsInterfacesLoggerUtils").logException(c);b("AdsPageMenuActions").pageMenuFailedToLoad(a,c)}))};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XAdsUnifiedNavPagePromoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/manager/ajax/unified_nav_page_promo/",{})}),null);
__d("AdsUnifiedNavigationPageMenuBootloader.react",["cx","fbt","AsyncRequest","BootloadOnInteraction.react","JSResource","LazyComponent.react","Link.react","React","XAdsUnifiedNavPagePromoController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").Component;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(a){var c=d.state.seenPagesPromo;d.setState({hasTooltip:a!=="show",seenPagesPromo:!0},function(){if(a==="show"&&!c){var d=b("XAdsUnifiedNavPagePromoController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setMethod("POST").send()}})};d.state={hasTooltip:!c.selectorShown,seenPagesPromo:c.seenPagesPromo};return d}var d=c.prototype;d.$1=function(){var a=this.state.hasTooltip?h._("Pages"):null,c=null;this.state.seenPagesPromo===!1&&(c=b("React").createElement("div",{className:"_mm0"}));return b("React").createElement(b("Link.react"),{"aria-haspopup":"true","aria-label":a,className:"_4hsu","data-hover":a?"tooltip":null,"data-testid":"unified-nav-pages-jewel","data-tooltip-content":a,"data-tooltip-delay":500,rel:"toggle",role:"button"},c)};d.render=function(){var a=this.$1(),c=babelHelpers["extends"]({onToggleMenu:this.$2},this.props);return b("React").createElement("div",null,b("React").createElement(b("BootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),c,a),loader:b("JSResource")("AdsUnifiedNavigationPageMenuContainer.react").__setRef("AdsUnifiedNavigationPageMenuBootloader.react"),placeholder:a}))};return c}(a);e.exports=c}),null);
__d("AdsUnifiedNavigationPageJewel",["AdsUnifiedNavigationPageMenuBootloader.react","ReactRenderer","Toggler","AdsPageMenuStore"],(function(a,b,c,d,e,f){"use strict";a={init:function(a,c){b("AdsPageMenuStore");a={selectorShown:b("Toggler").isNodeShown(c),businessID:a.businessID,endpoint:a.endpoint,seenPagesPromo:a.seenPagesPromo};b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("AdsUnifiedNavigationPageMenuBootloader.react"),a,c)}};e.exports=a}),null);
__d("AdsUnifiedNavNotificationsSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"1940323352716738",queryID:"2130611887257172"})}),null);
__d("AdsUnifiedNavNotificationsSubscription",["AdsUnifiedNavNotificationsSubscriptionWebGraphQLSubscription","BaseGraphQLSubscription","WebPixelRatio","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="ADS_UNIFIED_NAV";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionCallName()+"/actor_id_"+a.actorID+"_environment_"+g};d.getQueryID=function(){return b("AdsUnifiedNavNotificationsSubscriptionWebGraphQLSubscription").getDocID()};d.getQueryParameters=function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),environment:g}),is_work_user:!1,scale:b("WebPixelRatio").get()}};d.getSubscriptionCallName=function(){return"web_notification_receive_subscribe"};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("AdsUnifiedNavNotificationSubscriptions",["AdsUnifiedNavNotificationsSubscription","Arbiter","BizNotificationBucketingUtils","ChannelConstants","CurrentUser","NotificationTokens","createNotificationSubscriptions","createObjectFrom"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=b("createNotificationSubscriptions")({subscribeToNotificationHides:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notification_hidden"),function(c,d){c=b("NotificationTokens").tokenizeIDs([d.obj.notif_id+""]);d=d.obj.state===1;a(b("createObjectFrom")(c,d))})},subscribeToNotificationReadnessUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_read"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToNotificationSeenStateUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_seen"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToRealtimeChannelNotifications:function(a){return b("AdsUnifiedNavNotificationsSubscription").subscribe({actorID:b("CurrentUser").getID()},function(c){c=c.web_notification_receive_subscribe.aggregated_notification;a(c?[b("BizNotificationBucketingUtils").preProcessNodeForLiveSendBucketing(c)]:null,"AdsUnifiedNavNotificationsPayloadPagelet")})}})}),null);
__d("AdsUnifiedNavGlobalNotificationSubscriptionsSubscription",["AdsUnifiedNavNotificationSubscriptions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsUnifiedNavNotificationSubscriptions").setup()}),null);
__d("AdsUnifiedNavNotificationsSyncQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2098397340170397"};b.getQueryID=function(){return"730698150604120"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("AdsUnifiedNavNotificationSync",["invariant","AdsUnifiedNavNotificationsSyncQueryWebGraphQLQuery","Arbiter","ChannelConstants","CurrentUser","NotificationConstants","NotificationUpdates","WebGraphQL","WebPixelRatio","ifRequired","objectValues","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=0;function i(){var a={endpointControllerName:"AdsUnifiedNavNotificationsPayloadPagelet"},c;b("ifRequired")("NotificationStore",function(d){c=b("objectValues")(d.getAll(a))});if(c==null)return null;var d=c.map(function(a){return a.creation_time}).filter(Boolean);return d.length===0?null:Math.max.apply(Math,d)}function j(){__p&&__p();var a=i();if(a==null)return;b("promiseDone")(b("WebGraphQL").exec(new(b("AdsUnifiedNavNotificationsSyncQueryWebGraphQLQuery"))({is_work_user:b("CurrentUser").isWorkUser(),newer_than:a,scale:b("WebPixelRatio").get()})),function(a){__p&&__p();if(a){a=(a=a)!=null?(a=a.viewer)!=null?(a=a.notifications)!=null?a.edges:a:a:a;a=a&&a.map(function(a){a=a.node;return a}).filter(Boolean);if(a==null)return;a={nodes:a};b("NotificationUpdates").handleUpdate(b("NotificationConstants").PayloadSourceType.SYNC,a)}})}var k=null,l=0;a={setup:function(a){__p&&__p();l++;(h===null||a>h)&&(h=a);k==null&&(k=b("Arbiter").subscribe(b("ChannelConstants").ON_INVALID_HISTORY,j));var c=!1;return{remove:function(){if(c===!0)return;k!=null||g(0,51);c=!0;l--;l===0&&(k.unsubscribe(),k=null)}}}};e.exports=a}),null);
__d("AdsUnifiedNavGlobalNotificationSyncSubscription",["AdsUnifiedNavNotificationSync","InitialServerTime"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsUnifiedNavNotificationSync").setup(b("InitialServerTime").serverTime)}),null);
__d("BizNotificationPopoverInitializationHelper",["AdsNuxTourAbandonedDataAction","Arbiter","BizNotificationInitUnseenNotifsAction","BizNotificationReceivedNotifAction","BizNotificationSeenStateUpdateAction","BizNotificationSetJewelOpenAction","BizNotificationSetPrefsAction","NotificationBucketStoreManager","NotificationConstants","NotificationUpdates"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={initPrefs:function(a){b("BizNotificationSetPrefsAction").dispatch({prefs:a},{line:"31",module:"BizNotificationPopoverInitializationHelper.js"})},initTabs:function(a,c){b("BizNotificationInitUnseenNotifsAction").dispatch({initialUnseenNotifsCountByClassification:a,initialClassificationsForUnseenNotifs:c},{line:"41",module:"BizNotificationPopoverInitializationHelper.js"}),g.setupSubscriptions(),g.initSkipBucket()},initSkipBucket:function(){b("NotificationBucketStoreManager").setSkipBucketType("BIZ_CRITICAL")},setupSubscriptions:function(){b("NotificationUpdates").subscribe("update-notifications",function(a,c){a=c.payloadsource;if(a!==b("NotificationConstants").PayloadSourceType.LIVE_SEND&&a!==b("NotificationConstants").PayloadSourceType.USER_ACTION)return;a=c.nodes;c=c.seenState;a!=null?b("BizNotificationReceivedNotifAction").dispatch({notifs:a},{line:"67",module:"BizNotificationPopoverInitializationHelper.js"}):c!=null&&b("BizNotificationSeenStateUpdateAction").dispatch({seenState:c},{line:"72",module:"BizNotificationPopoverInitializationHelper.js"})}),b("Arbiter").subscribe("notificationJewel/opened",function(){b("BizNotificationSetJewelOpenAction").dispatch({isJewelOpen:!0},{line:"77",module:"BizNotificationPopoverInitializationHelper.js"})}),b("Arbiter").subscribe("notificationJewel/closed",function(){b("AdsNuxTourAbandonedDataAction").dispatch({},{line:"81",module:"BizNotificationPopoverInitializationHelper.js"}),b("BizNotificationSetJewelOpenAction").dispatch({isJewelOpen:!1},{line:"82",module:"BizNotificationPopoverInitializationHelper.js"})})}};e.exports=g}),null);
__d("XUIIndeterminateBadge",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.getCount=function(){return 0};b.setCount=function(a){return};b.setLegacyContent=function(a){return};b.increment=function(){return};return a}();e.exports=a}),null);