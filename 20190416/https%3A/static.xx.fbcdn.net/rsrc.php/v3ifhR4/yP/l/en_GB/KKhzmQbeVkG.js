if (self.CavalryLogger) { CavalryLogger.start_js(["ev9s5"]); }

__d("TahoeBackAffordanceVODIndicator.react",["React","VideoVODIndicator.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(){var a=this.$1;a&&(a.releaseSubscriptions(),a.initSubscriptions(this.props.vpc),a.setState({showVODIndicator:!1}))};d.render=function(){var a=this;return b("React").createElement(b("VideoVODIndicator.react"),{renderLocation:"tahoeBackAffordance",vpc:this.props.vpc,ref:function(b){return a.$1=b}})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("TahoeBackAffordance.react",["ix","cx","fbt","Image.react","Link.react","React","Tahoe","TahoeBackAffordanceVODIndicator.react","TahoeLandingPage","TahoeLoggerEvent","VideoComponentLiveVideoIndicator.react","VideoPlayerController","VideoPlayerOrigins","asset","gkx","shouldWNSRenderToRHC"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=[null,b("VideoPlayerOrigins").GAMES_FEED,b("VideoPlayerOrigins").GAMES_ACTION_LINK,b("VideoPlayerOrigins").PAGE_TIMELINE,b("VideoPlayerOrigins").VIDEO_HOME,b("VideoPlayerOrigins").PERMALINK];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=b("Tahoe").get();a&&a.logEvent(b("TahoeLoggerEvent").EXIT_WITH_BACK_AFFORDANCE)};d.$2=function(a){this.$1(),this.shouldGamingVideoUseWNS()&&this.$3(a)};d.$3=function(a){var c=this.props.mediaController;c&&(a.preventDefault(),b("shouldWNSRenderToRHC")()?c.emit("crossfadeWatchAndScroll"):c.emit("enterWatchAndScroll"))};d.shouldGamingVideoUseWNS=function(){var a=this.props.mediaController;return!(a instanceof b("VideoPlayerController"))?!1:b("gkx")("771527")&&a.getOption("WatchAndScroll","isEligible")&&a.getOption("GamingVideo","isGamingVideo")&&a.isBroadcast()&&j.includes(a.getPlayerOrigin())};d.render=function(){__p&&__p();var a=this,c=g("370949");if(this.props.landingPageType===b("TahoeLandingPage").SHOW_VIDEO)return b("React").createElement("div",{className:"_4ua2"},b("React").createElement(b("Link.react"),{className:"_4who",href:this.props.entryURI,onClick:this.$1},b("React").createElement(b("Image.react"),{alt:i._("Close"),src:c}),b("React").createElement("span",{className:"_4whp"},i._("Go to Facebook Watch"))));var d=this.props.mediaController&&this.props.mediaController.isLiveVideo(),e=null;d?e=b("React").createElement(b("VideoComponentLiveVideoIndicator.react"),{className:"_2nlu",inline:!0,ref:function(b){return b&&b.enable(a.props.mediaController)}}):d===!1&&this.props.mediaController instanceof b("VideoPlayerController")&&(e=b("React").createElement(b("TahoeBackAffordanceVODIndicator.react"),{vpc:this.props.mediaController}));d=null;var f=null;this.props.landingPageType===b("TahoeLandingPage").GAMING_VIDEO?(d=i._("Go to Facebook Gaming"),f=this.props.entryURI):this.props.isPermalink?(d=i._("Back To News Feed"),f="/"):(d=i._("Back"),f=this.props.entryURI);return b("React").createElement("div",{className:"_4ua2"},b("React").createElement(b("Link.react"),{className:"_4who",href:f,onClick:this.$2.bind(this)},b("React").createElement(b("Image.react"),{alt:i._("Close"),src:c}),b("React").createElement("span",{className:"_4whp"},d)),e)};return c}(b("React").Component);e.exports=a}),null);
__d("TahoeBackAffordanceContainer.react",["FluxContainer","React","TahoeBackAffordance.react","TahoeDispatcher","TahoeVideoStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;b("TahoeDispatcher").explicitlyRegisterStores([b("TahoeVideoStore")]);c.state=b("TahoeVideoStore").getState().toObject();return c}c.getStores=function(){return[b("TahoeVideoStore")]};c.calculateState=function(){var a=b("TahoeVideoStore").getState().toObject();a=a.mediaController;return{mediaController:a}};var d=c.prototype;d.render=function(){return b("React").createElement(b("TahoeBackAffordance.react"),{isPermalink:this.props.isPermalink,landingPageType:this.props.landingPageType,mediaController:this.state.mediaController,entryURI:this.props.entryURI})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);