if (self.CavalryLogger) { CavalryLogger.start_js(["B9dQf"]); }

__d("VideoSettingsControl.react",["ix","cx","fbt","AbstractButton.react","BanzaiODS","ClickableArea.react","Image.react","React","TooltipData","TrackingNodes","VideoPlayerExperiments","VideoSettingsMenu.react","asset","gkx","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;var j=720,k=2160,l=14,m=15;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={isFocus:!1};return b}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onClick=function(){!this.state.isFocus&&!this.props.disabled&&this.refs.menu&&this.refs.menu.showQualitySelector()&&b("BanzaiODS").bumpEntityKey("videos","quality_selector.impression"),this.setState(function(a){return{isFocus:!a.isFocus}}),this.props.onSettingsClick&&this.props.onSettingsClick()};d.getHDIndicator=function(){__p&&__p();var a=b("VideoPlayerExperiments").showHDIndicator&&!this.props.isInline&&this.props.selectedQuality&&(this.props.selectedQuality=="HD"||parseInt(this.props.selectedQuality,10)>=j);if(!a)return null;if(!b("gkx")("678901")){a=null;parseInt(this.props.selectedQuality,10)>=k?a="4K":a="HD";return b("React").createElement("span",{className:"_132c"},a)}a=null;parseInt(this.props.selectedQuality,10)>=k?a=b("React").createElement(b("Image.react"),{src:"/images/4k_filled_12-1.5x.png",alt:"4k",height:l,width:m}):a=b("React").createElement(b("Image.react"),{src:"/images/hd_filled_12-1.5x.png",alt:"hd",height:l,width:m});return b("React").createElement("span",{className:"_3pyk"},a)};d.render=function(){var a=b("React").createElement(b("Image.react"),{className:"_rwt",src:g("391244")}),c=i._("Additional visual settings"),d=null;!this.props.disabled&&this.state.isFocus&&(d=b("React").createElement("div",{className:"_2iw7"+(this.state.isFocus?" _2iw8":"")},b("React").createElement(b("VideoSettingsMenu.react"),{areSubtitlesActive:this.props.areSubtitlesActive,areSubtitlesAutogenerated:this.props.areSubtitlesAutogenerated,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,isLive:this.props.isLive,isSphericalVideo:this.props.isSphericalVideo,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,tabIndex:this.props.tabIndex,availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,preferredQuality:this.props.preferredQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,videoID:this.props.videoID,ref:"menu"})));var e=this.getHDIndicator(),f="_zbd"+(this.props.disabled?" _132h":""),h=i._("Settings");f=b("React").createElement(b("AbstractButton.react"),{className:f,disabled:this.props.disabled,image:a,label:c,labelIsHidden:!0,ref:"button",tabIndex:this.props.tabIndex,type:"button"});a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIDEO_SETTINGS);return b("React").createElement("div",{className:"_2j04","data-ft":a},d,b("React").createElement(b("ClickableArea.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(h,"above"),{onClick:this.onClick.bind(this)}),b("React").createElement("div",null,f,e)))};return c}(b("React").Component);c.propTypes={disabled:a.bool,hasHD:a.bool,hasSubtitles:a.bool,isHD:a.bool,isInline:a.bool,isLive:a.bool,isSphericalVideo:a.bool,areSubtitlesActive:a.bool,areSubtitlesAutogenerated:a.bool,onToggleHD:a.func,onToggleSubtitles:a.func,tabIndex:a.string,availableQualities:a.array,selectedQuality:a.string,canAutoSelectVideoQuality:a.bool,onSelectQuality:a.func,showQualitySelector:a.bool,qualitySelectorMinStreams:a.number,streamingFormat:a.string};c.defaultProps={tabIndex:"-1"};e.exports=c}),null);