if (self.CavalryLogger) { CavalryLogger.start_js(["6rUh6"]); }

__d("DynamicAdsTemplateVideoShowreelTemplateConfig",[],(function(a,b,c,d,e,f){e.exports={default_template_id:"254331995163822",templates:{254331995163822:{customization:{text_color:"FFFFFF",text_background_color:"000000"},showreel_video_template_id:"dpa_retail_prototype"}}}}),null);
__d("DynamicAdsTemplateVideoSkywalkerConfig",[],(function(a,b,c,d,e,f){e.exports={topic_prefix:"canvas_template_videos/"}}),null);
__d("AddCanvasAddCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.ADD_CANVAS"}}),null);
__d("AdsCanvasAddNewLifestyleComponentActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.ADD_NEW_LIFESTYLE_COMPONENT"}}),null);
__d("AdsCanvasBuilderLoadTemplateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.BUILDER.LOAD_TEMPLATE"}}),null);
__d("AdsCanvasBuilderOpenBlankCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.BUILDER.OPEN_BLANK_CANVAS"}}),null);
__d("AdsCanvasBuilderOpenNUXTourDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.BUILDER.OPEN_NUX_TOUR"}}),null);
__d("AdsCanvasBuilderSelectTemplateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.BUILDER.SELECT_TEMPLATE"}}),null);
__d("AdsCanvasCollectionPreviewToFacebookDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PREVIEW_CANVAS_TO_FACEBOOK"}}),null);
__d("AdsCanvasCollectionPreviewToInstagramDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PREVIEW_CANVAS_TO_INSTAGRAM"}}),null);
__d("AdsCanvasDeleteDocumentActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.DELTE_CANVAS"}}),null);
__d("AdsCanvasDisableCategoryTabsActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.DISABLE_CATEGORY_TABS"}}),null);
__d("AdsCanvasDisableMultiTabCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.DISABLE_MULTI_TAB_CANVAS"}}),null);
__d("AdsCanvasDocIdLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.DOC_ID.LOADED"}}),null);
__d("AdsCanvasDocumentAddNewElementsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.ADD_NEW_ELEMENTS"}}),null);
__d("AdsCanvasDocumentCreateErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.CREATE_ERROR");e.exports=a}),null);
__d("AdsCanvasDocumentCreateErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.CREATE_ERROR"}}),null);
__d("AdsCanvasDocumentCreateSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.CREATE_SUCCESS");e.exports=a}),null);
__d("AdsCanvasDocumentCreateSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.CREATE_SUCCESS"}}),null);
__d("AdsCanvasDocumentDuplicateErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.DUPLICATE_ERROR");e.exports=a}),null);
__d("AdsCanvasDocumentDuplicateErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.DUPLICATE_ERROR"}}),null);
__d("AdsCanvasDocumentDuplicateSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.DUPLICATE_SUCCESS");e.exports=a}),null);
__d("AdsCanvasDocumentDuplicateSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.DUPLICATE_SUCCESS"}}),null);
__d("AdsCanvasDocumentInitDuplicateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.INIT_DUPLICATE"}}),null);
__d("AdsCanvasDocumentInitPublishDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.INIT_PUBLISH"}}),null);
__d("AdsCanvasDocumentInitSaveDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.INIT_SAVE"}}),null);
__d("AdsCanvasDocumentLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.LOAD_ERROR");e.exports=a}),null);
__d("AdsCanvasDocumentLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.LOAD_ERROR"}}),null);
__d("AdsCanvasDocumentLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.LOAD_SUCCESS");e.exports=a}),null);
__d("AdsCanvasDocumentLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.LOAD_SUCCESS"}}),null);
__d("AdsCanvasDocumentReorderElementsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.REORDER_ELEMENTS"}}),null);
__d("AdsCanvasDocumentSaveDynamicCanvasErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CANVAS.CREATE_DYNAMIC_CANVAS_ERORR");e.exports=a}),null);
__d("AdsCanvasDocumentSaveDynamicCanvasErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.CREATE_DYNAMIC_CANVAS_ERORR"}}),null);
__d("AdsCanvasDocumentSaveErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.SAVE_ERROR");e.exports=a}),null);
__d("AdsCanvasDocumentSaveErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.SAVE_ERROR"}}),null);
__d("AdsCanvasDocumentSaveSuccessDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentsAdsCanvasDocumentSaveSuccessDataReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})}),b("ifRequired")("AdsUEditorAdgroupSaveCanvasReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"DOCUMENT.SAVE_SUCCESS");e.exports=a}),null);
__d("AdsCanvasDocumentSetSupportInstagramActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.SET_SUPPORT_INSTAGRAM"}}),null);
__d("AdsCanvasDocumentSetTitleDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"DOCUMENT.SET_TITLE"}}),null);
__d("AdsCanvasElementCreateErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.CREATE_ERROR");e.exports=a}),null);
__d("AdsCanvasElementCreateErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ELEMENT.CREATE_ERROR"}}),null);
__d("AdsCanvasElementCreateSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.CREATE_SUCCESS");e.exports=a}),null);
__d("AdsCanvasElementCreateSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ELEMENT.CREATE_SUCCESS"}}),null);
__d("AdsCanvasElementDeleteDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ELEMENT.DELETE"}}),null);
__d("AdsCanvasElementLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.LOAD_ERROR");e.exports=a}),null);
__d("AdsCanvasElementLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ELEMENT.LOAD_ERROR"}}),null);
__d("AdsCanvasElementLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.LOAD_SUCCESS");e.exports=a}),null);
__d("AdsCanvasElementLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ELEMENT.LOAD_SUCCESS"}}),null);
__d("AdsCanvasElementSaveErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.SAVE_ERROR");e.exports=a}),null);
__d("AdsCanvasElementSaveErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ELEMENT.SAVE_ERROR"}}),null);
__d("AdsCanvasElementSaveSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.SAVE_SUCCESS");e.exports=a}),null);
__d("AdsCanvasElementSaveSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ELEMENT.SAVE_SUCCESS"}}),null);
__d("AdsCanvasElementSetDefaultCategoriesEnabledActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsCanvasElementSetDefaultCategoriesEnabledActionPlugin"}}),null);
__d("AdsCanvasElementSwitchButtonPositionDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ELEMENT.SWITCH_BUTTON_POSITION"}}),null);
__d("AdsCanvasEnableCategoryTabsActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.ENABLE_CATEGORY_TABS"}}),null);
__d("AdsCanvasEnableMultiTabCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.ENABLE_MULTI_TAB_CANVAS"}}),null);
__d("AdsCanvasInitDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"INIT"}}),null);
__d("AdsCanvasInlineBuilderPreviewCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PREVIEW_CANVAS"}}),null);
__d("AdsCanvasInlineBuilderSaveAllCanvasesActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SAVE_ALL_CANVASES"}}),null);
__d("AdsCanvasInlineBuilderSaveCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SAVE_CANVAS"}}),null);
__d("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SET_PRODUCT_TAGGING_COORDINATES"}}),null);
__d("AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"SHOW_PRODUCT_TAGGING_OVERLAY"}}),null);
__d("AdsCanvasInlineToggleLeadFormElementDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"canvasInlineBuilderToggleLeadFormElement"}}),null);
__d("AdsCanvasInlineToggleStoreLocatorElementActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.INLINE.TOGGLE_STORE_LOCATOR"}}),null);
__d("AdsCanvasInlineTransformCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS.CANVAS.INLINE.TRANSFORM_CANVAS"}}),null);
__d("AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CANCAS_LANDING_PAGE_REPLACEMENT_CHECKBOX.SET_CHECKBOX"}}),null);
__d("AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_CANCAS_LANDING_PAGE_REPLACEMENT_CHECKBOX.SHOW_FINISHING_NUX"}}),null);
__d("AdsCanvasLoadDynamicCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.LOAD_DYNAMIC_CANVAS"}}),null);
__d("AdsCanvasReorderMultiCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.REORDER_MULTI_CANVAS"}}),null);
__d("AdsCanvasResetCanvasDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CANVAS.RESET_CANVAS");e.exports=a}),null);
__d("AdsCanvasResetCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.RESET_CANVAS"}}),null);
__d("AdsCanvasSelectCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.SELECT_CANVAS"}}),null);
__d("AdsCanvasSetHideProductPricesForLifestyleComponentsActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.SET_HIDE_PRODUCT_PRICES_FOR_LIFESTYLE"}}),null);
__d("AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.SET_PRODUCT_CATALOG_FOR_LIFESTYLE"}}),null);
__d("AdsCanvasSetProductCategorizationCriteriaActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsCanvasSetProductCategorizationCriteriaActionPlugin"}}),null);
__d("AdsCanvasSetSearchSourceDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CANVAS.SET_SEARCH_SOURCE");e.exports=a}),null);
__d("AdsCanvasShowCloseUnsavedCanvasDialogDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CANVAS.SHOW_CLOSE_UNSAVED_CANVAS_DIALOG");e.exports=a}),null);
__d("AdsCanvasShowCloseUnsavedCanvasDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.SHOW_CLOSE_UNSAVED_CANVAS_DIALOG"}}),null);
__d("AdsCanvasSwitchElementTypeActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.SWITCH_ELEMENT_TYPE"}}),null);
__d("AdsCanvasUnifiedBuilderToggleHeaderElementActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.INLINE.TOGGLE_HEADER"}}),null);
__d("AdsIXElementTransformCacheProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Map;c={initialState:a()};e.exports=c}),null);
__d("AdsIXElementTransformCacheProvider",["Laminar","AdsIXElementTransformCacheProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsIXElementTransformCacheProviderPlugin"),"AdsIXElementTransformCacheProviderPlugin")}),null);
__d("AdsLeadGenFormEditorFormDuplicateFailedActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"leadGenFormEditorFormDuplicateFailed"}}),null);
__d("AdsLeadGenFormEditorQuestionsConditionalAnswerSetUploadErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"leadGenFormEditorQuestionsConditionalAnswerSetUploadError"}}),null);
__d("AdsLeadGenFormEditorQuestionsConditionalAnswerSetUploadSuccessActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"leadGenFormEditorQuestionsConditionalAnswerSetUploadSuccess"}}),null);
__d("AdsLeadGenFormEditorToggleElementAddedInCanvasEditorActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLeadGenFormEditorActionTypes.TOGGLE_ELEMENT_ADDED"}}),null);
__d("AdsLeadGenFormPreviewSetPreviewTypeActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"leadGenFormPreviewSetPreviewTypeDataAction"}}),null);
__d("XAdsLeadGenUnifiedBuilderGatingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/lead_ads/check_unified_builder_visibility/",{page_id:{type:"FBID",required:!0}})}),null);
__d("AdsLeadGenUnifiedBuilderGatingDataManager",["Promise","AsyncRequest","XAdsLeadGenUnifiedBuilderGatingController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.getPageGatingValue=function(a){var c=b("XAdsLeadGenUnifiedBuilderGatingController").getURIBuilder().setFBID("page_id",a).getURI();return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))().setURI(c).setHandler(function(b){b=b.payload;b.error?d(new Error(b.error)):a(b)}).setErrorHandler(function(a){d(a)}).send()})};return a}();e.exports=new a()}),null);
__d("AdsLeadGenUnifiedBuilderGatingDataProviderPlugin",["AdsLeadGenUnifiedBuilderGatingDataManager","LoadObject","LoadObjectMap","promiseDone","promiseLoadObjects"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){a(function(a){return a.set(c.pageID,b("LoadObject").withValue(c.isUnifiedBuilderVisible))})}a={initialState:function(a){return b("LoadObjectMap").create(function(c){var d=new Map();c.forEach(function(a){return d.set(a,b("AdsLeadGenUnifiedBuilderGatingDataManager").getPageGatingValue(a))});b("promiseDone")(b("promiseLoadObjects")(d),function(b){b.forEach(function(b,c){b.hasValue()&&g(a,{pageID:c,isUnifiedBuilderVisible:b.getValueEnforcing()})})})})}};e.exports=a}),null);
__d("AdsLeadGenUnifiedBuilderGatingDataProvider",["Laminar","AdsLeadGenUnifiedBuilderGatingDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLeadGenUnifiedBuilderGatingDataProviderPlugin"),"AdsLeadGenUnifiedBuilderGatingDataProviderPlugin")}),null);
__d("AdsRichMediaEditorBackToMenuDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.BACK_TO_MENU");e.exports=a}),null);
__d("AdsRichMediaEditorBackToMenuDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.BACK_TO_MENU"}}),null);
__d("AdsRichMediaEditorLoadPageDataErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.LOAD_PAGE_DATA_ERROR");e.exports=a}),null);
__d("AdsRichMediaEditorLoadPageDataSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.LOAD_PAGE_DATA_SUCCESS");e.exports=a}),null);
__d("AdsRichMediaEditorResetUnpublishedCanvasDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.RESET_UNPUBLISHED_CANVAS");e.exports=a}),null);
__d("AdsRichMediaEditorSetAddComponentDialogShownDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_ADD_COMPONENT_DIALOG_SHOWN");e.exports=a}),null);
__d("AdsRichMediaEditorSetAddComponentDialogShownDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_ADD_COMPONENT_DIALOG_SHOWN"}}),null);
__d("AdsRichMediaEditorSetCanvasPageidDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_CANVAS_PAGEID");e.exports=a}),null);
__d("AdsRichMediaEditorSetCanvasPageidDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_CANVAS_PAGEID"}}),null);
__d("AdsRichMediaEditorSetCanvasSourceDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_CANVAS_SOURCE");e.exports=a}),null);
__d("AdsRichMediaEditorSetCanvasSourceDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_CANVAS_SOURCE"}}),null);
__d("AdsRichMediaEditorSetDialogCanvasDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_DIALOG_CANVAS");e.exports=a}),null);
__d("AdsRichMediaEditorSetDialogShownDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_DIALOG_SHOWN");e.exports=a}),null);
__d("AdsRichMediaEditorSetDocumentThemeDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_DOCUMENT_THEME");e.exports=a}),null);
__d("AdsRichMediaEditorSetDocumentThemeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_DOCUMENT_THEME"}}),null);
__d("AdsRichMediaEditorSetDocumentUrlDialogShownDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_DOCUMENT_URL_DIALOG_SHOWN");e.exports=a}),null);
__d("AdsRichMediaEditorSetDocumentUrlDialogShownDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_DOCUMENT_URL_DIALOG_SHOWN"}}),null);
__d("AdsRichMediaEditorSetInstagramValidationFailedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_INSTAGRAM_VALIDATION_FAILED");e.exports=a}),null);
__d("AdsRichMediaEditorSetManualCatalogCreatedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_MANUAL_CATALOG_CREATED"}}),null);
__d("AdsRichMediaEditorSetPreviewFailedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_PREVIEW_FAILED");e.exports=a}),null);
__d("AdsRichMediaEditorSetPreviewFailedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_PREVIEW_FAILED"}}),null);
__d("AdsRichMediaEditorSetPreviewTypeDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_PREVIEW_TYPE");e.exports=a}),null);
__d("AdsRichMediaEditorSetPreviewTypeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_PREVIEW_TYPE"}}),null);
__d("AdsRichMediaEditorSetSelectedCanvasDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_SELECTED_CANVAS");e.exports=a}),null);
__d("AdsRichMediaEditorSetSendingPreviewDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_SENDING_PREVIEW");e.exports=a}),null);
__d("AdsRichMediaEditorSetSendingPreviewDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_SENDING_PREVIEW"}}),null);
__d("AdsRichMediaEditorSetShowTemplatesDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_SHOW_TEMPLATES");e.exports=a}),null);
__d("AdsRichMediaEditorSetShowTemplatesDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_SHOW_TEMPLATES"}}),null);
__d("AdsRichMediaEditorSetSwipeToOpenEnabledDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_SWIPE_TO_OPEN_ENABLED");e.exports=a}),null);
__d("AdsRichMediaEditorSetSwipeToOpenEnabledDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_SWIPE_TO_OPEN_ENABLED"}}),null);
__d("AdsRichMediaEditorSetUnpublishedCanvasDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_UNPUBLISHED_CANVAS");e.exports=a}),null);
__d("AdsRichMediaEditorSetValidationFailedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.SET_VALIDATION_FAILED");e.exports=a}),null);
__d("AdsRichMediaEditorSetValidationFailedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SET_VALIDATION_FAILED"}}),null);
__d("AdsRichMediaEditorShowManualProductComposerDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.SHOW_MANUAL_PRODUCT_COMPOSER_DIALOG"}}),null);
__d("AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN");e.exports=a}),null);
__d("AdsRichMediaEditorToggleDocumentDebugPaneShownDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN"}}),null);
__d("AdsRichMediaEditorToolbarPublishClickDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.TOOLBAR_PUBLISH_CLICK");e.exports=a}),null);
__d("AdsRichMediaEditorTriggerNuxTourDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"RichMediaEditor.TRIGGER_NUX_TOUR");e.exports=a}),null);
__d("AdsRichMediaEditorTriggerNuxTourDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RichMediaEditor.TRIGGER_NUX_TOUR"}}),null);
__d("AdsCanvasEditorEnums",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SAVED:0,SAVING:1,UNSAVED:2});c=b("keyMirror")({NONE:null,WARNING:null,ERROR:null});d=b("keyMirror")({WEBSITE:null,NATIVE:null,CANVAS:null});f=b("keyMirror")({WHITE:null,BLACK:null,CUSTOM:null});b=b("keyMirror")({FACEBOOK:null,MOBILE_SITE:null,INSTAGRAM:null});e.exports={DocumentThemeEnum:f,ErrorTypeEnum:c,SaveStateEnum:a,LinkDestinationEnum:d,PreviewEnum:b}}),null);
__d("ApiCanvasDynamicPhotoElementFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BOTTOM_PADDING:"bottom_padding",BUNDLE_FOLDER_ID:"bundle_folder_id",NAME:"name",PHOTO:"photo",STYLE:"style",TOP_PADDING:"top_padding"})}),null);
__d("ApiCanvasDynamicProductSetElementFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BUNDLE_FOLDER_ID:"bundle_folder_id",BOTTOM_PADDING:"bottom_padding",CATEGORIZATION_CRITERIA:"categorization_criteria",ITEM_DESCRIPTION:"item_description",ITEM_HEADLINE:"item_headline",NAME:"name",PRODUCT_SET_ID:"product_set_id",PRODUCT_CATALOG_ID:"product_catalog_id",TOP_PADDING:"top_padding"})}),null);
__d("CanvasDataUtils",["ApiCanvasDynamicPhotoElementFields","ApiCanvasDynamicProductSetElementFields","GraphAPIFieldUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["bottom_padding","element_type","id","name","top_padding"];a={getFieldsForPagesCanvasList:function(){return["id","name","background_color","is_published","update_time","fb_body_elements","element_payload","canvas_link","last_editor","store_url","linked_documents",b("GraphAPIFieldUtils").getFieldWithSubfields("source_template",["id"]),"style_list","tags","property_list","ui_property_list",b("GraphAPIFieldUtils").getFieldWithSubfields("dynamic_setting",[b("GraphAPIFieldUtils").getFieldWithSubfields("child_documents",["id"])]),"owner","canvas_ad_settings"]},getFieldsForButtonElement:function(){return[].concat(g,["action","background_color","button_color","button_style","deep_link","font_family","font_size","line_height","rich_text","text_alignment","text_color"])},getFieldsForCarouselElement:function(){return[].concat(g,[b("GraphAPIFieldUtils").getFieldWithSubfields("child_elements",this.getFieldsForPhotoElement()),"style"])},getFieldsForDynamicPhotoElement:function(){return[].concat(g,[b("ApiCanvasDynamicPhotoElementFields").BUNDLE_FOLDER_ID])},getFieldsForDynamicProductSetElement:function(){return[].concat(g,[b("ApiCanvasDynamicProductSetElementFields").BUNDLE_FOLDER_ID,b("ApiCanvasDynamicProductSetElementFields").CATEGORIZATION_CRITERIA,b("ApiCanvasDynamicProductSetElementFields").ITEM_DESCRIPTION,b("ApiCanvasDynamicProductSetElementFields").ITEM_HEADLINE,b("ApiCanvasDynamicProductSetElementFields").PRODUCT_SET_ID,b("ApiCanvasDynamicProductSetElementFields").PRODUCT_CATALOG_ID])},getFieldsForElementType:function(){return["element_type"]},getFieldsForFooterElement:function(){return[].concat(g,["background_color",b("GraphAPIFieldUtils").getFieldWithSubfields("child_elements",this.getFieldsForButtonElement())])},getFieldsForHeaderElement:function(){var a=this,c=this.getFieldsForPhotoElement().concat(this.getFieldsForTextElement().filter(function(b){return a.getFieldsForPhotoElement().indexOf(b)===-1}));return[].concat(g,["background_color",b("GraphAPIFieldUtils").getFieldWithSubfields("fb_child_elements",c)])},getFieldsForPhotoElement:function(){return[].concat(g,["action","deep_link",b("GraphAPIFieldUtils").getFieldWithSubfields("photo",["height","id","source","width"]),"style","element_group_key",b("GraphAPIFieldUtils").getFieldWithSubfields("product_tags",["catalog_id","coordinates","product_id"]),"hide_product_prices"])},getFieldsForProductListElement:function(){return[].concat(g,["item_description","item_headline","product_catalog_id","product_id_list"])},getFieldsForProductSetElement:function(){return[].concat(g,["item_description","item_headline","max_products","product_catalog_id","product_set_id","show_in_feed","retailer_item_ids",b("GraphAPIFieldUtils").getFieldWithSubfields("storefront_setting",["enable_sections","enable_rich_layout","enable_shop_by_category","customized_section_titles","enable_promotion_section","promotion_text_setting",b("GraphAPIFieldUtils").getFieldWithSubfields("promotion_photo",["height","id","source","width"])])])},getFieldsForStoreLocatorElement:function(){return[].concat(g,["header_background_color","location_source_id","theme","typeface"])},getFieldsForTemplateVideoElement:function(){return[].concat(g,["config_id","preview_ready","product_set_id","template_video_spec"])},getFieldsForTextElement:function(){return[].concat(g,["background_color","font_family","font_size","line_height","rich_text","text_alignment","text_color","element_group_key"])},getFieldsForVideoElement:function(){return[].concat(g,["style",b("GraphAPIFieldUtils").getFieldWithSubfields("video",["id","spherical",b("GraphAPIFieldUtils").getFieldWithSubfields("thumbnails",["height","is_preferred","uri","width"])])])},getFieldsForLeadFormElement:function(){return[].concat(g,["leadgen_data_id"])},isNewDocumentID:function(a){return isNaN(a)},isNewElementID:function(a){return isNaN(a)},isNewDocument:function(a){return isNaN(a.getID())},isNewElement:function(a){return isNaN(a.getID())}};e.exports=a}),null);
__d("AdsIXBuilderDisplayConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";e.exports={IX_BUILDER_DEFAULT_TITLE:g._("Untitled Instant Experience"),IX_BUILDER_WELCOME_SCREEN:{header:g._("Build an Instant Experience"),description:g._("Instant experiences give you more space to tell people about your business or brand. Combine photos and videos in different ways to create a full-screen landing page that loads instantly."),open_blank_button:g._("Open blank template")}}}),null);
__d("AdsCanvasDefaultNewDocumentID",[],(function(a,b,c,d,e,f){"use strict";e.exports="ADS_CANVAS_DEFAULT_NEW_DOCUMENT_ID"}),null);
__d("CanvasUIProperty",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUPPORT_INSTAGRAM_CANVAS:"support_instagram_canvas"})}),null);
__d("AdsCanvasDocument",["AdsCanvasDefaultNewDocumentID","AdsIXBuilderDisplayConstants","CanvasSource","CanvasUIProperty","CurrentUser","Instant","RichMediaElementTypeConstant","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsIXBuilderDisplayConstants").IX_BUILDER_DEFAULT_TITLE;var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;c=b("immutable").Record;var h=b("immutable").List;d={backgroundColor:"FFFFFFFF",canvasAdSettings:{},dynamicSetting:null,elements:h([]),id:"",isPublished:!1,owner:null,propertyList:h([]),source:b("CanvasSource").OTHER,sourceTemplateID:null,swipeToOpenEnabled:!0,title:a.toString(),tags:h([]),updateTime:b("Instant").now()/1e3,uiPropertyList:h([])};f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){var d=a.fb_body_elements?h(a.fb_body_elements.map(function(a){return{id:a.id,elementType:a.element_type}})):h([]),e=a.style_list?a.style_list.includes("ENABLE_SWIPE_TO_OPEN"):!1,f=a.dynamic_setting?{childDocumentIDs:a.dynamic_setting.child_documents.map(function(a){return a.id}),productSetID:b("nullthrows")(a.dynamic_setting).product_set_id}:null;return new c({backgroundColor:a.background_color,canvasAdSettings:{isCanvasCollectionEligible:a.canvas_ad_settings.is_canvas_collection_eligible,leadGenFormID:a.canvas_ad_settings.lead_gen_form_id,productSetID:a.canvas_ad_settings.product_set_id,useRetailerItemIDs:a.canvas_ad_settings.use_retailer_item_ids},dynamicSetting:f,elements:d,id:a.id,isPublished:a.is_published,owner:a.owner,propertyList:h(a.property_list),sourceTemplateID:a.source_template?a.source_template.id:null,swipeToOpenEnabled:e,title:a.name,tags:h(a.tags),uiPropertyList:h(a.ui_property_list),updateTime:a.update_time})};c.createNewDocument=function(a,d){d===void 0&&(d=!1);d=d?h([b("CanvasUIProperty").SUPPORT_INSTAGRAM_CANVAS]):h([]);return new c({id:b("AdsCanvasDefaultNewDocumentID"),source:a,uiPropertyList:d})};var d=c.prototype;d.toAPI=function(){return{background_color:this.getBackgroundColor(),body_element_ids:this.getElements().toArray().map(function(a){return a.id}),enable_swipe_to_open:this.getSwipeToOpenEnbaled(),name:this.getTitle(),property_list:this.getPropertyList(),source_template_id:this.getSourceTemplateID(),tags:this.getTags(),ui_property_list:this.uiPropertyList.toArray(),update_time:this.getUpdateTime()}};d.toOldAPI=function(){return babelHelpers["extends"]({},this.hasOwner()?{owner:this.getOwner()}:null,{background_color:this.getBackgroundColor(),body_elements:this.getElements().toArray().map(function(a){return{element_type:a.elementType,id:a.id}}),canvas_ad_settings:this.getCanvasAdSettingsToOldAPI(),id:this.getID(),is_published:this.getIsPublished(),last_editor:{name:b("CurrentUser").getName()},property_list:this.getPropertyList(),style_list:this.getSwipeToOpenEnbaled()?["ENABLE_SWIPE_TO_OPEN"]:[],source_template_id:this.getSourceTemplateID(),name:this.getTitle(),tags:this.getTags(),update_time:this.getUpdateTime(),use_retailer_item_ids:!1})};d.addNewElements=function(a,b){__p&&__p();var c=this.getElements().toArray(),d=this.getBottomOffset(),e=b!=null?b:c.length;b=a;a=b.map(function(a){return a.elementType}).indexOf(g.HEADER);if(a!==-1){var f=b.get(a);c.length===0?b=b.remove(a).unshift(f):(b=b["delete"](a),c.unshift(f))}b=this.$AdsCanvasDocument1(b,g.LEAD_GEN_FORM);b=this.$AdsCanvasDocument1(b,g.STORE_LOCATOR);b.map(function(a,b){c.splice(e+b-d,0,a)});return this.set("elements",h(c))};d.getBackgroundColor=function(){return this.get("backgroundColor")};d.getCanvasAdSettings=function(){return this.get("canvasAdSettings")};d.getCanvasAdSettingsToOldAPI=function(){var a=this.getCanvasAdSettings(),b={};a.isCanvasCollectionEligible!=null&&(b.is_canvas_collection_eligible=a.isCanvasCollectionEligible);a.leadGenFormID!=null&&(b.lead_gen_form_id=a.leadGenFormID);a.productSetID!=null&&a.productSetID!==""&&(b.product_set_id=a.productSetID);a.useRetailerItemIDs!=null&&(b.use_retailer_item_ids=a.useRetailerItemIDs);return b};d.getTitle=function(){return this.get("title")};d.getIsPublished=function(){return this.get("isPublished")};d.getID=function(){return this.get("id")};d.getUpdateTime=function(){return this.get("updateTime")};d.getElements=function(){return this.get("elements")};d.getElementIDs=function(){return this.get("elements").map(function(a){return a.id})};d.getPropertyList=function(){return this.get("propertyList").toArray()};d.getSource=function(){return this.get("source")};d.getSourceTemplateID=function(){return this.get("sourceTemplateID")};d.getTags=function(){return this.get("tags").toArray()};d.getHasFooterElement=function(){var a=this.getElements();return a.count()===0?!1:a.last().elementType===g.FOOTER};d.getHasHeaderElement=function(){var a=this.getElements();return a.count()===0?!1:a.first().elementType===g.HEADER};d.getHasStoreLocatorElement=function(){var a=this.getElements();return this.getHasFooterElement()&&a.count()>1?a.get(a.count()-2).elementType===g.STORE_LOCATOR:a.count()>0&&a.last().elementType===g.STORE_LOCATOR};d.getHasLeadFormElement=function(){var a=this.getElements();a=a.findIndex(function(a){return a.elementType===g.LEAD_GEN_FORM});return a!==-1};d.getBottomOffset=function(){var a=0;this.getHasFooterElement()&&a++;this.getHasStoreLocatorElement()&&a++;this.getHasLeadFormElement()&&a++;return a};d.getSwipeToOpenEnbaled=function(){return this.get("swipeToOpenEnabled")};d.hasOwner=function(){return this.has("owner")&&Boolean(this.get("owner"))};d.getOwner=function(){return this.get("owner")};d.reorderElements=function(a,b){var c=this.getElements().toArray();b=b;a<b&&b--;b===0&&this.getHasHeaderElement()?b=1:b>=c.length-this.getBottomOffset()&&(b=c.length-this.getBottomOffset()-1);c.splice(b,0,c.splice(a,1)[0]);return this.set("elements",h(c))};d.setBackgroundColor=function(a){return this.set("backgroundColor",a)};d.setTitle=function(a){return this.set("title",a)};d.setElements=function(a){return this.set("elements",a)};d.setUpdateTime=function(a){return this.set("updateTime",a)};d.$AdsCanvasDocument1=function(a,b){b=a.map(function(a){return a.elementType}).indexOf(b);var c=a;if(b!==-1){a=a.get(b);c=c.remove(b).push(a)}return c};return c}(c(d));e.exports=f}),null);
__d("AdsCanvasDocumentDataLoader",["AdsGraphAPI","CanvasDataUtils","GraphAPIFieldUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.getDocument=function(a){return b("AdsGraphAPI").get(e.id).object("rich_media_document",a).get({fields:b("CanvasDataUtils").getFieldsForPagesCanvasList(),summary:!0})};c.getLinkedCanvases=function(a){return b("AdsGraphAPI").get(e.id).object("rich_media_document",a).get({fields:b("GraphAPIFieldUtils").getFieldWithSubfields("linked_documents",b("CanvasDataUtils").getFieldsForPagesCanvasList()),summary:!0})};c.getDocumentElements=function(a){return b("AdsGraphAPI").get(e.id).object("rich_media_document",a).get({fields:["body_elements{id}"],summary:!0})};c.createDocument=function(a,c,d){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvases").post(babelHelpers["extends"]({},a.toAPI(),{is_hidden:d,source:a.getSource()}))};c.createDynamicDocument=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvases").post({child_document_ids:a})};c.updateDocument=function(a,c,d){return b("AdsGraphAPI").get(e.id).object("rich_media_document",a.getID()).post(babelHelpers["extends"]({},a.toAPI(),{is_published:c,is_hidden:d,should_publish_linked_documents:c}))};return a}();e.exports=new a()}),null);
__d("RichMediaEditorConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={EDITOR_HEIGHT:666,EDITOR_ELEMENT_ID_PREFIX:"editor_element",EDITOR_ELEMENT_CONTAINER_ID:"editor_element_container",EDITOR_FONT_FAMILIES:["sans-serif","serif","HelveticaNeue","HelveticaNeue-Light","HelveticaNeue-Medium","HelveticaNeue-UltraLight","HelveticaNeue-CondensedBold","Georgia"],EDITOR_LINE_HEIGHT:["0.8","1.0","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2.0"],EDITOR_DEFAULT_LINE_HEIGHT:"1.2",EDITOR_PADDING:["0","4","8","12","16","20","24","28","32","48","96","192"],EDITOR_DEFAULT_PADDING:"0",EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL:"48",EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL:"20",EDITOR_PADDING_PREVIEW_SCALE:1.2,INLINE_EDITOR_HEIGHT:768,INLINE_PREVIEW_WIDTH:432,INLINE_PREVIEW_HEIGHT_WITH_TAB:695,INLINE_PREVIEW_WIDTH_WITH_TAB:408,INLINE_PREVIEW_MARGIN_WITH_TAB:12,MAX_LENGTH_SCRUBBABLE_GIF_SEC:30,MIN_LENGTH_SCRUBBABLE_GIF_SEC:1,TEXT_LIMIT:30,UNIFIED_EDITOR_WIDTH:856,TEXT_LINE_LIMIT:1}}),null);
__d("AdsCanvasElementBase",["RichMediaEditorConstants","RichMediaElementTypeConstant","abstractMethod","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("RichMediaElementTypeConstant").RichMediaElementTypes;f=b("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING;var g=b("immutable").Record;d={advancedExpanded:!1,background_color:"#FFFFFF",elementType:d.UNKNOWN,expanded:!0,id:"",index:-1,type:0,name:"",padding:{paddingBottom:f,paddingTop:f}};function a(a){var b={elementType:a.element_type,id:a.id,name:a.name,padding:{paddingBottom:a.bottom_padding,paddingTop:a.top_padding}};Object.keys(b).map(function(a){(b[a]==null||b[a]==="")&&delete b[a]});return b}function c(a){return{name:a.get("name"),bottom_padding:a.getPadding().paddingBottom,top_padding:a.getPadding().paddingTop}}f=function(a){__p&&__p();return function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){return b("abstractMethod")("AdsCanvasElement","fromAPI")};c.createNewElement=function(a,c){return b("abstractMethod")("AdsCanvasElement","createNewElement")};c.validate=function(a,c){return b("abstractMethod")("AdsCanvasElement","validate")};var d=c.prototype;d.toAPI=function(){return b("abstractMethod")("AdsCanvasElement","toAPI")};d.getAdvancedExpanded=function(){return this.get("advancedExpanded")};d.getExpanded=function(){return this.get("expanded")};d.getElementType=function(){return this.get("elementType")};d.getID=function(){return this.get("id")};d.getName=function(){return this.get("title")};d.getPadding=function(){return this.get("padding")};d.isSwipeToOpenEligible=function(){return!1};d.getSharedMultiTabFields=function(){return[]};return c}(g(a))};var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(f(d));e.exports={AdsCanvasElementRecord:f,AdsCanvasElementDefault:d,AdsCanvasUnknownElement:h,getSharedAPIFields:a,setSharedAPIFields:c}}),null);
__d("AdsCanvasBuilderAPIUtils",["AdsCanvasEditorEnums","convertFromRawToDraftState","isAdsCanvasLink"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasEditorEnums").LinkDestinationEnum;function a(a){if(a.blocks==null)return{plain_text:"",inline_styles:[],entity_ranges:[]};var b=0;return a.blocks.map(function(a,c){c={plain_text:a.text,inline_styles:a.inlineStyleRanges.map(function(a){return{style:h(String(a.style)),offset:b+a.offset,length:a.length}}),entity_ranges:a.entityRanges};b+=a.text.length;return c}).reduce(function(a,b){return{plain_text:a.plain_text+"\n"+b.plain_text,inline_styles:a.inline_styles.concat(b.inline_styles),entity_ranges:a.entity_ranges.concat(b.entity_ranges)}})}function c(a){return b("convertFromRawToDraftState")({blocks:[{key:null,type:"unstyled",text:a.plain_text?a.plain_text:"",depth:0,inlineStyleRanges:a.inline_styles?a.inline_styles.map(function(a){return{style:a.style,offset:a.offset,length:a.length}}):[],entityRanges:a.entity_ranges?a.entity_ranges:[]}],entityMap:{}})}function h(a){switch(a){case"1":return"BOLD";case"2":return"ITALIC";case"4":return"UNDERLINE";default:return"NONE"}}function d(a){switch(a){case"FIT_TO_WIDTH":return"fit_to_width";case"FIT_TO_WIDTH_EXPANDABLE":return"expandable";case"FIT_TO_HEIGHT":return"fit_to_height";default:return"fit_to_width"}}function f(a){switch(a){case"fit_to_width":return"FIT_TO_WIDTH";case"expandable":return"FIT_TO_WIDTH_EXPANDABLE";case"fit_to_height":return"FIT_TO_HEIGHT";default:return"FIT_TO_WIDTH"}}function i(a,c){if(c!=null&&c!=="")return g.NATIVE;return b("isAdsCanvasLink")(a)?g.CANVAS:g.WEBSITE}e.exports={convertDestinationFromAPI:i,convertLayoutFromAPI:d,convertLayoutToAPI:f,convertRichTextFromAPI:c,convertRichTextToAPI:a}}),null);
__d("AdsCanvasElementDestination",["AdsCanvasBuilderAPIUtils","AdsCanvasEditorEnums"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("AdsCanvasEditorEnums").LinkDestinationEnum;f={deeplink:null,destination:d.WEBSITE,link:""};function a(a,c){var d={deeplink:c,destination:b("AdsCanvasBuilderAPIUtils").convertDestinationFromAPI(a,c),link:a};Object.keys(d).map(function(a){(d[a]==null||d[a]==="")&&delete d[a]});return d}function c(a,b){return{deep_link:b,open_url_action:a!=null&&a!==""?{url:a}:{url:""}}}e.exports={AdsCanvasElementDestinationDefault:f,getDestinationFields:a,setDestinationFields:c}}),null);
__d("RichMediaRichFormatText",["ContentState","decodeBlocks","encodeBlocks","immutable","RichMediaEditorConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").Record;var g=b("RichMediaEditorConstants").EDITOR_FONT_FAMILIES,h=b("RichMediaEditorConstants").EDITOR_LINE_HEIGHT,i=b("RichMediaEditorConstants").EDITOR_DEFAULT_LINE_HEIGHT;c={id:"",composedText:{entityMap:{},blocks:[]},textAlignment:"center",textColor:"#000",fontSize:15,fontFamily:g[0],lineHeight:i};d=a(c);f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.create=function(a,d,e,f,g,h){return new c({composedText:b("encodeBlocks")(a),textAlignment:d,textColor:e,fontSize:f,fontFamily:g,lineHeight:h})};c.createDefault=function(){return c.create(b("ContentState").createFromText(""),"center","#777",15,g[0],i)};c.createFromObject=function(a){var b=a.fontFamily;g.indexOf(b)===-1&&(b=g[0]);var d=a.lineHeight;h.indexOf(d)===-1&&(d=i);return new c({composedText:a.composedText,textAlignment:a.textAlignment,textColor:a.textColor,fontSize:a.fontSize,fontFamily:b,lineHeight:d})};c.createFromAdAsset=function(a){return c.create(b("ContentState").createFromText(a),"center","#000",15,g[0],i)};c.createFromBundle=function(a,d){d=d==="item_headline"?"#90949c":"#000";return c.create(b("ContentState").createFromText(a),"center",d,16,g[0],i)};c.getPlainTextFromComposedText=function(a){a=b("decodeBlocks")(a.blocks,a.entityMap);return a.getPlainText()};return c}(d);e.exports=f}),null);
__d("AdsCanvasElementRichText",["AdsCanvasBuilderAPIUtils","RichMediaRichFormatText"],(function(a,b,c,d,e,f){"use strict";var g={richFormatText:b("RichMediaRichFormatText").createDefault()};function a(a){var c=a.rich_text,d=a.text_alignment,e=a.text_color,f=a.font_size,h=a.font_family;a=a.line_height;return!c||d==null||d===""||e==null||e===""||f==null||f===""||h==null||h===""||a==null||a===""?g:{richFormatText:b("RichMediaRichFormatText").create(b("AdsCanvasBuilderAPIUtils").convertRichTextFromAPI(c),d.toLowerCase(),"#"+e.substring(2),Number(f),h,a)}}function c(a){return{font_family:a.fontFamily,font_size:a.fontSize,line_height:a.lineHeight,rich_text:b("AdsCanvasBuilderAPIUtils").convertRichTextToAPI(a.composedText),text_alignment:a.textAlignment.toUpperCase(),text_color:a.textColor}}e.exports={AdsCanvasElementRichTextDefault:g,getRichTextFields:a,setRichTextFields:c}}),null);
__d("InstantShoppingDocumentElementType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RICH_TEXT:1,PHOTO:2,BUTTON:3,SLIDESHOW:4,DIVIDER:5,EXPANDABLE_SECTION:6,STATEFUL:7,VIDEO:8,COLOR_SELECTOR:9,TOGGLE_BUTTON:10,HEADER:11,COMPOSITE_BLOCK:12,FOOTER:13,ELEMENT_GROUP:14,TITLE_AND_DATE:15,STORE_LOCATOR:16,SCRUBBABLE_GIF:17,LOCAL_IMAGE:18,OFFER:19,WEBVIEW:20,BUNDLE:21,UFI:22,FBT_BUTTON:23,PRODUCT_LIST:24,INSTAGRAM_PRODUCT:25,NAVIGATION_TAB:26,CULTURAL_MOMENT_POPULAR_MEDIA:900,DAILY_DIALOGUE_FB_TIPS:901,COLOR_PICKER:29,CALL_TO_ACTION_CARD:30,CALL_TO_ACTION_CARD_LIST:31,ANALYTICS:32,DESTINATION_SOCIAL_UNIT:33,LEAD_GEN_FORM:34,PRODUCT_GRID:35,PRODUCT_HSCROLL_LIST:36,PRODUCT_CAROUSEL:37,TEMPLATE_VIDEO:38,SHOP_BY_CATEGORY:39,PROMOTIONAL_ELEMENT:40})}),null);
__d("RichMediaEditorUtil",["ads-lib-urllib"],(function(a,b,c,d,e,f){"use strict";var g={isValidURL:function(a){return b("ads-lib-urllib").isUrl(a)||g.isFBDeeplink(a)},normalizeURL:function(a){return b("ads-lib-urllib").normalize(a)},isValidDeeplink:function(a){return!0},isFBDeeplink:function(a){return/^fb:\/\/.*$/.test(a)},getURLDomain:function(a){return b("ads-lib-urllib").getDomain(a)}};e.exports=g}),null);
__d("RichMediaElementValidationUtil",["AdsCanvasEditorEnums"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasEditorEnums").LinkDestinationEnum;a={validateForAppstoreDestination:function(a,b){var c=Array.isArray(b)?b.length:b.count();for(var d=0;d<c;d++){var e=Array.isArray(b)?b[d]:b.get(d);if(e===a)break;if(e.destination===g.NATIVE&&e.link&&a.destination===g.NATIVE&&a.link&&e.link!==a.link)return{errorMsg:"App store URLs should be same",isValid:!1}}return{errorMsg:"",isValid:!0}}};e.exports=a}),null);
__d("AdsCanvasButtonElement",["fbt","AdsCanvasEditorEnums","AdsCanvasElementBase","AdsCanvasElementDestination","AdsCanvasElementRichText","AdsCanvasFooterElement","InstantShoppingDocumentElementType","RichMediaEditorConstants","RichMediaEditorUtil","RichMediaElementTypeConstant","RichMediaElementValidationUtil","RichMediaRichFormatText","immutable","validateDeepLink"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List,i=b("AdsCanvasEditorEnums").LinkDestinationEnum,j=b("RichMediaEditorConstants").TEXT_LIMIT,k=b("RichMediaEditorConstants").TEXT_LINE_LIMIT;a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var l=b("AdsCanvasElementBase").getSharedAPIFields,m=b("AdsCanvasElementBase").setSharedAPIFields;d=b("AdsCanvasElementDestination").AdsCanvasElementDestinationDefault;var n=b("AdsCanvasElementDestination").getDestinationFields,o=b("AdsCanvasElementDestination").setDestinationFields;f=b("AdsCanvasElementRichText").AdsCanvasElementRichTextDefault;var p=b("AdsCanvasElementRichText").getRichTextFields,q=b("AdsCanvasElementRichText").setRichTextFields,r=b("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,s=b("RichMediaElementTypeConstant").RichMediaElementTypes;c=babelHelpers["extends"]({},c,d,f,{backgroundColor:"#FFFFFF",buttonColor:"#000000",elementType:s.BUTTON,isFilled:!1,isFixedToBottom:!1,name:g._("Button").toString(),padding:{paddingTop:r,paddingBottom:r},type:b("InstantShoppingDocumentElementType").BUTTON});d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){return new c(babelHelpers["extends"]({},l(a),n(a.action?a.action.url:null,a.deep_link),p({font_family:a.font_family,font_size:a.font_size,line_height:a.line_height,rich_text:a.rich_text,text_alignment:a.text_alignment,text_color:a.text_color}),{isFilled:a.button_style==="BUTTON_FILLED",buttonColor:"#"+a.button_color.substring(2),backgroundColor:a.background_color?"#"+a.background_color.substring(2):"#FFFFFF"}))};c.createNewElement=function(a){return new c({id:a})};c.validate=function(a,c){__p&&__p();if(!a.link)return{errorMsg:g._("Empty link URL"),isValid:!1};if(!b("RichMediaEditorUtil").isValidURL(a.link))if(a.destination===i.NATIVE)return{errorMsg:g._("Invalid store URL"),isValid:!1};else return{errorMsg:g._("Invalid website URL"),isValid:!1};c=b("RichMediaElementValidationUtil").validateForAppstoreDestination(a,c);if(!c.isValid)return c;if(a.deeplink&&!b("validateDeepLink")(a.deeplink))return{errorMsg:g._("Invalid deep link"),isValid:!1};c=b("RichMediaRichFormatText").getPlainTextFromComposedText(a.richFormatText.composedText);var d=a.richFormatText&&a.richFormatText.composedText&&a.richFormatText.composedText.blocks?a.richFormatText.composedText.blocks.length:0;if(c.length<=0)return{isValid:!1,errorMsg:g._("Button text not provided")};if(RegExp(/^\s+$/).test(c))return{isValid:!1,errorMsg:g._("Button text uses white spaces only")};if(c.length>j)return{errorMsg:g._({"*":"Button text exceeds {number} characters"},[g._param("number",j,[0])]),isValid:!1};if(d>k)return{errorMsg:g._({"*":"Button text exceeds {number} line"},[g._param("number",k,[0])]),isValid:!1};return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{errorMsg:"",isValid:!0}};var d=c.prototype;d.toFooterElement=function(){return new(b("AdsCanvasFooterElement"))(babelHelpers["extends"]({},this.toJS(),{childElements:h([this.set("id","LOCAL_ELEMENT_BUTTON"+String(Date.now()))]),elementType:s.FOOTER,id:"LOCAL_ELEMENT_"+String(Date.now()),richFormatText:this.get("richFormatText")}))};d.toAPI=function(){return babelHelpers["extends"]({},m(this),o(this.get("link"),this.get("deeplink")),q(this.get("richFormatText")),{background_color:this.get("backgroundColor"),button_color:this.get("buttonColor"),button_style:this.get("isFilled")?"BUTTON_FILLED":"BUTTON_OUTLINE"})};d.isSwipeToOpenEligible=function(){return!!this.link&&this.destination!==i.CANVAS&&b("RichMediaEditorUtil").isValidURL(this.link)};return c}(a(c));e.exports=d}),null);
__d("AdsCanvasFooterElement",["fbt","invariant","AdsCanvasButtonElement","AdsCanvasEditorEnums","AdsCanvasElementBase","AdsCanvasElementDestination","AdsCanvasElementRichText","InstantShoppingDocumentElementType","RichMediaEditorConstants","RichMediaEditorUtil","RichMediaElementTypeConstant","RichMediaElementValidationUtil","RichMediaRichFormatText","getByPath","immutable","validateDeepLink"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsCanvasEditorEnums").LinkDestinationEnum,j=b("immutable").List,k=b("RichMediaEditorConstants").TEXT_LIMIT,l=b("RichMediaEditorConstants").TEXT_LINE_LIMIT;a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var m=b("AdsCanvasElementBase").getSharedAPIFields;d=b("AdsCanvasElementDestination").AdsCanvasElementDestinationDefault;var n=b("AdsCanvasElementDestination").getDestinationFields;f=b("AdsCanvasElementRichText").AdsCanvasElementRichTextDefault;var o=b("AdsCanvasElementRichText").getRichTextFields,p=b("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,q=b("RichMediaElementTypeConstant").RichMediaElementTypes;c=babelHelpers["extends"]({},c,d,f,{backgroundColor:"#FFFFFF",buttonColor:"#FFFFFF",childElements:j([]),elementType:q.FOOTER,isFilled:!1,isFixedToBottom:!0,name:g._("Footer").toString(),padding:{paddingTop:p,paddingBottom:p},type:b("InstantShoppingDocumentElementType").BUTTON});d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){if(!a.child_elements)return new c(babelHelpers["extends"]({},m(a)));a.child_elements.length>0||h(0,2545);var d=a.child_elements[0],e=a.background_color!=null?"#"+a.background_color.substring(2):"#FFFFFF";return new c(babelHelpers["extends"]({},m(a),n(b("getByPath")(d,["action","url"]),d.deep_link),o({font_family:d.font_family,font_size:d.font_size,line_height:d.line_height,rich_text:d.rich_text,text_alignment:d.text_alignment,text_color:d.text_color}),{backgroundColor:e,buttonColor:"#"+d.button_color.substring(2),childElements:j(a.child_elements.map(function(a){return b("AdsCanvasButtonElement").fromAPI(a)})),isFilled:d.button_style==="BUTTON_FILLED"}))};c.createNewElement=function(a){return new c({id:a})};c.validate=function(a,c){__p&&__p();if(!a.link)return{errorMsg:g._("Empty link URL"),isValid:!1};if(!b("RichMediaEditorUtil").isValidURL(a.link))if(a.destination===i.NATIVE)return{errorMsg:g._("Invalid store URL"),isValid:!1};else return{errorMsg:g._("Invalid website URL"),isValid:!1};c=b("RichMediaElementValidationUtil").validateForAppstoreDestination(a,c);if(!c.isValid)return c;if(a.deeplink&&!b("validateDeepLink")(a.deeplink))return{errorMsg:g._("Invalid deep link"),isValid:!1};c=b("RichMediaRichFormatText").getPlainTextFromComposedText(a.richFormatText.composedText);var d=a.richFormatText&&a.richFormatText.composedText&&a.richFormatText.composedText.blocks?a.richFormatText.composedText.blocks.length:0;if(c.length<=0)return{isValid:!1,errorMsg:g._("Button text not provided")};if(RegExp(/^\s+$/).test(c))return{isValid:!1,errorMsg:g._("Button text uses white spaces only")};if(c.length>k)return{errorMsg:g._({"*":"Button text exceeds {number} characters"},[g._param("number",k,[0])]),isValid:!1};if(d>l)return{errorMsg:g._({"*":"Button text exceeds {number} line"},[g._param("number",l,[0])]),isValid:!1};return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{errorMsg:"",isValid:!0}};var d=c.prototype;d.getChildElements=function(){return[this.toButtonElement()]};d.toButtonElement=function(){var a=this.get("childElements").count()===0?"PLACEHOLDER_FOOTER_CHILD_ID":this.get("childElements").first().get("id");return new(b("AdsCanvasButtonElement"))(babelHelpers["extends"]({},this.toJS(),{id:a,elementType:q.BUTTON,richFormatText:this.get("richFormatText")}))};d.toAPI=function(){return{background_color:this.get("backgroundColor"),child_elements:this.get("childElements").map(function(a){return a.getID()}).toArray(),name:this.get("name")}};d.isSwipeToOpenEligible=function(){return!!this.link&&this.destination!==i.CANVAS&&b("RichMediaEditorUtil").isValidURL(this.link)};return c}(a(c));e.exports=d}),null);
__d("AdsCanvasElementStyle",["AdsCanvasBuilderAPIUtils"],(function(a,b,c,d,e,f){"use strict";d={layout:"fit_to_width"};function a(a){return{layout:b("AdsCanvasBuilderAPIUtils").convertLayoutFromAPI(a)}}function c(a){return{style:b("AdsCanvasBuilderAPIUtils").convertLayoutToAPI(a)}}e.exports={AdsCanvasElementStyleDefault:d,getStyleFields:a,setStyleFields:c}}),null);
__d("AdsCanvasProductTagRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({catalogID:void 0,coordinates:void 0,productID:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsCanvasProductTag",["AdsCanvasProductTagRecord","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){return new c({catalogID:b("nullthrows")(a.catalog_id),coordinates:a.coordinates?g({x:a.coordinates[0],y:a.coordinates[1]}):null,productID:a.product_id})};var d=c.prototype;d.toAPI=function(){var a=this.coordinates;return{coordinates:a?[a.get("x"),a.get("y")]:null,product_id:this.productID}};return c}(b("AdsCanvasProductTagRecord"));e.exports=a}),null);
__d("AdsCanvasPhotoElement",["fbt","AdsCanvasEditorEnums","AdsCanvasElementBase","AdsCanvasElementDestination","AdsCanvasElementStyle","AdsCanvasLifestyleUtils","AdsCanvasLookBookTemplateDefaultProducts","AdsCanvasProductTag","InstantShoppingDocumentElementType","RichMediaEditorUtil","RichMediaElementTypeConstant","RichMediaElementValidationUtil","immutable","validateDeepLink"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasLifestyleUtils").validateAtLeastFourProductsTagged,i=b("immutable").List,j=b("AdsCanvasEditorEnums").LinkDestinationEnum;a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var k=b("AdsCanvasElementBase").getSharedAPIFields,l=b("AdsCanvasElementBase").setSharedAPIFields;d=b("AdsCanvasElementDestination").AdsCanvasElementDestinationDefault;var m=b("AdsCanvasElementDestination").getDestinationFields,n=b("AdsCanvasElementDestination").setDestinationFields;f=b("AdsCanvasElementStyle").AdsCanvasElementStyleDefault;var o=b("AdsCanvasElementStyle").getStyleFields,p=b("AdsCanvasElementStyle").setStyleFields,q=b("RichMediaElementTypeConstant").RichMediaElementTypes;c=babelHelpers["extends"]({},c,d,f,{catalogID:null,crops:null,currentItemIndex:0,description:null,elementGroupKey:null,elementType:q.PHOTO,hideProductPrices:!1,name:g._("Photo").toString(),photo:null,productTags:null,type:b("InstantShoppingDocumentElementType").PHOTO,uploadStatus:null});var r=function(a){if(a==null||a.length===0)return null;a=a[a.length-1];if(b("AdsCanvasLookBookTemplateDefaultProducts").productIDs.includes(a.product_id))return null;else return a.catalog_id};d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){return new c(babelHelpers["extends"]({},k(a),m(a.action?a.action.url:null,a.deep_link),o(a.style),{elementGroupKey:a.element_group_key,hideProductPrices:a.hide_product_prices,photo:a.photo?{height:a.photo.height,id:a.photo.id,src:a.photo.source,width:a.photo.width}:null,catalogID:r(a.product_tags),productTags:a.product_tags==null?null:i(a.product_tags.map(function(a){return b("AdsCanvasProductTag").fromAPI(a)}))}))};c.createNewElement=function(a,b){return new c({id:a,productTags:b===!0?i([]):null})};c.validate=function(a,c){__p&&__p();if(!a.photo)return{isValid:!1,errorMsg:g._("Missing photo")};if(a.link&&!b("RichMediaEditorUtil").isValidURL(a.link))if(a.destination===j.NATIVE)return{isValid:!1,errorMsg:g._("Invalid store URL")};else return{isValid:!1,errorMsg:g._("Invalid website URL")};var d=b("RichMediaElementValidationUtil").validateForAppstoreDestination(a,c);if(!d.isValid)return d;if(a.deeplink&&!b("validateDeepLink")(a.deeplink))return{isValid:!1,errorMsg:g._("Invalid deep link")};if(a.uploadStatus&&a.uploadStatus.isUploading!==!1)return{isValid:!1,errorMsg:""};if(a.productTags){d=a.productTags;if(d.count()===0)return{isValid:!1,errorMsg:g._("Must tag at least one product")};if(d.some(function(a){return b("AdsCanvasLookBookTemplateDefaultProducts").productIDs.includes(a.productID)}))return{isValid:!1,errorMsg:g._("Cannot use default products")};if(!h(a,c))return{isValid:!1,errorMsg:g._("This Instant Experience needs to feature a total of at least four unique products. Add more products to any of the lifestyle images in this Instant Experience.")}}return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{isValid:!0,errorMsg:""}};var d=c.prototype;d.toAPI=function(){var a=this.deeplink,b=this.layout,c=this.link,d=this.photo;return babelHelpers["extends"]({},l(this),n(b==="fit_to_width"?c:null,b==="fit_to_width"?a:null),p(b),{element_group_key:this.get("elementGroupKey"),hide_product_prices:this.hideProductPrices,photo_id:d?d.id:null,product_tags:this.productTags?this.productTags.map(function(a){return a.toAPI()}).toArray():null})};d.isSwipeToOpenEligible=function(){return this.layout==="fit_to_width"&&!!this.link&&this.destination!==j.CANVAS&&b("RichMediaEditorUtil").isValidURL(this.link)};d.getSharedMultiTabFields=function(){return["catalogID","hideProductPrices"]};return c}(a(c));e.exports=d}),null);
__d("AdsCanvasLifestyleUtils",["AdsCanvasPhotoElement","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){c=c.filter(function(a){return a instanceof b("AdsCanvasPhotoElement")&&!!a.productTags});if(c.count()===0)return!0;if(a.id!==c.first().id)return!0;a=c.reduce(function(c,a){return c.union(b("immutable").Set(a.productTags))},b("immutable").Set());return a.count()>=4}e.exports={validateAtLeastFourProductsTagged:a}}),null);
__d("XCanvasPhotoUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/canvas/upload/photo/",{photo_url:{type:"String"}})}),null);
__d("RichMediaEditorUploader",["ActorURI","AsyncUploadRequest","XCanvasPhotoUploadController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={upload:function(a,c,d){__p&&__p();a=b("ActorURI").create(b("XCanvasPhotoUploadController").getURIBuilder().getURI(),a);a=new(b("AsyncUploadRequest"))(a).setAllowCrossOrigin(!1).setFiles({file:c});var e=[];e.push(a.subscribe("progress",function(a,b){a=b.getProgressEvent();a.lengthComputable&&d.onProgress(b.getFile(),a.loaded/a.total*100)}));e.push(a.subscribe("success",function(a,b){d.onSuccess(b.getFile(),b.getResponse())}));e.push(a.subscribe("error",function(a,b){d.onError(b.getFile())}));e.push(a.subscribe("complete",function(a,b){while(e.length)e.pop().unsubscribe()}));a.send();return a}};e.exports=a}),null);
__d("AdsCanvasCarouselElement",["fbt","AdsCanvasEditorEnums","AdsCanvasElementBase","AdsCanvasElementStyle","AdsCanvasPhotoElement","InstantShoppingDocumentElementType","RichMediaEditorUploader","RichMediaEditorUtil","RichMediaElementTypeConstant","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasEditorEnums").LinkDestinationEnum,i=b("immutable").List;a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var j=b("AdsCanvasElementBase").getSharedAPIFields,k=b("AdsCanvasElementBase").setSharedAPIFields;d=b("AdsCanvasElementStyle").AdsCanvasElementStyleDefault;var l=b("AdsCanvasElementStyle").getStyleFields,m=b("AdsCanvasElementStyle").setStyleFields;f=b("RichMediaElementTypeConstant").RichMediaElementTypes;c=babelHelpers["extends"]({},c,d,{elementType:f.CAROUSEL,items:i([]),name:g._("Carousel").toString(),selectedItemIndex:0,type:b("InstantShoppingDocumentElementType").SLIDESHOW});d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){return new c(babelHelpers["extends"]({},j(a),l(a.style),{items:i(a.child_elements.map(function(a){return b("AdsCanvasPhotoElement").fromAPI(a)}))}))};c.createNewElement=function(a){return new c({id:a,items:i([b("AdsCanvasPhotoElement").createNewElement(a+"_1"),b("AdsCanvasPhotoElement").createNewElement(a+"_2")])})};c.validate=function(a,c){if(a.items.count()<=1)return{errorMsg:g._("Upload at least two images to create a carousel"),isValid:!1};for(var d=0;d<a.items.count();++d){var e=a.items.get(d);e=b("AdsCanvasPhotoElement").validate(e,c);if(!e.isValid)return{errorMsg:g._({"*":"Item {carousel_item_number} has"},[g._param("carousel_item_number",d+1,[0])]).toString()+" "+e.errorMsg.toString(),isValid:!1}}return{errorMsg:"",isValid:!0}};var d=c.prototype;d.toAPI=function(){return babelHelpers["extends"]({},k(this),m(this.get("layout")),{child_elements:this.get("items").map(function(a){return a.getID()}).toArray()})};d.findChidlElementIndexByID=function(a){return this.items.findIndex(function(b){return b.id==a})};d.getChildElements=function(){return this.get("items").toArray()};c.replaceItem=function(a,c,d,e,f,g,h){var i=a.items.get(c).id;b("RichMediaEditorUploader").upload(d,[e],{onProgress:function(a,b){return f(i,b)},onSuccess:function(a,b){return g(i,b)},onError:function(a){return h(i)}})};d.isSwipeToOpenEligible=function(){return this.layout==="fit_to_width"&&this.items.some(function(a){return a.link&&a.destination!==h.CANVAS&&b("RichMediaEditorUtil").isValidURL(a.link)})};return c}(a(c));e.exports=d}),null);
__d("AdsCanvasDynamicPhotoElement",["fbt","AdsCanvasElementBase","RichMediaElementTypeConstant","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("immutable").List;a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var h=b("AdsCanvasElementBase").getSharedAPIFields,i=b("AdsCanvasElementBase").setSharedAPIFields;d=b("RichMediaElementTypeConstant").RichMediaElementTypes;f=babelHelpers["extends"]({},c,{bundleFolderID:null,cachedElementID:null,elementType:d.DYNAMIC_PHOTO});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){return new c(babelHelpers["extends"]({},h(a),{bundleFolderID:a.bundle_folder_id}))};c.createNewElement=function(a){return new c({id:a})};c.validate=function(a,b){if(!a.bundleFolderID)return{isValid:!1,errorMsg:g._("No products selected")};return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{isValid:!0,errorMsg:""}};var d=c.prototype;d.toAPI=function(){return babelHelpers["extends"]({},i(this),{bundle_folder_id:b("nullthrows")(this.get("bundleFolderID"))})};return c}(a(f));e.exports=c}),null);
__d("adsCanvasInlineBuilderValidateProductsElementTemplate",["AdsCollectionsConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){c=c.match(/(\{\{[a-z]+\.[a-z]+\}\})/g);return c?c.every(function(c){if(c===b("AdsCollectionsConstants").POST_CLICK_FIELD_HIDE)return!0;var d=a.getFieldConfig().fields.findIndex(function(a){return"{{"+a.property+"}}"===c});return d!==-1}):!0}e.exports=a}),null);
__d("AdsCanvasDynamicProductSetElement",["fbt","AdsCanvasElementBase","DynamicCategorizationCriteria","RichMediaElementTypeConstant","adsCanvasInlineBuilderValidateProductsElementTemplate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var h=b("AdsCanvasElementBase").getSharedAPIFields,i=b("AdsCanvasElementBase").setSharedAPIFields;d=b("RichMediaElementTypeConstant").RichMediaElementTypes;f=babelHelpers["extends"]({},c,{bundleFolderID:null,catalogID:null,categorizationCriteria:b("DynamicCategorizationCriteria").BRAND,elementType:d.DYNAMIC_PRODUCT_SET,itemDescriptionTemplate:null,itemHeadlineTemplate:null,name:g._("Product set").toString(),setID:null});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){return new c(babelHelpers["extends"]({},h(a),{bundleFolderID:a.bundle_folder_id,catalogID:a.product_catalog_id,categorizationCriteria:a.categorization_criteria,itemDescriptionTemplate:a.item_description,itemHeadlineTemplate:a.item_headline,setID:a.product_set_id}))};c.createNewElement=function(a){return new c({id:a})};c.validate=function(a,c){__p&&__p();if(a.catalogID==null)return{errorMsg:g._("Missing catalogue ID"),isValid:!1};if(a.setID==null)return{errorMsg:g._("Please choose or create a product set from your catalogue"),isValid:!1};if(a.categorizationCriteria==null)return{errorMsg:g._("Missing category"),isValid:!1};if(a.bundleFolderID==null)return{errorMsg:g._("No products selected"),isValid:!1};if(c&&a.itemHeadlineTemplate&&!b("adsCanvasInlineBuilderValidateProductsElementTemplate")(c,a.itemHeadlineTemplate))return{errorMsg:g._("The product headline field that you chose is not valid."),isValid:!1};if(c&&a.itemDescriptionTemplate&&!b("adsCanvasInlineBuilderValidateProductsElementTemplate")(c,a.itemDescriptionTemplate))return{errorMsg:g._("The product description field that you chose is not valid."),isValid:!1};return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{errorMsg:"",isValid:!0}};var d=c.prototype;d.toAPI=function(){return babelHelpers["extends"]({},i(this),{bundle_folder_id:this.get("bundleFolderID"),item_description:this.get("itemDescriptionTemplate"),item_headline:this.get("itemHeadlineTemplate"),product_set_id:this.get("setID")})};d.getSharedMultiTabFields=function(){return["catalogID","itemDescriptionTemplate","itemHeadlineTemplate"]};return c}(a(f));e.exports=c}),null);
__d("DynamicAdsTemplateVideoSkywalkerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VIDEO_RENDER_SUCCESS:"video_render_success",VIDEO_RENDER_FAILURE:"video_render_failure"})}),null);
__d("DynamicAdsTemplateVideoSkywalkerMessages",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOT_ENOUGH_PRODUCTS:"not_enough_products"})}),null);
__d("AdsCanvasElementDataLoader",["errorCode","errorDesc","Promise","AdsError","AdsGraphAPI","AdsInterfacesLogger","AdsLeadGenFormEditorDataManager","CanvasDataUtils","DynamicAdsTemplateVideoSkywalkerConfig","DynamicAdsTemplateVideoSkywalkerEvents","DynamicAdsTemplateVideoSkywalkerMessages","RichMediaElementTypeConstant","SkywalkerManager","immutable","nullthrows","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").List,j=b("RichMediaElementTypeConstant").RichMediaElementTypes,k=b("DynamicAdsTemplateVideoSkywalkerConfig").topic_prefix,l=3*60*1e3,m={},n=b("keyMirror")({START:null,END:null}),o=b("keyMirror")({CANVAS_TEMPLATE_VIDEO_GENERATE_PREVIEW_START:null,CANVAS_TEMPLATE_VIDEO_PREVIEW_READY:null,CANVAS_TEMPLATE_VIDEO_GENERATE_PREVIEW_SUCCESS:null,CANVAS_TEMPLATE_VIDEO_NOT_ENOUGH_PRODUCTS:null,CANVAS_TEMPLATE_VIDEO_UNEXPECTED_RENDER_FAILURE:null,CANVAS_TEMPLATE_VIDEO_GENERATE_PREVIEW_TIMEOUT:null,CANVAS_TEMPLATE_VIDEO_SKYWALKER_SUBSCRIBE_ATTEMPT:null,CANVAS_TEMPLATE_VIDEO_SKYWALKER_SUBSCRIBE_SUCCESS:null,CANVAS_TEMPLATE_VIDEO_SKYWALKER_UNSUBSCRIBE_ATTEMPT:null,CANVAS_TEMPLATE_VIDEO_SKYWALKER_UNSUBSCRIBE_SUCCESS:null}),p={};function q(a,c,d){var e=0;switch(d){case n.START:p[c.id]=Date.now();break;case n.END:p[c.id]!=null&&(e=Date.now()-p[c.id],delete p[c.id]);break}d={element_id:c.id,config_id:c.config_id,product_set_id:c.product_set_id,session_duration:e};b("AdsInterfacesLogger").log({eventName:a,data:d})}a=function(){__p&&__p();function a(){}var c=a.prototype;c.$1=function(a,c,d){__p&&__p();var e=this,f=a.config_id,g=""+k+f,i=function(b){q(o.CANVAS_TEMPLATE_VIDEO_SKYWALKER_SUBSCRIBE_SUCCESS,a)},j=function(b){q(o.CANVAS_TEMPLATE_VIDEO_SKYWALKER_UNSUBSCRIBE_SUCCESS,a)};m[f]=b("SkywalkerManager").subscribe(g,function(f){__p&&__p();f=JSON.parse(f.payload);if(f==null)return;switch(f.event){case b("DynamicAdsTemplateVideoSkywalkerEvents").VIDEO_RENDER_SUCCESS:q(o.CANVAS_TEMPLATE_VIDEO_GENERATE_PREVIEW_SUCCESS,a,n.END);e.$2(a);c();break;case b("DynamicAdsTemplateVideoSkywalkerEvents").VIDEO_RENDER_FAILURE:f=e.$3(f.message,a);e.$2(a);d(f);break}},{onSubscribe:i,onUnsubscribe:j});window.setTimeout(function(){m[f]&&(e.$2(a),q(o.CANVAS_TEMPLATE_VIDEO_GENERATE_PREVIEW_TIMEOUT,a,n.END),d(new(b("AdsError"))(2510001,h._(function(a,b){return a._("An error has occurred during video generation. Please try again later.")},{}))))},l)};c.getButtonElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_button",a).get({fields:b("CanvasDataUtils").getFieldsForButtonElement(),summary:!0})};c.getCarouselElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_carousel",a).get({fields:b("CanvasDataUtils").getFieldsForCarouselElement(),summary:!0})};c.getDynamicPhotoElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_dynamic_photo",a).get({fields:b("CanvasDataUtils").getFieldsForDynamicPhotoElement(),summary:!0})};c.getDynamicProductSetElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_dynamic_product_set",a).get({fields:b("CanvasDataUtils").getFieldsForDynamicProductSetElement(),summary:!0})};c.getElementType=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_element",a).get({fields:b("CanvasDataUtils").getFieldsForElementType(),summary:!0})};c.getFooterElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_footer",a).get({fields:b("CanvasDataUtils").getFieldsForFooterElement(),summary:!0})};c.getHeaderElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_header",a).get({fields:b("CanvasDataUtils").getFieldsForHeaderElement(),summary:!0})};c.getPhotoElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_photo",a).get({fields:b("CanvasDataUtils").getFieldsForPhotoElement(),summary:!0})};c.getProductListElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_product_list",a).get({fields:b("CanvasDataUtils").getFieldsForProductListElement(),summary:!0})};c.getProductSetElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_product_set",a).get({fields:b("CanvasDataUtils").getFieldsForProductSetElement(),summary:!0})};c.getStoreLocatorElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_store_locator",a).get({fields:b("CanvasDataUtils").getFieldsForStoreLocatorElement(),summary:!0})};c.getTemplateVideoElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_template_video",a).get({fields:b("CanvasDataUtils").getFieldsForTemplateVideoElement(),summary:!0})};c.wrapWithVideoUpdatePromise=function(a,b){var c=this;return a.then(function(a){return c.getTemplateVideoElement(b)}).then(function(a){return c.$4(a)}).then(function(a){return{success:!0,leadgen_data_id:void 0}})};c.wrapWithVideoCreationPromise=function(a){var b=this;return a.then(function(a){return b.getTemplateVideoElement(a.id)}).then(function(a){return b.$4(a)}).then(function(a){return{id:a.id,leadgen_data_id:void 0}})};c.$4=function(a){__p&&__p();var c=this;return new(b("Promise"))(function(b,d){q(o.CANVAS_TEMPLATE_VIDEO_GENERATE_PREVIEW_START,a,n.START);if(a.preview_ready){q(o.CANVAS_TEMPLATE_VIDEO_PREVIEW_READY,a);b(a);return}c.$1(a,function(){return b(a)},d)})};c.getTextElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_text",a).get({fields:b("CanvasDataUtils").getFieldsForTextElement(),summary:!0})};c.getVideoElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_video",a).get({fields:b("CanvasDataUtils").getFieldsForVideoElement(),summary:!0})};c.getLeadFormElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_lead_form",a).get({fields:b("CanvasDataUtils").getFieldsForLeadFormElement(),summary:!0})};c.createElement=function(a,c,d){__p&&__p();switch(a.getElementType()){case j.BUTTON:return this.$5(a,c);case j.CAROUSEL:return this.$6(a,c);case j.DYNAMIC_PHOTO:return this.$7(a,c);case j.DYNAMIC_PRODUCT_SET:return this.$8(a,c);case j.ELEMENT_GROUP:return this.$9(a,c);case j.FOOTER:return this.$10(a,c);case j.HEADER:return this.$11(a,c);case j.LEAD_GEN_FORM:d==null&&(d=a.form_data);return this.$12(a,c,b("nullthrows")(d));case j.PRODUCT_LIST:return this.$13(a,c);case j.PHOTO:return this.$14(a,c);case j.RICH_TEXT:return this.$15(a,c);case j.STORE_LOCATOR:return this.$16(a,c);case j.TEMPLATE_VIDEO:return this.$17(a,c);case j.VIDEO:return this.$18(a,c);default:throw new Error("Element type "+a.getType()+" not supported.")}};c.$5=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_button:a.toAPI()})};c.$12=function(a,c,d){var f=null;switch(a.write_type){case"save":f=b("AdsLeadGenFormEditorDataManager").saveFormForCanvas(null,d,c);break;default:f=b("AdsLeadGenFormEditorDataManager").publishFormForCanvas(null,d.get("id"),d,c)}return f.then(function(d){var f=d.id;return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_lead_form:babelHelpers["extends"]({},a.toAPI(),{leadgen_data_id:f})}).then(function(a){return{id:a.id,leadgen_data_id:f}})})};c.$6=function(a,c){var d=this;return b("Promise").all(a.getChildElements().map(function(a){return d.createElement(a,c)})).then(function(d){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_carousel:babelHelpers["extends"]({},a.toAPI(),{child_elements:d.map(function(a){return a.id})})})})};c.$7=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_dynamic_photo:a.toAPI()})};c.$8=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_dynamic_product_set:a.toAPI()})};c.$10=function(a,c){var d=this;return b("Promise").all(a.getChildElements().map(function(a){return b("CanvasDataUtils").isNewElement(a)?d.createElement(a,c):d.updateElement(a,c)})).then(function(d){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_footer:babelHelpers["extends"]({},a.toAPI(),{child_elements:i(d.map(function(b,c){return b.id?b.id:a.getChildElements()[c].getID()}))})})})};c.$11=function(a,c){var d=this;return b("Promise").all(a.getChildElements().map(function(a){return d.createElement(a,c)})).then(function(d){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_header:babelHelpers["extends"]({},a.toAPI(),{fb_child_elements:i(d.map(function(a){return a.id}))})})})};c.$14=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_photo:a.toAPI()})};c.$13=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_product_list:a.toAPI()})};c.$9=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_product_set:a.toAPI()})};c.$16=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_store_locator:a.toAPI()})};c.$15=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_text:a.toAPI()})};c.$17=function(a,c){c=b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_template_video:a.toAPI()});return this.wrapWithVideoCreationPromise(c)};c.$18=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_video:a.toAPI()})};c.updateElement=function(a,c,d){__p&&__p();switch(a.getElementType()){case j.BUTTON:return this.$19(a);case j.CAROUSEL:return this.$20(a,c);case j.DYNAMIC_PHOTO:return this.$21(a);case j.DYNAMIC_PRODUCT_SET:return this.$22(a);case j.ELEMENT_GROUP:return this.$23(a);case j.FOOTER:return this.$24(a,c);case j.HEADER:return this.$25(a,c);case j.LEAD_GEN_FORM:d==null&&(d=a.form_data);return this.$26(a,c,b("nullthrows")(d));case j.PHOTO:return this.$27(a);case j.PRODUCT_LIST:return this.$28(a);case j.RICH_TEXT:return this.$29(a);case j.STORE_LOCATOR:return this.$30(a);case j.TEMPLATE_VIDEO:return this.$31(a);case j.VIDEO:return this.$32(a);default:throw new Error("Element type "+a.getElementType()+" not supported.")}};c.$19=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_button",a.getID()).post(a.toAPI())};c.$21=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_dynamic_photo",a.getID()).post(a.toAPI())};c.$22=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_dynamic_product_set",a.getID()).post(a.toAPI())};c.$26=function(a,c,d){var f=null;switch(a.write_type){case"save":f=b("AdsLeadGenFormEditorDataManager").saveFormForCanvas(null,d,c);break;default:f=b("AdsLeadGenFormEditorDataManager").publishFormForCanvas(null,d.get("id"),d,c)}return f.then(function(c){var d=c.id;return b("AdsGraphAPI").get(e.id).object("canvas_lead_form",a.getID()).post(babelHelpers["extends"]({},a.toAPI(),{leadgen_data_id:d})).then(function(a){return{success:a.success,leadgen_data_id:d}})})};c.$20=function(a,c){var d=this;return b("Promise").all(a.getChildElements().map(function(a){return b("CanvasDataUtils").isNewElement(a)?d.createElement(a,c):d.updateElement(a,c)})).then(function(c){return b("AdsGraphAPI").get(e.id).object("canvas_carousel",a.getID()).post(babelHelpers["extends"]({},a.toAPI(),{child_elements:i(c.map(function(b,c){return b.id?b.id:a.getChildElements()[c].get("id")}))}))})};c.$24=function(a,c){var d=this;return b("Promise").all(a.getChildElements().map(function(a){return b("CanvasDataUtils").isNewElement(a)?d.createElement(a,c):d.updateElement(a,c)})).then(function(c){return b("AdsGraphAPI").get(e.id).object("canvas_footer",a.getID()).post(babelHelpers["extends"]({},a.toAPI(),{child_elements:i(c.map(function(b,c){return b.id?b.id:a.getChildElements()[c].getID()}))}))})};c.$25=function(a,c){var d=this;return b("Promise").all(a.getChildElements().map(function(a){return b("CanvasDataUtils").isNewElement(a)?d.createElement(a,c):d.updateElement(a,c)})).then(function(c){return b("AdsGraphAPI").get(e.id).object("canvas_header",a.getID()).post(babelHelpers["extends"]({},a.toAPI(),{fb_child_elements:i(c.map(function(b,c){return b.id?b.id:a.getChildElements()[c].getID()}))}))})};c.$27=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_photo",a.getID()).post(a.toAPI())};c.$28=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_product_list",a.getID()).post(a.toAPI())};c.$23=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_product_set",a.getID()).post(a.toAPI())};c.$30=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_store_locator",a.getID()).post(a.toAPI())};c.$29=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_text",a.getID()).post(a.toAPI())};c.$31=function(a){var c=b("AdsGraphAPI").get(e.id).object("canvas_template_video",a.getID()).post(a.toAPI());return this.wrapWithVideoUpdatePromise(c,a.getID())};c.$32=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_video",a.getID()).post(a.toAPI())};c.$2=function(a){var b=a.config_id;m[b]&&(q(o.CANVAS_TEMPLATE_VIDEO_SKYWALKER_UNSUBSCRIBE_ATTEMPT,a),m[b].unsubscribe(),delete m[b])};c.$3=function(a,c){switch(a){case b("DynamicAdsTemplateVideoSkywalkerMessages").NOT_ENOUGH_PRODUCTS:q(o.CANVAS_TEMPLATE_VIDEO_NOT_ENOUGH_PRODUCTS,c,n.END);return new(b("AdsError"))(2510003,h._(function(a,b){return a._("Dynamic video isn't available if you have less than 4 products in your product set.")},{}));default:q(o.CANVAS_TEMPLATE_VIDEO_UNEXPECTED_RENDER_FAILURE,c,n.END);return new(b("AdsError"))(2510005,h._(function(a,b){return a._("An unexpected error has occurred during video generation. Please try again later.")},{}))}};return a}();e.exports=new a()}),null);
__d("AdsCanvasTextElement",["fbt","AdsCanvasElementBase","AdsCanvasElementRichText","InstantShoppingDocumentElementType","RichMediaEditorConstants","RichMediaElementTypeConstant","RichMediaRichFormatText"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var h=b("AdsCanvasElementBase").getSharedAPIFields,i=b("AdsCanvasElementBase").setSharedAPIFields;d=b("AdsCanvasElementRichText").AdsCanvasElementRichTextDefault;var j=b("AdsCanvasElementRichText").getRichTextFields,k=b("AdsCanvasElementRichText").setRichTextFields;f=b("RichMediaEditorConstants").EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL;var l=b("RichMediaElementTypeConstant").RichMediaElementTypes;c=babelHelpers["extends"]({},c,d,{backgroundColor:"#FFFFFF",elementType:l.RICH_TEXT,name:g._("Text").toString(),padding:{paddingTop:f,paddingBottom:f},type:b("InstantShoppingDocumentElementType").RICH_TEXT,elementGroupKey:null});d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){var b=a.background_color!=null?"#"+a.background_color.substring(2):"#FFFFFF";return new c(babelHelpers["extends"]({},h(a),j({font_family:a.font_family,font_size:a.font_size,line_height:a.line_height,rich_text:a.rich_text,text_alignment:a.text_alignment,text_color:a.text_color}),{backgroundColor:b,elementGroupKey:a.element_group_key}))};c.createNewElement=function(a){return new c({id:a})};c.validate=function(a){var c=b("RichMediaRichFormatText").getPlainTextFromComposedText(a.richFormatText.composedText);if(c.length===0)return{errorMsg:g._("Empty text block is not allowed"),isValid:!1};if(RegExp(/^\s+$/).test(c))return{isValid:!1,errorMsg:g._("Text blocks which use white spaces only are not allowed")};return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{isValid:!0,errorMsg:""}};var d=c.prototype;d.toAPI=function(){return babelHelpers["extends"]({},i(this),k(this.get("richFormatText")),{background_color:this.get("backgroundColor"),element_group_key:this.get("elementGroupKey")})};return c}(a(c));e.exports=d}),null);
__d("AdsCanvasHeaderElement",["fbt","AdsCanvasElementBase","AdsCanvasPhotoElement","AdsCanvasTextElement","CanvasColorUtils","InstantShoppingDocumentElementType","RichMediaElementTypeConstant","RichMediaRichFormatText","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var h=b("AdsCanvasElementBase").getSharedAPIFields,i=b("immutable").List,j=b("RichMediaElementTypeConstant").RichMediaElementTypes,k=babelHelpers["extends"]({},c,{backgroundColor:"FFFFFFFF",richFormatText:null,childElements:i([]),elementType:j.HEADER,name:g._("Header").toString(),photo:null,type:b("InstantShoppingDocumentElementType").HEADER,uploadStatus:null});d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){__p&&__p();var d=a.fb_child_elements.length===0?null:a.fb_child_elements[0],e=null,f=null;if(d&&d.element_type===j.PHOTO)e=d.photo?{height:d.photo.height,id:d.photo.id,src:d.photo.source,width:d.photo.width}:null;else if(d&&d.element_type===j.RICH_TEXT){d=b("AdsCanvasTextElement").fromAPI(d);f=d.get("richFormatText")}return new c(babelHelpers["extends"]({},h(a),{backgroundColor:a.background_color!=null&&a.background_color!==""?a.background_color:k.backgroundColor,childElements:i(a.fb_child_elements.map(function(a){switch(a.element_type){case j.PHOTO:return b("AdsCanvasPhotoElement").fromAPI(a);case j.RICH_TEXT:return b("AdsCanvasTextElement").fromAPI(a);default:throw new Error("Header element should only have text or photo child")}})),photo:e,richFormatText:f}))};c.createNewElement=function(a,d){d=d!=null&&d!==""?b("RichMediaRichFormatText").createFromAdAsset(d):null;return new c({id:a,richFormatText:d})};c.validate=function(a){__p&&__p();if(a.richFormatText){var c=b("RichMediaRichFormatText").getPlainTextFromComposedText(a.richFormatText.composedText);if(c.length===0)return{errorMsg:g._("Empty text block is not allowed"),isValid:!1};if(RegExp(/^\s+$/).test(c))return{isValid:!1,errorMsg:g._("Text blocks which use white spaces only are not allowed")}}else if(!a.photo)return{errorMsg:g._("Missing photo"),isValid:!1};if(!a.backgroundColor)return{errorMsg:g._("Missing background colour"),isValid:!1};if(a.uploadStatus&&a.uploadStatus.isUploading!==!1)return{errorMsg:"",isValid:!1};return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{errorMsg:"",isValid:!0}};var d=c.prototype;d.toPhotoElement=function(){return new(b("AdsCanvasPhotoElement"))({id:this.$AdsCanvasHeaderElement1(),photo:this.get("photo")})};d.toTextElement=function(){return new(b("AdsCanvasTextElement"))({id:this.$AdsCanvasHeaderElement1(),richFormatText:this.get("richFormatText")})};d.$AdsCanvasHeaderElement1=function(){return this.get("childElements")&&this.get("childElements").count()===0?"PLACEHOLDER_HEADER_CHILD_ID":this.get("childElements").first().get("id")};d.getChildElements=function(){return this.get("richFormatText")?[this.toTextElement()]:[this.toPhotoElement()]};d.toAPI=function(){return{name:this.get("name"),background_color:this.get("backgroundColor"),fb_child_elements:this.get("childElements").map(function(a){return a.getID()}).toArray()}};d.isOpaque=function(){var a=b("CanvasColorUtils").convertARGBToColorWithOpacity(this.get("backgroundColor"));return a.opacity===100?!0:!1};return c}(a(k));e.exports=d}),null);
__d("AdsCanvasLeadFormElement",["fbt","AdsCanvasElementBase","InstantShoppingDocumentElementType","RichMediaElementTypeConstant","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("immutable").List;a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var h=b("AdsCanvasElementBase").getSharedAPIFields,i=b("AdsCanvasElementBase").setSharedAPIFields;d=b("RichMediaElementTypeConstant").RichMediaElementTypes;f=babelHelpers["extends"]({},c,{form_data:null,leadgen_data_id:null,elementType:d.LEAD_GEN_FORM,name:g._("Form").toString(),type:b("InstantShoppingDocumentElementType").LEAD_GEN_FORM,write_type:null});c=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.fromAPI=function(a){return new b(babelHelpers["extends"]({},h(a),{leadgen_data_id:a.leadgen_data_id}))};b.createNewElement=function(a){return new b({leadgen_data_id:null})};b.validate=function(a,b){return{errorMsg:"",isValid:!0}};var c=b.prototype;c.toAPI=function(){return babelHelpers["extends"]({},i(this),{leadgen_data_id:this.get("leadgen_data_id")})};c.isSwipeToOpenEligible=function(){return!1};return b}(a(f));e.exports=c}),null);
__d("AdsCanvasProductListElement",["fbt","AdsCanvasElementBase","InstantShoppingDocumentElementType","RichMediaElementTypeConstant","adsCanvasInlineBuilderValidateProductsElementTemplate","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List;a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var i=b("AdsCanvasElementBase").getSharedAPIFields,j=b("AdsCanvasElementBase").setSharedAPIFields;d=b("RichMediaElementTypeConstant").RichMediaElementTypes;f=babelHelpers["extends"]({},c,{catalogID:null,currentItemIndex:0,description:null,elementType:d.PRODUCT_LIST,itemDescriptionTemplate:null,itemHeadlineTemplate:null,name:g._("Product list").toString(),productIDList:h([]),type:b("InstantShoppingDocumentElementType").PRODUCT_LIST});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){return new c(babelHelpers["extends"]({},i(a),{catalogID:a.product_catalog_id,productIDList:h(a.product_id_list.map(function(a){return String(a)})),itemHeadlineTemplate:a.item_headline,itemDescriptionTemplate:a.item_description}))};c.createNewElement=function(a){return new c({id:a})};c.validate=function(a,c){if(!a.productIDList||a.productIDList.length<4)return{isValid:!1,errorMsg:g._("Please add more products, the minimum product count is four")};if(c&&a.itemHeadlineTemplate&&!b("adsCanvasInlineBuilderValidateProductsElementTemplate")(c,a.itemHeadlineTemplate))return{errorMsg:g._("The product headline field that you chose is not valid."),isValid:!1};if(c&&a.itemDescriptionTemplate&&!b("adsCanvasInlineBuilderValidateProductsElementTemplate")(c,a.itemDescriptionTemplate))return{errorMsg:g._("The product description field that you chose is not valid."),isValid:!1};return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{isValid:!0,errorMsg:""}};var d=c.prototype;d.toAPI=function(){return babelHelpers["extends"]({},j(this),{item_description:this.itemDescriptionTemplate,item_headline:this.itemHeadlineTemplate,product_id_list:this.productIDList.toArray()})};d.getSharedMultiTabFields=function(){return["catalogID","itemHeadlineTemplate","itemDescriptionTemplate"]};return c}(a(f));e.exports=c}),null);
__d("AdsCanvasStorefrontPromotionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({IMAGE:null,TEXT:null});e.exports=a}),null);
__d("AdsCanvasStorefrontPromotionSectionSettingRecord",["AdsCanvasStorefrontPromotionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({enable:!1,photo:null,promotionType:b("AdsCanvasStorefrontPromotionTypes").TEXT,subTitle:null,title:null,uploadStatus:null});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsCanvasProductSetElementStorefrontSettingRecord",["AdsCanvasStorefrontPromotionSectionSettingRecord","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({enableSections:!1,customizedSectionTitles:b("immutable").Set(),promotionSectionSetting:new(b("AdsCanvasStorefrontPromotionSectionSettingRecord"))(),enableCategorySection:!1});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsCanvasStorefrontCustomizedSectionTitleRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({titleID:void 0,customizedTitle:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("InstantShoppingStoreFrontTitleID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({KEEP_SHOPPING:"keep_shopping",TAKE_ANOTHER_LOOK:"take_another_look",YOU_MAY_ALSO_LIKE:"you_may_also_like",RELATED_PRODUCTS:"related_products",TRENDING:"trending",POPULAR:"popular",TOP_ITEMS:"top_items",FAVORITES:"favorites",MOST_VIEWED:"most_viewed",TOP_PICKS_FOR_YOU:"top_picks_for_you",SUGGESTED_FOR_YOU:"suggested_for_you",FEATURED_FAVORITES:"featured_favorites",JUST_FOR_YOU:"just_for_you",EXPLORE_MORE:"explore_more",SHOP_BY_CATEGORY:"shop_by_category"})}),null);
__d("AdsCanvasProductSetElement",["fbt","AdsCanvasElementBase","AdsCanvasProductSetElementStorefrontSettingRecord","AdsCanvasStorefrontCustomizedSectionTitleRecord","AdsCanvasStorefrontPromotionSectionSettingRecord","AdsCanvasStorefrontPromotionTypes","AdsCollectionsConstants","InstantShoppingDocumentElementType","InstantShoppingStoreFrontTitleID","RichMediaElementTypeConstant","adsCanvasInlineBuilderValidateProductsElementTemplate","getByPath","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List,i=b("immutable").Set;a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var j=b("AdsCanvasElementBase").getSharedAPIFields,k=b("AdsCanvasElementBase").setSharedAPIFields;d=b("RichMediaElementTypeConstant").RichMediaElementTypes;f=babelHelpers["extends"]({},c,{catalogID:null,elementType:d.ELEMENT_GROUP,itemDescriptionTemplate:null,itemHeadlineTemplate:null,limit:b("AdsCollectionsConstants").COLLECTION_PRODUCT_MAX_COUNT,name:g._("Product set").toString(),showInFeed:!1,storefrontSetting:new(b("AdsCanvasProductSetElementStorefrontSettingRecord"))(),retailerItemIDs:b("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID,setID:null,type:b("InstantShoppingDocumentElementType").ELEMENT_GROUP});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){return new c(babelHelpers["extends"]({},j(a),{cachedElementID:null,catalogID:a.product_catalog_id,itemDescriptionTemplate:a.item_description,itemHeadlineTemplate:a.item_headline,limit:a.max_products,retailerItemIDs:h(a.retailer_item_ids),setID:a.product_set_id,showInFeed:a.show_in_feed,storefrontSetting:c.getStorefrontSettingFromAPI(a.storefront_setting)}))};c.getStorefrontSettingFromAPI=function(a){__p&&__p();if(a==null)return new(b("AdsCanvasProductSetElementStorefrontSettingRecord"))();var c={};c.enableSections=!!b("getByPath")(a,["enable_sections"]);var d=b("getByPath")(a,["customized_section_titles"]);d!=null&&(c.customizedSectionTitles=i(d.map(function(a){var c=b("InstantShoppingStoreFrontTitleID")[a.title_id];return new(b("AdsCanvasStorefrontCustomizedSectionTitleRecord"))({titleID:c,customizedTitle:a.customized_title})})));d=b("getByPath")(a,["enable_promotion_section"]);if(d!=null){var e=b("getByPath")(a,["promotion_text_setting"]),f=b("getByPath")(a,["promotion_photo"]);f!=null&&(f={id:f.id,height:f.height,src:f.source,width:f.width});var g=f?b("AdsCanvasStorefrontPromotionTypes").IMAGE:b("AdsCanvasStorefrontPromotionTypes").TEXT;c.promotionSectionSetting=new(b("AdsCanvasStorefrontPromotionSectionSettingRecord"))({enable:d,photo:f,promotionType:g,title:e==null?void 0:e.title,subTitle:e==null?void 0:e.sub_title})}c.enableCategorySection=!!(a==null?void 0:a.enable_shop_by_category);return new(b("AdsCanvasProductSetElementStorefrontSettingRecord"))(c)};c.getStorefrontSettingToAPI=function(a){var b,c=a.customizedSectionTitles.map(function(a){return{title_id:a.titleID,customized_title:a.customizedTitle}}).toJS(),d=a.get("enableSections"),e={title:a.promotionSectionSetting.get("title"),sub_title:a.promotionSectionSetting.get("subTitle")};b=(b=a.promotionSectionSetting.get("photo"))==null?void 0:b.id;return{customized_section_titles:c,enable_promotion_section:a.promotionSectionSetting.get("enable"),enable_rich_layout:d,enable_sections:a.get("enableSections"),enable_shop_by_category:a.get("enableCategorySection"),promotion_text_setting:e,promotion_photo_id:b}};c.createNewElement=function(a){return new c({id:a})};c.validate=function(a,c){__p&&__p();if(a.catalogID==null)return{errorMsg:g._("Missing catalogue ID"),isValid:!1};if(a.setID==null)return{errorMsg:g._("Please choose or create a product set from your catalogue"),isValid:!1};if(a.limit<=0)return{errorMsg:g._("Invalid maximum products count"),isValid:!1};if(c&&a.itemHeadlineTemplate&&!b("adsCanvasInlineBuilderValidateProductsElementTemplate")(c,a.itemHeadlineTemplate))return{errorMsg:g._("The product headline field that you chose is not valid."),isValid:!1};if(c&&a.itemDescriptionTemplate&&!b("adsCanvasInlineBuilderValidateProductsElementTemplate")(c,a.itemDescriptionTemplate))return{errorMsg:g._("The product description field that you chose is not valid."),isValid:!1};if(a.name.trim().length===0)return{errorMsg:g._("Component name is empty"),isValid:!1};if(a.storefrontSetting&&a.storefrontSetting.promotionSectionSetting){c=a.storefrontSetting.promotionSectionSetting;if(c.get("enable")){a=c.get("promotionType");var d=c.get("title"),e=c.get("subTitle"),f=c.get("photo");switch(a){case b("AdsCanvasStorefrontPromotionTypes").TEXT:if((d==null||d.trim().length===0)&&(e==null||e.trim().length===0))return{errorMsg:g._("Add text for the discount section"),isValid:!1};break;case b("AdsCanvasStorefrontPromotionTypes").IMAGE:if(c.get("uploadStatus")&&c.get("uploadStatus").isUploading!==!1)return{isValid:!1,errorMsg:g._("Uploading an image for the discount section")};if(f==null)return{errorMsg:g._("Upload an image for the discount section"),isValid:!1};break;default:break}}}return{errorMsg:"",isValid:!0}};var d=c.prototype;d.toAPI=function(){return babelHelpers["extends"]({},k(this),{item_description:this.get("itemDescriptionTemplate"),item_headline:this.get("itemHeadlineTemplate"),max_items:this.get("limit"),product_set_id:this.get("setID"),show_in_feed:this.get("showInFeed"),retailer_item_ids:this.get("retailerItemIDs").toArray(),storefront_setting:c.getStorefrontSettingToAPI(this.get("storefrontSetting"))})};d.getSharedMultiTabFields=function(){return["catalogID","itemDescriptionTemplate","itemHeadlineTemplate"]};return c}(a(f));e.exports=c}),null);
__d("AdsCanvasBundleItemRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({elementGroupKey:"",elementIDs:[],link:"",itemDescription:"",itemHeadline:"",photo:null,uploadStatus:null});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsCanvasBundleItem",["fbt","AdsCanvasBundleItemRecord","AdsCanvasEditorEnums","AdsCanvasPhotoElement","AdsCanvasTextElement","RichMediaEditorUtil","RichMediaRichFormatText","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasEditorEnums").LinkDestinationEnum,i=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.createItem=function(a,d,e,f){return new c({elementGroupKey:f,elementIDs:[a.id,d.id,e.id],photo:a.photo,itemDescription:b("RichMediaRichFormatText").getPlainTextFromComposedText(e.richFormatText.composedText),itemHeadline:b("RichMediaRichFormatText").getPlainTextFromComposedText(d.richFormatText.composedText),link:a.link})};var d=c.prototype;d.flatten=function(){return i([new(b("AdsCanvasPhotoElement"))({elementGroupKey:this.elementGroupKey,id:this.elementIDs[0],photo:this.photo,link:this.link}),new(b("AdsCanvasTextElement"))({elementGroupKey:this.elementGroupKey,id:this.elementIDs[1],padding:{paddingTop:20,paddingBottom:0},richFormatText:b("RichMediaRichFormatText").createFromBundle(this.itemHeadline,"item_headline")}),new(b("AdsCanvasTextElement"))({elementGroupKey:this.elementGroupKey,id:this.elementIDs[2],padding:{paddingTop:4,paddingBottom:32},richFormatText:b("RichMediaRichFormatText").createFromBundle(this.itemDescription,"item_description")})])};c.validate=function(a){__p&&__p();if(!a.photo)return{isValid:!1,errorMsg:g._("Missing photo")};if(!a.link)return{isValid:!1,errorMsg:g._("Missing destination URL")};if(a.link&&!b("RichMediaEditorUtil").isValidURL(a.link))if(a.destination===h.NATIVE)return{isValid:!1,errorMsg:g._("Invalid store URL")};else return{isValid:!1,errorMsg:g._("Invalid website URL")};if(!a.itemHeadline)return{isValid:!1,errorMsg:g._("Missing product headline")};if(RegExp(/^\s+$/).test(a.itemHeadline))return{isValid:!1,errorMsg:g._("Product headlines which use white spaces only are not allowed")};if(!a.itemDescription)return{isValid:!1,errorMsg:g._("Missing product description")};return RegExp(/^\s+$/).test(a.itemDescription)?{isValid:!1,errorMsg:g._("Product descriptions which use white spaces only are not allowed")}:{isValid:!0,errorMsg:""}};return c}(b("AdsCanvasBundleItemRecord"));e.exports=a}),null);
__d("AdsCanvasBundleElement",["fbt","AdsCanvasBundleItem","AdsCanvasElementBase","InstantShoppingDocumentElementType","RichMediaElementTypeConstant","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsCanvasElementBase").AdsCanvasElementDefault;c=b("AdsCanvasElementBase").AdsCanvasElementRecord;d=b("RichMediaElementTypeConstant").RichMediaElementTypes;var h=b("immutable").List;f=babelHelpers["extends"]({},a,{items:h([]),elementType:d.BUNDLE,name:g._("Bundle").toString(),selectedItemIndex:0,type:b("InstantShoppingDocumentElementType").BUNDLE});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.createBundle=function(a,b){return new c({id:a,items:b})};c.validate=function(a){if(a.items.count()<4)return{isValid:!1,errorMsg:g._("Upload at least four images to create a bundle").toString()};for(var c=0;c<a.items.count();++c){var d=a.items.get(c);d=b("AdsCanvasBundleItem").validate(d);if(!d.isValid)return{isValid:!1,errorMsg:g._({"*":"Item {bundle_item_number}"},[g._param("bundle_item_number",c+1,[0])]).toString()+" "+d.errorMsg.toString()}}return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{isValid:!0,errorMsg:""}};var d=c.prototype;d.flatten=function(){return this.items.reduce(function(a,b){return a.concat(b.flatten())},h([]))};return c}(c(f));e.exports=a}),null);
__d("AdsCanvasInstagramErrors",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=g._("Instagram Instant Experience does not support link to Instant Experience in buttons");b=g._("Instant Experience ads on Instagram don't support mobile app installation");c=g._("Instant Experience ads on Instagram don't support 360 videos");d=g._("Instant Experience ads on Instagram don't support languages that appear right to left");f=g._("Manual product selection isn't supported on Instagram");var h=g._("Tabs aren't supported on Instagram"),i=function(a){return g._("Instant Experience ads on Instagram don't support {unsupported component type}",[g._param("unsupported component type",a)])};a={BUTTON_LINK_TO_CANVAS:a,BUTTON_MOBILE_APP_INSTALLATION:b,MANUAL_PRODUCT_SELECTION:f,MULTIPLE_TABS:h,TEXT_RIGHT_TO_LEFT:d,VIDEO_SPHERICAL_VIDEOS:c,getInstagramUnsupportedElementError:i};e.exports=a}),null);
__d("AdsCanvasTemplateVideoElement",["fbt","AdsCanvasElementBase","AdsCollectionsConstants","ApiAdCreativeTemplateVideoSpecFields","DynamicAdsTemplateVideoShowreelTemplateConfig","ImmutableRecordWithV4Types","InstantShoppingDocumentElementType","RichMediaElementTypeConstant","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;c=b("AdsCanvasElementBase").AdsCanvasElementRecord;d=b("AdsCanvasElementBase").AdsCanvasElementDefault;var h=b("AdsCanvasElementBase").getSharedAPIFields,i=b("AdsCanvasElementBase").setSharedAPIFields;f=b("RichMediaElementTypeConstant").RichMediaElementTypes;var j=b("ApiAdCreativeTemplateVideoSpecFields").CATEGORIZATION_CRITERIA,k=b("ApiAdCreativeTemplateVideoSpecFields").CUSTOMIZATION,l=b("ApiAdCreativeTemplateVideoSpecFields").TEMPLATE_ID,m=b("DynamicAdsTemplateVideoShowreelTemplateConfig").default_template_id,n=b("DynamicAdsTemplateVideoShowreelTemplateConfig").templates[m],o=a((a={},a[j]=null,a[k]=b("immutable").Map(n.customization),a[l]=m,a));n=babelHelpers["extends"]({},d,{elementType:f.TEMPLATE_VIDEO,name:g._("Dynamic video").toString(),productSetID:null,templateVideoSpec:o(),type:b("InstantShoppingDocumentElementType").TEMPLATE_VIDEO});m=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){var d,e=a.template_video_spec,f=b("immutable").Map(e.customization.map(function(a){return[a.key,a.value]}));f=o((d={},d[j]=e.categorization_criteria,d[k]=f,d[l]=e.template_id,d));return new c(babelHelpers["extends"]({},h(a),{productSetID:a.product_set_id,templateVideoSpec:f}))};c.createNewElement=function(a){return new c({id:a})};c.validate=function(a,b){if(a.get("productSetID")==null)return{errorMsg:g._("Please choose or create a product set from your catalogue"),isValid:!1};return b&&!b.supportsTemplateVideo?{errorMsg:g._("The selected catalogue does not support template videos"),isValid:!1}:{errorMsg:"",isValid:!0}};var d=c.prototype;d.getShowreelVideoTemplateID=function(){var a=this.get("templateVideoSpec").get("template_id");a=b("DynamicAdsTemplateVideoShowreelTemplateConfig").templates[a];return a.showreel_video_template_id};d.getCustomization=function(a){return this.get("templateVideoSpec").get("customization").get(a)};d.setCustomization=function(a,b){var c=this.get("templateVideoSpec");c=c.set("customization",c.get("customization").set(a,b));return this.set("templateVideoSpec",c)};d.setOrDeleteCustomizationText=function(a,c){return c===b("AdsCollectionsConstants").POST_CLICK_FIELD_HIDE||c==null?this.deleteCustomization(a):this.setCustomization(a,c)};d.deleteCustomization=function(a){var b=this.get("templateVideoSpec");return this.set("templateVideoSpec",b.set("customization",b.get("customization")["delete"](a)))};d.getCategorizationCriteria=function(a){return this.get("templateVideoSpec").get("categorization_criteria")};d.setCategorizationCriteria=function(a){return this.set("templateVideoSpec",this.get("templateVideoSpec").set("categorization_criteria",a))};d.toAPI=function(){return babelHelpers["extends"]({},i(this),{product_set_id:this.get("productSetID"),template_video_spec:this.get("templateVideoSpec")})};return c}(c(n));e.exports=m}),null);
__d("AdsCanvasVideoElement",["fbt","AdsCanvasElementBase","AdsCanvasElementStyle","InstantShoppingDocumentElementType","RichMediaElementTypeConstant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsCanvasElementBase").AdsCanvasElementRecord;c=b("AdsCanvasElementBase").AdsCanvasElementDefault;var h=b("AdsCanvasElementBase").getSharedAPIFields,i=b("AdsCanvasElementBase").setSharedAPIFields;d=b("AdsCanvasElementStyle").AdsCanvasElementStyleDefault;var j=b("AdsCanvasElementStyle").getStyleFields,k=b("AdsCanvasElementStyle").setStyleFields;f=b("RichMediaElementTypeConstant").RichMediaElementTypes;c=babelHelpers["extends"]({},c,d,{elementType:f.VIDEO,name:g._("Video").toString(),video:null,type:b("InstantShoppingDocumentElementType").VIDEO,uploadStatus:null});d=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.fromAPI=function(a){var c=a.video,d=null;c&&(d=c.thumbnails?c.thumbnails.data.filter(function(a){return a.is_preferred})[0]:null);return new b(babelHelpers["extends"]({},h(a),j(a.style),{video:c&&d?{height:d.height,id:c.id,preferredThumbnail:d,spherical:!!c.spherical,width:d.width}:null}))};b.createNewElement=function(a){return new b({id:a})};b.validate=function(a){if(!a.video)return{errorMsg:g._("Missing video"),isValid:!1};if(a.uploadStatus&&(a.uploadStatus.isUploading!==!1||a.uploadStatus.isEncoding!==!1))return{errorMsg:"",isValid:!1};return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{errorMsg:"",isValid:!0}};var c=b.prototype;c.toAPI=function(){var a=this.get("video");return babelHelpers["extends"]({},i(this),k(this.get("layout")),{video_id:a?a.id:null})};return b}(a(c));e.exports=d}),null);
__d("RichMediaElementTypeUtil",["fbt","RichMediaElementTypeConstant","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("RichMediaElementTypeConstant").RichMediaElementTypes,i={elementTypeNameMap:(a={},a[h.UNKNOWN]=g._("Default name").toString(),a[h.BUTTON]=g._("Button").toString(),a[h.RICH_TEXT]=g._("Rich text").toString(),a[h.PHOTO]=g._("Photo").toString(),a[h.SCRUBBABLE_GIF]=g._("Scrubbable GIF").toString(),a[h.VIDEO]=g._("Video").toString(),a[h.ELEMENT_GROUP]=g._("Product").toString(),a[h.HEADER]=g._("Header").toString(),a[h.STORE_LOCATOR]=g._("Shop locator").toString(),a[h.OFFER]=g._("Offer").toString(),a[h.BUNDLE]=g._("Bundle").toString(),a[h.PRODUCT_LIST]=g._("Product list").toString(),a[h.LEAD_GEN_FORM]=g._("Contact Form").toString(),a[h.FOOTER]=g._("Footer").toString(),a[h.CAROUSEL]=g._("Carousel").toString(),a[h.TEMPLATE_VIDEO]=g._("Automatic video").toString(),a[h.DYNAMIC_PRODUCT_SET]=g._("Product").toString(),a[h.DYNAMIC_PHOTO]=g._("Photo").toString(),a),getInstagramSupportedComponents:function(a){return b("immutable").Set([h.PHOTO,h.VIDEO,h.RICH_TEXT,h.BUTTON,h.HEADER,h.FOOTER,h.ELEMENT_GROUP,h.PRODUCT_LIST,h.CAROUSEL,h.BUNDLE,h.TEMPLATE_VIDEO])},isInstagramSupportedComponent:function(a,b){return i.getInstagramSupportedComponents(b).has(a.elementType)}};e.exports=i}),null);
__d("RichMediaHeaderElement",["fbt","CanvasColorUtils","InstantShoppingDocumentElementType","RichMediaEditorConstants","getByPath","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING;a=b("immutable").Record;c={id:"",name:"",type:b("InstantShoppingDocumentElementType").HEADER,index:0,expanded:!1,advancedExpanded:!1,padding:{paddingTop:h,paddingBottom:h},fixToTop:!0,photo:null,backgroundColor:null,uploadStatus:null};d=a(c);f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.create=function(a,d,e,f,g,h,i,j){return new c({name:a,type:b("InstantShoppingDocumentElementType").HEADER,expanded:e,advancedExpanded:f,padding:g,index:d,fixToTop:!0,photo:h,backgroundColor:i,uploadStatus:j})};c.createDefault=function(a){return c.create(g._("Header").toString(),a,!0,!1,{paddingTop:h,paddingBottom:h},null,"FFFFFFFF",null)};c.createFromObject=function(a){return c.create(a.name,a.index,a.expanded,a.advancedExpanded,a.padding,a.photo,a.backgroundColor)};c.createFromPayloadAndElementField=function(a,d){a.photo&&(a.photo.src=b("getByPath")(d,["element","child_elements","0","element","photo","source"]));return c.create(a.name,a.index,a.expanded,a.advancedExpanded,a.padding,a.photo,a.backgroundColor)};c.validate=function(a){if(!a.photo)return{isValid:!1,errorMsg:g._("Missing photo")};if(!a.backgroundColor)return{isValid:!1,errorMsg:g._("Missing background colour")};return a.uploadStatus&&a.uploadStatus.isUploading!==!1?{isValid:!1,errorMsg:""}:{isValid:!0,errorMsg:""}};var d=c.prototype;d.isOpaque=function(){if(!this.backgroundColor)return!0;var a=b("CanvasColorUtils").convertARGBToColorWithOpacity(this.backgroundColor);return a.opacity===100?!0:!1};return c}(d);e.exports=f}),null);
__d("RichMediaElementUtil",["fbt","AdsAppUtils","AdsCanvasBundleElement","AdsCanvasButtonElement","AdsCanvasCarouselElement","AdsCanvasFooterElement","AdsCanvasHeaderElement","AdsCanvasInstagramErrors","AdsCanvasPhotoElement","AdsCanvasProductListElement","AdsCanvasProductSetElement","AdsCanvasStoreLocatorElement","AdsCanvasTemplateVideoElement","AdsCanvasTextElement","AdsCanvasVideoElement","RichMediaElementTypeConstant","RichMediaElementTypeUtil","RichMediaHeaderElement","RichMediaRichFormatText","UnicodeBidi","isAdsCanvasLink"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RichMediaElementTypeConstant").RichMediaElementTypes,i={getDefaultElementName:function(a){return b("RichMediaElementTypeUtil").elementTypeNameMap[a]?b("RichMediaElementTypeUtil").elementTypeNameMap[a]:g._("Untitled").toString()},validateElements:function(a,c){var d=!0,e=[];a.map(function(f){var g=i.validateElement(f,a,c);if(!g.isValid){d=!1;f=b("RichMediaElementTypeUtil").elementTypeNameMap[f.elementType];e.push({element:f,errorMsg:g.errorMsg})}});return{isValid:d,errorMsg:JSON.stringify(e)}},validateElement:function(a,c,d){__p&&__p();switch(a.elementType){case h.BUTTON:return b("AdsCanvasButtonElement").validate(a,c);case h.CAROUSEL:return b("AdsCanvasCarouselElement").validate(a,c);case h.ELEMENT_GROUP:return b("AdsCanvasProductSetElement").validate(a,d);case h.FOOTER:return b("AdsCanvasFooterElement").validate(a,c);case h.HEADER:return b("AdsCanvasHeaderElement").validate(a);case h.PHOTO:return b("AdsCanvasPhotoElement").validate(a,c);case h.PRODUCT_LIST:return b("AdsCanvasProductListElement").validate(a,d);case h.RICH_TEXT:return b("AdsCanvasTextElement").validate(a);case h.STORE_LOCATOR:return b("AdsCanvasStoreLocatorElement").validate(a);case h.TEMPLATE_VIDEO:return b("AdsCanvasTemplateVideoElement").validate(a,d);case h.VIDEO:return b("AdsCanvasVideoElement").validate(a);case h.BUNDLE:return b("AdsCanvasBundleElement").validate(a)}return{isValid:!0,errorMsg:""}},validateElementsForInstagram:function(a){var c=!0,d=[];a.map(function(a){var e=i.validateElementForInstagram(a);if(!e.isValid){c=!1;a=b("RichMediaElementTypeUtil").elementTypeNameMap[a.elementType];d.push({element:a,errorMsg:e.errorMsg})}});return{isValid:c,errorMsg:JSON.stringify(d)}},getValidationErrorsForInstagram:function(a,c,d){var e=[];if(c){c={isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").MULTIPLE_TABS};e.push(c)}a.map(function(a){a=i.validateElementForInstagram(a,d);a.isValid||e.push(a)});return e},validateElementForInstagram:function(a,b){a=i.validateElementComponentLevelErrorForInstagram(a,b);return!a.isValid?a:{isValid:!0,errorMsg:""}},validateElementComponentLevelErrorForInstagram:function(a,c){__p&&__p();var d=!!c;if(!b("RichMediaElementTypeUtil").isInstagramSupportedComponent(a,c))return{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").getInstagramUnsupportedElementError(b("RichMediaElementTypeUtil").elementTypeNameMap[a.elementType])};if(a.elementType===h.RICH_TEXT){c=i.validateRTLForInstagram(a);if(!c.isValid)return c}else if(a.elementType===h.VIDEO){c=i.validate360VideoForInstagram(a);if(!c.isValid)return c}else if(a.elementType===h.BUTTON){c=i.validateButtonForInstagram(a);if(!c.isValid)return c}else if(a.elementType===h.PRODUCT_LIST&&d!==!0)return{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").MANUAL_PRODUCT_SELECTION};return{isValid:!0,errorMsg:""}},validateRTLForInstagram:function(a){a=b("RichMediaRichFormatText").getPlainTextFromComposedText(a.richFormatText.composedText);return b("UnicodeBidi").isDirectionRTL(a)?{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").TEXT_RIGHT_TO_LEFT}:{isValid:!0,errorMsg:""}},validate360VideoForInstagram:function(a){if(a.video){a=a.video.spherical;if(a)return{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").VIDEO_SPHERICAL_VIDEOS}}return{isValid:!0,errorMsg:""}},validateButtonForInstagram:function(a){a=a.link;if(b("AdsAppUtils").getMobileAppStoreNameFromUrl(a))return{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").BUTTON_MOBILE_APP_INSTALLATION};else if(b("isAdsCanvasLink")(a))return{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").BUTTON_LINK_TO_CANVAS};return{isValid:!0,errorMsg:""}},getFixToBottomButtonElement:function(a){if(a.length===0)return null;return a[a.length-1].elementType===h.BUTTON&&a[a.length-1].isFixedToBottom?a[a.length-1]:null},getHeaderElement:function(a){if(a.length===0)return null;return a[0].elementType===h.HEADER?b("RichMediaHeaderElement").createFromObject(a[0]):null},hasFixToTopHeaderElement:function(a){if(a.length===0)return!1;return a[0].elementType===h.HEADER?a[0].isOpaque():!1},isContentUploadingInElement:function(a){__p&&__p();if(a.uploadStatus)switch(a.elementType){case h.PHOTO:if(a.uploadStatus.isUploading)return!0;break;case h.VIDEO:if(a.uploadStatus.isUploading||a.uploadStatus.isEncoding)return!0;break;default:break}else if(a.elementType===h.CAROUSEL)return a.items.some(function(a){return a.uploadStatus&&a.uploadStatus.isUploading});return!1},getLinks:function(a){__p&&__p();var b=[];for(var c=0;c<a.length;c++){var d=a[c];switch(d.elementType){case h.PHOTO:b.push(d.link);break;case h.BUTTON:b.push(d.link);break;case h.CAROUSEL:for(var e=0;e<d.items.length;e++)b.push(d.items[e].link);break}}return b.filter(function(a){return!!a})},isValidColor:function(a){return/^[A-Fa-f0-9]{8}$/.test(a)||/^#[A-Fa-f0-9]{6}$/.test(a)}};e.exports=i}),null);
__d("RichMediaStoreLocatorElementTheme",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIGHT:"Light",DARK:"Dark",CUSTOM:"Custom",NO_HEADER:"No Header"})}),null);
__d("RichMediaStoreLocatorThemes",["fbt","RichMediaStoreLocatorElementTheme"],(function(a,b,c,d,e,f,g){"use strict";e.exports={STORE_LOCATOR_THEMES:b("RichMediaStoreLocatorElementTheme"),STORE_LOCATOR_THEMES_LABELS:(a={},a[b("RichMediaStoreLocatorElementTheme").LIGHT]=g._("Light"),a[b("RichMediaStoreLocatorElementTheme").DARK]=g._("Dark"),a[b("RichMediaStoreLocatorElementTheme").CUSTOM]=g._("Custom"),a),STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR:"#FFFFFF",STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR:"#000000",STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR:"#4267b2",STORE_LOCATOR_DEFAULT_TYPEFACE:"HelveticaNeue-Light"}}),null);
__d("AdsCanvasStoreLocatorElement",["fbt","AdsCanvasElementBase","InstantShoppingDocumentElementType","RichMediaElementTypeConstant","RichMediaElementUtil","RichMediaStoreLocatorThemes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RichMediaElementTypeConstant").RichMediaElementTypes;c=b("AdsCanvasElementBase").AdsCanvasElementRecord;d=b("AdsCanvasElementBase").AdsCanvasElementDefault;var h=b("AdsCanvasElementBase").getSharedAPIFields,i=b("RichMediaStoreLocatorThemes").STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR;f=b("RichMediaStoreLocatorThemes").STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR;var j=b("RichMediaStoreLocatorThemes").STORE_LOCATOR_DEFAULT_TYPEFACE,k=b("RichMediaStoreLocatorThemes").STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR,l=b("RichMediaStoreLocatorThemes").STORE_LOCATOR_THEMES;d=babelHelpers["extends"]({},d,{customHeaderBackgroundColor:f,elementType:a.STORE_LOCATOR,locationSourceID:"",name:g._("Shop locator").toString(),theme:l.LIGHT,type:b("InstantShoppingDocumentElementType").STORE_LOCATOR,typeface:j});f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromAPI=function(a){return new c(babelHelpers["extends"]({},h(a),{customHeaderBackgroundColor:"#"+a.header_background_color.substring(2),locationSourceID:a.location_source_id!=null&&a.location_source_id!==""?a.location_source_id:"",theme:a.theme,typeface:a.typeface}))};c.createNewElement=function(a,b){a=new c({id:a,locationSourceID:b});return a};c.validate=function(a){if(!b("RichMediaElementUtil").isValidColor(a.customHeaderBackgroundColor))return{errorMsg:g._("The custom header background colour {background_color} is not a valid hex colour.",[g._param("background_color",a.customHeaderBackgroundColor)]),isValid:!1};return a.name.trim().length===0?{errorMsg:g._("Component name is empty"),isValid:!1}:{isValid:!0,errorMsg:""}};var d=c.prototype;d.toAPI=function(){return{header_background_color:this.get("customHeaderBackgroundColor"),location_source_id:this.get("locationSourceID"),name:this.get("name"),page_set_id:this.get("locationSourceID"),theme:this.get("theme"),typeface:this.get("typeface")}};d.headerBackgroundColor=function(){switch(this.theme){case l.LIGHT:return k;case l.DARK:return i;case l.CUSTOM:return this.get("customHeaderBackgroundColor");default:throw new Error("Theme not supported.")}};return c}(c(d));e.exports=f}),null);
__d("AdsCanvasElementDataDispatcher",["Promise","AdsCanvasButtonElement","AdsCanvasCarouselElement","AdsCanvasDynamicPhotoElement","AdsCanvasDynamicProductSetElement","AdsCanvasElementBase","AdsCanvasElementCreateErrorDataAction","AdsCanvasElementCreateSuccessDataAction","AdsCanvasElementDataLoader","AdsCanvasElementLoadErrorDataAction","AdsCanvasElementLoadSuccessDataAction","AdsCanvasElementSaveErrorDataAction","AdsCanvasElementSaveSuccessDataAction","AdsCanvasFooterElement","AdsCanvasHeaderElement","AdsCanvasLeadFormElement","AdsCanvasPhotoElement","AdsCanvasProductListElement","AdsCanvasProductSetElement","AdsCanvasStoreLocatorElement","AdsCanvasTemplateVideoElement","AdsCanvasTextElement","AdsCanvasVideoElement","CanvasDataUtils","RichMediaElementTypeConstant","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasElementBase").AdsCanvasUnknownElement,h=b("RichMediaElementTypeConstant").RichMediaElementTypes;a=function(){__p&&__p();function a(){}var c=a.prototype;c.getButtonElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getButtonElement(a),function(c){c=b("AdsCanvasButtonElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"66",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"72",module:"AdsCanvasElementDataDispatcher.js"})})};c.getCarouselElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getCarouselElement(a),function(c){c=b("AdsCanvasCarouselElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"86",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"92",module:"AdsCanvasElementDataDispatcher.js"})})};c.getDynamicPhotoElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getDynamicPhotoElement(a),function(c){c=b("AdsCanvasDynamicPhotoElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"106",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"112",module:"AdsCanvasElementDataDispatcher.js"})})};c.getDynamicProductSetElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getDynamicProductSetElement(a),function(c){c=b("AdsCanvasDynamicProductSetElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"126",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"132",module:"AdsCanvasElementDataDispatcher.js"})})};c.getLeadFormElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getLeadFormElement(a),function(c){c=b("AdsCanvasLeadFormElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"146",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"152",module:"AdsCanvasElementDataDispatcher.js"})})};c.getElement=function(a){__p&&__p();var c=this;b("promiseDone")(b("AdsCanvasElementDataLoader").getElementType(a),function(d){__p&&__p();switch(d.element_type){case h.BUTTON:c.getButtonElement(a);break;case h.CAROUSEL:c.getCarouselElement(a);break;case h.DYNAMIC_PHOTO:c.getDynamicPhotoElement(a);break;case h.DYNAMIC_PRODUCT_SET:c.getDynamicProductSetElement(a);break;case h.ELEMENT_GROUP:c.getProductSetElement(a);break;case h.FOOTER:c.getFooterElement(a);break;case h.HEADER:c.getHeaderElement(a);break;case h.PHOTO:c.getPhotoElement(a);break;case h.PRODUCT_LIST:c.getProductListElement(a);break;case h.RICH_TEXT:c.getTextElement(a);break;case h.STORE_LOCATOR:c.getStoreLocatorElement(a);break;case h.TEMPLATE_VIDEO:c.getTemplateVideoElement(a);break;case h.VIDEO:c.getVideoElement(a);break;case h.LEAD_GEN_FORM:c.getLeadFormElement(a);break;default:b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:new g()},{line:"208",module:"AdsCanvasElementDataDispatcher.js"});break}},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"216",module:"AdsCanvasElementDataDispatcher.js"})})};c.getFooterElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getFooterElement(a),function(c){c=b("AdsCanvasFooterElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"230",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"236",module:"AdsCanvasElementDataDispatcher.js"})})};c.getHeaderElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getHeaderElement(a),function(c){c=b("AdsCanvasHeaderElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"250",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"256",module:"AdsCanvasElementDataDispatcher.js"})})};c.getPhotoElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getPhotoElement(a),function(c){c=b("AdsCanvasPhotoElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"269",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"275",module:"AdsCanvasElementDataDispatcher.js"})})};c.getProductListElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getProductListElement(a),function(c){c=b("AdsCanvasProductListElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"289",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"295",module:"AdsCanvasElementDataDispatcher.js"})})};c.getProductSetElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getProductSetElement(a),function(c){c=b("AdsCanvasProductSetElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"309",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"315",module:"AdsCanvasElementDataDispatcher.js"})})};c.getStoreLocatorElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getStoreLocatorElement(a),function(c){c=b("AdsCanvasStoreLocatorElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"329",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"335",module:"AdsCanvasElementDataDispatcher.js"})})};c.getTemplateVideoElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getTemplateVideoElement(a),function(c){c=b("AdsCanvasTemplateVideoElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"349",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"355",module:"AdsCanvasElementDataDispatcher.js"})})};c.getTextElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getTextElement(a),function(c){c=b("AdsCanvasTextElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"369",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"375",module:"AdsCanvasElementDataDispatcher.js"})})};c.getVideoElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getVideoElement(a),function(c){c=b("AdsCanvasVideoElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"389",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"395",module:"AdsCanvasElementDataDispatcher.js"})})};c.saveElements=function(a,c,d){var e=this;return b("Promise").all(a.map(function(a){return e.saveElement(a,c,d)}).toArray())};c.saveElement=function(a,c,d){return b("CanvasDataUtils").isNewElement(a)?this.createElement(a,c,d):this.updateElement(a,c,d)};c.createElement=function(a,c,d){return b("AdsCanvasElementDataLoader").createElement(a,c,d).then(function(c){a=a.set("id",c.id);var d=c.leadgen_data_id;a.elementType===h.LEAD_GEN_FORM&&d!==null&&(a=a.set("leadgen_data_id",d));b("AdsCanvasElementCreateSuccessDataAction").dispatch({elementID:c.id,canvasElement:a},{line:"444",module:"AdsCanvasElementDataDispatcher.js"});return a})["catch"](function(c){c=new Error(c.error_user_title);b("AdsCanvasElementCreateErrorDataAction").dispatch({elementID:a.getID(),error:c},{line:"452",module:"AdsCanvasElementDataDispatcher.js"});throw c})};c.updateElement=function(a,c,d){return b("AdsCanvasElementDataLoader").updateElement(a,c,d).then(function(c){c=c.leadgen_data_id;a.elementType===h.LEAD_GEN_FORM&&c!==null&&(a=a.set("leadgen_data_id",c));b("AdsCanvasElementSaveSuccessDataAction").dispatch({elementID:a.getID(),canvasElement:a},{line:"478",module:"AdsCanvasElementDataDispatcher.js"});return a})["catch"](function(c){c=new Error(c.error_user_title);b("AdsCanvasElementSaveErrorDataAction").dispatch({elementID:a.getID(),error:c},{line:"486",module:"AdsCanvasElementDataDispatcher.js"});throw c})};return a}();e.exports=new a()}),null);
__d("adsCanvasInlineBuilderScrapIDFromElement",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c="LOCAL_ELEMENT_"+String(Date.now())+b;b=a;a.childElements&&(b=b.set("childElements",a.childElements.map(function(a,b){return a.set("id",c+"_"+b)})));b.items&&(b=b.set("items",b.items.map(function(a,b){return a.set("id",c+"_"+b)})));return b.set("id",c)}e.exports=a}),null);
__d("AdsCanvasDocumentDataDispatcher",["Promise","AdsCanvasDefaultNewDocumentID","AdsCanvasDocument","AdsCanvasDocumentCreateErrorDataAction","AdsCanvasDocumentCreateSuccessDataAction","AdsCanvasDocumentDataLoader","AdsCanvasDocumentDuplicateErrorDataAction","AdsCanvasDocumentDuplicateSuccessDataAction","AdsCanvasDocumentLoadErrorDataAction","AdsCanvasDocumentLoadSuccessDataAction","AdsCanvasDocumentSaveDynamicCanvasErrorAction","AdsCanvasDocumentSaveErrorDataAction","AdsCanvasDocumentSaveSuccessDataAction","AdsCanvasElementDataDispatcher","AdsCanvasElementStore","CanvasDataUtils","RichMediaElementTypeConstant","adsCanvasInlineBuilderScrapIDFromElement","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes,h=b("immutable").List;a=function(){__p&&__p();function a(){}var c=a.prototype;c.getDocument=function(a){b("promiseDone")(b("AdsCanvasDocumentDataLoader").getDocument(a),function(c){c=b("AdsCanvasDocument").fromAPI(c);b("AdsCanvasDocumentLoadSuccessDataAction").dispatch({canvasDocument:c,canvasID:a},{line:"46",module:"AdsCanvasDocumentDataDispatcher.js"})},function(c){b("AdsCanvasDocumentLoadErrorDataAction").dispatch({canvasID:a,error:c},{line:"52",module:"AdsCanvasDocumentDataDispatcher.js"})})};c.saveDocument=function(a,c,d,e,f){var g=this;b("promiseDone")(b("AdsCanvasElementDataDispatcher").saveElements(c,d,f),function(c){var f=function(a){e(a.toOldAPI())};a=a.setElements(h(c));b("CanvasDataUtils").isNewDocument(a)?b("promiseDone")(g.createDocument(a,d,!1),f):b("promiseDone")(g.updateDocument(a,!1,!1),f)},function(c){b("CanvasDataUtils").isNewDocument(a)?b("AdsCanvasDocumentCreateErrorDataAction").dispatch({canvasID:a.getID(),error:c},{line:"97",module:"AdsCanvasDocumentDataDispatcher.js"}):b("AdsCanvasDocumentSaveErrorDataAction").dispatch({canvasID:a.getID(),error:c},{line:"102",module:"AdsCanvasDocumentDataDispatcher.js"});throw new Error(c)})};c.saveInlineDocument=function(a,c,d,e,f,g,i,j,k){var l=this;b("promiseDone")(b("AdsCanvasElementDataDispatcher").saveElements(c,e,k),function(c){var d=function(a){f(a.id,a.canvasAdSettings)},k=function(a){return g(a)};a=a.setElements(h(c));b("CanvasDataUtils").isNewDocument(a)?b("promiseDone")(l.createDocument(a,e,!1),d,k):b("promiseDone")(l.updateDocument(a,!1,!1,i,j),d,k)})};c.saveAllInlineDocuments=function(a,c,d,e,f,g,i,j){__p&&__p();var k=this;b("promiseDone")(b("Promise").all(a.map(function(a,d){return b("AdsCanvasElementDataDispatcher").saveElements(c.get(d),e).then(function(c){a=a.setElements(h(c));return b("CanvasDataUtils").isNewDocument(a)?k.createDocument(a,e,!0,!1):k.updateDocument(a,!1,!0,i,j,!1)})}).toArray()).then(function(a){return b("AdsCanvasDocumentDataLoader").createDynamicDocument(a.map(function(a){return a.id}),e)}).then(function(a){a=a.id;return b("AdsCanvasDocumentDataLoader").getDocument(a)})["catch"](function(a){b("AdsCanvasDocumentSaveDynamicCanvasErrorAction").dispatch({error:a},{line:"208",module:"AdsCanvasDocumentDataDispatcher.js"});throw new Error(a)}),function(a){a=b("AdsCanvasDocument").fromAPI(a);b("AdsCanvasDocumentLoadSuccessDataAction").dispatch({canvasDocument:a,canvasID:a.id},{line:"215",module:"AdsCanvasDocumentDataDispatcher.js"});f(a.id,a.canvasAdSettings)})};c.publishDocument=function(a,c,d){var e=this;a=a.set("isPublished",!0);b("promiseDone")(b("AdsCanvasDocumentDataLoader").getLinkedCanvases(a.id),function(c){var f=c.linked_documents.filter(function(a){return!a.is_published});c=function(a){d(a.toOldAPI(),f)};b("promiseDone")(e.updateDocument(a,!0,!1),c)})};c.createDocument=function(a,c,d,e){e===void 0&&(e=!0);return b("AdsCanvasDocumentDataLoader").createDocument(a,c,d).then(function(a){return b("AdsCanvasDocumentDataLoader").getDocument(a.id)}).then(function(a){a=b("AdsCanvasDocument").fromAPI(a);b("AdsCanvasDocumentCreateSuccessDataAction").dispatch({canvasDocument:a,canvasID:a.id,setSavedState:e},{line:"269",module:"AdsCanvasDocumentDataDispatcher.js"});return a})["catch"](function(c){b("AdsCanvasDocumentCreateErrorDataAction").dispatch({canvasID:a.getID(),error:c},{line:"277",module:"AdsCanvasDocumentDataDispatcher.js"});throw new Error(c)})};c.updateDocument=function(a,c,d,e,f,g){g===void 0&&(g=!0);return b("AdsCanvasDocumentDataLoader").updateDocument(a,c,d).then(function(c){return b("AdsCanvasDocumentDataLoader").getDocument(a.id)}).then(function(a){a=b("AdsCanvasDocument").fromAPI(a);b("AdsCanvasDocumentSaveSuccessDataAction").dispatch({canvasDocument:a,canvasID:a.id,adgroupIDs:e,hostID:f,setSavedState:g},{line:"302",module:"AdsCanvasDocumentDataDispatcher.js"});return a})["catch"](function(c){b("AdsCanvasDocumentSaveErrorDataAction").dispatch({canvasID:a.getID(),error:c},{line:"312",module:"AdsCanvasDocumentDataDispatcher.js"});throw new Error(c)})};c.duplicateDocument=function(a,c,d,e){__p&&__p();var f=a.id;a=a.set("id",b("AdsCanvasDefaultNewDocumentID")).set("isPublished",!1);c=c.map(b("adsCanvasInlineBuilderScrapIDFromElement"));b("promiseDone")(b("Promise").all(c.map(function(a){return b("AdsCanvasElementDataDispatcher").saveElement(a,d)}).toArray()),function(c){a=a.setElements(h(c)),b("promiseDone")(b("AdsCanvasDocumentDataLoader").createDocument(a,d,!1).then(function(a){return b("AdsCanvasDocumentDataLoader").getDocument(a.id)}),function(a){a=b("AdsCanvasDocument").fromAPI(a);b("AdsCanvasDocumentDuplicateSuccessDataAction").dispatch({canvasDocument:a,canvasID:a.id,parentCanvasID:f,setSavedState:!0},{line:"352",module:"AdsCanvasDocumentDataDispatcher.js"});var d=c.find(function(a){return a.elementType===g.ELEMENT_GROUP});d=d?b("AdsCanvasElementStore").get(d.id).getValue():null;e(a,d)},function(c){b("AdsCanvasDocumentDuplicateErrorDataAction").dispatch({canvasID:a.getID(),error:c},{line:"369",module:"AdsCanvasDocumentDataDispatcher.js"})})})};return a}();e.exports=new a()}),null);
__d("AdsCanvasCurrentCanvasIDStoreState",["AdsCanvasDefaultNewDocumentID","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").List;c=b("immutable").Record;d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c({activeCanvasIndex:0,unusedManualTabsCanvasIDs:a([]),canvasIDs:a([b("AdsCanvasDefaultNewDocumentID")])}));e.exports=d}),null);
__d("AdsCanvasCurrentCanvasIDStore",["AddCanvasAddCanvasActionFlux","AdsCanvasBuilderLoadTemplateDataActionFlux","AdsCanvasBuilderOpenBlankCanvasDataActionFlux","AdsCanvasBuilderOpenNUXTourDataActionFlux","AdsCanvasBuilderSelectTemplateDataActionFlux","AdsCanvasCurrentCanvasIDStoreState","AdsCanvasDeleteDocumentActionFlux","AdsCanvasDisableCategoryTabsActionFlux","AdsCanvasDisableMultiTabCanvasActionFlux","AdsCanvasDocumentCreateSuccessDataActionFlux","AdsCanvasDocumentDuplicateSuccessDataActionFlux","AdsCanvasEnableCategoryTabsActionFlux","AdsCanvasEnableMultiTabCanvasActionFlux","AdsCanvasInitDataActionFlux","AdsCanvasInlineTransformCanvasDataActionFlux","AdsCanvasLoadDynamicCanvasActionFlux","AdsCanvasReorderMultiCanvasActionFlux","AdsCanvasSelectCanvasActionFlux","AdsDataAtom","AdsRichMediaEditorSetValidationFailedDataActionFlux","FluxReduceStore","adsCreateStoreSelector","gkx","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(g))||this,d.getCurrentDocumentID=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){var a=d.getState(),c=a.activeCanvasIndex;a=a.canvasIDs;return b("nullthrows")(a.get(c))},e.id),d.getActiveCanvasIndex=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().activeCanvasIndex},e.id),d.getAllDocumentIDs=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().canvasIDs},e.id),d.hasMultiCanvas=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().canvasIDs.count()>1},e.id),d.hasUsedManualTabs=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().unusedManualTabsCanvasIDs.count()>=1},e.id),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return new(b("AdsCanvasCurrentCanvasIDStoreState"))()};d.__getActionTypes=function(){return h?[b("AddCanvasAddCanvasActionFlux").actionType,b("AdsCanvasBuilderLoadTemplateDataActionFlux").actionType,b("AdsCanvasBuilderOpenBlankCanvasDataActionFlux").actionType,b("AdsCanvasBuilderOpenNUXTourDataActionFlux").actionType,b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType,b("AdsCanvasDeleteDocumentActionFlux").actionType,b("AdsCanvasDisableCategoryTabsActionFlux").actionType,b("AdsCanvasDisableMultiTabCanvasActionFlux").actionType,b("AdsCanvasDocumentCreateSuccessDataActionFlux").actionType,b("AdsCanvasDocumentDuplicateSuccessDataActionFlux").actionType,b("AdsCanvasEnableCategoryTabsActionFlux").actionType,b("AdsCanvasEnableMultiTabCanvasActionFlux").actionType,b("AdsCanvasInitDataActionFlux").actionType,b("AdsCanvasInlineTransformCanvasDataActionFlux").actionType,b("AdsCanvasLoadDynamicCanvasActionFlux").actionType,b("AdsCanvasReorderMultiCanvasActionFlux").actionType,b("AdsCanvasSelectCanvasActionFlux").actionType,b("AdsRichMediaEditorSetValidationFailedDataActionFlux").actionType]:null};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("AdsCanvasInitDataActionFlux").actionType:return c.canvasID==null?this.getInitialState():a.set("canvasIDs",g([c.canvasID])).set("activeCanvasIndex",0);case b("AdsCanvasLoadDynamicCanvasActionFlux").actionType:return a.set("canvasIDs",c.canvasIDs).set("activeCanvasIndex",0);case b("AdsCanvasInlineTransformCanvasDataActionFlux").actionType:return a.set("canvasIDs",c.canvases.map(function(a){return a.id})).set("activeCanvasIndex",0);case b("AdsCanvasDocumentCreateSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentDuplicateSuccessDataActionFlux").actionType:case b("AdsCanvasBuilderLoadTemplateDataActionFlux").actionType:return!c.setSavedState?a:a.set("canvasIDs",g([c.canvasID])).set("activeCanvasIndex",0);case b("AdsCanvasBuilderOpenBlankCanvasDataActionFlux").actionType:case b("AdsCanvasBuilderOpenNUXTourDataActionFlux").actionType:case b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType:return this.getInitialState();case b("AdsCanvasDisableMultiTabCanvasActionFlux").actionType:var d=a.canvasIDs.get(0);return a.set("canvasIDs",g([d])).set("activeCanvasIndex",0);case b("AdsCanvasEnableMultiTabCanvasActionFlux").actionType:return a.set("canvasIDs",c.canvasDocuments.map(function(a){return a.id}));case b("AdsCanvasSelectCanvasActionFlux").actionType:return a.set("activeCanvasIndex",c.index);case b("AdsCanvasReorderMultiCanvasActionFlux").actionType:d=c.from;var e=c.to,f=a.canvasIDs,h=f.get(d);f=f.splice(d,1);f=f.splice(e,0,h);return a.set("canvasIDs",f);case b("AddCanvasAddCanvasActionFlux").actionType:return a.set("canvasIDs",a.canvasIDs.push(c.canvasDocument.id)).set("activeCanvasIndex",a.canvasIDs.count());case b("AdsCanvasDeleteDocumentActionFlux").actionType:c.index>0&&(a=a.set("activeCanvasIndex",a.activeCanvasIndex-1));return a.set("canvasIDs",a.canvasIDs.remove(c.index));case b("AdsRichMediaEditorSetValidationFailedDataActionFlux").actionType:return a.set("activeCanvasIndex",c.canvasIndex);case b("AdsCanvasEnableCategoryTabsActionFlux").actionType:return a.set("unusedManualTabsCanvasIDs",a.canvasIDs.slice(1)).set("canvasIDs",a.canvasIDs.slice(0,1)).set("activeCanvasIndex",0);case b("AdsCanvasDisableCategoryTabsActionFlux").actionType:return c.removeTabs?a:a.set("canvasIDs",a.canvasIDs.concat(a.unusedManualTabsCanvasIDs)).set("unusedManualTabsCanvasIDs",g([]));default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsCanvasCurrentDocumentSelector",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([].concat(b("AdsCanvasCurrentCanvasIDStore").getCurrentDocumentID.getStores(),[b("AdsCanvasDocumentStore")]),function(){return b("AdsCanvasDocumentStore").get(b("AdsCanvasCurrentCanvasIDStore").getCurrentDocumentID())},e.id+".selector");e.exports=a}),null);
__d("adsCanvasHasDynamicElementsSelector",["RichMediaElementTypeConstant","adsCanvasCurrentDocumentSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a=b("adsCreateSelector")([b("adsCanvasCurrentDocumentSelector")],function(a){if(!a.hasValue())return!1;a=a.getValueEnforcing();return a.elements.some(function(a){return a.elementType===g.DYNAMIC_PRODUCT_SET})},{name:e.id});e.exports=a}),null);
__d("adsCanvasHasTabsSelector",["AdsCanvasCurrentCanvasIDStore","adsCanvasHasDynamicElementsSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsCanvasCurrentCanvasIDStore").hasMultiCanvas,b("adsCanvasHasDynamicElementsSelector")],function(a,b){return a||b},{name:e.id+".adsCanvasHasTabsSelector"});e.exports=a}),null);
__d("adsCanvasShowBentoV2UISelector",["adsCanvasHasTabsSelector","adsCanvasInlineEditorIsStorefrontTemplateSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasHasTabsSelector"),b("adsCanvasInlineEditorIsStorefrontTemplateSelector")],function(a,b){return!a&&b},{name:e.id});e.exports=a}),null);
__d("adsCanvasInlineEditorCurrentTemplateIDSelector",["adsCanvasCurrentDocumentSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasCurrentDocumentSelector")],function(a){if(!a.hasValue())return null;a=a.getValueEnforcing();return a.sourceTemplateID},{name:e.id});e.exports=a}),null);
__d("adsCanvasInlineEditorIsStorefrontTemplateSelector",["adsCanvasInlineEditorCurrentTemplateIDSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";var g="1932289657009030";a=b("adsCreateSelector")([b("adsCanvasInlineEditorCurrentTemplateIDSelector")],function(a){return a===g},{name:e.id});e.exports=a}),null);
__d("AdsCanvasDocumentAddNewLifestyleComponentActionHandler",["AdsCanvasAddNewLifestyleComponentActionFlux","LoadObject","RichMediaElementTypeConstant"],(function(a,b,c,d,e,f){"use strict";var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasAddNewLifestyleComponentActionFlux").actionType,mutate:function(a,c,d){d=c.get(a.canvasID).getValueEnforcing();return c.set(a.canvasID,b("LoadObject").withValue(d.set("elements",d.elements.splice(a.index,0,{elementType:g.PHOTO,id:a.lifestyleElement.id}))))}};e.exports=a}),null);
__d("AdsCanvasDocumentStoreTransformElementReducer",["AdsCanvasCurrentCanvasIDStore","AdsDataAtom","AdsIXElementTransformCacheProvider","AdsSelectorUtils","LoadObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("AdsIXElementTransformCacheProvider").toFluxSelector()]));a=b("AdsIXElementTransformCacheProvider").toFluxSelector()();return{canvasIDs:b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs(),elementCache:a}},mutate:function(a,c,d){__p&&__p();var e=d.canvasIDs,f=d.elementCache,g=c;e.map(function(c){__p&&__p();c=g.get(c).getValueEnforcing();var d=c.elements;a.oldElements.map(function(b,c){var e=b.id;b=d.findIndex(function(a){return a.id===e});if(b!==-1){c=a.newElementTypes.get(c);d=d.set(b,{elementType:c,id:f.get(e).get(c)})}});g=g.set(c.id,b("LoadObject").withValue(c.set("elements",d)))});return g}};e.exports=a}),null);
__d("AdsCanvasDocumentDisableCategoryTabsActionHandler",["AdsCanvasDisableCategoryTabsActionFlux","AdsCanvasDocumentStoreTransformElementReducer"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasDisableCategoryTabsActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasDocumentStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){return b("AdsCanvasDocumentStoreTransformElementReducer").mutate(a,c,d)}};e.exports=a}),null);
__d("AdsCanvasDocumentEnableCategoryTabsActionHandler",["AdsCanvasDocumentStoreTransformElementReducer","AdsCanvasEnableCategoryTabsActionFlux","LoadObject","RichMediaElementTypeConstant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasEnableCategoryTabsActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasDocumentStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){__p&&__p();var e=c;e=b("AdsCanvasDocumentStoreTransformElementReducer").mutate(a,c,d);var f=a.newHeaderElement;if(f!=null){c=d.canvasIDs;c.map(function(a){a=e.get(a).getValueEnforcing();e=e.set(a.id,b("LoadObject").withValue(a.set("elements",a.elements.unshift({elementType:g.HEADER,id:f.id}))))});return e}return e}};e.exports=a}),null);
__d("AdsCanvasDocumentInlineToggleLeadFormElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasInlineToggleLeadFormElementDataActionFlux","AdsDataAtom","AdsSelectorUtils","LoadObject","RichMediaElementTypeConstant","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasInlineToggleLeadFormElementDataActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs]));return{canvasIDs:b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs()}},mutate:function(a,c,d){__p&&__p();d=d.canvasIDs;d.map(function(d,e){e=c.get(d).getValueEnforcing();if(a.addLeadForm&&!e.getHasLeadFormElement())c=c.set(e.id,b("LoadObject").withValue(e.set("elements",e.elements.push({elementType:g.LEAD_GEN_FORM,id:b("guid")()})).set("swipeToOpenEnabled",!1)));else if(e.getHasLeadFormElement()){d=e.elements.findIndex(function(a){return a.elementType===g.LEAD_GEN_FORM});c=c.set(e.id,b("LoadObject").withValue(e.set("elements",e.elements["delete"](d)).set("swipeToOpenEnabled",!0)))}});return c}};e.exports=a}),null);
__d("AdsCanvasDocumentInlineToggleStoreLocatorElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasInlineToggleStoreLocatorElementActionFlux","AdsDataAtom","AdsSelectorUtils","LoadObject","RichMediaElementTypeConstant","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasInlineToggleStoreLocatorElementActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs]));return{canvasIDs:b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs()}},mutate:function(a,c,d){__p&&__p();d=d.canvasIDs;d.map(function(d,e){e=c.get(d).getValueEnforcing();if(a.addStoreLocator&&!e.getHasStoreLocatorElement())c=c.set(e.id,b("LoadObject").withValue(e.set("elements",e.elements.push({elementType:g.STORE_LOCATOR,id:b("guid")()}))));else if(e.getHasStoreLocatorElement()){d=e.elements.findIndex(function(a){return a.elementType===g.STORE_LOCATOR});c=c.set(e.id,b("LoadObject").withValue(e.set("elements",e.elements["delete"](d))))}});return c}};e.exports=a}),null);
__d("AdsCanvasDocumentSwitchElementTypeActionHandler",["AdsCanvasDocumentStoreTransformElementReducer","AdsCanvasSwitchElementTypeActionFlux"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasSwitchElementTypeActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasDocumentStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){return b("AdsCanvasDocumentStoreTransformElementReducer").mutate(a,c,d)}};e.exports=a}),null);
__d("AdsCanvasDocumentUnifiedBuilderToggleHeaderElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasUnifiedBuilderToggleHeaderElementActionFlux","AdsDataAtom","AdsSelectorUtils","LoadObject","RichMediaElementTypeConstant","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasUnifiedBuilderToggleHeaderElementActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs]));return{canvasIDs:b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs()}},mutate:function(a,c,d){__p&&__p();d=d.canvasIDs;var e=c;d.map(function(d,f){f=c.get(d).getValueEnforcing();if(a.addHeader&&!f.getHasHeaderElement())e=e.set(f.id,b("LoadObject").withValue(f.set("elements",f.elements.unshift({elementType:g.HEADER,id:b("guid")()}))));else if(f.getHasHeaderElement()){d=f.elements.findIndex(function(a){return a.elementType===g.HEADER});e=e.set(f.id,b("LoadObject").withValue(f.set("elements",f.elements["delete"](d))))}});return e}};e.exports=a}),null);
__d("AdsCanvasDocumentStoreActionHandlers",["AdsCanvasDocumentAddNewLifestyleComponentActionHandler","AdsCanvasDocumentDisableCategoryTabsActionHandler","AdsCanvasDocumentEnableCategoryTabsActionHandler","AdsCanvasDocumentInlineToggleLeadFormElementActionHandler","AdsCanvasDocumentInlineToggleStoreLocatorElementActionHandler","AdsCanvasDocumentSwitchElementTypeActionHandler","AdsCanvasDocumentUnifiedBuilderToggleHeaderElementActionHandler","createObjectBy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("createObjectBy")([b("AdsCanvasDocumentAddNewLifestyleComponentActionHandler"),b("AdsCanvasDocumentDisableCategoryTabsActionHandler"),b("AdsCanvasDocumentEnableCategoryTabsActionHandler"),b("AdsCanvasDocumentInlineToggleLeadFormElementActionHandler"),b("AdsCanvasDocumentInlineToggleStoreLocatorElementActionHandler"),b("AdsCanvasDocumentSwitchElementTypeActionHandler"),b("AdsCanvasDocumentUnifiedBuilderToggleHeaderElementActionHandler")],function(a){return a.type});function a(a,b){b=b.action;var c=g[b.type];if(c){var d=c.genExtraData&&c.genExtraData(b,a);return c.mutate(b,a,d)}return a}e.exports={reduce:a}}),null);
__d("AdsCanvasDocumentStore",["invariant","AddCanvasAddCanvasActionFlux","AdsCanvasBuilderOpenBlankCanvasDataActionFlux","AdsCanvasBuilderOpenNUXTourDataActionFlux","AdsCanvasBuilderSelectTemplateDataActionFlux","AdsCanvasConstants","AdsCanvasDefaultNewDocumentID","AdsCanvasDisableMultiTabCanvasActionFlux","AdsCanvasDocument","AdsCanvasDocumentAddNewElementsDataActionFlux","AdsCanvasDocumentCreateSuccessDataActionFlux","AdsCanvasDocumentDataDispatcher","AdsCanvasDocumentDuplicateSuccessDataActionFlux","AdsCanvasDocumentInitDuplicateDataActionFlux","AdsCanvasDocumentInitPublishDataActionFlux","AdsCanvasDocumentInitSaveDataActionFlux","AdsCanvasDocumentLoadErrorDataActionFlux","AdsCanvasDocumentLoadSuccessDataActionFlux","AdsCanvasDocumentReorderElementsDataActionFlux","AdsCanvasDocumentSaveSuccessDataActionFlux","AdsCanvasDocumentSetSupportInstagramActionFlux","AdsCanvasDocumentSetTitleDataActionFlux","AdsCanvasDocumentStoreActionHandlers","AdsCanvasElementDeleteDataActionFlux","AdsCanvasElementSwitchButtonPositionDataActionFlux","AdsCanvasEnableMultiTabCanvasActionFlux","AdsCanvasInitDataActionFlux","AdsCanvasInlineBuilderSaveAllCanvasesActionFlux","AdsCanvasInlineBuilderSaveCanvasDataActionFlux","AdsCanvasInlineTransformCanvasDataActionFlux","AdsCanvasResetCanvasDataActionFlux","AdsDataAtom","AdsDraftDraftPublishCompletedDataActionFlux","AdsRichMediaEditorBackToMenuDataActionFlux","AdsRichMediaEditorSetDocumentThemeDataActionFlux","AdsUEditorAdgroupSetCanvasDocumentDataActionFlux","CanvasDataUtils","CanvasUIProperty","FluxLoadObjectStore","LoadObject","adsCreateStoreThunkSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasConstants").CANVAS_COPY_SUFFIX,i=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getByID=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.get.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){var a;return b("immutable").Map((a={},a[b("AdsCanvasDefaultNewDocumentID")]=b("LoadObject").withValue(new(b("AdsCanvasDocument"))()),a))};d.reduce=function(a,c){__p&&__p();var d=this,e=c.action,f,j,k,l,m,n,o,p,q,r,s;a=b("AdsCanvasDocumentStoreActionHandlers").reduce(a,c);switch(e.type){case b("AdsCanvasDocumentAddNewElementsDataActionFlux").actionType:c=e.elements;p=e.id;this.get(p)!==null&&this.get(p).hasValue()||g(0,3142);return this.__handleOne(a,p,this.get(p).getValueEnforcing().addNewElements(c,e.options.offsetIndex));case b("AddCanvasAddCanvasActionFlux").actionType:case b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType:case b("AdsCanvasDisableMultiTabCanvasActionFlux").actionType:j=e.canvasDocument;return this.__handleOne(a,j.id,j);case b("AdsCanvasEnableMultiTabCanvasActionFlux").actionType:var t=e.canvasDocuments;t.map(function(b){a=d.__handleOne(a,b.id,b)});return a;case b("AdsCanvasDocumentLoadErrorDataActionFlux").actionType:t=e.canvasID;n=e.error;return this.__handleOne(a,t,n);case b("AdsCanvasInitDataActionFlux").actionType:if(e.canvasID!=null)return a;n=b("AdsCanvasDocument").createNewDocument(e.source,e.supportInstagramEnabled);return this.__handleOne(a,n.getID(),n);case b("AdsRichMediaEditorBackToMenuDataActionFlux").actionType:j=this.get(b("AdsCanvasDefaultNewDocumentID")).getValueEnforcing();j=new(b("AdsCanvasDocument"))({id:b("AdsCanvasDefaultNewDocumentID"),source:j.source,uiPropertyList:j.uiPropertyList});return this.__handleOne(a,j.id,j);case b("AdsCanvasDocumentInitSaveDataActionFlux").actionType:j=e.canvasDocument;c=e.elements;n=e.onSuccess;r=e.pageID;k=this.get(j.getID()).updating();b("AdsCanvasDocumentDataDispatcher").saveDocument(j,c,r,n);return a.set(e.canvasID,k);case b("AdsCanvasDocumentInitPublishDataActionFlux").actionType:j=e.canvasDocument;n=e.onSuccess;r=e.pageID;k=this.get(j.getID()).updating();b("AdsCanvasDocumentDataDispatcher").publishDocument(j,r,n);return a.set(e.canvasID,k);case b("AdsCanvasInlineBuilderSaveCanvasDataActionFlux").actionType:f=e.adgroupIDs;j=e.canvasDocument;c=e.elements;o=e.hostID;q=e.onError;n=e.onSuccess;r=e.pageID;s=e.productSetID;l=e.canvasLeadForm;if(!j)return a;k=this.get(j.getID()).updating();b("AdsCanvasDocumentDataDispatcher").saveInlineDocument(j,c,s,r,n,q,f,o,l);return a.set(e.canvasID,k);case b("AdsCanvasInlineBuilderSaveAllCanvasesActionFlux").actionType:f=e.adgroupIDs;l=e.canvases;c=e.elements;o=e.hostID;q=e.onError;n=e.onSuccess;r=e.pageID;s=e.productSetID;l.map(function(b){var c=d.get(b.id).updating();a=a.set(b.id,c)});b("AdsCanvasDocumentDataDispatcher").saveAllInlineDocuments(l,c,s,r,n,q,f,o);return a;case b("AdsCanvasDocumentLoadSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentCreateSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentSaveSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentDuplicateSuccessDataActionFlux").actionType:t=e.canvasID;j=e.canvasDocument;a=this.__handleOne(a,t,j);return this.__handleOne(a,t+h,j);case b("AdsCanvasDocumentInitDuplicateDataActionFlux").actionType:j=e.canvasDocument;c=e.elements;r=e.pageID;b("AdsCanvasDocumentDataDispatcher").duplicateDocument(j,c,r,e.onSuccess);return a;case b("AdsCanvasDocumentSetTitleDataActionFlux").actionType:p=e.id;k=e.title;this.get(p)!==null&&this.get(p).hasValue()||g(0,3142);return this.__handleOne(a,p,this.get(p).getValueEnforcing().setTitle(k));case b("AdsCanvasDocumentSetSupportInstagramActionFlux").actionType:p=e.id;s=e.value;this.get(p)!==null&&this.get(p).hasValue()||g(0,3142);j=this.get(p).getValueEnforcing();n=j.uiPropertyList;if(s)j=j.set("uiPropertyList",n.push(b("CanvasUIProperty").SUPPORT_INSTAGRAM_CANVAS));else{q=n.indexOf(b("CanvasUIProperty").SUPPORT_INSTAGRAM_CANVAS);q!==-1&&(j=j.set("uiPropertyList",n["delete"](q)))}return this.__handleOne(a,p,j);case b("AdsRichMediaEditorSetDocumentThemeDataActionFlux").actionType:p=e.id;f=e.theme;this.get(p)!==null&&this.get(p).hasValue()||g(0,3142);return this.__handleOne(a,p,this.get(p).getValueEnforcing().setBackgroundColor(f));case b("AdsCanvasDocumentReorderElementsDataActionFlux").actionType:p=e.id;o=e.source;r=e.target;this.get(p)!==null&&this.get(p).hasValue()||g(0,3142);return this.__handleOne(a,p,this.get(p).getValueEnforcing().reorderElements(o,r));case b("AdsCanvasElementDeleteDataActionFlux").actionType:t=e.canvasID;m=e.elementID;this.get(t)!==null&&this.get(t).hasValue()||g(0,3142);j=this.get(t).getValueEnforcing();c=j.getElements();k=c.findIndex(function(a){return a.id===m});c=c.remove(k);return this.__handleOne(a,t,j.setElements(c));case b("AdsCanvasElementSwitchButtonPositionDataActionFlux").actionType:t=e.canvasID;j=e.canvasDocument;this.get(t)!==null&&this.get(t).hasValue()||g(0,3142);return this.__handleOne(a,t,j);case b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType:a=this.__setEmptyAndLoading(a,b("immutable").List([e.canvasID]));b("AdsCanvasDocumentDataDispatcher").getDocument(e.canvasID);return a;case b("AdsCanvasInlineTransformCanvasDataActionFlux").actionType:l=e.canvases;l.map(function(b){a=d.__handleOne(a,b.id,b)});return a;case b("AdsCanvasBuilderOpenBlankCanvasDataActionFlux").actionType:case b("AdsCanvasBuilderOpenNUXTourDataActionFlux").actionType:j=this.get(b("AdsCanvasDefaultNewDocumentID")).getValueEnforcing();j=j.set("elements",i([]));return this.__handleOne(a,j.id,j);case b("AdsCanvasResetCanvasDataActionFlux").actionType:t=e.canvasID;if(!b("CanvasDataUtils").isNewDocumentID(t)){s=this.get(t+h).getValueEnforcing();a=this.__handleOne(a,t,s)}return a;case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:return this.getInitialState();default:return a}};d.__load=function(a){b("AdsCanvasDocumentDataDispatcher").getDocument(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsCanvasElementStore",["invariant","AddCanvasAddCanvasActionFlux","AdsCanvasBuilderSelectTemplateDataActionFlux","AdsCanvasButtonElement","AdsCanvasCarouselElement","AdsCanvasConstants","AdsCanvasDocumentAddNewElementsDataActionFlux","AdsCanvasElementCreateSuccessDataActionFlux","AdsCanvasElementDataDispatcher","AdsCanvasElementDeleteDataActionFlux","AdsCanvasElementLoadErrorDataActionFlux","AdsCanvasElementLoadSuccessDataActionFlux","AdsCanvasElementMultiUpdateActionFlux","AdsCanvasElementSaveSuccessDataActionFlux","AdsCanvasElementStoreActionHandlers","AdsCanvasElementSwitchButtonPositionDataActionFlux","AdsCanvasEnableMultiTabCanvasActionFlux","AdsCanvasFooterElement","AdsCanvasHeaderElement","AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux","AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux","AdsCanvasInlineTransformCanvasDataActionFlux","AdsCanvasLeadFormElement","AdsCanvasPhotoElement","AdsCanvasProductSetElement","AdsCanvasResetCanvasDataActionFlux","AdsCanvasStoreLocatorElement","AdsCanvasTextElement","AdsCanvasVideoElement","AdsDataAtom","AdsUEditorAdgroupSetCanvasDocumentDataActionFlux","CanvasDataUtils","FluxLoadObjectStore","RichMediaElementTypeConstant","adsCreateStoreThunkSelector","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCanvasConstants").CANVAS_COPY_SUFFIX,i=b("RichMediaElementTypeConstant").RichMediaElementTypes,j=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getByID=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.get.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.reduce=function(a,c){__p&&__p();var d=this,e=c.action,f,g,k,l;a=b("AdsCanvasElementStoreActionHandlers").reduce(a,c);switch(e.type){case b("AdsCanvasDocumentAddNewElementsDataActionFlux").actionType:c=e.elements;k=new Map();c.map(function(a){__p&&__p();switch(a.elementType){case i.BUTTON:k.set(a.id,b("AdsCanvasButtonElement").createNewElement(a.id));break;case i.CAROUSEL:k.set(a.id,b("AdsCanvasCarouselElement").createNewElement(a.id));break;case i.ELEMENT_GROUP:k.set(a.id,b("AdsCanvasProductSetElement").createNewElement(a.id));break;case i.FOOTER:k.set(a.id,b("AdsCanvasFooterElement").createNewElement(a.id));break;case i.HEADER:k.set(a.id,b("AdsCanvasHeaderElement").createNewElement(a.id));break;case i.PHOTO:k.set(a.id,b("AdsCanvasPhotoElement").createNewElement(a.id,!!e.options.addProductTags));break;case i.RICH_TEXT:k.set(a.id,b("AdsCanvasTextElement").createNewElement(a.id));break;case i.STORE_LOCATOR:k.set(a.id,b("AdsCanvasStoreLocatorElement").createNewElement(a.id,b("nullthrows")(e.options.locationSourceID)));break;case i.VIDEO:k.set(a.id,b("AdsCanvasVideoElement").createNewElement(a.id));break;case i.LEAD_GEN_FORM:k.set(a.id,new(b("AdsCanvasLeadFormElement"))({id:a.id,leadgen_data_id:null}));break;default:break}});return this.__handleMap(a,k);case b("AdsCanvasElementLoadSuccessDataActionFlux").actionType:case b("AdsCanvasElementCreateSuccessDataActionFlux").actionType:case b("AdsCanvasElementSaveSuccessDataActionFlux").actionType:g=e.elementID;f=e.canvasElement;a=this.__handleOne(a,g,f);return this.__handleOne(a,g+h,f);case b("AdsCanvasElementLoadErrorDataActionFlux").actionType:g=e.elementID;l=e.error;return this.__handleOne(a,g,l);case b("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux").actionType:return this.$AdsCanvasElementStore1(a,e);case b("AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux").actionType:return this.$AdsCanvasElementStore2(a,e);case b("AdsCanvasElementSwitchButtonPositionDataActionFlux").actionType:g=e.elementID;f=e.canvasElement;return this.__handleOne(a,g,f);case b("AdsCanvasElementDeleteDataActionFlux").actionType:g=e.elementID;return this.__setEmpty(a,j([g]));case b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType:l=e.elementIDs;l&&(a=this.__setEmptyAndLoading(a,l),this.__loadAll(l));return a;case b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType:case b("AdsCanvasInlineTransformCanvasDataActionFlux").actionType:case b("AdsCanvasEnableMultiTabCanvasActionFlux").actionType:case b("AdsCanvasElementMultiUpdateActionFlux").actionType:case b("AddCanvasAddCanvasActionFlux").actionType:c=e.elements;c.map(function(b){a=d.__handleOne(a,b.id,b)});return a;case b("AdsCanvasResetCanvasDataActionFlux").actionType:l=e.elementIDs;l.map(function(c){if(!b("CanvasDataUtils").isNewElementID(c)){var e=d.get(c+h).getValueEnforcing();a=d.__handleOne(a,c,e)}});return a;default:return a}};d.getElementList=function(a){var b=this;return a.map(function(a){return b.get(a)})};d.__load=function(a){b("AdsCanvasElementDataDispatcher").getElement(a)};d.$AdsCanvasElementStore1=function(a,c){__p&&__p();var d=c.photoElementID,e=c.productID,f=c.coordinates;c=this.get(d);c!=null&&c.hasValue()||g(0,2833);c=c.getValueEnforcing();var h=c.get("productTags"),i=b("nullthrows")(h).findIndex(function(a){return a.productID===e});i!==-1||g(0,2834);h=h.updateIn([i],function(a){return a.set("coordinates",f)});i=c.set("productTags",h);return this.__handleOne(a,d,i)};d.$AdsCanvasElementStore2=function(a,c){__p&&__p();var d=c.photoElementID,e=c.productID;c=this.get(d);c!=null&&c.hasValue()||g(0,2833);c=c.getValueEnforcing();var f=c.get("productTags");f=b("nullthrows")(f).findIndex(function(a){return a.productID===e});f!==-1||g(0,2834);c=c.set("currentItemIndex",f);return this.__handleOne(a,d,c)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsCanvasElementUnifiedBuilderToggleHeaderElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","AdsCanvasHeaderElement","AdsCanvasUnifiedBuilderToggleHeaderElementActionFlux","AdsDataAtom","AdsSelectorUtils","AdsStoreUtils","LoadObject","RichMediaElementTypeConstant","adsCanvasCurrentDocumentSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasUnifiedBuilderToggleHeaderElementActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("adsCanvasCurrentDocumentSelector"),b("AdsStoreUtils").toSelector(b("AdsCanvasDocumentStore"))]));a=b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs();c=a.map(function(a){return b("AdsCanvasDocumentStore").get(a).getValueEnforcing()});return{canvases:c}},mutate:function(a,c,d){var e=c;a.addHeader&&d.canvases.map(function(c){var d=c.elements.findIndex(function(a){return a.elementType===g.HEADER});c=c.elements.get(d).id;d=b("AdsCanvasHeaderElement").createNewElement(c,a.title);e=e.set(c,b("LoadObject").withValue(d))});return e}};e.exports=a}),null);
__d("AdsCanvasElementInlineToggleLeadFormElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","AdsCanvasInlineToggleLeadFormElementDataActionFlux","AdsCanvasLeadFormElement","AdsDataAtom","AdsSelectorUtils","AdsStoreUtils","LoadObject","RichMediaElementTypeConstant","adsCanvasCurrentDocumentSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasInlineToggleLeadFormElementDataActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("adsCanvasCurrentDocumentSelector"),b("AdsStoreUtils").toSelector(b("AdsCanvasDocumentStore"))]));a=b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs();c=a.map(function(a){return b("AdsCanvasDocumentStore").get(a).getValueEnforcing()});return{canvases:c}},mutate:function(a,c,d){a.addLeadForm&&d.canvases.map(function(d){var e=d.elements.findIndex(function(a){return a.elementType===g.LEAD_GEN_FORM});d=d.elements.get(e).id;e=new(b("AdsCanvasLeadFormElement"))({id:d,leadgen_data_id:a.leadGenFormSourceID});c=c.set(d,b("LoadObject").withValue(e))});return c}};e.exports=a}),null);
__d("AdsCanvasElementInlineToggleStoreLocatorElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","AdsCanvasInlineToggleStoreLocatorElementActionFlux","AdsCanvasStoreLocatorElement","AdsDataAtom","AdsSelectorUtils","AdsStoreUtils","LoadObject","RichMediaElementTypeConstant","adsCanvasCurrentDocumentSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasInlineToggleStoreLocatorElementActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("adsCanvasCurrentDocumentSelector"),b("AdsStoreUtils").toSelector(b("AdsCanvasDocumentStore"))]));a=b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs();c=a.map(function(a){return b("AdsCanvasDocumentStore").get(a).getValueEnforcing()});return{canvases:c}},mutate:function(a,c,d){a.addStoreLocator&&d.canvases.map(function(d){var e=d.elements.findIndex(function(a){return a.elementType===g.STORE_LOCATOR});d=d.elements.get(e).id;e=new(b("AdsCanvasStoreLocatorElement"))({id:d,locationSourceID:a.locationSourceID});c=c.set(d,b("LoadObject").withValue(e))});return c}};e.exports=a}),null);
__d("AdsCanvasElementSetHideProductPricesForLifestyleComponentsActionHandler",["invariant","AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","AdsCanvasPhotoElement","AdsCanvasSetHideProductPricesForLifestyleComponentsActionFlux","AdsDataAtom","AdsSelectorUtils","AdsStoreUtils","LoadObject","RichMediaElementTypeConstant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasSetHideProductPricesForLifestyleComponentsActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("AdsStoreUtils").toSelector(b("AdsCanvasDocumentStore"))]));a=b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs();c=a.map(function(a){return b("AdsCanvasDocumentStore").get(a).getValueEnforcing()});a=c.map(function(a){return a.elements.filter(function(a){return a.elementType===h.PHOTO}).map(function(a){return a.id})}).flatten(!0);return{photoElementIDs:a}},mutate:function(a,c,d){d.photoElementIDs.map(function(d){var e=c.get(d).getValueEnforcing();e instanceof b("AdsCanvasPhotoElement")||g(0,4062);if(!e.productTags)return;c=c.set(d,b("LoadObject").withValue(e.set("hideProductPrices",a.hideProductPrices)))});return c}};e.exports=a}),null);
__d("AdsCanvasElementSetProductCatalogForLifestyleComponentsActionHandler",["invariant","AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","AdsCanvasPhotoElement","AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux","AdsDataAtom","AdsSelectorUtils","AdsStoreUtils","LoadObject","RichMediaElementTypeConstant","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RichMediaElementTypeConstant").RichMediaElementTypes,i=b("immutable").List;a={type:b("AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("AdsStoreUtils").toSelector(b("AdsCanvasDocumentStore"))]));a=b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs();c=a.map(function(a){return b("AdsCanvasDocumentStore").get(a).getValueEnforcing()});a=c.map(function(a){return a.elements.filter(function(a){return a.elementType===h.PHOTO}).map(function(a){return a.id})}).flatten(!0);return{photoElementIDs:a}},mutate:function(a,c,d){d.photoElementIDs.map(function(d){var e=c.get(d).getValueEnforcing();e instanceof b("AdsCanvasPhotoElement")||g(0,4062);if(!e.productTags)return;var f=!e.catalogID||e.catalogID===a.productCatalogID?e.productTags:i([]);c=c.set(d,b("LoadObject").withValue(e.set("catalogID",a.productCatalogID).set("productTags",f)))});return c}};e.exports=a}),null);
__d("AdsCanvasElementSetProductCategorizationCriteriaActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","AdsCanvasDynamicPhotoElement","AdsCanvasDynamicProductSetElement","AdsCanvasSetProductCategorizationCriteriaActionFlux","AdsCanvasTemplateVideoElement","AdsDataAtom","AdsSelectorUtils","AdsStoreUtils","LoadObject","RichMediaElementTypeConstant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasSetProductCategorizationCriteriaActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("AdsStoreUtils").toSelector(b("AdsCanvasDocumentStore"))]));a=b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs();c=a.map(function(a){return b("AdsCanvasDocumentStore").get(a).getValueEnforcing()});a=c.map(function(a){return a.elements.filter(function(a){return a.elementType===g.DYNAMIC_PHOTO||a.elementType===g.DYNAMIC_PRODUCT_SET||a.elementType===g.TEMPLATE_VIDEO}).map(function(a){return a.id})}).flatten(!0);return{elementIDs:a}},mutate:function(a,c,d){var e=c;d.elementIDs.map(function(c){var d=e.get(c).getValueEnforcing();d instanceof b("AdsCanvasDynamicProductSetElement")&&(d=d.set("categorizationCriteria",a.categorizationCriteria));d instanceof b("AdsCanvasTemplateVideoElement")&&(d=d.setCategorizationCriteria(a.categorizationCriteria));(d instanceof b("AdsCanvasDynamicPhotoElement")||d instanceof b("AdsCanvasDynamicProductSetElement"))&&(d=d.set("bundleFolderID",a.bundleFolderID));e=e.set(c,b("LoadObject").withValue(d))});return e}};e.exports=a}),null);
__d("AdsCanvasElementAddNewLifestyleComponentActionHandler",["AdsCanvasAddNewLifestyleComponentActionFlux","LoadObject"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasAddNewLifestyleComponentActionFlux").actionType,mutate:function(a,c,d){return c.set(a.lifestyleElement.id,b("LoadObject").withValue(a.lifestyleElement))}};e.exports=a}),null);
__d("AdsCanvasElementStoreTransformElementReducer",["invariant","AdsCanvasDynamicPhotoElement","AdsCanvasDynamicProductSetElement","AdsCanvasPhotoElement","AdsCanvasProductListElement","AdsCanvasProductSetElement","AdsCanvasTemplateVideoElement","AdsCanvasVideoElement","AdsDataAtom","AdsIXElementTransformCacheProvider","AdsSelectorUtils","LoadObject","RichMediaElementTypeConstant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RichMediaElementTypeConstant").RichMediaElementTypes,i={genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsIXElementTransformCacheProvider").toFluxSelector()]));a=b("AdsIXElementTransformCacheProvider").toFluxSelector()();return{elementCache:a}},mutate:function(a,c,d){__p&&__p();var e=c;a.oldElements.map(function(c,f){__p&&__p();c=c.id;var j=e.get(c).getValueEnforcing(),k=a.productCatalogID!=null?a.productCatalogID:j.catalogID;f=a.newElementTypes.get(f);var l=d.elementCache.get(c).get(f);if(e.has(l)){c=e.get(d.elementCache.get(c).get(f)).getValueEnforcing();if(c.elementType===f){c=i._copySharedProductFields(c,k,a.productSetID,a.itemHeadlineTemplate,a.itemDescriptionTemplate);e=e.set(c.id,b("LoadObject").withValue(c));return}}var m;f===h.PHOTO?m=new(b("AdsCanvasPhotoElement"))({id:l,name:j.name}):f===h.VIDEO?m=new(b("AdsCanvasVideoElement"))({id:l,name:j.name}):f===h.ELEMENT_GROUP?m=new(b("AdsCanvasProductSetElement"))({catalogID:k,setID:a.productSetID,id:l,name:j.name,showInFeed:!0}):f===h.PRODUCT_LIST?m=new(b("AdsCanvasProductListElement"))({catalogID:k,id:l,name:j.name}):f===h.TEMPLATE_VIDEO?m=new(b("AdsCanvasTemplateVideoElement"))({id:l,name:j.name,productSetID:a.productSetID}).setOrDeleteCustomizationText("name_template",a.itemHeadlineTemplate).setOrDeleteCustomizationText("body_template",a.itemDescriptionTemplate):f===h.DYNAMIC_PRODUCT_SET?m=new(b("AdsCanvasDynamicProductSetElement"))({id:l,name:j.name,setID:a.productSetID,catalogID:k}):f===h.DYNAMIC_PHOTO&&(m=new(b("AdsCanvasDynamicPhotoElement"))({id:l,name:j.name}));m||g(0,249);e=e.set(m.id,b("LoadObject").withValue(m))});return e},_copySharedProductFields:function(a,b,c,d,e){a=a;a.has("catalogID")&&a.catalogID!==b&&(a=a.set("catalogID",b));a.has("setID")&&a.setID!==c&&(a=a.set("setID",c));a.has("productSetID")&&a.productSetID!==c&&(a=a.set("productSetID",c));a.has("templateVideoSpec")&&(a=a.getCustomization("name_template")!==d?a.setOrDeleteCustomizationText("name_template",d):a,a=a.getCustomization("body_template")!==d?a.setOrDeleteCustomizationText("body_template",e):a);return a}};e.exports=i}),null);
__d("AdsCanvasElementDisableCategoryTabsActionHandler",["AdsCanvasDisableCategoryTabsActionFlux","AdsCanvasElementStoreTransformElementReducer"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasDisableCategoryTabsActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasElementStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){return b("AdsCanvasElementStoreTransformElementReducer").mutate(a,c,d)}};e.exports=a}),null);
__d("AdsCanvasElementEnableCategoryTabsActionHandler",["AdsCanvasElementStoreTransformElementReducer","AdsCanvasEnableCategoryTabsActionFlux","LoadObject"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasEnableCategoryTabsActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasElementStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){c;c=b("AdsCanvasElementStoreTransformElementReducer").mutate(a,c,d);return a.newHeaderElement!=null?c.set(a.newHeaderElement.id,b("LoadObject").withValue(a.newHeaderElement)):c}};e.exports=a}),null);
__d("AdsCanvasElementSetDefaultCategoriesEnabledActionHandler",["AdsCanvasElementSetDefaultCategoriesEnabledActionFlux","LoadObject","RichMediaElementTypeConstant"],(function(a,b,c,d,e,f){"use strict";var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasElementSetDefaultCategoriesEnabledActionFlux").actionType,mutate:function(a,c,d){d=c.get(a.elementID).getValueEnforcing();d.elementType===g.ELEMENT_GROUP&&(c=c.set(d.id,b("LoadObject").withValue(d.set("storefrontSetting",d.get("storefrontSetting").set("enableCategorySection",!0)))));return c}};e.exports=a}),null);
__d("AdsCanvasElementSwitchElementTypeActionHandler",["AdsCanvasElementStoreTransformElementReducer","AdsCanvasSwitchElementTypeActionFlux"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasSwitchElementTypeActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasElementStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){return b("AdsCanvasElementStoreTransformElementReducer").mutate(a,c,d)}};e.exports=a}),null);
__d("AdsCanvasElementStoreActionHandlers",["AdsCanvasElementAddNewLifestyleComponentActionHandler","AdsCanvasElementDisableCategoryTabsActionHandler","AdsCanvasElementEnableCategoryTabsActionHandler","AdsCanvasElementInlineToggleLeadFormElementActionHandler","AdsCanvasElementInlineToggleStoreLocatorElementActionHandler","AdsCanvasElementSetDefaultCategoriesEnabledActionHandler","AdsCanvasElementSetHideProductPricesForLifestyleComponentsActionHandler","AdsCanvasElementSetProductCatalogForLifestyleComponentsActionHandler","AdsCanvasElementSetProductCategorizationCriteriaActionHandler","AdsCanvasElementSwitchElementTypeActionHandler","AdsCanvasElementUnifiedBuilderToggleHeaderElementActionHandler","AdsCanvasElementUpdateActionHandler","createObjectBy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("createObjectBy")([b("AdsCanvasElementAddNewLifestyleComponentActionHandler"),b("AdsCanvasElementDisableCategoryTabsActionHandler"),b("AdsCanvasElementEnableCategoryTabsActionHandler"),b("AdsCanvasElementInlineToggleLeadFormElementActionHandler"),b("AdsCanvasElementInlineToggleStoreLocatorElementActionHandler"),b("AdsCanvasElementSetDefaultCategoriesEnabledActionHandler"),b("AdsCanvasElementSetHideProductPricesForLifestyleComponentsActionHandler"),b("AdsCanvasElementSetProductCatalogForLifestyleComponentsActionHandler"),b("AdsCanvasElementSetProductCategorizationCriteriaActionHandler"),b("AdsCanvasElementSwitchElementTypeActionHandler"),b("AdsCanvasElementUnifiedBuilderToggleHeaderElementActionHandler"),b("AdsCanvasElementUpdateActionHandler")],function(a){return a.type});function a(a,b){b=b.action;var c=g[b.type];if(c){var d=c.genExtraData&&c.genExtraData(b,a);return c.mutate(b,a,d)}return a}e.exports={reduce:a}}),null);
__d("AdsCanvasElementUpdateActionHandler",["invariant","AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","AdsCanvasElementUpdateDataActionFlux","AdsCanvasProductSetElementStorefrontSettingRecord","AdsCanvasTemplateVideoElement","AdsCollectionsConstants","AdsDataAtom","AdsProductSetStore_DEPRECATED","AdsSelectorUtils","AdsStoreUtils","LoadObject","RichMediaElementTypeConstant","adsCanvasCurrentDocumentSelector","adsCanvasShowBentoV2UISelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasElementUpdateDataActionFlux").actionType,genExtraData:function(a,c){__p&&__p();b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("adsCanvasCurrentDocumentSelector"),b("AdsStoreUtils").toSelector(b("AdsCanvasDocumentStore"))]));var d=b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs();d=d.map(function(a){return b("AdsCanvasDocumentStore").get(a).getValueEnforcing()});var e=b("adsCanvasCurrentDocumentSelector")().getValueEnforcing(),f=e.elements.findIndex(function(b){return b.id===a.elementID}),g=c.get(a.elementID).getValueEnforcing();c=d.map(function(a){return a.elements.get(f)}).filter(function(b){return b&&b.id!==a.elementID&&b.elementType===g.elementType}).map(function(a){return a.id});return babelHelpers["extends"]({},j(a),{currentCanvasDocument:e,siblingElementIDs:c})},mutate:function(a,c,d){__p&&__p();var e=c,f=a.canvasElement,g=c.get(a.elementID).getValueEnforcing(),h=[];Object.keys(g.toJSON()).map(function(a){g[a]!==f[a]&&h.push(a)});var j=h.filter(function(a){return g.getSharedMultiTabFields().indexOf(a)!==-1});c=c.set(f.id,b("LoadObject").withValue(f));j.length>0&&d.siblingElementIDs.map(function(a){var d=c.get(a).getValueEnforcing();if(d.elementType!==f.elementType)return;j.map(function(a){d=d.set(a,f[a])});c=c.set(a,b("LoadObject").withValue(d))});c=k(a,c,d,e);c=i(a,c,d);return c}};function i(a,c,d){__p&&__p();var e=a.canvasElement;if(e.elementType===h.ELEMENT_GROUP||e.elementType===h.DYNAMIC_PRODUCT_SET){a=d.currentCanvasDocument.elements.filter(function(a){return a.elementType===h.TEMPLATE_VIDEO}).map(function(a){return a.id});a.forEach(function(a){var d=c.get(a).getValueEnforcing();d instanceof b("AdsCanvasTemplateVideoElement")||g(0,6025);c=c.set(a,b("LoadObject").withValue(d.set("productSetID",e.get("setID")).setOrDeleteCustomizationText("name_template",e.itemHeadlineTemplate).setOrDeleteCustomizationText("body_template",e.itemDescriptionTemplate)))})}return c}function j(a){b("AdsDataAtom").waitFor([b("AdsProductSetStore_DEPRECATED").getDispatchToken()]);var c=!1;a=a.canvasElement;if(a.elementType===h.ELEMENT_GROUP&&a.setID!=null&&b("adsCanvasShowBentoV2UISelector")()){a=b("AdsProductSetStore_DEPRECATED").get(a.setID);a.product_count>=b("AdsCollectionsConstants").BENTO_MIN_PRODUCT_COUNT&&(c=!0)}return{isBentoEligible:c}}function k(a,c,d,e){var f=a.canvasElement;e=e.get(a.elementID).getValueEnforcing();f.elementType===h.ELEMENT_GROUP&&e.setID!==f.setID&&(c=c.set(f.id,b("LoadObject").withValue(f.set("storefrontSetting",new(b("AdsCanvasProductSetElementStorefrontSettingRecord"))({enableSections:d.isBentoEligible})))));return c}e.exports=a}),null);
__d("XCanvasAdsUtilsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/canvas/pageconfig/",{page_id:{type:"String",required:!0}})}),null);
__d("RichMediaEditorDataLoader",["AdsGraphAPI","AsyncRequest","XCanvasAdsUtilsController"],(function(a,b,c,d,e,f){"use strict";a={getCanvasPageData:function(a){a=b("XCanvasAdsUtilsController").getURIBuilder().setString("page_id",a).getURI();return new(b("AsyncRequest"))().setURI(a).exec()},createCanvas:function(a,c){delete a.id;return b("AdsGraphAPI").get(e.id).object("page",c).edge("rich_media_documents").post(babelHelpers["extends"]({},a,{owner_id:c}))},updateCanvas:function(a){return b("AdsGraphAPI").get(e.id).object("rich_media_document",a.id).post(a)}};e.exports=a}),null);
__d("RichMediaEditorDataDispatcher",["AdsRichMediaEditorLoadPageDataErrorDataAction","AdsRichMediaEditorLoadPageDataSuccessDataAction","RichMediaEditorDataLoader","promiseDone"],(function(a,b,c,d,e,f){"use strict";a={getCanvasPageData:function(a,c,d){b("promiseDone")(b("RichMediaEditorDataLoader").getCanvasPageData(a).then(function(a){a=a.getPayload();var e=a.page_canvas_count;a=a.page_published_canvas_count;b("AdsRichMediaEditorLoadPageDataSuccessDataAction").dispatch({funnelLogger:d,logger:c,pageCanvasCount:e,pagePublishedCanvasCount:a},{line:"32",module:"RichMediaEditorDataDispatcher.js"})})["catch"](function(a){b("AdsRichMediaEditorLoadPageDataErrorDataAction").dispatch({funnelLogger:d,logger:c},{line:"40",module:"RichMediaEditorDataDispatcher.js"})}))}};e.exports=a}),null);
__d("RichMediaEditorActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({ADD_DOCUMENT_ELEMENT:!0,ADD_ELEMENTS_SELECTED:!0,ADD_FILES_TO_DOCUMENT_ELEMENT:!0,BACK_TO_MENU:!0,CANVAS_TEMPLATE_SELECTED:!1,COLLAPSE_EXPANDED_ELEMENTS:!1,CREATE_CANVAS_SUCCESS:!0,CREATE_DEFAULT_DOCUMENT:!0,CREATE_DOCUMENT_FROM_MEDIA:!0,DELETE_ELEMENT:!0,DESELECT_ELEMENT_TO_ADD:!0,EDIT_DOCUMENT_ELEMENT:!0,FETCH_TEMPLATES:null,LOAD_BLANK_CANVAS:!1,LOAD_CANVAS_TEMPLATE:!1,LOAD_DOCUMENT:!0,LOAD_PAGE_DATA_SUCCESS:!1,LOAD_PAGE_DATA_ERROR:!1,LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_SUCCESS:!1,LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_ERROR:!1,LOAD_PAGE_LOCATIONS_ERROR:!0,LOAD_PAGE_LOCATIONS_SUCCESS:!0,MOVE_ELEMENT_DOWN:!0,MOVE_ELEMENT_UP:!0,REPLACE_FILE_IN_DOCUMENT:!0,RESET_UNPUBLISHED_CANVAS:!0,SAVE_INCOMPLETE_ELEMENTS:!1,SELECT_ELEMENT_TO_ADD:!0,SET_ADD_COMPONENT_DIALOG_SHOWN:!0,SET_CANVAS_PAGEID:null,SET_CANVAS_SOURCE:null,SET_CUSTOMIZE_THEME_COLOR:!0,SET_DIALOG_CANVAS:!0,SET_DIALOG_SHOWN:!0,SET_DOCUMENT_EDIT_STATE:!0,SET_DOCUMENT_NAME:!0,SET_DOCUMENT_THEME:!0,SET_DOCUMENT_URL_DIALOG_SHOWN:!0,SET_FORCE_EDIT_PUBLISHED:!0,SET_NONEMPTY_ELEMENT_NAME:!0,SET_PREVIEW_FAILED:!0,SET_PREVIEW_TYPE:!0,SET_SAVE_FAILED:!0,SET_SELECTED_CANVAS:!0,SET_SENDING_PREVIEW:!0,SET_SHOW_TEMPLATES:!1,SET_SWIPE_TO_OPEN_ENABLED:!0,SET_SUPPORT_INSTAGRAM_ENABLED:!1,SET_UNPUBLISHED_CANVAS:!0,SET_USE_CUSTOMIZE_THEME_COLOR:!0,SET_VALIDATION_FAILED:!1,TEMPLATE_FETCHED:null,TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN:!0,TOGGLE_WELCOME_PANE_SHOWN:!1,TOOLBAR_PUBLISH_CLICK:!1,TRIGGER_NUX_TOUR:!1},"RichMediaEditor")}),null);
__d("AdsCanvasComposerDialogStore",["AdsCanvasDocIdLoadedDataActionFlux","AdsDataAtom","FluxReduceStore","RichMediaEditorActionTypes","adsCreateStoreSelector","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").Map;c=b("immutable").Record;var g=b("gkx")("779516"),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(c({dialogShown:a(),dialogCanvases:a(),selectedCanvas:null,unpublishedCanvas:null}));d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(g))||this,d.getDialogShown=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(a){return!!d.getState().get("dialogShown").get(a)},e.id),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return new h()};d.__getActionTypes=function(){return g?[b("AdsCanvasDocIdLoadedDataActionFlux").actionType,b("RichMediaEditorActionTypes").RESET_UNPUBLISHED_CANVAS,b("RichMediaEditorActionTypes").SET_DIALOG_CANVAS,b("RichMediaEditorActionTypes").SET_DIALOG_SHOWN,b("RichMediaEditorActionTypes").SET_SELECTED_CANVAS,b("RichMediaEditorActionTypes").SET_UNPUBLISHED_CANVAS]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsCanvasDocIdLoadedDataActionFlux").actionType:return a.set("dialogCanvases",a.get("dialogCanvases").set(c.canvasID,c.canvas));case b("RichMediaEditorActionTypes").SET_UNPUBLISHED_CANVAS:return a.set("unpublishedCanvas",c.unpublishedCanvas);case b("RichMediaEditorActionTypes").RESET_UNPUBLISHED_CANVAS:return a.set("unpublishedCanvas",null);case b("RichMediaEditorActionTypes").SET_DIALOG_SHOWN:return a.set("dialogShown",a.get("dialogShown").set(c.dialogID,c.dialogShown));case b("RichMediaEditorActionTypes").SET_DIALOG_CANVAS:return a.set("dialogCanvases",a.get("dialogCanvases").set(c.dialogID,c.canvas));case b("RichMediaEditorActionTypes").SET_SELECTED_CANVAS:return a.set("selectedCanvas",c.selectedCanvas);default:return a}};d.getDialogCanvas=function(a){return this.getState().get("dialogCanvases").get(a)};d.getSelectedCanvas=function(){return this.getState().get("selectedCanvas")};d.getUnpublishedCanvas=function(){return this.getState().get("unpublishedCanvas")};return c}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("AdsDataAtom"))}),null);
__d("RichMediaDocumentThemeConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={WHITE:"FFFFFFFF",BLACK:"FF000000"}}),null);
__d("RichMediaEditorTemplateLayouts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";e.exports={LAYOUT_CONFIGS:[{title:g._("Get new customers"),subtitle:g._("Drive conversions with a mobile landing page that encourages action."),value:"get_new_customers"},{title:g._("Showcase your business"),subtitle:g._("Give people an engaging way to explore your brand, product or service."),value:"showcase_your_business"},{title:g._("Sell products"),subtitle:g._("Create an experience that lets people shop for your products or services straight from their mobile device."),value:"sell_manual_products"}]}}),null);
__d("RichMediaEditorStore",["AddCanvasAddCanvasActionFlux","AdsCanvasAddNewLifestyleComponentActionFlux","AdsCanvasBuilderLoadTemplateDataActionFlux","AdsCanvasBuilderOpenBlankCanvasDataActionFlux","AdsCanvasBuilderOpenNUXTourDataActionFlux","AdsCanvasBuilderSelectTemplateDataActionFlux","AdsCanvasCollectionPreviewToFacebookDataActionFlux","AdsCanvasCollectionPreviewToInstagramDataActionFlux","AdsCanvasDeleteDocumentActionFlux","AdsCanvasDisableCategoryTabsActionFlux","AdsCanvasDisableMultiTabCanvasActionFlux","AdsCanvasDocumentAddNewElementsDataActionFlux","AdsCanvasDocumentCreateErrorDataActionFlux","AdsCanvasDocumentCreateSuccessDataActionFlux","AdsCanvasDocumentDuplicateErrorDataActionFlux","AdsCanvasDocumentDuplicateSuccessDataActionFlux","AdsCanvasDocumentInitDuplicateDataActionFlux","AdsCanvasDocumentInitPublishDataActionFlux","AdsCanvasDocumentInitSaveDataActionFlux","AdsCanvasDocumentLoadSuccessDataActionFlux","AdsCanvasDocumentReorderElementsDataActionFlux","AdsCanvasDocumentSaveDynamicCanvasErrorActionFlux","AdsCanvasDocumentSaveErrorDataActionFlux","AdsCanvasDocumentSaveSuccessDataActionFlux","AdsCanvasDocumentSetSupportInstagramActionFlux","AdsCanvasDocumentSetTitleDataActionFlux","AdsCanvasEditorEnums","AdsCanvasElementCreateErrorDataActionFlux","AdsCanvasElementDeleteDataActionFlux","AdsCanvasElementMultiUpdateActionFlux","AdsCanvasElementSaveErrorDataActionFlux","AdsCanvasElementSwitchButtonPositionDataActionFlux","AdsCanvasElementUpdateDataActionFlux","AdsCanvasEnableCategoryTabsActionFlux","AdsCanvasInitDataActionFlux","AdsCanvasInlineBuilderPreviewCanvasDataActionFlux","AdsCanvasInlineBuilderSaveAllCanvasesActionFlux","AdsCanvasInlineBuilderSaveCanvasDataActionFlux","AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux","AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux","AdsCanvasInlineToggleLeadFormElementDataActionFlux","AdsCanvasInlineToggleStoreLocatorElementActionFlux","AdsCanvasReorderMultiCanvasActionFlux","AdsCanvasResetCanvasDataActionFlux","AdsCanvasSetHideProductPricesForLifestyleComponentsActionFlux","AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux","AdsCanvasShowCloseUnsavedCanvasDialogDataActionFlux","AdsCanvasSwitchElementTypeActionFlux","AdsCanvasTemplates","AdsDataAtom","AdsLeadGenFormEditorToggleElementAddedInCanvasEditorActionFlux","AdsRichMediaEditorBackToMenuDataActionFlux","AdsRichMediaEditorSetAddComponentDialogShownDataActionFlux","AdsRichMediaEditorSetCanvasPageidDataActionFlux","AdsRichMediaEditorSetCanvasSourceDataActionFlux","AdsRichMediaEditorSetDocumentThemeDataActionFlux","AdsRichMediaEditorSetDocumentUrlDialogShownDataActionFlux","AdsRichMediaEditorSetManualCatalogCreatedDataActionFlux","AdsRichMediaEditorSetPreviewFailedDataActionFlux","AdsRichMediaEditorSetPreviewTypeDataActionFlux","AdsRichMediaEditorSetSendingPreviewDataActionFlux","AdsRichMediaEditorSetShowTemplatesDataActionFlux","AdsRichMediaEditorSetSwipeToOpenEnabledDataActionFlux","AdsRichMediaEditorSetValidationFailedDataActionFlux","AdsRichMediaEditorShowManualProductComposerDialogDataActionFlux","AdsRichMediaEditorToggleDocumentDebugPaneShownDataActionFlux","AdsRichMediaEditorTriggerNuxTourDataActionFlux","AdsUEditorAdgroupSetCanvasDocumentDataActionFlux","CanvasSource","FluxStore","RichMediaDocumentThemeConstants","RichMediaEditorTemplateLayouts","SimpleNUXMessage","adsCreateStoreSelector","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasEditorEnums").DocumentThemeEnum,h=b("AdsCanvasEditorEnums").ErrorTypeEnum,i=b("AdsCanvasEditorEnums").PreviewEnum,j=b("AdsCanvasEditorEnums").SaveStateEnum,k=b("RichMediaDocumentThemeConstants").BLACK,l=b("RichMediaEditorTemplateLayouts").LAYOUT_CONFIGS,m=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.getCanvasPageId=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore24},e.id);d.getCanvasSource=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore23},e.id);d.getCustomThemeColor=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore2},e.id);d.getDocumentThemeType=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore3},e.id);d.getDocumentEditState=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore4},e.id);d.getPreviewFailed=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore7},e.id);d.getPreviewType=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore29},e.id);d.getSendingPreview=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore9},e.id);d.getSaveFailed=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore8},e.id);d.getDocumentURLDialogShown=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore11},e.id);d.getDocumentDebugPaneShown=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore10},e.id);d.getCurrentEditingElementIndex=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore12},e.id);d.getScrollToPreviewElementID=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore13},e.id);d.getShowAddComponentDialog=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore14},e.id);d.getShowBackToMenuUnsavedDialog=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore20},e.id);d.getShowCloseUnsavedCanvasDialog=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore21},e.id);d.getShowManualProductComposerDialog=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore22},e.id);d.getError=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore30},e.id);d.getErrorType=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore5},e.id);d.getManualCatalogCreated=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore18},e.id);d.getSelectedTemplate=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore19},e.id);d.getShowTemplates=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore15},e.id);d.getSwipeToOpenEnabled=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore26},e.id);d.getSupportFacebookEnabled=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore27},e.id);d.getSupportInstagramEnabled=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore28},e.id);d.isDefaultDocument=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore6},e.id);d.isWelcomePaneShown=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore17},e.id);d.isLeadFormEnabled=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore31},e.id);d.isLeadFormTogglerAdded=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore32},e.id);d.showNuxTour=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.$RichMediaEditorStore16},e.id);d.$RichMediaEditorStore1=null;d.$RichMediaEditorStore2=k;d.$RichMediaEditorStore3=g.WHITE;d.$RichMediaEditorStore4=j.SAVED;d.$RichMediaEditorStore5=h.NONE;d.$RichMediaEditorStore6=!1;d.$RichMediaEditorStore7=!1;d.$RichMediaEditorStore8=!1;d.$RichMediaEditorStore9=!1;d.$RichMediaEditorStore10=!1;d.$RichMediaEditorStore11=!1;d.$RichMediaEditorStore12=-1;d.$RichMediaEditorStore13=null;d.$RichMediaEditorStore14=!1;d.$RichMediaEditorStore16=!1;d.$RichMediaEditorStore17=!1;d.$RichMediaEditorStore18=!1;d.$RichMediaEditorStore19=null;d.$RichMediaEditorStore20=!1;d.$RichMediaEditorStore21=!1;d.$RichMediaEditorStore22=!1;d.$RichMediaEditorStore15=!1;d.$RichMediaEditorStore23=b("CanvasSource").OTHER;d.$RichMediaEditorStore24="";d.$RichMediaEditorStore25=!b("SimpleNUXMessage").hasUserSeenMessage("1733450480268575");d.$RichMediaEditorStore26=!0;d.$RichMediaEditorStore27=!0;d.$RichMediaEditorStore28=!0;d.$RichMediaEditorStore29=i.FACEBOOK;d.$RichMediaEditorStore30=null;d.$RichMediaEditorStore31=!1;d.$RichMediaEditorStore32=!1;return d}var d=c.prototype;d.__getActionTypes=function(){return m?[b("AddCanvasAddCanvasActionFlux").actionType,b("AdsCanvasAddNewLifestyleComponentActionFlux").actionType,b("AdsCanvasBuilderLoadTemplateDataActionFlux").actionType,b("AdsCanvasBuilderOpenBlankCanvasDataActionFlux").actionType,b("AdsCanvasBuilderOpenNUXTourDataActionFlux").actionType,b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType,b("AdsCanvasCollectionPreviewToFacebookDataActionFlux").actionType,b("AdsCanvasCollectionPreviewToInstagramDataActionFlux").actionType,b("AdsCanvasDeleteDocumentActionFlux").actionType,b("AdsCanvasDisableCategoryTabsActionFlux").actionType,b("AdsCanvasDisableMultiTabCanvasActionFlux").actionType,b("AdsCanvasDocumentAddNewElementsDataActionFlux").actionType,b("AdsCanvasDocumentCreateErrorDataActionFlux").actionType,b("AdsCanvasDocumentCreateSuccessDataActionFlux").actionType,b("AdsCanvasDocumentDuplicateErrorDataActionFlux").actionType,b("AdsCanvasDocumentDuplicateSuccessDataActionFlux").actionType,b("AdsCanvasDocumentInitDuplicateDataActionFlux").actionType,b("AdsCanvasDocumentInitPublishDataActionFlux").actionType,b("AdsCanvasDocumentInitSaveDataActionFlux").actionType,b("AdsCanvasDocumentLoadSuccessDataActionFlux").actionType,b("AdsCanvasDocumentReorderElementsDataActionFlux").actionType,b("AdsCanvasDocumentSaveDynamicCanvasErrorActionFlux").actionType,b("AdsCanvasDocumentSaveErrorDataActionFlux").actionType,b("AdsCanvasDocumentSaveSuccessDataActionFlux").actionType,b("AdsCanvasDocumentSetSupportInstagramActionFlux").actionType,b("AdsCanvasDocumentSetTitleDataActionFlux").actionType,b("AdsCanvasElementCreateErrorDataActionFlux").actionType,b("AdsCanvasElementDeleteDataActionFlux").actionType,b("AdsCanvasElementMultiUpdateActionFlux").actionType,b("AdsCanvasElementSaveErrorDataActionFlux").actionType,b("AdsCanvasElementSwitchButtonPositionDataActionFlux").actionType,b("AdsCanvasElementUpdateDataActionFlux").actionType,b("AdsCanvasEnableCategoryTabsActionFlux").actionType,b("AdsCanvasInitDataActionFlux").actionType,b("AdsCanvasInlineBuilderPreviewCanvasDataActionFlux").actionType,b("AdsCanvasInlineBuilderSaveAllCanvasesActionFlux").actionType,b("AdsCanvasInlineBuilderSaveCanvasDataActionFlux").actionType,b("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux").actionType,b("AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux").actionType,b("AdsCanvasInlineToggleLeadFormElementDataActionFlux").actionType,b("AdsCanvasInlineToggleStoreLocatorElementActionFlux").actionType,b("AdsCanvasReorderMultiCanvasActionFlux").actionType,b("AdsCanvasResetCanvasDataActionFlux").actionType,b("AdsCanvasSetHideProductPricesForLifestyleComponentsActionFlux").actionType,b("AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux").actionType,b("AdsCanvasShowCloseUnsavedCanvasDialogDataActionFlux").actionType,b("AdsCanvasSwitchElementTypeActionFlux").actionType,b("AdsLeadGenFormEditorToggleElementAddedInCanvasEditorActionFlux").actionType,b("AdsRichMediaEditorBackToMenuDataActionFlux").actionType,b("AdsRichMediaEditorSetAddComponentDialogShownDataActionFlux").actionType,b("AdsRichMediaEditorSetCanvasPageidDataActionFlux").actionType,b("AdsRichMediaEditorSetCanvasSourceDataActionFlux").actionType,b("AdsRichMediaEditorSetDocumentThemeDataActionFlux").actionType,b("AdsRichMediaEditorSetDocumentUrlDialogShownDataActionFlux").actionType,b("AdsRichMediaEditorSetManualCatalogCreatedDataActionFlux").actionType,b("AdsRichMediaEditorSetPreviewFailedDataActionFlux").actionType,b("AdsRichMediaEditorSetPreviewTypeDataActionFlux").actionType,b("AdsRichMediaEditorSetSendingPreviewDataActionFlux").actionType,b("AdsRichMediaEditorSetShowTemplatesDataActionFlux").actionType,b("AdsRichMediaEditorSetSwipeToOpenEnabledDataActionFlux").actionType,b("AdsRichMediaEditorSetValidationFailedDataActionFlux").actionType,b("AdsRichMediaEditorShowManualProductComposerDialogDataActionFlux").actionType,b("AdsRichMediaEditorToggleDocumentDebugPaneShownDataActionFlux").actionType,b("AdsRichMediaEditorTriggerNuxTourDataActionFlux").actionType,b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();var c=a.action;switch(c.type){case b("AdsRichMediaEditorSetDocumentThemeDataActionFlux").actionType:c.themeType===g.CUSTOM&&(this.$RichMediaEditorStore2=c.theme);this.$RichMediaEditorStore3=c.themeType;this.$RichMediaEditorStore4=j.UNSAVED;this.__emitChange();break;case b("AdsRichMediaEditorSetPreviewFailedDataActionFlux").actionType:this.$RichMediaEditorStore7=c.previewFailed;this.__emitChange();break;case b("AdsRichMediaEditorSetPreviewTypeDataActionFlux").actionType:this.$RichMediaEditorStore29=c.previewType;this.__emitChange();break;case b("AdsRichMediaEditorSetSendingPreviewDataActionFlux").actionType:this.$RichMediaEditorStore9=c.sendingPreview;this.__emitChange();break;case b("AdsCanvasDocumentSaveErrorDataActionFlux").actionType:this.$RichMediaEditorStore8=!0;this.$RichMediaEditorStore5=h.ERROR;this.$RichMediaEditorStore30=c.error;this.$RichMediaEditorStore4=j.UNSAVED;this.__emitChange();break;case b("AdsRichMediaEditorSetValidationFailedDataActionFlux").actionType:c.isDocumentLevelError&&(this.$RichMediaEditorStore30=new Error(c.validation.errorMsg.toString()));this.$RichMediaEditorStore5=h.ERROR;this.__emitChange();break;case b("AdsRichMediaEditorShowManualProductComposerDialogDataActionFlux").actionType:this.$RichMediaEditorStore22=c.visible,this.__emitChange();case b("AdsRichMediaEditorSetDocumentUrlDialogShownDataActionFlux").actionType:this.$RichMediaEditorStore11=c.dialogShown;this.__emitChange();break;case b("AdsRichMediaEditorToggleDocumentDebugPaneShownDataActionFlux").actionType:this.$RichMediaEditorStore10=!this.$RichMediaEditorStore10;this.__emitChange();break;case b("AdsRichMediaEditorTriggerNuxTourDataActionFlux").actionType:this.$RichMediaEditorStore16=c.shown;this.__emitChange();break;case b("AdsRichMediaEditorSetAddComponentDialogShownDataActionFlux").actionType:this.$RichMediaEditorStore14=c.dialogShown;this.__emitChange();break;case b("AdsCanvasDocumentAddNewElementsDataActionFlux").actionType:this.$RichMediaEditorStore4=j.UNSAVED;this.$RichMediaEditorStore5=h.NONE;this.$RichMediaEditorStore30=null;this.$RichMediaEditorStore14=!1;this.$RichMediaEditorStore17=!1;this.__emitChange();break;case b("AdsRichMediaEditorSetShowTemplatesDataActionFlux").actionType:this.$RichMediaEditorStore15=c.showTemplates;this.__emitChange();break;case b("AdsCanvasBuilderLoadTemplateDataActionFlux").actionType:this.$RichMediaEditorStore19=c.selectedTemplate;this.$RichMediaEditorStore26=!1;this.__emitChange();break;case b("AdsCanvasBuilderOpenBlankCanvasDataActionFlux").actionType:this.$RichMediaEditorStore17=!1;this.$RichMediaEditorStore14=!0;this.$RichMediaEditorStore26=!0;this.__emitChange();break;case b("AdsCanvasBuilderOpenNUXTourDataActionFlux").actionType:this.$RichMediaEditorStore17=!1;this.$RichMediaEditorStore16=!0;this.$RichMediaEditorStore26=!0;this.__emitChange();break;case b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType:this.$RichMediaEditorStore17=!1;this.$RichMediaEditorStore26=!0;this.__emitChange();break;case b("AdsRichMediaEditorBackToMenuDataActionFlux").actionType:this.$RichMediaEditorStore6=!0;this.$RichMediaEditorStore17=!0;this.$RichMediaEditorStore19=null;this.$RichMediaEditorStore26=!0;this.$RichMediaEditorStore5=h.NONE;this.$RichMediaEditorStore3=g.WHITE;this.$RichMediaEditorStore2=k;this.$RichMediaEditorStore4=j.UNSAVED;this.$RichMediaEditorStore10=!1;this.$RichMediaEditorStore16=!1;this.__emitChange();break;case b("AdsRichMediaEditorSetCanvasSourceDataActionFlux").actionType:this.$RichMediaEditorStore23=c.source;this.__emitChange();break;case b("AdsRichMediaEditorSetCanvasPageidDataActionFlux").actionType:this.$RichMediaEditorStore24=c.pageId;this.__emitChange();break;case b("AdsRichMediaEditorSetSwipeToOpenEnabledDataActionFlux").actionType:this.$RichMediaEditorStore26=c.value;this.$RichMediaEditorStore4=j.UNSAVED;this.__emitChange();break;case b("AdsCanvasDocumentSetSupportInstagramActionFlux").actionType:this.$RichMediaEditorStore28=c.value;this.$RichMediaEditorStore4=j.UNSAVED;this.$RichMediaEditorStore29=i.FACEBOOK;this.__emitChange();break;case b("AdsCanvasInlineBuilderSaveCanvasDataActionFlux").actionType:case b("AdsCanvasInlineBuilderSaveAllCanvasesActionFlux").actionType:this.$RichMediaEditorStore4=j.SAVING;this.__emitChange();break;case b("AdsCanvasCollectionPreviewToFacebookDataActionFlux").actionType:case b("AdsCanvasCollectionPreviewToInstagramDataActionFlux").actionType:case b("AdsCanvasInlineBuilderPreviewCanvasDataActionFlux").actionType:this.$RichMediaEditorStore9=!1;this.__emitChange();break;case b("AdsRichMediaEditorSetManualCatalogCreatedDataActionFlux").actionType:this.$RichMediaEditorStore18=c.created;this.__emitChange();break;case b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType:this.$RichMediaEditorStore4=j.SAVED;this.__emitChange();break;case b("AdsCanvasInitDataActionFlux").actionType:this.$RichMediaEditorStore3=g.WHITE;this.$RichMediaEditorStore2=k;this.$RichMediaEditorStore4=c.canvasID?j.SAVED:j.UNSAVED;this.$RichMediaEditorStore30=null;this.$RichMediaEditorStore5!==h.WARNING&&(this.$RichMediaEditorStore5=h.NONE);this.$RichMediaEditorStore7=!1;this.$RichMediaEditorStore8=!1;this.$RichMediaEditorStore9=!1;this.$RichMediaEditorStore10=!1;this.$RichMediaEditorStore11=!1;this.$RichMediaEditorStore12=-1;this.$RichMediaEditorStore14=!1;this.$RichMediaEditorStore16=!1;this.$RichMediaEditorStore19=null;this.$RichMediaEditorStore20=!1;this.$RichMediaEditorStore29=i.FACEBOOK;c.supportFacebookEnabled===!1?(this.$RichMediaEditorStore27=!1,c.supportInstagramEnabled&&(this.$RichMediaEditorStore29=i.INSTAGRAM)):this.$RichMediaEditorStore27=!0;this.$RichMediaEditorStore28=!(c.supportInstagramEnabled===!1);this.$RichMediaEditorStore6=!c.canvasID;this.$RichMediaEditorStore17=!c.canvasID;c.canvasID||(this.$RichMediaEditorStore26=!0);this.$RichMediaEditorStore24=c.pageID;this.$RichMediaEditorStore31=!1;this.$RichMediaEditorStore32=!1;this.__emitChange();break;case b("AdsCanvasDocumentLoadSuccessDataActionFlux").actionType:this.$RichMediaEditorStore26=c.canvasDocument.swipeToOpenEnabled;this.$RichMediaEditorStore4=l.some(function(a){return String(b("AdsCanvasTemplates")[a.value])===c.canvasID})?this.$RichMediaEditorStore4:j.SAVED;this.__emitChange();break;case b("AdsCanvasDocumentInitSaveDataActionFlux").actionType:this.$RichMediaEditorStore5=c.hasErrors?h.WARNING:h.NONE;this.$RichMediaEditorStore4=j.SAVING;this.__emitChange();break;case b("AdsCanvasDocumentInitPublishDataActionFlux").actionType:case b("AdsCanvasDocumentInitDuplicateDataActionFlux").actionType:this.$RichMediaEditorStore4=j.SAVING;this.__emitChange();break;case b("AdsCanvasDocumentCreateSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentDuplicateSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentSaveSuccessDataActionFlux").actionType:this.$RichMediaEditorStore4=c.setSavedState?j.SAVED:this.$RichMediaEditorStore4;this.$RichMediaEditorStore26=c.canvasDocument.swipeToOpenEnabled;this.$RichMediaEditorStore8=!1;this.__emitChange();break;case b("AdsCanvasDocumentSaveDynamicCanvasErrorActionFlux").actionType:case b("AdsCanvasDocumentCreateErrorDataActionFlux").actionType:case b("AdsCanvasDocumentDuplicateErrorDataActionFlux").actionType:case b("AdsCanvasElementCreateErrorDataActionFlux").actionType:case b("AdsCanvasElementSaveErrorDataActionFlux").actionType:this.$RichMediaEditorStore4=j.SAVED;this.$RichMediaEditorStore30=c.error;this.$RichMediaEditorStore8=!0;this.__emitChange();break;case b("AdsCanvasElementUpdateDataActionFlux").actionType:case b("AdsCanvasElementMultiUpdateActionFlux").actionType:this.$RichMediaEditorStore4=c.setUnsavedState?j.UNSAVED:this.$RichMediaEditorStore4;this.$RichMediaEditorStore6=!!c.setUnsavedState;this.$RichMediaEditorStore12=c.scrollToIndex?c.scrollToIndex:this.$RichMediaEditorStore12;this.$RichMediaEditorStore13=c.scrollToPreviewElementID;this.$RichMediaEditorStore5=h.NONE;this.$RichMediaEditorStore30=null;this.__emitChange();break;case b("AdsCanvasElementSwitchButtonPositionDataActionFlux").actionType:case b("AdsCanvasSwitchElementTypeActionFlux").actionType:this.$RichMediaEditorStore4=j.UNSAVED;this.$RichMediaEditorStore6=!1;this.$RichMediaEditorStore12=c.index;this.$RichMediaEditorStore13=null;this.$RichMediaEditorStore5=h.NONE;this.$RichMediaEditorStore30=null;this.__emitChange();break;case b("AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux").actionType:this.$RichMediaEditorStore12=c.index,this.$RichMediaEditorStore13=null,this.__emitChange();case b("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux").actionType:case b("AdsCanvasDisableMultiTabCanvasActionFlux").actionType:case b("AdsCanvasReorderMultiCanvasActionFlux").actionType:case b("AddCanvasAddCanvasActionFlux").actionType:case b("AdsCanvasDeleteDocumentActionFlux").actionType:case b("AdsCanvasInlineToggleStoreLocatorElementActionFlux").actionType:case b("AdsCanvasAddNewLifestyleComponentActionFlux").actionType:case b("AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux").actionType:case b("AdsCanvasSetHideProductPricesForLifestyleComponentsActionFlux").actionType:case b("AdsCanvasDisableCategoryTabsActionFlux").actionType:case b("AdsCanvasEnableCategoryTabsActionFlux").actionType:this.$RichMediaEditorStore4=j.UNSAVED;this.$RichMediaEditorStore6=!1;this.$RichMediaEditorStore30=null;this.$RichMediaEditorStore5=h.NONE;this.__emitChange();break;case b("AdsCanvasInlineToggleLeadFormElementDataActionFlux").actionType:this.$RichMediaEditorStore31=c.addLeadForm;this.$RichMediaEditorStore4=j.UNSAVED;this.$RichMediaEditorStore6=!1;this.$RichMediaEditorStore30=null;this.$RichMediaEditorStore5=h.NONE;this.__emitChange();break;case b("AdsLeadGenFormEditorToggleElementAddedInCanvasEditorActionFlux").actionType:this.$RichMediaEditorStore32=!0;this.$RichMediaEditorStore31=c.initState;this.__emitChange();break;case b("AdsCanvasDocumentReorderElementsDataActionFlux").actionType:this.$RichMediaEditorStore4=j.UNSAVED;this.$RichMediaEditorStore6=!1;this.$RichMediaEditorStore12=c.target;this.$RichMediaEditorStore13=null;this.__emitChange();break;case b("AdsCanvasDocumentSetTitleDataActionFlux").actionType:case b("AdsCanvasElementDeleteDataActionFlux").actionType:this.$RichMediaEditorStore4=j.UNSAVED;this.$RichMediaEditorStore6=!1;this.__emitChange();break;case b("AdsCanvasResetCanvasDataActionFlux").actionType:this.$RichMediaEditorStore21=!1;this.__emitChange();break;case b("AdsCanvasShowCloseUnsavedCanvasDialogDataActionFlux").actionType:this.$RichMediaEditorStore21=c.showDialog;this.__emitChange();break}};d.isNewUser=function(){return this.$RichMediaEditorStore25};d.setIsNotNewUser=function(){this.$RichMediaEditorStore25&&(b("SimpleNUXMessage").markMessageSeenByUser("1733450480268575"),this.$RichMediaEditorStore25=!1)};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsCanvasCloseUnsavedCanvasDialogSelector",["RichMediaEditorStore","adsCanvasCurrentDocumentSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasCurrentDocumentSelector"),b("RichMediaEditorStore").getShowCloseUnsavedCanvasDialog],function(a,b){if(!a.hasValue())return{isReady:!1};a=a.getValueEnforcing();return{canvasID:a.id,elementIDs:a.elements.map(function(a){return a.id}),isReady:!0,showDialog:b}},{name:e.id});e.exports=a}),null);
__d("adsUEditorAdgroupIsSlideshowSelectedSelector",["adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")(function(a){a=a.customSelectors_ASK_ACE_TEAM_BEFORE_USING;return a.isSlideshowSelectedSelector.getStores()},function(a){a=a.customSelectors_ASK_ACE_TEAM_BEFORE_USING;return a.isSlideshowSelectedSelector()},e.id+".selector");e.exports=a}),null);
__d("adsCanvasInlineEditorRichFormFormatSupportedSelector",["AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsPromotedObjectTypes","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorCampaignGroupAdObjectsUtils","AdsUIMediaFormat","adsCreateSelector","adsUEditorAdgroupIsSlideshowSelectedSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),b("adsUEditorAdgroupIsSlideshowSelectedSelector")],function(a,c){a=a.some(function(a){var d=b("AdsUEditorAdgroupAdObjectsUtils").getUIMediaFormat(a,c),e=b("AdsUEditorCampaignGroupAdObjectsUtils").getObjective(a);a=b("AdsAPICampaignRecordUtils").getPromotedObjectType(e,a.campaign);return e!==b("AdsAPIObjectives").LINK_CLICKS||e===b("AdsAPIObjectives").LINK_CLICKS&&a===b("AdsPromotedObjectTypes").WEBSITE&&d!==b("AdsUIMediaFormat").COLLECTIONS});return a},{name:e.id});e.exports=a}),null);
__d("adsCanvasInlineEditorRichFormObjectiveSupportedSelector",["AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsBulkValueUtils","AdsUEditorCampaignGroupBulkSelectors","adsCreateSelector","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Set([b("AdsAPIObjectives").BRAND_AWARENESS,b("AdsAPIObjectives").REACH,b("AdsAPIObjectives").LINK_CLICKS,b("AdsAPIObjectives").LEAD_GENERATION]);a=b("adsCreateSelector")([b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE)],function(a){a=b("AdsBulkValueUtils").getUniformValue(a);a=g.has(a);return a},{name:e.id});e.exports=a}),null);
__d("adsCanvasUnifiedBuilderCanHandleLeadFormSelector",["AdsBulkValueUtils","AdsLeadGenUnifiedBuilderGatingDataProvider","AdsUEditorAdgroupBulkSelectors","AdsUnifiedCreativeAPIFields","adsCanvasInlineEditorRichFormFormatSupportedSelector","adsCanvasInlineEditorRichFormObjectiveSupportedSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").pageID);c=b("AdsLeadGenUnifiedBuilderGatingDataProvider").toFluxSelector();d=b("adsCreateSelector")([b("adsCanvasInlineEditorRichFormObjectiveSupportedSelector"),b("adsCanvasInlineEditorRichFormFormatSupportedSelector"),a,c],function(a,c,d,e){a=a&&c;if(!a)return!1;c=b("AdsBulkValueUtils").getUniformValue(d,null)||"";if(c==="")return!1;a=e.get(c);return!a.isDone()||!a.hasValue()?!1:a.getValueEnforcing()},{name:e.id});e.exports=d}),null);
__d("RichMediaEditorActions",["AdsRichMediaEditorBackToMenuDataAction","AdsRichMediaEditorResetUnpublishedCanvasDataAction","AdsRichMediaEditorSetAddComponentDialogShownDataAction","AdsRichMediaEditorSetCanvasPageidDataAction","AdsRichMediaEditorSetCanvasSourceDataAction","AdsRichMediaEditorSetDialogCanvasDataAction","AdsRichMediaEditorSetDialogShownDataAction","AdsRichMediaEditorSetDocumentThemeDataAction","AdsRichMediaEditorSetDocumentUrlDialogShownDataAction","AdsRichMediaEditorSetInstagramValidationFailedDataAction","AdsRichMediaEditorSetPreviewFailedDataAction","AdsRichMediaEditorSetPreviewTypeDataAction","AdsRichMediaEditorSetSelectedCanvasDataAction","AdsRichMediaEditorSetSendingPreviewDataAction","AdsRichMediaEditorSetShowTemplatesDataAction","AdsRichMediaEditorSetSwipeToOpenEnabledDataAction","AdsRichMediaEditorSetUnpublishedCanvasDataAction","AdsRichMediaEditorSetValidationFailedDataAction","AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction","AdsRichMediaEditorToolbarPublishClickDataAction","AdsRichMediaEditorTriggerNuxTourDataAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={setDocumentTheme:function(a,c,d){b("AdsRichMediaEditorSetDocumentThemeDataAction").dispatch({id:a,theme:c,themeType:d},{line:"42",module:"RichMediaEditorActions.js"})},setInstagramValidationFailed:function(a){b("AdsRichMediaEditorSetInstagramValidationFailedDataAction").dispatch({elementValidation:a},{line:"49",module:"RichMediaEditorActions.js"})},setPreviewFailed:function(a){b("AdsRichMediaEditorSetPreviewFailedDataAction").dispatch({previewFailed:a},{line:"54",module:"RichMediaEditorActions.js"})},setPreviewType:function(a){b("AdsRichMediaEditorSetPreviewTypeDataAction").dispatch({previewType:a},{line:"59",module:"RichMediaEditorActions.js"})},setSendingPreview:function(a){b("AdsRichMediaEditorSetSendingPreviewDataAction").dispatch({sendingPreview:a},{line:"64",module:"RichMediaEditorActions.js"})},setValidationFailed:function(a,c,d){c===void 0&&(c=0),d===void 0&&(d=!1),b("AdsRichMediaEditorSetValidationFailedDataAction").dispatch({validation:a,canvasIndex:c,isDocumentLevelError:d},{line:"73",module:"RichMediaEditorActions.js"})},setDialogShown:function(a,c){b("AdsRichMediaEditorSetDialogShownDataAction").dispatch({dialogID:a,dialogShown:c},{line:"80",module:"RichMediaEditorActions.js"})},setDialogCanvas:function(a,c){b("AdsRichMediaEditorSetDialogCanvasDataAction").dispatch({dialogID:a,canvas:c},{line:"86",module:"RichMediaEditorActions.js"})},setDocumentURLDialogShown:function(a){b("AdsRichMediaEditorSetDocumentUrlDialogShownDataAction").dispatch({dialogShown:a},{line:"92",module:"RichMediaEditorActions.js"})},toggleDocumentDebugPaneShown:function(){b("AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction").dispatch({},{line:"97",module:"RichMediaEditorActions.js"})},triggerNuxTour:function(a){b("AdsRichMediaEditorTriggerNuxTourDataAction").dispatch({shown:a},{line:"100",module:"RichMediaEditorActions.js"})},setAddComponentDialogShown:function(a){b("AdsRichMediaEditorSetAddComponentDialogShownDataAction").dispatch({dialogShown:a},{line:"105",module:"RichMediaEditorActions.js"})},setUnpublishedCanvas:function(a){b("AdsRichMediaEditorSetUnpublishedCanvasDataAction").dispatch({unpublishedCanvas:a},{line:"110",module:"RichMediaEditorActions.js"})},resetUnpublishedCanvas:function(){b("AdsRichMediaEditorResetUnpublishedCanvasDataAction").dispatch({},{line:"115",module:"RichMediaEditorActions.js"})},setSelectedCanvas:function(a){b("AdsRichMediaEditorSetSelectedCanvasDataAction").dispatch({selectedCanvas:a},{line:"118",module:"RichMediaEditorActions.js"})},setShowTemplates:function(a){b("AdsRichMediaEditorSetShowTemplatesDataAction").dispatch({showTemplates:a},{line:"123",module:"RichMediaEditorActions.js"})},backToMenu:function(){b("AdsRichMediaEditorBackToMenuDataAction").dispatch({},{line:"128",module:"RichMediaEditorActions.js"})},setCanvasSource:function(a){b("AdsRichMediaEditorSetCanvasSourceDataAction").dispatch({source:a},{line:"131",module:"RichMediaEditorActions.js"})},setCanvasPageId:function(a){b("AdsRichMediaEditorSetCanvasPageidDataAction").dispatch({pageId:a},{line:"136",module:"RichMediaEditorActions.js"})},setSwipeToOpenEnabled:function(a){b("AdsRichMediaEditorSetSwipeToOpenEnabledDataAction").dispatch({value:a},{line:"141",module:"RichMediaEditorActions.js"})},toolbarPublishClick:function(a){b("AdsRichMediaEditorToolbarPublishClickDataAction").dispatch({elementValidation:a},{line:"146",module:"RichMediaEditorActions.js"})}}}),null);
__d("AdsCanvasBuilderDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("AdsCanvasAdvancedRendering",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CREATE:null,CREATE_IX_FORM:null,CREATE_IX_FORM_FIRST_TIME:null,CREATE_IX_FORM_EDIT_FLOW:null,DROPDOWN:null,LINK:null,LINK_WITH_NO_TOOLTIP:null,PREVIEW:null});e.exports=a}),null);
__d("AdsCanvasEditorFunnelLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={FUNNEL_LOGGING_NAME:"WWW_CANVAS_EDITOR_FUNNEL",FUNNEL_LOGGING_EVENT:{ADD_ELEMENT:"add_element",BACK_TO_MENU:"back_to_menu",CREATE_FAILURE:"create_failure",CREATE_POST:"create_post",CREATE_SUCCESS:"create_success",CHANGE_CANVAS_TITLE:"change_canvas_title",CHANGE_ELEMENT_TITLE:"change_element_title",DUPLICATE:"duplicate",DUPLICATE_FAILURE:"duplicate_failure",DUPLICATE_SUCCESS:"duplicate_success",GET_URL:"get_url",GETTING_STARTED_GUIDE:"getting_started_guide",INIT_DUPLICATE:"init_duplicate",INIT_SAVE:"init_save",INSTAGRAM_VALIDATION_ERROR:"instagram_validation_error",LOAD_FAILURE:"load_failure",LOAD_SUCCESS:"load_success",PHOTO_UPLOAD_ERROR:"editor.photo_upload_error",PHOTO_UPLOAD_SUCCESS:"editor.photo_upload_success",EDITOR_PHOTO_UPLOAD_TIMEOUT:"editor.photo_upload_timeout",PHOTO_LIBRARY_UPLOADER_OPEN:"editor.photo_library_uploader_open",PHOTO_LIBRARY_UPLOADER_IMAGE_UPLOAD:"editor.photo_library_uploader_image_upload",PHOTO_LIBRARY_UPLOADER_CANCEL:"editor.photo_library_uploader_cancel",PHOTO_MANUAL_UPLOADER_OPEN:"editor.photo_manual_uploader_open",PHOTO_MANUAL_UPLOADER_IMAGE_UPLOAD:"editor.photo_manual_uploader_image_upload",VIDEO_LIBRARY_UPLOADER_CANCEL:"editor.video_library_uploader_cancel",VIDEO_LIBRARY_UPLOADER_OPEN:"editor.video_library_uploader_open",VIDEO_LIBRARY_UPLOADER_VIDEO_CLICK:"editor.video_library_uploader_video_click",VIDEO_LIBRARY_UPLOADER_VIDEO_IMPORT:"editor.video_library_uploader_video_import",VIDEO_LIBRARY_UPLOADER_VIDEO_SELECT_EXISTING:"editor.video_library_uploader_video_select_existing",VIDEO_LIBRARY_UPLOADER_VIDEO_UPLOAD:"editor.video_library_uploader_video_upload",VIDEO_MANUAL_UPLOADER_OPEN:"editor.video_manual_uploader_open",VIDEO_MANUAL_UPLOADER_VIDEO_UPLOAD:"editor.video_manual_uploader_video_upload",PREVIEW_FAIL:"preview_fail",PREVIEW_SELF:"preview_self",PREVIEW_SHARE:"preview_share",PUBLISH:"publish_canvas",PUBLISH_FAILURE:"publish_failure",REMOVE_ELEMENT:"remove_element",SAVE:"save_canvas",SAVE_INCOMPLETE_ELEMENTS:"save_incomplete_elements",SAVE_FAILURE:"save_failure",SAVE_SUCCESS:"save_success",SWIPE_TO_OPEN_TOGGLED:"swipe_to_open_toggled",SWITCH_ELEMENT:"switch_element",TEMPLATE_PREVIEW_LAYOUT:"template_preview_layout",TEMPLATE_SELECT_LAYOUT:"template_select_layout",TEMPLATE_DOWNLOAD_LAYOUT:"template_download_layout",TOOLBAR_PUBLISH_CLICKED:"toolbar_publish_clicked",UPLOAD_VIDEO:"upload_video",VALIDATION_ERROR:"validation_error",WELCOMESCREEN_BLANKCANVAS:"welcome_screen_blankcanvas",WELCOMESCREEN_EXAMPLES:"welcome_screen_examples",WELCOMESCREEN_TEMPLATE:"welcome_screen_template",WELCOMESCREEN_TIPS:"welcome_screen_tips",WELCOMESCREEN_TOUR:"welcome_screen_tour",WEBPARSING_SET_URL:"webparsing.set_url",WEBPARSING_LOADING_MEDIA:"webparsing.loading_media",WEBPARSING_LOADING_SUCCESS:"webparsing.loading_success",WEBPARSING_LOADING_FAIL:"webparsing.loading_fail",WEBPARSING_TOGGLE_PANNEL:"webparsing.toggle_pannel",WEBPARSING_IMAGE_SELECT:"webparsing.image_select",WEBPARSING_CONTINUE_BUILDER:"webparsing.continue_to_builder"},FUNNEL_LOGGING_TIMEOUT:999999,FUNNEL_LOGGING_TAGS:{EDITOR_EXIT:"editor_exit",FIRST_TIME_USER:"first_time_user",IS_EMPLOYEE:"is_employee",LOAD_EXISTING_DOC_WITH_VALIDATION_ERRORS:"load_existing_doc_with_validation_errors",PAGE_HAS_NEVER_CREATED:"page_has_never_created",PAGE_HAS_NEVER_PUBLISHED:"page_has_never_published",WELCOMESCREEN_SHOWN:"welcome_screen_shown"}}}),null);
__d("AdsCanvasWebdriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_COMPONENT_DIALOG_BUTTON_COMPONENT:"add-component-dialog-button",ADD_COMPONENT_DIALOG_CANCEL:"add-component-dialog-cancel",ADD_COMPONENT_DIALOG_CAROUSEL_COMPONENT:"add-component-dialog-carousel",ADD_COMPONENT_DIALOG_CONFIRM:"add-component-dialog-confirm",ADD_COMPONENT_DIALOG_DD_FB_TIPS_COMPONENT:"add-component-dialog-fb-tips",ADD_COMPONENT_DIALOG_HEADER_COMPONENT:"add-component-dialog-header",ADD_COMPONENT_DIALOG_OFFER_COMPONENT:"add-component-dialog-offer",ADD_COMPONENT_DIALOG_LEADFORM_COMPONENT:"add-component-dialog-leadform",ADD_COMPONENT_DIALOG_PHOTO_COMPONENT:"add-component-dialog-photo",ADD_COMPONENT_DIALOG_PRODUCT_SET_COMPONENT:"add-component-dialog-product-set",ADD_COMPONENT_DIALOG_SCRUBBABLE_GIF_COMPONENT:"add-component-dialog-scrubbable-gif",ADD_COMPONENT_DIALOG_STORE_LOCATOR_COMPONENT:"add-component-dialog-store-locator",ADD_COMPONENT_DIALOG_TEXT_COMPONENT:"add-component-dialog-text",ADD_COMPONENT_DIALOG_VIDEO_COMPONENT:"add-component-dialog-video",ADS_CANVAS_BUILDER:"ads-canvas-builder",ADS_CANVAS_BUILDER_COMPONENT_SELECTOR:"ads-canvas-builder-component-selector",ADS_CANVAS_BUILDER_CANVAS_EDITOR:"ads-canvas-builder-element-editor",ADS_CANVAS_BUILDER_PREVIEW:"ads-canvas-builder-preview",ADS_CANVAS_BUILDER_TOOLBAR:"ads-canvas-builder-toolbar",ADS_CANVAS_BUILDER_WELCOME_PANE:"ads-canvas-builder-welcome-pane",ADS_CANVAS_INLINE_BUILDER:"ads-canvas-inline-builder",ADS_CANVAS_INLINE_BUILDER_ELEMENTS_EDITOR:"ads-canvas-inline-builder-elements-editor",ADS_CANVAS_INLINE_BUILDER_PREVIEW_BUTTON:"ads-canvas-inline-builder-preview-button",ADS_CANVAS_INLINE_BUILDER_FINISH_BUTTON:"ads-canvas-inline-builder-finish-button",ADS_CANVAS_INLINE_BUILDER_ADD_LIFESTYLE_BUTTON:"ads-canvas-builder-add-lifestyle-button",ADS_CANVAS_INLINE_BUILDER_SHOPPING_COVER_MEDIA_DROPDOWN:"ads-canvas-inline-builder-shopping-cover-media-dropdown",ADS_CANVAS_INLINE_BUILDER_SHOPPING_COVER_MEDIA_IMAGE:"ads-canvas-inline-builder-shopping-cover-media-image",ADS_CANVAS_INLINE_BUILDER_ADD_NEW_TAB_BUTTON:"ads-canvas-inline-builder-add-new-tab-button",ADS_CANVAS_INLINE_BUILDER_TABS_SELECT_BAR:"ads-canvas-inline-builder-tabs-select-bar",ADS_CANVAS_INLINE_BUILDER_TABS_TOGGLE:"ads-canvas-inline-builder-tabs-toggle",ADS_CANVAS_TYPEAHEAD:"ads-canvas-typeahead",ADS_CANVAS_TYPEAHEAD_CREATE_BUTTON:"ads-canvas-typeahead-create-button",ADS_CANVAS_TYPEAHEAD_PREVIEW_BUTTON:"ads-canvas-typeahead-preview-button",ADS_CANVAS_TYPEAHEAD_INPUT:"ads-canvas-typeahead-input",ADS_CANVAS_SECTION_CHECKBOX:"ads-canvas-section-checkbox",ADS_CANVAS_SECTION_FINISH_FLOW:"ads-canvas-section-finish-flow",ADS_CANVAS_SECTION_FINISH_FLOW_CANVAS_NAME:"ads-canvas-section-finish-flow-canvas-name",ADS_CANVAS_SECTION_FINISH_FLOW_EDIT_BUTTON:"ads-canvas-section-finish-flow-edit-button",ADS_CANVAS_SECTION_FINISH_FLOW_PREVIEW_BUTTON:"ads-canvas-section-finish-flow-preview-button",ADS_CANVAS_SECTION_FINISH_FLOW_REMOVE_BUTTON:"ads-canvas-section-finish-flow-remove-button",ADS_CANVAS_SECTION_UNSUPPORTED_PLACEMENTS_NOTICE:"ads-canvas-section-unsupported-placements-notice",ADS_CANVAS_SECTION_REMOVE_UNSUPPORTED_PLACEMENTS_LINK:"ads-canvas-section-remove-unsupported-placements-link",ADS_CANVAS_SECTION_REMOVE_UNSUPPORTED_PLACEMENTS_DIALOG:"ads-canvas-section-remove-unsupported-placements-dialog",ADS_CANVAS_SECTION_REMOVE_UNSUPPORTED_PLACEMENTS_DIALOG_CONFIRM:"ads-canvas-section-remove-unsupported-placements-dialog-confirm",ADS_CANVAS_SECTION:"ads-canvas-section",ADS_COLLECTION_CANVAS_SECTION:"ads-collection-canvas-section",ADS_CF_CANVAS_SECTION_INLINE_TABS:"ads-cf-canvas-section-inline-tabs",ADS_CF_CANVAS_SECTION_CREATE_SECTION:"ads-cf-canvas-section-create-section",ADS_CF_CANVAS_SECTION_CREATE_TAB:"ads-cf-canvas-section-create-tab",ADS_CF_CANVAS_SECTION_EXISTING_SECTION:"ads-cf-canvas-section-existing-section",ADS_CF_CANVAS_SECTION_EXISTING_TAB:"ads-cf-canvas-section-existing-tab",ADS_CF_CANVAS_SECTION_CREATE_AR_SECTION:"ads-cf-canvas-section-create-ar-section",ADS_CF_CANVAS_SECTION_CREATE_AR_TAB:"ads-cf-canvas-section-create-ar-tab",ADS_CF_CANVAS_SECTION_TEMPLATE_SELECTOR:"ads-cf-canvas-section-template-selector",ADS_CF_CANVAS_SECTION_TEMPLATE:"ads-cf-canvas-section-template",ADS_CF_CANVAS_SECTION_USE_ADVANCED_BUILDER:"ads-cf-canvas-section-use-advanced-builder",ADS_PE_CANVAS_SECTION_RADIO_LIST:"ads-pe-canvas-section-radio-list",ADS_PE_CANVAS_SECTION_TEMPLATE_OPTION:"ads-pe-canvas-section-template-option",ADS_PE_CANVAS_SECTION_ADVANCED_OPTION:"ads-pe-canvas-section-advanced-option",ADS_PE_CANVAS_SECTION_EXISTING_OPTION:"ads-pe-canvas-section-existing-option",ADS_PE_CANVAS_SECTION_TEMPLATE_SECTION:"ads-pe-canvas-section-template-section",ADS_PE_CANVAS_SECTION_TEMPLATE_DROPDOWN:"ads-pe-canvas-section-template-dropdown",ADS_PE_CANVAS_SECTION_TEMPLATE_ITEM:"ads-pe-canvas-section-template-item",ADS_PE_CANVAS_SECTION_USE_TEMPLATE_BUTTON:"ads-pe-canvas-section-use-template-button",ADS_PE_CANVAS_SECTION_ADVANCED_SECTION:"ads-pe-canvas-section-advanced-section",ADS_PE_CANVAS_SECTION_USE_ADVANCED_BUILDER:"ads-pe-canvas-section-use-advanced-builder",ADS_PE_CANVAS_SECTION_USE_ADVANCED_BUTTON:"ads-pe-canvas-section-use-advanced-button",ADS_PE_CANVAS_SECTION_EXISTING_SECTION:"ads-pe-canvas-section-existing-section",CANVAS_EDITOR_BUTTON_COMPONENT:"canvas-editor-button-component",CANVAS_EDITOR_CAROUSEL_COMPONENT:"canvas-editor-carousel-component",CANVAS_EDITOR_DOCUMENT_NAME_FIELD:"canvas-editor-document-name-field",CANVAS_EDITOR_HEADER_COMPONENT:"canvas-editor-header-component",CANVAS_EDITOR_PHOTO_COMPONENT:"canvas-editor-photo-component",CANVAS_EDITOR_TEXT_COMPONENT:"canvas-editor-text-component",CANVAS_EDITOR_VIDEO_COMPONENT:"canvas-editor-video-component",CANVAS_EDITOR_DD_SVG_COMPONENT:"canvas-editor-dd-svg-component",ADS_CANVAS_INLINE_EDITOR_PRODUCT_TYPEAHEAD:"ads-canvas-inline-editor-product-typeahead",ADS_CANVAS_INLINE_EDITOR_PRODUCT_TYPEAHEAD_INPUT:"ads-canvas-inline-editor-product-typeahead-input",ADS_CANVAS_INLINE_EDITOR_STORE_LOCATOR_COMPONENT:"ads-canvas-inline-editor-store-locator-component",ADS_CANVAS_INLINE_EDITOR_STORE_LOCATOR_TOGGLE:"ads-canvas-inline-editor-store-locator-toggle",ADS_CANVAS_INLINE_EDITOR_VIDEO_CLEAR_BUTTON:"ads-canvas-inline-editor-video-clear-button",CAROUSEL_COMPONENT_ADD_NEW_ITEM_BUTTON:"carousel-component-add-new-item-button",CAROUSEL_COMPONENT_ITEM:"carousel-component-item",CAROUSEL_COMPONENT_ITEM_SELECT_BAR:"carousel-component-item-select-bar",DESTINATION_FIELD:"destination-field",DESTINATION_INPUT_FIELD:"destination-input-field",DESTINATION_TYPE_FIELD:"destination-type-field",PAGE_COMPOSER_SHARE_CANVAS_LINK:"page-composer-share-canvas-link",PAGE_COMPOSER_UPLOAD_PHOTO_VIDEO:"page-composer-upload-photo-video",PAGE_PUBLISH_TOOLS_CREATE_BUTTON:"ppt-create-button",PAGE_PUBLISH_TOOLS_VIEW_BUTTON:"ppt-view-button",PHOTO_UPLOADER_PREVIEW:"photo-uploader-preview",PHOTO_UPLOADER_PROGRESS_BAR:"photo-uploader-progress-bar",PHOTO_UPLOADER_UPLOAD_BUTTON:"photo-uploader-upload-button",ADS_CANVAS_MANUAL_PRODUCT_TYPEAHEAD:"manual-product-typeahead",ADS_CANVAS_MANUAL_PRODUCT_TYPEAHEAD_INPUT:"manual-product-typeahead-input",ADS_CANVAS_MANUAL_PRODUCT_TYPEAHEAD_LOADING_SPINNER:"manual-produt-typeahead-loading-spinner",ADS_CANVAS_MANUAL_PRODUCT_DIALOG:"manual-product-dialog",ADS_CANVAS_MANUAL_PRODUCT_DIALOG_HEADER_FIELD:"manual-product-dialog-header-field",ADS_CANVAS_MANUAL_PRODUCT_DIALOG_PRICE_FIELD:"manual-product-dialog-price-field",ADS_CANVAS_MANUAL_PRODUCT_DIALOG_DESCRIPTION_FIELD:"manual-product-dialog-description-field",ADS_CANVAS_MANUAL_PRODUCT_DIALOG_DESTINATION_URL_FIELD:"manual-product-dialog-destination-url-field",ADS_CANVAS_MANUAL_PRODUCT_DIALOG_SAVE_BUTTON:"manual-product-dialog-save-button",ADS_CANVAS_TYPE_SWITCH:"product-catalog-type-switch",ADS_CANVAS_TYPE_SWITCH_PRODUCT_SET_ITEM:"type-switch-product-set-item",ADS_CANVAS_TYPE_SWITCH_PRODUCT_LIST_ITEM:"type-switch-product-list-item",PREVIEW_BUTTON_COMPONENT:"preview-button-component",PREVIEW_CAROUSEL_COMPONENT:"preview-carousel-component",PREVIEW_CAROUSEL_IMAGE:"preview-carousel-image",PREVIEW_HEADER_IMAGE:"preview-header-image",PREVIEW_HEADER_COMPONENT:"preview-header-component",PREVIEW_PHOTO_IMAGE:"preview-photo-image",PREVIEW_PHOTO_COMPONENT:"preview-photo-component",PREVIEW_TEXT_COMPONENT:"preview-text-component",PREVIEW_VIDEO_THUMBNAIL:"preview-video-thumbnail",PREVIEW_VIDEO_COMPONENT:"preview-video-component",PUBLISH_DIALOG:"publish-dialog",PUBLISH_DIALOG_CANCEL:"publish-dialog-cancel",PUBLISH_DIALOG_CONFIRM:"publish-dialog-confirm",TOOLBAR_ADD_COMPONENT_BUTTON:"toolbar-add-component-button",TOOLBAR_LOADING_INDICATOR:"toolbar-loading-indicator",TOOLBAR_PUBLISH_BUTTON:"toolbar-publish-button",TOOLBAR_SAVE_BUTTON:"toolbar-save-button",VIDEO_COMPONENT_THUMBNAIL:"video-component-thumbnail",VIDEO_COMPONENT_PROGRESS_BAR:"video-component-progress-bar",VIDEO_COMPONENT_UPLOAD_BUTTON:"video-component-upload-button",WELCOME_PANE_OPEN_BLANK_CANVAS_BUTTON:"welcome-pane-open-blank-canvas-button",TEXT_EDITOR:"text-component-editor",CHECKBOX:"checkbox",DESKTOP_PREVIEW_LINK:"desktop-preview-link"})}),null);
__d("AdsInterfacesLeadGenDisplayContent",["ix","fbt","React","SUIGlyphIcon.react","asset","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("378289"),srcDisabled:g("407431")});c=b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("382316")});d=h._("New form");f=h._("Create Form");g=h._("Compare form options.");var i=h._("See what's supported for each set of features"),j=h._("Based on the goal of your lead generation campaign, you can create or reuse different kinds of forms. With more question options, you can add different types of custom questions. With more media options, you can use multiple photos and videos to give people more context about your brand, product or service."),k=b("immutable").List([{question:h._("Loads on mobile and desktop"),media:h._("Loads on mobile only")},{question:h._("Single image or video"),media:h._("Multiple images and videos")},{question:h._("Single call to action"),media:h._("Multiple calls to action")},{question:h._("Advanced questions such as conditional questions or appointment scheduling."),media:h._("Basic questions")},{question:h._("Can be reused in the Lead Generation objective"),media:h._("Can be reused across different objectives")},{question:h._("Access forms and leads in the forms library in Page publishing tools"),media:h._("Access forms and leads in the Instant Experience (Canvas) library in Page publishing tools")}]),l=[{image:"/images/ads/lead_gen/comparison_dialog/more_question_options.png",label:h._("Forms with more question options")},{image:"/images/ads/lead_gen/comparison_dialog/more_media_options.png",label:h._("Forms with more media options")}];b=h._("Choose a set of features for your form. Use {=more question options} to include custom questions such as appointment scheduling. With {=more media options}, you can add more photos and videos.",[h._param("=more question options",b("React").createElement("b",null,h._("more question options"))),h._param("=more media options",b("React").createElement("b",null,h._("more media options")))]);h=h._("Instant form");e.exports={NEW_FORM_LABEL:f,NEW_IX_FORM_ICON:a,NEW_IX_FORM_ICON_HIGHLIGHT:c,NEW_IX_FORM_LABEL:d,IX_COMPARE_MODAL_HELP_LABEL:g,IX_COMPARE_MODAL_TITLE:i,IX_COMPARE_MODAL_DESCRIPTION:j,IX_COMPARE_TABLE_CONTENT:k,IX_COMPARE_TABLE_HEADER:l,IX_SECTION_DESCRIPTION:b,SECTION_TITLE:h}}),null);
__d("AdsUEditorAdgroupCanvasCreateIXFormButton.react",["AdsInterfacesLeadGenDisplayContent","AdsLeadGenWebdriverIDs","FDSButton.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("AdsLeadGenWebdriverIDs").ADS_LEADGEN_CREATE_NEW_IX_FORM_BUTTON,icon:a.shouldHighlight===!0?b("AdsInterfacesLeadGenDisplayContent").NEW_IX_FORM_ICON_HIGHLIGHT:b("AdsInterfacesLeadGenDisplayContent").NEW_IX_FORM_ICON,label:b("AdsInterfacesLeadGenDisplayContent").NEW_IX_FORM_LABEL,size:a.shouldHighlight===!0?"large":"medium",use:a.shouldHighlight===!0?"primary":"default",onClick:a.onOpenAdvancedBuilder})}e.exports=a}),null);
__d("AdsUEditorAdgroupCanvasInlineAdvanceBuilderCreateButton.react",["fbt","AdsCanvasWebdriverIDs","FDSButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("AdsCanvasWebdriverIDs").ADS_PE_CANVAS_SECTION_USE_ADVANCED_BUTTON,label:g._("Create"),use:"primary",onClick:a.onOpenAdvancedBuilder})}e.exports=a}),null);
__d("AdsUEditorAdgroupCanvasInlineAdvanceBuilderLink.react",["ix","cx","AdsCanvasWebdriverIDs","AdsFBIconDownsized.react","AdsIXInterfacesDisplayConstants","FDSSimplePopover.react","React","SUILink.react","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsIXInterfacesDisplayConstants").IX_CUSTOM_CREATION;function a(a){var c=a.hasTooltip?i.AS_LINK.header:i.AS_NO_TEMPLATES.header;return b("React").createElement(b("SUILink.react"),{className:"_5_uy","data-testid":b("AdsCanvasWebdriverIDs").ADS_CF_CANVAS_SECTION_USE_ADVANCED_BUILDER,showUnderline:"never",onClick:a.onOpenAdvancedBuilder},b("React").createElement(b("AdsFBIconDownsized.react"),{className:"_3-8_",src:g("411395")}),b("React").createElement(b("SUIText.react"),{color:"interactive",size:"meta1",weight:"bold"},b("React").createElement("span",{className:"_3mka"},c)),a.hasTooltip?b("React").createElement(b("FDSSimplePopover.react"),{content:i.TOOLTIP,contentWidthUseSparingly:288}):null)}e.exports=a}),null);
__d("AdsUEditorAdgroupCanvasInlineAdvanceBuilderPreviewButton.react",["ix","fbt","AdsCanvasWebdriverIDs","AdsFBIconDownsized.react","React","SUIButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement(b("SUIButton.react"),{"data-testid":b("AdsCanvasWebdriverIDs").ADS_CANVAS_SECTION_FINISH_FLOW_PREVIEW_BUTTON,icon:b("React").createElement(b("AdsFBIconDownsized.react"),{src:g("411338")}),label:h._("Preview"),use:"default",onClick:a.onOpenAdvancedBuilder})}e.exports=a}),null);
__d("AdsUEditorAdgroupEditingFlowCreateIXFormButton.react",["AdsInterfacesLeadGenDisplayContent","AdsLeadGenWebdriverIDs","FDSButton.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("AdsLeadGenWebdriverIDs").ADS_LEADGEN_CREATE_NEW_IX_FORM_BUTTON,label:b("AdsInterfacesLeadGenDisplayContent").NEW_FORM_LABEL,use:"primary",onClick:a.onOpenAdvancedBuilder})}e.exports=a}),null);
__d("AdsCanvasButtons.react",["ix","cx","fbt","AdsCanvasAdvancedRendering","AdsCanvasEditorFunnelLoggingConstants","AdsCanvasWebdriverIDs","AdsUEditorAdgroupCanvasCreateIXFormButton.react","AdsUEditorAdgroupCanvasInlineAdvanceBuilderCreateButton.react","AdsUEditorAdgroupCanvasInlineAdvanceBuilderLink.react","AdsUEditorAdgroupCanvasInlineAdvanceBuilderPreviewButton.react","AdsUEditorAdgroupEditingFlowCreateIXFormButton.react","FunnelLogger","Image.react","React","XUIButton.react","XUIButtonGroup.react","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a.stopPropagation(),d.props.onClickCreate&&d.props.onClickCreate(),d.props.onClick("newCanvasDialog"),b("FunnelLogger").addFunnelTag(j,d.props.source)},d.$2=function(a){a.stopPropagation(),d.props.onClickPreview&&d.props.onClickPreview(),d.props.canvas&&(d.props.onClick(d.props.canvas.id),b("FunnelLogger").addFunnelTag(j,d.props.source))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();switch(this.props.canvasRenderingMode){case b("AdsCanvasAdvancedRendering").LINK:case b("AdsCanvasAdvancedRendering").LINK_WITH_NO_TOOLTIP:return b("React").createElement(b("AdsUEditorAdgroupCanvasInlineAdvanceBuilderLink.react"),{hasTooltip:this.props.canvasRenderingMode===b("AdsCanvasAdvancedRendering").LINK,onOpenAdvancedBuilder:this.$1});case b("AdsCanvasAdvancedRendering").CREATE:return b("React").createElement(b("AdsUEditorAdgroupCanvasInlineAdvanceBuilderCreateButton.react"),{onOpenAdvancedBuilder:this.$1});case b("AdsCanvasAdvancedRendering").CREATE_IX_FORM:return b("React").createElement(b("AdsUEditorAdgroupCanvasCreateIXFormButton.react"),{onOpenAdvancedBuilder:this.$1});case b("AdsCanvasAdvancedRendering").CREATE_IX_FORM_FIRST_TIME:return b("React").createElement(b("AdsUEditorAdgroupCanvasCreateIXFormButton.react"),{shouldHighlight:!0,onOpenAdvancedBuilder:this.$1});case b("AdsCanvasAdvancedRendering").CREATE_IX_FORM_EDIT_FLOW:return b("React").createElement(b("AdsUEditorAdgroupEditingFlowCreateIXFormButton.react"),{onOpenAdvancedBuilder:this.$1});case b("AdsCanvasAdvancedRendering").DROPDOWN:return b("React").createElement("div",null);case b("AdsCanvasAdvancedRendering").PREVIEW:return b("React").createElement(b("AdsUEditorAdgroupCanvasInlineAdvanceBuilderPreviewButton.react"),{onOpenAdvancedBuilder:this.$2});default:break}return b("React").createElement(b("XUIButtonGroup.react"),{className:"_44jh"},this.$3(),this.$4())};d.$4=function(){return b("React").createElement(b("XUIButton.react"),{className:"_44jg","data-testid":b("AdsCanvasWebdriverIDs").ADS_CANVAS_TYPEAHEAD_CREATE_BUTTON,disabled:this.props.disabled,image:b("React").createElement(b("Image.react"),{src:g("378289")}),label:i._("Plus"),labelIsHidden:!0,onClick:this.$1})};d.$3=function(){var a=this.props.canvas;return!a?null:b("React").createElement(b("XUIButton.react"),{className:"_44jg","data-testid":b("AdsCanvasWebdriverIDs").ADS_CANVAS_TYPEAHEAD_PREVIEW_BUTTON,disabled:this.props.disabled,image:b("React").createElement(b("Image.react"),{src:g("122868")}),label:i._("Show"),labelIsHidden:!0,onClick:this.$2})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasCloseUnsavedCanvasDialog.react",["cx","fbt","LayerFadeOnHide","LayerHideOnEscape","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnHide:b("LayerFadeOnHide")},isStrictlyControlled:!0,shown:a.showDialog,width:450,onHide:a.onCancel},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!0},h._("Unsaved changes")),b("React").createElement(b("XUIDialogBody.react"),null,h._("Do you want to discard unsaved changes?")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:h._("Cancel"),onClick:a.onCancel}),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",className:"_4jy1",label:h._("Confirm"),onClick:a.onConfirm})))}e.exports=a}),null);
__d("AdsCanvasCloseUnsavedCanvasDialogContainer.react",["AdsCanvasCloseUnsavedCanvasDialog.react","AdsCanvasResetCanvasDataAction","AdsCanvasShowCloseUnsavedCanvasDialogDataAction","AdsFluxContainer","React","adsCanvasCloseUnsavedCanvasDialogSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("AdsCanvasShowCloseUnsavedCanvasDialogDataAction").dispatch({showDialog:!1},{line:"66",module:"AdsCanvasCloseUnsavedCanvasDialogContainer.react.js"}),d.props.onCancel()},d.$2=function(){if(!d.state.isReady)return;b("AdsCanvasResetCanvasDataAction").dispatch({canvasID:d.state.canvasID,elementIDs:d.state.elementIDs},{line:"76",module:"AdsCanvasCloseUnsavedCanvasDialogContainer.react.js"});d.props.onConfirm()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return b("adsCanvasCloseUnsavedCanvasDialogSelector").getStores()};c.calculateState=function(){return b("adsCanvasCloseUnsavedCanvasDialogSelector")()};var d=c.prototype;d.render=function(){return!this.state.isReady?null:b("React").createElement(b("AdsCanvasCloseUnsavedCanvasDialog.react"),{showDialog:this.state.showDialog,onCancel:this.$1,onConfirm:this.$2})};return c}(b("React").Component);e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsCanvasEditorFunnelLogging",["AdsCanvasEditorFunnelLoggingConstants","CurrentUser","FunnelLogger","RichMediaEditorDataDispatcher","RichMediaEditorStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1;a={startFunnel:function(){if(g)return;g=!0;b("FunnelLogger").startFunnel(b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME);b("FunnelLogger").setFunnelTimeout(b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_TIMEOUT);b("CurrentUser").isEmployee()&&b("FunnelLogger").addFunnelTag(b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_TAGS.IS_EMPLOYEE);b("RichMediaEditorDataDispatcher").getCanvasPageData(b("RichMediaEditorStore").getCanvasPageId(),null,b("FunnelLogger"))},logGKExposures:function(a){a&&a.map(function(a){b("FunnelLogger").addFunnelTag(b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,a)})},addFunnelTag:function(a){b("FunnelLogger").addFunnelTag(b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,a)},endFunnel:function(){if(!g)return;g=!1;b("FunnelLogger").addFunnelTag(b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME,b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_TAGS.EDITOR_EXIT);b("FunnelLogger").endFunnel(b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME);b("RichMediaEditorStore").setIsNotNewUser()},parseAndMergeFunnelTags:function(){var a=new Set(),c=b("FunnelLogger").getFunnelInstance(b("AdsCanvasEditorFunnelLoggingConstants").FUNNEL_LOGGING_NAME);c=c?c.getTags():null;if(!c)return Array.from(a);for(var d in c)a.add(d);return Array.from(a)}};e.exports=a}),null);
__d("AdsCanvasLandingPageReplacementCheckboxStore",["AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataActionFlux","AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataActionFlux","AdsDataAtom","AdsEmptyValue","AdsMixedValue","AdsUniformValue","FluxStore","SimpleNUXMessage","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$AdsCanvasLandingPageReplacementCheckboxStore1=new Map();b.$AdsCanvasLandingPageReplacementCheckboxStore2=!1;return b}var d=c.prototype;d.__getActionTypes=function(){return g?[b("AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataActionFlux").actionType,b("AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataActionFlux").actionType:for(var c=0;c<a.adgroupIDs.length;c++)this.$AdsCanvasLandingPageReplacementCheckboxStore1.set(a.adgroupIDs[c],a.checkStatus);this.__emitChange();break;case b("AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataActionFlux").actionType:c=b("SimpleNUXMessage").hasUserSeenMessage("113392532512232");if(c&&a.showNux)return;this.$AdsCanvasLandingPageReplacementCheckboxStore2=a.showNux;this.__emitChange();break}};d.$AdsCanvasLandingPageReplacementCheckboxStore3=function(a){a=this.$AdsCanvasLandingPageReplacementCheckboxStore1.get(a);return a===void 0?!1:a};d.getShowFinishingNux=function(){return this.$AdsCanvasLandingPageReplacementCheckboxStore2};d.getCheckValue=function(a){if(a.length===0)return b("AdsEmptyValue").create([]);var c=!1,d=[this.$AdsCanvasLandingPageReplacementCheckboxStore3(a[0])];for(var e=0;e<a.length-1;e++)this.$AdsCanvasLandingPageReplacementCheckboxStore3(a[e])!==this.$AdsCanvasLandingPageReplacementCheckboxStore3(a[e+1])&&(c=!0),d.push(this.$AdsCanvasLandingPageReplacementCheckboxStore3(a[e+1]));return c?b("AdsMixedValue").create(d):b("AdsUniformValue").create(d)};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsLeadGenFormEditorFunnelLoggingStore",["AdsApiLeadGenThankYouPageButtonType","AdsCanvasDocumentAddNewElementsDataActionFlux","AdsCanvasElementDeleteDataActionFlux","AdsCanvasInlineToggleLeadFormElementDataActionFlux","AdsDataAtom","AdsLeadGenFormCreationSource","AdsLeadGenFormEditorApiFormCreatedActionFlux","AdsLeadGenFormEditorApiFormSaveActionFlux","AdsLeadGenFormEditorApiFormSavedActionFlux","AdsLeadGenFormEditorConfigurationSetBlockDisplayForNonTargetedViewActionFlux","AdsLeadGenFormEditorConfigurationSetLocaleActionFlux","AdsLeadGenFormEditorContextCardCoverImageUploadErrorActionFlux","AdsLeadGenFormEditorContextCardSetContentActionFlux","AdsLeadGenFormEditorContextCardSetCoverPhotoActionFlux","AdsLeadGenFormEditorContextCardSetIsCoverPhotoSelectedActionFlux","AdsLeadGenFormEditorContextCardSetIsSelectedActionFlux","AdsLeadGenFormEditorContextCardSetStyleActionFlux","AdsLeadGenFormEditorContextCardSetTitleActionFlux","AdsLeadGenFormEditorContextCardStartUploadingCoverImageActionFlux","AdsLeadGenFormEditorCustomDisclaimerAddConsentActionFlux","AdsLeadGenFormEditorCustomDisclaimerRemoveConsentActionFlux","AdsLeadGenFormEditorCustomDisclaimerSetConsentFieldIdActionFlux","AdsLeadGenFormEditorCustomDisclaimerSetIsSelectedActionFlux","AdsLeadGenFormEditorCustomDisclaimerSetTitleActionFlux","AdsLeadGenFormEditorDraftFormSaveFailedActionFlux","AdsLeadGenFormEditorFormDuplicateFailedActionFlux","AdsLeadGenFormEditorFormFinishActionFlux","AdsLeadGenFormEditorFormPublishFailedActionFlux","AdsLeadGenFormEditorFunnelLogger","AdsLeadGenFormEditorFunnelLoggerConstants","AdsLeadGenFormEditorPrivacyPolicySetLinkTextActionFlux","AdsLeadGenFormEditorPrivacyPolicySetUrlActionFlux","AdsLeadGenFormEditorQuestionsAddQuestionActionFlux","AdsLeadGenFormEditorQuestionsConditionalAnswerSetUploadErrorActionFlux","AdsLeadGenFormEditorQuestionsConditionalAnswerSetUploadStartActionFlux","AdsLeadGenFormEditorQuestionsConditionalAnswerSetUploadSuccessActionFlux","AdsLeadGenFormEditorQuestionsDeleteQuestionActionFlux","AdsLeadGenFormEditorQuestionsSetAnswerFieldIdActionFlux","AdsLeadGenFormEditorQuestionsSetFieldIdActionFlux","AdsLeadGenFormEditorQuestionsSetUserInfoActionFlux","AdsLeadGenFormEditorQuestionsUpdateQuestionPageHeadlineActionFlux","AdsLeadGenFormEditorSetEditorExpandedSectionActionFlux","AdsLeadGenFormEditorSetEditorTabActionFlux","AdsLeadGenFormEditorSetFormNameActionFlux","AdsLeadGenFormEditorSetMoreUserInfoQuestionOptionsShownActionFlux","AdsLeadGenFormEditorSetQualityBundleActionFlux","AdsLeadGenFormEditorThankYouPageSetButtonTypeActionFlux","AdsLeadGenFormEditorUtils","AdsLeadGenFormEditorViewStore","AdsLeadGenFormPreviewSetPreviewTypeActionFlux","AdsPageSignLeadgenTosDataActionFlux","AdsPageSignLeadgenTosErrorDataActionFlux","AdsPageSignLeadgenTosSuccessDataActionFlux","FluxStore","RichMediaElementTypeConstant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes,h=b("AdsLeadGenFormEditorFunnelLoggerConstants").FUNNEL_LOGGING_EVENTS,i=b("AdsLeadGenFormEditorFunnelLoggerConstants").FUNNEL_LOGGING_EVENT_PREFIXES,j=b("AdsLeadGenFormEditorFunnelLoggerConstants").FUNNEL_LOGGING_TAG_PREFIXES,k={configuration:h.EXPAND_CONFIGURATION_SECTION,contextCard:h.EXPAND_CONTEXT_SECTION,fieldIDs:h.EXPAND_FIELD_IDS_SECTION,formSetupOptions:h.EXPAND_FORM_TYPE_SECTION,questions:h.EXPAND_QUESTIONS_SECTION,privacyPolicy:h.EXPAND_PRIVACY_POLICY_SECTION,reviewScreen:h.EXPAND_REVIEW_SCREEN_SECTION,thankYouPage:h.EXPAND_THANK_YOU_SECTION};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsLeadGenFormEditorApiFormCreatedActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.FORM_PUBLISHED);break;case b("AdsLeadGenFormEditorApiFormSaveActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.CLICK_SAVE_DRAFT);break;case b("AdsLeadGenFormEditorApiFormSavedActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.DRAFT_SAVED);break;case b("AdsLeadGenFormEditorConfigurationSetBlockDisplayForNonTargetedViewActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(a.blockDisplayForNonTargetedViewer?h.SELECT_SHARING_RESTRICTED:h.SELECT_SHARING_OPEN);break;case b("AdsLeadGenFormEditorConfigurationSetLocaleActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionWithTag(h.SET_FORM_LOCALE,a.locale);break;case b("AdsLeadGenFormEditorContextCardCoverImageUploadErrorActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.UPLOAD_CUSTOM_COVER_IMAGE_ERROR);break;case b("AdsLeadGenFormEditorContextCardSetCoverPhotoActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.UPLOAD_CUSTOM_COVER_IMAGE_SUCCESS);break;case b("AdsLeadGenFormEditorContextCardSetIsCoverPhotoSelectedActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(a.isCoverPhotoSelected?h.SELECT_CUSTOM_COVER_IMAGE:h.SELECT_COVER_FROM_AD_CREATIVE);break;case b("AdsLeadGenFormEditorContextCardSetIsSelectedActionFlux").actionType:a.isRichForm||b("AdsLeadGenFormEditorFunnelLogger").appendAction(a.isSelected?h.ENABLE_CONTEXT_CARD:h.DISABLE_CONTEXT_CARD);break;case b("AdsLeadGenFormEditorContextCardSetContentActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.EDIT_CONTEXT_CONTENT_INPUT);break;case b("AdsLeadGenFormEditorContextCardSetTitleActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.EDIT_CONTEXT_HEADLINE_INPUT);break;case b("AdsLeadGenFormEditorContextCardSetStyleActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(a.style==="PARAGRAPH_STYLE"?h.SET_CONTEXT_CONTENT_STYLE_PARAGRAPH:h.SET_CONTEXT_CONTENT_STYLE_BULLET);break;case b("AdsLeadGenFormEditorContextCardStartUploadingCoverImageActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.START_CUSTOM_COVER_IMAGE_UPLOAD);break;case b("AdsLeadGenFormEditorCustomDisclaimerAddConsentActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.ADD_CONSENT);break;case b("AdsLeadGenFormEditorCustomDisclaimerRemoveConsentActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.REMOVE_CONSENT);break;case b("AdsLeadGenFormEditorCustomDisclaimerSetConsentFieldIdActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.EDIT_CONSENT_KEY_INPUT);break;case b("AdsLeadGenFormEditorCustomDisclaimerSetIsSelectedActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(a.isSelected?h.ADD_CUSTOM_DISCLAIMER:h.REMOVE_CUSTOM_DISCLAIMER);break;case b("AdsLeadGenFormEditorCustomDisclaimerSetTitleActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.EDIT_CUSTOM_DISCLAIMER_TITLE_INPUT);break;case b("AdsLeadGenFormEditorDraftFormSaveFailedActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionWithTag(h.SAVE_DRAFT_ERROR,j.ERROR_CODE+b("AdsLeadGenFormEditorUtils").getErrorSpecFromError(a.error).error_code);break;case b("AdsLeadGenFormEditorFormDuplicateFailedActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionWithTag(h.DUPLICATE_FORM_ERROR,j.ERROR_CODE+a.error.error_code);break;case b("AdsLeadGenFormEditorFormFinishActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.CLICK_PUBLISH_FORM);break;case b("AdsLeadGenFormEditorFormPublishFailedActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionWithTag(h.PUBLISH_FORM_ERROR,j.ERROR_CODE+b("AdsLeadGenFormEditorUtils").getErrorSpecFromError(a.error).error_code);break;case b("AdsLeadGenFormEditorPrivacyPolicySetLinkTextActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.EDIT_PRIVACY_POLICY_LINK_LABEL_INPUT);break;case b("AdsLeadGenFormEditorPrivacyPolicySetUrlActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.EDIT_PRIVACY_POLICY_LINK_URL_INPUT);break;case b("AdsLeadGenFormEditorQuestionsAddQuestionActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(i.ADD_CUSTOM_QUESTION+a.questionTypeKey);break;case b("AdsLeadGenFormEditorQuestionsSetAnswerFieldIdActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.EDIT_ANSWER_KEY_INPUT);break;case b("AdsLeadGenFormEditorQuestionsSetFieldIdActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.EDIT_QUESTION_KEY_INPUT);break;case b("AdsLeadGenFormEditorQuestionsConditionalAnswerSetUploadErrorActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionWithTag(h.UPLOAD_CONDITIONAL_ANSWER_SET_ERROR,j.ERROR_CODE+a.error.error_code);break;case b("AdsLeadGenFormEditorQuestionsConditionalAnswerSetUploadStartActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.START_CONDITIONAL_ANSWER_SET_UPLOAD);break;case b("AdsLeadGenFormEditorQuestionsConditionalAnswerSetUploadSuccessActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.UPLOAD_CONDITIONAL_ANSWER_SET_SUCCESS);break;case b("AdsLeadGenFormEditorQuestionsDeleteQuestionActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(i.REMOVE_CUSTOM_QUESTION+a.question.get("questionTypeKey"));break;case b("AdsLeadGenFormEditorQuestionsSetUserInfoActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionWithTag(a.selected?h.SELECT_STANDARD_USER_INFO_QUESTION:h.REMOVE_STANDARD_USER_INFO_QUESTION,a.questionName);break;case b("AdsLeadGenFormEditorQuestionsUpdateQuestionPageHeadlineActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.EDIT_QUESTION_HEADLINE_INPUT);break;case b("AdsLeadGenFormEditorSetEditorExpandedSectionActionFlux").actionType:a.expandedSection!=null&&b("AdsLeadGenFormEditorFunnelLogger").appendAction(k[a.expandedSection]);break;case b("AdsLeadGenFormEditorSetEditorTabActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(a.selectedTab==="contentTab"?h.SELECT_CONTENT_TAB:h.SELECT_SETTINGS_TAB);break;case b("AdsLeadGenFormEditorSetFormNameActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.EDIT_FORM_NAME_INPUT);break;case b("AdsLeadGenFormEditorSetMoreUserInfoQuestionOptionsShownActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(a.moreOptionsShown?h.CLICK_SHOW_MORE_STANDARD_USER_INFO_QUESTIONS:h.CLICK_HIDE_STANDARD_USER_INFO_QUESTIONS);break;case b("AdsLeadGenFormEditorSetQualityBundleActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(a.isOptimizedForQuality?h.ENABLE_FORM_TYPE_HIGHER_INTENT:h.ENABLE_FORM_TYPE_MORE_VOLUME);break;case b("AdsLeadGenFormEditorThankYouPageSetButtonTypeActionFlux").actionType:switch(a.value){case b("AdsApiLeadGenThankYouPageButtonType").VIEW_WEBSITE:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.SELECT_THANK_YOU_PAGE_VIEW_WEBSITE);break;case b("AdsApiLeadGenThankYouPageButtonType").DOWNLOAD:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.SELECT_THANK_YOU_PAGE_DOWNLOAD);break;case b("AdsApiLeadGenThankYouPageButtonType").CALL_BUSINESS:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.SELECT_THANK_YOU_PAGE_CALL_BUSINESS);break;case b("AdsApiLeadGenThankYouPageButtonType").MESSAGE_BUSINESS:b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.SELECT_THANK_YOU_PAGE_MESSAGE_BUSINESS);break}break;case b("AdsLeadGenFormPreviewSetPreviewTypeActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendAction(i.SELECT_PREVIEW_TAB+a.previewType);break;case b("AdsPageSignLeadgenTosDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("AdsLeadGenFormEditorViewStore").getDispatchToken()]);b("AdsLeadGenFormEditorViewStore").getCreationSource()===b("AdsLeadGenFormCreationSource").CANVAS_EDITOR&&b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.NPC_CLICK_ACCEPT_TERMS_OF_SERVICE);break;case b("AdsPageSignLeadgenTosErrorDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("AdsLeadGenFormEditorViewStore").getDispatchToken()]);b("AdsLeadGenFormEditorViewStore").getCreationSource()===b("AdsLeadGenFormCreationSource").CANVAS_EDITOR&&b("AdsLeadGenFormEditorFunnelLogger").appendActionWithTag(h.NPC_ACCEPT_TERMS_OF_SERVICE_ERROR,j.ERROR_CODE+b("AdsLeadGenFormEditorUtils").getErrorSpecFromError(a.error).error_code);break;case b("AdsPageSignLeadgenTosSuccessDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("AdsLeadGenFormEditorViewStore").getDispatchToken()]);b("AdsLeadGenFormEditorViewStore").getCreationSource()===b("AdsLeadGenFormCreationSource").CANVAS_EDITOR&&b("AdsLeadGenFormEditorFunnelLogger").appendAction(h.NPC_TERMS_OF_SERVICE_ACCEPTED);break;case b("AdsCanvasInlineToggleLeadFormElementDataActionFlux").actionType:b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(a.addLeadForm?h.CANVAS_LEAD_FORM_TOGGLE_ENABLED:h.CANVAS_LEAD_FORM_TOGGLE_DISABLED);break;case b("AdsCanvasDocumentAddNewElementsDataActionFlux").actionType:var c=a.elements,d=!1;c.map(function(a){a.elementType===g.LEAD_GEN_FORM&&(d=!0)});d&&b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.CANVAS_UNIFIED_BUILDER_FORM_ADDED);break;case b("AdsCanvasElementDeleteDataActionFlux").actionType:c=a.elementType;c===g.LEAD_GEN_FORM&&b("AdsLeadGenFormEditorFunnelLogger").appendActionIfNew(h.CANVAS_UNIFIED_BUILDER_FORM_REMOVED);break}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsUnpublishedCanvasCloseConfirmDialog.react",["cx","fbt","LayerFadeOnHide","LayerHideOnEscape","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onCloseReset&&c.props.onCloseReset(),c.props.onConfirm()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnHide:b("LayerFadeOnHide")},shown:!0,width:450},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!0},h._("Unpublished Instant Experience")),b("React").createElement(b("XUIDialogBody.react"),null,h._("You won't be able to use this Instant Experience in an ad until you've published it. You can still access a saved draft in Pages -> Publishing tools -> Instant Experience. Do you want to close this draft without publishing it?")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:h._("Cancel"),onClick:this.props.onCancel}),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",className:"_4jy1",label:h._("Confirm"),onClick:this.$1})))};return c}(b("React").Component);c.propTypes={onCancel:a.func.isRequired,onCloseReset:a.func,onConfirm:a.func.isRequired};e.exports=c}),null);
__d("RichMediaLoggingStoreUtils",["AdsAccountStore","AdsCanvasDefaultNewDocumentID","CanvasCreationWaterfallTypedLogger","RichMediaEditorDataDispatcher","RichMediaEditorStore","adsCanvasCurrentDocumentSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logRichMediaCreationEventWithLogger:function(a,c){var d=b("adsCanvasCurrentDocumentSelector")();if(!d.hasValue())return;d=d.getValueEnforcing();c=c||d.id;c=c===b("AdsCanvasDefaultNewDocumentID")?null:c;a.setAdAccountID(parseInt(b("AdsAccountStore").getSelectedAccountID(),10)).setCanvasID(c).setCanvasName(d.title).setIsNewUser(b("RichMediaEditorStore").isNewUser()).setPageID(b("RichMediaEditorStore").getCanvasPageId()).setPropertyList(d.propertyList).setSource(b("RichMediaEditorStore").getCanvasSource());b("RichMediaEditorDataDispatcher").getCanvasPageData(b("RichMediaEditorStore").getCanvasPageId(),a)},logCanvasAYMTEventToWaterFall:function(a,c,d,e,f,g,h){new(b("CanvasCreationWaterfallTypedLogger"))().setAdAccountID(a).setEventName("aymt_event").setEventDetails(g||"").setAymtEventName(c).setAdObjectiveName(h||"").setAymtChannel(d).setAymtTip(f).setAymtQe(e).log()}};e.exports=a}),null);
__d("AdsCanvasButtonsContainer.react",["AdsAccountStore","AdsCanvasButtons.react","AdsCanvasCloseUnsavedCanvasDialogContainer.react","AdsCanvasComposerDialogStore","AdsCanvasEditorEnums","AdsCanvasEditorFunnelLogging","AdsCanvasInlineBuilderActions","AdsCanvasLandingPageReplacementCheckboxStore","AdsCanvasShowCloseUnsavedCanvasDialogDataAction","AdsFluxContainer","AdsLeadGenFormCreationSource","AdsLeadGenFormEditorFunnelLogger","AdsLeadGenFormEditorFunnelLoggerConstants","AdsPageStore","AdsUEditorCampaignGroupAdObjectsUtils","AdsUEditorContextType","AdsUnpublishedCanvasCloseConfirmDialog.react","BootloadOnRender.react","CanvasCreationWaterfallTypedLogger","DOM","JSResource","LazyComponent.react","React","ReactDOM","RichMediaEditorActions","RichMediaEditorStore","RichMediaLoggingStoreUtils","adsCanvasUnifiedBuilderCanHandleLeadFormSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","emptyFunction","immutable","AdsLeadGenFormEditorFunnelLoggingStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasEditorEnums").SaveStateEnum,h=b("AdsLeadGenFormEditorFunnelLoggerConstants").FUNNEL_LOGGING_TAG_PREFIXES,i=b("AdsLeadGenFormEditorFunnelLoggerConstants").FUNNEL_LOGGING_TAGS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){b("AdsCanvasInlineBuilderActions").inlineAdvancedBuilderBlankOpen(),d.props.onClickCreate?d.props.onClickCreate():b("emptyFunction")},d.$5=function(a,c,e,f){__p&&__p();if(a&&a.is_published||c===g.SAVED&&!d.props.mustPublish)return!0;else if(c===g.SAVED){b("ReactDOM").render(b("React").createElement(b("AdsUnpublishedCanvasCloseConfirmDialog.react"),{onCancel:b("emptyFunction"),onCloseReset:e,onConfirm:d.$6}),b("DOM").create("div"));return!1}else{b("ReactDOM").render(b("React").createElement(b("AdsCanvasCloseUnsavedCanvasDialogContainer.react"),{onCancel:b("emptyFunction"),onConfirm:d.$6}),b("DOM").create("div"));b("AdsCanvasShowCloseUnsavedCanvasDialogDataAction").dispatch({showDialog:!0},{line:"320",module:"AdsCanvasButtonsContainer.react.js"});return!1}},d.$3=function(a){b("AdsCanvasEditorFunnelLogging").startFunnel(),b("AdsCanvasEditorFunnelLogging").logGKExposures(d.props.extraGKsToLog),d.$9(),b("RichMediaEditorActions").setDialogShown(a,!0)},d.$6=function(){b("AdsCanvasEditorFunnelLogging").endFunnel(),b("RichMediaLoggingStoreUtils").logRichMediaCreationEventWithLogger(new(b("CanvasCreationWaterfallTypedLogger"))().setEventName("editor.editor_exit")),d.$10(),b("RichMediaEditorActions").setDialogShown(d.state.dialogID,!1)},d.$8=function(a,c){b("RichMediaEditorActions").setDialogShown(a,c),c?(b("AdsCanvasEditorFunnelLogging").startFunnel(),b("AdsCanvasEditorFunnelLogging").logGKExposures(d.props.extraGKsToLog),d.$9()):(b("AdsCanvasEditorFunnelLogging").endFunnel(),b("RichMediaLoggingStoreUtils").logRichMediaCreationEventWithLogger(new(b("CanvasCreationWaterfallTypedLogger"))().setEventName("editor.editor_exit")),d.$10())},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,c){a=c.adgroupEditorContext;return[b("AdsAccountStore"),b("AdsCanvasComposerDialogStore"),b("AdsCanvasLandingPageReplacementCheckboxStore"),b("RichMediaEditorStore"),b("AdsPageStore")].concat(b("adsCanvasUnifiedBuilderCanHandleLeadFormSelector").getStores(a),b("adsUEditorAdObjectsForSelectedAdgroupsSelector").getStores(a))};c.calculateState=function(a,c,d){__p&&__p();var e;a=d.adgroupEditorContext;d=b("AdsCanvasComposerDialogStore").getDialogShown("newCanvasDialog");var f=c.canvasID!=null&&c.canvasID!==""?b("AdsCanvasComposerDialogStore").getDialogShown(c.canvasID):!1;d=f||d;f=c.canvasID!=null&&c.canvasID!==""&&f?c.canvasID:"newCanvasDialog";var g=f!=="newCanvasDialog"?c.canvas:null,h=b("AdsAccountStore").getSelectedAccountID(),i=h!=null?b("AdsAccountStore").get(h):null,j=b("AdsPageStore").getAll([c.pageID]).get(c.pageID);e=((e=j)!=null?(e=e.picture)!=null?(e=e.data)!=null?e.url:e:e:e)||"";j=j||{};j=j.name;var k=b("adsCanvasUnifiedBuilderCanHandleLeadFormSelector")(a),l=null;if(k){a=b("adsUEditorAdObjectsForSelectedAdgroupsSelector")(a);if(a.length==1){a=a[0];l=b("AdsUEditorCampaignGroupAdObjectsUtils").getObjective(a)}}return{adAccount:i,adAccountID:h,adObjective:l,canAddLeadForm:k,canvas:g,dialogID:f,dialogShown:d,editState:b("RichMediaEditorStore").getDocumentEditState(),pageName:j,pagePictureURL:e,showFinishingNux:b("AdsCanvasLandingPageReplacementCheckboxStore").getShowFinishingNux(),supportInstagramCanvasEnabled:!!c.supportInstagramCanvasEnabled}};var d=c.prototype;d.render=function(){return b("React").createElement("div",null,this.$1(),this.$2())};d.$1=function(){return b("React").createElement(b("AdsCanvasButtons.react"),{adAccountID:this.state.adAccountID,canvas:this.props.canvas,canvasRenderingMode:this.props.canvasRenderingMode,disabled:!!this.props.disabled,pageID:this.props.pageID,ref:"previewButton",source:this.props.source,onClick:this.$3,onClickCreate:this.$4,onClickPreview:this.props.onClickPreview||b("emptyFunction")})};d.$2=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{accessToken:this.props.accessToken,businessID:this.props.businessID,canvas:this.state.canvas,canvasCapabilityConfig:this.props.canvasCapabilityConfig,dialogID:this.state.dialogID,dialogShown:this.state.dialogShown,editState:this.state.editState,extraGKsToLog:this.props.extraGKsToLog,mustPublish:this.props.mustPublish,pageID:this.props.pageID,pageName:this.state.pageName,pictureURL:this.state.pagePictureURL,someHaveFacebookPlacement:this.props.someHaveFacebookPlacement,source:this.props.source,supportInstagramCanvasEnabled:this.state.supportInstagramCanvasEnabled,onBeforeHideDialog:this.$5,onCloseReset:this.props.onCloseReset,onConfirmClose:this.$6,onDuplicateReload:this.props.onDuplicateReload,onReloadCanvas:this.$7,onSaveCanvasSuccess:this.props.onSaveCanvasSuccess,onToggle:this.$8}),loader:b("JSResource")("AdsCanvasComposerDialog.react").__setRef("AdsCanvasButtonsContainer.react"),placeholder:b("React").createElement("span",null)})};d.$7=function(a,c){b("RichMediaEditorActions").setDialogCanvas(c.id,c),a!==c.id&&(b("RichMediaEditorActions").setDialogShown(a,!1),b("RichMediaEditorActions").setDialogShown(c.id,!0))};d.componentDidUpdate=function(a,b){this.state.editState===g.SAVED&&b.dialogShown!==this.state.dialogShown&&this.state.dialogShown==!1&&b.canvas&&b.canvas.is_published&&(this.state.canvas?!this.state.canvas.is_published:!0)&&this.$10()};d.$9=function(){if(!this.state.canAddLeadForm||!this.props.pageID)return;b("AdsLeadGenFormEditorFunnelLogger").initAndStartFunnel(this.state.adAccount,null,b("AdsLeadGenFormCreationSource").CANVAS_EDITOR,{capabilities:b("immutable").Set(),id:this.props.pageID,name:this.state.pageName,pictureURL:this.state.pagePictureURL||""},null,null,!1);b("AdsLeadGenFormEditorFunnelLogger").addFunnelTag(i.CANVAS_UNIFIED_BUILDER);this.state.adObjective&&b("AdsLeadGenFormEditorFunnelLogger").addFunnelTag(h.AD_OBJECTIVE+this.state.adObjective.toLowerCase());b("AdsLeadGenFormEditorFunnelLoggingStore")};d.$10=function(){this.state.canAddLeadForm&&!!this.props.pageID&&b("AdsLeadGenFormEditorFunnelLogger").endFunnel()};return c}(b("React").PureComponent);a.contextTypes=babelHelpers["extends"]({},b("AdsUEditorContextType").adgroup);e.exports=b("AdsFluxContainer").create(a,{withContext:!0,withProps:!0,name:e.id})}),null);
__d("AdsCanvasSearchSourceFilter",["AdsCanvasCollectionsUtils","AdsLeadGenConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={searchFilterDefaults:{onlyPublished:!1,onlyCollectionsEligible:!1,hideShoppingTemplateCanvases:!1,hideNPCForms:!1,hideSimpleForms:!1,hideRichForms:!1},filter:function(a,b){__p&&__p();var c=this;return a.name==null||a.name===""?!1:Object.keys(b).every(function(d){__p&&__p();if(b[d]!==!0)return!0;switch(d){case"onlyPublished":return c._filterPublished(a);case"onlyCollectionsEligible":return c._filterCollectionsEligible(a);case"hideShoppingTemplateCanvases":return!c._filterShoppingTemplate(a);case"hideNPCForms":return!c._filterNPCForm(a);case"hideSimpleForms":return!c._filterNPCSimpleForm(a);case"hideRichForms":return!c._filterNPCRichForm(a);default:return!0}})},_filterPublished:function(a){return a.is_published},_filterCollectionsEligible:function(a){return b("AdsCanvasCollectionsUtils").isCanvasCollectionEligible(a)},_filterNPCForm:function(a){return((a=a)!=null?(a=a.canvas_ad_settings)!=null?a.lead_gen_form_id:a:a)!=null},_filterNPCSimpleForm:function(a){var c;c=(c=a)!=null?(c=c.source_template)!=null?c.id:c:c;return((a=a)!=null?(a=a.canvas_ad_settings)!=null?a.lead_gen_form_id:a:a)!=null&&c===b("AdsLeadGenConstants").CANVAS_TEMPLATE_FOR_USE_FORM_ID},_filterNPCRichForm:function(a){var c;c=(c=a)!=null?(c=c.source_template)!=null?c.id:c:c;return((a=a)!=null?(a=a.canvas_ad_settings)!=null?a.lead_gen_form_id:a:a)!=null&&c!=null&&b("AdsLeadGenConstants").CANVAS_TEMPLATE_SUPPORTS_RICH_FORM.has(c)},_filterShoppingTemplate:function(a){return!!a.source_template&&!!a.elements&&a.elements.some(function(a){return a.element_type==="ELEMENT_GROUP"})}};e.exports=a}),null);
__d("AdsCanvasTypeaheadActionTypes",["ImmutableObject","keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=new(b("ImmutableObject"))(b("keyMirrorRecursive")({DOC_NAME:{LOADED:"",LOAD_ERROR:""},REFRESH_TYPEAHEAD:!0},"AdsCanvasTypeahead"));e.exports=a}),null);
__d("AdsCanvasTypeaheadActions",["AdsCanvasBuilderDispatcher","AdsCanvasSearchSourceFilter","AdsCanvasSetSearchSourceDataAction","AdsCanvasTypeaheadActionTypes"],(function(a,b,c,d,e,f){"use strict";a={docNameResultsLoaded:function(a,c,d,e){e=e.filter(function(a){return b("AdsCanvasSearchSourceFilter").filter(a,d)}),b("AdsCanvasBuilderDispatcher").dispatch({pageID:a,filter:c,searchFilters:d,results:e,type:b("AdsCanvasTypeaheadActionTypes").DOC_NAME.LOADED})},docNameLoadError:function(a,c,d,e){b("AdsCanvasBuilderDispatcher").dispatch({pageID:a,error:e,filter:c,searchFilters:d,type:b("AdsCanvasTypeaheadActionTypes").DOC_NAME.LOAD_ERROR})},setPageCanvasSearchSource:function(a,c){b("AdsCanvasSetSearchSourceDataAction").dispatch({pageID:a,searchSource:c},{line:"63",module:"AdsCanvasTypeaheadActions.js"})},refreshTypeahead:function(a){b("AdsCanvasBuilderDispatcher").dispatch({pageID:a,type:b("AdsCanvasTypeaheadActionTypes").REFRESH_TYPEAHEAD})}};e.exports=a}),null);
__d("AdsCanvasTypeaheadDataManager",["AdsCanvasConstants","AdsCanvasTypeaheadActions","AdsGraphAPI","CanvasDataUtils","GraphSort","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){}var c=a.prototype;c.searchCanvasDoc=function(a,c,d,f){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page",c).edge("canvases").get({access_token:a,fields:b("CanvasDataUtils").getFieldsForPagesCanvasList(),filtering:d.toAPI(),limit:b("AdsCanvasConstants").TYPE_AHEAD_LIMIT,sort:"name"+b("GraphSort").DESC,summary:!0}),function(a){b("AdsCanvasTypeaheadActions").docNameResultsLoaded(c,d,f,a.data)},function(a){return b("AdsCanvasTypeaheadActions").docNameLoadError(c,d,f,a)})};return a}();e.exports=new a()}),null);
__d("AdsCanvasTypeaheadStore",["AdsCanvasBuilderDispatcher","AdsCanvasTypeaheadActionTypes","AdsCanvasTypeaheadDataManager","AdsCanvasTypeaheadSearchableEntry","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterSet","FluxStore","LFUCache","LoadObject","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("AdsGenericFilterField"))("name",b("AdsGenericFilterFieldType").STRING),h=new(b("AdsGenericFilterField"))("product_set_id",b("AdsGenericFilterFieldType").STRING),i=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$AdsCanvasTypeaheadStore1=new(b("LFUCache"))();return c}var d=c.prototype;d.__getActionTypes=function(){return i?[b("AdsCanvasTypeaheadActionTypes").DOC_NAME.LOADED,b("AdsCanvasTypeaheadActionTypes").DOC_NAME.LOAD_ERROR,b("AdsCanvasTypeaheadActionTypes").REFRESH_TYPEAHEAD]:null};d.__onDispatch=function(a){switch(a.type){case b("AdsCanvasTypeaheadActionTypes").DOC_NAME.LOADED:return this.__handleResultsLoaded(a.pageID,a.filter,a.searchFilters,a.results,function(a){return b("AdsCanvasTypeaheadSearchableEntry").createForCanvasDoc(a)});case b("AdsCanvasTypeaheadActionTypes").DOC_NAME.LOAD_ERROR:return this.__handleError(a.pageID,a.filter,a.searchFilters,a.error);case b("AdsCanvasTypeaheadActionTypes").REFRESH_TYPEAHEAD:return this.$AdsCanvasTypeaheadStore2(a.pageID)}};d.searchDocByName=function(a,c,d,e,f){a=[new(b("AdsGenericFilter"))(g,b("AdsGenericFilterOperator").CONTAIN,a||"")];e&&a.push(new(b("AdsGenericFilter"))(h,b("AdsGenericFilterOperator").EQUAL,e||""));e=new(b("AdsGenericFilterSet"))(a);a=this.$AdsCanvasTypeaheadStore3(c,e,f);var i=this.$AdsCanvasTypeaheadStore1.get(a);i||(i=b("LoadObject").loading(),this.$AdsCanvasTypeaheadStore1.set(a,i),b("AdsCanvasTypeaheadDataManager").searchCanvasDoc(d,c,e,f));return i};d.__handleError=function(a,c,d,e){a=this.$AdsCanvasTypeaheadStore3(a,c,d);this.$AdsCanvasTypeaheadStore1.set(a,b("LoadObject").empty().setError(e))};d.__handleResultsLoaded=function(a,c,d,e,f){a=this.$AdsCanvasTypeaheadStore3(a,c,d);c=e.map(f,this);this.$AdsCanvasTypeaheadStore1.set(a,b("LoadObject").empty().setValue(c));this.__emitChange()};d.$AdsCanvasTypeaheadStore2=function(a){var c=this,d=[new(b("AdsGenericFilterSet"))([new(b("AdsGenericFilter"))(g,b("AdsGenericFilterOperator").CONTAIN,"")]),new(b("AdsGenericFilterSet"))([new(b("AdsGenericFilter"))(g,b("AdsGenericFilterOperator").CONTAIN,""),new(b("AdsGenericFilter"))(h,b("AdsGenericFilterOperator").EQUAL,"")])];d.forEach(function(b){b=c.$AdsCanvasTypeaheadStore3(a,b,null);var d=c.$AdsCanvasTypeaheadStore1.get(b);d&&c.$AdsCanvasTypeaheadStore1.set(b,null)})};d.$AdsCanvasTypeaheadStore3=function(a,b,c){var d;c="NPC:"+String(((d=c)!=null?d.hideNPCForms:d)||!1)+"-SimpleForm:"+String(((d=c)!=null?d.hideSimpleForms:d)||!1)+"-RichForm:"+String(((d=c)!=null?d.hideRichForms:d)||!1);return a+"-"+b.toString()+"-"+c};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("AdsCanvasBuilderDispatcher"))}),null);
__d("AdsCanvasSearchSource",["AdsCanvasSearchSourceFilter","AdsCanvasTypeaheadStore","AdsFluxStoreSearchSource"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d=babelHelpers["extends"]({},b("AdsCanvasSearchSourceFilter").searchFilterDefaults,c.searchFilters),e=babelHelpers["extends"]({getAllForEmptyQuery:!0},c,{queryRequests:[{store:b("AdsCanvasTypeaheadStore"),getData:function(a){return b("AdsCanvasTypeaheadStore").searchDocByName(a,c.pageID,c.accessToken,c.promotedProductSetID,d)}}]});return a.call(this,e)||this}return c}(b("AdsFluxStoreSearchSource"));e.exports=a}),null);
__d("AdsCanvasTypeahead.react",["cx","fbt","AdsCanvasAdvancedRendering","AdsCanvasButtonsContainer.react","AdsCanvasInlineBuilderActions","AdsCanvasWebdriverIDs","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","Grid.react","React","SUISearchableSelector.react","XUITypeahead.react","XUITypeaheadView.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Grid.react").GridItem;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();var c;c=a.call(this,b)||this;c.$8=function(a){c.props.onQueryChange&&c.props.onQueryChange(),c.setState({queryString:a.target.value})};c.$12=function(a){c.props.onQueryChange&&c.props.onQueryChange(),c.setState({queryString:a})};c.$7=function(){c.$2(c.props.selectedEntry)};c.$9=function(){var a=c.props.selectedEntry;c.setState({queryString:a?a.getTitle():""})};c.$10=function(a){c.props.onEntrySelect(a),c.setState({queryString:a.getTitle()})};c.state={queryString:c.$1(b.selectedEntry)};return c}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.selectedEntry!==this.props.selectedEntry&&this.$2(a.selectedEntry)};d.render=function(){if(this.props.canvasRenderingMode)return this.$3();var a=this.props.shouldUseSearchableCanvasTypeahead?this.$4():this.$5();a=this.props.shouldHideCanvasCreateButton?b("React").createElement("div",{className:"_39gc"},a):b("React").createElement(b("Grid.react"),{className:"_39gb",cols:2},b("React").createElement(i,{className:"_39gc"},a),b("React").createElement(i,null,this.$3()));return b("React").createElement("div",{"data-testid":b("AdsCanvasWebdriverIDs").ADS_CANVAS_TYPEAHEAD},a)};d.$5=function(){return b("React").createElement(b("XUITypeahead.react"),{autoHighlight:this.$6(),className:this.props.disabled?"_4i0b":"",disabled:this.props.disabled,focusedOnInit:this.props.focusedOnInit,placeholder:this.props.placeholder,presenter:{ViewRenderer:b("XUITypeaheadView.react"),useLayer:!0,layerBehaviors:{ContextualLayerHideOnScrollOut:b("ContextualLayerHideOnScrollOut"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")}},queryString:this.state.queryString,ref:"typeahead",searchSource:this.props.searchSource,showEntriesOnFocus:!0,tallInput:!0,textInputDataTestID:b("AdsCanvasWebdriverIDs").ADS_CANVAS_TYPEAHEAD_INPUT,xuiError:this.props.error,xuiErrorPosition:"above",onBlur:this.$7,onChange:this.$8,onFocus:this.$9,onSelectAttempt:this.$10})};d.$4=function(){return b("React").createElement(b("SUISearchableSelector.react"),{dropdownWidth:"auto",emptySearchResultsContent:h._("No matching results"),isDisabled:this.props.disabled,placeholder:this.props.placeholder,ref:"typeahead",searchSource:this.props.searchSource,value:this.props.selectedEntry,width:181,onChange:this.$10,onOpened:this.$11,onQueryChange:this.$12})};d.$3=function(){return this.props.shouldHideCanvasCreateButton&&this.props.canvasRenderingMode!==b("AdsCanvasAdvancedRendering").DROPDOWN?null:b("React").createElement(b("AdsCanvasButtonsContainer.react"),{accessToken:this.props.accessToken,businessID:this.props.businessID,canvas:this.props.canvas,canvasCapabilityConfig:this.props.canvasCapabilityConfig,canvasID:this.props.canvasID,canvasRenderingMode:this.props.canvasRenderingMode,disabled:this.props.disabled,extraGKsToLog:this.props.extraGKsToLog,mustPublish:this.props.mustPublish,pageID:this.props.pageID,someHaveFacebookPlacement:this.props.someHaveFacebookPlacement,supportInstagramCanvasEnabled:this.props.supportInstagramCanvasEnabled,source:this.props.source,onClickCreate:this.props.onClickCreate,onClickPreview:this.props.onClickPreview,onCloseReset:this.props.onCloseReset,onDuplicateReload:this.props.onDuplicateReload,onSaveCanvasSuccess:this.props.onSaveCanvasSuccess})};d.$6=function(){return!!this.state.queryString};d.$11=function(){b("AdsCanvasInlineBuilderActions").inlineDropdownUseExistingSelect()};d.$1=function(a){return a?a.getTitle():""};d.$2=function(a){this.setState({queryString:this.$1(a)})};return c}(b("React").Component);e.exports=a}),null);
__d("PostInstreamVideoEligibility",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ELIGIBLE:"ELIGIBLE",ELIGIBLE_VERTICAL_ASPECT_RATIO:"ELIGIBLE_VERTICAL_ASPECT_RATIO",INELIGIBLE_NO_VIDEO:"INELIGIBLE_NO_VIDEO",INELIGIBLE_POST_TYPE:"INELIGIBLE_POST_TYPE",INELIGIBLE_SLIDESHOW:"INELIGIBLE_SLIDESHOW",INELIGIBLE_SPHERICAL:"INELIGIBLE_SPHERICAL",INELIGIBLE_UNKNOWN_ERROR:"INELIGIBLE_UNKNOWN_ERROR",INELIGIBLE_VIDEO_LENGTH:"INELIGIBLE_VIDEO_LENGTH"})}),null);
__d("AdsInstreamVideoErrorUtils",["errorCode","errorDesc","fbt","AdsAPIAdgroupPaths","AdsAPIPromotablePostFields","AdsError","AdsVideoConfig","PostInstreamVideoEligibility","VideoCreatorProductType"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID,k={getInstreamVideoErrorTitle:function(a){a===void 0&&(a=b("AdsError").Level.RECOMMEND);a===b("AdsError").Level.RECOMMEND?a=i._("This video can't be used for in-stream ads, but it can still run in your other placements."):a=i._("This video can't be used for in-stream ads.");return a},getIneligibleInstreamPostError:function(a,c,d){__p&&__p();c===void 0&&(c=b("AdsError").Level.RECOMMEND);d===void 0&&(d=!1);if(!a)return null;switch(a){case b("PostInstreamVideoEligibility").ELIGIBLE:return null;case b("PostInstreamVideoEligibility").INELIGIBLE_VIDEO_LENGTH:return k.getWrongLengthError(c);case b("PostInstreamVideoEligibility").INELIGIBLE_SLIDESHOW:return k.getSlideShowError(c);case b("PostInstreamVideoEligibility").INELIGIBLE_SPHERICAL:return k.getSphericalError(c);case b("PostInstreamVideoEligibility").ELIGIBLE_VERTICAL_ASPECT_RATIO:return d?k.getAspectRatioError(c):null;default:return null}},getErrorsForSinglePost:function(a,c,d){c===void 0&&(c=b("AdsError").Level.RECOMMEND);d===void 0&&(d=!1);var e=[];a=k.getIneligibleInstreamPostError(a[b("AdsAPIPromotablePostFields").INSTREAM_ELIGIBILITY],c,d);a&&e.push(a);return e},getErrorsForAllPosts:function(a,c,d){c===void 0&&(c=b("AdsError").Level.RECOMMEND);d===void 0&&(d=!1);var e=new Map();a&&a.forEach(function(a){e.set(a[b("AdsAPIPromotablePostFields").PROMOTABLE_ID],k.getErrorsForSinglePost(a,c,d))});return e},getErrorsForSingleVideo:function(a,c,d,e){__p&&__p();c===void 0&&(c=b("AdsError").Level.RECOMMEND);d===void 0&&(d=!1);e===void 0&&(e=!1);var f=[],g=e?b("AdsVideoConfig").instreamVideoDRLongMaxDurationInSec:b("AdsVideoConfig").instreamVideoMaxDurationInSec;(a.length<b("AdsVideoConfig").instreamVideoMinDurationInSec||a.length>g)&&f.push(k.getWrongLengthError(c,e));a.spherical&&f.push(k.getSphericalError(c));a.creator_product===b("VideoCreatorProductType").SLIDESHOW&&f.push(k.getSlideShowError(c));if(d){g=a.width/a.height;g&&(g<b("AdsVideoConfig").instreamPACMinWarningAspectRatio||g>b("AdsVideoConfig").instreamPACMaxWarningAspectRatio)&&f.push(k.getAspectRatioError(c))}return f},getWrongLengthError:function(a,c){a===void 0&&(a=b("AdsError").Level.RECOMMEND);return c===!0?new(b("AdsError"))(2490086,h._(function(a,b){return a._("In-stream videos must be between {minLength} and {maxLength} seconds long.",[a._param("minLength",b.minLength),a._param("maxLength",b.maxLength)])},{minLength:b("AdsVideoConfig").instreamVideoMinDurationInSec,maxLength:b("AdsVideoConfig").instreamVideoDRLongMaxDurationInSecToShow}),{level:a,path:j}):new(b("AdsError"))(1815489,h._(function(a,b){return a._("In-stream videos must be between 5-15 seconds long.")},{minLength:b("AdsVideoConfig").instreamVideoMinDurationInSec,maxLength:b("AdsVideoConfig").instreamVideoMaxDurationInSecToShow}),{level:a,path:j})},getLongDRTruncationWarning:function(a){a===void 0&&(a=b("AdsError").Level.RECOMMEND);return new(b("AdsError"))(2490087,h._(function(a,b){return a._("For in-stream video ads, this video will pause after {truncationLength} seconds, and viewers can choose to keep watching.",[a._param("truncationLength",b.truncationLength)])},{truncationLength:b("AdsVideoConfig").instreamVideoMaxDurationInSecToShow}),{level:a,path:j})},getSphericalError:function(a){a===void 0&&(a=b("AdsError").Level.RECOMMEND);return new(b("AdsError"))(1815483,h._(function(a,b){return a._("In-stream ads do not support 360 videos.")},{}),{level:a,path:j})},getAspectRatioError:function(a){a===void 0&&(a=b("AdsError").Level.RECOMMEND);return new(b("AdsError"))(1815896,h._(function(a,b){return a._("In-stream videos must be square or landscape.")},{}),{level:a,path:j})},getSlideShowError:function(a){a===void 0&&(a=b("AdsError").Level.RECOMMEND);return new(b("AdsError"))(1815490,h._(function(a,b){return a._("In-stream ads do not support slideshow videos.")},{}),{level:a,path:j})}};e.exports=k}),null);
__d("XPageOfferXComposerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/offers/offerx_composer/",{referrer:{type:"Enum",required:!0,enumType:1},offer_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},description:{type:"String"},composer_id:{type:"String"},photo_urls:{type:"StringVector"},session_id:{type:"String"},interception_flow_type:{type:"Enum",enumType:1},video_ids:{type:"FBIDVector"}})}),null);