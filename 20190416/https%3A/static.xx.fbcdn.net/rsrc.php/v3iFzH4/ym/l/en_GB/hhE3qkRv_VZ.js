if (self.CavalryLogger) { CavalryLogger.start_js(["VVvGY"]); }

__d("UsernameFormatToken",[],(function(a,b,c,d,e,f){e.exports={FIRST:"{first}",MIDDLE:"{middle}",LAST:"{last}"}}),null);
__d("XReCaptchaLogActionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/captcha/recaptcha_log_actions/",{})}),null);
__d("Recaptcha",["fbt","AsyncRequest","Bootloader","CaptchaClientConfig","CSS","CurrentLocale","DOM","Event","Keys","XReCaptchaLogActionsController","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i={tabindex:0,callback:null},j={en_US:"en",en_GB:"en",en_PI:"en",nl_NL:"nl",nl_BE:"nl",fr_FR:"fr",fr_CA:"fr",de_DE:"de",es_LA:"es",es_ES:"es",es_CL:"es",es_CO:"es",es_MX:"es",es_VE:"es",ru_RU:"ru",tr_TR:"tr"},k=!1,l={widget:null,timer_id:-1,fail_timer_id:-1,type:"image",ajax_verify_cb:null,audio_only:!1,$:function(a){if(typeof a==="string")return document.getElementById(a);else return a},setFocusOnLoad:function(a){k=a},create:function(a,c){l.destroy(),a&&(l.widget=l.$(a)),l._init_options(c),l._call_challenge(b("CaptchaClientConfig").recaptchaPublicKey)},destroy:function(){var a=l.$("recaptcha_challenge_field");a&&a.parentNode.removeChild(a);l.timer_id!=-1&&clearInterval(l.timer_id);l.timer_id=-1;a=l.$("recaptcha_image");a&&(a.innerHTML="");l.widget&&(l.widget.style.display="none",l.widget=null)},focus_response_field:function(){var a=l.$;a=a("captcha_response");try{a.focus()}catch(a){}},get_challenge:function(){return typeof a.RecaptchaState==="undefined"?null:a.RecaptchaState.challenge},get_response:function(){var a=l.$;a=a("captcha_response");return!a?null:a.value},ajax_verify:function(a){l.ajax_verify_cb=a;a=l._get_api_server()+"/ajaxverify?c="+encodeURIComponent(l.get_challenge())+"&response="+encodeURIComponent(l.get_response());l._add_script(a)},_ajax_verify_callback:function(a){l.ajax_verify_cb(a)},_get_api_server:function(){var b=window.location.protocol,c;typeof a._RecaptchaOverrideApiServer!=="undefined"?c=a._RecaptchaOverrideApiServer:c="www.google.com";return b+"//"+c},_call_challenge:function(a){l.audio_only||(l.fail_timer_id=setTimeout(function(){l.fail_timer_id==-1&&l.logAction("timeout"),l.createCaptcha()},15e3));a=l._get_api_server()+"/recaptcha/api/challenge?k="+a+"&ajax=1&xcachestop="+Math.random();b("ge")("extra_challenge_params")!=null&&(a+="&"+b("ge")("extra_challenge_params").value);l._add_script(a)},_add_script:function(a){b("Bootloader").requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN(a)},_init_options:function(a){var b=i;a=a||{};for(var c in a)b[c]=a[c];h=b},challenge_callback:function(){__p&&__p();l.audio_only||(clearTimeout(l.fail_timer_id),l._reset_timer());window.addEventListener&&window.addEventListener("unload",function(a){l.destroy()},!1);l._is_ie()&&window.attachEvent&&window.attachEvent("onbeforeunload",function(){});if(navigator.userAgent.indexOf("KHTML")>0){var a=document.createElement("iframe");a.src="about:blank";a.style.height="0px";a.style.width="0px";a.style.visibility="hidden";a.style.border="none";var b=document.createTextNode("This frame prevents back/forward cache problems in Safari.");a.appendChild(b);document.body.appendChild(a)}l._finish_widget();l.audio_only&&l.switch_type("audio");l.logAction("shown")},_finish_widget:function(){__p&&__p();var b=l.$,c=a.RecaptchaState,d=h,e=document.createElement("input");e.type="password";e.setAttribute("autocomplete","off");e.style.display="none";e.name="recaptcha_challenge_field";e.id="recaptcha_challenge_field";b("captcha_response").parentNode.insertBefore(e,b("captcha_response"));b("captcha_response").setAttribute("autocomplete","off");b("recaptcha_image").style.width="300px";b("recaptcha_image").style.height="57px";l.should_focus=!1;!l.audio_only?l._set_challenge(c.challenge,"image"):l._set_challenge(c.challenge,"audio");d.tabindex&&(b("captcha_response").tabIndex=d.tabindex);l.widget&&(l.widget.style.display="");d.callback&&d.callback();b("recaptcha_loading").style.display="none"},switch_type:function(a){var b=l;b.type=a;b.$("recaptcha_type").value=a;b.reload(b.type=="audio"?"a":"v")},reload:function(c){var d=l;d.$;var e=a.RecaptchaState;typeof c==="undefined"&&(c="r");e=e.server+"reload?c="+e.challenge+"&k="+e.site+"&reason="+c+"&type="+d.type+"&lang="+l.getLang();b("ge")("extra_challenge_params")!=null&&(e+="&"+b("ge")("extra_challenge_params").value);d.should_focus=c!="t";d._add_script(e)},finish_reload:function(b,c){a.RecaptchaState.is_incorrect=!1,l._set_challenge(b,c)},_set_challenge:function(c,d){__p&&__p();var e=l,f=a.RecaptchaState,h=e.$;f.challenge=c;e.type=d;h("recaptcha_challenge_field").value=f.challenge;h("recaptcha_challenge_field").defaultValue=f.challenge;h("recaptcha_image").innerHtml="";if(d=="audio")b("DOM").setContent(document.getElementById("recaptcha_image"),l.setAudioCaptchaControls()),b("DOM").setAttributes(document.getElementById("captcha_response"),{"aria-label":g._("Audio Captcha input. Press the \"Play Audio Captcha\" button above to start the audio. Enter the numbers you hear into this input box, then submit the form to proceed.")});else if(d=="image"){c=f.server+"image?c="+f.challenge;h("recaptcha_image").innerHTML="<img style='display:block;' height='57' width='300' src='"+c+"'/>";b("DOM").setAttributes(document.getElementById("captcha_response"),{"aria-label":g._("Captcha input. Type the words listed above to continue. Additionally you may also try the audio captcha by clicking the link above.")})}l._css_toggle("recaptcha_had_incorrect_sol","recaptcha_nothad_incorrect_sol",f.is_incorrect);l._css_toggle("recaptcha_is_showing_audio","recaptcha_isnot_showing_audio",d=="audio");e.should_focus&&e.focus_response_field();e._reset_timer()},_reset_timer:function(){var b=a.RecaptchaState;clearInterval(l.timer_id);l.timer_id=setInterval(function(){return l.reload("t")},(b.timeout-60*5)*1e3)},_clear_input:function(){var a=l.$("captcha_response");a.value=""},_displayerror:function(a){var c=l.$;b("DOM").empty("recaptcha_image");c("recaptcha_image").appendChild(document.createTextNode(a))},reloaderror:function(a){l._displayerror(a)},_is_ie:function(){return navigator.userAgent.indexOf("MSIE")>0&&!window.opera},_css_toggle:function(a,c,d){var e=l.widget;e||(e=document.body);var f=e.className;f=f.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," ");f=f.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," ");f+=" "+(d?a:c);b("CSS").setClass(e,f)},handlePlayPress:function(a){var c=b("Event").getKeyCode(a);(c===b("Keys").RETURN||c===b("Keys").SPACE)&&(b("Event").prevent(a),this.playAgain())},handlePlayClick:function(a){b("Event").prevent(a),this.playAgain()},playAgain:function(){b("DOM").setContent(document.getElementById("recaptcha_audio_container"),l.getAudioCaptchaHtml())},setAudioCaptchaControls:function(){__p&&__p();var c=a.RecaptchaState;c=c.server+"image?c="+c.challenge;c.indexOf("https://")==0&&(c="http://"+c.substring(8));var d=b("DOM").create("div"),e=b("DOM").create("a",{href:"#","class":"recaptcha_audio_cant_hear_link recaptcha_text",role:"button",tabindex:"0",onclick:this.handlePlayClick.bind(this),onkeyup:this.handlePlayPress.bind(this)},g._("Play Audio Captcha"));c=b("DOM").create("a",{"class":"recaptcha_audio_cant_hear_link recaptcha_text",target:"_blank",href:c},g._("Open the audio file in a new window"));var f=b("DOM").create("div",{id:"recaptcha_audio_container"});b("DOM").appendContent(d,c);l.checkFlashVer()&&b("DOM").appendContent(d,e);b("DOM").appendContent(d,f);return d},getAudioCaptchaHtml:function(){__p&&__p();var c=l,d=a.RecaptchaState,e=d.server+"image?c="+d.challenge;e.indexOf("https://")==0&&(e="http://"+e.substring(8));e=d.server+"/img/audiocaptcha.swf?v2";if(c._is_ie()){d=b("DOM").create("object",{classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",id:"audiocaptcha",width:"0",height:"0",codebase:"https://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"});c=[{name:"movie",value:e},{name:"quality",value:"high"},{name:"bgcolor",value:"869ca7"},{name:"allowScriptAccess",value:"always"}];c.forEach(function(a){b("DOM").appendContent(b("DOM").create("param",a))})}else d=b("DOM").create("embed",{src:e,url:e,quality:"high",bgcolor:"#869ca7",width:"0",height:"0",name:"audiocaptcha",align:"middle",play:"true",loop:"false",allowScriptAccess:"always",type:"application/x-shockwave-flash",pluginspage:"http://get.adobe.com/flashplayer"});return d},gethttpwavurl:function(){var b=a.RecaptchaState;if(l.type=="audio"){b=b.server+"image?c="+b.challenge;b.indexOf("https://")==0&&(b="http://"+b.substring(8));return b}return""},checkFlashVer:function(){__p&&__p();var a=navigator.appVersion.indexOf("MSIE")!=-1?!0:!1,b=navigator.appVersion.toLowerCase().indexOf("win")!=-1?!0:!1,c=navigator.userAgent.indexOf("Opera")!=-1?!0:!1,d=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var e=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";e=navigator.plugins["Shockwave Flash"+e].description;e=e.split(" ");e=e[2].split(".");d=e[0]}}else if(a&&b&&!c)try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");a=e.GetVariable("$version");d=a.split(" ")[1].split(",")[0]}catch(a){}return d>=9},getLang:function(){return j[b("CurrentLocale").get()]||"en"},createCaptcha:function(){var a={};k&&(a.callback=l.focus_response_field);setTimeout(function(){return l.create("captcha",a)},0)},createAudioCaptcha:function(){setTimeout(function(){l._init_options({}),l.audio_only=!0,l._call_challenge(b("CaptchaClientConfig").recaptchaPublicKey)},0)},logAction:function(a){new(b("AsyncRequest"))().setURI(b("XReCaptchaLogActionsController").getURIBuilder().getURI()).setData({action:a,ua:navigator.userAgent,location:window.location.href}).setMethod("POST").setReadOnly(!0).send()}};e.exports=l;a.Recaptcha=l}),null);
__d("GrowthSUMAEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:GrowthSUMAEventsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:GrowthSUMAEventsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:GrowthSUMAEventsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCandidateRevealReason=function(a){this.$1.candidate_reveal_reason=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setCandidates=function(a){this.$1.candidates=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setConfData=function(a){this.$1.conf_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setContactpoint=function(a){this.$1.contactpoint=a;return this};c.setDetectorCallsite=function(a){this.$1.detector_callsite=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventRuntimeInMicro=function(a){this.$1.event_runtime_in_micro=a;return this};c.setExtraInfo=function(a){this.$1.extra_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setHasRegCpMatch=function(a){this.$1.has_reg_cp_match=a;return this};c.setRegInstance=function(a){this.$1.reg_instance=a;return this};c.setSourceUid=function(a){this.$1.source_uid=a;return this};c.setTargetUserID=function(a){this.$1.target_userid=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={candidate_reveal_reason:!0,candidates:!0,conf_data:!0,contactpoint:!0,detector_callsite:!0,event:!0,event_runtime_in_micro:!0,extra_info:!0,has_reg_cp_match:!0,reg_instance:!0,source_uid:!0,target_userid:!0,time:!0,weight:!0};e.exports=a}),null);
__d("DomainDropdownTheme",["cx"],(function(a,b,c,d,e,f,g){e.exports={className:"_4f2w"}}),null);
__d("DomainSearchSource",["AbstractSearchSource","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$DomainSearchSource1=b;return c}var d=c.prototype;d.searchImpl=function(a,c,d){__p&&__p();var e=[];d=a.toLowerCase();d=d.split("@");var f=d[0],g=d[1];if(g!=null&&f!==""){var h=0;this.$DomainSearchSource1.forEach(function(a){if(a.startsWith(g)){a=f+"@"+a;e.push(new(b("SearchableEntry"))({order:h++,subtitle:a,title:a,uniqueID:a}))}})}c(e,a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PasswordMeterFieldValidator",["cx","Promise","CSS","DOM","Event","PasswordStrengthAnalyzer","RegistrationClientConfig","RegistrationFieldValidator","ge","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("keyMirror")({EMPTY:null,TOO_SHORT:null,TOO_WEAK:null,STRONG:null});function i(a){return new(b("Promise"))(function(a,b){a()})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,j,k,l,m){__p&&__p();var n;n=a.call(this,c,d,e,f,g,j)||this;n.$PasswordMeterFieldValidator2=function(){n.currentPasswordStrength=n.$PasswordMeterFieldValidator3(n.field.value),n.$PasswordMeterFieldValidator4(n.currentPasswordStrength)};n.$PasswordMeterFieldValidator1=function(){__p&&__p();if(n.validationType!=="password_meter")return;if(!n.isValid){var a=n.$PasswordMeterFieldValidator7(n.currentPasswordStrength);if(a!==null){b("DOM").setContent(n.meterWrapper,a);return}}n.$PasswordMeterFieldValidator6()};n.isStrongPassword=function(a){return new(b("Promise"))(function(b,c){!a.value||n.$PasswordMeterFieldValidator3(a.value)!==h.STRONG?c():b()})};n.meterWrapper=b("ge")(k);n.currentPasswordStrength=h.EMPTY;n.minPasswordStrength=l!=null?l:b("PasswordStrengthAnalyzer").minMeterStrength;n.isEnabled=!1;m?n.addValidationStep(b("RegistrationClientConfig").logging.types.PASSWORD_WEAK,b("RegistrationClientConfig").messages.PASSWORD_BLANK,i):n.enableValidator();return n}var d=c.prototype;d.enableValidator=function(){if(this.isEnabled)return;this.isEnabled=!0;this.addListener("validated",this.$PasswordMeterFieldValidator1,this);this.addValidationStep(b("RegistrationClientConfig").logging.types.PASSWORD_WEAK,b("RegistrationClientConfig").messages.PASSWORD_BLANK,this.isStrongPassword);b("Event").listen(this.field,"input",this.$PasswordMeterFieldValidator2)};d.$PasswordMeterFieldValidator4=function(a){b("DOM").setContent(this.meterWrapper,this.$PasswordMeterFieldValidator5(a)),b("CSS").conditionClass(this.wrapper,"_2acm",a!==h.STRONG)};d.$PasswordMeterFieldValidator6=function(){b("DOM").setContent(this.meterWrapper,null),b("CSS").removeClass(this.wrapper,"_2acm")};d.maybeShowFlyout=function(){this.validationType!=="password_meter"&&a.prototype.maybeShowFlyout.call(this)};d.dismissFlyout=function(){this.validationType!=="password_meter"&&a.prototype.dismissFlyout.call(this)};d.$PasswordMeterFieldValidator3=function(a){if(a==="")return h.EMPTY;if(a.length<6)return h.TOO_SHORT;a=b("PasswordStrengthAnalyzer").score(a,!1);return a<this.minPasswordStrength?h.TOO_WEAK:h.STRONG};d.$PasswordMeterFieldValidator5=function(a){switch(a){case h.EMPTY:case h.TOO_SHORT:return b("RegistrationClientConfig").password_meter.TOO_SHORT;case h.TOO_WEAK:return b("RegistrationClientConfig").password_meter.TOO_WEAK;case h.STRONG:return b("RegistrationClientConfig").password_meter.STRONG;default:return b("RegistrationClientConfig").password_meter.TOO_WEAK}};d.$PasswordMeterFieldValidator7=function(a){switch(a){case h.EMPTY:return b("RegistrationClientConfig").password_inline_error.EMPTY;case h.TOO_SHORT:return b("RegistrationClientConfig").password_inline_error.TOO_SHORT;case h.TOO_WEAK:return b("RegistrationClientConfig").password_inline_error.TOO_WEAK;default:return null}};return c}(b("RegistrationFieldValidator"));e.exports=a}),null);
__d("GrowthSUMAEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ERROR_BASE_NO_STARTING_POINT:"error_base_no_starting_point",ERROR_CP_ACCOUNT_LOAD_FAIL:"error_cp_account_load_fail",ERROR_EXAMPLE_USER_LOAD_FAIL:"error_example_user_load_fail",ERROR_EXAMPLE_SHORT_PROFILE_MISSING_NAME:"error_example_short_profile_missing_name",ERROR_EXAMPLE_SHORT_PROFILE_MISSING_DOB:"error_example_short_profile_missing_dob",ERROR_EXAMPLE_SHORT_PROFILE_MISSING_GENDER:"error_example_short_profile_missing_gender",ERROR_EXAMPLE_CONF_DATA_MISSING_DOB:"error_example_conf_data_missing_dob",SUMA_CLICK_BACK:"suma_click_back",SUMA_FIRST_STEP_IMPRESSION:"suma_first_step_impression",SUMA_SECOND_STEP_IMPRESSION:"suma_second_step_impression",SUMA_CHECK_CLICK_FIND_ACCOUNT:"suma_check_click_find_account",SUMA_CHECK_CLICK_GO_TO_NEW_ACCOUNT:"suma_check_click_go_to_new_account",SUMA_CHECK_CLICK_DISMISS:"suma_check_click_dismiss",SUMA_CHECK_CLICK_CREATE_ACCOUNT:"suma_check_click_create_account",SUMA_CHECK_CLICK_BACK:"suma_check_click_back",SUMA_CHECK_BROWSER_CLICK_BACK:"suma_check_browser_click_back",SUMA_REDIRECTION_CLICK_RESET_PASSWORD:"suma_redirection_click_reset_password",SUMA_REDIRECTION_CLICK_CREATE_ACCOUNT:"suma_redirection_click_create_account",SUMA_REDIRECTION_CLICK_BACK:"suma_redirection_click_back",SUMA_REDIRECTION_BROWSER_CLICK_BACK:"suma_redirection_browser_click_back",SUMA_REDIRECTION_CLICK_LOGIN_EXISTING:"suma_redirection_click_login_existing",SUMA_REDIRECTION_CLICK_GO_TO_NEW_ACCOUNT:"suma_redirection_click_go_to_new_account",SUMA_AR_INIT_CLICK_NOT_ME:"suma_ar_init_click_not_me",SUMA_AR_INIT_CLICK_NO_ACCESS_LINK:"suma_ar_init_click_no_access_link",SUMA_AR_INIT_CLICK_BACK:"suma_ar_init_click_back",SUMA_AR_CODE_CLICK_CANCEL:"suma_ar_code_click_cancel",SUMA_AR_CODE_CLICK_BACK:"suma_ar_code_click_back",SUMA_AR_CODE_DIALOG_SHOW:"suma_ar_code_dialog_show",SUMA_AR_CODE_DIALOG_CANCEL:"suma_ar_code_dialog_cancel",SUMA_AR_CODE_DIALOG_DISMISS:"suma_ar_code_dialog_dismiss",SUMA_AR_CODE_DIALOG_CREATE:"suma_ar_code_dialog_create",SUMA_REDIRECTION_CREATE_ACCOUNT:"suma_redirection_create_account",REG_AR_SUMA_REDIRECTION:"suma_reg_ar_redirection",SKIP_SUMA_REDIRECTION:"skip_suma_redirection",CANDIDATE_HARD_CLIFF_ONE_WEEK_AGO:"candidate_hard_cliff_one_week_ago",CANDIDATE_REACHED_SHOW_LIMIT:"candidate_reached_show_limit",CANDIDATE_PRIVACY_NOT_ALLOW_DISPLAY:"candidate_privacy_not_allow_display",CANDIDATE_UNRECOVERABLE:"candidate_unrecoverable",CANDIDATE_UNRECOVERABLE_ON_REG_CP:"candidate_unrecoverable_on_reg_cp",CANDIDATE_NOT_ENOUGH_FRIENDS:"candidate_no_enough_friends",CANDIDATE_REG_AR_CLASSIFIER_FILTER:"candidate_reg_ar_classifier_filter",CANDIDATE_CHECKPOINTED:"candidate_checkpointed",CANDIDATE_FAKE_CHECKPOINTED:"candidate_fake_checkpointed",CANDIDATE_DELTA_CHECKPOINTED:"candidate_delta_checkpointed",CANDIDATE_SHOW_CAPPED:"candidate_show_capped",CANDIDATE_WOULD_SHOW:"candidate_would_show",CANDIDATE_REG_FORM_PASSWORD_MATCH:"candidate_reg_form_password_match",CANDIDATE_AUTO_LOGIN:"candidate_auto_login",SKIP_CANDIDATE_REACHED_SHOW_LIMIT:"skip_candidate_reached_show_limit",SKIP_CANDIDATE_CHECKPOINTED:"skip_candidate_checkpointed",SKIP_CANDIDATE_PRIVACY_NOT_ALLOW_DISPLAY:"skip_candidate_privacy_not_allow_display",SKIP_CANDIDATE_UNRECOVERABLE:"skip_candidate_unrecoverable",SKIP_CANDIDATE_HARD_CLIFF_ONE_WEEK_AGO:"skip_candidate_hard_cliff_one_week_ago",NO_PW_RESETTABLE_PHONES:"no_password_resettable_phones",REG_CP_IN_CANDIDATE_CP_LIST:"reg_cp_in_candidate_cp_list",REG_CP_NOT_IN_CANDIDATE_CP_LIST:"reg_cp_not_in_candidate_cp_list",NULL_REG_NAME_IN_PRIVACY_CHECK:"null_reg_name_in_privacy_check",SEND_NONCE_CODE:"send_nonce_code",CONFIRM_VIA_NONCE:"confirm_via_nonce",AFTER_UNSECURE_CONF:"after_unsecure_conf",CONFIRM_CP_REG_CP_MISMATCH:"confirm_cp_reg_cp_mismatch",NO_SUMA_CANDIDATES_AT_CONF_REDIRECT:"no_suma_candidates_at_conf_redirect",NOTIF_CP_REG_CP_MISMATCH:"notif_cp_reg_cp_mismatch",SUMA_REDIRECT_URI_GEN_ENTRY:"suma_redirect_uri_gen_entry",SUMA_REDIRECT_URI_GENERATED:"suma_redirect_uri_generated",NOTIF_APPEND_LINK_CHECK:"notif_append_link_check",CLAIMING_LIMITS_ASSOCIATED_PHONE_UIDS_REG:"claiming_limits_associated_phone_uids_reg",CLAIMING_LIMITS_ASSOCIATED_PHONE_UIDS_CONF:"claiming_limits_associated_phone_uids_conf",AUTO_LOGIN_ATTEMPT:"auto_login_attempt",PHONE_VERIF_COUNT:"phone_verif_count",PHONE_NUMBER_USED_LIMITS_HIT:"phone_number_used_limits_hit"})}),null);
__d("RegLoggerSteps",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({STEP_FORM_LOAD:"form_load",STEP_CLIENT_FORM_LOAD:"client_form_load",STEP_INFO_PREVALIDATION:"info_prevalidation",STEP_INFO_VALIDATION:"info_validation",STEP_EMAIL_CONFIRMATION:"email_confirmation",STEP_FORM_FOCUS:"form_focus",STEP_FORM_POST_LOAD_FOCUS:"postload_focus",STEP_NEXT_BUTTON:"next_button",STEP_BACK_BUTTON:"back_button",STEP_BIRTHDAY_DIALOG_SHOWN:"birthday_dialog_shown",STEP_BIRTHDAY_DIALOG_CONFIRM:"birthday_dialog_confirm",STEP_BIRTHDAY_DIALOG_CANCEL:"birthday_dialog_cancel",STEP_DOMAINS_DROPDOWN_SHOWN:"step_domains_dropdown_shown",STEP_DOMAINS_DROPDOWN_SELECTED:"step_domains_dropdown_selected",STEP_LOGIN_LINK_CLICK:"login_link_click",STEP_PASSWORD_SUGGESTION_CLICK:"password_suggestion_click",STEP_PASSWORD_SUGGESTION_ACCEPT:"password_suggestion_accept",STEP_PASSWORD_SUGGESTION_CHANGE:"password_suggestion_change",STEP_EXIT_DIALOG_SHOWN:"exit_dialog_shown",STEP_EXIT_DIALOG_CANCEL:"exit_dialog_cancel",STEP_CONFIRMED_EXIT:"confirmed_exit",STEP_BLURED_WINDOW:"blured_window",STEP_NAVIGATED_AWAY:"navigated_away",STEP_RETURNED_TO_WINDOW:"returned_to_window",REG_ASSISTANT_SHOWN:"reg_assistant_shown",REG_ASSISTANT_HIDDEN:"reg_assistant_hidden",REG_ASSISTANT_COLLAPSED:"reg_assistant_collapsed",REG_ASSISTANT_BACK_BUTTON:"reg_assistant_back_button",MONONYM_TREATMENT_ON:"mononym_treatment_on",MONONYM_TREATMENT_OFF:"mononym_treatment_off",CONTINUE_WITH_ONE_NAME:"continue_with_one_name"})}),null);
__d("XRegistrationFormLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/reg/log/",{action:{type:"String"},reg_instance:{type:"String"},category:{type:"Enum",enumType:1},type:{type:"Enum",enumType:1},field:{type:"Enum",enumType:1},cp:{type:"String"},ri:{type:"String"}})}),null);
__d("RegistrationLogger",["AsyncSignal","RegistrationClientConfig","XRegistrationFormLoggingController"],(function(a,b,c,d,e,f){__p&&__p();a={bumpInlineValidation:function(a,c,d,e){if(!b("RegistrationClientConfig").logging.enabled)return;c=b("XRegistrationFormLoggingController").getURIBuilder().setEnum("category",b("RegistrationClientConfig").logging.categories.INLINE).setEnum("type",c).setEnum("field",a).setString("reg_instance",d).setString("ri",e).getURI();new(b("AsyncSignal"))(c.toString(),{}).setHandler(this.handleResponse).send()},logFormFocus:function(a,c,d,e){a=b("XRegistrationFormLoggingController").getURIBuilder().setString("action",a).setString("ri",d).setString("reg_instance",c);d=e&&e.get("cp");d!=null&&a.setString("cp",d);new(b("AsyncSignal"))(a.getURI().toString(),{}).setHandler(this.handleResponse).send()},handleResponse:function(a){!a}};e.exports=a}),null);
__d("StepResult",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_STARTED:0,SUCCESS:1,FAILED:2,SKIPPED:3});e.exports=a}),null);
__d("RegistrationValidatorsResult",["RegistrationClientConfig","StepResult"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.isPasswordValid=!1,this.isEmailValid=!1,this.isEmailConfirmationValid=!1,this.isSecondContactpointValid=!1,this.firstInvalidValidator=null}var c=a.prototype;c.addValidation=function(a){__p&&__p();if(a.getFieldName()===b("RegistrationClientConfig").fields.PASSWORD&&a.fieldIsValid())this.isPasswordValid=!0;else if(a.getFieldName()===b("RegistrationClientConfig").fields.EMAIL&&a.fieldIsValid())this.isEmailValid=!0;else if(a.getFieldName()===b("RegistrationClientConfig").fields.EMAIL_CONFIRMATION){var c=a.stepLoggingTypes.indexOf(b("RegistrationClientConfig").logging.types.CONTACTPOINT_INVALID);c!=-1&&a.stepResults[c]===b("StepResult").SUCCESS&&(this.isEmailConfirmationValid=!0)}else a.getFieldName()===b("RegistrationClientConfig").fields.SECOND_CONTACTPOINT&&a.fieldIsValid()&&(this.isSecondContactpointValid=!0);!this.hasInvalidValidator()&&!a.fieldIsValid()&&(this.firstInvalidValidator=a)};c.$1=function(a,b){if(!a||!b)return!1;for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return!0}return!1};c.hasInvalidValidator=function(){return this.firstInvalidValidator!==null};c.getFirstInvalidValidator=function(){return this.firstInvalidValidator};c.isEmailFieldValid=function(){return this.isEmailValid};c.isEmailConfirmationFieldValid=function(){return this.isEmailConfirmationValid};c.isSecondContactpointFieldValid=function(){return this.isSecondContactpointValid};c.isPasswordFieldValid=function(){return this.isPasswordValid};return a}();e.exports=a}),null);
__d("XRecoverInitiateAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/recover/initiate/",{ctx:{type:"String"},c:{type:"String"},r:{type:"String"},ldata:{type:"String"},cid:{type:"Int"},btp:{type:"String"},device_id:{type:"String"},cuid:{type:"String"},recover_method:{type:"String"},reg_instance:{type:"String"},sr:{type:"Bool",defaultValue:!1},sbc:{type:"Bool",defaultValue:!1},rpm:{type:"String"},search_query:{type:"String"},multiple_results:{type:"Bool",defaultValue:!1},fl:{type:"String"},ars:{type:"String"},s:{type:"Int"},social_plugin:{type:"String"},cl:{type:"Bool",defaultValue:!1},wsr:{type:"Bool",defaultValue:!1},ref:{type:"String"},reg_info:{type:"String"},ipw:{type:"Bool",defaultValue:!1},selected_cuid:{type:"String"},redirect_to_full_page_on_captcha:{type:"Bool",defaultValue:!1},openid_provider_name:{type:"String"},cpp:{type:"String"},email:{type:"String"}})}),null);
__d("XRegistrationAttemptLoginController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/registration/maybelogin/",{reg_email__:{type:"String"},reg_email_confirmation__:{type:"String"},reg_second_contactpoint__:{type:"String"},reg_passwd__:{type:"String"}})}),null);
__d("RegistrationController",["cx","fbt","invariant","Promise","Animation","AsyncRequest","CSS","DataStore","DeferredCookie","DOM","DomainDropdownTheme","DomainSearchSource","Event","FBSiteWhiteOps","Focus","Form","GrowthSUMAEvent","GrowthSUMAEventsTypedLogger","HTML","Keys","Menu","MenuItem","PasswordMeterFieldValidator","Popover","PopoverMenu","QE2Logger","Recaptcha","RegistrationClientConfig","RegistrationLogger","RegistrationValidatorsResult","RegLoggerSteps","StickyPlaceholderInput","Style","XRecoverInitiateAsyncController","XRegistrationAttemptLoginController","$","debounceCore","ge","getActiveElement","goURI","guid","promiseDone"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j="ns";a={init:function(a){this.captchaPaneShown=!1,this.errorField=null,this.hasLoggedFocus=!1,this.focusListeners=[],this.regForm=a.regForm,this.logFocusName=a.log_focus_name,this.responseCallback=this.handleResponse,this.tosContainerNode=a.tos_container,this.regPagesMsgNode=a.pages_link,this.captchaButtonsNode=a.captcha_buttons,this.regButton=a.regButton,this.captchaRegButton=a.captchaRegButton,this.asyncStatus=a.async_status,this.captchaAsyncStatus=a.captcha_async_status,this.confirmComponent=a.confirm_component,this.emailComponent=a.email_component,this.secondCPComponent=a.second_cp_component,this.passwordComponent=a.password_component,this.topEmailDomains=a.topEmailDomains,this.noReEnterOnSuggestion=a.noReEnterOnSuggestion,a.persistURI!=null&&(this.persistURI=a.persistURI,this.debouncedSaveRegState=b("debounceCore")(this.saveRegState,1e3,this)),this.savePasswordNode=a.savePasswordNode,this.savePasswordNode?(this.submitFormURI="/login/device-based/regular/register.php",this.savePasswordShown=b("CSS").shown(this.savePasswordNode)):(this.submitFormURI="/ajax/register.php",this.savePasswordShown=!1),this.characterThreshold=a.characterThreshold,this.errorMessageNewDesign=a.errorMessageNewDesign,this.showTooltips=a.show_tooltips,this.confirmContactpointBehavior=a.confirmContactpointBehavior,this.confirmContactpointShown=b("CSS").shown(this.confirmComponent),this.shouldShowConfirmationDialog=!0,this.birthdayConfirmationDialog=a.birthdayConfirmationDialog,this.prefilledBirthday=a.prefilledBirthday,this.blockSubmitForm=!1,this.hideReEnterOnEmail=a.hideReEnterOnEmail,this.inReEnterExperiment=a.inReEnterExperiment,this.initListeners(a.regButton,a.captchaRegButton,a.captchaBackButton,a.no_phone_reg_link,a.password_component),this.childValidators=this.childValidators||[],this.shownFlyout=this.shownFlyout||null,this.noPhoneRegLink=a.no_phone_reg_link,this.allowEmailRegDialog=a.allow_email_reg_dialog,this.hasClickedSubmit=!1,a.payload!=null&&this._handlePayload(a.payload),this.shouldRunBotDetection=a.shouldRunBotDetection},initListeners:function(a,c,d,e,f){__p&&__p();var g=this;this.focusListeners=[b("Event").listen(this.regForm,"click",this.logFormFocus.bind(this)),b("Event").listen(this.regForm,"keypress",this.logFormFocus.bind(this))];b("Event").listen(a,"click",this.didAttemptFormSubmit.bind(this));b("Event").listen(c,"click",this.didAttemptFormSubmit.bind(this));b("Event").listen(d,"click",function(){this.hideCaptcha(),this.showRegistrationPane()}.bind(this));e!==null&&b("Event").listen(e,"click",this.showCanUseEmail.bind(this));if(this.showTooltips){a=Object.keys(b("RegistrationClientConfig").tooltips);a.forEach(function(a){var c=g.getField(b("RegistrationClientConfig").fields[a]);c&&(c.addEventListener("focus",function(){return g.fieldFocusListener(a)}),c.addEventListener("blur",function(){return g.fieldBlurListener(a)}))})}c=this.getField(b("RegistrationClientConfig").fields.EMAIL);if(this.confirmContactpointBehavior!=="hide"){d=this._getConfirmFieldTypeChangeListener();b("Event").listen(c,"change",d);b("Event").listen(c,"keyup",d)}if(this.topEmailDomains&&this.topEmailDomains.length>0){e=this._getTopEmailsSuggestListener(c,this.topEmailDomains);b("Event").listen(c,"keyup",e);b("Event").listen(c,"click",e)}this.birthdayConfirmationDialog.subscribe("confirm",function(){g.shouldShowConfirmationDialog=!1,g.birthdayConfirmationDialog.hide(),g._logAction(b("RegLoggerSteps").STEP_BIRTHDAY_DIALOG_CONFIRM),g.submitForm()});this.birthdayConfirmationDialog.subscribe("cancel",function(){g._logAction(b("RegLoggerSteps").STEP_BIRTHDAY_DIALOG_CANCEL)});if(this.savePasswordNode){a=b("DOM").find(f,"input");d=this._getPasswordInputChangeListener();b("Event").listen(a,"keyup",d)}c=this._getBirthdaySelectors();if(!c)return;b("Event").listen(c.day,"focus",function(){g.shouldShowConfirmationDialog=!1});b("Event").listen(c.month,"focus",function(){g.shouldShowConfirmationDialog=!1});b("Event").listen(c.year,"focus",function(){g.shouldShowConfirmationDialog=!1})},_getDomainsPopoverMenu:function(a){a=new(b("Popover"))(a,a,[],{});var c=new(b("Menu"))([],{theme:b("DomainDropdownTheme")});return new(b("PopoverMenu"))(a,b("DOM").create("div",{className:"hidden_elem","aria-hidden":"true"}),c,[])},_getTopEmailsSuggestListener:function(a,c){__p&&__p();var d=this,e=new(b("DomainSearchSource"))(c),f=this._getDomainsPopoverMenu(a);b("Event").listen(a,"keydown",function(a){b("Event").getKeyCode(a)===b("Keys").TAB&&f.getPopover().hideLayer()});var g="",h=[];f.getPopover().subscribe("show",function(){d.emailDropdownShown||(d._logAction(b("RegLoggerSteps").STEP_DOMAINS_DROPDOWN_SHOWN),d.emailDropdownShown=!0,a.setAttribute("data-pseudo-focused",!0)),b("CSS").addClass(a,"_14f2")});f.getPopover().subscribe("hide",function(){return setTimeout(function(){d.emailDropdownShown&&(d.emailDropdownShown=!1,b("CSS").removeClass(a,"_14f2"),a.removeAttribute("data-pseudo-focused"),b("Event").fire(a,"change"),b("getActiveElement")()!==a&&b("Event").fire(a,"blur"))},0)});var i=function(a){a=b("Event").getKeyCode(a);if(a===b("Keys").ESC)return;h.length>0?(f.getPopover().showLayer(),d.emailDropdownShown=!0,d.noReEnterNeeded=!1,a===b("Keys").DOWN&&f.getMenu().focusAnItem()):f.getPopover().hideLayer()};return function(c){__p&&__p();if(c.target.value===g){i(c);return}e.search(c.target.value,function(e){__p&&__p();e=e.filter(function(b){return b.getTitle()!==a.value});var j=new(b("Menu"))(e.map(function(a){return{ctor:b("MenuItem"),label:a.getTitle(),"data-value":a.getTitle(),selected:!1,title:"",onclick:function(){return!1}}}),{theme:b("DomainDropdownTheme")});f.setMenu(j);j.subscribe("itemclick",function(c,e){c=e.item;d.noReEnterNeeded=d.noReEnterOnSuggestion;a.value=c._data["data-value"];d._logAction(b("RegLoggerSteps").STEP_DOMAINS_DROPDOWN_SELECTED,new Map([["cp",a.value.split("@").map(function(a,b){return b===0?a.length:a}).join("@")]]));b("Focus").set(a)});g=c.target.value;h=e;i(c)})}},_getConfirmFieldTypeChangeListener:function(){var a=this,c=new(b("Animation"))(this.confirmComponent),d=/^(.+)@(.+)\.(.+)$/;b("Style").set(this.confirmComponent,"opacity",1e-5);return function(e){return setTimeout(function(){if(a.emailDropdownShown)return;d.test(e.target.value)?(a.inReEnterExperiment&&b("QE2Logger").logExposureForDatr("registration_www"),!a.noReEnterNeeded&&!a.hideReEnterOnEmail&&!a.confirmContactpointShown&&(a.confirmContactpointShown=!0,a._showWithAnimation(c,a.confirmComponent))):a.confirmContactpointShown&&(a.confirmContactpointShown=!1,a._hideWithAnimation(c,a.confirmComponent))},0)}},_getPasswordInputChangeListener:function(){var a=this,c=new(b("Animation"))(this.savePasswordNode),d=b("DOM").find(this.savePasswordNode,"input");b("Style").set(this.savePasswordNode,"opacity",this.savePasswordShown?1:1e-5);return function(b){b.target.value.length>=a.characterThreshold&&(a.savePasswordShown||(a.savePasswordShown=!0,d.checked=!0,a._showWithAnimation(c,a.savePasswordNode)))}},_showWithAnimation:function(a,c){a.stop().show().duration(100).checkpoint().to("opacity",1).ease(b("Animation").ease.end).duration(200).ondone(function(){b("CSS").addClass(c,"_5-ah")}).go()},_hideWithAnimation:function(a,c){b("CSS").removeClass(c,"_5-ah"),a.stop().to("opacity",1e-5).duration(200).ease(b("Animation").ease.end).checkpoint().duration(100).hide().go()},fieldFocusListener:function(a){a=document.getElementById(b("RegistrationClientConfig").tooltips[a]);b("Style").set(a,"visibility","visible");b("Style").set(a,"opacity","1")},fieldBlurListener:function(a){a=document.getElementById(b("RegistrationClientConfig").tooltips[a]);b("Style").set(a,"visibility","hidden");b("Style").set(a,"opacity","0")},didAttemptFormSubmit:function(){b("DeferredCookie").flushAllCookies(),this.hasClickedSubmit=!0,this.validateForm()},validateForm:function(){__p&&__p();var a=this,c=this.childValidators.map(function(a){return a.runAllValidations()});b("promiseDone")(b("Promise").all(c),function(){return a.submitForm()},function(){var c=new(b("RegistrationValidatorsResult"))();for(var d=0;d<a.childValidators.length;++d){var e=a.childValidators[d];c.addValidation(e)}a._maybeAttemptLogin(c);c.hasInvalidValidator()&&c.getFirstInvalidValidator().focusField()})},_maybeAttemptLogin:function(a){__p&&__p();var c=b("DOM").scry(this.emailComponent,"input");if(this._isAnyArrayEmptyOrNull(c))return;c=c[0];if(!this._shouldExposeLoginWithOnlyCredentials(a,c.value))return;a=b("DOM").scry(this.confirmComponent,"input");var d=b("DOM").scry(this.secondCPComponent,"input"),e=b("DOM").scry(this.passwordComponent,"input");if(this._isAnyArrayEmptyOrNull(a,d,e))return;a=a[0];d=d[0];e=e[0];b("DeferredCookie").flushAllCookies();c=b("XRegistrationAttemptLoginController").getURIBuilder().setString(b("RegistrationClientConfig").fields.EMAIL,c.value).setString(b("RegistrationClientConfig").fields.EMAIL_CONFIRMATION,a.value).setString(b("RegistrationClientConfig").fields.SECOND_CONTACTPOINT,d.value).setString(b("RegistrationClientConfig").fields.PASSWORD,e.value).getURI();new(b("AsyncRequest"))().setURI(c).send()},_isAnyArrayEmptyOrNull:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++){var e=b[d];if(e===null||e.length===0)return!0}return!1},_shouldExposeLoginWithOnlyCredentials:function(a,b){if(!a.isPasswordFieldValid())return!1;if(a.isEmailFieldValid())return!0;if(a.isSecondContactpointFieldValid())return!0;b=b===null||b.trim()==="";return a.isEmailConfirmationFieldValid()&&b||a.isSecondContactpointFieldValid()},_removeFromIgnore:function(a,b){a=a?a.split("|"):[];return a.filter(function(a){return a!==b}).join("|")},_addToIgnore:function(a,b){a=a?a.split("|"):[];return a.filter(function(a){return a!==b}).concat(b).join("|")},_getBirthdaySelectors:function(){__p&&__p();var a=b("DOM").scry(this.regForm,"select",null);if(a.length!==3){this.shouldShowConfirmationDialog=!1;return null}a={day:a.find(function(a){return a.name===b("RegistrationClientConfig").fields.BIRTHDAY_DAY}),month:a.find(function(a){return a.name===b("RegistrationClientConfig").fields.BIRTHDAY_MONTH}),year:a.find(function(a){return a.name===b("RegistrationClientConfig").fields.BIRTHDAY_YEAR})};return a},_maybeShowBirthdayConfirmationDialog:function(){__p&&__p();if(!this.shouldShowConfirmationDialog){this.blockSubmitForm=!1;return}var a=this._getBirthdaySelectors();if(!a){this.blockSubmitForm=!1;return}if(a.day.value!==this.prefilledBirthday.day||a.month.value!==this.prefilledBirthday.month||a.year.value!==this.prefilledBirthday.year){this.blockSubmitForm=!1;return}this.blockSubmitForm=!0;this.birthdayConfirmationDialog.show();this._logAction(b("RegLoggerSteps").STEP_BIRTHDAY_DIALOG_SHOWN);b("QE2Logger").logExposureForDatr("registration_www")},submitForm:function(){__p&&__p();var a=b("Form").serialize(this.regForm);this.hideValidationError();!this.captchaPaneShown?a.ignore=this._addToIgnore(a.ignore,"captcha"):this.disableMarketingButton(this.captchaRegButton);!this.confirmContactpointShown?a.ignore=this._addToIgnore(a.ignore,b("RegistrationClientConfig").fields.EMAIL_CONFIRMATION):a.ignore=this._removeFromIgnore(a.ignore,b("RegistrationClientConfig").fields.EMAIL_CONFIRMATION);(this._actionDialog||this._clickedDismiss)&&(a.action_dialog_shown=!0);this.errorField&&b("ge")(this.errorField)&&b("$")(this.errorField).setAttribute("title","");this._maybeShowBirthdayConfirmationDialog();if(this.blockSubmitForm)return;b("CSS").show(this.asyncStatus);b("CSS").show(this.captchaAsyncStatus);this._disableActionDialog();this.disableMarketingButton(this.regButton);this.regFormSubmitStateFlag=!0;new(b("AsyncRequest"))().setURI(this.submitFormURI).setData(a).setHandler(this.responseCallback.bind(this)).setErrorHandler(this.handleErrorResponse.bind(this)).send();a=b("$")(j);a.value=parseInt(a.value,10)+1},disableMarketingButton:function(a){a.disabled=!0,b("CSS").addClass(a,"_67u")},enableMarketingButton:function(a){a.disabled=!1,b("CSS").removeClass(a,"_67u")},handleErrorResponse:function(a){b("CSS").hide(this.asyncStatus),b("CSS").hide(this.captchaAsyncStatus),this._actionDialog&&this._actionDialog.hide(),this.enableMarketingButton(this.regButton),this.regFormSubmitStateFlag=!1,this.fadeInValidationError()},handleResponse:function(a){b("CSS").hide(this.asyncStatus);b("CSS").hide(this.captchaAsyncStatus);a=a.getPayload();this._handlePayload(a)},_handlePayload:function(a){__p&&__p();if(a.redirect)b("CSS").show(this.captchaAsyncStatus),b("goURI")(a.redirect,!0);else if(a.field_validation_succeeded)this.handleFieldValidationSucceeded(a);else if(a.action_dialog_redirect)b("CSS").show(this.asyncStatus),b("CSS").show(this.captchaAsyncStatus),b("goURI")(a.action_dialog_redirect,!0);else if(a.email_claiming_skip_to_recovery)b("CSS").show(this.asyncStatus),b("CSS").show(this.captchaAsyncStatus);else{this.enableMarketingButton(this.regButton);if(a.bad_captcha)this.regFormSubmitStateFlag=!1,this.handleBadCaptcha(a);else if(a.tooyoung)this.regFormSubmitStateFlag=!1,this.handleTooYoung(a);else if(a.tos_error)this.regFormSubmitStateFlag=!1,this.handleTOSError(a);else if(a.ask_to_login_instead){var c=b("ge")("email");c&&(c.value=a.ask_to_login_instead);c=b("ge")("asked_to_login");c&&(c.value=1)}else a.show_action_dialog||(this.regFormSubmitStateFlag=!1,this.handleValidationError(a))}},handleValidationError:function(a){a.password_meter_hint&&this.enablePasswordMeterValidator();if(this.errorMessageNewDesign)for(var b=0;b<a.error_fields.length;b++){var c=a.error_fields[b],d=a.error_messages[b];this.showErrorMessage(c,d)}else this.showValidationError(a.field,a.error)},showErrorMessage:function(a,c){var d,e;b("CSS").addClass(b("$")("reg_box"),"_1pc-");a==="firstname"||a==="lastname"?(d=b("ge")("fullname_field"),e=b("ge")("fullname_error_msg",d)):(a==="reg_passwd__"?d=b("ge")("password_field"):a==="birthday_wrapper"&&(d=document.getElementsByClassName("_58mq")[0]),e=d.getElementsByClassName("_1pc_")[0]);a=b("DOM").create("div",{className:"_1pd0"},c);b("DOM").setContent(e,a);b("CSS").addClass(a,"_1pd0");c=e.parentElement;b("CSS").addClass(c,"_5634");b("CSS").addClass(c,"_1pd1")},handleBadCaptcha:function(a){this.enableMarketingButton(this.captchaRegButton),b("DOM").setContent(b("$")("outer_captcha_box"),a.xhp),this.showCaptchaPane(),this.showValidationError("captcha_response",a.error)},handleFieldValidationSucceeded:function(a){this.hideValidationError(),this.showCaptchaPane()},handleTooYoung:function(a){b("DOM").setContent(this.regForm,a.xhp)},handleTOSError:function(a){this.showCaptchaPane(),this.enableMarketingButton(this.captchaRegButton),this.showValidationError("captcha_response",a.error)},showActionDialog:function(a,c,d,e,f,g){this._actionDialog=a,this._actionDialogRegisterButton=c,this._actionDialogDisabledRegisterButton=d,this._actionDialogRecoverButton=e,this._actionDialogDisabledRecoverButton=f,this._actionDialogCloseButton=g,this._clickedDismiss=!1,b("Event").listen(this._actionDialogRegisterButton,"click",this._actionDialogOnClickRegisterButton.bind(this)),b("Event").listen(this._actionDialogRecoverButton,"click",this._actionDialogOnClickRecoverButton.bind(this)),b("Event").listen(this._actionDialogCloseButton,"click",this._actionDialogOnClickCloseButton.bind(this)),a.subscribe("hide",this.hideActionDialog.bind(this)),a.subscribe("button",this.didAttemptFormSubmit.bind(this)),a.show()},_actionDialogOnClickRegisterButton:function(){this._disableActionDialog(),new(b("GrowthSUMAEventsTypedLogger"))().setRegInstance(this.getRegInstance()).setEvent(b("GrowthSUMAEvent").SUMA_CHECK_CLICK_CREATE_ACCOUNT).log()},_actionDialogOnClickRecoverButton:function(){this._disableActionDialog(),new(b("GrowthSUMAEventsTypedLogger"))().setRegInstance(this.getRegInstance()).setEvent(b("GrowthSUMAEvent").SUMA_CHECK_CLICK_FIND_ACCOUNT).log()},_actionDialogOnClickCloseButton:function(){this._clickedDismiss=!0,new(b("GrowthSUMAEventsTypedLogger"))().setRegInstance(this.getRegInstance()).setEvent(b("GrowthSUMAEvent").SUMA_CHECK_CLICK_DISMISS).log(),this.didAttemptFormSubmit()},_disableActionDialog:function(){this._actionDialog!=null&&(b("CSS").hide(this._actionDialogRegisterButton),b("CSS").show(this._actionDialogDisabledRegisterButton),b("CSS").hide(this._actionDialogRecoverButton),b("CSS").show(this._actionDialogDisabledRecoverButton)),this.regButton!=null&&this.disableMarketingButton(this.regButton)},hideActionDialog:function(){this._actionDialog=null,this._actionDialogRegisterButton=null,this._actionDialogDisabledRegisterButton=null,this._actionDialogRecoverButton=null,this._actionDialogDisabledRecoverButton=null},doEmailClaimingSkipToRecovery:function(a,c,d){var e="send_email";d||(e="send_sms");d={recover_method:e,selected_cuid:a,ctx:"reg_email_claim",redirect_to_full_page_on_captcha:"1",reg_instance:c};e=b("XRecoverInitiateAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(e).setReadOnly(!1).setMethod("POST").setData(d).setErrorHandler(this.handleSkipToRecoveryResponse.bind(this)).send()},handleSkipToRecoveryResponse:function(a){b("CSS").hide(this.asyncStatus),b("CSS").hide(this.captchaAsyncStatus),this._actionDialog&&this._actionDialog.hide(),this.enableMarketingButton(this.regButton)},showCaptchaPane:function(){__p&&__p();b("CSS").hide(b("$")("reg_form_box"));var a=b("$")("captcha");a=b("DataStore").get(a,"captcha-class","FacebookCaptcha");a=="ReCaptchaCaptcha"&&b("Recaptcha").createCaptcha();b("CSS").show(b("$")("reg_captcha"));b("CSS").show(this.tosContainerNode);this.regPagesMsgNode&&b("CSS").hide(this.regPagesMsgNode);b("CSS").show(this.captchaButtonsNode);try{b("ge")("captcha_response").focus()}catch(a){}this.captchaPaneShown=!0},hideCaptcha:function(){b("ge")("reg_captcha")&&b("CSS").hide(b("$")("reg_captcha")),b("CSS").hide(this.tosContainerNode),b("CSS").hide(this.captchaButtonsNode),this.hideValidationError(),this.captchaPaneShown=!1},enablePasswordMeterValidator:function(){for(var a=0;a<this.childValidators.length;++a){var c=this.childValidators[a];c instanceof b("PasswordMeterFieldValidator")&&c.enableValidator()}},showValidationError:function(a,c){__p&&__p();this.regPagesMsgNode&&b("CSS").hide(this.regPagesMsgNode);this._actionDialog&&this._actionDialog.hide();this.hideValidationError();var d=b("$")("reg_error_inner");a||(a=b("ge")("name")?"name":"firstname");this.errorField=a;try{b("$")(a).setAttribute("title",c.replace(/<.+?>/g,"")),b("$")(a).focus()}catch(a){}b("DOM").setContent(d,b("HTML")(c));this.fadeInValidationError()},fadeInValidationError:function(){var a=b("$")("reg_error");b("Style").set(a,"opacity",0);new(b("Animation"))(a).show().to("height","auto").duration(100).checkpoint().from("opacity",0).to("opacity",1).duration(400).go();b("Focus").set(a)},hideValidationError:function(){b("CSS").shown(b("$")("reg_error"))&&b("Style").getOpacity(b("$")("reg_error"))>0&&b("CSS").hide(b("$")("reg_error"))},showRegistrationPane:function(){b("CSS").show(b("$")("reg_form_box")),this.regPagesMsgNode&&b("CSS").show(this.regPagesMsgNode)},logFormFocus:function(){if(this.hasLoggedFocus)return;var a=this.logFocusName,c=this.regForm.reg_instance&&this.regForm.reg_instance.value;b("RegistrationLogger").logFormFocus(a,c,this.getRegImpressionID());this.hasLoggedFocus=!0;this.focusListeners.forEach(function(a){a.remove()});this.focusListeners=[];this.shouldRunBotDetection&&b("FBSiteWhiteOps").appendToWindow(b("guid")(),"FACEBOOK_LOGIN","REGISTRATION_FOCUS")},_logAction:function(a,c){var d=this.regForm.reg_instance&&this.regForm.reg_instance.value;b("RegistrationLogger").logFormFocus(a,d,c)},getField:function(a){this.regForm||i(0,6255,a);return this.regForm[a]},getRegInstance:function(){var a=this.getField("reg_instance");return a&&a.value},getRegImpressionID:function(){var a=this.getField("ri");return a&&a.value},enrollChildValidator:function(a){this.childValidators=this.childValidators||[],this.childValidators.push(a),a.addListener&&(a.addListener("show",function(a){this.shownFlyout&&this.shownFlyout.hide(),a.show(),this.shownFlyout=a},this),a.addListener("hide",function(a){a.hide()},this),this.debouncedSaveRegState!=null&&a.addListener("validated",this.debouncedSaveRegState))},saveRegState:function(){__p&&__p();if(this.persistURI==null)return;var a={},c=b("Form").serialize(this.regForm),d=new Set([].concat.apply([],this.childValidators.filter(function(a){return!a.isValid}).map(function(a){return a.field.name?[a.field.name]:a.inputs&&a.inputs.map(function(a){return a.name})})));b("RegistrationClientConfig").persisted.forEach(function(b){c[b]&&!d.has(b)&&(a[b]=c[b])});var e=this._getBirthdaySelectors();e.day.value===this.prefilledBirthday.day&&e.month.value===this.prefilledBirthday.month&&e.year.value===this.prefilledBirthday.year&&(delete a[b("RegistrationClientConfig").fields.BIRTHDAY_DAY],delete a[b("RegistrationClientConfig").fields.BIRTHDAY_MONTH],delete a[b("RegistrationClientConfig").fields.BIRTHDAY_YEAR]);new(b("AsyncRequest"))().setURI(this.persistURI).setData(a).send()},showCanUseEmail:function(){var a=this.emailComponent.firstChild.firstChild,c=h._("Mobile number or email address"),d=this.confirmComponent.firstChild.firstChild,e=h._("Re-enter mobile number or email address");b("DOM").remove(this.noPhoneRegLink);b("StickyPlaceholderInput").setPlaceholderText(a,c.toString());b("StickyPlaceholderInput").setPlaceholderText(d,e.toString());this.allowEmailRegDialog!==null&&this.allowEmailRegDialog.show()}};e.exports=a}),null);
__d("RegistrationFieldValidator",["csx","cx","invariant","ContextualDialog","ContextualDialogXUITheme","CSS","Deferred","DOM","DOMQuery","ErrorContextualDialogXUITheme","Event","EventEmitter","Focus","LayerAutoFocus","LayerRefocusOnHide","Parent","RegistrationController","RegistrationLogger","StepResult","getActiveElement","getOrCreateDOMID","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h){__p&&__p();var i;i=a.call(this)||this;i.maybeShowPersistent=function(){b("CSS").conditionClass(i.wrapper,"_5634",!i.isFocused()&&!i.isValid)};i.maybeShowErrorMessage=function(){__p&&__p();if(i.validationType!=="inline_design")return;b("Parent").bySelector(i.wrapper,"._1ixn");var a=null,c=i.wrapper.getElementsByClassName("_1pc_");c.length>=1&&(a=c[0]);if(!a)return;b("DOM").setContent(a,i.errMsg);b("CSS").conditionClass(i.wrapper,"_5634",!i.isValid);b("CSS").conditionClass(i.wrapper,"_1pd1",!i.isValid);b("CSS").conditionClass(i.wrapper,"_32nt",i.isValid)};i.maybeDismissFlyout=function(){i.isValid&&(i.dismissFlyout(),i.field.removeAttribute("aria-invalid"),i.field.removeAttribute("aria-describedby")),i.validationType==="flyout_with_checkmark"&&b("CSS").conditionClass(i.wrapper,"_32nt",i.isValid)};i.wrapper=c;i.field=d;i.position=e;i.fieldType=f;i.inputs=g;i.validationType=h;i.flyout=null;i.hintFlyout=null;i.steps=[];i.stepContexts=[];i.stepMarkups=[];i.stepLoggingTypes=[];i.stepResults=[];i.stepArgs=[];i.isValid=!0;i.errMsg=null;i.hintFlyoutSeen=!1;i.stepCounter=null;i.stepProgress=null;b("RegistrationController").enrollChildValidator(babelHelpers.assertThisInitialized(i));i.addListener("validated",i.maybeShowPersistent,babelHelpers.assertThisInitialized(i));i.addListener("validated",i.maybeShowErrorMessage,babelHelpers.assertThisInitialized(i));i.addListener("validated",i.maybeDismissFlyout,babelHelpers.assertThisInitialized(i));i.setupListenersForField();i.setupListenersForFeedbackIcon("._5dbc");i.setupListenersForFeedbackIcon("._5dbd");return i}var d=c.prototype;d.setupListenersForField=function(){var a=this;b("Event").listen(this.field,"focus",this.dismissPersistent.bind(this));b("Event").listen(this.field,"focus",this.maybeShowFlyout.bind(this));b("Event").listen(this.field,"blur",function(){return!a.isFocused()&&a.dismissFlyout()});b("Event").listen(this.field,"blur",function(){return!a.isFocused()&&a.validateField(0,[])})};d.setupListenersForFeedbackIcon=function(a){a=b("DOMQuery").scry(this.wrapper,a);for(var c=0;c<a.length;c++)b("Event").listen(a[c],"click",this.focusField.bind(this))};d.getField=function(){return this.field};d.getFieldName=function(){return this.field.name};d.getFlyoutContext=function(){return this.field};d.addValidationStep=function(a,c,d,e){this.stepMarkups.push(c),this.stepLoggingTypes.push(a),this.steps.push(d),this.stepResults.push(b("StepResult").NOT_STARTED),this.stepContexts.push(e),this.stepArgs.push(Array.prototype.slice.call(arguments,4))};d.addHintFlyout=function(a){a=a.cloneNode(!0);this.hintFlyout==null?this.hintFlyout=new(b("ContextualDialog"))({context:this.getFlyoutContext(),position:this.position,theme:b("ContextualDialogXUITheme")},a).disableBehavior(b("LayerAutoFocus")).disableBehavior(b("LayerRefocusOnHide")):this.hintFlyout.setContent(a)};d.validateField=function(a,c){__p&&__p();var d=this;if(this.stepCounter===null&&a===0)this.stepProgress===null||i(0,1679),this.errMsg=null,this.stepCounter=0,this.stepProgress=new(b("Deferred"))();else if(this.stepCounter!==null&&this.stepCounter+1===a)this.stepCounter=a;else return;0<=this.stepCounter||i(0,1680);this.stepCounter<=this.steps.length||i(0,1681);this.stepProgress!==null||i(0,1682);if(this.stepCounter<this.steps.length){a=this.stepCounter;if(c.indexOf(this.stepLoggingTypes[a])>=0)this.stepResults[a]=b("StepResult").SKIPPED,this.validateField(a+1,c);else{var e=this.steps[a].apply(this.stepContexts[a],[this.getField()].concat(this.stepArgs[a]));b("promiseDone")(e instanceof b("Deferred")?e.getPromise():e,function(){d.stepResults[a]=b("StepResult").SUCCESS,d.validateField(a+1,c)},function(){d.stepResults[a]=b("StepResult").FAILED,d.$RegistrationFieldValidator1()});this.errMsg=this.stepMarkups[this.stepCounter].cloneNode(!0)}}else this.isValid=!0,this.emit("validated",!0),this.stepProgress.resolve(),this.stepCounter=null,this.stepProgress=null};d.$RegistrationFieldValidator1=function(a){__p&&__p();this.isValid=!1;a=this.stepMarkups[this.stepCounter].cloneNode(!0);var c=this.stepLoggingTypes[this.stepCounter];!this.flyout?this.flyout=new(b("ContextualDialog"))({context:this.getFlyoutContext(),position:this.position,theme:b("ErrorContextualDialogXUITheme")},a).disableBehavior(b("LayerAutoFocus")).disableBehavior(b("LayerRefocusOnHide")):this.flyout.setInnerContent(a);this.stepCounter=null;this.emit("validated",!1);this.stepProgress.reject();this.stepProgress=null;var d=b("RegistrationController").getRegInstance();b("RegistrationLogger").bumpInlineValidation(this.getFieldName(),c,d,b("RegistrationController").getRegImpressionID());this.field.setAttribute("aria-describedby",b("getOrCreateDOMID")(a))};d.runAllValidations=function(){this.validateField(0,[]);return this.stepProgress.getPromise()};d.isFocused=function(){return b("getActiveElement")()===this.field||!!this.field.getAttribute("data-pseudo-focused")};d.focusField=function(){b("Focus").set(this.field)};d.fieldIsValid=function(){return this.isValid};d.maybeShowFlyout=function(){this.validationType!=="inline_design"&&this.isFocused()&&(this.isValid?this.hintFlyout&&!this.hintFlyoutSeen&&(this.hintFlyoutSeen=!0,this.emit("show",this.hintFlyout)):(this.flyout||i(0,1683),this.emit("show",this.flyout),this.field.setAttribute("aria-invalid","true")))};d.dismissPersistent=function(){var a=b("Parent").bySelector(this.wrapper,"._1ixn");a&&b("CSS").removeClass(a,"_5634");b("CSS").removeClass(this.wrapper,"_5634")};d.dismissFlyout=function(){this.flyout&&this.emit("hide",this.flyout),this.hintFlyout&&this.emit("hide",this.hintFlyout)};return c}(b("EventEmitter"));e.exports=a}),null);
__d("RegistrationGenderPronounWarning",["fbt","CSS","DOM","Event","GenderConst","RegistrationClientConfig","UsernameFormatToken"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j="",k="";function l(){if(!h)return;var a=i.replace(b("UsernameFormatToken").FIRST,j).replace(b("UsernameFormatToken").LAST,k).trim();a.length?a=g._("Others will see your pronoun as \"they\". For example, \"It's {name}'s birthday. Wish them a happy birthday!\"",[g._param("name",a)]):a=g._("Others will see your pronoun as \"they\". For example, \"It's their birthday. Wish them a happy birthday!\"");b("DOM").setContent(h,a)}a={registerSelector:function(a,c,d){h=c,i=d,l(),b("Event").listen(a,"change",function(){l(),b("CSS").conditionShow(c,a.value===""+b("GenderConst").NEUTER_SINGULAR)})},registerNameInput:function(a,c){b("Event").listen(c,"input",function(){a===b("RegistrationClientConfig").fields.FIRSTNAME?j=c.value:a===b("RegistrationClientConfig").fields.LASTNAME&&(k=c.value),l()})}};e.exports=a}),null);