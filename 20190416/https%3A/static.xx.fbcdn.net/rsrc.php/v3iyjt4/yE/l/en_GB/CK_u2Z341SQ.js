if (self.CavalryLogger) { CavalryLogger.start_js(["QjPW5"]); }

__d("XAdsExperienceGroupCreationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/experience/create_group/",{adgroup_ids:{type:"IntVector"}})}),null);
__d("AdsExperienceGroupedDataManager",["regeneratorRuntime","AsyncRequest","XAdsExperienceGroupCreationController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={genGroupedData:function(a){__p&&__p();var c,d,e,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:c=b("XAdsExperienceGroupCreationController").getURIBuilder().setIntVector("adgroup_ids",a).getURI();g.next=3;return b("regeneratorRuntime").awrap(new(b("AsyncRequest"))(c).exec());case 3:d=g.sent;e=d.payload.grouped_experience_id;f=d.payload.experiences.map(function(a){return{adgroupID:a.adgroup_id,experienceID:a.experience_id,shareStatus:a.is_active,shareURL:a.share_ad_url}});return g.abrupt("return",{groupedExperienceID:e,experiences:f});case 7:case"end":return g.stop()}},null,this)}};e.exports=a}),null);
__d("AdsExperienceUtils",[],(function(a,b,c,d,e,f){"use strict";var g=",";a={serializeGroupKey:function(a){return a.join(g)},deserializeGroupKey:function(a){return a.split(g)}};e.exports=a}),null);
__d("AdsExperienceGroupShareDataProviderPlugin",["AdsExperienceGroupedDataManager","AdsExperienceUtils","LoadObjectMap","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsExperienceUtils").deserializeGroupKey;function h(a,b){a(function(a){return a.merge(b.groupedDataSet)})}a={initialState:function(a){return b("LoadObjectMap").create(function(c){b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(a){return b("AdsExperienceGroupedDataManager").genGroupedData(g(a))}),function(b){h(a,{groupedDataSet:b})})})}};e.exports=a}),null);
__d("AdsExperienceGroupShareDataProvider",["Laminar","AdsExperienceGroupShareDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsExperienceGroupShareDataProviderPlugin"),"AdsExperienceGroupShareDataProviderPlugin")}),null);
__d("AdsExperienceShareDataProvider",["Laminar","AdsExperienceShareDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsExperienceShareDataProviderPlugin"),"AdsExperienceShareDataProviderPlugin")}),null);
__d("AdsExperienceInitializeShareReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.update(b.adgroupID,function(a){if(b.toggleSharingError===!0)return a.setValue(babelHelpers["extends"]({},a.getValue(),{toggleSharingError:!0}));return b.shareStatus!=null?a.setValue(babelHelpers["extends"]({},a.getValue(),{shareStatus:b.shareStatus})):a})}};e.exports=a}),null);
__d("AdsExperienceToggleShareStatusAction",["Laminar","AdsExperienceInitializeShareReducerPlugin","AdsExperienceShareDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsExperienceInitializeShareReducerPlugin"),b("AdsExperienceShareDataProvider"),{})]},function(){return[]},"ADS_EXPERIENCE.TOGGLE_SHARE_STATUS");e.exports=a}),null);
__d("XAdsExperienceShareDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/experience/share-dialog/",{adgroup_id:{type:"Int",required:!0}})}),null);
__d("XAdsExperienceToggleSharingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/experience/toggle-status/",{adgroup_id:{type:"Int",required:!0}})}),null);
__d("AdsExperienceDataManager",["Promise","AdsExperienceToggleShareStatusAction","AsyncRequest","XAdsExperienceShareDialogController","XAdsExperienceToggleSharingController","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.genShareData=function(a){var c=b("XAdsExperienceShareDialogController").getURIBuilder().setInt("adgroup_id",a).getURI();return new(b("AsyncRequest"))(c).exec().then(function(b){var c=b.payload.experience_id,d=b.payload.share_ad_url;b=b.payload.ads_experience_status;return{adgroupID:a,experienceID:c,shareStatus:b,shareURL:d}})};c.genToggleSharing=function(a){a=b("XAdsExperienceToggleSharingController").getURIBuilder().setInt("adgroup_id",a).getURI();return new(b("AsyncRequest"))(a).exec().then(function(a){if(a.payload.error)return b("Promise").reject(a.payload.error);else return a.payload.ads_experience_status})};c.toggleAdsExperienceStatus=function(a){b("promiseDone")(this.genToggleSharing(a)["catch"](function(c){return b("AdsExperienceToggleShareStatusAction").dispatch({adgroupID:a,toggleSharingError:c},{line:"50",module:"AdsExperienceDataManager.js"})}),function(c){return b("AdsExperienceToggleShareStatusAction").dispatch({adgroupID:a,shareStatus:c},{line:"56",module:"AdsExperienceDataManager.js"})})};return a}();e.exports=new a()}),null);
__d("AdsExperienceShareDataProviderPlugin",["AdsExperienceDataManager","LoadObjectMap","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";function g(a,b){a(function(a){return a.merge(b.adgroups)})}a={initialState:function(a){return b("LoadObjectMap").create(function(c){b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,b("AdsExperienceDataManager").genShareData),function(b){return g(a,{adgroups:b})})})}};e.exports=a}),null);
__d("AdsImageUploadUploadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.UPLOAD_SUCCESS"}}),null);
__d("FBCarouselArrow.react",["ix","cx","xuiglyph","CenteredContainer.react","Image.react","Locale","React","joinClasses"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=g("88862"),c=g("88874");if(b("Locale").isRTL()){var e=[c,a];a=e[0];c=e[1]}return d.props.direction==="forward"?c:a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("joinClasses")(this.props.className,"_10sf"+(this.props.fullBleed?" _5x5-":"")+(this.props.direction==="forward"?" _5x5_":"")+(this.props.direction==="backward"?" _5x60":""));return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:a}),b("React").createElement(b("CenteredContainer.react"),{className:"_5x6d",vertical:!0},b("React").createElement(b("Image.react"),{className:"_3-8w",src:this.$1()})))};return c}(b("React").Component);c.propTypes={direction:a.oneOf(["forward","backward"]).isRequired,fullBleed:a.bool};e.exports=c}),null);
__d("AdsArrowedContainer.react",["cx","invariant","FBCarouselArrow.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.$1("left"),c=this.$1("right");a=this.$2("left",a);c=this.$2("right",c);return b("React").createElement(b("FBOverlayContainer.react"),this.props,b("React").createElement(b("FBOverlayBase.react"),null,this.props.children),a,c)};d.$1=function(a){__p&&__p();var c,d;switch(a){case"left":c=this.props.onDecrement!==null;d=this.props.onDecrement;break;case"right":c=this.props.onIncrement!==null;d=this.props.onIncrement;break;default:h(0,6086,a)}return!c?null:b("React").createElement(b("Link.react"),{className:this.props.isArrowCentered?"":"_3-8z",onClick:d},b("React").createElement(b("FBCarouselArrow.react"),{direction:a==="left"?"backward":"forward",fullBleed:a==="left"}))};d.$2=function(a,c){if(c!=null)if(this.props.isArrowCentered)return b("React").createElement(b("FBOverlayElement.react"),{horizontal:a,vertical:"middle"},c);else return b("React").createElement(b("FBOverlayElement.react"),{horizontal:a},c);return null};return c}(b("React").Component);a.defaultProps={isArrowCentered:!1};e.exports=a}),null);
__d("AdsCarousel.react",["cx","FlexLayout.react","Locale","React","ReactDOM","ResponsiveBlock.react","clamp","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={computedOffset:0},c.$5=function(a,b){c.$1(c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1(this.props.index)};d.componentDidUpdate=function(){this.$1(this.props.index)};d.$1=function(a){__p&&__p();if(!b("ReactDOM").findDOMNode(this))return;var c=b("ReactDOM").findDOMNode(this).offsetWidth,d=b("ReactDOM").findDOMNode(this.refs.inner).offsetWidth;d=Math.max(d-c,0);c=0;for(var e=0;e<a&&c<d;e++){var f=this.$2(e);f&&(c+=f.offsetWidth)}c=b("clamp")(c,0,d);if(c!==this.state.computedOffset)this.setState({computedOffset:c});else{f=this.props.onUpdated;f&&f(this.$3())}};d.$4=function(a){var b=0;for(var c=0;c<a;c++){var d=this.$2(c);d&&(b+=d.offsetWidth)}return b};d.$2=function(a){a=this.refs["child_"+a];return a?b("ReactDOM").findDOMNode(a):null};d.render=function(){var a=b("React").Children.map(this.props.children,function(a,c){return b("React").createElement("div",{className:"_2zgz",key:c,ref:"child_"+c},a)}),c=null;if(this.state.computedOffset){var d=String(-this.state.computedOffset)+"px";c=b("Locale").isRTL()?{right:d}:{left:d}}return b("React").createElement(b("ResponsiveBlock.react"),{onResize:this.$5},b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_a28")}),b("React").createElement("div",{className:"_a2e",ref:"inner",style:c},this.props.itemsFillHeight?b("React").createElement(b("FlexLayout.react"),{align:"stretch",direction:"horizontal"},a):a)))};d.$3=function(){__p&&__p();var a=this.state.computedOffset+b("ReactDOM").findDOMNode(this).offsetWidth,c=this.$4(this.props.index),d=0,e=this.props.index,f=null;while(f=this.$2(e++))if(b("Locale").isRTL())if(c+f.offsetWidth<=a)d++,c+=f.offsetWidth;else break;else if(f.offsetLeft+f.offsetWidth<=a)d++;else break;return d};return c}(b("React").Component);c.propTypes={index:a.number.isRequired,itemsFillHeight:a.bool,onUpdated:a.func};c.defaultProps={onUpdated:b("emptyFunction"),itemsFillHeight:!1};e.exports=c}),null);
__d("AdsArrowedCarouselEnhanced.react",["AdsArrowedContainer.react","AdsCarousel.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={firstVisibleIndex:0,visibleChildrenCount:0},c.$5=function(){var a=c.$4();c.setState({firstVisibleIndex:c.state.firstVisibleIndex-a})},c.$6=function(){var a=c.$3();c.setState({firstVisibleIndex:c.state.firstVisibleIndex+a})},c.$7=function(a){c.setState({visibleChildrenCount:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();if(!a.currentSelectedShouldVisible)return;a=a.currentSelectedIndex;if(this.$1(a))this.setState({firstVisibleIndex:a});else if(this.$2(a)){var b=this.state.firstVisibleIndex+this.state.visibleChildrenCount-1;a=a-b;this.setState({firstVisibleIndex:this.state.firstVisibleIndex+a})}};d.$1=function(a){return a<this.state.firstVisibleIndex};d.$2=function(a){var b=this.state.firstVisibleIndex+this.state.visibleChildrenCount-1;return a>b};d.render=function(){var a=this.$3(),c=this.$4();return b("React").createElement(b("AdsArrowedContainer.react"),babelHelpers["extends"]({},this.props,{isArrowCentered:!0,onDecrement:c?this.$5:null,onIncrement:a?this.$6:null}),b("React").createElement(b("AdsCarousel.react"),{index:this.state.firstVisibleIndex,onUpdated:this.$7},this.props.children))};d.$3=function(){var a=this.state.visibleChildrenCount;a=b("React").Children.count(this.props.children)-this.state.firstVisibleIndex-a;return a<=0?0:Math.min(a,this.props.maxChangeAmount||1)};d.$4=function(){return Math.min(this.state.firstVisibleIndex,this.props.maxChangeAmount||1)};return c}(b("React").PureComponent);c.propTypes={currentSelectedIndex:a.number,currentSelectedShouldVisible:a.bool,maxChangeAmount:a.number};c.defaultProps={currentSelectedIndex:0,currentSelectedShouldVisible:!1,maxChangeAmount:1};e.exports=c}),null);
__d("AdsPreviewSharingMenuItem.react",["cx","React","SUIBusinessTheme","SUIGlyphIcon.react","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.link.href==null&&a.preventDefault(),c.props.onClick(c.props.link)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.link;return b("React").createElement("a",{className:"_10jy",href:a.href!=null&&a.href!==""?a.href:"#",target:"_blank",onClick:this.$1},b("React").createElement("div",{className:"_10jz"},b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:a.icon})),b("React").createElement("div",{className:"_10j-"},b("React").createElement(b("SUIText.react"),{shade:"medium",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},a.title)))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ProjectJunctionCopy",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={PROJECT_IDENTIFIER:"Project: Junction",ACTION_PANEL_TITLE:g._("Share previews"),ACTION_PANEL_FOLD_BUTTON:g._("Fold Sharing Pane"),ACTION_SHARE_ALL:g._("Share all selected ads"),ACTION_SHARE_INDIVIDUAL:g._("Share individual ad links"),ADGROUP_PREVIEW_EMPTY_ITEM:"Placement incompatible with this ad",ADGROUP_PREVIEW_UNPUBLISHED_CHANGES:"This preview doesn't include unpublished changes",AGGREGATE_OPEN_LINK:g._("Open link in new tab"),DIALOG_TITLE:function(a){return g._({"*":"Previewing {number} ads","_1":"Previewing ad"},[g._plural(a,"number")])},ACTION_SHARE_ALL_TOOLTIP:g._("Tooltip placeholder"),ACTION_SHARE_INDIVIDUAL_TOOLTIP:g._("Tooltip placeholder"),MINI_UI_AGGEREGATE_LINK_COPY_BUTTON:g._("Copy"),MINI_UI_COPY_INDIVIDUAL_LINKS_BUTTON:g._("Copy links to clipboard"),MINI_UI_DOWNLOAD_BUTTON:g._("Download links as CSV"),SHARE_BUTTON_ENTRYPOINT:"Share",SHARE_BUTTON_DISABLED_TOOLTIP:"Select at least one non-draft ad to share.",DOWNLOAD_ROW_HEADERS:["Ad name","Share link"],DOWNLOAD_BUTTON:"Download",DOWNLOAD_FILENAME:"adlinks.csv",TOOLBAR_BUTTON_NAME_TABLEVIEW:"Table",TOOLBAR_BUTTON_NAME_GRIDVIEW:"Grid",TOOLBAR_BUTTON_NAME_SHAREPANE:"Share"};e.exports=a}),null);
__d("XAdsExperienceViewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/experience/view/",{experience_id:{type:"FBID"},group_id:{type:"FBID"}})}),null);
__d("JunctionAggregateLinkContainer.react",["cx","AdsExperienceGroupShareDataProvider","AdsExperienceUtils","FBClipboardLink.react","FluxContainer","PlaceholderBlockText.react","ProjectJunctionCopy","React","SUIButton.react","SUILink.react","SUITextInput.react","XAdsExperienceViewController","adsCreateStructuredSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsExperienceUtils").serializeGroupKey,i=b("adsCreateStructuredSelector")({shareDataState:b("AdsExperienceGroupShareDataProvider").toFluxSelector()},e.id+".stateSelector");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[].concat(i.getStores())};c.calculateState=function(a,b){a=b.previewItems.keySeq().toArray();b=i().shareDataState.get(h(a)).map(function(a){return a.groupedExperienceID});return{groupedExperienceID:b}};var d=c.prototype;d.render=function(){if(this.state.groupedExperienceID.isLoading())return b("React").createElement("div",null,b("React").createElement(b("PlaceholderBlockText.react"),null));if(!this.state.groupedExperienceID.hasValue())return null;var a=b("XAdsExperienceViewController").getURIBuilder().setFBID("group_id",this.state.groupedExperienceID.getValueEnforcing().toString()).getURI().getQualifiedURI().toString();return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_4n7c"},b("React").createElement("div",{className:"_4n7i"},b("React").createElement(b("SUITextInput.react"),{disabled:!0,value:a,width:186}),b("React").createElement("div",{className:"_4n7m"},b("React").createElement(b("FBClipboardLink.react"),{value:a},b("React").createElement(b("SUIButton.react"),{label:b("ProjectJunctionCopy").MINI_UI_AGGEREGATE_LINK_COPY_BUTTON}))))),b("React").createElement(b("SUILink.react"),{href:a,target:"_blank"},b("ProjectJunctionCopy").AGGREGATE_OPEN_LINK))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("JunctionUtils",["invariant","AdsAccountUtils","AdsLoadStateUtils_LEGACY","LoadObject","ProjectJunctionCopy","XAdsExperienceViewController","flattenArray","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("gkx")("677986");function a(a){return h||b("AdsAccountUtils").hasCapabilityFromList(a,"CAN_USE_PREVIEW_SHARING")}function c(a,c){c=c(a);if(!b("AdsLoadStateUtils_LEGACY").allLoaded(c))return b("LoadObject").loading();a=b("flattenArray")(Array.from(c.values(),function(a){return a.list}));return b("LoadObject").withValue(a)}function d(a,c){__p&&__p();var d=new Map();c.forEach(function(a){return d.set(a.id,a)});c=a.map(function(a){var b=d.get(a.adgroupID);a=i(a.experienceID);b||g(0,5356);return[b.name,a]}).filter(Boolean);a=b("ProjectJunctionCopy").DOWNLOAD_ROW_HEADERS;return{headers:a,rows:c}}function f(a,b){a=[a.join(",")].concat(b.map(function(a){return a.join(",")}));b=new Blob([a.join("\n")],{type:"text/plain"});return b&&URL.createObjectURL?URL.createObjectURL(b):null}function i(a){return b("XAdsExperienceViewController").getURIBuilder().setFBID("experience_id",a).getURI().getQualifiedURI().toString()}e.exports={canUsePreviewSharing:a,getChildrenIDs:c,getCSVDownloadURL:f,getRowData:d,getSingleExperienceViewURL:i}}),null);
__d("JunctionShareCopyBulkContainer.react",["AdsExperienceShareDataProvider","AdsLoadObjectUtils","FBClipboardLink.react","FluxContainer","JunctionUtils","PlaceholderBlockText.react","ProjectJunctionCopy","React","SUIButton.react","adsCreateStructuredSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("JunctionUtils").getSingleExperienceViewURL,h=b("adsCreateStructuredSelector")({shareDataState:b("AdsExperienceShareDataProvider").toFluxSelector()},e.id+".stateSelector");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[].concat(h.getStores())};c.calculateState=function(a,c){a=b("AdsLoadObjectUtils").all(c.previewItems.keySeq().map(function(a){return h().shareDataState.get(a)})).map(function(a){return a.map(function(a){return g(a.experienceID)}).join(", ")});return{shareURL:a}};var d=c.prototype;d.render=function(){if(this.state.shareURL.isLoading())return b("React").createElement("div",null,b("React").createElement(b("PlaceholderBlockText.react"),null));if(!this.state.shareURL.hasValue())return null;var a=this.state.shareURL.getValueEnforcing();return b("React").createElement(b("FBClipboardLink.react"),{value:a},b("React").createElement(b("SUIButton.react"),{label:b("ProjectJunctionCopy").MINI_UI_COPY_INDIVIDUAL_LINKS_BUTTON}))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("JunctionShareDownloadBulkContainer.react",["AdsExperienceShareDataProvider","AdsLoadObjectUtils","FluxContainer","JunctionUtils","LoadObject","PlaceholderBlockText.react","ProjectJunctionCopy","React","SUIButton.react","SUILink.react","adsCreateStructuredSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("adsCreateStructuredSelector")({shareDataState:b("AdsExperienceShareDataProvider").toFluxSelector()},e.id+".stateSelector");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[].concat(g.getStores())};c.calculateState=function(a,c){__p&&__p();a=b("LoadObject").loading();var d=g().shareDataState;c=c.previewItems.valueSeq();var e=b("AdsLoadObjectUtils").all(c.map(function(a){return d.get(a.adgroup.id)}).toArray());if(e.hasValue()){e=e.getValueEnforcing();c=c.map(function(a){return a.adgroup});e=b("JunctionUtils").getRowData(e,c);c=e.headers;e=e.rows;a=b("LoadObject").withValue(b("JunctionUtils").getCSVDownloadURL(c,e))}return{shareURL:a}};var d=c.prototype;d.render=function(){if(this.state.shareURL.isLoading())return b("React").createElement("div",null,b("React").createElement(b("PlaceholderBlockText.react"),null));if(!this.state.shareURL.hasValue())return null;var a=this.state.shareURL.getValueEnforcing();return a==null?null:b("React").createElement(b("SUILink.react"),{download:b("ProjectJunctionCopy").DOWNLOAD_FILENAME,href:a,target:"_blank"},b("React").createElement(b("SUIButton.react"),{label:b("ProjectJunctionCopy").MINI_UI_DOWNLOAD_BUTTON}))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("JunctionShareCommonSection.react",["cx","AdsLabeledField.react","JunctionAggregateLinkContainer.react","JunctionShareCopyBulkContainer.react","JunctionShareDownloadBulkContainer.react","ProjectJunctionCopy","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_66tu"},b("React").createElement("div",{className:"_4n7c"},b("React").createElement(b("AdsLabeledField.react"),{className:"_66tv",helpText:b("ProjectJunctionCopy").ACTION_SHARE_ALL_TOOLTIP,label:b("React").createElement("div",{className:"_66tw"},b("ProjectJunctionCopy").ACTION_SHARE_ALL)})),b("React").createElement(b("JunctionAggregateLinkContainer.react"),{previewItems:a.previewItems})),b("React").createElement("div",{className:"_66tx"},b("React").createElement(b("AdsLabeledField.react"),{className:"_66tv",helpText:b("ProjectJunctionCopy").ACTION_SHARE_INDIVIDUAL_TOOLTIP,label:b("React").createElement("div",{className:"_66tw"},b("ProjectJunctionCopy").ACTION_SHARE_INDIVIDUAL)})),b("React").createElement("div",{className:"_66tx"},b("React").createElement(b("JunctionShareCopyBulkContainer.react"),{previewItems:a.previewItems})),b("React").createElement("div",{className:"_66tx"},b("React").createElement(b("JunctionShareDownloadBulkContainer.react"),{previewItems:a.previewItems})))}e.exports=a}),null);
__d("JunctionMiniDialog.react",["cx","AccessibleLayer","ContextualLayerHideOnScroll","FDSSpinner.react","JunctionShareCommonSection.react","LayerFadeOnHide","LayerFadeOnShow","LayerFitHeightToScreen","LayerHideOnBlur","LayerHideOnEscape","ProjectJunctionCopy","React","XUIContextualDialog.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){var c=a.isShown,d=a.onGetButtonRef;a=a.onToggle;return b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",behaviors:{AccessibleLayer:b("AccessibleLayer"),ContextualLayerHideOnScroll:b("ContextualLayerHideOnScroll"),LayerHideOnTransition:!1,LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerFitHeightToScreen:b("LayerFitHeightToScreen")},contextRef:d,key:b("ProjectJunctionCopy").PROJECT_IDENTIFIER,label:b("ProjectJunctionCopy").PROJECT_IDENTIFIER,position:"below",shown:c,width:b("XUIContextualDialog.react").WIDTH.NORMAL,onToggle:a},b("React").createElement(b("FDSSpinner.react"),null))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(!this.props.previewItemsLO.hasValue())return b("React").createElement(h,{isShown:this.props.isShown,onGetButtonRef:this.props.onGetButtonRef,onToggle:this.props.onToggle});var a=this.props.previewItemsLO.getValueEnforcing();return b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",behaviors:{AccessibleLayer:b("AccessibleLayer"),ContextualLayerHideOnScroll:b("ContextualLayerHideOnScroll"),LayerHideOnTransition:!1,LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerFitHeightToScreen:b("LayerFitHeightToScreen")},contextRef:this.props.onGetButtonRef,key:b("ProjectJunctionCopy").PROJECT_IDENTIFIER,label:b("ProjectJunctionCopy").PROJECT_IDENTIFIER,position:"below",shown:this.props.isShown,width:280,onToggle:this.props.onToggle},b("React").createElement("div",{className:"_3e9j"},b("React").createElement(b("JunctionShareCommonSection.react"),{previewItems:a})))};return c}(b("React").Component);e.exports=a}),null);
__d("JunctionMiniDialogContainer.react",["AdsAccountStore","AdsAdObjectStores","AdsEditingAdgroupEditorContext","AdsLoadObjectUtils","FluxContainer","JunctionMiniDialog.react","React","adsUEditorSelectedAdgroupIDsSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdObjectStores").AdsAdgroupCombinedStore,h=b("AdsAdObjectStores").AdsCampaignCombinedStore,i=b("AdsAdObjectStores").AdsCampaignGroupCombinedStore,j=[];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[].concat(b("adsUEditorSelectedAdgroupIDsSelector").getStores(b("AdsEditingAdgroupEditorContext")),[b("AdsAccountStore"),g,h,i])};c.calculateState=function(a,c){__p&&__p();a=c.isShown?b("adsUEditorSelectedAdgroupIDsSelector")(b("AdsEditingAdgroupEditorContext")):j;c=a.map(function(a){var c=g.getRecord(a),d=c.map(function(a){return h.getRecord(a.adset_id)}),e=c.map(function(a){return i.getRecord(a.campaign_id)});c=b("immutable").Map({adgroup:c,campaign:d,campaignGroup:e});return[a,b("AdsLoadObjectUtils").allByKey(c)]});a=b("AdsLoadObjectUtils").allByKey(b("immutable").Map(c)).map(function(a){return a.map(function(a){return a.toJS()})});return{previewItems:a}};var d=c.prototype;d.render=function(){return!this.props.isShown?null:b("React").createElement(b("JunctionMiniDialog.react"),{isShown:this.props.isShown,previewItemsLO:this.state.previewItems,onGetButtonRef:this.props.onGetButtonRef,onToggle:this.props.onToggle})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("JunctionMiniDialogButton.react",["JunctionMiniDialogContainer.react","ProjectJunctionCopy","React","SUIButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isDialogShown:!1},c.$1=function(){var a=!c.state.isDialogShown;c.$3(a)},c.$3=function(a){c.setState({isDialogShown:a})},c.$2=function(){return c.refs.button},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIButton.react"),{label:b("ProjectJunctionCopy").SHARE_BUTTON_ENTRYPOINT,ref:"button",onClick:this.$1}),b("React").createElement(b("JunctionMiniDialogContainer.react"),{isShown:this.state.isDialogShown,onGetButtonRef:this.$2,onToggle:this.$3}))};return c}(b("React").Component);e.exports=a}),null);
__d("JunctionMiniDialogButtonContainer.react",["JunctionMiniDialogButton.react","JunctionUtils","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return!b("JunctionUtils").canUsePreviewSharing(this.props.accountCapabilities)?null:b("React").createElement(b("JunctionMiniDialogButton.react"),null)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsPreviewSharingMenu.react",["ix","cx","fbt","invariant","AccessibleLayer","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsPreviewSharingMenuItem.react","ContextualLayerHideOnScroll","FDSButton.react","JunctionMiniDialogButtonContainer.react","LayerFadeOnHide","LayerFadeOnShow","LayerFitHeightToScreen","LayerHideOnBlur","LayerHideOnEscape","React","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUIGlyphIcon.react","SUIText.react","Tooltip.react","XUIContextualDialog.react","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("AdsInterfacesLogEvents").Event,l=["share","device","permalink","facebook","messenger","fbonly"],m={share:i._("Share previews"),device:i._("Preview on device"),permalink:i._("See post"),facebook:i._("View on Facebook"),messenger:i._("View on Messenger"),fbonly:i._("FB-only")};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$2=function(){return c.refs.button};c.$4=function(a){var d;b("AdsInterfacesLogger").log({eventName:k.ADGROUP_PREVIEW_OPTIONS_SELECT_ITEM,data:(d={},d.event_source=c.props.loggingContext,d.sub_event=a.logsafeName,d)});a.onClick&&a.onClick();c.$3(!1)};c.$3=function(a){c.setState({visible:a})};c.$1=function(){var a=!c.state.visible;c.$3(a);if(a){b("AdsInterfacesLogger").log({eventName:k.ADGROUP_PREVIEW_OPTIONS_DROPDOWN_OPENED,data:(a={},a.event_source=c.props.loggingContext,a)})}};c.state={visible:!1};return c}var d=c.prototype;d.render=function(){var a=i._("Share Previews");a=this.props.labelText?this.props.labelText:a;a=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{disabled:this.props.disabled,srcDefault:g("401034"),srcDisabled:g("401035")}),isDisabled:this.props.disabled,label:a,labelIsHidden:!this.props.showLabel,ref:"button",use:"default",onClick:this.$1});var c=b("React").createElement(b("JunctionMiniDialogButtonContainer.react"),{accountCapabilities:this.props.accountCapabilities});a=this.props.disabled?b("React").createElement(b("Tooltip.react"),{alignH:"right",display:"block",position:this.props.dialogPosition||"below",tooltip:this.props.disabledMessage},b("React").createElement("span",null,a,c)):b("React").createElement("span",null,a,c);this.props.disabled||(this.props.links!=null||j(0,2423));c=this.props.disabled?null:b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",behaviors:{AccessibleLayer:b("AccessibleLayer"),ContextualLayerHideOnScroll:b("ContextualLayerHideOnScroll"),LayerHideOnTransition:!1,LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerFitHeightToScreen:b("LayerFitHeightToScreen")},contextRef:this.$2,key:"contextualDialog",position:this.props.dialogPosition||"below",shown:this.state.visible,width:b("XUIContextualDialog.react").WIDTH.NORMAL,onToggle:this.$3},b("React").createElement("div",{className:"_1ji1"},b("React").createElement(o,{links:b("nullthrows")(this.props.links),onMenuItemClick:this.$4})));return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("span",null,a,c))};return c}(b("React").PureComponent);a.defaultProps={disabledMessage:i._("No preview sharing options are available for the current ad")};function n(a,b){return a.sortPosition<b.sortPosition?-1:1}var o=function(a){__p&&__p();var c={};a.links.forEach(function(a){c[a.section]==null&&(c[a.section]=[]),c[a.section].push(a)});function d(c){return b("React").createElement("li",{key:c.key},b("React").createElement(b("AdsPreviewSharingMenuItem.react"),{link:c,onClick:a.onMenuItemClick}))}var e=l.map(function(a){var e=c[a];if(e==null)return null;e.sort(n);return b("React").createElement("li",{key:a},b("React").createElement("div",{className:"_4acr"},b("React").createElement(b("SUIText.react"),{className:"_4acs",shade:"medium",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},m[a])),b("React").createElement("ul",null,e.map(d)))});return b("React").createElement("ul",null,e)};e.exports=a}),null);
__d("HighlightedText.atlas",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("React").Element;a=b("React").PureComponent;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_pi")},this.props.children)};return c}(a);e.exports=c}),null);
__d("TextWithHighlights.atlas",["HighlightedText.atlas","React","Text.atlas","TextSearchUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("React").Element;a=b("React").PureComponent;c=babelHelpers["extends"]({},b("Text.atlas").defaultProps,{highlight:""});d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c;if(!a.highlight)c=a.text;else{a=b("TextSearchUtil").getTokens(a.text,a.highlight);c=a.map(function(a,c){return a.isHighlighted?b("React").createElement(b("HighlightedText.atlas"),{key:c},a.text):a.text})}return b("React").createElement(b("Text.atlas"),this.props,c)};return c}(a);d.defaultProps=c;e.exports=d}),null);
__d("SearchableListPrompt.contrib",["cx","AbstractSearchSource","AbstractTypeahead.react","Layout.react","React","ReactComponentWithPureRenderMixin","ReactDOM","Scroll","ScrollableArea.react","SearchableEntry","Text.atlas","TextWithHighlights.atlas","TypeaheadViewItem","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn;a=b("React").PropTypes;var j={queryString:""};c={maxEntries:100,resetQueryStringOnSelect:!1};d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state=j,c.$1=function(a){a=a.target;c.setState({queryString:a.value})},c.$2=function(a){c.props.onSelect(a),c.props.resetQueryStringOnSelect&&c.setState({queryString:""})},c.focusInput=function(){c.refs&&c.refs.typeahead.focusInput()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_4ktx")},b("React").createElement(l,{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,excludedEntries:this.props.excludedEntries,header:this.props.header,headerClassName:this.props.headerClassName,maxEntries:this.props.maxEntries,onChange:this.$1,onSelectAttempt:this.$2,placeholder:this.props.placeholder,queryString:this.state.queryString,ref:"typeahead",searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.selectedEntry,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry}))};return c}(b("React").PureComponent);d.propTypes={maxEntries:a.number.isRequired,onSelect:a.func.isRequired,resetQueryStringOnSelect:a.bool.isRequired,searchSource:a.instanceOf(b("AbstractSearchSource")).isRequired,disabledEntryIDs:a.instanceOf(Set),emptySearchResultsText:a.node,excludedEntries:a.object,header:a.node,placeholder:a.node,searchSourceOptions:a.object,selectedEntry:a.instanceOf(b("SearchableEntry")),showEntriesBeforeSearch:a.bool};d.defaultProps=c;var k={isFocused:!1},l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state=k,b.$1=function(){b.setState({isFocused:!0}),b.props.onFocus&&b.props.onFocus()},b.$2=function(){b.setState({isFocused:!1}),b.props.onBlur&&b.props.onBlur()},b.focusInput=function(){b.refs.typeahead.focusInput()},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a="_4kty"+(this.state.isFocused?" _4ktz":"")+(this.props.header?" _5lly":"");return b("React").createElement("div",{className:this.props.className,"data-testid":"SearchableListPrompt-contrib/root"},this.props.header?b("React").createElement(b("Text.atlas"),{className:b("joinClasses")("_2pi3 _2pi9",this.props.headerClassName),color:"dark",display:"block",size:"s"},this.props.header):null,b("React").createElement(b("AbstractTypeahead.react"),{autoHighlight:!0,excludedEntries:this.props.excludedEntries,hideViewWithEntries:!1,inputClassName:a,onBlur:this.$2,onChange:this.props.onChange,onFocus:this.$1,onSelectAttempt:this.props.onSelectAttempt,placeholder:this.props.placeholder,presenter:{ViewRenderer:m,alwaysVisibleOnFocus:!!this.props.emptySearchResultsText,extraRendererProps:{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry},maxEntries:this.props.maxEntries,useLayer:!1},queryString:this.props.queryString,ref:"typeahead",searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.selectedEntry,selectOnBlur:!1,showEntriesOnFocus:!0}))};return a}(b("React").PureComponent);l.propTypes={onChange:a.func.isRequired,onSelectAttempt:a.func.isRequired,searchSource:a.object.isRequired,disabledEntryIDs:a.instanceOf(Set),emptySearchResultsText:a.string,excludedEntries:a.object,header:a.node,maxEntries:a.number,onBlur:a.func,onFocus:a.func,placeholder:a.string,queryString:a.string,searchSourceOptions:a.object,selectedEntry:a.instanceOf(b("SearchableEntry")),showEntriesBeforeSearch:a.bool};var m=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=function(a){var c=a.getUniqueID(),e=d.props.highlightedEntry?d.props.highlightedEntry.getUniqueID():null,f=d.props.selectedEntry?d.props.selectedEntry.getUniqueID():null;e=c===e;f=c===f;c=d.props.disabledEntryIDs&&d.props.disabledEntryIDs.has(c);return b("React").createElement(n,{disabled:c,entry:a,highlighted:e,key:a.getUniqueID(),selected:f,onSelect:d.props.onSelect,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight,queryString:d.props.queryString,getLeftContentForEntry:d.props.getLeftContentForEntry})},d.$2=function(a){d.props.onHighlight&&d.props.onHighlight(null,a)},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=null,c=this.props.entries.length&&(this.props.showEntriesBeforeSearch||this.props.queryString);c?a=this.props.entries.map(this.$1):this.props.queryString&&(a=b("React").createElement("div",null,b("React").createElement(b("Text.atlas"),{className:"_4kt-",color:"light",size:"s"},this.props.emptySearchResultsText)));return b("React").createElement(b("ScrollableArea.react"),{className:b("joinClasses")(this.props.className,"_4kt_"),"data-testid":"SearchableListPrompt/itemList",onMouseLeave:this.$2,shadow:!1,maxHeight:320},a)};return a}(b("React").PureComponent);m.propTypes={entries:a.array.isRequired,onSelect:a.func.isRequired,disabledEntryIDs:a.instanceOf(Set),emptySearchResultsText:a.string,highlightedEntry:a.object,onHighlight:a.func,onRenderHighlight:a.func,queryString:a.string,selectedEntry:a.object,showEntriesBeforeSearch:a.bool};m.defaultProps={showEntriesBeforeSearch:!0};var n=b("React").createClass({displayName:"InlineTypeaheadViewItem",mixins:[babelHelpers["extends"]({},b("TypeaheadViewItem").Mixin,b("ReactComponentWithPureRenderMixin"))],propTypes:babelHelpers["extends"]({},b("TypeaheadViewItem").propTypes,{disabled:a.bool,getLeftContentForEntry:a.func}),componentDidUpdate:function(){var a=b("ReactDOM").findDOMNode(this);if(this.props.highlighted){var c=a.offsetParent;c=c&&a.offsetTop<b("Scroll").getTop(c)+c.offsetHeight&&a.offsetTop+a.offsetHeight>b("Scroll").getTop(c);c||a.scrollIntoView(!1)}},render:function(){var a=this.props.entry.getSubtitle(),c=b("React").createElement("div",null,this.props.getLeftContentForEntry?this.props.getLeftContentForEntry(this.props.entry,this.props.selected):null,b("React").createElement(b("TextWithHighlights.atlas"),{className:"_4ku0",highlight:this.props.queryString,text:this.props.entry.getTitle(),size:"s",color:this.props.disabled?"light":"dark",display:this.props.getLeftContentForEntry?"inline":"block"}),a?b("React").createElement(b("TextWithHighlights.atlas"),{className:"_4ku1",color:"light",display:"block",highlight:this.props.queryString,size:"s",text:a}):null);c=this.props.disabled?b("React").createElement(b("Layout.react"),null,b("React").createElement(i,null,c),b("React").createElement(h,null,b("React").createElement(b("Text.atlas"),{size:"s",color:"light",display:"block"}," ","?"," "))):c;a="_4ku2"+(this.props.highlighted?" _4ku3":"")+(this.props.selected?" _4ku4":"")+(a?"":" _4ku5");return b("React").createElement("div",{className:a,"data-testid":"SearchableListPrompt/item",onMouseDown:this.props.disabled?null:this._onSelect,onMouseEnter:this._onHighlight},c)}});e.exports=d}),null);
__d("SearchableDropdownInput.contrib",["cx","AbstractSearchSource","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerHideOnScrollOverHeader.atlas","ContextualLayerUpdateOnScroll","Keys","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","React","ReactComponentWithPureRenderMixin","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","SearchableListPrompt.contrib","SUIAtlasTheme","SUICardDEPRECATED.react","Text.atlas","XUIPopoverButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"SearchableDropdownInput",propTypes:{onSelect:a.func.isRequired,resetQueryStringOnSelect:a.bool.isRequired,searchSource:a.instanceOf(b("AbstractSearchSource")).isRequired,showSelectedSubtitle:a.bool.isRequired,"data-testid":a.string,customHeader:a.element,chevron:a.element,disabled:a.bool,disabledEntryIDs:a.instanceOf(Set),dropdownWidth:a.number,emptySearchResultsText:a.node,excludedEntries:a.object,header:a.node,headerClassName:a.string,maxEntries:a.number,placeholder:a.node,searchSourceOptions:a.object,showEntriesBeforeSearch:a.bool,skipAutoWidth:a.bool,title:a.string,maxWidth:a.number,getLeftContentForEntry:a.func,searchPlaceholder:a.node},mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactLayeredComponentMixin_DEPRECATED")],getDefaultProps:function(){return{resetQueryStringOnSelect:!1,showSelectedSubtitle:!0}},getInitialState:function(){return{isShowing:!1}},_onLayerToggle:function(a){!a&&this.state.isShowing&&(this.setState({isShowing:!1}),this.focusInput())},_toggleLayer:function(){this.props.disabled||this.setState({isShowing:!this.state.isShowing})},_onKeyDown:function(a){switch(a.keyCode){case b("Keys").DOWN:case b("Keys").UP:case b("Keys").SPACE:this.setState({isShowing:!0});break}},open:function(){this.setState({isShowing:!0})},close:function(){this.setState({isShowing:!1})},focusInput:function(){this.refs&&b("ReactDOM").findDOMNode(this.refs.button).focus()},_onSelect:function(a){this.setState({isShowing:!1}),this.focusInput(),this.props.onSelect(a)},renderLayers:function(){var a=this,c;this.props.skipAutoWidth||(c=b("ReactDOM").findDOMNode(this.refs.button).offsetWidth);c=this.props.dropdownWidth||c||null;return{prompt:b("React").createElement(b("ContextualLayer.react"),{behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),ContextualLayerHideOnScrollOverHeader:b("ContextualLayerHideOnScrollOverHeader.atlas"),LayerAutoFocus:b("LayerAutoFocus"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape")},contextRef:function(){return a.refs.button},position:"below",alignment:"left",offsetY:4,shown:this.state.isShowing,autofocus:!0,onToggle:this._onLayerToggle},b("React").createElement("div",{style:{width:c},className:this.props.divClassName,onFocus:this.props.onFocus},b("React").createElement(b("SUICardDEPRECATED.react"),{className:this.props.listClassName,theme:b("SUIAtlasTheme"),type:"fullbleed"},this.props.customHeader,b("React").createElement(b("SearchableListPrompt.contrib"),{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,excludedEntries:this.props.excludedEntries,header:this.props.header,headerClassName:this.props.headerClassName,maxEntries:this.props.maxEntries,onSelect:this._onSelect,resetQueryStringOnSelect:this.props.resetQueryStringOnSelect,searchSource:this.props.searchSource,placeholder:this.props.searchPlaceholder,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.value,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry}))))}},render:function(){var a=this.props.placeholder,c=this.props.value;if(c){var d=this.props.title||c.getTitle();c=this.props.showSelectedSubtitle&&c.getSubtitle()?b("React").createElement(b("Text.atlas"),{color:"light",size:"s"}," ",c.getSubtitle()):null;a=b("React").createElement("span",null,d,c)}return b("React").createElement(b("XUIPopoverButton.react"),{className:b("joinClasses")(this.props.className,"__yl"),chevron:this.props.chevron,"data-testid":this.props["data-testid"],disabled:this.props.disabled,ref:"button",label:a,onClick:this._toggleLayer,onKeyDown:this._onKeyDown,size:"large",maxwidth:this.props.maxWidth?this.props.maxWidth:null})}});e.exports=c}),null);
__d("FDSButtonGroup.react",["React","SUIButtonGroup.react","SUIButtonUniform.fds","makeFDSStandardComponent","makeSUIFDSPrivateTheme"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("makeSUIFDSPrivateTheme")("FDSButtonGroup",{SUIButton:b("SUIButtonUniform.fds")});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;return b("React").createElement(b("SUIButtonGroup.react"),{children:a.children,"data-testid":a["data-testid"],density:a.density,display:a.display,margin:a.margin,theme:g})};return c}(b("React").Component);e.exports=b("makeFDSStandardComponent")("FDSButtonGroup",a)}),null);
__d("SUITokenizerToken.react",["DraggableToken.react","React","SearchableEntry","SUIComponent","SUITheme","SUIToken.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("DraggableToken.react"),{className:this.props.className,entry:this.props.entry,index:this.props.index,isDragDropEnabled:this.props.isDragDropEnabled,onTokenDragEnd:this.props.onTokenDragEnd,onTokenDragLeave:this.props.onTokenDragLeave,onTokenDragOver:this.props.onTokenDragOver,onTokenDragStart:this.props.onTokenDragStart,onTokenDrop:this.props.onTokenDrop},b("React").createElement(b("SUIToken.react"),{disabled:this.props.disabled,entry:this.props.entry,getHovercardURI:this.props.getHovercardURI,icon:this.props.icon,label:this.props.label,onClick:this.props.onClick,onRemove:this.props.onRemove,tooltip:this.props.tooltip}))};return c}(b("SUIComponent"));c.propTypes={disabled:a.bool,entry:a.instanceOf(b("SearchableEntry")),getHovercardURI:a.func,label:a.node.isRequired,onRemove:a.func,theme:a.instanceOf(b("SUITheme"))};e.exports=c}),null);
__d("SUITokenizer.react",["cx","AbstractTokenizer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","React","SUIComponent","SUIErrorComponentUtil","SUITheme","SUITokenizerItemList.react","SUITokenizerToken.react","SUITypeaheadNavigation","autoFlipStyleProps","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=babelHelpers["extends"]({},b("AbstractTokenizer.react").defaultProps,{alwaysVisibleOnFocus:!0,isDisabled:!1,isMultiSelectEnabled:!1,tokenRenderer:b("SUITokenizerToken.react"),viewRenderer:b("SUITokenizerItemList.react")});d=b("AbstractTokenizer.react").propTypes;d.excludeTokenEntries;d.extraTypeaheadProps;d.onAddEntryAttempt;d.onRemoveEntryAttempt;d.presenter;d.shouldClearQueryStringAfterSelect;d.typeaheadInputStyle;f=babelHelpers.objectWithoutPropertiesLoose(d,["excludeTokenEntries","extraTypeaheadProps","onAddEntryAttempt","onRemoveEntryAttempt","presenter","shouldClearQueryStringAfterSelect","typeaheadInputStyle"]);g=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d,e,f;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(e=f=a.call.apply(a,[this].concat(h))||this,f.state={navigation:new(b("SUITypeaheadNavigation"))((c=(d=f.props.extraRendererProps)==null?void 0:d.isDisabledEntry)!=null?c:b("emptyFunction").thatReturnsFalse)},f.$SUITokenizer1=function(a){if(f.props.extraRendererProps&&f.props.extraRendererProps.isDisabledEntry&&f.props.extraRendererProps.isDisabledEntry(a))return;var b=f.props.entries||[];b=b.some(function(b){return b.getUniqueID()===a.getUniqueID()});if(b)return;f.props.onAddEntry(a)},f.$SUITokenizer2=function(a){f.props.onRemoveEntry(a)},e)||babelHelpers.assertThisInitialized(f)}var d=c.prototype;d.focusInput=function(){this.refs.abstractTokenizer.focusInput()};d.render=function(){var a=b("SUITheme").get(this),c=a.SUITokenizer,d=this.props,e=d.alwaysVisibleOnFocus,f=d.className,g=d["data-testid"],h=d.extraRendererProps,i=d.extraTokenRendererProps,j=d.extraTypeaheadProps,k=d.margin,l=d.maxEntries,m=d.tokenRenderer,n=d.viewRenderer;d=babelHelpers.objectWithoutPropertiesLoose(d,["alwaysVisibleOnFocus","className","data-testid","extraRendererProps","extraTokenRendererProps","extraTypeaheadProps","margin","maxEntries","tokenRenderer","viewRenderer"]);var o={backgroundColor:c.enabled.backgroundColor,borderColor:b("SUIErrorComponentUtil").hasError(this.props)?b("SUIErrorComponentUtil").getErrorBorderColor(this.props,a):c.enabled.borderColor},p=d.alwaysShowPlaceholder,q=d.onReorderEntryAttempt;this.props.isDisabled&&(o=babelHelpers["extends"]({},c.typeaheadInput.typeStyle,{backgroundColor:c.disabled.backgroundColor,borderColor:c.disabled.borderColor}),p=!1,q=null);var r=b("SUIErrorComponentUtil").getErrorIcon(this.props,a,"_3zzp");return b("React").createElement("div",babelHelpers["extends"]({},b("SUIErrorComponentUtil").getErrorTooltipProps(this.props),{className:b("joinClasses")("_3zzl"+(b("SUIErrorComponentUtil").hasError(this.props)?" _3zzn":"")+(this.props.isDisabled?" _3zzm":""),f,k),"data-testid":g,style:o}),b("React").createElement(b("AbstractTokenizer.react"),babelHelpers["extends"]({},d,{alwaysShowPlaceholder:p,className:"_3zzo",disabled:this.props.isDisabled,excludeTokenEntries:!this.props.isMultiSelectEnabled,extraTokenRendererProps:babelHelpers["extends"]({},i,{theme:a,disabled:this.props.isDisabled}),extraTypeaheadProps:babelHelpers["extends"]({},j,{navigation:this.state.navigation}),onAddEntryAttempt:this.$SUITokenizer1,onRemoveEntryAttempt:this.$SUITokenizer2,onReorderEntryAttempt:q,presenter:{TokenRenderer:m,ViewRenderer:n,alwaysVisibleOnFocus:e,extraRendererProps:babelHelpers["extends"]({},h,{className:"_xzf",isMultiSelectEnabled:this.props.isMultiSelectEnabled,onEndOfListReached:this.props.onEndOfListReached,selectedEntries:this.props.entries,theme:a}),layerBehaviors:babelHelpers["extends"]({ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},this.props.presenterLayerBehaviors),maxEntries:l,useLayer:!0},ref:"abstractTokenizer",shouldClearQueryStringAfterSelect:!this.props.isMultiSelectEnabled,typeaheadInputStyle:c.typeaheadInput.typeStyle})),r&&b("React").cloneElement(r,{style:b("autoFlipStyleProps")(babelHelpers["extends"]({},r.props.style,{margin:"0px",marginRight:c.errorIconMarginRight}))}))};return c}(b("SUIComponent"));g.propTypes=babelHelpers["extends"]({},f,{isDisabled:a.bool.isRequired,onAddEntry:a.func.isRequired,onRemoveEntry:a.func.isRequired,tokenRenderer:a.func.isRequired,viewRenderer:a.func.isRequired,extraRendererProps:a.object,isMultiSelectEnabled:a.bool.isRequired,margin:a.string,maxEntries:a.number,onEndOfListReached:a.func,presenterLayerBehaviors:a.object,theme:a.instanceOf(b("SUITheme"))});g.defaultProps=c;e.exports=g}),null);
__d("forEachDifference",["forEachObject"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){b("forEachObject")(a,function(a,b){Object.prototype.hasOwnProperty.call(c,b)?d.onBoth&&d.onBoth(a,c[b],b):d.onLeft&&d.onLeft(a,b)}),b("forEachObject")(c,function(b,c){!Object.prototype.hasOwnProperty.call(a,c)&&d.onRight&&d.onRight(b,c)})}e.exports=a}),null);
__d("ElementResizeEmitterX",["cx","invariant","DOM","EventListener","SubscriptionList","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=!!navigator.userAgent.match(/Trident/);a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var d;getComputedStyle(b).position!=="static"||h(0,533);d=a.call(this,c.__setup,c.__teardown)||this;d.$ElementResizeEmitterX1=b;d.$ElementResizeEmitterX2=!1;return d}c.__setup=function(){var a=document.createElement("iframe");this.$ElementResizeEmitterX3=a;i&&(a.src="javascript:void((function(){document.open();document.domain="+JSON.stringify(document.domain)+";document.close();})())");a.className="_3dtr";a.onload=this.$ElementResizeEmitterX4.bind(this);this.$ElementResizeEmitterX1.appendChild(a)};c.__teardown=function(){this.$ElementResizeEmitterX3&&(this.$ElementResizeEmitterX5!=void 0&&this.$ElementResizeEmitterX3.document!==void 0&&this.$ElementResizeEmitterX5.remove(),b("DOM").remove(this.$ElementResizeEmitterX3),this.$ElementResizeEmitterX3=void 0)};var d=c.prototype;d.$ElementResizeEmitterX4=function(){this.$ElementResizeEmitterX6();var a;try{a=this.$ElementResizeEmitterX3.contentWindow,a.document}catch(a){return}this.$ElementResizeEmitterX5=b("EventListener").listen(a,"resize",this.$ElementResizeEmitterX6.bind(this))};d.$ElementResizeEmitterX6=function(){var a=this;if(this.$ElementResizeEmitterX2)return;this.$ElementResizeEmitterX2=!0;b("requestAnimationFrame")(function(){a.fireCallbacks(),a.$ElementResizeEmitterX2=!1})};return c}(b("SubscriptionList"));e.exports=a}),null);
__d("partitionObject",["forEachObject"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e={},f={};b("forEachObject")(a,function(b,g){c.call(d,b,g,a)?e[g]=b:f[g]=b});return[e,f]}e.exports=a}),null);
__d("partitionObjectByKey",["partitionObject"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("partitionObject")(a,function(a,b){return c.has(b)})}e.exports=a}),null);
__d("LeafletLayer.react",["React","areEqual","forEachDifference","forEachObject","partitionObjectByKey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=void 0,b)||babelHelpers.assertThisInitialized(c)}c.mutateEventHandlers=function(a,c,d){b("areEqual")(c,d)||b("forEachDifference")(c||{},d||{},{onLeft:function(b,c){a.on(c,b)},onRight:function(b,c){a.off(c,b)},onBoth:function(b,c,d){b!==c&&(a.off(d,c),a.on(d,b))}})};c.addEventHandlers=function(a,c){c!=null&&b("forEachObject")(c,function(b,c){a.on(c,b)})};var d=c.prototype;d.componentDidMount=function(){this.$2(h(this.props))};d.componentDidUpdate=function(a){var b=h(this.props),c=h(a);(this.props.onUpdateLayer!==a.onUpdateLayer||!this.props.onUpdateLayer(this.$1,b,c))&&(this.props.onRemoveLayer?this.props.onRemoveLayer(this.$1):this.context.onRemoveLayer(this.$1),this.$2(b))};d.$2=function(a){this.$1=this.props.onCreateLayer(a),this.props.onAddLayer?this.props.onAddLayer(this.$1):this.context.onAddLayer(this.$1)};d.componentWillUnmount=function(){this.$1&&(this.props.onRemoveLayer?this.props.onRemoveLayer(this.$1):this.context.onRemoveLayer(this.$1),this.$1=null)};d.render=function(){return null};return c}(b("React").Component);c.propTypes={onCreateLayer:a.func.isRequired,onUpdateLayer:a.func.isRequired,onAddLayer:a.func,onRemoveLayer:a.func};c.contextTypes={onAddLayer:a.func.isRequired,onRemoveLayer:a.func.isRequired};var g=new Set(Object.keys(c.propTypes));function h(a){return b("partitionObjectByKey")(a,g)[1]}e.exports=c}),null);
__d("FBMapFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a={GESTURE_SINGLE_TAP:"gesture_single_tap",MOVE_MAP:"move_map",ZOOM_MAP:"zoom_map",MARKER_CLICK:"marker_click"};b={MAP_READY:"map_ready",FIRST_TILE_LOADED:"first_tile_loaded",ALL_VISIBLE_TILES_LOADED:"all_visible_tiles_loaded"};c={MAPBOX:"mapbox",FACEBOOK:"facebook"};d={IS_INTERACTIVE:"is_interactive"};e.exports={MAP_FUNNEL_NAME:"MAP_WEB_FUNNEL",MAP_EVENTS:b,MAP_INTERACTIVE_EVENTS:a,MAP_SOURCES:c,MAP_TAGS:d}}),null);
__d("LeafletMapLayer.react",["invariant","LeafletLayer.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("React").Children.only(d.props.children);d.$3=a;return a.type.toLayer(a.props)},d.$2=function(a,c,e){var f=b("React").Children.only(d.props.children);if(f.type!==d.$3.type)return!1;d.$3=f;return f.type.mutate(a,c,e)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=b("React").Children.only(this.props.children);a.type.mutate||g(0,2335);a.type.toLayer||g(0,2336)};d.render=function(){var a=b("React").Children.only(this.props.children);return b("React").createElement(b("LeafletLayer.react"),babelHelpers["extends"]({},a.props,{onAddLayer:this.props.onAddLayer,onRemoveLayer:this.props.onRemoveLayer,onCreateLayer:this.$1,onUpdateLayer:this.$2}))};return c}(b("React").Component);c.propTypes={onAddLayer:a.func,onRemoveLayer:a.func};e.exports=c}),null);
__d("LeafletView",["invariant","GeoCoordinates","ImmutableObject","nearlyEqualNumbers"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c||g(0,666);c.center instanceof b("GeoCoordinates")||g(0,667);typeof c.zoom==="number"||g(0,668);return a.call(this,c)||this}var d=c.prototype;d.nearlyEquals=function(a){return this.center.nearlyEquals(a.center)&&b("nearlyEqualNumbers")(this.zoom,a.zoom)};d.setZoom=function(a){return new c({center:this.center,zoom:a})};d.setCenter=function(a){return new c({center:a,zoom:this.zoom})};return c}(b("ImmutableObject"));a.DEFAULT=new a({center:new(b("GeoCoordinates"))(0,0),zoom:0});e.exports=a}),null);
__d("LeafletUtils",["GeoCoordinates","LeafletView","leaflet","mod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("leaflet").CRS.EPSG3857,h=360,i=h/2,j=b("leaflet").LatLng.DEG_TO_RAD,k=b("leaflet").LatLng.RAD_TO_DEG,l=b("leaflet").Projection.Mercator.R_MAJOR,m=2*Math.PI*l;a=new(b("leaflet").LatLngBounds)(new(b("leaflet").LatLng)(-h/4,-h/2),new(b("leaflet").LatLng)(h/4,h/2));var n={WHOLE_WORLD_BOUNDS:a,FULL_CIRCLE_DEG:h,fromLatLng:function(a){return new(b("GeoCoordinates"))(a.lat,a.lng)},normalizedBounds:function(a,c){var d=n.wrapLongitude(a.lng);c=b("leaflet").latLng(c.lat,c.lng+d-a.lng);a=b("leaflet").latLng(a.lat,d);return b("leaflet").latLngBounds(a,c)},fitBounds:function(a,c,d){var e=d.crs||g;d=d.zoomRange;c=n.getBoundsZoom(a,c,{zoomRange:d,crs:e});c==null&&(c=d[0]);d=e.latLngToPoint(a.getSouthWest(),c);a=e.latLngToPoint(a.getNorthEast(),c);e=n.fromLatLng(e.pointToLatLng(d.add(a).divideBy(2),c));return new(b("LeafletView"))({center:e,zoom:c})},getBoundsZoom:function(a,c,d){__p&&__p();var e=d.crs||g;d=d.zoomRange;c=b("leaflet").point(c.width,c.height);var f=a.getNorthWest();a=a.getSouthEast();var h=d[0]-1;for(;h<=d[1];++h){var i=e.latLngToPoint(a,h+1),j=e.latLngToPoint(f,h+1);i=i.subtract(j).floor();if(!c.contains(i))break}if(h<d[0])return null;return h<=d[1]?h:h-1},getViewBounds:function(a,c,d){d=d||g;var e=c.width/2;c=c.height/2;var f=n.toLatLng(a.center);f=d.latLngToPoint(f,a.zoom);var h=d.pointToLatLng(b("leaflet").point(f.x-e,f.y+c),a.zoom);d=d.pointToLatLng(b("leaflet").point(f.x+e,f.y-c),a.zoom);return n.normalizedBounds(h,d)},isViewInBounds:function(a,b,c,d){var e=n.getViewBounds(a,b,d),f=n.shiftBoundsLng(e,h);return c.some(function(a){return a.contains(e)||a.contains(f)})},projectCircle:function(a,c,d){d=d||g;var e=n.toLatLng(a.center),f=d.projection;e=n.circleBounds(e,a.radius,f);a=d.latLngToPoint(e.getCenter(),c);f=d.latLngToPoint(e.getSouthWest(),c);d=d.latLngToPoint(e.getNorthEast(),c);e=b("leaflet").point(Math.round((d.x-f.x)/2),Math.round((f.y-d.y)/2));return{center:a,radius:e}},circleBounds:function(a,c,d){__p&&__p();d=d||g.projection;var e=a.lat;a=a.lng;c=c/l*k;var f=d.project(b("leaflet").latLng(e+c,a)),h=d.project(b("leaflet").latLng(e-c,a));f=f.add(h).divideBy(2);h=d.unproject(f).lat;d=e*j;f=h*j;e=Math.acos((Math.cos(c*j)-Math.sin(d)*Math.sin(f))/(Math.cos(d)*Math.cos(f)))*k;return b("leaflet").latLngBounds(b("leaflet").latLng(h-c,a-e),b("leaflet").latLng(h+c,a+e))},shiftBoundsLng:function(a,c){return b("leaflet").latLngBounds([a.getSouthWest().lat,a.getSouthWest().lng+c],[a.getNorthEast().lat,a.getNorthEast().lng+c])},toLatLng:function(a){return new(b("leaflet").LatLng)(a.latitude,a.longitude)},wrapLongitude:function(a){return b("mod")(a+i,h)-i},areViewEqual:function(a,b){if(!a&&!b)return!0;return!a||!b?!1:a.zoom===b.zoom&&a.center.latitude===b.center.latitude&&a.center.longitude===b.center.longitude},metersToPixels:function(a,b){return a/(m*Math.abs(Math.cos(b.center.latitude*j))/Math.pow(2,b.zoom+8))},distanceFromLatLng:function(a,c,d){__p&&__p();c=c/l;d=d*j;var e=a.lat*j;a=a.lng*j;var f=Math.sin(e);e=Math.cos(e);var g=Math.sin(c);c=Math.cos(c);var h=Math.sin(d);d=Math.cos(d);d=f*c+e*g*d;var i=Math.asin(d);h=h*g*e;g=c-f*d;e=a+Math.atan2(h,g);return new(b("leaflet").LatLng)(i*k,n.wrapLongitude(e*k))}};e.exports=n}),null);
__d("LeafletMap.react",["invariant","ElementResizeEmitterX","FBMapFunnelLoggerConstants","LeafletMapLayer.react","LeafletUtils","LeafletView","React","ReactDOM","debounceCore","emptyFunction","forEachDifference","leaflet","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBMapFunnelLoggerConstants").MAP_INTERACTIVE_EVENTS;a=b("React").PropTypes;var i=100,j=10,k=new Set(["dragging","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard","tab"]),l=a.instanceOf(b("LeafletView"));function m(a){var c=a.getCenter();return new(b("LeafletView"))({center:b("LeafletUtils").fromLatLng(c),zoom:a.getZoom()})}function n(a,b){return{center:[a.center.latitude,a.center.longitude],zoom:a.zoom,attributionControl:!1,layers:b,trackResize:!1}}function o(a,b,c){if(!k.has(b))throw new Error("cannot change Leaflet option `"+b+"` during component lifetime");a[b][c?"enable":"disable"]()}function p(a,c,d){if(c===d)return;b("forEachDifference")(c,d,{onLeft:function(b,c){return o(a,c,b)},onRight:function(a,b){throw new Error("reverting Leaflet option `"+b+"` back to default is not supported")},onBoth:function(b,c,d){b!==c&&o(a,d,b)}})}function q(a,c,d){b("forEachDifference")(c,d,{onLeft:function(b,c){return void a.on(c,b)},onRight:function(b,c){return void a.off(c,b)},onBoth:function(b,c,d){b!==c&&(a.off(d,c),a.on(d,b))}})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$4=function(a){if(c.$3){c.$3.addLayer(a);return}c.$11().push(a)},c.$5=function(a){c.$3!==void 0||g(0,6089),c.$3!==null&&c.$3.removeLayer(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getChildContext=function(){return{onAddLayer:this.$4,onRemoveLayer:this.$5}};d.componentDidMount=function(){__p&&__p();var a=this,c=Object.assign({},this.props.defaultOptions,this.props.options,n(this.$10(),this.$11())),d=this.props.funnelLogger;c=this.$3=b("leaflet").map(b("ReactDOM").findDOMNode(this),c);c.whenReady(function(){d!=null&&d.onMapReady()});(this.props.controlOptions||{}).showScale&&b("leaflet").control.scale({imperial:!1,shiftRight:!0}).addTo(this.$3);this.$1=null;this.$8=b("debounceCore")(this.$12.bind(this),i);q(c,this.props.eventHandlers,{});c.on("movestart",this.$13.bind(this));c.on("moveend",this.$14.bind(this));d!=null&&(c.on("movestart",function(){d.sendInteractiveEvent(h.MOVE_MAP)}),c.on("zoomstart",function(){d.sendInteractiveEvent(h.ZOOM_MAP)}),c.on("click",function(){d.sendInteractiveEvent(h.GESTURE_SINGLE_TAP)}));this.$2="still";this.$9=new Set();this.$7=b("debounceCore")(function(b,c){a.$3&&a.$3.setView(b,c)},j);this.$6=new(b("ElementResizeEmitterX"))(b("ReactDOM").findDOMNode(this)).add(function(){var c=a.$3;c!=null&&(c.invalidateSize(),b("nullthrows")(a.props.onSizeSettled)(c.getSize()))});(this.props.controlOptions||{}).showLayerControls&&this.$15();(this.props.controlOptions||{}).zoomToKeyedBounds&&this.$16()};d.componentDidUpdate=function(a){var b=this.$3;if(b==null)return;var c=this.props,d=c.eventHandlers;c=c.options;q(b,d,a.eventHandlers);p(b,c,a.options);this.$18(a.view)};d.componentWillUnmount=function(){this.$6.remove(),this.$3!=null&&this.$3.remove(),this.$3=null};d.render=function(){var a=this,c=b("React").Children.map(this.props.children,function(c,d){if(!c)return c;return c.type.toLayer==null?c:b("React").createElement(b("LeafletMapLayer.react"),{key:c.key,onAddLayer:a.$4,onRemoveLayer:a.$5},c)});return b("React").createElement("div",{className:this.props.className,style:babelHelpers["extends"]({display:"relative"},this.props.style)},c)};d.$15=function(){if(this.$3===null||this.$3===void 0)return;var a={};this.$3.eachLayer(function(b){b.options&&b.options.key&&(a[b.options.key]=b)});b("leaflet").control.layers(null,a).addTo(this.$3)};d.$16=function(){if(this.$3===null||this.$3===void 0)return;var a=new(b("leaflet").LatLngBounds)();this.$3.eachLayer(function(b){b.options&&b.options.key&&(typeof b.getBounds==="function"?a.extend(b.getBounds()):typeof b.getLatLng==="function"&&a.extend(b.getLatLng()))});this.$3&&this.$3.fitBounds(a)};d.$11=function(){this.$1||(this.$1=[]);return this.$1};d.$10=function(){if(this.props.view)return this.props.view;return this.props.defaultView?this.props.defaultView:b("LeafletView").DEFAULT};d.$14=function(){__p&&__p();if(!this.$3)return;var a=m(this.$3),b=this.$2;this.$2="still";if(this.props.view){if(b==="moving-stale"){this.$12();return}if(a.nearlyEquals(this.props.view))return;this.$8()}if(!this.props.onViewChange)return;this.props.onViewChange(a)};d.$13=function(){if(!this.$3)return;this.$2==="still"&&(this.$2="moving")};d.$12=function(){this.$8.reset();this.$2==="moving"&&(this.$2="moving-stale");var a=this.props.view,b=this.$3;if(a==null||b==null||a.nearlyEquals(m(b)))return;this.$7([a.center.latitude,a.center.longitude],a.zoom)};d.$18=function(a){var b=this.props.view;if(!b||!this.$3||b===a||a&&b.nearlyEquals(a))return;this.$12()};d.$17=function(a,b){a[b]!==this.props[b]&&!this.$9.has(b)&&this.$9.add(b)};return c}(b("React").Component);c.propTypes={className:a.string,defaultOptions:a.object,defaultView:a.instanceOf(b("LeafletView")),eventHandlers:a.object,onSizeSettled:a.func,onViewChange:a.func,options:a.object,style:a.object,view:function(a,b,c){for(var d=arguments.length,e=new Array(d>3?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];var g=l.apply(void 0,[a,b,c].concat(e));if(!a[b]||g)return g;if(a[b]&&a.defaultView)return new Error("You provided both `view` and `defaultView` props to LeafletMap. `defaultView` will be discarded.");return a.onViewChange?null:new Error("You provided a `view` prop to LeafletMap without an `onViewChange` handler. This will prevent the user to move the view. If the view should be movable use `defaultView`. Otherwise, set `onViewChange`.")},funnelLogger:a.object};c.defaultProps={eventHandlers:{},onSizeSettled:b("emptyFunction"),options:{},funnelLogger:null};c.childContextTypes={onAddLayer:a.func.isRequired,onRemoveLayer:a.func.isRequired};e.exports=c}),null);
__d("LeafletMarker.react",["FBMapFunnelLoggerConstants","LeafletLayer.react","LeafletUtils","React","areEqual","leaflet","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBMapFunnelLoggerConstants").MAP_INTERACTIVE_EVENTS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a,c,d){__p&&__p();var e=d.options||{},f=e.opacity,g=e.zIndex;e=babelHelpers.objectWithoutPropertiesLoose(e,["opacity","zIndex"]);var h=c.options||{},i=h.opacity,j=h.zIndex;h=babelHelpers.objectWithoutPropertiesLoose(h,["opacity","zIndex"]);if(!b("areEqual")(h,e))return!1;i!==f&&a.setOpacity(i);j!==g&&a.setZIndex(j);c.coordinates!==d.coordinates&&a.setLatLng(b("LeafletUtils").toLatLng(c.coordinates));h=c.popup;if(h){e=h.type.mutate(a.getPopup(),h.props,b("nullthrows")(d.popup).props);e||(a.unbindPopup(),a.bindPopup(h.type.toLayer(h.props,a)))}else!h&&d.popup&&a.unbindPopup();b("LeafletLayer.react").mutateEventHandlers(a,c.eventHandlers,d.eventHandlers);return!0};d.$2=function(a){var c=b("leaflet").marker(b("LeafletUtils").toLatLng(a.coordinates),a.options);a.popup&&c.bindPopup(a.popup.type.toLayer(a.popup.props,c));b("LeafletLayer.react").addEventHandlers(c,a.eventHandlers);var d=a.funnelLogger;d!=null&&c.on("click",function(){d.sendInteractiveEvent(g.MARKER_CLICK)});return c};d.render=function(){return b("React").createElement(b("LeafletLayer.react"),babelHelpers["extends"]({},this.props,{onCreateLayer:this.$2,onUpdateLayer:this.$1}))};return c}(b("React").Component);e.exports=a}),null);
__d("LeafletTileLayer.react",["LeafletLayer.react","React","areEqual","leaflet"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;var g=b("leaflet").TileLayer.extend({getTileUrl:function(a){return this._url.includes("{quadkey}")?b("leaflet").Util.template(this._url,b("leaflet").Util.extend({quadkey:this._getQuad(a)},this.options)):b("leaflet").TileLayer.prototype.getTileUrl.call(this,a)},_getQuad:function(a){var b=this._getZoomForUrl(),c,d,e=[];for(;b>0;b--)d=0,c=1<<b-1,(a.x&c)!==0&&(d+=1),(a.y&c)!==0&&(d+=2),e.push(d);return e.join("")}});c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("LeafletLayer.react"),babelHelpers["extends"]({},this.props,{onCreateLayer:h,onUpdateLayer:i}))};return c}(b("React").Component);c.propTypes={options:a.object,urlTemplate:a.string.isRequired,funnelLogger:a.object};function h(a){var b=new g(a.urlTemplate,a.options);a.funnelLogger!=null&&(b.on("tileload",function(){a.funnelLogger.onTileLoaded()}),b.on("load",function(){a.funnelLogger.onAllVisibleTilesLoaded()}));return b}function i(a,c,d){__p&&__p();var e=d.options||{},f=e.opacity,g=e.zIndex;e=babelHelpers.objectWithoutPropertiesLoose(e,["opacity","zIndex"]);var h=c.options||{},i=h.opacity,j=h.zIndex;h=babelHelpers.objectWithoutPropertiesLoose(h,["opacity","zIndex"]);if(!b("areEqual")(h,e))return!1;i!==f&&a.setOpacity(i);j!==g&&a.setZIndex(j);c.urlTemplate!==d.urlTemplate&&a.setUrl(c.urlTemplate);return!0}e.exports=c}),null);
__d("TilesMapTheme",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEFAULT:"default",CROWDSOURCING_OSM:"crowdsourcing_osm",ROAD_MASK_OSM_EDITING:"road_mask_osm_editing",LIVE_MAPS:"live_maps",INDOOR_OSM:"indoor_osm",MAP_DIFF:"map_diff"})}),null);
__d("XMapsProviderByViewPortController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/maps/provider_by_viewport/",{swlat:{type:"Float",required:!0},swlon:{type:"Float",required:!0},nelat:{type:"Float",required:!0},nelon:{type:"Float",required:!0},zoom:{type:"Float",required:!0},v:{type:"Int"}})}),null);
__d("TilesMapUtils",["CurrentLocale","GeoCoordinates","GeoRectangle","LeafletUtils","LeafletView","TilesMapConfig","TilesMapTheme","URI","XAsyncRequest","XMapsProviderByViewPortController","leaflet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("TilesMapConfig").OSM_RECTS_RAW.map(function(a){return b("leaflet").latLngBounds([a[2],a[1]],[a[0],a[3]])}),h={DEFAULT_VIEW:new(b("LeafletView"))({center:new(b("GeoCoordinates"))(0,0),zoom:b("TilesMapConfig").ZOOM_RANGE.MIN}),getMapProviderForAttributionByViewPort:function(a,c,d){a=b("XMapsProviderByViewPortController").getURIBuilder().setFloat("swlat",a.getSouth()).setFloat("swlon",a.getWest()).setFloat("nelat",a.getNorth()).setFloat("nelon",a.getEast()).setFloat("zoom",c).setInt("v",b("TilesMapConfig").VERSION).getURI();c=new(b("XAsyncRequest"))(a).setHandler(function(a){return d(a.payload)});c.setAllowCrossPageTransition&&c.setAllowCrossPageTransition(!0);return c.send()},getTileURLTemplate:function(a,c){a||(a=b("CurrentLocale").get());return b("TilesMapConfig").TILE_URL_TEMPLATE+"&language="+a+(c&&c!==b("TilesMapTheme").DEFAULT?"&theme="+c:"")+(c===b("TilesMapTheme").LIVE_MAPS?"&lmv="+b("TilesMapConfig").LIVE_MAP_VERSION:"")},getOSMRects:function(){return h.getOSMRectsFromRaw(b("TilesMapConfig").OSM_RECTS_RAW)},getOSMRectsFromRaw:function(a){return a.map(function(a){return new(b("GeoRectangle"))(a[0],a[1],a[2],a[3])})},getMapProviderForAttribution:function(a,c,d,e){if(c.height<b("TilesMapConfig").MIN_SIZE_FOR_ATTRIBUTION||c.width<b("TilesMapConfig").MIN_SIZE_FOR_ATTRIBUTION)return null;if(e!==""&&e!==b("TilesMapTheme").DEFAULT&&e!==b("TilesMapTheme").ROAD_MASK_OSM_EDITING)return"OSM";return a.zoom<b("TilesMapConfig").OSM_ZOOM_THRESHOLD?"HERE":b("LeafletUtils").isViewInBounds(a,c,g,d)?"OSM":"HERE"},getMapProviderForReportButton:function(a,c){if(c!==""&&c!==b("TilesMapTheme").DEFAULT&&c!==b("TilesMapTheme").ROAD_MASK_OSM_EDITING)return"OSM";if(a.zoom<b("TilesMapConfig").OSM_ZOOM_THRESHOLD)return"HERE";var d=b("leaflet").latLng(a.center.latitude,a.center.longitude);return g.some(function(a){return a.contains(d)})?"OSM":"HERE"},getHereReporterToolUrl:function(a){return new(b("URI"))(b("TilesMapConfig").HERE_MAP_REPORTER_URL).addQueryData("features","road,border").addQueryData("zoomLevel",Math.floor(a.zoom)).addQueryData("lang",b("CurrentLocale").get()).addQueryData("coord",a.center.latitude+","+a.center.longitude).toString()}};e.exports=h}),null);