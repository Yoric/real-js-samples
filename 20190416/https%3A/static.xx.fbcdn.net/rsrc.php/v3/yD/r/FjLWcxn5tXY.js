if (self.CavalryLogger) { CavalryLogger.start_js(["CyTBE"]); }

__d("ExclamationStarsStore.react",["ExclamationStarsConstants","ExclamationStarsDispatcher.react","FluxReduceStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ExclamationStarsConstants").DEFAULT_BACKGROUND_COLOR,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({spendingUnits:0,starsMetadata:null,minimumTip:10,isLoading:!0,transactionError:!1,backgroundColor:g}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new h()};c.reduce=function(a,b){__p&&__p();switch(b.actionType){case"EXCLAMATION_STARS_DETECTED":var c=this.$ExclamationStarsStore1(a,b.spendingUnits);return a.set("spendingUnits",b.spendingUnits).set("backgroundColor",c);case"EXCLAMATION_STARS_UNDETECTED":return a.spendingUnits>0?a.set("spendingUnits",0):a;case"LOAD_EXCLAMATION_STARS_METADATA":c=a.set("starsMetadata",b.starsMetadata).set("minimumTip",b.minimumTip).set("isLoading",!1);if(a.spendingUnits!==0){b=this.$ExclamationStarsStore1(c,c.spendingUnits);c=c.set("backgroundColor",b)}return c;case"HANDLE_TRANSACTION_ERROR":return a.set("transactionError",!0);default:return a}};c.getSpendingUnits=function(){return this.getState().get("spendingUnits")};c.isExclamationStarsDetected=function(){return this.getState().get("spendingUnits")>0};c.getBackgroundColor=function(){return this.getState().get("backgroundColor")};c.isLoading=function(){return this.getState().get("isLoading")};c.$ExclamationStarsStore1=function(a,b){a=a.starsMetadata;if(a!=null){if(b<=a[0].min)return a[0].color;for(var c=0;c<a.length;c++)if(b<=a[c].max)return a[c].color}return g};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ExclamationStarsDispatcher.react"))}),null);