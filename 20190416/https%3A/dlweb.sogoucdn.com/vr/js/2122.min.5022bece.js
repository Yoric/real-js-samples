define("tpl2122",["$","StringUtils","$s","VRUtils"],function(a,b,c,d){var e="http://gouwu.sogou.com",f="http://mini.cpc.sogou.com",g=0,h="http://www.sogou.com";c.domainUtil&&(h="http://"+c.domainUtil.replaceSogoDomain("www.sogou.com"),e="http://"+c.domainUtil.replaceSogoDomain("gouwu.sogou.com"),g=c.domainUtil.isSogoDomain,f="http://"+c.domainUtil.replaceSogoDomain("mini.cpc.sogou.com"));Array.prototype.slice;return function(i,j,k,l){function m(a,b){return(b?"#":"")+"sogou_vr_"+i+(a?"_"+a:"")+"_"+j}function n(){Y.html(b.subString(Y.html(),60,!0))}function o(){U.find(".js2122-title").each(function(){a(this).html(b.subString(a(this).html(),36,!0))})}function p(){var b=W.find("li").eq(0).height(),c=W.find("li").eq(1).height(),d=W.find("li").eq(2).height(),e=W.find("li").eq(3).height(),f=b>=c?b:c,g=d>=e?d:e,h=(f>=g?f:g)+5;U.find(".js2122-show").on("click",function(){W.find("li").show(),W.css("height","auto"),a(this).hide(),U.find(".js2122-hide").show()}),U.find(".js2122-hide").on("click",function(){W.css("height",h),a(this).hide(),U.find(".js2122-show").show()})}function q(){var b=W.find("li").eq(0).height(),c=W.find("li").eq(1).height(),d=W.find("li").eq(2).height(),e=W.find("li").eq(3).height(),f=b>=c?b:c,g=d>=e?d:e,h=(f>=g?f:g)+5;W.css("height","auto"),W.height()>h&&(_.show(),U.find(".js2122-hide").show()),U.find(".js2122-show").on("click",function(){W.css("height","auto"),a(this).hide(),U.find(".js2122-hide").show()}),U.find(".js2122-hide").on("click",function(){W.css("height",h),a(this).hide(),U.find(".js2122-show").show()})}function r(b,c){if(window.shop_adclick=!1,c.className.indexOf("cur")<0){a(c).parent().find("a:not(.js2122-more)").removeClass("cur"),a(c).addClass("cur");var d=U.find(".js2122-table .cur");T=!1,(0==b&&"\u5168\u90e8"==d.eq(0).html()||1==b&&"\u5168\u90e8"==d.eq(0).html()&&"\u5168\u90e8"==d.eq(1).html()||2==b&&"\u5168\u90e8"==d.eq(0).html()&&"\u5168\u90e8"==d.eq(1).html()&&"\u5168\u90e8"==d.eq(2).html())&&(T=!0),T?v(b):s(b)}}function s(b){for(var c={interactionAttr:"",classifyAttr:"",sourceAttr:"",startPrice:"",endPrice:""},d=[],e=0;e<=b;e++)if("\u4ef7\u683c\u533a\u95f4"==a(Z[e]).data("name")||"\u4ef7\u683c"==a(Z[e]).data("name")){var f=a(Z[e]).find(".cur").data("id").split(",");c.startPrice=f[0],c.endPrice=f[1]}else if("\u70ed\u95e8\u5206\u7c7b"==a(Z[e]).data("name"))c.classifyAttr=a(Z[e]).find(".cur").data("id");else if("\u70ed\u95e8\u5546\u5bb6"==a(Z[e]).data("name"))c.sourceAttr=a(Z[e]).find(".cur").data("id");else{d.push(a(Z[e]).find(".cur").data("id"));for(var g=0;g<d.length;g++)""===d[g]&&d.splice(g,1);c.interactionAttr=d.join("_")}S=c;for(var e in S)""===S[e]&&delete S[e];da=aa+"&"+A(S),u(da,b)}function t(){V.css({height:"23px",overflow:"hidden"}),V.each(function(b){var c=a(this);c[0].scrollHeight>25&&"\u6536\u8d77"==c.find(".js2122-more").text()?(c.find("a:first").css({display:"block"}),c.css({height:"auto","max-height":"69px",_height:"69px"})):c[0].scrollHeight>25&&"\u5c55\u5f00"==c.find(".js2122-more").text()?(c.find("a:first").css({display:"block"}),c.css({height:"23px",overflow:"hidden"})):c.find("a:first").css({display:"none"})})}function u(b,c){a.ajax({type:"get",url:b+"&pid="+(window.SgConst&&window.SgConst.common&&window.SgConst.common.pid),dataType:"jsonp",jsonp:"cb",requestCount:++ea,scriptCharset:"UTF-8",success:function(a){if(ea===this.requestCount){if(T)return;a&&a.item&&a.item.display&&a.item.display.subdoc?(a.item.display.interaction&&w(a.item.display.interaction.attribute,c),C(a.item.display,this.requestCount),d.rewriteHref(i,j)):a&&a.error?(da+="&forceQuery=1",u(da,c)):(X.html(""),W.html("\u8be5\u6761\u4ef6\u4e0b\u65e0\u5546\u54c1\u7b26\u5408\uff0c\u8bf7\u4f60\u91cd\u65b0\u7b5b\u9009\uff01"),$.hide(),_.hide(),_.html(""),W.css("height","auto"),x(c))}}})}function v(a){l&&l.item.display.subdoc?(l.item.display.interaction&&w(l.item.display.interaction.attribute,a),C(l.item.display)):(X.html(""),W.html("\u8be5\u6761\u4ef6\u4e0b\u65e0\u5546\u54c1\u7b26\u5408\uff0c\u8bf7\u4f60\u91cd\u65b0\u7b5b\u9009\uff01"),$.hide(),$shwoDiv.html(""),W.css("height","auto"))}function w(b,c){for(var d,e=c+1;e<Z.length;e++){d=a(Z[e]).data("name");for(var f=0;f<b.length;f++)switch(b[f]["@name"]){case d:fa=!0}if(fa){Z.eq(e).show();for(var g=0;g<b.length;g++)d===b[g]["@name"]&&("\u4ef7\u683c\u533a\u95f4"===d||"\u4ef7\u683c"===d?Z.eq(e).find(".js2122-box").html(y(b[g].attrItem,g+1)):Z.eq(e).find(".js2122-box").html(z(b[g].attrItem,g+1)))}else Z.eq(e).hide();fa=!1}t()}function x(a){for(var b=a+1;b<Z.length;b++)Z.eq(b).hide()}function y(a,b){var c=[];c.push('<a class="show js2122-more" href="javascript:void(0)" id="sogou_vr_'+i+"_tab"+b+"-more_"+j+'" style="display:none;">\u5c55\u5f00</a>'),c.push('<a href="javascript:void(0)" id="sogou_vr_'+i+"_tab"+b+"-all_"+j+'" data-id="," class="js2122-price cur">\u5168\u90e8</a>');for(var d=0;d<a.length;d++){var e=a[d].name,f=e.substring(0,e.indexOf(",")),g="~"+e.substring(e.indexOf(",")+1,e.length);"-1"===f&&(f=0),"~-1"==g&&(g="\u4ee5\u4e0a"),c.push('<a href="javascript:void(0)" class="js2122-price" id="sogou_vr_'+i+"_tab"+b+"_"+j+'" data-id="'+a[d].name+'">'+f+g+"</a>")}return c.join("")}function z(a,b){var c=[];c.push('<a class="show js2122-more" href="javascript:void(0)" id="sogou_vr_'+i+"_tab"+b+"-more_"+j+'" style="display:none">\u5c55\u5f00</a>'),c.push('<a href="javascript:void(0)" id="sogou_vr_'+i+"_tab"+b+"-all_"+j+'" data-id="" class="js2122-brand cur">\u5168\u90e8</a>');for(var d=0;d<a.length;d++){var e=a[d].name;c.push('<a href="javascript:void(0)" class="js2122-brand" id="sogou_vr_'+i+"_tab"+b+"_"+j+'" data-id="'+a[d].id+'">'+e+"</a>")}return c.join("")}function A(a){var b=[];for(var c in a)b.push(c+"="+L(a[c]));return b.join("&")}function B(a){var b=parseFloat(a).toString(),c=b.indexOf(".");return c>=0?a.slice(0,c)+a.slice(c,c+3):b}function C(b,d,f){var h=[],k=b.resultNum,l=!1,m=[];if(b.subdoc instanceof Array||(m.push(b.subdoc),b.subdoc=m),k.indexOf(".")>-1&&k.substring(0,la.index(".")).length>4)var n=k.substring(0,la.index(".")),p=n.substring(0,n.length-4)+"."+n.substring(n.length-4,n.length-3)+"\u4e07";else p=k.indexOf(".")==-1&&k.length>4?k.substring(0,k.length-4)+"."+k.substring(k.length-4,k.length-3)+"\u4e07":k;var r="(\u5171"+p+"\u6b3e)",s=Y.find("a")[0].innerHTML;/\(\S+\)/g.test(s)&&(s=Y.find("a")[0].innerHTML.replace(/\(\S+\)/g,r),Y.find("a")[0].innerHTML=s);for(var t=0;t<b.subdoc.length;t++)b.subdoc[t].subitem.subdisplay||(b.subdoc[t].subitem.subdisplay=b.subdoc[t].subitem),b.subdoc[t].subitem.subdisplay.discount>0&&(l=!0);for(var t=0;t<b.subdoc.length;t++)if(t<8){var u,v,w,x=b.subdoc[t].subitem.subdisplay.title,y=b.subdoc[t]["@isAds"],z=b.subdoc[t].subitem.subdisplay.url,A=b.subdoc[t]["@docId"],C=b.subdoc[t]["@bids"],G=b.subdoc[t]["@clusterType"],H=b.subdoc[t].subitem.subdisplay.thumbnails.thumbnail,I=b.subdoc[t].subitem.subdisplay.store_num,J=b.subdoc[t].subitem.subdisplay.is_simi,K=b.subdoc[t].subitem.subdisplay,L=K.cluster_price&&K.cluster_price.num_sim_onsold||"0";if("1"==J&&parseInt(L)>1){var M=b.subdoc[t].subitem.subdisplay.url;M=M.replace(/clf=3/,"clf=2"),M=M.replace(/query=-200/,"query="+(K.cluster_price&&K.cluster_price.stype_id)),w='<p class="bijia-p"><a onclick="return sogou_adclk(event,this)" target="_blank" href="'+M+'">'+L+"\u4e2a\u5546\u5bb6\u6bd4\u4ef7</a></p>"}else w=parseInt(I)>1?'<p class="bijia-p"><a onclick="return sogou_adclk(event,this)" target="_blank" href="'+z+'#compare_tab">'+I+"\u4e2a\u5546\u5bb6\u6bd4\u4ef7</a></p>":"";if(u="1"===y&&0!=z.indexOf(e)?"1":"0",z="1"===y||0==z.indexOf(e)?z:c.httpsUtil.isHttps?"/reventondc/inner/gouwu?hub=redirect&isSogoDomain="+g+"&redirect="+z:e+"/hub?hub=redirect&isSogoDomain="+g+"&redirect="+z,v="1"==G?"stype":"2"==G?"normal_from_stype":"4"==G?"normal_from_nonstype":"normal",H=D(H,"10160007"),h.push('<li style="'+(t<4?"height: 205px;":"")+'" bill="'+u+'" billsrcurl="'+z+'" docid="'+A+'" bids="'+C+'" res_type="'+v+'">'),h.push('<a href="'+b.subdoc[t].subitem.subdisplay.url+'" onclick="return sogou_adclk(event,this)" id="sogou_vr_'+i+"_image"+(t+1)+"_"+j+'" class="module-fourpic-img js2122-business" target="_blank">'),b.subdoc[t].subitem.subdisplay.discount>0){var O=parseInt(b.subdoc[t].subitem.subdisplay.prices.price.original_value-b.subdoc[t].subitem.subdisplay.prices.price.value);O>=1&&h.push('<p class="vr-mask-layer js2122-discount"></p><p class="vr-mask-txt js2122-discount">\u7701'+O+"\u5143</p>")}h.push('<img src="'+H+'"class="js2122-img" style="width: 100%; height: 100%;"/>'),h.push("</a>"),h.push('<p class="module-fourpic-txt">'),h.push('<a href="'+b.subdoc[t].subitem.subdisplay.url+'" onclick="return sogou_adclk(event,this)" id="sogou_vr_'+i+"_image"+(t+1)+"-title_"+j+'" class="js2122-title js2122-business" target="_blank">'+x+"</a>"),h.push("</p>"),h.push("<div>");var P=b.subdoc[t].subitem.subdisplay.short_name;h.push('<span class="module-fourpic-net">'+P+"</span>"),h.push('<span class="module-fourpic-price">\uffe5<strong>'+B(b.subdoc[t].subitem.subdisplay.prices.price.value)+'</strong><span style="color:#999;font-size:12px;margin-left:6px;">\u8d77</span></span></div>'),h.push(w),b.subdoc[t].subitem.subdisplay.price_trend_type&&1==b.subdoc[t].subitem.subdisplay.price_trend_type?h.push('<p class="lishi-p">\u5386\u53f2\u6700\u4f4e</p>'):b.subdoc[t].subitem.subdisplay.price_trend_type&&2==b.subdoc[t].subitem.subdisplay.price_trend_type&&h.push('<p class="lishi-p">\u4ef7\u683c\u4e0b\u964d</p>'),h.push("</li>")}h=h.join(""),W.html(h),_.hide(),_.html(""),b.subdoc.length>4&&"11018401"!=i&&_.html(ha),q(),parseFloat(k)>0?($.show(),$.attr("href",b.url)):$.hide(),U.find(".js2122-img").load(function(){E(a(this)[0])}),U.find(".js2122-img").error(function(){F(a(this)[0])}),o(),N(),R(),l=!1}function D(a,b){if(ret="",!a)return ret;try{var d=a.indexOf("cdn.sogou.com");a.indexOf("url=")+4;d>-1?ret=a.replace(/imgstore(\d+).cdn.sogou.com/g,"img$1.sogoucdn.com"):ret=a,ret=ret.replace(/appid=\d+/g,"appid="+b)}catch(e){return ret}return c.httpsUtil.getCdnImgLink(ret)}function E(a){a.style.visibility="hidden",I(a,126,126),a.style.visibility="visible"}function F(a){H(a,c.httpsUtil.getCdnImgLink("http://dlweb.sogoucdn.com/vr/images/no-img.987cc564.png"))}function G(a,b){var d=b;if(!a)return d;if(a.indexOf("appid")!=-1||a.indexOf("url=http://")==-1)return d;var e=[],f=Math.ceil(4*Math.random()),g=a.match(/.*\/app\/b\/800(\d)\/.*url=(http:.*)/);try{var g=a.match(/.*\/app\/b\/800(\d)\/.*url=(http:.*)/);0<g[1]&&g[1]<9&&g[2]&&(e.push("http://img0"),e.push(f),e.push(".sogoucdn.com/v2/thumb/retype/q/80?appid=1016000"),e.push(g[1]),e.push("&url="),nwimg.push(g[2]),d=e.join(""))}catch(h){d=b}return c.httpsUtil.getCdnImgLink(d)}function H(a,b){a.onerror=function(){this.onerror=null,this.src=b},a.src=G(a.src,b)}function I(a,b,c){var d=new Image;d.onload=function(d){J(a,this.width,this.height,b,c)},d.src=a.getAttribute("src")}function J(a,b,c,d,e){var f,g,h;return 0==c?void setTimeout(function(){J(a,b,c,d,e)},50):void(c/b>e/d?(f=b*e/c,a.style.width=f+"px",h=(d-f)/2,a.style.marginLeft=h+"px",a.style.height=e+"px"):(g=c*d/b,a.style.height=g+"px",h=(e-g)/2,a.style.marginTop=h+"px",a.style.marginBottom=h+"px",a.style.width=d+"px"))}function K(a){var b=document.cookie,c=a+"=",d=b.indexOf("; "+c);if(d==-1){if(d=b.indexOf(c),0!=d)return null}else d+=2;var e=document.cookie.indexOf(";",d);return e==-1&&(e=b.length),b.substring(d+c.length,e)}function L(a){return"function"==typeof encodeURIComponent?encodeURIComponent(a):escape(a)}function M(){var a=(document.location.href||"",{});try{var b=document.getElementById("upquery").value;a.query=L(b),a.from=3}catch(c){a.query="",a.from=3}return a}function N(){var a=document.getElementById("s_footer");if(!a)return void setTimeout(N,100);if(c.httpsUtil.isHttps)var b="/reventondc/inner/minigouwu?isSogoDomain="+g+"&";else var b=f+"/artemis/sirius.html?isSogoDomain="+g+"&";var d=K("YYID"),e=K("SUID"),h=c.$("vr2122-list");if(h){var i=new Array,j=new Array,k=new Array,l=c.$$(h,"li");if(0==l.length)return!1;for(var m=0;m<l.length;m++)if("1"==l[m].getAttribute("bill")){var n=l[m].getAttribute("docid")||"";n=n.replace(/.*-/,"");var o=l[m].getAttribute("res_type"),p="normal_from_stype"==o?1:0;i.push(n+"|"+p);var q=l[m].getAttribute("billsrcurl"),r=L(q);j.push(r);var s=l[m].getAttribute("bids");s=s||"",k.push(s)}if(j.length>0){var t=[],u=M();t.push("callback=bill"),t.push("yyid="+d),t.push("suid="+e),t.push("reqUrlList="+j.join(",")),t.push("reqDoclist="+i.join(",")),t.push("PriceList="+k.join(",")),t.push("queryString="+u.query),t.push("queryFrom="+u.from),t.push("rtype=5"),t.push("pid=sogou_buy"),t.push("mid=336013"),t.push("pageid="+(uuid||"").replace(/-/g,"").substring(0,16)),b+=t.join("&");var v=document.createElement("script");v.async=!0,v.src=b,document.body.appendChild(v)}else window.shop_adclick=!0}}function L(a){return"function"==typeof encodeURIComponent?encodeURIComponent(a):escape(a)}function O(a){oa=c.t(),ma=[a.clientX,a.clientY]}function P(a){pa=c.t()-oa,ja=(new Date).getTime(),na=[a.clientX,a.clientY]}function Q(a,b,c){if(a.indexOf("&"+b+"=")==-1)a+="&"+b+"="+c;else{var d=new RegExp("&"+b+"=[-0-9,]*");a=a.replace(d,"&"+b+"="+c)}return a}function R(){if(!window.shop_adclick)return setTimeout(R,50),!1;fourPicA=c.$$(c.$("vr2122-list"),"a"),allA=[];for(var a=0;a<fourPicA.length;a++)allA.push(fourPicA[a]);for(var a=0;a<allA.length;a++){var b=allA[a].getAttribute("href")||"";b.match(h+"/bill_un.*")&&c.$b(allA[a],["mouseover","mousedown","click"],[function(a){O(a)},function(a){P(a)},function(a){for(var b=a.srcElement||a.target;"a"!=b.tagName.toLowerCase();)b=b.parentNode;var c=0;if("undefined"!=typeof ja&&(c=ja),"undefined"!=typeof adclick_para&&b.href){var d=b.href;try{d=Q(d,"ml",adclick_para.asmml),d=Q(d,"mc",(new Date).getTime()-c),d=Q(d,"ma",[pa,qa,ma[0],ma[1],na[0],na[1],ra.clientWidth,ra.clientHeight].join(",")),d=Q(d,"block",[sa[0],sa[1],ta[0],ta[1]].join(","))}catch(e){}b.href=d}return!0}])}}var S,T,U=a(m("",!0)),V=U.find(".js2122-box"),W=(U.find(".js2122-more"),U.find(".js2122-list")),X=(U.find(".js2122-price"),U.find(".js2122-brand"),U.find(".js2122-result")),Y=U.find(".js2122-vrTitle"),Z=(U.find(".js2122-title"),U.find(".js2122-tr")),$=U.find(".js2122-all"),_=U.find(".js2122-show-div"),aa="/reventondc/inner/gouwu?hub=apiJson&queryType=query&queryFrom=shopVr&queryString="+L(k)+"&requestFullVr=1&charset=utf-8&isSogoDomain="+g,ba=e+"/hub?hub=apiJson&queryFrom=shopVr&queryType=query&queryString="+L(k)+"&vrType=taobaoads&end=1&cb=jsonpcallback21221&isSogoDomain="+g,ca=e+"/hub?hub=apiJson&queryFrom=shopVr&queryType=query&queryString="+L(k)+"&vrType=taobaoads&end=8&cb=jsonpcallback21222&isSogoDomain="+g,da="",ea=0,fa=!1,ga=["/reventondc/external?key=",encodeURIComponent(window.oldQuery),"&uuid=",window.uuid,"&vrid=",i,"&type=2&objid=",i,"&charset=gbk&url="].join("");ba=ga+encodeURIComponent(ba),ca=ga+encodeURIComponent(ca),aa=c.httpsUtil.isHttps?"/reventondc/inner/gouwu?hub=apiJson&queryType=query&queryFrom=shopVr&queryString="+L(k)+"&requestFullVr=1&charset=utf-8&isSogoDomain="+g:e+"/hub?hub=apiJson&queryType=query&queryFrom=shopVr&queryString="+L(k)+"&requestFullVr=1&charset=utf-8&isSogoDomain="+g;var ha=[];ha.push('<a class="module-more-btn js2122-show" href="javascript:void(0)" style="display:none" id="sogou_vr'+i+"_zhankai-1_"+j+'">\u5c55\u5f00<i></i></a>'),ha.push('<a class="module-more-btn module-more-btn-hide js2122-hide" href="javascript:void(0)" style="display:none" id="sogou_vr'+i+"_shouqi-1_"+j+'">\u6536\u8d77<i></i></a>'),ha=ha.join(""),n(),t(),p(),o(),U.find(".js_tongkuan").each(function(b,c){var d=a(c).attr("href"),e=a(c).attr("stypeid");d=d.replace(/clf=3/,"clf=2"),d=d.replace(/query=-200/,"query="+e),a(c).attr("href",d)}),U.find(".js2122-tr-brand").on("click",".js2122-brand",function(b){b.preventDefault(),r(a(this).closest("tr").index(),b.target)}),U.find(".js2122-tr-price").on("click",".js2122-price",function(b){b.preventDefault(),r(a(this).closest("tr").index(),b.target)}),V.on("click",".js2122-more",function(){var b=a(this);23===b.parent().height()?(navigator.userAgent.indexOf("MSIE 6.0")>0?b.parent().css({height:"69px"}):b.parent().css({height:"auto","max-height":"69px"}),b.html("\u6536\u8d77"),b.removeClass("show"),b.addClass("hide")):(b.parent().css({height:"23"}),b.html("\u5c55\u5f00"),b.removeClass("hide"),b.addClass("show"))}),window.shop_adclick=!1,window.bill=function(a){var b=c.$("vr2122-list");if(b){var d=c.$$(b,"li");if(0==d.length)return!1;for(var e=1,f=0;f<d.length;f++)if("1"==d[f].getAttribute("bill")){var g=d[f].getAttribute("billsrcurl");atags=c.$$(d[f],"a");for(var h=0;h<atags.length;h++)atags[h].href==g&&(atags[h].href=a[e]);e++}}window.shop_adclick=!0},N();var ia=0,ja=0,ka=document.onmousemove;document.onmousedown;"undefined"==typeof adclick_para&&(adclick_para={}),adclick_para.asmml=0,document.onmousemove=function(a){adclick_para.asmml=++ia,"function"==typeof ka&&ka(a)};var la,ma=[9999,9999],na=[9999,9999],oa=0,pa=0,qa=0,ra=document,sa=[-1,-1],ta=[-1,-1];"number"!=typeof ra.clientWidth&&(ra=ra.documentElement,ra&&0!==ra.clientHeight||(ra=document.body)),c.$b(window,["scroll"],[function(){qa++}]),R(),d.rewriteHref(i,j)}});