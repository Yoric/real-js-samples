/* sohutv 2017-03-09 10:42:01 */
"undefined"==typeof sohuHD&&(sohuHD={}),kao(function(){sohuHD.producerIcon=sohuHD.producerIcon||{},sohuHD.producerIcon.icons={},sohuHD.producerIcon.data={},sohuHD.producerIcon.getIcons=function(){var t=$.Deferred(),e=this;return $.isEmptyObject(e.icons)?$.getJSON("//my.tv.sohu.com/user/a/media/productlevels.do?uids=&type=-1&callback=?").done(function(o){e.icons=o.icons,t.resolve(o.icons)}).fail(function(){t.reject()}):t.resolve(e.icons),t},sohuHD.producerIcon.getData=function(t){var e=$.Deferred(),o=this;return $.getJSON("//my.tv.sohu.com/user/a/media/productlevels.do?uids="+t.join(",")+"&type=-1&callback=?").done(function(t){$.isEmptyObject(o.icons)&&(o.icons=t.icons),$.extend(o.data,t.data),e.resolve(t.data)}).fail(function(){e.reject()}),e},sohuHD.producerIcon.setIconByLevels=function(t,e,o){e=e||"type",o=o||"level",this.getIcons().done(function(i){t.each(function(){var t=$(this),n=t.data(o),s=t.attr("data-"+e)||"01",a=i[n];n&&t.attr({title:a.title,src:a.src[s]})})})},sohuHD.producerIcon.setIconByUids=function(t){t=$.extend({$uids:"",uidDname:"uid",defType:"01",imgPath:""},t);var e=[],o=this;t.$uids&&(t.$uids.each(function(){var i,n=$(this).data(t.uidDname),s=sohuHD.getUrlParam(this,"uid")||"",a=sohuHD.getUrlParam(this,"type")||"";""!=s&&($(this).data(t.uidDname,s),$(this).attr("data-type",a)),i=s||n,i&&!o.data[i]&&e.push(i)}),e.length&&this.getData(e).done(function(e){var i,n,s,a=t.$uids;a.each(function(){s=$(this).data(t.uidDname),e[s]&&(n=t.imgPath?$(this).find(t.imgPath):$(this),i=o.icons[e[s].level],n.attr({title:i.title}),this.src||n.attr({src:i.src[$(this).attr("data-type")||t.defType]}))})}))}});