/* sohutv 2019-04-16 14:26:50 */
function isSupportedMSE(){return!(!window.MediaSource&&!window.WebkitMediaSource)}function isSupportedWebrtc(){return!!(window.PeerConnection||window.webkitPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection)}function isSupportedWebGL(){return!!window.WebGLRenderingContext}function isCanUseH5Player(){var e=/Trident\/\d\./.test(navigator.userAgent),a={},t=navigator.userAgent.toLowerCase(),i=t.match(/chrome\/([\d.]+)/),o=t.match(/version\/([\d.]+).*safari/i);return i&&(a.chrome=!0,a.version=i[1].split(".")[0]/1),o&&(a.safari=!0,a.version=o[1].split(".")[0]/1),isSupportedMSE()&&isSupportedWebGL()&&!e&&!(a.chrome&&a.version<38)&&!(a.safari&&a.version<10)}var isUseH5Player=function(){function e(e){var a=window.location.search,t=new RegExp("[?&]"+e+"=([^&]+)","i").exec(a);return t&&1<t.length?t[1]:""}var a=!1;try{var t=isCanUseH5Player();(a=t)&&1==e("_h5p")&&(a=!0),1==e("_fp")&&(a=!1)}catch(i){a=!1}return a}();isUseH5Player?-1<["999654","999628","9479802","9073213","998446","9016646"].indexOf(window.playlistId)?document.write(unescape("%3Cscript type='text/javascript' src='"+window.__tv_dict.h5tplayer.path+"' %3E%3C/script%3E")):document.write(unescape("%3Cscript type='text/javascript' src='"+window.__tv_dict.h5player.path+"' %3E%3C/script%3E")):document.write(unescape("%3Cscript type='text/javascript' src='"+window.__tv_dict.swfobject.path+"' %3E%3C/script%3E"));var abtest=sohuHD.cookie("playpage_abtest");if(abtest||(abtest=Math.ceil(10*Math.random())%2,sohuHD.cookie("playpage_abtest",abtest,{path:"/",domain:"tv.sohu.com",expires:100})),-1!=["996778","996777"].indexOf(window.playlistId)&&~~abtest)location.hash="_20190411",document.write(unescape("%3Clink%20type%3D%27text/css%27%20rel%3D%27stylesheet%27%20href%3D%27//css.tv.itc.cn/channel/playv4/nav_2019.css%27%20/%3E")),document.write(unescape("%3Clink%20type%3D%27text/css%27%20rel%3D%27stylesheet%27%20href%3D%27//css.tv.itc.cn/channel/playv4/play_2019.css%27%20/%3E")),kao("//js.tv.itc.cn/site/play/v4/inc.js");else{-1!=location.hash.indexOf("20190411")&&(location.hash=""),kao.add("starmod",{path:"site/play/starmodv2_12b6ff.js",requires:["jquery","paging"]}),kao.add("floatplay",{path:"site/play/floatplay_c89f5e.js",requires:["jquery"]}),kao.add("tv_special_interaction",{path:"site/special/embed/interaction_8e6e61.js",requires:["jquery"]}),kao.add("ifoxtip",{path:"site/play/v1/ifoxtip_beffe0.js",requires:["jquery"]}),kao.add("nav",{path:"site/play/v1/nav_31ea88.js",requires:["jquery","login"]}),kao.add("play_changyan",{path:"site/play/v3/play_changyan_e13696.js",requires:["jquery","passport","paging","login"]}),kao.add("comment_play",{path:"site/play/v3/comment_play_2f0a32.js",requires:["jquery","play_changyan"]}),kao.add("playtoolbar",{path:"site/play/v3/toolbar_216e95.js",requires:["jquery","winbox"]}),kao.add("tmpl",{path:"site/play/v3/tmpl_a795ed.js"}),kao.add("recombar",{path:"site/play/v3/recombar_951323.js",requires:["jquery","tmpl"]}),kao.add("dmbar",{path:"site/play/v3/dmbar_3b8c35.js",requires:["jquery","tmpl"]}),kao.add("play",{path:"site/play/v3/play_7352ed.js",requires:["jquery","payvip","tmpl"]}),kao.add("play_report",{path:"site/play/v3/play_report_7e93ec.js",requires:["jquery","payvip","tmpl"]}),kao.add("play_worldcups",{path:"site/play/v3/play_worldcups_2a91bd.js",requires:["jquery","login"]}),kao.add("play_zzccnn",{path:"site/play/v3/play_zzccnn_fea132.js",requires:["jquery","login"]}),kao.add("play_pay",{path:"site/play/v3/pay_380c8d.js",requires:["jquery","winbox","payvip"]}),kao.add("play_menuad",{path:"site/play/v3/menu_ad_9dcfd9.js",requires:["jquery"]}),kao.add("play_drm",{path:"site/play/v3/drm_d8f9be.js",requires:["jquery","play"]}),window.playlistId&&"9150544"===playlistId&&(vrs_player="//swf.tv.sohu.com/upload/swf/20180118/Main.swf");var _e=function(){};"undefined"!=typeof console&&console.info&&(_e=function(e){console.info(e)}),window.switchPlayer=function(e){var a=0;if("flash"==e){try{a=parseInt(window._player.movieCurrentTime)}catch(i){}location.href=location.href.split("?")[0]+"?_fp=1"+(a&&30<a?"#"+a:"")}else{var t=document.getElementById("player");t&&t.playedTime&&(a=parseInt(t.playedTime())),location.href=location.href.split("?")[0]+"?_h5p=1"+(a&&30<a?"#"+a:"")}},function(s,d){var e=d.settings={ratio:1.77};-1<["7","8","33","34","21"].indexOf(s.cid+"")||s.isSports?(e.pageSize=100,e.pageOrder=0):-1<["13","24","25"].indexOf(s.cid+"")?(e.pageSize=100,e.pageOrder=1,e.pageRule=2):("16"==s.cid?e.pageSize=100:e.pageSize=999,e.pageOrder=0),d.width&&d.height&&(e.ratio=parseInt(d.width,10)/parseInt(d.height,10),e.ratioFrom="hotvrs",messagebus.publish("play.awareof_video_ratio",e.ratio)),sohuHD.getPlayerArea=function(e){var a=d.settings.ratio||1.77,t=document.getElementById("playerBar"),i=document.getElementById("sohuplayer").getBoundingClientRect(),o=0;o-=98;var s=i.right-i.left-(e||0),n=s/a;return n=Math.min(document.documentElement.clientHeight-t.offsetTop+o,n),{width:s,height:n=Math.max(375,n)}},sohuHD.isDMEnabled=function(){var e,a,t,i,o=(e=s.navigator.userAgent,a=/iphone|ipod|ipad/gi.test(e),t=/android/gi.test(e),i=/IEMobile/.test(e),a||t||i);return sohuHD.baseInfo.dm&&0<parseInt(sohuHD.baseInfo.dm,10)&&!o},sohuHD.baseInfo.voteId&&messagebus.publish("player.interaction",{voteId:sohuHD.baseInfo.voteId})}(window,sohuHD.baseInfo||(sohuHD.baseInfo={})),function(c){var n=sohuHD.baseInfo||{};c.isPianhua=c.pianhua&&("1"==c.pianhua||"2"==c.pianhua),c.albumIsPay=sohuHD.baseInfo.early||0;var t=c.isPianhua?1:n.settings.pageRule,d=c.isPianhua?999:n.settings.pageSize,o=c.isPianhua?1:n.settings.pageOrder;function i(e){var a="//pl.hd.sohu.com/videolist?playlistid="+c.playlistId+"&o_playlistId="+c.o_playlistId+"&vid="+c.vid+"&pianhua="+c.pianhua+"&pageRule="+t+"&pagesize="+d+"&order="+o+"&cnt=1&ssl=0"+(e?"&preVideoRule="+e:"")+(c.isPianhua?"&withPgcVideo=1":"")+"&callback=__get_videolist";sohuHD.getScript(a)}c.__get_videolist=function(e){if(e){if(!e.tvIsIntrest&&e.prevideos&&e.prevideos.length){for(var a,t,i=e.videos.length,o=0,s=e.prevideos.length;o<s;o++)(t=e.prevideos[o]).isPrevideo=!0,t.order<=i?(a=t.order-1,e.videos.splice(a,0,t)):e.videos.push(t);e.prevideos=[]}e.playlistid=c.playlistId,e.pageSize=d,n.videoList=e,messagebus.publish("play.loaded_video_list",e)}},c.pageType&&"report"==c.pageType?(d=999,o=1,messagebus.subscribe("core.loaded_first_screen",function(e,a){var t=n.videoDate=function(){if(c.videoDate)return c.videoDate;var e=document.getElementById("crumbsBar"),a="";e.innerText?a=e.innerText:e.textContent&&(a=e.textContent);var t=/\d{8}/.exec(a);return t&&t.length&&(t=t[0]),t}(),i="//pl.hd.sohu.com/playlist_set?date="+t+"&pagesize="+d+"&order="+o+(20150630<parseInt(t,10)?"":"&ver=1")+"&callback=__get_videolist";sohuHD.getScript(i)},null,null,{cache:!0})):c.playlistId&&0<c.playlistId.length&&(sohuHD.passport.getPassport()?messagebus.subscribe("core.login.userinfo",function(e,a){2==a.feetype?i(2):i(3)},null,null,{cache:!0}):i(3)),c.showDownload=function(){c.isWorldCup||messagebus.publish("video.candownload")},c.spxzClick=function(){c.isWorldCup||messagebus.publish("ifox.showdetail")},c.playerMovieLoaded=function(){messagebus.publish("play.playerMovieLoaded")},c.playStart=function(){messagebus.publish("play.playStart")},c.initPageVote=function(e){e&&"0"!=e&&!sohuHD.baseInfo.voteId&&messagebus.publish("player.interaction",{voteId:e})},c.initVideoListData=function(){messagebus.subscribe("play.setflash_video_list",function(e,a){_e("\u8bbe\u7f6eflash\u5267\u96c6\u5217\u8868");try{var t=sohuHD.getElem("player");t.initVideoListData(a),t.getVideoListData(a)}catch(i){}},null,null,{cache:!0}),c.pageType&&"report"==c.pageType&&messagebus.subscribe("play.loaded_video_list",function(e,a){_e("\u8bbe\u7f6e\u5a31\u4e50\u64ad\u62a5flash\u5267\u96c6\u5217\u8868");try{sohuHD.getElem("player").initVideoListData(a)}catch(t){}},null,null,{cache:!0})},c.saysayClick=function(){$(c).scrollTop($("#content").position().top-34)},c.showFlashGames=function(e,a,t){_e("showFlashGames");playlistId},c.hideFlashGames=function(){_e("hideFlashGames"),messagebus.publish("play.hide_flashgames")},c.__findAreaText=function(){var e=$("#areabox").text().match(/\u4ea7\u5730\uff1a(.+)/);return e&&1<e.length?$.trim(e[1]):""},c.openVipWin=function(e){_e("openVipWin"),kao("play_pay"),messagebus.publish("play.openVipWin",e)},c.flashPlayDrm=function(e,a){kao("play_drm"),messagebus.publish("play.drm",{isVa:e,videoInfo:a})},c.openPayVip=function(){kao("payvip"),messagebus.publish("play.openPayVip")},c.refreshPayVideo=function(){_e("refreshPayVideo"),c.videoIsFee=1;var e=document.getElementById("player");e&&(e.outerHTML=sohuHD.createSWFObject().getFlashHtml(),messagebus.publish("statV2.ping",{type:"impress",txid:"PL_S_Pagerefresh"}),sohuHD.play&&sohuHD.play.adjust&&sohuHD.play.adjust())},c.getPageFocus=function(){var e=sohuHD.AD&&sohuHD.AD.__pageFocus;return(document.hidden||document.webkitHidden||document.mozHidden||document.msHidden)&&(e=0),e},c.isHalfInView=function(){var e=document.getElementById("player").getBoundingClientRect(),a=document.documentElement.clientWidth,t=document.documentElement.clientHeight,i=parseInt(e.width),o=parseInt(e.height),s=parseInt(i*o/2),n=i,d=o;return e.top<0?d=e.bottom:e.bottom>t&&(d=t-e.top),e.left<0?n=e.right:e.right>a&&(n=a-e.left),s<parseInt(d*n)},c.isHalfInScreen=function(){var e=document.getElementById("player"),a=e.getBoundingClientRect(),t=Number(Mix.css.getStyle(e,"width").slice(0,-2)),i=Number(Mix.css.getStyle(e,"height").slice(0,-2)),o=c.screen.availWidth,s=c.screen.availHeight,n="number"==typeof c.screenLeft?c.screenLeft:c.screenX,d="number"==typeof c.screenTop?c.screenTop:c.screenY,r=d+a.top,l=d+a.bottom,p=n+a.left,u=n+a.right;return!(l<i/2||s-i/2<r||u<t/2||o-t/2<p)},c.saveFlashLog=function(t){t=t||"",sohuHD.passport.getPassport()?kao("jquery",function(){$.ajax({url:"//feedback.tv.sohu.com/open/auth/token?uid=Client_"+(new Date).getTime(),type:"get",dataType:"json"}).then(function(e){if(200==e.status){var a=e.data;$.ajax({url:"//feedback.tv.sohu.com/open/log/save",type:"post",data:{uid:sohuHD.user.uid,content:t,isDelete:1},dataType:"json",headers:{Authorization:a}}).then(function(e){if(200==e.status){var a=["",'<div style="background:#222;border:1px solid #737373;width:153px;height:51px;line-height:51px;font-size:16px;text-align:center;position:absolute;top:50%;left:50%;margin:-50px 0 0 -250px;">','    <span style="background:url(//css.tv.itc.cn/channel/play_v1_img/tanmu/ok.png) no-repeat;display:inline-block;margin-right:12px;width:22px;height:22px;vertical-align:middle;"></span>','    <span class="ib va-m">\u53d1\u9001\u6210\u529f!</span>',"</div>"].join(""),t=$(a).appendTo("#sohuplayer");setTimeout(function(){t.remove()},3e3)}})}})}):(sohuHD.initLogin(),sohuHD.showLoginWinbox())},sohuHD.onPlayerReady=function(){_e("player ready"),messagebus.publish("play.playerReady")},sohuHD.onVideoPlayed=function(e,a,t,i){_e("player videoplayed"),sohuHD.onVideoPlayed.hasCall||(sohuHD.onVideoPlayed.hasCall=!0,messagebus.publish("play.onVideoPlayed",{uid:e,vt:a,rp:t,notJoin:i}))},sohuHD.onVideoPause=function(){_e("player pause"),sohuHD.playStatus="pause",messagebus.publish("play.pause")},sohuHD.onVideoPlay=function(){_e("player play"),sohuHD.playStatus="play",messagebus.publish("play.play")},sohuHD.onMAdShown=function(){messagebus.publish("play.onMAdShown")},sohuHD.onMAdFinish=function(){messagebus.publish("play.onMAdFinish")},sohuHD.onStartAdShown=function(){messagebus.publish("play.onStartAdShown")},sohuHD.onStartAdFinish=function(){messagebus.publish("play.onStartAdFinish")},sohuHD.createSWFObject=function(){var e=sohuHD.getPlayerArea(1==c.cid?0:340),a=new SWFObject(vrs_player,"player",e.width,e.height,"9,0,115","#000000");if(a.addParam("allowscriptaccess","always"),a.addParam("allowfullscreen","true"),a.addParam("wmode","Opaque"),a.addVariable("imgCutBtn","0"),9001!=cid&&(a.addVariable("nid",nid),a.addVariable("pid",pid),a.addVariable("plid",playlistId),a.addVariable("pub_catecode",osubcid)),a.addVariable("playPage","1"),a.addVariable("datashare","1"),a.addVariable("skin","0"),a.addVariable("domain","inner"),a.addVariable("cover",cover),a.addVariable("pageurl",document.URL),"9001"==cid&&_videoInfo&&1!=_videoInfo.from?a.addVariable("id",vid):(a.addVariable("vid",vid),a.addVariable("tvid",c.tvid)),a.addVariable("sid",sohuHD.cookie("SUV")),a.addVariable("jump","0"),a.addVariable("shareBtn","1"),a.addVariable("cinemaBtn","1"),a.addVariable("playListId","1"),a.addVariable("miniWinBtn","1"),a.addVariable("lightBtn","0"),a.addVariable("order",o),a.addVariable("onPlayed","sohuHD.onVideoPlayed"),a.addVariable("onPlay","sohuHD.onVideoPlay"),a.addVariable("onPlayerReady","sohuHD.onPlayerReady"),a.addVariable("onPause","sohuHD.onVideoPause"),a.addVariable("onMAdShown","sohuHD.onMAdShown"),a.addVariable("onMAdFinish","sohuHD.onMAdFinish"),a.addVariable("onStartAdShown","sohuHD.onStartAdShown"),a.addVariable("onStartAdFinish","sohuHD.onStartAdFinish"),c._videoInfo&&"20"==_videoInfo.vType&&a.addVariable("sogouBtn",0),navigator.userAgent.toLowerCase().match(/version\/([\d.]+).*safari/)||c.isWorldCup||a.addVariable("downloadBtn","1"),"undefined"!=typeof category&&""!=category&&9001!=cid&&a.addVariable("cmscat",category),"undefined"==typeof cid||"1"!=cid&&"2"!=cid||a.addVariable("isWriteComm","1"),c.isWorldCup&&a.addVariable("shareBtn","0"),a.addVariable("autoplay","true"),sohuHD.variables){var t=sohuHD.variables;for(var i in t)a.addVariable(i,t[i])}return c.videoIsFee&&"1"==c.videoIsFee&&a.addVariable("tv_is_fee",c.videoIsFee),a},messagebus.subscribe("core.rendervideo",function(){var s=sohuHD.ifox;sohuHD.install={},sohuHD.install.isInstall=function(){return s.isInstalled()},sohuHD.install.play=function(e,a,t,i,o){s.play(e,a,t,i,o)};var e=340;1==c.cid&&(e=0);var o=sohuHD.getPlayerArea(e);if(c.sohuHD.playerUrl=vrs_player,c.__tv_M&&__tv_M.addTag("player_start"),isUseH5Player){var a=function i(){var e=document.getElementById("sohuplayer"),a=document.createElement("div");if(a.id="player",a.style.height=o.height+"px",a.style.width=o.width+"px",e.insertBefore(a,e.firstChild),1!=c.cid){var t=document.createElement("div");t.id="menu",t.style.width="340px",t.style.height=o.height+"px",e.appendChild(t)}return playerFactory.createPlayer("#player",{data:{vid:vid,plid:playlistId,site:1,fee:c.videoIsFee,tvid:c.tvid,isShowDm:~~sohuHD.isDMEnabled(),isPlayPage:1},autoplay:!0,pjax:!0})}();a.on("playvideo",function(e){messagebus.publish("h5player.playvideo"),c.vid!=e.vid&&c.modifyVideoState&&(c.tvid=e.tvid,c.vid=e.vid,c.url=e.url,c.h5p_title=e.title,"2"==e.site?c.modifyVideoState(e.vid,e.url,!0):sohuHD.getScript("//hotvrs.js.tv.itc.cn/videoinfo/"+e.vid+"/"+e.tvid+"/"+e.plid+"/playnext_init_video_info.js"))}),a.on("data.exception",function(e){102==(e=e||{}).code&&c.openVipWin()}),a.on("data.trysee",function(e){c.openVipWin("trysee")}),c._player=a,messagebus.subscribe("playerblock.resize",function(){a.resize()}),c.playnext_init_video_info=function(e){$.extend(sohuHD.baseInfo,e),c.modifyVideoState(c.vid,c.url,!0)}}else!function n(){var e=sohuHD.createSWFObject(),a=sohuHD.getElem("sohuplayer"),t="";t=1==c.cid?e.getFlashHtml():[e.getFlashHtml(),'<div id="menu" style="width:340px;height:',o.height,'px;"> </div>'].join(""),a.innerHTML=t,a.style.height=o.height+"px";var i=sohuHD.getElem("player");return i.style.height=o.height+"px",i.style.width=o.width+"px",i}()},null,null,{cache:!0});var s=sohuHD.cookie("fee_status");messagebus.subscribe("core.login.userinfo",function(e,a){var t=sohuHD.cookie("fee_status");s!=t&&(sohuHD.cookie("login_reload","1"),location.reload())},null,null,{cache:!0}),messagebus.subscribe("core.logout",function(e,a){var t=sohuHD.cookie("fee_status");s&&!t&&location.reload()},null,null,{cache:!0}),sohuHD.isDMEnabled()&&kao("dmbar")}(window),function(t){var i=null,e=function(){var e,a=document.documentElement.clientWidth;i!=(e=1460<a?"W-1460":1300<a?"W-1300":1140<a?"W-1140":"W-980")&&(i=e,document.body.className=e,t.currentBodyClassName=e,messagebus.publish("play.changed_body_class",e)),messagebus.publish("play.window_onresize")};e(),t.onresize=e}(window),function(e){e.specialTopFavBarSign=!0,messagebus.subscribe("core.loaded_nav",function(){kao("nav")},null,null,{cache:!0}),e.isWorldCup?kao("play_worldcups"):e.pageType&&"zzccnn"==e.pageType?kao("play_zzccnn"):e.pageType&&"report"==e.pageType?kao("play_report"):kao("play")}(window),function(n,e){var a={api:{getListByVid:"//my.tv.sohu.com/interaction/get/getListByVidForVrs.do",addVoteChildCount:"//my.tv.sohu.com/interaction/add/addVoteChildCount.do"},getList:function(){var a=this,e=a.api;return $.get(e.getListByVid,{vid:n.tvid,sid:n.playlistId,plat:1,encode:"gbk"},$.noop,"jsonp").done(function(e){a.__cached=e})},getListItem:function(i){var e=this,a=$.Deferred(),t=function(){var t=null;1==e.__cached.status&&$.isArray(e.__cached.data)?($.each(e.__cached.data,function(e,a){if(a.basicId==i)return t=a,!1}),a.resolve(t)):a.reject()};return e.__cached?t():e.getList().done(function(){t()}).fail(function(){a.reject()}),a.promise()},enabled:function(){return e.baseInfo.isai&&1==e.baseInfo.isai},start:function(s){s&&this.enabled()&&this.getList().done(function(t){if(t.data){messagebus.subscribe("play.player_menu_inited",function(e,a){$('[data-tab="album-tab-interaction"]').show()},null,null,{cache:!0});var i,o={basicId:-1};$.each(t.data,function(e,a){(i=t.data[e+1])&&(a.nextPoint=i)});n.setInterval(function(e){var i,a=(i=e||s.playedTime(),$.grep(t.data,function(e){var a=e.interactionInfo.beginTime,t=a+e.interactionInfo.sustainTime;return a<=i&&i<=t}));a&&0<a.length?a[0].basicId!=o.basicId&&(o=a[0],messagebus.publish("play.notify_interaction",o),messagebus.publish("statV2.ping",{type:"click",txid:"pg_player_adgametab",other:"auto"})):o={basicId:-1}},1e3)}}).done(function(e){messagebus.publish("play.loaded_interaction",e)})}};e.interactions=a}(window,sohuHD),messagebus.subscribe("core.loaded_right",function(e,a){kao("comment_play")},null,null,{cache:!0}),messagebus.subscribe("core.loaded_left",function(e,a){kao("jquery",function(){"999628"==window.playlistId&&(Math.ceil(10*Math.random())%2?($('[data-pb-txid="pg_playadvtxt"]').attr("data-pb-txid","pg_playadvtxt_a"),$('[data-pb-txid="pg_playadvpic"]').attr("data-pb-txid","pg_playadvpic_a")):($("head").append("<style>#playtoolbar .ad{overflow: hidden;width:480px; position: absolute; right: 0; top: 1px;}#noads{line-height:50px;}#playtoolbar .vBox-right,#playtoolbartg{display:none !important}.noads .tf a{display:none}.noads .tf a:first-child{display:block}</style>"),$("#playtoolbar").append($("#crumbsBar .right>.ad")),$('[data-pb-txid="pg_playadvtxt"]').attr("data-pb-txid","pg_playadvtxt_b"),$('[data-pb-txid="pg_playadvpic"]').attr("data-pb-txid","pg_playadvpic_b"),setTimeout(function(){$(".ad .tf a:eq(1)").remove()},3e3)))})},null,null,{cache:!0})}