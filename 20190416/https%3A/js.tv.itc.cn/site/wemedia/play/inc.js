/* sohutv 2019-04-16 14:26:50 */
function isSupportedMSE(){return!(!window.MediaSource&&!window.WebkitMediaSource)}function isSupportedWebrtc(){return!!(window.PeerConnection||window.webkitPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection)}function isSupportedWebGL(){return!!window.WebGLRenderingContext}function isCanUseH5Player(){var e=/Trident\/\d\./.test(navigator.userAgent),a={},i=navigator.userAgent.toLowerCase(),t=i.match(/chrome\/([\d.]+)/),n=(i.match(/(webkit)[ \/]([\w.]+)/),i.match(/edge\/([\d.]+)/)),o=i.match(/version\/([\d.]+).*safari/i);return n?(a.edge=!0,a.version=n[1].split(".")[0]/1):t?(a.chrome=!0,a.version=t[1].split(".")[0]/1):o&&(a.safari=!0,a.version=o[1].split(".")[0]/1),isSupportedMSE()&&isSupportedWebGL()&&!e&&!(a.safari&&a.version<10)&&!(a.chrome&&a.version<38)&&!(a.edge&&a.version<13)}kao.add("playtoolbar",{path:"site/play/v1/toolbar_9c76c5.js",requires:["jquery","winbox"]}),kao.add("play_changyan",{path:"site/play/v3/play_changyan_e13696.js",requires:["jquery","passport","paging","login"]}),kao.add("comment_play",{path:"site/play/v3/comment_play_2f0a32.js",requires:["jquery","play_changyan"]}),kao.add("tmpl",{path:"site/wemedia/play/tmpl_fa5184.js"}),kao.add("play",{path:"site/wemedia/play/v1/play_81970c.js",requires:["jquery","payvip","tmpl","wemedia-ui-common"]}),kao.add("dmbar",{path:"site/play/v3/dmbar_3b8c35.js",requires:["jquery","tmpl"]}),kao.add("daren.rcmm",{path:"site/wemedia/play/darenRcmm_ca47ed.js",requires:["jquery","tmpl"]}),kao.add("floatplay",{path:"site/play/floatplay_c89f5e.js",requires:["jquery"]}),kao.add("nav_edu",{path:"site/wemedia/play/nav_edu_ced00e.js",requires:["jquery","login"]}),kao.add("play_edu",{path:"site/wemedia/play/play_edu_fda210.js",requires:["jquery","payvip","tmpl","wemedia-ui-common"]}),kao.add("play_menuad",{path:"site/play/v3/menu_ad_9dcfd9.js",requires:["jquery"]}),window.switchPlayer=function(e){if("flash"==e){var a=0;try{a=parseInt(window._player.movieCurrentTime)}catch(t){}location.href=location.href.split("?")[0]+"?_fp=1"+(a&&30<a?"#"+a:"")}else{var i=document.getElementById("player");i&&i.playedTime&&(a=parseInt(i.playedTime())),location.href=location.href.split("?")[0]+"?_h5p=1"+(a&&30<a?"#"+a:"")}};var isUseH5Player=function(){function e(e){var a=window.location.search,i=new RegExp("[?&]"+e+"=([^&]+)","i").exec(a);return i&&1<i.length?i[1]:""}var a=!1;try{var i=isCanUseH5Player();a=i,window.isPayVideo&&0<window.isPayVideo&&(a=!1),i&&1==e("_h5p")&&(a=!0),1==e("_fp")&&(a=!1)}catch(t){a=!1}return a}();isUseH5Player?document.write(unescape("%3Cscript type='text/javascript' src='"+window.__tv_dict.h5player.path+"' %3E%3C/script%3E")):document.write(unescape("%3Cscript type='text/javascript' src='"+window.__tv_dict.swfobject.path+"' %3E%3C/script%3E")),9048604==playlistId&&(vrs_player="//tv.sohu.com/upload/swf/sv2017/20171129/Main.swf"),window.playlistId&&"9412506"===window.playlistId&&(vrs_player="//swf.tv.sohu.com/upload/swf/20180118/Main.swf"),function(c){sohuHD.getPlayerArea=function(e){c.ratio=parseFloat(c.ratio);var a=c.ratio||1.77,i=document.getElementById("playerBar"),t=document.getElementById("sohuplayer").getBoundingClientRect(),n=0;n-=98;var o=t.right-t.left-(e||0),s=o/a+36;return s=Math.min(document.documentElement.clientHeight-i.offsetTop+n,s),{width:o,height:s=Math.max(508,s)}},sohuHD.baseInfo=sohuHD.baseInfo||{},sohuHD.baseInfo.dm=c.dm||"0",sohuHD.isDMEnabled=function(){var e,a,i,t,n=(e=c.navigator.userAgent,a=/iphone|ipod|ipad/gi.test(e),i=/android/gi.test(e),t=/IEMobile/.test(e),a||i||t);return sohuHD.baseInfo.dm&&0<parseInt(sohuHD.baseInfo.dm,10)&&!n},c.showDownload=function(){messagebus.publish("video.candownload")},c.spxzClick=function(){messagebus.publish("ifox.showdetail")},c.playerMovieLoaded=function(){messagebus.publish("play.playerMovieLoaded")},c.playStart=function(){messagebus.publish("play.playStart")},c.updateInteractionVoteData=function(e){var a=null;try{a=new Function("return "+e)()}catch(i){a=null}a&&messagebus.publish("play.updateInteractionVoteData",a)},c.__playerRssStateCallback=function(e){messagebus.publish("play.updateRssState",e)},c.saysayClick=function(){$(c).scrollTop($("#content").position().top)},c.openPayVip=function(){kao("payvip"),messagebus.publish("play.openPayVip")},c.getPageFocus=function(){var e=sohuHD.AD&&sohuHD.AD.__pageFocus;return(document.hidden||document.webkitHidden||document.mozHidden||document.msHidden)&&(e=0),e},c.isHalfInView=function(){var e=document.getElementById("player").getBoundingClientRect(),a=document.documentElement.clientWidth,i=document.documentElement.clientHeight,t=parseInt(e.width),n=parseInt(e.height),o=parseInt(t*n/2),s=t,d=n;return e.top<0?d=e.bottom:e.bottom>i&&(d=i-e.top),e.left<0?s=e.right:e.right>a&&(s=a-e.left),o<parseInt(d*s)},c.isHalfInScreen=function(){var e=document.getElementById("player"),a=e.getBoundingClientRect(),i=Number(Mix.css.getStyle(e,"width").slice(0,-2)),t=Number(Mix.css.getStyle(e,"height").slice(0,-2)),n=c.screen.availWidth,o=c.screen.availHeight,s="number"==typeof c.screenLeft?c.screenLeft:c.screenX,d="number"==typeof c.screenTop?c.screenTop:c.screenY,r=d+a.top,l=d+a.bottom,u=s+a.left,p=s+a.right;return!(l<t/2||o-t/2<r||p<i/2||n-i/2<u)},c.saveFlashLog=function(i){i=i||"",sohuHD.passport.getPassport()?kao("jquery",function(){$.ajax({url:"//feedback.tv.sohu.com/open/auth/token?uid=Client_"+(new Date).getTime(),type:"get",dataType:"json"}).then(function(e){if(200==e.status){var a=e.data;$.ajax({url:"//feedback.tv.sohu.com/open/log/save",type:"post",data:{uid:sohuHD.user.uid,content:i,isDelete:1},dataType:"json",headers:{Authorization:a}}).then(function(e){if(200==e.status){var a=["",'<div style="background:#222;border:1px solid #737373;width:153px;height:51px;line-height:51px;font-size:16px;text-align:center;position:absolute;top:50%;left:50%;margin:-50px 0 0 -250px;">','    <span style="background:url(//css.tv.itc.cn/channel/play_v1_img/tanmu/ok.png) no-repeat;display:inline-block;margin-right:12px;width:22px;height:22px;vertical-align:middle;"></span>','    <span class="ib va-m">\u53d1\u9001\u6210\u529f!</span>',"</div>"].join(""),i=$(a).appendTo("#sohuplayer");setTimeout(function(){i.remove()},3e3)}})}})}):(sohuHD.initLogin(),sohuHD.showLoginWinbox())},sohuHD.onPlayerReady=function(){_e("player ready"),messagebus.publish("play.playerReady")},sohuHD.onVideoPlayed=function(e,a,i,t){_e("player videoplayed"),sohuHD.onVideoPlayed.hasCall||(sohuHD.onVideoPlayed.hasCall=!0,messagebus.publish("play.onVideoPlayed",{uid:e,vt:a,rp:i,notJoin:t}))},sohuHD.onVideoPause=function(){_e("player pause"),sohuHD.playStatus="pause",messagebus.publish("play.pause")},sohuHD.onVideoPlay=function(){_e("player play"),sohuHD.playStatus="play",messagebus.publish("play.play")},sohuHD.onMAdShown=function(){messagebus.publish("play.onMAdShown")},sohuHD.onMAdFinish=function(){messagebus.publish("play.onMAdFinish")},sohuHD.onStartAdShown=function(){messagebus.publish("play.onStartAdShown")},sohuHD.onStartAdFinish=function(){messagebus.publish("play.onStartAdFinish")},sohuHD.createSWFObject=function(){var e=sohuHD.getPlayerArea(1==c.cid?0:340),a=new SWFObject(c.vrs_player,"player",e.width,e.height,"9,0,115","#000000");if(a.addParam("allowscriptaccess","always"),a.addParam("allowfullscreen","true"),a.addParam("wmode","Opaque"),9001!=cid?(a.addVariable("nid",nid),a.addVariable("pid",pid),a.addVariable("plid",playlistId),a.addVariable("pub_catecode",osubcid)):c.plid&&a.addVariable("plid",c.plid),"1"==c.isPayVideo&&a.addVariable("api_key","037f723e008a83c9a69847c032814842"),a.addVariable("playPage","1"),a.addVariable("skin","0"),a.addVariable("domain","inner"),a.addVariable("cover",cover),a.addVariable("pageurl",document.URL),"9001"==cid&&_videoInfo&&1!=_videoInfo.from?a.addVariable("id",vid):a.addVariable("vid",vid),a.addVariable("sid",sohuHD.cookie("SUV")),a.addVariable("jump","0"),a.addVariable("shareBtn","1"),a.addVariable("cinemaBtn","1"),a.addVariable("playListId","1"),"1"==c.isPayVideo?a.addVariable("miniWinBtn","0"):a.addVariable("miniWinBtn","1"),a.addVariable("lightBtn","0"),a.addVariable("imgCutBtn","0"),a.addVariable("onPlayed","sohuHD.onVideoPlayed"),a.addVariable("onPlay","sohuHD.onVideoPlay"),a.addVariable("onPlayerReady","sohuHD.onPlayerReady"),a.addVariable("onPause","sohuHD.onVideoPause"),a.addVariable("onMAdShown","sohuHD.onMAdShown"),a.addVariable("onMAdFinish","sohuHD.onMAdFinish"),a.addVariable("onStartAdShown","sohuHD.onStartAdShown"),a.addVariable("onStartAdFinish","sohuHD.onStartAdFinish"),c._videoInfo&&"20"==_videoInfo.vType&&a.addVariable("sogouBtn",0),navigator.userAgent.toLowerCase().match(/version\/([\d.]+).*safari/)||a.addVariable("downloadBtn","1"),"undefined"!=typeof category&&""!=category&&9001!=cid&&a.addVariable("cmscat",category),"undefined"==typeof cid||"1"!=cid&&"2"!=cid||a.addVariable("isWriteComm","1"),a.addVariable("autoplay","true"),sohuHD.variables){var i=sohuHD.variables;for(var t in i)a.addVariable(t,i[t])}return a},messagebus.subscribe("core.rendervideo",function(){var o=sohuHD.ifox;sohuHD.install={},sohuHD.install.isInstall=function(){return o.isInstalled()},sohuHD.install.play=function(e,a,i,t,n){o.play(e,a,i,t,n)};var s=sohuHD.getPlayerArea(1==c.cid?0:340);if(isUseH5Player){var e=function t(){var e=document.getElementById("sohuplayer"),a=document.createElement("div");if(a.id="player",a.style.height=s.height+"px",a.style.width=s.width+"px",e.insertBefore(a,e.firstChild),1!=c.cid){var i=document.createElement("div");i.id="menu",i.style.width="340px",i.style.height=s.height+"px",e.appendChild(i)}return playerFactory.createPlayer("#player",{data:{vid:vid,plid:playlistId,site:2,isShowDm:~~sohuHD.isDMEnabled(),isPlayPage:1},autoplay:!0,pjax:!0})}();e.on("ended",function(){c.swfGotoNewPage&&c.swfGotoNewPage()}),e.on("playvideo",function(e){messagebus.publish("h5player.playvideo")}),c._player=e,messagebus.subscribe("playerblock.resize",function(){e.resize()})}else!function d(){var e=['<div id="menu" style="width:340px;height:',s.height,'px;"> </div>'].join(""),a=sohuHD.getElem("sohuplayer");if("1"==c.isPayVideo&&"0"==c.isPay&&"0"==isTrailer)a.innerHTML=e;else{var i=sohuHD.createSWFObject();if(1==c.cid)var t=i.getFlashHtml();else t=i.getFlashHtml()+e;a.innerHTML=t;var n=sohuHD.getElem("player");n.style.height=s.height+"px",n.style.width=s.width+"px"}a.style.height=s.height+"px"}()},null,null,{cache:!0}),messagebus.subscribe("core.login.userinfo",function(e,a){if(!isUseH5Player){var i=document.getElementById("player");try{var t=function n(){return i&&i.startAdInPlay?i.startAdInPlay():0}();0!==a.feetype&&1==t&&(isUseH5Player||(i.outerHTML=i.outerHTML),messagebus.publish("statV2.ping",{type:"click",txid:"pg_player_viprf"}),messagebus.publish("core.reload_flashplayer"))}catch(o){}}},null,null,{cache:!0}),sohuHD.isDMEnabled()&&kao("dmbar")}(window),function(i){var t=null,e=function(){var e,a=document.documentElement.clientWidth;t!=(e=1380<a?"W_1380":1190<a?"W_1190":"")&&(t=e,document.body.className=e,i.currentBodyClassName=e,messagebus.publish("play.changed_body_class",e)),messagebus.publish("play.window_onresize")};e();var a=document.addEventListener?"addEventListener":"attachEvent",n=document.addEventListener?"":"on";i[a](n+"resize",e,!1)}(window),function(e){var a=!1;a||(a=!0,e.isOpenEdu?(messagebus.subscribe("core.loaded_nav",function(){kao("nav_edu")},null,null,{cache:!0}),kao("play_edu")):(messagebus.subscribe("core.loaded_nav",function(){kao("wemedia-nav")},null,null,{cache:!0}),kao("play"),kao("daren.rcmm"))),messagebus.publish("play.awareof_video_ratio",ratio)}(window),function(){var e=function a(){var e=new Date;return["pgc_wakeup",e.getFullYear(),e.getMonth()+1,e.getDate()].join("")}();sohuHD.cookie(e)||(sohuHD.cookie(e,1,{domain:"tv.sohu.com",path:"/",expires:1}),sohuHD.getJSONP("//rc.vrs.sohu.com/rc/pgc/wakeup?callback=?&uid="+sohuHD.cookie("fuid")))}(),messagebus.subscribe("core.loaded_right",function(e,a){window.isOpenEdu?kao("changyan",function(){sohuHD.changyan({selectorID:"#commList",vid:"9001"==window.cid?"bk"+vid:vid,ncid:window.cid||window.ncid||"",paginationConf:{id:"page_trigger",shownFirstLast:!0,type:"horizontal",classname:{active:"page_fig page_fig_on",disable:"btn-disable",prevdisable:"page_btn_disable",nextdisable:"page_btn_disable",prev:"page_btn_p",next:"page_btn_n",horizontal:"page tac r",vertical:"pages-1",ellipsis:"",triggershow:"jtrigger",triggerpage:"page_fig"},len:7,prevText:"\u4e0a\u4e00\u9875",nextText:"\u4e0b\u4e00\u9875",ellipsisText:"..."}})}):kao("comment_play")},null,null,{cache:!0});