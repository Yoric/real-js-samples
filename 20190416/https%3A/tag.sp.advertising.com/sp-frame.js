window.__spEnv='PROD';
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var r={LOCAL:{debug:!0,apiUrl:"https://service-dev.sp.advertising.com/sp/v0/pixels",frameUrl:"sp-frame.html"},DEV:{debug:!0,apiUrl:"https://service-dev.sp.advertising.com/sp/v0/pixels",frameUrl:"https://tag-dev.sp.advertising.com/sp-frame.html"},PROD:{debug:!1,apiUrl:"https://service.sp.advertising.com/sp/v0/pixels",frameUrl:"https://tag.sp.advertising.com/sp-frame.html"}}[window.__spEnv||"LOCAL"];t.a=r},function(e,t,n){"use strict";n.r(t);var r=n(0);!function(e,t){var n,a="https:"===e.location.protocol||r.a.debug,i="spt-sync",o="January 1, 2011 00:00:00 GMT",s=[];function c(e){return(e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]}function d(e){var t=c(e),n=t.split("."),r=n.length;return r>2&&(t=n[r-2]+"."+n[r-1],2===n[r-2].length&&2===n[r-1].length&&(t=n[r-3]+"."+t)),t}function l(t){e.console&&!0===r.a.debug&&e.console.log(t)}function p(e,t,n){if(e&&e.body){var r=e.createElement("iframe");if(r.width=0,r.height=0,r.frameBorder=0,r.id=n||null,t)r.src=u(t),r.onload=function(){v(t.id)},r.onerror=function(){v(t.id)};else{if(!r.body){var a=e.createElement("body");r.appendChild(a)}if(!r.head){var i=e.createElement("head");r.appendChild(i)}}return e.body.appendChild(r),r}}function u(e){return a?e.s:e.u}function f(e){n=function(){var e={},n=new RegExp("IDSYNC=[^;]+"),r=t.cookie.match(n),a=r?r[0]:null;if(a){for(var i=(a=a.split("=")[1]).split(":"),o={},s=null,c=0;c<i.length;c++){var d=w((s=i[c].split("~"))[0]),l=w(s[1]);if(void 0!==d){var p=x();l=l>p?p:l,o[d]=l}}e=o}return e}();for(var r=0;r<e.length;r++)e[r].t&&"iframe"===e[r].t?p(t,e[r]):m(e[r])}function m(e){if(void 0===e)return l("Unable to fire pixel. id: "+e.id+" px: "+e),!1;if(void 0===e.id)return l("firePixel: undefined parameter, pixel.id"),!1;var n=t.createElement("img");if(n.width=0,n.height=0,n.setAttribute("data-px-id",e.id),n.setAttribute("data-px-type","sp"),n.src=u(e),n.onload=function(){v(e.id)},n.onerror=function(t){v(e.id)},!t.body){var r=t.createElement("body");t.appendChild(r)}return t.body.appendChild(n),!0}function v(r){var a=x();n[r]=a;var i=e.location.hostname,o=(new Date).getTime()+31536e6,s="."+i.substring(i.indexOf("advertising")),c="IDSYNC="+function(e){var t=[];for(var n in e)/\d+/.test(n)?t.push(b(n)+"~"+b(e[n])):t.push(n+"~"+b(e[n]));return t.join(":")}(n)+"; expires="+new Date(o).toUTCString()+"; path=/; domain="+s+";";t.cookie=c}function g(n){if(function(){var t=!1;if(e.localStorage&&e.localStorage.getItem(i)){var n=new Date(e.localStorage.getItem(i)),a=new Date;t=Math.abs(a-n)<18e6}return function(e){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%@_.~+&:]*)*(\\?[;&a-z\\d%@_.,~+&:=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}(r.a.apiUrl)&&!t}()){n=n||{};var o=function(){var e=t.location.search.substring(1);if(!e)return{};var n='{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}',r={};try{r=JSON.parse(n)}catch(e){}return r}();o.referrer?n.referrer=decodeURIComponent(o.referrer):t.referrer&&(n.referrer=t.referrer),void 0!==o.limit&&(n.limit=decodeURIComponent(o.limit)),o.sspId&&(n.sspId=decodeURIComponent(o.sspId)),o.dspIds&&(n.dspIds=decodeURIComponent(o.dspIds)),function(t,n,r){var a=e.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),i=function(){r(JSON.parse(a.responseText))},o=n?Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&"):null;t+=t.indexOf("?")>-1?o:"?"+o,e.XDomainRequest&&!function(t){var n=t.split("/");return n[0]+"//"!=e.location.protocol+"//"||n[2]===e.location.host}(t)&&((a=new XDomainRequest).onload=i);var s=function(){l("Please enabled CORS using access-control-allow-origin"),r(JSON.parse(a.status))};a.onerror=s,a.onreadystatechange=function(e){4===a.readyState&&200===a.status&&i()};try{"withCredentials"in a?(a.withCredentials=!0,a.open("GET",t,!0)):a.open("GET",t),a.send(o)}catch(e){s()}}(r.a.apiUrl,n,function(n){if(n){if(n.pixels)if(n.pixels.length){s=n.pixels;var r=p(t,null,"sp-iframe"),o=e.navigator.userAgent.toLowerCase().indexOf("firefox")>-1?500:0;setTimeout(function(){!function(e,n){var r=e?e.contentWindow.document:t;if((n=n&&n.length?n:s)&&n.length){var i="default-src 'self'",o=a?"https://":"http://",l=o+"pixel.advertising.com";l+=" "+o+"sync.adap.tv",l+=" "+o+"sync.adaptv.advertising.com",n.forEach(function(e){var t=r.createElement("a"),n=a?e.s:e.u;n&&c(n).indexOf("pixel.advertising.com")>-1&&(n=o+e.r),t.href=n,c(n)===d(n)?l+=" "+o+d(t.hostname):t.hostname?l+=" "+o+"*."+d(t.hostname):l+=" *."+d(n)}),i+="; img-src "+l,i+="; frame-src "+l;var p=r.createElement("meta");if(p.httpEquiv="Content-Security-Policy",p.content=i,r.head)r.head.appendChild(p);else{var u=r.createElement("head");u.appendChild(p),r.appendChild(u)}}}(r),t=r.contentWindow.document,f(s)},o),e.localStorage&&e.localStorage.getItem(i)&&e.localStorage.removeItem(i)}else e.localStorage&&e.localStorage.setItem(i,(new Date).toString())}else l("Something went wrong: "+n)})}}function h(){if(!e.__cmp){for(var t,n=e;!t;){try{n.frames.__cmpLocator&&(t=n)}catch(e){}if(n===e.top)break;n=n.parent}var r={};e.__cmp=function(e,n,a){if(t){var i=Math.random()+"",o={__cmpCall:{command:e,parameter:n,callId:i}};r[i]=a,t.postMessage(o,"*")}else a({msg:"CMP not found"},!1)},e.addEventListener("message",function(e){var t="string"==typeof e.data,n=e.data;if(t)try{n=JSON.parse(e.data)}catch(e){}if(n.__cmpReturn){var a=n.__cmpReturn;r[a.callId](a.returnValue,a.success),delete r[a.callId]}},!1)}!function(){if(e.__cmp){var t=!1,n=!1;setTimeout(function(){t=!0,n||g()},1e3),e.__cmp("getConsentData",null,function(e){t||(n=!0,g({euconsent:void 0!==e.consentData?e.consentData:null,gdpr:void 0!==e.gdprApplies?e.gdprApplies:null}))})}else g()}()}function x(){var e=new Date(o).getTime()/1e3,t=(new Date).getTime()/1e3;return parseInt((t-e)/60/60)}function b(e){return(e=parseInt(e)).toString(36)}function w(e){return parseInt(e,36)}t&&"complete"===t.readyState?h():e.addEventListener("load",function(){h()})}(window,document)}]);