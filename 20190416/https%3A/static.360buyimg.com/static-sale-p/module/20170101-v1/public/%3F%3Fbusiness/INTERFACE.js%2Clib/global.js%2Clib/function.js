function _defineProperty(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}define("public/business/INTERFACE",[],function(require,exports,module){var o;window.SLD={followSoa:"//act-jshop.jd.com",p:"//p.3.cn",pm:"//pm.3.cn",jprice:"//jprice.jd.com",ipi360buy:"//ipi.en.jd.com",ipromojd:"//ipromo.jd.com",vsp:"//vsp.jd.com",ipr360buy:"//ipr.360buy.jd.com",pf:"//pf.3.cn",cd:"//cd.jd.com",ad:"//ad.3.cn",cart:"//cart.jd.com",creadE:"//cread.e.jd.com",activity:"//activity.jd.com",yushou:"//yushou.jd.com",yuding:"//yuding.jd.com",diviner:"//diviner.jd.com",rankM:"//rank.m.jd.com",lsActivity:"//ls-activity.jd.com",lActivity:"//l-activity.jd.com",paimai:"//paimai.jd.com",mpaimai:"//mpaimai.jd.com",group:"//group.jd.com",passport:"//passport.jd.com",chat1:"//chat1.jd.com",chat:"//chat.jd.com",jimi:"//jimi.jd.com",gate:"//gate.jd.com",item:"//item.jd.com",clever:"//clever.jd.com",actJshop:"//act-jshop.jd.com",c:"//c0.3.cn",mall:"//mall.jd.com",qiang:"//qiangsite.jd.com",mercury:"//mercury.jd.com",ss:"//ss.jd.com",apim:"//api.m.jd.com",jz:"//j-z.jd.com",jdTry:"//try.jd.com",live:"//discoversoa.m.jd.local",yao:"//yao.jd.com",moduleJshop:"//module-jshop.jd.com",accompany:"//up.jd.com",maccompany:"//mup.jd.com",phoenix:"//fhs.jd.com",ch:"//ch.jd.com",dataJshop:"//data-jshop.jd.com",jshopscene:"//jshopscene.jd.com",what:"//what.jd.com",phrase:"//phrase.jd.com",finance:"//act-jshop.jd.com",yhdm:"//channel.m.yhd.com",yhdpc:"//channel.yhd.com"},window.INTERFACE={activityFollw:{follow:SLD.followSoa+"/rpc/activity/follow",unfollow:SLD.followSoa+"/rpc/activity/unfollow",isFollow:SLD.followSoa+"/rpc/activity/isFollow",queryForPage:SLD.followSoa+"/rpc/activity/queryForPage",queryForCount:SLD.followSoa+"/rpc/activity/queryForCount",isFollowBrand:SLD.followSoa+"/rpc/activity/isFollowBrand"},venderFollow:{follow:SLD.followSoa+"/rpc/vender/follow",queryForCount:SLD.followSoa+"/rpc/vender/queryForCount",queryTagForListByCount:SLD.followSoa+"/rpc/vender/queryTagForListByCount",editTag:SLD.followSoa+"/rpc/vender/editTag",queryForPage:SLD.followSoa+"/rpc/vender/queryForPage"},brandFollow:{follow:SLD.followSoa+"/rpc/brand/follow",unfollow:SLD.followSoa+"/rpc/brand/unfollow",queryForCountByPin:SLD.followSoa+"/rpc/brand/queryForCountByPin",batchfollow:SLD.followSoa+"/rpc/brand/batchfollow",batchIsFollow:SLD.followSoa+"/rpc/brand/batchIsFollow",batchUnfollow:SLD.followSoa+"/rpc/brand/batchUnfollow"},productFollow:{follow:SLD.followSoa+"/rpc/product/follow",queryForCountByPid:SLD.followSoa+"/rpc/product/queryForCountByPid",queryForCountByPids:SLD.followSoa+"/rpc/product/queryForCountByPids",queryForPage:SLD.followSoa+"/rpc/product/queryForPage"},price:{jd:SLD.p+"/prices/mgets",jdMobile:SLD.pm+"/prices/mgets",jdMobileBatch:SLD.pm+"/prices/pcpmgets",eptprice:SLD.jprice+"/eptprice",getPriceRange:SLD.ipi360buy+"/batchGetPriceRange.html",getEptPromoInfo:SLD.ipromojd+"/api/promoinfo/getBtCurJdPrice.html",vsp:SLD.vsp+"/jshop/batchPrice"},getBatchPrdPromo:SLD.ipr360buy+"/getBatchPrdPromo.html",promoTag:SLD.pf+"/flags/mgets",promotion:SLD.cd+"/promotion/v2",adWords:SLD.ad+"/ads/mgets",beltInfo:"//act-jshop.jd.com/wbs/mgets",reBuyForOrderCenter:SLD.cart+"/cart/dynamic/reBuyForOrderCenter.action",miniCartServiceNew:SLD.cart+"/cart/miniCartServiceNew.action",sevencard_insert:SLD.creadE+"/sevencard/sevencard_insert.action",sevencard_gettoken:SLD.creadE+"sevencard/sevencard_gettoken.action",jindou:SLD.jprice+"/skuprice",vote:{vote:SLD.activity+"/vote/vote.action",optHistory:SLD.activity+"/vote/optHistory.action",getCount:SLD.activity+"/vote/getCount.action",voteInfo:SLD.activity+"/vote/voteInfo.action"},yushou:SLD.yushou+"/youshouinfo.action",youshouinfoList:SLD.yushou+"/youshouinfoList.action",yuding:{getPresaleInfo:SLD.yuding+"/presaleInfo/getPresaleInfo.action",getPresaleInfoBySkus:SLD.yuding+"/presaleInfo/getPresaleInfoBySkus.action"},diviner:SLD.diviner+"/diviner",rankData:SLD.rankM+"/rankData",lottery:{getWinnerList:SLD.lsActivity+"/lotteryApi/getWinnerList.action",getLotteryInfo:SLD.lsActivity+"/lotteryApi/getLotteryInfo.action",lottery_start:SLD.lActivity+"/lottery/lottery_start.action",lottery_chance:SLD.lActivity+"/lottery/lottery_chance.action",lottery_address:SLD.lActivity+"/lottery/lottery_address.action"},paimai:{currentList:SLD.paimai+"/services/currentList.action",queryCurAlbumInfo:SLD.paimai+"/json/current/queryCurAlbumInfo"},mpaimai:{queryProAccess:SLD.mpaimai+"/json/current/queryProAccess"},group:{addGroupCircle:SLD.group+"/jshop/addGroupCircle.htm",isJoinQuanZi:SLD.group+"/relation/isJoinQuanZi.htm",collect:SLD.group+"/jshop/collect.htm",saveGroupPost:SLD.group+"/jshop/saveGroupPost.htm"},passport:{helloService:SLD.passport+"/new/helloService.ashx",login:SLD.passport+"/new/login.aspx",jdfLogin:SLD.passport+"/loginservice.aspx"},checkChat:SLD.chat1+"/api/checkChat",chat:{queryGroupById:SLD.chat+"/venderApi/queryGroupById.action",queryGroupByIdList:SLD.chat+"/venderApi/queryGroupByIdList.action",queryWaiterByIdList:SLD.chat+"/venderApi/queryWaiterByIdList.action",chat:SLD.chat+"/pop/chat"},linkJimi:SLD.jimi+"/index.action",linkCart:SLD.gate+"/InitCart.aspx",linkPresale:SLD.cart+"/cart/dynamic/presale.action",linkGoods:SLD.item+"",clever:SLD.clever+"/rule/mgets.action",actJshop:(o={getToken:SLD.actJshop+"/ct.html",ad:SLD.actJshop+"/ad.html",recommend:SLD.actJshop+"/recommend.html",serverTime:SLD.actJshop+"/serverTime.html",couponSend:SLD.actJshop+"/couponSend.html",couponExchange:SLD.actJshop+"/couponExchange.html",fs:SLD.actJshop+"/fs.html",multi:SLD.actJshop+"/multi.html",single:SLD.actJshop+"/single.html",ms:SLD.actJshop+"/ms.html",promo:SLD.actJshop+"/promo.html",user:SLD.actJshop+"/user.html",userExd:SLD.actJshop+"/userExd.html",getUserAddress:SLD.actJshop+"/getDefaultAddress.html",getUserBaseInfo:SLD.actJshop+"/getUserBaseInfo.html",getOrderInfo:SLD.actJshop+"/getOrderInfo.html",getOrderTrack:SLD.actJshop+"/getOrderTrack.html",couponInfo:SLD.actJshop+"/couponInfo.html",getShopCoupon:SLD.actJshop+"/getShopCoupon.html",goodsInfo:SLD.actJshop+"/goodsInfo.html",getPopShopInfo:SLD.actJshop+"/getPopShopInfo.html",balance:SLD.actJshop+"/balance.html",jbn:SLD.actJshop+"/jbn.html",attentionCount:SLD.actJshop+"/attentionCount.html",brandinfo:SLD.actJshop+"/brandinfo.html",couponState:SLD.actJshop+"/couponBatchState.html",cfs:SLD.actJshop+"/cfs.html",getSkuByArea:SLD.actJshop+"/getSkuByArea.html",goodsCoupon:SLD.actJshop+"/goodsCouponInfo.html",getSkuByCoupon:SLD.actJshop+"/getSkuByCoupon.html",promoSectionPrice:SLD.actJshop+"/promoUnitQuery.html",couponActive:SLD.actJshop+"/couponActive.html",pageRebuild:SLD.actJshop+"/pageRebuild.html",couponExCode:SLD.actJshop+"/couponExCode.html",couponActiveAll:SLD.actJshop+"/couponActiveAll.html"},_defineProperty(o,"userExd",SLD.actJshop+"/userExd.html"),_defineProperty(o,"tokenPrice",SLD.actJshop+"/tokenPrice.html"),_defineProperty(o,"newJdBeanExchange",SLD.actJshop+"/newJdBeanExchange.html"),o),moduleJshop:{getYaoGoodsInfo:SLD.moduleJshop+"/module/getYaoGoodsInfo.html"},mall:{getCurrentTime:SLD.mall+"/timeCache/getCurrentTime.html",getAutoCompleteWords:SLD.mall+"/view/autoComplete/getAutoCompleteWords.html",getSurveyDetail:SLD.mall+"/view/survey/getSurveyDetail.html",submitSurvey:SLD.mall+"/view/survey/submitSurvey.html",getJshopHeader:SLD.mall+"/view/getJshopHeaderByVender.html"},realSku:{arealimit:SLD.c+"/stock/arealimit",partition:SLD.c+"/stock/partition",mixPartition:SLD.c+"/stock/mixPartition"},qiang:{mgets:SLD.qiang+"/qiangnum/mgets"},mercury:{log:SLD.mercury+"/log.gif"},yao:{price:SLD.yao+"/jshop/price.html",itemPrice:SLD.yao+"/item/price",priceDetail:SLD.yao+"/jshop/priceDetail"},ss:{areaStockState:SLD.actJshop+"/ss/areaStockState/mget"},tryGoods:{applyNum:SLD.jdTry+"/collect/batchApplyCount.action",goodsTryTime:SLD.jdTry+"/details/detailsJson.action",getGoodsInfo:SLD.jdTry+"/info/get.action"},apim:{client:SLD.apim+"/client.action",liveCartDetail:SLD.apim+"/client.action?functionId=liveCartDetail",liveDetail:SLD.apim+"/client.action?functionId=liveDetail",discZdmTagAggList:SLD.apim+"/?functionId=discZdmTagAggList",queryPcBabelProducts:SLD.apim+"/client.action?functionId=queryPcBabelProducts",discBatchGetReleaseByIds:SLD.apim+"/client.action?functionId=discBatchGetReleaseByIds",zdmDeliveryOut:SLD.apim+"/client.action?functionId=zdmDeliveryOut"},jz:{ruleIdByList:SLD.jz+"/ruleIdByList",ruleCateByList:SLD.jz+"/ruleCateByList"},live:{liveCartDetail:SLD.live+"/liveCartDetail",liveDetail:SLD.live+"/liveDetail"},accompany:{saveProfile:SLD.accompany+"/child/save",pick:SLD.accompany+"/gift3/pick",getGifts:SLD.accompany+"/gift3/show",getChildProfile:SLD.accompany+"/child/queryChildProfileByPin",getCoupon:SLD.accompany+"/dobby/accompanyCouponSend"},maccompany:{getCouponsInfo:SLD.maccompany+"/dobby/accompanyCouponInfo12"},phoenix:{gettItemsInfo:SLD.phoenix+"/api/gettopicinfo"},dataJshop:{datalogPc:SLD.dataJshop+"/datalogPc"},ch:{hotsale2:SLD.ch+"/hotsale2",allcate:SLD.ch+"/allcate",getShowMarks:SLD.ch+"/getShowMarks"},jshopscene:{getSign:SLD.jshopscene+"/view/sign/getSignInDetailAndRule",signIn:SLD.jshopscene+"/view/sign/signin",thumbUpList:SLD.jshopscene+"/view/count/thumbUpList.html",getWinnerList:SLD.jshopscene+"/lotteryApi/getWinnerList.action",getLotteryInfo:SLD.jshopscene+"/lotteryApi/getLotteryInfo.action",lottery_start:SLD.jshopscene+"/lottery/lottery_start.action",lottery_chance:SLD.jshopscene+"/lottery/lottery_chance.action",lottery_address:SLD.jshopscene+"/lottery/lottery_address.action",countUser:SLD.jshopscene+"/view/count/countUser.html",addFavor:SLD.jshopscene+"/view/count/count.html",thumbUpRecord:SLD.jshopscene+"/view/count/thumbUpRecord.html"},what:{detail:SLD.what+"/rpc/album/detail",follow:SLD.what+"/rpc/album/follow",cancelFollow:SLD.what+"/rpc/album/follow/cancel",upvote:SLD.what+"/rpc/album/upvote",cancelUpvote:SLD.what+"/rpc/album/upvote/cancel"},phrase:{phraseList:SLD.phrase+"/phrasePC/phraseList.action"},finance:{receiveCoupon:SLD.finance+"/jsonp/coupon/receiveCoupon",queryCouponInfo:SLD.finance+"/jsonp/coupon/queryCouponInfo"},yhdm:{ajaxGenerateCoupon:SLD.yhdm+"/api/ajaxGenerateCouponForJSHOP.do",ajaxFindCouponStatus:SLD.yhdm+"/api/ajaxFindCouponStatusForJSHOP.do",findStatusActiveCoupon:SLD.yhdm+"/api/findStatusActiveCoupon.do"},yhdpc:{ajaxGenerateCoupon:SLD.yhdpc+"/api/ajaxGenerateCouponForJSHOP.do",ajaxFindCouponStatus:SLD.yhdpc+"/api/ajaxFindCouponStatusForJSHOP.do"},getData:function(o){var t=jQuery.extend({url:"",data:{},dataType:"jsonp",callBack:function(){}},o||{});t.jsonpCallback?jQuery.ajax({url:url,data:data,dataType:"jsonp",jsonpCallback:t.jsonpCallback,success:function(o){callBack.call(o)}}):jQuery.ajax({url:url,data:data,dataType:"jsonp",success:function(o){callBack.call(o)}})}}});define("public/lib/global",[],function(require,exports,module){var e=navigator.userAgent.toLowerCase(),l=/msie/.test(e);$.extend(window,{contentId:"#main_content",appId:$("#appId").val()||$("#pageInstance_appId").val(),page_instanceId:$("#instanceId").val()||$("#pageInstance_id").val(),decorate_instanceId:$("#decorate_instanceId").val(),service:$("#ctx").val(),ctx:$("#ctx").val(),platformId:$("#platformId").val(),systemId:$("#systemId").val(),cantCopyModule:$("#cantCopyModule").val()||"",RESOURCEPATH:$("#resourcePath").val(),isIE9:l&&e.indexOf("msie 9")>-1,isIE6:l&&e.indexOf("msie 6")>-1,isChrome:e.indexOf("chrome")>-1,urlReg:/^(http:|https:)?\/\/\w+/,urlLegalReg:/^(http:|https:)?\/{2,3}$/}),window.Jshop_global={dragging:!1,$editor:null,$dialog_mask:null,screenW:document.documentElement.scrollWidth,$selectedLayout:null,$selectedInnerLayout:null,$selectedEditLayout:null,$selectedModeType:null,$selectedMode:null,$selectedEditMode:null,$selectedEditModeNode:null,$layoutToolBar:null,$modeToolBar:null,$selectedTabForSkin:null,$layoutContainer:null,$clickObj:null,$dialog:null,$dragCloneMode:null,$dragCover:null,$dragMode:null,layoutName:{tonglan:"通栏（990）",lianglan0:"两栏（190x790）",lianglan1:"两栏（790x190）",sanlan0:"三栏（190x590x190）",sanlan1:"三栏（190x390x390）",sanlan2:"三栏（390x390x190）"},selectedLayoutIndex:0,$dragResult:null,$dragResultCover:null,modulePrototypeId:null,$selectedTemplateEditMode:null,$helpInfoModel:null,helpFlag:!1,helpInfoElement:{openaddlayout:"通过添加不同的布局可以将网页划分为不同结构区域可协助装修排版。",opensetbg:"设置背景颜色，背景图片，并且可以设置分享到微博。",openTemplate:"选择和使用现成的模版帮助你进行装修。",openBackup:"备份当前页面的内容，以备还原使用。",openReduction:"还原已备份的页面内容。",openquickModel:"可以快速的进行活动搭建。"},isExtended:!1,options:null,extendFlag:!1,re:/([~@#$%&*()`#￥%……<>-]|\\|\/)/,regbuy:/\.360buy\.com/g,regbuy1:/\.qianxun\.com/g,regbuy2:/\.360top\.com/g,regbuy3:/\.ehaoyao\.com/g,regbuy4:/\.jd\.com/g,youdaoTimer:null,youdaoCount:10},window.Jshop_bg={pic:"",color:"",gotoPage:null}});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("public/lib/function",[],function(require,exports,module){$.extend(window,{Jshop_exColorInit:function(e){jQuery(e).modcoder_excolor({hue_bar:1,hue_slider:1,color_box:!0,show_color_on_border:!1,backlight:!0,input_text_color:"red",effect:"zoom",z_index:1002})},Jshop_hasCoincident:function(e,t){var o=e.offset(),n=t.offset();return!(n.top>=o.top+e.outerHeight()||n.left>=o.left+e.outerWidth()||o.top>=n.top+t.outerHeight()||o.left>=n.left+t.outerWidth())},Jshop_showResult:function(){if(Jshop_global.$dragResultCover||(Jshop_global.$dragResultCover=jQuery("<div></div>"),Jshop_global.$dragResultCover.addClass("d-drag-target-cover").appendTo("body")),!Jshop_global.$dragResult)return void Jshop_global.$dragResultCover.hide();Jshop_global.$dragResultCover.show().css({left:Jshop_global.$dragResult.offset().left,top:Jshop_global.$dragResult.offset().top,height:Jshop_global.$dragResult.outerHeight()-2,width:Jshop_global.$dragResult.outerWidth()-2})},Jshop_changeTheDivWidth:function(e,t){$("#goods_catagory").css("width",t),e.css({left:Math.floor((jQuery(window).width()-e.outerWidth())/2)+"px"})},setTitleCenter:function(){var e=$("#deco_t_title").val(),t=$("#deco_title_radio").val();e&&!t&&$("#deco_title_radio").val("center")},changeState:function(e,t){jQuery("#"+t).val(e.id)},deleteBgPic:function(e,t,o,n,a){function i(){if(checkTimeout(s.name),"bg_pic"==t)Jshop_refreshPage();else{var e=$("#"+s.name);null!=e&&(e.css("background",""),jQuery("#"+s.name).attr("src",""),$("#"+s.dbInfoId).val("")),$("#"+s.nameH).val("")}}var s={};s.ids=e,s.name=t,s.msg=o,s.dbInfoId=n,s.nameH=a,require.async("plugins/alert/cpm",function(e){e.confirm("删除确认","确认要删除背景图?",function(){var e=(jQuery("#bg_pic"),page_instanceId);"bg_pic"!=s.name&&(e=$("#decorate_instanceId").val());var t=service+"instanceParam/deleteBgPic.html",o={"ipBean.appId":appId,"ipBean.instanceId":e,"ipBean.ids":s.ids};ajaxRequest(t,"post",o,ajaxEmptyBeforeSend,i,Jshop_ajaxError)})})},tempradio:null,changeTabeditor:function(e){tempradio==e?(tempradio.checked=!1,tempradio=null):tempradio=e},Jshop_showAlertMsg:function(e,t,o){var n=$("#"+e);null!=n&&n.html('<font style="color:'+t+'">'+o+"</font>"),setTimeout("Jshop_clearAlertMsg('"+e+"')",6e3)},Jshop_clearAlertMsg:function(e){$("#"+e).html("")},Jshop_changeTabClass:function(e){jQuery("#goods_catagory h4 span").removeAttr("class"),jQuery("#"+e).addClass("show")},Jshop_classIsShow:function(e){return!!$("#"+e).hasClass("show")},Jshop_closeWindow:function(e){Pop.close(e)},jdThickBoxclose:function(){$(".thickclose").trigger("click")},Jshop_changePopDivWidth:function(e){$("#goods_catagory").css("width",e);Jshop_global.$dialog.css({left:Math.floor((jQuery(window).width()-Jshop_global.$dialog.outerWidth())/2)+"px"})},Jshop_closeEventInit:function(){jQuery(".d-icon-close,.d-btn-cancel").bind("click",function(){var e=jQuery(this).attr("dialog");jQuery("#"+e).Jshop_closeDialog(),$dialog=null})},toUp:function(e){var t=$(e).parent().parent(),o=t.prev();o[0]&&o.before(t)},goDown:function(e){var t=$(e).parent().parent(),o=t.next();o[0]&&o.after(t)},toTop:function(e){var t=$(e).parent().parent();t.parent().prepend(t),t.parent().parent().parent().animate({scrollTop:0},500)},toBottom:function(e){var t=$(e).parent().parent();t.parent().append(t);var o=t.closest("div");o.animate({scrollTop:o[0].scrollHeight},500)},testSnapShot:function(){require.async("plugins/alert/pop",function(e){e.create({width:700,id:"page_snapshot",url:"snapshot/getBrowser.html?appId="+appId+"instanceId="+page_instanceId}).show()})},getSnapShotRes:function(e){var t={taskId:e};snapShotTaskName=setInterval(function(){ajaxRequest("/snapshot/getTaskRes.html","post",t,ajaxEmptyBeforeSend,getTaskRes,Jshop_ajaxError)},3e3)},getTaskRes:function getTaskRes(data){for(var testStatus=eval("("+data+")"),fe=!0,str="",i=0;i<testStatus.length;i++){var testObj=testStatus[i],status=testObj.status;fe&&-1==status.indexOf("Success")&&-1==status.indexOf("Fail")&&-1==status.indexOf("Timeout")&&-1==status.indexOf("CANCEL")&&(fe=!1),str+="<tr>",str+='<td class="align_l"><i></i>',str+=testObj.brNameAndVersion,str+="</td><td>",str+=getChineseStatus(testObj.status),str+="</td><td>",str+="<a href=\"javascript:getSnapShotTestImg('"+testObj.jss_url+"')\">查看结果</a>",str+="</td></tr>"}jQuery("#snapshottablelist").html(str),fe&&(jQuery("#openCheck").addClass("checkOK").text("验证完毕"),clearInterval(snapShotTaskName))},getSnapShotTestImg:function(e){void 0!==e&&window.open("/snapshot/getSnapShotTestImg.html?imgUrl="+e,"查看测试图片")},getChineseStatus:function(e){var t={Camera_Init:"正在初始化...",Camera_StartBrowser:"正在启动浏览器...",Camera_GetPage:"正在获取网页数据..",Camera_Scrolling:"正在滚动网页..",Camera_LoadingImg:"正在加载图片..",Camera_ScreenShot:"正在截图..",Camera_ImgCompress:"正在处理图片",Camera_ModifyPage:"正在处理页面",Camera_Fail:"<font color='red'>运行失败</font>",ActivePending:"任务正在调度",Fail_StartError:"<font color='red'>服务内部错误</font>",Fail_MachineRemoved:"<font color='red'>机器被移除</font>",Fail_MachineOffline:"<font color='red'>机器已离线</font>",Fail_ProgramAbnormal:"<font color='red'>截图程序内部错误</font>",Camera_Success:"运行成功",New:"获取到新任务",Fail_NoMachine:"<font color='red'>没有合适的测试机器</font>",CANCEL:"用户已终止"};return void 0!==t[e]?t[e]:-1!=e.indexOf("FAIL")?-1!=e.indexOf("Timeout")?"<font color='red'>执行超时</font>":"<font color='red'>运行失败</font>":void 0},_normId_temp:void 0,addtemplate:function(){var e=Jshop_global.$selectedEditMode.attr("modeId");_normId_temp=Jshop_global.$selectedTemplateEditMode.css("width"),Pop.create({id:"pop_add",url:"/sys/template/add.html?template.modPrototypeId="+e+"&template.appId="+appId}).show()},editTemplate:function(e){require.async("plugins/alert/pop",function(t){t.create({id:"pop_edit",url:"/sys/template/updateEdit.html?template.id="+e}).show()})},deleteTemplate:function(e,t){require.async("plugins/alert/cpm",function(o){o.confirm("删除确认","您确定要删除该模板吗？",function(){jQuery.ajax({url:e,type:"POST",cache:!1,async:!0,dataType:"json",data:{"template.id":t},success:function(e,t){if(checkTimeout(e),"1"==e){Jshop_showAlertMsg("删除模板成功！");try{moduleEvent.templateConfig("customTemplate","删除")}catch(e){}}else Jshop_showAlertMsg("删除模板失败！")},error:function(){Jshop_showAlertMsg("删除模板失败！")}})})})},Jshop_width_ajust:function(){jQuery("#page_Content").width()>990&&jQuery(".d-layout-one").each(function(e,t){var o=jQuery("#page_Content").width(),n=jQuery(t).parent();n.width()>o?n.css("margin-left",parseInt((o-n.width())/2)+"px"):n.css("margin-left","none").css("margin","0 auto")})},Jshop_shareCallback:function(e){checkTimeout(e),Jshop_refreshPage()},Jshop_judgeShowingToolbar:function(e){return e.offset().top<parseInt(e.scrollTop())+46},changePageLoginSee:function(e){var t=$(e).attr("checked"),o=service+"instanceParam/saveDecorate.html",n="[{instanceId:"+page_instanceId+",type:1,appId:"+appId+',name:"'+e.name+'",id:"",value:"'+t+'"},]',a={"ipBean.values":n};ajaxRequest(o,"post",a,ajaxEmptyBeforeSend,changePageLoginSeeSuccess,Jshop_ajaxError)},changePageLoginSeeSuccess:function(){Jshop_showAlertMsg("page_msg","green","保存成功!")},Jshop_refreshPage:function(){var e=window.location.origin+window.location.pathname+"?veBean.pageInstanceId="+page_instanceId+"&veBean.appId="+appId+"&veBean.platformId="+platformId+"&veBean.systemId="+systemId;$("#goods_catagory").css("display","none"),window.location.href=e},Jshop_drag_refresh:function(e,t,o,n){var a=n?t.parent():t;if(a.attr("class").indexOf("d-layout-one")>-1)if("9"!=e.attr("modeid"))e.css("width","990px");else{var i=e.attr("widthConfig")?e.attr("widthConfig"):"990px",s=a.parent().width()>parseInt(i)?a.parent().width()+"px":i;e.css("width",i),t.parent().css("width",s),o.attr("class").indexOf("d-layout-one")>-1&&0==o.find(".d-modules-line").length&&o.parent().css("width","990px")}else e.css("width","auto")},Jshop_filterContent:function(e){var t=new Array;return-1!=e.indexOf("DD_belatedPNG:shape>")?(t=e.split("DD_belatedPNG:shape>"),t[t.length-1]):e},Jshop_buidJsonParams:function(e,t,o,n){var a=$("#"+e).attr("db_id"),i="",s="";"bg_pic"!=e&&"bg_color"!=e&&"bg_width"!=e&&"bg_pic_config"!=e?(i=decorate_instanceId,s=3):(i=page_instanceId,s=1);var r=$("#appId").val(),l="";if(l+=""==a||"undefined"==a||void 0==a?"{instanceId:"+i+",type:"+s+",appId:"+r+',name:"'+e+'",id:"",value:"'+t+'"},':"{instanceId:"+i+",type:"+s+",appId:"+r+',name:"'+e+'",id:'+a+',value:"'+t+'"},',"bg_width"==e&&""!=jQuery.trim(t)&&t<990)return"";if("bg_color"!=e&&"bg_pic"!=e&&"bg_pic_config"!=e&&"bg_width"!=e&&"undefined"!=n&&"undefined"!=n){var d=$("#nameH");if(""==jQuery.trim(d.val())){var c=d.attr("db_id");l+=""==c||"undefined"==c||void 0==c?"{instanceId:"+i+",type:"+s+",appId:"+r+',name:"'+n+'",id:"",value:"'+o.height+'"},':"{instanceId:"+i+",type:"+s+",appId:"+r+',name:"'+n+'",id:'+c+',value:"'+o.height+'"},'}}return l},showBgWidth:function(e){if(""!=e){var t=jQuery("#bg_width").val();if(isNaN(t))alert("必须输入整数!"),t=990;else{t=parseInt(t);var o=parseInt(window.screen.availWidth);t<990?t=990:t>o&&(t=o)}Jshop_bgWidth(t)}else Jshop_bgWidth("")},Jshop_bgWidth:function(e){var t=jQuery("#page_Content");e?(t.css("width",e+"px"),e>990&&jQuery(".d-layout-one").each(function(e,t){var o=jQuery("#page_Content").width(),n=jQuery(t).parent();n.width()>o?n.css("margin-left",parseInt((o-n.width())/2)+"px"):n.css("margin-left","none").css("margin","0 auto")})):t.css("width","100%")},outTryUserTemplate:function(e,t,o){var n=service+"pt/pagetemplate/outTryUserTemplate.html",a={instanceId:page_instanceId,appId:e,platformId:t,systemId:o};ajaxRequest(n,"post",a,ajaxEmptyBeforeSend,outTryUserTemplateSuccess,Jshop_ajaxError)},outTryUserTemplateSuccess:function(e){checkTimeout(e),Jshop_refreshPage()},setBgWidth:function(e){var t=jQuery("#bg_width");if("add"==e)if(""==t.val())t.val("990"),Jshop_bgWidth("990");else{var o=parseInt(t.val()),n=parseInt(window.screen.availWidth);o+10>n?o=n:(o+=10,t.val(o)),Jshop_bgWidth(o)}else if("release"==e)if(t.val()){var a=parseInt(t.val());a-10>990?(a-=10,t.val(a)):t.val("990"),Jshop_bgWidth(a)}else t.val("990"),Jshop_bgWidth("990");else"reset"==e&&(t.val(""),Jshop_bgWidth(""))},Jshop_showHelpInfo:function(){Jshop_global.helpFlag||jQuery("#helpContent").animate({left:60},"fast",function(){Jshop_global.$dialog_mask?Jshop_global.$dialog_mask.show():(Jshop_global.$dialog_mask=jQuery("<div class='d-dialog-bg'>"),Jshop_global.$dialog_mask.css({width:"100%",height:"100%",filter:"alpha(opacity=50)",zIndex:11}),Jshop_global.$dialog_mask.appendTo("body")),Jshop_global.helpFlag=!0,jQuery("#iconArrowHelp_show").show(),jQuery("#helpContent .d-icon-close").click(function(){jQuery("#iconArrowHelp_show").hide();var e=jQuery(this).attr("dialog");jQuery("#"+e).animate({left:"-812"},"fast",function(){Jshop_global.$dialog_mask.hide()}),Jshop_global.helpFlag=!1})})},Jshop_showHelpContent:function(){function e(e){checkTimeout(e),jQuery("#helpContent").html(e),Jshop_showHelpInfo(),$("#showMoreHelp").bind("click",function(){window.open("//bbs.360buy.com/forum.php?mod=forumdisplay&fid=215&page=1")})}var t=service+"visualediting/showHelp.html";ajaxRequest(t,"post","",ajaxEmptyBeforeSend,e,Jshop_ajaxError)},Jshop_extendWindow:function(e){Jshop_global.isExtended=!0;var t=$("#pop_"+e);Jshop_global.options=$(".d-editor-bar a"),t.css({height:"100%",width:"100%",left:"0",top:"0px"}),all_width=t.width(),height_1=$("#pop_"+e+" #"+e+"_template_title").height(),height_2=t.height(),height_3=$("#pop_add_bottom").height(),$("#show").css({width:all_width-20+"px"}),jQuery("#modulehelper").is(":hidden")?($("#editor").css({width:all_width-30+"px",height:height_2-height_1-height_3-32-20+"px"}),Jshop_global.extendFlag=!1):($("#editor").css({width:.7*$("#show").width()+"px",height:height_2-height_1-height_3-32-20+"px"}),jQuery("#helper").css("width","auto"),jQuery("#modulehelper").css("width",.25*$("#show").width()+"px")),$("#moduleEdit").css("height",$("#editor").height()*(215/252)),$("#help_close").attr("href","javascript:jhelp.extendClose('"+e+"')"),$("#pop_add_fullscreen").hide(),$("#pop_add_restore").show(),$("#moduleEdit").attr("rows",11*parseInt($("#moduleEdit").height()/212)),$("#"+e+"_template_title span").each(function(){"show"!=$(this).attr("class")&&$(this).hide()}),$(window).resize(function(){var t=$("#pop_"+e);t.css({height:"100%",width:"100%",left:"0",top:"0px"}),all_width=t.width(),height_2=t.height(),$("#show").css({width:all_width-20+"px"}),jQuery("#modulehelper").is(":hidden")?$("#editor").css({width:all_width-30+"px",height:height_2-height_1-height_3-32-20+"px"}):($("#editor").css({width:.7*$("#show").width()+"px",height:height_2-height_1-height_3-32-20+"px"}),jQuery("#modulehelper").css("width",.25*$("#show").width()+"px")),jQuery("#modulehelper").width()+jQuery("#editor").width()+36>jQuery("#show").width()&&jQuery("#editor").css("width",jQuery("#editor").width()-30+"px"),jQuery("#helper").css("width","auto"),$("#moduleEdit").css("height",$("#editor").height()*(215/252)),$("#moduleEdit").attr("rows",11*parseInt($("#moduleEdit").height()/212))})},Jshop_restoreWindow:function(e){Jshop_global.isExtended=!1,$(window).unbind("resize"),$(window).resize(changeWindow);var t=$("#pop_"+e);$("#modulehelper").is(":hidden")?t.css({width:"600px",left:(document.documentElement.clientWidth-600)/2+"px"}):t.css({width:"820px",left:(document.documentElement.clientWidth-820)/2+"px"}),t.css({height:"365px",top:(document.documentElement.clientHeight-365)/2+"px"}),t.offset().left<0&&t.css("left","0px"),t.offset().top<0&&t.css("top","0px"),$("#editor").css({width:"560px",height:"252px"}),$("#moduleEdit").css("height","212px"),$("#show").css({width:"800px"}),$("#modulehelper").css({width:"200px"}),$("#pop_add_fullscreen").show(),$("#pop_add_restore").hide(),$("#moduleEdit").attr("rows","11"),$("#help_close").attr("href","javascript:jhelp.close()"),$("#"+e+"_template_title span").each(function(){$(this).show()})},tableAjust:function(e,t){for(var o=$.extend({title:".d-table-thead table",content:".d-table-tbody>table",titleNode:"thead tr th",contentNode:"tbody>tr:first>td"},e||{}),n=t?$("#"+t).find(o.title):$(o.title),a=t?$("#"+t).find(o.content):$(o.content),i=0,s=n.length;i<s;i++){var r=n.eq(i),l=a.eq(i);if(l.find(o.contentNode).length>1){var d=l.find(o.contentNode);r.find(o.titleNode).each(function(e,t){$(t).attr("width",d.eq(e).width())})}}},checkTimeout:function(e){function t(){$("._jshop_mask_2012").remove(),$(".d-popup").remove(),$(".d-loading").remove()}e=e.toString();var o=0;return-1!=e.indexOf("<html")&&-1!=e.indexOf("</html>")&&-1!=e.indexOf("account_error")?(t(),o=1):-1!=e.indexOf("permission_not_authorized")&&(t(),o=2),o},ajaxRequest:function(e,t,o,n,a,i,s){var r=a||function(){},l=i||function(){},d="?";if("get"==t.toLowerCase()){if(!o.length)for(var c in o)d=d+c+"="+o[c]+"&";d=d.substring(0,d.length-1)}else d="";jQuery.ajax({url:e+d,type:t.toLowerCase(),data:"post"==t.toLowerCase()?o:null,dataType:s||"text",beforeSend:n,error:l,success:r})},ajaxEmptyBeforeSend:function(){},disableSubmitButton:function(){jQuery(".d-btn-submit").addClass("d-btn-disabled"),jQuery(".d-btn-submit").attr("disabled",!0)},enableSubmitButton:function(){jQuery(".d-btn-submit").attr("disabled",!1),jQuery(".d-btn-submit").removeClass("d-btn-disabled")},showErrorMsg:function(e){jQuery(".d-message-error").css("display","none"),jQuery.each(e,function(t){jQuery("#"+t).focus(function(){jQuery("#"+this.id+"_error").html(""),jQuery("#"+this.id+"_error").hide()}),jQuery("#"+t+"_error").css("display","block").html(e[t])}),enableSubmitButton()},showFormErrorMsg:function(e){jQuery.each(e,function(t){$("#"+t).tips({content:e[t],position:"bottom",color:"red"})}),enableSubmitButton()},initElementTips:function(e,t,o){var n=document.getElementById(e);n.setAttribute("tip",o),n.value&&""!=$.trim(n.value)||(n.value=o,$("#"+e).addClass(t)),n.onfocus=function(){n.value==o&&(n.value="",$("#"+e).removeClass(t))},n.onblur=function(){""!=n.value&&"undefined"!=n.value||(n.value=o,$("#"+e).addClass(t))}},initElementsTips:function(e){for(var t=0;t<e.length;t++)initElementTips(e[t].id,e[t].css,e[t].tip)},showSysErrorMsg:function(e){jQuery(".d-message-remind").css("display","none"),jQuery("#div_system_error").css("display","block").html(e),enableSubmitButton()},showErrorMsgDiv:function(e,t){jQuery(".d-message-remind").css("display","none"),jQuery("#"+e).css("display","block").html(t),enableSubmitButton()},ajaxError:function(e){var t=checkTimeout(e.responseText);checkResultCode(t)&&showSysErrorMsg("请求失败")},Jshop_ajaxError:function(e){alert("网络错误，连接服务器失败")},message:function(e,t){if(t){var o=$(".d-message-remind");o.length<1?$(".d-page-operate").after('<div id="d-message-complete" class="d-message-remind" style="display:block;">'+e+"</div>"):o.html(e),o=$(".d-message-remind"),o.slideDown(200,function(){var e=$(this),t=setInterval(function(){e.html("").css("display","none"),clearInterval(t)},1e3)})}else{var o=$(".d-message-complete");o.length<1?$(".d-page-operate").after('<div id="d-message-complete" class="d-message-complete" style="display:block;">'+e+"</div>"):o.html(e),o=$(".d-message-complete"),o.slideDown(200,function(){var e=$(this),t=setInterval(function(){e.html("").css("display","none"),clearInterval(t)},1e3)})}},mask:function(e,t,o){e=null==e?"#EBEBEB":e,t=null==t?20:t;var n=parseInt(document.documentElement.scrollTop+Math.max(document.documentElement.clientHeight,document.documentElement.scrollHeight)),a=getMaxZIndex();if(a=a<1e3?1e3:a+1,isIE6){var i=document.createElement("iframe");i.id=o+"_mask_jshop_ie6_mask",i.className="_jshop_mask_2012",i.style.backgroundColor="#FFF",i.style.position="absolute",i.style.left="0",i.style.top="0",i.style.width="100%",i.style.height=n+"px",i.style.zIndex=a,setOpacity(i,0),document.body.appendChild(i)}var s=o+"_mask",a=getMaxZIndex();a=a<1e3?1e3:a+2;var r=document.createElement("div");r.setAttribute("id",s),r.style.backgroundColor=e,r.className="_jshop_mask_2012",r.style.position="absolute",r.style.display="none",r.style.left="0",r.style.top="0",r.style.width="100%",r.style.height=n+"px",r.style.zIndex=a,document.body.appendChild(r),$(r).fadeTo(200,.5)},basedIndex:1e3,getMaxZIndex:function(){return basedIndex+=2,basedIndex},checkResultCode:function(e){return 1==e?(jshopLogin(),!1):2!=e||(notAuthorized(),!1)},jshopLogin:function(){require.async("plugins/alert/cpm",function(e){e.alert("您的操作已超时，请您重新登录",function(){document.location.href="/login.html"})})},notAuthorized:function(){require.async("plugins/alert/cpm",function(e){e.alert("您的操作未授权！")})},fixedMiddle:function(e){if(isIE6)absoluteMiddle(e);else{e.css({display:"block"});var t=document.documentElement.clientWidth,o=document.documentElement.clientHeight,n=t/2-e.outerWidth()/2+"px",a=o/2-e.outerHeight()/2+"px";e.css({position:"fixed",left:n,top:a,display:"none"})}},absoluteMiddle:function(e){e.css({display:"block"});var t=document.documentElement.clientWidth,o=document.documentElement.clientHeight,n=t/2-e.outerWidth()/2+"px",a=o/2+jQuery("body").scrollTop()-e.outerHeight()/2+"px";e.css({position:"absolute",left:n,top:a,display:"none"})},replaceAll:function(e){function t(t,o,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,o){return-1==e.indexOf(t)?e:(e=e.replace(t,o),replaceAll(e,t,o))}),Jshop_changeBgTabClass:function(e){jQuery("#goods_catagory_bg span").removeAttr("class"),jQuery("#"+e).attr("class","show")},getDom:function(e,t){var o=e&&"string"!=typeof e?e:document.getElementById(e);return t?o.getElementsByTagName(t):o},popupTab:function(e,t,o,n){for(var a=getDom(e,t),i=getElementsByAttr(o,n),s=0,r=a.length;s<r;s++)!function(){var e=s;a[s].onclick=function(){for(var t=0;t<r;t++)t==e?("show"==a[t].className?($(a[t]).unbind("click"),$(a[t]).click(function(){})):a[t].className="show",i[t].id="show"):(a[t].className="",i[t].id="")}}()},getElementsByAttr:function(e,t){for(var o=[],n=document.getElementsByTagName("*"),a=0;a<n.length;a++)n[a].getAttribute(e)==t&&o.push(n[a]);return o},getHttp:function(){return"https:"==document.location.protocol?"https://":"http://"},getUrlArg:function(e){if("-1"!=e.indexOf("?")){var t=e.split("?")[1],o={};if(void 0!==t)return jQuery.each(t.split("&"),function(e,t){if(-1!=t.indexOf("=")){var n=t.split("=");o[n[0]]=n[1]}}),o}},returnUrlType:function(e){return-1!=e.indexOf("/mall/")?0:-1!=e.indexOf("/act/")?1:-1!=e.indexOf("/visualEditing.html")?11:-1!=e.indexOf("/preview.html")?12:2},sensitiveCheck:function sensitiveCheck(data,callBack){if("object"==(void 0===data?"undefined":_typeof(data))&&"SYS_ERROR"==data.result&&1==data.sensitive)return"function"==typeof callBack?callBack(data):$("#pop_publish .message_complete p").length?$("#pop_publish .message_complete").show().find(" p").html(data.SYS_ERROR_MSG):$("#pop_publish .message_complete").append("<p>"+data.SYS_ERROR_MSG+"</p>").show(),1;if(-1!=data.indexOf("SYS_ERROR")&&-1!=data.indexOf("sensitive")&&-1!=data.indexOf("sensitiveWords")){var _dataJson=eval("("+data+")");if(_dataJson.result&&"SYS_ERROR"==_dataJson.result&&1==_dataJson.sensitive)return"function"==typeof callBack?callBack(_dataJson):$("#validate_error").html(_dataJson.SYS_ERROR_MSG).show(),1}},ajaxRequestError:function(e,t,o){var n=checkTimeout(e.responseText);checkResultCode(n)&&alert("Ajax提交错误!")},setOpacity:function(e,t){isIE?e.style.filter="alpha(opacity="+t+")":e.style.opacity=t/100+""},getStyle:function(e,t){var o="";return o=e.style[t],null!=o&&void 0!==o||(o=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle[t]),o},loadCssText:function(e){if(document.all){var t=document.createStyleSheet();t.cssText=e}else{var t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)}},getSelectedNodeId:function(e){if(null==e)return"0";var t=e.getSelectedNodes();return t.length>0?t[0].id:"0"},getSelectedNode:function(e){if(null!=e){var t=e.getSelectedNodes();if(t.length>0)return t[0]}return null},checkedNodesToUri:function(e,t,o){for(var n=e.getCheckedNodes(!0),a="",i=0;i<n.length;i++)a+="&"+t+"["+i+"]."+o+"="+n[i].id;return a},checkNode:function(e,t){for(var o=null,n=0,a=t.length;n<a;n++)null!=(o=e.getNodeByParam("id",t[n],null))&&e.checkNode(o,!0,!1)},getOrgTree:function(){$("#orgTreeWrapper").html("");var e=orgTreeUrl,t=$("#rootId").val();t&&null!=t&&""!=t&&" "!=t&&(e+="?rootId="+t),$.ajax({url:e,type:"POST",cache:!1,async:!0,dataType:"json",data:{},timeout:6e3,success:function(e,t){var o=checkTimeout(e);checkResultCode(o)&&require.async("plugins/cms/common",function(t){t.common.createOrgTree(e,function(e,t,o,n){$("#orgId").val(o.id);var a=document.getElementById("search");""!=a.value&&a.value!=a.getAttribute("tip")&&(a.value=""),query()})})},error:ajaxRequestError,beforeSend:function(){require.async("plugins/cms/common",function(e){e.common.loading("orgTreeWrapper")})},complete:function(){$("#orgId").val(getSelectedNodeId(orgTree)),query()}})},changeWindow:function(){$(".d-popup").each(function(e){var t=$(this),o=document.documentElement.clientWidth,n=document.documentElement.clientHeight,a=o/2-t.width()/2+"px",i=n/2-t.height()/2+"px";$(t).css("top",i).css("left",a)})},initInputElement:function(e,t,o,n){var a=document.getElementById(e);a.setAttribute("tip",n),a.value||(a.value=n),a.onfocus=function(){a.value==n&&(a.value="",a.className=o)},a.onblur=function(){""!=a.value&&"undefined"!=a.value||(a.value=n,a.className=t)}},sv:function(e){var t=document.getElementById(e),o=t.getAttribute("tip"),n=$.trim(t.value);return t.value=n,t.value===o?"":n},updateNav:function(e,t,o){null!=t&&(e?$("#crumbs").append('<a href="javascript:;" id="'+t+'" class="current"> &gt; '+o+" </a>"):null==o&&$("#"+t).remove())},tokenReload:function(e){$.ajax({url:"/token/reload.html",type:"POST",cache:!1,async:!0,dataType:"json",data:{},success:function(t,o){e?document.getElementById(e).value=t.jd_token:document.getElementsByName("struts.token")[0].value=t.jd_token},error:ajaxRequestError})},loadJs:function(e){if($.ajaxSetup({cache:!0}),!e)return void alert("请提供完整的方法参数");if("string"==typeof e)$.getScript(e);else if(e.constructor==Array)for(var t=0,o=e.length;t<o;t++)$.getScript(e[t])},newTagOnfocus:function(){var e=$("#newTag").val();(e=e.trim())==$("#newTag").attr("placeholder")&&$("#newTag").val("")},checkLength:function(e){e.value.length>10&&(e.value=e.value.substring(0,10))},chooseTag:function(e){var t=jQuery(e).attr("isCheck");void 0===t||"false"==t?jQuery(e).attr("isCheck","true").addClass("current"):jQuery(e).attr("isCheck","false").removeClass("current")}}),$.extend($.browser,{client:function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,bodyWidth:document.body.clientWidth,bodyHeight:document.body.clientHeight}},scroll:function(){var e=document.documentElement.scrollTop,t=document.body.scrollTop,o=document.documentElement.scrollLeft,n=document.body.scrollLeft,a=e||t,i=o||n;return{width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight,bodyWidth:document.body.scrollWidth,bodyHeight:document.body.scrollHeight,left:i,top:a}},screen:function(){return{width:window.screen.width,height:window.screen.height}},isIE6:function(){return $.browser&&$.browser.msie&&6===$.browser.version},isMinW:function(e){return Math.min($.browser.client().bodyWidth,$.browser.client().width)<=e},isMinH:function(e){return $.browser.client().height<=e}})});