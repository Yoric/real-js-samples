define("public/business/lazyload.image",[],function(require,exports,module){!function(i,t){function e(){for(var t=a.scrollTop(),e=a.height(),o=t?t-e/4:0,u=t?t+1.5*e:e,s=i("body ."+n).filter(function(){var t=i(this).offset().top,e=t+i(this).height();return(e>=o&&e<=u||t>=o&&t<=u)&&i(this).is(":visible")}),c=0,l=s.length;c<l;++c){var f=i(s[c]);f.attr(r)&&f.removeClass(n).attr("src",f.attr(r)).removeAttr(r)}}function o(){e();var i=0;a.scroll(function(){clearTimeout(i),i=setTimeout(e,150)});var t=0;a.resize(function(){clearTimeout(t),t=setTimeout(e,100)});var o=0;u.bind("mousemove",function(){clearTimeout(o),o=setTimeout(e,100)}),u.bind("click",e)}var n="J_imgLazyload",r="original",a=i(window),u=i("body");i(function(){o()})}(jQuery,window)});define("public/business/area.stock.state",[],function(require,exports,module){window.jshop=jshop||{},jshop.component=jshop.component||{},window.skuIdPriceObj={},function(w){function initDom(){jQuery(param.domStock).each(function(e,t){for(var a=jQuery(t).closest("a"),o=a.closest("li"),e=0;priceType[e];e++)if(o.find("["+priceType[e]+"]").length>0)var r=o.find("["+priceType[e]+"]").html();Math.ceil(r)>0&&void 0===a.attr("jshop")&&a.attr("href")&&regSku.test(a.attr("href"))&&a.attr("href").match(reqGetSku)&&a.attr("jshop","url").attr(param.attrSkuName,a.attr("href").match(reqGetSku)[0])})}function _get_nodes(){initDom(),nodes=jQuery(param.tagAttr)}function _load(){_get_nodes(),nodesShow=[];for(var e=_window.scrollTop(),t=_window.height(),a=e?Math.floor(e-t/4):0,o=e?Math.floor(e+1.5*t):t,r=0,i=nodes.length;r<i;r++){var n=jQuery(nodes[r]),s=n.offset().top;s<o&&s>a&&n.is(":visible")&&(nodesShow.push(nodes[r]),n.attr(param.attrName,""))}getData()}function getSkuid(){skuCurrent=[];for(var e=0;nodesShow[e];e++){var t=jQuery(nodesShow[e]).attr(param.attrSkuName);t&&t.length>4&&skuCurrent.push(jQuery(nodesShow[e]).attr(param.attrSkuName))}skuCurrent=skuCurrent.unique()}function getData(){getSkuid();for(var e=Math.ceil(skuCurrent.length/param.maxCount),t=0;t<e;t++){var a=skuCurrent.slice(t*param.maxCount,Math.min(skuCurrent.length,(t+1)*param.maxCount));jQuery.ajax({url:INTERFACE.ss.areaStockState,data:{app:param.app,skuNum:a.join(";"),ch:param.ch,area:-1!=param.area.indexOf(".")?param.area.substring(0,param.area.indexOf(".")):param.area,coord:param.coord,site:param.site,t:param.t},dataType:"jsonp",success:function(e){domOperate(a,e)}})}}function _event_register(){var e=0;_window.bind("scroll resize",function(){clearTimeout(e),e=setTimeout(_load,150)})}function _init(){_load(),_event_register();var e=0;_window.bind("mousemove",function(){clearTimeout(e),e=setTimeout(_load,100)}),_window.bind("click",_load)}function domOperate(skuFragment,data){for(var styleStock='<style id="J_styleStock">.d-stock{position:absolute;bottom:0;left:0;right:0;z-index:2;line-height:25px;height:25px; font-size:12px; color:#fff;filter:progid:DXImageTransform.Microsoft.gradient(enabled="true", startColorstr="#66000000", endColorstr="#66000000");background:rgba(0,0,0,.4);text-align:left; text-indent:10px;}</style>',htmlStock='<div class="d-stock">state</div>',sku,i=0;skuFragment[i];i++)if(sku=skuFragment[i],data[sku]&&"34"===data[sku].a){var putSoldOutBehind=function putSoldOutBehind(skuid){var node=jQuery("[jdprice="+skuid+"]");node.each(function(){var item=$(this).closest("li"),ul=item.parent("ul");if(item&&ul&&!item.hasClass("d-sold-out")){if(ul.find(".d-sold-out").length>0){var firstSoldOut=ul.find(".d-sold-out:first").closest("li");firstSoldOut.before(item)}else ul.append(item);var module=item.closest(".j-module"),_param={},func=module.attr("data-function");if(void 0!==func){var funcs=func.split(",");try{_param=eval("("+module.attr("module-param")+")")}catch(e){_param={}}$.inArray("autoFill",funcs)>=0&&jshop.module.autoFill.call(module,_param),$.inArray("autoQuene",funcs)>=0&&jshop.module.autoQuene.call(module,_param)}}})};0==jQuery("#J_styleStock").length&&jQuery("body").append(styleStock),jQuery("a["+param.attrSkuName+"="+sku+"]").each(function(e,t){var a=jQuery(t).parent();a.attr("data-stock")||("static"==a.css("position")&&a.css("position","relative"),a.append(htmlStock.replace(/state/,json_city[0][param.area.split(",")[0]]+param.state[data[sku].a])).attr("data-stock",!0))}),putSoldOutBehind(sku)}}w.json_city={0:{1:"北京",2:"上海",3:"天津",4:"重庆",5:"河北",6:"山西",7:"河南",8:"辽宁",9:"吉林",10:"黑龙江",11:"内蒙古",12:"江苏",13:"山东",14:"安徽",15:"浙江",16:"福建",17:"湖北",18:"湖南",19:"广东",20:"广西",21:"江西",22:"四川",23:"海南",24:"贵州",25:"云南",26:"西藏",27:"陕西",28:"甘肃",29:"青海",30:"宁夏",31:"新疆",32:"台湾",42:"香港",43:"澳门",52993:"港澳",84:"钓鱼岛",53283:"海外"},1:{72:"朝阳区",2800:"海淀区",2801:"西城区",2802:"东城区",2803:"崇文区",2804:"宣武区",2805:"丰台区",2806:"石景山区",2807:"门头沟",2808:"房山区",2809:"通州区",2810:"大兴区",2812:"顺义区",2814:"怀柔区",2816:"密云区",2901:"昌平区",2953:"平谷区",3065:"延庆县"},2:{2813:"徐汇区",2815:"长宁区",2817:"静安区",2820:"闸北区",2822:"虹口区",2823:"杨浦区",2824:"宝山区",2825:"闵行区",2826:"嘉定区",2830:"浦东新区",2833:"青浦区",2834:"松江区",2835:"金山区",2836:"南汇区",2837:"奉贤区",2841:"普陀区",2919:"崇明县",78:"黄浦区"},3:{51035:"东丽区",51036:"和平区",51037:"河北区",51038:"河东区",51039:"河西区",51040:"红桥区",51041:"蓟县",51042:"静海县",51043:"南开区",51044:"塘沽区",51045:"西青区",51046:"武清区",51047:"津南区",51048:"汉沽区",51049:"大港区",51050:"北辰区",51051:"宝坻区",51052:"宁河县"},4:{113:"万州区",114:"涪陵区",115:"梁平县",119:"南川区",123:"潼南县",126:"大足区",128:"黔江区",129:"武隆县",130:"丰都县",131:"奉节县",132:"开县",133:"云阳县",134:"忠县",135:"巫溪县",136:"巫山县",137:"石柱县",138:"彭水县",139:"垫江县",140:"酉阳县",141:"秀山县",48131:"璧山县",48132:"荣昌县",48133:"铜梁县",48201:"合川区",48202:"巴南区",48203:"北碚区",48204:"江津区",48205:"渝北区",48206:"长寿区",48207:"永川区",50950:"江北区",50951:"南岸区",50952:"九龙坡区",50953:"沙坪坝区",50954:"大渡口区",50995:"綦江区",51026:"渝中区",51027:"高新区",51028:"北部新区",4164:"城口县",3076:"高新区"},5:{142:"石家庄市",148:"邯郸市",164:"邢台市",199:"保定市",224:"张家口市",239:"承德市",248:"秦皇岛市",258:"唐山市",264:"沧州市",274:"廊坊市",275:"衡水市"},6:{303:"太原市",309:"大同市",318:"阳泉市",325:"晋城市",330:"朔州市",336:"晋中市",350:"忻州市",368:"吕梁市",379:"临汾市",398:"运城市",3074:"长治市"},7:{412:"郑州市",420:"开封市",427:"洛阳市",438:"平顶山市",446:"焦作市",454:"鹤壁市",458:"新乡市",468:"安阳市",475:"濮阳市",482:"许昌市",489:"漯河市",495:"三门峡市",502:"南阳市",517:"商丘市",527:"周口市",538:"驻马店市",549:"信阳市",2780:"济源市"},8:{560:"沈阳市",573:"大连市",579:"鞍山市",584:"抚顺市",589:"本溪市",593:"丹东市",598:"锦州市",604:"葫芦岛市",609:"营口市",613:"盘锦市",617:"阜新市",621:"辽阳市",632:"朝阳市",6858:"铁岭市"},9:{639:"长春市",644:"吉林市",651:"四平市",2992:"辽源市",657:"通化市",664:"白山市",674:"松原市",681:"白城市",687:"延边州"},10:{727:"鹤岗市",731:"双鸭山市",737:"鸡西市",742:"大庆市",753:"伊春市",757:"牡丹江市",765:"佳木斯市",773:"七台河市",776:"黑河市",782:"绥化市",793:"大兴安岭地区",698:"哈尔滨市",712:"齐齐哈尔市"},11:{799:"呼和浩特市",805:"包头市",810:"乌海市",812:"赤峰市",823:"乌兰察布市",835:"锡林郭勒盟",848:"呼伦贝尔市",870:"鄂尔多斯市",880:"巴彦淖尔市",891:"阿拉善盟",895:"兴安盟",902:"通辽市"},12:{904:"南京市",911:"徐州市",919:"连云港市",925:"淮安市",933:"宿迁市",939:"盐城市",951:"扬州市",959:"泰州市",965:"南通市",972:"镇江市",978:"常州市",984:"无锡市",988:"苏州市"},13:{2900:"济宁市",1000:"济南市",1007:"青岛市",1016:"淄博市",1022:"枣庄市",1025:"东营市",1032:"潍坊市",1042:"烟台市",1053:"威海市",1058:"莱芜市",1060:"德州市",1072:"临沂市",1081:"聊城市",1090:"滨州市",1099:"菏泽市",1108:"日照市",1112:"泰安市"},14:{1151:"黄山市",1159:"滁州市",1167:"阜阳市",1174:"亳州市",1180:"宿州市",1201:"池州市",1206:"六安市",2971:"宣城市",1114:"铜陵市",1116:"合肥市",1121:"淮南市",1124:"淮北市",1127:"芜湖市",1132:"蚌埠市",1137:"马鞍山市",1140:"安庆市"},15:{1158:"宁波市",1273:"衢州市",1280:"丽水市",1290:"台州市",1298:"舟山市",1213:"杭州市",1233:"温州市",1243:"嘉兴市",1250:"湖州市",1255:"绍兴市",1262:"金华市"},16:{1303:"福州市",1315:"厦门市",1317:"三明市",1329:"莆田市",1332:"泉州市",1341:"漳州市",1352:"南平市",1362:"龙岩市",1370:"宁德市"},17:{1432:"孝感市",1441:"黄冈市",1458:"咸宁市",1466:"恩施州",1475:"鄂州市",1477:"荆门市",1479:"随州市",3154:"神农架林区",1381:"武汉市",1387:"黄石市",1396:"襄阳市",1405:"十堰市",1413:"荆州市",1421:"宜昌市",2922:"潜江市",2980:"天门市",2983:"仙桃市"},18:{4250:"耒阳市",1482:"长沙市",1488:"株洲市",1495:"湘潭市",1499:"韶山市",1501:"衡阳市",1511:"邵阳市",1522:"岳阳市",1530:"常德市",1540:"张家界市",1544:"郴州市",1555:"益阳市",1560:"永州市",1574:"怀化市",1586:"娄底市",1592:"湘西州"},19:{1601:"广州市",1607:"深圳市",1609:"珠海市",1611:"汕头市",1617:"韶关市",1627:"河源市",1634:"梅州市",1709:"揭阳市",1643:"惠州市",1650:"汕尾市",1655:"东莞市",1657:"中山市",1659:"江门市",1666:"佛山市",1672:"阳江市",1677:"湛江市",1684:"茂名市",1690:"肇庆市",1698:"云浮市",1704:"清远市",1705:"潮州市"},20:{3168:"崇左市",1715:"南宁市",1720:"柳州市",1726:"桂林市",1740:"梧州市",1746:"北海市",1749:"防城港市",1753:"钦州市",1757:"贵港市",1761:"玉林市",1792:"贺州市",1806:"百色市",1818:"河池市",3044:"来宾市"},21:{1827:"南昌市",1832:"景德镇市",1836:"萍乡市",1842:"新余市",1845:"九江市",1857:"鹰潭市",1861:"上饶市",1874:"宜春市",1885:"抚州市",1898:"吉安市",1911:"赣州市"},22:{2103:"凉山州",1930:"成都市",1946:"自贡市",1950:"攀枝花市",1954:"泸州市",1960:"绵阳市",1962:"德阳市",1977:"广元市",1983:"遂宁市",1988:"内江市",1993:"乐山市",2005:"宜宾市",2016:"广安市",2022:"南充市",2033:"达州市",2042:"巴中市",2047:"雅安市",2058:"眉山市",2065:"资阳市",2070:"阿坝州",2084:"甘孜州"},23:{3690:"三亚市",3698:"文昌市",3699:"五指山市",3701:"临高县",3702:"澄迈县",3703:"定安县",3704:"屯昌县",3705:"昌江县",3706:"白沙县",3707:"琼中县",3708:"陵水县",3709:"保亭县",3710:"乐东县",3711:"三沙市",2121:"海口市",3115:"琼海市",3137:"万宁市",3173:"东方市",3034:"儋州市"},24:{2144:"贵阳市",2150:"六盘水市",2155:"遵义市",2169:"铜仁市",2180:"毕节市",2189:"安顺市",2196:"黔西南州",2205:"黔东南州",2222:"黔南州"},25:{4108:"迪庆州",2235:"昆明市",2247:"曲靖市",2258:"玉溪市",2270:"昭通市",2281:"普洱市",2291:"临沧市",2298:"保山市",2304:"丽江市",2309:"文山州",2318:"红河州",2332:"西双版纳州",2336:"楚雄州",2347:"大理州",2360:"德宏州",2366:"怒江州"},26:{3970:"阿里地区",3971:"林芝地区",2951:"拉萨市",3107:"那曲地区",3129:"山南地区",3138:"昌都地区",3144:"日喀则地区"},27:{2428:"延安市",2442:"汉中市",2454:"榆林市",2468:"商洛市",2476:"安康市",2376:"西安市",2386:"铜川市",2390:"宝鸡市",2402:"咸阳市",2416:"渭南市"},28:{2525:"庆阳市",2534:"陇南市",2544:"武威市",2549:"张掖市",2556:"酒泉市",2564:"甘南州",2573:"临夏州",3080:"定西市",2487:"兰州市",2492:"金昌市",2495:"白银市",2501:"天水市",2509:"嘉峪关市",2518:"平凉市"},29:{2580:"西宁市",2585:"海东地区",2592:"海北州",2597:"黄南州",2603:"海南州",2605:"果洛州",2612:"玉树州",2620:"海西州"},30:{2628:"银川市",2632:"石嘴山市",2637:"吴忠市",2644:"固原市",3071:"中卫市"},31:{4110:"五家渠市",4163:"博尔塔拉蒙古自治州阿拉山口口岸",15945:"阿拉尔市",15946:"图木舒克市",2652:"乌鲁木齐市",2654:"克拉玛依市",2656:"石河子市",2658:"吐鲁番地区",2662:"哈密地区",2666:"和田地区",2675:"阿克苏地区",2686:"喀什地区",2699:"克孜勒苏州",2704:"巴音郭楞州",2714:"昌吉州",2723:"博尔塔拉州",2727:"伊犁州",2736:"塔城地区",2744:"阿勒泰地区"},32:{2768:"台湾市"},42:{2754:"香港特别行政区"},43:{2770:"澳门市"},84:{1310:"钓鱼岛"}};var param={tagAttr:'[jshop="url"]',attrName:"jshop",domStock:'[module-name="GoodsRec"] a img,[module-name="sortRec"] a img,[module-name="BusinessIntelligence"] a img,[module-name="PromptRecommend"] a img,[module-name="biClassify"] a img,[module-name="preSaleBiModule"] a img',domStockState:"li",domImg:".jPic",attrSkuName:"data-sku",maxCount:100,app:"jshop_web",ch:1,area:CookieUtil.getCookie("ipLoc-djd")?CookieUtil.getCookie("ipLoc-djd").replace(/-/g,","):0,coord:"",site:"",t:(new Date).getTime(),state:{33:"现货",34:"无货",39:"在途",36:"预订",40:"可配货"}};if(0!=param.area){var nodes=[],skuidStr=[],nodesShow=[],skuCurrent=[],priceType=["jsprice","jdprice","jspprice","jppprice","jtppprice","jtkpprice","jprice"],regSku=/^(https?:)?\/\/item\.jd\.com\/\d+\.html/,reqGetSku=/\d+/g,_window=jQuery(window);w.moduleRefreshStock=function(e){if(e&&e.length){"string"==typeof e&&(e=jQuery(e));var t=e.find(param.tagAttr);t.length&&(nodesShow=t,getData())}},jQuery(function(){_init()})}}(window),jshop.component.getPrice=skuIdPriceObj.localPriceRefresh=function(e){window.moduleRefreshP&&moduleRefreshP(e),window.moduleRefreshPM&&moduleRefreshPM(e),window.moduleRefreshStock&&moduleRefreshStock(e)}});