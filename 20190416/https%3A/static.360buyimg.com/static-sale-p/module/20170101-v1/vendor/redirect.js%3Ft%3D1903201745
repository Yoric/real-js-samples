!function(){var e=window.location.href,o=(document.referrer,window.location.hash,function(e){var o=document.cookie;if("string"==typeof e){var i="(?:; )?"+e+"=([^;]*);?";return new RegExp(i).test(o)?decodeURIComponent(RegExp.$1):null}}("pcm"),navigator.userAgent),i=function(){var e=document.referrer,o=0,i=window.navigator.userAgent.toLocaleLowerCase();return void 0!==e&&e.length>0&&(o=/w(i|q)[a-zA-Z0-9]*\.jd\.(com|hk)/.test(e)?1:2,-1!==i.indexOf("jzyc")?o=3:-1!==i.indexOf("jdapp")?o=4:-1===i.indexOf("iphone")&&-1===i.indexOf("android")&&-1===i.indexOf("windows phone")&&(o=5)),o}();if(_mobileUrl.match(/(https?:)?\/\/pro\.m\.jd\.com\/mall\/active\/\w+\/index\.html/)){var r="?";-1!==_mobileUrl.indexOf("?")&&(r="&"),_mobileUrl+=r+"has_native=0"}if(_mobileUrl.match(/sale\.jd\.com\/m\//)&&location.href.match(/pc_source/))location.href=_mobileUrl+(_mobileUrl.indexOf("?")>-1?"&":"?")+location.href.match(/pc_source=pc_jshop_\d+/);else if(1===i||3===i)_wqUrl?window.location.href=-1!==_wqUrl.indexOf("?")?_wqUrl+"&"+window.location.search.substring(1):_wqUrl+=window.location.search:window.location.href=e.replace(/\/act\//,"/wq/hd/act/");else if(2===i||4===i)_mobileUrl?window.location.href=-1!==_mobileUrl.indexOf("?")?_mobileUrl+"&"+window.location.search.substring(1):_mobileUrl+=window.location.search:window.location.href=e.replace(/\/act\//,"/m/hd/act/");else if(0===i)if(/MicroMessenger/gi.test(o)&&/(pro|h5(static)?)\.m\.jd\.com/g.test(_wqUrl)){var n=_wqUrl,l=location.search.slice(1);l.toLowerCase().includes("wxAppName=JD".toLowerCase())&&(_wqUrl.includes("?")?n+="&wxAppName=JD":n+="?wxAppName=JD"),window.location.href=n}else if(o){if(o=o.toUpperCase(),o.indexOf("PAD")>-1)return;for(var t=["IOS","IPHONE","ANDROID","WINDOWS PHONE"],a=0,c=t.length;a<c;a++)if(o.indexOf(t[a])>-1){if(_viewError)return void(window.location.href="//m.jd.com/");_mobileUrl?(window.location.search&&(-1!==_mobileUrl.indexOf("?")?_mobileUrl=_mobileUrl+"&"+window.location.search.substring(1):_mobileUrl+=window.location.search),window.location.href=_mobileUrl):window.location.href=e.replace(/\/act\//,"/m/hd/act/")}}}();