/*!Name: jQuery.scroller.js
 * Date: 2019-4-4 18:53:56 */
!function(t){var o=function(o,n){this.opts=t.extend({delay:50,start:null,end:null,startThreshold:0,stopThreshold:0,onStart:function(){},onEnd:function(){},onScroll:function(){}},n),this.$el=t(o),this.init()};o.prototype={init:function(){this.bindEvent(),t(window).bind("scroll",function(){t(this).trigger("onscroller")})},bindEvent:function(){var o,n=this;t(window).bind("onscroller",function(){clearTimeout(o),o=setTimeout(function(){n.onScroll(),clearTimeout(o)},n.opts.delay)})},onScroll:function(o){var n=t(document).scrollTop(),s=this.opts.start||this.$el.offset().top,i=this.opts.end||s+this.$el.outerHeight();t(window).height();this.opts.end&&"object"==typeof this.opts.end&&(i=this.opts.end.offset().top),n>s+this.opts.startThreshold&&n<i-this.opts.stopThreshold?this.opts.onStart.apply(this):this.opts.onEnd.apply(this),this.opts.onScroll.apply(this)}},t.fn.scroller=function(n,s){return this.each(function(){var i=new o(this,n,s);t(this).data("scroller",i)})}}(jQuery);
/*!Name: onekey.js
 * Date: 2019-4-4 18:53:50 */
define("MOD_ROOT/buybtn/onekey",function(require,exports,module){var e=require("MOD_ROOT/common/tools/event").Event,i=require("JDF_UNIT/login/1.0.0/login"),s=require("MOD_ROOT/common/tools/tools"),t=require("MOD_ROOT/common/tools/abtest"),n=require("MOD_ROOT/colorsize/colorsize"),o=s.ConditionTrigger.globalConditionTrigger;require("JDF_UI/dialog/1.0.0/dialog"),require("MOD_ROOT/ETooltips/ETooltips");var a={init:function(e){return this.cfg=e,this.$el=$("#btn-onkeybuy"),this.href=this.$el.attr("href"),this.ybParam="",this.giftParam="",this.did="",this.cfg=e,this.deps={isPriceMoreThan10:!1,havestock:!1,isLogin:!1,isNotYuShou:!e.isYuShou,isNotBiGouMa:!e.isBiGouMa,isNotHeYue:!e.isHeYue,isNotO2O:!(e.__chooseShop&&e.__chooseShop.selected),isNotHW:!0,isNotJinCai:!e.isJinCaiSelected},this.$el.length&&this.bindEvent(e),e.__reLoadOneKeyBuy=$.proxy(function(){this.get(!0)},this),this},isEnabled:function(e){this.deps.havestock=e.havestock,this.deps.isNotYuShou=!e.isYuShou,this.deps.isNotHeYue=!e.isHeYue,this.deps.isNotJinCai=!e.isJinCaiSelected,this.deps.isNotO2O=!(e.__chooseShop&&e.__chooseShop.selected);for(var i in this.deps)if(this.deps.hasOwnProperty(i)&&!this.deps[i])return!1;return!0},bindEvent:function(){var i=this,o=this.cfg;if(this.$el.unbind("click").bind("click",function(){n.highLighAttr()||i.handleClick()}),e.addListener("onGiftSelected",function(e){i.isEnabled(o)&&(e.skus&&e.skus.length?i.giftParam=e.skus.join(","):i.giftParam="")}),e.addListener("onLDPSelected",function(e){i.isEnabled(o)&&(e.did?i.did=e.did:i.did="")}),e.addListener("onYBSelected",function(e){i.isEnabled(o)&&(e.skus&&e.skus.length?i.ybParam=e.skus.join(","):i.ybParam="")}),e.addListener("onPriceReady",function(e){if(!pageConfig.product.isYuShou&&$("#banner-miaosha").length<=0&&pageConfig.product.skuMarkJson&&pageConfig.product.skuMarkJson.pg)return!1;i.deps.isPriceMoreThan10=Number(e.price.p)>10,i.isEnabled(o)&&i.show()}),e.addListener("onLogin",function(e){i.deps.isLogin=e.login,i.isEnabled(o)&&i.show()}),e.addListener("onStockReady",function(e){var n=s.getAreaId().areaIds;if(53283!==n[0]&&52993!==n[0]&&32!==n[0]||(i.deps.isNotHW=!1),i.isPlusType=e&&e.stock&&e.stock.stock&&e.stock.stock.isPlus||!1,i.isPlusType&&$(".J-plus-price .text").next("a").remove(),6==o.seckillType){o.__plusKoABTest=new t(s.getUUID(),.2);if("A"===o.__plusKoABTest.isHitVersion()&&!i.isPlusType){var a=$('<a href="//plus.jd.com/index" class="btn-buyplus btn-special1 btn-lg" clstag="shangpin|keycount|product|plusopen">\u5f00\u901aPLUS</a>');$(".btn-buyplus").length||a.insertAfter($("#InitCartUrl")),$(".J-plus-price .text").next("a").remove(),i.deps.showOneKey=!1}}i.isEnabled(o)?i.show():i.hide()}),e.addListener("onHeYueReady",function(e){!o.isHeYue&&i.isEnabled(o)?i.show():i.hide()}),e.addListener("onYBSelected",function(e){if(!o.baiTiaoFenQi)return!1;!o.baiTiaoFenQi.hasSelectedItem&&i.isEnabled(o)&&i.show()}),e.addListener("onBaiTiaoSelect",function(e){!e.isSelect&&i.isEnabled(o)?i.show():i.hide()}),this.$el.length){if(o.isEBook)return;this.$el.ETooltips({close:!1,autoHide:!0,content:'<div id="easy-buy-tips"><div class="loading-style1"><b></b>\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u5019...</div></div>',width:265,zIndex:10}).mouseover(function(){"true"!==$(this).data("loaded")&&(i.getCommonAddress(o),$(this).data("loaded","true"))})}},handleClick:function(){var e=this,i=void 0!==pageConfig.giftSelectedSkuids&&pageConfig.giftSelectedSkuids.length>0;if(pageConfig.haveGift){if(!i)return $("#choose-gift").addClass("item-hl-bg"),!1;s()}else s();function s(){e.checkLogin(function(i){i&&e.get()})}},checkLogin:function(e){i({modal:!0,complete:function(i){e(i&&i.Identity&&i.Identity.IsAuthenticated)}})},get:function(e){var i=this,s=this.cfg.easyBuyUrl;e=e||!1,$.ajax({url:s,data:{skuId:this.cfg.skuid,num:$("#buy-num").val(),gids:this.giftParam,ybIds:this.ybParam,did:this.did,useOtherAddr:e},dataType:"jsonp",jsonpCallback:"easybuysubmit",success:function(e){e&&i.set(e)}})},set:function(e){e.success&&e.jumpUrl&&(/debug=onekeybuy/.test(location.href)?prompt("\u6d4b\u8bd5\u7528",e.jumpUrl):window.location=e.jumpUrl),!e.success&&e.message&&$("body").dialog({title:"\u63d0\u793a",width:400,height:200,type:"text",source:e.message})},showBtn:function(){this.isEnabled(this.cfg)?this.show():this.hide()},show:function(){pageConfig.hasCarGift||o&&o.receivers.JDService&&o.receivers.JDService.signal||this.$el.show()},hide:function(){this.$el.hide()},getCommonAddress:function(e){var i=this;$.ajax({url:"//cd.jd.com/easybuy",data:{skuId:e.skuid},dataType:"jsonp",scriptCharset:"gbk",success:function(e){e?e.empty=!1:e={empty:!0},i.setCommonAddress(e)}})},setCommonAddress:function(e){$("#easy-buy-tips").html('            <div class="easy-buy-tips easy-buy-tips-ab" style="line-height:24px;">                {if !empty}                <img src="//img13.360buyimg.com/devfe/jfs/t5995/298/8888084024/16675/6f7ff6b/598c2979N216f9dab.png" />                <p><strong>${name} </strong><span class="hl_gray">${mobile}</span></p>                <p class="hl_gray">${fullAddress}</p>                <p>                    {if pickName}                        <strong>${paymentId} | \u4e0a\u95e8\u81ea\u63d0</strong>                    {else}                        <strong>${paymentId} | \u5feb\u9012\u4e0a\u95e8</strong>                    {/if}                </p>                <p>                    <a class="mod-btn" onclick="pageConfig.product.__reLoadOneKeyBuy()" href="#none">\u4fee\u6539\u5730\u5740/\u652f\u4ed8\u65b9\u5f0f/\u6536\u8d27\u65b9\u5f0f\u4e0b\u5355</a>                </p>                {else}                <p><strong>\u4e00\u952e\u8d2d\uff0c\u5e2e\u60a8\u5feb\u901f\u4e00\u952e\u4e0b\u5355</strong></p>                <p class="hl_gray" style="line-height:1.5em;">\u521d\u6b21\u4f7f\u7528\u9700\u8bbe\u7f6e\u6536\u8d27\u5730\u5740\u548c\u652f\u4ed8\u3001\u914d\u9001\u65b9\u5f0f\uff0c\u7ee7\u7eed\u4f7f\u7528\u5373\u53ef\u5b8c\u6210\u4e00\u952e\u8d2d\u4e70\uff01</p>                {/if}            </div>'.process(e))}};module.exports=a,module.exports.__id="oneKeyBuy"});
/*!Name: reservation.js
 * Date: 2019-4-4 18:53:50 */
define("MOD_ROOT/buybtn/reservation",function(require,exports,module){var t=require("MOD_ROOT/common/tools/tools").Countdown,e=require("MOD_ROOT/common/tools/event").Event,s=require("MOD_ROOT/common/tools/tools"),i=require("JDF_UNIT/login/1.0.0/login"),n=require("MOD_ROOT/common/core");require("JDF_UI/dialog/1.0.0/dialog");function o(t,e){if("number"!=typeof t||"function"!=typeof e)throw"Invalid params.";setTimeout(function(){e()||o(t,e)},t)}function r(t){var e=t.isPinGou?"1":"3",s=t.isPinGou?"\u9080\u8bf7\u597d\u53cb":"\u5206\u4eab",n="//fenxiang.jd.com/shareFront/initShareIcons.action?sku="+t.skuid+"&flag="+e;i({modal:!0,complete:function(t){t&&t.Identity&&t.Identity.IsAuthenticated&&o()}});function o(){$("body").dialog({title:s,type:"iframe",source:n,width:600,height:200})}}var a={init:function(t){$(".J-yuyue-share").before('<span class="yuyue-text J-yuyue-text"></span>'),this.$el=$("#btn-reservation,#btn-reservation-mini"),this.$banner=$("#yuyue-banner"),this.$process=$("#yuyue-process"),this.$textTip=$(".J-yuyue-text"),this.jnbtBtn=t.jnbtBtn,this.cfg=t,this.isPlusProduct=!1,this.cfg.isYuYue&&(this.$count=this.$banner.find(".J-count"),this.$time=this.$banner.find(".J-time"),this.$price=$(".J-summary-price .p-price").hide(),this.bindEvent(),this.get())},invite:function(){return r(this.cfg)},bindEvent:function(){var t=this;$(".J-yuyue-tips .J-tips").unbind("click").bind("click",function(){$("#detail").length&&$("html,body").scrollTop($("#detail").offset().top),$("#pingou-rules-tab").trigger("click")}),e.addListener("onStockReady",function(e){var s=t.cfg.jnbtBtn,i=e.area.id[0];t.cfg.havestock?s.enabled():s.disabled(),"1"==i&&t.ysSupportJnbt?s.show():s.hide(),4===t.state&&(t.cfg.havestock?t.enabled():t.disabled())}),e.addListener("onLDPSelected",function(e){t.LDP=e.did,t.enabled()}),e.addListener("onPriceReady",function(e){var s=e.price||{},i=+s.p,n=+s.op;if(n>i)o(0,function(){if(t.__res__){if(1==t.__res__.showPromoPrice&&0==t.__res__.hidePrice){var e=$("#J_bookingDoublePrice");e.length?e.html("\uffe5"+n):$(".J-summary-price .p-price").after('<span style="vertical-align:3px;"><del id="J_bookingDoublePrice">\uffe5'+n+"</del></span>")}return!0}return!1});else{var r=$("#J_bookingDoublePrice");r.length&&r.parent().remove()}})},get:function(){var t=this;$.ajax({url:"//yushou.jd.com/youshouinfo.action",data:{sku:this.cfg.skuid},dataType:"jsonp",timeout:6e3,cache:!1,jsonpCallback:"fetchJSON",error:function(){t.onError(),t.setPrice()},success:function(e){t.cfg.isYuYue&&(!e||$.isEmptyObject(e)||e.error||5==e.state)&&(location.href=n.modifyURL(location.href,{query:{yuyue:"0"}})),e&&"1"===e.type?t.set(e):t.onError(),t.setPrice(e&&e.hidePrice),t.__res__=e}})},getIsKOurl:function(){var t=this;$.ajax({url:"//itemko.jd.com/itemShowBtn",data:{skuId:this.cfg.skuid,from:"pc"},dataType:"jsonp",success:function(e){t.url=e.url,t.cfg.havestock&&e&&"3"===e.type?t.enabled():t.disabled(e.url)}})},log:function(t){n.log(null,"reservation.js",t)},onError:function(){this.cfg.addToCartBtn.reInit(this.$el.eq(0)),this.log("YuShou service return a error, Maybe the YuShou special attr has expired or service unavailable.")},set:function(t){this.$el.show(),this.setPlus(t,$.proxy(function(){this.setCountdown(t),this.setProcess(t),this.checkState(t)},this)),this.setCategory(t.category),this.supportJNBT(t)},getPlusText:function(t){return 2===t.state||3===t.state?{"P_1-U_2":"\u60a8\u662fPLUS\u4f1a\u5458\uff0c\u5c06\u63d0\u524d{0}\u5206\u949f\u5f00\u62a2","P_1-U_1":'\u5f00\u901aPLUS\u6b63\u5f0f\u4f1a\u5458\u63d0\u524d\u5f00\u62a2\uff0c<a target="_blank" href="//plus.jd.com/index">\u53bb\u5f00\u901a <span class="arrow">&gt;&gt;</span></a>',"P_1-U_N":'\u5f00\u901aPLUS\u6b63\u5f0f\u4f1a\u5458\u63d0\u524d\u5f00\u62a2\uff0c<a target="_blank" href="//plus.jd.com/index">\u53bb\u5f00\u901a <span class="arrow">&gt;&gt;</span></a>',"P_2-U_2":"\u60a8\u662fPLUS\u4f1a\u5458\uff0c\u5c06\u63d0\u524d{0}\u5206\u949f\u5f00\u62a2","P_2-U_1":"\u60a8\u662fPLUS\u4f1a\u5458\uff0c\u5c06\u63d0\u524d{0}\u5206\u949f\u5f00\u62a2","P_2-U_N":'\u5f00\u901aPLUS\u4f1a\u5458\u63d0\u524d\u5f00\u62a2\uff0c<a target="_blank" href="//plus.jd.com/index">\u53bb\u5f00\u901a &gt;&gt;</a>',NO_LOGIN:'PLUS\u4f1a\u5458\u63d0\u524d\u5f00\u62a2\uff0c\u8bf7 <a href="{0}" class="J-plus-login">\u767b\u5f55</a> \u786e\u8ba4\u8d2d\u4e70\u8d44\u683c'}:4===t.state?{"P_1-U_2":"\u60a8\u662fPLUS\u4f1a\u5458\uff0c\u514d\u9884\u7ea6\u53ef\u62a2","P_1-U_1":'\u5f00\u901aPLUS\u6b63\u5f0f\u4f1a\u5458\u514d\u9884\u7ea6\u53ef\u62a2\uff0c<a target="_blank" href="//plus.jd.com/index">\u53bb\u5f00\u901a <span class="arrow">&gt;&gt;</span></a>',"P_1-U_N":'\u5f00\u901aPLUS\u6b63\u5f0f\u4f1a\u5458\u514d\u9884\u7ea6\u53ef\u62a2\uff0c<a target="_blank" href="//plus.jd.com/index">\u53bb\u5f00\u901a <span class="arrow">&gt;&gt;</span></a>',"P_2-U_2":"\u60a8\u662fPLUS\u4f1a\u5458\uff0c\u514d\u9884\u7ea6\u53ef\u62a2","P_2-U_1":"\u60a8\u662fPLUS\u4f1a\u5458\uff0c\u514d\u9884\u7ea6\u53ef\u62a2","P_2-U_N":'\u5f00\u901aPLUS\u4f1a\u5458\u514d\u9884\u7ea6\u53ef\u62a2\uff0c<a target="_blank" href="//plus.jd.com/index">\u53bb\u5f00\u901a &gt;&gt;</a>',NO_LOGIN:'PLUS\u4f1a\u5458\u514d\u9884\u7ea6\u53ef\u62a2\uff0c\u8bf7 <a href="{0}" class="J-plus-login">\u767b\u5f55</a> \u786e\u8ba4\u8d2d\u4e70\u8d44\u683c'}:{}},setPlus:function(t,e){var s=t.plusType;if(this.isPlusProduct=1===s||2===s,!this.isPlusProduct)return e(),!1;var n=this.getPlusText(t);i.isLogin($.proxy(function(i){var o=this.getUserType(t),r="P_{0}-U_{1}".format(s,o),a="https://passport.jd.com/new/login.aspx?ReturnUrl="+encodeURIComponent(location.href);i?(this.showPlusTime=1===s&&2===o||2===s&&2===o||2===s&&1===o,n[r]&&this.setTextTips(n[r].format(this.getPlusPriorityTime(t)),t)):n.NO_LOGIN&&this.setTextTips(n.NO_LOGIN.format(a),t),e()},this))},getPlusPriorityTime:function(t){var e=this.convertDate(t.plusEtime)-this.convertDate(t.qiangStime);return parseInt(e/1e3/60)},convertDate:function(t){for(var e=t.split(/-|\s|:/),s=0;s<e.length;s++)e[s]=Number(e[s]);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]).getTime()},getPlusTime:function(t){if(3===t.state)return this.showPlusTime?t.plusD:t.d;if(4===t.state){var e;return 1===t.isBefore?(e=this.showPlusTime?(this.convertDate(t.qiangEtime)-(new Date).getTime())/1e3:(this.convertDate(t.plusEtime)-(new Date).getTime())/1e3,parseInt(e)):t.d}return t.d},setTextTips:function(t,e){4===e.state&&1!==e.isBefore||this.$textTip.html(t)},getUserType:function(){var t=readCookie("ceshi3.com");if(t){var e=t.substr(0,1);return"1"===e||"2"===e?parseInt(e):"N"}return"NO_LOGIN"},setCategory:function(t){var e=$(".J-yy-category"),s=null;"1"===t&&(s="\u9884\u7ea6\u4eab\u8d44\u683c"),"3"===t&&(s="\u9884\u7ea6\u4eab\u4f18\u60e0"),s?e.html(s).show():e.hide()},setProcess:function(t){var e=this.$process.find(".J-step2"),s=this.$process.find(".J-step4");function i(t){return t?t.replace(/:\d\d$/,""):""}if(e.html(i(t.yueStime)+"-"+i(t.yueEtime)),this.showPlusTime)s.html(i(t.plusStime)+"-"+i(t.qiangEtime));else{var n=this.isPlusProduct?t.plusEtime:t.qiangStime;s.html(i(n)+"-"+i(t.qiangEtime))}},setPrice:function(t){t=Number(t),1===t&&(this.$price.find("span:last").removeClass().addClass("price").html("\u5f85\u53d1\u5e03"),pageConfig.product.isHidePrice=!0),this.$price.show()},disabled:function(){this.$el.addClass("btn-disable"),this.$el.attr("href","#none"),this.isEnabled=!0},enabled:function(){if(this.cfg.isClosePCShow)return!1;var t=this.$el.attr("href");"#none"!==t&&(this.url=t),this.url&&(this.url=s.addUrlParam(this.url,"did",this.LDP),this.$el.attr("href",this.url)),this.$el.removeClass("btn-disable"),this.isEnabled=!0},setCountdown:function(e){var s=this.$time,i=this.$banner.find(".J-text"),n="\u5269\u4f59";this.$count.html(e.num).closest(".J-item-1").show(),1===e.state&&(n="\u8ddd\u9884\u7ea6\u8fd8\u9700"),2===e.state&&(n="\u9884\u7ea6\u5269\u4f59"),3===e.state&&(n="\u8ddd\u62a2\u8d2d\u8fd8\u9700"),4===e.state&&(n=this.isPlusProduct?this.showPlusTime?"\u62a2\u8d2d\u5269\u4f59":"\u8ddd\u62a2\u8d2d\u8fd8\u9700":"\u62a2\u8d2d\u5269\u4f59"),i.html(n);var o=this.isPlusProduct?this.getPlusTime(e):e.d;o>0?(this.$banner.find(".J-item-2").show(),new t(1e3*o,function(t){t.d<1?s.html(t.h+"\u5c0f\u65f6"+t.m+"\u5206"+t.s+"\u79d2"):s.html(t.d+"\u5929"+t.h+"\u5c0f\u65f6"+t.m+"\u5206"+t.s+"\u79d2")})):this.$banner.find(".J-item-2").hide()},checkState:function(t){if(this.state=t.state,this.url=t.url,1===t.state&&(this.$count.hide(),this.setBtnText("\u7b49\u5f85\u9884\u7ea6"),this.disabled()),2===t.state&&(this.setBtnText("\u7acb\u5373\u9884\u7ea6"),this.enabled()),3===t.state&&(this.setBtnText("\u7b49\u5f85\u62a2\u8d2d"),this.disabled()),4===t.state){this.setBtnText("\u7acb\u5373\u62a2\u8d2d"),this.url=location.protocol+"//cart.jd.com/gate.action?pcount=1&ptype=1&pid="+this.cfg.skuid;try{window.setAmount.$buyBtn=window.setAmount.$buyBtn.add(this.$el)}catch(t){console&&console.log(t)}pageConfig.product.isCfy?this.url="//rx.yiyaojd.com/cart_addItem.action?pid="+pageConfig.product.skuid+"&ptype=1&pcount=1":this.cfg.isKO&&(this.url="#none",this.getIsKOurl()),this.cfg.havestock&&(1!==t.isBefore||this.showPlusTime)?this.enabled():this.disabled(t.url)}5===t.state&&(this.setBtnText("\u62a2\u8d2d\u5df2\u7ed3\u675f"),this.disabled())},setBtnText:function(t){this.$el.html(t)},supportJNBT:function(t){this.ysSupportJnbt=pageConfig.product.ysSupportJnbt=1===t.supportOther,this.ysSupportJnbt?(this.jnbtBtn.show(),this.jnbtBtn.enabled()):this.jnbtBtn.hide()}};module.exports=a,module.exports.showInvite=r,module.exports.__id="Reservation"});
/*!Name: ko.js
 * Date: 2019-4-4 18:53:50 */
define("MOD_ROOT/buybtn/ko",function(require,exports,module){var t=require("MOD_ROOT/common/tools/event").Event,s=require("JDF_UNIT/login/1.0.0/login"),e=(require("MOD_ROOT/common/core"),require("MOD_ROOT/common/tools/tools").Countdown),i={init:function(t){return $("#choose-btn-ko").after('<span class="yuyue-text J-yuyue-text"></span>'),this.cfg=t,this.$el=$("#choose-btn-ko"),this.$textTip=$(".J-yuyue-text"),!!t.isKO&&(!t.isYuShou&&(this.isPlusProduct=!1,this.bindEvent(),this.get(),this))},bindEvent:function(){var s=this;t.addListener("onStockReady",function(t){s.isEnabled?s.enabled():s.disabled()})},get:function(){$.ajax({url:"//itemko.jd.com/itemShowBtn",data:{skuId:this.cfg.skuid,from:"pc"},dataType:"jsonp",success:$.proxy(this.set,this)})},set:function(s){if(!s||"3"!==s.type)return this.disabled(),this.hide(),!1;this.buyUrl=s.url,this.show(),this.setPlus(s,$.proxy(function(){this.setBtnText(this.getButtonText(s)),this.checkState(s)},this)),t.fire({type:"onKOReady",r:s})},setPlus:function(t,e){var i=t.pt,n=t.ps>0;if(this.isPlusProduct=1===i||2===i,!this.isPlusProduct||!n)return e(),!1;var o=+new Date>1e3*t.st;s.isLogin($.proxy(function(s){var e=this.getUserType(),n="https://passport.jd.com/new/login.aspx?ReturnUrl="+encodeURIComponent(location.href),a="";if(s?(this.showPlusTime=1===i&&2===e||2===i&&2===e||2===i&&1===e,this.showPlusTime?a="\u60a8\u662fPLUS\u4f1a\u5458\uff0c\u63d0\u524d\u62a2\u8d2d\u5269\u4f59\u65f6\u95f4\uff1a":(1===i&&(a="\u5f00\u901aPLUS\u6b63\u5f0f\u4f1a\u5458\u53ef\u7acb\u5373\u5f00\u62a2"),2===i&&2!==e&&1!==e&&(a="\u5f00\u901aPLUS\u4f1a\u5458\u53ef\u7acb\u5373\u5f00\u62a2"),a+='\uff0c<a target="_blank" href="//plus.jd.com/index">\u53bb\u5f00\u901a <span class="arrow">&gt;&gt;</span></a>')):a=1===i?'PLUS\u6b63\u5f0f\u4f1a\u5458\u4e13\u4eab\uff0c\u8bf7 <a href="{0}" class="J-plus-login">\u767b\u5f55</a> \u786e\u8ba4\u8d2d\u4e70\u8d44\u683c'.format(n):'PLUS\u4f1a\u5458\u5df2\u63d0\u524d\u5f00\u62a2\uff0c\u8bf7 <a href="{0}" class="J-plus-login">\u767b\u5f55</a> \u786e\u8ba4\u8d2d\u4e70\u8d44\u683c'.format(n),o)if(this.showPlusTime){this.enabled(),this.setBtnText("\u62a2\u8d2d"),this.setPlusCountdown(t.ps,a);if(pageConfig.product.specialAttrs instanceof Array&&-1!=pageConfig.product.specialAttrs.join(",").indexOf("isKO")&&1===i&&2===e){var h=["5131287","5131225","5131311","5131309","4068636"],r=pageConfig.product.skuid;(function(t,s){for(var e=!1,i=0;i<s.length;i++)if(t==s[i]){e=!0;break}return e})(r,h)&&(this.$textTip.hide(),this.$textTip.after('<span class="yuyue-text plus-yuyue-text">PLUS\u6b63\u5f0f\u4f1a\u5458\u4e13\u4eab</span>'))}}else this.disabled(),this.setBtnText("\u7b49\u5f85\u62a2\u8d2d"),this.setTextTips(a,t);else this.disabled(),this.setBtnText("\u62a2\u8d2d\u672a\u5f00\u59cb")},this))},setPlusCountdown:function(t,s){if(t&&!(t<1)){var i=this.$textTip;new e(1e3*t,function(t){t.d<1?i.html(s+t.h+"\u5c0f\u65f6"+t.m+"\u5206"+t.s+"\u79d2"):i.html(s+t.d+"\u5929"+t.h+"\u5c0f\u65f6"+t.m+"\u5206"+t.s+"\u79d2")})}},setTextTips:function(t){this.isPlusProduct&&this.$textTip.html(t)},getUserType:function(){var t=readCookie("ceshi3.com");if(t){var s=t.substr(0,1);return"1"===s||"2"===s?parseInt(s):"N"}return"NO_LOGIN"},checkState:function(t){this.isEnabled="12"===t.state,this.isEnabled?this.enabled():this.disabled()},enabled:function(){this.cfg.havestock?(this.$el.removeClass("btn-disable"),this.$el.attr("href",this.buyUrl)):this.disabled()},disabled:function(){this.$el.addClass("btn-disable"),this.$el.attr("href","#none")},show:function(){this.$el.show(),this.cfg.addToCartBtn.hide()},hide:function(){this.$el.hide(),this.cfg.addToCartBtn.show()},setBtnText:function(t){this.$el.html(t)},getButtonText:function(t){switch(t.state){case"11":return"\u62a2\u8d2d\u672a\u5f00\u59cb";case"12":return"\u62a2\u8d2d";case"13":return"\u62a2\u8d2d\u5df2\u7ed3\u675f";default:return"\u62a2\u8d2d"}}};module.exports=i,module.exports.__id="ko"});
/*!Name: bigouma.js
 * Date: 2019-4-4 18:53:49 */
define("MOD_ROOT/buybtn/bigouma",function(require,exports,module){var t=require("JDF_UNIT/login/1.0.0/login"),n=require("MOD_ROOT/common/core"),i=require("MOD_ROOT/common/tools/event").Event,s={init:function(t){return this.sku=t.skuid,this.cfg=t,this.$cd=$("#choose-countdown"),this.$cdTxt=this.$cd.find("#bgm-countdown"),this.$txt=$(".J-bgm-text"),this.$btn=$("#choose-btn-bgm"),this.$btnWrap=$("#choose-btns"),this.BTN_DISABLE="btn-disable",this.$btn.length&&(this.onBGM(),this.get(),this.bindEvent()),this},bindLogin:function(){var t=this;this.$btnWrap.delegate(".J-s-login","click",function(){return t.loginIframe(),!1})},bindEvent:function(){var t=this;function n(t,n){return(t.attr("href")||"").replace(/pcount=\d+/,"pcount="+n)}i.addListener("onNumChange",function(i){var s=t.$txt.find(".J-bind");s.attr("href",n(s,i.count)),t.bgmEnabled&&t.enabled()}),i.addListener("onStockReady",function(n){pageConfig.product.havestock?t.bgmEnabled&&t.enabled():t.disabled()})},loginIframe:function(){t({modal:!0,complete:function(){window.location.reload(!0)}})},onBGM:function(){this.$btn.show(),this.cfg.addToCartBtn.hide(),this.cfg.oneKeyBuyBtn.hide()},get:function(){var t=this;$.ajax({url:"//jcode.jd.com/jcodeinfo.action",data:{sku:this.sku},dataType:"jsonp",success:function(n){t.set(n)}})},enabled:function(t){if(this.bgmEnabled=!0,this.cfg.isClosePCShow||!this.cfg.havestock)return!1;this.$btn.removeClass(this.BTN_DISABLE),this.$btn.attr("href",t||this.cfg.addToCartBtn.href),this.$txt.addClass("bgm-text-active")},disabled:function(){this.$btn.attr("href","#none"),this.$btn.addClass(this.BTN_DISABLE)},set:function(t){var n=t.cs&&1===t.cs,i=t.d&&t.d>0;if(this.isLogin=t&&t.lg&&1===t.lg,2===t.jtype)return this.enabled(),this.setBtnText("\u52a0\u5165\u8d2d\u7269\u8f66"),!1;if(this.isLogin&&this.$btnWrap.undelegate("click"),n){if(2===t.status&&i&&this.setCountdown(t.d),!t.lg)return this.setLoginTips(),this.bindLogin(),!1;if(!t.b)return this.setBindTips(t.url);this.enabled()}else this.setSupportText(t&&t.source)},setBtnText:function(t){this.$btn.text(t||"\u5fc5\u8d2d\u7801\u8d2d\u4e70")},setSupportText:function(t){t=t.substr(1);var n=["\u4eac\u4e1capp","\u5fae\u4fe1","\u624b\u673aQQ"],i=[];if(t)for(var s=t.split(""),e=0;e<s.length;e++)"1"===s[e]&&i.push(n[e]);i.length>0?this.$txt.html("\u8bf7\u5230"+i.join("\u3001")+"\u8d2d\u4e70"):this.$txt.html("")},setLoginTips:function(){this.$txt.html('\u8bf7 <span href="#none" class="hl_blue J-s-login" style="cursor:pointer">\u767b\u5f55</span> \u540e\u786e\u8ba4\u8d2d\u4e70\u8d44\u683c')},setBindTips:function(t){t.indexOf("pcount")<0&&(t+="&pcount=1");var n='            \u8bf7\u5148 <a href="'+t+'" class="hl_blue J-s-login J-bind" style="display:inline;" target="_blank">\u7ed1\u5b9a/\u9886\u53d6\u5fc5\u8d2d\u7801 </a>\u518d\u8d2d\u4e70\u3002';this.$txt.html(n)},setCountdown:function(t){var i=this;this.$cd.show();function s(t,n){return t.replace(/{d}/g,n.d).replace(/{h}/g,n.h).replace(/{m}/g,n.m).replace(/{s}/g,n.s)}n.Countdown.init(t,function(t){i.$cdTxt.html(s("{d}\u5929{h}\u5c0f\u65f6{m}\u5206{s}\u79d2",t))})}};module.exports=s,module.exports.__id="bgm"});
