/*!Name: similar.js
 * Date: 2019-4-4 18:53:52 */
define("MOD_ROOT/similar/similar",function(require,exports,module){var i=require("MOD_ROOT/common/tools/recommend"),e=require("MOD_ROOT/common/tools/event").Event,t=require("MOD_ROOT/common/core");require("MOD_ROOT/similar/similar.css"),require("PLG_ROOT/jQuery.imgScroll");function s(e,s){var o={ebook:{param:{p:619053,sku:e.skuid,ck:"pin,bview",lim:18},ext:{imgWidth:100,imgHeight:100},height:184},other:{param:{p:2===e.pType?102e3:103e3,sku:e.skuid,ck:"pin",lim:12},ext:{imgWidth:100,imgHeight:100},height:184}},a="";a=e.isEBook?"ebook":"other",new i({$el:$("#similar .list"),skuHooks:"SKUS_nostock",template:'        <ul class="plist">        {for item in data}        <li class="fore${Number(item_index)+1}"             data-clk="${item.clk}"             data-push="${pageConfig[skuHooks].push(item.sku)}">            <div class="p-img ac">                <a target="_blank" title="${item.t}" href="//item.jd.com/${item.sku}.html">                    <img height="{if ext.imgHeight}${ext.imgHeight}{else}100{/if}" width="{if ext.imgWidth}${ext.imgWidth}{else}100{/if}" alt="${item.t}" src="${pageConfig.FN_GetImageDomain(item.sku)}n1/s${ext.imgWidth}x${ext.imgHeight}_${item.img}">                </a>            </div>            <div class="p-name"><a target="_blank" title="${item.t}" href="//item.jd.com/${item.sku}.html">${item.t}</a></div>            <div class="p-price"><strong class="J-p-${item.sku}">${item.jp}</strong></div>        </li>        {/for}        </ul>',ext:o[a].ext,param:o[a].param,loadPrice:!e.isEBook,callback:function(i,m){var r=s.find(".list"),l=s.find(".arrow-prev"),n=s.find(".arrow-next"),c=t.wideVersion?7:6;if(i){if(s.show(),e.isEBook&&m.success){var h=[];$.each(m.data,function(i,e){h.push(e.sku)});var d=require("MOD_ROOT/ebook/ebook").priceNum,g={skus:h,$el:s};d(g)}}else s.hide();r.imgScroll({width:156,height:o[a].height,visible:c,showControl:!0,status:!0,statusWrapSelector:".page-num",step:c,loop:!1,prev:l,next:n})}})}function o(i,t){if(i.isEBook)return void s(i,t);e.addListener("onStockReady",function(){i.havestock?t.hide():s(i,t)})}module.exports.__id="similar",module.exports.init=o});
/*!Name: ad.js
 * Date: 2019-4-4 18:53:51 */
define("MOD_ROOT/lazyinit/ad",function(require,exports,module){require("MOD_ROOT/common/tools/json2"),require("MOD_ROOT/ELazyload/ELazyload");var G=require("MOD_ROOT/common/core"),tools=require("MOD_ROOT/common/tools/tools");function setFAads(t){var e=["2_163_818","2_232_3431","0_0_3743","2_163_6092"];1000000127!=t.shopId&&e.push("2_163_817"),"undefined"==typeof searchEngineSource&&(e.push("2_163_5395"),e.push("2_163_5394")),t.isPop&&e.push("2_601_3951"),t.isEBook&&e.push("0_0_8246"),3===t.pType&&(e.push("0_0_3789"),e.push("0_0_3790"),e.push("0_0_6052"),e.push("0_0_4035")),4053===t.cat[0]&&(e.push("0_0_8253"),e.push("0_0_5790")),4051===t.cat[0]&&(e.push("0_0_8251"),e.push("0_0_5767")),4052===t.cat[0]&&(e.push("0_0_8252"),e.push("0_0_5789")),13678==t.cat[0]&&e.push("0_0_12161"),t.forceAdUpdate&&e.push("0_0_"+t.forceAdUpdate),$.ajax({url:"//nfa.jd.com/loadFa_toJson.js?aid="+e.join("-")+"&ver=20131107",dataType:"script",cache:!0,success:function(){var t=$("#miaozhen7886,#miaozhen10767");t.length&&t.ELazyload({source:"data-lazyload"})}})}function setMarketAds(cfg){var $adMarket=$("#ad_market_1");$adMarket.length&&$.ajax({dataType:"jsonp",url:"//x.jd.com/ShowInterface",data:{sku_id:cfg.skuid,shop_id:cfg.shopId,urlcid3:cfg.cat[2],ad_ids:"57:1",ad_type:8,spread_type:1,debug:0,location_info:0},success:function(data){if(!data)return!1;if(0==data.errcode)try{var el=document.getElementById("ad_market_1"),data2=/<script type=\"text\/javascript\">(.*?)<\/script>/gim.exec(data.data);if(data2){var data3=data2[1],dataHtml=data.data.replace(/<script type=\"text\/javascript\">.*?<\/script>/gim,"");el.innerHTML=dataHtml,eval(data3)}else el.innerHTML=data.data;data.scriptsrc&&jsf.loadScript(data.scriptsrc)}catch(t){}}})}function setActivity(t){function e(t){var e=$("#product-intro,.product-intro"),i='            <style>                .side__ad { position: absolute; top: 0; width:200px; height:800px; }                .side__ad-left { left: -200px; background:url(//img13.360buyimg.com/cms/${materials[0].imagePath}) top right no-repeat }                .side__ad-right { right: -200px; background:url(//img13.360buyimg.com/cms/${materials[1].imagePath}) top left no-repeat }            </style>            <div id="ccc-side-ad" data-name="${name}" data-type="${type}">                {if typeof materials[0].link !== "undefined"}                <a href="${materials[0].link}" target="_blank" class="side__ad side__ad-left"></a>                <a href="${materials[1].link}" target="_blank" class="side__ad side__ad-right"></a>                {else}                <div class="side__ad side__ad-left"></div>                <div class="side__ad side__ad-right"></div>                {/if}            </div>';function a(){var t=($(window).width()-e.outerWidth())/2;t>0&&$("#ccc-side-ad .side__ad-right").css({width:t,right:-t})}e.append(i.process(t)),a(),$(window).resize(tools.throttle(a,100))}function i(t){var e=$("#summary,.summary").eq(0);if($("#act-top-bottom").length&&$("#act-top-bottom").remove(),!$("body").hasClass("yyp")&&!$("#banner-miaosha").length){if($("#banner-shangou").length&&$("#banner-shangou").remove(),$("#prepare-price-banner").length){if("618\u5927\u4fc3\u6c1b\u56f4"===t.name)return!1;$("#prepare-price-banner").hide()}t.materials.length&&e.before('            <div id="act-top-bottom" data-name="${name}" style="height:32px;overflow:hidden;">                {if materials[0].link}<a target="_blank" href="${materials[0].link}">{/if}                    <img height="32" src="//img13.360buyimg.com/cms/${materials[0].imagePath}" >                {if materials[0].link}</a>{/if}            </div>'.process(t))}}function a(t){var e=$("#choose,.itemInfo-wrap");e.length||e.append('            <div id="act-banner-bottom" data-name="${name}" style="clear:both">                {if materials[0].link}<a target="_blank" href="${materials[0].link}">{/if}                    <img width="500" height="50" src="//img13.360buyimg.com/cms/${materials[0].imagePath}" >                {if materials[0].link}</a>{/if}            </div>'.process(t))}function s(e){var i=e&&(e.materials[0].imagePath||e.materials[0].link),a=(t.cat[2],t.phoneNetwork?t.phoneNetwork.join(","):""),s=655===t.cat[2],n={url:"//ctc.jd.com/hall/index?",param:{sku:t.skuid,cat:t.cat.join(","),mode:a}},o={enabled:!1,startTime:+new Date(1970,1,1,0,0,0)/1e3,endTime:+new Date(3017,1,1,0,0,0)/1e3};i&&(o.enabled=!0,o.id="0_0_"+i);var r="https://item.m.jd.com/product/{0}.html?pc_source=pc_productDetail_{0}".format(t.skuid),d='<img src="//qrimg.jd.com/{0}-118-1-4-2.png?ltype=0" width="118" height="118" />'.format(encodeURIComponent(r)),c='                <div class="toolbar-qrcode" id="toolbar-qrcode">                    <span class="close" href="#none">\xd7</span>                    <p class="ac">\u4f7f\u7528\u4eac\u4e1cAPP<br>\u968f\u65f6\u968f\u5730\u770b\u5546\u54c1</p>                    '+d+"                </div>",h={pType:"item",bars:{hall:{index:.5,title:"\u8425\u4e1a\u5385",login:!0,enabled:s,iframe:n.url+$.param(n.param)},cart:{enabled:!0},history:{enabled:!1},coupon:{index:1.5,enabled:!0,title:"\u4f18\u60e0\u5238",login:!0,iframe:"//item.jd.com/coupons?"+$.param({skuId:t.skuid,cat:t.cat.join(","),venderId:t.venderId})},jimi:{enabled:!1,iframe:"//jimi.jd.com/index.action?productId="+t.skuid+"&source=jdhome"},contact:{enabled:!0,title:"\u8054\u7cfb\u5ba2\u670d",target:"#none"}},links:{qrcode:{index:1,anchor:"#none",extraHTML:c},feedback:{index:2,href:"//surveys.jd.com/index.php?r=survey/index/sid/323814/newtest/Y/lang/zh-Hans"},top:{index:3,anchor:"#"}},ad:o},l=function(t){this.$el=null,this.$ext=null,this.category=t.cat||[],this.specialAttrs=t.specialAttrs||[],this.skuid=t.skuid,this.showToolbar=!1,this.timer=null,this.init()};l.prototype={init:function(){this.isJiaDian()&&this.hasAttr(/gdsp-1/)&&(this.showToolbar=!0)},setEl:function(){this.$el=$("#J-global-toolbar .jdm-tbar-tab-xianshitehui"),this.$ext=this.$el.find(".toolbar-ext-xianshitehui")},gdspFun:function(){if(!this.showToolbar)return!1;this.setEl();var t=this;this.$ext.hover(function(){t.hoverInCallback()},function(){t.hoverOutCallback()}),this.gdspInit()},gdspInit:function(){if(!this.showToolbar)return!1;var t=this;this.checkLogin(function(e){t.setToolExtState(e,!1)})},setToolExtState:function(t,e){t.IsAuthenticated?this.doVerifyByLogin(t,e):(this.showItemExt(),this.setSwingAnimate(e),this.setTipsNoLogin(),this.setTipsState(e))},setTipsState:function(t){t=t||!1,t?this.$ext.find(".toolbar-ext-tips").show():this.$ext.find(".toolbar-ext-tips").hide()},doVerifyByLogin:function(t,e){var i=this;try{$.ajax({url:"//c.3.cn/gdpPromotion",data:{pin:t.Name,skuId:i.skuid},dataType:"jsonp",error:function(t){i.hideItemExt(),i.clearSwingAnimate()},success:function(t){t&&t.resultCode&&"SUCCESS"==t.resultCode?(i.showItemExt(),i.setSwingAnimate(e),i.setTipsLogin(t.resultObj),i.setTipsState(e)):(i.hideItemExt(),i.clearSwingAnimate())}})}catch(t){throw i.hideItemExt(),i.clearSwingAnimate(),new Error("interface error")}},setTipsLogin:function(t){t.diffPrice=t.diffPrice||0,t.detailText=t.detailText||"";var e='                              <h4>\u672c\u5546\u54c1\u4e3a\u60a8\u76f4\u964d<span class="ext-price">'+t.diffPrice+'</span>\u5143</h4>                              <span class="ac">'+t.detailText+"</span>",i={el:this.$ext.find(".toolbar-ext-tips"),content:e,width:180,height:80,pos:"bottom",className:"xianshi-ext-lg",zIndex:10};this.resizeTip(i)},setTipsNoLogin:function(){var t={el:this.$ext.find(".toolbar-ext-tips"),content:"<span>\u767b\u5f55\u67e5\u770b\u5177\u4f53\u4fc3\u9500\u4fe1\u606f</span>",width:160,height:60,pos:"bottom",zIndex:10};this.resizeTip(t)},hoverInCallback:function(){var t=this;this.checkLogin(function(e){t.setToolExtState(e,!0)})},hoverOutCallback:function(){this.setTipsState(!1),this.setSwingAnimate(!1)},isJiaDian:function(){return 737==parseInt(this.category[0])},hasAttr:function(t){var e=this.specialAttrs,i="string"==typeof t,a=e.length;if(e&&e.length){for(var s=0;s<a;s++)if(i){if(e[s]===t)return!0}else if(t.test(e[s]))return!0;return!1}return!1},checkLogin:function(t){t=t||function(t){},tools.checkLogin(function(e){t(e)})},getTemplate:function(){return'                        <div class="toolbar-ext-xianshitehui" id="toolbar-ext-xianshitehui">                            <a class="xianshitehui-bg" href="javascript:void(0)">                            '+'<img src="//img30.360buyimg.com/devfe/jfs/t9766/193/475664612/4671/2175a09b/59d0608bN88e8132f.png" width="95" height="74" />'.format(encodeURIComponent(r))+'                            </a>                            <a class="xianshitehui-bg-animate" href="javascript:void(0)">                            '+('<img src="//img10.360buyimg.com/devfe/jfs/t10174/177/1224509602/4427/bd5db91a/59dddce7Na2880abf.png" width="95" height="74" />'.format(encodeURIComponent(r))+'<img src="//img13.360buyimg.com/devfe/jfs/t10675/360/1218150373/4777/1a704dee/59ddddafNba577b3f.png" width="95" height="74" />'.format(encodeURIComponent(r))+'<img src="//img20.360buyimg.com/devfe/jfs/t10297/23/1209404015/4771/351820db/59ddddd1Neb144188.png" width="95" height="74" />'.format(encodeURIComponent(r))+'<img src="//img12.360buyimg.com/devfe/jfs/t10762/134/1238810609/4777/51612783/59ddddf2N22a37ed1.png" width="95" height="74" />'.format(encodeURIComponent(r)))+'                            </a>                            <div class="toolbar-ext-tips"><i class="ext-tip-arrow"></i><div class="ext-tip-text"></div></div>                        </div>'},configToolBar:function(t){if(!G.isObject(t)||!G.isObject(t.bars))return{};if(this.showToolbar){var e=this.getTemplate();t.bars.xianshitehui={index:.2,title:"\u9650\u65f6\u4e13\u5c5e\u7279\u60e0",enabled:!0,login:!0,extraHTML:e,iframe:"//notice.jd.com/notice/userlist"}}return t},hideItemExt:function(){this.$ext.removeClass("hide").addClass("hide")},showItemExt:function(){this.$ext.removeClass("hide")},resizeTip:function(t){t=t||{},t.el=t.el||$(".toolbar-ext-tips"),t.content=t.content||"",t.width=t.width||160,t.height=t.height||60,t.pos=t.pos||"bottom",t.zIndex=t.zIndex||10,t.close=t.close||!1,t.className=t.className||"";var e=t.el;e.addClass(t.className).css({width:t.width+"px",height:t.height+"px",zIndex:t.zIndex}),"top"==t.pos?e.css("top","-10px"):e.css("bottom","65px"),"left"==t.pos?e.css("left","-10px"):e.css("right","40px"),e.children(".ext-tip-text").html(t.content)},setSwingAnimate:function(t){var e=this.$ext.find(".xianshitehui-bg-animate");if(e&&e.length)if(t)this.timer&&(this.timer=clearInterval(this.timer));else if(!this.timer){var i=0;this.timer=setInterval(function(){e.find("img").hide().each(function(t){parseInt(t)==parseInt(i)&&$(this).show()}),i=(i+1)%4},100)}},clearSwingAnimate:function(){this.timer&&(this.timer=clearInterval(this.timer)),this.$ext.find(".xianshitehui-bg-animate").find("img").hide()}};var m=new l(t);h=m.configToolBar(h),seajs.use(["//static.360buyimg.com/devfe/toolbar/1.0.0/js/main"],function(e){G.customerServiceURL?h.bars.contact.target=G.customerServiceURL:(h.bars.contact.iframe="//jimi.jd.com/index.action?productId="+t.skuid+"&source=jdhome",h.bars.contact.index=5,h.bars.contact.login=!0,delete h.bars.contact.target),pageConfig.toolbar=new e($.extend(!0,h,pageConfig.toolbarParam)),$(".jdm-tbar-tab-qrcode").hover(function(){$("#toolbar-qrcode").show()},function(){$("#toolbar-qrcode").hide()}).click(function(){return $("#toolbar-qrcode").hide(),!1}),m.gdspFun()})}$.ajax({url:"//c.3.cn/atmosphere",data:{skuId:t.skuid,brandId:t.brand,cat:t.cat.join(","),venderId:t.venderId,pTag:t.pTag,expands:JSON.stringify(t.specialAttrs)},dataType:"jsonp",success:function(t){t=t||{},t[1]&&e(t[1]),t[2]&&i(t[2]),t[3]&&a(t[3]),s(t[4])}})}function init(t){setFAads(t),setMarketAds(t),setActivity(t)}exports.init=init});
/*!Name: try.js
 * Date: 2019-4-4 18:53:52 */
define("MOD_ROOT/try/try",function(require,exports,module){var t=require("MOD_ROOT/common/tools/tools").Countdown,e=(require("JDF_UI/pager/1.0.0/pager"),require("MOD_ROOT/common/tools/event").Event),s=require("MOD_ROOT/common/core"),i={};i.list='        <div class="com-try-title">\u8bd5\u7528\u62a5\u544a</div>        <div class="com-table-header">            <span class="item column1">\u8bd5\u7528\u5fc3\u5f97</span>            <span class="item column2">\u8bd5\u7528\u6ee1\u610f\u5ea6</span>            <span class="item column3">\u4e0a\u4f20\u65f6\u95f4</span>            <span class="item column5">\u8bc4\u4ef7\u8005</span>        </div>        <div class="com-table-main">            {for list in reports}            <div class="comments-item">                <table class="com-item-main clearfix">                    <tbody>                        <tr>                            <td class="com-i-column column1" clstag="shangpin|keycount|product|sybg-nr">                                <div class="p-comment">                                    <span class="desc">                                        <div class="J-try-report-detail try-report-detail">                                            <strong>\u5546\u54c1\u4eae\u70b9\u53ca\u5efa\u8bae\uff1a</strong><br>                                            <div class="content J-thumb-content thumb-content">${list.recommendation}</div>                                        </div>                                        <div class="J-try-report-detail try-report-detail">                                            <div class="J-thumb-descriptions thumb-descriptions">                                                <strong>\u4f7f\u7528\u8fc7\u7a0b\u53ca\u611f\u53d7\uff1a</strong><br>                                                <div class="content J-thumb-content thumb-content">${list.descriptions[0].content}</div>                                            </div>                                            <div class="J-all-descriptions all-descriptions">                                                <strong>\u4f7f\u7528\u8fc7\u7a0b\u53ca\u611f\u53d7\uff1a</strong><br>                                                <div class="content">                                                    {for description in list.descriptions}                                                        <div>${description.content}</div>                                                        <div>                                                            <img data-src="//img10.360buyimg.com/trial/s418x418_${description.image}" alt="${description.content}">                                                        </div><br>                                                    {/for}                                                </div>                                            </div>                                        </div>                                        <div class="try-report-show-number J-try-report-show-number">                                            <span class="show-number">\u5171${list.descriptions.length}\u5f20\u56fe\u7247</span>                                            <a class="J-hide-more-try-report view-show" href="#none">\u6536\u8d77\u8be6\u60c5 \ufe3d</a>                                        </div>                                    </span>                                </div>                                <div class="J-p-show-img p-show-img clearfix">                                    <table>                                        <tbody>                                            <tr>                                                {var tryReportDescriptionImagesLen = 0}                                                {for description in list.descriptions}                                                    {if tryReportDescriptionImagesLen < 3}                                                        <td>                                                            <div>                                                                <img src="//img10.360buyimg.com/trial/s80x80_${description.image}" alt="">                                                            </div>                                                        </td>                                                    {/if}                                                    {eval}                                                        tryReportDescriptionImagesLen++;                                                    {/eval}                                                {/for}                                            </tr>                                        </tbody>                                    </table>                                    <span class="show-number">\u5171${list.descriptions.length}\u5f20\u56fe\u7247</span>                                    <a class="J-show-more-try-report view-show" href="#none">\u5c55\u5f00\u8be6\u60c5 \ufe3e</a>                                </div>                            </td>                            <td class="com-i-column column2">                                <div class="grade-star g-star${list.score}">&nbsp;</div>                            </td>                            <td class="com-i-column column3">                                <div class="p-comment">                                    <b class="time">${list.created}</b>                                </div>                            </td>                            <td class="com-i-column column5">                                <div class="user-item">                                {if typeof list.user.img!=="undefined"&&list.user.img!==null}                                    <img src="${list.user.img}" width="16px" height="16px" alt="" class="user-ico" />                                {else}                                    <img src="//img10.360buyimg.com/img/jfs/t8725/71/1440583117/12168/6dd8e72c/59ba365cN959f668b.jpg" width="16px" height="16px" alt="${list.user.nickname}" class="user-ico" />                                {/if}                                <span class="user-name">${list.user.nickname}</span></div>                                <div class="user-item" style="display: none;"><span class="u-vip-level" style="color:#088000">${list.user.newUserLevel}</span></div>                            </td>                        </tr>                    </tbody>                </table>            </div>            {/for}        </div>        <div class="com-table-footer">            <div class="ui-page-wrap clearfix">                <div class="ui-page" clstag="shangpin|keycount|product|sybg-fy"></div>            </div>        </div>';var r={init:function(t,e){return this.cfg=e,this.$tryReport=t,this.data=null,this.bindEvent(),this},getData:function(t){var e=this;this.page=t,this.url="//c.3.cn/tryReport?skuId={skuId}&pageStart={start}&cat={cat}",this.url=this.url.replace("{skuId}",e.cfg.skuid).replace("{cat}",e.cfg.cat.join(",")).replace("{start}",t),/debug=verderTryReport/.test(location.href)&&(this.url="//c.3.cn/tryReport?skuId=1133499&pageStart=7&cat=1316,1387,1425"),$.ajax({url:this.url,dataType:"jsonp",cache:!0,jsonpCallback:"fetchJSON_tryReport",scriptCharset:"gbk",success:function(t){e.setData(t)}})},setData:function(t){var e=this;return t&&t.reports?(e.data=t,this.setCommentCount(t.count),e.dataFilter(t),this.$tryReport.html(i.list.process(t)),this.pageNav=this.$tryReport.find(".ui-page"),this.setPageNav(t),void this.$tryReport.lazyload({source:"data-src"})):void this.$tryReport.html("")},dataFilter:function(t){return $.each(t.reports,function(t,e){$.each(e.descriptions,function(t,s){s&&!s.image&&e.descriptions.splice(t,1)}),e.user.newUserLevel=s.getNewUserLevel(e.user.userLevel)}),t},setPageNav:function(t){var e=this;this.pageNav.pager({total:t.count,pageSize:5,currentPageClass:"ui-page-curr",currentPage:e.page+1,pageHref:"#try-report",prevClass:"ui-pager-prev",nextClass:"ui-pager-next",prevText:"\u4e0a\u4e00\u9875",nextText:"\u4e0b\u4e00\u9875",callback:function(t){var s=t-1;e.getData(s)}})},bindEvent:function(){var t=this;t.$tryReport.delegate(".J-show-more-try-report","click",t.showMoreReport),t.$tryReport.delegate(".J-hide-more-try-report","click",t.hideMoreReport),t.$tryReport.delegate(".J-try-report-detail, .J-p-show-img td","click",function(){"1"===$(this).parents(".com-i-column").attr("data-isShowMore")?t.hideMoreReport.call(this):t.showMoreReport.call(this)}),e.addListener("onCommentTemplateReady",function(){t.data&&t.setCommentCount(t.data.count)})},showMoreReport:function(){var t=$(this),e=t.parents(".com-i-column");e.attr("data-isShowMore",1),e.find(".J-thumb-descriptions").hide(),e.find(".J-p-show-img").hide(),e.find(".J-all-descriptions").show(),e.find(".J-try-report-show-number").show(),e.find(".J-thumb-content").removeClass("thumb-content"),e.parents("table").lazyload({source:"data-src"})},hideMoreReport:function(){var t=$(this),e=t.parents(".com-i-column");e.attr("data-isShowMore",0),e.find(".J-thumb-descriptions").show(),e.find(".J-p-show-img").show(),e.find(".J-all-descriptions").hide(),e.find(".J-try-report-show-number").hide(),e.find(".J-thumb-content").addClass("thumb-content");var s=e.offset().top,i=$("#detail .pro-detail-hd-fixed").height();s-i<($("html").scrollTop()||$("body").scrollTop())&&$("html, body").scrollTop(s-i-20)},setCommentCount:function(t){var e=$(".J-comments-list").find(".J-try-report-btn");e.show().find("em").html("("+t+")"),e.find("a").attr("href","#none"),e.click(function(){$("html,body").scrollTop($("#try-report").offset().top-80)})}},o={init:function(t,e){if(this.$el=t,this.cfg=e,!t.length)return!1;this.get(),this.setPrice()},get:function(){$.ajax({url:"//try.jd.com/activity/getBySku?source=&sku="+this.cfg.skuid,dataType:"jsonp",success:$.proxy(this.set,this)})},set:function(t){if(!t||!t.data)return!1;this.$el.show(),$('[data-anchor="#try-holder"]').show(),this.$el.find(".J-count").html(t.data.actSupplyCount),this.$el.find(".J-a-count").html(t.data.applyCount),this.setBtnLink(t.data.actId),this.setCountdown(t.data.actEnd)},setPrice:function(){var t=this;e.addListener("onPriceReady",function(){!pageConfig.product.isYuShou&&$("#banner-miaosha").length<=0&&t.cfg.skuMarkJson&&t.cfg.skuMarkJson.pg||t.$el.find(".p-price strong").html("\uffe5"+t.cfg.jp.toFixed(2))})},setBtnLink:function(t){var e=this.$el.find(".btn-primary"),s=e.attr("href");e.attr("data-href")||e.attr("data-href",s),e.attr("href",e.attr("data-href").replace("{actid}",t))},setCountdown:function(e){var s=+new Date;if(!e)return!1;if(s<=e){var i=this.$el.find(".J-time-left");new t(parseInt(e-s),function(t){i.html("\u5269\u4f59 <strong>{0}</strong>\u5929 <strong>{1}</strong>\u65f6 <strong>{2}</strong>\u5206 <strong>{3}</strong>\u79d2".format(t.d,t.h,t.m,t.s))})}}};module.exports.__id="try",module.exports.Report=r,module.exports.Entry=o});
/*!Name: ELazyload.js
 * Date: 2019-4-4 18:53:49 */
define("MOD_ROOT/ELazyload/ELazyload",function(require,exports,module){"use strict";var t="ELazyload",e=function(){},s={delay:100,type:"img",source:"data-src",removeSource:!0,threshold:100,loadingClass:"ELazy-loading",errorClass:"ELazy-error",debug:!1,placeholder:["//misc.360buyimg.com/lib/img/e/blank.gif","//misc.360buyimg.com/lib/img/e/blank.gif","data:image/gif;base64,R0lGODlhAQABAJEAAAAAAP///////wAAACH5BAEHAAIALAAAAAABAAEAAAICVAEAOw=="],onAppear:e,onReady:e,onComplete:e,onError:e,onLoad:e};function i(e,i){this.$el=e,this.settings=$.extend({},s,i),this._defaults=s,this._name=t,this._version="@VERSION",this._guid=e.data("Eguid"),this.init()}i.prototype={init:function(){"img"===this.settings.type?this.$targets=this.$el.eq(0).is("img")?this.$el:this.$el.find("["+this.settings.source+"]"):this.$targets=this.$el,this._eventString="scroll.lazyload."+this._guid+" resize.lazyload."+this._guid,this.$w=$(window),this.total=this.$targets.length,this.timer=null,this.isCheckable=!0,this.loaded=[],this.bindEvent(),this.supportRect=this.supportClientRect(),this.check(this.$targets),this.settings.onReady.call(this)},supportDataURI:function(t){if(this.isSupportDataURI)return t(this.isSupportDataURI);var e=new Image;e.onload=e.onerror=function(){var e=1===this.width&&1===this.height?1:0;this.isSupportDataURI=e,t(e)},e.src=this.settings.placeholder[1]},bindEvent:function(t){var e=this;t&&"img"===this.settings.type?(t.get(0).onload=function(){e.onLoad(t)},t.get(0).onerror=function(){t.removeClass(e.settings.loadingClass).addClass(e.settings.errorClass),t.data("loaded",!1),e.supportDataURI(function(s){var i=e.settings.placeholder[s];t.attr("src",i),e.placeholder=i}),e.settings.onError.call(e,t)}):this.$w.unbind(this._eventString).bind(this._eventString,function(){e.handleCheck(e.$targets)})},onLoad:function(t){var e=t.attr("src");e!==this.settings.placeholder[0]&&e!==this.settings.placeholder[1]&&(t.removeClass(this.settings.loadingClass),t.data("loaded",!0),this.loaded.push(1),this.settings.onLoad.call(this,t))},handleCheck:function(t){var e=this;this.isCheckable&&(this.isCheckable=!1,this.timer=setTimeout(function(){e.check(t),e.isCheckable=!0},this.settings.delay))},check:function(t){var e=this,s=$();function i(t){t.data("loaded",!0),"img"===e.settings.type?(t.attr("src",t.attr(e.settings.source)),e.settings.removeSource&&t.removeAttr(e.settings.source)):t.removeClass(e.settings.loadingClass),e.settings.onAppear.call(e,t)}t.each(function(){var t=$(this);t.data("loaded")||(t.addClass(e.settings.loadingClass),t.data("loaded",!!t.attr("src")),e.insertHolder(t),e.bindEvent(t));var n=e.$holder||t;e.inWindow(n)?i(t):s=s.add(t),e.settings.debug&&(t.next().is($(".img-status"))?t.next().html("Loaded: "+t.data("loaded")):t.after('<div class="img-status">Loaded: '+t.data("loaded")+"</div>"))}),this.$targets=s,this.placeholderAdded||"img"!==e.settings.type||this.setDefaultPlaceholder(s),this.settings.debug&&console.log("Total:"+this.total+"\u3000 current:"+t.length+"\u3000 Left: "+s.length),this.total===this.loaded.length&&(this.$w.unbind(this._eventString),this.settings.onComplete.call(this),this.settings.debug&&console.log("All done."))},setDefaultPlaceholder:function(t){var e=this;this.supportDataURI(function(s){for(var i=e.settings.placeholder[s],n=0,a=t.length;n<a;)t.get(n).setAttribute("src",i),n++;e.placeholderAdded=!0})},insertHolder:function(t){"img"!==this.settings.type&&(t.is(":visible")||t.prev().is(".Elazy-holder")||(t.before('<ins class="ELazy-holder ELazy-holder'+this._guid+'"></ins>'),this.$holder=t.prev(".ELazy-holder")))},supportClientRect:function(){if(void 0!==this.isSupportClientRect)return this.isSupportClientRect;var t=document.createElement("div"),e="getBoundingClientRect"in t;return t=null,this.isSupportClientRect=e,e},inWindow:function(t){var e=this.$w.height(),s=$("body").scrollTop()||$("html").scrollTop();if(this.supportRect){var i=t.get(0).getBoundingClientRect(),n=i.top,a=i.left,o=i.top+i.height;return n>=0&&a>=0&&n<=e+this.settings.threshold||n<0||o>=0&&a>=0&&o<=e}var n=t.offset().top,l=t.height(),o=n+l;return n<e+s+this.settings.threshold&&n>s||o<e+s&&o>s}},$.fn[t+"_guid"]=0,$.fn[t]=function(e){return this.length||"undefined"==typeof console?this.each(function(){$(this).data("Eguid",$.fn[t+"_guid"]++);var s=new i($(this),e),n=$(this).data(t);n?n.push(s):$(this).data(t,[s])}):(console.log("\u300c"+t+"\u300d The elements["+this.selector+"] you passed is empty."),this)}});
