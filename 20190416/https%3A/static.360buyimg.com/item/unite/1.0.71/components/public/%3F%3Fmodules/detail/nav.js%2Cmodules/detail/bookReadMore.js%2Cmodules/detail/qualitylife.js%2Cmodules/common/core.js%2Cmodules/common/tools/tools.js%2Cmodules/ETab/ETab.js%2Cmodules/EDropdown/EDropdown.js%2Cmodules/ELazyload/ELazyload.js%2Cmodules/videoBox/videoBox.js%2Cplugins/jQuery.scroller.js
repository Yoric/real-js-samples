/*!Name: nav.js
 * Date: 2019-4-4 18:53:55 */
define("PUBLIC_ROOT/modules/detail/nav",function(require,exports,module){var t=require("PUBLIC_ROOT/modules/common/core");require("PUBLIC_ROOT/plugins/jQuery.scroller"),require("JDF_UNIT/trimPath/1.0.0/trimPath");var e=function(t){this.$el=t.$el||$("<div></div>"),this.$wrap=t.$wrap||$("#detail"),this.template=t.template||'    {for item in navItems}    <li data-id="detail-tag-id-${item.id}"         clstag="shangpin|keycount|product|maodian-${item.text}"         data-text="${item.text}" {if item_index==0} class="current"{/if}>        <a href="#none">            <i class="arrow-l">                <b class="layer1"></b>                <b class="layer2"></b>            </i>            <i class="arrow-r"></i>${item.text}        </a>    </li>    {/for}',this.onStart=t.onStart||function(){},this.onEnd=t.onEnd||function(){},this.targetSelector=t.targetSelector||'[name^="detail-tag-id-"]',this.items=this.$wrap.find(this.targetSelector),this.init()};e.prototype={init:function(){var t=$(".detail-content");this.items.length>0?(this.$el.show(),t.addClass("z-have-detail-nav"),this.setNavContent(),this.bindEvent()):t.removeClass("z-have-detail-nav")},onScroll:function(){var t=[];function e(t){var e=$(window).height(),i=$("body").scrollTop()||$("html").scrollTop(),a=t.offset().top;return e+i>a&&i<a}if(this.tags.each(function(i){var a=$(this);e(a)&&t.push(a)}),t.length>0){var i=t[0].attr("name").replace("detail-tag-id-","");this.listItems.removeClass("current"),this.listItems.filter('[data-id="detail-tag-id-'+i+'"]').addClass("current")}},bindEvent:function(){var e=this;$("body").scroller({onScroll:function(){e.onScroll()}}),this.$el.delegate("li","click",function(){var i=$(this).attr("data-id").replace("detail-tag-id-",""),a=$(this).attr("data-text"),n=e.$wrap.find("[name=detail-tag-id-"+i+"]").offset().top;$("#detail .tab-main").hasClass("pro-detail-hd-fixed")||(n-=39),$("body,html").animate({scrollTop:n-50});var s=pageConfig._CURR_AREA;log("skupage","cateid",i,t.cat[2],t.cat[1],t.cat[0],t.sku,s&&s.provinceName,s&&s.cityName,a)}),$.browser.isIE6()||this.$el.parent().scroller({delay:10,stopThreshold:$("#J-detail-nav").outerHeight(),onStart:function(){e.$el.addClass("fixed-top"),e.onStart(e)},onEnd:function(){e.$el.removeClass("fixed-top"),e.onEnd(e)}})},collectTags:function(){var t,e,i=this.items,a=i.length,n=0,s="\u5bfc\u822a",l={navItems:[]};if(this.tags=i,a>0)for(n;n<a;n++)t=i.eq(n).attr("name"),s=i.eq(n).attr("text"),t&&""!=t&&s&&(e=t.replace("detail-tag-id-",""),l.navItems.push({id:e,text:s}));return l},setNavContent:function(){var t=this.collectTags();this.$el.find("#J-detail-content-tab").html(this.template.process(t)),this.listItems=this.$el.find("li")}},module.exports=e});
/*!Name: bookReadMore.js
 * Date: 2019-4-4 18:53:55 */
define("PUBLIC_ROOT/modules/detail/bookReadMore",function(require,exports,module){var t={bookInit:function(){var t=$("#summary-quan");this.setBookMore(),this.setBookIllustrate(),t.length>0&&(t.show(),$("#p-ad-book").hide())},setBookMore:function(){var t=$("#J-detail-content"),e=t.find(".book-detail-item");t.delegate(".more a","click",function(){var t=$(this).attr("href"),e="0"===$(this).attr("data-open"),o=e?"\u6536\u8d77\u5168\u90e8\u2191":"\u67e5\u770b\u5168\u90e8\u2193",i=$(this).parents(".book-detail-item").eq(0).find(".book-detail-content");e?(i.removeAttr("style"),$(this).attr("data-open","1")):(i.css({height:314,overflow:"hidden"}),$(this).attr("data-open","0")),$(this).text(o);var a=$(t).offset().top;return $("body,html").animate({scrollTop:a-20}),!1}),e.each(function(){var t=$(this).find(".book-detail-content"),e=t.outerHeight(),o=$(this).find(".more [data-open]");o.length>0&&(e>314?t.css({height:314,overflow:"hidden"}):o.hide())})},setBookIllustrate:function(){seajs.use(["JDF_UI/imgpreview/1.0.0/imgpreview.js","JDF_UI/dialog/1.0.0/dialog.js"],function(t){$(".img-preview").imgpreview({title:"\u5185\u9875\u63d2\u56fe"})})}};module.exports=t});
/*!Name: qualitylife.js
 * Date: 2019-4-4 18:53:55 */
"use strict";define("PUBLIC_ROOT/modules/detail/qualitylife",function(require,exports,module){var t=window.pageConfig.eventTarget;require("JDF_UI/dialog/1.0.0/dialog");var i=/^(?:https?:)?(?:\/\/)?/;function e(t,i){this.cfg=t,this.$el=i||$("#quality-life"),this.$icon=this.$el.find("li"),this.image={v2:[]},this.$el.find(".q-logo img").attr("src","//img11.360buyimg.com/devfe/jfs/t19249/266/555939662/10324/447efd03/5a965eb2Nf83fd68c.jpg"),this.init()}e.prototype={init:function(){this.getData(),this.showRegularIcon(),this.bindEvent()},showRegularIcon:function(){this.$el.find(".fresh-ico-3").length&&this.$el.show()},bindEvent:function(){this.$el.delegate("ul li","click",$.proxy(this.handleClick,this))},handleClick:function(t){var i=$(t.currentTarget),e=i.attr("data-type"),a=i.attr("data-text"),s=i.attr("data-url");"1"===e?this.setQualityPromise(s,a):this.showDialog(e,a),i.hasClass("J_fresh")&&this.showIconDialog(i),i.hasClass("J_qua")&&this.showIconDialog(i,{filePath:"quaFileVoList",iconPath:"refImg",tagName:"markName",tagDesc:"remark"})},getData:function(){$.ajax({url:"//c.3.cn/qualification/life_v2",dataType:"jsonp",data:{skuId:this.cfg.skuid,pid:this.cfg.mainSkuId||this.cfg.skuid,catId1:this.cfg.cat[0],catId2:this.cfg.cat[1],catId3:this.cfg.cat[2],venderId:this.cfg.venderId,videoPath:this.cfg.videoPath},success:$.proxy(this.handleData,this)})},handleData:function(t){if(!t)return t;t.quality&&this.handleIconMap(t.quality),t.trace&&this.setTempIcon(t.trace),!t.fresh&&!t.trace||this.cfg.isPop||this.setFreshCategoryIcons(t),t.qua&&this.cfg.isPop&&this.setQuaIcons(t)},setTempIcon:function(i){i.data&&i.data.videos&&i.data.videos.length>0&&t.fire({type:"onVideoData",data:i.data})},handleIconMap:function(t){if(t&&t.objs&&t.objs.length>0){for(var i=t.objs,e=this.$el.find('[data-type="10"]').length>0,a=0;a<i.length;a++){var s=i[a],o=s.images,h=s.url,n=s.type;if(n){if(6==n&&$.isArray(o)&&o.length>0&&this.setErShouTab(o[0]),10==n&&!e)continue;$.isArray(o)&&o.length>0&&(this.image[n]=o),h&&this.setIconUrl(n,h),this.showIcon(n)}}this.show()}},setFreshCategoryIcons:function(t){var e=[],a=t.fresh||[],s=t.trace&&t.trace.temperature,o=this.$el.find(".fresh-ico-3").length>0;e=a.length<4?a:o?a.slice(0,4):a.slice(0,5);var h=e.length,n=this.$el.find('[data-type="v1"]');if("string"==typeof s&&$.trim(s)&&(h<4||!o&&4===h)&&(n.show().find(".J-fresh-wd").text(s+"\u2103"),this.show()),h){for(var l=0;l<h;l++){var r='                    <li class="J_fresh" title="'+e[l].tagName+'">                         <a href="#none">                         <i style="background:none">                             <img src="'+e[l].iconPath.replace(i,"//")+'" style="width:100%"/>                         </i>                         <span>'+e[l].tagName+"</span>                         </a>                     </li>";n.before($(r).data("data",e[l]))}this.show()}},setQuaIcons:function(t){var e=t.qua,a=e.length,s=this.$icon.parent();if(a){for(var o=0;o<a&&o<5;o++)if(1===e[o].enableStatus){var h='                        <li class="J_qua" title="'+e[o].markName+'" clstag="shangpin|keycount|product|fengchao_'+e[o].quaMarkId+'">                             <a href="#none">                             <i style="background:none">                                 <img src="'+e[o].refImg.replace(i,"//")+'" style="width:100%"/>                             </i>                             <span>'+e[o].markName+"</span>                             </a>                         </li>";s.append($(h).data("data",e[o]))}this.show()}},showIconDialog:function(t,e){e=e||{filePath:"filePath",iconPath:"iconPath",tagName:"tagName",tagDesc:"tagDesc"};for(var a=t.data("data"),s=a[e.filePath],o='            <div class="fresh-dialog-head" style="overflow:hidden;line-height:20px;border-bottom: 1px solid #f3f3f3;padding: 20px 0 20px 10px;">                 <img src="'+a[e.iconPath].replace(i,"//")+'" style="float:left;margin-right:10px;" />                 <div class="fresh-dialog-head__title" style="overflow:hidden;margin-top: 2px;color: #454545;font-weight: bold;">'+a[e.tagName]+'</div>                 <div class="fresh-dialog-head__desc" style="overflow:hidden;color:#8d8d8d;">'+a[e.tagDesc]+"</div>             </div>",h=0,n=s.length;h<n;h++)"string"==typeof s[h]?o+='<img src="'+s[h].replace(i,"//")+'" style="width:100%" />':"object"==typeof s[h]&&(o+='<img src="'+s[h].key.replace(i,"//")+'" style="width:100%" />');o='<div style="width: 520px;height:720px;margin: 0 auto;overflow:hidden;overflow-y:auto;">'+o+"</div>",$("body").dialog({title:a[e.tagName],width:600,height:750,type:"html",source:o})},setErShouTab:function(t){var i=$("#detail").data("ETab");i.triggers.eq(2).show(),i.items.eq(2).html('<div style="padding: 10px 0" class="ac"><img src="'+t+'" /></div>')},setIconUrl:function(t,i){this.showIcon(t).children().attr({target:"_blank",href:i})},showDialog:function(t,i){var e=this.image[t];if(!e||!e.length)return!1;var a='            <div style="width: 520px;height:720px;margin: 0 auto;overflow:hidden;overflow-y:auto;">{0}</div>',s="",o='<img style="display:block" width="500" src="{0}" />';"v2"!==t&&(a='<p style="padding: 10px 0" class="ac">\u5356\u5bb6\u627f\u8bfa\uff1a\u4ee5\u4e0b\u4e3a\u5b9e\u7269\u62cd\u6444\uff0c\u8d2d\u4e70\u65f6\u4ec5\u4f9b\u53c2\u8003</p>'+a);for(var h=0;h<e.length;h++){var n=e[h];s+=o.format(function(t){return/^http:|https:|\/\//.test(t)?t:"//img20.360buyimg.com/cms/s500x2000_"+t}(n))}$("body").dialog({title:i,width:600,height:750,type:"html",source:a.format(s)})},setQualityPromise:function(t,i){$("body").dialog({width:300,height:300,title:i,type:"iframe",autoIframe:!1,source:t})},show:function(){this.$el.show()},showIcon:function(t){return this.$el.find('li[data-type="'+t+'"]').show()}};function a(t){t.qualityLife=new e(t)}module.exports.init=a});
/*!Name: core.js
 * Date: 2019-4-4 18:53:55 */
define("PUBLIC_ROOT/modules/common/core",function(require,exports,module){var t={},r=pageConfig.product;t.sku=r.skuid,t.cat=r.cat,t.url=r.href,t.src=r.src,t.pType=r.pType,t.name=r.name,t.mdPerfix=1==r.pType?"CR":"GR",t.mbPerfix=1==r.pType?"3C":"GM",t.mp=r.mp,t.jp=r.jp,t.orginSku=pageConfig.product.orginSkuid||t.sku,t.wideVersion=pageConfig.wideVersion&&pageConfig.compatible,t.itemDisabled=r.isOver,t.isPOPSku=function(t){return t>=1e9&&t<=1999999999||t>=10000000001&&t<=99999999999};var e=t.sku;t.isPop=t.isPOPSku(e),t.isFCS=r.fcs,t.isJd=!!t.isFCS||!t.isPop,t.isSelf=t.isJd,t.is3C=652==t.cat[0]||670==t.cat[0]||737==t.cat[0]||9987==t.cat[0],t.isCellphone=655==t.cat[2]||6881==t.cat[2]||6882==t.cat[2],t.isCompleteMachine=670==t.cat[0],t.isVideo=652==t.cat[0],t.isPopBook=t.isPop&&1713==t.cat[0],t.isSelfBook=e>=1e7&&e<=19999999||e>=110000000001&&e<=139999999999,t.isBook=t.isPopBook||t.isSelfBook,t.isPopMvd=t.isPop&&(4051==t.cat[0]||4052==t.cat[0]||4053==t.cat[0]),t.isSelfMvd=e>=2e7&&e<=29999999||e>=140000000001&&e<=149999999999,t.isMvd=t.isPopMvd||t.isSelfMvd,t.disableAddToCart=$("#InitCartUrl").hasClass("btn-disable"),t.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.isEmptyObject=function(t){var r;for(r in t)return!1;return!0},t.isNothing=function(r){return t.isArray(r)?r.length<1:!r},t.getRandomArray=function(t,r){return r=r||1,t.sort(function(){return Math.random()-.5}),t.slice(0,r)},t.toFixed=function(t,r){var e=Math.pow(10,r+1),n=Math.round(t*e).toString(),i=n.length-1;return n=n.substr(0,i),[n.substr(0,i-r),n.substr(-r)].join(".")},t.originBuyUrl=$("#InitCartUrl").attr("href"),t.formatPrice=function(t){var r=parseFloat(t);return isNaN(r)||r<=0?"\u6682\u65e0\u62a5\u4ef7":r.toFixed(2)},t.discount=function(t,r,e){if(e=e||"[{num}\u6298]",void 0!==t&&void 0!==r){if(t=parseFloat(t),r=parseFloat(r),!t||!r)return"";var n=Math.ceil((t/r*100).toFixed(1));return n?e.replace("{num}",parseFloat(n/10)):""}},t.triggerLazyImg=function(t,r){t.find("img").each(function(){var t=$(this),e=t.attr(r);t.attr("src")||(t.attr("src",e),t.removeAttr(r),t.removeClass("err-product loading-style2"))})},t.getNewUserLevel=function(t){switch(t){case 50:return"\u6ce8\u518c\u7528\u6237";case 56:return"\u94dc\u724c\u7528\u6237";case 59:return"\u6ce8\u518c\u7528\u6237";case 60:case 61:return"\u94f6\u724c\u7528\u6237";case 62:return"\u91d1\u724c\u7528\u6237";case 63:return"\u94bb\u77f3\u7528\u6237";case 64:return"\u7ecf\u9500\u5546";case 110:return"VIP";case 66:return"\u4eac\u4e1c\u5458\u5de5";case-1:return"\u672a\u6ce8\u518c";case 88:return"\u94bb\u77f3\u7528\u6237";case 90:return"\u4f01\u4e1a\u7528\u6237";case 103:case 104:case 105:return"\u94bb\u77f3\u7528\u6237"}return"\u672a\u77e5"},t.sendRequest=function(t){var r=new Image;r.setAttribute("src",t),r=null},t.clsLog=function(t,r,e,n,i){var o=new Image,a="//mercury.jd.com/log.gif?t=rec."+t+"&v="+encodeURIComponent("src=rec$action="+r+"$enb=1$sku="+e+"$csku="+n+"$index="+(i||0)+"$expid=0")+"&m=UA-J2011-1&ref="+encodeURIComponent(document.referrer)+"&random="+Math.random();o.setAttribute("src",a)},t.onAttr=function(t,e,n){var i=r.specialAttrs,o="string"==typeof t,a=i.length;if(e=e||function(){},n=n||function(){},i&&i.length){for(var s=0;s<a;s++)if(o){if(i[s]===t)return e(i[s]),!0}else if(t.test(i[s]))return e(i[s]),!0;return n(),!1}return n(),!1},t.calPrice=function(t){for(var r=(t.sku,t.input,t.$el.find('input[type="checkbox"]')),e=r.length,n=(t.$el,t.targetJP),i=t.targetMP,o=0,a=0,s=0,c=[],u=t.callback||function(){},l=0;l<e;l++){var f=r.eq(l),d=f.attr("data-sku"),p=f.attr("data-jp"),m=f.attr("data-mp");if(p=parseFloat(p),m=parseFloat(m),f.attr("checked")){if(isNaN(p))return;if(o+=p,isNaN(m))return;a+=m,c.push(d),s++}}n.html("\uffe5"+(o>0?o.toFixed(2):"\u6682\u65e0\u62a5\u4ef7")),i.html("\uffe5"+(a>0?a.toFixed(2):"\u6682\u65e0\u62a5\u4ef7")),u(s,c)},t.setScroll=function(t){("string"==typeof t?$(t):$("body")).find(".p-scroll").each(function(){var t=$(this).find(".p-scroll-wrap"),r=$(this).find(".p-scroll-next"),e=$(this).find(".p-scroll-prev");t.find("li").length>4&&$.fn.imgScroll&&(t.imgScroll({showControl:!0,width:30,height:30,visible:4,step:1,prev:e,next:r}),r.add(e).show())})},t.thumbnailSwitch=function(t,r,e,n,i){var o=t.find("img"),a=i||"mouseover";o.bind(a,function(){var n=$(this),i=n.attr("src"),o=i.replace(/\/n\d\//,e);r.attr("src",o),t.removeClass("curr"),n.parent().addClass("curr")})},t.serializeUrl=function(t){var r,e,n,i,o=t.indexOf("?"),a=t.substr(0,o),s=t.substr(o+1),c=s.split("&"),u=c.length,l={};for(r=0;r<u;r++)e=c[r].split("="),n=e[0],i=e[1],l[n]=i;return{url:a,param:l}},t.collectSkus=function(t,r,e){var n=[];return r=r||".p-price strong",e=e||"J-p-",t.find(r).each(function(){var t=$(this).attr("class");t&&n.push(t.replace(e,""))}),n},t.getNum=function(){return Number($("#buy-num").val())},t.Countdown={init:function(t,r){this.seconds=t,this.timer=null,this.callback=r||function(){},this.loopCount()},loopCount:function(){var t=this,r=t.formatSeconds(t.seconds);t.callback(r),this.timer=setInterval(function(){var r=t.formatSeconds(t.seconds);0===r.d&&0===r.h&&0===r.m&&0===r.s?clearInterval(t.timer):t.seconds--,t.callback(r)},1e3)},formatSeconds:function(t){var r=Math.floor(t/86400),e=Math.floor(t%86400/3600),n=Math.floor(t%86400%3600/60),t=t%86400%3600%60;return{d:r,h:e,m:n,s:t}}},t.getHrefWithGift=function(r,e){var n="";if(!e)return r;if(/gids=/.test(r)){var i=t.serializeUrl(r).param.gids;n=r.replace("gids="+i,"gids="+e.join(","))}else n=r+"&gids="+e.join(",");return n},t.getHrefWithYB=function(r,e){var n="";if(!e)return r;if(/ybId=/.test(r)){var i=t.serializeUrl(r).param.ybId;n=""==i?r+e.join(","):r.replace("ybId="+i,"ybId="+e.join(","))}else n=r+"&ybId="+e.join(",");return n},t.log=function(t,r,e){t=t||"log","undefined"!=typeof errortracker&&errortracker[t]({filename:r,message:e})},module.exports=t});
/*!Name: tools.js
 * Date: 2019-4-4 18:53:56 */
define("PUBLIC_ROOT/modules/common/tools/tools",function(require,exports,module){var e=function(){var e=readCookie("ipLoc-djd"),t={areaIds:[1,72,2799,0],commonAreaId:null};if(e){var n=e.indexOf(".");n>-1&&(t.commonAreaId=Number(e.substr(n+1)),e=e.substring(0,n)),t.areaIds=e.split("-");for(var r=0;r<t.areaIds.length;r++)t.areaIds[r]=Number(t.areaIds[r])}return t},t=function(e){var t="//p.3.cn/prices/mgets",n=readCookie("ipLoc-djd"),r=e.skus||[],o=e.loc||n,i=e.$el||$("body"),a=e.type||1,s=e.selector||".J-p-",c=e.text||"\uffe5{NUM}",u=e.pdbp||0,l=e.debug||!1,d=e.callback||function(){},m=e.onReady||function(){};if(!function(e){return"[object Array]"===Object.prototype.toString.call(e)}(r))throw new Error("Please give skus param with Array type.");if(r.length<1)return!1;o=n?o.replace(/-/g,"_"):1,l&&console.info(t+$.param({type:a,area:o,skuIds:"J_"+r.join(",J_")}));$.ajax({url:t,data:{type:1,area:o,pdtk:readCookie("pdtk")||"",pduid:function(){var e=readCookie("__jda"),t="";return e&&e.indexOf(".")>-1&&(t=e.split(".")[1]),t}(),pdpin:readCookie("pin")||"",pin:decodeURIComponent(readCookie("pin"))||"",pdbp:u,skuIds:"J_"+r.join(",J_"),ext:"11100000",source:"item-pc"},cache:!0,dataType:"jsonp",success:function(e){var t,n;if(l&&console.info(e),e&&e.length)for(n=e.length,t=0;t<n;t++){if(!e[t].id)return!1;var r=e[t].id.replace("J_",""),o=parseFloat(e[t].p);parseFloat(e[t].m);o>0?i.find(s+r).html(c.replace("{NUM}",e[t].p)):i.find(s+r).html("\u6682\u65e0\u62a5\u4ef7"),"function"==typeof d&&d(r,e[t])}m(e)}})},n=function(e){var t=e.loc||readCookie("ipLoc-djd")||"1_0_0",n=e.skus||[],r=e.$el||$("body"),o=(e.$target,e.selector||".J-ad-"),i=e.debug||!1,a=e.callback||function(){};$.ajax({url:"//ad.3.cn/ads/mgets",data:{skuids:"AD_"+n.join(",AD_"),areaCode:t},dataType:"jsonp",scriptCharset:"utf-8",success:function(e){var t,n,s,c=0;if(i&&console.log(e),e&&e.length>0)for(t=e.length,c;c<t;c++)n=e[c].ad,s=e[c].id.replace("AD_",""),r.find(o+s).html(n),a(s,e[c])}})},r=function(e){var t=e.skus||[],n=e.$el||$("body"),r=e.selector||".J-comm-",o=e.text||"(\u5df2\u6709{NUM}\u4eba\u8bc4\u4ef7)",i=e.debug||!1,a=e.callback||function(){},s=e.onlyData||!1;if(!$.isArray(t))throw new Error("Please give skus param with Array type.");$.ajax({url:"//club.jd.com/comment/productCommentSummaries.action?referenceIds="+t,dataType:"jsonp",success:function(e){var t,c;if(e&&e.CommentsCount.length){t=e.CommentsCount.length;for(var u=0;u<t;u++)c=n.find(r+e.CommentsCount[u].SkuId),s||(c.find(".star").removeClass("sa5").addClass("sa"+e.CommentsCount[u].AverageScore),c.html(o.replace("{NUM}",e.CommentsCount[u].CommentCountStr))),i&&console.log(c),a&&a(e.CommentsCount[u].SkuId,e.CommentsCount[u])}}})},o=function(e,t){var n=t||"data-src",r=e.find("img["+n+"]");r.length&&r.each(function(e){$(this).attr("src",$(this).attr(n)).removeAttr(n)})},i=function(e,t){for(var n=e.length/t,r=[],o=0;o<n;o++)r.push({tabs:[],increment:null,count:t,skuids:[]});for(var i=0,a=0;a<e.length;a++)a%t==0&&i++,r[i-1].tabs.push(e[a]),r[i-1].increment=i,e[a].wid&&r[i-1].skuids.push(e[a].wid);return r},a=function(){var e=readCookie("ipLoc-djd");return e?e.split("-"):[1,72,2799,0]},s=function(){var e=readCookie("__jda");return e?"-"==e.split(".")[1]?-1:e.split(".")[1]:-1},c=function(e){e=e||function(){},$.ajax({url:"//passport.jd.com/loginservice.aspx?method=Login",dataType:"jsonp",success:function(t){t.Identity&&e(t.Identity)}})};function u(e,t,n){this.milliseconds="number"==typeof e?e:0,this.callback="function"==typeof t?t:function(){},"number"==typeof inverval?this.interval=n:this.interval=1e3,this.start()}u.prototype={constructor:u,start:function(){var e=this,t=0,n=function(){t++;var r=+new Date,o=r-(e.stime+t*e.interval);if(o>1e4){var i=Math.floor(o/e.interval);t+=i,e.milliseconds-=i*e.interval}var a=e.interval-o;a<0&&(a=0),e.callback.call(e,e.format(e.milliseconds/1e3)),e.milliseconds-=e.interval,e.milliseconds<0?clearTimeout(e.timer):e.timer=setTimeout(n,a)};return this.milliseconds>=0&&(this.stime=+new Date,this.timer=setTimeout(n,this.interval)),this},stop:function(){return this.timer&&clearTimeout(this.timer),this},format:function(e){return e="number"==typeof e&&e>=0?e:0,{d:Math.floor(e/86400),h:Math.floor(e%86400/3600),m:Math.floor(e%86400%3600/60),s:Math.floor(e%86400%3600%60)}}};var l=function(e,t,n){var r=null,o=null;return function(){var i=+new Date;o||(o=i),i-o>n?(e(),o=i):(clearTimeout(r),r=setTimeout(function(){e()},t))}},d=function(e,t){return(new Array(e).join("0")+t).slice(-e)},m=function(e,t,n,r){r=r||"\\d*";var o=new RegExp(t+"="+r,"gi"),i="";if(!n)return e;if(e.indexOf(t+"=")>-1)i=e.replace(o,t+"="+n);else{i=e+(e.indexOf("?")<0?"?":"&")+t+"="+n}return i},f={itemUrl:function(e){return e?"//item.jd.com/"+e+".html":""},imgDomain:function(e){var t=[10,11,12,13,14],n=t[e%5];return e&&n?"http://img"+n+".360buyimg.com/":""}};exports.commentMeta=r,exports.priceNum=t,exports.adWords=n,exports.triggerLazyImg=o,exports.reBuildJSON=i,exports.getAreaIds=a,exports.getAreaId=e,exports.checkLogin=c,exports.getUUID=s,exports.Countdown=u,exports.throttle=l,exports.prefix=d,exports.addUrlParam=m,exports.modifier=f});
/*!Name: ETab.js
 * Date: 2019-4-4 18:53:54 */
!function(t,e,i){"use strict";var s="ETab",n={event:"click",delay:0,defaultIndex:null,current:"current",lazyload:null,selector:{trigger:'[data-tab="trigger"]',item:'[data-tab="item"]',anchor:"[data-anchor]"},onReady:function(){},onBeforeSwitch:function(){},onSwitch:function(){}};function o(e,i){this.$el=e,this.settings=t.extend(!0,{},n,i),this.index=0,this._defaults=n,this._name=s,this._version="@VERSION",this.init()}o.prototype={init:function(){var t=this.settings,e=t.selector;this.triggers=this.$el.find(e.trigger),this.items=this.$el.find(e.item),this.anchors=this.$el.find(e.anchor),this.index=t.defaultIndex||0,this.triggers.length!==this.items.length?console.log("\u300c%s - %s\u300d The tab item count must equals to tab content count.",s,this.$el.selector):(this.bindEvent(),"number"==typeof t.defaultIndex&&this.triggers.eq(t.defaultIndex).trigger(t.event),t.onReady.call(this,t.defaultIndex)),/mouseover|mouseenter/.test(t.event)&&!t.delay&&(this.settings.delay=200)},bindEvent:function(){var e=this,i=e.settings,s=i.selector,n=i.event+".ETab";this.$el.undelegate(n).delegate(s.trigger,n,function(){e.handleEvent(t(this))}),/mouseover|mouseenter/.test(i.event)&&this.$el.undelegate("mouseout mouseleave").delegate(s.trigger,"mouseout mouseleave",function(){clearTimeout(e.timer)})},handleEvent:function(t){var e=this,i=this.triggers.index(t);clearTimeout(this.timer),this.timer=setTimeout(function(){e.go(i)},this.settings.delay)},go:function(t,e){var i=this.triggers,s=i.eq(t);this.settings.onBeforeSwitch.call(this,t),this.index=t,i.removeClass(this.settings.current),s.addClass(this.settings.current),this.items.hide().eq(t).show(),void 0===e&&this.settings.onSwitch.call(this,t),this.settings.lazyload&&this.loadImages(this.items.eq(t))},loadImages:function(e){var i=this.settings.lazyload;e.find("["+i+"]").each(function(){var e=t(this).attr(i);e&&t(this).attr("src",e).removeAttr(i)})}},t.fn[s]=function(e){return this.length||"undefined"==typeof console?this.each(function(){var i=new o(t(this),e);t(this).data(s)||t(this).data(s,i)}):(console.log("\u300c"+s+"\u300d The elements["+this.selector+"] you passed is empty."),this)}}(jQuery,window,document);
/*!Name: EDropdown.js
 * Date: 2019-4-4 18:53:54 */
!function(t,e,s){"use strict";var i="EDropdown",n=function(){},o={event:"mouseenter",trigger:null,current:"hover",autoClose:!1,delay:100,close:"[data-close]",disable:"[data-disable]",head:'[data-drop="head"]',content:null,lazyload:null,onOpen:n,onClose:n,onTrigger:n};function h(e,s){this.$el=e,this.settings=t.extend({},o,s),this._defaults=o,this._name=i,this._version="@VERSION",this.init()}h.prototype={init:function(){this.$el.attr("data-role","drop"),this.isMouseEvt=/mouse/.test(this.settings.event),this.timer=null,this.settings.debug&&console.log("click"===this.settings.event&&!this.settings.autoClose),"click"!==this.settings.event||this.settings.autoClose||(this.settings.trigger=this.$el.find(this.settings.head)),this.$triggers=this.settings.trigger?this.$el.find(this.settings.trigger):this.$el,this.bindEvent()},bindEvent:function(){var e=this;if(this.isMouseEvt){if(this.$triggers.each(function(){t(this).unbind("mouseenter").bind("mouseenter",function(){e.handleEvent(t(this),!1)}).bind("mouseleave",function(){e.handleEvent(t(this),!0)})}),this.settings.content){var n=[this.settings.event,i,t.fn[i+"_guid"]].join(".");t(s).undelegate(n).delegate(this.settings.content,n,function(){clearTimeout(e.timer)}),t(s).undelegate("mouseleave").delegate(this.settings.content,"mouseleave",function(){e.handleEvent(t(this),t(this).data("open"))})}}else this.$triggers.unbind("click").bind("click",function(){var s=t(this),i=s.attr("data-role")?s:s.parents('[data-role="drop"]').eq(0);e.trigger(i,!!i.data("open"))}),this.$el.delegate(this.settings.close,"click",function(){e.close()})},handleEvent:function(e,s){if(e.attr("data-disable"))return!1;this.isMouseEvt||(this.settings.delay=0),this.settings.content&&(1===t(this.settings.content).length&&1===this.$el.length||console.log("\u300c"+i+"\u300d Content & jQuery element should be juse select only one element.")),this.isOpen=!s,this.delay(e,s)},delay:function(t,e){var s=this;clearTimeout(this.timer),this.timer=setTimeout(function(){s.trigger(t,e)},this.settings.delay)},trigger:function(t,e){this.isOpen=e,e?this.close(t):this.open(t),this.settings.lazyload&&this.loadImages(this.$el),this.settings.onTrigger.call(this,t)},loadImages:function(e){var s=this.settings.lazyload;e.find("["+s+"]").each(function(){var e=t(this).attr(s);e&&t(this).attr("src",e).removeAttr(s)})},open:function(e){e=e||this.$el,e.addClass(this.settings.current).data("open",!0),this.settings.content&&t(this.settings.content).show(),this.settings.onOpen.call(this,e)},close:function(e){e=e||this.$el,e.removeClass(this.settings.current).removeData("open"),this.settings.content&&t(this.settings.content).hide(),this.settings.onClose.call(this,e)}},t.fn[i+"_guid"]=0,t.fn[i]=function(e){return this.length||"undefined"==typeof console?this.each(function(){t(this).data("Eguid",t.fn[i+"_guid"]++);var s=new h(t(this),e);t(this).data(i)||t(this).data(i,s)}):(console.log("\u300c"+i+"\u300d The elements["+this.selector+"] you passed is empty."),this)}}(jQuery,window,document);
/*!Name: ELazyload.js
 * Date: 2019-4-4 18:53:54 */
define("PUBLIC_ROOT/modules/ELazyload/ELazyload",function(require,exports,module){"use strict";var t="ELazyload",e=function(){},s={delay:100,type:"img",source:"data-src",removeSource:!0,threshold:100,loadingClass:"ELazy-loading",errorClass:"ELazy-error",debug:!1,placeholder:["//misc.360buyimg.com/lib/img/e/blank.gif","//misc.360buyimg.com/lib/img/e/blank.gif","data:image/gif;base64,R0lGODlhAQABAJEAAAAAAP///////wAAACH5BAEHAAIALAAAAAABAAEAAAICVAEAOw=="],onAppear:e,onReady:e,onComplete:e,onError:e,onLoad:e};function i(e,i){this.$el=e,this.settings=$.extend({},s,i),this._defaults=s,this._name=t,this._version="@VERSION",this._guid=e.data("Eguid"),this.init()}i.prototype={init:function(){"img"===this.settings.type?this.$targets=this.$el.eq(0).is("img")?this.$el:this.$el.find("["+this.settings.source+"]"):this.$targets=this.$el,this._eventString="scroll.lazyload."+this._guid+" resize.lazyload."+this._guid,this.$w=$(window),this.total=this.$targets.length,this.timer=null,this.isCheckable=!0,this.loaded=[],this.bindEvent(),this.supportRect=this.supportClientRect(),this.check(this.$targets),this.settings.onReady.call(this)},supportDataURI:function(t){if(this.isSupportDataURI)return t(this.isSupportDataURI);var e=new Image;e.onload=e.onerror=function(){var e=1===this.width&&1===this.height?1:0;this.isSupportDataURI=e,t(e)},e.src=this.settings.placeholder[1]},bindEvent:function(t){var e=this;t&&"img"===this.settings.type?(t.get(0).onload=function(){e.onLoad(t)},t.get(0).onerror=function(){t.removeClass(e.settings.loadingClass).addClass(e.settings.errorClass),t.data("loaded",!1),e.supportDataURI(function(s){var i=e.settings.placeholder[s];t.attr("src",i),e.placeholder=i}),e.settings.onError.call(e,t)}):this.$w.unbind(this._eventString).bind(this._eventString,function(){e.handleCheck(e.$targets)})},onLoad:function(t){var e=t.attr("src");e!==this.settings.placeholder[0]&&e!==this.settings.placeholder[1]&&(t.removeClass(this.settings.loadingClass),t.data("loaded",!0),this.loaded.push(1),this.settings.onLoad.call(this,t))},handleCheck:function(t){var e=this;this.isCheckable&&(this.isCheckable=!1,this.timer=setTimeout(function(){e.check(t),e.isCheckable=!0},this.settings.delay))},check:function(t){var e=this,s=$();function i(t){t.data("loaded",!0),"img"===e.settings.type?(t.attr("src",t.attr(e.settings.source)),e.settings.removeSource&&t.removeAttr(e.settings.source)):t.removeClass(e.settings.loadingClass),e.settings.onAppear.call(e,t)}t.each(function(){var t=$(this);t.data("loaded")||(t.addClass(e.settings.loadingClass),t.data("loaded",!!t.attr("src")),e.insertHolder(t),e.bindEvent(t));var n=e.$holder||t;e.inWindow(n)?i(t):s=s.add(t),e.settings.debug&&(t.next().is($(".img-status"))?t.next().html("Loaded: "+t.data("loaded")):t.after('<div class="img-status">Loaded: '+t.data("loaded")+"</div>"))}),this.$targets=s,this.placeholderAdded||"img"!==e.settings.type||this.setDefaultPlaceholder(s),this.settings.debug&&console.log("Total:"+this.total+"\u3000 current:"+t.length+"\u3000 Left: "+s.length),this.total===this.loaded.length&&(this.$w.unbind(this._eventString),this.settings.onComplete.call(this),this.settings.debug&&console.log("All done."))},setDefaultPlaceholder:function(t){var e=this;this.supportDataURI(function(s){for(var i=e.settings.placeholder[s],n=0,a=t.length;n<a;)t.get(n).setAttribute("src",i),n++;e.placeholderAdded=!0})},insertHolder:function(t){"img"!==this.settings.type&&(t.is(":visible")||t.prev().is(".Elazy-holder")||(t.before('<ins class="ELazy-holder ELazy-holder'+this._guid+'"></ins>'),this.$holder=t.prev(".ELazy-holder")))},supportClientRect:function(){if(void 0!==this.isSupportClientRect)return this.isSupportClientRect;var t=document.createElement("div"),e="getBoundingClientRect"in t;return t=null,this.isSupportClientRect=e,e},inWindow:function(t){var e=this.$w.height(),s=$("body").scrollTop()||$("html").scrollTop();if(this.supportRect){var i=t.get(0).getBoundingClientRect(),n=i.top,a=i.left,o=i.top+i.height;return n>=0&&a>=0&&n<=e+this.settings.threshold||n<0||o>=0&&a>=0&&o<=e}var n=t.offset().top,l=t.height(),o=n+l;return n<e+s+this.settings.threshold&&n>s||o<e+s&&o>s}},$.fn[t+"_guid"]=0,$.fn[t]=function(e){return this.length||"undefined"==typeof console?this.each(function(){$(this).data("Eguid",$.fn[t+"_guid"]++);var s=new i($(this),e),n=$(this).data(t);n?n.push(s):$(this).data(t,[s])}):(console.log("\u300c"+t+"\u300d The elements["+this.selector+"] you passed is empty."),this)}});
/*!Name: videoBox.js
 * Date: 2019-4-4 18:53:56 */
define("PUBLIC_ROOT/modules/videoBox/videoBox",function(require,exports,module){require("./modernizr.min.js");var e="//newbuz.360buyimg.com/video/4.2/",t=[e+"video.hls.min.js",e+"video-js.min.css"],o=[e+"video.min.js",e+"video-js.min.css"],n=e+"video-js.green.min.css",a=e+"video-js.swf",i=e+"ie8/videojs-ie8.min.js",r={type:"html5",videoType:"rtmp,flv,m3u8,mp4",qulitySelectMenu:!1,playBackRatesMenu:!1,language:"zh-CN",customzie:"common",callback:function(){},callBackList:[]},s=0;function l(e,t){function o(e){if(e=e||"",e.indexOf(".js")>0)c(e,t);else if(e.indexOf(".css")>0){if("none"==r.customzie)return;var o=document.createElement("link");"green"==r.customzie&&(e=n),o.href=e,o.rel="stylesheet",o.type="text/css",document.getElementsByTagName("head")[0].appendChild(o)}}if(!(r.callBackList.length>=2))if("object"==typeof e&&e instanceof Array)for(var a=0;a<e.length;a++)o(e[a]);else o(e)}function c(e,t){var o=document.getElementsByTagName("head");0==o.length&&alert("page must have one head element");var n=o[0],a=document.createElement("script");a.type="text/javascript",a.src=e,a.onload=function(o){e&&e.indexOf("ie8")>=0||("zh-CN"==r.language&&z(),t())},a.onreadystatechange=function(){if("complete"==this.readyState||"loaded"==this.readyState){if(e&&e.indexOf("ie8")>=0)return;"zh-CN"==r.language&&z(),t()}},n.appendChild(a)}function u(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1,o=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t,n=e.toLowerCase().indexOf("edge")>-1&&!o,a=e.toLowerCase().indexOf("trident")>-1&&e.indexOf("rv")>-1,i=e.indexOf("Firefox")>-1,r=e.indexOf("Safari")>-1&&-1==e.indexOf("Chrome"),s=e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1,l=e.indexOf("MicroMessenger")>-1;if(n)return"Edge";if(a)return"IE11";if(o){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var c=parseFloat(RegExp.$1);return 7==c?"IE7":8==c?"IE8":9==c?"IE9":10==c?"IE10":11==c?"IE11":"0"}return l?"Wechat":i?"FF":t?"Opera":r?"Safari":s?"Chrome":"0"}function d(e){if(e=e||{},r.type=e.type||"html5",r.videoType=e.videoType||"mp4",r.customzie=e.customzie||"common",r.language=e.language||"zh-CN",r.callback=e.callback||function(){},"undefined"!=typeof videojs)r.callback();else{r.callBackList.push(e.callback);var t=I(r.videoType),o=R(t);S(o,function(){0===s&&B(o),s++;for(var e=0;e<r.callBackList.length;e++)"function"==typeof r.callBackList[e]&&r.callBackList[e]();r.callBackList=[]})}}r.a="JDVISEC";var p=0;function f(e){return v(m(y(e)))}function m(e){return g(b(h(e),8*e.length))}function v(e){for(var t,o=p?"0123456789ABCDEF":"0123456789abcdef",n="",a=0;a<e.length;a++)t=e.charCodeAt(a),n+=o.charAt(t>>>4&15)+o.charAt(15&t);return n}function y(e){for(var t,o,n="",a=-1;++a<e.length;)t=e.charCodeAt(a),o=a+1<e.length?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=o&&o<=57343&&(t=65536+((1023&t)<<10)+(1023&o),a++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}function h(e){for(var t=Array(e.length>>2),o=0;o<t.length;o++)t[o]=0;for(var o=0;o<8*e.length;o+=8)t[o>>5]|=(255&e.charCodeAt(o/8))<<o%32;return t}function g(e){for(var t="",o=0;o<32*e.length;o+=8)t+=String.fromCharCode(e[o>>5]>>>o%32&255);return t}function b(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var o=1732584193,n=-271733879,a=-1732584194,i=271733878,r=0;r<e.length;r+=16){var s=o,l=n,c=a,u=i;o=T(o,n,a,i,e[r+0],7,-680876936),i=T(i,o,n,a,e[r+1],12,-389564586),a=T(a,i,o,n,e[r+2],17,606105819),n=T(n,a,i,o,e[r+3],22,-1044525330),o=T(o,n,a,i,e[r+4],7,-176418897),i=T(i,o,n,a,e[r+5],12,1200080426),a=T(a,i,o,n,e[r+6],17,-1473231341),n=T(n,a,i,o,e[r+7],22,-45705983),o=T(o,n,a,i,e[r+8],7,1770035416),i=T(i,o,n,a,e[r+9],12,-1958414417),a=T(a,i,o,n,e[r+10],17,-42063),n=T(n,a,i,o,e[r+11],22,-1990404162),o=T(o,n,a,i,e[r+12],7,1804603682),i=T(i,o,n,a,e[r+13],12,-40341101),a=T(a,i,o,n,e[r+14],17,-1502002290),n=T(n,a,i,o,e[r+15],22,1236535329),o=j(o,n,a,i,e[r+1],5,-165796510),i=j(i,o,n,a,e[r+6],9,-1069501632),a=j(a,i,o,n,e[r+11],14,643717713),n=j(n,a,i,o,e[r+0],20,-373897302),o=j(o,n,a,i,e[r+5],5,-701558691),i=j(i,o,n,a,e[r+10],9,38016083),a=j(a,i,o,n,e[r+15],14,-660478335),n=j(n,a,i,o,e[r+4],20,-405537848),o=j(o,n,a,i,e[r+9],5,568446438),i=j(i,o,n,a,e[r+14],9,-1019803690),a=j(a,i,o,n,e[r+3],14,-187363961),n=j(n,a,i,o,e[r+8],20,1163531501),o=j(o,n,a,i,e[r+13],5,-1444681467),i=j(i,o,n,a,e[r+2],9,-51403784),a=j(a,i,o,n,e[r+7],14,1735328473),n=j(n,a,i,o,e[r+12],20,-1926607734),o=k(o,n,a,i,e[r+5],4,-378558),i=k(i,o,n,a,e[r+8],11,-2022574463),a=k(a,i,o,n,e[r+11],16,1839030562),n=k(n,a,i,o,e[r+14],23,-35309556),o=k(o,n,a,i,e[r+1],4,-1530992060),i=k(i,o,n,a,e[r+4],11,1272893353),a=k(a,i,o,n,e[r+7],16,-155497632),n=k(n,a,i,o,e[r+10],23,-1094730640),o=k(o,n,a,i,e[r+13],4,681279174),i=k(i,o,n,a,e[r+0],11,-358537222),a=k(a,i,o,n,e[r+3],16,-722521979),n=k(n,a,i,o,e[r+6],23,76029189),o=k(o,n,a,i,e[r+9],4,-640364487),i=k(i,o,n,a,e[r+12],11,-421815835),a=k(a,i,o,n,e[r+15],16,530742520),n=k(n,a,i,o,e[r+2],23,-995338651),o=w(o,n,a,i,e[r+0],6,-198630844),i=w(i,o,n,a,e[r+7],10,1126891415),a=w(a,i,o,n,e[r+14],15,-1416354905),n=w(n,a,i,o,e[r+5],21,-57434055),o=w(o,n,a,i,e[r+12],6,1700485571),i=w(i,o,n,a,e[r+3],10,-1894986606),a=w(a,i,o,n,e[r+10],15,-1051523),n=w(n,a,i,o,e[r+1],21,-2054922799),o=w(o,n,a,i,e[r+8],6,1873313359),i=w(i,o,n,a,e[r+15],10,-30611744),a=w(a,i,o,n,e[r+6],15,-1560198380),n=w(n,a,i,o,e[r+13],21,1309151649),o=w(o,n,a,i,e[r+4],6,-145523070),i=w(i,o,n,a,e[r+11],10,-1120210379),a=w(a,i,o,n,e[r+2],15,718787259),n=w(n,a,i,o,e[r+9],21,-343485551),o=E(o,s),n=E(n,l),a=E(a,c),i=E(i,u)}return Array(o,n,a,i)}function C(e,t,o,n,a,i){return E(x(E(E(t,e),E(n,i)),a),o)}function T(e,t,o,n,a,i,r){return C(t&o|~t&n,e,t,a,i,r)}function j(e,t,o,n,a,i,r){return C(t&n|o&~n,e,t,a,i,r)}function k(e,t,o,n,a,i,r){return C(t^o^n,e,t,a,i,r)}function w(e,t,o,n,a,i,r){return C(o^(t|~n),e,t,a,i,r)}function E(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o}function x(e,t){return e<<t|e>>>32-t}function B(e){if(videojs.options.flash.swf=a,"html5"==e)videojs.options.techOrder=["html5","flvjs","flash"];else{if(!N()){var t=document.createElement("div");t.id="no-flash";t.innerHTML='<div style="width:100%;height:60px;position: absolute;top:0;left:0;line-height: 60px;font-size:14px;text-align: center;background: #c4636f;color:#fff;z-index: 9999"><a href="https://helpx.adobe.com/cn/flash-player/kb/installation-problems-flash-player-windows.html#" target="_blank">\u64ad\u653e\u5668\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\uff0c\u8981\u60f3\u83b7\u5f97\u5b8c\u6574\u4f53\u9a8c\uff0c\u5efa\u8bae\u60a8\u66f4\u65b0\u6216\u8005\u5f00\u542fFlash\uff0c\u70b9\u51fb\u8be5\u94fe\u63a5\u83b7\u5f97\u652f\u6301\uff01</a></div>',document.body.appendChild(t)}videojs.options.techOrder=["flash","html5"]}"green"==r.customzie&&(videojs.options.children={controlBar:{children:{progressControl:!0,playToggle:!0,currentTimeDisplay:!0,timeDivider:!0,durationDisplay:!0,liveDisplay:!0,customControlSpacer:!0,playbackRateMenuButton:r.playBackRatesMenu,volumeMenuButton:{inline:!1},fullscreenToggle:!0,textTracks:!1}},mediaLoader:!0,posterImage:!0,textTrackDisplay:!0,loadingSpinner:!0,errorDisplay:!0,textTrackSettings:!0,bigPlayButton:!0})}function R(e){var t=u(),o="html5";return"m3u8"!=e&&"flv"!=e||"IE11"!=t&&"IE10"!=t&&"IE9"!=t&&"IE8"!=t||(o="flash"),"IE8"!=t&&"rtmp"!=e||(o="flash"),"IE8"==t&&c(i,function(){}),"Wechat"==t&&(o="html5"),r.type=o,o}function S(e,n){var a=t;"flash"==e&&(a=o),"undefined"!=typeof videojs?n():l(a,n)}function I(e){if(e)return e.indexOf("rtmp")>=0?"rtmp":e.indexOf("flv")>=0?"flv":e.indexOf("m3u8")>=0?"m3u8":e.indexOf("mp4")>=0?"mp4":void 0}function O(e){var t=document.location.protocol;e=e.replace(/^https?:/,t);var o=I(e),n=r.type;if("html5"==n){if("m3u8"==o)return{src:e,type:"application/x-mpegURL"};if("mp4"==o)return{src:e,type:"video/mp4"};if("rtmp"==o)return{src:e,type:"rtmp/flv"};if("flv"==o)return{src:e,type:"video/x-flv"}}else if("flash"==n)return e}function A(e){"undefined"!=typeof videojs&&videojs.players[e]&&videojs.players[e].dispose()}function N(){return void 0!==window.ActiveXObject?new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&!0:navigator.plugins["Shockwave Flash"]&&!0}var M={options:r,getVideojs:d,setVideoType:O,disposePlayer:A,getBrowserType:u},L={addClass:function(e,t){e=Array.prototype.slice.apply(e);var o=function(e){var o=e.className,n=""!=o?" ":"",a=o+n+t;e.className=a};if(e instanceof Array)for(var n=0;n<e.length;n++)o(e[n]);else o(e)},removeClass:function(e,t){e=Array.prototype.slice.apply(e);var o=function(e){var o=" "+e.className+" ";o=o.replace(/(\s+)/gi," ");var n=o.replace(" "+t+" "," ");n=n.replace(/(^\s+)|(\s+$)/g,""),e.className=n};if(e instanceof Array)for(var n=0;n<e.length;n++)o(e[n]);else o(e)},getElementsByClassName:function(e,t,o){if("string"==typeof t?(o=t,t=document):(t=t||document,o=o||"*"),t.getElementsByClassName)return t.getElementsByClassName(e);for(var n=t.getElementsByTagName(o),a=[],i=0;i<n.length;i++)for(var r=n[i],s=r.className.split(" "),l=0;l<s.length;l++)if(s[l]==e){a.push(r);break}return a},getData:function(e){var t=function(e){var t=[];for(var o in e)t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")};!function(e){if(e=e||{},!e.url||!e.callback)throw new Error("\u53c2\u6570\u4e0d\u5408\u6cd5");var o=("jsonp_"+Math.random()).replace(".",""),n=document.getElementsByTagName("head")[0];e.data[e.callback]=o;var a=t(e.data),i=document.createElement("script");n.appendChild(i),window[o]=function(t){n.removeChild(i),clearTimeout(i.timer),window[o]=null,e.success&&e.success(t)},i.src=e.url+"?"+a,e.time&&(i.timer=setTimeout(function(){window[o]=null,n.removeChild(i),e.fail&&e.fail({message:"\u8d85\u65f6"})},e.time))}(e)},getVideoElement:function(e,t){return"function"==typeof e.$?e.$(t):this.getElementsByClassName(t)[0]},ajax:function(e){var t=null,o=function(e){var t=[];for(var o in e){t.push(o+"="+e[o])}return t.join("&")}(e.data);t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),"GET"==e.type?(t.open(e.type,e.url+"?"+o,e.async),t.send(null)):"POST"==e.type&&(t.open(e.type,e.url,e.async),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(o)),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&e.success(JSON.parse(t.responseText))}},getUrlParams:function(){for(var e={src:"",appid:"",fileid:"",appId:"",fileId:"",controls:!0,preload:"auto",autoplay:!1,loop:!1,mute:!1,fuScrnEnabled:!0,coverpic:"",playbackRateEnabled:!1,live:"",videoType:"mp4,m3u8",revolution:[]},t=location.search&&location.search.split("?")[1]||"",o=t.split("&"),n=0;n<o.length;n++){var a=o[n].split("=");"true"==a[1]?e[a[0]]=!0:"false"==a[1]?e[a[0]]=!1:e[a[0]]=a[1]}return e}};M.getUrlParams=L.getUrlParams,M.initResolutionSwitcher=function(e,t){if(t&&!(t&&t.length<=0)){var o=e.resolutionArrs&&!0;e.resolutionArrs=t,e.resolutioTimer=0,o||(e.changeVideo=function(t){e.pause();var o=e.resolutionArrs[t].src,n=e.resolutionArrs[t].label;return clearTimeout(e.resolutioTimer),e.resolutioTimer=0,e.resolutioTimer=setTimeout(function(){var t=e.currentTime(),a=1;"html5"==r.type&&(a=e.playbackRate()),e.resolutionCurTime=t,e.resolutionPlaybackRate=a;var i=L.getElementsByClassName("vjs-resolution-switcher-value",e.el_,"div");i&&(i[0].innerHTML=n),e.currentVideo=o,e.src(M.setVideoType(o)),e.play()},400),!1},"html5"==r.type&&e.on("ratechange",function(){var t=e.playbackRate();e.resolutionPlaybackRate=t}),e.on("playing",function(){e.resolutioTimer&&(e.currentTime(e.resolutionCurTime||0),"html5"==r.type&&e.playbackRate(e.resolutionPlaybackRate||1),e.removeClass("vjs-seeking"),e.play(),e.resolutioTimer=0)}),e.on("ended",function(){e.resolutioTimer=0,e.resolutionCurTime=0}));var n=L.getElementsByClassName("vjs-resolution-switcher",e.el_,"div")[0];n&&n.parentNode.removeChild(n);for(var a="",i=t[0].label||"",s=e.src(),l=0;l<t.length;l++)t[l].src==s&&(i=t[l].label),a+='<li class="vjs-menu-item" tabindex="-1" role="menuitemcheckbox"  onclick="videojs.players[\''+e.id_+"'].changeVideo("+l+')">'+t[l].label+" </li>";var c=L.getElementsByClassName("vjs-fullscreen-control",e.el_,"div")[0],u=L.getElementsByClassName("vjs-control-bar",e.el_,"div")[0],d=document.createElement("div");d.className="vjs-resolution-switcher  vjs-menu-button vjs-menu-button-popup vjs-control vjs-button",d.setAttribute("aria-live","polite"),d.setAttribute("aria-haspopup","true"),d.setAttribute("aria-expanded","false"),u.insertBefore(d,c);L.getElementsByClassName("vjs-resolution-switcher",e.el_,"div")[0].innerHTML='<div class="vjs-menu" role="presentation"><ul class="vjs-menu-content" role="menu">'+a+'</ul></div><span class="vjs-control-text">Resolution Switcher</span><div class="vjs-resolution-switcher-value">'+i+"</div>"}},M.getResolution=function(e,t){var o=e.fileId||e.fileid||"";if(o){var n=f(r.a+o);L.ajax({url:"//live.jd.com/l/getHighAndStandardMp4Address",type:"POST",async:!0,data:{fileId:o,appId:e.appId,sign:n},success:function(o){o&&0==o.code&&(e.revolution=o.data),"function"==typeof t&&t(e)},fail:function(){"function"==typeof t&&t(e)}})}else"function"==typeof t&&t(e)},M.initPlayer=function(e,t){if("function"==typeof videojs&&videojs.players[e])return void("function"==typeof t.callback&&t.callback(videojs.players[e]));var o={src:t.src||"",appId:t.appId||t.appid||"",fileId:t.fileId||t.fileid||"",controls:Boolean(t.controls),preload:t.preload||"auto",autoplay:Boolean(t.autoplay),loop:Boolean(t.loop),mute:Boolean(t.mute),fuScrnEnabled:Boolean(t.fuScrnEnabled),coverpic:t.coverpic||"",playbackRateEnabled:t.playbackRateEnabled||!1,sw:t.sw,sh:t.sh,live:Boolean(t.live),videoType:t.videoType||"mp4,m3u8",revolution:t.revolution||[],customzie:t.customzie||"common",callback:t.callback||""};o.revolution.length<=0?M.getResolution(o,function(e){o=e,n()}):n();function n(){M.getVideojs({videoType:o.videoType,playbackRateMenuButton:!0,customzie:o.customzie,callback:a})}function a(){var t={autoplay:o.autoplay,controls:o.controls,preload:o.preload,inactivityTimeout:1e3,loop:o.loop,muted:o.mute,poster:decodeURIComponent(o.coverpic)};o.sw&&o.sh&&(t.width=o.sw,t.height=o.sh),o.playbackRateEnabled&&(t.playbackRates=[.5,1,1.5,2]),!o.fuScrnEnabled&&(t.controlBar={},t.controlBar.fullscreenToggle=!1);var n=videojs.players[e],a=videojs(e,t);if(o.src?(a.currentVideo=o.src,a.src(M.setVideoType(decodeURIComponent(o.src)))):o.revolution.length&&(a.currentVideo=o.revolution[0].src,a.src(M.setVideoType(decodeURIComponent(o.revolution[0].src))),M.initResolutionSwitcher(a,o.revolution)),n||(a.on("loadstart",function(){o.autoplay&&a.play()}),a.on("ready",function(){a.addClass("vjs-has-started")}),a.on("playing",function(){a.removeClass("vjs-seeking"),a.removeClass("vjs-wating")}),a.on(a.tech_,"tap",function(){a.paused()?a.play():a.pause()})),o.live){a.resync=0,a.resync_flag=1,o.autoplay&&(a.resync_flag=0),a.on("play",function(){!a.resync&&a.resync_flag&&setTimeout(function(){a.src(M.setVideoType(decodeURIComponent(a.currentVideo))),a.play()},1),a.resync=1,a.resync_flag=1}),a.on("playing",function(){clearTimeout(a.resync_timer),a.resync_timer=setTimeout(function(){a.resync=0},2e3)})}"function"==typeof o.callback&&o.callback(a)}};function z(){"undefined"!=typeof videojs&&videojs.addLanguage("zh-CN",{Play:"\u64ad\u653e",Pause:"\u6682\u505c","Current Time":"\u5f53\u524d\u65f6\u95f4","Duration Time":"\u65f6\u957f","Remaining Time":"\u5269\u4f59\u65f6\u95f4","Stream Type":"\u5a92\u4f53\u6d41\u7c7b\u578b",LIVE:"\u76f4\u64ad",Loaded:"\u52a0\u8f7d\u5b8c\u6bd5",Progress:"\u8fdb\u5ea6",Fullscreen:"\u5168\u5c4f","Non-Fullscreen":"\u9000\u51fa\u5168\u5c4f",Mute:"\u9759\u97f3",Unmute:"\u53d6\u6d88\u9759\u97f3","Playback Rate":"\u64ad\u653e\u901f\u5ea6",Subtitles:"\u5b57\u5e55","subtitles off":"\u5173\u95ed\u5b57\u5e55",Captions:"\u5185\u5d4c\u5b57\u5e55","captions off":"\u5173\u95ed\u5b57\u5e55",Chapters:"\u8282\u76ee\u6bb5\u843d","Close Modal Dialog":"\u5173\u95ed\u5f39\u7a97",Descriptions:"\u63cf\u8ff0","descriptions off":"\u5173\u95ed\u63cf\u8ff0","Audio Track":"\u97f3\u8f68","You aborted the media playback":"\u89c6\u9891\u64ad\u653e\u88ab\u7ec8\u6b62","A network error caused the media download to fail part-way.":"\u65e0\u6cd5\u83b7\u53d6\u64ad\u653e\u5185\u5bb9","The media could not be loaded, either because the server or network failed or because the format is not supported.":"\u65e0\u6cd5\u83b7\u53d6\u64ad\u653e\u5185\u5bb9","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"\u65e0\u6cd5\u83b7\u53d6\u64ad\u653e\u5185\u5bb9","No compatible source was found for this media.":"\u65e0\u6cd5\u83b7\u53d6\u64ad\u653e\u5185\u5bb9\u3002","The media is encrypted and we do not have the keys to decrypt it.":"\u65e0\u6cd5\u83b7\u53d6\u64ad\u653e\u5185\u5bb9","Play Video":"\u64ad\u653e\u89c6\u9891",Close:"\u5173\u95ed","Modal Window":"\u5f39\u7a97","This is a modal window":"\u8fd9\u662f\u4e00\u4e2a\u5f39\u7a97","This modal can be closed by pressing the Escape key or activating the close button.":"\u53ef\u4ee5\u6309ESC\u6309\u952e\u6216\u542f\u7528\u5173\u95ed\u6309\u94ae\u6765\u5173\u95ed\u6b64\u5f39\u7a97\u3002",", opens captions settings dialog":", \u5f00\u542f\u6807\u9898\u8bbe\u7f6e\u5f39\u7a97","captions settings":"\u5b57\u5e55\u8bbe\u7f6e",", opens subtitles settings dialog":", \u5f00\u542f\u5b57\u5e55\u8bbe\u7f6e\u5f39\u7a97",", opens descriptions settings dialog":", \u5f00\u542f\u63cf\u8ff0\u8bbe\u7f6e\u5f39\u7a97",", selected":", \u9009\u62e9"})}window.videoBox=M,module.exports=M});
/*!Name: jQuery.scroller.js
 * Date: 2019-4-4 18:53:49 */
!function(t){var o=function(o,n){this.opts=t.extend({delay:50,start:null,end:null,startThreshold:0,stopThreshold:0,onStart:function(){},onEnd:function(){},onScroll:function(){}},n),this.$el=t(o),this.init()};o.prototype={init:function(){this.bindEvent(),t(window).bind("scroll",function(){t(this).trigger("onscroller")})},bindEvent:function(){var o,n=this;t(window).bind("onscroller",function(){clearTimeout(o),o=setTimeout(function(){n.onScroll(),clearTimeout(o)},n.opts.delay)})},onScroll:function(o){var n=t(document).scrollTop(),s=this.opts.start||this.$el.offset().top,i=this.opts.end||s+this.$el.outerHeight();t(window).height();this.opts.end&&"object"==typeof this.opts.end&&(i=this.opts.end.offset().top),n>s+this.opts.startThreshold&&n<i-this.opts.stopThreshold?this.opts.onStart.apply(this):this.opts.onEnd.apply(this),this.opts.onScroll.apply(this)}},t.fn.scroller=function(n,s){return this.each(function(){var i=new o(this,n,s);t(this).data("scroller",i)})}}(jQuery);
