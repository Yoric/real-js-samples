"use strict";Nerv.Module.define("gb/widget/mod_service",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ModService=function(_Nerv$Component){function ModService(){_classCallCheck(this,ModService);var _this=_possibleConstructorReturn(this,(ModService.__proto__||Object.getPrototypeOf(ModService)).apply(this,arguments));return _this.state={service:[{NAME:"食品安全",ANCHOR:"精选生鲜 严格质检"},{NAME:"全程冷链",ANCHOR:"自营物流 安全可控"},{NAME:"鲜活天然",ANCHOR:"绿色生态 京东精选"},{NAME:"产地直采",ANCHOR:"限定产源 质量保证"},{NAME:"无忧售后",ANCHOR:"优鲜赔 售后通道"}]},_this}return _inherits(ModService,_Nerv$Component),_createClass(ModService,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var service=(this.props.isWide,this.state.service);return Nerv.createElement("ul",{className:"mod_service grid_c1 clearfix"},service.map(function(item,idx){return Nerv.createElement("li",{className:"mod_service_item item"+(idx+1)},Nerv.createElement("div",{className:"mod_service_item_inner"},Nerv.createElement("i",{"class":"mod_iconfont mod_service_icon icon-fresh_service_icon_"+(idx+1)}),Nerv.createElement("p",{className:"mod_service_title"},item.NAME),Nerv.createElement("p",{className:"mod_service_desc"},item.ANCHOR)))}))}}]),ModService}(Nerv.Component);module.exports=ModService,ModService.styleText='.mod_service_item{position:relative;float:left;width:20%}.mod_service_item_inner{position:relative;margin:0 30px;padding-left:50px}.mod_service_item:before{content:"";position:absolute;left:0;top:50%;margin-top:-11px;width:1px;height:22px;background:#4dd78e;background:hsla(0,0%,100%,.34)}.mod_service_item.item1:before{content:none}.mod_service_icon{display:block;position:absolute;top:50%;left:0;margin-top:-15px;width:30px;height:30px;line-height:30px;font-size:30px}.mod_service_desc,.mod_service_title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mod_service_title{font-size:18px;color:#fff}.mod_service_desc{color:#95e0af;color:hsla(0,0%,100%,.5)}',ModService.version="4fce979cc66b7dff"});Nerv.Module.define("gb/widget/mod_lift",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();!function(a){var Lift=function(options){var def={$el:$(".mod_lift"),floor:$(".J_floor"),elevatorList:".J_lift",elevatorOnClass:"active",elevatorTopClass:".J_lift_top",scrollSpeed:300};$.extend(this,def,options||{}),this.init()},throttle=function(fn,delay){var timer=null;return function(){var context=this,args=arguments;clearTimeout(timer),timer=setTimeout(function(){fn.apply(context,args)},delay)}};Lift.prototype={init:function(){this.initEvent()},initEvent:function(){var self=this,elevator=self.$el;self.$el.delegate(self.elevatorList,"click",function(){var elevators=self.floor,o=$(this),idx=elevator.find(self.elevatorList).index(o),pos=0;0!==elevators.eq(idx).length&&(pos=elevators.eq(idx).offset().top,elevators.eq(idx).data("offset")&&(pos+=elevators.eq(idx).data("offset")),self.go(pos,function(){self.setClass(idx)}))}),self.$el.delegate(self.elevatorTopClass,"click",function(){self.go(0)}),$(a).bind("scroll.elevator",throttle($.proxy(this.detect,this),100)),$(a).bind("resize.elevator",throttle($.proxy(this.resize,this),200)),self.resize().detect()},detect:function(){var self=this,elevator=self.$el,elevators=self.floor,i=0,arr=[],st=$(document).scrollTop(),wh=$(a).height();if(0!==elevators.length){var elevator0=elevators.eq(0);if(st+wh/2>elevator0.offset().top){elevator.fadeIn();var j=!1;elevators.each(function(index){var item=$(this),itemSt=item.offset().top,itemHeight=item.outerHeight(),b=0;itemSt-(st+wh)<0&&itemSt+itemHeight>=st&&(st>itemSt&&(b=itemHeight+itemSt-st),itemSt>=st&&st+wh>itemSt&&(b=st+wh-itemSt),!j&&b>wh/3&&(j=!0,b=9999),index===elevators.length-1&&st>elevators.eq(index-1).offset().top&&st+wh-(itemSt+itemHeight)>0&&(b=1e4),arr.push({floor:item,chance:b,idx:index}))});var cur=arr.length>0?(arr.sort(function(a,b){return a.chance<b.chance?-1:1}),arr.pop()):null;i=cur?cur.idx:-1,self.setClass(i)}else elevator.fadeOut()}},go:function(pos,cb){var self=this;$("body,html").stop(!1,!0).animate({scrollTop:pos},self.scrollSpeed,function(){cb&&cb()})},setClass:function(index){var elevators=this.$el.find(this.elevatorList);elevators.removeClass(this.elevatorOnClass),index>=0&&elevators.eq(index).addClass(this.elevatorOnClass)},update:function($doms){return this.floor=$doms,this},resize:function(){var $el=this.$el,w=$(window).width(),pw=($(window).height(),document.documentElement.clientWidth),mw=1190,pageY="ie6"===o2.detect.browser().browser?document.documentElement.scrollHeight+document.documentElement.clientHeight:document.documentElement.clientHeight,top=parseInt(.5*pageY-.5*$el.height(),10);return $el.css({top:top,right:(pw-mw)/2-$el.width()-40}),w<1370&&$el.css({right:0,left:"auto"}),this}},"function"==typeof define?define("channel/widget/mod_lift",function(){return Lift}):a.Lift=Lift}(window);var ModLift=function(_Nerv$Component){function ModLift(){_classCallCheck(this,ModLift);var _this=_possibleConstructorReturn(this,(ModLift.__proto__||Object.getPrototypeOf(ModLift)).apply(this,arguments));return _this.state=_this.props.data,_this}return _inherits(ModLift,_Nerv$Component),_createClass(ModLift,[{key:"componentDidMount",value:function(){seajs.use("channel/widget/mod_lift",function(Lift){window.freshLift=new Lift({$el:$(".mod_lift")})})}},{key:"render",value:function(){var _state=this.state,lifts=_state.lifts,portal_id=_state.portal_id,portal_floor_id=_state.portal_floor_id,liftItems=(_state.isWide,lifts.map(function(item,idx){return Nerv.createElement("li",{className:"J_lift mod_lift_item"},Nerv.createElement("a",{href:"javascript:;",className:"mod_lift_item_btn",clstag:"channel|keycount|"+portal_id+"|liftItems"+portal_floor_id+"_"+(idx+1)},Nerv.createElement("span",{className:"mod_lift_item_btn_txt"},item.NAME),Nerv.createElement("b",{className:"mod_ver"})))}));return Nerv.createElement("div",{className:"mod_lift",id:"mod_lift_"+portal_floor_id},Nerv.createElement("ul",{className:"mod_lift_list mod_lift_list1"},liftItems),Nerv.createElement("ul",{className:"mod_lift_list mod_lift_list2"},Nerv.createElement("li",{className:"mod_lift_item"},Nerv.createElement("a",{href:"//chat.jd.com/jd/chat?entry=jd_web_fresh",target:"_blank",className:"mod_lift_item_btn",clstag:"channel|keycount|"+portal_id+"|liftDong"+portal_floor_id+"_1"},Nerv.createElement("span",{className:"mod_lift_item_btn_txt"},Nerv.createElement("i",{className:"fresh_mod_iconfont mod_lift_dong_icon icon-fresh_lift_dong"})),Nerv.createElement("b",{className:"mod_ver"}))),Nerv.createElement("li",{className:"mod_lift_item"},Nerv.createElement("a",{href:"//cart.jd.com/cart.action",target:"_blank",className:"mod_lift_item_btn",clstag:"channel|keycount|"+portal_id+"|liftCart"+portal_floor_id+"_1"},Nerv.createElement("span",{className:"mod_lift_item_btn_txt"},Nerv.createElement("i",{className:"fresh_mod_iconfont mod_lift_cart_icon icon-fresh_lift_cart"})),Nerv.createElement("b",{className:"mod_ver"}))),Nerv.createElement("li",{className:"J_lift_top mod_lift_item mod_lift_item last",clstag:"channel|keycount|"+portal_id+"|liftTop"+portal_floor_id+"_1"},Nerv.createElement("div",_extends({className:"mod_lift_item_btn mod_lift_top"},this.backTopOptions),Nerv.createElement("span",{className:"mod_lift_item_btn_txt"},"顶部",Nerv.createElement("i",{className:"fresh_mod_iconfont mod_lift_top_icon icon-fresh_lift_top"})),Nerv.createElement("b",{className:"mod_ver"})))))}}]),ModLift}(Nerv.Component);module.exports=ModLift,ModLift.styleText="* html{_background-image:url(about:blank);_background-attachment:fixed}.mod_lift{display:none;width:40px;position:fixed;top:20px;right:0;z-index:100;_position:absolute}.mod_lift_list1{margin-bottom:11px}.mod_lift_item{width:100%;height:50px;margin-bottom:1px}.mod_lift_item.last{margin-bottom:0}.mod_lift_item_btn{display:inline-block;width:40px;height:50px;line-height:50px;text-align:center;color:#fff;font-size:12px;background:#a7a7a7;background:rgba(34,34,34,.4);-webkit-transition:background .25s ease-in-out;-moz-transition:background .25s ease-in-out;transition:background .25s ease-in-out}.mod_lift_item_btn_txt{display:inline-block;padding:0 4px;vertical-align:middle;cursor:pointer;text-align:center;line-height:13px}.mod_lift_item.active2 .mod_lift_item_btn,.mod_lift_item.active .mod_lift_item_btn,.mod_lift_item:hover .mod_lift_item_btn{color:#fff;background:#00c65d}.mod_lift_top_icon{display:inline-block;margin-top:6px;width:12px;height:7px;font-size:7px}.mod_lift_dong_icon{font-size:24px}.mod_lift_cart_icon{font-size:23px}",ModLift.version="e8576ba5215086ab"});Nerv.Module.define("gb/widget/mod_footer",["gb/widget/mod_service"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lazyload=require("gb/static/lazyload"),_lazyload2=_interopRequireDefault(_lazyload),_mod_service=require("gb/widget/mod_service"),_mod_service2=_interopRequireDefault(_mod_service),ModFooter=function(_Nerv$Component){function ModFooter(){_classCallCheck(this,ModFooter);var _this=_possibleConstructorReturn(this,(ModFooter.__proto__||Object.getPrototypeOf(ModFooter)).apply(this,arguments));return _this.state={qrcode:[{title:"爱上京东生鲜服务号",picUrl:"//img30.360buyimg.com/uba/jfs/t6106/362/7750159070/13553/ada21721/59828143N265c67e7.png"},{title:"京东生鲜订阅号",picUrl:"//img20.360buyimg.com/uba/jfs/t6076/304/7788709841/13477/276c90d3/59828144Ne86ec759.png"}],guide:[{NAME:"购物指南",CHILDREN:[{NAME:"购物流程",URL:"//help.jd.com/user/issue/list-29.html"},{NAME:"支付方式",URL:"//help.jd.com/user/issue/231-258.html"},{NAME:"售后规则",URL:"//help.jd.com/user/issue/325-931.html"}]},{NAME:"配送方式",CHILDREN:[{NAME:"配送运费",URL:"//help.jd.com/user/issue/list-85.html"},{NAME:"配送范围",URL:"//help.jd.com/user/issue/103-983.html"},{NAME:"配送时间",URL:"//help.jd.com/user/issue/list-83.html"}]},{NAME:"商家服务",CHILDREN:[{NAME:"平台规则",URL:"//help.jd.com/venderportal/index.html"},{NAME:"商家入驻",URL:"//sale.jd.com/act/wQTpIm7GnXE.html"},{NAME:"联系我们",URL:"//helpcenter.jd.com/vender/issue/713-3338.html"}]},{NAME:"联系客服",CHILDREN:[{NAME:'在线客服&nbsp;&nbsp;<i class="mod_footer_guide_dong fresh_mod_iconfont icon-fresh_lift_dong"></i>',URL:"//chat.jd.com/jd/chat?entry=jd_web_fresh"},{NAME:"客服电话&nbsp;&nbsp;400-606-3311",URL:"javascript:;"},{NAME:"服务时间&nbsp;&nbsp;09:00-24:00",URL:"javascript:;"},{NAME:"反馈邮箱&nbsp;&nbsp;fresh-fankui@jd.com",URL:"mailto:fresh-fankui@jd.com",ANCHOR:"_self"}]}],copyright:[{NAME:"Copyright © 2014-"+(new Date).getFullYear()+"  JD 版权所有"}]},_this}return _inherits(ModFooter,_Nerv$Component),_createClass(ModFooter,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var _state=this.state,qrcode=_state.qrcode,guide=_state.guide,copyright=_state.copyright,isWide=_state.isWide,copyright0=copyright[0],guideLen=guide.length;return Nerv.createElement(_lazyload2["default"],{height:480,throttle:200},Nerv.createElement("div",{className:"mod_footer",id:"mod_footer"},Nerv.createElement(_mod_service2["default"],{isWide:isWide}),Nerv.createElement("div",{className:"mod_footer_main grid_c1"},Nerv.createElement("ul",{className:"mod_footer_qrcode clearfix"},qrcode.map(function(item,idx){return Nerv.createElement("li",{className:"item"},Nerv.createElement("img",{className:"item_img",width:"140",height:"140",src:item.picUrl,alt:item.title,title:item.title}),Nerv.createElement("div",{className:"item_title"},item.title))})),Nerv.createElement("ul",{className:"mod_footer_guide clearfix"},guide.map(function(item,idx){return Nerv.createElement("li",{className:"item"+(idx+1===guideLen?" last":"")},Nerv.createElement("div",{className:"item_title"},item.NAME),Nerv.createElement("div",{className:"item_body"},item.CHILDREN.map(function(child,i){return Nerv.createElement("a",{className:"item_body_item "+("javascript:;"===child.URL?"nohover":""),href:child.URL,target:child.ANCHOR&&""!==child.ANCHOR?child.ANCHOR:"_blank",clstag:"channel|keycount|fresh|modFootGuideItems_"+(idx+1)+"_"+(i+1),dangerouslySetInnerHTML:{__html:child.NAME}})})))}))),Nerv.createElement("div",{className:"mod_footer_copyright"},copyright0&&copyright0.NAME)))}}]),ModFooter}(Nerv.Component);module.exports=ModFooter,ModFooter.styleText=".mod_footer{height:480px;background:#00c65d}.mod_footer .mod_service{padding:50px 0 40px}.mod_footer_main{height:254px;padding-top:40px;border-top:1px solid #07a551;border-top:1px solid rgba(34,34,34,.2)}.mod_footer_qrcode{float:left;width:400px}.mod_footer_qrcode .item{float:left;width:140px;margin-right:60px}.mod_footer_qrcode .item_img{margin-bottom:10px;width:140px;height:140px}.mod_footer_qrcode .item_title{font-size:16px;color:#00632e;white-space:nowrap;text-align:center}.mod_footer_guide{float:left}.mod_footer_guide .mod_footer_guide_dong:before{color:#b6e5c2;color:hsla(0,0%,100%,.5)}.mod_footer_guide .item{float:left;width:195px}.mod_footer_guide .item.last{width:205px}.mod_footer_guide .item_title{margin-bottom:20px;font-size:18px;color:#fff}.mod_footer_guide .item_body_item{display:block;margin:0 0 3px;font-size:14px;color:#b6e5c2;color:hsla(0,0%,100%,.5);cursor:pointer;white-space:nowrap}.mod_footer_guide .item_body_item:hover{color:#fff}.mod_footer_guide .item_body_item:hover .mod_footer_guide_dong:before{color:#fff}.mod_footer_guide .item_body_item.nohover{cursor:text}.mod_footer_guide .item_body_item.nohover:hover{color:#b6e5c2;color:hsla(0,0%,100%,.5)}.mod_footer_copyright{color:#008c40;color:rgba(0,0,0,.5);text-align:center;font-family:Tahoma,Helvetica,sans-serif}",ModFooter.version="72c5e9d6b3818387"});Nerv.Module.define("gb/widget/mod_topbi",function(require,exports,module){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ModTopbi=function(_Nerv$Component){function ModTopbi(){_classCallCheck(this,ModTopbi);var _this=_possibleConstructorReturn(this,(ModTopbi.__proto__||Object.getPrototypeOf(ModTopbi)).apply(this,arguments));return _this.state=_extends({topBi:[]},_this.props.data),_this}return _inherits(ModTopbi,_Nerv$Component),_createClass(ModTopbi,[{key:"componentDidMount",value:function(){this.getAdBi(this.state.adIds[0],"topBi")}},{key:"getAdBi",value:function(groupId,dataName){var _this2=this,options={groupId:groupId,elId:"mod_top",dataName:dataName,cb:function(data){_this2.setState(_defineProperty({},""+dataName,data.slice(0,1)),function(){_this2.insert()})},isHideLift:!1,needBackup:!1};pageConfig.freshModBi.getAd(options)}},{key:"insert",value:function(){this.oHeader=document.getElementById("o-header-2013"),this.header=document.getElementById("header-2013"),this.topBanner=document.getElementById("mod_top"),this.topBanner&&this.oHeader.insertBefore(this.topBanner,this.header),this.initEvent()}},{key:"initEvent",value:function(){var self=this;$(self.topBanner);$(self.topBanner).delegate(".mod_top_close","click",function(){return self.oHeader.removeChild(self.topBanner),!1})}},{key:"render",value:function(){var _state=this.state,topBi=_state.topBi,portal_id=_state.portal_id,topBi0=topBi[0];return Nerv.createElement("div",{id:"mod_top",className:"mod_top"},topBi.length>0&&Nerv.createElement("a",{className:"mod_top_link",href:topBi0.link,target:"_blank",clstag:"channel|keycount|"+portal_id+"|modtop_1",style:"background: "+(topBi0.desc?topBi0.desc:"transparent")+";",title:topBi0.name},Nerv.createElement("div",{className:"grid_c1 mod_top_inner"},Nerv.createElement("img",{src:topBi0.pictureUrl,width:"1190",height:"80"}),Nerv.createElement("div",{className:"mod_top_close"}))))}}]),ModTopbi}(Nerv.Component);module.exports=ModTopbi,ModTopbi.styleText=".mod_top_link{display:block}.mod_top_inner{position:relative}.mod_top_close{position:absolute;top:8px;right:8px;width:20px;height:20px;background:url(//static.360buyimg.com/mtd/pc/fresh_v3/1.0.0/gb/images/mod_top_close.png) no-repeat;cursor:pointer}",ModTopbi.version="e2ff08c484b7f015"});"use strict";Nerv.Module.define("home/widget/fresh_fs_menu",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FreshFsMenu=function(_Nerv$PureComponent){function FreshFsMenu(){_classCallCheck(this,FreshFsMenu);var _this=_possibleConstructorReturn(this,(FreshFsMenu.__proto__||Object.getPrototypeOf(FreshFsMenu)).apply(this,arguments));return _this.state={},_this}return _inherits(FreshFsMenu,_Nerv$PureComponent),_createClass(FreshFsMenu,[{key:"shouldComponentUpdate",value:function(nextProps,nextState){return!1}},{key:"render",value:function(){var _props=this.props,menu=_props.menu,news=_props.news,portal_id=_props.portal_id,portal_floor_id=_props.portal_floor_id,news0=(_props.isWide,news[0]),menuItem=menu.map(function(item,idx){return Nerv.createElement("a",{className:"fresh_fs_menu_item"+(0===idx?" first":"")+("active"===item.ANCHOR?" active":""),href:item.URL,target:"_blank",clstag:"channel|keycount|"+portal_id+"|menuItem"+portal_floor_id+"_"+(idx+1)},item.NAME)});return Nerv.createElement("div",{className:"fresh_fs_menu"},Nerv.createElement("div",{className:"fresh_fs_menu_inner grid_c1"},Nerv.createElement("div",{className:"fresh_fs_menu_list clearfix"},menuItem),Nerv.createElement("a",{className:"fresh_mod_iconfont fresh_fs_menu_news icon-fresh_fs_toutiao_icon",href:news0&&news0.URL,target:"_blank",clstag:"channel|keycount|"+portal_id+"|menuNews"+portal_floor_id+"_1"},news0&&news0.NAME)))}}]),FreshFsMenu}(Nerv.PureComponent);module.exports=FreshFsMenu});Nerv.Module.define("home/widget/fresh_fs_nav",function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_tab=require("gb/static/tab"),_tab2=_interopRequireDefault(_tab),FreshFsNav=function(_Nerv$Component){function FreshFsNav(){_classCallCheck(this,FreshFsNav);var _this=_possibleConstructorReturn(this,(FreshFsNav.__proto__||Object.getPrototypeOf(FreshFsNav)).apply(this,arguments));return _this.onMouseLeave=function(){_this.setState({tabActive:-1})},_this.state={tabActive:-1},_this}return _inherits(FreshFsNav,_Nerv$Component),_createClass(FreshFsNav,[{key:"shouldComponentUpdate",value:function(nextProps,nextState){return nextState.tabActive===-1}},{key:"render",value:function(){var _this2=this,_props=this.props,navTitle=_props.navTitle,navFirst=_props.navFirst,portal_id=_props.portal_id,portal_floor_id=_props.portal_floor_id,navTitle0=(_props.isWide,navTitle[0]),navSecond=void 0,tabHeadFunc=function(item,idx){return Nerv.createElement("div",{className:"tab_head_item_inner item"+(idx+1)},Nerv.createElement("i",{className:"item_icon"}),Nerv.createElement("a",{className:"item_title",href:item.URL,target:"_blank",clstag:"channel|keycount|"+portal_id+"|navItem"+portal_floor_id+"_"+(idx+1)},item.NAME),Nerv.createElement("div",{className:"item_children"},item.children&&item.children.length>0&&item.children.map(function(child,j){return Nerv.createElement("a",{className:"item_children_item"+(0===j?" first":""),href:child.URL,target:"_blank",clstag:"channel|keycount|"+portal_id+"|navItemChildren"+portal_floor_id+"_"+(idx+1)+"_"+(j+1),title:child.NAME},child.NAME)})))},tabNavClassFunc=function(idx){return navSecond=_this2.props["navSecond"+(idx+1)],Nerv.createElement("div",{className:"fresh_fs_nav_cate cate"},navSecond.map(function(item,i){return Nerv.createElement("dl",{className:"cate_item"+(0===i?" item1":"")},Nerv.createElement("dt",{className:"cate_tit"},Nerv.createElement("a",{className:"cate_tit_lk",href:item.URL,target:"_blank",clstag:"channel|keycount|"+portal_id+"|navClassTitle"+portal_floor_id+"_"+(idx+1)+"_"+(i+1)},item.NAME,Nerv.createElement("i",{className:"cate_tit_arrow"},">"))),Nerv.createElement("dd",{className:"cate_con"},item.children&&item.children.length>0&&item.children.map(function(child,j){return Nerv.createElement("a",{className:"cate_con_lk",href:child.URL,target:"_blank",clstag:"channel|keycount|"+portal_id+"|navClassItems"+portal_floor_id+"_"+(idx+1)+"_"+(i+1)+"_"+(j+1)},child.NAME)})))}))},panelItem=navFirst.map(function(item,idx){var panelItemTitle=tabHeadFunc(item,idx);return Nerv.createElement(_tab2["default"].Panel,{title:panelItemTitle},tabNavClassFunc(idx))});return Nerv.createElement("div",{className:"fresh_fs_nav"},Nerv.createElement("div",{className:"fresh_fs_nav_title"},navTitle0&&navTitle0.NAME),Nerv.createElement(_tab2["default"],{className:"fresh_fs_nav_tab",onMouseLeave:this.onMouseLeave,active:this.state.tabActive,hoverToSwitch:!0},panelItem))}}]),FreshFsNav}(Nerv.Component);module.exports=FreshFsNav});Nerv.Module.define("home/widget/fresh_fs_carousel",function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_slider=require("gb/static/slider"),_slider2=_interopRequireDefault(_slider),FreshFsCarousel=function(_Nerv$Component){function FreshFsCarousel(){_classCallCheck(this,FreshFsCarousel);var _this=_possibleConstructorReturn(this,(FreshFsCarousel.__proto__||Object.getPrototypeOf(FreshFsCarousel)).apply(this,arguments));return _this.state={carouselBi:[]},_this.sliderOptions={slidesToShow:1,slidesToScroll:1,arrows:!0,className:"fresh_fs_carousel",prevArrowClassName:"",nextArrowClassName:"",easeType:"ease-in-out",infinite:!0,indicators:!0,speed:500,autoPlay:!0,lazyLoad:!1,pauseOnHover:!0,autoPlayInterval:3e3,beforeChange:function(currentPage,targetPage){_this.loadImg(targetPage)}},_this.elId="fresh_fs_"+_this.props.portal_floor_id,_this}return _inherits(FreshFsCarousel,_Nerv$Component),_createClass(FreshFsCarousel,[{key:"loadImg",value:function(targetPage){if(0!==targetPage){for(var $items=$(".fresh_fs_carousel").find("[data-idx="+targetPage+"]"),$imgs=$items.find(".fresh_fs_carousel_img"),$imgsLen=$imgs.length,i=0;i<$imgsLen;i++){var $img=$imgs.eq(i),src=$img.attr("data-lazy-img2");"done"!==src&&($img.attr("src",src),$img.attr("data-lazy-img2","done"))}$(window).trigger("resize")}}},{key:"componentDidMount",value:function(){this.getAdBi()}},{key:"getAdBi",value:function(index){var _this2=this,dataName="carouselBi",options={o2Backup:"//storage.jd.com/72326994a84f749d/ea3ca01fd2.js",floorName:"fs",groupId:this.props.carouselId,elId:this.elId,dataName:dataName,cb:function(data){_this2.setState(_defineProperty({},""+dataName,data.slice(0,6)))},isHideLift:!1};pageConfig.freshModBi.getAd(options)}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){return 0===this.state.carouselBi.length&&0!==nextState.carouselBi.length}},{key:"render",value:function(){var _props=this.props,portal_id=_props.portal_id,portal_floor_id=_props.portal_floor_id,carouselBi=this.state.carouselBi,carouselItem=carouselBi.map(function(item,idx){return Nerv.createElement("a",{href:item.link,target:"_blank",clstag:"channel|keycount|"+portal_id+"|carouselItem"+portal_floor_id+"_"+(idx+1),"data-idx":idx},Nerv.createElement("img",{width:"800",height:"400",className:"fresh_fs_carousel_img","data-lazy-img2":0!==idx?item.pictureUrl:"done",src:0!==idx?"//static.360buyimg.com/mtd/pc/cms/images/mod_1x1.png":item.pictureUrl,alt:item.name,title:item.name}))});return Nerv.createElement(_slider2["default"],this.sliderOptions,carouselItem)}}]),FreshFsCarousel}(Nerv.Component);module.exports=FreshFsCarousel});Nerv.Module.define("home/widget/fresh_fs_side",function(require,exports,module){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FreshFsSide=function(_Nerv$Component){function FreshFsSide(){_classCallCheck(this,FreshFsSide);var _this=_possibleConstructorReturn(this,(FreshFsSide.__proto__||Object.getPrototypeOf(FreshFsSide)).apply(this,arguments));return _this.state={toutiaosBi:[],adAct:[],actBi:[]},_this.elId="fresh_fs_"+_this.props.portal_floor_id,_this}return _inherits(FreshFsSide,_Nerv$Component),_createClass(FreshFsSide,[{key:"componentDidMount",value:function(){this.getAdBi(this.props.toutiaosId,"toutiaosBi",3),this.getActFromAdOrBi()}},{key:"getAdBi",value:function(groupId,dataName,num){var _this2=this,options={floorName:"fs",groupId:groupId,elId:this.elId,dataName:dataName,cb:function(data){_this2.setState(_defineProperty({},""+dataName,data.slice(0,num)))},isHideLift:!1};pageConfig.freshModBi.getAd(options)}},{key:"getActFromAdOrBi",value:function(){var _this3=this;seajs.use(["//nfa.jd.com/loadFa_toJson.action?aid=0_0_10097"],function(){var adAct=window.data&&window.data.adSystem&&window.data.adSystem.fresh_fs_act;adAct&&adAct.length>0?_this3.setState({actBi:adAct}):_this3.getAdBi(_this3.props.actId,"actBi",1)})}},{key:"render",value:function(){var _props=this.props,toutiaoTitle=_props.toutiaoTitle,portal_id=_props.portal_id,portal_floor_id=_props.portal_floor_id,act0=this.state.actBi.length>0?this.state.actBi[0]:null,toutiaoItem=this.state.toutiaosBi.map(function(item,idx){return Nerv.createElement("a",{className:"fresh_fs_toutiao_item",href:item.link,target:"_blank",clstag:"channel|keycount|"+portal_id+"|toutiaItem"+portal_floor_id+"_"+(idx+1)},item.name)});return Nerv.createElement("div",{className:"fresh_fs_side"},Nerv.createElement("div",{className:"fresh_fs_toutiao"},Nerv.createElement("div",{className:"fresh_fs_toutiao_title"},Nerv.createElement("i",{className:"fresh_fs_toutiao_title_l"}),Nerv.createElement("span",{className:"fresh_fs_toutiao_title_text",dangerouslySetInnerHTML:{__html:toutiaoTitle[0]&&toutiaoTitle[0].NAME}}),Nerv.createElement("i",{className:"fresh_fs_toutiao_title_r"})),Nerv.createElement("div",{className:"fresh_fs_toutiao_list"},toutiaoItem)),act0&&Nerv.createElement("a",{className:"fresh_fs_act",href:act0.link,target:"_blank",clstag:"channel|keycount|"+portal_id+"|freshFsAct"+portal_floor_id+"_1"},Nerv.createElement("img",{className:"fresh_fs_act_img","data-lazy-img":act0.pictureUrl,src:"//static.360buyimg.com/mtd/pc/cms/images/mod_1x1.png",width:"240",height:"260",alt:act0.name,title:act0.name})))}}]),FreshFsSide}(Nerv.Component);module.exports=FreshFsSide});Nerv.Module.define("home/widget/fresh_fs_bgad",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FreshFsBgad=function(_Nerv$Component){function FreshFsBgad(){_classCallCheck(this,FreshFsBgad);var _this=_possibleConstructorReturn(this,(FreshFsBgad.__proto__||Object.getPrototypeOf(FreshFsBgad)).apply(this,arguments));return _this.state={bgad:[]},_this}return _inherits(FreshFsBgad,_Nerv$Component),_createClass(FreshFsBgad,[{key:"componentDidMount",value:function(){var _this2=this;$(window).load(function(){_this2.setState({bgad:_this2.props.bgad})})}},{key:"render",value:function(){var _props=this.props,_props$portal_id=_props.portal_id,portal_id=void 0===_props$portal_id?"":_props$portal_id,_props$portal_floor_i=_props.portal_floor_id,portal_floor_id=void 0===_props$portal_floor_i?"":_props$portal_floor_i,bgad=this.state.bgad,isBgad=bgad.length>0,bgad0=isBgad&&bgad[0],isLink=bgad0&&"//"!==bgad0.url;return isBgad?Nerv.createElement("div",{"class":"fresh_fs_bgad"},Nerv.createElement("a",{"class":"fresh_fs_bgad_lk "+(isLink?"haslink":"nolink"),href:isLink?bgad0.url:"javascript:;",target:isLink?"_blank":"_self",style:"background: url("+bgad0.picUrl+") no-repeat 50% 0;",clstag:"channel|keycount|"+portal_id+"|fsAd"+portal_floor_id+"_1"})):""}}]),FreshFsBgad}(Nerv.Component);module.exports=FreshFsBgad});Nerv.Module.define("home/widget/fresh_fs",["home/widget/fresh_fs_menu","home/widget/fresh_fs_nav","home/widget/fresh_fs_carousel","home/widget/fresh_fs_side","home/widget/fresh_fs_bgad"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_fresh_fs_menu=require("home/widget/fresh_fs_menu"),_fresh_fs_menu2=_interopRequireDefault(_fresh_fs_menu),_fresh_fs_nav=require("home/widget/fresh_fs_nav"),_fresh_fs_nav2=_interopRequireDefault(_fresh_fs_nav),_fresh_fs_carousel=require("home/widget/fresh_fs_carousel"),_fresh_fs_carousel2=_interopRequireDefault(_fresh_fs_carousel),_fresh_fs_side=require("home/widget/fresh_fs_side"),_fresh_fs_side2=_interopRequireDefault(_fresh_fs_side),_fresh_fs_bgad=require("home/widget/fresh_fs_bgad"),_fresh_fs_bgad2=_interopRequireDefault(_fresh_fs_bgad),FreshFs=function(_Nerv$Component){function FreshFs(){_classCallCheck(this,FreshFs);var _this=_possibleConstructorReturn(this,(FreshFs.__proto__||Object.getPrototypeOf(FreshFs)).apply(this,arguments));return _this.state=_extends({},_this.props.data),_this}return _inherits(FreshFs,_Nerv$Component),_createClass(FreshFs,[{key:"render",value:function(){var _state=this.state,menu=_state.menu,news=_state.news,navTitle=_state.navTitle,navFirst=_state.navFirst,navSecond1=_state.navSecond1,navSecond2=_state.navSecond2,navSecond3=_state.navSecond3,navSecond4=_state.navSecond4,navSecond5=_state.navSecond5,bgad=_state.bgad,toutiaoTitle=_state.toutiaoTitle,portal_id=_state.portal_id,portal_floor_id=_state.portal_floor_id,adIds=_state.adIds,carouselId=adIds[0],toutiaosId=adIds[1],actId=adIds[2],isBglShow=0===bgad.length||bgad.length>0&&"//"===bgad[0].url;return Nerv.createElement("div",{className:"fresh_fs",id:"fresh_fs_"+portal_floor_id},Nerv.createElement(_fresh_fs_menu2["default"],{menu:menu,news:news,portal_id:portal_id,portal_floor_id:portal_floor_id}),Nerv.createElement("div",{className:"fresh_fs_main"},Nerv.createElement("div",{className:"fresh_fs_main_inner grid_c1 clearfix"},Nerv.createElement(_fresh_fs_nav2["default"],{navTitle:navTitle,navFirst:navFirst,navSecond1:navSecond1,navSecond2:navSecond2,navSecond3:navSecond3,navSecond4:navSecond4,navSecond5:navSecond5,portal_id:portal_id,portal_floor_id:portal_floor_id}),Nerv.createElement(_fresh_fs_carousel2["default"],{carouselId:carouselId,portal_id:portal_id,portal_floor_id:portal_floor_id}),Nerv.createElement(_fresh_fs_side2["default"],{toutiaoTitle:toutiaoTitle,toutiaosId:toutiaosId,actId:actId,portal_id:portal_id,portal_floor_id:portal_floor_id}),isBglShow&&Nerv.createElement("div",{className:"fresh_fs_bgl"}),Nerv.createElement("div",{className:"fresh_fs_shadow"})),Nerv.createElement(_fresh_fs_bgad2["default"],{bgad:bgad,portal_id:portal_id,portal_floor_id:portal_floor_id})))}}]),FreshFs}(Nerv.Component);module.exports=FreshFs});Nerv.Module.define("home/widget/fresh_service",["gb/widget/mod_service"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lazyload=require("gb/static/lazyload"),_lazyload2=_interopRequireDefault(_lazyload),_mod_service=require("gb/widget/mod_service"),_mod_service2=_interopRequireDefault(_mod_service),FreshService=function(_Nerv$PureComponent){function FreshService(){_classCallCheck(this,FreshService);var _this=_possibleConstructorReturn(this,(FreshService.__proto__||Object.getPrototypeOf(FreshService)).apply(this,arguments));return _this.state=_this.props.data,_this.eventCenter=new Nerv.Events,_this}return _inherits(FreshService,_Nerv$PureComponent),_createClass(FreshService,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var _state=this.state,portal_floor_id=(_state.service,_state.portal_id,_state.portal_floor_id);return Nerv.createElement(_lazyload2["default"],{height:45,throttle:200},Nerv.createElement("div",{className:"fresh_service grid_c1",id:"fresh_service_"+portal_floor_id},Nerv.createElement(_mod_service2["default"],null)))}}]),FreshService}(Nerv.PureComponent);module.exports=FreshService});Nerv.Module.define("home/widget/fresh_seckill",function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lazyload=require("gb/static/lazyload"),_lazyload2=_interopRequireDefault(_lazyload),_tab=require("gb/static/tab"),_tab2=_interopRequireDefault(_tab),_slider=require("gb/static/slider"),_slider2=_interopRequireDefault(_slider),_countdown=require("gb/static/countdown"),_countdown2=_interopRequireDefault(_countdown),FreshSeckill=function(_Nerv$Component){function FreshSeckill(){_classCallCheck(this,FreshSeckill);var _this=_possibleConstructorReturn(this,(FreshSeckill.__proto__||Object.getPrototypeOf(FreshSeckill)).apply(this,arguments));return _this.countdownRef=function(countdown){_this.countdown=countdown},_this.tabRef=function(tab){_this.tab=tab},_this.onSecondPass=function(){var now=new Date;0===now.getHours()&&0===now.getMinutes()&&0===now.getSeconds()&&_this.getGoodsBi(!0)},_this.getSchedule=function(idx){var now=new Date,nowH=now.getHours(),nowTime=now.getTime(),today=new Date(now.getFullYear(),now.getMonth(),now.getDate(),0,0,0),todayTime=today.getTime(),tabHeadItem=_this.tabHead[idx],startHour=+tabHeadItem.ANCHOR,endHour=+tabHeadItem.property,isAcrossNight="1"===tabHeadItem.CUSTOM1,schedule={};if(isAcrossNight){var tomorrowTime=new Date(todayTime+864e5).getTime();schedule=nowH>=0&&nowH<endHour||nowH>=startHour&&nowH<24?{state:"ing",start:nowTime,end:new Date((nowH>=startHour?tomorrowTime:todayTime)+60*endHour*60*1e3)}:{state:"will",start:nowTime,end:new Date(todayTime+60*startHour*60*1e3)}}else schedule=nowH>=0&&nowH<startHour?{state:"will",start:nowTime,end:new Date(todayTime+60*startHour*60*1e3)}:nowH>=startHour&&nowH<endHour?{state:"ing",start:nowTime,end:new Date(todayTime+60*endHour*60*1e3)}:{state:"ed",start:nowTime,end:nowTime};return schedule},_this.getIngIdx=function(){var hour=(new Date).getHours(),ingIdx=0;return _this.tabHead.map(function(item,idx){"0"===item.CUSTOM1&&hour>=+item.ANCHOR&&hour<+item.property&&(ingIdx=idx),"1"===item.CUSTOM1&&(hour>=+item.ANCHOR||hour<+item.property)&&(ingIdx=idx)}),ingIdx},_this.onTimeup=function(){_this.switchTab()},_this.switchTab=function(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,oldActive=_this.active;if(0<=index&&index<_this.tabHeadLen?_this.active=index:(_this.active=_this.getIngIdx(),_this.getGoodsBi(),_this.tab.switchTab(_this.active)),_this.countdown&&oldActive!==_this.active){var schedule=_this.getSchedule(_this.active);$(".fresh_seckill_time").removeClass("will ed ing").addClass(schedule.state),document.getElementsByClassName("fresh_seckill_time_tip")[0].innerHTML=_this.seckillText[schedule.state].tip,_this.startTime=schedule.start,_this.endTime=schedule.end,_this.countdown.init({startTime:schedule.start,endTime:schedule.end,onTimeup:schedule.start===schedule.end?null:_this.onTimeup}),_this.loadImg(index)}},_this.onTabFirstShow=function(index){var slider=_this.sliderList[index];Nerv.nextTick(function(){return slider&&slider.initSlider()}),$(window).trigger("resize")},_this.onTabClick=function(index){_this.switchTab(index),$(window).trigger("resize")},_this.sliderOptions={slidesToShow:5,slidesToScroll:5,arrows:!0,className:"",prevArrowClassName:"",nextArrowClassName:"",easeType:"ease-in-out",infinite:!0,indicators:!0,speed:500,afterChange:function(currentPage){$(window).trigger("resize")}},_this.sliderList=[],_this.state=_extends({active:-1,countdownTip:"距离本场结束还有",skuSaleObj:{},goodsBi1:[],goodsBi2:[],goodsBi3:[],isRender:!1,skuPriceObj:{}},_this.props.data),_this.showTimeDeco=!1,_this.active=0,_this.seckillText={ed:{title:"结束",tip:"距离本场结束还有",btn:"已结束",progressText:"限时秒杀 已结束"},ing:{title:"抢鲜",tip:"距离本场结束还有",btn:"立即抢购",progressText:""},will:{title:"预告",tip:"距离本场开始还有",btn:"开抢",progressText:"限时秒杀 敬请期待"}},_this.tabHead=[{NAME:"早市",ANCHOR:"10",property:"16",CUSTOM1:"0",icon:"icon-fresh_seckill_morning"},{NAME:"午市",ANCHOR:"16",property:"22",CUSTOM1:"0",icon:"icon-fresh_seckill_afternoon"},{NAME:"晚市",ANCHOR:"22",property:"10",CUSTOM1:"1",icon:"icon-fresh_seckill_night_icon"}],_this.elId="fresh_seckill_"+_this.state.portal_floor_id,_this.tabHeadLen=_this.tabHead.length,_this}return _inherits(FreshSeckill,_Nerv$Component),_createClass(FreshSeckill,[{key:"componentWillMount",value:function(){this.active=this.getIngIdx();var schedule=this.getSchedule(this.active);this.startTime=schedule.start,this.endTime=schedule.end}},{key:"componentDidMount",value:function(){this.getGoodsBi()}},{key:"getGoodsBi",value:function(isNight){var _this2=this,position=isNight||2===this.active&&(new Date).getHours()<10?1:this.active+1,groupId=this.state.goodsIds[0],options={floorName:"seckill",timeout:3e3,retryTimes:2,jsonpCallbackFunction:"getGoods_"+groupId+"_active"+this.active,groupId:groupId,num:3,position:position,elId:this.elId,size:["360x360","180x180"],cb:function(data){var goodsBi1=[],goodsBi2=[],goodsBi3=[];_.console.log("秒杀商品："),_.console.log(data),data.map(function(item,idx){/10:00:00/.test(""+item.stageTime)?goodsBi1=item.skuData:/16:00:00/.test(item.stageTime)?goodsBi2=item.skuData:goodsBi3=item.skuData});var setStateFun=function(){_this2.setState({goodsBi1:goodsBi1.slice(0,15),goodsBi2:goodsBi2.slice(0,15),goodsBi3:goodsBi3.slice(0,15),isRender:!0},function(){_this2.loadImg(_this2.active),_this2.getPrice(_this2.active),$(window).trigger("resize")})};if(isNight){var second=(new Date).getSeconds(),time=0===second?1e3:0;setTimeout(setStateFun,time)}else setStateFun()}};pageConfig.freshModBi.getGoods(options)}},{key:"getPrice",value:function(index){var _this3=this,skuIds=[];this.state["goodsBi"+(index+1)].map(function(item,idx){skuIds.indexOf("J_"+item.skuId)===-1&&skuIds.push("J_"+item.skuId)});var getPriceAPI="//p.3.cn/prices/mgets?type=1&skuids="+skuIds.join(",");jsonp(getPriceAPI,{jsonpCallbackFunction:"getPrice"},function(err,result){if(err)return void _.console.log("获取秒杀实时价格接口失败: "+err);if(result.length>0){var skuPriceObj={};result.map(function(item,idx){skuPriceObj[item.id]=item.p}),Object.keys(skuPriceObj).length>0&&_this3.setState({skuPriceObj:skuPriceObj})}})}},{key:"loadImg",value:function(index){for(var tabBodyItem=$(".fresh_seckill_tab .tab_body_item").eq(index),$imgs=tabBodyItem.find(".goods_item_img"),imgsLen=$imgs.length,i=0;i<imgsLen;i++){var $img=$imgs.eq(i),src=$img.attr("data-lazy-img2");"done"!==src&&($img.attr("data-lazy-img",src),$img.attr("data-lazy-img2","done"))}$(window).trigger("resize")}},{key:"render",value:function(){var _this4=this,_state=this.state,skuPriceObj=(_state.title,_state.isRender,_state.skuPriceObj),portal_id=_state.portal_id,portal_floor_id=_state.portal_floor_id,goodsItemsFunc=function(index,goodsBi,idxState){var goodsItems=goodsBi.map(function(item,idx){var skuPrice=skuPriceObj["J_"+item.skuId];return Nerv.createElement("div",{className:"goods_item"},Nerv.createElement("a",{className:"goods_item_link",href:"//item.jd.com/"+item.skuId+".html",target:"_blank",clstag:"channel|keycount|"+portal_id+"|goodsItems"+portal_floor_id+"_"+(index+1)+"_"+(idx+1),title:item.name},Nerv.createElement("div",{className:"goods_item_price"},Nerv.createElement("span",{className:"goods_item_price_jd"},"¥",skuPrice?skuPrice:item.promoPrice),Nerv.createElement("span",{className:"goods_item_price_promo"},"¥",item.promoPrice),Nerv.createElement("span",{className:"goods_item_price_m"},"¥",item.pcpPrice)),Nerv.createElement("img",{className:"goods_item_img",width:"180",height:"180","data-lazy-img":index!==_this4.active?"":item.picUrl,"data-lazy-img2":index!==_this4.active?item.picUrl:"done",src:"//static.360buyimg.com/mtd/pc/cms/images/mod_1x1.png",alt:item.name}),Nerv.createElement("p",{className:"goods_item_name"},item.name),Nerv.createElement("div",{className:"goods_item_progress"},Nerv.createElement("p",{className:"goods_item_progress_text"},""+_this4.seckillText[idxState].progressText,"ing"===idxState&&"好评率"+item.goodRate),Nerv.createElement("div",{className:"goods_item_progress_line"},Nerv.createElement("i",{style:"width: "+item.goodRate}))),Nerv.createElement("p",{className:"goods_item_btn"},"will"===idxState?_this4.tabHead[index].ANCHOR+":00 开抢":"","will"!==idxState&&_this4.seckillText[idxState].btn)))});return goodsItems},tabHeadFunc=function(item,idx,idxState){return Nerv.createElement("div",{className:"tab_head_item_"+(idx+1),clstag:"channel|keycount|"+portal_id+"|tabHeadItem_"+portal_floor_id+"_"+(idx+1)},Nerv.createElement("div",{className:"fresh_mod_iconfont icon "+item.icon}),Nerv.createElement("div",{className:"name"},""+_this4.tabHead[idx].NAME+_this4.seckillText[idxState].title),Nerv.createElement("div",{className:"tip"},"ing"===idxState?_this4.tabHead[idx].ANCHOR+":00 - "+_this4.tabHead[idx].property+":00":"ed"===idxState?_this4.tabHead[idx].property+":00 结束":_this4.tabHead[idx].ANCHOR+":00 开始"))},panelItem=this.tabHead.map(function(item,idx){var schedule=(_this4.getIngIdx(),_this4.getSchedule(idx)),idxState=schedule.state,goodsBi=_this4.state["goodsBi"+(idx+1)];return Nerv.createElement(_tab2["default"].Panel,{title:tabHeadFunc(item,idx,idxState),className:idxState},goodsBi&&goodsBi.length>0&&Nerv.createElement("div",{className:"fresh_seckill_goods"},Nerv.createElement(_slider2["default"],_extends({},_this4.sliderOptions,{ref:function(slider){return _this4.sliderList[idx]=slider}}),goodsItemsFunc(idx,goodsBi,idxState))))});return Nerv.createElement("div",{className:"J_floor fresh_seckill grid_c1",id:"fresh_seckill_"+portal_floor_id},Nerv.createElement(_lazyload2["default"],{height:542,throttle:200},Nerv.createElement("div",null,Nerv.createElement("i",{className:"fresh_seckill_bgl"}),Nerv.createElement("i",{className:"fresh_seckill_bgr"}),Nerv.createElement("div",{className:"fresh_seckill_time "+this.getSchedule(this.active).state},Nerv.createElement("div",{className:"fresh_seckill_time_tip"},this.state.countdownTip),Nerv.createElement(_countdown2["default"],{ref:this.countdownRef,startTime:this.startTime,endTime:this.endTime,showTimeSplit:!0,showTimeDeco:this.showTimeDeco,onTimeup:this.startTime===this.endTime?null:this.onTimeup,onSecondPass:this.onSecondPass})),Nerv.createElement(_tab2["default"],{ref:this.tabRef,className:"fresh_seckill_tab",onTabFirstShow:this.onTabFirstShow,onTabClick:this.onTabClick,active:this.active},panelItem))))}}]),FreshSeckill}(Nerv.Component);module.exports=FreshSeckill});Nerv.Module.define("home/widget/fresh_mod_head",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FreshModHead=function(_Nerv$PureComponent){function FreshModHead(){_classCallCheck(this,FreshModHead);var _this=_possibleConstructorReturn(this,(FreshModHead.__proto__||Object.getPrototypeOf(FreshModHead)).apply(this,arguments));return _this.state={},_this}return _inherits(FreshModHead,_Nerv$PureComponent),_createClass(FreshModHead,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var _props=this.props,_props$NAME=_props.NAME,NAME=void 0===_props$NAME?"":_props$NAME,_props$ANCHOR=_props.ANCHOR,ANCHOR=void 0===_props$ANCHOR?"":_props$ANCHOR,isColorWhite=_props.isColorWhite;return Nerv.createElement("div",{className:"fresh_mod_head"+(isColorWhite?" white":"")},Nerv.createElement("div",{className:"fresh_mod_head_inner"},Nerv.createElement("h3",{className:"fresh_mod_head_title",dangerouslySetInnerHTML:{__html:NAME.replace(/\//g,"<i>/</i>")}}),Nerv.createElement("p",{className:"fresh_mod_head_subtitle"},ANCHOR)))}}]),FreshModHead}(Nerv.PureComponent);module.exports=FreshModHead});Nerv.Module.define("home/widget/fresh_unique_btn",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FreshUniqueBtn=function(_Nerv$PureComponent){function FreshUniqueBtn(){return _classCallCheck(this,FreshUniqueBtn),_possibleConstructorReturn(this,(FreshUniqueBtn.__proto__||Object.getPrototypeOf(FreshUniqueBtn)).apply(this,arguments))}return _inherits(FreshUniqueBtn,_Nerv$PureComponent),_createClass(FreshUniqueBtn,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var _props=this.props,_props$NAME=_props.NAME,NAME=void 0===_props$NAME?"更多":_props$NAME,_props$URL=_props.URL,URL=void 0===_props$URL?"":_props$URL,_props$clstag=_props.clstag,clstag=void 0===_props$clstag?"":_props$clstag;return Nerv.createElement("a",{className:"fresh_unique_btn",href:URL,target:"_blank",clstag:clstag},NAME,Nerv.createElement("i",null,">"))}}]),FreshUniqueBtn}(Nerv.PureComponent);module.exports=FreshUniqueBtn});Nerv.Module.define("home/widget/fresh_unique_top100",["home/widget/fresh_unique_btn"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_fresh_unique_btn=require("home/widget/fresh_unique_btn"),_fresh_unique_btn2=_interopRequireDefault(_fresh_unique_btn),FreshUniqueTop100=function(_Nerv$PureComponent){function FreshUniqueTop100(){_classCallCheck(this,FreshUniqueTop100);var _this=_possibleConstructorReturn(this,(FreshUniqueTop100.__proto__||Object.getPrototypeOf(FreshUniqueTop100)).apply(this,arguments));return _this.state={top100GoodsBi:[]},_this.elId="fresh_unique_"+_this.props.portal_floor_id,_this}return _inherits(FreshUniqueTop100,_Nerv$PureComponent),_createClass(FreshUniqueTop100,[{key:"componentDidMount",value:function(){this.getAdBi(this.props.top100GoodsId,"top100GoodsBi",4)}},{key:"getAdBi",value:function(groupId,dataName,num){var _this2=this,options={floorName:"unique",groupId:groupId,elId:this.elId,dataName:dataName,cb:function(data){_this2.setState(_defineProperty({},""+dataName,data.slice(0,num)))}};pageConfig.freshModBi.getAd(options)}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){return 0===this.state.top100GoodsBi.length&&0!==nextState.top100GoodsBi.length}},{key:"render",value:function(){var _props=this.props,_props$top100Title=_props.top100Title,top100Title=void 0===_props$top100Title?[]:_props$top100Title,_props$top100Btn=_props.top100Btn,top100Btn=void 0===_props$top100Btn?[]:_props$top100Btn,_props$portal_id=_props.portal_id,portal_id=void 0===_props$portal_id?"":_props$portal_id,_props$portal_floor_i=_props.portal_floor_id,portal_floor_id=void 0===_props$portal_floor_i?"":_props$portal_floor_i,top100Title0=top100Title.length>0&&top100Title[0],goodsItems=this.state.top100GoodsBi.map(function(item,idx){var skuId=item.link.match(/item.jd.com\/(\d+).html/),nameAndG=item.name.split("++"),promoteAnddesc=item.desc.split("++");return Nerv.createElement("a",{className:"goods_item",href:item.link,target:"_blank",clstag:"channel|keycount|"+portal_id+"|goodsItems"+portal_floor_id+"_"+(idx+1)},Nerv.createElement("div",{className:"goods_item_pic"},Nerv.createElement("img",{className:"goods_item_img",width:"220",height:"220","data-lazy-img":item.pictureUrl,src:"//static.360buyimg.com/mtd/pc/cms/images/mod_1x1.png",alt:item.title,title:item.title})),Nerv.createElement("div",{"class":"goods_item_priceg"},Nerv.createElement("p",{className:"goods_item_price","data-price-id":skuId&&skuId.length>1?skuId[1]:""}),Nerv.createElement("p",{className:"goods_item_g"},nameAndG.length>1&&nameAndG[1])),Nerv.createElement("div",{className:"goods_item_info"},Nerv.createElement("p",{className:"goods_item_promote"},promoteAnddesc[0]),Nerv.createElement("i",{className:"goods_item_line"}),Nerv.createElement("p",{className:"goods_item_name"},nameAndG[0]),Nerv.createElement("p",{className:"goods_item_desc"},promoteAnddesc.length>1&&promoteAnddesc[1])))});return Nerv.createElement("div",{className:"fresh_unique_top100 fresh_top100 grid_c1"},Nerv.createElement("div",{className:"fresh_top100_head"},Nerv.createElement("div",{className:"fresh_top100_head_inner clearfix"},Nerv.createElement("h4",{className:"fresh_top100_head_title"},top100Title0&&top100Title0.NAME),Nerv.createElement("p",{className:"fresh_top100_head_subtitle"},top100Title0&&top100Title0.ANCHOR))),Nerv.createElement("div",{className:"fresh_top100_goods goods clearfix","data-price-area":this.state.top100GoodsBi.length>0?"need":"done"},goodsItems),Nerv.createElement(_fresh_unique_btn2["default"],_extends({},top100Btn[0],{clstag:"channel|keycount|"+portal_id+"|top100More"+portal_floor_id+"_1"})))}}]),FreshUniqueTop100}(Nerv.PureComponent);module.exports=FreshUniqueTop100});Nerv.Module.define("home/widget/fresh_unique_dong",["home/widget/fresh_unique_btn"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_fresh_unique_btn=require("home/widget/fresh_unique_btn"),_fresh_unique_btn2=_interopRequireDefault(_fresh_unique_btn),FreshUniqueDong=function(_Nerv$PureComponent){function FreshUniqueDong(){_classCallCheck(this,FreshUniqueDong);var _this=_possibleConstructorReturn(this,(FreshUniqueDong.__proto__||Object.getPrototypeOf(FreshUniqueDong)).apply(this,arguments));return _this.state={dongGoodsBi:[]},_this.elId="fresh_unique_"+_this.props.portal_floor_id,_this}return _inherits(FreshUniqueDong,_Nerv$PureComponent),_createClass(FreshUniqueDong,[{key:"componentDidMount",value:function(){this.getAdBi(this.props.dongGoodsId,"dongGoodsBi",2)}},{key:"getAdBi",value:function(groupId,dataName,num){var _this2=this,options={floorName:"unique",groupId:groupId,elId:this.elId,dataName:dataName,cb:function(data){_this2.setState(_defineProperty({},""+dataName,data.slice(0,num)))}};pageConfig.freshModBi.getAd(options)}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){return 0===this.state.dongGoodsBi.length&&0!==nextState.dongGoodsBi.length}},{key:"render",value:function(){var _props=this.props,_props$dongTitle=_props.dongTitle,dongTitle=void 0===_props$dongTitle?[]:_props$dongTitle,_props$dongBtn=_props.dongBtn,dongBtn=void 0===_props$dongBtn?[]:_props$dongBtn,_props$portal_id=_props.portal_id,portal_id=void 0===_props$portal_id?"":_props$portal_id,_props$portal_floor_i=_props.portal_floor_id,portal_floor_id=void 0===_props$portal_floor_i?"":_props$portal_floor_i,dongTitle0=dongTitle.length>0&&dongTitle[0],goodsItems=this.state.dongGoodsBi.map(function(item,idx){return Nerv.createElement("li",{className:"goods_item"},Nerv.createElement("a",{className:"goods_item_link",href:item.link,target:"_blank",clstag:"channel|keycount|"+portal_id+"|dongGoodsItems"+portal_floor_id+"_"+(idx+1)},Nerv.createElement("img",{className:"goods_item_img",width:"250",height:"150","data-lazy-img":item.pictureUrl,src:"//static.360buyimg.com/mtd/pc/cms/images/mod_1x1.png",alt:item.name,title:item.name}),Nerv.createElement("div",{className:"goods_item_info"},Nerv.createElement("p",{className:"goods_item_name"},item.name),Nerv.createElement("p",{className:"goods_item_desc"},item.desc),Nerv.createElement("p",{className:"goods_item_seebtn"},"去看看 >"))))});return Nerv.createElement("div",{className:"fresh_unique_dong fresh_dong"},Nerv.createElement("div",{className:"fresh_dong_head"},Nerv.createElement("h4",{className:"fresh_dong_head_title"},dongTitle0&&dongTitle0.NAME),Nerv.createElement("p",{className:"fresh_dong_head_subtitle"},Nerv.createElement("i",{className:"fresh_dong_head_subtitle_l"}),Nerv.createElement("span",{className:"fresh_dong_head_subtitle_text"},dongTitle0&&dongTitle0.ANCHOR),Nerv.createElement("i",{className:"fresh_dong_head_subtitle_r"})),Nerv.createElement(_fresh_unique_btn2["default"],_extends({},dongBtn[0],{clstag:"channel|keycount|"+portal_id+"|dongMore"+portal_floor_id+"_1"}))),Nerv.createElement("ul",{className:"fresh_dong_goods goods clearfix"},goodsItems))}}]),FreshUniqueDong}(Nerv.PureComponent);module.exports=FreshUniqueDong});Nerv.Module.define("home/widget/fresh_unique_trial",["home/widget/fresh_unique_btn"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_fresh_unique_btn=require("home/widget/fresh_unique_btn"),_fresh_unique_btn2=_interopRequireDefault(_fresh_unique_btn),_countdown=require("gb/static/countdown"),_countdown2=_interopRequireDefault(_countdown),FreshUniqueTrial=function(_Nerv$PureComponent){function FreshUniqueTrial(){_classCallCheck(this,FreshUniqueTrial);var _this=_possibleConstructorReturn(this,(FreshUniqueTrial.__proto__||Object.getPrototypeOf(FreshUniqueTrial)).apply(this,arguments));return _this.countdownRef=function(countdown){_this.countdown=countdown},_this.state={trialGoodsBi:[],applyCount:0,supplyCount:0,endTime:Date.now()},_this.elId="fresh_unique_"+_this.props.portal_floor_id,_this}return _inherits(FreshUniqueTrial,_Nerv$PureComponent),_createClass(FreshUniqueTrial,[{key:"componentDidMount",value:function(){this.getGoodsBi(this.props.trialGoodsId,"trialGoodsBi",1)}},{key:"getGoodsBi",value:function(groupId,dataName,num){var _this2=this,options={floorName:"unique",groupId:groupId,elId:this.elId,dataName:dataName,size:["300x300","150x150"],cb:function(data){_this2.setState(_defineProperty({},""+dataName,data.slice(0,num)));var actId=data[0]&&data[0].tag;actId&&_this2.getTrialDetails(actId),actId&&_this2.getApplyCount(actId)}};pageConfig.freshModBi.getGoods(options)}},{key:"getTrialDetails",value:function(actId){var _this3=this,trialDetailsAPI="//try.jd.com/details/detailsJson.action?activityId="+actId;jsonp(trialDetailsAPI,{timeout:3e3,retryTimes:2,name:"getTrialDetails"},function(err,result){return err?void _.console.log("试吃接口getTrialDetails失败: "+err):void _this3.setState({supplyCount:result.supplyCount,endTime:result.endTime})})}},{key:"getApplyCount",value:function(actId){var _this4=this,applyCountAPI="//try.jd.com/collect/applyCount.action?activityId="+actId;jsonp(applyCountAPI,{timeout:3e3,retryTimes:2,name:"getApplyCount"},function(err,result){return err?void _.console.log("试吃接口getApplyCount失败: "+err):void _this4.setState({applyCount:result})})}},{key:"render",value:function(){var _this5=this,_props=this.props,_props$trialTitle=_props.trialTitle,trialTitle=void 0===_props$trialTitle?[]:_props$trialTitle,_props$trialBtn=_props.trialBtn,trialBtn=void 0===_props$trialBtn?[]:_props$trialBtn,_props$portal_id=_props.portal_id,portal_id=void 0===_props$portal_id?"":_props$portal_id,_props$portal_floor_i=_props.portal_floor_id,portal_floor_id=void 0===_props$portal_floor_i?"":_props$portal_floor_i,goodsItems=this.state.trialGoodsBi.map(function(item,idx){return Nerv.createElement("a",{className:"goods_item",href:"//try.jd.com/"+item.tag+".html",target:"_blank",clstag:"channel|keycount|"+portal_id+"|trialGoodsItems"+portal_floor_id+"_"+(idx+1)},Nerv.createElement("div",{className:"goods_item_info"},Nerv.createElement("p",{className:"goods_item_name"},item.name),Nerv.createElement("p",{className:"goods_item_data"},"提供",Nerv.createElement("em",null,_this5.state.supplyCount),"份"),Nerv.createElement("p",{className:"goods_item_data"},"已有",Nerv.createElement("em",null,_this5.state.applyCount),"人报名"),Nerv.createElement("div",{className:"goods_item_time"},Nerv.createElement("span",{className:"goods_item_time_tit"},"剩余"),Nerv.createElement(_countdown2["default"],{ref:_this5.countdownRef,endTime:_this5.state.endTime,showTimeDeco:_this5.showTimeDeco})),Nerv.createElement("p",{className:"goods_item_btn"},"立即报名 >")),Nerv.createElement("div",{className:"goods_item_pic"},Nerv.createElement("img",{className:"goods_item_img",width:"180",height:"180",src:item.picUrl,alt:item.name,title:item.name})))});return Nerv.createElement("div",{className:"fresh_unique_trial fresh_trial grid_c1"},Nerv.createElement("div",{className:"fresh_trial_head"},Nerv.createElement("h4",{className:"fresh_mod_iconfont fresh_trial_head_title icon-fresh_unique_trial_icon"},trialTitle[0]?trialTitle[0].NAME:"0元试吃"),Nerv.createElement(_fresh_unique_btn2["default"],_extends({},trialBtn[0],{clstag:"channel|keycount|"+portal_id+"|trialMore"+portal_floor_id+"_1"}))),Nerv.createElement("div",{className:"fresh_trial_goods goods"},goodsItems))}}]),FreshUniqueTrial}(Nerv.PureComponent);module.exports=FreshUniqueTrial});Nerv.Module.define("home/widget/fresh_unique_new",["home/widget/fresh_unique_btn"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_fresh_unique_btn=require("home/widget/fresh_unique_btn"),_fresh_unique_btn2=_interopRequireDefault(_fresh_unique_btn),FreshUniqueNew=function(_Nerv$PureComponent){function FreshUniqueNew(){_classCallCheck(this,FreshUniqueNew);var _this=_possibleConstructorReturn(this,(FreshUniqueNew.__proto__||Object.getPrototypeOf(FreshUniqueNew)).apply(this,arguments));return _this.state={newGoodsBi:[]},_this.elId="fresh_unique_"+_this.props.portal_floor_id,_this}return _inherits(FreshUniqueNew,_Nerv$PureComponent),_createClass(FreshUniqueNew,[{key:"componentDidMount",value:function(){this.getGoodsBi(this.props.newGoodsId,"newGoodsBi",2)}},{key:"getGoodsBi",value:function(groupId,dataName,num){var _this2=this,options={floorName:"unique",groupId:groupId,elId:this.elId,dataName:dataName,size:["300x300","150x150"],cb:function(data){_this2.setState(_defineProperty({},""+dataName,data.slice(0,num)))}};pageConfig.freshModBi.getGoods(options)}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){return 0===this.state.newGoodsBi.length&&0!==nextState.newGoodsBi.length}},{key:"render",value:function(){var _props=this.props,_props$newTitle=_props.newTitle,newTitle=void 0===_props$newTitle?[]:_props$newTitle,_props$newText=_props.newText,newText=void 0===_props$newText?[]:_props$newText,_props$newBtn=_props.newBtn,newBtn=void 0===_props$newBtn?[]:_props$newBtn,_props$portal_id=_props.portal_id,portal_id=void 0===_props$portal_id?"":_props$portal_id,_props$portal_floor_i=_props.portal_floor_id,portal_floor_id=void 0===_props$portal_floor_i?"":_props$portal_floor_i,newText0=newText.length>0&&newText[0],goodsItems=this.state.newGoodsBi.map(function(item,idx){return Nerv.createElement("div",{className:"goods_item"},Nerv.createElement("p",{className:"goods_item_tag"},item.tag&&""!==item.tag?item.tag:"新鲜上市"),Nerv.createElement("img",{className:"goods_item_img",width:"150",height:"150","data-lazy-img":item.picUrl,src:"//static.360buyimg.com/mtd/pc/cms/images/mod_1x1.png",alt:item.name,title:item.name}))});return Nerv.createElement("div",{className:"fresh_unique_new fresh_new grid_c1"},Nerv.createElement("div",{className:"fresh_new_head"},Nerv.createElement("h4",{className:"fresh_mod_iconfont fresh_new_head_title icon-fresh_unique_new_icon"},newTitle[0]?newTitle[0].NAME:"0元试吃"),Nerv.createElement(_fresh_unique_btn2["default"],_extends({},newBtn[0],{clstag:"channel|keycount|"+portal_id+"|newMore"+portal_floor_id+"_1"}))),Nerv.createElement("div",{className:"fresh_new_body"},Nerv.createElement("a",{className:"fresh_new_text",href:newText0&&newText0.URL,target:"_blank",clstag:"channel|keycount|"+portal_id+"|newSee"+portal_floor_id+"_1"},Nerv.createElement("p",{className:"fresh_new_text_name"},newText0&&newText0.NAME),Nerv.createElement("p",{className:"fresh_new_text_desc"},newText0&&newText0.ANCHOR),Nerv.createElement("p",{className:"fresh_new_text_btn"},"查看更多 >")),Nerv.createElement("a",{className:"fresh_new_goods goods clearfix",href:newBtn[0]&&newBtn[0].URL,target:"_blank",clstag:"channel|keycount|"+portal_id+"|newGoods"+portal_floor_id+"_1"},goodsItems)),Nerv.createElement("div",{className:"fresh_new_bgr"}))}}]),FreshUniqueNew}(Nerv.PureComponent);module.exports=FreshUniqueNew});Nerv.Module.define("home/widget/fresh_unique",["home/widget/fresh_mod_head","home/widget/fresh_unique_top100","home/widget/fresh_unique_dong","home/widget/fresh_unique_trial","home/widget/fresh_unique_new"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lazyload=require("gb/static/lazyload"),_lazyload2=_interopRequireDefault(_lazyload),_fresh_mod_head=require("home/widget/fresh_mod_head"),_fresh_mod_head2=_interopRequireDefault(_fresh_mod_head),_fresh_unique_top=require("home/widget/fresh_unique_top100"),_fresh_unique_top2=_interopRequireDefault(_fresh_unique_top),_fresh_unique_dong=require("home/widget/fresh_unique_dong"),_fresh_unique_dong2=_interopRequireDefault(_fresh_unique_dong),_fresh_unique_trial=require("home/widget/fresh_unique_trial"),_fresh_unique_trial2=_interopRequireDefault(_fresh_unique_trial),_fresh_unique_new=require("home/widget/fresh_unique_new"),_fresh_unique_new2=_interopRequireDefault(_fresh_unique_new),FreshUnique=function(_Nerv$Component){function FreshUnique(){_classCallCheck(this,FreshUnique);var _this=_possibleConstructorReturn(this,(FreshUnique.__proto__||Object.getPrototypeOf(FreshUnique)).apply(this,arguments));return _this.state=_this.props.data,_this.eventCenter=new Nerv.Events,_this}return _inherits(FreshUnique,_Nerv$Component),_createClass(FreshUnique,[{key:"render",value:function(){var _state=this.state,title=_state.title,top100Title=_state.top100Title,top100Btn=_state.top100Btn,dongTitle=_state.dongTitle,dongBtn=_state.dongBtn,trialTitle=_state.trialTitle,trialBtn=_state.trialBtn,newTitle=_state.newTitle,newText=_state.newText,newBtn=_state.newBtn,portal_id=_state.portal_id,portal_floor_id=_state.portal_floor_id,adIds=_state.adIds,goodsIds=_state.goodsIds,top100GoodsId=adIds[0],dongGoodsId=adIds[1],trialGoodsId=goodsIds[0],newGoodsId=goodsIds[1];return Nerv.createElement("div",{className:"J_floor fresh_unique",id:"fresh_unique_"+portal_floor_id},Nerv.createElement(_lazyload2["default"],{height:1272,throttle:200},Nerv.createElement("div",null,Nerv.createElement("div",{className:"fresh_unique_bg"}),Nerv.createElement("div",{className:"fresh_unique_inner grid_c1"},Nerv.createElement(_fresh_mod_head2["default"],_extends({},title[0],{isColorWhite:"white"})),Nerv.createElement(_fresh_unique_top2["default"],{top100Title:top100Title,top100GoodsId:top100GoodsId,top100Btn:top100Btn,portal_id:portal_id,portal_floor_id:portal_floor_id}),Nerv.createElement("div",{className:"fresh_unique_other clearfix"},Nerv.createElement(_fresh_unique_dong2["default"],{dongTitle:dongTitle,dongBtn:dongBtn,dongGoodsId:dongGoodsId,portal_id:portal_id,portal_floor_id:portal_floor_id}),Nerv.createElement("div",{className:"fresh_unique_trialnew"},Nerv.createElement(_fresh_unique_trial2["default"],{trialTitle:trialTitle,trialBtn:trialBtn,trialGoodsId:trialGoodsId,portal_id:portal_id,portal_floor_id:portal_floor_id}),Nerv.createElement(_fresh_unique_new2["default"],{newTitle:newTitle,newText:newText,newBtn:newBtn,newGoodsId:newGoodsId,portal_id:portal_id,portal_floor_id:portal_floor_id}))),Nerv.createElement("div",{className:"fresh_unique_bgl"}),Nerv.createElement("div",{className:"fresh_unique_bgr"})))))}}]),FreshUnique}(Nerv.Component);module.exports=FreshUnique});Nerv.Module.define("home/widget/fresh_slim",["home/widget/fresh_mod_head"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lazyload=require("gb/static/lazyload"),_lazyload2=_interopRequireDefault(_lazyload),_fresh_mod_head=require("home/widget/fresh_mod_head"),_fresh_mod_head2=_interopRequireDefault(_fresh_mod_head),_tab=require("gb/static/tab"),_tab2=_interopRequireDefault(_tab),_slider=require("gb/static/slider"),_slider2=_interopRequireDefault(_slider),FreshSlim=function(_Nerv$Component){function FreshSlim(){_classCallCheck(this,FreshSlim);var _this=_possibleConstructorReturn(this,(FreshSlim.__proto__||Object.getPrototypeOf(FreshSlim)).apply(this,arguments));return _this.onTabFirstShow=function(index){_this.getGoodsBi(index),index!==_this.activeTab&&(_this.activeTab=index)},_this.sliderOptions={slidesToShow:4,slidesToScroll:4,arrows:!0,className:"fresh_slim_goods",prevArrowClassName:"",nextArrowClassName:"",easeType:"ease-in-out",infinite:!0,indicators:!1,speed:500},_this.sliderList=[],_this.state=_extends({goodsBi1:[],goodsBi2:[],goodsBi3:[],goodsBi4:[],goodsBi5:[],goodsBi6:[]},_this.props.data),_this.activeTab=0,_this.elId="fresh_slim_"+_this.state.portal_floor_id,_this.eventCenter=new Nerv.Events,_this}return _inherits(FreshSlim,_Nerv$Component),_createClass(FreshSlim,[{key:"getGoodsBi",value:function(index){var _this2=this,dataName="goodsBi"+(index+1),options={floorName:"slim",groupId:this.state.goodsIds[index],elId:this.elId,dataName:dataName,size:["300x300","150x150"],cb:function(data){_this2.setState(_defineProperty({},""+dataName,data.slice(0,12)))}};pageConfig.freshModBi.getGoods(options)}},{key:"render",value:function(){var _this3=this,_state=this.state,title=_state.title,cateHead=_state.cateHead,cateBodyTheme=_state.cateBodyTheme,portal_id=_state.portal_id,portal_floor_id=_state.portal_floor_id,goodsItemsFunc=function(index,cateBodyGoodsData){var goodsItems=cateBodyGoodsData.map(function(item,idx){return Nerv.createElement("div",{className:"goods_item"},Nerv.createElement("div",{className:"goods_item_inner"},Nerv.createElement("a",{className:"goods_item_link",href:"//item.jd.com/"+item.skuId+".html",target:"_blank",clstag:"channel|keycount|"+portal_id+"|goodsItems"+portal_floor_id+"_"+(index+1)+"_"+(idx+1),title:item.name},Nerv.createElement("img",{className:"goods_item_img",width:"150",height:"150",src:item.picUrl,alt:item.name}),Nerv.createElement("p",{className:"goods_item_name"},item.name)),Nerv.createElement("div",{className:"goods_item_row"},Nerv.createElement("p",{className:"goods_item_price"},"¥",item.pPrice),item.goodRate&&Nerv.createElement("p",{className:"goods_item_good"},"好评率",item.goodRate))))});return goodsItems},tabHeadFunc=function(item,idx){return Nerv.createElement("div",{clstag:"channel|keycount|"+portal_id+"|tabHeadItem_"+portal_floor_id+"_"+(idx+1)},item.NAME)},panelItem=cateHead.map(function(item,idx){var cateBodyGoodsData=_this3.state["goodsBi"+(idx+1)],cateBodyThemeIdxUrl=cateBodyTheme[idx].url,isLink="//"!==cateBodyThemeIdxUrl;return Nerv.createElement(_tab2["default"].Panel,{title:tabHeadFunc(item,idx)},Nerv.createElement("a",{className:"fresh_slim_theme "+(isLink?"haslink":"nolink"),href:isLink?cateBodyThemeIdxUrl:"javascript:;",target:isLink?"_blank":"_self",clstag:"channel|keycount|"+portal_id+"|fresh_slim_theme"+portal_floor_id+"_"+(idx+1)},Nerv.createElement("p",{className:"fresh_slim_theme_title"},cateBodyTheme[idx].title),Nerv.createElement("p",{className:"fresh_slim_theme_desc"},cateBodyTheme[idx].promoteText),Nerv.createElement("img",{className:"fresh_slim_theme_img",src:cateBodyTheme[idx].picUrl,alt:"",title:""})),cateBodyGoodsData&&cateBodyGoodsData.length>0&&Nerv.createElement(_slider2["default"],_extends({},_this3.sliderOptions,{ref:function(slider){return _this3.sliderList[idx]=slider}}),goodsItemsFunc(idx,cateBodyGoodsData)))});return Nerv.createElement("div",{className:"J_floor fresh_slim",id:"fresh_slim_"+portal_floor_id},Nerv.createElement(_lazyload2["default"],{height:684,throttle:200},Nerv.createElement("div",{className:"fresh_slim_inner grid_c1"},Nerv.createElement(_fresh_mod_head2["default"],title[0]),Nerv.createElement("div",{className:"fresh_slim_body"},Nerv.createElement(_tab2["default"],{className:"fresh_slim_tab",onTabFirstShow:this.onTabFirstShow,active:this.activeTab},panelItem),Nerv.createElement("div",{className:"fresh_slim_body_bg"})))))}}]),FreshSlim}(Nerv.Component);module.exports=FreshSlim});Nerv.Module.define("home/widget/fresh_category_acts",function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_slider=require("gb/static/slider"),_slider2=_interopRequireDefault(_slider),FreshCategoryActs=function(_Nerv$PureComponent){function FreshCategoryActs(){_classCallCheck(this,FreshCategoryActs);var _this=_possibleConstructorReturn(this,(FreshCategoryActs.__proto__||Object.getPrototypeOf(FreshCategoryActs)).apply(this,arguments));return _this.state={adAct:[],bigAct:[],smallAct:[]},_this.sliderOptions={slidesToShow:1,slidesToScroll:1,arrows:!0,className:"fresh_category_carousel",prevArrowClassName:"",nextArrowClassName:"",easeType:"ease-in-out",infinite:!0,indicators:!0,speed:500,autoPlay:!0,lazyLoad:!0,pauseOnHover:!0,afterChange:function(currentPage){$(window).trigger("resize")}},_this.elId=_this.props.portal_floor_id_real?"fresh_categorys_"+_this.props.portal_floor_id_real:"fresh_category_"+_this.props.portal_floor_id,_this}return _inherits(FreshCategoryActs,_Nerv$PureComponent),_createClass(FreshCategoryActs,[{key:"componentDidMount",value:function(){this.getAdAct(),this.props.bigActId&&this.getAdBi(this.props.bigActId,"bigAct"),this.props.smallActId&&this.getAdBi(this.props.smallActId,"smallAct")}},{key:"getAdAct",value:function(){var _this2=this,aid="",floorId=this.props.portal_floor_id;"6"===floorId?aid="10098":"7"===floorId?aid="10100":"8"===floorId&&(aid="10099"),""!==aid&&seajs.use(["//nfa.jd.com/loadFa_toJson.action?aid=0_0_"+aid],function(){var adAct=window.data&&window.data.adSystem&&window.data.adSystem["fresh_category"+floorId+"_act2"];adAct&&adAct.length>0&&_this2.setState({adAct:adAct})})}},{key:"getAdBi",value:function(groupId,dataName){var _this3=this,options={floorName:"category",groupId:groupId,elId:this.elId+" .fresh_category_acts",dataName:dataName,cb:function(data){_this3.setState(_defineProperty({},""+dataName,data.slice(0,1)))},isHideLift:!1};pageConfig.freshModBi.getAd(options)}},{key:"render",value:function(){var _this4=this,_props=this.props,_props$cateTitle=_props.cateTitle,cateTitle=void 0===_props$cateTitle?[]:_props$cateTitle,_props$keys=_props.keys,keys=void 0===_props$keys?[]:_props$keys,_props$more=_props.more,more=void 0===_props$more?[]:_props$more,_props$portal_id=_props.portal_id,portal_id=void 0===_props$portal_id?"":_props$portal_id,_props$portal_floor_i=_props.portal_floor_id,portal_floor_id=void 0===_props$portal_floor_i?"":_props$portal_floor_i,cateTitle0=(_props.portal_floor_id_real,cateTitle.length>0&&cateTitle[0]),more0=more.length>0&&more[0],adBigAct=this.state.adAct.length>0?this.state.adAct.concat(this.state.bigAct):this.state.bigAct,smallAct0=this.state.smallAct.length>0&&this.state.smallAct[0],keysItems=keys.map(function(item,idx){return Nerv.createElement("a",{className:"fresh_category_keys_item",href:item.URL,target:"_blank",clstag:"channel|keycount|"+portal_id+"|keysItems"+portal_floor_id+"_"+(idx+1)},item.NAME)}),carouselItem=adBigAct.map(function(item,idx){return Nerv.createElement("a",{href:item.link,target:"_blank",clstag:"channel|keycount|"+portal_id+"|carouselItem"+portal_floor_id+"_"+(idx+1)},Nerv.createElement("img",{className:"fresh_category_act2_img",width:"600",height:"300",src:item.pictureUrl,alt:item.name,title:item.name}))}),getBigAct=function(){if(adBigAct.length>0)return Nerv.createElement("div",{className:"fresh_category_act2"},adBigAct.length>1?Nerv.createElement(_slider2["default"],_this4.sliderOptions,carouselItem):Nerv.createElement("div",null,carouselItem))};return Nerv.createElement("div",{className:"fresh_category_acts clearfix"},Nerv.createElement("div",{className:"fresh_category_act1",style:"background: url("+(cateTitle0&&cateTitle0.PIC)+") 0 0 no-repeat;"},Nerv.createElement("h4",{className:"fresh_category_title"},cateTitle0&&cateTitle0.NAME),Nerv.createElement("p",{className:"fresh_category_subtitle"},cateTitle0&&cateTitle0.NAME1),Nerv.createElement("div",{className:"fresh_category_keys clearfix"},keysItems),Nerv.createElement("a",{className:"fresh_category_more",href:more0&&more0.URL,target:"_blank",clstag:"channel|keycount|"+portal_id+"|more"+portal_floor_id+"_1",style:"box-shadow: 0 6px 8px "+(cateTitle0&&cateTitle0.bgColor)},more0&&more0.NAME)),getBigAct(),smallAct0&&Nerv.createElement("a",{className:"fresh_category_act3",href:smallAct0.link,target:"_blank",clstag:"channel|keycount|"+portal_id+"|smallAct"+portal_floor_id+"_1"},Nerv.createElement("img",{className:"fresh_category_act3_img",width:"430",height:"300","data-lazy-img":smallAct0.pictureUrl,src:"//static.360buyimg.com/mtd/pc/cms/images/mod_1x1.png",alt:smallAct0.name,title:smallAct0.name})))}}]),FreshCategoryActs}(Nerv.PureComponent);module.exports=FreshCategoryActs});Nerv.Module.define("home/widget/fresh_category_goods",function(require,exports,module){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FreshCategoryGoods=function(_Nerv$PureComponent){function FreshCategoryGoods(){_classCallCheck(this,FreshCategoryGoods);var _this=_possibleConstructorReturn(this,(FreshCategoryGoods.__proto__||Object.getPrototypeOf(FreshCategoryGoods)).apply(this,arguments));return _this.state={goodsBi:[]},_this.elId=_this.props.portal_floor_id_real?"fresh_categorys_"+_this.props.portal_floor_id_real:"fresh_category_"+_this.props.portal_floor_id,_this}return _inherits(FreshCategoryGoods,_Nerv$PureComponent),_createClass(FreshCategoryGoods,[{key:"componentDidMount",value:function(){this.getGoodsBi(this.props.goodsId,"goodsBi")}},{key:"getGoodsBi",value:function(groupId,dataName){var _this2=this,options={floorName:"category",groupId:groupId,elId:this.elId+" .fresh_category_goods",dataName:dataName,size:["300x300","150x150"],cb:function(data){_this2.setState(_defineProperty({},""+dataName,data.slice(0,6)))},isHideLift:!1};pageConfig.freshModBi.getGoods(options)}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){return 0===this.state.goodsBi.length&&0!==nextState.goodsBi.length}},{key:"render",value:function(){var _props=this.props,_props$portal_id=_props.portal_id,portal_id=void 0===_props$portal_id?"":_props$portal_id,_props$portal_floor_i=_props.portal_floor_id,portal_floor_id=void 0===_props$portal_floor_i?"":_props$portal_floor_i,goodsItems=(_props.portal_floor_id_real,this.state.goodsBi.map(function(item,idx){return Nerv.createElement("div",{className:"goods_item"},Nerv.createElement("a",{className:"goods_item_link",href:"//item.jd.com/"+item.skuId+".html",target:"_blank",clstag:"channel|keycount|"+portal_id+"|goodsItems"+portal_floor_id+"_"+(idx+1)},Nerv.createElement("img",{className:"goods_item_img",width:"150",height:"150","data-lazy-img":item.picUrl,src:"//static.360buyimg.com/mtd/pc/cms/images/mod_1x1.png",alt:item.name,title:item.name}),Nerv.createElement("p",{className:"goods_item_name"},item.name)),Nerv.createElement("p",{className:"goods_item_price"},"¥",item.pPrice))}));return Nerv.createElement("div",{className:"fresh_category_goods goods clearfix"},goodsItems)}}]),FreshCategoryGoods}(Nerv.PureComponent);module.exports=FreshCategoryGoods});Nerv.Module.define("home/widget/fresh_category_brands",function(require,exports,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FreshCategoryBrands=function(_Nerv$PureComponent){function FreshCategoryBrands(){_classCallCheck(this,FreshCategoryBrands);var _this=_possibleConstructorReturn(this,(FreshCategoryBrands.__proto__||Object.getPrototypeOf(FreshCategoryBrands)).apply(this,arguments));return _this.state={},_this}return _inherits(FreshCategoryBrands,_Nerv$PureComponent),_createClass(FreshCategoryBrands,[{key:"shouldComponentUpdate",value:function(nextProps,nextState){return!1}},{key:"render",value:function(){var _props=this.props,_props$brands=_props.brands,brands=void 0===_props$brands?[]:_props$brands,_props$portal_id=_props.portal_id,portal_id=void 0===_props$portal_id?"":_props$portal_id,_props$portal_floor_i=_props.portal_floor_id,portal_floor_id=void 0===_props$portal_floor_i?"":_props$portal_floor_i,brandsItems=brands.map(function(item,idx){return Nerv.createElement("a",{className:"brands_item"+(0===idx?" first":""),href:item.url,target:"_blank",clstag:"channel|keycount|"+portal_id+"|brandsItems"+portal_floor_id+"_"+(idx+1)},Nerv.createElement("img",{className:"brands_item_img",src:item.picUrl,alt:item.title,title:item.title}))});return Nerv.createElement("div",{className:"fresh_category_brands brands clearfix"},brandsItems)}}]),FreshCategoryBrands}(Nerv.PureComponent);module.exports=FreshCategoryBrands});Nerv.Module.define("home/widget/fresh_category",["home/widget/fresh_mod_head","home/widget/fresh_category_acts","home/widget/fresh_category_goods","home/widget/fresh_category_brands"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lazyload=require("gb/static/lazyload"),_lazyload2=_interopRequireDefault(_lazyload),_fresh_mod_head=require("home/widget/fresh_mod_head"),_fresh_mod_head2=_interopRequireDefault(_fresh_mod_head),_fresh_category_acts=require("home/widget/fresh_category_acts"),_fresh_category_acts2=_interopRequireDefault(_fresh_category_acts),_fresh_category_goods=require("home/widget/fresh_category_goods"),_fresh_category_goods2=_interopRequireDefault(_fresh_category_goods),_fresh_category_brands=require("home/widget/fresh_category_brands"),_fresh_category_brands2=_interopRequireDefault(_fresh_category_brands),FreshCategory=function(_Nerv$Component){function FreshCategory(){_classCallCheck(this,FreshCategory);var _this=_possibleConstructorReturn(this,(FreshCategory.__proto__||Object.getPrototypeOf(FreshCategory)).apply(this,arguments));return _this.state=_this.props.data,_this}return _inherits(FreshCategory,_Nerv$Component),_createClass(FreshCategory,[{key:"render",value:function(){var _state=this.state,title=_state.title,cateTitle=_state.cateTitle,keys=_state.keys,more=_state.more,brands=_state.brands,portal_id=_state.portal_id,portal_floor_id=_state.portal_floor_id,adIds=_state.adIds,goodsIds=_state.goodsIds,bigActId=adIds[0],smallActId=adIds[1],goodsId=goodsIds[0],getFreshModHead=function(){return title.length>0?Nerv.createElement(_fresh_mod_head2["default"],title[0]):""};return Nerv.createElement("div",{className:(title.length>0?"J_floor":"")+" fresh_category grid_c1 clearfix fresh_category_"+portal_floor_id,id:"fresh_category_"+portal_floor_id},getFreshModHead(),Nerv.createElement(_lazyload2["default"],{height:662,throttle:200},Nerv.createElement("div",null,Nerv.createElement("div",{className:"fresh_category_body"},Nerv.createElement(_fresh_category_acts2["default"],{cateTitle:cateTitle,keys:keys,more:more,bigActId:bigActId,smallActId:smallActId,portal_id:portal_id,portal_floor_id:portal_floor_id}),Nerv.createElement(_fresh_category_goods2["default"],{goodsId:goodsId,portal_id:portal_id,portal_floor_id:portal_floor_id}),Nerv.createElement(_fresh_category_brands2["default"],{brands:brands,portal_id:portal_id,portal_floor_id:portal_floor_id})),Nerv.createElement("div",{className:"fresh_category_bgl"}),Nerv.createElement("div",{className:"fresh_category_bgr"}))))}}]),FreshCategory}(Nerv.Component);module.exports=FreshCategory});Nerv.Module.define("home/widget/fresh_categorys",["home/widget/fresh_category_acts","home/widget/fresh_category_goods","home/widget/fresh_category_brands"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lazyload=require("gb/static/lazyload"),_lazyload2=_interopRequireDefault(_lazyload),_fresh_category_acts=require("home/widget/fresh_category_acts"),_fresh_category_acts2=_interopRequireDefault(_fresh_category_acts),_fresh_category_goods=require("home/widget/fresh_category_goods"),_fresh_category_goods2=_interopRequireDefault(_fresh_category_goods),_fresh_category_brands=require("home/widget/fresh_category_brands"),_fresh_category_brands2=_interopRequireDefault(_fresh_category_brands),FreshCategorys=function(_Nerv$Component){function FreshCategorys(){_classCallCheck(this,FreshCategorys);var _this=_possibleConstructorReturn(this,(FreshCategorys.__proto__||Object.getPrototypeOf(FreshCategorys)).apply(this,arguments));return _this.state=_this.props.data,_this}return _inherits(FreshCategorys,_Nerv$Component),_createClass(FreshCategorys,[{key:"render",value:function(){var _state=this.state,title=_state.title,cateTitle=_state.cateTitle,keys=_state.keys,more=_state.more,brands=(_state.smallAct,_state.goods,_state.brands),cateTitle2=_state.cateTitle2,keys2=_state.keys2,more2=_state.more2,brands2=(_state.smallAct2,_state.goods2,_state.brands2),portal_id=_state.portal_id,portal_floor_id=_state.portal_floor_id,adIds=_state.adIds,goodsIds=_state.goodsIds,smallActId=adIds[0],smallAct2Id=adIds[1],goodsId=goodsIds[0],goods2Id=goodsIds[1];return Nerv.createElement("div",{className:(title.length>0?"J_floor":"")+" fresh_categorys grid_c1 clearfix fresh_categorys_"+portal_floor_id,id:"fresh_categorys_"+portal_floor_id},Nerv.createElement(_lazyload2["default"],{height:662,throttle:200},Nerv.createElement("div",null,Nerv.createElement("div",{className:"fresh_categorys_col one"},Nerv.createElement(_fresh_category_acts2["default"],{cateTitle:cateTitle,keys:keys,more:more,smallActId:smallActId,portal_id:portal_id,portal_floor_id:portal_floor_id}),Nerv.createElement(_fresh_category_goods2["default"],{goodsId:goodsId,portal_id:portal_id,portal_floor_id:portal_floor_id}),Nerv.createElement(_fresh_category_brands2["default"],{brands:brands,portal_id:portal_id,portal_floor_id:portal_floor_id})),Nerv.createElement("div",{className:"fresh_categorys_col two"},Nerv.createElement(_fresh_category_acts2["default"],{cateTitle:cateTitle2,keys:keys2,more:more2,smallActId:smallAct2Id,portal_id:portal_id,portal_floor_id:"_two"+portal_floor_id,portal_floor_id_real:portal_floor_id}),Nerv.createElement(_fresh_category_goods2["default"],{goodsId:goods2Id,portal_id:portal_id,portal_floor_id:"_two"+portal_floor_id,portal_floor_id_real:portal_floor_id}),Nerv.createElement(_fresh_category_brands2["default"],{brands:brands2,portal_id:portal_id,portal_floor_id:"_two"+portal_floor_id})),Nerv.createElement("div",{className:"fresh_categorys_bgr"}))))}}]),FreshCategorys}(Nerv.Component);module.exports=FreshCategorys});Nerv.Module.define("home/widget/fresh_comments",["home/widget/fresh_mod_head"],function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lazyload=require("gb/static/lazyload"),_lazyload2=_interopRequireDefault(_lazyload),_fresh_mod_head=require("home/widget/fresh_mod_head"),_fresh_mod_head2=_interopRequireDefault(_fresh_mod_head),_slider=require("gb/static/slider"),_slider2=_interopRequireDefault(_slider),FreshComments=function(_Nerv$Component){function FreshComments(){_classCallCheck(this,FreshComments);var _this=_possibleConstructorReturn(this,(FreshComments.__proto__||Object.getPrototypeOf(FreshComments)).apply(this,arguments));return _this.sliderOptions={slidesToShow:3,slidesToScroll:3,arrows:!0,className:"",prevArrowClassName:"",nextArrowClassName:"",easeType:"ease-in-out",infinite:!0,indicators:!0,speed:500,autoPlay:!0,pauseOnHover:!0},_this.state=_extends({skuCommentsObj:{}},_this.props.data),_this.eventCenter=new Nerv.Events,_this}return _inherits(FreshComments,_Nerv$Component),_createClass(FreshComments,[{key:"componentDidMount",value:function(){this.getComments()}},{key:"getApplyCount",value:function(actId){var _this2=this,applyCountAPI="//try.jd.com/collect/applyCount.action?activityId="+actId;jsonp(applyCountAPI,{timeout:3e3,retryTimes:2,name:"getApplyCount"},function(){return err?void _.console.log("试吃接口getApplyCount失败: "+err):void _this2.setState({applyCount:result})})}},{key:"getComments",value:function(actId){var _this3=this,skuIds=[];this.state.goods.map(function(item,idx){skuIds.indexOf(""+item.skuId)===-1&&skuIds.push(""+item.skuId)});var getCommentsAPI="//ai.jd.com/fast?app=Mamazhuanqu&action=getProductPageComments&callbackName=getComments&productIds="+skuIds.join("-");jsonp(getCommentsAPI,{timeout:3e3,retryTimes:2,name:"getComments"},function(err,result){if(err)return void _.console.log("批量评论接口getComments失败: "+err);if(result&&"10000"===result.ERR_CODE&&result.DATA&&result.DATA.length>0){for(var data=result.DATA,skuCommentsObj={},i=0,dataLen=data.length;i<dataLen;i++){var dataDataItem=data[i],comment=dataDataItem.comments[0];comment&&(skuCommentsObj[dataDataItem.productCommentSummary.skuId]={nickname:comment.nickname,userImage:"//"+comment.userImage,score:comment.score,content:comment.content,creationTime:comment.creationTime})}_this3.setState({skuCommentsObj:skuCommentsObj})}})}},{key:"render",value:function(){var _state=this.state,title=_state.title,goods=_state.goods,skuCommentsObj=_state.skuCommentsObj,portal_id=_state.portal_id,portal_floor_id=_state.portal_floor_id,goodsItems=goods.map(function(item,index){var skuComment=skuCommentsObj[item.skuId];return Nerv.createElement("div",{className:"goods_item position"+((index+1)%3===0?3:(index+1)%3)},Nerv.createElement("div",{className:"goods_item_inner"},Nerv.createElement("a",{className:"goods_item_link",href:item.url,target:"_blank",clstag:"channel|keycount|"+portal_id+"|goodsItems"+portal_floor_id+"_"+(index+1),title:item.title},Nerv.createElement("img",{className:"goods_item_img",width:"120",height:"120","data-lazy-img":window.pageConfig.processImageUrl(item.picUrl,"240x240","120x120"),src:"//static.360buyimg.com/mtd/pc/cms/images/mod_1x1.png",alt:item.title})),skuComment&&Nerv.createElement("div",{className:"goods_item_person"},Nerv.createElement("img",{className:"goods_item_person_avator",width:"50",height:"50","data-lazy-img":skuComment&&skuComment.userImage,src:"//static.360buyimg.com/mtd/pc/cms/images/mod_1x1.png",alt:""}),Nerv.createElement("p",{className:"goods_item_person_name"},skuComment&&skuComment.nickname)),Nerv.createElement("div",{className:"goods_item_comment"},Nerv.createElement("div",{className:"fresh_mod_iconfont goods_item_comment_star icon-fresh_comments_stars"},Nerv.createElement("i",{className:"green star"+(skuComment?skuComment.score:"5")+" icon-fresh_comments_stars"})),Nerv.createElement("p",{className:"goods_item_comment_text"},skuComment?skuComment.content:"暂无评论"),Nerv.createElement("p",{className:"goods_item_comment_time"},skuComment?skuComment.creationTime:""))))});return Nerv.createElement("div",{className:"J_floor fresh_comments",id:"fresh_comments_"+portal_floor_id},Nerv.createElement(_lazyload2["default"],{height:430,throttle:200},Nerv.createElement("div",{className:"fresh_comments_inner grid_c1"},Nerv.createElement(_fresh_mod_head2["default"],_extends({},title[0],{isColorWhite:"white"})),Nerv.createElement("div",{className:"fresh_comments_body"},Nerv.createElement(_slider2["default"],this.sliderOptions,goodsItems)))))}}]),FreshComments}(Nerv.Component);module.exports=FreshComments});var ASYNC_HASH_MAP={"home/widget/fresh_mod_head":"fresh_mod_head.min.js","home/widget/fresh_category_acts":"fresh_category_acts.min.js","home/widget/fresh_category_goods":"fresh_category_goods.min.js","home/widget/fresh_category_brands":"fresh_category_brands.min.js","home/widget/fresh_fs_menu":"fresh_fs_menu.min.js","home/widget/fresh_fs_nav":"fresh_fs_nav.min.js","home/widget/fresh_fs_carousel":"fresh_fs_carousel.min.js","home/widget/fresh_fs_side":"fresh_fs_side.min.js","home/widget/fresh_fs_bgad":"fresh_fs_bgad.min.js","gb/widget/mod_service":"mod_service.min.js","home/widget/fresh_unique_top100":"fresh_unique_top100.min.js","home/widget/fresh_unique_dong":"fresh_unique_dong.min.js","home/widget/fresh_unique_trial":"fresh_unique_trial.min.js","home/widget/fresh_unique_new":"fresh_unique_new.min.js","home/widget/fresh_unique_btn":"fresh_unique_btn.min.js"};Nerv.Module.use(["gb/static/lazymodule"],function(_lazymodule){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}window.tplVersion={};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lazymodule2=_interopRequireDefault(_lazymodule);/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)&&(window.location.href="//pro.m.jd.com/mall/active/4P9a2T9osR9JvtzHVaYTPvsecRtg/index.html"),seajs.use("report",function(Report){window.Report=Report,Report.init(733,735,734)}),pageConfig.reportFloorHideOrBackupHash={fs:1,seckill:2,slim:3,category:4,unique:5},pageConfig.processImageUrl=function(imageUrl,retina,normal){if(!imageUrl)return"";var imgResize=pageConfig.isRetina?"/s"+retina+"_jfs/":"/s"+normal+"_jfs/";return imageUrl.replace(/http(s?):/,"").replace(/\/[^\/]*?jfs\//,function(){return imgResize})},pageConfig.freshModBi={getGoods:function(_ref){var _this=this,o2Backup=_ref.o2Backup,floorName=_ref.floorName,timeout=_ref.timeout,retryTimes=_ref.retryTimes,groupId=_ref.groupId,num=_ref.num,position=_ref.position,elId=_ref.elId,size=(_ref.dataName,_ref.size),cb=_ref.cb,jsonpCallbackFunction=_ref.jsonpCallbackFunction,_ref$isHideLift=_ref.isHideLift,isHideLift=void 0===_ref$isHideLift||_ref$isHideLift,_ref$needBackup=_ref.needBackup,needBackup=void 0===_ref$needBackup||_ref$needBackup,getGoodsAPI="//ai.jd.com/General?app=Bi&action=get_sku&groupId="+groupId+(void 0!==num?"&num="+num:"")+(void 0!==position?"&position="+position:""),getGoodsBackupAPI=needBackup?["//www.3.cn/bup/index_new.php?app=Bi&action=get_sku&groupId="+groupId]:null;o2Backup&&getGoodsBackupAPI.push(o2Backup),jsonp(getGoodsAPI,{timeout:timeout||3e3,retryTimes:retryTimes||1,name:jsonpCallbackFunction||"getGoods_"+groupId,backup:void 0===num&&void 0===position?getGoodsBackupAPI:null,dataCheck:function(result){return!!(result&&0===result.ERR_CODE&&result.DATA&&result.DATA.data&&result.DATA.data[0].skuData.length>0)}},function(err,result){if(err)return _this.getGoodsOrAdFail(elId,isHideLift,floorName),void _.console.log(elId+"楼层-商品素材"+groupId+"接口失败: "+err);if(result&&0===result.ERR_CODE&&result.DATA&&result.DATA.data&&result.DATA.data[0].skuData.length>0){var data=result.DATA.data,dataLen=data.length,filterData=[];1===dataLen?filterData=_this.filterData(data[0].skuData,size):dataLen>1&&data.map(function(item,idx){var goods=_this.filterData(item.skuData,size);filterData.push({stageTime:item.stageTime,skuData:goods})}),cb&&cb(filterData)}else _this.getGoodsOrAdFail(elId,isHideLift,floorName),_.console.log(elId+"楼层-商品素材"+groupId+"数据验证不通过")})},getAd:function(_ref2){var _this2=this,o2Backup=_ref2.o2Backup,floorName=_ref2.floorName,timeout=_ref2.timeout,retryTimes=_ref2.retryTimes,groupId=_ref2.groupId,elId=_ref2.elId,cb=(_ref2.dataName,_ref2.cb),jsonpCallbackFunction=_ref2.jsonpCallbackFunction,_ref2$isHideLift=_ref2.isHideLift,isHideLift=void 0===_ref2$isHideLift||_ref2$isHideLift,_ref2$needBackup=_ref2.needBackup,needBackup=void 0===_ref2$needBackup||_ref2$needBackup,getAdAPI="//ai.jd.com/General?app=Bi&action=get_ad&groupId="+groupId,getAdBackupAPI=needBackup?["//www.3.cn/bup/index_new.php?app=Bi&action=get_ad&groupId="+groupId]:null;o2Backup&&getAdBackupAPI.push(o2Backup),jsonp(getAdAPI,{timeout:timeout||3e3,retryTimes:retryTimes||1,name:jsonpCallbackFunction||"getAd_"+groupId,backup:getAdBackupAPI,dataCheck:function(result){return!!(result&&0===result.ERR_CODE&&result.DATA&&result.DATA.adData&&result.DATA.adData.length>0)}},function(err,result){if(err)return _this2.getGoodsOrAdFail(elId,isHideLift,floorName),void _.console.log(elId+"楼层-广告素材"+groupId+"接口失败: "+err);if(result&&0===result.ERR_CODE&&result.DATA&&result.DATA.adData&&result.DATA.adData.length>0){var adData=result.DATA.adData,filterData=_this2.filterData(adData);cb&&cb(filterData)}else _this2.getGoodsOrAdFail(elId,isHideLift,floorName),_.console.log(elId+"楼层-广告素材"+groupId+"数据验证不通过")})},filterData:function(data,size){if(data&&data.length>0)for(var i=0;i<data.length;i++){var imgDomain=pageConfig.FN_GetImageDomain(i%5),dataItem=data[i];if(dataItem.pPrice&&(dataItem.pPrice=(+dataItem.pPrice).toFixed(2)),dataItem.epictureUrl&&(dataItem.epictureUrl=imgDomain+dataItem.epictureUrl.split("360buyimg.com/")[1]),size)dataItem.picUrl&&(dataItem.picUrl=imgDomain+pageConfig.processImageUrl("babel/"+dataItem.picUrl,size[0],size[1])),dataItem.pictureUrl&&(dataItem.pictureUrl=imgDomain+pageConfig.processImageUrl(dataItem.pictureUrl.split("360buyimg.com/")[1],size[0],size[1])),dataItem.image&&(dataItem.image=imgDomain+pageConfig.processImageUrl(dataItem.image.split("360buyimg.com/")[1],size[0],size[1]));else if(dataItem.pictureUrl&&(dataItem.pictureUrl=dataItem.pictureUrl.replace("http://m.360buyimg.com/",imgDomain)),dataItem.backUpPics&&dataItem.backUpPics.length>0)for(var j=0,len=dataItem.backUpPics.length;j<len;j++){var backUpPicsItem=dataItem.backUpPics[j];backUpPicsItem=backUpPicsItem.replace(/http(s?):/,"").replace("//m.360buyimg.com",imgDomain),backUpPicsItem=backUpPicsItem.replace(/!q70.jpg/,"!q90.jpg")}}return data},getGoodsOrAdFail:function(elId,isHideLift,floorName){$("#"+elId).hide(),isHideLift&&this.updateLift(elId),Report.processHidedFloor(pageConfig.reportFloorHideOrBackupHash[floorName]),Report.processBackup(pageConfig.reportFloorHideOrBackupHash[floorName])},updateLift:function(elId){for(var lifts=$(".J_floor"),liftEq=0,i=0,len=lifts.length;i<len;i++)$(lifts[i]).attr("id")===elId&&(liftEq=i);$(".J_lift").eq(liftEq).remove(),$("#"+elId).removeClass("J_floor"),window.freshLift.update($(".J_floor"))}},pageConfig.throttle=function(fn,delay){var timer=null;return function(){var context=this,args=arguments;clearTimeout(timer),timer=setTimeout(function(){fn.apply(context,args)},delay)}};var __floors__=window.__floors__||[],Index=function(_Nerv$Component){function Index(){_classCallCheck(this,Index);var _this3=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return _this3.state={},_this3}return _inherits(Index,_Nerv$Component),_createClass(Index,[{key:"componentDidMount",value:function(){this.$window=$(window),this.onWindowResize(),window.addEventListener("resize",this.onWindowResize),this.$window.bind("scroll.lift",pageConfig.throttle($.proxy(this.onWindowScroll,this),50)),this.$window.load(function(){function selectSearch(){window.search&&(window.search.cLevel="1",window.search.cid="12218")}var timer=null;timer&&clearTimeout(timer),timer=setTimeout(selectSearch,500)})}},{key:"componentUnMount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"onWindowResize",value:function(){var windowWidth=window.innerWidth;windowWidth>1190?$("html").removeClass("fresh_mod_scroll").addClass("fresh_mod_noscroll"):$("html").removeClass("fresh_mod_noscroll").addClass("fresh_mod_scroll")}},{key:"onWindowScroll",value:function(){var $lifts=$(".J_lift"),liftEq=this.findLiftEq("fresh_category_6"),$liftsEq=$lifts.eq(liftEq),liftActiveIndex=$(".J_lift.active").index(),hasActiveLift=liftActiveIndex!==-1&&liftActiveIndex!==liftEq;if(hasActiveLift)$liftsEq.removeClass("active2");else{var ifAnyoneInViewPort=this.ifAnyoneInViewPort();ifAnyoneInViewPort?$liftsEq.addClass("active2"):$liftsEq.removeClass("active2")}}},{key:"ifAnyoneInViewPort",value:function(){for(var floorIds=["fresh_category_7","fresh_category_8","fresh_categorys_9"],i=0,len=floorIds.length;i<len;i++){var $item=$("#"+floorIds[i]);if($item.length){var windowScrollTop=this.$window.scrollTop(),windowHeight=this.$window.height(),itemoffsetTop=$item.offset().top,itemHeight=$item.outerHeight();if(!(windowScrollTop>itemoffsetTop+itemHeight||windowScrollTop<itemoffsetTop-windowHeight))return!0}}return!1}},{key:"findLiftEq",value:function(elId){for(var lifts=$(".J_floor"),liftEq=0,i=0,len=lifts.length;i<len;i++)$(lifts[i]).attr("id")===elId&&(liftEq=i);return liftEq}},{key:"render",value:function(){return Nerv.createElement("div",{className:"fresh"},__floors__.map(function(floor){return Nerv.createElement(_lazymodule2["default"],{id:floor.id,modulePath:floor.path,height:floor.height,dataSource:floor.dataSource,data:floor.data})}))}}]),Index}(Nerv.Component);Nerv.render(Nerv.createElement(Index,null),document.getElementById("J_container")),Index.styleText=".fresh{display:block}",Index.version="7d4cc81d98c6758f"});