(function(f){var h=window.AmazonUIPageJS||window.P,k=h._namespace||h.attributeErrors,a=k?k("CondoAssets",""):h;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,h,k){f.when("A","Condo","CondoEvents","CondoStartup","CondoState").register("CondoAPI",function(a,f,c,e,d){function b(){var g=a.state(d.keys.STATE_KEY)[d.keys.TAKEOVER_KEY];if(!(0>=g.length)){for(var b=0;b<g.length;b++)a.$("#"+g[b]).hide();a.$("#Condo").children().show();e&&e.autosizeBottomsheet&&e.autosizeBottomsheet();
d.clearKey(d.keys.TAKEOVER_KEY)}}a.on(c.CONDO_BOTTOMSHEET_CLOSE,function(a){b()});return{restoreTakeover:b,takeOverCondoInline:function(b,c){a.$("#Condo \x3e :not(#GLOWFeature_"+b+")").hide();a.$("#"+c).show();d.appendUnique(d.keys.TAKEOVER_KEY,c);e&&e.autosizeBottomsheet&&e.autosizeBottomsheet()},storeInFeatureLocker:function(a,b,e){if(20<=b.length||20<=e.length)return"Cannot store objects larger than 20 characters in the Condo Locker";if("string"!==typeof e&&!(e instanceof String)||"string"!==typeof b&&
!(b instanceof String))return"Cannot store complex objects in the Condo Locker.";if(d.getLocker()[a]&&5<=Object.keys(d.getLocker()[a]).length)return"Your Condo Locker is full.";d.addToLocker(a,b,e)},removeItemFromLocker:function(b,e){if(0>=a.state(d.keys.LOCKER_KEY)[b].length)return"You cannot remove anything from your Condo Locker, because it is empty.";d.removeFromLocker(b,e)}}});f.when("A","Condo").register("CondoEvents",function(a,f){return{FEATURE_NOTIFY:"condoEvents:notifyCondo:featureChange",
CONDO_NOTIFY:"condoEvents:notifyPage",CONDO_MODAL_CLOSE:"a:popover:afterHide:glow-modal",CONDO_BOTTOMSHEET_CLOSE:"a:sheet:beforeHide:glux_bottom_sheet",CONDO_BOTTOMSHEET_AFTER_OPEN:"a:sheet:afterShow:glux_bottom_sheet",DESTINATION_CHANGE_NAV_MSG:"packard:glow:destinationChangeNav",DESTINATION_CHANGE_NAV_ACK_MSG:"packard:glow:destinationChangeNavAck",DESTINATION_CHANGE_ALL_MSG:"packard:glow:destinationChangeAll"}});f.when("A","Condo","CondoDeviceType").register("CondoMetrics",function(a,f,c){var e=
h.ue_pty?h.ue_pty:"NoPageType",d=c.DEVICE_TYPE;return{recordDismissalMetrics:function(){a.$.post("/gp/delivery/ajax/record-glow-metrics.html",{eventType:"GLOW_DISMISS",pageTypeEstimate:e,deviceTypeEstimate:d})}}});f.when("A","Condo","CondoEvents","CondoDeviceType","CondoStartup","CondoState").execute("CondoRefresh",function(a,f,c,e,d,b){function g(){0<=a.$.inArray("CustomerIntent",a.state(b.keys.STATE_KEY)[b.keys.EVENT_KEY])&&a.trigger(c.DESTINATION_CHANGE_NAV_MSG)}a.on(c.FEATURE_NOTIFY,function(c,
g){if(c&&g){b.appendUnique(b.keys.EVENT_KEY,g);var k={triggerFeature:c,deviceType:e.DEVICE_TYPE,pageType:h.ue_pty?h.ue_pty:"NoPageType",storeContext:f.storeContext,locker:JSON.stringify(b.getLocker())};a.ajax("/gp/glow/condo-refresh.html",{contentType:"application/amazonui-streaming-json",method:"GET",params:k,success:function(a){d&&d.autosizeBottomsheet&&d.autosizeBottomsheet()}})}});a.on(c.CONDO_MODAL_CLOSE,g);a.on(c.CONDO_BOTTOMSHEET_CLOSE,g);a.on(c.DESTINATION_CHANGE_NAV_ACK_MSG,function(){a.trigger(c.DESTINATION_CHANGE_ALL_MSG);
a.trigger(c.CONDO_NOTIFY,a.state(b.keys.STATE_KEY)[b.keys.EVENT_KEY]);b.clearKey(b.keys.EVENT_KEY)})});f.when("A","Condo").register("CondoDeviceType",function(a,f){return{DEVICE_TYPE:"desktop"}});f.register("CondoStartup",{});f.when("A","Condo").register("CondoState",function(a,f){var c={EventSet:[],Takeover:[]};a.state("CondoState",c);a.state("CondoLocker",{});return{clearState:function(){a.state.replace("CondoState",c)},clearKey:function(e){var d=a.state("CondoState");d[e]=[];a.state.replace("CondoState",
d)},appendUnique:function(e,d){var b=a.state("CondoState"),c=b[e];0>c.indexOf(d)&&(c.push(d),a.state.replace("CondoState",b))},keys:{EVENT_KEY:"EventSet",TAKEOVER_KEY:"Takeover",STATE_KEY:"CondoState",LOCKER_KEY:"CondoLocker"},addToLocker:function(e,d,b){var c=a.state("CondoLocker");c[e]||(c[e]={});c[e][d]=b;a.state.replace("CondoLocker",c)},removeFromLocker:function(c,d){var b=a.state("CondoLocker");delete b[c][d];a.state.replace("CondoLocker",b)},getLocker:function(){return a.state("CondoLocker")}}})});