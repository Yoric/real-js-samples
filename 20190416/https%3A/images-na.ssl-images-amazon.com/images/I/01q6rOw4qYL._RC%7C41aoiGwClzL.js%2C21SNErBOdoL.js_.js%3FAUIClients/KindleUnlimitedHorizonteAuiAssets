(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("AmazonMobileMASH_AUI_CordovaLib",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(f){var k=window.AmazonUIPageJS||window.P,l=k._namespace||k.attributeErrors,d=l?l("AmazonMobileMASH_AUI",""):k;d.guardFatal?d.guardFatal(f)(d,window):d.execute(function(){f(d,window)})})(function(f,k,l){f.when("mash-util","mash-impl","mash-shellbutton","mash-error-util").register("mash-interface-v11",function(d,e,c,a){return{showChooser:function(b){try{b=b||{},d.validateParameters(b,["buttonTitles","successCallback"]),d.validateFunctions(b,["successCallback","failCallback"]),b=a.wrapSuccessAndFailCallbacks("showChooser",
b),e.showChooser(b)}catch(c){a.handleError(c,"showChooser",b.failCallback)}},showAlert:function(b){try{b=b||{},d.validateParameters(b,["message","buttonTitles","successCallback"]),d.validateFunctions(b,["successCallback","failCallback"]),b=a.wrapSuccessAndFailCallbacks("showAlert",b),e.showAlert(b)}catch(c){a.handleError(c,"showAlert",b.failCallback)}},openInExternalBrowser:function(b){try{b=b||{},d.validateParameters(b,["url"]),d.validateFunctions(b,["successCallback","failCallback"]),b=a.wrapSuccessAndFailCallbacks("openInExternalBrowser",
b),e.openInExternalBrowser(b)}catch(c){a.handleError(c,"openInExternalBrowser",b.failCallback)}},share:function(b){try{b=b||{},d.validateParameters(b,["messagePlain","messagePlain160","messagePlain140","messageHTML","subject"]),d.validateFunctions(b,["successCallback","failCallback","shareServiceSelectedCallback"]),b=a.wrapSuccessAndFailCallbacks("share",b),e.share(b)}catch(c){a.handleError(c,"share",b.failCallback)}},cart:{didUpdate:function(b){try{b=b||{},d.validateParameters(b,["newCartQuantity"]),
d.validateFunctions(b,["successCallback","failCallback"]),b=a.wrapSuccessAndFailCallbacks("cart.didUpdate",b),e.cart.didUpdate(b)}catch(c){a.handleError(c,"cart.didUpdate",b.failCallback)}}},getControl:function(b){try{b=b||{};d.validateParameters(b,["controlId"]);d.validateFunctions(b,["successCallback","failCallback"]);b=a.wrapSuccessAndFailCallbacks("getControl",b);var h=d.buttonNamesToIds[b.controlId];if(e.isSupportGetControl()){var g=new c(h);"function"===typeof b.successCallback&&b.successCallback();
return g}throw"Not Supported";}catch(m){a.handleError(m,"getControl",b.failCallback)}}}});f.when("mash-util","mash-impl","mash-error-util").register("mash-interface-v12",function(d,e,c){return{showOfferListingPage:function(a){try{a=a||{};d.validateParameters(a,["asin"]);d.validateFunctions(a,["successCallback","failCallback"]);if(a.listId&&!a.listItemId||!a.listId&&a.listItemId)throw"listId and listItemId not supplied together";a=c.wrapSuccessAndFailCallbacks("showOfferListingPage",a);e.showOfferListingPage(a)}catch(b){c.handleError(b,
"showOfferListingPage",a.failCallback)}},addToWishList:function(a){try{a=a||{},d.validateParameters(a,["asin"]),d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("addToWishList",a),e.addToWishList(a)}catch(b){c.handleError(b,"addToWishList",a.failCallback)}},showImageGallery:function(a){try{a=a||{},d.validateParameters(a,["title","imageUrls"]),d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showImageGallery",a),e.showImageGallery(a)}catch(b){c.handleError(b,
"showImageGallery",a.failCallback)}},buyNowWithOneClick:function(a){try{a=a||{},d.validateParameters(a,["asin","offerId","oneClickShippingSpeed"]),d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("buyNowWithOneClick",a),e.buyNowWithOneClick(a)}catch(b){c.handleError(b,"buyNowWithOneClick",a.failCallback)}},buyNow:function(a){try{a=a||{},d.validateParameters(a,["asin","offerId"]),d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("buyNow",
a),e.buyNow(a)}catch(b){c.handleError(b,"buyNow",a.failCallback)}},navigate:function(a){try{a=a||{},a.transitionEffect=a.transitionEffect||"slide",d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("navigate",a),e.navigate(a)}catch(b){c.handleError(b,"navigate",a.failCallback)}},goBack:function(a){try{a=a||{},d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("goBack",a),e.goBack(a)}catch(b){c.handleError(b,"goBack",a.failCallback)}},
showNotificationSettings:function(a){try{a=a||{},d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showNotificationSettings",a),e.showNotificationSettings(a)}catch(b){c.handleError(b,"showNotificationSettings",a.failCallback)}},showProgressDialog:function(a){try{a=a||{},d.validateParameters(a,["dialogTitle"]),d.validateFunctions(a,["successCallback","failCallback","cancelCallback"]),a=c.wrapSuccessAndFailCallbacks("showProgressDialog",a),e.showProgressDialog(a)}catch(b){c.handleError(b,
"showProgressDialog",a.failCallback)}},hideProgressDialog:function(a){try{a=a||{},d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("hideProgressDialog",a),e.hideProgressDialog(a)}catch(b){c.handleError(b,"hideProgressDialog",a.failCallback)}},showLoginDialog:function(a){try{a=a||{},d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showLoginDialog",a),e.showLoginDialog(a)}catch(b){c.handleError(b,"showLoginDialog",a.failCallback)}}}});
f.when("mash-util","mash-impl","mash-error-util").register("mash-interface-v14",function(d,e,c){return{showContactPicker:function(a){try{a=a||{},d.validateParameters1_3(a,["fields","successCallback"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showContactPicker",a),e.showContactPicker(a)}catch(b){c.handleError(b,"showContactPicker",a.failCallback)}},showOneClickSettings:function(a){try{a=a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),
a=c.wrapSuccessAndFailCallbacks("showOneClickSettings",a),e.showOneClickSettings(a)}catch(b){c.handleError(b,"showOneClickSettings",a.failCallback)}},launchIntentURL:function(a){try{a=a||{},d.validateParameters1_3(a,["url"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("launchIntentURL",a),e.launchIntentURL(a)}catch(b){c.handleError(b,"launchIntentURL",a.failCallback)}},canLaunchIntentURL:function(a){try{a=a||{},d.validateParameters1_3(a,["url"]),d.validateFunctions1_3(a,
["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("canLaunchIntentURL",a),e.canLaunchIntentURL(a)}catch(b){c.handleError(b,"canLaunchIntentURL",a.failCallback)}},requestFullscreen:function(a){try{a=a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("requestFullscreen",a),e.requestFullscreen(a)}catch(b){c.handleError(b,"requestFullscreen",a.failCallback)}},cancelFullscreen:function(a){try{a=a||{},d.validateFunctions1_3(a,["successCallback",
"failCallback"]),a=c.wrapSuccessAndFailCallbacks("cancelFullscreen",a),e.cancelFullscreen(a)}catch(b){c.handleError(b,"cancelFullscreen",a.failCallback)}},showDeliveryDestinationPicker:function(a){try{a=a||{},d.validateParameters1_3(a,["successCallback"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showDeliveryDestinationPicker",a),e.showDeliveryDestinationPicker(a)}catch(b){c.handleError(b,"showDeliveryDestinationPicker",a.failCallback)}},showAdsPreferences:function(a){try{a=
a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showAdsPreferences",a),e.showAdsPreferences(a)}catch(b){c.handleError(b,"showAdsPreferences",a.failCallback)}},showAmazonPoints:function(a){try{a=a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showAmazonPoints",a),e.showAmazonPoints(a)}catch(b){c.handleError(b,"showAmazonPoints",a.failCallback)}}}});f.when("mash-util","mash-impl","mash-error-util").register("mash-interface-v15",
function(d,e,c){return{showBarcodeScanner:function(a){try{a=a||{},d.validateParameters1_3(a,["successCallback"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showBarcodeScanner",a),e.showBarcodeScanner(a)}catch(b){c.handleError(b,"showBarcodeScanner",a.failCallback)}},exitEmbeddedBrowser:function(a){try{a=a||{},d.validateParameters1_3(a,["successCallback"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a.method=a.method||"GET",a.postParameters=
a.postParameters||{},a=c.wrapSuccessAndFailCallbacks("exitEmbeddedBrowser",a),e.exitEmbeddedBrowser(a)}catch(b){c.handleError(b,"exitEmbeddedBrowser",a.failCallback)}},navMenu:{focusOnItem:function(a){try{a=a||{},d.validateParameters1_3(a,["id"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("navMenu.focusOnItem",a),e.navMenu.focusOnItem(a)}catch(b){c.handleError(b,"navMenu.focusOnItem",a.failCallback)}}}}});f.when("mash-util","mash-impl","mash-error-util").register("mash-interface-v16",
function(d,e,c){return{showAdsBrowser:function(a){try{a=a||{},d.validateParameters1_3(a,["targetURL"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showAdsBrowser",a),e.showAdsBrowser(a)}catch(b){c.handleError(b,"showAdsBrowser",a.failCallback)}},aiv:{whisperCache:function(a){try{a=a||{},d.validateParameters1_3(a,["asins"]),a=c.wrapSuccessAndFailCallbacks("aiv.whisperCache",a),e.aiv.whisperCache(a)}catch(b){c.handleError(b,"aiv.whisperCache",a.failCallback)}},
isPlaybackSustainable:function(a){try{a=a||{},d.validateParameters1_3(a,["successCallback"]),d.validateFunctions1_3(a,["successCallback"]),a=c.wrapSuccessAndFailCallbacks("aiv.isPlaybackSustainable",a),e.aiv.isPlaybackSustainable(a)}catch(b){c.handleError(b,"aiv.isPlaybackSustainable",a.failCallback)}},startPlayback:function(a){try{a=a||{},d.validateParameters1_3(a,["asin","timecode"]),a=c.wrapSuccessAndFailCallbacks("aiv.startPlayback",a),e.aiv.startPlayback(a)}catch(b){c.handleError(b,"aiv.startPlayback",
a.failCallback)}},startTrailer:function(a){try{a=a||{},d.validateParameters1_3(a,["asin"]),a=c.wrapSuccessAndFailCallbacks("aiv.startTrailer",a),e.aiv.startTrailer(a)}catch(b){c.handleError(b,"aiv.startTrailer",a.failCallback)}}},enforceParentalControlsForPurchase:function(a){try{a=a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("enforceParentalControlsForPurchase",a),e.enforceParentalControlsForPurchase(a)}catch(b){c.handleError(b,"enforceParentalControlsForPurchase",
a.failCallback)}},onEvent:function(a){try{a=a||{},d.validateParameters1_3(a,["event","time"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("onEvent",a),e.onEvent(a)}catch(b){c.handleError(b,"onEvent",a.failCallback)}},showImmersiveGallery:function(a){try{a=a||{},d.validateParameters1_3(a,["medias"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showImmersiveGallery",a),e.showImmersiveGallery(a)}catch(b){c.handleError(b,
"showImmersiveGallery",a.failCallback)}},setPeekImages:function(a){try{a=a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("setPeekImages",a),e.setPeekImages(a)}catch(b){c.handleError(b,"setPeekImages",a.failCallback)}}}});f.when("mash-util","mash-impl","mash-error-util").register("mash-interface-v17",function(d,e,c){return{showCardScanner:function(a){try{a=a||{},d.validateParameters1_3(a,["cardTypes","successCallback"]),d.validateFunctions1_3(a,["successCallback",
"failCallback"]),a=c.wrapSuccessAndFailCallbacks("showCardScanner",a),e.showCardScanner(a)}catch(b){c.handleError(b,"showCardScanner",a.failCallback)}},showShopByDepartment:function(a){try{a=a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showShopByDepartment",a),e.showShopByDepartment(a)}catch(b){c.handleError(b,"showShopByDepartment",a.failCallback)}},logout:function(a){try{a=a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),a=
c.wrapSuccessAndFailCallbacks("logout",a),e.logout(a)}catch(b){c.handleError(b,"logout",a.failCallback)}},showRecommendations:function(a){try{a=a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showRecommendations",a),e.showRecommendations(a)}catch(b){c.handleError(b,"showRecommendations",a.failCallback)}},showYourAccount:function(a){try{a=a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("showYourAccount",
a),e.showYourAccount(a)}catch(b){c.handleError(b,"showYourAccount",a.failCallback)}}}});f.when("mash-util","mash-impl","mash-error-util").register("mash-interface-v19",function(d,e,c){return{video:{playVideo:function(a){try{a=a||{},d.validateParameters1_3(a,["videoUrl"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("video.playVideo",a),e.video.playVideo(a)}catch(b){c.handleError(b,"video.playVideo",a.failCallback)}},canPlayHTML5Video:function(a){try{a=
a||{},d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("video.canPlayHTML5Video",a),e.video.canPlayHTML5Video(a)}catch(b){c.handleError(b,"video.canPlayHTML5Video",a.failCallback)}}}}});f.when("mash-util","mash-impl","mash-error-util").register("mash-interface-v110",function(d,e,c){return{showEmbeddedBrowser:function(a){try{a=a||{},d.validateParameters1_3(a,["targetURL","successCallback"]),d.validateFunctions1_3(a,["doneButtonCallback","successCallback",
"failCallback"]),a.method=a.method||"GET",a.postParameters=a.postParameters||{},a.showAmazonLogo=a.showAmazonLogo||!1,a.showRefreshButton=d.validateBool1_3(a.showRefreshButton,!0),a.showActionButton=a.showActionButton||!1,a=c.wrapSuccessAndFailCallbacks("showEmbeddedBrowser",a),e.showEmbeddedBrowser(a)}catch(b){console.log(JSON.stringify(b,null,"  ")),c.handleError(b,"showEmbeddedBrowser",a.failCallback)}}}});f.when("mash-util","mash-impl","mash-error-util").register("mash-interface-v111",function(d,
e,c){return{openFileChooser:function(a){try{a=a||{},d.validateParameters1_3(a,["mimeType","successCallback"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a.duration=a.duration||0,a.maxSize=a.maxSize||0,a.capture=a.capture||!1,a=c.wrapSuccessAndFailCallbacks("openFileChooser",a),e.openFileChooser(a)}catch(b){c.handleError(b,"openFileChooser",a.failCallback)}}}});f.when("mash-util","mash-impl","mash-error-util").register("mash-interface-private",function(d,e,c){return{privateAPI:{getPushNotificationInfo:function(a){try{a=
a||{},d.validateParameters1_3(a,["successCallback"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("getPushNotificationInfo",a),e.privateAPI.getPushNotificationInfo(a)}catch(b){c.handleError(b,"getPushNotificationInfo",a.failCallback)}}}}});f.when("mash-util","mash-impl","mash-error-util").register("mash-interface-events",function(d,e,c){return{addEventListener:function(a,b){try{var h={eventName:a,handler:b};d.validateParameters1_3(h,["eventName"]);d.validateFunctions1_3(h,
["handler"]);e.addEventListener(a,b)}catch(g){throw c.handleError(g,"addEventListener"),g;}},removeEventListener:function(a,b){try{var h={eventName:a,handler:b};d.validateParameters1_3(h,["eventName"]);d.validateFunctions1_3(h,["handler"]);e.removeEventListener(a,b)}catch(g){throw c.handleError(g,"removeEventListener"),g;}},dispatchEvent:function(a){try{a=a||{},d.validateParameters1_3(a,["type"]),e.dispatchEvent(a)}catch(b){throw c.handleError(b,"dispatchEvent"),b;}}}});f.register("mash-error",function(){var d=
function(a){this.code=a};d.PERMISSION_DENIED=1001;d.TIMEOUT=1002;d.NOT_SUPPORTED=1003;d.OUT_OF_MEM=1004;d.UNKNOWN=1005;d.USER_CANCELLED=1006;d.USER_CANCELED=d.USER_CANCELLED;d.INVALID_ARGUMENTS=1007;d.OPERATION_IN_PROGRESS=1008;var e=function(a){this.code=a};e.INTENT_NOT_FOUND=1;var c=function(a){this.code=a};c.CANNOT_OPEN_CAMERA=1;var a=function(a){this.code=a};a.CANNOT_OPEN_CAMERA=1;a.INVALID_CARD_TYPE=2;a.NO_SUPPORTED_CARD_TYPES=3;var b=function(a){this.code=a};b.NOT_LOGGED_IN=1;var h=function(a){this.code=
a};h.NO_VIDEO_PLAYER_FOUND=1;var g=function(a){this.code=a};g.CANNOT_OPEN_CAPTURE_MECHANISM=1;g.FILE_SIZE_EXCEEDED=2;g.FILE_NOT_FOUND=3;g.MIME_TYPE_NOT_SUPPORTED=4;return{Error:d,LaunchIntentURLError:e,BarcodeScanError:c,CardScannerError:a,LogoutError:b,VideoError:h,OpenFileChooserError:g}});f.when("mash-error").register("mash-error-util",function(d){function e(a){for(var c in d)if(d.hasOwnProperty(c)&&!a(c,d[c]))break}function c(a){a=a||{};var c,g=a.error_type;g&&g in d&&(g=d[g],"string"===typeof a.code&&
a.code in g&&(c=new g(g[a.code])));!c&&"object"===typeof a&&a&&e(function(d,e){"string"===typeof a.code&&a.code in e?c=new e(e[a.code]):a.constructor===e&&a.code&&(c=a);return!c});return c||new d.Error(d.Error.UNKNOWN)}function a(a,c){c=c||{};var d=c.successCallback,e=c.failCallback;c.successCallback=function(){"function"===typeof d&&d.apply(this,arguments)};c.failCallback=function(a){"function"===typeof e&&e.apply(this,arguments)};c.successCallback.monitorWrapper=c.failCallback.monitorWrapper=!0;
return c}return{forEachErrorType:e,resolveError:c,errorName:function(a){a=c(a);var d;e(function(c,e){if(a.constructor!==e)return!0;for(var f in e)e.hasOwnProperty(f)&&e[f]===a.code&&(d=[c,f].join("."));return!d});return d||"Error.UNKNOWN"},handleError:function(b,d,e){console.error("Error during MASH call: "+(JSON.stringify(b)||b.toString()));var f={failCallback:e};"function"===typeof e&&e.monitorWrapper||(f=a(d,f));f.failCallback.apply(f.failCallback,[c(b)])},wrapSuccessAndFailCallbacks:a}});f.when("mash-util",
"mash-impl","mash-error-util").register("mash-shellbutton",function(d,e,c){function a(a){if(void 0===a)throw"Element with the given ControlId could not be found.";this.buttonId=a}a.prototype.show=function(a){try{a=a||{},d.validateParameters(a,["text","tapCallback"]),d.validateFunctions(a,["successCallback","failCallback","tapCallback"]),a.isEnabled=d.validateBool(a.isEnabled,!0),a.isAnimated=d.validateBool(a.isAnimated,!0),a.buttonId=this.buttonId,a=c.wrapSuccessAndFailCallbacks("ShellButton.show",
a),e.shellbutton.show(a)}catch(h){c.handleError(h,"ShellButton.show",a.failCallback)}};a.prototype.hide=function(a){try{a=a||{},d.validateFunctions(a,["successCallback","failCallback"]),a.isAnimated=d.validateBool(a.isAnimated,!0),a.buttonId=this.buttonId,a=c.wrapSuccessAndFailCallbacks("ShellButton.hide",a),e.shellbutton.hide(a)}catch(h){c.handleError(h,"ShellButton.hide",a.failCallback)}};a.prototype.setText=function(a){try{a=a||{},d.validateParameters(a,["text"]),d.validateFunctions(a,["successCallback",
"failCallback"]),a.buttonId=this.buttonId,a=c.wrapSuccessAndFailCallbacks("ShellButton.setText",a),e.shellbutton.setText(a)}catch(h){c.handleError(h,"ShellButton.setText",a.failCallback)}};a.prototype.setEnabled=function(a){try{a=a||{},d.validateParameters(a,["isEnabled"]),d.validateFunctions(a,["successCallback","failCallback"]),d.validateBool(a.isEnabled),a.buttonId=this.buttonId,a=c.wrapSuccessAndFailCallbacks("ShellButton.setEnabled",a),e.shellbutton.setEnabled(a)}catch(h){c.handleError(h,"ShellButton.setEnabled",
a.failCallback)}};a.prototype.setTapCallback=function(a){try{a=a||{},d.validateParameters(a,["tapCallback"]),d.validateFunctions(a,["successCallback","failCallback","tapCallback"]),a.buttonId=this.buttonId,a=c.wrapSuccessAndFailCallbacks("ShellButton.setTapCallback",a),e.shellbutton.setTapCallback(a)}catch(h){c.handleError(h,"ShellButton.setTapCallback",a.failCallback)}};return a});f.when("mash-util","mash-impl","mash-error-util").register("mash-user",function(d,e,c){return{user:{changedPrimeStatus:function(a){try{a=
a||{},d.validateParameters1_3(a,["primeStatus"]),d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("user.changedPrimeStatus",a),e.user.changedPrimeStatus(a)}catch(b){c.handleError(b,"user.changedPrimeStatus",a.failCallback)}},PrimeStatus:{NONE:1,PRIME:2},changedSmileStatus:function(a){try{a=a||{},d.validateParameters1_3(a,["userHasSmile"]),d.validateFunctions(a,["successCallback","failCallback"]),a=c.wrapSuccessAndFailCallbacks("user.changedSmileStatus",a),
e.user.changedSmileStatus(a)}catch(b){c.handleError(b,"user.changedPrimeStatus",a.failCallback)}}}}});f.when("mash-util","mash-impl","mash-error-util").register("mash-actionbar",function(d,e,c){return{actionBar:{setMode:function(a){try{a=a||{},d.validateParameters1_3(a,["modeId"]),d.validateFunctions1_3(a,["successCallback","failCallback"]),e.actionBar.setMode(a)}catch(b){c.handleError(b,"actionBar.setMode",a.failCallback)}}}}});f.register("mash-interface-combiner",function(){return function(){for(var d=
{},e=0;e<arguments.length;e++){var c=arguments[e],a;for(a in c)c.hasOwnProperty(a)&&(d[a]=c[a])}return d}});f.when("mash-error").register("mash-util",function(d){function e(){}e.prototype={buttonNamesToIds:{navButtonLeft:0,navButtonRight:1},validateParameters:function(c,a){for(var b=0;b<a.length;++b){var d=a[b];if(void 0===c[d]||null===c[d])throw"Invalid or missing parameter: "+d;}},validateParameters1_3:function(c,a){try{this.validateParameters(c,a)}catch(b){throw new d.Error(d.Error.INVALID_ARGUMENTS);
}},validateFunctions:function(c,a){for(var b=0;b<a.length;++b){var d=a[b];if(void 0!==c[d]&&null!==c[d]&&"function"!==typeof c[d])throw"Invalid function value for parameter: "+d;}},validateFunctions1_3:function(c,a){try{this.validateFunctions(c,a)}catch(b){throw new d.Error(d.Error.INVALID_ARGUMENTS);}},validateBool:function(c,a){void 0===c&&(c=a);0===c?c=!1:1===c&&(c=!0);if(!0!==c&&!1!==c)throw"Type mismatch";return c},validateBool1_3:function(c,a){try{return this.validateBool(c,a)}catch(b){throw new d.Error(d.Error.INVALID_ARGUMENTS);
}}};return new e});f.register("mash-amazon",function(){k.amazon=k.amazon||{};k.app=k.app||{};"willReappear"in k.app||(k.app.willReappear=function(){});return k.amazon});f.when("mash-interface-combiner","mash-interface-v11","mash-interface-v12","mash-interface-v14","mash-interface-v15","mash-interface-v16","mash-interface-v17","mash-interface-v19","mash-interface-v110","mash-interface-v111","mash-interface-private","mash-user","mash-actionbar","mash-error","mash-navstack","mash-interface-events").register("mash-interface",
function(){var d=Array.prototype.slice.call(arguments),e=d.shift();return e.apply(e,d)});f.when("jQuery").register("mash-nav-http-request",function(d){function e(a,b,c){this.url=a;this.method=b||"GET";this.parameters=c||{};return this}function c(a){a=a||{};return e.apply(this,[a.url,a.method,a.parameters])}function a(a){var b={url:a.attr("action"),method:a.attr("method"),parameters:{}};a.serialize().split("\x26").forEach(function(a,c,d){a=a.split("\x3d");b.parameters[a[0]]=a[1]});return c.call(this,
b)}function b(){var h="string"===typeof arguments[0]?e:arguments[0]instanceof d?a:c,g=this;g instanceof b||(g=Object.create(b.prototype));return h.apply(g,arguments)}b.prototype.throwUnlessValid=function(){if("string"!==typeof this.url||""===this.url)throw Error("Invalid URL for navstack operation");};return b});f.when("mash-nav-http-request","mash-util","mash-impl","mash-error-util").register("mash-nav-stack-sequence",function(d,e,c,a){function b(){this.operations=[]}b.prototype={forward:function(a){var b=
d.apply(null,arguments);b.throwUnlessValid();b.op="forward";b.transitionEffect=a.transitionEffect;b.blockUserInteraction=a.blockUserInteraction;this.operations.push(b);return this},replace:function(a){var b=d.apply(null,arguments);b.throwUnlessValid();b.op="replace";this.operations.push(b);return this},modalClose:function(){this.operations.push({op:"modalClose"});return this},modalOpen:function(){var a=d.apply(null,arguments);a.throwUnlessValid();a.op="modalOpen";this.operations.push(a);return this},
back:function(a){a=void 0!==a?a:1;if("number"!==typeof a||1>a)throw Error("invalid arguments");this.operations.push({op:"back",backAmount:a});return this},backToBookmark:function(a){if("string"!==typeof a)throw Error("invalid arguments");this.operations.push({op:"backToBookmark",bookmark:a});return this},backToModalRoot:function(){this.operations.push({op:"backToModalRoot"});return this},end:function(b){try{return b=b||{},b.operations=this.operations,b=a.wrapSuccessAndFailCallbacks("navstack.NavigationStackSequence.end",
b),c.performNavigationStackSequence(b)}catch(d){a.handleError(d,"navstack.NavigationStackSequence.end",b.failCallback)}}};(function(){function a(b,d){return function(){var a=this.operations.length?this.operations[this.operations.length-1].op:"begin";if(!c[a][b])throw Error(b+" is not allowed after "+a+" in the NavigationStackSequence");return d.apply(this,arguments)}}var c={begin:{forward:1,modalOpen:1,modalClose:1,back:1,backToModalRoot:1,backToBookmark:1,replace:1},modalClose:{back:1,backToModalRoot:1,
backToBookmark:1,forward:1,replace:1,end:1}};c.forward=c.replace=c.modalOpen={end:1};c.back=c.backToModalRoot=c.backToBookmark={forward:1,replace:1,end:1};var d=b.prototype,e;for(e in d)d.hasOwnProperty(e)&&"function"===typeof d[e]&&(d[e]=a(e,d[e]))})();return b});f.when("mash-nav-stack-sequence","mash-util","mash-impl","mash-error-util").register("mash-navstack",function(d,e,c,a){return{navstack:{begin:function(){return new d},setBookmark:function(b){try{b=b||{},e.validateParameters1_3(b,["bookmark"]),
e.validateFunctions1_3(b,["successCallback","failCallback"]),b=a.wrapSuccessAndFailCallbacks("navstack.setBookmark",b),c.setBookmark(b)}catch(d){a.handleError(d,"navstack.setBookmark",b.failCallback)}},pageIsReadyToDisplay:function(b){try{b=b||{},e.validateFunctions1_3(b,["successCallback","failCallback"]),b=a.wrapSuccessAndFailCallbacks("navstack.pageIsReadyToDisplay",b),c.pageIsReadyToDisplay(b)}catch(d){a.handleError(d,"navstack.pageIsReadyToDisplay",b.failCallback)}},clearHistory:function(b){try{b=
b||{},e.validateFunctions1_3(b,["successCallback","failCallback"]),b=a.wrapSuccessAndFailCallbacks("navstack.clearHistory",b),c.clearHistory(b)}catch(d){a.handleError(d,"navstack.setBookmark",b.failCallback)}}}}})});
/* ******** */
(function(l){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,m=p?p("KindleUnlimitedHorizonteAuiAssets",""):d;m.guardFatal?m.guardFatal(l)(m,window):m.execute(function(){l(m,window)})})(function(l,d,p){var m;l.when("jQuery").execute(function(a){m=function(b){a.ajax({type:"GET",contentType:!1,url:"/kindle-dbs/hz/ajax/logRefTag?ref\x3d"+b,datatype:"text",timeout:1E4})}});l.when("jQuery","A","a-carousel-framework","3p-promise","ready").execute("popover-carousel-element",function(a,
b,k,e){function f(b,e){var g=a(b).parents(".dbs-widget"),c=g.find("#moreInfoContent"),f=g.find("#moreInfoSpinnerContainer"),t=g.find("#moreInfoSpinnerContainer .Spinner"),d=g[0].classList.contains("moreinfo-widget-active"),k=a(b).attr("data-asin");u=k;(d=g[0].classList.contains("moreinfo-widget-active-"+k))?(g.find(".moreinfo-widget-container").css(v),g.toggleClass("moreinfo-widget-active-"+k,!d)):(h(t,f,c),a.ajax({type:"POST",contentType:"application/json",url:x.moreInfoAjaxEndpoint+k,dataType:"html",
timeout:1E5,success:function(a){c.empty();a?(c.append(a),l(b,e)):console.log("Request succeeded, but error fetching asin information");n(t,f,c)},error:function(a){console.log("Request failed; error fetching asin information");console.log("ErrorMsg: "+a);n(t,f,c)}}))}function n(a,b,c){a.addClass("moreInfoSpinnerHide");b.removeClass("moreInfoSpinnerContainerShow");b.addClass("aok-hidden moreInfoSpinnerContainerHide");c.removeClass("aok-hidden")}function h(a,b,c){c.addClass("aok-hidden");b.removeClass("aok-hidden moreInfoSpinnerContainerHide");
b.addClass("moreInfoSpinnerContainerShow");a.removeClass("moreInfoSpinnerHide")}function c(){return new e(function(a){d.requestAnimationFrame(a)})}function t(a){return a.width()/2+a.offset().left-5}function l(f,h){var g=a(f).parents(".dbs-widget"),d=k.getCarousel(f),n=b.$(h.currentTarget),y=g.find(".moreinfo-widget-container"),q=a(f).attr("data-asin");u=q;var r=g[0].classList.contains("moreinfo-widget-active-"+q);d&&0!==y.length&&(r=g[0].classList.contains("moreinfo-widget-active"),e.resolve().then(function(){if(!r)return y.css({display:"block"}),
g.parent().css("height","auto"),c()}).then(function(){var a=b.$(".moreinfo-widget-active-"+p).not(a).not(g);a.find(".moreinfo-widget-container").css(v);a.removeClass("moreinfo-widget-active-"+p);var e=b.$(".moreinfo-widget-active-"+q).not(e).not(g);e.find(".moreinfo-widget-container").css(v);e.removeClass("moreinfo-widget-active-"+q);p=q;return c()}).then(function(){y.css({height:g.find(".moreinfo-widget")[0].offsetHeight+"px"});var b=Math.min.apply(null,a(g).siblings().map(function(){return a(this).height()}).get());
a(".moreinfo-widget-arrow").css({left:t(n)+"px"});a(".moreinfo-widget").css("top",b+"px");g.parent().css("overflow-y","hidden");g.toggleClass("moreinfo-widget-active-"+q,!r)}).then(function(){r||void 0===x.moreInfoExpandedRefTag||m(x.moreInfoExpandedRefTag)}).then(function(){if(!r){g.focus();var b;b=g.offset().top;var c=b+g.outerHeight(),e=w.scrollTop()+w.height(),f=w.scrollTop(),h=a("#stickyFooterCollapsed").innerHeight();b=c>e?c+h-e:f>b?b-f:0;0!==b&&w[0].scrollBy(0,b)}}))}var w=b.$(d),x=b.state("moreInfoData")||
{},v={display:"none",height:0},p,u;b.$(".carouselElementItem .dbs-shoveler-card-url").click(function(a){a.preventDefault();d.innerHeight<d.innerWidth?d.location.assign(this):f(this,a)});b.on.orientationchange(function(c){d.innerHeight<d.innerWidth&&0<a("#moreInfoContent").length&&(c=b.$(".moreinfo-widget-active-"+u),c.find(".moreinfo-widget-container").css(v),c.toggleClass("moreinfo-widget-active-"+u,!1))})});l.when("A","a-popover","jQuery").execute(function(a,b,k){function e(e){a.on("a:popover:beforeShow",
function(c){b=c.popover;f=b.name;var e=a.$(d),h=b.$trigger.find(".moreinfoPopover");c=h.offset().top-30;var h=h.offset().top+h.outerHeight(),k=e.scrollTop()+e.height(),e=e.scrollTop();h>k||e>c?b.update({position:"triggerVertical"}):h<k&&e<c&&b.update({position:"triggerHorizontal"})})}var f,n=a.state("moreInfoData")||{};a.on("a:popover:afterShow",function(a){void 0!==n.moreInfoExpandedRefTag&&m(n.moreInfoExpandedRefTag)});a.$(".moreinfoPopover").click(function(a){var c=a.currentTarget.className.split(" ").filter(function(a){if(a.includes("popoverName"))return a})[0];
(n.isTablet||n.isTOS)&&a.preventDefault();void 0!==f&&f===c?(b.hide(),f=""):f=c;e(a)});a.$(".moreinfoPopover").hover(function(a){a.preventDefault();e(a)})});"use strict";l.when("A","a-carousel-framework","jQuery").execute("kindle-unlimited-rotating-carousel",function(a,b,k){if(1<k("#rotating-carousel .carouselWidget").length)b.onInit("carousel-rotation",function(b){var f=function(){b.gotoNextPage()},d=a.state("carouselAttributes")||{},h=void 0!==d.interval?d.interval:8E3,c=a.interval(f,h);k(".rotatingCarousel").click(function(){clearInterval(c);
c=a.interval(f,h)});a.on("a:carousel:carousel-rotation:change:pageNumber",function(){clearInterval(c);c=a.interval(f,h)})})});"use strict";l.when("A").execute(function(a){a.declarative("cancelButton","click",function(a){d.history.back()})});"use strict";l.when("A","jQuery","a-button").execute("signupPage-function",function(a,b,d){b(".subscribeForm").submit(function(a){a=d(".subscribeButton");a.isEnabled()&&a.disable()})});"use strict";l.when("jQuery","A","ready").execute(function(a,b){b=b.state("csrfData")||
{};b=void 0!==b.csrfToken?b.csrfToken:void 0;var k=function(b){a.ajaxSetup({headers:{"X-CSRFToken":b}})};void 0!==b&&k(b);d.setInterval(function(){a.ajax({type:"POST",contentType:!1,url:"/kindle-dbs/hz/ajax/fetchCsrf",datatype:"text",timeout:1E4,success:function(a){k(a)}})},6E5)});"use strict";l.when("jQuery","A","ready").execute(function(a,b){var d=function(){var b=a(".cancelCarouselContainer .asinImageContainer");if(0!==b.length){for(var d=0,k=0,h=0,c=a(".cancelCarouselContainer img"),l=0;l<c.length;l++)c[l].complete&&
d++;var m=function(){b.each(function(){h=Math.max(h,a(this).height())}).each(function(){var b=h-a(this).height();a(this).css("margin-top",b+"px")});var c=a(".shelfBookOptions").first().outerHeight(!0),c=b.first().outerHeight(!0)+c;a("#cancelWidgetContainer .a-carousel-viewport, #cancelWidgetContainer .a-carousel-right, #cancelWidgetContainer .a-carousel-left").css("height",c+"px")};d===b.length?m():c.load(function(){k++;d+k===b.length&&m()})}};b.on("ready",function(){0<a("#cancelWidgetContainer").length&&
(0===a(".cancelCarouselContainer").length?(a("#cancelCarouselHeading").addClass("aok-hidden"),a("#carouselContent").removeClass("a-spacing-base a-spacing-top-base")):(d(),a("#cancelCarouselHeading").removeClass("aok-hidden")))})})});
/* ******** */
