(function(g){var h=window.AmazonUIPageJS||window.P,k=h._namespace||h.attributeErrors,f=k?k("ShareWidgetTriggerAssets",""):h;f.guardFatal?f.guardFatal(g)(f,window):f.execute(function(){g(f,window)})})(function(g,h,k){g.when("A","socialShareUtil").register("tafShareOnNetwork",function(f,c){return{share:function(f,e){var d={facebook:{shareEndpoint:"https://www.facebook.com/dialog/share",params:function(a){return{href:c.decodeEntities(a.url),display:"popup",quote:a.quote?c.decodeEntities(a.quote):"",
app_id:"164734381262"}},ref:"fb",height:450,width:700,isWebShare:!0},pinterest:{shareEndpoint:"https://www.pinterest.com/pin/create/button",params:function(a){return{url:c.decodeEntities(a.url),media:c.decodeEntities(a.image),description:c.decodeEntities(a.description)}},ref:"pi",height:620,width:700,isWebShare:!0},line:{shareEndpoint:"https://lineit.line.me/share/ui",params:function(a){return{url:c.decodeEntities(a.url),text:c.decodeEntities(a.title)+"\n"+c.decodeEntities(a.description)}},ref:"li",
height:620,width:700,isWebShare:!0},twitter:{shareEndpoint:"https://twitter.com/intent/tweet",params:function(a){var b=c.decodeEntities(a.title);a=c.decodeEntities(a.url);if(b){var d=b.length,e=a?Math.min(a.length,20):-1;200<d+e+1&&(b=b.substring(0,200-(e+1+3))+"...")}return{text:b,url:a}},ref:"tw",height:470,width:670,isWebShare:!0},email:{shareEndpoint:"mailto:",params:function(a){return{subject:c.decodeEntities(a.title),body:c.decodeEntities(a.description)+"\n"+c.decodeEntities(a.url)}},ref:"em",
isWebShare:!1},sms:{shareEndpoint:"sms:",params:function(a){return{body:c.decodeEntities(a.title)+" "+c.decodeEntities(a.url)}},ref:"sm",isWebShare:!1},whatsapp:{shareEndpoint:"whatsapp://send",params:function(a){return{text:c.decodeEntities(a.title)+"\n"+c.decodeEntities(a.description)+"\n"+c.decodeEntities(a.url)}},ref:"wa",isWebShare:!1}}[e];if("undefined"===typeof d)c.logFatal("Unsupported network:"+e,f.clientRef);else{var b=c.generateReftags(f,d.ref);f.url=c.updateReftagParam(f.url,b.returnReftag);
c.logReftag(b.clickReftag);b=c.buildUrl(d.shareEndpoint,d.params(f),f.devicename);c.triggerShare(b,d.isWebShare,d.width,d.height)}}}});g.when("A","tafShareOnNetwork","socialShareUtil","ready").execute(function(f,c,g){f.declarative("swf-share-network","click",function(e){e=e.data;var d=e.pageStateId,b=f.state(d);"undefined"===typeof b?g.logFatal("Page state:"+d+" undefined"):c.share(b,e.network)})});"use strict";g.when("A").register("socialShareUtil",function(f){function c(){for(var e="",d=0;13>d;d++)e+=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}function k(e){return"undefined"!==typeof e.pageLevelStateKey?f.state(e.pageLevelStateKey):e.pageLevelData}return{buildUrl:function(e,d,b){d=d||{};var a=Object.keys(d),c=0<a.length&&("sms:"!==e||"IPHONE"!==b)?"?":"";for(b=0;b<a.length;b++)"?"!==c&&(c+="\x26"),d[a[b]]&&(c+=a[b]+"\x3d"+encodeURIComponent(d[a[b]]));return e+c},logFatal:function(e,d){var b="SHARE_WITH_FRIENDS_JS_WIDGET";d&&(b=
b+"_"+d);g.log(e,"FATAL",b)},decodeEntities:function(e){var d=document.createElement("textarea");d.innerHTML=e;return d.value},getPageData:k,generateReftags:function(e,d){var b,a,f,g=k(e);"undefined"!==typeof g&&(b=g.clientRef,a=g.deviceTypeRef);b=b?b:"un";a=a?a:"un";f=d?d:"un";g=c();f="cm_sw_"+f;b=b+"_"+a+"_"+g;return{returnReftag:f+"_r_"+b,clickReftag:f+"_c_"+b}},updateReftagParam:function(e,d){var b;b=/([?&/])ref_?=.*?(&|$)/i;var a=-1!==e.indexOf("?")?"\x26":"?";b=e.match(b)?e.replace(b,"$1ref\x3d"+
d+"$2"):e+a+"ref\x3d"+d;return b},generateUUID:c,triggerShare:function(e,d,b,a){if(d){d=screen.width;var c=screen.height;b=b?b:.7*d;a=a?a:.7*c;h.open(e,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+b+",height\x3d"+a+",top\x3d"+(c/2-a/2)+",left\x3d"+(d/2-b/2))}else h.open(e,"_self")},logReftag:function(c){f.ajax("/gp/aw/social/swf/metrics.html/ref\x3d"+c,{method:"post"})}}})});