(function(f){var c={};var i=function(k){return c[k];};var r=function(k){if(!c[k]){var m={exports:{}};try{f[k].call(m.exports,m,m.exports,r,i)}catch(e){};c[k]=m.exports;}return c[k];};return r('a');})({a:function(e,t,n,r){var i=n("A"),s=n("b"),o=n("V"),u=window.$CONFIG&&window.$CONFIG.version||i.getUniqueKey(),a=s();o("//img.t.sinajs.cn/t6/style/css/module/pagecard/PCD_mplayer.css?version="+u,"js_style_css_module_pagecard_PCD_mplayer",function(){document.body.appendChild(a.box)}),window.WEIBO_MUSIC_PLAYER=a},A:function(e,t,n,r){e.exports=r("")||window.STK},b:function(e,t,n,r){function _(){this.nodes={},this.el=null,this.mini=null,this.box=null,this.devt=null,this.inited=!1,this.isFold=!0,this.playType=N,this.client=i.getUniqueKey(),this.listItemsMap={},this.audio,this.uiVolume,this.uiProgress,this.list,this.listArgs={},this.nowPlaySong,this.queue,this.playedCount=0,this.queueInited=!1,this.errorTryCount=0,this.build()}var i=n("A"),s=n("B").translate,o=n("D"),u=n("F"),a=n("i"),f=n("I"),l=n("j"),c=n("L"),h=n("s"),p=n("T"),d=n("u"),v=n("U"),m=n("l")("tblog_musicpageplayer"),g=n("G"),y=n("h"),b=n("H"),w=n("v"),E=n("e"),S=i.core.json.merge,x=2,T=1,N=0,C="audio/mpeg;",k="weibo_music_player_",L={volume:.9,mute:0,client:0,playtype:N,show:1},A=i.C("audio"),O=[].slice,M=[].concat;g(_.prototype,b,{init:function(){this.audio=u(!i.core.util.browser.IE&&"canPlayType"in A&&!!A.canPlayType(C)?"HTML5":"Flash"),this.audio.ready(y(this,function(){this.list=c(this.listArgs),i.replaceNode(this.list.el,this.nodes.list),this.uiProgress=f(this.nodes.progress_range,this.nodes.progress_range_out,0).enable(!1),this.uiVolume=f(this.nodes.volume_range,this.nodes.volume_range_out,1),this.uiLrc=l(),i.replaceNode(this.uiLrc.el,this.nodes.lrc),this.uiInfo=h(),i.replaceNode(this.uiInfo.el,this.nodes.info),this.inited=!0,this.bind(),this.initStorage(),this.bindStorage()}))},initStorage:function(e){return i.foreach(L,y(this,function(e,t){storageKey=k+t,a.has(storageKey,y(this,function(n){n||a.set(storageKey,e),a.get(storageKey,y(this,function(e){try{switch(t){case"volume":this.audio.volume(e),this.uiVolume.set(this.audio.volume());break;case"mute":this.audio.mute(!!(e|0));break;case"playtype":this.setPlayType(e|0);break;case"show":e==1?this.show():this.hide(),m.send(e==1?"open":"close")}}catch(n){}}))}))})),this},load:function(e){this.listArgs.page_id=e.page_id,this.inited?this.list.loaded&&(this.listArgs.page_id=this.list.page_id=e.page_id,this.list.load()):a.get(k+"lastsong",y(this,function(e){if(e)try{e=i.strToJson(e),e.object_id.toString,e.photo.toString,this.listArgs.firstSongidOnce=e.object_id,this.nodes.mini_photo.src=e.photo.replace(/^https:|^http:/,""),this.init()}catch(t){this.init()}else this.init()}))},build:function(){return nodeList=i.builder(s(v)).list,i.foreach(nodeList,y(this,function(e,t){this.nodes[t]=e[0]})),this.box=this.nodes.box,this.mini=this.nodes.mini,this.el=this.nodes.player,E.box=this.box,this},bindStorage:function(){a.on(k+"volume",y(this,this.onStorageVolumeSet)),a.on(k+"mute",y(this,this.onStorageMuteSet)),a.on(k+"client",y(this,this.onStorageClientSet)),a.on(k+"playtype",y(this,this.onStoragePlayTypeSet)),a.on(k+"show",y(this,this.onStorageShowSet))},bind:function(){return this.devt=i.delegatedEvent(this.box),this.devt.add("toggle_play","click",y(this,this.togglePlay)),this.devt.add("next","click",y(this,this.playNext)),this.devt.add("prev","click",y(this,this.playPrev)),this.devt.add("like","click",y(this,this.onNowPlayingLike)),this.devt.add("share","click",y(this,this.onNowPlayingShare)),this.devt.add("show","click",y(this,this.show)),this.devt.add("hide","click",y(this,this.hide)),this.devt.add("show_confirm","click",y(this,this.showConfirm)),this.devt.add("hide_confirm","click",y(this,this.hideConfirm)),this.devt.add("play_type_select","click",y(this,this.setPlayType)),this.devt.add("toggle_mute","click",y(this,this.toggleMute)),this.devt.add("toggle_fold","click",y(this,this.toggleFold)),this.devt.add("toggle_lrc","click",y(this,this.toggleLrc)),this.devt.add("toggle_list","click",y(this,this.toggleList)),this.audio.on("timeupdate",y(this,this.onAudioTimeUpdate)),this.audio.on("play",y(this,this.onAudioPlay)),this.audio.on("pause",y(this,this.onAudioPause)),this.audio.on("ended",y(this,this.onAudioEnded)),this.audio.on("mute",y(this,this.onAudioMute)),this.audio.on("load",y(this,function(){this.audio.play()})),this.audio.on("play",y(this,this._time_onAudioPlay)),this.audio.on("pause",y(this,this._time_onAudioPauseOrEnd)),this.audio.on("ended",y(this,this._time_onAudioPauseOrEnd)),this.audio.on("error",y(this,this.onAudioError)),this.uiProgress.on("dragEnd",y(this,this.onProgressDragEnd)),this.uiProgress.on("draging",y(this,this.onProgressDraging)),this.uiVolume.on("set",y(this,this.onVolumeSet)),this.uiVolume.on("draging",y(this,this.onVolumeDraging)),this.uiVolume.on("dragEnd",y(this,this.onVolumeDragEnd)),this.list.on("select",y(this,this.onListSelect)),this.list.on("like",y(this,this.onListLike)),this.list.on("share",y(this,this.onListShare)),this.list.on("show",y(this,this.onListShow)),this.list.on("hide",y(this,this.onListHide)),this.list.on("showTip",y(this,this.onShowTip)),this.uiLrc.on("show",y(this,this.onLrcShow)),this.uiLrc.on("hide",y(this,this.onLrcHide)),this.nodes.mini_photo.onerror=y(this,function(){this.nodes.mini_photo.src="//mu1.sinaimg.cn/images/weiyinyue.music.sina.com.cn.png"}),this.on("fold",y(this,this.onToggleFold)),i.addEvent(this.nodes.progress_range_out,"mousemove",y(this,this.onProgressMouseMove)),i.addEvent(this.nodes.progress_range_out,"mouseout",y(this,this.onProgressMouseOut)),i.addEvent(document,"click",y(this,this.onDocumentClick)),this},resetNowPlay:function(){this.audio.ready(y(this,function(){this.audio.load("")})),this.nowPlaySong=undefined,this.uiLrc.reset(),this.uiInfo.render(),this.uiProgress.set(0),this.uiProgress.enable(!1),this.nodes.time.innerHTML="00 : 00"},resetPlayer:function(){this.resetNowPlay()},playAnimate:function(e){var t=document.documentElement.clientHeight,n,r;this.isFold?(n=i.sizzle(".mask",this.mini)[0],r={x:n.getBoundingClientRect().left+n.offsetWidth/2,y:t-n.getBoundingClientRect().top-n.offsetHeight/2-15}):(n=i.sizzle(".ico_list",this.el)[0],r={x:n.getBoundingClientRect().left+n.offsetWidth/2,y:t-n.getBoundingClientRect().top-20}),w(r,e)},showTip:function(e,t){var n;this.isFold?(n=i.sizzle(".mask",this.mini)[0],p.setContent(e).showByTarget(n,{appendTo:this.mini})):(n=i.sizzle(t,this.el)[0],p.setContent(e).showByTarget(n,{appendTo:this.el}))},playSong:function(e,t){this.show(),this.playAnimate(y(this,function(){this.list.add(e,{isPlay:!0,extraSend:t})}))},playSongByObjectId:function(e,t){this.show(),this.playAnimate(y(this,function(){this.list.addWithObjectId(e,{isPlay:!0,extraSend:t})}))},playWithSong:function(e,t){if(!e)return;this.playWithSongLastSongId=e.object_id;var n=y(this,function(){if(this.playWithSongLastSongId!=e.object_id)return;try{t?this.resetPlayer():(this.playedCount++,this.audio.ready(y(this,function(){this.audio.load(e.mp3_url.replace(/^https:|^http:/,"")+(e.mp3_url.indexOf("?")==-1?"?":"&")+"_ts="+(new Date).getTime())}))),this.nowPlaySong=e,this.renderSong(e),m.send("total_play"),this.playedCount===1&&(this.toggleFold(!1),m.send("first_play")),delete this._suda_playedOver60Pst_sended}catch(n){setTimeout(y(this,function(){this.playNext(),this.showTip("播放失败，自动切换下一首",".ico_ctrl.ico_list")}),1e3)}});e.mp3_url?o.token({object_id:e.object_id},function(t){g(e,t),n()}):o.info({object_id:e.object_id},function(t){g(e,t),n()})},playPrev:function(){var e;switch(this.playType){case T:e=this.list.getSong("prev");break;case x:e=this.list.getSong("random");break;case N:e=this.list.getSong("prev")}this.playWithSong(e),this.list.toCurrentTab()},playNext:function(){var e;switch(this.playType){case T:e=this.list.getSong("next");break;case x:e=this.list.getSong("random");break;case N:e=this.list.getSong("next")}this.playWithSong(e),this.list.toCurrentTab()},renderSong:function(e){this.uiProgress.enable(!0),this.uiLrc.load(e.lyric_info),this.uiInfo.render(e),this.nodes.mini_photo.src=e.photo.replace(/^https:|^http:/,""),a.set(k+"lastsong",i.jsonToStr({object_id:e.object_id,photo:e.photo.replace(/^https:|^http:/,"")})),"is_like"in e&&(this.nodes.like.setAttribute("title",e.is_like?s("#L{取消赞}"):s("#L{赞}")),i[e.is_like?"removeClassName":"addClassName"](this.nodes.like,"ico_like"),i[e.is_like?"addClassName":"removeClassName"](this.nodes.like,"ico_unlike"))},setPlayType:function(e){if(typeof e!="number"){var t=e.el;e={play_type_select_loop:N,play_type_select_solo:T,play_type_select_rand:x}[t.getAttribute("node-type")]}switch(e){case N:this.playType=N;break;case T:this.playType=T;break;case x:this.playType=x;break;default:this.playType=N}i.foreach([["ico_loop",s("#L{列表循环}")],["ico_solo",s("#L{单曲循环}")],["ico_rand",s("#L{随机播放}")]],y(this,function(e,t){var n=t===this.playType?i.addClassName:i.removeClassName;n(this.nodes.play_type,e[0]),t===this.playType&&(this.nodes.play_type.title=e[1])})),a.set(k+"playtype",this.playType)},showPlayTypeSelect:function(){this.nodes.play_type_select.style.display="",this.nodes.play_type_select.appendChild(this.nodes[["play_type_select_loop","play_type_select_solo","play_type_select_rand"][this.playType]])},hidePlayTypeSelect:function(){this.nodes.play_type_select.style.display="none"},showConfirm:function(){this.nodes.confirm.style.display=""},hideConfirm:function(){this.nodes.confirm.style.display="none"},show:function(){this.hideConfirm(),this.box.style.display==="none"&&(this.box.style.display="",a.set(k+"show",1))},hide:function(){this.hideConfirm(),this.box.style.display!="none"&&(this.box.style.display="none",this.audio.pause(),a.set(k+"show",0))},onAudioTimeUpdate:function(e,t,n){this.errorTryCount=0;var r=d(n-t),i=d(n);this.nodes.time._lasttime=r,this.nodes.time._duration=i,this.nodes.time.innerHTML=r,this.uiProgress.set(t/n),this.uiLrc.setCurrentByTime(t*1e3,n*1e3),this._suda_playedOver60Pst(t,n),this._suda_sendPlayDuration(this.nowPlaySong.object_id,n|0)},onAudioPlay:function(e){this.show(),this.nodes.toggle_play.className="ico_ctrl ico_play ico_pause",this.nodes.mini_toggle_play.className="mini_btn_area playing_state",this.nodes.toggle_play.title=s("#L{暂停}"),a.set(k+"client",this.client)},onAudioPause:function(e){this.nodes.toggle_play.className="ico_ctrl ico_play",this.nodes.mini_toggle_play.className="mini_btn_area pause_state",this.nodes.toggle_play.title=s("#L{播放}")},onAudioEnded:function(e){var t;switch(this.playType){case T:t=this.list.getSong();break;case x:t=this.list.getSong("random");break;case N:t=this.list.getSong("next")}this.playWithSong(t)},onAudioMute:function(e,t){i[t?"addClassName":"removeClassName"](this.nodes.toggle_mute,"ico_mute"),t?this.uiVolume.setWidthoutTrigger(0):this.uiVolume.set(this.audio.volume()),a.set(k+"mute",+t)},onAudioError:function(e){if(this.audio.src()=="")return;var t=this.audio.currentTime(),n=this.audio.duration();this.errorTryCount<4&&(this.errorTryCount++,n-t<2?(this.playNext(),this.showTip("播放失败，自动切换下一首",".ico_ctrl.ico_list")):(this.playWithSong(this.nowPlaySong),setTimeout(y(this,function(){this.audio.currentTime(t)}),2e3)))},onVolumeSet:function(e,t){this.audio.volume(t)},onVolumeDraging:function(e,t){i[t===0?"addClassName":"removeClassName"](this.nodes.toggle_mute,"ico_mute"),mute=this.audio.mute(),mute?t!=0&&this.audio.mute(!1):t===0&&this.audio.mute(!0)},onVolumeDragEnd:function(e,t){a.set(k+"volume",t)},onProgressDragEnd:function(e,t){!this.audio.src()&&this.nowPlaySong&&this.playWithSong(this.nowPlaySong);var n=this.audio.duration(),r=t*n;this.audio.currentTime(this.audio.duration()*t),this.uiLrc.setCurrentByTime(r*1e3,n*1e3),m.send("click_player_bar")},onProgressDraging:function(e,t){var n=this.audio.duration(),r=t*n,i=(r/60|0).toString(),s=(r%60|0).toString();this.nodes.time_minutes.innerHTML=i.length>=2?i:"0"+i,this.nodes.time_seconds.innerHTML=s.length>=2?s:"0"+s},onLrcShow:function(){this.nodes.toggle_lrc.title=s("#L{隐藏歌词}"),this.uiLrc.nextMustSet(),this.uiLrc.setCurrentByTime(this.audio.currentTime()*1e3,this.audio.duration()*1e3),this.audio.src()&&m.send("songwords_expo")},onLrcHide:function(){this.nodes.toggle_lrc.title=s("#L{显示歌词}")},onListSelect:function(e,t,n){n=n||{};var r=n.fromRemove,i=n.fromLoad;t===undefined?this.resetPlayer():r?this.playWithSong(t,!this.audio.playing()):i?this.playWithSong(t,!0):this.playWithSong(t)},onShowTip:function(e,t,n){this.showTip(t,n)},onListLike:function(e,t){this.onLike(t)},onListShare:function(e,t){this.onShare(t)},onListShow:function(){this.nodes.toggle_list.title=s("#L{隐藏列表}"),m.send("list_expo")},onListHide:function(){this.nodes.toggle_list.title=s("#L{展开列表}")},onNowPlayingLike:function(e){this.onLike(this.nowPlaySong)},onNowPlayingShare:function(e){this.onShare(this.nowPlaySong)},onToggleFold:function(e,t){var n={fold:{left:"-690px",delay:"0s",miniLeft:"0",miniDelay:".5s"},unfold:{left:"0",delay:".3s",miniLeft:"-66px",miniDelay:"0s"}}[t?"fold":"unfold"],r=y(this,function(){this.el.style.webkitTransitionDelay=this.el.style.MozTransitionDelay=this.el.style.transitionDelay=n.delay,this.mini.style.webkitTransitionDelay=this.mini.style.MozTransitionDelay=this.mini.style.transitionDelay=n.miniDelay,this.el.style.left=n.left,this.mini.style.left=n.miniLeft});t?(this.list.hide(r),this.uiLrc.hide()):r(),t===!1&&m.send("player_expo"),t===!1&&this.audio.src()&&m.send("player_expo_play")},onStorageVolumeSet:function(e,t){this.audio.volume()!=t.value&&this.uiVolume.set(+t.value)},onStorageMuteSet:function(e,t){this.audio.mute()!=!!(t.value|0)&&this.audio.mute(!!(t.value|0))},onStorageClientSet:function(e,t){this.client!=t.value&&this.audio.pause()},onStoragePlayTypeSet:function(e,t){this.playtype!=t.value&&this.setPlayType(t.value|0)},onStorageShowSet:function(e,t){t.value==1?this.show():this.hide()},onProgressMouseMove:function(e){var t=e.clientX-this.nodes.progress_range_out.getBoundingClientRect().left,n=t/this.nodes.progress_range_out.offsetWidth;this.nodes.time_tip.style.display="",this.nodes.time_tip.style.left=t-20+"px",this.nodes.time_tip_text.innerHTML=d(this.audio.duration()*n)},onProgressMouseOut:function(e){this.nodes.time_tip.style.display="none"},onDocumentClick:function(e){var t=i.fixEvent(e).target;t===this.nodes.play_type||i.contains(this.nodes.play_type,t)?this.showPlayTypeSelect():setTimeout(y(this,function(){this.hidePlayTypeSelect()}),10)},toggleFold:function(e){this.list.loadOnce(),this.isFold=typeof e=="boolean"?e:!this.isFold,this.trigger("fold",this.isFold),typeof e!="boolean"&&m.send(this.isFold?"player_stow":"player_develop")},toggleLrc:function(e){this.uiLrc.toggle()},toggleList:function(){this.list.toggle()},togglePlay:function(){this.list.loadOnce(y(this,function(){this.nowPlaySong?this.audio.src()?this.audio[this.audio.playing()?"pause":"play"]():this.playWithSong(this.nowPlaySong):this.playWithSong(this.list.getSong())}))},toggleMute:function(){this.audio.mute(!this.audio.mute())},setLikeBySong:function(e,t){this.nowPlaySong&&e.object_id===this.nowPlaySong.object_id&&(this.nowPlaySong.is_like=t,i[t?"removeClassName":"addClassName"](this.nodes.like,"ico_like"),i[t?"addClassName":"removeClassName"](this.nodes.like,"ico_unlike"),this.nodes.like.setAttribute("title",t?s("#L{取消赞}"):s("#L{赞}"))),this.list.likeByObjectId(e.object_id,t)},onLike:function(e){o.like({object_id:e.object_id},y(this,function(t){this.setLikeBySong(e,!!t.like)}))},onShare:function(e){e.copy===undefined?this.trigger("share",e):o.shareInfo({object_id:e.object_id},y(this,function(t){e.copy=t.shareinfo||"",this.trigger("share",e)}))},_suda_playedOver60Pst:function(e,t){if(this._suda_playedOver60Pst_sended===!0)return;e/t>.6&&(m.send("play_60p"),this._suda_playedOver60Pst_sended=!0)},_suda_sendPlayDuration:function(e,t){"_suda_sendPlayDuration_cache"in this||(this._suda_sendPlayDuration_cache={}),t!=0&&!this._suda_sendPlayDuration_cache[e]&&((new Image).src="//ting.weibo.com/page/Appclient/fixab?"+i.jsonToQuery({a:e,b:t}),this._suda_sendPlayDuration_cache[e]=t)},_time_check:function(e,t,n){function r(e){if(e.end&&e.start&&e.id){var t=parseInt((e.end-e.start)/1e3);t>0&&o.time({object_id:e.id,length_play:t,source_id:e.song.source_id,_ts:e.song._ts,token:e.song.token})}}var i=+(new Date);this._timeRange===undefined&&(this._timeRange={}),this._timeRange.id!=t&&this._timeRange.start&&(this._timeRange.end||(this._timeRange.end=i),r(this._timeRange),this._timeRange={}),this._timeRange.id=t,this._timeRange.song=n;switch(e){case"start":this._timeRange.start||(this._timeRange.start=i,this._timeRange.end=null);break;case"end":this._timeRange.start&&!this._timeRange.end&&(this._timeRange.end=i)}this._timeRange.end&&this._timeRange.start&&(r(this._timeRange),this._timeRange={})},_time_onAudioPlay:function(){this._time_check("start",this.nowPlaySong.object_id,this.nowPlaySong)},_time_onAudioPauseOrEnd:function(){this._time_check("end",this.nowPlaySong.object_id,this.nowPlaySong)}}),e.exports=function(){return new _}},B:function(e,t,n,r){function o(e){o=e}function u(e){var t=[].splice.call(arguments,1,arguments.length),n=[e,s[o]||{}].concat(t),r=i.core.util.language.apply(this,n);return r}var i=n("A"),s={"zh-tw":n("c"),"zh-hk":n("C"),en:n("d")},o="zh-cn";t.translate=u,t.lang=o},c:function(e,t,n,r){e.exports={"赞":"贊","取消赞":"取消贊","列表循环":"列表循環","单曲循环":"單曲循環","随机播放":"隨機播放","暂停":"暫停","播放":"播放","显示歌词":"顯示歌詞","隐藏歌词":"隱藏歌詞","展开列表":"展開列表","隐藏列表":"隱藏列表","展开":"展開","收起":"收起","微音乐":"微音樂","抱歉，暂无歌词":"抱歉，暫無歌詞。"}},C:function(e,t,n,r){e.exports={"赞":"贊","取消赞":"取消贊","列表循环":"列表循環","单曲循环":"單曲循環","随机播放":"隨機播放","暂停":"暫停","播放":"播放","显示歌词":"顯示歌詞","隐藏歌词":"隱藏歌詞","展开列表":"展開列表","隐藏列表":"隱藏列表","展开":"展開","收起":"收起","微音乐":"微音樂","抱歉，暂无歌词":"抱歉，暫無歌詞。"}},d:function(e,t,n,r){e.exports={"赞":"Like","取消赞":"Unlike","列表循环":"Loop","单曲循环":"Repeat","随机播放":"Shuffle","暂停":"Pause","播放":"Play","显示歌词":"Unfold lyrics","隐藏歌词":"Fold lyrics","展开列表":"Unfold song list","隐藏列表":"Fold song list","展开":"Unfold musicplayer","收起":"Fold musicplayer","微音乐":"Weibo Music","抱歉，暂无歌词":"Sorry, no lyrics."}},D:function(e,t,n,r){function c(e,t){return function(n,r,i){function o(t,s){if(t){i&&i();return}var o=l[e]||function(e){return e},u=o(s,n);u.code===1?r&&r(u.data,n,s):i&&i()}n.clinet_verison=s.verison;switch(t.type){case"jsonp":a({url:t.url,varkey:t.varkey,responseName:t.responseName,args:n,onComplete:function(e){o(undefined,e)},onTimeout:function(){o("timeout")}});break;case"iframeProxy":f({url:t.url,method:t.method,params:n},o)}}}var i=n("A"),s=n("e"),o=n("E"),u=i.foreach,a=i.core.io.jsonp,f=n("f"),l={info:function(e,t){return{code:e.code,data:e.data[0]}},firstSongInfo:function(e,t){return{code:1,data:e}}};u(o,function(e,n){t[n]=c(n,e)})},e:function(e,t,n,r){e.exports={verison:"6.1.4",box:document.body}},E:function(e,t,n,r){e.exports={info:{url:"//ting.weibo.com/page/playlist/getSongInfo",method:"get",type:"iframeProxy"},token:{url:"//ting.weibo.com/page/playlist/token",method:"get",type:"iframeProxy"},add:{url:"//ting.weibo.com/page/playlist/getSongInfo",method:"get",type:"iframeProxy"},load:{url:"//ting.weibo.com/page/playlist/getTab",method:"get",type:"iframeProxy"},search:{url:"//ting.weibo.com/page/playlist/searchList",method:"get",type:"iframeProxy"},remove:{url:"//ting.weibo.com/page/playlist/deleteListen",method:"get",type:"iframeProxy"},shareInfo:{url:"//ting.weibo.com/page/playlist/getshareinfo",method:"get",type:"iframeProxy"},like:{url:"//ting.weibo.com/page/playlist/likeobject",method:"get",type:"iframeProxy"},time:{url:"//ting.weibo.com/page/playlist/writeplaytime",method:"get",type:"iframeProxy"},firstSongInfo:{url:"//rank.music.sina.com.cn/musicplayer_alipoll.json",method:"get",type:"jsonp",varkey:"callback",responseName:"musicplay_alipoll"},syncPlayList:{url:"//ting.weibo.com/page/playlist/storePlayList",method:"post",type:"iframeProxy"}}},f:function(e,t,n,r){function p(e){function t(){throw c+" load failed"}function n(){clearTimeout(p.timeoutIntrtval);var t;r.detachEvent?r.detachEvent("onload",n):r.onload=null,e(r)}var r=document.createElement("iframe");return r.style.cssText=h,r.attachEvent?r.attachEvent("onload",n):r.onload=n,r.src=c,p.timeoutIntrtval=setTimeout(t,5e3),s.box.appendChild(r)}function d(e){e=e||o,d.iframe&&e(d.iframe),d.waitingCallbacks===undefined&&(p(function(e){d.iframe=e,a(window,"message",m);while(one=d.waitingCallbacks.shift())one(d.iframe)}),d.waitingCallbacks=[]),d.waitingCallbacks.push(e)}function m(e){e=e||window.event;var t;try{t=l(e.data);if(t.from!="WEIBO_MUSIC_PLAYER")return}catch(n){return}var r=v[t.request.id];r&&(delete v[t.request.id],r(t.error,t.response))}function g(e,t){var n=e.id=u();v[n]=t,d(function(t){t.contentWindow.postMessage(f(e),"*")})}var i=n("A"),s=n("e"),o=i.funcEmpty,u=i.getUniqueKey,a=i.addEvent,f=i.jsonToStr,l=i.strToJson,c="//ting.weibo.com/public/js/jsproxy.html",h="width:0;height:0;border:0;opacity:0;position:absolute;top:-10px;left:-10px;",v={};e.exports=g},F:function(e,t,n,r){function d(e){return navigator.appName.indexOf("Microsoft")!=-1?window[e]:document[e]}function v(e){this._audio=i.C("audio"),this._audio.autoplay=!1,this._audio.preload="auto",this._audio.autobuffer=!0,this._vol=0,this._currentTime=0,this._duration=0,this._loadpst=0,this._seekable=!1,this._playing=!1,this._muted=!1,this._timer=null,this._isready=!0,this._readyfns=[],this._src="",this._bindEvents()}function m(){var e="//js.t.sinajs.cn/t5/pack/static/flash/audio5js.swf",t="__audioFlashInstance1__"+h++,n=document.body.appendChild(i.C("div")),r={playerInstance:"window.__audioFlashInstances1['"+t+"']"},o={allowscriptaccess:"always",wmode:"transparent"};n.style.cssText=";position:absolute;width:1px;height:1px;top:-10px;left:-10px;",n.innerHTML='<div id="'+t+'"></div>',s.embedSWF(e+"?ts="+((new Date).getTime()+Math.random()),t,"1","1","9.0.0",null,r,o),c[t]=this,this._audio=d(t),this._id=t,this._currentTime=0,this._vol=0,this._seekable=!1,this._playing=!1,this._muted=!1,this._duration=0,this._loadpst=0,this._isready=!1,this._readyfns=[],this._src=""}var i=n("A"),s=n("g"),o=n("G"),u=n("h"),a=n("H"),f=i.addEvent,l=i.removeEvent,c=window.__audioFlashInstances1={},h=0,p=["progress","loadstart","load","loadedmetadata","play","pause","ended","error","timeupdate","seeking","seeked","ready"];o(v.prototype,a,{isready:function(){return this._isready},ready:function(e){return this.isready()===!0?e&&e():e&&this._readyfns.push(e),this},src:function(){return this._src},load:function(e){return this._src=e,this.loadTimer=setTimeout(u(this,function(){clearTimeout(this.loadTimer),this._reset(),this._audio.setAttribute("src",this._src),this._audio.load()}),1e3),this},play:function(){return this._audio.play(),this},pause:function(){return this._audio.pause(),this},playing:function(){return this._playing},volume:function(e){return arguments.length>0?this._setVolume(e):this._getVolume()},mute:function(e){return arguments.length>0?this._setMute(e):this._getMute()},currentTime:function(e){return arguments.length>0?this._setCurrentTime(e):this._getCurrentTime()},duration:function(){return this._duration},buffered:function(){return this._loadpst},_getVolume:function(){return this._vol},_setVolume:function(e){return this._vol=Math.max(0,Math.min(1,e)),this._muted===!1&&(this._audio.volume=this._vol),this},_getMute:function(){return this._muted},_setMute:function(e){return e=!!e,this._muted=e,this._audio.volume=e?0:this._vol,this.trigger("mute",e),this},_getCurrentTime:function(){return this._currentTime},_setCurrentTime:function(e){return this._audio.currentTime=this._currentTime=e,this.trigger("timeupdate",this._currentTime,this._duration),this},_onLoadStart:function(){this.trigger("loadstart")},_onLoad:function(){if(this._seekable=!!(this._audio.seekable&&this._audio.seekable.length>0))clearInterval(this._timer),this._timer=setInterval(u(this,this._onProgress),250);this.trigger("load")},_onLoadedMetadata:function(){this.trigger("loadedmetadata")},_onPlay:function(){this._playing=!0,this.trigger("play")},_onPause:function(){this._playing=!1,this.trigger("pause")},_onEnded:function(){this._playing=!1,this.trigger("ended")},_onError:function(e){this._playing=!1,this.trigger("error",[e])},_onTimeUpdate:function(){this._audio.buffered!==null&&this._audio.buffered.length&&this.playing&&(this._currentTime=this._audio.currentTime,this._duration=this._audio.duration===Infinity?null:this._audio.duration,this.trigger("timeupdate",[this._currentTime,this._duration]))},_onProgress:function(){this._audio.buffered!==null&&this._audio.buffered.length&&this.trigger("progress",[this._loadpst=parseInt(this._audio.buffered.end(this._audio.buffered.length-1)/this._audio.duration*100,10)])},_onSeeking:function(){this.trigger("seeking")},_onSeeked:function(){this.trigger("seeked")},_clearLoadProgress:function(){return clearInterval(this._timer),this},_reset:function(){return this._clearLoadProgress(),this._seekable=!1,this._playing=!1,this._duration=0,this._currentTime=0,this._loadpst=0,this},_bindEvents:function(){this._onLoadStartBinded=u(this,this._onLoadStart),this._onLoadBinded=u(this,this._onLoad),this._onLoadedMetadataBinded=u(this,this._onLoadedMetadata),this._onPlayBinded=u(this,this._onPlay),this._onPauseBinded=u(this,this._onPause),this._onEndedBinded=u(this,this._onEnded),this._onErrorBinded=u(this,this._onError),this._onTimeUpdateBinded=u(this,this._onTimeUpdate),this._onSeekingBinded=u(this,this._onSeeking),this._onSeekedBinded=u(this,this._onSeeked),f(this._audio,"loadstart",this._onLoadStartBinded),f(this._audio,"canplay",this._onLoadBinded),f(this._audio,"loadedmetadata",this._onLoadedMetadataBinded),f(this._audio,"play",this._onPlayBinded),f(this._audio,"pause",this._onPauseBinded),f(this._audio,"ended",this._onEndedBinded),f(this._audio,"error",this._onErrorBinded),f(this._audio,"timeupdate",this._onTimeUpdateBinded),f(this._audio,"seeking",this._onSeekingBinded),f(this._audio,"seeked",this._onSeekedBinded)},_unbindEvents:function(){l(this._audio,"loadstart",this._onLoadStartBinded),l(this._audio,"canplay",this._onLoadBinded),l(this._audio,"loadedmetadata",this._onLoadedMetadataBinded),l(this._audio,"play",this._onPlayBinded),l(this._audio,"pause",this._onPauseBinded),l(this._audio,"ended",this._onEndedBinded),l(this._audio,"error",this._onErrorBinded),l(this._audio,"timeupdate",this._onTimeUpdateBinded),l(this._audio,"seeking",this._onSeekingBinded),l(this._audio,"seeked",this._onSeekedBinded)}}),o(m.prototype,a,{isready:function(){return this._isready},ready:function(e){return this.isready()===!0?e&&e():e&&this._readyfns.push(e),this},src:function(){return this._src},load:function(e){this._reset(),this._src=e,this._audio.load(this._src||"about:blank")},play:function(){return this._audio.pplay(),this},pause:function(){return this._audio.ppause(),this},playing:function(){return this._playing},volume:function(e){return arguments.length>0?this._setVolume(e):this._getVolume()},mute:function(e){return arguments.length>0?this._setMute(e):this._getMute()},currentTime:function(e){return arguments.length>0?this._setCurrentTime(e):this._getCurrentTime()},duration:function(){return this._duration},buffered:function(){return this._loadpst},_getVolume:function(){return this._vol},_setVolume:function(e){return this._vol=Math.max(0,Math.min(1,e)),this._muted===!1&&this._audio.setVolume(this._vol),this},_getCurrentTime:function(){return this._currentTime},_setCurrentTime:function(e){return this._audio.seekTo(this._currentTime=e),this},_getMute:function(){return this._muted},_setMute:function(e){return e=!!e,this._muted=e,this._audio.setVolume(e?0:this._vol),this.trigger("mute",e),this},_reset:function(){return this._seekable=!1,this._playing=!1,this._duration=0,this._currentTime=0,this._loadpst=0,this},eiReady:function(){this._audio=d(this._id),this._isready=!0,this.load(""),i.foreach(this._readyfns,u(this,function(e){e&&e()}))},eiLoadStart:function(){this.trigger("loadstart")},eiLoadedMetadata:function(){this.trigger("loadedmetadata")},eiCanPlay:function(){this.trigger("load")},eiTimeUpdate:function(e,t,n){this._currentTime=e,this._duration=t,this._seekable=n,this.trigger("timeupdate",[e,n?t:0])},eiProgress:function(e){this.trigger("progress",[this._loadpst=e])},eiLoadError:function(e){this._playing=!1,this.trigger("error",[e])},eiPlay:function(){this._playing=!0,this.trigger("play")},eiPause:function(){this._playing=!1,this.trigger("pause")},eiEnded:function(){this._playing=!1,this.trigger("ended")},eiSeeking:function(){this.trigger("seeking")},eiSeeked:function(){this.trigger("seeked")}}),e.exports=function(e){return new({HTML5:v,FLASH:m}[e.toUpperCase()])}},g:function(e,t,n,r){var i=function(){function k(){if(w)return;try{var e=f.getElementsByTagName("body")[0].appendChild(z("span"));e.parentNode.removeChild(e)}catch(t){return}w=!0;var n=h.length;for(var r=0;r<n;r++)h[r]()}function L(e){w?e():h[h.length]=e}function A(t){if(typeof a.addEventListener!=e)a.addEventListener("load",t,!1);else if(typeof f.addEventListener!=e)f.addEventListener("load",t,!1);else if(typeof a.attachEvent!=e)W(a,"onload",t);else if(typeof a.onload=="function"){var n=a.onload;a.onload=function(){n(),t()}}else a.onload=t}function O(){c?M():_()}function M(){var n=f.getElementsByTagName("body")[0],r=z(t);r.setAttribute("type",s);var i=n.appendChild(r);if(i){var o=0;(function(){if(typeof i.GetVariable!=e){var t=i.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),N.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}else if(o<10){o++,setTimeout(arguments.callee,10);return}n.removeChild(r),i=null,_()})()}else _()}function _(){var t=p.length;if(t>0)for(var n=0;n<t;n++){var r=p[n].id,i=p[n].callbackFn,s={success:!1,id:r};if(N.pv[0]>0){var o=U(r);if(o)if(X(p[n].swfVersion)&&!(N.wk&&N.wk<312))$(r,!0),i&&(s.success=!0,s.ref=D(r),i(s));else if(p[n].expressInstall&&P()){var u={};u.data=p[n].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));var a={},f=o.getElementsByTagName("param"),l=f.length;for(var c=0;c<l;c++)f[c].getAttribute("name").toLowerCase()!="movie"&&(a[f[c].getAttribute("name")]=f[c].getAttribute("value"));H(u,a,r,i)}else B(o),i&&i(s)}else{$(r,!0);if(i){var h=D(r);h&&typeof h.SetVariable!=e&&(s.success=!0,s.ref=h),i(s)}}}}function D(n){var r=null,i=U(n);if(i&&i.nodeName=="OBJECT")if(typeof i.SetVariable!=e)r=i;else{var s=i.getElementsByTagName(t)[0];s&&(r=s)}return r}function P(){return!E&&X("6.0.65")&&(N.win||N.mac)&&!(N.wk&&N.wk<312)}function H(t,n,r,i){E=!0,y=i||null,b={success:!1,id:r};var s=U(r);if(s){s.nodeName=="OBJECT"?(m=j(s),g=null):(m=s,g=r),t.id=o;if(typeof t.width==e||!/%$/.test(t.width)&&parseInt(t.width,10)<310)t.width="310";if(typeof t.height==e||!/%$/.test(t.height)&&parseInt(t.height,10)<137)t.height="137";f.title=f.title.slice(0,47)+" - Flash Player Installation";var u=N.ie&&N.win?"ActiveX":"PlugIn",l="MMredirectURL="+a.location.toString().replace(/&/g,"%26")+"&MMplayerType="+u+"&MMdoctitle="+f.title;typeof n.flashvars!=e?n.flashvars+="&"+l:n.flashvars=l;if(N.ie&&N.win&&s.readyState!=4){var c=z("div");r+="SWFObjectNew",c.setAttribute("id",r),s.parentNode.insertBefore(c,s),s.style.display="none",function(){s.readyState==4?s.parentNode.removeChild(s):setTimeout(arguments.callee,10)}()}F(t,n,r)}}function B(e){if(N.ie&&N.win&&e.readyState!=4){var t=z("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(j(e),t),e.style.display="none",function(){e.readyState==4?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(j(e),e)}function j(e){var n=z("div");if(N.win&&N.ie)n.innerHTML=e.innerHTML;else{var r=e.getElementsByTagName(t)[0];if(r){var i=r.childNodes;if(i){var s=i.length;for(var o=0;o<s;o++)(i[o].nodeType!=1||i[o].nodeName!="PARAM")&&i[o].nodeType!=8&&n.appendChild(i[o].cloneNode(!0))}}}return n}function F(n,r,i){var o,u=U(i);if(N.wk&&N.wk<312)return o;if(u){typeof n.id==e&&(n.id=i);if(N.ie&&N.win){var a="";for(var f in n)n[f]!=Object.prototype[f]&&(f.toLowerCase()=="data"?r.movie=n[f]:f.toLowerCase()=="styleclass"?a+=' class="'+n[f]+'"':f.toLowerCase()!="classid"&&(a+=" "+f+'="'+n[f]+'"'));var l="";for(var c in r)r[c]!=Object.prototype[c]&&(l+='<param name="'+c+'" value="'+r[c]+'" />');u.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+l+"</object>",d[d.length]=n.id,o=U(n.id)}else{var h=z(t);h.setAttribute("type",s);for(var p in n)n[p]!=Object.prototype[p]&&(p.toLowerCase()=="styleclass"?h.setAttribute("class",n[p]):p.toLowerCase()!="classid"&&h.setAttribute(p,n[p]));for(var v in r)r[v]!=Object.prototype[v]&&v.toLowerCase()!="movie"&&I(h,v,r[v]);u.parentNode.replaceChild(h,u),o=h}}return o}function I(e,t,n){var r=z("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function q(e){var t=U(e);t&&t.nodeName=="OBJECT"&&(N.ie&&N.win?(t.style.display="none",function(){t.readyState==4?R(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function R(e){var t=U(e);if(t){for(var n in t)typeof t[n]=="function"&&(t[n]=null);t.parentNode.removeChild(t)}}function U(e){var t=null;try{t=f.getElementById(e)}catch(n){}return t}function z(e){return f.createElement(e)}function W(e,t,n){e.attachEvent(t,n),v[v.length]=[e,t,n]}function X(e){var t=N.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function V(n,r,i,s){if(N.ie&&N.mac)return;var o=f.getElementsByTagName("head")[0];if(!o)return;var u=i&&typeof i=="string"?i:"screen";s&&(S=null,x=null);if(!S||x!=u){var a=z("style");a.setAttribute("type","text/css"),a.setAttribute("media",u),S=o.appendChild(a),N.ie&&N.win&&typeof f.styleSheets!=e&&f.styleSheets.length>0&&(S=f.styleSheets[f.styleSheets.length-1]),x=u}N.ie&&N.win?S&&typeof S.addRule==t&&S.addRule(n,r):S&&typeof f.createTextNode!=e&&S.appendChild(f.createTextNode(n+" {"+r+"}"))}function $(e,t){if(!T)return;var n=t?"visible":"hidden";w&&U(e)?U(e).style.visibility=n:V("#"+e,"visibility:"+n)}function J(t){var n=/[\\\"<>\.;]/,r=n.exec(t)!=null;return r&&typeof encodeURIComponent!=e?encodeURIComponent(t):t}var e="undefined",t="object",n="Shockwave Flash",r="ShockwaveFlash.ShockwaveFlash",s="application/x-shockwave-flash",o="SWFObjectExprInst",u="onreadystatechange",a=window,f=document,l=navigator,c=!1,h=[O],p=[],d=[],v=[],m,g,y,b,w=!1,E=!1,S,x,T=!0,N=function(){var i=typeof f.getElementById!=e&&typeof f.getElementsByTagName!=e&&typeof f.createElement!=e,o=l.userAgent.toLowerCase(),u=l.platform.toLowerCase(),h=u?/win/.test(u):/win/.test(o),p=u?/mac/.test(u):/mac/.test(o),d=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,v=!1,m=[0,0,0],g=null;if(typeof l.plugins!=e&&typeof l.plugins[n]==t)g=l.plugins[n].description,g&&(typeof l.mimeTypes==e||!l.mimeTypes[s]||!!l.mimeTypes[s].enabledPlugin)&&(c=!0,v=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),m[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),m[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),m[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof a.ActiveXObject!=e)try{var y=new ActiveXObject(r);y&&(g=y.GetVariable("$version"),g&&(v=!0,g=g.split(" ")[1].split(","),m=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]))}catch(b){}return{w3:i,pv:m,wk:d,ie:v,win:h,mac:p}}(),C=function(){if(!N.w3)return;(typeof f.readyState!=e&&f.readyState=="complete"||typeof f.readyState==e&&(f.getElementsByTagName("body")[0]||f.body))&&k(),w||(typeof f.addEventListener!=e&&f.addEventListener("DOMContentLoaded",k,!1),N.ie&&N.win&&(f.attachEvent(u,function(){f.readyState=="complete"&&(f.detachEvent(u,arguments.callee),k())}),a==top&&function(){if(w)return;try{f.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}k()}()),N.wk&&function(){if(w)return;if(!/loaded|complete/.test(f.readyState)){setTimeout(arguments.callee,0);return}k()}(),A(k))}(),K=function(){N.ie&&N.win&&window.attachEvent("onunload",function(){var e=v.length;for(var t=0;t<e;t++)v[t][0].detachEvent(v[t][1],v[t][2]);var n=d.length;for(var r=0;r<n;r++)q(d[r]);for(var s in N)N[s]=null;N=null;for(var o in i)i[o]=null;i=null})}();return{registerObject:function(e,t,n,r){if(N.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,p[p.length]=i,$(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(N.w3)return D(e)},embedSWF:function(n,r,i,s,o,u,a,f,l,c){var h={success:!1,id:r};N.w3&&!(N.wk&&N.wk<312)&&n&&r&&i&&s&&o?($(r,!1),L(function(){i+="",s+="";var p={};if(l&&typeof l===t)for(var d in l)p[d]=l[d];p.data=n,p.width=i,p.height=s;var v={};if(f&&typeof f===t)for(var m in f)v[m]=f[m];if(a&&typeof a===t)for(var g in a)typeof v.flashvars!=e?v.flashvars+="&"+g+"="+a[g]:v.flashvars=g+"="+a[g];if(X(o)){var y=F(p,v,r);p.id==r&&$(r,!0),h.success=!0,h.ref=y}else{if(u&&P()){p.data=u,H(p,v,r,c);return}$(r,!0)}c&&c(h)})):c&&c(h)},switchOffAutoHideShow:function(){T=!1},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}},hasFlashPlayerVersion:X,createSWF:function(e,t,n){return N.w3?F(e,t,n):undefined},showExpressInstall:function(e,t,n,r){N.w3&&P()&&H(e,t,n,r)},removeSWF:function(e){N.w3&&q(e)},createCSS:function(e,t,n,r){N.w3&&V(e,t,n,r)},addDomLoadEvent:L,addLoadEvent:A,getQueryParamValue:function(e){var t=f.location.search||f.location.hash;if(t){/\?/.test(t)&&(t=t.split("?")[1]);if(e==null)return J(t);var n=t.split("&");for(var r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return J(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(E){var e=U(o);e&&m&&(e.parentNode.replaceChild(m,e),g&&($(g,!0),N.ie&&N.win&&(m.style.display="block")),y&&y(b)),E=!1}}}}();e.exports=i},G:function(e,t,n,r){function i(e){var t=arguments.length,n=1,r;while(n<t){r=arguments[n];for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i]);n++}return e}e.exports=i},h:function(e,t,n,r){function i(e,t){return function(){return t.apply(e,arguments)}}e.exports=i},H:function(e,t,n,r){function a(e){s(e,function(){u in e||(e[u]={})})()}var i=n("A"),s=n("h"),o=i.custEvent,u="__EVT__";e.exports={on:function(e,t){return a(this),o.define(this[u],e),o.add(this[u],e,t),this},once:function(e,t){return a(this),o.define(this[u],e),o.once(this[u],e,t),this},off:function(e,t){return a(this),o.remove(this[u],e,t),this},trigger:function(e,t){return a(this),o.fire(this[u],e,t),this}}},i:function(e,t,n,r){function o(){this._evt={},this._isIE8=!("addEventListener"in window),this._isIE8?(document.attachEvent("onstorage",s(this,this._onchangeForIE8)),this._oldValues={}):window.addEventListener("storage",s(this,this._onchange),!1)}var i=n("A"),s=n("h");o.prototype={set:function(e,t,n){n=n||i.funcEmpty,localStorage.getItem(e)!=t&&localStorage.setItem(e,t),n()},remove:function(e,t){t=t||i.funcEmpty,t(localStorage.removeItem(e,value))},get:function(e,t){t=t||i.funcEmpty,t(localStorage.getItem(e))},has:function(e,t){t=t||i.funcEmpty,t(localStorage.getItem(e)!=null&&localStorage.getItem(e)!=undefined)},on:function(e,t){this._isIE8&&(this._oldValues[e]=localStorage.getItem(e)),i.custEvent.define(this._evt,e),i.custEvent.add(this._evt,e,t)},off:function(e,t){i.custEvent.remove(this._evt,e,t)},_onchangeForIE8:function(){setTimeout(s(this,function(){var e,t,n;for(e in this._oldValues)t=this._oldValues[e],n=localStorage.getItem(e),n!=t&&(this._oldValues[e]=n,i.custEvent.fire(this._evt,e,{key:e,value:n,oldValue:t,newValue:n}))}),10)},_onchange:function(e){i.custEvent.fire(this._evt,e.key,{key:e.key,value:e.newValue,oldValue:e.oldValue,newValue:e.newValue})}},e.exports=new o},I:function(e,t,n,r){function a(e,t,n){this.rangeNode=e,this.outNode=t,this.draging=!1,this.range=n|0,this.mClinetLeft=0,this._bind(),this.drawn(),this.isEnable}var i=n("A"),s=n("G"),o=n("h"),u=n("H");s(a.prototype,{setWidthoutTrigger:function(e){return this.range=Math.max(Math.min(e,1),0),this.drawn(),this},set:function(e,t){if(t!=1&&this.draging===!0)return;return this.range=Math.max(Math.min(e,1),0),this.trigger("set",this.range),this.drawn(),this},get:function(){return this.range},_bind:function(){this._dragMouseDown=o(this,this.dragMouseDown),this._dragMouseMove=o(this,this.dragMouseMove),this._dragMouseUp=o(this,this.dragMouseUp),i.addEvent(this.outNode,"mousedown",this._dragMouseDown),i.addEvent(document,"mousemove",this._dragMouseMove),i.addEvent(document,"mouseup",this._dragMouseUp)},dragMouseDown:function(e){if(this.isEnable==0)return;e=i.fixEvent(e),this.set((e.clientX-this.outNode.getBoundingClientRect().left)/this.outNode.offsetWidth,!0),this.draging=!0,i.preventDefault(e),this.trigger("dragStart",this.range)},dragMouseMove:function(e){e=i.fixEvent(e);if(this.draging===!1)return;this.set((e.clientX-this.outNode.getBoundingClientRect().left)/this.outNode.offsetWidth,!0),this.trigger("draging",this.range)},dragMouseUp:function(e){e=i.fixEvent(e);if(this.draging===!1)return;this.draging=!1,this.mClinetLeft=0,this.set(this.rangeNode.offsetWidth/this.outNode.offsetWidth,!0),this.trigger("dragEnd",this.range)},drawn:function(){return this.rangeNode.style.width=this.range*100+"%",this},enable:function(e){return this.isEnable=e,this}},u),e.exports=function(e,t,n){return new a(e,t,n)}},j:function(e,t,n,r){function p(e,t,n){n=n||function(e){return e};if(t.length<=2)return t[0];var r=(t.length-1)/2|0,i=n(t[r]);if(i==e)return t[r];if(i<e)return p(e,t.slice(r,t.length),n);if(i>e)return p(e,t.slice(0,r+1),n)}function d(){this.nodes=i.foreach(i.builder(s(l)).list,function(e){return e[0]}),this.el=this.nodes.lrc,this.layer=this.nodes.lrc_content,this.lrc=[],this.nowCur=null,this.type=null,this.draging=!1,this._y=null,this._mt=null,this._p=15,this.__p=0,this._lastMt=null,this.layer.style.marginTop="15px",this.isCurrentByTime=!0,this._time,this._nextMustSet=!1,this.init(),this.layer.parentNode.style.cursor="pointer"}var i=n("A"),s=n("B").translate,o=n("G"),u=n("h"),a=n("H"),f=n("J"),l=n("k"),c=n("K"),h=n("l")("tblog_musicpageplayer");o(d.prototype,a,f,{init:function(){i.addEvent(this.layer.parentNode,"mousedown",u(this,this.onMouseDown)),i.addEvent(document,"mousemove",u(this,this.onMouseMove)),i.addEvent(document,"mouseup",u(this,this.onMouseUp))},onMouseDown:function(e){e=i.fixEvent(e),this.draging=!0,this.isCurrentByTime=!1,this._y=e.clientY,this._mt=parseInt(this.layer.style.marginTop,10),this.enableUserSelect(!1),this.setTanstitonMove(!1),clearTimeout(this._time),document.body.style.cursor="pointer"},onMouseMove:function(e){e=i.fixEvent(e);if(this.draging==0)return;var t=this._mt+e.clientY-this._y,n=-this.layer.offsetHeight+30;t=t>30?30:t,t=t<n?n:t,isNaN(t)||(this.layer.style.marginTop=t+"px"),this.type!="lyric"&&(this.__p=t-this._mt)},onMouseUp:function(){this.draging==1&&(this.enableUserSelect(!0),this.mouseY=null,this.type=="lyric"?this._time=setTimeout(u(this,function(){this.setTanstitonMove(!0),this.isCurrentByTime=!0,this.nextMustSet()}),1e3):(this.isCurrentByTime=!0,this._p+=this.__p),document.body.style.cursor="",h.send("songwords_drag")),this.draging=!1},enableUserSelect:function(e){i.foreach(["webkitUserSelect","MozUserSelect","MsUserSelect","userSelect"],u(this,function(t){t in document.body.style&&(document.body.style[t]=e?"":"none")}))},setTanstitonMove:function(e){this.layer.style.cssText+=e?"-webkit-transition:margin-top 0.5s ease;-moz-transition:margin-top 0.5s ease;-o-transition:margin-top 0.5s ease;transition:margin-top 0.5s ease;":"-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none;"},setCurrentByTime:function(e,t){if(!this.isShow())return;var n,r;if(this.isCurrentByTime==0)return;if(this.lrc.length===0)return;if(this.type==="lyric"){n=p(e,this.lrc,function(e){return e.time});if(this._nextMustSet===!1&&n&&n===this.nowCur)return;this._nextMustSet=!1,r=i.core.dom.position(n.el,{parent:this.layer}).t,this.layer.style.marginTop=(r-this.layer.parentNode.offsetHeight/2+n.el.offsetHeight/2)*-1+"px",this.nowCur&&i.removeClassName(this.nowCur.el,"cur_word"),this.nowCur=n,i.addClassName(this.nowCur.el,"cur_word")}else if(this.layer.offsetHeight){var s=parseInt(-this.layer.offsetHeight+30),o=parseInt(this._p-this.layer.offsetHeight*e/t);this.layer.style.marginTop=(o<s?s:o)+"px"}},load:function(e){var t,n;if(e&&e.length)if(/\[\d*:\d*((\.|\:)\d*)*\]/.test(e))t="lyric",n=c(e).lyrics;else{t="text",n=[];var r=e.split("\n"),o=r.length;i.foreach(r,function(e,t){/^\s+$/.test(e)||n.push({pst:(t+1)/o,text:e})})}else t="empty";var a;this.reset(),this.type=t,t!="empty"?(i.foreach(n,u(this,function(e,t){a=i.C("p"),a.innerHTML=e.text,a.style.cssText+="-webkit-transition:color 0.5s ease;-moz-transition:color 0.5s ease;-o-transition:color 0.5s ease;transition:color 0.5s ease;",this.type!="lyric"&&i.addClassName(a,"cur_word"),this.layer.appendChild(a),this.lrc.push({el:a,time:e.time,pst:e.pst,index:t,text:e.text})})),setTimeout(u(this,function(){this.setTanstitonMove(this.type==="lyric")}),0)):(a=i.C("p"),a.innerHTML=s("#L{抱歉，暂无歌词}"),i.addClassName(a,"cur_word"),this.layer.appendChild(a))},reset:function(){this.lrc.length=0,this.nowCur=null,this.layer.style.marginTop="15px",this._p=15;while(this.layer.childNodes[0])i.removeNode(this.layer.childNodes[0])},nextMustSet:function(){this._nextMustSet=!0}}),e.exports=function(){return new d}},J:function(e,t,n,r){var i=n("A"),s=n("h"),o,u=i.C("div");i.foreach([["WebkitAnimation","webkitAnimationEnd"],["webkitAnimation","webkitAnimationEnd"],["MozAnimation","animationend"],["OAnimation","OAnimationEnd"],["msAnimation","msAnimationEnd"],["animation","animationend"]],function(e){typeof u.style[e[0]]=="string"&&(o=e[1])}),e.exports={show:function(e){function t(){i.removeEvent(this.el,o,n),i.removeClassName(this.el,"ani-fade-in"),this._animating=!1,typeof e=="function"&&e(),this.trigger&&this.trigger("shown")}if(this._animating)return;if(this.isShow()){typeof e=="function"&&e();return}var n=s(this,t);this._animating=!0,i.addClassName(this.el,"ani-fade-in"),this.el.style.display="",this.trigger&&this.trigger("show"),o?(i.addEvent(this.el,o,n),setTimeout(n,600)):n()},hide:function(e){function t(){i.removeEvent(this.el,o,n),this.el.style.display="none",i.removeClassName(this.el,"ani-fade-out"),this._animating=!1,typeof e=="function"&&e(),this.trigger&&this.trigger("hidden")}if(this._animating)return;if(!this.isShow()){typeof e=="function"&&e();return}var n=s(this,t);this._animating=!0,i.addClassName(this.el,"ani-fade-out"),this.trigger&&this.trigger("hide"),o?(i.addEvent(this.el,o,n),setTimeout(n,600)):n()},toggle:function(e){if(this._animating)return;this.isShow()?this.hide(e):this.show(e)},isShow:function(){return this.el.style.display!="none"}}},k:function(e,t,n,r){e.exports='<div class="lyric_wrap" node-type="lrc" style="display:none">\n    <div class="lyric_bg">\n        <a href="javascript:void(0);" class="ico_ctrl ico_close" title="#L{关闭}" action-type="toggle_lrc"></a>\n        <div class="content">\n            <div class="tcol_sub" node-type="lrc_content"></div>\n        </div>\n    </div>\n</div>'},K:function(e,t,n,r){function u(e,t){s(e.split("\n"),t)}function a(e){var t=[];return s(e,function(e){e!=undefined&&t.push(e)}),t}function f(e){var t=[],n={};return s(o,function(t,r){t=e.match(new RegExp("\\["+t+":([^\\]]*)\\]","i")),n[r]=t&&t[1]||""}),u(e,function(e,n,r){e=decodeURIComponent(e),n=e.replace(/\[\d*:\d*((\.|\:)\d*)*\]/g,""),r=e.match(/\[\d*:\d*((\.|\:)\d*)*\]/g),r&&r.length&&s(r,function(e){e=e.match(/\d+/g),e=1e3*((e[0]|0)*60+(e[1]|0)+(e[2]|0)*.01),t[e]={time:e,text:n}})}),n.lyrics=a(t),n}var i=n("A"),s=i.foreach,o={title:"ti",artist:"ar",album:"al",offset:"offset",by:"by"};e.exports=f},l:function(e,t,n,r){function i(e){this.ns=e}i.prototype.send=function(e){window.SUDA&&window.SUDA.uaTrack&&window.SUDA.uaTrack(this.ns,e)},e.exports=function(e){return new i(e)}},L:function(e,t,n,r){function x(e){e=e||{},this.firstSongidOnce=e.firstSongidOnce,this.page_id=e.page_id,this.nodes=i.foreach(i.builder(s(v)).list,function(e){return e[0]}),this.el=this.nodes.list,this.devt=i.delegatedEvent(this.el),this.scrollView={},this.list=[],this.playlist,this.loaded=!1,this.syncInterval,this.init()}var i=n("A"),s=n("B").translate,o=n("D"),u=n("m"),a=n("M"),f=n("G"),l=n("h"),c=n("H"),h=n("J"),p=n("n")(),d=n("N"),v=n("p"),m=n("P"),g=n("q"),y=n("Q"),b=n("r"),w=n("R"),E="song",S="current";f(x.prototype,c,h,{init:function(){this.bind(),this.scrollView.search=d(this.nodes.list_search_box),this.nodes.list_search_box.insertBefore(this.nodes.list_search_bar,this.nodes.list_search_box.firstChild)},loadOnce:function(e){this.loaded===!1?(this.load(e),this.loaded=!0):e&&e()},bind:function(){this.devt.add("list_tab","click",l(this,this.onTabClick)),this.devt.add("list_searchBtn","click",l(this,this.onSearchBtnClick)),this.devt.add("list_select","click",l(this,this.onPlayClick)),this.devt.add("list_selectAll","click",l(this,this.onPlayAllClick)),this.devt.add("list_like","click",l(this,this.onLikeClick)),this.devt.add("list_share","click",l(this,this.onShareClick)),this.devt.add("list_remove","click",l(this,this.onRemoveClick)),this.devt.add("list_removeAll","click",l(this,this.onRemoveAllClick)),this.on("show",l(this,function(){this.toCurrentTab()})),i.addEvent(this.nodes.searchinput,"keyup",l(this,this.onSearchInputkeydown))},buildItem:function(e,t){var n=t==="search"?b:t==="rank"?w:y,r=i.builder(i.core.util.easyTemplate(s(n),e).toString()).list.list_item[0];return p.set(r,E,e),r},buildItems:function(e,t){return i.foreach([].concat(e),l(this,function(e){return this.buildItem(e,t)}))},search:function(e){this.nodes.list_search_area_loading.style.display="",this.nodes.list_search_area_empty.style.display="none",this.nodes.list_search_area.innerHTML="",this.nodes.list_search_bar.innerHTML="",setTimeout(l(this,function(){o.search({key:e},l(this,function(e){var t=this.buildItems(e,"search"),n=t.length,r;while(r=t.shift())this.nodes.list_search_area.appendChild(r);var i='<span class="music_del">#L{共%s首}</span><span class="music_del music_del_hov" action-type="list_selectAll"><span class="ico_ctrl ico_rig_ht W_f14"></span>#L{全部播放}</span>';this.nodes.list_search_bar.innerHTML=s(i,n),this.scrollView.search.reset(),e.length===0&&(this.nodes.list_search_area_empty.style.display=""),this.nodes.list_search_area_loading.style.display="none"}))}),100),this.scrolltoTab(-1)},load:function(e){var t=this.firstSongidOnce||"";this.firstSongidOnce=null,t.indexOf(":")>=0&&t.indexOf("_")>=0&&(t=t.split("_")[1]),o.load({page_id:this.page_id,first_song_id:t},l(this,function(n,r,o){var u=this.list.length>0,a=this.getCurrent()&&p.get(this.getCurrent(),E).object_id;o&&o.is_show_search==1?this.nodes.searchinput.parentNode.style.display="":this.nodes.searchinput.parentNode.style.display="none",i.foreach(this.list,function(e){i.removeNode(e.tab),i.removeNode(e.box);if(e===this.playlist)return;try{e.scroll.destory()}catch(t){}}),this.list=[],n=function(e){var t=[];return i.foreach(e,function(e){t[e.index]=e}),t}(n);var f;i.foreach(n,l(this,function(e,t){if(!e)return;var r=e.is_playlist==1,o=e.is_current==1,u,a;o&&(f=e.index);if(r&&this.playlist){this.nodes.songTitles.appendChild(this.playlist.tab),this.nodes.songlists.insertBefore(this.playlist.box,this.nodes.list_search_box),this.playlist.index=e.index,this.list.push(this.playlist);return}if(r&&e.list.length===0)for(var l=0;l<n.length;l++)if(n[l].list[0]){e.list[0]=n[l].list[0];break}if(r||e.list.length){u=i.builder(m).box.firstChild,a=i.builder(g).box.firstChild;var c=i.sizzle(".title",u)[0],h=i.sizzle("[node-type=list_bar]",a)[0],p=i.sizzle("[node-type=list_area]",a)[0];c.innerHTML=e.title;var v=this.buildItems(e.list,r?undefined:"rank"),y=v.length,b,w,E={};while(b=v.shift())w=b.getAttribute("objectid"),w in E&&(i.removeNode(E[w]),y--),p.appendChild(b),E[w]=b;if(r){var S='<span class="music_del">#L{正在播放} （<span class="nowplay">0/0</span>）</span><span class="music_del music_del_hov" action-type="list_removeAll"><span class="ico_ctrl ico_del_lite_v2"></span>#L{清空列表}</span>';h.innerHTML=s(S)}else{var S='<span class="music_del">#L{共%s首}</span><span class="music_del music_del_hov" action-type="list_selectAll"><span class="ico_ctrl ico_rig_ht W_f14"></span>#L{全部播放}</span>';h.innerHTML=s(S,y)}this.nodes.songTitles.appendChild(u),this.nodes.songlists.insertBefore(a,this.nodes.list_search_box);var x=d(a);a.insertBefore(h,a.firstChild);var T={tab:u,box:a,scroll:x,isCurrent:o,isList:r,index:e.index};this.list.push(T),r&&(this.playlist=T)}})),this.nodes.songlists.style.width=685*(this.list.length+1)+"px",this.scrolltoTab(f);var c;u?(c=i.sizzle("[objectid="+a+"]",this.playlist.box)[0],c&&this.setCurrent(c)):(c=i.sizzle("[objectid=1022:10151501_"+t+"]",this.playlist.box)[0],c||(c=i.sizzle("[node-type=list_item]",this.playlist.box)[0]),c&&(this.setCurrent(c),this.trigger("select",[p.get(c,E),{fromLoad:!0}]))),e&&e()}))},syncPlayList:function(){var e=i.foreach(i.sizzle("[node-type=list_item]",this.playlist.box),function(e){return e.getAttribute("objectid")});o.syncPlayList({object_ids:i.jsonToStr(e)})},setPlayListBarInfo:function(){this.listBarInterval===undefined&&(this.listBarInterval=setTimeout(l(this,function(){var e=i.sizzle("[node-type=list_bar] .nowplay",this.playlist.box)[0],t=i.sizzle("[node-type=list_item]",this.playlist.box),n=0;for(var r=0,s=t.length;r<s;r++)if(i.core.dom.hasClassName(t[r],S)){n=r+1;break}e.innerHTML=n+"/"+t.length,this.listBarInterval=undefined}),200))},needSyncPlayList:function(){this.syncInterval===undefined&&(this.syncInterval=setTimeout(l(this,function(){this.syncPlayList(),this.syncInterval=undefined}),200))},showAddTip:function(){var e=this.showAddTip_tip=this.showAddTip_tip||i.builder('<span class="UI_ani_mplayer"></span>').box.firstChild;e.parentNode&&e.parentNode.removeChild(e);var t=i.sizzle(".title",this.playlist.tab)[0],n=i.position(t);this.playlist.tab.appendChild(e),i.core.dom.setXY(e,{t:n.t-4,l:n.l+t.offsetWidth+5}),clearTimeout(this.showAddTip_interval),this.showAddTip_interval=setTimeout(function(){i.removeNode(e)},1600)},canAddToPlayList:function(e){return i.sizzle("[node-type=list_item]",this.playlist.box).length+e<=100?!0:(this.trigger("showTip",["播放列表超过100首上限，<br/>请删除部分歌曲后再添加",".ico_ctrl.ico_list"]),!1)},setCurrent:function(e){var t=this.getCurrent(e);t&&i.removeClassName(t,S),i.addClassName(e,S),this.setPlayListBarInfo()},getCurrent:function(){return this.playlist&&i.sizzle("[node-type=list_item].current",this.playlist.box)[0]},toCurrentTab:function(){var e=this.getCurrent();if(!e)this.scrolltoTab(0);else{var t=i.core.dom.dir.parent(e,{expr:"[node-type=list_box]"})[0],n=0;i.foreach(this.list,function(e,r){e.box===t&&(n=r)}),this.scrolltoTab(n);var r=this.list[n]&&this.list[n].scroll.scrollEl;n=0;while(e.parentNode.childNodes[n]){if(e===e.parentNode.childNodes[n])break;n++}r&&(r.scrollTop=(n-4)*e.offsetHeight)}},getSong:function(e){var t=this.getCurrent();if(!t||!i.contains(this.playlist.box,t))t=i.sizzle("[node-type=list_item]",this.playlist.box)[0];else switch(e){case"next":t=t.nextSibling||t.parentNode.firstChild;break;case"prev":t=t.previousSibling||t.parentNode.lastChild;break;case"random":var n=t.parentNode.childNodes.length;n=parseInt(Math.random()*n),t=t.parentNode.childNodes[n]}return t&&this.setCurrent(t),t?p.get(t,E):undefined},addWithObjectId:function(e,t){t=t||{};var n=t.extraSend||{},r=t.isPlay||!1;this.loadOnce(l(this,function(){var t=i.sizzle("[node-type=list_area]",this.playlist.box)[0],s=this.playlist.index;this.scrolltoTab(s),o.add(f({object_id:e},n),l(this,function(e){var n;e.length&&this.showAddTip(),i.foreach(e,l(this,function(e){var r=i.sizzle("[objectid="+e.object_id+"]",t)[0],s=this.getCurrent();s=s?s.nextSibling:t.firstChild;if(!r){if(this.canAddToPlayList(1)===!1)return;r=this.buildItem(e)}s?t.insertBefore(r,s):t.appendChild(r),n=r})),this.needSyncPlayList(),r&&n&&(this.setCurrent(n),this.trigger("select",p.get(n,E)))}))}))},add:function(e,t){e=[].concat(e),t=t||{};var n=t.extraSend||{},r=t.isPlay||!1;this.loadOnce(l(this,function(){var t,s;i.foreach(this.list,function(e,n){e.isList===!0&&(t=i.sizzle("[node-type=list_area]",e.box)[0],s=n)}),this.scrolltoTab(s),o.add(f({songids:"["+e.reverse().join(",")+"]"},n),l(this,function(e){var n;e.length&&this.showAddTip(),i.foreach(e,l(this,function(e){var r=i.sizzle("[objectid="+e.object_id+"]",t)[0],s=this.getCurrent();s=s?s.nextSibling:t.firstChild;if(!r){if(this.canAddToPlayList(1)===!1)return;r=this.buildItem(e)}s?t.insertBefore(r,s):t.appendChild(r),n=r})),this.needSyncPlayList(),r&&n&&(this.setCurrent(n),this.trigger("select",p.get(n,E))),this.setPlayListBarInfo()}))}))},likeByObjectId:function(e,t){i.foreach(i.sizzle("[likeid="+e+"]",this.el),function(e){var n=i.core.dom.dir.parent(e,{expr:"[node-type=list_item]"})[0];p.get(n,E).is_like=t,t?(i.addClassName(e,"ico_liked_lite"),i.removeClassName(e,"ico_like_lite")):(i.addClassName(e,"ico_like_lite"),i.removeClassName(e,"ico_liked_lite"))})},scrolltoTab:function(e){e==-1&&(e=this.list.length),i.foreach(this.list,function(t,n){n===e?i.addClassName(t.tab.firstChild,"title_current"):i.removeClassName(t.tab.firstChild,"title_current")}),this.nodes.songlists.style.left=-685*e+"px",this.list[e]&&this.list[e].scroll.reset()},onTabClick:function(e){var t;i.foreach(this.list,function(n,r){n.tab===e.el&&(t=r)}),t!=undefined&&this.scrolltoTab(t)},onSearchBtnClick:function(e){var t=this.nodes.searchinput.value;t.length>0&&this.search(t)},onSearchInputkeydown:function(e){var t;e=i.fixEvent(e);if(e.keyCode===13||e.keyCode===10)t=this.nodes.searchinput.value,t.length>0&&this.search(t)},onPlayClick:function(e){var t=e.el.getAttribute("action-type"),n=e.evt.target.getAttribute("action-type");if(n&&t!=n)return;var r=e.el,s=p.get(r,E),o=i.sizzle("[node-type=list_area]",this.playlist.box)[0];if(!i.contains(o,r)){this.showAddTip();var u=i.sizzle("[objectid="+s.object_id+"]",o)[0],a=this.getCurrent(),f=a?a.nextSibling:o.firstChild;if(!u){if(this.canAddToPlayList(1)===!1)return;u=this.buildItem(s)}u!=a&&(f?o.insertBefore(u,f):o.appendChild(u),this.needSyncPlayList()),r=u}this.setCurrent(r),this.trigger("select",[p.get(r,E)])},onPlayAllClick:function(e){var t=i.core.dom.dir.parent(e.el,{expr:"[node-type=list_box],[node-type=list_search_box]"})[0],n=i.sizzle("[node-type=list_item]",t),r=this.getCurrent(),s=i.sizzle("[node-type=list_area]",this.playlist.box)[0],o=r?r.nextSibling:s.firstChild;n.length&&this.showAddTip();var u;for(var a=0,f=n.length;a<f;a++){var l=p.get(n[a],E),c=i.sizzle("[objectid="+l.object_id+"]",s)[0];if(!c){if(this.canAddToPlayList(1)===!1)break;c=this.buildItem(l)}o?s.insertBefore(c,o):s.appendChild(c),a===0&&(u=c)}u&&(this.needSyncPlayList(),this.setPlayListBarInfo(),this.setCurrent(u),this.trigger("select",[p.get(u,E)]))},onRemoveClick:function(e){var t=i.core.dom.dir.parent(e.el,{expr:"[node-type=list_item]"})[0];if(i.core.dom.hasClassName(t,S))if(t.parentNode.childNodes.length===1)this.trigger("select");else{var n=this.getSong("next");n&&this.trigger("select",[n,{fromRemove:!0}])}i.removeNode(t),this.needSyncPlayList(),this.setPlayListBarInfo()},onRemoveAllClick:function(e){var t=i.core.dom.dir.parent(e.el,{expr:"[node-type=list_item]"})[0],n=i.sizzle("[node-type=list_area]",t)[0];n.innerHTML="",this.trigger("select"),this.needSyncPlayList(),this.setPlayListBarInfo()},onLikeClick:function(e){var t=i.core.dom.dir.parent(e.el,{expr:"[node-type=list_item]"})[0];this.trigger("like",p.get(t,E))},onShareClick:function(e){var t=i.core.dom.dir.parent(e.el,{expr:"[node-type=list_item]"})[0];this.trigger("share",p.get(t,E))}}),e.exports=function(e){return new x(e)}},m:function(e,t,n,r){var i=n("A");e.exports=function(e){if(!i.core.dom.isNode(e))throw"Parameter must be an HTMLEelement!";var t=[];for(var n=0,r=e.childNodes.length;n<r;n++)e.childNodes[n].nodeType==1&&t.push(e.childNodes[n]);return t}},M:function(e,t,n,r){e.exports=function(e,t,n){var r;if(e&&t){n=n||document.body;while(e&&e!=n&&!(r=e.getAttribute(t)))e=e.parentNode}return r}},n:function(e,t,n,r){function u(){this.cache={},this.expando="Data_"+o(),this.index=1}var i=n("A"),s=n("G"),o=i.core.util.getUniqueKey;u.prototype={key:function(e){var t={},n=e[this.expando];if(!n){n=this.index++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,s(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];typeof t=="string"?o[t]=n:s(o,t)},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},remove:function(e,t){var n=this.key(e),r=this.cache[n];t===undefined?this.cache[n]={}:delete r[t]}},e.exports=function(){return new u}},N:function(e,t,n,r){function b(e){function b(e){return arguments.length>0?t.content.scrollTop=e:t.content.scrollTop}function w(){return t.content.scrollHeight}function E(){return t.content.offsetHeight}function S(e){e=v(e);var t=-e.wheelDelta;isNaN(t)&&(t=e.deltaY);var n=t<0,r=t>0;(n&&b()<=0||r&&w()-b()-E()<=0)&&m(e)}function x(e){e=v(e);var n=e.target;if(e.which!==1)return;n===t.barContent?(r=!0,u=e.clientY-parseInt(t.barContent.style.top,10)/100*t.barContainer.offsetHeight):t.barContent.getBoundingClientRect().top<e.clientY?b(b()+w()*.1):b(b()-w()*.1)}function T(e){e=v(e),r===!0&&b((e.clientY-u)/t.barContainer.offsetHeight*w())}function N(e){r=!1}function C(e){return i.getStyle(e,"position")==="absolute"?!0:e===document.body?!1:e.parentNode?C(e.parentNode):!1}function k(){try{var e=s();g&&C(t.content)&&(e=0),t.content.style.width=(t.container.offsetWidth||parseInt(l(t.container,"width")))+e+"px",t.barContent.style.height=E()/w()*100+"%",t.barContent.style.top=b()/w()*100+"%",t.barContainer.style.visibility=w()<=E()?"hidden":""}catch(n){}}function L(){p(t.content,"scroll",k),p(t.barContainer,"mousedown",x),p(document,"mousemove",T),p(document,"mouseup",N),d(t.container),d(t.barContainer),clearInterval(a);while(f=t.container.firstChild)e.appendChild(f)}var t=o(c(y).list),n,r=!1,u,a;for(n in t)t.hasOwnProperty(n)&&t[n].removeAttribute("node-type");var f;while(f=e.firstChild)t.content.appendChild(f);return e.appendChild(t.container),e.appendChild(t.barContainer),h(t.content,"scroll",k),h(t.barContainer,"mousedown",x),h(document,"mousemove",T),h(document,"mouseup",N),h(t.content,"mousewheel",S),h(t.content,"DOMMouseScroll",S),a=setInterval(function(){try{t.container.scrollLeft=0}catch(e){}},1e3),k(),{reset:k,destroy:L,scrollHeight:w,scrollTop:b,offsetHeight:E,scrollEl:t.content}}var i=n("A"),s=n("o"),o=n("O"),u=i.C,a=i.addClassName,f=i.removeClassName,l=i.getStyle,c=i.builder,h=i.addEvent,p=i.removeEvent,d=i.removeNode,v=i.fixEvent,m=i.stopEvent,g=i.core.util.browser.IE6||i.core.util.browser.IE7,y='<div node-type="container" style="overflow:hidden;width:100%;height:100%;position:relative;_background:url(about:blank);"><div node-type="content" style="position:relative;height:100%;width:100%;overflow-y:scroll;overflow-x:hidden;-webkit-overflow-scrolling:touch;margin-right:-30px;padding-right:30px;"></div></div><div class="scroll_box" node-type="barContainer" style="bottom:10px;"><div class="scroll_bar" node-type="barContent" style="top:0%; height:0;"></div></div>';e.exports=b},o:function(e,t,n,r){function u(){var e=s("div"),t=s("div"),n;return e.style.cssText="width:40px;overflow:auto;height:30px;position:absolute;top:-100px;",t.style.cssText="height:35px;",document.body.insertBefore(e,document.body.firstChild).appendChild(t),n=e.offsetWidth-t.offsetWidth,o(e),e=t=null,u=function(){return n},n}var i=n("A"),s=i.C,o=i.removeNode;e.exports=u},O:function(e,t,n,r){e.exports=function(e){for(var t in e)e[t]&&e[t].length==1&&(e[t]=e[t][0]);return e}},p:function(e,t,n,r){e.exports='<div class="panel_area" node-type="list" style="display:none;">\n    <div class="title_box">\n        <div class="opt_btn">\n            <a action-type="toggle_list" href="javascript:void(0);" class="ico_ctrl ico_close" title="关闭"></a>\n        </div>\n        <ul class="ul_title" node-type="songTitles"></ul>\n        <div class="opt_box">\n            <div class="search_box">\n                <input node-type="searchinput" type="text" class="ipt_txt" placeholder="#L{搜索歌曲/歌手}">\n                <a href="javascript:void(0)" action-type="list_searchBtn" class="search_btn"><i class="ico_mplayer ico_search"></i></a>\n            </div>\n        </div>\n    </div>\n    <div class="list_area">\n        <div node-type="songlists" style="height:250px;width:685px;position:relative;left:0px;-webkit-transition:left .3s ease;-webkit-transition:left .3s ease;-moz-transition:left .3s ease;-o-transition:left .3s ease;transition:left .3s ease;">\n            <div node-type="list_search_box" style="height:100%;width:685px;float:left;overflow:hidden;position:relative;">\n                <div class="list_wrap" style="width:685px;height:auto;">\n                    <p class="p_item" node-type="list_search_bar"></p>\n                    <div class="list_box">\n                        <ul class="ul_list" node-type="list_search_area"></ul>\n                    </div>\n                    <div class="empty_box" node-type="list_search_area_loading" style="display:none" >\n                        <div style="height:30px;"></div>\n                        <p class="text" node-type="list_search_area_empty_text">努力搜索中, 请稍后...</p>\n                    </div>\n                    <div class="empty_box" node-type="list_search_area_empty" style="display:none">\n                        <i class="ico_ctrl ico_list_warn"></i>\n                        <p class="text" node-type="list_search_area_empty_text">对不起，没有找到相应结果。</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},P:function(e,t,n,r){e.exports='<li class="li_title autocut" style="max-width:140px;" action-type="list_tab"><a href="javascript:void(0);" class="title_item">\n	<span class="title"></span>\n	<span class="ani_border"></span>\n</a></li>'},q:function(e,t,n,r){e.exports='<div node-type="list_box" list="rank" style="height:100%;width:685px;float:left;overflow:hidden;position:relative;">\n    <p class="p_item" node-type="list_bar"></p>\n    <div class="list_wrap" style="width:685px;height:auto;">\n        <div class="list_box">\n            <ul class="ul_list" node-type="list_area"></ul>\n        </div>\n    </div>\n</div>'},Q:function(e,t,n,r){e.exports='<#et temp data>\n<li class="li_item" node-type="list_item" objectid="${data.object_id}" action-type="list_select">\n    <span class="music_name">${data.songname}</span>\n    <span class="singer_name">\n        <#list data.singers as singer>\n            <span>${singer.singer_name}</span>\n        </#list>\n        <#if (data.sell_url)>\n          <a href="${data.sell_url}" target="_blank" action-type="list_buy" class="ico_mplayer ico_pay">#L{购买}</a>\n        </#if>\n    </span>\n    <span class="opt_box">\n        <a href="javascript:void(0);" action-type="list_like" likeid="${data.object_id}"\n           <#if (data.is_like)>\n           class="ico_ctrl ico_liked_lite"\n           <#else>\n           class="ico_ctrl ico_like_lite"\n           </#if>\n        ></a>\n        <a href="javascript:void(0);" class="ico_ctrl ico_share_lite" action-type="list_share"></a>\n        <a href="javascript:void(0);" class="ico_ctrl ico_del_lite" action-type="list_remove"></a>\n    </span>\n</li>\n</#et>'},r:function(e,t,n,r){e.exports='<#et temp data>\n<li class="li_item" node-type="list_item" objectid="${data.object_id}" action-type="list_select">\n    <span class="music_name">${data.songname}</span>\n    <span class="singer_name">\n        <#list data.singers as singer>\n            <span>${singer.singer_name}</span>\n        </#list>\n        <#if (data.sell_url)>\n            <a href="${data.sell_url}" target="_blank" action-type="list_buy" class="ico_mplayer ico_pay">#L{购买}</a>\n        </#if>\n    </span>\n    <span class="opt_box">\n        <a href="javascript:void(0);" action-type="list_like" likeid="${data.object_id}"\n           <#if (data.is_like)>\n           class="ico_ctrl ico_liked_lite"\n           <#else>\n           class="ico_ctrl ico_like_lite" \n           </#if>\n        ></a>\n        <a href="javascript:void(0);" class="ico_ctrl ico_share_lite" action-type="list_share"></a>\n    </span>\n</li>\n</#et>'},R:function(e,t,n,r){e.exports='<#et temp data>\n<li class="li_item" node-type="list_item" objectid="${data.object_id}" action-type="list_select">\n    <span class="music_name">${data.songname}</span>\n    <span class="singer_name">\n        <#list data.singers as singer>\n            <span>${singer.singer_name}</span>\n        </#list>\n        <#if (data.sell_url)>\n       	    <a href="${data.sell_url}" target="_blank" action-type="list_buy" class="ico_mplayer ico_pay">#L{购买}</a>\n       	</#if>\n    </span>    \n    <span class="opt_box">\n        <a href="javascript:void(0);" action-type="list_like" likeid="${data.object_id}"\n           <#if (data.is_like)>\n           class="ico_ctrl ico_liked_lite"\n           <#else>\n           class="ico_ctrl ico_like_lite" \n           </#if>\n        ></a>\n        <a href="javascript:void(0);" class="ico_ctrl ico_share_lite" action-type="list_share"></a>\n    </span>\n</li>\n</#et>'},s:function(e,t,n,r){function l(){this.nodes=i.foreach(i.builder(s(a)).list,function(e){return e[0]}),this.el=this.nodes.info,this.defaultData={page_url:"//ting.weibo.com?from=page_101515_player",songname:s("#L{微音乐}"),photo:"//img.t.sinajs.cn/t5/style/images/pagecard/player/default_cover.jpg",singers:[{singer_url:"//ting.weibo.com?from=page_101515_player",singer_name:s("#L{微音乐}")}]},this.render()}var i=n("A"),s=n("B").translate,o=n("G"),u=n("h"),a=n("S"),f=n("t");o(l.prototype,{render:function(e){this.el.innerHTML=i.core.util.easyTemplate(s(f),e||this.defaultData).toString()}}),e.exports=function(){return new l}},S:function(e,t,n,r){e.exports='<div node-type="info" class="music_info"></div>'},t:function(e,t,n,r){e.exports='<#et temp data>\n<div class="music_pic">\n	<a target="_blank" href="${data.page_url}" title="${data.songname}" class="pic"><img src="${data.photo.replace(/^https:|^http:/, \'\')}"/></a>\n</div>\n<div class="music_detail">\n    <p class="name_bar">\n        <a target="_blank" class="name autocut" href="${data.page_url}" title="${data.songname}">${data.songname}</a>\n    </p>\n    <p class="author_bar autocut">\n	<#list data.singers as singer>\n        <#if (singer.singer_url) >\n        <a target="_blank" class="author tcol_sub" href="${singer.singer_url}" title="${singer.singer_name}">${singer.singer_name}</a>\n        <#else>\n        <span class="author tcol_sub" title="${singer.singer_name}">${singer.singer_name}</span>\n        </#if>\n	</#list>\n    </p>\n    <#if (data.source_name) >\n    <p class="source_bar autocut">\n    	<em class="tcol_sub">#L{来自}</em><a suda-data="key=tblog_musicpageplayer&value=source" target="_blank" href="${data.source_link}" class="source">${data.source_name}</a>\n    </p>\n    </#if>\n</div>\n</#et>'},T:function(e,t,n,r){function f(){this.el=i.builder(a).box.firstChild,this.hideDelay=1500,this.hideInterval}var i=n("A"),s=n("G"),o=n("J"),u=n("h"),a='<div class="PCD_mplayer_layer" style="position:absolute;"><div class="content"><p class="main_txt"></p><div class="layer_arrow"><span class="arrow_bor arrow_bor_b"><i class="arrow_a"></i><em class="arrow_b"></em></span></div></div></div>';s(f.prototype,o,{setContent:function(e){var t=i.sizzle(".main_txt",this.el)[0];return t&&(t.innerHTML=e),this},showByTarget:function(e,t){clearTimeout(this.hideInterval),t=t||{},this.el.style.display="",this.el.style.height="",this.el.style.width="",document.body.appendChild(this.el),this.el.style.height=this.el.offsetHeight+"px",this.el.style.width=this.el.offsetWidth+1+"px",t.appendTo?t.appendTo.appendChild(this.el):e.parentNode.insertBefore(this.el,e);var n=i.core.dom.position(e);return i.core.dom.setXY(this.el,{l:n.l+e.offsetWidth/2-27+(t.left|0),t:n.t-this.el.offsetHeight-10+(t.top|0)}),this.el.style.display="none",this.show(),this.hideInterval=setTimeout(u(this,function(){this.hide()}),this.hideDelay),this}}),e.exports=new f},u:function(e,t,n,r){function i(e){var t=(e/60|0).toString(),n=(e%60|0).toString();return t=t.length>=2?t:"0"+t,n=n.length>=2?n:"0"+n,[t,n].join(" : ")}e.exports=i},U:function(e,t,n,r){e.exports='<div i-am-music-player node-type="box">\n<div class="PCD_mplayer_layer" style="position:fixed;bottom:90px;;left:30px;display:none;" node-type="confirm">\n    <div class="content">\n        <p class="main_txt"><span class="txt">#L{确认要隐藏播放器吗？}</span></p>\n        <p class="sub_txt S_txt2">#L{隐藏后点击页面任意播放按钮即可再次出现}</p>\n        <div class="btn">\n            <a href="javascript:void(0);" action-type="hide" class="btn_a" suda-data="key=tblog_musicpageplayer&value=click_close">#L{确认}</a>\n            <a href="javascript:void(0);" action-type="hide_confirm" class="btn_b">#L{取消}</a>\n        </div>\n        <div class="layer_arrow"><span class="arrow_bor arrow_bor_b"><i class="arrow_a"></i><em class="arrow_b"></em></span></div>\n    </div>\n</div>\n<div class="PCD_mplayer clearfix" node-type="mini" style="-webkit-transition:left .3s ease;-moz-transition:left .3s ease;-o-transition:left .3s ease;-ms-transition:left .3s ease;transition:left .3s ease;position:fixed;bottom:33px;left:0;z-index:9999;">\n    <div class="mini clearfix">\n        <div class="mini_panel_area">\n            <a href="javascript:void(0)" class="mini_btn_area pause_state" node-type="mini_toggle_play" action-type="toggle_play">\n                <i class="ico_ctrl ico_mini_state"></i>\n                <span class="mask"></span>\n                <img node-type="mini_photo" src="//img.t.sinajs.cn/t5/style/images/pagecard/player/default_cover.jpg" class="pic">\n            </a>\n        </div>\n        <a href="javascript:void(0)" class="mini_fold_ctrl_area" action-type="toggle_fold">\n            <i class="ico_ctrl ico_unfold"></i>\n        </a>\n        <a href="javascript:void(0);" action-type="show_confirm" class="ico_ctrl ico_close" title="#L{关闭}"></a>\n    </div>\n</div>\n<div class="PCD_mplayer PCD_mplayer_v2 clearfix" node-type="player" style="-webkit-transition:left .5s ease;-moz-transition:left .5s ease;-o-transition:left .5s ease;-ms-transition:left .5s ease;transition:left .5s ease;position:fixed;bottom:20px;left:-690px;z-index:9999;">\n    <div class="player_bg" node-type="">\n        <div node-type="list"></div>\n        <div class="unfold_area">\n            <div class="unfold_bg">\n                <div class="time_wrap">\n                    <div class="time_bar" node-type="progress_range_out">\n                        <div class="cur_time_bg" style="width:%;" node-type="progress_range">\n                            <a class="cur_time" href="javascript:void(0);" title="#L{进度}"></a>\n                        </div>\n                    </div>\n                    <div class="time_count tcol_sub" node-type="time"><em>00</em>:<em>00</em></div>\n                    <div class="layer_time" style="top:-20px; left:200px;z-index:1;pointer-events:none;display:none;" node-type="time_tip">\n                        <div class="content">\n                            <i class="ico_ctrl ico_time_arrow"></i>\n                            <span node-type="time_tip_text">00:00</span>\n                        </div>\n                    </div>\n                 </div>\n                <div class="main_panel clearfix">\n                    <div class="music_info" node-type="info"></div>\n                    <div class="contrl_panel">\n                        <p class="layer_loop" style="display:none;" node-type="play_type_select">\n                                <a href="javascript:void(0);" title="#L{随机播放}" class="ico_ctrl ico_rand" node-type="play_type_select_rand" action-type="play_type_select"></a>\n                                <a href="javascript:void(0);" title="#L{单曲循环}" class="ico_ctrl ico_solo" node-type="play_type_select_solo" action-type="play_type_select"></a>\n                                <a href="javascript:void(0);" title="#L{列表循环}" class="ico_ctrl ico_loop" node-type="play_type_select_loop" action-type="play_type_select"></a>\n                            </p>\n                        <div class="contrl_bar clearfix">   \n                            <div class="base_ctrl">\n                                <a href="javascript:void(0);" class="ico_ctrl ico_prev" action-type="prev" title="#L{上一首}"></a>\n                                <a href="javascript:void(0);" class="ico_ctrl ico_play" node-type="toggle_play" action-type="toggle_play" title="#L{播放/暂停}"></a>\n                                <a href="javascript:void(0);" class="ico_ctrl ico_next" action-type="next" title="#L{下一首}"></a>\n                                <a href="javascript:void(0);" class="ico_ctrl ico_loop" node-type="play_type" action-type="play_type"></a>\n                            </div>\n                            <div class="vol_ctrl">\n                                <a href="javascript:void(0);" class="ico_ctrl ico_vol" title="#L{音量}" action-type="toggle_mute" node-type="toggle_mute"></a>\n                                <div class="ctrl_bar" node-type="volume_range_out">\n                                    <div class="cur_vol cur_volmute" style="width:0%" node-type="volume_range">\n                                        <a href="javascript:void(0);" class="ico_ctrl ico_curvol" title="#L{音量调节}"></a>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="opt_ctrl clearfix">\n                                <a href="javascript:void(0);" class="ico_ctrl ico_like" action-type="like" node-type="like"></a>\n                                <a href="javascript:void(0);" class="ico_ctrl ico_share" action-type="share" title="#L{分享}"></a>\n                                <a href="javascript:void(0);" class="ico_ctrl ico_list" node-type="toggle_list" title="#L{展开列表}" action-type="toggle_list"></a>\n                                <a href="javascript:void(0);" class="ico_lyric ico_lyric_open" node-type="toggle_lrc" action-type="toggle_lrc" title="#L{显示歌词}">词</a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="fold_ctrl_area" title="#L{展开}" action-type="toggle_fold" node-type="toggle_fold"><div class="mask"><a href="javascript:void(0);" class="ico_ctrl ico_unfold ico_fold"></a></div></div>\n        <div node-type="lrc"></div>\n    </div>\n</div>\n</div>'},v:function(e,t,n,r){function a(e){return Math.pow(e,2)}function f(e){return Math.sqrt(e,2)}function l(e,t,n){var r=e.y,i=t.y,o=n;return f(2*(o-r)/s)+f(2*(o-i)/s)}function c(e,t,n){var r=e.x,i=e.y,o=t.x,u=t.y,l=n;return function(e){function t(e){return i+ -0.5*s*a(e)+f(2*s*(l-i))*e}function n(e){return r-(r-o)*e/(f(2*(l-i)/s)+f(2*(l-u)/s))}return{x:n(e),y:t(e)}}}function h(e,t,n){function d(){var t=(Date.now()-h)/1e3,r=a(t);t<=f?(p.style.left=r.x+"px",p.style.bottom=r.y+"px",setTimeout(d,1/o*1e3),Math.abs(f-t)<.05&&u&&(p.style.opacity=0)):(p.style.left=e.x+"px",p.style.bottom=e.y+"px",setTimeout(function(){p.parentNode&&p.parentNode.removeChild(p),n&&n()},700),u&&(p.style.opacity=0))}var r=document.documentElement.clientHeight,i={x:t.clientX,y:r-t.clientY},s=20,a=c(i,e,Math.max(i.y,e.y)+s),f=l(i,e,Math.max(i.y,e.y)+s),h=Date.now(),p=document.createElement("div");p.style.cssText='-webkit-transition:opacity .5s ease;-moz-transition:opacity .5s ease;-o-transition:opacity .5s ease;transition:opacity .5s ease; opacity:1; width:30px; height:30px; background:url("//js.t.sinajs.cn/t5/pack/static/musicplayer/musicicon.png") center center no-repeat; margin:-15px 0 0 -15px; position:fixed;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-o-transform:translateZ(0);transform:translateZ(0);z-index:9999;bottom:0px;left:0px;',document.body.appendChild(p),d()}var i=n("A"),s=2500,o=70,u=function(){var e=document.body.style,t=e.WebkitTransition!==undefined?"WebkitTransition":e.webkitTransition!==undefined?"webkitTransition":e.MozTransition!==undefined?"MozTransition":e.OTransition!==undefined?"OTransition":e.msTransition!==undefined?"msTransition":e.transition!==undefined?"transition":!1;return t}();e.exports=function(e,t){var n=i.getEvent();n&&h(e,n,t)}},V:function(e,t,n,r){function o(e,t,n){n=n||function(){};var r=function(e,t){var n=s[e]||(s[e]={loaded:!1,list:[]});return n.loaded?(t(e),!1):(n.list.push(t),n.list.length>1?!1:!0)},o=function(e){var t=s[e].list;for(var n=0;n<t.length;n++)t[n](e);s[e].loaded=!0,delete s[e].list};if(!r(e,n))return;var u=i.C("link");u.setAttribute("rel","Stylesheet"),u.setAttribute("type","text/css"),u.setAttribute("charset","utf-8"),u.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(u);var a=i.C("div");a.id=t,i.core.util.hideContainer.appendChild(a);var f=3e3,l=function(){if(parseInt(i.core.dom.getStyle(a,"height"))==42){i.core.util.hideContainer.removeChild(a),o(e);return}--f>0?setTimeout(l,10):(i.log(e+"timeout!"),i.core.util.hideContainer.removeChild(a),delete s[e])};setTimeout(l,50)}var i=n("A"),s={};e.exports=o}});