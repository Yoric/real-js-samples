!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.V=e()}(this,function(){function t(t,e){le(t).forEach(function(n){return e(t[n],n)})}function e(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return Object.assign?Object.assign.apply(Object,[e].concat(i)):(i.forEach(function(n){n&&t(n,function(t,n){e[n]=t})}),e)}function n(t){return!!t&&"object"===(void 0===t?"undefined":ne(t))}function i(t){return n(t)&&"[object Object]"===ae.call(t)&&t.constructor===Object}function o(t){return t.replace(/\n\r?\s*/g,"")}function r(t,e){if(!t||!e)return"";if("function"==typeof xt.getComputedStyle){var n=xt.getComputedStyle(t);return n?n[e]:""}return t.currentStyle[e]||""}function s(t){return"string"==typeof t&&/\S/.test(t)}function a(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function l(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function h(){return It===xt.document&&void 0!==It.createElement}function u(t){return n(t)&&1===t.nodeType}function c(t){return function(e,n){if(!s(e))return It[t](null);s(n)&&(n=It.querySelector(n));var i=u(n)?n:It;return i[t]&&i[t](e)}}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],o=It.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(de.warn(fe(ye,t,n)),o.setAttribute(t,n)):"textContent"===t?d(o,n):o[t]=n}),Object.getOwnPropertyNames(n).forEach(function(t){o.setAttribute(t,n[t])}),i&&I(o,i),o}function d(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function f(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function y(t,e){return a(e),t.classList?t.classList.contains(e):l(e).test(t.className)}function v(t,e){return t.classList?t.classList.add(e):y(t,e)||(t.className=(t.className+" "+e).trim()),t}function _(t,e){return t.classList?t.classList.remove(e):(a(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function g(t,e,n){var i=y(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?v(t,e):_(t,e),t}function m(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];null===i||void 0===i||!1===i?t.removeAttribute(n):t.setAttribute(n,!0===i?"":i)})}function b(t){var e={};if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,i=n.length-1;i>=0;i--){var o=n[i].name,r=n[i].value;"boolean"!=typeof t[o]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+o+",")||(r=null!==r),e[o]=r}return e}function C(t,e){return t.getAttribute(e)}function w(t,e,n){t.setAttribute(e,n)}function T(t,e){t.removeAttribute(e)}function E(){It.body.focus(),It.onselectstart=function(){return!1}}function S(){It.onselectstart=function(){return!0}}function k(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat(r(t,"height"))),n.width||(n.width=parseFloat(r(t,"width"))),n}}function x(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=It.documentElement,i=It.body,o=n.clientLeft||i.clientLeft||0,r=xt.pageXOffset||i.scrollLeft,s=e.left+r-o,a=n.clientTop||i.clientTop||0,l=xt.pageYOffset||i.scrollTop,h=e.top+l-a;return{left:Math.round(s),top:Math.round(h)}}function P(t,e){var n={},i=x(t),o=t.offsetWidth,r=t.offsetHeight,s=i.top,a=i.left,l=e.pageY,h=e.pageX;return e.changedTouches&&(h=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-l+r)/r)),n.x=Math.max(0,Math.min(1,(h-a)/o)),n}function A(t){return n(t)&&3===t.nodeType}function M(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function N(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),u(t)||A(t)?t:"string"==typeof t&&/\S/.test(t)?It.createTextNode(t):void 0}).filter(function(t){return t})}function I(t,e){return N(e).forEach(function(e){return t.appendChild(e)}),t}function D(t,e){return I(M(t),e)}function F(){return me++}function O(t){var e=t[Ce];return e||(e=t[Ce]=F()),be[e]||(be[e]={}),be[e]}function B(t){var e=t[Ce];return!!e&&!!Object.getOwnPropertyNames(be[e]).length}function L(t){var e=t[Ce];if(e){delete be[e];try{delete t[Ce]}catch(e){t.removeAttribute?t.removeAttribute(Ce):t[Ce]=null}}}function R(t,e){var n=O(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&L(t)}function H(t,e,n,i){n.forEach(function(n){t(e,n,i)})}function U(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||xt.event;t={};for(var o in i)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&i.preventDefault||(t[o]=i[o]));if(t.target||(t.target=t.srcElement||It),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var r=It.documentElement,s=It.body;t.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}function V(t,e,n){if(Array.isArray(e))return H(V,t,e,n);var i=O(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=F()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e,n){if(!i.disabled){e=U(e);var o=i.handlers[e.type];if(o)for(var r=o.slice(0),s=0,a=r.length;s<a&&!e.isImmediatePropagationStopped();s++)try{r[s].call(t,e,n)}catch(t){de.error(t)}}}),1===i.handlers[e].length)if(t.addEventListener){var o=!1;we&&Te.indexOf(e)>-1&&(o={passive:!0}),t.addEventListener(e,i.dispatcher,o)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function j(t,e,n){if(B(t)){var i=O(t);if(i.handlers){if(Array.isArray(e))return H(j,t,e,n);var o=function(e){i.handlers[e]=[],R(t,e)};if(e){var r=i.handlers[e];if(r){if(!n)return void o(e);if(n.guid)for(var s=0;s<r.length;s++)r[s].guid===n.guid&&r.splice(s--,1);R(t,e)}}else for(var a in i.handlers)o(a)}}}function z(t,e,n){var i=B(t)?O(t):{},o=t.parentNode||t.ownerDocument;if("string"==typeof e&&(e={type:e,target:t}),e=U(e),i.dispatcher&&i.dispatcher.call(t,e,n),o&&!e.isPropagationStopped()&&!0===e.bubbles)z.call(null,o,e,n);else if(!o&&!e.defaultPrevented){var r=O(e.target);e.target[e.type]&&(r.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),r.disabled=!1)}return!e.defaultPrevented}function W(t,e,n){if(Array.isArray(e))return H(W,t,e,n);var i=function i(){j(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||F(),V(t,e,i)}function q(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=p("span",{className:"wbv-event-bus"});return e(t,Oe),t.on("dispose",function(){return t.off()}),t}function K(t,n){return e(t,Be),t.state=e({},t.state,n),"function"==typeof t.handleStateChanged&&Pe(t)&&t.on("statechanged",t.handleStateChanged),t}function X(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function G(t,e){return X(t)===X(e)}function Y(){for(var e={},n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return o.forEach(function(n){n&&t(n,function(t,n){if(!i(t))return void(e[n]=t);i(e[n])||(e[n]={}),e[n]=Y(e[n],t)})}),e}function $(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function Q(t,e,n,i){return $(t,i,n.length-1),n[i][e]}function J(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:Q.bind(null,"start",0,t),end:Q.bind(null,"end",1,t)}}function Z(t,e){return Array.isArray(t)?J(t):void 0===t||void 0===e?J():J([[t,e]])}function tt(t,e){var n=0,i=void 0,o=void 0;if(!e)return 0;t&&t.length||(t=Z(0,0));for(var r=0;r<t.length;r++)i=t.start(r),o=t.end(r),o>e&&(o=e),n+=o-i;return n/e}function et(t){if(t instanceof et)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:n(t)&&("number"==typeof t.code&&(this.code=t.code),e(this,t)),this.message||(this.message=et.defaultMessages[this.code]||"")}function nt(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]}function it(t,e){Ye[t]=Ye[t]||[],Ye[t].push(e)}function ot(t,e,n){t.setTimeout(function(){return ht(e,Ye[e.type],n,t)},1)}function rt(t,e){t.forEach(function(t){return t.setTech&&t.setTech(e)})}function st(t,e,n){return t.reduceRight(lt(n),e[n]())}function at(t,e,n,i){return e[n](t.reduce(lt(n),i))}function lt(t){return function(e,n){return n[t]?n[t](e):e}}function ht(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2],o=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=n[0],l=n.slice(1);if("string"==typeof a)ht(t,Ye[a],i,o,r,s);else if(a){var h=a(o);h.setSource(e({},t),function(e,n){if(e)return ht(t,l,i,o,r,s);r.push(h),ht(n,t.type===n.type?l:Ye[n.type],i,o,r,s)})}else l.length?ht(t,l,i,o,r,s):s?i(t,r):ht(t,Ye["*"],i,o,r,!0)}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),o=Math.floor(t/3600),r=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(o=i=n="-"),o=o>0||s>0?o+":":"",i=((o||r>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,o+i+n}function ct(t){var e=di.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function pt(t,e,n){if(!pi(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===vi.call(t)?dt(t,e,n):"string"==typeof t?ft(t,e,n):yt(t,e,n)}function dt(t,e,n){for(var i=0,o=t.length;i<o;i++)_i.call(t,i)&&e.call(n,t[i],i,t)}function ft(t,e,n){for(var i=0,o=t.length;i<o;i++)e.call(n,t.charAt(i),i,t)}function yt(t,e,n){for(var i in t)_i.call(t,i)&&e.call(n,t[i],i,t)}function vt(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)Ci.call(n,i)&&(t[i]=n[i])}return t}function _t(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function gt(t,e,n){var i=t;return pi(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=bi(e,{uri:t}),i.callback=n,i}function mt(t,e,n){return e=gt(t,e,n),bt(e)}function bt(t){function e(){4===a.readyState&&setTimeout(o,0)}function n(){var t=void 0;if(t=a.response?a.response:a.responseText||Ct(a),v)try{t=JSON.parse(t)}catch(t){}return t}function i(t){return clearTimeout(u),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,s(t,_)}function o(){if(!h){var e;clearTimeout(u),e=t.useXDR&&void 0===a.status?200:1223===a.status?204:a.status;var i=_,o=null;return 0!==e?(i={body:n(),statusCode:e,method:p,headers:{},url:c,rawRequest:a},a.getAllResponseHeaders&&(i.headers=mi(a.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),s(o,i,i.body)}}if(void 0===t.callback)throw new Error("callback argument missing");var r=!1,s=function(e,n,i){r||(r=!0,t.callback(e,n,i))},a=t.xhr||null;a||(a=t.cors||t.useXDR?new mt.XDomainRequest:new mt.XMLHttpRequest);var l,h,u,c=a.url=t.uri||t.url,p=a.method=t.method||"GET",d=t.body||t.data,f=a.headers=t.headers||{},y=!!t.sync,v=!1,_={body:void 0,headers:{},statusCode:0,method:p,url:c,rawRequest:a};if("json"in t&&!1!==t.json&&(v=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),d=JSON.stringify(!0===t.json?d:t.json))),a.onreadystatechange=e,a.onload=o,a.onerror=i,a.onprogress=function(){},a.onabort=function(){h=!0},a.ontimeout=i,a.open(p,c,!y,t.username,t.password),y||(a.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(u=setTimeout(function(){if(!h){h=!0,a.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",i(t)}},t.timeout)),a.setRequestHeader)for(l in f)f.hasOwnProperty(l)&&a.setRequestHeader(l,f[l]);else if(t.headers&&!_t(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(a.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(a),a.send(d||null),a}function Ct(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function wt(){}function Tt(t,e,i){var o=void 0;if("string"==typeof t){var r=Tt.getPlayers();if(0===t.indexOf("#")&&(t=t.slice(1)),r[t])return e&&de.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&r[t].ready(i),r[t];if(e.container&&u(e.container)){var s=It.createElement("video");s.id=t,s.className=e.defaultClassName||"WB_h5video_v2",e.container.appendChild(s),o=r[t]=s}else o=ve("#"+t)}else o=t;if(!o||!o.nodeName)throw new TypeError("The element or ID supplied is not valid. (V)");if(o.player||ti.players[o.playerId])return o.player||ti.players[o.playerId];e=e||{},Tt.hooks("beforesetup").forEach(function(t){var i=t(o,Y(e));if(!n(i)||Array.isArray(i))return void de.error("please return an object in beforesetup hooks");e=Y(e,i)});var a=Le.getComponent("Player"),l=new a(o,e,i);return Tt.hooks("setup").forEach(function(t){return t(l)}),l}var Et,St="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Et="undefined"!=typeof window?window:void 0!==St?St:"undefined"!=typeof self?self:{};var kt,xt=Et,Pt={},At=(Object.freeze||Object)({default:Pt}),Mt=At&&Pt||At,Nt=void 0!==St?St:"undefined"!=typeof window?window:{};"undefined"!=typeof document?kt=document:(kt=Nt["__GLOBAL_DOCUMENT_CACHE@4"])||(kt=Nt["__GLOBAL_DOCUMENT_CACHE@4"]=Mt);var It=kt,Dt=xt.navigator&&xt.navigator.userAgent||"",Ft=/AppleWebKit\/([\d.]+)/i.exec(Dt),Ot=Ft?parseFloat(Ft.pop()):null,Bt=/iPad/i.test(Dt),Lt=/iPhone/i.test(Dt)&&!Bt,Rt=/iPod/i.test(Dt),Ht=Lt||Bt||Rt,Ut=function(){var t=Dt.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Vt=/Android/i.test(Dt),jt=function(){var t=Dt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),zt=Vt&&/webkit/i.test(Dt)&&jt<2.3,Wt=Vt&&jt<5&&Ot<537,qt=/Firefox/i.test(Dt),Kt=/Edge/i.test(Dt),Xt=!Kt&&/Chrome/i.test(Dt),Gt=function(){var t=Dt.match(/Chrome\/(\d+)/);return t&&t[1]?parseFloat(t[1]):null}(),Yt=/MSIE\s8\.0/.test(Dt),$t=function(){var t=/MSIE\s(\d+)\.\d/.exec(Dt),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Dt)&&/rv:11.0/.test(Dt)&&(e=11),e}(),Qt=/Safari/i.test(Dt)&&!Xt&&!Vt&&!Kt,Jt=Qt||Ht,Zt=h()&&("ontouchstart"in xt||xt.DocumentTouch&&xt.document instanceof xt.DocumentTouch),te=h()&&"backgroundSize"in xt.document.createElement("video").style,ee=(Object.freeze||Object)({IS_IPAD:Bt,IS_IPHONE:Lt,IS_IPOD:Rt,IS_IOS:Ht,IOS_VERSION:Ut,IS_ANDROID:Vt,ANDROID_VERSION:jt,IS_OLD_ANDROID:zt,IS_NATIVE_ANDROID:Wt,IS_FIREFOX:qt,IS_EDGE:Kt,IS_CHROME:Xt,CHROME_VERSION:Gt,IS_IE8:Yt,IE_VERSION:$t,IS_SAFARI:Qt,IS_ANY_SAFARI:Jt,TOUCH_ENABLED:Zt,BACKGROUND_SIZE_SUPPORTED:te}),ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},oe=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},re=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},se=function(t,e){return t.raw=e,t},ae=Object.prototype.toString,le=function(t){return n(t)?Object.keys(t):[]},he=void 0,ue="all",ce=[],pe=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!$t&&$t<11,o=he.levels[ue],r=new RegExp("^("+o+")$");"log"!==t&&e.unshift(t.toUpperCase()+":"),ce&&ce.push([].concat(e)),e.unshift("V:");var s=xt.console&&xt.console[t];s&&o&&r.test(t)&&(i&&(e=e.map(function(t){if(n(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}).join(" ")),s.apply?s[Array.isArray(e)?"apply":"call"](xt.console,e):s(e))};he=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];pe("log",e)},he.levels={all:"log|warn|error",error:"error",off:"",warn:"warn|error",DEFAULT:ue},he.level=function(t){if("string"==typeof t){if(!he.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');ue=t}return ue},he.history=function(){return ce?[].concat(ce):[]},he.history.clear=function(){ce&&(ce.length=0)},he.history.disable=function(){null!==ce&&(ce.length=0,ce=null)},he.history.enable=function(){null===ce&&(ce=[])},he.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return pe("error",e)},he.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return pe("warn",e)};var de=he,fe=function(t){for(var e="",n=0;n<arguments.length;n++)e+=o(t[n])+(arguments[n+1]||"");return e},ye=se(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),ve=c("querySelector"),_e=c("querySelectorAll"),ge=(Object.freeze||Object)({isReal:h,isEl:u,createEl:p,textContent:d,prependTo:f,hasClass:y,addClass:v,removeClass:_,toggleClass:g,setAttributes:m,getAttributes:b,getAttribute:C,setAttribute:w,removeAttribute:T,blockTextSelection:E,unblockTextSelection:S,getBoundingClientRect:k,findPosition:x,getPointerPosition:P,isTextNode:A,emptyEl:M,normalizeContent:N,appendContent:I,insertContent:D,$:ve,$$:_e}),me=1,be={},Ce="vdata"+(new Date).getTime(),we=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){we=!0}});xt.addEventListener("test",null,t)}catch(t){}}();var Te=["touchstart","touchmove"],Ee=(Object.freeze||Object)({fixEvent:U,on:V,off:j,trigger:z,one:W}),Se=function(t,e,n){e.guid||(e.guid=F());var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i},ke=function(t,e){var n=Date.now();return function(){var i=Date.now();i-n>=e&&(t.apply(void 0,arguments),n=i)}},xe=function(){};xe.prototype.allowedEvents_={},xe.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},V(this,t,e),this.addEventListener=n},xe.prototype.addEventListener=xe.prototype.on,xe.prototype.off=function(t,e){j(this,t,e)},xe.prototype.removeEventListener=xe.prototype.off,xe.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},W(this,t,e),this.addEventListener=n},xe.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=U(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),z(this,t)},xe.prototype.dispatchEvent=xe.prototype.trigger;var Pe=function(t){return t instanceof xe||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},Ae=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},Me=function(t){if(!t.nodeName&&!Pe(t))throw new Error("Invalid target; must be a DOM node or evented object.")},Ne=function(t){if(!Ae(t))throw new Error("Invalid event type; must be a non-empty string or array.")},Ie=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},De=function(t,e){var n=e.length<3||e[0]===t||e[0]===t.eventBusEl_,i=void 0,o=void 0,r=void 0;return n?(i=t.eventBusEl_,e.length>=3&&e.shift(),o=e[0],r=e[1]):(i=e[0],o=e[1],r=e[2]),Me(i),Ne(o),Ie(r),r=Se(t,r),{isTargetingSelf:n,target:i,type:o,listener:r}},Fe=function(t,e,n,i){Me(t),t.nodeName?Ee[e](t,n,i):t[e](n,i)},Oe={on:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=De(this,n),r=o.isTargetingSelf,s=o.target,a=o.type,l=o.listener;if(Fe(s,"on",a,l),!r){var h=function(){return t.off(s,a,l)};h.guid=l.guid;var u=function(){return t.off("dispose",h)};u.guid=l.guid,Fe(this,"on","dispose",h),Fe(s,"on","dispose",u)}},one:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=De(this,n),r=o.isTargetingSelf,s=o.target,a=o.type,l=o.listener;if(r)Fe(s,"one",a,l);else{var h=function e(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];t.off(s,a,e),l.apply(null,i)};h.guid=l.guid,Fe(s,"one",a,h)}},off:function(t,e,n){if(!t||Ae(t))j(this.eventBusEl_,t,e);else{var i=t,o=e;Me(i),Ne(o),Ie(n),n=Se(this,n),this.off("dispose",n),i.nodeName?(j(i,o,n),j(i,"dispose",n)):Pe(i)&&(i.off(o,n),i.off("dispose",n))}},trigger:function(t,e){return z(this.eventBusEl_,t,e)}},Be={state:{},setState:function(e){var n=this;"function"==typeof e&&(e=e());var i=void 0;return t(e,function(t,e){n.state[e]!==t&&(i=i||{},i[e]={from:n.state[e],to:t}),n.state[e]=t}),i&&Pe(this)&&this.trigger({changes:i,type:"statechanged"}),i}},Le=function(){function t(e,n,i){if(ie(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=Y({},this.options_),n=this.options_=Y(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var o=e&&e.id&&e.id()||"no_player";this.id_=o+"_component_"+F()}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),q(this,{eventBusKey:this.el_?"el_":null}),K(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==n.initChildren&&this.initChildren(),this.ready(i),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),L(this.el_),this.el_=null)},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return t?(this.options_=Y(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,n,i){return i=e({disabletitle:"true"},i),p(t,n,i)},t.prototype.localize=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),r=o&&o[i],s=i&&i.split("-")[0],a=o&&o[s],l=n;return r&&r[t]?l=r[t]:a&&a[t]&&(l=a[t]),e&&(l=l.replace(/\{(\d+)\}/g,function(t,n){var i=e[n-1],o=i;return void 0===i&&(o=t),o})),l},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){if(t)return t=X(t),this.childNameIndex_[t]},t.prototype.addChild=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,o=void 0,r=void 0;if("string"==typeof e){r=X(e);var s=n.componentClass||r;n.name=r;var a=t.getComponent(s);if(!a)throw new Error("Component "+s+" does not exist");if("function"!=typeof a)return null;o=new a(this.player_||this,n)}else o=e;if(this.children_.splice(i,0,o),"function"==typeof o.id&&(this.childIndex_[o.id()]=o),r=r||o.name&&X(o.name()),r&&(this.childNameIndex_[r]=o),"function"==typeof o.el&&o.el()){var l=this.contentEl().children,h=l[i]||null;this.contentEl().insertBefore(o.el(),h)}return o},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,n=this.options_.children;if(n){var i=this.options_,o=function(t){var n=t.name,o=t.opts;if(void 0!==i[n]&&(o=i[n]),!1!==o){!0===o&&(o={}),o.playerOptions=e.options_.playerOptions;var r=e.addChild(n,o);r&&(e[n]=r)}},r=void 0,s=t.getComponent("Tech");r=Array.isArray(n)?n:Object.keys(n),r.concat(Object.keys(this.options_).filter(function(t){return!r.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var i=void 0,o=void 0;return"string"==typeof t?(i=t,o=n[i]||e.options_[i]||{}):(i=t.name,o=t),{name:i,opts:o}}).filter(function(e){var n=t.getComponent(e.opts.componentClass||X(e.name));return n&&!s.isTech(n)}).forEach(o)}},t.prototype.buildCSSClass=function(){return""},t.prototype.ready=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(this.isReady_?e?t.call(this):this.setTimeout(t,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t)))},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,e){return ve(t,e||this.contentEl())},t.prototype.$$=function(t,e){return _e(t,e||this.contentEl())},t.prototype.hasClass=function(t){return y(this.el_,t)},t.prototype.addClass=function(t){v(this.el_,t)},t.prototype.removeClass=function(t){_(this.el_,t)},t.prototype.toggleClass=function(t,e){g(this.el_,t,e)},t.prototype.show=function(){this.removeClass("wbv-hidden")},t.prototype.hide=function(){this.addClass("wbv-hidden")},t.prototype.lockShowing=function(){this.addClass("wbv-lock-showing")},t.prototype.unlockShowing=function(){this.removeClass("wbv-lock-showing")},t.prototype.getAttribute=function(t){return C(this.el_,t)},t.prototype.setAttribute=function(t,e){w(this.el_,t,e)},t.prototype.removeAttribute=function(t){T(this.el_,t)},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},t.prototype.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e===e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],o=i.indexOf("px");return-1!==o?parseInt(i.slice(0,o),10):parseInt(this.el_["offset"+X(t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof xt.getComputedStyle){var n=xt.getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}if(0===(e=parseFloat(e))){var i="offset"+X(t);e=this.el_[i]}return e},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var t=0,e=null,n=void 0;this.on("touchstart",function(i){1===i.touches.length&&(e={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=(new Date).getTime(),n=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)n=!1;else if(e){var i=t.touches[0].pageX-e.pageX,o=t.touches[0].pageY-e.pageY,r=Math.sqrt(i*i+o*o);r>10&&(n=!1)}});var i=function(){n=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(i){if(e=null,!0===n){(new Date).getTime()-t<200&&(i.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=Se(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.prototype.setTimeout=function(t,e){t=Se(this,t);var n=xt.setTimeout(t,e),i=function(){this.clearTimeout(n)};return i.guid="wbv-timeout-"+n,this.on("dispose",i),n},t.prototype.clearTimeout=function(t){xt.clearTimeout(t);var e=function(){};return e.guid="wbv-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){t=Se(this,t);var n=xt.setInterval(t,e),i=function(){this.clearInterval(n)};return i.guid="wbv-interval-"+n,this.on("dispose",i),n},t.prototype.clearInterval=function(t){xt.clearInterval(t);var e=function(){};return e.guid="wbv-interval-"+t,this.off("dispose",e),t},t.prototype.requestAnimationFrame=function(t){var e=this;if(this.supportsRaf_){t=Se(this,t);var n=xt.requestAnimationFrame(t),i=function(){return e.cancelAnimationFrame(n)};return i.guid="wbv-raf-"+n,this.on("dispose",i),n}return this.setTimeout(t,1e3/60)},t.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){xt.cancelAnimationFrame(t);var e=function(){};return e.guid="wbv-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},t.registerComponent=function(e,n){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i=t.getComponent("Tech"),o=i&&i.isTech(n),r=t===n||t.prototype.isPrototypeOf(n.prototype);if(o||!r){var s=void 0;throw s=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+s+".")}e=X(e),t.components_||(t.components_={});var a=t.getComponent("Player");if("Player"===e&&a&&a.players){var l=a.players,h=Object.keys(l);if(l&&h.length>0&&h.map(function(t){return l[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=n,n},t.getComponent=function(e){
if(e)return e=X(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();Le.prototype.supportsRaf_="function"==typeof xt.requestAnimationFrame&&"function"==typeof xt.cancelAnimationFrame,Le.registerComponent("Component",Le);for(var Re={},He=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ue=He[0],Ve=void 0,je=0;je<He.length;je++)if(He[je][1]in It){Ve=He[je];break}if(Ve)for(var ze=0;ze<Ve.length;ze++)Re[Ue[ze]]=Ve[ze];et.prototype.code=0,et.prototype.message="",et.prototype.status=null,et.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],et.defaultMessages={1:"用户中止了播放",2:"您的网络不太好，建议更换网络",3:"抱歉，视频无法播放，去看看其他视频",4:"抱歉，视频无法播放，去看看其他视频",5:"视频格式错误，无法播放"};for(var We=0;We<et.errorTypes.length;We++)et[et.errorTypes[We]]=We,et.prototype[et.errorTypes[We]]=We;var qe=nt,Ke="wbv-modal-dialog",Xe=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.opened_=o.hasBeenOpened_=o.hasBeenFilled_=!1,o.closeable(!o.options_.uncloseable),o.content(o.options_.content),o.options_.withoutContent||(o.contentEl_=p("div",{className:Ke+"-content"},{}),o.descEl_=p("p",{className:Ke+"-description wbv-control-text",id:o.el().getAttribute("aria-describedby")}),d(o.descEl_,o.description()),o.el_.appendChild(o.descEl_),o.el_.appendChild(o.contentEl_)),o}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()},{})},e.prototype.buildCSSClass=function(){return Ke+" wbv-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},e.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("Modal Window");return this.closeable()&&(t+=" "),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",Se(this,this.handleKeyPress)),t.controls(!1),this.show(),this.conditionalFocus_(),this.player_.bigPlayButton&&this.player_.bigPlayButton.hide(),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Se(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.player_.bigPlayButton&&this.player_.bigPlayButton.show(),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.prototype.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"关闭对话框"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},e.prototype.fill=function(){this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),D(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var o=this.getChild("closeButton");o&&n.appendChild(o.el_)},e.prototype.empty=function(){this.trigger("beforemodalempty"),M(this.contentEl()),this.trigger("modalempty")},e.prototype.content=function(t){return void 0!==t&&(this.content_=t),this.content_},e.prototype.conditionalFocus_=function(){var t=It.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus(),this.on(It,"keydown",this.handleKeyDown))},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(It,"keydown",this.handleKeyDown)},e.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,o=0;o<e.length;o++)if(n===e[o]){i=o;break}It.activeElement===this.el_&&(i=0),t.shiftKey&&0===i?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||i!==e.length-1||(e[0].focus(),t.preventDefault())}},e.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof xt.HTMLAnchorElement||t instanceof xt.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof xt.HTMLInputElement||t instanceof xt.HTMLSelectElement||t instanceof xt.HTMLTextAreaElement||t instanceof xt.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof xt.HTMLIFrameElement||t instanceof xt.HTMLObjectElement||t instanceof xt.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},e}(Le);Xe.prototype.options_={pauseOnOpen:!0,temporary:!0},Le.registerComponent("ModalDialog",Xe);var Ge=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};ie(this,e),n.reportTouchActivity=!1;var o=re(this,t.call(this,null,n,i));return o.hasStarted_=!1,o.on("playing",function(){this.hasStarted_=!0}),o.on("loadstart",function(){this.hasStarted_=!1}),o.featuresProgressEvents||o.manualProgressOn(),o.featuresTimeupdateEvents||o.manualTimeUpdatesOn(),["Video"].forEach(function(t){!1===n["native"+t+"Tracks"]&&(o["featuresNative"+t+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?o.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(o.featuresNativeTextTracks=!0),n.nativeControlsForTouch||o.emitTapEvents(),o.constructor&&(o.name_=o.constructor.name||"Unknown Tech"),o}return oe(e,t),e.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0},e.prototype.manualProgressOff=function(){this.manualProgress=!1,this.off("durationchange",this.onDurationChange)},e.prototype.onDurationChange=function(t){this.duration_=this.duration()},e.prototype.buffered=function(){return Z(0,0)},e.prototype.bufferedPercent=function(){return tt(this.buffered(),this.duration_)},e.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.dispose=function(){this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.prototype.reset=function(){},e.prototype.error=function(t){return void 0!==t&&(this.error_=new et(t),this.trigger("error")),this.error_},e.prototype.played=function(){return this.hasStarted_?Z(0,0):Z()},e.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.getVideoPlaybackQuality=function(){return{}},e.prototype.setPoster=function(){},e.prototype.playsinline=function(){},e.prototype.setPlaysinline=function(){},e.prototype.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,n){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=X(t),e.techs_[t]=n,"Tech"!==t&&e.defaultTechOrder_.push(t),n},e.getTech=function(t){if(t)return t=X(t),e.techs_&&e.techs_[t]?e.techs_[t]:xt&&xt.V&&xt.V[t]?(de.warn("The "+t+" tech was added to the V object when it should be registered using V.registerTech(name, tech)"),xt.V[t]):void 0},e}(Le);Ge.prototype.featuresVolumeControl=!0,Ge.prototype.featuresFullscreenResize=!1,Ge.prototype.featuresPlaybackRate=!1,Ge.prototype.featuresProgressEvents=!1,Ge.prototype.featuresTimeupdateEvents=!1,Ge.prototype.featuresNativeTextTracks=!1,Ge.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n=t.sourceHandlers||[],i=void 0,o=0;o<n.length;o++)if(i=n[o].canPlayType(e))return i;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],o=0;o<i.length;o++)if(i[o].canHandleSource(e,n))return i[o];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""},["seekable","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:de.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.currentSource_=null),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Le.registerComponent("Tech",Ge),Ge.registerTech("Tech",Ge),Ge.defaultTechOrder_=[];var Ye={},$e={buffered:1,currentTime:1,duration:1,seekable:1,played:1},Qe={setCurrentTime:1},Je=function t(e){if(Array.isArray(e)){var i=[];e.forEach(function(e){e=t(e),Array.isArray(e)?i=i.concat(e):n(e)&&i.push(e)}),e=i}else e="string"==typeof e&&e.trim()?[{src:e}]:n(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[e]:[];return e},Ze=function(t){function e(n,i,o){ie(this,e);var r=Y({createEl:!1},i),s=re(this,t.call(this,n,r,o));if(i.playerOptions.sources&&0!==i.playerOptions.sources.length)n.src(i.playerOptions.sources);else for(var a=0,l=i.playerOptions.techOrder;a<l.length;a++){var h=X(l[a]),u=Ge.getTech(h);if(h||(u=Le.getComponent(h)),u&&u.isSupported()){n.loadTech_(h);break}}return s}return oe(e,t),e}(Le);Le.registerComponent("MediaLoader",Ze);var tn=function(t){function n(e,i){ie(this,n);var o=re(this,t.call(this,e,i));return o.enable(),o}return oe(n,t),n.prototype.createEl=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=e({innerHTML:'<span aria-hidden="true" class="wbv-icon-placeholder"></span>',className:this.buildCSSClass()},i),"button"===n&&de.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),o=e({role:"button","aria-live":"polite"},o),this.tabIndex_=i.tabIndex;var r=t.prototype.createEl.call(this,n,i,o);return this.createControlTextEl(r),r},n.prototype.createControlTextEl=function(t){return this.controlTextEl_=p("span",{className:"wbv-control-text"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,d(this.controlTextEl_||e,n)},n.prototype.buildCSSClass=function(){return"wbv-control wbv-button "+t.prototype.buildCSSClass.call(this)},n.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("wbv-disabled"),this.el_.setAttribute("aria-disabled","false"),this.on("click",this.handleBeforeClick),this.on("click",this.handleClick),this.on("click",this.handleAfterClick),this.on("mouseenter",this.handleMouseEnter),this.on("mouseleave",this.handleMouseLeave),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},n.prototype.disable=function(){this.enabled_=!1,this.addClass("wbv-disabled"),this.el_.setAttribute("aria-disabled","true"),this.off("click",this.handleBeforeClick),this.off("click",this.handleClick),this.off("click",this.handleAfterClick),this.off("mouseenter",this.handleMouseEnter),this.off("mouseleave",this.handleMouseLeave),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},n.prototype.handleBeforeClick=function(t){},n.prototype.handleClick=function(t){},n.prototype.handleAfterClick=function(t){},n.prototype.handleMouseEnter=function(t){this.el().getAttribute("disabletitle")||v(this.el_,"wbv-button-title")},n.prototype.handleMouseLeave=function(t){this.el().getAttribute("disabletitle")||_(this.el_,"wbv-button-title")},n.prototype.handleFocus=function(t){V(It,"keydown",Se(this,this.handleKeyPress))},n.prototype.handleBeforeKeyPress=function(t){},n.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},n.prototype.handleAfterKeyPress=function(t){},n.prototype.handleBlur=function(t){j(It,"keydown",Se(this,this.handleKeyPress))},n}(Le);Le.registerComponent("ClickableComponent",tn);var en=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.update(),n.on("posterchange",Se(o,o.update)),o}return oe(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=p("div",{className:"wbv-poster",tabIndex:-1},{disabletitle:"true"});return te&&!this.options().fallbackImg_||(this.fallbackImg_=p("img"),t.appendChild(this.fallbackImg_)),this.options().playCount&&this.options().duration&&(this.playInfoEl_=p("div",{className:"wbv-poster-info clearfix",innerHTML:'<div class="W_fl">'+this.options().playCount+'次播放</div><div class="W_fr">'+ut(this.options().duration)+"</div>"}),t.appendChild(this.playInfoEl_)),t},e.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.hasClicked()||this.player_.hasClicked(!0),this.player_.paused()?this.player_.play():this.player_.pause())},e}(tn);Le.registerComponent("PosterImage",en);var nn=function(t){function e(){return ie(this,e),re(this,t.apply(this,arguments))}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-loading-spinner",innerHTML:'<i class="W_loading_big"></i>'})},e}(Le);Le.registerComponent("LoadingSpinner",nn);var on=function(t){function e(n,i){return ie(this,e),re(this,t.call(this,n,i))}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-ending-layer"})},e.prototype.show=function(){this.addClass("wbv-lock-showing")},e.prototype.hide=function(){this.removeClass("wbv-lock-showing")},e}(Le);Le.registerComponent("EndDisplay",on);var rn=function(t){function n(){return ie(this,n),re(this,t.apply(this,arguments))}return oe(n,t),n.prototype.createEl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t="button",n=e({innerHTML:'<span aria-hidden="true" class="wbv-icon-placeholder"></span>',className:this.buildCSSClass()},n),i=e({type:"button","aria-live":"polite"},i);var o=Le.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(o),o},n.prototype.addChild=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return de.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Le.prototype.addChild.call(this,t,e)},n.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},n}(tn);Le.registerComponent("Button",rn);var sn=function(t){function n(e,i){ie(this,n);var o=re(this,t.call(this,e,i));return o.mouseused_=!1,o.on("mousedown",o.handleMouseDown),o}return oe(n,t),n.prototype.createEl=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o=e({disabletitle:"true"},o),t.prototype.createEl.call(this,n,i,o)},n.prototype.buildCSSClass=function(){return"wbv-big-play-button"},n.prototype.handleBeforeClick=function(t){this.options_.handleBeforeClick&&"function"==typeof this.options_.handleBeforeClick&&this.options_.handleBeforeClick(t)},n.prototype.handleAfterClick=function(t){this.options_.handleAfterClick&&"function"==typeof this.options_.handleAfterClick&&this.options_.handleAfterClick(t)},n.prototype.handleClick=function(t){this.player_.hasClicked()||this.player_.hasClicked(!0);var e=this.player_.play();if(!(this.mouseused_&&t.clientX&&t.clientY)){var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i)return void this.player_.focus();var o=function(){return i.focus()};if(e&&e.then){var r=function(){};e.then(o,r)}else this.setTimeout(o,1)}},n.prototype.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},n.prototype.handleMouseDown=function(t){this.mouseused_=!0},n}(rn);sn.prototype.controlText_="Play",Le.registerComponent("BigPlayButton",sn);var an=function(t){function n(e,i){ie(this,n);var o=re(this,t.call(this,e,i));return o.on(e,"play",o.handlePlay),o.on(e,"pause",o.handlePause),o}return oe(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"li",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=e({disabletitle:"true"},i,this.options_.attrs);var o=p(t,e({className:"wbv-menu-item"},this.options_,n),i);return this.contentEl_=p("a",{},{href:"javascript:void(0);"}),o.appendChild(this.contentEl_),o},n.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause(),this.player_.trigger("dispatchHidemenu")},n.prototype.handlePlay=function(t){this.controlText("暂停",this.contentEl())},n.prototype.handlePause=function(t){this.controlText("播放",this.contentEl())},n.prototype.handleEnded=function(t){this.controlText("重播",this.contentEl())},n}(tn);an.prototype.controlText_="播放",Le.registerComponent("TogglePlayItem",an);var ln=function(t){function n(e,i){ie(this,n);var o=re(this,t.call(this,e,i));return o.updateControlText_(),o.on(e,["loadedmetadata","volumechange"],o.updateControlText_),o}return oe(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"li",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=e({disabletitle:"true"},i,this.options_.attrs);var o=p(t,e({className:"wbv-menu-item"},this.options_,n),i);return this.contentEl_=p("a",{},{href:"javascript:void(0);"}),o.appendChild(this.contentEl_),o},n.prototype.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted());this.player_.trigger("dispatchHidemenu")},n.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),e=t?"音量":"静音";this.controlText()!==e&&this.controlText(e,this.contentEl())},n}(tn);ln.prototype.controlText_="音量",Le.registerComponent("ToggleMuteItem",ln);var hn=function(t){function n(e,i){ie(this,n);var o=re(this,t.call(this,e,i));return o.controlText("视频地址",o.contentEl()),o}return oe(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"li",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=e({disabletitle:"true"},i,this.options_.attrs);var o=p(t,e({className:"wbv-menu-item"},this.options_,n),i);return this.contentEl_=p("a",{},{href:"javascript:void(0);"}),o.appendChild(this.contentEl_),o},n.prototype.handleClick=function(t){this.player_.trigger("dispatchHidemenu"),this.player_.trigger("showUrlLayer")},n}(tn);hn.prototype.controlText_="视频地址",Le.registerComponent("CopyUrlItem",hn);var un=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.canShowMenu_=!1,o.on(n,"contextmenu",o.showContextmenu_),o.on(n,"firstplay",o.canShowMenu),o.on(n,["pause","dispatchHidemenu"],o.hideContextmenu_),o}return oe(e,t),e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=p(e,{className:"wbv-menu-content"}),this.contentEl_.setAttribute("role","list");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"wbv-right-pop wbv-hidden"});return n.appendChild(this.contentEl_),V(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},e.prototype.canShowMenu=function(t){this.canShowMenu_=!0},e.prototype.showContextmenu_=function(t){if(t.preventDefault(),t.stopImmediatePropagation(),!this.player_.preventDefaultMenu_&&this.canShowMenu_){var e=this.player_.el().getBoundingClientRect(),n={x:t.clientX-e.left+"px",y:t.clientY-e.top+"px"},i=this.el().style;i.top=n.y,i.left=n.x,this.show(),this.player_.fixContextmenu(!1),this.player_.trigger("showContextMenu")}},e.prototype.hideContextmenu_=function(){this.hide(),this.player_.fixContextmenu(!0),this.player_.trigger("hideContextMenu")},e}(Le);un.prototype.options_={children:["togglePlayItem","toggleMuteItem","copyUrlItem"]},Le.registerComponent("ContextMenu",un);var cn=function(t){function n(e,i){ie(this,n);var o=re(this,t.call(this,e,i));return o.setCopyUrl(null,{url:i.copyUrl||o.player_.cache_.copyUrl_}),o.on("resetCopyUrl",o.setCopyUrl),o.on("selectCopyUrl",o.selectUrl),o}return oe(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=e({type:"text",readonly:"readonly"},i,this.options_.attrs),p(t,e(this.options_,n),i)},n.prototype.setCopyUrl=function(t,e){var n=decodeURIComponent(e.url);this.player_.cache_.copyUrl_=this.el().value=n},n.prototype.selectUrl=function(t){this.el().focus(),this.el().select()},n}(Le);Le.registerComponent("CopyUrlInput",cn);var pn=function(t){function e(n,i){return ie(this,e),re(this,t.call(this,n,i))}return oe(e,t),e.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a";arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(t,{className:"V_ficon V_ficon_close"})},e.prototype.handleClick=function(t){this.trigger("closeUrlLayer")},e}(tn);Le.registerComponent("CopyUrlClose",pn);var dn=function(t){function e(n,i){ie(this,e),i.copyUrl?i.copyUrl=i.copyUrl:de.warn("need pass a copyUrl : "+n.id()+" ");var o=re(this,t.call(this,n,i));return o.copyUrl_(i.copyUrl),o.on(o.copyUrlClose,"closeUrlLayer",o.hideLayer),o.on(n,"showUrlLayer",o.showLayer),o}return oe(e,t),e.prototype.createEl=function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],this.options_.contentElType||"div");this.contentEl_=p(e,{className:"ipt"});var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"wbv-right-layer wbv-hidden"});return n.appendChild(this.contentEl_),V(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},e.prototype.copyUrl_=function(t){return void 0!==t&&(this.player_.cache_.copyUrl_=this.copyUrl_=decodeURIComponent(t),this.copyUrlInput.trigger("resetCopyUrl",{url:this.copyUrl_})),this.copyUrl_||this.player_.cache_.copyUrl_},e.prototype.showLayer=function(t){this.show(),this.copyUrlInput.trigger("selectCopyUrl")},e.prototype.hideLayer=function(t){this.hide()},e}(Le);dn.prototype.options_={children:["copyUrlInput","copyUrlClose"]},Le.registerComponent("CopyUrlLayer",dn);var fn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.controlText(i&&i.controlText||o.localize("Close")),o}return oe(e,t),e.prototype.buildCSSClass=function(){return"wbv-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(rn);Le.registerComponent("CloseButton",fn);var yn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.on(n,"play",o.handlePlay),o.on(n,"pause",o.handlePause),o.on(n,"ended",o.handleEnded),o}return oe(e,t),e.prototype.buildCSSClass=function(){return"wbv-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleBeforeClick=function(t){this.options_.handleBeforeClick&&"function"==typeof this.options_.handleBeforeClick&&this.options_.handleBeforeClick(t)},e.prototype.handleAfterClick=function(t){this.options_.handleAfterClick&&"function"==typeof this.options_.handleAfterClick&&this.options_.handleAfterClick(t)},e.prototype.handleSeeked=function(t){this.removeClass("wbv-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.prototype.handlePlay=function(t){this.hasClass("wbv-ended")&&this.player_.trigger("replay"),this.removeClass("wbv-paused"),this.addClass("wbv-playing"),this.controlText("暂停")},e.prototype.handlePause=function(t){this.removeClass("wbv-playing"),this.addClass("wbv-paused"),this.controlText("播放")},e.prototype.handleEnded=function(t){this.removeClass("wbv-playing"),this.addClass("wbv-ended"),this.controlText("重播"),this.one(this.player_,"seeked",this.handleSeeked)},e}(rn);yn.prototype.controlText_="播放",Le.registerComponent("PlayToggle",yn);var vn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.throttledUpdateContent=ke(Se(o,o.updateContent),25),o.on(n,"timeupdate",o.throttledUpdateContent),o}return oe(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"wbv-current-time wbv-time-control wbv-control"});return this.contentEl_=p("div",{className:"wbv-current-time-display"},{},p("span",{className:"wbv-control-text",textContent:this.localize("Current Time")})),this.updateTextNode_(),e.appendChild(this.contentEl_),e},e.prototype.updateTextNode_=function(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=It.createTextNode(" "+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},e.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=ut(e,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.requestAnimationFrame(this.updateTextNode_))},e}(Le);Le.registerComponent("CurrentTimeDisplay",vn);var _n=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.throttledUpdateContent=ke(Se(o,o.updateContent),25),o.on(n,["durationchange","loadedmetadata","timeupdate"],o.throttledUpdateContent),o}return oe(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"wbv-duration wbv-time-control wbv-control"});return this.contentEl_=p("div",{className:"wbv-duration-display"},{"aria-live":"off"},p("span",{className:"wbv-control-text",textContent:this.localize("Duration Time")})),this.updateTextNode_(),e.appendChild(this.contentEl_),e},e.prototype.updateTextNode_=function(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=It.createTextNode(" "+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},e.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.formattedTime_=ut(e),this.requestAnimationFrame(this.updateTextNode_))},e}(Le);Le.registerComponent("DurationDisplay",_n);var gn=function(t){function e(){return ie(this,e),re(this,t.apply(this,arguments))}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-time-control wbv-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(Le);Le.registerComponent("TimeDivider",gn);var mn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.throttledUpdateContent=ke(Se(o,o.updateContent),25),o.on(n,["timeupdate","durationchange"],o.throttledUpdateContent),o}return oe(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"wbv-remaining-time wbv-time-control wbv-control"});return this.contentEl_=p("div",{className:"wbv-remaining-time-display"},{},p("span",{className:"wbv-control-text",textContent:this.localize("Remaining Time")})),this.updateTextNode_(),e.appendChild(this.contentEl_),e},e.prototype.updateTextNode_=function(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=It.createTextNode(" -"+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},e.prototype.updateContent=function(t){if(this.player_.duration()){var e=ut(this.player_.remainingTime());e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))}},e}(Le);Le.registerComponent("RemainingTimeDisplay",mn);var bn=function(t){function e(){return ie(this,e),re(this,t.apply(this,arguments))}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-box-col",innerHTML:"<div></div>"})},e}(Le);Le.registerComponent("controlDivider",bn);var Cn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.updateShowing(),o.on(o.player(),"durationchange",o.updateShowing),o}return oe(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"wbv-live-control wbv-control"});return this.contentEl_=p("div",{className:"wbv-live-display",innerHTML:'<span class="wbv-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")
},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(Le);Le.registerComponent("LiveDisplay",Cn);var wn=function(t){function n(e,i){ie(this,n);var o=re(this,t.call(this,e,i));return o.bar=o.getChild(o.options_.barName),o.vertical(!!o.options_.vertical),o.on("mousedown",o.handleMouseDown),o.on("touchstart",o.handleMouseDown),o.on("focus",o.handleFocus),o.on("blur",o.handleBlur),o.on("click",o.handleClick),o.on(e,"controlsvisible",o.update),o.playerEvent&&o.on(e,o.playerEvent,o.update),o}return oe(n,t),n.prototype.createEl=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" wbv-slider",o=e({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},o),t.prototype.createEl.call(this,n,i,o)},n.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;t.preventDefault(),E(),this.addClass("wbv-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.prototype.handleMouseMove=function(t){this.trigger("sliderinactive"),this.update()},n.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;S(),this.removeClass("wbv-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!==t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%",i=e.el().style;return this.vertical()?i.height=n:i.width=n,t}}},n.prototype.calculateDistance=function(t){var e=P(this.el_,t);return this.vertical()?e.y:e.x},n.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},n.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},n.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("wbv-slider-vertical"):this.addClass("wbv-slider-horizontal")},n}(Le);Le.registerComponent("Slider",wn);var Tn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.partEls_=[],o.on(n,"progress",o.update),o}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-load-progress",innerHTML:'<span class="wbv-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.update=function(t){var e=this.player_.buffered(),n=this.player_.duration(),i=this.player_.bufferedEnd(),o=this.partEls_,r=function(t,e){var n=t/e||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=r(i,n);for(var s=0;s<e.length;s++){var a=e.start(s),l=e.end(s),h=o[s];h||(h=this.el_.appendChild(p()),o[s]=h),h.style.left=r(a,i),h.style.width=r(l-a,i)}for(var u=o.length;u>e.length;u--)this.el_.removeChild(o[u-1]);o.length=e.length},e}(Le);Le.registerComponent("LoadProgressBar",Tn);var En=function(t){function e(){return ie(this,e),re(this,t.apply(this,arguments))}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-time-tooltip"})},e.prototype.update=function(t,e,n){var i=k(this.el_),o=k(this.player_.el()),r=t.width*e;if(o&&i){var s=t.left-o.left+r,a=t.width-r+(o.right-t.right),l=i.width/2;s<l?l+=l-s:a<l&&(l=a),l<0?l=0:l>i.width&&(l=i.width),this.el_.style.right="-"+l+"px",d(this.el_,n)}},e}(Le);Le.registerComponent("TimeTooltip",En);var Sn=function(t){function e(){return ie(this,e),re(this,t.apply(this,arguments))}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-play-progress wbv-slider-bar wbv-slider-handle",innerHTML:'<span class="wbv-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var i=n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),o=ut(i,n.player_.duration()),r=n.getChild("timeTooltip");r&&r.update(t,e,o)})},e}(Le);Sn.prototype.options_={children:[]},Le.registerComponent("PlayProgressBar",Sn);var kn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.update=ke(Se(o,o.update),25),o}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-mouse-display"})},e.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var i=n.player_.duration(),o=ut(e*i,i);n.el_.style.left=t.width*e+"px",n.getChild("timeTooltip").update(t,e,o)})},e}(Le);kn.prototype.options_={children:["timeTooltip"]},Le.registerComponent("MouseTimeDisplay",kn);var xn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.update=ke(Se(o,o.update),50),o.on(n,["timeupdate","ended"],o.update),o}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.prototype.update=function(){var e=t.prototype.update.call(this),n=this.player_.duration(),i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();return this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[ut(i,n),ut(n,n)],"{1} of {2}")),this.bar.update(k(this.el_),e),e},e.prototype.getPercent=function(){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),e=t/this.player_.duration();return e>=1?1:e},e.prototype.handleMouseDown=function(e){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e)},e.prototype.handleMouseMove=function(e){t.prototype.handleMouseMove.call(this,e),this.player_.scrubbing(!1);var n=this.calculateDistance(e)*this.player_.duration();if(this.player_.setFakeDuration()&&n>=this.player_.techGet_("duration"))return this.player_.currentTime(this.player_.techGet_("duration")-.02),void(this.setFake_=!0);this.setFake_=!1,n>=this.player_.duration()&&(n-=.1),this.player_.currentTime(n)},e.prototype.handleMouseUp=function(e){if(t.prototype.handleMouseUp.call(this,e),this.player_.setLastPlayTime(),this.player_.scrubbing(!1),this.setFake_)return this.player_.pause(),void this.player_.trigger("seekedfakeduration");this.videoWasPlaying&&this.player_.play()},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e}(wn);xn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},xn.prototype.playerEvent="timeupdate",Le.registerComponent("SeekBar",xn);var Pn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.handleMouseMove=ke(Se(o,o.handleMouseMove),25),o.on(o.el_,"mousemove",o.handleMouseMove),o.throttledHandleMouseSeek=ke(Se(o,o.handleMouseSeek),25),o.on(["mousedown","touchstart"],o.handleMouseDown),o}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-progress-control wbv-control"})},e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar"),n=e.getChild("mouseTimeDisplay"),i=e.el(),o=k(i),r=P(i,t).x;r>1?r=1:r<0&&(r=0),n&&n.update(o,r)},e.prototype.handleMouseSeek=function(t){this.getChild("seekBar").handleMouseMove(t)},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(Le);Pn.prototype.options_={children:["seekBar"]},Le.registerComponent("ProgressControl",Pn);var An=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.on(n,"fullscreenchange",o.handleFullscreenChange),o}return oe(e,t),e.prototype.buildCSSClass=function(){return"wbv-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("退出全屏"):this.controlText("进入全屏")},e.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(rn);An.prototype.controlText_="进入全屏",Le.registerComponent("FullscreenToggle",An);var Mn=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("wbv-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("wbv-hidden"):t.addClass("wbv-hidden")})},Nn=function(t){function e(){return ie(this,e),re(this,t.apply(this,arguments))}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-volume-level wbv-volume-handle",innerHTML:'<span class="wbv-control-text"></span>'})},e}(Le);Le.registerComponent("VolumeLevel",Nn);var In=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.on("slideractive",o.updateLastVolume_),o.on(n,"volumechange",o.updateARIAAttributes),n.ready(function(){return o.updateARIAAttributes()}),o}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-volume-bar wbv-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.prototype.handleMouseMove=function(t){this.checkMuted(),this.player_.volume(this.calculateDistance(t))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},e}(wn);In.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},In.prototype.playerEvent="volumechange",Le.registerComponent("VolumeBar",In);var Dn=function(t){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ie(this,e),o.vertical=o.vertical||!0,(void 0===o.volumeBar||i(o.volumeBar))&&(o.volumeBar=o.volumeBar||{},o.volumeBar.vertical=o.vertical);var r=re(this,t.call(this,n,o));return Mn(r,n),r.throttledHandleMouseMove=ke(Se(r,r.handleMouseMove),25),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("wbv-slider-active"),r.addClass("wbv-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("wbv-slider-active"),r.removeClass("wbv-slider-active"),r.trigger("sliderinactive")}),r}return oe(e,t),e.prototype.createEl=function(){var e="wbv-volume-horizontal",n="";return this.options_.vertical&&(e="wbv-volume-vertical"),this.options_.hideVolumeControl&&(n="wbv-hidden"),t.prototype.createEl.call(this,"div",{className:"wbv-volume-control "+n+" wbv-control "+e})},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(Le);Dn.prototype.options_={children:["volumeBar"]},Le.registerComponent("VolumeControl",Dn);var Fn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return Mn(o,n),o.on(n,["loadstart","volumechange"],o.update),o}return oe(e,t),e.prototype.buildCSSClass=function(){return"wbv-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleBeforeClick=function(t){this.options_.handleBeforeClick&&"function"==typeof this.options_.handleBeforeClick&&this.options_.handleBeforeClick(t)},e.prototype.handleAfterClick=function(t){this.options_.handleAfterClick&&"function"==typeof this.options_.handleAfterClick&&this.options_.handleAfterClick(t)},e.prototype.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},e.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},e.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;0===t||this.player_.muted()?e=0:t<.5?e=1:t<1&&(e=2);for(var n=0;n<4;n++)_(this.el_,"wbv-vol-"+n);v(this.el_,"wbv-vol-"+e)},e.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),e=t?"音量":"静音";this.controlText()!==e&&this.controlText(e)},e}(rn);Fn.prototype.controlText_="音量",Le.registerComponent("MuteToggle",Fn);var On=function(t){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ie(this,e),void 0!==o.inline?o.inline=o.inline:o.inline=!1,(void 0===o.volumeControl||i(o.volumeControl))&&(o.volumeControl=o.volumeControl||{},o.volumeControl.vertical=!o.inline,o.volumeControl.hideVolumeControl=!!o.hideVolumeControl);var r=re(this,t.call(this,n,o));return Mn(r,n),!!o.hideVolumeControl&&r.on(n,"loadstart",r.hideVolumeBar_),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.muteToggle,"focus",r.sliderActive_),r.on("mouseover",r.showVolumeBar_),r.on("mouseleave",r.hideVolumeBar_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r.on(r.muteToggle,"blur",r.sliderInactive_),r}return oe(e,t),e.prototype.sliderActive_=function(){this.addClass("wbv-slider-active")},e.prototype.sliderInactive_=function(){this.removeClass("wbv-slider-active")},e.prototype.showVolumeBar_=function(){this.volumeControl.show(),this.player_.trigger("controlsvisible")},e.prototype.hideVolumeBar_=function(){this.volumeControl.hide()},e.prototype.createEl=function(){var e="wbv-volume-panel-horizontal";return this.options_.inline||(e="wbv-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"wbv-volume-panel wbv-control "+e})},e}(Le);On.prototype.options_={children:["muteToggle","volumeControl"]},Le.registerComponent("VolumePanel",On);var Bn=function(t){function e(){return ie(this,e),re(this,t.apply(this,arguments))}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-logo"})},e}(Le);Le.registerComponent("Logo",Bn);var Ln=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return i&&(o.menuButton_=i.menuButton),o.focusedChild_=-1,o.on("keydown",o.handleKeyPress),o}return oe(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",Se(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=p(e,{className:"wbv-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"wbv-menu"});return n.appendChild(this.contentEl_),V(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice();e.length&&e[0].className&&/wbv-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(Le);Le.registerComponent("Menu",Ln);var Rn=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ie(this,e);var o=re(this,t.call(this,n,i));o.menuButton_=new rn(n,i),o.menuButton_.controlText(o.controlText_),o.menuButton_.el_.setAttribute("aria-haspopup","true"),o.menuButton_.el_.setAttribute("disabletitle","true");var r=rn.prototype.buildCSSClass();return o.menuButton_.el_.className=o.buildCSSClass()+" "+r,o.menuButton_.removeClass("wbv-control"),o.addChild(o.menuButton_),o.update(),o.enabled_=!0,o.on(o.menuButton_,"tap",o.handleClick),o.on(o.menuButton_,"click",o.handleClick),o.on(o.menuButton_,"focus",o.handleFocus),o.on(o.menuButton_,"blur",o.handleBlur),o.on("keydown",o.handleSubmenuKeyPress),o}return oe(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.prototype.createMenu=function(){var t=new Ln(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=p("li",{className:"wbv-menu-title",innerHTML:X(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),f(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.prototype.buildWrapperCSSClass=function(){var e="wbv-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","wbv-menu-button "+e+" "+rn.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},e.prototype.buildCSSClass=function(){var e="wbv-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","wbv-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},e.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",Se(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.handleMouseEnter=function(){},e.prototype.focus=function(){this.menuButton_.focus()},e.prototype.blur=function(){this.menuButton_.blur()},e.prototype.handleFocus=function(){V(It,"keydown",Se(this,this.handleKeyPress))},e.prototype.handleBlur=function(){j(It,"keydown",Se(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},e.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),this.menu.focus())},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("wbv-disabled"),this.menuButton_.disable()},e.prototype.enable=function(){this.enabled_=!0,this.removeClass("wbv-disabled"),this.menuButton_.enable()},e}(Le);Le.registerComponent("MenuButton",Rn);var Hn=function(t){function n(e,i){ie(this,n);var o=re(this,t.call(this,e,i));return o.selectable=i.selectable,o.selected(i.selected),o.selectable?o.el_.setAttribute("role","menuitemcheckbox"):o.el_.setAttribute("role","menuitem"),o}return oe(n,t),n.prototype.createEl=function(n,i,o){return this.nonIconControl=!0,o=e({disabletitle:"true"},o,this.options_.attrs),t.prototype.createEl.call(this,"li",e({className:"wbv-menu-item",innerHTML:'<span class="wbv-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),o)},n.prototype.handleClick=function(t){this.selected(!0)},n.prototype.selected=function(t){t?(this.addClass("wbv-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("wbv-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" "))},n}(tn);Le.registerComponent("MenuItem",Hn);var Un=function(t){function e(){return ie(this,e),re(this,t.apply(this,arguments))}return oe(e,t),e.prototype.buildCSSClass=function(){return"wbv-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(Le);Le.registerComponent("Spacer",Un);var Vn=function(t){function e(){return ie(this,e),re(this,t.apply(this,arguments))}return oe(e,t),e.prototype.buildCSSClass=function(){return"wbv-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="&nbsp;",e},e}(Un);Le.registerComponent("CustomControlSpacer",Vn);var jn=function(t){function e(){return ie(this,e),re(this,t.apply(this,arguments))}return oe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"wbv-control-bar",dir:"ltr"},{role:"group"})},e}(Le);jn.prototype.options_={children:["playToggle","progressControl","currentTimeDisplay","timeDivider","durationDisplay","volumePanel","fullscreenToggle","logo"]},Le.registerComponent("ControlBar",jn);var zn=function(t){function e(n,i){ie(this,e);var o=re(this,t.call(this,n,i));return o.on(n,"error",o.open),o}return oe(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-hidden":"true",role:"dialog"});return this.wrapperEl_=p("div",{className:"box"}),this.loadingEl_=p("h3",{innerHTML:'<i class="W_loading_big"></i>'}),this.errorInfoEl_=p("h4"),this.contentEl_=p("span",{innerHTML:"视频无法播放，请您稍后再试"}),this.errorInfoEl_.appendChild(this.contentEl_),this.wrapperEl_.appendChild(this.loadingEl_),this.wrapperEl_.appendChild(this.errorInfoEl_),e.appendChild(this.wrapperEl_),e},e.prototype.buildCSSClass=function(){return"wbv-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Xe);zn.prototype.options_=Y(Xe.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0,withoutContent:!0}),Le.registerComponent("ErrorDisplay",zn);var Wn=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=It.createElement("a");n.href=t;var i=""===n.host&&"file:"!==n.protocol,o=void 0;i&&(o=It.createElement("div"),o.innerHTML='<a href="'+t+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),It.body.appendChild(o));for(var r={},s=0;s<e.length;s++)r[e[s]]=n[e[s]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),i&&It.body.removeChild(o),r},qn=function(t){if(!t.match(/^https?:\/\//)){var e=It.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},Kn=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=e.exec(t);if(n)return n.pop().toLowerCase()}return""},Xn=function(t){var e=xt.location,n=Wn(t);return(":"===n.protocol?e.protocol:n.protocol)+n.host!==e.protocol+e.host},Gn=(Object.freeze||Object)({parseUrl:Wn,getAbsoluteURL:qn,getFileExtension:Kn,isCrossOrigin:Xn}),Yn=function(t){function n(e,i){ie(this,n);var o=re(this,t.call(this,e,i)),r=e.source;if(r&&(o.el_.currentSrc!==r.src||e.tag&&3===e.tag.initNetworkState_)?o.setSource(r):o.handleLateInit_(o.el_),o.el_.hasChildNodes()){for(var s=o.el_.childNodes,a=s.length,l=[];a--;){var h=s[a];h.nodeName.toLowerCase()}for(var u=0;u<l.length;u++)o.el_.removeChild(l[u])}return o.proxyWebkitFullscreen_(),o.triggerReady(),o}return oe(n,t),n.prototype.dispose=function(){n.disposeMediaElement(this.el_),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=It.createElement("video");var o=this.options_.tag&&b(this.options_.tag),r=Y({},o);Zt&&!0===this.options_.nativeControlsForTouch||delete r.controls,m(t,e(r,{id:this.options_.techId,class:"wbv-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&w(t,"preload",this.options_.preload);for(var s=["loop","muted","playsinline","autoplay"],a=s.length-1;a>=0;a--){var l=s[a],h=this.options_[l];void 0!==h&&(h?w(t,l,l):T(t,l),t[l]=h)}return t},n.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")})}var o=["loadstart"];o.push("loadedmetadata"),t.readyState>=2&&o.push("loadeddata"),t.readyState>=3&&o.push("canplay"),t.readyState>=4&&o.push("canplaythrough"),this.ready(function(){o.forEach(function(t){this.trigger(t)},this)})}},n.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){de(t,"Video is not ready. (V.js)")}},n.prototype.duration=function(){var t=this;if(this.el_.duration===1/0&&Vt&&Xt&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},n.prototype.width=function(){return this.el_.offsetWidth},n.prototype.height=function(){return this.el_.offsetHeight},n.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)})}},n.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){xt.navigator&&xt.navigator.userAgent}return!1},n.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?this.el_.play():t.webkitEnterFullScreen()},n.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},n.prototype.reset=function(){n.resetMediaElement(this.el_)},n.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.prototype.setControls=function(t){this.el_.controls=!!t},n.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),xt.performance&&"function"==typeof xt.performance.now?t.creationTime=xt.performance.now():xt.performance&&xt.performance.timing&&"number"==typeof xt.performance.timing.navigationStart&&(t.creationTime=xt.Date.now()-xt.performance.timing.navigationStart),t},n}(Ge);if(h()){Yn.TEST_VID=It.createElement("video");var $n=It.createElement("track");$n.kind="captions",$n.srclang="en",$n.label="English",Yn.TEST_VID.appendChild($n)}Yn.isSupported=function(){try{Yn.TEST_VID.volume=.5}catch(t){return!1}return!(!Yn.TEST_VID||!Yn.TEST_VID.canPlayType)},Yn.canPlayType=function(t){return Yn.TEST_VID.canPlayType(t)},Yn.canPlaySource=function(t,e){return Yn.canPlayType(t.type)},Yn.canControlVolume=function(){try{var t=Yn.TEST_VID.volume;return Yn.TEST_VID.volume=t/2+.1,t!==Yn.TEST_VID.volume}catch(t){return!1}},Yn.canControlPlaybackRate=function(){if(Vt&&Xt&&Gt<58)return!1;try{var t=Yn.TEST_VID.playbackRate;return Yn.TEST_VID.playbackRate=t/2+.1,t!==Yn.TEST_VID.playbackRate}catch(t){return!1}},Yn.supportsNativeTextTracks=function(){return Jt},Yn.supportsNativeVideoTracks=function(){return!(!Yn.TEST_VID||!Yn.TEST_VID.videoTracks)},Yn.supportsNativeAudioTracks=function(){return!(!Yn.TEST_VID||!Yn.TEST_VID.audioTracks)},Yn.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Yn.prototype.featuresVolumeControl=Yn.canControlVolume(),Yn.prototype.featuresPlaybackRate=Yn.canControlPlaybackRate(),Yn.prototype.movingMediaElementInDOM=!0,Yn.prototype.featuresFullscreenResize=!0,Yn.prototype.featuresProgressEvents=!0,Yn.prototype.featuresTimeupdateEvents=!0,Yn.prototype.featuresNativeVideoTracks=Yn.supportsNativeVideoTracks(),Yn.prototype.featuresNativeAudioTracks=Yn.supportsNativeAudioTracks();var Qn=Yn.TEST_VID&&Yn.TEST_VID.constructor.prototype.canPlayType;Yn.patchCanPlayType=function(){},Yn.unpatchCanPlayType=function(){var t=Yn.TEST_VID.constructor.prototype.canPlayType;return Yn.TEST_VID.constructor.prototype.canPlayType=Qn,t},Yn.patchCanPlayType(),Yn.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Yn.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),
"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Yn.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Yn.prototype["set"+X(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){Yn.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Yn.prototype["set"+X(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){Yn.prototype[t]=function(){return this.el_[t]()}}),Ge.withSourceHandlers(Yn),Yn.nativeSourceHandler={},Yn.nativeSourceHandler.canPlayType=function(t){try{return Yn.TEST_VID.canPlayType(t)}catch(t){return""}},Yn.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Yn.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=Kn(t.src);return Yn.nativeSourceHandler.canPlayType("video/"+n)}return""},Yn.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Yn.nativeSourceHandler.dispose=function(){},Yn.registerSourceHandler(Yn.nativeSourceHandler),Ge.registerTech("Html5",Yn);var Jn=se(["safety?"],["safety?"]),Zn=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange"],ti=function(t){function n(i,o,r){ie(this,n),i.id=i.id||"vjs_video_$ {\n      Guid.newGUID()\n    }",o=e(n.getTagSettings(i),o),o.initChildren=!1,o.createEl=!1,o.reportTouchActivity=!1,o.width=o.width?o.width:"100%",o.height=o.height?o.height:"100%";var s=re(this,t.call(this,null,o,r));if(s.isReady_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified");s.tag=i,s.tagAttributes=i&&b(i),s.cache_={},s.poster_=o.poster||"",s.controls_=!!o.controls,s.cache_.lastVolume=1,s.cache_.validTime=0,s.cache_.lastPlayTime=0,s.fixContextmenu_=!0,s.extraListeners_=!!o.extraEvents,i.controls=!1,s.scrubbing_=!1,s.doubleToFullScreen_=!!o.doubleToFullScreen,s.preventDefaultMenu_=!!o.preventDefaultMenu,s.el_=s.createEl(),q(s,{eventBusKey:"el_"});var a=Y(s.options_);if(o.plugins){var l=o.plugins;Object.keys(l).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'"\n          does not exist');this[t](l[t])},s)}if(s.options_.playerOptions=a,s.middleware_=[],s.initChildren(),s.isAudio("audio"===i.nodeName.toLowerCase()),s.controls()?s.addClass("wbv-controls-enabled"):s.addClass("wbv-controls-disabled"),s.options_.className)for(;s.options_.className.length;)s.addClass(s.options_.className.pop());return s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("wbv-audio"),s.flexNotSupported_()&&s.addClass("wbv-no-flex"),Ht||s.addClass("wbv-workinghover"),n.players[s.id_]=s,s.userActive(!0),s.reportUserActivity(),s.listenForUserActivity_(),s.on("fullscreenchange",s.handleFullscreenChange_),s.on("stageclick",s.handleStageClick_),s.changingSrc_=!1,s}return oe(n,t),n.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),n.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var e=this.tag,n=void 0,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-wbv-player");n=this.el_=i?e.parentNode:t.prototype.createEl.call(this,"div"),e.setAttribute("tabindex","-1"),e.removeAttribute("width"),e.removeAttribute("height");var o=b(e);Object.getOwnPropertyNames(o).forEach(function(t){"class"===t?n.className+=" "+o[t]:n.setAttribute(t,o[t])}),e.playerId=e.id,e.id+="_html5_api",e.className="wbv-tech",e.player=n.player=this,this.addClass("wbv-paused"),this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var r=e.getElementsByTagName("a"),s=0;s<r.length;s++){var a=r.item(s);v(a,"wbv-hidden"),a.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(n,e),f(e,n),this.children_.unshift(e),this.el_=n,n},n.prototype.width=function(t){return this.dimension("width",t)},n.prototype.height=function(t){return this.dimension("height",t)},n.prototype.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;var i=void 0;if(""===e)this[n]=void 0;else{try{if(e.toString().indexOf("%")>0||e.toString().indexOf("px")>0)i=e;else{if(i=parseFloat(e),isNaN(i))return;i=parseFloat(e)+"px"}}catch(t){de.error(t)}this[n]=i}this.updateStyleEl_()},n.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?this.addClass("wbv-fluid"):this.removeClass("wbv-fluid"),this.updateStyleEl_()},n.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error(" The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},n.prototype.updateStyleEl_=function(){var t=void 0,e=void 0,n=void 0;n=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var i=n.split(":"),o=i[1]/i[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*o,this.el_.style.width=t,this.el_.style.height=e},n.prototype.loadTech_=function(t,n){var i=this;this.tech_&&this.unloadTech_();var o=X(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==o&&this.tag&&(Ge.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var s={source:n,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+o+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),playerElIngest:this.playerElIngest_||!1};e(s,this.options_[o]),e(s,this.options_[r]),e(s,this.options_[t.toLowerCase()]),this.tag&&(s.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var a=Ge.getTech(t);if(!a)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using Vjs.registerTech()'");this.tech_=new a(s),this.tech_.ready(Se(this,this.handleTechReady_),!0),Zn.forEach(function(t){i.on(i.tech_,t,i["handleTech"+X(t)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.extraListeners()&&!this.usingNativeControls()&&this.addExtraListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===o&&this.tag||f(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.prototype.tech=function(t){return void 0===t&&de.warn(fe(Jn)),this.tech_},n.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"dblclick",this.handleTechDblclick_),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.prototype.addExtraListeners_=function(){this.removeExtraListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_)},n.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"dblclick",this.handleTechDblclick_),this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_)},n.prototype.removeExtraListeners_=function(){this.off(this.tech_,"mousedown",this.handleTechClick_)},n.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(t){de("deleting tag.poster throws in some browsers",t)}},n.prototype.handleTechLoadStart_=function(){this.removeClass("wbv-ended"),this.removeClass("wbv-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},n.prototype.hasStarted=function(t){return void 0!==t?void(this.hasStarted_!==t&&(this.hasStarted_=t,t?(this.addClass("wbv-has-started"),this.trigger("firstplay")):this.removeClass("wbv-has-started"))):!!this.hasStarted_},n.prototype.hasClicked=function(t){return void 0!==t?void(this.hasClicked_!==t&&(this.hasClicked_=t,t?(this.addClass("wbv-has-clicked"),this.trigger("firstclick")):this.removeClass("wbv-has-clicked"))):!!this.hasClicked_},n.prototype.setFakeDuration=function(t){return void 0!==t?void(this.setFakeDuration_!==t&&(this.setFakeDuration_=t,t?(this.addClass("wbv-set-fakeduration"),this.trigger("setfakeduration")):this.removeClass("wbv-set-fakeduration"))):!!this.setFakeDuration_},n.prototype.handleTechPlay_=function(){this.removeClass("wbv-ended"),this.removeClass("wbv-paused"),this.addClass("wbv-playing"),this.hasStarted(!0),this.trigger("play")},n.prototype.handleTechWaiting_=function(){var t=this;this.addClass("wbv-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("wbv-waiting")})},n.prototype.handleTechCanPlay_=function(){this.removeClass("wbv-waiting"),this.trigger("canplay")},n.prototype.handleTechCanPlayThrough_=function(){this.removeClass("wbv-waiting"),this.trigger("canplaythrough")},n.prototype.handleTechPlaying_=function(){this.removeClass("wbv-waiting"),this.trigger("playing")},n.prototype.handleTechSeeking_=function(){this.addClass("wbv-seeking"),this.trigger("seeking")},n.prototype.handleTechSeeked_=function(){this.removeClass("wbv-seeking"),this.trigger("seeked")},n.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(de.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("wbv-has-started"),this.trigger("firstplay")},n.prototype.handleTechPause_=function(){this.removeClass("wbv-playing"),this.addClass("wbv-paused"),this.trigger("pause")},n.prototype.handleTechEnded_=function(){this.addClass("wbv-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.prototype.handleTechDurationChange_=function(){this.setFakeDuration()||this.duration(this.techGet_("duration"))},n.prototype.handleTechClick_=function(t){if(0===t.button){if(this.extraListeners()&&!this.preventDefaultMenu_&&!this.fixContextmenu_)return void this.trigger("dispatchHidemenu");this.hasClicked()||this.hasClicked(!0),this.controls()&&(this.paused()?this.play():this.pause())}},n.prototype.handleTechDblclick_=function(t){this.dblToFullScreen()&&(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())},n.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},n.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},n.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("wbv-fullscreen"):this.removeClass("wbv-fullscreen")},n.prototype.handleStageClick_=function(){this.reportUserActivity()},n.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},n.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},n.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.prototype.getCache=function(){return this.cache_},n.prototype.fixContextmenu=function(t){return void 0!==t?(t=!!t,void(this.fixContextmenu_!==t&&(this.fixContextmenu_=t,t?this.trigger("fixContextmenu"):this.trigger("unFixContextmenu")))):!!this.fixContextmenu_},n.prototype.techCall_=function(t,e){this.ready(function(){if(t in Qe)return at(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw de(t),t}},!0)},n.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in $e)return st(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?de("Vjs: "+t+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?(de("Vjs: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):de(e),e}}},n.prototype.play=function(){if(this.changingSrc_)this.ready(function(){var t=this.techGet_("play");void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})});else{if(this.isReady_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.ready(function(){this.tech_.one("loadstart",function(){var t=this.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})})})}},n.prototype.pause=function(){this.techCall_("pause"),this.getValidTime()},n.prototype.paused=function(){return!1!==this.techGet_("paused")},n.prototype.played=function(){return this.techGet_("played")||Z(0,0)},n.prototype.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("wbv-scrubbing"):this.removeClass("wbv-scrubbing")},n.prototype.setLastPlayTime=function(){this.cache_.lastPlayTime=this.currentTime()},n.prototype.getValidTime=function(){var t=this.cache_.validTime,e=this.currentTime();return e<this.cache_.lastPlayTime?t:(t+=e-this.cache_.lastPlayTime,this.cache_.lastPlayTime=e,this.cache_.validTime=t,t)},n.prototype.resetValidTime=function(){this.setLastPlayTime(),this.cache_.validTime=0},n.prototype.currentTime=function(t){return void 0!==t?void this.techCall_("setCurrentTime",t):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("wbv-live"):this.removeClass("wbv-live"),this.trigger("durationchange"))},n.prototype.remainingTime=function(){return this.duration()-this.currentTime()},n.prototype.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=Z(0,0)),t},n.prototype.bufferedPercent=function(){return tt(this.buffered(),this.duration())},n.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},n.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},n.prototype.muted=function(t){return void 0!==t?void this.techCall_("setMuted",t):this.techGet_("muted")||!1},n.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},n.prototype.lastVolume_=function(t){return void 0!==t&&0!==t?void(this.cache_.lastVolume=t):this.cache_.lastVolume},n.prototype.lastPauseTime_=function(t){return void 0!==t&&0!==t?void(this.cache_.lastPauseTime=t):this.cache_.lastPauseTime},n.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.prototype.isFullscreen=function(t){return void 0!==t?void(this.isFullscreen_=!!t):!!this.isFullscreen_},n.prototype.requestFullscreen=function(){var t=Re;this.isFullscreen(!0),t.requestFullscreen?(V(It,t.fullscreenchange,Se(this,function e(n){this.isFullscreen(It[t.fullscreenElement]),!1===this.isFullscreen()&&j(It,t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},n.prototype.exitFullscreen=function(){var t=Re;this.isFullscreen(!1),t.requestFullscreen?It[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},n.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=It.documentElement.style.overflow,V(It,"keydown",Se(this,this.fullWindowOnEscKey)),It.documentElement.style.overflow="hidden",v(It.body,"wbv-full-window"),this.trigger("enterFullWindow")},n.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.prototype.exitFullWindow=function(){this.isFullWindow=!1,j(It,"keydown",this.fullWindowOnEscKey),It.documentElement.style.overflow=this.docOrigOverflow,_(It.body,"wbv-full-window"),this.trigger("exitFullWindow")},n.prototype.canPlayType=function(t){for(var e=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],r=Ge.getTech(o);if(r||(r=Le.getComponent(o)),r){if(r.isSupported()&&(e=r.canPlayType(t)))return e}else de.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.prototype.selectSource=function(t){var e=this,n=this.options_.techOrder.map(function(t){return[t,Ge.getTech(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(de.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),i=function(t,e,n){var i=void 0;return t.some(function(t){return e.some(function(e){if(i=n(t,e))return!0})}),i},o=function(t,n){var i=t[0];if(t[1].canPlaySource(n,e.options_[i.toLowerCase()]))return{source:n,tech:i}};return(this.options_.sourceOrder?i(t,n,function(t){return function(e,n){return t(n,e)}}(o)):i(n,t,o))||!1},n.prototype.src=function(t){var e=this;if(void 0===t)return this.cache_.src;var n=Je(t);if(!n.length)return void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);this.cache_.sources=n,this.changingSrc_=!0,this.cache_.source=n[0],ot(this,n[0],function(t,i){if(e.middleware_=i,e.src_(t))return n.length>1?e.src(n.slice(1)):(e.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void e.triggerReady());e.changingSrc_=!1,e.cache_.src=t.src,rt(i,e.tech_)})},n.prototype.src_=function(t){var e=this.selectSource([t]);return!e||(G(e.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),"auto"===this.options_.preload&&this.load()},!0),!1):(this.changingSrc_=!0,this.loadTech_(e.tech,e.source),!1))},n.prototype.load=function(){this.techCall_("load")},n.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},n.prototype.resetDefault=function(){this.currentTime(0),this.pause(),this.hasStarted(!1),this.resetValidTime()},n.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},n.prototype.currentSource=function(){return this.cache_.source||{}},n.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},n.prototype.autoplay=function(t){return void 0!==t?(this.techCall_("setAutoplay",t),void(this.options_.autoplay=t)):this.techGet_("autoplay",t)},n.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},n.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},n.prototype.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),this.poster_=t,this.techCall_("setPoster",t),this.trigger("posterchange")},n.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},n.prototype.controls=function(t){return void 0!==t?(t=!!t,void(this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),t?(this.removeClass("wbv-controls-disabled"),this.addClass("wbv-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("wbv-controls-enabled"),this.addClass("wbv-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())))):!!this.controls_},n.prototype.dblToFullScreen=function(t){return void 0!==t?(t=!!t,void(this.doubleToFullScreen_!==t&&(this.doubleToFullScreen_=t))):!!this.doubleToFullScreen_},n.prototype.extraListeners=function(t){return void 0!==t?(t=!!t,void(this.extraListeners_!==t&&(this.extraListeners_=t,t?this.usingNativeControls()||this.addExtraListeners_():this.usingNativeControls()||this.removeExtraListeners_()))):!!this.extraListeners_},n.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,void(this.usingNativeControls_!==t&&(this.usingNativeControls_=t,t?(this.addClass("wbv-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("wbv-using-native-controls"),this.trigger("usingcustomcontrols"))))):!!this.usingNativeControls_},n.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("wbv-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new et(t),this.addClass("wbv-error"),de.error("(CODE:"+this.error_.code+" "+et.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},n.prototype.reportUserActivity=function(t){this.userActivity_=!0},n.prototype.userActive=function(t){return void 0!==t?void((t=!!t)!==this.userActive_&&(this.userActive_=t,t?(this.userActivity_=!0,this.removeClass("wbv-user-inactive"),this.addClass("wbv-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("wbv-user-active"),this.addClass("wbv-user-inactive"),this.trigger("userinactive")))):this.userActive_},n.prototype.fixUserActivity=function(t){return void 0!==t?void((t=!!t)!==this.fixUserActivity_&&(this.fixUserActivity_=t,t?this.trigger("fixuseractive"):this.trigger("unfixuseractive"))):!!this.fixUserActivity_},n.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,n=void 0,i=Se(this,this.reportUserActivity),o=function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,i())},r=function(){i(),this.clearInterval(t),t=this.setInterval(i,250)},s=function(e){this.options_.controls&&(i(),this.clearInterval(t))},a=function(){this.fixUserActivity()||(this.clearTimeout(l),this.userActivity_=!1,this.userActive(!1))};this.on("mousedown",r),this.on("mousemove",o),this.on("mouseleave",a),this.on("mouseup",s),this.on("keydown",i),this.on("keyup",i);var l=void 0;this.setInterval(function(){if(this.userActivity_){if(this.fixUserActivity())return this.userActive(!0),void this.clearTimeout(l);this.userActivity_=!1,this.userActive(!0),this.clearTimeout(l);var t=this.options_.inactivityTimeout;t>0&&(l=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},n.prototype.playbackRate=function(t){return void 0!==t?void this.techCall_("setPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},n.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.prototype.isAudio=function(t){return void 0!==t?void(this.isAudio_=!!t):!!this.isAudio_},n.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},n.prototype.languages=function(){return Y(n.prototype.options_.languages,this.languages_)},n.prototype.createModal=function(t,e){var n=this;e=e||{},e.content=t||"";var i=new Xe(this,e);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},n.getTagSettings=function(t){var n={sources:[]},i=b(t),o=i["data-setup"];if(y(t,"wbv-fluid")&&(i.fluid=!0),null!==o){var r=qe(o||"{}"),s=r[0],a=r[1];s&&de.error(s),e(i,a)}if(e(n,i),t.hasChildNodes())for(var l=t.childNodes,h=0,u=l.length;h<u;h++){var c=l[h],p=c.nodeName.toLowerCase();"source"===p&&n.sources.push(b(c))}return n},n.prototype.flexNotSupported_=function(){var t=It.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(Le);ti.players={};var ei=xt.navigator;ti.prototype.options_={techOrder:Ge.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:3e3,playbackRates:[.5,1,1.5,2],children:["mediaLoader","posterImage","loadingSpinner","EndDisplay","controlBar","errorDisplay","contextMenu","copyUrlLayer"],language:ei&&(ei.languages&&ei.languages[0]||ei.userLanguage||ei.language)||"en",languages:{},notSupportedMessage:"对不起，找不到该视频，去看看其他视频"},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){ti.prototype[t]=function(){return this.techGet_(t)}}),Zn.forEach(function(t){ti.prototype["handleTech"+X(t)+"_"]=function(){return this.trigger(t)}}),Le.registerComponent("Player",ti);var ni={},ii=function(t){return ni.hasOwnProperty(t)},oi=function(t){return ii(t)?ni[t]:void 0},ri=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},si=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},ai=function(t,e){var n=function(){si(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return ri(this,t),si(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(t){n[t]=e[t]}),n},li=function(t,e){return e.prototype.name=t,function(){si(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=new(Function.prototype.bind.apply(e,[null].concat([this].concat(i))));return this[t]=function(){return r},si(this,r.getEventHash()),r}},hi=function(){function t(e){if(ie(this,t),this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,q(this),delete this.trigger,K(this,this.constructor.defaultState),ri(e,this.name),this.dispose=Se(this,this.dispose),e.on("dispose",this.dispose)}return t.prototype.getEventHash=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},t.prototype.trigger=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return z(this.eventBusEl_,t,this.getEventHash(e))},t.prototype.handleStateChanged=function(t){},t.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=li(t,ni[t])},t.isBasic=function(e){var n="string"==typeof e?oi(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(void 0===e?"undefined":ne(e))+".");if(ii(e))de.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(ti.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===n?"undefined":ne(n))+".");return ni[e]=n,"plugin"!==e&&(t.isBasic(n)?ti.prototype[e]=ai(e,n):ti.prototype[e]=li(e,n)),n},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");ii(t)&&(delete ni[t],delete ti.prototype[t])},t.getPlugins=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(ni),e=void 0;return t.forEach(function(t){var n=oi(t);n&&(e=e||{},e[t]=n)}),e},t.getPluginVersion=function(t){var e=oi(t);return e&&e.VERSION||""},t}();hi.getPlugin=oi,hi.BASE_PLUGIN_NAME="plugin",hi.registerPlugin("plugin",hi),ti.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},ti.prototype.hasPlugin=function(t){return!!ii(t)};var ui=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":ne(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},ci=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){t.apply(this,arguments)},i={};"object"===(void 0===e?"undefined":ne(e))?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),ui(n,t);for(var o in i)i.hasOwnProperty(o)&&(n.prototype[o]=i[o]);return n},pi=ct,di=Object.prototype.toString,fi=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t,e){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}),yi=pt,vi=Object.prototype.toString,_i=Object.prototype.hasOwnProperty,gi=function(t){return"[object Array]"===Object.prototype.toString.call(t)},mi=function(t){if(!t)return{};var e={};return yi(fi(t).split("\n"),function(t){var n=t.indexOf(":"),i=fi(t.slice(0,n)).toLowerCase(),o=fi(t.slice(n+1));void 0===e[i]?e[i]=o:gi(e[i])?e[i].push(o):e[i]=[e[i],o]}),e},bi=vt,Ci=Object.prototype.hasOwnProperty,wi=mt;return mt.XMLHttpRequest=xt.XMLHttpRequest||wt,
mt.XDomainRequest="withCredentials"in new mt.XMLHttpRequest?mt.XMLHttpRequest:xt.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(t){mt["delete"===t?"del":t]=function(e,n,i){return n=gt(e,n,i),n.method=t.toUpperCase(),bt(n)}}),"undefined"==typeof HTMLVideoElement&&h()&&It.createElement("video"),Tt.hooks_={},Tt.hooks=function(t,e){return Tt.hooks_[t]=Tt.hooks_[t]||[],e&&(Tt.hooks_[t]=Tt.hooks_[t].concat(e)),Tt.hooks_[t]},Tt.hook=function(t,e){Tt.hooks(t,e)},Tt.removeHook=function(t,e){var n=Tt.hooks(t).indexOf(e);return!(n<=-1)&&(Tt.hooks_[t]=Tt.hooks_[t].slice(),Tt.hooks_[t].splice(n,1),!0)},Tt.VERSION="6.2.8",Tt.options=ti.prototype.options_,Tt.getPlayers=function(){return ti.players},Tt.players=ti.players,Tt.getComponent=Le.getComponent,Tt.registerComponent=function(t,e){Ge.isTech(e)&&de.warn("The "+t+" tech was registered as a component. It should instead be registered using V.registerTech(name, tech)"),Le.registerComponent.call(Le,t,e)},Tt.getTech=Ge.getTech,Tt.registerTech=Ge.registerTech,Tt.use=it,Tt.browser=ee,Tt.TOUCH_ENABLED=Zt,Tt.extend=ci,Tt.mergeOptions=Y,Tt.bind=Se,Tt.registerPlugin=hi.registerPlugin,Tt.plugin=function(t,e){return de.warn("V.plugin() is deprecated; use V.registerPlugin() instead"),hi.registerPlugin(t,e)},Tt.getPlugins=hi.getPlugins,Tt.getPlugin=hi.getPlugin,Tt.getPluginVersion=hi.getPluginVersion,Tt.log=de,Tt.createTimeRange=Tt.createTimeRanges=Z,Tt.formatTime=ut,Tt.parseUrl=Wn,Tt.isCrossOrigin=Xn,Tt.EventTarget=xe,Tt.on=V,Tt.one=W,Tt.off=j,Tt.trigger=z,Tt.xhr=wi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){Tt[t]=function(){return de.warn("V."+t+"() is deprecated; use V.dom."+t+"() instead"),ge[t].apply(null,arguments)}}),Tt.computedStyle=r,Tt.dom=ge,Tt.url=Gn,Tt});
