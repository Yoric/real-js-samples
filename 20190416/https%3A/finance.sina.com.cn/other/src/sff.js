function escapeRegExp(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")}function merge(t,e){for(var n in e)t[n]="object"==typeof t[n]&&"object"==typeof e[n]?arguments.callee(e[n],t[n]):e[n];return t}!window.log&&(window.log=function(t){window.console&&console.log(t)}),window.SFF||(window.SFF=new function(){var t=this;this.register=function(e,n){for(var i,a=e.split("."),o=t;i=a.shift();)a.length?(o[i]||(o[i]={}),o=o[i]):o[i]||(o[i]=(n||function(){return{}})())},String.prototype.sReg||(String.prototype.sReg=function(t){return SFF.register(this.toString(),t),this}),String.prototype.sffReg=function(t){return SFF.register(this.toString(),t),this}}),"device".sffReg(function(){var t,e,n=navigator.userAgent.toLowerCase(),i=navigator.platform.toLowerCase(),a=function(t){var e=0;try{var n=t.split(/[_\.]/),i=n.shift();e=parseFloat(i+"."+n.join(""),10)}catch(a){}return e},o=new RegExp("((ipad|iphone|ipod|itouch).*oss([d_.]+))","gi");try{(e=n.match(o))&&e[2]?t=a(e[2]):(e=n.match(/android[^\d]+([\d_\.]+)/))&&e[1]?t=a(e[1]):(e=n.match(/macintosh[^\d]+([\d_\.]+)/))&&e[1]?t=a(e[1]):(e=n.match(/(windows|win32)[^\d]+([\d_\.]+)/))&&e[2]?t=a(e[2]):(e=n.match(/rhino[^\d]+([\d_\.]+)/))&&e[1]&&(t=a(e[1]))}catch(s){throw s}var r={version:t,windows:/windows|win32/.test(n),mac:/macintosh/.test(n),rhino:/rhino/.test(n)};return r.android=/android/.test(n)||/xiaomi/.test(n),!/(ipad|iphone|ipod|itouch)/.test(i)&&t<=4&&(r.android=!0),r.ios=/(ipad|iphone|ipod|itouch)/.test(n)&&!r.android,r.iphone=/(iphone|ipod|itouch)/.test(n)&&!r.android,r.mobile=r.iphone||r.android,r}),"urls".sffReg(function(){return{css:"//finance.sina.com.cn/other/src/sff.min.css",jq:"//news.sina.com.cn/268/2015/0112/jquery.newest.js",zepto:"//news.sina.com.cn/268/2015/0112/zepto.newest.js",swiper:"//n.sinaimg.cn/finance/66ceb6d9/20180426/swiper-4.2.2.min.js?ver=1.901",swiperCss:"//n.sinaimg.cn/finance/66ceb6d9/20180426/swiper-4.2.2.min.css?ver=1.901",swiperAnimate:"//n.sinaimg.cn/finance/66ceb6d9/20180426/swiper.animate1.0.3.min.js?ver=1.901",suggestServer:"//finance.sina.com.cn/other/src/suggestserver.js",hqSuggest:"//finance.sina.com.cn/common/js/hq-suggest.js",doT:"//n.sinaimg.cn/finance/fe/doT.min.js",outLoginLayer:"//news.sina.com.cn/sso/outlogin_layer.js",userPanel:"//news.sina.com.cn/sso/user_panel_new_version.js",pagebak:"//n.sinaimg.cn/finance/6adc145b/20170803/pages-min.js?ver=1.901",hq:"//n.sinaimg.cn/finance/sff/hq.js?ver=1.901",slider:"//n.sinaimg.cn/finance/sff/slider.js?ver=1.901",video:"//n.sinaimg.cn/finance/sff/video.js?ver=1.901",page:"//n.sinaimg.cn/finance/sff/pages.js",drag:"//n.sinaimg.cn/finance/sff/drag.js?ver=1.901"}}),"jsLoader".sffReg(function(){var t={};return function(){function e(t,e,i){var a=/jquery/.test(t);if(window.jQuery&&a)e&&setTimeout(function(){e()},0);else{var o=n.createElement("script");o.type="text/javascript",i&&(o.charset=i),o.onreadystatechange=o.onload=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(e&&e(),o.onreadystatechange=o.onload=null,o.parentNode.removeChild(o))},o.src=t;var s=n.getElementsByTagName("head")[0];s.insertBefore(o,s.firstChild)}}var n=document,i="1.1.1",a={},o=0;if(t.jsLoader){if(t.jsLoader.version>=i)return;a=t.jsLoader.getData(),o=a.length}var s=function(t,e){this.name=t,this.url=e,this.callback=[]};s.prototype={status:"init",onload:function(){this.status="ok";for(var t=[],e=0;e<this.callback.length;e++)if("function"==typeof this.callback[e])try{this.callback[e]()}catch(n){t.push(n)}if(this.callback=[],0!=t.length)throw t[0]}};var r=function(t,n){var i={};3==arguments.length?(i.name=arguments[0],i.url=arguments[1],i.callback=arguments[2]):"string"==typeof t?(i.url=t,"function"==typeof n&&(i.callback=n)):i=t;var c=i.url||"",l=i.name||"",d=i.callback||"",u=i.charset||"",f={name:l,jsLoader:function(t,e){var n={};3==arguments.length?(n.name=arguments[0],n.url=arguments[1],n.callback=arguments[2]):"string"==typeof t?(n.url=t,"function"==typeof e&&(n.callback=e)):n=t,n.name||(n.name="noname"+o,o++);var i=r({name:this.name,callback:function(){r(n)}});return i.name=n.name,i}};if(l){if(a[l]?"waiting"==a[l].status&&c&&(a[l].status="init"):(c?a[l]=new s(l,c):(a[l]=new s(l),a[l].status="waiting"),o++),i.status&&(a[l].status=i.status),"loading"==a[l].status||"waiting"==a[l].status)return"function"==typeof d&&a[l].callback.push(d),f;if("ok"==a[l].status)return"function"==typeof d&&d(),f}else{if(!c)return f;for(var h in a)if(a[h].url==c){l=h;break}if(l||(l="noname"+o,a[l]=new s(l,c),o++),f.name=l,"loading"==a[l].status)return"function"==typeof d&&a[l].callback.push(d),f;if("ok"==a[l].status)return"function"==typeof d&&d(),f}return"function"==typeof d&&a[l].callback.push(d),e(c,function(){a[l].onload()},u),a[l].status="loading",f};t.jsLoader=r,t.jsLoader.version=i,t.jsLoader.getData=function(){return a}}(),t.jsLoader}),"common.util".sffReg(function(){var util={addLoading:function(t){t.html($('<div class="ajax-loading"></div>'))},getRandom:function(){return+new Date+Math.random().toString().replace("0.","")},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},extend:function(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(prop in i)i.hasOwnProperty(prop)&&(t[prop]=i[prop])}return t},addClass:function(t,e){if(t.classList)t.classList.add(e);else{var n=t.className,i=new RegExp("(^|\\s+)"+e+"(\\s+|$)");i.test(n)||(t.className=n+" "+e)}},removeClass:function(t,e){if(t.classList)t.classList.remove(e);else{var n=t.className,i=new RegExp("(^|\\s+)"+e+"(\\s+|$)");t.className=n.replace(i," ").replace(/(^\s*)|(\s*$)/g,"")}},hasClass:function(t,e){if(t.classList)return t.classList.contains(e);var n=t.className,i=new RegExp("(^|\\s+)"+e+"(\\s+|$)");return i.test(n)},each:function(t,e){var n,i=0,a=t.length,o=void 0===a;if(o){for(n in t)if(e.call(t[n],n,t[n])===!1)break}else for(;i<a&&e.call(t[i],i,t[i++])!==!1;);},ps:function(t,e,n){if(n=n||"",e="undefined"==typeof e?2:e,t=Number(t),isNaN(t))return"--";var i=Math.abs(t);return i<1e4?t.toFixed(e)+n:i<1e8?(t/1e4).toFixed(e)+"\u4e07"+n:(t/1e8).toFixed(e)+"\u4ebf"+n},toQueryString:function(t){var e,n;if("string"==typeof t)return encodeURIComponent(t);e=[];for(n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},toJson:function(cv){return cv&&cv.indexOf("=")!=-1?(cv=cv.replace(new RegExp("=","gi"),":'").replace(new RegExp("&","gi"),"',").replace(new RegExp(";\\s","gi"),"',"),eval("({"+cv+(cv.length>0?"'":"")+"})")):{}},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null},h5:document.createElement("canvas").getContext&&document.createElement("canvas").getContext("2d")?1:0,cookie:{set:function(t,e,n,i){if(util.h5&&!i)return void localStorage.setItem(t,e);var a=new Date;n=n||30,n=new Date(a.getTime()+24*n*3600*1e3),expires=n.toGMTString(),document.cookie=t+"="+e+";path=/;expires="+expires+";domain="+location.hostname},get:function(t,e){if(util.h5&&!e)return localStorage[t]||null;var n=document.cookie,i=n.indexOf(t+"="),a=i+t.length+1,o=n.indexOf(";",a);return i==-1?null:o==-1?n.substr(a):n.slice(a,o)},remove:function(t,e){if(util.h5&&!e)localStorage.removeItem(t);else{var n=new Date,i=new Date(n.getTime()-2592e6);expires=i.toGMTString(),document.cookie=t+"=;expires="+expires+";domain="+location.hostname}}},getDate:function(t){if(isNaN(t))return"";var e="zh-Hans-CN",n={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"},i=(new Date).toLocaleString(e,n).replace(/\/|\u5e74|\u6708/g,"-").replace(/\u65e5/g,"").split(" ")[0];return new Date(t).toLocaleString(e,n).replace(/\/|\u5e74|\u6708/g,"-").replace(/\u65e5/g,"").replace(i,"\u4eca\u5929")},getWeiBoDate:function(t){"string"==typeof t&&(t=t.replace(/-/g,"/"));var e,n,i,a,o,s=new Date(t),r=new Date,c=r-s;return c<36e5&&c>0?o=0==~~(c/6e4)?"\u521a\u521a":(~~(c/6e4)).toString()+"\u5206\u949f\u524d":(e=s.getHours(),n=s.getMinutes(),i=e<10?"0"+e.toString():e.toString(),a=n<10?"0"+n.toString():n.toString(),o=r.getFullYear()===s.getFullYear()?r.getDate()===s.getDate()?"\u4eca\u5929"+i+":"+a:(s.getMonth()+1).toString()+"\u6708"+s.getDate().toString()+"\u65e5 "+i+":"+a:s.getFullYear().toString()+"\u5e74 "+(s.getMonth()+1).toString()+"\u6708"+s.getDate().toString()+"\u65e5 "+i+":"+a),o},checkObj:function(t){var e=Object.prototype.toString.call(t).slice(8,-1);return e=e.toLowerCase(),e||"Boolean"},getJsData:function(t,e,n){var i=document.createElement("script");"string"==typeof e&&(i.charset=e),i.onreadystatechange=i.onload=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(e&&"function"==typeof e&&e(),n&&"function"==typeof n&&n(),i.onreadystatechange=i.onload=null,i.parentNode.removeChild(i))},i.src=t,document.getElementsByTagName("head")[0].appendChild(i)},jsonp:function(t,e){function n(){s.parentNode&&s.parentNode.removeChild(s),window[l]=null,r&&clearTimeout(r)}function i(){window[l]&&n()}var a;"object"==typeof t?(e=t,a=t.url):a=t,e="function"==typeof e?{success:e,error:function(){},data:{}}:this.extend({success:function(){},error:function(){},data:{}},e);var o=+new Date+Math.random().toString().replace("0.","");if(!window.jQuery){var s,r,c=e.prefix||"sinajp_",l=e.jsonpCallback||e.jsonpCallBack||c+o,d=e.param||"callback",u=null!=e.timeout?e.timeout:1e4,f=encodeURIComponent,h=document.getElementsByTagName("script")[0]||document.head;u&&(r=setTimeout(function(){n(),e.error()},u)),window[l]=function(t){n(),e.success(t)};var p=this.toQueryString(e.data);return a+=(~a.indexOf("?")?"&":"?")+p+"&"+d+"="+f(l),a=a.replace("?&","?"),s=document.createElement("script"),s.src=a,h.parentNode.insertBefore(s,h),i}var g={};e.iscache&&(g={dpc:1});var m={dataType:"jsonp",timeout:1e4,scriptCharset:"utf-8",jsonpCallback:e.jsonpCallback||e.jsonpCallBack||"sina_"+o,data:jQuery.extend(e.data,g),cache:!0,xhrFields:{withCredentials:!0},success:function(t){e.success(t)},error:function(t){e.error(t)},complete:function(t,e){"timeout"==e&&v.abort()}};e.jsonpCallback&&(m.jsonpCallback=e.jsonpCallback),e.jsonpCallBack&&(m.jsonpCallback=e.jsonpCallBack);var v=jQuery.ajax(a,m)},ajax:function(t){var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(e&&t){var n=t.type?t.type.toLowerCase():"get";e.open(n,t.url,void 0==t.async||t.async),e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){var n=e.responseText,i=n;if("json"==t.dataType)try{i=JSON.parse(n)}catch(a){i=null}t.success&&t.success.call(null,i)}else 400==e.status&&t.error&&option.error.call(null)},"post"==n&&e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.timeout&&setTimeout(function(){4!=e.readyState&&(e.abort(),t.error&&t.error.call(null))},t.timeout),e&&e.send("get"==n?null:t.data?t.data:null)}},clone:function(t){var e;switch(typeof t){case"undefined":break;case"string":e=t+"";break;case"number":e=t-0;break;case"boolean":e=t;break;case"object":if(null===t)e=null;else if("array"==util.checkObj(t)){e=[];for(var n=0;n<t.length;n++)e.push(util.clone(t[n]))}else{e={};for(var i in t)e[i]=util.clone(t[i])}break;default:e=t}return e},fixNum:function(t,e){t+="",e=e||",";for(var n=/(-?\d+)(\d{3})/;n.test(t);)t=t.replace(n,"$1"+e+"$2");return t},formatNum:function(t,e){e=e||",";var n=t+"",i="",a="";if(n.indexOf("-")>-1&&(a="-",n=n.replace("-","")),n.indexOf(".")>-1){var o=n.split(".");n=o[0],i="."+o[1]}return n.length>3&&(n=util.fixNum(n,e)),a+n+i},sortArray:function(t,e,n){function i(t){var n=t[e];return 1*util.doNaN(n,"0")}function a(t){var e=t[o];return 1*util.doNaN(e,"0")}if(t.length<=1)return t;var o;arguments.length>3&&(o=arguments[3]);var s=t.slice();return s.sort(function(t,e){return n?i(e)==i(t)?o?a(e)-a(t):0:i(e)-i(t):i(e)==i(t)?o?a(t)-a(e):0:i(t)-i(e)}),s},deleteArray:function(t,e){for(var n=(t.length,[].concat(t)),i=n.length-1;i>=0;i--)n[i]==e&&n.splice(i,1);return n},deleteObject:function(t,e,n){for(var i=t.length,a=[],o=0;o<i;o++)a.push(t[o]);for(var o=a.length-1;o>=0;o--)a[o][e]==n&&a.splice(o,1);return a},checkRepeat:function(t,e){if(arguments.length>2){for(var n=arguments[1],e=arguments[2],i=0;i<t.length;i++)if(t[i][n]==e)return!0}else for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},isRepeat:function(t){var e={};if(arguments.length>1)for(var n=arguments[1],i=0;i<t.length;i++){if(e[t[i][n]])return!0;e[t[i][n]]=!0}else for(var i=0;i<t.length;i++){if(e[t[i]])return!0;e[t[i]]=!0}return!1},unique:function(t){var e=[],n={};if(arguments.length>1)for(var i,a=arguments[1],o=0;null!=(i=t[o]);o++)n[i[a]]&&"undefined"!=typeof i[a]||(e.push(i),n[i[a]]=!0);else for(var i,o=0;null!=(i=t[o]);o++)n[i]||(e.push(i),n[i]=!0);return e},doNaN:function(t,e){return!isNaN(t)&&isFinite(t)||(t=e||"--"),t},readStyle:function(t,e){if(t.style[e])return t.style[e];if(t.currentStyle)return t.currentStyle[e];if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(t,null);return n.getPropertyValue(e)}return null},getMaxZindex:function(){var t=0;if(window.jQuery)return t=Math.max.apply(null,jQuery.map(jQuery("body > *"),function(t,e){if("absolute"==jQuery(t).css("position")||"fixed"==jQuery(t).css("position"))return parseInt(jQuery(t).css("z-index"))||1})),Math.max(t,0);for(var e=document.getElementsByTagName("*"),n=e.length,i=0,a=[];i<n;i++)a.push(e[i]);return t=Math.max.apply(null,a.map(function(t,e){return"auto"==util.readStyle(t,"z-index")?0:util.readStyle(t,"z-index")})),Math.max(t,0)},substr2:function(t,e,n,i){i="undefined"==typeof i?"...":i,t=t.replace(/(^[\s|&nbsp;]*)|($[\s|&nbsp;]*)/g,"");var a=i.length,o=t.replace(/([^\x00-\xff])/g,"\0$1");return o.length<=n?t:o.substring(e,n-a).replace(/\x00/g,"")+i},clipWords:function(t,e,n){if(!e&&!n)return t;t=t.replace(/(^[\s|&nbsp;]*)|($[\s|&nbsp;]*)/g,"");var i,a,o=t.replace(/([^\x00-\xff])/g,"\0$1"),s=o.length<e?t:o.substring(0,e-3).replace(/\x00/g,"")+"...";return n&&n<e&&(i=o.substring(0,n).replace(/\x00/g,""),a=o.substring(n).replace(/\x00/g,"").match(/[^\u3002\uFF01\uFF1F\uFF1B]+[\u3002\uFF01\uFF1F\uFF1B]/g),a&&(s=i+a[0])),s},supportCss3:function(t){var e,n=["webkit","Moz","ms","o"],i=[],a=document.documentElement.style,o=function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})};for(e in n)i.push(o(n[e]+"-"+t));i.push(o(t));for(e in i)if(i[e]in a)return!0;return!1}("transform"),loadStyle:function(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)},loadLink:function(t,e){var n,i=document.getElementsByTagName("head")[0];/\.css/.test(t)?(n=document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=t):(n=document.createElement("script"),n.type="text/javascript",n.src=t),i.insertBefore(n,i.lastChild),n.onload=n.onerror=function(){e&&e()}}};return util}),Function.prototype.fnBind||(Function.prototype.fnBind=function(t,e){var n=this;return function(){var i;if(e&&arguments.length){i=Array.prototype.slice.call(e,0);for(var a=0;a<arguments.length;a++)Array.prototype.push.call(i,arguments[a])}return n.apply(t||this,i||e||arguments)}}),Function.prototype.bindArg||(Function.prototype.bindArg=function(){for(var t=this,e=arguments[0],n=new Array,i=1;i<arguments.length;i++)n.push(arguments[i]);return function(){return t.fnBind(e,n)}}),Number.prototype.toFixed=function(t){var e,n=Math.floor(this*Math.pow(10,t))+.5,i=0>n?"-":"";if(n=Math.abs(n),Math.abs(this)*Math.pow(10,t)-n>=-.5*Math.pow(10,-14+t)?n+=.5:n-=.5,n+="",0==t)return i+n;if(n=n.split(""),n.length<=t){for(e=n.length;t>e;e++)n.unshift("0");n.unshift("."),n.unshift("0")}else n.splice(n.length-t,0,".");return i+n.join("")},String.prototype.toFixed=function(t){return isNaN(1*this)?this.toString():(1*this).toFixed(t)},String.prototype.format=function(t){var e,n,i,a,o;return t=t||",",e=this+"","number"!=typeof(1*e)?e:(n="",i="",e.indexOf("-")>-1&&(i="-",e=e.replace("-","")),e.indexOf(".")>-1&&(a=e.split("."),e=a[0],n="."+a[1]),e.length>3?(e=e.replace(/\d{3}$/,function(t){return o=","+t,""}),i+arguments.callee.apply(e,arguments)+o+n):i+e+n)},Number.prototype.format=function(){return String.prototype.format.apply(this+"",arguments)},String.prototype.preFull=function(t,e){var n=this.toString();for(t=t||2,e=e||"0";n.length<t;)n=e+n;return n},Number.prototype.preFull=function(t,e){return(this+"").preFull(t,e)},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){e=e||window;for(var n=0,i=this.length;n<i;n++)t&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){e=e||window;for(var n=[],i=0,a=this.length;i<a;i++)if("function"==typeof t){var o=t.call(e,this[i],i,this);n[n.length]=o}return n}),Array.prototype.filter||(Array.prototype.filter=function(t){for(var e=[],n=0,i=this.length;n<i;n++)t(this[n],n)&&e.push(this[n]);return e}),"common.tabs.init".sffReg(function(){var t=SFF.common.util;return function(e){SFF.jsLoader(SFF.urls.jq,function(){var n=jQuery,i={init:function(t){var e;e=n("string"==typeof t?"#"+t:t?t:"body");var i=n(".tabs",e),a=this;i.each(function(t,e){if(n(e).data("init"))return!0;var i=n(e).data("init",!0);0===n(".tabs-contsWrap",i).size()?a.creatHtml(i):i.contWrap=n(".tabs-contsWrap:first",i),a.tabData(i)})},creatHtml:function(t){t.contWrap=n('<div class="tabs-contsWrap"></div>').appendTo(t),n('.tabs-menu li:not(".disable")',t).each(function(){n('<div class="tabs-cont"></div>').appendTo(t.contWrap)})},tabData:function(t){var e=n('.tabs-menu:first li:not(".disable")',t),i=this;e.each(function(a,o){var s=t.contWrap.children(".tabs-cont"),r=s.eq(a);r.html()&&n(o).data("temp",r.html());var c=n(o).attr("ds-tabs-action")||"click";n(o).data("cont",r).data("eventMethod",c)[c](function(){e.removeClass("cur");var t=n(this).addClass("cur"),a=t.attr("data-tabs")||"",o=t.attr("data-cb")||"";s.hide(0),"undefined"!=typeof t.attr("data-tabs-update")&&t.data("loaded",!1),t.data("loaded")?t.data("cont").show(0):i.eventClick(a,t.data("cont").show(),t),i.eventClick(o,t.data("cont"),t,!0),t.data("loaded",!0)})});var a=e.filter(".cur").size()>0?e.filter(".cur"):e.eq(0),o=a.data("eventMethod");a.trigger(o),t.select=function(t){e.eq(t).trigger(o)},i.eventClick(t.attr("data-cb"),t,"",!0)},eventClick:function(e,n,i,a){if(e){var o,s,r;for(a||t.addLoading(n),e.indexOf("|")>0?(o=e.split("|"),s=SFF):(o=e.split("."),s=window);r=o.shift();)if(o.length)s=s[r];else{if(void 0===s[r])return;"function"==typeof s[r]&&s[r].call(n,i)}}}};i.init(e)})}}),"common.flash".sffReg(function(){return function(t,e){"string"==typeof t&&(t=document.getElementById(t)),e||(e={});var n=e.orbit||["#fee","#fdd","#fcc","#fdd","#fee","#fff"],i=e.times||2,a=e.delay||15,o=0,s=setInterval(function(){if(o/a>=n.length){if(i-=1,!(i>0))return clearInterval(s),!1;o=0}t.style.backgroundColor=n[o/a],o+=1},1)}}),"common.simselect".sffReg(function(){var DivSelect=function(t,e,n){var i=this;if(this.id=t,this.divId=e,this.divClassName=n||"selectView",this.ele="string"==typeof t?this.$(this.id):t,this.ele){for(this.status="close",this.parentObj=this.ele.parentNode;"block"!=this.readStyle(this.parentObj,"display")&&this.parentObj.parentNode;)this.parentObj=this.parentObj.parentNode;this.parentObj.style.position="relative";var a=this.absPosition(this.ele,this.parentObj);this.ele.style.visibility="hidden",this.__div=document.createElement("div"),e&&(this.__div.id=e),this.divClassName&&(this.__div.className=this.divClassName),this.parentObj.appendChild(this.__div),this.__div.style.width=this.ele.offsetWidth+"px",this.__div.style.position="absolute",this.__div.style.left=a.left+"px",this.__div.style.top=a.top+"px",this.__div.onclick=function(){i.click()},this.__div_count=document.createElement("div"),this.__div.appendChild(this.__div_count),this.__div_count.className="ds_cont",this.__div_title=document.createElement("div"),this.__div_count.appendChild(this.__div_title),this.__div_title.className="ds_title",this.__div_button=document.createElement("div"),this.__div_count.appendChild(this.__div_button),this.__div_button.className="ds_button",this.__div_list=document.createElement("div"),this.__div.appendChild(this.__div_list),this.__div_list.className="ds_list",this.__div_list.style.display="none",this.__div_listCont=document.createElement("div"),this.__div_list.appendChild(this.__div_listCont),this.__div_listCont.className="dsl_cont",this.rendor()}};return DivSelect.prototype={rendor:function(){var t,e=this;this.list=[],this.__div_listCont.innerHTML="";for(var n=0;n<this.ele.options.length;n++)t=document.createElement("p"),this.list.push(t),this.__div_listCont.appendChild(t),t.innerHTML=this.ele.options[n].innerHTML,this.ele.selectedIndex==n&&(this.__div_title.innerHTML=t.innerHTML),t.num=n,t.onmouseover=function(){e.showSelectIndex(this.num)},t.onclick=function(){e.select(this.innerHTML)}},showSelectIndex:function(t){"undefined"==typeof t&&(t=this.ele.selectedIndex),"undefined"!=typeof this.showIndex&&(this.list[this.showIndex].className=""),this.showIndex=t,this.list[this.showIndex].className="selected"},select:function(t){for(var e=0;e<this.ele.options.length;e++)if(this.ele.options[e].innerHTML==t){this.ele.selectedIndex=e,this.ele.onchange&&this.ele.onchange(),this.__div_title.innerHTML=t;break}},add:function(t,e){var n=document.createElement("option");n.text=t,n.value=e,this.ele.add(n,null),this.update()},setIndex:function(t){t<0||t>=this.list.length||(this.ele.selectedIndex=t,this.ele.onchange&&this.ele.onchange(),this.__div_title.innerHTML=this.list[t].innerHTML)},clickClose:function(t){var e=t.target?t.target:event.srcElement,n=this;do{if(e==n.__div)return;if("BODY"==e.tagName)break;e=e.parentNode}while(e.parentNode);n.close()},update:function(){this.ele.selectedIndex=0,this.rendor()},keyDown:function(t){var e=this.showIndex;38==t.keyCode&&(e--,e<0&&(e=this.list.length-1),this.showSelectIndex(e),this.stopDefault(t)),40==t.keyCode&&(e++,e>=this.list.length&&(e=0),this.showSelectIndex(e),this.stopDefault(t)),13!=t.keyCode&&9!=t.keyCode||(this.setIndex(e),this.stopDefault(t),this.close()),27==t.keyCode&&this.close()},open:function(){var t=this;this.showSelectIndex(),this.__div_list.style.display="block",this.status="open",this.__closeFn=function(e){t.clickClose(e)},this.__keyFn=function(e){t.keyDown(e)},this.addEvent(document,"click",this.__closeFn),this.addEvent(document,"keydown",this.__keyFn)},close:function(){this.__div_list.style.display="none",this.status="close",this.delEvent(document,"click",this.__closeFn),this.delEvent(document,"keydown",this.__keyFn)},click:function(){"open"==this.status?this.close():this.open()},$:function(objName){return document.getElementById?eval('document.getElementById("'+objName+'")'):eval("document.all."+objName)},addEvent:function(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n,!1)},delEvent:function(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener(e,n,!1)},readStyle:function(t,e){if(t.style[e])return t.style[e];if(t.currentStyle)return t.currentStyle[e];if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(t,null);return n.getPropertyValue(e)}return null},absPosition:function(t,e){var n=t.offsetLeft,i=t.offsetTop,a=t.offsetParent,o="";try{for(;a.id!=document.body&&a.id!=document.documentElement&&a!=e&&null!=a;)o+=a.tagName+" , ",a=a.offsetParent,n+=a.offsetLeft,i+=a.offsetTop}catch(s){}return{left:n,top:i}},stopDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},function(t,e,n){return new DivSelect(t,e,n)}}),"date.clock".sffReg(function(){function t(t,e,n){var i,a,o=document.createElement("script");o.type="text/javascript",n&&(o.charset=n),o.src=t,i=document.getElementsByTagName("head")[0],a=!1,o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(a=!0,e&&e(),o.onload=o.onreadystatechange=null,setTimeout(function(){i.removeChild(o)},1))},i.appendChild(o)}function e(){return(new Date).getTime()}function n(t){return t in i?1*i[t].replace(":","."):0}var i={US:"-13:00",CA:"-13:00",UK:"-08:00",DE:"-07:00",FR:"-07:00",IT:"-07:00",PT:"-08:00",ES:"-07:00",CH:"-07:00",AU:"+03:00",NZ:"+05:00",CN:"+00:00",JP:"+01:00"};return new function(){var i,a="//hq.sinajs.cn/?rn=$random&list=sys_time",o=[],s=/\d{2}:\d{2}:\d{2}/,r=!1;this.init=function(t,e){var i,a;for(t=t||[],a=0;a<t.length;a++)i={},i.el=document.getElementById(t[a].id),i.diff=36e5*n(t[a].area),i.template=t[a].template,o.push(i);r?this.draw():(r=!0,(window.hq_str_sys_time||window.StandardBJTime)&&this.setTime(),this.getTime(),setInterval(this.getTime.fnBind(this),36e5),setInterval(this.draw.fnBind(this),1e3))},this.add=function(){},this.getTime=function(){t(a.replace("$random",e()),this.setTime.fnBind(this))},this.setTime=function(){i=1e3*(window.hq_str_sys_time||window.StandardBJTime),this.draw()},this.time=function(){return new Date(i)},this.draw=function(){var t,e;if(i){for(e=0;e<o.length;e++)t=new Date(i+o[e].diff),o[e].el.innerHTML=o[e].template?o[e].template.replace("YY",t.getFullYear()).replace("Y",(t.getFullYear()%100).preFull()).replace("MM",(t.getMonth()+1).preFull()).replace("DD",t.getDate().preFull()).replace("H",t.getHours().preFull()).replace("M",t.getMinutes().preFull()).replace("S",t.getSeconds().preFull()):t.getMonth()+1+"\u6708"+t.getDate()+"\u65e5 "+t.toString().match(s)[0];i+=1e3}}}}),"date.countDown".sffReg(function(){function t(t,e,n){var i,a,o=document.createElement("script");o.type="text/javascript",n&&(o.charset=n),o.src=t,i=document.getElementsByTagName("head")[0],a=!1,o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(a=!0,e&&e(),o.onload=o.onreadystatechange=null,setTimeout(function(){i.removeChild(o)},1))},i.appendChild(o)}function e(){return(new Date).getTime()}return new function(){var n,i="//hq.sinajs.cn/?rn=$random&list=sys_time",a=[],o=!1;this.init=function(t){var e,n;for(t=t||[],n=0;n<t.length;n++)e={},e.el=document.getElementById(t[n].id),e.date="number"==typeof t[n].date?t[n].date:+new Date(t[n].date&&t[n].date.replace(/\-/g,"/")),e.endStatus=!1,e.on=t[n].on||!1,e.imgShow=t[n].imgShow||!1,e.end=t[n].end||function(){this.innerHTML=""},e.template=t[n].template,e.cache={},a.push(e);o?this.draw():(o=!0,(window.hq_str_sys_time||window.StandardBJTime)&&this.setTime(),this.getTime(),setInterval(this.getTime.fnBind(this),36e5),setInterval(this.draw.fnBind(this),1e3))},this.add=function(){},this.getTime=function(){t(i.replace("$random",e()),this.setTime.fnBind(this))},this.setTime=function(){n=1e3*(window.hq_str_sys_time||window.StandardBJTime),this.draw()},this.time=function(){return new Date(n)},this.getNumHTML=function(t,e,n,i){var a,o="";if(t=t.toString(),"number"==typeof e&&t.length<e)for(a=0;a<e-t.length;a++)o+='<span class="cdNum cdNum0">0</span>';for(a=0;a<t.length;a++){var s=t.substr(a,1),r="cdChange";if(n&&i){var c=a+1;(!n.cache[i+c]||n.cache[i+c]&&n.cache[i+c]==s)&&(r=""),n.cache[i+c]=s,o+='<span class="cdNum cdNum'+s+" "+r+'">'+s+"</span>"}else o+='<span class="cdNum cdNum'+s+'">'+s+"</span>"}return o},this.draw=function(){var t,e;if(n){for(e=0;e<a.length;e++){t=Math.floor((a[e].date-n)/1e3);var i,o,s,r,c={};if(t>0)if(i=Math.floor(t/86400),t-=86400*i,o=Math.floor(t/3600),t-=3600*o,s=Math.floor(t/60),t-=60*s,r=t,c.day=i>=1?i:0,c.hour=("00"+o).slice(-2),c.Fullhour=24*i+ +c.hour,c.minite=("00"+s).slice(-2),c.second=("00"+r).slice(-2),a[e].on)a[e].on.call(c,a[e].el);else{var l=this.getNumHTML(i,0,a[e],"fy"),d=this.getNumHTML(i.preFull(),0,a[e],"y"),u=this.getNumHTML(c.Fullhour,0,a[e],"fh"),f=this.getNumHTML(c.hour,0,a[e],"h"),h=this.getNumHTML(c.minite,0,a[e],"m"),p=this.getNumHTML(c.second,0,a[e],"s");a[e].imgShow?a[e].el&&(a[e].el.innerHTML=a[e].template?a[e].template.replace("DD",d).replace("D",l).replace("HH",u).replace("H",f).replace("M",h).replace("S",p):l+"\u5929"+f+"\u5c0f\u65f6"+h+"\u5206"+p+"\u79d2"):a[e].el&&(a[e].el.innerHTML=a[e].template?a[e].template.replace("DD",i.preFull()).replace("D",i).replace("HH",c.Fullhour).replace("H",c.hour).replace("M",c.minite).replace("S",c.second):i+"\u5929"+c.hour+"\u5c0f\u65f6"+c.minite+"\u5206"+c.second+"\u79d2")}else"function"!=typeof a[e].end||a[e].endStatus||(a[e].endStatus=!a[e].endStatus,a[e].end.call(a[e].el))}n+=1e3}}}}),"dom.hover".sffReg(function(){return{init:function(){SFF.jsLoader(SFF.urls.jq,function(){var t=jQuery,e=t("body");SFF.common.util;e.on("mouseenter","[ani-cls]",function(){var e="ani-"+t(this).attr("ani-cls");t(this).addClass(e)}).on("mouseleave","[ani-cls]",function(){var e="ani-"+t(this).attr("ani-cls");t(this).removeClass(e)}).on("mouseenter","[hover-show]",function(){var e=t(this),n=e.attr("hover-show")&&t("#"+e.attr("hover-show"));n&&n.data("showTimeout",null).fadeIn(200)}).on("mouseleave","[hover-show]",function(){var e=t(this),n=e.attr("hover-show")&&t("#"+e.attr("hover-show"));n&&(n.data("showTimeout",setTimeout(function(){n.fadeOut(200)},500)).off("mouseenter mouseleave"),n.on("mouseenter",function(){var e=t(this);e.data("showTimeout")&&clearTimeout(e.data("showTimeout"))}).on("mouseleave",function(){t(this).fadeOut(200)}))})})}}}),"dom.click".sffReg(function(){return{init:function(){SFF.jsLoader(SFF.urls.jq,function(){var t=jQuery,e=t("body"),n=SFF.common.util;e.on("click","[click-show]",function(){var e=t(this),i=e.attr("data-show")&&t("#"+e.attr("data-show")),a=n.getMaxZindex();i&&i.fadeIn(200).css("z-index",a)}).on("click","[click-close]",function(){var e=t(this),n=e.attr("data-close")&&t("#"+e.attr("data-close"));n&&n.fadeOut(200)}).off("click","[data-event]").on("click","[data-event]",function(e){var n,i,a,o=t(this).attr("data-event");for(o.indexOf(".")>0?(n=o.split("."),i=window):(n=o.split("|"),i=SFF);a=n.shift();)if(n.length)i=i[a];else{if(void 0===i[a])return;"function"==typeof i[a]&&i[a].call(t(this))}})})}}}),"dom.fade".sffReg(function(){var t=function(){var t=function(t,e,n){var i=this;this.elem="string"==typeof t?document.getElementById(t):t,this.elem.si&&clearInterval(this.elem.si),this.target=e?e:0,this.time=n||1e3,this.alpha=100*(SFF.common.util.readStyle(this.elem,"opacity")||0),this.flag=this.target>this.alpha?1:-1,this.total=Math.round(Math.abs(this.alpha-this.target)),this.elem.si=setInterval(function(){i.tween()},this.time/this.total)};return t.prototype={tween:function(){if(this.alpha==this.target)clearInterval(this.elem.si);else{var t=Math.round(this.alpha+this.flag);this.elem.style.opacity=t/100,this.elem.style.filter="alpha(opacity="+t+")",this.alpha=t}}},t}();return function(e,n,i){return new t(e,n,i),SFF.dom}}),"dom.isView".sffReg(function(){var t=function(){return{init:function(t){this.elem="string"==typeof t?document.getElementById(t):t;var e=this.getElementTop(),n=parseInt(this.elem.offsetHeight||this.elem.clientHeight)||0,i=this.getScrollTop(),a=this.getWindowHeight(),o=Math.max(0,e-a),s=e+n;return i>=o&&i<=s},getElementTop:function(){for(var t=this.elem.offsetTop,e=this.elem.offsetParent;null!=e;)t+=e.offsetTop,e=e.offsetParent;return t},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getScrollTop:function(){return window.pagYoffset||document.documentElement.scrollTop||document.body.scrollTop}}}();return function(e){return t.init(e)}}),"dom.lazyLoad".sffReg(function(){return function(){SFF.jsLoader(SFF.urls.jq,function(){var t=jQuery,e=t("[data-scrollLoad]");if(e.size()){var n=function(){e.each(function(){var e,n,i=t(this),a=i[0],o=i.attr("data-scrollLoad");if(!i.data("lazyLoaded")&&o&&SFF.dom.isView(a))for(i.data("lazyLoaded",1),o.indexOf("|")>0?(e=o.split("|"),n=SFF):(e=o.split("."),n=window);k=e.shift();)if(e.length)n=n[k];else{if(void 0===n[k])return;"function"==typeof n[k]&&n[k].call(i,t)}})};n(),t(window).scroll(n.fnBind())}})}}),"dom.loading".sffReg(function(){return function(t,e){var n={msg:function(t,e,n){for(var i=0;i<e;i++)t+=n.toString();return t},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isString:function(t){return"[object String]"===Object.prototype.toString.call(t);
}};SFF.jsLoader(SFF.urls.jq,function(){var i=jQuery;window.loading||!function(t){function e(n,i,a,o,s){if(!(n instanceof t&&0!=n.length))return this.$obj=t(""),this;n.length>1&&(n=t(n[0]));var r=n.data("loading");r&&r instanceof e&&r.clear(),this.$obj=n,this.oldvalue=n.text(),this.num=t.isNumeric(parseInt(a))?parseInt(a):3,this.rate=t.isNumeric(parseInt(o))?parseInt(o):1e3,this.text="undefined"==typeof i||null===i?"\u63d0\u4ea4\u4e2d":i,this.style="undefined"==typeof s||null===s?".":s,this.init()}e.prototype={init:function(){function t(){i++,e.$obj.text(n.msg(e.text,i,e.style)),i==e.num&&(i=0)}var e=this,i=1;e.$obj.text(n.msg(e.text,1,e.style)),this.handle=setInterval(t,this.rate),e.$obj.attr("disabled",!0),e.$obj.data("loading",this)},clear:function(){clearInterval(this.handle),this.$obj.text(this.oldvalue),this.$obj.removeAttr("disabled")}},window.loading=e}(i);var a={text:null,num:null,rate:null,style:null};if(t=i(t),n.isObject(e))e=i.extend({},a,e);else{if("stop"===e){var o=t.data("loading");return o&&o instanceof loading&&o.clear(),t}e=i.extend({},a)}return new loading(t,e.text,e.num,e.rate,e.style),t})}}),"hq.type".sffReg(function(){return function(t){function e(t){return t.replace(/[^0-9a-z_]/gi,function(t){return"$"+t.charCodeAt(0).toString(16)})}var n,i,a=t.type,o=t.sub_type||t.type,s=t.market,r=t.code,c=t.nameStr||a+"_"+s+r,l=t.code,d=t.code+"@"+o;switch(a){case"cn":"sb"==s&&r&&r.toLowerCase().indexOf("sb")>-1&&(r=r.replace(/sb/gi,"")),r=r.replace(/sh/gi,"").replace(/sz/gi,""),d=s+d,l=s+r,n=l,i=l+"_i";break;case"hk":l=s+r,n="rt_"+l,i=l+"_i";break;case"us":l=s+r,l=l.replace(".","$"),n="gb_"+l.slice(2).toLowerCase(),i="gb_"+l.slice(2).toLowerCase()+"_i";break;case"fund":l=s+r,n=l,i="f_"+l.slice(2);break;case"of":l=s+r,n="f_"+r,i="f_u"+r;break;case"wh":var u=l.indexOf("fx_")>-1?l:"fx_s"+l;n=u,i=u,l=(l.indexOf("fx_")>-1?l.slice(4):l).toUpperCase(),(l.indexOf("bit")>-1||l.indexOf("BIT")>-1)&&(n=i="btc_"+l.toLowerCase());break;case"uk":var f=e(l);n="lse_"+f,i="lse_"+f+"_i";break;default:n=l,i=l}return{name:c,type:a,utype:o,market:s,code:r,codeStr:d,symbol:l,arr1:n,arr2:i}}}),"hq.dbs".sffReg(function(){return{data:{}}}),"hq.get".sffReg(function(){function t(t,e,n){return SFF.common.util.getJsData(t,e,n)}function e(){return(new Date).getTime()}function n(t,e,n){var i;return SFF.hq[t.type]?i=SFF.hq[t.type](t,e,n):console.log("SFF.hq\u7684"+t.type+"\u65b9\u6cd5\u4e0d\u5b58\u5728\uff01"),i||{}}function i(i,o,s){function r(){m--,m||_()}for(var c=i.concat([]),l=0;l<c.length;l++)"string"==typeof c[l]&&(c[l]={symbol:c[l],code:c[l].slice(2),market:"cn",type:"cn",name:"cn_"+c[l]});var d=c.length,u=[],f=[],h=[],p=0,g=Math.ceil(d/200),m=2*g,v=o||function(){},_=function(){for(p=0;p<d;p++)null!==window["hq_str_"+u[p]]&&(SFF.hq.dbs.data[c[p].name]=n(c[p],window["hq_str_"+u[p]],window["hq_str_"+f[p]]));v(SFF.hq.dbs.data)};if(!d)return!1;for(p=0;p<d;p++){var y=c[p],w=y.arr1,b=y.arr2;u.push(w),f.push(b)}if(s){for(p=0;p<d;p++){var y=c[p];h.push(y.arr1),h.push(y.arr2)}return window.hqdataObj||(window.hqdataObj={}),void SFF.io.websocket(h,function(t){for(hqdataObj=SFF.common.util.extend(hqdataObj,t),p=0;p<d;p++)null!==hqdataObj[u[p]]&&(SFF.hq.dbs.data[c[p].name]=n(c[p],hqdataObj[u[p]],hqdataObj[f[p]]));v(SFF.hq.dbs.data)})}for(var l=0;l<g;l++){var F=u.slice(200*l,200*(l+1)),S=f.slice(200*l,200*(l+1));t(a.replace("$random",e()).replace("@stock@",F.join(",")),r),t(a.replace("$random",e()).replace("@stock@",S.join(",")),r)}}var a="//hq.sinajs.cn/?rn=$random&list=@stock@";return function(t,e,n){t=t||[],SFF.jsLoader(SFF.urls.hq,function(){for(var a=t.length,o=[],s=0;s<a;s++)o.push(SFF.hq.type(t[s]));o.length?i(o,e.fnBind(SFF.hq.dbs),n):e.fnBind(this)})}}),"hq.init".sffReg(function(){return function(t){SFF.jsLoader(SFF.urls.jq,function(){var e,n,i,a=jQuery;t=t||{};var o=t.websocket||0;e=a(t.dom&&"string"==typeof t.dom?"#"+t.dom:t.dom?t.dom:"body"),i=t.success||function(t){},n=t.callback||function(t){this.find("[data-nameLink]").html(t.nameLink),this.find("[data-name]").html(t.name),this.find("[data-code]").html(t.code),this.find("[data-symbol]").html(t.symbol),this.find("[data-price]").html(t.price&&t.price.toFixed(2)),this.find("[data-percent]").html(t.percent&&t.percent.replace("%","").toFixed(2)+"%")};var s=a("[data-stock]",e),r=s.map(function(t,e){return e=a(e),{code:e.attr("data-code"),market:e.attr("data-market"),type:e.attr("data-type"),sub_type:e.attr("data-subtype")||e.attr("data-type")}}).get();t.data&&(r=t.data),SFF.hq.get(r,function(t){s.each(function(){var e=a(this),i=e.attr("data-type")+"_"+e.attr("data-market")+e.attr("data-code");t[i]&&(e.data("stockInfo",t[i]),e.removeClass("up down flat").addClass(t[i].updown),n.call(e,t[i]))}),i.call(s,t)},o)})}}),"io.getData".sffReg(function(){return function(t,e){SFF.jsLoader(SFF.urls.jq).jsLoader(SFF.urls.doT,function(){var n=jQuery,i=SFF.common.util,a=doT.template,o=function(){var t=function(t){this.cfg=n.extend({url:"",id:"",temp:"",loading:!0,para:{},noDataText:"\u6682\u65e0\u6570\u636e",data:"",after:function(){},before:function(t){return t},asyncData:null},t),this.fn=this.cfg.before,this._requestTime=0,this._success=this.cfg.after,this._asyncData=this.cfg.asyncData;var e;e="object"==typeof this.cfg.temp?this.cfg.temp:n("#"+this.cfg.temp),this.template=a(e[0].text||e.html()),"string"==typeof this.cfg.id&&(this.cfg.id=n("#"+this.cfg.id)),this._setTimeout=null,this._data={},this.begin()};return t.prototype={begin:function(){this._getList(),this._initEvent()},init:function(t){this._update(t),this._getList()},_update:function(t){var e=this;e.cfg=n.extend(this.cfg,t),e._page=1},_getList:function(){var t=this,e=t.cfg.url;t._loading(),t._requestTime++;var n=t.cfg.url.indexOf("?")>0?"&":"?",a=[];for(var o in t.cfg.para)a.push(o+"="+t.cfg.para[o]);a=a.join("&"),a&&(e=e+n+a),i.jsonp(e,{success:function(e){t.jsonData=i.clone(e);var n;if(t.cfg.data)if("function"==typeof t.cfg.data)e=t.cfg.data(e);else for(var a=t.cfg.data.split(".");n=a.shift();)e&&"undefined"!=typeof e[n]&&(e=e[n]);else e=e.data&&"undefined"!=typeof e.data.data?e.data.data:e.result&&e.result.data?e.result.data.data||e.result.data:e.data||e;e=e||[],"function"==typeof t.fn&&t.fn(e),t._asyncData&&"function"==typeof t._asyncData?t._asyncData(e,function(e){t._data.data=e,t._rendor()}):(t._data.data=e,t._rendor())},error:function(){t._requestTime<3?t._getList():t.cfg.id[0].innerHTML='<div class="wrongdata" data-action="_getList"><s></s><p><span>\u83b7\u53d6\u6570\u636e\u5931\u8d25</span><a href="javascript:void(0)">\u91cd\u65b0\u83b7\u53d6</a><p></div>'}})},_loading:function(){this.cfg.loading&&SFF.common.util.addLoading(this.cfg.id)},_rendor:function(){var t=this;"object"==i.checkObj(t._data.data)||t._data.data.length>0?(t.cfg.id.html(t.template(t._data.data)),t._success.call(t,t._data.data)):t.cfg.id.html('<div class="nodata"><s></s><p>'+t.cfg.noDataText+"</p></div>")},_initEvent:function(){var t=this;n("body");t.cfg.id.on("click",".wrongdata",function(){var e=n(this).data("action");e&&t[e]()})}},t}(),s=new o(t);e&&"function"==typeof e&&e.call(s,s)})}}),"io.getList".sffReg(function(){var t=SFF.common.util;return function(e,n){SFF.jsLoader(SFF.urls.jq).jsLoader(SFF.urls.doT,function(){function i(t,e){e=e||10,"string"==typeof t&&(t=a("#"+t));var n=t.offset().top;n&&a("html,body").animate({scrollTop:n-e},400)}var a=jQuery,o=doT.template,s=function(){var e=function(t){return this.cfg=a.extend({pageNum:10,pageId:"",pageCfg:"page",pageMax:5,filterid:"",name:"\u63a5\u53e3\u6570\u636e",offset:0,loading:!0,id:"",temp:"",noDataText:"\u6682\u65e0\u6570\u636e",pageNumcfg:"pagesize",sort:"",asc:"",pageCount:"data.sum",data:"",para:{},once:function(){},after:function(){},before:function(t){return t}},t),(this.cfg.showMore||this.cfg.scrolling)&&SFF.io.getListMore?SFF.io.getListMore(t):(this.fn=this.cfg.before,this.callback=this.cfg.once,this._success=this.cfg.after,this._sb=0,this._count=0,this._page=1,this._pageMax=this.cfg.pageMax,this.template=o(a("#"+this.cfg.temp)[0].text),this.cfg.dom=this.cfg.id,"string"==typeof this.cfg.id&&(this.cfg.dom=a("#"+this.cfg.id)),this._memo=[],this._sort=this.cfg.sort,this._asc=this.cfg.asc,this._Pages=null,this._setTimeout=null,this._data={},this._data.page=this._page,this._data.pageNum=this.cfg.pageNum,void this.begin())};return e.prototype={begin:function(){this._getList(),this._initEvent()},init:function(t){this._update(t),this._getList()},_update:function(t){var e=this;e.cfg=a.extend(this.cfg,t),e._page=1},_getList:function(){var e=this,n=(e.cfg.url.indexOf("?")>0?"&":"?",e._sort),i=e._asc,o={};o[e.cfg.pageCfg]=e._page,o[e.cfg.pageNumcfg]=e.cfg.pageNum,n&&(o.orderby=n),i&&(o.ordertype=i),o=a.extend(o,e.cfg.para),e.cfg.pageId&&e._Pages&&e._Pages.enable(!1),e._loading(),e._data.page=e._page,t.jsonp(e.cfg.url,{data:o,success:function(n){e.jsonData=t.clone(n);var i,a=0;if(e.cfg.pageId){if("function"==typeof e.cfg.pageCount)a=e.cfg.pageCount(n);else{var o=e.cfg.pageCount.split(".");for(a=n.result||n;i=o.shift();)a&&"undefined"!=typeof a[i]&&(a=a[i])}i=null,e._Pages&&e._Pages.enable(!0)}if(e.cfg.getData&&"function"==typeof e.cfg.getData)n=e.cfg.getData(n);else if(e.cfg.data)if("function"==typeof e.cfg.data)n=e.cfg.data(n);else{var s=e.cfg.data.split(".");for(n=n.result||n;i=s.shift();)n&&"undefined"!=typeof n[i]&&(n=n[i])}else n=n.result&&n.result.data&&"undefined"!=typeof n.result.data.data?n.result.data.data:n.result&&n.result.data||n.data||n;n=n||[],"function"==typeof e.fn&&e.fn(n),e._data.data=n,e._count=a||0,e._data.count=a||0,e._data.sort=e._sort,e._data.asc=e._asc,e._rendor(),e.cfg.pageId&&e._count&&e._getPage(),e.cfg.callback&&e._callback()},error:function(){e.cfg.dom[0].innerHTML='<div class="wrongdata" data-action="_getList"><s></s><p><span>\u83b7\u53d6\u6570\u636e\u5931\u8d25</span><a href="javascript:void(0)">\u91cd\u65b0\u83b7\u53d6</a><p></div>'}})},_callback:function(){var t=this;"function"==typeof t.cfg.callback&&t.cfg.callback.call(t)},_loading:function(){this.cfg.loading&&this.cfg.dom.html('<div class="ajax-loading"></div>')},_rendor:function(){var e=this;"object"==t.checkObj(e._data.data)||e._data.data.length>0?(e.cfg.dom.html(e.template(e._data)),e._success.call(e,e._data.data),e._onceok||(e._onceok=!0,e.callback.call(e,e._data.data))):e.cfg.dom.html('<div class="nodata"><s></s><p>'+e.cfg.noDataText+"</p></div>")},scrollBottom:function(){this.cfg.dom.animate({scrollTop:1e11},0)},_getPage:function(){var t=this,e=Math.ceil(t._count/t.cfg.pageNum);1==e?a("#"+t.cfg.pageId).hide(0):a("#"+t.cfg.pageId).show(0),t._Pages&&t._Pages.destructor(),SFF.jsLoader(SFF.urls.page,function(){t._Pages=new Pages({wrap:t.cfg.pageId,total:e,maxShow:t._pageMax,onIndex:t._page,showExtraArrows:!1,onPGReady:function(t){},onEachPage:function(e){t._page=e.onIndex,t._data.page=e.onIndex,i(t.cfg.dom,t.cfg.offset),setTimeout(function(){t._getList()},0)}})})},_initEvent:function(){var t=this,e=a("body");t.cfg.dom.on("click",".wrongdata",function(){var e=a(this).data("action");e&&t[e]()}),t.cfg.filterid&&(e.off("click","#"+t.cfg.filterid+" li"),e.on("click","#"+t.cfg.filterid+" li",function(){var e=a(this).attr("data-filter"),n=a(this).hasClass("cur"),i=t.cfg.para,o=n?0:1;e&&(n?a(this).removeClass("cur"):a(this).addClass("cur"),i[e]=o,!o&&delete i[e],t.init({para:i}))})),"undefined"!=typeof this.cfg.tableid&&(e.off("click","#"+t.cfg.tableid+" a"),e.on("click","#"+t.cfg.tableid+" a",function(){var e=a(this).data("sort");e&&(t._sort=e,a(this).attr("class")?t._asc="asc"==t._asc?"desc":"asc":t._asc="desc",t._getList())}))}},e}();n=n||function(){},"function"==typeof n?n.call(new s(e)):new s(e)})}}),"io.getListMore".sffReg(function(){SFF.common.util;return function(t){SFF.jsLoader(SFF.urls.jq).jsLoader(SFF.urls.doT,function(){var e=jQuery,n=SFF.common.util,i=doT.template,a=function(){var t=function(t){this.cfg=e.extend({url:"",pageCfg:"page",showMore:!0,showMoreNum:0,showAllText:"\u5df2\u7ecf\u5168\u90e8\u663e\u793a",showMoreText:"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a",showMoreOverText:'<a href="###" target="_blank">\u67e5\u770b\u66f4\u591a</a>',scrolling:!0,scrollDom:!1,loading:!0,id:"",temp:"",noDataText:"\u6682\u65e0\u6570\u636e",pageNumcfg:"pagesize",pageNum:10,para:{},pageCount:"data.sum",after:function(){},before:function(t){}},t),this.fn=this.cfg.before,this._success=this.cfg.after,this.active=1,this._isLoading=!1,this._count=0,this._page=1;var n;n="object"==typeof this.cfg.temp?this.cfg.temp:e("#"+this.cfg.temp),this.template=i(n[0].text||n.html()),this.cfg.dom=this.cfg.id,"string"==typeof this.cfg.id&&(this.cfg.dom=e("#"+this.cfg.id)),this.wrap=this.cfg.dom,this.scrollWrap=this.cfg.scrollDom?"string"==typeof this.cfg.scrollDom?e("#"+this.cfg.scrollDom):this.cfg.scrollDom:e(window),this.dom=e('<div class="listwrap"></div>').appendTo(this.wrap),this.loadingWrap=this.addLoading(e('<div class="listloading"></div>').appendTo(this.wrap)),this._showMoreBtn=!1,this.cfg.showMore&&!this.cfg.scrolling&&(this._showMoreBtn=e('<div class="listmore" data-action="_getNext"><a href="javascript:void(0)">'+this.cfg.showMoreText+"</a></div>").appendTo(this.wrap).hide()),this._setTimeout=null,this._data={},this._data.page=this._page,this._data.pageNum=this.cfg.pageNum,this.begin()};return t.prototype={begin:function(){this._getList(),this._initEvent()},stop:function(){this.active=0},play:function(){this.active=1},addLoading:function(t){return"string"==typeof t&&(t=e("#"+t)),t.html('<div class="sff-loading"><div></div><div></div><div></div><div></div></div>'),t},_getList:function(){var t=this;t._loading();var e=t.cfg.url.indexOf("?")>0?"&":"?",i=[];i.push(t.cfg.pageCfg+"="+t._page),i.push(t.cfg.pageNumcfg+"="+t.cfg.pageNum);for(var a in t.cfg.para)i.push(a+"="+t.cfg.para[a]);i=i.join("&");var o=t.cfg.url+e+i;t._data.page=t._page,n.jsonp(o,{success:function(e){t._isLoading=!1,t.loadingWrap.hide(0);var i,a=0;if(t.cfg.showMore)if("function"==typeof t.cfg.pageCount)a=t.cfg.pageCount(e);else{var o=t.cfg.pageCount.split(".");for(a=n.clone(e);i=o.shift();)a&&"undefined"!=typeof a[i]&&(a=a[i]);i=null}if(t.cfg.data)if("function"==typeof t.cfg.data)e=t.cfg.data(e);else for(var s=t.cfg.data.split(".");i=s.shift();)e&&"undefined"!=typeof e[i]&&(e=e[i]);else e=e.data&&"undefined"!=typeof e.data.data?e.data.data:e.result&&e.result.data?e.result.data.data||e.result.data:e.data||e;e=e||[],"function"==typeof t.fn&&t.fn(e),t._data.data=e,t._count=t._data.count=a||0,!t._totalPage&&(t._totalPage=Math.ceil(t._count/t.cfg.pageNum)),isNaN(t._totalPage)&&console.log("TotalPage\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5pageCount\u53c2\u6570"),t._totalPage==t._page&&t._showMoreBtn&&t._showMoreBtn.removeAttr("data-action").attr("class","showall").data("action",0).text(t.cfg.showAllText),t._rendor()},error:function(){t._isLoading=!1,t.loadingWrap.hide(0),t._newCont.empty(),t._showMoreBtn&&t._showMoreBtn.html('<div class="wrongdata" data-action="_getList"><span>\u83b7\u53d6\u6570\u636e\u5931\u8d25</span><a href="javascript:void(0)">\u91cd\u65b0\u83b7\u53d6</a></div>').show()}})},_callback:function(){var t=this;"function"==typeof t.cfg.callback&&t.cfg.callback.call(t)},_loading:function(){var t=this;this._isLoading=!0,t.dom.find(".listpage"+t._page).size()>0?t._newCont=t.dom.find(".listpage"+t._page):t._newCont=e('<div class="listpage'+t._page+'"></div>').appendTo(t.dom),t.loadingWrap.show(0),t._showMoreBtn&&t._showMoreBtn.hide(0)},_rendor:function(){var t=this;"object"==n.checkObj(t._data.data)||t._data.data.length>0?(t._newCont[0].innerHTML=t.template(t._data),t._showMoreBtn&&t._showMoreBtn.show(0),t._success.call(t,t._data.data),t._moreOver()):(t._page>1?t._newCont[0].innerHTML='<div class="showall">'+t.cfg.showAllText+"</div>":t._newCont[0].innerHTML='<div class="nodata">'+t.cfg.noDataText+"</div>",t.dom.find(".wrongdata").remove())},_getNext:function(){var t=this,n=e("<div />");if(!t._isLoading){if(t._isLoading=!0,t._page>=t._totalPage&&t.cfg.scrolling)return t._isLoading=!0,t.active=0,n.addClass("nomore").html(t.cfg.showAllText).appendTo(t.cfg.dom),t.dom.find(".wrongdata").remove(),void t.dom.find(".nodata").remove();t._page=t._page+1,t._getList()}},_moreOver:function(){this.cfg.showMoreNum&&this.cfg.showMoreOverText&&this._page>this.cfg.showMoreNum&&this._showMoreBtn.removeAttr("data-action").data("action",0).html(this.cfg.showMoreOverText)},_initEvent:function(){var t=this;t.wrap.on("click","[data-action]",function(){var n=e(this).data("action");n&&t[n]()}),t.cfg.showMore&&t.cfg.scrolling&&(t._ot=t.dom.offset().top,t.scrollWrap.on("scroll",function(){var n=t.scrollWrap.scrollTop(),i=e(window).height(),a=t.dom.height(),o=t._ot=Math.max(t._ot,t.dom.offset().top),s=30;n>a+o-i-s&&!t._isLoading&&t.active&&t._getNext()}))}},t}();return new a(t)})}}),"widgets.pop".sffReg(function(){var t=SFF.device.mobile?"pop_content_wap":"";return function(e){SFF.jsLoader(SFF.urls.jq,function(){var n=SFF.common.util,i=SFF.io.ajax,a=n.getMaxZindex,o=[],s=jQuery,r=function(e){var i=s("body"),o=+new Date,r="pop"+o,c=a()||1023,l=t+" "+e.animate,d=parseInt(e.width);e.id&&(i=s("#"+e.id).empty(),e.mask=!1,e.style+=" pop_relative",d="100%"),e.style&&(l=l+" "+e.style),c+=1;var u=s('<div class="pop_content '+l+'" id="'+r+'"><div class="pop_content_body"><div class="popClose" ani-cls="rotate" title="\u5173\u95ed"></div><div class="pop_contentWrap"><div class="ajax-loading module-loading"></div></div></div></div>').css("z-index",c),f=s('<div class="pop_mask"></div>').css("z-index",c).appendTo(i),h=u.find(".pop_contentWrap"),p=u.find(".popClose");return u.mask=f,t&&f.hide(),e.mask||f.remove(),e.close||p.hide(),u.content=h,u.close=p,u.appendTo(i),u.css("width",d).css("margin-left",-d/2),n.supportCss3&&!e.id&&u.addClass("pop_css3Content").css("margin-left",0),u},c=function(){var t=function(t){this.cfg=s.extend({width:680,url:"",mask:!0,quickclose:!1,close:!0,style:"",animate:"bouncesIn",animateOut:"bouncesOut",temp:"",success:function(){},before:function(){},after:function(){},destory:function(){}},t),this.show(),this.cfg.id||o.push(this),this.initEvent()};return t.prototype={show:function(){this.pop=r(this.cfg),this.getData()},closeAll:function(){for(var t=0;t<o.length;t++)o[t].close(0)},close:function(t){var e=this.pop,n=e.mask;"undefined"==typeof t&&(t=1),this.cfg.destory.call(this),0==t?(n.remove(),e.remove()):(n.animate({opacity:0},1e3*t,function(){n.remove()}),e.stop().addClass(this.cfg.animateOut),setTimeout(function(){e.stop().remove()},1e3*t))},getData:function(){var t=this,e=this.cfg.url;return e?void i({url:e,dom:t.pop.content,temp:t.cfg.temp,noDataText:t.cfg.noDataText||"\u65e0\u6743\u8bbf\u95ee",after:function(e){t.cfg.after.call(t,e)},before:function(e){t.data=e,t.cfg.before.call(t,e)}}):void(this.cfg.temp&&t.pop.content.html(this.cfg.temp))},initEvent:function(){var t=this;this.pop.find(".popClose").on("click",function(){t.close()}),this.cfg.quickclose&&this.pop.mask.on("click",function(){t.close()}),this.cfg.success&&this.cfg.success.call(this,this.pop)}},t}();return new c(e)})}}),"widgets.alert".sffReg(function(){var t=SFF.device.mobile?"alertPop_wap":"alertPop";return function(e){var n=e,i=500,a="\u63d0\u793a\u4fe1\u606f",o="",s=!1;"string"!=typeof e&&(n=e.content,i=e.width||500,a=e.title||a,o=e.type||o,s=e.quickclose||!1),SFF.widgets.pop({style:t+" alertPop_"+o,width:i,quickclose:s,temp:"<h3>"+a+'</h3><div class="success_cont"><i></i><div class="alert_cont">'+n+'</div></div><div class="popBtn"><span class="msgClose" ani-cls="opacity">\u786e\u5b9a</span></div>',success:function(t){var e=this;t.find(".msgClose").on("click",function(){e.close()})}})}}),"widgets.notice".sffReg(function(){var t=SFF.device.mobile?"noticePop_wap":"noticePop";return function(e,n){n=n||{};var i=n.time||2,a=n.callback||null;SFF.widgets.pop({width:406,style:t,close:0,temp:e,mask:0,success:function(){!function(t){setTimeout(function(){t.close(),a&&a()},1e3*i)}(this)}})}}),"widgets.loading".sffReg(function(){var t=SFF.device.mobile?"loadingPop_wap":"loadingPop";return SFF.common.util.loadStyle(".loadingPop .pop_contentWrap,.loadingPop_wap .pop_contentWrap{padding:0 !important}"),{open:function(e){e=e||"\u52a0\u8f7d\u4e2d...",SFF.widgets.pop({style:t,width:100,close:!1,quickclose:!1,temp:'<div class="poploading-c" style=" padding: 10px; text-align: center; font-size: 14px; "><img src="//touzi.sina.com.cn/view/public/images/loading.gif" style=" margin: 5px auto; display: block; "><p style=" line-height: 30px; ">'+e+"</p></div>"})},close:function(){$(".loadingPop_wap, .loadingPop").remove(),$(".pop_mask").remove()}}}),"io.notify".sffReg(function(){var t=function(){this.msg=window.Notification||window.webkitNotifications||!1,this.supportType=window.Notification?2:1,this.check()};t.prototype={check:function(){this.msg&&(1==this.supportType&&0!==this.msg.checkPermission()&&this.msg.requestPermission(),2==this.supportType&&"granted"!==this.msg.permission&&this.msg.requestPermission())},extend:function(t,e){t=t||{};for(var n in e)t[n]=e[n];return t},show:function(t,e){t&&("granted"!==t&&"string"==typeof t&&(t={body:t},e&&"function"==typeof e&&(t.click=e)),this.cfg=this.extend({title:"\u63d0\u9192",body:"",tag:"",icon:"//n.sinaimg.cn/tech/66ceb6d9/20180711/sina.png",click:function(){},close:function(){},error:function(){},show:function(){}},t),this.msg&&(1==this.supportType?this.showOld():this.showNew()))},showOld:function(){var t=this.cfg.title,e=this.cfg.icon,n=this.cfg.body,i=this;if(n)if(0==this.msg.checkPermission()){var a=this.msg.createNotification(e,t,n);a.display=function(){},a.onerror=function(){},a.onclose=function(){},a.onclick=function(){try{window.focus()}catch(t){}this.cancel()},a.show()}else this.msg.requestPermission().then(function(t){"granted"==t&&i.show()})},showNew:function(){var t=this.cfg.title,e=this.cfg.icon,n=this.cfg.body,i=this;if(n)if("granted"==i.msg.permission){var a=new i.msg(t,{body:n,icon:e});a.onclick=function(t){try{window.focus()}catch(e){}a.close(),i.cfg.click.call(a)},a.onerror=function(){i.cfg.error.call(a)},a.onclose=function(){i.cfg.close.call(a)},a.onshow=function(){i.cfg.show.call(a)}}else i.msg.requestPermission().then(function(t){"granted"==t&&i.show()})}};var e;return{init:function(){e=new t},show:function(n,i){e||(e=new t),e.show(n,i)}}}),"io.websocket".sffReg(function(){var t="//current.sina.com.cn/theone/IO.WebPush4.js",e={interval:12,format:"",local:!1,ondebug:function(){},onMode:function(t){},ishttp:!1,iscompress:!1,ssl:!0,authlocal:!1,onerr:function(t){},isKick:!0};return function(n,i,a){a=SFF.common.util.extend(e,a);var o=null;SFF.jsLoader(t,function(){o=new IO.WebPush4("ff.sinajs.cn",n,function(t){"function"==typeof i&&i.call(o,t)},a)})}}),"widgets.login".sffReg(function(){var t='<div class="ac-rgst">                         <a href="https://login.sina.com.cn/signup/signup?entry=finance" class="msg-link" target="_blank">\u6ce8\u518c</a>                       </div>                       <div class="ac-login">                         <div class="ac-login-cnt">                           <a href="#">                             <span class="thumb"><img src="//i.sso.sina.com.cn/images/login/thumb_default.png"></span>                             <span class="log-links">\u767b\u5f55</span>                           </a>                         </div>                       </div>',e={data:{},show:function(){var t=SINA_USER_PANEL;t.setOutLoginMiddle(),t.getOutLogin().show()},add:function(t,e){this._add(t,e,!1)},addonce:function(t,e){this._add(t,e,!0)},_add:function(t,n,i){var a=e.data;a[t]=a[t]||[];var o="login_sub_id_"+t,s={fn:n,once:i};return n[o]||(a[t].push(s),n[o]=a[t].length),this},remove:function(t,n){var i=e.data[t],a="login_sub_id_"+t,o=n[a];return i&&o&&o>=0&&o<i.length&&(n[a]=null,i.splice(o,1)),this},fire:function(t,n,i){var a,o,s,r;if(i=i||null,o=e.data[t]||[],o.length)for(s=0,r=o.length;s<r;s++)a=o[s].fn,a.apply(i,[n,t]),o[s].once&&(o.splice(s,1),s--,r--);return this},init:function(n,i){return i=i||{},SFF.common.util.loadLink("//i.sso.sina.com.cn/css/userpanel/v1/top_account_v2.css"),SFF.jsLoader(SFF.urls.jq).jsLoader({url:SFF.urls.outLoginLayer,charset:"utf-8",callback:function(){n=$("#"+n).html(t).addClass("TAP14"),SFF.jsLoader({url:SFF.urls.userPanel,charset:"utf-8",callback:function(){var t=function(t){a.getWeiboInfo({timeout:0,onSuccess:function(e){var n;if(e.result){n=e.data;var i={};i.USER_AVATAR_LARGE=n.avatar_large,i.USER_NICK=n.name,i.USER_AVATAR=n.profile_image_url,i.USER_ID=a.getSinaCookie().uid,t&&t(i)}},onFailure:function(){}})},a=window.SINA_OUTLOGIN_LAYER,o=window.SINA_USER_PANEL;o=o.set("container",{node:n[0]}),i.css&&(o=o.set("extra",{css:i.css})),o=o.set("outLoginLayer",{ready:function(){a&&a.set("sso",{entry:i.entry||"account"}).set("container",{node:null}).set("styles",{}).register("login_success",function(n){t(function(t){e.fire("login_success",t)})}).register("logout_success",function(t){e.fire("logout_success")}).init()}}),o=o.register("plugin_ready",function(t){e.fire("ready",t)}),o.init()}})}}),e}};return e});