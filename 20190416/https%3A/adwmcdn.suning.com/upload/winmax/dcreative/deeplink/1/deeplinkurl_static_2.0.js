(function(global){var DEEPLINK_URL="deeplink_url";var ANDROID="suning://m.suning.com/index?";var IOS="suning://m.suning.com/index?";var os="";var setOS_=function(osType){osType=String(osType);switch(osType){case"1":os=IOS;break;case"2":os=ANDROID;break;default:os=""}};var getProductItemDeeplink_=function(itemData){var aNewParam=[];var reg_source=new RegExp("utm_source=","i");var reg_medium=new RegExp("utm_medium=","i");var arr=itemData.landingpage.split("?");if(arr.length>1){var aParam=arr[1].split("&");for(var i=0;i<aParam.length;i++){if(reg_source.test(aParam[i])||reg_medium.test(aParam[i])){aNewParam.push(aParam[i])}}}var utmParam=aNewParam.length>0?aNewParam.join("&")+"&":"";var url=os+utmParam+"adTypeCode=1002&adId="+encodeURIComponent(itemData.landingpage);return url};global[DEEPLINK_URL]={};global[DEEPLINK_URL]["setOS"]=setOS_;global[DEEPLINK_URL]["getProductItemDeeplink"]=getProductItemDeeplink_})(window);