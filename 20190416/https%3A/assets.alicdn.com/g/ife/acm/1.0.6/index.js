!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"c",function(){return l});var o=navigator.userAgent.toLowerCase(),i={Trident:"IE",OPR:"Opera",UBrowser:"UC",MetaSr:"Sogou"},r=/(Firefox|Trident|Edge)/gi,c=new RegExp("(Safari)","ig"),a=/(OPR|Maxthon|QIHU 360SE|QIHU 360EE|QQBrowser|UBrowser|MetaSr|2345Explorer)/gi,s=/(Chrome|Chromium)/gi,u="NA",d=r.exec(o)||c.exec(o);d&&(u=d[0],"Safari"===u&&(d=a.exec(o)||s.exec(o))&&(u=d[0]),u=i[u]||u);var p=u;t.b=p;var f=function(){var e=o.match(/Chrom(e|ium)\/([0-9]+)\./i);return!!e&&parseInt(e[2],10)}(),l=function(){var e=o.match(/firefox\/([\d\.]+)/i);return!!e&&parseInt(e[1],10)}()},function(e,t,n){"use strict";function o(e){var t="[; ]?"+e+"=([^;]*)";return new RegExp(t).test(document.cookie)?decodeURIComponent(RegExp.$1):null}function i(){var e="",t=o("xman_us_f"),n=/x_user=([^&"]+)/;return t&&n.test(t)&&(t.match(n),t=RegExp.$1,t=t.split("|"),t.length>=5&&(e=t[4])),e}function r(){var e=!1,t=o("xman_us_t");return t&&t.indexOf("&sign=y&")>-1&&(e=!0),e}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},function(e,t,n){"use strict";function o(){p()&&f(function(e,t){document.dispatchEvent(new CustomEvent("ACM:updateRegister",{detail:{result:"checkEndpoint"}})),t&&(document.dispatchEvent(new CustomEvent("ACM:updateRegister",{detail:{result:"hadEndpoint"}})),u.a.get(t,function(e,n){var o=Object(d.b)(),i=n===o;o&&!i&&(document.dispatchEvent(new CustomEvent("ACM:updateRegister",{detail:{result:"update"}})),m(t,!0),document.dispatchEvent(new CustomEvent("ACM:updateRegister",{detail:{result:"updated"}})))}))})}function i(){f(function(e,t){var n=Object(d.b)();u.a.set(t,n)})}var r=n(0),c=n(3),a=n(4),s=n(5),u=n(6),d=n(1);window.sufei_jsonp_ignore=[/googleapis\.com/];var p=function(){return-1!==location.search.indexOf("debug")||(r.a>=50||r.c>44)&&"serviceWorker"in navigator&&"PushManager"in window&&"showNotification"in ServiceWorkerRegistration.prototype&&"denied"!==Notification.permission&&location.host.indexOf(".alibaba.com")>-1&&"https:"===location.protocol},f=function(e){u.a.get("ACM:endpoint",e)},l=function(){var e=document.cookie,t=e&&e.match(/(?:^|;)\s*xman_us_t\s*=\s*([^;]+)/);return t&&(t=t[1].match(/(?:^|&)\s*ctoken\s*=\s*([^&]+)/)),window._intl_csrf_token_||t&&t[1]},g=location.hostname,m=function(e,t){var n=l()||"",o="//m.alibaba.com/api/push/register.do?endPoint="+e+"&from="+g+"&ctoken="+n+"&browserType="+r.b,i={method:"GET",headers:{pragma:"no-cache","cache-control":"no-cache"},mode:"no-cors"};fetch(o,i).then(function(){document.dispatchEvent(new CustomEvent(t?"ACM:successUpdateRegister":"ACM:successRegister",{detail:{endpoint:e}}))})},v=function(){p()&&("default"===Notification.permission&&navigator.serviceWorker.getRegistrations().then(function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t];o.scope==="https://"+g+"/firebase-cloud-messaging-push-scope"&&o.unregister()}}),Object(a.a)(s.a,function(){"default"===Notification.permission&&document.dispatchEvent(new CustomEvent("ACM:subscribePopupLoadedAcmCoreFile"));var e=window.firebase.messaging();e.onMessage(function(e){try{var t=e.notification||e.data||{};if(t){var n=t.title,o={body:t.body,icon:t.icon?t.icon:"https://gw.alicdn.com/tps/TB1c7muMpXXXXccXVXXXXXXXXXX-96-96.png",click_action:t.click_action},i=new Notification(n,o);i.onclick=function(e){e.preventDefault(),c.a.log("On notification click: ",e),i.close(),window.open(t.click_action)}}}catch(e){c.a.error("show notification error:",e)}}),"default"===Notification.permission&&e.requestPermission().then(function(){return e.getToken()}).then(function(e){u.a.set("ACM:endpoint",e,function(){document.dispatchEvent(new CustomEvent("ACM:getEndpoint",{detail:{endpoint:e}})),m(e)})}).catch(function(e){c.a.log(e),"denied"===Notification.permission?document.dispatchEvent(new CustomEvent("ACM:denied")):document.dispatchEvent(new CustomEvent("ACM:closed")),c.a.log(Notification.permission),c.a.log("Subscribe error :(",e)})}))};document.addEventListener&&(document.addEventListener("ACM:successRegister",function(){i()}),document.addEventListener("ACM:successUpdateRegister",function(){i()}));var b={isSupportACM:p,registerSubscribe:m,subscribePopup:v,getEndpoint:f,updateRegister:o};t.a=b},function(e,t,n){"use strict";var o=console||{log:function(){},warn:function(){},error:function(){}};t.a=o},function(e,t,n){"use strict";function o(e,t){var n=document.createElement("script");n.crossOrigin="anonymous",n.async=!0,n.src=e,t=t||function(){},n.onload=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(),this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this))},document.getElementsByTagName("head")[0].appendChild(n)}t.a=o},function(e,t,n){"use strict";t.a="//g.alicdn.com/ife/acm/1.0.6/firebase.js"},function(e,t,n){"use strict";var o=n(7),i={get:function(e,t){var n=o.a.get(e,t);return n||(n=window.localStorage.getItem(e))&&o.a.set(e,n),n},set:function(e,t,n){o.a.set(e,t,n)},remove:function(e,t){window.localStorage.removeItem(e),o.a.remove(e,t)}};t.a=i},function(e,t,n){"use strict";function o(e){return document.getElementById(e)}function i(e){var t="localstorage-proxy-ifr-alibabadotcom2",n=o(t);if(n)return g=window.__StoreProxyReady2,void(g?e([n]):v.push(e));-1===p.indexOf("iframe_delete")&&(p+=p.indexOf("?")>-1?"&":"?",p+="iframe_delete=true"),n=document.createElement("iframe"),n.id=t,n.src=p,n.style.display="none",n.style.visibility="hidden";var i;i=setInterval(function(){if(n&&n.contentWindow&&n.Messenger){for(var e=0,t=v.length;e<t;e++)v[e]([n]);v.length=0,window.__StoreProxyReady2=g=!0,clearInterval(i),i=0}},50),n.onload=function(){if(i&&(clearInterval(i),i=0),window.__StoreProxyReady2)return void(g=!0);for(var e=0,t=v.length;e<t;e++)v[e]([n]);v.length=0,window.__StoreProxyReady2=g=!0},v.push(e),document.body.appendChild(n)}function r(e){if(e=e||function(){},m)return void e(m);i(function(t){if(m)return void e(m);m=new d.a("parent","store-proxy"),m.addTarget(t[0].contentWindow,"proxy"),m.listen(function(e){a(e)}),e(m)})}function c(e,t,n,o){var i=[e,t,n];return"set"!==e&&(o=n,i.pop(),i.push(w++)),i=i.join(f),b[i]=o,i}function a(e){var t=e.split(l);e=t[0];var n=t[1]||null,o=t[2]||void 0;b[e]&&b[e](n,o)}function s(e){return"[object Function]"===Object.prototype.toString.call(e)}function u(e){return"[object String]"===Object.prototype.toString.call(e)}var d=n(8),p="//is.alicdn.com/js/6v/biz/common/store-proxy/store-proxy2.html?iframe_delete=true",f="-_-",l="T_T";void 0===window.__StoreProxyReady2&&(window.__StoreProxyReady2=!1);var g=window.__StoreProxyReady2;void 0===window.__StoreProxyExec2&&(window.__StoreProxyExec2=[]);var m,v=window.__StoreProxyExec2,b={},w=0,h={get:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,o,i=e[0];e.length>1&&(s(e[e.length-1])&&(o=e[e.length-1]),e[1]!==o&&(n=e[1])),o=o||function(){},r(function(e){e.targets.proxy.send(c("get",i,function(e,t){!e&&n&&n.filter&&(t=n.filter(t)),o(e,t)}))})},set:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,o,i=e[0],a=e[1];if(e.length>2&&(s(e[e.length-1])&&(o=e[e.length-1]),e[2]!==o&&(n=e[2])),o=o||function(){},n&&n.filter&&(a=n.filter(a)),!u(a))throw new Error('value must be String in "storeProxy2.set"!');r(function(e){e.targets.proxy.send(c("set",i,a,o))})},remove:function(e,t){t=t||function(){},r(function(n){n.targets.proxy.send(c("remove",e,t))})}};t.a=h},function(e,t,n){"use strict";function o(e,t){this.target=e,this.name=t}function i(e,t){this.targets={},this.name=e,this.listenFunc=[],r=t||r,this.initListen()}var r="icbu-messenger",c="postMessage"in window;o.prototype.send=c?function(e){this.target.postMessage(r+e,"*")}:function(e){var t=window.navigator[r+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(r+e,window)},i.prototype.addTarget=function(e,t){var n=new o(e,t);this.targets[t]=n},i.prototype.initListen=function(){var e=this,t=function(t){if("object"==typeof t&&t.data&&(t=t.data),"string"==typeof t&&-1!=t.indexOf(r)){t=t.slice(r.length);for(var n=0;n<e.listenFunc.length;n++)e.listenFunc[n](t)}};c?"addEventListener"in document?window.addEventListener("message",t,!1):"attachEvent"in document&&window.attachEvent("onmessage",t):window.navigator[r+this.name]=t},i.prototype.listen=i.prototype.on=function(e){this.listenFunc.push(e)},i.prototype.clear=function(){this.listenFunc=[]},i.prototype.send=function(e){var t=this.targets;t.keys().forEach(function(n){return t[n].send(e)})},t.a=i},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n(0),i=window.goldlog||{record:function(e,t,n,o){window.goldlog&&window.goldlog.record?window.goldlog.record(e,t,n,o):(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[e,t,n,o]})}},r=window.navigator.userAgent,c="&ua="+r,a=o.b,s="&browser="+a,u=function(e){i.record("/sc.13.1","OTHER",e+c+s,"H1703600")}},function(e,t,n){"use strict";function o(){var e=navigator.cookieEnabled,t="unsupportCookieEnabled";"boolean"==typeof e&&(t=e?"cookieEnabled":"cookieDisabled"),Object(u.a)("type=cookieEnabled&result="+t)}function i(){if(d.a&&d.a.isSupportACM()&&"denied"===window.Notification.permission){d.a.getEndpoint()&&Object(u.a)("type=manualDeny&result=manualDeny")}}function r(){var e=Object(s.a)(),t="userNotLogin";e&&(t="userHadLogin"),Object(u.a)("type=userLogin&result="+t)}function c(){var e=Object(s.b)(),t="userNoneCookie";e&&(t="userHasCookie"),Object(u.a)("type=userCookie&result="+t)}function a(){if(d.a)if(d.a.isSupportACM())Object(u.a)("type=isSupportACM&result=isSupportACM");else{var e="href="+window.encodeURIComponent(window.location.href)+"&";e+="notification="+(window.Notification?window.Notification.permission:"notSupportNotification"),Object(u.a)("type=isSupportACM&result=notSupportACM&"+e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(9),d=n(2),p=n(11);if(function(){o(),i(),r(),c(),Object(u.a)("type=subscribePopup&result=before"),a(),document.addEventListener&&(document.addEventListener("ACM:subscribePopupLoadedAcmCoreFile",function(){Object(u.a)("type=createPopup&result=before")}),document.addEventListener("ACM:successRegister",function(){Object(u.a)("type=register&result=registed")}),document.addEventListener("ACM:successUpdateRegister",function(){Object(u.a)("type=register&result=updated")}),document.addEventListener("ACM:updateRegister",function(e){var t=e.detail,n=t.result;Object(u.a)("type=updateRegister&result="+n)}),document.addEventListener("ACM:denied",function(){Object(u.a)("type=register&result=denied")}),document.addEventListener("ACM:closed",function(){Object(u.a)("type=register&result=closed")})),d.a.updateRegister()}(),Object.assign){var f=Object.assign({needPopup:!0,popupBgImg:"//img.alicdn.com/tfs/TB1BZDIbMoQMeJjy0FnXXb8gFXa-596-268.png"},window.acmConfig);f.needPopup&&Object(p.a)(f)}d.a&&d.a.subscribePopup()},function(e,t,n){"use strict";function o(e){var t=document.createElement("div");t.className="acm-subscribe-popup-container acm-subscribe-popup-container--"+p.b.toLowerCase();var n=(e.tpl||d.a).replace("{popupBgImg}",e.popupBgImg);t.innerHTML=n,document.body.appendChild(t),Object(s.a)("type=createPopup&result=after"),c(),i()}function i(){var e=document.getElementById("acm-pre-subscribe-popup");e&&(e.style.display="block",Object(s.a)("type=showPopup&result=after"))}function r(e){var t=document.getElementById("acm-pre-subscribe-popup"),n=e?"closePopupManual":"closePopup";Object(s.a)("type="+n+"&result=before"),t&&(t.style.display="none",Object(s.a)("type="+n+"&result=after"))}function c(){var e=document.getElementById("acm-pre-subscribe-popup__close");e&&(e.onclick=function(){r(!0)})}function a(e){document.addEventListener&&(document.addEventListener("ACM:subscribePopupLoadedAcmCoreFile",function(){o(e)}),document.addEventListener("ACM:successRegister",function(){r()}),document.addEventListener("ACM:denied",function(){r()}),document.addEventListener("ACM:closed",function(){r()}))}var s=n(9),u=n(12),d=n.n(u),p=n(0);t.a=a},function(e,t){e.exports='<style>.acm-subscribe-popup{position:fixed;left:100px;top:100px;z-index:999;background-image:url({popupBgImg});width:298px;height:134px;background-size:cover;display:none}.acm-subscribe-popup-container--firefox .acm-subscribe-popup{top:125px}</style> <div id="acm-pre-subscribe-popup" class="acm-subscribe-popup"></div> '}]);
//# sourceMappingURL=index.js.map