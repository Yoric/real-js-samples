/* channel-pclive/1.2.0 commonFun.js Date:2017-07-20 16:53:26 */
define("//misc.360buyimg.com/channel/pclive/1.2.0/js/commonFun.js",["jdf/2.0.0/ui/fixable/1.0.0/fixable","jdf/2.0.0/ui/gotop/1.0.0/gotop","jdf/2.0.0/ui/tab/1.0.0/tab","jdf/2.0.0/ui/slider/1.0.0/slider","jdf/2.0.0/ui/ceilinglamp/1.0.0/ceilinglamp"],function(require,a,b){require("jdf/2.0.0/ui/fixable/1.0.0/fixable"),require("jdf/2.0.0/ui/gotop/1.0.0/gotop"),require("jdf/2.0.0/ui/tab/1.0.0/tab"),require("jdf/2.0.0/ui/slider/1.0.0/slider"),require("jdf/2.0.0/ui/ceilinglamp/1.0.0/ceilinglamp");var h={qrcodeFun:function(a,b){var c=a.data("qrcode");if(""!=c){var d="//qrimg.jd.com/"+c+"-"+b+"-0-1-0.png";a.attr({src:d,"data-qrcode":""})}},comProductList:function(){var a=$(".hotlive-20170124"),b=a.find(".noshare-tips");$(".live-products",a).slider({contentEl:"ul li",curCls:"curr",nextEl:".page-next",prevEl:".page-prev",speed:600,visible:3,step:2,evt:"click",hasBlank:!0,onChange:function(a){a.screenContentEls.not(".curr").lazyload({attrSource:"data-lazy-img"})}}),b.each(function(a,b){var c=$(b);c.siblings().hasClass("store-box")&&c.css({"float":"left",width:"408","text-indent":"200px"}).find("i").css({left:"124px"})}),a.find(".live-products").delegate("li","mouseenter",function(){$(this).addClass("hover")}).delegate("li","mouseleave",function(){$(this).removeClass("hover")}),a.delegate(".store-box","mouseenter",function(){$(this).addClass("hover")}).delegate(".store-box","mouseleave",function(){$(this).removeClass("hover")})},callVideo:function(a){pageConfig.userBrowser?a.delegate(".player-box",{mouseenter:function(){$(this).addClass("tips-state").end().find(".anchor-info").removeClass("hover")},mouseleave:function(){$(this).removeClass("tips-state")}}):seajs.use("//misc.360buyimg.com/channel/pclive/1.2.0/js/high-browser-video",function(b){b.init(a)})},getPriceNum:function(a,b,c,d,e){a="string"==typeof a?[a]:a,c=c||$("body"),d=d||"J-p-";var f="";if(null!==b&&(f=readCookie("ipLoc-djd")?"&area="+readCookie("ipLoc-djd").replace(/-/g,"_"):"&area=1"),"undefined"!=typeof a){var g="//p.3.cn/prices/mgets?type=1&skuIds=J_"+a.join(",J_")+f;$.ajax({url:g,dataType:"jsonp",success:function(a){if(!a&&!a.length)return!1;for(var b=0;b<a.length;b++){if(!a[b].id)return!1;var f=a[b].id.replace("J_","");var h=parseFloat(a[b].p);{parseFloat(a[b].m)}h>0?(c.find("."+d+f).html("<strong>&yen;</strong>"+a[b].p),c.find(".J-m-"+f).html("&yen;"+a[b].m),c.find(".J-dis-"+f).html((Math.ceil(a[b].p/a[b].m*100)/10).toFixed(1)+"\u6298")):c.find("."+d+f).html("\u6682\u65e0\u62a5\u4ef7"),"function"==typeof e&&e(f,a[b],g)}}})}}};b.exports=h});