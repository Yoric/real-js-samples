/* user-passport/1.0.0 login.username.js Date:2016-10-27 18:10:22 */
define("user/passport/1.0.0/js/login.username.js",["user/passport/1.0.0/js/login.reg.js","user/passport/1.0.0/js/login.status.js","user/passport/1.0.0/js/login.iframe.js","user/passport/1.0.0/js/login.pubSub.js"],function(require){var c=require("user/passport/1.0.0/js/login.reg.js");var d=require("user/passport/1.0.0/js/login.status.js");var e=require("user/passport/1.0.0/js/login.iframe.js");var f=require("user/passport/1.0.0/js/login.pubSub.js");var g=function(a){var b=["qq.com","163.com","126.com","sina.com","hotmail.com","gmail.com","sohu.com","139.com","189.cn"];var c=["<ul>"];var d=$("input[name=loginname]").parent();if(!/^.+@/.test(a))return j.modal.remove(),d.find(".sugcontent").remove();if(a.length<1)return j.modal.remove(),d.find(".sugcontent").remove();var e=a.match(/.+@([^@]+$)/)||[];if(e.length>1){/@+([^@]+$)/.test(a)&&(e=a.match(/@+([^@]+$)/));var f=new RegExp("^"+e[1].replace(/\\/g,"\\\\"));b=$.grep(b,function(a){return f.test(a)})}for(var g=0,h=b.length;h>g;g++){var i="<li "+(0==g?'class="hover"':"")+">"+a.match(/^.+@/)+b[g]+"</li>";c.push(i)}c.push("</ul>"),d.find(".sugcontent").remove(),h>0?(d.append('<div class="sugcontent">'+c.join("")+"</div>"),j.modal.create()):j.modal.remove()};var h={"username.focus":function(){f.subscribe("username.focus",function(){d.onEvent({ele:j.ele.parent(),addClass:"item-focus",callback:function(){var a=j.ele.val();c.isEmpty(a)||j.ele.siblings(".clear-btn").show(),$("#entry").removeClass("item-focus")}})})},"username.blur":function(){f.subscribe("username.blur",function(){d.onEvent({ele:j.ele.parent(),removeClass:"item-focus",callback:function(){var a=j.ele.val();$("#o-authcode").is(":visible");c.isEmpty(a)||f.publish("login.autologin"),$(".sugcontent li.hover").click()}})})},"username.keyup":function(){f.subscribe("username.keyup",function(a){38==a.keyCode||40==a.keyCode?$(".sugcontent li").size()&&f.publish("suggest.selectByKey",a):d.onEvent({callback:function(){var a=j.ele.val();c.isEmpty(a)?j.ele.siblings(".clear-btn").hide():j.ele.siblings(".clear-btn").show(),g(a)}})})},"login.autologin":function(){f.subscribe("login.autologin",function(){var a=readCookie("alpin");var b=encodeURIComponent($("#loginname").val());var c=$("#o-authcode").is(":visible");var d=!1;b&&!c&&(d=!0,showAuthCode()),null!=a&&""!=a&&(null!=a&&""!=a&&a==b?($("#autoLogin").prop("checked",!0),f.publish("username.autologinInfo"),!d&&!c&&showAuthCode()):($("#autoLogin").prop("checked",!1),$(".msg-warn",".msg-wrap").hide()))})},"suggest.selectByKey":function(){f.subscribe("suggest.selectByKey",function(a){var b=$(".sugcontent ul");var c=b.find("li.hover").index();var d=b.find("li").size()-1;var e;38==a.keyCode&&-1==--c&&(c=d),40==a.keyCode&&++c>d&&(c=0),e=b.find("li:eq("+c+")").addClass("hover"),e.siblings().removeClass("hover"),j.ele.val(e.text())})},"form.init":function(){f.subscribe("form.init",function(){f.publish("username.autologinInfo");var a=j.ele.val();c.isEmpty(a)||j.ele.siblings(".clear-btn").show()})},"username.autologinInfo":function(){f.subscribe("username.autologinInfo",function(){var a=$("#autoLogin").prop("checked");var b='<div class="msg-warn"><b></b>\u516c\u5171\u573a\u6240\u4e0d\u5efa\u8bae\u81ea\u52a8\u767b\u5f55\uff0c\u4ee5\u9632\u8d26\u53f7\u4e22\u5931</div>';a&&($(".msg-wrap .msg-error").hide(),$(".msg-wrap .msg-warn").replaceWith(b))})},"username.clear":function(){f.subscribe("username.clear",function(){d.onClear(function(){g(""),f.publish("iframe.remove")})})},"suggest.click":function(){f.subscribe("suggest.click",function(){$(".form").delegate(".sugcontent li","click",function(){var a=$(this).text();var b=document.getElementById("_ocx_password");var c=document.getElementById("loginname");j.ele.val(a),f.publish("iframe.remove"),f.publish("passwordField.focus"),c&&c.blur(),setTimeout(function(){b&&b.focus()},300),g("")})})},"suggest.hover":function(){f.subscribe("suggest.click",function(){$(".form").delegate(".sugcontent li","mouseover",function(){var a=$(this).addClass("hover");a.siblings().removeClass("hover")})})},"iframe.create":function(){f.subscribe("iframe.create",function(){j.modal=new e({coverEle:".sugcontent",callback:function(a){$(".sugcontent").after(a)}})})},"iframe.remove":function(){f.subscribe("iframe.remove",function(){j.modal&&j.modal.remove()})},"suggest.enterClick":function(){f.subscribe("suggest.enterClick",function(){$(".sugcontent li.hover").click()})}};for(var i in h)h.hasOwnProperty(i)&&h[i]();var j={ele:$("#loginname"),checkBoxEle:$("#autoLogin, #chkOpenCtrl"),init:function(){this.ele.bind("focus",function(){f.publish("username.focus")}),this.ele.bind("blur",function(){clearTimeout(j.timerBlurid),j.timerBlurid=setTimeout(function(){f.publish("username.blur")},1)}),this.ele.bind("keyup",function(a){return 13==a.keyCode?f.publish("suggest.enterClick"):void f.publish("username.keyup",a)}),this.checkBoxEle.bind("keyup",function(a){13==a.keyCode&&($("#loginsubmit").click(),$(this).blur())}),f.publish("login.autologin"),f.publish("form.init"),f.publish("suggest.click"),f.publish("suggest.hover"),f.publish("username.clear"),f.publish("iframe.create")}};return j});
/* user-passport/1.0.0 login.password.js md5:92333e364c93bcaf8f609a2bfd5061fb */
define("user/passport/1.0.0/js/login.password.js",["user/passport/1.0.0/js/login.reg.js","user/passport/1.0.0/js/login.status.js","user/passport/1.0.0/js/login.safe.js","jdf/1.0.0/ui/tips/1.1.0/tips.js","user/passport/1.0.0/js/login.pubSub.js"],function(require){var c=require("user/passport/1.0.0/js/login.reg.js");var d=require("user/passport/1.0.0/js/login.status.js");var e=require("user/passport/1.0.0/js/login.safe.js");require("jdf/1.0.0/ui/tips/1.1.0/tips.js");var g=require("user/passport/1.0.0/js/login.pubSub.js");var h=function(a){a?$(".capslock").show():$(".capslock").hide()};var i="";var j=function(a){var b=a.keyCode||a.which;var c=a.shiftKey||16==b||!1;var d=b>=65&&90>=b&&!c;var e=b>=97&&122>=b&&c;var f=b>=65&&90>=b&&c;var g=b>=97&&122>=b&&!c;return d||e?(i="on",h(!0)):f||g?(i="off",h(!1)):void 0};var k=function(a){var b=a||window.event;20==b.keyCode&&""!=i&&("on"==i?(i="off",h(!1)):(i="on",h(!0)))};var l={"password.focus":function(){g.subscribe("password.focus",function(){d.onEvent({ele:n.ele.parent(),addClass:"item-focus",callback:function(){var a=n.ele.val();var b=n.safeEleCheck.prop("checked");c.isEmpty(a)||b||n.ele.siblings(".clear-btn").show()}})})},"password.blur":function(){g.subscribe("password.blur",function(){d.onEvent({ele:n.ele.parent(),removeClass:"item-focus",callback:function(){var a=n.ele.val();c.isEmpty(a)&&n.safeEle.next("txt").show()}})})},"password.keyup":function(){g.subscribe("password.keyup",function(a){k(a),d.onEvent({callback:function(){var a=n.ele.val();c.isEmpty(a)?n.ele.siblings(".clear-btn").hide():n.ele.siblings(".clear-btn").show()}})})},"password.keypress":function(){g.subscribe("password.keypress",function(a){j(a)})},"password.Tips":function(){$("#jdsafe").tips({width:138,type:"hover",hasArrow:!1,hasClose:!1,autoResize:!1,diff:0,tipsClass:"safetips",mouseleaveDelayTime:100})},"password.clear":function(){g.subscribe("password.clear",function(){h(!1)})},"password.autologinInfo":function(){g.subscribe("password.autologinInfo",function(a){var b=a.prop("checked");e.createAutoLoginInfo(b)})},"password.safeOcx.use":function(){g.subscribe("password.safeOcx.use",function(a){var b=a.prop("checked");var d="undefined"!=typeof pgeditor;var f=d&&pgeditor.checkInstall();if(b?($("#entry").removeClass("item-error item-focus"),$(".capslock").hide()):n.safeEle.hide(),f||b&&e.createInfo(),f&&b&&(n.safeEle.show(),n.safeEle.next("txt").hide(),n.ele.hide().val("")),f&&!b){try{d&&pgeditor.pwdclear()}catch(g){}n.safeEle.hide(),n.safeEle.next("txt").show(),n.ele.show();var h=n.ele.val();c.isEmpty(h)?n.ele.siblings(".clear-btn").hide():n.ele.siblings(".clear-btn").show()}})},"passwordField.focus":function(){g.subscribe("passwordField.focus",function(){n.ele.trigger("focus"),n.ocxEle.trigger("focus")})}};for(var m in l)l.hasOwnProperty(m)&&l[m]();var n={ele:$("#nloginpwd"),safeEle:$("#sloginpwd"),ocxEle:$("#_ocx_password"),safeEleCheck:$("#chkOpenCtrl"),autoLoginEle:$("#autoLogin"),otherUser:$(".more-slide"),init:function(){this.ele.bind("focus",function(){g.publish("password.focus")}),this.ocxEle.live("focus",function(){g.publish("password.focus")}),this.ele.bind("blur",function(){g.publish("password.blur")}),this.ocxEle.live("blur",function(){g.publish("password.blur")}),this.ele.bind("keyup",function(a){g.publish("password.keyup",a)}),this.ele.bind("keypress",function(a){g.publish("password.keypress",a)}),this.safeEleCheck.bind("click",function(){g.publish("password.safeOcx.use",$(this))}),this.autoLoginEle.bind("click",function(){g.publish("password.autologinInfo",$(this))}),this.otherUser.hover(function(){var a=$(this).attr("timer");var b=$(this);clearTimeout(a),$(this).attr("timer",setTimeout(function(){b.addClass("more-hover")},500))},function(){var a=$(this).attr("timer");clearTimeout(a),$(this).removeClass("more-hover")}),g.publish("password.clear"),g.publish("password.Tips")}};return n});
/* user-passport/1.0.0 login.authcode.js md5:c2da40b26074ce7aafab1967e7d2813c */
define("user/passport/1.0.0/js/login.authcode.js",["user/passport/1.0.0/js/login.reg.js","user/passport/1.0.0/js/login.status.js","user/passport/1.0.0/js/login.pubSub.js"],function(require){var c=require("user/passport/1.0.0/js/login.reg.js");var d=require("user/passport/1.0.0/js/login.status.js");var e=require("user/passport/1.0.0/js/login.pubSub.js");var f={"authcode.focus":function(){e.subscribe("authcode.focus",function(){d.onEvent({ele:h.ele.parent(),addClass:"item-focus",callback:function(){var a=h.ele.val();c.isEmpty(a)||h.ele.siblings(".clear-btn").show()}})})},"authcode.blur":function(){e.subscribe("authcode.blur",function(){d.onEvent({ele:h.ele.parent(),removeClass:"item-focus"})})},"authcode.keyup":function(){e.subscribe("authcode.keyup",function(){d.onEvent({callback:function(){var a=h.ele.val();c.isEmpty(a)?h.ele.siblings(".clear-btn").hide():h.ele.siblings(".clear-btn").show()}})})},"authcode.disable":function(){e.subscribe("authcode.disable",function(){h.ele.css("ime-mode","disabled")})}};for(var g in f)f[g]();var h={ele:$("#authcode"),init:function(){this.ele.bind("focus",function(){e.publish("authcode.focus")}),this.ele.bind("blur",function(){e.publish("authcode.blur")}),this.ele.bind("keyup",function(){e.publish("authcode.keyup")}),e.publish("authcode.disable")}};return h});
/* user-passport/1.0.0 login.submit-180827.js Date:2018-09-05 18:50:16 */
define("//misc.360buyimg.com/user/passport/1.0.0/js/login.submit-180827.js",["//misc.360buyimg.com/user/passport/1.0.0/js/login.status.js","//misc.360buyimg.com/user/passport/1.0.0/js/login.message.js","//misc.360buyimg.com/user/passport/1.0.0/js/login.pubSub.js"],function(require,a,b){var c=require("//misc.360buyimg.com/user/passport/1.0.0/js/login.status.js");var d=require("//misc.360buyimg.com/user/passport/1.0.0/js/login.message.js");require("//misc.360buyimg.com/user/passport/1.0.0/js/login.pubSub.js");var f="1"==$("#useSlideAuthCode").val();var g={elelist:{nameEle:$("#loginname"),pwdEle:$("#nloginpwd"),authEle:$("#authcode")},clear:function(){$("#o-authcode, #entry, .item-fore1").removeClass("item-error item-focus")},showError:function(a,b,c){var d='<div class="msg-warn"><b></b>'+a+"</div>";var e='<div class="msg-error"><b></b>'+a+"</div>";$("#chkOpenCtrl").prop("checked");"warn"==b&&($(".msg-wrap .msg-error").hide(),$(".msg-wrap .msg-warn").replaceWith(d)),"error"==b&&($(".msg-wrap .msg-warn").hide(),$(".msg-wrap .msg-error").replaceWith(e)),g.clear();for(var h=0;h<c.length;h++)$(c[h]).parent().addClass("item-error")},validateAll:function(){var b=$.trim(this.elelist.nameEle.val());var e=$.trim(this.elelist.pwdEle.val());var g="undefined"!=typeof pgeditor&&pgeditor.pwdResult();var h="undefined"!=typeof pgeditor&&pgeditor.checkInstall();var i=$(".safe-chk").prop("checked");var j=$("#o-authcode").is(":visible");var k=$.trim($("#authcode").val());if(this.clear(),!b.length&&!e.length&&!i)return c.onError(d.NAME_PASSWORD_EMPTY,[this.elelist.nameEle,this.elelist.pwdEle]),void $("#loginsubmit").attr("data-code","");if(!b.length&&h&&!g.length&&i)return c.onError(d.NAME_PASSWORD_EMPTY,[this.elelist.nameEle,this.elelist.pwdEle]),void $("#loginsubmit").attr("data-code","");if(!b.length)return c.onError(d.NAME_EMPTY,this.elelist.nameEle),void $("#loginsubmit").attr("data-code","");if(!e.length&&!i)return c.onError(d.PASSWORD_EMPTY,this.elelist.pwdEle),void $("#loginsubmit").attr("data-code","");if(f);else if(j&&!k.length)return c.onError(d.AUTHCODE_EMPTY,this.elelist.authEle),void $("#loginsubmit").attr("data-code","");assemblyForm(),f?jdSlide.verify():loginSubmit(this.showError)},init:function(){var a=this;$("#loginsubmit").bind("click",function(){a.validateAll.call(a)}),$("#loginname, #nloginpwd, #authcode").bind("keyup",function(a){13!=a.keyCode||$(".sugcontent li").length||$("#loginsubmit").click()}),$(".login-form").delegate("#country_code_selector","hover",function(){$("#focus").show()},function(){$("#focus").hide()})}};return g});/* user-passport/1.0.0 login.qrcode.2016.js Date:2017-03-23 14:08:06 */
define("user/passport/1.0.0/js/login.qrcode.2016.js",[],function(require,a){$(".login-box");var d=$(".qrcode-login");var e=$(".qrcode-target");var f=$(".qrcode-error-2016 .refresh-btn");$(".login-box").next(".coagent");var h=$(".qrcode-img img");var i=$(".qrcode-main");var j=$(".qrcode-tips");var k=!1;var l=!1;var m='<div class="qrcode-error02 hide" id="J-qrcoderror">							<a href="#none">								<span class="error-icon"></span>								<div class="txt">\u7f51\u7edc\u5f00\u5c0f\u5dee\u54af<span class="ml10">\u5237\u65b0\u4e8c\u7ef4\u7801</span></div>							</a>						</div>';var n=function(a,b){var c="//qr.m.jd.com/show?appid="+(a||133)+"&size="+(b||147)+"&t="+(new Date).getTime();var d=$("#J-qrcoderror");h[0].src=c,h[0].onload=function(){d.hide(),j.show(),h.show(),k=!0},h[0].onerror=function(){j.hide(),h.hide(),d.show(),k=!1}};var p=function(a){var b=getCookie("wlfstk_smdl");var c={appid:a||133};b&&(c.token=b),$.ajax({url:"//qr.m.jd.com/check",dataType:"jsonp",data:c,scriptCharset:"utf-8",success:function(a){if(a){var b=a.code;var c=a.ticket;switch(l=!1,b){case 200:s(),q(!1,!1,!0),c&&r(c),l=!0;break;case 201:q(!0,!1),$(".qrcode-main").show();break;case 202:s(),q(!1,!1,!0),$(".err-cont").text("\u767b\u5f55\u5931\u8d25"),l=!0;break;case 203:i.show(),q(!1,!0),k=!1,$(".err-cont").text("\u4e8c\u7ef4\u7801\u5df2\u5931\u6548");break;case 204:i.show(),q(!1,!0),k=!1,$(".err-cont").text("\u4e8c\u7ef4\u7801\u5df2\u5931\u6548");break;case 205:i.show(),q(!1,!0),k=!1,$(".err-cont").text("\u767b\u5f55\u5931\u8d25")}}}})};var q=function(a,b,c){$(".qrcode-desc").toggle(a),$(".qrcode-error-2016").toggle(b),$(".qrcode-succ").toggle(c||!1),$(".qrcode-panel").toggle(!c)};var r=function(a){$.getJSON("/uc/qrCodeTicketValidation",{t:a},function(a){if(a){var b=a.returnCode;var c=a.url;switch(b){case 0:window.location.assign(c);break;case 58:case 59:q(!1,!0),$(".err-cont").text("\u4e8c\u7ef4\u7801\u5df2\u5931\u6548");break;case 60:case 70:q(!1,!0),$(".err-cont").text("\u767b\u5f55\u5931\u8d25")}}})};var s=function(){var a='<div class="qrcode-succ">						<div class="tip-box icon-box">							<span class="succ-icon"></span>							<div class="item-fore al">								<h3>\u626b\u63cf\u6210\u529f!</h3>								<div class="ftx-03">\u8bf7\u52ff\u5237\u65b0\u672c\u9875\u9762\uff0c\u6309\u624b\u673a\u63d0\u793a\u64cd\u4f5c\uff01</div>							</div>						</div>					</div>';$(".qrcode-succ").size()?$(".qrcode-succ").show():i.after(a),i.hide()};var t=function(){$(".qrcode-img").stop(!0).animate({left:"0px"},300,function(){$(".qrcode-help").stop(!0).show()}),$(".qrcode-error-2016").stop(!0).animate({left:"-64px"},300,function(){$(".qrcode-help").stop(!0).show()}),setTimeout(function(){$(".qrcode-help").stop(!0).hide(),$(".qrcode-img").stop(!0).animate({left:"64px"},300),$(".qrcode-error-2016").stop(!0).animate({left:"0px"},300)},4e3)};a.init=function(){$(".qrcode-error-2016").is(":hidden")&&$(".login-tab-l a").hasClass("checked")&&t(),$(".login-tab").click(function(){$(this).hasClass("login-tab-l")?(-1!=window.location.href.indexOf("/popupLogin2013")&&$(".no-reg-buy").hide(),$(".login-box").hide(),$(".qrcode-login").show().css("visibility","visible"),$("#country_code_layer").hide(),t(),l?(s(),q(!1,!1,!0)):(n(),q(!0,!1))):(-1!=window.location.href.indexOf("/popupLogin2013")&&$(".no-reg-buy").show(),$(".login-box").show().css("visibility","visible"),$("#entry").css("visibility","visible"),$.browser.msie&&/msie 8\.0/i.test(window.navigator.userAgent.toLowerCase())&&($(".item").each(function(){if(0!=$(this).css("margin-bottom")){if($(this).next().is(".marginBottom"))return;$(this).after('<div class="marginBottom" style="height:'+$(this).css("margin-bottom")+'"></div>'),$(this).css("margin-bottom","0px")}}),$(".msg-wrap").after('<div class="marginBottom" style="height:'+$(".msg-wrap").css("margin-bottom")+'"></div>'),$(".msg-wrap").css("margin-bottom","0px")),$(".qrcode-login").hide()),$(".login-tab a").removeClass("checked"),$(this).find("a").addClass("checked")}),"f"==$("#loginType").val()?$(".login-tab-r").trigger("click"):$(".login-tab-l").trigger("click"),f.click(function(){clearTimeout(this.timer),this.timer=setTimeout(function(){n(),i.show(),q(!0,!1)},500)}),$("#J-back").live("click",function(){e.click()}),$(".qrcode-main").hover(function(){$(".qrcode-error-2016").is(":visible")&&64==$(".qrcode-img").position().left||($(".qrcode-img").stop(!0).animate({left:"0px"},300,function(){$(".qrcode-help").stop(!0).show()}),$(".qrcode-error-2016").stop(!0).animate({left:"-64px"},300))},function(){$(".qrcode-error-2016").is(":visible")&&64==$(".qrcode-img").position().left||($(".qrcode-help").stop(!0).hide(),$(".qrcode-img").stop(!0).animate({left:"64px"},300),$(".qrcode-error-2016").stop(!0).animate({left:"0px"},300))});setInterval(function(){k&&d.is(":visible")&&p()},3e3);$("#J-qrcoderror").live("click",function(){f.click()}),!$("#J-qrcoderror").size()&&h.after(m)}});
/* jdf-1.0.0/ placeholder.js Date:2019-04-10 15:05:11 */
!function(a){a.ui.define("placeholder",{options:{color:"#ccc",isValue:!1,leftDiff:0,topDiff:0},init:function(){this.options.isValue?this.asValue():this.asPlaceholder();var b=this;a(document).click(function(c){var d=c.target;b.isTxt(d)&&a(d).next("input[placeholder], textarea").focus()})},asValue:function(){var b=this;b.appendTxt(),b.isShow(),a(this.el).focus(function(){a(this).prev("txt").hide(),a(this).val()==a(this).attr("data-placeholder")&&a(this).val("")}).blur(function(){b.isShow()}),a(this.el).click(function(){a(this).focus()})},asPlaceholder:function(){var b=this;b.appendTxt(),b.isShow(),a(b.el).bind("keyup keydown change click",function(){""==a(this).val()?b.showTxt():b.hideTxt()})},appendTxt:function(){var b=this;var c=b.el;var d=document.createElement("txt");var e=b.options.color;c.prev().is("txt")?d=c.prev():c.before(d),a(d).text(c.attr("placeholder")),c.attr("placeholder"," "),c.is("input")&&a(d).css({position:"absolute","z-index":"2","line-height":c.outerHeight()+"px","margin-left":parseInt(c.css("padding-left"))+parseInt(c.css("border-left-width"))+parseInt(b.options.leftDiff),"margin-top":b.options.topDiff,"font-size":c.css("font-size"),"font-family":c.css("font-family"),color:e}),c.is("textarea")&&a(d).css({position:"absolute","z-index":"2","line-height":1,"margin-left":parseInt(c.css("padding-left"))+parseInt(c.css("border-left-width"))+parseInt(b.options.leftDiff),"margin-top":parseInt(c.css("padding-top"))+parseInt(c.css("border-top-width"))+parseInt(b.options.topDiff),"font-size":c.css("font-size"),"font-family":c.css("font-family"),color:e}),""!=c.val()&&b.hideTxt(this)},isShow:function(){""==this.el.val()?this.showTxt():this.hideTxt()},isTxt:function(b){return a(b).is("txt")},showTxt:function(){this.el.prev("txt").css("display","inline")},hideTxt:function(){this.el.prev("txt").hide()}})}(jQuery);
