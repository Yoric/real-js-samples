/* jdf-1.0.0/ globalInit.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/globalInit/5.0.0/globalInit.js",["//misc.360buyimg.com/jdf/1.0.0/ui/switchable/1.0.0/switchable.js","//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","//misc.360buyimg.com/jdf/1.0.0/ui/dialog/1.0.0/dialog.js","//misc.360buyimg.com/jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js","//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath.js","//misc.360buyimg.com/jdf/1.0.0/unit/getjsonp/1.0.0/getjsonp.js","//misc.360buyimg.com/jdf/1.0.0/unit/login/1.0.0/login.js","//misc.360buyimg.com/jdf/1.0.0/unit/event/1.0.0/event.js","//misc.360buyimg.com/jdf/1.0.0/unit/hotkey/1.0.0/hotkey.js","//misc.360buyimg.com/jdf/1.0.0/unit/globalReco/1.0.0/globalReco.js","//misc.360buyimg.com/jdf/1.0.0/unit/cookie/1.0.0/cookie.js","//misc.360buyimg.com/jdf/1.0.0/unit/search/1.0.0/search.js","//misc.360buyimg.com/jdf/1.0.0/unit/setUserInfo/5.0.0/setUserInfo.js","//misc.360buyimg.com/jdf/1.0.0/ui/areamini/1.0.0/areamini.js","//misc.360buyimg.com/jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js","//misc.360buyimg.com/jdf/1.0.0/unit/myjd/2.0.0/myjd.js","//misc.360buyimg.com/jdf/1.0.0/unit/shortcut/5.0.0/shortcut.js","//misc.360buyimg.com/jdf/1.0.0/unit/shoppingcart/5.0.0/shoppingcart.js","//misc.360buyimg.com/jdf/1.0.0/unit/category/5.0.0/category.js","//misc.360buyimg.com/jdf/1.0.0/unit/log/1.0.0/log.js"],function(require){require("//misc.360buyimg.com/jdf/1.0.0/ui/switchable/1.0.0/switchable.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/dialog/1.0.0/dialog.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/getjsonp/1.0.0/getjsonp.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/login/1.0.0/login.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/event/1.0.0/event.js");var k=require("//misc.360buyimg.com/jdf/1.0.0/unit/hotkey/1.0.0/hotkey.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/globalReco/1.0.0/globalReco.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/cookie/1.0.0/cookie.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/search/1.0.0/search.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/setUserInfo/5.0.0/setUserInfo.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/areamini/1.0.0/areamini.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/myjd/2.0.0/myjd.js");var s=require("//misc.360buyimg.com/jdf/1.0.0/unit/shortcut/5.0.0/shortcut.js");var t=require("//misc.360buyimg.com/jdf/1.0.0/unit/shoppingcart/5.0.0/shoppingcart.js");var u=require("//misc.360buyimg.com/jdf/1.0.0/unit/category/5.0.0/category.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/log/1.0.0/log.js");function w(a){a=$.extend({hotkey:!0,shortcut:!0,shoppingcart:!0,category:!0},a),a.hotkey&&k(),a.shortcut&&s(),a.shoppingcart&&t(),a.category&&u()}return w});
/* jdf-1.0.0/ category.js Date:2019-04-10 15:05:11 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/category/2.0.0/category.js",["//misc.360buyimg.com/jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js","//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js"],function(require){require("//misc.360buyimg.com/jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js"),require("//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");var c=/^\/\/(car\.jd\.com|group\.jd\.com|huishou\.jd\.com|dujia\.jd\.com)/;var d={config:{el:$("#categorys-2014 .dd"),mainId:$("#categorys-2014"),dataUrl:"//dc.3.cn/category/get"},init:function(a){var b=this;var c=$.extend({type:null,mainId:null,el:null},a);if(c.mainId&&(b.config.mainId=$(c.mainId)),c.el&&(b.config.el=$(c.el)),b.config.mainId.attr("data-type")&&(c.type=b.config.mainId.attr("data-type")),b.isHome()||"home"==c.type)b.config.mainId.bind("mouseenter",function(){$(this).attr("data-load")||(b.getDataInit(),$(this).attr("data-load",1)),b.config.el.show()}).one("mouseleave",function(){b.config.mainId.find(".dd-inner .item").removeClass("hover")}),b.config.mainId.find(".dd-inner .item").one("mouseenter",function(){if(!b.config.mainId.attr("data-load")){var a=$(this).attr("data-index");b.getDataInit(a),b.config.el.show(),b.config.mainId.attr("data-load",1)}});else if("mini"==c.type)b.config.mainId.bind("mouseenter",function(){$(this).attr("data-load")||b.getDataInit(void 0,"mini"),$(this).attr("data-load",1),b.config.mainId.addClass("hover"),b.config.el.addClass("hover").show()}).bind("mouseleave",function(){b.config.mainId.removeClass("hover"),b.config.el.hide()});else if("default"==c.type){b.config.mainId.find(".dd").size()||(b.config.mainId.append('<div class="dd" style="display:none;"></div>'),b.config.el=function(){return $("#categorys-2014 .dd")}()),b.config.mainId.find(".dt a").append('<i class="ci-right"><s>\u25c7</s></i>'),b.config.mainId.css({height:"auto",left:0,position:"absolute"});var d=$("#navitems-2014");d.css({"padding-left":210}),$.browser.msie&&$.browser.version<=7&&!pageConfig.wideVersion&&d.css({marginRight:"-210px"}),$(".dd",d).css({"margin-top":0,"padding-top":2}),b.config.mainId.bind("mouseenter",function(){if($(this).attr("data-load")||(b.getDataInit(),$(this).attr("data-load",1)),b.config.el.show(),b.config.mainId.addClass("hover"),$.browser.msie){var a=2;$.browser.version<9&&(a=0,$.browser.version<7&&(a=5)),$(".ci-right s",b.config.mainId).css("top",a+"px")}}).bind("mouseleave",function(){b.config.el.hide(),b.config.mainId.removeClass("hover"),$.browser.msie&&$(".ci-right s",b.config.mainId).css("top","-9px")})}},getDataInit:function(a,b,c){var d=this;$.ajax({url:d.config.dataUrl,dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"getCategoryCallback",success:function(e){"mini"==b?(d.render2(e),d.bigiframe(d.config.el.find(".dd-inner"))):(d.render(e),d.bigiframe(d.config.el.find(".dorpdown-layer")),d.bind(a)),c&&c()}})},imgIndex:0,getLinkHtml:function(a,b,d,e,f,g,h){var i=a.split("|");var j=[];i[0]=i[0].replace(/ /g,"");var k=/^\d.*\d$/.test(i[0])?i[0]:i[0].replace(/^(http\:\/\/|\/\/)/,"");"undefined"!=typeof e&&/^\d.*\d$/.test(i[0])&&(2==e?k="channel.jd.com/"+i[0]+".html":3==e&&(2==i[0].split("-").length?k="channel.jd.com/"+i[0]+".html":3==i[0].split("-").length&&(k="list.jd.com/list.html?cat="+i[0].replace(/\-/g,",")))),k="//"+k,"https:"==location.protocol&&c.test(k)&&(k="http:"+k),i[2]&&j.push("img-link"),j.length>0&&(j='class="'+j.join(" ")+'"');var l="";return l=i[0]?'<a href="'+k+'" '+j+' target="_blank">':"<span>",i[2]?(this.imgIndex>4&&(this.imgIndex=0),b=b?' width="'+b+'"':"",d=d?' height="'+d+'"':"",l+='<img src="//misc.360buyimg.com/lib/img/e/blank.gif" data-lazy-img="//img1'+this.imgIndex+".360buyimg.com/"+i[2]+'"  '+b+d+" />",this.imgIndex+=1):l+=(f||"")+i[1]+(g||""),l+=i[0]?"</a>":"</span>",3==e&&0==h&&1==i[3]&&i[0]&&(l='<div class="style-red-border"><div class="left-b"></div><a href="'+k+'" target="_blank">'+(f||"")+i[1]+(g||"")+'</a><div class="right-b"></div></div>'),l},render:function(a){var b=this;var c=a.data;var d="",e="";$.each(c,function(a,f){var g="";var h="";$.each(c[a].s,function(d){var e=c[a].s[d];var i=!1;h+=b.getLinkHtml(e.n)+(d<c[a].s.length-1?"\u3001":""),"n"==f.id&&0==d&&(i=!0,g+='<div class="subitems-main1">'),$.each(e.s,function(a){var c=e.s[a].s;var d=b.getLinkHtml(e.s[a].n,null,null,2,null,"<i>&gt;</i>");var f="<dt>"+d+"</dt>";var h="";0!=c&&$.each(c,function(a){h+=b.getLinkHtml(c[a].n,null,16,3,null,null,a)}),h="<dd>"+h+"</dd>",g+='<dl class="fore'+(a+1)+'">'+f+h+"</dl>",i&&6==a&&(g+='</div><div class="subitems-main2">')}),i&&(g+="</div>")});var i=function(b){var c=10>a+1?"0"+(a+1):a+1;return' clstag="h|keycount|2015|05'+c+b+'"'};d+='<div class="item fore'+(a+1)+'" data-index="'+(a+1)+'" '+i("a")+">						<h3>"+h+"</h3>						<i>&gt;</i>					</div>				",g='<div class="subitems"'+i("c")+">"+g+"</div>";var j="";$.each(c[a].c,function(d){var e=c[a].c[d];j+=b.getLinkHtml(e,null,24)}),j&&(j='<span class="line"></span><div class="sale">'+j+"</div>");var k="";$.each(c[a].t,function(d){var e=c[a].t[d];k+=b.getLinkHtml(e,null,24,null,null,"<i>&gt;</i>")}),k='<div class="channels">'+k+"</div>"+j,k='<div class="item-channels"'+i("b")+">"+k+"</div>";var l="";var m=0;$.each(c[a].b,function(d){if(8>d){var e=c[a].b[d];l+=b.getLinkHtml(e,83,35),m+=1}}),m>0&&m%2==1&&(l+='<a><img src="//img10.360buyimg.com/da/jfs/t757/162/604852976/158/9ed36f8/54c8699bNc2cfc6a1.png"></a>'),l='<div class="item-brands"'+i("d")+'><div class="brands-inner">'+l+"</div></div>";var n="";$.each(c[a].p,function(d){if(2>d){var e=c[a].p[d];n+=b.getLinkHtml(e,168,134)}}),n='<div class="item-promotions"'+i("e")+">"+n+"</div>",e+='<div class="item-sub" id="category-item-'+(a+1)+'" data-id="'+c[a].id+'">'+l+k+g+n+"</div>"}),e='<div class="dorpdown-layer" style="display: none;">				'+e+"				</div>			",d='<div class="dd-inner">'+d+"</div>",b.config.el.append(b.isHome()?e:d+e)},render2:function(a){var b=this;var c=a.data;var d="";$.each(c,function(a){var f="";$.each(c[a].s,function(d){var e=c[a].s[d];f+=b.getLinkHtml(e.n)+(d<c[a].s.length-1?"\u3001":"")});var g=function(b){var c=10>a+1?"0"+(a+1):a+1;return' clstag="h|keycount|2015|05'+c+b+'"'};d+='<div class="item fore'+(a+1)+'" data-index="'+(a+1)+'" '+g("a")+">						<h3>"+f+"</h3>					</div>				"}),d='<div class="dd-inner">'+d+"</div>",b.config.el.html(d)},bind:function(a){var b=this;var c=function(a){b.config.el.find(".dorpdown-layer").show(),b.config.el.find(".item-sub").removeClass("hover");var c=b.config.el.find(".item-sub").eq(a-1);c.addClass("hover"),c.lazyload(),b.topRest()};b.config.el.dropdown({item:"item",current:"hover",topspeed:!0,bodyClass:"item-sub",onchange:function(a){c(a.attr("data-index")),$.browser.msie&&6==$.browser.version&&b.iframeName&&$("#"+b.iframeName).height(b.iframeContext.outerHeight())},onmouseleave:function(){b.config.mainId.find(".dd-inner .item.hover").removeClass("hover"),b.config.el.find(".dorpdown-layer").hide(),b.config.el.find(".item-sub").removeClass("hover"),$.browser.msie&&6==$.browser.version&&b.iframeName&&$("#"+b.iframeName).height(0)}}),"undefined"!=typeof a&&(c(a),b.config.el.find(".item").removeClass("hover"),b.config.el.find(".item").eq(a-1).addClass("hover"))},topRest:function(){var a=this;var b=a.config.el.offset().top;var c=$(window).scrollTop();b=c>b?c-b+44:"",a.config.el.find(".dorpdown-layer").css({top:b})},isHome:function(){return"undefined"!=typeof pageConfig?pageConfig.navId&&"jdhome2015"==pageConfig.navId:!1},bigiframe:function(a,b,c){var d=this;if(a&&$.browser.msie&&6==$.browser.version){"undefined"==typeof b&&(b=a.outerWidth()),"undefined"==typeof c&&(c=a.outerHeight()),100>c&&(c=$(window).height()),d.iframeName="categoryIe6BgIframe",d.iframeContext=a;var e='<iframe src="javascript:false;" frameBorder="0" style="width:'+b+"px;height:"+c+'px;position:absolute;z-index:-1;opacity:0;filter:alpha(opacity=0);top:0;left:0;" id="'+d.iframeName+'">';a.append(e)}}};function e(a){d.init(a)}return e});
/* jdf-1.0.0/ trimPath.js Date:2019-04-10 15:05:10 */
var TrimPath;!function(){null==TrimPath&&(TrimPath=new Object),null==TrimPath.evalEx&&(TrimPath.evalEx=function(src){return eval(src)});var UNDEFINED;null==Array.prototype.pop&&(Array.prototype.pop=function(){return 0===this.length?UNDEFINED:this[--this.length]}),null==Array.prototype.push&&(Array.prototype.push=function(){for(var a=0;a<arguments.length;++a)this[this.length]=arguments[a];return this.length}),TrimPath.parseTemplate=function(a,b,c){null==c&&(c=TrimPath.parseTemplate_etc);var d=parse(a,b,c);var e=TrimPath.evalEx(d,b,1);return null!=e?new c.Template(b,a,d,e,c):null};try{String.prototype.process=function(a,b){var c=TrimPath.parseTemplate(this,null);return null!=c?c.process(a,b):this}}catch(e){}TrimPath.parseTemplate_etc={},TrimPath.parseTemplate_etc.statementTag="forelse|for|if|elseif|else|var|macro",TrimPath.parseTemplate_etc.statementDef={"if":{delta:1,prefix:"if (",suffix:") {",paramMin:1},"else":{delta:0,prefix:"} else {"},elseif:{delta:0,prefix:"} else if (",suffix:") {",paramDefault:"true"},"/if":{delta:-1,prefix:"}"},"for":{delta:1,paramMin:3,prefixFunc:function(a,b,c,d){if("in"!=a[2])throw new d.ParseError(c,b.line,"bad for loop statement: "+a.join(" "));var e=a[1];var f="__LIST__"+e;return["var ",f," = ",a[3],";","var __LENGTH_STACK__;","if (typeof(__LENGTH_STACK__) == 'undefined' || !__LENGTH_STACK__.length) __LENGTH_STACK__ = new Array();","__LENGTH_STACK__[__LENGTH_STACK__.length] = 0;","if ((",f,") != null) { ","var ",e,"_ct = 0;","for (var ",e,"_index in ",f,") { ",e,"_ct++;","if (typeof(",f,"[",e,"_index]) == 'function') {continue;}","__LENGTH_STACK__[__LENGTH_STACK__.length - 1]++;","var ",e," = ",f,"[",e,"_index];"].join("")}},forelse:{delta:0,prefix:"} } if (__LENGTH_STACK__[__LENGTH_STACK__.length - 1] == 0) { if (",suffix:") {",paramDefault:"true"},"/for":{delta:-1,prefix:"} }; delete __LENGTH_STACK__[__LENGTH_STACK__.length - 1];"},"var":{delta:0,prefix:"var ",suffix:";"},macro:{delta:1,prefixFunc:function(a){var e=a[1].split("(")[0];return["var ",e," = function",a.slice(1).join(" ").substring(e.length),"{ var _OUT_arr = []; var _OUT = { write: function(m) { if (m) _OUT_arr.push(m); } }; "].join("")}},"/macro":{delta:-1,prefix:" return _OUT_arr.join(''); };"}},TrimPath.parseTemplate_etc.modifierDef={eat:function(){return""},escape:function(a){return String(a).replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">")},capitalize:function(a){return String(a).toUpperCase()},"default":function(a,b){return null!=a?a:b}},TrimPath.parseTemplate_etc.modifierDef.h=TrimPath.parseTemplate_etc.modifierDef.escape,TrimPath.parseTemplate_etc.Template=function(a,b,c,d,e){this.process=function(a,b){null==a&&(a={}),null==a._MODIFIERS&&(a._MODIFIERS={}),null==a.defined&&(a.defined=function(b){return void 0!=a[b]});for(var c in e.modifierDef)null==a._MODIFIERS[c]&&(a._MODIFIERS[c]=e.modifierDef[c]);null==b&&(b={});var f=[];var g={write:function(a){f.push(a)}};try{d(g,a,b)}catch(h){if(1==b.throwExceptions)throw h;var i=new String(f.join("")+"[ERROR: "+h.toString()+(h.message?"; "+h.message:"")+"]");return i.exception=h,i}return f.join("")},this.name=a,this.source=b,this.sourceFunc=c,this.toString=function(){return"TrimPath.Template ["+a+"]"}},TrimPath.parseTemplate_etc.ParseError=function(a,b,c){this.name=a,this.line=b,this.message=c},TrimPath.parseTemplate_etc.ParseError.prototype.toString=function(){return"TrimPath template ParseError in "+this.name+": line "+this.line+", "+this.message};var parse=function(a,b,c){a=cleanWhiteSpace(a);var d=["var TrimPath_Template_TEMP = function(_OUT, _CONTEXT, _FLAGS) { with (_CONTEXT) {"];var e={stack:[],line:1};var f=-1;for(;f+1<a.length;){var g=f;for(g=a.indexOf("{",g+1);g>=0;){var h=a.indexOf("}",g+1);var i=a.substring(g,h);var j=i.match(/^\{(cdata|minify|eval)/);if(j){var k=j[1];var l=g+k.length+1;var m=a.indexOf("}",l);if(m>=0){var n;n=0>=m-l?"{/"+k+"}":a.substring(l+1,m);var o=a.indexOf(n,m+1);if(o>=0){emitSectionText(a.substring(f+1,g),d);var p=a.substring(m+1,o);"cdata"==k?emitText(p,d):"minify"==k?emitText(scrubWhiteSpace(p),d):"eval"==k&&null!=p&&p.length>0&&d.push("_OUT.write( (function() { "+p+" })() );"),g=f=o+n.length-1}}}else if("$"!=a.charAt(g-1)&&"\\"!=a.charAt(g-1)){var q="/"==a.charAt(g+1)?2:1;if(0==a.substring(g+q,g+10+q).search(TrimPath.parseTemplate_etc.statementTag))break}g=a.indexOf("{",g+1)}if(0>g)break;var h=a.indexOf("}",g+1);if(0>h)break;emitSectionText(a.substring(f+1,g),d),emitStatement(a.substring(g,h+1),e,d,b,c),f=h}if(emitSectionText(a.substring(f+1),d),0!=e.stack.length)throw new c.ParseError(b,e.line,"unclosed, unmatched statement(s): "+e.stack.join(","));return d.push("}}; TrimPath_Template_TEMP"),d.join("")};var emitStatement=function(a,b,c,d,e){var f=a.slice(1,-1).split(" ");var g=e.statementDef[f[0]];if(null==g)return void emitSectionText(a,c);if(g.delta<0){if(b.stack.length<=0)throw new e.ParseError(d,b.line,"close tag does not match any previous statement: "+a);b.stack.pop()}if(g.delta>0&&b.stack.push(a),null!=g.paramMin&&g.paramMin>=f.length)throw new e.ParseError(d,b.line,"statement needs more parameters: "+a);if(c.push(null!=g.prefixFunc?g.prefixFunc(f,b,d,e):g.prefix),null!=g.suffix){if(f.length<=1)null!=g.paramDefault&&c.push(g.paramDefault);else for(var h=1;h<f.length;h++)h>1&&c.push(" "),c.push(f[h]);c.push(g.suffix)}};var emitSectionText=function(a,b){if(!(a.length<=0)){var c=0;var d=a.length-1;for(;c<a.length&&"\n"==a.charAt(c);)c++;for(;d>=0&&(" "==a.charAt(d)||"	"==a.charAt(d));)d--;if(c>d&&(d=c),c>0){b.push('if (_FLAGS.keepWhitespace == true) _OUT.write("');var e=a.substring(0,c).replace("\n","\\n");"\n"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),b.push(e),b.push('");')}var f=a.substring(c,d+1).split("\n");for(var g=0;g<f.length;g++)emitSectionTextLine(f[g],b),g<f.length-1&&b.push('_OUT.write("\\n");\n');if(d+1<a.length){b.push('if (_FLAGS.keepWhitespace == true) _OUT.write("');var e=a.substring(d+1).replace("\n","\\n");"\n"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),b.push(e),b.push('");')}}};var emitSectionTextLine=function(a,b){var c="}";var d=-1;for(;d+c.length<a.length;){var e="${",f="}";var g=a.indexOf(e,d+c.length);if(0>g)break;"%"==a.charAt(g+2)&&(e="${%",f="%}");var h=a.indexOf(f,g+e.length);if(0>h)break;emitText(a.substring(d+c.length,g),b);var i=a.substring(g+e.length,h).replace(/\|\|/g,"#@@#").split("|");for(var j in i)i[j].replace&&(i[j]=i[j].replace(/#@@#/g,"||"));b.push("_OUT.write("),emitExpression(i,i.length-1,b),b.push(");"),d=h,c=f}emitText(a.substring(d+c.length),b)};var emitText=function(a,b){null==a||a.length<=0||(a=a.replace(/\\/g,"\\\\"),a=a.replace(/\n/g,"\\n"),a=a.replace(/"/g,'\\"'),b.push('_OUT.write("'),b.push(a),b.push('");'))};var emitExpression=function(a,b,c){var d=a[b];if(0>=b)return void c.push(d);var e=d.split(":");c.push('_MODIFIERS["'),c.push(e[0]),c.push('"]('),emitExpression(a,b-1,c),e.length>1&&(c.push(","),c.push(e[1])),c.push(")")};var cleanWhiteSpace=function(a){return a=a.replace(/\t/g,"    "),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a=a.replace(/^(\s*\S*(\s+\S+)*)\s*$/,"$1")};var scrubWhiteSpace=function(a){return a=a.replace(/^\s+/g,""),a=a.replace(/\s+$/g,""),a=a.replace(/\s+/g," "),a=a.replace(/^(\s*\S*(\s+\S+)*)\s*$/,"$1")};TrimPath.parseDOMTemplate=function(a,b,c){null==b&&(b=document);var d=b.getElementById(a);var e=d.value;return null==e&&(e=d.innerHTML),e=e.replace(/</g,"<").replace(/>/g,">"),TrimPath.parseTemplate(e,a,c)},TrimPath.processDOMTemplate=function(a,b,c,d,e){return TrimPath.parseDOMTemplate(a,d,e).process(b,c)}}();
/* jdf-2.0.0/ lazyload.js Date:2018-01-30 15:08:42 */
!function(window,$,undefined){if(!window.JDFUI)return!1;var UiClass=JDFUI.define("lazyload#",{options:{SSCode:2,SSKeys:["type","selector","attrSource"],selector:null,type:"img",attrSource:"data-lazy",lazy:null,fn:null,data:null,isCMD:!1,delay:100,space:100,placeholderCls:"loading",errorCls:"error",blankImgUrl:"//misc.360buyimg.com/lib/img/e/blank.gif",onChange:null,onImgLoad:null,onComplete:null},init:function(){var a=this;var b=a.options;var c=a.el;if(!checkOptions.call(a))return!1;if(LAZY_TYPE[b.type]){if("img"==b.type){if("IMG"==c[0].nodeName&&c.attr(b.attrSource)==DONE_TAG)return!1;if("IMG"!=c[0].nodeName&&!$("img["+b.attrSource+"]["+b.attrSource+"!="+DONE_TAG+"]",c).length)return!1}initOptions.call(a),execute.call(a)}},getLazyResource:function(){var a=this;var b=a.options;var c=[];var d="["+b.attrSource+"]["+b.attrSource+"!="+DONE_TAG+"]";var e=a.el.attr(b.attrSource);return"img"==b.type?"IMG"==a.el[0].nodeName?e!=DONE_TAG&&(c=a.el):c=b.selector?$(b.selector,a.el).filter(d):$("img"+d,a.el):b.selector?c=$(b.selector,a.el).filter(d):e&&e!=DONE_TAG&&(c=a.el),c}});if(!UiClass)return!1;var win=window;var doc=win.document;var DONE_TAG="done";var IS_LOADING_TAG="isLoading";var LAZY_TYPE={img:!0,js:!0,fn:!0};function checkOptions(){var a=this;var b=a.options;return b.selector&&"string"!=typeof b.selector?(console.error("opts.selector \u503c\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32"),!1):!0}function initOptions(){var a=this;var b=a.options;var c=a.el;"js"==b.type?(b.lazy=b.lazy||c.attr(b.attrSource),b.selector?$(b.selector,c).filter("["+b.attrSource+"!="+DONE_TAG+"]").attr(b.attrSource,b.lazy):c.attr(b.attrSource)!=DONE_TAG&&c.attr(b.attrSource,b.lazy)):"fn"==b.type&&c.attr(b.attrSource,0),a.installTag=b.attrSource+"-"+b.type+"-install"}function execute(){var a=this;var b=a.options;var c=null;var d=function(){return loadResource.call(a,function(d){unbindItem.call(a,c),d&&b.onChange(d)}),arguments.callee}();c=$.T.defer(d,b.delay),"1"!=a.el.attr(a.installTag)&&a.itemSize>0&&(a.el.attr(a.installTag,1),$(win).bind(a.event.scroll,c))}function loadResource(a){var b=this;var c=b.options;var d=c.type;var e=$(doc).scrollTop();var f=e+$.page.clientHeight()+c.space;var g;var h=b.getLazyResource();var i=b.itemSize=h.length;return 0==i?void a(null,i):void $.each(h,function(){var h=$(this);var j=getTop(h);if(j>0&&b.itemSize>0&&f>j&&j>e-h.outerHeight())switch(g=h.attr(c.attrSource),d){case"img":loadImg.call(b,h,g),b.itemSize--,a({item:h,total:i,wait:b.itemSize});break;case"js":var k=c.attrSource+IS_LOADING_TAG;if(h.attr(k))return!1;h.attr(k,1),loadJs.call(b,h,g,function(d){b.itemSize--,h.attr(c.attrSource,DONE_TAG),a({item:h,total:i,wait:b.itemSize,exports:d})},function(){h.removeAttr(k)});break;case"fn":loadFn.call(b,h,function(){b.itemSize--,a({item:h})})}})}function loadImg(a,b){var c=this;var d=c.options;if(b!=DONE_TAG){var e=function(c){a.removeClass(d.placeholderCls),$.isFunction(d.onImgLoad)&&(c&&b==d.blankImgUrl&&(c=!1),d.onImgLoad({item:a,isSuccess:c})),a[0].onload=a[0].onerror=null};var f=a[0].onerror;a[0].onerror=function(){$.isFunction(f)?f.call(a[0]):a.attr("src",d.blankImgUrl).addClass(d.errorCls),e(!1)},a[0].onload=function(){e(!0)},b||a.attr("src")||(b=d.blankImgUrl),a.attr("src",b),a.attr(d.attrSource,"done")}}function loadJs(item,path,callback,complete){var self=this;var opts=self.options;var cmd=opts.isCMD;var fn=opts.fn;var data=opts.data;try{data=eval("("+data+")")}catch(e){}cmd&&"function"==typeof define&&define.cmd?seajs.use(path,function(a){a&&$.T.call(item,a[fn],data),callback(a),complete()}):$.ajax({url:path,dataType:"script",cache:!0,success:function(){$.T.call(item,win[fn],data),callback()},complete:function(){complete()}})}function loadFn(a,b){var c=this;var d=c.options;var e=a.attr(d.attrSource);e&&0==e&&(a.attr(d.attrSource,DONE_TAG),b())}function unbindItem(a){var b=this;var c=b.options;b.itemSize<1&&(b.el.removeAttr(b.installTag),$(win).unbind(b.event.scroll,a),c.onComplete())}function getTop(a){var b=a.offset().top;var c=a[0].parentNode;for(;null!=c;){if(c!=document&&"none"==$.css(c,"display")){b=-1;break}c=c.parentNode}return b}"function"==typeof define&&define("//misc.360buyimg.com/jdf/2.0.0/ui/lazyload/1.0.0/lazyload.js",[],function(){return UiClass})}(window,jQuery);
/* jdf-2.0.0/ fixable.js Date:2018-01-30 15:08:42 */
!function(a,b){if(!a.JDFUI)return!1;var d=JDFUI.define("fixable#",{options:{contextEl:null,delay:50,x:"left",y:"top",xValue:0,yValue:0,zIndex:null},_:{resizeTimer:-1},init:function(){var a=this;var b=a.el;var c=a.options;return null!=c.zIndex&&b.css("z-index",c.zIndex),c.contextEl&&0==c.contextEl.length&&(c.contextEl=null),f.call(a),{item:b}},onResize:function(){var a=this;var b=a.options;clearTimeout(a._.resizeTimer),a._.resizeTimer=setTimeout(function(){f.call(a)},b.delay)}});if(!d)return!1;function e(a,c){var d=this;var e=d.el;var f=d.options;var g=f.contextEl;var h=g.offset().left;var i=g.offset().top;var j=g.outerWidth();var k=g.outerHeight();var l=b.page.clientWidth();var m=b.page.clientHeight();var n={xValue:a,yValue:c};"left"==f.x?("center"==f.xValue?n.xValue=j/100*50-e.outerWidth()/2:-1!=(""+a).indexOf("%")&&(n.xValue=j/100*parseInt(a)),n.xValue+=h):"right"==f.x&&("center"==f.xValue?n.xValue=j/100*50-e.outerWidth()/2:-1!=(""+a).indexOf("%")&&(n.xValue=j/100*parseInt(a)),n.xValue+=l-(h+j));var o=i+k>m?m:k;return"top"==f.y?("center"==f.yValue?n.yValue=o/100*50-e.outerHeight()/2:-1!=(""+c).indexOf("%")&&(n.yValue=o/100*parseInt(c)),m>i+k&&(n.yValue+=i)):"bottom"==f.y&&("center"==f.yValue?n.yValue=o/100*50-e.outerHeight()/2:-1!=(""+c).indexOf("%")&&(n.yValue=o/100*parseInt(c)),m>i+k&&(n.yValue+=m-(i+k))),n}function f(){var a=this;var c=a.el;var d=a.options;var f=b.browser.isIE6();var g={};var h=d.contextEl;var i=d.xValue;var j=d.yValue;if("center"==i){var k=c.outerWidth()/2;f?i=b.page.clientWidth()/2-k:(h||(g.marginLeft=-k),i="50%")}if("center"==j){var l=c.outerHeight()/2;f?j=b.page.clientHeight()/2-l:(h||(g.marginTop=-l),j="50%")}if(h){var m=e.call(this,i,j);i=m.xValue,j=m.yValue}f?(g.position="absolute",-1!=(""+i).indexOf("%")&&(i=b.page.clientWidth()/100*parseInt(i)),-1!=(""+j).indexOf("%")&&(j=b.page.clientHeight()/100*parseInt(j)),0>i&&(i=1),0>j&&(j=1),"top"==d.y&&c[0].style.setExpression("top","eval((document.documentElement||document.body).scrollTop+"+j+") + 'px'"),"bottom"==d.y&&c[0].style.setExpression("top","eval((document.documentElement||document.body).scrollTop+ "+-j+" + (document.documentElement||document.body).clientHeight-this.offsetHeight-(parseInt(this.currentStyle.marginTop,10)||0)-(parseInt(this.currentStyle.marginBottom,10)||0))+'px'"),"left"==d.x&&c[0].style.setExpression("left","eval((document.documentElement||document.body).scrollLeft+"+i+") + 'px'"),"right"==d.x&&c[0].style.setExpression("left","(eval((document.documentElement||document.body).scrollLeft + "+-i+" + (document.documentElement||document.body).clientWidth-this.offsetWidth)-(parseInt(this.currentStyle.marginLeft,10)||0)-(parseInt(this.currentStyle.marginRight,10)||0)) + 'px'"),b("html").eq(0).css("text-overflow","ellipsis")):(g.position="fixed",g[d.x]=i,g[d.y]=j),c.css(g)}b(a).bind("resize",b.T.defer(function(){b.T.call(d.all.onResize)},1)),"function"==typeof define&&define("//misc.360buyimg.com/jdf/2.0.0/ui/fixable/1.0.0/fixable.js",[],function(){return d})}(window,jQuery);
/* jdf-2.0.0/ gotop.js Date:2018-01-30 15:08:42 */
!function(a,b){if(!a.JDFUI)return!1;var d=JDFUI.define("gotop#",{options:{SSCode:2,btnEl:null,easing:null,delay:500,scrollToShow:500,scrollToHide:-1,top:0,scrollToFloorEl:null,isSyncShow:!0,fadeTime:0,onShow:null,onHide:null,onStart:null,onEnd:null},_:{showTag:!0},init:function(){var a=this;a.options;return e.call(a),f.call(a),{}}});if(!d)return!1;function e(){var a=this;var c=a.options;var d=c.top;var e=a.el;c.btnEl&&c.btnEl.length&&(c.isSyncShow||(e=c.btnEl)),c.scrollToFloorEl&&c.scrollToFloorEl.length>0&&(d=c.scrollToFloorEl.offset().top-c.top);var f={btnEl:e,top:d};e.bind(a.event.click,function(){c.onStart(f),e.fadeOut(c.fadeTime),c.easing?(a._.showTag=!1,b("html,body").animate({scrollTop:d},c.delay,c.easing,function(){a._.showTag=!0,c.onEnd(f)})):(b(document).scrollTop(d),c.onEnd(f))})}function f(){var c=this;var d=this.options;var e=c.el;d.btnEl&&d.btnEl.length&&(d.isSyncShow||(e=d.btnEl));var f=b(document).scrollTop();var g=d.scrollToShow;var h=d.scrollToHide;d.scrollToShow&&d.scrollToShow instanceof b&&(g=d.scrollToShow.offset().top-b(a).height()),d.scrollToHide&&d.scrollToHide instanceof b&&(h=d.scrollToHide.offset().top-b(a).height()),d.scrollToFloorEl&&d.scrollToFloorEl.length>0&&(g=d.scrollToFloorEl.offset().top-d.top),0==f&&e.hide();var i;i=-1==h?1:h>f?1:0,f>g&&i?e.fadeIn(d.fadeTime,function(){d.onShow({btnEl:e,scrollToShow:g})}):e.fadeOut(d.fadeTime,function(){d.onHide({btnEl:e,scrollToHide:h})})}b(a).scroll(b.T.throttle(function(){d.forEach(function(a,b){b._.showTag&&f.call(b)})},100)),"function"==typeof define&&define("//misc.360buyimg.com/jdf/2.0.0/ui/gotop/1.0.0/gotop.js",[],function(){return d})}(window,jQuery);
/* jdf-2.0.0/ tab.js Date:2018-01-30 15:08:42 */
!function(a,b){if(!a.JDFUI)return!1;var d=JDFUI.define("tab#",{options:{SSCode:2,SSKeys:["navEl","contentEl"],navEl:null,contentEl:null,cur:0,curCls:"current",evt:"mouseenter",delay:-1,isLeaveStop:!0,disabledCls:"disabled",effect:"",effectSpeed:400,effectEasing:"swing",isAutoPlay:!1,interval:3e3,isLoop:!0,onChangeBefore:null,onChange:null},init:function(){var a=this;var b=a.options;if(f.call(a),m.call(a),b.isAutoPlay&&b.interval>0&&(b.isLoop=!0,a.eventHandler({hover:[function(){a.stop()},function(){a.play()}]}),a.play()),b.onReady({navEl:b.navEl,contentEl:b.contentEl,length:a._.itemCount}),b.cur>=0){if(a.isDisabled(b.cur)&&!j.call(a))return;a.show(b.cur)}return!1},show:function(a){var b=this;var c=b.options;var d;var e;var f;if(a=Math.min(a,b._.itemCount-1),!(0>a||b.isDisabled(a))){if(b._.fromIndex=f=c.cur==a?b._.fromIndex:c.cur,c.cur=a,a==f)return!1;d=i.call(b,c.navSelector,a),e=i.call(b,c.contentSelector,a);var g={navEl:d,contentEl:e,formNavEl:i.call(b,c.navSelector,f),formContentEl:i.call(b,c.contentSelector,f),index:a,length:b._.itemCount,fromIndex:f};c.onChangeBefore(g),c.navEl.removeClass(c.curCls),d.addClass(c.curCls),c.contentEl.removeClass(c.curCls),e.addClass(c.curCls),c.onChange(g)}},remove:function(a){var b=this;var c=b.options;var d=c.navEl;var e=c.contentEl;return 0>a||a>=b._.itemCount?!1:(d.eq(a).remove(),e.eq(a).remove(),b.loadAllEls(),h.call(b),b._.itemCount=c.navEl.length,(c.cur==a||c.cur>b._.itemCount)&&b.show(a),!0)},next:function(){var a=this;var b=a.options;a._.fromIndex=b.cur,++b.cur,b.cur>=a._.itemCount&&(b.cur=b.isLoop?0:a._.itemCount-1),(!a.isDisabled(b.cur)||k.call(a))&&a.show(b.cur)},prev:function(){var a=this;var b=a.options;a._.fromIndex=b.cur,--b.cur,b.cur<0&&(b.cur=b.isLoop?a._.itemCount-1:0),(!a.isDisabled(b.cur)||l.call(a))&&a.show(b.cur)},play:function(){var a=this;var b=a.options;b.isAutoPlay&&b.interval>0&&(clearInterval(a._.autoPlayInterval),a._.autoPlayInterval=setInterval(function(){a.next()},b.interval))},stop:function(){var a=this;var b=a.options;b.isAutoPlay&&clearInterval(a._.autoPlayInterval)},isDisabled:function(a){var b=this;var c=b.options;var d=i.call(b,c.navSelector,a);return d&&d.length?d.hasClass(c.disabledCls):!0},destroy:function(){var a=this;a.stop(),clearTimeout(a._.eventTimer)}});if(!d)return!1;var e="data-tab-idx";function f(){var a=this;var b=a.options;clearTimeout(a._.eventTimer),a._.eventTimer=-1,a._.itemCount=b.navEl.length,a._.fromIndex=-1,b.cur>=a._.itemCount&&(b.cur=a._.itemCount-1),h.call(a),g.call(a)}function g(){var a=this;var c=a.options;"flash"==c.effect&&(c.contentEl.parent().css({position:"relative"}),c.contentEl.css({position:"absolute",zIndex:0,opacity:0}).show(),c.contentEl.eq(c.cur).css({zIndex:1,opacity:1}),a.on("changeBefore#"+c.effect,function(a){a.formContentEl.css({zIndex:0}).stop(!0).animate({opacity:1},c.effectSpeed,c.effectEasing,function(){b(this).css("opacity",0)}),a.contentEl.css({zIndex:1}).stop(!0).animate({opacity:1},c.effectSpeed,c.effectEasing)}))}function h(){var a=this;var c=a.options;c.navEl.each(function(a){b(this).attr(e,a)}),c.contentEl.each(function(a){b(this).attr(e,a)})}function i(a,c){var d=this;return b(a+"["+e+"="+c+"]",d.el)}function j(){var a=this;var b=a.options;var c=null;return b.navEl.each(function(b){return a.isDisabled(b)?void 0:(c=b,!1)}),null==c?!1:(b.cur=c,!0)}function k(){var a=this;var b=a.options;var c=null;var d=null;return b.navEl.each(function(e){a.isDisabled(e)||(null==c&&(c=e),e>b.cur&&null==d&&(d=e))}),c==d==null?!1:(b.cur=Math.max(c,d),!0)}function l(){var a=this;var b=a.options;var c=null;var d=null;return b.navEl.each(function(e){a.isDisabled(e)||(e<b.cur?c=e:e>b.cur&&(d=e))}),c==d==null?!1:(b.cur=null==c?d:c,!0)}function m(){var a=this;var c=a.options;a.el.delegate(c.navSelector,c.evt,b.T.defer(function(){var d=b(this).attr(e);return c.cur==d||0>d||d>=c.navEl.length?!1:void a.show(d)},c.delay,function(b){a._.eventTimer=b})),c.isLeaveStop&&a.el.bind(a.event.mouseleave,function(){clearTimeout(a._.eventTimer)})}"function"==typeof define&&define("//misc.360buyimg.com/jdf/2.0.0/ui/tab/1.0.0/tab.js",[],function(){return d})}(window,jQuery);
/* jdf-2.0.0/ slider.js Date:2018-01-30 15:08:42 */
!function(a,b,c){if(!a.JDFUI)return!1;var d=JDFUI.define("slider#",{options:{navEl:null,contentMainEl:null,contentEl:null,curCls:"current",disabledCls:"disabled",hasPageBut:!1,hasOverflow:!1,hasBlank:!1,prevEl:null,nextEl:null,prevCls:"ui-slider-prev",nextCls:"ui-slider-next",butDisabledCls:"disabled",contentWidth:null,contentHeight:null,evt:"mouseenter",delay:0,cur:0,step:1,visible:1,isAutoPlay:!1,isAlignX:!0,isDrive:!0,interval:3500,isHoverStop:!0,isLoop:!1,hasHash:!1,hasLoop:!1,easing:null,speed:400,iframeAttr:"data-iframe",onChange:null,onNext:null,onPrev:null,SSCode:2},init:function(){var a=this;var c=a.options;return g.call(a),c.isLoop&&a._.hasPage&&m.call(a),c.contentEl.each(function(a){b(this).data("slider-idx",a)}),a._.hasPage&&(a.play(),p.call(a)),a.show(),{navEl:c.navEl,contentEl:c.contentEl}},next:function(){var a=this;var b=a.options;b.cur=b.cur+b.step,u.call(a);var c=0;!b.isLoop&&b.hasLoop&&(c=-b.visible+b.step),b.cur>=a._.size+c&&(b.cur=0);var d=b.visible;!b.isLoop&&b.cur+d>a._.size&&(b.hasOverflow?b.cur=a._.size>d?a._.size-d:0:!b.hasBlank&&b.cur+d>a._.size&&(b.cur=0)),0!=a.show()&&b.onNext()},prev:function(){var a=this;var b=a.options;b.isLoop?u.call(a,!0):(b.cur-=b.step,b.cur<0&&(b.cur=b.hasOverflow?0:a._.size-(b.hasBlank?b.step:b.visible))),0!=a.show()&&b.onPrev()},play:function(){var a=this;var b=a.options;a.stop(),a.options.isAutoPlay&&(a._.playInterval=setInterval(function(){a._.size<=b.step?a.stop():b.isDrive?a.next():a.prev()},b.interval))},show:function(a){var c=this;var d=c.options;var e=d.cur=a>-1?a:d.cur;var f=e;var g=d.isLoop?e+c._.cloneCount:e;if(c._.last==e)return c._.isPlayLock=!1,!1;d.navEl&&d.navEl.length&&(d.navEl.removeClass(d.curCls),d.navEl.eq(f).addClass(d.curCls),v.call(c,g),t.call(c,f)),d.contentEl.removeClass(d.curCls),d.contentEl.eq(g).addClass(d.curCls),n.call(c,g);var h=g;var i=!1;var j=d.contentEl.eq(h);var k=b();var l=[];h+1==c._.pageCount&&(i=!0);for(var m=1;m<d.visible;m++)k=k.add(d.contentEl.eq(h+m),!0),l.push(h+m);d.isLoop&&d.contentEl.each(function(){var a=b(this);b.each(l,function(b,c){c==a.data("slider-clone-from")&&(k=k.add(a))}),h==a.data("slider-clone-from")&&(j=j.add(a))}),k=k.add(j),d.onChange({isLast:i,curContentEls:j,screenContentEls:k}),c._.last=e},stop:function(){var a=this;clearInterval(a._.playInterval)},destroy:function(){var a=this;a.stop()}});if(!d)return!1;var e="data-slider-clone";var f="data-slider-idx";function g(){var a=this;var b=a.options;var c=a._.size;b.contentMainEl&&0!=b.contentMainEl.length||(b.contentMainEl=b.contentEl.parent()),l.call(a),a._.size=b.contentEl.length,b.step=Math.max(b.step||1,1),a._.pageCount=Math.ceil(a._.size/b.step),b.visible<b.step&&(b.visible=b.step),b.contentWidth||h.call(a),b.contentHeight||i.call(a),a._.cloneCount=Math.max(b.step,b.visible),b.hasHash&&(b.cur=s.call(a,b.cur)),b.isAutoPlay&&b.interval<b.speed&&(b.speed=b.interval),clearTimeout(a._.eventTimer),clearInterval(a._.playInterval),k.call(a),j.call(a,c),a._.last=-1,a._.isFirstAdjust=!0,a._.hasPage=b.step<a._.size,a._.playInterval=null,a._.eventTimer=null,a._.isPlayLock=!1}function h(){var a=this;var b=a.options;var c=b.contentEl.eq(0);var d=c.outerWidth();var e=c.outerWidth(!0)-d;var f=b.contentMainEl.width();d+e==f&&b.visible>1&&(e>0?d=(f-e*b.visible)/b.visible:d/=b.visible),d>0&&(b.contentEl.width(d),b.contentWidth=d+e)}function i(){var a=this;var b=a.options;var c=b.contentEl.eq(0);var d=c.outerHeight();var e=c.outerHeight(!0)-d;var f=b.contentMainEl.width();d+e==f&&b.visible>1&&(e>0?d=(f-e*b.visible)/b.visible:d/=b.visible),d>0&&(b.contentEl.height(d),b.contentHeight=d+e)}function j(a){var b=this;var d=b.options;var e=d.cur;var f=b._.size;a!=c&&a!=f&&(f>a?e=f-d.visible:e+d.visible>=f&&(e=f-d.visible)),0>e&&(e=0),d.cur>=f&&(e=f-d.step),d.cur=e}function k(){var a=this;var c=a.options;c.navEl&&c.navEl.length&&c.navEl.each(function(a){b(this).attr(f,a)}),c.contentEl.each(function(a){b(this).attr(f,a)})}function l(){var a=this;var c=a.options;var d=!1;c.contentEl.each(function(){var a=b(this);a.attr(e)&&(a.remove(),d=!0)}),d&&(c.contentEl=b(c.contentSelector,a.el))}function m(){var a=this;var c=a.options;var d=[];var f=[];var g=a._.cloneCount;var h=a._.size;for(var i=0;g>i;i++)d.push(c.contentEl.eq(i).clone().attr(e,1).data("slider-clone-from",g+i)),f.push(c.contentEl.eq(h-(i+1)).clone().attr(e,1).data("slider-clone-from",h+i));for(var j=0;g>j;j++)c.contentMainEl.prepend(f[j]).append(d[j]);c.contentEl=b(c.contentSelector,a.el)}function n(a){var b=this;var c=b.options;var d=c.contentMainEl;var e=c.contentHeight*a;var f=c.contentWidth;var g=f*a;o.call(b),b._.isFirstAdjust?(c.isAlignX?(c.contentEl.css({"float":"left"}),d.css(c.isLoop?{width:f*(b._.size+2*b._.cloneCount)}:{width:f*b._.size}),b._.hasPage&&d.css({left:-g})):d.css({top:-e}),d.parent().css({position:"relative"}),d.css({position:"absolute"}),b._.isFirstAdjust=!1,b._.isPlayLock=!1):(setTimeout(function(){b._.isPlayLock=!1},c.speed),c.isAlignX?d.stop(!0).animate({left:-g},c.speed,c.easing):d.stop(!0).animate({top:-e},c.speed,c.easing)),c.contentEl.show()}function o(){var a=this;var b=a.options;if(b.hasOverflow){var c=b.nextEl;var d=b.prevEl;var e=b.butDisabledCls;c&&c.length&&(b.cur>=a._.size-Math.max(b.visible,b.step)||a._.size<=b.visible?c.addClass(e):c.removeClass(e)),d&&d.length&&(b.cur<=0||a._.size<=b.visible?d.addClass(e):d.removeClass(e))}}function p(){var a=this;var b=a.options;q.call(a),r.call(a),b.isHoverStop&&a.eventHandler({hover:[function(){a._.el_mouseenter=!0,clearInterval(a._.playInterval)},function(){a._.el_mouseenter=!1,a.play()}]})}function q(){var a=this;var c=a.options;return c.navEl&&c.navEl.length?(a.delegate(c.navSelector||c.navEl,c.evt,b.T.defer(function(){var d=parseInt(b(this).attr(f));return c.cur==d||0>d||d>=c.navEl.length?!1:(c.cur=d,void a.show())},c.delay,function(b){a._.eventTimer=b,a.stop()})),a.delegate(c.navSelector||c.navEl,c.evt,b.T.defer(function(){var d=parseInt(b(this).attr(f));return c.cur==d||0>d||d>=c.navEl.length?!1:(c.cur=d,void a.show())},c.delay,function(b){a._.eventTimer=b,a.stop()})),a.delegate(c.navSelector||c.navEl,a.event.mouseleave,function(){clearTimeout(a._.eventTimer),c.isHoverStop||a.play()}),void("click"==a.cache("options").evt&&a.delegate(c.navSelector||c.navEl,a.event.mouseover,function(){clearTimeout(a._.eventTimer),clearInterval(a._.playInterval)}))):!1}function r(){var a=this;var b=a.options;return a._.hasPage?(b.prevEl&&b.prevEl.length&&a.eventHandler({el:b.prevEl,click:function(c){a._.isPlayLock||b.hasOverflow&&0==b.cur||(a._.isPlayLock=!0,a.prev(),c.stopPropagation())},hover:[function(){clearInterval(a._.playInterval)},function(){a._.el_mouseenter||a.play()}]}),void(b.nextEl&&b.nextEl.length&&a.eventHandler({el:b.nextEl,click:function(c){a._.isPlayLock||b.hasOverflow&&b.cur>=a._.size-b.visible||(a._.isPlayLock=!0,a.next(),c.stopPropagation())},hover:[function(){clearInterval(a._.playInterval)},function(){a._.el_mouseenter||a.play()}]}))):!1}function s(c){var d=this;var e=d.options;var f=a.location.hash;if(""==f||!e.navEl||!e.navEl.length)return c;var g=e.navEl;var h=null;if(b.each(g,function(a){b(this).attr("data-hash")==f&&(h=a)}),null!=h){c=h;var i=e.navEl.eq(h).offset().top;var j=b.browser.webkit?50:0;setTimeout(function(){b(a).scrollTop(i)},j)}return c}function t(b){var c=this;var d=c.options;if(!d.hasHash||!c._.isFirstAdjust||!a.location.hash)return!1;var e=d.navEl.eq(b).attr("data-hash");e=e.replace(/#/,""),a.location.hash=e}function u(a){var b=this;var c=b.options;var d=c.contentMainEl;var e=c.contentWidth;var f=c.contentHeight;var g=null;var h=null;var i=null;a&&c.isLoop?(i=c.cur,c.cur<=0?(i=b._.size-c.step+c.cur,g=-((b._.size+(b._.cloneCount+c.cur))*e),h=-((b._.size+(b._.cloneCount+c.cur))*f)):i-=c.step,c.cur=i):c.cur>=b._.size&&c.isLoop&&(i=c.cur-b._.size,g=-((i+b._.cloneCount-c.step)*e),h=-((i+b._.cloneCount-c.step)*f),c.cur=i),null!=g&&c.isAlignX?d.css({left:g}):null==h||c.isAlignX||d.css({top:h})}function v(a){var b=this;var c=b.options;var d=c.contentEl.eq(a);var e=c.navEl.eq(a);var f=e.attr(c.iframeAttr);var g=null;f&&(g=document.createElement("iframe"),g.src=f,g.border=0,g.frameborder="no",g.marginwidth=0,g.marginheight=0,d.html(g),e.removeAttr(c.iframeAttr))}"function"==typeof define&&define("//misc.360buyimg.com/jdf/2.0.0/ui/slider/1.0.0/slider.js",[],function(){return d})}(window,jQuery);
/* jdf-2.0.0/ ceilinglamp.js Date:2018-01-30 15:08:42 */
!function(a,b){if(!a.JDFUI)return!1;var d=JDFUI.define("ceilinglamp#",{options:{arriveEl:null,arriveThreshold:0,hasWrap:!1,hasStyle:!1,curCls:"ui-ceilinglamp-current",threshold:"auto",zIndex:100,width:null,top:0,align:null,scrollDelay:50,onShow:null,onHide:null},init:function(){var a=this;return h.call(a),a._.offsetTop=a.el.offset().top,a._.oldScrollTop=b(document).scrollTop(),e.call(a),{}},show:function(){var a=this;var c=a.options;var d=a.el.hasClass(c.curCls);if(d||(a.el.addClass(c.curCls),b.browser.isIE6()&&a.el.css({position:"absolute"}),c.onShow(),a._.isShow=!0),c.arriveEl&&c.arriveEl.length){var e=b(document).scrollTop();var f=c.arriveEl.offset().top;if(e>=f+c.arriveThreshold){var g=f-a._.offsetTop+c.arriveThreshold;a.el.css({position:"absolute",top:g})}else b.browser.isIE6()?a.el.css({position:"absolute",top:e-a._.offsetTop}):(a.el[0].style.position="",a.el[0].style.top="")}setTimeout(function(){a._.isScrolling=!1},10)},hide:function(){var a=this;var c=a.options;var d=a.el.hasClass(c.curCls);d&&(a._.isShow=!1,a.el.removeClass(c.curCls),b.browser.isIE6()&&a.el.css({position:"static"}),c.onHide())}});if(!d)return!1;function e(){var a=this;var c=a.options;var d=b(document).scrollTop();a.el.hasClass(c.curCls)||(a._.offsetTop=a.el.offset().top+c.threshold),d>a._.offsetTop?a.show():a.hide()}function f(){var a=this;var c=a.options;if(null!=c.align){var d=b(document).scrollTop();var f=a._.oldScrollTop;var g=f>d?"top":"bottom";c.align==g?e.call(a):a.hide(),setTimeout(function(){a._.oldScrollTop=d},1)}else e.call(a)}function g(a){var b=a.options;a._.isShow?(a._.isScrolling=!0,f.call(a)):(clearTimeout(a._.thread),a._.thread=setTimeout(function(){a._.isScrolling=!0,f.call(a)},b.scrollDelay))}function h(){var a=this;var c=a.options;if(!c.hasWrap){var d="ui-ceilinglamp-"+a.guid;var e="";"auto"==c.width&&(c.width=a.el.outerWidth()),null!==c.width&&c.width>=0&&(e="width:"+c.width+"px;"),a.el.wrap('<div class="'+d+'" style="'+e+"height:"+a.el.outerHeight(!0)+'px;"></div>'),a.eleWrap=b("."+d)}if("auto"==c.threshold?c.threshold=a.el.outerHeight(!0):isNaN(parseInt(c.threshold))&&(c.threshold=0),!c.hasStyle){var f=c.zIndex;var g=c.top-parseInt(a.el.css("marginTop"),10);var h="."+c.curCls+"{position:fixed;top:"+g+"px;z-index:"+f+"}";b.browser.isIE6()&&(h="."+c.curCls+"{position:absolute;z-index:"+f+";top:expression(eval((document.documentElement||document.body).scrollTop+"+g+") + 'px')}",b("html").eq(0).css("text-overflow","ellipsis")),b("<style>"+h+"</style>").appendTo(b("head:eq(0)"))}}b(a).scroll(b.T.defer(function(){d.forEach(function(a,b){g(b)})},10)),b(a).resize(b.T.defer(function(){d.forEach(function(a,b){b._.isScrolling||f.call(b)})},10)),"function"==typeof define&&define("//misc.360buyimg.com/jdf/2.0.0/ui/ceilinglamp/1.0.0/ceilinglamp.js",[],function(){return d})}(window,jQuery);
/* channel-pclive/1.2.0 comRender.js Date:2018-07-20 16:09:59 */
define("//misc.360buyimg.com/channel/pclive/1.2.0/js/comRender.js",["//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath","//misc.360buyimg.com/jdf/2.0.0/ui/lazyload/1.0.0/lazyload","//misc.360buyimg.com/channel/pclive/1.2.0/js/commonFun"],function(require,a,b){var e=(require("//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath"),require("//misc.360buyimg.com/jdf/2.0.0/ui/lazyload/1.0.0/lazyload"),require("//misc.360buyimg.com/channel/pclive/1.2.0/js/commonFun"));var f=[];function g(){this.currValOffset="",this.prevOffset="",this.nextOffset="",this.resultOffset,this.maxnum,this.time=1,this.totalheight,this.onScrollTimeoutId=null,this.bakScrollFlag=!0,this.$floor,this.tplObj,this.status,this.num,this.offsetCurrVal,this.resultSku;var a=800;this.init=function(a,b,c,d,e,g,h){var i=this;this.TabNum=f.length,f.push(function(){i.onScroll()}),this.ajaxDate(a,b,c,d,e,g,h)},this.event=function(){var a=this;for(var b=0;b<f.length;b++)$(window).unbind("scroll",f[b]);this.bakScrollFlag&&$("html, body").animate({scrollTop:0},1e3,"swing",function(){$(window).bind("scroll",f[a.TabNum])})},this.ajaxDate=function(a,b,c,d,e,g,h){this.$floor=a,this.maxnum=g,this.tplObj=b,this.status=c,this.num=d,this.videoID=h,this.navTabIndex=a.attr("data-tab-idx"),this.prevOffset=this.$floor.find(".list").attr("data-offset"),""==e?this.currValOffset="":this.currValOffset=e;var i=this;return this.prevOffset==this.currValOffset?($(window).unbind("scroll",f[i.navTabIndex]),void i.$floor.find(".mc").append("<p>\u5df2\u7ecf\u5230\u5e95\u4e86\uff01</p>")):void $.ajax({type:"get",url:pageConfig.defaultDataUrl,dataType:"jsonp",timeout:5e3,jsonp:"callback",data:{status:this.status,num:this.num,offset:this.currValOffset,videoID:this.videoID},success:function(a){if(a&&"-1"!=a.code&&a.list&&a.list.length==i.num)i.render(a);else if(0==a.list.length){if(i.$floor.find(".list").attr("data-request"))return $(window).unbind("scroll",f[i.navTabIndex]),void i.$floor.find(".mc").append("<p>\u5df2\u7ecf\u5230\u5e95\u4e86\uff01</p>");i.backupDate(i.$floor,i.tplObj,i.status,i.num)}else if(a.list.length<i.num)return i.render(a),$(window).unbind("scroll",f[i.navTabIndex]),void i.$floor.find(".mc").append("<p>\u5df2\u7ecf\u5230\u5e95\u4e86\uff01</p>")},error:function(){i.backupDate(i.$floor,i.tplObj,i.status,i.num)}})},this.liveUiInteraction=function(){this.$floor.find(".state .qrcode").each(function(a,b){_self=b,e.qrcodeFun($(_self),122)}),this.$floor.delegate(".J-list","mouseenter",function(){var a=$(this).find(".qrcode");e.qrcodeFun(a,90)})},this.backPlayeInteraction=function(){this.$floor.delegate(".player-box",{mouseenter:function(){self=$(this),$img=self.find(".qrcode"),e.qrcodeFun($img,97),self.find(".anchor-info").addClass("hover")},mouseleave:function(){$(this).find(".anchor-info").removeClass("hover")}})},this.foreShowInteraction=function(){e.comProductList(),this.$floor.delegate(".J-list","mouseenter",function(){var a=$(this);var b=a.find(".qrcode");var c;c=a.parents().hasClass("live-products")?90:a.parents().hasClass("list")?96:122,e.qrcodeFun(b,c)}),this.$floor.delegate("li",{mouseenter:function(){$(this).addClass("hover")},mouseleave:function(){$(this).removeClass("hover")}}),this.$floor.delegate(".foreshow",{mouseenter:function(){$(this).find(".state").show()},mouseleave:function(){$(this).find(".state").hide()}})},this.errorImg=function(a){a.find("img").each(function(){$(this).bind("error",function(){$(this).addClass("imgerror")})})},this.render=function(a){var c=a;this.resultOffset=a.offset;var d=TrimPath.processDOMTemplate(this.tplObj,c);this.$floor.find(".list").attr("data-offset",this.currValOffset).attr("data-request",!0).append(d).lazyload({attrSource:"data-lazy-img"}),this.errorImg(this.$floor);function f(){pageConfig.skus=[];for(var b=0;b<a.list.length;b++){var c=a.list[b];for(var d=0;d<c.skus.length;d++)pageConfig.skus.push(c.skus[d].sku)}}"pc-hotlive"==this.$floor.attr("id")?(f(),e.getPriceNum(pageConfig.skus.join(",J_"),"",this.$floor),e.callVideo(this.$floor),e.comProductList(),this.liveUiInteraction()):"playback"==this.$floor.attr("id")?(e.callVideo(this.$floor),this.backPlayeInteraction()):(f(),e.getPriceNum(pageConfig.skus.join(",J_"),"",this.$floor),e.comProductList(),this.foreShowInteraction()),this.$floor.attr("data-request","true")},this.onScroll=function(){var b=this;clearTimeout(b.onScrollTimeoutId),b.onScrollTimeoutId=setTimeout(function(){var c=$(window).scrollTop();b.totalheight=parseFloat($(window).height())+parseFloat(c),console.log("render"),$(document).height()-a<b.totalheight&&b.time!=b.maxnum&&(b.ajaxDate(b.$floor,b.tplObj,b.status,b.num,b.resultOffset,b.maxnum,b.videoID),b.time++)},400)},this.bakdataemptyUi=function(){$(".title-tab").css({display:"none"}),$(".content-layout").css({background:"none"}).html('<li><p style="height:30px;line-height:30px;text-align:center;">\u6682\u65e0\u6570\u636e</p></li>')},this.backupDate=function(a,b,c,d){var e=this;e.$floor=a,e.status=c,e.num=d,e.offset="",e.bakScrollFlag=!1,e.event(),$.ajax({type:"get",url:pageConfig.bakDataUrl+e.status,dataType:"jsonp",data:{status:e.status,num:e.num,offset:e.offset},timeout:4e3,jsonp:"callback",success:function(a){if(a&&"-1"!=a.code&&a.list&&a.list.length>0)e.render(a);else if(0==a.list.length){$(".title-tab").find(".curr-layout").hide();var b=$(".title-tab");e.$floor.attr("data-tab-idx");e.$floor.hide(),1==b.find("li:visible").length?(b.find("li").css({width:"1150"}),mainTabFun.next()):2==b.find("li:visible").length?(b.find("li").css({width:"560"}),mainTabFun.next()):e.bakdataemptyUi()}},error:function(){e.bakdataemptyUi()}})}}b.exports=g});