/* jdf-1.0.0/ lazyload.js Date:2019-04-10 15:05:11 */
!function(a){var c="done";function d(b,d,e){var f=function(c){b.removeClass(e.placeholderClass),a.isFunction(e.onLoadImg)&&(c&&d==e.blankImgUrl&&(c=!1),e.onLoadImg.call(b,c)),b[0].onload=b[0].onerror=null};var g=b[0].onerror;b[0].onerror=function(){a.isFunction(g)?g.call(b[0]):b.attr("src",e.blankImgUrl).addClass(e.errorClass),f(!1)},b[0].onload=function(){f(!0)},d||b.attr("src")||(d=e.blankImgUrl),b.attr("src",d),b.attr(e.source,c),a.isFunction(e.onchange)&&e.onchange.call(b)}function e(b,c,d){"function"==typeof define&&define.cmd?seajs.use(b,function(a){a.init(c),d()}):(a.ajax({url:b,dataType:"script",cache:!0}),d())}function f(a,b,d){"0"==a.attr("data-lazyload-fn")&&(a.attr("data-lazyload-fn",c),d(),b.onchange&&b.onchange(a))}a.ui.define("lazyload",{options:{type:"img",source:"data-lazy-path",init:"data-lazy-init",delay:100,space:100,onchange:null,onLoadImg:null,placeholderClass:"loading-style2",errorClass:"err-poster",blankImgUrl:"//misc.360buyimg.com/lib/img/e/blank.gif",isUseLeft:!1},init:function(){var b=this;var g=this.options;var h=null;var i=null;var j=null;"img"==g.type&&("data-lazy-path"==g.source&&(g.source="data-lazy-img"),j=g.source+"-install");var k="div";if("img"==g.type){if(k="IMG",h=a("img["+g.source+"]["+g.source+"!=done]",b.el),i=h.size(),!i)return!1}else"fn"==g.type&&(k=g.source);b.isNonTopTag=!(b.el.is("body,html")||b.el.is(document));var l=function(){h="img"==g.type?a("img["+g.source+"]["+g.source+"!=done]",b.el):a(k,b.el),i=h.size();var l=a(document).scrollTop();var m=a(document).scrollLeft();b.isNonTopTag&&b.el.scrollTop()&&(l+=b.el.scrollTop()-b.el.height()+g.space);var o=l+a.page.clientHeight()+g.space;var p=m+a.page.clientWidth();a.each(h,function(){var h=a(this);var j=null;if(("js"==g.type||"img"==g.type)&&(j=h.attr(g.source)),j||"fn"==g.type||"img"==g.type){var k=b.getTop(h[0]);var m=i>0&&k>0&&k>l-h.outerHeight()&&o>k;if(g.isUseLeft&&m&&(m=p>b.getLeft(h[0])),m){var n=h.attr(g.init);"img"==g.type?(n=h.attr(g.source),n!=c?(d(h,n,g),i-=1):n==c&&(i-=1)):"js"==g.type?h.attr(g.init)!=c&&e(j,n,function(){i-=1,h.attr(g.init,c)}):"fn"==g.type&&f(h,g,function(){i-=1})}}}),i||(j&&b.el.removeAttr(j),b.isNonTopTag&&a(b.el).unbind("scroll",n),a(window).unbind("scroll",n),a(window).unbind("resize",n))};var m=setTimeout(l,0);var n=function(){m&&clearTimeout(m),m=setTimeout(l,g.delay)};return j&&"1"==b.el.attr(j)?!1:(j&&b.el.attr(j,1),b.isNonTopTag&&a(b.el).bind("scroll",n),a(window).bind("scroll",n),a(window).bind("resize",n),void("fn"==g.type&&g.source.attr("data-lazyload-fn","0")))},getTop:function(a){var b=a.offsetTop;if(null!=a.parentNode){var c=a.offsetParent;for(;null!=c;)b+=c.offsetTop,c=c.offsetParent}return b},getLeft:function(a){var b=a.offsetLeft;if(null!=a.parentNode){var c=a.offsetParent;for(;null!=c;)b+=c.offsetLeft,c=c.offsetParent}return b}})}(jQuery);
/* jdf-1.0.0/ notif.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/notif/1.0.0/notif.js",["//misc.360buyimg.com/jdf/1.0.0/unit/login/1.0.0/login.js","//misc.360buyimg.com/jdf/1.0.0/ui/dialog/1.0.0/dialog.js"],function(require){var c=require("//misc.360buyimg.com/jdf/1.0.0/unit/login/1.0.0/login.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/dialog/1.0.0/dialog.js");function e(a){a=$.extend({el:null,autoIframe:!0,saleNotify:"//skunotify.jd.com/pricenotify.html?",stockNotify:"//skunotify.jd.com/storenotify.html?"},a||{});var f,d=g(location.href),e=/from=weibo/.test(location.href)?location.search.replace(/\?/,""):"";/from=weibo/.test(location.href)&&(f=d.param.type,h(f,e)),a.el&&a.el.live("click",function(){var d=($(this).attr("id"),$(this).attr("data-type")||2),f=$(this).attr("data-sku");return c({modal:!0,complete:function(a){h(f,d,e,a.Identity.Name)}}),!1}).attr("href","#none").removeAttr("target");function g(a){var g,i,j,k,b=a.indexOf("?"),c=a.substr(0,b),d=a.substr(b+1),e=d.split("&"),f=e.length,h={};for(g=0;f>g;g++)i=e[g].split("="),j=i[0],k=i[1],h[j]=k;return{url:c,param:h}}function h(b,c,d,e){var f,h,j,k={skuId:b,pin:encodeURI(e),webSite:1,origin:1,source:1},l=g(location.href);/blogPin/.test(location.href)&&(k.blogPin=l.param.blogPin),1==c&&(f="\u964d\u4ef7\u901a\u77e5",h=a.saleNotify,j=/.jd.hk$/.test(location.host)?360:490),2==c&&(f="\u5230\u8d27\u901a\u77e5",h=a.stockNotify,j=/.jd.hk$/.test(location.host)?315:445,k.storeAddressId=readCookie("ipLoc-djd")||"0-0-0"),h+=d?d:$.param(k),$("body").dialog({title:f,width:500,height:j,type:"iframe",fixed:!0,source:decodeURIComponent(h)+"&nocache="+ +new Date,mainId:"notify_box",contentId:"notify_con",titleId:"notify_title",autoIframe:a.autoIframe})}}return e});
/* jdf-1.0.0/ cookie.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/cookie/1.0.0/cookie.js",[],function(){var c=function(a,b,c){if("undefined"==typeof b){var i=null;if(document.cookie&&""!=document.cookie){var j=document.cookie.split(";");for(var k=0;k<j.length;k++){var l=jQuery.trim(j[k]).split("=");if(l[0]==a&&l.length>1){try{i=decodeURIComponent(l[1])}catch(m){i=l[1]}break}}}return i}c=c||{},null===b&&(b="",c.expires=-1);var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var e;"number"==typeof c.expires?(e=new Date,e.setTime(e.getTime()+24*c.expires*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"";var g=c.domain?"; domain="+c.domain:"";var h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")};return c});
/*
 JDModules Compressed by uglify 
 Author:fe-rd1@jd.com 
 Date: 2018-12-13 
 */
define("product/module/footprint-v2",function(require,a,b){function c(){var a=20,b="book"==document.body.id||1==pageConfig.searchType,c=pageConfig.product&&pageConfig.product.skuid?pageConfig.product.skuid:"",e='            <div class="mt clearfix">                <h2 class="title">\u731c\u4f60\u559c\u6b22</h2>                <div class="extra"><a clstag="personal|keycount|myhistory|hyp407" href="#none" class="change"><i class="ico"></i><span class="txt">\u6362\u4e00\u6279</span></a></div>            </div>            <div class="mc">                <ul class="may-like-list clearfix">                    {for item in data}                    <li ${pageConfig.getFootPrintClk(item, item_index).guess} data-push="${pageConfig.footmarkSkus.push(item.sku)}" data-clk="${item.clk}" {if item_index > 4} style="display:none"{/if}>                        <div class="p-img">                            <a href="//item.jd.com/${item.sku}.html" title="${item.t}" target="_blank">                                <img src="${pageConfig.FN_GetImageDomain(item.sku)}n3/${item.img}" alt="${item.t}" width="130" height="130" />                            </a>                        </div>                        <div class="p-name"><a href="//item.jd.com/${item.sku}.html" target="_blank" title="${item.t}">${item.t}</a></div>                        <div class="p-review"><a class="p-comm-${item.sku}" href="//club.jd.com/review/${item.sku}-1-1.html" target="_blank">(\u5df2\u6709\u4eba\u8bc4\u4ef7)</a></div>                        <div class="p-price J-p-${item.sku}">&yen;</div>                        {if item.client_exposal_url}<img data-lazy-advertisement="${item.client_exposal_url}"/>{/if}                    </li>                    {/for}                </ul>            </div>';!function(){var a=$("#footprint").parent(),b='                <div class="m hide may-like">                    <div class="loading-style1"><b></b>\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u5019...</div>                </div>                <div class="m hide recent-view">                    <div class="loading-style1"><b></b>\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u5019...</div>                </div>';a.after('<div id="footmark" class="w footmark"></div>'),$(".footmark").html(b),a.remove()}(),new d(b?{$el:$(".may-like"),template:e,param:{p:202e3,sku:c,ck:"pinId,lighting,pin,ipLocation,btw,bview",lim:a},onLoad:function(a,b){log("BOOK&HomeTrack","Show")},type:"mixer"}:{$el:$(".may-like"),template:e,param:{p:202002,sku:c,ck:"pinId,lighting,pin,ipLocation,atw,aview",lim:a},onLoad:function(a,b){clsPVAndShowLog("","",2,"s")},type:"mixer"})}require("jdf/1.0.0/unit/trimPath/1.0.0/trimPath.js"),require("jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js"),require("product/module/clslog"),$("#footprint");pageConfig.getFootPrintClk=function(a,b){var c="book"==document.body.id||1==pageConfig.searchType,d={item:a,ind:b};return c?{recent:" onclick=\"clsLog('${item.sku}&HomeHis', '', '${item.sku}#${item.jp}', ${ind}, 'reWidsBookHis');\"".process(d),guess:" onclick=\"clsLog('${item.sku}&HomeTrack', '', '${item.sku}#${item.jp}', ${ind}, 'reWidsBookTrack');\"".process(d)}:{recent:" onclick=\"clsClickLog('', '', '${item.sku}', 3, ${ind}, 'rodGlobalHis');\"".process(d),guess:" onclick=\"clsClickLog('', '', '${item.sku}', 2, ${ind}, 'rodGlobalTrack');\"".process(d)}};var d=function(a){if(this.param=$.extend({lid:"1",lim:10,ec:"utf-8",uuid:-1,pin:readCookie("pin")||""},a.param),this.$el=a.$el,this.template=a.template,this.onLoad=a.onLoad||function(){},this.debug=a.debug,this.type=a.type,!this.param.p)throw new Error("The param [p] is not Specificed");this.init()};d.prototype={init:function(){var a=readCookie("__jda");this.param.lid.indexOf("-")>0?this.param.lid=this.param.lid.split("-")[0]:this.param.lid=this.param.lid,a?"-"==a.split(".")[1]?this.param.uuid=-1:this.param.uuid=a.split(".")[1]:this.param.uuid=-1,this.get(this.rid)},get:function(a,b){var c,d,e=this,f=pageConfig.queryParam,g=[],h="//diviner.jd.com/diviner?";if("mixer"==this.type&&(h="//api.m.jd.com/api"),pageConfig.product)for(c=0;c<pageConfig.product.cat.length;c++)this.param["c"+(c+1)]=pageConfig.product.cat[c];if(f){for(var d in f)f.hasOwnProperty(d)&&("c1"==d||"c2"==d||"c3"==d?e.param[d]=f[d]||"":g.push(d+":"+f[d]));e.param.hi=g.join(",")}this.debug;var i="jQueryA"+parseInt(1e5*Math.random(),10),j={appid:"pc",functionId:"mixer",t:(new Date).getTime(),body:JSON.stringify(this.param),jsonp:i};"mixer"==this.type?$.ajax({url:h,data:j,dataType:"jsonp",scriptCharset:this.param.ec,jsonpCallback:i,success:function(a){this.debug,e.set(a)}}):$.ajax({url:h,data:decodeURIComponent($.param(this.param)),dataType:"jsonp",scriptCharset:this.param.ec,success:function(a){this.debug,e.set(a)}})},set:function(a){this.$el,this.tpl||"";pageConfig.footmarkSkus=[],a.success&&a.data&&a.data.length>0&&(this.$el.html(this.template.process(a)).show(),this.getPriceNum(pageConfig.footmarkSkus,this.param.lid,this.$el),this.getCommentData(pageConfig.footmarkSkus,this.$el),this.setTrackCode(a.impr),this.bindChange(),this.onLoad(this,a),this.$el.lazyload({source:"data-lazy-advertisement",space:0,onLoadImg:function(){$(this).hide()}}))},bindChange:function(){function a(a,b,c){var d=0,e=a.length,f=1;a.each(function(a){a%c===0&&d++,$(this).attr("data-gid",d)}),b.unbind("click").bind("click",function(){f>=e/c&&(f=0);var b=a.filter('[data-gid="'+ ++f+'"]');a.hide(),b.show(),b.lazyload({type:"img"}),b.lazyload({source:"data-lazy-advertisement",space:0,onLoadImg:function(){$(this).hide()}})})}var b=this.$el.find(".mc").outerWidth(),c=this.$el.find("li").outerWidth(),d=parseInt(b/c,10);a(this.$el.find(".mc ul li"),this.$el.find(".mt .change"),d)},getCommentData:function(a,b,c){a=a||[],b=b||$("body").eq(0),c=c||"p-comm-",$.ajax({url:"//club.jd.com/comment/productCommentSummaries.action?my=pinglun&referenceIds="+a,dataType:"jsonp",success:function(a){var b;if(a&&a.CommentsCount.length){b=a.CommentsCount.length;for(var d=0;b>d;d++)$("."+c+a.CommentsCount[d].SkuId).html("(\u5df2\u6709"+a.CommentsCount[d].CommentCountStr+"\u4eba\u8bc4\u4ef7)")}}})},setTrackCode:function(a){var b=this.$el.find("li"),c=this,d="&m=UA-J2011-1&ref="+encodeURIComponent(document.referrer);b.each(function(){var a=$(this).attr("data-clk");$(this).bind("click",function(b){var e=$(b.target);(e.is("a")||e.is("img")||e.is("span"))&&c.newImage(a+d,!0),e.is("input")&&1==e.attr("checked")&&c.newImage(a+d,!0)})}),this.newImage(a+d,!0)},newImage:function(a,b,c){var d=new Image;a=b?a+"&random="+Math.random()+(new Date).getTime():a,d.onload=function(){"undefined"!=typeof c&&c(a)},d.setAttribute("src",a)},getPriceNum:function(a,b,c,d,e){a="string"==typeof a?[a]:a,c=c||$("body"),d=d||"J-p-";var f="";if(null!==b&&(f=readCookie("ipLoc-djd")?"&area="+readCookie("ipLoc-djd").split(".")[0].replace(/-/g,"_"):"&area=1"),"undefined"!=typeof a){var g=readCookie("__jda"),h=g&&g.indexOf(".")>-1?g.split(".")[1]:"",i=readCookie("pin")||"",j=readCookie("pdtk")||"",k=window.pageConfig&&window.pageConfig.pSource?window.pageConfig.pSource:"pg_"+window.location.host,l="//p.3.cn/prices/mgets?type=1&skuIds=J_"+a.join(",J_")+f+"&pduid="+h+"&pdpin="+i+"&pdbp=0&pdtk="+j+"&source="+k;$.ajax({url:l,dataType:"jsonp",success:function(a){if(!a&&!a.length)return!1;for(var b=0;b<a.length;b++){if(!a[b].id)return!1;var f=a[b].id.replace("J_",""),g=parseFloat(a[b].p);parseFloat(a[b].m);g>0?c.find("."+d+f).html("\uffe5"+a[b].p):c.find("."+d+f).html("\u6682\u65e0\u62a5\u4ef7"),"function"==typeof e&&e(f,a[b],l)}}})}}},a.init=c});/*
 JD_Modules Compressed by uglify 
 Author:keelii 
 Date: 2015-07-27 
 */
function log(a,b){var c=Array.prototype.slice.call(arguments),d=window.JA;c=c&&c.slice(2),d&&d.tracker.aloading(a,b,c),d&&d.tracker.ngloader("other.000000",{t1:a,t2:b,p0:d.util.join(c)})}function clsPVAndShowLog(a,b,c,d){var e=a+"."+c+"."+skutype(b)+"."+d;log("d","o",e)}function clsClickLog(a,b,c,d,e,f){var g=a+"."+d+"."+skutype(b);appendCookie(f,c,g),log("d","o",g+".c")}function appendCookie(reCookieName,sku,key){var reWidsCookies=eval("("+getCookie(reCookieName)+")");(null==reWidsCookies||""==reWidsCookies)&&(reWidsCookies=new Object),null==reWidsCookies[key]&&(reWidsCookies[key]="");var pos=reWidsCookies[key].indexOf(sku);0>pos&&(reWidsCookies[key]=reWidsCookies[key]+","+sku),setCookie(reCookieName,$.toJSON(reWidsCookies),15)}function skutype(a){if(a){var b=a.toString().length;return 10==b?1:0}return 0}function setCookie(a,b,c){var d=c,e=new Date;e.setTime(e.getTime()+24*d*60*60*1e3),document.cookie=a+"="+escape(b)+";expires="+e.toGMTString()+";path=/;domain=."+pageConfig.FN_getDomain()}function getCookie(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=b?unescape(b[2]):null}function clsLog(a,b,c,d,e){appendCookie(e,c,a),c=c.split("#")[0],log(3,a,c)}/* product-list/1.0.7 responsive.js Date:2017-08-22 16:40:01 */
define("//misc.360buyimg.com/product/list/1.0.7/js/responsive.js",[],function(require,a,b){var c={};c.init=function(){var a=this;this.mediaQueriesSupport()||(this.setResponsiveLevel(),this.bindEvent(function(){a.setResponsiveLevel()}))},c.mediaQueriesSupport=function(){var a=$.browser.msie&&$.browser.version<9;return!a},c.bindEvent=function(a,b){var a=a||function(){};var b=b||20;var d=null;$(window).resize(function(){clearTimeout(d),d=setTimeout(function(){a()},b)})},c.setResponsiveLevel=function(){var a=$(window).width();1210>a?$("html").removeClass():$("html").removeClass().addClass(a>=1210&&1390>a?"resp01":"resp02")},b.exports=c});/* product-list/1.0.7 recommend.js Date:2018-12-13 18:14:36 */
define("//misc.360buyimg.com/product/list/1.0.7/js/recommend.js",["//misc.360buyimg.com/product/list/1.0.7/js/tools","//misc.360buyimg.com/jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js"],function(require,exports,module){var tools=require("//misc.360buyimg.com/product/list/1.0.7/js/tools");var lazyload=require("//misc.360buyimg.com/jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js");function Recommend(a,b,c,d,e,f,g){this.renderEle=$(a),this.rName=b,this.rId=c,this.skus=d?d:"",this.lim=e?e:10;var h=decodeURIComponent(readCookie("pin")||"");this.pin=h?h:"";var i=readCookie("ipLoc-djd");this.lid=i?i.split("-")[0]:"1";var j=readCookie("__jda");this.uuid=j?j.split(".")[1]:"-1","mixer"==g?this.url="//api.m.jd.com/api":this.url="//diviner.jd.com/diviner",this.callback=f||function(){},this.init()}Recommend.prototype.init=function(){var a=this.rName;this.renderRecommend(a)},Recommend.prototype.renderRecommend=function(a){var b=this;this.getRecommendDate(function(c){var d=[];for(var e in c.data)c.data.hasOwnProperty(e)&&c.data[e].sku&&d.push(c.data[e].sku);var f=b.getRecommendTpl(a);b.resSku=d,b.renderEle.html(f.process(c)),b.callback(b.renderEle,b),b.setTrackCode(c.impr),tools.priceNum({skus:d,$el:b.renderEle,selector:".J-rec-p-",text:"{NUM}"}),tools.commentMeta({skus:d,$el:b.renderEle,selector:".p-rec-comm-",text:"{NUM}"}),b.renderEle.lazyload({source:"data-lazy-advertisement",onLoadImg:function(){$(this).hide()}})})},Recommend.prototype.getRecommendDate=function(a){var a=a||function(){};var c={pin:this.pin,p:this.rId,uuid:this.uuid,lid:this.lid,lim:this.lim,skus:this.skus,ck:"ipLoction",ec:"utf-8"};var d=pageConfig.queryParam;var e=[];var f;if(d){for(var f in d)d.hasOwnProperty(f)&&("c1"==f||"c2"==f||"c3"==f?c[f]=d[f]:e.push(f+":"+d[f]));c.hi=e.join(",")}var g="jQuery"+parseInt(1e5*Math.random(),10);var h={appid:"pc",functionId:"mixer",t:(new Date).getTime(),body:JSON.stringify(c),jsonp:g};$.ajax({url:this.url,data:h,dataType:"jsonp",jsonpCallback:g,success:function(b){b.success&&b.data&&b.data.length>0&&a(b)}})},Recommend.prototype.getRecommendTpl=function(recommendName){var recommendName=recommendName||"default";var tpl="";switch(window.verifyPrice=function(a){if(!a||""==a)return a;var b;var c=a.toString().split(".");return 1==c.length?b=c[0]+".00":2==c.length&&(1==c[1].length?b=c[0]+"."+c[1]+"0":2==c[1].length?b=a:c[1].length>2&&(b=c[0]+"."+c[1].substring(0,2))),b},window.reClick2=function(type2,pwid,sku,num){var reWidsClubCookies=eval("("+getCookie(reCookieName)+")");(null==reWidsClubCookies||""==reWidsClubCookies)&&(reWidsClubCookies=new Object),null==reWidsClubCookies[type2]&&(reWidsClubCookies[type2]="");var pos=reWidsClubCookies[type2].indexOf(sku);0>pos&&(reWidsClubCookies[type2]=reWidsClubCookies[type2]+","+sku),setCookie(reCookieName,$.toJSON(reWidsClubCookies),15),sku=sku.split("#"),log(3,type2,sku[0])},window.reCookieName="reWidsTs",window.newImage=function(a,b,c){var d=new Image;a=b?a+"&random="+Math.random()+new Date:a,d.setAttribute("src",a),d.onload=function(){"undefined"!=typeof c&&c(a)}},recommendName){case"rec-noResult":return tpl='<ul class="clearfix">{for item in data}{if item_index < 5}<li data-clk="${item.clk}">    <div class="rg-wrap">        <div class="p-img">            <a target="_blank" href="//item.jd.com/${item.sku}.html" title="${item.t}">                <img width="220" height="220" data-img="1" src="//img13.360buyimg.com/cms/s190x190_${item.img}" class="err-product">            </a>        </div>        <div class="p-price">            <strong><em>\xa5</em><i class="J-rec-p-${item.sku}"></i></strong>            <span class="p-commit">                <a target="_blank" class="p-rec-comm-${item.sku}" href="//item.jd.com/${item.sku}.html#comment"></a>\u4e2a\u8bc4\u8bba            </span>        </div>        <div class="p-name">            <a target="_blank" href="//item.jd.com/${item.sku}.html" title="${item.t}">                <em>${item.t}</em>            </a>        </div>    </div></li>{/if}{/for}</ul>';case"ab-goods":return tpl='<ul class="clearfix">{for item in data}{if item_index < 8}<li data-clk="${item.clk}" onclick="searchlog(1, ${item.sku}, ${item_index}, 83)">  <div class="p-img">      <a target="_blank" href="//item.jd.com/${item.sku}.html" title="${item.t}">          <img width="160" height="160" data-img="1" src="${pageConfig.FN_GetImageDomain(item.sku)}n2/${item.img}" class="err-product">      </a>  </div>  <div class="p-price">      <span>\u7279\u4ef7\uff1a</span><strong><em>\xa5</em><i class="J-rec-p-${item.sku}"></i></strong>  </div>  <div class="p-name">      <a target="_blank" href="//item.jd.com/${item.sku}.html" title="${item.t}">          <em>${item.t}</em>      </a>  </div></li>{/if}{/for}</ul>';case"finalbuy":return tpl='<div class="mt"><h2>\u8fbe\u4eba\u9009\u8d2d</h2></div><div class="mc"><ul>{for item in data}{if item_index==0}<li class=\'fore\' sku_c=\'${item.sku}\' onclick = \'reClick2("${item.c3}&ThirdRec","","${item.sku}","${item_index}");newImage("${item.clk}&m=UA-J2011-1&ref=${encodeURIComponent(document.referrer)}", true);\'>{else}<li sku_c=\'${item.sku}\' onclick = \'reClick2("${item.c3}&ThirdRec","","${item.sku}",${item_index});newImage("${item.clk}&m=UA-J2011-1&ref=${encodeURIComponent(document.referrer)}", true);\'>{/if}<div class=\'p-img\'>'+"<a href='//item.jd.com/${item.sku}.html' title='${item.t}' target=\"_blank\"><img width='190' height='190' src='//img13.360buyimg.com/cms/s190x190_${item.img}' alt='${item.t}'></a></div><div class=\"p-price\"><strong>{if parseInt(item.jp) <= 0 || item.jp == \"\"}\u6682\u65e0\u62a5\u4ef7{else}\uffe5${verifyPrice(item.jp)}{/if}</strong></div><div class='p-name'><a href='//item.jd.com/${item.sku}.html' title='${item.t}' target=\"_blank\">${item.t}</a></div>{if item.client_exposal_url}<img data-lazy-advertisement='${item.client_exposal_url}'/>{/if}</li>{/for}</ul></div>";case"alsobuy":return tpl='<div class="mt"><h2>\u6d4f\u89c8\u4e86\u8fd8\u8d2d\u4e70\u4e86</h2></div><div class="mc"><ul>{for item in data}{if item_index==0}<li class=\'fore\' sku_c=\'${item.sku}\' onclick = \'reClick2("${item.c3}&ThirdBuy","","${item.sku}","${item_index}");newImage("${item.clk}&m=UA-J2011-1&ref=${encodeURIComponent(document.referrer)}", true);\'>{else}<li sku_c=\'${item.sku}\' onclick=\'reClick2("${item.c3}&ThirdBuy","","${item.sku}","${item_index}");newImage("${item.clk}&m=UA-J2011-1&ref=${encodeURIComponent(document.referrer)}", true);\'>{/if}<div class=\'p-img\'><a href=\'//item.jd.com/${item.sku}.html\' title=\'${item.t}\' target="_blank">'+"<img width='190' height='190' src='//img13.360buyimg.com/cms/s190x190_${item.img}' alt='${item.t}'></a></div><div class=\"p-price\"><span>\u7279\u4ef7\uff1a</span><strong>{if parseInt(item.jp) <= 0 || item.jp == \"\"}\u6682\u65e0\u62a5\u4ef7{else}\uffe5${verifyPrice(item.jp)}{/if}</strong></div><div class='p-name'><a href='//item.jd.com/${item.sku}.html' title='${item.t}' target=\"_blank\">${item.t}</font></a></div></li>{/for}</ul></div>";default:return"not found"}},Recommend.prototype.setTrackCode=function(a){var b=this.renderEle.find("li");var c=this;var d="&m=UA-J2011-1&ref="+encodeURIComponent(document.referrer);b.each(function(){var a=$(this).attr("data-clk");$(this).bind("click",function(b){var e=$(b.target);(e.is("a")||e.is("img")||e.is("span")||e.is("em"))&&c.newImage(a+d,!0)})}),this.newImage(a+d,!0)},Recommend.prototype.newImage=function(a,b,c){var d=new Image;a=b?a+"&random="+Math.random()+new Date:a,d.setAttribute("src",a),d.onload=function(){"undefined"!=typeof c&&c(a)}},module.exports=Recommend});/* product-list/1.0.7 bookmvd.js Date:2017-08-22 16:39:59 */
define("//misc.360buyimg.com/product/list/1.0.7/js/bookmvd.js",["//misc.360buyimg.com/product/list/1.0.7/js/reco","//misc.360buyimg.com/product/list/1.0.7/js/tools"],function(require,a){var c=require("//misc.360buyimg.com/product/list/1.0.7/js/reco");var d=require("//misc.360buyimg.com/product/list/1.0.7/js/tools");var e='    <div class="mt">        <h2>${ext.title}</h2>    </div>    <div class="mc">        <ul>            {for item in data}            <li class="fore${pageConfig[skuHooks].push(item.sku)}" data-clk="${item.clk}"             onclick=\'log("search", "list", "${encodeURI(location.href)}", "{if pageConfig.queryParam.c3 == ""}${pageConfig.queryParam.c2}{else}${pageConfig.queryParam.c3}{/if}", "12", "${ext.id}", "${item.sku}", "2", "${Number(item_index)+1}", "")\'>                <div class="p-img">                    <a href="//item.jd.com/${item.sku}.html" title="${item.t}" target="_blank">                        <img width="160" height="160" src="${pageConfig.FN_GetImageDomain(item.sku)}n1/s160x160_${item.img}" alt="${item.t}">                    </a>                </div>                <div class="p-price"><strong class="J-p-${item.sku}">\uffe5${item.jp}</strong>                </div>                <div class="p-name"><a href="//item.jd.com/${item.sku}.html" title="${item.t}" target="_blank">${item.t}</a>                </div>            </li>            {/for}        </ul>    </div>';var f='    <div class="hd">\u70ed\u5356\u63a8\u8350</div>    <div class="bd mc">        <ul class="mc list-h clearfix">        {for item in data}        <li data-sku="${pageConfig["SKUS_hotsale"].push(item.SkuId)}"         onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "8", "1", "${item.SkuId}", "2", "${Number(item_index)+1}", "${params.abTestFlag}")\'>              <a class="p-img" target="_blank" href="//item.jd.com/${item.SkuId}.html" title="${item.Name}">                  <img width="100" height="100" data-img="1" src="//img12.360buyimg.com/n4/${item.Img}" class="err-product">              </a>              <a class="p-name" target="_blank" href="//item.jd.com/${item.SkuId}.html" title="${item.Name}">                  <em>${item.Name}</em>              </a>              <div class="p-price">                   <strong><em class="number J-p-${item.SkuId}">${item.JdPrc}</em></strong>              </div>              <div class="p-btnbox">                  <a class="btn btn-default" target="_blank" href="//cart.jd.com/gate.action?pid=${item.SkuId}&pcount=1&ptype=1">\u7acb\u5373\u62a2\u8d2d</a>              </div>        </li>        {/for}        </ul>    </div>';function g(){var a=$("#J-book-new");var b=$("#J-book-sale");$("#plist li").eq(0).attr("data-sku");new c({$el:a,skuHooks:"SKUS_610011",template:e,ext:{title:"\u4e03\u65e5\u7545\u9500\u699c",id:1},param:{p:610011,sku:params.thirdCatId,lim:6,ck:"pin,ipLocation,atw"}});new c({$el:b,skuHooks:"SKUS_610012",template:e,ext:{title:"\u65b0\u54c1\u70ed\u5356\u699c",id:2},param:{p:610012,lim:6,c2:params.secondCatId,c3:params.thirdCatId,sku:params.thirdCatId,ck:"pin,ipLocation,atw"}})}function h(){var a=readCookie("ipLoc-djd")?readCookie("ipLoc-djd").split("-")[0]:1;var b="undefined"!=typeof params&&(params.thirdCatId||params.secondCatId);pageConfig.SKUS_hotsale=[];function c(a){var b=$("#hotsale");b.html(f.process(a)),d.priceNum({skus:pageConfig.SKUS_hotsale,$el:b})}b&&$.ajax({url:"//d.jd.com/hotbook/get?",data:{cid3:b,areaid:a},dataType:"jsonp",success:function(a){a&&a.length&&c({data:a})}})}a.reco=g,a.getHotsale=h});/* product-list/1.0.7 selector.js Date:2017-08-22 16:40:01 */
define("//misc.360buyimg.com/product/list/1.0.7/js/selector.js",["//misc.360buyimg.com/product/list/js/responsive","//misc.360buyimg.com/jdf/1.0.0/ui/tips/1.0.0/tips"],function(require,a,b){var c=require("//misc.360buyimg.com/product/list/js/responsive");require("//misc.360buyimg.com/jdf/1.0.0/ui/tips/1.0.0/tips");var e={};e.selectedEv="",e.selectedAttr=[],e.getAttrValue=function(a,b){var c=new RegExp("(^|\\?|&)"+a+"=([^&#]*)(\\s|#|&|$)","i");var d="";return c.test(b)&&(d=c.exec(b),d=d[2]),d},e.addAttr=function(a){var a=a||"";var b=this.getAttrValue("ev",a);var c=d(b,/\%40|\@/);function d(a,b){b=b||"";var c=a.split(b);var d=[];for(var e=0;e<c.length;e++)""!==c[e]&&d.push(c[e]);return d}b=c.splice(c.length-1,1).join("");var e=d(b,/\%5F|\_/);return this.selectedEv=e[0],this.selectedAttr.push(e[1]),this.selectedAttr.length},e.removeAttr=function(a){var b=this.getAttrValue("ev",a);var c=b.split(/\%40|\@/);var d="";for(var e in c)if(c.hasOwnProperty(e)){var f=c[e];var g=f.split(/\%5F|\_/);if(this.selectedEv==g[0]){d=g[1];break}}for(var h in this.selectedAttr)this.selectedAttr[h]===d&&this.selectedAttr.splice(h,1);return this.selectedAttr.length},e.getAttrUrl=function(){var a=window.location.href||"";var b=null;var c=a.replace(/(^|\\?|&)ev=([^&#]*)/g,"").replace(/#[a-zA-Z\d\-\.\_\~]*$/,"");var d=this.getAttrValue("ev",window.location.href);return a.match(/#([a-zA-Z\d\-\.\_\~]*)$/)&&(b=a.match(/#([a-zA-Z\d\-\.\_\~]*)$/)[1]),d.indexOf("@")!=d.length-1&&d.indexOf("%40")!=d.length-1&&(d+="@"),c+"&ev="+d+this.selectedEv+"_"+this.selectedAttr.join("%7C%7C")+(b?"#"+b:"")},e.clean=function(){this.selectedEv="",this.selectedAttr=[]};var f={};f.init=function(){var a=this;this.wrap=$("#J_selector"),this.setMoreVisable(),this.initTips(),this.fixSelectorStruct(),this.setMoreToggle(),this.setMultipleToggle(),this.setMultipleSelect(),this.setSelectorMoreToggle(),this.setBrandWordsTab(),this.setPriceBtnOnclick(),this.setResultSearchBtnOnclick(),c.bindEvent(function(){a.setMoreVisable()},100)},f.initTips=function(){$("#J_selector").tips({trigger:".qm-icon",tipsClass:"ui-tips-skin2",hasClose:!1,width:276,mouseleaveDelayTime:200,callback:function(a,b){b.css("left","-=10").css("zIndex",16e3)}})},f.removeSelected=function(){var a=$(".crumbs-nav-item a");var b=$("#J_selector .J_selectorLine[data-id]");a.each(function(){var a=$(this).attr("data-id");b.filter('[data-id="'+a+'"]').remove()})},f.resetBrandArea=function(){this.wrap.find(".J_valueList").scrollTop(0).find("li").show(),this.wrap.find(".J_brandLetter").find("li:first").addClass("curr").siblings().removeClass("curr")},f.setMoreToggle=function(){var a=this;var b=this.wrap.find(".J_extMore");b.bind("click",function(){var c=$(this).parents(".J_selectorLine");var d=c.find(".J_valueList");$(this).hasClass("opened")?(c.find(".sl-wrap").removeClass("extend"),$(this).html("\u66f4\u591a<i></i>").removeClass("opened"),$(this).parents(".J_selectorLine").hasClass("s-brand")&&a.resetBrandArea(),d.scrollTop(0)):(c.find(".sl-wrap").addClass("extend"),$(this).html("\u6536\u8d77<i></i>").addClass("opened"))})},f.setMultipleToggle=function(){var a=this;var b=this.wrap.find(".J_extMultiple");var c=this.wrap.find(".J_btnsConfirm");var d=this.wrap.find(".J_btnsCancel");b.bind("click",function(){var c=$(this).parents(".J_selectorLine");c.hasClass("s-brand")||0===$(".s-brand").find(".multiple").length||a.resetBrandArea(),c.find(".sl-wrap").removeClass("extend").addClass("multiple"),c.siblings().find(".multiple .J_btnsCancel").trigger("click")}),c.bind("click",function(a){$(this).parents(".J_selectorLine");$(this).hasClass("disabled")||(window.location=e.getAttrUrl()),a.preventDefault(),a.stopPropagation()}),d.bind("click",function(){var c=$(this).parents(".J_selectorLine");var d=c.find(".J_valueList");c.hasClass("s-brand")&&a.resetBrandArea(),c.find(".sl-wrap").removeClass("extend").removeClass("multiple").find(".J_extMore").html("\u66f4\u591a<i></i>").removeClass("opened"),c.find(".J_btnsConfirm").addClass("disabled"),c.find(".sl-ext").show(),c.find(".J_brandSelected").hide().find(".sl-v-list").html(""),e.clean(),d.scrollTop(0).find(".selected").removeClass("selected")})},f.setMultipleSelect=function(){var b=this.wrap.find(".J_valueList");var c=this.wrap.find(".J_brandSelected li a");var d=function(a,b,c){0>=a?(b.addClass("disabled"),c.hide()):(b.removeClass("disabled"),c.show())};b.delegate("li a","click",function(a){var b=$(this).parents(".J_selectorLine");var c=$(this).parent("li");var f=b.find(".J_brandSelected");var g=b.find(".J_btnsConfirm");if(b.find(".sl-wrap").hasClass("multiple")){a.preventDefault(),a.stopPropagation();var h=$(this).attr("href");var i=e.selectedAttr.length;if(c.hasClass("selected"))i=e.removeAttr(h),c.removeClass("selected"),f.length&&f.find('li[data-brand-id="'+c.attr("id")+'"]').remove();else if(i=e.addAttr(h),c.addClass("selected"),f.length){var j=c.clone(!1);j.attr("data-brand-id",j.attr("id")).removeAttr("id").find("img").remove(),f.find(".sl-v-list").append(j)}d(i,g,f)}}),c.live("click",function(a){var b=$(this).parents(".J_selectorLine");var c=$(this).parent("li");var f=b.find(".J_valueList");var g=b.find(".J_btnsConfirm");var h=b.find(".J_brandSelected");var i=$(this).attr("href");a.preventDefault(),a.stopPropagation(),attrLength=e.removeAttr(i),c.removeClass("selected"),f.find("#"+c.attr("data-brand-id")).removeClass("selected"),c.remove(),d(attrLength,g,h)})},f.fixSelectorStruct=function(){var a=this.wrap.find(".J_selectorLine");this.wrap.find(".J_selectorLine.s-brand");$.browser.msie&&6==$.browser.version&&a.after('<span class="clr"></span>')},f.regroupSelectorLine=function(){var a=this.wrap.find(".J_selectorLine");var b=this.wrap.find(".J_selectorLine.s-brand");var c=$("#J_selectorMore");var d=[];var e=$("#J_selectorSay");var f=$("#J_selectorSize");a.length>4&&(f.length&&(3!==a.index(f)&&a.eq(3).after(f),a=this.wrap.find(".J_selectorLine")),e.length&&(a.eq(2).after(e),a=this.wrap.find(".J_selectorLine"))),a.each(function(a){3>=a?$(this).show():a>3&&8>a?($(this).hide().addClass("J_selectorFold"),d.push($(this).find(".sl-key").find("span").text().replace("\uff1a",""))):$(this).hide().addClass("J_selectorFold"),$.browser.msie&&6==$.browser.version&&$(this).after('<span class="clr"></span>')}),c.find(".sm-wrap").html("\u66f4\u591a\u9009\u9879\uff08"+d.join("\uff0c")+"\u7b49\uff09<i></i>"),b.find(".J_valueList").hasClass("v-fixed")||(b.find(".J_brandLetter").remove(),b.find(".J_brandSearch").remove(),b.find(".J_brandSelected").remove())},f.setSelectorMoreToggle=function(){var a=this;var b=this.wrap.find(".J_selectorLine");var c=this.wrap.find(".J_selectorFold");var d=$("#J_selectorMore");d.find(".sm-wrap").html();b.length<=4?d.hide():(d.show(),d.find(".sm-wrap").bind("click",function(){$(this).hasClass("opened")?(b.each(function(a){3>=a?$(this).show():$(this).hide().addClass(a>3&&8>a?"J_selectorFold":"J_selectorFold"),$.browser.msie&&6==$.browser.version&&$(this).after('<span class="clr"></span>')}),$(this).removeClass("opened").html("\u66f4\u591a\u9009\u9879\uff08"+$(this).attr("data-more")+"\uff09<i></i>")):(c.show(),$(this).addClass("opened").html("\u6536\u8d77<i></i>"),a.setMoreVisable())}))},f.setMoreVisable=function(){var a=this.wrap.find(".J_selectorLine");a.each(function(){var b=$(this).find(".J_valueList");var c=b.find("li");var d=b.width();var e=0;$(this).hasClass("s-brand")?b.find("li").each(function(a){20>a&&(e+=$(this).outerWidth(!0))}):c.each(function(){e+=$(this).outerWidth(!0)}),d>=e?$(this).find(".J_extMore").css("visibility","hidden"):$(this).find(".J_extMore").css("visibility","visible"),(c.length<=5||"J_selectorPrice"===$(this).attr("id")||"J_selectorCategory"===$(this).attr("id")||"J_selectorGuide"===$(this).attr("id"))&&$(this).find(".J_extMultiple").css("visibility","hidden")})},f.setResultSearchBtnOnclick=function(){var a="\u5728\u7ed3\u679c\u4e2d\u641c\u7d22";var b=function(b){var c=$.trim(b.val());""!=c&&c!=a&&(window.location.href=window.location.href.replace(/(^|\\?|&)sir_key=([^&#]*)/g,"")+"&sir_key="+encodeURIComponent(c))};$("#resultSearchBtn").click(function(){b($(this).prev())}).prev().focus(function(){$.trim($(this).val())==a&&$(this).val("")}).blur(function(){""==$.trim($(this).val())&&$(this).val(a)}).keydown(function(a){13==a.keyCode&&b($(this))}),$("#colseResultSearchBtn").click(function(){window.location=window.location.href.replace(/(^|\\?|&)sir_key=([^&#]*)/g,"")})},f.setPriceBtnOnclick=function(){$("#priceBtn").bind("click",function(){var b=$("#priceMin").val();var c=$("#priceMax").val();(""!=b||""!=c)&&((""==b||0>=b)&&(b="0"),b="M"+parseInt(b),c=""==c||0>=c?"":"L"+parseInt(c),e.selectedAttr=[],e.selectedEv="exprice",e.selectedAttr.push(b+c),window.location=e.getAttrUrl())})},f.setBrandWordsTab=function(){var a=this.wrap||$("#J_selector");var b=a.find(".J_brandLetter");var c=a.find(".s-brand .J_valueList li");b.delegate("li","mouseover",function(){var a=$(this).attr("data-initial");"0"===a?c.show():c.each(function(){$(this).attr("data-initial")===a?$(this).show():$(this).hide()}),$(this).addClass("curr").siblings().removeClass("curr")})},f.setBrandWordsSearch=function(){var a=this.wrap.find(".s-brand");var b=a.find(".J_brandSearch");var c=a.find(".J_valueList");var d=a.find(".J_brandLetter");var e=b.find(".input-txt");var f={className:"placehoder",text:e.attr("data-placehoder"),enable:function(){e.addClass(this.className).val(this.text)},disable:function(){e.removeClass(this.className).val("")}};f.enable(),e.bind("focus",function(){var b=$.trim($(this).val());b===f.text&&f.disable()}),e.bind("blur",function(){var b=$.trim($(this).val());0===b.length&&f.enable()}),e.bind("keyup",function(){var b=$.trim($(this).val());var e=SEARCH.brand_ids?SEARCH.brand_ids:"";var f={key:b,ids:e};d.find("li:first").addClass("curr").siblings().removeClass("curr"),0!==b.length?$.ajax({url:"//bsearch.jd.com/",data:f,dataType:"jsonp",jsonpCallback:"call"+parseInt(1e5*Math.random(),10),success:function(a){if("undefined"!=typeof a&&a.length>0){c.find("li").css("display","none");for(var b in a)c.find("#brand-"+a[b].id).css("display","block")}else c.find("li").css("display","none")}}):c.find("li").css("display","block")})},pageConfig.setBrandWordsTab=f.setBrandWordsTab,b.exports=f});/* product-list/1.0.7 promotion.js Date:2018-07-17 17:51:38 */
define("//misc.360buyimg.com/product/list/1.0.7/js/promotion.js",[],function(require,a,b){function c(a,b,c){this.ids=a||!1,this.prefix=b||"#prom-wrap-",this.adType=c||"8",this.init()}c.prototype.init=function(){this.ids&&this.renderPromotion()},c.prototype.renderPromotion=function(){var a=this;var b=this.ids.split(",");this.getPromotionDate(function(c){for(var d=0;d<b.length;d++){var e=b[d].replace(/:\S*/g,"");var f=a.getPromotionTpl(e);var g=a.prefix+e;if(c[e]&&c[e].length>0){var h={data:c[e],id:e};var i=f.process(h);$(g).html(i),$(c[e]).each(function(b){a.newImage(c[e][b].exposal_url,!1)}),a.setClick(g)}}})},c.prototype.getPromotionDate=function(a){var a=a||function(){};var c={ad_ids:this.ids,template:0,urlcid3:SEARCH.adv_param&&SEARCH.adv_param.cid3?SEARCH.adv_param.cid3:"",ad_type:this.adType,spread_type:1};$.ajax({url:"//x.jd.com/ShowInterface",data:c,dataType:"jsonp",jsonpCallback:"call"+parseInt(1e5*Math.random(),10),success:function(b){a(b)}})},c.prototype.setClick=function(a){var b=this;$(a).find("a").bind("click",function(){var c=$(this).attr("data-charge");c&&b.newImage(c,!1)})},c.prototype.getPromotionTpl=function(a){pageConfig["SKUS_HOOK"+a]=[];var b="";return b="94"==a?'{for item in data}{if item_index < 20}<a target="_blank" href="${item.click_url}" data-sku="${pageConfig["SKUS_HOOK"+id].push(item.sku_id)}" onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "9", "4", "${params.abTestFlag}")\'><img width="${item.width}" src="//img30.360buyimg.com/pop/${item.image_url}"></a>{/if}{/for}':"60"==a?'{for item in data}{if item_index < 20}<div class="ab-pic" data-sku="${pageConfig["SKUS_HOOK"+id].push(item.sku_id)}"  onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "9", "${Number(item_index)+1}", "${params.abTestFlag}")\'><a  target="_blank" href="${item.click_url}"><img width="${item.width}" src="//img12.360buyimg.com/n7/${item.image_url}"></a></div>{/if}{/for}':'{for item in data}{if item_index < 20}<a  target="_blank" href="${item.click_url}"><img width="${item.width}" src="//img12.360buyimg.com/n2/${item.image_url}"></a>{/if}{/for}'},c.prototype.newImage=function(a,b,c){var d=new Image;a=b?a+"&random="+Math.random()+new Date:a,d.setAttribute("src",a),d.onload=function(){"undefined"!=typeof c&&c(a)}},b.exports=c});/* product-list/1.0.7 goodsList.js Date:2017-08-22 16:40:00 */
define("//misc.360buyimg.com/product/list/1.0.7/js/goodsList.js",["//misc.360buyimg.com/jdf/1.0.0/ui/switchable/1.0.0/switchable","//misc.360buyimg.com/jdf/1.0.0/unit/follow/1.0.0/follow.js"],function(require,a,b){require("//misc.360buyimg.com/jdf/1.0.0/ui/switchable/1.0.0/switchable");var d=require("//misc.360buyimg.com/jdf/1.0.0/unit/follow/1.0.0/follow.js");var e={};e.init=function(){this.wrap=$("#J_main").find(".J-goods-list"),this.setItemHover(),this.setTabHover(),this.setImgTab(),this.setImgSlider(),this.setSkuFocus(),this.setSkuNotification()},e.setItemHover=function(){var a=this;this.wrap.delegate(".gl-item","mouseenter",function(){a.wrap.hasClass("gl-type-5")||$(this).addClass("hover")}),this.wrap.delegate(".gl-item","mouseleave",function(){$(this).removeClass("hover")})},e.setTabHover=function(){this.wrap.delegate(".gl-i-tab-trigger .item","mouseenter",function(){var b=$(this).index();var c=$(this).parents(".gl-i-tab-trigger").siblings(".gl-i-tab-content").find(".tab-content-item").eq(b);$(this).addClass("selected").siblings().removeClass("selected"),c.addClass("tab-cnt-i-selected").siblings().removeClass("tab-cnt-i-selected"),c.lazyload()})},e.setImgTab=function(){var a=$("#plist").hasClass("gl-type-3")?"/n7/":"/n8/";this.wrap.delegate(".p-scroll li","mouseenter",function(){var c=$(this).parents(".gl-item");var d=$(this);var e=d.find("img");var f=c.find(".p-img");var g=c.find(".p-name");var h=c.find(".p-focus");var i=c.find(".p-commit");var j=$(this).find("img").attr("src").replace("/n9/",a);var k=$(this).find("img").attr("data-sku");var l=f.find("a").attr("href").replace(/\/\d{6,}/,"/"+k);e.data("url")&&(l=e.data("url")),f.find("a").attr("href",l),f.find("img").not(".p-service-mask").attr("src",j),g.children("a").attr("href",l),h.find("a").attr("data-sku",k),i.find(".comment").attr("href",l+"#comment"),$(this).find("a").addClass("curr").end().siblings().find("a").removeClass("curr")})};var f={};e.setImgSlider=function(){var a=this.wrap.find(".p-scroll");a.length>0&&a.each(function(){var a=$(this);var b=a.closest(".gl-i-wrap").data("sku");a.find(".ps-item").length>6&&(a.hasClass("scrolled")?f[b]&&f[b].update():(a.addClass("scrolled"),f[b]=a.switchable({bodyClass:"ps-wrap",contentClass:"ps-main",mainClass:"ps-item",mainSelectedClass:"curr",prevClass:"ps-prev",nextClass:"ps-next",pagCancelClass:"disabled",type:"imgscroll",step:1,autoLock:!0,hasPage:!0,visible:5,speed:200,event:"mouseover",width:34})))})},window.setImgSlider=e.setImgSlider,e.setSkuFocus=function(){return"undefined"!=typeof window.searchUnit.followInited?!1:($("body").delegate(".J_focus","click",function(a){var b=$(this);var c=b.attr("data-sku");d.add(c,function(){b.hasClass("focus")?b.html("<i></i>\u5df2\u5173\u6ce8").addClass("focused"):b.html("<i></i>\u5df2\u5173\u6ce8").parent().addClass("p-focused")},{isShowInfo:!1}),a.preventDefault()}),void(window.searchUnit.followInited=!0))},e.setSkuNotification=function(){return searchUnit.notifyInited?!1:void seajs.use("//misc.360buyimg.com/jdf/1.0.0/unit/notif/1.0.0/notif.js",function(a){a({el:$(".J_notification")}),searchUnit.notifyInited=!0})},b.exports=e});/* product-list/1.0.7 backtop.js Date:2017-08-22 16:39:59 */
define("//misc.360buyimg.com/product/list/1.0.7/js/backtop.js",["//misc.360buyimg.com/jdf/1.0.0/ui/fixable/1.0.0/fixable"],function(require,a,b){require("//misc.360buyimg.com/jdf/1.0.0/ui/fixable/1.0.0/fixable");function d(a,b,c){this.id=a?a:"backtop",this.top=b?b:500,this.speed=c?c:300,this.wrap=$('<div id="'+this.id+'"></div>'),$("#J-global-toolbar").length<1&&this.init()}d.prototype.init=function(){var a=this;$(document).ready(function(){a.randerHtml(),a.hide(),a.fixPostion(),a.bindEvent()})},d.prototype.randerHtml=function(){var a='<div class="b-item"><a class="b-i-survey" href="//surveys.jd.com/index.php?r=survey/index/sid/73453/lang/zh-Hans" target="_blank" class="survey">\u610f\u89c1\u53cd\u9988</a></div><div class="b-item"><a class="b-i-back" href="#none">\u8fd4\u56de\u9876\u90e8</a></div>';this.wrap.html(a),$("body").append(this.wrap)},d.prototype.fixPostion=function(){this.wrap.fixable({x:"right",y:"bottom",xValue:20,yValue:70})},d.prototype.show=function(){this.wrap.show()},d.prototype.hide=function(){this.wrap.hide()},d.prototype.bindEvent=function(){var a=this;$(window).bind("scroll",function(){$(this).scrollTop()<=a.top?a.hide():a.show()}),this.wrap.find(".b-i-back").bind("click",function(){$("body, html").animate({scrollTop:0},a.speed)})},b.exports=d});/* product-list/1.0.7 promotionGoods.js Date:2018-07-17 17:51:38 */
define("//misc.360buyimg.com/product/list/1.0.7/js/promotionGoods.js",["//misc.360buyimg.com/product/list/1.0.7/js/tools","//misc.360buyimg.com/product/list/1.0.7/js/recommend.js"],function(require,a,b){var c=require("//misc.360buyimg.com/product/list/1.0.7/js/tools");var d=require("//misc.360buyimg.com/product/list/1.0.7/js/recommend.js");function e(a,b,c,d){this.ids=a||!1,this.prefix=b||"#prom-wrap-",this.tplType=c||"ab-goods",this.keyWord=d||"";var e=readCookie("ipLoc-djd");this.areaId=e?e.split("-")[0]:"1",this.init()}e.prototype.init=function(){this.ids&&this.renderPromotion()},e.prototype.renderPromotion=function(){var a=this;var b=this.ids.split(",");pageConfig.prom={},this.getPromotionDate(function(e){if("undefined"!=typeof e)for(var f=0;f<b.length;f++){var g=b[f].replace(/:\S*/g,"");var h=a.prefix+g;var i=g;if(a.promId=g,e[i]){var j=a.getPromotionTpl(g);var k={data:e[i],id:g};var l=j.process(k);$(h).find(".mc").html(l),$(h).show();var m=[];for(var n in k.data)k.data.hasOwnProperty(n)&&(m.push(k.data[n].sku_id),a.newImage(k.data[n].exposal_url,!1));c.priceNum({skus:m,$el:$(h),selector:".J-prom-p-",text:"{NUM}"}),c.promTag({skus:m}),a.setClick(h),a.triggerLog(g)}else if(0===$(".J_abGoodsRecProcess").length){var o=$("#J_goodsList").find("li");var p=[];for(var q=0;q<o.length&&3>=q;q++){var r=o.eq(q).attr("data-sku");r&&p.push(r)}{new d(h+" .mc","ab-goods",902022,p.join(","),8,function(a){var b=a.parents(".ab-goods");b.find(".mt").find("h3").html("\u7cbe\u54c1\u63a8\u8350"),b.show()})}$(h).addClass("J_abGoodsRecProcess")}a.newImage(e[g][0].exposal_url,!1)}})},e.prototype.getPromotionDate=function(a){var a=a||function(){};var c={ad_ids:this.ids,ad_type:7,template:0,spread_type:1,urlcid3:SEARCH.adv_param.cid3};if(window.SEARCH&&window.SEARCH.adv_param){var d=window.SEARCH.adv_param;for(var e in d)d.hasOwnProperty(e)&&d[e]&&(c[e]=d[e])}$.ajax({url:"//x.jd.com/ShowInterface",data:c,dataType:"jsonp",jsonpCallback:"call"+parseInt(1e5*Math.random(),10),success:function(b){a(b)}})},e.prototype.triggerLog=function(a){log("search","list",location.href,pageConfig.queryParam.c3,"8","1",pageConfig["SKUS_HOOK"+a].join("_"),params.abTestFlag)},e.prototype.getPromotionTpl=function(a){a=a||"47";var b="";switch(pageConfig["SKUS_HOOK"+a]=[],a){case"46":return b='<ul data=type="46" class="clearfix">{for item in data}{if item_index < 20}<li data-sku="${pageConfig["SKUS_HOOK"+id].push(item.sku_id)}" data-charge="${item.exposal_url}" onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "8", "1", "${item.sku_id}", "2", "${Number(item_index)+1}", "${params.abTestFlag}")\'>      <a class="p-img" target="_blank" href="${item.click_url}" title="${item.ad_title}">          <img width="100" height="100" data-img="1" src="//img12.360buyimg.com/n4/${item.image_url}" class="err-product">      </a>      <a class="p-name" target="_blank" href="${item.click_url}" title="${item.ad_title}">          <em>${item.ad_title}</em>      </a>      <div class="p-price">           <span>\u7279\u4ef7\uff1a</span><strong><em>\xa5</em><em class="number J-prom-p-${item.sku_id}"></em></strong>      </div>      <div class="p-btnbox">      <a class="btn btn-default" target="_blank" href="//gate.jd.com/InitCart.aspx?pid=${item.sku_id}&pcount=1&ptype=1">\u7acb\u5373\u62a2\u8d2d</a>      </div></li>{/if}{/for}</ul>';case"47":return b='                <ul data=type="47" class="clearfix">                {for item in data}                {if item_index < 20}                <li data-sku="${pageConfig["SKUS_HOOK"+id].push(item.sku_id)}" data-charge="${item.exposal_url}" onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "8", "2", "${item.sku_id}", "2", "${Number(item_index)+1}", "${params.abTestFlag}")\'>                  <div class="p-img">                      <a target="_blank" href="${item.click_url}" title="${item.ad_title}">                          <img width="190" height="190" data-img="1" src="//img13.360buyimg.com/cms/s190x190_${item.image_url}" class="err-product">                      </a>                  </div>                  <div class="p-name">                      <a target="_blank" href="${item.click_url}" title="${item.ad_title}">                          <em>${item.ad_title}</em>                      </a>                  </div>                  <div class="p-price">                      <strong class="price"><em>\xa5</em><span class="J-prom-p-${item.sku_id}"></span></strong>                      <span class="p-ico J-pt-${item.sku_id}"></span>                      {if item.ad_send_type=="1"}<i class="goods-icons goods-icons-s7" title="\u8d27\u5230\u4ed8\u6b3e">\u8d27\u5230\u4ed8\u6b3e</i>{/if}                  </div>                  <div class="p-review">                      <a href="//item.jd.com/${item.sku_id}.html#comment" target="_blank" class="number">${item.good_comments}</a>\u4eba\u597d\u8bc4                  </div>                </li>                {/if}                {/for}                </ul>';case"48":return b='                <ul data-type="48" class="goods-chosen-list clearfix">                {for item in data}                {if item_index < 20}                <li data-sku="${pageConfig["SKUS_HOOK"+id].push(item.sku_id)}" data-charge="${item.exposal_url}" onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "8", "8", "${item.sku_id}", "2", "${Number(item_index)+1}", "${params.abTestFlag}")\'>                  <div class="p-img">                      <a target="_blank" href="${item.click_url}" title="${item.ad_title}">                          <img width="190" height="190" data-img="1" src="//img13.360buyimg.com/cms/s190x190_${item.image_url}" class="err-product">                      </a>                  </div>                  <div class="p-name">                      <a target="_blank" href="${item.click_url}" title="${item.ad_title}">                          <em>${item.ad_title}</em>                      </a>                  </div>                  <div class="p-price">                      <strong class="price"><em>\xa5</em><span class="J-prom-p-${item.sku_id}"></span></strong>                      <span class="p-ico J-pt-${item.sku_id}"></span>                      {if item.ad_send_type=="1"}<i class="goods-icons goods-icons-s7" title="\u8d27\u5230\u4ed8\u6b3e">\u8d27\u5230\u4ed8\u6b3e</i>{/if}                  </div>                  <div class="p-review">                      <a href="//item.jd.com/${item.sku_id}.html#comment" target="_blank" class="number">${item.good_comments}</a>\u4eba\u597d\u8bc4                  </div>                </li>                {/if}                {/for}                </ul>';default:return"not found"}},e.prototype.newImage=function(a,b,c){var d=new Image;a=b?a+"&random="+Math.random()+new Date:a,d.setAttribute("src",a),d.onload=function(){"undefined"!=typeof c&&c(a)}},e.prototype.setClick=function(a){var b=this;$(a).find(".mc").find("li").bind("click",function(){b.newImage($(this).attr("data-charge"),!1)})},pageConfig.getSearchID=function(a){return"2"==a?"82":"6"==a?"81":void 0},b.exports=e});/* product-list/1.0.7 dsp.js Date:2018-12-25 18:07:43 */
define("//misc.360buyimg.com/product/list/1.0.7/js/dsp.js",["//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath","//misc.360buyimg.com/product/list/1.0.7/js/tools"],function(require,a,b){require("//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath");var d=require("//misc.360buyimg.com/product/list/1.0.7/js/tools");function e(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"}var f=function(a){if(this.url=a.url||"//x.jd.com/ShowInterface",this.ids=a.ids,this.adType=a.adType||7,this.sType=a.sType||1,this.vType=a.vType||1,this.newList=a.newList||1,this.urlcid3=a.urlcid3||"",this.param=a.param||{},this.callback=a.callback||function(){},this.selector=a.selector||"#J_promGoodsWrap_{aid}",this.currentAid,this.count=1,!this.ids)throw new Error("No ad_ids.");this.init()};f.prototype={init:function(){this.get()},get:function(){var a=this;var b=$.extend({ad_ids:this.ids.join(","),ad_type:this.adType,spread_type:this.sType,cai_type:this.vType,cid:"",new_list:this.newList},this.param);if(window.SEARCH&&window.SEARCH.adv_param){var c=window.SEARCH.adv_param;var d=[];for(var e in c)c.hasOwnProperty(e)&&String(c[e]).length>0&&("cid1"===e||"cid2"===e||"cid3"===e?d.push(c[e]):b[e]=c[e]);if(c.multicid3&&(delete b.multicid2,3==d.length&&(d[2]=b.multicid3.split(",")[0])),3==d.length&&(b.cid=d.join("-")),!b.multicid3&&!b.multicid2&&!b.cid)return}$.ajax({url:this.url,data:b,cache:!0,dataType:"jsonp",success:function(b){b&&a.handleData(b)}})},handleData:function(a){for(var b in a)a.hasOwnProperty(b)&&this.set(a,b)},set:function(a,b){this.currentAid=Number(b),this.$el=$(this.selector.replace("{aid}",b)),pageConfig["SKUS_dsp_"+b]=[],pageConfig["SKUS_dsp_log"+b]=[];var c=e("Array",a[this.currentAid])&&a[this.currentAid].length>0;var f=this.getTemplate(this.currentAid);var g={aid:this.currentAid,data:a[this.currentAid]};if(c){try{this.$el.html(f.process(g))}catch(h){console.log("[Aid: "+b+"] render error."+h)}this.$el.show()}d.priceNum({skus:pageConfig["SKUS_dsp_"+b],$el:this.$el}),d.promTag({skus:pageConfig["SKUS_dsp_"+b]}),d.getCommentSensitiveData({skus:pageConfig["SKUS_dsp_"+b],$el:this.$el}),this.dspLog(),this.log(),this.setLog(pageConfig["SKUS_dsp_log"+b]),this.callback.apply(this,[b,c])},setLog:function(a){for(var b=0;b<a.length;b++)a[b]&&this.newImage(a[b])},log:function(){log("search","list",location.href,pageConfig.queryParam.c3,"8","1",pageConfig["SKUS_dsp_"+this.currentAid].join("_"),params.abTestFlag,-1)},newImage:function(a){var b=new Image;b.setAttribute("src",a),b=null},dspLog:function(){this.$el.delegate("[data-charge]","click",function(){var a=$(this).attr("data-charge");var b=new Image;b.setAttribute("src",a)})},getTemplate:function(a){var b="";return pageConfig.pushToArray=function(a,b){return"undefined"!=typeof a&&a&&b.push(a),a},743==a&&(b='                {for item in data}                {var itemUrl = item.click_url||"//item.jd.com/"+item.sku_id+".html"}                <a  target="_blank" href="${itemUrl}"                     data-sku="${pageConfig.pushToArray(item.sku_id, pageConfig["SKUS_dsp_"+aid])}${pageConfig.pushToArray(item.exposal_url, pageConfig["SKUS_dsp_log"+aid])}"                     onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "9", "4", "${params.abTestFlag}", -1)\'>                    <img width="${item.width}" src="//img30.360buyimg.com/pop/${item.image_url}">                </a>                {/for}'),(650==a||742==a)&&(b='                <div class="mt"> <h3>\u63a8\u5e7f\u5546\u54c1</h3> </div>                <div class="mc">                    <ul data=type="${aid}" class="clearfix">                    {for item in data}                    {var itemUrl = item.click_url||"//item.jd.com/"+item.sku_id+".html"}                    {if item_index < 20}                    <li data-sku="${pageConfig.pushToArray(item.sku_id, pageConfig["SKUS_dsp_"+aid])}${pageConfig.pushToArray(item.exposal_url, pageConfig["SKUS_dsp_log"+aid])}" onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "8", "2", "${item.sku_id}", "2", "${Number(item_index)+1}", "${params.abTestFlag}")\'>                      <div class="p-img">                          <a target="_blank" href="${itemUrl}" title="${item.ad_title}">                              <img width="190" height="190" data-img="1" src="//img13.360buyimg.com/cms/s190x190_${item.image_url}" class="err-product">                          </a>                      </div>                      <div class="p-name">                          <a target="_blank" href="${itemUrl}" title="${item.ad_title}">                              {if item.worldwide=="2"}                              <i title="\u6d77\u56e4\u5168\u7403" class="goods-icons-s6">\u6d77\u56e4\u5168\u7403</i>                               {/if}                              <em>${item.ad_title}</em>                          </a>                      </div>                      <div class="p-price">                          <strong class="price"><span class="J-p-${item.sku_id}"></span></strong>                          <span class="p-ico J-pt-${item.sku_id}"></span>                          {if item.ad_send_type=="1"}<i class="goods-icons goods-icons-s7" title="\u8d27\u5230\u4ed8\u6b3e">\u8d27\u5230\u4ed8\u6b3e</i>{/if}                      </div>                      <div class="p-review">                          {if item.good_comments!=""}                          <a href="//item.jd.com/${item.sku_id}.html#comment" target="_blank" class="number p-comm-ss-${item.sku_id}"></a>\u4eba\u597d\u8bc4                          {/if}                      </div>                    </li>                    {/if}                    {/for}                    </ul>                </div>'),47===a&&(b='                <span class="u-ad"></span>                <div class="mt"> <h3>\u5546\u54c1\u7cbe\u9009</h3> </div>                <div class="mc">                    <ul data=type="${aid}" class="clearfix">                    {for item in data}                    {var itemUrl = item.click_url||"//item.jd.com/"+item.sku_id+".html"}                    {if item_index < 20}                    <li data-sku="${pageConfig["SKUS_dsp_"+aid].push(item.sku_id)}${pageConfig["SKUS_dsp_log"+aid].push(item.exposal_url)}" onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "8", "2", "${item.sku_id}", "2", "${Number(item_index)+1}", "${params.abTestFlag}")\'>                      <div class="p-img">                          <a target="_blank" href="${itemUrl}" title="${item.ad_title}">                              <img width="190" height="190" data-img="1" src="//img13.360buyimg.com/cms/s190x190_${item.image_url}" class="err-product">                          </a>                      </div>                      <div class="p-name">                          <a target="_blank" href="${itemUrl}" title="${item.ad_title}">                              {if item.worldwide=="2"}                              <span class="p-tag" style="background:#FF3E68">\u6d77\u56e4\u5168\u7403</span>                              {/if}                              <em>${item.ad_title}</em>                          </a>                      </div>                      <div class="p-price">                          <strong class="price"><span class="J-p-${item.sku_id}"></span></strong>                          <span class="p-ico J-pt-${item.sku_id}"></span>                          {if item.ad_send_type=="1"}<i class="goods-icons goods-icons-s7" title="\u8d27\u5230\u4ed8\u6b3e">\u8d27\u5230\u4ed8\u6b3e</i>{/if}                      </div>                      <div class="p-review">                          {if item.good_comments!=""}                          \u5df2\u6709<a href="//item.jd.com/${item.sku_id}.html#comment" target="_blank" class="number p-comm-ss-${item.sku_id}"></a>\u4eba\u8bc4\u4ef7                          {/if}                      </div>                    </li>                    {/if}                    {/for}                    </ul>                </div>'),(48===a||743===a)&&(b='                <div class="mt"><strong class="mt-title">\u5546\u54c1\u7cbe\u9009</strong></div>                <div class="mc">                    <ul data-type="${aid}" class="goods-chosen-list clearfix">                    {for item in data}                    {var itemUrl = item.click_url||"//item.jd.com/"+item.sku_id+".html"}                    {if item_index < 20}                    <li data-sku="${pageConfig["SKUS_dsp_" + aid].push(item.sku_id)}${pageConfig.pushToArray(item.exposal_url, pageConfig["SKUS_dsp_log" + aid])}"                         onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "8", "8", "${item.sku_id}", "2", "${Number(item_index)+1}", "${params.abTestFlag}", -1)\'>                      <div class="p-item">                        <div class="p-img">                            <a target="_blank" href="${itemUrl}" title="${item.ad_title}">                                <img width="190" height="190" data-img="1" src="//img13.360buyimg.com/cms/s190x190_${item.image_url}" class="err-product">                            </a>                        </div>                        <div class="p-name">                            <a target="_blank" href="${itemUrl}" title="${item.ad_title}">                                {if item.worldwide=="2"}                                <span class="p-tag" style="background:#FF3E68">\u6d77\u56e4\u5168\u7403</span>                                {/if}                                <em>${item.ad_title}</em>                            </a>                        </div>                        <div class="p-price">                            <strong class="price"><span class="J-p-${item.sku_id}"></span></strong>                            <span class="p-ico J-pt-${item.sku_id}"></span>                            {if item.ad_send_type=="1"}<i class="goods-icons goods-icons-s7" title="\u8d27\u5230\u4ed8\u6b3e">\u8d27\u5230\u4ed8\u6b3e</i>{/if}                        </div>                        <div class="p-review">                            {if item.good_comments!=""}                            <a href="//item.jd.com/${item.sku_id}.html#comment" target="_blank" class="number p-comm-ss-${item.sku_id}"></a>\u4eba\u597d\u8bc4                            {/if}                        </div>                        {if item.exposal_url}                          {if item.exposal_url !=""}                          <span class="u-ad2"></span>                          {/if}                        {/if}                      </div>                    </li>                    {/if}                    {/for}                    </ul>                </div>'),46===a&&(b='                <div class="hd">\u70ed\u5356\u63a8\u8350</div>                <div class="bd mc">                    <ul data-type="${aid}" class="mc list-h clearfix">                    {for item in data}                    {var itemUrl = item.click_url||"//item.jd.com/"+item.sku_id+".html"}                    {if item_index < 20}                    <li data-sku="${pageConfig["SKUS_dsp_" + aid].push(item.sku_id)}${pageConfig.pushToArray(item.exposal_url, pageConfig["SKUS_dsp_log" + aid])}" onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "8", "1", "${item.sku_id}", "2", "${Number(item_index)+1}", "${params.abTestFlag}", -1)\'>                          <a class="p-img" target="_blank" href="${itemUrl}" title="${item.ad_title}">                              <img width="100" height="100" data-img="1" src="//img12.360buyimg.com/n4/${item.image_url}" class="err-product">                          </a>                          <a class="p-name" target="_blank" href="${itemUrl}" title="${item.ad_title}">                              <em>${item.ad_title}</em>                          </a>                          <div class="p-price">                               <strong><em class="number J-p-${item.sku_id}"></em></strong>                          </div>                          <div class="p-btnbox">                              <a class="btn btn-default" target="_blank" href="//cart.jd.com/gate.action?pid=${item.sku_id}&pcount=1&ptype=1">\u7acb\u5373\u62a2\u8d2d</a>                          </div>                    </li>                    {/if}                    {/for}                    </ul>                </div>'),547===a&&(b='                {for item in data}                    <div class="ab-pic"                         data-sku="${pageConfig.pushToArray(item.sku_id, pageConfig["SKUS_dsp_"+aid])}${pageConfig.pushToArray(item.exposal_url, pageConfig["SKUS_dsp_log" + aid])}"                         onclick=\'log("search", "list", "${encodeURI(location.href)}", "${pageConfig.queryParam.c3}", "9", "${Number(item_index)+1}", "${params.abTestFlag}", -1)\'>                        <a target="_blank" href="${item.click_url}">                           <img width="${item.width}" src="//img12.360buyimg.com/n7/${item.image_url}">                        </a>                    </div>                {/for}'),b}},b.exports=f});/* product-list/1.0.7 carButler.js Date:2017-08-22 16:40:01 */
define("//misc.360buyimg.com/product/list/1.0.7/widget/carButler/carButler.js",["//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath","//misc.360buyimg.com/jdf/1.0.0/unit/login/1.0.0/login","//misc.360buyimg.com/jdf/1.0.0/ui/tips/1.0.0/tips"],function(require,a,b){require("//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath");var d=require("//misc.360buyimg.com/jdf/1.0.0/unit/login/1.0.0/login");require("//misc.360buyimg.com/jdf/1.0.0/ui/tips/1.0.0/tips");var g=!1;var h={};var i={brand:'//cargw.jd.com/mClient?functionId=carModelSoa&body={"queryType":"3"}&sid=eba40303cb10647148dad97bb5fe2c28&clientVersion=1.6.0',series:'//cargw.jd.com/mClient?functionId=carModelSoa&body={"queryType":"4","brand":"{brandId}"}&sid=eba40303cb10647148dad97bb5fe2c28&clientVersion=1.6.0',year:'//cargw.jd.com/mClient?functionId=carModelSoa&body={"series":"{seriesId}","queryType":"5"}&sid=eba40303cb10647148dad97bb5fe2c28&clientVersion=1.6.0',model:'//cargw.jd.com/mClient?functionId=carModelSoa&body={"seriesyear":"{seriesyearId}","queryType":"6"}&sid=eba40303cb10647148dad97bb5fe2c28&clientVersion=1.6.0',savedCars:"//cargw.jd.com/pcClient"};var j=window.location.href.replace(/#[^#]*$/,"").replace(/[&?]modelId=(\d)+/g,"").replace(/[&?]page=(\d)+/g,"");var k=window.params.thirdCatName;var l=null;var m=window.location.href.match(/modelId=(\d+)/);m&&(l=m[1]);var n='{for brand in brandList}<li class="hide" data-initial="${brand.initial}" data-id="${brand.brandId}"> <img src="${pageConfig.FN_GetImageDomain(brand_index)}n1/s48x48_${brand.logoUrl}"> <a href="javascript:void(0)">${brand.brandName}</a></li>{/for}{for brand in hotBrands}<li class="J-hot" data-id="${brand.brandId}"> <img src="${pageConfig.FN_GetImageDomain(brand_index)}n1/s48x48_${brand.logoUrl}"> <a href="javascript:void(0)">${brand.brandName}</a></li>{/for}';var o='{for seriesList in data}<div class="menu-brand-title"><i></i>${seriesList.corpName}</div><ul class="menu-drop-list">   {for series in seriesList.seriesList}   <li data-id="${series.seriesId}"><a href="javascript:void(0)">${series.seriesName}</a></li>   {/for}</ul>{/for}';var p='{for series in data}<li data-id="${series.seriesYearId}"> <a href="javascript:void(0)">${series.seriesYear}</a></li>{/for}';var q='{for model in data}<li data-id="${model.modelId}"> <a href="javascript:void(0)">${model.modelName}</a></li>{/for}';var r='<div class="car-filter-bd J-car-filter">    <p class="menu-tips">${data.tipsText}</p>    <div class="selected-info {if data.isLogin || !data.currentModelId} hide{/if}"><span>\u5f53\u524d\u7b5b\u9009\u7ed3\u679c\u4e3a\u7b26\u5408\u60a8\u5df2\u9009\u8f66\u578b\u7684 ${data.cateName}</span>         <a data-module-id="7" href="javascript:void(0)" class="reselect J-log">\u91cd\u65b0\u9009\u62e9\u8f66\u578b</a>         <div class="car-butler-index">            <a data-module-id="8" target="_blank" href="//iche.jd.com/" class="J-log link">\u8fdb\u5165\u8f66\u7ba1\u5bb6\u9996\u9875&gt;</a>        </div>    </div>    <div class="filter-container {if !data.isLogin && data.currentModelId} hide{/if}">        <div class="menu-drop car-filter-item1">            <div class="trigger">                <span class="curr">\u54c1\u724c</span><i class="menu-drop-arrow"></i>            </div>            <div class="menu-drop-main">                <ul class="menu-drop-letter-list">                    <li class="fore0 curr"><a href="">\u70ed\u95e8</a></li>                                   <li class="fore1"><a href="">A</a></li>                    <li class="fore2"><a href="">B</a></li>                    <li class="fore3"><a href="">C</a></li>                    <li class="fore4"><a href="">D</a></li>                    <li class="fore5"><a href="">E</a></li>                    <li class="fore6"><a href="">F</a></li>                    <li class="fore7"><a href="">G</a></li>                    <li class="fore8"><a href="">H</a></li>                    <li class="fore9"><a href="">I</a></li>                    <li class="fore10"><a href="">J</a></li>                    <li class="fore11"><a href="">K</a></li>                    <li class="fore12"><a href="">L</a></li>                    <li class="fore13"><a href="">M</a></li>                    <li class="fore14"><a href="">N</a></li>                    <li class="fore15"><a href="">O</a></li>                    <li class="fore16"><a href="">P</a></li>                    <li class="fore17"><a href="">Q</a></li>                    <li class="fore18"><a href="">R</a></li>                    <li class="fore19"><a href="">S</a></li>                    <li class="fore20"><a href="">T</a></li>                    <li class="fore21"><a href="">U</a></li>                    <li class="fore22"><a href="">V</a></li>                    <li class="fore23"><a href="">W</a></li>                    <li class="fore24"><a href="">X</a></li>                    <li class="fore25"><a href="">Y</a></li>                    <li class="fore26"><a href="">Z</a></li>                </ul>                <ul class="menu-drop-list">                </ul>               </div>                                      </div>        <div class="menu-drop car-filter-item2">            <div class="trigger">                <span class="curr">\u8f66\u7cfb</span><i class="menu-drop-arrow"></i>            </div>            <div class="menu-drop-main">                <div class="menu-drop-hint">\u8bf7\u5148\u9009\u62e9\u54c1\u724c</div>                <div class="menu-drop-list-container">                                 </div>            </div>                          </div>        <div class="menu-drop car-filter-item3">            <div class="trigger">                <span class="curr">\u5e74\u6b3e</span><i data-tips="\u201c\u5e74\u6b3e\u201d\u4e0e\u201c\u751f\u4ea7\u5e74\u4efd\u201d\u201c\u4e0a\u8def\u5e74\u4efd\u201d\u672a\u5fc5\u76f8\u540c\uff0c\u9009\u9519\u5e74\u6b3e\u4f1a\u5bfc\u81f4\u914d\u4ef6\u51fa\u9519\u65e0\u6cd5\u5b89\u88c5" class="menu-drop-tips"></i><i class="menu-drop-arrow"></i>            </div>            <div class="menu-drop-main">                <div class="menu-drop-hint">\u8bf7\u5148\u9009\u62e9\u54c1\u724c\u548c\u8f66\u7cfb</div>                <ul class="menu-drop-list">                </ul>                              </div>                          </div>        <div class="menu-drop car-filter-item4">            <div class="trigger">                <span class="curr">\u8f66\u578b</span><i class="menu-drop-arrow"></i>            </div>            <div class="menu-drop-main">                <div class="menu-drop-hint">\u8bf7\u5148\u9009\u62e9\u54c1\u724c\uff0c\u8f66\u7cfb\u548c\u5e74\u6b3e</div>                <ul class="menu-drop-list">                </ul>                              </div>                          </div>        <a data-module-id="1" href="" class="J-log btn btn-default car-filter-btn">${data.btnText}</a>        <div class="car-butler-index">            <a data-module-id="8" target="_blank" href="//iche.jd.com" class="J-log link">\u8fdb\u5165\u8f66\u7ba1\u5bb6\u9996\u9875&gt;</a>        </div>          </div></div>';var s='<div class="car-filter-bd">    <p class="menu-tips">\u9009\u62e9\u6211\u7684\u7231\u8f66\uff0c\u67e5\u770b\u5339\u914d${cateName}</p>    <div class="my-car-container">        {for car in savedCars}        {if Number(car_index) < 4}        <a data-id="${car.id}" data-module-id="${Number(car_index) + 2}" data-model-id="${car.modelId}" href="{if car.modelId == currentModelId}${pageUrl}{else}${pageUrl}&modelId=${car.modelId}{/if}" class="J-log my-car">            <img class="car-icon" src="//img10.360buyimg.com/n1/s48x48_${car.logoUrl}"><div class="car-info">                <p class="car-name">${car.brandName} ${car.seriesName}</p>                <p class="car-model">${car.seriesYear}\u6b3e${car.modelName}</p>            </div>            <i class="delete"></i>            <div class="operation">                <span class="confirm">\u786e\u8ba4\u5220\u9664</span><span class="cancel">\u53d6\u6d88</span>            </div>        </a>        {/if}        {/for}        <div data-module-id="6" class="J-log add-new-car {if savedCars.length >= 4} hide {/if}">            <i></i>\u6dfb\u52a0\u65b0\u8f66\u578b        </div>        <div class="car-accessory-market">            <a data-module-id="9" target="_blank" href="//iche.jd.com/market.html?fore=0&referer=2&cid3='+window.pageConfig.queryParam.c3+'{if currentModelId}&modelId=${currentModelId}{/if}" class="J-log link">\u8fdb\u5165\u914d\u4ef6\u8d85\u5e02&gt;</a>        </div>          </div></div>';function t(){var a=this;a.$el=$("#iscgj"),d.isLogin(function(b){g=b,g?u(function(b){var c=r.process({data:{tipsText:"\u9009\u62e9\u8f66\u578b\uff0c\u67e5\u627e\u914d\u4ef6\u4e0d\u8d39\u4e8b",btnText:"\u6dfb\u52a0\u7231\u8f66\u5e76\u67e5\u627e"+k,cateName:k,currentModelId:l,isLogin:g}});c+=s.process({savedCars:b,cateName:k,pageUrl:j,currentModelId:l});var d=$(c);b.length>0?d.first().hide():d.last().hide(),a.init(d)}):a.init(r.process({data:{tipsText:"\u9009\u62e9\u8f66\u578b\uff0c\u67e5\u627e\u914d\u4ef6\u4e0d\u8d39\u4e8b",btnText:"\u67e5\u627e"+k,cateName:k,currentModelId:l,isLogin:g}}))})}$.extend(t.prototype,{init:function(a){var b='<div class="car-filter-hd"><strong>\u8f66\u7ba1\u5bb6</strong></div>';this.$el.empty().append(b).append(a),this.bindEvent(),this.loadBrandList(),this.carModelId=null,this.$el.find(".my-car").each(function(){var a=$(this);a.data("modelId")==l&&a.addClass("curr")})},loadBrandList:function(){var a=this;a._get(i.brand,function(b){var c=[];var d=[];$.each(b.data,function(a,b){"HotBrand"==a?d=b:c=c.concat(b||[])}),a.$carBrand.find(".menu-drop-list").html(n.process({brandList:c,hotBrands:d}))})},loadSeriesList:function(){var a=this;h.brand&&a._get(i.series.replace("{brandId}",h.brand),function(b){a.$carSeries.find(".menu-drop-list-container").html(o.process({data:b.data})),a.$carSeries.addClass("z-menu-drop-open").find(".menu-drop-main").removeClass("z-menu-drop-hint")})},loadYearList:function(){var a=this;h.series&&a._get(i.year.replace("{seriesId}",h.series),function(b){a.$carYear.find(".menu-drop-list").html(p.process({data:b.data})),a.$carYear.addClass("z-menu-drop-open").find(".menu-drop-main").removeClass("z-menu-drop-hint")})},loadModelList:function(){var a=this;a._get(i.model.replace("{seriesyearId}",h.seriesYear),function(b){a.$carModel.find(".menu-drop-list").html(q.process({data:b.data})),a.$carModel.addClass("z-menu-drop-open").find(".menu-drop-main").removeClass("z-menu-drop-hint")})},bindEvent:function(){var a=this;a.$el.delegate(".J-log","click",function(){var a=$(this).data("moduleId");window.log&&window.log("search","list",window.location.href,window.params.thirdCatId,14,g?2:1,a,"A")}),a.$el.delegate(".reselect","click",function(){window.location.href=j}),a.$el.find(".car-filter-item3").tips({trigger:".menu-drop-tips",tipsClass:"ui-tips-skin3",hasClose:!1,width:188,align:["top","right"],mouseleaveDelayTime:150,callback:function(a,b){b.css("left","+=30").css("zIndex",16e3)}}),a.$el.delegate(".menu-drop","mouseenter",function(){$(this).addClass("z-menu-drop-open").siblings().removeClass("z-menu-drop-open")}),a.$el.delegate(".menu-drop","mouseleave",function(){$(this).removeClass("z-menu-drop-open")}),a.$el.delegate(".my-car, .add-new-car","mouseenter",function(){$(this).addClass("hover")}),a.$el.delegate(".my-car, .add-new-car","mouseleave",function(){$(this).removeClass("hover")}),a.$el.delegate(".delete","click",function(a){a.preventDefault(),a.stopPropagation(),$(this).closest(".my-car").addClass("edit")}),a.$el.delegate(".cancel","click",function(a){a.preventDefault(),a.stopPropagation(),$(this).closest(".my-car").removeClass("edit")}),a.$el.delegate(".confirm","click",function(a){a.preventDefault(),a.stopPropagation();var b=$(this);var c=b.closest(".my-car").data("id");v(c,function(a){a&&(b.closest(".my-car").siblings(".add-new-car").removeClass("hide"),b.closest(".my-car").remove(),window.location.href=j)})}),a.$el.delegate(".add-new-car","click",function(a){a.preventDefault(),a.stopPropagation();var b=$(this);b.closest(".car-filter-bd").hide().siblings().show()}),a.$el.find(".car-filter-bd").length>1&&a.$el.delegate(".car-filter-btn","click",function(b){b.preventDefault(),b.stopPropagation(),w(a.carModelId,function(b,c){b?window.location.href=j+"&modelId="+a.carModelId:alert(c)})}),this.$carBrand=this.$el.find(".car-filter-item1"),this.$carSeries=this.$el.find(".car-filter-item2"),this.$carYear=this.$el.find(".car-filter-item3"),this.$carModel=this.$el.find(".car-filter-item4"),this.$searchButton=this.$el.find(".car-filter-btn");var b=this.$carBrand.find(".menu-drop-list");var c=this.$carBrand.find(".menu-drop-letter-list");var d=this.$carSeries.find(".menu-drop-list-container");var e=this.$carSeries.find(".trigger");var f=this.$carYear.find(".menu-drop-list");var i=this.$carYear.find(".trigger");var k=this.$carModel.find(".menu-drop-list");var l=this.$carModel.find(".trigger");var m;this.$searchButton.bind("click",function(b){return a.carModelId?void 0:(b.preventDefault(),!1)}),b.delegate("li","click",function(b){b.preventDefault();var c=$(this);c.hasClass("curr")||(a.$carBrand.removeClass("z-menu-drop-open"),c.parent().find(".curr").removeClass("curr"),c.addClass("curr"),a._setCurrentBrand($.trim(c.text()),c.data("id")),a._setCurrentSeries(),a.loadSeriesList())}),c.delegate("a","mouseenter",function(a){a.preventDefault();var c=$(this);var d=c.parent();var e=c.text();d.hasClass("curr")||(d.siblings().removeClass("curr").end().addClass("curr"),m=b.find("li"),d.hasClass("fore0")?m.hide().filter(".J-hot").show():m.each(function(){var a=$(this);a.data("initial")===e?a.show():a.hide()}))}),d.delegate("li","click",function(b){b.preventDefault();var c=$(this);c.hasClass("curr")||(c.siblings().removeClass("curr").end().addClass("curr"),a._setCurrentSeries(c.text(),c.data("id")),a._setCurrentYear(),a.loadYearList(),a.$carSeries.removeClass("z-menu-drop-open"))}),e.bind("mouseenter",function(){h.brand?d.parent().removeClass("z-menu-drop-hint"):d.parent().addClass("z-menu-drop-hint")}),f.delegate("li","click",function(b){b.preventDefault();var c=$(this);c.hasClass("curr")||(c.siblings().removeClass("curr").end().addClass("curr"),a._setCurrentYear(c.text(),c.data("id")),a._setCurrentModel(),a.loadModelList(),a.$carYear.removeClass("z-menu-drop-open"))}),i.bind("mouseenter",function(){h.series?f.parent().removeClass("z-menu-drop-hint"):f.parent().addClass("z-menu-drop-hint")}),k.delegate("li","click",function(b){b.preventDefault();var c=$(this);c.hasClass("curr")||(c.siblings().removeClass("curr").end().addClass("curr"),a._setCurrentModel(c.text()),a.carModelId=c.data("id"),a.updateLink(),a.$carModel.removeClass("z-menu-drop-open"))}),l.bind("mouseenter",function(){h.seriesYear?k.parent().removeClass("z-menu-drop-hint"):k.parent().addClass("z-menu-drop-hint")})},updateLink:function(){this.$searchButton.attr("href",j+"&modelId="+this.carModelId)},_get:function(a,b,c){$.isFunction(b)&&(c=b,b={}),$.ajax({url:a,data:b,dataType:"jsonp",success:function(a){(c||$.noop)(a)}})},_setCurrentBrand:function(a,b){h.brand=b,delete h.series,this.$carBrand.find(".trigger span").text(a||"\u54c1\u724c")},_setCurrentSeries:function(a,b){h.series=b,this.$carSeries.find(".trigger span").text(a||"\u8f66\u7cfb"),a||this._setCurrentYear()},_setCurrentYear:function(a,b){h.seriesYear=b,this.$carYear.find(".trigger span").text(a||"\u5e74\u6b3e"),a||this._setCurrentModel()},_setCurrentModel:function(a){this.$carModel.find(".trigger span").text(a||"\u8f66\u578b"),a||(this.carModelId=null)}});function u(a){$.ajax({url:i.savedCars,dataType:"jsonp",data:{functionId:"usercar",source:13,body:'{"queryType":"12"}'},success:function(b){a("0"==b.code?b.data:[])}})}function v(a,b){$.ajax({url:i.savedCars,dataType:"jsonp",data:{functionId:"usercar",source:13,body:'{"queryType":"10","id":"'+a+'"}'},success:function(a){"0"==a.code?b(!0):b()}})}function w(a,b){$.ajax({url:i.savedCars,dataType:"jsonp",data:{functionId:"usercar",source:13,body:'{"queryType":"9","car_model_id":"'+a+'"}'},success:function(a){"0"==a.code?b(!0):b(!1,a.result)}})}b.exports=t});/* product-m/1.0.0 p-contrast.js Date:2017-04-20 16:55:05 */
define("//misc.360buyimg.com/product/m/1.0.0/widget/p-contrast/p-contrast.js",["//misc.360buyimg.com/jdf/1.0.0/ui/switchable/1.0.0/switchable","//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath"],function(require,a,b){require("//misc.360buyimg.com/jdf/1.0.0/ui/switchable/1.0.0/switchable");require("//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath");var e=function(){var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");for(;c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}();var f={getPriceNum:function(a,b,c,d){a="string"==typeof a?[a]:a,b=b||$("body"),c=c||"J-p-";var e="";e=readCookie("ipLoc-djd")?"&area="+readCookie("ipLoc-djd").split(".")[0].replace(/-/g,"_"):"&area=1";var f=readCookie("__jda");var g=f&&f.indexOf(".")>-1?f.split(".")[1]:"";var h=decodeURIComponent(readCookie("pin"))||"";var i=readCookie("pdtk")||"";var j=window.pageConfig&&window.pageConfig.pSource?window.pageConfig.pSource:"pg_"+window.location.host;$.ajax({url:"//p.3.cn/prices/mgets?type=1&skuIds=J_"+a.join(",J_")+e+"&pduid="+g+"&pdpin="+h+"&pdbp=0&pdtk="+i+"&source="+j,dataType:"jsonp",success:function(a){if(!a&&!a.length)return!1;for(var e=0;e<a.length;e++){var f=a[e].id.replace("J_","");var g=parseFloat(a[e].p,10);b.find("."+c+f).html(g>0?"\uffe5"+a[e].p:"\u6682\u65e0\u62a5\u4ef7"),"function"==typeof d&&d(f,g,a)}}})},TPL:{contrast:'<div id="pop-compare" data-load="false" class="pop-compare'+(pageConfig.wideVersion&&pageConfig.compatible?"":" pop-compare-narrow")+'"><div class="pop-wrap"><p class="pop-compare-tips"></p><div class="pop-inner"><div class="diff-hd"><ul class="tab-btns clearfix"><li class="current ui-switchable-item"><a href="javascript:;">\u5bf9\u6bd4\u680f</a></li><li class="ui-switchable-item"><a href="javascript:;">\u6700\u8fd1\u6d4f\u89c8</a></li></ul><div class="operate"><a href="javascript:;" class="hide-me">\u9690\u85cf</a></div></div><div class="diff-bd tab-cons"><div class="tab-con ui-switchable-panel"><div id="diff-items" class="diff-items clearfix"><dl class="item-empty"><dt>1</dt><dd>\u60a8\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u6dfb\u52a0</dd></dl><dl class="item-empty"><dt>2</dt><dd>\u60a8\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u6dfb\u52a0</dd></dl><dl class="item-empty"><dt>3</dt><dd>\u60a8\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u6dfb\u52a0</dd></dl><dl class="item-empty"><dt>4</dt><dd>\u60a8\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u6dfb\u52a0</dd></dl></div><div class="diff-operate"><a target="_blank" id="goto-contrast" href="#none" class="btn-compare-b">\u5bf9\u6bd4</a><a class="del-items">\u6e05\u7a7a\u5bf9\u6bd4\u680f</a></div></div><div class="tab-con ui-switchable-panel tab-scroll" style="display:none;"><div class="scroll-item ui-switchable-panel-body clearfix"><span id="sc-prev" class="scroll-btn sb-prev">&lt;</span><span id="sc-next" class="scroll-btn sb-next">&gt;</span><div class="scroll-con clearfix"><ul id="scroll-con-inner" class="ui-switchable-panel-main"><p class="scroll-loading ac">\u8f7d\u5165\u4e2d...</p></ul></div></div></div></div></div></div></div>',item:'<dl class="hasItem" id="cmp_item_${sku}" fore="${ind}">  <dt>      <a target="_blank" href="//item.jd.com/${data[sku].skuId}.html"><img src="${pageConfig.FN_GetImageDomain(data[sku].skuId)}n5/${data[sku].imagePath}" width="50" height="50"></a>  </dt>  <dd>      <a target="_blank" class="diff-item-name" href="//item.jd.com/${data[sku].skuId}.html">${data[sku].name}</a>      <span class="p-price"><strong class="J-p-${data[sku].skuId}"></strong><a class="del-comp-item" skuid="${data[sku].skuId}">\u5220\u9664</a></span>  </dd></dl>',recentItem:'{for item in data}<li id="rec_item_${item.sku}" class="ui-switchable-panel" data-push="${pageConfig._contrast.push(item.sku)}"><div class="rec_item_wrap">  <div class="dt">      <a target="_blank" href="//item.jd.com/${item.sku}.html"><img src="${pageConfig.FN_GetImageDomain(item.sku)}n5/${item.img}" width="50" height="50"></a>  </div>  <div class="dd">      <a target="_blank" href="//item.jd.com/${item.sku}.html" class="diff-item-name">${item.t}</a>      <div class="btns clb">          <span class="p-price"><strong class="J-p-${item.sku}"></strong></span>          <a id="recent_${item.sku}" data-recent="true" data-sku="${item.sku}" skuid="${item.sku}" class="J_contrast btn-compare btn-compare-s"><span>\u5bf9\u6bd4</span></a>      </div>  </div></div></li>{/for}'},init:function(a,b,c){return this.cookieName=b||"_contrast",this.recentCharset=c||"utf-8",this.bindEvent("cmpBtn").btnStyle(null,"set"),"side"==readCookie(this.cookieName+"_status")&&$("#side-cmp").length<1?$("#sidepanel").prepend('<span id="side-cmp"><a class="compareHolder" href="javascript:;"><b></b>\u5bf9\u6bd4\u680f</a></span>'):readCookie(this.cookieName)&&this.showPopWin(null),this.bindEvent("showWin"),this.domain=pageConfig.FN_getDomain(),"1"==$("#J_goodsList").find("ul.gl-warp").attr("data-tpl")&&$("#backtop").prepend('<div class="b-item"><a class="b-i-contrast" href="#none">\u5546\u54c1\u5bf9\u6bd4</a></div>'),this},bindEvent:function(a){var d=($(".J_contrast"),$(".del-items"),this);return"cmpBtn"==a&&$("body").undelegate(".J_contrast","click").delegate(".J_contrast","click",function(a){a.preventDefault();var b=$(this).attr("data-sku"),c=readCookie(d.cookieName)||"",e=c.split(".").length;4>e?(d.showPopWin(b),"true"==$(this).attr("data-recent")&&d.switchTab(0)):d.hasCookie(b)?("true"==$(this).attr("data-recent")&&d.switchTab(0),d.showPopWin(b)):(d.showPopWin(null),d.setMessage("\u5bf9\u6bd4\u680f\u5df2\u6ee1\uff0c\u60a8\u53ef\u4ee5\u5220\u9664\u4e0d\u9700\u8981\u7684\u680f\u5185\u5546\u54c1\u518d\u7ee7\u7eed\u6dfb\u52a0\u54e6\uff01"))}),"delAll"==a&&$("body").undelegate(".del-items","click").delegate(".del-items","click",function(){d.delContrastItem(null,!0),$("#goto-contrast").attr("href","#none")}),"delHover"==a&&($(".hasItem").hover(function(){$(this).find(".del-comp-item").css("visibility","visible")},function(){$(this).find(".del-comp-item").css("visibility","hidden")}),$(".hasItem .del-comp-item").bind("click",function(){var a=$(this).attr("skuid");d.delContrastItem(a)}),$("#goto-contrast").click(function(){var a=readCookie(d.cookieName)||"",b=a.split(".");if(b.length<2)return d.setMessage("\u81f3\u5c11\u6709\u4e24\u4ef6\u5546\u54c1\u624d\u80fd\u5bf9\u6bd4\u54e6\uff01"),!1;var c=[0,0,0,0];for(var e=0;e<b.length;e++)c[e]=b[e];$("#goto-contrast").attr("href","//www.jd.com/compare/"+c.join("-")+".html")})),"hide"==a&&$("body").undelegate(".diff-hd .hide-me","click").delegate(".diff-hd .hide-me","click",function(){d.hidePopWin()}),"showWin"==a&&$("body").delegate(".b-i-contrast","click",function(){d.showPopWin(null,!0)}),this},switchTab:function(a){$(".diff-hd li").eq(a).trigger("click")},btnStyle:function(a,b){if(a)"set"==b&&($(".J_contrast").filter('[data-sku="'+a+'"]').addClass("selected"),$("#comp_"+a+",#recent_"+a).addClass("btn-compare-s-active"),$("#cmp_"+a).text("\u53d6\u6d88\u5bf9\u6bd4")),"del"==b&&($(".J_contrast").filter('[data-sku="'+a+'"]').removeClass("selected"),$("#comp_"+a+",#recent_"+a).removeClass("btn-compare-s-active"),$("#cmp_"+a).text("\u52a0\u5165\u5bf9\u6bd4"));else{var c=readCookie(this.cookieName)||"";if(c=c.split("."),c.length<5)for(var d=0;d<c.length;d++)"set"==b&&($(".J_contrast").filter('[data-sku="'+c[d]+'"]').addClass("selected"),$("#comp_"+c[d]+",#recent_"+c[d]).addClass("btn-compare-s-active"),$("#cmp_"+c[d]).text("\u53d6\u6d88\u5bf9\u6bd4")),"del"==b&&($(".J_contrast").filter('[data-sku="'+c[d]+'"]').removeClass("selected"),$("#comp_"+c[d]+",#recent_"+c[d]).removeClass("btn-compare-s-active"),$("#cmp_"+c[d]).text("\u52a0\u5165\u5bf9\u6bd4"))}return this},loadExistList:function(a){var b=readCookie(this.cookieName)||"";b=b.split(".");for(var c=0;c<b.length;c++)this.setContrastItem(b[c]),c+1==b.length?this.setContrastItem(b[c],a):this.setContrastItem(b[c])},showPopWin:function(a){var c=$("#pop-compare"),d=this;a=a||null,$("#pop-compare").length<1&&$("body").append(this.TPL.contrast),$("#diff-items .hasItem").length<1&&(readCookie(this.cookieName)?this.loadExistList(function(){d.hasCookie(a)?d.delContrastItem(a):d.setContrastItem(a)}):d.setContrastItem(a)),"false"==$("#pop-compare").attr("data-load")?($("#pop-compare").show(),c.attr("data-load","true"),$("#pop-compare").switchable({delay:0,navSelectedClass:"current",event:"click",callback:function(a){1==a&&$(".scroll-loading").length>0&&d.getRecent(function(a){d.setRecentScroll(),d.getPriceNum(a,$("#pop-compare"),null,function(){})})}}),6!==e&&$("#pop-compare").animate({bottom:0},100)):("side"==readCookie(d.cookieName+"_status")&&($("#pop-compare").show().attr("data-load","true"),6!==e&&$("#pop-compare").show().animate({bottom:0}),createCookie(d.cookieName+"_status","show",30,"/;domain="+this.domain)),d.hasCookie(a)?d.delContrastItem(a):d.setContrastItem(a)),d.bindEvent("delAll").bindEvent("hide")},hidePopWin:function(){var a=this;if($("#side-cmp").length<1&&$("#sidepanel").prepend('<span id="side-cmp"><a class="compareHolder" href="javascript:;"><b></b>\u5bf9\u6bd4\u680f</a></span>'),6==e)$("#pop-compare").hide();else{if($(".pop-wrap").is(":animated"))return!1;$("#pop-compare").css("overflow","hidden").find(".pop-wrap").animate({left:"990px"},100,function(){$("#pop-compare").removeAttr("style").css({overflow:"visible",bottom:"-200px"}).hide().find(".pop-wrap").removeAttr("style").css("left",0)})}a.bindEvent("showWin"),createCookie(a.cookieName+"_status","side",30,"/;domain="+this.domain)},setContrastItem:function(a,b){var c=$("#pop-compare"),d=readCookie(this.cookieName)||"",f=(d.split(".").length,this);if(f.hasCookie(a)&&"true"==c.attr("data-load"))f.delContrastItem(a);else{if(!a)return!1;$.ajax({url:"//d.jd.com/ware/history?ids="+a,dataType:"jsonp",success:function(d){var e=$("#diff-items dl").index($("#diff-items").find(".item-empty").eq(0));var g={data:d,sku:a,ind:e};($("#cmp_item_"+a).length<1||!f.hasCookie(a))&&(c.find(".item-empty").eq(0).replaceWith(f.TPL.item.process(g)),f.getPriceNum(a,$("#pop-compare"),null,function(){})),f.bindEvent("delHover").setCookie(a).btnStyle(a,"set"),createCookie(f.cookieName+"_status","show",30,"/;domain="+f.domain),"function"==typeof b&&b(),f.setContrastBtn("add"),$("#pop-compare").attr("data-load","true")}})}return this},setContrastBtn:function(a){var b=readCookie(this.cookieName)||"",c=b.split(".").length;"add"==a&&c>1&&$("#goto-contrast").addClass("compare-active"),"reduce"==a&&2>c&&$("#goto-contrast").removeClass("compare-active")},sortList:function(){var a=$("#diff-items"),b=[];a.find(".hasItem").each(function(){b.push($(this).clone())}),a.html("");for(var c=0;4>c;c++)$("#diff-items").append(c>b.length-1?'<dl class="item-empty"><dt>'+(c+1)+"</dt><dd>\u60a8\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u6dfb\u52a0</dd></dl>":b[c]);return this.bindEvent("delHover"),this},delContrastItem:function(a,b){if(b){$("#diff-items").html("");for(var c=1;5>c;c++)$("#diff-items").append('<dl class="item-empty"><dt>'+c+"</dt><dd>\u60a8\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u6dfb\u52a0</dd></dl>");this.btnStyle(null,"del"),$("#goto-contrast").removeClass("compare-active"),$(".btn-compare").removeClass("btn-compare-s-active"),$("#goto-contrast").unbind("click"),createCookie(this.cookieName,"",-1,"/;domain="+this.domain)}else $("#cmp_item_"+a).replaceWith('<dl class="item-empty"><dt>'+(parseInt($("#cmp_item_"+a).attr("fore"),10)+1)+"</dt><dd>\u60a8\u8fd8\u53ef\u4ee5\u7ee7\u7eed\u6dfb\u52a0</dd></dl>"),this.sortList().delCookie(a).btnStyle(a,"del"),this.setContrastBtn("reduce");return this},delCookie:function(a){if(this.hasCookie(a)&&null!==a){var b=readCookie(this.cookieName);var c=b.replace(new RegExp(a+".|."+a+"|"+a),"");createCookie(this.cookieName,c,0,"/;domain="+this.domain)}return this},setCookie:function(a){var b=readCookie(this.cookieName)||"";return skuArr=b.split("."),!this.hasCookie(a)&&skuArr.length<4&&(b?(skuArr.push(a),createCookie(this.cookieName,skuArr.join("."),1,"/;domain="+this.domain)):createCookie(this.cookieName,a,1,"/;domain="+this.domain)),this},hasCookie:function(a){return a?new RegExp(a).test(readCookie(this.cookieName)):void 0},setRecentScroll:function(){var a=this;$(".tab-scroll").switchable({type:"carousel",hasPage:!0,prevClass:"sb-prev",nextClass:"sb-next",autoPlay:!1,visible:4,step:4}),a.bindEvent("cmpBtn")},getRecent:function(a){var b=this;var c=readCookie("ipLoc-djd");$.ajax({url:"//diviner.jd.com/diviner",data:{p:202001,lid:c?c.split("-")[0]:1,ck:"pin,aview",lim:23,ec:this.recentCharset},dataType:"jsonp",success:function(c){$("#scroll-con-inner p").length>0&&$("#scroll-con-inner p").remove(),pageConfig._contrast=[],$("#scroll-con-inner").append(b.TPL.recentItem.process(c));var d=readCookie(b.cookieName);if(d){var e=d.split(".");var f=e.length;for(var g=0;f>g;g++)$("#rec_item_"+e[g]).length>0&&b.btnStyle(e[g],"set")}"function"==typeof a&&a(pageConfig._contrast)}})},setMessage:function(a){$(".pop-compare-tips").text(a).fadeIn(),setTimeout(function(){$(".pop-compare-tips").fadeOut()},8e3)}};b.exports=f});