/* jdf-1.0.0/ dropdown.js Date:2019-04-10 15:05:11 */
!function(a){a.ui.define("dropdown",{options:{hasCssLink:!1,baseVersion:"1.0.0",cssLinkVersion:"1.0.0",item:"ui-dropdown-item",trigger:!1,current:"ui-dropdown-hover",bodyClass:"ui-dropdown-bd",subBodyClass:"ui-dropdown-sub",topspeed:!1,boundary:10,enterDelay:0,leaveDelay:0,zIndex:1e3,align:"bottom",left:null,top:null,submenuLeft:0,submenuTop:0,onchange:null,onmouseleave:null},init:function(){this.mouseLocs=[],this.lastDelayLoc=null,this._create(),this.bind()},_create:function(){var a=this.options;this.item=a.trigger?this.el:this.el.find("."+a.item),this.body=this.el.find("."+a.bodyClass);var b=a.top;var c=a.left;"bottom"==a.align&&null==a.top&&(a.top=this.item.outerHeight()),"right"==a.align&&(a.top=0,null==a.left&&(a.left=this.item.outerWidth())),(null!=b||null!=c)&&this.body.css({position:"absolute",top:a.top,left:a.left,zIndex:a.zIndex}),this.el.find("."+a.subBodyClass).css({zIndex:a.zIndex+1}),this.bodyOuterWidth=this.body.outerWidth(),this.bodyBorderWidth=2*this.getStyle(this.body[0],"borderWidth")},bind:function(){var b=this;var c=this.options;var d=!1;var e,f;var g=3;var h=null;var i=null;var j=!1;this.el.bind("mouseenter",function(){clearTimeout(e)}),this.el.bind("mouseleave",function(){d&&(e=setTimeout(function(){b.removeClass()},c.leaveDelay)),c.onmouseleave&&c.onmouseleave(a(this)),h=null}),this.item.bind("mouseenter",function(){if(j)return!1;var e=a(this);var g=function(){j=!0,h=e.index(),b.removeClass(),e.addClass(c.current),d=!0,c.onchange&&c.onchange(e)};f=setTimeout(function(){0==b.topspeed(e)&&(g(),clearTimeout(i))},c.enterDelay),c.topspeed&&(i=setTimeout(function(){h!=e.index()&&g()},700))}),this.item.bind("mouseleave",function(){clearTimeout(f),clearTimeout(i),j=!1}),this.el.find("."+c.subBodyClass).bind("mouseenter",function(){var d=b.bodyOuterWidth-b.bodyBorderWidth+c.submenuLeft;var e=b.getStyle(a(this)[0],"paddingLeft");d=a.browser.isIE6()?d-e:d;var f=0+c.submenuTop;a(this).find("."+c.bodyClass).show().css({left:d,top:f})}).bind("mouseleave",function(){a(this).find("."+c.bodyClass).hide()}),c.topspeed&&a(document).mousemove(function(a){b.mouseLocs.push({x:a.pageX,y:a.pageY}),b.mouseLocs.length>g&&b.mouseLocs.shift()})},removeClass:function(){this.item.removeClass(this.options.current)},getStyle:function(a,b){if(a){var c=window.getComputedStyle?window.getComputedStyle(a,null)[b]:a.currentStyle[b];return c=parseInt(c),c||(c=0),c}},topspeed:function(){var a=this.options;if(!a.topspeed)return 0;var b=this.el;var c=b.offset(),d={x:c.left,y:c.top},e={x:c.left+b.outerWidth(),y:d.y},f={x:c.left,y:c.top+b.outerHeight()},g={x:c.left+b.outerWidth(),y:f.y};if(loc=this.mouseLocs[this.mouseLocs.length-1],prevLoc=this.mouseLocs[0],!loc)return 0;if(prevLoc||(prevLoc=loc),prevLoc.x<c.left||prevLoc.x>g.x||prevLoc.y<c.top||prevLoc.y>g.y)return 0;if(this.lastDelayLoc&&loc.x==this.lastDelayLoc.x&&loc.y==this.lastDelayLoc.y)return 0;function h(a,b){return(b.y-a.y)/(b.x-a.x)}var i=e,j=g;var k=h(loc,i),l=h(prevLoc,i),m=h(loc,j),n=h(prevLoc,j);return l>k&&m>n?prevLoc.x-d.x<a.boundary?0:(this.lastDelayLoc=loc,300):(this.lastDelayLoc=null,0)}})}(jQuery);
/* jdf-1.0.0/ areamini.js Date:2019-04-10 15:05:11 */
!function(a){var c=window;var e=[1,72,0,0];var f=e.join("-");var g=-1;var h={province:{"\u5317\u4eac":1,"\u4e0a\u6d77":2,"\u5929\u6d25":3,"\u91cd\u5e86":4,"\u6cb3\u5317":5,"\u5c71\u897f":6,"\u6cb3\u5357":7,"\u8fbd\u5b81":8,"\u5409\u6797":9,"\u9ed1\u9f99\u6c5f":10,"\u5185\u8499\u53e4":11,"\u6c5f\u82cf":12,"\u5c71\u4e1c":13,"\u5b89\u5fbd":14,"\u6d59\u6c5f":15,"\u798f\u5efa":16,"\u6e56\u5317":17,"\u6e56\u5357":18,"\u5e7f\u4e1c":19,"\u5e7f\u897f":20,"\u6c5f\u897f":21,"\u56db\u5ddd":22,"\u6d77\u5357":23,"\u8d35\u5dde":24,"\u4e91\u5357":25,"\u897f\u85cf":26,"\u9655\u897f":27,"\u7518\u8083":28,"\u9752\u6d77":29,"\u5b81\u590f":30,"\u65b0\u7586":31,"\u6e2f\u6fb3":52993,"\u53f0\u6e7e":32,"\u9493\u9c7c\u5c9b":84,"\u6d77\u5916":53283},city:{1:"1-72-2799",2:"2-2813-51976",3:"3-51035-39620",4:"4-113-9775",5:"5-142-143",6:"6-303-304",7:"7-412-415",8:"8-560-567",9:"9-639-640",10:"10-727-728",11:"11-799-801",12:"12-904-905",13:"13-2900-2908",14:"14-1151-1153",15:"15-1158-1224",16:"16-1303-1305",17:"17-1432-1435",18:"18-1482-1485",19:"19-1601-3633",20:"20-3168-3169",21:"21-1827-1828",22:"22-2103-2105",23:"23-3690-3693",24:"24-2144-2145",25:"25-4108-6823",26:"26-3970-3972",27:"27-2428-2429",28:"28-2525-2526",29:"29-2580-2581",30:"30-2628-2629",31:"31-4110-4122",52993:"52993-52994-52996",32:"32-2768-2769",84:"84-1310-0",53283:"53283-53309-0"},area:{},provinceList:null};h.province=function(){var b={};return a.each(h.province,function(a,c){b["_"+c]=a}),b}();var i=function(a,b,c){if("undefined"==typeof b){var i=null;if(document.cookie&&""!=document.cookie){var j=document.cookie.split(";");for(var k=0;k<j.length;k++){var l=jQuery.trim(j[k]).split("=");if(l[0]==a&&l.length>1){try{i=decodeURIComponent(l[1])}catch(m){i=l[1]}break}}}return i}c=c||{},null===b&&(b="",c.expires=-1);var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var e;"number"==typeof c.expires?(e=new Date,e.setTime(e.getTime()+24*c.expires*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"";var g=c.domain?"; domain="+c.domain:"";var h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")};function j(a){return(a||"").replace(/(^\s*)|(\s*$)/g,"")}function k(a){var b=arguments;if(b.length>1){for(var c=0,d=b.length;d>c;c++)if(k(b[c]))return!0;return!1}return"undefined"===String(a)||"null"===String(a)||("string"==typeof a?""===j(a):!1)}function l(a,b){var c={provinceId:0,provinceName:"",cityId:0,cityName:"",districtId:0,districtName:"",townId:0,townName:""};var d=a.split("-");0==d[0]&&(d=e);var f=n(d[0]).value;c.provinceId=f.id,c.provinceName=f.name,b(c)}function m(){var b=[];return h.provinceList&&h.provinceList.length>0?b=h.provinceList:(a.each(h.province,function(a,c){b.push({id:a.replace("_",""),name:c})}),h.provinceList=b),b}function n(a){var b={id:a,name:""};var c=0;var d=h.province["_"+a];return d||(d=h.province["_"+e[0]],c=1,b.id=e[0]),b.name=d,{value:b,isDefault:c}}function o(a,b){l(a.initArea||i(a.cookieMapping.allLocal)||a.defaultArea||f,b)}function p(a){return a&&[{id:a.provinceId,name:a.provinceName},{id:a.cityId,name:a.cityName},{id:a.districtId,name:a.districtName},{id:a.townId,name:a.townName}]||[]}function q(b,c,d){a.each(p(b),function(a,b){k(b.id)||0==b.id||(c.push(b.id),d.push(b.name))})}function r(b,c,d,e){var f="";if(c.name.length>=d.longerAreaSize?f="longer-area":c.name.length>=d.longAreaSize&&(f="long-area"),e&&d.className.selected||f){var g=a(b);e&&d.className.selected&&g.find("a:first").addClass(d.className.selected),f&&g.addClass(f),b=a("<div/>").html(g).html(),b=b.replace(/&lt;/g,"<").replace(/&gt;/g,">")}return c.tpl?a.tpl(c.tpl,c):a.tpl(b,c)}function s(b,c,d,e){var f=this;var g=f.options.provinceList;var h=[];var i=[];return i=g?g:m(),a.each(i,function(a,b){h.push(r(c,b,f.options,b.id==e.provinceId))}),a.tpl(b,{list:h.join(""),index:d})}function t(){var b=this;var c=b.el;var d=b.options;var e=d.className;a("."+e.content_content,c).undelegate("a[data-id]","click").delegate("a[data-id]","click",function(f){f.preventDefault();var g=a(this);var h={id:g.data("id"),name:g.html()};var i=y(c,h.id,0);d.className.selected&&a("."+e.content_content+" a."+d.className.selected,c).removeClass(d.className.selected),l(i,function(c){d.className.selected&&g.addClass(d.className.selected),d.selectedClose&&v.call(b,!1),A.call(b,c),d.writeCookie&&u(d,c.provinceId,i),a.isFunction(d.onChange)&&d.onChange.call(b,g,h,c)})}),a("."+e.content_content,c).undelegate("a[data-onchange=1]","click").delegate("a[data-onchange=1]","click",function(){var f=a(this);d.className.selected&&(a("."+e.content_content+" a."+d.className.selected,c).removeClass(d.className.selected),f.addClass(d.className.selected)),d.selectedClose&&v.call(b,!1),a.isFunction(d.onChange)&&d.onChange.call(b,f)})}function u(a,b,c){i(a.cookieMapping.areaId,b,a.cookieOpts),i(a.cookieMapping.allLocal,c,a.cookieOpts)}function v(a){var b=this;var c=b.options.className.hover;a?(g>-1&&(clearTimeout(g),g=-1),w.call(b),b.el.addClass(c),g=setTimeout(function(){b.el.addClass(c)},1)):(g>-1&&(clearTimeout(g),g=-1),b.el.removeClass(c))}function w(){var b=this;var d=b.el;var e=a(b.css.content);var f=a(b.css.text).width();var g=e.width();var h=a(c).width();var i=d.offset().left;var j=a(b.css.text).offset().left;if(e.data("left")?e.css("left",e.data("left")):e.data("left",e.css("left")),i+g>h){var k=g-f-10;k>j&&(k-=k-j+f-20),e.css({left:"-"+k+"px"})}else i<-1*parseInt(e.css("left"))&&e.css({left:"0px"})}function x(a){return a?[a.provinceId,a.cityId,a.districtId,a.townId]:[0,0,0,0]}function y(a,b){var d=a.data("select-local");return d=d&&d.split("-")||[0,0,0,0],"object"==typeof b?d=x(b):(d=h.city[b],d&&(d=(d+"-0").split("-"))),d=d.join("-"),a.data("select-local",d),d}function z(b,c){var d=this;var e=d.el;var f=d.options;var g=f.tplContentWrap;var h=f.tplContentItem;a(d.css.content_content).html(s.call(d,g,h,0,b)),-1==c&&y(e,b),t.call(d,f)}function A(b){var c=this;var d=[],e=[];q(b,e,d),e=e.join("-"),d=d.join(""),a(c.css.text_text).html(d).attr("data-id",e).attr("title",d)}function B(b,c){var d={};return a.each(c,function(e,f){var g=e.split("_");var h=[];var i=g.length;a.each(g,function(a,b){return h.push("."+c[b]),i>1&&2+a==i?(h.push("."+f),!1):void 0}),d[e]=b+" "+h.join(" ")}),d}a.ui.define("areamini",{options:{hasCssLink:!0,baseVersion:"1.0.0",cssLinkVersion:"1.0.0",initArea:null,defaultArea:null,provinceList:null,provinceExtend:!0,longAreaSize:4,longerAreaSize:12,cookieMapping:{areaId:"areaId",allLocal:"ipLoc-djd"},writeCookie:!0,cookieOpts:{expires:30,path:"/",domain:document.domain,secure:null},className:{hover:"ui-areamini-hover",text:"ui-areamini-text-wrap",text_text:"ui-areamini-text",content:"ui-areamini-content-wrap",close:"ui-areamini-close",content_tab:"ui-areamini-tab",content_content:"ui-areamini-content",content_content_list:"ui-areamini-content-list",selected:""},tplContentWrap:'<ul class="ui-areamini-content-list"><%=list%></ul>',tplContentItem:'<li><a data-id="<%=id%>" href="javascript:void(0)"><%=name%></a></li>',event:"hover",onReady:null,onChange:null,selectedClose:!0},css:{},init:function(){var b=this;var c=b.options;var d=b.el;c.scopeLevel=1,b.css=B("#"+d[0].id,c.className),c.provinceList&&c.provinceExtend&&(c.provinceList=a.extend(!0,[],m().concat(c.provinceList))),o(c,function(e){A.call(b,e),z.call(b,e,-1);var f="hover"==c.event?"mouseenter":"click";a(b.css.text).bind(f,function(){return v.call(b,!0),!1}),a(d).bind("mouseleave",function(){v.call(b,!1)}),a(b.css.close).bind("click",function(){v.call(b,!1)}),a.isFunction(c.onReady)&&c.onReady.call(b,e)})},hide:function(){var a=this;var b=a.options.className.hover;a.el.removeClass(b)},show:function(){var a=this;var b=a.options.className.hover;a.el.addClass(b)}})}(jQuery);
/* jdf-1.0.0/ getjsonp.js Date:2019-04-10 15:05:10 */
!function($){$.extend({_jsonp:{scripts:{},counter:1,charset:"gb2312",head:document.getElementsByTagName("head")[0],name:function(callback){var name="_jsonp_"+(new Date).getTime()+"_"+this.counter;this.counter++;var cb=function(json){eval("delete "+name),callback(json),$._jsonp.head.removeChild($._jsonp.scripts[name]),delete $._jsonp.scripts[name]};return eval(name+" = cb"),name},load:function(a,b,c,d){var e=document.createElement("script");e.type=c||"text/javascript",e.charset=d||this.charset,e.src=a,this.head.appendChild(e),this.scripts[b]=e}},getJSONP:function(a,b,c,d){var e=$._jsonp.name(b);var a=a.replace(/{callback};/,e);return $._jsonp.load(a,e,c,d),this}})}(jQuery);
/* jdf-1.0.0/ hotkey.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/hotkey/1.0.0/hotkey.js",[],function(){function c(){document.onkeyup=function(a){var b=document.activeElement.tagName.toLowerCase();if("input"!=b&&"textarea"!=b){var a=a?a:window.event,c=a.keyCode||a.which;switch(c){case 68:window.pageConfig.clientViewTop||(window.pageConfig.clientViewTop=0),window.pageConfig.clientViewTop+=document.documentElement.clientHeight,window.scrollTo(0,pageConfig.clientViewTop);break;case 83:window.scrollTo(0,0),window.pageConfig.clientViewTop=0,document.getElementById("key").focus();break;case 84:window.scrollTo(0,0),window.pageConfig.clientViewTop=0}}}}return c});
/* jdf-1.0.0/ globalReco.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/globalReco/1.0.0/globalReco.js",[],function(){var c=function(a){if(this.param=$.extend({lid:readCookie("ipLoc-djd")||"",lim:6,ec:"utf-8",uuid:-1,pin:readCookie("pin")||""},a.param),this.$el=a.$el,this.template=a.template,this.reBuildJSON=a.reBuildJSON,this.skuHooks=a.skuHooks||"SKUS_recommend",this.ext=a.ext||{},this.callback=a.callback||function(){},this.debug=a.debug,!this.param.p)throw new Error("The param [p] is not Specificed");this.init()};return c.prototype={init:function(){var a=readCookie("__jda");this.param.lid=this.param.lid.indexOf("-")>0?this.param.lid.split("-")[0]:"1",this.param.uuid=a?"-"==a.split(".")[1]?-1:a.split(".")[1]:-1,this.get(this.rid)},get:function(){var c=this;var d;var e=pageConfig.queryParam;var f=[];if(pageConfig.product)for(d=0;d<pageConfig.product.cat.length;d++)this.param["c"+(d+1)]=pageConfig.product.cat[d];if(e){for(var g in e)e.hasOwnProperty(g)&&("c1"==g||"c2"==g||"c3"==g?c.param[g]=e[g]:f.push(g+":"+e[g]));c.param.hi=f.join(",")}this.debug&&console.info("//diviner.jd.com/diviner?"+decodeURIComponent($.param(this.param))),$.ajax({url:"//diviner.jd.com/diviner?"+decodeURIComponent($.param(this.param)),dataType:"jsonp",scriptCharset:this.param.ec,cache:!0,jsonpCallback:"call"+parseInt(1e5*Math.random(),10),success:function(a){var b=!!(a.success&&a&&a.data&&a.data.length);b?c.set(a):c.$el.html('<div class="ac">\u300c\u6682\u65e0\u6570\u636e\u300d</div>'),this.debug&&console.log(a),c.callback.apply(c,[b,a])}})},set:function(a){pageConfig[this.skuHooks]=[],a.skuHooks=this.skuHooks,a.ext=this.ext,this.reBuildJSON&&this.reBuildJSON>0&&(a.data=tools.reBuildJSON(a.data,this.reBuildJSON)),this.debug&&alert(this.template.process(a));try{this.$el.show().html(this.template.process(a))}catch(b){/isdebug/.test(location.href)&&"undefined"!=typeof console&&console.error("[pid="+this.param.p+"] "+b)}this.setTrackCode(a.impr)},setTrackCode:function(a){var b=this.$el.find("li");var c=this;var d="&m=UA-J2011-1&ref="+encodeURIComponent(document.referrer);b.each(function(){var a=$(this).attr("data-clk");$(this).bind("click",function(b){var e=$(b.target);(e.is("a")||e.is("img")||e.is("span"))&&c.newImage(a+d,!0),e.is("input")&&1==e.attr("checked")&&c.newImage(a+d,!0)})}),this.newImage(a+d,!0)},newImage:function(a,b,c){var d=new Image;a=b?a+"&random="+Math.random()+new Date:a,d.onload=function(){"undefined"!=typeof c&&c(a)},d.setAttribute("src",a)}},c});
/* jdf-1.0.0/ cookie.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/cookie/1.0.0/cookie.js",[],function(){var c=function(a,b,c){if("undefined"==typeof b){var i=null;if(document.cookie&&""!=document.cookie){var j=document.cookie.split(";");for(var k=0;k<j.length;k++){var l=jQuery.trim(j[k]).split("=");if(l[0]==a&&l.length>1){try{i=decodeURIComponent(l[1])}catch(m){i=l[1]}break}}}return i}c=c||{},null===b&&(b="",c.expires=-1);var d="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var e;"number"==typeof c.expires?(e=new Date,e.setTime(e.getTime()+24*c.expires*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"";var g=c.domain?"; domain="+c.domain:"";var h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")};return c});
/* jdf-1.0.0/ search.js Date:2019-04-10 15:05:11 */
window.searchlog=window.searchlog||function(){var a="//sstat."+pageConfig.FN_getDomain()+"/scslog?args=";var b="{keyword}^#psort#^#page#^#cid#^"+encodeURIComponent(document.referrer);var c="2";var d="";var e="";var f=function(){var f="";var g="";var h="";var i="0";if(arguments.length>0)if(0==arguments[0])f=a+c+"^"+b+"^^^58^^"+e+"^"+d;else if(1==arguments[0]){f=10!=c?a+"1^"+b+"^":a+"11^"+b+"^";for(var j=1;j<arguments.length;j++)f+=encodeURI(arguments[j])+"^";arguments.length>3&&"51"==arguments[3]&&(g=arguments[1]),arguments.length>3&&"55"==arguments[3]&&(h=arguments[1]),arguments.length>3&&"56"==arguments[3]&&(i=arguments[1]);for(var j=0,k=5-arguments.length;k>j;j++)f+="^";f+=e+"^"+d}f=f.replace("#cid#",g),f=f.replace("#psort#",h),f=f.replace("#page#",i),$.getScript(f);try{JA.tracker.ngloader("search.000006",{url:window.location.href})}catch(l){}};return f}();function search(a,b){var c,d="//search.jd.com/Search?keyword={keyword}&enc={enc}{additional}";var e=search.additinal||"";if("string"==typeof b&&""!=b?e+="&spm=a.0.0":b=document.getElementById(a).value,b=b.replace(/^\s*(.*?)\s*$/,"$1"),b.length>100&&(b=b.substring(0,100)),""==b)return void(window.location.href=window.location.href);var f=0;"undefined"!=typeof window.pageConfig&&"undefined"!=typeof window.pageConfig.searchType&&(f=window.pageConfig.searchType);var g="&cid{level}={cid}";var h="string"==typeof search.cid?search.cid:"";var i="string"==typeof search.cLevel?search.cLevel:"";var j="string"==typeof search.ev_val?search.ev_val:"";switch(f){case 0:break;case 1:i="-1",e+="&book=y";break;case 2:i="-1",e+="&mvd=music";break;case 3:i="-1",e+="&mvd=movie";break;case 4:i="-1",e+="&mvd=education";break;case 5:var k="&other_filters=%3Bcid1%2CL{cid1}M{cid1}[cid2]";switch(i){case"51":g=k.replace(/\[cid2]/,""),g=g.replace(/\{cid1}/g,"5272");break;case"52":g=k.replace(/\{cid1}/g,"5272"),g=g.replace(/\[cid2]/,"%3Bcid2%2CL{cid}M{cid}");break;case"61":g=k.replace(/\[cid2]/,""),g=g.replace(/\{cid1}/g,"5273");break;case"62":g=k.replace(/\{cid1}/g,"5273"),g=g.replace(/\[cid2]/,"%3Bcid2%2CL{cid}M{cid}");break;case"71":g=k.replace(/\[cid2]/,""),g=g.replace(/\{cid1}/g,"5274");break;case"72":g=k.replace(/\{cid1}/g,"5274"),g=g.replace(/\[cid2]/,"%3Bcid2%2CL{cid}M{cid}");break;case"81":g=k.replace(/\[cid2]/,""),g=g.replace(/\{cid1}/g,"5275");break;case"82":g=k.replace(/\{cid1}/g,"5275"),g=g.replace(/\[cid2]/,"%3Bcid2%2CL{cid}M{cid}")}d="//search-e.jd.com/searchDigitalBook?ajaxSearch=0&enc=utf-8&key={keyword}&page=1{additional}";break;case 6:i="-1",d="//music.jd.com/8_0_desc_0_0_1_15.html?key={keyword}";break;case 7:d="//s-e.jd.com/Search?key={keyword}&enc=utf-8";break;case 8:d="//search.jd.hk/Search?keyword={keyword}&enc=utf-8";break;case 9:e+="&market=1";break;case 10:e+="&gp=2"}if("string"==typeof h&&""!=h&&"string"==typeof i){var l=/^(?:[1-8])?([1-3])$/;i="-1"==i?"":l.test(i)?RegExp.$1:"";var m=g.replace(/\{level}/,i);m=m.replace(/\{cid}/g,h),e+=m}if("string"==typeof j&&""!=j&&(e+="&ev="+j),b=encodeURIComponent(b),c=d.replace(/\{keyword}/,b),c=c.replace(/\{enc}/,"utf-8"),c=c.replace(/\{additional}/,e),"object"==typeof $o&&("string"==typeof $o.lastKeyword&&(c+="&wq="+encodeURIComponent($o.lastKeyword)),"string"==typeof $o.pvid&&(c+="&pvid="+$o.pvid)),c.indexOf("/search.jd.com/")>0)try{JA.tracker.ngloader("search.000009",{key:b,posid:a,target:c})}catch(n){}("undefined"==typeof search.isSubmitted||0==search.isSubmitted)&&(setTimeout(function(){window.location.href=c},50),search.isSubmitted=!0)}var $o=function(a){var b=$("#key");if(!(b.length<1)){var c={};c.replace=function(a,b){return a.replace(/#{(.*?)}/g,function(){var a=arguments[1];return"undefined"!=typeof b[a]?b[a]:arguments[0]})},c.genPvid=function(){var a=(new Date).getTime();var b="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:3&c|8).toString(16)});return b},c.getQueryString=function(b,c){var d=new RegExp("(^|\\?|&)"+b+"=([^&]*)(\\s|&|$)","i");var e=c?c:a.location.search;return d.test(e)?RegExp.$2:""},c.htmlspecialchars=function(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""},c.htmlspecialcharsDecode=function(a){return"string"==typeof a?a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"'):""},String.prototype.isEmpty=function(){return 0==this.length},c.textSelect=function(a,b,c){if("string"==typeof a&&(a=document.getElementById(a)),a){var d=1*b,e=1*c,f=a.value.length;if(f)if(d||(d=0),e||(e=f),d>f&&(d=f),0>d&&(d=f+d),0>e&&(e=f+e),a.createTextRange){var g=a.createTextRange();g.moveStart("character",-f),g.moveEnd("character",-f),g.moveStart("character",d),g.moveEnd("character",e),g.select()}else a.setSelectionRange(d,e),a.focus()}},c.getSelectText=function(a){return document.selection?document.selection.createRange().text:a?a.value.substring(a.selectionStart,a.selectionEnd):""};var d='<a style="color:#005AA0" onclick="$o.del(event)">\u5220\u9664</a>';var e="\u641c\u7d22\u5386\u53f2",f="\u7ea6#{amount}\u4e2a\u5546\u54c1",g='history="1"',h='style="color:#005AA0"';var i='<li id="d_#{id}" suggest-pos="#{suggest_pos}" title="#{title}" onclick="$o.clickItem(this)" #{history_mark}><div class="search-item" #{history_style}>#{keyword}</div><div class="search-count">#{search_count}</div></li>';var j='<li class="brand-search"><div id="d_#{id}" class="info J_shop_box" style="cursor:default;">#{guide}</div>#{categorys}</li>';var k='<li class="fore1"><div id="d_#{id}" suggest-pos="#{suggest_pos}" class="fore1" title="#{title}" onclick="$o.clickItem(this)" #{history_mark}><div class="search-item" #{history_style}>#{keyword}</div><div class="search-count">#{search_count}</div></div>#{categorys}</li>';var l='<li class="fore1">#{categorys}</li>';var n='<div id="d_#{id}" suggest-pos="#{suggest_pos}" class="#{className}" title="#{title}" act="#{act_value}" onclick="$o.clickItem(this)"><div class="search-item">\u5728#{act_name}</div><div class="search-count">\u7ea6#{amount}\u4e2a\u5546\u54c1</div></div>';var o='<div id="d_#{id}" suggest-pos="#{suggest_pos}" class="#{className}" title="#{title}" act="#{act_value}" onclick="$o.clickItem(this)"><div class="search-item">#{act_name}</div><div class="search-count">\u7ea6#{amount}\u4e2a\u5546\u54c1</div></div>';var p='<div id="d_#{id}" class="bs-item J_shop_box"><a class="logo" href="//mall.jd.com/index-#{shop_id}.html"><img width="90" height="30" src="#{shop_logo}"/></a><a class="name" href="//mall.jd.com/index-#{shop_id}.html">#{shop_name}</a></div>';var q='<div id="d_#{id}" class="#{className}"><a href="#{link}" style="float:left;width:100%;">#{prom_name}</a></div>';var r="#FFDFC6";var s="#FFF";var t=$("#shelper");var u=null!=navigator.userAgent.toLowerCase().match(/chrome/);var v=c.genPvid();var w="//hiswd.jd.com/?pvid="+v;var x=function(a){var b=!1;switch(a.location.host){case"cn.jd.com":case"global.jd.com":b=!0}return b}(a);var y=function(a){var b="",d="";switch(a.location.host){case"cn.jd.com":case"global.jd.com":b+="//suggest-squanqiu.jd.com/?terminal=shouquanqiu";break;default:b+="//dd-search.jd.com/?terminal=pc&newjson=1"}if(b+="&ver=2&zip=1&key=#{keyword}&pvid="+v+"&t=#{time}&curr_url="+encodeURIComponent(a.location.host+a.location.pathname),a.QUERY_KEYWORD&&(b+="&search_key="+encodeURIComponent(a.QUERY_KEYWORD)),a.pageConfig&&a.pageConfig.product&&a.pageConfig.product.cat)d="&cid1="+(a.pageConfig.product.cat[0]||""),d+="&cid2="+(a.pageConfig.product.cat[1]||""),d+="&cid3="+(a.pageConfig.product.cat[2]||"");else if("list.jd.com"==a.location.host)if(a.pageConfig&&a.pageConfig.queryParam)d="&cid1="+(a.pageConfig.queryParam.c1||""),d+="&cid2="+(a.pageConfig.queryParam.c2||""),d+="&cid3="+(a.pageConfig.queryParam.c3||"");else{var e=decodeURIComponent(c.getQueryString("cat")).split(",");d="&cid1="+(e[0]||""),d+="&cid2="+(e[1]||""),d+="&cid3="+(e[2]||"")}return b+d}(a);function z(){this.length=0,this.index=-1,this.iLastModified=0,this.lastKeyword=!1,this.keep_keyword="",this.pvid=v,this.enable_remind=!0,this.IME=!1}z.prototype.init=function(){this.length=0,this.index=-1,this.version=0,search.additinal=""},z.prototype.hideTip=function(){this.init(),this.lastKeyword=!1;var a=c.getSelectText(b[0]);this.keep_keyword&&a&&this.keep_keyword+a==b.val()&&b.val(this.keep_keyword),t.html("").hide()},z.prototype.clickItem=function(a){var d=a.getAttribute("cid"),e="&suggest="+a.getAttribute("suggest-pos")+"."+this.version;search.cid=null!=d&&""!=d?d:null;var f=a.getAttribute("cLevel");search.cLevel=null!=f&&""!=f?f:null;var g=a.getAttribute("title");null==g||$.trim(g).isEmpty()||b.val(c.htmlspecialcharsDecode(g)),null!==a.getAttribute("act")&&(e+=a.getAttribute("act")),search.additinal=e,search("key")},z.prototype.mouseenter=function(a){var a=$(a);a.attr("history")&&a.find(".search-count").html(d),a.hasClass("J_shop_box")?a.find(".name").css("text-decoration","underline"):a.css("background",r);var b=a.attr("id").split("_"),c=parseInt(b[1],10);if(c!=this.index){if(this.index>-1){var f=$("#d_"+this.index);f.css("background",s),f.attr("history")&&f.find(".search-count").html(e),f.hasClass("J_shop_box")&&f.find(".name").css("text-decoration","none")}this.index=c}},z.prototype.mouseleave=function(a){a.css("background",s),a.attr("history")&&a.find(".search-count").html(e)},z.prototype.selectItemNode=function(a){var f=this,g=$("#d_"+f.index);g.css("background-color",s),g.attr("history")&&g.find(".search-count").html(e),g.hasClass("J_shop_box")&&g.find(".name").css("text-decoration","none"),-1==f.index&&-1==a&&(a=0),f.index=(f.length+f.index+a)%f.length;var h=$("#d_"+f.index),i="&suggest="+h.attr("suggest-pos")+"."+f.version;if(h.length>0){h.attr("history")&&h.find(".search-count").html(d),h.hasClass("J_shop_box")?h.find(".name").css("text-decoration","underline"):h.css("background-color",r);var j=h.attr("title");null==j||$.trim(j).isEmpty()||b.val(c.htmlspecialcharsDecode(j));var k=h.attr("cid");search.cid=null!=k&&""!=k?k:null;var l=h.attr("cLevel");search.cLevel=null!=l&&""!=l?l:null,"undefined"!=typeof h.attr("act")&&(i+=h.attr("act")),search.additinal=i}},z.prototype.input=function(){var a=this;a.timeoutId&&clearTimeout(a.timeoutId),a.timeoutId=setTimeout(function(){var d=$.trim(b.val());return d===a.lastKeyword?!1:(a.lastKeyword=d,void $.ajax({url:d?c.replace(y,{keyword:encodeURIComponent(d),time:(new Date).getTime()}):w,dataType:"jsonp",scriptCharset:"utf-8",jsonp:"callback",cache:!0,success:function(b){return function(c){a.iLastModified>b||(a.iLastModified=b,x?a.onloadGLOBALItems(c):a.onloadItems(c))}}((new Date).getTime())}))},150)},z.prototype.keydown_up=function(c){var d=this;var e=c||a.event;0==b.length&&(b=$("#key")),0==t.length&&(t=$("tie"));var f=e.keyCode;switch(f){case 38:d.selectItemNode(-1);break;case 40:d.selectItemNode(1);break;case 27:d.hideTip();break;case 37:break;case 39:break;default:d.IME=229==f,8==f||46==f?d.disableRemind():d.enable_remind=!0,$.browser.mozilla||d.input()}},z.prototype.onloadGLOBALItems=function(d){if(!d||!d.length)return this.hideTip(),!1;this.init();var l=this,m=a.pageConfig&&a.pageConfig.searchType?a.pageConfig.searchType:0,o=1,r=sCategoriesHtml="",s=iLen=iItemLen=0,u=d.length,v=0,w=c.htmlspecialchars(b.val());for(d[u-1]&&d[u-1].version&&(l.version=d[u-1].version);u>s;s++){var x=d[s];if(x&&(x.key||x.pcif)&&(!x.pcif||0==iItemLen))if(x.rem&&l.remindKey(x.rem.rei,x.rem.req),x.pcif){if(0==m){for(var y=0,z=x.pcif.length;z>y;y++)switch(x.pcif[y].iftp){case"0":break;case"1":sCategoriesHtml+=c.replace(n,{id:++iLen,title:c.htmlspecialchars(x.pcif[y].shq),className:"item1",act_name:"<strong> \u6d77\u56e4\u5168\u7403 </strong>",act_value:"&gp=1",amount:x.pcif[y].wds,suggest_pos:o+".wor.0"});break;case"2":sCategoriesHtml+=c.replace(n,{id:++iLen,title:c.htmlspecialchars(x.pcif[y].shq),className:"item1",act_name:x.pcif[y].acp?' <img src="//img11.360buyimg.com/img/'+x.pcif[y].acp+'"> ':"<strong> "+x.pcif[y].acq+" </strong>",act_value:x.pcif[y].acu,amount:x.pcif[y].acc,suggest_pos:o+".acq.0"});break;case"3":sCategoriesHtml+=c.replace(q,{id:++iLen,className:"item1",link:x.pcif[y].pru+(x.pcif[y].pru.indexOf("?")>0?"&":"?")+"suggest=1.prom.0."+l.version+"&wq="+encodeURIComponent(b.val()),prom_name:x.pcif[y].prt.replace("&",' <img src="'+x.pcif[y].prp+'"> ')});break;case"4":sCategoriesHtml+=c.replace(n,{id:++iLen,title:c.htmlspecialchars(x.pcif[y].shq),className:"item1",act_name:x.pcif[y].icu?' <img src="'+x.pcif[y].icu+'"> ':"<strong> "+x.pcif[y].act+" </strong>",act_value:x.pcif[y].ftt,amount:x.pcif[y].acc,suggest_pos:o+".acq.0"});break;case"5":r+=c.replace(j,{id:0,guide:x.pcif[y].ssq,categorys:c.replace(p,{id:1,shop_id:x.pcif[y].shid,shop_name:x.pcif[y].shn,shop_logo:"//img30.360buyimg.com/n1/s90x30_"+x.pcif[y].shp})}),iItemLen++,v=1}v&&(iLen=1)}}else{var A=c.htmlspecialchars(x.key),B=x.his?e:c.replace(f,{amount:x.qre}),C=x.his?g:"",D=x.his?h:"",E=A.indexOf(w),F=w.length&&0==E&&!x.his?w+"<strong>"+A.substring(E+w.length)+"</strong>":A;0==iItemLen&&0==iLen&&(iLen=-1),r+=0==iItemLen&&iLen>0?c.replace(k,{id:0,title:A,keyword:F,suggest_pos:o++ +(x.his?".his.0":".def.0"),categorys:sCategoriesHtml,search_count:B,history_mark:C,history_style:D}):c.replace(i,{id:++iLen,title:A,keyword:F,suggest_pos:o++ +(x.his?".his.0":".def.0"),search_count:B,history_mark:C,history_style:D}),iItemLen++}}l.length=++iLen,""!=r?(r+="object"==typeof x&&x.his?'<li class="close" onclick="$o.del(event)">\u5168\u90e8\u5220\u9664</li>':'<li class="close" onclick="$o.hideTip()">\u5173\u95ed</li>',t.html(r).show().find('[id^="d_"]').bind("mouseleave",function(){l.mouseleave($(this))}).bind("mouseenter",function(){l.mouseenter($(this))})):t.html("").hide()},z.prototype.onloadItems=function(d){if(!d||!d.length)return this.hideTip(),!1;this.init();var k=this,m=a.pageConfig&&a.pageConfig.searchType?a.pageConfig.searchType:0,n=1,r=sCategoriesHtml="",s=iLen=iItemLen=0,u=d.length,v=0,w=c.htmlspecialchars(b.val());for(d[u-1]&&d[u-1].version&&(k.version=d[u-1].version);u>s;s++){var x=d[s];if(x&&(x.key||x.pcif)&&(!x.pcif||0==iItemLen))if(x.rem&&k.remindKey(x.rem.rei,x.rem.req),x.pcif){if(0==m){for(var y=0,z=x.pcif.length;z>y;y++)switch(x.pcif[y].iftp){case"0":break;case"1":sCategoriesHtml+=c.replace(o,{id:++iLen,title:c.htmlspecialchars(x.pcif[y].shq),className:"item1",act_name:' <img class="dropdown-simg" src="https://img30.360buyimg.com/uba/jfs/t23851/25/1308766769/1435/39f22c3b/5b5983e7N8824e17c.png">\u5728\u6d77\u56e4\u5168\u7403\u4e0b\u641c\u7d22'+x.pcif[y].shq,act_value:"&gp=1",amount:x.pcif[y].wds,suggest_pos:n+".wor.0"});break;case"2":sCategoriesHtml+=c.replace(o,{id:++iLen,title:c.htmlspecialchars(x.pcif[y].shq),className:"item1",act_name:x.pcif[y].acp?' <img src="//img11.360buyimg.com/img/'+x.pcif[y].acp+'"> \u5728'+x.pcif[y].acq+"\u4e0b\u641c\u7d22"+x.pcif[y].shq:"<strong> "+x.pcif[y].acq+" </strong>",act_value:x.pcif[y].acu,amount:x.pcif[y].acc,suggest_pos:n+".acq.0"});break;case"3":sCategoriesHtml+=c.replace(q,{id:++iLen,className:"item1",link:x.pcif[y].pru+(x.pcif[y].pru.indexOf("?")>0?"&":"?")+"suggest=1.prom.0."+k.version+"&wq="+encodeURIComponent(b.val()),prom_name:x.pcif[y].prt.replace("&",' <img src="'+x.pcif[y].prp+'"> ')});break;case"4":sCategoriesHtml+=c.replace(o,{id:++iLen,title:c.htmlspecialchars(x.pcif[y].shq),className:"item1",act_name:' <img class="dropdown-simg" src="https://img12.360buyimg.com/uba/jfs/t24568/321/1310443574/1688/ed91c737/5b5983e7Nf3dcb3b5.png">\u5728\u827a\u672f\u54c1\u4e0b\u641c\u7d22'+x.pcif[y].shq,act_value:x.pcif[y].ftt,amount:x.pcif[y].acc,suggest_pos:n+".acq.0"});break;case"5":r+=c.replace(j,{id:0,guide:x.pcif[y].ssq,categorys:c.replace(p,{id:1,shop_id:x.pcif[y].shid,shop_name:x.pcif[y].shn,shop_logo:"//img30.360buyimg.com/n1/s90x30_"+x.pcif[y].shp})}),iItemLen++,v=1}v&&(iLen=1),r+=c.replace(l,{id:0,title:A,keyword:F,suggest_pos:n++ +(x.his?".his.0":".def.0"),categorys:sCategoriesHtml,search_count:B,history_mark:C,history_style:D})}}else{var A=c.htmlspecialchars(x.key),B=x.his?e:c.replace(f,{amount:x.qre}),C=x.his?g:"",D=x.his?h:"",E=A.indexOf(w),F=w.length&&0==E&&!x.his?w+"<strong>"+A.substring(E+w.length)+"</strong>":A;0==iItemLen&&0==iLen&&(iLen=-1),r+=c.replace(i,{id:++iLen,title:A,keyword:F,suggest_pos:n++ +(x.his?".his.0":".def.0"),search_count:B,history_mark:C,history_style:D}),iItemLen++}}k.length=++iLen,""!=r?(r+="object"==typeof x&&x.his?'<li class="close" onclick="$o.del(event)">\u5168\u90e8\u5220\u9664</li>':'<li class="close" onclick="$o.hideTip()">\u5173\u95ed</li>',t.html(r).show().find('[id^="d_"]').bind("mouseleave",function(){k.mouseleave($(this))}).bind("mouseenter",function(){k.mouseenter($(this))})):t.html("").hide()},z.prototype.disableRemind=function(){search.additinal="&suggest=1.rem.0."+this.version,this.enable_remind=!1},z.prototype.remindKey=function(a,d){b.val()==a&&this.enable_remind&&(u&&this.IME&&/\w/.test(a.substr(-1))||(b.val(d),this.keep_keyword=a,search.additinal="&suggest=1.rem.1."+this.version,c.textSelect("key",a.length)))},z.prototype.bind_input=function(){$.browser.mozilla?(b.bind("keydown",function(a){A.keydown_up(a)}),b.bind("input",function(a){A.input(a)})):b.bind("keydown",function(a){A.keydown_up(a)}),b.focus(function(){setTimeout(function(){A.input()},10)}),t.parent().bind("mouseenter",function(){A.e_position=!0,A.timeoutId&&clearTimeout(A.timeoutId)}).bind("mouseleave",function(){A.e_position=!1,A.timeoutId=setTimeout(function(){A.hideTip()},500)}),$(document).click(function(){A.e_position||(A.hideTip(),A.uploader.clear())})},z.prototype.del=function(b){var c=this;b=b?b:a.event,a.event?(b.cancelBubble=!0,b.returnValue=!1):(b.stopPropagation(),b.preventDefault());var d=$(b.srcElement?b.srcElement:b.target),e=d.parent().parent().attr("title");$.ajax({url:w+(void 0==e?"&delall=1":"&del="+encodeURIComponent(e)),dataType:"jsonp",scriptCharset:"utf-8",success:function(a){c.onloadItems(a)}})},z.prototype.uploader={init:function(){var c=this;switch(a.location.host){case"search.jd.com":case"www.jd.com":break;default:return!1}b.bind("click",function(){c.clear()}).after('<span class="photo-search-btn"><form id="search-img-upload" clstag="h|keycount|2016|03d" method="post" action="//search.jd.com/image?op=upload" enctype="multipart/form-data" target="search_upload"><span class="upload-bg"></span><input type="file" name="file" class="upload-trigger" accept="image/png,image/jpeg,image/jpg"></form></span>'),$("#search-img-upload").find("input").click(function(){A.hideTip(),c.clear()}).change(function(){c.msg("\u56fe\u7247\u4e0a\u4f20\u4e2d\uff0c\u5927\u6279\u76f8\u4f3c\u5546\u54c1\u6b63\u5728\u8d76\u6765\uff0c\u8bf7\u7a0d\u7b49......"),c.old_domain=document.domain,document.domain="jd.com",$("body").append('<iframe id="J_image_upload" name="search_upload" style="display:none;"></iframe>'),$("#J_image_upload").load(function(){!c.is_callback&&c.msg("\u62b1\u6b49\uff0c\u56fe\u7247\u4e0a\u4f20\u5931\u8d25","\u7f51\u7edc\u72b6\u51b5\u4e0d\u597d\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20\u8bd5\u8bd5~")});try{JA.tracker.ngloader("search.000013",{url:a.location.href})}catch(b){}$("#search-img-upload").submit()})},msg:function(a,b){var c=$("#photo-search-dropdown");c=c.length?c:$('<div id="photo-search-dropdown"><div class="photo-search-tip"><div class="tip-inner tip-error"><i class="tip-icon"></i><div class="tip-main"><h5 class="tip-title"></h5><div class="tip-hint"></div></div></div></div></div>').insertAfter("#shelper");var d=c.find(".tip-inner");b?d.addClass("tip-error").find(".tip-title").show().html(a).next().html(b):d.removeClass("tip-error").find(".tip-title").hide().next().html(a)},callback:function(b){if(this.is_callback=1,"ERROR"==b.split(".")[0])switch(b.split(".")[1]){case"UPLOAD_RETRY":this.msg("\u62b1\u6b49\uff0c\u56fe\u7247\u4e0a\u4f20\u5931\u8d25","\u7f51\u7edc\u72b6\u51b5\u4e0d\u597d\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20\u8bd5\u8bd5~");break;case"UPLOAD_SIZE":this.msg("\u62b1\u6b49\uff0c\u56fe\u7247\u4e0a\u4f20\u5931\u8d25","\u56fe\u7247\u4e0d\u80fd\u5927\u4e8e4M\uff0c\u8bf7\u6362\u4e00\u5f20\u56fe\u8bd5\u8bd5~");break;case"UPLOAD_MIN_WH":this.msg("\u62b1\u6b49\uff0c\u56fe\u7247\u4e0a\u4f20\u5931\u8d25","\u56fe\u7247\u5c3a\u5bf8\u4e0d\u80fd\u5c0f\u4e8e201x201 px");break;case"UPLOAD_FORMAT":this.msg("\u62b1\u6b49\uff0c\u56fe\u7247\u4e0a\u4f20\u5931\u8d25","\u53ea\u652f\u6301jpg\u6216png\u683c\u5f0f\u7684\u56fe\u7247");break;case"UPLOAD_JSF":this.msg("\u62b1\u6b49\uff0c\u56fe\u7247\u4e0a\u4f20\u5931\u8d25","\u7f51\u7edc\u72b6\u51b5\u4e0d\u597d\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20\u8bd5\u8bd5~");break;default:this.clear()}else a.location.href="//search.jd.com/image?path="+encodeURIComponent(b)+"&op=search"},clear:function(){this.old_domain&&(document.domain=this.old_domain),this.is_callback=0,$("#J_image_upload").remove(),$("#photo-search-dropdown").remove()}};var A=new z;return A.bind_input(),A.uploader.init(),A}}(window);
/* jdf-1.0.0/ localStorage.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js",[],function(){var c={check:function(){return"object"==typeof window.localStorage},has:function(a){return localStorage.getItem(a)?!0:!1},set:function(a,b){try{localStorage.setItem(a,JSON.stringify(b))}catch(c){}},get:function(a){try{return JSON.parse(localStorage.getItem(a))}catch(b){}},remove:function(a){localStorage.removeItem(a)},clearByReg:function(a){var b=new RegExp(a);var c=window.localStorage;for(var d in c)b.test(d)&&this.remove(d)},clear:function(){localStorage.clear()}};return c});
/* jdf-1.0.0/ myjd.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/myjd/2.0.0/myjd.js",["//misc.360buyimg.com/jdf/1.0.0/unit/login/1.0.0/login.js","//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","//misc.360buyimg.com/jdf/1.0.0/unit/globalReco/1.0.0/globalReco.js","//misc.360buyimg.com/jdf/1.0.0/unit/cookie/1.0.0/cookie.js"],function(require){var c=require("//misc.360buyimg.com/jdf/1.0.0/unit/login/1.0.0/login.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");var e=require("//misc.360buyimg.com/jdf/1.0.0/unit/globalReco/1.0.0/globalReco.js");var f=require("//misc.360buyimg.com/jdf/1.0.0/unit/cookie/1.0.0/cookie.js");var g={init:function(){var a=$("#ttbar-myjd");a.find(".dd").html('<div class="dd-spacer"></div><div class="dd-inner"><span class="loading"></span></div>'),this.el=a,this.bind()},bind:function(){var b=this;this.el.dropdown({enterDelay:100,trigger:!0,current:"hover",onchange:function(a){a.attr("data-load")||(a.attr("data-load",1),b.checkLoginInit())}})},checkLoginInit:function(){var a=this;c({automatic:!0,complete:function(b){if(b){var c="";b.Identity.IsAuthenticated?(c=a.tpl(1,b.Identity.Unick),a.hasLoginInit()):c=a.tpl(0,""),a.el.find(".dd").html(c),a.baitiaoInit()}}})},tpl:function(){var c='<div class="dd-spacer"></div>				<div class="myjdlist1">					<div class="fore1">						<div class="item">							<a href="//order.jd.com/center/list.action" clstag="" target="_blank">\u5f85\u5904\u7406\u8ba2\u5355<span id="num-unfinishedorder"></span></a>						</div>						<div class="item">							<a href="//myjd.jd.com/afs/indexNew.action?entry=1" clstag="" target="_blank">\u8fd4\u4fee\u9000\u6362\u8d27</a>						</div>						<div class="item">							<a href="//t.jd.com/product/followProductList.action?isReduce=true" clstag="" target="_blank">\u964d\u4ef7\u5546\u54c1<span id="num-reduction"></span></a>						</div>					</div>					<div class="fore2">						<div class="item">							<a href="//joycenter.jd.com/msgCenter/queryHistoryMessage.action" target="_blank">\u6d88\u606f<span id="num-tip"></span></a>						</div>						<div class="item">							<a href="http://question.jd.com/myjd/getMyjdAnswerList.action" clstag="" target="_blank">\u6211\u7684\u95ee\u7b54<span id="num-consultation"></span></a>						</div>						<div class="item">							<a href="//t.jd.com/home/follow" clstag="" target="_blank">\u6211\u7684\u5173\u6ce8</a>						</div>					</div>				</div>				<div class="myjdlist2">					<div class="fore1">						<div class="item">							<a href="//bean.jd.com/myJingBean/list" clstag="" target="_blank">\u6211\u7684\u4eac\u8c46</a>						</div>						<div class="item baitiao">							<a href="//baitiao.jd.com/" clstag="jr|keycount|njdhome|wdbaitiao" target="_blank">\u6211\u7684\u767d\u6761</a>						</div>					</div>					<div class="fore2">						<div class="item">							<a href="//quan.jd.com/user_quan.action" target="_blank">\u6211\u7684\u4f18\u60e0\u5238<span id="num-ticket"></span></a>						</div>						<div class="item">							<a href="//trade.jr.jd.com/centre/browse.action" clstag="" target="_blank">\u6211\u7684\u7406\u8d22</a>						</div>					</div>				</div>				<div class="viewlist" style="display:none;">					<div class="smt">						<h4>\u6211\u7684\u8db3\u8ff9</h4>						<span class="extra">							<a target="_blank" href="//my.jd.com/history/list.html">\u66f4\u591a&nbsp;&gt;</a>						</span>					</div>					<div class="smc"></div>				</div>			';return c},hasLoginInit:function(){var a=this;$.ajax({url:"//order.jd.com/lazy/getOrderListCountJson.action",dataType:"jsonp",success:function(b){if(b&&b.info){var c=b.info.waitPay+b.info.waitReceive;a.el.find("#num-unfinishedorder").html(a.numStyleSet(c))}}}),$.ajax({url:"//question.jd.com/myjd/getMyJdAnswerCount.action",dataType:"jsonp",success:function(b){var c=b.data;c.success&&a.el.find("#num-consultation").html(a.numStyleSet(c.result.answerCount))}}),$.ajax({url:"//pjapi.jd.com/followCommodity/queryForCountByReduceProductAndPin?",data:{sysName:"misc",source:"pc_home"},dataType:"jsonp",success:function(b){b&&b.data>0&&a.el.find("#num-reduction").html(a.numStyleSet(b.data))}}),$.ajax({url:"//quan.jd.com/getcouponcount.action",dataType:"jsonp",success:function(b){b&&a.el.find("#num-ticket").html(a.numStyleSet(b.CouponCount))}}),$.ajax({url:"//joycenter.jd.com/msgCenter/init.action",dataType:"jsonp",success:function(b){b&&"G001001"==b.result&&a.el.find("#num-tip").html(a.numStyleSet(b.msgUnreadCount))}}),$.ajax({url:"//passport.jd.com/user/petName/getUserInfoForMiniJd.action",dataType:"jsonp",success:function(b){if(b){b.imgUrl&&a.el.find(".u-pic img").attr("src",b.imgUrl);var c=b.userLevel;if(c){var d={1:"\u6ce8\u518c\u4f1a\u5458",2:"\u94dc\u724c\u4f1a\u5458",3:"\u94f6\u724c\u4f1a\u5458",4:"\u91d1\u724c\u4f1a\u5458",5:"\u94bb\u77f3\u4f1a\u5458",6:"VIP\u4f1a\u5458",7:"\u4f01\u4e1a\u4f1a\u5458"};$("#userLevel").attr({"class":"user-level"+c,title:d[c]})}}}})},numStyleSet:function(a){return 0==a?"":'<span class="num style-red">&nbsp;'+a+"</span>"},viewlist:function(){var a=this;new e({$el:$("#jduc-viewlist"),skuHooks:"SKUS_recent_view",template:"",param:{p:202001,sku:"",ck:"pin,ipLocation,atw,aview",lim:5},callback:function(b,c){if(b&&c){var d="";c=c.data;var e=0;$.each(c,function(a,b){4>e&&b.sku&&b.img&&(d+='<div class="item"><a href="//item.jd.com/'+b.sku+'.html" target="_blank" title="'+b.t+'"><img src="'+pageConfig.FN_GetImageDomain(b.sku)+"n5/"+b.img+'" width="50" height="50" alt="'+b.t+'" /></a></div>',e++)});var f=a.el.find(".viewlist");f.find(".smc").html(d),f.show()}}})},baitiaoInit:function(){var b=this;f("pin")?this.baitiaoLinkSet(function(a){var c=b.el.find(".baitiao");a.btName&&a.btUrl&&c.html('<a href="'+a.btUrl+'" target="_blank">'+a.btName+"</a>")}):b.el.find(".baitiao").show()},baitiaoLinkSet:function(a){$.ajax({url:"//corp.jd.com/publicSoa/userInfo/getUserLevel",type:"get",dataType:"jsonp",scriptCharset:"utf-8",data:{pin:f("pin")},success:function(c){c&&c.success&&(90==c.userLevel?a({btName:"\u6211\u7684\u91d1\u91c7",btUrl:"//jc.jd.com"}):b())},error:function(){b()}});function b(){$.ajax({url:"//btshow.jd.com/ious/queryBT.do?sourceType=137",type:"get",dataType:"jsonp",scriptCharset:"utf-8",success:function(b){b&&b.btList&&b.btList[0]&&a(b.btList[0])}})}}};function h(){g.init()}return h});
/* jdf-1.0.0/ shortcut.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/shortcut/5.0.0/shortcut.js",["//misc.360buyimg.com/jdf/1.0.0/unit/log/1.0.0/log.js","//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","//misc.360buyimg.com/jdf/1.0.0/ui/areamini/1.0.0/areamini.js","//misc.360buyimg.com/jdf/1.0.0/unit/setUserInfo/5.0.0/setUserInfo.js","//misc.360buyimg.com/jdf/1.0.0/unit/myjd/2.0.0/myjd.js","//misc.360buyimg.com/jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js","//misc.360buyimg.com/jdf/1.0.0/unit/cookie/1.0.0/cookie.js"],function(require){require("//misc.360buyimg.com/jdf/1.0.0/unit/log/1.0.0/log.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/areamini/1.0.0/areamini.js");var f=require("//misc.360buyimg.com/jdf/1.0.0/unit/setUserInfo/5.0.0/setUserInfo.js");var g=require("//misc.360buyimg.com/jdf/1.0.0/unit/myjd/2.0.0/myjd.js");var h=require("//misc.360buyimg.com/jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js");var i=require("//misc.360buyimg.com/jdf/1.0.0/unit/cookie/1.0.0/cookie.js");function j(){var a=$("#footer-2014 .copyright");if(a.length){var b=a.html();var c=(new Date).getFullYear();2016==c&&a.html(b.replace("2004-2015","2004-2016"))}}function k(){j();var a=$("#shortcut-2014");var b='<div class="dd-spacer"></div><div class="dd-inner"><span class="loading"></span></div>';f({el:$("#ttbar-login")});var c='			<div class="dt cw-icon ui-areamini-text-wrap" style="display:none;">				<i class="iconfont">&#xe604;</i>				<span class="ui-areamini-text"></span> 			</div>			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="ui-areamini-content-wrap"> 					<div class="ui-areamini-content"></div> 				</div> 				<div class="areamini_inter"> 				  <div class="areamini_inter_split"></div> 				  <p class="areamini_inter_desc">Available Sites</p> 				  <ul class="areamini_inter_list"> 					<li class="areamini_inter_item"> 					  <a class="areamini_inter_lk" href="//www.joybuy.com/?source=1&visitor_from=2" target="_blank" clstag="h|keycount|head|topbar_0101"> 						<div class="areamini_inter_ico areamini_inter_ico_global"></div> 						<div class="areamini_inter_name">Global Site</div> 					  </a> 					</li> 					<li class="areamini_inter_item"> 					  <a class="areamini_inter_lk" href="//www.jd.ru/?source=1&visitor_from=2" target="_blank" clstag="h|keycount|head|topbar_0102"> 						<div class="areamini_inter_ico areamini_inter_ico_russia"></div> 						<div class="areamini_inter_name">\u0421\u0430\u0439\u0442 \u0420\u043e\u0441\u0441\u0438\u0438</div> 					  </a> 					</li> 					<li class="areamini_inter_item"> 					  <a class="areamini_inter_lk" href="//www.jd.id/?source=1&visitor_from=2" target="_blank" clstag="h|keycount|head|topbar_0103"> 						<div class="areamini_inter_ico areamini_inter_ico_indonesia"></div> 						<div class="areamini_inter_name">Situs Indonesia</div> 					  </a> 					</li> 					<li class="areamini_inter_item"> 					  <a class="areamini_inter_lk" href="//www.joybuy.es/?source=1&visitor_from=2" target="_blank" clstag="h|keycount|head|topbar_0103"> 						<div class="areamini_inter_ico areamini_inter_ico_spain"></div> 						<div class="areamini_inter_name">Sitio de Espa\xf1a</div> 					  </a> 					</li> 					<li class="areamini_inter_item"> 						<a class="areamini_inter_lk" href="//www.jd.co.th/?source=1&visitor_from=2" target="_blank" clstag="h|keycount|head|topbar_0105"> 						  <div class="areamini_inter_ico areamini_inter_ico_thailand"></div> 						  <div class="areamini_inter_name">\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c\u0e1b\u0e23\u0e30\u0e40\u0e17\u0e28\u0e44\u0e17\u0e22</div> 						</a> 					</li> 				  </ul> 				</div> 			</div>		';var d=i("areaId");var e={expires:10,path:"/",domain:document.domain,secure:null};d?k(d):$.ajax({url:"//lapi.jd.com/locate",data:{source:"public"},dataType:"jsonp",timeout:3e3,success:function(a){var b=null;0==a.code&&a.data?(b=a.data.provinceid+"-"+a.data.cityid+"-"+a.data.districtid+"-"+a.data.townid,i("areaId",a.data.provinceid,e),i("ipLoc-djd",b,e),k(a.data.provinceid)):k(d)},error:function(){k(d)}});function k(a){$("#ttbar-mycity").html(c).areamini({hasCssLink:!1,className:{hover:"hover",selected:"selected"},tplContentWrap:'<div class="ui-areamini-content-list clearfix"><%=list%></div>',tplContentItem:'<div class="item"><a data-id="<%=id%>" href="javascript:void(0)"><%=name%></a></div>',threeWordDeal:function(a){var b=a.find(".ui-areamini-text").html();var c=a.find(".dd-spacer");3==b.length?c.addClass("dd-spacer-extend"):c.removeClass("dd-spacer-extend")},onReady:function(){if(this.el.find(".ui-areamini-text-wrap").show(),h.check()&&a){var c="areaId";h.get(c)?h.get(c)!=a&&(h.set(c,a),h.clearByReg("^jd_home_2015_")):h.set(c,a)}this.options.threeWordDeal(this.el)},onChange:function(a,b){this.options.threeWordDeal(this.el),"undefined"!=typeof b&&window.location.reload()}})}g();var l='			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="dd-inner" id="ttbar-apps-main">'+b+"				</div>			</div>		";$("#ttbar-apps").append(l).dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(a){a.attr("data-load")||(a.attr("data-load",1),seajs.use("//nfa.jd.com/loadFa.action?aid=0_0_8762",function(a){a({$el:$("#ttbar-apps-main")})}))}});var m='			<li class="fore5 dorpdown" id="ttbar-ent">				<div class="dt cw-icon">					<a target="_blank" href="//b.jd.com/">\u4f01\u4e1a\u91c7\u8d2d</a><i class="iconfont">&#xe605;</i>				</div>				<div class="dd dorpdown-layer">					<div class="dd-spacer"></div>					<div class="dd-inner" id="ttbar-ent-main">'+b+"					</div>				</div>			</li>		";var n='			<div class="item"><a href="//b.jd.com" target="_blank">\u4f01\u4e1a\u8d2d</a></div>			<div class="item"><a href="//shang.jd.com" target="_blank">\u5546\u7528\u573a\u666f\u9986</a></div>			<div class="item"><a href="//imall.jd.com" target="_blank">\u5de5\u4e1a\u54c1</a></div>			<div class="item"><a href="//o.jd.com" target="_blank">\u793c\u54c1\u5361</a></div>		';$("#ttbar-ent").prop("outerHTML",m),$("#ttbar-ent").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(b){b.attr("data-load")||(b.attr("data-load",1),a.find("#ttbar-ent .dd-inner").html(n))}});var o='			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="dd-inner" id="ttbar-atte-main">'+b+"				</div>			</div>		";$("#ttbar-atte").append(o).attr("aid","2_955_6494").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(a){a.attr("data-load")||(a.attr("data-load",1),$.ajax({url:"//nfa.jd.com/loadFa.js?aid=2_955_6494",dataType:"script",success:function(){}}))}}),a.find("#ttbar-serv .dd").html(b),a.find("#ttbar-serv").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(b){if(!b.attr("data-load")){b.attr("data-load",1);var c=setTimeout(function(){d("//d.jd.com/client/get")},3e3);var d=function(b){$.ajax({url:b,dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"getClientCallback",success:function(b){if(b&&"object"==typeof b){clearTimeout(c),b=b.data;var d='<div class="dd-spacer"></div>';var e=['<div class="item-client">\u5ba2\u6237</div>'];var f=['<div class="item-business">\u5546\u6237</div>'];$.each(b,function(a){var c=b[a];var d=!c.type;0==c.c&&e.push('<div class="item"><a href="'+c.u+'" target="_blank" '+d+">"+c.n+"</a></div>"),1==c.c&&f.push('<div class="item"><a href="'+c.u+'" target="_blank" '+d+">"+c.n+"</a></div>")}),d+=e.join(""),f.length>1&&(d+=f.join("")),a.find("#ttbar-serv .dd").html(d)}}})};d("//dc.3.cn/client/get")}}}),a.find("#ttbar-navs .dd").html(b),a.find("#ttbar-navs").dropdown({enterDelay:50,trigger:!0,current:"hover",leaveDelay:100,onchange:function(b){if(!b.attr("data-load")){b.attr("data-load",1);var c=setTimeout(function(){d("//d.jd.com/navigation/get")},3e3);var d=function(b){$.ajax({url:b,dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"getNavigationCallback",success:function(b){if(b&&"object"==typeof b){clearTimeout(c),b=b.data;var d='<div class="dd-spacer"></div>';$.each(b,function(a){var c=b[a];var e=c.s;var f="";$.each(e,function(a){var b=e[a];var c=b.c?'class="'+b.c+'"':"";f+='<div class="item"><a href="'+b.u+'" target="_blank" '+c+">"+b.n+"</a></div>"});var g=c.n;var h=c.c?'class="'+c.c+'"':"";c.u&&(g='<a href="'+c.u+'" target="_blank" '+h+">"+c.n+"</a>"),d+='<dl class="fore'+(a+1)+'">									<dt>'+g+"</dt>									<dd>										"+f+"									</dd>								</dl>"}),a.find("#ttbar-navs .dd").html(d)}}})};d("//dc.3.cn/navigation/get")}}})}return k});
/* jdf-1.0.0/ shoppingcart.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/shoppingcart/5.0.0/shoppingcart.js",["//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath.js"],function(require){require("//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath.js");window.pageConfig=window.pageConfig||{},pageConfig.shoppingcartUrl=$("#settleup-url").attr("data-from")?$("#settleup-url").attr("data-from"):"//cart.jd.com/";var e={el:null,init:function(){var a=this;var b=function(){null!=a.DATA_Amount&&$("#shopping-amount").text(a.DATA_Amount)};document.getElementById("settleup")?(null!=a.DATA_Amount&&$("#settleup s").eq(0).addClass("shopping"),this.el=$("#settleup dl")):document.getElementById("settleup-2013")?this.el=$("#settleup-2013 dl"):document.getElementById("settleup-2014")&&(this.el=$("#settleup-2014"),this.el.find(".dorpdown-layer").html('<div class="spacer"></div><div id="settleup-content"><span class="loading"></span></div>'),this.el.find(".cw-icon .arrow").after('<i class="ci-count" id="shopping-amount"></i>'),this.el.find(".cw-icon .ci-right").after('<i class="ci-count" id="shopping-amount"></i>')),b(),null!=this.el&&($('a[href$="//cart.jd.com/cart/cart.html"]',this.el).attr("href","//cart.jd.com/cart.action"),this.el.dropdown({enterDelay:500,trigger:!0,current:"hover",onchange:function(){a.FN_Refresh(),$("#settleup-url").attr("href",pageConfig.shoppingcartUrl)}}))},DATA_Cookie:"cn",DATA_Amount:readCookie("cn")||"0",URL_Serv:"//cart.jd.com/cart/miniCartServiceNew.action",TPL_Iframe:'<iframe scrolling="no" frameborder="0" marginheight="0" marginwidth="0" id="settleup-iframe"></iframe>',TPL_NoGoods:'<div class="spacer"></div><div class="prompt"><div class="nogoods"><b></b>\u8d2d\u7269\u8f66\u4e2d\u8fd8\u6ca1\u6709\u5546\u54c1\uff0c\u8d76\u7d27\u9009\u8d2d\u5427\uff01</div></div>',TPL_List:{wrap:'<div class="spacer"></div><div id="settleup-content"><div class="smt"><h4 class="fl">\u6700\u65b0\u52a0\u5165\u7684\u5546\u54c1</h4></div><div class="smc"></div><div class="smb ar"><div class="p-total">\u5171<b>${Num}</b>\u4ef6\u5546\u54c1\u3000\u5171\u8ba1<strong>\uffe5 ${TotalPromotionPrice.toFixed(2)}</strong></div><a href="${pageConfig.shoppingcartUrl}" title="\u53bb\u8d2d\u7269\u8f66" id="btn-payforgoods">\u53bb\u8d2d\u7269\u8f66</a></div></div>',sigle:'<ul id="mcart-sigle">{for list in TheSkus}  <li>      <div class="p-img fl"><a href="//item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><a href="//item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.Id}" data-type="RemoveProduct" href="javascript:void(0)">\u5220\u9664</a>      </div>      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>{/for}</ul>',gift:'<ul id="mcart-gift">{for list in TheGifts}  <li>      <div class="p-img fl"><a href="//item.jd.com/${list.MainSKU.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.MainSKU.Id)}n5/${list.MainSKU.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><a href="//item.jd.com/${list.MainSKU.Id}.html" title="${list.MainSKU.Name}" target="_blank">${list.MainSKU.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.MainSKU.Id}" data-type="RemoveProduct" href="#delete">\u5220\u9664</a>      </div>      {for gift in list.Skus}      <div class="gift"><a href="//item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>      {/for}      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>  {/for}</ul>',suit:'{for suit in TheSuit}<ul id="mcart-suit">  <li class="dt">      <div class="fl"><span>[\u5957\u88c5]</span> ${suit.Name}</div>      <div class="fr"><em>\u5c0f\u8ba1\uff1a\uffe5${(suit.PromotionPrice*suit.Num).toFixed(2)}</em></div>      <div class="clr"></div>  </li>  {for list in suit.Skus}  <li>      <div class="p-img fl"><a href="//item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><span></span><a href="//item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.Id}|${suit.Id}" data-type="RemoveSuit" href="javascript:void(0)">\u5220\u9664</a>      </div>      {for gift in list.Gifts}      <div class="gift"><a href="//item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>      {/for}      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>  {/for}</ul>{/for}',mj:'{for mj in ManJian}<ul id="mcart-mj">  <li class="dt">      <div class="fl"><span class="hl-green">\u6ee1\u51cf</span>{if mj.ManFlag} \u5df2\u8d2d\u6ee1{if mj.ManNum>0}${mj.ManNum}\u4ef6{else}${mj.ManPrice}\u5143{/if}\uff0c\u5df2\u51cf${mj.JianPrice}\u5143{else}\u8d2d\u6ee1{if mj.ManNum>0}${mj.ManNum}\u4ef6{else}${mj.ManPrice}\u5143{/if}\uff0c\u5373\u53ef\u4eab\u53d7\u6ee1\u51cf\u4f18\u60e0{/if}</div>      <div class="fr"><em>\u5c0f\u8ba1\uff1a\uffe5${(mj.PromotionPrice*mj.Num).toFixed(2)}</em></div>      <div class="clr"></div>  </li>  {for list in mj.Skus}  <li>      <div class="p-img fl"><a href="//item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><span></span><a href="//item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.Id}|${mj.Id}" data-type="RemoveSuit" href="#delete">\u5220\u9664</a>      </div>      {for gift in list.Gifts}      <div class="gift"><a href="//item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>      {/for}      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>  {/for}</ul>{/for}',mz:'{for mz in ManZeng}<ul id="mcart-mz">  <li class="dt">      <div class="fl"><span class="hl-orange">{if mz.AddMoney > 0}\u52a0\u4ef7\u8d2d{else}\u6ee1\u8d60{/if}</span>			{if mz.AddMoney <= 0}          	{if mz.ManFlag}              	\u5df2\u8d2d\u6ee1${mz.ManPrice}\u5143\uff0c\u60a8{if mz.ManGifts.length>0}\u5df2{else}\u53ef{/if}\u9886\u8d60\u54c1          	{else}              	\u8d2d\u6ee1${mz.ManPrice}\u5143\uff0c\u5373\u53ef\u9886\u53d6\u8d60\u54c1          	{/if}          {else}				{if mz.ManFlag}              	\u5df2\u8d2d\u6ee1${mz.ManPrice}\u5143\uff0c\u60a8{if mz.ManGifts.length>0}\u5df2{else}\u53ef{/if}\u52a0\u4ef7\u6362\u8d2d\u5546\u54c1          	{else}              	\u8d2d\u6ee1${mz.ManPrice}\u5143\uff0c\u5373\u53ef\u52a0\u4ef7\u6362\u8d2d\u5546\u54c1          	{/if}          {/if}      </div>      <div class="fr"><em>\u5c0f\u8ba1\uff1a\uffe5${(mz.PromotionPrice*mz.Num).toFixed(2)}</em></div>      <div class="clr"></div>  </li>  {for gift in mz.ManGifts}<li class="dt-mz"><a href="${gift.Id}" target="_blank">[{if mz.AddMoney > 0}\u6362\u8d2d\u54c1{else}\u8d60\u54c1{/if}]${gift.Name}</a>\xd7${gift.Num}</li>{/for}  {for list in mz.Skus}  <li>      <div class="p-img fl"><a href="//item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><span></span><a href="//item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.Id}|${mz.Id}" data-type="RemoveSuit" href="#delete">\u5220\u9664</a>      </div>      {for gift in list.Gifts}      <div class="gift"><a href="//item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>      {/for}      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>  {/for}</ul>{/for}'},FN_BindEvents:function(){var a=this;$("#settleup-content .delete").bind("click",function(){var b=$(this).attr("data-id").split("|"),c=$(this).attr("data-type"),d={method:c,cartId:b[0]};b&&(b.length>1&&b[1]&&(d.targetId=b[1]),$.ajax({url:a.URL_Serv,data:d,dataType:"jsonp",success:function(b){b.Result&&a.FN_Refresh()}}))})},FN_Refresh:function(){var a=this;var b=this.el;var c;c=/dl/.test(b.selector)?b.find("dd").eq(0):b.find(".dorpdown-layer").eq(0);var e=function(b){var d=b.Cart,e=d.TheSkus.length+d.TheSuit.length+d.TheGifts.length+d.ManJian.length+d.ManZeng.length,f=a.TPL_List.sigle.process(b.Cart),g=a.TPL_List.gift.process(b.Cart),h=a.TPL_List.suit.process(b.Cart),i=a.TPL_List.mz.process(b.Cart),j=a.TPL_List.mj.process(b.Cart);if(e>0?(c.html(a.TPL_List.wrap.process(b.Cart)),c.find("#settleup-content .smc").html(f+g+h+j+i),$("#settleup-url").attr("href",pageConfig.shoppingcartUrl)):c.html(a.TPL_NoGoods),$.browser.msie&&6==$.browser.version){var k=$("#settleup-content");k.before(a.TPL_Iframe);var l=$("#settleup-iframe");l.height(k.height())}a.FN_BindEvents()};$.ajax({url:a.URL_Serv,data:{method:"GetCart"},dataType:"jsonp",success:function(a){e(a)}}),a.DATA_Amount=readCookie(a.DATA_Cookie),null!=a.DATA_Amount&&$("#shopping-amount").text(a.DATA_Amount).parent().show()}};function f(){e.init()}return f});
/* jdf-1.0.0/ category.js Date:2019-04-10 15:05:11 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/category/5.0.0/category.js",["//misc.360buyimg.com/jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js","//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js"],function(require){require("//misc.360buyimg.com/jdf/1.0.0/ui/lazyload/1.0.0/lazyload.js"),require("//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");var c=/^\/\/(car\.jd\.com|group\.jd\.com|huishou\.jd\.com|dujia\.jd\.com)/;var d={config:{el:$("#categorys-2014 .dd"),mainId:$("#categorys-2014"),dataUrl:"//dc.3.cn/category/get"},init:function(a){var b=this;var c=$.extend({type:null,mainId:null,el:null},a);if(c.mainId&&(b.config.mainId=$(c.mainId)),c.el&&(b.config.el=$(c.el)),b.config.mainId.attr("data-type")&&(c.type=b.config.mainId.attr("data-type")),b.isHome()||"home"==c.type)b.config.mainId.bind("mouseenter",function(){$(this).attr("data-load")||(b.getDataInit(),$(this).attr("data-load",1)),b.config.el.show()}).one("mouseleave",function(){b.config.mainId.find(".dd-inner .item").removeClass("hover")}),b.config.mainId.find(".dd-inner .item").one("mouseenter",function(){if(!b.config.mainId.attr("data-load")){var a=$(this).attr("data-index");b.getDataInit(a),b.config.el.show(),b.config.mainId.attr("data-load",1)}});else if("mini"==c.type)b.config.mainId.bind("mouseenter",function(){$(this).attr("data-load")||b.getDataInit(void 0,"mini"),$(this).attr("data-load",1),b.config.mainId.addClass("hover"),b.config.el.addClass("hover").show()}).bind("mouseleave",function(){b.config.mainId.removeClass("hover"),b.config.el.hide()});else if("default"==c.type){b.config.mainId.find(".dd").size()||(b.config.mainId.append('<div class="dd" style="display:none;"></div>'),b.config.el=function(){return $("#categorys-2014 .dd")}()),b.config.mainId.css({height:"auto",left:0,position:"absolute"});var d=$("#navitems-2014");d.css({"padding-left":190}),$.browser.msie&&$.browser.version<=7&&!pageConfig.wideVersion&&d.css({marginRight:"-190px"}),$(".dd",d).css({"margin-top":0,"padding-top":2}),b.config.mainId.bind("mouseenter",function(){if($(this).attr("data-load")||(b.getDataInit(),$(this).attr("data-load",1)),b.config.el.show(),b.config.mainId.addClass("hover"),$.browser.msie){var a=2;$.browser.version<9&&(a=0,$.browser.version<7&&(a=5)),$(".ci-right s",b.config.mainId).css("top",a+"px")}}).bind("mouseleave",function(){b.config.el.hide(),b.config.mainId.removeClass("hover"),$.browser.msie&&$(".ci-right s",b.config.mainId).css("top","-9px")})}},getDataInit:function(a,b,c){var d=this;$.ajax({url:d.config.dataUrl,dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"getCategoryCallback",success:function(e){"mini"==b?(d.render2(e),d.bigiframe(d.config.el.find(".dd-inner"))):(d.render(e),d.bigiframe(d.config.el.find(".dorpdown-layer")),d.bind(a)),c&&c()}})},imgIndex:0,getLinkHtml:function(a,b,d,e,f,g,h){var i=a.split("|");var j=[];i[0]=i[0].replace(/ /g,"");var k=/^\d.*\d$/.test(i[0])?i[0]:i[0].replace(/^(http\:\/\/|\/\/)/,"");"undefined"!=typeof e&&/^\d.*\d$/.test(i[0])&&(2==e?k="channel.jd.com/"+i[0]+".html":3==e&&(2==i[0].split("-").length?k="channel.jd.com/"+i[0]+".html":3==i[0].split("-").length&&(k="list.jd.com/list.html?cat="+i[0].replace(/\-/g,",")))),k="//"+k,"https:"==location.protocol&&c.test(k)&&(k="http:"+k),i[2]&&j.push("img-link"),j.length>0&&(j='class="'+j.join(" ")+'"');var l="";return l=i[0]?'<a href="'+k+'" '+j+' target="_blank">':"<span>",i[2]?(this.imgIndex>4&&(this.imgIndex=0),b=b?' width="'+b+'"':"",d=d?' height="'+d+'"':"",l+='<img src="//misc.360buyimg.com/lib/img/e/blank.gif" data-lazy-img="//img1'+this.imgIndex+".360buyimg.com/"+i[2]+'"  '+b+d+" />",this.imgIndex+=1):l+=(f||"")+i[1]+(g||""),l+=i[0]?"</a>":"</span>",3==e&&0==h&&1==i[3]&&i[0]&&(l='<div class="style-red-border"><div class="left-b"></div><a href="'+k+'" target="_blank">'+(f||"")+i[1]+(g||"")+'</a><div class="right-b"></div></div>'),l},render:function(a){var b=this;var c=a.data;var d="",e="";$.each(c,function(a,f){var g="";var h="";$.each(c[a].s,function(d){var e=c[a].s[d];var i=!1;h+=b.getLinkHtml(e.n)+(d<c[a].s.length-1?'<span class="cate_menu_line">/</span>':""),"n"==f.id&&0==d&&(i=!0,g+='<div class="subitems-main1">'),$.each(e.s,function(a){var c=e.s[a].s;var d=b.getLinkHtml(e.s[a].n,null,null,2,null,"<i>&gt;</i>");var f="<dt>"+d+"</dt>";var h="";0!=c&&$.each(c,function(a){h+=b.getLinkHtml(c[a].n,null,16,3,null,null,a)}),h="<dd>"+h+"</dd>",g+='<dl class="fore'+(a+1)+'">'+f+h+"</dl>",i&&6==a&&(g+='</div><div class="subitems-main2">')}),i&&(g+="</div>")});var i=function(b){var c=10>a+1?"0"+(a+1):a+1;return' clstag="h|keycount|2015|05'+c+b+'"'};d+='<div class="item fore'+(a+1)+'" data-index="'+(a+1)+'" '+i("a")+">						<h3>"+h+"</h3>					</div>				",g='<div class="subitems"'+i("c")+">"+g+"</div>";var j="";$.each(c[a].c,function(d){var e=c[a].c[d];j+=b.getLinkHtml(e,null,24)}),j&&(j='<span class="line"></span><div class="sale">'+j+"</div>");var k="";$.each(c[a].t,function(d){var e=c[a].t[d];k+=b.getLinkHtml(e,null,24,null,null,"<i>&gt;</i>")}),k='<div class="channels">'+k+"</div>"+j,k='<div class="item-channels"'+i("b")+">"+k+"</div>";var l="";var m=0;$.each(c[a].b,function(d){if(8>d){var e=c[a].b[d];l+=b.getLinkHtml(e,83,35),m+=1}}),m>0&&m%2==1&&(l+='<a><img src="//img10.360buyimg.com/da/jfs/t757/162/604852976/158/9ed36f8/54c8699bNc2cfc6a1.png"></a>'),l='<div class="item-brands"'+i("d")+'><div class="brands-inner">'+l+"</div></div>";var n="";$.each(c[a].p,function(d){if(2>d){var e=c[a].p[d];n+=b.getLinkHtml(e,168,134)}}),n='<div class="item-promotions"'+i("e")+">"+n+"</div>",e+='<div class="item-sub" id="category-item-'+(a+1)+'" data-id="'+c[a].id+'">'+l+k+g+n+"</div>"}),e='<div class="dorpdown-layer" style="display: none;">				'+e+"				</div>			",d='<div class="dd-inner">'+d+"</div>",b.config.el.append(b.isHome()?e:d+e)},render2:function(a){var b=this;var c=a.data;var d="";$.each(c,function(a){var f="";$.each(c[a].s,function(d){var e=c[a].s[d];f+=b.getLinkHtml(e.n)+(d<c[a].s.length-1?'<span class="cate_menu_line">/</span>':"")});var g=function(b){var c=10>a+1?"0"+(a+1):a+1;return' clstag="h|keycount|2015|05'+c+b+'"'};d+='<div class="item fore'+(a+1)+'" data-index="'+(a+1)+'" '+g("a")+">						<h3>"+f+"</h3>					</div>				"}),d='<div class="dd-inner">'+d+"</div>",b.config.el.html(d)},bind:function(a){var b=this;var c=function(a){b.config.el.find(".dorpdown-layer").show(),b.config.el.find(".item-sub").removeClass("hover");var c=b.config.el.find(".item-sub").eq(a-1);c.addClass("hover"),c.lazyload(),b.topRest()};b.config.el.dropdown({item:"item",current:"hover",topspeed:!0,bodyClass:"item-sub",onchange:function(a){c(a.attr("data-index")),$.browser.msie&&6==$.browser.version&&b.iframeName&&$("#"+b.iframeName).height(b.iframeContext.outerHeight())},onmouseleave:function(){b.config.mainId.find(".dd-inner .item.hover").removeClass("hover"),b.config.el.find(".dorpdown-layer").hide(),b.config.el.find(".item-sub").removeClass("hover"),$.browser.msie&&6==$.browser.version&&b.iframeName&&$("#"+b.iframeName).height(0)}}),"undefined"!=typeof a&&(c(a),b.config.el.find(".item").removeClass("hover"),b.config.el.find(".item").eq(a-1).addClass("hover"))},topRest:function(){var a=this;var b=a.config.el.offset().top;var c=$(window).scrollTop();b=c>b?c-b+44:"",a.config.el.find(".dorpdown-layer").css({top:b})},isHome:function(){return"undefined"!=typeof pageConfig?pageConfig.navId&&"jdhome2015"==pageConfig.navId:!1},bigiframe:function(a,b,c){var d=this;if(a&&$.browser.msie&&6==$.browser.version){"undefined"==typeof b&&(b=a.outerWidth()),"undefined"==typeof c&&(c=a.outerHeight()),100>c&&(c=$(window).height()),d.iframeName="categoryIe6BgIframe",d.iframeContext=a;var e='<iframe src="javascript:false;" frameBorder="0" style="width:'+b+"px;height:"+c+'px;position:absolute;z-index:-1;opacity:0;filter:alpha(opacity=0);top:0;left:0;" id="'+d.iframeName+'">';a.append(e)}}};function e(a){d.init(a)}return e});
/* jdf-1.0.0/ log.js Date:2019-04-10 15:05:11 */
!function(){if(!window.uba_lab_tag){window.uba_lab_tag=!0;var a={"www.jd.com":['/div[id="cate_item1"]','/div[id="cate_item2"]','/div[id="cate_item3"]','/div[id="cate_item4"]','/div[id="cate_item5"]','/div[id="cate_item6"]','/div[id="cate_item7"]','/div[id="cate_item8"]','/div[id="cate_item9"]','/div[id="cate_item10"]','/div[id="cate_item11"]','/div[id="cate_item12"]','/div[id="cate_item13"]','/div[id="cate_item14"]','/div[id="cate_item15"]','/li[id="ttbar-myjd"]/div[1]','/li[id="ttbar-serv"]/div[1]','/li[id="ttbar-navs"]/div[1]','/div[id="settleup-content"]']};var b={universal:['/li[id="d_0"]','/li[id="d_1"]','/li[id="d_2"]','/li[id="d_3"]','/li[id="d_4"]','/li[id="d_5"]','/li[id="d_6"]','/li[id="d_7"]','/li[id="d_8"]','/li[id="d_9"]','/li[id="nav-licai"]/ul[1]','/li[id="nav-zhongchou"]/ul[1]','/li[id="nav-baoxian"]/ul[1]','/li[id="nav-baitiao"]/ul[2]','/li[id="nav-loan"]/ul[1]','/li[id="nav-caimi"]/ul[1]','/li[id="nav-dongjia"]/ul[1]','/div[id="J_searchRecommend"]','/div[id="J_searchKeyWords"]','/div[id="J_userCenterBoard"]','/div[id="ceilinglamp"]'],urls:{"www.jd.com":['/li[id="ttbar-myjd"]/div[1]','/div[id="ttbar-apps-main"]','/div[id="ttbar-atte-main"]','/li[id="ttbar-serv"]/div[1]','/li[id="ttbar-navs"]/div[1]','/div[id="cate_item','/div[id="lift"]/ul[0]','/div[id="settleup-content"]','/ul[id="mcart-sigle"]','/div[id="settleup-content"]','/div[id="category-item','/div[id="J-global-toolbar'],"shouji.jd.com":['/div[id="phoneCategorys"]/div[0]/div[1]'],"channel.jd.com/fashion.html":['/div[id="p-categroy"]/div[1]'],"jr.jd.com":['/div[id="container"]/div[0]/div[0]/div[0]/div[1]'],"tuan.jd.com/quanguo-index.html":['/div[id="categorys-2015"]/div[1]/div[7]/div[1]','/div[id="categorys-2015"]/div[1]/div[8]/div[1]','/div[id="categorys-2015"]/div[1]/div[9]/div[1]','/div[id="categorys-2015"]/div[1]/div[10]/div[1]','/ul[id="shelperTuan"]'],"chaoshi.jd.com":[],"book.jd.com":['/div[id="p-category"]/div[0]/div[1]'],"diannao.jd.com":['/div[id="oaCategorys"]/div[0]/div[1]'],"channel.jd.com/electronic.html":['/div[id="comCategorys"]/div[1]/div[1]/div[0]/div[1]'],"www.jd.hk":[],"channel.jd.com/sports.html":['/div[id="sortlist"]/div[0]'],"auction.jd.com/home.html":['/div[id="focus"]/div[0]/div[0]'],"channel.jd.com/food.html":['/div[id="p-category"]/div[0]/div[1]'],"e.jd.com/ebook.html":['/div[id="p-category"]/div[0]/div[1]'],"channel.jd.com/beauty.html":['/div[id="beauty"]/div[0]/div[0]/div[0]/div[0]/div[1]'],"channel.jd.com/luxury.html":['/div[id="p-categroy"]/div[1]'],"channel.jd.com/furniture.html":['/div[id="sortlist"]/div[0]'],"shuma.jd.com":['/div[id="oaCategorys"]/div[0]/div[1]'],"baby.jd.com":['/div[id="p-category"]/div[0]/div[1]'],"channel.jd.com/home.html":['/div[id="sortlist"]/div[0]'],"channel.jd.com/health.html":['/div[id="p-category"]/div[0]/div[1]'],"channel.jd.com/1620-1625.html":['/div[id="p-category"]/div[1]'],"channel.jd.com/watch.html":['/div[id="p-category"]/div[0]/div[2]'],"channel.jd.com/luxury.html":['/div[id="p-categroy"]/div[1]'],"channel.jd.com/wine.html":['/div[id="p-category"]/div[0]/div[1]'],"fresh.jd.com":["/html[0]/body[1]/div[5]/div[0]/div[0]/ul[1]"],"china.jd.com":['/div[id="p-category"]/div[0]/div[1]'],"mvd.jd.com":['/div[id="p-category"]/div[0]/div[1]'],"e.jd.com/ebook.html":['/div[id="p-category"]/div[0]/div[1]']}};function c(a,b){var c=!1;for(var d=0,e=a.length;e>d;d++){var f=a[d];f=f.replace(/\[/gm,"\\["),f=f.replace(/\]/gm,"\\]");var g=new RegExp(f);if(g.test(b)){c=a[d];break}}return c}var d={addHandler:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},removeHandler:function(a,b,c){a.addEventListener?a.removeEventListener(b,c,!1):a.attachEvent?a.detachEvent("on"+b,c):a["on"+b]=null},getEvent:function(a){return a?a:window.event},getTarget:function(a){return a.target||a.srcElement},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(a){a.stopPropagaiton?a.stopPropagaiton():a.cancelBubble=!0}};function e(a){var b=0;var c=a.parentNode.firstChild;for(;c;c=c.nextSibling)if(1===c.nodeType){if(c===a)break;b+=1}return b}function f(a){var b=a.substr(1).split("/");var c=b.shift();var d=[];if(c.indexOf("id")>-1){var e=/\".*?\"/gi;c=c.match(e)[0].replace(/\"/gi,function(){return""});for(var f=0;f<b.length;f++){var g=b[f];g=g.match(/\d+/)[0],d.push(parseInt(g))}var h=document.getElementById(c);for(var i=0;i<d.length;i++){var j=d[i];h=h.children[j]}return h}}function g(a){if("html"==a.nodeName.toLowerCase()||"body"==a.nodeName.toLowerCase())return null;var b=function(a){var c=a.parentNode;var d="";if(c)try{var f=c.getAttribute("id");var g=/^ad\d+/gi;f&&!g.test(f)?d+=c.nodeName.toLowerCase()+'[id="'+c.getAttribute("id")+'"]/':(d+=c.nodeName.toLowerCase()+"["+e(c)+"]/",d+=b(c))}catch(h){}return d};var c;return c=a.getAttribute("id")?a.nodeName.toLowerCase()+'[id="'+a.getAttribute("id")+'"]/':a.nodeName.toLowerCase()+"["+e(a)+"]/"+b(a),c.split("/").reverse().join("/")}function h(a){var b=d.getTarget(a);var c=g(b);if(!document.getElementById("tracelessLogDebug")){var e=document.createElement("textarea");var f=900;var h=20;e.id="tracelessLogDebug",e.style.border="1px #C81623 solid",e.style.padding="5px 10px",e.style.width=f+"px",e.style.height=h+"px",e.style.background="#C81623",e.style.color="#fff",e.style.zIndex=100,e.style.opacity=.7,e.style.position="fixed",e.style.left="50%",e.style.top="0px",e.style.marginLeft="-"+f/2+"px",document.getElementsByTagName("body")[0].appendChild(e)}"tracelessLogDebug"!=b.getAttribute("id")&&(document.getElementById("tracelessLogDebug").innerHTML=c),d.preventDefault(a)}var i=function(a,b){var c=function(a){for(var b=0,c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b&=b;return b};return Math.abs(c(a))%b};var j=function(a){var b=a+"=";var c=document.cookie.split(";");for(var d=0;d<c.length;d++){var e=c[d];for(;" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null};function k(){var a=0;return document.documentElement&&document.documentElement.scrollTop?a=document.documentElement.scrollTop:document.body&&(a=document.body.scrollTop),a}var l=function(a){var b="uas_log_"+(new Date).getTime();var c=window[b]=new Image;c.onload=c.onerror=function(){window[b]=null},c.src=a,c=null};var m=j("pin")?j("pin"):"";var n=j("__jda")?j("__jda").split(".")[1]:"";var o=j("__jdb")?j("__jdb").split(".")[2]:"";var p=j("__jda")?j("__jda").split(".")[5]:"";var q=1;var r=function(a){if(a.clientX>1&&a.clientY>1){var b=a.clientX-window.screen.width/2;var c=a.clientY+k();var d=window.screen.width;var e="cw="+b+"$ch="+c+"$sw="+d+"$zb="+p+"$labt="+q;e=encodeURIComponent(e);var f=encodeURIComponent(document.referrer);var g="//mercury.jd.com/log.gif?t=uas.000000&m=UA-J2011-1&pin="+m+"&uid="+n+"&sid="+o+"&v="+e+"&ref="+f+"&rm="+(new Date).getTime();l(g)}};var s=function(a){var b="d="+a+"$zb="+p+"$labt=2";b=encodeURIComponent(b);var c=encodeURIComponent(document.referrer);var d="//mercury.jd.com/log.gif?t=uas.000000&m=UA-J2011-1&pin="+m+"&uid="+n+"&sid="+o+"&v="+b+"&ref="+c+"&rm="+(new Date).getTime();l(d)};var t=function(a,b){if(a.clientX>1&&a.clientY>1){var c=f(b);var d=$(c).offset();var e=a.clientX;var g=a.clientY+k();var h=window.screen.width;var i="cw="+(e-d.left)+"$ch="+(g-d.top)+"$sw="+h+"$zb="+p+"$labt=3$smid="+b;i=encodeURIComponent(i);var j=encodeURIComponent(document.referrer);var q="//mercury.jd.com/log.gif?t=uas.000000&m=UA-J2011-1&pin="+m+"&uid="+n+"&sid="+o+"&v="+i+"&ref="+j+"&rm="+(new Date).getTime();l(q)}};function u(){var a="boolean"==typeof document.hidden?!0:!1;if(a){var b=$(window);var c=[];function d(){var a=b.scrollTop();var c=b.height()+a;c=3e4>c?c:3e4;var d={t:a,b:c};return d}function e(){if(c.length>0){for(var a=0;a<c.length;a++)c[a].d=parseFloat(c[a].d.toFixed(2));var b=JSON.stringify(c);s(b)}}var f;var g;var h;setInterval(function(){a&&document.hidden===!1&&(e(),c=[])},5e3);var i=!1;function j(){window.clearTimeout(g),window.clearInterval(f),g=window.setTimeout(function(){h=d(),h.d=.5,c.push(h),f=window.setInterval(function(){a&&(document.hidden===!1?(i=!1,0===c.length?(h.d=0,c.push(h)):h.d+=.01):i===!1&&(e(),c=[],i=!0))},10)},500)}b.bind("scroll",function(){j()}),j()}}/isdebug=(-\d)*-30/.test(location.search)&&d.addHandler(document,"click",function(a){d.getEvent(a);h(a)});var v=function(a){var b=!1;var c=a.url.toLowerCase();var d=/http.*?\/\//gi;var e=location.href.toLowerCase();if(e=e.replace(d,function(){return""}),e.indexOf(c)>-1)return!0;if(a.skus&&e.indexOf("item.jd.com")>-1)for(var f in a.skus){var g=a.skus[f]+".html";if(e.indexOf(g)>-1)return!0}return b};var w=function(){var a=[];return function(b,c){if(c=c||!1,a=a.concat(b||[]),c){var d=a.join("$");a=[],d=encodeURIComponent(d);var e=encodeURIComponent(document.referrer);var f="//mercury.jd.com/log.gif?t=uas.000000&m=UA-J2011-1&pin="+m+"&uid="+n+"&sid="+o+"&v="+d+"&ref="+e+"&rm="+(new Date).getTime();l(f)}}}();d.addHandler(window,"load",function(){n&&$.ajax({url:"//d.jd.com/lab/get",dataType:"jsonp",jsonpCallback:"lab",cache:!0,success:function(e){e&&$.each(e,function(f){var h=e[f];var j=h.url.toLowerCase();var k=(new Date).getTime();return h.url&&h.startOn&&h.endOn&&h.percent&&v(h)&&k>=h.startOn&&k<=h.endOn+864e5&&i(n,1e4)<=100*parseInt(h.percent)?(d.addHandler(document,"click",function(){s('[{"t":0,"b":0,"d":0}]'),d.removeHandler(document,"click",arguments.callee)}),d.addHandler(document,"click",function(e){var f=d.getEvent(e);var h=d.getTarget(e);if(h.parentNode){var i=g(h);if(c(b.universal,i)||b.urls[j]&&c(b.urls[j],i)||r(f),a[j]){var k=c(a[j],i);k&&t(f,k)}}}),u(),!1):void 0})}})});function x(){function a(){return j||3==l?void clearInterval(k):(l++,void b())}function b(){var b=e.timing;var d=b.navigationStart;function f(){var a=b.domContentLoadedEventEnd-d;var e=b.loadEventEnd-d;if(!(0>e&&"msie"===i.name&&9===i.versionNumber)){var f=b.domInteractive-d;if(window.chrome&&window.chrome.loadTimes){var k=window.chrome.loadTimes();g=parseInt(1e3*(k.firstPaintTime-k.startLoadTime),10)}else"number"==typeof b.msFirstPaint&&(g=b.msFirstPaint-d);g=Math.max(0,g),e=Math.max(0,e);var l={dr:a,lp:e,fp:g,di:f,labt:100,zb:"undefined"!=typeof p?p:0,ecr:h};j=!0,w(c(l),!0)}}window.setTimeout(f,0)}function c(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+"="+a[c]);return b}function d(){var b=f.body.querySelectorAll("*");for(var c=0,d=0;c<b.length;++c){var e=b[c].tagName.toLowerCase();"script"!==e&&"link"!==e&&"noscript"!==e&&d++}h=d}var e=window.performance||window.webkitPerformance||window.mozPerformance||window.msPerformance;var f=window.document;var g=-1;var h=-1;var i=y();var j=!1,k=null,l=0;w(["br="+[i.platform,i.name,i.versionNumber].join(".")]),e&&window.addEventListener?("complete"===f.readyState||"interactive"===f.readyState?d():f.addEventListener("DOMContentLoaded",d),"msie"===i.name&&9===i.versionNumber&&(k=setInterval(a,1e3)),window.addEventListener("load",b)):w(c({dr:0,lp:0,fp:0,di:0,labt:100,zb:"undefined"!=typeof p?p:0,ecr:0}),!0)}function y(a){function b(a){void 0===a&&(a=window.navigator.userAgent),a=a.toLowerCase();var b=/(edge)\/([\w.]+)/.exec(a)||/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];var c=/(win)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||[];var d={},e={browser:b[5]||b[3]||b[1]||"",version:b[2]||b[4]||"0",versionNumber:b[4]||b[2]||"0",platform:c[0]||""};if(e.browser&&(d[e.browser]=!0,d.version=e.version,d.versionNumber=parseInt(e.versionNumber,10)),e.platform&&(d[e.platform]=!0),(d.cros||d.mac||d.linux||d.win)&&(d.desktop=!0),(d.chrome||d.opr||d.safari)&&(d.webkit=!0),d.rv||d.iemobile){var f="msie";e.browser=f,d[f]=!0}if(d.edge){delete d.edge;var g="msedge";e.browser=g,d[g]=!0}if(d.opr){var h="opera";e.browser=h,d[h]=!0}d.name=e.browser,d.platform=e.platform;var i=!1;return(b=/liebaofast\/([\w.]+)/.exec(a)||/liebao\/([\w.]+)/.exec(a)||/lbbrowser/.exec(a))&&(d.name="liebao",d.version=b[1]||"0",i=!0),/metasr/.test(a)&&(d.name="sougou",d.version="0",d.versionNumber=0),(b=/maxthon\/([\w.]+)/.exec(a)||/maxthon/.exec(a))&&(d.name="maxthon",d.version=b[1]||"0",i=!0),/360[se]e/.test(a)&&(d.name="360",d.version="0",d.versionNumber="0"),(b=/qqbrowser\/([\w.]+)/.exec(a)||/tencenttraveler ([\w.]+)/.exec(a))&&(d.name="qq",d.version=b[1]||"0",i=!0),i&&(d.versionNumber=parseInt(d.version,10)),d}return b(a||window.navigator.userAgent)}var z=null;switch(location.href){case"http://train.jd.com/":z="train";break;case"http://menpiao.jd.com/":z="menpiao";break;case"http://what.jd.com/what/index":case"http://what.jd.com/index":z="what";break;case"http://faner.jd.com/":z="faner";break;case"http://chaoshi.jd.com/":z="chaoshi"}n&&null!=z&&(w([z+"_pv=1"],!0),x())}}();
