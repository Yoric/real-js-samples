/* jdf-1.0.0/ setUserInfo.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/setUserInfo/1.0.0/setUserInfo.js",["//misc.360buyimg.com/jdf/1.0.0/ui/switchable/1.0.0/switchable.js","//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js"],function(require){require("//misc.360buyimg.com/jdf/1.0.0/ui/switchable/1.0.0/switchable.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");var e=function(a){a=$.extend({el:$("#loginbar,#ttbar-login"),callback:null},a||{});var b=function(){return"https:"==document.location.protocol?"https://":"http://"};var c='<div class="dt cw-icon">						<i class="icon-plus-nickname"></i>	                    <i class="ci-right"><s>\u25c7</s></i>	                    <a class="nickname" target="_blank" href="//home.jd.com/"></a>		            </div>		            <div class="dd dorpdown-layer"></div>';$.ajax({url:b()+"passport.jd.com/new/helloService.ashx",dataType:"jsonp",scriptCharset:"GBK",success:function(b){if(!b)return!1;b.nick?(a.el.addClass("dorpdown"),a.el.html(c),a.el.find(".nickname").html(b.nick),a.el.find(".dd").html('<div class="dd-spacer"></div><div class="dd-inner"><span class="loading"></span></div>'),e(),a.el.dropdown({enterDelay:100,trigger:!0,current:"hover",onchange:function(){}})):a.el.html(b.info);var d=function(){clearTimeout(f),$.isFunction(a.callback)&&a.callback(b),d=$.noop};var f=setTimeout(function(){d()},2e3);if(b.sso){var g=b.sso.length;$.each(b.sso,function(a,b){$.getJSON(b).complete(function(){0==--g&&d()})})}else d()}});function d(a){var b="//misc.360buyimg.com/lib/img/e/blank.gif";var c='<div class="u-plus"><a href="https://passport.jd.com/uc/login?ltype=logout&ReturnUrl='+window.location.href+'" class="link-logout">\u9000\u51fa</a><a href="https://plus.jd.com/index" target="_blank" class="icon-plus-dropdown"></a></div>';var d='				<div class="dd-spacer"></div>				<div class="userinfo">					<div class="u-pic"><a target="_blank" href="//home.jd.com/"><img src="'+b+'" width="60" height="60" /></a></div>'+c+'					<div class="u-msg"></div>				</div>			';var e=["",'<div class="badge-panel fore2"><a href="//vip.jd.com/help.html#mypri-01" target="_blank"><i></i><p class="u-name">\u81ea\u8425\u8fd0\u8d39\u8865\u8d34</p></a></div>				<div class="badge-panel fore3"><a href="//vip.jd.com/help.html#mypri-02" target="_blank"><i></i><p class="u-name">\u552e\u540e\u670d\u52a1</p></a></div>				<div class="badge-panel fore4"><a href="//vip.jd.com/help.html#mypri-03" target="_blank"><i></i><p class="u-name">\u8bc4\u4ef7\u5956\u52b1</p></a></div>				<div class="badge-panel fore8"><a href="//vip.jd.com/help.html#mypri-06" target="_blank"><i></i><p class="u-name">\u88c5\u673a\u670d\u52a1</p></a></div>				<div class="badge-panel fore5 u-dis"><a href="//vip.jd.com/help.html#mypri-04" target="_blank"><i></i><p class="u-name">\u4f1a\u5458\u7279\u4ef7</p></a></div>				<div class="badge-panel fore6 u-dis"><a href="//vip.jd.com/help.html#mypri-05" target="_blank"><i></i><p class="u-name">\u751f\u65e5\u793c\u5305</p></a></div>				<div class="badge-panel fore7 u-dis"><a href="//vip.jd.com/help.html#mypri-07" target="_blank"><i></i><p class="u-name">\u4e13\u4eab\u793c\u5305</p></a></div>				<div class="badge-panel fore9 u-dis"><a href="//vip.jd.com/help.html#mypri-08" target="_blank"><i></i><p class="u-name">\u8d35\u5bbe\u4e13\u7ebf</p></a></div>				<div class="badge-panel fore10 u-dis"><a href="//vip.jd.com/help.html#mypri-09" target="_blank"><i></i><p class="u-name">\u8fd0\u8d39\u5238</p></a></div>','<div class="badge-panel fore2"><a href="//vip.jd.com/help.html#mypri-01" target="_blank"><i></i><p class="u-name">\u81ea\u8425\u8fd0\u8d39\u8865\u8d34</p></a></div>				<div class="badge-panel fore3"><a href="//vip.jd.com/help.html#mypri-02" target="_blank"><i></i><p class="u-name">\u552e\u540e\u670d\u52a1</p></a></div>				<div class="badge-panel fore4"><a href="//vip.jd.com/help.html#mypri-03" target="_blank"><i></i><p class="u-name">\u8bc4\u4ef7\u5956\u52b1</p></a></div>				<div class="badge-panel fore5"><a href="//vip.jd.com/help.html#mypri-04" target="_blank"><i></i><p class="u-name">\u4f1a\u5458\u7279\u4ef7</p></a></div>				<div class="badge-panel fore8"><a href="//vip.jd.com/help.html#mypri-06" target="_blank"><i></i><p class="u-name">\u88c5\u673a\u670d\u52a1</p></a></div>				<div class="badge-panel fore6 u-dis"><a href="//vip.jd.com/help.html#mypri-05" target="_blank"><i></i><p class="u-name">\u751f\u65e5\u793c\u5305</p></a></div>				<div class="badge-panel fore7 u-dis"><a href="//vip.jd.com/help.html#mypri-07" target="_blank"><i></i><p class="u-name">\u4e13\u4eab\u793c\u5305</p></a></div>				<div class="badge-panel fore9 u-dis"><a href="//vip.jd.com/help.html#mypri-08" target="_blank"><i></i><p class="u-name">\u8d35\u5bbe\u4e13\u7ebf</p></a></div>				<div class="badge-panel fore10 u-dis"><a href="//vip.jd.com/help.html#mypri-09" target="_blank"><i></i><p class="u-name">\u8fd0\u8d39\u5238</p></a></div>','<div class="badge-panel fore2"><a href="//vip.jd.com/help.html#mypri-01" target="_blank"><i></i><p class="u-name">\u81ea\u8425\u8fd0\u8d39\u8865\u8d34</p></a></div>				<div class="badge-panel fore3"><a href="//vip.jd.com/help.html#mypri-02" target="_blank"><i></i><p class="u-name">\u552e\u540e\u670d\u52a1</p></a></div>				<div class="badge-panel fore4"><a href="//vip.jd.com/help.html#mypri-03" target="_blank"><i></i><p class="u-name">\u8bc4\u4ef7\u5956\u52b1</p></a></div>				<div class="badge-panel fore5"><a href="//vip.jd.com/help.html#mypri-04" target="_blank"><i></i><p class="u-name">\u4f1a\u5458\u7279\u4ef7</p></a></div>				<div class="badge-panel fore6"><a href="//vip.jd.com/help.html#mypri-05" target="_blank"><i></i><p class="u-name">\u751f\u65e5\u793c\u5305</p></a></div>				<div class="badge-panel fore8"><a href="//vip.jd.com/help.html#mypri-06" target="_blank"><i></i><p class="u-name">\u88c5\u673a\u670d\u52a1</p></a></div>				<div class="badge-panel fore7 u-dis"><a href="//vip.jd.com/help.html#mypri-07" target="_blank"><i></i><p class="u-name">\u4e13\u4eab\u793c\u5305</p></a></div>				<div class="badge-panel fore9 u-dis"><a href="//vip.jd.com/help.html#mypri-08" target="_blank"><i></i><p class="u-name">\u8d35\u5bbe\u4e13\u7ebf</p></a></div>				<div class="badge-panel fore10 u-dis"><a href="//vip.jd.com/help.html#mypri-09" target="_blank"><i></i><p class="u-name">\u8fd0\u8d39\u5238</p></a></div>','<div class="badge-panel fore2"><a href="//vip.jd.com/help.html#mypri-01" target="_blank"><i></i><p class="u-name">\u81ea\u8425\u8fd0\u8d39\u8865\u8d34</p></a></div>				<div class="badge-panel fore3"><a href="//vip.jd.com/help.html#mypri-02" target="_blank"><i></i><p class="u-name">\u552e\u540e\u670d\u52a1</p></a></div>				<div class="badge-panel fore4"><a href="//vip.jd.com/help.html#mypri-03" target="_blank"><i></i><p class="u-name">\u8bc4\u4ef7\u5956\u52b1</p></a></div>				<div class="badge-panel fore5"><a href="//vip.jd.com/help.html#mypri-04" target="_blank"><i></i><p class="u-name">\u4f1a\u5458\u7279\u4ef7</p></a></div>				<div class="badge-panel fore6"><a href="//vip.jd.com/help.html#mypri-05" target="_blank"><i></i><p class="u-name">\u751f\u65e5\u793c\u5305</p></a></div>				<div class="badge-panel fore7"><a href="//vip.jd.com/help.html#mypri-07" target="_blank"><i></i><p class="u-name">\u4e13\u4eab\u793c\u5305</p></a></div>				<div class="badge-panel fore8"><a href="//vip.jd.com/help.html#mypri-06" target="_blank"><i></i><p class="u-name">\u88c5\u673a\u670d\u52a1</p></a></div>				<div class="badge-panel fore9 u-dis"><a href="//vip.jd.com/help.html#mypri-08" target="_blank"><i></i><p class="u-name">\u8d35\u5bbe\u4e13\u7ebf</p></a></div>				<div class="badge-panel fore10 u-dis"><a href="//vip.jd.com/help.html#mypri-09" target="_blank"><i></i><p class="u-name">\u8fd0\u8d39\u5238</p></a></div>','<div class="badge-panel fore2"><a href="//vip.jd.com/help.html#mypri-01" target="_blank"><i></i><p class="u-name">\u81ea\u8425\u8fd0\u8d39\u8865\u8d34</p></a></div>				<div class="badge-panel fore3"><a href="//vip.jd.com/help.html#mypri-02" target="_blank"><i></i><p class="u-name">\u552e\u540e\u670d\u52a1</p></a></div>				<div class="badge-panel fore4"><a href="//vip.jd.com/help.html#mypri-03" target="_blank"><i></i><p class="u-name">\u8bc4\u4ef7\u5956\u52b1</p></a></div>				<div class="badge-panel fore5"><a href="//vip.jd.com/help.html#mypri-04" target="_blank"><i></i><p class="u-name">\u4f1a\u5458\u7279\u4ef7</p></a></div>				<div class="badge-panel fore6"><a href="//vip.jd.com/help.html#mypri-05" target="_blank"><i></i><p class="u-name">\u751f\u65e5\u793c\u5305</p></a></div>				<div class="badge-panel fore7"><a href="//vip.jd.com/help.html#mypri-07" target="_blank"><i></i><p class="u-name">\u4e13\u4eab\u793c\u5305</p></a></div>				<div class="badge-panel fore8"><a href="//vip.jd.com/help.html#mypri-06" target="_blank"><i></i><p class="u-name">\u88c5\u673a\u670d\u52a1</p></a></div>				<div class="badge-panel fore9"><a href="//vip.jd.com/help.html#mypri-08" target="_blank"><i></i><p class="u-name">\u8d35\u5bbe\u4e13\u7ebf</p></a></div>				<div class="badge-panel fore10"><a href="//vip.jd.com/help.html#mypri-09" target="_blank"><i></i><p class="u-name">\u8fd0\u8d39\u5238</p></a></div>','<div class="badge-panel fore2"><a href="//vip.jd.com/help.html#mypri-01" target="_blank"><i></i><p class="u-name">\u81ea\u8425\u8fd0\u8d39\u8865\u8d34</p></a></div>				<div class="badge-panel fore3"><a href="//vip.jd.com/help.html#mypri-02" target="_blank"><i></i><p class="u-name">\u552e\u540e\u670d\u52a1</p></a></div>				<div class="badge-panel fore4"><a href="//vip.jd.com/help.html#mypri-03" target="_blank"><i></i><p class="u-name">\u8bc4\u4ef7\u5956\u52b1</p></a></div>				<div class="badge-panel fore5"><a href="//vip.jd.com/help.html#mypri-04" target="_blank"><i></i><p class="u-name">\u4f1a\u5458\u7279\u4ef7</p></a></div>				<div class="badge-panel fore6"><a href="//vip.jd.com/help.html#mypri-05" target="_blank"><i></i><p class="u-name">\u751f\u65e5\u793c\u5305</p></a></div>				<div class="badge-panel fore7"><a href="//vip.jd.com/help.html#mypri-07" target="_blank"><i></i><p class="u-name">\u4e13\u4eab\u793c\u5305</p></a></div>				<div class="badge-panel fore8"><a href="//vip.jd.com/help.html#mypri-06" target="_blank"><i></i><p class="u-name">\u88c5\u673a\u670d\u52a1</p></a></div>				<div class="badge-panel fore9"><a href="//vip.jd.com/help.html#mypri-08" target="_blank"><i></i><p class="u-name">\u8d35\u5bbe\u4e13\u7ebf</p></a></div>				<div class="badge-panel fore10"><a href="//vip.jd.com/help.html#mypri-09" target="_blank"><i></i><p class="u-name">\u8fd0\u8d39\u5238</p></a></div>',""];var f='<div class="badge-list">								<a href="javascript:void(0);" class="badge-list-prev">&lt;</a>								<div class="u-badges">									<div class="badge-panel-main">										<div class="badge-panel fore1"><a href="https://plus.jd.com/index" target="_blank"><i></i><p class="u-name">\u514d\u8d39\u8bd5\u7528</p></a></div>'+e[a]+'</div>								</div>								<a href="javascript:void(0);" class="badge-list-next">&gt;</a>							</div>';return d+=f}function e(){$.ajax({url:"//passport.jd.com/user/petName/getUserInfoForMiniJd.action",dataType:"jsonp",success:function(b){if(b){var c=b.userLevel;var e=parseInt(b.plusStatus);if(c||(c=1),7==c){var f="//sale.jd.com/act/rw4GgcjhpSQ.html";$("#shortcut-2014 li.fore4 .dt a").attr("href",f)}var g=d(c);a.el.find(".dd").html(g),b.imgUrl&&a.el.find(".u-pic img").attr("src",b.imgUrl);var h=a.el.find(".u-msg");var i=a.el.find(".badge-panel-main .fore1");e>=1&&4>=e&&(a.el.find(".dt").addClass("icon-plus-state"+e),a.el.find(".dd").addClass("icon-plus-state"+e));var j=(new Date).getTime();function k(a){1==e?(h.html('<a href="https://plus.jd.com/index" target="_blank">\u60a8\u53ef\u4eab'+a+"\u7279\u60e0\uff0c\u5f00\u901aPLUS &gt;"),i.find(".u-name").html("\u5f00\u901a\u6b63\u5f0f\u7248")):2==e?(h.html('<a href="https://plus.jd.com/index" target="_blank">\u60a8\u53ef\u4eab'+a+"\u7279\u60e0\uff0c\u5f00\u901aPLUS &gt;</a>"),i.find(".u-name").html("\u5f00\u901a\u6b63\u5f0f\u7248"),i.addClass("u-dis")):3==e?(h.html('<a href="https://plus.jd.com/index" target="_blank">\u60a8\u53ef\u4eab'+a+"\u7279\u60e0\uff0c\u7eed\u8d39PLUS &gt;</a>"),i.find(".u-name").html("PLUS\u4e13\u4eab")):4==e?(h.html('<a href="https://plus.jd.com/index" target="_blank">\u60a8\u53ef\u4eab'+a+"\u7279\u60e0\uff0c\u7eed\u8d39PLUS &gt;</a>"),i.find(".u-name").html("PLUS\u7eed\u8d39"),i.addClass("u-dis")):(h.html('<a href="https://plus.jd.com/index" target="_blank">\u60a8\u53ef\u4eab'+a+"\u7279\u60e0\uff0c\u5f00\u901aPLUS &gt;</a>"),i.addClass("u-dis"),j>=15010524e5&&1501570799e3>j&&($("#shortcut-2014 #ttbar-login .badge-panel.fore1").remove(),h.html('<a href="https://plus.jd.com/index" target="_blank">\u8d2d\u4e70Plus\u4f1a\u5458\u5c0a\u4eab\u9876\u7ea7\u7279\u6743</a>')))}function l(){1==e?(h.html('<a href="https://plus.jd.com/index" target="_blank">\u8bd5\u7528PLUS\u4f1a\u5458\u4eab\u66f4\u591a\u7279\u6743 <span class="style-red">\u8d2d\u4e70</span></a>'),i.find(".u-name").html("\u5f00\u901a\u6b63\u5f0f\u7248")):2==e?(h.html('<a href="https://plus.jd.com/index" target="_blank">\u8d2d\u4e70PLUS\u4f1a\u5458\u5c0a\u4eab\u9876\u7ea7\u7279\u6743&gt;</a>'),i.find(".u-name").html("\u5f00\u901a\u6b63\u5f0f\u7248"),i.addClass("u-dis")):3==e?(h.html(2==c||1==c?'<a href="https://sale.jd.com/act/Xno3MQRklCIm.html" target="_blank">PLUS\u4e13\u4eab\u5546\u54c1\u6bcf\u5468\u66f4\u65b0&gt;</a>':'<a href="https://plus.jd.com/index" target="_blank">PLUS\u4e13\u4eab\u5546\u54c1\u6bcf\u5468\u66f4\u65b0&gt;</a>'),i.find(".u-name").html("PLUS\u4e13\u4eab")):4==e?(h.html('<a href="https://plus.jd.com/index" target="_blank">\u7eed\u8d39PLUS\u4f1a\u5458\u5c0a\u4eab\u9876\u7ea7\u7279\u6743 <span class="style-red">\u7eed\u8d39</span></a>'),i.find(".u-name").html("PLUS\u7eed\u8d39"),i.addClass("u-dis")):(h.html('<a href="https://plus.jd.com/index" target="_blank">\u8bd5\u7528PLUS\u4f1a\u5458\u9886\u8fd0\u8d39\u5238&gt;</a>'),i.addClass("u-dis"),j>=15010524e5&&1501570799e3>j&&($("#shortcut-2014 #ttbar-login .badge-panel.fore1").remove(),h.html('<a href="https://plus.jd.com/index" target="_blank">\u8d2d\u4e70Plus\u4f1a\u5458\u5c0a\u4eab\u9876\u7ea7\u7279\u6743</a>')))}switch(c){case 7:l();break;case 6:l();break;case 5:k("\u94bb\u77f3");break;case 4:k("\u91d1\u724c");break;case 3:k("\u94f6\u724c");break;case 2:l();break;case 1:l();break;default:l()}$(".badge-list").switchable({type:"slider",mainClass:"badge-panel",contentClass:"badge-panel-main",prevClass:"badge-list-prev",nextClass:"badge-list-next",step:2,hasPage:!0})}}})}};return e});
/* jdf-1.0.0/ shortcut.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/shortcut/2.0.0/shortcut.js",["//misc.360buyimg.com/jdf/1.0.0/unit/log/1.0.0/log.js","//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","//misc.360buyimg.com/jdf/1.0.0/ui/areamini/1.0.0/areamini.js","//misc.360buyimg.com/jdf/1.0.0/unit/setUserInfo/1.0.0/setUserInfo.js","//misc.360buyimg.com/jdf/1.0.0/unit/myjd/2.0.0/myjd.js","//misc.360buyimg.com/jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js","//misc.360buyimg.com/jdf/1.0.0/unit/cookie/1.0.0/cookie.js"],function(require){require("//misc.360buyimg.com/jdf/1.0.0/unit/log/1.0.0/log.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");require("//misc.360buyimg.com/jdf/1.0.0/ui/areamini/1.0.0/areamini.js");var f=require("//misc.360buyimg.com/jdf/1.0.0/unit/setUserInfo/1.0.0/setUserInfo.js");var g=require("//misc.360buyimg.com/jdf/1.0.0/unit/myjd/2.0.0/myjd.js");var h=require("//misc.360buyimg.com/jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js");var i=require("//misc.360buyimg.com/jdf/1.0.0/unit/cookie/1.0.0/cookie.js");function j(){var a=$("#footer-2014 .copyright");if(a.length){var b=a.html();var c=(new Date).getFullYear();2016==c&&a.html(b.replace("2004-2015","2004-2016"))}}function k(){j();var a=$("#shortcut-2014");var b='<div class="dd-spacer"></div><div class="dd-inner"><span class="loading"></span></div>';f({el:$("#ttbar-login")});var c='			<div class="dt cw-icon ui-areamini-text-wrap" style="display:none;">				<i class="ci-right"><s>\u25c7</s></i>				\u9001\u81f3\uff1a<span class="ui-areamini-text"></span> 			</div>			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="ui-areamini-content-wrap"> 					<div class="ui-areamini-content"></div> 				</div> 			</div>		';var d=i("areaId");var e={expires:10,path:"/",domain:document.domain,secure:null};d?k(d):$.ajax({url:"//lapi.jd.com/locate",data:{source:"public"},dataType:"jsonp",timeout:3e3,success:function(a){var b=null;0==a.code&&a.data?(b=a.data.provinceid+"-"+a.data.cityid+"-"+a.data.districtid+"-"+a.data.townid,i("areaId",a.data.provinceid,e),i("ipLoc-djd",b,e),k(a.data.provinceid)):k(d)},error:function(){k(d)}});function k(a){$("#ttbar-mycity").html(c).areamini({hasCssLink:!1,className:{hover:"hover",selected:"selected"},tplContentWrap:'<div class="ui-areamini-content-list"><%=list%></div>',tplContentItem:'<div class="item"><a data-id="<%=id%>" href="javascript:void(0)"><%=name%></a></div>',threeWordDeal:function(a){var b=a.find(".ui-areamini-text").html();var c=a.find(".dd-spacer");3==b.length?c.addClass("dd-spacer-extend"):c.removeClass("dd-spacer-extend")},onReady:function(){if(this.el.find(".ui-areamini-text-wrap").show(),h.check()&&a){var c="areaId";h.get(c)?h.get(c)!=a&&(h.set(c,a),h.clearByReg("^jd_home_2015_")):h.set(c,a)}this.options.threeWordDeal(this.el)},onChange:function(a,b){this.options.threeWordDeal(this.el),"undefined"!=typeof b&&window.location.reload()}})}g();var l='			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="dd-inner" id="ttbar-apps-main">'+b+"				</div>			</div>		";$("#ttbar-apps").append(l).attr("aid","2_955_6342").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(a){a.attr("data-load")||(a.attr("data-load",1),$.ajax({url:"//nfa.jd.com/loadFa.js?aid=2_955_6342",dataType:"script",success:function(){}}))}});var m='			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="dd-inner" id="ttbar-atte-main">'+b+"				</div>			</div>		";$("#ttbar-atte").append(m).attr("aid","2_955_6494").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(a){a.attr("data-load")||(a.attr("data-load",1),$.ajax({url:"//nfa.jd.com/loadFa.js?aid=2_955_6494",dataType:"script",success:function(){}}))}}),a.find("#ttbar-serv .dd").html(b),a.find("#ttbar-serv").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(b){if(!b.attr("data-load")){b.attr("data-load",1);var c=setTimeout(function(){d("//d.jd.com/client/get")},3e3);var d=function(b){$.ajax({url:b,dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"getClientCallback",success:function(b){if(b&&"object"==typeof b){clearTimeout(c),b=b.data;var d='<div class="dd-spacer"></div>';var e=['<div class="item-client">\u5ba2\u6237</div>'];var f=['<div class="item-business">\u5546\u6237</div>'];$.each(b,function(a){var c=b[a];var d=!c.type;0==c.c&&e.push('<div class="item"><a href="'+c.u+'" target="_blank" '+d+">"+c.n+"</a></div>"),1==c.c&&f.push('<div class="item"><a href="'+c.u+'" target="_blank" '+d+">"+c.n+"</a></div>")}),d+=e.join(""),f.length>1&&(d+=f.join("")),a.find("#ttbar-serv .dd").html(d)}}})};d("//dc.3.cn/client/get")}}}),a.find("#ttbar-navs .dd").html(b),a.find("#ttbar-navs").dropdown({enterDelay:50,trigger:!0,current:"hover",leaveDelay:100,onchange:function(b){if(!b.attr("data-load")){b.attr("data-load",1);var c=setTimeout(function(){d("//d.jd.com/navigation/get")},3e3);var d=function(b){$.ajax({url:b,dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"getNavigationCallback",success:function(b){if(b&&"object"==typeof b){clearTimeout(c),b=b.data;var d='<div class="dd-spacer"></div>';$.each(b,function(a){var c=b[a];var e=c.s;var f="";$.each(e,function(a){var b=e[a];var c=b.c?'class="'+b.c+'"':"";f+='<div class="item"><a href="'+b.u+'" target="_blank" '+c+">"+b.n+"</a></div>"});var g=c.n;var h=c.c?'class="'+c.c+'"':"";c.u&&(g='<a href="'+c.u+'" target="_blank" '+h+">"+c.n+"</a>"),d+='<dl class="fore'+(a+1)+'">									<dt>'+g+"</dt>									<dd>										"+f+"									</dd>								</dl>"}),a.find("#ttbar-navs .dd").html(d)}}})};d("//dc.3.cn/navigation/get")}}})}return k});
/* jdf-1.0.0/ shoppingcart.js Date:2019-04-10 15:05:10 */
define("//misc.360buyimg.com/jdf/1.0.0/unit/shoppingcart/2.0.0/shoppingcart.js",["//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath.js"],function(require){require("//misc.360buyimg.com/jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");require("//misc.360buyimg.com/jdf/1.0.0/unit/trimPath/1.0.0/trimPath.js");window.pageConfig=window.pageConfig||{},pageConfig.shoppingcartUrl=$("#settleup-url").attr("data-from")?$("#settleup-url").attr("data-from"):"//cart.jd.com/";var e={el:null,init:function(){var a=this;var b=function(){null!=a.DATA_Amount&&$("#shopping-amount").text(a.DATA_Amount)};document.getElementById("settleup")?(null!=a.DATA_Amount&&$("#settleup s").eq(0).addClass("shopping"),this.el=$("#settleup dl")):document.getElementById("settleup-2013")?this.el=$("#settleup-2013 dl"):document.getElementById("settleup-2014")&&(this.el=$("#settleup-2014"),this.el.find(".ci-right").html("&gt;"),this.el.find(".dorpdown-layer").html('<div class="spacer"></div><div id="settleup-content"><span class="loading"></span></div>'),this.el.find(".cw-icon .ci-right").after('<i class="ci-count" id="shopping-amount"></i>')),b(),null!=this.el&&($('a[href$="//cart.jd.com/cart/cart.html"]',this.el).attr("href","//cart.jd.com/cart.action"),this.el.dropdown({enterDelay:500,trigger:!0,current:"hover",onchange:function(){a.FN_Refresh(),$("#settleup-url").attr("href",pageConfig.shoppingcartUrl)}}))},DATA_Cookie:"cn",DATA_Amount:readCookie("cn")||"0",URL_Serv:"//cart.jd.com/cart/miniCartServiceNew.action",TPL_Iframe:'<iframe scrolling="no" frameborder="0" marginheight="0" marginwidth="0" id="settleup-iframe"></iframe>',TPL_NoGoods:'<div class="spacer"></div><div class="prompt"><div class="nogoods"><b></b>\u8d2d\u7269\u8f66\u4e2d\u8fd8\u6ca1\u6709\u5546\u54c1\uff0c\u8d76\u7d27\u9009\u8d2d\u5427\uff01</div></div>',TPL_List:{wrap:'<div class="spacer"></div><div id="settleup-content"><div class="smt"><h4 class="fl">\u6700\u65b0\u52a0\u5165\u7684\u5546\u54c1</h4></div><div class="smc"></div><div class="smb ar"><div class="p-total">\u5171<b>${Num}</b>\u4ef6\u5546\u54c1\u3000\u5171\u8ba1<strong>\uffe5 ${TotalPromotionPrice.toFixed(2)}</strong></div><a href="${pageConfig.shoppingcartUrl}" title="\u53bb\u8d2d\u7269\u8f66" id="btn-payforgoods">\u53bb\u8d2d\u7269\u8f66</a></div></div>',sigle:'<ul id="mcart-sigle">{for list in TheSkus}  <li>      <div class="p-img fl"><a href="//item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><a href="//item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.Id}" data-ItemType="${list.ItemType}" data-type="RemoveProduct" href="javascript:void(0)">\u5220\u9664</a>      </div>      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>{/for}</ul>',gift:'<ul id="mcart-gift">{for list in TheGifts}  <li>      <div class="p-img fl"><a href="//item.jd.com/${list.MainSKU.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.MainSKU.Id)}n5/${list.MainSKU.ImgUrl}" width="50" height="50" alt=""></a></div>      <div class="p-name fl"><a href="//item.jd.com/${list.MainSKU.Id}.html" title="${list.MainSKU.Name}" target="_blank">${list.MainSKU.Name}</a></div>      <div class="p-detail fr ar">          <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span>          <br>          {if parseInt(list.FanPrice)>0}          <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span>          <br>          {/if}          {if parseInt(list.Score)>0}          <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span>          <br>          {/if}          <a class="delete" data-id="${list.MainSKU.Id}" data-type="RemoveProduct" href="#delete">\u5220\u9664</a>      </div>      {for gift in list.Skus}      <div class="gift"><a href="//item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>      {/for}      {for jq in list.CouponAD}      <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>      {/for}  </li>  {/for}</ul>',suit:'{for suit in TheSuit}                    <ul id="mcart-suit">                        <li class="dt">                            <div class="fl">{if suit.VskuId}<a href="//item.jd.com/${suit.VskuId}.html" target="_blank"><span>[\u5957\u88c5]</span> ${suit.Name}</a>{else}<span>[\u5957\u88c5]</span> ${suit.Name}{/if}</div>                            <div class="fr">                                <em>\u5c0f\u8ba1\uff1a\uffe5${(suit.PromotionPrice*suit.Num).toFixed(2)}</em>                                {if suit.VskuId}                                    <a class="delete" data-id="${suit.VskuId}" data-SuitType="${suit.SuitType}" data-type="RemoveSuit" href="javascript:void(0);">\u5220\u9664</a>                                {/if}                            </div>                            <div class="clr"></div>                        </li>                        {for list in suit.Skus}                            <li {if suit.VskuId} class="visual-suit"{/if}>                                <div class="p-img fl"><a href="//item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>                                <div class="p-name fl"><span></span><a href="//item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>                                <div class="p-detail fr ar">                                    <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span><br>                                    {if parseInt(list.FanPrice)>0}                                        <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span><br>                                    {/if}                                    {if parseInt(list.Score)>0}                                        <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span><br>                                    {/if}                                    {if !suit.VskuId}                                        <a class="delete" data-id="${list.Id}|${suit.Id}" data-ItemType="${list.ItemType}" data-type="RemoveSuit" href="javascript:void(0)">\u5220\u9664</a>                                    {/if}                                </div>                                {for gift in list.Gifts}                                    <div class="gift"><a href="//item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>                                {/for}                                {for jq in list.CouponAD}                                    <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>                                {/for}                            </li>                        {/for}                    </ul>				{/for}',mj:'{for mj in ManJian}                    <ul id="mcart-mj">                        <li class="dt">                            <div class="fl"><span class="hl-green">\u6ee1\u51cf</span>{if mj.ManFlag} \u5df2\u8d2d\u6ee1{if mj.ManNum>0}${mj.ManNum}\u4ef6{else}${mj.ManPrice}\u5143{/if}\uff0c\u5df2\u51cf${mj.JianPrice}\u5143{else}\u8d2d\u6ee1{if mj.ManNum>0}${mj.ManNum}\u4ef6{else}${mj.ManPrice}\u5143{/if}\uff0c\u5373\u53ef\u4eab\u53d7\u6ee1\u51cf\u4f18\u60e0{/if}</div>                            <div class="fr"><em>\u5c0f\u8ba1\uff1a\uffe5${(mj.PromotionPrice*mj.Num).toFixed(2)}</em></div>                            <div class="clr"></div>                        </li>                        {for list in mj.Skus}                            <li>                                <div class="p-img fl">                                    <a href="//item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a>                                </div>                                <div class="p-name fl"><span></span><a href="//item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>                                <div class="p-detail fr ar">                                    <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span><br>                                    {if parseInt(list.FanPrice)>0}                                        <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span><br>                                    {/if}                                    {if parseInt(list.Score)>0}                                        <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span><br>                                    {/if}                                    <a class="delete" data-id="${list.Id}|${mj.Id}" data-ItemType="${list.ItemType}" data-type="RemoveSuit" href="#delete">\u5220\u9664</a>                                </div>                                {for gift in list.Gifts}                                    <div class="gift"><a href="//item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>                                {/for}                                {for jq in list.CouponAD}                                    <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>                                {/for}                            </li>                        {/for}                        {for suit in mj.Suits}                            {if suit.VskuId}                                <li class="visual-suit">									<div class="vs-dt">										<p><a href="//item.jd.com/${suit.VskuId}.html" target="_blank"><b>[\u5957\u88c5]</b> ${suit.Name}</a></p>										<p class="vs-price">											\u5c0f\u8ba1\uff1a<b>\uffe5${suit.PromotionPrice}</b> <a class="delete" data-id="${suit.VskuId}|${mj.Id}" data-SuitType="${suit.SuitType}" data-type="RemoveSuit" href="javascript:void(0);">\u5220\u9664</a>										</p>                                    </div>                                </li>                                {for sku in suit.Skus}                                    <li class="visual-suit">                                        <div class="p-img fl">                                            <a href="//item.jd.com/${sku.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(sku.Id)}n5/${sku.ImgUrl}" width="50" height="50" alt=""></a>                                        </div>                                        <div class="p-name fl"><span></span><a href="//item.jd.com/${sku.Id}.html" title="${sku.Name}" target="_blank">${sku.Name}</a></div>                                        <div class="p-detail fr ar">                                            <span class="p-price"><strong>\uffe5${sku.PromotionPrice.toFixed(2)}</strong>\xd7${sku.Num}</span><br>                                            {if parseInt(sku.FanPrice)>0}                                                <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${sku.FanPrice}</em></span><br>                                            {/if}                                            {if parseInt(sku.Score)>0}                                                <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${sku.Score}</em></span><br>                                            {/if}                                        </div>                                        {for gift in sku.Gifts}                                            <div class="gift">                                                <a href="//item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a>                                            </div>                                        {/for}                                        {for jq in sku.CouponAD}                                            <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>                                        {/for}                                    </li>                                {/for}                            {/if}                        {/for}                    </ul>				{/for}',mz:'{for mz in ManZeng}                    <ul id="mcart-mz">                        <li class="dt">                            <div class="fl"><span class="hl-orange">{if mz.FullRefundType == 24}\u6362\u8d2d{else}{if mz.AddMoney > 0}\u52a0\u4ef7\u8d2d{else}\u6ee1\u8d60{/if}{/if}</span>                                    {if mz.AddMoney > 0 || mz.FullRefundType == 24}                                        {if mz.ManFlag}\u5df2\u8d2d\u6ee1{if mz.FullRefundType == 24}${mz.ManNum}\u4ef6{else}${mz.ManPrice}\u5143{/if}\uff0c\u60a8{if mz.ManGifts.length>0}\u5df2{else}\u53ef{/if}\u52a0\u4ef7\u6362\u8d2d\u5546\u54c1                                    {else}                                        \u8d2d\u6ee1{if mz.FullRefundType == 24}${mz.ManNum}\u4ef6{else}${mz.ManPrice}\u5143{/if}\uff0c\u5373\u53ef\u52a0\u4ef7\u6362\u8d2d\u5546\u54c1                                    {/if}                                {else}                                    {if mz.ManFlag}                                        \u5df2\u8d2d\u6ee1${mz.ManPrice}\u5143\uff0c\u60a8{if mz.ManGifts.length>0}\u5df2{else}\u53ef{/if}\u9886\u8d60\u54c1                                    {else}                                        \u8d2d\u6ee1${mz.ManPrice}\u5143\uff0c\u5373\u53ef\u9886\u53d6\u8d60\u54c1                                    {/if}                                {/if}                            </div>                            <div class="fr"><em>\u5c0f\u8ba1\uff1a\uffe5${(mz.PromotionPrice*mz.Num).toFixed(2)}</em></div>                            <div class="clr"></div>                        </li>                        {for gift in mz.ManGifts}                            <li class="dt-mz"><a href="${gift.Id}" target="_blank">[{if mz.AddMoney > 0 || mz.FullRefundType == 24}\u6362\u8d2d\u54c1{else}\u8d60\u54c1{/if}]${gift.Name}</a>\xd7${gift.Num}</li>                        {/for}                        {for list in mz.Skus}                            <li>                                <div class="p-img fl"><a href="//item.jd.com/${list.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(list.Id)}n5/${list.ImgUrl}" width="50" height="50" alt=""></a></div>                                <div class="p-name fl"><span></span><a href="//item.jd.com/${list.Id}.html" title="${list.Name}" target="_blank">${list.Name}</a></div>                                <div class="p-detail fr ar">                                    <span class="p-price"><strong>\uffe5${list.PromotionPrice.toFixed(2)}</strong>\xd7${list.Num}</span><br>                                    {if parseInt(list.FanPrice)>0}                                        <span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${list.FanPrice}</em></span><br>                                    {/if}                                    {if parseInt(list.Score)>0}                                        <span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${list.Score}</em></span><br>                                    {/if}                                    <a class="delete" data-id="${list.Id}|${mz.Id}" data-ItemType="${list.ItemType}" data-type="RemoveSuit" href="#delete">\u5220\u9664</a>                                </div>                                {for gift in list.Gifts}                                    <div class="gift"><a href="//item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a></div>                                {/for}                                {for jq in list.CouponAD}                                    <div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>                                {/for}                            </li>                        {/for}                        {for suit in mz.Suits}							{if suit.VskuId}								<li class="visual-suit">									<div class="vs-dt">										<p><a href="//item.jd.com/${suit.VskuId}.html" target="_blank"><b>[\u5957\u88c5]</b> ${suit.Name}</a></p>										<p class="vs-price">\u5c0f\u8ba1\uff1a<b>\uffe5${suit.PromotionPrice}</b> <a class="delete" data-id="${suit.VskuId}|${mz.Id}" data-SuitType="${suit.SuitType}" data-type="RemoveSuit" href="javascript:void(0);">\u5220\u9664</a></p>									</div>								</li>								{for sku in suit.Skus}									<li class="visual-suit">										<div class="p-img fl">											<a href="//item.jd.com/${sku.Id}.html" target="_blank"><img src="${pageConfig.FN_GetImageDomain(sku.Id)}n5/${sku.ImgUrl}" width="50" height="50" alt=""></a>										</div>										<div class="p-name fl"><span></span><a href="//item.jd.com/${sku.Id}.html" title="${sku.Name}" target="_blank">${sku.Name}</a></div>										<div class="p-detail fr ar">											<span class="p-price"><strong>\uffe5${sku.PromotionPrice.toFixed(2)}</strong>\xd7${sku.Num}</span><br>											{if parseInt(sku.FanPrice)>0}												<span class="hl-green">\u8fd4\u73b0\uff1a\uffe5<em>${sku.FanPrice}</em></span><br>											{/if}											{if parseInt(sku.Score)>0}												<span class="hl-orange">\u9001\u4eac\u8c46\uff1a<em>${sku.Score}</em></span><br>											{/if}										</div>										{for gift in sku.Gifts}											<div class="gift">												<a href="//item.jd.com/${gift.Id}.html" target="_blank">[{if gift.Type==2}\u8d60\u54c1{/if}{if gift.Type==1}\u9644\u4ef6{/if}] ${gift.Name}</a>											</div>										{/for}										{for jq in sku.CouponAD}											<div class="gift-jq">[\u8d60\u5238] \u8d60\u9001${jq.Jing}\u5143\u4eac\u5238 ${jq.LimitAd}</a></div>										{/for}									</li>								{/for}							{/if}                        {/for}                    </ul>				{/for}'},FN_BindEvents:function(){var a=this;$("#settleup-content .delete").bind("click",function(){var b=$(this).attr("data-id").split("|"),c=$(this).attr("data-type"),d=$(this).attr("data-ItemType")||$(this).attr("data-SuitType"),e={method:c,cartId:b[0],type:d};b&&(b.length>1&&b[1]&&(e.targetId=b[1]),$.ajax({url:a.URL_Serv,data:e,dataType:"jsonp",success:function(b){b.Result&&a.FN_Refresh()}}))})},FN_Refresh:function(){var a=this;var b=this.el;var c;c=/dl/.test(b.selector)?b.find("dd").eq(0):b.find(".dorpdown-layer").eq(0);var e=function(b){var d=b.Cart,e=d.TheSkus.length+d.TheSuit.length+d.TheGifts.length+d.ManJian.length+d.ManZeng.length,f=a.TPL_List.sigle.process(b.Cart),g=a.TPL_List.gift.process(b.Cart),h=a.TPL_List.suit.process(b.Cart),i=a.TPL_List.mz.process(b.Cart),j=a.TPL_List.mj.process(b.Cart);if(e>0?(c.html(a.TPL_List.wrap.process(b.Cart)),c.find("#settleup-content .smc").html(f+g+h+j+i),$("#settleup-url").attr("href",pageConfig.shoppingcartUrl)):c.html(a.TPL_NoGoods),$.browser.msie&&6==$.browser.version){var k=$("#settleup-content");k.before(a.TPL_Iframe);var l=$("#settleup-iframe");l.height(k.height())}a.FN_BindEvents()};$.ajax({url:a.URL_Serv,data:{method:"GetCart"},dataType:"jsonp",success:function(a){e(a)}}),a.DATA_Amount=readCookie(a.DATA_Cookie),null!=a.DATA_Amount&&$("#shopping-amount").text(a.DATA_Amount).parent().show()}};function f(){e.init()}return f});
