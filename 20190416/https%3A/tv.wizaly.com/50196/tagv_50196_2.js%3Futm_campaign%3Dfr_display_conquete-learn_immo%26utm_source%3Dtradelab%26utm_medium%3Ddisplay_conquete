function etvcb(n,t){var i=window["_etv"+t];i.launchConfirmation(n)}var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),esvtrackview;Date.prototype.getTimeAlias=Date.prototype.getTime;Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(n){if(null==this)throw new TypeError("this is null or not defined");for(var i=Object(this),t=i.length>>>0,r=arguments[1]>>0,u=r<0?Math.max(t+r,0):Math.min(r,t),e=arguments[2],f=void 0===e?t:e>>0,o=f<0?Math.max(t+f,0):Math.min(f,t);u<o;)i[u]=n,u++;return i}}),function(n){function gt(){return new tt}var it=window.location.protocol.toLowerCase(),g,t,nt,i;n.AID="50196";n.TID="2";n.V="1";n.TV="2";n.VURL=("https:"!=it?"http://":"https://")+"tv.wizaly.com/v/";var o="",rt="",ut="281",ft="0",et="0",ot="{{CONF_HOVER_SEC}}",st="1",ht="50",ct="1",lt="1",p=encodeURIComponent||window.escape,r=decodeURIComponent||window.unescape,u=RegExp,at=function(t){var r={message:t.message,stack:t.stack},u=n.VURL+"err.gif?esvid=A"+n.AID+"&esvtv="+n.TV+"&"+a(r,function(n){return n}),i=new Image;i.width=1;i.border="0";i.src=u},w=function(){try{var n=$sf&&$sf.ext;if(n)return n}catch(t){}return null};n.doc=document;n.win=window;n.loc=location;n.scr=screen;n.nav=navigator;n.inIFrame=n.win.top!=n.win.self;var f=w(),c=f!=null,vt="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype,yt=Object.prototype.hasOwnProperty.call(n.win,"mozInnerScreenY");n.epoch=function(){return Math.round((new Date).getTime()/1e3)};n.rand=function(){return Math.random()};n.getdate=function(){return new Date};n.log=function(){};n.err=function(n){return at(n)};n.activationApplied=function(){};n.confirmationApplied=function(){};var pt=function(){return},wt=function(n){return n},e=function(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)},l=function(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent&&n.detachEvent("on"+t,i)},bt=function(n){for(var t=2166136261,i=0;i<n.length;++i)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=n.charCodeAt(i);return t>>>0},hi=function(n){if(n){var t=new u("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(n);return t?t[1]:n}return""},s=function(t,i){return r((new u("[?|&]"+t+"=([^&;]+?)(&|#|;|$)","gi").exec(i?i:n.loc.search)||[,""])[1].replace(/\+/g,"%20"))||null},kt=function(t,i,f){for(var s={},e,h=new u("[?&;]([^&;]+?)=([^&;]+)","gi"),c=new u(t),o;e=h.exec(i?i:n.loc.search);)o=e[1].match(c),(!f&&o||f&&!o)&&(s[e[1]]=r(e[2]));return s},dt=function(){var t="";if(n.inIFrame)try{t=n.win.document.referrer}catch(i){try{t=n.doc.referrer}catch(r){}}return t},b=function(){return n.loc.href},a=function(n,t,i){var r,u;if(i=i||"",t=t||wt,r=[],n)for(u in n)r.push(p(u+i)+"="+p(t(n[u])));return r.join("&")},ci=function(n){var i,u,f,t;if(n===void 0&&(n=""),n==null)return{};for(i={},f=n.split("&"),t=0;t<f.length;t++)u=f[t].split("="),i[r(u[0])]=r(u[1]);return i},k=function(){var e=n.AID+"_"+n.TID,o=document.getElementById("esvtagv_"+e),i,r,t,u,f;if(o)return o;for(i="/tagv_"+e,r=document.getElementsByTagName("script"),t=r.length-1;t>=0;t--)if(u=r[t],f=u.src,f.indexOf(i+".js")>-1||f.indexOf(i+"_debug.js")>-1)return u;return null};n.getTracker=gt;var ni=function(){var n=document.createElement("div"),r,u,t;n.style.visibility="hidden";n.style.width="100px";n.style.height="100px";n.style.msOverflowStyle="scrollbar";document.body.appendChild(n);r=n.offsetWidth;u=n.offsetHeight;n.style.overflow="scroll";t=document.createElement("div");t.style.width="100%";t.style.height="100%";n.appendChild(t);var f=t.offsetWidth,e=t.offsetHeight,i={};return i.width=r-f,i.height=u-e,n.parentNode.removeChild(n),i},d=function(){function n(){}return n.getVendorId=function(){var t=ut;return t&&!isNaN(parseInt(t))?parseInt(t):n.DEF_VENDORID},n.getPurposeId=function(){return n.DEF_PURPOSEID},n.DEF_VENDORID=281,n.DEF_PURPOSEID=5,n}(),ti=function(){function t(){this.msgCbs={}}return t.prototype.checkConsent=function(t,i,r,u){var f=n.win,e=this.msgCbs,s=function(){return f.__cmp?(f.__cmp("getVendorConsents",[t],function(n,t){return o(n,t)}),!0):!1},h=function(){var n=w();return n?(r(),!0):!1},c=function(){var r=l(),n,i,u;return!r||!f.postMessage?!1:(n=Math.random()+"",i=function(t){var r=typeof t.data=="string"?JSON.parse(t.data):t.data,i;r.__cmpReturn&&(i=r.__cmpReturn,i&&i.callId==n&&(o(i.returnValue,i.hasOwnProperty("success")?i.success:i.returnValue!=null),e[n]&&(f.removeEventListener("message",e[n]),delete e[n])))},e[n]=i,f.addEventListener("message",i,!1),u={__cmpCall:{command:"getVendorConsents",parameter:[t],callId:n}},r.postMessage(u,"*"),!0)},o=function(n,f){f&&n&&(n.gdprApplies?n.vendorConsents&&n.vendorConsents[t]&&n.purposeConsents&&n.purposeConsents[i]?r():u():r())},l=function(){for(var n=f,t;!t;){try{n.frames.__cmpLocator&&(t=n)}catch(i){}if(n===f.top)break;n=n.parent}return t};return s()||h()||c()},t}(),ii=function(){function t(){}return t.prototype.checkConsent=function(t,i,r,u){var f=n.doc.location.href,h,o,c,e;if(f&&s("gdpr",f)||(h=k(),h&&h.src&&(f=h.src)),f)if(o=s("gdpr",f),o=="1"||o=="true"){if(c=s("gdpr_consent",f),c&&(e=v.decodeConsentString(c),e&&e.allowedVendorIds&&e.allowedPurposeIds))return e.allowedVendorIds.indexOf(t)>-1&&e.allowedPurposeIds.indexOf(i)?r():u(),!0}else if(o=="0"||o=="false")return r(),!0;return!1},t}(),v;(function(n){function e(n){var t=y(n),s=t.version,h=t.cmpId,c=t.vendorListVersion,l=t.purposeIdBitString,e=t.maxVendorId,a=t.created,v=t.lastUpdated,p=t.isRange,o=t.defaultConsent,w=t.vendorIdBitString,b=t.vendorRangeList,k=t.cmpVersion,d=t.consentScreen,g=t.consentLanguage,r={version:s,cmpId:h,vendorListVersion:c,allowedPurposeIds:u(l),maxVendorId:e,created:a,lastUpdated:v,cmpVersion:k,consentScreen:d,consentLanguage:g,allowedVendorIds:[]},f,i;if(p)for(f=b.reduce(function(n,t){for(var u=t.isRange,r=t.startVendorId,f=t.endVendorId,e=u?f:r,i=r;i<=e;i+=1)n[i]=!0;return n},{}),r.allowedVendorIds=[],i=0;i<=e;i+=1)(o&&!f[i]||!o&&f[i])&&r.allowedVendorIds.indexOf(i)===-1&&r.allowedVendorIds.push(i);else r.allowedVendorIds=u(w);return r}n.decodeConsentString=e;var o=function(n,t){var i,r;for(t===void 0&&(t="0"),i="",r=0;r<n;r+=1)i+=t;return i},s=function(n,t){return o(Math.max(0,t))+n},t=function(n,t,i){return parseInt(n.substr(t,i),2)},h=function(n,i,r){return new Date(t(n,i,r)*100)},c=function(n,t){return parseInt(n.substr(t,1),2)===1},i=function(n){var i=t(n);return String.fromCharCode(i+65).toLowerCase()},l=function(n,t,r){var u=n.substr(t,r);return i(u.slice(0,r/2))+i(u.slice(r/2))},a=function(n){var u=n.input,o=n.output,i=n.startPosition,f=n.field,y=f.type,v=f.numBits,p=f.decoder,w=f.validator,s=f.listCount,e,a;if(typeof w=="function"&&!w(o))return{newPosition:i};if(typeof p=="function")return p(u,o,i);e=typeof v=="function"?v(o):v;a=0;typeof s=="function"?a=s(o):typeof s=="number"&&(a=s);switch(y){case"int":return{fieldValue:t(u,i,e)};case"bool":return{fieldValue:c(u,i)};case"date":return{fieldValue:h(u,i,e)};case"bits":return{fieldValue:u.substr(i,e)};case"list":return new Array(a).fill().reduce(function(n){var t=r({input:u,fields:f.fields,startPosition:n.newPosition}),i=t.decodedObject,e=t.newPosition;return{fieldValue:n.fieldValue.concat([i]),newPosition:e}},{fieldValue:[],newPosition:i});case"language":return{fieldValue:l(u,i,e)};default:throw new Error("Unknown "+y);}},r=function(n){var r=n.input,u=n.fields,i=n.startPosition,f=i===void 0?0:i,t=f,e=u.reduce(function(n,i){var s=i.name,u=i.numBits,f=a({input:r,output:n,startPosition:t,field:i}),e=f.fieldValue,o=f.newPosition;return e!==undefined&&(n[s]=e),o!==undefined?t=o:typeof u=="number"&&(t+=u),n},{});return{decodedObject:e,newPosition:t}},v=function(n,i){var u,e,o;if(i===void 0&&(i=f),u=t(n,0,p),typeof u!="number")throw new Error("Unknown version");else if(!f[u])throw new Error("Unsupported version");return e=i[u].fields,o=r({input:n,fields:e}).decodedObject,o},y=function(n,t){for(var i=n,u,f,r,e;i.length%4!=0;)i+="=";for(i=i.replace(/-/g,"+").replace(/_/g,"/"),u=g.decode(i),f="",r=0;r<u.length;r+=1)e=u.charCodeAt(r).toString(2),f+=s(e,8-e.length);return v(f,t)},u=function(n){return n.split("").reduce(function(n,t,i){return t==="1"&&n.indexOf(i+1)===-1&&n.push(i+1),n},[])},p=6,f={1:{version:1,metadataFields:["version","created","lastUpdated","cmpId","cmpVersion","consentScreen","vendorListVersion"],fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16},{name:"isRange",type:"bool",numBits:1},{name:"vendorIdBitString",type:"bits",numBits:function(n){return n.maxVendorId},validator:function(n){return!n.isRange}},{name:"defaultConsent",type:"bool",numBits:1,validator:function(n){return n.isRange}},{name:"numEntries",numBits:12,type:"int",validator:function(n){return n.isRange}},{name:"vendorRangeList",type:"list",listCount:function(n){return n.numEntries},validator:function(n){return n.isRange},fields:[{name:"isRange",type:"bool",numBits:1},{name:"startVendorId",type:"int",numBits:16},{name:"endVendorId",type:"int",numBits:16,validator:function(n){return n.isRange}},]},]}}})(v||(v={})),function(n){function r(n){var r;if(n=String(n).replace(i,""),r=n.length,r%4==0&&(n=n.replace(/==?$/,""),r=n.length),r%4==1||/[^+a-zA-Z0-9/]/.test(n))throw new Error("Invalid char");for(var u=0,f,e,o="",s=-1;++s<r;)e=t.indexOf(n.charAt(s)),f=u%4?f*64+e:e,u++%4&&(o+=String.fromCharCode(255&f>>(-2*u&6)));return o}var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=/[\t\n\f\r ]/g;n.decode=r}(g=n.base64||(n.base64={})),function(n){n[n.None=0]="None";n[n.SafeFrameApi=1]="SafeFrameApi";n[n.Geometry=2]="Geometry";n[n.IntersectionObserver=3]="IntersectionObserver"}(t||(t={}));nt=function(){function i(n){this.visibleRatio=0;this.visibilityMethod=t.None;this.adElement=n;this.refresh()}return i.prototype.refresh=function(){var u=this.adElement,r,i,f,e;if(n.inIFrame&&!c&&(this.scrollbarSize=ni()),r=!1,c&&this.refreshDimensionsInSafeFrame()&&(this.visibilityMethod=t.SafeFrameApi,r=!0),!r){try{this.zIndex=this.getZindex()}catch(o){}if(n.inIFrame?this.refreshWindowsDimensionsInFrame():this.refreshWindowsDimensionsInDocument(),i=null,u!=null)try{i=u.getBoundingClientRect()}catch(o){}n.inIFrame?vt?(this.adWidth=n.win.innerWidth,this.adHeight=n.win.innerHeight,this.adTop=0,this.adBottom=0,this.adLeft=0,this.adRight=0,this.visibilityMethod=t.IntersectionObserver):yt&&(f=78,e=8,this.adWidth=n.win.innerWidth,this.adHeight=n.win.innerHeight,this.adTop=n.win.mozInnerScreenY-n.win.screenY-f,this.adBottom=this.adTop+this.adHeight,this.adLeft=n.win.mozInnerScreenX-n.win.screenX-e,this.adRight=this.adLeft+this.adWidth,this.visibilityMethod=t.Geometry):i?(this.adWidth=i.width?i.width:i.right-i.left,this.adHeight=i.height?i.height:i.bottom-i.top,this.adTop=i.top,this.adBottom=i.bottom,this.adLeft=i.left,this.adRight=i.right,this.visibilityMethod=t.Geometry):(this.adWidth=n.win.innerWidth,this.adHeight=n.win.innerHeight,this.adTop=0,this.adBottom=0,this.adLeft=0,this.adRight=0,this.visibilityMethod=t.None)}},i.prototype.refreshWindowsDimensionsInDocument=function(){typeof n.win.innerWidth=="number"?(this.windowWidth=n.win.innerWidth,this.windowHeight=n.win.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(this.windowWidth=document.documentElement.clientWidth,this.windowHeight=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(this.windowWidth=document.body.clientWidth,this.windowHeight=document.body.clientHeight)},i.prototype.refreshWindowsDimensionsInFrame=function(){this.windowWidth=n.win.outerWidth-this.scrollbarSize.width;this.windowHeight=n.win.outerHeight-this.scrollbarSize.height},i.prototype.refreshDimensionsInSafeFrame=function(){try{var i=f.geom().win,t=f.geom().self;this.windowHeight=i.h;this.windowWidth=i.w;this.adHeight=t.h;this.adWidth=t.w;this.adTop=t.t;this.adBottom=t.b;this.adLeft=t.l;this.adRight=t.r;this.zIndex=t.z}catch(r){return n.log("Exception or no safeframes available: "+r.message),n.err(r),!1}return!0},i.prototype.getZindex=function(){for(var i,r=0,t=0,f=document.getElementsByTagName("*"),u=0;u<f.length;u++)i=f[u],i.currentStyle?t=parseInt(i.currentStyle.zIndex):n.win.getComputedStyle&&n.win.getComputedStyle(i)&&(t=parseInt(n.win.getComputedStyle(i).getPropertyValue("z-index"))),!isNaN(t)&&t>r&&(r=t);return r},i.prototype.isHidden=function(){var i=this.getHiddenProp(),t=document.hasFocus();if(this.focusAvailable=!1,n.inIFrame)if(f&&f.winHasFocus)t=t||f.winHasFocus(),this.focusAvailable=!0;else try{t=t||n.win.top.document.hasFocus();this.focusAvailable=!0}catch(r){}if(i)this.focusAvailable=!0;else return!1;return document[i]},i.prototype.getHiddenProp=function(){var t=["webkit","moz","ms","o"],n;if("hidden"in document)return"hidden";for(n=0;n<t.length;n++)if(t[n]+"Hidden"in document)return t[n]+"Hidden";return null},i}(),function(n){n[n.TagActivation=0]="TagActivation";n[n.Visibility=1]="Visibility";n[n.Hover=2]="Hover";n[n.Click=3]="Click"}(i||(i={}));var h=function(){function t(n,t,i){this.visibleTime=0;this.confirmTimestamp=0;this.tracker=n;this.confirmType=i;this.adProperties=t}return t.prototype.addMouseEvents=function(t,i,r){r===void 0&&(r=!1);r?n.inIFrame?(e(n.win.self,t,i),e(n.win.top,t,i)):e(n.win,t,i):n.inIFrame?e(document.body.parentElement,t,i):e(this.tracker.element,t,i)},t.prototype.removeMouseEvents=function(t,i,r){r===void 0&&(r=!1);r?l(n.win,t,i):n.inIFrame?l(document.body.parentElement,t,i):l(this.tracker.element,t,i)},t.prototype.start=function(){},t.prototype.stop=function(){},t.prototype.confirmed=function(n){this.confirmTimestamp=n;this.tracker.fire(this)},t}(),ri=function(n){function t(t,r){return n.call(this,t,r,i.TagActivation)||this}return __extends(t,n),t.prototype.start=function(){n.prototype.start.call(this);n.prototype.confirmed.call(this,(new Date).getTime())},t}(h),ui=function(n){function t(t,r){var u=n.call(this,t,r,i.Click)||this;return u.clickEvent=function(n){return u.click(n,u)},u}return __extends(t,n),t.prototype.start=function(){n.prototype.start.call(this);this.lastTimestamp=(new Date).getTime();n.prototype.addMouseEvents.call(this,"click",this.clickEvent)},t.prototype.click=function(){var n=(new Date).getTime();this.visibleTime+=n-this.lastTimestamp;this.confirmed(n)},t.prototype.confirmed=function(t){this.stop();n.prototype.confirmed.call(this,t)},t.prototype.stop=function(){n.prototype.stop.call(this);n.prototype.removeMouseEvents.call(this,"click",this.clickEvent)},t}(h),y=function(n){function t(t,r){var u=n.call(this,t,r,i.Visibility)||this;return u.minVisibleRatio=0,u.minVisibleTimeInSecond=1,u.BrowserMustHaveFocus=!1,u}return __extends(t,n),t.prototype.start=function(){var t=this;n.prototype.start.call(this);this.refresh();this.timerToken=setInterval(function(){return t.refresh()},200)},t.prototype.stop=function(){n.prototype.stop.call(this);clearTimeout(this.timerToken)},t.prototype.refresh=function(){var i=(new Date).getTime(),n=this.adProperties,r;n.refresh();var u=this.refreshVisibleRatio(),t=!1;return u&&(t=n.visibleRatio>=this.minVisibleRatio,this.BrowserMustHaveFocus&&(r=!n.isHidden(),t=t&&(n.focusAvailable&&r||!n.focusAvailable)),t&&this.lastVisibleState&&(this.visibleTime+=i-this.lastTimestamp,this.visibleComplete=this.visibleTime>this.minVisibleTimeInSecond*1e3),this.visibleComplete&&this.confirmed(i)),this.lastVisibleState=t,this.lastTimestamp=i,i},t.prototype.confirmed=function(t){this.stop();n.prototype.confirmed.call(this,t)},t.prototype.refreshVisibleRatio=function(){return!1},t}(h),fi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.refreshVisibleRatio=function(){return this.adProperties.visibleRatio=f.inViewPercentage(),!0},t}(y),ei=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.refreshVisibleRatio=function(){var n=this.adProperties,t=Math.max(0,n.adHeight-Math.max(0,n.adBottom-n.windowHeight)-Math.max(0,0-n.adTop)),i=Math.max(0,n.adWidth-Math.max(0,n.adRight-n.windowWidth)-Math.max(0,0-n.adLeft)),r=n.adWidth*n.adHeight,u=i*t;return n.visibleRatio=u/r*100,!0},t}(y),oi=function(t){function i(){return t!==null&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.start=function(){var i=this,r={root:null,rootMargin:"0px",threshold:[this.minVisibleRatio/100]};this.intersectionObserver=new IntersectionObserver(function(n,t){return i.handleIntersection(n,t)},r);this.intersectionObserverTarget=n.doc.documentElement;this.intersectionObserver.observe(this.intersectionObserverTarget);t.prototype.start.call(this)},i.prototype.stop=function(){this.intersectionObserver!=null&&(this.intersectionObserver.unobserve(this.intersectionObserverTarget),this.intersectionObserver.disconnect(),this.intersectionObserver=null);t.prototype.stop.call(this)},i.prototype.refreshVisibleRatio=function(){return this.intersectionObserver!=null},i.prototype.handleIntersection=function(n){n!=null&&n.length!=0&&(this.adProperties.visibleRatio=n[0].intersectionRatio*100)},i}(y),si=function(t){function r(n,r){var u=t.call(this,n,r,i.Hover)||this;return u.minVisibleTimeInSecond=1,u.BrowserMustHaveFocus=!1,u.enterEvent=function(n){return u.enter(n,u)},u.leaveEvent=function(n){return u.leave(n,u)},u}return __extends(r,t),r.prototype.start=function(){t.prototype.start.call(this);this.addMouseEvents()},r.prototype.stop=function(){t.prototype.stop.call(this);this.removeMouseEvents()},r.prototype.refresh=function(){var n=(new Date).getTime(),t=!0,i;return this.BrowserMustHaveFocus&&(i=!this.adProperties.isHidden(),t=t&&(this.adProperties.focusAvailable&&i||!this.adProperties.focusAvailable)),t&&this.lastVisibleState&&(this.visibleTime+=n-this.lastTimestamp,this.visibleComplete=this.visibleTime>this.minVisibleTimeInSecond*1e3),this.visibleComplete&&this.confirmed(n),this.lastTimestamp=n,this.lastVisibleState=t,n},r.prototype.enter=function(n,t){var i=this;t.refresh();this.timerToken=setInterval(function(){return i.refresh()},200)},r.prototype.leave=function(){clearTimeout(this.timerToken)},r.prototype.addMouseEvents=function(){t.prototype.addMouseEvents.call(this,"mouseenter",this.enterEvent);n.inIFrame?t.prototype.addMouseEvents.call(this,"mouseleave",this.leaveEvent):t.prototype.addMouseEvents.call(this,"mouseout",this.leaveEvent)},r.prototype.removeMouseEvents=function(){t.prototype.removeMouseEvents.call(this,"mouseenter",this.enterEvent);n.inIFrame?t.prototype.removeMouseEvents.call(this,"mouseleave",this.leaveEvent):t.prototype.removeMouseEvents.call(this,"mouseout",this.leaveEvent)},r}(h),tt=function(){function f(){this.prms=[];this.confirmed=!1;this.aid=parseInt(n.AID)||0;this.vurl=n.VURL;this.epok=n.epoch();this.viewId="0000000"+bt(n.rand().toString()+this.epok.toString()).toString(16);this.viewId=this.viewId.slice(-8)+this.epok.toString(16);try{this.initializeById()}catch(t){n.err(t)}}return f.prototype.initializeById=function(){var n=k(),r,u,f,i;if(n){if(n.id="",this.element=n.parentElement,r="",u="",n.hasAttribute("data-clickurl")||n.hasAttribute("data-parameters")?(r=n.getAttribute("data-clickurl"),u=n.getAttribute("data-parameters")):(f=n.src,r=s("clickurl",f),u=a(kt("clickurl",f,!0),null)),this.setParameters(u,r),i=new nt(this.getAdElement()),this.confirmTagActivation=new ri(this,i),ft=="1"&&(this.confirmClick=new ui(this,i)),et=="1"&&(this.confirmHover=new si(this,i),this.confirmHover.minVisibleTimeInSecond=parseInt(ot)||30),st=="1"){switch(i.visibilityMethod){case t.SafeFrameApi:this.confirmVisibility=new fi(this,i);break;case t.Geometry:this.confirmVisibility=new ei(this,i);break;case t.IntersectionObserver:this.confirmVisibility=new oi(this,i)}this.confirmVisibility&&(this.confirmVisibility.minVisibleRatio=parseInt(ht)||50,this.confirmVisibility.minVisibleTimeInSecond=parseInt(ct)||1,this.confirmVisibility.BrowserMustHaveFocus="1"==lt)}return!0}return!1},f.prototype.getAdElement=function(){var t=null;try{t=n.inIFrame?n.win.frameElement:this.element}catch(i){}return t},f.prototype.start=function(){var n=this;return this.confirmTagActivation&&this.startIfConsentOk(function(){return n.confirmTagActivation.start()}),this},f.prototype.startIfConsentOk=function(n){var f=d.getVendorId(),e=d.getPurposeId(),i=function(){},r,t;rt!="discard"&&(r=this,i=function(){r.vurl=r.vurl.replace(new u("(\\w+)://([^/]+)(/anonymize)?"),"$1://$2/anonymize");n()});t=!1;(o=="*"||o=="iab_url")&&(t=t||(new ii).checkConsent(f,e,n,i));(o=="*"||o=="iab_cmp")&&(t=t||(new ti).checkConsent(f,e,n,i));t||n()},f.prototype.launchConfirmation=function(n){this.tagActivationTimestamp=n;this.confirmHover&&this.confirmHover.start();this.confirmVisibility&&this.confirmVisibility.start();this.confirmClick&&this.confirmClick.start()},f.prototype.decodeRecurse=function(n,t){t===void 0&&(t=0);var i=r(n);return t==5?n:i.length==n.length?n:r(i,t+1)},f.prototype.GetClickTag=function(){var u=n.win.clickTAG0||n.win.clickTag0||n.win.clicktag0||n.win.clickTAG1||n.win.clickTag1||n.win.clicktag1,t,i;return u?undefined:(t=n.win.clickTAG||n.win.clickTag||n.win.clicktag,t||(i=location.search.match(/[\?\&]clickTag=([^\&]*)\&?/i),t=i?r(i[1]):undefined),t)},f.prototype.SetUtmsFromHrefOrOnclick=function(){for(var i,r,t=this.element.getElementsByTagName("a"),n=0,u=t.length;n<u;n++)i=t[n].getAttribute("href"),this.setClickUrlFromHrefOrOnclick("^(esv)|(utm_)|(wiz_)",i)||(r=t[n].getAttribute("onclick"),this.setClickUrlFromHrefOrOnclick("^(esv)|(utm_)|(wiz_)",r))},f.prototype.setClickUrlFromHrefOrOnclick=function(n,t){var o;if(t==undefined)return!1;for(var i,r=new u("[?&;]([^&;]+?)=([^&;]+)","gi"),f=new u(n),e=this.decodeRecurse(t);i=r.exec(e);)if(o=i[1].toLowerCase(),i[1].match(f))return this.prms.esvcu=t,!0;return!1},f.prototype.setParamsFromDataParameters=function(n){var i,o,f;if(n){var t=n.charAt(0),e=n.indexOf("/"),s=n.indexOf("=");for(t=="?"||t=="&"||t==";"||e>-1&&e<s||(n="?"+n),o=new u("[?&;]([^&;]+?)=([^&;]+)","gi");i=o.exec(n);)f=i[1].toLowerCase(),this.prms.indexOf(f)<0&&(this.prms[f]=r(i[2]))}},f.prototype.setParameters=function(n,t){if(this.setParamsFromDataParameters(n),t){this.prms.esvcu=t;return}var i=this.GetClickTag();if(t){this.prms.esvcu=t;return}this.SetUtmsFromHrefOrOnclick()},f.prototype.clearConfirmTimers=function(){this.confirmClick&&this.confirmClick.stop();this.confirmVisibility&&this.confirmVisibility.stop();this.confirmHover&&this.confirmHover.stop();n.log("timers and events cleared")},f.prototype.fire=function(r){var s=n.activationApplied,u,h,f,e,o;if(this.confirmed){n.log("Already confirmed");return}r.confirmType!=i.TagActivation&&(this.clearConfirmTimers(),this.confirmed=!0,this.prms.esvsts=this.tagActivationTimestamp,s=n.confirmationApplied);u=r.adProperties;u.refresh();h=n.scr.width+"x"+n.scr.height;this.prms.esvvid=this.viewId;this.prms.esvc=r.confirmType;this.prms.esvisc=u.visibilityMethod!=t.None?"1":"0";this.prms.esvf=n.inIFrame?"1":"0";this.prms.esvsf=c?"1":"0";this.prms.esvrsl=n.scr.width+"x"+n.scr.height;this.prms.esvwinrsl=u.windowWidth+"x"+u.windowHeight;this.prms.esvaddim=Math.floor(u.adWidth)+"x"+Math.floor(u.adHeight);this.prms.esvadlt=Math.floor(u.adLeft)+"x"+Math.floor(u.adTop);this.prms.esvadrb=Math.floor(u.adRight)+"x"+Math.floor(u.adBottom);u.zIndex&&(this.prms.esvadz=u.zIndex);this.prms.esvview=Math.floor(u.visibleRatio);this.prms.esvfocus=u.isHidden()?"0":"1";f=Math.floor(r.visibleTime);this.prms.esvviewts=f;this.prms.esvpub=n.inIFrame?dt().substr(0,2e3):b().substr(0,2e3);this.prms.esvads=n.inIFrame?b().substr(0,2e3):"";e="&"+a(this.prms,null);o="?esvid=A"+this.aid.toString()+(r.confirmType==i.TagActivation?"&esvcb=etvcb":"")+(e?e:"")+"&esvr="+n.rand().toString()+"&esvlv="+n.V+"&esvtv="+n.TV+"&esvtid="+n.TID+"&esvts="+(this.tst?this.tst:(new Date).getTime()).toString(10);r.confirmType!=i.TagActivation?this.firePixel("view.gif",o):this.fireJavascript("view.js",o);s(f)},f.prototype.firePixel=function(t,i){var u=this,f=u.vurl+t+i,r=new Image;r.width=1;r.border="0";r.src=f;r.onload=function(){pt(r)};u.fireHk&&u.fireHk(r.src);n.log(r.src)},f.prototype.fireJavascript=function(t,i){var u=this,e=u.vurl+t+i,r=n.doc.createElement("script"),f=n.doc.getElementsByTagName("script")[0];r.type="text/javascript";r.defer=!1;r.async=!1;r.src=e;f.parentNode.insertBefore(r,f);u.fireHk&&u.fireHk(r.src);n.log(r.src)},f}();n.ViewTracker=tt;typeof define=="function"&&define.amd&&define("esvtrackview",[],function(){return n})}(esvtrackview||(esvtrackview={})),function(){var t=window._novetv||t||!1,n;t||(n=esvtrackview.getTracker(),window["_etv"+n.viewId]=n,n.start())}()