"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var i=this.length>>>0,a=Number(arguments[1])||0;for((a=a<0?Math.ceil(a):Math.floor(a))<0&&(a+=i);a<i;a++)if(a in this&&this[a]===t)return a;return-1}),honey.def("lib:jquery, lib:mustache, plugin:stk",function(t){var o=!1;try{o=!![].map&&0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(_){}var r=function(t,i){for(var a=[],e=0;e<t.length;e++)a.push(t[e][i]);return a.join(",")};function i(t){var i=new RegExp("(?:^|;+|\\s+)"+t+"=([^;]*)"),a=document.cookie.match(i);return a?a[1]:""}var a=i("__MQGUID")||"",n=i("__STKUUID")||"",l=i("uuid")||"",c=(VIDEOINFO.vid,VIDEOINFO.cid,~~VIDEOINFO.rid||""),s=$("div[node-type=m-hotlist]"),d=$("div[node-type=m-playlist]"),p=$("#jTmpl_player_slider_hotlist").html(),m=$("#jTmpl_player_slider_playlist").html(),v="//rc.mgtv.com",h={},u={},I=!1,O=!1,e=!1,g=function(e){var t={c:VIDEOINFO.rid,vid:VIDEOINFO.vid,guid:a,uid:l,cookie:n,limit:5};$.ajax({type:"get",url:v+"/pc/pllike",data:t,dataType:"jsonp",jsonpCallback:"rc_pllike_"+VIDEOINFO.rid,success:function(i){if(i&&200==i.code)if(i.data&&i.data.length){u=i;var a="_220x125.jpg";o&&(a="_220x125_h.webp"),$.each(i.data,function(t){i.data[t].image=i.data[t].image+a});var t=Mustache.render(m,{data:i.data.slice(0,7)});d.html(t),$(".m-playlist").show(),e&&e(),$(document).scroll(function(){$(this).scrollTop()>d.position().top&&!O&&i.data&&i.data.length&&(MgStat.send("udp",{mod:"1fgrk8",ctl:window.VIDEOINFO.mod},{event:"show"}),O=!0)})}else u={},$(".m-playlist").hide()}})};g(function(){$(document).scroll(function(){$(this).scrollTop()>=d.position().top&&!e&&u.data&&u.data.length&&(E(u,"bdrelatepv","playlist"),e=!0)})}),function(){var e=~~VIDEOINFO.rid,t="v";-1!==[1,2,3,50,51,106,115,116,117].indexOf(c)&&(t="c"),51!=e&&115!=e&&116!=e&&117!=e||(e=0);var d="//www.mgtv.com/top/"+({0:"",1:"show/",2:"tv/",3:"movie/",50:"cartoon/",105:"life/",111:"original/"}[e+""]||""),i={rt:t,c:e,guid:a,uid:l,cookie:n,limit:10};$.ajax({type:"get",url:v+"/pc/rankview",data:i,dataType:"jsonp",jsonpCallback:"rc_ranklist_"+e,success:function(i){if(i&&200==i.code)if(i.data&&i.data.length){(h=i).topUrl=d;var a=["down","","up"];$.each(i.data,function(t){i.data[t].tpl=function(t){var i="m-hotlist-item-x";switch(t){case"1":i="m-hotlist-item-x";break;case"2":i="m-hotlist-item-y"}return i}(i.style),i.data[t].top=t+1,i.data[t].flag=a[i.data[t].flag+1]||"",1==e?s.addClass("m-toplist-s1"):2==e?s.addClass("m-toplist-s0"):3==e?s.addClass("m-toplist-s2"):50==e&&s.addClass("m-toplist-s3"),i.data[t].image=o?i.data[t].image+"_160x90_h.webp":i.data[t].image+"_160x90.jpg"});var t=Mustache.render(p,i);s.html(t).show(),$(document).scroll(function(){$(this).scrollTop()>s.position().top&&!I&&i.data&&i.data.length&&(E(i,"hotpv"),MgStat.send("udp",{mod:"QCnmzP",ctl:window.VIDEOINFO.mod},{event:"show"}),I=!0)})}else s.hide()}})}(),$(document).on("page.reload.mock",function(t,i){VIDEOINFO.vid,c=VIDEOINFO.rid,VIDEOINFO.cid,e=!1,g()});var y=new STK.start,f="//rc.log.mgtv.com/rpt",E=function(t,i,a){var e="playlist"==a?"plid":"videoId",d={bid:"1.1.4",time:STK.$.getTimer("yyyyMMddhhmmss"),act:i,ver:t.ver||"",reqid:t.reqid||"",region:6,cid:VIDEOINFO.rid,rcdata:r(t.data,e)||"",videoid:VIDEOINFO.vid,vidauto:0,rctype:r(t.data,"rcType")};y.pageEvent(d,f)},D=function(t,i,a,e){var d={bid:"1.1.4",time:STK.$.getTimer("yyyyMMddhhmmss"),act:a,ver:t.ver||"",reqid:t.reqid||"",region:6,cid:VIDEOINFO.rid,rcdata:r(t.data,"hotlist"==e?"videoId":"plid")||"",hitid:i.hitid,pos:i.pos,videoid:VIDEOINFO.vid,vidauto:0,rctype:r(t.data,"rcType")};y.pageEvent(d,f)};s.on("click","li",function(t){var i=$(this);D(h,{hitid:i.attr("data-vid"),pos:i.index()+1,videoid:VIDEOINFO.vid},"recommended_hot","hotlist")}),s.on("click",".u-more",function(t){var i=h,a={bid:"1.1.4",time:STK.$.getTimer("yyyyMMddhhmmss"),act:"more",ver:i.ver||"",reqid:i.reqid||"",region:6,cid:VIDEOINFO.rid,zxdata:r(i.data,"videoId")||"",videoid:VIDEOINFO.vid,vidauto:0,mdname:"hot",rctype:r(i.data,"rcType")};y.pageEvent(a,f)}),d.on("click","li",function(t){var i=$(this);D(u,{hitid:i.attr("data-plid"),pos:i.index()+1,videoid:VIDEOINFO.vid},"bdrecommend_rel","playlist")})});