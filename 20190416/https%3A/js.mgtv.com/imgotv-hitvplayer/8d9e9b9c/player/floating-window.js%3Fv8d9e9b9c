"use strict";honey.def("lib:jquery",function(l){var g=!1,c=!1;l.floatingPlayerWindow=function(){var n=$("div[node-type=collapse-episode]"),t=$("body"),i=$("#mgtv-player-wrap"),o=(i.width(),function(){$("#floatingMasker").hide(),i.removeClass("floating"),c=g=!1,i.css({right:"0",top:"0"})});if(window.FLASH_FLOATIONPLAYERWINDOW=function(n){"1"==n?g=!0:(c=g=!1,o())},window.getFloatingWindowMode=function(){return c},isNaN(l.ie)||!(l.ie<=8)){window.clipStart=function(n){g="1"==n};$("#floatingMasker"),i.height();var a=0,e=0,s=!1,r={x:0,y:0};return $(document).on("page.reload.mock",function(n,t){g=!1}),n.on("mouseenter",".floating",function(n){$("#floatingMasker").show()}),n.on("mouseleave",".floating",function(n){$("#floatingMasker").hide(),r={x:parseInt(i.css("right"))||0,y:parseInt(i.css("top"))||0}}),n.on("mousedown","#floatingMasker",function(n){s=!0,a=n.pageX,e=n.pageY}),t.on("mouseup",function(){s=!1}).on("mouseleave",function(){s=!1}),t.on("mousemove",function(n){if(s){var t=parseInt(i.css("top"))+n.pageY-e,o=parseInt(i.css("right"))-n.pageX+a;t=Math.min(Math.max(t,60),$(window).height()-i.height()),o=Math.min(Math.max(o,0),$(window).width()-i.width()),i.css({right:o,top:t}),a=n.pageX,e=n.pageY}}),n.on("click","#floatingMasker .scale",function(){i.toggleClass("s-floating")}),n.on("click","#floatingMasker .close",function(){o()}),{start:function(){i.css("margin-right");if(g&&0<$("#hunantv-player-1").length||g&&0<$("#mgtv-video-wrap").length){var n=$(this).scrollTop();$(".v-panel").offset().top-55<n?i.hasClass("floating")||(c=!0,i.addClass("floating"),i.css("margin-right",0),0!=r.x||0!=r.y?i.css({right:r.x,top:r.y}):i.css({top:"60px"})):i.hasClass("floating")&&(c=!1,i.removeClass("floating"),$("#floatingMasker").hide(),r={x:parseInt(i.css("right"))||0,y:parseInt(i.css("top"))||0},i.css({right:"0",top:"0"}))}else c=!1,$("#floatingMasker").find(".close").click()}}}};var n=navigator.userAgent,t=/iPad/i.test(n);if((isNaN(l.ie)||!(l.ie<8))&&!t){var o=l.floatingPlayerWindow();$(window).on("scroll",o.start)}});