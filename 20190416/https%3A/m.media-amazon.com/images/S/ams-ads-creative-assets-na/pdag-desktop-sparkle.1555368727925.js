var AsyncDesktopSparkle=function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),a=1;a<arguments.length;a++){var i=arguments[a];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var i=n(3),r=a(i),o=n(4),s=a(o),c=n(10),l=a(c),u=n(11),d=a(u),p=n(12),f=a(p),m="pdagDesktopSparkle",g="pdagDesktopSparkleContainer",h="desktopSparkleSoftlines",v="desktopSparkleStoresNavigator";!function(e){var t=null;e.HSADesktopSparkleLoad=function(e){t&&(t.doCleanup(),t=null);var n=document.getElementById(m);if(n){var a=document.getElementById(g),i=a&&r["default"].hasClass(a,h),o=a&&r["default"].hasClass(a,v);t=i?new l["default"]:o?new d["default"]:new s["default"],t.init()}if(e.pdagSparkleClientContext){var c=new f["default"](e.pdagSparkleClientContext);c.attachGlobals()}},e.HSADesktopSparkleLoad(e)}(window)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){n(this,e)}return a(e,[{key:"addClass",value:function(e,t){if(t&&""!==t){var n=e.className,a=n.split(" ");a.indexOf(t)<0&&a.push(t),e.className=a.join(" ")}}},{key:"removeClass",value:function(e,t){if(t&&""!==t){var n=e.className,a=n.split(" "),i=a.indexOf(t);i>=0&&a.splice(i,1),e.className=a.join(" ")}}},{key:"hasClass",value:function(e,t){if(t&&""!==t){var n=e.className,a=n.split(" ");return a.indexOf(t)>=0}return!1}}]),e}();e.exports=new i},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(5),o=n(6),s=n(7),c=n(8),l=n(9),u={maxLines:3,minFontPx:16,maxFontPx:19},d=function(){function e(){a(this,e),this.headlineId="pdagDesktopSparkleHeadline",this.templateId="pdagDesktopSparkle",this.adFeedbackWrapperId="pdagSparkleAdFeedback",this.descriptions=["pdagDesktopSparkleDescription1","pdagDesktopSparkleDescription2","pdagDesktopSparkleDescription3"],this.template=document.getElementById(this.templateId)}return i(e,[{key:"init",value:function(){var e=this;this.template&&(window.originalHSASparkleCreativeHeadline=document.getElementById(this.headlineId)?document.getElementById(this.headlineId).innerHTML:"",(0,r.truncateText)(document.getElementById(this.headlineId),u,window.originalHSASparkleCreativeHeadline),window.HSADesktopOptimizePlacementsListener=(0,c.addListener)(window,"resize",function(){e.optimizeAsinsPlacements()}),this.optimizeAsinsPlacements(),window.hsaProductDescriptionResizeHandler&&(0,l.removeListener)(window,"resize",window.hsaProductDescriptionResizeHandler),this.checkProductDescription()&&(window.originalHSASparkleCreativeDescriptions=[],this.descriptions.forEach(function(e){window.originalHSASparkleCreativeDescriptions.push(document.getElementById(e)?document.getElementById(e).innerHTML:"")}),window.hsaProductDescriptionResizeHandler=(0,c.addListener)(window,"resize",function(){e.truncateProductDescriptions(e.descriptions)}),this.truncateProductDescriptions(this.descriptions)),(0,o.clickthroughLink)(this.templateId),(0,s.adFeedback)(this.adFeedbackWrapperId,this.templateId))}},{key:"doCleanup",value:function(){window.HSADesktopOptimizePlacementsListener&&((0,l.removeListener)(window,"resize",window.HSADesktopOptimizePlacementsListener),window.HSADesktopOptimizePlacementsListener=null),window.hsaProductDescriptionResizeHandler&&((0,l.removeListener)(window,"resize",window.hsaProductDescriptionResizeHandler),window.hsaProductDescriptionResizeHandler=null)}},{key:"optimizeAsinsPlacements",value:function(){var e=document.getElementById("pdagDesktopSparkleAsinsContainer");if(e){var t=e.offsetWidth,n=e.children[0]?parseInt(window.getComputedStyle(e.children[0]).getPropertyValue("min-width")):150,a="desktopSparkle__asinsContainer--oneAsin",i="desktopSparkle__asinsContainer--twoAsins",r=10,o=this.template.classList.contains("weblabOverride");t>0&&n>0&&((o?2*n+r:2*(n+r))>t?(e.classList.add(a),e.classList.remove(i)):(o?3*n+2*r:3*(n+r))>t?(e.classList.add(i),e.classList.remove(a)):(e.classList.remove(a),e.classList.remove(i)))}}},{key:"truncateProductDescriptions",value:function(e){var t={maxLines:2,minFontPx:12,maxFontPx:12};e.forEach(function(e,n){(0,r.truncateText)(document.getElementById(e),t,window.originalHSASparkleCreativeDescriptions[n])})}},{key:"checkProductDescription",value:function(){var e=!1;return this.descriptions.forEach(function(t){document.getElementById(t)&&(e=!0)}),e}}]),e}();t["default"]=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=999,a="...";t.truncateText=function(e,t,i){var r=e,o=document.createElement("div");if(r&&o){var s=i;r.innerHTML=s,s=s.replace(/\u00a0/g," "),o.innerHTML=s,s=o.textContent||o.innerHTML||"",o.textContent="",r.style.fontSize=t.maxFontPx+"px";for(var c=r.getClientRects().length,l=t.maxFontPx,u=!1,d=0;c>t.maxLines;){if(l<=t.minFontPx){u||(s+=a,u=!0);var p=s.length;s=s.substr(0,p-a.length-1)+a,r.innerHTML=s}else l--,r.style.fontSize=l+"px";if(c=r.getClientRects().length,d++,d>n)break}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=499,a=150,i=function(e){var t=r(e);t&&t.href&&(t.clickTrackerUrls&&(window.useDacxLogger&&o(t.clickTrackerUrls),window.CemLogger&&window.CemLogger.logEvent({eventType:"click_through",eventName:"creativeClick",componentType:"creative",componentName:"creative"})),setTimeout(function(){window.open(t.href,t.anchorTarget)},a),e.preventDefault())},r=function(e){for(var t=e.target,a=e.currentTarget,i=0;t&&t!==a;){if("A"===t.tagName){var r=t.getAttribute("data-clickTrackerUrls"),o=t.getAttribute("target");return{href:t.getAttribute("href"),clickTrackerUrls:r?r.split("|"):null,anchorTarget:o?o:"_top"}}if(t=t.parentNode,i++,i>n)break}return null},o=function(e){e.forEach(function(e){"undefined"!=typeof Image&&((new Image).src=e)})};t.clickthroughLink=function(e){var t=document.getElementById(e);t&&(t.onclick=i)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e.style.visibility="visible"},a=function(e,t,a){var o="/gp/aq-feedback/lazyLoad/handler/af-link-handler.html",s="sponsoredProductsLoom",c="pdagSparkleAdFeedbackText",l=document.getElementById(c),u="Search",d="aax",p=1010,f=e.getAttribute("data-slotName");f=f&&""!==f?f:"auto-sparkle-hsa-tetris";var m=e.getAttribute("data-creativeId"),g=e.getAttribute("data-adId"),h=i(e.getAttribute("data-searchTerms")),v={adPlacementMetaData:{adElementId:t||"",pageType:u,slotName:f,pageUrl:"",searchTerms:h},adCreativeMetaData:{adNetwork:d,adProgramId:p,adImpressionId:"",adCreativeId:m||"",adId:g||""}};a&&(v.adPlacementMetaData.feedbackType=s);var w=window.location.protocol+"//"+window.location.hostname+o+"?pl="+r(v),y=new XMLHttpRequest;y.onreadystatechange=function(){if(4===y.readyState)if(200===y.status){var t=y.responseText,a=JSON.parse(t);if(a&&"ok"===a.status){if("html"in a&&a.html&&(e.innerHTML=a.html),"script"in a&&a.script){var i=document.createElement("script");i.type="text/javascript",i.innerHTML=a.script,e.appendChild(i)}}else n(l)}else n(l)},y.onerror=function(){n(l)},y.open("GET",w,!0),y.send()},i=function(e){return btoa&&e?btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)})):""},r=function(e){return encodeURIComponent(JSON.stringify(e))};t.adFeedback=function(e,t){var i=document.getElementById(e),r=i&&i.classList.contains("isLoomEnabled"),o=document.getElementById("pdagDesktopSparkle"),s=o&&o.classList.contains("preview");s?n(document.getElementById("pdagSparkleAdFeedbackText")):i&&a(i,t,r)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addListener=function(e,t,n){var a=function(e){var t=e||window.event;return n(t)};if(e.addEventListener)e.addEventListener(t,a,!0);else if(t="on"+t,e.attachEvent)e.attachEvent(t,a);else{var i=e[t];e[t]=function(){a.apply(this,arguments),"function"==typeof i&&i.apply(this,arguments)}}return a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.removeListener=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!0);else if(t="on"+t,e.detachEvent)e.detachEvent(t,n);else{e[t];e[t]=function(){}}}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(5),o=n(6),s=n(7),c=n(8),l=n(9),u=980,d=2,p="pdagDesktopSparkleContainer",f="pdagDesktopSparkleHeadline",m="pdagDesktopSparkleAsinsContainer",g="pdagDesktopSparkleAsinContainer3",h="pdagDesktopSparkleBrandingContainer",v={wideContainer:"pdagDesktopSparkleContainer--wide",narrowContainer:"pdagDesktopSparkleContainer--narrow",twoAsins:"desktopSparkle__asinsContainer--twoAsins",regularBranding:"desktopSparkle__brandingContainer--regular",regularAsinContainer:"desktopSparkle__asinsContainer--regular",wideBranding:"desktopSparkle__brandingContainer--wide",wideAsinContainer:"desktopSparkle__asinsContainer--wide"},w=["pdagDesktopSparkleDescription1","pdagDesktopSparkleDescription2","pdagDesktopSparkleDescription3"],y=function(){function e(){a(this,e),this.templateId="pdagDesktopSparkle",this.adFeedbackWrapperId="pdagSparkleAdFeedback",this.template=document.getElementById(this.templateId)}return i(e,[{key:"init",value:function(){var e=this;if(this.template){window.HSASparkleSoftlinesMetadata=window.HSASparkleSoftlinesMetadata||{};var t=document.getElementById(f);window.HSASparkleSoftlinesMetadata.headline=t?t.innerHTML:"",window.HSASparkleSoftlinesMetadata.HSAOptimizePlacementsListener=(0,c.addListener)(window,"resize",function(){e.optimizeAsinsPlacements(),e.truncateHeadline()}),this.optimizeAsinsPlacements(),this.truncateHeadline(),window.HSASparkleSoftlinesMetadata.productDescriptions=[],document.getElementById(w[0])&&(w.forEach(function(e){var t=document.getElementById(e);window.HSASparkleSoftlinesMetadata.productDescriptions.push(t?t.innerHTML:"")}),window.HSASparkleSoftlinesMetadata.HSAPDTruncateListener=(0,c.addListener)(window,"resize",function(){e.truncateProductDescriptions()}),this.truncateProductDescriptions()),(0,o.clickthroughLink)(this.templateId),(0,s.adFeedback)(this.adFeedbackWrapperId,this.templateId)}}},{key:"doCleanup",value:function(){window.HSASparkleSoftlinesMetadata&&window.HSASparkleSoftlinesMetadata.HSAOptimizePlacementsListener&&((0,l.removeListener)(window,"resize",window.HSASparkleSoftlinesMetadata.HSAOptimizePlacementsListener),window.HSASparkleSoftlinesMetadata.HSAOptimizePlacementsListener=null),window.HSASparkleSoftlinesMetadata&&window.HSASparkleSoftlinesMetadata.HSAPDTruncateListener&&((0,l.removeListener)(window,"resize",window.HSASparkleSoftlinesMetadata.HSAPDTruncateListener),window.HSASparkleSoftlinesMetadata.HSAPDTruncateListener=null)}},{key:"truncateHeadline",value:function(){var e=document.getElementById(f),t=parseInt(window.getComputedStyle(e).getPropertyValue("font-size")),n={maxLines:2,minFontPx:t,maxFontPx:t};(0,r.truncateText)(e,n,window.HSASparkleSoftlinesMetadata.headline)}},{key:"optimizeAsinsPlacements",value:function(){var e=document.getElementById(p);if(e){var t=e.offsetWidth,n=document.getElementById(m),a=document.getElementById(h);if(n.childNodes.length<=d)e.classList.remove(v.wideContainer),e.classList.add(v.narrowContainer),n.classList.add(v.twoAsins);else{var i=document.getElementById(g);t>0&&u>t?(i&&(i.style.visibility="hidden"),n.classList.add(v.twoAsins)):(i&&(i.style.visibility="visible"),n.classList.remove(v.twoAsins))}t>u?(a.classList.add(v.wideBranding),n.classList.add(v.wideAsinContainer),a.classList.remove(v.regularBranding),n.classList.remove(v.regularAsinContainer)):(a.classList.add(v.regularBranding),n.classList.add(v.regularAsinContainer),a.classList.remove(v.wideBranding),n.classList.remove(v.wideAsinContainer))}}},{key:"truncateProductDescriptions",value:function(){var e={maxLines:3,minFontPx:12,maxFontPx:13};w.forEach(function(t,n){(0,r.truncateText)(document.getElementById(t),e,window.HSASparkleSoftlinesMetadata.productDescriptions[n])})}}]),e}();t["default"]=y},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(6),o=n(7),s=n(8),c=n(9),l="pdagDesktopSparkleStorePagesContainer",u="desktopSparkle__storePageContainer",d="desktopSparkle__storePagesContainer--threePages",p="desktopSparkle__storePagesContainer--fourPages",f="storePagesLooper",m=5,g=6,h=11,v=function(){function e(){a(this,e),this.templateId="pdagDesktopSparkle",this.adFeedbackWrapperId="pdagSparkleAdFeedback",this.template=document.getElementById(this.templateId)}return i(e,[{key:"init",value:function(){var e=this;this.template&&(window.HSASparkleStoresNavigatorMetadata=window.HSASparkleStoresNavigatorMetadata||{},window.HSASparkleStoresNavigatorMetadata.HSADesktopOptimizePlacementsListener=(0,s.addListener)(window,"resize",function(){e.optimizeStorePagesPlacements()}),this.optimizeStorePagesPlacements(),(0,r.clickthroughLink)(this.templateId),(0,o.adFeedback)(this.adFeedbackWrapperId,this.templateId))}},{key:"doCleanup",value:function(){window.HSASparkleStoresNavigatorMetadata.HSADesktopOptimizePlacementsListener&&((0,c.removeListener)(window,"resize",window.HSASparkleStoresNavigatorMetadata.HSADesktopOptimizePlacementsListener),window.HSASparkleStoresNavigatorMetadata.HSADesktopOptimizePlacementsListener=null)}},{key:"optimizeStorePagesPlacements",value:function(){var e=document.getElementById(l);if(e){var t=e.offsetWidth,n=document.getElementById(f).getElementsByClassName(u),a=parseInt(window.getComputedStyle(n[0]).getPropertyValue("width"));t>0&&a>0&&((a+h)*m>t?(e.classList.add(d),e.classList.remove(p)):(a+h)*g>t?(e.classList.add(p),e.classList.remove(d)):(e.classList.remove(d),e.classList.remove(p)))}}}]),e}();t["default"]=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(13),c=a(s),l=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dacxLogger&&n.dacxLogger.logViewabilitySuccess(),n.cemLogger&&n.cemLogger.logEvent({eventType:"viewability",eventName:"inView",componentType:"creative",componentName:"creative"}),n}return o(t,e),t}(c["default"]);t["default"]=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(14),s=a(o),c=n(17),l=a(c),u=function(){function e(t){if(i(this,e),this.window=t.window||"undefined"!=typeof window&&window,!this.window||!this.window.document)throw new Error("Window and/or document is not defined");this.useDacxLogger=t.useDacxLogger,this.useCemLogger=t.useCemLogger,this.useDacxLogger&&(this.dacxLogger=t.dacxLogger||new s["default"](t.baseUrl,t.impressionId),this.dacxLogger.logImpression()),this.useCemLogger&&(this.cemLogger=t.cemLogger||new l["default"]({renderId:t.renderId,isDebug:t.isDebug,stage:t.stage,market:t.locale,templateName:t.templateName}),this.cemLogger.logImpression()),this.aid=t.adId,this.cid=t.creativeId}return r(e,[{key:"attachGlobals",value:function(){this.window.document.ad={aid:this.adId,cid:this.creativeId},this.window.useDacxLogger=this.useDacxLogger,this.window.useCemLogger=this.useCemLogger,this.dacxLogger&&(this.window.DacxLogger=this.dacxLogger),this.cemLogger&&(this.window.CemLogger=this.cemLogger)}}]),e}();t["default"]=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){var n=new d["default"](e,p),a={i:t.dacxImpressionId,click:1};return n.getPixelUrl(a)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.generateDacxClickTrackerUrl=c;var u=n(15),d=a(u),p="416731613",f="client_imp",m="view",g="swipe",h=-1,v=1,w=2,y=function(e){function t(e,n){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,p));return a.impressionId=n,a}return s(t,e),l(t,[{key:"logMetric",value:function(e,t){var n=i({i:this.impressionId},e,t||1);this.firePixel(n)}},{key:"logImpression",value:function(){this.logMetric(f)}},{key:"logViewabilitySuccess",value:function(){this.logMetric(m,v)}},{key:"logBareViewabilitySuccess",value:function(){this.logMetric(m,w)}},{key:"logViewabilityFailure",value:function(){this.logMetric(m,h)}},{key:"logSwipe",value:function(){this.logMetric(g)}}]),t}(d["default"]);t["default"]=y},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(16).getQueryString,o=function(){function e(t,n){a(this,e),this.baseUrl=t,this.channel=n}return i(e,[{key:"getPixelUrl",value:function(e){var t="?"+encodeURIComponent(r(e));return this.baseUrl+"/iu3?d=forester-did&ex-fch="+this.channel+"&ex-fargs="+t+"&cb="+(new Date).getTime()}},{key:"firePixel",value:function(e){var t=new Image;return t.src=this.getPixelUrl(e),t}}]),e}();t["default"]=o},function(e,t){"use strict";function n(e,t){var n=[];for(var a in e)n.push(a+"="+e[a]);var i=n.join("&");return t?encodeURIComponent(i):i}function a(e,t){for(var n=0,a=e.length;a>n;n++)t(e[n],n,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryString=n,t.forEach=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(18),c=a(s),l=n(19),u=a(l),d="impression",p=function(){function e(){if(i(this,e),"object"===r(arguments[0])){var t=arguments[0],n=t.renderId,a=t.isDebug,o=t.stage,s=t.market,c=t.templateName;this.renderId=n,this.isDebug=a,this.stage=o,this.market=s,this.templateName=c}else this.renderId=arguments[0],this.isDebug=arguments[1]||!1,this.stage=arguments[2],this.market=arguments[3];this.timers={}}return o(e,[{key:"logMetric",value:function(e,t){var n=this,a=u["default"][this.market]||u["default"].US,i=a.domain,r=a.region,o=(0,c["default"])(this.stage,r,this.market,i),s=o+"/cem",l=Object.assign(t,{template_name:this.templateName});this.isDebug?(console.log("=== logging metric for "+t.subtype+" with dimensions:"),console.log(t)):!function(){var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200!==t.status&&console.error("Failure posting to CEM: "+t.statusText)},t.onerror=function(){console.error("An error occurred during the transaction. URL: "+s)},t.open("POST",s,!0),t.send(JSON.stringify({render_id:n.renderId,event_type:e,dimensions:l||{}}))}()}},{key:"logImpression",value:function(){this.logMetric("impression",{subtype:d,value:1})}},{key:"startTimer",value:function(e){this.timers[e]=new Date}},{key:"endTimer",value:function(e){if(this.timers[e]){var t=new Date-this.timers[e];this.logPerformanceEvent(e,t),delete this.timers[e]}}},{key:"logEvent",value:function(e){var t=e.eventName,n=e.eventType,a=e.componentType,i=e.componentName,r=e.eventValue,o=void 0===r?1:r;this.logMetric(n,{component_type:a,component_name:i,subtype:t,value:o})}},{key:"logPerformanceEvent",value:function(e,t){t=t||1,this.logMetric("performance",{subtype:e,value:t,userAgent:navigator&&navigator.userAgent})}}]),e}();t["default"]=p},function(e,t){"use strict";function n(e,t,n,a){if(!(e&&t&&n&&a))throw new Error("aan endpoint could not be identified. All arguments are required: "+JSON.stringify({stage:e,region:t,market:n,domain:a})+".");switch(e){case"prod":var i=a;return"CA"===n&&(i="amazon.com"),"https://aan."+i;case"gamma":return"https://aan-internal-"+("na"===t?"":t+"-")+"gamma.amazon.com";default:return"https://aan-internal.vipinteg.amazon.com"}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";e.exports={US:{selectionLabel:"English (US)",region:"na",currency:"$",domain:"amazon.com",media:"01",merchantId:"ATVPDKIKX0DER",marketplaceId:"ATVPDKIKX0DER",localeMonths:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"]},CA:{selectionLabel:"English (CA)",region:"na",currency:"CDN$ ",domain:"amazon.ca",media:"15",merchantId:"A3DWYIK6Y9EEQB",marketplaceId:"A2EUQ1WTGCTBG2",localeMonths:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"]},MX:{selectionLabel:"Spanish (MX)",region:"na",currency:"$",domain:"amazon.com.mx",media:"33",merchantId:"AVDBXBAVVSXLQ",marketplaceId:"A1AM78C64UM0Y8",localeMonths:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]},UK:{selectionLabel:"English (UK)",region:"eu",currency:"£",domain:"amazon.co.uk",media:"02",merchantId:"A3P5ROKL5A1OLE",marketplaceId:"A1F83G8C2ARO7P",localeMonths:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"]},DE:{selectionLabel:"German",region:"eu",currency:"EUR ",domain:"amazon.de",media:"03",merchantId:"A3JWKAKR8XB7XF",marketplaceId:"A1PA6795UKMFR9",localeMonths:["Jan","Feb","März","Apr","Mai","Juni","Juli","Aug","Sept","Okt","Nov","Dez"]},FR:{selectionLabel:"French",region:"eu",currency:"EUR ",domain:"amazon.fr",media:"08",merchantId:"A1X6FK5RDHNB96",marketplaceId:"A13V1IB3VIYZZH",localeMonths:["Jan.","Févr.","Mars","Avr.","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."]},IT:{selectionLabel:"Italian",region:"eu",currency:"EUR ",domain:"amazon.it",media:"29",merchantId:"A11IL2PNWYJU7H",marketplaceId:"APJ6JRA9NG5V4",localeMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]},ES:{selectionLabel:"Spanish",region:"eu",currency:"EUR ",domain:"amazon.es",media:"30",merchantId:"A1AT7YVPFBWXBL",marketplaceId:"A1RKKUPIHCS9HS",localeMonths:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]},IN:{selectionLabel:"English (IN)",region:"eu",currency:"₹",domain:"amazon.in",media:"31",merchantId:"AT95IG9ONZD7S",marketplaceId:"A21TJRUUN4KGV",localeMonths:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"]},AE:{selectionLabel:"English (US)",region:"eu",currency:"AED",domain:"amazon.ae",media:"39",merchantId:"A2KKU8J8O8784X",marketplaceId:"A2VIGQ35RCS4UG",localeMonths:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"]},JP:{selectionLabel:"Japanese",region:"fe",currency:"￥",domain:"amazon.co.jp",media:"09",merchantId:"AN1VRQENFRJN5",marketplaceId:"A1VC38T7YXB528",yearText:"å¹´",dayText:"æ—¥",monthText:"æœˆ",localeMonths:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"]},AU:{selectionLabel:"English (UK)",region:"fe",currency:"$",domain:"amazon.com.au",media:"35",merchantId:"ANEGB3WVEVKZB",marketplaceId:"A39IBJ37TRP1C6",localeMonths:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"]},CN:{selectionLabel:"",region:"cn",currency:"¥ ",domain:"amazon.cn",media:"28",merchantId:"A1AJ19PSB66TGU",marketplaceId:"AAHKV2X7AFYLW",localeMonths:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"]}}}]);