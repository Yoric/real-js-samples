KISSY.add("list/mods/crumb/crumb",function(e,t,n,a,i,r){function s(){return this instanceof s?void this._init():new s}var o,c,l,d,u,p,h,f,m=document,g=6==a.ie,v="#J_CrumbSlide",_="#J_CrumbSlideCon",b="#J_CrumbSlidePrev",S="#J_CrumbSlideNext",y="#J_CrumbSearchForm",w="#J_CrumbSearchInuput",C="#J_CrumbSearchBtn",x="crumbDrop-hover",T=".j_CrumbDrop",A=".j_CrumbDropHd",I=".j_CrumbDropBd",B=["\u5728\u672c\u5e97\u641c\u7d22","\u5728\u5f53\u524d\u6761\u4ef6\u4e0b\u641c\u7d22"],L=".crumbSearch",k=".crumbAttr",D=".crumbArrow";return e.augment(s,n.Target,{"_init":function(){if(c){var n=this;n.searchPrompt="s"===(t.attr(u,"data-type")||"")?B[0]:B[1],""===e.trim(u.value)&&(u.value=n.searchPrompt),n._slideViewWidth=t.innerWidth(o),n._slideContentWidth=0,t.query("li",c).each(function(e){n._slideContentWidth+=t.outerWidth(e,!0)}),n._relocate(!0),n._bindEvent()}},"_bindEvent":function(){var a=this;n.on(p,"click",function(e){e.stopPropagation()});var i=a.searchPrompt,r=t.val(u);n.on(u,"focus",function(){t.addClass([this,this.parentNode],"focus"),t.val(this)==i?t.val(this,""):this.select()}),n.on(u,"blur",function(){t.removeClass([this,this.parentNode],"focus"),""===t.val(this)&&t.val(this,i)}),n.on(h,"submit",function(n){var a=e.trim(t.val(u));a==i?t.val(u,""):a==r&&n.halt()}),n.on(m.body,"click",function(e){var n=t.val(u),a=e.target;n&&n!=r&&a.id!=p.id&&a.id!=u.id&&t.val(u,r)}),n.on([l,d],"click",function(e){e.halt(),a._relocate(!1,!0)}),LIST.msg.fire("ie6&PadHover",{"classname":["crumbAttr","crumbSearch-btn"]}),LIST.msg.fire("ie6&PadHover",{"id":"mallCate","hoverCls":"hover"}),LIST.msg.on("viewchange",function(){a._slideViewWidth=t.innerWidth(o),a._relocate()}),setTimeout(function(){a._dropdown()},0)},"_setBtnsStatus":function(){if(l&&d){var e=this;if(l.style.visibility=d.style.visibility="hidden",!(e._slideContentWidth<=e._slideViewWidth)){var n=parseInt(t.css(c,"left"));0!==n&&(l.style.visibility="visible"),0===n&&(d.style.visibility="visible")}}},"_relocate":function(e,n,a){var r=this,s=r.anim,o=parseInt(t.css(c,"left")),l=r._slideContentWidth-r._slideViewWidth,d=(n?0==o?-l:0:Math.min(-l,0))+(a||0),u=!(o!=d);if(u)return void r._setBtnsStatus();if(e)return t.css(c,{"left":d}),void r._setBtnsStatus();var p=0==(p=Math.abs(d/400))?.1:p;s&&s.stop(),r.anim=i(c,{"left":d},p,"easeOutStrong",function(){r._setBtnsStatus()}),r.anim.run()},"_dropdown":function(){var e=this,i=null,s=function(n,a){var i=t.outerWidth(n),r=t.innerWidth(a),s=t.offset(n).left,o=t.offset(a).left,c=0;i<=r&&(c=Math.max(o-s,0)||Math.min(o+r-(s+i),0)),c&&e._relocate(!1,!1,c)};t.query(T,c).each(function(c){var l=t.get(A,c),d=t.get(I,c),u=function(e){var n={"href":"javascript:;","title":l.text||l.textContent||l.innerText,"atp":"0,cat-dropdown,,,,"+(l.search.match(/\bcat=\d+/)||[""])[0]+",rightnav,"},a="";e.unshift(n);for(var i=0,r=e.length;i<r;i++)i%6==0&&(a+="<ul>"),a+="<li><a ",0==i&&(a+='class="crumbDrop-disable"'),a+='atpanel="'+e[i].atp+'" href="'+e[i].href+'" title="'+e[i].title+'">'+e[i].title+"</a></li>",i%6==5&&(a+="</ul>");t.html(d,a)},p=function(n){if(c.hover){t.addClass(c,x),s(l,o);var a=d.step||(d.step=t.outerWidth(t.get("ul",d))),r=t.offset(o).left+e._slideViewWidth-t.offset(l).left;n=Math.min(Math.floor(r/a),n),d._initWidth=n*a||d._initWidth||r,t.css(d,"width",d._initWidth),i=c}},h=function(e){e.hover=!1,t.removeClass(e,x),i=null},f="/ajax/getAllBrotherCats.htm"+l.search,m=0,v=function(){clearTimeout(m)};d&&(7==a.ie&&l.setAttribute("hideFocus","true"),n.on(c,"mouseenter",function(e){v(),c.hover||(c.hover=!0,d.rendered?p():r.get(f,{"t":g?+new Date:0},function(e){e&&e.length?(u(e),p(Math.ceil(e.length/6))):(t.hide(d),p()),d.rendered=!0},"json")),e.preventDefault()}),n.on(c,"mouseleave",function(){m=setTimeout(function(){h(c)},300)}))})},"_crumbAnim":function(){if(!this.animed){var e=!1,n=0,a=t.query("li",c),r=t.get(k);a.each(function(a){function i(){a.className.indexOf("crumbSearch")===-1&&e&&(t.hide(a),t.css(a,"opacity","0"))}n+=a.offsetWidth,r?a.className.indexOf("crumbAttr")>-1&&(t.hide(a),t.css(a,"opacity","0")):i(),e=!0}),t.hide(t.prev(f)),t.css(f,{"position":"absolute","left":f.offsetLeft,"visibility":"visible"}),i(L,{"left":n-f.offsetWidth+(r?10:0)},.6,"easeNone",function(){a.each(function(e){t.show(e),t.css([t.get("a",e),t.get(D,e)],{"visibility":"visible"}),i(e,{"opacity":"1"},1,"easeNone",void 0).run()})}).run(),this.animed=!0}}}),{"init":function(){this._initNodes(),new s},"_initNodes":function(){o=t.get(v),c=t.get(_),l=t.get(b),d=t.get(S),u=t.get(w),p=t.get(C),h=t.get(y),f=t.get(L)}}},{"requires":["dom","event","ua","anim","ajax"]});KISSY.add("list/mods/attr/attr",function(S,D,E,UA,IO){function Handler(e){e&&(!S.isArray(e)&&(e=[e]),this.scope=e)}var isIE6=6===UA.ie,FORM="#J_NavAttrsForm",BRAND=".j_Brand",CATE=".j_Cate",PROP=".j_Prop",ATTR=".attr",MORE_BTN=".j_More",MORE_ATTRS_BTN=".j_MoreAttrs",MORE_ATTRS_CONT=".j_MoreAttrsCont",MULTIPLE_BTN=".j_Multiple",SUBMIT_BTN=".j_SubmitBtn",CANCLE_BTN=".j_CancelBtn",BRAND_SEARCH=".j_BrandSearch",DISABLE_BTN_CLS="ui-btn-disable",VAL_SELECTED_CLS="av-selected",MINI_ATTR_CLS="miniAttr",MINI_ATTRS_CLS="miniAttrs",UL_EXPAND_CLS="av-expand",UL_COLLAPSE_CLS="av-collapse",UL_SCROLL_CLS="av-scroll",FOR_MULTIPLE_CLS="forMultiple",FOR_MULTIPLE_BTN_CLS="forMultipleBtn",MULTIPLE_ROW_CLS="multipleRow",MORE_ATTRS_DROP_CLS="attrExtra-more-drop",SHOW_LOGO_CLS="showLogo",ATTRS_TRIGGER="#J_AttrsTrigger",ATTRS=".j_NavAttrs",form,brands,cates,props,moreAttrsBtn,moreAttrsCont,util={"extend":function(e,t,n,a,i){n in t&&(i?e[n]=function(){a.apply(this,arguments),t[n].apply(this,arguments)}:e[n]=function(){t[n].apply(this,arguments),a.apply(this,arguments)})},"bindPlaceholder":function(e){var t=null,n="#BFBFBF";S.isString(e)?t=D.query(e):S.isObject(e)&&(t=[e]);var a=["text","search","url","tel","email","password"].join(",");S.each(t,function(e){a.indexOf(e.type)!=-1&&D.hasAttr(e,"placeholder")&&(""!=S.trim(D.val(e))&&S.trim(D.val(e))!=D.attr(e,"placeholder")||(D.css(e,"color",n),D.val(e,D.attr(e,"placeholder"))),E.on(e,"focus",function(){D.css(e,"color",""),S.trim(D.val(e))==D.attr(e,"placeholder")&&D.val(e," ")}),E.on(e,"blur",function(){""==S.trim(D.val(e))&&(D.css(e,"color",n),D.val(e,D.attr(e,"placeholder")))}))})},"getCustomKey":function(e,t){if(!e||"A"!=e.tagName)return null;if(e._map&&t in e._map)return e._map[t];var n,a,i=new RegExp("(\\?|\\&)"+t+"=([^&#]*)(\\&|\\#|$)","g"),r=e.href||e.link||"";return n=(a=i.exec(r))?a[2]:D.attr(e,"data-"+t)||"",e._map=e._map||{},e._map[t]=n,e._map[t]},"fixIE6Hover":function(e,t){if(isIE6){if(!this._initedHoverCallback){S.mix(this,E.Target),this._selectorRegs={"cls":/^[.][_a-z]+[-_0-9a-z]*$/i,"cls_tag":/^([.][_a-z]+[-_0-9a-z]*)( )+([a-z]+)$/i,"id_tag":/^[#][_a-z]+[-_0-9a-z]*( )+[a-z]+$/i},this._hoverEventFns={"add":function(e,t){var n=e.replace(/[.#]/g,"")+"-hover";E.on(e,"mouseenter",function(e){D.addClass(this,n),t&&t.call(this,e)}),E.on(e,"mouseleave",function(e){D.removeClass(this,n),t&&t.call(this,e)})},"delegate":function(e,t,n){var a=t.replace(/[.#]/g,"")+"-hover";E.delegate(e,"mouseenter",t,function(e){D.addClass(e.currentTarget,a),n&&n.call(e.currentTarget,e)}),E.delegate(e,"mouseleave",t,function(e){D.removeClass(e.currentTarget,a),n&&n.call(e.currentTarget,e)})}};var n=this,a=function(e,t){var a,i=n._selectorRegs,r=n._hoverEventFns;i.cls.test(e)?(r.add(e,t),S.log('mod:Attr::fixIE6Hover succeeded for "'+e+'"!')):i.cls_tag.test(e)?(a=e.match(i.cls_tag),r.delegate(a[1],a[3],t),S.log('mod:Attr::fixIE6Hover succeeded for "'+e+'"!')):i.id_tag.test(e)?(a=e.match(i.id_tag),r.delegate(a[1],a[3],t),S.log('mod:Attr::fixIE6Hover succeeded for "'+e+'"!')):S.log('mod:Attr::fixIE6Hover failed for "'+e+'"!',"error")};this.on("ie6Hover",function(e){var t=e.selector,n=e.callback;S.isString(t)?a(t,n):S.isArray(t)&&S.each(t,function(e){a(e,n)})}),this._initedHoverCallback=!0}this.fire("ie6Hover",{"selector":e,"callback":t&&S.isFunction(t)?t:null})}},"reviseImg":function(e,t,n,a){if(e){if(e.indexOf("taobaocdn")===-1){e=e.replace(/([^\/]*\/)*i\d\//,"");for(var i=0,r=0,s=e.length;r<s;r++)i+=e.charCodeAt(r);if(i%=4,i+=1,"number"==typeof t)a=n,n=t,t=null;else if("string"==typeof t)switch(t){case"tps":case"imgextra":case"bao/uploaded":case"poster_pic":break;default:a=n,n=t,t=null}else"boolean"==typeof t&&(a=t,t=null);e="//img.alicdn.com/"+(t||"tps")+"/i"+i+"/"+e}if("number"==typeof n&&(n=n+"x"+n),n){e=e.replace(/(\.\w+)_\w+\1$/,"$1");var o=n.match(/\.\w+$/)||e.match(/\.\w+$/);e=e+"_"+n.replace(/_|\.\w*/g,"")+(o.length?o[0]:"jpg")}return a?e.replace(/i\d\/([^\/]+\/)*/gi,""):e}return e}},moreBtn={"init":function(e){if(e.moreBtn){var t=e.minDiffRow||parseInt(D.attr(e,"data-mindiffrow")||"1")||1,n=e.valueAnchors,a=n.length?Math.max(n[0].offsetHeight,parseFloat(D.css(n[0],"lineHeight"))):25;!S.trim(new RegExp("((.|\n)*)<i","gi").exec(e.moreBtn.innerHTML)[1])&&(e.moreBtn.innerHTML=(D.hasClass(e.ul,UL_EXPAND_CLS)?"\u6536\u8d77":"\u66f4\u591a")+e.moreBtn.innerHTML);var i=D.hasClass(e.ul,UL_COLLAPSE_CLS)||D.hasClass(e.ul,UL_EXPAND_CLS),r=!e.openMultiple,s="visible"==D.style(e.moreBtn,"visibility"),o=(n.length?n[n.length-1].offsetTop-n[0].offsetTop:0)>=t*a,c=D.hasClass(e.parentNode,MINI_ATTR_CLS),l=c&&e.multipleBtn;i&&r&&(s||o||l)?(D.hasClass(e.ul,UL_EXPAND_CLS)&&moreBtn.open(e),moreBtn.show(e),e.moreBtn.shouldShow=!0,c&&D.addClass(e.ul,MULTIPLE_ROW_CLS)):(moreBtn.hide(e),e.moreBtn.shouldShow=!1)}else(D.hasClass(e.ul,UL_COLLAPSE_CLS)||D.hasClass(e.ul,UL_EXPAND_CLS))&&D.style(e.ul,"height","auto")},"close":function(e){if(e.moreBtn){D.addClass(e.moreBtn,"ui-more-drop-l"),D.removeClass(e.moreBtn,"ui-more-expand-l");var t=D.html(e.moreBtn);t=t.replace("\u6536\u8d77","\u66f4\u591a"),t=t.replace("expand","drop"),D.html(e.moreBtn,t)}},"open":function(e){if(e.moreBtn){D.addClass(e.moreBtn,"ui-more-expand-l"),D.removeClass(e.moreBtn,"ui-more-drop-l");var t=D.html(e.moreBtn);t=t.replace("\u66f4\u591a","\u6536\u8d77"),t=t.replace("drop","expand"),D.html(e.moreBtn,t)}},"show":function(e){e.moreBtn&&D.show(e.moreBtn)},"hide":function(e){e.moreBtn&&D.hide(e.moreBtn)}},multipleBtn={"init":function(e){D.hasClass(e.parentNode,MINI_ATTR_CLS)&&e.multipleBtn&&D.addClass(e.ul,FOR_MULTIPLE_BTN_CLS)},"show":function(e){e.multipleBtn&&(D.show(e.multipleBtn),e.multipleBtn.isHidden=!1)},"hide":function(e){e.multipleBtn&&(D.hide(e.multipleBtn),e.multipleBtn.isHidden=!0)}},formBtns={"show":function(e){e.submitBtn&&D.show(e.submitBtn.parentNode)},"hide":function(e){e.submitBtn&&D.hide(e.submitBtn.parentNode)}},list={"collapse":function(e){D.replaceClass(e.ul,UL_EXPAND_CLS,UL_COLLAPSE_CLS),D.scrollTop(e.ul,0)},"expand":function(e){D.replaceClass(e.ul,UL_COLLAPSE_CLS,UL_EXPAND_CLS)},"openMultiple":function(e){this.expand(e),multipleBtn.hide(e),moreBtn.hide(e),formBtns.show(e),D.addClass(e,FOR_MULTIPLE_CLS),e.openMultiple=!0},"close":function(e){this.collapse(e),this._clearValSelectedCls(e),this._disableSubmitBtn(e),formBtns.hide(e),D.removeClass(e,FOR_MULTIPLE_CLS),e.openMultiple=!1,multipleBtn.show(e),e.moreBtn&&e.moreBtn.shouldShow&&(moreBtn.close(e),moreBtn.show(e))},"closeAll":function(e){S.each(e,function(e){this.close(e)},this)},"_clearValSelectedCls":function(e){S.each(e.valueAnchors,function(e){D.removeClass(e.parentNode,VAL_SELECTED_CLS)})},"_disableSubmitBtn":function(e){e.submitBtn&&!D.hasClass(e.submitBtn,DISABLE_BTN_CLS)&&(D.addClass(e.submitBtn,DISABLE_BTN_CLS),e.valueAnchors.selectedCount=0)}},ajax=S.merge(E.Target,{"initLogos":function(e,t){var n=[],a=/(\?|&)brand=(\d*)\b/i,i=isIE6?+new Date:0;S.each(t.valueAnchors,function(e){var t=e.search.match(a);n[n.length]=e._brandId=D.attr(e,"data-id")||t&&3==t.length?t[2]:""});var r=t.logoUrl||(t.logoUrl=D.attr(D.get("."+SHOW_LOGO_CLS,t),"data-url"));r&&IO.get(r,r.indexOf("brand_ids=")!==-1?{"t":i}:{"brand_ids":n.join(","),"t":i},function(e){S.each(t.valueAnchors,function(t){var n=util.reviseImg(e[t._brandId]);n&&D.prepend(D.create('<img src="'+n+'" alt="'+(t.text||t.innerText)+'" />'),t)})},"json")},"initBrandSearch":function(e,t){if(t.brandSearch=D.get(BRAND_SEARCH,t),t.brandSearch){var n=null,a=D.get("input",t.brandSearch);util.bindPlaceholder(a),E.on(t.brandSearch,"keyup",function(){var i=D.val(a);S.trim(i)!==S.trim(a.lastVal)&&(clearTimeout(n),n=setTimeout(function(){ajax.searchAndRender(e,t,i)},200),a.lastVal=i)})}},"expandBrand":function(e,t){D.show(t.brandSearch),t.ajaxData?(this.replaceUlHtml(t,t.ajaxData),e.bindEventForValue(t)):(!t.ulCopy&&(t.ulCopy=D.clone(t.ul,!0,!0,!0)),this.searchAndRender(e,t))},"collapseBrand":function(e,t){if(t.brandSearch){var n=D.get("input",t.brandSearch);D.val(n,""),E.fire(n,"blur"),D.hide(t.brandSearch)}this.replaceUlHtml(t,""),D.prepend(D.children(D.clone(t.ulCopy,!0,!0,!0)),t.ul)},"searchAndRender":function(e,t,n,a){var i=this;D.style(t.ul,"visibility","hidden"),i._initedSearchCallBack||(i.on("render",function(e){var t=e.result,n=e.key,a=e.attr;i.replaceUlHtml(a,t),this.bindEventForValue(a),D.style(a.ul,"visibility","visible"),!S.trim(n)&&(a.ajaxData=t)},e),i._initedSearchCallBack=!0);var r=t.searchUrl||(t.searchUrl=D.attr(D.get(MORE_BTN,t),"data-url"));r&&i._search(t,r,n,a)},"_search":function(e,t,n,a){var i=this;t&&IO.get(t,S.trim(n)?{"brandkey":encodeURIComponent(S.trim(n)),"t":isIE6?+new Date:0}:{"t":isIE6?+new Date:0},function(t){a&&a(),i.fire("render",{"result":i.render(t),"key":n,"attr":e})})},"_searchTip":"\u62b1\u6b49\uff0c\u6ca1\u6709\u627e\u5230\u76f8\u5173\u54c1\u724c","render":function(data){data=eval(data);for(var html="",i=0,l=data.length;i<l;i++)html+='<li><a atpanel="'+data[i].atpanel+'" href="'+data[i].href+'" title="'+data[i].title+'">',void 0!==data[i].img&&""!==data[i].img&&(html+='<img src="//img.alicdn.com/bao/uploaded/'+data[i].img+'"/>'),html+=data[i].title+"</a></li>";return html=html?html.replace(/title=(["'])[^"']*\1/g,function(e){return e.replace(/<\/?strong>/g,"")}):"",0==data.length&&(html=this._searchTip),html},"replaceUlHtml":function(e,t){this.detachEventsForValue(e),D.html(e.ul,t),this.correctStyle(e)},"appendUlHtml":function(e,t){this.detachEventsForValue(e),D.html(e.ul,D.html(D.clone(e.ulCopy,!0,!0,!0))+t),this.correctStyle(e)},"detachEventsForValue":function(e){S.each(e.valueAnchors,function(e){E.detach(e,"click")})},"correctStyle":function(e){if(D.removeClass(e.ul,UL_SCROLL_CLS),isIE6&&"undefined"!=typeof e.ul.initHeight&&D.style(e.ul,"height",e.ul.initHeight),e.valueAnchors=D.query("a",e.ul),0!=e.valueAnchors.length){var t=e.valueAnchors[0].parentNode,n=D.outerWidth(t,!0),a=Math.floor(e.ul.offsetWidth/n),i=e.valueAnchors.length/a;i>5&&(isIE6&&(e.ul.initHeight=D.style(e.ul,"height"),D.style(e.ul,"height","")),D.addClass(e.ul,UL_SCROLL_CLS))}}}),Base={"init":function(e){this.scope&&S.each(this.scope,function(t){t.ul=D.get("ul",t),t.valueAnchors=D.query("a",t.ul),t.multipleBtn=D.get(MULTIPLE_BTN,t),t.moreBtn=D.get(MORE_BTN,t),t.submitBtn=D.get(SUBMIT_BTN,t),t.cancelBtn=D.get(CANCLE_BTN,t),setTimeout(function(){moreBtn.init(t)},0),setTimeout(function(){multipleBtn.init(t)},0);var n=this;setTimeout(function(){n._bindEvents(t)},0),e&&S.isFunction(e)&&e.call(this,t)},this)},"_bindEvents":function(e){this.bindEventForMultipleBtn(e),this.bindEventForMoreBtn(e),this.bindEventForValue(e),this.bindEventForCancelBtn(e),this.bindEventForSubmitBtn(e)},"bindEventForMultipleBtn":function(e){e.multipleBtn&&E.on(e.multipleBtn,"click",function(){list.closeAll(this.scope),list.openMultiple(e)},this)},"bindEventForMoreBtn":function(e){e.moreBtn&&E.on(e.moreBtn,"click",function(){D.hasClass(e.ul,UL_COLLAPSE_CLS)?(list.expand(e),moreBtn.open(e)):D.hasClass(e.ul,UL_EXPAND_CLS)&&(list.collapse(e),moreBtn.close(e))}),e.moreBtn&&"none"!=D.css(e.moreBtn,"display")&&"hidden"!=D.css(e.moreBtn,"visibility")&&D.hasClass(e.moreBtn,"ui-more-expand-l")&&D.hasClass(e,"j_Brand")&&(list.expand(e),moreBtn.open(e),ajax.expandBrand(this,e))},"bindEventForValue":function(e){e.valueAnchors.selectedCount=0,e.submitBtn&&D.addClass(e.submitBtn,DISABLE_BTN_CLS),S.each(e.valueAnchors,function(t){E.on(t,"click",function(){return!(e.multipleBtn&&e.multipleBtn.isHidden&&D.hasClass(e.ul,UL_EXPAND_CLS))||(D.html(t).indexOf("<i></i>")==-1&&D.html(t,D.html(t)+"<i></i>"),D.hasClass(t.parentNode,VAL_SELECTED_CLS)?(D.removeClass(t.parentNode,VAL_SELECTED_CLS),e.valueAnchors.selectedCount--):(D.addClass(t.parentNode,VAL_SELECTED_CLS),e.valueAnchors.selectedCount++),e.submitBtn&&(e.valueAnchors.selectedCount>0?D.removeClass(e.submitBtn,DISABLE_BTN_CLS):D.hasClass(e.submitBtn,DISABLE_BTN_CLS)||D.addClass(e.submitBtn,DISABLE_BTN_CLS)),!1)})})},"submit":function(e){},"bindEventForSubmitBtn":function(e){e.submitBtn&&E.on(e.submitBtn,"click",function(){return D.hasClass(e.submitBtn,DISABLE_BTN_CLS)||this.submit(e),!1},this)},"bindEventForCancelBtn":function(e){e.cancelBtn&&E.on(e.cancelBtn,"click",function(){list.close(e)})}};S.augment(Handler,Base);var bindEventForMoreAttrsBtn=function(){E.on(moreAttrsBtn,"click",function(){var e,t=[];"none"==moreAttrsCont.style.display?(D.addClass(moreAttrsBtn,MORE_ATTRS_DROP_CLS),D.html(moreAttrsBtn,D.html(moreAttrsBtn).replace("\u66f4\u591a\u9009\u9879","\u7cbe\u7b80\u9009\u9879")),D.show(moreAttrsCont),t=t.concat(D.query(ATTR,moreAttrsCont)),e=D.query("."+MINI_ATTRS_CLS),S.each(e,function(e){D.replaceClass(e,MINI_ATTRS_CLS,"_"+MINI_ATTRS_CLS),S.each(D.query("."+MINI_ATTR_CLS,e),function(e){D.replaceClass(e,MINI_ATTR_CLS,"_"+MINI_ATTR_CLS),t[t.length]=D.get(ATTR,e)})})):(D.removeClass(moreAttrsBtn,MORE_ATTRS_DROP_CLS),D.html(moreAttrsBtn,D.html(moreAttrsBtn).replace("\u7cbe\u7b80\u9009\u9879","\u66f4\u591a\u9009\u9879")),D.hide(moreAttrsCont),e=D.query("._"+MINI_ATTRS_CLS),S.each(e,function(e){D.replaceClass(e,"_"+MINI_ATTRS_CLS,MINI_ATTRS_CLS),S.each(D.query("._"+MINI_ATTR_CLS,e),function(e){D.replaceClass(e,"_"+MINI_ATTR_CLS,MINI_ATTR_CLS),t[t.length]=D.get(ATTR,e)})}),list.closeAll(t)),S.each(t,function(e){moreBtn.init(e)})})};return{"init":function(){form=D.get(FORM),brands=D.query(BRAND,form),cates=D.query(CATE),props=D.query(PROP,form),moreAttrsBtn=D.get(MORE_ATTRS_BTN,form),moreAttrsCont=D.get(MORE_ATTRS_CONT,form),7==UA.ie&&D.query(ATTR).each(function(e){D.query("a",e).each(function(e){e.setAttribute("hideFocus","true")})}),S.each(cates,function(e){e.minDiffRow=2});var e=new Handler(cates);if(e.init(),form){bindEventForMoreAttrsBtn();var t=new Handler(props);t.submit=function(e){var t="",n=[];S.each(e.valueAnchors,function(e){if(D.hasClass(e.parentNode,VAL_SELECTED_CLS)){var a=D.attr(e,"data-pv"),i=(a||"").split(":");t=i[0],i[1]&&n.push(i[1])}});var a=""==t?"":t+":"+n.join(","),i=D.val(form.prop);D.val(form.prop,""==i?a:i+";"+a),form.submit()},t.init();var n=new Handler(brands);if(util.extend(n,t,"bindEventForMoreBtn",function(e){e.searchUrl=e.searchUrl||D.attr(D.get(MORE_BTN,e),"data-url"),e.searchUrl&&e.moreBtn&&E.on(e.moreBtn,"click",function(){D.hasClass(e.ul,UL_EXPAND_CLS)?ajax.expandBrand(this,e):ajax.collapseBrand(this,e)},this)}),util.extend(n,t,"bindEventForMultipleBtn",function(e){e.searchUrl=e.searchUrl||D.attr(D.get(MORE_BTN,e),"data-url"),e.searchUrl&&e.multipleBtn&&E.on(e.multipleBtn,"click",function(){ajax.expandBrand(this,e)},this)}),util.extend(n,t,"bindEventForCancelBtn",function(e){e.searchUrl=e.searchUrl||D.attr(D.get(MORE_BTN,e),"data-url"),e.searchUrl&&E.on(e.cancelBtn,"click",function(){ajax.collapseBrand(this,e)},this)},!0),n.submit=function(e){var t=[];S.each(e.valueAnchors,function(e){D.hasClass(e.parentNode,VAL_SELECTED_CLS)&&t.push(util.getCustomKey(e,"brand"))}),D.val(form.brand,t.join(",")),form.submit()},brands&&S.each(brands,function(e){e.minDiffRow=2,ajax.initBrandSearch(n,e)}),n.init(function(e){}),util.fixIE6Hover(["."+MINI_ATTR_CLS,BRAND+" li"]),D.get("."+MINI_ATTRS_CLS,form)){var a=D.query("."+MINI_ATTR_CLS,form);S.each(a,function(e){E.on(e,"mouseleave",function(){var t=D.get("."+FOR_MULTIPLE_CLS,e);t?D.style(e,"zIndex",11):D.style(e,"zIndex","")})})}var i=function(){var e=[].concat(cates,props);brands&&e.push(brands),S.each(e,function(e){moreBtn.init(e)})};LIST.msg.on("viewchange",i),E.on(ATTRS_TRIGGER,"click",function(e){var t=this,n=D.get(ATTRS,form);D.toggleClass(t,"attrsTrigger-expand"),t.className.indexOf("attrsTrigger-expand")===-1?D.hide(n):D.show(n),i()});var r="height="+D.outerHeight(form),s=__header_atpanel_param.match(/\brn=\w+\b/),o=r+"&"+s;(window.goldlog_queue||(window.goldlog_queue=[])).push({"action":"goldlog.record","arguments":["/msearch.1.11","tmallsearch",o,"H1449172242"]})}}}},{"requires":["dom","event","ua","ajax"]});KISSY.add("list/atp2nav",function(t,e){function a(){}return a.prototype={"init":function(){this.initDom(),this.sendAtp("/tmalljy.2.25","tmallsearch",(window.__list_atpanel_param||"")+"&"+this.getLogInfo(),"H46807199")},"initDom":function(){this.NAV=".j_NavAttrs",this.BRAND=".j_nav_brand",this.HOT=".j_nav_hot",this.CATHK=".j_nav_cat_hk",this.CAT=".j_nav_cat",this.PROP=".j_nav_prop"},"getLogInfo":function(){return["navStartHeight="+(e.offset(this.NAV)&&e.offset(this.NAV).top||""),"navBrandHeight="+(e.outerHeight(this.BRAND)||""),"navHotHeight="+(e.outerHeight(this.HOT)||""),"navCatHKHeight="+(e.outerHeight(this.CATHK)||""),"navCatHeight="+(e.outerHeight(this.CAT)||""),"navPropHeight="+(e.outerHeight(this.PROP)||""),"browserViewPortHeight="+e.viewportHeight()].join("&")},"sendAtp":function(t,e,a,n){var r=window.exposelog||win.goldlog&&win.goldlog.record;r&&r(t,e,a,n)}},a},{"requires":["dom"]});KISSY.add("list/mods/related/related",function(e,t,n){function a(){}return e.augment(a,{"init":function(){this.initView()},"initView":function(){var t,a,i;a=n.get("#J_RelSearch"),i=n.get("p",a),i&&(t=['<ul class="relKeyTop" data-spm="'+n.attr(i,"data-spm")+'" data-atp="'+n.attr(i,"data-atp")+'">'],e.each(n.query("a",a),function(e){t.push('<li><a href="'+n.attr(e,"href")+'">'+n.text(e)+"</a></il>")}),t.push("</ul>"),n.append(n.create(t.join("")),"#mallSearch"))}},t),new a},{"requires":["base","dom"]});KISSY.add("list/mods/filter/filter",function(e,t,n,a,i){function r(){return this instanceof r?(this.isPriceFocus=!1,void this._init()):new r}var s,o,c,l,d,u,p,h,f,m,g,v,_,b,w,S=window,y=6==a.ie,C=".main",x="#J_Filter",T="#J_FForm",A="filter-fix",I="#J_FPrice",k="#J_FPEnter",B="#J_FPCancel",D=".j_FPInput",L="fPrice-hover",j="#J_FOriginArea",J="#J_FOAInput",E="#J_FDestArea",q="#J_DestAreaForm",R="fA-text",N="fA-list",P="fAll-cities",H="fAl-cur",O="fAll-cities-cur",M=new i,F="#J_FMenu",U=".j_FMcExpand",z=".j_FTip",K=".j_FTCat",W=".j_FTX",Y="#J_FDisctOpts",V="fDO-cur",$="fDO-disable";return e.augment(r,n.Target,{"_init":function(){if(o){var e=this;LIST.msg.fire("ie6&PadHover",{"classname":["fArea","fRange"]}),this._destAreaInit(),this._menuInit(),setTimeout(function(){e._priceEvent(),e._originAreaEvent(),e._destAreaEvent(),e._menuEvent(),e._fix()},0),this._tipCtrl(!0),this._disctOpts()}},"_priceEvent":function(){if(l){var a=this,i=null;n.on(d,"blur",function(){i=setTimeout(function(){a.isPriceFocus=!1,t.removeClass(l,L)},300)}),n.on(d,"focus",function(){clearTimeout(i),a.isPriceFocus=!0,t.addClass(l,L)}),n.on(d,"keyup",function(){var e=this.value;/^\d+\.?\d*$/.test(e)||(e=Math.abs(parseFloat(e)),this.value=isNaN(e)?"":e)}),n.on(u,"click",function(t){c.submit(),e.log(c),t.preventDefault()}),n.on(p,"click",function(e){t.val(d,""),d[0].focus(),e.preventDefault()}),n.on(o,"keypress",function(e){13==e.keyCode&&a.isPriceFocus&&c.submit()})}},"_originAreaEvent":function(){if(f){var e=t.attr(f,"data-val")||"";""==f.value&&(f.value=e),n.on(f,"focus",function(){f.value==e&&(f.value="")}),n.on(f,"blur",function(){""==f.value&&(f.value=e)}),n.on(t.query("a",h),"click",function(e){e.preventDefault();var n=t.attr(this,"data-val")||t.html(this);f.value="\u6240\u6709\u5730\u533a"==n?"":n,m.submit()}),n.on(g,"click",function(){f.value==e&&(f.value="")})}},"_updateDestAreaBoxHtml":function(e,n,a){var i=['<ul class="fAl-loc">'];for(var r in n)i[i.length]="<li"+(a==r?' class="'+H+'"':"")+'><a href="" code="'+r+'" atpanel="3,'+n[r]+',,,spu-toloc,20,toloc,">'+n[r]+"</a></li>";i[i.length]="</ul>",t.html(e,i.join(""))},"_data":{},"_destAreaInit":function(){if(v){var e,n,a=t.get("."+N,v),i=t.get("."+R,v),r=t.query("a",a).slice(1),s=t.val(document.getElementsByName("area_code")[0]),o=M[s],c=-1,l=r.length;if(s)if(o){for(;++c<l;)if(e=r[c],n=e.parentNode,t.attr(e,"code")==s){t.addClass(n,H),this._data.dLastLi=n;break}}else{var d,u=s.replace(/([\d]{2})\d+/g,"$10000"),p=M[u],h=p&&2==p.length?p[1]:null;if(h)for(;++c<l;)if(e=r[c],t.attr(e,"code")==u){n=e.parentNode,d=t.next(n,"."+P),this._updateDestAreaBoxHtml(d,h,s),t.get("i",e)||t.append(t.create('<i class="f-ico-triangle-mt" />'),e),t.addClass(n,H),t.addClass(d,O),t.html(i,h[s]),this._data.dLastBox=d,this._data.dLastLi=n,this._data.lastChildLi=t.get("."+H,d);break}}}},"_destAreaEvent":function(){if(v){var e=this,a=t.get("."+N,v),i=e._data.dLastChildLi,r=e._data.dLastLi,s=e._data.dLastBox;n.on(v,"click",function(){a.style.display="block"}),n.on(v,"mouseleave",function(){a.style.display="none"}),n.delegate(a,"click","a",function(n){var a=n.currentTarget,o=a.parentNode,c=t.attr(a,"code"),l=[],d=null;if(!t.hasClass(o,P)){switch(t.addClass(o,H),c&&(l=M[c]||[]),o.grade=0!==l.length?1:2,s&&1==o.grade&&t.removeClass(s,O),2==l.length&&function(){(d=t.next(o,"."+P))&&(e._updateDestAreaBoxHtml(d,l[1]),t.get("i",a)||t.append(t.create('<i class="f-ico-triangle-mt" />'),a),t.addClass(d,O),s=d)}(),o.grade){case 1:r!=o&&(t.removeClass(r,H),r=o);break;case 2:i!=o&&(t.removeClass(i,H),i=o)}n.preventDefault(),2!==l.length&&(t.val(_.sarea_code,c),_.submit())}})}},"_menuEvent":function(){if(b){n.on(t.query("input",b),"click",function(){c.submit()});var e=t.get("#J_CouponFilter"),a=t.get("#J_CouponInput");if(e){var i=t.query("#J_CouponFilter .cf-inner input")||[];n.on(t.query("input",e),"click",function(e){var t,n=e.currentTarget;for(t=0;t<i.length;t++)i[t]!=n?i[t].checked=!1:i[t].checked=n.checked;a&&(n.checked?a.value=n.value||"":a.value=""),c.submit()})}}},"_menuInit":function(){if(b){for(var e="drop",n=t.children(t.children(b),function(e){return"INPUT"==e.tagName&&"checkbox"==e.type}),a=n.length,i=3;i<a;i++)if(n[i].checked){e="expand";break}LIST.msg.fire("expand",{"el":w,"classname":"fMenu","status":e})}},"_fix":function(){var e=t.get("#J_FilterPlaceholder")||t.create('<div id="J_FilterPlaceholder" />',{"css":{"height":t.outerHeight(o,!0),"display":"none"}});t.insertAfter(e,o);var a,i=t.get("#J_crumbs"),r=document.body,c=function(){var n,c=t.scrollTop(S);n=t.hasClass(o,A)?t.offset(e).top:Math.max(t.offset(o).top,130),t.hasClass(i,"crumb-fix")&&(c+=t.height(i)),c>n?(t.hasClass(o,A)||(t.hasClass(r,"crumb-filter-fix")&&(a=t.css(o,"top"),t.css(o,{"top":t.height(i)-10})),t.addClass(o,A),t.show(e)),y&&(t.get("#J_CrumbPlaceholder")?t.css(o,"top",c-t.offset(s).top+20):t.css(o,"top",c-10-t.offset(s).top))):(t.removeClass(o,A),t.css(o,{"top":a}),t.hide(e))};c(),LIST.msg.on("filter.topchange",function(){c()}),n.on(S,"scroll",c)},"_tipCtrl":function(e){if(!e&&b){var n=t.query("label",b);if(n.length){var a=[1,-1,0,0],i=a.length;t.query(z).each(function(e){var r=t.attr(e,"data-cfg"),s=a;if(r){s=r.split(",");for(var o=0;o<i;o++)s[o]=parseInt(s[o])||a[o]}var c=n[s[0]-1];if(c){var l=c.offsetLeft+t.outerWidth(c)/2-t.outerWidth(e)/2;t.css(e,"left",l+"px")}s[1]!==-1&&setTimeout(function(){t.hide(z)},s[1]<0?0:s[1]),s[2]&&t.show(t.get(K,e)),s[3]&&t.show(t.get(W,e)),t.show(e)})}}},"_disctOpts":function(){var e=Y;t.get(e)&&(7==a.ie&&t.query(e+" a").each(function(e){e.setAttribute("hideFocus","true")}),n.delegate(e,"click","a",function(n){var a=n.target,i=V,r=$;t.hasClass(a,r)||(t.query(e+" a").each(function(e){t.removeClass(e,i)}),t.addClass(a,i))}))}}),{"init":function(){this._initNodes(),new r},"_initNodes":function(){s=t.get(C),o=t.get(x),c=t.get(T),l=t.get(I),d=t.query(D),u=t.get(k),p=t.get(B),h=t.get(j),f=t.get(J),m=t.get("form",h),g=t.get("button",h),v=t.get(E),_=t.get(q),b=t.get(F),w=t.get(U)}}},{"requires":["dom","event","ua","list/widgets/city-codes"]});KISSY.add("list/widgets/city-codes",function(e){function t(){return this instanceof t?e.clone(a):new t}var a={"110000":["\u5317\u4eac"],"120000":["\u5929\u6d25"],"130000":["\u6cb3\u5317",{"130100":["\u77f3\u5bb6\u5e84"],"130200":["\u5510\u5c71"],"130300":["\u79e6\u7687\u5c9b"],"130400":["\u90af\u90f8"],"130500":["\u90a2\u53f0"],"130600":["\u4fdd\u5b9a"],"130700":["\u5f20\u5bb6\u53e3"],"130800":["\u627f\u5fb7"],"130900":["\u6ca7\u5dde"],"131000":["\u5eca\u574a"],"131100":["\u8861\u6c34"]}],"140000":["\u5c71\u897f",{"140100":["\u592a\u539f"],"140200":["\u5927\u540c"],"140300":["\u9633\u6cc9"],"140400":["\u957f\u6cbb"],"140500":["\u664b\u57ce"],"140600":["\u6714\u5dde"],"140700":["\u664b\u4e2d"],"140800":["\u8fd0\u57ce"],"140900":["\u5ffb\u5dde"],"141000":["\u4e34\u6c7e"],"141100":["\u5415\u6881"]}],"150000":["\u5185\u8499\u53e4",{"150100":["\u547c\u548c\u6d69\u7279"],"150200":["\u5305\u5934"],"150300":["\u4e4c\u6d77"],"150400":["\u8d64\u5cf0"],"150500":["\u901a\u8fbd"],"150600":["\u9102\u5c14\u591a\u65af"],"150700":["\u547c\u4f26\u8d1d\u5c14"],"150800":["\u5df4\u5f66\u6dd6\u5c14"],"150900":["\u4e4c\u5170\u5bdf\u5e03"],"152200":["\u5174\u5b89"],"152500":["\u9521\u6797\u90ed\u52d2"],"152900":["\u963f\u62c9\u5584"]}],"210000":["\u8fbd\u5b81",{"210100":["\u6c88\u9633"],"210200":["\u5927\u8fde"],"210300":["\u978d\u5c71"],"210400":["\u629a\u987a"],"210500":["\u672c\u6eaa"],"210600":["\u4e39\u4e1c"],"210700":["\u9526\u5dde"],"210800":["\u8425\u53e3"],"210900":["\u961c\u65b0"],"211000":["\u8fbd\u9633"],"211100":["\u76d8\u9526"],"211200":["\u94c1\u5cad"],"211300":["\u671d\u9633"],"211400":["\u846b\u82a6\u5c9b"]}],"220000":["\u5409\u6797",{"220100":["\u957f\u6625"],"220200":["\u5409\u6797"],"220300":["\u56db\u5e73"],"220400":["\u8fbd\u6e90"],"220500":["\u901a\u5316"],"220600":["\u767d\u5c71"],"220700":["\u677e\u539f"],"220800":["\u767d\u57ce"],"222400":["\u5ef6\u8fb9"]}],"230000":["\u9ed1\u9f99\u6c5f",{"230100":["\u54c8\u5c14\u6ee8"],"230200":["\u9f50\u9f50\u54c8\u5c14"],"230300":["\u9e21\u897f"],"230400":["\u9e64\u5c97"],"230500":["\u53cc\u9e2d\u5c71"],"230600":["\u5927\u5e86"],"230700":["\u4f0a\u6625"],"230800":["\u4f73\u6728\u65af"],"230900":["\u4e03\u53f0\u6cb3"],"231000":["\u7261\u4e39\u6c5f"],"231100":["\u9ed1\u6cb3"],"231200":["\u7ee5\u5316"],"232700":["\u5927\u5174\u5b89\u5cad"]}],"310000":["\u4e0a\u6d77"],"320000":["\u6c5f\u82cf",{"320100":["\u5357\u4eac"],"320200":["\u65e0\u9521"],"320300":["\u5f90\u5dde"],"320400":["\u5e38\u5dde"],"320500":["\u82cf\u5dde"],"320600":["\u5357\u901a"],"320700":["\u8fde\u4e91\u6e2f"],"320800":["\u6dee\u5b89"],"320900":["\u76d0\u57ce"],"321000":["\u626c\u5dde"],"321100":["\u9547\u6c5f"],"321200":["\u6cf0\u5dde"],"321300":["\u5bbf\u8fc1"]}],"330000":["\u6d59\u6c5f",{"330100":["\u676d\u5dde"],"330200":["\u5b81\u6ce2"],"330300":["\u6e29\u5dde"],"330400":["\u5609\u5174"],"330500":["\u6e56\u5dde"],"330600":["\u7ecd\u5174"],"330700":["\u91d1\u534e"],"330800":["\u8862\u5dde"],"330900":["\u821f\u5c71"],"331000":["\u53f0\u5dde"],"331100":["\u4e3d\u6c34"]}],"340000":["\u5b89\u5fbd",{"340100":["\u5408\u80a5"],"340200":["\u829c\u6e56"],"340300":["\u868c\u57e0"],"340400":["\u6dee\u5357"],"340500":["\u9a6c\u978d\u5c71"],"340600":["\u6dee\u5317"],"340700":["\u94dc\u9675"],"340800":["\u5b89\u5e86"],"341000":["\u9ec4\u5c71"],"341100":["\u6ec1\u5dde"],"341200":["\u961c\u9633"],"341300":["\u5bbf\u5dde"],"341500":["\u516d\u5b89"],"341600":["\u4eb3\u5dde"],"341700":["\u6c60\u5dde"],"341800":["\u5ba3\u57ce"]}],"350000":["\u798f\u5efa",{"350100":["\u798f\u5dde"],"350200":["\u53a6\u95e8"],"350300":["\u8386\u7530"],"350400":["\u4e09\u660e"],"350500":["\u6cc9\u5dde"],"350600":["\u6f33\u5dde"],"350700":["\u5357\u5e73"],"350800":["\u9f99\u5ca9"],"350900":["\u5b81\u5fb7"]}],"360000":["\u6c5f\u897f",{"360100":["\u5357\u660c"],"360200":["\u666f\u5fb7\u9547"],"360300":["\u840d\u4e61"],"360400":["\u4e5d\u6c5f"],"360500":["\u65b0\u4f59"],"360600":["\u9e70\u6f6d"],"360700":["\u8d63\u5dde"],"360800":["\u5409\u5b89"],"360900":["\u5b9c\u6625"],"361000":["\u629a\u5dde"],"361100":["\u4e0a\u9976"]}],"370000":["\u5c71\u4e1c",{"370100":["\u6d4e\u5357"],"370200":["\u9752\u5c9b"],"370300":["\u6dc4\u535a"],"370400":["\u67a3\u5e84"],"370500":["\u4e1c\u8425"],"370600":["\u70df\u53f0"],"370700":["\u6f4d\u574a"],"370800":["\u6d4e\u5b81"],"370900":["\u6cf0\u5b89"],"371000":["\u5a01\u6d77"],"371100":["\u65e5\u7167"],"371200":["\u83b1\u829c"],"371300":["\u4e34\u6c82"],"371400":["\u5fb7\u5dde"],"371500":["\u804a\u57ce"],"371600":["\u6ee8\u5dde"],"371700":["\u83cf\u6cfd"]}],"410000":["\u6cb3\u5357",{"410100":["\u90d1\u5dde"],"410200":["\u5f00\u5c01"],"410300":["\u6d1b\u9633"],"410400":["\u5e73\u9876\u5c71"],"410500":["\u5b89\u9633"],"410600":["\u9e64\u58c1"],"410700":["\u65b0\u4e61"],"410800":["\u7126\u4f5c"],"410900":["\u6fee\u9633"],"411000":["\u8bb8\u660c"],"411100":["\u6f2f\u6cb3"],"411200":["\u4e09\u95e8\u5ce1"],"411300":["\u5357\u9633"],"411400":["\u5546\u4e18"],"411500":["\u4fe1\u9633"],"411600":["\u5468\u53e3"],"411700":["\u9a7b\u9a6c\u5e97"]}],"420000":["\u6e56\u5317",{"420100":["\u6b66\u6c49"],"420200":["\u9ec4\u77f3"],"420300":["\u5341\u5830"],"420500":["\u5b9c\u660c"],"420600":["\u8944\u6a0a"],"420700":["\u9102\u5dde"],"420800":["\u8346\u95e8"],"420900":["\u5b5d\u611f"],"421000":["\u8346\u5dde"],"421100":["\u9ec4\u5188"],"421200":["\u54b8\u5b81"],"421300":["\u968f\u5dde"],"422800":["\u6069\u65bd"]}],"430000":["\u6e56\u5357",{"430100":["\u957f\u6c99"],"430200":["\u682a\u6d32"],"430300":["\u6e58\u6f6d"],"430400":["\u8861\u9633"],"430500":["\u90b5\u9633"],"430600":["\u5cb3\u9633"],"430700":["\u5e38\u5fb7"],"430800":["\u5f20\u5bb6\u754c"],"430900":["\u76ca\u9633"],"431000":["\u90f4\u5dde"],"431100":["\u6c38\u5dde"],"431200":["\u6000\u5316"],"431300":["\u5a04\u5e95"],"433100":["\u6e58\u897f"]}],"440000":["\u5e7f\u4e1c",{"440100":["\u5e7f\u5dde"],"440200":["\u97f6\u5173"],"440300":["\u6df1\u5733"],"440400":["\u73e0\u6d77"],"440500":["\u6c55\u5934"],"440600":["\u4f5b\u5c71"],"440700":["\u6c5f\u95e8"],"440800":["\u6e5b\u6c5f"],"440900":["\u8302\u540d"],"441200":["\u8087\u5e86"],"441300":["\u60e0\u5dde"],"441400":["\u6885\u5dde"],"441500":["\u6c55\u5c3e"],"441600":["\u6cb3\u6e90"],"441700":["\u9633\u6c5f"],"441800":["\u6e05\u8fdc"],"441900":["\u4e1c\u839e"],"442000":["\u4e2d\u5c71"],"445100":["\u6f6e\u5dde"],"445200":["\u63ed\u9633"],"445300":["\u4e91\u6d6e"]}],"450000":["\u5e7f\u897f",{"450100":["\u5357\u5b81"],"450200":["\u67f3\u5dde"],"450300":["\u6842\u6797"],"450400":["\u68a7\u5dde"],"450500":["\u5317\u6d77"],"450600":["\u9632\u57ce\u6e2f"],"450700":["\u94a6\u5dde"],"450800":["\u8d35\u6e2f"],"450900":["\u7389\u6797"],"451000":["\u767e\u8272"],"451100":["\u8d3a\u5dde"],"451200":["\u6cb3\u6c60"],"451300":["\u6765\u5bbe"],"451400":["\u5d07\u5de6"]}],"460000":["\u6d77\u5357",{"460100":["\u6d77\u53e3"],"460200":["\u4e09\u4e9a"]}],"500000":["\u91cd\u5e86"],"510000":["\u56db\u5ddd",{"510100":["\u6210\u90fd"],"510300":["\u81ea\u8d21"],"510400":["\u6500\u679d\u82b1"],"510500":["\u6cf8\u5dde"],"510600":["\u5fb7\u9633"],"510700":["\u7ef5\u9633"],"510800":["\u5e7f\u5143"],"510900":["\u9042\u5b81"],"511000":["\u5185\u6c5f"],"511100":["\u4e50\u5c71"],"511300":["\u5357\u5145"],"511400":["\u7709\u5c71"],"511500":["\u5b9c\u5bbe"],"511600":["\u5e7f\u5b89"],"511700":["\u8fbe\u5dde"],"511800":["\u96c5\u5b89"],"511900":["\u5df4\u4e2d"],"512000":["\u8d44\u9633"],"513200":["\u963f\u575d"],"513300":["\u7518\u5b5c"],"513400":["\u51c9\u5c71"]}],"520000":["\u8d35\u5dde",{"520100":["\u8d35\u9633"],"520200":["\u516d\u76d8\u6c34"],"520300":["\u9075\u4e49"],"520400":["\u5b89\u987a"],"522200":["\u94dc\u4ec1"],"522300":["\u9ed4\u897f\u5357"],"522400":["\u6bd5\u8282"],"522600":["\u9ed4\u4e1c\u5357"],"522700":["\u9ed4\u5357"]}],"530000":["\u4e91\u5357",{"530100":["\u6606\u660e"],"530300":["\u66f2\u9756"],"530400":["\u7389\u6eaa"],"530500":["\u4fdd\u5c71"],"530600":["\u662d\u901a"],"530700":["\u4e3d\u6c5f"],"530800":["\u666e\u6d31"],"530900":["\u4e34\u6ca7"],"532300":["\u695a\u96c4"],"532500":["\u7ea2\u6cb3"],"532600":["\u6587\u5c71"],"532800":["\u897f\u53cc\u7248\u7eb3"],"532900":["\u5927\u7406"],"533100":["\u5fb7\u5b8f"],"533300":["\u6012\u6c5f"],"533400":["\u8fea\u5e86"]}],"540000":["\u897f\u85cf",{"540100":["\u62c9\u8428"],"542100":["\u660c\u90fd"],"542200":["\u5c71\u5357"],"542300":["\u65e5\u5580\u5219"],"542400":["\u90a3\u66f2"],"542500":["\u963f\u91cc"],"542600":["\u6797\u829d"]}],"610000":["\u9655\u897f",{"610100":["\u897f\u5b89"],"610200":["\u94dc\u5ddd"],"610300":["\u5b9d\u9e21"],"610400":["\u54b8\u9633"],"610500":["\u6e2d\u5357"],"610600":["\u5ef6\u5b89"],"610700":["\u6c49\u4e2d"],"610800":["\u6986\u6797"],"610900":["\u5b89\u5eb7"],"611000":["\u5546\u6d1b"]}],"620000":["\u7518\u8083",{"620100":["\u5170\u5dde"],"620200":["\u5609\u5cea\u5173"],"620300":["\u91d1\u660c"],"620400":["\u767d\u94f6"],"620500":["\u5929\u6c34"],"620600":["\u6b66\u5a01"],"620700":["\u5f20\u6396"],"620800":["\u5e73\u51c9"],"620900":["\u9152\u6cc9"],"621000":["\u5e86\u9633"],"621100":["\u5b9a\u897f"],"621200":["\u9647\u5357"],"622900":["\u4e34\u590f"],"623000":["\u7518\u5357"]}],"630000":["\u9752\u6d77",{"630100":["\u897f\u5b81"],"632100":["\u6d77\u4e1c"],"632200":["\u6d77\u5317"],"632300":["\u9ec4\u5357"],"632500":["\u6d77\u5357"],"632600":["\u679c\u6d1b"],"632700":["\u7389\u6811"],"632800":["\u6d77\u897f"]}],"640000":["\u5b81\u590f",{"640100":["\u94f6\u5ddd"],"640200":["\u77f3\u5634\u5c71"],"640300":["\u5434\u5fe0"],"640400":["\u56fa\u539f"],"640500":["\u4e2d\u536b"]}],"650000":["\u65b0\u7586",{"650100":["\u4e4c\u9c81\u6728\u9f50"],"650200":["\u514b\u62c9\u739b\u4f9d"],"652100":["\u5410\u9c81\u756a"],"652200":["\u54c8\u5bc6"],"652300":["\u660c\u5409"],"652700":["\u535a\u5c14\u5854\u62c9"],"652800":["\u5df4\u97f3\u90ed\u695e"],"652900":["\u963f\u514b\u82cf"],"653000":["\u514b\u5b5c\u52d2\u82cf"],"653100":["\u5580\u4ec0"],"653200":["\u548c\u7530"],"654000":["\u4f0a\u7281"],"654200":["\u5854\u57ce"],"654300":["\u963f\u52d2\u6cf0"]}],"710000":["\u53f0\u6e7e",{"710200":["\u9ad8\u96c4"],"710300":["\u53f0\u5357"],"710500":["\u91d1\u95e8"],"710600":["\u5357\u6295"],"710700":["\u57fa\u9686"],"710900":["\u5609\u4e49"],"711100":["\u53f0\u5317"],"711200":["\u5b9c\u5170"],"711300":["\u65b0\u7af9"],"711400":["\u6843\u56ed"],"711500":["\u82d7\u6817"],"710400":["\u53f0\u4e2d"],"711700":["\u5f70\u5316"],"712100":["\u4e91\u6797"],"712400":["\u5c4f\u4e1c"],"712500":["\u53f0\u4e1c"],"712600":["\u82b1\u83b2"],"712700":["\u6f8e\u6e56"]}],"810000":["\u9999\u6e2f",{"810100":["\u9999\u6e2f\u5c9b"],"810200":["\u4e5d\u9f99"],"810300":["\u65b0\u754c"]}],"820000":["\u6fb3\u95e8",{"820100":["\u6fb3\u95e8\u534a\u5c9b"]}]};return t});KISSY.add("list/mods/srp/shop",function(e,t,n,a){function i(){if(!(this instanceof i))return new i;var e=this.mod=t.get(s);e&&this._init()}function r(){return this instanceof r?(this.expandNum=0,void this._init()):new r}var s="#J_ItemList";e.augment(i,{"_init":function(){this._patch4IE6()},"_lazy":function(){var e=a(this.mod,{"diff":0});setTimeout(function(){e.set("diff","default"),e.refresh()},2e3)},"_patch4IE6":function(){t.get(".shopBox1")&&LIST.msg.fire("ie6&PadHover",{"classname":"shopHeader-dsr"})},"_webp":function(){var e=this.mod;LIST.util.webpFn(e)}});var o=window,c=t.get("#J_ItemList"),l=t.get("#J_ShopDropBtn"),u=t.query(".j_ShopBox",c),d="shopDropBtn-expand",p="shopBox-expand",h=".j_MoreProduct",f=["\u5c55\u5f00\u5546\u54c1\u680f<i></i>","\u6536\u8d77\u5546\u54c1\u680f<i></i>"];return e.augment(r,{"_init":function(){if(!(u.length<=0)){var n=this;e.each(u,function(e){t.hasClass(e,p)&&n.expandNum++}),this._addEvent()}},"_setBtnType":function(e){0==e?t.removeClass(l,d):t.hasClass(l,d)||t.addClass(l,d),t.html(l,f[e])},"_checkState":function(){this._setBtnType(0==this.expandNum?0:1)},"_addEvent":function(){var a=this,i=t.outerHeight(c);e.each(u,function(e){var i=t.get(h,e);n.on(i,"click",function(n){n.halt(),t.hasClass(e,p)?(a.expandNum--,t.scrollTop(o,t.scrollTop(o)-1)):(a.expandNum++,t.scrollTop(o,t.scrollTop(o)+1)),t.toggleClass(e,p),a._checkState()})}),n.on(l,"click",function(e){e.halt(),t.hasClass(l,d)?(a.expandNum=0,t.removeClass(u,p)):(a.expandNum=u.length,t.addClass(u,p)),o.scrollTo(0,t.offset(".shopCon").top-50),a._checkState()}),n.on(o,"scroll",function(){var e=t.scrollTop(o),n=t.offset(".shopCon").top;e>n?t.css(l,"top",e-n+80):t.css(l,"top",0),e-n+180>i?t.hide(l):t.show(l)}),n.on(o,"load resize",function(){var e=t.viewportWidth();e<1010?t.css(l,"right","3px"):t.css(l,"right","")})}}),{"init":function(){new i,new r}}},{"requires":["dom","event","datalazyload"]});KISSY.add("list/mods/dsr/dsr",function(e,t,n,a){function i(t){return this instanceof i?(this.config=e.merge(o,t||{}),void this._init()):new i(t)}var r="mods/dsr/dsr.v1.html.js",s="mods/dsr/dsr.v2.html.js",o={"cls":".j_ShopDsr","dataUrl":t.val("#J_ShopDsrUrl")||"","expand":!1,"tpl":r,"cpTexts":["\u4f4e\u4e8e","\u6301\u5e73","\u9ad8\u4e8e"],"abouts":{"ds":"\u63cf\u8ff0\u76f8\u7b26","sq":"\u670d\u52a1\u6001\u5ea6","ss":"\u7269\u6d41\u670d\u52a1"}};return e.augment(i,n.Target,{"_init":function(){t.query(this.config.cls).length>0&&this._request()},"_request":function(){var e=this,t=e.config.dataUrl;t&&a.get(t,{"t":+new Date},function(t){e._render(t)},"jsonp")},"_render":function(n){var a=this,i=a.config,r=(i.expand?s:i.tpl)||e.noop;e.each(t.query(i.cls),function(i,s){var o="shop"+(s+1),c=a._formatData(n[o]);c.atpanel=t.attr(i,"data-atpanel")||"",c&&e.isObject(c)&&LIST.util.onTemplate(r,function(e){t.html(i,e(c))})}),i.expand&&LIST.msg.fire("ie6&PadHover",{"classname":"proInfo-dsr"})},"_formatData":function(t){if(t&&e.isObject(t)){var n=this.config.cpTexts,a=this.config.abouts,i=function(e){var i=t[e],r=parseFloat(i.compare),s={};return s.about=a[e],s.value=i.value,s.higher=r>=0,0==r?(s.diff="---------",s.cpText=n[1]):r>0?(s.diff=i.compare,s.cpText=n[2]):(s.diff=i.compare.substr(1),s.cpText=n[0]),s};return{"dsr":[i("ds"),i("sq"),i("ss")],"url":t.rateUrl||""}}}}),{"init":function(e){new i(e)},"setCfg":function(t){o=e.merge(o,t||{})}}},{"requires":["dom","event","ajax"]}),window["mods/dsr/dsr.v1.html.js"]=function(e,t){var n={"escapehash":{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},"escapereplace":function(e){return n.escapehash[e]},"escaping":function(e){return"string"!=typeof e?e:e.replace(/[&<>"]/gim,this.escapereplace)},"detection":function(e){return"undefined"==typeof e?"":e}},a=function(e){if("undefined"!=typeof console){if(console.warn)return void console.warn(e);if(console.log)return void console.log(e)}throw e};t=t||{},t.__escapehtml=n,t.__throw=a;var e=e||{},i="";i+="";try{i+="";var r=e.dsr;e.it,e.Dsr,e.p,e.title,e.span,e.ul,e.con,e.li,e.em,e.num,e.b,e.high,e.low;i+='<!-- Dsr\u9ed8\u8ba4\u6a21\u677f | \u6309\u5e97\u94fa\u5c55\u793a\u6a21\u5f0f\u65f6\u5e97\u94fa\u6a21\u5757\u6b63\u5728\u4f7f\u7528 -->\n<p class="shopDsr-title">\u5e97\u94fa\u52a8\u6001\u8bc4\u5206<span>\u4e0e\u540c\u884c\u4e1a\u76f8\u6bd4</span></p>\n<ul class="shopDsr-con">\n    ',~function(){for(var e in r)if(r.hasOwnProperty(e)){var n=r[e];i+="\n    <li>",i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.about)),i+='\uff1a<em class="sDc-num">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.value)),i+="</em>\n        ",n.higher?(i+='\n        <b class="sDc-high">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.cpText)),i+='</b><em class="sDc-high">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.diff)),i+="</em>\n        "):(i+='\n        <b class="sDc-low">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.cpText)),i+='</b><em class="sDc-low">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.diff)),i+="</em>\n        "),i+="\n    </li>\n    "}}(),i+="\n</ul>"}catch(s){t.__throw("Juicer Render Exception: "+s.message)}return i+="",i.replace(/[\r\n]\s+[\r\n]/g,"\r\n")},window["mods/dsr/dsr.v2.html.js"]=function(e,t){var n={"escapehash":{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},"escapereplace":function(e){return n.escapehash[e]},"escaping":function(e){return"string"!=typeof e?e:e.replace(/[&<>"]/gim,this.escapereplace)},"detection":function(e){return"undefined"==typeof e?"":e}},a=function(e){if("undefined"!=typeof console){if(console.warn)return void console.warn(e);if(console.log)return void console.log(e)}throw e};t=t||{},t.__escapehtml=n,t.__throw=a;var e=e||{},i="";i+="";try{i+="";var r=e.dsr,s=(e.it,e.url),o=e.atpanel;e.idx,e.Dsr,e.p,e.em,e.num,e.a,e.b,e.high,e.low,e.i,e.arrow,e.ul,e.expand,e.li,e.title,e.strong;i+="<!-- Dsr\u4e0b\u62c9\u6a21\u677f -->\n",~function(){for(var e in r)if(r.hasOwnProperty(e)){var n=r[e],a=e;i+="\n",1==a&&(i+="\n<p>",i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.about)),i+='\uff1a<em class="pId-num">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.value)),i+='</em>\n    <a href="',i+=t.__escapehtml.escaping(t.__escapehtml.detection(s)),i+='" atpanel="',i+=t.__escapehtml.escaping(t.__escapehtml.detection(o)),i+='" target="_blank">\n        ',n.higher?(i+='\n        <b class="pId-high">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.cpText)),i+='</b><em class="pId-high">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.diff)),i+="</em>\n        "):(i+='\n        <b class="pId-low">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.cpText)),i+='</b><em class="pId-low">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.diff)),i+="</em>\n        "),i+='\n    </a>\n    <i class="pId-arrow"></i>\n</p>\n'),i+="\n"}}(),i+='\n<ul class="pId-expand">\n    <li class="pIde-title"><strong>\u5e97\u94fa\u52a8\u6001\u8bc4\u5206</strong>\u4e0e\u540c\u884c\u4e1a\u76f8\u6bd4</li>\n    ',~function(){for(var e in r)if(r.hasOwnProperty(e)){var n=r[e];i+="\n    <li>",i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.about)),i+='\uff1a<em class="pId-num">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.value)),i+='</em>\n        <a href="',i+=t.__escapehtml.escaping(t.__escapehtml.detection(s)),i+='" atpanel="',i+=t.__escapehtml.escaping(t.__escapehtml.detection(o)),i+='" target="_blank">\n            ',n.higher?(i+='\n            <b class="pId-high">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.cpText)),i+='</b><em class="pId-high">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.diff)),i+="</em>\n            "):(i+='\n            <b class="pId-low">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.cpText)),i+='</b><em class="pId-low">',i+=t.__escapehtml.escaping(t.__escapehtml.detection(n.diff)),i+="</em>\n            "),i+="\n        </a>\n    </li>\n    "}}(),i+="\n</ul>"}catch(c){t.__throw("Juicer Render Exception: "+c.message)}return i+="",i.replace(/[\r\n]\s+[\r\n]/g,"\r\n")};KISSY.add("list/mods/p4p/p4p",function(e,t,n,a){return{"init":function(){e.ready(function(){var e="#J_Recommend",n=t.get(e);if(n){var i=a(n,{"diff":5e3});i.refresh()}})}}},{"requires":["dom","ajax","datalazyload"]});var ASSETS_SERVER;!function(t){var e=t.use,n=t.Loader.Utils.isAttached;t.use=function(n,r,a){return e.call(t,n,r,void 0===a||a)},t.Loader.Utils.isAttached=function(e,r){return t.Loader.Utils.attachModsRecursively(r,e),n.call(t.Loader.Utils,e,r)};var r=t.log;t.log=function(t,e){var n=new Date;return r("["+(n.toISOString||n.toLocaleString).call(n).replace(/T/," ").replace(/Z/,"")+"] "+t,e)};var a=window,i=a.g_config=a.g_config||{};ASSETS_SERVER=i.assetsServer||"//g.alicdn.com/",a.LIST=a.LIST||{},LIST.util=LIST.util||{},LIST.support=LIST.support||{},LIST.data=LIST.data||{},LIST.msg=function(){if(LIST.msg&&LIST.msg.on)return LIST.msg;t.log("to simulate a `LIST.msg` object");var e={"cache":{},"on":function(t,e,n){this.cache[t]=this.cache[t]||{"fired":0,"fns":[]},this.cache[t].fns.push({"fn":e,"scope":n})},"fire":function(t,e){var n=this.cache[t];n&&(n.fired=1,n.data=e||{})},"detach":function(t,e,n){if(this.cache[t]){for(var r=0,a=this.cache[t].fns,i=a.length;r<i;r++)e===a[r].fn&&n===a[r].scope&&(a.splice(r,1),r--,i--);0==this.cache[t].fns.length&&delete this.cache[t]}}};return t.use("event",function(t,n){var r=e.cache||{};t.log("to change the `LIST.msg` object into the real object!"),e=t.mix(e,n.Target,!0);for(var a in r)if(r.hasOwnProperty(a)){for(var i=0,o=r[a].fns.length;i<o;i++)e.on(a,r[a][i].fn,r[a][i].scope);r[a].fired&&e.fire(a,r[a].data)}}),e}(),t.config({"combine":!0,"tag":i.t||+new Date+"","map":[[/(.+\/tm\/list\/.+)-min.js(.*)$/gi,"$1.js$2"]]}),t.use("event",function(t,e){e.on(a,"load",function(){t.log("onload triggered | duration:"+(new Date-(i.st||a.g_hb_monitor_st||0))+"ms")})}),location.href.indexOf("ks-debug")!=-1&&"undefined"!=typeof console||(a.console={"log":function(){}}),t.use("mui/iconfont/fontloader",function(t,e){new e({"fontFamily":"tm-list-font","container":"#content","textContent":"&#xf0002;","CLASS_TRIGGER":"list-font","loadingCallback":function(){t.log("load the icon font for list...")},"successCallback":function(){t.log("loaded the icon font for list successfully!"),t.use("dom",function(t,e){e.addStyleSheet(".list-font{visibility:visible!important}")})},"errorCallback":function(){t.log("failed to load the icon font for list!","warn")}})})}(KISSY);!function(t){t.use("dom,event,ua,datalazyload",function(t,e,n,a,o){function r(a,o,r){function c(t){this.disableHoverIn||e.addClass(this,this._hoverCls||r)}function d(t){if(!this.disableHoverOut){var n=this;setTimeout(function(){e.removeClass(n,n._hoverCls||r)},200)}}if(r=r||"hover",l||s){o=s?"mouse":o||"touch";var u=null;switch(o){case"mouse":u=function(){n.on(this,"mouseenter",c),n.on(this,"mouseleave",d)};break;case"touch":u=function(){n.on(this,"touchstart",c),n.on(this,"touchend",d)};break;default:i.__hoverPool=i.__hoverPool||[],u=function(){var t=this;n.on(this,"click",function(e){__hoverPool[__hoverPool.length-1]!==t&&(t._hoverCls=r,__hoverPool[__hoverPool.length]=t,c.call(t,e))})},!this._boundDefHover4Doc&&(n.on(".page","click",function(t){for(var n=t.target,a=0,o=__hoverPool.length;a<o;a++){var r=__hoverPool[a];!(r==n||e.contains(r,n))&&(d.call(r,t),__hoverPool.splice(a,1),a--,o--)}}),this._boundDefHover4Doc=!0)}t.log("bind hover events for ie6 or pad!"),e.query(a).each(function(t){s&&"A"==t.tagName&&"undefined"!=typeof e.attr(t,"href")||u.call(t)})}}var i=window,c=document,s=6==a.ie,l="ontouchstart"in c;LIST.util.createLoader=function(t){var e,n,a,o=[];return function(r,i){return 0===i||i||(i=1),1&i&&!n&&(n=!0,t(function(t){for(e=t;a=o.shift();)try{a&&a.apply(null,[e])}catch(n){setTimeout(function(){throw n},0)}})),e?(r&&r.apply(null,[e]),e):(2&i||r&&o.push(r),e)}},LIST.util.onTemplate=function(e,n){var a="__Loader__"+e;LIST[a]=LIST[a]||LIST.util.createLoader(function(n){var a=window;return a[e]?void n(a[e]):void t.getScript(t.Config.packages.list.base+e,function(){n(a[e])})}),LIST[a](n)},LIST.util.webpFn=function(n){if(i.g_config.webp){if("undefined"==typeof LIST.support.webp){var a=function(t){var n=!1,a=e.attr(t,"data-ks-lazyload")||e.attr(t,"data-ks-lazyload-custom");return a&&(n=/img\d*\.taobaocdn\.com.*?\.(jpg|png)\b/.test(a)||/gi\d*\.mlist\.alicdn\.com.*?\.(jpg|png)\b/.test(a)),n},o=LIST.util.webpFn._fn=function(){t.each(e.filter("img",a,e.get(n)||document),function(t){var n=e.attr(t,"data-ks-lazyload");n?e.attr(t,"data-ks-lazyload",n+"_.webp"):e.attr(t,"data-ks-lazyload-custom",e.attr(t,"data-ks-lazyload-custom")+"_.webp")})},r=new Image;return LIST.support.webp=!1,r.onload=function(){LIST.support.webp=!0,t.log("webp is supported!"),o()},void(r.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA")}LIST.support.webp&&LIST.util.webpFn._fn()}},LIST.util.initMods=function(e,n,a){var o=window.g_config.poc,r=(o?o.mods:0)&&window.TMPoc;a=a||{},t.log("to init mods ['"+n.join("','")+"']... ");for(var i,c,s,l,d,u=0,p=e.length;u<p;u++){d=+new Date,i=e[u],l={},c=n[u].replace(/\blist\//,"").replace(/\.js/g,""),s=c.replace(/[\/-]/g,"_").toLowerCase(),r&&TMPoc.trackCT(s+"_st");try{var f=a[c];"function"==typeof i?l=new i(f):"object"==typeof i&&(l=i),l.init&&l.init(f)}catch(S){t.log(S,"error");var g=encodeURIComponent(c+"\u521d\u59cb\u5316\u6267\u884c\u5931\u8d25:"+S);window._ap&&_ap.push(["jstracker","_trackCustom","msg="+g]);continue}r&&TMPoc.trackCT(s+"_nd"),t.log(">>>> the module `"+c+"` inited | duration:"+(new Date-d)+"ms")}},e[l?"removeClass":"addClass"]("html","no-touch"),LIST.msg.on("ie6&PadHover",function(e){var n=e.classname,a=e.id,o=n||a,i=a?"#":".",c=e.hoverType;if(o&&(l||s)){var d=function(t,n){var a=(n&&e.hoverCls?e.hoverCls[n]:e.hoverCls)||t+"-hover";r(i+t,c,a)};t.isString(o)?d(o):t.isArray(o)&&t.each(o,function(t,e){d(t,e)})}}),LIST.msg.on("expand",function(t){var a=t.el||null,o=t.classname||"",r=o+"-expand",i=t.text||{"drop":"\u66f4\u591a","expand":"\u6536\u8d77"},c=t.status||"drop",s=t.debounce||{"threshold":100,"execAsap":!0},l=t.manual;a&&(a.expandSwitchFn=function(){var t=e.attr(this,"data-status")||"drop",n=i[t],a="drop"==t?"expand":"drop",c=i[a],s=e.parent(this,"."+o);this.className=this.className.replace(t,a),this.innerHTML=this.innerHTML.replace(n,c),this.innerHTML=this.innerHTML.replace(t,a),e.attr(this,"data-status",a),"drop"==t?e.addClass(s,r):e.removeClass(s,r)},!l&&n.on(a,"click",a.expandSwitchFn.debounce(s.threshold,s.execAsap)),c!==(e.attr(a,"data-status")||"drop")&&a.expandSwitchFn())}),LIST.util.bindScrollAsync=function(a,o,r,c,s){if(a&&"function"==typeof o&&(a=e.query(a),a.length&&(s=s?~~s:-1))){var l=function(c){var d=e.viewportHeight(),u="number"==typeof r?r:0,p=a.length;if(!s||!p)return t.log("detach scroll async monitor..."),void n.detach(i,"scroll",l);for(var f=0;f<p&&s;f++){var S=e.scrollTop(),g=e.offset(a[f]),h=g.top||0,m=d+u+S,v=e.outerHeight(a[f]),C=h+v;m>=h&&S<C&&(t.log("send scroll async request..."),t.log("exeTimes:"+s+" el.length:"+a.length),o.call(a[f]),a.splice(f--,1),p=a.length,s--)}}.debounce(150,!0);!!c&&l(),n.on(i,"scroll",l)}},LIST.util.exposureFn=function(t){var e=new Image,n="_img_"+Math.random();i[n]=e,e.onload=e.onerror=function(){i[n]=null},e.src=t,e=null},Function.prototype.debounce=function(t,e){var n,a=this;return function(){function o(){e||a.apply(r,i),n=null}var r=this,i=arguments;n?clearTimeout(n):e&&a.apply(r,i),n=setTimeout(o,t||100)}},o("#content",{"diff":200}),window.goldlog&&goldlog.record("/mallsearch.expo.page","EXP",window.__list_atpanel_param||"","H1477801390"),t.use("list/shortcut",function(t,e){e&&e.init()})})}(KISSY);KISSY.add("list/pages/list",function(e,t,a){e.log("modules engine start ... | page-type:"+g_config.pageType),e.ready(function(){if(window.g_config.notInitSearchBar&&(e.use("mui/searchbar/instance/default",function(e,t){TB.instance.searchbar=t.build({"extraParams":e.merge(window.g_config.SearchbarFeature||{},{"vmarket":g_config.chnConfig&&g_config.chnConfig.marketId})}),TB.Global.fire("searchbarReady"),TB.globalToolFn.instanceHandler("mui/searchbar",TB.instance.searchbar)}),e.Uri)){var i=new e.Uri(window.location.href);i.query.get("g_couponId")&&i.query.get("g_couponGroupId")&&t.addClass("#mallSearch","coudan")}e.log("deal with the page's images"),window.LIST&&LIST.util&&LIST.util.webpFn&&LIST.util.webpFn();var n=t.get("#J_ItemList");if(!n)return void e.log("the SRP dom doesn't exist!");e.log("to lazy page's images");var o=a(n,{"diff":100});o&&e.log("SRP lazy engine is started!")});var i=t.get(".shopBox1"),n={"mods/dsr":i?{"tpl":"mods/dsr/dsr.v3.html.js"}:void 0,"mods/srp/grid":{"closeLazy":1}};e.log("to use mods..."),e.use(MODS,function(e){LIST.util.initMods([].slice.call(arguments,1),MODS,n)}),window.TMPoc&&TMPoc.trackCT("tti",!0),e.ready(function(e){var i=t.get("#J_BtmSearch"),n="btmSearch-loading";if(i){var o=a(i,{"mod":"manual","execScript":!1});o.addCallback(i,function(){if(t.removeClass(i,n),t.get("#mallSearch"))try{var a={};window.g_config&&(a=window.g_config.SearchbarFeature||{}),e.use("mui/searchbar/instance/default",function(e,t){t.build({"node":"#btm-mq","clickId":"bottomsearch","extraParams":a}),e.log("tmallsearch::bottom 'searchBar' instance has been instantiated successfully!")})}catch(o){e.log("btmSearch::error:"+o)}})}})},{"requires":["dom","datalazyload"]}),KISSY.use("list/pages/list"),window["mods/dsr/dsr.v3.html.js"]=function(e,t){var a={"escapehash":{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},"escapereplace":function(e){return a.escapehash[e]},"escaping":function(e){return"string"!=typeof e?e:e.replace(/[&<>"]/gim,this.escapereplace)},"detection":function(e){return"undefined"==typeof e?"":e}},i=function(e){if("undefined"!=typeof console){if(console.warn)return void console.warn(e);if(console.log)return void console.log(e)}throw e};t=t||{},t.__escapehtml=a,t.__throw=i;var e=e||{},n="";n+="";try{n+="";var o=e.dsr,r=e.atpanel,s=e.url;e.it,e.idx,e.div,e.star,e.a,e.em,e.i,e.script,e.document,e.d,e.s,e.more,e.drop,e.l,e.arrow,e.ul,e.expand,e.li,e.pointer,e.title,e.strong,e.num,e.b,e.high,e.low;n+="<!-- \u6309\u5e97\u94fa\u5c55\u793a\u6a21\u5f0f\u65f6\u4e13\u8f91\u6a21\u5757\u7684DSR\u6a21\u677f PD\uff1a\u5f20\u4eea @added by youxia.lqk.@tmall.com on 2013.05.23 -->\n",~function(){for(var e in o)if(o.hasOwnProperty(e)){var a=o[e],i=e;n+="\n",0==i&&(n+='\n<div class="tb-star" id="J_RateStar">\n    <a target="_blank" atpanel="',n+=t.__escapehtml.escaping(t.__escapehtml.detection(r)),n+='" href="',n+=t.__escapehtml.escaping(t.__escapehtml.detection(s)),n+="\"><em><i></i></em>\n        <script>(function(){var d=document.getElementById('J_RateStar'),i=d.getElementsByTagName('I')[0];i&&(i.style.width=(",n+=t.__escapehtml.escaping(t.__escapehtml.detection(a.value)),n+="*60/5)+'px');})();</script>\n        ",n+=t.__escapehtml.escaping(t.__escapehtml.detection(a.value)),n+='<s class="ui-more-drop-l-arrow"></s></a>\n</div>\n'),n+="\n"}}(),n+='\n<ul class="pId-expand">\n    <li class="pIde-pointer"></li>\n    <li class="pIde-title"><strong>\u5e97\u94fa\u52a8\u6001\u8bc4\u5206</strong>\u4e0e\u540c\u884c\u4e1a\u76f8\u6bd4</li>\n    ',~function(){for(var e in o)if(o.hasOwnProperty(e)){var a=o[e];n+="\n    <li>",n+=t.__escapehtml.escaping(t.__escapehtml.detection(a.about)),n+='\uff1a<em class="pId-num">',n+=t.__escapehtml.escaping(t.__escapehtml.detection(a.value)),n+='</em>\n        <a target="_blank" atpanel="',n+=t.__escapehtml.escaping(t.__escapehtml.detection(r)),n+='" href="',n+=t.__escapehtml.escaping(t.__escapehtml.detection(s)),n+='">\n            ',a.higher?(n+='\n            <b class="pId-high">',n+=t.__escapehtml.escaping(t.__escapehtml.detection(a.cpText)),n+='</b><em class="pId-high">',n+=t.__escapehtml.escaping(t.__escapehtml.detection(a.diff)),n+="</em>\n            "):(n+='\n            <b class="pId-low">',n+=t.__escapehtml.escaping(t.__escapehtml.detection(a.cpText)),n+='</b><em class="pId-low">',n+=t.__escapehtml.escaping(t.__escapehtml.detection(a.diff)),n+="</em>\n            "),n+="\n        </a>\n    </li>\n    "}}(),n+="\n</ul>"}catch(c){t.__throw("Juicer Render Exception: "+c.message)}return n+="",n.replace(/[\r\n]\s+[\r\n]/g,"\r\n")};KISSY.ready(function(t){window.__atplog_inited__||t.use("dom,event,json",function(t,a,e,r){function n(t,a,e){a=a||m,e=e||"";for(var r,n,o;t&&"HTML"!=t.tagName&&"BODY"!=t.tagName&&t.getAttribute;){if(o=t.getAttribute(a+e)){r=o,n=t;break}if(!(t=t.parentNode))break}return{"atpAttr":r,"el":n}}function o(a){var e,r=a.split(","),n={};return t.each(r,function(t){(e=/{(.*)}/.exec(t))&&(e=e[1]),e&&(n[e]="")}),n}function i(t,e){if(t&&"A"==t.tagName){if("text"!==e){var o,i,l=new RegExp("(\\?|\\&)"+e+"=([^&#]*)(\\&|\\#|$)","g"),c=t.href||t.link||"";if(o=(i=l.exec(c))?i[2]:a.attr(t,"data-"+e)||(t._atpParams||(t._atpParams=r.parse(a.attr(t,"data-atp-params")||"{}")))[e]||"",!o){var p=n(t,"data-"+e);p.atpAttr&&p.el&&(o=p.atpAttr)}}else o=a.text(t);return o}}function l(e){var r=n(e),l=r.el,p=r.atpAttr;if(l&&p){var d,u=t.query("a",l);p=c(p||"",l.parentNode),t.each(u,function(e,r){if(!e._atped&&!a.hasAttr(e,"data-atp-ignore")){var c=n(e);if(c.el==l){if(!a.hasAttr(e,_)){d=d||o(p);for(var u in d)d[u]=i(e,u);d.loc=r+1;var f=t.substitute(p,d);a.attr(e,_,f)}e._atped=!0}}})}}function c(a,e){var r,o,i,l;return a.indexOf("!")===-1?i=a:(a=a.split("!"),r="-"+a[0],i=(a[1]||"").split(","),o=n(e,"",r),o.el&&o.atpAttr&&(l=o.atpAttr.split(","),t.each(i,function(t,a){""===t&&(i[a]=l[a])})),i=i.join(",")),i}function p(){return Math.floor(268435456*Math.random()).toString(16)}function d(a,e,r,n){if(g.goldlog&&g.goldlog.record)goldlog.record(a,e,r,n);else{var o=new Image,i="_img_"+a+"_"+(new Date).getTime();g[i]=o,o.onload=o.onerror=function(){g[i]=null},o.src="//gm.mmstat.com"+a+"?goldlog=undefined&cache="+p()+"&gmkey="+encodeURIComponent(e)+"&gokey="+encodeURIComponent(r)+"&cna="+(Cookie.get("cna")||""),t.log(g[i]),o=null}}function u(a,e,r,n,o){var i=a.split(","),l=o||g.__list_atpanel_param||"",c={"pos":i[0]||"","itemid":i[1]||"","clickid":i[1]||"","itemcat":i[2]||"","itemspu":i[3]||"","fromtab":i[4]||"","type":i[5]||"","combo":i[6]||"","shopid":i[7]||"","actype":i[8]||"","gid":i[9]||"","btsinfo":i[10]||""};l+=(t.endsWith(l,"&")?"":l?"&":"")+t.param(c),d(e||"/mallsearch",n||"tmallsearch",l,r||v[e]||"H1449172242")}function f(t){if(t){t=a.get(t);var e,r=a.attr(t,_)||a.parent(t)&&a.attr(a.parent(t),_);r&&(e=n(t,"data-atp-logkey").atpAttr||n(t,"data-atp-url").atpAttr,u(r,e))}}var g=window,s=document,m="data-atp",_="atpanel",v={"/mallsearch":"H1449172242","/msearch.1.2":"H46777405"};e.delegate&&e.delegate(s.body,"mouseenter","a",function(t){var e=t.currentTarget;if(!e._atped&&!a.hasAttr(e,"data-atp-ignore"))return a.attr(e,_)?void(e._atped=!0):void l(e)}),e.on(s.body,"click",function(t){return f(t.target)}),g.atpanelFun=u,g.sendAtp=f,g.clicklog=u,g.exposelog=d,g.__atplog_inited__=1})});!function(t){t.use("dom,sizzle,event",function(t,e,n,a){function r(t){var n=t.currentTarget;if(!n._rned){var a=e.attr(this,o),r=n.href,i=n.search;r&&/^https*:\/\/\b/.test(r)&&(""==i?n.search+="?rn="+a:!/\brn=\w+\b/g.test(i)&&(n.search+="&rn="+a)),n._rned=!0}}var o="data-rn";a.delegate("["+o+"]","mouseenter","a",r)})}(KISSY);!function(t){t.use("dom,event,ua",function(t,e,n,r){function a(t){var e;if(c.createEvent){var n=c.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e=this.dispatchEvent(n)}else this.fireEvent&&"aftersubmit"!==t&&(e=this.fireEvent("on"+t));return e}function i(t){return a.call(t,"submit")}function o(t){return a.call(t,"aftersubmit")}var c=document,s=r.ie<9,d=r.ie<8;t.ready(function(){var r=window.g_config.toggle,a=r?r.filter:0;if(a){var l=function(n){for(var r,a=n.elements,i=n.length,o=0;o<i;o++)r=a[o],"checkbox"!==r.type&&"radio"!==r.type&&""==t.trim(r.value)&&(e.attr(r,"data-name-bak",r.name),e.removeAttr(r,"name"),t.log("filter: remove form '"+n+"'."+r["data-name-bak"]))},u=function(n){for(var r,a=n.elements,i=n.length,o=0;o<i;o++)r=a[o],e.hasAttr(r,"data-name-bak")&&(e.attr(r,"name",e.attr(r,"data-name-bak")),e.removeAttr(r,"data-name-bak"),t.log("filter: restored form '"+n+"'."+r.name))},f=s?function(t){n.on(t,"submit",function(t){l(t.target)}),!d&&n.on(t,"aftersubmit",function(t){u(t.target)})}:function(t){};if(!d)for(var p,S,g=0,m=c.forms,C=m.length;g<C;g++)S=m[g],p=S.submit,S.submit=function(){var e=i(this);t.log("filter: canSubmit="+e),e&&(p&&p.call(this),o(this))},f(S);s||(n.delegate(c,"submit","form",function(t){l(t.currentTarget)}),n.delegate(c,"aftersubmit","form",function(t){u(t.currentTarget)}))}})})}(KISSY);!function(t){t.use("dom,event,ua,cookie",function(t,e,n,a,o){var r=(window,document);6==a.ie;t.ready(function(){var t=r.documentElement,e="scroll:"+t.scrollWidth+"*"+t.scrollHeight+"-";e+="client:"+t.clientWidth+"*"+t.clientHeight+"-",e+="offset:"+t.offsetWidth+"*"+t.offsetHeight+"-",e+="screen:"+screen.width+"*"+screen.height,o.set("res",e)})})}(KISSY);