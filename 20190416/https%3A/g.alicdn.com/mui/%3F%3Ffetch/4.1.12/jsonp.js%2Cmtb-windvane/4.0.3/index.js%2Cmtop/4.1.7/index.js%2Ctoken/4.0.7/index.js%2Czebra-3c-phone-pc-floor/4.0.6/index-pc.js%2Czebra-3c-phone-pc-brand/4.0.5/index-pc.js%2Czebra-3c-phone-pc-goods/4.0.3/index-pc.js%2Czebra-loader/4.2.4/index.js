define("mui/fetch/jsonp",["mui/fetch/fetch","mui/fetch/tool"],function(e,t,r){"use strict";var n=e("mui/fetch/fetch");var o=e("mui/fetch/tool");(function(e){var t={timeout:2e3,jsonpCallback:"callback",callback:null,body:""};function i(){return"jsonp_"+Date.now()%1e5+Math.ceil(Math.random()*1e3)}function s(e){var t=Object.prototype.toString.call(e).toLowerCase();return t.substring(8,t.length-1)}function a(t,r){var n=document.querySelectorAll("head script[id="+r+"]");if(n.length<2){try{delete e[t]}catch(r){e[t]=undefined}}}function f(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}function u(t){var r=e.document.createElement("a");r.setAttribute("href",t);return r}var c=function r(n,c){c=c||{};e.fetch.jsonpcount++;var l=c.timeout?c.timeout:t.timeout,d=c.jsonpCallback?c.jsonpCallback:t.jsonpCallback,p;if(n.indexOf(d)!==-1){var h=u(n),y=new RegExp("("+d+"(=([^&#]*)|&|#|$))"),m=y.exec(h.search.substring(1));if(m){h.search=h.search.replace(m[0],"");n=h.toString();c.callback=m[3]}}return new Promise(function(t,r){var u=c.callback||i(),h=d+"_"+u+"_"+e.fetch.jsonpcount;if(e[u]){if(p)clearTimeout(p);f(h);a(u)}e[u]=function(e){t({ok:true,json:function t(){return Promise.resolve(e)},text:function t(){return Promise.resolve(JSON.stringify(e))}});if(p)clearTimeout(p);f(h);a(u)};n+=n.indexOf("?")===-1?"?":"&";if(c.body){n+=s(c.body)==="object"?o.param(c.body):encodeURI(String(c.body));n+="&"}var y=document.createElement("script");y.setAttribute("src",n+d+"="+u);y.id=h;document.getElementsByTagName("head")[0].appendChild(y);p=setTimeout(function(){r(new Error("JSONP request to "+n+" timed out"));e[u]=function(){a(u);f(h)}},l);y.onreadystatechange=y.onerror=function(){if(!this.readyState||(this.readyState==="loaded"||this.readyState==="complete")&&!e[u]){r(new Error("JSONP request to "+n+" error"));if(p)clearTimeout(p);a(u);f(h)}}})};var l=n;e.fetch=function(e,t){if(t&&t.method&&t.method.toUpperCase()==="JSONP"||/\.jsonp/i.test(e)){return c(e,t)}else{return l(e,t)}};e.fetch.jsonpcount=0;if(r){r.exports=e.fetch}})(window)});define("mui/mtb-windvane/index",function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"==typeof window&&(window={"ctrl":{},"lib":{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),!function(e,t){function n(e,t){e=e.toString().split("."),t=t.toString().split(".");for(var n=0;n<e.length||n<t.length;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(window.isNaN(i)&&(i=0),window.isNaN(r)&&(r=0),i<r)return-1;if(i>r)return 1}return 0}var r=e.Promise,a=e.document,s=e.navigator.userAgent,o=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(s)||/Windows\sNT\s[\d\.]+/i.test(s),u=o&&e.WindVane_Win_Private&&e.WindVane_Win_Private.call,l=/iPhone|iPad|iPod/i.test(s),c=/Android/i.test(s),f=s.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),d=Object.prototype.hasOwnProperty,h=t.windvane=e.WindVane||(e.WindVane={}),m=(e.WindVane_Native,Math.floor(65536*Math.random())),p=1,v=[],w=3,y="hybrid",b="wv_hybrid",g="iframe_",_="param_",P="chunk_",N=6e5,S=6e5,C=6e4;f=f?(f[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var W={"isAvailable":1===n(f,"0"),"call":function(e,t,n,i,a,s){var o,u;"number"==typeof arguments[arguments.length-1]&&(s=arguments[arguments.length-1]),"function"!=typeof i&&(i=null),"function"!=typeof a&&(a=null),r&&(u={},u.promise=new r(function(e,t){u.resolve=e,u.reject=t})),o=E.getSid();var l={"success":i,"failure":a,"deferred":u};if(s>0&&(l.timeout=setTimeout(function(){W.onFailure(o,{"ret":"HY_TIMEOUT"})},s)),E.registerCall(o,l),E.registerGC(o,s),W.isAvailable?E.callMethod(e,t,n,o):W.onFailure(o,{"ret":"HY_NOT_IN_WINDVANE"}),u)return u.promise},"fireEvent":function(e,t,n){var i=a.createEvent("HTMLEvents");i.initEvent(e,!1,!0),i.param=E.parseData(t||E.getData(n)),a.dispatchEvent(i)},"getParam":function(e){return E.getParam(e)},"setData":function(e,t){E.setData(e,t)},"onSuccess":function(e,t){E.onComplete(e,t,"success")},"onFailure":function(e,t){E.onComplete(e,t,"failure")}},E={"params":{},"chunks":{},"calls":{},"getSid":function(){return(m+p++)%65536+""},"buildParam":function(e){return e&&"object"==("undefined"==typeof e?"undefined":i(e))?JSON.stringify(e):e||""},"getParam":function(e){return this.params[_+e]||""},"setParam":function(e,t){this.params[_+e]=t},"parseData":function(e){var t;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(e){t={"ret":["WV_ERR::PARAM_PARSE_ERROR"]}}else t=e||{};return t},"setData":function(){this.chunks[P+sid]=this.chunks[P+sid]||[],this.chunks[P+sid].push(chunk)},"getData":function(e){return this.chunks[P+e]?this.chunks[P+e].join(""):""},"registerCall":function(e,t){this.calls[e]=t},"unregisterCall":function(e){var t={};return this.calls[e]&&(t=this.calls[e],delete this.calls[e]),t},"useIframe":function(e,t){var n=g+e,i=v.pop();i||(i=a.createElement("iframe"),i.setAttribute("frameborder","0"),i.style.cssText="width:0;height:0;border:0;display:none;"),i.setAttribute("id",n),i.setAttribute("src",t),i.parentNode||setTimeout(function(){a.body.appendChild(i)},5)},"retrieveIframe":function(e){var t=g+e,n=a.querySelector("#"+t);v.length>=w?a.body.removeChild(n):v.indexOf(n)<0&&v.push(n)},"callMethod":function(t,n,i,r){if(i=E.buildParam(i),o)u?e.WindVane_Win_Private.call(t,n,r,i):this.onComplete(r,{"ret":"HY_NO_HANDLER_ON_WP"},"failure");else{var a=y+"://"+t+":"+r+"/"+n+"?"+i;if(l)this.setParam(r,i),this.useIframe(r,a);else if(c){var s=b+":";window.prompt(a,s)}else this.onComplete(r,{"ret":"HY_NOT_SUPPORT_DEVICE"},"failure")}},"registerGC":function(e,t){var n=this,i=Math.max(t||0,N),r=Math.max(t||0,C),a=Math.max(t||0,S);setTimeout(function(){n.unregisterCall(e)},i),l?setTimeout(function(){n.params[_+e]&&delete n.params[_+e]},r):c&&setTimeout(function(){n.chunks[P+e]&&delete n.chunks[P+e]},a)},"onComplete":function(e,t,n){var i=this.unregisterCall(e),r=i.success,a=i.failure,s=i.deferred,o=i.timeout;o&&clearTimeout(o),t=t?t:this.getData(e),t=this.parseData(t);var u=t.ret;"string"==typeof u&&(t=t.value||t,t.ret||(t.ret=[u])),"success"===n?(r&&r(t),s&&s.resolve(t)):"failure"===n&&(a&&a(t),s&&s.reject(t)),l?(this.retrieveIframe(e),this.params[_+e]&&delete this.params[_+e]):c&&this.chunks[P+e]&&delete this.chunks[P+e]}};for(var T in W)d.call(h,T)||(h[T]=W[T])}(window,window.lib||(window.lib={})),n.exports=window.lib.windvane});define("mui/mtop/index",["mui/mtb-windvane/","mui/babel-polyfill/"],function(e,t,n){"use strict";var o=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e("mui/mtb-windvane/");e("mui/babel-polyfill/");typeof window==="undefined"&&(window={ctrl:{},lib:{}});!window.ctrl&&(window.ctrl={});!window.lib&&(window.lib={});!function(e,t){function n(){var e={},t=new g(function(t,n){e.resolve=t,e.reject=n});return e.promise=t,e}function i(e,t){for(var n in t){void 0===e[n]&&(e[n]=t[n])}return e}function r(e){var t=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document;t.appendChild(e)}function s(e){var t=[];for(var n in e){e[n]&&t.push(n+"="+encodeURIComponent(e[n]))}return t.join("&")}function a(e){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}function p(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,i,r,s;return i=2147483648&e,r=2147483648&t,n=1073741824&e,o=1073741824&t,s=(1073741823&e)+(1073741823&t),n&o?2147483648^s^i^r:n|o?1073741824&s?3221225472^s^i^r:1073741824^s^i^r:s^i^r}function o(e,t,n){return e&t|~e&n}function i(e,t,n){return e&n|t&~n}function r(e,t,n){return e^t^n}function s(e,t,n){return t^(e|~n)}function a(e,i,r,s,a,p,u){return e=n(e,n(n(o(i,r,s),a),u)),n(t(e,p),i)}function p(e,o,r,s,a,p,u){return e=n(e,n(n(i(o,r,s),a),u)),n(t(e,p),o)}function u(e,o,i,s,a,p,u){return e=n(e,n(n(r(o,i,s),a),u)),n(t(e,p),o)}function c(e,o,i,r,a,p,u){return e=n(e,n(n(s(o,i,r),a),u)),n(t(e,p),o)}function d(e){for(var t,n=e.length,o=n+8,i=(o-o%64)/64,r=16*(i+1),s=new Array(r-1),a=0,p=0;n>p;){t=(p-p%4)/4,a=p%4*8,s[t]=s[t]|e.charCodeAt(p)<<a,p++}return t=(p-p%4)/4,a=p%4*8,s[t]=s[t]|128<<a,s[r-2]=n<<3,s[r-1]=n>>>29,s}function l(e){var t,n,o="",i="";for(n=0;3>=n;n++){t=e>>>8*n&255,i="0"+t.toString(16),o+=i.substr(i.length-2,2)}return o}function f(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}var m,h,g,v,_,y,R,w,E,S=[],O=7,b=12,T=17,q=22,A=5,x=9,C=14,N=20,J=4,k=11,L=16,D=23,I=6,P=10,F=15,j=21;for(e=f(e),S=d(e),y=1732584193,R=4023233417,w=2562383102,E=271733878,m=0;m<S.length;m+=16){h=y,g=R,v=w,_=E,y=a(y,R,w,E,S[m+0],O,3614090360),E=a(E,y,R,w,S[m+1],b,3905402710),w=a(w,E,y,R,S[m+2],T,606105819),R=a(R,w,E,y,S[m+3],q,3250441966),y=a(y,R,w,E,S[m+4],O,4118548399),E=a(E,y,R,w,S[m+5],b,1200080426),w=a(w,E,y,R,S[m+6],T,2821735955),R=a(R,w,E,y,S[m+7],q,4249261313),y=a(y,R,w,E,S[m+8],O,1770035416),E=a(E,y,R,w,S[m+9],b,2336552879),w=a(w,E,y,R,S[m+10],T,4294925233),R=a(R,w,E,y,S[m+11],q,2304563134),y=a(y,R,w,E,S[m+12],O,1804603682),E=a(E,y,R,w,S[m+13],b,4254626195),w=a(w,E,y,R,S[m+14],T,2792965006),R=a(R,w,E,y,S[m+15],q,1236535329),y=p(y,R,w,E,S[m+1],A,4129170786),E=p(E,y,R,w,S[m+6],x,3225465664),w=p(w,E,y,R,S[m+11],C,643717713),R=p(R,w,E,y,S[m+0],N,3921069994),y=p(y,R,w,E,S[m+5],A,3593408605),E=p(E,y,R,w,S[m+10],x,38016083),w=p(w,E,y,R,S[m+15],C,3634488961),R=p(R,w,E,y,S[m+4],N,3889429448),y=p(y,R,w,E,S[m+9],A,568446438),E=p(E,y,R,w,S[m+14],x,3275163606),w=p(w,E,y,R,S[m+3],C,4107603335),R=p(R,w,E,y,S[m+8],N,1163531501),y=p(y,R,w,E,S[m+13],A,2850285829),E=p(E,y,R,w,S[m+2],x,4243563512),w=p(w,E,y,R,S[m+7],C,1735328473),R=p(R,w,E,y,S[m+12],N,2368359562),y=u(y,R,w,E,S[m+5],J,4294588738),E=u(E,y,R,w,S[m+8],k,2272392833),w=u(w,E,y,R,S[m+11],L,1839030562),R=u(R,w,E,y,S[m+14],D,4259657740),y=u(y,R,w,E,S[m+1],J,2763975236),E=u(E,y,R,w,S[m+4],k,1272893353),w=u(w,E,y,R,S[m+7],L,4139469664),R=u(R,w,E,y,S[m+10],D,3200236656),y=u(y,R,w,E,S[m+13],J,681279174),E=u(E,y,R,w,S[m+0],k,3936430074),w=u(w,E,y,R,S[m+3],L,3572445317),R=u(R,w,E,y,S[m+6],D,76029189),y=u(y,R,w,E,S[m+9],J,3654602809),E=u(E,y,R,w,S[m+12],k,3873151461),w=u(w,E,y,R,S[m+15],L,530742520),R=u(R,w,E,y,S[m+2],D,3299628645),y=c(y,R,w,E,S[m+0],I,4096336452),E=c(E,y,R,w,S[m+7],P,1126891415),w=c(w,E,y,R,S[m+14],F,2878612391),R=c(R,w,E,y,S[m+5],j,4237533241),y=c(y,R,w,E,S[m+12],I,1700485571),E=c(E,y,R,w,S[m+3],P,2399980690),w=c(w,E,y,R,S[m+10],F,4293915773),R=c(R,w,E,y,S[m+1],j,2240044497),y=c(y,R,w,E,S[m+8],I,1873313359),E=c(E,y,R,w,S[m+15],P,4264355552),w=c(w,E,y,R,S[m+6],F,2734768916),R=c(R,w,E,y,S[m+13],j,1309151649),y=c(y,R,w,E,S[m+4],I,4149444226),E=c(E,y,R,w,S[m+11],P,3174756917),w=c(w,E,y,R,S[m+2],F,718787259),R=c(R,w,E,y,S[m+9],j,3951481745),y=n(y,h),R=n(R,g),w=n(w,v),E=n(E,_)}var H=l(y)+l(R)+l(w)+l(E);return H.toLowerCase()}function u(e){return"[object Object]"=={}.toString.call(e)}function c(e,t,n){var o=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(o.domain?";domain="+o.domain:"")+(o.path?";path="+o.path:"")+(o.secure?";secure":"")+(o.httponly?";HttpOnly":"")}function d(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function l(e,t,n){var o=new Date;o.setTime(o.getTime()-864e5);var i="/";document.cookie=e+"=;path="+i+";domain=."+t+";expires="+o.toGMTString(),document.cookie=e+"=;path="+i+";domain=."+n+"."+t+";expires="+o.toGMTString()}function f(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var o=["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"],i=new RegExp("([^.]*?)\\.?((?:"+o.join(")|(?:").replace(/\./g,"\\.")+"))","i"),r=t.match(i)||[],s=r[2]||"taobao.com",a=r[1]||"m";"taobao.net"!==s||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===s&&"demo"===a?a="demo":"alibaba-inc.com"===s&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var p="h5api";_.mainDomain=s,_.subDomain=a,_.prefix=p}function m(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(_.WindVaneVersion=n[1]);var o=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);o&&(_.AliAppName=o[1],_.AliAppVersion=o[2])}function h(e){this.id=++E,this.params=i(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==o(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=y.slice(0)}var g=e.Promise,v=(g||{resolve:function e(){return void 0}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var _={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},y=[],R={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};f(),m();var w="AP"===_.AliAppName&&parseFloat(_.AliAppVersion)>=10.1,E=0,S="2.4.8";h.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},h.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},h.prototype.__processRequestType=function(n){var o=this,i=this.params,r=this.options;if(_.H5Request===!0&&(r.H5Request=!0),_.WindVaneRequest===!0&&(r.WindVaneRequest=!0),r.H5Request===!1&&r.WindVaneRequest===!0){if(!w&&(!t.windvane||parseFloat(r.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883");if(w&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::\u652f\u4ed8\u5b9d\u901a\u9053\u672a\u51c6\u5907\u597d\uff0c\u652f\u4ed8\u5b9d\u8bf7\u89c1 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(r.H5Request===!0)r.WindVaneRequest=!1;else if("undefined"==typeof r.WindVaneRequest&&"undefined"==typeof r.H5Request&&(t.windvane&&parseFloat(r.WindVaneVersion)>=5.4?r.WindVaneRequest=!0:r.H5Request=!0,w))if(r.WindVaneRequest=r.H5Request=void 0,e.AlipayJSBridge){if(u(i.data))r.WindVaneRequest=!0;else try{u(JSON.parse(i.data))?r.WindVaneRequest=!0:r.H5Request=!0}catch(e){r.H5Request=!0}}else r.H5Request=!0;var s=e.navigator.userAgent.toLowerCase();return s.indexOf("youku")>-1&&r.mainDomain.indexOf("youku.com")<0&&(r.WindVaneRequest=!1,r.H5Request=!0),r.mainDomain.indexOf("youku.com")>-1&&s.indexOf("youku")<0&&(r.WindVaneRequest=!1,r.H5Request=!0),n?n().then(function(){var e=r.retJson.ret;if(e instanceof Array&&(e=e.join(",")),r.WindVaneRequest===!0&&w&&r.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!w||!(isNaN(r.retJson.error)||e.indexOf("FAIL_SYS_ACCESS_DENIED")>-1))return w&&u(i.data)&&(i.data=JSON.stringify(i.data)),_.H5Request=!0,o.__sequence([o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest]);"undefined"==typeof r.retJson.api&&"undefined"==typeof r.retJson.v&&(r.retJson.api=i.api,r.retJson.v=i.v,r.retJson.ret=[r.retJson.error+"::"+r.retJson.errorMessage],r.retJson.data={})}}):void 0};var O="_m_h5_c",b="_m_h5_tk",T="_m_h5_tk_enc";h.prototype.__getTokenFromAlipay=function(){var t=n(),o=this.options,i=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return o.useAlipayJSBridge===!0&&!i&&w&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",function(e){e&&e.token&&(o.token=e.token),t.resolve()},function(){t.resolve()}):t.resolve(),t.promise},h.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&d(O)?e.token=d(O).split(";")[0]:e.token=e.token||d(b),e.token&&(e.token=e.token.split("_")[0]),g.resolve()},h.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},h.prototype.__processToken=function(e){var t=this,n=this.options;this.params;return n.token&&delete n.token,n.WindVaneRequest!==!0?v.then(function(){return t.__getTokenFromAlipay()}).then(function(){return t.__getTokenFromCookie()}).then(e).then(function(){var e=n.retJson,o=e.ret;if(o instanceof Array&&(o=o.join(",")),o.indexOf("TOKEN_EMPTY")>-1||n.CDR===!0&&o.indexOf("ILLEGAL_ACCESS")>-1||o.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes)return t.__sequence([t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]);n.maxRetryTimes>0&&(l(O,n.pageDomain,"*"),l(b,n.mainDomain,n.subDomain),l(T,n.mainDomain,n.subDomain)),e.retType=R.TOKEN_EXPIRED}}):void e()},h.prototype.__processRequestUrl=function(t){var n=this.params,o=this.options;if(o.hostSetting&&o.hostSetting[e.location.hostname]){var i=o.hostSetting[e.location.hostname];i.prefix&&(o.prefix=i.prefix),i.subDomain&&(o.subDomain=i.subDomain),i.mainDomain&&(o.mainDomain=i.mainDomain)}if(o.H5Request===!0){var r="//"+(o.prefix?o.prefix+".":"")+(o.subDomain?o.subDomain+".":"")+o.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===o.subDomain?"4272":"12574478"),a=(new Date).getTime(),u=p(o.token+"&"+a+"&"+s+"&"+n.data),c={jsv:S,appKey:s,t:a,sign:u},d={data:n.data,ua:n.ua};Object.keys(n).forEach(function(e){"undefined"==typeof c[e]&&"undefined"==typeof d[e]&&(c[e]=n[e])}),o.getJSONP?c.type="jsonp":o.getOriginalJSONP?c.type="originaljsonp":(o.getJSON||o.postJSON)&&(c.type="originaljson"),"undefined"!=typeof n.valueType&&("original"===n.valueType?o.getJSONP||o.getOriginalJSONP?c.type="originaljsonp":(o.getJSON||o.postJSON)&&(c.type="originaljson"):"string"===n.valueType&&(o.getJSONP||o.getOriginalJSONP?c.type="jsonp":(o.getJSON||o.postJSON)&&(c.type="json"))),o.useJsonpResultType===!0&&"originaljson"===c.type&&delete c.type,o.dangerouslySetProtocol&&(r=o.dangerouslySetProtocol+":"+r),o.querystring=c,o.postdata=d,o.path=r}t()},h.prototype.__processUnitPrefix=function(e){e()};var q=0;h.prototype.__requestJSONP=function(e){function t(e){if(c&&clearTimeout(c),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===e)window[u]=function(){window[u]=void 0;try{delete window[u]}catch(e){}};else{window[u]=void 0;try{delete window[u]}catch(e){}}}var o=n(),i=this.params,a=this.options,p=i.timeout||2e4,u="mtopjsonp"+(i.jsonpIncPrefix||"")+ ++q,c=setTimeout(function(){e(a.timeoutErrMsg||"TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),t("TIMEOUT")},p);a.querystring.callback=u;var d=document.createElement("script");return d.src=a.path+"?"+s(a.querystring)+"&"+s(a.postdata),d.async=!0,d.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")},window[u]=function(){a.results=Array.prototype.slice.call(arguments),t(),o.resolve()},r(d),o.promise},h.prototype.__requestJSON=function(t){function o(e){c&&clearTimeout(c),"TIMEOUT"===e&&p.abort()}var i=n(),r=this.params,a=this.options,p=new e.XMLHttpRequest,u=r.timeout||2e4,c=setTimeout(function(){t(a.timeoutErrMsg||"TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),o("TIMEOUT")},u);a.CDR&&d(O)&&(a.querystring.c=decodeURIComponent(d(O))),p.onreadystatechange=function(){if(4==p.readyState){var e,n,r=p.status;if(r>=200&&300>r||304==r){o(),e=p.responseText,n=p.getAllResponseHeaders()||"";try{e=/^\s*$/.test(e)?{}:JSON.parse(e),e.responseHeaders=n,a.results=[e],i.resolve()}catch(e){t("PARSE_JSON_ERROR::\u89e3\u6790JSON\u5931\u8d25")}}else o("ABORT"),t(a.abortErrMsg||"ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")}};var l,f,m=a.path+"?"+s(a.querystring);if(a.getJSON?(l="GET",m+="&"+s(a.postdata)):a.postJSON&&(l="POST",f=s(a.postdata)),p.open(l,m,!0),p.withCredentials=!0,p.setRequestHeader("Accept","application/json"),p.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.headers)for(var h in r.headers){p.setRequestHeader(h,r.headers[h])}return p.send(f),i.promise},h.prototype.__requestWindVane=function(e){function o(e){s.results=[e],i.resolve()}var i=n(),r=this.params,s=this.options,a=r.data,p=r.api,u=r.v,c=s.postJSON?1:0,d=s.getJSON||s.postJSON||s.getOriginalJSONP?"originaljson":"";"undefined"!=typeof r.valueType&&("original"===r.valueType?d="originaljson":"string"===r.valueType&&(d="")),s.useJsonpResultType===!0&&(d="");var l,f,m="https"===location.protocol?1:0,h=r.isSec||0,g=r.sessionOption||"AutoLoginOnly",v=r.ecode||0;return f="undefined"!=typeof r.timer?parseInt(r.timer):"undefined"!=typeof r.timeout?parseInt(r.timeout):2e4,l=2*f,r.needLogin===!0&&"undefined"==typeof r.sessionOption&&(g="AutoLoginAndManualLogin"),"undefined"!=typeof r.secType&&"undefined"==typeof r.isSec&&(h=r.secType),t.windvane.call("MtopWVPlugin","send",{api:p,v:u,post:String(c),type:d,isHttps:String(m),ecode:String(v),isSec:String(h),param:JSON.parse(a),timer:f,sessionOption:g,ext_headers:{referer:location.href}},o,o,l),i.promise},h.prototype.__requestAlipay=function(t){function o(e){s.results=[e],i.resolve()}var i=n(),r=this.params,s=this.options,a={apiName:r.api,apiVersion:r.v,needEcodeSign:!!r.ecode,usePost:!!s.postJSON};return u(r.data)||(r.data=JSON.parse(r.data)),a.data=r.data,r.ttid&&(a.ttid=r.ttid),(s.getJSON||s.postJSON||s.getOriginalJSONP)&&(a.type="originaljson"),"undefined"!=typeof r.valueType&&("original"===r.valueType?a.type="originaljson":"string"===r.valueType&&delete a.type),s.useJsonpResultType===!0&&delete a.type,e.AlipayJSBridge.call("mtop",a,o),i.promise},h.prototype.__processRequest=function(e,t){var n=this;return v.then(function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return w?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::\u9519\u8bef\u7684\u8bf7\u6c42\u7c7b\u578b")}).then(e).then(function(){var e=n.options,t=(n.params,e.results[0]),o=t&&t.ret||[];t.ret=o,o instanceof Array&&(o=o.join(","));var i=t.c;e.CDR&&i&&c(O,i,{domain:e.pageDomain,path:"/"}),o.indexOf("SUCCESS")>-1?t.retType=R.SUCCESS:t.retType=R.ERROR,e.retJson=t})},h.prototype.__sequence=function(e){function t(e){if(e instanceof Array)e.forEach(t);else{var s,a=n(),p=n();i.push(function(){return a=n(),s=e.call(o,function(e){return a.resolve(e),p.promise},function(e){return a.reject(e),p.promise}),s&&(s=s["catch"](function(e){a.reject(e)})),a.promise}),r.push(function(e){return p.resolve(e),s})}}var o=this,i=[],r=[];e.forEach(t);for(var s,a=v;s=i.shift();){a=a.then(s)}for(;s=r.pop();){a=a.then(s)}return a};var A=function e(t){t()},x=function e(t){t()};h.prototype.request=function(n){var o=this;if(this.options=i(n||{},_),!g){var r="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Promise\uff0c\u8bf7\u5728windows\u5bf9\u8c61\u4e0a\u6302\u8f7dPromise\u5bf9\u8c61\u53ef\u53c2\u8003\uff08http://gitlab.alibaba-inc.com/mtb/lib-es6polyfill/tree/master\uff09\u4e2d\u7684\u89e3\u51b3\u65b9\u6848";throw t.mtop={ERROR:r},new Error(r)}var s=g.resolve([A,x]).then(function(e){var t=e[0],n=e[1];return o.__sequence([t,o.__processRequestMethod,o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest,n])}).then(function(){var e=o.options.retJson;return e.retType!==R.SUCCESS?g.reject(e):o.options.successCallback?void o.options.successCallback(e):g.resolve(e)})["catch"](function(e){var t;return e instanceof Error?(console.error(e.stack),t={ret:[e.message],stack:[e.stack],retJson:R.ERROR}):t="string"==typeof e?{ret:[e],retJson:R.ERROR}:void 0!==e?e:o.options.retJson,o.options.failureCallback?void o.options.failureCallback(t):g.reject(t)});return this.__processRequestType(),o.options.H5Request&&(o.constructor.__firstProcessor||(o.constructor.__firstProcessor=s),A=function e(t){o.constructor.__firstProcessor.then(t)["catch"](t)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||a(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),s},t.mtop=function(e){return new h(e)},t.mtop.request=function(e,t,n){var o={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new h(e).request(o)},t.mtop.H5Request=function(e,t,n){var o={H5Request:!0,successCallback:t,failureCallback:n||t};return new h(e).request(o)},t.mtop.middlewares=y,t.mtop.config=_,t.mtop.RESPONSE_TYPE=R,t.mtop.CLASS=h}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function o(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function i(t,o){var i=this,r=e.dpr||1,s=document.createElement("div"),a=document.documentElement.getBoundingClientRect(),p=Math.max(a.width,window.innerWidth)/r,u=Math.max(a.height,window.innerHeight)/r;s.style.cssText=["-webkit-transform:scale("+r+") translateZ(0)","-ms-transform:scale("+r+") translateZ(0)","transform:scale("+r+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+p+"px","height:"+u+"px","z-index:999999","position:"+(p>800?"fixed":"absolute"),"left:0","top:0px","background:"+(p>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var c=document.createElement("div");c.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),c.innerText=t;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="\u5173\u95ed";var l=document.createElement("iframe");l.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),p>800&&(c.style.cssText=["width:370px","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:"+(p/2-185)+"px","top:40px","font-size:16px","font-weight:bold","color:#333"].join(";"),l.style.cssText=["position:absolute","top:92px","left:"+(p/2-185)+"px","width:370px","height:480px","border:0","background:#FFF","overflow:hidden"].join(";")),c.appendChild(d),s.appendChild(c),s.appendChild(l),s.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(s),l.src=o,d.addEventListener("click",function(){i.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),s.dispatchEvent(e)},!1),this.addEventListener=function(){s.addEventListener.apply(s,arguments)},this.removeEventListener=function(){s.removeEventListener.apply(s,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),s.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-a.top),s.parentNode&&s.parentNode.removeChild(s)}}function r(e){var n=this,o=this.options,i=this.params;return e().then(function(){var e=o.retJson,r=e.ret,s=navigator.userAgent.toLowerCase(),a=s.indexOf("safari")>-1&&s.indexOf("chrome")<0&&s.indexOf("qqbrowser")<0;if(r instanceof Array&&(r=r.join(",")),(r.indexOf("SESSION_EXPIRED")>-1||r.indexOf("SID_INVALID")>-1||r.indexOf("AUTH_REJECT")>-1||r.indexOf("NEED_LOGIN")>-1)&&(e.retType=d.SESSION_EXPIRED,!o.WindVaneRequest&&(c.LoginRequest===!0||o.LoginRequest===!0||i.needLogin===!0))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::\u7f3a\u5c11lib.login");if(o.safariGoLogin!==!0||!a||"taobao.com"===o.pageDomain)return t.login.goLoginAsync().then(function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})["catch"](function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::\u7528\u6237\u53d6\u6d88\u767b\u5f55"):new Error("LOGIN_FAILURE::\u7528\u6237\u767b\u5f55\u5931\u8d25")});t.login.goLogin()}})}function s(e){var t=this.options;this.params;return t.H5Request!==!0||c.AntiFlood!==!0&&t.AntiFlood!==!0?void e():e().then(function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)})}function a(t){var n=this,r=this.options,s=this.params;return s.forceAntiCreep!==!0&&r.H5Request!==!0||c.AntiCreep!==!0&&r.AntiCreep!==!0?void t():t().then(function(){var t=r.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),a.indexOf("RGV587_ERROR::SM")>-1&&t.data.url){var u="_m_h5_smt",c=o(u),d=!1;if(r.saveAntiCreepToken===!0&&c){c=JSON.parse(c);for(var l in c){s[l]&&(d=!0)}}if(r.saveAntiCreepToken===!0&&c&&!d){for(var l in c){s[l]=c[l]}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new p(function(o,a){function p(){l.removeEventListener("close",p),e.removeEventListener("message",c),a("USER_INPUT_CANCEL::\u7528\u6237\u53d6\u6d88\u8f93\u5165")}function c(t){var i;try{i=JSON.parse(t.data)||{}}catch(e){}if(i&&"child"===i.type){l.removeEventListener("close",p),e.removeEventListener("message",c),l.hide();var d;try{d=JSON.parse(decodeURIComponent(i.content)),"string"==typeof d&&(d=JSON.parse(d));for(var f in d){s[f]=d[f]}r.saveAntiCreepToken===!0?(document.cookie=u+"="+JSON.stringify(d)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(e){a("USER_INPUT_FAILURE::\u7528\u6237\u8f93\u5165\u5931\u8d25")}}}var d=t.data.url,l=new i("",d);l.addEventListener("close",p,!1),e.addEventListener("message",c,!1),l.show()})}})}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop \u521d\u59cb\u5316\u5931\u8d25\uff01\u8bf7\u53c2\u8003Mtop\u6587\u6863http://gitlab.alibaba-inc.com/mtb/lib-mtop");var p=e.Promise,u=t.mtop.CLASS,c=t.mtop.config,d=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push(r),t.mtop.loginRequest=function(e,t,n){var o={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new u(e).request(o)},t.mtop.antiFloodRequest=function(e,t,n){var o={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new u(e).request(o)},t.mtop.middlewares.push(s),t.mtop.antiCreepRequest=function(e,t,n){var o={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new u(e).request(o)},t.mtop.middlewares.push(a)}(window,window.lib||(window.lib={}));n.exports=window.lib["mtop"];(function(e,t){function n(e){var t=this.options;var n=false;var o;if(t.LimitFlood){n=t.LimitFlood.redirect;o=t.LimitFlood.url}else{var i=this.params;if(i&&i.LimitFlood){n=i.LimitFlood.redirect;o=i.LimitFlood.url}}if(n){return e().then(function(){var e=t.retJson;var n=e.ret;if(n instanceof Array){n=n.join(",")}if(n.indexOf("FAIL_LOCAL_ERROR_FANG_XUE_FENG")>-1||n.indexOf("FAIL_SYS_TRAFFIC_LIMIT")>-1){if(!o){o="https://pages.tmall.com/wow/act/15995/tmlimit?http_referer="+location.href}location.href=o}})}else{e()}}t.mtop.middlewares.push(n)})(window,window.lib||(window.lib={}))});define("mui/token/index",function(e,n,o){"use strict";var t=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol?"symbol":typeof e};var r=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||false;t.configurable=true;if("value"in t)t.writable=true;Object.defineProperty(e,t.key,t)}}return function(n,o,t){if(o)e(n.prototype,o);if(t)e(n,t);return n}}();function i(e,n){if(!(e instanceof n)){throw new TypeError("Cannot call a class as a function")}}e("mui/kissy-polyfill/index");e("mui/babel-polyfill/index");var a=e("mui/mtop/index");var u=window,l="//www.taobao.com/go/app/tmall/login-api.php",c="//www.daily.taobao.net/go/app/tmall/login-api.php",f=window.userCookie,s=function(){return u.location.href.indexOf(".daily.")!==-1}();var p=function(){function e(){i(this,e)}r(e,[{key:"escapeHTML",value:function n(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}},{key:"getUserInfo",value:function o(e){var n={};var o=this.escapeHTML(unescape(e["_nk_"].replace(/\\u/g,"%u")));n.isLogin=!!(e["_l_g_"]&&o);n.token=e["_tb_token_"]||"";n.nick=o;return n}},{key:"defer",value:function p(){var e={};var n=new Promise(function(n,o){e.resolve=n;e.reject=o});e.promise=n;return e}},{key:"get",value:function v(e){var n=this;var o=void 0;var r=this.defer();var i=this;if(f){o=i.getUserInfo(f);r.resolve(o);return r.promise}else{var a=function(){var e=s?c:l;var t=n;var r=r||{};r.url=e;r.dataType="script";var i=new Promise(function(n,r){try{feloader.getScript(e,function(e){f=u.userCookie;o=t.getUserInfo(f);n(o)})}catch(i){r(i)}});return{v:i}}();if((typeof a==="undefined"?"undefined":t(a))==="object")return a.v}}},{key:"getMtop",value:function d(){var e=this;return a.request({api:"mtop.user.getUserSimple",v:"1.0",ecode:0}).then(function(n){var o=n.data;o.isLogin=o.nick?!!o.nick:!!e.getUserNick(o.nick);o.token=document.cookie?e.readCookie("_tb_token_"):"";return o})}},{key:"readCookie",value:function g(e){var n=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);if(n){return n[1]}else{return undefined}}},{key:"getUserNick",value:function k(){var e=this;var n="";var o=e.readCookie("_w_tb_nick");var t=e.readCookie("_nk_")||readCookie("snk");var r=e.readCookie("sn");if(o&&o.length>0&&o!="null"){n=decodeURIComponent(o)}else if(t&&t.length>0&&t!="null"){n=unescape(unescape(t).replace(/\\u/g,"%u"))}else if(r&&r.length>0&&r!="null"){n=decodeURIComponent(r)}n=n.replace(/\</g,"&lt;").replace(/\>/g,"&gt;");return n}},{key:"login",value:function y(){var e=s?"//login.daily.taobao.net/":"//login.tmall.com/";location.href=e+"?redirectURL="+encodeURIComponent(location.href)}}]);return e}();o.exports=new p});define("mui/zebra-3c-phone-pc-floor/index-pc",["mui/kissy-polyfill/index","mui/zepto/zepto","./lazyload","./attention","mui/slide/crossfade"],function(n,t,e){n("mui/kissy-polyfill/index");var o=n("mui/zepto/zepto");var a=n("./lazyload");var i=n("./attention");var r=n("mui/slide/crossfade");var u=function n(t){var e=o(".floor-slider",t);e.html(o("textarea",e).val());var a=new r(o(".floor-slider-content",t)[0],{duration:350});t.on("click",".J_next",function(n){n.preventDefault();a.next()});t.on("click",".J_prev",function(n){n.preventDefault();a.prev()})};var c=function n(t){var e=o(".floor-goods",t);e.html(o("textarea",e).val())};var l=function t(e){e.on("click",".J_pop",function(t){t.preventDefault();var a=o(t.currentTarget).data("showImg");if(!a)return false;n(["mui/popbox/index-pc"],function(n){var t=new n.alert({root:e,width:900,mask:true,content:'<div class="floor-pop"><img src="'+a+'" /></div>',autoDestroy:true,showCloseBtn:true,zIndex:101});t.show()})})};var f=function n(t){var e=o(".floor-focus a",t);var a=e.data("brandid");i.query(a).then(function(n){if(n&&n[a]){e.html("<span>&#xe603;</span> \u53d6\u6d88");e.data("focus",true)}else{e.html("<span>&#xe603;</span> \u5173\u6ce8");e.data("focus",false)}},function(){});e.on("click",function(n){n.preventDefault();if(!e.data("lock")){var t=e.data("focus");e.data("lock",true);if(t){i.action(a,"remove").then(function(){e.html("<span>&#xe603;</span> \u5173\u6ce8");e.data("focus",false);e.data("lock",false)},function(){e.data("lock",false)})}else{i.action(a,"add").then(function(){e.html("<span>&#xe603;</span> \u53d6\u6d88");e.data("focus",true);e.data("lock",false)},function(){e.data("lock",false)})}}})};e.exports=function n(t){var e=o(t);l(e);a.addCallback(e,function(){u(e)});c(e);f(e);a.addElements(e)}});define("mui/zebra-3c-phone-pc-floor/lazyload",["mui/datalazyload/index","mui/crossimage/index"],function(n,t,e){var o=n("mui/datalazyload/index");var a=n("mui/crossimage/index");var i=o.instance();e.exports={addElements:function n(t){i.addStartListener(a.DatalazyPlugin(t,{quality:"Q90",sharpen:"",enableAutoFormat:false}));i.addElements(t)},addCallback:i.addCallback.bind(i)}});define("mui/zebra-3c-phone-pc-floor/attention",["mui/fetch/jsonp","mui/fetch/tool","mui/token/index"],function(n,t,e){var o=n("mui/fetch/jsonp");var a=n("mui/fetch/tool");var i=n("mui/token/index");var r=function(){var n=void 0;return function(t){return new Promise(function(e,o){if(!n){i.get().then(function(a){if(a.isLogin){n=a.token;e(n)}else{if(t){i.login()}o()}})}else{setTimeout(function(){e(n)},100)}})}}();var u=function n(t){return new Promise(function(n,e){r().then(function(i){o("//brand.tmall.com/ajax/getBrandStatusBatch.htm",{method:"jsonp",timeout:2e3,body:a.param({brandId:t,_tb_token_:i})}).then(function(n){return n.json()}).then(function(t){if(t&&t.result&&t.result.length){(function(){var e={};t.result.forEach(function(n){e[n.brandId]=!!n.isMyBrand});n(e)})()}else{e()}})["catch"](function(){e()})},function(){})})};var c=function n(t,e){var i=e==="add"?"//brand.tmall.com/ajax/brandAddToFav.htm":"//brand.tmall.com/ajax/brandDelFromFav.htm";return new Promise(function(n,e){r(true).then(function(r){o(i,{method:"jsonp",timeout:2e3,body:a.param({brandId:t,_tb_token_:r})}).then(function(n){return n.json()}).then(function(t){if(t&&t.is_success&&t.is_success==="T"){n()}else{e()}})["catch"](function(){e()})},function(){})})};e.exports={action:c,query:u}});define("mui/zebra-3c-phone-pc-brand/index-pc",function(e,a,n){e("mui/kissy-polyfill/index");var i=e("mui/zepto/zepto");var d=e("./lazyload");n.exports=function o(e){d.addElements(e)}});define("mui/zebra-3c-phone-pc-brand/lazyload",function(e,a,n){var i=e("mui/datalazyload/index");var d=e("mui/crossimage/index");var o=i.instance();n.exports={addElements:function l(e){o.addStartListener(d.DatalazyPlugin(e,{quality:"Q90",sharpen:"",enableAutoFormat:false}));o.addElements(e)},addCallback:o.addCallback.bind(o)}});define("mui/zebra-3c-phone-pc-goods/index-pc",function(e,a,o){e("mui/kissy-polyfill/index");var i=e("mui/zepto/zepto");var n=e("./lazyload");o.exports=function d(e){n.addElements(e)}});define("mui/zebra-3c-phone-pc-goods/lazyload",function(e,a,o){var i=e("mui/datalazyload/index");var n=e("mui/crossimage/index");var d=i.instance();o.exports={addElements:function l(e){d.addStartListener(n.DatalazyPlugin(e,{quality:"Q90",sharpen:"",enableAutoFormat:false}));d.addElements(e)},addCallback:d.addCallback.bind(d)}});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}(function(e,t){var n=void 0;var r=function(){function n(e){_classCallCheck(this,n);this.opt={};this.opt.diff=e||50}_createClass(n,[{key:"init",value:function r(){this.opt=this.opt||{};this.opt.Req=require;this.opt.loader=feloader||KISSY;this.opt.plugins=e.$zebra.plugins||{};this.opt.mods={};this.polyfill();this.scanMods()}},{key:"polyfill",value:function o(){var e=this.opt.loader;function n(e){var n=false;function r(){if(n)return;n=true;e()}if(t.addEventListener){t.addEventListener("DOMContentLoaded",r,false)}else if(t.attachEvent){var i=false;try{i=window.frameElement!==null}catch(o){}if(t.documentElement.doScroll&&!i){(function a(){if(n)return;try{t.documentElement.doScroll("left");r()}catch(e){setTimeout(a,10)}})()}t.attachEvent("onreadystatechange",function(){t.readyState==="complete"&&r()})}}e.ready=e.ready||n}},{key:"scanMods",value:function a(){var e=this;var r=this.opt;var i=r.loader;var o=r.mods;var a=r.diff;var l=[],s=i.ready;o={sync:[],async:[],ignore:[]};s(function(){if(t.querySelectorAll){l=document.querySelectorAll("[data-mod-name]")}else{var r=document.getElementsByTagName("*");for(var i=0,s=r.length;i<s;i++){if(r[i]&&r[i].getAttribute("data-mod-name")){l.push(r[i])}}}if(!l.length)return;var c="",u=void 0;for(var f=0,d=l.length;f<d;f++){c=l[f].getAttribute("data-zebra-load");u={mod:l[f].getAttribute("data-mod-name"),el:l[f],cfg:l[f].getAttribute("data-config")};if(n.isHiddenMod(l[f])){o.sync.push(u);continue}if(c==="ignore"){o.ignore.push(u)}else if(c==="async"||l[f].getAttribute("data-async-load")||!n.isInViewport(l[f],a)&&c!=="sync"){o.async.push(u)}else if(c==="sync"||n.isInViewport(l[f],a)){o.sync.push(u)}}e.opt.mods=o;e.initMods()})}},{key:"initMods",value:function l(){var e=this.opt;var t=e.Req;var n=e.mods;var r=this.filterEnabledPlugins();if(r.indexOf("mui/zebra-loader/plugins/asyncload")<0){n.sync=n.sync.concat(n.async);n.async=[]}if(r.length){t(r,function o(){var e=Array.prototype.slice.call(arguments);var t=void 0;for(var r=0,i=e.length;r<i;r++){t=new e[r](n);t.init()}},function a(){})}new i(n).init()}},{key:"filterEnabledPlugins",value:function s(){var e=this.opt.plugins;var t=[];for(var n in e){if(e.hasOwnProperty(n)&&e[n]===true){t.push("mui/zebra-loader/plugins/"+n)}}return t}}],[{key:"isHiddenMod",value:function c(e){var t=void 0;if(window.getComputedStyle){t=window.getComputedStyle(e)}else{t=e.currentStyle}return t["display"]==="none"||t["height"]==="0px"&&t["width"]==="0px"}},{key:"isInViewport",value:function u(e,t){var n=e.getBoundingClientRect();return!(!n.width&&!n.height||n.top-window.innerHeight>=t||n.bottom+t<=0||n.right<=0||n.left-window.innerWidth>=0)}}]);return n}();var i=function(){function e(t){_classCallCheck(this,e);this.opt={};this.opt.mods=t.sync;this.opt.Req=require}_createClass(e,[{key:"init",value:function t(){this.load()}},{key:"load",value:function n(){var t=this.opt;var n=t.mods;var r=t.Req;var i=n,o=[];for(var a=0,l=i.length;a<l;a++){o.push(i[a].mod)}r(o,function s(){var t=Array.prototype.slice.call(arguments);var n=void 0,r=void 0;for(var a=0,l=t.length;a<l;a++){n=t[a];r=i[a];if(e.isFunction(n)){if(e.isDebug()){n(r.el,r.cfg)}else{try{n(r.el,r.cfg)}catch(s){console&&console.error(s);if(!e.isLteIE7()){codeTrack("error:loader.jsError","zebra-loader.init",{msg:"\u7ec4\u4ef6: "+o[a]+"\u5185\u90e8\u5b58\u5728\u963b\u585e\u811a\u672c\u9519\u8bef,\u9519\u8bef\u4e3a\uff1a"+s})}}}}}},this.backupLoad.bind(this))}},{key:"backupLoad",value:function r(){var t=this;var n=this.opt;var r=n.mods;var i=n.Req;var o=r;var a=function c(n,r){i(o[n].mod,function(t){if(e.isFunction(t)){t(o[n].el,o[n].cfg)}},function(){t.reportError(o[n].mod+"\u7ec4\u4ef6\u81ea\u8eab\u811a\u672c\u6216\u8005require\u4f9d\u8d56\u8d44\u6e90\u4e0d\u5b58\u5728\uff0c\u4e3a\u4e86\u907f\u514d\u95ee\u9898\u5f53\u524d\u8282\u70b9\u5df2\u9690\u85cf");o[n].el&&(o[n].el.style.display="none")})};for(var l=0,s=o.length;l<s;l++){a(l,s)}}},{key:"reportError",value:function i(t){t=typeof t=="string"?t:"\u6709\u7ec4\u4ef6\u4e0d\u5b58\u5728\uff0c\u65e0\u6cd5\u52a0\u8f7d";console&&console.error(t);if(!e.isLteIE7()){codeTrack("error:loader.loaderError","zebra-loader.init",{msg:"\u7ec4\u4ef6\u8bf7\u6c42\u5931\u8d25\uff1a"+t})}}}],[{key:"isLteIE7",value:function o(){var e=navigator.userAgent.toLowerCase().match(/msie ([\d.]+)/),t=false;if(e&&e[1]&&(e[1]=="6.0"||e[1]=="7.0")){t=true}return t}},{key:"isDebug",value:function a(){return location.href.indexOf("wh_debugger")>0&&location.href.indexOf("?")>0}},{key:"isFunction",value:function l(e){return Object.prototype.toString.call(e)==="[object Function]"}}]);return e}();function o(){e.$zebra=e.$zebra||{};if(!e.$zebra._isLoaded){n=new r(e.$zebra.diff);n.init()}}o()})(window,document);