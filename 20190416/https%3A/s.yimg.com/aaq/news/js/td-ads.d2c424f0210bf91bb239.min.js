webpackJsonp([64],{1234:function(e,t,s){e.exports={controllerViews:{AdPrefetch:s(562),ComboAd:s(563),DockedAds:s(2057),MomentsAd:s(2059),SponsoredMomentsFallback:s(2060),Ad:s(518)},stores:{AdStore:s(33)}}},2057:function(e,t,s){"use strict";e.exports=s(4)({displayName:"DockedAds",mixins:[s(19)],propTypes:{className:s(0).string,children:s(0).array.isRequired,target:s(0).string,targetIndex:s(0).number,targetSelector:s(0).string},statics:{initializeAction:s(2058),storeListeners:[s(33)]},contextTypes:{renderTarget:s(0).object},getInitialState:function(e){return this.adStore=this.getStore(s(33)),this.routeStore=this.getStore("RouteStore"),{isFixed:!1,expanded:!1,isFetching:!1,childReady:this.adStore.getChildCompositeReady(this.props.id),childCount:this.props.children.length,right:0,offset:0}},getChildPositions:function(){var e=[];return this.props.children.forEach(function(t){"td-ads"===t.bundleName&&e.push(t.props.pos)}),e},commentExpand:function(e){var t=this,n=e.offsetHeight>250,o=!1,i=this.props.children.length;if(t.state.expanded!==n){var r=t.getChildPositions();e.offsetHeight<650&&(r.splice(1),i=1),e.offsetHeight>250?(o=!0,n&&setImmediate(function(){context.executeAction(s(155),{positions:r}),t._repositionAd(null,!0)})):n=!1}t.setState({expanded:n,isFetching:o,childCount:i})},onChange:function(e){var t=this,n=this.routeStore,o=n.getCurrentNavigate()||{},i=s(2)(o,["params","collapseContent"],!1),r=null;if("childCompositeReady"===e.type&&this.props.id===e.instanceId&&this.setState({childReady:!0}),this.state.expanded&&"task_complete"===e.type&&this.setState({isFetching:!1}),this.props.target){var a=document.getElementsByClassName(this.props.target);a&&a.length>this.props.targetIndex&&(r=a[this.props.targetIndex])}else if(this.props.targetSelector){var p=this.context.renderTarget;r=document.querySelector("#"+p.elementId+" "+this.props.targetSelector)}r&&(i||"comments_expand"!==e.type?("newpage"===e.type||e.newpage)&&(setImmediate(function(){t.props.children.forEach(function(e){"td-ads"===e.bundleName&&s(30).nukePosition(e.props.pos)})}),this.setState({expanded:!1})):setImmediate(function(){t.commentExpand(r)}))},componentDidMount:function(){s(39)("scroll",this._repositionAd,this)},componentWillUnmount:function(){s(213)("scroll",this._repositionAd)},_repositionAd:function(e,t){var n=this.props.targetIndex,o=s(10).findDOMNode(this.refs["adWrapper"+n]),i=s(10).findDOMNode(this.refs["adInnerWrapper"+n]),r=null;if(this.props.target){var a=document.getElementsByClassName(this.props.target);a&&a.length>n&&(r=a[n])}else if(this.props.targetSelector){var p=this.context.renderTarget;r=document.querySelector("#"+p.elementId+" "+this.props.targetSelector)}if(o&&i&&r){var d=i.offsetHeight,c=0;if(d>100||t){var l=r.getBoundingClientRect(),h=o.getBoundingClientRect(),m=!1,g=document.documentElement.clientWidth||window.innerWidth;if(l.top<88?l.bottom>=d+88?h.top<88&&(m=!0):c=l.height-d-(h.top-l.top):h.top<88?l.top>h.top?c=l.top-h.top:m=!0:l.top>h.top&&(c=l.top-h.top),m){this.setState({isFixed:!0,right:g-i.getBoundingClientRect().right})}else this.setState({isFixed:!1,offset:c})}}},render:function(){var e,t=this;if(t.state.childReady){e=(this.getStore("PageStore").getComposite(this.props.id)||{}).components}else e=this.props.children.map(function(e){if(t.state.childReady||"td-ads"===e.bundleName)return e;return{bundleName:"tdv2-applet-swisschamp",name:"Empty",props:{}}});e.splice(this.state.childCount);var n,o=this.props.targetIndex?this.props.targetIndex:0,i=[],r=[],a=0;for(n=0;n<e.length;n++)e[n].props=e[n].props||{},e[n].props.id=e[n].props.id||"dockedAds-"+n,e[n].props.key=e[n].props.key||"dockedAds-"+n;for(n=0;n<e.length&&"td-ads"===e[n].bundleName;n++){var p=this.adStore.getPosConfig(e[n].props.pos)||{};p&&p.h&&(a+=parseInt(p.h,10)),i.push(e[n])}i.length>0&&i.length<e.length&&(r=e.slice(i.length));var d=this.props.className;d?d+=" ad-inner-wrapper":d="ad-inner-wrapper";var c={};this.state.isFixed?c={position:"fixed",right:this.state.right+"px",top:"88px"}:0!==this.state.offset&&(c={transform:"translate3d(0px, "+this.state.offset+"px, 0px)"});var l="ad-wrapper",h={};return this.state.expanded||(l+=" D(n)"),(!this.state.expanded||this.state.isFetching)&&r.length>0&&(h.height=a+"px"),s(1).createElement("div",{className:l,ref:"adWrapper"+o},s(1).createElement("div",{className:this.props.className,style:c,ref:"adInnerWrapper"+o},s(1).createElement("div",{style:h},s(1).createElement(s(151).Composite,{components:i})),s(1).createElement(s(151).Composite,{components:r})))}})},2058:function(e,t,s){e.exports=function(e,t,n){var o=t.componentProps.id;o?e.executeAction(s(153),{parentComponent:{bundleName:"td-ads",name:"DockedAds"},name:o,components:t.componentProps.children},n):n&&n()}},2059:function(e,t,s){"use strict";var n=s(4)({displayName:"MomentsAd",mixins:[s(19)],propTypes:{adPolicy:s(0).string,className:s(0).string,children:s(0).array,intl:s(36).intlShape},contextTypes:{renderTarget:s(0).object},getInitialState:function(e){return this.adStore=this.getStore(s(33)),{childReady:this.adStore.getChildCompositeReady(this.props.id),childCount:this.props.children.length}},render:function(){var e,t,n=this,o=[],i=[];if(n.state.childReady){e=(this.getStore("PageStore").getComposite(this.props.id)||{}).components}else e=this.props.children.map(function(e){if(n.state.childReady||"td-ads"===e.bundleName)return e;return{bundleName:"tdv2-applet-swisschamp",name:"Empty",props:{}}});for(e.splice(this.state.childCount),t=0;t<e.length;t++)e[t].props=e[t].props||{},e[t].props.id=e[t].props.id||"momentsads-"+t,e[t].props.key=e[t].props.key||"momentsads-"+t;for(t=0;t<e.length&&"td-ads"===e[t].bundleName;t++)o.push(e[t]);o.length>0&&o.length<e.length&&(i=e.slice(o.length));var r=this.props.className,a=this.props.adPolicy||"https://info.yahoo.com/privacy/us/yahoo/relevantads.html";return s(1).createElement("div",{className:r},s(1).createElement("div",{className:"smad-container"},s(1).createElement("div",{className:"smad-header"},s(1).createElement("span",null,this.props.intl.formatMessage({id:"SCROLL_TO_CONTINUE"})),s(1).createElement("div",{className:"smad-icon"},s(1).createElement("span",null,this.props.intl.formatMessage({id:"AD"})),s(1).createElement("a",{className:"rapid-noclick-resp",href:a,rel:"noopener noreferrer",target:"_blank"},s(1).createElement("span",{className:"ads icon"},s(1).createElement("svg",{width:"15",height:"15",viewBox:"0 0 24 24"},s(1).createElement("path",{d:"M5.636 4.222c-.39-.39-1.023-.39-1.414 0s-.39 1.024 0 1.414l.707.707c.39.39 1.022.39 1.414 0 .39-.39.39-1.023 0-1.414l-.708-.708zM4.93 17.658l-.708.707c-.39.39-.39 1.023 0 1.414.39.39 1.023.39 1.414 0l.707-.708c.39-.39.39-1.024 0-1.414-.39-.39-1.023-.39-1.414 0zm14.14 0c-.39-.39-1.023-.39-1.413 0-.39.39-.39 1.023 0 1.414l.707.707c.39.39 1.024.39 1.414 0 .39-.392.39-1.025 0-1.415l-.707-.707zm0-11.315l.708-.707c.39-.39.39-1.023 0-1.414s-1.024-.39-1.414 0l-.707.707c-.39.39-.39 1.024 0 1.414.39.39 1.023.39 1.414 0zM22 11h-1c-.553 0-1 .448-1 1s.447 1 1 1h1c.552 0 1-.448 1-1s-.448-1-1-1zM10 9h5c.552 0 1-.448 1-1s-.448-1-1-1h-2c0-.55-.447-1-1-1s-1 .45-1 1H9.5C8.12 7 7 8.12 7 9.5v1C7 11.88 8.12 13 9.5 13H13c.552 0 1 .448 1 1s-.448 1-1 1H8c-.553 0-1 .448-1 1s.447 1 1 1h3c0 .55.447 1 1 1s1-.45 1-1h.5c1.38 0 2.5-1.12 2.5-2.5v-1c0-1.38-1.37-2.5-3-2.5h-3c-.553 0-1-.448-1-1s.447-1 1-1zm2-5c.553 0 1-.448 1-1V2c0-.552-.447-1-1-1s-1 .448-1 1v1c0 .552.447 1 1 1zm-9 7H2c-.553 0-1 .448-1 1s.447 1 1 1h1c.552 0 1-.448 1-1s-.448-1-1-1zm9 9c-.553 0-1 .448-1 1v1c0 .552.447 1 1 1s1-.448 1-1v-1c0-.552-.447-1-1-1z"})))))),s(1).createElement("div",{className:"smad-outer-container"},s(1).createElement("div",{className:"smad-clip-area"},s(1).createElement("div",{className:"smad-tag-container"},s(1).createElement(s(151).Composite,{components:o}))))),s(1).createElement(s(151).Composite,{components:i}))}});e.exports=s(36).injectIntl(n)},2060:function(e,t,s){"use strict";e.exports=s(4)({displayName:"SponsoredMomentsFallback",mixins:[s(19)],getInitialState:function(){return this.sponsoreMomentsStore=this.getStore("SponsoredMomentsStore"),this.getState()},onChange:function(){var e=this.getState();e.smadShown!==this.state.smadShown&&this.setState(e)},getState:function(){return{smadShown:(this.sponsoreMomentsStore&&this.sponsoreMomentsStore.getState()||[]).length>0}},render:function(){return this.state.smadShown?s(1).createElement("div",null):s(1).createElement(s(518),this.props)}})}});