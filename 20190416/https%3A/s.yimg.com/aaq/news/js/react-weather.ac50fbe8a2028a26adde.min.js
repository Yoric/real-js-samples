webpackJsonp([8],{1232:function(e,t,n){e.exports={controllerViews:{Weather:n(2031),WeatherAppPromote:n(2048),WeatherFixedBackgroundPhoto:n(2049),WeatherLayout:n(2050),WeatherLocationAndTemperature:n(1831),WeatherMyLocations:n(2053),WeatherSimpleForecast:n(1664),WeatherStaticList:n(1829),WeatherVideoList:n(2055)},stores:{WeatherLocationStore:n(1341),WeatherStore:n(1193)}}},1341:function(e,t,n){"use strict";var r=n(3)("WeatherLocationStore"),a=["city","country","lat","lon","qualifiedName","state","statecode","woeid"];e.exports=n(20)({storeName:"WeatherLocationStore",statics:{handlers:{DELETE_WEATHER_FAVORITE_LOCATION_SUCCESS:"_onDeleteWeatherFavoriteLocationSuccess",GET_WEATHER_CURRENT_LOCATION_FAILURE:"_onGetWeatherCurrentLocationFailure",GET_WEATHER_CURRENT_LOCATION_SUCCESS:"_onGetWeatherCurrentLocationSuccess",GET_WEATHER_FAVORITE_LOCATIONS_SUCCESS:"_onGetWeatherFavoriteLocationsSuccess",GET_WEATHER_SEARCH_LOCATIONS_SUCCESS:"_onGetWeatherSearchLocationsSuccess",SET_WEATHER_FAVORITE_LOCATIONS_SUCCESS:"_onSetWeatherFavoriteLocationsSuccess"}},initialize:function(){this.currentLocation={},this.favoriteLocations=[],this.searchLocations=[]},_onGetWeatherCurrentLocationSuccess:function(e){if(r("_onGetWeatherLocationSuccess",e),e){this.currentLocation=n(201)(e,a),this.emitChange()}},_onGetWeatherCurrentLocationFailure:function(e){r("_onGetWeatherCurrentLocationFailure",e),this.currentLocation={},this.emitChange()},_onGetWeatherFavoriteLocationsSuccess:function(e){r("_onGetWeatherFavoriteLocationsSuccess",e),this.favoriteLocations=n(116)(e,function(e){return n(201)(e,a)}),this.emitChange()},_onSetWeatherFavoriteLocationsSuccess:function(e){r("_onSetWeatherFavoriteLocationsSuccess",e),this.favoriteLocations.push(e),this.emitChange()},_onGetWeatherSearchLocationsSuccess:function(e){r("_onGetWeatherSearchLocationsSuccess",e),this.searchLocations=n(116)(e,function(e){return n(201)(e,a)}),this.emitChange()},_onDeleteWeatherFavoriteLocationSuccess:function(e){r("_onDeleteWeatherFavoriteLocationSuccess",e);for(var t=this.getFavoriteLocations(),n=0,a=t.length;n<a;n++){if(+t[n].woeid===e.woeid){t.splice(n,1);break}}this.emitChange()},getCurrentLocation:function(){return this.currentLocation||{}},getCurrentWoeid:function(){return n(23)(this,["currentLocation","woeid"])},getFavoriteLocations:function(){return this.favoriteLocations||[]},getSearchLocations:function(){return this.searchLocations||[]},dehydrate:function(){return{currentLocation:this.currentLocation,favoriteLocations:this.favoriteLocations,searchLocations:this.searchLocations}},rehydrate:function(e){this.currentLocation=e.currentLocation||this.currentLocation,this.favoriteLocations=e.favoriteLocations||this.favoriteLocations,this.searchLocations=e.searchLocations||this.searchLocations}})},1360:function(e,t,n){"use strict";e.exports=n(4)({displayName:"WeatherCard",autobind:!1,propsTypes:{hasBackground:n(0).bool,hasMargin:n(0).bool,logo:n(0).object,title:n(0).string,type:n(0).string},getDefaultProps:function(){return{hasBackground:!0,hasPadding:!0,hasMargin:!0,title:null,type:null}},shouldComponentUpdate:function(e,t){return n(196)(this,e,t)},render:function(){var e=this.props,t=n(8)("weather-card C(#fff)",{"P(10px)":e.hasPadding,"Bgc(#000.54)":e.hasBackground,"M(10px)":e.hasMargin},e.className);return n(1).createElement("section",{className:t,"data-type":e.type,id:e.id},e.title?n(1).createElement("h3",{className:"C(#fff) Fw(n) BdB Bdbc(#fff) Pb(4px) Mb(4px) Fz(1.3em)"},e.logo,e.title):null,e.children)}})},1361:function(e,t){e.exports=function(e){return e.id}},1389:function(e,t,n){"use strict";var r=n(3)("WeatherActions:initWeather");e.exports=function(e,t,a){var o=n(23)(t,["componentProps","componentConfig"],{});if(!n(23)(o,["ui","initAction"],!0))return a&&a();var i={getWoeid:{action:n(1490),params:t},getPreference:n(1593).getPreference,getWeather:["getWoeid","getPreference",{action:n(1491),params:t}]};n(23)(o,["ui","getFavoriteLocation"],!0)&&(i.getFavoriteLocation=n(1492)),r("Execute action",t),n(300)(e,i,function(e,t){if(e||!t)return a&&a(e);a&&a(null,t)})}},1401:function(e,t){function n(e){return e&&e.toLowerCase().replace(/\ /g,"-").replace(o,"")}function r(e){return{routeName:"weather",params:{country:n(e.country),state:n(e.state)||n(e.city)||n(e.country),city:(n(e.city)||n(e.country))+"-"+e.woeid}}}function a(e){return[n(e.country),n(e.state||e.city||e.country),n(e.city||e.country)+"-"+e.woeid].join("/")}var o=/['.`´]/g;e.exports={buildRouteParam:r,buildRoutePath:a}},1424:function(e,t,n){"use strict";function r(){return h=u(n(0))}function a(){return m=u(n(1))}function o(){return v=n(80)}function i(){return y=u(n(1193))}function s(){return E=u(n(1361))}function c(){return b=u(n(23))}function l(){return w=u(n(196))}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var h,m,g,v,y,E,b,w,C,x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(e){function t(e,n){d(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._onStoreChange=r._onStoreChange.bind(r),r.formatMessage=(0,(b||c()).default)(e,["intl","formatMessage"],(E||s()).default),r.store=n.getStore((y||i()).default),r.state={skycode:r.store.getSkycode(),conditionMap:r.store.getConditionMap()},r._setImageBase(),r}return p(t,e),x(t,[{key:"_onStoreChange",value:function(){this.setState({skycode:this.store.getSkycode(),conditionMap:this.store.getConditionMap()})}},{key:"componentDidMount",value:function(){this.store.addChangeListener(this._onStoreChange)}},{key:"componentWillUnmount",value:function(){this.store.removeChangeListener(this._onStoreChange)}},{key:"_getImage",value:function(e){var t="shadowIcon"===this.props.type?"60x60":"64x64",n=this.state.skycode[e];return n?[this.imageRoot,t,"/",n,"@2x.png"].join(""):null}},{key:"_getAlt",value:function(e){var t=this.state.conditionMap[e];return t?this.formatMessage({id:t}):""}},{key:"_setImageBase",value:function(){if(!this.imageRoot){var e=(0,(b||c()).default)(this,["context","weatherConfig","assetsConfig","image"],{});this.imageRoot=e.base+(0,(b||c()).default)(e,["resource",this.props.type])}}},{key:"shouldComponentUpdate",value:function(e,t){return(0,(w||l()).default)(this,e,t)}},{key:"renderTemperature",value:function(e){return null===e?null:(m||a()).default.createElement("span",{className:"D(ib)"},e.toFixed(),"°")}},{key:"render",value:function(){var e=this,t=this.props,n=t.code,r=(0,(b||c()).default)(e,["context","weatherConfig","ui","forceLoadCondition"]),i=t.size||t.width,s={alt:e._getAlt(n),forceLoad:r,height:i,title:e._getAlt(n),url:e._getImage(n),width:i};return s.url?(m||a()).default.createElement("span",{"data-code":n,className:t.className},(m||a()).default.createElement((v||o()).Img,s),this.renderTemperature(t.temperature)):null}}]),t}((g||function(){return g=n(1)}()).Component);T.displayName="WeatherCondition",T.componentConfig={name:"componentWeather"},T.contextTypes={getStore:(h||r()).default.func.isRequired,weatherConfig:(h||r()).default.object.isRequired},T.defaultProps={code:0,size:32,temperature:null,type:"shadowIcon"},t.default=(0,(C||function(){return C=n(36)}()).injectIntl)(T),e.exports=t.default},1466:function(e,t,n){"use strict";var r=n(3)("WeatherActions:setFavoriteLocation");e.exports=function(e,t,a){return r("Execute action",t),t.woeid?e.getStore(n(1341)).getFavoriteLocations().some(function(e){return t.woeid===e.woeid.toString()})?a&&a():void e.service.create("WeatherLocationService.favoriteLocation",{woeid:+t.woeid},null,function(t,n){if(t||!n)return a&&a();r("result",n),e.dispatch("SET_WEATHER_FAVORITE_LOCATIONS_SUCCESS",n),a&&a()}):a&&a()}},1490:function(e,t,n){"use strict";function r(e){var t=n(23)(e,["params","city"]);return n(23)(e,["params","woeid"])||t&&t.split("-").pop()}function a(e){var t=n(23)(e,["componentProps","componentConfig"],{});return e.woeid||n(23)(t,["location","woeid"])}var o=n(3)("WeatherActions:getWoeid");e.exports=function(e,t,i){o("Execute action",t);var s=e.getStore("RouteStore").getCurrentRoute()||{},c=a(t)||r(s),l=t.force;if(!c)return e.executeAction(n(1655),{force:l},function(t,n){if(t||!n)return i&&i(t);e.dispatch("GET_WEATHER_CURRENT_LOCATION_SUCCESS",n),i&&i()});e.dispatch("GET_WEATHER_CURRENT_LOCATION_SUCCESS",{woeid:+c}),i&&i()}},1491:function(e,t,n){"use strict";function r(e,t){if(e&&t){var r=e.getStore(n(117)).getStrings("react-weather"),a=t.displayName+", "+t.countryName;e.dispatch("CHANGE_PAGE_DATA",{title:r.WEATHER_META_TITLE.replace("{location}",a),description:r.WEATHER_MATA_DESCRIPTION.replace("{location}",a),keywords:r.WEATHER_META_KEYWORDS.replace("{location}",a)}),"undefined"!=typeof window&&(window.document.title=r.WEATHER_META_TITLE.replace("{location}",a))}}var a=n(3)("WeatherActions:getWeather");e.exports=function(e,t,o){a("Execute action",t);var i={dataExclude:n(23)(t,["componentProps","componentConfig","dataExclude"]),woeids:t.woeids||[t.woeid||e.getStore(n(1341)).getCurrentWoeid()]};e.dispatch("GET_WEATHER_START");var s=e.getStore(n(1193)),c=i.woeids&&i.woeids[0],l=s.getWeather(c),u=n(23)(t,["componentProps","componentConfig","ui","updateMetaOnInit"]);l.woeid?(e.dispatch("UPDATE_WEATHER",{woeid:c,state:l}),u&&r(e,l.location),o&&o(null,l)):e.service.read("WeatherService",i,null,function(t,a){if(t||!a)return e.dispatch("GET_WEATHER_FAILURE"),o&&o(t||new Error({message:"No data returns from weather service"}));if(u){var i=n(23)(a,["weathers","0","location"]);r(e,i)}e.dispatch("GET_WEATHER_SUCCESS",a),o&&o(null,a)})}},1492:function(e,t,n){"use strict";var r=n(3)("WeatherActions:getFavoriteLocation");e.exports=function(e,t,n){r("Execute action",t),e.service.read("WeatherLocationService.favoriteLocation",null,null,function(t,r){if(t||!r)return e.dispatch("GET_WEATHER_FAVORITE_LOCATIONS_FAILURE"),n&&n();e.dispatch("GET_WEATHER_FAVORITE_LOCATIONS_SUCCESS",r),n&&n(null,r)})}},1493:function(e,t,n){"use strict";"use stricts";n(69);var r,a;"undefined"!=typeof window&&("geolocation"in navigator&&(a=navigator.geolocation),r=window.document),e.exports={mixins:[n(19)],statics:{ignoreAllWarnings:!0,storeListeners:[n(1341)]},contextTypes:{session:n(0).object,weatherConfig:n(0).object},getInitialState:function(){this.formatMessage=n(23)(this.props,["intl","formatMessage"],n(1361)),this.store=this.getStore(n(1341));var e=this.store.getFavoriteLocations(),t=this.store.getSearchLocations();return{error:null,favoriteLocations:e,isFavoriteList:!(t&&t.length)&&e.length,searchLocations:t,status:"loaded",value:this.state&&this.state.value||""}},onChange:function(){var e=this.store.getFavoriteLocations(),t=this.store.getSearchLocations();this.setState({error:null,favoriteLocations:e,isFavoriteList:!(t&&t.length)&&e.length,searchLocations:t,status:"loaded",value:this.state&&this.state.value||""})},shouldComponentUpdate:function(e,t){return n(196)(this,e,t)},getCurrentLocation:function(){var e=this,t=n(23)(e.context,["weatherConfig","ui","followRoute"],!1);e.setState({status:"loading"}),a?a.getCurrentPosition(function(r){var a=r.coords;a&&(e.executeAction(n(1494),{latitude:""+a.latitude,longitude:""+a.longitude,followRoute:t}),e.hidePanel())},function(t){var n;n=t.code===t.PERMISSION_DENIED?"BROWSER_DENIED_PERMISSION":t.code===t.POSITION_UNAVAILABLE?"BROWSER_LOCATION_NOT_FOUND":"BROWSER_TIMEOUT_LOCATION",e.setState({status:"loaded",error:{message:n}})},{enableHighAccuracy:!1,maximumAge:3e5,timeout:1e4}):e.executeAction(n(1490),{force:!0}),setTimeout(function(){"loading"===e.state.status&&e.setState({status:"loaded"})},6e3)},hidePanel:function(){var e=this;e.clearEvent(),e.clearResult(),e.resetListPosition(),e.props.onClick&&e.props.onClick({action:"hide"})},onSelectWeather:function(e){var t=this,r=e.currentTarget,a=r.getAttribute("data-woeid"),o=n(23)(t.context,["weatherConfig","ui"],{}),i=o.followRoute,s=o.setSelectedAsCurrentLoc;a&&(t.executeAction(n(1466),{woeid:a}),s&&t.executeAction(n(1494),{woeid:a,followRoute:i}),t.hidePanel(),t.handlePageNavigate(r))},handlePageNavigate:function(e){if(e){var t=this,r=e.getAttribute("data-woeid"),a=t.getStore("RouteStore").getRoutes(),o=n(23)(t.context,["weatherConfig","ui","followRoute"],!1);if(r)if(a.weather&&o){var i=n(1401).buildRouteParam({country:e.getAttribute("data-country"),state:e.getAttribute("data-state"),city:e.getAttribute("data-city"),woeid:r});t.executeAction(n(197),i)}else t.executeAction(n(1389),{woeid:r,componentProps:{componentConfig:t.context.weatherConfig}})}},deleteFavorite:function(e){var t=e.currentTarget.getAttribute("data-woeid");t&&this.executeAction(n(1594),{woeid:t})},clearResult:function(){this.setState({value:""}),this.executeAction(n(1495),{text:""})},handleSearchInput:function(e){var t=this,r=e.target.value;t.setState({value:r}),t.resetListPosition(),t.executeAction(n(1495),{text:r})},clearEvent:function(){this.event&&this.event.remove(),this.event=null},onKeyUp:function(e){27===e.keyCode&&this.hidePanel()},handleDocumentClick:function(e){this.refs.panel.contains(e.target)||this.hidePanel()},handleKeyDown:function(e){if(13===e.keyCode){var t=this.refs.location.getElementsByClassName("location-item")[0],r=t&&t.getAttribute("data-woeid"),a=t&&t.getAttribute("data-qualified-name");r&&(this.props.i13n.executeEvent("beacon",{beaconType:"beaconClick",arguments:["key-search-city",a]}),this.executeAction(n(1466),{woeid:r}),this.hidePanel(),this.handlePageNavigate(t),e.currentTarget.blur())}},getI13nModel:function(e,t){var n={sec:"search-city",subsec:e};return t&&(n.slk=t),n},resetListPosition:function(){this.refs.location.scrollTop=0},componentWillReceiveProps:function(e){!this.props.enable&&e.enable&&this.executeAction(n(1492))},focusSearchInput:function(){var e=this;e.refs.searchInput&&e.refs.searchInput.focus()},componentDidUpdate:function(){var e=this;e.props.enable&&(this.focusSearchInput(),e.event||(e.event=n(198).listen(r,"keyup",e.onKeyUp),e.event=n(198).listen(r,"click",e.handleDocumentClick)))}}},1494:function(e,t,n){"use strict";var r=n(3)("WeatherActions:setCurrentLocation");e.exports=function(e,t,a){r("Execute action",t);var o={type:"current"};t.latitude&&t.longitude?(o.latitude=t.latitude,o.longitude=t.longitude):t.woeid&&(o.woeid=t.woeid),e.service.create("WeatherLocationService.currentLocation",o,null,function(o,i){if(o||!i)return a&&a();if(r("result",i),e.dispatch("GET_WEATHER_CURRENT_LOCATION_SUCCESS",i),t.followRoute){var s=n(1401).buildRouteParam({country:i.country,state:i.state,city:i.city,woeid:i.woeid});e.executeAction(n(197),s)}else e.executeAction(n(1491),{woeid:i.woeid});a&&a()})}},1495:function(e,t,n){"use strict";var r=n(3)("WeatherActions:searchLocation"),a=Object.assign;e.exports=function(e,t,n){r("Execute action",t);var o=a({},t);if(!t.text)return e.dispatch("GET_WEATHER_SEARCH_LOCATIONS_SUCCESS",[]),n&&n(null,[]);e.service.read("WeatherSearch",o,null,function(t,r){if(t||!r)return e.dispatch("GET_WEATHER_SEARCH_LOCATIONS_FAILURE"),n&&n();e.dispatch("GET_WEATHER_SEARCH_LOCATIONS_SUCCESS",r),n&&n(null,r)})}},1593:function(e,t,n){"use strict";var r=n(3)("WeatherActions:preferenceAction"),a=["metric","imperial"];e.exports={setPreference:function(e,t,o){if(r("set preference",t),!t||!t.unit)return e.dispatch("WEATHER_SET_PREFERENCE_FAILURE"),o&&o();var i=t.unit;if(a.indexOf(i)>-1){var s=new Date;s.setFullYear(s.getFullYear()+1),n(152).setSub("weather","unit",i,{expires:s}),e.dispatch("WEATHER_SET_PREFERENCE_SUCCESS",{unit:i})}o&&o(null,{unit:i})},getPreference:function(e,t,a){r("get preference",t);var o=e.getStore(n(1193)),i=o.getPreference();if(i)return a&&a(null,{unit:i});e.service.read("WeatherPreferenceService",{name:"weather",subName:"unit"},{},function(t,n){if(t||!n)return e.dispatch("WEATHER_GET_PREFERENCE_FAILURE"),a&&a(t,null);e.dispatch("WEATHER_GET_PREFERENCE_SUCCESS",{unit:n}),a&&a(null,{unit:n})})}}},1594:function(e,t,n){"use strict";var r=n(3)("WeatherActions:deleteFavoriteLocation");e.exports=function(e,t,n){r("Execute action",t),e.dispatch("DELETE_WEATHER_FAVORITE_LOCATION_SUCCESS",{woeid:+t.woeid}),e.service.delete("WeatherLocationService.favoriteLocation",{woeid:t.woeid},null,function(e,t){!e&&t||r("error",e),n&&n()})}},1595:function(e,t){if(void 0===n)var n={};n.remove={name:"remove",height:48,width:48,path:"M40 22H8c-1.104 0-2 .896-2 2s.896 2 2 2h32c1.104 0 2-.896 2-2s-.896-2-2-2z"},void 0!==e&&e.exports&&(e.exports=n.remove)},1596:function(e,t,n){"use strict";"use stricts";var r=n(4)(Object.assign({},n(1493),{renderLocations:function(){var e=this,t=e.state.searchLocations,r=t&&t.length;return t=r?t:e.state.favoriteLocations,t&&t.length?n(116)(t,function(t){return n(1).createElement("li",{className:"Px(20px) Py(8px) Bgc(#deebfe):h",key:t.woeid},n(1).createElement("div",{className:"D(tb) W(100%)"},n(1).createElement(n(29).I13nButton,{"data-woeid":t.woeid,"data-country":t.country,"data-state":t.state||t.city,"data-city":t.city,"data-qualified-name":t.qualifiedName,className:"location-item D(tbc) Va(m) W(90%) Cur(p) P(0) Bd(0) Ta(start) Fz(1em)",onClick:e.onSelectWeather,i13nModel:e.getI13nModel("add-search",t.qualifiedName)},t.qualifiedName),r?null:n(1).createElement("div",{className:"D(tbc) W(10%) Va(m) Ta(c)"},n(1).createElement(n(29).I13nButton,{className:"location-item Bdrs(100%) Bgc(#ff333c.8) P(0) Lh(1em) Fz(1em)",onClick:e.deleteFavorite,"data-woeid":t.woeid,"aria-label":e.formatMessage({id:"REMOVE_LOCATION"}),i13nModel:e.getI13nModel("delete-favorites",t.qualifiedName)},n(1).createElement("span",{className:"Hidden"},n(1).createElement(n(36).FormattedMessage,{id:"REMOVE_LOCATION"})),n(1).createElement(n(34).Icon,{asset:n(1595),color:"#fff",width:18,height:18})))))}):n(1).createElement("li",null)},renderSearchBar:function(){var e=this;return n(1).createElement("header",{className:"Bxz(cb) Pos(r) Mt(15px) Mb(5px)"},n(1).createElement(n(34).Icon,{asset:n(1199),className:"Pos(a) T(7px) Start(7px)",color:"rgb(0,0,0)",height:16,style:{verticalAlign:"middle"},width:16}),n(1).createElement("input",{ref:"searchInput",className:"search-input Bd Bdc(#9b9b9b.5) C(#9b9b9b) Pstart(30px) Py(5px) W(100%) Fz(1em)",placeholder:e.formatMessage({id:"ENTER_CITY_ZIPCODE_PLACEHOLDER"}),onChange:e.handleSearchInput,onKeyDown:e.handleKeyDown,value:e.state.value}))},renderLocationDetector:function(){var e=this;return n(1).createElement("div",{className:"location-detect"},n(1).createElement(n(29).I13nButton,{className:"current D(b) W(100%) Ta(start) Bd(0) Cur(p) P(0) Fz(1em) O(0)",onClick:e.getCurrentLocation,i13nModel:e.getI13nModel("detect-location")},n(1).createElement(n(34).Icon,{asset:n(1658),className:"Fl(end)",color:"#188fff",height:20,width:20}),n(1).createElement("span",{className:"C($c-fuji-blue-1-a)"},n(1).createElement(n(36).FormattedMessage,{id:"DETECT_MY_LOCATION"}))),"loading"===e.state.status?n(1).createElement("div",{className:"loading-status"},n(1).createElement("span",{className:"W(16px) H(16px) D(ib) Bgc(#deebfe) M(10px) Va(m) Bdrs(100%) Anim($anim-weahter-spinner) Animic(i) Animt(eio)"}),n(1).createElement("span",{className:"C(#000) Va(m)"},n(1).createElement(n(36).FormattedMessage,{id:"GETTING_LOCATION"}))):null,e.state.error?n(1).createElement("div",{className:"loading-error C($c-fuji-red-2-b)"},n(1).createElement(n(34).Icon,{asset:n(537),className:"D(ib) Mend(10px)",color:"#ff333c",height:16,width:16}),n(1).createElement(n(36).FormattedMessage,{id:e.state.error.message})):null)},render:function(){var e=this;if(!e.props.enable)return null;var t=n(23)(e.context,["session","dimensions","lang"],"en-US");return n(1).createElement("section",{className:"Bgc(#fff) Bdrs(3px) Bd Bdc($c-fuji-grey-c) Bxsh($picker-drop-shadow) M(5px) Fz(1em)",ref:"panel"},n(1).createElement("div",{className:"Pt(20px) Px(20px)"},e.renderLocationDetector(),e.renderSearchBar()),n(1).createElement("ul",{className:"location Ovy(s) Mah(150px) C(#000) Ovs(touch)",ref:"location"},e.state.isFavoriteList?n(1).createElement("li",null,n(1).createElement("h3",{className:"Px(20px) Py(10px) Fw(n) Tt(c) BdB Bdbc(#fff.70) Fz(13px)"},n(1).createElement(n(34).Icon,{name:"favorite",className:"Mend(10px)",color:"#000",width:16,height:16,cursorClass:"Cur(d)"}),n(1).createElement(n(36).FormattedMessage,{id:"FAVORATE"}))):null,e.renderLocations()),n(1).createElement(n(29).I13nAnchor,{href:"https://settings.yahoo.com/locations?lang="+t,className:"D(b) Bgc(#f9f9f9) Py(20px) Px(20px) Mt(10px) C(#000) Td(n):h Fw(500)"},n(1).createElement(n(36).FormattedMessage,{id:"MANAGE_LOCATION"})))}}));e.exports=n(36).injectIntl(n(29).createI13nNode(r))},1654:function(e,t,n){"use strict";function r(){return p=l(n(0))}function a(){return h=l(n(1))}function o(){return g=n(80)}function i(){return v=l(n(23))}function s(){return E=l(n(1361))}function c(){return b=l(n(196))}function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var p,h,m,g,v,y,E,b,w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e,n){u(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._setImageBase(),r.formatMessage=(0,(v||i()).default)(e,["intl","formatMessage"],(E||s()).default),r}return f(t,e),w(t,[{key:"_setImageBase",value:function(){if(!this.imageRoot){var e=(0,(v||i()).default)(this.context,["weatherConfig","assetsConfig","image"],{});this.imageRoot=e.base+(0,(v||i()).default)(e,["resource","precipitation"])}}},{key:"_getPrecipitationImage",value:function(e){return e=10*Math.floor(e/10),[this.imageRoot,"54x60/rain_ico_",e,"@2x.png"].join("")}},{key:"shouldComponentUpdate",value:function(e,t){return(0,(b||c()).default)(this,e,t)}},{key:"render",value:function(){var e=this.props,t=e.probability,n=e.size,r=this._getPrecipitationImage(t);return(h||a()).default.createElement("span",{className:e.className},(h||a()).default.createElement((g||o()).Img,{url:r,width:n,height:n,forceLoad:!0,alt:this.formatMessage({id:"PRECIPITATION"})+": "+t+"%"}),(h||a()).default.createElement("span",{className:"M(5px) D(ib)"},t,"%"))}}]),t}((m||function(){return m=n(1)}()).Component);C.displayName="WeatherPrecipCondition",C.contextTypes={weatherConfig:(p||r()).default.object},C.defaultProps={probability:0,size:27},t.default=(0,(y||function(){return y=n(36)}()).injectIntl)(C),e.exports=t.default},1655:function(e,t,n){"use strict";var r=n(3)("WeatherActions:getLocation");e.exports=function(e,t,a){r("Execute action",t);var o=e.getStore(n(1341)),i=o.getCurrentWoeid();t.force||!i?e.service.read("WeatherLocationService.currentLocation",null,null,function(t,n){if(t||!n)return e.dispatch("GET_WEATHER_CURRENT_LOCATION_FAILURE"),a&&a(t||new Error({message:"No data returns from location service"}));a&&a(null,n)}):a&&a(null,o.getCurrentLocation())}},1656:function(e,t){if(void 0===n)var n={};n["watchlist-added"]={name:"watchlist-added",height:48,width:48,path:"M35.53 43.496c-.294 0-.587-.074-.852-.22l-10.68-5.946-10.678 5.945c-.607.34-1.35.288-1.907-.132-.553-.414-.81-1.12-.653-1.795l2.685-11.688-9.292-8.565c-.515-.476-.7-1.212-.464-1.874.23-.66.834-1.117 1.534-1.163l12.252-.802 4.905-11.68c.274-.65.913-1.074 1.618-1.074.704 0 1.34.423 1.614 1.075l4.908 11.68 12.25.805c.703.046 1.308.503 1.542 1.165.232.662.05 1.4-.465 1.874l-9.295 8.564 2.688 11.688c.154.673-.103 1.38-.657 1.793-.31.235-.68.35-1.054.35"},void 0!==e&&e.exports&&(e.exports=n["watchlist-added"])},1657:function(e,t){if(void 0===n)var n={};n.star={name:"star",height:24,width:24,path:"M8.485 7.83l-6.515.21c-.887.028-1.3 1.117-.66 1.732l4.99 4.78-1.414 6.124c-.2 1.14.767 1.49 1.262 1.254l5.87-3.22 5.788 3.22c.48.228 1.464-.097 1.26-1.254l-1.33-6.124 4.962-4.78c.642-.615.228-1.704-.658-1.732l-6.486-.21-2.618-6.22c-.347-.815-1.496-.813-1.84.003L8.486 7.83zm7.06 6.05l1.11 5.11-4.63-2.576L7.33 18.99l1.177-5.103-4.088-3.91 5.41-.18 2.19-5.216 2.19 5.216 5.395.18-4.06 3.903z"},void 0!==e&&e.exports&&(e.exports=n.star)},1658:function(e,t){if(void 0===n)var n={};n.DetectLocation={name:"DetectLocation",height:32,width:32,path:"M15.95-.102c-.636 0-1.147.514-1.147 1.147v2.273C8.716 3.866 3.865 8.725 3.346 14.803h-2.3c-.636 0-1.15.513-1.15 1.146 0 .635.514 1.148 1.15 1.148h2.308c.58 6.014 5.408 10.803 11.45 11.347v2.41c0 .634.51 1.145 1.145 1.145.634 0 1.148-.512 1.148-1.146v-2.41c6.04-.543 10.867-5.332 11.447-11.346h2.31c.63 0 1.145-.515 1.145-1.15 0-.633-.516-1.145-1.146-1.145h-2.3c-.52-6.078-5.37-10.936-11.456-11.485V1.045c0-.633-.516-1.147-1.15-1.147zM14.802 5.62v2.31c0 .634.512 1.146 1.146 1.146.634 0 1.148-.512 1.148-1.146V5.62c4.82.533 8.653 4.37 9.156 9.183H23.97c-.636 0-1.15.513-1.15 1.146 0 .635.516 1.148 1.15 1.148h2.262c-.563 4.745-4.36 8.514-9.134 9.04v-2.17c0-.632-.516-1.146-1.15-1.146-.634 0-1.145.514-1.145 1.147v2.17c-4.775-.528-8.576-4.296-9.14-9.042H7.93c.632 0 1.146-.515 1.146-1.15 0-.633-.514-1.145-1.146-1.145H5.643c.503-4.813 4.338-8.65 9.16-9.182z"},void 0!==e&&e.exports&&(e.exports=n.DetectLocation)},1659:function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:a(e,t,n)}var a=n(316);e.exports=r},1660:function(e,t,n){function r(e){return o(e)?i(e):a(e)}var a=n(1661),o=n(536),i=n(1662);e.exports=r},1661:function(e,t){function n(e){return e.split("")}e.exports=n},1662:function(e,t){function n(e){return e.match(d)||[]}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",c="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",o,i].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",l="[\\ufe0e\\ufe0f]?"+s+c,u="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,o,i,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(a+"(?="+a+")|"+u+l,"g");e.exports=n},1663:function(e,t){if(void 0===n)var n={};n.settings={name:"settings",height:24,width:24,path:"M12 14c-1.103 0-2-.897-2-2s.897-2 2-2c1.102 0 2 .897 2 2s-.898 2-2 2m4-2c0-2.206-1.795-4-4-4-2.206 0-4 1.794-4 4s1.794 4 4 4c2.205 0 4-1.794 4-4m-2.793 7.085l-.403 2.414h-1.61l-.386-2.35c-.067-.404-.35-.73-.71-.84-.414-.158-.717-.29-1.122-.464l-.127-.053c-.383-.138-.668-.114-1.01.072l-1.988 1.42-1.138-1.137 1.39-1.936c.237-.335.266-.766.086-1.102-.176-.382-.313-.727-.49-1.175-.12-.392-.446-.677-.85-.743l-2.35-.387v-1.61l2.35-.387c.405-.067.73-.352.837-.705.167-.42.3-.736.45-1.088l.04-.1c.193-.36.164-.793-.076-1.13-.432-.597-1.076-1.49-1.39-1.93l1.143-1.142 1.82 1.307.112.08c.326.236.813.248 1.104.09 1.12-.455 1.345-.555 1.43-.605l.046-.03c.368-.283.434-.647.442-.703l.388-2.352h1.607l.388 2.35c.044.267.2.63.698.834.024.01.843.35 1.195.492.09.048.183.082.284.104.29.06.598-.003.844-.178l1.94-1.388 1.136 1.136-1.39 1.938c-.238.334-.266.766-.092 1.088.114.268.345.83.453 1.093l.05.12c.125.378.445.652.842.718l1.186.196 1.164.188v1.614c-.54.09-1.624.268-2.35.385l-.055.014c-.437.122-.63.395-.78.69-.013.028-.346.832-.493 1.193-.19.363-.16.794.077 1.125l1.003 1.403s.217.294.384.525l-.57.577-.567.568c-.61-.437-1.944-1.392-1.963-1.404-.324-.204-.67-.24-1.07-.073-.384.17-.684.29-1.045.435-.338.12-.705.314-.865.843m9.1-9.778c-.08-.02-.145-.037-1.657-.278l-.662-.11-.16-.39 1.288-1.8c.434-.607.39-1.42-.104-1.977l-.01-.01-.01-.012c-.028-.03-.046-.05-1.68-1.68-.302-.3-.698-.464-1.12-.464-.335 0-.657.104-.93.302L15.47 4.174l-.388-.16-.36-2.188C14.603 1.088 13.916.5 13.156.5h-2.315c-.786 0-1.444.564-1.565 1.34l-.36 2.177-.384.16C6.705 2.86 6.69 2.85 6.613 2.806c-.235-.14-.513-.214-.797-.214-.23 0-.668.05-1.05.385l-.004.004c-.01.007-.018.015-.026.023-.054.05-.19.187-.702.697l-.984.984-.042.042-.038.044c-.377.44-.48 1.032-.292 1.565.01.03.02.058.036.09.02.052.046.102.073.15l.005-.002c.153.258.5.74 1.38 1.956-.055.128-.108.256-.163.39l-2.183.36C1.06 9.4.5 10.06.5 10.842v2.314c0 .79.566 1.447 1.345 1.566l2.16.356c.054.138.108.27.162.4l-1.284 1.79-.13.18-.04.12c-.254.584-.133 1.274.337 1.744l.7.7.937.935c.303.3.7.463 1.12.463.338 0 .66-.105.934-.304l1.786-1.28c.132.056.26.11.394.165l.36 2.178c.114.738.802 1.327 1.563 1.327h2.314c.79 0 1.45-.568 1.566-1.35l.357-2.157c.135-.054.265-.107.397-.162l1.788 1.28.048.036.054.033c.25.152.537.233.828.233.376 0 .743-.137 1.033-.385l.044-.038.04-.04.82-.82c.905-.913.97-.978 1.057-1.133.2-.335.267-.722.194-1.1-.042-.34-.205-.563-.87-1.467l-.688-.96.16-.388c2.21-.357 2.284-.38 2.4-.417l.042-.013.04-.015c.608-.23 1.03-.84 1.03-1.48V12l.002-1.158c.01-.712-.482-1.35-1.194-1.535"},void 0!==e&&e.exports&&(e.exports=n.settings)},1664:function(e,t,n){"use strict";var r=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],a=n(4)({displayName:"WeatherSimpleForecast",autobind:!1,mixins:[n(19)],config:{},statics:{storeListeners:[n(1193)]},propTypes:{count:n(0).number,id:n(0).string},contextTypes:{session:n(0).object},childContextTypes:{weatherConfig:n(0).object,session:n(0).object},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.showLocationSelector=this.showLocationSelector.bind(this),this.hideLocationSelector=this.hideLocationSelector.bind(this)},shouldComponentUpdate:function(e,t){return n(196)(this,e,t)},onChange:function(){var e=this;e.setState({weather:e.store.getWeather()})},getChildContext:function(){return{weatherConfig:this.config}},getDefaultProps:function(){return{count:4}},getInitialState:function(){var e=this;return e.config=e.props.componentConfig||{},e.store=e.getStore(n(1193)),{locationPanel:!1,weather:e.store.getWeather()}},showLocationSelector:function(){this.setState({locationPanel:!0})},hideLocationSelector:function(){this.setState({locationPanel:!1})},renderDailyForecasts:function(e,t){if(e&&e.length)return n(1).createElement("ul",{className:"D(tb) W(100%)"},n(116)(e.slice(0,t),function(e,t){var a=n(23)(e,["temperature","high"],""),o=n(23)(e,["temperature","low"],"");return n(1).createElement("li",{className:"daily D(tbc) Ta(c) lightweight_D(ib) lightweight_W(25%) lightweight_Bxz(bb) Zoom",style:{"*display":"inline!important"},key:t},n(1).createElement("h3",{className:"Fz(13px) Mb(7px)"},0===t?n(1).createElement(n(36).FormattedMessage,{id:"TODAY"}):n(1).createElement(n(36).FormattedMessage,{id:"ABBR_"+r[n(23)(e,["observationTime","weekday"])]})),n(1).createElement(n(1424),{code:e.conditionCode,type:"darkIcon",size:43}),n(1).createElement("span",{className:"temp Fz(13px) D(b)"},n(1).createElement("b",{className:"high C(#000) D(ib) Fw(b) Pend(5px)"},a?a.toFixed()+"°":""),n(1).createElement("b",{className:"low C(#8d8d8d) D(ib) Fw(b)"},o?o.toFixed()+"°":"")))}))},render:function(){var e=this,t=e.state.weather,r=n(23)(t,["forecasts","daily"]),a=e.renderDailyForecasts(r,e.props.count),o=n(23)(e.props,["intl","formatMessage"]),i=this.config.landingUrl+n(1401).buildRoutePath({country:n(23)(t,["location","countryName"]),state:n(23)(t,["location","displayName"]),city:n(23)(t,["location","displayName"]),woeid:n(23)(t,["location","woeid"])});return n(1).createElement("div",{className:n(8)("Pos(r)",e.props.className),id:this.props.id},n(1).createElement("h2",{className:"C(#3f3f3f) D(ib) Fw(b) Fz(15px) Mb(18px)"},n(23)(t,["location","displayName"]),n(23)(e.config,["ui","enableLocationDetect"])?n(1).createElement(n(29).I13nButton,{onClick:e.showLocationSelector},n(1).createElement(n(34).Icon,{name:"caret-down",height:16,width:16})):null),n(1).createElement("div",{className:"Pos(a) W(100%) Z(10)"},n(1).createElement(n(1596),{enable:e.state.locationPanel,onClick:e.hideLocationSelector})),n(1).createElement("div",{className:"Pos(r)"},a,n(1).createElement(n(29).I13nAnchor,{className:"StretchedBox",href:i,"aria-label":o&&o({id:"FULL_FORECAST"})})),n(23)(this.config,["ui","displayProvider"])&&"TWC"===n(23)(t,["provider","name"])?n(1).createElement("div",{className:"provider My(10px) C(#959595) Fz(11px)"},n(1).createElement(n(36).FormattedMessage,{id:"WEATHER_DATA_FROM",values:{provider:n(1).createElement("div",{className:"D(ib)"},n(1).createElement(n(80).Img,{url:n(23)(this.config,["assetsConfig","image","base"])+n(23)(this.config,["assetsConfig","image","resource","provider"])+"twc.jpg",width:20,height:20,alt:o&&o({id:"WEATHER_THE_WEATHER_CHANNEL"})}),n(1).createElement("span",{className:"Hidden"},n(1).createElement(n(36).FormattedMessage,{id:"WEATHER_THE_WEATHER_CHANNEL"})))}})):null)}});a=n(36).injectIntl(a),a.initializeAction=n(1389),a.componentConfig={bundleName:"react-weather",name:"componentWeather"},e.exports=a},1828:function(e,t,n){"use strict";var r,a={};"undefined"!=typeof window&&(r=window.navigator.userAgent),a.isAndroid=function(){return!!r&&r.toLowerCase().indexOf("android")>-1},e.exports=a},1829:function(e,t,n){"use strict";e.exports=n(4)({displayName:"WeatherStaticList",autobind:!1,propTypes:{componentConfig:n(0).object,id:n(0).string},renderStaticList:function(e,t){var r=n(116)(e,function(e){return n(1).createElement("li",{key:e.woeid,className:n(8)("My(10px) Fz(14px)",t)},n(1).createElement(n(296),{href:e.url,className:"C(#fff)"},e.city))});return n(1).createElement("ul",{className:"My(10px) Tsh($temperature-text-shadow)"},r)},render:function(){var e=this.props.componentConfig||{},t=e.itemClassName,r=e.list;return n(1).createElement(n(1360),{id:this.props.id,title:e.title||n(1).createElement(n(36).FormattedMessage,{id:"AROUND_THE_WORLD"}),hasMargin:e.hasMargin,type:"static-list"},this.renderStaticList(r,t))}})},1830:function(e,t,n){"use strict";var r,a,o,i=n(1828).isAndroid()?150:0,s=1,c=!1;"undefined"!=typeof window&&(o=window,a=o.screen,r=o.navigator,c=/Android/i.test(r.userAgent),s=o.devicePixelRatio||1),e.exports=n(4)({displayName:"FixedBackgroundPhoto",propTypes:{id:n(0).oneOfType([n(0).string,n(0).number]),blurBackground:n(0).bool,dayOrNight:n(0).string,defaultImageDimension:n(0).object,photos:n(0).array},subscribers:[],getDefaultProps:function(){return{blurBackground:!0,defaultImageDimension:{width:320,height:480},dayOrNight:"day",photos:[]}},getInitialState:function(){return{blur:!1,height:0,orientation:0,width:0}},handleOrientation:function(e){var t=this;setTimeout(function(){var e=t.getDeviceDimension();t.setState(e)},i)},getDeviceDimension:function(){var e,t,n=o.innerHeight>o.innerWidth;return n?(e=a.height>a.width?a.width:a.height,t=a.height>a.width?a.height:a.width):(e=a.height>a.width?a.height:a.width,t=a.height>a.width?a.width:a.height),{width:e,height:t,orientation:n?0:90}},componentDidMount:function(){var e=this;e.setState(e.getDeviceDimension()),o.addEventListener("orientationchange",e.handleOrientation),this.props.blurBackground&&!c&&e.subscribers.push(n(39)("scroll",e.handleScroll,{enableScrollInfo:!0}))},componentWillUnmount:function(){var e=this;if(o.removeEventListener("orientationchange",e.handleOrientation),e.subscribers)for(var t=0,n=e.subscribers.length;t<n;t++)e.subscribers[t].unsubscribe()},handleScroll:function(e,t){this.setState(t.scroll.top>this.state.height/5?{blur:!0}:{blur:!1})},calScore:function(e,t){return Math.abs(e.width-t.width)+Math.abs(e.height-t.height)},selectPhoto:function(){var e,t,n=this,r=n.state,a=n.props.photos||[],o=a.length,i={width:r.width*s,height:r.height*s},c=1/0,l=n.props.defaultImageDimension;if(1===o)return a[0];0!==i.width&&0!==i.height||(i.width=l.width,i.height=l.height);for(var u=0;u<o;u++)(t=n.calScore(a[u],i))<c&&(c=t,e=a[u]);return e},compareRatio:function(e){var t=this.state;return 0===t.width||0===t.height||0===e.width||0===e.height?0:t.width/t.height-e.width/e.height},renderPhoto:function(e,t,r){if(!e)return null;r=r||0,t=t||!1;var a=this,o=t&&a.state.blur,i=a.state.width,s=a.state.height,c={backgroundSize:"cover",backgroundPositionY:r,filter:"blur(20px)",WebkitFilter:"blur(20px)"};if(i>0&&s>0){c.backgroundSize=a.compareRatio(e)>=0?[i+"px","auto"].join(" "):["auto",s+"px"].join(" "),c.filter=void 0,c.WebkitFilter=void 0}return n(1).createElement(n(80).Img,{key:e.url,nodeName:"div",forceLoad:!0,className:n(8)("StretchedBox Bgp(c_t) Bgr(nr) Trsdu(.35s)! Trstf(eio)",{"Blur(7px)":o}),style:c,url:e.url})},shouldComponentUpdate:function(e,t){return n(196)(this,e,t)},render:function(){var e=this,t=e.selectPhoto(),r="day"===e.props.dayOrNight;return n(1).createElement("div",{id:this.props.id},n(1).createElement("div",{className:n(8)("Pos(f) Z(-1) Start(0) B(0) W(100%) H(100%)",{"Bgc(#aec7ef.87)":r,"Bgc(#000.87)":!r})},e.renderPhoto(t,!0,"60%")),n(1).createElement("div",{className:n(8)("Pos(f) Z(-1) Start(0) T(0) W(100%) H(100%)",{"Bgc(#aec7ef.87)":r,"Bgc(#000.87)":!r})},e.renderPhoto(t),n(1).createElement(n(1206),{component:"div",className:"StretchedBox",transitionName:"bgimg",transitionEnterTimeout:500,transitionLeaveTimeout:300},e.renderPhoto(t,!0))))}})},1831:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};e.exports=n(4)({displayName:"WeatherLocationAndTemperatureWrapper",autobind:!1,config:{},mixins:[n(19)],statics:{componentConfig:{name:"componentWeather"},initializeAction:n(1389),storeListeners:[n(1193)]},componentWillMount:function(){this.onChange=this.constructor.prototype.onChange.bind(this)},onChange:function(){var e=this;e.setState({latestWeather:e.store.getWeather(e.props.woeid)})},contextTypes:{session:n(0).object},childContextTypes:{weatherConfig:n(0).object,session:n(0).object},getDefaultProps:function(){return{localTime:{},paddingTop:0}},propTypes:{id:n(0).string},getChildContext:function(){return{weatherConfig:this.config}},getInitialState:function(){var e=this;return e.store=e.getStore(n(1193)),e.config=e.props.componentConfig,{height:0,latestWeather:e.store.getWeather(e.props.woeid),moduleTop:0,showTime:!1}},componentDidMount:function(){var e=this,t=e.refs.mainView;e.setState({height:Math.max(t.offsetHeight,t.offsetWidth),moduleTop:t.getBoundingClientRect&&t.getBoundingClientRect().top,showTime:!0})},render:function(){var e,t,a=this,o=a.state.latestWeather,i=n(23)(a,["context","session","dimensions","device"],"smartphone"),s={type:"smartphone"!==i?"dropdown":"panel",showHint:n(23)(a.config,["ui","showLocationHint"],!1),panelTop:n(23)(a.config,["ui","shouldUseModuleTopForPanel"])&&a.state.moduleTop},c=n(23)(a.config,["ui","weatherClassName"],"Mah(87vh) H(87vh) Pos(r) desktop_Mih(600px) Mih(480px)");return o=o||{},e=n(23)(o,["photos",0],{}),t=n(23)(o,["observation","localTime","timestamp"]),n(1).createElement("div",{id:this.props.id,ref:"mainView",className:c,style:{marginTop:-a.props.paddingTop,height:0!==a.state.height?a.state.height:null}},n(1).createElement("div",{style:{top:a.props.paddingTop},className:"StretchedBox"},n(1).createElement(n(1360),{className:"Pos(a) T(0) Start(0) End(0)",type:"location",hasBackground:!1},n(1).createElement("div",{className:"D(ib) Va(t) Maw(75%)"},n(1).createElement(n(2042),{location:o.location})),n(23)(a.config,["ui","enableLocationDetect"])?n(1).createElement("div",{className:n(8)("D(ib) Va(t)",{"Mstart(40px)":"smartphone"!==i,"Mstart(15px)":"smartphone"===i})},n(1).createElement(n(2043),r({},o.location,s,{dayOrNight:e.dayOrNight})),n(1).createElement(n(2044),r({},s,{dayOrNight:e.dayOrNight}))):null,a.state.showTime&&t?n(1).createElement("div",{className:"Lts(1px) Fz(14px) Fs(i) Lh(2.5) Fw(300) Tsh($temperature-text-shadow)"},n(1).createElement(n(36).FormattedDate,{value:t,timeZone:"UTC",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})):null),n(1).createElement(n(1360),{className:"Pos(a) B(0) Start(0) End(0)",type:"temperature",hasBackground:!1,hasPadding:!1},n(1).createElement(n(2046),r({unit:o.unit},o.observation,{photo:n(23)(o,["photos",0])})))))}})},1832:function(e,t){if(void 0===n)var n={};n.geo={name:"geo",height:48,width:48,path:"M24.628 1.773c-9.104 0-16.51 7.406-16.51 16.51 0 2.092.385 4.125 1.143 6.05.323.814.712 1.606 1.185 2.405L22.94 46.43c.366.578 1.003.93 1.688.93.684 0 1.32-.35 1.688-.928l12.53-19.75c.455-.77.843-1.564 1.152-2.354.757-1.923 1.142-3.956 1.142-6.044 0-9.104-7.408-16.51-16.512-16.51zm11.647 21.092c-.232.596-.527 1.197-.84 1.73L24.628 41.627l-10.773-16.98c-.335-.565-.63-1.168-.875-1.786-.57-1.45-.862-2.99-.862-4.576 0-6.9 5.61-12.51 12.51-12.51 6.9 0 12.513 5.61 12.513 12.51 0 1.584-.288 3.124-.865 4.58zM19.706 18.735a4.962 4.962 0 1 0 9.924 0 4.962 4.962 0 1 0-9.924 0z"},void 0!==e&&e.exports&&(e.exports=n.geo)},1833:function(e,t,n){function r(e,t,n){if((e=l(e))&&(n||void 0===t))return e.replace(u,"");if(!e||!(t=a(t)))return e;var r=c(e),d=c(t),f=s(r,d),p=i(r,d)+1;return o(r,f,p).join("")}var a=n(545),o=n(1659),i=n(2051),s=n(2052),c=n(1660),l=n(302),u=/^\s+|\s+$/g;e.exports=r},2031:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(4)({displayName:"Forecast",autobind:!1,contextTypes:{weatherConfig:n(0).object,session:n(0).object},propTypes:{data:n(0).object,woeid:n(0).string},render:function(){var e=this.props.data,t=e.woeid;return n(1).createElement(n(1360),{id:"weather-forecast",title:n(1).createElement(n(36).FormattedMessage,{id:"FORECAST"}),type:"forecast"},n(1).createElement(n(2032),r({unit:e.unit,woeid:t},e.forecasts,{provider:e.provider,providerCheck:n(23)(this.context,["weatherConfig","ui","providerCheck"],!1),location:e.location})))}}),o=n(4)({displayName:"Detail",autobind:!1,contextTypes:{weatherConfig:n(0).object,session:n(0).object},propTypes:{data:n(0).object},render:function(){var e=this.props.data;return n(1).createElement(n(1360),{id:"weather-detail",title:n(1).createElement(n(36).FormattedMessage,{id:"DETAILS"}),type:"detail"},n(1).createElement(n(2035),{unit:e.unit,observation:e.observation}))}}),i=n(4)({displayName:"Map",autobind:!1,contextTypes:{weatherConfig:n(0).object,session:n(0).object},propTypes:{data:n(0).object},render:function(){var e=this.props.data;return n(1).createElement(n(1360),{id:"weather-map",title:n(1).createElement(n(36).FormattedMessage,{id:"MAP"}),type:"map"},n(1).createElement(n(2036),r({unit:e.unit,provider:e.provider,zoomLevel:5},e.forecasts,e.location)))}}),s=n(4)({displayName:"Precipitation",autobind:!1,contextTypes:{weatherConfig:n(0).object,session:n(0).object},propTypes:{data:n(0).object},render:function(){var e=this.props.data;return n(1).createElement(n(1360),{id:"weather-precipitation",title:n(1).createElement(n(36).FormattedMessage,{id:"PRECIPITATION"}),type:"precipitation"},n(1).createElement(n(2039),{precipitations:e.precipitations}))}}),c=n(4)({displayName:"Wind",autobind:!1,contextTypes:{weatherConfig:n(0).object,session:n(0).object},propTypes:{data:n(0).object},render:function(){var e=this.props.data;return n(1).createElement(n(1360),{id:"weather-wind",title:n(1).createElement(n(36).FormattedMessage,{id:"WIND_AND_PRESSURE"}),type:"wind"},n(1).createElement(n(2040),r({unit:e.unit},e.observation)))}}),l=n(4)({displayName:"Sun",autobind:!1,contextTypes:{weatherConfig:n(0).object,session:n(0).object},propTypes:{data:n(0).object},render:function(){var e=this.props.data,t=e.woeid;return n(1).createElement(n(1360),{id:"weather-sun-moon",title:n(1).createElement(n(36).FormattedMessage,{id:"SUN_AND_MOON"}),type:"sun"},n(1).createElement(n(2041),r({woeid:t,tzOffsetSecs:n(23)(e,["location","offsetSecs"])},e.sunAndMoon)))}}),u=n(4)({displayName:"StaticList",autobind:!1,contextTypes:{weatherConfig:n(0).object,session:n(0).object},propTypes:{resource:n(0).object},render:function(){var e=n(23)(this.context,["weatherConfig","staticListConfig"]),t=this.props.resource,r=e[t]||{},a=r.list;if(!a||!a.length)return null;var o={hasMargin:!0,itemClassName:r.itemClassName,list:a,title:r.title};return n(1).createElement(n(1829),{componentConfig:o})}}),d={Detail:o,Forecast:a,Map:i,Precipitation:s,StaticList:u,Sun:l,Wind:c};e.exports=n(4)({displayName:"Weather",autobind:!1,mixins:[n(19)],config:{},propTypes:{id:n(0).oneOfType([n(0).string,n(0).number]),paddingTop:n(0).number,woeid:n(0).string},statics:{initializeAction:n(1389),storeListeners:[n(1193)]},contextTypes:{session:n(0).object},childContextTypes:{weatherConfig:n(0).object,session:n(0).object},componentWillMount:function(){this.onChange=this.constructor.prototype.onChange.bind(this)},onChange:function(){var e=this;e.setState({latestWeather:e.store.getWeather(e.props.woeid),preference:e.store.getPreference()})},getChildContext:function(){return{weatherConfig:this.config}},getDefaultProps:function(){return{paddingTop:0,woeid:null}},getInitialState:function(){var e=this;return e.config=e.props.componentConfig||{},e.store=e.getStore(n(1193)),{latestWeather:e.store.getWeather(e.props.woeid),preference:e.store.getPreference()}},renderComponentByType:function(e,t){var r=e.length||1;return n(116)(e,function(e,a){if(e.constructor===Array){var o=n(116)(e,function(e,r){var a="string"==typeof e?e:e.name,o=d[a];return n(1).createElement(o,{data:t,key:r,resource:e.resource})});return n(1).createElement("div",{className:"Va(t) D(ib) W(100%)!--sm",style:{width:100/r+"%"},key:a},o)}var i="string"==typeof e?e:e.name,s=d[i];return n(1).createElement("div",{className:"Va(t) D(ib) W(100%)!--sm",style:{width:100/r+"%"},key:a},n(1).createElement(s,{data:t,resource:e.resource}))})},renderWeather:function(e){var t,r,a=this;return e=e||{},t=n(23)(e,["photos",0],{}),r=e.woeid,n(1).createElement("div",{className:"weather","data-woeid":r,id:this.props.id},n(23)(a.config,["ui","separateBackground"])?null:n(1).createElement(n(1830),{dayOrNight:t.dayOrNight,defaultImageDimension:a.config.defaultImageDimension,photos:t.resolutions||[],blurBackground:n(23)(a.config,["ui","blurBackground"])}),n(23)(a.config,["ui","seperateLocationAndTemperature"])?null:n(1).createElement(n(1831),a.props),n(1).createElement("div",null,a.renderComponentByType(a.config.moduleOrder,e)))},shouldComponentUpdate:function(e,t){return n(196)(this,e,t)},render:function(){var e=this;return e.renderWeather(e.state.latestWeather)}})},2032:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],c=function(e){function t(e,o){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.changeDays=i.changeDays.bind(i),i.toggleForecast=i.toggleForecast.bind(i),i.changeHourlyType=i.changeHourlyType.bind(i),i.formatMessage=n(23)(e,["intl","formatMessage"],n(1361)),i.state={days:10,hourlyType:"temperature"},i}return o(t,e),i(t,[{key:"getI13nModel",value:function(e){return{sec:"forecast",slk:e}}},{key:"changeDays",value:function(e){var t=e.currentTarget;if(t){this.setState({days:parseInt(t.getAttribute("data-days"),10)})}}},{key:"renderHourly",value:function(e){var t=this,r=this.state.hourlyType;return e=n(116)(e,function(e,a){var o,i=e.observationTime.hour,s=i>11?"PM":"AM";return i%=12,i=0===i?12:i,"temperature"===r?o=n(1).createElement(n(1424),{className:"temp-cond D(ib) W(3em)",temperature:e.temperature.now,code:e.conditionCode,size:28}):"precipitation"===r?o=n(1).createElement(n(1654),{className:"precip-cond D(ib) W(3em)",probability:e.precipitationProbability,size:24}):"wind"===r&&(o=n(1).createElement(n(2033),{className:"wind-cond D(ib) W(4em)",windSpeed:e.windSpeed,windDirectionCode:e.windDirectionCode,windDirection:e.windDirection,size:28,unit:t.props.unit})),n(1).createElement("li",{key:a,className:"Fz(.8em) Ta(c) W(1/8) D(ib) Whs(n)"},n(1).createElement("span",{className:"D(ib) W(1/1) Whs(nw) Fz(.9em) Mb(3px)"},[i,s].join(" ")),o)}),n(1).createElement("ul",{ref:"hourlyForecasts",className:"hourly Whs(nw) BdB Bds(d) Bdbc(#fff.12) Ovx(s) Ovs(touch) Py(6px)"},e)}},{key:"toggleForecast",value:function(e){var t=e.currentTarget,n=this.refs.accordion;t&&n.updateItemsHeight&&(n.updateItemsHeight(),setTimeout(function(){n.forceUpdate()},100))}},{key:"changeHourlyType",value:function(e){this.setState({hourlyType:e.target.value})}},{key:"renderDaily",value:function(e){var t=this;return e=n(116)(e,function(e,r){var a=e.dayPartTexts,o=n(116)(a,function(e,t){return n(1).createElement("span",{className:n(8)("day-part Mah(0) forecast-item:f_Mah(100px)","Trsdu(.1s) Fz(.9em) D(b) Ov(h) forecast-item:f_My(10px)"),key:t},"NIGHT"===e.dayPart?n(1).createElement("span",{className:"D(ib) Mend(10px)"},n(1).createElement(n(36).FormattedMessage,{id:e.dayPart}),n(1).createElement("span",null," - ")):null,e.text)});return n(1).createElement("div",{key:r,className:"BdB Bds(d) Bdbc(#fff.12) Fz(1.2em) Py(2px) O(0) Pos(r) forecast-item",onClick:t.toggleForecast,role:"row",tabIndex:0},n(1).createElement("div",{className:"D(ib) Va(m) W(1/4)"},n(1).createElement(n(36).FormattedMessage,{id:s[e.observationTime.weekday]})),n(1).createElement(n(1424),{className:"D(ib) Va(m) W(1/4) Ta(c)",code:e.conditionCode,size:32}),n(1).createElement("span",{className:"D(ib) Va(m) W(1/4) Fz(12px)"},n(1).createElement(n(1654),{className:"D(ib) Mstart(1/3)",probability:e.precipitationProbability,size:24})),n(1).createElement("span",{className:"D(ib) Va(m) W(1/4) Ta(end)"},n(1).createElement("span",{className:"high D(ib) Miw(32px)"},n(94).renderWeatherData(e.temperature.high,!0),"°"),n(1).createElement("span",{className:"low Pstart(10px) C(#a5d6ff) D(ib) Miw(32px)"},n(94).renderWeatherData(e.temperature.low,!0),"°")),o)}),n(1).createElement(n(2034),{ref:"accordion",className:"daily",contentKey:t.props.woeid+"-"+t.props.unit,numExpandedItem:t.state.days,role:"grid"},e)}},{key:"renderDayControl",value:function(){var e=this;return n(1).createElement("div",{className:"daily Pt(10px) D(ib)"},n(1).createElement(n(29).I13nButton,{"data-days":"5",onClick:e.changeDays,className:n(8)("BdEnd Bdendc(#fff.3) Pstart(0) Pend(10px) Fz(.9em) Tt(u) Cur(p)",{"C(#fff) selected":5===e.state.days,"C(#fff.24)":10===e.state.days}),i13nModel:e.getI13nModel("expand5")},n(1).createElement(n(36).FormattedMessage,{id:"FIVE_DAY"})),n(1).createElement(n(29).I13nButton,{"data-days":"10",onClick:e.changeDays,className:n(8)("Pstart(10px) Fz(.9em) Tt(u) Cur(p)",{"C(#fff) selected":10===e.state.days,"C(#fff.24)":5===e.state.days}),i13nModel:e.getI13nModel("expand10")},n(1).createElement(n(36).FormattedMessage,{id:"TEN_DAY"})))}},{key:"renderHourlyControl",value:function(){var e={appearance:"none",WebkitAppearance:"none",MozAppearance:"none"};return n(1).createElement("div",{className:"D(ib) Pos(r) Z(0)"},n(1).createElement("select",{className:n(8)("Fz(14px) Py(5px) Pstart(8px) Pend(22px) Bxsh(n)","Bgc(t) O(n):f BdB Bdbc(#fff.83) C(#fff.83) Bdrs(2px) Cur(p)"),value:this.state.hourlyType,defaultValue:"temperature",onChange:this.changeHourlyType,style:e},n(1).createElement("option",{value:"temperature"},this.formatMessage({id:"TEMPERATURE"})),n(1).createElement("option",{value:"precipitation"},this.formatMessage({id:"PRECIPITATION"})),n(1).createElement("option",{value:"wind"},this.formatMessage({id:"WIND"}))),n(1).createElement(n(34).Icon,{className:"Pos(a) End(0) T(6px) D(ib) Z(-1)",name:"caret-down",height:14,width:14,color:"#fff"}))}},{key:"componentDidUpdate",value:function(){var e=this.refs.hourlyForecasts;e&&(e.scrollLeft=0)}},{key:"shouldComponentUpdate",value:function(e,t){return n(196)(this,e,t)}},{key:"render",value:function(){var e=this,t=e.props,r=!(t.providerCheck&&"TWC"===n(23)(t,["provider","name"])),a=n(23)(e.context,["weatherConfig"],{}),o=n(1).createElement("span",{className:"D(b) Mt(10px)"},n(1).createElement(n(36).FormattedMessage,{id:"WEATHER_DATA_FROM",values:{provider:n(1).createElement("span",{className:"D(ib)"},n(1).createElement(n(80).Img,{url:n(23)(a,["assetsConfig","image","base"])+n(23)(a,["assetsConfig","image","resource","provider"])+"twc.jpg",width:20,height:20,alt:e.formatMessage({id:"WEATHER_THE_WEATHER_CHANNEL"})}),n(1).createElement("span",{className:"Hidden"},n(1).createElement(n(36).FormattedMessage,{id:"WEATHER_THE_WEATHER_CHANNEL"})))}}));return n(1).createElement("div",{className:"forecast"},n(1).createElement("div",{className:"Pos(r)"},n(1).createElement("div",{className:"Pos(a) T(0) B(0) End(0) W(50px) Z(1) Pe(n) Bg($weather-bg-overlay-end)"}),e.renderHourlyControl(),e.renderHourly(t.hourly)),e.renderDaily(t.daily),r?e.renderDayControl():null,r?null:o)}}]),t}(n(1).Component);c.displayName="WeatherForecast",c.contextTypes={weatherConfig:n(0).object},c.defaultProps={daily:[],hourly:[],provider:{name:"TWC"},providerCheck:!1,unit:"imperial",woeid:0},e.exports=n(36).injectIntl(c)},2033:function(e,t,n){"use strict";function r(){return h=u(n(0))}function a(){return m=u(n(1))}function o(){return v=n(34)}function i(){return y=u(n(1361))}function s(){return E=u(n(23))}function c(){return w=u(n(196))}function l(){return C=u(n(94))}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var h,m,g,v,y,E,b,w,C,x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(e){function t(){return d(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),x(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,(w||c()).default)(this,e,t)}},{key:"render",value:function(){var e=this.props,t=e.size,n="metric"===e.unit?"KMH":"MPH",r={transform:"rotate("+e.windDirection+"deg)",WebkitTransform:"rotate("+e.windDirection+"deg)"},c=(0,(E||s()).default)(e,["intl","formatMessage"],(y||i()).default),u=(C||l()).default.renderWeatherData(e.windSpeed,!0);return(m||a()).default.createElement("span",{className:e.className,title:c({id:n},{number:u})},(m||a()).default.createElement("span",{className:"D(ib)",style:r},(m||a()).default.createElement((v||o()).Icon,{name:"arrow-down",height:t,width:t,color:"#fff"})),(m||a()).default.createElement("span",{className:"M(5px) D(ib) Whs(nw)"},u))}}]),t}((g||function(){return g=n(1)}()).Component);T.displayName="WeatherWindCondition",T.contextTypes={weatherConfig:(h||r()).default.object},T.defaultProps={size:28,unit:"imperial",windDirection:0,windDirectionCode:null,windSpeed:0},t.default=(0,(b||function(){return b=n(36)}()).injectIntl)(T),e.exports=t.default},2034:function(e,t,n){"use strict";e.exports=n(4)({displayName:"Accordion",autobind:!1,propTypes:{contentKey:n(0).oneOfType([n(0).string,n(0).number]),numExpandedItem:n(0).number,nodeName:n(0).string},getDefaultProps:function(){return{contentKey:null,numExpandedItem:5,nodeName:"div"}},getInitialState:function(){return this.itemsHeight=[],{isContentChanged:!0,numExpandedItem:this.props.numExpandedItem}},updateItemsHeight:function(){for(var e=n(10).findDOMNode(this).childNodes,t=0,r=[t],a=0,o=e.length;a<o;a++)t+=e.item(a).offsetHeight,r.push(t);this.itemsHeight=r},componentWillReceiveProps:function(e){this.setState({isContentChanged:e.contentKey!==this.props.contentKey,numExpandedItem:e.numExpandedItem})},shouldComponentUpdate:function(e,t){return!n(571)(this.state,t)},componentDidMount:function(){this.setState({isContentChanged:!1})},componentDidUpdate:function(){this.setState({isContentChanged:!1})},componentWillUpdate:function(){this.updateItemsHeight()},render:function(){var e=this.props,t=[],r={};return n(1).Children.forEach(e.children,function(e){t.push(e)}),this.state.isContentChanged?t=t.slice(0,e.numExpandedItem):r.height=this.itemsHeight[Math.min(e.numExpandedItem,t.length)],n(1).createElement(e.nodeName,{className:n(8)("accordion Ov(h) Trsdu(.42s)",e.className),style:r},t)}})},2035:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=[{key:"feelsLike",i18n:"FEELS_LIKE"},{key:"humidity",i18n:"HUMIDITY"},{key:"visibility",i18n:"VISIBILITY"},{key:"uvIndex",i18n:"UV_INDEX"}],c=function(e){function t(e,o){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.formatMessage=n(23)(e,["intl","formatMessage"],n(1361)),i.state={},i}return o(t,e),i(t,[{key:"renderDescription",value:function(e){var t=n(116)(e,function(e,t){var r="TODAY";return"NIGHT"===e.dayPart&&(r="TONIGHT"),n(1).createElement("p",{className:"day-description My(10px)",key:t},n(1).createElement(n(36).FormattedMessage,{id:r})," - ",e.text)});return n(1).createElement("div",{className:"description Py(10px) Px(4px) Fz(1em)"},t)}},{key:"renderDetailsItem",value:function(e,t,r,a){return n(1).createElement("li",{className:n(8)("item BdB Cf Py(8px) Fz(1.1em) Bds(d)",{"Bdbc(#fff.12)":a,"Bdbc(t)":!a}),key:r},n(1).createElement("div",{className:"Fl(start)"},e),n(1).createElement("div",{className:"Fl(end)"},t))}},{key:"renderDetails",value:function(e){var t=this,r="metric"===t.props.unit?"KM":"MILES",a={feelsLike:n(94).renderWeatherData(e.temperature.feelsLike,!0)+"°",humidity:n(94).renderWeatherData(e.humidity)+"%",visibility:n(1).createElement(n(36).FormattedMessage,{id:r,values:{number:n(94).renderWeatherData(e.visibility,!0,2)}}),uvIndex:void 0!==e.uvIndex?e.uvIndex+" ("+e.uvDescription+")":null},o=n(116)(s,function(e,n){var r=e.i18n,o=a[e.key];return t.renderDetailsItem(t.formatMessage({id:r}),o,n,n!==s.length-1)});return n(1).createElement("div",{className:"info BdB Bdbc(#fff.12) Bds(d)"},n(1).createElement("div",{className:"D(tb) W(100%)"},n(1).createElement("div",{className:"thumb W(40%) D(tbc) Ta(c) H(100%) Va(m)"},n(1).createElement(n(1424),{code:e.conditionCode,size:70})),n(1).createElement("div",{className:"D(tbc) W(60%)"},n(1).createElement("ul",{className:"list Pstart(10px) Bxz(bb)"},o))))}},{key:"shouldComponentUpdate",value:function(e,t){return n(196)(this,e,t)}},{key:"render",value:function(){var e=this.props.observation;return e?n(1).createElement("div",{className:"detail"},this.renderDetails(e),e.dayPartTexts&&e.dayPartTexts.length?this.renderDescription(e.dayPartTexts):null):null}}]),t}(n(1).Component);c.displayName="WeatherDetail",c.defaultProps={currentObservation:{},dayPartTexts:[]},e.exports=n(36).injectIntl(c)},2036:function(e,t,n){"use strict";var r,a,o,i=n(1828).isAndroid()?150:0;"undefined"!=typeof window&&(o=window,r=o.Modernizr||{canvas:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}()},a=r.canvas),e.exports=n(4)({displayName:"WeatherMap",autobind:!1,mixins:[n(120)],windoWidth:0,propTypes:{latitude:n(0).number,longitude:n(0).number,unit:n(0).string,zoomLevel:n(0).number},contextTypes:{session:n(0).object,weatherConfig:n(0).object},componentWillMount:function(){this.loadScript=this.constructor.prototype.loadScript.bind(this)},resetMap:function(e,t){var r=this;setTimeout(function(){n(23)(t,["resize","width"])!==r.windoWidth&&r.setupMap()},i)},setupMap:function(){if(void 0===o.YMaps||!o.YMaps||!n(10).findDOMNode(this))return null;var e=this;e.clearMap();var t=e.props,r=n(10).findDOMNode(e),a=r.clientWidth;e.windoWidth=o.innerWidth||n(23)(o,["document","documentElement","clientWidth"]);var i=o.YMaps,s=new i.GeoPoint(+t.latitude,+t.longitude);e.containerHeight=.75*a||300,i.L11n.setLanguage(n(23)(e.context,["session","dimensions","lang"])),e.map=new i.Map(r.querySelector(".map-canvas"),{center:s,zoom:+t.zoomLevel,height:e.containerHeight||300,width:a,tileType:i.MapTileModel.satellite},{brandControl:!1,copyright:!1,enableMouse:!1,fps:!1,mapTypeToggle:!1,preloadTiles:!1,scale:!1,zoomControl:!1}),e.map.draw(new i.Marker({geo:s}))},clearMap:function(){this.map&&this.map.destroy()},componentWillUnmount:function(){var e=this;if(e.clearMap(),o.removeEventListener("orientationchange",e.resetMap.bind(e)),e.subscribers)for(var t=0,n=e.subscribers.length;t<n;t++)e.subscribers[t].unsubscribe()},componentDidUpdate:function(){this.setupMap()},componentDidMount:function(){var e=this,t=n(23)(this,["context","weatherConfig","assetsConfig","js","map"]);t&&a&&e.loadScript({link:t,namespace:"YMaps"},function(){e.setupMap(),o.addEventListener("orientationchange",e.resetMap.bind(e)),e.subscribers=[n(39)("resizeEnd",e.resetMap.bind(e),{enableScrollInfo:!0})]})},shouldComponentUpdate:function(e,t){return n(196)(this,e,t)},render:function(){var e=this,t=e.props,r={paddingBottom:"75%"},a=n(23)(this,["context","weatherConfig"],{});if(!t.latitude||!t.longitude)return null;var o=[(parseFloat(t.latitude)||0).toFixed(2),(parseFloat(t.longitude)||0).toFixed(2)].join(",");return n(1).createElement("div",{className:"map"},n(1).createElement("div",{className:"H(0) Pos(r)",style:r},n(1).createElement("div",{className:"map-canvas StretchedBox","data-latitude":t.latitude,"data-longitude":t.longitude,"data-zoom":t.zoomLevel,ref:"mapCanvas"}),n(1).createElement(n(2037),{lat:t.latitude,lng:t.longitude,level:t.zoomLevel,unit:t.unit})),o&&a.mapLink?n(1).createElement(n(29).I13nAnchor,{className:"C(#fff) Mt(10px) D(ib)",target:"_blank",href:a.mapLink.replace("{locationId}",o)},n(1).createElement(n(36).FormattedMessage,{id:"WEATHER_VIEW_INTERACTIVE_MAP"})):null)}})},2037:function(e,t,n){"use strict";function r(){return g=f(n(0))}function a(){return v=f(n(1))}function o(){return E=n(36)}function i(){return b=n(29)}function s(){return w=n(2038)}function c(){return C=n(80)}function l(){return x=f(n(23))}function u(){return T=f(n(196))}function d(){return _=f(n(39))}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var g,v,y,E,b,w,C,x,T,_,N,S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M={satellite:"global_ir_satellite_10km",heat:"synoptic_temp",wind:"wind_day_m_0",radar:"radar_ex"},O={satellite:1,heat:.6,wind:.4,radar:.8},P={satellite:"menu_expand_satellite",heat:"menu_expand_heat",wind:"menu_expand_wind",radar:"menu_expand_radar_blank"},I={satellite:null,heat:"legnd_heat_C@2x.png",wind:"legnd_wind_nounit@2x.png",radar:"legnd_radar@2x~iphone.png"},L=["satellite","heat","wind"],W={satellite:"WEATHER_SATELLITE_MAP",heat:"WEATHER_HEAT_MAP",wind:"WEATHER_WIND_MAP"};"undefined"!=typeof window&&(N=window);var A=function(e){function t(e,n){p(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={date:null,quadkey:null,tiles:[],width:0,height:0,offsetX:0,offsetY:0,mapType:"satellite"},r._setImageBase(),r}return m(t,e),S(t,[{key:"_setImageBase",value:function(){if(!this.imageRoot){var e=(0,(x||l()).default)(this,["context","weatherConfig","assetsConfig","image"],{});this.imageRoot=e.base+(0,(x||l()).default)(e,["resource","map"])}}},{key:"getTiles",value:function(e,t,n,r){for(var a=[],o=(0,(w||s()).quadkeyToTile)(e),i=Math.ceil(t/2/256),c=Math.ceil(n/2/256),l=-c;l<=c;l++)for(var u=-i;u<=i;u++){var d={x:o.x+u,y:o.y+l,offsetX:0,offsetY:0,quadkey:0};d.offsetX=256*u,d.offsetY=256*l,d.quadkey=(0,(w||s()).tileToQuadkey)(d,r),a.push(d)}return a}},{key:"getUTCDate",value:function(){var e=new Date;return[[e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()].join("-"),[e.getUTCHours(),15*Math.floor(e.getUTCMinutes()/15),0].join(":")].join("T")}},{key:"handleResize",value:function(){this.updateMap()}},{key:"updateMap",value:function(e){var t=e||this.props,n=t.lat,r=t.lng,a=t.level,o=(0,(w||s()).locationToQuadkey)({lat:n,lng:r},a),i=this.refs.container,c=i.offsetWidth,l=i.offsetHeight,u=this.getTiles(o,c,l,a),d=(0,(w||s()).bbox)(o);this.setState({date:this.getUTCDate(),quadkey:o,tiles:u,width:c,height:l,offsetX:256*(d.min.lng-r)/(d.max.lng-d.min.lng),offsetY:256*(n-d.max.lat)/(d.max.lat-d.min.lat)})}},{key:"shouldComponentUpdate",value:function(e,t){return(0,(T||u()).default)(this,e,t)}},{key:"componentDidMount",value:function(){this.updateMap(),this.subscribers=[(0,(_||d()).default)("resizeEnd",this.handleResize.bind(this))],N.addEventListener("orientationchange",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){if(this.subscribers)for(var e=0,t=this.subscribers.length;e<t;e++)this.subscribers[e].unsubscribe();N.removeEventListener("orientationchange",this.handleResize.bind(this))}},{key:"componentWillReceiveProps",value:function(e){this.updateMap(e)}},{key:"getSwitchImageUrl",value:function(e,t){return""+this.imageRoot+P[e]+(e===t?"_on":"")+"@2x.png"}},{key:"handleSwitchChange",value:function(e){this.setState({mapType:e})}},{key:"renderMapSwitch",value:function(e){var t=this,n=this.state.mapType,r=t.props.intl||{formatMessage:function(){}},s=r.formatMessage({id:W[e]}),u=(0,(x||l()).default)(this,["context","weatherConfig","mapSwitch","size"]),d=L.map(function(e,r){return(v||a()).default.createElement((b||i()).I13nButton,{key:r,className:"M(0) P(0) Bdw(0) D(ib) Va(b)",onClick:t.handleSwitchChange.bind(t,e),"aria-label":s,title:s},(v||a()).default.createElement((C||c()).Img,{width:u,height:u,url:t.getSwitchImageUrl(e,n)}))});return(v||a()).default.createElement("div",{className:"Pos(a) B(0)"},(v||a()).default.createElement("div",{className:"Tsh($temperature-text-shadow) Fw(b) Px(10px) Py(5px)"},(v||a()).default.createElement((E||o()).FormattedMessage,{id:W[e]})),d)}},{key:"renderLegend",value:function(e){var t=I[e];if(!t)return null;"metric"!==this.props.unit&&(t=t.replace("_C","_F"));var n=""+this.imageRoot+t;return(v||a()).default.createElement("div",{className:"Pos(a) T(0) B(0) End(0)"},(v||a()).default.createElement("img",{className:"Mah(400px)",height:"100%",url:n}))}},{key:"render",value:function(){var e=this.state,t=e.date,n=e.mapType,r=this.state.width/2+this.state.offsetX,o=this.state.height/2+this.state.offsetY,i=(0,(x||l()).default)(this,["context","weatherConfig","mapSwitch","imageHostName"]),s=this.state.tiles.map(function(e,s){var c=e.quadkey,l=i+"/v3/weather_tile/"+t+"/"+M[n]+"/"+c+".png";return(v||a()).default.createElement("img",{key:s,style:{top:o+e.offsetY,left:r+e.offsetX,opacity:O[n]},className:"Pos(a)",src:l})});return(v||a()).default.createElement("div",{ref:"container",className:"map-overlay StretchedBox Ov(h)"},s,this.renderMapSwitch(n),this.renderLegend(n))}}]),t}((y||function(){return y=n(1)}()).Component);A.displayName="WeatherMapOverlay",A.defaultProps={lat:0,lng:0,level:1,unit:"metric"},A.contextTypes={weatherConfig:(g||r()).default.object},t.default=(0,(E||o()).injectIntl)(A),e.exports=t.default},2038:function(e,t,n){"use strict";function r(e){return e===c.Left||e===c.Right}function a(e,t,n){return Math.min(Math.max(e,t),n)}function o(e){return 256<<parseInt(e,10)}function i(e,t){switch(e){case"0":return r(t)?"1":"2";case"1":return r(t)?"0":"3";case"2":return r(t)?"3":"0";case"3":return r(t)?"2":"1";default:throw new Error("Invalid key character: "+e)}}function s(e,t,n){if(""===e)return"";var r=e[t];return e=l.call(e,t,i(e[t],n)),t>0&&(("0"!==r||n!==c.Left&&n!==c.Up)&&("1"!==r||n!==c.Right&&n!==c.Up)&&("2"!==r||n!==c.Left&&n!==c.Down)&&("3"!==r||n!==c.Right&&n!==c.Down)||(e=s(e,t-1,n))),e}t=e.exports={};var c=Object.freeze({Up:0,Down:1,Left:2,Right:3}),l=function(e,t){return this.substr(0,e)+t+this.substr(e+t.length)};t.sibling=function(e,t){return t={left:c.Left,right:c.Right,up:c.Up,down:c.Down}[t],s(e,e.length-1,t)},t.locationToPixel=function(e,t){var n=a(e.lat,-85.05112878,85.05112878),r=a(e.lng,-180,180),i=(r+180)/360,s=Math.sin(n*Math.PI/180),c=.5-Math.log((1+s)/(1-s))/(4*Math.PI),l=parseFloat(o(t));return{x:parseInt(a(i*l+.5,0,l-1),10),y:parseInt(a(c*l+.5,0,l-1),10)}},t.pixelToLocation=function(e,t){var n=parseFloat(o(t)),r=a(parseFloat(e.x),0,n-1)/n-.5,i=.5-a(parseFloat(e.y),0,n-1)/n;return{lat:90-360*Math.atan(Math.exp(-1*i*2*Math.PI))/Math.PI,lng:360*r}},t.pixelToTile=function(e){return{x:e.x/256,y:e.y/256}},t.tileToPixel=function(e){return{x:256*e.x,y:256*e.y}},t.tileToQuadkey=function(e,t){for(var n="",r=t;r>0;r--){var a="0",o=a.charCodeAt(0),i=1<<r-1;0!=(e.x&i)&&o++,0!=(e.y&i)&&(o++,o++),n+=String.fromCharCode(o)}return n},t.quadkeyToTile=function(e){for(var t=0,n=0,r=e.length,a=r;a>0;a--){var o=1<<a-1;switch(e[r-a]){case"0":break;case"1":t|=o;break;case"2":n|=o;break;case"3":t|=o,n|=o;break;default:throw new Error("Invalid quadkey")}}return{x:t,y:n}},t.tileToLocation=function(e,n){var r=t.tileToPixel(e);return t.pixelToLocation(r,n)},t.locationToQuadkey=function(e,n){var r=t.locationToPixel(e,n),a=t.pixelToTile(r);return t.tileToQuadkey(a,n)},t.bbox=function(e){var n=t.quadkeyToTile(e),r={x:n.x+1,y:n.y+1},a=e.length,o=t.tileToLocation(n,a),i=t.tileToLocation(r,a);return{min:{lat:Math.min(o.lat,i.lat),lng:Math.min(o.lng,i.lng)},max:{lat:Math.max(o.lat,i.lat),lng:Math.max(o.lng,i.lng)}}},t.inside=function(e,n){return t.locationToQuadkey(e,n.length)===n},t.origin=function(e){var n=t.bbox(e);return{lat:(n.min.lat+n.max.lat)/2,lng:(n.min.lng+n.max.lng)/2}},t.children=function(e){return[e+"0",e+"1",e+"2",e+"3"]},t.parent=function(e){return e.substring(0,e.length-1)}},2039:function(e,t,n){"use strict";function r(){return h=u(n(0))}function a(){return m=u(n(1))}function o(){return v=n(36)}function i(){return y=u(n(1654))}function s(){return E=u(n(23))}function c(){return b=u(n(116))}function l(){return w=u(n(196))}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h,m,g,v,y,E,b,w,C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=function(e){function t(e,n){d(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._setImageBase(),r.state={},r}return p(t,e),C(t,[{key:"_setImageBase",value:function(){if(!this.imageRoot){var e=(0,(E||s()).default)(this.context,["weatherConfig","assetsConfig","image"],{});this.imageRoot=e.base+(0,(E||s()).default)(e,["resource","precipitation"])}}},{key:"_getPrecipitationImage",value:function(e){var t=this;return e=10*Math.floor(e/10),[t.imageRoot,"54x60/rain_ico_",e,"@2x.png"].join("")}},{key:"shouldComponentUpdate",value:function(e,t){return(0,(w||l()).default)(this,e,t)}},{key:"render",value:function(){var e=this,t=void 0,n=e.props.precipitations||[];return n=n.slice(0,4),t=(0,(b||c()).default)(n,function(e,t){return(m||a()).default.createElement("div",{className:"D(tbc) Ta(c) Va(m) Fz(1.1em) W(25%)",key:t},(m||a()).default.createElement((v||o()).FormattedMessage,{id:e.timeSlot}))}),n=(0,(b||c()).default)(n,function(e,t){var n=e.probability;return(m||a()).default.createElement("div",{key:t,className:"W(25%) Ta(c) D(ib)"},(m||a()).default.createElement((y||i()).default,{className:"D(ib) W(3.6em) Fz(1.2em) Ta(c)",probability:n,size:27}))}),(m||a()).default.createElement("div",{className:"precipitation"},(m||a()).default.createElement("div",{className:"D(tb) W(100%) My(8px)"},t),n)}}]),t}((g||function(){return g=n(1)}()).Component);x.displayName="WeatherPrecipitation",x.contextTypes={weatherConfig:(h||r()).default.object},e.exports=x},2040:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4)({displayName:"Windmill",autobind:!1,style:{pole:{l:"Bgz(cv) H(65px) W(9px) T(34px) Start(24px) Pos(a)",s:"Bgz(cv) H(45px) W(7px) T(20px) Start(16px) Pos(a)"},blade:{l:"Bgz(cv) W(60px) H(60px)",s:"Bgz(cv) W(40px) H(40px)"}},contextTypes:{weatherConfig:n(0).object},propTypes:{size:n(0).string,windScale:n(0).number},getDefaultProps:function(){return{size:"l",windScale:0}},getAnimationTime:function(e){return 0===e?0:4-3.5*(e-0)/8},shouldComponentUpdate:function(e,t){return n(196)(this,e,t)},render:function(){var e=this,t=n(23)(e,["context","weatherConfig","assetsConfig","image"],{}),r=t.base+n(23)(t,["resource","windmill"]),a=Math.min(8,e.props.windScale),o=e.getAnimationTime(a),i={animationDuration:o+"s",MozAnimationDuration:o+"s",OAnimationDuration:o+"s",WebkitAnimationDuration:o+"s"},s=a>4?"blade_big_blur@2x.png":"blade_big@2x.png";return n(1).createElement("div",{className:n(8)("windmill Pos(r)",e.props.className,e.style.blade[e.props.size])},n(1).createElement(n(80).Img,{nodeName:"div",url:r+s,className:n(8)("Animn($anim-spin) Animic(i) Animtf(l)",e.style.blade[e.props.size]),style:i}),n(1).createElement(n(80).Img,{nodeName:"div",url:r+"bigpole@2x.png",className:e.style.pole[e.props.size]}))}}),c=function(e){function t(e,n){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.state={},o}return o(t,e),i(t,[{key:"getDirectionAbbreviation",value:function(e){var t=[],r=e.split(" ");return 1===r.length?r:(t=n(116)(r,function(e){return e.charAt(0)}),t.join(""))}},{key:"shouldComponentUpdate",value:function(e,t){return n(196)(this,e,t)}},{key:"render",value:function(){var e=this,t=e.props.windSpeed;t=n(94).renderWeatherData(t);var r=e.props.unit,a="metric"===r,o=a?"KMH":"MPH",i=a?"MILLIBARS":"INCHES",c=n(94).windScale(t,r);return n(1).createElement("div",{className:"wind-pressure Pos(r) Mih(120px)"},n(1).createElement("div",{className:"windmill D(tb) W(100%)"},n(1).createElement("div",{className:"D(tbc) W(40%)"},n(1).createElement(s,{windScale:c,size:"l",className:"T(10px) Start(6px)"}),n(1).createElement(s,{windScale:c,size:"s",className:"T(-16px) Start(50px)"})),n(1).createElement("div",{className:"D(tbc) W(60%) Va(m)"},n(1).createElement("div",{className:"wind"},n(1).createElement(n(36).FormattedMessage,{id:"WIND"}),n(1).createElement("p",null,n(1).createElement(n(36).FormattedMessage,{id:o,values:{number:n(94).renderWeatherData(e.props.windSpeed,!0)}}),e.props.windDirectionCode?"  "+this.getDirectionAbbreviation(e.props.windDirectionCode):null)))),n(1).createElement("div",{className:"barometric BdT Bdts(d) Bdtc(#fff.12) Pos(a) B(0) Start(0) End(0)"},n(1).createElement("div",{className:"Px(10px) Fl(end) Cf Ta(c) Fz(1.1em) Pt(4px)"},n(1).createElement(n(36).FormattedMessage,{id:"BAROMETER"}),n(1).createElement(n(36).FormattedMessage,{id:i,tagName:"p",values:{number:n(94).renderWeatherData(this.props.barometricPressure,!0,1)}}))))}}]),t}(n(1).Component);e.exports=n(36).injectIntl(c)},2041:function(e,t,n){"use strict";var r=n(4)({displayName:"WeatherSunAndMoon",autobind:!1,mixins:[n(96)],contextTypes:{weatherConfig:n(0).object},propTypes:{moonPhase:n(0).number,sunrise:n(0).number,sunset:n(0).number,tzOffsetSecs:n(0).number,woeid:n(0).number},componentWillMount:function(){this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this)},getDefaultProps:function(){return{moonPhase:0,sunrise:0,sunset:0,tzOffsetSecs:0,woeid:0}},getInitialState:function(){var e=this;return e.formatMessage=n(23)(e.props,["intl","formatMessage"],n(1361)),e._setImageBase(),e._getInitialState(e.props.tzOffsetSecs)},_getInitialState:function(e){var t=this,n=t._calculateCurrentSecs(e);return{currentSecs:n,sunpathDegree:t._isMorning(n)?16:0,sunpathLength:0}},_setImageBase:function(){if(!this.sunImageRoot||!this.moonImageRoot){var e=n(23)(this,["context","weatherConfig","assetsConfig","image"],{});this.sunImageRoot=e.base+n(23)(e,["resource","sun"]),this.moonImageRoot=e.base+n(23)(e,["resource","moon"])}},_getSunpath:function(e){var t=this.props,n=t.sunrise,r=t.sunset,a=0,o=0;if(e>=n&&e<=r){a=(e-n)/(r-n)*148+16,o=170*(Math.cos(Math.PI-a*Math.PI/180)+1)/2}return{degree:a,length:o}},_isMorning:function(e){var t=this,n=t.props;return e>=n.sunrise&&e<=n.sunset},_calculateCurrentSecs:function(e){var t=new Date;return(Math.floor(+t/1e3)+e)%86400},_formatTime:function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=t<11?"AM":"PM";return t>12&&(t%=12),n<10&&(n="0"+n),[t+":"+n,r].join(" ")},componentDidMount:function(){this.setUpViewportDetect()},componentDidUpdate:function(){this.setUpViewportDetect()},componentWillReceiveProps:function(e){var t=this,n=!1;if(t.props.woeid!==e.woeid)n=!0;else{var r=t._calculateCurrentSecs(e.tzOffsetSecs);Math.abs(r-t.state.currentSecs)>3600&&(n=!0)}n&&t.setState(t._getInitialState(e.tzOffsetSecs))},setUpViewportDetect:function(){var e=this,t=e.state.currentSecs;e._isMorning(t)&&e.onEnterViewport(function(){var n=e._getSunpath(t);e.setState({sunpathDegree:Math.floor(n.degree),sunpathLength:Math.floor(n.length)}),e.onEnterViewport(null)})},renderSunpath:function(){var e,t=this,r=t.state,a=t.props;if(t._isMorning(r.currentSecs)){var o={MozTransform:"rotate("+r.sunpathDegree+"deg)",OTransform:"rotate("+r.sunpathDegree+"deg)",transform:"rotate("+r.sunpathDegree+"deg)",WebkitTransform:"rotate("+r.sunpathDegree+"deg)"},i={width:r.sunpathLength};e=n(1).createElement("div",{className:"sun"},n(1).createElement("div",{className:"Trstf(l) Trsdu(3s) W(21px) H(21px) Pos(a) B(-30px) Start(22px) Trfo(95px)",style:o},n(1).createElement(n(80).Img,{nodeName:"div",className:"Bgz(cv)",width:21,height:21,url:t.sunImageRoot+"sun@2x.png"})),n(1).createElement("div",{className:"Trstf(l) Trsdu(3s) Pos(a) T(0) Start(30px) W(170px) H(64px) Ov(h)",style:i},n(1).createElement(n(80).Img,{nodeName:"div",className:"W(170px) H(100%) Bgz(cv)",url:t.sunImageRoot+"weather_circle.png"})))}return n(1).createElement("div",{className:"sunpath Py(12px) Ov(h) W(276px)"},n(1).createElement("div",{className:"Pos(r)"},n(1).createElement(n(80).Img,{nodeName:"div",className:"Bgz(cv)",width:276,height:66,url:t.sunImageRoot+"suncurve_static@2x.png"}),e),n(1).createElement("div",{className:"Cf Fz(1em) Mt(8px)"},n(1).createElement("span",{className:"Pos(r) Start(13px) Fl(start)",title:t.formatMessage({id:"WEATHER_SUNRISE_TIME"},{time:t._formatTime(a.sunrise)})},t._formatTime(a.sunrise)),n(1).createElement("span",{className:"Pos(r) End(55px) Fl(end)",title:t.formatMessage({id:"WEATHER_SUNSET_TIME"},{time:t._formatTime(a.sunset)})},t._formatTime(a.sunset))))},renderMoonphase:function(){var e=this,t=e.props.moonPhase;if(void 0===t)return null;var r=[e.moonImageRoot,"ic_moonphase_",t,"@3x.png"].join("");return n(1).createElement("div",{className:"moonphase Fl(end) W(1/4) Fz(1.1em) D(tb) Mt(10px)"},n(1).createElement("div",{className:"D(tbc) Va(m) W(20px)"},n(1).createElement(n(80).Img,{alt:e.formatMessage({id:"MOON_PHASE_"+t}),width:20,height:20,url:r,className:"Fl(start)"})),n(1).createElement("div",{className:"description D(tbc) Va(m) Pstart(6px) Lh(1.2em)"},n(1).createElement(n(36).FormattedMessage,{id:"MOON_PHASE_"+t})))},shouldComponentUpdate:function(e,t){return n(196)(this,e,t)},render:function(){return n(1).createElement("div",{className:"sun-moon"},this.renderMoonphase(),this.renderSunpath())}});e.exports=n(36).injectIntl(r)},2042:function(e,t,n){"use strict";function r(){return l=o(n(1))}function a(){return d=o(n(196))}function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e,n){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return c(t,e),f(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,(d||a()).default)(this,e,t)}},{key:"render",value:function(){if(!this.props.location)return null;var e=this.props.location;return(l||r()).default.createElement("div",{className:"location Tsh($temperature-text-shadow)"},(l||r()).default.createElement("h1",{className:"city Fz(2em)--sm Fz(3.7em)--lg Fz(3.3em) Fw(n) M(0) Trsdu(.3s) desktop_Lh(1) smartphone_Lh(1)"},e.displayName),(l||r()).default.createElement("div",{className:"Fz(1.2em)--sm Fz(2em)--lg Fz(1.5em) Fw(200) country Trsdu(.3s) Lh(2.5)"},e.countryName))}}]),t}((u||function(){return u=n(1)}()).Component);p.displayName="WeatherLocation",e.exports=p},2043:function(e,t,n){"use strict";function r(){return y=h(n(0))}function a(){return E=h(n(1))}function o(){return w=n(29)}function i(){return C=n(34)}function s(){return x=h(n(1656))}function c(){return T=h(n(1657))}function l(){return _=h(n(1341))}function u(){return S=h(n(8))}function d(){return M=h(n(1594))}function f(){return O=h(n(1466))}function p(){return P=h(n(196))}function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var y,E,b,w,C,x,T,_,N,S,M,O,P,I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),L=function(e){function t(e,n){m(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.store=n.getStore((_||l()).default),r._onStoreChange=r._onStoreChange.bind(r),r.handleOnClick=r.handleOnClick.bind(r),r.isFavorite=r.isFavorite.bind(r),r.state={isFavorite:r.isFavorite(r.props.woeid)},r}return v(t,e),I(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,(P||p()).default)(this,e,t)}},{key:"componentDidMount",value:function(){this.store.addChangeListener(this._onStoreChange)}},{key:"componentWillUnmount",value:function(){this.store.removeChangeListener(this._onStoreChange)}},{key:"isFavorite",value:function(e){for(var t=this.store.getFavoriteLocations(),n=!1,r=0,a=t.length;r<a;r++)if(t[r].woeid===e){n=!0;break}return n}},{key:"_onStoreChange",value:function(){this.setState({isFavorite:this.isFavorite(this.props.woeid)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({isFavorite:this.isFavorite(e.woeid)})}},{key:"handleOnClick",value:function(){var e=this;this.context.executeAction(e.state.isFavorite?(M||d()).default:(O||f()).default,{woeid:e.props.woeid})}},{key:"render",value:function(){var e=this,t="day"===this.props.dayOrNight?"#ffd333":"#fff",n=e.state.isFavorite?"WEATHER_REMOVE_FROM_MY_LOCATIONS":"WEATHER_ADD_TO_MY_LOCATIONS",r=e.props.showHint||!1;return(E||a()).default.createElement((w||o()).I13nButton,{className:(0,(S||u()).default)("D(ib) Va(t) Mend(10px) P(0) Bdw(0)",{"Bgc(#000.54) C(#fff)":e.props.showHint}),onClick:e.handleOnClick,title:e.props.intl.formatMessage({id:n}),"aria-label":e.props.intl.formatMessage({id:n})},(E||a()).default.createElement((C||i()).Icon,{asset:this.state.isFavorite?(x||s()).default:(T||c()).default,className:r?"P(6px)":"",width:26,height:26,color:t}))}}]),t}((b||function(){return b=n(1)}()).Component);L.displayName="WeatherAddToMyLocation",L.contextTypes={getStore:(y||r()).default.func.isRequired,executeAction:(y||r()).default.func.isRequired},t.default=(0,(N||function(){return N=n(36)}()).injectIntl)(L),e.exports=t.default},2044:function(e,t,n){"use strict";function r(){return g=f(n(1))}function a(){return y=n(36)}function o(){return E=n(29)}function i(){return b=n(34)}function s(){return w=f(n(1832))}function c(){return C=f(n(2045))}function l(){return x=f(n(1596))}function u(){return T=f(n(8))}function d(){return _=f(n(196))}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g,v,y,E,b,w,C,x,T,_,N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(e){function t(e,n){p(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={panelEnabled:!1},r.showPane=r.showPane.bind(r),r.handleLocationSelector=r.handleLocationSelector.bind(r),r}return m(t,e),N(t,[{key:"showPane",value:function(){this.setState({panelEnabled:!0})}},{key:"handleLocationSelector",value:function(e){this.setState({panelEnabled:"show"===e.action})}},{key:"shouldComponentUpdate",value:function(e,t){return(0,(_||d()).default)(this,e,t)}},{key:"render",value:function(){var e=this,t={sec:"main-forecast",slk:"add-location"},n="dropdown"===e.props.type?(x||l()).default:(C||c()).default,d=e.props.showHint;return(g||r()).default.createElement("div",{className:"location-picker Pos(r) Z(1) lightweight_D(n) D(ib)"},(g||r()).default.createElement((E||o()).I13nButton,{className:(0,(T||u()).default)("selector D(ib) Bd(0) Cur(p) Bxz(bb)",{"P(6px) Bgc(#000.54) C(#fff)":d}),onClick:e.showPane,i13nModel:t},(g||r()).default.createElement((b||i()).Icon,{asset:(w||s()).default,width:25,height:25,color:"day"===e.props.dayOrNight?"#ffd333":"#fff"}),d?(g||r()).default.createElement("div",{className:"Py(4px) Px(10px) D(ib)",style:{color:"day"===e.props.dayOrNight?"#ffd333":"#fff"}},(g||r()).default.createElement((y||a()).FormattedMessage,{id:"WEATHER_CHANGE_LOCATION"})):null),(g||r()).default.createElement("div",{className:(0,(T||u()).default)("Pos(a) W(300px)",{"End(0)":"right"===e.props.align})},(g||r()).default.createElement(n,{enable:e.state.panelEnabled,onClick:e.handleLocationSelector,panelTop:e.props.panelTop})))}}]),t}((v||function(){return v=n(1)}()).Component);S.displayName="WeatherLocationPicker",S.defaultProps={align:"left",dayOrNight:"day",showHint:!1,type:"panel"},e.exports=S},2045:function(e,t,n){"use strict";"use stricts";var r,a;"undefined"!=typeof window&&(a=window.document,r=a.body);var o=n(4)(Object.assign({},n(1493),{hidePanel:function(){n(1493).hidePanel.call(this),setTimeout(function(){r.style.overflow="",r.style.position="static",r.style.left="",r.style.right=""},0)},componentDidUpdate:function(){var e=this;e.props.enable&&setTimeout(function(){r.style.overflow="hidden",r.style.position="fixed",r.style.left=0,r.style.right=0,e.event||(e.event=n(198).listen(a,"keyup",e.onKeyUp))},0)},renderLocations:function(){var e=this,t=e.state.searchLocations,r=t&&t.length;return t=r?t:e.state.favoriteLocations,t&&t.length?n(116)(t,function(t){return n(1).createElement("li",{className:"P(14px) Cur(p) BdB Bdbc(#fff.3) Cf",key:t.woeid},n(1).createElement("div",{className:"D(tb) W(100%) Va(m)"},n(1).createElement(n(29).I13nButton,{"data-woeid":t.woeid,"data-country":t.country,"data-state":t.state||t.city,"data-city":t.city,"data-qualified-name":t.qualifiedName,className:"location-item D(tbc) W(90%) Cur(p) P(0) Bd(0) Ta(start) C(#fff)",onClick:e.onSelectWeather,i13nModel:e.getI13nModel("add-search",t.qualifiedName)},t.qualifiedName),r?null:n(1).createElement("div",{className:"D(tbc) W(10%) Va(m) Ta(c)"},n(1).createElement(n(29).I13nButton,{className:"location-item Bdrs(100%) Bgc(#ff333c.8) P(0) Lh(1em)",onClick:e.deleteFavorite,"data-woeid":t.woeid,"aria-label":e.formatMessage({id:"REMOVE_LOCATION"}),i13nModel:e.getI13nModel("delete-favorites",t.qualifiedName)},n(1).createElement("span",{className:"Hidden"},n(1).createElement(n(36).FormattedMessage,{id:"REMOVE_LOCATION"})),n(1).createElement(n(34).Icon,{asset:n(1595),color:"#fff",width:18,height:18})))))}):n(1).createElement("li",null)},renderSearchBar:function(){var e=this;return n(1).createElement("header",{className:"Bgc(#fff.12) Px(14px) Py(10px) Fz(1.5em) Bxz(cb) Or(0) Cf Flxs(0)"},n(1).createElement(n(34).Icon,{asset:n(1199),width:20,height:20,color:"rgba(255,255,255,.30)",style:{verticalAlign:"middle"}}),n(1).createElement("input",{ref:"searchInput",className:"search-input Bgc(#fff.30) C(#fff) Bdw(0) P(6px) Mx(10px) W(65%) Fz(.8em)",placeholder:e.formatMessage({id:"ENTER_CITY_ZIPCODE_PLACEHOLDER"}),onChange:e.handleSearchInput,onKeyDown:e.handleKeyDown,value:e.state.value}),n(1).createElement(n(29).I13nButton,{"aria-label":e.formatMessage({id:"ADD_LOCATION_CANCEL"}),className:"Py(6px) Px(0) Bdw(0) Fl(end) W(20%) Fz(.8em) C(#fff)",onClick:e.hidePanel,i13nModel:e.getI13nModel("cancel-add")},n(1).createElement("span",{className:"Hidden"},n(1).createElement(n(36).FormattedMessage,{id:"ADD_LOCATION_CANCEL"})),n(1).createElement(n(36).FormattedMessage,{id:"ADD_LOCATION_CANCEL"})))},renderLocationDetector:function(){var e=this;return n(1).createElement("div",{className:"location-detect Or(0) Flxs(0) C(#fff)"},n(1).createElement(n(29).I13nButton,{className:"current D(b) W(100%) Ta(start) Bd(0) Fz(1.2em) Cur(p) P(14px)",onClick:e.getCurrentLocation,i13nModel:e.getI13nModel("detect-location")},n(1).createElement(n(34).Icon,{asset:n(1832),width:20,height:20,color:"#a5d6ff"}),n(1).createElement("span",{className:"Mstart(10px) C(#fff)"},n(1).createElement(n(36).FormattedMessage,{id:"DETECT_MY_LOCATION"}))),"loading"===e.state.status?n(1).createElement("div",{className:"loading-status P(14px)"},n(1).createElement("span",{className:"W(20px) H(20px) D(ib) Bgc(#fff) M(10px) Va(m) Bdrs(100%) Anim($anim-weahter-spinner) Animic(i) Animt(eio)"}),n(1).createElement(n(36).FormattedMessage,{id:"GETTING_LOCATION"})):null,e.state.error?n(1).createElement("div",{className:"loading-error P(14px)"},n(1).createElement(n(34).Icon,{className:"D(ib) Mend(10px)",width:20,height:20,name:"attention",color:"#ff333c"}),n(1).createElement(n(36).FormattedMessage,{id:e.state.error.message})):null)},render:function(){var e=this,t="120%";return e.props.enable&&(t=e.props.panelTop||0),n(1).createElement("section",{className:"Pos(f) End(0) Start(0) B(0) Bgc(#000) Trsdu(.3s) C(#fff) D(f) Fld(c)",style:{top:t}},e.renderSearchBar(),e.renderLocationDetector(),n(1).createElement("ul",{className:"location Fz(1.2em) Ovy(s) Ovs(touch) Flxg(1) Or(1)",ref:"location"},e.state.isFavoriteList?n(1).createElement("li",null,n(1).createElement("h3",{className:"Px(14px) Py(10px) Fw(n) Tt(c) BdB Bdbc(#fff.70)"},n(1).createElement(n(34).Icon,{asset:n(1214),className:"Mend(10px)",color:"#fff",width:16,height:16,cursorClass:"Cur(d)"}),n(1).createElement(n(36).FormattedMessage,{id:"FAVORATE"}))):null,e.renderLocations()))}}));e.exports=n(36).injectIntl(n(29).createI13nNode(o))},2046:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){function t(e,o){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.formatMessage=n(23)(e,["intl","formatMessage"],n(1361)),i._setImageBase(),i.state={},i}return o(t,e),i(t,[{key:"_setImageBase",value:function(){if(!this.imageRoot){var e=n(23)(this,["context","weatherConfig","assetsConfig","image"],{});this.imageRoot=e.base+n(23)(e,["resource","flickr"])}}},{key:"renderCredit",value:function(e){var t=this;return e=e||{},e.owner?n(1).createElement("div",{className:"credit My(2px) Fz(.7em) Pos(a) B(-10px) End(0)"},n(1).createElement(n(29).I13nAnchor,{className:"C(#fff) Va(m)",href:"https://www.flickr.com/photos/"+e.owner+"/"+e.id},n(1).createElement(n(36).FormattedMessage,{id:"LEAD_CREDIT",values:{name:e.ownerName,platform:n(1).createElement(n(80).Img,{nodeName:"div",url:t.imageRoot+"logo@3x.png",height:10,width:32,className:"Bgz(cv) D(ib)",alt:t.formatMessage({id:"FLICKR"})})}}))):null}},{key:"shouldComponentUpdate",value:function(e,t){return n(196)(this,e,t)}},{key:"render",value:function(){var e=this,t=e.props;return n(1).createElement("div",{className:"temperature Fz(14px) Tsh($temperature-text-shadow)"},n(1).createElement("div",{className:"My(2px)"},n(1).createElement(n(1424),{className:"Va(m)",code:t.conditionCode,size:32}),n(1).createElement("span",{className:"description Va(m) Px(2px) Fz(1.3em)--sm Fz(1.6em)"},t.conditionDescription)),n(1).createElement("div",{className:"high-low My(2px) Fz(1.2em)--sm Fz(1.6em) Trsdu(.3s)"},n(1).createElement(n(34).Icon,{className:"Va(m) Px(6px)",name:"arrow-up",width:20,height:20,color:"#fff"}),n(1).createElement("span",{className:"Va(m) Px(6px)"},n(94).renderWeatherData(t.temperature.high,!0),"°"),n(1).createElement(n(34).Icon,{className:"Va(m) Px(6px)",name:"arrow-down",width:20,height:20,color:"#fff"}),n(1).createElement("span",{className:"Va(m) Px(6px)"},n(94).renderWeatherData(t.temperature.low,!0),"°")),n(1).createElement("div",{className:"now Fz(8em)--sm Fz(10em) Lh(0.9em) Fw(100) My(2px) Trsdu(.3s)"},n(1).createElement("span",{className:"Va(t)"},n(94).renderWeatherData(t.temperature.now,!0)),n(1).createElement("span",{className:"Va(t) Fz(.7em) Lh(1em)"},"°"),n(1).createElement(n(2047),{unit:t.unit})),e.renderCredit(t.photo))}}]),t}(n(1).Component);s.displayName="WeatherTemperature",s.contextTypes={weatherConfig:n(0).object},s.defaultProps={unit:"imperial",conditionCode:0,conditionDescription:null,temperature:{high:0,low:0,now:0}},e.exports=n(36).injectIntl(s)},2047:function(e,t,n){"use strict";var r,a={metric:"C",imperial:"F"},o={metric:"CELSIUS",imperial:"FAHRENHEIT"},i=n(4)({displayName:"WeatherUnitControl",autobind:!1,mixins:[n(19)],static:{},propTypes:{unit:n(0).string},contextTypes:{weatherConfig:n(0).object},getDefaultProps:function(){return{unit:"imperial"}},getInitialState:function(){return this.formatMessage=n(23)(this.props,["intl","formatMessage"],n(1361)),r=[].concat(n(23)(this.context,["weatherConfig","unit"],["metric","imperial"])),{}},componentWillMount:function(){this.changePreference=this.changePreference.bind(this)},changePreference:function(e){var t=e.currentTarget,r=t.getAttribute("data-unit");r&&r!==this.state.currentUnit&&this.executeAction(n(1593).setPreference,{unit:r})},render:function(){var e=this;e.props.unit!==r[0]&&r.reverse();var t=n(116)(r,function(t,r){var i={sec:"main-forecast",slk:t};return n(1).createElement(n(29).I13nButton,{key:t,onClick:e.changePreference,"data-unit":t,"aria-label":"°"+e.formatMessage({id:o[t]}),className:n(8)("unit Tt(c) Fz(.2em) Fw(200) O(n) P(6px) Va(t)","D(b) Lh(1em) Tsh($temperature-text-shadow) M(a)",{"C($c-fuji-grey-7)":t!==e.props.unit,"C(#fff)":t===e.props.unit}),i13nModel:i},a[t])});return n(1).createElement("div",{className:"unit-control D(ib)"},t)}});e.exports=n(36).injectIntl(i)},2048:function(e,t,n){"use strict";function r(){return f=c(n(1))}function a(){return h=n(36)}function o(){return m=n(29)}function i(){return g=c(n(1360))}function s(){return v=c(n(196))}function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f,p,h,m,g,v,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),y(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,(v||s()).default)(this,e,t)}},{key:"render",value:function(){var e=this.props.componentConfig;return(f||r()).default.createElement((g||i()).default,{id:this.props.id,hasMargin:!1,type:"app-promote"},(f||r()).default.createElement((m||o()).I13nAnchor,{className:"Td(n) D(tb)",href:e.link},(f||r()).default.createElement("div",{className:"C(#fff) Ta(c) D(tbc) Va(t)"},(f||r()).default.createElement("div",{className:"My(10px) Va(m) Fz(16px) Tsh($temperature-text-shadow)"},(f||r()).default.createElement((h||a()).FormattedMessage,{id:"WEATHER_PROMOTE_TEXT"})),(f||r()).default.createElement("div",{className:"Maw(90px) My(10px) Ff(ss) Bdw(0) Ta(c) Cur(p) D(ib) Va(m) Fz(1em) Bdrs(3px) Bgc($c-fuji-blue-1-a) Py(8px) Px(6px)",role:"button"},(f||r()).default.createElement((h||a()).FormattedMessage,{id:"WEATHER_GET_THE_APP"})))))}}]),t}((p||function(){return p=n(1)}()).Component);t.default=E,e.exports=t.default},2049:function(e,t,n){"use strict";e.exports=n(4)({displayName:"FixedBackgroundPhotoWrapper",autobind:!1,config:{},mixins:[n(19)],statics:{componentConfig:{name:"componentWeather"},initializeAction:n(1389),storeListeners:[n(1193)]},propTypes:{id:n(0).number},componentWillMount:function(){this.onChange=this.constructor.prototype.onChange.bind(this)},onChange:function(){var e=this;e.setState({latestWeather:e.store.getWeather()})},contextTypes:{session:n(0).object},childContextTypes:{weatherConfig:n(0).object,session:n(0).object},getChildContext:function(){return{weatherConfig:this.config}},getInitialState:function(){var e=this;return e.store=e.getStore(n(1193)),e.config=e.props.componentConfig,{latestWeather:e.store.getWeather()}},render:function(){var e=this,t=e.state.latestWeather||{},r=n(23)(t,["photos",0],{});return n(1).createElement(n(1830),{id:this.props.id,dayOrNight:r.dayOrNight,defaultImageDimension:e.config.defaultImageDimension,photos:r.resolutions||[],blurBackground:n(23)(e.config,["ui","blurBackground"])})}})},2050:function(e,t,n){"use strict";function r(e,t){var r={renderTargetId:t?"#"+t:""};return e.top&&(e.top=n(1833)(n(516)(e.top,r))),e.bottomBoundary&&(e.bottomBoundary=n(1833)(n(516)(e.bottomBoundary,r))),e}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="";"undefined"!=typeof document&&(o=document.documentElement),e.exports=n(4)({displayName:"WeatherLayout",autobind:!1,mixins:[n(19)],contextTypes:{renderTarget:n(0).object.isRequired,session:n(0).object.isRequired},propTypes:{Bottom:n(0).array,Col1:n(0).array,Col2:n(0).array,config:n(0).object,Hero:n(0).array,Lead:n(0).array,Side:n(0).array,UH:n(0).array},getDefaultProps:function(){return{config:{}}},renderComposite:function(e){return e&&0!==e.length?n(1).createElement(n(151).Composite,{components:e}):null},getSiteContext:function(){var e=this.getStore("RouteStore").getCurrentRoute()||{},t=n(23)(this,["context","session","dimensions"],{});return{site:e.params&&e.params.contentSite||e.contentSite||t.site,region:t.region,lang:t.lang}},getRegionId:function(e,t){var r=n(23)(this.context,["renderTarget","idPrefix"],""),a=["YDC",e];return t&&a.push("Stack"),r&&a.unshift(r),a.join("-")},componentWillMount:function(){o&&o.classList&&o.classList.add(this.constructor.displayName)},componentWillUnmount:function(){o&&o.classList&&o.classList.remove(this.constructor.displayName)},render:function(){var e=this.getSiteContext(),t=n(26)({height:120,slotHeight:120,isFixed:!0},n(23)(this.props,["config","UH"])),o=n(26)({isSticky:!0,ui:{padding:null}},n(23)(this.props,["config","Side"],{})),i=n(26)({ui:{padding:null}},n(23)(this.props,["config","Col1"],{})),s=n(26)({ui:{padding:null}},n(23)(this,["props","config","Col2"],{})),c=n(23)(this.props,["config","inlineCSS"]),l=Object.assign({},o.sticky);l=r(l,n(23)(this.context,["renderTarget","elementId"]));var u=Object.assign({},s.sticky);return u=r(u,n(23)(this.context,["renderTarget","elementId"])),n(1).createElement("div",{className:n(8)(e.site,e.region,e.lang)},c?n(1).createElement("span",{className:"D(n)",dangerouslySetInnerHTML:{__html:"<style>"+c+"</style>"}}):null,n(1).createElement("div",{id:this.getRegionId("UH"),className:"YDC-UH",style:{height:t.slotHeight}},n(1).createElement("div",{id:this.getRegionId("UH",!0),className:n(8)("W(100%) Z(10)",{"Pos(f)":t.isFixed}),style:{height:t.height}},this.renderComposite(this.props.UH))),n(1).createElement("div",{id:this.getRegionId("Hero"),className:"YDC-Hero"},this.renderComposite(this.props.Hero)),n(1).createElement("div",{id:this.getRegionId("Side"),className:"YDC-Side Fl(start) W(200px) D(n)--md D(n)--sm"},n(1).createElement(n(513),a({enabled:o.isSticky},l),n(1).createElement("div",{id:this.getRegionId("Side",!0),style:{padding:o.ui.padding}},this.renderComposite(this.props.Side)))),n(1).createElement("div",{className:"MainCanvas Mstart(200px) Mstart(0)--md Mstart(0)--sm"},n(1).createElement("div",{id:this.getRegionId("Lead"),className:"YDC-Lead"},this.renderComposite(this.props.Lead)),n(1).createElement("div",{id:this.getRegionId("Col1"),style:{padding:i.ui.padding},className:"YDC-Col1"},n(1).createElement("div",{className:"Fl(start) W(100%) Mend(-340px) Mend(0)--sm"},n(1).createElement("div",{id:this.getRegionId("Col1",!0),className:"YDC-Col1-Stack Mend(340px) Mend(0)--sm"},this.renderComposite(this.props.Col1)))),n(1).createElement("div",{id:this.getRegionId("Col2"),className:"YDC-Col2 Fl(start) W(340px) D(n)--sm"},n(1).createElement(n(513),a({enabled:s.isSticky},u),n(1).createElement("div",{id:this.getRegionId("Col2",!0),className:"YDC-Col2-Stack",style:{padding:s.ui.padding}},this.renderComposite(this.props.Col2))))),n(1).createElement("div",{id:this.getRegionId("Bottom"),className:"YDC-Bottom Cl(b)"},this.renderComposite(this.props.Bottom)))}})},2051:function(e,t,n){function r(e,t){for(var n=e.length;n--&&a(t,e[n],0)>-1;);return n}var a=n(207);e.exports=r},2052:function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&a(t,e[n],0)>-1;);return n}var a=n(207);e.exports=r},2053:function(e,t,n){"use strict";e.exports=n(4)({displayName:"WeatherMyLocation",mixins:[n(19)],statics:{ignoreAllWarnings:!0,storeListeners:[n(1341)],initializeAction:n(1389),componentConfig:{name:"componentWeather"}},contextTypes:{session:n(0).object,weatherConfig:n(0).object},propTypes:{id:n(0).string},getInitialState:function(){return this.store=this.getStore(n(1341)),{favoriteLocations:this.store.getFavoriteLocations()}},onChange:function(){return{favoriteLocations:this.store.getFavoriteLocations()}},shouldComponentUpdate:function(e,t){return n(196)(this,e,t)},renderList:function(e){var t=this,r=n(23)(t.context,["session","dimensions","lang"],"en-US");if(!e.length)return n(1).createElement("li",{className:"My(10px) C(#fff) P(0) Ta(start) Bdw(0) Fz(14px) List(n)"},n(1).createElement(n(34).Icon,{className:"Mend(6px) Cur(a)!",asset:n(2054),color:"#fff",width:20,height:20,style:{verticalAlign:"middle"}}),n(1).createElement(n(36).FormattedMessage,{id:"WEATHER_ADD_TO_MY_LOCATIONS_PROMPT"}));var a=n(116)(e,function(e){var t=n(1401).buildRouteParam({country:e.country,state:e.state,city:e.city,woeid:e.woeid});return n(1).createElement("li",{key:e.woeid,className:"My(10px) smartphone_D(ib) smartphone_W(50%)"},n(1).createElement(n(296),{routeName:t.routeName,navParams:t.params,className:"C(#fff) P(0) Ta(start) Bdw(0) Fz(14px)"},e.city))});return n(1).createElement("ul",{className:"My(10px) Tsh($temperature-text-shadow)"},a,n(1).createElement("li",{className:"My(10px) Fz(14px)"},n(1).createElement(n(29).I13nAnchor,{href:"https://settings.yahoo.com/locations?lang="+r,className:"C(#fff) Fw(500)"},n(1).createElement(n(34).Icon,{asset:n(1663),className:"Mend(6px)",color:"#fff",width:16,height:16,style:{verticalAlign:"middle"}}),n(1).createElement(n(36).FormattedMessage,{id:"MANAGE_LOCATION"}))))},render:function(){var e=n(23)(this.props,["componentConfig","ui","hasMargin"]);return n(1).createElement(n(1360),{id:this.props.id,title:n(1).createElement(n(36).FormattedMessage,{id:"WEATHER_MY_LOCATIONS"}),hasMargin:e,type:"my-location"},this.renderList(this.state.favoriteLocations))}})},2054:function(e,t){if(void 0===n)var n={};n.help={name:"help",height:48,width:48,path:"M22.993 35.28a2 2 0 1 0 4 0 2 2 0 1 0-4 0zM24.993 2.28c-12.13 0-22 9.87-22 22s9.87 22 22 22 22-9.868 22-22c0-12.13-9.87-22-22-22zm0 40c-9.925 0-18-8.074-18-18s8.075-18 18-18 18 8.074 18 18-8.075 18-18 18zM24.993 11.28c-4.41 0-8 3.59-8 8 0 1.105.896 2 2 2s2-.895 2-2c0-2.205 1.794-4 4-4s4 1.795 4 4c0 2.206-1.794 4-4 4-1.104 0-2 .896-2 2v2.438c0 1.105.896 2 2 2s2-.895 2-2v-.7c3.444-.892 6-4.017 6-7.736 0-4.412-3.59-8.002-8-8.002z"},void 0!==e&&e.exports&&(e.exports=n.help)},2055:function(e,t,n){"use strict";function r(){return y=p(n(1))}function a(){return b=n(36)}function o(){return w=n(80)}function i(){return C=p(n(296))}function s(){return x=p(n(329))}function c(){return T=p(n(1360))}function l(){return _=p(n(1193))}function u(){return N=p(n(23))}function d(){return S=p(n(8))}function f(){return O=p(n(196))}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var v,y,E,b,w,C,x,T,_,N,S,M,O,P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),L=function(e){function t(e,n){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.store=n.getStore((_||l()).default),r._onStoreChange=r._onStoreChange.bind(r),r.state={videos:r.store.getVideos()},r}return g(t,e),I(t,[{key:"_onStoreChange",value:function(){this.setState({videos:this.store.getVideos()})}},{key:"componentDidMount",value:function(){this.store.addChangeListener(this._onStoreChange)}},{key:"componentWillUnmount",value:function(){this.store.removeChangeListener(this._onStoreChange)}},{key:"shouldComponentUpdate",value:function(e,t){return(0,(O||f()).default)(this,e,t)}},{key:"renderVideo",value:function(e,t){var n=(0,(N||u()).default)(e,["thumbnail","resolutions",0]);return n?(y||r()).default.createElement("div",{key:t,className:(0,(S||d()).default)("D(ib) Pos(r) W(80%) Maw(450px) Whs(n)",{"Mstart(5px)":0!==t})},(y||r()).default.createElement((w||o()).Img,{className:"W(100%) Bgr(nr) Bgz(ct) H(0) Pb(9/16)",nodeName:"div",url:n.url}),(y||r()).default.createElement("h2",{className:"Pos(a) B(0) W(100%) Bgc(#000.6) Fz(15px) P(10px) Bxz(bb)"},e.title),(y||r()).default.createElement((x||s()).default,{type:"video"}),(y||r()).default.createElement((C||i()).default,{className:"StretchedBox",target:"_blank",href:e.link})):null}},{key:"render",value:function(){var e=this.state.videos;if(!e||!e.length)return null;var t=(y||r()).default.createElement((w||o()).Img,{url:"https://s.yimg.com/os/weather/1.0.1/provider/twc.jpg",className:"D(ib) Va(m) Mend(10px)",width:24,height:24});return(y||r()).default.createElement((T||c()).default,P({title:(y||r()).default.createElement((b||a()).FormattedMessage,{id:"WEATHER_VIDEOS"}),type:"videos"},this.props,{logo:t}),(y||r()).default.createElement("div",{className:"Whs(nw) Ovx(s) Ovs(touch)"},e.map(this.renderVideo)))}}]),t}((E||function(){return E=n(1)}()).Component);L.displayName="WeatherVideoList",L.initializeAction=(M||function(){return M=p(n(2056))}()).default,L.componentConfig={name:"componentWeather"},L.contextTypes={getStore:(v||function(){return v=p(n(0))}()).default.func.isRequired},t.default=L,e.exports=t.default},2056:function(e,t,n){"use strict";var r=n(3)("WeatherActions:getWeatherVideos");e.exports=function(e,t,n){r("Execute action",t),e.service.read("WeatherVideos",{},null,function(t,r){if(t||!r)return e.dispatch("GET_WEATHER_VIDEOS_FAILURE"),n&&n();e.dispatch("GET_WEATHER_VIDEOS_SUCCESS",r),n&&n(null,r)})}}});