webpackJsonp([56],{1287:function(e,t,n){e.exports={controllerViews:{Userintent:n(1743),UserintentPanel:n(1614),UserintentConfirm:n(1744),UserintentManagement:n(2348)},stores:{UserintentStore:n(531)}}},1334:function(e,t,n){"use strict";function s(e,t){if(!i[e])throw new Error('There is no I13nModel for "'+e+'"');return t?Object.assign({},i[e],t):i[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.I13nButton=void 0,t.getI13nModel=s;var i={userintentBtn:{sec:"strm",slk:"",elm:"open-usr-int",elmt:"btn",itc:1},discoverClose:{sec:"strm",slk:"_",subsec:"userintent",elm:"dismiss-tooltip",elmt:"click",itc:1},confirmManage:{sec:"strm",slk:"confirm_manage",elm:"btn",itc:1},confirmSignin:{sec:"strm",slk:"Sign In",elm:"undo",elmt:"click",itc:0},confirmUndo:{sec:"strm",slk:"",elm:"undo",elmt:"click",itc:1},panelClick:{sec:"strm",slk:"",elm:"",elmt:"click",itc:1},managementClick:{sec:"userintentmgmt",slk:"",elmt:"click"},managementClose:{sec:"userintentmgmt",slk:"Done",elmt:"click"}};t.I13nButton=(0,n(29).createI13nNode)("button",{bindClickEvent:!0,isLeafNode:!1})},1507:function(e,t){if(void 0===n)var n={};n["dislike-heart"]={name:"dislike-heart",height:14,width:16,path:"M1.253 3.196l9.054 9.053L8 14.666 1.774 8.142c-1.276-1.34-1.45-3.408-.52-4.946zm.874-1.01c.672-.553 1.494-.853 2.363-.853 2.125 0 3.117 1.694 3.51 2.016.406-.332 1.375-2.017 3.51-2.017 1.028 0 1.994.42 2.717 1.18 1.475 1.552 1.475 4.077 0 5.628l-3 3.144-9.1-9.1z"},void 0!==e&&e.exports&&(e.exports=n["dislike-heart"])},1614:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=s(n(1)),u=(s(n(0)),s(n(512))),c=s(n(1507)),d=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),o(t,[{key:"handleClickOutside",value:function(e){var t=this.props,n=t.showPanel,s=t.hidePanelAction;n&&s()}},{key:"render",value:function(){var e=this.props,t=e.uuid,s=e.intl,i=e.isMuted,r=e.publisher,a=e.userPreferenceAction,o=i?"#ff6368":"#ccc",u=(i?s.formatMessage({id:"UNDO"}):"")+" "+s.formatMessage({id:"SHOW_LESS_OF"},{publisher:r});return l.default.createElement("div",{className:"userintent-panel Pos(a) T(-15px) End(30px) Px(8px) Py(12px) W(210px) Mih(30px) Ov(h) Bgc(#fff) Bdrs(2px) Bxsh(userintentBoxshadow)",key:"userintent-panel-"+t},l.default.createElement(n(1334).I13nButton,{onClick:a,i13nModel:(0,n(1334).getI13nModel)("panelClick",{slk:r,elm:i?"undo":"mute"}),role:"button",className:"Pos(r) P(0) D(b) Bdw(0) Ta(start) Fz(15px) O(n):f C(#000)"},l.default.createElement(n(34).Icon,{className:"Fl(start) Mend(10px) Mb(22px) Cur(p)",asset:c.default,color:o,height:22,width:22}),u,l.default.createElement("div",{className:"Fz(11px) C(gray-light) Fw(200) Pt(5px)"},s.formatMessage({id:"SEE_LESS_OF_NEWS_LIKE_THIS"}))))}}]),t}(n(1).PureComponent);t.default=(0,u.default)(d),e.exports=t.default},1743:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),a=s(n(4)),o=s(n(93)),l=s(n(1614)),u=s(n(19)),c=s(n(96)),d=s(n(531)),f=(0,a.default)({mixins:[u.default,c.default],displayName:"Userintent",statics:{storeListeners:[d.default],componentConfig:{name:"componentUserintent"}},propTypes:{className:i.default.string,index:i.default.number,intl:n(36).intlShape,config:i.default.object,uuid:i.default.string,publisher:i.default.string,publisherId:i.default.string,componentConfig:i.default.object},getDefaultProps:function(){return{className:"",index:1}},componentWillMount:function(){this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this)},componentDidMount:function(){var e=this.props.config;e=void 0===e?{}:e;var t=e.discoverIndex,n=void 0===t?1:t;this.state.inViewport||this.props.index!==n||this.onEnterViewport(this.handleEnterViewport.bind(this))},componentWillUnmount:function(){this.stopListeningToViewport()},stopListeningToViewport:function(){this.onEnterViewport(null)},handleEnterViewport:function(){var e=this.props.config;this.executeAction(n(506).setTooltipViews,{componentConfig:e}),this.setState({inViewport:!0}),this.stopListeningToViewport()},getData:function(){var e=this.props.publisher,t=this.stores.userintent,n=t&&t.getStateJson()||{},s=n.mutedPublishers;return n.isMuted=((void 0===s?{}:s)[e]||{}).muted||!1,n},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(d.default),this.executeAction(n(506).fetchCrumb),this.getData()},onChange:function(){this.setState(this.getData())},shouldRenderDiscover:function(){var e=this.props.config;e=void 0===e?{}:e;var t=e.discoverIndex;return this.props.index===(void 0===t?1:t)&&this.state&&this.state.showTooltip},shouldRenderPanel:function(){var e=this.props.uuid,t=this.state,n=t.target,s=t.showPanel;return this.state&&s&&n===e},handleDimissTooltip:function(e){var t=this.props.config;this.executeAction(n(506).setTooltipSeen,{componentConfig:t}),e.preventDefault()},handleShowPanel:function(e){var t=this.props,s=t.uuid,i=t.publisherId;this.executeAction(n(506).getMutedPublishers,{target:s,showPanel:!0,publisher:i}),e.preventDefault()},handleHidePanel:function(){this.executeAction(n(506).getMutedPublishers)},handleUserPreference:function(){var e=this.props,t=e.uuid,s=e.publisher,i=e.publisherId,r=this.state.isMuted;this.executeAction(n(506).managePreference,{target:t,isMuted:r,publisher:s,publisherId:i})},renderDiscover:function(){var e=this.props,t=e.uuid,s=e.intl,i={background:"rgba(0,0,0,.3)"};return this.shouldRenderDiscover()?r.default.createElement("div",{className:"userintent-tooltip Pos(a) P(12px) W(183px) End(0) Fw(200) Ta(start) H(a) Fz(12px) T(30px) Lh(1.5) Z(1) C(#fff) Bgc(#188fff) Bdrs(2px) Bxsh(userintentBoxshadow) Pos(a)::b End(6%)::b B(100%)::b W(0)::b H(0)::b Bd(userintentBorderTransparent)::b Bdbc(#188fff)::b Cnt(userintentEmpty)::b"},r.default.createElement("div",{className:"Fw(500)"},s.formatMessage({id:"DONT_LIKE_THIS_SOURCE"})),r.default.createElement("div",null,s.formatMessage({id:"CUSTOMIZE_HERE"})),r.default.createElement(n(29).I13nAnchor,{key:"userintent-close-"+t,className:"userintent-dimiss-tooltip D(b) O(n) Pos(a) T(30%) End(5%) Bdrs(10px) Mt(-10px)",style:i,href:"#",onTouchStart:this.handleDimissTooltip,onClick:this.handleDimissTooltip,i13nModel:(0,n(1334).getI13nModel)("discoverClose")},r.default.createElement(n(34).Icon,{className:"",asset:o.default,color:"#188fff",height:20,width:20}))):void 0},renderPanel:function(){var e=this.props,t=e.index,n=e.intl,s=e.uuid,i=e.publisher,a=e.publisherId,o=this.state,u=o.showPanel,c=o.isMuted,d={index:t,intl:n,showPanel:u,isMuted:c,uuid:s,publisher:i,publisherId:a,hidePanelAction:this.handleHidePanel,userPreferenceAction:this.handleUserPreference};return this.shouldRenderPanel()?r.default.createElement(l.default,d):void 0},render:function(){var e=this.props,t=e.uuid,s=e.publisher,i=e.className,a=void 0===i?"":i,o=this.handleShowPanel,l="userintent-btn-link Va(m) Td(n) Fz(21px) Lh(17px) C(#959595) C(#188fff):h D(ib) desktop_W(100%) Cnt(userintentEllipsis)::b "+a,u={key:"userintent-"+t,className:l,href:"#",onTouchStart:o,onClick:o,i13nModel:(0,n(1334).getI13nModel)("userintentBtn",{slk:s})};return r.default.createElement("div",{className:"userintent-wrapper Mt(6px) Pos(r)"},r.default.createElement(n(29).I13nAnchor,u),this.renderDiscover(),this.renderPanel())}});t.default=(0,n(36).injectIntl)(f),e.exports=t.default},1744:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),a=s(n(4)),o=s(n(19)),l=s(n(531)),u=(0,a.default)({mixins:[o.default],displayName:"UserintentConfirm",statics:{storeListeners:[l.default],componentConfig:{name:"componentUserintent"}},propTypes:{className:i.default.string,index:i.default.number,intl:n(36).intlShape,uuid:i.default.string,publisher:i.default.string,publisherId:i.default.string},getDefaultProps:function(){return{className:""}},getData:function(){var e=this.stores.userintent;return e&&e.getStateJson()||{}},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(l.default),this.executeAction(n(506).fetchCrumb),this.getData()},onChange:function(){this.setState(this.getData())},handleShowManagement:function(e){var t=this.props,s=t.uuid,i=t.publisherId;this.executeAction(n(506).getMutedPublishers,{target:s,showManagement:!0,publisher:i}),e.preventDefault()},handleUserPreference:function(e){var t=this.props,s=t.uuid,i=t.publisher,r=t.publisherId;this.executeAction(n(506).managePreference,{target:s,isMuted:!0,publisher:i,publisherId:r}),e.preventDefault()},render:function(){var e=this.props,t=e.uuid,s=e.intl,i=e.className,a=void 0===i?"":i,o=e.action,l=void 0===o?"":o,u=e.publisher,c=this.context.getStore("UserStore"),d=c.isSignedIn()||c.isRecognized(),f="show_more"===l?"YOU_WILL_SEE_MORE":"YOU_WILL_SEE_LESS",h=s.formatMessage({id:f},{publisher:u}),p=d?r.default.createElement(n(29).I13nAnchor,{key:"userintent-manage-"+t,className:"Fl(end) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleShowManagement,onClick:this.handleShowManagement,i13nModel:(0,n(1334).getI13nModel)("confirmManage")},s.formatMessage({id:"MANAGE_PUBLISHERS_SHORT"})):r.default.createElement("div",null,s.formatMessage({id:"SIGN_IN_TO_MANAGE_PUBLISHERS"}),r.default.createElement(n(29).I13nAnchor,{key:"userintent-signin-"+t,className:"Fz(14px) C($c-fuji-blue-1-a)",href:"https://login.yahoo.com/",i13nModel:(0,n(1334).getI13nModel)("confirmSignin")},s.formatMessage({id:"SIGN_IN"})));return r.default.createElement("div",{className:"Pos(r) userintent-confirm Bgc($c-fuji-grey-a) ($c-fuji-grey-c) Bds(s) Bdc($c-fuji-grey-c) Bdw(1px) Bdrs(2px) Px(14px) Py(12px) "+a,key:"userintent-confirm-"+t},r.default.createElement("h4",{className:"Fw(n) Fz(15px) Lh(24px)"},h,r.default.createElement(n(29).I13nAnchor,{key:"userintent-undo-"+t,className:"Mstart(5px) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleUserPreference,onClick:this.handleUserPreference,i13nModel:(0,n(1334).getI13nModel)("confirmUndo",{slk:u})},s.formatMessage({id:"UNDO"})),p))}});t.default=(0,n(36).injectIntl)(u),e.exports=t.default},2348:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),a=s(n(4)),o=s(n(93)),l=s(n(19)),u=s(n(531)),c=(0,a.default)({mixins:[l.default],displayName:"UserintentManagement",statics:{storeListeners:[u.default],componentConfig:{name:"componentUserintent"}},propTypes:{className:i.default.string,index:i.default.number,intl:n(36).intlShape,uuid:i.default.string},getDefaultProps:function(){return{className:""}},getData:function(){var e=this.stores.userintent,t=e&&e.getStateJson()||{},n=t.target,s=t.showManagement,i=t.mutedPublishers,r=void 0===i?{}:i,a=this.state||{},o=a.mappedPublishers;return!s||o&&Object.keys(o).length||(o=JSON.parse(JSON.stringify(r))),{target:n,showManagement:s,mutedPublishers:r,mappedPublishers:o}},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(u.default),this.executeAction(n(506).fetchCrumb),this.getData()},onChange:function(){this.setState(this.getData())},handleHideManagement:function(){this.setState({mappedPublishers:{}}),this.executeAction(n(506).getMutedPublishers,{showManagement:!1})},handlePublisherManagement:function(e,t,s){var i=this.state.target;this.executeAction(n(506).managePreference,{target:i,isMuted:s,publisher:e,publisherId:t,showManagement:!0,skipChangeDispatch:!0})},renderList:function(){var e=this,t=this.props.intl,s=this.state,i=s.mappedPublishers,a=s.mutedPublishers,l=Object.keys(i),u=l.map(function(s,l){var u=i[s].publisherIdData,c=i[s].publisherName,d=!!a[s];return r.default.createElement("li",{key:l+1,className:"Ov(h) Pb(22px) Mt(11px) Pt(11px) Bdbw(1px) Bdbs(s) Bdbc($c-fuji-grey-b)"},r.default.createElement("span",{className:"Fz(16px) D(ib)"},d?c:t.formatMessage({id:"REMOVED_PUBLISHER"},{publisher:c})),r.default.createElement(n(1334).I13nButton,{onClick:e.handlePublisherManagement.bind(e,c,u,d),i13nModel:(0,n(1334).getI13nModel)("managementClick",{slk:d?"Undo":"Mute"}),role:"button",className:"Fl(end) Pos(r) D(b) Bdw(0) P(0) Ta(start) O(n):f C($c-fuji-blue-1-a) H(22px)"},d?r.default.createElement(n(34).Icon,{asset:o.default,color:"#e0e4e9",height:22,width:22}):t.formatMessage({id:"UNDO"})))});return r.default.createElement("ul",{className:"Ovy(s) Mah(70%) Mih(70%)"},l.length&&u||r.default.createElement("li",{className:"Fz(16px) Pt(11px) Pb(11px)"},t.formatMessage({id:"NO_PUB_PREF"})))},render:function(){var e=this.props,t=e.className,s=void 0===t?"":t,i=e.intl,a=e.componentConfig;a=void 0===a?{}:a;var o=a.publisherPanelMoreDesc,l=void 0===o?"":o,u=this.state.showManagement,c="userintentmgmt-management Pos(a) T(0) End(0) B(0) Start(0) Pt(30px) Px(30px) Bgc(#fff) "+s;return u?r.default.createElement("div",{className:"userintentmgmt-management-wrapper Pos(f) T(100px) End(0) B(0) Start(0) W(700px) H(500px) My(0) Mx(a) Bxsh(userintentBoxshadow) Ov(h) Bdrs(2px)"},r.default.createElement("div",{className:c},r.default.createElement("div",{className:"Bxsh(userintentModalBoxshadow) Pb(16px) Mx(-30px)"},r.default.createElement("h2",{className:"Fz(20px) Ta(c)"},i.formatMessage({id:"PUBLISHER_PREFERENCE"})),r.default.createElement("p",{className:"Ta(c) Fz(14px) C($c-fuji-grey-h)"},i.formatMessage({id:"PUBLISHER_PANEL_DESC"})," ",l)),this.renderList(),r.default.createElement(n(1334).I13nButton,{onClick:this.handleHideManagement,i13nModel:(0,n(1334).getI13nModel)("managementClose"),role:"button",className:"Pos(a) B(25px) Bgc(#fff) Start(0) Py(12px) Bdt(1px) Bdts(s) Bdtc($c-fuji-grey-b) C($c-fuji-blue-1-a) W(100%)"},i.formatMessage({id:"DONE"})))):null}});t.default=(0,n(36).injectIntl)(c),e.exports=t.default}});