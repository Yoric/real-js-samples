webpackJsonp([44],{1236:function(e,t,n){e.exports={controllerViews:{Banner:n(2061),Bubble:n(2062),CountdownTimer:n(2065),Promo:n(2068)}}},2061:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=o(n(1)),l=o(n(4)),i=o(n(8));t.default=(0,l.default)({displayName:"Banner",propTypes:{componentConfig:r.default.object},contextTypes:{session:r.default.object},statics:{componentConfig:{name:"componentBubble"}},getInitialState:function(){return{showBanner:!0}},componentDidMount:function(){var e=this;setTimeout(function(){e.setState({showBanner:!1})},this.props.componentConfig.banner.bannerTimeout)},closeBanner:function(e){e&&e.stopPropagation(),this.setState({showBanner:!1})},renderCloseButton:function(){var e=this.props.componentConfig.banner||{},t=e.i13n,o=Object.assign({elm:"Close",itc:1},t);return a.default.createElement(n(29).I13nDiv,{className:(0,i.default)("Pos(a) Z(10) W(50px) H(50px) End(0)"),onClick:this.closeBanner.bind(this),i13nModel:o,bindClickEvent:!0})},render:function(){var e=this.props.componentConfig.banner||{},t=e.androidImg,o=e.bannerImgAlt,r=e.bannerImgUrl,l=e.i13n,s=e.iosImg,u=this.state.showBanner,c=this.context.session,f=void 0===c?{}:c,d=f.userAgent,p=void 0===d?{}:d,m=p.browserName,b=p.osName,h="android"===b,g="ios"===b;if(!(h&&"chrome mobile"===m||g&&"safari mobile"===m))return null;var v=Object.assign({elm:"Button"},l);return a.default.createElement("div",{className:(0,i.default)("tdv2-applet-banner D(ib) Cur(p) Pos(f) Start(0) B(0) M(0) Mb(0) Op(0.95) Trsdu(.5s) Trstf(ei)",{"W(100%)":u,"W(0)":!u})},this.renderCloseButton(),a.default.createElement(n(29).I13nAnchor,{href:r,i13nModel:v,rel:"noopener noreferrer",target:"_blank",className:"banner-link D(ib) Va(m) H(100%) Z(1) Pos(r)"},a.default.createElement(n(80).Img,{className:(0,i.default)("banner-img","W(100%)"),url:h?t:s,alt:o||"",title:o||""})))}}),e.exports=t.default},2062:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=(o(n(0)),o(n(1))),u=o(n(8)),c=o(n(296)),f=o(n(2063)),d=o(n(2064)),p=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.displayName="Bubble",n.config=e.componentConfig||{},n.state={isArrowLeft:!1,lockArrow:!0,showArrow:!1,showBubble:!1},n.toggleBubble=n.toggleBubble.bind(n),n.handleTransitionEnd=n.handleTransitionEnd.bind(n),n.collaspeBubble=n.collaspeBubble.bind(n),n.showInitialFlow=n.showInitialFlow.bind(n),n}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.refs.bubble;e&&(e.addEventListener("transitionend",this.handleTransitionEnd,!1),window.addEventListener("touchmove",this.collaspeBubble,!1),this.toggleBubble())}},{key:"componentWillUnmount",value:function(){var e=this.refs.bubble;e&&(e.removeEventListener("transitionend",this.handleTransitionEnd),e.removeEventListener("scroll",this.collaspeBubble))}},{key:"collaspeBubble",value:function(){this.setState({showBubble:!1})}},{key:"toggleBubble",value:function(){this.setState({showBubble:!this.state.showBubble})}},{key:"showInitialFlow",value:function(){this.setState({showArrow:!0,showBubble:!1})}},{key:"handleTransitionEnd",value:function(){if(!this.state.showArrow)return void setTimeout(this.showInitialFlow,3e3);this.setState({lockArrow:!1,isArrowLeft:!this.state.lockArrow&&!this.state.isArrowLeft})}},{key:"generateRapidDataAttr",value:function(){return{sec:"promo",itc:0}}},{key:"render",value:function(){var e=this.config,t=e.bubbleImg,o=e.bubbleUrl,r=e.followLink,a=e.bubbleImgAlt,l=e.bubbleStyle,i=e.bubbleTarget,p=e.bubbleImgStyle;if(!t)return null;var m=this.state,b=m.showBubble,h=m.isArrowLeft,g=m.lockArrow,v=m.showArrow,w=h?f.default:d.default;return s.default.createElement("div",{ref:"bubble",className:(0,u.default)("tdv2-applet-bubble D(ib) Cur(p) Pos(f) B(0) M(0) Mb(8px)",l,{"Start(0)":b,"Start(-207px)--xs Start(-315px)--ipad":!b})},s.default.createElement(c.default,{href:o,i13nModel:this.generateRapidDataAttr(),follow:r,rel:"noopener noreferrer",target:i,className:"bubble-link D(ib) Va(m) H(100%) Z(1) Pos(r)"},s.default.createElement(n(80).Img,{className:(0,u.default)("bubble-img H(100%)",p),url:t,alt:a||"",title:a||""})),v?s.default.createElement("div",{className:(0,u.default)("H(100%) W(30px) D(ib) Va(m) Bgc(#2654c2) Bdrstend(5%) Bdrsbend(5%)",{"Pos(f) Start(0) B(8px) H(45px)":g}),onTouchEnd:this.toggleBubble},s.default.createElement("div",{className:"overlay Pos(a) T(0) Start(0) W(100%) H(100%) Bgc(rgba(255,255,255,0.1))"}),s.default.createElement(n(34).Icon,{style:{transform:"translate(25%, -50%)scale(0.7,0.7)"},asset:w,height:"20",color:"rgba(255,255,255, 0.7)",className:"Pos(a) T(50%)"})):null)}}]),t}(n(1).Component);t.default=p,e.exports=t.default},2063:function(e,t){if(void 0===n)var n={};n["double-left"]={name:"double-left",height:48,width:48,path:"M14.605 23.995l9.813-9.813c.755-.757.767-2.023-.006-2.795-.78-.78-2.027-.777-2.795-.006L9 23.996l12.62 12.62c.757.756 2.023.767 2.796-.007.78-.78.777-2.025.006-2.796l-9.817-9.817zM26.605 23.995l9.813-9.813c.755-.757.767-2.023-.006-2.795-.78-.78-2.027-.777-2.795-.006L21 23.996l12.62 12.62c.757.756 2.023.767 2.796-.007.78-.78.777-2.025.006-2.796l-9.817-9.817z"},void 0!==e&&e.exports&&(e.exports=n["double-left"])},2064:function(e,t){if(void 0===n)var n={};n["double-right"]={name:"double-right",height:48,width:48,path:"M33.395 23.995l-9.813-9.813c-.755-.757-.767-2.023.006-2.795.78-.78 2.027-.777 2.795-.006L39 23.996l-12.62 12.62c-.757.756-2.023.767-2.796-.007-.78-.78-.777-2.025-.006-2.796l9.817-9.817zM21.395 23.995l-9.813-9.813c-.755-.757-.767-2.023.006-2.795.78-.78 2.027-.777 2.795-.006L27 23.996l-12.62 12.62c-.757.756-2.023.767-2.796-.007-.78-.78-.777-2.025-.006-2.796l9.817-9.817z"},void 0!==e&&e.exports&&(e.exports=n["double-right"])},2065:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),a=o(n(0)),l=o(n(4)),i=o(n(2066));t.default=(0,l.default)({displayName:"CountdownTimer",propTypes:{componentConfig:a.default.object},statics:{componentConfig:{name:"componentBubble"}},getInitialState:function(){return this.config=this.props.componentConfig||{}},generateRapidDataAttr:function(){return{sec:"countdown",itc:0}},render:function(){var e=this.config.countdown;return e.deadline?r.default.createElement("div",{className:"countdown-timer"},r.default.createElement(i.default,{deadline:e.deadline,daysText:e.daysText,hoursText:e.hoursText,minutesText:e.minutesText,secondsText:e.secondsText,showCountdown:e.showCountdown,headerText:e.headerText,renderOnServer:e.renderOnServer}),e.linkUrl?r.default.createElement(n(29).I13nAnchor,{className:"StretchedBox promolink",i13nModel:this.generateRapidDataAttr(),follow:e.followLink,href:e.linkUrl}):null):null}}),e.exports=t.default},2066:function(e,t,n){e.exports=n(2067)},2067:function(e,t,n){"use strict";e.exports=n(4)({displayName:"Countdown",propTypes:{classNames:n(0).string,deadline:n(0).number.isRequired,daysText:n(0).string,hoursText:n(0).string,headerText:n(0).string,minutesText:n(0).string,secondsText:n(0).string,renderOnServer:n(0).bool},getDefaultProps:function(){return{classNames:"W(100%) Mb(40px) colon",daysText:"Days",hoursText:"Hours",minutesText:"Minutes",secondsText:"Seconds",headerText:"First polls close in",renderOnServer:!1}},getInitialState:function(){this.state={onClientSide:!!this.props.renderOnServer};var e=this.calculateState();return Object.assign(this.state,e)},calculateState:function(e){var t=e||(new Date).getTime();return{now:t,showCountdown:t<this.props.deadline}},render:function(){var e=this.props,t=e.classNames,o=this.state,r=o.onClientSide,a=r?e.deadline:null,l=e.daysText,i=e.hoursText,s=e.minutesText,u=e.secondsText,c=o.showCountdown||e.showCountdown,f=e.headerText,d=o.now;if(!a||!c)return n(1).createElement("div",null);var p=a-d,m=this.calculateDiff(p);if("00"===m.diffSec&&"00"===m.diffMin&&"00"===m.diffHour&&"00"===m.diffDay)return this.clearInterval(),n(1).createElement("div",null);var b="colon_Cnt(colon)::a colon_Fz(26px)::a colon_C(#4a4a4a)::a colon_Mstart(8px)::a colon_Va(t)::a Pos(r) Pb(21px) Mend(18px)",h="Mend(3px) D(ib) Bdrs(3px) Fz(26px) P(4px)",g="Pos(a) Fz(11px) W(46px) Ta(c) B(0) Start(-3px) C(#4a4a4a)";return n(1).createElement("div",{className:t,id:"react-countdown"},f?n(1).createElement("h2",{className:"Fz(15px) Fw(b) Lh(27px) Mb(10px)"},f):null,n(1).createElement("span",{className:b},n(1).createElement("span",{className:n(8)(h,"C($c-fuji-blue-1-a)")},m.diffDay),n(1).createElement("span",{className:g},l)),n(1).createElement("span",{className:b},n(1).createElement("span",{className:n(8)(h,"C($c-fuji-red-2-a)")},m.diffHour),n(1).createElement("span",{className:g},i)),n(1).createElement("span",{className:b},n(1).createElement("span",{className:n(8)(h,"C($c-fuji-blue-1-a)")},m.diffMin),n(1).createElement("span",{className:g},s)),n(1).createElement("span",{className:"Pos(r) Pb(21px)"},n(1).createElement("span",{className:n(8)(h,"C($c-fuji-red-2-a)")},m.diffSec),n(1).createElement("span",{className:g},u)))},componentDidMount:function(){this.setInterval()},componentWillUnmount:function(){this.clearInterval()},setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.clearInterval();var e=this;this.intervalRef=setInterval(function(){var t=e.calculateState();t.onClientSide=!0,e.setState(t)},999)}),clearInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.intervalRef&&(clearInterval(this.intervalRef),this.intervalRef=null)}),calculateDiff:function(e){(!e||e<0)&&(e=0);var t=Math.floor(e/864e5),n=Math.floor(e/36e5)%24,o=Math.floor(e/6e4)%60,r=Math.floor(e/1e3)%60;return{diffDay:this.zeroFill(t),diffHour:this.zeroFill(n),diffMin:this.zeroFill(o),diffSec:this.zeroFill(r)}},zeroFill:function(e){return e>=100?e:("00"+e).slice(-2)}})},2068:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),a=o(n(0)),l=o(n(4)),i=o(n(8)),s=o(n(296));t.default=(0,l.default)({displayName:"Promo",propTypes:{componentConfig:a.default.object},statics:{componentConfig:{name:"componentBubble"}},getInitialState:function(){return{promoImg:this.props.componentConfig.promo.promoImg}},generateRapidDataAttr:function(){return{sec:"promo",itc:0}},componentDidMount:function(){this.props.componentConfig.promo.promoEnableRefresh&&this.setPromoInterval()},componentWillUnmount:function(){this.clearPromoInterval()},shouldComponentUpdate:function(e,t){return t.promoImg!==this.state.promoImg},setPromoInterval:function(){this.clearPromoInterval();var e=this,t=e.props.componentConfig.promo,n=e.state.promoImg+"?";this.intervalRef=setInterval(function(){e.setState({promoImg:n+Math.floor(Date.now()/parseInt(t.promoRefreshRate,10))})},t.promoRefreshRate)},clearPromoInterval:function(){this.intervalRef&&(clearInterval(this.intervalRef),this.intervalRef=null)},render:function(){var e=this.props.componentConfig.promo||{};return e.promoImg?r.default.createElement("div",{className:(0,i.default)("tdv2-applet-promo D(b) Cur(p) H(100%) Mb(30px)",e.promoStyle)},r.default.createElement(s.default,{href:e.promoUrl,i13nModel:this.generateRapidDataAttr(),follow:e.followLink,rel:"noopener noreferrer",target:e.promoTarget,className:"bubble-link Td(n)"},e.promoTitle?r.default.createElement("h3",{className:(0,i.default)("promo-title Fz(15px) Fw(b) Lh(27px) Mb(10px)",e.promoTitleStyle)},e.promoTitle):null,e.promoLogoImg?r.default.createElement(n(80).Img,{className:(0,i.default)("promo-logo-img D(b)",e.promoLogoImgStyle),url:e.promoLogoImg,forceLoad:e.forceLoad,alt:e.promoImgAlt||"",title:e.promoImgAlt||""}):null,r.default.createElement(n(80).Img,{className:(0,i.default)("promo-img D(b)",e.promoImgStyle),url:this.state.promoImg,forceLoad:e.forceLoad,alt:e.promoImgAlt||"",title:e.promoImgAlt||""})),e.promoEnableRefresh?r.default.createElement("div",{className:"C($c-fuji-grey-j) Ta(end) Fz(12px) Mt(20px)"},e.promoEnableText):null):null}}),e.exports=t.default}});