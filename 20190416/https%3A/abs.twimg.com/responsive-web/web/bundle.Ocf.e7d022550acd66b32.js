webpackJsonp(["bundle.Ocf"],{"/8xP":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("n12u");var a=o(n("x5lS")),r=o(n("GiK3")),i=o(n("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083h2.146C7.633 3.17 9.722 2 12 2c2.277 0 4.367 1.17 5.562 3.083h2.146C20.972 5.083 22 6.11 22 7.375v12.333C22 20.972 20.972 22 19.708 22zM4.292 6.583c-.437 0-.792.355-.792.792v12.333c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V7.375c0-.437-.355-.792-.792-.792h-2.45c-.317.05-.632-.095-.782-.382-.88-1.665-2.594-2.7-4.476-2.7-1.883 0-3.598 1.035-4.476 2.702-.16.302-.502.46-.833.38H4.293z"}),r.default.createElement("path",{d:"M12 8.167c-2.68 0-4.86 2.18-4.86 4.86s2.18 4.86 4.86 4.86 4.86-2.18 4.86-4.86-2.18-4.86-4.86-4.86zm2 5.583h-1.25V15c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.25H10c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h1.25V11c0-.414.336-.75.75-.75s.75.336.75.75v1.25H14c.414 0 .75.336.75.75s-.336.75-.75.75z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},"/SMD":function(e,t,n){"use strict";var a=n("IfHf"),r=n("R6lU");t.__esModule=!0,t.default=void 0,n("SU+a");var i=r(n("86MP")),o=r(n("fKPv")),s=r(n("Mpbj")),l=r(n("/Btz")),u=r(n("thTC")),c=r(n("B4q1")),d=r(n("0Ynt")),p=r(n("fQFk")),f=r(n("jYKd")),h=(n("wV7v"),a(n("GiK3"))),m=r(n("MjES")),_=(r(n("5nt5")),function(e){function t(){return e.apply(this,arguments)||this}(0,i.default)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.accessibilityLabel,n=e.compact,a=e.onClick,r=e.selected,i=e.style,o=e.text,l=this._renderIcon(),u=[g.root,n&&g.compact,r&&g.selected,i],c=d.default.generate({backgroundColor:r?f.default.theme.colors.blue:"transparent",color:f.default.theme.colors[r?"white":"blue"]});return h.default.createElement(p.default,{accessibilityLabel:t,interactiveStyles:c,onPress:a,style:u},h.default.createElement(m.default,{style:g.content},h.default.createElement(s.default,{color:r?"white":"blue",selectable:!1},o),l))},n._renderIcon=function(){var e=this.props,t=e.mode,n=e.selected,a=[g.icon,n&&g.iconSelected];switch(t){case"remove":return h.default.createElement(u.default,{style:a});case"expand":return h.default.createElement(c.default,{style:a});case"active":return h.default.createElement(l.default,{style:a});default:return null}},t}(h.PureComponent));(0,o.default)(_,"defaultProps",{compact:!1,selected:!1}),_.propTypes={};var g=f.default.create(function(e){return{root:{backgroundColor:e.colors.cellBackground,borderColor:e.colors.blue,borderRadius:e.borderRadii.infinite,borderStyle:"solid",borderWidth:"1px",minHeight:e.spaces.xLarge,paddingHorizontal:e.spaces.medium},content:{alignItems:"center",flexDirection:"row",flexGrow:1,flexWrap:"nowrap"},compact:{minHeight:e.spaces.large,paddingHorizontal:e.spaces.small},selected:{backgroundColor:e.colors.blue},icon:{color:e.colors.textBlue,marginLeft:e.spaces.xxSmall},iconSelected:{color:e.colors.white}}}),b=_;t.default=b},"/Y4e":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("n12u");var a=o(n("x5lS")),r=o(n("GiK3")),i=o(n("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M19.75 22H4.25C3.01 22 2 20.99 2 19.75V4.25C2 3.01 3.01 2 4.25 2h15.5C20.99 2 22 3.01 22 4.25v15.5c0 1.24-1.01 2.25-2.25 2.25zM4.25 3.5c-.413 0-.75.337-.75.75v15.5c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V4.25c0-.413-.337-.75-.75-.75H4.25z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},"1KDF":function(e,t,n){"use strict";var a=n("IfHf"),r=n("R6lU");t.__esModule=!0,t.default=void 0,n("SU+a");var i=r(n("lt8z")),o=r(n("86MP")),s=r(n("M1I4")),l=r(n("fKPv")),u=a(n("duuB")),c=a(n("o7y2")),d=r(n("GiK3")),p=r(n("vuwl")),f=r(n("W3GO")),h=r(n("0Ynt")),m=r(n("O27J")),_=r(n("jYKd")),g=r(n("a05n")),b=r(n("MjES")),v=function(e){function t(t,n){var a;return a=e.call(this,t,n)||this,(0,l.default)((0,s.default)((0,s.default)(a)),"_sliderLength",1),(0,l.default)((0,s.default)((0,s.default)(a)),"_isActive",!1),(0,l.default)((0,s.default)((0,s.default)(a)),"_keyPressValueDelta",1),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleRootRef",function(e){var t=m.default.findDOMNode(e);t instanceof window.HTMLElement&&(a._removeTouchMoveToScrollListener=(0,p.default)(t,"touchmove",a._handleTouchMoveToScroll,!1))}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleLayout",function(e){var t=a.props.isVertical;a._sliderLength=e.nativeEvent.layout[t?"height":"width"]}),(0,l.default)((0,s.default)((0,s.default)(a)),"_resetKeyPressValueDelta",function(){var e=a.props,t=e.min,n=e.max,r=e.step;a._keyPressValueDelta="number"==typeof r?r:.001*(n-t)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleKeyUp",function(e){a._resetKeyPressValueDelta()}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleKeyDown",function(e){var t=a.props,n=t.keyboardStep,r=t.min,i=t.max,o=t.step,s=t.value,l=e.altKey,u=e.ctrlKey,c=e.metaKey;if(!(l||u||c)){var d="ArrowUp"===e.key||"ArrowRight"===e.key,p="ArrowDown"===e.key||"ArrowLeft"===e.key;if(d||p){var f=s;if(n)f=a._normalizeValue(s+n*(d?1:-1));else{var h=.05*(i-r);"number"==typeof o&&h<o&&(h=o);var m=Math.min(a._keyPressValueDelta,h)*(d?1:-1);a._keyPressValueDelta*=1.4,f=a._normalizeValue(s+m)}a._triggerChange(f),f!==r&&f!==i||a._resetKeyPressValueDelta(),e.preventDefault()}}}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleMouseDown",function(e){e.preventDefault()}),(0,l.default)((0,s.default)((0,s.default)(a)),"_normalizeValue",function(e){var t=a.props,n=t.min,r=t.max,i=a._roundToMultipleOfStep(e);return Math.max(n,Math.min(i,r))}),(0,l.default)((0,s.default)((0,s.default)(a)),"_roundToMultipleOfStep",function(e){var t=a.props.step;return"number"==typeof t?t*Math.round(e/t):e}),(0,l.default)((0,s.default)((0,s.default)(a)),"_triggerChange",function(e){(0,a.props.onChange)(a._normalizeValue(e))}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleStartShouldSetPanResponder",function(e,t){return!0}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleMoveShouldSetPanResponder",function(e,t){return!0}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handlePanResponderGrant",function(e,t){var n=a.props,r=n.isVertical,i=n.min,o=r?a._getLocationY(e):a._getLocationX(e),s=a._normalizeValue(i+a._scaleLengthByMinMaxRatio(o));a._triggerChange(s),a._valueOnGrant=s,a._setActive(!0)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_scaleLengthByMinMaxRatio",function(e){var t=a.props,n=t.min,r=t.max;return e/a._sliderLength*(r-n)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_getLocationX",function(e){var t=e.currentTarget,n="function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{left:0};return e.nativeEvent.pageX-window.pageXOffset-(n&&n.left||0)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_getLocationY",function(e){var t=e.currentTarget,n="function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{top:0},r=e.nativeEvent.pageY-window.pageYOffset-(n&&n.top||0);return a._sliderLength-r}),(0,l.default)((0,s.default)((0,s.default)(a)),"_setActive",function(e){var t=a.props.onActive;a._isActive=e,t&&t(a._isActive)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleTouchMoveToScroll",function(e){e.preventDefault()}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handlePanResponderChange",function(e){var t=0;t=a.props.isVertical?-1*e.dy:e.dx,a._triggerChange(a._valueOnGrant+a._scaleLengthByMinMaxRatio(t))}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handlePanResponderMove",function(e,t){a._handlePanResponderChange(t)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handlePanResponderEnd",function(e,t){a._handlePanResponderChange(t),a._setActive(!1)}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleFocusRingGained",function(){a.setState({focused:!0})}),(0,l.default)((0,s.default)((0,s.default)(a)),"_handleFocusRingLost",function(){a.setState({focused:!1})}),a.state={focused:!1},a._resetKeyPressValueDelta(),a._panResponder=g.default.create({onStartShouldSetPanResponder:a._handleStartShouldSetPanResponder,onMoveShouldSetPanResponder:a._handleMoveShouldSetPanResponder,onPanResponderGrant:a._handlePanResponderGrant,onPanResponderMove:a._handlePanResponderMove,onPanResponderRelease:a._handlePanResponderEnd,onPanResponderTerminate:a._handlePanResponderEnd}),a}(0,o.default)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._removeTouchMoveToScrollListener&&this._removeTouchMoveToScrollListener()},n.render=function(){var e=this,t=this.props,n=t.accessibilityLabel,a=t.accessibilityLabelValueText,r=t.color,o=t.isVertical,s=t.min,l=t.minIcon,p=t.max,m=t.maxIcon,g=t.withHidingThumb,v=t.value,k=_.default.theme.colors[r],w=c.cssToRgba(k),S=u.translucent({color:w,percent:.33,replace:!0}),C=c.rgbaToCss(S),E=h.default.generate({backgroundColor:_.default.theme.colors.transparent,color:k}),x={backgroundColor:C},I={backgroundColor:k};return d.default.createElement(b.default,{style:[y.root,o&&y.verticalRoot]},o&&m?d.default.createElement(b.default,{style:y.maxIconVerticalMargin},m):!o&&l?d.default.createElement(b.default,{style:y.minIconHorizontalMargin},l):null,d.default.createElement(f.default,null,function(t){var r,l=t.isHovered,u=e.state.focused||e._isActive,c=g&&!l&&!u,h=(v-s)/(p-s),m={flexGrow:h},_=((r={})[o?"bottom":"left"]=100*h+"%",r);return d.default.createElement(b.default,(0,i.default)({style:[y.slider,o?y.verticalSlider:y.horizontalSlider]},e._panResponder.panHandlers,{onLayout:e._handleLayout,ref:e._handleRootRef}),d.default.createElement(b.default,{style:[y.track,o?y.verticalTrack:y.horizontalTrack,c&&(o?y.verticalTrackWithHiddenThumb:y.horizontalTrackWithHiddenThumb),x]},d.default.createElement(b.default,{style:[y.progress,I,m]}),d.default.createElement(f.default,{onFocusRingGained:e._handleFocusRingGained,onFocusRingLost:e._handleFocusRingLost},function(t){var r=t.isHovered,i=(t.isPressed,t.hasFocusRing);return d.default.createElement(b.default,{accessibilityLabel:n,accessibilityRole:"slider",accessible:!0,"aria-valuemax":p,"aria-valuemin":s,"aria-valuenow":v,"aria-valuetext":a||v,onKeyDown:e._handleKeyDown,onKeyUp:e._handleKeyUp,onMouseDown:e._handleMouseDown,style:[y.thumbButton,o?y.verticalThumbButton:y.horizontalThumbButton,E.transitionStyle,(i||r)&&E.hoverStyle,u&&E.pressedStyle,i&&E.focusRingStyle,_]},d.default.createElement(b.default,{style:[y.thumb,c&&y.thumbHidden,u&&y.thumbActive,I]}))})))}),o&&l?d.default.createElement(b.default,{style:y.minIconVerticalMargin},l):!o&&m?d.default.createElement(b.default,{style:y.maxIconHorizontalMargin},m):null)},t}(d.default.Component);(0,l.default)(v,"defaultProps",{color:"blue",step:1});var y=_.default.create(function(e){return{root:{userSelect:"none",flexDirection:"row",alignItems:"center"},verticalRoot:{flexDirection:"column",flexGrow:1},minIconHorizontalMargin:{marginRight:e.spaces.xSmall},maxIconHorizontalMargin:{marginLeft:e.spaces.xSmall},maxIconVerticalMargin:{marginBottom:e.spaces.xSmall},minIconVerticalMargin:{marginTop:e.spaces.xSmall},slider:{cursor:"pointer",flexGrow:1,alignItems:"center"},verticalSlider:{width:e.spaces.medium,flexDirection:"column"},horizontalSlider:{height:e.spaces.medium,flexDirection:"row"},track:{backgroundColor:e.colors.lightGray,borderRadius:e.borderRadii.medium,flexGrow:1,alignItems:"center"},verticalTrack:{width:e.spaces.xxSmall,flexDirection:"column",justifyContent:"flex-end"},horizontalTrack:{height:e.spaces.xxSmall,flexDirection:"row"},verticalTrackWithHiddenThumb:{width:"calc("+e.spaces.xxSmall+" / 2)"},horizontalTrackWithHiddenThumb:{height:"calc("+e.spaces.xxSmall+" / 2)"},progress:{backgroundColor:e.colors.blue,borderRadius:e.borderRadii.medium,alignSelf:"stretch"},thumbButton:{borderRadius:e.borderRadii.infinite,cursor:"pointer",height:e.spaces.large,width:e.spaces.large,alignItems:"center",justifyContent:"center",position:"absolute"},verticalThumbButton:{marginBottom:"calc(-1 * ("+e.spaces.large+" / 2))"},horizontalThumbButton:{marginLeft:"calc(-1 * ("+e.spaces.large+" / 2))"},thumb:{backgroundColor:e.colors.white,height:e.spaces.small,width:e.spaces.small,borderRadius:e.borderRadii.infinite,transitionProperty:"transform",transitionDuration:"0.1s",transform:[{scale:1}]},thumbActive:{transform:[{scale:1.2}]},thumbHidden:{transform:[{scale:0}]},whiteThumb:{backgroundColor:e.colors.blue},blueThumb:{backgroundColor:e.colors.blue}}}),k=v;t.default=k},"2Uj9":function(e,t,n){"use strict";n.d(t,"k",function(){return F}),n.d(t,"r",function(){return N}),n.d(t,"j",function(){return L}),n.d(t,"i",function(){return B}),n.d(t,"n",function(){return U}),n.d(t,"o",function(){return V}),n.d(t,"p",function(){return z}),n.d(t,"h",function(){return q}),n.d(t,"q",function(){return G}),n.d(t,"l",function(){return H}),n.d(t,"m",function(){return Y}),n.d(t,"b",function(){return K}),n.d(t,"s",function(){return X}),n.d(t,"v",function(){return Q}),n.d(t,"f",function(){return J}),n.d(t,"t",function(){return $}),n.d(t,"c",function(){return ee}),n.d(t,"x",function(){return te}),n.d(t,"a",function(){return ne}),n.d(t,"g",function(){return ae}),n.d(t,"u",function(){return re}),n.d(t,"d",function(){return ie}),n.d(t,"e",function(){return oe}),n.d(t,"w",function(){return se});var a,r=n("FaZr"),i=(n.n(r),n("Z8+c")),o=n.n(i),s=n("fx22"),l=(n.n(s),n("WgSQ")),u=(n.n(l),n("tJwI")),c=(n.n(u),n("y9m4")),d=(n.n(c),n("WpTh")),p=(n.n(d),n("n12u")),f=(n.n(p),n("d39v")),h=n("3vh8"),m=n.n(h),_=n("DnGj"),g=n("zAiL"),b=n("ipg4"),v=n("IIth"),y=n("GXZf"),k=n("pVDu"),w=Object(v.a)("rweb/ocf","FETCH"),S=Object(v.a)("rweb/ocf","START"),C="rweb/ocf/CLEAR",E="rweb/ocf/UPDATE",x="rweb/ocf/NAVIGATE",I="rweb/ocf/RESUME",R="rweb/ocf/ATTRIBUTE",P=Object(v.a)("rweb/ocf","VERIFY_IDENTIFIER"),T=m()(["signup"]),O=n("rOku"),A={currentSubtask:null,failureMessage:"",fetchStatus:g.a.NONE,flowName:null,flowToken:null,shouldAbort:!1,shouldEndFlow:!1,submitFailed:!1,startLocation:{},subtasks:[],subtaskInputs:{},navigationContext:{action:""},navigationStack:[],flowData:{}},M=function(e,t){var n=e===_.a.Offline||e===f.a.ValidationFailure||e===f.a.OnboardingFlowRetriableFailure,a=!!t&&!k.j.has(Object(y.e)(t));return n&&a},j=function(e){var t=e&&Object(y.e)(e);return t===k.m.EmailVerification||t===k.m.PhoneVerification},D=function(e){return e===f.a.ValidationFailure||e===f.a.OnboardingFlowFailure||e===f.a.OnboardingFlowRetriableFailure};b.a.register(((a={}).ocf=function(e,t){switch(void 0===e&&(e=A),t.type){case S.REQUEST:return Object.assign({},A,{fetchStatus:g.a.LOADING,flowName:t.meta.flowName,startLocation:e.startLocation});case w.REQUEST:return Object.assign({},e,{fetchStatus:g.a.LOADING,submitFailed:!1});case x:var n=t.payload,a=n.navigationContext,r=n.navigationStack,i=n.sendPinCode,o=n.subtaskInputs,s=Object.assign({},e.subtaskInputs);for(var l in s)o[l]&&delete s[l];return Object.assign({},e,{currentSubtask:e.subtasks.find(function(e){return e.subtask_id===t.payload.subtaskId}),navigationContext:a,subtaskInputs:s,submitFailed:!1,navigationStack:r,sendPinCode:i});case R:return Object.assign({},e,{startLocation:t.payload});case E:var u=t.payload,c=u.subtaskInputs,d=u.flowData;return Object.assign({},e,{subtaskInputs:Object.assign({},e.subtaskInputs,c),flowData:Object.assign({},e.flowData,d)});case S.FAILURE:var p=t.payload.errors[0].code,f=t.payload.errors[0].message,h=p!==_.a.Offline,m=D(p)?f:void 0;return Object.assign({},e,{fetchStatus:g.a.FAILED,failureMessage:m,shouldAbort:h});case w.FAILURE:var b=t.payload.errors[0].code,v=t.payload.errors[0].message,y=D(b)?v:void 0,k=!M(b,e.currentSubtask);return Object.assign({},e,{fetchStatus:g.a.LOADED,failureMessage:y,shouldAbort:k,submitFailed:!0});case S.SUCCESS:case w.SUCCESS:var T=t.payload,O=T.flow_token,F=T.subtasks,N=(t.meta||{}).isTaskNavigation,L=F&&F.length?F[0]:null,B=j(L),U=!!N&&!L;return Object.assign({},e,{currentSubtask:L,fetchStatus:g.a.LOADED,flowToken:O,sendPinCode:B,shouldEndFlow:U,submitFailed:!1,subtasks:F,subtaskInputs:{},navigationStack:L?[L.subtask_id]:[]});case C:return Object.assign({},A);case I:return t.payload;case P.REQUEST:return Object.assign({},e,{sendPinCode:!1});default:return e}},a));var F=function(e){return e.ocf.flowToken},N=function(e){return e.ocf.subtasks},L=function(e){return e.ocf.fetchStatus},B=function(e){return e.ocf.failureMessage},U=function(e){return e.ocf.shouldAbort},V=function(e){return e.ocf.shouldEndFlow},z=function(e){return e.ocf.submitFailed},q=function(e){return e.ocf.currentSubtask},G=function(e){return e.ocf.subtaskInputs},H=function(e){return e.ocf.navigationContext},W=function(e){return e.ocf.navigationStack},Y=function(e){var t=W(e),n=t?t.length:0;if(n<=1)return null;var a=e.ocf.subtasks.find(function(e){return e.subtask_id===t[n-2]});return a.alert_dialog?t[n-3]:t[n-2]},K=function(e){var t=(void 0===e?{}:e).clearPersistence;return function(e,n,a){var r=a.userPersistence;t&&r.set("rweb/ocf",{}),e({type:C})}},X=function(e){return void 0===e&&(e={}),function(t,n,a){a.api;var r=a.userPersistence,i=e.flow_name;return(T.has(i)?r.get("rweb/ocf",36e5):Promise.resolve(void 0)).then(function(n){return i&&n&&n[i]?t({payload:n[i],type:I}):t(Z(e))})}},Z=function(e){return void 0===e&&(e={}),function(t,n,a){var r=a.api,i=a.userPersistence,o=e.flow_name;return Object(v.b)(t,{params:e,request:r.Ocf.task})({actionTypes:S,context:"START_FLOW",meta:{flowName:o}}).then(function(e){var t;T.has(o)&&"success"===e.status&&i.set("rweb/ocf",((t={})[o]=n().ocf,t));return e})}},Q=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(a,r){var i,o=((i={})[e]=t,i);a({type:E,payload:{subtaskId:e,subtaskInputs:o,flowData:n}})}},J=function(e){var t=e.subtaskId,n=e.navigationContext,a=e.destructive,r=e.fromHiddenSubtask;return function(e,i){var o=i(),s=W(o),l=s.indexOf(t),u=[],c={};if(r&&s.length)u=s.slice(0,-1).concat([t]);else if(-1===l)u=s.concat([t]);else{var d=l+1;u=s.slice(0,d),a&&(c=s.slice(d,s.length).reduce(function(e,t){var n;return Object.assign({},e,((n={})[t]={},n))},{}))}var p=function(e){return function(t){return e.ocf.subtasks.find(function(e){return e.subtask_id===t})}}(o)(t),f=n&&n.action,h="resend_sms"===f||"resend_email"===f,m=j(p)&&(!f||h);e({type:x,payload:{navigationContext:Object.assign({action:""},n),sendPinCode:m,subtaskId:t,subtaskInputs:c,navigationStack:u}})}},$=function(e){var t=void 0===e?{}:e,n=t.isTaskNavigation,a=o()(t,["isTaskNavigation"]);return function(e,t,r){var i=r.api,o=r.userPersistence,s=t(),l=F(s),u=function(e,t){return Object.keys(t).map(function(n){var a,r=e.find(function(e){return e.subtask_id===n}),i=r&&Object(y.d)(r);return(a={subtask_id:r.subtask_id})[i]=t[n],a})}(N(s),G(s)),c=Object.assign({},a,{flow_token:l,subtask_inputs:u});return Object(v.b)(e,{params:c,request:i.Ocf.task})({actionTypes:w,context:"SUBMIT_FLOW",meta:{isTaskNavigation:n}}).then(function(e){var n,a=t().ocf;return o.set("rweb/ocf",((n={})[a.flowName]=e.subtasks.length&&"success"===e.status?a:void 0,n)),e})}};var ee=function(e,t){return function(n,a){var r,i=t.should_generate,o=t.next_link,s=a().ocf.flowData,l=i?O(Math.ceil(10)).toString("hex").slice(0,20):s.OCF_GENERATED_PASSWORD;Q(e,{password:l,link:o.link_id},((r={}).OCF_GENERATED_PASSWORD=l,r))(n,a)}},te=function(e){return function(t,n,a){var r=a.api;if(n().ocf.sendPinCode){var i=F(n()),o=Object.assign({},e,{flow_token:i});return Object(v.b)(t,{params:o,request:r.Ocf.verifyUserIdentifier})({actionTypes:P,context:"VERIFY_IDENTIFIER"})}return Promise.resolve({})}},ne=function(e){return function(t,n,a){return a.api.Ocf.callOnboardingPath(e)}},ae=function(e){return function(t,n,a){return a.api.Ocf.removeContacts(e)}},re=function(e){return function(t,n,a){return a.api.Ocf.syncContacts(e)}},ie=function(e){return function(t,n,a){return a.api.Ocf.getContactsImportStatus(e)}},oe=function(e){return function(t,n,a){return a.api.Ocf.getVerificationStatus(e)}},se=function(e){return function(t,n,a){return a.api.Ocf.verificationLink(e)}}},"3Ige":function(e,t,n){"use strict";n("n12u");var a=n("86MP"),r=n.n(a),i=n("M1I4"),o=n.n(i),s=n("fKPv"),l=n.n(s),u=(n("FaZr"),n("SU+a"),n("VTn2"),n("plj8")),c=n.n(u),d=n("GiK3"),p=n("OMex"),f=n("4n+p"),h=n("bndy"),m=n("7t5w"),_=n("y7g/"),g=Object(h.createSelector)(_.g,p.p,function(e,t){return{language:e,scale:t}}),b={scribeAction:m.d,updateSettings:p.u},v=Object(f.connect)(g,b),y=n("bgPG"),k=n("KdWG"),w=n("MjES"),S=n.n(w),C=n("Sb1W"),E=n.n(C),x=n("jYKd"),I=n.n(x),R=Object.freeze({small:"small",normal:"normal",large:"large",xLarge:"xLarge"}),P=[{label:c.a.e4801e0c,value:R.small},{label:c.a.db88be15,value:R.normal},{label:c.a.b49b4e92,value:R.large},{label:c.a.f9779653,value:R.xLarge}],T={created_at:new Date(Date.now()-6e5).toString(),id_str:"20",text:c.a.eda55463,user:{id_str:"783214",name:"Twitter",screen_name:"Twitter",profile_image_url_https:"https://pbs.twimg.com/profile_images/1013798240683266048/zRim1x6M_normal.jpg",verified:!0},reply_count:0,favorite_count:0,retweet_count:0,lang:"en"},O=c.a.b7896288,A=function(e){function t(t){var n;n=e.call(this,t)||this,l()(o()(o()(n)),"_handleTextSizeChanged",function(e,t){var a=n.props,r=a.scribeAction,i=a.scribeNamespace,o=a.updateSettings;r(Object.assign({},i,{component:"text_size_picker",element:"scale",action:t})),o({scale:t}),I.a.setScale(t)}),l()(o()(o()(n)),"_handleTweetAction",function(e){return e&&e.preventDefault(),!1});var a=n.props.language;return n._tweet=Object.assign({},T,{lang:a}),n}return r()(t,e),t.prototype.render=function(){var e=this.props.withTweetBorder;return d.createElement(S.a,null,d.createElement(S.a,{style:e&&M.tweetContainer},d.createElement(k.a,{dataSaverMode:!1,enableKeyboardShortcuts:!1,onAvatarClick:this._handleTweetAction,onCardClick:this._handleTweetAction,onCardShown:this._handleTweetAction,onEntityClick:this._handleTweetAction,onImpression:this._handleTweetAction,onMediaClick:this._handleTweetAction,onPollVote:this._handleTweetAction,onReplyContextClick:this._handleTweetAction,onScreenNameClick:this._handleTweetAction,style:e&&M.tweetBorder,tweet:this._tweet,withActions:!0,withAvatarLink:!1,withTimestampLink:!1}),d.createElement(S.a,{style:I.a.absoluteFill})),d.createElement(E.a,{label:O,name:"scale",onChange:this._handleTextSizeChanged,options:P,value:I.a.theme.scale,withBottomBorder:!1}))},t}(d.Component);l()(A,"defaultProps",{withTweetBorder:!1});var M=I.a.create(function(e){return{tweetContainer:{marginTop:e.spaces.medium},tweetBorder:{borderStyle:"solid",borderWidth:e.borderWidths.small,borderColor:e.colors.borderColor,borderRadius:e.borderRadii.large,outlineStyle:"none"}}});t.a=Object(y.b)()(v(A))},"3VPz":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("n12u");var a=o(n("x5lS")),r=o(n("GiK3")),i=o(n("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M18.707 13.293c-.39-.39-1.023-.39-1.414 0L13 17.586V5c0-.553-.447-1-1-1s-1 .447-1 1v12.586l-4.293-4.293c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293l6-6c.39-.39.39-1.023 0-1.414z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},B1Ul:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a,r=(a=n("cxPT"))&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n("LEGc"));var o={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions:function(e){var t,n=new Promise(function(n){t=(0,i.default)(function(){e&&n(e())})});return{then:n.then.bind(n),done:n.then.bind(n),cancel:function(){(0,i.cancelIdleCallback)(t)}}},createInteractionHandle:function(){return 1},clearInteractionHandle:function(e){(0,r.default)(!!e,"Must provide a handle to clear.")},addListener:function(){}};t.default=o,e.exports=t.default},B4q1:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("n12u");var a=o(n("x5lS")),r=o(n("GiK3")),i=o(n("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M19.75 11H13V4.25c0-.553-.447-1-1-1s-1 .447-1 1V11H4.25c-.553 0-1 .447-1 1s.447 1 1 1H11v6.75c0 .553.447 1 1 1s1-.447 1-1V13h6.75c.553 0 1-.447 1-1s-.447-1-1-1z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},CeBo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r,i=n("lt8z"),o=n.n(i),s=(n("y9m4"),n("WpTh"),n("VjuZ"),n("n12u"),n("fx22"),n("WgSQ"),n("tJwI"),n("C9uT")),l=n.n(s),u=n("86MP"),c=n.n(u),d=n("M1I4"),p=n.n(d),f=n("fKPv"),h=n.n(f),m=n("plj8"),_=n.n(m),g=n("rO6i"),b=n("9w+k"),v=n("Mpbj"),y=n.n(v),k=n("GXZf"),w=n("pVDu"),S=n("GiK3"),C=n.n(S),E=(n("5nt5"),n("KSGD")),x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,h()(p()(p()(t)),"_textArray",function(){var e=t.props,n=e.entities,a=e.subtaskInputs,r=e.text;return n.reduce(function(e,i,o){var s,l=i.from_index,u=i.to_index,c=i.navigation_link,d=i.subtask_data_reference,p=n[o-1]?n[o-1].to_index:0,f=C.a.createElement(y.a,{key:p+","+l},r.slice(p,l)),h=l+","+u;if(c){var m=c.link_type===w.i.ChromelessWeb,_={external:m,pathname:m?c.url:"/"};s=C.a.createElement(y.a,{accessibilityRole:m?void 0:"button",color:"blue",key:h,link:m?_:void 0,onClick:m?void 0:t._handleClick(c),withInteractiveStyling:!0},r.slice(l,u))}else s=d?C.a.createElement(y.a,{key:h},Object(k.c)(a,d)):C.a.createElement(y.a,{key:h},r.slice(l,u));var g=o===n.length-1?C.a.createElement(y.a,{key:""+u},r.slice(u)):null;return e.concat([f,s,g].filter(function(e){return!!e}))},[])}),h()(p()(p()(t)),"_handleClick",function(e){return function(n){n.preventDefault();var a=t.props,r=a.onClick,i=a.onNavigate;i?i(e):r&&r()}}),t}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.entities,a=e.size,r=e.style,i=e.text,o=e.weight;return C.a.createElement(y.a,{color:t,size:a,style:r,weight:o},n&&n.length>0?this._textArray():i)},t}(C.a.PureComponent),I=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,h()(p()(p()(t)),"_handleConfirm",function(){var e=t.props.subtask;t._handleButtonClick(e.next_link)}),h()(p()(p()(t)),"_handleCancel",function(){var e=t.props.subtask.cancel_link;e&&t._handleButtonClick(e)}),h()(p()(p()(t)),"_handleButtonClick",function(e){var n=t.props,a=n.onNavigate,r=n.subtaskId;(0,n.updateFlow)(r,{link:e.link_id}),a(e)}),t}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.subtask,n=e.onNavigate,a=e.subtaskInputs,r=t.primary_text?C.a.createElement(x,o()({},t.primary_text,{nativeID:g.c,onNavigate:n,subtaskInputs:a})):void 0,i=t.secondary_text?C.a.createElement(x,o()({},t.secondary_text,{onNavigate:n,subtaskInputs:a})):void 0,s=t.cancel_link,l=t.next_link;return C.a.createElement(b.a,{cancelLabel:s&&s.label,confirmLabel:l&&l.label,headline:r,onCancel:this._handleCancel,onConfirm:this._handleConfirm,onMaskClick:this._handleCancel,text:i})},t}(C.a.Component),R=n("UB1R"),P=n("uMse"),T=n.n(P),O=n("qyjT"),A=n("MjES"),M=n.n(A),j=n("jaZx"),D=function(e){function t(t){var n;return n=e.call(this,t)||this,h()(p()(p()(n)),"_handleCtaClick",function(e){var t=n.props,a=t.onNavigate,r=t.subtaskId;(0,t.updateFlow)(r,{link:e.link_id}),a(e)}),h()(p()(p()(n)),"_handlePrimaryActionClick",function(){n.setState({downloadLinkClicked:!0}),n._handleCtaClick(n.props.subtask.primary_action_link)}),h()(p()(p()(n)),"_handleSecondaryActionClick",function(){var e=n.props.subtask.secondary_action_link;e&&n._handleCtaClick(e)}),n.state={downloadLinkClicked:!1},n}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=this.state.downloadLinkClicked,u=i.primary_text?S.createElement(x,o()({},i.primary_text,{nativeID:g.c,onNavigate:r,subtaskInputs:s})):null,c=!l||!i.primary_action_text_after_click,d=l&&i.primary_action_text_after_click||i.primary_action_link.label,p=i.primary_image_url?S.createElement(j.b,{accessibilityLabel:"",aspect:j.a.exact(1),image:i.primary_image_url||""}):null,f=i.secondary_text?S.createElement(x,o()({},i.secondary_text,{onNavigate:r,subtaskInputs:s})):null,h=S.createElement(M.a,null,p,f);return S.createElement(O.a,{history:t,location:n,onBackClick:a},S.createElement(R.a,{actionLabel:d||"",actionType:Object(k.a)(i.primary_action_style),message:u,onAction:c?this._handlePrimaryActionClick:T.a,onClose:T.a,onSecondaryAction:this._handleSecondaryActionClick,secondaryActionLabel:(i.secondary_action_link||{}).label,secondaryActionType:i.secondary_action_style&&Object(k.a)(i.secondary_action_style),subtext:h,textAlignment:"center",withCloseButton:!1}),this.props.errorDialog)},t}(S.Component),F=n("YImy"),N=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,h()(p()(p()(t)),"_handleCtaClick",function(e){var n=t.props,a=n.onNavigate,r=n.subtaskId;(0,n.updateFlow)(r,{link:e.link_id}),a(e)}),h()(p()(p()(t)),"_handlePrimaryActionClick",function(){t._handleCtaClick(t.props.subtask.primary_action_link)}),h()(p()(p()(t)),"_handleSecondaryActionClick",function(){var e=t.props.subtask.secondary_action_link;e&&t._handleCtaClick(e)}),t}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=S.createElement(x,o()({},i.primary_text,{nativeID:g.c,onNavigate:r,subtaskInputs:s})),u=i.secondary_text?S.createElement(x,o()({},i.secondary_text,{onNavigate:r,subtaskInputs:s})):null,c=i.detail_text?S.createElement(x,o()({},i.detail_text,{onNavigate:r,subtaskInputs:s})):null;return S.createElement(O.a,{history:t,location:n,onBackClick:a},S.createElement(R.a,{actionLabel:i.primary_action_link.label||"",actionType:Object(k.a)(i.primary_action_style),footer:c,message:l,onAction:this._handlePrimaryActionClick,onClose:T.a,onSecondaryAction:this._handleSecondaryActionClick,secondaryActionLabel:(i.secondary_action_link||{}).label,secondaryActionType:i.secondary_action_link&&Object(k.a)(i.secondary_action_style),subtext:u,textAlignment:i.text_alignment===w.n.Left?"left":"center",withCloseButton:!1}),this.props.errorDialog)},t}(S.Component),L=(n("MfeA"),n("7t5w")),B=n("2Uj9"),U=n("z9yJ"),V=n("4n+p"),z=n("sLaq"),q=n("bndy"),G=n("VFk1"),H=n("y7g/"),W=function(e){return function(t,n){return n.location.query[e]}},Y=W("country_code"),K=(a="input",function(e,t){return t.location.state&&t.location.state[a]||r}),X=W("return_path"),Z=W("return_url"),Q=W("is_native"),J=W("test_country_code"),$=Object(q.createSelector)(B.h,Y,function(e,t){return Object(k.b)(t.location.query.overrides)},function(e,t){return t.flowName||t.location.pathname.slice(t.match.path.length)},K,X,Z,Q,J,B.r,B.k,B.j,B.m,G.a,B.q,B.i,B.n,B.o,B.p,function(e,t,n,a,r,i,o,s,l,u,c,d,p,f,h,m,_,g,b){return{currentSubtask:e,countryCode:t,debugOverrides:n,isNative:s,testCountryCode:l,flowName:a,inputFlowData:r,returnPath:i,returnUrl:o,subtasks:u,flowToken:c,fetchStatus:d,previousNavigableSubtaskId:p,subtaskInputs:h,failureMessage:m,shouldAbort:_,shouldEndFlow:g,startLocation:f,submitFailed:b}}),ee={addToast:U.b,clearFlow:B.b,createLocalApiErrorHandler:Object(z.b)("OCF_FLOW"),removeContacts:B.g,fetchTemporaryPassword:B.c,logNymizerSignup:function(e){return void 0===e&&(e={}),function(t,n,a){return a.api.Nymizer.logSignup(e)}},navigateSubtask:B.f,startFlow:B.s,submitFlow:B.t,updateFlow:B.v,googleAnalyticsPageView:L.b,googleAnalyticsSendEvent:L.c,scribeAction:L.d,scribePageImpression:L.e,verifyCredentials:H.o},te=Object(V.connect)($,ee),ne=n("bgPG"),ae=n("sp77"),re=n.n(ae),ie=n("czSA"),oe=Object(q.createSelector)(function(e,t){return t.location.query.error},function(e,t){return!!t.location.query.state},function(e,t){return{importError:e,startImport:t}}),se={createLocalApiErrorHandler:Object(z.b)("EMAIL_CONTACTS_SYNC"),importStatus:B.d,scribeAction:L.d,syncContacts:B.u},le=Object(V.connect)(oe,se),ue=(n("YVn/"),Object(E.shape)({action:E.string.isRequired,text:E.string})),ce=Object(E.shape)({subtask_data_reference:Object(E.shape)({subtask_id:E.string.isRequired,key:E.string.isRequired})}),de=Object(E.shape)({media_data_reference:ce.isRequired,style:Object(E.oneOf)(Object.values(w.h)).isRequired}),pe=Object(E.shape)({link_type:Object(E.oneOf)(Object.values(w.i)).isRequired,link_id:E.string.isRequired,label:E.string,label_icon:E.string,continue_message:E.string,url:E.string,subtask_navigation_context:ue,is_destructive:E.bool,suppress_client_events:E.bool,subtask_id:E.string}),fe=Object(E.shape)({from_index:E.number.isRequired,to_index:E.number.isRequired,navigation_link:pe,subtask_data_reference:ce}),he=Object(E.shape)({text:E.string.isRequired,entities:Object(E.arrayOf)(fe).isRequired}),me=Object(E.shape)({id:E.string.isRequired,name:E.string.isRequired}),_e=Object(E.shape)({user_id:E.number.isRequired,user:E.object.isRequired,social_text:E.string,tracking_token:E.string,checked_by_default:E.bool.isRequired}),ge=Object(E.shape)({header:E.string,show_more_button:E.object,items:Object(E.arrayOf)(Object(E.oneOfType)([me,_e])).isRequired}),be=Object(E.shape)({initial_value:E.bool.isRequired}),ve=Object(E.shape)({threshold:E.number.isRequired,text:he}),ye=Object(E.shape)({primary_text:he.isRequired,secondary_text:he,value_data:we,value_identifier:E.string,value_type:Object(E.oneOf)(Object.values(w.l))}),ke=Object(E.shape)({settings:Object(E.arrayOf)(ye).isRequired,status_text_quantity_pairs:Object(E.arrayOf)(ve)}),we=Object(E.shape)({boolean_data:be,settings_group_data:ke}),Se={subtask_id:E.string.isRequired},Ce=Object(E.shape)({day:E.number.isRequired,month:E.number.isRequired,year:E.number.isRequired}),Ee=Object(E.shape)({primary_text:he,secondary_text:he,next_link:pe.isRequired,cancel_link:pe,dismiss_link:pe}),xe=Object(E.shape)({primary_text:he.isRequired,secondary_text:he,next_link:pe.isRequired,cancel_link:pe,dismiss_link:pe}),Ie=Object(E.shape)({title:E.string.isRequired,next_link:pe.isRequired}),Re=Object(E.shape)({primary_text:he,secondary_text:he,detail_text:he,primary_action_link:pe.isRequired,primary_action_style:Object(E.oneOf)(Object.values(w.b)),secondary_action_link:pe,secondary_action_style:Object(E.oneOf)(Object.values(w.b)),settings:Object(E.arrayOf)(E.object),button_location:Object(E.oneOf)(Object.values(w.a)),text_alignment:Object(E.oneOf)(Object.values(w.n))}),Pe=Object(E.shape)({primary_text:he.isRequired,secondary_text:he,detail_text:he,accept_text:E.string.isRequired,authorization_url:E.string.isRequired,decline_link:pe,next_link:pe.isRequired,skip_link:pe.isRequired}),Te=Object(E.shape)({primary_text:he.isRequired,secondary_text:he,hint:E.string,name:E.string,username:E.string,email:E.string,next_link:pe.isRequired,phone:E.string}),Oe=Object(E.shape)({primary_text:he,secondary_text:he,hint_text:E.string,default_text:E.string,max_length:E.number,next_link:pe.isRequired,skip_link:pe}),Ae=Object(E.shape)({status:Object(E.oneOf)(Object.values(w.d)).isRequired,end_flow_type:Object(E.oneOf)(Object.values(w.i)).isRequired}),Me=Object(E.shape)({should_generate:E.bool.isRequired,next_link:pe.isRequired}),je=Object(E.shape)({primary_text:he,secondary_text:he,hint:E.string.isRequired,custom_interests_header:E.string.isRequired,groups:Object(E.arrayOf)(ge).isRequired,selected_items:Object(E.arrayOf)(E.string).isRequired,next_link:pe.isRequired,skip_link:pe}),De=Object(E.shape)({primary_text:he,primary_action_links:Object(E.arrayOf)(pe).isRequired,cancel_link:pe,dismiss_link:pe}),Fe=Object(E.shape)({primary_text:he,secondary_text:he,detail_text:he,granted_link:pe.isRequired,denied_link:pe.isRequired,previously_granted_link:pe,previously_denied_link:pe,previously_denied_reprompt_behavior:Object(E.oneOf)(["always","never","preprompt"])}),Ne=Object(E.shape)({user:E.object.isRequired,auth_token:E.string,oauth_token:E.string,oauth_token_secret:E.string,known_device_token:E.string,next_link:pe.isRequired}),Le=Object(E.shape)({primary_text:he,secondary_text:he,cta_link:pe,next_link:pe.isRequired}),Be=Object(E.shape)({link:pe.isRequired,onboarding_callback_path:E.string}),Ue=Object(E.shape)({primary_text:he.isRequired,secondary_text:he.isRequired,detail_text:he.isRequired,hint_text:E.string.isRequired,phone_number:ce.isRequired,next_link:pe.isRequired,fail_link:pe.isRequired,cancel_link:pe.isRequired}),Ve=Object(E.shape)({primary_text:he,secondary_text:he,detail_text:he,hint_text:E.string.isRequired,email:ce.isRequired,name:ce.isRequired,next_link:pe.isRequired,fail_link:pe.isRequired,cancel_link:pe.isRequired}),ze=Object(E.shape)({primary_text:E.string.isRequired,secondary_text:E.string,discoverable_by_email:E.bool,discoverable_by_email_label:E.string.isRequired,discoverable_by_email_detail_text:he,discoverable_by_phone:E.bool,discoverable_by_phone_label:E.string.isRequired,discoverable_by_phone_detail_text:he,next_link:pe.isRequired}),qe=Object(E.shape)({settings:Object(E.arrayOf)(ye).isRequired,primary_text:he,secondary_text:he,detail_text:he,next_link:pe.isRequired,cancel_link:pe,scroll_hint:E.string,style:Object(E.oneOf)(["prompt","step"])}),Ge=Object(E.shape)({primary_text:E.string,secondary_text:E.string,name_hint:E.string.isRequired,phone_hint:E.string.isRequired,email_hint:E.string.isRequired,phone_email_hint:E.string.isRequired,birthday_hint:E.string.isRequired,birthday_explanation:E.string,use_phone_text:E.string.isRequired,use_email_text:E.string.isRequired,next_link:pe.isRequired,email_next_link:pe,js_instrumentation:E.object,ignore_birthday:E.bool,show_password_field:E.bool,password_hint:E.string}),He=Object(E.shape)({primary_text:E.string,secondary_text:E.string,name:ce,phone_number:ce,email:ce,birthday:ce,birthday_requirement:Ce,sign_in_text:he,detail_text:he,phone_next_link:pe.isRequired,email_next_link:pe.isRequired,name_edit_link:pe.isRequired,phone_edit_link:pe.isRequired,email_edit_link:pe.isRequired,birthday_edit_link:pe.isRequired,invalid_birthday_link:pe.isRequired,ignore_birthday:E.bool}),We=Object(E.shape)({primary_text:he,secondary_text:he,next_link:pe.isRequired,skip_link:pe}),Ye=Object(E.shape)({primary_text:he,secondary_text:he,next_link:pe.isRequired,skip_link:pe,avatar_image_reference:ce}),Ke=Object(E.shape)({sources:Object(E.arrayOf)(de).isRequired,next_link:pe.isRequired}),Xe=Object(E.shape)({primary_text:he,secondary_text:he,hint:E.string,groups:Object(E.arrayOf)(ge).isRequired,next_link:pe,next_link_label_enabled_text:he,next_link_label_disabled_text:he,skip_link:pe,follow_button_type:Object(E.oneOf)(Object.values(w.e)).isRequired,min_follow_count:E.number}),Ze=(Object(E.shape)(Object.assign({},Se,{alert_dialog:Ee,alert_dialog_suppress_client_events:xe,cta:Re,contacts_user_list:Ie,email_contacts_sync:Pe,end_flow:Ae,enter_password:Te,enter_text:Oe,email_verification:Ve,fetch_temporary_password:Me,interest_picker:je,menu_dialog:De,notifications_permission_prompt:Fe,open_account:Ne,open_home_timeline:Le,open_link:Be,phone_verification:Ue,privacy_options:ze,select_avatar:We,select_banner:Ye,settings_list:qe,sign_up:Ge,sign_up_review:He,upload_media:Ke,user_recommendations_list:Xe})),n("zAiL")),Qe=n("Y2tT"),Je=n("PJo1"),$e=n.n(Je),et=n("zEXV"),tt=_.a.bc6164b6,nt=function(){return null},at=10,rt=le(function(e){function t(t,n){var a;return a=e.call(this,t,n)||this,h()(p()(p()(a)),"_startContactImports",function(e){a._scribeOAuthAction("accepted");var t=a.props,n=t.createLocalApiErrorHandler;(0,t.syncContacts)(e).then(function(e){return a._pollImportStatus()}).catch(function(e){n()(e),a.setState({importFinished:!0})})}),h()(p()(p()(a)),"_handlePrimaryActionClick",function(){var e=a.props.subtask,t=e.authorization_url;if(e.open_in_new_tab&&ie.canUseDOM){var n="width=500,height=500,top=0,left="+(window.innerWidth-500)+",toolbar=no,location=yes";window.open(t,"twitter_oauth",n).focus()}else et.b.navigateTo(t)}),h()(p()(p()(a)),"_handleSecondaryActionClick",function(){var e=a.props,t=e.onNavigate,n=e.subtask,r=e.subtaskId,i=e.updateFlow,o=n.skip_link;i(r,{link:o.link_id}),t(o)}),h()(p()(p()(a)),"_scribeOAuthAction",function(e){(0,a.props.scribeAction)({page:"onboarding",section:"email_contacts_sync",component:"oauth_prompt",element:"permission",action:e})}),h()(p()(p()(a)),"_handleEvent",function(e){if(e.origin==="https://"+window.location.hostname){var t=Object.assign({callback_url:"https://"+window.location.hostname+window.location.pathname},e.data);!t.error&&t.state&&a._startContactImports(t)}}),h()(p()(p()(a)),"_pollImportStatus",function(e){if(void 0===e&&(e=1),e>at)a.setState({importFinished:!0});else{var t=a.props,n=t.createLocalApiErrorHandler,r=t.importStatus;a._timer=setTimeout(function(){r().then(function(t){switch(t.status){case w.c.Success:a.setState({importFinished:!0});break;case w.c.NotFound:a._pollImportStatus(e+1);break;default:a.setState({importFinished:!0})}}).catch(function(e){n()(e),a.setState({importFinished:!0})})},1e3)}}),a.state={importFinished:void 0},a._navigating=!1,window.addEventListener("message",a._handleEvent,!1),a}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.history,n=e.importError,a=e.location,r=e.onNavigate,i=e.startImport,o=e.subtask,s=e.subtaskId,l=e.updateFlow;this._showLoadingSpinner=i;var u=o.decline_link;if("access_denied"===n)this._scribeOAuthAction("declined"),u&&(l(s,{link:u.link_id}),r(u));else if(i){var c=Object.assign({callback_url:"https://"+window.location.hostname+a.pathname},a.query);t.replace(a.pathname),this._startContactImports(c)}},n.componentWillUnmount=function(){this._timer&&clearTimeout(this._timer),window.removeEventListener("message",this._handleEvent,!1)},n.componentDidUpdate=function(){var e=this.props,t=e.onNavigate,n=e.subtask,a=e.subtaskId,r=e.updateFlow,i=this.state.importFinished,o=n.next_link;!this._navigating&&i&&(this._navigating=!0,r(a,{link:o.link_id}),t(o))},n.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,s=e.subtask,l=e.subtaskInputs,u=s.accept_text,c=s.detail_text,d=s.primary_text,p=s.skip_link,f=s.secondary_text,h=C.a.createElement(x,o()({},d,{nativeID:g.c,onNavigate:i,subtaskInputs:l})),m=f?C.a.createElement(x,o()({},f,{onNavigate:i,subtaskInputs:l})):null,_=c?C.a.createElement(x,o()({},c,{onNavigate:i,subtaskInputs:l})):null;return this._showLoadingSpinner?C.a.createElement(Qe.a,{fetchStatus:Ze.a.LOADING,loadingMessage:tt,onRequestRetry:T.a,render:nt,retryable:!1}):C.a.createElement(O.a,{hideLogo:!0,history:n,location:a,onBackClick:r},C.a.createElement(R.a,{actionLabel:u,footer:_,icon:$e.a,message:h,onAction:this._handlePrimaryActionClick,onClose:T.a,onSecondaryAction:this._handleSecondaryActionClick,secondaryActionLabel:p.label,secondaryActionType:"text",subtext:m,withCloseButton:!1}),t)},t}(C.a.Component)),it=(n("SU+a"),n("EuXz"),Object(q.createSelector)(B.l,function(e){return{navigationContext:e}})),ot={createLocalApiErrorHandler:Object(z.b)("OCF_FLOW_EMAIL_VERIFICATION"),getVerificationStatus:B.e,verifyIdentifier:B.x},st=Object(V.connect)(it,ot),lt={defaultToast:{text:_.a.ffc10a30},showToast:!0},ut=n("L7BP"),ct=n("jYKd"),dt=n.n(ct),pt=dt.a.create(function(e){return{header:{marginBottom:e.spaces.xSmall},contentArea:{marginLeft:e.spaces.xLarge,marginRight:e.spaces.xLarge},checkboxText:{flexShrink:1,paddingRight:e.spaces.xSmall,width:"100%"},headline:{marginTop:e.spaces.small,marginBottom:e.spaces.small},option:{marginTop:e.spaces.xSmall,flexDirection:"row",justifyContent:"space-between"},primaryButton:{marginTop:e.spaces.small},subHeader:{marginBottom:e.spaces.small},formTextInput:{paddingHorizontal:0}}}),ft=n("fF1d"),ht=n.n(ft),mt={Email:"email"},_t=1e3,gt=function(e){function t(t,n){var a;a=e.call(this,t,n)||this,h()(p()(p()(a)),"_sendEmailVerificationRequest",function(){var e=a.props,t=e.createLocalApiErrorHandler,n=e.subtask,r=e.verifyIdentifier,i=e.onNavigate,o=e.subtaskInputs,s=n.email.subtask_data_reference,l=n.name.subtask_data_reference,u=s&&o[s.subtask_id][s.key],c=l&&o[l.subtask_id][l.key];return r({email:u,display_name:c}).then(function(e){a.setState({email:u})}).catch(function(e){t(lt)(e),i(n.fail_link)})}),h()(p()(p()(a)),"_handleCodeUpdated",function(e){a.setState({pinCode:e.target.value})}),h()(p()(p()(a)),"_startStatusPolling",function(){var e=a.props,t=e.createLocalApiErrorHandler,n=e.getVerificationStatus,r=e.subtask,i=e.subtaskInputs,o=r.email.subtask_data_reference,s=o&&i[o.subtask_id][o.key];a._timer=setTimeout(function(){n({email:s}).then(function(e){e.verified?(a.setState({pinCode:e.pin_code}),a._clearTimer(),a._handleDoneButtonClick()):(a._clearTimer(),a._startStatusPolling())}).catch(function(e){t()(e),a._clearTimer(),a._startStatusPolling()})},_t)}),h()(p()(p()(a)),"_clearTimer",function(){a._timer&&clearTimeout(a._timer)}),h()(p()(p()(a)),"_handleDoneButtonClick",function(){var e=a.props,t=e.onNavigate,n=e.subtask,r=e.subtaskId,i=e.updateFlow,o=a.state,s=o.email;i(r,{code:o.pinCode,email:s,link:n.next_link.link_id}),t(n.next_link)});var r=t.subtaskId,i=t.subtaskInputs,o=Object(k.c)(i,{key:mt.Email,subtask_id:r},"")||"";return a.state={email:o,pinCode:""},a}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){return this.props.subtask.verification_status_polling_enabled&&this._startStatusPolling(),this._sendEmailVerificationRequest()},n.componentWillUnmount=function(){this._clearTimer()},n.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=e.progressIndication,u=C.a.createElement(ht.a,{disabled:!this.state.pinCode,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label);return C.a.createElement(O.a,{history:t,location:n,onBackClick:a,progressIndication:l,rightControl:u},C.a.createElement(M.a,null,C.a.createElement(M.a,{style:pt.contentArea},i.primary_text&&C.a.createElement(x,o()({},i.primary_text,{nativeID:g.c,onNavigate:r,size:"xLarge",style:pt.headline,subtaskInputs:s,weight:"bold"})),i.secondary_text&&C.a.createElement(x,o()({},i.secondary_text,{color:"deepGray",onNavigate:r,subtaskInputs:s})),C.a.createElement(ut.a,{autoFocus:!0,label:i.hint_text,name:"verfication_code",onChange:this._handleCodeUpdated,style:pt.formTextInput,value:this.state.pinCode}),i.detail_text&&C.a.createElement(x,o()({},i.detail_text,{color:"blue",onNavigate:r,style:bt.detailLink,subtaskInputs:s})))),this.props.errorDialog)},t}(C.a.Component),bt=dt.a.create(function(e){return{detailLink:{marginTop:e.spaces.small}}}),vt=st(gt),yt={scribeAction:L.d},kt=Object(V.connect)(null,yt),wt=n("Qfhh"),St=_.a.e01d8ebb,Ct=_.a.ifbe0f64,Et=Object(wt.a)({namespace:"passwordValidity",fetchOneContext:"FETCH_PASSWORD_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.fetchPasswordStrength},fetchOneParams:function(e,t){var n=e[0];return Object.assign({password:n},t)},localValidator:function(e,t){var n=e.indexOf(" ")>=0,a=!(!t||!t.username)&&e===t.username,r=e.length>=6;return{errorMessage:n&&St||(a||!r)&&Ct,valid:r&&!a&&!n}}}),xt=Object(q.createSelector)(Et.selectEntitiesWithFetchStatus,function(e){return{validity:e}}),It={clearPasswordValidity:Et.clear,createLocalApiErrorHandler:Object(z.b)("PASSWORD_FIELD_CONTEXT"),scribeAction:L.d,validate:Et.validate},Rt=Object(V.connect)(xt,It),Pt=n("NreW"),Tt=n.n(Pt),Ot={page:"onboarding",component:"password_entry"},At=_.a.ef405e26,Mt=_.a.b790dab7,jt=function(e){function t(t,n){var a;a=e.call(this,t,n)||this,h()(p()(p()(a)),"_onValidationUpdated",function(e){void 0===e&&(e={});var t=a.props,n=t.validity,r=t.scribeAction,i=t.onPasswordValidated,o=(e.result&&n[e.result]?n[e.result]:{}).valid,s=void 0!==o&&o;a.setState({valid:s}),r(Object.assign({},Ot,{element:"entered_password",action:s?"valid":"invalid"})),i(s)}),h()(p()(p()(a)),"_renderFormTextInput",function(){var e=a.props,t=e.autoComplete,n=e.label,r=e.validity,i=a.state,o=i.valid,s=i.revealed,l=i.password,u=(r[l]||{}).errorMessage,c=void 0===u?"":u;return C.a.createElement(ut.a,{autoComplete:t,errorText:c,invalid:!o,label:n,name:"password",onChange:a._handlePasswordUpdated,style:pt.formTextInput,type:s?"text":"password",value:l})}),h()(p()(p()(a)),"_getVisibilityToggle",function(){var e=a.state.revealed;return C.a.createElement(y.a,{accessibilityRole:"button",color:"blue",onPress:a._handleVisibilityToggle,style:Dt.toggleLink},e?Mt:At)}),h()(p()(p()(a)),"_handleVisibilityToggle",function(){a.setState({revealed:!a.state.revealed})}),h()(p()(p()(a)),"_handlePasswordUpdated",function(e){var t=a.props,n=t.onPasswordChange,r=t.userIdentifier,i=e.target.value;a._validateDebounced(i,{username:r}),a.setState({password:i}),n(i)});var r=t.defaultValue;return a.state={revealed:!1,password:r||"",valid:!0},a._validateDebounced=Tt()(function(e,t){return a.props.validate(e,t).catch(a.props.createLocalApiErrorHandler()).then(a._onValidationUpdated)},500),a}c()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.clearPasswordValidity(),this._validateDebounced.clear()},n.render=function(){var e=this.props.userIdentifier;return C.a.createElement(M.a,{style:pt.formTextInput},e?C.a.createElement("input",{name:"username",type:"hidden",value:e}):null,this._renderFormTextInput(),this._getVisibilityToggle())},t}(C.a.Component);h()(jt,"defaultProps",{autoComplete:"on",onPasswordChange:T.a,onPasswordValidated:T.a});var Dt=dt.a.create(function(e){return{toggleLink:{marginTop:e.spaces.xxSmall}}}),Ft=Rt(jt),Nt=kt(function(e){function t(t){var n;return n=e.call(this,t)||this,h()(p()(p()(n)),"_handleDoneButtonClick",function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow;n._saveCredentialsIfNeeded().then(function(){i(r,Object.assign({},n.state,{link:a.next_link.link_id})),t(a.next_link)}).catch(function(){n._scribeSmartLockError(),i(r,Object.assign({},n.state,{link:a.next_link.link_id})),t(a.next_link)})}),h()(p()(p()(n)),"_scribeSmartLockError",function(){(0,n.props.scribeAction)({page:"onboarding",section:"enter_password",component:"smart_lock",element:"prompt",action:"error"})}),h()(p()(p()(n)),"_handlePasswordChange",function(e){n.setState({password:e})}),h()(p()(p()(n)),"_handleValidationChange",function(e){n.setState({isPasswordValid:e})}),h()(p()(p()(n)),"_saveCredentialsIfNeeded",function(){var e=n.props.subtask.username,t=n.state.password,a=!!window.PasswordCredential;if(e&&a){var r=new window.PasswordCredential({id:e,password:t});return navigator.credentials.store(r)}return Promise.resolve()}),n.state={},n}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=e.progressIndication,u=this.state.isPasswordValid,c=C.a.createElement(ht.a,{disabled:!u,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label);return C.a.createElement(O.a,{hideBackButton:!0,history:n,location:a,progressIndication:l,rightControl:c},C.a.createElement(M.a,{style:pt.contentArea},C.a.createElement(x,o()({},i.primary_text,{nativeID:g.c,onNavigate:r,size:"xLarge",style:pt.headline,subtaskInputs:s,weight:"bold"})),i.secondary_text?C.a.createElement(x,o()({},i.secondary_text,{color:"deepGray",onNavigate:r,subtaskInputs:s})):null,C.a.createElement(Ft,{label:i.hint,onPasswordChange:this._handlePasswordChange,onPasswordValidated:this._handleValidationChange,userIdentifier:i.username})),t)},t}(C.a.Component)),Lt=function(e){function t(t,n){var a;return a=e.call(this,t,n)||this,h()(p()(p()(a)),"_handleDoneButtonClick",function(){var e=a.props,t=e.onNavigate,n=e.subtask.next_link,r=e.subtaskId;(0,e.updateFlow)(r,Object.assign({},a.state,{link:n.link_id})),t(n)}),h()(p()(p()(a)),"_handleSkipButtonClick",function(){var e=a.props,t=e.onNavigate,n=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;n&&i(r,{link:n.link_id}),n&&t(n)}),h()(p()(p()(a)),"_handleEntryUpdated",function(e){var t=e.target.value,n=void 0===t?"":t;a.setState({text:n})}),h()(p()(p()(a)),"_getAutoCompleteFromKeyboardType",function(e){switch(e){case w.g.Email:return"email";case w.g.Telephone:return"tel";default:return}}),h()(p()(p()(a)),"_getPropsFromKeyboardType",function(e){switch(e){case w.g.Email:return"email";case w.g.Number:return"number";case w.g.Password:return"password";case w.g.Telephone:return"tel";default:return"text"}}),a.state={text:a.props.subtask.default_text||""},a}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,s=e.subtask,l=e.subtaskInputs,u=s.keyboard_type,c=s.primary_text,d=s.secondary_text,p=s.hint_text,f=s.max_length,h=s.multiline,m=s.next_link,_=s.skip_link,b=C.a.createElement(ht.a,{disabled:!_&&!this.state.text,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},m.label),v=_&&C.a.createElement(ht.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},_.label);return C.a.createElement(O.a,{history:n,location:a,onBackClick:r,rightControl:this.state.text||!_?b:v},C.a.createElement(M.a,{style:pt.contentArea},c?C.a.createElement(x,o()({},c,{nativeID:g.c,onNavigate:i,size:"xLarge",style:pt.headline,subtaskInputs:l,weight:"bold"})):null,d?C.a.createElement(x,o()({},d,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,C.a.createElement(ut.a,{autoComplete:this._getAutoCompleteFromKeyboardType(u),label:p,maxLength:f,multiline:h,name:"text",onChange:this._handleEntryUpdated,type:this._getPropsFromKeyboardType(u),value:this.state.text})),t)},t}(C.a.Component),Bt=n("sf7G"),Ut=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,h()(p()(p()(t)),"_executeSubtaskAction",function(){var e=t.props,n=e.navigationLink,a=e.subtaskAction,r=e.onNavigate,i=e.onError;try{a().then(function(){return r(n,!0)}).catch(i)}catch(e){i(e)}}),t}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._executeSubtaskAction()},n.componentDidUpdate=function(e){this.props.subtaskId!==e.subtaskId&&this._executeSubtaskAction()},n.render=function(){return null},t}(C.a.Component);h()(Ut,"defaultProps",{onError:T.a});n("1A13"),n("beEN");var Vt,zt=n("rzQm"),qt=n.n(zt),Gt=n("3vh8"),Ht=n.n(Gt),Wt="selected_custom_interests",Yt="selected_interest_ids",Kt=function(e,t){var n=Object(B.q)(e);return Object(k.c)(n,{key:Wt,subtask_id:t.subtaskId},[]).map(function(e){return{topic:e.custom_interest,ttt_token:e.ttt_token}})},Xt=Object(q.createSelector)(Kt,function(e,t){return Kt(e,t).map(function(e){return e.topic})},function(e,t){var n=Object(B.q)(e);return Object(k.c)(n,{key:Yt,subtask_id:t.subtaskId},[])},function(e,t,n){return{initialCustomInterests:e,initialCustomInterestIds:t,initialSelectedInterestIds:n}}),Zt=Object(V.connect)(Xt),Qt=n("g91K"),Jt=n("/SMD"),$t=n.n(Jt),en=n("6PFH"),tn=[en.a.Topics],nn=function(e){function t(t){var n;n=e.call(this,t)||this,h()(p()(p()(n)),"_maybeRenderCustomInterests",function(){var e=n.props.subtask.custom_interests_header,t=n.state,a=t.customInterests;if(t.shouldRenderCustomInterests)return C.a.createElement(M.a,null,C.a.createElement(M.a,{name:"custom",style:an.group},C.a.createElement(y.a,{size:"large",style:an.groupHeader,weight:"bold"},e),C.a.createElement(M.a,{style:an.pillsContainer},a.map(function(e){return n._renderCustomInterest(e.topic)}))))}),h()(p()(p()(n)),"_renderGroup",function(e){var t;if(e.show_more){var a=e.show_more.initial_to_show+(e.expanded?e.show_more.extra_to_show:0);t=e.items.slice(0,a)}else t=e.items;return C.a.createElement(M.a,{key:"group_"+e.header,name:"group",style:an.group},C.a.createElement(y.a,{size:"large",style:an.groupHeader,weight:"bold"},e.header),C.a.createElement(M.a,{style:an.pillsContainer},t.map(n._renderSelectionPill),n._maybeRenderShowMoreButton(e)))}),h()(p()(p()(n)),"_maybeRenderShowMoreButton",function(e){return e.show_more&&e.items.length>e.show_more.initial_to_show&&!e.expanded?C.a.createElement($t.a,{compact:!0,key:"showMore_"+e.header,mode:"expand",name:"showMore",onClick:n._handleShowMore(e),style:an.selectionPillStyles,text:e.show_more.text}):null}),h()(p()(p()(n)),"_renderCustomInterest",function(e){var t=n.state.selectedCustomInterestIds;return C.a.createElement($t.a,{compact:!0,key:"selectionPill_"+e,onClick:n._handleToggleCustomInterest(e),selected:t.has(e),style:an.selectionPillStyles,text:e,value:e})}),h()(p()(p()(n)),"_renderSelectionPill",function(e){var t=n.state.selectedInterestIds.has(e.id),a=n._handleToggleInterest(e.id,t);return C.a.createElement($t.a,{compact:!0,key:"selectionPill_"+e.id,onClick:a,selected:t,style:an.selectionPillStyles,text:e.name,value:e.id})}),h()(p()(p()(n)),"_shouldShowSkipInstead",function(){var e=n.state,t=e.selectedInterestIds,a=e.selectedCustomInterestIds;return 0===t.size&&0===a.size}),h()(p()(p()(n)),"_handleSuggestionSelected",function(e){var t=n.state,a=t.customInterestIds,r=t.selectedCustomInterestIds,i=e.data,o=i.topic,s={topic:o,ttt_token:i.ttt_context};a.has(o)||n.setState({customInterests:n.state.customInterests.concat([s]),customInterestIds:Ht()(qt()(a)).add(o),selectedCustomInterestIds:Ht()(qt()(r)).add(o),shouldRenderCustomInterests:!0})}),h()(p()(p()(n)),"_handleShowMore",function(e){return function(){var t=n.state.groups;t.find(function(t){return t.header===e.header}).expanded=!0,n.setState({groups:t})}}),h()(p()(p()(n)),"_handleToggleCustomInterest",function(e){return function(){var t=Ht()(qt()(n.state.selectedCustomInterestIds));t.has(e)?(t.delete(e),n.setState({selectedCustomInterestIds:t})):n.setState({selectedCustomInterestIds:t.add(e)})}}),h()(p()(p()(n)),"_handleToggleInterest",function(e,t){return function(){var a=Ht()(qt()(n.state.selectedInterestIds));t?(a.delete(e),n.setState({selectedInterestIds:a})):n.setState({selectedInterestIds:a.add(e)})}}),h()(p()(p()(n)),"_handleNextButtonClick",function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId,i=e.updateFlow,o=n.state,s=o.customInterests,l=o.selectedCustomInterestIds,u=s.reduce(function(e,t){return l.has(t.topic)&&e.push({custom_interest:t.topic,ttt_token:t.ttt_token}),e},[]);i(r,{link:a.next_link.link_id,selected_interest_ids:Array.from(n.state.selectedInterestIds),selected_custom_interests:u}),t(a.next_link)}),h()(p()(p()(n)),"_handleSkipButtonClick",function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id}),t(a.skip_link)});var a=t.initialCustomInterests,r=t.initialCustomInterestIds,i=t.initialSelectedInterestIds,o=t.subtask.selected_items;return n.state={groups:t.subtask.groups||[],customInterests:a,customInterestIds:Ht()(r),selectedCustomInterestIds:Ht()(r),selectedInterestIds:i.length>0?Ht()(i):Ht()(o||[]),shouldRenderCustomInterests:a.length>0},n}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.subtask,i=e.subtaskInputs,s=this.state.groups,l=C.a.createElement(ht.a,{onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},r.next_link.label),u=C.a.createElement(ht.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},r.skip_link.label),c=this._shouldShowSkipInstead()?u:l;return C.a.createElement(O.a,{history:t,location:n,rightControl:c},C.a.createElement(M.a,{style:pt.contentArea},r.primary_text?C.a.createElement(x,o()({},r.primary_text,{nativeID:g.c,onNavigate:a,size:"xLarge",style:pt.headline,subtaskInputs:i,weight:"bold"})):null,r.secondary_text?C.a.createElement(x,o()({},r.secondary_text,{onNavigate:a,style:pt.subHeader,subtaskInputs:i})):null,C.a.createElement(M.a,{style:an.searchContainer},C.a.createElement(Qt.c,{filter:tn,maxTopics:8,onItemClick:this._handleSuggestionSelected,placeholder:r.hint,rounded:!0,shouldAutoFocus:!0,shouldClearOnSelect:!0,source:en.c.WelcomeFlow,withFocusStyling:!0})),this._maybeRenderCustomInterests(),C.a.createElement(M.a,null,s.map(this._renderGroup))),this.props.errorDialog)},t}(C.a.Component),an=dt.a.create(function(e){return{searchContainer:{marginBottom:e.spaces.small,zIndex:1},selectionPillStyles:{margin:e.spaces.xxSmall},pillsContainer:{flexDirection:"row",flexWrap:"wrap"},groupHeader:{marginTop:e.spaces.xSmall,marginBottom:e.spaces.xSmall},group:{marginBottom:e.spaces.xSmall}}}),rn=Zt(nn),on=n("YkY+"),sn=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,h()(p()(p()(t)),"_makeNavFunction",function(e){return function(){var n=t.props,a=n.onNavigate,r=n.subtaskId;(0,n.updateFlow)(r,{link:e.link_id}),a(e)}}),h()(p()(p()(t)),"_itemFromNavLink",function(e){return{text:e.label,onClick:t._makeNavFunction(e)}}),t}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.onNavigate,n=e.subtask,a=e.subtaskInputs;return C.a.createElement(on.a,{cancelLabel:n.cancel_link&&n.cancel_link.text,description:n.primary_text?C.a.createElement(x,o()({},n.primary_text,{nativeID:g.c,onNavigate:t,subtaskInputs:a})):null,items:n.primary_action_links.map(this._itemFromNavLink),onCloseRequested:n.cancel_link&&this._makeNavFunction(n.cancel_link)})},t}(C.a.Component),ln=n("GN08"),un=Object(q.createSelector)(ln.selectShouldPromptBrowserPush,function(e){return ln.selectBrowserPushStatus(e)},function(e,t){return{promptAllowed:e,pushSettingsFetchStatus:t.fetchStatus,subscribed:t.subscribed}}),cn={createLocalApiErrorHandler:Object(z.b)("NOTIFICATIONS_PERMISSIONS_PROMPT"),dismissPushNotificationsPrompt:ln.dismissPushNotificationsPrompt,fetchPushSettingsIfNeeded:ln.fetchPushSettingsIfNeeded,loadPushPromptSettingsIfNeeded:ln.loadPushPromptSettingsIfNeeded,pushSubscribe:ln.pushSubscribe},dn=Object(V.connect)(un,cn),pn=n("F/6Y"),fn=n.n(pn),hn=dn(function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,h()(p()(p()(t)),"componentDidMount",function(){var e=t.props,n=e.createLocalApiErrorHandler,a=e.fetchPushSettingsIfNeeded,r=e.pushSettingsFetchStatus;a().catch(n()),r===Ze.a.LOADED&&t._skipIfPushPromptNotAllowed()}),h()(p()(p()(t)),"componentDidUpdate",function(e){t.props.pushSettingsFetchStatus===Ze.a.LOADED&&e.pushSettingsFetchStatus!==Ze.a.LOADED&&t._skipIfPushPromptNotAllowed()}),h()(p()(p()(t)),"_actionClicked",function(e){var n=t.props,a=n.onNavigate,r=n.subtaskId;(0,n.updateFlow)(r,{link:e.link_id}),a(e)}),h()(p()(p()(t)),"_handleSkip",function(){var e=t.props,n=e.dismissPushNotificationsPrompt,a=e.subtask;n(),t._actionClicked(a.denied_link)}),h()(p()(p()(t)),"_handleConfirm",function(){var e=t.props,n=e.subtask;(0,e.pushSubscribe)().then(function(){t._actionClicked(n.granted_link)})}),h()(p()(p()(t)),"_skipIfPushPromptNotAllowed",function(){var e=t.props,n=e.promptAllowed,a=e.subscribed,r=e.subtask;n||t._actionClicked(a?r.granted_link:r.denied_link)}),t}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.promptAllowed,i=e.subtask,s=e.subtaskInputs,l=i.primary_text?C.a.createElement(x,o()({},i.primary_text,{nativeID:g.c,onNavigate:a,subtaskInputs:s})):null,u=i.secondary_text?C.a.createElement(x,o()({},i.secondary_text,{onNavigate:a,subtaskInputs:s})):null;return r?C.a.createElement(O.a,{hideLogo:!0,history:t,location:n},C.a.createElement(R.a,{actionLabel:i.granted_link.label,icon:fn.a,message:l,onAction:this._handleConfirm,onClose:this._handleSkip,onSecondaryAction:this._handleSkip,secondaryActionLabel:i.denied_link.label,secondaryActionType:"text",subtext:u,withCloseButton:!1})):null},t}(C.a.Component)),mn=(n("UJiG"),{callOnboardingPath:B.a}),_n=Object(V.connect)(null,mn)(function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,h()(p()(p()(t)),"_hitCallbackPath",function(){var e=t.props,n=e.subtask.onboarding_callback_path,a=e.callOnboardingPath;return n?a(n).catch(T.a):Promise.resolve()}),t}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.subtask,n=e.subtaskId,a=e.onNavigate;return C.a.createElement(Ut,{navigationLink:t.link,onNavigate:a,subtaskAction:this._hitCallbackPath,subtaskId:n})},t}(C.a.Component)),gn=n("DOzz"),bn=Object(q.createSelector)(B.l,function(e){return{navigationContext:e}}),vn={createLocalApiErrorHandler:Object(z.b)("OCF_FLOW_PHONE_VERIFICATION"),verifyIdentifier:B.x},yn=Object(V.connect)(bn,vn),kn=n("d39v"),wn=_.a.a40de2c9,Sn=_.a.gb4d056f,Cn=_.a.bf486142,En=_.a.ffc10a30,xn=((Vt={defaultToast:{text:En}})[kn.a.DeviceAlreadyRegistered]={toast:{text:Cn}},Vt[kn.a.DeviceOperatorUnsupported]={toast:{text:Sn}},Vt[kn.a.DeviceRegistrationPhoneNormalizationFailed]={toast:{text:wn}},Vt[kn.a.SmsVerifyGeneralError]={toast:{text:En}},Vt.showToast=!0,Vt),In={NormalizedPhone:"normalized_phone"},Rn=function(e){function t(t,n){var a;a=e.call(this,t,n)||this,h()(p()(p()(a)),"_sendSmsVerificationRequest",function(){var e=a.props,t=e.createLocalApiErrorHandler,n=e.subtask,r=e.onNavigate,i=e.subtaskInputs,o=e.verifyIdentifier,s=n.phone_number.subtask_data_reference;return o({phone:s&&i[s.subtask_id][s.key]}).then(function(e){var t=e.normalized_phone_number;t&&a.setState({normalized_phone:t})}).catch(function(e){t(xn)(e),r(n.fail_link)})}),h()(p()(p()(a)),"_handleCodeUpdated",function(e){a.setState({code:e.target.value})}),h()(p()(p()(a)),"_handleDoneButtonClick",function(){var e=a.props,t=e.onNavigate,n=e.subtask,r=e.subtaskId,i=e.updateFlow,o=a.state,s=o.code,l=o.normalized_phone,u=o.by_voice;i(r,{code:s,link:n.next_link.link_id,normalized_phone:l,by_voice:u}),t(n.next_link)});var r=t.subtaskId,i=t.subtaskInputs,o=Object(k.c)(i,{key:In.NormalizedPhone,subtask_id:r},"")||"";return a.state={code:"",normalized_phone:o,by_voice:!1,showSmsResendDialog:!1},a}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){return this._sendSmsVerificationRequest()},n.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=e.progressIndication,u=C.a.createElement(ht.a,{disabled:!this.state.code,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},i.next_link.label);return C.a.createElement(O.a,{history:t,location:n,onBackClick:a,progressIndication:l,rightControl:u},C.a.createElement(M.a,null,C.a.createElement(M.a,{style:pt.contentArea},C.a.createElement(x,o()({},i.primary_text,{nativeID:g.c,onNavigate:r,size:"xLarge",style:pt.headline,subtaskInputs:s,weight:"bold"})),C.a.createElement(x,o()({},i.secondary_text,{color:"deepGray",onNavigate:r,subtaskInputs:s})),C.a.createElement(ut.a,{autoFocus:!0,label:i.hint_text,name:"verfication_code",onChange:this._handleCodeUpdated,style:pt.formTextInput,value:this.state.code}),C.a.createElement(x,o()({},i.detail_text,{color:"blue",onNavigate:r,style:Pn.detailLink,subtaskInputs:s})))),this.props.errorDialog)},t}(C.a.Component);h()(Rn,"contextTypes",{featureSwitch:E.object});var Pn=dt.a.create(function(e){return{detailLink:{marginTop:e.spaces.small}}}),Tn=yn(Rn),On=n("zZC9"),An=n.n(On),Mn={DiscoverableByEmail:"discoverable_by_email",DiscoverableByPhone:"discoverable_by_phone"},jn=function(e){function t(t){var n;n=e.call(this,t)||this,h()(p()(p()(n)),"_formatSubtaskInputsForRedux",function(e){return{link:n.props.subtask.next_link,discoverable_by_email:e.discoverable_by_email?1:0,discoverable_by_phone:e.discoverable_by_phone?1:0}}),h()(p()(p()(n)),"_numberToBoolean",function(e){return e>0}),h()(p()(p()(n)),"_getInitialSubtaskInputs",function(){var e=n.props,t=e.subtaskId,a=e.subtaskInputs,r=Object(k.c)(a,{key:Mn.DiscoverableByEmail,subtask_id:t}),i=Object(k.c)(a,{key:Mn.DiscoverableByPhone,subtask_id:t});return{discoverable_by_email:void 0===r||n._numberToBoolean(r),discoverable_by_phone:void 0===i||n._numberToBoolean(i)}}),h()(p()(p()(n)),"_handleDoneButtonClick",function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,n._formatSubtaskInputsForRedux(n.state)),t(a.next_link)}),h()(p()(p()(n)),"_handleDiscoverableByEmailToggle",function(e){n.setState({discoverable_by_email:e})}),h()(p()(p()(n)),"_handleDiscoverableByPhoneToggle",function(e){n.setState({discoverable_by_phone:e})});var a=n._getInitialSubtaskInputs();return n.state=Object.assign({},a),n}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.subtask,i=e.subtaskInputs,s=r.secondary_text?C.a.createElement(y.a,{size:"xLarge",style:pt.headline,weight:"bold"},r.secondary_text):null,l=this.state,u=l.discoverable_by_email,c=l.discoverable_by_phone,d=C.a.createElement(ht.a,{onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},r.next_link.label);return C.a.createElement(O.a,{history:t,location:n,rightControl:d},C.a.createElement(M.a,{style:pt.contentArea},C.a.createElement(y.a,{nativeID:g.c,style:dt.a.visuallyHidden},r.primary_text),C.a.createElement(y.a,{size:"xLarge",style:pt.headline,weight:"bold"},s),C.a.createElement(M.a,{accessibilityRole:"label",style:pt.option},C.a.createElement(M.a,{style:pt.checkboxText},C.a.createElement(y.a,null,r.discoverable_by_email_label),C.a.createElement(x,o()({},r.discoverable_by_email_detail_text,{color:"deepGray",onNavigate:a,size:"small",style:pt.detailText,subtaskInputs:i}))),C.a.createElement(An.a,{name:"discoverable_by_email",onValueChange:this._handleDiscoverableByEmailToggle,value:u})),C.a.createElement(M.a,{accessibilityRole:"label",style:pt.option},C.a.createElement(M.a,{style:pt.checkboxText},C.a.createElement(y.a,null,r.discoverable_by_phone_label),C.a.createElement(x,o()({},r.discoverable_by_phone_detail_text,{color:"deepGray",onNavigate:a,size:"small",style:pt.supportingText,subtaskInputs:i}))),C.a.createElement(An.a,{name:"discoverable_by_phone",onValueChange:this._handleDiscoverableByPhoneToggle,value:c}))))},t}(C.a.Component),Dn=n("86z1"),Fn=n("/FRN"),Nn=n("qX3G"),Ln=n("hviW"),Bn=n("ZHcj"),Un=Object(q.createSelector)(Nn.b,function(e,t){var n=Bn.f(e);return Ln.f(e,n)[0]},function(e,t){return{loggedInUser:e,avatarMedia:t}}),Vn={addAvatarMedia:Bn.a,removeAvatarMedia:Bn.c},zn=Object(V.connect)(Un,Vn),qn=n("3f1i"),Gn=n("Y+r2"),Hn=n("GfdX"),Wn=n("GWs/"),Yn=n("UDB1"),Kn=function(e){function t(t){var n;return n=e.call(this,t)||this,h()(p()(p()(n)),"_handleCropDone",function(){return n.setState({done:!0,showCropper:!1})}),h()(p()(p()(n)),"_handleCropCancel",function(){return n._handleCropDone()}),h()(p()(p()(n)),"_handleImageMediaChange",function(e){(0,n.props.addAvatarMedia)(e[0]),n.setState({mediaId:e[0],showCropper:qn.a.isTrue("responsive_web_media_avatar_crop_enabled"),done:!0})}),h()(p()(p()(n)),"_handleImageMediaFailure",function(){n._handleSkipButtonClick()}),h()(p()(p()(n)),"_handleImageMediaRemove",function(){(0,n.props.removeAvatarMedia)(),n.setState({done:!1,showCropper:!1})}),h()(p()(p()(n)),"_handleDoneButtonClick",function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id}),t(a.next_link)}),h()(p()(p()(n)),"_handleSkipButtonClick",function(){var e=n.props,t=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&t(a)}),n.state={done:!1,showCropper:!1,mediaId:void 0},n}c()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,s=e.subtask,l=e.subtaskInputs,u=s.primary_text,c=s.secondary_text,d=s.next_link,p=s.skip_link,f=C.a.createElement(ht.a,{disabled:!p&&!this.state.mediaId,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},d.label),h=p&&C.a.createElement(ht.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},p.label);return C.a.createElement(O.a,{history:n,location:a,onBackClick:r,rightControl:this.state.done||!p?f:h},C.a.createElement(M.a,{style:pt.contentArea},u?C.a.createElement(x,o()({},u,{nativeID:g.c,onNavigate:i,size:"xLarge",style:pt.headline,subtaskInputs:l,weight:"bold"})):null,c?C.a.createElement(x,o()({},s.secondary_text,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,this._renderMediaPickerWithPreview()),this.state.showCropper&&void 0!==this.state.mediaId?C.a.createElement(Gn.a,{circle:!0,defaultAspectRatio:1,location:a,mediaId:this.state.mediaId,onCancel:this._handleCropCancel,onDone:this._handleCropDone}):null,t)},n._renderMediaPickerWithPreview=function(){var e=this.props,t=e.avatarMedia,n=e.loggedInUser,a=this.state.done;return C.a.createElement(M.a,{style:Xn.centerContent},C.a.createElement(Hn.a,{borderRadius:"infinite",currentContent:C.a.createElement(Wn.default,{uri:n.profile_image_url_https,userName:n.name}),maxGifSize:Yn.g,maxImageSize:Yn.h,mediaItem:t,onChange:this._handleImageMediaChange,onFailure:this._handleImageMediaFailure,onRemove:a?this._handleImageMediaRemove:void 0,rootStyle:Xn.avatarContainer}))},t}(C.a.Component),Xn=dt.a.create(function(e){return{avatarContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.white,borderStyle:"solid",marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,width:"calc("+e.spaces.jumbo+" * 3)"},bannerContainer:{marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,maxHeight:"9em"},banner:{height:"100%"},centerContent:{alignItems:"center",display:"flex",width:"100%"}}}),Zn=zn(Kn),Qn=Object(q.createSelector)(Nn.b,function(e,t){var n=Bn.f(e);return Ln.f(e,n)[0]},function(e,t){var n=Bn.g(e);return Ln.f(e,n)[0]},function(e,t,n){return{loggedInUser:e,avatarMedia:t,bannerMedia:n}}),Jn={addBannerMedia:Bn.b,removeBannerMedia:Bn.d},$n=Object(V.connect)(Qn,Jn),ea=n("fc63"),ta=n.n(ea),na=n("UvVB"),aa=n.n(na),ra=function(e){function t(t){var n;return n=e.call(this,t)||this,h()(p()(p()(n)),"_handleImageMediaRemove",function(){(0,n.props.removeBannerMedia)(),n.setState({done:!1,showCropper:!1})}),h()(p()(p()(n)),"_handleCropDone",function(){return n.setState({done:!0,showCropper:!1})}),h()(p()(p()(n)),"_handleCropCancel",function(){return n._handleCropDone()}),h()(p()(p()(n)),"_handleImageMediaChange",function(e){(0,n.props.addBannerMedia)(e[0]),n.setState({media_id:e[0],showCropper:qn.a.isTrue("responsive_web_media_avatar_crop_enabled"),done:!0})}),h()(p()(p()(n)),"_handleImageMediaFailure",function(){n._handleSkipButtonClick()}),h()(p()(p()(n)),"_handleDoneButtonClick",function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id}),t(a.next_link)}),h()(p()(p()(n)),"_handleSkipButtonClick",function(){var e=n.props,t=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&t(a)}),n.state={done:void 0,media_id:void 0,showCropper:!1},n}c()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.onNavigate,s=e.subtask,l=e.subtaskInputs,u=s.primary_text,c=s.secondary_text,d=s.next_link,p=s.skip_link,f=C.a.createElement(ht.a,{disabled:!p&&!this.state.media_id,onPress:this._handleDoneButtonClick,size:"normalCompact",type:"primary"},d.label),h=p&&C.a.createElement(ht.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},p.label);return C.a.createElement(O.a,{history:n,location:a,onBackClick:r,rightControl:this.state.done||!p?f:h},C.a.createElement(M.a,{style:pt.contentArea},u?C.a.createElement(x,o()({},u,{nativeID:g.c,onNavigate:i,size:"xLarge",style:pt.headline,subtaskInputs:l,weight:"bold"})):null,c?C.a.createElement(x,o()({},s.secondary_text,{color:"deepGray",onNavigate:i,subtaskInputs:l})):null,C.a.createElement(M.a,{style:ia.container},this._renderMediaPickerWithPreview(),this._renderAvatar(),this._renderNames()),this.state.showCropper&&void 0!==this.state.media_id?C.a.createElement(Gn.a,{defaultAspectRatio:3,location:a,mediaId:this.state.media_id,onCancel:this._handleCropCancel,onDone:this._handleCropDone}):null),t)},n._renderMediaPickerWithPreview=function(){var e=this.props,t=e.bannerMedia,n=e.loggedInUser,a=t||n.profile_banner_url,r=this.state.done;return C.a.createElement(Hn.a,{aspectRatio:3,currentContent:C.a.createElement(ta.a,{ratio:dt.a.theme.aspectRatios.profileBanner},a?C.a.createElement(aa.a,{source:{uri:n.profile_banner_url},style:ia.banner}):null),maxImageSize:Yn.i,mediaItem:t,onChange:this._handleImageMediaChange,onFailure:this._handleImageMediaFailure,onRemove:r?this._handleImageMediaRemove:void 0,rootStyle:ia.bannerContainer})},n._renderAvatar=function(){var e=this.props,t=e.avatarMedia,n=e.loggedInUser,a=t&&t.mediaFile&&t.mediaFile.url||n.profile_image_url_https,r=n.name;return C.a.createElement(Wn.default,{style:[ia.avatarContainer],uri:a,userName:r})},n._renderNames=function(){var e=this.props.loggedInUser,t=e.name,n="@"+e.screen_name;return C.a.createElement(M.a,{style:ia.nameContainer},C.a.createElement(y.a,{align:"left",style:ia.names},C.a.createElement(y.a,{accessibilityRole:"heading",size:"xLarge",style:ia.displayName,weight:"bold"},t),C.a.createElement(y.a,{color:"deepGray",style:ia.screenName},n)))},t}(C.a.Component),ia=dt.a.create(function(e){return{container:{paddingBottom:e.spaces.jumbo},avatarContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.white,borderStyle:"solid",marginLeft:e.spaces.small,marginTop:"-25%",maxWidth:"calc(${theme.spaces.small} * 8)",width:"25%"},bannerContainer:{marginTop:e.spaces.jumbo,marginBottom:e.spaces.jumbo,maxHeight:"9em"},banner:{height:"100%"},centerContent:{alignItems:"center",display:"flex",width:"100%"},nameContainer:{marginLeft:e.spaces.small},names:{display:"block",marginBottom:e.spaces.xSmall},displayName:{direction:"ltr",display:"block",marginTop:e.spaces.xxSmall},screenName:{direction:"ltr"}}}),oa=$n(ra),sa=(n("FKfb"),n("3VPz")),la=n.n(sa),ua=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.isModal,n=e.label,a=e.onPress,r=[ca.pillContainer,t?ca.pillContainerModal:ca.pillContainerNarrow];return C.a.createElement(M.a,{style:r},C.a.createElement(ht.a,{backgroundColor:"blue",border:"none",color:"white",icon:C.a.createElement(la.a,{style:ca.icon}),onPress:a,type:"primary"},C.a.createElement(y.a,{size:"normal",weight:"normal"},n)))},t}(C.a.Component),ca=dt.a.create(function(e){return{icon:{height:"1.5em",width:"1.5em"},pillContainer:{bottom:e.spaces.small,alignItems:"center",left:"0",right:"0",margin:"auto",zIndex:1},pillContainerNarrow:{position:"fixed"},pillContainerModal:{position:"absolute"}}}),da=n("O27J"),pa=n.n(da),fa=n("Z/Ho"),ha=_.a.aa24e939,ma=_.a.f4c9593e,_a=_.a.f178263a,ga=_.a.fab3c63c,ba=_.a.a3aa6b69,va=_.a.abec13c0,ya=_.a.j07decd3,ka=function(e){function t(t){var n;return n=e.call(this,t)||this,h()(p()(p()(n)),"_handleRemoveContactsClick",function(){n.setState({showRemoveContactsDialog:!0})}),h()(p()(p()(n)),"_handleRemoveContactsConfirm",function(){n.setState({showRemoveContactsDialog:!1}),n._handleRemoveContacts()}),h()(p()(p()(n)),"_handleRemoveContacts",function(){var e=n.props,t=e.addToast;(0,e.removeContacts)().then(function(e){n.setState({disableRemoveContactsButton:!0}),t({text:ba,withClearButton:!0})}).catch(function(e){t({actionLabel:ya,onAction:n._handleRemoveContacts,text:va,withAutoDismiss:!0})})}),h()(p()(p()(n)),"_handleRemoveContactsCancel",function(){n.setState({showRemoveContactsDialog:!1})}),n.state={showRemoveContactsDialog:!1,disableRemoveContactsButton:!1},n}c()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.onNavigate,n=e.removeContactsSetting,a=e.subtaskInputs,r=this.state.disableRemoveContactsButton;return C.a.createElement(M.a,null,C.a.createElement(x,o()({},n.primary_text,{onNavigate:t,style:wa.header,subtaskInputs:a})),C.a.createElement(x,o()({},n.secondary_text,{color:"deepGray",onNavigate:t,size:"small",style:wa.subtext,subtaskInputs:a})),C.a.createElement(M.a,null,C.a.createElement(ht.a,{disabled:r,onPress:this._handleRemoveContactsClick,type:"destructiveText"},n.value_data.action_data.link.label),this._maybeRenderRemoveContactsDialog()))},n._maybeRenderRemoveContactsDialog=function(){return this.state.showRemoveContactsDialog?C.a.createElement(b.a,{cancelLabel:ma,confirmLabel:ha,headline:_a,onCancel:this._handleRemoveContactsCancel,onConfirm:this._handleRemoveContactsConfirm,onMaskClick:this._handleRemoveContactsCancel,text:ga}):null},t}(C.a.Component),wa=dt.a.create(function(e){return{header:{marginTop:e.spaces.xSmall,marginBottom:e.spaces.xSmall},subtext:{marginBottom:e.spaces.medium}}}),Sa=ka,Ca=n("3Ige"),Ea=function(e){function t(t){var n;n=e.call(this,t)||this,h()(p()(p()(n)),"_getSettingValueFromSubtaskInputs",function(e){var t,a=n.props,r=a.subtaskId,i=a.subtaskInputs,o=e.value_identifier,s=e.value_type,l=Object(k.c)(i,{key:w.k,subtask_id:r},[]).find(function(e){return e.key===o});return l&&Object(k.f)(s)&&(t=l.response_data.boolean_data.result),t}),h()(p()(p()(n)),"_handleSettingGroupClick",function(){var e=n.props,t=e.onSettingGroupClick,a=e.settingValue;t&&t(a)}),h()(p()(p()(n)),"_handleSettingToggle",function(){var e,t=n.props,a=t.onSettingToggle,r=t.settingValue,i=r.value_identifier;n.setState(Object.assign({},n.state,((e={})[i]=!n.state[i],e))),a&&a(r)}),h()(p()(p()(n)),"_addToast",function(e){n.props.addToast(e)});var a=t.settingValue,r=a.value_data,i=a.value_identifier,o=a.value_type;if(Object(k.f)(o)){var s,l=n._getSettingValueFromSubtaskInputs(a);void 0===l&&(l=r.boolean_data.initial_value),n.state=((s={})[i]=l,s)}return n}c()(t,e);var n=t.prototype;return n.render=function(){switch(this.props.settingValue.value_type){case w.l.Boolean:case w.l.PreciseLocation:return this._renderSettingOption();case w.l.SettingsGroup:return this._renderSettingsGroup();case w.l.StaticText:return this._renderHeader();case w.l.DestructiveAction:return this._renderDestructiveAction();case w.l.NightMode:return this._renderNightMode();case w.l.TextSizeSlider:return this._renderTextSizeSlider();default:return null}},n._renderHeader=function(){var e=this.props,t=e.onNavigate,n=e.settingValue,a=e.subtaskInputs,r=n.primary_text;return C.a.createElement(M.a,{style:xa.header},C.a.createElement(x,o()({},r,{onNavigate:t,size:"large",subtaskInputs:a,weight:"bold"})))},n._renderDestructiveAction=function(){var e=this.props,t=e.onNavigate,n=e.removeContacts,a=e.settingValue,r=e.subtaskInputs;return C.a.createElement(M.a,{style:{marginBottom:dt.a.theme.spaces.small}},C.a.createElement(Sa,{addToast:this._addToast,onNavigate:t,removeContacts:n,removeContactsSetting:a,subtaskInputs:r}))},n._renderSettingOption=function(){var e=this.props,t=e.onNavigate,n=e.settingValue,a=e.subtaskInputs,r=n.primary_text,i=n.secondary_text,s=n.value_identifier;return C.a.createElement(M.a,{accessibilityRole:"label",accessible:!0,style:pt.option},C.a.createElement(M.a,{style:pt.checkboxText},C.a.createElement(x,o()({},r,{onNavigate:t,subtaskInputs:a})),i&&C.a.createElement(x,o()({},i,{color:"deepGray",onNavigate:t,size:"small",style:xa.secondaryText,subtaskInputs:a}))),C.a.createElement(An.a,{name:s,onValueChange:this._handleSettingToggle,value:this.state[s]}))},n._renderSettingsGroup=function(){var e=this.props,t=e.onNavigate,n=e.settingValue,a=e.subtaskInputs,r=n.primary_text,i=n.secondary_text,s=n.value_data.settings_group_data,l=s.settings,u=s.status_text_quantity_pairs;return C.a.createElement(M.a,{accessibilityRole:"button",onClick:this._handleSettingGroupClick,style:xa.settingGroup},C.a.createElement(x,o()({},r,{onNavigate:t,subtaskInputs:a})),this._renderQuantityStatus(l,u),i&&C.a.createElement(x,o()({},i,{color:"deepGray",onNavigate:t,size:"small",subtaskInputs:a})))},n._renderQuantityStatus=function(e,t){var n,a=this,r=this.props,i=r.onNavigate,s=r.subtaskInputs,l=e.reduce(function(e,t){return e+(a._getSettingValueFromSubtaskInputs(t)?1:0)},0);return t.forEach(function(e){l>=e.threshold&&(n=C.a.createElement(x,o()({},e.text,{color:"deepGray",onNavigate:i,size:"small",style:xa.quantityStatusText,subtaskInputs:s})))}),n},n._renderNightMode=function(){var e=this.props,t=e.settingValue,n=e.subtaskInputs,a=t.primary_text;return C.a.createElement(M.a,{style:xa.nightModeContainer},C.a.createElement(x,o()({},a,{subtaskInputs:n,weight:"bold"})),C.a.createElement(fa.a,null))},n._renderTextSizeSlider=function(){return C.a.createElement(M.a,{style:xa.textSizeContainer},C.a.createElement(Ca.a,{withTweetBorder:!0}))},t}(C.a.Component),xa=dt.a.create(function(e){return{header:{marginTop:e.spaces.large},secondaryText:{marginTop:e.spaces.xSmall},quantityStatusText:{marginTop:e.spaces.micro,marginBottom:e.spaces.xSmall},settingGroup:{marginTop:e.spaces.xSmall},nightModeContainer:{flexDirection:"row",justifyContent:"space-between",padding:e.spaces.xSmall,width:"100%"}}}),Ia=n("OCyo"),Ra=n.n(Ia),Pa=250,Ta=function(e){function t(t){var n;n=e.call(this,t)||this,h()(p()(p()(n)),"_formatSubtaskInputsForStore",function(e){return Object.entries(e).map(function(e){var t,n=e[0],a=e[1],r=a.result;return{key:n,response_data:(t={},t[a.type]={result:r},t)}})}),h()(p()(p()(n)),"_loadSubtaskInputsFromStore",function(){var e=n.props,t=e.subtaskId,a=e.subtaskInputs;return Object(k.c)(a,{key:w.k,subtask_id:t},[]).reduce(function(e,t){var n=t.key,a=Object.keys(t.response_data)[0],r=t.response_data[a].result;return e[n]={result:r,type:a},e},{})}),h()(p()(p()(n)),"_updateFlow",function(){var e,t=n.props,a=t.subtask,r=t.subtaskId,i=t.updateFlow,o=a.next_link,s=n.state.settingsValues;i(r,((e={})[w.k]=n._formatSubtaskInputsForStore(s),e.link=o.link_id,e))}),h()(p()(p()(n)),"_handleDoneButtonPress",function(){var e=n.props,t=e.onNavigate,a=e.subtask.next_link;n._updateFlow(),t(a)}),h()(p()(p()(n)),"_handleSubListBackClick",function(){n.setState({isSubList:!1,subList:[],subListHeader:{}}),n._updateFlow()}),h()(p()(p()(n)),"_handleSettingGroupClick",function(e){var t=e.primary_text,a=e.value_data;e.value_type===w.l.SettingsGroup&&n.setState({isSubList:!0,subList:a.settings_group_data.settings,subListHeader:t})}),h()(p()(p()(n)),"_handleScrollPromptClick",function(){n._viewport.scrollBy(n._viewport.getRect().getHeight())}),h()(p()(p()(n)),"_handleViewportSet",function(e){var t=n.context.isModal;n.props.subtask.scroll_hint&&t&&(n._viewport=e,n._viewport&&n._viewport.addScrollListener(n._handleViewportScroll))}),h()(p()(p()(n)),"_handleViewportScroll",Ra()(function(){n.state.lastSettingSeen||n.setState({lastSettingSeen:n._isLastSettingInViewport()})},Pa)),h()(p()(p()(n)),"_isLastSettingInViewport",function(){if(n._lastSetting&&n._viewport){var e=n._lastSetting.getBoundingClientRect(),t=n._viewport.getRect();return e.top>=t.getTop()&&e.bottom<=t.getBottom()}return!1}),h()(p()(p()(n)),"_setSettingsRef",function(e){return function(t){var a=n.state.isSubList;if(n.props.subtask.scroll_hint&&!a&&e&&void 0===n._lastSetting){n._lastSetting=pa.a.findDOMNode(t);var r=n._isLastSettingInViewport();r&&!n.state.lastSettingSeen&&n.setState({lastSettingSeen:r})}else n._lastSetting=void 0}}),h()(p()(p()(n)),"_handleSettingToggle",function(e){var t=e.value_identifier,a=e.value_type;if(Object(k.f)(a)){var r,i=n.state.settingsValues;n.setState({settingsValues:Object.assign({},i,(r={},r[t]=Object.assign({},i[t],{result:!i[t].result}),r))})}});var a=t.subtask,r=n._initializeSettingsState(a.settings);return n.state={isSubList:!1,subList:[],subListHeader:{},settingsValues:r,lastSettingSeen:!1},n}c()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){var e=this.context,t=e.isModal,n=e.viewport;this.props.subtask.scroll_hint&&!t&&(this._viewport=n,this._removeScrollListener=this._viewport.addScrollListener(this._handleViewportScroll)),this._updateFlow()},n.componentWillUnmount=function(){this.props.subtask.scroll_hint&&this._removeScrollListener&&this._removeScrollListener()},n.render=function(){return this.state.isSubList?this._renderSubList():this._renderMainList()},n._renderMainList=function(){var e=this.context.isModal,t=this.props,n=t.errorDialog,a=t.history,r=t.location,i=t.onBackClick,s=t.onNavigate,l=t.subtask,u=t.subtaskInputs,c=t.progressIndication,d=this.state.lastSettingSeen,p=!!!l.scroll_hint||d,f="prompt"===l.style,h=C.a.createElement(ht.a,{disabled:!p,onPress:this._handleDoneButtonPress,size:f?"normal":"normalCompact",type:"primary"},l.next_link.label),m=p?null:C.a.createElement(ua,{isModal:!!e,label:l.scroll_hint,onPress:this._handleScrollPromptClick});return C.a.createElement(O.a,{history:a,location:r,onBackClick:i,onViewportSet:this._handleViewportSet,progressIndication:c,rightControl:f?void 0:h,scrollPrompt:m},C.a.createElement(M.a,{style:[pt.contentArea,Oa.bottomPadding,f&&Oa.centeredRoot]},C.a.createElement(x,o()({},l.primary_text,{nativeID:g.c,onNavigate:s,size:"xLarge",style:Oa.headline,subtaskInputs:u,weight:"bold"})),l.secondary_text?C.a.createElement(x,o()({},l.secondary_text,{color:"deepGray",onNavigate:s,subtaskInputs:u})):null,this._renderSettingsList(l.settings),l.detail_text?C.a.createElement(x,o()({},l.detail_text,{color:"deepGray",onNavigate:s,style:Oa.detailText,subtaskInputs:u})):null,f?C.a.createElement(M.a,{style:Oa.doneButtonContainer},h):null),n)},n._renderSubList=function(){var e=this.props,t=e.history,n=e.location,a=e.onNavigate,r=e.subtaskInputs,i=this.state,s=i.subList,l=i.subListHeader;return C.a.createElement(O.a,{history:t,location:n,onBackClick:this._handleSubListBackClick},C.a.createElement(M.a,{style:pt.contentArea},C.a.createElement(x,o()({},l,{onNavigate:a,size:"xLarge",style:Oa.headline,subtaskInputs:r,weight:"bold"})),this._renderSettingsList(s)))},n._renderSettingsList=function(e){var t=this,n=this.props,a=n.addToast,r=n.onNavigate,i=n.removeContacts,o=n.subtaskId,s=n.subtaskInputs,l=n.updateFlow;return C.a.Children.toArray(e.map(function(n,u){var c=u===e.length-1;return C.a.createElement(Ea,{addToast:a,onNavigate:r,onSettingGroupClick:t._handleSettingGroupClick,onSettingToggle:t._handleSettingToggle,ref:t._setSettingsRef(c),removeContacts:i,settingValue:n,subtaskId:o,subtaskInputs:s,updateFlow:l})}))},n._initializeSettingsState=function(e){var t=this._loadSubtaskInputsFromStore();return t&&Object.keys(t).length>0?t:e.reduce(function(e,t){var n=t.value_data,a=t.value_identifier,r=t.value_type;if(Object(k.f)(r))e[a]={result:n.boolean_data.initial_value,type:Object.keys(n)[0]};else if(r===w.l.SettingsGroup){n.settings_group_data.settings.forEach(function(t){var n=t.value_data,a=t.value_identifier,r=t.value_type;Object(k.f)(r)&&(e[a]={result:n.boolean_data.initial_value,type:Object.keys(n)[0]})})}return e},{})},t}(C.a.Component);h()(Ta,"contextTypes",{isModal:E.bool,viewport:E.object});var Oa=dt.a.create(function(e){return{centeredRoot:{alignItems:"center"},headline:{marginBottom:e.spaces.xSmall},detailText:{marginTop:e.spaces.xLarge},bottomPadding:{paddingBottom:e.spaces.xxLarge},doneButtonContainer:{marginTop:e.spaces.xLarge}}}),Aa=(n("VTn2"),n("QPrz")),Ma=Object(q.createSelector)(B.l,Aa.selectPreferences,Aa.selectUserPreferences,function(e,t,n){return{navigationContext:e,personalization:t,personalizationSettings:n,shouldPropagateP13nSettings:!t.is_eu_user}}),ja={createLocalApiErrorHandler:Object(z.b)("OCF_FLOW"),fetchPreferencesIfNeeded:Aa.fetchPreferencesIfNeeded,scribeAction:L.d,syncPersonalizationSettings:Aa.syncSettings},Da=Object(V.connect)(Ma,ja),Fa=n("Z8+c"),Na=n.n(Fa),La=n("Z5Qg"),Ba=n.n(La),Ua=_.a.c11a3971,Va=_.a.ef27a258,za=function(e){function t(t,n){var a;return a=e.call(this,t,n)||this,h()(p()(p()(a)),"_updateValue",function(e){var t=a.props.callback,n=Ba()(e.trim()),r=!n&&-1!==e.toLowerCase().indexOf("twitter"),i=!n&&!r,o="";n?o=Ua:r&&(o=Va),a.setState({errorMessage:o,isValid:i,value:e}),t(e,i)}),h()(p()(p()(a)),"_handleValueChange",function(e){var t=e.target.value;a._updateValue(t)}),a.state={errorMessage:"",isValid:!0,value:""},a}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.defaultValue;e&&this._updateValue(e)},n.render=function(){var e=this.context.featureSwitch,t=this.props,n=(t.defaultValue,Na()(t,["defaultValue"])),a=this.state,r=a.errorMessage,i=a.isValid,s=e&&e.getValue("user_display_name_max_limit",50);return C.a.createElement(ut.a,o()({},n,{errorText:r,invalid:!i,maxLength:s,name:"name",onChange:this._handleValueChange,positionCursorAtEnd:!0,style:pt.formTextInput,value:this.state.value}))},t}(C.a.Component);h()(za,"contextTypes",{featureSwitch:E.object});var qa=n("tkIJ"),Ga=(n("lnZN"),new RegExp("^[a-zA-Z0-9_\\-+\\.!\\&]+@(?:[a-zA-Z0-9\\-_]+\\.)+[a-zA-Z]{2,63}$")),Ha=_.a.d680c80d,Wa=Object(wt.a)({namespace:"emailValidity",fetchOneContext:"FETCH_EMAIL_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.isEmailAvailable},fetchOneParams:function(e,t){var n=e[0];return Object.assign({email:n},t)},localValidator:function(e){var t=Ga.test(e);return{errorMessage:Ha,valid:t}}}),Ya=n("XVDi"),Ka=function(e){var t=e.onRef,n=Na()(e,["onRef"]);return C.a.createElement(Ya.a,o()({module:Wa,ref:t,type:"email"},n))},Xa=n("T4L8"),Za=n("ZJEh"),Qa=_.a.ad151f95,Ja=Object.freeze({Email:"email",Name:"name",Phone:"phone_number",Password:"password"}),$a={SelectEmail:"select_email",SelectName:"select_name",SelectPhone:"select_phone"},er={page:"onboarding",component:"signup"},tr=function(e){function t(t,n){var a;a=e.call(this,t,n)||this,h()(p()(p()(a)),"_renderPasswordField",function(){var e=a.props,t=e.subtask,n=e.subtaskId,r=e.subtaskInputs,i=a.state.defaultActiveText,o=Object(k.c)(r,{key:Ja.Password,subtask_id:n},"");return S.createElement(M.a,{style:nr.passwordEntry},S.createElement(Ft,{autoComplete:"new-password",defaultValue:o,label:t.password_hint,onPasswordChange:a._handlePasswordChange,onPasswordValidated:a._handlePasswordValidate,userIdentifier:i}))}),h()(p()(p()(a)),"_renderNameField",function(){var e=a.props,t=e.navigationContext,n=e.subtask,r=e.subtaskId,i=e.subtaskInputs,o=Object(k.c)(i,{key:Ja.Name,subtask_id:r},""),s=t.action,l={autoComplete:"name",autoFocus:!s||s===$a.SelectName,callback:a._updateNameInfo,defaultValue:o,onFocus:a._handleNameFocus,label:n.name_hint};return S.createElement(za,l)}),h()(p()(p()(a)),"_renderActiveTextField",function(){var e=a.props.subtask,t=a.state,n=t.activeTextField,r=t.defaultActiveText,i=a._shouldFocusActiveTextField(),o={autoComplete:n===Ja.Phone?"tel":"email",autoFocus:i,defaultValue:r,name:n===Ja.Phone?"phone_number":"email",label:n===Ja.Phone?e.phone_hint:e.email_hint,onRef:a._setInputRef,onValidityChange:a._updateValidity};return n===Ja.Phone?S.createElement(Xa.a,o):S.createElement(Ka,o)}),h()(p()(p()(a)),"_getIdentifierValue",function(){return a._input&&a._input.getValue()}),h()(p()(p()(a)),"_isValid",function(){var e=a.state,t=e.isNameValid,n=e.isPasswordValid,r=!a.props.subtask.show_password_field||n;return t&&r&&a._input&&a._input.isValid()}),h()(p()(p()(a)),"_setTimRef",function(e){a._timInput=e}),h()(p()(p()(a)),"_updateValidity",function(){a.setState({isValid:a._isValid()})}),h()(p()(p()(a)),"_updateNameInfo",function(e,t){a.setState({isNameValid:t,nameValue:e},a._updateValidity)}),h()(p()(p()(a)),"_handleFetchPreferences",function(){var e=a.props,t=e.createLocalApiErrorHandler;(0,e.fetchPreferencesIfNeeded)().catch(t())}),h()(p()(p()(a)),"_handlePasswordChange",function(e){a.setState({passwordValue:e},a._updateValidity)}),h()(p()(p()(a)),"_handlePasswordValidate",function(e){a.setState({isPasswordValid:e},a._updateValidity)}),h()(p()(p()(a)),"_shouldFocusActiveTextField",function(){var e=a.props.navigationContext,t=a.state.activeTextField===Ja.Phone?$a.SelectPhone:$a.SelectEmail;return!a.state.hasNameFieldBeenAutoFocused&&e.action===t}),h()(p()(p()(a)),"_handleActiveTextToggle",function(){var e=a.state.activeTextField===Ja.Phone?Ja.Email:Ja.Phone;a._scribeEvent(e,"choose"),a._input&&a._input.clear(),a.setState({activeTextField:e,defaultActiveText:""})}),h()(p()(p()(a)),"_getToggleActiveTextTitle",function(){var e=a.props.subtask;return a.state.activeTextField===Ja.Phone?e.use_email_text:e.use_phone_text}),h()(p()(p()(a)),"_handleNameFocus",function(){a.setState({hasNameFieldBeenAutoFocused:!0})}),h()(p()(p()(a)),"_handleNextButtonClick",function(){var e,t=a.props,n=t.onNavigate,r=t.shouldPropagateP13nSettings,i=t.subtask,o=t.subtaskId,s=t.updateFlow,l=a.state,u=l.activeTextField,c=l.nameValue,d=l.passwordValue,p=a.props.personalizationSettings||{},f=p.allowCookieUse,h=p.allowDeviceAccess,m=p.allowPartnerships,_=p.allowPersonalization,g=r?{personalization_settings:{allow_cookie_use:!!f,allow_device_personalization:!!h,allow_partnerships:!!m,allow_ads_personalization:!!_}}:{},b=i.show_password_field?{password:d}:{},v=u===Ja.Email&&i.email_next_link?i.email_next_link:i.next_link,y=a._timInput&&a._timInput.value?{response:a._timInput.value}:void 0,k=a._getIdentifierValue()||void 0;s(o,Object.assign(((e={})[u]=k,e.js_instrumentation=y,e.link=v.link_id,e.name=c,e),b,g)),n(v)}),h()(p()(p()(a)),"_scribeEvent",function(e,t){(0,a.props.scribeAction)(Object.assign({},er,{element:e,action:t}))}),h()(p()(p()(a)),"_setInputRef",function(e){a._input=e&&e.getWrappedInstance()});var r=t.navigationContext,i=t.subtaskId,o=t.subtaskInputs,s=Object(k.c)(o,{key:Ja.Name,subtask_id:i},""),l=Object(k.c)(o,{key:Ja.Phone,subtask_id:i},""),u=Object(k.c)(o,{key:Ja.Email,subtask_id:i},""),c=Object(k.c)(o,{key:Ja.Password,subtask_id:i},""),d=function(e){switch(r.action){case $a.SelectPhone:return{type:Ja.Phone,value:l};case $a.SelectEmail:return{type:Ja.Email,value:u};default:return{type:u?Ja.Email:Ja.Phone,value:u||l}}}();return a.state={activeTextField:d.type,defaultActiveText:d.value,nameValue:s,hasNameFieldBeenAutoFocused:!1,passwordValue:c,isNameValid:void 0,isPasswordValid:!!c,isValid:void 0},a}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){Za.a.inject("https://twitter.com/i/js_inst?c_name=ui_metrics"),this._handleFetchPreferences(),this.props.syncPersonalizationSettings()},n.componentDidUpdate=function(){this._shouldFocusActiveTextField()&&this._input&&this._input.focus()},n.render=function(){var e=this.props,t=e.subtask,n=e.history,a=e.location,r=e.progressIndication,i=S.createElement(ht.a,{disabled:!this.state.isValid,onPress:this._handleNextButtonClick,size:"normalCompact",type:"primary"},t.next_link.label);return S.createElement(O.a,{history:n,location:a,progressIndication:r,rightControl:i},S.createElement(qa.a,{title:Qa}),S.createElement(M.a,{style:pt.contentArea},t.primary_text&&S.createElement(y.a,{nativeID:g.c,size:"xLarge",style:pt.headline,weight:"bold"},t.primary_text),this._renderNameField(),this._renderActiveTextField(),S.createElement(y.a,{accessibilityRole:"button",color:"blue",onPress:this._handleActiveTextToggle,style:nr.toggleLink},this._getToggleActiveTextTitle()),t.show_password_field?this._renderPasswordField():null,S.createElement("input",{autoComplete:"off",name:"ui_metrics",ref:this._setTimRef,type:"hidden"})))},t}(S.Component),nr=dt.a.create(function(e){return{toggleLink:{marginTop:e.spaces.small},passwordEntry:{marginTop:e.spaces.small}}}),ar=Da(tr),rr=_.a.f6b6a2e1,ir=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,h()(p()(p()(t)),"_handleSignupButtonClick",function(){var e,n=t.props,a=n.onNavigate,r=n.subtask,i=n.subtaskId,o=n.subtaskInputs,s=n.updateFlow,l=r.phone_number,u=r.email,c=l&&l.subtask_data_reference&&Object(k.c)(o,l.subtask_data_reference),d=u&&u.subtask_data_reference&&Object(k.c)(o,u.subtask_data_reference);c?e=r.phone_next_link:d&&(e=r.email_next_link),e&&s(i,{link:e.link_id}),e&&a(e)}),h()(p()(p()(t)),"_handleNavigationClick",function(e){(0,t.props.onNavigate)(e)}),h()(p()(p()(t)),"_handleNameEdit",function(){var e=t.props.subtask;t._handleNavigationClick(e.name_edit_link)}),h()(p()(p()(t)),"_handlePhoneEdit",function(){var e=t.props.subtask;t._handleNavigationClick(e.phone_edit_link)}),h()(p()(p()(t)),"_handleEmailEdit",function(){var e=t.props.subtask;t._handleNavigationClick(e.email_edit_link)}),h()(p()(p()(t)),"_handlePrivacyOptionsClick",function(e){return function(n){n.preventDefault(),t._handleNavigationClick(e)}}),h()(p()(p()(t)),"_getSignupButtonLabel",function(){var e=t.props,n=e.subtask,a=e.subtaskInputs,r=n.phone_number,i=n.email,o=r&&r.subtask_data_reference&&Object(k.c)(a,r.subtask_data_reference),s=i&&i.subtask_data_reference&&Object(k.c)(a,i.subtask_data_reference);return o?n.phone_next_link.label:s?n.email_next_link.label:rr}),t}c()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.errorDialog,n=e.history,a=e.location,r=e.onBackClick,i=e.progressIndication;return S.createElement(O.a,{history:n,location:a,onBackClick:r,progressIndication:i},S.createElement(M.a,null,S.createElement(M.a,{style:pt.contentArea},this._maybeRenderPrimaryText(),this._renderNameField(),this._renderPhoneOrEmailField(),this._maybeRenderDetailText(),S.createElement(ht.a,{onPress:this._handleSignupButtonClick,size:"large",style:pt.primaryButton,type:"primary"},this._getSignupButtonLabel()))),t)},n._maybeRenderPrimaryText=function(){var e=this.props.subtask;return e.primary_text?S.createElement(y.a,{align:"left",nativeID:g.c,size:"xLarge",style:pt.headline,weight:"bold"},e.primary_text):null},n._maybeRenderDetailText=function(){var e=this.props,t=e.onNavigate,n=e.subtask,a=e.subtaskInputs,r=n.detail_text;return r?S.createElement(x,o()({},r,{onNavigate:t,style:or.detailText,subtaskInputs:a})):null},n._renderNameField=function(){var e=this.props,t=e.subtask,n=e.subtaskInputs,a=t.name&&t.name.subtask_data_reference&&Object(k.c)(n,t.name.subtask_data_reference);return S.createElement(M.a,{name:"editName",onClick:this._handleNameEdit},S.createElement(ut.a,{defaultValue:a||"",name:"name",style:pt.formTextInput}))},n._renderPhoneOrEmailField=function(){var e=this.props,t=e.subtask,n=t.phone_number,a=t.email,r=e.subtaskInputs,i=n&&n.subtask_data_reference&&Object(k.c)(r,n.subtask_data_reference),o=a&&a.subtask_data_reference&&Object(k.c)(r,a.subtask_data_reference);return i?S.createElement(M.a,{name:"editPhone",onClick:this._handlePhoneEdit},S.createElement(ut.a,{defaultValue:i||"",name:"phone",style:pt.formTextInput})):o?S.createElement(M.a,{name:"editEmail",onClick:this._handleEmailEdit},S.createElement(ut.a,{defaultValue:o||"",name:"email",style:pt.formTextInput})):null},t}(S.Component),or=dt.a.create(function(e){return{detailText:{marginTop:e.spaces.jumbo}}}),sr=ir,lr=Object(q.createSelector)(function(e,t){var n=Bn.f(e);return Ln.f(e,n)[0]},function(e,t){var n=Bn.g(e);return Ln.f(e,n)[0]},function(e,t){return{avatarMedia:e,bannerMedia:t}}),ur={scribeAction:L.d,updateProfileAvatar:Bn.i,updateProfileBanner:Bn.j},cr=Object(V.connect)(lr,ur),dr=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,h()(p()(p()(t)),"_scribeUploadStart",function(e){var n=t.props,a=n.flowToken,r=n.subtaskId,i=n.scribeAction,o=n.scribeNamespace;i(Object.assign({},o,{section:e,element:"upload",action:"start"}),{items:[{token:a,name:r}]})}),h()(p()(p()(t)),"_updateMedia",function(){var e=t.props,n=e.avatarMedia,a=e.bannerMedia,r=e.subtask.sources,i=e.updateProfileAvatar,o=e.updateProfileBanner;return new Promise(function(e,s){try{r.forEach(function(e){var r=e.style;r===w.h.Avatar&&n?(t._scribeUploadStart("select_avatar"),i(n.id)):r===w.h.Banner&&a&&(t._scribeUploadStart("select_banner"),o(a.id))}),e()}catch(e){s(e)}})}),t}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.subtask,n=e.subtaskId,a=e.onNavigate;return C.a.createElement(Ut,{navigationLink:t.next_link,onNavigate:a,subtaskAction:this._updateMedia,subtaskId:n})},t}(C.a.Component),pr=Object(ne.b)()(cr(dr)),fr=(n("9Yib"),n("A0n/"),n("FaZr"),n("ssQ9")),hr=n("rps5"),mr=n.n(hr),_r=n("s92t"),gr=n("g6Al"),br=n("CqBa"),vr=n("GHKZ"),yr=function(e){function t(t){var n;return n=e.call(this,t)||this,h()(p()(p()(n)),"_renderGroup",function(e){var t=e.items.every(function(e){return n.props.followedUserIds.has(e.user_id_str)});return S.createElement(M.a,{key:e.header,style:wr.group},S.createElement(M.a,{style:wr.groupHeader},S.createElement(y.a,{size:"large",weight:"bold"},e.header),n.state.useCheckboxes?S.createElement(An.a,{onValueChange:n._handleGroupCheckboxChange(e,t),value:t}):null),n._renderUserCells(e.items))}),h()(p()(p()(n)),"_renderSearchedUsers",function(e){var t=n.props.selectedSearchHeader,a=mr()(e);return t&&a.length?S.createElement(M.a,{key:"search-results",style:wr.group},S.createElement(M.a,{style:wr.groupHeader},S.createElement(y.a,{size:"large",weight:"bold"},t)),n._renderSearchUserCells(a)):null}),h()(p()(p()(n)),"_getSearchCellDecorator",function(e){if(n.state.useCheckboxes){var t=n._handleSearchUserUnfollowed(e.id_str);return S.createElement(An.a,{onValueChange:t,value:!0})}return n._getUserFollowButton({id:e.id_str,name:e.name,screenName:e.screen_name,isFollowing:!0,onFollow:function(e){return T.a},onUnfollow:n._handleSearchUserUnfollowed})}),h()(p()(p()(n)),"_handleSearchUserUnfollowed",function(e){return function(){return n.props.onSearchUserRemove(e)}}),h()(p()(p()(n)),"_renderUserCell",function(e){var t=e.id,a=e.description,r=e.name,i=e.profileImageUrl,o=e.screenName,s=e.isFollowing,l=e.isVerified,u=e.onCellClick,c=e.decorator,d=e.tweets,p=e.user,f=u(t,s);return S.createElement(M.a,{accessibilityRole:"label",key:t,style:wr.userCellContainer},S.createElement(gr.a,{avatarUri:i,decoration:c,description:a,displayMode:br.a.UserDetailed,entities:{},isVerified:l,key:t,name:r,onCellClick:f,promotedItemType:"users",screenName:o,style:wr.userCell,userId:t,withLink:!1}),d&&0!==d.length&&p?n._renderQuoteTweet(d,p):null)}),h()(p()(p()(n)),"_getUserFollowButton",function(e){var t=e.id,a=e.name,r=e.screenName,i=e.isFollowing,o=e.onFollow,s=e.onUnfollow;return S.createElement(fr.a,{displayMode:"only-text",isFollowing:i,isLoggedIn:n.context.loggedInUserId,onFollow:o(t),onUnfollow:s(t),showRelationshipChangeConfirmation:!1,size:"normalCompact",style:wr.followButton,userId:t,userName:a,userScreenName:r})}),h()(p()(p()(n)),"_getUserCellDecorator",function(e,t){var a=e.user,r=e.user_id_str;if(n.state.useCheckboxes){var i=n._handleDecoratorChange(r,t);return S.createElement(An.a,{onValueChange:i,value:t})}return n._getUserFollowButton({id:r,name:a.name,screenName:a.screen_name,isFollowing:t,onFollow:n._handleOnFollow,onUnfollow:n._handleOnUnfollow})}),h()(p()(p()(n)),"_handleGroupCheckboxChange",function(e,t){return function(){var a=e.items.map(function(e){return e.user_id_str});n._updateFollowedItems(a,!t)}}),h()(p()(p()(n)),"_handleOnFollow",function(e){return function(){n._updateFollowedItems([e],!0)}}),h()(p()(p()(n)),"_handleOnUnfollow",function(e){return function(){n._updateFollowedItems([e],!1)}}),h()(p()(p()(n)),"_handleDecoratorChange",function(e,t){return function(){n._updateFollowedItems([e],!t)}}),n.state={useCheckboxes:t.followButtonType===w.e.Checkbox},n}c()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.groupedUsers,n=e.selectedSearchUsers;return S.createElement(M.a,null,this._renderSearchedUsers(n),t.map(this._renderGroup))},n._renderSearchUserCells=function(e){var t=this;return e.map(function(e){var n=t._getSearchCellDecorator(e);return t._renderUserCell({id:e.id_str,name:e.name,profileImageUrl:e.profile_image_url_https,screenName:e.screen_name,isFollowing:!0,isVerified:e.verified,onCellClick:t._handleSearchUserUnfollowed,decorator:n})})},n._renderUserCells=function(e){var t=this,n=this.props.followedUserIds;return e.map(function(e){var a=e.user,r=e.user_id_str,i=e.tweets,o=n.has(r),s=t._getUserCellDecorator(e,o);return t._renderUserCell({id:r,description:a.description,name:a.name,profileImageUrl:a.profile_image_url_https,screenName:a.screen_name,isFollowing:o,isVerified:a.verified,onCellClick:t._handleDecoratorChange,decorator:s,tweets:i,user:a})})},n._renderQuoteTweet=function(e,t){return S.createElement(M.a,{style:wr.quoteTweetContainer},S.createElement(vr.a,{style:wr.userStats,user:t,withLink:!1}),S.createElement(_r.a,{shouldTruncate:!0,style:wr.quoteTweet,tweet:e[0],withInlineMedia:!0,withLink:!0}))},n._updateFollowedItems=function(e,t){var n=this.props,a=n.onFollow,r=n.onUnfollow;t?a(e):r(e)},t}(S.Component);h()(yr,"contextTypes",{loggedInUserId:E.string});var kr,wr=dt.a.create(function(e){return{group:{borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:e.colors.borderColor},followButton:{alignSelf:"flex-start",marginLeft:e.spaces.xSmall},groupHeader:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",marginVertical:e.spaces.xSmall,paddingHorizontal:e.spaces.medium},userCell:{borderTopWidth:"1px",borderTopStyle:"solid",borderTopColor:e.colors.borderColor,paddingHorizontal:e.spaces.medium},quoteTweetContainer:{marginBottom:e.spaces.medium,paddingRight:e.spaces.medium,paddingLeft:"calc(2*"+e.spaces.xLarge+")"},quoteTweet:{marginTop:e.spaces.xSmall},userCellContainer:{display:"flex",flexDirection:"column",justifyContent:"center"},userStats:{marginBottom:e.spaces.xSmall,marginLeft:e.spaces.micro}}}),Sr=[en.a.Users],Cr={SelectedUserRecommendations:"selected_user_recommendations"},Er=function(e){function t(t){var n;n=e.call(this,t)||this,h()(p()(p()(n)),"_getPreCheckedUsers",function(e){return void 0===e&&(e=[]),Ht()(e.reduce(function(e,t){var n=t.items.reduce(function(e,t){return t.checked_by_default&&e.push(t.user_id_str),e},[]);return[].concat(qt()(e),qt()(n))},[]))}),h()(p()(p()(n)),"_getFollowText",function(e,t,n){return!e||n<1?t:e.concat(n.toString())}),h()(p()(p()(n)),"_handleSelectionChanged",function(e){n.setState({selectedUsers:e})}),h()(p()(p()(n)),"_handleOnUnfollowsSelected",function(e){var t=Ht()(qt()(n.state.selectedUsers)),a=n.state.selectedSearchUsers,r=e,i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}var l=s;t.has(l)&&t.delete(l),delete a[l]}n.setState({selectedUsers:t,selectedSearchUsers:a})}),h()(p()(p()(n)),"_handleOnFollowsSelected",function(e){var t=Ht()(qt()(n.state.selectedUsers)),a=e,r=Array.isArray(a),i=0;for(a=r?a:a[Symbol.iterator]();;){var o;if(r){if(i>=a.length)break;o=a[i++]}else{if((i=a.next()).done)break;o=i.value}var s=o;t.add(s)}n.setState({selectedUsers:t})}),h()(p()(p()(n)),"_handleFollowButtonClick",function(){var e=n.props,t=e.onNavigate,a=e.subtask,r=e.subtaskId;(0,e.updateFlow)(r,{link:a.next_link.link_id,selected_user_recommendations:qt()(n.state.selectedUsers),searched_users:Object.keys(n.state.selectedSearchUsers)}),t(a.next_link)}),h()(p()(p()(n)),"_handleSkipButtonClick",function(){var e=n.props,t=e.onNavigate,a=e.subtask.skip_link,r=e.subtaskId,i=e.updateFlow;a&&i(r,{link:a.link_id}),a&&t(a)}),h()(p()(p()(n)),"_handleSearchUserRemoved",function(e){return n._handleOnUnfollowsSelected([e])}),h()(p()(p()(n)),"_handleSearchSuggestionSelected",function(e,t){var a=e.data,r=n.state,i=r.selectedSearchUsers,o=r.selectedUsers;n._recommendedUsers.has(a.id_str)&&o.add(a.id_str),i[a.id_str]=a,n.setState({selectedSearchUsers:i,selectedUsers:o})});var a=t.subtaskId,r=t.subtaskInputs,i=Ht()([]),o=Object(k.c)(r,{key:Cr.SelectedUserRecommendations,subtask_id:a},i);return n._recommendedUsers=Ht()(t.subtask.groups.map(function(e){return e.items.map(function(e){return e.user_id?e.user_id.toString():""})}).reduce(function(e,t){return e.concat(t)})),n.state={selectedSearchUsers:{},selectedUsers:o&&o.size?o:n._getPreCheckedUsers(t.subtask.groups)},n}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.history,n=e.location,a=e.onBackClick,r=e.onNavigate,i=e.subtask,s=e.subtaskInputs,l=this.state,u=l.selectedSearchUsers,c=l.selectedUsers,d=(((i.next_link_threshold_text||{})[0]||{}).text||{}).text,p=i.next_link.label,f=(u?Object.keys(u).length:0)+c.size,h=this._getFollowText(d,p,f),m=S.createElement(ht.a,{onPress:this._handleFollowButtonClick,size:"normalCompact",type:"primary"},h),_=i.skip_link?S.createElement(ht.a,{onPress:this._handleSkipButtonClick,size:"normalCompact",type:"text"},i.skip_link.label):null,b=null===i.min_follow_count||void 0===i.min_follow_count?1:i.min_follow_count,v=c.size>=b?m:_,y=i.show_user_search?S.createElement(M.a,{style:[pt.contentArea,xr.searchContainer]},S.createElement(Qt.c,{filter:Sr,onItemClick:this._handleSearchSuggestionSelected,placeholder:i.hint,rounded:!0,shouldAutoFocus:!0,shouldClearOnSelect:!0,source:en.c.WelcomeFlow})):null;return S.createElement(O.a,{history:t,location:n,onBackClick:a,rightControl:v},S.createElement(M.a,null,S.createElement(M.a,{style:xr.main},i.primary_text?S.createElement(x,o()({},i.primary_text,{nativeID:g.c,onNavigate:r,size:"xLarge",style:pt.headline,subtaskInputs:s,weight:"bold"})):null,i.secondary_text?S.createElement(x,o()({},i.secondary_text,{onNavigate:r,size:"normal",style:pt.subHeader,subtaskInputs:s,weight:"bold"})):null),y,S.createElement(M.a,null,S.createElement(yr,{followButtonType:i.follow_button_type,followedUserIds:c,groupedUsers:i.groups,onFollow:this._handleOnFollowsSelected,onSearchUserRemove:this._handleSearchUserRemoved,onUnfollow:this._handleOnUnfollowsSelected,selectedSearchHeader:i.custom_recommendations_header&&i.custom_recommendations_header.text||void 0,selectedSearchUsers:u}))),this.props.errorDialog)},t}(S.Component),xr=dt.a.create(function(e){return{secondaryText:{marginBottom:e.spaces.small},main:{marginHorizontal:e.spaces.medium},searchContainer:{marginBottom:e.spaces.small,zIndex:1}}}),Ir=n("DnGj"),Rr=_.a.i100b596,Pr=_.a.g8a7fba2,Tr=((kr={})[Ir.a.Offline]=Rr,kr),Or=function(e,t,n){var a,r,i=((a={})[kn.a.AccessDeniedByBouncer]={customAction:function(t){Object(z.a)(t,{flow:e})}},a);if(n)r=Object.assign({},i,{customErrorHandler:function(a){var r=a.errors[0];r.code===kn.a.AccessDeniedByBouncer?Object(z.a)(r,{flow:e}):n(t||Tr[r.code]||Pr)}});else if(t){var o,s={toast:{text:t}};r=Object.assign(((o={})[kn.a.ValidationFailure]=s,o[kn.a.OnboardingFlowRetriableFailure]=s,o.defaultToast={text:t},o.showToast=!0,o),i)}else r=Object.assign({defaultToast:{text:Pr},showToast:!0},i,Object.entries(Tr).reduce(function(e,t){var n=t[0],a=t[1];return e[n]={toast:{text:a}},e},{}));return r};n.d(t,"OcfScreen",function(){return Dr});var Ar={page:"onboarding"},Mr=_.a.c684bbf6,jr=_.a.df4ade0c,Dr=function(e){function t(t){var n;return n=e.call(this,t)||this,h()(p()(p()(n)),"_sendGaOnboardingEvent",function(e){(0,n.props.googleAnalyticsSendEvent)("signup",e,"new-user")}),h()(p()(p()(n)),"_startFlow",function(e){var t=e.countryCode,a=e.debugOverrides,r=e.inputFlowData,i=e.location,o=e.startFlow,s=e.startLocation,l=e.testCountryCode,u=e.flowName,c=e.createLocalApiErrorHandler,d=i.state||{},p=d.fromApp,f=d.gatedAction,h=Object.keys(s||{}).length?{start_location:s}:{start_location:{location:p?"unknown":"manual_link"}},m={flow_context:Object.assign({debug_overrides:a,gated_action:f},h)},_=Object.assign({},r,{country_code:t||r.country_code},m);"signup"===u&&n._sendGaOnboardingEvent("signup-clicked"),n._onFirstTaskSinceStart=!0,o({flow_name:u,input_flow_data:_,test_country_code:l}).catch(c(Or(u,null,n._displayFailureMessage)))}),h()(p()(p()(n)),"_handleFlowRestart",function(){n._startFlow(n.props)}),h()(p()(p()(n)),"_handleDeepLink",function(e){n.props.history.replace(Object(Bt.b)(e))}),h()(p()(p()(n)),"_handleAbortFlow",function(e){var t=n.props,a=t.clearFlow,r=t.currentSubtask,i=t.history,o=t.onAbort,s=t.returnPath,l=t.returnUrl;a({clearPersistence:!0});var u=r&&Object(k.e)(r);if(o)o();else{var c="on"===re.a.parse(document.cookie)[Fn.s];if(et.b.isTwitterRootDomain()&&!c)if(s){var d="https://twitter.com"+(0===s.indexOf("/")?s:"/"+s);et.b.deregisterServiceWorkerAndNavigateTo(d)}else if(l){var p=et.b.isTwitterUrl(l)?l:"https://twitter.com";et.b.deregisterServiceWorkerAndNavigateTo(p)}else et.b.deregisterServiceWorkerAndNavigateTo("https://twitter.com");else s?i.replace({pathname:s,query:{flow_status:e}}):u===w.m.OpenHomeTimeline?i.replace("/"):(n._unblockHistory(),i.goBack())}}),h()(p()(p()(n)),"_displayFailureMessage",function(e){n.setState({alertFailureMessage:e})}),h()(p()(p()(n)),"_submitFlow",function(e){var t=(void 0===e?{}:e).isTaskNavigation,a=n.props,r=a.flowName,i=a.submitFlow,o=a.createLocalApiErrorHandler;return i({isTaskNavigation:t}).then(function(e){return n._onFirstTaskSinceStart=!1,e},function(e){var t=n.props,a=t.failureMessage,i=t.shouldAbort;return o(Or(r,a,i&&n._displayFailureMessage))(e)})}),h()(p()(p()(n)),"_handleNavigate",function(e,t){void 0===t&&(t=!1);var a=n.props,r=a.navigateSubtask,i=a.submitFlow,o=e.is_destructive,s=e.subtask_id,l=e.subtask_navigation_context;switch(n._scribeSubtaskNavigate(e),e.link_type){case w.i.Abort:i().catch(T.a),n._handleAbortFlow();break;case w.i.Subtask:r({subtaskId:s,navigationContext:l,destructive:o,fromHiddenSubtask:t});break;case w.i.Finish:case w.i.Task:n._submitFlow({isTaskNavigation:!0});break;case w.i.Deeplink:n._submitFlow(),n._handleDeepLink(e.url);break;case w.i.DeeplinkAndAbort:i().catch(T.a),n._handleDeepLink(e.url);break;case w.i.WeblinkAndAbort:i().catch(T.a),window.open(e.url,"_blank"),n._handleAbortFlow();break;case w.i.Web:et.b.navigateTo(e.url);break;case w.i.ChromelessWeb:case w.i.DeeplinkInPlace:break;default:Object(Dn.a)("Unknown Navigation Link Type "+e.link_type),n._handleAbortFlow()}}),h()(p()(p()(n)),"_scribeSubtaskNavigate",function(e){var t=n.props,a=t.currentSubtask,r=t.scribeAction,i=t.flowToken;if(a&&a.subtask_id){var o=e.link_id;r(Object.assign({},Ar,{element:"link",action:"click"}),{items:[{token:i,name:a.subtask_id,description:o}]})}}),h()(p()(p()(n)),"_navigateToSubtask",function(e){return function(){n._handleNavigate({link_type:w.i.Subtask,subtask_id:e})}}),h()(p()(p()(n)),"_endFlowSubtaskAction",function(e,t){var a=n.props.submitFlow;switch(t){case w.i.Abort:a().catch(T.a).then(function(){return n._handleAbortFlow(e)});break;case w.i.Finish:n._submitFlow().then(function(){return n._handleAbortFlow(e)});break;default:Object(Dn.a)("Unknown End Flow Type "+t),n._handleAbortFlow()}}),h()(p()(p()(n)),"_render",function(){var e=n.props,t=e.currentSubtask,a=e.previousNavigableSubtaskId,r=e.subtasks.find(function(e){return e.subtask_id===a});return t.alert_dialog||t.menu_dialog?C.a.createElement(C.a.Fragment,null,n._renderSubtask(t),n._renderSubtask(r)):n._renderSubtask(t)}),h()(p()(p()(n)),"_renderDefault",function(){var e=n.props,t=e.currentSubtask,a=e.flowToken,r=e.history,i=e.location,o=e.subtasks.map(function(e){return C.a.createElement(y.a,{key:e.subtask_id,onClick:n._navigateToSubtask(e.subtask_id)},e.subtask_id)});return C.a.createElement(O.a,{history:r,location:i},C.a.createElement(M.a,{style:{margin:5}},C.a.createElement(y.a,null,a),C.a.createElement(y.a,null,"Current Subtask: "+(t&&t.subtask_id)),o))}),h()(p()(p()(n)),"_handleInvisibleSubtask",function(e,t,n){return function(){return new Promise(function(a,r){a(n(e,t))})}}),h()(p()(p()(n)),"_onNoopInvisibleSubtask",function(){return Promise.resolve()}),h()(p()(p()(n)),"_navigateToPreviousSubtask",function(){var e=n.props;(0,e.navigateSubtask)({subtaskId:e.previousNavigableSubtaskId,destructive:!0})}),h()(p()(p()(n)),"_renderErrorDialog",function(){var e=n.props,t=e.failureMessage,a=e.history,r=e.location;return C.a.createElement(O.a,{hideBackButton:!0,history:a,location:r},C.a.createElement(b.a,{confirmLabel:jr,headline:Mr,onConfirm:n._handleAbortFlow,showCancel:!1,text:t||Pr}))}),h()(p()(p()(n)),"_renderSubtask",function(e){var t=n.props,a=t.addToast,r=t.fetchTemporaryPassword,i=t.flowName,s=t.flowToken,l=t.history,u=t.location,c=t.previousNavigableSubtaskId,d=t.removeContacts,p=t.shouldAbort,f=t.submitFailed,h=t.subtaskInputs,m=t.updateFlow,_=e.subtask_id,g=e.progress_indication,v=Object(k.e)(e),y=p?C.a.createElement(b.a,{confirmLabel:jr,headline:Mr,onConfirm:n._handleAbortFlow,showCancel:!1,text:n.state.alertFailureMessage}):null,S={onNavigate:n._handleNavigate,progressIndication:g,subtaskId:_,updateFlow:m,history:l,location:u},E=c?{onBackClick:n._navigateToPreviousSubtask}:{};switch(v){case w.m.EndFlow:return n._endFlowSubtaskAction(e.end_flow.status,e.end_flow.end_flow_type),n._renderDefault();case w.m.FetchPassword:return C.a.createElement(Ut,o()({navigationLink:e.fetch_temporary_password.next_link,subtaskAction:n._handleInvisibleSubtask(_,e.fetch_temporary_password,r),subtaskType:v},S));case w.m.CallToAction:return C.a.createElement(N,o()({errorDialog:y,subtask:e.cta,subtaskInputs:h},S,E));case w.m.AppDownloadCTA:return C.a.createElement(D,o()({errorDialog:y,subtask:e.app_download_cta,subtaskInputs:h},S,E));case w.m.AlertDialog:return C.a.createElement(I,o()({subtask:e.alert_dialog,subtaskInputs:h},S,E));case w.m.MenuDialog:return C.a.createElement(sn,o()({subtask:e.menu_dialog,subtaskInputs:h},S));case w.m.OpenAccount:return n._sendGaOnboardingEvent("account-create"),C.a.createElement(Ut,o()({navigationLink:e.open_account.next_link,subtaskAction:n._openAccountAction,subtaskType:v},S));case w.m.Signup:return C.a.createElement(ar,o()({subtask:e.sign_up,subtaskInputs:h},S));case w.m.SignupReview:return C.a.createElement(sr,o()({errorDialog:y,subtask:e.sign_up_review,subtaskInputs:h},S,E));case w.m.PhoneVerification:return C.a.createElement(Tn,o()({errorDialog:y,submitFailed:f,subtask:e.phone_verification,subtaskInputs:h},S,E));case w.m.PrivacyOptions:return C.a.createElement(jn,o()({subtask:e.privacy_options,subtaskInputs:h},S));case w.m.InterestPicker:return C.a.createElement(rn,o()({errorDialog:y,subtask:e.interest_picker,subtaskInputs:h},S));case w.m.NotificationsPermissionPrompt:return C.a.createElement(hn,o()({subtask:e.notifications_permission_prompt,subtaskInputs:h},S));case w.m.OpenHomeTimeline:return"signup"===i&&n._sendGaOnboardingEvent("complete-NUX"),C.a.createElement(Ut,o()({navigationLink:e.open_home_timeline.next_link,subtaskAction:n._onNoopInvisibleSubtask},S));case w.m.OpenLink:return C.a.createElement(_n,o()({subtask:e.open_link},S));case w.m.UploadMedia:return C.a.createElement(pr,o()({flowToken:s,subtask:e.upload_media},S));case w.m.UserRecommendations:return C.a.createElement(Er,o()({errorDialog:y,subtask:e.user_recommendations_list,subtaskInputs:h},S));case w.m.EnterPassword:return C.a.createElement(Nt,o()({errorDialog:y,subtask:e.enter_password,subtaskInputs:h},S));case w.m.SettingsList:return C.a.createElement(Ta,o()({addToast:a,errorDialog:y,removeContacts:d,subtask:e.settings_list,subtaskInputs:h},S,E));case w.m.EmailContactsSync:return C.a.createElement(rt,o()({errorDialog:y,subtask:e.email_contacts_sync,subtaskInputs:h},S,E));case w.m.SelectAvatar:return C.a.createElement(Zn,o()({errorDialog:y,subtask:e.select_avatar,subtaskInputs:h},S,E));case w.m.SelectBanner:return C.a.createElement(oa,o()({errorDialog:y,subtask:e.select_banner,subtaskInputs:h},S,E));case w.m.EnterText:return C.a.createElement(Lt,o()({errorDialog:y,subtask:e.enter_text,subtaskInputs:h},S,E));case w.m.EmailVerification:return C.a.createElement(vt,o()({errorDialog:y,submitFailed:f,subtask:e.email_verification,subtaskInputs:h},S,E));default:return n._renderDefault()}}),h()(p()(p()(n)),"_scribeSubtaskView",function(){var e=n.props,t=e.currentSubtask,a=e.scribeAction,r=e.flowToken;t&&t.subtask_id&&a(Object.assign({},Ar,{element:"view",action:"impression"}),{items:[{token:r,name:t.subtask_id}]})}),h()(p()(p()(n)),"_openAccountAction",function(){var e=n.props,t=e.logNymizerSignup,a=e.scribeAction,r=e.verifyCredentials,i=Object(gn.d)(),o=i.encryptedReferer,s=i.encryptedReferralDetails;return r().then(function(){t(),n._maybeScribeAppInstallBanner(),a({page:"signup",action:"success"},{referer:o,external_referer:s})})}),h()(p()(p()(n)),"_maybeScribeAppInstallBanner",function(){var e=n.props.scribeAction;F.a.hasPromptWaiting()&&e({page:"signup",component:"install_banner",action:"waiting"})}),n.state={alertFailureMessage:""},n}c()(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){this.props.flowName!==e.flowName&&this._startFlow(e)},n.componentDidUpdate=function(e){var t=e.currentSubtask,n=this.props.currentSubtask,a=t&&t.subtask_id;n&&n.subtask_id!==a&&this._scribeSubtaskView()},n.UNSAFE_componentWillMount=function(){this._startFlow(this.props)},n.componentDidMount=function(){var e=this,t=this.props,n=t.googleAnalyticsPageView,a=t.history;(0,t.scribePageImpression)(Ar),n(Ar),this._unblockHistory=a.block(function(t,n){var a=!e.currentPreviousNavigableSubtaskId&&e._onFirstTaskSinceStart;return!("POP"===n&&!a)||(e.currentPreviousNavigableSubtaskId&&e._navigateToPreviousSubtask(),!1)})},n.componentWillUnmount=function(){this._unblockHistory&&this._unblockHistory(),this.props.clearFlow()},n.render=function(){var e=this.props,t=e.currentSubtask;e.shouldEndFlow&&this._handleAbortFlow();var n=this.props.fetchStatus;return n===Ze.a.FAILED||t||(n=Ze.a.LOADING),C.a.createElement(M.a,{style:Fr.root},C.a.createElement(Qe.a,{fetchStatus:n,onRequestRetry:this._handleFlowRestart,render:this._render,renderFailure:this._renderErrorDialog,retryable:!this.props.shouldAbort}))},l()(t,[{key:"currentPreviousNavigableSubtaskId",get:function(){return this.props.previousNavigableSubtaskId}}]),t}(C.a.Component);h()(Dr,"defaultProps",{inputFlowData:{}});var Fr=dt.a.create(function(e){return{root:{backgroundColor:e.colors.cellBackground,flexGrow:1,flexShrink:1}}});t.default=Object(ne.b)(Ar)(te(Dr))},DOzz:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return p});var a=n("mJx5"),r=(n.n(a),n("sp77")),i=n.n(r),o=n("4fSK"),s=n("zEXV"),l={Web:0,Email:1,Partner:2,Market:3,Access:4},u={"01":"twcamp^share|twsrc^android|twgr^sms","02":"twcamp^share|twsrc^android|twgr^email","03":"twcamp^share|twsrc^android|twgr^gmail","04":"twcamp^share|twsrc^android|twgr^facebook","05":"twcamp^share|twsrc^android|twgr^wechat","06":"twcamp^share|twsrc^android|twgr^line","07":"twcamp^share|twsrc^android|twgr^fbmessenger","08":"twcamp^share|twsrc^android|twgr^whatsapp","09":"twcamp^share|twsrc^android|twgr^other",10:"twcamp^share|twsrc^ios|twgr^sms",11:"twcamp^share|twsrc^ios|twgr^email",12:"twcamp^share|twsrc^ios|twgr^other",13:"twcamp^share|twsrc^android|twgr^download",14:"twcamp^share|twsrc^ios|twgr^download",15:"twcamp^share|twsrc^android|twgr^hangouts",16:"twcamp^share|twsrc^android|twgr^twitterdm",17:"twcamp^share|twsrc^m5|twgr^email",18:"twcamp^share|twsrc^m5|twgr^download",19:"twcamp^share|twsrc^android|twgr^copy",20:"twcamp^share|twsrc^m5|twgr^copy",21:"twcamp^share|twsrc^ios|twgr^copy"},c=function(e){var t,n,a=e.query,r=void 0===a?{}:a,i=e.httpReferer,o=void 0===i?"":i,c=e.carrierInfo,d=void 0===c?{}:c,p=e.requestUrl,f=void 0===p?"":p,h=r.cn,m=r.iid,_=r.original_referer,g=r.nid,b=r.ref_src,v=r.ref_url,y=r.s,k=r.partner,w=r.uid,S=r.url,C={};if(b)C={referral_type:l.Web,referral_details_str:b,url:f};else if(m){var E;try{E=window.atob(h)}catch(e){E="invalid"}C={referral_type:l.Email,referral_details_str:"twcamp^email|twsrc^"+g+"|twcon^"+w+"|twterm^"+m+"|twgr^"+E,url:f}}else if(y){var x=u[y];C=x?{referral_type:l.Web,referral_details_str:x,url:f}:{}}else if(k)C={referral_type:l.Partner,referral_details_str:"twsrc^"+k,url:f};else if(d&&void 0!==d.accessBannerFlag&&d.carrierKey){var I=(t=d.accessBannerFlag?"banner":"no_banner",n=d.carrierKey,"twsrc^$ZeroRateCampaign|twgr^"+t+"|twterm^"+n);C={referral_type:l.Access,referral_details_str:I,url:f}}else o&&s.b.isExternalUrl(o)&&(C={referral_type:l.Web,url:f});var R=v||_||S||o;return R&&(C.referer=R),C},d=function(e){var t=function(e){var t=e&&e.encryptedReferralDetails||"",n=e&&e.encryptedReferer||"",a=e&&""+e.referralType||"";if(t||n||a)return encodeURIComponent(n)+"|"+a+"|"+encodeURIComponent(t)}(e);if(t)return i.a.serialize("external_referer",t,{maxAge:604800,path:"/",domain:".twitter.com",encode:function(e){return e}})},p=function(){var e=Object(o.a)("external_referer");if(e&&e.split("|").length>1){var t=e.split("|");return{encryptedReferer:t[0],referralType:t[1],encryptedReferralDetails:t[2]}}return{}}},EKta:function(e,t,n){"use strict";t.byteLength=function(e){return 3*e.length/4-u(e)},t.toByteArray=function(e){var t,n,a,o,s,l,c=e.length;s=u(e),l=new i(3*c/4-s),a=s>0?c-4:c;var d=0;for(t=0,n=0;t<a;t+=4,n+=3)o=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],l[d++]=o>>16&255,l[d++]=o>>8&255,l[d++]=255&o;2===s?(o=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,l[d++]=255&o):1===s&&(o=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,l[d++]=o>>8&255,l[d++]=255&o);return l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i="",o=[],s=0,l=n-r;s<l;s+=16383)o.push(c(e,s,s+16383>l?l:s+16383));1===r?(t=e[n-1],i+=a[t>>2],i+=a[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=a[t>>10],i+=a[t>>4&63],i+=a[t<<2&63],i+="=");return o.push(i),o.join("")};for(var a=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)a[s]=o[s],r[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function c(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(a[(i=r)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},EuP9:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var a=n("EKta"),r=n("ujcs"),i=n("sOR5");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,n,a):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|h(t,n),r=(e=s(e,a)).write(t,n);r!==a&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(a=t.length)!=a?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(a)return U(e).length;t=(""+t).toLowerCase(),a=!0}}function m(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function _(e,t,n,a,r){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:g(e,t,n,a,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,a,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,a,r){var i,o=1,s=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var c=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*o}else-1!==c&&(i-=i-c),c=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,p=0;p<l;p++)if(u(e,i+p)!==u(t,p)){d=!1;break}if(d)return i}return-1}function b(e,t,n,a){n=Number(n)||0;var r=e.length-n;a?(a=Number(a))>r&&(a=r):a=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");a>i/2&&(a=i/2);for(var o=0;o<a;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function v(e,t,n,a){return z(U(t,e.length-n),e,n,a)}function y(e,t,n,a){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function k(e,t,n,a){return y(e,t,n,a)}function w(e,t,n,a){return z(V(t),e,n,a)}function S(e,t,n,a){return z(function(e,t){for(var n,a,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),a=n>>8,r=n%256,i.push(r),i.push(a);return i}(t,e.length-n),e,n,a)}function C(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var a=[],r=t;r<n;){var i,o,s,l,u=e[r],c=null,d=u>239?4:u>223?3:u>191?2:1;if(r+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(i=e[r+1]))&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:i=e[r+1],o=e[r+2],128==(192&i)&&128==(192&o)&&(l=(15&u)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=e[r+1],o=e[r+2],s=e[r+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(l=(15&u)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,a.push(c>>>10&1023|55296),c=56320|1023&c),a.push(c),r+=d}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=x));return n}(a)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,a){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof a?s(e,t).fill(n,a):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,r=0,i=Math.min(n,a);r<i;++r)if(e[r]!==t[r]){n=e[r],a=t[r];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,r),r+=o.length}return a},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,a,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),t<0||n>e.length||a<0||r>this.length)throw new RangeError("out of range index");if(a>=r&&t>=n)return 0;if(a>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,a>>>=0,r>>>=0,this===e)return 0;for(var i=r-a,o=n-t,s=Math.min(i,o),u=this.slice(a,r),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){i=u[d],o=c[d];break}return i<o?-1:o<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var i=!1;;)switch(a){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function I(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(127&e[r]);return a}function R(e,t,n){var a="";n=Math.min(e.length,n);for(var r=t;r<n;++r)a+=String.fromCharCode(e[r]);return a}function P(e,t,n){var a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var r="",i=t;i<n;++i)r+=B(e[i]);return r}function T(e,t,n){for(var a=e.slice(t,n),r="",i=0;i<a.length;i+=2)r+=String.fromCharCode(a[i]+256*a[i+1]);return r}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,a,r,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function M(e,t,n,a){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(a?r:1-r))>>>8*(a?r:1-r)}function j(e,t,n,a){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(a?r:3-r)&255}function D(e,t,n,a,r,i){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,a,i){return i||D(e,0,n,4),r.write(e,t,n,a,23,4),n+4}function N(e,t,n,a,i){return i||D(e,0,n,8),r.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){var n,a=this.length;if(e=~~e,t=void 0===t?a:~~t,e<0?(e+=a)<0&&(e=0):e>a&&(e=a),t<0?(t+=a)<0&&(t=0):t>a&&(t=a),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var a=this[e],r=1,i=0;++i<t&&(r*=256);)a+=this[e+i]*r;return a},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var a=this[e+--t],r=1;t>0&&(r*=256);)a+=this[e+--t]*r;return a},l.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var a=this[e],r=1,i=0;++i<t&&(r*=256);)a+=this[e+i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var a=t,r=1,i=this[e+--a];a>0&&(r*=256);)i+=this[e+--a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var r,i=a-n;if(this===e&&n<t&&t<a)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=l.isBuffer(e)?e:U(new l(e,a).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var a=e.length,r=null,i=[],o=0;o<a;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===a){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function V(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,a){for(var r=0;r<a&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(t,n("DuR2"))},F2iK:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=i(n("B1Ul")),r=i(n("sBfw"));function i(e){return e&&e.__esModule?e:{default:e}}var o=r.default.currentCentroidXOfTouchesChangedAfter,s=r.default.currentCentroidYOfTouchesChangedAfter,l=r.default.previousCentroidXOfTouchesChangedAfter,u=r.default.previousCentroidYOfTouchesChangedAfter,c=r.default.currentCentroidX,d=r.default.currentCentroidY,p={_initializeGestureState:function(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=o(t,e._accountsForMovesUpTo),e.moveY=s(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,a=l(t,n),r=o(t,n),i=u(t,n),c=s(t,n),d=e.dx+(r-a),p=e.dy+(c-i),f=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(d-e.dx)/f,e.vy=(p-e.dy)/f,e.dx=d,e.dy=p,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create:function(e){var t={handle:null},n={stateID:Math.random()};return p._initializeGestureState(n),{panHandlers:{onStartShouldSetResponder:function(t){return void 0!==e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(t,n)},onMoveShouldSetResponder:function(t){return void 0!==e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(t,n)},onStartShouldSetResponderCapture:function(t){return 1===t.nativeEvent.touches.length&&p._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,void 0!==e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(t,n)},onMoveShouldSetResponderCapture:function(t){var a=t.touchHistory;return n._accountsForMovesUpTo!==a.mostRecentTimeStamp&&(p._updateGestureStateOnMove(n,a),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(t,n))},onResponderGrant:function(r){return t.handle||(t.handle=a.default.createInteractionHandle()),n.x0=c(r.touchHistory),n.y0=d(r.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(r,n),void 0===e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder()},onResponderReject:function(a){f(t,e.onPanResponderReject,a,n)},onResponderRelease:function(a){f(t,e.onPanResponderRelease,a,n),p._initializeGestureState(n)},onResponderStart:function(t){var a=t.touchHistory;n.numberActiveTouches=a.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(t,n)},onResponderMove:function(t){var a=t.touchHistory;n._accountsForMovesUpTo!==a.mostRecentTimeStamp&&(p._updateGestureStateOnMove(n,a),e.onPanResponderMove&&e.onPanResponderMove(t,n))},onResponderEnd:function(a){var r=a.touchHistory;n.numberActiveTouches=r.numberActiveTouches,f(t,e.onPanResponderEnd,a,n)},onResponderTerminate:function(a){f(t,e.onPanResponderTerminate,a,n),p._initializeGestureState(n)},onResponderTerminationRequest:function(t){return void 0===e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(t,n)}},getInteractionHandle:function(){return t.handle}}}};function f(e,t,n,r){e.handle&&(a.default.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,r)}var h=p;t.default=h,e.exports=t.default},GHKZ:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n("86MP"),r=n.n(a),i=n("fKPv"),o=n.n(i),s=n("plj8"),l=n.n(s),u=n("GiK3"),c=(n.n(u),n("XO25")),d=n("Pebv"),p=n("64LN"),f=n.n(p),h=n("KSGD"),m=(n.n(h),l.a.j0d798e1),_=l.a.af082387,g=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.context.loggedInUserId,t=this.props,n=t.style,a=t.user,r=t.withLink,i=a.followers_count,o=a.friends_count,s=a.id_str,p=a.screen_name,h=e===s,g=Object(c.b)({isOwnProfile:h,user:a}),b=g?"/"+p+"/following":"/"+p,v=g?"/"+p+"/followers":"/"+p,y=function(e){return _(e)},k=function(e){return e>=1e4?m(e):y(e)};return u.createElement(d.a,null,function(e){return u.createElement(f.a.Group,{style:n},u.createElement(f.a,{link:r?b:void 0,onPress:e(),title:y(o)},u.createElement(l.a.I18NFormatMessage,{$i18n:"a7609657"},u.createElement(f.a.Value,null,l.a.h88485ae({formattedCount:k(o)})),u.createElement(f.a.Label,null,l.a.e3e33eb3({count:o})))),u.createElement(f.a,{link:r?v:void 0,onPress:e(),title:y(i)},u.createElement(l.a.I18NFormatMessage,{$i18n:"j6c94d93"},u.createElement(f.a.Value,null,l.a.h88485ae({formattedCount:k(i)})),u.createElement(f.a.Label,null,l.a.ja576868({count:i})))))})},t}(u.PureComponent);o()(g,"contextTypes",{loggedInUserId:h.string}),o()(g,"defaultProps",{withLink:!0})},GXZf:function(e,t,n){"use strict";t.c=function(e,t,n){var a=t.key,r=t.subtask_id,i=e[r]&&e[r][a];return void 0===i?n:i},n.d(t,"b",function(){return c}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return m});var a=n("fx22"),r=(n.n(a),n("WgSQ")),i=(n.n(r),n("tJwI")),o=(n.n(i),n("WpTh")),s=(n.n(o),n("mJx5")),l=(n.n(s),n("86z1")),u=n("pVDu");var c=function(e){return(e?e.split(","):[]).reduce(function(e,t){var n=t.split(":",2),a=n[0],r=n[1];return a&&r&&(e[a]=r),e},{})},d=function(e){switch(e){case u.b.Primary:return"primary";case u.b.Text:return"text";case u.b.DestructiveSecondary:return"destructiveSecondary";default:return Object(l.a)("Unknown Button Style ${style}"),"primary"}},p={subtask_id:null,progress_indication:null,alert_dialog:u.m.AlertDialog,app_download_cta:u.m.AppDownloadCTA,cta:u.m.CallToAction,email_contacts_sync:u.m.EmailContactsSync,email_verification:u.m.EmailVerification,enter_password:u.m.EnterPassword,enter_text:u.m.EnterText,end_flow:u.m.EndFlow,fetch_temporary_password:u.m.FetchPassword,interest_picker:u.m.InterestPicker,menu_dialog:u.m.MenuDialog,notifications_permission_prompt:u.m.NotificationsPermissionPrompt,open_account:u.m.OpenAccount,open_home_timeline:u.m.OpenHomeTimeline,open_link:u.m.OpenLink,phone_verification:u.m.PhoneVerification,privacy_options:u.m.PrivacyOptions,select_avatar:u.m.SelectAvatar,select_banner:u.m.SelectBanner,settings_list:u.m.SettingsList,sign_up:u.m.Signup,sign_up_review:u.m.SignupReview,upload_media:u.m.UploadMedia,user_recommendations_list:u.m.UserRecommendations},f=function(e){return e&&Object.keys(e).find(function(e){return p[e]})||null},h=function(e){var t=f(e);return t?p[t]:null},m=function(e){return e===u.l.Boolean||e===u.l.PreciseLocation}},GfdX:function(e,t,n){"use strict";var a=n("86MP"),r=n.n(a),i=n("M1I4"),o=n.n(i),s=n("fKPv"),l=n.n(s),u=n("plj8"),c=n.n(u),d=n("GiK3"),p=(n.n(d),n("P+1r")),f=n.n(p),h=n("/8xP"),m=n.n(h),_=n("thTC"),g=n.n(_),b=n("9Kq5"),v=n("CHw2"),y=(n("uwYN"),n("fc63")),k=n.n(y),w=n("fF1d"),S=n.n(w),C=n("ydcI"),E=n.n(C),x=n("jYKd"),I=n.n(x),R=n("KSGD"),P=(n.n(R),n("MjES")),T=n.n(P),O=n("5nt5"),A=(n.n(O),c.a.d48f8353),M=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,l()(o()(o()(t)),"_setMediaPickerRef",function(e){t._mediaPickerRef=e}),l()(o()(o()(t)),"_getAcceptedFileInputs",function(){var e=t.props,n=e.acceptGifs,a=e.acceptVideo,r=["image/png","image/jpeg"];return n&&(r=r.concat(["image/gif"])),a&&(r=r.concat(["video/webm","video/ogg","video/quicktime"])),r}),l()(o()(o()(t)),"_handleAddMediaFiles",function(e){return t._mediaPickerRef&&t._mediaPickerRef.getWrappedInstance().addMedia(e)}),l()(o()(o()(t)),"_handleDragDrop",function(e){var n=f()(e),a=t._getAcceptedFileInputs();n&&a.indexOf(n.type)>-1&&t._handleAddMediaFiles([n])}),t}r()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.borderRadius,n=e.maskStyle,a=e.mediaItem,r=e.onRemove,i=e.rootStyle,o=a&&!a.uploader;return d.createElement(T.a,{style:[D.container,i,j[t]]},d.createElement(E.a,{onFilesAdded:this._handleDragDrop,style:[D.dragDropContainer,j[t]]},this._renderPreview(),o?null:d.createElement(d.Fragment,null,d.createElement(T.a,{style:[D.mask,n,j[t]]}),d.createElement(T.a,{style:D.mediaPicker},this._renderMediaPicker(),r?this._renderMediaRemove():null))))},n._renderMediaRemove=function(){var e=this.props.onRemove;return d.createElement(S.a,{accessibilityLabel:A,icon:d.createElement(g.a,null),onPress:e,style:D.remove,type:"invertedText"})},n._renderMediaPicker=function(){var e=this.props,t=e.acceptGifs,n=e.acceptVideo,a=e.accessibilityLabel,r=e.maxGifSize,i=e.maxImageSize,o=e.onChange,s=e.onFailure,l=e.onRemove;return d.createElement(b.a,{acceptGifs:t,acceptVideo:n,accessibilityLabel:a,icon:d.createElement(m.a,null),maxGifSize:r,maxImageSize:i,onChange:o,onFailure:s,onRemove:l,ref:this._setMediaPickerRef,type:"invertedText"})},n._renderPreview=function(){var e=this.props,t=e.aspectRatio,n=e.borderRadius,a=e.currentContent,r=e.mediaItem;return r?d.createElement(k.a,{ratio:t},d.createElement(v.a,{borderRadius:n,enableGif:!1,mediaItem:r,style:D.mediaPreview,withCloseButton:!1})):a},t}(d.Component);l()(M,"defaultProps",{acceptGifs:!1,acceptVideo:!1,aspectRatio:1,borderRadius:"none"});var j=I.a.create(function(e){return{infinite:{borderRadius:e.borderRadii.infinite},medium:{borderRadius:e.borderRadii.medium},none:{borderRadius:0}}}),D=I.a.create(function(e){return{mediaPreview:{height:"100%"},mediaPicker:{alignItems:"center",flexDirection:"row",height:"100%",justifyContent:"center",opacity:.75,position:"absolute",top:0,width:"100%"},remove:{marginLeft:e.spaces.large},mask:{backgroundColor:e.colors.translucentBlack30,height:"100%",position:"absolute",top:0,width:"100%"},container:{justifyContent:"center",overflow:"hidden"},dragDropContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.transparent,borderStyle:"solid"}}});t.a=M},KM5a:function(e,t,n){"use strict";var a=n("R6lU");t.__esModule=!0,t.default=void 0;var r=a(n("lt8z")),i=a(n("Z8+c")),o=a(n("86MP")),s=a(n("M1I4")),l=a(n("fKPv")),u=a(n("GiK3")),c=a(n("vuwl")),d=a(n("O27J")),p=a(n("a05n")),f=a(n("MjES")),h=(a(n("5nt5")),function(e,t){return Math.sqrt(Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2))}),m=function(e,t){return{clientX:Math.min(t.clientX,e.clientX)+Math.abs(t.clientX-e.clientX)/2,clientY:Math.min(t.clientY,e.clientY)+Math.abs(t.clientY-e.clientY)/2}},_=function(e){function t(t){var n;return n=e.call(this,t)||this,(0,l.default)((0,s.default)((0,s.default)(n)),"_previousTouchDistance",0),(0,l.default)((0,s.default)((0,s.default)(n)),"_previousPositionX",0),(0,l.default)((0,s.default)((0,s.default)(n)),"_previousPositionY",0),(0,l.default)((0,s.default)((0,s.default)(n)),"_centerPosition",{x:0,y:0}),(0,l.default)((0,s.default)((0,s.default)(n)),"_panResponder",{}),(0,l.default)((0,s.default)((0,s.default)(n)),"_setRef",function(e){var t=n.props,a=t.onPanMove,r=t.onPanEnd,i=t.onPinchMove,o=t.onWheel,s=d.default.findDOMNode(e);if(s instanceof window.HTMLElement){(a||r||i)&&(n._removeTouchMoveToScrollListener=(0,c.default)(s,"touchmove",n._preventDefaultEvent,!1)),o&&(n._removeScrollToScaleListener=(0,c.default)(s,"wheel",n._preventDefaultEvent,!1));var l=s.getBoundingClientRect();n._centerPosition={x:l.width/2+l.left,y:l.height/2+l.top}}}),(0,l.default)((0,s.default)((0,s.default)(n)),"_preventDefaultEvent",function(e){e.preventDefault()}),(0,l.default)((0,s.default)((0,s.default)(n)),"_handlePanResponderMove",function(e,t){var a=n.props,r=a.onPinchMove,i=a.onPanMove,o=e.nativeEvent.touches;if(2===o.length){if(r){var s=h(o[0],o[1]),l=m(o[0],o[1]),u=l.clientX,c=l.clientY,d=n._previousPositionX?u-n._previousPositionX:0,p=n._previousPositionY?c-n._previousPositionY:0,f=n._previousTouchDistance?s-n._previousTouchDistance:0;n._previousPositionX=u,n._previousPositionY=c,n._previousTouchDistance=s;var _=n._centerPosition;r(f,_.x-u,_.y-c,d,p)}}else i&&i(t.dx,t.dy)}),(0,l.default)((0,s.default)((0,s.default)(n)),"_handlePanResponderEnd",function(e,t){n.props.onPanEnd&&n.props.onPanEnd(t.dx,t.dy),n.props.onPinchMove&&(n._previousTouchDistance=0),n._previousPositionX=0,n._previousPositionY=0}),(0,l.default)((0,s.default)((0,s.default)(n)),"_handleWheel",function(e){var t=e.clientX,a=e.clientY,r=e.deltaX,i=e.deltaY,o=n._centerPosition,s=o.x-t,l=o.y-a;n.props.onWheel&&n.props.onWheel(r,i,s,l)}),n._panResponder=p.default.create({onStartShouldSetPanResponder:function(){return!0},onMoveShouldSetPanResponder:function(){return!0},onPanResponderMove:n._handlePanResponderMove,onPanResponderRelease:n._handlePanResponderEnd,onPanResponderTerminate:n._handlePanResponderEnd}),n}(0,o.default)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.onWheel,e.onPanMove,e.onPanEnd,e.onPinchMove,e.children,(0,i.default)(e,["onWheel","onPanMove","onPanEnd","onPinchMove","children"]));return u.default.createElement(f.default,(0,r.default)({},t,{onWheel:this._handleWheel,ref:this._setRef},this._panResponder.panHandlers),this.props.children)},n.componentWillUnmount=function(){this._removeTouchMoveToScrollListener&&this._removeTouchMoveToScrollListener(),this._removeScrollToScaleListener&&this._removeScrollToScaleListener()},t}(u.default.Component);t.default=_},LEGc:function(e,t,n){"use strict";t.__esModule=!0,t.cancelIdleCallback=t.default=void 0;var a=n("czSA").canUseDOM&&void 0!==window.requestIdleCallback,r=a?window.requestIdleCallback:function(e,t){return setTimeout(function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i=a?window.cancelIdleCallback:function(e){clearTimeout(e)};t.cancelIdleCallback=i;var o=r;t.default=o},LgvV:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),t.b=function(e){void 0===e&&(e="/");var t=Object(l.a)(u.s),n=t&&d[t]||u.t.OFF;Object(l.b)(i.a.serialize(u.s,n,{path:"/",domain:".twitter.com",maxAge:c})),s.b.deregisterServiceWorkerAndNavigateTo(e)};var a,r=n("sp77"),i=n.n(r),o=n("3f1i"),s=n("zEXV"),l=n("4fSK"),u=n("/FRN"),c=31536e3,d=((a={})[u.t.ON]=u.t.OFF,a[u.t.SIDE]=u.t.OFF_SIDE,a[u.t.TOP]=u.t.OFF_TOP,a),p=function(){var e=Object(l.a)(u.s);return o.a.isTrue("responsive_web_allow_switch_to_ms")&&s.b.isTwitterRootDomain()&&e!==u.t.SIDE_NO_OUT&&e!==u.t.TOP_NO_OUT}},N4KQ:function(e,t,n){var a=n("Ds5P");a(a.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},NNCV:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("n12u");var a=o(n("x5lS")),r=o(n("GiK3")),i=o(n("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M19.75 19.89H4.25C3.01 19.89 2 18.88 2 17.64v-7.28c0-1.24 1.01-2.25 2.25-2.25h15.5c1.24 0 2.25 1.01 2.25 2.25v7.277c0 1.24-1.01 2.25-2.25 2.25zM4.25 9.61c-.413 0-.75.338-.75.75v7.278c0 .413.337.75.75.75h15.5c.413 0 .75-.337.75-.75V10.36c0-.412-.337-.75-.75-.75H4.25z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},"P+1r":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("IMUI");t.default=function(e){return Array.isArray(e)?e[0]:void 0}},Qfhh:function(e,t,n){"use strict";t.a=function(e){void 0===e&&(e={});var t=e,n=t.localValidator,a=void 0===n?m:n,r=o()(t,["localValidator"]),i=Object(c.a)(Object.assign({customActions:{clear:{reducer:function(e,t){return{}}}}},r));i.clear=function(){return function(e){return e({type:i.customActionTypes.clear.SUCCESS})}},i.validate=function(e,t){return function(n){var r,o=a(e,t);return o.valid?n(i.fetchOneIfNeeded(e)):(n(i.add(((r={})[e]=o,r))),Promise.resolve())}};return i.selectEntitiesWithFetchStatus=Object(s.createSelector)(i.selectAll,function(e){return i.selectState(e).fetchStatus||u.a},function(e,t){return h()(t,function(t,n){var a=e[n]||{};return Object.assign({},a,{valid:!!a.valid||t===p.a.FAILED,isLoading:t===p.a.LOADING})})}),d.a.register(i)};var a=n("y9m4"),r=(n.n(a),n("n12u")),i=(n.n(r),n("Z8+c")),o=n.n(i),s=n("bndy"),l=(n.n(s),n("TJez")),u=n.n(l),c=n("KCLT"),d=n("qDka"),p=n("zAiL"),f=n("VBrc"),h=n.n(f),m=function(e){return{valid:!0}}},T4L8:function(e,t,n){"use strict";var a=n("lt8z"),r=n.n(a),i=n("Z8+c"),o=n.n(i),s=(n("KSGD"),n("n12u"),n("lnZN"),n("plj8")),l=n.n(s),u=n("Qfhh"),c=new RegExp("^\\+?[0-9\\-\\.\\(\\)\\s]{7,1000}$"),d=l.a.a40de2c9,p=Object(u.a)({namespace:"phoneNumberValidity",fetchOneContext:"FETCH_PHONE_VALIDITY",fetchOneEndpoint:function(e){return e.Validity.isPhoneNumberAvailable},fetchOneParams:function(e,t){var n=e[0];return Object.assign({raw_phone_number:n},t)},localValidator:function(e){var t=c.test(e);return{errorMessage:d,valid:t}}}),f=n("GiK3"),h=n.n(f),m=n("XVDi");t.a=function(e){var t=e.onRef,n=o()(e,["onRef"]);return h.a.createElement(m.a,r()({module:p,ref:t,type:"tel"},n))}},TW6s:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("VjuZ");var a=n("86MP"),r=n.n(a),i=n("M1I4"),o=n.n(i),s=n("fKPv"),l=n.n(s),u=n("plj8"),c=n.n(u),d=n("GiK3"),p=n("2Uj9"),f=n("4n+p"),h=n("bndy"),m=function(e){return function(t,n){return n.location.query[e]}},_=m("user_identifier"),g=m("phone"),b=m("email"),v=m("pin_code"),y=Object(h.createSelector)(b,_,g,v,function(e,t,n,a){return{identifier:t,email:e,phone:n,pinCode:a}}),k={verificationLink:p.w},w=Object(f.connect)(y,k),S=n("zAiL"),C=n("Y2tT"),E=n("UB1R"),x=n("uMse"),I=n.n(x),R=n("qyjT"),P=n("jYKd"),T=n.n(P),O=n("MjES"),A=n.n(O);n.d(t,"VerificationLanding",function(){return F});var M=c.a.f82ce57c,j=c.a.a7828ea9,D=c.a.c22f67e7,F=function(e){function t(t){var n;return n=e.call(this,t)||this,l()(o()(o()(n)),"_render",function(){return d.createElement(E.a,{actionLabel:D,message:n.state.title,onAction:n._handleCloseWindow,onClose:n._handleCloseWindow,subtext:n.state.message,withCloseButton:!1})}),l()(o()(o()(n)),"_handleCloseWindow",function(){window&&window.close(),n.props.history.replace("/")}),n.state={title:void 0,message:void 0,fetchStatus:S.a.LOADING},n}r()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props,n=t.history,a=t.location,r=t.verificationLink,i=t.identifier,o=t.email,s=t.phone,l=t.pinCode;return n.replace(a.pathname),r({user_identifier:i,email:o,phone:s,pin_code:l}).then(function(t){return e.setState({fetchStatus:t.success?S.a.LOADED:S.a.FAILED,title:t.title,message:t.message})}).catch(function(){return e.setState({title:M,message:j,fetchStatus:S.a.FAILED})})},n.render=function(){var e=this.props,t=e.history,n=e.location;return d.createElement(R.a,{history:t,location:n},d.createElement(A.a,{style:N.root},d.createElement(C.a,{fetchStatus:this.state.fetchStatus,onRequestRetry:I.a,render:this._render,renderFailure:this._render,retryable:!1})))},t}(d.Component),N=T.a.create(function(e){return{root:{backgroundColor:e.colors.cellBackground,flexGrow:1,flexShrink:1}}});t.default=w(F)},XO25:function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n("cWOA");t.a=function(e){var t=e.displaySensitiveMedia,n=e.isNotFound,a=e.isSuspended,i=e.isWithheld,o=e.loggedInUserId,s=e.user,l=e.userProfileInterstitialType,u=o===s.id_str,c=s.blocked_by,d=s.blocking,p=r({displaySensitiveMedia:t,isOwnProfile:u,user:s,userProfileInterstitialType:l}),f=u||!p&&!n&&!a&&!i,h=u||!i,m=u||!d&&!c&&!p&&!a&&!i,_=!(u||c||p||n||a||i),g=!u&&!c&&!d&&!p&&!n&&!a&&!i&&(s.following||!s.protected),b=(u||!i)&&!a;return{avatar:f,badges:h,description:m,followButton:_,followersYouKnow:g,followIndicator:!i,fullName:b,label:b,stats:m}};var r=function(e){var t=e.displaySensitiveMedia,n=e.isOwnProfile,r=e.user,i=e.userProfileInterstitialType;return(i===a.a.SensitiveMedia||i===a.a.OffensiveProfileContent)&&!(n||r.following||t)},i=function(e){var t=e.isOwnProfile,n=e.user,a=n.blocked_by,r=n.protected&&!n.following;return t||!r&&!a}},XVDi:function(e,t,n){"use strict";n("EuXz");var a=n("86MP"),r=n.n(a),i=n("M1I4"),o=n.n(i),s=n("fKPv"),l=n.n(s),u=n("2KeS"),c=n("4n+p"),d=n("sLaq"),p=n("bndy"),f=Object(p.createSelector)(function(e,t){return t.module.selectEntitiesWithFetchStatus(e)},function(e){return{validity:e}}),h=Object(c.connect)(f,function(e,t){var n=t.module;return Object(u.bindActionCreators)({clearValidity:n.clear,createLocalApiErrorHandler:Object(d.b)("VALIDITY_FIELD_CONTEXT"),validate:n.validate},e)},null,{withRef:!0}),m=n("NreW"),_=n.n(m),g=n("L7BP"),b=n("GiK3"),v=n.n(b),y=n("jYKd"),k=n.n(y),w=(n("5nt5"),n("KSGD"),function(e){function t(t,n){var a;a=e.call(this,t,n)||this,l()(o()(o()(a)),"_setInputRef",function(e){a._input=e}),l()(o()(o()(a)),"_handleValueChange",function(e){var t=a.props.onChange,n=e.target.value.trim();a._validateDebounced(n),a.setState({value:n}),t&&t(e)}),l()(o()(o()(a)),"_getIsValid",function(e,t){return!!(t&&e[t]&&e[t].valid)});var r=t.defaultValue||"";return a.state={value:r,isValid:a._getIsValid(t.validity,r)},a._validateDebounced=_()(function(){var e;return(e=a.props).validate.apply(e,arguments).catch(a.props.createLocalApiErrorHandler())},500),a}r()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.clearValidity(),this._validateDebounced.clear()},n.componentDidMount=function(){var e=this.props.defaultValue;e&&this._validateDebounced(e),this.props.onValidityChange(this.state.isValid)},n.UNSAFE_componentWillUpdate=function(e,t){var n=this.props.validity,a=this.state.value;if(n!==e.validity||a!==t.value){var r=this._getIsValid(e.validity,t.value);this.state.isValid!==r&&this.setState({isValid:r})}},n.componentDidUpdate=function(e,t){t.isValid!==this.state.isValid&&this.props.onValidityChange(this.state.isValid)},n.render=function(){var e=this.props,t=e.autoComplete,n=e.autoFocus,a=e.editable,r=e.label,i=e.name,o=e.placeholder,s=e.style,l=e.type,u=e.validity,c=this.state.value,d=c&&u[c]?u[c].errorMessage:"";return v.a.createElement(g.a,{autoComplete:t,autoFocus:n,editable:a,errorText:d,invalid:!!d,label:r,name:i,onChange:this._handleValueChange,placeholder:o,ref:this._setInputRef,style:[S.root,s],type:l,value:this.state.value})},n.clear=function(){this.setState({value:"",isValid:!1})},n.isValid=function(){return this.state.isValid},n.getValue=function(){return this.state.value},n.focus=function(){this._input&&this._input.focus()},t}(v.a.Component));l()(w,"defaultProps",{label:""});var S=k.a.create(function(e){return{root:{padding:0,paddingLeft:0,paddingRight:0}}});t.a=h(w)},"XyS+":function(e,t,n){"use strict";var a=n("R6lU");t.__esModule=!0,t.default=void 0,n("SU+a");var r=a(n("86MP")),i=a(n("M1I4")),o=a(n("fKPv"));n("N4KQ");var s=a(n("GiK3")),l=a(n("fF1d")),u=a(n("ZFYz")),c=a(n("/Y4e")),d=a(n("NNCV")),p=a(n("kjWL")),f=n("cQzJ"),h=a(n("pcgs")),m=a(n("KM5a")),_=a(n("1KDF")),g=a(n("jYKd")),b=a(n("3niV")),v=a(n("UvVB")),y=a(n("MjES")),k=25,w=0,S=200,C=500,E=function(e,t){var n,a,r=e.width,i=e.height;return t>=1?r>(n=(a=i)*t)&&(a=(n=r)/t):i>(a=(n=r)/t)&&(a=i,n=i*t),{width:n,height:a}},x=function(e,t){var n,a,r=e.width,i=e.height;return t>=1?(a=(n=r)/t)>i&&(a=i,n=i*t):(n=(a=i)*t)>r&&(n=r,a=r/t),{width:n,height:a}},I=Math.log2||function(e){return Math.log(e)*Math.LOG2E},R=function(e){return Math.max(Math.min(I(e.width/150),I(e.height/150),3),.5)},P=function(e){function t(t){var n;return n=e.call(this,t)||this,(0,o.default)((0,i.default)((0,i.default)(n)),"_previousLeft",0),(0,o.default)((0,i.default)((0,i.default)(n)),"_previousTop",0),(0,o.default)((0,i.default)((0,i.default)(n)),"_panStyles",{top:0,left:0}),(0,o.default)((0,i.default)((0,i.default)(n)),"_touchOnlyUI",!1),(0,o.default)((0,i.default)((0,i.default)(n)),"_renderControls",function(){var e=n.props,t=e.image,a=e.uiStrings,r=e.withAspectRatioOptions,i=n.state.aspectRatio,o=t.width/t.height;return r||!n._touchOnlyUI?s.default.createElement(y.default,{style:T.controlsContainer},r?s.default.createElement(y.default,{style:T.ratioContainer},s.default.createElement(l.default,{accessibilityLabel:a.aspectRatioOriginal,borderColor:"transparent",color:i===o?"blue":"deepGray",icon:s.default.createElement(u.default,null),onPress:n._setAspectRatio(o),size:"normal"}),s.default.createElement(l.default,{accessibilityLabel:a.aspectRatioWide,borderColor:"transparent",color:i===16/9?"blue":"deepGray",icon:s.default.createElement(d.default,null),onPress:n._setAspectRatio(16/9),size:"normal"}),s.default.createElement(l.default,{accessibilityLabel:a.aspectRatioSquare,borderColor:"transparent",color:1===i?"blue":"deepGray",icon:s.default.createElement(c.default,null),onPress:n._setAspectRatio(1),size:"normal"})):null,n._touchOnlyUI?null:s.default.createElement(y.default,{style:T.zoomContainer},s.default.createElement(_.default,{accessibilityLabel:a.scaleLabel,max:n._maxScale,maxIcon:s.default.createElement(p.default,{style:T.iconMax}),min:w,minIcon:s.default.createElement(p.default,{style:T.iconMin}),onChange:n._handleScaleChange,step:"any",value:n.state.imageScale}))):null}),(0,o.default)((0,i.default)((0,i.default)(n)),"_setImageRef",function(e){n._imageRef=e}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handleScaleChange",function(e){n.setState({imageScale:e})}),(0,o.default)((0,i.default)((0,i.default)(n)),"_getImageDimensions",function(){var e=n.state.imageScale,t=n.props.image.width/n.props.image.height,a=n._getMaskDimensions(),r=a.width,i=a.height,o=E({width:r,height:i},t),s=o.width,l=o.height;return{width:s*Math.pow(2,e),height:l*Math.pow(2,e)}}),(0,o.default)((0,i.default)((0,i.default)(n)),"_getMaskDimensions",function(){var e=n.state,t=e.aspectRatio,a=e.containerWidth,r=e.containerHeight,i=x({width:a-2*k,height:r-2*k},t);return{width:i.width,height:i.height}}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handleLayout",function(e){var t=e.nativeEvent.layout,a=t.width,r=t.height;n.state.containerHeight||n.state.containerWidth?n.setState({containerHeight:r,containerWidth:a}):(n.setState({containerHeight:r,containerWidth:a}),n._setDefaultCropData())}),(0,o.default)((0,i.default)((0,i.default)(n)),"_setDefaultCropData",function(){var e=n.props,t=e.defaultCropData,a=e.image;if(t){var r=n._getImageDimensions().width,i=n._getMaskDimensions().width,o=r/a.width,s=I(i/(t.width*o));n.setState({imageScale:s});var l=n._getUnscaledCropData(),u=l.top,c=l.left;n._panStyles.top=u-t.top*o*Math.pow(2,s),n._previousTop=n._panStyles.top,n._panStyles.left=c-t.left*o*Math.pow(2,s),n._previousLeft=n._panStyles.left,n._updateNativeStyles()}}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handleWheel",function(e,t,a,r){var i=-1*t/C;n.setState(function(e){var t=e.imageScale,o=Math.min(n._maxScale,Math.max(t+i,w));return n._panStyles.left+=a*(o-t),n._panStyles.top+=r*(o-t),n._previousLeft=n._panStyles.left,n._previousTop=n._panStyles.top,{imageScale:o}})}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handlePanMove",function(e,t){n._panStyles.left=n._previousLeft+e,n._panStyles.top=n._previousTop+t,n._updateNativeStyles(),n._adjustToInBounds()}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handlePanEnd",function(e,t){n._previousLeft=n._panStyles.left,n._previousTop=n._panStyles.top}),(0,o.default)((0,i.default)((0,i.default)(n)),"_handlePinchMove",function(e,t,a,r,i){var o=e/S;n.setState(function(e){var s=e.imageScale,l=Math.min(n._maxScale,Math.max(s+o,w));return n._panStyles.left+=t*(l-s)+r,n._panStyles.top+=a*(l-s)+i,n._previousLeft=n._panStyles.left,n._previousTop=n._panStyles.top,{imageScale:l}})}),(0,o.default)((0,i.default)((0,i.default)(n)),"_adjustToInBounds",function(){var e=n._getUnscaledCropData(),t=n._getImageDimensions(),a=e.left,r=e.top,i=e.left+e.width-t.width,o=e.top+e.height-t.height,s=!1;a<0&&(s=!0,n._panStyles.left+=a,n._previousLeft+=a),r<0&&(s=!0,n._panStyles.top+=r,n._previousTop+=r),i>0&&(s=!0,n._panStyles.left+=i,n._previousLeft+=i),o>0&&(s=!0,n._panStyles.top+=o,n._previousTop+=o),s&&n._updateNativeStyles()}),(0,o.default)((0,i.default)((0,i.default)(n)),"_updateNativeStyles",function(){var e=n._panStyles,t=e.left,a=e.top;n._imageRef&&n._imageRef.setNativeProps({style:{transform:[{translate3d:t+"px, "+a+"px, 0"}]}})}),(0,o.default)((0,i.default)((0,i.default)(n)),"_getUnscaledCropData",function(){var e=n._getImageDimensions(),t=e.width,a=e.height,r=n._getMaskDimensions(),i=r.width,o=r.height,s=n._panStyles,l=s.left;return{top:(a-o)/2-s.top,left:(t-i)/2-l,width:i,height:o}}),(0,o.default)((0,i.default)((0,i.default)(n)),"_setAspectRatio",function(e){return function(){n.setState({aspectRatio:e})}}),n.state={aspectRatio:t.defaultAspectRatio||t.image.width/t.image.height,imageScale:w,containerHeight:0,containerWidth:0},n._touchOnlyUI=b.default.isMobileOS()&&(0,f.isTouchSupported)(),n._maxScale=R(t.image),n}(0,r.default)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.circle,n=e.image,a=this._getImageDimensions(),r=a.width,i=a.height,o=this._getMaskDimensions(),l=o.width,u=o.height,c=this.state.containerWidth&&this.state.containerHeight;return s.default.createElement(y.default,{style:T.container},s.default.createElement(m.default,{onLayout:this._handleLayout,onPanEnd:this._handlePanEnd,onPanMove:this._handlePanMove,onPinchMove:this._handlePinchMove,onWheel:this._handleWheel,style:T.root},c?s.default.createElement(s.default.Fragment,null,s.default.createElement(v.default,{ref:this._setImageRef,source:{uri:n.src,width:r,height:i},style:T.image}),s.default.createElement(h.default,{circle:t,height:u,width:l})):null),c?this._renderControls():null)},n.componentDidUpdate=function(e,t){this._updateNativeStyles(),this._adjustToInBounds()},n.getCropData=function(){var e=this._getImageDimensions().width,t=this.props.image.width/e,n=this._getUnscaledCropData();return{aspectRatio:this.state.aspectRatio,top:Math.round(t*n.top),left:Math.round(t*n.left),width:Math.round(t*n.width),height:Math.round(t*n.height)}},t}(s.default.Component);(0,o.default)(P,"defaultProps",{circle:!1,uiStrings:{aspectRatioOriginal:"Aspect ratio: original",aspectRatioWide:"Aspect ratio: wide",aspectRatioSquare:"Aspect ratio: square",scaleLabel:"Zoom in or out"}});var T=g.default.create(function(e){return{container:{flexGrow:1,flexShrink:1},controlsContainer:{backgroundColor:e.colors.navigationBackground,minHeight:e.spaces.medium,flexDirection:"row",paddingVertical:e.spaces.xxSmall,alignSelf:"stretch",justifyContent:"center",alignItems:"center"},ratioContainer:{flexBasis:0,flexGrow:1,flexShrink:0,flexDirection:"row",justifyContent:"space-around"},zoomContainer:{flexBasis:0,flexGrow:1,flexShrink:1,justifyContent:"center",height:e.spaces.xLarge,paddingHorizontal:e.spaces.medium,maxWidth:e.maxWidths.small},root:{flexGrow:1,flexShrink:1,overflow:"hidden",justifyContent:"center",alignItems:"center",cursor:"move"},image:{position:"absolute"},iconMin:{color:e.colors.deepGray,transform:[{scale:.7}]},iconMax:{color:e.colors.deepGray}}}),O=P;t.default=O},"Y+r2":function(e,t,n){"use strict";var a=n("86MP"),r=n.n(a),i=n("GiK3"),o=(n.n(i),n("ywce")),s=n("dLcK"),l=n("jYKd"),u=n.n(l),c=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){return i.createElement(s.b,{clickMaskToClose:!1,location:this.props.location,modalSize:"fitChildren",style:d.modal},i.createElement(o.a,this.props))},t}(i.Component),d=u.a.create(function(e){return{modal:{width:600,maxWidth:"90vw"}}});t.a=c},"Z/Ho":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var a=n("86MP"),r=n.n(a),i=n("M1I4"),o=n.n(i),s=n("fKPv"),l=n.n(s),u=n("VTn2"),c=(n.n(u),n("plj8")),d=n.n(c),p=n("GiK3"),f=(n.n(p),n("kRD3")),h=n("jYKd"),m=n.n(h),_=n("Gr4z"),g=n.n(_),b=d.a.a47060d3,v=Object.freeze({light:"light",dark:"dark"}),y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,l()(o()(o()(t)),"_handleNightModeChange",function(e){t.props.onToggle&&t.props.onToggle();var n=e?v.dark:v.light;m.a.setTheme(n),Object(f.b)(n===v.dark)}),t}return r()(t,e),t.prototype.render=function(){var e=this.props.style,t=m.a.theme.key===v.dark;return p.createElement(g.a,{accessibilityLabel:b,onValueChange:this._handleNightModeChange,style:e,value:t})},t}(p.Component)},ZFYz:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("n12u");var a=o(n("x5lS")),r=o(n("GiK3")),i=o(n("sT3W"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M19.75 19.944H4.25c-1.24 0-2.25-1.01-2.25-2.25V6.306c0-1.24 1.01-2.25 2.25-2.25h15.5c1.24 0 2.25 1.01 2.25 2.25v11.39c0 1.24-1.01 2.248-2.25 2.248zM4.25 5.556c-.413 0-.75.337-.75.75v11.39c0 .412.337.75.75.75h15.5c.413 0 .75-.338.75-.75V6.305c0-.413-.337-.75-.75-.75H4.25z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},ZHcj:function(e,t,n){"use strict";n.d(t,"f",function(){return y}),n.d(t,"g",function(){return k}),n.d(t,"a",function(){return S}),n.d(t,"c",function(){return E}),n.d(t,"b",function(){return I}),n.d(t,"d",function(){return P}),n.d(t,"e",function(){return T}),n.d(t,"h",function(){return O}),n.d(t,"i",function(){return M}),n.d(t,"j",function(){return j});var a,r=n("y9m4"),i=(n.n(r),n("n12u")),o=(n.n(i),n("IIth")),s=n("hviW"),l=n("bTdA"),u=n("XOfP"),c=n("ipg4"),d=u.a+"/profile",p="rweb/"+d,f=function(e){return p+"/"+e},h=o.a(p,"REMOVE_PROFILE_BANNER"),m=o.a(p,"UPDATE_PROFILE"),_=o.a(p,"UPDATE_PROFILE_AVATAR"),g=o.a(p,"UPDATE_PROFILE_BANNER"),b=o.a(p,"UPLOAD_MEDIA"),v={avatarMediaId:null,bannerMediaId:null,isUploading:!1};c.a.register(((a={})[d]=function(e,t){switch(void 0===e&&(e=v),void 0===t&&(t={}),t.type){case w:return Object.assign({},e,{avatarMediaId:t.meta.mediaId});case C:return Object.assign({},e,{avatarMediaId:null});case x:return Object.assign({},e,{bannerMediaId:t.meta.mediaId});case R:return Object.assign({},e,{bannerMediaId:null});case b.REQUEST:return Object.assign({},e,{isUploading:!0});case b.FAILURE:case b.SUCCESS:return Object.assign({},e,{isUploading:!1});default:return e}},a));var y=function(e){return e[d].avatarMediaId},k=function(e){return e[d].bannerMediaId},w=f("ADD_AVATAR_MEDIA"),S=function(e){return{meta:{mediaId:e},type:w}},C=f("REMOVE_AVATAR_MEDIA"),E=function(e){return{meta:{mediaId:e},type:C}},x=f("ADD_BANNER_MEDIA"),I=function(e){return{meta:{mediaId:e},type:x}},R=f("REMOVE_BANNER_MEDIA"),P=function(e){return{meta:{mediaId:e},type:R}},T=function(e){return function(t,n,a){var r=a.api;return o.b(t,{params:e,request:r.Settings.removeProfileBanner})({actionTypes:h,context:"ACTION_REMOVE_USER_BANNER"},function(e){var t;if(e)return[Object(l.c)({users:(t={},t[e.id_str]=Object.assign({},e,{profile_banner_url:null}),t)})]})}},O=function(e){return function(t,n,a){var r=a.api;return o.b(t,{params:e,request:r.Settings.updateProfile})({actionTypes:m,context:"ACTION_UPDATE_PROFILE_SETTINGS"},function(e){var t;if(e)return[Object(l.c)({users:(t={},t[e.id_str]=Object.assign({},e,{birthdate:e.extended_profile&&e.extended_profile.birthdate}),t)})]})}},A=function(e,t,n){return function(a){return function(r,i,u){var c=u.api;r({type:b.REQUEST});var d=s.j(a);return r(d).then(function(a){var i=a[0];r([{type:b.SUCCESS},{type:e.REQUEST}]);return o.b(r,{params:{media_id:i.uploadId},request:n(c)})({actionTypes:m,context:t},function(e){var t;if(e)return[Object(l.c)({users:(t={},t[e.id_str]=e,t)})]})},function(e){return r({type:b.FAILURE}),Promise.reject(e)})}}},M=A(_,"ACTION_UPDATE_USER_AVATAR",function(e){return e.Settings.updateProfileAvatar}),j=A(g,"ACTION_UPDATE_USER_BANNER",function(e){return e.Settings.updateProfileBanner})},a05n:function(e,t,n){"use strict";var a;t.__esModule=!0,t.default=void 0;var r=((a=n("F2iK"))&&a.__esModule?a:{default:a}).default;t.default=r,e.exports=t.default},aOM5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return s});var a=n("86MP"),r=n.n(a),i=n("czSA"),o=(n.n(i),n("GiK3")),s=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.location.query,t=e.code,n=e.error,a=e.scope,r=e.state,o={callback_url:"https://"+window.location.hostname+window.location.pathname,code:t,error:n,scope:a,state:r},s=i.canUseDOM&&window.opener;s?(s.postMessage(o,"https://"+window.location.hostname),window.close(),s.focus()):this.props.history.push("/")},n.render=function(){return null},t}(n.n(o).a.Component)},cWOA:function(e,t,n){"use strict";var a=n("VTn2");n.n(a);t.a=Object.freeze({FakeAccount:"fake_account",OffensiveProfileContent:"offensive_profile_content",SensitiveMedia:"sensitive_media",Timeout:"timeout"})},goRl:function(e,t,n){var a=n("EuP9"),r=a.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=a:(i(a,t),t.Buffer=o),i(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var a=r(e);return void 0!==t?"string"==typeof n?a.fill(t,n):a.fill(t):a.fill(0),a},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a.SlowBuffer(e)}},pcgs:function(e,t,n){"use strict";var a=n("R6lU");t.__esModule=!0,t.default=void 0;var r=a(n("GiK3")),i=a(n("jYKd")),o=a(n("MjES")),s=i.default.create(function(e){return{mask:{backgroundColor:"transparent",borderWidth:e.spaces.xxSmall,borderColor:e.colors.blue,boxShadow:"0 0 0 9999px "+e.colors.activeFaintGray},circle:{borderRadius:e.borderRadii.infinite}}}),l=function(e){var t=e.width,n=e.height,a=e.circle;return r.default.createElement(o.default,{pointerEvents:"none",style:[s.mask,{width:t,height:n},a&&s.circle]})};t.default=l},qyjT:function(e,t,n){"use strict";var a=n("86MP"),r=n.n(a),i=n("M1I4"),o=n.n(i),s=n("fKPv"),l=n.n(s),u=n("plj8"),c=n.n(u),d=n("QT/B"),p=n("PJo1"),f=n.n(p),h=n("GiK3"),m=n.n(h),_=n("7q6/"),g=n("MjES"),b=n.n(g),v=n("Zmyr"),y=n("KSGD"),k=(n.n(y),n("xCV+")),w=n.n(k),S=n("Oqy5"),C=n.n(S),E=n("jYKd"),x=n.n(E),I=c.a.e5ff3bbc,R=function(e){function t(t){var n;return n=e.call(this,t)||this,l()(o()(o()(n)),"_handleViewportSet",function(e){var t=n.props.onViewportSet;t&&t(e)}),n.state={viewport:void 0},n}r()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.children,n=e.scrollPrompt,a=this.context.isModal;return m.a.createElement(C.a,{style:[P.root,a&&P.rootModal]},this._renderAppBar(),m.a.createElement(w.a,{style:[P.container,a&&P.containerModal]},a?m.a.createElement(v.a,{onViewportSet:this._handleViewportSet,style:[P.viewport,_.a.isIE()&&P.viewportIE]},t):t,a?null:n),a?n:null)},n._renderAppBar=function(){var e=this.props,t=e.backLocation,n=e.hideBackButton,a=e.hideLogo,r=e.history,i=e.location,o=e.onBackClick,s=e.rightControl,l=e.progressIndication,u=this.context.isModal,c=l||a?void 0:m.a.createElement(b.a,{style:P.iconContainer},m.a.createElement(f.a,{accessibilityLabel:I,style:P.icon})),p=l?l.text.text:void 0;return m.a.createElement(d.a,{backLocation:t,centeredLogo:c,fixed:!u,hideBackButton:n||!o,history:r,location:i,onBackClick:o,rightControl:s,title:p,withShadow:!1})},t}(m.a.Component);l()(R,"contextTypes",{isModal:y.bool}),l()(R,"defaultProps",{hideBackButton:!1,hideLogo:!1});var P=x.a.create(function(e){return{root:{display:"flex",flexGrow:1},rootModal:{backgroundColor:e.colors.cellBackground,flexShrink:1},container:{flexGrow:1},containerModal:{flexShrink:1},iconContainer:{alignItems:"center",alignSelf:"stretch",display:"flex",flexGrow:1,justifyContent:"center",minWidth:e.spaces.large},icon:{color:e.colors.blue,flexGrow:1,height:"1.75rem"},viewport:{flexGrow:1,flexShrink:1,overflow:"auto"},viewportIE:{flexBasis:"0%"}}});t.a=R},rOku:function(e,t,n){"use strict";(function(t,a){var r=n("goRl").Buffer,i=t.crypto||t.msCrypto;i&&i.getRandomValues?e.exports=function(e,n){if(e>65536)throw new Error("requested too many random bytes");var o=new t.Uint8Array(e);e>0&&i.getRandomValues(o);var s=r.from(o.buffer);if("function"==typeof n)return a.nextTick(function(){n(null,s)});return s}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(t,n("DuR2"),n("W2nU"))},sBfw:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a={centroidDimension:function(e,t,n,r){var i=e.touchBank,o=0,s=0,l=1===e.numberActiveTouches?e.touchBank[e.indexOfSingleActiveTouch]:null;if(null!==l)l.touchActive&&l.currentTimeStamp>t&&(o+=r&&n?l.currentPageX:r&&!n?l.currentPageY:!r&&n?l.previousPageX:l.previousPageY,s=1);else for(var u=0;u<i.length;u++){var c=i[u];if(null!==c&&void 0!==c&&c.touchActive&&c.currentTimeStamp>=t){o+=r&&n?c.currentPageX:r&&!n?c.currentPageY:!r&&n?c.previousPageX:c.previousPageY,s++}}return s>0?o/s:a.noCentroid},currentCentroidXOfTouchesChangedAfter:function(e,t){return a.centroidDimension(e,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(e,t){return a.centroidDimension(e,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(e,t){return a.centroidDimension(e,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(e,t){return a.centroidDimension(e,t,!1,!1)},currentCentroidX:function(e){return a.centroidDimension(e,0,!0,!0)},currentCentroidY:function(e){return a.centroidDimension(e,0,!1,!0)},noCentroid:-1},r=a;t.default=r,e.exports=t.default},sOR5:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},uX8X:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return m});var a=n("lt8z"),r=n.n(a),i=n("86MP"),o=n.n(i),s=n("M1I4"),l=n.n(s),u=n("fKPv"),c=n.n(u),d=n("CeBo"),p=n("LgvV"),f=n("GiK3"),h=n.n(f),m=function(e){function t(t){var n;n=e.call(this,t)||this,c()(l()(l()(n)),"_handleAbort",function(){var e=n.state.fromPath;Object(p.b)(e)});var a=n.props.location.state,r=(void 0===a?{}:a).previousPath||"/";return n.state={fromPath:r},n}return o()(t,e),t.prototype.render=function(){return h.a.createElement(d.default,r()({},this.props,{flowName:"delight_feedback",onAbort:this._handleAbort}))},t}(h.a.Component)},ujcs:function(e,t){t.read=function(e,t,n,a,r){var i,o,s=8*r-a-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?r-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-c)-1,f>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=p,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=a;c>0;o=256*o+e[t+d],d+=p,c-=8);if(0===i)i=1-u;else{if(i===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,a),i-=u}return(f?-1:1)*o*Math.pow(2,i-a)},t.write=function(e,t,n,a,r,i){var o,s,l,u=8*i-r-1,c=(1<<u)-1,d=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:i-1,h=a?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,r),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;e[n+f]=255&s,f+=h,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;e[n+f]=255&o,f+=h,o/=256,u-=8);e[n+f-h]|=128*m}},ywce:function(e,t,n){"use strict";n("n12u");var a=n("86MP"),r=n.n(a),i=n("M1I4"),o=n.n(i),s=n("fKPv"),l=n.n(s),u=n("plj8"),c=n.n(u),d=n("GiK3"),p=n("4n+p"),f=n("bndy"),h=n("7t5w"),m=n("hviW"),_=Object(f.createSelector)(function(e,t){return t.media?t.media:Object(m.f)(e,t.mediaId)[0]},function(e,t){return void 0!==t.mediaId?t.mediaId:t.media?t.media.id:null},function(e,t){return{media:e,mediaId:t}}),g={processMedia:m.c,scribeAction:h.d,updateMediaUpload:m.i},b=Object(p.connect)(_,g),v=n("bgPG"),y=n("eB+D"),k=n("55jw"),w=n.n(k),S=n("uyIN"),C=n.n(S),E=n("MjES"),x=n.n(E),I=n("i2DS"),R=n.n(I),P=n("fF1d"),T=n.n(P),O=n("XyS+"),A=n.n(O),M=n("jYKd"),j=n.n(M),D=c.a.b2e1930b,F=c.a.j16ffee3,N=c.a.e0e1ff4e,L=c.a.de15098a,B=c.a.aa261873,U=c.a.a1e564e5,V=c.a.a54d17e1,z=function(e){function t(t){var n;return n=e.call(this,t)||this,l()(o()(o()(n)),"_getMedia",function(){var e=n.props.media;return e&&e.mediaFile&&e.mediaFile.isImage?e:null}),l()(o()(o()(n)),"_renderAppBarRightControl",function(){var e=n.state.isProcessing;return d.createElement(T.a,{disabled:e,onPress:n._handleApplyButtonClick,size:"normalCompact",type:"primary"},F)}),l()(o()(o()(n)),"_handleBackClick",function(){var e=n.props,t=e.onCancel,a=e.scribeAction,r=e.scribeNamespace;a(Object.assign({},r,{action:"cancel"})),t&&t()}),l()(o()(o()(n)),"_handleApplyButtonClick",function(){if(n._cropper.current){var e=n.props,t=e.mediaId,a=e.onDone,r=e.processMedia,i=e.scribeAction,o=e.scribeNamespace,s=e.updateMediaUpload;n.setState({isProcessing:!0});var l=n._cropper.current.getCropData();void 0!==t&&(s({id:t,cropData:l}),r(t).then(function(){n.setState({isProcessing:!1}),i(Object.assign({},o,{action:"done"})),a()}))}}),n.state={isProcessing:!1,orientedImage:null},n._cropper=d.createRef(),t.media||t.onCancel(),n}r()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=(this._getMedia()||{}).originalMediaFile,n=void 0===t?{}:t;n&&n instanceof w.a&&C()(n).then(function(t){return new w.a(t).withDimensionsAndOrientation().then(function(t){e.setState({orientedImage:t})})})},n.render=function(){var e=this.props,t=e.history,n=e.location;return d.createElement(y.b,{backButtonType:"back",containerStyle:q.root,documentTitle:D,history:t,location:n,onBackClick:this._handleBackClick,rightControl:this._renderAppBarRightControl(),title:D},this.state.orientedImage?this._renderCropper():d.createElement(R.a,{accessibilityLabel:V,style:q.activityIndicator}))},n._renderCropper=function(){var e=this.props,t=e.defaultAspectRatio,n=e.withAspectRatioOptions,a=this.state.orientedImage,r=this._getMedia()||{},i=r.cropData,o=r.originalMediaFile,s=void 0===o?{}:o;return a?d.createElement(x.a,{style:q.cropper},d.createElement(A.a,{circle:this.props.circle,defaultAspectRatio:i&&i.aspectRatio||t,defaultCropData:i,image:{src:a.url,width:s.width,height:s.height},ref:this._cropper,uiStrings:{scaleLabel:N,aspectRatioOriginal:L,aspectRatioWide:B,aspectRatioSquare:U},withAspectRatioOptions:n})):null},t}(d.Component),q=j.a.create(function(e){return{root:{flexShrink:1,height:650},cropper:{backgroundColor:e.colors.navigationBackground,flexGrow:1},activityIndicator:{flexGrow:1}}});t.a=Object(v.b)({page:"media",section:"edit"})(b(z))}});
//# sourceMappingURL=https://ton.smf1.twitter.com/twitter_shared_private/twitter_lite/sourcemaps/web/bundle.Ocf.e7d022550acd66b32.js.map