webpackJsonp([5],{"+0k3":function(t,e,i){"use strict";function s(t){Object(n.a)(t),Object(o.a)(t),Object(r.a)("#timeline",t,{excludeUserActions:!0}),Object(a.a)(t),Object(c.a)(".js-wtf-module",t,{wtfOptions:t.wtfOptions}),h.a.attachTo(document,{containerSelector:"#timeline"}),d.a.attachTo("#timeline",{eventData:t.eventData}),l.a.attachTo("#timeline",{page:"guide"})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i("hhhH"),o=i("smxC"),r=i("zqN9"),a=i("/gHE"),c=i("9n2V"),l=i("JnjQ"),h=i("A1Ox"),d=i("zAui")},"+AAw":function(t,e,i){"use strict";function s(){this.defaultAttrs({overlaySelector:".PermalinkOverlay .tweet"}),this.overlayOpen=function(){this.attr.tweetSelector=this.attr.overlaySelector},this.overlayClosed=function(){this.attr.tweetSelector=this.attr.mainSelector},this.after("initialize",function(){this.on(document,"uiOverlayOpen",this.overlayOpen),this.on(document,"uiOverlayClosed",this.overlayClosed),this.attr.mainSelector=this.attr.tweetSelector})}e.a=s},"/Xvt":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({itemType:"tweet",tweetSelector:".tweet",hiddenRepliesContainerSelector:".hidden-replies-container",descendantTweetSelector:".tweet.descendant",threadedConversationClass:"ThreadedConversation--loneTweet ThreadedConversation--ownReply"}),this.injectThreadedReply=function(t){t.wrap("<li class='"+this.attr.threadedConversationClass+"'></li>"),this.$repliesContainer.prepend(t.parent())},this.injectOwnReply=function(e,i){if(this.attr.tweetId===i.in_reply_to_status_id){var s=t(i.tweet_html);this.attr.isThreaded?this.injectThreadedReply(s):(this.reachedTheEnd()?this.$repliesContainer:this.$hiddenRepliesContainer).append(s),this.$node.removeClass("hidden"),this.trigger("uiTweetInserted",i),this.trigger(s.find(this.attr.tweetSelector),"uiHasInjectedTimelineItem")}},this.restoreHiddenReplies=function(e,i){var s=this;this.$hiddenRepliesContainer.children().each(function(e,i){var n=t(i),o=n.find(s.attr.tweetSelector).attr("data-tweet-id");s.$repliesContainer.children().each(function(e,i){var r=t(i),a=r.find(s.attr.tweetSelector).attr("data-tweet-id"),l=c.a.compare(o,a);return 0===l?(n.remove(),!1):l<0?(n.insertBefore(r),!1):void 0})}),this.reachedTheEnd()&&(this.$repliesContainer.append(this.$hiddenRepliesContainer.html()),this.$hiddenRepliesContainer.html(""))},this.reachedTheEnd=function(){return!this.select("timelineEndSelector").hasClass("has-more-items")},this.hideReplies=function(t,e){this.select("descendantTweetSelector").length||this.$node.addClass("hidden")},this.after("initialize",function(){this.$repliesContainer=this.select("itemsSelector"),this.$hiddenRepliesContainer=this.select("hiddenRepliesContainerSelector"),this.on("uiTweetRemoved",this.hideReplies),this.on(document,"dataTweetSuccess",this.injectOwnReply),this.on("uiHasInjectedOldTimelineItems",this.restoreHiddenReplies)})}var n=i("4Pj3"),o=i("GbBZ"),r=i("G/SW"),a=i("xgWv"),c=i("lUIe"),l=i("CNhr");e.a=n.a.mixin(s,o.a,r.a,a.a,l.a)}).call(e,i("4kSj"))},"/gHE":function(t,e,i){"use strict";function s(t,e,i,s,p){var g=f({},t,{endpoint:e,itemType:s,eventData:{scribeContext:{component:p||s}}});Object(n.a)(f({},g,{statsName:i})),Object(o.a)("#timeline",g);var w="home"===g.pageName||"me"===g.pageName||"profile"===g.pageName,v=w?[l.a]:[];u.a.mixin.apply(this,v).attachTo("#timeline",g);var S=[];w&&(S=S.concat(c.a),m.a.attachTo("#timeline",g)),a.a.attachTo(document),r.a.mixin.apply(this,S).attachTo("#timeline",g),d.a.attachTo("#timeline",g),h.a.attachTo("#timeline",g)}var n=i("cuTm"),o=i("zqN9"),r=i("mS8d"),a=i("DR2D"),c=i("jAyJ"),l=i("3UWX"),h=i("7pRC"),d=i("jctv"),u=i("hODd"),m=i("08ua"),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},"08to":function(t,e,i){"use strict";function s(){this.attributes({maxExcludedRecsInLocalStorage:100,endpoints:{users:{url:"/i/users/recommendations",method:"GET",successEvent:"dataDidGetUserRecommendations",errorEvent:"dataFailedToGetUserRecommendations"},dismiss:{url:"/i/users/recommendations/hide",method:"POST",successEvent:"dataDidDismissRecommendation",errorEvent:"dataFailedToDismissUserRecommendation"},promoted_self:{url:"/i/users/promoted_self",method:"GET",successEvent:"dataDidGetSelfPromotedAccount",errorEvent:"dataFailedToGetSelfPromotedAccount"}},endpointUrlOverrides:{}}),this.refreshEndpoint=function(t){return this.hitEndpoint(t,{"Cache-Control":"max-age=0",Pragma:"no-cache"})},this.hitEndpoint=function(t,e){var i=this;e=e||{};var s=this.attr.endpoints[t],n=this.attr.endpointUrlOverrides[t]||s.url;return function(t,o){o=o||{},o.excluded=o.excluded||[];var r=o.visible||[];delete o.visible,i.JSONRequest({type:s.method,url:n,headers:e,dataType:"json",data:a({},o,{excluded:i.storage.pushAll("excluded",o.excluded).concat(r).join(",")}),eventData:o,success:s.successEvent,error:s.errorEvent},s.method)}},this.excludeUsers=function(t,e){this.storage.pushAll("excluded",e.userIds),this.trigger("dataDidExcludeUserRecommendations",e)},this.excludeFollowed=function(t,e){e=e||{},"following"===e.newState&&e.userId&&this.storage.push("excluded",e.userId)},this.after("initialize",function(){var t=Object(o.a)({withArray:!0,withMaxElements:!0,withUniqueElements:!0});this.storage=new t("excluded_wtf_recs"),this.storage.setMaxElements("excluded",this.attr.maxExcludedRecsInLocalStorage),this.on(document,"uiRefreshUserRecommendations",this.refreshEndpoint("users")),this.on(document,"uiGetUserRecommendations",this.hitEndpoint("users")),this.on(document,"uiDismissUserRecommendation",this.hitEndpoint("dismiss")),this.on(document,"uiAddWtfBlacklistUsers",this.excludeUsers),this.on(document,"dataFollowStateChange",this.excludeFollowed),this.on(document,"uiPromptbirdWantsPromotedSelf",this.hitEndpoint("promoted_self"))})}var n=i("DBjh"),o=i("rWgq"),r=i("VtWx"),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},c=Object(n.default)(s,r.a);e.a=c},"08ua":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({promotedTweetSelector:".promoted-tweet:not(.scribed)",promotedTweetForImpressionsSelector:".promoted-tweet:not(.presented)",scrollThrottle:100}),this.processTweets=function(){var e=this,i=r.a.getGlobalNavHeight(),s=this.$node.find(this.attr.promotedTweetSelector),n=this.$node.find(this.attr.promotedTweetForImpressionsSelector),o=s.filter(function(s,n){return r.a.isContainedInViewport(e.$window,t(n),i,0)}),a=n.filter(function(s,n){return r.a.isPartiallyContainedInViewport({$container:e.$window,$element:t(n),topThreshold:i,fractionInViewport:0})});if(a.length){a.addClass("presented");var c=a.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweets1pxInViewport",{items:c})}if(o.length){o.addClass("scribed");var l=o.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweetsInViewport",{items:l})}},this.after("initialize",function(e,i){this.$window=t(window),i&&i.inOverlay?this.on(e,"scroll resize",o.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)):this.on(document,"scroll resize",o.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)),this.on(document,"uiSwiftLoaded uiPageVisible uiPageChanged uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems",this.processTweets)})}var n=i("DBjh"),o=i("YzIt"),r=i("/LRg");e.a=Object(n.default)(s)}).call(e,i("4kSj"))},"0iQm":function(t,e,i){"use strict";function s(){this.scribeTrendClick=function(t,e){this.scribe("search",e)},this.prepareScribeData=function(t){var e=t.initial?"initial":"newer",i={referring_event:e},s=!1;return i.items=t.items.map(function(t,e){var i={name:t.name,item_type:r.a.trend,item_query:t.name,position:e,token:t.token,id:t.id};return t.promotedTrendId&&(i.promoted_id=t.promotedTrendId,s=!0),i}),s&&(i.promoted=s),"clock"===t.source&&(i.event_initiator=a.a.clientSideApp),i},this.scribeTrendsResults=function(t,e){var i=this.prepareScribeData(e),s={element:i.referring_event,action:e.items&&e.items.length?"results":"no_results"};this.scribe(s,e,i),e.initial&&this.scribeTrendsImpression(e)},this.scribeTrendsImpression=function(t){this.scribe("impression",t)},this.__scribeChangeLocation=function(t,e){e.personalized&&this.scribe({component:"trends_location_dialog",element:"get_tailored_trends",action:"click"})},this.__scribeCustomizeLocation=function(t,e){this.scribe({component:"trends_location_dialog",element:"change_location",action:"click"})},this.after("initialize",function(){this.scribeOnEvent("uiTrendsDialogOpened","open"),this.on("uiTrendSelected",this.scribeTrendClick),this.on("uiTrendsDisplayed",this.scribeTrendsResults),this.on("uiChangeLocation",this.__scribeChangeLocation),this.on("uiTrendsDialogCustomizeLocation",this.__scribeCustomizeLocation)})}var n=i("DBjh"),o=i("3oDc"),r=i("rbkv"),a=i("UNvB");e.a=Object(n.default)(s,o.a)},"1WuL":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("wsa9"),n=i("1awC"),o=i("bCJo"),r=i("rz4S"),a=i("L40N"),c=i("yQR6"),l=i("/Xvt"),h=i("ruJk"),d=i("DWCD"),u=i("DNqT"),m=i("cuTm"),f=i("zqN9"),p=i("Ny+n"),g=i("DR2D"),w=i("ZuUJ"),v=i("E+fT"),S=i("jAyJ"),T=i("FZeX"),b=i("+AAw"),C=i("zAui"),y=i("JnjQ"),k=i("hhhH"),I=i("Fvrq"),R=i("smxC"),D=i("jctv"),j=i("9RxZ"),A=i("fJ8b"),O=i("kX/m"),P=i("SGCT"),x=i("gllR"),L=i("LfWP"),E=i("y9Hg"),z=i("5hZs"),F=i("A1Ox"),N=i("+9xK"),U=i("08ua"),$=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.default=function(t){function e(e){return $({},t,{eventData:{scribeContext:{component:e}},itemType:"tweet",lastItemSelector:".tweet:last",inOverlay:t.inOverlay,genericItemSelector:".js-stream-tweet",useDeduping:!0})}var i=t.inOverlay?".PermalinkOverlay":"#page-container.wrapper-permalink",V=i+" div.permalink-tweet-container";Object(k.a)(t),Object(u.default)(t),Object(O.a)(t),Object(A.a)(t),j.a.attachTo(document),Object(f.a)(i,$({},t,{generalTweetSelector:"div.permalink-tweet",marginBreaking:!1})),C.a.mixin(b.a).attachTo(".PermalinkOverlay",{eventData:t.eventData,fromPermalinkOverlay:!0}),y.a.attachTo(".PermalinkOverlay",{page:"permalink_overlay"}),s.a.attachTo(document),I.a.attachTo(document);var M=$({},t,{statsName:"swift_permalink_timeline"});t.inOverlay?(M=$({},M,{infiniteScrollNode:".PermalinkOverlay",contentSelector:".PermalinkOverlay-body .permalink-container"}),n.a.attachTo("div.in-reply-to",{windowSelector:".PermalinkOverlay"})):n.a.attachTo("div.in-reply-to"),Object(m.a)(M);var B=l.a.mixin(z.a),W=h.a.mixin(z.a);r.a.attachTo(".permalink"),T.a.attachTo(V,e("tweet")),T.a.attachTo(".permalink-replies .stream-container",e("tweet")),c.a.attachTo(".permalink",e("tweet")),g.a.attachTo(document),p.a.mixin.apply(this,[v.a,w.a]).attachTo(V,e("tweet")),D.a.attachTo(V,e("tweet")),W.attachTo(".in-reply-to",e("conversation")),p.a.mixin(v.a).attachTo(".in-reply-to",e("conversation")),D.a.attachTo(".in-reply-to",e("conversation")),B.attachTo(".replies-to",e("replies")),p.a.mixin(v.a).attachTo(".replies-to",e("replies")),D.a.attachTo(".replies-to",e("replies")),Object(f.a)(".suggested-tweet-stream-container",$({},e("conversation-suggestions"),{generalTweetSelector:".original-tweet"})),d.a.attachTo(".suggested-tweet-stream-container",e("conversation-suggestions"),{tweetContainerSelector:".original-tweet",tweetWithReplyDialogSelector:".original-tweet"}),p.a.mixin.apply(this,[S.a]).attachTo(".suggested-tweet-stream-container",e("conversation-suggestions")),D.a.attachTo(".suggested-tweet-stream-container",e("conversation-suggestions")),U.a.attachTo(i,e("conversation-suggestions")),P.a.attachTo(".replies-to",t),x.a.attachTo(document),L.a.attachTo(document),t.loggedIn?Object(R.a)($({},t,{show_context:!1})):a.a.attachTo("body"),E.a.attachTo(".PermalinkProfile-dismiss, .PermalinkProfile-overlay",{eventData:{scribeContext:{component:"dialog"}}});var H=window;t.inOverlay&&(o.a.attachTo(".PermalinkOverlay",{watchDocumentScroll:!1}),N.a.attachTo(".PermalinkOverlay",{watchDocumentScroll:!1}),H=".PermalinkOverlay"),F.a.attachTo(H,{containerSelector:".PermalinkOverlay-body",unloadedCardsFilter:'#ancestors [data-has-autoplayable-media="true"], .permalink-replies [data-has-autoplayable-media="true"], .cards-forward .js-macaw-cards-iframe-container, .permalink-tweet .js-macaw-cards-iframe-container'})}},"1awC":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({ancestorAdjustmentClass:"multiple-ancestors-adjustment",hiddenAncestorClass:"is-hiddenAncestor",doBottomPaddingAdjustment:!0,focalTweetTopPadding:125,permalinkOverlayDistanceFromTopOfPage:64,ancestorTweetsSelector:".ancestor",threadedConversationTweetSelector:".ThreadedConversation-tweet",focalTweetSelector:".permalink-tweet-container",pageContainerSelector:"#page-container",windowSelector:window,documentSelector:document}),this.showHiddenAncestors=function(){var e=this.select("ancestorTweetsSelector"),i=t(this.attr.windowSelector);if(e.length){t("body").removeClass(this.attr.ancestorAdjustmentClass),this.select("threadedConversationTweetSelector").removeClass(this.attr.hiddenAncestorClass);var s=this.getTopOffset(t(this.attr.focalTweetSelector));if(this.attr.doBottomPaddingAdjustment){var n=s+this.attr.focalTweetTopPadding-t(this.attr.documentSelector).height()+i.height();t(this.attr.pageContainerSelector).css("padding-bottom",n)}i.scrollTop(s-this.attr.focalTweetTopPadding)}},this.getTopOffset=function(t){return this.attr.windowSelector===window?o.a.getCanvasYOffset(t)-1:t.position().top+this.attr.permalinkOverlayDistanceFromTopOfPage},this.after("initialize",function(){this.on(document,"uiOverlayPageChanged uiPageChanged uiSwiftLoaded",this.showHiddenAncestors)})}var n=i("DBjh"),o=i("reQR");e.a=Object(n.default)(s)}).call(e,i("4kSj"))},"3UWX":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({promotedTweetStoreCookieName:"h"}),this.cookie=n.a,this.promotedTweetDismissed=function(t,e){e.impressionId&&this.removeFromPromotedTweetStoreCookie(e)},this.removePromotedTweetsFromBlockedUser=function(e,i){var s=this.$node.find("[data-user-id="+i.userId+"].js-stream-tweet.promoted-tweet"),n=this;t.each(s,function(e,i){var s=t(i).attr("data-tweet-id");s&&n.removeFromPromotedTweetStoreCookie({id:s})})},this.removeFromPromotedTweetStoreCookie=function(e){var i=void 0;try{i=JSON.parse(Object(n.a)(this.attr.promotedTweetStoreCookieName))}catch(t){i=[]}t.isArray(i)||(i=[i]),i=i.filter(function(t){return t&&t.tweet_id&&t.tweet_id!==e.id}),i=0===i.length?null:JSON.stringify(i),Object(n.a)(this.attr.promotedTweetStoreCookieName,i)},this.after("initialize",function(){this.on("uiTweetDismissed",this.promotedTweetDismissed),this.on(document,"jsClearReinjectionCookiesForUser",this.removePromotedTweetsFromBlockedUser)})}var n=i("dsp6");e.a=s}).call(e,i("4kSj"))},"3ZrE":function(t,e,i){"use strict";function s(){this.defaultAttrs({location:{},personalized:!1}),this.setLocationInfo=function(t,e){this.attr.personalized=!!e.personalized,this.attr.location=e.location||{},this.trigger("uiLocationInfoUpdated")},this.changeLocationInfo=function(t){this.trigger("uiChangeLocation",{location:t})},this.setPersonalizedTrends=function(){this.trigger("uiChangeLocation",{personalized:!0})},this.after("initialize",function(){this.on(document,"dataChangedTrendLocation",this.setLocationInfo)})}e.a=s},"5hZs":function(t,e,i){"use strict";function s(){this.defaultAttrs({inOverlay:!1}),this.modifyItemsData=function(t){var e=t?t():{};return n({},e,{headers:{"X-Overlay-Request":!0,"X-Previous-Page-Name":this.attr.pageName}})},this.after("initialize",function(){this.attr.inOverlay&&(this.around("getNewItemsData",this.modifyItemsData),this.around("getOldItemsData",this.modifyItemsData))})}var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},"7pRC":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({rtbItemSelector:".RtbAd-container",openWhyThisRtbAdSelector:".RtbAd .js-actionWhyThisAd",reportRtbAdSelector:".RtbAd .js-actionReport",dismissRtbAdSelector:".RtbAd .js-action-dismiss",blockRtbAdSelector:".RtbAd .js-actionBlock",unblockRtbAdSelector:".RtbAd .js-actionUnblock"}),this.getClosestRtbAd=function(e){return t(e.target).closest(this.attr.rtbItemSelector)},this.whyThisAd=function(t,e){window.open(l,"_blank"),this.trigger("uiCloseDropdowns")},this.dismissRtbAd=function(t,e){var i=this.getClosestRtbAd(t);this.trigger(i,"uiDismissTweet")},this.blockUser=function(t,e){this.blockOrUnblockUser(t,"uiNeedsBlockDialog")},this.unblockUser=function(t,e){this.trigger("uiCloseDropdowns"),this.blockOrUnblockUser(t,"uiUnblockAction")},this.blockOrUnblockUser=function(t,e){var i=this.getClosestRtbAd(t),s=a({},this.interactionData(i),{id:i.attr("data-item-id"),screenName:i.attr("data-screen-name")});this.trigger(i,e,s)},this.reportRtbAd=function(t,e){var i=this.getClosestRtbAd(t),s=a({},this.interactionData(i),{userId:i.attr("data-user-id"),target:"rtb-ad"});this.trigger(i,"uiNeedsReportDialog",s)},this.after("initialize",function(){this.on("click",{openWhyThisRtbAdSelector:this.whyThisAd,reportRtbAdSelector:this.reportRtbAd,dismissRtbAdSelector:this.dismissRtbAd,blockRtbAdSelector:this.blockUser,unblockRtbAdSelector:this.unblockUser})})}var n=i("DBjh"),o=i("VtWx"),r=i("alSu"),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},c=Object(n.default)(s,o.a,r.a),l="https://support.twitter.com/articles/20175261";e.a=c}).call(e,i("4kSj"))},"8PbC":function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({viewAllSelector:"button.view-all-supplements",interactionsPageViewAllToggleSelector:".stream-item-activity-notification button.view-all-supplements",additionalStreamItemsSelector:".sub-stream-item-showing, .sub-stream-item-hidden"}),this.toggleInteractionsSupplements=function(e,i){var s=t(i.el),n=s.hasClass("show");this.toggleSupplementTrigger(s,n),this.toggleSubStreamItemsVisibility(s.parent(),n)},this.toggleSupplementTrigger=function(t,e){t.toggleClass("hide",e).toggleClass("show",!e)},this.toggleSubStreamItemsVisibility=function(t,e){t.find(this.attr.additionalStreamItemsSelector).toggleClass("sub-stream-item-hidden",!e).toggleClass("sub-stream-item-showing",e)},this.after("initialize",function(){this.on("click",{interactionsPageViewAllToggleSelector:this.toggleInteractionsSupplements})})}e.a=i}).call(e,i("4kSj"))},"8hd4":function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({endOfStreamSelector:".stream-footer",errorMessageSelector:".stream-fail-container",tryAgainSelector:".try-again-after-whale"}),this.getNewItems=function(t){t&&t.stopPropagation(),this.shouldGetNewItems()&&this.trigger("uiWantsMoreTimelineItems",this.getNewItemsData())},this.notifyNewItems=function(t,e){this.injectNewItems(t,e)},this.injectNewItems=function(t){if(this.resetStateVariables(t),t.items_html.trim()){var e=this.$document.height();this.injectItems("prepend",t.items_html,"uiHasInjectedNewTimelineItems"),this.$window.scrollTop(this.$document.height()-e),t.has_more_items||this.select("endOfStreamSelector").remove()}},this.notifyNewItemsError=function(t){},this.after("initialize",function(){var e=this.attr.inOverlay?".PermalinkOverlay":window;this.on(e,"uiNearTheTop",this.getNewItems),this.$document=t(document),this.$window=t(window),this.on("click",{tryAgainSelector:this.tryAgainAfterWhale})})}e.a=i}).call(e,i("4kSj"))},"8hg/":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({regionsSelector:'select[name="regions"]',citiesSelector:'select[name="cities"]'}),this.initializeCities=function(){var e=this;this.citiesByRegionWoeid={},this.$cities.find("option").each(function(i,s){var n=t(s),o=n.data("woeid");e.citiesByRegionWoeid[o]||(e.citiesByRegionWoeid[o]=[]),e.citiesByRegionWoeid[o].push(n)})},this.updateDropdown=function(){var t=this.$regions.val(),e=this.citiesByRegionWoeid[t]||"";this.$cities.empty(),this.$cities.html(e)},this.updateRegion=function(){this.updateDropdown();var t=this.$cities.children().first();t.length&&(t.prop("selected",!0),t.change())},this.updateCity=function(){var t=this.$cities.find("option:selected"),e=parseInt(t.val(),10),i=t.data("name");this.currentSelection=e,this.changeLocationInfo({woeid:e,name:i})},this.possiblyClearSelection=function(){this.currentSelection!==this.attr.location.woeid&&this.reset()},this.reset=function(){this.currentSelection=null,this.$regions.find('option[value=""]').prop("selected",!0),this.updateDropdown()},this.after("initialize",function(){this.$regions=this.select("regionsSelector"),this.$cities=this.select("citiesSelector"),this.initializeCities(),this.on(this.$regions,"change",this.updateRegion),this.on(this.$cities,"change",this.updateCity),this.on(document,"uiTrendsDialogReset",this.reset),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.updateDropdown()})}var n=i("DBjh"),o=i("3ZrE");e.a=Object(n.default)(s,o.a)}).call(e,i("4kSj"))},"8mUk":function(t,e,i){"use strict";var s=i("4Pj3"),n=i("GbBZ"),o=i("k1OA"),r=i("8PbC"),a=i("CA0f"),c=i("E+fT"),l=i("xgWv"),h=i("bgdb"),d=i("jyKx"),u=i("CNhr"),m=i("Pp1+"),f=s.a.mixin(n.a,o.a,r.a,a.a,c.a,l.a,h.a,d.a,u.a,m.a);e.a=f},"9n2V":function(t,e,i){"use strict";function s(t,e,i){var s=c({},e,i,{eventData:{scribeContext:{component:"user_recommendations"}}});a.a.attachTo(t,s),n.a.attachTo(t,s),o.a.attachTo(document,s),r.a.attachTo(t,s)}e.a=s;var n=i("F3RN"),o=i("08to"),r=i("hYUW"),a=i("IF4z"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},"9qF2":function(t,e,i){"use strict";(function(t){function s(){o.default.mixin(this,[n.a]),this.defaultAttrs({messageStreamItemSelector:".MessageStreamItem",dismissButtonSelector:".MessageStreamItem .Icon--close.js-dismiss",dismissSelector:".MessageStreamItem .js-dismiss",primaryActionSelector:".MessageStreamItem .js-primary-action",secondaryActionSelector:".MessageStreamItem .js-secondary-action"}),this.dismissMessage=function(t){this.scribe({component:this.getScribeComponent(t),action:"dismiss"});var e=this.getStreamItem(t);e.fadeOut(function(){return e.remove()})},this.scribeDismissButton=function(t){this.scribeClick(t,"dismiss")},this.scribePrimaryAction=function(t){this.scribeClick(t,"primary_action")},this.scribeSecondaryAction=function(t){this.scribeClick(t,"secondary_action")},this.scribeClick=function(t,e){this.scribe({component:this.getScribeComponent(t),element:e,action:"click"})},this.getScribeComponent=function(t){return this.getStreamItem(t).attr("data-component-context")},this.getStreamItem=function(e){return t(e.target).closest(this.attr.messageStreamItemSelector)},this.after("initialize",function(){this.on("click",{dismissButtonSelector:this.scribeDismissButton,dismissSelector:this.dismissMessage,primaryActionSelector:this.scribePrimaryAction,secondaryActionSelector:this.scribeSecondaryAction})})}e.a=s;var n=i("3oDc"),o=i("q9/C")}).call(e,i("4kSj"))},AN05:function(t,e,i){"use strict";(function(t){function i(){this.removeSeparatedModule=function(e){var i=t(e.target);this.trigger(i,"uiRemoveClassBeforePromptbird"),i.remove()},this.after("initialize",function(){this.on(document,"uiRemoveSeparatedModule",this.removeSeparatedModule)})}e.a=i}).call(e,i("4kSj"))},DJnx:function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({selectedStreamItemSelector:".selected-stream-item",ownTweetSelector:".my-tweet"}),this.isSelected=function(e,i,s){var n=this.select("selectedStreamItemSelector"),o=n[0],r=e.target;return n.is(r)||!(!o||!t.contains(o,r))},this.getSelectedTweet=function(t,e,i){var s=this.select("selectedStreamItemSelector").find(this.attr.tweetItemSelector),n=!!s.length;return n&&(i.$tweet=s),n},this.after("initialize",function(){if(this.attr.loggedIn){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard),e=this.mkTweetDataCollectorForAction(this.interactionDataWithCard,this.getDataForReply);this.on("uiShortcutFavorite",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.toggleFavorite)),this.on("uiShortcutRetweet",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.toggleRetweet)),this.on("uiShortcutReply",this.composeHandler(this.isSelected,this.getSelectedTweet,e,this.triggerTweetAction("uiReplyToTweet")))}})}e.a=i}).call(e,i("4kSj"))},DWCD:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({itemType:"tweet",permalinkPromotedTweetSelector:".suggested-tweet-stream-container .tweet",tweetSelector:".tweet",suggestedContainerSelector:".suggested-tweet-stream-container",suggestedItemsSelector:".suggested-tweet-stream-items"}),this.injectConversationSuggestions=function(e,i){if(i.suggested_item_html&&i.suggested_item_html.length>0){var s=t(this.attr.suggestedContainerSelector),n=s.find(this.attr.suggestedItemsSelector),o=i.suggested_item_html.trim();n.children()&&0===n.children().length&&o.length>0&&(n.append(t(o)),s.removeClass("u-hidden"),this.trigger("uiHasInjectedNewTimeline"))}else i.descendants&&this.trigger(e.target,"dataGotMoreTimelineItems",i.descendants)},this.after("initialize",function(){this.on(document,"dataGotMoreTimelineItems",this.injectConversationSuggestions),this.on(document,"uiOverlayNavigate",this.teardown)})}var n=i("4Pj3"),o=i("xgWv"),r=i("El2S"),a=i("3UWX"),c=n.a.mixin(s,o.a,r.a,a.a);e.a=c}).call(e,i("4kSj"))},"EWF/":function(t,e,i){"use strict";function s(t){var e=n.a.fromQuery(location).multiplier;return t*(window.DEBUG.multiplier||e||1)}e.a=s;var n=i("sxXh")},F3RN:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({dashboardSelector:".dashboard-user-recommendations",recUserSelector:".js-actionable-user",dismissRecSelector:".js-action-dismiss",viewAllSelector:".js-view-all-link",findFriendsSelector:".js-find-friends-link"}),this.dismissRecommendation=function(e,i){if(!this.currentlyRefreshing){this.currentlyDismissing=!0;var s=t(e.target).closest(this.attr.recSelector),n=s.attr("data-user-id");this.trigger("uiDismissUserRecommendation",{recommended_user_id:n,impressionId:s.attr("data-impression-id"),excluded:[n],visible:this.getVisibleIds(s),token:s.attr("data-feedback-token"),dismissable:this.attr.wtfOptions.dismissable,refreshUserId:n}),this.animateContentOut(s,"animationCallback")}},this.handleDismissResponse=function(e,i){var s=this;if(i=i||{},this.currentlyDismissing=!1,i.user_recommendations_html){var n=this.currentlyRefreshingUser(i),o=t(i.user_recommendations_html),r=o.attr("data-user-id");if(this.select("recSelector").is("[data-user-id="+r+"]"))return void n.find(this.attr.dismissRecSelector).click();var a=this.getItemPosition(n);this.animateContentIn(n,"animationCallback",i.user_recommendations_html,{modOp:"replaceWith",scribeCallback:function(){var t={oldUser:s.interactionData(n,{position:a})};o.length&&(t.newUser=s.interactionData(o,{position:a})),s.trigger("uiDidDismissUserRecommendation",t)}})}else this.handleEmptyDismissResponse(i)},this.handleDismissError=function(t,e){this.handleEmptyDismissResponse(e)},this.handleEmptyDismissResponse=function(t){var e=this.currentlyRefreshingUser(t);e&&e.remove(),this.select("recSelector").length||(this.trigger("uiShowMessage",{message:Object(n.default)("You have no more recommendations today!")}),this.$node.remove())},this.enable=function(){this.disabled=!1,this.refreshRecommendations({type:"empty-timeline"}),this.$node.show()},this.initRecommendations=function(t,e){this.disabled?this.$node.hide():this.verifyInitialRecommendations(t,e)},this.reset=function(){this.currentlyRefreshing||this.currentlyDismissing?this.select("dashboardSelector").html(""):(this.select("dashboardSelector").css("opacity",1),this.select("recUserSelector").css("opacity",1))},this.expandWhoToFollow=function(t,e){this.currentlyExpanding=!0;var i=h({},this.attr.wtfOptions,{limit:3,visible:this.getVisibleIds(t),refreshUserId:e.userId,get_replacement:!0});this.trigger("uiGetUserRecommendations",i)},this.triggerLinkClickScribes=function(e){var i=this,s={import_link:this.attr.findFriendsSelector,view_all_link:this.attr.viewAllSelector,refresh_link:this.attr.refreshRecsSelector},n=t(e.target);t.each(s,function(t,e){n.is(e)&&i.trigger(document,"uiClickedWtfLink",{element:t})})},this.getNewRecommendations=function(t,e,i){"wtf-component"===this.attr.wtfOptions.display_location&&!this.currentlyExpanding&&this.getVisibleIds(null,!0).length<=3?this.expandWhoToFollow(e,i):t(e,i)},this.after("initialize",function(){this.disabled=!!this.attr.wtfOptions&&this.attr.wtfOptions.disabled,this.on(document,"dataDidDismissRecommendation",this.handleDismissResponse),this.on(document,"dataFailedToDismissUserRecommendation",this.handleDismissError),this.on(document,"uiDidHideEmptyTimelineModule",this.enable),this.on(document,"uiSwiftLoaded uiPageChanged",this.initRecommendations),this.on(document,"uiBeforePageChanged",this.reset),this.on("click",{dismissRecSelector:this.dismissRecommendation,viewAllSelector:this.triggerLinkClickScribes,findFriendsSelector:this.triggerLinkClickScribes,refreshRecsSelector:this.triggerLinkClickScribes}),this.around("cycleRecommendation",function(t,e,i){this.getNewRecommendations(t,e,i)})})}var n=i("0d4m"),o=i("DBjh"),r=i("El2S"),a=i("xgWv"),c=i("e6X4"),l=i("PtJB"),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,r.a,a.a,c.a,l.a)}).call(e,i("4kSj"))},FZeX:function(t,e,i){"use strict";var s=i("DBjh"),n=i("El2S"),o=i("CNhr"),r=i("xgWv"),a=i("Pp1+");e.a=Object(s.default)(n.a,o.a,r.a,a.a)},Fvrq:function(t,e,i){"use strict";function s(){this.defaultAttrs({permalinkTweetSelector:".permalink-tweet"}),this.scribePermalinkImpression=function(){var t=this.select("permalinkTweetSelector"),e=this.getCardDataFromContainer(t);e.hasCard&&this.scribeCardInteraction("show",e)},this.scribeAddTweetCTAClick=function(t,e){this.scribe({component:"add_to_thread",element:"cta",action:"click"})},this.after("initialize",function(){this.scribePermalinkImpression(),this.on("uiAddAnotherTweetClicked",this.scribeAddTweetCTAClick)})}var n=i("DBjh"),o=i("gcfh"),r=i("Vuuo");e.a=Object(n.default)(s,o.a,r.a)},"G/Dn":function(t,e,i){"use strict";function s(){}var n=i("DBjh"),o=i("Oofp");e.a=Object(n.default)(s,o.a)},HjF0:function(t,e,i){"use strict";function s(){this.defaultAttrs({listContainerSelector:".trend-location-picker"}),this.loadTrendLocations=function(t,e){var i=e.trendLocations;this.$list.empty(),i.forEach(function(t){var e=this.$template.clone(!1),i=e.find("button");i.text(t.name),i.attr("data-woeid",t.woeid),i.attr("data-name",t.name),this.$list.append(e)},this),this.$node.toggle(i.length>0)},this.after("initialize",function(){this.$list=this.select("listContainerSelector"),this.$template=this.$list.find("li:first").clone(!1),this.on(document,"dataGotRecentTrendLocations",this.loadTrendLocations),this.trigger("uiWantsRecentTrendLocations")})}var n=i("DBjh"),o=i("Oofp");e.a=Object(n.default)(s,o.a)},IF4z:function(t,e,i){"use strict";function s(){this.scribeImpression=function(t,e){this.scribe(r({},e.scribeContext,{element:"wtf_import_prompt",action:"impression"}))},this.scribeToggle=function(t,e){this.scribe(r({},e.scribeContext,{element:"wtf_import_prompt",action:e.action}),{section:"other_services"})},this.after("initialize",function(){this.on("uiWTFImportPromptImpression",this.scribeImpression),this.on("uiWTFImportPromptToggle",this.scribeToggle)})}var n=i("DBjh"),o=i("3oDc"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(n.default)(s,o.a)},JnjQ:function(t,e,i){"use strict";function s(){this.defaultAttrs({scribeInterval:6e4,page:void 0}),this.getTime=function(){return Date.now()},this.handleTweetsVisible=function(t,e){this.recordVisibleTweets(e.tweetData),e.cursorData&&this.recordVisibleCursors(e.cursorData)},this.recordVisibleCursors=function(t){var e=this,i={};t.forEach(function(t){e.visibleCursors[t.cursor]&&(e.previouslyVisibleCursors[t.cursor]=t.type),i[t.cursor]=t.type}),this.visibleCursors=i},this.recordVisibleTweets=function(t){var e={},i=this.getTime();t.forEach(function(t){this.visibleTweets[t.tweetId]?e[t.tweetId]=c({},this.visibleTweets[t.tweetId],{visibility_end:i}):e[t.tweetId]=c({},t,{visibility_start:i,visibility_end:i})},this),this.visibleTweetKeys().forEach(function(t){var i=this.visibleTweets[t],s=!e[t],n=i.visibility_start!==i.visibility_end;s&&n&&this.previouslyVisibleTweets.push(this.visibleTweets[t])},this),this.visibleTweets=e},this.flushVisibleTweets=function(t,e){var i=this.getTime();this.visibleTweetKeys().forEach(function(t){this.visibleTweets[t].visibility_end=i},this),this.recordVisibleTweets([]),this.scribeVisibilityResults()},this.onScribeVisibilityResults=function(t,e){e.page===this.attr.page&&(this.scribeVisibilityResults(),this.scribeCursorVisibilityResults())},this.scribeCursorVisibilityResults=function(){var t=this;if(Object.keys(this.previouslyVisibleCursors).length){var e={component:"tweet",element:"cursor",action:"impression"};Object.keys(this.previouslyVisibleCursors).forEach(function(i){t.previouslyScribedCursors[i]||(t.scribe(e,{event_info:t.previouslyVisibleCursors[i]}),t.previouslyScribedCursors[i]=!0)}),this.previouslyVisibleCursors={}}},this.scribeVisibilityResults=function(){if(this.previouslyVisibleTweets.length){var t={component:"stream",element:"linger",action:"results"},e={items:this.previouslyVisibleTweets.map(function(t){return this.interactionItem(t)},this)};this.previouslyVisibleTweets=[],this.scribe(t,e)}},this.visibleTweetKeys=function(){return Object.keys(this.visibleTweets).filter(function(t){return this.visibleTweets.propertyIsEnumerable(t)},this)},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.visibleTweets={},this.previouslyVisibleTweets=[],this.visibleCursors={},this.previouslyVisibleCursors={},this.previouslyScribedCursors={},this.pollingInterval=a.default.setIntervalEvent("uiScribeVisibilityResults",this.attr.scribeInterval,{page:this.attr.page}),this.on(document,"uiScribeVisibilityResults",this.onScribeVisibilityResults),this.on(document,"uiBeforePageChanged uiTeardown",this.flushVisibleTweets),this.on("uiTweetsVisible",this.handleTweetsVisible)})}var n=i("DBjh"),o=i("3oDc"),r=i("gcfh"),a=i("r8Bt"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(n.default)(s,o.a,r.a)},L40N:function(t,e,i){"use strict";function s(){this.defaultAttrs({dialogSelector:"#sms-codes-dialog",triggerSelector:".sms-codes-link"}),this.after("initialize",function(){this.$dialog=this.select("dialogSelector")})}var n=i("DBjh"),o=i("UHc7"),r=Object(n.default)(s,o.a);e.a=r},LfWP:function(t,e,i){"use strict";function s(){this.defaultAttrs({statsName:"threaded_conversation_expansion"}),this.requestTweets=function(t,e){if(e.url){var i=function(e){this.trigger(t.target,"dataThreadedConversationResult",e)},s=function(e,i,s){this.trigger(t.target,"dataThreadedConversationError",{status:i,errorThrown:s})};this.get({url:e.url,eventData:e,success:i.bind(this),error:s.bind(this)})}},this.after("initialize",function(){this.on("uiNeedsThreadedConversationTweets",this.requestTweets)})}var n=i("DBjh"),o=i("VtWx"),r=Object(n.default)(s,o.a);e.a=r},O1q0:function(t,e,i){"use strict";function s(){this.defaultAttrs({storageName:"recent_trend_locations",storageKey:"locations",maxRecentLocations:5}),this.initializeStorage=function(){var t=Object(o.a)({withArray:!0,withMaxElements:!0});this.storage=new t(this.attr.storageName),this.storage.setMaxElements(this.attr.storageKey,this.attr.maxRecentLocations)},this.getRecentTrendLocations=function(){this.trigger("dataGotRecentTrendLocations",{trendLocations:this.storage.getArray(this.attr.storageKey)})},this.saveRecentLocation=function(t,e){var i=e.location||{};i.woeid&&!this.hasRecentLocation(i.woeid)&&(this.storage.push(this.attr.storageKey,i),this.getRecentTrendLocations())},this.hasRecentLocation=function(t){return this.storage.getArray(this.attr.storageKey).some(function(e){return e.woeid===t})},this.after("initialize",function(){this.initializeStorage(),this.on("uiWantsRecentTrendLocations",this.getRecentTrendLocations),this.on("dataChangedTrendLocation",this.saveRecentLocation)})}var n=i("DBjh"),o=i("rWgq"),r=i("VtWx");e.a=Object(n.default)(s,r.a)},Oofp:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[o.a]),this.defaultAttrs({locationSelector:".trend-location-picker-item",selectedAttr:"selected"}),this.selectLocation=function(e,i){e.preventDefault();var s=t(i.el),n={woeid:s.data("woeid"),name:s.data("name")};this.changeLocationInfo(n),this.showSelected(n.woeid,!1)},this.showSelected=function(t,e){var i=this.select("locationSelector");i.removeClass(this.attr.selectedAttr),!e&&t&&i.filter('[data-woeid="'+t+'"]').addClass(this.attr.selectedAttr)},this.locationInfoUpdated=function(){this.showSelected(this.attr.location.woeid,this.attr.personalized)},this.after("initialize",function(){this.on("uiLocationInfoUpdated",this.locationInfoUpdated),this.on("click",{locationSelector:this.selectLocation}),this.showSelected(this.attr.location.woeid,this.attr.personalized)})}var n=i("q9/C"),o=i("3ZrE");e.a=s}).call(e,i("4kSj"))},OuLQ:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[o.a]),this.defaultAttrs({unchosenActionClass:"unchosen-action",dismissedModuleClass:"dismissed",dismissibleSelector:".dismissible-content",dismissModuleSelector:".dismiss-module",feedbackActionClickSelector:".dropdown .action-prompt",feedbackActionSelector:".feedback-action",undoActionSelector:".dismissed-module .undo-action",conversationTweetSelector:".conversation-module .tweet",converationModuleSelector:".conversation-module",childFeedbackPromptClickSelector:".child-feedback-prompt",childFeedbackConfirmSelector:".child-feedback-confirmation",childConfirmTextSelector:".child-confirmation-text",undoChildFeedbackSelector:".dismissed-module .undo-child-feedback-action",dismissedModuleSelector:".dismissed-module",feedbackActionsSelector:".feedback-actions"}),this.getStreamItemFromEvent=function(e){return t(e.target).closest(this.attr.topLevelStreamItemSelector)},this.getSuggestionInfoFromStreamItem=function(t){var e=t.attr("data-suggestion-json");return e&&JSON.parse(e)},this.suggestionFeedback=function(t,e,i){var s=this.getSuggestionInfoFromStreamItem(t),n=e.attr("data-feedback-type");this.trigger("uiSuggestionFeedback",{suggestionInfo:s,feedbackType:n,undo:i})},this.timelineFeedback=function(t){var e=t.feedbackUrl,i=t.undo;e&&this.trigger("uiTimelineFeedbackAction",{feedbackUrl:e,undo:i})},this.selectAction=function(e,i){var s=this,n=t(e.target).closest(this.attr.feedbackActionClickSelector),o=n.attr("data-feedback-type"),r=n.attr("data-feedback-url"),a=this.getStreamItemFromEvent(e);if(a.addClass(this.attr.dismissedModuleClass),this.slideAndFadeContent(a.children(this.attr.dismissibleSelector),a.children(this.attr.dismissModuleSelector),a),a.children(this.attr.dismissModuleSelector).find(this.attr.feedbackActionSelector).each(function(e,i){var n=t(i);n.toggleClass(s.attr.unchosenActionClass,n.attr("data-feedback-type")!==o)}),0!==a.find(this.attr.converationModuleSelector).length){var c=t(e.target).closest(this.attr.conversationTweetSelector),l=this.getSuggestionInfoFromStreamItem(a);l.tweet_ids=c.attr("data-tweet-id"),a.attr("data-suggestion-json",JSON.stringify(l))}this.suggestionFeedback(a,n,!1),this.timelineFeedback({feedbackUrl:r,undo:!1})},this.undoSelectAction=function(e,i){var s=t(e.target).closest(this.attr.feedbackActionSelector),n=s.attr("data-feedback-url"),o=this.getStreamItemFromEvent(e);o.removeClass(this.attr.dismissedModuleClass),this.slideAndFadeContent(o.children(this.attr.dismissModuleSelector),o.children(this.attr.dismissibleSelector),o),o.children(this.attr.dismissModuleSelector).find(this.attr.feedbackActionSelector).removeClass(this.attr.unchosenActionClass),this.suggestionFeedback(o,s,!0),this.timelineFeedback({feedbackUrl:n,undo:!0})},this.handleChildFeedbackSelected=function(e,i){var s=t(e.target),n=s.data("child-feedback-confirmation"),o=s.data("child-feedback-url"),r=this.getStreamItemFromEvent(e),a=r.find(this.attr.childFeedbackConfirmSelector);a.find(this.attr.childConfirmTextSelector).text(n),a.data("child-feedback-url",o);var c=r.find(this.attr.feedbackActionsSelector),l=r.find(this.attr.dismissedModuleSelector);this.slideAndFadeContent(c,a,l),this.timelineFeedback({feedbackUrl:o,undo:!1})},this.handleUndoChildFeedback=function(t,e){var i=this.getStreamItemFromEvent(t),s=i.find(this.attr.feedbackActionsSelector),n=i.find(this.attr.childFeedbackConfirmSelector),o=n.data("child-feedback-url"),r=i.find(this.attr.dismissedModuleSelector);this.slideAndFadeContent(n,s,r),this.timelineFeedback({feedbackUrl:o,undo:!0})},this.after("initialize",function(){this.on("click",{feedbackActionClickSelector:this.selectAction,undoActionSelector:this.undoSelectAction,childFeedbackPromptClickSelector:this.handleChildFeedbackSelected,undoChildFeedbackSelector:this.handleUndoChildFeedback})})}e.a=s;var n=i("q9/C"),o=i("Ouhc")}).call(e,i("4kSj"))},Ouhc:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({animationTime:200}),this.slideAndFadeContent=function(t,e,i,s){var o=this;if(!t.is(":hidden")){var r=this.getCombinedHeight(t);t.hide(),e.show();var a=this.getCombinedHeight(e);this.setAbsolutePosition(e),e.hide(),t.show(),this.setAbsolutePosition(t),i.css("paddingTop",r),t.fadeOut(Object(n.a)(this.attr.animationTime)),e.fadeIn(Object(n.a)(this.attr.animationTime)),i.animate({paddingTop:a},Object(n.a)(this.attr.animationTime),function(){o.resetCss(t),o.resetCss(e),o.resetCss(i),o.trigger(i.closest(o.attr.conversationModuleSelector),"uiConversationModuleUpdated"),s&&s()})}},this.getCombinedHeight=function(e){var i=0;return e.each(function(){i+=t(this).outerHeight()}),i},this.setAbsolutePosition=function(e){e.get().reverse().forEach(function(e){var i=t(e),s=i.width(),n=i.height();i.css({position:"absolute",top:i.position().top}),i.width(s),i.height(n)})},this.resetCss=function(t){var e={position:"",top:"",width:"",height:"",paddingTop:""};t.css(e)}}var n=i("EWF/");e.a=s}).call(e,i("4kSj"))},PfQd:function(t,e,i){"use strict";function s(){this.defaultAttrs({dialogComponentName:"dialog"}),this.namespace=function(t,e,i){return{component:t,element:e,action:i}},this.after("initialize",function(){this.scribeOnEvent("uiTweetArrowDismiss",this.namespace(this.attr.dialogComponentName,"dismiss","dismiss")),this.scribeOnEvent("uiTweetArrowBackgroundDismiss",this.namespace(this.attr.dialogComponentName,"background","dismiss")),this.scribeOnEvent("uiPermalinkGalleryOpen",this.namespace(null,"gallery","open"))})}var n=i("DBjh"),o=i("3oDc");e.a=Object(n.default)(s,o.a)},PtJB:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({refreshAnimationDuration:200,cycleTimeout:1e3,experimentCycleTimeout:300,wtfOptions:{},selfPromotedAccountHtml:"",$accountPriorToPreview:null,successClass:"has-content",recListSelector:".js-recommended-followers",recSelector:".js-actionable-user",refreshRecsSelector:".js-refresh-suggestions",expandedContainerSelector:".js-expanded-container",itemType:"user"}),this.refreshRecommendations=function(t,e){if(!this.currentlyRefreshing){this.currentlyRefreshing=!0;var i=this.getVisibleIds(null,!0).length||this.attr.wtfOptions.limit;this.trigger("uiRefreshUserRecommendations",o({},this.attr.wtfOptions,{excluded:this.getVisibleIds(),limit:i,refreshType:t.type})),this.hideRecommendations()}},this.sendGetRecommendationEvent=function(t,e){this.trigger("uiGetUserRecommendations",o({},this.attr.wtfOptions,t||{}))},this.getUserRecommendations=function(t,e){this.sendGetRecommendationEvent(t,e),this.hideRecommendations()},this.hideRecommendations=function(){this.animateContentOut(this.select("recListSelector"),"animationCallback")},this.isNewUserDuplicate=function(t){return-1!==this.getVisibleIds().indexOf(t)},this.handleRecommendationsResponse=function(e,i){var s=this,n=this.getVisibleIds();if(!this.disabled){i=i||{},this.hasRecommendations()||(i=o({},i,{initialResults:!0}));var r=t.trim(i.user_recommendations_html);if(r){var a=this.currentlyRefreshingUser(i);if(this.$node.addClass(this.attr.successClass),this.shouldExpandWtf(i)){var c=t(r),l=c.filter(this.attr.recSelector).first(),h=c.filter(this.attr.expandedContainerSelector),d=h.find(".js-actionable-user").filter(function(){return-1===n.indexOf(t(this).data("user-id")+"")});h.empty(),d.each(function(){h.append(this)}),a&&!this.isNewUserDuplicate(l.data("user-id")+"")&&this.animateContentIn(a,"animationCallback",t("<div>").append(l).html(),{modOp:"replaceWith",scribeCallback:function(){s.currentlyExpanding?s.pendingScribe=!0:s.reportUsersDisplayed(i)}}),h.length&&this.animateExpansion(h,i)}else{if(this.isNewUserDuplicate(t(r).data("user-id")+""))return;var u=this.select("recListSelector"),m=void 0;a&&(u=a,m="replaceWith"),this.animateContentIn(u,"animationCallback",r,{modOp:m,scribeCallback:function(){return s.reportUsersDisplayed(i)}})}}else this.handleEmptyRefreshResponse(e,i),this.trigger("uiGotEmptyRecommendationsResponse",i)}},this.handleRefreshError=function(t,e){this.handleEmptyRefreshResponse(t,e)},this.handleEmptyRefreshResponse=function(t,e){if(this.select("recSelector").length){if(this.currentlyExpanding){var i=this.currentlyRefreshingUser(e);if(e&&e.sourceEventData&&e.sourceEventData.clusterfollow&&i)return this.currentlyExpanding=!1,void this.replenishWhoToFollowDashboard(i)}var s=this.select("recListSelector"),n=this.currentlyRefreshingUser(e);n&&(s=n),this.animateContentIn(s,"animationCallback",s.html())}},this.getVisibleIds=function(e,i){var s=this.select("recSelector").not(e);return i||(s=s.not(".promoted-account")),s.map(function(){return t(this).attr("data-user-id")}).toArray()},this.originalItemCount=function(){return t(this.attr.recListSelector).children(this.attr.recSelector).length},this.doAfterFollowAction=function(t,e){var i=this;if(!this.disabled&&"following"===e.newState){var s=this.expandBucket?this.attr.experimentCycleTimeout:this.attr.cycleTimeout;setTimeout(function(){if(!i.currentlyRefreshing){var t=i.select("recSelector").filter("[data-user-id='"+e.userId+"']");t.length&&i.cycleRecommendation(t,e)}},s)}},this.cycleRecommendation=function(t,e){this.animateContentOut(t,"animationCallback");var i=o({},this.attr.wtfOptions,{limit:1,visible:this.getVisibleIds(t),refreshUserId:e.userId});this.trigger("uiGetUserRecommendations",i)},this.animateExpansion=function(t,e){var i=this.select("recListSelector"),s=this.select("expandedContainerSelector"),n=function(){this.pendingScribe&&(this.reportUsersDisplayed(e),this.pendingScribe=!1),this.currentlyExpanding=!1};s.length?s.html(t.html()):i.append(t),t.is(":visible")?n.bind(this)():t.slideDown("slow",n.bind(this))},this.animateContentIn=function(t,e,i,s){var n=this;if(t.length){s=s||{};var o=function(){t.is(n.attr.recListSelector)&&(n.currentlyRefreshing=!1),t[s.modOp||"html"](i).animate({opacity:1},n.attr.refreshAnimationDuration),s.scribeCallback&&s.scribeCallback()};t.is(":animated")?this[e]=o:o()}},this.animateContentOut=function(t,e){var i=this;t.animate({opacity:0},{duration:this.attr.refreshAnimationDuration,complete:function(){i[e]&&i[e](),i[e]=null}})},this.getItemPosition=function(t){var e=this.originalItemCount();return t.closest(this.attr.expandedContainerSelector).length?e+t.closest(this.attr.recSelector).index():t.closest(this.attr.recSelector).index()},this.currentlyRefreshingUser=function(t){return t&&t.sourceEventData&&t.sourceEventData.refreshUserId?this.select("recSelector").filter("[data-user-id="+t.sourceEventData.refreshUserId+"]"):null},this.shouldExpandWtf=function(t){return!!(t&&t.sourceEventData&&t.sourceEventData.get_replacement)},this.getUsersDisplayed=function(){var e=this.select("recSelector"),i=[];return e.each(function(e,s){var n=t(s);i.push({id:n.attr("data-user-id"),impressionId:n.attr("data-impression-id")})}),i},this.reportUsersDisplayed=function(t){var e=this.getUsersDisplayed();this.trigger("uiUsersDisplayed",{users:e}),this.trigger("uiDidGetRecommendations",t)},this.verifyInitialRecommendations=function(t,e){this.hasRecommendations()?this.reportUsersDisplayed({initialResults:!0}):this.sendGetRecommendationEvent({initialResults:!0})},this.hasRecommendations=function(){return this.select("recSelector").length>0},this.storeSelfPromotedAccount=function(t,e){e.html&&(this.selfPromotedAccountHtml=e.html)},this.replaceUser=function(t,e){t.tooltip("hide"),t.parent().hasClass("preview-wrapper")&&t.unwrap(),t.replaceWith(e)},this.replaceUserAnimation=function(e,i){e.tooltip("hide"),this.before("teardown",function(){this.replaceUser(e,i)});var s=t("<div/>",{class:e.attr("class"),style:e.attr("style")}).addClass("preview-wrapper");e.wrap(s);var n=e.css("minHeight");e.css({minHeight:0}).slideUp(70,function(){i.attr("style",e.attr("style")),e.replaceWith(i),i.delay(350).slideDown(70,function(){i.css({minHeight:n}),i.unwrap(),setTimeout(function(){i.tooltip("show"),setTimeout(function(){return i.tooltip("hide")},8e3)},500)})})},this.handlePreviewPromotedAccount=function(){if(!this.disabled&&this.selfPromotedAccountHtml){var e=t(this.selfPromotedAccountHtml),i=this.select("recSelector").first();this.attr.$accountPriorToPreview=i.clone(),this.replaceUserAnimation(i,e),e.find("a").on("click",function(t){t.preventDefault(),t.stopPropagation()})}},this.maybeRestoreAccountPriorToPreview=function(){var t=this.attr.$accountPriorToPreview;t&&(this.replaceUser(this.select("recSelector").first(),t),this.attr.$accountPriorToPreview=null)},this.after("initialize",function(){this.on(document,"dataDidGetUserRecommendations",this.handleRecommendationsResponse),this.on(document,"dataFailedToGetUserRecommendations",this.handleRefreshError),this.on(document,"dataFollowStateChange",this.doAfterFollowAction),this.on("click",{refreshRecsSelector:this.refreshRecommendations}),this.on(document,"dataDidGetSelfPromotedAccount",this.storeSelfPromotedAccount),this.on(document,"uiPromptbirdPreviewPromotedAccount",this.handlePreviewPromotedAccount),this.on(document,"uiPromptbirdDismissPrompt",this.maybeRestoreAccountPriorToPreview)})}var n=i("/eMm"),o=(i.n(n),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t});e.a=s}).call(e,i("4kSj"))},SGCT:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({moduleSelector:".ThreadedConversation",moreRepliesSelector:".ThreadedConversation-moreReplies",moreRepliesLinkSelector:".ThreadedConversation-moreRepliesLink",moreRepliesSpinnerSelector:".ThreadedConversation-moreRepliesSpinner",showMoreThreadsSelector:".ThreadedConversation-showMoreThreads",showMoreThreadsButtonSelector:".ThreadedConversation-showMoreThreadsButton, .ThreadedConversation-showMoreThreadsPrompt",showMoreThreadsSpinnerSelector:".ThreadedConversation-showMoreSpinner",tweetSelector:".tweet",threadedTweetSelector:".ThreadedConversation-tweet"}),this.showMoreThreads=function(e,i){var s=t(e.target),n=s.parents(this.attr.showMoreThreadsSelector);n.css("min-height",n.height()),s.hide(),s.parents(".Tombstone").hide(),n.find(this.attr.showMoreThreadsSpinnerSelector).removeClass("u-hidden");var o={low_quality:!0,max_position:t(e.target).data("cursor")};this.trigger("uiWantsMoreTimelineItems",o),this.trigger("scribe",{scribeEvent:{component:"tweet",element:"cursor",action:"click"},scribeData:{event_info:n.data("cursor-type-name")}}),this.on("dataGotMoreTimelineItems",function(){n.remove(),this.off("dataGotMoreTimelineItems")})},this.expandModule=function(e){e.preventDefault();var i=t(e.target),s=i.closest(this.attr.moduleSelector).find(this.attr.tweetSelector).toArray(),n={scribeContext:this.getScribeContext(i),tweets:s.map(this.tweetData,this)};this.trigger("uiShowMoreClicked",n);var o=i.closest(this.attr.moreRepliesSelector),r=o.data("expansion-url");i.addClass("u-hidden"),o.find(this.attr.moreRepliesSpinnerSelector).removeClass("u-hidden"),this.trigger(o,"uiNeedsThreadedConversationTweets",{url:r})},this.tweetData=function(e){return{id:t(e).data("tweetId"),position:this.select("tweetSelector").index(e)}},this.removeLastItemClasses=function(t,e){t.find(this.attr.threadedTweetSelector).last().removeClass("last")},this.animateResult=function(t,e,i){var s=this,n=e.find(".stream-items");this.removeLastItemClasses(e,i),n.children().addClass("opaque"),e.addClass("animating");var o=function(){n.children().removeClass("opaque"),e.removeClass("animating"),s.trigger(n,"uiPermalinkThreadExpanded")},r=i.children();n.append(r);var a=Math.max(this.getCombinedHeight(r)-t,0),c=r.first();c.css({marginTop:-a});var l=this.animationTime(a);c.animate({marginTop:0},{duration:l,queue:!1,complete:o})},this.expansionResult=function(e,i){var s=t(e.target),n=s.closest(this.attr.moduleSelector),o=this.getCombinedHeight(s);s.remove();var r=t(i.conversation_html).find(".stream-items");r.children().length&&this.animateResult(o,n,r),t(document).trigger("loadImages")},this.getCombinedHeight=function(e){return e.toArray().reduce(function(e,i){return e+t(i).outerHeight()},0)},this.animationTime=function(t){var e=2*Math.round(.35*Math.log(t)*c);return Object(o.a)(e)},this.expansionFailure=function(e){var i=t(e.target);i.find(this.attr.moreRepliesSpinnerSelector).addClass("u-hidden"),i.find(this.attr.moreRepliesLinkSelector).removeClass("u-hidden"),this.trigger("uiShowMessage",{message:Object(a.default)("Whoops! Something went wrong. Please try again!")})},this.after("initialize",function(){this.attr.isThreaded&&(this.on("click",{moreRepliesLinkSelector:this.expandModule,showMoreThreadsButtonSelector:this.showMoreThreads}),this.on("dataThreadedConversationResult",this.expansionResult),this.on("dataThreadedConversationError",this.expansionFailure))})}var n=i("DBjh"),o=i("EWF/"),r=i("alSu"),a=i("0d4m");e.a=Object(n.default)(s,r.a);var c=105}).call(e,i("4kSj"))},TTiE:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[o.a]),this.defaultAttrs({conversationModuleSelector:".conversation-module",hasConversationModuleSelector:".tweet.has-conversation-module",conversationHeaderSelector:".conversation-header",uncollapseSelector:"a.uncollapse",conversationRootSelector:"li.conversation-root",repliesCountSelector:".replies-count",otherRepliesSelector:".other-replies",topLevelStreamItemSelector:".stream-item:not(.conversation-tweet-item)",repliesCountClass:"replies-count",visuallyHiddenClass:"visuallyhidden",conversationRootClass:"conversation-root",conversationTweetsSelector:".conversation-tweet-item,.original-tweet-item",conversationFirstVisibleTweetClass:"conversation-first-visible-tweet",originalTweetClass:"original-tweet",conversationItemsSelector:".conversation-header, .conversation-tweet-item, .original-tweet-item, .missing-tweets-bar",toBeRemovedClass:"to-be-removed",unselectableStreamItemClass:"js-unselectable-stream-item",firstNavigableStreamItemClass:"first-navigable-stream-item",lastNavigableStreamItemClass:"last-navigable-stream-item",collapsedRootClass:"collapsed-root",collapsedAncestorsClass:"collapsed-ancestors",restoreConversationDelay:100,collapseOverMinimum:20}),this.dedupAndCollapse=function(t,e){this.dedupConversations(),this.collapseConversationTweets(e&&e.tweets)},this.dedupAndCollapseNew=function(t,e){this.dedupConversations(),e&&e.tweets&&e.tweets.length<=this.attr.collapseOverMinimum?this.collapseFirstConversationTweets(this.attr.collapseOverMinimum):this.collapseConversationTweets(e&&e.tweets)},this.dedupConversations=function(){var e=this;this.select("conversationModuleSelector").each(function(i,s){if(s.parentNode){var n=t(s).attr("data-ancestors").split(","),o=e.$node.find(e.idsToSelector(n)).filter(function(e,i){return!t(i).parent().hasClass("recap-module")});o.find(e.attr.conversationModuleSelector).addClass(e.attr.toBeRemovedClass);var r=e;o.slideUp({queue:!1,duration:"fast",complete:function(){var e=t(this);e.hasClass(r.attr.selectedClass)&&r.trigger("uiSelectNext",{maintainPosition:!0}),requestAnimationFrame(function(){r.trigger(e,"uiWillRemoveStreamItem"),e.remove()})}})}})},this.idToSelector=function(t){return this.attr.topLevelStreamItemSelector+"#stream-item-tweet-"+t},this.idsToSelector=function(t){return t.map(this.idToSelector.bind(this)).join(",")},this.collapseFirstConversationTweets=function(t){var e=this.$node.find(this.attr.streamItemSelector).slice(0,t).find(this.attr.conversationModuleSelector);this.collapseConversations(e)},this.collapseConversationTweets=function(t){var e=void 0;if(t){var i=t.map(function(t){return t.tweetId});e=this.$node.find(this.idsToSelector(i)).find(this.attr.conversationModuleSelector)}else e=this.select("conversationModuleSelector");this.collapseConversations(e)},this.collapseConversations=function(e){var i=this,s={},n={};e.get().reverse().forEach(function(e){var o=t(e),r=o.attr("data-ancestors"),a=o.find(".conversation-root .tweet").attr("data-item-id");o.hasClass("dont-collapse")||(s[r]?i.collapseAncestors(o):n[a]&&i.collapseRoot(o)),o.hasClass(i.attr.toBeRemovedClass)||(s[r]=!0,n[a]=!0)})},this.uncollapseConversationHandler=function(t,e){t.preventDefault();var i=this.conversationModuleFromEvent(t);this.uncollapseConversation(i),i.addClass("dont-collapse")},this.uncollapseConversation=function(t){t.find(".conversation-tweet-item.conversation-ancestor:visible").length>0?this.expandRoot(t):this.expandAncestors(t)},this.setSelectionToRoot=function(t){this.trigger(t.find(".conversation-root.conversation-tweet-item"),"uiSelectItem",{setFocus:!0})},this.expandAncestors=function(t){var e=this,i=t.find(this.attr.conversationHeaderSelector),s=t.find(".conversation-tweet-item, .missing-tweets-bar"),n=t.find(".original-tweet-item");this.slideAndFadeContent(i,s,n,function(){t.removeClass(e.attr.collapsedAncestorsClass).removeClass(e.attr.collapsedRootClass),e.setSelectionToRoot(t)})},this.expandRoot=function(t){var e=this,i=t.find(this.attr.conversationHeaderSelector),s=t.find(".conversation-tweet-item.conversation-root, .missing-tweets-bar"),n=t.find(".conversation-tweet-item.conversation-ancestor:not(.conversation-root):first");0===n.length&&(n=t.find(".original-tweet-item")),this.slideAndFadeContent(i,s,n,function(){e.setSelectionToRoot(t),t.removeClass(e.attr.collapsedAncestorsClass).removeClass(e.attr.collapsedRootClass)})},this.collapseAncestors=function(t){var e=t.find(".conversation-tweet-item, .missing-tweets-bar"),i=t.find(this.attr.conversationHeaderSelector),s=t.find(".original-tweet-item");this.slideAndFadeContent(e,i,s),t.addClass(this.attr.collapsedAncestorsClass)},this.collapseRoot=function(t){var e=t.find(".conversation-tweet-item.conversation-root, .missing-tweets-bar"),i=t.find(this.attr.conversationHeaderSelector),s=t.find(".conversation-tweet-item.conversation-ancestor:not(.conversation-root):first");0===s.length&&(s=t.find(".original-tweet-item")),this.slideAndFadeContent(e,i,s),1===t.find(".conversation-tweet-item").length?t.addClass(this.attr.collapsedAncestorsClass):t.addClass(this.attr.collapsedRootClass)},this.updateConversationItemClasses=function(e){var i=t(e.target),s=i.find(this.attr.conversationItemsSelector);s.removeClass(this.attr.unselectableStreamItemClass),s.removeClass(this.attr.firstNavigableStreamItemClass),s.removeClass(this.attr.lastNavigableStreamItemClass),s.filter(":hidden").addClass(this.attr.unselectableStreamItemClass);var n=s.filter(":visible");n.first().addClass(this.attr.firstNavigableStreamItemClass),n.last().addClass(this.attr.lastNavigableStreamItemClass),i.find(this.attr.conversationTweetsSelector).removeClass(this.attr.conversationFirstVisibleTweetClass).filter(":visible").first().addClass(this.attr.conversationFirstVisibleTweetClass)},this.conversationModuleFromEvent=function(e){return t(e.target).closest(this.attr.conversationModuleSelector)},this.after("initialize",function(){this.on(document,"uiHasInjectedOldTimelineItems",this.dedupAndCollapse),this.on(document,"uiHasInjectedNewTimeline",this.dedupAndCollapseNew),this.on("click",{uncollapseSelector:this.uncollapseConversationHandler}),this.on("uiShortcutEnter",{conversationHeaderSelector:this.uncollapseConversationHandler}),this.on("uiUncollapseConversation",this.uncollapseConversationHandler),this.on("uiConversationModuleUpdated",this.updateConversationItemClasses),this.dedupAndCollapse()})}e.a=s;var n=i("q9/C"),o=i("Ouhc")}).call(e,i("4kSj"))},VbtH:function(t,e,i){"use strict";function s(){this.defaultAttrs({inputSelector:"input.trends-location-search-input"}),this.executeTypeaheadSelection=function(t,e){if(-1===e.item.woeid)return void this.trigger("uiTrendsLocationSearchNoResults");this.currentSelection=e.item,this.changeLocationInfo({woeid:e.item.woeid,name:e.item.name})},this.possiblyClearSelection=function(){this.currentSelection&&this.currentSelection.woeid!==this.attr.location.woeid&&this.reset()},this.reset=function(t,e){this.currentSelection=null,this.$input.val("")},this.after("initialize",function(){this.$input=this.select("inputSelector"),this.on("uiTypeaheadItemSelected uiTypeaheadItemComplete",this.executeTypeaheadSelection),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.on(document,"uiTrendsDialogReset",this.reset),a.a.attachTo(this.$node,{inputSelector:this.attr.inputSelector}),r.a.attachTo(this.$node,{inputSelector:this.attr.inputSelector,hideOnEmptyQuery:!0,blockLinkActions:!0,datasourceRenders:[["trendLocations",["trendLocations"]]],deciders:this.attr.typeaheadData,eventData:{scribeContext:{component:"trends_location_search"}}})})}var n=i("DBjh"),o=i("3ZrE"),r=i("cCv7"),a=i("aRgS");e.a=Object(n.default)(s,o.a)},VeSc:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[o.a]);this.defaultAttrs({streamItemsSelector:".stream-items",socialProofSelector:".tweet-stats-container"}),this.autoplayNewItems=function(t){if(t){var e=this.$window.scrollTop(),i=e+this.$window.height(),s=this.$promotedItem.length&&this.$promotedItem.offset().top>i,n=this.injectNewItems({},{autoplay:!0}),o=this.select("streamItemsSelector");this.travelingPTw&&s&&this.repositionPromotedItem(function(t){n.first().before(t),n=n.add(t),this.trigger(t,"uiShouldFixMargins")});var r=n.first().offset().top,a=r>e&&r<i,c=o.offset().top,l=n.last().next().offset().top-c+1;a?(o.css("marginTop",-l),this.animateBlockOfItems()):this.setScrollerScrollTop(e+l)}},this.animateBlockOfItems=function(){var t=this,e=this.select("streamItemsSelector"),i=this.$window.scrollTop(),s=parseFloat(e.css("marginTop"));e.parent().css("overflow","hidden"),e.animate({marginTop:0},{duration:700+Math.abs(s),step:function(e){t.lockedTimelineScroll&&t.setScrollerScrollTop(i+Math.abs(s-Math.ceil(e)))},complete:function(){e.parent().css("overflow","inherit"),t.afterAnimationQueue.forEach(function(t){t.call(this)},t),t.afterAnimationQueue=[]}})},this.setScrollerScrollTop=function(e){(this.attr.overflowScroll?this.$node:t(window)).scrollTop(e)},this.enableAutoplay=function(){this.autoplay=!0,this.travelingPTw=this.attr.travelingPTw,this.lockedTimelineScroll=!1,this.afterAnimationQueue=[],this.newItemsXLine=0,this.$window=this.attr.overflowScroll?this.$node:t(window),this.on("mouseover",function(){this.lockedTimelineScroll=!0}),this.on("mouseleave",function(){this.lockedTimelineScroll=!1})},this.after("initialize",function(){this.attr.autoplay&&this.enableAutoplay()})}var n=i("q9/C"),o=i("bgdb");e.a=s}).call(e,i("4kSj"))},Vppf:function(t,e,i){"use strict";function s(){this.defaultAttrs({personalizedSelector:".js-location-personalized",nonpersonalizedSelector:".js-location-nonpersonalized",currentLocationSelector:".current-location"}),this.updateView=function(){this.attr.personalized||this.select("currentLocationSelector").text(this.attr.location.name),this.select("nonpersonalizedSelector").toggle(!this.attr.personalized),this.select("personalizedSelector").toggle(!!this.attr.personalized)},this.after("initialize",function(){this.updateView(),this.on("uiLocationInfoUpdated",this.updateView)})}var n=i("DBjh"),o=i("3ZrE");e.a=Object(n.default)(s,o.a)},XrvI:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({permalinkCloseButtonSelector:".PermalinkProfile-dismiss",profileBackgroundCloseSelector:".PermalinkProfile-overlay"}),this.handlePermalinkCloseButton=function(t){this.trigger("uiTweetArrowDismiss"),this.$node.fadeOut()},this.handleOverlayClick=function(t){this.trigger("uiTweetArrowBackgroundDismiss"),this.$node.fadeOut()},this.after("initialize",function(){this.$node.show().css("opacity","1"),this.on(t(this.attr.profileBackgroundCloseSelector),"click",this.handleOverlayClick),this.on("click",{permalinkCloseButtonSelector:this.handlePermalinkCloseButton})})}var n=i("DBjh");e.a=Object(n.default)(s)}).call(e,i("4kSj"))},ZuUJ:function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({permalinkTweetSelector:".permalink-tweet",ownTweetSelector:".my-tweet",permalinkOverlayDialogSelector:".PermalinkOverlay",permalinkOverlaySelector:".PermalinkOverlay .permalink-container",permalinkTweetFormSelector:".inline-reply-tweetbox .tweet-form"}),this.getPermalinkTweet=function(t,e,i){var s=this.select("permalinkTweetSelector"),n=!!s.length;return n&&(i.$tweet=s),n},this.shouldHandleTweetAction=function(){return this.attr.inOverlay||!t(this.attr.permalinkOverlaySelector).length},this.initInlineReplyComposer=function(t,e,i){this.$node.closest(this.attr.permalinkOverlaySelector).find(this.attr.permalinkTweetFormSelector).trigger("uiInitTweetbox",{condensable:!0,preventTweetingDefaultText:!1,impressionId:this.attr.impressionId,videoSupport:!0,tweetBoxDialogSelector:this.attr.permalinkOverlayDialogSelector,tweetBoxDialogType:"permalink_overlay",environment:this.attr.environment,eventData:{scribeContext:{component:"inline_reply"}},overrides:i.tweetData})},this.after("initialize",function(){if(this.attr.loggedIn){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard),e=this.mkTweetDataCollectorForAction(this.interactionDataWithCard,this.getDataForReply);this.composeHandler(this.getPermalinkTweet,e,this.initInlineReplyComposer).call(this),this.on(document,"uiShortcutFavorite",this.composeHandler(this.shouldHandleTweetAction,this.getPermalinkTweet,t,this.toggleFavorite)),this.on(document,"uiShortcutRetweet",this.composeHandler(this.shouldHandleTweetAction,this.getPermalinkTweet,t,this.toggleRetweet)),this.on(document,"uiShortcutReply",this.composeHandler(this.shouldHandleTweetAction,this.getPermalinkTweet,e,this.triggerTweetAction("uiReplyToTweet")))}})}e.a=i}).call(e,i("4kSj"))},bgdb:function(t,e,i){"use strict";function s(){this.repositionPromotedItem=function(t){t.call(this,this.$promotedItem.detach())},this.after("initialize",function(){this.$promotedItem=this.$node.find(".promoted-tweet").first().closest(".stream-item")})}e.a=s},e6X4:function(t,e,i){"use strict";function s(){this.defaultAttrs({connectOtherSelector:".js-connect-other",otherServicesSelector:".other-services"}),this.toggleOtherServices=function(){var t=this.select("otherServicesSelector"),e=void 0;t.hasClass("hidden")?(t.removeClass("hidden"),e="open"):(t.addClass("hidden"),e="close"),this.trigger("uiWTFImportPromptToggle",{action:e})},this.after("initialize",function(){this.trigger("uiWTFImportPromptImpression"),this.on("click",{connectOtherSelector:this.toggleOtherServices})})}e.a=s},fJ8b:function(t,e,i){"use strict";(function(t){function s(t){o.a.attachTo(document),n.a.attachTo(".permalink-container")}var n=i("XrvI"),o=i("PfQd"),r=t(".PermalinkProfile-overlay").length>0;e.a=r?s:t.noop}).call(e,i("4kSj"))},gllR:function(t,e,i){"use strict";function s(){this.scribeViewOtherClick=function(t,e){this.scribe("click",e,this.tweetScribeItems([e.tweet]))},this.scribeShowMoreClick=function(t,e){this.scribe("click",e,this.tweetScribeItems(e.tweets))},this.tweetScribeItems=function(t){return{items:t.map(function(t){return{id:t.id,position:t.position,item_type:o.a.tweet}})}},this.after("initialize",function(){this.on("uiViewOtherClicked",this.scribeViewOtherClick),this.on("uiShowMoreClicked",this.scribeShowMoreClick)})}var n=i("DBjh"),o=i("rbkv"),r=i("3oDc");e.a=Object(n.default)(s,r.a)},hODd:function(t,e,i){"use strict";function s(){this.defaultAttrs({itemType:"tweet"})}var n=i("8mUk"),o=i("G/SW"),r=i("AN05"),a=i("TTiE"),c=i("OuLQ"),l=i("9qF2");e.a=n.a.mixin(s,o.a,a.a,c.a,l.a,r.a)},hYUW:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({userSelector:".js-actionable-user",itemType:"user"}),this.scribeDismissRecommendation=function(t,e){this.scribeInteraction("dismiss",e.oldUser),e.newUser&&this.scribeInteraction({element:"replace",action:"results"},e.newUser,{referring_event:"replace"})},this.scribeRecommendationResults=function(e,i){var s=this,n=[];e.emptyResponse||this.$node.find(this.attr.userSelector).map(function(e,i){return n.push(s.interactionData(t(i),{position:e}))});var o=e.emptyResponse?"no_results":"results";this.scribeInteractiveResults({element:i,action:o},n,e,{referring_event:i})},this.scribeRecommendations=function(t,e){var i=e.sourceEventData||{};e.initialResults||i.initialResults?(this.scribeRecommendationResults(e,"initial"),e.emptyResponse||this.scribeRecommendationImpression(e)):(this.scribe({action:"refresh"},e,{event_info:i.refreshType}),this.scribeRecommendationResults(e,"newer"))},this.scribeEmptyRecommendationsResponse=function(t,e){this.scribeRecommendations(t,a({},e,{emptyResponse:!0}))},this.scribeRecommendationImpression=function(t){this.scribe("impression",t)},this.scribeLinkClicks=function(t,e){this.scribe({component:"user_recommendations",element:e.element,action:"click"})},this.after("initialize",function(){this.on(document,"uiDidDismissUserRecommendation",this.scribeDismissRecommendation),this.on(document,"uiDidGetRecommendations",this.scribeRecommendations),this.on(document,"uiGotEmptyRecommendationsResponse",this.scribeEmptyRecommendationsResponse),this.on(document,"uiClickedWtfLink",this.scribeLinkClicks)})}var n=i("DBjh"),o=i("alSu"),r=i("gcfh"),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(n.default)(s,o.a,r.a)}).call(e,i("4kSj"))},jAyJ:function(t,e,i){"use strict";function s(){this.defaultAttrs({dismissTweetSelector:".tweet .js-action-dismiss"}),this.after("initialize",function(){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard);this.on("click",{dismissTweetSelector:this.composeHandler(this.getClosestTweet,t,this.triggerTweetAction("uiDismissTweet"))})})}e.a=s},jyKx:function(t,e,i){"use strict";function s(){this.defaultAttrs({pinnedStreamItemSelector:"li.js-pinned"}),this.keepPinnedStreamItemsOnTop=function(){this.$pinnedStreamItems.length&&(this.$pinnedStreamItems.first().css("margin-top","0"),this.$items.prepend(this.$pinnedStreamItems.detach()))},this.after("initialize",function(){this.$items=this.select("itemsSelector"),this.$pinnedStreamItems=this.select("pinnedStreamItemSelector"),this.on("uiHasInjectedNewTimeline",this.keepPinnedStreamItemsOnTop)})}e.a=s},k1OA:function(t,e,i){"use strict";(function(t){function s(){this.injectNewItems=function(t,e){if(this.timelineCacheTTLTimer&&(clearTimeout(this.timelineCacheTTLTimer),this.timelineCacheTTLTimer=null),!(this.latentItems.length<1)){e&&e.wasPeriodPress&&this.trigger("uiUserPressedPeriodAndSawNewTweets"),e&&e.wasPushStateInjection&&this.trigger("uiUserPushStateInjectedTweets"),e&&e.wasTopBarBirdClick&&this.trigger("uiUserClickedTopBarBirdAndSawNewTweets"),e&&e.wasComposedTweet&&this.trigger("uiUserComposedTweet"),this.trigger("uiHideNewItemsBar");var i=this.injectItems("prepend",this.latentItems.join(""),"uiHasInjectedNewTimeline",e);return this.resetLatentItems(),i}},n.default.mixin(this,[o.a,r.a]),this.defaultAttrs({streamItemSelector:".js-stream-item:not(.js-stream-item .js-stream-item)",refreshOnReturn:!0}),this.getNewItems=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.getInitial,s=void 0!==i&&i,n=e.injectImmediately,o=void 0!==n&&n,r=Object.keys(this.composedThenInjectedTweetIds),c=s?this.getInitialItemsData():this.getNewItemsData(),l=s?{}:this.getNewItemsCountData&&this.getNewItemsCountData();this.trigger("uiWantsMoreTimelineItems",a({include_new_items_bar:!o,latent_count:this.latentCount,composed_count:r.length,composed_ids:r},c,l,e)),s&&this.trigger("uiShowGlobalLoadingIndicator")},this.notifyNewItems=function(t){if(t.items_html&&t.items_html.trim()){var e=t.sourceEventData||{};if(this.resetStateVariables(t),t.items_html){if(this.latentItems=this.htmlToItemArray(t.items_html).concat(this.latentItems),this.latentCount=t.new_latent_count,t.new_tweets_bar_html){var i=t.new_tweets_bar_html;this.autoplay?this.autoplayNewItems(t.new_tweets_bar_html):e.injectImmediately||(this.trigger("uiUpdateNewItemsBar",{html:i}),this.trigger("uiAddPageCount",{count:this.latentCount}))}if(e.injectImmediately||e.timeline_empty){var s={startTimeMs:e.startTimeMs};this.trigger("uiInjectNewItems",s)}e.scrollToTop&&this.scrollToTop(),e.selectTopTweet&&this.trigger("uiSelectTopTweet")}}},this.htmlToItemArray=function(e){return t("<div>").html(e).find(this.attr.streamItemSelector).toArray().map(function(e){return t("<div>").append(e).html()})},this.saveLatentItems=function(t,e){var i=this.select("containerSelector");i.attr("data-latent-items",this.latentItems.join("")),i.attr("data-latent-count",this.latentCount)},this.resetLatentItems=function(){var t=this.select("containerSelector"),e=t.attr("data-latent-items");t.removeAttr("data-latent-items"),this.latentItems=this.htmlToItemArray(e),this.latentCount=parseInt(t.attr("data-latent-count"),10)||0,t.removeAttr("data-latent-count")},this.refreshOnNavigate=function(t,e){(this.isPollingStopped||e.fromCache&&this.attr.refreshOnReturn)&&this.trigger("uiTimelineShouldRefresh",{navigated:!0})},this.refreshAndSelectTopTweet=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:!0,getInitial:this.shouldGetInitialTimeline})},this.injectComposedTweet=function(e,i){if(!i.in_reply_to_status_id&&i.tweet_html){this.injectNewItems();var s=t(i.tweet_html).filter(this.attr.streamItemSelector).first().attr("data-item-id");this.$node.find(".original-tweet[data-tweet-id='"+s+"']:first").length||(this.latentItems=this.htmlToItemArray(i.tweet_html),this.injectNewItems(null,{wasComposedTweet:"dataTweetSuccess"===e.type}),this.composedThenInjectedTweetIds[i.tweet_id]=window.location.href)}},this.refreshAndInjectImmediately=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:1===this.$selected.length,getInitial:this.shouldGetInitialTimeline})},this.resetCacheOfComposedInjectedTweets=function(t,e){this.composedThenInjectedTweetIds=c={}},this.addPageCount=function(t,e){this.latentCount&&this.trigger("uiAddPageCount",{count:this.latentCount})},this.after("initialize",function(){var t=this;this.latentItems=[],this.latentCount=0,this.isPollingStopped=!1,this.timelineCacheTTLTimer=null,this.shouldGetInitialTimeline=!1,this.composedThenInjectedTweetIds=c,this.resetLatentItems(),this.injectNewItems(null,{wasPushStateInjection:!0}),this.on("uiInjectNewItems",this.injectNewItems),this.on(document,"uiTimelineShouldRefresh",this.getNewItems),this.on(document,"uiBeforePageChanged",function(){t.isPollingStopped?t.resetLatentItems():t.saveLatentItems()}),this.on(document,"uiPageChanged",this.refreshOnNavigate),this.on(document,"uiGotoTopOfScreen",this.refreshAndInjectImmediately),this.on(document,"uiShortcutGotoTopOfScreen",this.refreshAndSelectTopTweet),this.on(document,"dataPageMutated",this.resetCacheOfComposedInjectedTweets),this.on(document,"uiPageNeedsCount",this.addPageCount),this.on(document,"uiPollingStopped",function(){t.isPollingStopped=!0,t.attr.timelineCacheTTLMillis&&(t.timelineCacheTTLTimer=setTimeout(function(){t.resetLatentItems(),clearTimeout(t.timelineCacheTTLTimer),t.timelineCacheTTLTimer=null,t.trigger("uiTimelineCacheInvalidated"),t.shouldGetInitialTimeline=!0},t.attr.timelineCacheTTLMillis))}),this.on(document,"uiPollingStarted",function(){t.isPollingStopped=!1,t.shouldGetInitialTimeline=!1}),this.attr.injectComposedTweets&&this.on(document,"dataTweetSuccess",this.injectComposedTweet)})}var n=i("q9/C"),o=i("VeSc"),r=i("p067"),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},c={};e.a=s}).call(e,i("4kSj"))},kku7:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({contentSelector:"#trends_dialog_content",quickSelectSelector:"#trend-locations-quick-select",dropdownSelector:"#trend-locations-dropdown-select",personalizedSelector:".trends-personalized",nonPersonalizedSelector:".trends-by-location",changeTrendsSelector:".customize-by-location",showDropdownSelector:".js-show-dropdown-select",showQuickSelectSelector:".js-show-quick-select",searchSelector:".trends-search-locations",nearbySelector:".trends-nearby-locations",recentSelector:".trends-recent-locations",currentLocationSelector:".trends-current-location",loadingSelector:"#trend-locations-loading",defaultSelector:".select-default",doneSelector:".done",errorSelector:".trends-dialog-error p",errorClass:"has-error"}),this.openDialog=function(t,e){this.trigger("uiTrendsDialogOpened"),this.initialized?this.setCurrentView():(this.trigger("uiWantsTrendsLocationDialog"),this.initialized=!0),this.$node.removeClass("has-error"),this.open()},this.setCurrentView=function(){this.attr.personalized?this.showPersonalizedView():this.showNonpersonalizedView(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showPersonalizedView=function(){this.select("nonPersonalizedSelector").hide(),this.select("personalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showNonpersonalizedView=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showQuickSelectContainer=function(t,e){this.showNonpersonalizedView(),this.select("dropdownSelector").hide(),this.select("quickSelectSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showDropdownContainer=function(t,e){this.showNonpersonalizedView(),this.select("quickSelectSelector").hide(),this.select("dropdownSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideViews=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").hide()},this.showError=function(t,e){this.hideViews(),this.hideLoading(),this.initialized=!1,this.$node.addClass(this.attr.errorClass),this.select("errorSelector").html(e.message),this.trigger(this.$dialog,"uiDialogContentChanged")},this.selectDefault=function(e,i){var s=t(e.target);!s.data("personalized")?this.changeLocationInfo({name:s.data("name"),woeid:s.data("woeid")}):this.setPersonalizedTrends(),this.close()},this.reset=function(t,e){this.showQuickSelectContainer(),this.trigger("uiTrendsDialogReset")},this.initializeDialog=function(t,e){this.select("contentSelector").html(e.dialog_html),this.setLocationInfo(t,e),this.initializeComponents(),this.setCurrentView()},this.showLoading=function(){this.select("loadingSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideLoading=function(){this.select("loadingSelector").hide()},this.__handleChangeTrendsClick=function(){this.showNonpersonalizedView(),this.trigger("uiTrendsDialogCustomizeLocation")},this.initializeComponents=function(t,e){c.a.attachTo(this.attr.currentLocationSelector,{location:this.attr.location,personalized:this.attr.personalized}),a.a.attachTo(this.attr.searchSelector,{typeaheadData:this.attr.typeaheadData}),r.a.attachTo(this.attr.dropdownSelector),l.a.attachTo(this.attr.nearbySelector,{location:this.attr.location,personalized:this.attr.personalized}),h.a.attachTo(this.attr.recentSelector,{location:this.attr.location,personalized:this.attr.personalized})},this.after("initialize",function(){this.hideViews(),this.on("uiChangeLocation",this.showLoading),this.on("uiTrendsLocationSearchNoResults",this.showDropdownContainer),this.on(document,"uiShowTrendsLocationDialog",this.openDialog),this.on("uiDialogClosed",this.reset),this.on(document,"dataGotTrendsLocationDialog",this.initializeDialog),this.on(document,"dataGotTrendsLocationDialogError",this.showError),this.on("uiLocationInfoUpdated",this.hideLoading),this.on("click",{doneSelector:this.close,defaultSelector:this.selectDefault,changeTrendsSelector:this.__handleChangeTrendsClick,showDropdownSelector:this.showDropdownContainer,showQuickSelectSelector:this.showQuickSelectContainer})})}var n=i("DBjh"),o=i("UHc7"),r=i("8hg/"),a=i("VbtH"),c=i("Vppf"),l=i("G/Dn"),h=i("HjF0"),d=i("3ZrE");e.a=Object(n.default)(s,o.a,d.a)}).call(e,i("4kSj"))},mS8d:function(t,e,i){"use strict";var s=i("Ny+n"),n=i("DJnx");e.a=s.a.mixin(n.a)},nB7e:function(t,e,i){"use strict";function s(){this.getTrendsLocationDialog=function(t,e){var i=function(t){this.trigger("dataGotTrendsLocationDialog",t),t.trendLocations&&this.trigger("dataLoadedTrendLocations",{trendLocations:t.trendLocations})};this.get({url:"/trends/location_dialog",eventData:e,success:i.bind(this),error:"dataGotTrendsLocationDialogError"})},this.updateTrendsLocation=function(t,e){var i=e.location||{},s={woeid:i.woeid,personalized:e.personalized,pc:!0},n=function(t){this.trigger("dataChangedTrendLocation",{personalized:t.personalized,location:i}),t.trends_cache_key&&(this.trigger("dataTempTrendsCacheKeyChanged",{trendsCacheKey:t.trends_cache_key}),this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)};this.post({url:"/trends/dialog",eventData:e,data:s,success:n.bind(this),error:"dataGotTrendsLocationDialogError"})},this.after("initialize",function(){this.on("uiWantsTrendsLocationDialog",this.getTrendsLocationDialog),this.on("uiChangeLocation",this.updateTrendsLocation)})}var n=i("DBjh"),o=i("VtWx");e.a=Object(n.default)(s,o.a)},"nD+w":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({src:"module",$backoffNode:t(window),trendsModuleEndpoint:"/i/trends",trendsCacheKey:null,show_context:!0,trendsPollingOptions:{focusedInterval:3e5,blurredInterval:12e5,eventData:{source:"clock"}}}),this.makeTrendsRequest=function(t){var e=t.woeid,i=t.source,s=function(t){t.source=i,this.trigger("dataTrendsRefreshed",t)};this.get({url:this.attr.trendsModuleEndpoint,eventData:t,data:{k:this.currentCacheKey,woeid:e,pc:!0,personalized:t.personalized,src:this.attr.src,show_context:this.attr.show_context,profileUserId:this.attr.profileUserId,query:this.attr.query},success:s.bind(this),error:"dataTrendsRefreshedError"})},this.makeTrendsDialogRequest=function(t,e){var i={woeid:t.woeid,personalized:t.personalized,pc:!0},s=function(t){this.trigger("dataGotTrendsDialog",t),this.currentWoeid&&this.currentWoeid!==t.woeid&&this.trigger("dataTrendsLocationChanged"),this.currentWoeid=t.woeid,t.trends_cache_key&&(this.currentCacheKey=t.trends_cache_key,this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)};(e?this.post:this.get).call(this,{url:"/trends/dialog",eventData:t,data:i,success:s.bind(this),error:"dataGotTrendsDialogError"})},this.changeTrendsLocation=function(t,e){this.makeTrendsDialogRequest(e,!0)},this.refreshTrends=function(t,e){e=e||{},this.makeTrendsRequest(e)},this.getTrendsDialog=function(t,e){e=e||{},this.makeTrendsDialogRequest(e)},this.updateTrendsCacheKey=function(t,e){this.currentCacheKey=e.trendsCacheKey},this.after("initialize",function(){this.currentCacheKey=this.attr.trendsCacheKey,this.timer=Object(o.a)("uiRefreshTrends",this.attr.$backoffNode,this.attr.trendsPollingOptions),this.on("uiWantsTrendsDialog",this.getTrendsDialog),this.on("uiChangeTrendsLocation",this.changeTrendsLocation),this.on("uiRefreshTrends",this.refreshTrends),this.on("dataTempTrendsCacheKeyChanged",this.updateTrendsCacheKey)})}var n=i("DBjh"),o=i("11Yp"),r=i("VtWx");e.a=Object(n.default)(s,r.a)}).call(e,i("4kSj"))},p067:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({pollingWatchNode:t(window),pollingEnabled:!0}),this.shouldStopPolling=function(t){return!!(this.attr.pollingOptions&&this.attr.pollingOptions.pauseItemCount&&t>=this.attr.pollingOptions.pauseItemCount)},this.startPolling=function(){this.pollingTimer&&this.pollingTimer.clear(),this.pollingTimer=Object(n.a)("uiTimelinePollForNewItems",this.attr.pollingWatchNode,this.attr.pollingOptions),this.resetPolling()},this.pausePolling=function(){this.pollingTimer.pause(),this.pollingPaused=!0},this.resetPolling=function(){this.backoffEmptyResponseCount=0,this.pollingPaused=!1,this.trigger("uiPollingStarted")},this.stopPolling=function(){this.pollingTimer&&(this.pollingTimer.clear(),this.trigger("uiPollingStopped"))},this.pollForNewItems=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!1,interval:this.pollingTimer.interval,fromPolling:!0})},this.onGotMoreTimelineItems=function(t,e){if(this.attr.pollingOptions&&this.attr.pollingOptions.pauseAfterBackoff&&e&&e.sourceEventData){if(e.focused_refresh_interval){var i=this.attr.pollingOptions.blurredInterval/this.attr.pollingOptions.focusedInterval;this.stopPolling(),this.attr.pollingOptions.focusedInterval=e.focused_refresh_interval,this.attr.pollingOptions.blurredInterval=e.focused_refresh_interval*i,this.startPolling()}var s=e.sourceEventData;s.fromPolling&&(this.shouldStopPolling(e.new_latent_count)?this.stopPolling():this.isNewItem(e)||s.interval<this.attr.pollingOptions.blurredInterval?this.resetPolling():++this.backoffEmptyResponseCount>=this.attr.pollingOptions.backoffEmptyResponseLimit&&this.pausePolling())}},this.getNewItemsCountData=function(t){if(this.pollingPaused&&this.attr.pollingOptions)return this.resetPolling(),{count:this.attr.pollingOptions.resumeItemCount}},this.possiblyRefreshBeforeInject=function(t,e,i){return this.pollingPaused&&i&&i.fromClick&&this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0}),t(e,i)},this.around("injectNewItems",this.possiblyRefreshBeforeInject),this.before("teardown",function(){this.stopPolling()}),this.after("initialize",function(){this.attr.pollingEnabled&&(this.on(document,"uiTimelinePollForNewItems",this.pollForNewItems),this.on(document,"dataGotMoreTimelineItems",this.onGotMoreTimelineItems),this.on(document,"uiHasInjectedNewTimeline",this.startPolling),this.startPolling())})}var n=i("11Yp");e.a=s}).call(e,i("4kSj"))},ruJk:function(t,e,i){"use strict";function s(){this.defaultAttrs({itemType:"tweet",tweetSelector:".tweet",ancestorTweetSelector:".tweet.ancestor"}),this.removeAncestors=function(){this.select("ancestorTweetSelector").length||this.$node.remove()},this.after("initialize",function(){this.on("uiTweetRemoved",this.removeAncestors)})}var n=i("4Pj3"),o=i("8hd4"),r=i("G/SW"),a=i("xgWv"),c=i("CNhr");e.a=n.a.mixin(s,o.a,r.a,a.a,c.a)},rz4S:function(t,e,i){"use strict";function s(){this.defaultAttrs({repliesSelector:".replies-to .stream-items .tweet",hasRepliesClass:"has-replies"}),this.updateRepliesState=function(){this.select("repliesSelector").length?this.$node.addClass(this.attr.hasRepliesClass):this.$node.removeClass(this.attr.hasRepliesClass)},this.after("initialize",function(){this.on(document,"uiTweetInserted uiTweetRemoved",this.updateRepliesState)})}var n=i("DBjh");e.a=Object(n.default)(s)},smxC:function(t,e,i){"use strict";function s(t){a.a.attachTo(document),n.a.attachTo(document,{src:t.src,trendsCacheKey:t.trendsCacheKey,trendsModuleEndpoint:t.trendsEndpoint,show_context:t.show_context,profileUserId:t.profile_id,query:t.query}),c.a.attachTo(".module.trends",{loggedIn:t.loggedIn,displaySource:t.src,eventData:{scribeContext:{component:"trends"}}}),o.a.attachTo(document),r.a.attachTo(document),l.a.attachTo("#trends_dialog",{typeaheadData:t.typeaheadData,eventData:{scribeContext:{component:"trends_location_dialog"}}})}e.a=s;var n=i("nD+w"),o=i("nB7e"),r=i("O1q0"),a=i("0iQm"),c=i("ykaF"),l=i("kku7")},wsa9:function(t,e,i){"use strict";function s(){this.defaultAttrs({permalinkPageTweetSelector:".PermalinkOverlay .permalink-tweet",ownTweetSelector:".my-tweet"}),this.triggerBlock=function(){this.triggerBlockActionOnNode(this.select("permalinkPageTweetSelector"),"uiOpenBlockUserDialog")},this.triggerMute=function(){this.triggerBlockActionOnNode(this.select("permalinkPageTweetSelector"),"uiDidMuteUser")},this.after("initialize",function(){this.on(document,"uiShortcutBlock",this.triggerBlock),this.on(document,"uiShortcutMuteUser",this.triggerMute)})}var n=i("DBjh"),o=i("xOPL"),r=i("lRgq");e.a=Object(n.default)(s,o.a,r.a)},yQR6:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({permalinkTweetSelector:".permalink-tweet",permalinkTweetForm:".permalink-tweet-container + .inline-reply-tweetbox-container .inline-reply-tweetbox .tweet-form",permalinkAddAnotherTweetCTA:".addAnotherTweetCTA"}),this.homePath="/",this.handleReply=function(e,i){t(e.target).is(this.attr.permalinkTweetSelector)&&this.select("permalinkTweetForm").length?this.trigger(this.select("permalinkTweetForm"),"uiComposerResetAndFocus"):this.trigger("uiOpenReplyDialog",i)},this.redirectHome=function(t,e){this.$node.find('[data-tweet-id="'+e.sourceEventData.id+'"]').is(this.attr.permalinkTweetSelector)&&window.location.replace(this.homePath)},this.addAnotherTweetToSelfThread=function(e,i){this.trigger("uiAddAnotherTweetClicked"),this.trigger("uiOpenTweetstormDialog",{previousStatusIdInThread:t(e.target).attr("data-reply-to")})},this.after("initialize",function(){this.attr.loggedIn&&(this.on("uiReplyToTweet",this.handleReply),this.on(document,"dataDidDeleteTweet",this.redirectHome),this.on("click",{permalinkAddAnotherTweetCTA:this.addAnotherTweetToSelfThread}))})}var n=i("DBjh"),o=Object(n.default)(s);e.a=o}).call(e,i("4kSj"))},ykaF:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({changeLinkSelector:".change-trends",trendsInnerSelector:".trends-inner",trendItemSelector:".js-trend-item",trendLinkItemSelector:".js-trend-item a",itemType:"trend",displaySource:"module"}),this.openChangeTrendsDialog=function(t){this.trigger("uiShowTrendsLocationDialog"),t.preventDefault()},this.updateModuleContent=function(t,e){if(e.module_html){var i=this.$node.hasClass("hidden"),s=e.source;this.select("trendsInnerSelector").html(e.module_html),this.currentWoeid=e.woeid,this.$node.removeClass("hidden");var n=this.getTrendData(this.select("trendItemSelector"));this.trigger("uiTrendsDisplayed",{items:n,initial:i,source:s,scribeData:{woeid:this.currentWoeid}})}},this.trendSelected=function(e,i){var s=t(i.el).closest(this.attr.trendItemSelector),n=this.getTrendData(s)[0],r=s.index(),a={name:n.name,item_type:o.a.trend,item_query:n.name,position:r,token:n.token,id:n.id},c={position:r,query:n.name,url:s.find("a").attr("href"),woeid:this.currentWoeid};n.promotedTrendId&&(a.promoted_id=n.promotedTrendId,c.promoted=!0),c.items=[a],this.trigger("uiTrendSelected",{isPromoted:!!n.promotedTrendId,promotedTrendId:n.promotedTrendId,scribeContext:{element:"trend"},scribeData:c})},this.getTrendData=function(e){return e.map(function(){var e=t(this);return{name:e.attr("data-trend-name"),promotedTrendId:e.data("promoted-trend-id"),trendingEvent:e.hasClass("event-trend"),token:e.attr("data-trend-token"),id:e.attr("data-trends-id")}}).toArray()},this.after("initialize",function(){this.on(document,"dataTrendsRefreshed",this.updateModuleContent),this.on("click",{changeLinkSelector:this.openChangeTrendsDialog,trendLinkItemSelector:this.trendSelected}),this.trigger("uiRefreshTrends")})}var n=i("DBjh"),o=i("rbkv"),r=i("xgWv");e.a=Object(n.default)(s,r.a)}).call(e,i("4kSj"))},zAui:function(t,e,i){"use strict";(function(t){function s(){this.viewportHelpers=a.a,this.defaultAttrs({tweetSelector:".tweet",cursorSelector:".ThreadedConversation-showMoreThreads",itemType:"tweet",checkVisibilityInterval:500}),this.checkTweetVisibility=function(){var e=this,i=this.allVisibleTweets(),s=i.map(function(t){return this.interactionDataWithCard(t)},this),n=this.select("cursorSelector").filter(function(i,s){a.a.isWithinBounds(e.$window,t(s))}).toArray().map(function(e){return{type:t(e).data("cursor-type-name"),cursor:t(e).find("[data-cursor]").data("cursor")}});this.trigger("uiTweetsVisible",{tweetData:s,cursorData:n})},this.allVisibleTweets=function(){var t=this.select("tweetSelector"),e=this.findVisibleTweet(t);if(-1===e)return[];for(var i=[],s=e;t[s]&&a.a.isWithinBounds(this.$window,t.eq(s));)i.push(t[s]),s--;for(i.reverse(),s=e+1;t[s]&&a.a.isWithinBounds(this.$window,t.eq(s));)i.push(t[s]),s++;return i},this.findVisibleTweet=function(t){var e=a.a.getContainerRect(this.$window);return this.findVisibleTweetRecursive(t.length,0,t,0,e)},this.findVisibleTweetRecursive=function(t,e,i,s,n){var o=Math.floor((t-e)/2+e);return o===e||s>100?-1:a.a.isAboveViewport(this.$window,i.eq(o),0,n)?this.findVisibleTweetRecursive(t,o,i,s+1,n):a.a.isBelowViewport(this.$window,i.eq(o),0,n)?this.findVisibleTweetRecursive(o,e,i,s+1,n):o},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.$window=t(window),this.pollingInterval=r.default.setIntervalEvent("uiCheckTweetVisibility",this.attr.checkVisibilityInterval),this.on(document,"uiCheckTweetVisibility",this.checkTweetVisibility)})}var n=i("DBjh"),o=i("alSu"),r=i("r8Bt"),a=i("/LRg");e.a=Object(n.default)(s,o.a)}).call(e,i("4kSj"))}});
//# sourceMappingURL=5.pages_permalink.en.d01701ba3cce1f0d3917.js.map