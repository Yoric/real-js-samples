!function(e){function o(o){for(var n,i,s=o[0],c=o[1],u=o[2],g=0,l=[];g<s.length;g++)i=s[g],r[i]&&l.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(p&&p(o);l.length;)l.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,o=0;o<a.length;o++){for(var t=a[o],n=!0,s=1;s<t.length;s++){var c=t[s];0!==r[c]&&(n=!1)}n&&(a.splice(o--,1),e=i(i.s=t[0]))}return e}var n={},r={"web/groups":0},a=[];function i(o){if(n[o])return n[o].exports;var t=n[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=n,i.d=function(e,o,t){i.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,o){if(1&o&&(e=i(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)i.d(t,n,function(o){return e[o]}.bind(null,n));return t},i.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(o,"a",o),o},i.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=o,s=s.slice();for(var u=0;u<s.length;u++)o(s[u]);var p=c;a.push([90,"common"]),t()}({90:function(e,o,t){e.exports=t("wJJB")},CQka:function(e,o,t){"use strict";t.d(o,"a",function(){return a});var n=t("Egk5"),r=t("zxIV");function a(){setTimeout(function(){var e=Object(r.B)("a[data-group-track-type='link']",ge("page_body"));Object.keys(e).forEach(function(o){var t=e[o];Object(n.b)(t,"click",i),cur.destroy.push(n.h.pbind(t,"click"))})},3e3)}function i(e){var o=e.target;if(!o)return!0;if(linkLocked(o))return!0;var t=Object(r.s)(o,"group-track-code"),n=Object(r.s)(o,"group-track-type");if(!t||!n)return!0;var a={act:"track",group_id:-cur.oid,track_code:t,type:n};return ajax.post("al_groups.php",a,{onDone:function(){unlockLink(o)}}),!0}},wJJB:function(e,o,t){"use strict";t.r(o);var n=t("zxIV"),r=t("v+DW"),a=(t("Egk5"),t("CQka")),i={init:function(e){extend(cur,{module:"groups",hideOther:i.hideOther,otherActs:i.otherActs,options:e,oid:-e.group_id,postTo:-e.group_id,_back:{loc:e.loc,show:[],hide:[],text:e.back}}),ge("group_wall")&&wall.init(extend(e,{automore:1})),cur.nav.push(function(e){e[0]&&clearTimeout(i.keyTO)}),e.cntKey&&i.subscribe(e.cntKey),e.age_disclaimer&&i.showDisclaimer(e,"group"),e.enableLinkTracking&&Object(a.a)()},inviteToChat:function(e,o){stManager.add([jsc("web/group_invite_chat.js"),"group_invite_chat.css","indexer.js"],function(){window.showGroupChatInviteBox(e)}),o.preventDefault()},inviteToChatPreload:function(){stManager.add([jsc("web/group_invite_chat.js"),"group_invite_chat.css","indexer.js"],function(){})},showDisclaimer:function(e,o){var t=!1,n=showFastBox({title:getLang("groups_age_warning"),width:470,hideOnBGClick:!1,onHide:function(){t||(e.age_disclaimer_back?history.back():location.href="/")},forceNoBtn:1},'<div class="group_age_disclaimer">'+getLang("groups_age_disclaimer")+'<br><div class="checkbox group_age_checkbox" onclick="checkbox(this); disableButton(curBox().proceedButton, !isChecked(this))"><div></div>'+getLang("groups_age_accepted")+"</div></div>");n.removeButtons();var r=n.addButton(getLang("global_cancel"),n.hide,"no",!0);addClass(r,"group_age_disclaimer_close"),n.proceedButton=n.addButton(getLang("groups_age_approve"),function(){t=!0,removeClass(ge(o),"hidden"),n.hide(),e.age_disclaimer_hash?ajax.post("al_groups.php",{act:"a_set_user_age",hash:e.age_disclaimer_hash}):setCookie("remixage18",1),cur.zNavInfo&&zNav(cur.zNavInfo.info,cur.zNavInfo.opts)},"yes",!0);var a=geByClass1("box_controls",domPN(n.bodyNode));addClass(a,"group_age_disclaimer_box"),replaceClass(domFC(a),"fl_r","fl_l"),disableButton(n.proceedButton,1)},switchTab:function(e,o,t){return!!checkEvent(t)||("wiki"==o&&hasClass(e,"ui_tab_sel")?nav.go(e,t):(ge("page_info_wrap").className="page_info_wrap "+o,uiTabs.switchTab(e)))},toggleFave:function(e,o,t,n){void 0!=cur.toggleFaveAct&&(t=cur.toggleFaveAct),ajax.post("fave.php",{act:t?"a_add_group":"a_delete_group",gid:-cur.oid,hash:o},{onDone:function(o){val(e,o),cur.toggleFaveAct=!t,toggleClass(e,"on")},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)}),cancelEvent(n)},hideHelpStep:function(e,o,t,n){var r=domClosest("page_block",e);return e&&e.tt&&e.tt.hide&&e.tt.hide({fasthide:!0}),r&&slideUp(r,200,re.pbind(r)),ajax.post("/al_public.php",{act:"a_hide_help_step",pid:o,step:"help_step_advice",hash:t}),n.cancelBubble=!0,cancelEvent(n)},showInviteBox:function(e,o){return!showBox("al_page.php",{act:"a_invite_box",gid:o},{params:{bodyStyle:"padding: 0px;",width:560}},e)},subscribe:function(e){window.Notifier&&Notifier.addKey(e,i.updates),i.keyTO=setTimeout(i.subscribe,3e4)},toggleFeedIgnored:function(e,o,t){ajax.post("al_feed.php",{act:cur.options.ignored_news?"a_unignore_owner":"a_ignore_owner",owner_id:cur.oid,hash:o,from:"group"},{onDone:function(o){val(e,o),cur.options.ignored_news=!cur.options.ignored_news},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)}),cancelEvent(t)},showLinks:function(){showBox("al_groups.php",{act:"show_links",oid:cur.oid}).setOptions({onHideAttempt:function(){return cur.reloadAfterClose&&(nav.reload({noscroll:!0}),cur.reloadAfterClose=!1),!0}})},createEvent:function(e,o){stManager.add([jsc("web/groups_create.js"),"groups_create.css"],function(){GroupsCreate.showInfoBox("event",{parentId:e,parentHash:o,onSave:function(){cur.reloadAfterClose=!1,curBox()&&curBox().hide(),cur.reloadAfterClose=!0,i.showEvents()}})})},deleteEvent:function(e,o,t){cur.reloadAfterClose=!0,ajax.post("al_public.php",{act:"a_delete_event",pid:e,eid:o,hash:t},{onDone:function(o){window.tooltips&&tooltips.destroyAll(ge("public_event_cell"+e)),curBox().content(o)}})},showEvents:function(){showBox("al_public.php",{act:"a_get_events",pid:cur.options.public_id||-cur.oid}).setOptions({onHideAttempt:function(){return cur.reloadAfterClose&&(nav.reload({noscroll:!0}),cur.reloadAfterClose=!1),!0}})},updateCnt:function(e){e=parseInt(e);var o=ge("page_menu_group_gim");if(o){var t=geByClass1("ui_rmenu_count",o);t&&(t.textContent=e,toggleClass(t,"unshown",0===e))}},updates:function(e,o){each(o.events,function(e,o){var t=o.split("<!>");switch(t[1]){case"update_cnt":i.updateCnt(t[4])}})},updateActions:function(e,o,t){val("page_actions",e);var n=geByClass1("_page_actions_container");n&&o&&domPN(n).replaceChild(se(o),n),void 0!==t&&val("group_moder_info",t)},enter:function(e,o,t,n,r){var a,s;if(e=ge(e),hasClass(e,"flat_button"))a=lockButton.pbind(e),s=unlockButton.pbind(e);else{if(e.firstChild&&"progress"==e.firstChild.className)return;a=function(){e.oldhtml=e.innerHTML,e.innerHTML='<span class="progress" style="display: block"></span>'},s=function(){e.innerHTML=e.oldhtml}}window.Page&&hasClass(e,"page_actions_btn")&&Page.actionsDropdownHide(domPS(e),1),ajax.post("al_groups.php",{act:"enter",gid:o,hash:t,context:n},{onDone:function(e,o){if(r)return r();i.updateActions(e,o),toggle("page_actions",e);var t=geByClass1("_groups_invite_block");t&&slideUp(t,200),nav.reload({noframe:!0,noscroll:!0})},onFail:function(e){if(e)return setTimeout(showFastBox({title:getLang("global_error"),bodyStyle:"padding: 20px; line-height: 160%;"},e).hide,3e3),!0},showProgress:a,hideProgress:s})},confirm:function(e,o,t,n,r){var a=showFastBox({title:getLang("global_warning"),bodyStyle:"padding: 20px; line-height: 160%;"},getLang(e),getLang("group_leave_group"),function(){a.hide(),i.leave(o,t,n,r)},getLang("global_cancel"))},leave:function(e,o,t,n,r){var a,s;if(e=ge(e),hasClass(e,"flat_button"))a=lockButton.pbind(e),s=unlockButton.pbind(e);else{if(e.firstChild&&"progress"==e.firstChild.className)return;a=function(){e.oldhtml=e.innerHTML,e.innerHTML='<span class="progress" style="display: block"></span>'},s=function(){e.innerHTML=e.oldhtml}}window.Page&&hasClass(e,"page_actions_btn")&&Page.actionsDropdownHide(domPS(e),1),ajax.post("al_groups.php",{act:"leave",gid:o,hash:t,context:n},{onDone:function(e,o){if(r)return r();i.updateActions(e,o),toggle("page_actions",e);var t=geByClass1("_groups_invite_block");t&&slideUp(t,200),nav.reload({noframe:!0})},showProgress:a,hideProgress:s})},otherActs:function(e){if(clearTimeout(cur.hideOtherTimer),!e)return!1;e.blur();var o=ge("page_other_acts");return!isVisible(o)&&(o.style.marginLeft="-1px",o.style.marginTop="-21px",show(o),!1)},hideOther:function(e){if(e>0)cur.hideOtherTimer=setTimeout(cur.hideOther,e);else{var o=ge("page_other_acts");-1==e?hide(o):fadeOut(o,200)}},toggleTop:function(e,o,t,n,r){ajax.post("al_groups.php",{act:"a_toggle_top",gid:o,hash:t,nocis:r},{onDone:function(o){e.innerHTML=o},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)})},toggleStickers:function(e,o,t,n){ajax.post("al_groups.php",{act:"a_toggle_stickers",gid:o,hash:t},{onDone:function(o){e.innerHTML=o},showProgress:window.Page&&Page.actionsDropdownLock.pbind(e),hideProgress:window.Page&&Page.actionsDropdownUnlock.pbind(e)})},toggleFastAccess:function(e,o,t){function n(t){var n=t?getLang("groups_fast_menu_access_invert"):getLang("groups_fast_menu_access");val(e,n),e.setAttribute("data-value",t),"groups_list"==cur.module&&window.GroupsList&&GroupsList.updateGroupField(o,11,t)}var r=1^intval(e.getAttribute("data-value")),a=hasClass(e,"page_actions_item")||hasClass(e,"ui_actions_menu_item"),i=window.GroupsAdminTips&&window.GroupsAdminTips.isShownSection()&&window.GroupsAdminTips.isShownItem(window.GroupsAdminTips.ITEM_LEFT_LINK)?1:0;return ajax.post("al_settings.php",{act:"a_toggle_admin_fast",gid:o,hash:t,update_menu:1,update_admin_tips:i},{onDone:function(e,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a&&n(e),geByTag1("ol",ge("side_bar")).innerHTML=o,window.Notifier&&Notifier.resetCommConnection(),i&&window.GroupsAdminTips&&null!==t&&window.GroupsAdminTips.refreshSection(t)},onFail:function(e){return a||n(0),"too_much_groups"===e&&(showFastBox(getLang("global_error"),getLang("groups_left_menu_full",5)),!0)}.bind(),showProgress:a&&function(){hasClass(e,"page_actions_item")?window.Page&&Page.actionsDropdownLock(e):lockActionsMenuItem(e)},hideProgress:a&&function(){hasClass(e,"page_actions_item")?window.Page&&Page.actionsDropdownUnlock(e):unlockActionsMenuItem(e)}}),a||n(r),!1},showMapBox:function(e,o,t){window.showZeroZoneBox&&showZeroZoneBox("places",function(){events.showMapBox(e,o,t)})||showTabbedBox("/al_places.php",{act:"show_photo_place",place_id:e},{stat:["places.css","map.css","maps.js","ui_controls.css","ui_controls.js"]})},uploadPhotos:function(e,o){if(!((window.XMLHttpRequest||window.XDomainRequest)&&(window.FormData||window.FileReader&&(window.XMLHttpRequest&&XMLHttpRequest.sendAsBinary||window.ArrayBuffer&&window.Uint8Array&&(window.MozBlobBuilder||window.WebKitBlobBuilder||window.BlobBuilder))))||!o)return nav.go(e,o);if(checkEvent(o))return!0;cur.onPhotoInputChange=function(t){return window.filesToUpload=t,nav.go(e,o)};var t=ge("page_upload_photos_input");return t||(t=se('<input id="page_upload_photos_input" class="file page_upload_photos_input" type="file" onchange="cur.onPhotoInputChange(this.files);" multiple="true" accept="image/jpeg,image/png,image/gif" name="photo" />')),t.click(o),!1},getFlattenedCategories:function(e,o){var t=o[0][e],n=o[1];if(void 0===n)return t;for(var r=[],a=0;a<t.length;a++){var i=t[a];i[3]="section",r=r.concat([i]),n[i[0]]&&(i[5]="1",r=r.concat(n[i[0]]))}for(a=0;a<r.length;a++)r[a][3]=r[a][3]?r[a][3]+" sectioned":"sectioned";return r},initCategories:function(e){e.prefix=e.prefix||"group_category_",e.groupClass=e.groupClass||0,cur.groupCategoriesDD=cur.groupCategoriesDD||{},cur.groupCategoriesDD[e.prefix]=cur.groupCategoriesDD[e.prefix]||{};for(var o=e.categories[e.groupClass],t=0;t<2;++t){var n=[],r=cur.groupCategoriesDD[e.prefix],a=r[t];if(0==t)n=o[t][0];else if(t>0){var s=r[t-1].val();""!=s&&o[t]&&(n=this.getFlattenedCategories(s,o.slice(1))||[])}a&&a.container&&a.container.compareDocumentPosition&&a.container.compareDocumentPosition(bodyNode)&Node.DOCUMENT_POSITION_DISCONNECTED&&(a.destroy(),a=null),a?(a.setData(n),a.currenDataItems=n,a.setOptions({defaultItems:n}),a.clear()):a=new Dropdown(ge(e.prefix+t),n,{width:300,dark:!0,multiselect:!1,autocomplete:!0,introText:getLang("groups_start_typing_subject"),zeroPlaceholder:!0,indexkeys:[1,4],includeSectionsOnMatch:!0,preventDuplicates:!0,noResult:"",placeholder:getLang("groups_choose_subject"),onChange:function(t,n){if(0==t&&n){var a=i.getFlattenedCategories(n,o.slice(1))||[];r[t+1].setData(a),r[t+1].currenDataItems=a,r[t+1].setOptions({defaultItems:a});for(var s=t+1;s<2;++s)r[s].clear(),r[s].disable(s>t+1||!a.length),toggle(ge(e.prefix+"wrap_"+s),!(s>t+1||!a.length))}}.pbind(t)}),e.selected[t]&&-1!=e.selected[t]?1==t&&e.selected[2]?a.val(e.selected[2]):a.val(e.selected[t]):t>0&&(-1==e.selected[t-1]||!n.length)&&(a.disable(!0),hide(ge(e.prefix+"wrap_"+t))),cur.groupCategoriesDD[e.prefix][t]=a}},categoriesGetDropdown:function(e,o){return o=o||"group_category_",cur.groupCategoriesDD&&cur.groupCategoriesDD[o]&&cur.groupCategoriesDD[o][e]},getDetailedCategories:function(e,o){for(var t=-1,n=0;n<e.length;n++)if(e[n][0]==o){t=n;break}var r=-1;for(n=t;n>=0;n--)if(Number(e[n][0])<3e3){r=n;break}return-1==t||-1==r?[0,0]:r==t?[e[t][0],0]:[e[r][0],e[t][0]]},categoriesValue:function(e){for(var o=[],t=0;t<2;++t){var n=this.categoriesGetDropdown(t,e);if(0==t)o.push(n?intval(n.val()):0);else{var r=n?intval(n.val()):0;o=o.concat(this.getDetailedCategories(n.dataItems,r))}}return o},deinitCategories:function(e){for(var o=0;o<3;++o){var t=this.categoriesGetDropdown(o,e);t&&t.destroy()}cur.groupCategoriesDD&&delete cur.groupCategoriesDD[e]},saveNewCategories:function(e,o){var t={act:"set_new_categories",gid:e,hash:o};if(i.categoriesGetDropdown(0)){var n=i.categoriesValue();extend(t,{category_0:n[0],category_1:n[1],category_2:n[2]})}var r=ge("group_set_categories_submit");hide("group_set_categories_error_wrap"),hide("group_set_categories_success_wrap"),ajax.post("al_groups.php",t,{onDone:function(e){val("group_set_categories_success",e),show("group_set_categories_success_wrap")},onFail:function(e){return val("group_set_categories_error",e),show("group_set_categories_error_wrap"),!0},showProgress:lockButton.pbind(r),hideProgress:unlockButton.pbind(r)})},hideTopNotice:function(e,o,t){var n="gtop_"+e,r={act:"hide_top_notice",notice:e,group_id:o,hash:t};return ajax.post("al_groups.php",r),slideUp(ge(n),150,re.pbind(n)),!1},goToTopNoticeMoreLink:function(e,o,t,n){return statlogsValueEvent("groups_top_notice",1,o,"accept"),!(!checkEvent(e)&&!n)||nav.go(t)},processActionButton:function(e,o,t,n,r,a){return!!isButtonLocked(e)||(ajax.post("al_groups.php",{act:"proxy_cta_button",action:o,resource:t,group_id:n,hash:r},{onDone:function(){unlockButton(e)}}),!a||a(e))},setMainAddressId:function(e){Object(n.G)("address_its_main").forEach(function(o){Object(r.c)(o,o===e)})}};window.Groups=i;try{stManager.done(jsc("web/groups.js"))}catch(e){}}});