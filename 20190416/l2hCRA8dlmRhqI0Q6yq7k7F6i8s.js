var BEMHTML;!function(t){function e(t){var e={},n=new(function(t,e){var n;n="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var i={},s=/[&<>]/;i.xmlEscape=function(t){var e,n=""+t,i=s.exec(n);if(!i)return n;var o="",r=0,a=0;for(r=i.index;r<n.length;r++){switch(n.charCodeAt(r)){case 38:e="&amp;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}a!==r&&(o+=n.substring(a,r)),a=r+1,o+=e}return a!==r?o+n.substring(a,r):o};var o=/["&]/;i.attrEscape=function(t){var e,n=""+t,i=o.exec(n);if(!i)return n;var s="",r=0,a=0;for(r=i.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;default:continue}a!==r&&(s+=n.substring(a,r)),a=r+1,s+=e}return a!==r?s+n.substring(a,r):s};var r=/['&]/;i.jsAttrEscape=function(t){var e,n=""+t,i=r.exec(n);if(!i)return n;var s="",o=0,a=0;for(o=i.index;o<n.length;o++){switch(n.charCodeAt(o)){case 38:e="&amp;";break;case 39:e="&#39;";break;default:continue}a!==o&&(s+=n.substring(a,o)),a=o+1,s+=e}return a!==o?s+n.substring(a,o):s},i.extend=function(t,e){if(!t||!e)return t||e;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i};var a={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};i.isShortTag=function(t){return a.hasOwnProperty(t)},i.isSimple=function t(e){return!e||!0===e||(!(e.block||e.elem||e.tag||e.cls||e.attrs||!e.hasOwnProperty("html")||!t(e.html))||("string"==typeof e||"number"==typeof e))};var c=0,u=+new Date,h="__"+u,l="uniq"+u;function d(){return l+ ++c}i.getUniq=d,i.identify=function(t,e){if(!t)return d();if(e||t[h])return t[h];var n=d();return t[h]=n,n};var p=/^[:\w.-]+$/;function f(t){this.modDelim=t.mod||"_",this.elemDelim=t.elem||"__"}function m(t){this._bemxjst=t,this.ctx=null,this.block="",this._currBlock="",this.elem=null,this.mods={},this.elemMods={},this.position=0,this._listLength=0,this._notNewList=!1,this.escapeContent=!0===t.options.escapeContent}function _(t,e){this.template=t,this.keys=e.key,this.value=e.value}function g(t,e){this.template=t,this.body=e.body}function v(t){this.template=t,this.wrap=null}function b(t){this.template=t,this.wrap=null}function y(t,e){this.template=t,this.key=e.key,this.value=e.value}function x(t,e){this.predicates=t,this.body=e}function k(){}function M(t,e){this.conditions=[],this.children=[];for(var n=e.length-1;n>=0;n--){var i=e[n];i instanceof k?this.conditions.push(i):i===t.boundBody?this.children[n]=t.queue.pop():this.children[n]=i}}function E(t){k.call(this),this.refs=t}function w(t){k.call(this),this.refs=t}function B(t){k.call(this),this.refs=t}function T(t,e){k.call(this),this.mode=t,this.refs=e}function C(t){k.call(this),this.options=t}function I(t,e){k.call(this),this.key=t,this.value=e}function S(t){k.call(this),this.body=t}function D(t,e){this.entity=t,this.modeName=e,this.bemxjst=this.entity.bemxjst,this.templates=[],this.mask=[0],this.maskSize=0,this.maskOffset=0,this.count=0,this.depth=-1,this.thrownError=null}function P(t){this.options=t,this.refs=this.options.refs,this.boundBody=this.body.bind(this);for(var e=this.methods("body"),n=0;n<e.length;n++){var i=e[n];this.boundBody[P.methods[n]]=i}this.queue=[],this.templates=[],this.initializers=[]}function O(t,e,n){var i=t[n],s=t.boundBody;return"body"!==e?"replace"===n||"extend"===n||"wrap"===n?function(){return i.apply(t,arguments)}:function(){return i.apply(t,arguments),s}:function(){var e=i.apply(t,arguments),o=t.queue.pop(),r=t.queue[t.queue.length-1];return r.conditions=r.conditions.concat(o.conditions),r.children=r.children.concat(o.children),"replace"===n||"extend"===n||"wrap"===n?e:s}}function A(t,e,n,i){this.bemxjst=t,this.block=null,this.elem=null,this.options={},this.canFlush=!0,this.def=new D(this),this.content=new D(this,"content"),this.rest={},this.init(e,n),this.initModes(i)}function j(){return this.ctx.content}function N(t,e){this.name="BEMXJSTError",this.message=t,Error.captureStackTrace?Error.captureStackTrace(this,e||this.constructor):this.stack=(new Error).stack}function R(t){this.options=t||{},this.entities=null,this.defaultEnt=null,this.tree=null,this.match=null,this.contextConstructor=function(t){m.call(this,t)},n(this.contextConstructor,m),this.context=null,this.classBuilder=new f(this.options.naming||{}),this.depth=0,this.canFlush=!1,this.oninit=null,this.defaultEnt=new this.Entity(this,"","",[]),this.defaultElemEnt=new this.Entity(this,"","",[])}function z(t){this.bemxjst=t,this.jsClass=null,this.tag=new D(this,"tag"),this.attrs=new D(this,"attrs"),A.apply(this,arguments)}function F(t){R.apply(this,arguments),this._shortTagCloser=void 0!==t.xhtml&&t.xhtml?"/>":">",this._elemJsInstances=t.elemJsInstances,this._omitOptionalEndTags=t.omitOptionalEndTags,this._unquotedAttrs=void 0!==t.unquotedAttrs&&t.unquotedAttrs}i.isUnquotedAttr=function(t){return t&&p.exec(t)},f.prototype.build=function(t,e){return e?t+this.elemDelim+e:t},f.prototype.buildModPostfix=function(t,e){var n=this.modDelim+t;return!0!==e&&(n+=this.modDelim+e),n},f.prototype.buildBlockClass=function(t,e,n){var i=t;return n&&(i+=this.buildModPostfix(e,n)),i},f.prototype.buildElemClass=function(t,e,n,i){return this.buildBlockClass(t)+this.elemDelim+e+this.buildModPostfix(n,i)},f.prototype.split=function(t){return t.split(this.elemDelim,2)},m.prototype._flush=null,m.prototype.isSimple=i.isSimple,m.prototype.isShortTag=i.isShortTag,m.prototype.extend=i.extend,m.prototype.identify=i.identify,m.prototype.xmlEscape=i.xmlEscape,m.prototype.attrEscape=i.attrEscape,m.prototype.jsAttrEscape=i.jsAttrEscape,m.prototype.isFirst=function(){return 1===this.position},m.prototype.isLast=function(){return this.position===this._listLength},m.prototype.generateId=function(){return i.identify(this.ctx)},m.prototype.reapply=function(t){return this._bemxjst.run(t)},_.prototype.exec=function(t){for(var e=t,n=0;n<this.keys.length-1;n++)if(!(e=e[this.keys[n]]))return!1;return e=e[this.keys[n]],!0===this.value?void 0!==e&&""!==e&&!1!==e&&null!==e:String(e)===this.value},g.prototype.exec=function(t){return this.body.call(t,t,t.ctx)},v.prototype.exec=function(t){var e=this.wrap!==t.ctx;return this.wrap=t.ctx,e},b.prototype.exec=function(t){var e=this.ext!==t.ctx;return this.ext=t.ctx,e},y.prototype.exec=function(t){return t[this.key]===this.value},x.prototype.wrap=function(){for(var t=this.body,e=0;e<this.predicates.length;e++){t=this.predicates[e].wrapBody(t)}this.body=t},x.prototype.clone=function(){return new x(this.predicates.slice(),this.body)},k.prototype.wrapBody=function(t){return t},n(E,k),E.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},n(w,k),w.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},n(B,k),B.prototype.wrapBody=function(t){var e=this.refs.applyCtx,n=this.refs.local;return"function"!=typeof t?function(){for(var i={},s=Object.keys(t),o=0;o<s.length;o++)i[s[o]]=t[s[o]];return n(i)(function(){return e(this.ctx)})}:function(){for(var i={},s=t.call(this,this,this.ctx),o=Object.keys(s),r=0;r<o.length;r++)i[o[r]]=s[o[r]];return n(i)(function(){return e(this.ctx)})}},n(T,k),T.prototype.wrapBody=function(t){return this[this.mode+"WrapBody"](t)},T.prototype.appendContentWrapBody=function(t){var e=this.refs,n=e.applyCtx,i=e.apply;return"function"!=typeof t?function(){return[i("content"),t]}:function(){return[i("content"),n(t.call(this,this,this.ctx))]}},T.prototype.prependContentWrapBody=function(t){var e=this.refs,n=e.applyCtx,i=e.apply;return"function"!=typeof t?function(){return[t,i("content")]}:function(){return[n(t.call(this,this,this.ctx)),i("content")]}},n(C,k),n(I,k),n(S,k),D.prototype.prepend=function(t){for(this.templates=t.templates.concat(this.templates),this.count+=t.count;Math.ceil(this.count/31)>this.mask.length;)this.mask.push(0);this.maskSize=this.mask.length},D.prototype.push=function(t){this.templates.push(new function(t,e){this.mode=t,this.predicates=new Array(e.predicates.length),this.body=e.body;for(var n=[],i=0,s=0;i<this.predicates.length;i++,s++){var o=e.predicates[i];o instanceof I?this.predicates[s]=new _(this,o):o instanceof B?(s--,n.push(new b(this))):o instanceof T?this.predicates[i]=new y(this,o):o instanceof S?this.predicates[s]=new g(this,o):o instanceof E?(s--,n.push(new v(this))):s--}for(i=0;i<n.length;i++,s++)this.predicates[s]=n[i];this.predicates.length!==s&&(this.predicates.length=s)}(this,t)),this.count++,Math.ceil(this.count/31)>this.mask.length&&this.mask.push(0),this.maskSize=this.mask.length},D.prototype.tryCatch=function(t,e){try{return t.call(e,e,e.ctx)}catch(t){this.thrownError=t}},D.prototype.exec=function(t){for(var e,n=this.checkDepth(),i=this.maskOffset,s=this.mask[i],o=1,r=0;r<this.count;r++){if(0==(s&o)){e=this.templates[r];for(var a=0;a<e.predicates.length;a++){if(!e.predicates[a].exec(t))break}if(a===e.predicates.length)break}1073741824===o?(i++,s=this.mask[i],o=1):o<<=1}if(r===this.count)return this.restoreDepth(n),t.ctx[this.modeName];var c=s,u=this.bemxjst.match;this.mask[i]|=o,this.bemxjst.match=this,this.thrownError=null;var h="function"==typeof e.body?this.tryCatch(e.body,t):e.body;this.mask[i]=c,this.bemxjst.match=u,this.restoreDepth(n);var l=this.thrownError;if(null!==l)throw this.thrownError=null,l;return h},D.prototype.checkDepth=function(){if(-1===this.depth)return this.depth=this.bemxjst.depth,-1;if(this.bemxjst.depth===this.depth)return this.depth;var t=this.depth;for(this.depth=this.bemxjst.depth,this.maskOffset+=this.maskSize;this.mask.length<this.maskOffset+this.maskSize;)this.mask.push(0);return t},D.prototype.restoreDepth=function(t){-1!==t&&t!==this.depth&&(this.maskOffset-=this.maskSize),this.depth=t},P.methods=["match","wrap","block","elem","mode","mod","elemMod","def","tag","attrs","cls","js","bem","mix","content","replace","extend","oninit","xjstOptions","appendContent","prependContent"],P.prototype.build=function(t,e){var n=this.methods("global").concat(e);return n[0]=this.match.bind(this),t.apply({},n),{templates:this.templates.slice().reverse(),oninit:this.initializers}},P.prototype.methods=function(t){for(var e=new Array(P.methods.length),n=0;n<e.length;n++){var i=P.methods[n];e[n]=O(this,t,i)}return e},P.prototype.flush=function(t,e){for(var n=e.conditions?t.concat(e.conditions):e.conditions,i=0;i<e.children.length;i++){var s=e.children[i];if(s instanceof M)this.flush(n,e.children[i]);else{var o=new x(t,s);o.wrap(),this.templates.push(o)}}},P.prototype.body=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new M(this,t);return this.queue[this.queue.length-1].children.push(n),1===this.queue.length&&this.flush([],this.queue.shift()),this.boundBody},P.prototype.match=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++){var n=arguments[e];if("function"==typeof n&&(n=new S(n)),!(n instanceof k))throw new Error("Wrong .match() argument");t[e]=n}return this.queue.push(new M(this,t)),this.boundBody},P.prototype.applyMode=function(t,e){if(t.length)throw new Error("Predicate should not have arguments but "+JSON.stringify(t)+" passed");return this.mode(e)},P.prototype.xjstOptions=function(t){return this.queue.push(new M(this,[new C(t)])),this.boundBody},P.prototype.block=function(t){return this.match(new I("block",t))},P.prototype.elem=function(t){return this.match(new I("elem",t))},P.prototype.mode=function(t){return this.match(new I("_mode",t))},P.prototype.mod=function(t,e){return this.match(new I(["mods",t],void 0===e||String(e)))},P.prototype.elemMod=function(t,e){return this.match(new I(["elemMods",t],void 0===e||String(e)))},P.prototype.def=function(){return this.applyMode(arguments,"default")},["tag","attrs","cls","js","bem","mix","content"].forEach(function(t){P.prototype[t]=function(){return this.applyMode(arguments,t)}}),["appendContent","prependContent"].forEach(function(t){P.prototype[t]=function(){return this.content.apply(this,arguments).match(new T(t,this.refs))}}),P.prototype.wrap=function(){return this.def.apply(this,arguments).match(new E(this.refs))},P.prototype.replace=function(){return this.def.apply(this,arguments).match(new w(this.refs))},P.prototype.extend=function(){return this.def.apply(this,arguments).match(new B(this.refs))},P.prototype.oninit=function(t){this.initializers.push(t)},A.prototype.init=function(t,e){this.block=t,this.elem=e},A.prototype.initModes=function(t){for(var e=0;e<t.length;e++){for(var n=t[e],s=n.predicates.length-1;s>=0;s--){if((o=n.predicates[s])instanceof I&&"_mode"===o.key){n.predicates.splice(s,1),this._initRest(o.value),this.rest[o.value].push(n);break}}-1===s&&this.def.push(n);for(s=n.predicates.length-1;s>=0;s--){var o;(o=n.predicates[s])instanceof C&&(this.options=i.extend(this.options,o.options))}}},A.prototype.prepend=function(t){for(var e=Object.keys(this.rest),n=0;n<e.length;n++){var i=e[n];t.rest[i]&&this.rest[i].prepend(t.rest[i])}e=Object.keys(t.rest);for(n=0;n<e.length;n++){i=e[n];this.rest[i]||(this._initRest(i),this.rest[i].prepend(t.rest[i]))}},A.prototype.run=function(t){return 0!==this.def.count?this.def.exec(t):this.defaultBody(t)},A.prototype.setDefaults=function(){if(0!==this.content.count&&this.content.push(new x([],j)),0!==this.def.count){this.canFlush=this.options.flush||!1;var t=this;this.def.push(new x([],function(){return t.defaultBody(this)}))}},N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,R.prototype.locals=P.methods.concat("local","applyCtx","applyNext","apply"),R.prototype.compile=function(t){var e=this;function n(){return e._run(e.context.ctx)}function i(t,i){return i?e.local(i,function(){return e.local({ctx:t},n)}):e.local({ctx:t},n)}function s(t,n){return e.applyMode(t,n)}function o(t){return function(n){return e.local(t,n)}}var r=new P({refs:{applyCtx:i,local:o,apply:s}}),a=this.recompileInput(t),c=r.build(a,[o,i,function t(n){return n?e.local(n,t):e.applyNext()},s]);this.tree&&(c={templates:c.templates.concat(this.tree.templates),oninit:this.tree.oninit.concat(c.oninit)}),this.tree=c;var u=this.groupEntities(c.templates);u=this.transformEntities(u),this.entities=u,this.oninit=c.oninit},R.prototype.recompileInput=function(t){var e=R.prototype.locals;if("function"==typeof t&&t.length===e.length)return t;var n=t.toString();return n=n.replace(/^function[^{]+{|}$/g,""),n=new Function(e.join(", "),n)},R.prototype.groupEntities=function(t){for(var e={},n=0;n<t.length;n++){var i,s=t[n].clone(),o=null;i=void 0;for(var r=0;r<s.predicates.length;r++){if((c=s.predicates[r])instanceof I||c instanceof T){if("block"===c.key)o=c.value;else{if("elem"!==c.key)continue;i=c.value}s.predicates.splice(r,1),r--}}if(null===o){var a="block(…) subpredicate is not found.\n    See template with subpredicates:\n     * ";for(r=0;r<s.predicates.length;r++){var c=s.predicates[r];0!==r&&(a+="\n     * "),"_mode"===c.key?a+=c.value+"()":Array.isArray(c.key)?a+=c.key[0].replace("mods","mod").replace("elemMods","elemMod")+"('"+c.key[1]+"', '"+c.value+"')":c.value&&c.key?a+=c.key+"('"+c.value+"')":a+="match(…)"}throw new N(a+="\n    And template body: \n    ("+("function"==typeof s.body?s.body:JSON.stringify(s.body))+")")}var u=this.classBuilder.build(o,i);e[u]||(e[u]=[]),e[u].push(s)}return e},R.prototype.transformEntities=function(t){for(var e=[],n=Object.keys(t),i=0;i<n.length;i++){var s=n[i],o=this.classBuilder.split(s),r=o[0],a=o[1];"*"===a&&e.push(r),t[s]=new this.Entity(this,r,a,t[s])}if(t.hasOwnProperty("*")){var c=t["*"];for(i=0;i<n.length;i++){"*"!==(s=n[i])&&t[s].prepend(c)}this.defaultEnt.prepend(c),this.defaultElemEnt.prepend(c)}for(i=0;i<e.length;i++){r=e[i];var u=this.classBuilder.build(r,"*");for(c=t[u],i=0;i<n.length;i++){if((s=n[i])!==u){var h=t[s];h.block===r&&void 0!==h.elem&&t[s].prepend(c)}}this.defaultElemEnt.prepend(c)}for(i=0;i<n.length;i++){t[s=n[i]].setDefaults(),this.defaultEnt.setDefaults(),this.defaultElemEnt.setDefaults()}return t},R.prototype._run=function(t){return void 0===t||""===t||null===t?this.runEmpty():Array.isArray(t)?this.runMany(t):"string"!=typeof t.html||t.tag||void 0!==t.block||void 0!==t.elem||void 0!==t.cls||void 0!==t.attrs?i.isSimple(t)?this.runSimple(t):this.runOne(t):this.runUnescaped(t)},R.prototype.run=function(t){var e=this.match,n=this.context;this.match=null,this.context=new this.contextConstructor(this),this.canFlush=null!==this.context._flush,this.depth=0;var i=this._run(t);return this.canFlush&&(i=this.context._flush(i)),this.match=e,this.context=n,i},R.prototype.runEmpty=function(){return this.context._listLength--,""},R.prototype.runUnescaped=function(t){return this.context._listLength--,""+t.html},R.prototype.runSimple=function(t){return this.context._listLength--,!t&&0!==t||!0===t?"":"string"==typeof t&&this.context.escapeContent?i.xmlEscape(t):t},R.prototype.runOne=function(t){var e=this.context,n=e.ctx,i=e.block,s=e._currBlock,o=e.elem,r=e.mods,a=e.elemMods;t.block||t.elem?e._currBlock="":e._currBlock=e.block,e.ctx=t,t.block?(e.block=t.block,t.mods?e.mods=t.mods:t.block===i&&t.elem||(e.mods={})):t.elem?s&&(e.block=s):e.block="",e.elem=t.elem,t.elemMods?e.elemMods=t.elemMods:e.elemMods={};var c=e.block||"",u=e.elem;c||u?e.position++:e._listLength--,this.depth++;var h=!1,l=this.entities[this.classBuilder.build(c,u)];l?this.canFlush&&!l.canFlush&&(h=!0,this.canFlush=!1):(l=this.defaultEnt,void 0!==u&&(l=this.defaultElemEnt),l.init(c,u));var d=!0===this.options.production?this.tryRun(e,l):l.run(e);return e.ctx=n,e.block=i,e.elem=o,e.mods=r,e.elemMods=a,e._currBlock=s,this.depth--,h&&(this.canFlush=!0),d},R.prototype.tryRun=function(t,e){try{return e.run(t)}catch(e){return console.error("BEMXJST ERROR: cannot render "+["block "+t.block,"elem "+t.elem,"mods "+JSON.stringify(t.mods),"elemMods "+JSON.stringify(t.elemMods)].join(", "),e),""}},R.prototype.renderContent=function(t,e){var n=this.context,i=n.position,s=n._listLength,o=n._notNewList;n._notNewList=!1,e&&(n.position=0,n._listLength=1);var r=this._run(t);return n.position=i,n._listLength=s,n._notNewList=o,r},R.prototype.local=function(t,e){for(var n=Object.keys(t),i=[],s=0;s<n.length;s++){for(var o=n[s],r=o.split("."),a=this.context,c=0;c<r.length-1;c++)a=a[r[c]];i.push({parts:r,value:a[r[c]]}),a[r[c]]=t[o]}var u=e.call(this.context);for(s=0;s<i.length;s++){for(r=i[s].parts,a=this.context,c=0;c<r.length-1;c++)a=a[r[c]];a[r[c]]=i[s].value}return u},R.prototype.applyNext=function(){return this.match.exec(this.context)},R.prototype.applyMode=function(t,e){var n=this.match.entity.rest[t];if(!n)return this.context.ctx[t];if(!e)return n.exec(this.context);var i=this;return this.local(e,function(){return n.exec(i.context)})},R.prototype.exportApply=function(t){var e=this;t.apply=function(t){return e.run(t)},t.compile=function(t){return e.compile(t)},t.BEMContext=e.contextConstructor;for(var n=0;n<e.oninit.length;n++){(0,e.oninit[n])(t,{BEMContext:t.BEMContext})}},n(z,A),z.prototype.init=function(t,e){this.block=t,this.elem=e,this.jsClass=this.bemxjst.classBuilder.build(this.block,this.elem)},z.prototype._initRest=function(t){"default"===t?this.rest[t]=this.def:"tag"===t||"attrs"===t||"content"===t?this.rest[t]=this[t]:this.rest.hasOwnProperty(t)||(this.rest[t]=new D(this,t))},z.prototype.defaultBody=function(t){return this.bemxjst.render(t,this,this.tag.exec(t),!1!==t.ctx.js?this.rest.js?this.rest.js.exec(t):t.ctx.js:void 0,this.rest.bem?this.rest.bem.exec(t):t.ctx.bem,this.rest.cls?this.rest.cls.exec(t):t.ctx.cls,this.rest.mix?this.rest.mix.exec(t):t.ctx.mix,this.attrs.exec(t),this.content.exec(t))},n(F,R),t.exports=F,F.prototype.Entity=z,F.prototype.runMany=function(t){var e="",n=this.context,i=n.position,s=n._notNewList;if(s?n._listLength+=t.length-1:(n.position=0,n._listLength=t.length),n._notNewList=!0,this.canFlush)for(var o=0;o<t.length;o++)e+=n._flush(this._run(t[o]));else for(o=0;o<t.length;o++)e+=this._run(t[o]);return s||(n.position=i),e},F.prototype.render=function(t,e,n,s,o,r,a,c,u){var h=t.ctx;if(void 0===n)n="div";else if(!n)return u||0===u?this._run(u):"";var l,d="<"+n,p=h.js;!1!==p&&(!0===s&&(s={}),s&&s!==h.js?!0!==p&&(s=i.extend(p,s)):!0===p&&(s={})),s&&((l={})[e.jsClass]=s);var f=void 0!==o?o:e.block||e.elem;f=!!f;var m=l&&(this._elemJsInstances?e.block||e.elem:e.block&&!e.elem);if(!f&&!r)return this.renderClose(d,t,n,c,f,h,u);d+=" class=";var _="";if(f){if(_+=e.jsClass+this.buildModsClasses(e.block,e.elem,e.elem?t.elemMods:t.mods),h.mix&&a&&a!==h.mix&&(a=[].concat(a,h.mix)),a){var g=this.renderMix(e,a,l,m);_+=g.out,l=g.jsParams,m=g.addJSInitClass}r&&(_+=" "+("string"==typeof r?i.attrEscape(r).trim():r))}else _+="string"==typeof r?i.attrEscape(r).trim():r;return m&&(_+=" i-bem"),d+=this._unquotedAttrs&&i.isUnquotedAttr(_)?_:'"'+_+'"',f&&l&&(d+=" data-bem='"+i.jsAttrEscape(JSON.stringify(l))+"'"),this.renderClose(d,t,n,c,f,h,u)};var L={html:1,head:1,body:1,p:1,li:1,dt:1,dd:1,colgroup:1,thead:1,tbody:1,tfoot:1,tr:1,th:1,td:1,option:1,rb:1,rt:1,rtc:1,rp:1,optgroup:1};F.prototype.renderClose=function(t,e,n,s,o,r,a){var c=t;return c+=this.renderAttrs(s,r),i.isShortTag(n)?(c+=this._shortTagCloser,this.canFlush&&(c=e._flush(c))):(c+=">",this.canFlush&&(c=e._flush(c)),(a||0===a)&&(c+=this.renderContent(a,o)),this._omitOptionalEndTags&&L.hasOwnProperty(n)||(c+="</"+n+">")),this.canFlush&&(c=e._flush(c)),c};var q=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&null!==t};return F.prototype.renderAttrs=function(t,e){var n="";if(q(t)||q(e.attrs))for(var s in t=i.extend(t,e.attrs)){var o=t[s];if(void 0!==o&&!1!==o&&null!==o)if(!0===o)n+=" "+s;else{var r=i.isSimple(o)?o:this.context.reapply(o);n+=" "+s+"=",n+=this._unquotedAttrs&&i.isUnquotedAttr(r)?r:'"'+i.attrEscape(r)+'"'}}return n},F.prototype.renderMix=function(t,e,n,i){var s={},o=this.context,r=n,a=i;s[t.jsClass]=!0,Array.isArray(e)||(e=[e]);for(var c=this.classBuilder,u="",h=0;h<e.length;h++){var l=e[h];if(l){"string"==typeof l&&(l={block:l,elem:void 0});var d=!1;l.elem?d=l.elem!==t.elem&&l.elem!==o.elem||l.block&&l.block!==t.block:l.block&&(d=!(l.block===t.block&&l.mods)||l.mods&&t.elem);var p=l.block||l._block||o.block,f=l.elem||l._elem||o.elem,m=c.build(p,f),_=l.elem||l._elem||(l.block?void 0:o.elem);if(d&&(u+=" "+c.build(p,_)),u+=this.buildModsClasses(p,_,l.elem||!l.block&&(l._elem||o.elem)?l.elemMods:l.mods),l.js&&(r||(r={}),r[c.build(p,l.elem)]=!0===l.js?{}:l.js,a||(a=p&&!l.elem)),d&&!s[m]){s[m]=!0;var g=this.entities[m];if(g){var v=o.block,b=o.elem,y=g.rest.mix&&g.rest.mix.exec(o);if(o.elem=b,o.block=v,y)for(var x=0;x<y.length;x++){var k=y[x];if(k&&(!k.block&&!k.elem||!s[c.build(k.block,k.elem)])){if(k.block)continue;k._block=p,k._elem=f,e=e.slice(0,h+1).concat(k,e.slice(h+1))}}}}}}return{out:u,jsParams:r,addJSInitClass:a}},F.prototype.buildModsClasses=function(t,e,n){if(!n)return"";var i="";for(var s in n)if(n.hasOwnProperty(s)&&""!==s){var o=n[s];if(o||0===o){"boolean"!=typeof o&&(o+="");var r=this.classBuilder;i+=" "+(e?r.buildElemClass(t,e,s,o):r.buildBlockClass(t,s,o))}}return i},t.exports||{}.BEMHTML}({}))({production:!0,runtimeLint:!1,escapeContent:!1});return n.compile(function(e,n,i,s,o,r,a,c,u,h,l,d,p,f,m,_,g,v,b,y,x,k,M,E,w){i("settings-star")(d()(function(){var t=this.ctx,e=t.pos,n=this["i-session"].counter,i={on:n({cid:73071,path:"/story/tail/favorite",state:"on",pos:e}),off:n({cid:73071,path:"/story/tail/favorite",state:"off",pos:e}),popupAdd:n({path:"/story/tail/popup/add"}),popupAfter:n({path:"/story/tail/popup/after"}),popupEnter:n({path:"/story/tail/popup/enter"}),popupOpen:n({path:"/story/tail/popup/show"}),popupHide:n({path:"/story/tail/popup/hide"}),settings:n({path:"/story/tail/settings"})};return t.js.counters?tools.extend(t.js.counters,i):t.js.counters=i,E()}),h()(function(){var t=this.ctx.attrs||{};return"nofavorite"===this.mods.type&&(t.title=BEM.I18N("settings-star","tooltip")),t})),i("tooltip").def()(function(){var t=this.ctx,e=this.mods;void 0===e.view&&(e.view="classic");var n={target:"anchor",hiding:"yes",autoclosable:e.autoclosable||"no",view:e.view,theme:"normal"},i=w("js"),s=void 0===(i=(i?this.extend(i,Object(t.js)):t.js)||{}).mainOffset?i.offset:i.mainOffset,o=i.to&&[].concat(i.to);return o&&(o=o.map(function(t){return t.indexOf("-")<0&&(t+="-center"),t})),M({block:"popup2",mods:n,directions:o||["right-center","bottom-center","top-center","left-center"],mainOffset:s,secondaryOffset:i.secondaryOffset,tailOffset:i.tailOffset,zIndexGroupLevel:i.zIndexGroupLevel,mix:[{block:"tooltip",mods:e}].concat(t.mix),content:[{block:"tooltip",elem:"backdrop",content:!1!==t.tail&&{block:"popup2",elem:"tail"}},{block:"tooltip",elem:"content",content:t.content}]})}),i("popup2")(c()(function(){return void 0===this.mods.view&&(this.mods.view="classic"),E()}),d()(function(){var t=this.ctx;return{mainOffset:t.mainOffset,secondaryOffset:t.secondaryOffset,viewportOffset:t.viewportOffset,tailOffset:t.tailOffset,tailSize:t.tailSize,directions:t.directions,zIndexGroupLevel:t.zIndexGroupLevel}}),e(function(){return this.ctx.hasTail}).content()(function(){var t=this.ctx,e=[].concat(t.content);return[].concat({elem:"tail"},e)})),i("popup2").mod("target","anchor").def()(function(){return void 0===this.mods.hiding&&(this.mods.hiding="yes"),E()}),i("popup2").mod("target","anchor").mod("visible","yes").def()(function(){return this.mods.outside="yes",E()}),i("popup2").mod("hiding","yes").def()(function(){return"anchor"!==this.mods.target&&(this.mods.target="anchor"),E()}),i("i-bem").elem("i18n").def()(function(){if(!this.ctx)return"";var t=this.ctx,e=t.keyset,n=t.key,i=t.params||{};return e||n?(t.content&&(i.content=this.reapply(t.content)),BEM.I18N(e,n,i)):""}),v(function(){!function(t,e){if(!e.I18N){t.BEM=e;var n=e.I18N=function(t,e){return e};n.keyset=function(){return n},n.key=function(t){return t},n.lang=function(){}}}(this,"undefined"==typeof BEM?{}:BEM)}),i("*").match(function(){return!this["i-session"]})(c()(function(){return this["i-session"]=w("params",{block:"i-session"}),E()}),e(function(){return BEM&&BEM.blocks&&"i-session"!==this.block}).def()(function(){return this["i-session"]=M({block:"i-session"}),E()})),i("i-session")(c()(function(){return BEM&&BEM.blocks?w("params"):""}),o("params")(function(){var t=this.ctx.params||{},e=BEM&&BEM.blocks&&(BEM.blocks["i-global"]||{});return e&&(t=this.extend(t,{location:location,i18n:e.i18n,counter:e.counter})),t})),v(function(t){var e=t.BEMContext.prototype,n=t["i-global"]=e["i-global"]=e.extend({lang:"ru",tld:"ru","content-region":"ru","click-host":"//clck.yandex.ru","passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","export-host":"https://export.yandex.ru",login:"","lego-static-host":"https://yastatic.net/lego/2.10-142"},e["i-global"]);n._public={id:!0,lang:!0,tld:!0,"content-region":!0,"user-region":!0,login:!0,displayName:!0,index:!0,yandexuid:!0,"passport-host":!0,"pass-host":!0,"passport-msg":!0,"static-host":!0,"lego-static-host":!0,"social-host":!0,clck:!0,"click-host":!0,"export-host":!0,"i-host":!0,"social-retpath":!0,"lego-path":!0,sid:!0,retpath:!0,uid:!0},n.makePublic=function(t,i){"object"!=typeof t?(void 0===i&&(i=!0),n._public[t]=i):n._public=e.extend(n._public,t)},n.isPublic=function(t){return Boolean(n._public[t])},n.setTld=function(t){var e="tr"===t?"yandex.com.tr":"yandex."+t,i=-1!==["ua","by","kz"].indexOf(t)?"yandex.ru":e;n.tld=t,n["content-region"]=t,n["click-host"]="//clck."+i,n["passport-host"]="https://passport."+i,n["pass-host"]="https://pass."+e,n["social-host"]="https://social."+e,n["export-host"]="https://export."+e},e._iGlobalBackup={_backup:null,exists:function(){return Boolean(this._backup)},save:function(){this._backup=e.extend({},n)},restore:function(){var t;for(t in n)delete n[t];for(t in this._backup)n[t]=this._backup[t]}}}),i("i-global")(u()(""),c()(function(){var t=this.ctx.params||{},e=this["i-global"];for(var n in this._iGlobalBackup.exists()?!1!==this.ctx.reset&&this._iGlobalBackup.restore():this._iGlobalBackup.save(),t.tld&&t.tld!==e.tld&&e.setTld(t.tld),t)e[n]=t[n];return""})),i("*").mode("target")(function(){var t=this.ctx,e=t.url;0===e.indexOf("#")||0===e.indexOf("?")||0===e.indexOf("/")&&0!==e.indexOf("//")||/^(?:https?:)?\/\/(?:[^./]*\.)*yandex\.(?:ru|ua|kz|com\.tr|com|by)(?::\d+)?[/?](?!clck\/jsredir)/.test(e+"/")||(t.target="_blank")}),i("*").match(function(){return this.ctx.url||this.ctx.js&&this.ctx.js.url}).mode("urlParams")(function(){var t=this.ctx.url?this.ctx:this.ctx.js,e=t.url;if(0===e.indexOf("#")||0===e.indexOf("?")||0===e.indexOf("/")&&0!==e.indexOf("//")||/^(?:https?:)?\/\/(?:[^./]*\.)+\bnews\b.*\.yandex\.(?:ru|ua|kz|com\.tr|com|by)(?::\d+)?[/?](?!clck\/jsredir)/.test(e+"/")){var n=this["i-global"]&&this["i-global"].urlParams;if(tools.isPlainObject(n)&&!tools.isEmptyObject(n)){var i=(BEM.blocks?BEM.blocks.uri:new tools.Uri).parse(e);for(var s in n)i.getParam(s)||i.addParam(s,n[s]);t.url=i.toString()}}}),i("*").match(function(){return BEM&&BEM.blocks&&!this["i-global"]._extended}).def()(function(){this["i-global"]._extended=!0;var t=BEM.blocks["i-global"]._params;return t&&M({block:"i-global",params:t}),E()}),i("*").match(function(){return"form"===this.ctx.tag}).content()(function(){var t=this["i-global"]&&this["i-global"].urlParams,e=[].concat(E());for(var n in t)e.push({tag:"input",attrs:{name:n,type:"hidden",value:t[n]}});return e}),i("i-global").def()(function(){var t=this["i-global"];return t.makePublic("lr"),t.makePublic("isAuth"),t.makePublic("isTouch"),t.makePublic("isSport"),t.makePublic("reqid"),t.makePublic("from"),t.makePublic("sk"),t.makePublic("nonce"),t.makePublic("country"),t.makePublic("host"),t.makePublic("uid"),t.makePublic("yad"),t.makePublic("yadomain"),t.makePublic("urlParams"),t.makePublic("commonCounter"),t.makePublic("metrika"),t.makePublic("pageCounterPath"),E()}),i("i-ua")(p()(!1),u()("script"),h()(function(){return{nonce:this.ctx.nonce||this["i-global"].nonce}}),m()(function(){return[{html:[";(function(d,e,c,r){","e=d.documentElement;",'c="className";','r="replace";','e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");','if(d.compatMode!="CSS1Compat")','e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")',"})(document);"].join("")}]})),i("i-ua").content()(function(){var t=this["i-global"].isSport?"sport":"news";return[].concat(E(),{html:'window.Ya={news:true,_s:"'+t+'"};'})}),i("i-ua").content()(function(){var t=[";(function(d,e,c,n,w,v,f){","e=d.documentElement;",'c="className";','n="createElementNS";','f="firstChild";','w="http://www.w3.org/2000/svg";','e[c]+=" i-ua_svg_"+(!!d[n]&&!!d[n](w,"svg").createSVGRect?"yes":"no");','v=d.createElement("div");','v.innerHTML="<svg/>";','e[c]+=" i-ua_inlinesvg_"+((v[f]&&v[f].namespaceURI)==w?"yes":"no");',"})(document);"].join("");return[].concat(E(),{html:t})}),i("tooltip").mod("theme","promo")(d()(function(){return{secondaryOffset:-30,tailOffset:30}})),i("button2")(c()(function(){return void 0===this.mods.view&&(this.mods.view="classic"),this.mods.progress&&(this.mods.disabled="yes"),void 0===this.ctx.tabindex&&(this.ctx.tabindex="0"),E()}),e(function(){return void 0===this.ctx.tag}).tag()("button"),d()(function(){return{_tabindex:this.mods.disabled?this.ctx.tabindex:void 0}}),h()(function(){var t=this.ctx,e=Boolean(this.mods.disabled);return{type:"button",autocomplete:"off",id:t.id,title:t.title,name:t.name,value:t.val,tabindex:e?void 0:t.tabindex,disabled:e,"aria-disabled":e&&"true"}}),e(function(){return!this.ctx.content}).content()(function(){var t=this.ctx;return[t.icon&&{elem:"icon",icon:t.icon},t.iconLeft&&{elem:"icon",elemMods:{side:"left"},icon:t.iconLeft},t.iconRight&&{elem:"icon",elemMods:{side:"right"},icon:t.iconRight},void 0!==t.text&&(this.isSimple(t.text)?{elem:"text",content:{html:this.xmlEscape(t.text)}}:this.extend(t.text,{elem:"text"}))].filter(Boolean)})),i("button2").match(function(){return this.ctx.url}).match(function(){return!this.ctx.target}).def()(function(){return w("target"),w("urlParams"),E()}),i("button2").elem("text").tag()("span"),i("button2").mod("type","link")(c()(function(){var t=this.ctx.url;return this._url=this.isSimple(t)?t:this.reapply(t),E()}),u()("a"),e(function(){return"_blank"===this.ctx.target}).attrs()(function(){var t=this.ctx.attrs,e=void 0!==Object(t).rel?String(t.rel):"";return e&&-1===e.indexOf("noopener")&&(t.rel=e+" noopener"),this.extend(E(),{rel:"noopener"})}),h()(function(){var t=void 0!==this._url,e=Boolean(this.mods.disabled)?t&&-1:this.ctx.tabindex;return this.extend(E(),{target:this.ctx.target,href:this.mods.disabled?void 0:this.ctx.url,autocomplete:void 0,type:void 0,disabled:void 0,tabindex:e})}),d()(function(){return this.extend(E(),{_url:this.mods.disabled?this.ctx.url:void 0})})),i("paranja").def()(function(){return E({"mods.state":this.mods.state||"close","mods.theme":this.mods.theme||"normal"})}),i("spin2")(c()(function(){return void 0===this.mods.view&&(this.mods.view="default"),void 0===this.mods.tone&&(this.mods.tone="default"),E()})),i("input")(u()("span"),o("live")(!1),o("getLive")(function(){var t=w("live"),e=this.ctx.js,n=this.mods,i={autofocus:"yes",width:"content","tap-ahead":"yes"};return e?(void 0!==e.live?Boolean(e.live):t)&&!e.autoFocus&&!Object.keys(i).some(function(t){return n[t]===i[t]}):t}),d()(function(){return{live:this._live}}),c()(function(){var t,e=w("value",{ctx:this.ctx.value}),n=this.ctx.id||this.generateId(),i=this.mods,s=w("getLive",{}),o=this.ctx.placeholder;return i.theme=i.theme||"normal",this.ctx.hasOwnProperty("placeholder")&&(t=this.isSimple(o)?o:this.reapply(o)),E({_inputId:n,_labelId:"label"+n,_hintId:"hint"+n,_name:this.ctx.name||"",_value:e,_inputLink:!0,_iconLeft:this.ctx.icon||this.ctx.iconLeft,_iconRight:this.ctx.iconRight,_disabled:i.disabled,_live:s,_placeholder:t,_hasClear:"no"!==i.clear})}),o("value")("",e(function(){return this.ctx})(function(){return this.reapply(this.ctx)}),e(function(){return this.isSimple(this.ctx)})(function(){return this.ctx}))),i("input").elem("box")(u()("span"),m()(function(){return[this._iconLeft&&{elem:"icon",icon:this._iconLeft,elemMods:{side:"left"}},this._iconRight&&{elem:"icon",icon:this._iconRight,elemMods:{side:"right"}},this._hasClear&&{elem:"clear",elemMods:this._value||0===this._value?{visibility:"visible"}:void 0,content:" "},this.ctx.content].filter(Boolean)})),i("input").elem("control")(u()("input"),h()(function(){var t=this.extend({id:this._inputId,name:this._name,placeholder:this._placeholder},this.ctx.controlAttrs);return(this._value||0===this._value||""===this._value)&&(t.value=this._value),this.mods.disabled&&(t.disabled=!0),this._live&&(t.autocomplete="off"),t["aria-labelledby"]=this._labelId+" "+this._hintId,t}),n()(function(){return{elem:"box",content:this.ctx}})),i("input").elem("clear")(u()("span"),h()(function(){return{unselectable:"on"}}),m().match(function(){return!this.ctx.content})("")),i("popup")(c().match(function(){return!this._popupDefaults})(function(){var t=this.ctx,e=this.mods;if(e.hasOwnProperty("theme")||(e.theme="ffffff"),e.hasOwnProperty("autoclosable")||(e.autoclosable="yes"),e.hasOwnProperty("adaptive")||(e.adaptive="yes"),e.hasOwnProperty("animate")||(e.animate="yes"),t.zIndex){var n=t.attrs||(t.attrs={});n.style=(n.style||"")+";z-index:"+t.zIndex+";"}return w("default",{_popupDefaults:!0})}),m()(function(){return delete this._popupDefaults,[{elem:"under",elemMods:this.ctx.underMods},this.ctx.content]})),v(function(t){t.BEMContext.prototype.cleverSubstring=function(t,e,n){return t.length>e+n?t.substring(0,e-1)+"…":t}}),i("b-autocomplete-item")(u()("li"),e(function(){return this.ctx.search_cgi&&Array.isArray(this.ctx.search_cgi)}).js()(function(){return{cgi:this.ctx.search_cgi}}),d()(!0),f()(function(){return[{mods:{pers:this.ctx.pers?"yes":""}}]}),m()(function(){var t=this.ctx.data;return(0,BEM.blocks["b-autocomplete-item"].highlight)(this.xmlEscape(Array.isArray(t)?t[1]:t),this.ctx.hl)})),i("b-autocomplete-item").mod("type","nav")(c()(function(){var t=this.ctx.data,e=t[4],n=(e.match(/^\w[\w-]*:\/\//g)?"":"http://")+e,i=BEM.blocks["i-common__string"].escapeHTML(t[3]),s=" — "+BEM.blocks["b-autocomplete-item"].highlight(t[2],this.ctx.hl);return E({_linkUrlContent:i,_linkInfoConten:s,_url:n})}),d()(function(){return{val:this._url}}),m()(function(){return{elem:"link",tag:"a",attrs:{href:this._url,target:"_blank"},content:[{elem:"link-url",tag:"span",content:this._linkUrlContent},{elem:"link-info",tag:"span",content:this._linkInfoConten}]}})),i("b-autocomplete-item").mod("type","foot")(f()(function(){return[{mods:{enterable:"no"}}]}),m()(function(){return this.ctx.data.slice(1).map(function(t){return Array.isArray(t)?{tag:"span",elem:"foot",content:t[0]}:t},this)})),i("b-autocomplete-item").mod("type","lingvo").content()(function(){var t=this.ctx.data[1];return[{tag:"span",elem:"text",content:t.text},{tag:"span",elem:"translation",content:[" — ",t.translation]}]}),i("tag")(u()("span"),d()(!0),m()(function(){var t=this.ctx,e=void 0!==t.faviconPosition;return[e?{elem:"favicon",tag:"span",attrs:{style:"background-position: "+t.faviconPosition}}:null,{elem:"title",elemMods:{favicon:e},tag:"span",content:this.xmlEscape(this.ctx.title)},t.hidden,t.url?{block:"link",mix:{block:"tag",elem:"link"},url:t.url}:null,{elem:"remove",counter:t.removeCounter,tag:"span"}]}),h()(function(){return{title:this.ctx.title,tabindex:0}})),i("settings-suggest-item")(u()("li"),d()(!0),m()(function(){var t=this.ctx.data,e=BEM.blocks["settings-suggest-item"].highlight,n=this.xmlEscape(t.text);return[{elem:"icon",attrs:{style:"background-position: 0 -"+16*t.pos+"px"}},e(n,this.ctx.hl)]})),v(function(t){t.BEMContext.prototype.util||(t.BEMContext.prototype.util={})}),v(function(t){var e=Object.prototype.toString;function n(t){return"object"==typeof t&&"[object Object]"===e.call(t)}function i(t,e,s){var o,r;for(o in t=Object(t),e=Object(e))void 0!==(r=s&&s(t[o],e[o],o))?t[o]=r:n(t[o])&&n(e[o])?t[o]=i(t[o],e[o],s):t[o]=e[o];return t}t.BEMContext.prototype.util.merge=i,t.BEMContext.prototype.util.mergeBemjson=function(t,e){return i(t,e,function(t,e,n){if("mix"===n)return[].concat(t,e)})}}),i("link")(c()(function(){this.mods;var t=this.ctx.url;return void 0===this.ctx.tabindex&&(this.ctx.tabindex="0"),this._url=this.isSimple(t)?t:this.reapply(t),E()}),u()(function(){return void 0!==this._url?"a":"span"}),d()(function(){return{_tabindex:this.mods.disabled?this.ctx.tabindex:void 0}}),e(function(){return"_blank"===this.ctx.target}).attrs()(function(){var t=this.ctx.attrs,e=void 0!==Object(t).rel?String(t.rel):"";return e&&-1===e.indexOf("noopener")&&(t.rel=e+" noopener"),this.extend(E(),{rel:"noopener"})}),h()(function(){var t=this.ctx,e=this._url,n=void 0!==e,i=Boolean(this.mods.disabled),s=i?n&&-1:t.tabindex;return this.extend(E(),{id:t.id,name:t.name,title:t.title,target:t.target,tabindex:s,href:e,role:n?void 0:"button","aria-disabled":i?"true":void 0})}),e(function(){return void 0===this.ctx.content}).content()(function(){var t,e=this.ctx,n=Boolean(e.text),i=[e.icon,e.iconLeft,e.iconRight].filter(Boolean),s=i.length>0,o=n||i.length>1,r=(t=this.xmlEscape,function(e){return"string"==typeof e?{html:t(e)}:e});return[e.icon&&this.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:o?"left":""}}},e.icon),e.iconLeft&&this.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:o?"left":""}}},e.iconLeft),n&&(this.isSimple(e.text)?s?{elem:"inner",content:r(e.text)}:r(e.text):e.text.block?this.util.mergeBemjson({mix:{block:"link",elem:"inner"}},e.text):this.extend({block:"link",elem:"inner"},e.text)),e.iconRight&&this.util.mergeBemjson({block:"icon",mix:{block:"link",elem:"icon",elemMods:{side:o?"right":""}}},e.iconRight)]}),s("inner").tag()("span")),i("link")(e(function(){return this.ctx.url}).match(function(){return!this.ctx.target}).def()(function(){return w("target"),w("urlParams"),E()}),e(function(){return!this.mods.theme}).def()(function(){return this.mods.theme="normal",E()})),i("page-content").elem("title").tag()("h1"),i("warn")(h()(function(){return{role:"note"}}),m()(function(){var t=this.ctx;return[this["i-global"].inApp?null:{elem:"close"},{elem:"wrapper",content:[t.title?{elem:"title",content:t.title}:null,{elem:"desc",content:t.desc}]}]}),s("close").tag()("i"),s("title")(u()("h3"),e(function(){return!this.ctx.content}).def()(null))),i("story")(s("title")(u()("h2"),s("agency").tag()("span"),s("time").tag()("span")),m()(function(){var t,e=this.ctx,n=e.img,i=e.title,s=e.url,o=e._counter,r=o&&o.path;return n&&(t={block:"link",counter:r?tools.extend({},o,{path:r+"/image",url:e.urlOnImg||s}):o,attrs:{role:"presentation"},mix:[{block:e.block,elem:"image"},e.isVideo?{block:"video-mark",mods:{type:"cam"}}:null],url:e.urlOnImg||s,content:n}),[t,{elem:"content",content:[e.agency?{elem:"agency",content:e.agency}:null,e.time?{elem:"time",content:e.time}:null,i?{elem:"title",content:s?{block:"link",url:s,counter:r?tools.extend({},o,{path:r+"/title",has_image:t?"true":"false"}):o,content:i}:i}:null,e.date?{elem:"date",content:e.date}:null,e.text?{elem:"text",content:e.text}:null]}]})),i("story")(s("head")(u()("h1"),e(function(){return this.ctx.url}).content()(function(){var t=this.ctx;return{block:"link",url:t.url,counter:t._counter,content:t.content}})),s("tail-head").tag()("h2")),i("image")(u()("img"),h()(function(){var t=this.ctx,e={src:"https://yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif",alt:""};return t.url&&(e.src=t.url),["alt","width","height"].forEach(function(n){t[n]&&(e[n]=t[n])}),e})),i("image").match(function(t,e){return e.object&&e.object.color_wiz&&e.object.color_wiz[0]}).attrs()(function(t,e){var n=E(),i=e.object.color_wiz[0];return n.style="background-color:"+i,n}),i("media")(d()(!0),m()(function(){var t,e=this.ctx,n=e.agency,i=e._counter,s=e.title,o=e.url,r=e.img,a=n?n.name:null;return r&&(r.block="image",t={block:"link",mix:[{block:e.block,elem:"image"},e.isVideo&&{block:"video-mark",mods:{type:"cam"}}],url:e.url,counter:tools.extend({},i,{path:i.path+"/image",url:e.url}),content:r}),{elem:"inner",content:[t,a?{elem:"agency",content:a}:null,e.time?{elem:"time",content:e.time}:null,{elem:"head",content:[{elem:"title",url:o,_counter:tools.extend({},i,{path:i.path+"/title",url:o}),content:s||o}]},e.content||null]}}),s("head").tag()("h2"),s("label").tag()("span"),s("title").match(function(){return this.ctx.url}).content()(function(){var t=this.ctx;return{block:"link",url:t.url,counter:t._counter,content:t.content}})),i("agency-icon")(e(function(){return this.ctx.image}).replace()(function(){var t=this.ctx.image;return t.block="image",t.mix=[{block:"agency-icon"}],t}),e(function(){return this.ctx.hasOwnProperty("spritePos")})(f()([{mods:{favicon:"yes"}}]),m()(function(){return{block:"icon",mix:[{block:"agency-icon",elem:"favicon"}],attrs:{style:"background-position: 0 "+-16*this.ctx.spritePos+"px;"}}}))),i("doc")(s("label").tag()("span"),s("text-label").tag()("span"),s("title")(u()("h2"),e(function(){return this.ctx.url}).content()(function(){var t=this.ctx;return{block:"link",url:t.url,counter:t._counter,content:t.content}}))),i("doc").mod("for","instory")(e(function(){return this.ctx.isInfected})(f()(function(){var t=E()||[];return t.push({mods:{infected:"yes"}}),t}),d()(!0)),m()(function(){var t,e,n=this.ctx,i=this["i-session"],s=n.agency,o=n._counter||{},r=n.time||null,a=n.title,c=n.url,u=n.isInfected?null:c,h=n.img,l=s&&s.name||null,d=n.snippet?{block:"doc",elem:"text",content:n.snippet}:null,p=n.isInfected?[{block:"button2",mods:{size:"s"},mix:[{block:"doc",elem:"infected-label"}],text:BEM.I18N("doc","infected-label")},{block:"popup2",mods:{autoclosable:"yes",target:"anchor",theme:"normal"},mix:[{block:"doc",elem:"infected-info"}],content:[{block:"_infected-info",_counter:tools.extend({},o,{path:"story/results/story/document/infected/about"}),url:c},{block:"doc",elem:"infected-link",content:{block:"link",url:c,counter:tools.extend({},o,{path:"story/results/story/document/infected/go"}),content:BEM.I18N("doc","infected-link")}}]}]:null;switch(n.genre){case"article":case"interview":case"online":e=i.i18n("doc","genre-"+n.genre)}var f={elem:"head",content:[{elem:"title",url:u,_counter:o,content:a||u},p,{block:"translate",user_lang:i.user.lang,doc_lang:n.lang,url:u,_counter:{path:o.path,pos:o.pos}}]};return h&&(h.block="image",t={block:"link",counter:o,mix:[{block:n.block,elem:"image"}],url:c,content:h}),[t,s.image||null,l?{elem:"agency",content:l}:null,r?{elem:"time",content:r}:null,e?{elem:"text-label",elemMods:{type:"genre"},content:e}:null,f,n.sharing||null,d?{elem:"content",content:d}:null,n.content||null]})),i("_infected-info")(u()(""),m()(function(){var t=this.ctx,e=this["i-session"],n=e.config,i="https://"+n.yadomain+"/infected?url="+encodeURIComponent(t.url)+"&tld="+n.tld+"&fmode=inject&mime=html&l10n="+n.lang;return BEM.I18N("doc","infected-info",{help:this.reapply([{block:"i-session",params:e},{block:"link",target:"_blank",url:i,counter:tools.extend({},t._counter,{url:i}),content:BEM.I18N("doc","infected-help")}])})})),i("translate")(u()(""),s("text").tag()("span"),s("icon").tag()("i"),e(function(){return this.ctx.doc_lang}).match(function(){return this.ctx.user_lang}).match(function(){return this.ctx.url}).replace()(function(){var t,e,n=this.ctx,i=n.url,s=n.doc_lang,o=n.user_lang,r=n._counter,a=r.path,c=BEM.I18N("doc","translate");return o===s?null:(r.cid||(e="story/foreign_lang"===a?72486:72484),t="//translate.yandex.ru/translate?srv=news&lang="+s+"-"+o+"&ui="+o+"&url="+encodeURIComponent(i),{block:"button2",mods:{theme:"normal",size:"s"},mix:[{block:this.block}],counter:{cid:e,path:a+"/translate",pos:r.pos,url:t},attrs:{title:c},url:t,icon:{mix:{block:"translate",elem:"icon"}}})})),i("button2").elem("icon").def()(function(){var t=this.extend({},this.ctx.icon);return t.block="icon",t.mix=[{block:"button2",elem:"icon",elemMods:this.elemMods}].concat(t.mix),t.mods=this.extend({size:this.mods.size},t.mods),M(t)}),i("icon")(u()("span"),h()(function(){var t=this.ctx,e=void 0!==t.url,n=void 0!==Object(t.attrs).style,i=(n?t.attrs.style:"")+(e?";background-image:url('"+t.url+"');":"");return n&&(t.attrs.style=i),{style:i||void 0}})),i("title")(u()(function(){return this.ctx.tag||"h3"}),e(function(){return this.ctx.url}).content()(function(){var t=this.ctx;return{block:"link",attrs:{title:t.content},mix:[{block:"title",elem:"link"}],counter:t._counter||null,url:t.url,content:t.content}})),i("widget")(e(function(){return!this.mods.theme}).def()(function(){return this.mods.theme="island",E()}),c()(function(){return this.id=this.ctx.id||tools.getId(),E()}),h()(function(){return{role:"complementary","aria-labelledby":"title"+this.id}}),e(function(){return this.ctx.links||this.ctx.title})(m()(function(){var t=this.ctx,e=null,n=[];return t.title&&n.push(M(this.extend(this.ctx,{elem:"title"}))),n.push({elem:"content",content:t.content}),t.links&&t.links.length&&(e=[],t.links.forEach(function(t,n){e.push({block:"link",url:t.url,mix:[{block:"widget",elem:"links-item"}],counter:tools.extend({link_pos:n,url:t.url},t._counter),content:t.content})}),n.push({elem:"links",content:e})),n})),s("title")(_()(function(){var t=this.ctx,e=this.ctx._counter;return{block:"title",tag:w("tag"),attrs:{id:"title"+this.id},mix:[{block:this.block,elem:"title"}],url:t.url,_counter:e?tools.extend({},e,{path:e.path+"/title"}):null,content:t.title}}))),i("share-dropdown").def()(function(){var t=this.extend({title:"",image:"",description:"",url:this["i-global"].url||""},this.ctx.share),e=this.mods,n=this.extend({size:"m",theme:"normal"},this.ctx.buttonMods),i=this.ctx.id||this.generateId();return M({block:"dropdown-menu",mods:{theme:"ffffff",size:"m"},mix:[{block:"share-dropdown",mods:e,js:{id:i,live:this.ctx.js&&this.ctx.js.live||!1}}].concat(this.ctx.mix||[]),content:[{elem:"switcher",content:{block:"button",mods:n,content:[{block:"image",mix:[{block:"button",elem:"icon",elemMods:{16:"link"}}],alt:""},{block:"share-dropdown",elem:"label",tag:"span",content:BEM.I18N("share-dropdown","share")}]}},{elem:"popup",js:this.ctx.js&&this.ctx.js.popupParams,mix:[{block:"share-dropdown",js:{id:i}}],content:this.ctx.content.map(function(e){var n={service:e.service};return n.service=e.service,{elem:"item",mix:[{block:"share-dropdown",elem:"share-item",elemMods:n}],content:{block:"link",mods:{theme:"normal"},target:e.target||"_blank",attrs:{"data-service":e.service},url:"//share.yandex.ru/go.xml?service="+e.service+"&url="+encodeURIComponent(t.url)+"&title="+encodeURIComponent(t.title)+"&image="+encodeURIComponent(t.image)+"&description="+encodeURIComponent(t.description),icon:!0,text:BEM.I18N("share-dropdown",e.service)}}})}]})}),i("button")(c()(function(){this.mods;return E()}),u()("button"),e(function(){return this.ctx.url}).tag()("a"),d()(!0),h()(e(function(){return!0})(function(){var t=this.ctx,e={};return e.tabindex=t.tabindex,e}),e(function(){return this.ctx.url})(function(){var t=this.ctx,e=t.attrs,n=E(),i={href:t.url,target:t.target},s=void 0!==Object(e).rel?String(e.rel):"";return"_blank"===i.target&&(i.rel="noopener",s&&-1===s.indexOf("noopener")&&(e.rel=s+" noopener")),this.extend(n,i)}),e(function(){return!this.ctx.url})(function(){var t=this.ctx,e=E(),n={type:t.type||"button",autocomplete:"off",name:t.name,value:t.value};return this.extend(e,n)})),m()(function(){return{elem:"text",tag:"span",content:this.ctx.content}})),i("button").mod("disabled","yes").attrs()(function(){var t={};return this.ctx.url?t["aria-disabled"]="true":t.disabled=!0,this.extend(E(),t)}),i("dropdown")(d()(!0),f()(function(){return[{mods:{action:"closed"}}]}),s("popup").replace()(function(){var t=this.ctx,e=[{block:"dropdown",elem:"popup"}];return t.mix&&(e=e.concat(t.mix)),{block:"popup",mix:e,mods:this.elemMods,underMods:t.underMods,attrs:t.attrs,js:t.js,content:[{elem:"tail"},{elem:"content",content:t.content}]}})),i("popup").elem("tail").tag()("i"),i("dropdown-menu")(d()(!0),c()(function(){var t=this.mods;return void 0!==t.size||(t.size="m"),void 0!==t.theme||(t.theme="ffffff"),this.dropdownMenuSize=t.size,this._inDropdownMenu=!0,E()})),i("dropdown-menu").elem("popup").def()(function(){var t=this.ctx;return M({block:"dropdown",elem:"popup",js:this.ctx.js,mix:(t.mix||[]).concat({block:"dropdown-menu",elem:"popup",elemMods:this.extend({size:this.dropdownMenuSize},this.elemMods)}),attrs:t.attrs,content:{block:"dropdown-menu",elem:"menu",title:t.menuTitle,type:t.type,elemMods:t.menuMods,mix:t.menuMix,content:t.content}})}),i("dropdown-menu").elem("menu").def()(function(){var t=this.ctx,e=t.type||"vert",n=this.elemMods;return n.theme||(n.theme="ffffff"),M({block:"b-menu-"+e,mix:(t.mix||[]).concat({block:"dropdown-menu",elem:"menu",elemMods:n}),title:t.title,content:t.content})}),i("b-menu-vert").match(function(){return this._inDropdownMenu})(h()(function(){return{role:"menu"}}),s("item").attrs()(function(){return{role:"menuitem"}})),i("b-menu-horiz").match(function(){return this._inDropdownMenu})(h()(function(){return{role:"menu"}}),s("item").attrs()(function(){return{role:"menuitem"}})),i("b-menu-vert")(m()(function(){return[this.ctx.title,{elem:"layout",content:this.ctx.content}]}),s("layout").tag()("ul"),s("item").match(function(){return!this._inItemContent}).wrap()(function(){return this.position--,{elem:"layout-unit",content:[this.ctx,this.ctx["item-content"]]}}),s("item-content").def()(function(){return E({_inItemContent:!0})}),s("layout-unit")(u()("li"),f()(function(){var t=[];return this.isFirst()&&t.push({elemMods:{position:"first"}}),this.isLast()&&t.push({elemMods:{position:"last"}}),t})),s("item-selector").tag()("span"),s("submenu").tag()("ul")),i("b-menu-horiz")(d()(!0),s("item").wrap()(function(){return this.position--,{elem:"layout-unit",content:this.ctx}}),s("layout-unit").mix()(function(){var t=[];return this.isFirst()&&t.push({elemMods:{position:"first"}}),this.isLast()&&t.push({elemMods:{position:"last"}}),t}),s("item-selector").tag()("span")),i("dropdown-menu").elem("switcher").replace()(function(){var t=this.ctx.content;return t.mix=[].concat(t.mix||[]).concat([{block:"dropdown-menu",elem:"switcher"}]),t}),i("dropdown-menu").match(function(){var t=this.ctx.mix;return t&&t[0]&&"share-dropdown"===t[0].block}).elem("popup").def()(function(){return this.ctx.content.forEach(function(t,e){t.content.counter={cid:73045,path:"story/share/document",pos:e,name:t.content.attrs["data-service"]}}),E()}),i("dropdown-menu").match(function(){return this.ctx.content&&"button2"===this.ctx.content.block}).elem("switcher").def()(function(){return this.ctx.content.counter={cid:73045,path:"story/share/button"},E()}),i("filters")(u()("form"),d()(!0),s("counters").tag()("span"),h()({autocomplete:"off"})),i("radiobox")(c()(function(){var t=this.ctx,e=this.mods;return void 0===this.mods.view&&(this.mods.view="classic"),E({_disabled:e.disabled,_name:t.name,_value:t.value})}),u()("span"),d()(function(){return this.extend({live:!1},this.ctx.js)})),i("radiobox").elem("radio")(c()(function(){var t=this.ctx,e=this.elemMods,n=this.extend({id:this.generateId(),type:"radio",name:this._name,value:t.value},t.controlAttrs),i=void 0!==n.value&&n.value===this._value;return e.disabled||(e.disabled=this._disabled),e.checked||(e.checked=i?"yes":""),e.disabled&&(n.disabled=!0,n.tabindex=-1),e.checked&&(n.checked=!0),E({_controlAttrs:n})}),u()("label"),h()(function(){return{for:this._controlAttrs.id}}),m()(function(){return[{elem:"box",tag:"span",content:{elem:"control"}},{elem:"text",tag:"span",content:E()}]})),i("radiobox").elem("control")(u()("input"),h()(function(){return this._controlAttrs})),i("pager")(c()(function(){return E({id:this.generateId()})}),h()(function(){return{role:"navigation","aria-labelledby":this.id}}),s("title")(h()(function(){return{id:this.id,"aria-hidden":!0}})),s("group").tag()("span")),i("pager").elem("button").replace()(function(){var t=this.ctx;return{block:"button2",mods:{theme:"normal",checked:t.elemMods.checked,size:"s",type:"link"},js:!1,url:t.url,counter:t._counter,text:t.content}}),i("footer")(c()(function(){return E({_inFooter:!0})}),f()(function(){return[{block:"clearfix"}]}),h()(function(){return{role:"contentinfo"}}),e(function(){return!this.ctx.content}).content()(function(){var t=this["i-services"],e=this.ctx.region,n=[],i=[];n.push({elem:"link",url:e?t.serviceUrl("mobile",e):BEM.I18N("footer","apps-url"),content:BEM.I18N("footer","apps")});var s=-1===this.ctx.tld.indexOf("com");return s&&i.push({elem:"link",url:e?t.serviceUrl("advertising",e)+"/kupislova.xml?advertising":BEM.I18N("footer","advert-url"),content:BEM.I18N("footer","advert")}),s&&this.ctx.statUrl&&i.push({elem:"link",url:this.ctx.statUrl,content:BEM.I18N("footer","stat")}),i.push({elem:"link",url:e?t.serviceUrl("legal",e)+"/termsofuse":BEM.I18N("footer","termsofuse-url"),content:BEM.I18N("footer","termsofuse")}),i.push({elem:"link",url:e?t.serviceUrl("company",e):BEM.I18N("footer","about-url"),content:BEM.I18N("footer","about")}),i.push({block:"copyright",elemLinkMix:{block:this.block,elem:"link"},start:this.ctx.start}),[{elem:"column",content:n},{elem:"column",elemMods:{side:"right"},content:i}]})),i("footer").content()(function(){for(var t=this["i-session"],e=this.ctx.content||[],n=[],i=0,s=[],o=e.length;i<o;i++){var r=e[i];n=[];for(var a=0,c=r.length;a<c;a++){var u=r[a];if(u)if("wrap"!==u){if(!u.block&&!u.tag){var h=u.name||u,l=u.url||t.config.link[h];if(!l)continue;u.name||(u={}),u.elem="link",u.elemMods={name:h.replace(/_/g,"-")},u.url=l,u.content=u.content||BEM.I18N("footer",h)}n.push({elem:"item",content:u})}else n.push({elem:"item",elemMods:{wrap:!0}})}s.push({block:"footer",elem:"column",content:n})}return s[0].elemMods={pos:"first"},s[i-1].elemMods={pos:"last"},s}),i("footer").elem("link").def()(function(){var t=this.extend(this.ctx,{block:"link",mods:{theme:"normal"},mix:[{block:this.block,elem:this.elem,elemMods:this.elemMods}]});return this.ctx.mix&&(t.mix=t.mix.concat(this.ctx.mix)),delete t.elem,M(t)}),i("copyright")(o("wrapLink")(function(){var t=this.ctx;return{block:"i-bem",elem:"i18n",keyset:"copyright",key:"link",content:{block:"copyright",elem:"link",mix:t.elemLinkMix,url:void 0===t.url?this["i-services"].serviceUrl("www"):t.url}}}),m()(function(){return["© ",{elem:"dates",start:this.ctx.start},"  ",this.ctx.content||w("wrapLink")]})),i("copyright").elem("link")(u()(!1),e(function(){return this.ctx.url})(u()("a"),h()(function(){return{href:this.ctx.url}})),m()(function(){return this.ctx.content||BEM.I18N("copyright","yandex")})),i("copyright").elem("dates")(u()("span"),m()(function(){var t=this.ctx.start,e=(new Date).getFullYear();return[t&&t!==e&&t+"–",e]})),v(function(t){var e=t["i-services"]=t.BEMContext.prototype["i-services"]={},n=t["i-global"];e.serviceName=function(t){return BEM.I18N("i-services",t||n.id)},e.serviceUrl=function(t,i){var s=n;return t||(t=s.id),i||(i=s["content-region"]),e._data[t](i)}}),i("i-services").def()(s("name")(function(){return M(this["i-services"].serviceName(this.ctx.id))}),s("url")(function(){return M(this["i-services"].serviceUrl(this.ctx.id,this.ctx.region))})),v(function(t){t["i-services"]._data={404:function(t){switch(t){case"ua":return"http://404.yandex.ua";case"by":return"http://404.yandex.by";case"kz":return"http://404.yandex.kz";case"com":return"http://404.yandex.com";case"tr":return"http://404.yandex.com.tr";default:return"http://404.yandex.ru"}},adresa:function(){return"http://adresa.yandex.ru"},advertising:function(t){switch(t){case"ua":return"https://advertising.yandex.ua";case"by":return"https://advertising.yandex.by";case"kz":return"https://advertising.yandex.kz";case"com":return"https://advertising.yandex.com";case"tr":return"https://yandex.com.tr/adv";default:return"https://advertising.yandex.ru"}},afisha:function(t){switch(t){case"ua":return"https://afisha.yandex.ua";case"by":return"https://afisha.yandex.by";case"kz":return"https://afisha.yandex.kz";default:return"https://afisha.yandex.ru"}},all:function(t){switch(t){case"ua":return"//yandex.ua/all";case"by":return"//yandex.by/all";case"kz":return"//yandex.kz/all";case"com":return"//yandex.com/all";case"tr":return"//yandex.com.tr/all";default:return"//yandex.ru/all"}},api:function(t){switch(t){case"com":return"http://api.yandex.com";default:return"http://api.yandex.ru"}},appmetrica:function(t){switch(t){case"ua":return"https://appmetrica.yandex.ua";case"by":return"https://appmetrica.yandex.by";case"kz":return"https://appmetrica.yandex.kz";case"com":return"https://appmetrica.yandex.com";case"tr":return"https://appmetrica.yandex.com.tr";default:return"https://appmetrica.yandex.ru"}},appsearch:function(){return"//appsearch.yandex.ru"},audience:function(t){switch(t){case"ua":return"https://audience.yandex.ua";case"by":return"https://audience.yandex.by";case"kz":return"https://audience.yandex.kz";case"com":return"https://audience.yandex.com";case"tr":return"https://audience.yandex.com.tr";default:return"https://audience.yandex.ru"}},auto:function(t){switch(t){case"ua":return"https://auto.yandex.ua";default:return"https://auto.yandex.ru"}},autoru:function(){return"https://auto.ru"},avia:function(t){switch(t){case"ua":return"https://avia.yandex.ua";default:return"https://avia.yandex.ru"}},aziada:function(){return"http://aziada2011.yandex.kz"},ba:function(t){switch(t){case"ua":return"https://ba.yandex.ua";case"by":return"https://ba.yandex.by";case"kz":return"https://ba.yandex.kz";case"com":return"https://ba.yandex.com";default:return"https://ba.yandex.ru"}},backapv:function(){return"http://backapv.yandex.ru"},balance:function(){return"https://balance.yandex.ru"},bar:function(t){switch(t){case"ua":return"http://bar.yandex.ua";case"by":return"http://bar.yandex.by";case"kz":return"http://bar.yandex.kz";case"tr":return"http://bar.yandex.com.tr";default:return"http://bar.yandex.ru"}},"bar-ie":function(t){switch(t){case"ua":return"http://bar.yandex.ua/ie";case"by":return"http://bar.yandex.by/ie";case"kz":return"http://bar.yandex.kz/ie";case"com":return"http://bar.yandex.com/ie";case"tr":return"http://bar.yandex.com.tr/ie";default:return"http://bar.yandex.ru/ie"}},"bar-ie9":function(t){switch(t){case"ua":return"http://bar.yandex.ua/ie";case"by":return"http://bar.yandex.by/ie";case"kz":return"http://bar.yandex.kz/ie";case"com":return"http://bar.yandex.com/ie";case"tr":return"http://bar.yandex.com.tr/ie";default:return"http://bar.yandex.ru/ie"}},bayan:function(){return"http://bayan.yandex.ru"},blogs:function(t){switch(t){case"ua":return"https://blogs.yandex.ua";case"by":return"https://blogs.yandex.by";case"kz":return"https://blogs.yandex.kz";default:return"https://blogs.yandex.ru"}},books:function(){return"http://books.yandex.ru"},browser:function(t){switch(t){case"ua":return"https://browser.yandex.ua";case"by":return"https://browser.yandex.by";case"kz":return"https://browser.yandex.kz";case"com":return"https://browser.yandex.com";case"tr":return"https://browser.yandex.com.tr";default:return"https://browser.yandex.ru"}},calendar:function(){return"https://calendar.yandex.ru"},catalogwdgt:function(){return"https://www.yandex.ru/catalog"},chrome:function(){return"http://chrome.yandex.ru"},city:function(t){switch(t){case"ua":return"https://gorod.yandex.ua";case"by":return"https://gorod.yandex.by";case"kz":return"https://gorod.yandex.kz";case"com":return"https://city.yandex.com";case"tr":return"https://city.yandex.com.tr";default:return"https://gorod.yandex.ru"}},cityday:function(){return"http://cityday.yandex.ru"},clickhouse:function(){return"https://clickhouse.yandex/"},collection:function(){return"https://collection.yandex.ru"},commander:function(t){switch(t){case"ua":case"by":case"kz":case"com":case"tr":default:return"https://yandex.ru/promo/commander/new?source=tableau_direct"}},company:function(t){switch(t){case"com":return"https://company.yandex.com";case"tr":return"https://company.yandex.com.tr";default:return"https://company.yandex.ru"}},contest:function(t){switch(t){case"com":return"https://contest.yandex.com";default:return"https://contest.yandex.ru"}},delivery:function(){return"https://delivery.yandex.ru"},desktop:function(){return"http://desktop.yandex.ru"},direct:function(t){switch(t){case"ua":return"https://direct.yandex.ua";case"by":return"https://direct.yandex.by";case"kz":return"https://direct.yandex.kz";case"com":return"https://direct.yandex.com";case"tr":return"https://direct.yandex.com.tr";default:return"https://direct.yandex.ru"}},"direct-api":function(t){switch(t){case"ua":case"by":case"kz":return"https://tech.yandex.ru/direct/?source=tableau_direct";case"com":case"tr":return"https://tech.yandex.com/direct/?source=tableau_direct";default:return"https://tech.yandex.ru/direct/?source=tableau_direct"}},"direct.market":function(){return"https://partner.market.yandex.ru/yandex.market/"},disk:function(t){switch(t){case"ua":return"https://disk.yandex.ua";case"by":return"https://disk.yandex.by";case"kz":return"https://disk.yandex.kz";case"com":return"https://disk.yandex.com";case"tr":return"https://disk.yandex.com.tr";case"az":return"https://disk.yandex.az";case"il":return"https://disk.yandex.co.il";case"am":return"https://disk.yandex.com.am";case"ge":return"https://disk.yandex.com.ge";case"ee":return"https://disk.yandex.ee";case"fr":return"https://disk.yandex.fr";case"kg":return"https://disk.yandex.kg";case"lt":return"https://disk.yandex.lt";case"lv":return"https://disk.yandex.lv";case"md":return"https://disk.yandex.md";case"tj":return"https://disk.yandex.tj";case"tm":return"https://disk.yandex.tm";case"uz":return"https://disk.yandex.uz";default:return"https://disk.yandex.ru"}},display:function(t){switch(t){case"tr":return"https://display.yandex.com.tr";default:return"https://display.yandex.ru"}},ege:function(t){switch(t){case"ua":return"https://zno.yandex.ua";default:return"https://ege.yandex.ru"}},expert:function(){return"http://expert.yandex.ru"},feedback:function(t){switch(t){case"ua":return"http://feedback.yandex.ua";case"by":return"http://feedback.yandex.by";case"kz":return"http://feedback.yandex.kz";case"com":return"http://feedback.yandex.com";case"tr":return"http://contact.yandex.com.tr";default:return"http://feedback.yandex.ru"}},feedback2:function(t){switch(t){case"ua":return"//feedback2.yandex.ua";case"by":return"//feedback2.yandex.by";case"kz":return"//feedback2.yandex.kz";case"com":return"//feedback2.yandex.com";case"tr":return"//contact2.yandex.com.tr";default:return"//feedback2.yandex.ru"}},ff:function(){return"http://ff.yandex.ru"},fotki:function(){return"https://fotki.yandex.ru"},fresh:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},fx:function(t){switch(t){case"ua":return"https://fx.yandex.ua";case"tr":return"https://fx.yandex.com.tr";default:return"https://fx.yandex.ru"}},games:function(){return"http://games.yandex.ru"},geocontext:function(){return"https://geocontext.yandex.ru"},goroda:function(){return"http://goroda.yandex.ru"},help:function(t){switch(t){case"ua":return"https://help.yandex.ua";case"com":return"https://help.yandex.com";case"tr":return"https://yardim.yandex.com.tr";default:return"https://help.yandex.ru"}},i:function(){return"http://i.yandex.ru"},ie:function(t){switch(t){case"ua":return"https://ie.yandex.ua";case"tr":return"https://ie.yandex.com.tr";default:return"https://ie.yandex.ru"}},images:function(t){switch(t){case"ua":return"https://yandex.ua/images/";case"by":return"https://yandex.by/images/";case"kz":return"https://yandex.kz/images/";case"com":return"https://yandex.com/images/";case"tr":return"https://yandex.com.tr/gorsel/";case"az":return"https://yandex.az/images/";case"il":return"https://yandex.co.il/images/";case"am":return"https://yandex.com.am/images/";case"ge":return"https://yandex.com.ge/images/";case"ee":return"https://yandex.ee/images/";case"fr":return"https://yandex.fr/images/";case"kg":return"https://yandex.kg/images/";case"lt":return"https://yandex.lt/images/";case"lv":return"https://yandex.lv/images/";case"md":return"https://yandex.md/images/";case"tj":return"https://yandex.tj/images/";case"tm":return"https://yandex.tm/images/";case"uz":return"https://yandex.uz/images/";default:return"https://yandex.ru/images/"}},"images-com":function(){return"https://yandex.com/images/"},interests:function(){return"http://interests.yandex.ru"},internet:function(t){switch(t){case"com":return"//internet.yandex.com";case"tr":return"//internet.yandex.com.tr";default:return"//internet.yandex.ru"}},kassa:function(){return"https://kassa.yandex.ru"},keyboard:function(){return"http://www.yandex.ru/index_engl_qwerty.html"},kraski:function(){return"http://kraski.yandex.ru"},kuda:function(){return"http://kuda.yandex.ru"},large:function(){return"http://large.yandex.ru"},legal:function(t){switch(t){case"ua":return"https://yandex.ua/legal";case"com":return"https://yandex.com/legal";case"tr":return"https://yandex.com.tr/legal";default:return"https://yandex.ru/legal"}},lenta:function(){return"http://lenta.yandex.ru"},literacy:function(){return"https://literacy.yandex.ru"},local:function(){return"http://local.yandex.ru"},lost:function(){return"http://lost.yandex.ru"},love:function(){return"http://love.yandex.ru"},mail:function(t){switch(t){case"ua":return"https://mail.yandex.ua";case"by":return"https://mail.yandex.by";case"kz":return"https://mail.yandex.kz";case"com":return"https://mail.yandex.com";case"tr":return"https://mail.yandex.com.tr";case"az":return"https://mail.yandex.az";case"il":return"https://mail.yandex.co.il";case"am":return"https://mail.yandex.com.am";case"ge":return"https://mail.yandex.com.ge";case"ee":return"https://mail.yandex.ee";case"fr":return"https://mail.yandex.fr";case"kg":return"https://mail.yandex.kg";case"lt":return"https://mail.yandex.lt";case"lv":return"https://mail.yandex.lv";case"md":return"https://mail.yandex.md";case"tj":return"https://mail.yandex.tj";case"tm":return"https://mail.yandex.tm";case"uz":return"https://mail.yandex.uz";default:return"https://mail.yandex.ru"}},maps:function(t){switch(t){case"ua":return"https://yandex.ua/maps/";case"com":return"https://yandex.com/maps/";case"tr":return"https://yandex.com.tr/harita/";case"az":return"https://yandex.az/maps/";case"il":return"https://yandex.co.il/maps/";case"am":return"https://yandex.com.am/maps/";case"ge":return"https://yandex.com.ge/maps/";case"ee":return"https://yandex.ee/maps/";case"fr":return"https://yandex.fr/maps/";case"kg":return"https://yandex.kg/maps/";case"lt":return"https://yandex.lt/maps/";case"lv":return"https://yandex.lv/maps/";case"md":return"https://yandex.md/maps/";case"tj":return"https://yandex.tj/maps/";case"tm":return"https://yandex.tm/maps/";case"uz":return"https://yandex.uz/maps/";default:return"https://yandex.ru/maps/"}},"maps-com":function(){return"https://yandex.com/maps/"},"maps-wiki":function(){return"http://nk.yandex.ru"},market:function(t){switch(t){case"ua":return"https://market.yandex.ua";case"by":return"https://market.yandex.by";case"kz":return"https://market.yandex.kz";default:return"https://market.yandex.ru"}},"market.advertising":function(t){switch(t){case"com":return"https://yandex.com/adv/products/classified/market";default:return"https://yandex.ru/adv/products/classified/market"}},master:function(){return"https://master.yandex.ru"},metrika:function(t){switch(t){case"ua":return"https://metrika.yandex.ua";case"by":return"https://metrika.yandex.by";case"kz":return"https://metrika.yandex.kz";case"com":return"https://metrica.yandex.com";case"tr":return"https://metrica.yandex.com.tr";case"az":return"https://metrika.yandex.az";case"il":return"https://metrika.yandex.co.il";case"am":return"https://metrika.yandex.com.am";case"ge":return"https://metrika.yandex.com.ge";case"ee":return"https://metrika.yandex.ee";case"fr":return"https://metrika.yandex.fr";case"kg":return"https://metrika.yandex.kg";case"lt":return"https://metrika.yandex.lt";case"lv":return"https://metrika.yandex.lv";case"md":return"https://metrika.yandex.md";case"tj":return"https://metrika.yandex.tj";case"tm":return"https://metrika.yandex.tm";case"uz":return"https://metrika.yandex.uz";default:return"https://metrika.yandex.ru"}},metro:function(){return"https://metro.yandex.ru"},mobile:function(t){switch(t){case"ua":return"https://mobile.yandex.ua";case"tr":return"https://mobil.yandex.com.tr";default:return"https://mobile.yandex.ru"}},moikrug:function(){return"http://moikrug.ru"},money:function(){return"https://money.yandex.ru"},museums:function(){return"http://18.yandex.ru"},music:function(t){switch(t){case"ua":return"https://music.yandex.ua";case"by":return"https://music.yandex.by";case"kz":return"https://music.yandex.kz";default:return"https://music.yandex.ru"}},"music-partner":function(){return"http://music-partner.yandex.ru"},nahodki:function(t){switch(t){case"ua":return"https://nahodki.yandex.ua";case"kz":return"https://nahodki.yandex.kz";default:return"https://nahodki.yandex.ru"}},nano:function(){return"http://nano.yandex.ru"},news:function(t){switch(t){case"ua":return"https://news.yandex.ua";case"by":return"https://news.yandex.by";case"kz":return"https://news.yandex.kz";case"tr":return"https://haber.yandex.com.tr";case"az":return"https://news.yandex.az";case"il":return"https://news.yandex.co.il";case"am":return"https://news.yandex.com.am";case"ge":return"https://news.yandex.com.ge";case"ee":return"https://news.yandex.ee";case"fr":return"https://news.yandex.fr";case"kg":return"https://news.yandex.kg";case"lt":return"https://news.yandex.lt";case"lv":return"https://news.yandex.lv";case"md":return"https://news.yandex.md";case"tj":return"https://news.yandex.tj";case"tm":return"https://news.yandex.tm";case"uz":return"https://news.yandex.uz";default:return"https://news.yandex.ru"}},"news-com":function(){return"https://news.yandex.com"},notifications:function(t){switch(t){case"ua":return"https://notifications.yandex.ua";case"by":return"https://notifications.yandex.by";case"kz":return"https://notifications.yandex.kz";case"com":return"https://notifications.yandex.com";case"tr":return"https://notifications.yandex.com.tr";default:return"https://notifications.yandex.ru"}},oauth:function(t){switch(t){case"com":return"https://oauth.yandex.com";default:return"https://oauth.yandex.ru"}},online:function(){return"http://online.yandex.ru"},openid:function(){return"http://openid.yandex.ru"},opera:function(t){switch(t){case"tr":return"https://opera.yandex.com.tr";default:return"https://opera.yandex.ru"}},opinion:function(){return"http://opinion.yandex.ru"},partners:function(t){switch(t){case"ua":return"http://partner.yandex.ua";case"by":return"http://partner.yandex.by";case"kz":return"http://partner.yandex.kz";case"com":return"http://partner.yandex.com";default:return"http://partner.yandex.ru"}},"partners-en":function(t){switch(t){case"ua":return"http://partner.yandex.ua";case"by":return"http://partner.yandex.by";case"kz":return"http://partner.yandex.kz";case"com":return"http://partner.yandex.com";default:return"http://partner.yandex.ru"}},partnersearch:function(){return"http://yandex.ru"},pass:function(t){switch(t){case"ua":return"https://pass.yandex.ua";case"by":return"https://pass.yandex.by";case"kz":return"https://pass.yandex.kz";case"com":return"https://pass.yandex.com";case"tr":return"https://pass.yandex.com.tr";case"az":return"https://pass.yandex.az";case"il":return"https://pass.yandex.co.il";case"am":return"https://pass.yandex.com.am";case"ge":return"https://pass.yandex.com.ge";case"ee":return"https://pass.yandex.ee";case"fr":return"https://pass.yandex.fr";case"kg":return"https://pass.yandex.kg";case"lt":return"https://pass.yandex.lt";case"lv":return"https://pass.yandex.lv";case"md":return"https://pass.yandex.md";case"tj":return"https://pass.yandex.tj";case"tm":return"https://pass.yandex.tm";case"uz":return"https://pass.yandex.uz";default:return"https://pass.yandex.ru"}},passport:function(t){switch(t){case"ua":return"https://passport.yandex.ua";case"by":return"https://passport.yandex.by";case"kz":return"https://passport.yandex.kz";case"com":return"https://passport.yandex.com";case"tr":return"https://passport.yandex.com.tr";case"az":return"https://passport.yandex.az";case"il":return"https://passport.yandex.co.il";case"am":return"https://passport.yandex.com.am";case"ge":return"https://passport.yandex.com.ge";case"ee":return"https://passport.yandex.ee";case"fr":return"https://passport.yandex.fr";case"kg":return"https://passport.yandex.kg";case"lt":return"https://passport.yandex.lt";case"lv":return"https://passport.yandex.lv";case"md":return"https://passport.yandex.md";case"tj":return"https://passport.yandex.tj";case"tm":return"https://passport.yandex.tm";case"uz":return"https://passport.yandex.uz";default:return"https://passport.yandex.ru"}},pdd:function(){return"https://pdd.yandex.ru"},peoplesearch:function(t){switch(t){case"ua":return"http://people.yandex.ua";default:return"http://people.yandex.ru"}},perevod:function(){return"https://perevod.yandex.ru"},plus:function(){return"https://plus.yandex.ru"},probki:function(t){switch(t){case"ua":return"http://probki.yandex.ua";default:return"http://probki.yandex.ru"}},pulse:function(t){switch(t){case"ua":return"http://blogs.yandex.ua/pulse";case"by":return"http://blogs.yandex.by/pulse";case"kz":return"http://blogs.yandex.kz/pulse";default:return"http://blogs.yandex.ru/pulse"}},punto:function(){return"https://punto.yandex.ru"},pvo:function(){return"http://ask.yandex.ru"},rabota:function(t){switch(t){case"ua":return"https://rabota.yandex.ua";case"by":return"https://rabota.yandex.by";case"kz":return"https://rabota.yandex.kz";default:return"https://rabota.yandex.ru"}},radar:function(t){switch(t){case"ru":return"https://radar.metrika.yandex?lang=ru";case"com":return"https://radar.metrika.yandex?lang=en";case"tr":return"https://radar.metrika.yandex?lang=tr";default:return"https://radar.metrika.yandex"}},rasp:function(t){switch(t){case"ua":return"https://rasp.yandex.ua";case"by":return"https://rasp.yandex.by";case"kz":return"https://rasp.yandex.kz";case"tr":return"https://seferler.yandex.com.tr";default:return"https://rasp.yandex.ru"}},realty:function(t){switch(t){case"ua":return"https://realty.yandex.ua";case"by":return"https://realty.yandex.by";case"kz":return"https://realty.yandex.kz";default:return"https://realty.yandex.ru"}},referats:function(){return"https://referats.yandex.ru"},review:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";default:return"https://yandex.ru"}},rk:function(){return"http://rk.yandex.ru"},root:function(){return"https://root.yandex.ru"},school:function(){return"http://school.yandex.ru"},search:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},serp:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},server:function(){return"http://company.yandex.ru/technology/server/"},shtrafi:function(){return"https://money.yandex.net/debts"},site:function(t){switch(t){case"ua":return"https://site.yandex.ua";case"tr":return"https://ozel.yandex.com.tr";default:return"https://site.yandex.ru"}},slovari:function(t){switch(t){case"ua":return"https://slovari.yandex.ua";case"by":return"https://slovari.yandex.by";case"kz":return"https://slovari.yandex.kz";default:return"https://slovari.yandex.ru"}},so:function(){return"http://so.yandex.ru"},social:function(t){switch(t){case"ua":return"https://social.yandex.ua";case"by":return"https://social.yandex.by";case"kz":return"https://social.yandex.kz";case"com":return"https://social.yandex.ru";case"tr":return"https://social.yandex.com.tr";default:return"https://social.yandex.ru"}},soft:function(t){switch(t){case"ua":return"https://soft.yandex.ua";case"tr":return"https://soft.yandex.com.tr";default:return"https://soft.yandex.ru"}},sport:function(t){switch(t){case"ua":return"http://sport.yandex.ua";case"by":return"http://sport.yandex.by";case"kz":return"http://sport.yandex.kz";case"tr":return"http://spor.yandex.com.tr";default:return"http://sport.yandex.ru"}},sprav:function(t){switch(t){case"ua":return"https://yandex.ru/sprav";case"by":return"https://sprav.yandex.by";case"kz":return"https://sprav.yandex.kz";case"com":return"https://yandex.com/sprav";case"tr":return"https://rehber.yandex.com.tr";default:return"https://sprav.yandex.ru"}},start:function(t){switch(t){case"ua":return"https://help.yandex.ua/start/";case"com":return"https://help.yandex.com/start/";case"tr":return"https://yardim.yandex.com.tr/start";default:return"https://help.yandex.ru/start/"}},stat:function(t){switch(t){case"ua":return"https://stat.yandex.ua";case"by":return"https://stat.yandex.by";default:return"https://stat.yandex.ru"}},subs:function(){return"https://subs.yandex.ru"},support:function(t){switch(t){case"ua":return"https://yandex.ua/support/";case"by":return"https://yandex.by/support/";case"kz":return"https://yandex.kz/support/";case"com":return"https://yandex.com/support/";case"tr":return"https://yandex.com.tr/support/";default:return"https://yandex.ru/support/"}},surveys:function(){return"https://surveys.yandex.ru"},taxi:function(){return"https://taxi.yandex.ru"},telephony:function(){return"https://telephony.yandex.ru/"},terms:function(){return"http://terms.yandex.ru"},tests:function(){return"http://tests.yandex.ru"},ticket:function(){return"http://ticket.yandex.ru"},time:function(t){switch(t){case"ua":return"https://time.yandex.ua";case"by":return"https://time.yandex.by";case"kz":return"https://time.yandex.kz";case"com":return"https://time.yandex.com";case"tr":return"https://saat.yandex.com.tr";default:return"https://time.yandex.ru"}},toloka:function(t){switch(t){case"com":return"https://toloka.yandex.com";case"tr":return"https://toloka.yandex.com.tr";default:return"https://toloka.yandex.ru"}},toster:function(){return"http://toster.yandex.ru"},translate:function(t){switch(t){case"ua":return"https://translate.yandex.ua";case"by":return"https://translate.yandex.by";case"kz":return"https://translate.yandex.kz";case"com":return"https://translate.yandex.com";case"tr":return"https://ceviri.yandex.com.tr";case"az":return"https://translate.yandex.az";case"il":return"https://translate.yandex.co.il";case"am":return"https://translate.yandex.com.am";case"ge":return"https://translate.yandex.com.ge";case"ee":return"https://translate.yandex.ee";case"fr":return"https://translate.yandex.fr";case"kg":return"https://translate.yandex.kg";case"lt":return"https://translate.yandex.lt";case"lv":return"https://translate.yandex.lv";case"md":return"https://translate.yandex.md";case"tj":return"https://translate.yandex.tj";case"tm":return"https://translate.yandex.tm";case"uz":return"https://translate.yandex.uz";default:return"https://translate.yandex.ru"}},tune:function(t){switch(t){case"ua":return"https://yandex.ua/tune";case"by":return"https://yandex.by/tune";case"kz":return"https://yandex.kz/tune";case"com":return"https://yandex.com/tune";case"tr":return"https://yandex.com.tr/tune";case"uz":return"https://yandex.uz/tune";default:return"https://yandex.ru/tune"}},tv:function(t){switch(t){case"ua":return"https://tv.yandex.ua";case"by":return"https://tv.yandex.by";case"kz":return"https://tv.yandex.kz";default:return"https://tv.yandex.ru"}},uslugi:function(){return"http://uslugi.yandex.ru"},video:function(t){switch(t){case"ua":return"https://yandex.ua/video/";case"by":return"https://yandex.by/video/";case"kz":return"https://yandex.kz/video/";case"com":return"https://yandex.com/video/";case"tr":return"https://yandex.com.tr/video/";case"az":return"https://yandex.az/video/";case"il":return"https://yandex.co.il/video/";case"am":return"https://yandex.com.am/video/";case"ge":return"https://yandex.com.ge/video/";case"ee":return"https://yandex.ee/video/";case"fr":return"https://yandex.fr/video/";case"kg":return"https://yandex.kg/video/";case"lt":return"https://yandex.lt/video/";case"lv":return"https://yandex.lv/video/";case"md":return"https://yandex.md/video/";case"tj":return"https://yandex.tj/video/";case"tm":return"https://yandex.tm/video/";case"uz":return"https://yandex.uz/video/";default:return"https://yandex.ru/video/"}},"video-com":function(){return"https://yandex.com/video/"},vno:function(){return"https://zno.yandex.ua"},wdgt:function(t){switch(t){case"ua":return"https://wdgt.yandex.ua";case"by":return"https://wdgt.yandex.by";case"kz":return"https://wdgt.yandex.kz";case"tr":return"https://wdgt.yandex.com.tr";default:return"https://wdgt.yandex.ru"}},weather:function(t){switch(t){case"ua":return"https://pogoda.yandex.ua";case"by":return"https://pogoda.yandex.by";case"kz":return"https://pogoda.yandex.kz";case"tr":return"https://hava.yandex.com.tr";case"az":return"https://pogoda.yandex.az";case"il":return"https://pogoda.yandex.co.il";case"am":return"https://pogoda.yandex.com.am";case"ge":return"https://pogoda.yandex.com.ge";case"ee":return"https://pogoda.yandex.ee";case"fr":return"https://pogoda.yandex.fr";case"kg":return"https://pogoda.yandex.kg";case"lt":return"https://pogoda.yandex.lt";case"lv":return"https://pogoda.yandex.lv";case"md":return"https://pogoda.yandex.md";case"tj":return"https://pogoda.yandex.tj";case"tm":return"https://pogoda.yandex.tm";case"uz":return"https://pogoda.yandex.uz";default:return"https://pogoda.yandex.ru"}},webmaster:function(t){switch(t){case"ua":return"https://webmaster.yandex.ua";case"com":return"https://webmaster.yandex.com";case"tr":return"https://webmaster.yandex.com.tr";default:return"https://webmaster.yandex.ru"}},"webmaster-api":function(t){switch(t){case"com":case"tr":return"https://tech.yandex.com/webmaster/";default:return"https://tech.yandex.ru/webmaster/"}},widgets:function(t){switch(t){case"ua":return"https://widgets.yandex.ua";case"by":return"https://widgets.yandex.by";case"kz":return"https://widgets.yandex.kz";case"tr":return"https://widgets.yandex.com.tr";default:return"https://widgets.yandex.ru"}},wordstat:function(){return"https://wordstat.yandex.ru"},wow:function(){return"http://my.ya.ru"},www:function(t){switch(t){case"ua":return"https://yandex.ua";case"by":return"https://yandex.by";case"kz":return"https://yandex.kz";case"com":return"https://yandex.com";case"tr":return"https://yandex.com.tr";case"az":return"https://yandex.az";case"il":return"https://yandex.co.il";case"am":return"https://yandex.com.am";case"ge":return"https://yandex.com.ge";case"ee":return"https://yandex.ee";case"fr":return"https://yandex.fr";case"kg":return"https://yandex.kg";case"lt":return"https://yandex.lt";case"lv":return"https://yandex.lv";case"md":return"https://yandex.md";case"tj":return"https://yandex.tj";case"tm":return"https://yandex.tm";case"uz":return"https://yandex.uz";default:return"https://yandex.ru"}},xmlsearch:function(t){switch(t){case"ua":return"https://xml.yandex.ua";case"by":return"https://xml.yandex.by";case"kz":return"https://xml.yandex.kz";case"com":return"https://xml.yandex.com";case"tr":return"https://xml.yandex.com.tr";default:return"https://xml.yandex.ru"}},yaca:function(t){switch(t){case"ua":return"https://yaca.yandex.ua";case"by":return"https://yaca.yandex.by";default:return"https://yaca.yandex.ru"}},yamb:function(){return"https://yamb.yandex.ru"},zakladki:function(){return"http://zakladki.yandex.ru"},znatoki:function(){return"https://yandex.ru/znatoki/"}}}),i("i-jquery").def()(function(){return M({block:"b-page",elem:"js",url:this.ctx.url||"https://yastatic.net/jquery/"+this.mods.version+"/jquery.min.js"})}),i("i-jquery").replace()(function(){var t=this.ctx,e=t.development?".js":".min.js";return{block:"b-page",elem:"js",attrs:t.attrs,url:t.url||"https://yastatic.net/jquery/"+this.mods.version+"/jquery"+e}}),i("b-page").elem("js")(p()(!1),u()("script"),h()(function(){return{src:this.ctx.url,nonce:this.ctx.content?this.ctx.nonce||this["i-global"].nonce:null}})),i("b-page").elem("js").match(function(){return this["i-session"].isAntiadblock}).attrs()(function(){var t=this.ctx.attrs=this.ctx.attrs||{};return delete t.crossorigin,t.type="text/javascript",E()}),i("i-jquery").mod("version","default").def()(function(){return E({"mods.version":"2.2.3"})}),i("link").mod("pseudo","yes")(m().match(function(){return!this.mods.inner})(function(){return{elem:"inner",content:E()}})),i("header2")(h()(function(){return{role:"banner"}}),e(function(){return void 0===this.ctx.content}).content()(function(){var t=this.ctx;return[{elem:"main",content:[t.logo,{elem:"left",content:t.left},t.right&&{elem:"right",content:t.right}]},t.under&&{elem:"under",content:t.under}]}),s("logo").content()(function(){return this.ctx.serviceLogo?[].concat(E(),{block:"icon",mix:[{block:"header2",elem:"logo"},{block:"logo",mods:{service:"yes"}}]}):E()})),i("header2").js()(!0),i("header2").elem("action")(u()("button"),h()(function(){var t=this.ctx.title||BEM.I18N("header2__action","action-"+this.elemMods.type+"-title"),e={tabindex:0,title:t,"aria-label":t,"aria-pressed":"false"};return(this.ctx.js||{}).panel&&(e["aria-expanded"]="false",e["aria-haspopup"]="true"),e}),m()(function(){return{block:"icon",mods:{action:this.elemMods.type}}})),i("header2").elem("action").elemMod("type","settings")(u()("a"),d()({notice:!0,panel:"settings"}),h()(function(){return{tabindex:0,title:this._title,"aria-label":this._title,"aria-pressed":!1,href:this.ctx.url}}),c()(function(){return this.ctx.counter={cid:72882,path:"head/settings",url:this.ctx.url},E()}),m()(""),e(function(){return!this._title}).match(function(){return this.ctx.title}).def()(function(){return E({_title:this.ctx.title})})),i("header2").elem("gap").tag()("span"),i("header2").mod("panels","yes").js()(!0),i("logo").tag()("span"),i("logo").def()(function(){var t=0===this.mods.name.indexOf("ys");return this.ctx.counter={cid:t?72931:72881,path:t?"head/logo/yandex":"head/logo/news"},t&&(this.ctx.url=this["i-services"].serviceUrl("www")),w("urlParams"),E()}),i("logo").mod("type","link")(u()("a"),h()(function(){var t=this.ctx;return{href:void 0===t.url?this["i-services"].serviceUrl("www"):t.url,title:t.title,tabindex:t.tabindex}}),m()(function(){return void 0===this.ctx.text?BEM.I18N("logo_type_link","yandex"):{html:this.xmlEscape(this.ctx.text)}})),i("menu")(o("tabindex")(void 0),c()(function(){var t=this.ctx,e=void 0!==t.tabindex?t.tabindex:w("tabindex");return t.val=void 0!==t.val?[].concat(t.val):[],void 0===this.mods.view&&(this.mods.view="classic"),-1!==["radio","radiocheck"].indexOf(this.mods.type)&&(t.val=t.val.slice(0,1)),E({_tabindex:e})}),d()(function(){return{_tabindex:null!==this._tabindex&&this.mods.disabled?this._tabindex:void 0}}),h()(function(){return{tabindex:this.mods.disabled?void 0:null===this._tabindex?void 0:this._tabindex,"aria-disabled":!!this.mods.disabled&&"true"}}),e(function(){return!this.ctx.content}).content()(function(){return(this.ctx.items||[]).map(function t(e){if(!1!==e&&null!==e&&void 0!==e)return this.isSimple(e)&&(e={text:e}),e.items?(e.elem="group",e.content||(e.content=e.items.map(t,this))):(e.elem="item",-1!==["check","radio","radiocheck"].indexOf(this.mods.type)?e.elemMods=this.extend({type:"option",checked:-1!==this.ctx.val.indexOf(e.val)?"yes":void 0},e.elemMods):"navigation"===this.mods.type&&(e.elemMods=this.extend({type:"link"},e.elemMods))),e},this)})),i("menu").elem("item")(e(function(){return this._inMenuTypeNavigation}).wrap()(function(){return{elem:"list-item",content:this.ctx}}),d()(function(){return{val:this.ctx.val}}),h()(function(){return{title:this.ctx.title,"aria-disabled":!!this.elemMods.disabled&&"true","aria-selected":!!this.elemMods.checked&&"true"}}),e(function(){return!this.ctx.content}).content()(function(){return[this.ctx.icon&&{elem:"icon",icon:this.ctx.icon},void 0!==this.ctx.text&&{elem:"text",content:{html:this.isSimple(this.ctx.text)?this.xmlEscape(this.ctx.text):this.reapply(this.ctx.text)}}].filter(Boolean)})),i("menu").elem("list-item").tag()("li"),i("button2").mod("type","submit").attrs()(function(){return this.extend(E(),{type:"submit"})}),i("i-ua").content()(function(){var t=[";(function(d,e,p){","e=d.documentElement;",'p="placeholder";','e.className+=" i-ua_"+p+(p in d.createElement("input")?"_yes":"_no")',"})(document);"].join("");return[].concat(E()||[],{html:t})}),i("input").elem("hint")(u()("label"),h()(function(){return{id:this._hintId,for:this._inputId,"aria-hidden":"true"}}),c()(function(){return this._iconLeft&&(this.elemMods.lpad="yes"),this._iconRight&&(this.elemMods.rpad="yes"),this._value||0===this._value||(this.elemMods.visibility="visible"),E()})),i("input").elem("control").match(function(){return this._placeholder}).wrap()(function(){return[{elem:"hint",content:this._placeholder},this.ctx]}),i("select2")(c()(function(){var t=this.ctx,e=this.mods,n=[];return t.flattenItems=[],void 0===e.view&&(e.view="classic"),t.items.forEach(function e(i){i.items?i.items.forEach(e):(t.flattenItems.push(i),n.push(i.val))},this),t.val=void 0===t.val?[]:[].concat(t.val).filter(function(t){var e=-1!==n.indexOf(t);return e}),-1!==["radio","radiocheck"].indexOf(e.type)&&(t.val.length>1?t.val=t.val.slice(-1):t.val&&t.val.length||"radio"!==e.type||(t.val=t.flattenItems[0]&&[t.flattenItems[0].val]||[])),void 0===t.text&&(t.text="—"),E(t)}),u()("span"),d()(!0),e(function(){return void 0===this.ctx.content}).content()(function(){var t=this.ctx,e=this.mods,n=t.items,i=t.flattenItems,s=Boolean(t.val.length),o=s&&-1!==["check","radiocheck"].indexOf(e.type),r="fixed"!==e.width&&s?i.reduce(function(e,n){return-1!==t.val.indexOf(n.val)&&e.push(n.checkedText||n.text),e},[]).join(", "):t.text;if(!s&&"radio"===e.type&&n[0]){n[0]=function t(e){e.items?e.items=[t(e.items[0])].concat(e.items.slice(1)):(e.elemMods=Object(e.elemMods),e.elemMods.checked="yes");return e}(n[0]),r=i[0].text}return[{elem:"button",multiselectable:"check"===e.type,required:t.required,items:i,val:t.val,button:this.util.merge({mods:{size:e.size,theme:e.theme,view:e.view,tone:e.tone,disabled:e.disabled,checked:o?"yes":void 0},text:r},t.button)},t.control&&this.util.merge({elem:"control",elemMods:{disabled:e.disabled},multiple:"radio"!==e.type,required:t.required,name:t.name,items:i,val:t.val},t.control),{elem:"popup",popup:this.extend({mods:{view:e.view,tone:e.tone}},t.popup),itemIconHidden:Boolean(e["item-icon-hidden"]),menu:this.util.merge({mods:{size:e.size,type:e.type,view:e.view,tone:e.tone},val:t.val,items:n},t.menu)}].filter(Boolean)})),i("select2").elem("button").mode("iconMods")(function(){return{type:"arrow",direction:"bottom"}},r("view","default")(function(){return{glyph:"carets-v"}})),i("select2").elem("button").replace()(function(){var t,e=this.generateId(),n=this.ctx,i=n.button||{};return this.isSimple(i.text)&&(i.text={content:{html:this.xmlEscape(i.text)}}),n.items.some(function(e){return!!(n.val.indexOf(e.val)>-1&&e.icon)&&(t=e.icon,!0)}),this.util.mergeBemjson({block:"button2",mods:{width:"max"},attrs:{role:"listbox","aria-labelledby":e,"aria-expanded":"false","aria-multiselectable":this.ctx.multiselectable?"true":void 0},iconLeft:t,iconRight:{mods:w("iconMods"),mix:{block:"select2",elem:"arrow"}},mix:{block:"select2",elem:"button",elemMods:this.elemMods,js:this.js},text:{attrs:{id:e}}},i)}),i("icon").match(function(){return void 0!==this.mods.glyph}).def()(function(){return this.mods["has-glyph"]="yes",E()}),i("icon").mod("glyph","carets-v").content()({html:'<svg focusable="false" xmlns="http://www.w3.org/2000/svg" width="0" height="0" viewBox="0 0 8 14"><path d="M4 0l4 6H0l4-6zm0 14l4-6H0l4 6z"/></svg>'}),i("select2").elem("popup").replace()(function(){return this.util.mergeBemjson({block:"popup2",mods:{theme:"normal",target:"anchor",hiding:"yes",autoclosable:"yes"},mix:{block:"select2",elem:"popup",elemMods:this.elemMods,js:w("js")},mainOffset:"default"===this.mods.view?2:void 0,directions:["bottom-left","bottom-right","top-left","top-right"],content:{block:"select2",elem:"menu",itemIconHidden:this.ctx.itemIconHidden,menu:this.ctx.menu}},this.ctx.popup)}),i("select2").elem("menu").replace()(function(){var t=this.extend(this.elemMods,{"item-icon-hidden":this.ctx.itemIconHidden?"yes":void 0});return this.util.mergeBemjson({block:"menu",mix:{block:"select2",elem:"menu",elemMods:t,js:w("js")},mods:{theme:"normal",width:"max"},val:this.ctx.val,tabindex:null},this.ctx.menu)}),i("menu").mod("type","radio")(o("tabindex")("0"),h()(function(){return this.extend(E(),{role:"listbox"})})),i("select2").mod("text","vary")(d()(function(){var t={};return(this.ctx.flattenItems||[]).forEach(function(e){t[e.val]=e.checkedText}),this.extend(E(),{text:this.ctx.text,checkedTexts:t})})),i("search2")(u()("form"),h()(function(){return{role:"search",action:this.ctx.url,"aria-label":this.ctx.label}}),e(function(){return!this.ctx.content})(m()(function(){return[{elem:"input",content:this.ctx.input},{elem:"button",content:this.ctx.button},this.ctx.hidden&&Object.keys(this.ctx.hidden).map(function(t){return{elem:"hidden",attrs:{name:t,value:this.ctx.hidden[t]}}},this)]}))),i("search2").def()(function(){return w("urlParams"),E()}),i("suggest2").elem("items").tag()("ul"),i("suggest2-item")(u()("li"),d()(!0),s("text")(u()(function(){return this.ctx.tag||"span"}),m()(function(){return this.ctx.text?Array.isArray(this.ctx.text)?this.ctx.text.map(function(t){return"string"==typeof t?t?{html:this.xmlEscape(t)}:"":t},this):this.ctx.text?{html:this.xmlEscape(this.ctx.text)}:"":Array.isArray(this.ctx.content)?this.ctx.content.map(function(t){return"string"==typeof t?t?{html:this.xmlEscape(t)}:"":t},this):this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:""})),s("fact").tag()("span")),i("suggest2-item").elem("icon")(c()(function(){var t=BEM.blocks&&BEM.blocks["suggest2-detect"]&&BEM.blocks["suggest2-detect"],e=t&&t.isSupportInlineSVG()?"svg":"png";this.ctx.autoType&&(this.ctx[e]="//yastatic.net/suggest-flag-icons/icon."+this.ctx.autoType+e);var n=this.ctx.png&&this.ctx.svg?this.ctx[e]:this.ctx.svg||this.ctx.png;return n&&(this.ctx.attrs=this.extend(Object(this.ctx.attrs),{style:'background-image:url("'+n+'");'+(Object(this.ctx.attrs).style||"")})),E()}),u()("span")),i("suggest2-item").elem("icon").match(function(){return this.elemMods.weather}).def()(function(){var t=this.elemMods.weather.replace("-","minus-").replace("+","plus-").replace(/_/g,"-");return E({"ctx.autoType":"weather."+t+".","elemMods.weather":t})}),i("suggest2-item").elem("icon").match(function(){return this.elemMods.traffic}).def()(function(){return E({"ctx.autoType":"traffic."+this.elemMods.traffic+"."})}),i("suggest2").mod("theme","normal").elem("content").tag()("ul"),i("suggest2-item").elem("highlight")(u()("b"),p()(!1),m()(function(){return this.xmlEscape(this.ctx.content)})),i("suggest2").elem("title").content()(function(){return[{elem:"a11y",content:BEM.I18N("suggest2","group")+": "},this.ctx.content]}),i("suggest2").elem("a11y").tag()("span"),i("suggest2-item").elem("fact")(e(function(){return this.ctx.color}).def()(function(){return this.ctx.attrs=this.extend(Object(this.ctx.attrs),{style:";color:"+this.ctx.color+";"+(Object(this.ctx.attrs).style||"")}),E()}),m()(function(){return[{block:"suggest2",elem:"a11y",content:BEM.I18N("suggest2-item","quick-answer")+": "},this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:""]})),i("suggest2-item").elem("bullet")(u()("span"),h()({"aria-hidden":!0})),i("suggest2-item").mod("type","nav").elem("fact").content()(function(){return this.xmlEscape(this.ctx.content)}),i("suggest2-item").mod("interact","link")(m()(function(){return{elem:"link",url:this.ctx.url,target:this.ctx.target||"_blank",content:this.ctx.content}}),e(function(){return"nav"===this.mods.type||"icon"===this.mods.type}).elem("text").mix()({elemMods:{type:"url"}})),i("suggest2-item").elem("link")(u()("a"),h()(function(){return{href:this.ctx.url,target:this.ctx.target}})),i("suggest2-item").elem("text").elemMod("type","title-url").tag()("div"),i("suggest2-item").elem("text").elemMod("type","green-url").tag()("div"),i("suggest2-item")(s("thumb")(e(function(){return!this.ctx.content})(m()(function(){return[{elem:"thumb-badge",attrs:{style:"background:"+(this.ctx.badgeColor||"#04b;color:#fff;")},content:this.ctx.badge}]}),h()(function(){return{style:(this.ctx.color?"background-color:"+this.ctx.color+";":"")+(this.ctx.src?"background-image:url("+this.ctx.src+");":"")}}),c()(function(){return E({"elemMods.badge":Boolean(this.ctx.badge)})})))),i("user2")(c()(function(){var t=this.ctx,e="undefined"!=typeof window?window.location:{},n=this["i-services"],i=t.accountAttributes||{},s={uid:!!t.hasOwnProperty("uid")&&t.uid,yu:t.yu,plus:i.has_plus||i.plus_available&&!1,retpath:t.hasOwnProperty("retpath")?t.retpath:e.href||"",name:t.hasOwnProperty("name")?t.name:t.uid||!1,maxLength:t.maxLength,subname:t.subname,avatarId:t.hasOwnProperty("avatarId")?t.avatarId:"",passportHost:t.hasOwnProperty("passportHost")?t.passportHost:n.serviceUrl("passport"),userAccount:t.userAccount||{},avatarHost:t.avatarHost,passportLinkParams:t.passportLinkParams||""};s.retpathEncoded=encodeURIComponent(s.retpath);var o=[s.passportHost,"/passport?mode=embeddedauth","&action=logout","&yu="+s.yu,"&uid="+s.uid,"&retpath="+s.retpathEncoded].join("");return E({_user2Mods:this.mods,_params:s,_exitUrl:o,_unreadCount:this.ctx.unreadCount||0})}),d()(function(){var t=this.ctx.js||{};return this.extend({_uid:this._params.uid,_plus:this._params.plus,_retpath:this._params.retpath,_yu:this._params.yu,_passportHost:this._params.passportHost,_avatarHost:this._params.avatarHost,accountsUrl:this["i-services"].serviceUrl("pass")+"/accounts"},t)}),e(function(){return void 0===this.ctx.content}).content()(function(){return w("default-content")}),m()(function(){return this.ctx.uid?E():{block:"user2",elem:"enter"}}),o("default-content")(function(){var t=this.ctx.accounts||[],e=this.mods.provider||"",n=this.ctx.accountAttributes||{},i=!1===this.ctx.yaplus?this.ctx.hat:void 0,s=i&&(i.mods||{})["fetch-data"],o=n.has_plus||n.plus_available&&!1;this.ctx.mods&&this.ctx.mods["has-logout"]&&(t=t.map(function(t){return t.mods=t.mods||{},t.mods["has-logout"]="yes",t}));var r={action:"plus",elemMods:{hidden:i&&!s&&"yes"},plus:this.ctx.yaplus,plusLinkParams:this.ctx.plusLinkParams},a=this.ctx.actionsMenu?[].concat(this.ctx.actionsMenu).filter(function(t){return"plus"===t.action?(r=this.extend(r,t),!1):t},this).filter(Boolean):[{action:"mail"}];return[{elem:"current-account",plus:o,name:this._params.name,maxLength:this._params.maxLength,unreadCount:this._unreadCount,avatarId:this._params.avatarId,avatarHost:this._params.avatarHost,provider:e},{elem:"a11y-exit"},this.extend({elem:"popup",content:{block:"user2",elem:"menu",hat:i,plus:o,addAccount:this.ctx.addAccount,actionsMenu:void 0===this.ctx.yaplus?a:a.concat(r),multiAuthMenu:this.ctx.multiAuthMenu||[{action:"passport"},{action:"exit"}],settingsUrl:this.ctx.settingsUrl,helpUrl:this.ctx.helpUrl,accounts:t,avatarHost:this._params.avatarHost,provider:e}},this.ctx.popup)]})),i("user2").content()(function(){return this._params.retpathEncoded+="&origin=news_welcome1",E()}),i("i-ua").content()(function(){return[].concat(E(),{html:';document.documentElement.className+=" i-ua_orient_"+(window.innerWidth>window.innerHeight?"landscape":"portrait");'})}),i("user2").elem("enter").replace()(function(){var t=BEM.I18N("user2","enter"),e=this._params,n=e.passportHost+"/auth?retpath="+e.retpathEncoded;return""!==e.passportLinkParams&&(n+="&"+e.passportLinkParams),[{block:"button2",mods:{size:"m",theme:"pseudo",type:"link"},mix:{block:"user2",elem:"enter"},url:n,tabindex:"-1",iconLeft:{mix:{block:"user2",elem:"enter-icon"}},title:t,text:t}]}),i("user2").elem("current-account").replace()(function(){var t=!1!==this.ctx.avatarId&&"yes",e=this._params.passportHost;return""!==this._params.passportLinkParams&&(e+="?"+this._params.passportLinkParams),this.util.mergeBemjson({block:"user-account",mix:{block:"user2",elem:"current-account",elemMods:this.elemMods},mods:{"has-ticker":t,"has-accent-letter":"yes",provider:this.ctx.provider},name:this.ctx.name,maxLength:this.ctx.maxLength,subname:this.ctx.subname,url:e,ticker:t?{count:this.ctx.unreadCount}:void 0,pic:!1===this.ctx.avatarId?void 0:{avatarId:this.ctx.avatarId,plus:this.ctx.plus},avatarHost:this.ctx.avatarHost},this._params.userAccount)}),i("user-account")(d()(!0),h()({tabindex:"0"}),e(function(){return this.ctx.url})(u()("a"),h()(function(){return this.extend(E(),{href:this.ctx.url})})),e(function(){return!1!==this.ctx.name&&void 0===this.ctx.content}).content()(function(){var t=this.ctx.maxLength||16,e=this.ctx.name&&this.ctx.name.length>t?this.ctx.name.substring(0,t-1)+"…":this.ctx.name;return[this.isSimple(e)?{elem:"name",text:e||"",subname:this.ctx.subname}:this.extend(e,{elem:"name",subname:this.ctx.subname})]}),e(function(){return void 0!==this.ctx.pic})(m()(function(){return[{elem:"pic",pic:this.extend({plus:this.ctx.plus},this.ctx.pic),avatarHost:this.ctx.avatarHost,provider:this.ctx.mods&&this.ctx.mods.provider},E()]}))),i("user-account").elem("pic").match(function(){return this.ctx.pic}).replace()(function(){return this.util.mergeBemjson({block:"user-pic",mods:{provider:this.ctx.provider},host:this.ctx.avatarHost,mix:{block:"user-account",elem:"pic",elemMods:this.elemMods}},this.ctx.pic)}),i("user-pic")(c()(function(){return this.ctx.plus&&(this.mods["has-plus"]="yes"),E()}),o("avatar-url")(function(){var t=this.ctx.host||"https://avatars.mds.yandex.net",e=this.ctx.avatarId||"0/0-0";return{lodpiUrl:t+"/get-yapic/"+e+"/islands-middle",hidpiUrl:t+"/get-yapic/"+e+"/islands-retina-middle"}}),e(function(){return void 0===this.ctx.content}).content()(function(){var t=w("avatar-url");return[{elem:"image",elemMods:{lodpi:"yes"},attrs:{style:"background-image: url("+t.lodpiUrl+");"}},{elem:"image",elemMods:{hidpi:"yes"},attrs:{style:"background-image: url("+t.hidpiUrl+");"}}]})),i("i-ua").content()(function(){var t=[";(function(w,e,s,c,x,l,p,d){",'c="className";','x="deviceXDPI";','l="logicalXDPI";','p="devicePixelRatio";',"d=x in s&&l in s&&s[x]/s[l]||p in w&&w[p];",'d>1&&(e[c]+=" i-ua_retina_yes")',"})(window,document.documentElement,screen);"].join("");return[].concat(E(),{html:t})}),i("user-account").elem("name")(u()("span"),e(function(){return void 0===this.ctx.content&&this.ctx.text}).content()(function(){return{html:this.xmlEscape(this.ctx.text)}})),i("user-account").match(function(){return void 0!==this.ctx.ticker}).def()(function(){return this.mods["has-ticker"]="yes",E()}),i("user-account").mod("has-ticker","yes").match(function(){return!this.ctx.content}).content()(function(){return[E(),{elem:"ticker",ticker:this.ctx.ticker}]}),i("user-account").elem("ticker").replace()(function(){return this.util.mergeBemjson({block:"ticker",mix:{block:"user-account",elem:"ticker",elemMods:this.elemMods}},this.ctx.ticker)}),i("ticker")(c()(function(){return E({_count:this.ctx.count||0,_maxCount:this.ctx.maxCount||99,_url:this.ctx.url})}),u()("span"),h()(function(){return{role:"alert","aria-live":"assertive","aria-atomic":"true"}}),e(function(){return!this._count}).mix()(function(){return[{mods:{state:"empty"}}]}),d()(function(){return{count:this._count,maxCount:this._maxCount}}),m()(function(){return{elem:"count",url:this.ctx.url,content:this.ctx.count}})),i("ticker").elem("count")(u()("span"),e(function(){return!this.ctx.url}).mix()(function(){return[{elem:"plain"}]}),e(function(){return this.ctx.url})(u()("a"),h()(function(){return{href:this.ctx.url}})),m()(function(){return[{elem:"text"},{elem:"value",count:this.ctx.content}]})),i("ticker").elem("text")(u()("span"),f()(function(){return[{block:"a11y-hidden"}]}),m()(function(){return BEM.I18N("ticker__text","notifications")})),i("ticker").elem("value")(u()("span"),o("format-value")(function(){return this._count>this._maxCount?this._maxCount:this._count}),h()(function(){return{title:this._count}}),m()(function(){return w("format-value")})),i("user-account").mod("has-accent-letter","yes").elem("name")(e(function(){return this.ctx.text&&!this.ctx.content}).content()(function(){var t=String(this.ctx.text);return[{elem:"accent-letter",tag:"span",content:{html:this.xmlEscape(t.charAt(0))}},{html:this.xmlEscape(t.slice(1))}]})),i("user2").elem("a11y-exit").replace()(function(){var t=this._exitUrl;return""!==this._params.passportLinkParams&&(t+="&"+this._params.passportLinkParams),{block:"link",mods:{theme:"pseudo"},mix:[{block:"user2",elem:"a11y-exit"},{block:"a11y-hidden"}],attrs:{accesskey:"x"},tabindex:"-1",url:t,content:BEM.I18N("user2","exit")}}),i("user2").elem("popup").replace()(function(){var t=this.extend({directions:["bottom-right"],mainOffset:-46,secondaryOffset:-2},this.ctx);return t.mods={target:"anchor",theme:"normal",autoclosable:"yes",hiding:"yes"},t.block="popup2",t.mix=[{block:"user2",elem:"popup",elemMods:t.elemMods}].concat(t.mix||[]),delete t.elem,t}),i("user2").elem("menu")(e(function(){return void 0!==this.ctx.hat}).mode("hat")(function(){var t=this.ctx.hat;return!t.banner&&(t.banner={}),t.banner.closeButtonMix={block:"user2",elem:"hat-closer"},{block:"user2",elem:"menu-hat",content:t}}),_()(function(){var t=function(e){return[].concat.apply([],e.map(function(e){return e.items?t(e.items):(e.block="user2",e.elem="menu-item",e.action&&(e.elemMods=this.extend(e.elemMods,{action:e.action})),e)},this))}.bind(this),e=this.ctx.actionsMenu||[],n=this.ctx.multiAuthMenu||[],i=[].concat(e,n);return{block:"menu",mix:[{block:"user2",elem:"menu",elemMods:this.ctx.elemMods}].concat(this.ctx.mix||[]),mods:this.extend({type:"navigation"},this.ctx.elemMods),attrs:this.ctx.attrs,content:this.ctx.content||[w("hat"),{block:"user2",elem:"menu-header",content:{block:"user-account",mods:{provider:this.ctx.provider},mix:{block:"user2",elem:"account"},plus:this.ctx.plus,name:this._params.name,maxLength:this._params.maxLength,subname:this._params.subname,pic:{avatarId:this._params.avatarId},avatarHost:this._params.avatarHost}},{block:"menu",elem:"group",content:t(i)},{block:"user2",elem:"multi-auth",addAccount:this.ctx.addAccount,accounts:this.ctx.accounts,avatarHost:this.ctx.avatarHost,maxLength:this.ctx.maxLength,provider:this.ctx.provider},{block:"user2",elem:"menu-footer",settingsUrl:this.ctx.settingsUrl,helpUrl:this.ctx.helpUrl}]}})),i("user2").elem("menu-footer").content()(function(){return[{block:"button2",mods:{theme:"clear",size:"s",type:"link"},mix:{block:this.block,elem:"footer-link"},url:this.ctx.settingsUrl||this["i-services"].serviceUrl("tune"),text:BEM.I18N("user2","settings")},{block:"button2",mods:{theme:"clear",size:"s",type:"link"},mix:{block:this.block,elem:"footer-link"},url:this.ctx.helpUrl||this["i-services"].serviceUrl("support"),text:BEM.I18N("user2","help")}]}),i("user2").elem("multi-auth").content()(function(){return this.ctx.content||[{elem:"accounts",addAccount:this.ctx.addAccount,accounts:this.ctx.accounts,avatarHost:this.ctx.avatarHost,maxLength:this.ctx.maxLength,provider:this.ctx.provider},this.ctx.menu&&this.ctx.menu.length?{block:"menu",elem:"group",content:this.ctx.menu}:""]}),i("menu").elem("group")(e(function(){return this._inMenuTypeNavigation}).tag()("ul"),h()(function(){return{role:"group"}}),e(function(){return this.ctx.title})(h()(function(){return this.extend(E(),{"aria-labelledby":this.generateId()})}),m()(function(){var t=this.ctx.title;return[{elem:"title",attrs:{id:this.generateId(),"aria-hidden":"true"},content:{html:this.isSimple(t)?this.xmlEscape(t):this.reapply(t)}},E()]}))),i("menu").mod("type","navigation")(u()("ul"),c()(function(){return E({_inMenuTypeNavigation:!0})})),i("menu").elem("item").elemMod("type","link")(u()("a"),h()(function(){return this.extend(E(),{role:"link",href:this.ctx.url,target:this.ctx.target})})),i("user2").elem("menu-item").replace()(function(){var t=this.extend(this.ctx,{block:"menu",elem:"item"});return t.mix=[{block:"user2",elem:"menu-item",elemMods:{action:this.elemMods.action}}].concat(this.ctx.mix||[]),delete this.elemMods.action,t.elemMods=this.extend({type:"link"},this.elemMods),t.attrs=this.extend(t.attrs||{},{tabindex:0}),t.content=this.ctx.content,t}),i("menu").elem("text").tag()("span"),i("user2").elem("menu-item").elemMod("action","disk").def()(function(){return this.ctx.text=BEM.I18N("user2","upload_files"),this.ctx.url=this["i-services"].serviceUrl("disk")+"?source=main-loginmenu",E()}),i("user2").elem("menu-item").elemMod("action","edit-accounts").def()(function(){return this.ctx.text=BEM.I18N("user2","edit-accounts"),this.ctx.url=this._params.passportHost+"/auth?mode=edit&retpath="+this._params.retpathEncoded,""!==this._params.passportLinkParams&&(this.ctx.url+="&"+this._params.passportLinkParams),E()}),i("user2").elem("menu-item").elemMod("action","exit").def()(function(){return this.ctx.text=BEM.I18N("user2","exit"),this.ctx.url=this._exitUrl,""!==this._params.passportLinkParams&&(this.ctx.url+="&"+this._params.passportLinkParams),E()}),i("user2").elem("menu-item").elemMod("action","mail-compose").def()(function(){return this.ctx.text=BEM.I18N("user2","mail_compose"),this.ctx.url=this["i-services"].serviceUrl("mail")+"/compose",E()}),i("user2").elem("menu-counter")(c()(function(){return E({params:{maxCount:this.ctx.maxCount||9999}})}),u()("span"),h()({role:"alert"}),e(function(){return 0===this.ctx.count}).mix()([{elemMods:{state:"empty"}}]),m()(function(){return this.ctx.count>this.params.maxCount?this.params.maxCount:this.ctx.count})),i("user2").elem("menu-item").elemMod("action","mail").def()(function(){return this.ctx.url=this["i-services"].serviceUrl("mail"),this.ctx.text=[this["i-services"].serviceName("mail"),{block:"user2",elem:"menu-counter",count:this._unreadCount}],E()}),i("user2").elem("menu-item").elemMod("action","passport").def()(function(){return this.ctx.text=BEM.I18N("user2","passport"),this.ctx.url=this._params.passportHost,""!==this._params.passportLinkParams&&(this.ctx.url+="?"+this._params.passportLinkParams),E()}),i("user2").elem("menu-item").elemMod("action","settings").def()(function(){return this.ctx.text=BEM.I18N("user2","settings"),this.ctx.url=this["i-services"].serviceUrl("tune"),E()}),i("user2").elem("menu-item").elemMod("action","plus").def()(function(){var t=this.ctx.plus,e="string"==typeof this.ctx.plusLinkParams?this.ctx.plusLinkParams:"";return this.ctx.url=this["i-services"].serviceUrl("plus")+e,t&&(this.ctx.url=this["i-services"].serviceUrl("passport")+"/profile/services",""!==this._params.passportLinkParams&&(this.ctx.url+="?"+this._params.passportLinkParams)),this.ctx.content=[{block:"menu",elem:"text",content:BEM.I18N("user2",t?"ya_plus_on":"ya_plus")}],E()}),i("user2").elem("plus-badge")(u()("span")),i("user-account").mod("has-logout","yes").content()(function(){return[{block:"icon",mods:{glyph:"x-sign",size:"xs"},mix:{block:"user-account",elem:"logout"}},E()]}),i("icon").mod("glyph","x-sign").content()(function(){return{html:'<svg focusable="false" width="0" height="0" viewBox="0 0 20 20"><path d="M10,20 C4.5,20 0,15.5 0,10 C0,4.5 4.5,0 10,0 C15.5,0 20,4.5 20,10 C20,15.5 15.5,20 10,20 L10,20 L10,20 L10,20 Z M15,6.4 L13.6,5 L10,8.6 L6.4,5 L5,6.4 L8.6,10 L5,13.6 L6.4,15 L10,11.4 L13.6,15 L15,13.6 L11.4,10 L15,6.4 L15,6.4 L15,6.4 L15,6.4 Z"/></svg>'}}),i("user2").elem("accounts").match(function(){return void 0===this.ctx.content}).content()(function(){return[{elem:"accounts-container",content:[].concat(this.ctx.accounts).map(function(t){return{block:"menu",elem:"item",content:this.extend({mods:{provider:this.ctx.provider},avatarHost:this.ctx.avatarHost,maxLength:this._params.maxLength},t)}},this)},{block:"user2",elem:"add-account",account:this.ctx.addAccount}]}),i("user2").elem("add-account").replace()(function(){var t=this._params.passportHost+"/auth?mode=add-user&retpath="+this._params.retpathEncoded;""!==this._params.passportLinkParams&&(t+="&"+this._params.passportLinkParams);var e=this.util.mergeBemjson({block:"user-account",name:BEM.I18N("user2","add-account"),url:t,mix:{block:"user2",elem:"add-account"}},this.ctx.account);return e.content=void 0!==e.content?e.content:[{elem:"pic"},{elem:"name",text:e.name}],{block:"menu",elem:"item",content:e}}),i("user2")(e(function(){return this.ctx.maxLength}).js()(function(){return this.extend(E(),{maxLength:this.ctx.maxLength})}),e(function(){return this._user2Mods["fetch-accounts"]}).elem("accounts").content()(function(){return[{block:"spin2",mods:{size:"xs"},mix:{block:"user2",elem:"accounts-spin"}},E()]})),i("user-account").match(function(){return void 0!==this.ctx.subname}).def()(function(){return this.mods["has-subname"]="yes",E()}),i("user-account").mod("has-subname","yes").elem("name").content()(function(){var t="object"==typeof this.ctx.subname?{fb:"Facebook",tw:"Twitter",mr:"Mail.ru",gg:"Google",ok:"Odnoklassniki",vk:"Vkontakte",dz:"Deezer",fs:"Foursquare",ig:"Instagram",lf:"Last.FM",lj:"LiveJournal",in:"LinkedIn",mt:"МТС-Россия",ms:"Microsoft",yh:"Yahoo",ya:"Yandex",vf:"Vodafone-Украина",tg:"Telegram"}[this.ctx.subname.provider]:this.ctx.subname;return t&&t!==this.ctx.text?[E(),{elem:"subname",text:t}]:E()}),i("user-account").elem("subname")(u()("span"),m().match(function(){return void 0===this.ctx.content&&this.ctx.text})(function(){return{html:this.xmlEscape(this.ctx.text)}})),i("tabs-menu")(u()("ul"),d()(!0),h()(function(){return{role:"menu"}})),i("tabs-menu").elem("tab")(e(function(){return this.isFirst()&&!this.elemMods.first}).def()(function(){return this.elemMods.first="yes",E()}),u()("li"),a("disabled","yes")(c()(function(){return E({_tabsMenuTabDisabled:!0})}),e(function(){return Boolean(this.elemMods.interactive)}).attrs()(function(){return this.extend(E(),{"aria-disabled":"true"})})),a("interactive","yes")(c()(function(){return E({_tabsMenuTabInteractive:!0})}),h()(function(){return this.extend(E(),{role:"menuitem"})}))),i("link")(e(function(){return this._tabsMenuTabDisabled}).def()(function(){return delete this._tabsMenuTabDisabled,this.mods.disabled="yes",E()}),e(function(){return this._tabsMenuTabInteractive}).attrs()(function(){var t=E();return t.tabindex=void 0,t.role=void 0,t})),i("tabs-menu").elem("tab").elemMod("active","yes").match(function(){return!this._tabsMenuTabDisabled}).match(function(){return this._tabsMenuTabInteractive}).attrs()(function(){return this.extend(E(),{tabindex:0})}),i("nav-by-rubrics")(h()(function(){return this.extend({role:"navigation","aria-label":BEM.I18N("nav-by-rubrics","label")},E())}),s("switcher").attrs()(function(){return this.extend({role:"button","aria-label":BEM.I18N("nav-by-rubrics","more",{count:""})},E())}),s("other").tag()("li"),s("other-gap").attrs()(function(){return this.extend({"aria-hidden":!0},E())})),i("b-page")(s("root")(p()(!1),u()("html"),h()(function(){return{lang:this["i-global"].lang||"ru"}}),l()("i-ua_js_no i-ua_css_standard")),o("js-params")(function(){var t=this["i-global"],e={},n={block:"i-global",js:e};return Object.keys(t).forEach(function(n){t.isPublic(n)&&(e[n]=t[n])}),n}),o("doctype")(function(){return this.ctx.doctype||"<!DOCTYPE html>"}),n()(function(){var t=this.ctx;return[{html:w("doctype")},{elem:"root",content:[{elem:"head",content:[t.csp&&this.extend(t.csp,{elem:"csp"}),!1!==t.title&&{tag:"meta",attrs:{charset:t.charset||"utf-8"}},!1!==t["x-ua-compatible"]&&w("xUACompatible"),void 0!==t.title&&{tag:"title",content:t.title},t.favicon&&{elem:"favicon",url:t.favicon},w("defaultMeta"),t.meta,{block:"i-ua",nonce:t.nonce},t.head]},t]}]}),u()("body"),s("head")(p()(!1),u()("head")),s("meta")(p()(!1),u()("meta"),h()(function(){return this.ctx.attrs})),s("favicon").replace()(function(){return{elem:"link",rel:"shortcut icon",url:this.ctx.url}}),m()(function(){return{elem:"body",content:this.ctx.content}}),s("body").tag()(""),f()(function(){return[].concat(E(),[{elem:"body"},w("js-params"),{block:"i-ua",js:!0}])})),i("b-page")(o("xUACompatible")(function(){return{tag:"meta",attrs:{"http-equiv":"X-UA-Compatible",content:this.ctx["x-ua-compatible"]||"IE=edge"}}})),i("b-page")(e(function(){return this["i-session"].flags("yxnews_nerpa_yatests")}).mix()(function(){return[{mods:{test:!0}}].concat(E())})),i("b-page")(f()(function(){var t=E()||[];return t.push({block:"i-ua",mods:{interaction:"yes"},js:!0}),t}),m()(function(){return{elem:"inner",content:this.ctx.content}})),i("b-page").elem("css")(c()(function(){return E()}),p()(!1),u()("style"),h()(function(){return{nonce:this.ctx.nonce||this["i-global"].nonce}}),_().match(function(){return void 0!==this.ctx.ie})(e(function(){return!0===this.ctx.ie})(function(){var t=this.ctx.url;return{elem:"cc",condition:"IE 9",content:{elem:"css",url:t?/\.css$/.test(t)?t:t+".ie9.css":void 0,content:this.ctx.content}}}),e(function(){return!1===this.ctx.ie})(function(){return{elem:"cc",condition:"gt IE 9",others:!0,content:{elem:"css",url:this.ctx.url,content:this.ctx.content}}}),e(function(){return"string"==typeof this.ctx.ie})(function(){return{elem:"cc",condition:this.ctx.ie,others:this.ctx.ie.indexOf("!")>-1,content:{elem:"css",url:this.ctx.url,content:this.ctx.content}}})),e(function(){return this.ctx.url})(u()("link"),h()(function(){return{rel:"stylesheet",href:this.ctx.url}}))),i("b-page").elem("css")(e(function(){return!0===this.ctx.ie}).replace()(function(){var t=this.ctx.url;return[{elem:"cc",condition:"IE 8",content:{elem:"css",url:t?/\.css$/.test(t)?t:t+".ie8.css":void 0,content:this.ctx.content}},{html:E()}]})),i("b-page").elem("cc")(u()(!1),m()(function(){var t=this.ctx.others,e=this.ctx.condition.indexOf("!")>-1;return[{html:["\x3c!--[if "+this.ctx.condition+"]>",t?"<!":"",e||t?"--\x3e":""].join("")},this.ctx.content,{html:[e||t?"\x3c!--":"","<![endif]--\x3e"].join("")}]})),i("yaplus")(d()(!0),o("link-content")(function(){return[w("badge")]}),o("badge")(function(){return{block:"yaplus",elem:"badge-main",tag:"span"}}),o("yaplus-link")(function(){var t=this.ctx,e="string"==typeof t.plusLinkParams?t.plusLinkParams:"";return{block:"link",target:"_blank",url:this.mods.available?this["i-services"].serviceUrl("plus")+e:this["i-services"].serviceUrl("passport")+"/profile/services",mix:{block:"yaplus",elem:"link"},mods:{theme:"normal"},content:w("link-content")}}),m()(function(){return[w("yaplus-link")]})),i("yaplus").mod("available","yes")(o("link-content")(function(){return[{elem:"inner",content:this.ctx.enableText||BEM.I18N("yaplus","be_plus")},w("badge")]})),i("proffit").match(function(){return!this["i-session"].isAntiadblock})(h()(function(){return this.extend(E(),{role:"complementary","aria-label":BEM.I18N("proffit","label")})})),i("*").match(function(t,e){return e.js&&t["i-session"].isAntiadblock&&(!e.attrs||!e.attrs.id)}).attrs()(function(){var t=E()||{},e=String.fromCharCode(65+Math.floor(26*Math.random()))+Date.now();return t.id=e,t}),i("proffit").mod("sticky","yes").wrap()(function(t,e){return{block:"sticky",mix:{block:"proffit",elem:"container"},content:e}}),i("proffit").mod("sticky","no").wrap()(function(t,e){return{block:"proffit",elem:"container",content:e}}),i("proffit").elem("container").appendContent()({block:"proffit",mods:{name:"alt"}}),i("sticky").appendContent()({block:"proffit",mods:{name:"alt"}}),i("sticky").js()({stickyContainerClass:".page-content__proffit-holder",minWidthStartSticky:1080}),i("*").match(function(){return this.ctx.counter}).match(function(){return"metrika"!==this.elem}).match(function(){return this.ctx.block||this.ctx.elem}).attrs()(function(){var t=this.ctx,e=E()||{},n=t.counter,i=this["i-session"];return i&&i.counter?(e["data-counter"]=JSON.stringify(i.counter(n)),e):e}),i("counter")(u()("img"),h()(function(){return{src:this["i-global"]["click-host"]+"/counter/dtype="+this.ctx.src+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+"/*"}})),i("radio-button")(c()(function(){var t=this.ctx,e=this.mods;return void 0===this.mods.view&&(this.mods.view="classic"),E({_radioButton:{name:t.name,value:t.value,disabled:Boolean(e.disabled)}})}),u()("span"),d()(function(){return this.extend({live:!1},this.ctx.js)}),m()(function(){var t=this.ctx.content;return Array.isArray(t)?t.filter(function(t){return!this.isSimple(t)&&t},this):t})),i("radio-button").elem("radio")(c()(function(){var t=this.elemMods,e=this._radioButton,n=e.disabled,i=this.extend({},this.ctx.controlAttrs);return void 0!==i.value&&i.value===e.value&&(t.checked="yes"),n&&(t.disabled="yes"),"default"===this.mods.view||t.side||(t.side=["","right","left","both"][2*this.isFirst()+this.isLast()]),i.checked=Boolean(t.checked),i.disabled=Boolean(t.disabled),i.id||(i.id=this.generateId()),E({_controlAttrs:i})}),u()("label"),h()(function(){return{for:this._controlAttrs.id}}),m()(function(){return[{elem:"control"},{elem:"text",tag:"span",content:this.ctx.content}]})),i("radio-button").elem("control")(u()("input"),h()(function(){var t=this._controlAttrs;return t.checked=Boolean(t.checked),t.disabled=Boolean(t.disabled),t.disabled&&(t.tabindex="-1"),t.type="radio",t.name=this._radioButton.name,t})),i("settings")(s("close")(h()(function(){return{title:BEM.I18N("settings","close")}}))),v(function(e,n){(e.BEMContext||n.BEMContext).prototype.require=function(e){return t[e]}})}),n.exportApply(e),e}var n=!0;"object"==typeof module&&"object"==typeof module.exports&&(exports.BEMHTML=e({}),n=!1),"object"==typeof modules&&(modules.define("BEMHTML",[],function(t){t(e({}))}),n=!1),n&&(BEMHTML=e({}),t.BEMHTML=BEMHTML)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this),function(t){var e=function(){return"_"}.toString().indexOf("_")>-1,n=function(){},i=Object.create||function(t){var e=function(){};return e.prototype=t,new e},s=Object.keys,o=t.extend,r=Array.isArray,a=t.isFunction,c=!0,u={toString:""};for(var h in u)u.hasOwnProperty(h)&&(c=!1);var l=c?["toString","valueOf"]:null;function d(n,i,o){for(var r,u,h=function(t){var e=s(t);if(c)for(var n,i=0;n=l[i++];)t.hasOwnProperty(n)&&e.push(n);return e}(o),d=0,p=h.length;d<p;)"__self"!==(r=h[d++])&&(u=o[r],a(u)&&(!e||u.toString().indexOf(".__base")>-1)?i[r]=function(e,s){var o=function(){var t=this.__base;this.__base=o.__base;var e=s.apply(this,arguments);return this.__base=t,e};return o.__base=n[e]||("__constructor"===e?i.__self.__parent:t.noop),o}(r,u):i[r]=u)}function p(e,n){for(var i,s=1;i=e[s++];)n?a(i)?t.inheritSelf(n,i.prototype,i):t.inheritSelf(n,i):n=a(i)?t.inherit(e[0],i.prototype,i):t.inherit(e[0],i);return n||e[0]}t.inherit=function(){var t=arguments,e=r(t[0]),s=e||a(t[0]),c=s?e?p(t[0]):t[0]:n,u=t[s?1:0]||{},h=t[s?2:1],l=u.__constructor||s&&c.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:s?function(){return c.apply(this,arguments)}:function(){};if(!s)return l.prototype=u,l.prototype.__self=l.prototype.constructor=l,o(l,h);o(l,c),l.__parent=c;var f=c.prototype,m=l.prototype=i(f);return m.__self=m.constructor=l,u&&d(f,m,u),h&&d(c,l,h),l},t.inheritSelf=function(){var t=arguments,e=r(t[0])?p(t[0],t[0][0]):t[0],n=t[1],i=t[2],s=e.prototype;return n&&d(s,s,n),i&&d(e,e,i),e},t.inherit.self=t.inheritSelf}(jQuery),function(t){var e=0,n="__"+Number(new Date),i=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return i();var s="uniqueID"in t?"uniqueID":n;return e||s in t?t[s]:t[s]=i()}}(jQuery),function(t){var e="__"+Number(new Date)+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},i={buildEventName:function(t){return t},on:function(i,s,o,r,a){if("string"==typeof i){t.isFunction(s)&&(r=o,o=s,s=void 0);for(var c,u=n(o,r),h=this[e]||(this[e]={}),l=i.split(" "),d=0;i=l[d++];)if(!(u in(c=h[i=this.buildEventName(i)]||(h[i]={ids:{},list:{}})).ids)){var p=c.list,f={fn:o,data:s,ctx:r,special:a};p.last?(p.last.next=f,f.prev=p.last):p.first=f,c.ids[u]=p.last=f}}else{var m=this;t.each(i,function(t,e){m.on(t,e,s,a)})}return this},onFirst:function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},un:function(i,s,o){if("string"==typeof i||void 0===i){var r=this[e];if(r)if(i){for(var a,c=i.split(" "),u=0;i=c[u++];)if(a=r[i=this.buildEventName(i)])if(s){var h=n(s,o),l=a.ids;if(h in l){var d=a.list,p=l[h],f=p.prev,m=p.next;f?f.next=m:p===d.first&&(d.first=m),m?m.prev=f:p===d.last&&(d.last=f),delete l[h]}}else delete this[e][i]}else delete this[e]}else{var _=this;o=s,t.each(i,function(t,e){_.un(t,e,o)})}return this},trigger:function(n,i){var s=this[e],o="string"==typeof n,r=o?n:n.type,a=this.buildEventName(r);if(o||(n.type=a,n.target||(n.target=this)),s&&(s=s[a])){var c,u=s.list.first;for(u&&o&&((n=t.Event(a)).target=this);u;)n.data=u.data,void 0!==(c=u.fn.call(u.ctx||this,n,i))&&(n.result=c,!1===c&&(n.preventDefault(),n.stopPropagation())),u.special&&u.special.one&&this.un(r,u.fn,u.ctx),u=u.next}return this}};t.observable=t.inherit(i,i)}(jQuery),function(){var t=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,i=t.call(arguments,1);return function(){return n.apply(e,i.concat(t.call(arguments)))}})}(),function(t,e){var n=[],i=t.inherit,s=t.isFunction,o=Function.prototype.call.bind(Object.prototype.hasOwnProperty),r={},a={};function c(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function u(t,e,n){var i,r,a;if(s(t))e[c(n,"*","*")]=t;else for(i in t)if(o(t,i))if(a=t[i],s(a))e[c(n,i,"*")]=a;else for(r in a)o(a,r)&&(e[c(n,i,r)]=a[r])}function h(t){var e;if(t.onSetMod&&(u(t.onSetMod,t),delete t.onSetMod),t.onElemSetMod){for(e in t.onElemSetMod)o(t.onElemSetMod,e)&&u(t.onElemSetMod[e],t,e);delete t.onElemSetMod}}this.BEM=i(t.observable,{__constructor:function(t,e,n){var i=this;i._modCache=t||{},i._processingMods={},i._params=e,i.params=null,!1!==n?i._init():i.afterCurrentEvent(function(){i._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(t.bind(e||this))},on:function(e,n,i,s){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,i){return"object"==typeof e&&t.isFunction(n)&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},trigger:function(e,n){var i=!0;return"object"!=typeof e||e instanceof t.Event||(i="js"===e.modName||this.hasMod("js"),e=this.__self._buildModEventName(e)),i&&(this.__base(e=this.buildEvent(e),n),this._trigger(e,n)),this},_trigger:function(t,e){this.__self.trigger(t,e)},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,e,n){var i=arguments.length,s=!1;1==i?(n="",e=t,t=void 0,s=!0):2==i&&("string"==typeof t?(n=e,e=t,t=void 0):(n="",s=!0));var o=this.getMod(t,e)===n;return s?!o:o},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var i=this._modCache;return e in i?i[e]:i[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var e=t&&"string"!=typeof t,n=this._modCache,i=[].slice.call(arguments,e?1:0);return i.length?i.reduce(function(t,e){return e in n&&(t[e]=n[e]),t},{}):n},setMod:function(e,n,i){void 0===i&&("string"==typeof e?(i=void 0===n||n,n=e,e=void 0):i=!0);var s=this;if(!e||e[0]){!1===i||null===i?i="":!0!==i&&(i=i.toString());var o=(e&&e[0]?t.identify(e[0]):"")+"_"+n;if(this._processingMods[o])return s;var r,a=e?s._getElemMod(n,e,r=s.__self._extractElemNameFrom(e)):s.getMod(n);if(a===i)return s;this._processingMods[o]=!0;var c=!0,u=[n,i,a];e&&u.unshift(e),[["*","*"],[n,"*"],[n,i]].forEach(function(t){c=!1!==s._callModFn(r,t[0],t[1],u)&&c}),!e&&c&&(s._modCache[n]=i),c&&s._afterSetMod(n,i,a,e,r),delete this._processingMods[o]}return s},_afterSetMod:function(t,e,n,i,s){var o={modName:t,modVal:e,oldModVal:n};i&&(o.elem=i),this.trigger({modName:t,modVal:"*",elem:s},o).trigger({modName:t,modVal:e,elem:s},o)},toggleMod:function(t,e,n,i,s){"string"==typeof t&&(s=i,i=n,n=e,e=t,t=void 0),void 0===i?i="":"boolean"==typeof i&&(s=i,i="");var o=this.getMod(t,e);return(o==n||o==i)&&this.setMod(t,e,"boolean"==typeof s?s?n:i:this.hasMod(t,e,n)?i:n),this},delMod:function(t,e){return e||(e=t,t=void 0),this.setMod(t,e,"")},_callModFn:function(t,e,n,i){var s=c(t,e,n);return this[s]?this[s].apply(this,i):void 0},_extractModVal:function(t,e){return""},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){var t={modName:"js",modVal:"",oldModVal:"inited"};this.trigger({modName:t.modName,modVal:t.modVal},t)}},t.extend(this.BEM,{_name:"i-bem",blocks:r,decl:function(e,n,o){"string"==typeof e?e={block:e}:e.name&&(e.block=e.name),h(n||(n={}));var a,c,u=r[e.baseBlock||e.block]||this;if(e.modName){var l=(a=e.modName,(c=e.modVal)?Array.isArray(c)?function(t){for(var e=0,n=c.length;e<n;)if(t.hasMod(a,c[e++]))return!0;return!1}:function(t){return t.hasMod(a,c)}:function(t){return t.hasMod(a)});t.each(n,function(t,e){s(e)&&(n[t]=function(){var i;if(l(this))i=e;else{var s=u.prototype[t];s&&s!==n[t]&&(i=this.__base)}return i?i.apply(this,arguments):void 0})})}if(o&&"boolean"==typeof o.live){var d=o.live;o.live=function(){return d}}var p,f=u;return e.baseMix&&(f=[f],e.baseMix.forEach(function(t){f.push(r[t])})),e.block==u._name?(p=i.self(f,n,o))._processLive(!0):((p=r[e.block]=i(f,n,o))._name=e.block,delete p._liveInitable),p},declMix:function(t,e,n){return h(e||(e={})),t=r[t]=i(e,n)},_processLive:function(t){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new r[t.block](t.mods,e)},getName:function(){return this._name},on:function(e,n,i,s){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,i){return"object"==typeof e&&t.isFunction(n)&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e="_"+t.modName+"_"+(!1===t.modVal?"":t.modVal);return t.elem&&(e="__"+t.elem+e),e},_extractElemNameFrom:function(t){},afterCurrentEvent:function(t,e){1==n.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=n.length;t&&n.splice(0,t).forEach(function(t){t.fn.call(t.ctx||this)},this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,i=arguments.length;for(e&&(t=this);n<i;)delete t[arguments[n++]];return this},channel:function(e,n){if("boolean"==typeof e&&(n=e,e=void 0),e||(e="default"),!n)return a[e]||(a[e]=new t.observable);a[e]&&(a[e].un(),delete a[e])}}))}(jQuery),function(t,e,n){var i,s="_",o="__";function r(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function a(t,e,n){null!=e&&!1!==e&&(n.push(s,t),!0!==e&&n.push(s,e))}function c(t,e,n,i){i.push(t),a(e,n,i)}function u(t,e,n,s,r){c(t,i,i,r),r.push(o,e),a(n,s,r)}t.INTERNAL={NAME_PATTERN:"[a-zA-Z0-9-]+",MOD_DELIM:s,ELEM_DELIM:o,buildModPostfix:function(t,e,n){var i=n||[];return a(t,e,i),n?i:i.join("")},buildClass:function(t,e,n,s,o){if(r(n)?r(s)||(o=s,s=n,n=e,e=i):void 0!==n?(o=n,n=i):e&&"string"!=typeof e&&(o=e,e=i),!e&&void 0===n&&!o)return t;var a=o||[];return e?u(t,e,n,s,a):c(t,n,s,a),o?a:a.join("")},buildClasses:function(t,n,i,s){n&&"string"!=typeof n&&(s=i,i=n,n=void 0);var o=s||[];return n?u(t,n,void 0,void 0,o):c(t,void 0,void 0,o),i&&e.each(i,function(e,i){i&&(o.push(" "),n?u(t,n,e,i,o):c(t,e,i,o))}),s?o:o.join("")}}}(BEM,jQuery),function(t,e,n){var i=e(window),s=e(document),o={},r={},a={},c={},u={},h=t.blocks,l=t.INTERNAL,d=l.NAME_PATTERN,p=l.MOD_DELIM,f=l.ELEM_DELIM,m=RegExp("[^"+p+"]"+p+"("+d+")(?:"+p+"("+d+"))?$"),_=l.buildModPostfix,g=l.buildClass,v=Array.prototype.slice,b=Array.prototype.reverse;function y(t,i,s,a,c){"boolean"==typeof s&&(c=a,a=s,s=n);var u=i[0];if(!u||u.dataset===n||"react"!==u.dataset.lego){var l=(s=x(s||M(u)[t],u,t)).uniqId;if(r[l])return r[l]._init();o[l]=o[l]?o[l].add(i):i;var d=u.parentNode;d&&11!==d.nodeType||e.unique(o[l]);var p=h[t]||T.decl(t,{},{live:!0});if(!(p._liveInitable=Boolean(p._processLive()))||a||!1===s.live){a&&i.addClass("i-bem");var f=new p(o[l],s,Boolean(a));return delete o[l],c&&c.apply(f,v.call(arguments,4)),f}}}function x(t,n,i,s){(t||(t={})).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:e.identify())+(s||e.identify()));var o=e.identify(n),r=a[o]||(a[o]={});return r[i]||(r[i]=t),t}function k(t,e,n){var i=t.find(e);return n?i:i.add(t.filter(e))}function M(t){var n=e.identify(t);return a[n]||(a[n]=E(t))}function E(t){var e,n=t.getAttribute("data-bem");return n?JSON.parse(n):e?e():{}}function w(t){delete a[e.identify(t)]}function B(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}e.fn.bem=function(t,e){return y(t,this,e,!0)};var T=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,i){this.domElem=t,this._eventNameCache={},this._elemCache={},this._blockInsideCache={},r[this._uniqId=n.uniqId||e.identify(this)]=this,this._needSpecialUnbind=!1,this.__base(null,n,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._findBlocks("find",t,e,!0);return this._blockInsideCache[n]=i,i},blockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._blockInsideCache[n];return i||(i=this.findBlockInside(t,e)),i},dropBlockInsideCache:function(t,e){t||e?this._blockInsideCache[this._buildBlockCacheKey(t,e)]=null:this._blockInsideCache={}},_buildBlockCacheKey:function(t,e){e||(e=t,t="");var n="string"==typeof e?e:g(e.block,e.modName,e.modVal);return("string"==typeof t?t:t.__bemElemName)+":"+n},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,s,o){if(!this.domElem)return o?null:[];s||(s=i,i=n);var r=i?"string"==typeof i?this.findElem(i):i:this.domElem,a="string"==typeof s,c=a?s:s.block||s.blockName,u="."+(a?c:g(c,s.modName,s.modVal))+(o?":first":""),h=r.filter(u);if(t&&(h=h.add(r[t](u))),o)return h[0]?y(c,h.eq(0),!0):null;var l=[],d={};return e.each(h,function(t,n){var i=y(c,e(n),!0);d[i._uniqId]||(d[i._uniqId]=!0,l.push(i))}),l},bindToDomElem:function(t,i,s,o){e.isFunction(s)&&(o=s,s=n);var r=this,a=function(t){return(t.data||(t.data={})).domElem=e(this),o.apply(r,arguments)};return o?t.bind(r._buildEventName(i),s,(a.guid=o.guid=o.guid||e.guid++,a)):e.each(i,function(e,n){r.bindToDomElem(t,e,s,n)}),r},bindToDoc:function(t,e,n){return this._needSpecialUnbind=!0,this.bindToDomElem(s,t,e,n)},bindToWin:function(t,s,o){return e.isFunction(s)&&(o=s,s=n),this._needSpecialUnbind=!0,this.bindToDomElem(i,t,s,o)},bindTo:function(t,n,i,s){switch(arguments.length){case 3:e.isFunction(i)&&(s=i,"object"==typeof n&&(i=n,n=t,t=this.domElem));break;case 2:e.isFunction(n)?(s=n,n=t,t=this.domElem):"string"==typeof t||t instanceof e||(i=n,n=t,t=this.domElem);break;case 1:n=t,t=this.domElem}return"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,i,s)},unbindFromDomElem:function(t,e,n){return t.unbind(this._buildEventName(e),n),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(s,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(i,t,e)},unbindFrom:function(t,n,i){var s=arguments.length;return 1===s?(n=t,t=this.domElem):2===s&&e.isFunction(n)?(i=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,n,i)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map(function(t){return e._buildOneEventName(t)}).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var n="."+this._uniqId;if(-1===t.indexOf("."))return e[t]=t+n,e[t];var i=".bem_"+this.__self._name;return e[t]=t.split(".").map(function(t,e){return 0===e?t+i:i+"_"+t}).join("")+n,e[t]},_trigger:function(t,e){this.__base.apply(this,arguments),this._ctxTrigger(t,e)},_ctxTrigger:function(t,n){var i=this,s=c[i.__self._buildCtxEventName(t.type)],o={};s&&i.domElem.each(function(){for(var r=this,a=s.counter;r&&a;){var c=e.identify(r,!0);if(c){if(o[c])break;var u=s.ctxs[c];u&&(e.each(u,function(e,s){s.fn.call(s.ctx||i,t,n)}),a--),o[c]=!0}r=r.parentNode}})},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,s=[].slice.call(arguments,e?1:0),o=this._extractMods(s,e?t:n);return e||(s.length?s.forEach(function(t){i[t]=o[t]}):i=o),o},setMod:function(t,n,i){if(t&&void 0!==i&&t.length>1){var s=this;return t.each(function(){var o=e(this);o.__bemElemName=t.__bemElemName,s.setMod(o,n,i)}),s}return this.__base(t,n,i)},_extractModVal:function(t,e,n){var i,s=(e||this.domElem)[0];return s&&(i=s.getAttribute("class").match(this.__self._buildModValRE(t,n||e))),i?i[2]||!0:""},_extractMods:function(t,e){var n={},i=!t.length,s=0;return((e||this.domElem).eq(0).attr("class").match(this.__self._buildModValRE("("+(i?d:t.join("|"))+")",e,"g"))||[]).forEach(function(t){var e=t.match(m);n[e[1]]=e[2]||!0,++s}),s<t.length&&t.forEach(function(t){t in n||(n[t]="")}),n},_afterSetMod:function(t,n,i,s,o){if(this._isDestructing)return this.__base.apply(this,arguments);var r=this.__self,a=r._buildModClassPrefix(t,o),c=r._buildModValRE(t,o,"g"),u=""===n||!1===n;(s||this.domElem).each(function(){var t=e(this),s=t.attr("class"),o=a;!0!==n&&(o+=p+n),(!0===i?c.test(s):(" "+s).indexOf(" "+a+p)>-1)?t.attr("class",s.replace(c,u?"":"$1"+o)):u||t.addClass(o)}),o&&this.dropElemCache(o,t,i).dropElemCache(o,t,n),this.__base.apply(this,arguments)},findElem:function(t,e,n,i){arguments.length%2?(i=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t)),e=e.split(" ");var s=this.__self.getName(),o=_(n,i),r=[],a=e.map(function(t){return r.push("."+g(s,t,n,i)),t+o}),c=1===a.length,u=k(t,r.join(","));return t===this.domElem&&r.forEach(function(t,n){(this._elemCache[a[n]]=c?u:u.filter(t)).__bemElemName=e[n]},this),u},_elem:function(t,e,n){return this._elemCache[t+_(e,n)]||this.findElem(t,e,n)},elem:function(t,n,i){if(2===arguments.length&&(i=!0),n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,i);var s=e([]);return t.split(" ").forEach(function(t){s=s.add(this._elem(t,n,i))},this),s},dropElemCache:function(t,e,n){if(t){var i=_(e,n);t.indexOf(" ")<0?delete this._elemCache[t+i]:t.split(" ").forEach(function(t){delete this._elemCache[t+i]},this)}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),E(t[0])[g(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each(function(){return!(e=t.parents().andSelf().index(this)>-1)}),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this.__self;this._isDestructing||(this._isDestructing=!0,this._needSpecialUnbind&&n.doc.add(n.win).unbind("."+this._uniqId),this.dropElemCache().domElem.each(function(t,n){var i=M(n);e.each(i,function(t,e){var i=r[e.uniqId];i?i._isDestructing||B(i,n):delete o[e.uniqId]}),w(n)}),t||this.domElem.remove(),this.__base(),delete r[this.un()._uniqId],delete this.domElem,delete this._elemCache)}},{scope:null,doc:s,win:i,html:e(document.documentElement),_processLive:function(t){var e=this._liveInitable;if("live"in this&&void 0===e^t){e=!1!==this.live();var n=this.getName(),i=this.live;this.live=function(){return this.getName()===n?e:i.apply(this,arguments)}}return e},init:function(t,n,i){!t||e.isFunction(t)?(i=n,n=t,t=s):"string"==typeof t&&(t=e(t));var o=e.identify();return k(t,".i-bem").each(function(){!function(t,n){var i=t[0];e.each(M(i),function(s,o){x(o,i,s,n);var a=r[o.uniqId];a?a.domElem.index(i)<0&&(a.domElem=a.domElem.add(t),e.extend(a._params,o)):y(s,t,o)})}(e(this),o)}),n&&this.afterCurrentEvent(function(){n.call(i||this,t)}),this._runAfterCurrentEventFns(),t},destruct:function(t,i,s){"boolean"!=typeof t&&(s=i,i=t,t=n),i&&(b.call(k(i,".i-bem",s)).each(function(t,n){var i=M(this);e.each(i,function(t,e){if(e.uniqId){var i=r[e.uniqId];i?B(i,n):delete o[e.uniqId]}}),w(this)}),t||(s?i.empty():i.remove()))},update:function(t,e,n,i){return this.destruct(t,!0),this.init(t.html(e),n,i)},replace:function(t,n){return this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){return this.init(e(n).appendTo(t))},prepend:function(t,n){return this.init(e(n).prependTo(t))},before:function(t,n){return this.init(e(n).insertBefore(t))},after:function(t,n){return this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,i,o){var r=this;if(n.indexOf(" ")>-1)n.split(" ").forEach(function(e){r._liveClassBind(t,e,i,o)});else{var a=u[n],c=e.identify(i);a||(a=u[n]={},s.bind(n,r._liveClassTrigger.bind(r))),c in(a=a[t]||(a[t]={uniqIds:{},fns:[]})).uniqIds||(a.fns.push({uniqId:c,fn:r._buildLiveEventFn(i,o)}),a.uniqIds[c]=a.fns.length-1)}return this},_liveClassUnbind:function(t,n,i){var s=u[n];if(s)if(i){if(s=s[t]){var o=e.identify(i);if(o in s.uniqIds){var r=s.uniqIds[o],a=s.fns.length-1;for(s.fns.splice(r,1);r<a;)s.uniqIds[s.fns[r++].uniqId]=r-1;delete s.uniqIds[o]}}}else delete s[t];return this},_liveClassTrigger:function(t){var n=u[t.type];if(n){var i=t.target,s=Object.keys(n);do{for(var o,r=" "+i.className+" ",a=0;o=s[a++];)if(-1!==r.indexOf(" "+o+" ")){for(var c=!1,h=n[o].fns,l=0;l<h.length;l++)!1===h[l].fn.apply(e(i),arguments)&&(c=!0);if(c&&t.preventDefault(),c||t.isPropagationStopped())return;s.splice(--a,1)}}while(s.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,n){var i=this;return function(s){var o=[i._name,((s.data||(s.data={})).domElem=e(this)).closest(i.buildSelector()),!0],r=y.apply(null,n?o.concat([t,s]):o);if(r&&!n&&t)return t.apply(r,arguments)}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,i,s,o){i&&!e.isFunction(i)||(s=i,i=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var r=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach(function(e){r._liveClassBind(g(r._name,e,t.modName,t.modVal),i,s,o)}),r):r._liveClassBind(g(r._name,t.elem,t.modName,t.modVal),i,s,o)},liveUnbindFrom:function(t,i,s){i&&!e.isFunction(i)||(s=i,i=t,t=n);var o=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach(function(t){o._liveClassUnbind(g(o._name,t),i,s)}),o):o._liveClassUnbind(g(o._name,t),i,s)},_liveInitOnBlockEvent:function(t,e,n,i){var s=this._name;return h[e].on(t,function(t){if(t.block.domElem){var e=arguments,o=t.block[i](s);n&&o.forEach(function(t){n.apply(t,e)})}}),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},on:function(t,e,n,i,s){return t.jquery?this._liveCtxBind(t,e,n,i,s):this.__base(t,e,n,i,s)},un:function(t,e,n,i){return t.jquery?this._liveCtxUnbind(t,e,n,i):this.__base(t,e,n)},liveCtxBind:function(t,e,n,i,s){return this._liveCtxBind(t,e,n,i,s)},_liveCtxBind:function(t,i,s,o,r){var a=this;if("object"==typeof i&&(e.isFunction(s)||e.isFunction(o))&&(i=this._buildModEventName(i)),"string"==typeof i)if(e.isFunction(s)&&(r=o,o=s,s=n),i.indexOf(" ")>-1)i.split(" ").forEach(function(e){a._liveCtxBind(t,e,s,o,r)});else{var u=a._buildCtxEventName(i),h=c[u]||(c[u]={counter:0,ctxs:{}});t.each(function(){var t=e.identify(this),n=h.ctxs[t];n||(n=h.ctxs[t]={},++h.counter),n[e.identify(o)+(r?e.identify(r):"")]={fn:o,data:s,ctx:r}})}else e.each(i,function(e,n){a._liveCtxBind(t,e,n,s)});return a},liveCtxUnbind:function(t,e,n,i){return this._liveCtxUnbind(t,e,n,i)},_liveCtxUnbind:function(t,n,i,s){"object"==typeof n&&e.isFunction(i)&&(n=this._buildModEventName(n));var o=c[n=this._buildCtxEventName(n)];return o&&(t.each(function(){var t,n=e.identify(this,!0);n&&(t=o.ctxs[n])&&(i&&delete t[e.identify(i)+(s?e.identify(s):"")],i&&!e.isEmptyObject(t)||(o.counter--,delete o.ctxs[n]))}),o.counter||delete c[n]),this},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t.eq(0).attr("class").match(this._buildElemNameRE());return e?e[1]:n},extractParams:E,_buildModClassPrefix:function(t,e){return this._name+(e?f+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+p+t},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+p+"("+d+"))?(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+f+"("+d+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+g(this._name,t,e,n)},getBlockByUniqId:function(t){return r[t]},getWindowSize:function(){return{width:i.width(),height:i.height()}}});e(function(){t.DOM.scope=e("body")})}(BEM,jQuery),function(t){var e=t(window),n=s(),i=o();function s(){return window.innerHeight|0+e.outerHeight()}function o(){return window.innerWidth|0+e.outerWidth()}(t.event.special.resize||(t.event.special.resize={})).preDispatch=function(t){var e=s(),r=o();if(i===r&&n===e)return!1;n=e,i=r}}(jQuery),jQuery.cookie=function(t,e,n){if(void 0===e){var i=null;if(document.cookie&&""!=document.cookie)for(var s=document.cookie.split(";"),o=0;o<s.length;o++){var r=jQuery.trim(s[o]);if(r.substring(0,t.length+1)==t+"="){i=decodeURIComponent(r.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var a,c="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(a=new Date).setTime(a.getTime()+24*n.expires*60*60*1e3):a=n.expires,c="; expires="+a.toUTCString());var u=n.path?"; path="+n.path:"",h=n.domain?"; domain="+n.domain:"",l=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),c,u,h,l].join("")},function(t){var e={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};function n(t,n){var i="";try{i=t(n)}catch(s){try{i=t(function(t){return t.replace(/%.{2}/g,function(t){return e[t]||t})}(n))}catch(t){i=n}}return i}jQuery.extend({decodeURI:function(t){return n(decodeURI,t)},decodeURIComponent:function(t){return n(decodeURIComponent,t)}})}(),function(t,e,n){var i={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",hwTimestamp:0,isPrimary:!1,target:null,currentTarget:null,which:0,pageX:0,pageY:0,timeStamp:0},s=Object.keys(i),o=s.map(function(t){return i[t]}),r=s.length,a=!1,c=[0,1,4,2];try{a=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}function u(t,e){var n={},i=t.originalEvent||{};e||(e={});for(var u,h=0;h<r;h++)n[u=s[h]]=e[u]||t[u]||i[u]||o[h];return n.x=n.clientX,n.y=n.clientY,n.pressure=n.pressure||(n.buttons?.5:0),n.buttons||a||(n.buttons=c[n.which]||0),n.originalEvent=t.originalEvent||null,e.preventDefault?n.preventDefault=function(){e.preventDefault(),t.preventDefault()}:(n.preventDefault=function(){t.preventDefault()},n._preventScroll=function(){}),n}var h=t.Map&&t.Map.prototype.forEach?new t.Map:{array:[],size:0,set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,i){t.call(e,n,i,this)},this)}},l={eventMap:{},captureInfo:{},eventSourceList:[],registerSource:function(t,e){var n=e.events;n&&(n.forEach(function(t){e[t]&&(this.eventMap[t]=e[t].bind(e))},this),this.eventSourceList.push(e))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){return!!t.contains&&t.contains(e)},getCommonAncestor:function(t,n){for(;t&&t!==e.documentElement;){if(t.contains&&t.contains(n))return t;t=t.parentNode}return null},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.pop(),this.fireEvent("pointerenter",t)},leave:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.shift(),this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){n(t).on(e,this.boundHandler)},removeEvent:function(t,e){n(t).off(e,this.boundHandler)},eventHandler:function(t){var e=this.eventMap[t.type];e&&e(t,t.originalEvent)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i=function(t,e){var i=n.Event(t),s=e.preventDefault,o=i.preventDefault.bind(i);return jQuery.extend(i,e),i.preventDefault=function(){s(),o()},i}(t,e);return i._target=i._target||e.target,i},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,i){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=i,this.implicitRelease=this.releaseCapture.bind(this,t),n(e).on("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("gotpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i}))},releaseCapture:function(t){var i=this.captureInfo[t];i&&(this.captureInfo[t]=void 0,n(e).off("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("lostpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i})))},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return n.event.trigger(t,null,e,!t.bubbles)},asyncDispatchEvent:function(e){(t.requestAnimationFrame||setTimeout)(this.dispatchEvent.bind(this,e))}};l.boundHandler=l.eventHandler.bind(l);var d,p,f={POINTER_ID:1,POINTER_TYPE:"mouse",DEDUP_DIST:25,events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){l.listen(t,this.events)},unregister:function(t){l.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,s=t.clientY,o=0,r=n.length;o<r&&(e=n[o]);o++){var a=Math.abs(i-e.x),c=Math.abs(s-e.y);if(a<=this.DEDUP_DIST&&c<=this.DEDUP_DIST)return!0}},prepareEvent:function(t){return u(t,{pointerId:this.POINTER_ID,isPrimary:!0,pointerType:this.POINTER_TYPE})},mousedown:function(t){this.isEventSimulatedFromTouch(t)||(h.has(this.POINTER_ID)&&this.cancel(t),h.set(this.POINTER_ID,t),l.down(this.prepareEvent(t)))},mousemove:function(t){this.isEventSimulatedFromTouch(t)||l.move(this.prepareEvent(t))},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=h.get(this.POINTER_ID);e&&e.button===t.button&&(l.up(this.prepareEvent(t)),this.cleanupMouse())}},mouseover:function(t){this.isEventSimulatedFromTouch(t)||l.enterOver(this.prepareEvent(t))},mouseout:function(t){this.isEventSimulatedFromTouch(t)||l.leaveOut(this.prepareEvent(t))},cancel:function(t){l.cancel(this.prepareEvent(t)),this.cleanupMouse()},cleanupMouse:function(){h.delete(this.POINTER_ID)}},m={POINTER_TYPE:"touch",DEDUP_TIMEOUT:2500,CLICK_COUNT_TIMEOUT:200,events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){l.listen(t,this.events)},unregister:function(t){l.unlisten(t,this.events)},firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===h.size||1===h.size&&h.has(1))&&(this.firstTouch=t.identifier,this.firstTouchTarget=t.target,this.scrolling=!1,this.firstXY={X:t.clientX,Y:t.clientY},this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstTouchTarget=null,this.firstXY=null,this.shouldScrollCache=void 0,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,this.CLICK_COUNT_TIMEOUT)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return e.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this,i=this.currentTouchEvent,s=t.identifier+2;return u(i,n.extend({},t,{pointerId:s,target:l.captureInfo[s]||this.findTarget(t),bubbles:!0,cancelable:!0,detail:this.clickCount,button:0,buttons:this.typeToButtons(i.type),width:t.webkitRadiusX||t.radiusX||0,height:t.webkitRadiusY||t.radiusY||0,pressure:t.webkitForce||t.force||.5,isPrimary:this.isPrimaryTouch(t),pointerType:this.POINTER_TYPE,preventDefault:function(){e.scrolling=!1,e.shouldScrollCache=!1,e.firstXY=null}}))},processTouches:function(t,e){var n=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var i,s=0;s<n.length;s++)i=n[s],e.call(this,this.touchToPointer(i))},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e,n=this.scrollTypes;return t===n.EMITTER?e="none":t===n.XSCROLLER?e="X":t===n.YSCROLLER?e="Y":n.SCROLLER.exec(t)&&(e="XY"),e},shouldScroll:function(t){if(void 0!==this.shouldScrollCache)return this.shouldScrollCache;if(!this.firstXY)return!0;var e,n,i=this.firstTouchTarget;do{if(!i)break;if(null!==(e=i.getAttribute("touch-action")))break;i=i.parentNode}while(i!==document);var s=this.touchActionToScrollType(e);if("none"===s)n=!1;else if("XY"===s||void 0===s)n=!0;else{var o=t.originalEvent.changedTouches[0],r=s,a="Y"===s?"X":"Y";n=Math.abs(o["client"+r]-this.firstXY[r])>=Math.abs(o["client"+a]-this.firstXY[a])}return this.shouldScrollCache=n,this.firstXY=null,this.firstTouchTarget=null,this.shouldScrollCache},findTouch:function(t,e){for(var n,i=0,s=t.length;i<s&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.originalEvent.touches;if(h.size>=e.length){var n=[];h.forEach(function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var s=t.out;n.push(s)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){var e=t.originalEvent.changedTouches[0];this.vacuumTouches(t),this.setPrimaryTouch(e),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){h.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),l.over(t),l.enter(t),l.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=h.get(t.pointerId);if(e){var n=e.out,i=e.outTarget;l.move(t),n&&i!==t.target&&(n.relatedTarget=t.target,t.relatedTarget=i,n.target=i,t.target?(l.leaveOut(n),l.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),e.out=t,e.outTarget=t.target}},touchend:function(t){this.dedupSynthMouse(t.originalEvent.changedTouches[0]),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(l.up(t),l.out(t),l.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){l.cancel(t),l.out(t),l.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){h.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=f.lastTouches;if(this.isPrimaryTouch(t)){var n={x:t.clientX,y:t.clientY};e.push(n);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,n);setTimeout(i,this.DEDUP_TIMEOUT)}}},_={POINTER_TYPES:["","unavailable","touch","pen","mouse"],HAS_BITMAP_TYPE:t.MSPointerEvent&&"number"==typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){l.listen(t,this.events)},unregister:function(t){l.unlisten(t,this.events)},prepareEvent:function(t){var e=u(t);return this.HAS_BITMAP_TYPE&&(e.pointerType=this.POINTER_TYPES[e.pointerType]),e},cleanup:function(t){h.delete(t)},MSPointerDown:function(t){h.set(t.originalEvent.pointerId,t),l.down(this.prepareEvent(t))},MSPointerMove:function(t){l.move(this.prepareEvent(t))},MSPointerUp:function(t){l.up(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSPointerOut:function(t){l.leaveOut(this.prepareEvent(t))},MSPointerOver:function(t){l.enterOver(this.prepareEvent(t))},MSPointerCancel:function(t){l.cancel(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSGotPointerCapture:function(t){l.fireEvent("gotpointercapture",this.prepareEvent(t))},MSLostPointerCapture:function(t){l.fireEvent("lostpointercapture",this.prepareEvent(t))}},g=function(t){if(!h.has(t))throw new Error("InvalidPointerId")};t.Element&&Element.prototype.setPointerCapture?(d=function(t,e){t.setPointerCapture(e)},p=function(t,e){t.releasePointerCapture(e)}):t.navigator.msPointerEnabled?(d=function(t,e){g(e),t.msSetPointerCapture(e)},p=function(t,e){g(e),t.msReleasePointerCapture(e)}):(d=function(t,e){g(e),l.setCapture(e,t)},p=function(t,e){g(e),l.releaseCapture(e,t)}),n.fn.extend({setPointerCapture:function(t){d(this[0],t)},releasePointerCapture:function(t){p(this[0],t)}}),t._pointerPolyfillInited||(t._pointerPolyfillInited=!0,t.PointerEvent?["move","down","up","over","out","enter","leave","cancel"].forEach(function(t){var e=jQuery.event.fixHooks,n="pointer"+t;e[n]||(e[n]={}),e[n].props=s.concat(e[n].props||[])}):(delete n.event.special.pointerenter,delete n.event.special.pointerleave,t.navigator.msPointerEnabled?l.registerSource("ms",_):(l.registerSource("mouse",f),void 0!==t.ontouchstart&&l.registerSource("touch",m)),l.register(document)))}(window,document,jQuery),function(t,e){if(!e.event.special.pointerclick){var n,i=void 0!==t.ontouchstart||navigator.msMaxTouchPoints>0,s=10,o=25,r=900,a=[],c=[],u=null,h=null,l="touchAction"in document.documentElement.style?function(t){return function t(e){return!(!e||e===document.documentElement)&&("manipulation"===getComputedStyle(e)["touch-action"]||t(e.parentElement))}(t)}:function(){return!1};i?(n={click:function(t){var e=Object(t.originalEvent)._sourcePoint;if(!e)return d.apply(this,arguments);e.isDefaultPrevented()&&t.preventDefault()},"pointerdown pointermove pointerleave pointercancel pointerup":function(t){var e,n,i=t.type;if("mouse"!==t.pointerType&&("pointerdown"!==i&&"pointerup"!==i||!l(t.target)))if("pointerdown"===i)h=t;else if("pointermove"===i&&h&&(h.target!==t.target||(e=h,n=t,Math.abs(e.clientX-n.clientX)>s||Math.abs(e.clientY-n.clientY)>s)))h=null;else if("pointerleave"===i||"pointercancel"===i)h=null;else if("pointerup"===i){if(function(t){if(!t.isPrimary)return;a.push(t),setTimeout(Array.prototype.shift.bind(a),r)}(t),!h)return;if(!(t.timeStamp-h.timeStamp>250))return u||(u=setTimeout(function(){u=h=null})),d.apply(this,arguments);h=null}}},["mousedown","click"].forEach(function(e){t.addEventListener(e,function(t){!function(t){var e=t.clientX,n=t.clientY,i="_compat"+t.type;if(t._sourcePoint)return;for(var s=0;s<a.length;s++){var u=a[s],h=u.target===t.target;if(!u[i]&&((h||!(Math.abs(e-u.clientX)>o||Math.abs(n-u.clientY)>o))&&(h||document.elementFromPoint(u.clientX,u.clientY)!==u.target))){t._sourcePoint=u,u[i]=t;break}}c.push(t),setTimeout(Array.prototype.shift.bind(c),r)}(t),function(t){var e=function(t){for(var e=0;e<c.length;e++)if(c[e]===t)return c[e]._sourcePoint}(t);return Boolean(e)&&e.target!==t.target}(t)&&(t.preventDefault(),t.stopPropagation())},!0)})):n={click:function(t){return d.apply(this,arguments)}},e.event.special.pointerclick={setup:function(){e(this).on(n)},teardown:function(){e(this).off(n)}}}function d(t){var n,i=t.type;return t.button||(t.type="pointerclick",n=e.event.dispatch.apply(this,arguments),t.type=i),n}}(window,jQuery),BEM.DOM.decl("i-global",{onSetMod:{js:{inited:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,window.BEMHTML&&BEMHTML.apply({block:"i-global",params:t})}}},getDefaultParams:function(){return{id:"",login:this.__self.getCookie("yandex_login")&&$.cookie("yandex_login")||"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t,e){if(void 0===e)return(this._params||{})[t];this._params&&(this._params[t]=e)},getCookie:function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1===n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1===i?e.substring(n):e.substring(n,i))}}),window.AG_each=function(){},window.Ya=window.Ya||{},BEM.DOM.decl("i-global",{onSetMod:{js:function(){var t=this,e=this.__self;window.tools=window.jQuery,t.__base.apply(t,arguments),BEM.I18N.lang(this.params.lang),t.i18n=e.i18n=function(t,e,n,i){if("string"==typeof t&&e){var s=new Error("Некорректно вызван i18n");s.name="DataError",s.data=arguments,window.logJsError(s)}return i=i||global.params.lang,function(t,e,n,i){if(t&&(i||("string"==typeof n&&(i=n,n=null),i))){if("[object Object]"===Object.prototype.toString.call(t)){var s="";try{s=e?t[e+"_"+i]||t[i+"_"+e]||t[e]:t[i]||t.en}catch(t){}return s}return BEM.I18N.lang(i),BEM.I18N(t,e,n)}}(t,e,n,i)},t.counter=e.counter=function(t,e){if(!t)return null;var n,i,s=["pos","story_pos","theme_pos","parent_pos","link_pos","page"],o=["type","title","has_image","state"].concat(s),r=void 0!==e,a=r?e:this.blockstat&&this.blockstat.counter,c=t.cid||1,u=[t.path||""];!a||r?a={counter:function(t,e,n){return"cid="+e+"/path="+(n&&n[0])}}:(t.vars?i=t.vars:(i={},Object.keys(t).forEach(function(e){-1===["path","cid","url"].indexOf(e)&&(i[e]=t[e])})),Object.keys(i).forEach(function(t){var e=i[t];(e||!1===e||0===e)&&(s.indexOf(t)>-1&&e<100&&(e="p"+e),u.push(o.indexOf(t)>-1?t:"-"+t,e.toString()))}));return(n=a.counter(14,c,u).match(/(?:cid=(\d+)\/)(?:path=([^/]+)\/?)(?:vars=([^/]+)\/?)?/))?[n[2],n[3]]:[]},t.counterUrl=function(e){var n=t.counter(e);return n&&n.c},t.ua=BEM.blocks["i-global"]._setUAParams(navigator.userAgent),window.global=t,t.uri=e.uri=BEM.blocks.uri.parse,t.history=e.history=BEM.blocks.history.getInstance(),t.location=e.location=BEM.blocks.location.getInstance(),t.updater=BEM.blocks["i-updater"],t.page=t.findBlockOn("b-page"),BEM.create({block:"framebuster",mods:{type:"yandex"}},{whitelist:[/webvisor\.com$/]})}},update:function(t){Ya.c.commonCounter=t.params.commonCounter,this.params=this.__self._params=t.params}},{_uaMatch:function(t){t=t.toLowerCase();var e=/(chrome)[ /]([\w.]+)/.exec(t)||/(webkit)[ /]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ /]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},_isOldBrowser:function(t){var e=t.browser,n=parseFloat(t.version);return"msie"===e&&n<9||"opera"===e&&n<11.5||"mozilla"===e&&n<2||"webkit"===e&&n<533.16},_setUAParams:function(t){var e=this._uaMatch(t);return e.isOld=this._isOldBrowser(e),e.isIE9="msie"===e.browser&&9===parseInt(e.version,10),e.hasHistoryAPI=!(!window.history||!history.pushState),this.ua=e,$("html").addClass("i-ua_b_"+this.ua.browser),e}}),BEM.DOM.decl("i-global",{onSetMod:{js:function(){this.__base.apply(this,arguments),(window.Ya=window.Ya||{}).sDefault={type:"web",service:"news"},$.ajax({url:"//yastatic.net/lego/2.10-51/blocks-touch/i-default-search/_i-default-search.js",dataType:"script",cache:!0})}}}),BEM.DOM.decl("i-bem",{_buildName:function(){return BEM.blocks["i-bem"]._buildName(this)},_buildUniqName:function(){return BEM.blocks["i-bem"]._buildUniqName(this)},_buildEventName:function(t){return BEM.blocks["i-bem"]._buildEventName(this,t)},_buildUniqEventName:function(t){return BEM.blocks["i-bem"]._buildUniqEventName(this,t)}},{live:function(){return!1},_buildName:function(t){return t?t.block||t.__self._name:""},_buildUniqName:function(t){if(!t)return"";var e=t.params||t.js,n=t._buildName?t:this;return n._buildName.apply(n,arguments)+"__"+(e.id||e.uniqId)},_buildOneEventName:function(t,e,n){if("string"==typeof t)return t;var i=n?"_buildUniqName":"_buildName",s=t[i]?t:this,o=s[i].apply(s,arguments);return(o?o+":":"")+e},_buildEventName:function(t,e,n){if("string"==typeof t)return t;var i=this;return e.split(" ").map(function(e){return i._buildOneEventName(t,e,n)}).join(" ")},_buildUniqEventName:function(t,e){return this._buildEventName(t,e,!0)}}),function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1===n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1===i?e.substring(n):e.substring(n,i))}}(window.Lego),function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(n){return(n=e.params=t.extend({id:"",login:e.isSessionValid()&&e.getCookie("yandex_login")||"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":n.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},n,e.params))["show-counters"]=Math.round(100*Math.random())<=n["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},n),n}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(n,i){n=n||document,i=i||".g-js",t(n).find(i).each(function(){var n=t(this),i=n.data("bem")||(this.onclick?this.onclick():{}),s=i.name||"",o=e.block[s];o&&!n.data(s)&&(o.call(n,i),n.data(s,!0).addClass(s+"_js_inited"))})}),e.blockInitBinded||(e.blockInitBinded=Boolean(t(document).ready(function(){e.blockInit()})))}(jQuery,window.Lego),Object.defineProperties&&Object.defineProperties(window,{$:{value:window.jQuery,writable:!1},jQuery:{value:window.jQuery,writable:!1}}),BEM.decl("framebuster",{onSetMod:{js:{inited:function(){var t=this._getWindow();if(t.top.location!==t.location){var e=this.matchDomain(t.document.referrer);e&&!this.isInWhitelist(e)&&(t.top.location=t.location)}}}},matchDomain:function(t){if(!t)return null;var e=t.match(/^https?:\/\/([^:\/\s]+)\/?.*/);return e&&e[1]},isInWhitelist:function(t){return!t||this.defaultWhitelist().concat(this.params.whitelist||[]).some(function(e){return"string"==typeof e?e===t||-1!==t.indexOf(e,t.length-e.length):!!e.test(t)})},defaultWhitelist:function(){return[]},_getWindow:function(){return window}}),BEM.decl({name:"framebuster",modName:"type",modVal:"yandex"},{defaultWhitelist:function(){return[/^([a-zA-Z0-9\-]+\.)*yandex\.(ru|kz|by|ua|com|com\.tr|net)\.?$/,/^([a-zA-Z0-9\-]+\.)*yandex-team\.(ru|kz|by|ua|com|com\.tr)\.?$/]}}),function(t,e){var n={};/msie|trident/i.test(e)?n.ie=parseInt(e.split(/msie|rv:/i)[1],10):-1!==e.indexOf("Opera")&&(n.opera=parseInt(e.split(/Version\//i)[1],10));var i,s={},o={};(i=e.match(/Windows\sPhone[^\d]*\s([\d.]+)/))?s.wp=i[1]:(i=e.match(/Android\s+([\d.]+)/))?s.android=i[1]:e.match(/\sHTC[\s_].*AppleWebKit/)?s.android="2.3":(i=e.match(/iPhone\sOS\s([\d_]+)/))?(s.ios=i[1].replace(/_/g,"."),o.iphone=!0):(i=e.match(/iPad.*OS\s([\d_]+)/))?(s.ios=i[1].replace(/_/g,"."),o.ipad=!0):(i=e.match(/Bada\/([\d.]+)/))?s.bada=i[1]:(i=e.match(/MSIE\s9/))?s.wp="7.5":s.other=!0,BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){var t=this.__self,e="other";["ios","android","bada","wp","opera"].some(function(n){return t[n]&&(e=n)}),this.setMod("platform",e)}}},setVersion:function(){var t=this.parseVersion();t&&(this.setMod(t.platform,t.major),this.setMod(t.platform+"-subversion",t.subversion))},parseVersion:function(){if(this.__self.ios||this.__self.android){var t=(this.__self.ios||this.__self.android).split("."),e=t.shift(),n=t.join("-");return{platform:this.getMod("platform"),major:e,subversion:n}}}},{ios:s.ios,iphone:o.iphone,ipad:o.ipad,android:s.android,bada:s.bada,wp:s.wp,other:s.other,ua:e,ie:n.ie,opera:n.opera})}(window,navigator.userAgent),BEM.DOM.decl("i-ua",{},{safari:/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}),function(){var t={},e=$("<div>").append("body");["vw","vh","vmin"].forEach(function(n){t[n]=e.css("height","1"+n).height()>0,e.height("")}),e.remove(),BEM.DOM.decl("i-ua",{},{vw:t.vw,vh:t.vh,vmin:t.vmin})}(),$(function(){BEM.afterCurrentEvent(function(){BEM.channel("i-bem").trigger("start-init"),BEM.DOM.init(function(){BEM.channel("i-bem").trigger("init")})})}),BEM.DOM.decl("proffit-manager",{onSetMod:{js:function(){this.prefix=this.getPrefix(),this._nonce=this.params.nonce,this._startTime=Ya.Rum&&Ya.Rum.getTime(),BEM.channel("sys").on("updated:page-content",this.request,this),BEM.blocks.location.getInstance().on("change",this._clearTimeouts,this),this.request()}},destruct:function(){return this._clearTimeouts(),BEM.channel("sys").un("updated:page-content",this.request,this),BEM.blocks.location.getInstance().un("change",this._clearTimeouts,this),this.__base.apply(this,arguments)},_clearTimeouts:function(){clearTimeout(this._downloadTimeout)},request:function(){var t=this.params;if(t.order&&t.banners&&!t.isTests){this._commonParams={async:!0,statId:this.params.statId,extParams:this.params.extParams,cspNonce:this._nonce,csp_nonce:this._nonce};var e=this._getCallbacks();e.length&&this._waitAdvManagerAndRender(e)}},_getCallbacks:function(){var t=this,e=this.dict,n=this.params,i=n.banners,s=[];return n.order.forEach(function(n,o){var r=i[n];if(r&&!("string"==typeof r&&"C"===r[0]||"main"===n&&t._isContentShort&&t._isContentShort())){var a=Ya.Rum&&Ya.Rum.makeSubPage("155."+e[n],this._startTime);Ya.Rum&&Ya.Rum.sendTTI(!1,this._startTime,a),t._getBlocksByName(n).each(function(e,i){var o=$(i);o.hasClass("profit_js_inited")||s.push(t._makeCallback({subPage:a,name:n,$proffit:o,pageNumber:e}))})}}),s},_getBlocksByName:function(t){return $({main:".proffit_name_main",alt:".proffit_name_alt",top:".proffit_name_top",first:".proffit_name_first",more:".proffit_name_more",footer:".proffit_name_footer"}[t])},_identify:function(t){var e=t.$proffit.attr("id");return e||(e=$.identify(),t.$proffit.attr("id",e)),e},_makeCallback:function(t){var e=this,n=this.prefix+this.params.banners[t.name],i=this._identify(t),s=$.extend({blockId:n,initTime:Number(new Date),renderTo:i,pageNumber:t.pageNumber||null},e._commonParams);return function(){s.onRender=e._onRender.bind(e,{blockId:n,name:t.name,$proffit:t.$proffit,subPage:t.subPage,advParams:s}),Ya.Context.AdvManager.render(s),Ya.Rum&&Ya.Rum.sendTimeMark("1724",Ya.Rum.getTime(),!1,t.subPage)}},_waitAdvManagerAndRender:function(t){var e=this,n=0;!function i(){Ya.Context&&Ya.Context.AdvManager?t.forEach(function(t){return t()}):n++>3e3||(e._downloadTimeout=setTimeout(i))}()},_onRender:function(t,e){if(t.$proffit.bem("proffit").onRender(t),!t.sent){var n="2046";"direct"===e.product?n+=".155":"rtb"===e.product&&(n+=".3431"),Ya.Rum&&Ya.Rum.sendTimeMark(n,Ya.Rum.getTime(),!1,t.subPage),t.sent=!0}},dict:{top:77,main:321,alt:2990,first:205,more:75,footer:295}}),BEM.DOM.decl("proffit-manager",{initAlt:function(t){var e=t.height(),n=this._getContentHeight(),i=this;if(e<100)this.reties++<10&&setTimeout(function(){i.initAlt(t)},100);else if(n>=620&&(e<320||n>=820&&(e<420||e<620&&window.outerHeight>=1e3))){var s=$(".proffit_name_alt");(e>320&&e<420||240===t.find(".yap-rtb__iframe").width())&&s.width(240);var o=this._makeCallback({$proffit:s,name:"alt"});this._waitAdvManagerAndRender([o])}},reties:0,_onRender:function(t){this.__base.apply(this,arguments),"main"===t.name&&this.params.banners.alt&&this.initAlt(t.$proffit)},getPrefix:function(){return this.findBlockOutside("i-global").params.isSport?"R-I-332879-":"R-I-93511-"}}),BEM.DOM.decl("proffit-manager",{_isContentShort:function(){return $(".page-content").height()-[].reduce.call($(".filters, .widget_theme_island, .addition"),function(t,e){return t+$(e).height()},0)<=200}}),BEM.DOM.decl("proffit-manager",{_isContentShort:function(){return this._getContentHeight()<600},_getContentHeight:function(){return $(".story__main").height()}}),window.Ya&&window.Ya.Rum&&(function(t){if(!t)throw new Error("Rum: interface is not included");if(!t.enabled)return t.getSetting=function(){return""},t.getVarsList=function(){return[]},void(t.getResourceTimings=t.pushConnectionTypeTo=t.pushTimingTo=t.normalize=t.sendCounter=t.sendDelta=t.sendTimeMark=t.sendResTiming=t.sendTTI=t.makeSubPage=t.sendFirstPaint=t.sendHeroElement=function(){});t.getSetting=function(e){var n=t._settings[e];return null===n?null:n||""},t.getVarsList=function(){var e=t._vars;return Object.keys(e).map(function(t){return t+"="+e[t]})},t.setVars=function(e){Object.keys(e).forEach(function(n){t._vars[n]=e[n]})};var e="690.1033",n="690.2096.207",i="690.2096.2877",s="690.2096.2044",o="690.2096.2748",r="690.2096.2335.1822",a=10,c=3e3,u=2e4,h={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},l={visible:1,hidden:2,prerender:3},d={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},p={"first-paint":2793,"first-contentful-paint":2794},f=Object.keys(p).length,m=t.getTime,_=window.performance||{},g=_.timing||{},v=_.navigation||{},b=navigator.connection,y={},x=t._deltaMarks,k=document.createElement("link"),M="function"==typeof _.getEntriesByType,E=g.navigationStart,w=g.responseStart-E,B=g.domainLookupStart-E,T=t.getVarsList().concat("1042="+encodeURIComponent(navigator.userAgent)),C=T.concat(["143.2129="+E,"143.2112="+B,"143.2119="+w]);if(t.ajaxStart=0,t.ajaxComplete=0,window.PerformanceObserver)try{new PerformanceObserver(function(t,e){var n=t.getEntriesByType("navigation")[0];if(n){e.disconnect();var i=[];H(i,n),L(i),W("690.2096.2892",T.concat(i))}}).observe({entryTypes:["navigation"]})}catch(t){}function I(){removeEventListener("DOMContentLoaded",I),removeEventListener("load",I),E&&setTimeout(function(){t.sendTimeMark=O,t.sendResTiming=R,t.timeEnd=j;for(var e=t._defRes;e.length;){var n=e.shift();R(n[0],n[1])}for(var i=t._defTimes;i.length;){var s=i.shift();O(s[0],s[1],!1,s[2])}var o,a;Object.keys(x).forEach(function(t){N(t)}),S(),function e(){if(M&&!t.isVisibilityChanged()){for(var n=_.getEntriesByType("paint"),i=0;i<n.length;i++){var s=n[i],o=p[s.name];o&&!D[s.name]&&(D[s.name]=!0,P++,O("1926."+o,s.startTime))}if(t.getSetting("enablePaintPerformanceObserver")&&P<f)try{new PerformanceObserver(function(t,n){e(),n.disconnect()}).observe({entryTypes:["paint"]})}catch(t){}}}(),t.getSetting("sendStaticLocation")&&(o=document.createElement("script"),a=t.getSetting("crossOrigin"),o.src="https://yastatic.net/nearest.js",o.async=!0,null!==a&&(o.crossOrigin=a),o.onload=function(){var t=window.YaStaticRegion;t&&W(r,T.concat("1822="+t))},document.head.appendChild(o)),F(),M&&("complete"===document.readyState?z():addEventListener("load",z))},0)}function S(){var n=g.domContentLoadedEventStart,i=g.domContentLoadedEventEnd;if(0!==n||0!==i){var s=function(){if(!t.isVisibilityChanged())return window.chrome&&"function"==typeof window.chrome.loadTimes?1e3*window.chrome.loadTimes().firstPaintTime:g.msFirstPaint?g.msFirstPaint:void 0}(),o=T.concat(["2129="+E,"1036="+(g.domainLookupStart-E),"1037="+(g.domainLookupEnd-g.domainLookupStart),"1038="+(g.connectEnd-g.connectStart),g.secureConnectionStart&&"1383="+(g.connectEnd-g.secureConnectionStart),"1039="+(g.responseStart-g.connectEnd),"1040="+(g.responseEnd-g.responseStart),"1040.906="+(g.responseEnd-g.domainLookupStart),"1310.2084="+(g.domLoading-g.responseStart),"1310.2085="+(g.domInteractive-g.responseStart),"1310.1309="+(i-n),"1310.1007="+(n-g.responseStart),"2299="+history.length,navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);t.mark("1039 ttfb",g.responseStart-g.connectEnd),t.mark("1310.1007 dom.loaded",g.domContentLoadedEventStart-g.responseStart),s&&(o.push("2130="+(s-E),"1041="+(s-g.responseStart),"1041.906="+(s-g.domainLookupStart)),t.mark("1041.906 ttfp",s-g.domainLookupStart)),Object.keys(h).forEach(function(t){t in g&&g[t]&&o.push(h[t]+"="+U(g[t],E))}),t.vsStart?(o.push("1484="+(l[t.vsStart]||2771)),t.vsChanged&&o.push("1484.719=1")):o.push("1484="+l.visible),v&&(v.redirectCount&&o.push("1384.1385="+v.redirectCount),1!==v.type&&2!==v.type||o.push("770.76="+v.type)),L(o),W(e,o,["dtype=stred","pid=1","cid=72202"])}else setTimeout(S,50)}"loading"===document.readyState?(addEventListener("DOMContentLoaded",I),addEventListener("load",I)):I();var D={},P=0;function O(e,i,s,o){void 0===i&&(i=m()),void 0!==s&&!0!==s||t.mark(e,i);var r=V(e);r.push("207="+U(i)),A(r,o)&&(W(n,r),y[e]=y[e]||[],y[e].push(i))}function A(t,e){if(e){if(e.isCanceled&&e.isCanceled())return!1;Object.keys(e).forEach(function(n){"function"!=typeof e[n]&&t.push(n+"="+e[n])})}return!0}function j(t){var e=x[t];e&&0!==e.length&&(e.push(m()),N(t))}function N(e,n,s){var o,r,a=x[e];if(void 0!==n?o=(r=t.getTime())-n:a&&(o=a[0],r=a[1]),void 0!==o&&void 0!==r){var c=V(e);c.push("207.2154="+U(o),"207.1428="+U(r),"2877="+U(r-o)),A(c,s)&&(W(i,c),delete x[e])}}function R(t,e){q(e,function(n){if(n){var i=V(t);i.push("13="+encodeURIComponent(e)),H(i,n[0]),W(s,i)}})}function z(){if(removeEventListener("load",z),M){var t=_.getEntriesByType("resource").reduce(function(t,e){var n,i=e.name.match(/^https?:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return i&&((n=i[1])in t||(t[n]={count:0,size:0}),t[n].count++,e.transferSize&&(t[n].size+=e.transferSize)),t},{}),e="2748=";Object.keys(t).forEach(function(n){e+=n+"!"+t[n].count+"!"+(t[n].size||"")+";"}),W(o,T.concat(e))}}function F(e,n,i){if(t._tti){var s=m(),o=function(t,e,o){var r={2796.2797:function(t,e){return t=t||[],e=e||0,t.filter(function(t){return t.startTime-e>=-50}).map(function(t){var e=t.name?t.name.split("-").map(function(t){return t[0]}).join(""):"u",n=Math.floor(t.startTime);return e+"-"+n+"-"+Math.floor(n+t.duration)}).join(".")}(o,n),689.2322:U(s)};i&&Object.keys(i).forEach(function(t){r[t]=i[t]}),O(t||"2795",e,!0,r)},r=function(){var i,a=n||s,h=m(),l=t._tti.events||[],d=l.length;0!==d&&(i=l[d-1],a=Math.max(a,Math.floor(i.startTime+i.duration))),h-a>=c?o(e,a,l):h-a>=u?o(e,(n||s)+u,l):setTimeout(r,1e3)};r()}}function L(t){b&&t.push("2437="+(d[b.type]||2771),b.downlinkMax&&"2439="+b.downlinkMax,b.effectiveType&&"2870="+b.effectiveType)}function q(t,e){if(!M)return e(null);k.href=t;var n=k.href,i=0,s=100;setTimeout(function t(){var o=_.getEntriesByName(n);if(o.length)return e(o);i++<a?(setTimeout(t,s),s+=s):e(null)},0)}function V(e){return C.concat(["1701="+e,t.ajaxStart&&"1201.2154="+U(t.ajaxStart),t.ajaxComplete&&"1201.2052="+U(t.ajaxComplete)])}function H(t,e){Object.keys(h).forEach(function(n){if(n in e){var i=e[n];(i||0===i)&&t.push(h[n]+"="+U(i))}})}function U(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}function W(e,n,i,s){var o=n.filter(Boolean).join(","),r=s?{href:s}:null;t.send(r,e,o,null,null,null,i)}t.getTimeMarks=function(){return y},t.sendTTI=F,t.sendFirstPaint=function(t){window.requestAnimationFrame?requestAnimationFrame(function(){O("2130",t)}):O("2130",t)},t.sendHeroElement=function(t){O("2876",t)},t._subpages={},t.makeSubPage=function(e,n){var i=t._subpages[e];t._subpages[e]=void 0===i?i=0:++i;var s=!1;return{689.2322:U(n||Ya.Rum.getTime()),2924:e,2925:i,isCanceled:function(){return s},cancel:function(){s=!0}}},t.getResourceTimings=q,t.pushConnectionTypeTo=L,t.pushTimingTo=H,t.normalize=U,t.sendCounter=W,t.sendDelta=N}(Ya.Rum),Ya.Rum.enabled&&addEventListener("load",function t(){removeEventListener("load",t),Ya.Rum.sendTimeMark("1724");for(var e=document.querySelectorAll("script[data-rCid], div[data-rCid]"),n=0,i=e.length;n<i;n++){var s=e[n],o=s.src;if(!o){var r=getComputedStyle(s).backgroundImage;if(r){var a=r.match(/^url\(["']?(.*?)["']?\)$/);a&&(o=a[1])}}o&&Ya.Rum.sendResTiming(s.getAttribute("data-rCid"),o)}}),window.BEM&&BEM.channel("i-bem").onFirst("start-init",function(){Ya.Rum.sendTimeMark("2418")}).onFirst("init",function(){Ya.Rum.sendTimeMark("2295")})),$.extend({debounce:function(t,e,n,i){var s,o=function(){var o=arguments;i=i||this,n&&!s&&t.apply(i,o),clearTimeout(s),s=setTimeout(function(){n||t.apply(i,o),s=null},e)};return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),o.stop=function(){clearTimeout(s),s=null},o},throttle:function(t,e,n){var i,s,o,r=function(){s=arguments,o=!0,n=n||this,i||function(){o?(t.apply(n,s),o=!1,i=setTimeout(arguments.callee,e)):i=null}()};return r.stop=function(){clearTimeout(i),i=null},r}}),BEM.decl("location",{onSetMod:{js:function(){this._history=BEM.blocks.history.getInstance(),this._syncState(),this._history.on("statechange",this.changeThis(this._onStateChange))}},_onStateChange:function(){this._syncState(),this._state.referer!==BEM.blocks.uri.normalize(window.location.href)&&!1!==this._state.trigger&&(this.trigger("change",this._state),this._state.block&&this.channel(this._state.block).trigger("change"))},_syncState:function(){var t=this._history.state,e=BEM.blocks.uri.parse(t.url);return this._state=$.extend({},t.data,{referer:this._state&&this._state.url,url:e.build(),hostname:e.host(),path:e.path(),params:e.queryParams}),this},change:function(t){var e=BEM.blocks.uri.parse(t.url);if(t.url&&delete t.params,t.url=e.build(),t.params){var n=BEM.blocks.uri.parse(),i=t.forceParams?t.params:$.extend({},this._state.params,t.params);Object.keys(i).forEach(function(t){n.addParam(t,i[t])}),t.url=n.build()}!1===t.trigger||(t.trigger=!0);try{this._history.changeState(!1===t.history?"replace":"push",{data:t,url:t.url})}catch(e){if("SecurityError"===e.name)throw e;"undefined"!=typeof console&&console.error,window.location.assign(t.url)}},getState:function(){return $.extend(!0,{},this._state)},getUri:function(){return BEM.blocks.uri.parse(this._state.url)},getReferer:function(){return this._state.referer}},{_instance:null,getInstance:function(){return this._instance||(this._instance=BEM.create("location"))}}),BEM.decl("location",{change:function(t){var e=t.url;if(BEM.channel("sys").trigger("location:beforechange"),!global.ua.isOld&&global.ua.hasHistoryAPI)this.__base.apply(this,arguments);else{if(!e)throw new Error("No any url to change location");global.page.setMod("state","loading"),window.location.href=e}}}),BEM.decl("history",{onSetMod:{js:function(){if(!this.hasMod("provider"))throw new Error("Use BEM.blocks['history'].getInstance() instead of BEM.create('history')");this._resetUrl().bindEvents().syncState()}},destruct:function(){this.unbindEvents(),this.__base.apply(this,arguments)},pushState:function(t,e,n){return this.changeState("push",this.normalizeState(t,e,n))},replaceState:function(t,e,n){return this.changeState("replace",this.normalizeState(t,e,n))},bindEvents:function(){return this},_resetUrl:function(){return this},_removeHashbang:function(t){var e=BEM.blocks.uri,n=e.parse(t);if(""===n.anchor())return t;var i=e.parse(n.anchor().replace(/^!/,""));return n.anchor(""),n.query(i.query()),n.build()},unbindEvents:function(){return this},syncState:function(){return this.state=this.normalizeState(void 0,document.title,window.location.href),this},normalizeState:function(t,e,n){return{data:null===t?void 0:t,title:e,url:n}},changeState:function(t,e){try{window.location.assign(e.url)}catch(t){}}},{hasNativeAPI:function(){return window.history&&"pushState"in window.history},_instance:null,getInstance:function(){return this._instance||(this._instance=BEM.create({block:"history",mods:{provider:this.hasNativeAPI()?"history-api":"hashchange"}}))}}),BEM.decl("uri",{onSetMod:{js:function(){var t=this;["protocol","host","port","path","anchor"].forEach(function(e){t[e]=function(t){return void 0!==t?(this.uriParts[e]=t,this):this.uriParts[e]}})}},encode:function(t){return encodeURIComponent(t)},decode:function(t){try{t=decodeURIComponent(t)}catch(e){try{t=decodeURIComponent(this.convert(t))}catch(t){}}return t},convert:function(t){var e={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};return t=t.replace(/%.{2}/g,function(t){return e[t]||t})},normalize:function(t){return(t||"").replace(/\+/g,"%20")},parseUri:function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@\/]*))?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?:?)((((?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t||""),n={};return["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"].forEach(function(t,i){n[t]=e[i]||""}),n},parseQuery:function(t){var e,n,i,s,o,r={};if("string"!=typeof t||""===t)return r;for(n=t.replace("?","").split("&"),e=0;e<n.length;e++)i=[(i=n[e].split("=")).shift(),void 0!==i[0]?i.join("="):null],s=this.decode(i[0]),o=i[1]||""===i[1]?this.decode(i[1]):null,r[s]?(o||""===o)&&r[s].push(o):r[s]=null===o?[]:[o];return r},query:function(t){var e="";void 0!==t&&(this.queryParams=this.parseQuery(t));var n=this.queryParams,i=this;return Object.keys(n).forEach(function(t,s){s>0&&(e+="&"),"object"!=typeof n[t]||n[t].length?n[t].forEach(function(n,s){s>0&&(e+="&"),e+=i.encode(t)+"="+i.encode(n)}):e+=t}),e.length>0?"?"+e:e},getParam:function(t){return this.queryParams[t]},deleteParam:function(t,e){var n=[];return void 0!==e&&((this.queryParams[t]||[]).forEach(function(t){t!==e&&n.push(t)}),this.queryParams[t]=n),void 0!==e&&0!==n.length||delete this.queryParams[t],this},addParam:function(t,e){return this.queryParams[t]=(this.queryParams[t]||[]).concat(e),this},replaceParam:function(t,e,n){return this.deleteParam(t,n).addParam(t,e)},scheme:function(){var t="";return this.protocol()?(t+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(t+=":"),t+="//"):this.host()&&(t+="//"),t},origin:function(){var t=this.scheme();return this.host()&&(t+=this.host(),this.port()&&(t+=":"+this.port())),t},getRoot:function(){var t=this.origin();return this.path()&&(t+=this.path().replace(/\/[^\/]*$/,"")),t},pathParts:function(){return this.path().split("/")},toString:function(){var t=this.origin();return this.path()?0!==this.path().indexOf("/")&&"/"!==t[t.length-1]?t+="/"+this.path():t+=this.path():this.host()&&(this.query().toString()||this.anchor())&&(t+="/"),this.query().toString()&&(0!==this.query().toString().indexOf("?")&&(t+="?"),t+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t},build:function(){var t="";return t+=this.protocol()?this.protocol():window.location.protocol,t+=t.indexOf(":")!==t.length-1?"://":"//",t+=this.host()?this.host():window.location.hostname,this.port()?t+=":"+this.port():!this.host()&&window.location.hostname&&(t+=":"+window.location.port),this.path()?t+=this.path():this.host()?t+="/":t+=window.location.pathname,this.query()&&(0!==this.query().indexOf("?")&&(t+="?"),t+=this.query()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t}},{parse:function(t){var e=BEM.create({block:"uri"});return e.uriParts=e.parseUri(e.normalize(t)),e.queryParams=e.parseQuery(e.uriParts.query),e},normalize:function(t){return this.parse(t).toString()}}),BEM.decl({block:"history",modName:"provider",modVal:"history-api"},{_onPopState:function(t){var e=t.originalEvent.state;null!==e&&(this.state=this.normalizeState(e,document.title,window.location.href),this.state.data&&delete this.state.data.trigger,this.trigger("statechange",this.state))},bindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.on("popstate",this.changeThis(this._onPopState)),this},unbindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.off("popstate",this._onPopState),this},_resetUrl:function(){return BEM.blocks.uri.parse(window.location.href).anchor()&&window.history.replaceState({},document.title,this._removeHashbang(window.location.href)),this},syncState:function(){var t=window.history.state;return null!==t&&void 0!==t||window.history.replaceState({},document.title,window.location.href),null!==this.state&&void 0!==this.state||(this.state=this.normalizeState(void 0,document.title,window.location.href)),this},changeState:function(t,e){return window.history[t+"State"](e.data,e.title||document.title,e.url),this.state=e,this.trigger("statechange",{state:e,nativeApi:!0}),this}}),BEM.decl({block:"history",modName:"provider",modVal:"history-api"},{_resetUrl:function(){return this}}),BEM.decl({block:"history",modName:"provider",modVal:"hashchange"},{_onHashChange:function(){this.state=this.normalizeState(void 0,document.title,this._removeHashbang(window.location.href)),this.trigger("statechange",{state:this.state,nativeApi:!1})},bindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.on("hashchange",this.changeThis(this._onHashChange)),this},unbindEvents:function(){return this.__base.apply(this,arguments),BEM.DOM.win.off("hashchange",this._onHashChange),this},syncState:function(){return this.state=this.normalizeState(void 0,document.title,this._removeHashbang(window.location.href)),this},_generateHashbang:function(t){var e=BEM.blocks.uri.parse(t),n=e.pathParts();return"!/"+n[n.length-1]+e.query()},_resetUrl:function(){return this},changeState:function(t,e){var n=BEM.blocks.uri.parse(e.url);if(n.host()&&n.host()!==window.location.hostname||n.port()&&n.port()!==window.location.port||n.protocol()&&n.protocol()!==window.location.protocol.replace(":",""))throw new Error("SECURITY_ERR: DOM Exception 18");this.state=e,window.location.hash=this._generateHashbang(e.url)}}),BEM.decl({block:"history",modName:"provider",modVal:"hashchange"},{_removeHashbang:function(t){return t}}),function(t){t.event.special.pointerpress||t.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},function(e,n){function i(n){var i,s=n.type;return"mouse"===n.pointerType&&1!==n.which||(n.type=e,i=t.event.dispatch.apply(this,arguments),n.type=s),i}t.event.special[e]={setup:function(){t(this).on(n,i)},teardown:function(){t(this).off(n,i)}}})}(jQuery),$.extend({util:{}}),function(){var t=Object.prototype.toString;function e(e){return"[object Object]"===t.call(e)}function n(t,i,s){var o,r;for(o in t=Object(t),i=Object(i))void 0!==(r=s&&s(t[o],i[o],o))?t[o]=r:e(t[o])&&e(i[o])?t[o]=n(t[o],i[o],s):t[o]=i[o];return t}$.extend($.util,{merge:n,mergeBemjson:function(t,e){return n(t,e,function(t,e,n){if("mix"===n)return[].concat(t,e)})}})}(),BEM.DOM.decl("control",{onSetMod:{focused:{yes:function(){if(this.hasMod("disabled"))return!1;this._focused||(this._focus(),this.trigger("focus"))},"":function(){this._focused&&(this._blur(),this.trigger("blur"))}},disabled:{"*":function(t,e){var n=this._getControl();n.prop("disabled",Boolean(e)).attr("aria-disabled",Boolean(e)),n.attr("tabindex",e?null:this.params._tabindex)},yes:function(){this.delMod("focused")}}},_focus:function(){this._getControl().focus()},_blur:function(){this._getControl().blur()},_getControl:function(){var t=this.elem("control");return t.length>0?t:this.domElem},_onFocusin:function(){this._focused=!0,this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusout)},_onFocusout:function(){this._focused=!1,this.trigger("blur").delMod("focused").unbindFrom("focusout")},getDefaultParams:function(){return{_tabindex:this._getControl().attr("tabindex")}}},{live:function(){this.liveBindTo("focusin",function(t){this._onFocusin(t)}),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&this.liveBindTo("control","focusin",function(t){t.preventDefault()})}}),BEM.DOM.decl({block:"link",baseBlock:"control"},{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",this.params._tabindex)},yes:function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",-1),this.delMod("pressed")}}},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}),this.__base()}}),BEM.DOM.decl("link",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.__base.apply(this,arguments)}}),BEM.DOM.decl("link",{},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("pointerclick",function(t){(/mac os/i.test(navigator.userAgent)?t.metaKey:t.ctrlKey)||this.getMod("agency")&&BEM.channel("sys").trigger("link:agency",t.target.href)})}}),BEM.DOM.decl("warn",{hide:function(){this.setMod("state","off")},update:function(t){var e=this.elem("title");e&&e.html(t.title),this.elem("desc").html(t.desc)}},{live:function(){this.liveBindTo("close","pointerclick",function(){this.hide()})}}),BEM.DOM.decl("warn",{onSetMod:{js:function(){this.page_content=global.page.findBlockInside("page-content")},state:function(){var t=this;setTimeout(function(){t.page_content.trigger("resize")},500)}},show:function(){this.setMod("state","on")},hide:function(){this.setMod("state","off")},update:function(t){this.elem("content").html(t.content)}}),BEM.DOM.decl({block:"doc"},{_toggleInfectedPopup:function(){var t=this.infectedPopup;t||(t=this.infectedPopup=this.findBlockOn(this.elem("infected-info"),"popup2")).setAnchor(this.elem("infected-label")),t&&t.toggleMod("visible","yes")}},{live:function(){this.liveBindTo("infected-label","pointerclick",function(){this._toggleInfectedPopup()})}}),function(t){t.dom={getActiveElement:function(){try{return t(document.activeElement)}catch(e){return t()}}},t.fn.isFocused=function(){return this.is(t.dom.getActiveElement())}}(jQuery),BEM.DOM.decl({block:"button2",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},pressed:{yes:function(){if(this.hasMod("disabled"))return!1;this.trigger("press")},"":function(){this.trigger("release")}},checked:{yes:function(){this.trigger("check").domElem.attr("aria-pressed","true")},"":function(){this.trigger("uncheck").domElem.attr("aria-pressed","false")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("pressed")}},focused:{"":function(){this.__base.apply(this,arguments),this.delMod("pressed")}},progress:{yes:function(){this.setMod("disabled","yes")},"":function(){this.delMod("disabled")}}},getText:function(){return this.elem("text").text()},setText:function(t){return this.elem("text").text(t),this},_onClick:function(t){(!this._preventClick||t.detail>0)&&this.trigger("click",this._buildClickEventData(t)),this._preventClick=!1},_processClick:function(t){this.trigger("click",this._buildClickEventData(t))},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onKeydown:function(t){var e=t.keyCode,n=BEM.blocks.keycodes;n.is(e,this.params.pressKeys)&&(this.setMod("pressed","yes"),n.is(e,this.params.prvntKeys)&&t.preventDefault())},_onKeyup:function(t){var e=t.keyCode,n=BEM.blocks.keycodes;n.is(e,this.params.prvntKeys)&&t.preventDefault(),n.is(e,this.params.pressKeys)&&(this.delMod("pressed"),n.is(e,this.params.clickKeys)&&(this._preventClick=!0,this._processClick(t)))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["SPACE","ENTER"],prvntKeys:[],clickKeys:[]})}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}).liveBindTo("pointerclick",function(t){this.hasMod("disabled")||this._onClick(t)}).liveBindTo("keydown",function(t){this._onKeydown(t)}).liveBindTo("keyup",function(t){this._onKeyup(t)}),this.__base()}}),BEM.DOM.decl("button2",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")},_onClick:function(){this.__base.apply(this,arguments),this._isDestructing||this.setMod("focused","yes")}},{live:function(){return 8===BEM.blocks["i-ua"].ie&&this.liveBindTo("dblclick",function(t){this.hasMod("disabled")||this._onClick(t)}),this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}).liveBindTo("mousedown",function(t){t.preventDefault()}),this.__base()}}),BEM.decl("keycodes",{},{BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,is:function(t,e){return(Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).some(function(e){return this[e]===t},this)}}),function(){var t=$(window),e=$(document.documentElement),n=0,i=!1;function s(){e.hasClass("pointerfocus")&&(i=!0,setTimeout(function(){i=!1}))}document.documentMode<=11?e.on("focusin",function(t){var e=t.originalEvent;!e||e.fromElement||e.relatedTarget||s()}):t.on("blur",function(){t.one("focus",s)}),e.addClass("utilityfocus").on({focusin:function(){e.toggleClass("pointerfocus",i).toggleClass("utilityfocus",!i)},keydown:function(){clearTimeout(n),i=!1},"pointerdown pointerup click":function(t){i=!0,clearTimeout(n),n=setTimeout(function(){i=!1},600)}})}(),BEM.DOM.decl("popup2",{onSetMod:{js:{inited:function(){this._parentPopup=void 0,this._zIndex=null,this._zIndexGroupLevel=null,this._scope=BEM.DOM.scope,this._isAttachedToScope=!1}},visible:{yes:function(){this.trigger("beforeOpen"),this._isAttachedToScope||(this._scope.append(this.domElem),this._isAttachedToScope=!0),this._captureZIndex()._bindToParentPopup().bindTo("pointerdown pointerclick",this._setPreventHideByClick)},"":function(){this.trigger("beforeClose")._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerdown pointerclick")}}},destruct:function(){this.delMod("visible"),this.__base.apply(this,arguments)},setScope:function(t){return this._scope=t,this._isAttachedToScope=!1,this},setContent:function(t){return BEM.DOM.update(this.domElem,t),this},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),t},_setPreventHideByClick:function(){var t=this;do{t._preventHideByClick=!0,t=t._getParentPopup()}while(t)},_bindToParentPopup:function(){var t=this._getParentPopup();return t&&(t.on("beforeClose",this._onParentPopupClose,this),t.addChild&&t.addChild(this)),this},_unbindFromParentPopup:function(){return this._parentPopup&&this._parentPopup.un("beforeClose",this._onParentPopupClose,this),this._parentPopup=void 0,this},_onParentPopupClose:function(){this.delMod("visible")},_getParentPopup:function(){return this._parentPopup},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],i=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==i&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t&&t.splice(t.indexOf(this._zIndex),1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()},getDefaultParams:function(){return{zIndexGroupLevel:0}}},{live:!0,_visiblePopupsZIndexes:(BEM.blocks.popup||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3}),BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:void 0,top:void 0,zIndex:void 0,display:void 0},this._lastTailDrawingCss={left:void 0,top:void 0},this._initialVisible=this.hasMod("visible")}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScollAndResize).redraw(!0)},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},_draw:function(){var t=this._calcBestDrawingParams();return this.setMod("direction",t.direction),e(this._lastPopupDrawingCss,this._calcDrawingCss(t))&&this.domElem.css(this._lastPopupDrawingCss),e(this._lastTailDrawingCss,this._calcTailDrawingCss(t))&&this.elem("tail").css(this._lastTailDrawingCss),this;function e(t,e){var n=!1;return Object.keys(e).forEach(function(i){var s=e[i];t[i]!==s&&(t[i]=s,n=!0)}),n}},redraw:function(t){return this.hasMod("visible","yes")||t?(this.setMod("outside","yes")._draw().delMod("outside"),this):this},_calcDrawingCss:function(t){var e,n=this._scope;return n.is(BEM.DOM.scope)||(e=n.offset(),t.top-=e.top,t.left-=e.left),{left:t.left,top:t.top}},_calcTailDrawingCss:function(t){return t.tail},calcPossibleDrawingParams:function(){var t=this._calcTargetDimensions(),e=this._calcViewportDimensions(),n=this._calcOffsets();return this.params.directions.map(function(i){var s={direction:i,width:0,height:0,left:0,top:0};return this._checkMainDirection(i,"bottom")?(s.top=t.top+t.height+n.main,s.height=e.bottom-s.top-n.viewport):this._checkMainDirection(i,"top")?(s.height=t.top-e.top-n.main-n.viewport,s.top=t.top-s.height-n.main):(this._checkSecondaryDirection(i,"center")?(s.height=e.bottom-e.top-2*n.viewport,s.top=t.top+(t.height-s.height)/2):this._checkSecondaryDirection(i,"bottom")?(s.height=t.top+t.height-e.top-n.secondary-n.viewport,s.top=t.top+t.height-s.height-n.secondary):this._checkSecondaryDirection(i,"top")&&(s.top=t.top+n.secondary,s.height=e.bottom-s.top-n.viewport),this._checkMainDirection(i,"left")?(s.width=t.left-e.left-n.main-n.viewport,s.left=t.left-s.width-n.main):(s.left=t.left+t.width+n.main,s.width=e.right-s.left-n.viewport)),this._checkSecondaryDirection(i,"right")?(s.width=t.left+t.width-e.left-n.secondary-n.viewport,s.left=t.left+t.width-s.width-n.secondary):this._checkSecondaryDirection(i,"left")?(s.left=t.left+n.secondary,s.width=e.right-s.left-n.viewport):this._checkSecondaryDirection(i,"center")&&this._checkMainDirection(i,"top","bottom")&&(s.width=e.right-e.left-2*n.viewport,s.left=t.left+t.width/2-s.width/2),s},this)},_calcBestDrawingParams:function(){for(var t,e,n,i,s,o,r=this._calcPopupDimensions(),a=this._calcTargetDimensions(),c=this._calcViewportDimensions(),u=this.params.directions,h=u.length,l=0;l<h&&(t=u[l],e=this._calcPos(t,a,r),n=this._calcViewportFactor(e,c,r),(0===l||n>o||!o&&this.hasMod("direction",t))&&(i=t,o=n,s=e),!(o>this.__self.VIEWPORT_ACCURACY_FACTOR));l++);return{direction:i,left:s.left,top:s.top,tail:this._calcTailPos(i,a,r,s)}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:t*e}},_calcTailDimension:function(){var t=this.elem("tail"),e=this.params.tailSize||t.outerWidth();return t.length>0&&"none"!==t.css("display")?e:0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=BEM.DOM.win,e=t.scrollTop(),n=t.scrollLeft(),i=t.width();return{top:e,left:n,bottom:e+t.height(),right:n+i}},_calcPos:function(t,e,n){var i={},s=this._calcOffsets();return this._checkMainDirection(t,"bottom")?i.top=e.top+e.height+s.main:this._checkMainDirection(t,"top")?i.top=e.top-n.height-s.main:this._checkMainDirection(t,"left")?i.left=e.left-n.width-s.main:this._checkMainDirection(t,"right")&&(i.left=e.left+e.width+s.main),this._checkSecondaryDirection(t,"right")?i.left=e.left+e.width-n.width-s.secondary:this._checkSecondaryDirection(t,"left")?i.left=e.left+s.secondary:this._checkSecondaryDirection(t,"bottom")?i.top=e.top+e.height-n.height-s.secondary:this._checkSecondaryDirection(t,"top")?i.top=e.top+s.secondary:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?i.left=e.left+e.width/2-n.width/2:this._checkMainDirection(t,"left","right")&&(i.top=e.top+e.height/2-n.height/2)),i},_calcTailPos:function(t,e,n,i){var s={},o=this._calcTailDimension()/2,r=this.params.tailOffset,a=this.params.tailSize;return this._checkMainDirection(t,"bottom")?s.top=-o:this._checkMainDirection(t,"top")?s.top=Math.floor(n.innerHeight-o):this._checkMainDirection(t,"left")?s.left=Math.floor(n.innerWidth-o):this._checkMainDirection(t,"right")&&(s.left=-o),this._checkSecondaryDirection(t,"right")?s.left=n.innerWidth-Math.ceil(Math.min(n.innerWidth,e.width)/2)-o-r:this._checkSecondaryDirection(t,"left")?s.left=Math.ceil(Math.min(n.innerWidth,e.width)/2)-o+r:this._checkSecondaryDirection(t,"bottom")?s.top=n.innerHeight-Math.ceil(Math.min(n.innerHeight,e.height)/2)-o-r:this._checkSecondaryDirection(t,"top")?s.top=Math.ceil(Math.min(n.innerHeight,e.height)/2)-o+r:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?s.left=Math.ceil(n.innerWidth/2)-o+r:s.top=Math.ceil(n.innerHeight/2)-o+r),{top:s.top,left:s.left,width:a,height:a}},_calcViewportFactor:function(t,e,n){var i=this.params.viewportOffset,s=Math.max(t.left,e.left+i),o=Math.min(t.left+n.width,e.right-i),r=Math.max(t.top,e.top+i),a=Math.min(t.top+n.height,e.bottom-i);return s<o&&r<a?(o-s)*(a-r)/n.area:0},_calcOffsets:function(){var t=this.params,e=this._calcTailDimension();return{main:t.mainOffset>=0&&e>0?Math.max(t.mainOffset,Math.round(e*Math.SQRT1_2)):t.mainOffset,secondary:t.secondaryOffset,viewport:t.viewportOffset}},_checkMainDirection:function(t,e,n){return 0===t.indexOf(e)||n&&0===t.indexOf(n)},_checkSecondaryDirection:function(t,e){return t.indexOf("-"+e)>0},_checkDirection:function(t,e){return t.indexOf(e)>=0},_onWinScollAndResize:function(t){this.hasMod("visible","yes")&&this._draw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,tailOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})},_setVisible:function(){this._initialVisible&&(this._initialVisible=!1,this.delMod("visible").setMod("visible","yes"))}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]}),function(t){BEM.DOM.decl({block:"popup2",modName:"target",modVal:"anchor"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchor=null,this._destructor=null,this._fixedAnchor=void 0}},visible:{yes:function(){this.bindToDoc("documentchange",this._onWinScollAndResize),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("documentchange")}}},destruct:function(){this._unbindFromDestructor(),this.__base.apply(this,arguments)},setAnchor:function(t){var e,n;return this._unbindFromDestructor()._unbindFromParentPopup(),this._anchor=t instanceof BEM.DOM?t.domElem:t,this._destructor=(e=this._anchor,n="_"+this.__self.getName()+"-destructor",e.addClass("i-bem "+n).bem(n)),this._fixedAnchor=void 0,this._bindToDestructor(),this._setVisible(),this.hasMod("visible")?this._recaptureZIndex()._bindToParentPopup().redraw():this._zIndexGroupLevel=null,this},_calcTargetDimensions:function(){var t=this._anchor,e=this._getOffsetOf(t);return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}},_getOffsetOf:function(t){var e=t.offset();return"pageYOffset"in window&&(e.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),e.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft)),e},_calcDrawingCss:function(e){var n=this.__base.apply(this,arguments);if(void 0===this._fixedAnchor&&(this._fixedAnchor=this._getFirstFixedParent(this._anchor)),this._fixedAnchor){var i=0,s=0,o=this._getFirstFixedParent(this._scope);if(o){var r=o.offset();i=r.left,s=r.top}n.left-=t(window).scrollLeft()-i,n.top-=t(window).scrollTop()-s}return t.extend(n,{position:this._fixedAnchor?"fixed":""})},_getFirstFixedParent:function(e){for(e=e[0];e;){if(1===e.nodeType&&"fixed"===t(e).css("position"))return t(e);e=e.parentNode}return null},_calcZIndexGroupLevel:function(){var t=this.__base.apply(this,arguments);return this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t)},_bindToDestructor:function(){return this._destructor.on("destruct",this._onPopupAnchorDestruct,this),this},_unbindFromDestructor:function(){return this._destructor&&this._destructor.un("destruct",this._onPopupAnchorDestruct,this),this},_onPopupAnchorDestruct:function(){this.domElem&&BEM.DOM.destruct(this.domElem)},_getParentPopup:function(){if(void 0===this._parentPopup){var t=this._anchor.closest(".popup, .popup2");this._parentPopup=this.findBlockOn(t,this.__self.getName())||this.findBlockOn(t,"popup")}return this._parentPopup}}),BEM.DOM.decl("_popup2-destructor",{destruct:function(){this.trigger("destruct"),this.__base.apply(this,arguments)}})}(jQuery),BEM.DOM.decl({block:"popup2",modName:"hiding",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchorParents=null,this._isAnchorVisible=void 0,this._updateIsAnchorVisible=$.throttle(this._updateIsAnchorVisible,this.__self.UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL,this)}},visible:{yes:function(){this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents(),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this._updateIsAnchorVisible.stop(),this._unbindFromAnchorParents(),this._anchorParents=null,this._isAnchorVisible=void 0}}},_getAnchorParents:function(){for(var t,e=this;e&&e._anchor;)t=e,e=e._getParentPopup();return $(t._anchor).parents()},setAnchor:function(t){return this.__base.apply(this,arguments),this._unbindFromAnchorParents(),this._isAnchorVisible=void 0,this.hasMod("visible")?(this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents()):this._anchorParents=null,this},_unbindFromDestructor:function(){return this._updateIsAnchorVisible.stop&&this._updateIsAnchorVisible.stop(),this.__base.apply(this,arguments)},_calcDrawingCss:function(t){var e=this.__base.apply(this,arguments);return void 0===this._isAnchorVisible&&(this._isAnchorVisible=this._calcIsAnchorVisible()),$.extend(e,{display:this._isAnchorVisible?"":"none"})},_calcIsAnchorVisible:function(){var t=this._anchor,e=this._getOffsetOf(t),n=e.left,i=e.top,s=n+t.outerWidth(),o=i+t.outerHeight(),r=this.getMod("direction"),a=Math.floor(this._checkDirection(r,"top")?i:o),c=Math.floor(this._checkDirection(r,"left")?n:s),u=!0;return this._anchorParents.each(function(t,e){if("BODY"===e.tagName)return!1;e=$(e);var n=/scroll|hidden|auto/,i=n.test(e.css("overflow-y")),s=n.test(e.css("overflow-x"));if(i||s){var o=this._getOffsetOf(e),r=Math.floor(o.top);if(a<r||r+e.outerHeight()<a)return u=!1;var h=Math.floor(o.left);return u=c>=h&&h+e.outerWidth()>=c}}.bind(this)),u},_bindToAnchorParents:function(){return this.bindTo(this._anchorParents,"scroll",this._onAnchorParentsScroll)},_unbindFromAnchorParents:function(){return this._updateIsAnchorVisible.stop(),this._anchorParents&&this.unbindFrom(this._anchorParents,"scroll"),this},_onAnchorParentsScroll:function(){this.redraw()._updateIsAnchorVisible()},_onWinScollAndResize:function(){this.hasMod("visible")&&(this.__base.apply(this,arguments),this._updateIsAnchorVisible())},_updateIsAnchorVisible:function(){if(this.domElem){var t=this._calcIsAnchorVisible();t!==this._isAnchorVisible&&(this._isAnchorVisible=t,this.redraw())}}},{UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL:100}),BEM.DOM.decl({block:"popup2",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.__self._visiblePopupsStack.unshift(this),this.afterCurrentEvent(function(){this.domElem&&this.hasMod("visible")&&this.bindToDoc("pointerclick",this._onDocClick)}),this.__base.apply(this,arguments)},"":function(){var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this.unbindFromDoc("pointerclick").__base.apply(this,arguments)}}},_onDocClick:function(t){this.hasMod("target","anchor")&&(this._anchor[0]===t.target||this._anchor.find(t.target).length>0)||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){return BEM.DOM.doc.on("keydown",this._onDocKeyPress.bind(this)),this.__base()},_visiblePopupsStack:(BEM.blocks.popup||{})._visiblePopupsStack||[],_onDocKeyPress:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._visiblePopupsStack.length&&this._visiblePopupsStack[0].__self.getName()===this.getName()&&this._visiblePopupsStack[0].delMod("visible")}}),BEM.DOM.decl({block:"popup2",modName:"theme",modVal:"normal"},{getDefaultParams:function(){return $.extend(this.__base(),{mainOffset:5,viewportOffset:5})}}),BEM.DOM.decl("settings-star",{onSetMod:{js:function(){var t=this;global.params.isAuth?(t.bindTo("pointerclick",t.toggleStar),t.doActionsAfterPassport()):t.bindTo("pointerclick",function(){t.hasMod("type","nofavorite")&&t.__self.showTooltip(t)}),t.onFirst("toggle",t._onFirstToggle),t.bindEventsForTabs(),t._doc=t.findBlockOutside("doc"),t._debouncedShowTooltipByDocHover=function(e){clearTimeout(t.__self._timerDocHover),t.__self._timerDocHover=setTimeout(function(){t.showTooltipByDocHover(e)},800)},t._doc.bindTo("pointerover",t._debouncedShowTooltipByDocHover),t.params.source.name=t._doc.elem("agency").text(),t.__self.needTooltip()&&t.params.tooltip&&(t._doc.domElem.addClass("z-index-group").bem("z-index-group").setMod("level",-1),t._doc.findBlockInside("link").bindTo("pointerclick",function(){t.showTooltipAfterGoingToSource()})),t._title=t.domElem.attr("title")}},destruct:function(){if(this.__self.clearTimeouts(),this._doc&&this._doc.unbindFrom("pointerover",this._debouncedShowTooltipByDocHover),this.__self._tabs&&(this.__self._tabs.un("change",this.__self.hideTooltipAfterChangingTab,this.__self),delete this.__self._tabs),this.__self._tooltip&&(this.__self._tooltip.destruct(),delete this.__self._tooltip),this.__self._tooltipForSettings&&(this.__self._tooltipForSettings.destruct(),delete this.__self._tooltipForSettings),this._isAuth){var t=global.findBlockInside({block:"header2"});t&&this.unbindFrom(t.findElem("action","type","settings"),"pointerclick")}return delete this.__self._activeStar,this.__base.apply(this,arguments)},bindEventsForTabs:function(){var t=this.__self;if(!("_tabs"in t)){var e=this.findBlockOutside("tabs-panes");t._tabs=e&&e.findBlockOn("tabs")||null,t._tabs&&t._tabs.on("change",t.hideTooltipAfterChangingTab,t)}},doActionsAfterPassport:function(){var t=this;if(t.__self.needSyncSourceCookie){t.__self.needSyncSourceCookie=!1;var e,n=t.__self.COOKIE_SOURCE_NAME,i=$.cookie(n);if(i&&"null"!==i){try{e=JSON.parse(i)}catch(t){return}t.__self.countTooltipPage=0,t.__self.loginedFromPopup=!0,BEM.DOM.blocks.settings.addFavoriteSource(e,function(){t.__self.showTooltipForSettings(t),$.cookie(n,null,{expires:-1,path:"/",domain:location.hostname,secure:!0})})}else t.__self.loginedFromPopup&&(t.__self.countTooltipPage=1,t.__self.loginedFromPopup=!1)}},counter:function(t){var e=this.params.counters[t];if(e)return Ya.c(e),this},toggleStar:function(t){t&&t.preventDefault();var e=this,n=e.hasMod("type","favorite");e.setMod("changed",!0).toggleMod("type","nofavorite","favorite",n).trigger("toggle"),e.__self.hideTooltip(),BEM.DOM.blocks.settings[n?"deleteFavoriteSource":"addFavoriteSource"](e.params.source,function(){e.counter(n?"off":"on")},function(){e.toggleMod("type","nofavorite","favorite",n)})},showTooltipByDocHover:function(t){this._doc&&(this._doc.domElem[0].contains(t.relatedTarget)||this.showTooltipAfterGoingToSource())},showTooltipAfterGoingToSource:function(){this.hasMod("type","nofavorite")&&this.__self.needTooltip()&&(this.__self.showTooltipByTimeout(this),this.counter("popupOpen"))},_onFirstToggle:function(){this.__self.countTooltipPage=0,this._doc.unbindFrom("pointerover",this._debouncedShowTooltipByDocHover)}},{COOKIE_TOOLTIP_NAME:"favorites-tooltip2",COOKIE_SOURCE_NAME:"favorites-source",live:function(){var t=$.cookie(this.COOKIE_TOOLTIP_NAME);if(t){var e=t.split("|");this.countTooltipShow=+e[0],this.countTooltipHide=+e[1];var n=+e[2];this.lastShowedTime=isNaN(n)?0:n}else this.lastShowedTime=0;return!1},saveCookies:function(){var t=[this.countTooltipShow,this.countTooltipHide,this.lastShowedTime||0].join("|");return $.cookie(this.COOKIE_TOOLTIP_NAME,t,{expires:365,path:"/",domain:location.hostname,secure:!0}),t},createTooltip:function(t){var e=global.params.isAuth,n=t.findBlockOn(BEM.DOM.after(BEM.DOM.scope,BEMHTML.apply({block:"tooltip",mods:{autoclosable:"yes",theme:"promo",view:"classic",tone:"default",click:"no",for:"favorites"},mix:{block:"settings-star",elem:"tooltip"},js:{to:"bottom-center"},content:[{elem:"description",content:e?BEM.I18N("settings-star","description-with-auth"):BEM.I18N("settings-star","description-without-auth")},{elem:"controls",content:[{block:"button2",mix:{block:"tooltip",elem:"cancel"},mods:{theme:"clear",size:"s"},text:BEM.I18N("settings-star","later")},e?{block:"button2",mix:{block:"tooltip",elem:"add"},mods:{theme:"action",size:"s"},text:BEM.I18N("settings-star","add")}:{block:"button2",mods:{type:"link",theme:"action",size:"s"},mix:{block:"tooltip",elem:"enter"},counter:{path:"799.919.290"},url:global.params["passport-host"]+"/auth?origin=news_welcome1&retpath="+encodeURIComponent(window.location.href),text:BEM.I18N("settings-star","enter")}]}]})),"tooltip");return this._bindButtonEvents(n),Ya.c(["799.1352.290"]),n},_bindButtonEvents:function(t){var e=this,n=t.findBlockInside(t.findElem("enter"),"button2");n&&n.on("click",function(){var t=e._activeStar;e.hideTooltip(),t&&($.cookie(e.COOKIE_SOURCE_NAME,JSON.stringify(t.params.source),{expires:1,path:"/",domain:location.hostname,secure:!0}),t.counter("popupEnter"))});var i=t.findBlockInside(t.findElem("add"),"button2");i&&i.on("click",function(){e._activeStar&&(e._activeStar.toggleStar(),e._activeStar.counter("popupAdd")),e.hideTooltip()});var s=t.findBlockInside(t.findElem("cancel"),"button2");s&&s.on("click",function(){e.hideTooltip(),e.countTooltipHide=0,e.saveCookies(),e._activeStar&&e._activeStar.counter("popupAfter")})},createTooltipForSettings:function(t){return t.findBlockOn(BEM.DOM.after(BEM.DOM.scope,BEMHTML.apply({block:"tooltip",js:{to:"bottom-right",counter:t.params.counters.settings},mods:{for:"favorites",autoclosable:"yes",click:"no",theme:"promo",tone:"default"},content:[{elem:"description",content:BEM.I18N("tooltip_for_favorites","description")},{elem:"controls",content:[{block:"button2",mods:{size:"s",theme:"action"},text:BEM.I18N("tooltip_for_favorites","dismiss")}]}]})),"tooltip")},showTooltipForSettings:function(t){var e=this,n=global.findBlockInside({block:"header2"}).findElem("action","type","settings");this._tooltipForSettings=this.createTooltipForSettings(t).setOwner(n).setMod("shown","yes"),t.bindTo(n,"pointerclick",function(){e._tooltipForSettings.delMod("shown")})},showTooltip:function(t){this._activeStar=t,this.decreaseTooltipCounters(),this._tooltip=this._tooltip||this.createTooltip(t),this._tooltip.setOwner(t).setMod("shown","yes").redraw(),t.domElem.removeAttr("title")},showTooltipByTimeout:function(t){clearTimeout(this._timerTooltip),this._timerTooltip=setTimeout(function(){this.showTooltip(t)}.bind(this),250)},hideTooltip:function(){this._tooltip&&this._tooltip.delMod("shown");var t=this._activeStar;t&&t.domElem.attr("title",t._title)},hideTooltipAfterChangingTab:function(){this.clearTimeouts(),this.hideTooltip()},clearTimeouts:function(){clearTimeout(this._timerTooltip),clearTimeout(this._timerDocHover)},decreaseTooltipCounters:function(){this.countTooltipPage<=0?this.countTooltipPage=0:this.countTooltipPage--,this.countTooltipShow<=0?this.countTooltipShow=0:this.countTooltipShow--,this.lastShowedTime=Date.now(),this.saveCookies()},needSyncSourceCookie:!0,countTooltipPage:1,countTooltipShow:3,countTooltipHide:1,_formateDate:function(t){var e=new Date(t);return[e.getFullYear(),e.getMonth(),e.getDate()].join("-")},needTooltip:function(){var t=this.lastShowedTime&&this._formateDate(this.lastShowedTime)===this._formateDate(Date.now());return navigator.cookieEnabled&&!t&&this.countTooltipPage&&this.countTooltipShow&&this.countTooltipHide}}),BEM.DOM.decl("tooltip",{onSetMod:{js:{inited:function(){this._popup=null,this._owner=null}},shown:{yes:function(){this._getPopup().setMod("visible","yes").unbindFromDoc("keydown")},"":function(){this._getPopup().delMod("visible")}}},getOwner:function(){return this._owner},setOwner:function(t){return this._owner=t,this._getPopup().setAnchor(t),this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this.redraw()},redraw:function(){return this.hasMod("shown","yes")&&this._getPopup().redraw(),this},destruct:function(){this.delMod("shown"),this.__base.apply(this,arguments)},_getPopup:function(){return this._popup||(this._popup=this.findBlockOn("popup2").on("beforeOpen",this._onPopupShow,this).on("beforeClose",this._onPopupHide,this)),this._popup},_onPopupShow:function(){this.trigger("show")},_onPopupHide:function(){this.delMod("shown").trigger("hide")},_onClick:function(){this.trigger("click").delMod("shown")}},{live:function(){this.liveBindTo("click",function(){this._onClick()})}}),BEM.DOM.decl("tooltip",{_onEnter:function(){this.setMod("hovered","yes")},_onLeave:function(){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onEnter(t):this._onLeave(t))}),this.__base()}}),BEM.DOM.decl("tooltip",{onSetMod:{js:function(){this.__base.apply(this,arguments),this.on("hide",this._closeCounter,this)}},_closeCounter:function(){this.params.counter&&Ya.c(this.params.counter)}}),BEM.DOM.decl({block:"button2",modName:"type",modVal:"link"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._url=this.params._url||this.domElem.attr("href")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",this.params._tabindex).attr("href",this._url)},yes:function(){this.__base.apply(this,arguments),void 0!==this._url&&this.domElem.attr("tabindex",-1),this.domElem.removeAttr("href")}}},getUrl:function(){return this._url},setUrl:function(t){return this._url=t,this.hasMod("disabled")||this.domElem.attr("href",t),this},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["ENTER"]})}}),BEM.DOM.decl({block:"button2",modName:"type",modVal:"link"},{},{live:function(){return this.liveBindTo("dragend",function(t){this.hasMod("type","link")&&!this.hasMod("disabled")&&this.delMod("pressed")}),this.__base()}}),BEM.DOM.decl("paranja",{onSetMod:{js:{inited:function(){[].concat(this.params.rel||[]).forEach(function(t){$(t.elem||this.domElem).on(t.event,this[t.method].bind(this))},this),this.bindTo("pointerclick",function(){this.trigger("click")})}},state:{open:function(){this.trigger("open")},close:function(){this.trigger("close")}}},open:function(t){this.setMod("state","open")},close:function(t){this.setMod("state","close")}},{live:!1}),BEM.DOM.decl("settings",{onSetMod:{js:function(){var t=this;t.__self._instance=t,t._isAuth=Boolean(global.params.isAuth),t.setMod("without-auth",!t._isAuth),t._favorite=t.findBlockInside(t.elem("favorite-sources"),"settings-tags"),t._ignore=t.findBlockInside(t.elem("ignore-sources"),"settings-tags"),t._spin=t.findBlockInside(t.elem("spin"),"spin2"),t._header2=global.page.findBlockInside("header2"),t._header2Action=t._header2.elem("action","type","settings"),t._bindLangSelect(),t._bindAuthEvents(),"#settings"===window.location.hash&&t.afterCurrentEvent(function(){t._wasButtonClick=!0,t._toggle(!0)}),BEM.channel("sys").on("settings:saved",t._onSettingsSaved,t),t.bindToWin("hashchange",t._onHashChange,t)},visible:{true:function(){window.location.hash="#settings",this._favorite.setMod("short",!0),this._ignore.setMod("short",!0),this._header2.setMod(this._header2Action,"checked","yes"),this._firstOpening||(this._firstOpening=!0,this._firstOpen())},"":function(){window.location.hash="",this._favorite.hideErrorTooltip(),this._ignore.hideErrorTooltip(),this._hideKeyboard(),this._header2.delMod(this._header2Action,"checked"),BEM.channel("sys").trigger("settings:close")}}},destruct:function(){delete this._parentContainer,BEM.channel("sys").un("settings:saved",this._onSettingsSaved,this),clearTimeout(this._savedTimer),this.__base.apply(this,arguments)},_firstOpen:function(){this._isAuth&&(this.delMod(this.elem("error-loading"),"visible"),this._spin.setMod("progress","yes"),this.setMod(this.elem("window"),"progress",!0),this.__self.loadSources(this._onLoadSources.bind(this),this._onErrorSources.bind(this)))},_onLoadSources:function(t){this._spin.delMod("progress"),this.delMod(this.elem("window"),"progress"),this._resetFocus()},_onErrorSources:function(){this._firstOpening=!1,this._spin.delMod("progress"),this.setMod(this.elem("error-loading"),"visible",!0),this.setMod(this.elem("window"),"progress",!0),this._resetFocus()},_onSettingsSaved:function(t){var e=this,n=e.elem("saved");e.setMod(n,"visible",!0),clearTimeout(e._savedTimer),e._savedTimer=setTimeout(function(){e.delMod(n,"visible")},1e3)},_counter:function(t){Ya.c(this.params.langs.counters[t])},_bindParanjaEvents:function(){var t=this;t._paranja=t.findBlockOn(t.elem("paranja"),"paranja"),t._paranja&&t.bindTo("close","pointerclick",t._close).bindTo("pointerclick",function(e){$.contains(t.elem("window-content")[0],e.target)||t._close()})},_bindLangSelect:function(){var t=this,e=t.findBlockInside(t.elem("lang"),"select2");e&&(e.findBlockInside("button2").on("click",function(){t._counter("button")}),e.on("change",function(e){var n=this.getVal();t._counter(n),window.location=t.params.langs.paths[n]+"#settings"}),t._selectLang=e)},_bindAuthEvents:function(){this.findBlockInside(this.elem("need-auth-action"),"button2").on("click",function(){window.location.href=global.params["passport-host"]+"/auth?origin=news_welcome1&retpath="+encodeURIComponent(window.location.href)})},_toggle:function(t){this.setMod("visible",t),t&&this._resetFocus()},_hideKeyboard:function(){null!==navigator.userAgent.match(/iPad/i)&&$('<input type="button" value="" style="position:absolute;left:-9999px;"/>').appendTo("body").focus().blur().remove()},_resetFocus:function(){this.domElem.find("button:visible:enabled:eq(0)").focus().focusin()},_close:function(){this.delMod("visible")},_onHashChange:function(){"#settings"===window.location.hash?this.setMod("visible"):this.delMod("visible")}},{_sources:{lastTimestamp:0,loaded:!1,favorite:[],ignore:[]},PATH:"/api/v2/settings",getInstance:function(){return this._instance},getSources:function(t){return this._sources[t]},hasSource:function(t,e){return void 0!==this._findSourceById(t,e)},loadSources:function(t,e){var n=this;n._sources.lastTimestamp=Date.now(),$.ajax(n.PATH,{method:"GET",dataType:"json",cache:!1}).done(function(i){if(!i||!i.mynews)return Ya.c(["690.3.1030","-action=load,-type=success,-data=empty"]),void e();n._sources._loaded=!0;var s=i.mynews.sources.favorites;n._sources.favorite=s.list.sort(n._sortSources),n._sources.ignore=s.ignore.sort(n._sortSources),n._triggerChange("favorite"),n._triggerChange("ignore"),t(i)}).fail(function(t){Ya.c(["690.3.1030","-action=load,-type=fail"]),e()})},addFavoriteSource:function(t,e,n){this.doRequest({action:"add",typeSource:"favorite",name:t.name,type:t.type,id:t.id},e,n)},deleteFavoriteSource:function(t,e,n){this.doRequest({action:"delete",typeSource:"favorite",type:t.type,id:t.id},e,n)},doRequest:function(t,e,n){var i=this,s=i._getQuery(t),o=t.action,r=Number(t.id),a=t.typeSource,c=function(e){"add"===o&&i._delSource(a,r),i._delProgress(a,r),i._setError(a,r),i._triggerChange(a,o,r),n&&n(e),Ya.c(["690.3.1030","-type="+t.type+",-action="+t.action+",-typeSource="+t.typeSource])};"add"===o&&i._addSource(a,{id:r,type:t.type,name:t.name}),i._setProgress(o,a,r),BEM.channel("sys").trigger("settings:request"),$.ajax(i.PATH,{method:"POST",data:s,dataType:"json"}).done(function(t){t&&(t.success||"ERROR_SETTINGS_CANT_ADD_DUPLICATE"===t.error||"ERROR_SETTINGS_CANT_REMOVE"===t.error)?("delete"===o?i._delSource(a,r):"add"===o&&(i._delProgress(a,r),i._delError(a,r)),i._triggerChange(a,o,r),i._triggerSaved(),e&&e(t)):c()}).fail(function(){c()})},_getQuery:function(t){var e={form_key:global.params.sk,id:t.id,type:t.type};return e[t.action]="favorite","ignore"===t.typeSource&&(e.ignore=1),e},_triggerChange:function(t,e,n){BEM.channel("sys").trigger("settings:change",{typeSource:t,action:e,id:n,sources:JSON.parse(JSON.stringify(this._sources[t]))})},_triggerSaved:function(){BEM.channel("sys").trigger("settings:saved")},_findSourceById:function(t,e){var n;return this._sources[t].some(function(t){return t.id===e&&(n=t,!0)}),n},_addSource:function(t,e){this._delSource(t,e.id),this._sources[t].unshift(e)},_delSource:function(t,e){this._sources[t]=this._sources[t].filter(function(t){return t.id!==e})},_setError:function(t,e){var n=this._findSourceById(t,e);void 0!==n&&(n.error=!0)},_delError:function(t,e){var n=this._findSourceById(t,e);void 0!==n&&(n.error=!0)},_setProgress:function(t,e,n){var i=this._findSourceById(e,n);void 0!==i&&(i.action=t,i.progress=!0)},_delProgress:function(t,e){var n=this._findSourceById(t,e);void 0!==n&&(n.progress=!1)},_sortSources:function(t,e){return t.name>e.name?1:t.name<e.name?-1:0}}),BEM.DOM.decl("settings",{onSetMod:{js:function(){var t=this;t.__base.apply(t,arguments),t._bindParanjaEvents(),t._parentContainer=this.domElem.parent(),t._header2.on("action-change",function(e,n){"settings"===n.type&&t._toggle(n.checked)})},visible:{true:function(){this.__base.apply(this,arguments),global.page.setMod("hide-scroll","yes"),BEM.DOM.scope.append(this.domElem),this._paranja.setMod("state","open"),this.bindToDoc("keydown",this._onKeyDown)},"":function(){this.__base.apply(this,arguments),global.page.delMod("hide-scroll"),this._parentContainer.append(this.domElem),this._paranja.setMod("state","close"),this.unbindFromDoc("keydown",this._onKeyDown),window.scrollTo(0,0)}}},destruct:function(){delete this._parentContainer,this.__base.apply(this,arguments)},_bindParanjaEvents:function(){var t=this;t._paranja=t.findBlockOn(t.elem("paranja"),"paranja"),t._paranja&&(t._close=function(){t.delMod("visible")},t.bindTo("close","pointerclick",t._close).bindTo("pointerclick",function(e){$.contains(t.elem("window-content")[0],e.target)||t._close()}))},_close:function(){this.delMod("visible")},_onKeyDown:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._close()}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this._val=this.elem("control").val()}},disabled:{"*":function(t,e){this.elem("control").prop("disabled",e)},yes:function(){this.delMod("focused")}},focused:function(t,e){if(this.hasMod("disabled"))return!1;e?this._focused||this._focus():this._focused&&this._blur(),this.afterCurrentEvent(function(){this.domElem&&this.trigger(e?"focus":"blur")})}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){var n=void 0!==t,i=this.elem("control");return t=n?null===t?"":t.toString():i.val(),this._val!==t&&(this._val=t,i.val()!==t&&i.val(t),this.trigger("change",e)),n?this:t},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var i=t.value.length,s=t.createTextRange();s.moveToBookmark(n.getBookmark());var o=t.createTextRange();o.collapse(!1),e=s.compareEndPoints("EndToEnd",o)>-1?i:-s.moveEnd("character",-i)}}return e},_onFocus:function(){if(parseInt(BEM.blocks["i-ua"].ios,10)>=8&&!this.hasMod("type","textarea")){var t=this.elem("control")[0];t.selectionStart===t.value.length&&(t.scrollLeft=t.scrollWidth)}return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent(function(){this.domElem&&this._focus()}),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){if(this.hasMod("disabled","yes"))return!1;this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},_updateVal:function(){this.val(this.elem("control").val())},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)}),this.liveBindTo("control","input",function(){this._updateVal()}),9===document.documentMode&&(this.liveBindTo("control","focusin",function(){this.bindToDoc("selectionchange",this._updateVal)}),this.liveBindTo("control","focusout",function(){this.unbindFromDoc("selectionchange")}))}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.elem("control"),e=$.dom.getActiveElement(),n=this.params.autoFocus&&!e.is("input, textarea");(e[0]===t[0]||n)&&(this.setMod("focused","yes")._focused=!0),this.params.shortcut&&this.bindToDoc("keydown",function(t){t.ctrlKey&&t.which===BEM.blocks.keycodes.UP&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")})}}},_focus:function(){if(!1===this.__base())return!1;var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}},destruct:function(){this.params.shortcut&&this.unbindFromDoc("keydown"),this.__base.apply(this,arguments)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_updateValNextTick:function(){this.afterCurrentEvent(function(){this.domElem&&this._updateVal()})}},{live:function(){return this.liveBindTo("box","pointerover pointerout",function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.liveBindTo("control","dragenter"),this.liveBindTo("control","dragend",function(){this._updateValNextTick()}),"documentMode"in document&&document.documentMode<=8&&(this.liveBindTo("control","focusin",function(){this.bindTo("control","propertychange keyup",this._updateVal),this.bindTo("control","cut paste",function(){this._updateValNextTick()})}),this.liveBindTo("control","focusout",function(){this.unbindFrom("control","cut paste"),this.unbindFrom("control","propertychange keyup"),this._updateValNextTick()})),this.__base()}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}}},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible",Boolean(this._val))}},{live:function(){return this.liveBindTo("clear","pointerpress",function(t){this.setMod(this.elem("clear"),"pressed","yes")}).liveBindTo("clear","pointerover",function(t){this.setMod(this.elem("clear"),"hovered","yes")}).liveBindTo("clear","pointerout",function(t){this.delMod(this.elem("clear"),"hovered")}).liveBindTo("clear","pointerclick",function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()}).liveBindTo("control","paste",function(){this.setMod(this.elem("clear"),"visibility","visible")}),this.__base()}}),BEM.DOM.decl({name:"input",modName:"suggest",modVal:"yes"},{onSetMod:{js:{inited:function(){this.params.foot&&(this.foot=this.params.foot),this._preventRequest=!0,this.__base.apply(this,arguments),this._userVal=this.val();var t=this._focused;t&&this.delMod("focused"),this.elem("control").attr("autocomplete","off"),this._preventRequest=!1,t&&this.setMod("focused","yes"),this._items=[],this._curItemIndex=-1,this._doRequest=$.debounce(this._doRequest,this.params.debounceDelay),this.bindToWin("resize",$.throttle(this._setWidth,60))}},focused:{yes:function(){this.__base();var t=this.params.showListOnFocus?this._onChange():this._onChange;this.on("change",t)},"":function(){this.__base(),this.un("change",this._onChange)._preventHide||this._getPopup().hide()}}},destruct:function(){var t=this._popup;return t&&t.domElem&&(this._popup=null,BEM.DOM.destruct(t.domElem)),this.__base.apply(this,arguments)},getDataprovider:function(){var t=this.params.dataprovider.url;return this._dataprovider||(this._dataprovider=BEM.create(this.params.dataprovider.name||this.__self.getName()+"__dataprovider",$.extend(this.params.dataprovider,{url:t,callbackCtx:this})))},_onChange:function(){return this._preventRequest||this._doRequest(),this._onChange},_onKeyDown:function(t){if(BEM.blocks.keycodes.is(t.which,"UP","DOWN")&&!t.shiftKey){t.preventDefault();var e=this._items.length,n=!1;if(e){var i=t.which-39,s=this._curItemIndex,o=0;do{n=(0===s&&-1===i||s+i>=e)&&this._onLeaveItem(this._items[s],!0),(s+=i)<0?s=e-1:s>=e&&(s=0)}while(!n&&!1===this._onEnterItem(this._items[s],!0)&&++o<e)}}},_onKeyPress:function(t){t.which===BEM.blocks.keycodes.ENTER&&this._curItemIndex>-1&&this._isCurItemEnteredByKeyboard&&(t.preventDefault(),this._onSelectItem(this._items[this._curItemIndex],!0))},_getPopup:function(){var t=this;if(!t._popup){var e=t.__self.getName(),n=[{elem:"items",tag:"ul",mix:[{block:e,elem:"popup-items"}]}],i=Array.isArray(t.params.popupMixs)?t.params.popupMixs:[],s={directions:"bottom-left"};t._hasPopupFade()&&n.push({block:e,elem:"fade"}),$.extend(s,t.params.popupParams),i.push({block:e,elem:"popup",elemMods:t.params.popupMods,js:{uniqId:t._uniqId}}),t._popup=$(BEMHTML.apply({block:"popup",mods:{animate:"no"},mix:i,js:s,content:{elem:"content",content:n}})).bem("popup").on({show:function(){t.bindTo("keypress",t._onKeyPress).bindTo("keydown",t._onKeyDown)},hide:function(){t.unbindFrom("keypress keydown")._curItemIndex=-1}}),$.each({pointerover:t._onEnterItem,pointerout:t._onLeaveItem,pointerdown:t._onSelectItem,pointerup:t._onItemMouseUp},function(e,n){BEM.blocks["b-autocomplete-item"].on(t._popup.domElem,e,function(e){n.call(t,e.block)})}),BEM.DOM.init(t._popup.domElem)}return t._popup},getPopup:function(){return this._getPopup()},_hasPopupFade:function(){return"yes"===(this.params.popupMods||{}).fade},_onEnterItem:function(t,e){if(t.hasMod("enterable","no"))return!1;var n=this._items,i=this._curItemIndex;i>-1&&n[i].delMod("hovered"),(i=this._getItemIndex(t))>-1&&n[i].setMod("hovered","yes"),this._curItemIndex=i,this._isCurItemEnteredByKeyboard=Boolean(e),e&&this.params.updateOnEnter&&(this._preventRequest=!0,this.val(!1!==t.enter()?t.val():this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex}).del("_preventRequest"))},_onLeaveItem:function(t,e){var n=this._curItemIndex;return n>-1&&n===this._getItemIndex(t)&&(this._items[n].delMod("hovered"),this._curItemIndex=-1),e&&this.val(this._userVal),!0},_onSelectItem:function(t,e){var n=t.select(e||!1),i="object"==typeof n?n.needUpdate:!1!==n,s="object"==typeof n&&n.needEvent;this._preventRequest=!0,i&&(this._userVal=t.val(),this.val(this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex})),e?this.del("_preventRequest")._getPopup().hide():(this._returnFocus=!0,this.bindToDoc("pointerrelease",this._onDocMouseUp),i||(this._preventHide=!0),this.afterCurrentEvent(function(){this.domElem&&this.setMod("focused","yes").del("_preventRequest","_preventHide")})),(i||s)&&this.trigger("select",{item:t,byKeyboard:e})},_onItemMouseUp:function(){this._closePopupByMouseUp()},_onDocMouseUp:function(){this._closePopupByMouseUp()},_closePopupByMouseUp:function(){this.unbindFromDoc("pointerrelease").del("_returnFocus")._getPopup().hide()},_getItemIndex:function(t){return $.inArray(t,this._items)},_doRequest:function(){var t=this;t._userVal=t.val(),t.trigger("data-requested").getDataprovider().get(t.val(),function(e){t.trigger("data-received",e);var n=t._getPopup(),i=e.items||e;t.foot&&i.length&&-1===$.inArray(t.foot,i)&&i.push(t.foot),i.length?(t._curItemIndex=-1,BEM.DOM.update(n.elem("items"),t._buildItemsHtml(i),function(){n.isShown()||(n.show(t.elem("box")),t._setWidth()),t._items=n.findBlocksInside("b-autocomplete-item"),t.trigger("update-items")})):n.hide()})},_setWidth:function(){this._hasPopupFade()&&this._getPopup().domElem.css("width",this.elem("box").outerWidth())},_buildItemsHtml:function(t){var e=this;return BEMHTML.apply($.map(t,function(t,n){var i,s={block:"b-autocomplete-item",data:t,mods:{type:$.isArray(t)?t[0]:"text"},suggestVersion:e.params.dataprovider.version||4};return $.isArray(t)&&$.isPlainObject(i=t.concat().pop())&&$.extend(s,i),s}))},setFoot:function(t){return this.foot=t,this.foot},getDefaultParams:function(){return $.extend(this.__base(),{updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})}}),function(){var t={};BEM.decl("i-request",{onSetMod:{js:{inited:function(){this._preventCache=!1}}},get:function(t,e,n,i){return $.isFunction(n)||(i=n,n=this.params.onError),this._get(t,e,n,$.extend({},this.params,i)),this},_get:function(e,n,i,s){var o=this._buildCacheKey(e,s),r=t[s.cacheGroup];s.cache&&r&&o in r.data?this.afterCurrentEvent(function(){n.call(this.params.callbackCtx,r.data[o])},this):this._do(e,n,i,s)},_do:function(t,e,n,i){},_onSuccess:function(t,e,n,i){i.cache&&!this._preventCache&&this.putToCache(i,t,n),this._preventCache=!1},_buildCacheKey:function(t,e){return"string"==typeof t?t:$.param(t)},putToCache:function(e,n,i){var s=t[e.cacheGroup]||(t[e.cacheGroup]={keys:[],data:{}});s.keys.length>=e.cacheSize&&delete s.data[s.keys.shift()];var o=this._buildCacheKey(n,e);return s.data[o]=i,s.keys.push(o),this},dropCache:function(){return delete t[this.params.cacheGroup],this},getDefaultParams:function(){return{cache:!1,cacheGroup:"default",cacheSize:100,callbackCtx:this}}},{_cache:t})}(),BEM.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:{inited:function(){this.__base(),this._requestNumber=this._number=this._preventNumber=this._retryCount=0}}},_get:function(t,e,n,i){this._number++,this._requestNumber++,this._retryCount=i.retryCount,this.__base.apply(this,arguments)},_do:function(t,e,n,i){var s=this;if(s._number>s._preventNumber){var o=arguments,r={data:i.data?$.extend({},i.data,t):t},a=s._wrapCallback(function(n,o,r){s._onSuccess(s._buildCacheKey(t,i),t,n[0],i),s._allowCallback(o,r)&&e.apply(i.callbackCtx,n)}),c=s._wrapCallback(function(t,e,r){s._allowCallback(e,r)&&(s._retryCount-- >0?setTimeout(function(){s._do.apply(s,o)},i.retryInterval):n&&n.apply(i.callbackCtx,t))});$.each(["url","dataType","timeout","type","jsonp","jsonpCallback","xhrFields"].concat(i.paramsToSettings||[]),function(t,e){r[e]=i[e]}),$.ajax(r).done(a).fail(c)}},_wrapCallback:function(t){var e=this._requestNumber,n=this._number;return function(i){null!==i&&t(arguments,e,n)}},_allowCallback:function(t,e){return e>this._preventNumber&&this._requestNumber===t},_buildCacheKey:function(t,e){return"string"==typeof t?t:this.__base(t)+e.url},abort:function(){this._preventNumber=++this._number},getDefaultParams:function(){return $.extend(this.__base(),{cache:!0,type:"GET",dataType:"jsonp",timeout:2e4,retryCount:0,retryInterval:2e3})}}),BEM.decl({name:"input__dataprovider",baseBlock:"i-request_type_ajax"},{get:function(t,e){return this.__base({part:t},function(t){e.call(this,{items:t[1],metainfo:t[2]})})}}),BEM.DOM.decl("popup",{getDefaultParams:function(){return{zIndexGroupLevel:0,directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:{left:15,right:15,top:15,bottom:15}},duration:150}},onSetMod:{js:{inited:function(){this._cache={},this._viewport=BEM.DOM.win,this._scope=BEM.DOM.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._destructor=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,n=this._repackDirParams(t.directions),i=e.generateDirections?this._generateDirections:e.directions,s=this._repackDirParams(i);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=s.keys.map(function(t){var e=s.directions[t],i=n.directions[t];return i||(i=n.directions[e.to]),this._directions[t]=this._mergeParams(i,e,{tail:this._tailParamsHook}),t},this),this._zIndex=null,this._zIndexGroupLevel=null}},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(t){var e;if(t instanceof BEM)e=t.domElem.eq(0);else if(t instanceof $)e=t;else if(!t)return;if(e){if(this._owner&&e[0]!==this._owner[0]&&this.delMod("visibility"),this._owner=e,e.length){var n="_"+this.__self.getName()+"-destructor";this._destructor=e.addClass("i-bem "+n).bem(n)}var i=this._findParent(e);i&&this.setParent(i)}else this._userPosition=t;return this.setMod("visibility","outside").repaint()},hide:function(t){if(this._isHiding)return this;if(this._isShown){var e=$.Event("before-hide");if(this.trigger(e,t),e.isDefaultPrevented())return this;if(this._isHiding=!0,this._childs.forEach(function(t){t.hide&&t.hide(),t.delMod("visible")}),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no")){var n=this;return this.beforeHide(function(){n.domElem&&n.delMod("visibility")}),this}}return this.delMod("visibility")},toggle:function(t,e){return this._isShown&&!this._isHiding?this.hide(e):this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setScope:function(t){return this._scope=t,this._inContainer=!1,this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild&&t.addChild(this),this},addChild:function(t){for(var e=this._childs,n=e.length,i=0;i<n;i++)if(e[i]._uniqId===t._uniqId)return;t.on("hide",function(){this.removeChild(t)},this),t.on("beforeClose",function(){this.afterCurrentEvent(function(){this.removeChild(t)})},this),e.push(t)},_getParentPopup:function(){return this._parent},removeChild:function(t){for(var e=this._childs,n=e.length,i=0;i<n;i++)if(e[i]._uniqId===t._uniqId)return void e.splice(i,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),(!this._isShown||this._isHiding)&&this.hasMod("animate","yes")&&!this.hasMod("fade-in","no")&&this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this._isShown||this._bindCompatibility(),this.bindToDoc("keydown",function(t){t.which===BEM.blocks.keycodes.ESC&&0===this._childs.length&&this.hide({source:"esc-key"})}),this._attachRepaintOnResize(),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent(function(){this.domElem&&this._enableAutoclosable()}),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_bindCompatibility:function(){this._captureZIndex(),this.__self._visiblePopupsStack.unshift(this),this.trigger("beforeOpen")},_unbindCompatibility:function(){this.trigger("beforeClose");var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this._releaseZIndex()},_onHidden:function(){this._isShown&&this._unbindCompatibility(),this.unbindFromDoc("keydown"),this._detachRepaintOnResize(),this._unbindFocusEvents(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._detachUnder(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_attachRepaintOnResize:function(){window.attachEvent&&this.domElem[0].attachEvent("onresize",this.__self._enforcePageRepaint)},_detachRepaintOnResize:function(){window.detachEvent&&this.domElem[0].detachEvent("onresize",this.__self._enforcePageRepaint)},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this.__self._getFocusable(this.elem("content"));this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0!==this._firstFocusable.length?this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown):this._skipReturnFocus=!0},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){(this._parent||{})._skipReturnFocus||this._skipReturnFocus||this._lastFocused.focus()},_mergeParams:function(t,e,n){var i={},s=Object.prototype.hasOwnProperty;return n||(n={}),t&&"object"==typeof t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),Object.keys(e).forEach(function(o){var r=s.call(n,o)?n[o].call(this,t[o],e[o]):e[o];!r||"object"!=typeof r||Array.isArray(r)?i[o]=r:t[o]?i[o]=this._mergeParams(t[o],r,n):i[o]=r},this),i},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(this.__self._generateDirectionsCache)return this.__self._generateDirectionsCache;for(var t=[["bottom","top"],["left","right"]],e=[["center","left","right"],["middle","top","bottom"]],n=e,i=t.length,s=[],o=0;o<i;o++)for(var r=t[o],a=r.length,c=0;c<a;c++)for(var u=e[o],h=u.length,l=0;l<h;l++)for(var d=n[o],p=d.length,f=0;f<p;f++)s.push({direction:r[c],axis:u[l],tail:{axis:d[f]}});return this.__self._generateDirectionsCache=s,s},_repackDirParams:function(t){var e,n={};return("string"==typeof t||$.isPlainObject(t))&&(t=[t]),e=t.map(function(t){if("string"==typeof t){var e=t.split("-");t={to:e[0],tail:{}},e[1]&&(t.axis=e[1]),e[2]&&(t.tail.axis=e[2])}var i=t.to;return n[i]||(n[i]=t),t.axis&&(i+="-"+t.axis),t.key=i,n[i]=t,i},this),{directions:n,keys:e}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){var t,e=this._order,n=this.hasMod("adaptive","yes")?e.length:1;for(this._visibilityFactor=0,t=0;t<n;t++){var i=e[t],s=this._directions[i];this._resetPos(i)._pushPos(i,this._calcPos(s))._pushPos(i,this._calcOffsets(s)),this._hasTail()&&this._resetTailPos(i)._pushTailPos(i,this._calcTailPos(s))._pushTailPos(i,this._calcTailOffset(s))._pushPos(i,this._calcOffsetByTail(s)),this._pushPos(i,this._getParentOffset());var o=this._calcVisibilityFactor(s);if((o>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=o,this._direction=this._directions[i],this.size=this.getPlacingSize(),100===o))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),n=this.getOwnerSize(),i=this.getPlacingSize(),s=t.axis,o=this.params.position||{},r={},a=Object.prototype.hasOwnProperty;switch(t.to){case"bottom":r={top:a.call(o,"top")?o.top:e.top+n.height,left:a.call(o,"left")?o.left:this._calcLeft(s)};break;case"top":r={top:a.call(o,"top")?o.top:e.top-i.height,left:a.call(o,"left")?o.left:this._calcLeft(s)};break;case"left":r={top:a.call(o,"top")?o.top:this._calcTop(s),left:a.call(o,"left")?o.left:e.left-i.width};break;case"right":r={top:a.call(o,"top")?o.top:this._calcTop(s),left:a.call(o,"left")?o.left:e.left+n.width}}return r},_calcTop:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),s=this.getOwnerSize();return"top"===t?e+=i.top:"middle"===t?e+=i.top+s.height/2-n.height/2:"bottom"===t&&(e+=i.top+s.height-n.height),e},_calcLeft:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),s=this.getOwnerSize();return"left"===t?e+=i.left:"center"===t?e+=i.left+s.width/2-n.width/2:"right"===t&&(e+=i.left+s.width-n.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,n=this._cache.offset||(this._cache.offset={}),i=t.key,s=t.offset;if(n[i])return n[i];if(!s)return!1;if(e={left:0,top:0},"number"==typeof s)switch(i){case"left":e.left+=s;break;case"right":e.left-=s;break;case"top":e.top+=s;break;case"bottom":e.top-=s}else s.left&&(e.left+=s.left),s.right&&(e.left-=s.right),s.top&&(e.top+=s.top),s.bottom&&(e.top-=s.bottom);return n[i]=e,e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(t,e,n){!1!==n&&("string"==typeof e?this._sum(t[e]||(t[e]={}),n):(n=e,Object.keys(t).forEach(function(e){this._sum(t[e],n)},this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(t,e){Object.keys(e).forEach(function(n){t[n]=(t[n]||0)+e[n]})},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e,n,i=this._viewport,s=this._getSizeOf(i),o=this.getPopupSize(),r=this._positions[t.key],a=this._parent&&this._isParentFixed?this._parent.domElem.offset():{top:0,left:0},c=this.hasMod("position","fixed")?{top:0,left:0}:{top:i.scrollTop(),left:i.scrollLeft()},u=r.top+a.top-c.top,h=r.left+a.left-c.left,l=h+o.width-s.width,d=u+o.height-s.height,p={height:o.height,width:o.width},f=100;return d>0&&(p.height-=d),u<0&&(p.height+=u),h<0&&(p.width+=h),l>0&&(p.width-=l),p.height<0||p.width<0?f=0:(n=Math.abs(p.height*p.width),(e=o.height*o.width)!==n&&(f=n/e*100)),f},_findParent:function(t){var e=t.closest(".popup, .popup2");return this.findBlockOn(e,"popup")||this.findBlockOn(e,"popup2")},destruct:function(){return this._childs.forEach(function(t){t.domElem&&BEM.DOM.destruct(t.domElem)}),this.setMod("fade-out","no"),this.hide(),this._isShown&&this._unbindCompatibility(),this.__base.apply(this,arguments)},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),this._destructor?this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t):t},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],i=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==i&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t.splice(t.indexOf(this._zIndex),1),this},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","pointerclick",function(){this.hide({source:"close-click"})})},_visiblePopupsStack:(BEM.blocks.popup2||{})._visiblePopupsStack||[],_visiblePopupsZIndexes:(BEM.blocks.popup2||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3,_getFocusable:function(t){var e=$.data(t,"popup-getFocusable-id");e||(e=$.identify(),$.data(t,"popup-getFocusable-id",e)),e='*[data-popup-getFocusable-id="'+e+'"]';var n="a[href], link, ";return BEM.blocks["i-ua"].opera<13&&(n=""),t.find(n+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter(function(){var t=$(this),n=!0;return!(parseInt(t.prop("tabindex"),10)<0||"hidden"===t.css("visibility"))&&($(this).parentsUntil(e).each(function(){if("none"===$(this).css("display"))return n=!1}),n)})},_enforcePageRepaint:function(){document.body.className+=""},_generateDirectionsCache:null}),BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}}},isDivEnough:function(){return!0},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var t=this.__self._underPool.pop();return t&&(this._underInPool=!1),this._under=t,t||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem).css("z-index",this._zIndex):t.prependTo(this.domElem)},_detachUnder:function(){var t=this._under;t.removeAttr("style"),this.__self._underPool.push(t.detach()),this._under=null,this._underInPool=!0},destruct:function(){var t=this.__base.apply(this,arguments);return this._underInPool&&this.__self._underPool.pop(),this._under&&this._under.remove(),t}},{_underPool:[]}),BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){if(this.domElem){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"pointerclick",function(t){t.stopPropagation(),this.hide({source:"outside-click"})}),this.bindTo(t,"pointerdown",function(){this._skipReturnFocus=!0})),this.bindTo("pointerdown pointerclick",function(){var t=this;do{t._preventHideByClick=!0,t=t._getParentPopup()}while(t)}),this.bindToDoc("pointerclick",function(t){if(this._preventHideByClick)this._preventHideByClick=null;else if(!this._isRelatedNode($(t.target))){var e=$.Event("outside-click");this.trigger(e,t),e.isDefaultPrevented()||this.hide({source:"outside-click"})}}),this.bindToDoc("pointerdown",function(){this._skipReturnFocus=!0})}},_disableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.unbindFrom(t,"pointerclick pointerdown")),this.unbindFromDoc("pointerclick pointerdown")},_isRelatedNode:function(t){var e=this.containsDomElem(t);if(e||(e=Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t)),e)return!0;var n,i=this._childs.length;for(n=0;n<i;n++)if(this.containsDomElem.call({domElem:this._childs[n].domElem},t))return!0;return!1}}),BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.afterCurrentEvent(function(){this.domElem&&this.bindToWin("resize",this.onResize)}),this._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),this.onScroll,this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t=this.getCurrDirection();if(t){var e=t.to,n=this.getCurrPos(),i={opacity:1,top:n.top,left:n.left},s={opacity:0,top:n.top,left:n.left};"bottom"===e?s.top+=10:"top"===e?s.top-=10:"left"===e?s.left-=10:"right"===e&&(s.left+=10),this.domElem.stop(!0).css(s).animate(i,this.params.duration)}},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var n=e.to,i=this.getCurrPos(),s=this.domElem,o={top:i.top,left:i.left,opacity:0};return"bottom"===n?o.top+=10:"top"===n?o.top-=10:"left"===n?o.left-=10:"right"===n&&(o.left+=10),s.stop(!0,!0).animate(o,this.params.duration,function(){t(),s.css("opacity","")})}}),function(t,e,n){var i=t.INTERNAL,s=i.ELEM_DELIM,o={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},r=i.buildClass,a=i.buildClasses,c={};function u(t,e,n){(t[e]||(t[e]=[])).unshift(n)}function h(t,e){return e.modName?function(n){(n._curBlock.mods||{})[e.modName]===e.modVal&&t(n)}:t}function l(t,n){var i,s=e.isArray(n);return e.isArray(t)?s?i=t.concat(n):(i=t).push(n):s?(i=n).unshift(t):i=[t,n],i}var d={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},p=/["&<>]/g;t.HTML={decl:function(t,n){"string"==typeof t&&(t={block:t}),t.name&&(t.block=t.name);var i=c[t.block]||(c[t.block]={});n.onBlock&&u(i,"_block",h(n.onBlock,t)),n.onElem&&(e.isFunction(n.onElem)?u(i,"_elem",h(n.onElem,t)):e.each(n.onElem,function(e,n){u(i,"_elem"+("*"===e?"":s+e),h(n,t))}))},build:function(t){var e=new this.Ctx(t);return e._buildAll(),e._flush()},Ctx:e.inherit({__constructor:function(t){this._buffer=[],this._params=t,this._tParams=null,this._tParamsChanges=null,this._curBlock=void 0},pos:function(){return this._params._pos},isFirst:function(){return 1===this._params._pos},isLast:function(){var t=this._params;return t._pos===t._siblingsCount},params:function(t){return void 0===t?this._params:(this._params=t,this)},param:function(t,n,i,s){var o=this._params;return void 0===n?o[t]:(!i&&t in o?s&&(o[t]=e.extend(n,o[t])):o[t]=n,this)},attrs:function(t,e){return this.param("attrs",t,e,!0)},attr:function(t,e,n){if(void 0===e)return(this._params.attrs||{})[t];var i=this._params.attrs;return i?(n||!(t in i))&&(i[t]=e):(this._params.attrs={})[t]=e,this},tag:function(t,e){return this.param("tag",t,e)},cls:function(t,e){return this.param("cls",t,e)},mods:function(t,e){return this.param("mods",t,e,!0)},mod:function(t,e,n){if(void 0===e)return(this._params.mods||{})[t];var i=this._params.mods;return i?(n||!(t in i))&&(i[t]=e):(this._params.mods={})[t]=e,this},mix:function(t,e){var n=this._params;return void 0===t?n.mix:(n.mix=!e&&"mix"in n?n.mix.concat(t):t,this)},js:function(t){return this.param("js",t)},content:function(t,e){return this.param("content",t,e)},wrapContent:function(t){var e=this._params;return t.content=e.content,e.content=t,this},beforeContent:function(t){var e=this._params;return e.content=l(t,e.content),this},afterContent:function(t){var e=this._params;return e.content=l(e.content,t),this},wrap:function(t){var e=this._params;return t.block||(t._curBlock=this._curBlock),t.content=e._wrapper?e._wrapper:e,e._wrapper=t,this},tParam:function(t,e){var n=this._tParams||(this._tParams={});if(void 0===e)return n[t];var i=this._tParamsChanges||(this._tParamsChanges={});return t in i||(i[t]=n[t]),n[t]=e,this},generateId:function(){return e.identify()},stop:function(){this._params._isStopped=!0},_buildAll:function(){var t=this._buffer,n=this._params,i=typeof n;if("string"===i||"number"===i)t.push(n);else if(e.isArray(n))for(var s,o,r=0,a=n.length;r<a;)this._params=s=n[r++],"string"===(o=typeof s)||"number"===o?t.push(s):s&&(s._pos=r,s._siblingsCount=a,this._buildByDecl());else n&&(this._params._pos=this._params._siblingsCount=1,this._buildByDecl())},_build:function(){var t,n=this._buffer,i=this._params,s=i.tag||"div",c=i.block||i.elem,u=c&&(i.block||this._curBlock.block),h=!1;i.js&&((t={})[r(u,i.elem)]=!0===i.js?{}:i.js,h=!i.elem),n.push("<",s),(c||i.cls)&&(n.push(' class="'),c&&(a(u,i.elem,i.mods,n),i.mix&&e.each(i.mix,function(e,i){i&&(n.push(" "),a(i.block,i.elem,i.mods,n),i.js&&((t||(t={}))[r(i.block,i.elem)]=!0===i.js?{}:i.js,h||(h=!i.elem)))})),i.cls&&n.push(c?" ":"",i.cls),h&&n.push(" i-bem"),n.push('"')),t&&n.push(' onclick="return ',JSON.stringify(t).replace(p,function(t){return d[t]}),'"'),i.attrs&&e.each(i.attrs,function(t,e){void 0!==e&&null!==e&&!1!==e&&n.push(" ",t,'="',e.toString().replace(/"/g,"&quot;"),'"')}),o[s]?n.push("/>"):(n.push(">"),void 0!==i.content&&(this._params=i.content,this._buildAll()),n.push("</",s,">"))},_flush:function(){var t=this._buffer.join("");return delete this._buffer,t},_buildByDecl:function(){var t=this._curBlock,n=this._params;if(n._curBlock&&(this._curBlock=n._curBlock),n.block&&(this._curBlock=n),!n._wrapper){if(n.block||n.elem){var i,o=c[this._curBlock.block];if(o)if(n.elem?(i=o["_elem"+s+n.elem],o._elem&&(i=i?i.concat(o._elem):o._elem)):i=o._block,i)for(var r,a=0;(r=i[a++])&&(r(this),!n._isStopped););}if(n._wrapper)return n._curBlock=this._curBlock,this._params=n._wrapper,this._buildAll()}var u=this._tParamsChanges;if(this._tParamsChanges=null,this._build(),this._curBlock=t,u){var h=this._tParams;e.each(u,function(t,e){void 0===e?delete h[t]:h[t]=e})}}})}}(BEM,jQuery),BEM.decl("i-common__string",{},{cleverSubstring:function(t,e,n){return t.length>e+n?t.substring(0,e-1)+"…":t},escapeHTML:function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return function(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return t[e]||e})}}(),escapeRegExp:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}}),BEM.DOM.decl("b-autocomplete-item",{val:function(){return this.params.val||this.elem("text").text()||this.domElem.text()},enter:function(){},select:function(t){},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)})},highlight:function(t,e){if(!$.isArray(e))return t;var n,i=[],s=0,o=e.sort(function(t,e){return t[0]-e[0]}),r=[],a=-1!==t.indexOf("?"),c=function(t){if(a)return t;for(;-1!==t.indexOf("?")&&r.length;)t=t.replace("?",r[0]),r.shift();return t};return!a&&function(){for(var e,n=/\&(#\d+|#x[a-f\d]+|\w+);/gi;e=n.exec(t);)r.push(e[0]),t=t.replace(e[0],"?")}(),o.forEach(function(e){n=s>e[0]?s:e[0],i.push({tag:"span",elem:"span",content:c(t.slice(s,n))}),i.push({tag:"em",elem:"em",content:c(t.slice(n,s=e[1]))})},this),i.push({tag:"span",elem:"span",content:c(t.slice(s))}),i}}),BEM.DOM.decl("b-autocomplete-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown mouseup pointerover pointerout pointerdown pointerup",function(t){this.trigger(t.type)}),this.__base()}}),BEM.HTML.decl("b-autocomplete-item",{onBlock:function(t){var e=t.param("data"),n=BEM.blocks["i-common__string"].escapeHTML($.isArray(e)?e[1]:e);$.isArray(t.param("search_cgi"))&&t.js({cgi:t.param("search_cgi")}),t.tag("li").mod("pers",!!t.param("pers")&&"yes").content(BEM.blocks["b-autocomplete-item"].highlight(n,t.param("hl"))).js(!0)}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"nav",modVal:"yes"},{enter:function(){return!1},select:function(t){if(t){var e=window.open();e.opener=null,e.location=this.val()}return{needEvent:!0}}},{getUrl:function(t){return(t.match(/^\w[\w-]*:\/\//g)?"":"http://")+t}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{onSetMod:{js:{inited:function(){this.setMod("nav","yes")}}},enter:function(){return this.__base.apply(this,arguments)},select:function(){return this.__base.apply(this,arguments)}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{onBlock:function(t){var e=t.param("data"),n=4===t.param("suggestVersion"),i=e[4]||e[3],s=(i.match(/^\w[\w-]*:\/\//g)?"":"http://")+i;t.js({val:s}).content({elem:"link",url:s,title:BEM.blocks["i-common__string"].escapeHTML(n?e[3]:e[2]),description:BEM.blocks["b-autocomplete-item"].highlight(n?e[2]:e[1],t.param("hl"))})},onElem:{link:function(t){t.tag("a").attrs({href:t.param("url"),target:"_blank"}).content([{elem:"link-url",tag:"span",content:t.param("title")},{elem:"link-info",tag:"span",content:[" — "].concat(t.param("description"))}])}}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{select:function(){return!1}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{onBlock:function(t){t.mod("enterable","no").content($.map(t.param("data").slice(1),function(t){return $.isArray(t)?{tag:"span",elem:"foot",content:t[0]}:t}))}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"lingvo"},{onBlock:function(t){var e=t.param("data")[1];t.content([{tag:"span",elem:"text",content:e.text},{tag:"span",elem:"translation",content:[" — ",e.translation]}])}}),BEM.DOM.decl("settings-tags",{onSetMod:{js:function(){var t=this;t._tags=[],t._settings=BEM.blocks.settings,t.findBlockOn("add-source","button2").on("click",function(){t.setMod("editable",!0),t._input.setMod("focused","yes")}),t._tooltip=t.findBlockInside("tooltip"),t._input=t.findBlockInside("input").on("data-received",function(e,n){t.__self.addSuggestData(n)}).on("change",t._onChange,t).on("select",t._onClick,t).on("release",t._onRelease,t).bindTo("pointerclick",t.hideErrorTooltip.bind(t)),t._add=t.findBlockOn("add","button2").on("click",t._onClick.bind(this)),global.params.isAuth&&t.channel("sys").on("settings:change",t._onSettingsChange,t).on("settings:close",t._onSettingsClose,t),t._disableAddButton()}},destruct:function(){clearTimeout(this._timerForErrorTooltip),this.channel("sys").un("settings:change",this._onSettingsChange,this).un("settings:close",this._onSettingsClose,this)},TIMEOUT_ERROR_TOOLTIP:7e3,addTag:function(t){var e=this,n=e.hasTag(t.id);e._removeTag(t),e._tags.unshift(t),e.update("add"),!n&&e._settings.doRequest({action:"add",typeSource:e.params.typeSource,name:t.name,id:t.id,type:t.type},function(){},function(){e.showErrorTooltip(BEM.I18N("settings-tags","error-saving"),e._input.domElem)})},hasTag:function(t){return this._tags.some(function(e){return e.id===t})},removeTag:function(t){var e=this,n=e.hasTag(t.id);e._removeTag(t),e.update("remove"),n&&e._settings.doRequest({action:"delete",typeSource:e.params.typeSource,id:t.id,type:t.type},null,function(){e.showErrorTooltip(BEM.I18N("settings-tags","error-saving"),e.elem("tags"))})},_removeTag:function(t){this._tags=this._tags.filter(function(e){return e.id!==t.id})},getTags:function(){return this._tags},getTagById:function(t){var e=null;return this._tags.some(function(n){return n.id===t&&(e=n),e}),e},set:function(t){this._tags=t,this.update("set")},update:function(t){var e=this.params.countVisible,n=this._tags.filter(function(t){return!("delete"===t.action&&t.progress)}).length,i=[],s=this._tags.map(function(n,s){return i.push(n.name,n.id),{block:"tag",mods:{active:"add"===t&&!s},mix:{block:"settings-tags",elem:"tag",js:{id:n.id},elemMods:{hidden:s>=e}},title:n.name}});i=i.join(","),n>e&&s.push({block:"settings-tags",elem:"more",tag:"a",attrs:{tabindex:0},content:BEM.I18N("settings-tags","more",{count:n-e})}),this._lastTagValues===i&&"set"===t||(BEM.DOM.update(this.elem("tags"),BEMHTML.apply(s)),this._lastTagValues=i)},showErrorTooltip:function(t,e,n){var i=this;i._tooltip.setOwner(e).setContent(t).setMod("shown","yes"),n||(clearTimeout(i._timerForErrorTooltip),i._timerForErrorTooltip=setTimeout(function(){i.hideErrorTooltip()},i.TIMEOUT_ERROR_TOOLTIP))},showErrorDuplicateTooltip:function(){this.showErrorTooltip("favorite"===this.params.typeSource?BEM.I18N("settings-tags","error-duplicate-ignore"):BEM.I18N("settings-tags","error-duplicate-favorite"),this._getErrorTooltipOwner())},hideErrorTooltip:function(){clearTimeout(this._timerForErrorTooltip),this._tooltip.delMod("shown")},_counter:function(t,e){Ya.c([this.params.counters[t][0],e])},_disableAddButton:function(){var t=!this.__self.hasSuggestTagByName(this._input.val());this._add.toggleMod("disabled","yes","",t)},_onDocPointerRelease:function(){this.showErrorDuplicateTooltip(),this.unbindFromDoc("pointerrelease",this._onDocPointerRelease)},_onChange:function(){this._disableAddButton(),this.hideErrorTooltip()},_onClick:function(t,e){var n=this._input.val().trim(),i=this.__self.getSuggestTagByName(n),s="favorite"===this.params.typeSource?"ignore":"favorite";void 0!==i&&(this._input.val(""),this.hideErrorTooltip(),this._settings.hasSource(s,i.id)?"select"!==t.type||e.byKeyboard?this.showErrorDuplicateTooltip():this.bindToDoc("pointerrelease",this._onDocPointerRelease):(this.addTag(i),this._counter("add","-aid="+i.id)))},_onSettingsChange:function(t,e){e.typeSource===this.params.typeSource&&this.set(e.sources)},_onSettingsClose:function(t,e){this._input.getPopup().delMod("visible")}},{live:function(){return this.liveInitOnBlockInsideEvent("remove","tag",function(t){var e=this.elemParams(t.target.domElem).id;this.removeTag(this.getTagById(e)),this._counter("remove","-aid="+e)}).liveBindTo("more","pointerclick",this._onMoreClick).liveBindTo("tag more","keydown",function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&t.target.click()}),!1},_onMoreClick:function(){this.delMod("short"),this._counter("more")},_prepareName:function(t){return t.toLowerCase().trim()},_suggestDataById:{},_suggestDataByName:{},addSuggestData:function(t){var e=this;t&&t.items&&t.metainfo&&t.items.forEach(function(n,i){if(n){var s=t.metainfo[i].split(":"),o=Number(s[0]),r=s[2];e._addSuggestData(n,r,o)}})},_addSuggestData:function(t,e,n){var i={name:t,type:e,id:n};this._suggestDataByName[this._prepareName(t)]=i,this._suggestDataById[n]=i},getSuggestTagByName:function(t){return this._suggestDataByName[this._prepareName(t)]},getSuggestTagById:function(t){return this._suggestDataById[t]},hasSuggestTagByName:function(t){return void 0!==this.getSuggestTagByName(this._prepareName(t))}}),BEM.DOM.decl("settings-tags",{getDefaultParams:function(){return{countVisible:3}},_getErrorTooltipOwner:function(){return this._add.domElem}}),BEM.DOM.decl("tag",{},{live:function(){this.liveBindTo("remove","pointerclick",function(){this.trigger("remove")}).liveBindTo("remove","mouseover",function(){this.setMod("hovered",!0)}).liveBindTo("remove","mouseout",function(){this.delMod("hovered")})}}),BEM.decl({name:"input__settings-dataprovider",baseBlock:"i-request_type_ajax"},{get:function(t,e){var n=this;return n.__base({part:t},function(t){e.call(this,n._prepareItems(t))})},_prepareItems:function(t){var e=[],n=[],i=t[1];return(t[2]||[]).forEach(function(t,s){var o=t.split(":")[2];"agency"!==o&&"feed"!==o||(e.push(i[s]),n.push(t))}),this.MAX_ITEMS&&(e=e.slice(0,this.MAX_ITEMS),n=n.slice(0,this.MAX_ITEMS)),{items:e,metainfo:n}}}),BEM.DOM.decl({name:"input",modName:"settings-suggest",modVal:!0},{onSetMod:{js:{inited:function(){this._preventRequest=!0,this.__base.apply(this,arguments),this._userVal=this.val();var t=this._focused;t&&this.delMod("focused"),this.elem("control").attr("autocomplete","off"),this._preventRequest=!1,t&&this.setMod("focused","yes"),this._items=[],this._curItemIndex=-1,this.__self._faviconPrefix++,this._faviconPrefix=this.__self._faviconPrefix,this._doRequest=$.debounce(this._doRequest,this.params.debounceDelay),this.bindToWin("resize",$.throttle(this._setWidth,60))}},focused:{yes:function(){this.__base();var t=this.params.showListOnFocus?this._onChange():this._onChange;this.on("change",t)},"":function(){this.__base(),this.un("change",this._onChange)._preventHide||this._getPopup().delMod("visible")}}},destruct:function(){var t=this._popup;return t&&t.domElem&&(this._popup=null,BEM.DOM.destruct(t.domElem)),this.__base.apply(this,arguments)},getDataprovider:function(){var t=this.params.dataprovider.url;return this._dataprovider||(this._dataprovider=BEM.create(this.params.dataprovider.name||this.__self.getName()+"__dataprovider",$.extend(this.params.dataprovider,{url:t,callbackCtx:this})))},_onChange:function(){return this._preventRequest||this._doRequest(),this._onChange},_onKeyDown:function(t){if(BEM.blocks.keycodes.is(t.which,"UP","DOWN")&&!t.shiftKey){t.preventDefault();var e=this._items.length,n=!1;if(e){var i=t.which-39,s=this._curItemIndex,o=0;do{n=(0===s&&-1===i||s+i>=e)&&this._onLeaveItem(this._items[s],!0),(s+=i)<0?s=e-1:s>=e&&(s=0)}while(!n&&!1===this._onEnterItem(this._items[s],!0)&&++o<e)}}},_onKeyPress:function(t){t.which===BEM.blocks.keycodes.ENTER&&this._curItemIndex>-1&&this._isCurItemEnteredByKeyboard&&(t.preventDefault(),this._onSelectItem(this._items[this._curItemIndex],!0))},_getPopup:function(){var t=this;if(!t._popup){var e=t.__self.getName(),n=[{elem:"items",tag:"ul",mix:[{block:e,elem:"settings-suggest-items"}]}];t._popup=$(BEMHTML.apply({block:"popup2",mods:{theme:"normal",target:"anchor"},mix:{block:e,elem:"popup2"},directions:["bottom-left"],viewportOffset:0,mainOffset:0,content:{elem:"content",content:n}})).bem("popup2").on({beforeOpen:function(){t.bindTo("keypress",t._onKeyPress).bindTo("keydown",t._onKeyDown)},beforeClose:function(){t.unbindFrom("keypress keydown")._curItemIndex=-1}}),$.each(this._getSuggestItemEvents(),function(e,n){BEM.blocks["settings-suggest-item"].on(t._popup.domElem,e,function(e){n.call(t,e.block)})}),BEM.DOM.init(t._popup.domElem),t._popup.setAnchor(t.domElem)}return t._popup},getPopup:function(){return this._getPopup()},_onEnterItem:function(t,e){if(t.hasMod("enterable","no"))return!1;var n=this._items,i=this._curItemIndex;i>-1&&n[i].delMod("hovered"),(i=this._getItemIndex(t))>-1&&n[i].setMod("hovered",!0),this._curItemIndex=i,this._isCurItemEnteredByKeyboard=Boolean(e),e&&this.params.updateOnEnter&&(this._preventRequest=!0,this.val(!1!==t.enter()?t.val():this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex}).del("_preventRequest"))},_onLeaveItem:function(t,e){var n=this._curItemIndex;return n>-1&&n===this._getItemIndex(t)&&(this._items[n].delMod("hovered"),this._curItemIndex=-1),e&&this.val(this._userVal),!0},_onSelectItem:function(t,e){var n=t.select(e||!1),i="object"==typeof n?n.needUpdate:!1!==n,s="object"==typeof n&&n.needEvent;this._preventRequest=!0,i&&(this._userVal=t.val(),this.val(this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex})),e?this.del("_preventRequest")._getPopup().delMod("visible"):(this._returnFocus=!0,this.bindToDoc("pointerrelease",this._onDocMouseUp),i||(this._preventHide=!0),this.afterCurrentEvent(function(){this.domElem&&(this._getPopup().delMod("visible"),this.setMod("focused","yes").del("_preventRequest","_preventHide"))})),(i||s)&&this.trigger("select",{item:t,byKeyboard:e})},_onItemMouseUp:function(){this._closePopupByMouseUp()},_onDocMouseUp:function(){this._closePopupByMouseUp()},_closePopupByMouseUp:function(){this.unbindFromDoc("pointerrelease").del("_returnFocus")._getPopup().delMod("visible")},_getItemIndex:function(t){return $.inArray(t,this._items)},_doRequest:function(){var t=this;t._userVal=t.val(),t.trigger("data-requested").getDataprovider().get(t.val(),function(e){t.trigger("data-received",e);var n=t._getPopup(),i=e.items.map(function(t,n){return{text:t,domain:e.metainfo[n].split(":")[1]}});i.length?(t._curItemIndex=-1,BEM.DOM.update(n.elem("items"),t._buildItemsHtml(i),function(){n.hasMod("visible")||n.setMod("visible","yes"),t._setWidth(),t._items=n.findBlocksInside("settings-suggest-item"),t.trigger("update-items")})):n.delMod("visible")})},_setWidth:function(){var t=this._getPopup();t.domElem.css("width",this.elem("box").outerWidth()),t.redraw()},_buildItemsHtml:function(t){var e=[],n=document.documentMode&&document.documentMode<9,i=t.map(function(t,n){var i=(t.domain||"").replace(/[^a-z]/g,"-");return e.push(t.domain),{block:"settings-suggest-item",mods:{prefix:this._faviconPrefix},data:{pos:n,text:t.text,domain:t.domain,preparedDomain:i}}},this);return i.push({tag:"style",content:[".settings-suggest-item_prefix_"+this._faviconPrefix+' .settings-suggest-item__icon {background-image: url("//favicon.yandex.net/favicon/'+e.join("/").replace(/(^|\/)www\./,"$1")+(n?"":"?size=32")+'");}']}),BEMHTML.apply(i)},getDefaultParams:function(){return $.extend(this.__base(),{updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})}},{_faviconPrefix:0}),BEM.DOM.decl({name:"input",modName:"settings-suggest",modVal:!0},{_getSuggestItemEvents:function(){return{pointerover:this._onEnterItem,pointerout:this._onLeaveItem,pointerdown:this._onSelectItem,pointerup:this._onItemMouseUp}}}),BEM.DOM.decl("settings-suggest-item",{val:function(){return this.params.val||this.elem("text").text()||this.domElem.text()},enter:function(){},select:function(t){},_onPointerpress:function(t){this.setMod("pressed",!0).bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)})},highlight:function(t,e){if(!$.isArray(e))return t;var n,i=[],s=0,o=e.sort(function(t,e){return t[0]-e[0]}),r=[],a=-1!==t.indexOf("?"),c=function(t){if(a)return t;for(;-1!==t.indexOf("?")&&r.length;)t=t.replace("?",r[0]),r.shift();return t};return!a&&function(){for(var e=/&(#\d+|#x[a-f\d]+|\w+);/gi,n=e.exec(t);n;)r.push(n[0]),t=t.replace(n[0],"?"),n=e.exec(t)}(),o.forEach(function(e){n=s>e[0]?s:e[0],i.push({tag:"span",elem:"span",content:c(t.slice(s,n))}),i.push({tag:"em",elem:"em",content:c(t.slice(n,s=e[1]))})},this),i.push({tag:"span",elem:"span",content:c(t.slice(s))}),i}}),BEM.DOM.decl("settings-suggest-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown mouseup pointerover pointerout pointerdown pointerup pointerclick",function(t){this.trigger(t.type)}),this.__base()}}),function(){BEM.DOM.decl("b-page",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._scrollWidth=null}},"hide-scroll":{"":function(){e()||this._setStruts(0)},yes:function(){e()||this._setStruts(this._getCurrentScrollWidth())}}},_setStruts:function(t){this.domElem.css("margin-right",t)},_getCurrentScrollWidth:function(){var t=document.documentElement;return"number"==typeof window.innerWidth?window.innerWidth-t.clientWidth:t.scrollHeight>t.clientHeight?this._getScrollWidth():0},_getScrollWidth:function(){if(null!==this._scrollWidth)return this._scrollWidth;var t=$("<div>").css({position:"absoulte",left:-9999,top:-9999,overflow:"scroll",width:200,height:200}).appendTo("body");return this._scrollWidth=200-t[0].scrollWidth,t.remove(),this._scrollWidth}},{live:!1});var t=null;function e(){if(null===t){var e=window.navigator.userAgent.toLowerCase(),n=[void 0!==window.orientation,/iemobile/.test(e),/trident/.test(e)&&!function(){try{return Boolean(new ActiveXObject("htmlfile"))}catch(t){return!1}}()];t=n.some(function(t){return t})}return t}}(),BEM.DOM.decl("select2",{onSetMod:{js:{inited:function(){this.menu=this.findBlockOn("menu","menu"),this.popup=this.findBlockOn("popup","popup2"),this.arrow=this.findBlockOn("arrow","icon"),this.button=this.findBlockOn("button","button2"),this.initialVal=this.getVal(),this.popup.setAnchor(this.button),this.popup.on("beforeClose",this._onPopupHide,this),this.button.on({click:this._onButtonClick,focus:this._onButtonFocus},this),this.bindTo("button","blur",this._onButtonBlur),this.menu.on({change:this._onMenuChange,click:this._onMenuItemClick,"item-hover":this._onMenuItemHover},this),this._preventBlur=null,this.bindTo("menu","pointerdown",this._onMenuPointerdown),document.documentMode&&this.bindTo("menu","focusin focusout",this._preventItemFocus),this._setMaxHeight()}},focused:{yes:function(){this.button.setMod("focused","yes")},"":function(){this.delMod("opened"),this.button.delMod("focused")}},opened:{"*":function(t,e){if(this.hasMod("disabled"))return!1;var n=Boolean(e);this.button.domElem.attr("aria-expanded",n),this.arrow.toggleMod("direction","top","bottom",n),this.popup.toggleMod("visible","yes",n)},yes:function(){this._setMinWidth(),this._setMaxHeight()}},disabled:{"*":function(t,e){this.button.setMod(t,e)},yes:function(){this.popup.delMod("visible")}}},getDefaultParams:function(){return{optionsMaxHeight:Number.POSITIVE_INFINITY}},getVal:function(){return this.menu.getVal()},setVal:function(t){return this.menu.setVal(t),this},reset:function(){this.menu.setVal(this.initialVal)},setContent:function(t){return this.menu.setContent(t),this._setMinWidth(),this._setMaxHeight(),this},destruct:function(){return document.documentMode&&this.unbindFrom("menu","focusin focusout",this._preventItemFocus),this.unbindFrom("menu","pointerup",this._preventButtonBlur),this.unbindFrom("menu","pointerdown",this._onMenuPointerdown),this.unbindFrom("button","blur",this._onButtonBlur),this.__base.apply(this,arguments)},_setMinWidth:function(){this.popup.domElem.css("min-width",this.button.domElem.outerWidth()),this.popup.redraw()},_setMaxHeight:function(){var t=this.popup.calcPossibleDrawingParams(),e=this.menu.domElem,n=e.outerWidth(),i=0;t.forEach(function(t){t.width>=n&&t.height>i&&(i=t.height)}),i>0&&(e.css("max-height",Math.min(this.params.optionsMaxHeight,i)),this.popup.redraw())},_onMenuChange:function(t,e){this._changeIcon(t,e),this.trigger("change",e)},_changeIcon:function(t,e){var n,i,s=this.menu,o=this.button,r=s.getItems("checked","yes").filter(function(t){return s.elemParams(t).val===e.currVal}).shift(),a=r&&s.findBlockInside(r,"icon"),c=o.findElem("icon","side","left");a?(c.length||(o.domElem.prepend(this._buildLeftIcon()),c=o.findElem("icon","side","left")),i=o.findBlockInside(c,"icon"),delete(n=a.getMods()).js,Object.keys(n).forEach(function(t){i.setMod(t,n[t])})):c.length&&c.remove()},_onMenuItemClick:function(t,e){this.delMod("opened")},_onMenuItemHover:function(t,e){var n=this.button.domElem,i=e.item;i?n.attr("aria-activedescendant",i.attr("id")):n.removeAttr("aria-activedescendant")},_onMenuPointerdown:function(t){this._preventBlur=!0},_onButtonClick:function(){this.toggleMod("opened","yes")},_onButtonKeydown:function(t){var e=BEM.blocks.keycodes;!this.hasMod("opened")&&e.is(t.keyCode,"UP","DOWN")&&(t.preventDefault(),this.setMod("opened","yes"))},_onButtonKeypress:$.noop,_onButtonFocus:function(){this.setMod("focused","yes")},_onButtonBlur:function(){this._preventBlur?(this._preventBlur=null,this.bindTo("menu","pointerup",this._preventButtonBlur)):this.delMod("focused")},_onPopupHide:function(){this.delMod("opened")},_buildLeftIcon:function(){return'<i class="icon button2__icon button2__icon_side_left" aria-hidden="true"/>'},_preventButtonBlur:function(t){this.unbindFrom("menu","pointerup",this._preventButtonBlur),this.button.domElem.focus()},_preventItemFocus:function(t){t.preventDefault(),t.stopPropagation()}},{live:function(){this.liveInitOnBlockInsideEvent("init","button2"),this.liveBindTo("button","keydown",function(t){this._onButtonKeydown(t)}).liveBindTo("button","keypress",function(t){this._onButtonKeypress(t)})}}),BEM.DOM.decl("select2",{onSetMod:{opened:{yes:function(t,e){var n,i=this.__base.apply(this,arguments);return!1===i?i:(this.menu.getItems("hovered","yes").length||((n=this.menu.getItems("checked","yes")).length?this.menu.hoverText(n[0].text()):this.menu.hoverNext()),i)},"":function(){return this._preventToToggleOpened=!1,this.__base.apply(this,arguments)}}},_onButtonKeydown:function(t){this.hasMod("opened","yes")?(this.menu._onKeydown(t,!0),this._keysToMenu=!0,this._preventToToggleOpened=!0):(this._keysToMenu=!1,this._preventToToggleOpened=!1,this.__base.apply(this,arguments))},_onButtonKeyup:function(t){this._keysToMenu&&(this.menu._onKeyup(t),this._keysToMenu=!1,this._preventToToggleOpened=!0)},_onButtonClick:function(){this._preventToToggleOpened?this._preventToToggleOpened=!1:this.__base.apply(this,arguments)},_onButtonKeypress:function(t){var e=BEM.blocks.keycodes;if(e.is(t.keyCode,"UP","DOWN","ENTER","SPACE")||0===t.keyCode&&t.charCode===e.SPACE)this.menu._onKeypress(t);else{var n=this.menu.getItems("hovered","yes");if(n.forEach(function(t){this.menu.delMod(t,"hovered")},this),this.menu._onKeypress(t),this.hasMod("opened"))return;(n=this.menu.getItems("hovered","yes")).length&&this.setVal(this.menu.elemParams(n[0]).val)}}},{live:function(){return this.liveBindTo("button","keyup",function(t){this._onButtonKeyup(t)}),this.__base()}}),BEM.DOM.decl("select2",{redraw:function(){this.popup.redraw()}}),BEM.DOM.decl({block:"menu",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.elem("item").attr("id",function(t,e){return e||$.identify()}),this._val=this.getVal()}},disabled:function(t,e){this.__base.apply(this,arguments),this.setMod(this.elem("item"),t,e)}},onElemSetMod:{item:{hovered:{yes:function(t){if(this.hasMod(t,"disabled"))return!1;this.delMod(this.elem("item","hovered","yes"),"hovered"),this.domElem.attr("aria-activedescendant",t.attr("id")),this.trigger("item-hover",{item:t})},"":function(){this.domElem.removeAttr("aria-activedescendant"),this.trigger("item-hover",{})}},checked:function(t,e,n){this.domElem.attr("aria-selected",Boolean(n))},disabled:{yes:function(){this.delMod("hovered"),this.domElem.attr("aria-disabled",!0)},"":function(){this.domElem.attr("aria-disabled",!1)}}}},_onChange:function(){var t=this._val,e=this.getVal();return t!==e&&(this._val=e,this.trigger("change",{prevVal:t,currVal:e})),this},getItems:function(t,e){return this.elem("item",t,e).get().map(function(t){return $(t)})},setContent:function(t){return BEM.DOM.update(this.domElem,t),this.reset(),this},getVal:function(){},reset:function(){this.dropElemCache()},_onItemEnter:function(t,e){this.setMod(t,"hovered","yes")},_onItemLeave:function(t,e){this.delMod(t,"hovered")},_onItemFocusin:function(t,e){this.setMod(t,"hovered","yes")},_onFocusout:function(t){this.__base.apply(this,arguments),this.delMod(this.elem("item","hovered","yes"),"hovered")},_onItemClick:function(t,e,n){this.trigger("click",{item:t,source:n.source})}},{live:function(){return this.liveBindTo("item","pointerover pointerout",function(t){var e=t.data.domElem;this.hasMod(e,"disabled","yes")||e[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onItemEnter(e,t):this._onItemLeave(e,t))}).liveBindTo("item","pointerclick",function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||this._onItemClick(e,t,{source:"pointer"})}).liveBindTo("item","focusin",function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||this._onItemFocusin(e,t)}).liveBindTo("focusout",function(t){this._onFocusout(t)}),this.__base()}}),BEM.DOM.decl("menu",{onSetMod:{focused:{yes:function(){if(this.__base.apply(this,arguments),this.hasMod("type","navigation"))return!1;this.elem("item","hovered","yes").length||(this.setMod(this.elem("item").eq(0),"hovered","yes"),this._scrollToItem(this.elem("item").eq(0))),this.bindToDoc("keydown",this._onKeydown).bindToDoc("keyup",this._onKeyup).bindToDoc("keypress",this._onKeypress)},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("keydown keyup keypress").delMod(this.elem("item","hovered","yes"),"hovered")}}},hoverNext:function(t){for(var e,n,i=t?this.getItems().reverse():this.getItems(),s=0,o=!1;n=i[s];s++)if(!this.hasMod(n,"disabled"))if(this.hasMod(n,"hovered"))o=!0;else{if(o){e=n;break}e||(e=n)}e&&(this.setMod(e,"hovered","yes"),this._scrollToItem(e))},hoverText:function(t,e){for(var n,i=this.getItems(),s=i.length,o=this._normalizeText(t),r=e||0;r<s;){if(n=i[r],!this.hasMod(n,"disabled")&&0===this._normalizeText(n.text()).indexOf(o))return this.setMod(n,"hovered","yes"),void this._scrollToItem(n);++r===i.length&&(r=0,s=e)}},_normalizeText:function(t){return t.toLowerCase().replace(/ё/,"е")},reset:function(){this.__base.apply(this,arguments),this._dropSearchCache()},_dropSearchCache:function(){this._lastTime=this._lastChar=this._searchTerm=void 0},_scrollToItem:function(t){var e=this.domElem.offset().top,n=t.offset().top,i=0;n<e?i=n-e:(i=n+t.outerHeight()-e-this.domElem.outerHeight())<0&&(i=0),this.domElem.scrollTop(this.domElem.scrollTop()+i)},_onKeydown:function(t,e){var n=BEM.blocks.keycodes,i=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||((n.is(i,"UP","DOWN")||!e&&i===n.SPACE)&&t.preventDefault(),n.is(i,"UP","DOWN")&&(this.hoverNext(n.is(i,"UP")),this._dropSearchCache()))},_onKeyup:function(t){var e=BEM.blocks.keycodes,n=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||e.is(n,"ENTER","SPACE")&&this._onItemClick(this.elem("item","hovered","yes"),t,{source:"keyboard"})},_onKeypress:function(t){var e,n,i=Number(new Date),s=t.charCode,o=String.fromCharCode(s).toLowerCase(),r=o===this._lastChar&&1===this._searchTerm.length,a=this.getItems();s<=BEM.blocks.keycodes.SPACE||t.ctrlKey||t.altKey||t.metaKey?this._lastTime=i:(i-this._lastTime>this.SEARCH_TIMEOUT||r?this._searchTerm=o:this._searchTerm=(this._searchTerm||"")+o,this._lastChar=o,this._lastTime=i,e=this.elem("item","hovered","yes"),n=(n=$($.map(a,function(t){return t.get()})).index(e))>=0?n:0,r&&0===this._normalizeText(e.text()).indexOf(this._searchTerm)&&(n=n>=a.length-1?0:n+1),this.hoverText(this._searchTerm,n))},SEARCH_TIMEOUT:1500}),BEM.DOM.decl({block:"menu",modName:"type",modVal:"radio"},{getVal:function(){var t=this.getItems("checked","yes")[0];return t&&this.elemParams(t).val},setVal:function(t){return this.getItems().forEach(function(e){this.elemParams(e).val===t?this.setMod(e,"checked","yes"):this.delMod(e,"checked")},this),this._onChange(),this},_onItemClick:function(t,e,n){this.__base.apply(this,arguments),this.hasMod(t,"checked","yes")||(this.delMod(this.elem("item","checked","yes"),"checked"),this.setMod(t,"checked","yes"),this._onChange())}}),BEM.DOM.decl({block:"select2",modName:"text",modVal:"vary"},{_onMenuChange:function(t,e){this.__base.apply(this,arguments),this.button.setText(this.getText()),this._setMinWidth()},getText:function(){var t=this.menu,e=this.params.checkedTexts;return t.getItems("checked","yes").map(function(n){var i=t.elemParams(n),s=i.text||n.text(),o=i.val||n.val();return e[o]||s}).join(", ")||this.params.text}}),BEM.DOM.decl("share-dropdown",{updateLink:function(t,e){var n=this.findBlockInside(this.elem("share-item","service",t),"link");return this._updateLink(n,e),this},updateLinks:function(t){var e=this;this.findBlocksInside("link").forEach(function(n){e._updateLink(n,t)})},_updateLink:function(t,e){var n=t.domElem,i=(e=e||{}).description?e.description:$("meta[name=description]").attr("content")||"";n.attr("href","//share.yandex.ru/go.xml?service="+n.attr("data-service")+"&url="+encodeURIComponent(void 0!==e.url?e.url:window.location.href)+"&title="+encodeURIComponent(e.title?e.title:document.title)+(e.image?"&image="+encodeURIComponent(e.image):"")+"&description="+encodeURIComponent(i))}},{live:!0}),BEM.DOM.decl("button",{onSetMod:{js:{inited:function(){var t=this.isDisabled(),e=this.domElem;(this._href=e.attr("href"))&&t&&e.removeAttr("href")}},disabled:function(t,e){var n=this.domElem;e&&this.delMod("hovered"),this._href&&(e?n.removeAttr("href"):n.attr("href",this._href)),this.afterCurrentEvent(function(){n&&n.prop("disabled",e)})},pressed:function(t,e){if(this.hasMod("disabled"))return!1;this.trigger(e?"press":"release")}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return void 0===t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},getUrl:function(){return this.url()},setUrl:function(t){return this.url(t)},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent(function(){this.domElem&&this.trigger("click")})}},{live:function(){this.liveBindTo("pointerclick",function(t){this._onClick(t)}).liveBindTo("pointerpress",function(t){this.isDisabled()||this._onPointerpress(t)})}}),BEM.DOM.decl("button",{onSetMod:{focused:{yes:function(){if(this.isDisabled())return!1;this.bindToWin("unload",function(){this.delMod("focused")}).bindTo("keydown",this._onKeyDown),this._isControlFocused()||this._getControl().focus(),this.trigger("focus")},"":function(){var t=BEM.blocks["i-ua"].opera<13;this.unbindFromWin("unload").unbindFrom("keydown"),(t||document.hasFocus())&&this._isControlFocused()&&this._getControl().blur(),this.trigger("blur")}},disabled:function(t,e){this.__base.apply(this,arguments),e&&(this.delMod("focused"),this.domElem.keyup())},hovered:function(t,e){if(this.isDisabled())return!1;!e&&this.delMod("pressed")},pressed:function(){return this.isDisabled()||this.setMod("focused","yes"),this.__base.apply(this,arguments)}},_getControl:function(){return this.elem("control").length&&this.elem("control")||this.domElem},_isControlFocused:function(){return this.containsDomElem($.dom.getActiveElement())},_onKeyDown:function(t){var e=BEM.blocks.keycodes,n=t.keyCode;!this._keyDowned&&e.is(n,"ENTER","SPACE")&&(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,n===e.SPACE&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))}))},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.isDisabled()||this.domElem[0].contains(t.relatedTarget)||this.toggleMod("hovered","yes","pointerover"===t.type)}).liveBindTo("focusin focusout",function(t){this.toggleMod("focused","yes","focusin"===t.type)}),8===BEM.blocks["i-ua"].ie&&this.liveBindTo("mouseup mouseout",function(t){this.domElem.height()}),this.__base()}}),BEM.DOM.decl("dropdown",{onSetMod:{js:{inited:function(){var t=this,e=t.params,n=t.findBlockOn(t.elem(e.popupElem),"popup");t._popup=n,n.on("show",t._onPopupShow,t).on("hide",t._onPopupHide,t),e.popupMethods.forEach(function(e){t[e]=n[e].bind(n)}),t.elem("switcher").attr({"aria-haspopup":!0,"aria-expanded":!1})}},action:function(t,e){var n="open"===e;this.elem("switcher").attr("aria-expanded",n),this._getButton()&&this._getButton().toggleMod("arrow","up","down",n)}},getPopup:function(){return this._popup},_getButton:function(){return this._button||(this._button=this.findBlockInside("switcher","button")),this._button},_toggle:function(){["button","link"].some(function(t){var e=this.findBlockOn("switcher",t);return e&&e.hasMod("disabled")},this)&&!this._popup.isShown()||this._popup.toggle(this.elem("switcher"))},_onSwitcherClick:function(){this._toggle()},_onSwitcherKeyUp:function(t){if(!(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)){var e=this.elem("switcher")[0].tagName.toLowerCase(),n=BEM.blocks.keycodes;"button"!==e&&("a"!==e&&t.keyCode===n.ENTER||t.keyCode===n.SPACE)&&(t.preventDefault(),this._toggle())}},_onPopupShow:function(){this.setMod("action","open").trigger("show")},_onPopupHide:function(){this.setMod("action","closed").trigger("hide")},destruct:function(){this._popup.un("show",this._onPopupShow,this).un("hide",this._onPopupHide,this),this._popup.domElem&&BEM.DOM.destruct(this._popup.domElem),this.__base.apply(this,arguments)},getDefaultParams:function(){return{popupElem:"popup",popupMethods:["toggle","show","hide","setContent"]}}},{live:function(){this.liveBindTo("switcher","pointerclick",function(t){this._onSwitcherClick(t)}).liveBindTo("switcher","keyup",function(t){this._onSwitcherKeyUp(t)})}}),BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base(),this._tailPos={}}}},_calcTailPos:function(t){var e=t.to,n=this._positions[t.key],i=t.tail.axis,s={};return"top"===e||"bottom"===e?s.left=this._calcTailLeft(i,n):"left"!==e&&"right"!==e||(s.top=this._calcTailTop(i,n)),s},_calcTailTop:function(t,e){var n=0,i=this.getOwnerSize(),s=this.getOwnerPos(),o=this.params.tail.width,r=this.getPopupSize(),a=r.height,c=s.top-e.top,u=e.top+r.height-(s.top+i.height);return c>0&&(n+=c,a-=c),u>0&&(a-=u),"middle"===t?n+=(a-=o)/2:"bottom"===t&&(n+=a-=o),n<0&&(n=0),n},_calcTailLeft:function(t,e){var n=0,i=this.getOwnerSize(),s=this.getOwnerPos(),o=this.params.tail.width,r=this.getPopupSize(),a=s.left-e.left,c=r.width,u=e.left+r.width-(s.left+i.width);return a>0&&(n+=a,c-=a),u>0&&(c-=u),"center"===t?n+=(c-=o)/2:"right"===t&&(n+=c-=o),n},_calcOffsetByTail:function(t){var e=this.params.tail.height,n={};switch(t.to){case"top":n={top:-e};break;case"bottom":n={top:e};break;case"right":n={left:e};break;case"left":n={left:-e}}return n},_calcTailOffset:function(t){var e={},n=t.to,i=t.tail,s=i.offset,o=i.axis;return!!s&&("top"===n||"bottom"===n?(e.left=0,"left"===o?e.left+=s.left:"center"===o?(s.left&&(e.left+=s.left),s.right&&(e.left-=s.right)):"right"===o&&(e.left-=s.right)):"left"!==n&&"right"!==n||(e.top=0,"top"===o?e.top+=s.top:"middle"===o?(s.top&&(e.top+=s.top),s.bottom&&(e.top-=s.bottom)):"bottom"===o&&(e.top-=s.bottom)),e)},_resetTailPos:function(t){return t?this._tailPos[t]=null:this._tailPos={},this},_pushTailPos:function(t,e){return this._pushPosTo(this._tailPos,t,e),this}}),BEM.DOM.decl({block:"dropdown-menu",baseBlock:"dropdown"}),BEM.DOM.decl("i-menu",{onElemSetMod:{item:{state:{current:function(t,e,n,i){if("disabled"===i)return!1;var s=this.elem("item","state","current");this.delMod(s,"state").trigger("current",{prev:s,current:t})}}}},onItemSelectorClick:function(t){var e=this._getItemByEvent(t);this.setMod(e,"state","current")},_getItemByEvent:function(t){return t.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("item-selector","pointerclick",function(t){this.onItemSelectorClick(t)})}}),BEM.DOM.decl({block:"b-menu-vert",baseBlock:"i-menu"}),BEM.DOM.decl({name:"b-menu-horiz",baseBlock:"i-menu"}),BEM.DOM.decl({block:"filters",modName:"at",modVal:"story"},{onSetMod:{js:function(){this.genre=this.findBlockOn(this.elem("filter","role","genre"),"radiobox").on("change",this.submit,this).on("change",this.counter,this)}},counter:function(t,e){Ya.c(this.genre.elemParams(e.current).counter)},submit:function(){global.page.findBlockInside("search2").submit({precise:"cl4url"})},destruct:function(){this.genre.un("change",this.submit,this).un("change",this.counter,this),this.__base.apply(this,arguments)}}),BEM.DOM.decl("radiobox",{onSetMod:{js:{inited:function(){this._val=this.findElem(this.elem("radio","checked","yes"),"control").val(),this.elem("control").each(function(t,e){var n=$(e),i=this.__self._getRadioByElem(n);n.isFocused()&&this.setMod(i,"focused","yes"),n.prop("checked")&&this.setMod(i,"checked","yes")}.bind(this))}},disabled:{yes:function(){this.setMod(this.elem("radio"),"disabled","yes")},"":function(){this.delMod(this.elem("radio"),"disabled")}}},onElemSetMod:{radio:{focused:{yes:function(t){this.delMod(this.elem("radio","focused","yes"),"focused");var e=this.findElem(t,"control");e.isFocused()||e.focus(),this.afterCurrentEvent(function(){this.domElem&&this.trigger("focus",{current:t})})},"":function(t){this.afterCurrentEvent(function(){this.domElem&&this.trigger("blur",{prev:t})})}},checked:{yes:function(t){var e=this.elem("radio","checked","yes"),n=this.findElem(t,"control"),i=this._val;this._willSwitch=!0,this.delMod(e,"checked"),this._willSwitch=!1,n.prop("checked",!0),this._val=n.val(),this.trigger("change",{current:t,currentVal:this._val,prev:e,prevVal:i})},"":function(t){var e=this.findElem(t,"control"),n=this._val;e.prop("checked",!1),this._val=void 0,this._willSwitch||this.trigger("change",{current:$(),currentVal:void 0,prev:t,prevVal:n})}},hovered:function(t){return!this.isDisabled(t)},pressed:function(t){return!this.isDisabled(t)},disabled:function(t,e,n){t.find(this.buildSelector("control")).prop("disabled",n),n&&this.delMod(t,"hovered").delMod(t,"pressed")}}},isDisabled:function(t){return this.hasMod(t,"disabled","yes")},val:function(t){if(void 0===t)return this._val;var e=this;return this.elem("control").each(function(n,i){if(i.value===t)return e.setMod(e.__self._getRadioByElem($(i)),"checked","yes"),!1}),e},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getCurrent:function(){return this.findElem("radio","checked","yes")},uncheckAll:function(){return this.delMod(this.elem("radio","checked","yes"),"checked"),this},_onRadioEnter:function(t){this.setMod(t.data.domElem,"hovered","yes")},_onRadioLeave:function(t){this.delMod(t.data.domElem,"hovered")},_onRadioClick:function(t,e){this.isDisabled(t)||this.setMod(t,"focused","yes")},_onChange:function(t){this.setMod(this.__self._getRadioByElem(t.data.domElem),"checked","yes")},_onPointerpress:function(t){var e=t.data.domElem;this.setMod(e,"pressed","yes").bindToDoc("pointerrelease",function(){this.delMod(e,"pressed").unbindFromDoc("pointerrelease")})}},{live:function(){this.liveBindTo("radio","pointerclick",function(t){this._onRadioClick(t.data.domElem,t)}).liveBindTo("control","change",function(t){this._onChange(t)}).liveBindTo("radio","pointerover pointerout",function(t){t.data.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onRadioEnter(t):this._onRadioLeave(t))}).liveBindTo("control","focusin focusout",function(t){var e=this.__self._getRadioByElem(t.data.domElem);this.setMod(e,"focused","focusin"===t.type?"yes":""),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&t.preventDefault()}).liveBindTo("radio","pointerpress",function(t){this.hasMod(t.data.domElem,"disabled")||this._onPointerpress(t)})},_getRadioByElem:function(t){return t.closest(this.buildSelector("radio"))}}),function(){var t=/mac os/i.test(navigator.userAgent);BEM.DOM.decl("pager",{onSetMod:{js:function(){var e=this,n=e.__self.metakey,i=BEM.blocks.keycodes;e.bindToDoc("keyup",function(s){if(!(t&&s.ctrlKey&&(s.metaKey||s.altKey)||!s.ctrlKey&&!s.altKey||$(s.target).is("input, textarea")||s.ctrlKey&&s.shiftKey)){var o=s.which===i.RIGHT,r=s.which===i.LEFT;if(s[n]&&(o||r)){var a=e.params[o?"next":"prev"];e.go(a)}}})}},destruct:function(){this.unbindFromDoc("keyup")},go:function(t){var e="number"==typeof t?BEM.blocks.uri.parse(window.location.href).replaceParam("p",t).toString():"string"==typeof t?t:null;e&&(window.location.href=e)}},{metakey:t?"altKey":"ctrlKey"})}(),BEM.DOM.decl("daas2",{onSetMod:{js:function(){var t=this,e=0,n=setInterval(function(){Ya.Context&&Ya.Context.AdvManager?(t._render(),clearTimeout(n)):e++<100&&clearTimeout(n)},300)}}}),BEM.DOM.decl("daas2",{_render:function(){Ya.Context.AdvManager.render({blockId:"Y-A-290933-1",renderTo:"daas2"})}}),function(t,e,n){"$:nomunge";var i,s="hashchange",o=document,r=t.event.special,a=o.documentMode,c="on"+s in e&&(void 0===a||a>7);function u(t){return"#"+(t=t||location.href).replace(/^[^#]*#?(.*)$/,"$1")}t.fn[s]=function(t){return t?this.bind(s,t):this.trigger(s)},t.fn[s].delay=50,r[s]=t.extend(r[s],{setup:function(){if(c)return!1;t(i.start)},teardown:function(){if(c)return!1;t(i.stop)}}),i=function(){var n,i,r,a={},h=u(),l=function(t){return t},d=l,p=l;function f(){var i=u(),o=p(h);i!==h?(d(h=i,o),t(e).trigger(s)):o!==h&&(location.href=location.href.replace(/#.*/,"")+o),n=setTimeout(f,t.fn[s].delay)}return a.start=function(){n||f()},a.stop=function(){n&&clearTimeout(n),n=void 0},BEM.blocks["i-ua"].ie<9&&!c&&(a.start=function(){i||(r=(r=t.fn[s].src)&&r+u(),i=t('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||d(u()),f()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow,o.onpropertychange=function(){try{"title"===event.propertyName&&(i.document.title=o.title)}catch(t){}})},a.stop=l,p=function(){return u(i.location.href)},d=function(e,n){var r=i.document,a=t.fn[s].domain;e!==n&&(r.title=o.title,r.open(),a&&r.write('<script>document.domain="'+a+'"<\/script>'),r.close(),i.location.hash=e)}),a}()}(jQuery,this),BEM.DOM.decl({block:"link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled")||this.trigger("click",this._buildClickEventData(t))},_onKeydown:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&t.preventDefault(),this.setMod("pressed","yes"))},_onKeyup:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&this.trigger("click"),this.delMod("pressed"))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}}},{live:function(){return this.liveBindTo({modName:"pseudo",modVal:"yes"},"pointerclick",function(t){this._onClick(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keydown",function(t){this.hasMod("disabled")||this._onKeydown(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keyup",function(t){this.hasMod("disabled")||this._onKeyup(t)}),this.__base()}}),BEM.DOM.decl("header2",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._panelActions={};var t=this;this.elem("action").each(function(){var e=$(this),n=t.elemParams(e).panel;n&&(t._panelActions[n]=e)}),$.isEmptyObject(this._panelActions)||this.on("panel-switch",this._toggleActionOnPanelSwitch)}}},onElemSetMod:{action:{checked:function(t,e,n){n=Boolean(n),t.attr("aria-pressed",n);var i=this.elemParams(t);i.panel&&(this.togglePanel(i.panel,n),t.attr("aria-expanded",n)),i.notice&&this.trigger("action-change",{type:this.getMod(t,"type"),checked:n})}}},_toggleActionOnPanelSwitch:function(t,e){var n=this._panelActions[e.closing];n&&this.delMod(n,"checked");var i=this._panelActions[e.opening];i&&this.setMod(i,"checked","yes")},_onActionPress:function(t,e){this.setMod(t,"pressed","yes").bindToDoc("pointerrelease",this._onActionRelease.bind(this,t))},_onActionRelease:function(t,e){this.delMod(t,"pressed"),this.unbindFromDoc("pointerrelease")},_onActionClick:function(t,e){this.toggleMod(t,"checked","yes","")},_onActionEnter:function(t,e){this.setMod(t,"hovered","yes")},_onActionLeave:function(t,e){this.delMod(t,"hovered")},_onActionFocusinFocusout:function(t,e){this.toggleMod(t,"focused","yes","","focusin"===e.type)}},{live:function(){return this.liveBindTo("action","pointerclick",function(t){this._onActionClick(t.data.domElem,t)}).liveBindTo("action","pointerpress",function(t){this._onActionPress(t.data.domElem,t)}).liveBindTo("action","pointerover pointerout",function(t){var e=t.data.domElem;e[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onActionEnter(e,t):this._onActionLeave(e,t))}).liveBindTo("action","focusin focusout",function(t){this._onActionFocusinFocusout(t.data.domElem,t)}),this.__base()}}),BEM.DOM.decl({block:"header2",modName:"panels",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base(),this._openedPanel=null}}},_setOpenedPanel:function(t){var e=this._openedPanel;e!==t&&(this._openedPanel=t,this.trigger("panel-switch",{closing:e,opening:t}))},getOpenedPanel:function(){return this._openedPanel},openPanel:function(t){return this._setOpenedPanel(t),this},closePanel:function(t){return t&&t!==this._openedPanel||this._setOpenedPanel(null),this},togglePanel:function(t,e){return t!==this._openedPanel||e?(t!==this._openedPanel&&e||arguments.length<2)&&this._setOpenedPanel(t):this._setOpenedPanel(null),this}}),BEM.DOM.decl("i-ua",{},{placeholder:"placeholder"in document.createElement("input")}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),(this._hasHint=Boolean(this.elem("hint")[0]))&&this.on("change",this._updateHint)._updateHint()}},focused:function(){if(!1===this.__base.apply(this,arguments))return!1;this._hasHint&&this._updateHint()}},_updateHint:function(){this.toggleMod(this.elem("hint"),"visibility","visible",!this.val())}}),BEM.DOM.decl({block:"select2",modName:"width",modVal:"fixed"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._setMinWidth()}}},_setMinWidth:function(){this.button.domElem.css("width",this.button.domElem.outerWidth())}}),BEM.DOM.decl({block:"select2",modName:"search-input",modVal:!0},{onSetMod:{js:{inited:function(){this.__base(),this.on("change",this._isChangedManualy,this).on("update:before",this._changePrecise,this)}},focused:{"":function(){var t=this;t.__base.apply(t,arguments),t.afterCurrentEvent(function(){t.trigger("blur")})}}},_isChangedManualy:function(){this._changedManualy=!0},_changePrecise:function(t,e){var n=this.menu,i=this.getVal(),s=e.activeVal;$.each(e.enabledItems,function(t,e){var i=n.elem("item","precise",t);n.setMod(i,"disabled",e?"":"yes"),!e&&n.hasMod(i,"checked","yes")&&n.delMod(i,"checked")}),i!==s&&(this._changedManualy&&e.enabledItems[i]||(this._changedManualy=!1,this.un("change",this._isChangedManualy,this).setVal(s).onFirst("change",this._isChangedManualy,this)))}}),BEM.DOM.decl("search2",{clearWizFlag:function(t){if(t.wiz_no_news){var e=global.uri(location.href).getParam("text");t.text!==(e&&e[0])&&delete t.wiz_no_news}}}),BEM.DOM.decl("search2",{onSetMod:{js:function(){this.input=this.findBlockInside("input"),this.findBlockOn("suggest2-form"),this.input.on({focus:this._focus,focusin:this._focus,focusout:this._blur,blur:this._blur},this),this._initCounters()},focused:function(t,e){BEM.DOM.channel("search2").trigger("focused",{isFocused:Boolean(e)})}},submit:function(t){this.domElem.trigger("submit",t||{})},_initCounters:function(){var t=this;t.input.on("clear",function(){Ya.c(t.params.counters.clear)})},_focus:function(){this.setMod("focused",!0)},_blur:function(){this.delMod("focused")},gotoAtSerp:function(){var t=BEM.blocks.uri.parse(global.params.yadomain),e=global.location.getUri(),n=this.domElem.mergeSerialize(!0,!0);n.text&&n.text.trim()&&(t.protocol(e.protocol()).path("search").addParam("text",this.input.val()).addParam("lr",e.getParam("lr")||global.params.lr),location.replace(t.toString()))},_getUrl:function(t){var e=t&&t.precise,n=$(".filters"),i=n.add(".search2").mergeSerialize(!0,!0);if(/cl4url/.test(e)?i[e]=this.params[e]:delete i.content,this.clearWizFlag(i),n.length||i.text&&i.text.trim()){var s=this.domElem.attr("action");return s+(-1===s.indexOf("?")?"?":"&")+$.param(i)}this.input.setMod("focused","yes")},_onSubmit:function(t,e){if(t.preventDefault(),this.findBlockOutside("i-global").params.isSport)this.gotoAtSerp();else{var n=this._getUrl(e);n&&(window.location.href=n)}}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("search","pointerclick",function(){Ya.c(this.params.counters.search)}),!1}}),BEM.DOM.decl("suggest2-form",{onSetMod:{js:{inited:function(){this._isReady=!1,this._nodes=this.initNodes()}}},getDefaultParams:function(){return{inputName:"input",buttonName:"button2",popupName:"popup"}},destruct:function(){this._nodes.forEach(function(t){t.suggest.domElem&&BEM.DOM.destruct(t.suggest.domElem),this.unbindFormEvents(t),t.counter&&t.counter.destruct(),t.proxies.input.destruct(),t.proxies.popup.destruct()},this),this.__base.apply(this,arguments)},getOwner:function(t){},isReady:function(){return this._isReady},initNodes:function(){var t=this.getNodes();return t.forEach(function(t){t.suggest.init()}),this._isReady=!0,this.trigger("ready",{nodes:t}),t},getNodes:function(){return this.getNodeList().map(function(t){var e=t.suggest,n=e.params;return n.form=this,n.input=t.input,n.popup=t.popup,n.button=t.button,t.proxies={},t.proxies.popup=n["suggest2-popup"]=BEM.create({block:"suggest2-popup",mods:$.extend({for:this.params.popupName},this.params.popupMods)},this._getNodePopupParams(e,n)),t.proxies.input=n["suggest2-input"]=BEM.create({block:"suggest2-input",mods:this.params.inputMods},this._getNodeInputParams(e,n)),t.counter&&(t.counter.params.form=this,t.counter.params.suggest=e,n.counter=t.counter),this.bindFormEvents(t),t},this)},_getNodeInputParams:function(t,e){return{suggest:t,input:e.input,updateOnEnterByKeyboard:e.updateOnEnterByKeyboard}},_getNodePopupParams:function(t,e,n){return{suggest:t,popup:e.popup,popupContentElem:this.params.popupContentElem,owner:this.getOwner(n)||e.input}},bindFormEvents:function(t){var e=this;return t.button&&t.button.bindTo("pointerclick",function(t){e._onButtonClick(t)}),e.bindTo("submit",function(t,n){e.onSubmit(t,n)}),e},_onButtonClick:function(t){this.trigger("button-click",{domEvent:t})},unbindFormEvents:function(t){return t.button&&t.button.un("pointerclick"),this.unbindFrom("submit"),this},submit:function(t){return this.domElem.trigger("submit",t||{}),this},onSubmit:function(t,e){t.data=e||{},this.trigger("submit",t)},getNodeList:function(){var t=this,e=[];return t.elem("node").each(function(n,i){var s=$(i),o=t._getFormNodeElems(s);e.push(t._getFormNodeBlocks(o,s))}),e},_getFormNodeElems:function(t){return{input:this.findElem(t,"input"),button:this.findElem(t,"button")}},_getSuggestForNode:function(t){return this.findBlockInside(t,"suggest2")},_getFormNodeBlocks:function(t,e){var n=this._getSuggestForNode(e);return{node:e,suggest:n,counter:this.findBlockOn("suggest2-counter"),input:this.findBlockOn(t.input,"input"),button:this.findBlockOn(t.button,this.params.buttonName),popup:n.findBlockOn(this.params.popupName)}},appendHiddenInputs:function(t){return BEM.DOM.append(this.domElem,BEMHTML.apply(t.map(function(t){return{block:this.__self.getName(),elem:"hidden-input",tag:"input",attrs:{type:"hidden",name:t.name,value:t.value}}},this))),this},removeHiddenInputs:function(){return BEM.DOM.destruct(this.findElem(this.domElem,"hidden-input")),this}},{live:function(){var t=this;return this.liveInitOnBlockInsideEvent("mousedown pointerdown change focus","input"),(!BEM.blocks["i-ua"].ie||BEM.blocks["i-ua"].ie>8)&&(this.liveBindTo("input","mousedown pointerdown change focus",function(e){t.disableNativeAutocomplete(e.target)}),this.disableNativeAutocompleteAll()),this.__base()},disableNativeAutocompleteAll:function(){var t=document.querySelectorAll(".suggest2-form__input .input__control");(t=Array.prototype.slice.call(t)).forEach(this.disableNativeAutocomplete.bind(this))},disableNativeAutocomplete:function(t){if("off"!==t.getAttribute("autocapitalize")){var e={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"};for(var n in e)t.setAttribute(n,e[n]);this.hideNativeAutocomplete(t)}},hideNativeAutocomplete:function(t){var e=document.activeElement===t;e&&t.blur(),e&&t.focus()}}),BEM.DOM.decl("suggest2-form",{onSubmit:function(t,e){return this.findBlockOn("search2")._onSubmit(t,e)}}),BEM.DOM.decl("suggest2",{onSetMod:{js:{inited:function(){this.params.form||this.findBlockOutside("suggest2-form"),this._lastSubmitTime=0,this._lastBlurTime=0,this._clear()}}},_bodyHandler:function(t){if(!this._isDestructing){var e=$(t.target);this.containsDomElem(e)||this.params.form.containsDomElem(e)||(this._freezeInputFocus=!1)}},getDefaultParams:function(){return{submitBySelect:!1,updateOnEnterByKeyboard:!0,onFocus:"request",requestOnEmptyInput:!1,abortQueries:!1,sequentialQueriesTimeout:!1}},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},init:function(){var t=this;t.params.form.on("submit",function(e,n){t._lastSubmitTime=(new Date).getTime(),t._isActualSearchCGIParams?t._isActualSearchCGIParams=!1:"suggest2-counter"!==n.data.block&&!1!==n.data.prevent&&this.removeHiddenInputs(),t._clear(),t._model.reset(),t._popup.hide()}),t._input=t.params["suggest2-input"],t._popup=t.params["suggest2-popup"],t._inputValue=t._input.val(),t._model=t.initModel(),t._view=t.initView(),t._counter=t.initCounter(),t._model.on({response:this.setItems,reject:function(e,n){2===n.code&&(t._popup.hide(),t._clear())}},t),t.bindToDoc("pointerclick",t._bodyHandler),t.bindEvents(),this._input.isFocused()&&this._doRequest();var e=BEM.blocks["i-ua"]&&BEM.blocks["i-ua"].ua.toLowerCase();return e&&e.indexOf("mozilla/5.0")>-1&&e.indexOf("android ")>-1&&e.indexOf("applewebkit")>-1&&!(e.indexOf("chrome")>-1)&&t.setMod("old-flex",!0),t},initModel:function(){return BEM.create("suggest2-model",this.params)},getModel:function(){return this._model},initView:function(t,e){var n=this.getMod("type");return t=$.extend(t,this.params.viewMods||{}),"simple"!==n&&"all"!==n||(t.simple="yes"),"advanced"!==n&&"all"!==n||(t.advanced="yes"),BEM.create({block:"suggest2-view",mods:t||{}},e||{})},getView:function(){return this._view},initCounter:function(){return this.params.counter?this.params.counter.initValues().bindEvents():void 0},getCounter:function(){return this._counter},setDataConverter:function(t){return this.getModel().getProvider().convert=t,this},setRequestData:function(t){return this.getModel().getProvider().getRequestData=t,this},setRequestUrl:function(t){return this.getModel().getProvider().getRequestUrl=t,this},setOwner:function(t){return this._popup.owner(t),this},bindEvents:function(){var t=this;return t._input.bindEvents({change:t._onChange,focus:t._onFocus,blur:t._onBlur},t),t._popup.on({preshow:function(){t.trigger("preshow")},show:function(){t._onShow()},hide:function(e,n){t._onHide(n)}}),t.params.form&&t.params.form.on("button-press",t._onSearchButtonMousedown,t),BEM.blocks["suggest2-item"].on(t.domElem,{"link-click":function(e,n){t._counter&&"_self"===$(n.domEvent.target).attr("target")&&n.domEvent.preventDefault()}}),t},_onShow:function(){this.trigger("show")},_onHide:function(t){this.trigger("hide",t)},_onSearchButtonMousedown:function(){this._input.realVal(this._input.val()),this._popup.hide()},unbindAllEvents:function(){return this.unbindFromDoc("pointerclick"),this._input.unbindAllEvents(),this.params.form.un("submit"),this._model.un("response").un("reject"),this._popup.un("preshow").un("show").un("hide"),this.params.form&&this.params.form.un("button-press",this._onSearchButtonMousedown,this),this},setItems:function(t,e){var n=e.data.items||[];return this._isFormSubmitDurinQuery()||!n.length?(this._popup.hide(),this._clear()):this.params.sequentialQueriesTimeout||this._input.val()===e.val?(this._text=e.val,this._pos=e.pos,this._meta=e.data.meta||{},this._popup.show(this._view.html(n,this._meta)).width(this.getPopupWidth()),this._items=this.findBlocksInside("suggest2-item"),this._clearItems().trigger("update",{val:this._text,pos:this._pos,items:this._items}),this):this._clear()},getItems:function(){return this._items||[]},isBlur:function(){return this._isBlur&&!this._isMouseDown},getPopupWidth:function(){},getInputWidth:function(){return 0},isNeedSubmitFormOnSelectItem:function(t){return this.params.submitBySelect&&"link"!==t.getMod("interact")},_isFormSubmitDurinQuery:function(){return!!this._lastSubmitTime&&(this._model.filterRequestsByVal(this._input.realVal()),this._model.isTimeInRequestInterval(this._lastSubmitTime))},_onChange:function(t,e){this._inputValue!==this._input.val()&&(this._inputValue=this._input.val(),this._doRequest(e))},_doRequest:function(t){var e=this.getCounter();this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition(),t,e&&e.getCurrentReqId())},_onFocus:function(){!this._popup.isShown()&&this._isBlur&&this.params.onFocus&&this._isLastBlurTimeLater(50)&&(this.getItems().length&&this._input.val()===this._text?(this._clearItems(),this._popup.show()):this._isMouseDown||"request"!==this.params.onFocus||this._doRequest())},_onBlur:function(){this._isBlur?(this._clear(),this._popup.hide()):this._freezeInputFocus?(this._clear(),this._input.focus()):this._isMouseDown&&this._input.focus(),this._lastBlurTime=(new Date).getTime(),this._isBlur=!0},_getItemIndex:function(t){return this.getItems().indexOf(t)},_clear:function(){return this._isBlur=!0,this._freezeInputFocus=!1,this._clearItems()},_clearItems:function(){return this._isMouseDown=!1,this._enterItemIndex=-1,this._unselectItems()},_isLastBlurTimeLater:function(t){return(new Date).getTime()-this._lastBlurTime>t},_unselectItems:function(t){return(t?[].slice.call(arguments):this.getItems()).forEach(function(t){t.onLeave()}),this},_onSelectItem:function(t,e){var n=this._getItemIndex(t),i=t.onSelect(e),s=t.valOnSelect();return this._text=this._input.realVal(s),this._isBlur=!0,this._freezeInputFocus=!1,this._setSearchCGIParams(t),this.trigger("select",{val:this._text,pos:this._pos,item:t,meta:this._meta,itemIndex:n,byKeyboard:e,callbackOnSelect:i}),!1!==s&&(this._items=[],this.isNeedSubmitFormOnSelectItem(t)&&this.params.form.submit()),n},_isActualSearchCGIParams:!1,_setSearchCGIParams:function(t){this.params.form.removeHiddenInputs(),t.params.searchCGI&&(this._isActualSearchCGIParams=!0,this.params.form.appendHiddenInputs(t.params.searchCGI.map(function(t){return{name:t[0],value:t[1]}})))},_onDownItem:function(){this._isBlur=!1,this._isMouseDown=!0}}),BEM.DOM.decl("suggest2",{getInputLeft:function(){return 0},getInputWidth:function(){return 0},getContainerWidth:function(){return 0},getMetrics:function(){var t=this.getInputLeft(),e=this.getInputWidth(),n=this.getContainerWidth()-t;return{marginLeft:t,minWidth:e>=n?n:e,maxWidth:n}},adjustView:function(){return this.getMetrics()},_resizeHandler:function(){}}),BEM.DOM.decl("suggest2",{bindEvents:function(){var t=this;return t._input.bindEvents({keydown:t._onKeyDown,keyup:t._onKeyUp,keypress:t._onKeyPress,mousedown:function(){t._input.isFocused()&&t._onFocus()}},t),BEM.blocks["suggest2-item"].on(t.domElem,{mouseover:function(e){t._onEnterItem(e.block,!1)},mouseout:function(e,n){var i=e.block.domElem[0];i===n.relatedTarget||$.contains(i,n.relatedTarget)||t._onLeaveItem(e.block,!1)},mousedown:function(){t._onDownItem()},click:function(e){t._onSelectItem(e.block,!1)}}),t.__base.apply(t,arguments)},_onKeyDown:function(t){var e=this.__self.keyboard,n=t.which;!this._popup.isShown()||n!==e.up&&n!==e.down||(t.preventDefault(),this._enterByKeyboard(n))},_onKeyUp:function(t){var e=this.__self.keyboard;if(t.which!==e.left&&t.which!==e.right||(this.trigger("change-cursor-pos"),this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition())),t.which===e.right&&-1!==this._enterItemIndex&&this._enterItemByKeyboard){var n=this._items[this._enterItemIndex];n&&this.trigger("ahead",{item:n,val:"link"===n.getMod("interact")?n.elem("text").text():n.val()})}},_onKeyPress:function(t){if(t.which===this.__self.keyboard.enter&&-1!==this._enterItemIndex&&this._enterItemByKeyboard){var e=this._items[this._enterItemIndex];e&&(t.preventDefault(),this._onSelectItem(e,!0))}},_enterByKeyboard:function(t){var e=t-39,n=this._items.length,i=this._enterItemIndex+e;if(-1===i||i===n)return this._enterItemIndex=i,this._unselectItems(this._items[i]),this.trigger("out",{val:this._text,byKeyboard:!0});i<0?i=n-1:i>=n&&(i=0),this._onEnterItem(this._items[i],!0)},_onEnterItem:function(t,e){this._enterItemIndex=this._getItemIndex(t),this._enterItemByKeyboard=e,this._unselectItems(),t.onEnter(e)},_onLeaveItem:function(t,e){this._clearItems()._unselectItems(t)}},{keyboard:{enter:13,left:37,up:38,right:39,down:40},live:function(){return this.liveBindTo("mousedown",function(){this._onDownItem()}),this.__base()}}),BEM.decl("suggest2-model",{onSetMod:{js:{inited:function(){this._requests=[]}}},destruct:function(){this._provider&&this._provider.destruct(),this.__base.apply(this,arguments)},getProvider:function(){return this._provider?this._provider:(this._provider=this.setProvider(this.params),this._provider)},setProvider:function(t){return this._provider=BEM.create({block:"suggest2-provider",mods:t.providerMods||{}},t),this._provider},getCancelRequestConditions:function(){return[{block:"suggest2",show:!1},{block:"suggest2",event:"select"},{block:"suggest2-item",event:"select"},{block:"suggest2",event:"out"},{block:"suggest2-item",show:!1},{block:"suggest2-popup",event:"hide"},{suggest:!1},{source:"sample"}]},request:function(t,e,n,i){var s=this,o={val:t,caretPosition:e,reqId:i,data:n};s._requests.push(o);var r=s._isNeedRequest(t,n);return r.need?(o.requestTime=(new Date).getTime(),s.lastSendedRequest=o,s.trigger("request",{val:t,pos:e,request:o}),s.getProvider().get(t,e,i,function(t,e,n,i){o.responseTime=(new Date).getTime(),$.extend(o,{duration:o.responseTime-o.requestTime,error:n.error,fromCache:i,itemsCount:n.items?n.items.length:0}),s._onResponse(t,e,n,o);var r=s._requests[s._requests.length-1];s.params.sequentialQueriesTimeout&&r&&r.val!==t&&s.request(r.val,r.caretPosition,r.data)}),s):s.trigger("reject",{val:t,pos:e,code:r.code,reason:r.reason||{}})},isTimeInRequestInterval:function(t){for(var e=this._requests.length-1;e>=0;e--)if(t>this._requests[e].requestTime&&t<this._requests[e].responseTime)return!0;return!1},filterRequestsByVal:function(t){this._requests=this._requests.filter(function(e){return e.val===t})},_isNeedRequest:function(t,e){if(""===t&&!this.params.requestOnEmptyInput)return{need:!1,code:2};var n;if(this.lastSendedRequest&&this.lastSendedRequest.val===t)return{need:!1,code:4};if(this.params.sequentialQueriesTimeout)for(n=this._requests.length-1;n>=0;n--){var i=this._requests[n];if(void 0===i.responseTime&&(new Date).getTime()-i.requestTime<this.params.sequentialQueriesTimeout)return{need:!1,code:3,reason:{request:i}}}if(!e)return{need:!0};var s,o=this.getCancelRequestConditions();t:for(n=0;n<o.length;n++){for(var r in s=o[n])if(s.hasOwnProperty(r)&&s[r]!==e[r])continue t;return{need:!1,code:1,reason:{condition:s}}}return{need:!0}},_onResponse:function(t,e,n,i){var s={val:t,pos:e,data:n||[],request:i};BEM.channel("suggest2").trigger("response",s),this.trigger("response",s)},reset:function(){this._requests=[],this.lastSendedRequest=null}}),BEM.DOM.decl("suggest2-detect",{onSetMod:{js:{inited:function(){this.bindToDoc("keydown",function(t){this.__self._pressedKeyCode=t.which},this).bindToDoc("keyup",function(){this.__self._pressedKeyCode=null},this),this.__self.isSupportInlineSVG()||this.setMod("inlinesvg","no")}}}},{_pressedKeyCode:null,isPressedEscape:function(){return 27===this._pressedKeyCode},_isSupportInlineSVG:null,isSupportInlineSVG:function(){if(null!==this._isSupportInlineSVG)return this._isSupportInlineSVG;var t=document.createElement("div");return t.innerHTML="<svg/>",this._isSupportInlineSVG="http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI),this._isSupportInlineSVG}}),function(t){if(!t.support.cors&&t.ajaxTransport&&window.XDomainRequest){var e=/^(https?:)?\/\//i,n=/^get|post$/i,i=new RegExp("^(//|"+location.protocol+")","i");t.ajaxTransport("* text html json",function(s,o,r){if(s.crossDomain&&s.async&&n.test(s.type)&&e.test(s.url)&&i.test(s.url)){var a=null;return{send:function(e,n){var i="",r=(o.dataType||"").toLowerCase();a=new XDomainRequest,/^\d+$/.test(o.timeout)&&(a.timeout=o.timeout),a.ontimeout=function(){n(500,"timeout")},a.onload=function(){var e="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,i={code:200,message:"success"},s={text:a.responseText};try{if("html"===r||/text\/html/i.test(a.contentType))s.html=a.responseText;else if("json"===r||"text"!==r&&/\/json/i.test(a.contentType))try{s.json=t.parseJSON(a.responseText)}catch(t){i.code=500,i.message="parseerror"}}catch(t){throw t}finally{n(i.code,i.message,s,e)}},a.onprogress=function(){},a.onerror=function(){n(500,"error",{text:a.responseText})},o.data&&(i="string"===t.type(o.data)?o.data:t.param(o.data)),a.open(s.type,s.url),a.send(i)},abort:function(){a&&a.abort()}}}})}}(jQuery),BEM.decl("suggest2-provider",{getDefaultParams:function(){return{cache:!1,type:"GET",dataType:"jsonp",timeout:2e3}},_cachedResponses:Object.create?Object.create(null):{},_cachingTime:6e4,_lastQuery:null,get:function(t,e,n,i){"function"==typeof n&&(i=n,n=void 0);var s=this,o=s.params.abortQueries,r="jsonp"===this.params.dataType,a=s._extendParamsData(s.getRequestData(t,e,n));i=i.bind(s,t,e),o&&null!==s._lastQuery&&s._lastQuery.abort(),s._lastQuery=$.ajax(a).done(function(t){i(s.convert(t),s._validateCache(this.url))}).fail(function(t,e){!o&&!r&&i({error:e||"error"})})},convert:function(t){return{orig:t[0],items:t[1],meta:t[2]}},getRequestData:function(t,e,n){return $.extend({part:t,pos:e},n&&{suggest_reqid:n},BEM.blocks["suggest2-detect"].isSupportInlineSVG()&&{svg:1})},getRequestUrl:function(){return this.params.url},_extendParamsData:function(t){return this.params.url=this.getRequestUrl(),this.params.data=$.extend(this.params.data||{},t),this.params.traditional=!0,this.params},_validateCache:function(t){var e=Boolean(this._cachedResponses[t])&&this._cachedResponses[t]>Date.now();return!e&&this._addToCache(t),e},_addToCache:function(t){this._cachedResponses[t]=Date.now()+this._cachingTime,setTimeout(function(){this._cachedResponses[t]=void 0}.bind(this),this._cachingTime)}}),BEM.DOM.decl("suggest2-item",{val:function(){if(void 0!==this.params.val)return this.params.val;var t=this.elem("text");return(t.length?t:this.domElem).text()},valOnSelect:function(){return this.val()},valOnEnter:function(){return this.val()},valOnLeave:function(){return this.val()},onEnter:function(t){return this.setMod("selected","yes").triggerEvent("enter",{val:this.valOnEnter(),byKeyboard:t})},onLeave:function(t){return this.domElem?this.delMod("selected").triggerEvent("leave",{val:this.valOnLeave(),byKeyboard:t}):this},onSelect:function(t){this.triggerEvent("select",{val:this.valOnSelect(),byKeyboard:t})},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},triggerEvent:function(t,e){return this.trigger(t,{val:e.val,id:this.domElem.attr("id"),show:!1,byKeyboard:e.byKeyboard})}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}),this.__base()}}),BEM.DOM.decl("suggest2-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown pointerclick",function(t){this.trigger("pointerclick"===t.type?"click":t.type,{domEvent:t})}).liveBindTo("link","pointerclick",function(t){this.trigger("link-click",{domEvent:t})}),this.__base()}}),BEM.decl("suggest2-popup",{onSetMod:{js:{inited:function(){this._popup=this.params.popup,this._popupContent=this.params.popupContentElem&&this._popup.findElem(this.params.popupContentElem),this.bindSuggestEvents()}}},show:function(t){return this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),this._popup.domElem?(t&&this.setContent(t),this.isShown()?this:(this.trigger("preshow"),this._setPosition(),this.trigger("show"),this)):this},_setPosition:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},hide:function(t){var e=this;return e.isShown()&&!e.hideTimeout&&(e.hideTimeout=setTimeout(function(){e._doHide(),e.trigger("hide",t||{}),e.hideTimeout=null},300)),e},_doHide:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},setContent:function(t){return this._popupContent?BEM.DOM.update(this._popupContent,t):this._popup.setContent(t),this},isShown:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},owner:function(t){return t?(this.params.owner=t,this):this.params.owner},get:function(){return this._popup},width:function(t){return void 0===t?this._popup.domElem.outerWidth():(this._popup.domElem.outerWidth(t),this)},destruct:function(){this._popup&&(this.unbindAllEvents(),this.__base.apply(this,arguments))},bindSuggestEvents:function(){return this.params.suggest.on({select:this._onSuggestSelect,update:this._onSuggestUpdate},this),this},_onSuggestSelect:function(t,e){this.hide(e)},_onSuggestUpdate:function(t,e){e.items.length||this.hide({response:"empty"})},unbindAllEvents:function(){return this.params.suggest.un("select").un("update"),this}}),BEM.decl("suggest2-view",{html:function(t,e){return BEMHTML.apply(this.build(t,e))},build:function(t,e){return{block:"suggest2",elem:"content",elemMods:{theme:"normal"},content:this.buildItems(t,e)}},buildItems:function(t,e){return t.reduce(function(t,e){return t.push(this.buildItem(e)),t}.bind(this),[])},buildItem:function(t){var e=this.__self._getPrefs(t),n=this.__self._getType(t,e),i="html"===n||"bemjson"===n?{}:{type:n};return this._getItemByType(t,e,n,{text:{elem:"text",content:this.__self._highlight(this.__self._getText(t,e),e)},mods:i,js:e.js||{},props:{},content:[]})},_getItemByType:function(t,e,n,i){var s=i.text,o=i.mods,r=i.js,a=i.props,c=i.content;0===c.length&&c.push(s),this.__self._getPersonal(e)&&(o.personal="yes",c.push({elem:"spacer"},{elem:"cross",elemMods:{type:"delete"}})),e.url&&(o.interact="link",a.url=this.__self._resolveUrl(e.url),e.target&&(a.target=e.target)),e.search_cgi&&(r.searchCGI=e.search_cgi),e.attrs&&(a.attrs=e.attrs);var u,h=BEM.blocks["i-global"];return"nav"===n?u="object"==typeof t[5]?t[5].counter:t[5]:"bemjson"===n&&(u=e.counter),u&&(r.safeclickUrl=(h.param("click-host")+u).split("/*/").join("/reqid="+h.param("reqid")+"/path=695.770/vars=-js-ready=1/*/")),$.extend({block:"suggest2-item",mods:o,js:r,content:c},a)}},{_getPrefs:function(t){if(!Array.isArray(t))return{};var e=t[t.length-1];return $.isPlainObject(e)?e:{}},_getType:function(t,e){return Array.isArray(t)&&t[0]||"text"},_getText:function(t){return Array.isArray(t)?t[1]:t},_highlight:function(t,e){if(!e.hl)return t;var n,i=e.hl.sort(function(t,e){return t[0]-e[0]}).filter(function(t){return t[0]>=0}),s=[],o=0;return i.length?(i.forEach(function(e){n=o>e[0]?o:e[0],s.push(t.slice(o,n)),s.push({elem:"highlight",content:t.slice(n,o=e[1])})},this),s.push(t.slice(o)),s.filter(function(t){return t})):t},_resolveUrl:function(t){return(/[\/]{2}/.test(t)?"":"http://")+t},_getPersonal:function(t){return Boolean(t.pers)},_getPersonalProps:function(t){var e={pers:1};return t&&(e.label=t),e}}),BEM.decl("suggest2-view",{},{_getGroupType:function(t,e){return t.pers?"nah":-1!==["nav"].indexOf(e)?e:"text"},_getTextLabel:function(t){return BEM.I18N("suggest2",t)}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t._input=t.params.input,t.disableBrowserAutocomplete(),t.realVal(t.val()),t.bindEvents({change:function(e,n){t._onChange(e,n)},clear:$.throttle(function(e,n){t._onClear(e,n)},300)}),t.bindSuggestEvents()}}},_onChange:function(t,e){this.trigger("change",e)},_onClear:function(t,e){this.trigger("clear",e)},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},get:function(){return this._input},isFocused:function(){return this._input.hasMod("focused")},focus:function(){return this._input.setMod("focused","yes"),this},blur:function(){return this._input.delMod("focused"),this},getControl:function(){return this._input.elem("control")},val:function(t,e){return this._input.val.apply(this._input,arguments)},valWithoutSuggest:function(t,e){return this._input.val.call(this._input,t,$.extend(e,{suggest:!1}))},realVal:function(t){return void 0===t?this._realVal:("string"==typeof t&&(this._realVal=t),this._realVal)},width:function(){return this._input.domElem.width()},getCaretPosition:function(){var t,e=this.getControl()[0],n=this.val().length;return document.selection?((t=document.selection.createRange()).moveStart("character",-n),t.text.length):"number"==typeof e.selectionStart?e.selectionStart:n},moveCaretToEnd:function(){var t=this.getControl()[0],e=t.value.length;if(void 0!==t.createTextRange){var n=t.createTextRange();n.collapse(!1),n.select()}else"number"==typeof t.selectionStart&&(t.scrollLeft=999999,t.setSelectionRange(e,e));return this},disableBrowserAutocomplete:function(){this.getControl().attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"})},_bindedEventsNames:[],bindEvents:function(t,e){return Object.keys(t).forEach(function(n){-1===this._bindedEventsNames.indexOf(n)&&this._bindedEventsNames.push(n),this._eventsFilter(n).on(n,t[n].bind(e||this))},this),this},bindSuggestEvents:function(){var t=this.params.suggest;return t.on({out:function(t,e){this.a11yDeactive(),this._changeValueByEvent(t,e)}},this),BEM.blocks["suggest2-item"].on(t.domElem,{tpah:this._onSuggestItemTpah,select:this._onSuggestItemSelect,enter:this._onSuggestItemEnter},this),this},_onSuggestItemTpah:function(t,e){this._changeValueByEvent(t,e),this.moveCaretToEnd()},_onSuggestItemSelect:function(t,e){"link"!==t.block.getMod("interact")&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},_onSuggestItemEnter:function(t,e){this.a11yActive(e.id),e.byKeyboard&&this.params.updateOnEnterByKeyboard&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},unbindAllEvents:function(){return this._input.domElem&&this._bindedEventsNames.forEach(function(t){var e=this._eventsFilter(t);e[e instanceof BEM.DOM?"un":"off"](t)},this),this._bindedEventsNames=[],this.params.suggest.un("out"),this},a11yActive:function(t){this.getControl().attr("aria-activedescendant",t)},a11yDeactive:function(){this.getControl().removeAttr("aria-activedescendant")},_eventsFilter:function(t){return-1!==["blur","focus","change","clear"].indexOf(t)?this._input:this.getControl()},_changeValueByEvent:function(t,e){var n=e&&void 0!==e.val?e.val:this.realVal();this.val(n,$.extend({block:t.block.__self.getName(),event:t.type},e))}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t.__base.apply(this,arguments),t.bindEvents({keydown:function(e){t._onKeyDown(e)}},t)}}},_onKeyDown:function(t){t.which===this.params.suggest.__self.keyboard.enter&&this.trigger("enter")}}),BEM.DOM.decl({block:"suggest2",modName:"theme",modVal:"normal"},{getPopupWidth:function(){return this._input.width()}}),BEM.DOM.decl({block:"suggest2-item",modName:"personal",modVal:"yes"},{onSetMod:{js:{inited:function(){this._catchEvents&&this._crossCatchHandler&&this.bindTo("cross",this._catchEvents,this._crossCatchHandler),this.historyElem=this.elem("text").text()}}},val:function(){return this.params.val?this.params.val:this.elem("text").text()},remove:function(t){var e=this;this.domElem.one("webkitTransitionEnd transitionend",function(){e.domElem.remove(),t&&t()}),this.domElem.css("height",0)}}),BEM.DOM.decl({block:"suggest2-item",modName:"personal",modVal:"yes"},{_catchEvents:"click",_crossCatchHandler:function(t){t.preventDefault(),t.stopImmediatePropagation(),this.trigger("delete")}}),BEM.DOM.decl({block:"suggest2",modName:"group",modVal:"label"},{initView:function(t,e){return this.__base($.extend(t||{},{group:"label"}),$.extend(e||{},{label:this.params.label}))}}),BEM.decl({block:"suggest2-view",modName:"group",modVal:"label"},{buildItems:function(t,e){var n,i;return t.reduce(function(t,e,s){var o,r=this.__self._getPrefs(e).label||"";n!==r&&(n=r,i=[],o=r||(0===s?"":this.params.label||this.__self._getTextLabel("text")),t.push({block:"suggest2",elem:"group",content:[{elem:"title",content:o},{elem:"items",content:i}]}));return i.push(this.buildItem(e)),t}.bind(this),[])}}),BEM.decl({block:"suggest2-view",modName:"simple",modVal:"yes"},{_getType:function(t,e){var n=this.__base.apply(this,arguments);return"icon"!==n||e.icon?n:"text"},_getItemByType:function(t,e,n,i){var s=i.text,o=i.mods,r=i.js,a=i.props,c=i.content;switch(n){case"fact":c.push(s,{elem:"bullet"},{elem:"fact",content:t[2]});break;case"weather":c.push(s,{elem:"icon",elemMods:{weather:t[3]}},{elem:"fact",content:t[2]});break;case"traffic":c.push(s,{elem:"icon",elemMods:{traffic:t[3]}},{elem:"fact",content:t[2]});break;case"nav":r.val=t[1],o.interact="link",a.url=this.__self._resolveUrl(t[4]),c.push({elem:"text",content:t[3]},{elem:"bullet"},{elem:"fact",content:t[2]});break;case"icon":var u={};e.icon.forEach(function(t,e,n){Array.isArray(t)?u[t[0]]=t[1]:0===e&&(u[t]=n[e+1])}),c.push(s,$.extend({elem:"icon",elemMods:{size:"s"}},u)),e.fact&&c.push({elem:"fact",content:e.fact})}return this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"suggest2-item",modName:"interact",modVal:"link"},{onSelect:function(t){var e=this;e.__base.apply(e,arguments);var n=e.elem("link");if(t||"_self"===n.attr("target"))return function(){e._locationChange(n.attr("href"))}},_locationChange:function(t){window.location=t},valOnSelect:function(){return!1}}),BEM.DOM.decl("suggest2-counter",{pointerStartEvent:"pointerdown",onSetMod:{js:{inited:function(){this.clear()}}},destruct:function(){this.unbindAllEvents()},getDefaultParams:function(){return{submitBySelect:!1,suggestReqID:!1,preventSubmit:!0,host:"//yandex.ru",path:"clck/jclck",dataUrl:"http://ya.ru",params:{},timeout:300}},metaProps:{exprt:"exprt",r:"region",log:"log"},clear:function(){return this._params={user_input:"",text:""},this._times=[],this._renderTimes=[],this._renderTime=0,this._path={service:this.params.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:""},this._ratio={len:0,queryLen:0,actionsCount:0},this._firstChange=0,this._lastChange=0,this._sinceChange={first:0,last:0},this._selectedText="",this._session=0,this._reqID=this.__self._generateReqID(),this._meta={},this._afterSendAjaxCallback,this._startClickTime=null,this._startInputTime=null,this._requests=[],this._clicksCount=0,this},submit:function(t){var e=this.params.suggest.params["suggest2-input"],n=e.val();this._params.text=n,this._params.pos=e.getCaretPosition(),this._params.times=this._requests.map(function(t){return!t.error&&t.duration?t.duration:0}).join("."),this.params.suggestReqID&&this.attachReqID(),this.sendAjax(this.getUrl(),$.extend({submitForm:!0,afterSendAjaxCallback:function(){}},t)),this.trigger("submit",this._getSubmitEventData()).clear(),this._params.prev_query=n},_getSubmitEventData:function(){return{path:this._path,times:this._times,render_times:this._params.times,prev_query:this._params.prev_query,user_input:this._params.user_input,text:this._params.text,pos:this._params.pos,ratio:this._ratio,since_first_change:this._sinceChange.first,since_last_change:this._sinceChange.last,session:this._session,suggest_reqid:this._reqID,meta:this._meta,url:this.getUrl()}},sendAjax:function(t,e){return $.ajax({type:"GET",url:t,dataType:"script",timeout:this._getAjaxTimeout()}).always(this._sendAjaxAlways.bind(this,e)),this},_getAjaxTimeout:function(){return this.params.timeout},afterSendAjax:function(t){return this._afterSendAjaxCallback=t,this},getUrl:function(){return this.params.host+["/",this.params.path].concat(this._getUrlParams()).join("/").replace(/(\/+)/g,"/")},_sendAjaxAlways:function(t){t||(t={}),this.params.preventSubmit&&t.submitForm&&this.params.form.submit({block:this.__self.getName(),prevent:!1}),t.afterSendAjaxCallback&&t.afterSendAjaxCallback(),this._afterSendAjaxCallback&&this._afterSendAjaxCallback()},_getUrlParams:function(){var t=this;return this._getParamsList().concat(t._getData()).reduce(function(e,n){return e.concat(t._getParams(n))},[]).concat(["/"])},_getParamsList:function(){return[this.params.params,this._getPath(),this._params,this._getRatio(),this._getSinceChange(),this._getSession(),this._getResponsesShows(),{suggest_reqid:this._reqID}]},initValues:function(){return this._params.prev_query=this.params.suggest.params["suggest2-input"].val(),this},attachReqID:function(){this._reqID=this.__self._generateReqID(),this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},getCurrentReqId:function(){return this._reqID},bindEvents:function(){var t=this.params,e=t.suggest,n=t.form,i=e.getModel(),s=e.params["suggest2-input"],o=e.params["suggest2-popup"];return n.on({"button-click":this._onFormButtonClick,submit:this._onFormSubmit},this),i.on({request:this._onModelRequest,response:this._onModelResponse},this),s.on({change:this._onInputChange,enter:this._onInputEnter},this),o.on({show:this._onPopupShow},this),BEM.blocks["suggest2-item"].on(e.domElem,"enter",this._onSuggestItemEnter,this),e.on({update:this._onSuggestUpdate,select:this._onSuggestSelect},this),this._input=s._input,this._input.bindTo(this.pointerStartEvent,this._onInputClick.bind(this)).on("focus",this._onInputFocus,this),this._input.findElem("control").on("blur",this._onInputBlur.bind(this)),this},_onInputClick:function(){this._startInputTime||(this._startClickTime=Date.now())},_onClickPopup:function(){this._clicksCount++},_onInputFocus:function(){this._timeoutInputTime&&clearTimeout(this._timeoutInputTime),this._startInputTime=this._startClickTime},_onInputBlur:function(t){this._timeoutInputTime=setTimeout(function(){this._startClickTime=null,this._startInputTime=null}.bind(this),300)},_onFormButtonClick:function(){"keyboard"!==this._path.submit&&(this._path.submit="button_by_mouse")},_onFormSubmit:function(t,e){e.data.block!==this.__self.getName()&&!1!==e.data.prevent&&(this.params.preventSubmit&&(e.stopImmediatePropagation(),e.preventDefault()),this._doSubmit())},_doSubmit:function(){this.submit()},_onModelRequest:function(t,e){this._requests.push(e.request)},_onModelResponse:function(t,e){if(Object(e.data).items){var n=e.data.items;this._path.personal=this._hasPersonal(n)?"nah_not_used":"nah_not_shown",this._meta=e.data.meta||{},this._renderTime=new Date,this._setMetaProps(e),this._requests&&delete this._requests[e.val.toLowerCase()]}},_onInputChange:function(t,e){e&&"clear"!==e.source||(this._params.user_input=t.block.val(),this[this._firstChange?"_lastChange":"_firstChange"]=new Date,this._startInputTime||(this._startInputTime=this._firstChange.getTime())),this._selectedText&&(this._path.state="edit"),this._ratio.actionsCount++},_onInputEnter:function(){this._path.submit="keyboard"},_onPopupShow:function(){"not_shown"===this._path.state&&(this._path.state="not_used")},_onSuggestItemEnter:function(t,e){e.byKeyboard&&this.params.suggest.params.updateOnEnterByKeyboard&&(this._selectedText=e.val,this._path.state="suggest")},_onSuggestUpdate:function(){this._addRenderTime(new Date-this._renderTime)},_onSuggestSelect:function(t,e){this._path.state=e.byKeyboard?"keyboard":"mouse",this._path.index=e.itemIndex+1,this._selectedText=e.val,e.item.hasMod("personal")&&(this._path.personal="nah_used"),this.params.submitBySelect&&(this._path.submit=e.byKeyboard?"keyboard":"click_by_mouse",this._params.pos=e.pos,this._params.text=this._selectedText),this.params.suggest.isNeedSubmitFormOnSelectItem(e.item)||this.submit({submitForm:!1,afterSendAjaxCallback:e.callbackOnSelect}),e.item.params.safeclickUrl&&((new Image).src=e.item.params.safeclickUrl)},unbindAllEvents:function(){var t=this.params,e=t.suggest,n=t.form,i=e.params["suggest2-popup"];return n.un("button-click").un("submit"),e.getModel().un("request").un("response"),e.params["suggest2-input"].un("change").un("enter"),i.un("show").un("hide"),e.un("select"),this},_hasPersonal:function(t){return t.some(function(t){return 1===BEM.blocks["suggest2-view"]._getPrefs(t).pers})},_setMetaProps:function(t){t.data.meta&&Object.keys(this.metaProps).forEach(function(e){this._params[this.metaProps[e]]=t.data.meta[e]||""},this)},_getParams:function(t){return Object.keys(t).reduce(function(e,n){return""===t[n]?e:(e.push(n+"="+encodeURIComponent(t[n]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),e)},[])},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getSession:function(){return this._session=(new Date).getTime()+Math.round(1e4*Math.random()),{session:this._session}},_getSinceChange:function(){var t=this._getSinceTime("first"),e=this._startInputTime&&Date.now()-this._startInputTime||0;return{since_first_change:t,since_last_change:this._getSinceTime("last"),total_input_time:e}},_getSinceTime:function(t){var e="_"+t+"Change";return this._sinceChange[t]=this[e]?(new Date).getTime()-this[e]:0,this._sinceChange[t]},_getResponsesShows:function(){return this._requests.reduce(function(t,e){return t.rqs++,e.error||(e.responseTime&&t.rsp++,0===e.itemsCount&&t.ersp++,e.fromCache&&t.cchd++),t},{rqs:0,rsp:0,rndr:this._renderTimes.length,ersp:0,clks:this._clicksCount,cchd:0})},_getRatio:function(){return this._ratio.len=this._params.user_input.length,this._ratio.queryLen=this._params.text.length,{ratio:[this._ratio.len,this._ratio.queryLen,this._ratio.actionsCount].join(".")}},_addRenderTime:function(t){return this._renderTimes.push(t),this._params.render_times=this._renderTimes.join("."),this},_getData:function(){return{"*data":"url="+this.params.dataUrl}}},{_generateReqID:function(){return(BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("yandexuid")?BEM.blocks["i-global"].param("yandexuid"):this._random(9)+this._random(9))+String(Date.now()).slice(-7)+this._random(7)},_random:function(t){return Math.random().toString().slice(-Math.min(t,10))}},{live:function(){this.liveInitOnBlockEvent("init","suggest2-form")}}),BEM.DOM.decl("suggest2-counter",{bindEvents:function(){this.__base.apply(this,arguments);var t=this.params.suggest;return BEM.blocks["suggest2-item"].on(t.domElem,"pointerclick",this._onClickPopup.bind(this)),this}}),BEM.decl({block:"suggest2-popup",modName:"for",modVal:"popup2"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._popup.on("beforeClose",function(){this.afterCurrentEvent(function(){BEM.blocks["suggest2-detect"].isPressedEscape()&&this.trigger("hide",{})})},this)}}},_setPosition:function(){this._popup.setAnchor(this.params.owner),this._popup.setMod("visible","yes")},_doHide:function(t){this._popup.delMod("visible")},isShown:function(){return!!this._popup&&this._popup.hasMod("visible")}}),BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{init:function(){this.__base.apply(this,arguments),this._boundResizeHandler=this._resizeHandler.bind(this),this.__self._bindToWinResize(this._boundResizeHandler)},_resizeHandler:function(){this._popup.width(this.getPopupWidth())},destruct:function(){this.__self._unbindFromWinResize(this._boundResizeHandler),this._boundResizeHandler=null,this.__base.apply(this,arguments)}},{_resizeCallbacks:[],_bindToWinResize:function(t){return this._resizeCallbacks.push(t),this},_unbindFromWinResize:function(t){for(var e=0;e<this._resizeCallbacks.length;e++)if(this._resizeCallbacks[e]===t)return this._resizeCallbacks.splice(e,1),this;return this},_getResizeCallback:function(){return $.throttle(function(){var t=arguments;this._resizeCallbacks.forEach(function(e){e.apply(this,t)},this)},300,this)},live:function(){return this._resizeCallback=this._getResizeCallback(),BEM.DOM.win.on("resize",this._resizeCallback),this.__base()}}),BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{_minWidth:0,_maxWidth:0,_resizeHandler:function(){this.__base.apply(this),this.afterCurrentEvent(function(){this.adjustView()})},_onShow:function(){this.__base.apply(this),this.hasMod("theme","large")&&this._applyMetricsToContent()},adjustView:function(){var t=this.__base.apply(this,arguments),e=t.minWidth,n=t.maxWidth,i=!1;return e!==this._minWidth&&(this._minWidth=e,i=!0),n!==this._maxWidth&&(this._maxWidth=n,i=!0),i&&this._popup.isShown()&&this._applyMetricsToContent(),t},_applyMetricsToContent:function(){this.__base.apply(this,arguments);var t=this.findElem("content");this._minWidth&&t.css("min-width",this._minWidth),this._maxWidth&&t.css("max-width",this._maxWidth)}}),BEM.DOM.decl({name:"input",modName:"autofocus",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.bindToDoc("keydown",this._autoFocusBind)}}},_autoFocusBind:function(t){if(!this.hasMod("focused","yes")&&!this.elem("control").attr("disabled")){var e;try{e=document.activeElement.tagName.toLowerCase()}catch(t){}if(function(t){var e=t.charCode||t.keyCode||t.which,n=function(t){var e=t.charCode||t.keyCode||t.which||0;return t.ctrlKey||t.altKey||t.metaKey||16===e||8===e||20===e||9===e||e>=32&&e<=40||e>=112&&e<=123||27===e||45===e||46===e||13===e}(t),i=e>=48&&e<=57,s=e>=96&&e<=105,o=[e>=65&&e<=90,e>=1025&&e<=1071,0===e,231===e].some(Boolean),r=t.key||"",a=r.toLocaleLowerCase()!==r.toLocaleUpperCase();return!n&&(i||s||o||a)}(t)&&"input"!==e&&"textarea"!==e){var n=this.elem("control")[0],i=this.val();if(i.length>0&&" "!==i.slice(-1)&&(i+=" ",this.val(i)),n.createTextRange){var s=n.createTextRange();s.collapse(!1),s.select()}else n.setSelectionRange&&n.setSelectionRange(i.length,i.length);this.setMod("focused","yes")}}}}),function(t){t.fn.mergeSerialize=function(e,n){var i,s=[];return this.each(function(t,e){var n={},i=e.elements;i&&[].forEach.call(i,function(t){var e=t.name,i=t.type;e&&!n.hasOwnProperty(e)&&(t.disabled||("radio"!==i||t.checked)&&("checkbox"!==i||t.checked?n[e]=t.value:n[e]=""))}),s.push(n)}),i=1===s.length?s[0]:t.extend.apply(t,s),e&&t.each(i,function(t,e){""===e&&delete i[t]}),arguments.length>1&&n?i:t.param(i)}}(jQuery),BEM.DOM.decl("user2",{onSetMod:{js:{inited:function(){if(this._retpath=this.params._retpath,this._isAuthorized=Boolean(this.params._uid),!this._isAuthorized)return!0;this._currentAccount=this.findBlockOn("current-account","user-account"),this._popup=this.findBlockInside("popup2").setAnchor(this._currentAccount),this._menu=this.findBlockInside("menu"),this._exitItem=this.elem("menu-item","action","exit"),this._plusItem=this.elem("menu-item","action","plus"),this._addItem=this.elem("add-account"),this._accountsContainer=this.findElem(this._menu.domElem,"accounts-container"),this._menuCounter=this.findElem("menu-counter"),this.bindTo("menu-item","pointerclick",this._onMenuItemClick),this.bindTo(this._exitItem,"pointerclick",this._onLogout),BEM.blocks["user-account"].on(this._accountsContainer,"click",this._onAccountClick,this),BEM.blocks["user-account"].on(this._accountsContainer,"logout",this._processLogout,this)}},opened:{yes:function(){this.domElem.attr("aria-expanded",!0),this._popup.setMod("visible","yes").on("beforeClose",this._onPopupClose,this),this._setMaxHeight(),this.bindToWin("resize orientchange",this._setMaxHeight),this._popup.on("beforeOpen",function(){this._onPopupOpen(),this._popup.un("beforeOpen",this._onPopupOpen,this)},this)},"":function(){var t=this.trigger("beforeClose");if(t.isDefaultPrevented&&t.isDefaultPrevented())return!1;this.unbindFromWin("resize orientchange",this._setMaxHeight),this.domElem.attr("aria-expanded",!1),this._popup.delMod("visible").un("beforeClose",this._onPopupClose,this)}}},destruct:function(){return this._isAuthorized&&(BEM.blocks["user-account"].un(this._accountsContainer,"click",this._onAccountClick,this),BEM.blocks["user-account"].un(this._accountsContainer,"logout",this._processLogout,this)),this.__base.apply(this,arguments)},setUnreadCount:function(t){var e=this._menu.findBlockInside("user-account");return this._currentAccount.setCounter(t),e&&e.hasMod("has-ticker")&&e.setCounter(t),this._menuCounter&&(t>0?this.delMod(this._menuCounter,"state","empty"):this.setMod(this._menuCounter,"state","empty"),this._menuCounter[0].innerText=t),this},setRetpath:function(t){this._retpath=t;var e=encodeURIComponent(t);return $().add(this._menu&&this._menu.findElem("item")).add(this.findElem("current-account")).add(this.findElem("a11y-exit")).add(this.findElem("enter")).add(this._addItem).each(function(t,n){var i=$(n),s=i.attr("href");if(s){var o=s.replace(/([\&\?]retpath=)[^\&]*/,"$1"+e);o!==s&&i.attr("href",o)}}),this},getPopup:function(){return this._popup},getMenu:function(){return this._menu},getCurrentAccount:function(){return this._currentAccount},_changeUser:function(t){var e=this.params._passportHost+"/passport?mode=embeddedauth";$('<form method="POST" action="'+e+'"><input type="hidden" name="action"  value="change_default"><input type="hidden" name="uid"     value="'+t+'"><input type="hidden" name="retpath" value="'+this._retpath+'"><input type="hidden" name="yu"      value="'+this.params._yu+'"></form>').appendTo("body").submit()},_onCurrentAccountClick:function(t,e){t.block===this._currentAccount&&(e.domEvent.preventDefault(),this.toggleMod("opened","yes"),this.trigger("current-account-click"))},_onAccountClick:function(t,e){if(!e.isLogout){var n=this.elemParams(t.block.domElem).uid;this._changeUser(n)}},_onPopupClose:function(){this.delMod("opened")},_onPopupOpen:function(){this.trigger("beforeOpen")},_processLogout:function(t,e){var n=this.elemParams(t.target.domElem).uid;n&&this.trigger("logout-click",{uid:n,account:t.target})},_onMenuItemClick:function(t){this.trigger("menu-item-click")},_onLogout:function(t){this.trigger("logout")},_setMaxHeight:function(){var t=BEM.DOM.win,e=this.params.menuMaxHeight;e||(e=t.height()-this.domElem.offset().top+t.scrollTop()),this._menu.domElem.css("max-height",e)},getDefaultParams:function(){return{menuMaxHeight:0}}},{live:function(){this.liveInitOnBlockInsideEvent("init","user-account"),this.liveInitOnBlockInsideEvent("click","user-account",this.prototype._onCurrentAccountClick),this.liveBindTo("enter","pointerclick",function(t){this.trigger("login")})}}),function(t){var e=t.innerWidth>t.innerHeight,n=t.innerWidth,i=$.throttle(function(){var i=t.innerWidth,s=t.innerHeight,o=i>s;o!==e&&i!==n&&($(t).trigger("orientchange",{landscape:o,width:i,height:s}),e=o,n=i)},400);BEM.DOM.win.bind("resize",i),BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){this.bindToWin("orientchange",this._onOrientChange,this).__base.apply(this,arguments)}}},_onOrientChange:function(t,e){var n=this.__self,i=document.documentElement,s=i.className,o="i-ua_orient_"+(e.landscape?"landscape":"portrait");-1===s.indexOf(o)&&(i.className=s.replace(/\bi-ua_orient_\w+\b/,o)),n.width=e.width,n.height=e.height,n.landscape=e.landscape}},{width:t.innerWidth,height:t.innerHeight,landscape:e})}(window),BEM.DOM.decl("user-account",{setCounter:function(t){var e=this.findBlockInside("ticker");e&&e.val(t)},_onClick:function(t){var e={domEvent:t};this.isLogoutClick&&(e.isLogout=!0,this.isLogoutClick=!1),this.trigger("click",e)},_onMouseOver:function(t){this.setMod("hovered","yes").bindTo("mouseleave",this._onMouseLeave)},_onMouseLeave:function(){this.delMod("hovered").unbindFrom("mouseleave")},_onFocusIn:function(t){this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusOut)},_onFocusOut:function(){this.trigger("blur").delMod("focused").unbindFrom("focusout")},_onLogoutClick:function(){this.isLogoutClick=!0,this.trigger("logout")}},{live:function(){this.liveBindTo("pointerclick",this.prototype._onClick),this.liveBindTo("focusin",this.prototype._onFocusIn),this.liveBindTo("mouseover",this.prototype._onMouseOver),this.liveBindTo("logout","pointerclick",this.prototype._onLogoutClick)}}),function(t){var e=1,n=!1;if("deviceXDPI"in screen&&"logicalXDPI"in screen?e=screen.deviceXDPI/screen.logicalXDPI:"devicePixelRatio"in t&&(e=t.devicePixelRatio),"function"==typeof t.matchMedia){n=t.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 124dpi)").matches}else n=e>=1.3;BEM.DOM.decl("i-ua",{},{dpr:e,hiDpi:n})}(window),BEM.DOM.decl({block:"user-account",modName:"has-ticker",modVal:"yes"},{getTicker:function(){return this.findBlockOn("ticker","ticker")}}),BEM.DOM.decl("ticker",{onSetMod:{js:{inited:function(){this._count=this.params.count}}},show:function(){return this.setMod("state","normal")},hide:function(){return this.setMod("state","empty")},val:function(t){if(!arguments.length)return this._count;var e=this.params.maxCount;return this._count=t,this.elem("value").attr("title",t).text(t>e?e:t),t?this.show():this.hide(),this}}),BEM.DOM.decl({block:"user2",modName:"fetch-accounts",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._accountsElem=this.findElem(this._menu.domElem,"accounts"),this._accountsSpin=this.findBlockInside(this._accountsElem,"spin2"),this._accountsDataProvider=BEM.create(this.params.accountsDataProvider,{callbackCtx:this,accountsUrl:this.params.accountsUrl}),this._fetchAccounts()}}},onElemSetMod:{accounts:{loading:function(t,e,n){this._accountsSpin.setMod("progress",n),this._popup.redraw()}}},_fetchAccounts:function(){var t=this.hasMod("has-logout"),e=void 0!==this.params._plus;this.setMod(this._accountsElem,"loading","yes"),this._accountsDataProvider.get({yu:this.params._yu},function(n){var i="",s=!0,o={avatarHost:this.params._avatarHost||"",maxLength:this.params.maxLength||"",provider:this.getMod("provider")||""};if(n.accounts){var r=this.params.accountsMax,a=n.accounts.reduce(function(t,e){return t.length<r&&e.uid!==n.default_uid&&t.push(e),t},[]).map(this.__self.accountToBemjson(o)).map(function(n){return t&&(n.mods=$.extend(n.mods||{},{"has-logout":"yes"})),e||(n.pic.plus=!1),{block:"menu",elem:"item",content:n}});i=BEMHTML.apply(a),s=Boolean(n["can-add-more"])}this.findElem(this._accountsElem,"accounts-container").html(i),this.updateCounters&&this.updateCounters(),this.toggleMod(this.findElem(this._accountsElem,"add-account"),"hidden","","yes",s),this.delMod(this._accountsElem,"loading")})},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{accountsDataProvider:"user2__accounts-provider",accountsMax:this._params.accountsMax||5,maxLength:this._params.maxLength||16})}},{accountToBemjson:function(t){return function(e){var n=Boolean(e.displayName.default_avatar),i=e.attributes.has_plus;return{block:"user-account",mix:[{block:"user2",elem:"account",js:{uid:e.uid}}],mods:{provider:t.provider},pic:{avatarId:e.displayName.default_avatar,plus:i},name:e.displayName.name,subname:e.defaultEmail||e.displayName.social,ticker:n?{count:0,maxCount:99}:void 0,avatarHost:t.avatarHost,maxLength:t.maxLength}}}}),BEM.decl({block:"user2__accounts-provider",baseBlock:"i-request_type_ajax"},{getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{url:this._params.accountsUrl,timeout:5e3})}}),BEM.DOM.decl({block:"user2",modName:"fetch-counters",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._caller=this.params.mailCallerId,this.updateCounters()}}},getCounters:function(t){return!t&&this._countersPromise||(this._countersPromise=this._fetchCounters().then(this.__self.normalizeUnreadData.bind({currentUid:this.params._uid}))),this._countersPromise},setCounters:function(t){var e=this.findBlocksInside("multi-auth","user-account");e.length&&Object.keys(t).length&&e.forEach(function(n,i){var s=t[this.elemParams(n.domElem).uid];s&&e[i].setCounter(s)},this),this.setUnreadCount(t[this.params._uid]||0)},updateCounters:function(t){this.getCounters(t).then(function(t){this.setCounters(t)}.bind(this))},_fetchCounters:function(){var t="https://mail.yandex."+BEM.blocks["i-global"].param("tld")+"/api/v2/"+this._caller+"/counters?silent&multi";return $.ajax({url:t,dataType:"json",type:"GET",xhrFields:{withCredentials:!0}}).promise()}},{normalizeUnreadData:function(t){return Array.isArray(t)||(t={uid:this.currentUid,data:t}),t.reduce(function(t,e){return t[e.uid]=((e.data||{}).counters||{}).unread||0,t},{})}}),BEM.DOM.decl("tabs-menu",{onSetMod:{js:{inited:function(){this._linksCache=[],this._isSwitching=!1}}},onElemSetMod:{tab:{active:{yes:function(t){if(this.hasMod(t,"outer"))return!1;var e=this.getActive();this._isSwitching=!0,this.delMod(e,"active"),this._isSwitching=!1,this.trigger("change",{current:t,prev:e,currentIndex:this.indexOfTab(t),prevIndex:this.indexOfTab(e)})},"":function(t){this._isSwitching||this.trigger("change",{current:$(),prev:t,currentIndex:-1,prevIndex:this.indexOfTab(t)})}},disabled:function(t,e,n){var i=this._getLink(t).setMod("disabled",n);this.hasMod(t,"interactive","yes")&&(i.domElem.removeAttr("tabindex"),n?t.attr("aria-disabled",!0):t.removeAttr("aria-disabled"))}}},getActive:function(){return this.findElem("tab","active","yes")},getTab:function(t){return this.elem("tab","interactive","yes").eq(t)},indexOfTab:function(t){return $.inArray(t.get(0),this.elem("tab","interactive","yes"))},_getTabByElem:function(t){return t.closest(this.buildSelector("tab"))},_getLink:function(t){var e=$.inArray(t.get(0),this.elem("tab"));return this._linksCache[e]||(this._linksCache[e]=this.findBlockInside(t,"link"))},_activateRelative:function(t){var e=this.elem("tab","interactive","yes").not(this.findElem("tab","disabled","yes")),n=$.inArray(this.getActive().get(0),e)+t;n<0||n>e.length||this.setMod(e.eq(n),"active","yes")},_onTabClick:function(t){this.setMod(this._getTabByElem($(t.target)),"active","yes")},_onTabKeyDown:function(t){if(!(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)){var e=BEM.blocks.keycodes;e.is(t.keyCode,"RIGHT","DOWN")?(t.preventDefault(),this._activateRelative(1)):e.is(t.keyCode,"LEFT","UP")&&(t.preventDefault(),this._activateRelative(-1))}}},{live:function(){this.liveBindTo("tab","pointerclick",function(t){this.hasMod($(t.data.domElem),"disabled")||this._onTabClick(t)}).liveBindTo("tab","keydown",function(t){this._onTabKeyDown(t)})}}),BEM.DOM.decl("tabs-menu",{onElemSetMod:{tab:{active:{yes:function(t){var e=this.getActive();if(!1===this.__base.apply(this,arguments))return!1;t.attr("tabindex",0);try{t.focus()}catch(t){}e.removeAttr("tabindex")}},disabled:function(t,e,n){this.__base.apply(this,arguments),n&&this.hasMod(t,"active")?t.attr("tabindex",0):t.removeAttr("tabindex")}}},_onTabEnter:function(t,e){this.setMod(t,"hovered","yes")},_onTabLeave:function(t,e){this.delMod(t,"hovered")}},{live:function(){return this.liveBindTo("tab","pointerover pointerout",function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||e[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onTabEnter(e,t):this._onTabLeave(e,t))}),this.__base()}}),BEM.DOM.decl({block:"tabs-menu",modName:"main",modVal:"yes"},{},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("tab","pointerover pointerout",function(t){if(this.hasMod("main","yes")){var e=t.data.domElem;e.hasClass("nav-by-rubrics__other")||this.trigger("tab-"+t.type.replace("pointer",""),{alias:this.getMod(e,"alias"),domElem:e})}}),!1}}),BEM.DOM.decl({block:"tabs-menu",modName:"parent",modVal:"nav-by-rubrics"},{_onTabClick:function(){}}),BEM.DOM.decl({block:"tabs-menu",modName:"parent",modVal:"nav-by-rubrics"},{_onTabClick:function(){}}),BEM.DOM.decl("nav-by-rubrics",{onSetMod:{js:{inited:function(){if(this.isRightMargin=!1,this._other=this.findElem("other"),this._otherBody=this.findElem("other-body"),this.hasMod("main")?this._selector=".tabs-menu_main .tabs-menu__tab":this.hasMod("sub")?this._selector="nav-by-rubrics_sub .tabs-menu__tab":this.hasMod("translations")&&(this._selector=".tabs-menu_translations .tabs-menu__tab"),this._setLastTabMargin(),this._other.length){var t=this._tabs=this.findBlockInside("tabs-menu"),e=this._otherMenu=this.findBlockInside("dropdown-menu"),n=this._popup=e.getPopup();this.setMod("id",this._uniqId),this._tabs.setMod("at","nav-by-rubrics").setMod("id",this._uniqId),this._needFixOtherPosition=this.hasMod(this._other,"fix-position","yes"),this._rubrics=t.findElem("tab"),this._firstRubric=t.findElem("tab","pos","0"),this._activeRubric=t.getActive(),this._dropdownMenu=n.findBlockInside("b-menu-vert"),this._rebuildRubrics(),this.bindToWin("resize",$.debounce(this._rebuildRubrics,50,this))}}}},destruct:function(){this.unbindFromWin("resize"),this.__base.apply(this,arguments)},deactivateRubric:function(){var t=this._activeRubric;this._activeRubric=null,t&&(this._tabs.delMod(t,"active"),t.removeAttr("tabindex"))},update:function(t){for(var e,n=t.current,i=0,s=n.length;i<s&&!(e=this._tabs.findElem("tab","alias",n[i])).length;i++)e=null;this.deactivateRubric(),e&&(this._tabs.setMod(e,"active","yes"),this._activeRubric=e,this._rebuildRubrics())},_rebuildRubrics:function(){var t=this._activeRubric;t&&t.length&&this._rebuildActiveRubric(),this._setLastTabMargin(),this._rebuildPopup()},_rebuildPopup:function(){var t=this,e=[],n=t._firstRubric[0].offsetTop;return t._rubrics.each(function(i,s){s.offsetTop>n?(t._tabs.setMod($(s),"tail","yes"),e.push({elem:"item",tag:"ul",content:s.outerHTML})):t._tabs.delMod($(s),"tail")}),e.length?(BEM.DOM.replace(t._dropdownMenu.findElem("layout"),BEMHTML.apply({block:"b-menu-vert",mix:[{block:"tabs-menu",mods:{at:"nav-by-rubrics",sub:"nav-by-rubrics-other",aid:t._uniqId}}],elem:"layout",elemMods:{parent:"nav-by-rubrics"},content:e})),t.delMod(t.elem("other"),"empty"),t._needFixOtherPosition&&t._fixOtherPosition()):(t._popup.hide(),t.setMod(t.elem("other"),"empty","yes")),e},_fixOtherPosition:function(){var t=this._getLastVisibleTab(),e=t.outerWidth()+t.offset().left-this._firstRubric.offset().left;e!==this._otherLeft&&(this._popup.hide(),this._otherLeft=e,this._otherBody.css("left",e+"px"))},_getLastVisibleTab:function(){var t=this,e=[];return t._tabs.findElem("tab").each(function(n,i){var s=$(i);t._tabs.hasMod(s,"tail")||e.push(s)}),e[e.length-1]},_rebuildActiveRubric:function(){for(var t=this._activeRubric,e=this._firstRubric[0].offsetTop,n=!1,i=!1,s=null;!n;)s=t.next(),t[0].offsetTop>e?(i=!0,BEM.DOM.before(t.prev(),t)):s.length&&parseInt(this.getMod(t,"pos"),10)>parseInt(this.getMod(s,"pos"),10)&&s[0].offsetTop===e?BEM.DOM.after(s,t):n=!0;i&&t[0].focus(),t[0].blur()},_setLastTabMargin:function(){if(this._other=this.findElem("other"),this._otherBody=this.findElem("other-body"),this._other.css("width",this._otherBody.outerWidth()),this.isRightMargin||!this._otherBody.outerWidth())return!1;if(!this._styleSheet){var t=document.createElement("style");t.type="text/css",this.domElem.append(t),this._styleSheet=t.sheet}var e=this._other.outerWidth()+parseInt(this._other.css("margin-left"),10),n=this._selector+":last-child",i="margin-right:-"+e+"px",s=this._styleSheet;"addRule"in s?s.addRule(n,i):"insertRule"in s&&s.insertRule(n+"{"+i+"}",s.cssRules.length),this.isRightMargin=!0}}),BEM.DOM.decl({block:"nav-by-rubrics",modName:"main",modVal:!0},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._links=this._rubrics.find(".link"),global.on("update:after",this._onUpdatePageParams,this)}}},destruct:function(){global.un("update:after"),this.__base.apply(this,arguments)},_onUpdatePageParams:function(){var t=BEM.blocks.uri;this._links.each(function(e,n){n.href=t.parse(n.href).replaceParam("from",global.params.from).toString()})},update:function(t){t.current?this.__base(t):this.deactivateRubric()}}),BEM.DOM.decl("b-page",{onSetMod:{js:function(){this.__base.apply(this,arguments),this.bindToWin("beforeunload",function(){Ya.c(["690.2127"])})}}}),function(){var t={},e=5e3,n=1,i="csp.yandex.net",s="web4",o="690.1893.1894",r="ru";function a(){var t;try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}return t||"undefined"==typeof XMLHttpRequest||(t=new XMLHttpRequest),t}function c(t){this.cspProtocol=t.cspProtocol||"https",this.cspUrl=t.cspUrl||this.cspProtocol+"://"+(t.cspHost||i)+"/csp",this.reqid=t.reqid,this.login=t.login,this.yandexuid=t.yandexuid,this.checkTimeout=t.checkTimeout||e,this.checkTimeoutId=null,this.from=t.from||s,this.counter=t.counter||o,this.tld=t.tld||r,this.domainExact=t.domainExact||["yandex."+this.tld,"yastatic.net","yandex.st"],this.domainSuffix=t.domainSuffix||[".yandex."+this.tld,".yandex.net",".yandex.ru"],this.onSendError=t.onSendError,this.check=this.check.bind(this),this.shouldCheckPeriodically=t.shouldCheckPeriodically;var n,a=document.cookie;return this.login||(n=a.match(/(?:^|;)\s*yandex_login\s*=\s*([^;]+)/))&&(this.login=n[1].trim()),this.yandexuid||(n=a.match(/(?:^|;)\s*yandexuid\s*=\s*([^;]+)/))&&(this.yandexuid=n[1].trim()),this}String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),c.prototype.start=function(){return document.addEventListener("DOMContentLoaded",this.check,!1),this},c.prototype.stop=function(){return this._removeListener(),document.removeEventListener("DOMContentLoaded",this.check),this},c.prototype._removeListener=function(){this.checkTimeoutId&&(this.removeListenerCallback(),clearTimeout(this.checkTimeoutId))},c.prototype.check=function(){if("withCredentials"in a()){var t=document.documentElement,e=function(t){var e=t.target,n=e.nodeName.toLowerCase();"script"!==n&&"object"!==n&&"iframe"!==n&&"img"!==n||this._detect(e)}.bind(this);return this._detectByElem("script"),this._detectByElem("object"),this._detectByElem("iframe"),this._detectByElem("img"),t.addEventListener("load",e,!0),this.removeListenerCallback=function(){t.removeEventListener("load",e,!0)},this._removeListener(),this.checkTimeoutId=setTimeout(this.removeListenerCallback,this.checkTimeout),this.shouldCheckPeriodically&&(this._checkPeriodicallyCallback=function(){this.check(),n*=2,this._checkPeriodically()}.bind(this),this._checkPeriodically()),this}},c.prototype._detectByElem=function(t){for(var e,n=document.getElementsByTagName(t),i=0;i<n.length;i++)e=n[i],this._detect(e)},c.prototype._detect=function(t){if(t.src&&!t.checked){t.checked=!0;var e=t.src;this._filterSrc(e)&&this._send(e)}},c.prototype._filterSrc=function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)[^:\/?#.]+:)?(?:\/\/)?(?:(?:[^:@\/]*(?::[^:@\/]*)?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)/.exec(t||"")[1];return this.domainExact.every(function(t){return t!==e})&&this.domainSuffix.every(function(t){return!e.endsWith(t)})},c.prototype._send=function(t){var e=a(),n="from="+encodeURIComponent(this.from)+"&path="+encodeURIComponent(this.counter)+"&reqid="+encodeURIComponent(this.reqid)+"&url="+encodeURIComponent(t)+"&yandex_login="+encodeURIComponent(this.login)+"&yandexuid="+encodeURIComponent(this.yandexuid);e.open("POST",this.cspUrl,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){4===e.readyState&&200!==e.status&&this.onSendError&&this.onSendError(e.status,e.responseText)}.bind(this),e.send(n)},c.prototype._checkPeriodically=function(){this.checkPeriodicallyTimeoutId=setTimeout(this._checkPeriodicallyCallback,1e4*n)},t.exports=c,BEM.DOM.decl("detect-scripts",{onSetMod:{js:function(){new t.exports(this.params).check()}}})}(),BEM.DOM.decl("proffit",{onRender:function(){this.delMod("hideneded")}},{live:!0}),BEM.DOM.decl("proffit",{onRender:function(){this.__base.apply(this,arguments),this.domElem.hasClass("proffit_sticky_yes")&&BEM.channel("sys").trigger("sticky:show")}}),BEM.DOM.decl("proffit",{onRender:function(){this.__base.apply(this,arguments),this.domElem.hasClass("proffit_sticky_no")&&this.domElem.parent().show()}}),BEM.DOM.decl("sticky",{onSetMod:{js:function(){BEM.channel("sys").onFirst("sticky:show",this.init,this)}},destruct:function(){return this.passiveSupported&&window.removeEventListener("scroll",this._setPos),BEM.channel("sys").un("sticky:show",this.init,this),this.__base.apply(this,arguments)},passiveSupported:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,null}});window.addEventListener("test",null,e),window.removeEventListener("test",null)}catch(t){}return t}(),init:function(){this._prevScrollTop=BEM.DOM.win.scrollTop(),this._stickyContainer=$(this.params.stickyContainerClass),this._prevLeft=this._stickyContainer.offset().left,this._prevDirection="down",this._prevPosition="absolute",this.passiveSupported?(this._setPos=this._setPos.bind(this),window.addEventListener("scroll",this._setPos,{passive:!0})):this.bindToWin("scroll",this._setPos),this.bindToWin("resize",this._onResize).setMod("visible")._onResize()},_onResize:function(){var t=this._getWindowWidth()<this.params.minWidthStartSticky;t&&!this._stoped&&this._stop(),this._disable=t,this._stickyContainerOffset=this._stickyContainer.offset(),this._winHeight=BEM.DOM.win.height(),this.setMod("disable",t)._setPos()},_stop:function(){var t={position:"",top:"",bottom:"",left:"",right:""};this._stoped||this.domElem.css(t),this._stoped=!0,this._prevCSS=t},_setPos:function(){if(!this._disable){var t=Math.floor(BEM.DOM.doc.scrollTop()),e=this._prevScrollTop;if(this._prevScrollTop=t,this._isRubber&&t<this._headHeight)return this._stop();var n=this._stickyContainer,i=this._stickyContainerOffset,s=Math.floor(i.top),o=this.domElem,r=o.offset(),a=Math.floor(r.top);if(a<s||t<s)return this._stop();var c,u=this._winHeight,h=o.height(),l=t+u,d=s+n.height(),p=t-e,f=p>0?"down":p<0?"up":this._prevDirection,m=f!==this._prevDirection,_=this._stickyOffsetY,g=this._prevPosition,v=t+_,b=a+h;b>=d&&a<=t?"absolute"!==g&&(c={position:"absolute",top:"auto",bottom:0}):a>v||h<=u-_?c={position:"fixed",top:_,bottom:"auto"}:m||b>l&&(a<v||"down"===f&&a===v)?"absolute"!==g&&(c={position:"absolute",top:a-s,bottom:"auto"}):(b<l||b===l&&"absolute"===g)&&(c={position:"fixed",top:"auto",bottom:0});var y=c?c.position:g,x="absolute"===y?n[0].offsetLeft:i.left;if(c||x!==this._prevLeft){c||(c={}),c.right="auto",c.left="absolute"===y?n[0].offsetLeft:i.left;var k=!1,M=this._prevCSS,E=M?["position","top","bottom","left","right"].reduce(function(t,e){var n=c[e];return n!==M[e]&&(k=!0,t[e]=n),t},{}):c;!k&&M||(o.css(E),this._prevCSS=c)}this._stoped=!1,this._prevPosition=y,this._prevLeft=x,this._prevDirection=f}},_getWindowWidth:function(){var t=navigator.userAgent;return t.indexOf("AppleWebKit/")>-1&&-1===t.indexOf("Chrome/")?BEM.DOM.win.width():window.innerWidth}}),BEM.DOM.decl("sticky",{init:function(){this._headHeight=$(".header2").height(),this._isRubber=!1,this._stickyOffsetY=0,this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"radio-button",baseBlock:"radiobox"},{onSetMod:{disabled:{yes:function(){this.delMod("focused"),this.__base.apply(this,arguments)}}},onElemSetMod:{radio:{pressed:{yes:function(){this.delMod(this.elem("radio","pressed","yes"),"pressed")}}}},_onPointerPress:function(t){this._pressedRadio=t.data.domElem,this.isDisabled(this._pressedRadio)||(this.setMod(this._pressedRadio,"pressed","yes"),this.bindToDoc("pointerrelease",this._onPointerRelease))},_onPointerRelease:function(t){var e=this._pressedRadio;delete this._pressedRadio,this.delMod(e,"pressed"),this.afterCurrentEvent(function(){if(this.domElem){var n=this.findElem(e,"control");n.prop("checked")||!e.is(t.target)&&!e.find(t.target).length||n.trigger("change").focus()}}),this.unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("radio","pointerpress",function(t){this._onPointerPress(t)}).liveBindTo("control","focusin focusout",function(t){!this.hasMod("disabled")&&this.toggleMod("focused","yes","focusin"===t.type)}),this.__base()}}),function(){var t,e=["Y2xlYXJUaW1lb3V0","c2V0VGltZW91dA==","bG9jYWxTdG9yYWdl","YnRvYQ==","c2V0SXRlbQ==","Y3JlYXRlRWxlbWVudA==","aWZyYW1l","c3R5bGU=","ZGlzcGxheTogbm9uZQ==","Ym9keQ==","YXBwZW5kQ2hpbGQ=","RnVuY3Rpb24=","WERvbWFpblJlcXVlc3Q=","WE1MSHR0cFJlcXVlc3Q=","dG9VVENTdHJpbmc=","bG9jYXRpb24=","aG9zdG5hbWU=","aW5kZXhPZg==","c3BsaXQ=","PTE7IGV4cGlyZXM9","OyBwYXRoPS87IGRvbWFpbj0u","YWRkRXZlbnRMaXN0ZW5lcg==","YmVmb3JldW5sb2Fk","cGFnZWhpZGU=","VU5LTk9XTg==","cmVtb3ZlRXZlbnRMaXN0ZW5lcg==","RE9NQ29udGVudExvYWRlZA==","cmVhZHlTdGF0ZQ==","Y29tcGxldGU=","bG9hZGluZw==","ZG9jdW1lbnRFbGVtZW50","ZG9TY3JvbGw=","aGVhZA==","WEhSIGNvbnN0cnVjdG9yIGVycm9y","b3Blbg==","Z2V0","c2VuZA==","cHJvdG90eXBl","WEhSIGZ1bmN0aW9ucyB3YXMgcmVhc3NpZ25lZA==","d2l0aENyZWRlbnRpYWxz","b25sb2Fk","Z2V0UmVzcG9uc2VIZWFkZXI=","Y29udGVudC1sZW5naHQ=","cmVzcG9uc2VUZXh0","SGVhZGVyIGxlbmd0aCBkb2Vzbid0IG1hdGNo","bWVzc2FnZQ==","b25lcnJvcg==","WEhSIHJlcXVlc3QgZXJyb3I=","aW5pdA==","VGltZW91dA==","cmVtb3ZlQ2hpbGQ=","YXBwbHk=","Y29udGVudFdpbmRvdw==","c3RhY2s=","QkVN","YmxvY2tz","aS1nbG9iYWw=","cGFyYW0=","eWFk","aGFzT3duUHJvcGVydHk=","Y29tLnRy","Y29tLmdl","Y29tLmFt","Y28uaWw=","bXNrLnJ1","Y29va2ll","dGltZQ==","Y29udGV4dA==","Y2FsbGJhY2s=","c3Jj","YmVlcmth","bHVkY2E=","YkhWa1kyRT0=","dGltZW91dA==","Ymx0c3I=","dG9TdHJpbmc=","Y2FsbA==","W29iamVjdCBBcnJheV0=","MS4yLjA=","RW1wdHkgY29uZmlnLnNyYw==","c2NyaXB0","JmNiPQ==","ZGVjb2RlVVJJQ29tcG9uZW50","YXRvYg==","bGVuZ3Ro","Y2hhckNvZGVBdA==","cHVzaA==","U3RyaW5n","ZnJvbUNoYXJDb2Rl","am9pbg==","TnVtYmVy","RGF0ZQ==","dG9GaXhlZA==","c2xpY2U="];t=e,function(e){for(;--e;)t.push(t.shift())}(154);var n=function(t,i){var s=e[t-=0];void 0===n.ONMJFj&&(function(){var t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}t.atob||(t.atob=function(t){for(var e,n,i=String(t).replace(/=+$/,""),s=0,o=0,r="";n=i.charAt(o++);~n&&(e=s%4?64*e+n:n,s++%4)?r+=String.fromCharCode(255&e>>(-2*s&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return r})}(),n.uFfHjI=function(t){for(var e=atob(t),n=[],i=0,s=e.length;i<s;i++)n+="%"+("00"+e.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(n)},n.IHnnbZ={},n.ONMJFj=!0);var o=n.IHnnbZ[t];return void 0===o?(s=n.uFfHjI(s),n.IHnnbZ[t]=s):s=o,s};!function(t,e,i){var s={};for(var o in i)i[n("0x0")](o)&&(s[o]=i[o]);var r=[n("0x1"),n("0x2"),n("0x3"),n("0x4"),n("0x5")],a=n("0x6"),c=n("0x7"),u=n("0x8"),h=n("0x9"),l=n("0xa"),d=n("0xb"),p=n("0xc"),f=n("0xd"),m=i[n("0xe")]||2e4;s[a]=s[a]||n("0xf");try{({})[n("0x10")][n("0x11")](s[a])!==n("0x12")&&(s[a]=[s[a]])}catch(i){}s[c]=s[c]||336,s[u]=s[u]||{};var _=s[h];if(s[h]=function(t){w&&w();var e=n("0x13");_&&_(t,e),I(d,e)},i[n("0xa")]){var g=null,v=function(t,e,i,s){var o=e[n("0x2f")]||e[n("0x30")],r=new o;if(0!==r[n("0x3e")])throw new Error(n("0x44"));if(r[n("0x45")](n("0x46"),t,!0),1!==r[n("0x3e")]||r[n("0x47")]!==o[n("0x48")][n("0x47")])throw new Error(n("0x49"));r[n("0x4a")]=!0,r[n("0x4b")]=function(){try{var t=e[n("0x1f")](r[n("0x4c")](n("0x4d"))),o=r[n("0x4e")][n("0x19")];if(!t||t<32e3||t!==o)return s(n("0x4f"))}catch(t){return s(t&&t[n("0x50")])}i(r[n("0x4e")])},r[n("0x51")]=function(){s(n("0x52"))},r[n("0x47")]()},b=s[l];s[n("0x15")]&&(v=function(i,s,o,r){var a=e[n("0x28")](n("0x15"));a[l]=i,(t.Ya||(t.Ya={}))[g]=function(t){o(t)},e[n("0x43")][n("0x2d")](a)},g=C(),b+=n("0x16")+g);var y,x,k,M,E,w=(y=function(){S(n("0x54"))},x=m,k=T(),M=null,function e(){T()-k>=x?y():M=t[n("0x24")](function(){e()},100)}(),function(){t[n("0x23")](M)});E=function(){t[n("0x59")][n("0x5a")][n("0x5b")].on(n("0x53"),function(){var i=this[n("0x5c")](n("0x5d"));i&&s[a][n("0x1b")](i),function(t){try{D(t)}catch(r){try{var i=function(){var t=e[n("0x28")](n("0x29"));return t[n("0x2a")]=n("0x2b"),e[n("0x2c")][n("0x2d")](t),t}(),o=s[h];s[h]=function(){e[n("0x2c")][n("0x55")](i),o&&o[n("0x56")](t,arguments)},D(function(t){for(var e={},i=[n("0x1f"),n("0x2e"),n("0x1c"),n("0x2f"),n("0x30")],s=0;s<i[n("0x19")];s++)e[i[s]]=t[i[s]];return e}(i[n("0x57")]))}catch(t){S(t&&t[n("0x58")])}}}(t)})},e[n("0x3e")]===n("0x3f")||e[n("0x3e")]!==n("0x40")&&!e[n("0x41")][n("0x42")]?E():e[n("0x38")]&&e[n("0x38")](n("0x3d"),function t(){e[n("0x3c")](n("0x3d"),t),E()})}else S(n("0x14"));function B(e,i){for(var s=[],o=0;o<e[n("0x19")];o++){var r=e[n("0x1a")](o)^i[n("0x1a")](o%i[n("0x19")]);s[n("0x1b")](t[n("0x1c")][n("0x1d")](r))}return s[n("0x1e")]("")}function T(){return t[n("0x1f")](new(t[n("0x20")]))}function C(){return(24e5*(T()/24e5)[n("0x21")]())[n("0x10")](36)[n("0x22")](0,10)}function I(e,i,s){if(t[n("0x25")])try{if(s){var o=C();i=t[n("0x26")](o)+f+t[n("0x26")](B(i,o))}t[n("0x25")][n("0x27")](e,i)}catch(e){}}function S(i){w&&w();var o=T(),u=new(t[n("0x20")])(o+36e5*s[c])[n("0x31")](),l=d(t[n("0x32")][n("0x33")],2);function d(t,e){return e?t[n("0x35")](".")[n("0x22")](-e)[n("0x1e")]("."):t}function f(){for(var t=s[a],i=0;i<t[n("0x19")];i++){var o=t[i];o&&(e[n("0x6")]=o+n("0x36")+u+n("0x37")+l)}}-1!==r[n("0x34")](l)&&(l=d(t[n("0x32")][n("0x33")],3)),t[n("0x38")]?(t[n("0x38")](n("0x39"),f),t[n("0x38")](n("0x3a"),f)):f(),s[h]({blocked:!0,blocker:n("0x3b")}),I(p,[(new(t[n("0x20")]))[n("0x31")](),n("0x3b"),i][n("0x1e")]("\n"),!0)}function D(i){var o=T();v(b,i,function(o){try{s[n("0x15")]&&(o=function(e,i){return t[n("0x17")](B(t[n("0x18")](e),i))}(o,g)),new(i[n("0x2e")])(o)[n("0x11")](s[u]),s[u][n("0x53")](t,e,s)}catch(o){S(o&&o[n("0x50")])}},function(t,e){T()-o<2e3&&S(t)})}}(window,document,{src:"news"===Ya._s?"https://static-mon.yandex.net/static/main.js?pid=yandex_news":"https://static-mon.yandex.net/static/main.js?pid=yandex_sport"})}(),function(t){if("function"==typeof t.I18N&&t.I18N._proto)return t.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=t;var e="_",n="__",i={},s=[],o=!1,r="undefined"!=typeof console&&"function"==typeof console.log;function a(t,e){if(o&&r){var n="keyset: "+e._keyset+" key: "+e._key+" (lang: "+e._lang+")";console.log(t,n)}}function c(){this._lang="",this._prj="lego",this._keyset="",this._key=""}c.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,i){var o;return i&&function(t){t&&s.push(t)}(this._keyset),this._keyset="string"==typeof(o=t)?o:o.block+(o.elem?n+o.elem:"")+(o.modName?e+o.modName+e+o.modVal:""),this},key:function(t){return this._key=t,this},decl:function(t){var s=function(t){var i={};return t.split(n).forEach(function(t,n){var s=[n?"elem":"block","mod","val"];t.split(e).forEach(function(t,e){i[s[e]]=t})}),i}(this._keyset),o="i-tanker"===s.block?"tanker":this._prj,r=s.elem||this._keyset,a=this._key;(r=(o=i18n[o]||(i18n[o]={}))[r]||(o[r]={}))[a]="function"==typeof t?t:function(){return t};var c=i[this._lang]||(i[this._lang]={});(c[this._keyset]||(c[this._keyset]={}))[a]=t},val:function(t,e){var n=i[this._lang]&&i[this._lang][this._keyset];if(!n)return a("[I18N_NO_KEYSET] %s",this),"";var s=typeof(n=n[this._key]);return"undefined"===s?(a("[I18N_NO_VALUE] %s",this),""):"string"===s?n:n.call(e||this,t)},_cache:function(){return i}};var u=function(t,e,n){return u.keyset(t).key(e,n)};u._proto=new c,u.project=function(t){return this._proto.project(t),this},u.keyset=function(t){return this._proto.keyset(t,!0),this},u.key=function(t,e){var n,i,o=this._proto;return o.lang(this._lang).key(t),n=o.val(e,u),(i=s.length&&s.pop())&&o.keyset(i,!1),n},u.decl=function(t,e,n){var i,s=this._proto;for(i in n&&n.lang&&s.lang(n.lang),s.keyset(t),e)e.hasOwnProperty(i)&&s.key(i).decl(e[i]);return this},u.lang=function(t){return void 0!==t&&(this._lang=t),this._lang},u.debug=function(t){o=!!t},u.lang("ru"),t.I18N=u}("undefined"==typeof BEM?{}:BEM),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("copyright",{link:function(t){return"ООО «"+t.content+"»"},yandex:"ЯНДЕКС"},{lang:"ru"}),BEM.I18N.decl("doc",{"infected-help":"Почему","infected-info":function(t){return"Посещение этого сайта может привести к заражению компьютера или мобильного устройства вредоносными программами, использованию его без вашего ведома, а также к порче или краже ваших данных. "+t.help+"?"},"infected-label":"сайт заражён","infected-link":"Всё равно перейти на эту страницу.","no-title":"Без заголовка",read:"Читать далее",translate:"перевести статью","with-what-everything-began":"с чего всё началось","genre-article":"статья","genre-interview":"интервью","genre-online":"трансляция"},{lang:"ru"}),BEM.I18N.decl("filters",{alldocs:"Сообщения",article:"Статьи",interview:"Интервью",photo:"Фотографии",video:"Видео"},{lang:"ru"}),BEM.I18N.decl("footer",{about:"О компании","about-url":"//company.yandex.ru",advert:"Реклама","advert-url":"//advertising.yandex.ru/kupislova.xml?advertising",apps:"Мобильные приложения","apps-url":"//mobile.yandex.ru",stat:"Статистика",termsofuse:"Лицензия на поиск","termsofuse-url":"//legal.yandex.ru/termsofuse/",agreement:"Пользовательское соглашение",export:"Новости на вашем сайте",feedback:"Обратная связь",help:"Помощь",info4smi:"Информация для СМИ",mobile:"Мобильная версия",smi:"База данных СМИ",stat_news:"Топ-5 новостных сюжетов: статистика",subscribe:"Подписка на новости",howitworks:"Как работают Яндекс.Новости"},{lang:"ru"}),BEM.I18N.decl("header2",{settings:"Настройки"},{lang:"ru"}),BEM.I18N.decl("header2__action",{"action-filter-title":"Настройки поиска","action-settings-title":"Настройки","action-tableau-title":"Табло сервисов"},{lang:"ru"}),BEM.I18N.decl("i-global",{date:function(t){return function(t){var e=new Date(t.timestamp),n=e.getFullYear(),i=new Date;return e.getDate()+" "+this.keyset("i-tanker__months").key("g"+(1+e.getMonth())).toLowerCase()+(n!==i.getFullYear()?" "+n:"")}.call(this,t)},dateOrTime:function(t){return function(t){var e=new Date(t.timestamp),n=new Date;return e.toDateString()===n.toDateString()?t.textTime:e.getDate()+" "+this.keyset("i-tanker__months").key("short"+(1+e.getMonth()))+"."}.call(this,t)},"news-title":function(t){return"Новости "+t.title},"page-unavailable":"В данный момент страница недоступна.","page-unavailable-text":"Попробуйте обновить страницу или зайти позднее.","project-name":function(t){return this.keyset("i-tanker__projects").key("news.short",{})},"project-title":function(t){return this.keyset("i-tanker__projects").key("news",{})},"service-logo":"//yastatic.net/news/_/3ZKcgs3G2RB8Mjt5NKZ123Jyzws.png","service-logo-height":"78","service-logo-width":"119",index:"Главное",football:"Футбол",hockey:"Хоккей",index_genitive:"Новости спорта",football_genitive:"Новости футбола",hockey_genitive:"Новости хоккея"},{lang:"ru"}),BEM.I18N.decl("i-global__tools",{"smart-at":function(t){return"в "+t.time},yesterday:function(t){return"вчера "+t.time}},{lang:"ru"}),BEM.I18N.decl("i-services",{404:"404",adresa:"Адреса",advertising:"Реклама",afisha:"Афиша",all:"Все сервисы",api:"API",appmetrica:"AppMetrica",appsearch:"Приложения",audience:"Аудитории",auto:"Авто",autoru:"Авто.ру",avia:"Авиабилеты",aziada:"Азиада",ba:"Баян",backapv:"Партнер Я.Карт",balance:"Баланс",bar:"Бар","bar-ie":"Бар для ИЕ","bar-ie9":"Бар для ИЕ9",bayan:"Баннеры Яндекса",blogs:"Блоги",books:"Книги",browser:"Браузер",calendar:"Календарь",captcha:"ой...",catalogwdgt:"Каталог виджетов",chrome:"Хром с поиском Яндекса",city:"Города",cityday:"День города",clickhouse:"ClickHouse",collection:"Коллекция",company:"Компания",contest:"Contest",delivery:"Доставка",desktop:"Персональный поиск",direct:"Директ","direct.market":"Маркет",disk:"Диск",display:"Дисплей",ege:"ЕГЭ",expert:"Эксперт",feedback:"Обратная связь",feedback2:"Обратная связь",ff:"ФФ с поиском Яндекса",fotki:"Фотки",fresh:"Свежее",games:"Игрушки",geocontext:"Геоконтекст",goroda:"Города",help:"Помощь",i:"Мои сервисы",ie:"ИЕ с поиском Яндекса",images:"Картинки","images-com":"Картинки",interests:"Интересы",internet:"Интернет",kassa:"Касса",keyboard:"Клавиатура",kraski:"Краски",kuda:"Куда все идут",large:"Яндекс для слабовидящих",legal:"Правовые документы",lenta:"Лента",libra:"Библиотека",literacy:"Неделя борьбы за грамотность",local:"Локальная сеть",lost:"Незабудки",love:"День взаимного тяготения — 13 августа",mail:"Почта",maps:"Карты","maps-wiki":"Народная карта",market:"Маркет","market.advertising":"Маркет",master:"Мастер",metrika:"Метрика",metro:"Метро",mobile:"Мобильный",moikrug:"Мой Круг",money:"Деньги",museums:"Дни исторического и культурного наследия",music:"Музыка","music-partner":"Музыка: статистика",nahodki:"Мои находки",nano:"Нано",newhire:"Наниматор",news:"Новости",notifications:"Нотификационная панель",oauth:"Авторизация",online:"Онлайн",openid:"OpenID",opera:"Opera Software",opinion:"Цитаты",partners:"Рекламная сеть",partnersearch:"Поиск для партнеров",passport:"Паспорт",pdd:"Почта для домена",peoplesearch:"Люди",perevod:"Переводчик",probki:"Пробки",pulse:"блоги: пульс",punto:"Punto switcher",pvo:"Ответы",rabota:"Работа",radar:"Радар",ramazan:"",rasp:"Расписания",realty:"Недвижимость",referats:"Рефераты",rk:"Есть вопросы?",root:"Яндекс.Олимпиада для Unix администраторов",school:"Школа",search:"Поиск",server:"Сервер",shtrafi:"Штрафы",site:"Поиск для сайта",slovari:"Словари",so:"Самооборона",social:"Социализм",soft:"Программы",sport:"Спорт",sprav:"Справочник",start:"Стартовая страница",stat:"Статистика",subs:"Подписки",taxi:"Такси",telephony:"Телефония",terms:"Разговорник",tests:"Тесты и опросы",tickets:"Билеты",time:"Яндекс.Время",toloka:"Яндекс.Толока",toster:"Тосты",translate:"Переводчик",tune:"Настройки",tv:"ТВ",uslugi:"Услуги",video:"Видео","video-com":"Видео",vno:"ВНО",wdgt:"Виджеты",weather:"Погода",webmaster:"Вебмастер","webmaster-api":"API Вебмастера",widgets:"Виджеты",wordstat:"Статистика",wow:"Я.ру",www:"Поиск",xmlsearch:"XML",yaca:"Каталог",yamb:"Медийные баннеры",zakladki:"Закладки"},{lang:"ru"}),BEM.I18N.decl("i-tanker__days",{acc1:"в понедельник",acc2:"во вторник",acc3:"в среду",acc4:"в четверг",acc5:"в пятницу",acc6:"в субботу",acc7:"в воскресенье",n1:"понедельник",n2:"вторник",n3:"среда",n4:"четверг",n5:"пятница",n6:"суббота",n7:"воскресенье",name:function(t){return function(t){return i18n.tanker.days[(t.short?"short":"n")+t.day]()}.call(this,t)},short1:"пн",short2:"вт",short3:"ср",short4:"чт",short5:"пт",short6:"сб",short7:"вс",today:"сегодня",tomorrow:"завтра",yesterday:"вчера"},{lang:"ru"}),BEM.I18N.decl("i-tanker__dynamic",{gender:function(t){return function(t){return t[t.gender]}.call(this,t)},plural:function(t){return function(t){var e=isNaN(parseInt(t.count))?0:t.count,n=e%10,i=e%100;return 1==n&&11!=i?t.one:n>1&&n<5&&(i<10||i>20)?t.some:t.many}.call(this,t)},plural_adv:function(t){return function(t){return 0===(isNaN(parseInt(t.count))?0:t.count)?t.none:this.keyset("i-tanker__dynamic").key("plural",{count:t.count,one:t.one,some:t.some,many:t.many})}.call(this,t)},toggle:function(t){return function(t){return Boolean(t.condition)?t.true:t.false}.call(this,t)}},{lang:"ru"}),BEM.I18N.decl("i-tanker__languages",{be:"By",be_full:"Белорусский",en:"En",en_full:"Английский",kk:"Kz",kk_full:"Казахский",ru:"Ru",ru_full:"Русский",tt:"Tat",tt_full:"Татарский",uk:"Ua",uk_full:"Украинский"},{lang:"ru"}),BEM.I18N.decl("i-tanker__months",{g1:"Января",g10:"Октября",g11:"Ноября",g12:"Декабря",g2:"Февраля",g3:"Марта",g4:"Апреля",g5:"Мая",g6:"Июня",g7:"Июля",g8:"Августа",g9:"Сентября",n1:"Январь",n10:"Октябрь",n11:"Ноябрь",n12:"Декабрь",n2:"Февраль",n3:"Март",n4:"Апрель",n5:"Май",n6:"Июнь",n7:"Июль",n8:"Август",n9:"Сентябрь",name:function(t){return function(t){var e=i18n.tanker.months[(t.case||"n")+t.month]();return Boolean(t.lowercase)?e.toLowerCase():e}.call(this,t)},short1:"янв",short10:"окт",short11:"ноя",short12:"дек",short2:"фев",short3:"мар",short4:"апр",short5:"май",short6:"июн",short7:"июл",short8:"авг",short9:"сен"},{lang:"ru"}),BEM.I18N.decl("i-tanker__projects",{admins:"Админы",adresa:"Яндекс.Адреса","adresa.short":"Адреса",afisha:"Яндекс.Афиша","afisha.short":"Афиша",all:"Все сервисы",auto:"Яндекс.Авто","auto.short":"Авто",blogs:"Яндекс.Блоги","blogs.short":"Блоги",bond:"Брак",calendar:"Яндекс.Календарь","calendar.short":"Календарь",cloud:"Яндекс.Диск","cloud.short":"Диск",diary:"Этушка",direct:"Яндекс.Директ","direct.short":"Директ",doc:"Документация",gazeta:"Яндекс.Газета","gazeta.short":"Газета",images:"Яндекс.Картинки","images.short":"Картинки",jing:"Джинг",jira:"Jira",job:"Job-jira",lego:"Лего",libra:"Библиотека",mail:"Яндекс.Почта","mail.short":"Почта",maillists:"Рассылки",maps:"Яндекс.Карты","maps.short":"Карты",market:"Яндекс.Маркет","market.short":"Маркет",menia:"Яндекс.Мнения","menia.short":"Мнения",metrika:"Яндекс.Метрика","metrika.short":"Метрика",mobile:"Для мобильного","mobile.short":"Для мобильного",money:"Яндекс.Деньги","money.short":"Деньги",more:"ещё",music:"Яндекс.Музыка","music.short":"Музыка",news:"Яндекс.Новости","news.short":"Новости",otrs:"OTRS","partner.short":"РСЯ","passport.short":"Паспорт",pdd:"Почта для домена","pdd.short":"Почта для домена",planner:"Переговорки","postoffice.short":"Почтовый офис",probki:"Яндекс.Пробки","probki.short":"Пробки",rasp:"Яндекс.Расписания","rasp.short":"Расписания",realty:"Яндекс.Недвижимость","realty.short":"Недвижимость",slovari:"Яндекс.Словари","slovari.short":"Словари",soft:"Яндекс.Программы","soft.short":"Программы",sport:"Яндекс.Спорт","sport.short":"Спорт",staff:"Стафф",statface:"Статистика",storedevconsole:"Кабинет разработчика приложений Яндекс.Store","storedevconsole.short":"Кабинет разработчика Яндекс.Store",text:"Яндекс.Поиск","text.short":"Поиск",tovary:"Яндекс.Товары","tovary.short":"Товары",translate:"Яндекс.Перевод","translate.short":"Перевод",tv:"Яндекс.Телепрограмма","tv.short":"Телепрограмма",wdgt:"Яндекс.Виджеты","wdgt.short":"Виджеты",weather:"Яндекс.Погода","weather.short":"Погода",webmaster:"Яндекс.Вебмастер","webmaster.short":"Вебмастер",wiki:"Вики",work:"Яндекс.Работа","work.short":"Работа",yaca:"Яндекс.Каталог","yaca.short":"Каталог"},{lang:"ru"}),BEM.I18N.decl("logo_type_link",{yandex:"Яндекс"},{lang:"ru"}),BEM.I18N.decl("nav-by-rubrics",{all:"Все",label:"Рубрики",more:function(t){return"ещё "+t.count},"more-nav":"Ещё"},{lang:"ru"}),BEM.I18N.decl("page-content",{description:function(t){return t.rubric+" в Яндекс.Новостях: события, персоны, цитаты, самые обсуждаемые и горячие сюжеты. Последние новости России и Украины — автоматическое обновление каждые 10 минут."},"export-description":"Яндекс.Новости на вашем сайте: виджеты новостей Яндекса для сайта, ленты новостей в формате rss — автоматическое обновление каждые 10 минут.","index-description":function(t){return"Последние новости в Яндекс.Новостях: Актуальные новости "+t.country+", регионов и областей, важные и свежие новости дня."},"index-title":function(t){return"Яндекс.Новости: Главные новости сегодня, самые свежие и последние новости "+t.country+" онлайн"},"page-title":function(t){return"Яндекс.Новости: "+t.page},"region-description":function(t){return"Новости "+t.region+": последние новости сегодня, самые свежие и актуальные новости "+t.region+" онлайн."},"region-title":function(t){return"Новости "+t.region+" — главные новости "+t.region+" сегодня в Яндекс.Новостях"},"rubric-description":function(t){return t.rubric+": все "+t.rubric_lower+" в Яндекс.Новостях. "+t.top+"."},"rubric-full-description":function(t){return t.rubric+": "+t.subrubrics+" в Яндекс.Новостях. "+t.top+"."},"rubric-spec-description":function(t){return t.rubric+": все новости рубрики «"+t.rubric+"» в Яндекс.Новостях. "+t.top+"."},"rubric-spec-title":function(t){return t.rubric+" — главные новости рубрики «"+t.rubric+"» сегодня в Яндекс.Новостях"},"rubric-title":function(t){return t.rubric+" сегодня в Яндекс.Новостях"},"story-inApp-page-title":"Сюжет","story-page-title":function(t){return t.text+": Яндекс.Новости"},"story-page-title-sport":function(t){return t.text+": Яндекс.Спорт"}},{lang:"ru"}),BEM.I18N.decl("page-content__extra",{"related-stories":"ещё по теме"},{lang:"ru"}),BEM.I18N.decl("pager",{begin:"В начало",next:"Следующая",title:"Страницы"},{lang:"ru"}),BEM.I18N.decl("popup",{add:"Добавить",cancel:"Отмена",revert:"Вернуть",apply:"Применить"},{lang:"ru"}),BEM.I18N.decl("proffit",{label:"Реклама"},{lang:"ru"}),BEM.I18N.decl("search2",{"search-button-text":"Найти","search-input-label":"Запрос","search-service-label":"Поиск по сервису","search-web-label":"Поиск в интернете"},{lang:"ru"}),BEM.I18N.decl("settings",{close:"Закрыть","error-loading":"Ошибка загрузки настроек.","favorite-sources-description":"Добавьте издания, материалы которых вы хотите видеть в первую очередь:","favorite-sources-title":"Мои источники","ignore-sources-description":"Вы будете реже видеть материалы изданий из этого списка:","ignore-sources-title":"Нежелательные источники","langs-description":"Вы можете выбрать регион выпуска и язык новостных источников.","langs-title":"Язык новостей","need-auth-action":"Продолжить","need-auth-description":"Для доступа ко всем настройкам введите логин и пароль на Яндексе или зарегистрируйтесь.","personalization-description":"В первую очередь показывать в сюжете материалы изданий, которые я читаю чаще других.","personalization-title":"Персонализация",saved:"Сохранено"},{lang:"ru"}),BEM.I18N.decl("settings-star",{add:"Добавить","description-with-auth":"Нравится издание?<br/>Добавьте в список ваших<br/>источников","description-without-auth":"Нравится издание? Войдите в аккаунт, чтобы добавить его в ваши источники",enter:"Войти",later:"Закрыть",tooltip:"Нравится издание? Добавьте в список ваших источников"},{lang:"ru"}),BEM.I18N.decl("settings-tags",{add:"Добавить","add-source":"Добавить источник","error-duplicate-favorite":"Источник уже добавлен в мои источники.","error-duplicate-ignore":"Источник уже добавлен в нежелательные источники.","error-saving":"Ошибка сохранения источника.",more:function(t){return"Ещё "+t.count}},{lang:"ru"}),BEM.I18N.decl("share-dropdown",{facebook:"Facebook",gplus:"Google +",moimir:"Мой Мир",odnoklassniki:"Одноклассники",pinterest:"Pinterest",share:"Поделиться",twitter:"Twitter",vkontakte:"ВКонтакте"},{lang:"ru"}),BEM.I18N.decl("story",{"page-unavailable":"Не удалось отобразить сюжет","page-unavailable-text":"Вы можете поискать похожие сюжеты или почитать о других событиях.",details:"Подробнее о событии",favorites:"В моих источниках","about-generated":"Страница сформирована компьютерным алгоритмом с учётом ваших интересов",articles:"Статьи",docs:"Новости","docs-by":"Белорусские","docs-com":"Российские","docs-kz":"Казахстанские","docs-ru":"Российские","docs-ua":"Украинские","docs-world":"Русскоязычные",foreign_agency:"Иностранные",foreign_lang_docs:"Иноязычные",interviews:"Интервью","is-archive":function(t){return"Архивный сюжет ("+t.date+")"},links:"Другие ссылки","not-found":function(t){return"По запросу «"+t.searchQuery+"» в этом сюжете ничего не найдено. Попробуйте поискать «"+t.link+"» без ограничений запроса"},relevant:"Рекомендовано","story-more":"Показать ещё","story-total":function(t){return"Все источники — "+t.count},"story-total-link":function(t){return"Все новости в хронологическом порядке — "+t.count},"story__foreign-more":function(t){return"Есть ещё "+t.count+" "+this.keyset("i-tanker__dynamic").key("plural",{count:t.count,one:"сообщение",some:"сообщения",many:"сообщений"})+" "+t.lang+" языке."},"story__show-full":"Показать сюжет полностью",tails_view_full:"Свернуть все сообщения",tails_view_short:"Развернуть все сообщения"},{lang:"ru"}),BEM.I18N.decl("suggest2",{fact:"Факты",group:"Группа подсказок",nah:"Вы искали",nav:"Сайт",on_other_devices:"На других устройствах",text:"Поиск",traffic:"Пробки",weather:"Погода"},{lang:"ru"}),BEM.I18N.decl("suggest2-item",{"quick-answer":"Быстрый ответ"},{lang:"ru"}),BEM.I18N.decl("ticker__text",{notifications:"Уведомлений"},{lang:"ru"}),BEM.I18N.decl("tooltip_for_favorites",{already:function(t){return t.name+" уже находится в списке ваших источников"},description:"Редактировать список ваших источников можно в настройках",dismiss:"Понятно"},{lang:"ru"}),BEM.I18N.decl("user2",{"add-account":"Добавить аккаунт","edit-accounts":"Редактировать список",enter:"Войти",exit:"Выйти",help:"Помощь",mail:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"новое письмо",some:"новых письма",many:"новых писем",none:"Нет новых писем"})},mail_compose:"Написать письмо",passport:"Управление аккаунтом",settings:"Настройки",upload_files:"Мой диск",ya_plus:"Получить Плюс",ya_plus_on:"Плюс"},{lang:"ru"}),BEM.I18N.decl("warn",{"doc-copyright":function(t){return"Некоторые ссылки были удалены. "+t.more},"doc-mirrors":function(t){return"Некоторые ссылки отсутствуют в результатах поиска в силу требований законодательства РФ. "+t.more},"doc-oblivion":"Часть результатов поиска скрыта в соответствии с Федеральным законом от 13.07.2015 № 264-ФЗ","doc-rkn":"Часть информации была удалена согласно предписанию Роскомнадзора",more:"Подробнее"},{lang:"ru"}),BEM.I18N.decl("widget",{price:function(t){return'<span class="min">от '+t.from+'</span> <span class="max">до '+t.to+"</span>"}},{lang:"ru"}),BEM.I18N.decl("widget_for_rubrics-top",{exp_link:"Читать другие новости рубрики"},{lang:"ru"}),BEM.I18N.decl("yaplus",{be_plus:"Будьте в Плюсе",btn_left:"Не сейчас",btn_right:"Интересно",btn_right_enabled:"Подробнее",enable:"Включить",tooltip_descr:"Скидки в Такси, полный доступ к Музыке и многое другое",tooltip_descr_enabled:"Теперь у вас есть скидки в Такси, полный доступ к Музыке и многое другое",tooltip_header:"Подписка Яндекс.Плюс"},{lang:"ru"}),BEM.I18N.lang("ru"));