(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{48:function(e,t,n){e.exports=n.p+"images/unmiss-sound-button-muted-e74d67a0c85c3548f07d7564782a269c.svg"},56:function(e,t,n){e.exports=n.p+"images/vv-soundoff-2x-cada8dcd42784b4d172eb8b6bd28e9c3.png"},57:function(e,t,n){e.exports=n.p+"images/vv-soundon-2x-c5298244f1d7e90497f7eac6b33f56e2.png"},60:function(e,t,n){e.exports=n.p+"images/unmiss-close-button-dc13fd35130ef93fcd271ef2cd1f1739.svg"},61:function(e,t,n){e.exports=n.p+"images/unmiss-sound-button-unmuted-6218a79835f5e0b587f6da135b41b5da.svg"},62:function(e,t,n){e.exports=n.p+"images/in-art-close-icon-128x128-16481b937f87b244a645cdbef0d930f8.png"},63:function(e,t,n){e.exports=n.p+"images/in-art-soundon-icon-128x128-e5ac702b1980b321f96db67540a21dcf.png"},65:function(e){e.exports={231999:!0,237200:!0,237249:!0,237250:!0,237251:!0,237252:!0,237253:!0,237254:!0,237255:!0,237256:!0,237257:!0,237258:!0,237259:!0,237260:!0,237261:!0,247120:!0,247121:!0,247122:!0,247123:!0,247124:!0,247125:!0,247126:!0,247127:!0,247128:!0,247129:!0,247130:!0,247131:!0,247132:!0,247133:!0,247134:!0,247135:!0,247136:!0,247137:!0,247139:!0,247140:!0,247141:!0,247142:!0,247143:!0,247144:!0,247145:!0,247146:!0,247147:!0,247148:!0,247149:!0,247150:!0,247151:!0,248533:!0,248534:!0,248535:!0,248536:!0,248537:!0,248538:!0,248539:!0,248540:!0,248541:!0,248542:!0,248543:!0,248544:!0,248545:!0,248546:!0,248547:!0,248548:!0,248553:!0,248554:!0,248555:!0,248556:!0}},68:function(e,t,n){"use strict";n.r(t);var i={};n.r(i);n.d(i,"init",function(){return Gn});n.d(i,"log",function(){return Yn});var r=n(10),o=n(38),a=n.n(o),u=n(39),d=n.n(u),c=n(2),s=n.n(c),l=n(3),v=n(0),h=n(43),p=n(7),f=n.n(p),g=n(31),m=["onAdLoaded","onAdDismissed"];function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.a;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:m).reduce(function(t,n){var i=e(n);return i?Object.assign(t,f()({},n,i)):t},{})}var E=n(20),A=n(8),b=n(26),k=function(e){return new Promise(function(t){e.addEventListener("scroll",function n(){e.removeEventListener("scroll",n);t()})})},I=n(22),w=n(11),C={create:function(e){return Object(w.a)(e)}},x=n(9),P=n.n(x);function _(e){try{return e&&"object"===P()(e)?JSON.stringify(e):e}catch(e){}return e}var T=n(1),S=n(47),R=n.n(S),L=function(e){return e&&"VastError"===e.name},D=[[T.a.error.NO_ADS,function(e){return L(e)&&303===e.code}],[T.a.error.NO_COMPATIBLE_MEDIA_FILE_FOUND,function(e){return L(e)&&403===e.code}]];function O(e,t){return"AdError"===e?D.reduce(function(e,n){var i=R()(n,2),r=i[0];return(0,i[1])(t)?r:e},T.a.error.AD_ERROR):T.a.error.ERROR}var M=n(12),V=function(e){return"string"==typeof e},N=function(e){if(!e)return!1;var t=e.type,n=e.delivery,i=e.url;return"video/mp4"===t&&"progressive"===n&&V(i)},U=function(e){if(!e)return!1;var t=e.type,n=e.url;return"application/javascript"===t&&function(e){return"VPAID"===e.apiFramework}(e)&&V(n)},F=function(e,t){return e.bitrate>t.bitrate||void 0===e.bitrate?1:e.bitrate<t.bitrate||void 0===t.bitrate?-1:0},B=function(e){return e?e.filter(N).sort(F)[0]:void 0},H=function(e){return e?e.filter(U)[0]:void 0},W=function(e){if(!e)return 16/9;var t=parseInt(e.width,10),n=parseInt(e.height,10);return t&&n?t/n:16/9},z=n(15),j=n(14),K=n(41),Q=n.n(K),Z=n(40),J=n.n(Z),q=n(42),G=n.n(q),X=n(4),Y=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.b)();return e&&"string"==typeof e.disclosureMessage?e.disclosureMessage:"ADVERTISEMENT"},$=n(27),ee=n(25);function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.a,n=t.open(e,"_blank");n||((n=t.open("","_blank")).location.href=e);n&&(n.opener=null)}var ne=n(32),ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){return--t>=0&&e.apply(void 0,arguments)}};function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.e;e.addEventListener("player.pp_completed_view",ie(function(){t(T.a.COMPLETED_VIEW)}));e.addEventListener("player.ended",ie(function(){t(T.a.COMPLETE)}));e.addEventListener("player.playing",ie(function(){t(T.a.IMP);t(T.a.START)}));e.addEventListener("player.firstQuartile",ie(function(){t(T.a.FIRST_QUARTILE)}));e.addEventListener("player.midpoint",ie(function(){t(T.a.MIDPOINT)}));e.addEventListener("player.thirdQuartile",ie(function(){t(T.a.THIRD_QUARTILE)}));e.addEventListener("player.AdClickThru",function(){t(T.a.VIDEO_CLICK)})}var oe=function(){var e;return e={},f()(e,window.MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED,T.a.error.MEDIA_ERR_SRC_NOT_SUPPORTED),f()(e,window.MediaError.MEDIA_ERR_ABORTED,T.a.error.MEDIA_ERR_ABORTED),f()(e,window.MediaError.MEDIA_ERR_NETWORK,T.a.error.MEDIA_ERR_NETWORK),f()(e,window.MediaError.MEDIA_ERR_DECODE,T.a.error.MEDIA_ERR_DECODE),e};function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.a,n=!1,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe)();["timeupdate","firstQuartile","midpoint","thirdQuartile","ended","AdClickThru","readytoplay"].forEach(function(n){e.dispatcher.addEventListener(n,function(i,r){t.dispatchEvent({type:"player."+n,target:e},r)})});e.dispatcher.addEventListener("playing",function(){t.dispatchEvent({type:"player.playing",target:e});if(n){t.dispatchEvent({type:"player.resume",target:e});n=!1}});e.dispatcher.addEventListener("pause",function(){t.dispatchEvent({type:"player.pause",target:e});n=!0});e.dispatcher.addEventListener("error",function(n){var r=new l.a(n.message,n.errorType);r.src=n.mediaFileUrl;if(n.originalEvent&&n.originalEvent.target){n.originalEvent.target.error&&n.originalEvent.target.error.code&&(r.errorType=i[n.originalEvent.target.error.code]);if(n.originalEvent.target.src){r.message="Unable to play file "+n.originalEvent.target.src;r.src=n.originalEvent.target.src}}t.dispatchEvent({type:"player.error",target:e},[r])})}var ue=n(33),de=function(e){return e&&e.jquery?e[0]:e},ce=n(30),se=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.a;a()(this,e);this.viewabilityEventDispatcher=t;this.globalEventBus=n;this.playerHasStartedPlaying=!1}d()(e,[{key:"startTracking",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.c,t=this;this.viewabilityEventDispatcher.addEventListener("inview",function(){t.playerHasStartedPlaying&&e(T.a.INVIEW)});this.viewabilityEventDispatcher.addEventListener("outofview",function(){t.playerHasStartedPlaying&&e(T.a.OUTOFVIEW)});this.globalEventBus.addEventListener("player.playing",function(){t.playerHasStartedPlaying=!0});this.globalEventBus.addEventListener("player.ended",function(){t.playerHasStartedPlaying=!1})}}]);return e}(),le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;a()(this,e);this.dispatcher=new t(this);this.viewabilityTracker=new n(this.dispatcher);this.viewabilityTracker.startTracking()}d()(e,[{key:"onShow",value:function(){this.dispatcher.dispatchEvent("inview")}},{key:"onHide",value:function(){this.dispatcher.dispatchEvent("outofview")}}]);return e}();function ve(e,t,n){var i,r,o,a,u,d,c=function(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.pageYOffset,left:n.left+t.pageXOffset}}(e,n),s=n.pageYOffset,l=n.pageXOffset;if(!(o=n.document.documentElement,a=e,o!==a&&o.contains(a)))return!1;i={left:c.left,top:c.top,right:c.left+e.offsetWidth,bottom:c.top+e.offsetHeight};r={top:s,bottom:s+n.innerHeight,left:l,right:l+n.innerWidth};return(u=i,d=r,Math.max(0,Math.min(u.right,d.right)-Math.max(u.left,d.left))*Math.max(0,Math.min(u.bottom,d.bottom)-Math.max(u.top,d.top)))>=e.offsetWidth*e.offsetHeight*t}var he=function(e){G()(t,e);function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ve;a()(this,t);var u=null;(i=Q()(this,J()(t).call(this))).timerID=setInterval(function(){var t=o(n,e,r);u!==t&&((u=t)?i.onShow():i.onHide())},100);return i}d()(t,[{key:"destroy",value:function(){clearInterval(this.timerID)}}]);return t}(le),pe=function(e){G()(t,e);function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.a;a()(this,t);n=Q()(this,J()(t).call(this));var r=null,o=i().getAMPContext();n.removeIntersectionObserver=o.observeIntersection(function(t){var i=t[0].intersectionRatio>=e&&!o.hidden;r!==i&&((r=i)?n.onShow():n.onHide())});return n}d()(t,[{key:"destroy",value:function(){this.removeIntersectionObserver&&this.removeIntersectionObserver()}}]);return t}(le),fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.b,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pe;return t(window)?new i(e.viewablePercentage):new n(e.viewablePercentage,e.elementToWatch)};function ge(e,t,n){var i,r,o,a=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:fe)({elementToWatch:(arguments.length>4&&void 0!==arguments[4]?arguments[4]:de)(e.container),viewablePercentage:(i=t.viewablePercentage,r=.5,o=Number(i),isNaN(o)||o<0||o>1?r:o)}),u=function(){return e.pause.apply(e)},d=function(){return e.play.apply(e)};if("false"===t.playThrough||n()){e.dispatcher.one("ended",function(){a.dispatcher.removeEventListener("inview",d);a.dispatcher.removeEventListener("outofview",u)});a.dispatcher.addEventListener("inview",d);a.dispatcher.addEventListener("outofview",u)}else a.dispatcher.one("inview",d)}function me(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M.a.outOfViewPauseOverride,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I.a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ge;n.expandBeforePlayback?r.one("expanded",function(){o(e,t,i)}):e.dispatcher.one("readytoplay",function(){o(e,t,i)})}function ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:re,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ae,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:me;(arguments.length>6&&void 0!==arguments[6]?arguments[6]:ue.a).initWithPlayer(e);r(e);i();o(e,t,n)}var Ee=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.b;a()(this,e);this.domElement=document.createElement("img");i.reset(this.domElement);this.domElement.className="unruly_program_icon";i.setImportant(this.domElement,{width:t.width+"px",height:t.height+"px",position:"absolute",background:"transparent"});switch(t.xPosition){case"left":i.setImportant(this.domElement,{left:"0px"});break;case"right":i.setImportant(this.domElement,{right:"0px"});break;default:i.setImportant(this.domElement,{left:t.xPosition+"px"})}switch(t.yPosition){case"top":i.setImportant(this.domElement,{top:"0px"});break;case"bottom":i.setImportant(this.domElement,{bottom:"0px"});break;default:i.setImportant(this.domElement,{top:t.yPosition+"px"})}this.domElement.src=t.resource.url;this.domElement.addEventListener("click",function(e){e.preventDefault&&e.preventDefault();e.stopPropagation&&e.stopPropagation();n();return!1})}d()(e,[{key:"src",get:function(){return this.domElement.src}}]);return e}(),Ae=n(28);function be(e,t){e.setImportantStyle({position:"relative","padding-bottom":"".concat(1/t*100,"%"),height:0})}function ke(e){e.setImportantStyle({width:"100%",height:"100%",position:"absolute",top:0,left:0})}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=r.resetStyles,a=void 0===o?Ae.a.resetStyles:o,u=r.$,d=void 0===u?C.create:u,c=r.styles,s=void 0===c?ee.a:c,v=r.enable,h=void 0===v?M.a:v,p=r.layout,f=void 0===p?{initContainer:be,initElement:ke}:p,g=r.eventBus,m=void 0===g?I.a:g,y=d('<div class="unruly_in_article_placement">'),E=d('<div class="unruly_in_article_video_container">');a(y);a(E);f.initContainer(E,t);f.initElement(e);s.setImportantStyle(E,{"background-color":"transparent","margin-top":"1px"});y.mouseenter(function(){return m.dispatchEvent("inarticle.mouseenter")});y.mouseleave(function(){return m.dispatchEvent("inarticle.mouseleave")});var A={overflow:"hidden",position:"relative","max-height":"1px",opacity:1};h&&!h.expandBeforePlayback&&(A.transition="max-height 0.5s cubic-bezier(0.445, 0.05, 0.55, 0.95) 0.2s");if(n){if(!(i&&i[0]&&i[0].getBoundingClientRect))throw new l.a("basePlacement required in fullscreen mode");var b=Object.create(A),k=-i[0].getBoundingClientRect().left;b.width="100vw";b.height="100vh";b["z-index"]=1e3;b.left="".concat(k,"px");s.setImportantStyle(y,b)}else s.setImportantStyle(y,A);E.append(e);y.append(E);return{domElement:y,aspectRatioContainer:E,destroy:function(){s.remove(y)}}}function we(e,t){return new l.a("Method not implemented: ".concat(e),void 0,{args:t})}function Ce(e){return new Promise(function(t){["AdError","error","ended","AdStopped","adstoptimeout"].forEach(function(n){e.dispatcher.addEventListener(n,function(){t(n)})})})}var xe,Pe,_e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;a()(this,e);this.videoContainer=n.container;this.player=n;this.options=t}d()(e,[{key:"populate",value:function(e){this.attachEvents(e);this.render();this.renderLayers();this.renderIcons(e);this.load(e)}},{key:"attachEvents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce;(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ye)(this.player,e,this.getProps());!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne.a.shrinkAdServerIFrame;e.dispatcher.one("setupcomplete",function(){n();t.dispatchEvent("placement.addedtodom")})}(this.player);this.playerSubscription=n(this.player).then(function(e){return t.onAdFinishedPlaying(e)})}},{key:"load",value:function(e){this.player.load(e)}},{key:"renderIcons",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.openWindow,r=void 0===i?te:i,o=n.appendStyles,a=void 0===o?ee.a.append:o,u=n.trackThirdParty,d=void 0===u?A.e:u,c=n.ClickThroughIcon,s=void 0===c?Ee:c;if("true"===e.useVASTIcon){var l=e.icons["unruly-opt-out"];if(l){var v=new s(l,function(){t.player.pause();d(T.a.UNRULY_OPT_OUT_CLICK);r(l.clickThrough)});a(this.videoContainer[0],v.domElement)}}}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=this.getAspectRatio();this.inArticleContainer=e(this.videoContainer,t)}},{key:"renderLayers",value:function(){throw we("renderLayers")}},{key:"getAspectRatio",value:function(){throw we("getAspectRatio")}},{key:"onAdFinishedPlaying",value:function(e){throw we("onAdFinishedPlaying",[e])}},{key:"expand",value:function(){return Promise.reject(we("expand"))}},{key:"publishLifecycleEvent",value:function(e,t){return Promise.resolve(Object(l.b)(this.options[e])(t))}},{key:"mute",value:function(){this.player.mute()}},{key:"unmute",value:function(){this.player.unmute()}},{key:"getAdTypeName",value:function(){return"inArticle"}},{key:"getProps",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.a).expandBeforePlayback;return{expandBeforePlayback:void 0!==e&&e}}},{key:"getCollapseDetails",value:function(e){var t=Math.round(this.player.getDuration());return{collapseReason:e,elapsedTime:"ended"===e?t:this.player.getElapsedTime(),duration:t}}}]);return e}(),Te=(xe=Ae.a.resetStyles,Pe=C.create,function(){return xe(Pe.apply(void 0,arguments))}),Se={opacity:.5,margin:"0 18px","padding-top":"2px"},Re={"font-family":"sans-serif","font-size":"10px","text-align":"center","line-height":"21px"},Le="–– ADVERTISEMENT ––";function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te,i=n('<div class="unruly_ia_disclosure_text">');i.text(t);i.setImportantStyle(Re);var r=n('<div class="unruly_ia_disclosure">');r.append(i);r.setImportantStyle(Se);r.setImportantStyle(e);return r}var Oe={createImage:function(e,t){return new window.Image(e,t)}},Me=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I.a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:A.c,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Oe;a()(this,e);this.options=i;this.muted=!0;this.domElement=r('<img class="unruly_ia_volume"/>');this.domElement.attr("src",this.options.icons.initial);this.domElement.setImportantStyle(this.options.style);this.mouseLeaveListener=function(){return n.domElement.setImportantStyle({opacity:.25})};this.mouseEnterListener=function(){return n.domElement.setImportantStyle({opacity:1})};if(!0===i.shouldFadeInOnUserInteraction){o.addEventListener("inarticle.mouseenter",this.mouseEnterListener);o.addEventListener("inarticle.mouseleave",this.mouseLeaveListener)}this.domElement.click(function(e){n.toggleSound(t,u);n.muted=!n.muted;n.domElement.attr("src",n.chooseImageUrl());e&&e.stopPropagation()});this.preloadSoundOnImage(d)}d()(e,[{key:"toggleSound",value:function(e,t){if(this.muted){e.unmute();t(T.a.UNMUTE)}else{e.mute();t(T.a.MUTE)}}},{key:"preloadSoundOnImage",value:function(e){var t=e.createImage();t.onload=function(){};t.src=this.options.icons.muted;var n=e.createImage();n.onload=function(){};n.src=this.options.icons.unmuted}},{key:"chooseImageUrl",value:function(){return this.muted?this.options.icons.muted:this.options.icons.unmuted}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.a;e.removeEventListener("inarticle.mouseenter",this.mouseEnterListener);e.removeEventListener("inarticle.mouseleave",this.mouseLeaveListener);this.domElement.remove()}}]);return e}(),Ve=n(56),Ne=n.n(Ve),Ue=n(57),Fe=n.n(Ue),Be=function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me)(e,{icons:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{muted:Ne.a,unmuted:Fe.a,initial:Ne.a},style:{"z-index":100,position:"absolute",bottom:"16px",left:"16px",padding:0,width:"48px",height:"48px",cursor:"pointer",opacity:1,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"}})};var He={position:"absolute",top:0,left:0,right:0,color:"white","margin-top":"12px","font-family":"sans-serif","font-size":"9px","line-height":"normal","padding-top":"0px","text-shadow":"0 1px 2px rgba(0, 0, 0, .8)"},We=function(e){G()(t,e);function t(){a()(this,t);return Q()(this,J()(t).apply(this,arguments))}d()(t,[{key:"getAspectRatio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a;return e.screen.availWidth/e.screen.availHeight}},{key:"onAdFinishedPlaying",value:function(){(e=this.volumeButton)&&e.destroy&&e.destroy();var e}},{key:"expand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee.a.setImportantStyle,t=this.inArticleContainer;e(t.domElement,{"max-height":"100vh","margin-top":"16px",opacity:1,"background-color":"black"});e(t.aspectRatioContainer,{"margin-top":"0"});return Promise.resolve(!0)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createContainer,n=void 0===t?Ie:t,i=e.setImportantStyle,r=void 0===i?ee.a.setImportantStyle:i,o=e.aspectRatio,a=void 0===o?this.getAspectRatio():o;this.inArticleContainer=n(this.videoContainer,a,!0,this.options.basePlacement);r(this.videoContainer,{width:"100vw",height:"100vh"})}},{key:"renderLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.append,n=void 0===t?ee.a.append:t,i=e.createVerticalVideoVolumeButton,r=void 0===i?Be:i,o=e.createInArticleDisclosure,a=void 0===o?De:o,u=e.getDisclosureMessage,d=void 0===u?Y:u;this.disclosure=a(He,d());this.volumeButton=r(this.player);n(this.videoContainer,this.disclosure);n(this.inArticleContainer.domElement,this.volumeButton.domElement)}},{key:"getAdTypeName",value:function(){return"fullscreenVerticalVideo"}},{key:"getAdType",value:function(){return $.a.InArticle}}]);return t}(_e),ze=n(58),je=n.n(ze);function Ke(e){return"number"==typeof e&&e>0}var Qe={getForAd:function(e){var t=e.getPotentialVideoSize();return t&&"object"===P()(t)&&Ke(t.width)&&Ke(t.height)?t:null},getPercentageOfScreen:function(e,t){var n=e.width*e.height;return isNaN(n)?0:n*(t/100)},getWidthForArea:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.6;return Math.floor(Math.sqrt(e*t))}},Ze=n(60),Je=n.n(Ze),qe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te;a()(this,e);this.player=t;var r=i('<div class="unruly_ia_bottombar"></div>'),o=i('<div class="unruly_ia_progressbar"></div>');o.setImportantStyle({height:"2px",width:0,"background-color":"#0bbbef",transition:"all 0.1s linear",position:"relative"});r.append(o);this.progressBar=o;r.setImportantStyle({height:"20px"});n.forEach(function(e){return r.append(e)});this.domElement=r}d()(e,[{key:"populate",value:function(){var e=this;this.player.dispatcher.addEventListener("timeupdate",function(t,n){if(void 0!==n){var i=n.percentComplete;i<=100&&e.progressBar.setImportantStyle({width:"".concat(i,"%")})}})}}]);return e}();function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te)('<img class="unruly_ia_closebutton">');n.attr("src",e);n.setImportantStyle(t);return n}var Xe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te;a()(this,e);var r=i('<div class="unruly_ia_furniture"></div>');n.forEach(function(e){return r.append(e)});r.setImportantStyle(t);this.domElement=r},Ye=28,$e="ADVERTISEMENT";function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Te,r=De(e,t);r.css({display:"inline-block",position:"relative","min-width":"100px",height:"".concat(n,"px"),background:"currentColor","vertical-align":"top",margin:"0px 5px 0px 0px",opacity:1,"padding-left":"".concat(n/2,"px"),"padding-right":"".concat(n/4,"px"),"padding-top":"0px"});r.find(".unruly_ia_disclosure_text").css({color:"white","line-height":"".concat(n,"px")});var o=i('<div class="unruly_ia_pinned_disclosure_crescent"></div>');o.css({overflow:"hidden",height:"".concat(n,"px"),width:"".concat(n/2,"px"),position:"absolute",right:"-".concat(n/2,"px"),top:"0px"});r.append(o);var a=i("<div></div>");a.css({margin:"0px",color:"currentColor",width:"".concat(n,"px"),height:"".concat(n/2,"px"),position:"relative",top:"-".concat(n/4,"px"),left:"0px","border-radius":" 50%",border:" solid 0px transparent","box-shadow":" -33px 0 0 0 currentColor",padding:"".concat(n/2,"px")});o.append(a);return r}var tt=n(48),nt=n.n(tt),it=n(61),rt=n.n(it),ot=function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me)(e,{icons:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{unmuted:rt.a,muted:nt.a,initial:nt.a},style:{"z-index":100,padding:0,width:"28px",height:"28px",cursor:"pointer",opacity:1,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",background:"currentColor","border-radius":"50%",display:"inline-block","pointer-events":"auto"}})},at=function(e){G()(t,e);function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.a;a()(this,t);i=Q()(this,J()(t).call(this,e,n));if(r.isMobile()&&r.isLandscape())throw new l.a("Pinned In-Article not supported on landscape mobile orientation",T.a.error.UNSUPPORTED_BROWSER);return i}d()(t,[{key:"getProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.a;return s()({},je()(J()(t.prototype),"getProps",this).call(this,e),{expandBeforePlayback:!1})}},{key:"getAspectRatio",value:function(){return 16/9}},{key:"_getScreenResolution",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a).screen}},{key:"_getMinAdSpaceWidth",value:function(){return 200}},{key:"_getMaxAdSpaceWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a;return[450,Qe.getWidthForArea(Qe.getPercentageOfScreen(this._getScreenResolution(e),30))].filter(function(e){return e>0}).reduce(function(e,t){return Math.min(e,t)},Number.MAX_VALUE)}},{key:"_getAdSpaceWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a,t=this._getMinAdSpaceWidth(),n=this._getMaxAdSpaceWidth(),i=Qe.getWidthForArea(Qe.getPercentageOfScreen(this._getScreenResolution(e),8));if(i){if(i<=n&&i>=t)return"".concat(i,"px");if(i>n)return"".concat(n,"px")}return"".concat(n<t?n:t,"px")}},{key:"_cleanup",value:function(){this.volumeButton&&this.volumeButton.destroy()}},{key:"_collapse",value:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.a).setImportantStyle(this.inArticleContainer.domElement,{"max-height":0,"margin-top":0});this.options.onCollapseCallback&&this.options.onCollapseCallback(this.getCollapseDetails(e));setTimeout(this.inArticleContainer.destroy,5e3);this.publishLifecycleEvent("onAdDismissed")}},{key:"_collapseAndCleanupWhenInview",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:de;this._cleanup();var r=n({elementToWatch:i(this.player.container),viewablePercentage:.5});r.dispatcher.addEventListener("inview",function n(){t._collapse(e);r.dispatcher.removeEventListener("inview",n);r.destroy()})}},{key:"onAdFinishedPlaying",value:function(e){this._collapseAndCleanupWhenInview(e)}},{key:"_getFurnitureHeight",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.a).isMobile()?74:50}},{key:"expand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.a,t=this.inArticleContainer,n=Math.floor(t.domElement.width()/this.getAspectRatio()+this._getFurnitureHeight(e));t.domElement.setImportantStyle({"max-height":"".concat(n,"px"),opacity:1});this.bottomBar.populate();return Promise.resolve(!0)}},{key:"applyContainerStyles",value:function(){this.inArticleContainer.domElement.setImportantStyle({position:"fixed",bottom:"0.5em",right:"0.5em",width:this._getAdSpaceWidth(),"z-index":2147483647})}},{key:"setUpMobileOrientationEvent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.a;arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.c;t.isMobile()&&n.addEventListener("resize",function(){e.inArticleContainer.domElement.get(0).style.display=t.isLandscape()?"none":"block"})}},{key:"render",value:function(){je()(J()(t.prototype),"render",this).call(this);this.applyContainerStyles();this.setUpMobileOrientationEvent()}},{key:"_createCloseButton",value:function(){return Ge(Je.a,{height:"28px",width:"28px",margin:"0",cursor:"pointer",right:"-12px",display:"inline-block",position:"relative","z-index":"999",background:"currentColor","border-radius":"50%","pointer-events":"auto",left:"auto"})}},{key:"onCloseClicked",value:function(){this.player.skip()}},{key:"renderLayers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._createCloseButton,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ot,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Y,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xe,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:qe,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ee.a,d=t();d.click(function(t){t.stopPropagation();e.onCloseClicked()});this.volumeButton=i(this.player);this.topBar=new o({"text-align":"right",height:"28px","padding-left":"10px",position:"relative",color:"black","margin-bottom":"5px"},[d,n({},r()),this.volumeButton.domElement]);u.prepend(this.inArticleContainer.domElement,this.topBar.domElement);this.bottomBar=new a(this.player);this.bottomBar.domElement.setImportantStyle({height:"auto"});u.append(this.inArticleContainer.domElement,this.bottomBar.domElement)}},{key:"getAdTypeName",value:function(){return"pinned"}},{key:"getAdType",value:function(){return $.a.Unmissable}}]);return t}(_e);var ut=function(e){G()(t,e);function t(){a()(this,t);return Q()(this,J()(t).apply(this,arguments))}d()(t,[{key:"getAspectRatio",value:function(){return 9/16}},{key:"onAdFinishedPlaying",value:function(){(e=this.volumeButton)&&e.destroy&&e.destroy();var e}},{key:"expand",value:function(){var e=Math.floor(this.inArticleContainer.domElement.width()/this.getAspectRatio());this.inArticleContainer.domElement.setImportantStyle({"max-height":"".concat(e,"px"),"margin-top":"16px",opacity:1,"background-color":"black"});return Promise.resolve(!0)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;this.inArticleContainer=e(this.videoContainer,this.getAspectRatio(),!1,null)}},{key:"renderLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ee.a,r=t({position:"absolute",top:0,left:0,right:0,color:"white","margin-top":"12px","font-family":"sans-serif","font-size":"9px","line-height":"normal","padding-top":"0px","text-shadow":"0 1px 2px rgba(0, 0, 0, .8)"},n());i.append(this.videoContainer,r);this.volumeButton=e(this.player);i.append(this.videoContainer,this.volumeButton.domElement)}},{key:"getAdTypeName",value:function(){return"verticalVideo"}},{key:"getAdType",value:function(){return $.a.InArticle}}]);return t}(_e),dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(z.a)().getAMPContext();return new Promise(function(n,i){!function(e,t){if(!(e.screen&&e.screen.availWidth&&e.screen.availHeight))throw new Error("Cannot access window.screen");if(!(t&&t.requestResize&&t.onResizeDenied))throw new Error("AMP resize API not available")}(e,t);t.onResizeSuccess(function(){return n()});t.onResizeDenied(function(){return i(new Error("resize failed"))});t.requestResize(e.screen.availWidth,e.screen.availHeight);setTimeout(function(){return i(new Error("resize failed: timeout"))},100)})};function ct(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.FullscreenInArticleAdSpace,r=void 0===i?We:i,o=n.VerticalInArticleAdSpace,a=void 0===o?ut:o,u=n.PinnedInArticleAdSpace,d=void 0===u?at:u,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return Object(z.a)().isAMP},v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:dt;return new Promise(function(n,i){if(e===r||e===a){if(!(c.isMobile()||t.skipIOSCheck))return i(new l.a("Vertical Video not supported on desktop"));if(s()&&e===a)return v().then(function(){return n(e)}).catch(function(){return i(new l.a("Could not resize to vertical video on AMP"))})}else if(e===d&&!t.canRunUnmissable)return i(new l.a("Pinned is not supported on this website"));return n(e)})}var st=function(e){b.b.setImportant(e,{filter:"blur(4px)"});b.b.setImportant(e.parentElement,{overflow:"hidden"})},lt=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.b,r=i.createElement("div",e);i.setImportant(r,{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%","background-color":n,opacity:t,margin:0,padding:0,border:0,cursor:"pointer"});return r};function vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st,i=t(e,1,"#b7b7b7");i.setAttribute("id","unruly_postvideo_fallback_endslate");n(i);return i}function ht(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt)(e,.8,"#fff");t.setAttribute("id","unruly_postvideo_endslate");return t}var pt=n(62),ft=n.n(pt),gt=n(63),mt=n.n(gt);function yt(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me)(e,{icons:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{unmuted:mt.a,muted:nt.a,initial:nt.a},style:{"z-index":100,padding:0,width:"20px",height:"20px",cursor:"pointer",opacity:.25,float:"right","-webkit-tap-highlight-color":"rgba(0,0,0,0)",transition:"all 0.25s cubic-bezier(0.445, 0.05, 0.55, 0.95)",background:"black","border-radius":"50%",display:"inline-block"},shouldFadeInOnUserInteraction:!0})}var Et=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.isAMP,r=void 0===i?z.b:i,o=n.getContext,a=r((void 0===o?z.a:o)().window),u=Math.floor(e.domElement.width()/t+50),d={"max-height":"".concat(u,"px"),opacity:1};return a?s()({},d,{"margin-top":"0px",transition:"none"}):s()({},d,{"margin-top":"16px"})},At=function(e){G()(t,e);function t(){a()(this,t);return Q()(this,J()(t).apply(this,arguments))}d()(t,[{key:"getAspectRatio",value:function(){return 16/9}},{key:"_cleanup",value:function(){this.volumeButton&&this.volumeButton.destroy();this.bottomBar.progressBar&&this.bottomBar.progressBar.remove()}},{key:"_collapse",value:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.a).setImportantStyle(this.inArticleContainer.domElement,{"max-height":0,"margin-top":0});this.publishLifecycleEvent("onCollapseCallback",this.getCollapseDetails(e));setTimeout(this.inArticleContainer.destroy,5e3);this.publishLifecycleEvent("onAdDismissed")}},{key:"_cleanupButNotCollapse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.b.insertAfter,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.b.insertBefore,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:vt;this._cleanup();i(r(document),this.player.videoEl);var o=e(document);t(this.player.videoEl);n(this.player.videoEl,o)}},{key:"_collapseAndCleanupWhenInview",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:de;this._cleanup();var r=n({elementToWatch:i(this.player.container),viewablePercentage:.5});r.dispatcher.addEventListener("inview",function n(){t._collapse(e);r.dispatcher.removeEventListener("inview",n);r.destroy()})}},{key:"_shouldCollapseOnAdFinishedPlaying",value:function(e,t){return t.collapseOnComplete||"ended"!==e}},{key:"onAdFinishedPlaying",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.a;if(this._shouldCollapseOnAdFinishedPlaying(e,t))this._collapseAndCleanupWhenInview(e);else{this._cleanupButNotCollapse();this.hasAdEndedButNotCollapsed=!0}}},{key:"expand",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getExpandedStyle,t=void 0===e?Et:e,n=this.inArticleContainer,i=t(n,this.getAspectRatio());n.domElement.setImportantStyle(i);this.bottomBar.populate();return Promise.resolve(!0)}},{key:"_createCloseButton",value:function(){var e=Ge(ft.a,{height:"18px",width:"18px",float:"right",opacity:.25,transition:"all 0.25s cubic-bezier(0.445, 0.05, 0.55, 0.95)",margin:"2px 2px 1px 0",outline:"1px solid transparent","min-width":"0",cursor:"pointer",left:"auto",right:"auto"});!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.a;t.addEventListener("inarticle.mouseenter",function(){return e.setImportantStyle({opacity:"unset"})});t.addEventListener("inarticle.mouseleave",function(){return e.setImportantStyle({opacity:.25})})}(e);return e}},{key:"_createDisclosureButton",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;return De({},e()?"".concat("––"," ").concat(e()," ").concat("––"):"")}},{key:"onCloseClicked",value:function(){this.player.skip();this.hasAdEndedButNotCollapsed&&this.onAdFinishedPlaying("collapsedAfterEnded")}},{key:"renderLayers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._createCloseButton,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._createDisclosureButton,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yt,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xe,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qe,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ee.a;this.hasAdEndedButNotCollapsed=!1;var u=t();u.click(function(t){t.stopPropagation();e.onCloseClicked()});this.topBar=new r({height:"22px"},[u,n()]);a.prepend(this.inArticleContainer.domElement,this.topBar.domElement);this.volumeButton=i(this.player);this.bottomBar=new o(this.player,[this.volumeButton.domElement]);a.append(this.inArticleContainer.domElement,this.bottomBar.domElement)}},{key:"getAdTypeName",value:function(){return"horizontal"}},{key:"getAdType",value:function(){return $.a.InArticle}}]);return t}(_e);function bt(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.a).dispatchEvent({type:"player."+T.a.COMPLETED_VIEW,target:e})}function kt(e,t){var n=e.target;n.getCurrentTime()>=30&&t(n)}function It(e,t){t(e.target)}function wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kt,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:It,r={},o=ie(function(e){t(e);r.unsubscribe&&r.unsubscribe()}),a=function(e){return n(e,o)},u=function(e){return i(e,o)};e.addEventListener("player.timeupdate",a);e.addEventListener("player.ended",u);r.unsubscribe=function(){e.removeEventListener("player.timeupdate",a);e.removeEventListener("player.ended",u)}}var Ct={},xt=[T.a.FIRST_QUARTILE,T.a.MIDPOINT,T.a.THIRD_QUARTILE];function Pt(e,t,n){if(!Ct[e]){!function(e,t,n){-1!==xt.indexOf(e)&&n.dispatchEvent({type:"player."+e,target:t})}(e,t,n);Ct[e]=!0}}function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;e.addEventListener("player.timeupdate",function(e){var n=e.target;t(n)})}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.a,n=e.getDuration(),i=n/4,r=e.getCurrentTime();r>=i&&r<2*i?Pt(T.a.FIRST_QUARTILE,e,t):r>=2*i&&r<3*i?Pt(T.a.MIDPOINT,e,t):r>=3*i&&r<n&&Pt(T.a.THIRD_QUARTILE,e,t)}var St={ZENTRICK_JSVPAID:"zentrick_jsvpaid",ZENTRICK_MP4:"zentrick_mp4",values:function(){return[this.ZENTRICK_JSVPAID,this.ZENTRICK_MP4]}},Rt=function(e){var t,n=function(){t=!1};return function(){return t||(t=Promise.resolve(e()).then(n).catch(function(){n();throw Error("nonreenterant function has rejected")}))}};function Lt(e){return n.e(3).then(n.bind(null,67)).then(function(t){return new(0,t.default)(e)})}function Dt(e){return e.isSupportedMobileDevice()||e.isSupportedTablet()}function Ot(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.browser,r=void 0===i?j.a:i,o=n.createVideoAdapter,a=void 0===o?Lt:o,u=n.publisherWindow,d=void 0===u?v.a:u,c=n.nonreenterant,s=void 0===c?Rt:c,l=n.useMobileVideoAdaptor;if(!(void 0===l?Dt:l)(r))return Promise.resolve(t);var h=e.document.createElement("style");h.innerText="*::-webkit-media-controls-start-playback-button {display: none!important;-webkit-appearance: none;}";e.document.body.insertBefore(h,e.document.body.firstChild);return Promise.resolve().then(function(){return a({defaultMuted:!0,autoplay:!1,spriteEnabled:!1,videoSlot:t,audioSlot:new window.Audio,spriteSlot:e.document.createElement("div"),proxy:!0,nativeMutedEnabled:r.isSupportedAndroid(),seekingDurationOffset:100})}).then(function(e){return e.start().then(function(){!function(e,t,n,i){if(!e.armed){var r=i(e.update.bind(e)),o=t.supportsMobileAutoPlay()?"click":"touchstart";n.document.addEventListener(o,r);e.addEventListener("arm",function(){n.document.removeEventListener(o,r)})}}(e,r,d,s);return e})})}var Mt=Math.min,Vt=Math.max;var Nt=function(){function e(t,n){var i=this;a()(this,e);this.vpaidCreative=t;this.playerDispatcher=n;this.duration=0;this.backupDuration=0;var r=function(){var e=t.adRemainingTime&&t.adRemainingTime();i.recordInitialAdRemainingTime(e)};["AdRemainingTimeChange","AdStarted","AdVideoStart","vast:start"].forEach(function(e){return t.once(e,r)});var o=function(){i.adRemainingTimeTimeout=setTimeout(function(){0===i.getDuration()&&i.playerDispatcher.dispatchEvent("adremainingtime_timeout")},5e3);i.timeUpdateTimer||(i.timeUpdateTimer=setInterval(function(){var e={percentComplete:i.getPercentComplete()};i.playerDispatcher.dispatchEvent("timeupdate",e)},100))};t.once("AdVideoStart",o);t.once("vast:start",o);["AdStopped","AdError","error","vast:complete","vpaid:AdStopped"].forEach(function(e){return t.once(e,function(){i.clearTimeouts()})});t.on("AdDurationChange",this.updateInitialDuration.bind(this))}d()(e,[{key:"getDuration",value:function(){this.recordInitialDuration();return this.duration||this.backupDuration||0}},{key:"clearTimeouts",value:function(){clearInterval(this.adRemainingTimeTimeout);clearInterval(this.timeUpdateTimer)}},{key:"getCurrentTime",value:function(){var e=this.vpaidCreative.adRemainingTime&&this.vpaidCreative.adRemainingTime();if(e>=0){this.recordInitialAdRemainingTime(e);var t=this.getDuration();return Vt(0,Mt(t,t-e))}return 0}},{key:"recordInitialAdRemainingTime",value:function(e){!this.backupDuration&&e>=0&&(this.backupDuration=e)}},{key:"updateInitialDuration",value:function(){var e=this.vpaidCreative.adDuration&&this.vpaidCreative.adDuration();e>=0&&(this.duration=e)}},{key:"recordInitialDuration",value:function(){this.duration||this.updateInitialDuration()}},{key:"getPercentComplete",value:function(){var e=this.getDuration();return e?100*this.getCurrentTime()/e:0}}]);return e}(),Ut=n(45),Ft=function(e,t){var n=new(0,Ut.c.MediaFile);Object.assign(n,e);n.uri=e.url;if(300===e.width&&250===e.height){n.width=t.width();n.height=t.height()}return n},Bt=function(e){var t=e.mediaFile,n=e.campaignConfig,i=e.container,r=e.createExecutorMediaFile,o=void 0===r?Ft:r,a=Ut.c.VAST,u=Ut.c.InLine,d=Ut.c.Linear,c=Ut.c.Click,s=new a,l=new u,v=new d;v.mediaFiles.push(o(t,i));var h=new c;h.uri=n.clickThroughs.video.url;v.videoClicks.clickThrough=h;v.adParameters=n.adParameters;l.creatives.add(v);s.ads.add(l);return s};var Ht=function(e){var t=e.campaignConfig,n=e.videoSlot;return"true"===t.tag_dbm_ias_fix?{videoSlot:void 0,videoSlotCreationDisabled:!0}:{videoSlot:n,videoSlotCreationDisabled:!1}};function Wt(e){var t=e.campaignConfig,n=e.mediaFile,i=e.container,r=e.videoSlot,o=e.adUnitContainer;return Object(Ut.a)([Bt({mediaFile:n,campaignConfig:t,container:o})],function(e){var t=e.container,n=e.videoSlotConfig;return{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minBitrate:0,maxBitrate:1/0,videoSlotCanAutoPlay:!0,clickToResume:!0,autoDisposeDisabled:!0,pauseBeforeExecuteDisabled:!0,videoSlotCreationDisabled:n.videoSlotCreationDisabled,container:t,videoSlot:n.videoSlot,iframeProperties:{id:"unruly_vpaid_container"}}}({container:i,videoSlotConfig:Ht({campaignConfig:t,videoSlot:r})}))}function zt(e){return function(t){return t.map(function(t){return t.type===e?t.data:void 0})}}function jt(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).vastChain;e=void 0===e?[]:e;var t=R()(e,1)[0];return void 0===t?{}:t}var Kt=zt("VASTLoaderError");var Qt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}}(zt("message"),zt("vastError"),function(e){return e.map(function(e){return new h.b(e.code,void 0,e.message)}).map(function(t){var n=e.orElse({}).cause;n&&(t.data=n);return t}).map(function(t){return Kt(e).map(jt).map(function(e){return s()({},t,e)}).orElse(t)})});function Zt(e){var t=e.executor,n=e.width,i=e.height;return t.resize(n,i)}function Jt(e,t){Object(l.c)(e).map(function(e){var n,i,r=(n=function(e){try{return"string"==typeof e?JSON.parse(e):e}catch(e){}return e}(e))&&"object"===P()(n)?n:{},o=(i=r,Qt(Object(l.c)(i))).orElse(!1);o?t.dispatchEvent("AdError",o):t.dispatchEvent("AdLog",r)})}var qt=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n)},Gt={map:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addEventListener";qt(n,function(r){e[i](r,function(e){return t.dispatchEvent(n[r],e)})})}};function Xt(e){var t=e.executor,n=e.dispatcher,i=e.events;(void 0===i?Gt:i).map(t,n,{"vast:start":"playing","vast:firstQuartile":"firstQuartile","vast:midpoint":"midpoint","vast:thirdQuartile":"thirdQuartile","vast:complete":"ended","vast:error":"error","vpaid:AdError":"AdError","vpaid:AdStopped":"AdStopped",didCancel:"AdStopped",clickThrough:"AdClickThru"},"on")}var Yt=n(23),$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt.a.getState();e._sessionId=t.sessionId};function en(e){var t=e.mediaFile,n=e.campaignConfig,i=e.container,r=e.videoSlot,o=e.dispatcher,a=e.adUnitContainer,u=e.createZentrickExecutor,d=void 0===u?Wt:u,c=e.hookEventsBetweenDispatcherAndExecutor,s=void 0===c?Xt:c,l=e.resizeExecutorToAdUnitContainer,v=void 0===l?Zt:l,h=e.convertToErrorOrLog,p=void 0===h?Jt:h,f=e.retrofitWindowWithZentrickParameters;(void 0===f?$t:f)();var g=d({mediaFile:t,campaignConfig:n,container:i,videoSlot:r,adUnitContainer:a});s({executor:g,dispatcher:o});g.on("vast:start",function(){g.muted=!0;v({executor:g,width:a.width(),height:a.height()})});g.on("vpaid:AdLog",function(e){p(e,o)});return g}function tn(e,t,n){var i=n.createElement(e,t);n.reset(i);n.setImportant(i,{position:"absolute",width:"100%",height:"100%"});return i}var nn=function(e){return function(t){t.catchLocation=e;return Promise.reject(t)}},rn=function(){function e(t,n){var i=t.adParameters,r=t.clickThroughs,o=t.tag_dbm_ias_fix,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.a,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ce.a;a()(this,e);if(!n)throw new l.a("Element not provided");this.container=u(n);this.adParameters=i;this.clickthrough=r.video.url;this.muteOnPlay="true"===o||!(!window.parent||!window.parent.context);this.hasExecuted=!1;this.dispatcher=new d(this);this.videoAdapterUpdate=null}d()(e,[{key:"supports",value:function(){return{ownQuartileTimer:function(){return!0},ownCompletedViewTimer:function(){return!1},clickThrough:function(){return!1}}}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.b,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I.a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:en,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ot,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nt,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Dt;r.one("placement.addedtodom",function(){e.executor.load().then(function(){n.reset(v.a.document.getElementById("zentrickPlayer"));e.dispatcher.dispatchEvent("readytoplay");e.dispatcher.dispatchEvent("adimpression")},function(){})});this.videoEl=tn("video",document,n);this.videoEl=function(e){e.setAttribute("playsinline","true");e.muted=!0;return e}(this.videoEl);var c=tn("div",document,n);n.setImportant(c,{top:0,left:0,"z-index":0});n.setImportant(this.videoEl,{top:0,left:0,opacity:1});this.container.prepend(c);this.container.prepend(this.videoEl);a(v.a,this.videoEl).then(function(n){e.videoAdapter=n;d(i)&&(e.videoAdapterUpdate=Rt(function(){return e.videoAdapter.update()}));e.executor=o({mediaFile:e.mediaFile,campaignConfig:t,container:c,videoSlot:n,dispatcher:e.dispatcher,adUnitContainer:e.container});e.executor.on("willExecute",function(){e.mute()});e.timingHelper=new u((r=e.executor,{once:function(e,t){r.once(e,t)},on:function(e,t){r.on(e,t)},adRemainingTime:function(){return r.remainingTime},adDuration:function(){return r.duration}}),e.dispatcher);var r;e.dispatcher.dispatchEvent("setupcomplete")})}},{key:"play",value:function(){if(this.hasExecuted)return this.executor.resume().catch(nn("zentrickPlayer.play#resume"));this.hasExecuted=!0;this.muteOnPlay&&this.mute();return this.executor.execute().catch(function(){})}},{key:"pause",value:function(){return this.executor.pause().catch(nn("zentrickPlayer.pause"))}},{key:"paused",value:function(){return this.executor.paused}},{key:"skip",value:function(){this.executor.cancel().catch(nn("zentrickPlayer.skip"))}},{key:"mute",value:function(){this.executor.muted=!0;this.executor.volume=0}},{key:"unmute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt,i="string"==typeof this.videoAdapter.src&&this.videoAdapter.src.length>0;if(n(t)&&!this.videoAdapter.armed&&i)return this.videoAdapterUpdate().then(function(){if(e.videoAdapter.armed){e.executor.muted=!1;e.executor.volume=1}});this.executor.muted=!1;this.executor.volume=1;return Promise.resolve()}},{key:"getDuration",value:function(){return this.timingHelper?this.timingHelper.getDuration():0}},{key:"getCurrentTime",value:function(){return this.timingHelper?this.timingHelper.getCurrentTime():0}},{key:"getElapsedTime",value:function(){var e=this.getDuration()-this.getCurrentTime();return Math.round(e)}}]);return e}(),on=function(e){G()(t,e);function t(e,n,i){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ce.a,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:H;a()(this,t);(r=Q()(this,J()(t).call(this,e,n,o,u))).mediaFile=d(e.mediaFiles);return r}d()(t,[{key:"getPlayerType",value:function(){return St.ZENTRICK_JSVPAID}}]);return t}(rn),an=function(e){G()(t,e);function t(e,n,i){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ce.a,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:B;a()(this,t);(r=Q()(this,J()(t).call(this,e,n,o,u))).mediaFile=d(e.mediaFiles);return r}d()(t,[{key:"getPlayerType",value:function(){return St.ZENTRICK_MP4}}]);return t}(rn);function un(e,t,n){var i,r,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=a.ErrorType,d=void 0===u?l.a:u,c=a.ZentrickPlayers,s=void 0===c?{ZentrickPlayerJSVPAID:on,ZentrickPlayerMP4:an}:c,v=a.initialiseQuartileTimer,h=void 0===v?_t:v,p=a.completedViewTimerInitialiser,g=void 0===p?wt:p,m=a.trackActivate,y=void 0===m?A.c:m,E=(i={},f()(i,St.ZENTRICK_JSVPAID,s.ZentrickPlayerJSVPAID),f()(i,St.ZENTRICK_MP4,s.ZentrickPlayerMP4),i);St.values().forEach(function(e){o||n.supportsVideoPlayerType(e)&&(o=E[e])});if(!o)throw new d("No compatible media file found",T.a.error.NO_COMPATIBLE_MEDIA_FILE_FOUND,{mediaFiles:JSON.stringify(t.mediaFiles)});r=new o(t,e,n);y(T.a.COMPATIBLE_MEDIA_FILE,{player:r.getPlayerType(),mediaFile:JSON.stringify(r.mediaFile),mediaFiles:JSON.stringify(t.mediaFiles)});r.supports().ownQuartileTimer()||h();r.supports().ownCompletedViewTimer()||g();return r}var dn={LOOP:"loop",CLICK_THROUGH:"click_through",values:function(){return[this.LOOP,this.CLICK_THROUGH]}},cn=function(e){G()(t,e);function t(e,n,i){var r,o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=u.isMP4,c=void 0===d?N:d,s=u.isJavascriptVPAID,l=void 0===s?U:s;a()(this,t);(o=Q()(this,J()(t).call(this,e,n,i,{isMP4:c,isJavascriptVPAID:l}))).supportedPlayerFeatures=(r={},f()(r,dn.LOOP,!1),f()(r,dn.CLICK_THROUGH,!0),r);return o}d()(t,[{key:"adType",value:function(){return"inArticle"}},{key:"supportsVideoCoverSizing",value:function(){return!0}}]);return t}(function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.isMP4,u=void 0===o?N:o,d=r.isJavascriptVPAID,c=void 0===d?U:d;a()(this,e);this.supportedVideoPlayers={};this.supportedPlayerFeatures={};this.supportedVideoPlayers[St.HTML5]=!1;this.supportedVideoPlayers[St.ZENTRICK_JSVPAID]=t.mediaFiles.some(c);this.supportedVideoPlayers[St.ZENTRICK_MP4]=t.mediaFiles.some(u)}d()(e,[{key:"supportsVideoPlayerType",value:function(e){return!!this.supportedVideoPlayers[e]}},{key:"supportsVideoPlayerFeature",value:function(e){return!!this.supportedPlayerFeatures[e]}}]);return e}());function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:un,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cn,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Te,o=(arguments.length>5&&void 0!==arguments[5]?arguments[5]:ee.a).setImportantStyle;if(!e)throw new l.a("No campaignConfig provided");var a=r('<div class="unruly_in_article_video_content_container">'),u=new i(e,t.width,t.height);o(a,{"background-color":"transparent"});return n(a,e,u)}function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.HorizontalInArticleAdSpace,r=void 0===i?At:i,o=n.FullscreenInArticleAdSpace,a=void 0===o?We:o,u=n.VerticalInArticleAdSpace,d=void 0===u?ut:u,c=n.PinnedInArticleAdSpace,s=void 0===c?at:c,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h=v.setupPlayer,p=void 0===h?sn:h,f=v.getMediaFileAspectRatio,g=void 0===f?W:f,m=v.enable,y=void 0===m?M.a:m,E=v.validate,A=void 0===E?ct:E;if(!e)throw new l.a("No campaignConfig provided");var b=p(e,t.basePlacementSize),k=g(b.mediaFile);return A(function(e,t,n,i){var r=i.HorizontalInArticleAdSpace,o=i.FullscreenInArticleAdSpace,a=i.VerticalInArticleAdSpace,u=i.PinnedInArticleAdSpace;return n?t.fullscreenInArticleSupported?o:a:"true"===e.pinned?u:r}(e,y,k<1,{HorizontalInArticleAdSpace:r,FullscreenInArticleAdSpace:a,VerticalInArticleAdSpace:d,PinnedInArticleAdSpace:s}),y).then(function(n){var i=new n(t,b);i.populate(e);return i})}var vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContext,n=void 0===t?z.a:t,i=e.isAMP,r=void 0===i?z.b:i,o=e.publisherWindow;if(r(void 0===o?v.a:o)){var a=n().getAMPContext();a&&"function"==typeof a.renderStart&&a.renderStart()}},hn=16/9;function pn(e){var t=Math.floor(e.width());return{width:t,height:Math.floor(t/hn)}}function fn(e,t,n,i){var r=t.apid,o=t.cid,a=t.crid;return new l.a("In Article Error",i(n,e),Object.assign({apid:r,cid:o,crid:a},function(e){return e&&(e instanceof Error||e instanceof l.a||e instanceof h.b||e.message||e.data)}(e)?{message:_(e.message),data:_(e.data),vastURL:_(e.uri)}:{data:_(e)}))}function gn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;t.expandBeforePlayback?n.one("player.readytoplay",function(){return i(v.a).then(e)}):n.one("player.playing",e)}var mn=function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.c)("ia_collapsed",e)};function yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ln,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pn,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:y;return n(e,s()({},r(),{onCollapseCallback:mn,basePlacement:t,basePlacementSize:i(t)}))}function En(e,t,n,i){["AdError","error"].forEach(function(r){e.player.dispatcher.addEventListener(r,function(e,o){var a=fn(o,t,r,i);n(a)})})}function An(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.a,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:O;return new Promise(function(i,a){n.player.dispatcher.one("adimpression",function(){i(e)});En(n,t,function(e){a(e)},o);r()}).then(function(e){En(n,t,function(e){i("Error",e.errorType,e.errorParams)},o);return e})}var bn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.create;a()(this,e);this.placementConfig=t;this.basePlacementSelector=t.config.format.inArticle.basePlacement.selector;this.basePlacement=n(this.basePlacementSelector);if(1!==this.basePlacement.length)throw new l.a("Cannot find base placement: ".concat(this.basePlacementSelector),T.a.error.NO_MATCHING_PLACEMENT);this.adType="inArticle"}d()(e,[{key:"populate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.setUpExpansion,r=void 0===i?gn:i,o=n.createAdSpace,a=void 0===o?yn:o,u=n.subscribeToAdImpression,d=void 0===u?An:u,c=n.applyStylesUsingSelectors,s=void 0===c?b.a:c,l=n.trackActivate,v=void 0===l?A.c:l,h=n.eventBus,p=void 0===h?I.a:h,f=n.optionallyCallAMPRenderStart,g=void 0===f?vn:f;this.campaignConfig=e;return a(e,this.basePlacement).then(function(e){t.videoAdSpace=e;r(function(){return t.videoAdSpace.publishLifecycleEvent("onAdLoaded").then(function(){g();t.expand(v,p)})},e.getProps());return e}).then(function(e){e.inArticleContainer.domElement.get(0).setAttribute("data-unruly-ad-type",e.getAdTypeName());s(e.inArticleContainer.domElement.get(0),t.placementConfig.config.format.inArticle.styles);t.basePlacement.append(e.inArticleContainer.domElement);return e}).then(function(t){e.placement=t.getAdType();return t}).then(function(n){return d(t,e,n)})}},{key:"expand",value:function(e,t){this.videoAdSpace.expand();e("ia_expanded");t.dispatchEvent("expanded")}},{key:"getPlayerContainer",value:function(){return this.videoAdSpace.videoContainer}},{key:"getPotentialVideoSize",value:function(){return pn(this.basePlacement)}},{key:"getAdTypeName",value:function(){return this.videoAdSpace.getAdTypeName()}}]);return e}();function kn(e){if(e&&e.config&&e.config.format){var t=Object.keys(e.config.format);return t.length>0?t[0]:void 0}}function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.InArticleAd,i=void 0===n?bn:n,r=t.getFormatName,o=void 0===r?kn:r,a=t.UnrulyError,u=void 0===a?l.a:a,d=o(e);switch(d){case"inArticle":return new i(e);default:throw new u("Unrecognised ad format '".concat(d,"'"))}}var wn=n(21),Cn=n.n(wn),xn=n(17);function Pn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.a).document.createElement("a");t.href=e;return t.hostname}function _n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;return{site:{ref:e.context.referrer,page:e.context.canonicalUrl,domain:t(e.context.canonicalUrl)}}}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;return{site:{ref:e.document.referrer,page:e.location.href,domain:t(e.location.href)}}}var Sn=function(e,t){e(t);return t},Rn=n(5),Ln=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.reduce(function(e,t){return e.then(function(e){return Promise.resolve(t(e))})},Promise.resolve(e))}},Dn=function(e){return e instanceof Error};var On={impression:T.a.IMP},Mn=function(e){return On[e]||e};function Vn(e){var t={},n=["apid","skid","aid","crid","cid","vid","playThrough","bidder_name","demand_partner","demand_source","txid","deal_id","rtb_all_adomains","rtb_adid","rtb_crid","rtb_seatid"];if(!e)return{};e.getExtensions().forEach(function(e){e.getDetailsByPath("Property").forEach(function(e){-1!==n.indexOf(e["@id"])&&(t[e["@id"]]=e.nodeValue)})});return t}var Nn=n(29);function Un(e){return void 0===e||null===e||"number"==typeof e&&0!==e&&!e?[]:Array.isArray(e)?e:[e]}function Fn(e,t){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];e.getExtensions().forEach(function(e){var i=e.getDetailsByPath(t+"CustomTrackingEvents.CustomTracking");if(i){i.forEach(function(e){e.nodeValue=h.d.convertProtocol(e.nodeValue)});n=n.concat(i)}});return n.filter(function(e){return h.d.isNonEmptyString(e.nodeValue)})})(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"").forEach(function(t){var n=t["@event"];e.tracking[n]=function(e,t){e instanceof Array!=1&&(e=[]);return e.concat(t)}(e.tracking[n],t.nodeValue)})}function Bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nn.a.ensureProtocolPrefix,n=e.inline.VAST.Ad.InLine,i=n.AdTitle&&n.AdTitle.nodeValue||"",r={skid:null,apid:null,adParameters:void 0,items:{title:{text:i},description:{text:n.Description&&n.Description.nodeValue||""},disclosureMessage:{text:"Advertisement"},thumbnail:{attributes:{alt:i,title:i}}},clickThroughs:{title:{},thumbnail:{},disclosureMessage:{},expandedVideo:{},video:{}},tracking:{},sharing:{}};!function(e,t){var n=t.getNonLinearCreative();n&&(e.items.thumbnail.attributes.src=n.getStaticResource()||"")}(r,e);!function(e,t,n){var i=t.getLinearCreative();if(!i)throw new l.a("There was no linear creative in the VAST",T.a.error.NO_LINEAR_CREATIVE);e.mediaFiles=i.getMediaFiles().map(function(e){return function(e,t){var n=e.type,i=e.delivery,r=e.url,o=e.bitrate,a=e.width,u=e.height,d=e.apiFramework;return{type:n,delivery:i,url:t(r),bitrate:o,width:a,height:u,apiFramework:d}}(e,n)});var r=i.getClickThrough();e.clickThroughs.expandedVideo.url=r;e.clickThroughs.thumbnail.url=r;e.clickThroughs.title.url=r;e.clickThroughs.disclosureMessage.url=r;e.clickThroughs.video.url=r;e.adParameters=i.getAdParameters();e.icons=i.getIcons()}(r,e,t);!function(e,t){var n=t.inline.VAST.Ad.InLine;for(var i in T.a)e.tracking[T.a[i]]=[];e.tracking[T.a.IMP]=t.getImpressions();if(t.linearCreative){["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","rewind","resume","fullscreen","exitFullscreen","expand","collapse","acceptInvitationLinear","closeLinear","skip","progress"].forEach(function(n){var i=e.tracking[n]||[];e.tracking[n]=i.concat(t.linearCreative.getTrackingEvents(n))});var r=t.linearCreative.getAllClickTrackersAsMap(),o=Object.keys,a=function(e,t){return e.concat(r[t])},u=function(e){return o(r).filter((t=e,function(e){return e!==t})).reduce(a,[]);var t};e.tracking[T.a.VIDEO_CLICK]=u(T.a.POST_VIDEO_CLICK);e.tracking[T.a.POST_VIDEO_CLICK]=u(T.a.VIDEO_CLICK);var d=t.linearCreative.getIcons()["unruly-opt-out"];e.tracking[T.a.UNRULY_OPT_OUT_CLICK]=d?d.clickTracking:[]}Fn(e,t);t.wrappers.forEach(function(t){var n=t.VAST.Ad.Wrapper;(n.Creatives&&n.Creatives.Creative||[]).filter(function(e){return e.NonLinearAds&&e.NonLinearAds.NonLinear}).forEach(function(t){Un(t.NonLinearAds.NonLinear.NonLinearClickTracking).forEach(function(t){e.tracking[T.a.CLICK]=e.tracking[T.a.CLICK].concat(t.nodeValue)})});n.Extensions&&n.Extensions.Extension&&Un(n.Extensions.Extension).filter(function(e){return e.Property}).forEach(function(t){Un(t.Property).forEach(function(t){e[t["@id"]]=t.nodeValue})})});n.Extensions&&n.Extensions.Extension&&Un(n.Extensions.Extension).forEach(function(t){t.SharingUrl&&(e.sharing.sharingUrl=t.SharingUrl.nodeValue);t.DisclosureMessage&&(e.items.disclosureMessage.text=t.DisclosureMessage.nodeValue)})}(r,e);!function(e,t){var n=t.inline.VAST.Ad.InLine;Fn(e,t,"UnrulyCreative.");n.Extensions&&n.Extensions.Extension&&Un(n.Extensions.Extension).filter(function(e){return e.UnrulyCreative}).forEach(function(t){Un(t.UnrulyCreative.Property).forEach(function(t){e[t["@id"]]=t.nodeValue})})}(r,e);return r}var Hn=n(65),Wn=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hn)[e.apid]?s()({},e,{viewablePercentage:.75}):e},zn=n(18),jn=n(16);function Kn(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.a).ajax({url:e,data:t,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},contentType:"application/json; charset=UTF-8",mimeType:"application/json"})}var Qn=function(e){return JSON.stringify(e)},Zn={};function Jn(e){qn(e)}function qn(e){var t;for(t in e)e.hasOwnProperty(t)&&(Zn[t]=void 0!==e[t]?e[t]:"undefined")}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getGitHash,n=void 0===t?jn.c:t,i=e.getSessionId,r=void 0===i?jn.f:i,o=e.getSiteId,a=void 0===o?jn.g:o,u=e.getRefUrl,d=void 0===u?jn.e:u,c=e.getPageUrl,s=void 0===c?jn.d:c;qn({gitHash:n(),sessionId:r(),siteId:a(),referrer:d(),pageUrl:s()})}function Xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qn;qn({timings:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.a.getStopwatches)()});t(e,n(Zn))}function Yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{logContext:Jn,sendLog:Xn},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"https://targaryen.unrulymedia.com/error",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"https://targaryen.unrulymedia.com/success",o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];n.logContext(t);o&&(e?n.sendLog(i):n.sendLog(r))}var $n,ei=n(19);function ti(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nn.a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ei.a;return function(e){return e.getQueryParameterValue("unruly_override")}(i)||(t=o,(n=Object(X.b)(t))&&n.tagId?n.tagId:null)||function(e,t){var n=Object(X.b)(t);return n&&n.placements&&n.placements[e]&&n.placements[e].tagId?n.placements[e].tagId:null}(e,r)}var ni=($n={},f()($n,h.c.NO_ADS.code,T.a.error.NO_ADS),f()($n,h.c.GENERAL_WRAPPER_ERROR.code,T.a.error.NO_ADS),f()($n,h.c.VAST_SCHEMA_ERROR.code,T.a.error.AD_REQUEST_FAILED),f()($n,h.c.XML_PARSE_ERROR.code,T.a.error.AD_REQUEST_FAILED),f()($n,h.c.WRAPPER_URI_TIMEOUT.code,T.a.error.AD_REQUEST_FAILED),$n);function ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vn,n=ni[e.code]||T.a.error.ERROR,i=function(e,t){if(!e.vastResponse)return;var n=t(e.vastResponse);e.vastResponse.getLastVASTURL()&&(n.vastURL=e.vastResponse.getLastVASTURL());return Object.keys(n).length>0?n:void 0}(e,t);return new l.a(e.message,n,i)}var ri=n(6),oi=n(66);function ai(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.getVideoSizeForAd,o=void 0===r?Qe.getForAd:r,a=i.getSerialisedPlacementTypes,u=void 0===a?$.b:a,d=i.getGitHash,c=void 0===d?jn.c:d,l=i.getConsentParams,v=void 0===l?xn.d:l,h=i.env,p=void 0===h?{VAST_ENDPOINT:zn.f}:h,f=i.withSiteEnvironment,g=void 0===f?ri.a.withSiteEnvironment:f,m=o(t),y=Object.keys(m||{}).reduce(function(e,t){e["video_".concat(t)]=m[t];return e},{}),E=Object(oi.a)(s()({uuid:e.config.targetingUUID},n,v(),y,u(e.config),{"unr.site.env":g()()["unr.site.env"],h:c()}));return"//".concat(p.VAST_ENDPOINT,"?").concat(E)}function ui(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I.a,o={};t&&t.getRawResponses?o.raw=t.getRawResponses():o.raw="raw response not recorded";n.init(r);n.log(e,o)}function di(e,t,n,i,r){var o=e.config.vastURL||i(e,t,n);r.VAST_URL_OVERRIDE&&(o=window.top.__unrulyInArticleVASTURL||o);return{url:o,corsCookieDomainBlacklist:["cloud-video.unrulymedia.com","video.unrulymedia.com","test.corp.unrulymedia.com","test.video.unrulymedia.com"]}}function ci(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ti)(e.config.placementId);if(n){t.headers=t.headers||{};t.headers["X-Unruly-Override"]=n}return t}function si(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.a;if(t.__unrulyInArticleVASTBody){return s()({},e,{httpMethod:"POST",data:t.__unrulyInArticleVASTBody,contentType:"application/xml"})}return e}function li(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=r.vastErrorMapper,a=void 0===o?ii:o,u=r.logVASTResponse,d=void 0===u?ui:u,c=r.getVASTRequestConfig,s=void 0===c?di:c,l=r.applyOverrideHeaders,v=void 0===l?ci:l,h=r.applyPOSTOverrideIfNeeded,p=void 0===h?si:h,f=r.buildVASTUrl,g=void 0===f?ai:f,m=r.env,y=void 0===m?{VAST_URL_OVERRIDE:zn.g}:m;return Promise.resolve(s(e,t,n,g,y)).then(function(t){return v(e,t)}).then(function(e){return p(e)}).then(i.requestVastChain).catch(function(e){d(!0,e.vastResponse);throw a(e)}).then(function(e){d(!1,e);return e})}var vi=new h.a;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adManager,n=e.onRequestStart,i=void 0===n?r.a.start:n,o=e.onRequestEnd,a=void 0===o?r.a.stop:o,u=e.extractApidSkidFromVastResponse,d=void 0===u?Vn:u,c=e.trackActivate,l=void 0===c?A.c:c;t.addEventListener("requestStart",function(e){i("vast_"+e.requestNumber)});t.addEventListener("requestEnd",function(e){a("vast_"+e.requestNumber);l(T.a.prefixed.VAST_REQUEST_X+e.requestNumber,s()({},d(e.vastResponse),{vast_url:e.uri}))})}({adManager:vi});var hi=function(e){return function e(t){if("function"==typeof t)try{return e(t())}catch(e){return Promise.reject(e)}return!t||Dn(t)?Promise.reject(t):Promise.resolve(t)}(!!(e&&e.config&&e.config.targetingUUID)).catch(function(){throw{type:T.a.error.SKIN_SETUP_FAILED,message:"no targeting uuid in skin"}})},pi=function(e){return Promise.all([hi(e)])};function fi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.enrichParametersFromPlacement,r=void 0===i?A.a:i,o=n.trackActivate,a=void 0===o?A.c:o,u=n.getConsentParams,d=void 0===u?xn.d:u;a(T.a.ADCALL,r(s()({site:t.site},d()),e.config));return t}function gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.trackActivate,i=void 0===n?A.c:n,o=t.startStopWatch,a=void 0===o?r.a.start:o;i(T.a.CREATIVE_RECEIVED);a("ad_render");return e}function mi(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.b.getCustomTracking)();return Object.keys(t).map(function(e){return{eventName:Mn(e),customTrackingUrls:t[e]}}).reduce(function(e,t){var n,i=t.eventName,r=t.customTrackingUrls;(n={object:e.tracking,key:i}).object[n.key]||(n.object[n.key]=[]);e.tracking[i]=Cn()(e.tracking[i]).concat(Cn()(r));return e},e)}function yi(e){return Bn(e)}var Ei=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tn;return e(window)?t():n()}()};function Ai(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fi;return function(n){return t(e,n)}}function bi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:li,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vi;return function(r){return n(e,t,r,i)}}function ki(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.registerCampaignConfig,r=void 0===i?A.b:i,o=n.chain,a=void 0===o?Ln:o,u=n.createAdCallTracker,d=void 0===u?Ai:u,c=n.createVASTFetcher,s=void 0===c?bi:c,l=n.applyGroupMOverrides,v=void 0===l?Wn:l,h=n.supplyMode,p=void 0===h?Object(X.b)(Object(Rn.a)()).supplyMode:h;return a(e)(pi,Ei,"prebid"===p?function(e){return e}:d(e),s(e,t),yi,v,mi,function(e){return Sn(r,e)},gi)}var Ii=function(e){var t=e.campaignConfig,n=e.getGitHash,i=void 0===n?jn.c:n,o=e.stopwatch,a=void 0===o?r.a:o;return{sampleRate:.05,eventCategory:"terrax",dimensions:[i(),t.pid,t.bidder_name,t.rtb_crid,t.rtb_adid],vastLoadTime:a.getTime("vast_0")}},wi=function(e){var t=e.campaignConfig,n=e.initialiseZentrickDiagnostics,i=void 0===n?Ut.b:n,r=e.buildZentrickDiagnostics,o=void 0===r?Ii:r;t.vpaid_wrapped&&i(o({campaignConfig:t}))},Ci=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(e,t,n){return t.filter(function(t){return-1!==t.name.indexOf(e)}).map(function(e){return n.reduce(function(t,n){t[n]=e[n];return t},{name:e.name})})}(e,(n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).performance}(t))?n.getEntries():[],i)},xi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ei.a,n=["duration","connectStart","connectEnd","domainLookupStart","domainLookupEnd","requestStart","responseStart","responseEnd"];return e(zn.b,t,n).reduce(function(e,t,i){n.forEach(function(n){e["prebid_exchange_request_".concat(i,"_").concat(n)]=t[n]});return e},{})};function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.windowScope,i=void 0===n?Object(Rn.a)():n,o=t.stopwatch,a=void 0===o?r.a:o,u=t.trackThirdParty,d=void 0===u?A.e:u,c=t.getPublisherConfiguration,l=void 0===c?X.b:c,v=t.getPrebidRequestProperties,h=void 0===v?xi:v;a.stop("ad_render");var p="prebid"===(l(i)||{}).supplyMode?h():{},f=s()({},p,{adFormat:e});d(T.a.PP_IMP,f)}n.d(t,"populatePlacement",function(){return _i});function _i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.trackImpression,i=void 0===n?Pi:n,o=t.adFactory,a=void 0===o?In:o,u=t.getCampaignConfig,d=void 0===u?ki:u,c=t.stopwatch,s=void 0===c?r.a:c,l=t.initialiseDiagnostics,v=void 0===l?wi:l,h=t.eventBus,p=void 0===h?I.a:h,f=a(e);s.start("adAge");return Promise.resolve().then(function(){return d(e,f)}).then(function(e){v({campaignConfig:e});p.dispatchEvent("populateAd",f);return f.populate(e)}).then(function(e){var t=e&&e.getAdTypeName?e.getAdTypeName():"";i(t)})}}}]);
//# sourceMappingURL=https://s3-eu-west-1.amazonaws.com/unruly-sourcemaps/native/sourcemaps/chunks/chunk-populatePlacement-025ba39b7490bf360d61.js.map