(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1624:function(t,e,i){"use strict";i.r(e);var n=i(42),s=i.n(n),r=i(368),o=i.n(r),c=i(367),a=i.n(c),l=i(83),u=i.n(l),d=i(122),f=i.n(d),p=i(370),v=i.n(p),h=i(121),y=i(371),m=i(123),g=i.n(m),C=i(383),k=function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=v()(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&u()(e,i,o),o},_=function(t){function e(){s()(this,e);var i=o()(this,t.apply(this,arguments));return i.LuckyGiftService=C.c,i}return a()(e,t),e.prototype.clickTab=function(t){this.currentGiftId!==t&&this.LuckyGiftService.currentLuckyGiftsLottery.changeGift(t).then().catch()},g()(e,[{key:"currentGiftId",get:function(){return this.LuckyGiftService.currentLuckyGiftsLottery.currentLottery.giftId}},{key:"giftList",get:function(){return this.LuckyGiftService.currentLuckyGiftsLottery.giftList||[]}},{key:"giftListInfo",get:function(){var t=this;return this.giftList.map(function(e){return t.$store.getters["gift/getGiftById"](e)}).filter(function(t){return!!t})}},{key:"tabStyle",get:function(){var t=288;return 3===this.giftListInfo.length&&(t=192),{width:t+"px"}}}]),e}(h.default),w=_=k([Object(y.Component)({})],_),b=(i(851),i(369)),S=Object(b.a)(w,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gift-tab normal-tab-box"},[i("ul",{staticClass:"list p-relative"},t._l(t.giftListInfo,function(e){return e?i("li",{staticClass:"item dp-i-block p-relative pointer border-box v-top t-center",class:e.id===t.currentGiftId?"active":"normal",style:t.tabStyle,on:{click:function(i){i.stopPropagation(),t.clickTab(e.id)}}},[i("div",{staticClass:"bg p-absolute"}),i("div",{staticClass:"cntr p-relative"},[i("img",{staticClass:"pic v-middle",attrs:{src:e.giftImg.png}}),i("span",{staticClass:"gift-name v-middle"},[t._v(t._s(e.label))])])]):t._e()}))])},[],!1,null,null,null).exports,R=i(377),L=function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=v()(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&u()(e,i,o),o},G=function(t){function e(){s()(this,e);var i=o()(this,t.apply(this,arguments));return i.LuckyGiftService=C.c,i.isShowDetail=!1,i}return a()(e,t),e.prototype.formatTime=function(t){if(!t)return"--";var e=new Date(t),i=e.getHours(),n=e.getMinutes();return(i<10?"0"+i:i)+":"+(n<10?"0"+n:n)},e.prototype.hoverDetail=function(){this.isShowDetail=!0},e.prototype.leaveDetail=function(){this.isShowDetail=!1},e.prototype.clickSuperWinner=function(){this.$emit("clickRecord","big")},g()(e,[{key:"isShowError",get:function(){return this.lotteryInfo&&this.lotteryInfo.errorMsg}},{key:"isSuperAwardOpen",get:function(){return 2===this.lotteryInfo.status}},{key:"lotteryInfo",get:function(){return this.LuckyGiftService.currentLuckyGiftsLottery.currentLottery}},{key:"superAward",get:function(){return this.lotteryInfo.superAward||{startTime:0,endTime:0,nextStartTime:0,nextEndTime:0,status:0,cover:"",currentUserGoldSeed:null,currentMasterGoldSeed:null,nextUserGoldSeed:null,nextMasterGoldSeed:null,awardRecord:null}}},{key:"normalAward",get:function(){return this.lotteryInfo.normalAward||{}}},{key:"giftInfo",get:function(){return R.b.getGiftById(this.lotteryInfo.giftId)}},{key:"giftName",get:function(){return this.giftInfo.label}},{key:"lotteryTime",get:function(){var t=this.superAward,e=t.nextStartTime,i=void 0===e?0:e,n=t.nextEndTime,s=void 0===n?0:n;return{startTime:this.formatTime(i),endTime:this.formatTime(s)}}},{key:"lotteryTimeText",get:function(){var t=this.lotteryTime;return this.isSuperAwardOpen?"神佑时刻："+t.startTime+"-"+t.endTime:"神佑降临，敬祈照准！"}},{key:"giftList",get:function(){return this.LuckyGiftService.currentLuckyGiftsLottery.giftList||[]}},{key:"giftListInfo",get:function(){return this.giftList.map(function(t){return R.b.getGiftById(t)})}},{key:"awardsDetail",get:function(){var t=this.superAward,e=t.nextUserGoldSeed,i=t.nextMasterGoldSeed,n=t.currentUserGoldSeed,s=t.currentMasterGoldSeed;return{user:this.isSuperAwardOpen?e:n,master:this.isSuperAwardOpen?i:s}}}]),e}(h.default),x=G=L([Object(y.Component)({})],G),T=(i(849),Object(b.a)(x,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lottery-info border-box p-relative"},[i("div",{staticClass:"cntr"},[t.isShowError?i("div",{staticClass:"empty"},[i("div",{staticClass:"pic-22"}),i("p",[t._v("该道具还木有开启活动")])]):i("div",[i("p",{staticClass:"lottery-desc"},[t._v("使用"+t._s(t.giftName)+"祈愿，有机会得神佑/平安"+t._s(t.giftName)+"祝福。")]),i("div",{staticClass:"super-lottery-info border-box"},[i("p",{staticClass:"title"},[t._v("神佑"+t._s(t.giftName)+"祝福"),i("span",{staticClass:"time-info bg-cover t-center"},[t._v(t._s(t.lotteryTimeText))])]),i("div",{staticClass:"main p-relative",class:t.isSuperAwardOpen?"super-open":"super-not-open"},[t.isSuperAwardOpen?[i("div",{staticClass:"cover dp-i-block v-middle"},[i("img",{staticClass:"w-100 h-100",attrs:{src:t._f("bfsImgLink")(t.superAward.cover,180,180)}})]),i("div",{staticClass:"info dp-i-block v-middle"},[i("p",[t._v("神佑祝福已累积：")]),i("div",{staticClass:"awards pointer dp-i-block",on:{mouseenter:t.hoverDetail,mouseleave:t.leaveDetail}},[i("span",{staticClass:"svg-icon gold-seed v-middle"}),i("span",{staticClass:"awards-count v-middle"},[t._v(t._s(t.superAward.nextUserGoldSeed))]),i("span",{staticClass:"icon-deatil pointer v-middle"},[t._v("?")])])]),t.superAward.awardRecord?i("div",{staticClass:"super-winner",on:{click:t.clickSuperWinner}},[i("img",{staticClass:"face dp-i-block v-middle",attrs:{src:t._f("bfsImgLink")(t.superAward.awardRecord.face,40,40)}}),i("span",{staticClass:"uname v-middle"},[t._v(t._s(t.superAward.awardRecord.uname))]),i("span",{staticClass:"v-middle"},[t._v(" 成为神佑锦鲤，收获福气：")]),i("span",{staticClass:"svg-icon gold-seed"}),i("span",{staticClass:"v-middle"},[t._v(t._s(t._f("formatMoney")(t.superAward.awardRecord.goldSeed)))])]):t._e()]:[i("div",{staticClass:"cover dp-i-block v-middle"},[t.superAward.cover?i("img",{staticClass:"w-100 h-100",attrs:{src:t._f("bfsImgLink")(t.superAward.cover,180,180)}}):t._e()]),i("div",{staticClass:"info dp-i-block v-middle"},[i("div",{staticClass:"awards pointer dp-i-block",on:{mouseenter:t.hoverDetail,mouseleave:t.leaveDetail}},[i("span",{staticClass:"svg-icon gold-seed v-middle"}),i("span",{staticClass:"awards-count v-middle"},[t._v(t._s(t.superAward.currentUserGoldSeed))]),i("span",{staticClass:"icon-deatil pointer v-middle"},[t._v("?")])]),i("p",[t._v("神佑时刻："+t._s(t.giftName)+"祈愿有机会独享神佑祝福。")]),i("p",[t._v("下轮神佑："+t._s(t._f("formatMoney")(t.superAward.nextUserGoldSeed))+"金瓜子")])])],i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDetail,expression:"isShowDetail"}],staticClass:"award-detail p-absolute border-box",on:{mouseenter:t.hoverDetail,mouseleave:t.leaveDetail}},[i("div",{staticClass:"box-cntr"},[i("p",[t._v("神佑祝福将赐予神佑锦鲤"),i("span",{staticClass:"svg-icon gold-seed v-middle"}),t._v(t._s(t._f("formatMoney")(t.awardsDetail.user))),i("br"),t._v("锦鲤诞生地主播将获赐"),i("span",{staticClass:"svg-icon gold-seed v-middle"}),t._v(t._s(t._f("formatMoney")(t.awardsDetail.master)))])])])],2)]),i("div",{staticClass:"normal-lottery-info"},[i("p",{staticClass:"title"},[t._v("平安"+t._s(t.giftName)+"祝福")]),i("p",{staticClass:"info"},[t._v("每次"+t._s(t.giftName)+"祈愿，有机会得平安"+t._s(t.giftName)+"祝福（"+t._s(t._f("formatMoney")(t.normalAward.minGoldSeed))+"~"+t._s(t._f("formatMoney")(t.normalAward.maxGoldSeed))+"金瓜子）")])])])])])},[],!1,null,"1e639a9c",null).exports),I=i(14),A=i.n(I),O=i(8),j=i.n(O),P=function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=v()(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&u()(e,i,o),o},M=function(t,e,i,n){return new(i||(i=j.a))(function(s,r){function o(t){try{a(n.next(t))}catch(t){r(t)}}function c(t){try{a(n.throw(t))}catch(t){r(t)}}function a(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,c)}a((n=n.apply(t,e||[])).next())})},D=function(t){function e(){s()(this,e);var i=o()(this,t.apply(this,arguments));return i.LuckyGiftService=C.c,i.showIndex=0,i.intervalTid=null,i}return a()(e,t),e.prototype.OnWatchRecordsList=function(t,e){Array.isArray(t)&&t.length>0&&0===e.length&&this.play().then().catch()},e.prototype.next=function(){var t=this;return this.showIndex++,this.showIndex=this.showIndex>=this.recordsList.length?0:this.showIndex,new j.a(function(e,i){t.intervalTid=setTimeout(function(){e()},3e3)})},e.prototype.play=function(){return M(this,void 0,void 0,A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next();case 2:return t.next=4,this.play();case 4:case"end":return t.stop()}},t,this)}))},e.prototype.clickRecord=function(){this.$emit("clickRecord","normal")},e.prototype.clear=function(){clearTimeout(this.intervalTid),this.showIndex=0},e.prototype.destroyed=function(){this.clear()},e.prototype.mounted=function(){this.recordsList.length&&this.play().then().catch()},g()(e,[{key:"recordsList",get:function(){try{return this.LuckyGiftService.currentLuckyGiftsLottery.normalRecords}catch(t){return[]}}},{key:"style",get:function(){return{top:-40*this.showIndex+"px"}}}]),e}(h.default);P([Object(y.Watch)("recordsList")],D.prototype,"OnWatchRecordsList",null);var E=D=P([Object(y.Component)({})],D),$=(i(847),Object(b.a)(E,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scroll-records-list p-relative",on:{click:t.clickRecord}},[i("ul",{staticClass:"list p-absolute",style:t.style},t._l(t.recordsList,function(e){return i("li",{staticClass:"item"},[t._v("平安"+t._s(e.giftName)+"祝福了"),i("span",{staticClass:"uname"},[t._v(" "+t._s(e.uname))]),i("span",[t._v("：")]),i("span",{staticClass:"svg-icon gold-seed"}),i("span",{staticClass:"gold-seed-count"},[t._v(t._s(t._f("formatMoney")(e.goldSeed)))])])}))])},[],!1,null,"242b02ee",null).exports),N=i(376),W=i(392),H=function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=v()(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&u()(e,i,o),o},U=function(t,e,i,n){return new(i||(i=j.a))(function(s,r){function o(t){try{a(n.next(t))}catch(t){r(t)}}function c(t){try{a(n.throw(t))}catch(t){r(t)}}function a(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,c)}a((n=n.apply(t,e||[])).next())})},B=function(t){function e(){s()(this,e);var i=o()(this,t.apply(this,arguments));return i.LuckyGiftService=C.c,i.sendGiftCount=null,i.isContinueAnimation=!1,i}return a()(e,t),e.prototype.onWatchSendGiftCount=function(t){t>999999?this.sendGiftCount=999999:t<0&&(this.sendGiftCount=1)},e.prototype.quickLogin=function(){return new j.a(function(t,e){try{Object(N.quickLogin)(),t()}catch(t){e(t)}})},e.prototype.getGiftParam=function(){var t=this.giftInfo.id,e=this.sendGiftCount,i={giftID:t,count:e,roomID:R.b.getRoomId(),coinType:"gold"};if(e)return i;this.showTip({msg:"请输入正确的数量哟~",type:"caution"})},e.prototype.openBuyGoldSeed=function(){var t=this.giftTotalMoney;return this.ShowRechargeTip({type:"goldSeedStore",openFrom:"luckyGift",rechargeAmount:t,action:{type:"Gift",tipMsg:"赠送该礼物"}})},e.prototype.showTip=function(t){var e=t.msg,i=t.type,n=this.$refs.btnSend;this.linkMsg(n,e,i)},e.prototype.sendGift=function(){return U(this,void 0,void 0,A.a.mark(function t(){var e,i,n,s;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getGiftParam()){t.next=5;break}return i=this.$refs.btnSend,this.linkMsg(i,"请输入正确的数量~","caution"),t.abrupt("return");case 5:return t.next=7,Object(W.h)(e);case 7:(n=t.sent).error&&(s=n.errorMsg,200013===n.code?this.openBuyGoldSeed():this.showTip({msg:s,type:"caution"}));case 9:case"end":return t.stop()}},t,this)}))},e.prototype.validatekGiftCount=function(t){if(t)try{this.sendGiftCount=parseInt(t)}catch(t){return!1}},e.prototype.giftCountChange=function(t){return U(this,void 0,void 0,A.a.mark(function e(){var i;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t&&t.target.value,e.next=3,this.validatekGiftCount(i);case 3:case"end":return e.stop()}},e,this)}))},e.prototype.clickQuickCount=function(t){this.sendGiftCount=t},e.prototype.clickSend=function(){return U(this,void 0,void 0,A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.quickLogin();case 2:this.sendGift().then().catch();case 3:case"end":return t.stop()}},t,this)}))},g()(e,[{key:"lotteryInfo",get:function(){return this.LuckyGiftService.currentLuckyGiftsLottery.currentLottery}},{key:"giftInfo",get:function(){return R.b.getGiftById(this.lotteryInfo.giftId)}},{key:"giftConfigInfo",get:function(){var t=this.giftInfo.id;return this.$store.getters["gift/getGiftAssetsById"](t)}},{key:"countSet",get:function(){return this.giftConfigInfo&&this.giftConfigInfo.countSet||[]}},{key:"giftTotalMoney",get:function(){var t=(this.giftInfo||{}).goldPrice,e=void 0===t?null:t;if(e)return e*this.sendGiftCount}}]),e}(h.default);H([Object(y.Watch)("sendGiftCount")],B.prototype,"onWatchSendGiftCount",null);var V,q,z,J=B=H([Object(y.Component)({})],B),Q=(i(845),Object(b.a)(J,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"send-gift-box border-box"},[i("div",{staticClass:"cntr"},[i("div",{staticClass:"gift-info dp-i-block v-middle"},[i("span",{staticClass:"pic dp-i-block"},[i("img",{staticClass:"w-100 h-100",attrs:{src:t.giftInfo.giftImg.png}})]),i("div",{staticClass:"desc dp-i-block"},[i("p",{staticClass:"title t-over-hidden t-nowrap"},[i("span",{staticClass:"v-middle"},[t._v(t._s(t.giftInfo.label))]),i("span",{staticClass:"svg-icon gold-seed v-middle"}),i("span",{staticClass:"v-middle gold-seed-count"},[t._v(t._s(t._f("formatMoney")(t.giftInfo.goldPrice)))])]),i("p",{staticClass:"desc t-over-hidden t-nowrap"},[t._v(t._s(t.giftInfo.description))])])]),i("div",{staticClass:"quick-count-select dp-i-block v-middle"},[t._l(t.countSet,function(e){return i("span",{staticClass:"item pointer dp-i-block",class:{active:e===t.sendGiftCount},on:{click:function(i){i.stopPropagation(),t.clickQuickCount(e)}}},[t._v(t._s(e))])}),i("span",{staticClass:"item pointer dp-i-block"},[i("input",{directives:[{name:"model",rawName:"v-model.number.trim",value:t.sendGiftCount,expression:"sendGiftCount",modifiers:{number:!0,trim:!0}}],ref:"btnSend",staticClass:"ipt-count",attrs:{type:"number",placeholder:"自定义"},domProps:{value:t.sendGiftCount},on:{input:[function(e){e.target.composing||(t.sendGiftCount=t._n(e.target.value.trim()))},t.giftCountChange],blur:function(e){t.$forceUpdate()}}})])],2),i("div",{staticClass:"btn-send pointer dp-i-block v-middle",on:{click:t.clickSend}},[t._v("赠送")])])])},[],!1,null,"6397b5b1",null).exports),F=function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=v()(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&u()(e,i,o),o},K=function(t){function e(){s()(this,e);var i=o()(this,t.apply(this,arguments));return i.luckyGiftService=C.c,i}return a()(e,t),e.prototype.clickRecord=function(t){this.$emit("clickRecord",t)},g()(e,[{key:"currentLottery",get:function(){return this.luckyGiftService.currentLuckyGiftsLottery}}]),e}(h.default),X=K=F([Object(y.Component)({components:{TabVm:S,LotteryInfoVm:T,ScrollRecordsVm:$,SendGiftVm:Q}})],K),Y=(i(843),Object(b.a)(X,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lottery-panel"},[e("tab-vm"),e("div",{staticClass:"gift-detail"},[e("lottery-info-vm",{on:{clickRecord:this.clickRecord}})],1),e("div",{staticClass:"winning-list"},[e("scroll-records-vm",{on:{clickRecord:this.clickRecord}})],1),e("div",{staticClass:"gift-sender-controller"},[e("send-gift-vm")],1)],1)},[],!1,null,"52fdcde8",null).exports),Z=i(388),tt=i.n(Z),et=i(465),it=i(466),nt=function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=v()(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&u()(e,i,o),o},st=function(t,e,i,n){return new(i||(i=j.a))(function(s,r){function o(t){try{a(n.next(t))}catch(t){r(t)}}function c(t){try{a(n.throw(t))}catch(t){r(t)}}function a(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,c)}a((n=n.apply(t,e||[])).next())})},rt=((V={})[it.b.super]=["时间","祈愿","用户锦鲤","主播锦鲤"],V[it.b.normal]=["时间","祈愿","平安祝福","所在直播间"],V[it.b.own]=["时间","祈愿","平安/神佑祝福","所在直播间"],V),ot=["time","gift-info","user-info","master-info"],ct=function(t){function e(){s()(this,e);var i=o()(this,t.apply(this,arguments));return i.LuckyGiftService=C.c,i.tabs=et.RecordsListType,i.RecordsHeaderClass=ot,i.scrollTid=null,i.page=1,i.isEnd=!1,i.isLoading=!1,i.totalPage=1,i.isInit=!1,i}return a()(e,t),e.prototype.clickTab=function(t){t!==this.currentType&&(this.reset(),this.winnerRecords.changeRecordsType(t))},e.prototype.getMore=function(){return st(this,void 0,void 0,A.a.mark(function t(){var e,i;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.page+1,this.isLoading=!0,t.next=4,this.winnerRecords.getRecordsList(this.currentType,e);case 4:i=t.sent,this.totalPage=i,this.isLoading=!1,this.page=e,this.totalPage===this.page&&(this.isEnd=!0);case 9:case"end":return t.stop()}},t,this)}))},e.prototype.checkIsScrollToEnd=function(){var t=this.$refs.recordsList;if(t.scrollHeight-t.scrollTop-t.clientHeight<20)return!0},e.prototype.scrollList=function(){var t=this;this.isEnd||(this.scrollTid&&clearTimeout(this.scrollTid),this.scrollTid=setTimeout(function(){t.checkIsScrollToEnd()&&!t.isLoading&&t.getMore().then().catch()},50))},e.prototype.reset=function(){var t=this.$refs.recordsList;this.page=1,this.isEnd=!1,this.isLoading=!1,this.totalPage=1,this.isInit=!1,tt.a.update(t),t.scrollTop=0},e.prototype.mounted=function(){tt.a.initialize(this.$refs.recordsList)},e.prototype.beforeDestroy=function(){tt.a.destroy(this.$refs.recordsList)},g()(e,[{key:"isShowEmpty",get:function(){return 0===this.listData.length&&!!this.winnerRecords.currentRecordsList}},{key:"emptyText",get:function(){var t="";switch(this.currentType){case it.b.super:t="送出神佑";break;case it.b.normal:t="送出平安";break;case it.b.own:t="收到"}return"还没有"+t+"祝福哦，快去祈愿吧~"}},{key:"currentType",get:function(){return this.winnerRecords.currentRecordsType}},{key:"listData",get:function(){return this.winnerRecords&&this.winnerRecords.currentRecordsList||[]}},{key:"winnerRecords",get:function(){return this.LuckyGiftService.currentLuckyGiftsLottery.winningRecordsList}},{key:"currentHeader",get:function(){return rt[this.currentType]}}]),e}(h.default),at=ct=nt([Object(y.Component)({filters:{day:function(t){var e=new Date(t),i=e.getMonth()+1,n=e.getDate();return(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n)},time:function(t){var e=new Date(t),i=e.getHours(),n=e.getMinutes();return(i<10?"0"+i:i)+":"+(n<10?"0"+n:n)}}})],ct),lt=(i(841),Object(b.a)(at,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"winnig-records-panel p-relative"},[i("div",{staticClass:"cntr"},[i("div",{staticClass:"tab-box normal-tab-box"},[i("ul",{staticClass:"list"},t._l(t.tabs,function(e){return i("li",{staticClass:"item",class:e.type===t.currentType?"active":"normal",on:{click:function(i){i.stopPropagation(),t.clickTab(e.type)}}},[i("div",{staticClass:"bg p-absolute"}),i("div",{staticClass:"cntr p-relative"},[i("span",{staticClass:"v-middle"},[t._v(t._s(e.text))])])])}))]),i("div",{staticClass:"list-box normal-border-box p-relative"},[i("div",{staticClass:"box-cntr"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowEmpty,expression:"!isShowEmpty"}]},[i("div",{staticClass:"header m-auto"},t._l(t.currentHeader,function(e,n){return i("span",{staticClass:"item",class:t.RecordsHeaderClass[n]},[t._v(t._s(e))])})),i("div",{staticClass:"main m-auto"},[i("ul",{ref:"recordsList",staticClass:"list p-relative",on:{scroll:t.scrollList}},t._l(t.listData,function(e){return i("li",{staticClass:"item"},[i("span",{staticClass:"time v-middle"},[t._v(t._s(t._f("day")(e.lotteryTime))),i("br"),t._v(t._s(t._f("time")(e.lotteryTime)))]),i("span",{staticClass:"gift-info v-middle"},[e.isOwn?[t._v("主播获赐"),i("br"),t._v("神佑祝福")]:[i("img",{staticClass:"pic",attrs:{src:t._f("bfsImgLink")(e.giftPic,48,48)}}),i("p",[t._v("x"+t._s(e.giftCount))])]],2),i("span",{staticClass:"user-info v-middle"},["own"!==t.currentType?i("p",{staticClass:"uname t-over-hidden t-nowrap"},[t._v(" "+t._s(e.userInfo.uname))]):i("p",{staticClass:"t-center"},[t._v(t._s(1===e.type?"平安祝福":"神佑祝福"))]),i("span",{staticClass:"award-info"},[i("i",{staticClass:"svg-icon gold-seed"}),t._v(t._s(t._f("formatMoney")(e.isOwn?e.masterGoldSeed:e.userGoldSeed)))])]),i("span",{staticClass:"master-info v-middle"},[i("p",{staticClass:"uname t-over-hidden t-nowrap"},[t._v(t._s(e.isOwn?"本直播间":e.masterInfo.uname))]),"big"===t.currentType?i("span",{staticClass:"award-info"},[i("i",{staticClass:"svg-icon gold-seed"}),t._v(t._s(t._f("formatMoney")(e.masterGoldSeed)))]):t._e()])])}))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowEmpty,expression:"isShowEmpty"}],staticClass:"empty"},[i("div",{staticClass:"pic-22"}),i("p",[t._v(t._s(t.emptyText))])])])])])])},[],!1,null,"0edeb4b5",null).exports),ut=function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=v()(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&u()(e,i,o),o},dt=function(t){function e(){s()(this,e);var i=o()(this,t.apply(this,arguments));return i.LuckyGiftService=C.c,i}return a()(e,t),e.prototype.clickConfirm=function(){this.myAwardsNotice.next()},e.prototype.clickClose=function(){this.myAwardsNotice.next()},g()(e,[{key:"myAwardsNotice",get:function(){return this.LuckyGiftService.myAwardsNotice}},{key:"awardsInfo",get:function(){return this.myAwardsNotice.lotteryAwards||[]}},{key:"currentAward",get:function(){return this.awardsInfo[0]}},{key:"cheerText",get:function(){var t="";if(this.currentAward){var e=this.currentAward,i=e.giftName,n=e.startTime,s=e.endTime;this.currentAward.type===it.a.super?t="恭喜获得"+n+"-"+s+"神佑"+i+"祝福":this.currentAward.type===it.a.normal&&(t="恭喜获得平安"+i+"祝福")}return t}}]),e}(h.default),ft=dt=ut([Object(y.Component)({})],dt),pt=(i(839),Object(b.a)(ft,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lucky-gift-my-awards p-relative"},[t.awardsInfo.length>0?i("div",{staticClass:"cntr p-fixed"},[i("div",{staticClass:"close pointer",on:{click:t.clickClose}}),i("div",{staticClass:"title",class:2===t.currentAward.type?"super":"normal"}),i("div",{staticClass:"main"},[i("p",{staticClass:"cheer t-center"},[t._v(t._s(t.cheerText))]),i("div",{staticClass:"awards-info"},[i("span",{staticClass:"pic dp-i-block v-middle"},[i("img",{staticClass:"w-100 h-100",attrs:{src:t.currentAward.awardPic}})]),i("div",{staticClass:"dp-i-block v-middle"},[i("p",{staticClass:"awards-detail-box"},[i("span",{staticClass:"svg-icon gold-seed"}),t._v("+"+t._s(t._f("formatMoney")(t.currentAward.goldSeed)))]),i("p",{staticClass:"desc"},[t._v("敬祈照准")])])])]),i("div",{staticClass:"btn-box t-center"},[i("span",{staticClass:"btn",on:{click:t.clickConfirm}},[t._v("我知道了")])])]):t._e()])},[],!1,null,"05fdc838",null).exports),vt=function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=v()(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&u()(e,i,o),o},ht=function(t){function e(){return s()(this,e),o()(this,t.apply(this,arguments))}return a()(e,t),e.prototype.mounted=function(){tt.a.initialize(this.$refs.list)},e.prototype.beforeDestroy=function(){tt.a.destroy(this.$refs.list)},e}(h.default),yt=ht=vt([Object(y.Component)({})],ht),mt=(i(837),Object(b.a)(yt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"help-panel normal-border-box p-relative"},[e("div",{ref:"list",staticClass:"box-cntr p-relative"},[e("h2",{staticClass:"title t-center"},[this._v("祈愿说明")]),this._m(0)])])},[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dl",[i("dt",[t._v("敬祈照准")]),i("dd",[i("p",[t._v("观众老爷使用铃铛、御守祈愿，将有机会获得平安祝福和神佑祝福。")]),i("p",[t._v("每个铃铛/御守都寄托观众老爷的愿力，愿力越大，获得祝福的机会越大。")])]),i("dt",[t._v("平安祝福")]),i("dd",[i("p",[t._v("观众老爷每次使用铃铛、御守祈愿，都将有机会获得平安祝福。")]),i("p",[t._v("平安祝福将视祈愿愿力的大小，赐予观众老爷最高50.0万金瓜子的福气。")])]),i("dt",[t._v("神佑祝福")]),i("dd",[i("ol",[i("li",[i("em",[t._v("1.")]),t._v("观众老爷每次祈愿的愿力，还将累积神佑祝福的福值。")]),i("li",[i("em",[t._v("2.")]),t._v("每日0点、14点、18点、20点、22点，神佑时刻将会开启。")]),i("li",[i("em",[t._v("3.")]),t._v("神佑时刻开启后，每次祈愿都将有机会成为神佑锦鲤，获得神佑祝福。")]),i("li",[i("em",[t._v("4.")]),t._v("如果神佑时刻无人当选锦鲤，则神佑福值将继续累积。")]),i("li",[i("em",[t._v("5.")]),t._v("神佑祝福将赐予锦鲤最高5000.0万金瓜子的福气，以及 “锦鲤”头衔*3天。")]),i("li",[i("em",[t._v("6.")]),t._v("神佑锦鲤诞生的福地（直播间），主人也将获赐最高5000.0万金瓜子的福气，以及“锦鲤”头像框*3天。")])]),i("div",{staticClass:"awards"},[i("div",{staticClass:"award-item dp-i-block v-middle"},[i("span",{staticClass:"title bg-cover dp-i-block"}),i("p",[t._v("“锦鲤”头衔")])]),i("div",{staticClass:"award-item dp-i-block v-middle"},[i("span",{staticClass:"pendant bg-cover dp-i-block"}),i("p",[t._v("“锦鲤”头像框")])])])]),i("dt",[t._v("郑重声明")]),i("dd",[i("ol",[i("li",[i("em",[t._v("1.")]),t._v("敬祈照准玩法仅供娱乐。用户所获金瓜子不得兑换成现金或有价值商品，奖励的金瓜子仅可在哔哩哔哩直播平台消耗使用。")]),i("li",[i("em",[t._v("2.")]),t._v("请通过官方渠道参与本玩法，禁止一切线下交易，官方将对以盈利为目的的交易行为进行严厉打击。通过非正常渠道获得的奖励无效，用户需自行承担不利后果。")]),i("li",[i("em",[t._v("3.")]),t._v("任何利用系统的BUG、漏洞为自己或他人牟利，影响玩法公平性的操作，官方有权调查并视情节严重性采取对应措施，包括但不限于取消玩法资格、取消本次玩法奖励等。对于情节严重的，官方有权向违规用户索赔，并追究相应法律责任。")]),i("li",[i("em",[t._v("4.")]),t._v("本玩法最终解释权归哔哩哔哩直播所有。")])])])])}],!1,null,"1ab588f9",null).exports),gt=(i(835),function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=v()(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&u()(e,i,o),o});!function(t){t[t.lottery=0]="lottery",t[t.records=1]="records",t[t.help=2]="help"}(z||(z={}));var Ct=((q={})[z.lottery]=Y,q[z.records]=lt,q[z.help]=mt,q),kt=function(t){function e(){s()(this,e);var i=o()(this,t.apply(this,arguments));return i.SuperPopupService=C.d,i.luckyGiftService=C.c,i.currentPanelType=z.lottery,i}return a()(e,t),e.prototype.onWatchCurrentSuperPopupType=function(t,e){t&&t!==this.superPopupType&&this.clickClose()},e.prototype.clickClose=function(){this.luckyGiftService.closeLottery(),this.currentPanelType=z.lottery},e.prototype.clickRecords=function(t){this.currentLottery.openWinningRecords(t),this.currentPanelType=z.records},e.prototype.clickReturn=function(){this.currentPanelType=z.lottery},e.prototype.clickHelp=function(){this.currentPanelType=z.help},g()(e,[{key:"superPopupType",get:function(){return this.luckyGiftService.superPopupType}},{key:"currentSuperPopupType",get:function(){return this.SuperPopupService.currentSuperPopupType}},{key:"panelComponent",get:function(){return Ct[this.currentPanelType]}},{key:"currentLottery",get:function(){return this.luckyGiftService.currentLuckyGiftsLottery}},{key:"isShow",get:function(){return this.luckyGiftService.isShowPopup}},{key:"isShowReturen",get:function(){return this.currentPanelType!==z.lottery}},{key:"isShowRecordsIcon",get:function(){return this.currentPanelType===z.lottery}}]),e}(h.default);gt([Object(y.Watch)("currentSuperPopupType")],kt.prototype,"onWatchCurrentSuperPopupType",null);var _t=kt=gt([Object(y.Component)({components:{LotteryPanelVm:Y,RecordsPanelVm:lt,MyAwardsVm:pt}})],kt),wt=(i(833),Object(b.a)(_t,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isShow?i("div",{staticClass:"lucky-gift-popup p-fixed"},[i("div",{staticClass:"cntr"},[i("div",{staticClass:"tool-bar relative"},[t.isShowReturen?i("span",{staticClass:"item home",on:{click:t.clickReturn}},[t._v("< 返回")]):t._e(),t.isShowRecordsIcon?i("span",{staticClass:"item records",on:{click:function(e){t.clickRecords("own")}}}):t._e(),i("span",{staticClass:"item help",on:{click:t.clickHelp}}),i("span",{staticClass:"item close",on:{click:t.clickClose}})]),i("div",{staticClass:"content"},[i(t.panelComponent,{tag:"component",on:{clickRecord:t.clickRecords}})],1)])]):t._e(),i("my-awards-vm")],1)},[],!1,null,"c1b2e1fc",null).exports),bt=function(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=v()(e,i):n;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&u()(e,i,o),o},St=function(t){function e(){return s()(this,e),o()(this,t.apply(this,arguments))}return a()(e,t),e}(h.default),Rt=St=bt([Object(y.Component)({components:{LuckyGiftVm:wt}})],St),Lt=(i(831),Object(b.a)(Rt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("lucky-gift-vm")],1)},[],!1,null,"92138476",null));e.default=Lt.exports},487:function(t,e,i){},488:function(t,e,i){},489:function(t,e,i){},490:function(t,e,i){},491:function(t,e,i){},492:function(t,e,i){},493:function(t,e,i){},494:function(t,e,i){},495:function(t,e,i){},496:function(t,e,i){},831:function(t,e,i){"use strict";var n=i(487);i.n(n).a},833:function(t,e,i){"use strict";var n=i(488);i.n(n).a},835:function(t,e,i){},837:function(t,e,i){"use strict";var n=i(489);i.n(n).a},839:function(t,e,i){"use strict";var n=i(490);i.n(n).a},841:function(t,e,i){"use strict";var n=i(491);i.n(n).a},843:function(t,e,i){"use strict";var n=i(492);i.n(n).a},845:function(t,e,i){"use strict";var n=i(493);i.n(n).a},847:function(t,e,i){"use strict";var n=i(494);i.n(n).a},849:function(t,e,i){"use strict";var n=i(495);i.n(n).a},851:function(t,e,i){"use strict";var n=i(496);i.n(n).a}}]);