(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"013d":function(e,t,n){var i=n("1029"),s=n("d869"),o=function(e){o.superclass.constructor.call(this,e)};e.exports=Ext.extend(o,i.View,{name:"EmailValidationView",emailValidationSendBtnId:"send_email_btn",messageTextCls:"sent",stateDataAttribute:"data-state",validateFrom:"logout",sendValidationEmailRoute:"Setting/ResendValidationMail",_messageTextEl:null,_sendBtnEl:null,init:function(e){o.superclass.init.call(this,e),this.addEvents(s.EmailValidationView.EVENT_SEND_VALIDATION_MAIL_DONE,s.EmailValidationView.EVENT_SEND_VALIDATION_MAIL_FAIL),this._messageTextEl=this.element.select("."+this.messageTextCls).item(0)},getEmailValidationSendButton:function(){return this._setEmailValidationSendButton()},getSendValidationEmailUrl:function(){return i.getUrl(this.sendValidationEmailRoute,{},{triggeringEvent:this.validateFrom},"")},_setEmailValidationSendButton:function(){return i.isNull(this._sendBtnEl)&&(this._sendBtnEl=Ext.get(this.emailValidationSendBtnId)),this._sendBtnEl},_setValidationErrorMessage:function(e){this._messageTextEl.dom.innerHTML=e},_showValidationSuccessMessage:function(){this.element.dom.setAttribute(this.stateDataAttribute,s.EmailValidationView.STATE_DONE)},_showValidationErrorMessage:function(){this.element.dom.setAttribute(this.stateDataAttribute,s.EmailValidationView.STATE_FAILED)},onEmailValidationSendButtonClick:function(){this.model.fetch({url:this.getSendValidationEmailUrl(),success:i.bind(this._onSendValidationEmailSuccess,this),error:i.bind(this._onSendValidationEmailError,this)})},_onSendValidationEmailSuccess:function(){this.fireEvent(s.EmailValidationView.EVENT_SEND_VALIDATION_MAIL_DONE),this._showValidationSuccessMessage()},_onSendValidationEmailError:function(e){this.fireEvent(s.EmailValidationView.EVENT_SEND_VALIDATION_MAIL_FAIL),e&&e.json&&e.json.errors&&e.json.errors.general&&this._setValidationErrorMessage(e.json.errors.general),this._showValidationErrorMessage()},bind:function(){o.superclass.bind.call(this),i.on([{element:this.getEmailValidationSendButton(),event:"click",handler:this.onEmailValidationSendButtonClick}],this)}})},"0dc2":function(e,t,n){"use strict";n.r(t);n("06af");var i=n("a9a1"),s=n("1029"),o=n("1096"),l=n("d869"),a=n("0592").default,r=n("e794"),u=n("5f9e"),c=n("7ab0"),h=function e(t){e.superclass.constructor.call(this,t)};Ext.extend(h,o,{name:"UserMenuView",isBackgroundEnabled:!0,msgMenuCls:"menu_messages",getCreditsMenuCls:"menu_credits",msgTitleCls:"title",msgNewCls:"new_messages",smallCls:"small",showCls:"show",hideCls:"hide",disableCls:"disabled",extrasMenuCls:"menu_extras",freePeekCountId:"peek_count",logoutBlockId:"logout_confirmation",logoutConfirmButtonId:"logout_yes",logoutCancelButtonId:"logout_no",freeTeasersLogoutCls:"free_teasers",bonusCreditLogoutCls:"bonus_credit_logout",firstBillOpenCls:"firstbill_open",userMenuAvatarId:"user_menu_avatar",userAvatarClassPrefix:"user_menu_avatar_level_",init:function(e,t){this._logoutBlockEl=Ext.get(this.logoutBlockId),this._logoutConfirmBtnEl=Ext.get(this.logoutConfirmButtonId),this._logoutCancelBtnEl=Ext.get(this.logoutCancelButtonId),this._getCreditsMenuItemEl=this.element.select("."+this.getCreditsMenuCls),this._userMenuAvatarEl=document.getElementById(this.userMenuAvatarId),this._profileLevelId=this.getProfileLevelId(),this.refreshUserAvatar(),h.superclass.init.call(this,e,t)},getAction:function(e){return e.item.getAttribute(this.actionAttribute)},refreshNewMessagesCount:function(e){var t="",n=this.element.select("."+this.msgMenuCls).item(0),i=n.select("."+this.msgTitleCls).item(0);0===e?(n.removeClass(this.msgNewCls),t=s.translate("Messages")):(n.addClass(this.msgNewCls),t=r.getFormattedUnreadMessagesCount(e)+" ",t+=s.translate("New message"+(1===e?"":"s"))),i.dom.innerHTML=t},refreshUserAvatar:function(){this._profileLevelId&&(this._userMenuAvatarEl.className=this.userAvatarClassPrefix+this._profileLevelId)},refreshFreePeeksCount:function(e){var t=Ext.get(this.freePeekCountId),n=this.element.select("."+this.extrasMenuCls).item(0);t&&n&&(0===e?n.remove():t.dom.innerHTML=e)},resetStorage:function(){window.sessionStorage.removeItem("MessagesCenterDraft"),window.localStorage.removeItem("checkedFavorites"),window.localStorage.removeItem(l.PerformerHistoryComponent.STORAGE_MODELS_HISTORY)},onLogoutItemSelected:function(){this._logoutBlockEl.hasClass(this.freeTeasersLogoutCls)&&this.fireEvent(l.UserMenuView.EVENT_USERMENU_FREE_TEASER_LOGOUT_SELECTED)},onLogoutConfirmWindowConfirm:function(e){e.stopEvent(),this.closeSubMenu(),this.resetStorage(),u.request({method:"post",url:e.target.href,params:{session:c.getSessionId()},success:c.redirectToMainPage,error:c.redirectToMainPage,failure:c.redirectToMainPage})},onLogoutConfirmWindowCancel:function(e){e.stopEvent(),this.handleNotFreeTeaserLogout(),this.handleFirstBillLogout(e)},handleNotFreeTeaserLogout:function(){this._logoutBlockEl.hasClass(this.freeTeasersLogoutCls)||this.closeSubMenu()},handleFirstBillLogout:function(e){this._logoutCancelBtnEl.hasClass(this.firstBillOpenCls)&&(e.stopEvent(),a.navigate("payment",{trigger:!0,preventNavigateBack:!1}))},disableGetCreditsMenuItem:function(){this._getCreditsMenuItemEl.addClass(this.disableCls)},enableGetCreditsMenuItem:function(){this._getCreditsMenuItemEl.removeClass(this.disableCls)},getProfileLevelId:function(){var e=i.store.getState().elite.profile;if(e)return e.level.id},updateAvatar:function(){var e=this.getProfileLevelId();e!==this._profileLevelId&&(this._profileLevelId=e,this.refreshUserAvatar())},bind:function(){h.superclass.bind.call(this),s.on([{element:s.Broadcaster,event:l.UserMenuComponent.GLOBALEVENT_USER_MENU_LOGOUT_SELECTED,handler:this.onLogoutItemSelected},{element:this._logoutConfirmBtnEl,event:"click",handler:this.onLogoutConfirmWindowConfirm},{element:this._logoutCancelBtnEl,event:"click",handler:this.onLogoutConfirmWindowCancel}],this),i.store.subscribe(this.updateAvatar.bind(this))}}),t.default=h},1895:function(e,t,n){var i=n("245e"),s=n("c932"),o=n("3478");e.exports=function(e){return function(t,n,l){var a=Object(t);if(!s(t)){var r=i(n,3);t=o(t),n=function(e){return r(a[e],e,a)}}var u=e(t,n,l);return u>-1?a[r?t[u]:u]:void 0}}},"32dc":function(e,t,n){var i=n("1029"),s=n("d869"),o=n("dc88"),l=n("f8c0"),a=n("eb21"),r=n("0dc2").default,u=n("9bb2"),c=n("0592").default,h=n("e568"),d=n("ffe4").default,m=n("b584").default,E=n("a9a1").store,g=function(e,t){g.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(g,i.Component,{name:"UserMenuComponent",userMenuContainerId:"user_menu",userMenuButtonId:"user_menu_button",overlayContainerId:"overlay_container",overlayId:"overlay",languageBlockId:"language_block",languageListId:"language_list",logoutButtonId:"menu_logout",logoutBlockId:"logout_confirmation",emailValidationSendBtnId:"logout_no",_unsubscribe:i.noop,_eliteProfileStatus:"",init:function(e,t){this.getUserMenuController(),Ext.getBody().hasClass("new-listpage")||this.getScrollPane(),this.renderEliteHeader(),g.superclass.init.call(this,e,t)},renderEliteHeader:function(){this._eliteProfileStatus=this.getEliteProfileStatus(),"active"===this._eliteProfileStatus&&m.render()},setUserMenuController:function(){return this.UserMenuController instanceof o||(this.UserMenuController=new o({items:{view:{component:this.getUserMenuView(),listeners:{"dropdown-menu-item-click":"onDropDownMenuItemClick","dropdown-menu-visibility-change":"onDropDownMenuVisibilityChange","dropdown-menu-background-show":"onDropdownMenuBackgroundShow","dropdown-menu-background-hide":"onDropdownMenuBackgroundHide","usermenu-free-teaser-logout-selected":"onUserMenuFreeTeaserLogoutSelected"}},model:{component:this.getUserMenuModel(),listeners:{"usermenu-refresh-data-success":"onUsermenuRefreshDataSuccess"}}}}),this.UserMenuController.on({"messages-item-selected":this.onMessagesItemSelected,"account-item-selected":this.onAccountItemSelected,"credits-item-selected":this.onCreditsItemSelected,"dropdown-menu-visibility-change":this.onDropDownMenuVisibilityChange,"free-teaser-logout-selected":this.onFreeTeaserLogoutSelected,"logout-item-selected":this.onLogoutItemSelected,scope:this})),this.UserMenuController},setEmailValidationComponent:function(){return this._emailValidationCmp instanceof l||(this._emailValidationCmp=new l(this.logoutBlockId,{emailValidationSendBtnId:this.emailValidationSendBtnId})),this._emailValidationCmp},setScrollPane:function(){return this._scrollPane instanceof a||(this._scrollPane=new a(this.languageBlockId,{contentSel:"#"+this.languageListId,isSetHeight:!1,isAutoHide:!1,hideOnMouseout:!1,scrollDelta:5,isAnimateScrollBar:!1})),this._scrollPane},setUserMenuView:function(){return this._userMenuView instanceof r||(this._userMenuView=new r({element:this.element})),this._userMenuView},setUserMenuModel:function(){return this._userMenuModel instanceof u||(this._userMenuModel=new u({})),this._userMenuModel},getUserMenuController:function(){return this.setUserMenuController()},getUserMenuModel:function(){return this.setUserMenuModel()},getUserMenuView:function(){return this.setUserMenuView()},getScrollPane:function(){return this.setScrollPane()},onDropDownMenuVisibilityChange:function(e){e.isVisible?i.fireEvent(s.UserMenuComponent.GLOBALEVENT_USER_MENU_DROPDOWN_OPEN,{scope:this}):i.fireEvent(s.UserMenuComponent.GLOBALEVENT_USER_MENU_DROPDOWN_CLOSE,{scope:this})},onMessagesItemSelected:function(){c.navigate("messages",{trigger:!0,preventNavigateBack:!0})},onAccountItemSelected:function(){d.openModal("settings/account")},onCreditsItemSelected:function(){if(h.getIsPurchaseInProgress())return!1;c.navigate("payment",{trigger:!0,preventNavigateBack:!1,replace:!1})},onLogoutItemSelected:function(){i.fireEvent(s.UserMenuComponent.GLOBALEVENT_USER_MENU_LOGOUT_SELECTED)},onFreeTeaserLogoutSelected:function(){this.setEmailValidationComponent()},onPrivateTeaserLeft:function(e){this.UserMenuController.view.refreshFreePeeksCount(e.privateTeaserLeft)},disableGetCreditsMenuItem:function(){this.getUserMenuView().disableGetCreditsMenuItem()},enableGetCreditsMenuItem:function(){this.getUserMenuView().enableGetCreditsMenuItem()},onEliteProfileStatusChanged:function(e){"active"!==e?m.destroy():m.render()},getEliteProfileStatus:function(){return E.getState().elite.profile.status},onStoreChange:function(){var e=this.getEliteProfileStatus();this._eliteProfileStatus!==e&&(this._eliteProfileStatus=e,this.onEliteProfileStatusChanged(e))},bind:function(){i.on([{element:i.Broadcaster,event:s.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_TEASER_LEFT,handler:this.onPrivateTeaserLeft},{element:i.Broadcaster,event:s.QuickBuyComponent.SET_QUICKBUY_PURCHASE_STATUS_CHECKER_COMPONENT,handler:this.disableGetCreditsMenuItem},{element:i.Broadcaster,event:s.QuickBuyPurchaseStatusCheckerComponent.GLOBALEVENT_PURCHASE_SUCCESS,handler:this.enableGetCreditsMenuItem},{element:i.Broadcaster,event:s.QuickBuyPurchaseStatusCheckerComponent.GLOBALEVENT_PURCHASE_FAILED,handler:this.enableGetCreditsMenuItem}],this),this._unsubscribe=E.subscribe(this.onStoreChange.bind(this))},unbind:function(){g.superclass.unbind.call(this),"function"==typeof this._unsubscribe&&this._unsubscribe()},destroy:function(){g.superclass.destroy.call(this),this.UserMenuController&&(this.UserMenuController.destroy(!0),delete this.UserMenuController),m.destroy()}})},"55a1":function(e,t,n){e.exports={"progress-wrap":"_2WlzFk1OUK2m","elite-menu":"_2i6ahHyiymR3","elite-status":"_2gwETQhyEA2c",multiplier:"atm0r9cOcugK","multiplier-icon":"_23YvWRFYWY0m","color-white":"_3JYyrt8BBOu2",uppercase:"_2iZVrGAuvLTr","current-level":"_2tJV4m1yOeHx","next-level":"_2tls31hKZYJD","elite-bottom":"_3Zx-g_6IXcpZ",link:"_37RzZnhsL7XV","arrow-icon":"_2saCVIe4JLb0"}},"6a55":function(e,t,n){var i=n("1895")(n("9610"));e.exports=i},9409:function(e,t,n){var i=n("1029"),s=n("d869"),o=function(e){o.superclass.constructor.call(this,e)};e.exports=Ext.extend(o,i.Controller,{name:"EmailValidationController",init:function(e,t){this.addEvents(s.EmailValidationController.EVENT_SEND_VALIDATION_MAIL_DONE,s.EmailValidationController.EVENT_SEND_VALIDATION_MAIL_FAIL),o.superclass.init.call(this,e,t)},onSendValidationEmailSuccess:function(){this.fireEvent(s.EmailValidationController.EVENT_SEND_VALIDATION_MAIL_DONE,this)},onSendValidationEmailError:function(e){this.fireEvent(s.EmailValidationController.EVENT_SEND_VALIDATION_MAIL_FAIL,e)},bind:function(){o.superclass.bind.call(this),i.on([{element:this.view,event:s.EmailValidationView.EVENT_SEND_VALIDATION_MAIL_DONE,handler:this.onSendValidationEmailSuccess},{element:this.view,event:s.EmailValidationView.EVENT_SEND_VALIDATION_MAIL_FAIL,handler:this.onSendValidationEmailError}],this)}})},9610:function(e,t,n){var i=n("e7f3"),s=n("245e"),o=n("961a"),l=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:o(n);return r<0&&(r=l(a+r,0)),i(e,s(t,3),r)}},"961a":function(e,t,n){var i=n("b51d");e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},"9bb2":function(e,t,n){var i=n("1029"),s=n("d869"),o=n("7ab0"),l=n("5f9e"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,i.Model,{name:"UserMenuModel",secureDropDownMenuDataUrl:"Auth/GetDropdownMenuData",DropDownMenuDataUrl:"ListPageAjax/GetDropdownMenuData",init:function(){this.addEvents(s.UserMenuModel.EVENT_STATUS_CHANGE),a.superclass.init.call(this)},getDropDownMenuDataUrl:function(){return o.isSecurePage()?i.getUrl(this.secureDropDownMenuDataUrl,{},{},""):i.getUrl(this.DropDownMenuDataUrl,{},{},"")},getUserMenuRerfreshData:function(){l.request({url:this.getDropDownMenuDataUrl(),type:"json",method:"get",scope:this,success:this.userMenuRerfreshDataSuccess,error:function(e){console.error(e)}})},userMenuRerfreshDataSuccess:function(e){this.fireEvent(s.UserMenuModel.EVENT_USERMENU_REFRESH_DATA_SUCCESS,{response:e,scope:this})}})},b51d:function(e,t,n){var i=n("b9e2"),s=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=i(e))===s||e===-s?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},b584:function(e,t,n){"use strict";n.r(t);var i=n("8af1"),s=n.n(i),o=n("63f1"),l=n.n(o),a=n("0a81"),r=n("a9a1"),u=n("6a55"),c=n.n(u),h=n("089a"),d=n("8a2d"),m=n.n(d),E=n("b912"),g=n.n(E),f=n("55a1"),_=n.n(f),p=n("d8e5"),S=n("e3ff"),v=n.n(S),M=function(e){var t=e.percent;return s.a.createElement("div",{className:v.a.progress},s.a.createElement("div",{className:v.a["progress-bar"],style:{width:t+"%"}}))};M.defaultProps={percent:0},M.propTypes={percent:m.a.number};var C=M,V=n("691a"),T=n("e6c0"),L=function(e){return s.a.createElement("div",{className:_.a["elite-menu"]},s.a.createElement("div",{className:_.a["progress-wrap"]},s.a.createElement(V.a,{name:e.data.maskForCurrentLevel}),s.a.createElement(C,{percent:e.data.progressBar}),s.a.createElement(V.a,{name:e.data.maskForNextLevel})),s.a.createElement("div",{className:_.a["elite-status"]},s.a.createElement("div",{className:_.a["current-level"]},s.a.createElement("p",{className:_.a["color-white"]},e.data.currentLevelName),s.a.createElement("p",{className:_.a.multiplier},e.data.currentMultiplier?s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,{className:_.a["multiplier-icon"],icon:"close"})," ",e.data.currentMultiplier):null)),s.a.createElement("div",{className:g()(_.a["next-level"],_.a["color-white"]),dangerouslySetInnerHTML:{__html:e.data.nextLevelDescription}})),s.a.createElement("div",{className:_.a["elite-bottom"]},s.a.createElement("a",{className:_.a.link,href:Object(p.a)("DhJasmin\\Portal\\Loyalty\\Presentation\\Controller\\Index/Index")},"Jasmin Elite ",s.a.createElement(T.a,{className:_.a["arrow-icon"],icon:"angle-right"}))))};L.propTypes={data:m.a.shape({maskForCurrentLevel:m.a.string,maskForNextLevel:m.a.string,currentLevelName:m.a.string,currentMultiplier:m.a.string,nextLevelName:m.a.string,progressBar:m.a.number.isRequired,nextLevelDescription:m.a.string})};var I=L,D=n("0e57");n("1029");function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e,t){if(null===e||0===t.length)return null;var n={},i=e.level,s=e.level_points,o=i.id,l=o+1,a=c()(t,{id:l}),r=void 0===a;return 0!==o&&(n.currentLevelName=i.name,n.currentMultiplier=i.multiplier.toFixed(2),n.maskForCurrentLevel=i.name.toLowerCase()),r?(a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){N(e,t,n[t])})}return e}({},i),n.pointsLeft=s.toFixed(2),n.nextLevelDescription=Object(h.a)("{remainingPoints} <small>pts</small>",{remainingPoints:n.pointsLeft})):(n.pointsLeft=(a.threshold-s).toFixed(2),n.maskForNextLevel=a.name.toLowerCase(),n.nextLevelDescription=Object(h.a)("{remainingPoints} <small>pts</small><span> to {levelName}</span>",{remainingPoints:n.pointsLeft,levelName:a.name})),n.progressBar=0===s?0:100*Math.min(s/a.threshold,1),n},b=Object(a.b)(function(e){return{profile:e.elite.profile,levels:e.elite.levels}})(function(e){var t=w(e.profile,e.levels);return t?s.a.createElement(I,{data:t}):s.a.createElement(D.a,null)}),A="dropdown_elite_program_enabled";t.default={render:function(){var e;null!==(e=document.getElementById("user_menu"))&&e.classList.add(A),l.a.render(s.a.createElement(a.a,{store:r.store},s.a.createElement(b,null)),document.querySelector(".menu_elite"))},destroy:function(){var e;null!==(e=document.getElementById("user_menu"))&&e.classList.remove(A),l.a.unmountComponentAtNode(document.querySelector(".menu_elite"))}}},dc88:function(e,t,n){var i=n("1029"),s=n("d869"),o=n("b2b8"),l=n("7ab0"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,o,{name:"UserMenuController",init:function(e,t){this.addEvents(s.UserMenuController.EVENT_DROPDOWN_MENU_ITEM_CLICK,s.UserMenuController.EVENT_ACCOUNT_ITEM_SELECTED,s.UserMenuController.EVENT_CREDITS_ITEM_SELECTED,s.UserMenuController.EVENT_LOGOUT_ITEM_SELECTED),a.superclass.init.call(this,e,t)},onDropDownMenuVisibilityChange:function(e){a.superclass.onDropDownMenuVisibilityChange.call(this,e),e.isVisible&&this.model.getUserMenuRerfreshData()},onUsermenuRefreshDataSuccess:function(e){this.view.refreshNewMessagesCount(e.response.json.data.unseenMessagesCount),this.view.refreshFreePeeksCount(e.response.json.data.availabeFreePeeks)},onDropDownMenuItemClick:function(e){switch(this.view.getAction(e)){case"messages":l.isStaticPage()||l.isCurrentPage(s.PageId.MESSAGESCENTER_INDEX)||l.isCurrentPage(s.PageId.MESSAGESCENTER_DIRECT_MESSAGE)||l.isCurrentPage(s.PageId.CHAT_PERFORMER)||l.isCurrentPage(s.PageId.FIRSTBILL_STANDALONE_INDEX)?window.location.href=i.getUrl("MessagesCenter/Index"):this.fireEvent(s.UserMenuController.EVENT_MESSAGES_ITEM_SELECTED);break;case"account":if(l.isCurrentPage(s.PageId.SETTING_SECTION)){window.location.href=i.getUrl("Setting/Section",{section:"account"});break}this.fireEvent(s.UserMenuController.EVENT_ACCOUNT_ITEM_SELECTED);break;case"credits":this.fireEvent(s.UserMenuController.EVENT_CREDITS_ITEM_SELECTED);break;case"logout":this.fireEvent(s.UserMenuController.EVENT_LOGOUT_ITEM_SELECTED);break;default:console.error("There is no action for clicked User menu item.")}},onUserMenuFreeTeaserLogoutSelected:function(){this.fireEvent(s.UserMenuController.EVENT_FREE_TEASER_LOGOUT_SELECTED)}})},e3ff:function(e,t,n){e.exports={bg:"_3IxUlWcZ_NJF",progress:"hmzy1V67P09K","progress-bar":"_3B-hJR1rnw5Y"}},e7f3:function(e,t){e.exports=function(e,t,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(t(e[o],o,e))return o;return-1}},eb21:function(e,t,n){var i=n("1029"),s=n("d869"),o=function(e,t){o.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(o,i.Component,{name:"ScrollPane",width:14,useTemplate:!0,scrollPaneSel:".scroll-pane",scrollBarSel:".scrollbar",contentEl:null,contentSel:"#content",templateParams:{},defaultHeight:30,hideOnMouseout:!0,hideDelayTime:500,showDuration:.2,hideDuration:0,scrollDelta:15,isAutoHide:!0,isSetHeight:!1,disabledSetHeight:!1,isAnimateScrollBar:!0,minScrollBarHeight:25,_scrollPos:0,_isMoving:!1,_scrollEl:null,_scrollBarEl:null,_templateSrc:'<div class="scroll-pane" style= "display: block; position: absolute; padding: 6px 0; right: 9px; top: 0; width: 6px; z-index: 10;"><div class="scrollbar" style="-moz-transition: all 25ms ease 0s; background-clip: content-box;"></div></div>',init:function(e,t){this.element.setStyle({position:"relative",overflow:"hidden"}),1==this.useTemplate&&null==this.element.child(this.scrollPaneSel)?(this.tmpObj=new i.Template(this._templateSrc),this._scrollEl=this.tmpObj.append(this.element,this.templateParams,!0)):this._scrollEl=this.element.child(this.scrollPaneSel),this.addEvents(s.ScrollPane.EVENT_MOUSEWHEEL,s.ScrollPane.EVENT_SCROLLEND),this.isScrollNeeded&&(this.contentEl instanceof Ext.Element||(this.contentEl=this.element.child(this.contentSel)),this._scrollBarEl=this._scrollEl.child(this.scrollBarSel),this.hideOnMouseout||this.show(this.showDuration),new Ext.util.DelayedTask(function(){this.setHeight(this.computeHeight())},this).delay(50),this.hideTask=new Ext.util.DelayedTask(this.onScrollHide,this)),this._scrollEl.setStyle({position:"absolute",height:this.element.getHeight()-this._scrollEl.getPadding("tb")+"px"}),o.superclass.init.call(this,e,t)},onScrollMouseDown:function(e,t,n){this.startMouseY=e.getXY()[1],this.startScrollPos=this.getScrollPos();var i=this.startMouseY-this.element.getY();i>this._scrollPos&&i<this._scrollPos+this.height||(this.setScrollPos(i-this.height/2),this.startScrollPos=this.getScrollPos()),this._isMoving=!0,this.disableSelect()},onScrollMouseUp:function(e,t,n){this._isMoving=!1,this.enableSelect()},onScrollMouseMove:function(e,t,n){if(this._isMoving){1==this.isSetHeight&&this.computeHeight();var i=e.getXY()[1]-this.startMouseY+this.startScrollPos;this.setScrollPos(i),e.stopEvent()}},setScrollPos:function(e){var t=this.frameHeight-this.height-this._scrollEl.getPadding("b");e=e<=0?0:e>t?t:e,this._scrollPos=e,this.contentEl.dom.style.position="absolute",this.element.scrollTo("top",Math.round(e/t*(this.canvasHeight-this.frameHeight))),this._scrollEl.setTop(this.element.dom.scrollTop),this._scrollBarEl.dom.style.marginTop=Math.round(e)+"px";var n=document.createElement("div");this.element.dom.appendChild(n),n.innerHTML=Math.random(),n.parentNode.removeChild(n),e>=t&&this.fireEvent(s.ScrollPane.EVENT_SCROLLEND,{scope:this})},getScrollPos:function(){return this._scrollPos},isScrollNeeded:function(){return this.element.getHeight()<this.contentEl.getHeight()},scrollToBottom:function(){this.setScrollPos(this.canvasHeight-this.frameHeight)},computeHeight:function(){if(this.frameHeight=this.element.getHeight(),this.canvasHeight=this.contentEl.getHeight(),0==parseInt(this.frameHeight)||0==parseInt(this.canvasHeight))return this.defaultHeight;var e=this.frameHeight/this.canvasHeight;return this.frameHeight*e},setHeight:function(e){var t=Math.round(e);t=t<this.minScrollBarHeight?this.minScrollBarHeight:t,this.height=t,this._scrollBarEl.setHeight(t)},show:function(){this._scrollEl.stopFx(),0==this.disabledSetHeight&&this.setHeight(this.computeHeight()),this.frameHeight>=this.canvasHeight?this._scrollEl.hide():this._scrollEl.show(),0!=this.showDuration&&(this._scrollEl.animate({opacity:{from:0,to:1}},this.showDuration),1==this.isAnimateScrollBar&&this._scrollBarEl.animate({opacity:{from:0,to:1}},this.showDuration));var e=Math.round((this.frameHeight-this.height-this._scrollEl.getPadding("b"))*(this.element.dom.scrollTop/(this.canvasHeight-this.frameHeight)));this.setScrollPos(e)},hide:function(){1==this.isSetHeight&&(this.disabledSetHeight=!0),this._scrollEl.isVisible()&&(this.hideDuration>0?this._scrollEl.animate({duration:this.hideDuration,opacity:{from:1,to:0}}):this._scrollEl.hide(),1==this.isAnimateScrollBar&&this._scrollBarEl.animate({duration:this.hideDuration,opacity:{from:1,to:0}}))},onScrollHide:function(){this.hide()},onMouseEnter:function(){this.hideOnMouseout&&(this.hideTask.cancel(),this.show(this.showDuration))},onMouseLeave:function(){!this._isMoving&&this.hideOnMouseout&&(this.hideTask.cancel(),this.hideTask.delay(this.hideDelayTime))},onBodyMouseLeave:function(e,t){this.onMouseLeave(e,t)},disableSelect:function(){var e=Ext.get(document.getElementsByTagName("html")[0]);i.on([{element:e,event:"dragstart",handler:this.onDragStart},{element:e,event:"selectstart",handler:this.onSelectStart}]),e=null,Ext.DomHelper.disableSelect(Ext.getBody().dom),Ext.DomHelper.disableSelect(this.element.dom)},enableSelect:function(){var e=Ext.get(document.getElementsByTagName("html")[0]);e.un("dragstart",this.onDragStart,this).un("selectstart",this.onSelectStart,this),e=null},onDragStart:function(e){return console.info("dragStart"),e.preventDefault(),!1},onSelectStart:function(e){return console.info("selectStart"),e.preventDefault(),!1},onMouseWheel:function(e){e.stopEvent(),1==this.isSetHeight&&this.setHeight(this.computeHeight());var t=Math.round((this.frameHeight-this.height-this._scrollEl.getPadding("b"))*(this.element.dom.scrollTop/(this.canvasHeight-this.frameHeight)));e.getWheelDelta()>0?this.setScrollPos(t-this.scrollDelta):e.getWheelDelta()<0&&this.setScrollPos(t+this.scrollDelta),this.show(this.showDuration),this.fireEvent(s.ScrollPane.EVENT_MOUSEWHEEL,{scope:this,ev:e,pos:t})},onWindowResize:function(){new Ext.util.DelayedTask(function(){this.setHeight(this.computeHeight())},this).delay(50)},bind:function(){i.on([{element:this.element,event:"mouseenter",handler:this.onMouseEnter},{element:this.element,event:"mouseleave",handler:this.onMouseLeave},{element:this.element,event:"mousewheel",handler:this.onMouseWheel},{element:this._scrollEl,event:"mousedown",handler:this.onScrollMouseDown},{element:Ext.getBody(),event:"mouseup",handler:this.onScrollMouseUp},{element:Ext.getBody(),event:"mousemove",handler:this.onScrollMouseMove},{element:Ext.getBody(),event:"mouseleave",handler:this.onBodyMouseLeave},{element:Ext.fly(window),event:"resize",handler:this.onWindowResize}],this)}})},f8c0:function(e,t,n){var i=n("1029"),s=n("d869"),o=n("9409"),l=n("013d"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,i.Component,{name:"EmailValidationComponent",emailValidationSendBtnId:"send_email_btn",messageTextCls:"sent",init:function(e,t){i.addEvents(s.EmailValidationComponent.GLOBALEVENT_SEND_VALIDATION_MAIL_DONE,s.EmailValidationComponent.GLOBALEVENT_SEND_VALIDATION_MAIL_FAIL),this.getEmailValidationController(),a.superclass.init.call(this,e,t)},getEmailValidationController:function(){return this._setEmailValidationController()},getModel:function(){return this._setModel()},getEmailValidationView:function(){return this._setEmailValidationView()},_setEmailValidationController:function(){return this._emailValidationController instanceof o||(this._emailValidationController=new o({el:this.element,items:{model:{component:this.getModel()},view:{component:this.getEmailValidationView()}}})),this._emailValidationController},_setModel:function(){return this._model instanceof i.Model||(this._model=new i.Model),this._model},_setEmailValidationView:function(){return this._emailValidationView instanceof l||(this._emailValidationView=new l({element:this.element,model:this.getModel(),emailValidationSendBtnId:this.emailValidationSendBtnId,messageTextCls:this.messageTextCls})),this._emailValidationView},onSendValidationMailDone:function(){i.fireEvent(s.EmailValidationComponent.GLOBALEVENT_SEND_VALIDATION_MAIL_DONE,this)},onSendValidationMailFail:function(){i.fireEvent(s.EmailValidationComponent.GLOBALEVENT_SEND_VALIDATION_MAIL_FAIL,this)},bind:function(){a.superclass.bind.call(this),i.on([{element:this.getEmailValidationController(),event:s.EmailValidationController.EVENT_SEND_VALIDATION_MAIL_DONE,handler:this.onSendValidationMailDone},{element:this.getEmailValidationController(),event:s.EmailValidationController.EVENT_SEND_VALIDATION_MAIL_FAIL,handler:this.onSendValidationMailFail}],this)}})}}]);