function asyncGeneratorStep(e,n,t,o,r,c,a){try{var i=e[c](a),u=i.value}catch(s){return void t(s)}i.done?n(u):Promise.resolve(u).then(o,r)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise(function(o,r){function c(e){asyncGeneratorStep(i,o,r,c,a,"next",e)}function a(e){asyncGeneratorStep(i,o,r,c,a,"throw",e)}var i=e.apply(n,t);c(void 0)})}}define(["common/config","common/dmp"],function(e,n){"use strict";function t(){return"".concat(e.dmp.domain,"?_ts=").concat(Date.now())}function o(){}return o.prototype.sendDmpRequest=function(e,n){if("undefined"!=typeof _datapythagore||n){var o=t(),r=Object.keys(e).map(function(n){return"".concat(n,"=").concat(encodeURI(e[n]))}).join("&");fetch(o,{credentials:"include",method:"POST",body:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){console.log("DMP request succeed")})["catch"](function(e){console.error("DMP request failed: ",e)})}},o.prototype.sendPorofilingConsent=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var o,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:o=["c_xtsite","c_xtn2","c_s_device","c_s_adblock","c_s_os","c_profilage","c_date_profilage","c_aip","c_moment_jourdate","c_moment_journomme","c_moment_heure"],r=o.reduce(function(e,n){return e[n]=_datapythagore[n]?_datapythagore[n]:"",e},{}),r.c_profilage=e?"okprofiling":"noprofiling",r.c_date_profilage=_datapythagore.c_moment_jourdate,r.DEBUG="TRUE",this.sendDmpRequest(r,!0);case 8:case"end":return t.stop()}},t,this)}));return function(n){return e.apply(this,arguments)}}(),new o});