(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{"/HY+":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=n("ZS2+").a.wrap(function(){return n.e(244).then(n.bind(null,"q0CL"))},"ReportUserModal")},"1Rv/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UnbanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnbanUserFromChatRoomInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:243}};n.loc.source={body:"mutation Chat_UnbanUserFromChatRoom($input: UnbanUserFromChatRoomInput!) {\nunbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"1T0i":function(e,t,n){},"1wEQ":function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.AUTO_HOST="auto-host",e.DROPS="drops",e.PERMISSIONS="permissions",e.RAIDS="raids",e.TEAMS="teams",e.SQUAD_STREAM="squad-stream",e.STREAM_PREFERENCES="stream-preferences",e.VIDEO_BANNER="video-banner",e.VIDEO_MODERATION="video-moderation",e.VIEWER_MILESTONES="viewer-milestones"}(a||(a={}))},"2EzP":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var a=n("XIZb"),r=Object(a.a)("MessageHandler"),i=(r.InnerProvider,r.withChatServiceProvider),o=r.withContext,s=i,l=o(function(e){return{messageHandlerAPI:e.serviceAPI,setMessageHandlerAPI:e.setServiceAPI}})},"4w0E":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:289}};n.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"68Fl":function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n("wUQP"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return Object(i.a)(this.props.name)?this.props.children:null},t}(r.Component);n.d(t,"a",function(){return o})},"6wGa":function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n("/MKj"),o=n("fvjX"),s=n("/7QA"),l=n("esZd"),d=n("xQnr"),c=n("geRD"),u=n("DMoW"),m=n("kRBY"),h=n("TApp"),p=n("yR8l"),g=n("gO1k");var b=n("2EzP");var f=n("vLL+"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banUser=function(){return t.props.banUser()},t.timeoutUser=function(){return t.props.timeoutUser()},t.unbanUser=function(){return t.props.unbanUser()},t.deleteMessage=function(){return a.__awaiter(t,void 0,void 0,function(){var e,t,n,r,i;return a.__generator(this,function(a){switch(a.label){case 0:if(this.props.confirmModerationAction&&!this.props.confirmModerationAction())return[3,4];if(e=Object(s.d)("Unable to delete message.","ModerationIcons"),!this.props.channelID)return this.surfaceError(e),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),t={channelID:this.props.channelID,messageID:this.props.messageID},[4,this.props.deleteChatMessageMutation(Object(c.a)(t))];case 2:return(n=a.sent().data.deleteChatMessage)&&n.responseCode!==u.L.SUCCESS&&(r=n.message&&n.message.sender&&n.message.sender.displayName||this.props.senderLogin,i=function(e,t){switch(e){case u.L.FORBIDDEN:return Object(s.d)("You don't have permission to delete messages.","DeleteChatMessageErrorCode");case u.L.TARGET_IS_BROADCASTER:return Object(s.d)("You cannot delete the broadcaster's messages.","DeleteChatMessageErrorCode");case u.L.TARGET_IS_MODERATOR:return Object(s.d)("You cannot delete messages from moderator {senderDisplayName}",{senderDisplayName:t},"DeleteChatMessageErrorCode");case u.L.SUCCESS_STAFF:return Object(s.d)("You deleted a message from staff {senderDisplayName}. Please email support@twitch.tv if a staff member is being abusive.",{senderDisplayName:t},"DeleteChatMessageErrorCode");default:throw new Error("Unrecognized operation result")}}(n.responseCode,r),this.surfaceError(i)),[3,4];case 3:return a.sent(),this.surfaceError(e),[3,4];case 4:return[2]}})})},t.surfaceError=function(e){t.props.surfaceError&&t.props.surfaceError(e)},t}return a.__extends(t,e),t.prototype.render=function(){return this.props.sessionUser&&this.props.sessionUser.id===this.props.targetUserID?null:r.createElement(f.a,{isMessageDeleted:this.props.isMessageDeleted,isMessageBanned:this.props.isMessageBanned,canDelete:!!this.props.messageID,onBanUser:this.banUser,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,onDelete:this.deleteMessage,senderLogin:this.props.senderLogin,renderNewVersion:this.props.renderNewVersion})},t}(r.Component);var k=Object(o.compose)(b.a,Object(l.a)(function(e){return a.__assign({},e,{targetID:e.targetUserID,surfaceError:function(t){e.messageHandlerAPI&&e.messageHandlerAPI.handleMessage(Object(h.a)(t))}})}),d.a,function(){var e=this;return Object(p.a)(g,{props:function(t){return{deleteChatMessageMutation:function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:if(!t.mutate)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.mutate(n)];case 2:return[2,{data:e.sent().data}];case 3:throw e.sent(),new Error("Unable to delete message");case 4:return[3,6];case 5:throw new Error("Delete chat message mutation is not ready");case 6:return[2]}})})}}}})}(),Object(i.connect)(function(e){return{sessionUser:Object(m.e)(e)}}))(v);n.d(t,!1,function(){return v}),n.d(t,"a",function(){return k})},"8MX0":function(e,t,n){"use strict";n.r(t);var a,r=n("mrSG"),i=n("TSYQ"),o=n("q1tI"),s=n("oJmH"),l=n("/7QA"),d=n("u5aL"),c=n("ZDlU"),u=n("8/mp"),m=n("yR8l"),h=n("/MKj"),p=n("fvjX"),g=n("+pBb"),b=n("Tznh"),f=n("VJH5"),v=n("+80q"),k=n("X2PJ"),C=n("hnjF"),E=n("sUnt"),S=n("K/KT"),y=n("Ws8v");!function(e){e.ToggleTop="chat-filter-top-toggle",e.ToggleA="chat-filter-a",e.ToggleI="chat-filter-toggle-i",e.ToggleP="chat-filter-toggle-p",e.ToggleS="chat-filter-toggle-s"}(a||(a={}));var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onFilterToggled=function(){t.props.viewerChatFilterEnabled?t.props.disableViewerChatFilter(t.props.chatFilterSettingsSource):t.props.enableViewerChatFilter(t.props.chatFilterSettingsSource)},t.onAggressiveToggled=function(){t.toggleSetting(f.a.Aggressive)},t.onIdentityToggled=function(){t.toggleSetting(f.a.Identity)},t.onProfanityToggled=function(){t.toggleSetting(f.a.Profanity)},t.onSexualToggled=function(){t.toggleSetting(f.a.Sexual)},t.toggleSetting=function(e){var n;t.props.changeViewerChatFilterSettings(r.__assign({},t.props.settings,((n={})[e]=!t.props.settings[e],n)),t.props.chatFilterSettingsSource)},t}return r.__extends(t,e),t.prototype.render=function(){return o.createElement(E.a,null,o.createElement(y.a,{borderBottom:!0,margin:{bottom:1},padding:{bottom:1}},o.createElement(E.a,{margin:{top:2}},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("NSFW Chat Filters","ChatFilter"))),o.createElement(E.a,{display:C.d.Flex,justifyContent:C.h.Between},Object(l.d)("Hide offensive language","ChatFilter"),o.createElement(S.a,{checked:this.props.viewerChatFilterEnabled,onChange:this.onFilterToggled,"data-test-selector":a.ToggleTop}))),o.createElement(E.a,null,o.createElement(E.a,null,o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Choose the language you would like to block from chat across all channels. In channels you moderate, you will still see all messages.","ChatFilter"))),o.createElement(E.a,{display:C.d.Flex,justifyContent:C.h.Between,margin:{top:1}},o.createElement(E.a,null,Object(l.d)("Discrimination","ChatFilter"),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Referring negatively to race, religion, gender, orientation, disability, or similar","ChatFilter"))),o.createElement(S.a,{checked:this.props.settings[f.a.Identity],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onIdentityToggled,"data-test-selector":a.ToggleI})),o.createElement(E.a,{display:C.d.Flex,justifyContent:C.h.Between,margin:{top:1}},o.createElement(E.a,null,Object(l.d)("Sexually Explicit Language","ChatFilter"),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Referring to sexual acts, sexual content, and body parts","ChatFilter"))),o.createElement(S.a,{checked:this.props.settings[f.a.Sexual],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onSexualToggled,"data-test-selector":a.ToggleS})),o.createElement(E.a,{display:C.d.Flex,justifyContent:C.h.Between,margin:{top:1}},o.createElement(E.a,null,Object(l.d)("Hostility","ChatFilter"),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Aggression towards other people, often associated with bullying","ChatFilter"))),o.createElement(S.a,{checked:this.props.settings[f.a.Aggressive],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onAggressiveToggled,"data-test-selector":a.ToggleA})),o.createElement(E.a,{display:C.d.Flex,justifyContent:C.h.Between,margin:{top:1}},o.createElement(E.a,null,Object(l.d)("Profanity","ChatFilter"),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Curse words, expletives, or other obscenities","ChatFilter"))),o.createElement(S.a,{checked:this.props.settings[f.a.Profanity],disabled:!this.props.viewerChatFilterEnabled,onChange:this.onProfanityToggled,"data-test-selector":a.ToggleP}))))},t}(o.Component);var w,O=Object(p.compose)(Object(h.connect)(function(e){return{settings:e.chat.viewerChatFilterSettings,viewerChatFilterEnabled:!!e.chat.viewerChatFilterEnabled}},function(e){return Object(p.bindActionCreators)({changeViewerChatFilterSettings:g.z,disableViewerChatFilter:g.G,enableViewerChatFilter:g.L},e)}),Object(b.d)(function(e){return e}))(D),A=n("i4Ys"),_=n("7uM4");(w||(w={})).ClickTarget="chat-filter-item-click-target";var M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){if(this.props.chatFilterExperimentMembership===b.b.Excluded)return null;var e=this.props.viewerChatFilterEnabled?Object(l.d)("On","ChatFilterItem"):Object(l.d)("Off","ChatFilterItem");return o.createElement(E.a,{padding:{bottom:1}},o.createElement(A.a,{onClick:this.props.onClick,type:A.b.Base,"data-test-selector":w.ClickTarget},o.createElement(E.a,{display:C.d.Flex,justifyContent:C.h.Between,padding:{y:.5}},Object(l.d)("NSFW Chat Filters","ChatFilterItem"),o.createElement(E.a,null,e,o.createElement(_.a,{asset:_.b.GlyphArrRight,height:10,type:_.c.Alt2,width:10})))))},t}(o.Component);var U,I=Object(p.compose)(Object(h.connect)(function(e){return{viewerChatFilterEnabled:!!e.chat.viewerChatFilterEnabled}}),Object(b.d)(function(e){return e}))(M),F=n("8Ad5"),N=[{name:"Red",hex:"#FF0000"},{name:"Blue",hex:"#0000FF"},{name:"Green",hex:"#008000"},{name:"Firebrick",hex:"#B22222"},{name:"Coral",hex:"#FF7F50"},{name:"Yellow Green",hex:"#9ACD32"},{name:"Orange Red",hex:"#FF4500"},{name:"Sea Green",hex:"#2E8B57"},{name:"Goldenrod",hex:"#DAA520"},{name:"Chocolate",hex:"#D2691E"},{name:"Cadet Blue",hex:"#5F9EA0"},{name:"Dodger Blue",hex:"#1E90FF"},{name:"Hot Pink",hex:"#FF69B4"},{name:"Blue Violet",hex:"#8A2BE2"},{name:"Spring Green",hex:"#00FF7F"}],T=(n("1T0i"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onKeyPress=function(e){if(e.charCode===F.a.Enter||e.charCode===F.a.Space){var n=e.currentTarget.getAttribute("data-color");t.selectColor(n)}},t.onColorSelected=function(e){var n=e.currentTarget.getAttribute("data-color");t.selectColor(n)},t.selectColor=function(e){e&&t.props.onColorSelected(e)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=N.map(function(t){var n=t.hex===e.props.selectedColor,a={"color-chooser":!0,"color-chooser--selected":n};return o.createElement("div",{role:"radio","aria-checked":n,key:t.hex,"data-color":t.hex,title:t.name,onClick:e.onColorSelected,onKeyPress:e.onKeyPress,className:i(a),style:{backgroundColor:t.hex},"data-test-selector":"color_swatch_"+t.hex,"data-a-target":"color_swatch_"+t.hex,tabIndex:0})}),n=Object(l.d)("Name Color","ChatSettings"),a=o.createElement(v.a,{transform:v.d.Uppercase,color:k.c.Alt2},n);this.props.borderTop&&(a=o.createElement(y.a,{margin:{top:2},borderTop:!0,padding:{top:2}},a));var r=this.props.hasExtraColors?"https://www.twitch.tv/settings/prime":"https://twitch.tv/products/turbo?ref=more_colors_direct";return o.createElement("div",null,o.createElement(y.a,{margin:{bottom:1},background:k.a.Base,color:k.c.Base,display:C.d.InlineFlex,flexDirection:C.e.Column,fullWidth:!0},a),o.createElement(C.g,{margin:{y:1},display:C.d.Flex,flexWrap:C.f.Wrap},o.createElement("div",{role:"radiogroup","aria-label":n},t,o.createElement(v.a,{fontSize:k.d.Size7},o.createElement("a",{href:r},Object(l.d)("more colors â†’","ChatSettings"))))))},t}(o.Component)),j=n("DMoW"),R=n("2Ev9"),B=n("XmgI"),L=n("xzy9");(U||(U={})).ClickTarget="deleted-message-display-setting-item-click-target";var x,P=function(e){if(!l.b.get(L.a,!1))return null;var t=z(e.deletedMessageDisplaySetting);return o.createElement(E.a,null,o.createElement(A.a,{onClick:e.onClick,type:A.b.Base,"data-test-selector":U.ClickTarget},o.createElement(E.a,{display:C.d.Flex,justifyContent:C.h.Between,padding:{y:.5}},Object(l.d)("Deleted Messages","DeletedMessageDisplayItem"),o.createElement(E.a,null,t,o.createElement(_.a,{asset:_.b.GlyphArrRight,height:10,type:_.c.Alt2,width:10})))))},z=function(e){switch(e){case j.O.LEGACY:return Object(l.d)("Legacy","DeletedMessageDisplayItem");case j.O.DETAILED:return Object(l.d)("Detailed","DeletedMessageDisplayItem");default:return Object(l.d)("Brief","DeletedMessageDisplayItem")}},G=n("X31c"),V=n("p52R"),H=n("ptRJ"),q=n("ZtEv"),Y=n("y0tB"),Q={badges:null,badgeDynamicData:null,bits:0,color:"#FF4F46",displayName:"Kappa",id:"Kappa",userID:"Kappa",username:"kappa",userType:V.a.User,emotes:{}};!function(e){e.RadioBrief="deleted-message-display-radio-brief",e.RadioDetailed="deleted-message-display-radio-detailed",e.RadioLegacy="deleted-message-display-radio-legacy",e.MessagePreview="deleted-message-display-message-preview",e.SettingMessage="deleted-message-display-setting-message"}(x||(x={}));var W=function(e){var t=function(t){var n=t.currentTarget.value;e.onDeletedMessageDisplaySettingChange(n)};return o.createElement(E.a,null,o.createElement(y.a,{borderBottom:!0,margin:{bottom:1},padding:{bottom:1}},o.createElement(E.a,{margin:{top:2,bottom:1}},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Deleted Messages","DeletedMessageDisplaySettingsMenu"))),o.createElement(E.a,{justifyContent:C.h.Between},o.createElement(C.g,{padding:{bottom:.5}},o.createElement(v.a,{color:k.c.Alt2,"data-test-selector":x.SettingMessage},Object(l.d)("Choose how you want to view deleted messages in Chat.","DeletedMessageDisplaySettingsMenu"),e.hasSetDeletedMessageDisplaySetting()?null:e.channelID&&e.currentUserID&&e.channelID===e.currentUserID?" "+Object(l.d)('As a streamer, we have defaulted your view to "Brief"',"DeletedMessageDisplaySettingsMenu"):" "+Object(l.d)('As a moderator, we have defaulted your view to "Detailed"',"DeletedMessageDisplaySettingsMenu"))),o.createElement(y.a,{display:C.d.Flex,border:!0,background:k.a.Alt2,elevation:1,padding:{y:.5}},o.createElement(G.a,{key:Math.random(),badgeSets:R.a,channelID:null,channelLogin:"Kappa",isCurrentUserModerator:!0,isCurrentUserStaff:!0,message:Object(H.a)(q.c.Post,"#$%$@^&",Q,B.a,null,!0),isDeleted:!0,isHidden:!1,showModerationIcons:!1,showTimestamps:!1,currentUserDisplayName:void 0,currentUserLogin:void 0,deletedCount:8,deletedMessageDisplay:e.deletedMessageDisplaySetting,"data-test-selector":x.MessagePreview})))),o.createElement(E.a,null,o.createElement(E.a,{padding:{y:.5}},o.createElement(Y.a,{name:"deleted-messages-display-brief",label:z(j.O.BRIEF),checked:e.deletedMessageDisplaySetting===j.O.BRIEF,onChange:t,value:j.O.BRIEF,"data-test-selector":x.RadioBrief}),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Hide deleted messages from chat entirely. We'll show a minimal log message to keep you aware of what's going on.","DeletedMessageDisplaySettingsMenu"))),o.createElement(E.a,{padding:{y:.5}},o.createElement(Y.a,{name:"deleted-messages-display-detailed",label:z(j.O.DETAILED),checked:e.deletedMessageDisplaySetting===j.O.DETAILED,onChange:t,value:j.O.DETAILED,"data-test-selector":x.RadioDetailed}),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Show the content of deleted messages and the action taken to delete them. Optimized for mods.","DeletedMessageDisplaySettingsMenu"))),o.createElement(E.a,{padding:{y:.5}},o.createElement(Y.a,{name:"deleted-messages-display-legacy",label:z(j.O.LEGACY),checked:e.deletedMessageDisplaySetting===j.O.LEGACY,onChange:t,value:j.O.LEGACY,"data-test-selector":x.RadioLegacy}),o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Click to reveal deleted message text.","DeletedMessageDisplaySettingsMenu")))))},K=n("cr+I"),X=n("b7S+"),$=n("M//1"),J=(n("TwNI"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onGlobalBadgeClicked=function(e){var n=e.currentTarget.getAttribute("data-badge");t.setGlobalBadge(t.props.userLogin,n||"")},t.onGlobalBadgeKeyPress=function(e){if(e.charCode===F.a.Enter||e.charCode===F.a.Space){var n=e.currentTarget.getAttribute("data-badge");t.setGlobalBadge(t.props.userLogin,n||"")}},t.onChannelBadgeClicked=function(e){var n=e.currentTarget.getAttribute("data-badge");t.setChannelBadge(t.props.channelLogin,t.props.userLogin,n||"")},t.onChannelBadgeKeyPress=function(e){if(e.charCode===F.a.Enter||e.charCode===F.a.Space){var n=e.currentTarget.getAttribute("data-badge");t.setChannelBadge(t.props.channelLogin,t.props.userLogin,n||"")}},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.data,t=e.error,n=e.loading,a=e.user,r=e.currentUser;return n?null:!t&&a&&a.self&&r?o.createElement("div",null,o.createElement(T,{selectedColor:this.props.userChatColor,onColorSelected:this.props.onColorSelected,hasExtraColors:r.hasTurbo||r.hasPrime,borderTop:!0}),this.getBadgeChooser()):o.createElement(c.a,{message:Object(l.d)("Error loading data.","EditAppearance")})},t.prototype.getBadgeChooser=function(){var e=this,t=this.props.data,n=t.user,a=t.currentUser,r=n.self.availableBadges,s=n.self.selectedBadge,d=a.availableBadges,c=a.selectedBadge;if(!r)return null;var u=r.filter(function(e){return null!==e}),m=null===d?null:d.filter(function(e){return null!==e}),h=void 0===this.state.channelBadgeID&&s?s.setID:this.state.channelBadgeID,p=!h,g={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":p},b=Object(l.d)("No channel badges :(","ChatSettings");u.length>0&&(b=u.map(function(t){var n=!!s&&t.setID===h,a={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":n};return o.createElement("div",{role:"radio","aria-checked":n,"data-badge":t.setID,onClick:e.onChannelBadgeClicked,onKeyPress:e.onChannelBadgeKeyPress,key:t.setID+"/"+t.version,className:i(a),"data-test-selector":"channel_badge_"+t.setID,"data-a-target":"channel_badge_"+t.setID,tabIndex:0},o.createElement(X.a,{label:t.title},o.createElement("img",{alt:t.title,src:t.image1x,srcSet:t.image1x+" 1x, "+t.image2x+" 2x, "+t.image4x+" 4x"})))})).push(o.createElement("div",{key:"none",role:"radio","aria-checked":p,"data-badge":"",onClick:this.onChannelBadgeClicked,onKeyPress:this.onChannelBadgeKeyPress,className:i(g),"data-test-selector":"channel_badge_none","data-a-target":"channel_badge_none",tabIndex:0},o.createElement(X.a,{label:Object(l.d)("Same as Global","ChatSettings")},o.createElement("div",{className:"edit-appearance__badge-chooser__none"},o.createElement(_.a,{asset:_.b.Global})))));var f=void 0===this.state.globalBadgeID&&c?c.setID:this.state.globalBadgeID,E=!f,S={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":E},D=Object(l.d)("No global badges :(","ChatSettings");return m&&m.length>0&&(D=m.map(function(t){var n=!!c&&t.setID===f,a={"edit-appearance__badge-chooser":!0,"edit-appearance__badge-chooser--selected":n};return o.createElement("div",{role:"radio","aria-checked":n,"data-badge":t.setID,onClick:e.onGlobalBadgeClicked,onKeyPress:e.onGlobalBadgeKeyPress,key:t.setID+"/"+t.version,className:i(a),"data-test-selector":"global_badge_"+t.setID,"data-a-target":"global_badge_"+t.setID,tabIndex:0},o.createElement(X.a,{label:t.title},o.createElement("img",{alt:t.title,src:t.image1x,srcSet:t.image1x+" 1x, "+t.image2x+" 2x, "+t.image4x+" 4x"})))})).push(o.createElement("div",{role:"radio","aria-checked":E,key:"none","data-badge":"",onClick:this.onGlobalBadgeClicked,onKeyPress:this.onGlobalBadgeKeyPress,className:i(S),"data-test-selector":"global_badge_none","data-a-target":"global_badge_none",tabIndex:0},o.createElement(X.a,{label:Object(l.d)("None","ChatSettings")},o.createElement("div",{className:"edit-appearance__badge-chooser__none"},o.createElement(_.a,{asset:_.b.Ban}))))),o.createElement("div",null,o.createElement(y.a,{background:k.a.Base,color:k.c.Base,display:C.d.InlineFlex,flexDirection:C.e.Column,fullWidth:!0},o.createElement(y.a,{margin:{top:2},padding:{top:2},borderTop:!0},o.createElement(X.a,{align:X.b.Left,label:Object(l.d)("Your global badge is shown when chatting and whispering.","ChatSettings"),width:175},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Global Badge [?]","ChatSettings")))),o.createElement(C.g,{margin:{y:1},padding:{top:1},display:C.d.Flex,"data-a-target":"global-badge-selector"},o.createElement("div",{role:"radiogroup"},D))),o.createElement(y.a,{background:k.a.Base,color:k.c.Base,display:C.d.InlineFlex,flexDirection:C.e.Column,fullWidth:!0},o.createElement(y.a,{margin:{top:2},padding:{top:2},borderTop:!0},o.createElement(X.a,{align:X.b.Left,label:Object(l.d)("Change the badge shown when chatting in this channel.","ChatSettings"),width:175},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Channel Badge [?]","ChatSettings")))),o.createElement(C.g,{margin:{y:1},padding:{top:1},display:C.d.Flex,"data-a-target":"channel-badge-selector"},o.createElement("div",{role:"radiogroup"},b))))},t.prototype.setChannelBadge=function(e,t,n){return r.__awaiter(this,void 0,void 0,function(){var a,i,o,s;return r.__generator(this,function(r){switch(r.label){case 0:a={"Client-ID":l.q.config.legacyClientID,Accept:"application/vnd.twitchtv.v4+json; charset=UTF-8","content-type":"application/x-www-form-urlencoded; charset=UTF-8","Accept-Language":"en-us",Authorization:"OAuth "+this.props.authToken},i="https://api.twitch.tv/kraken/users/"+t+"/chat/channels/"+e+"/badges",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch(i,{method:"PUT",body:K.stringify({selected_badge:n}),headers:a})];case 2:return(o=r.sent())&&o.ok&&(this.props.onBadgesChanged(),this.setState({channelBadgeID:n})),[3,4];case 3:return s=r.sent(),l.k.error(s,"Failed to set channel badge"),[3,4];case 4:return[2]}})})},t.prototype.setGlobalBadge=function(e,t){return r.__awaiter(this,void 0,void 0,function(){var n,a,i,o;return r.__generator(this,function(r){switch(r.label){case 0:n={"Client-ID":l.q.config.legacyClientID,Accept:"application/vnd.twitchtv.v4+json; charset=UTF-8","content-type":"application/x-www-form-urlencoded; charset=UTF-8","Accept-Language":"en-us",Authorization:"OAuth "+this.props.authToken},a="https://api.twitch.tv/kraken/users/"+e+"/chat/badges",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch(a,{method:"PUT",body:K.stringify({selected_badge:t}),headers:n})];case 2:return(i=r.sent())&&i.ok&&(this.props.onBadgesChanged(),this.setState({globalBadgeID:t})),[3,4];case 3:return o=r.sent(),l.k.error(o,"Failed to set global badge"),[3,4];case 4:return[2]}})})},t}(o.Component)),Z=Object(s.compose)(Object(m.a)($,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}))(J),ee=n("1/iK"),te=n("y5D0"),ne=n("jZLd"),ae=n("jBwP"),re=n("eJ65"),ie=n("wUQP"),oe=n("aCAx"),se=n("/HY+"),le=n("cys1"),de=n("oK83"),ce=n("iyGE"),ue=n("a2UF"),me=n("HzXE"),he=n("dEDE"),pe=(n("u/v7"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onReportButtonClick=function(){t.props.onReportButtonClick(t.props.raidID,t.props.raiderUserID,t.props.raiderLogin)},t.onUsernameClick=function(){t.props.onUsernameClick(t.props.raiderLogin,de.b.recent_raids,t.props.raidID)},t.onBanButtonClick=function(){t.props.banUserMutation(t.props.raiderLogin)},t.onUnbanButtonClick=function(){t.props.unbanUserMutation(t.props.raiderLogin)},t}return r.__extends(t,e),t.prototype.render=function(){return o.createElement(E.a,{className:"recent-raids-item",flexDirection:C.e.Row,display:C.d.Flex,fullWidth:!0},o.createElement(E.a,{flexDirection:C.e.Row,display:C.d.Flex,fullWidth:!0,justifyContent:C.h.Between},o.createElement(v.a,{bold:!0},o.createElement("a",{className:"recent-raids-item__name",onClick:this.onUsernameClick,href:"#"},this.props.raiderLogin)),o.createElement(E.a,{position:C.j.Relative},o.createElement(E.a,{className:"recent-raids-item__timestamp"},Object(le.m)(Date.parse(this.props.timestamp))),this.getCardSlideInContent())))},t.prototype.getCardSlideInContent=function(){var e=null;return e=this.props.data.chatRoomBanStatus&&this.props.data.chatRoomBanStatus.isPermanent?o.createElement(he.a,{size:he.b.Small,type:he.d.Text,onClick:this.onUnbanButtonClick,"data-a-target":"recent-raid-item-button"},Object(l.d)("Unban","RecentRaid")):o.createElement(X.a,{align:X.b.Right,width:150,label:Object(l.d)("Banning a user prevents them from future chatting or raiding","RecentRaid")},o.createElement(he.a,{size:he.b.Small,type:he.d.Text,onClick:this.onBanButtonClick,"data-a-target":"recent-raid-item-button"},Object(l.d)("Ban","RecentRaid"))),o.createElement(E.a,{className:"recent-raids-item__hover-content",zIndex:C.n.Above,"data-a-target":"recent-raids-item-hover"},o.createElement(y.a,{color:k.c.Alt2,display:C.d.InlineFlex},o.createElement(he.a,{size:he.b.Small,type:he.d.Text,onClick:this.onReportButtonClick,"data-a-target":"recent-raid-item-button"},Object(l.d)("Report","RecentRaid"))),e)},t}(o.Component));function ge(e){return{channelID:e.channelID}}var be=Object(p.compose)(Object(m.a)(me,{options:function(e){return{variables:{channelID:e.channelID,targetUserID:e.raiderUserID},fetchPolicy:"cache-and-network"}}}),Object(ce.a)(ge),Object(ue.a)(ge))(pe),fe=n("b6Yk"),ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetChannelID=t.props.targetChannelID,t}return r.__extends(t,e),t.fetchRecentRaidsList=function(e){return r.__awaiter(this,void 0,Promise,function(){var t,n;return r.__generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,fe.a.get("/kraken/raids?client_id="+l.a.authSettings.clientID+"&api_version="+l.a.defaultAPIVersion+"&target_id="+e)];case 1:return t=a.sent(),[2,this.deserialize(t)];case 2:return n=a.sent(),l.k.error(n,"Couldn't fetch raids list"),[2,[]];case 3:return[2]}})})},t.deserialize=function(e){var t=[];if(e.body&&e.body.raids){for(var n in e.body.raids)if(n.hasOwnProperty){var a={raidID:e.body.raids[n]._id,raidAt:e.body.raids[n].raid_at,userID:e.body.raids[n].creator_user._id,name:e.body.raids[n].creator_user.name};t.push(a)}return t}return[]},t}(o.Component),ke=n("1wEQ"),Ce=n("Jsra"),Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onReportButtonClick=function(e,n,a){t.props.showReportUserModal({reportContext:{contentType:j.Pa.RAID_REPORT,targetUserID:n,contentID:e,extra:JSON.stringify({channel_id:n.toString()}),additionalTrackingID:t.props.targetChannelID||""},title:Object(l.d)("Report {channelDisplayName}",{channelDisplayName:a},"ReportUserModal")})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return this.props.targetChannelID&&this.getRecentRaids(this.props.targetChannelID),[2]})})},t.prototype.componentWillReceiveProps=function(e){e.targetChannelID&&e.targetChannelID!==this.props.targetChannelID&&this.getRecentRaids(e.targetChannelID)},t.prototype.render=function(){var e=[],t=[],n={};if(void 0!==this.state.raidChannels&&this.props.targetChannelID)for(var a in 0===this.state.raidChannels.length&&e.push(o.createElement(v.a,{key:"recent-raids-no-raids",type:v.e.P},Object(l.d)("You have no recent raids","RecentRaids"))),this.state.raidChannels)if(a.hasOwnProperty){var r=this.state.raidChannels[a];this.state.raidChannels.hasOwnProperty(a)&&void 0===n[r.userID]&&(t.push(o.createElement(be,{key:"recent-raids-item-"+r.userID,channelID:this.props.targetChannelID,onReportButtonClick:this.onReportButtonClick,onUsernameClick:this.props.onUsernameClick,raiderLogin:r.name,raiderUserID:r.userID,raidID:r.raidID,timestamp:r.raidAt})),n[r.userID]=!0)}var i=null;return this.props.recentRaids?o.createElement(E.a,{key:"recent-raids"},o.createElement(E.a,{margin:{bottom:2}},o.createElement(v.a,{color:k.c.Link,type:v.e.Span},o.createElement(Ce.a,{to:{pathname:"/broadcast/dashboard/settings",hash:"#"+ke.a.RAIDS}},Object(l.d)("Manage Raid Settings","RecentRaids")))),e,t):(i=o.createElement(E.a,{key:"recent-raids",margin:{top:1,bottom:1},display:C.d.Flex,justifyContent:C.h.Between,alignItems:C.b.Center},o.createElement(Ce.a,{hoverUnderlineNone:!0,onClick:this.props.onClickRecentRaids,"data-test-selector":"recent-raids-button"},Object(l.d)("See Recent Raids","ChatSettings")),this.props.tooltipText&&o.createElement(E.a,{position:C.j.Relative},o.createElement(X.a,{align:X.b.Right,direction:X.c.Top,display:C.d.InlineFlex,label:this.props.tooltipText,width:175,show:!0},o.createElement(C.g,{alignItems:C.b.Center,className:"chat-settings__highlight-indicator",display:C.d.InlineFlex,justifyContent:C.h.Center,margin:{left:.5}},o.createElement(v.a,{color:k.c.Overlay,fontSize:k.d.Size8,type:v.e.Span},"i"))))),o.createElement(E.a,null,i))},t.prototype.getRecentRaids=function(e){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(n){switch(n.label){case 0:return[4,ve.fetchRecentRaidsList(e)];case 1:return t=n.sent(),this.setState({raidChannels:t}),[2]}})})},t}(o.Component);var Se=Object(h.connect)(null,function(e){return Object(p.bindActionCreators)({showReportUserModal:function(e){var t=r.__rest(e,[]);return Object(oe.d)(se.a,t)}},e)})(Ee),ye=n("W/3w"),De=n("r2Xj"),we=n("WytW"),Oe=n("F6GT"),Ae=n("x0gr"),_e=n("nEWQ"),Me=n("ygYM"),Ue=n("kqSx"),Ie=(n("op4u"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isConsolidatedModerationEnabled=Object(ie.a)(_e.a),t.handleFollowerDurationClick=function(e){var n=e.currentTarget.getAttribute("data-duration");n&&t.onFollowerDurationChange(parseInt(n,10))},t.onClickRecentRaids=function(e){e.nativeEvent.stopImmediatePropagation(),t.props.onClickRecentRaids()},t.onChatClear=function(){t.props.onChatCommand(Object(we.b)())},t.getSelectedFollowerDuration=function(){if(t.props.followerModeEnabled)return t.props.followerModeDuration;var e=t.props.lastUsedFollowerDurations[t.props.channelLogin];return"number"==typeof e?e:ye.a},t.onFollowerModeToggle=function(){if(t.props.followerModeEnabled)t.props.onChatCommand(Object(we.c)()),t.props.onRoomStateUpdate({followersOnly:!1});else{var e=t.getSelectedFollowerDuration();t.props.onChatCommand(Object(we.e)(e)),t.props.onRoomStateUpdate({followersOnly:!0,followersOnlyRequirement:e})}Object(Ae.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.followerModeEnabled,settingName:De.a.FollowerMode})},t.onSlowModeToggle=function(){t.props.slowModeEnabled?(t.props.onChatCommand(Object(we.d)()),t.props.onRoomStateUpdate({slowMode:!1})):(t.props.onChatCommand(Object(we.f)()),t.props.onRoomStateUpdate({slowMode:!0})),Object(Ae.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.slowModeEnabled,settingName:De.a.SlowMode})},t.onFollowerDurationChange=function(e){Object(Oe.d)(t.props.channelLogin,e),t.props.onFollowerModeDurationPreferenceChange(t.props.channelLogin,e),t.props.followerModeEnabled&&(t.props.onChatCommand(Object(we.e)(e)),t.props.onRoomStateUpdate({followersOnlyRequirement:e})),Object(Ae.d)({channelLogin:t.props.channelLogin,followerModeOn:t.props.followerModeEnabled,isHostMode:t.props.isHostMode,newValue:e})},t.onModIconsToggle=function(){Object(Oe.c)("showModIcons",!t.props.showModerationIcons),t.props.showModerationIcons?t.props.onModIconsDisable():t.props.onModIconsEnable(),Object(Ae.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.showModerationIcons,settingName:De.a.ShowModIcons})},t.onShowModerationActionsToggle=function(){Object(Oe.c)("showModerationActions",!t.props.showModerationActions),t.props.showModerationActions?t.props.onShowModerationActionsDisable():t.props.onShowModerationActionsEnable(),Object(Ae.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.showModerationActions,settingName:De.a.ShowModActions})},t.onShowAutoModActionsToggle=function(){Object(Oe.c)("showAutoModActions",!t.props.showAutoModActions),t.props.showAutoModActions?t.props.onShowAutoModActionsDisable():t.props.onShowAutoModActionsEnable(),Object(Ae.b)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.showAutoModActions,settingName:De.a.ShowAutoModActions})},t}return r.__extends(t,e),t.prototype.render=function(){var e=this;if(!this.props.isCurrentUserModerator)return null;var t=this.getSelectedFollowerDuration(),n=ye.b.map(function(n){return o.createElement(A.a,{"data-duration":n,key:n,onClick:e.handleFollowerDurationClick,selected:n===t},o.createElement(E.a,{padding:.5},Object(ye.c)(n)))});return o.createElement(y.a,{key:"mod-tools",borderTop:!0,"data-test-selector":"mod-tools",margin:{top:2},padding:{top:2}},o.createElement(E.a,{margin:{bottom:1}},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Mod Tools","ChatSettings"))),o.createElement(E.a,{margin:{bottom:1}},o.createElement(Ue.a,{checked:this.props.showModerationIcons,"data-a-target":"mod-icons-checkbox","data-test-selector":"mod-icons-checkbox",id:"chat-settings-mod-icons",label:Object(l.d)("Mod Icons","ChatSettings"),onChange:this.onModIconsToggle})),o.createElement(y.a,{margin:{bottom:1},display:C.d.Flex,justifyContent:C.h.Between,flexWrap:C.f.Wrap},o.createElement(Ue.a,{checked:this.props.followerModeEnabled,"data-a-target":"follower-mode-checkbox","data-test-selector":"follower-mode-checkbox",id:"chat-settings-followers-only",label:Object(l.d)("Followers-Only Chat","ChatSettings"),onChange:this.onFollowerModeToggle}),o.createElement(E.a,{alignItems:C.b.Center,display:C.d.Flex,flexWrap:C.f.NoWrap,justifyContent:C.h.Between},o.createElement(E.a,{margin:{right:.5}},o.createElement(v.a,{color:k.c.Alt2,fontSize:k.d.Size7,type:v.e.Span},Object(l.d)("Must have followed for","ChatSettings"))),o.createElement(E.a,{className:"chat-settings__mod-tools-follower-button",flexShrink:0},o.createElement(re.a,{display:C.d.InlineBlock},o.createElement(he.a,{size:he.b.Small,type:he.d.Text,"data-a-target":"follower-mode-dropdown","data-test-selector":"follower-mode-duration-menu",dropdown:!0},Object(ye.d)(t)),o.createElement(Me.a,{direction:Me.b.TopRight},o.createElement(E.a,{padding:.5},o.createElement(v.a,{color:k.c.Alt2},Object(l.d)("Followers can chat if they have followed for at least","ChatSettings"))),o.createElement(y.a,{color:k.c.Link},n)))))),o.createElement(E.a,{margin:{bottom:1}},o.createElement(Ue.a,{checked:this.props.slowModeEnabled,"data-a-target":"slow-mode-checkbox","data-test-selector":"slow-mode-checkbox",id:"chat-settings-slow-mode",label:Object(l.d)("Slow Mode","ChatSettings"),onChange:this.onSlowModeToggle})),o.createElement(E.a,{margin:{bottom:1}},o.createElement(Ue.a,{checked:this.props.showModerationActions,"data-a-target":"show-mod-actions-checkbox","data-test-selector":"show-mod-actions",id:"chat-settings-show-mod-actions",label:Object(l.d)("Show Moderation Actions","ChatSettings"),onChange:this.onShowModerationActionsToggle})),o.createElement(E.a,{margin:{bottom:1}},o.createElement(Ue.a,{checked:this.props.showAutoModActions,"data-a-target":"show-automod-messages-checkbox","data-test-selector":"show-automod-messages",id:"chat-settings-show-automod-messages",label:Object(l.d)("Show Messages Caught by AutoMod","ChatSettings"),onChange:this.onShowAutoModActionsToggle})),o.createElement(P,{onClick:this.props.showDeletedMessageDisplaySettings,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting}),o.createElement(Se,{key:"recent-raids",recentRaids:this.props.recentRaids,onClickRecentRaids:this.onClickRecentRaids,onUsernameClick:this.props.onShowViewerCard,targetChannelID:this.props.channelID}),this.renderModerationSettingsLink(),o.createElement("button",{onClick:this.onChatClear,"data-a-target":"clear-chat-button","data-test-selector":"clear-chat-button"},Object(l.d)("Clear Chat","ChatSettings")))},t.prototype.renderModerationSettingsLink=function(){var e=Object(l.d)("Manage Moderation Settings","ChatSettings"),t="moderation";return this.isConsolidatedModerationEnabled||(t="automod"),o.createElement(y.a,{margin:{top:1,bottom:1},display:C.d.Flex,justifyContent:C.h.Between,alignItems:C.b.Center,color:k.c.Alt},o.createElement(Ce.a,{to:"/"+this.props.channelLogin+"/dashboard/settings/"+t,"data-a-target":"automod-link-button","data-test-selector":"automod-link-button",type:Ce.b.Inherit,hoverUnderlineNone:!0},e))},t}(o.Component));var Fe=Object(s.compose)(Object(h.connect)(function(e){return{lastUsedFollowerDurations:e.chat.lastUsedFollowerDurations,showAutoModActions:e.chat.showAutoModActions,showModerationActions:e.chat.showModerationActions,showModerationIcons:e.chat.showModIcons}},function(e){return Object(p.bindActionCreators)({onChatHide:function(){return g.M()},onChatUnhide:function(){return g.P()},onFollowerModeDurationPreferenceChange:function(e,t){return g.y(e,t)},onModIconsDisable:function(){return g.C()},onModIconsEnable:function(){return g.H()},onShowAutoModActionsEnable:function(){return g.I()},onShowAutoModActionsDisable:function(){return g.D()},onShowModerationActionsEnable:function(){return g.J()},onShowModerationActionsDisable:function(){return g.E()},onTimestampsDisable:function(){return g.F()},onTimestampsEnable:function(){return g.K()},onThemeChanged:function(e){return Object(ne.b)(e,void 0,!1)},login:function(){return Object(te.e)(ee.a.Chat)}},e)}),Object(ae.b)(function(e){return{followerModeDuration:e.followerDuration,followerModeEnabled:e.followerMode,slowModeEnabled:e.slowMode,onRoomStateUpdate:function(t){return e.updateRoomState(t)}}}))(Ie),Ne=n("QVaV"),Te=n("uIkQ"),je="edit-appearance-button",Re="edit-display-name";function Be(e){var t=o.createElement(v.a,{bold:!0,type:v.e.Span},o.createElement("span",{style:{color:e.chatColor},"data-a-target":Re},Object(Ne.a)(e.login,e.displayName))),n=null;return e.editAppearance||(n=o.createElement(E.a,{margin:{top:1}},o.createElement(Ce.a,{hoverUnderlineNone:!0,onClick:e.onClickEdit,"data-a-target":je,"data-test-selector":je},Object(l.d)("Edit Appearance","ChatSettings")))),o.createElement(y.a,{background:k.a.Base,color:k.c.Base,display:C.d.InlineFlex,flexDirection:C.e.Column,fullWidth:!0},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Name Display","ChatSettings")),o.createElement(E.a,{margin:{top:2}},e.userBadges&&e.userBadges.map(function(e){return o.createElement(Te.a,{key:e.id,schemaBadge:e})}),t),n)}var Le=n("iFBW");n("kELf");n.d(t,"DARK_MODE_SELECTOR",function(){return xe}),n.d(t,"SHOW_CHAT_RULES_SELECTOR",function(){return Pe}),n.d(t,"HIDE_CHAT_BUTTON_SELECTOR",function(){return ze}),n.d(t,"LEGACY_POPOUT_BUTTON_SELECTOR",function(){return Ge}),n.d(t,"POPOUT_BUTTON_SELECTOR",function(){return Ve}),n.d(t,"TIMESTAMPS_SELECTOR",function(){return He}),n.d(t,"HIGH_CONTRAST_SELECTOR",function(){return qe}),n.d(t,"CHAT_SETTINGS_BACK_BUTTON_SELECTOR",function(){return Ye}),n.d(t,"ChatSettingsPresentation",function(){return Qe}),n.d(t,"ChatSettingsComponent",function(){return We});var xe="dark-mode-checkbox",Pe="show-chat-rules-button",ze="hide-chat-button",Ge="legacy-popout-button",Ve="popout-button",He="timestamps-selector",qe="high-contrast-selector",Ye="chat-settings-back-button",Qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={recentRaids:!1,chatColor:null},t.resizeAnimationFrame=0,t.onClickEdit=function(e){e.nativeEvent.stopImmediatePropagation(),t.props.onClickEditAppearance()},t.onClickChatFilter=function(){t.setState({recentRaids:!1}),t.props.showChatFilterSettings()},t.onClickRecentRaids=function(){t.setState({recentRaids:!0})},t.onClickBack=function(e){e.nativeEvent.stopImmediatePropagation(),t.props.onLeaveEditAppearance(),t.setState({recentRaids:!1}),t.props.hideChatFilterSettings(),t.props.hideDeletedMessageDisplaySettings()},t.onColorSelected=function(e){t.setState({chatColor:e}),t.props.onColorSelected(e)},t.onBadgesChanged=function(){return r.__awaiter(t,void 0,void 0,function(){var e,t,n;return r.__generator(this,function(a){switch(a.label){case 0:return!this.props.data||this.props.data.loading?[3,2]:[4,this.props.data.refetch()];case 1:if((e=a.sent()).data){if(!(t=e.data).user||!t.user.self)return[2];n={},t.user.self.displayBadges.forEach(function(e){e&&(n[e.setID]=e.version)}),l.q.tmi.client.updateChannelBadges(this.props.channelLogin,n,{})}a.label=2;case 2:return[2]}})})},t.onResize=function(){t.resizeAnimationFrame||(t.resizeAnimationFrame=requestAnimationFrame(t.setContainerHeight))},t.setContainerHeight=function(){var e=t.props.containerElement&&t.props.containerElement.clientHeight||700;t.setState({containerHeight:e}),t.resizeAnimationFrame=0},t.onDeletedMessageDisplaySettingChange=function(e){t.props.onDeletedMessageDisplaySettingChange(e);var n=t.props,a=n.deletedMessageDisplaySetting,r=n.channelLogin,i=n.isHostMode,o=n.channelID;Object(Ae.a)({channelLogin:r,isHostMode:i,newValue:e,channelID:o,oldValue:a,settingName:De.a.DeletedMessageDisplaySetting})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize,!0),this.setContainerHeight()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!0),this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame)},t.prototype.render=function(){var e=this.props.data,t=e.error,n=e.loading,a=e.user,r=e.currentUser;if(n)return null;if(t||!a||this.props.isLoggedIn!==!!r||this.props.isLoggedIn!==!!a.self)return o.createElement(c.a,{message:Object(l.d)("Error loading data.","ChatSettings")});var s=null;if(this.props.isLoggedIn&&r.login){var m=a.self.displayBadges.filter(function(e){return null!==e});s=o.createElement(Be,{key:"name-display",login:r.login,displayName:r.displayName||r.login,chatColor:this.state.chatColor||r.chatColor,editAppearance:this.props.editAppearance,userBadges:m,onClickEdit:this.onClickEdit})}var h=[];this.props.isLoggedIn?this.props.editAppearance&&r.login?h=[o.createElement(C.g,{margin:{bottom:2},key:"chat-settings-edit-inject",className:"chat-settings__edit-button"},o.createElement(Ce.a,{hoverUnderlineNone:!0,key:"chat-settings-edit",onClick:this.onClickBack,"data-test-selector":Ye},o.createElement(v.a,{color:k.c.Link,type:v.e.Span},o.createElement(_.a,{asset:_.b.ChatSettingsBack,height:10,width:10}),Object(l.d)("Back","ChatSettingsAppearance")))),s,o.createElement(Z,{key:"edit-appearance",onColorSelected:this.onColorSelected,editAppearance:this.props.editAppearance,authToken:this.props.authToken,channelLogin:this.props.channelLogin,userChatColor:this.state.chatColor||r.chatColor,userLogin:r.login,onBadgesChanged:this.onBadgesChanged})]:this.state.recentRaids?h=[o.createElement(C.g,{key:"chat-settings-recent-raids"},o.createElement(Ce.a,{hoverUnderlineNone:!0,key:"chat-settings-edit",onClick:this.onClickBack,"data-test-selector":Ye},o.createElement(v.a,{color:k.c.Link,type:v.e.Span},o.createElement(_.a,{asset:_.b.ChatSettingsBack,height:10,width:10}),Object(l.d)("Back","ChatSettingsRecentRaids")),o.createElement(E.a,{margin:{top:2}},o.createElement(v.a,{key:"recent-raids-title",color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Recent Raids","ChatSettings"))))),o.createElement(Se,{key:"recent-raids",targetChannelID:this.props.channelID,recentRaids:this.state.recentRaids,onClickRecentRaids:this.onClickRecentRaids,onUsernameClick:this.props.onShowViewerCard})]:this.props.isShowingChatFilterSettings?h=[o.createElement(E.a,{key:"chat-settings-chat-filter"},o.createElement(Ce.a,{hoverUnderlineNone:!0,onClick:this.onClickBack},o.createElement(v.a,{color:k.c.Link,type:v.e.Span},o.createElement(_.a,{asset:_.b.ChatSettingsBack,height:10,width:10}),Object(l.d)("Back to Chat Options","ChatFilter")))),o.createElement(O,{key:"chat-filter"})]:this.props.isShowingDeletedMessageDisplaySettings?h=[o.createElement(E.a,{key:"chat-settings-deleted-message-display"},o.createElement(Ce.a,{hoverUnderlineNone:!0,onClick:this.onClickBack},o.createElement(v.a,{color:k.c.Link,type:v.e.Span},o.createElement(_.a,{asset:_.b.ChatSettingsBack,height:10,width:10}),Object(l.d)("Back to Mod Tools","DeletedMessageDisplaySetting ")))),o.createElement(W,{key:"deleted-message-display-menu",channelID:this.props.channelID,currentUserID:r&&r.id,onDeletedMessageDisplaySettingChange:this.onDeletedMessageDisplaySettingChange,hasSetDeletedMessageDisplaySetting:this.props.hasSetDeletedMessageDisplaySetting,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting})]:(h=[s,this.renderUniversalOptions()],this.props.isCurrentUserModerator&&!this.props.isEmbedded&&h.push(o.createElement(Fe,{key:"moderation-tools",channelLogin:this.props.channelLogin,channelID:this.props.channelID,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:this.props.isHostMode,isLoggedIn:this.props.isLoggedIn,onChatCommand:this.props.onChatCommand,onClickRecentRaids:this.onClickRecentRaids,onShowViewerCard:this.props.onShowViewerCard,recentRaids:this.state.recentRaids,showDeletedMessageDisplaySettings:this.props.showDeletedMessageDisplaySettings,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting}))):h=[o.createElement(T,{key:"color-chooser",onColorSelected:this.props.onColorSelected}),this.renderUniversalOptions()];var p={"chat-settings":!0,"chat-settings--chat-filter":this.props.isShowingChatFilterSettings,"chat-settings--deleted-message-display":this.props.isShowingDeletedMessageDisplaySettings};return o.createElement(d.a,{onClickOut:this.props.onCloseSettings},o.createElement(Me.a,{direction:Me.b.Top,noTail:!0,offsetY:"11px","data-a-target":"chat-settings-balloon",show:this.props.isVisible},o.createElement(u.b,{className:i(p),suppressScrollX:!0,style:{maxHeight:this.state.containerHeight}},o.createElement("div",null,o.createElement(y.a,{key:"chat-settings",className:"chat-settings__content",background:k.a.Base,color:k.c.Base,padding:2},h)))))},t.prototype.renderUniversalOptions=function(){var e=this.props.authToken&&o.createElement(I,{onClick:this.onClickChatFilter}),t=this.props.isPopout&&o.createElement(Ue.a,{checked:this.props.darkModeEnabled,"data-a-target":"darkmode-checkbox","data-test-selector":xe,id:"chat-settings-dark-mode",label:Object(l.d)("Dark Mode","ChatSettings"),onChange:this.props.onDarkModeToggle}),n=this.props.onShowChatRules&&o.createElement("button",{onClick:this.props.onShowChatRules,"data-a-target":"show-chat-rules-button","data-test-selector":Pe},Object(l.d)("Show Chat Rules","ChatSettings")),a=!this.props.isEmbedded&&o.createElement("button",{onClick:this.props.onChatPopout,"data-a-target":"popout-chat-button","data-test-selector":Ve},Object(l.d)("Popout","ChatSettings")),r=!this.props.isPopout&&o.createElement("button",{onClick:this.props.onChatHide,"data-a-target":"hide-chat-button","data-test-selector":ze},Object(l.d)("Hide Chat","ChatSettings"));return o.createElement(E.a,{key:"chat-options"},o.createElement(y.a,{borderTop:!0,margin:{top:2},padding:{top:2,bottom:1}},o.createElement(v.a,{color:k.c.Alt2,transform:v.d.Uppercase},Object(l.d)("Chat Options","ChatSettings"))),e,o.createElement(E.a,{margin:{bottom:1}},o.createElement(Ue.a,{checked:this.props.showTimestamps,"data-a-target":"timestamp-checkbox","data-test-selector":He,id:"chat-settings-timestamp",label:Object(l.d)("Timestamps","ChatSettings"),onChange:this.props.onTimestampToggle})),o.createElement(E.a,{margin:{bottom:1}},o.createElement(Ue.a,{checked:this.props.useHighContrastColors,"data-a-target":"high-contrast-color-checkbox","data-test-selector":qe,id:"chat-settings-high-contrast",label:Object(l.d)("Readable Colors","ChatSettings"),onChange:this.props.onHighContrastColorsToggle})),o.createElement(E.a,{margin:{bottom:1}},t),o.createElement(E.a,{margin:{bottom:1}},n),o.createElement(E.a,{margin:{bottom:1}},r),o.createElement(E.a,{margin:{bottom:1}},a))},t}(o.Component),We=Object(s.compose)(Object(m.a)(Le,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}))(Qe)},"8qOS":function(e,t,n){"use strict";n.d(t,"a",function(){return v});var a=n("mrSG"),r=n("q1tI"),i=n("fvjX"),o=n("/7QA"),s=n("yR8l"),l=n("geRD"),d=n("2Ygb"),c=n("4G6/"),u=n("AREq"),m=n("Av0x"),h=n("4w0E"),p=n("1Rv/"),g=n("HzXE"),b=600;function f(e){var t;return(t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.banUser=function(t,n){var a=t?Object(o.d)("Unable to timeout user.","ViewerCardModActions"):Object(o.d)("Unable to ban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(a),Promise.reject(a);var r=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login;if(!r)return e.surfaceError(a),Promise.reject(a);var i=null;"number"==typeof t?i=Object(c.a)(t):"string"==typeof t&&(i=t);var s=e.props.channelID;return e.props.banUserMutation(Object(l.a)({channelID:s,bannedUserLogin:r,expiresIn:i,reason:n})).then(function(n){var a=n&&n.data&&n.data.banUserFromChatRoom&&n.data.banUserFromChatRoom.error;if(e.updateUserBanStatusQuery(n.data),a&&e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login){var r=a.minTimeoutDurationSeconds,i=a.maxTimeoutDurationSeconds;e.surfaceError(Object(u.a)({login:e.props.userBanStatusData.targetUser.login,code:a.code,isTimeout:!!t,minTimeoutDuration:r||void 0,maxTimeoutDuration:i||void 0}))}return n.data}).catch(function(t){throw e.surfaceError(a),t})},e.unbanUser=function(t){var n=t?Object(o.d)("Unable to untimeout user.","ViewerCardModActions"):Object(o.d)("Unable to unban user.","ViewerCardModActions");if(e.props.confirmModerationAction&&!e.props.confirmModerationAction())return e.surfaceError(n),Promise.reject(n);var a=e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login;if(!a)return e.surfaceError(n),Promise.reject(n);var r=e.props.channelID;return e.props.unbanUserMutation(Object(l.a)({channelID:r,bannedUserLogin:a})).then(function(t){var n=t&&t.data&&t.data.unbanUserFromChatRoom&&t.data.unbanUserFromChatRoom.error;return e.updateUserBanStatusQuery(null),n&&e.props.userBanStatusData&&e.props.userBanStatusData.targetUser&&e.props.userBanStatusData.targetUser.login&&e.surfaceError(Object(m.a)(e.props.userBanStatusData.targetUser.login,n.code)),t.data}).catch(function(t){throw e.surfaceError(n),t})},e.updateUserBanStatusQuery=function(t){var n=e.props,a=n.channelID,r=n.targetID;Object(l.g)(g,{channelID:a,targetUserID:r},function(e){var n=e&&e.targetUser||null;return t&&t.banUserFromChatRoom?{targetUser:n,chatRoomBanStatus:t.banUserFromChatRoom.ban}:{targetUser:n,chatRoomBanStatus:null}})},e.surfaceError=function(t){e.props.surfaceError&&e.props.surfaceError(t)},e}return a.__extends(n,t),n.prototype.render=function(){var t=this,n={userBanStatus:this.props.userBanStatusData,banUser:function(e,n){return t.banUser(e,n)},timeoutUser:function(e,n){return t.banUser(e||b,n)},unbanUser:function(){return t.unbanUser()},untimeoutUser:function(){return t.unbanUser(!0)}};return r.createElement(e,a.__assign({},this.props,n))},n}(r.Component)).displayName=Object(d.a)(t.name,e),t}function v(e){return Object(i.compose)(Object(s.a)(h,{name:"banUserMutation"}),Object(s.a)(p,{name:"unbanUserMutation"}),Object(s.a)(g,{name:"userBanStatusData",options:function(e){return{variables:{channelID:e.channelID,targetUserID:e.targetID}}}}),f)(e)}},AREq:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("/7QA"),r=n("DMoW"),i=n("4G6/");function o(e){var t=e.login,n=e.code,o=e.enteredDuration,s=e.minTimeoutDuration,l=e.maxTimeoutDuration,d=e.isTimeout;if(void 0===d&&(d=!1),d)switch(n){case r.e.FORBIDDEN:return Object(a.d)("You don't have permissions to timeout {login}.",{login:t},"BanUserErrorCode");case r.e.TARGET_IS_ADMIN:return Object(a.d)("You cannot timeout admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:t},"BanUserErrorCode");case r.e.TARGET_ALREADY_BANNED:return Object(a.d)("{login} is already banned in this channel.",{login:t},"BanUserErrorCode");case r.e.TARGET_IS_ANONYMOUS:return Object(a.d)("You cannot timeout anonymous users.","BanUserErrorCode");case r.e.TARGET_IS_BROADCASTER:return Object(a.d)("You cannot timeout the broadcaster.","BanUserErrorCode");case r.e.TARGET_IS_GLOBAL_MOD:return Object(a.d)("You cannot timeout global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:t},"BanUserErrorCode");case r.e.TARGET_IS_MOD:return Object(a.d)("You cannot timeout moderator {login} unless you are the owner of this channel.",{login:t},"BanUserErrorCode");case r.e.TARGET_IS_SELF:return Object(a.d)("You cannot timeout yourself.","BanUserErrorCode");case r.e.TARGET_IS_STAFF:return Object(a.d)("You cannot timeout staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:t},"BanUserErrorCode");case r.e.TARGET_NOT_FOUND:return Object(a.d)("The user you are trying to timeout doesn't exist.","BanUserErrorCode");case r.e.DURATION_INVALID:var c=Object(a.d)("Invalid timeout duration: {userInput}. Usage: /timeout [user] [duration] [reason]",{userInput:o||""},"BanUserErrorCode"),u=Object(a.d)("Timeout duration must be between {minTimeoutDuration} and {maxTimeoutDuration} seconds.",{minTimeoutDuration:s||0,maxTimeoutDuration:l||0},"BanUserErrorCode"),m=Object(a.d)("Invalid timeout duration. Usage: /timeout [user] [duration] [reason]","BanUserErrorCode");if(o){if(void 0!==s&&void 0!==l){var h=Object(i.b)(o);if(!h||Number.isNaN(h))return c;if(h<s||h>l)return u}return c}return m;default:throw new Error("Unrecognized operation result.")}else switch(n){case r.e.FORBIDDEN:return Object(a.d)("You don't have permissions to ban {login}.",{login:t},"BanUserErrorCode");case r.e.TARGET_IS_ADMIN:return Object(a.d)("You cannot ban admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:t},"BanUserErrorCode");case r.e.TARGET_ALREADY_BANNED:return Object(a.d)("{login} is currently banned in this channel.",{login:t},"BanUserErrorCode");case r.e.TARGET_IS_ANONYMOUS:return Object(a.d)("You cannot ban anonymous users.","BanUserErrorCode");case r.e.TARGET_IS_BROADCASTER:return Object(a.d)("You cannot ban the broadcaster.","BanUserErrorCode");case r.e.TARGET_IS_GLOBAL_MOD:return Object(a.d)("You cannot ban global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:t},"BanUserErrorCode");case r.e.TARGET_IS_MOD:return Object(a.d)("You cannot ban moderator {login} unless you are the owner of this channel.",{login:t},"BanUserErrorCode");case r.e.TARGET_IS_SELF:return Object(a.d)("You cannot ban yourself.","BanUserErrorCode");case r.e.TARGET_IS_STAFF:return Object(a.d)("You cannot ban staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:t},"BanUserErrorCode");case r.e.TARGET_NOT_FOUND:return Object(a.d)("The user you are trying to ban doesn't exist.","BanUserErrorCode");default:throw new Error("Unrecognized operation result.")}}},Av0x:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("/7QA"),r=n("DMoW");function i(e,t,n){if(void 0===n&&(n=!1),n)switch(t){case r.nb.FORBIDDEN:return Object(a.d)("You don't have permissions to untimeout {login}.",{login:e},"UnbanUserErrorCode");case r.nb.TARGET_NOT_FOUND:return Object(a.d)("The user you are trying to untimeout doesn't exist.","UnbanUserErrorCode");case r.nb.TARGET_NOT_BANNED:return Object(a.d)("{login} is not currently timed out from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}else switch(t){case r.nb.FORBIDDEN:return Object(a.d)("You don't have permissions to unban {login}.",{login:e},"UnbanUserErrorCode");case r.nb.TARGET_NOT_FOUND:return Object(a.d)("The user you are trying to unban doesn't exist.","UnbanUserErrorCode");case r.nb.TARGET_NOT_BANNED:return Object(a.d)("{login} is not currently banned from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}}},HzXE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:283}};n.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\ntargetUser: user (id: $targetUserID) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},L6L7:function(e,t,n){},"M//1":function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatSettings_Badges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:306}};a.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery ChatSettings_Badges($channelLogin: String!) {\ncurrentUser {\nid\nhasPrime\nhasTurbo\nselectedBadge {\n...badge\n}\navailableBadges {\n...badge\n}\n}\nuser(login: $channelLogin) {\nid\nself {\nselectedBadge {\n...badge\n}\navailableBadges {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};a.definitions=a.definitions.concat(n("IKE4").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=a},"O3/n":function(e,t,n){"use strict";var a=n("q1tI"),r=n("sUnt"),i=n("+80q"),o=n("X2PJ"),s=function(e){return a.createElement(r.a,{margin:{top:2,bottom:1,x:1}},a.createElement(i.a,{bold:!0,color:o.c.Alt,fontSize:o.d.Size7,transform:i.d.Uppercase,type:i.e.H4},e.children))};n.d(t,"a",function(){return s})},Pp1Y:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n("uNOt"),o=n("vCsY"),s=n("X2PJ"),l=n("hnjF"),d=(n("obKW"),function(e){return r.createElement(s.e,{borderRadius:s.b.Medium,display:l.d.Block,fontSize:s.d.Size5,padding:{x:1,y:.5}},r.createElement(i.a,a.__assign({activeClassName:"dashboard-side-nav__link--active",className:"dashboard-side-nav__link",exact:e.exact,isActive:e.isActive,to:e.linkTo},Object(o.a)(e)),e.children))});n.d(t,"a",function(){return d})},"Pub/":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("HzXE");function r(e,t,n){try{return e.readQuery({query:a,variables:{channelID:t,targetUserID:n}})}catch(e){}}},TApp:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("ZtEv"),r=n("aF6k");function i(e){return{type:a.b.Info,id:Object(r.a)("info"),message:e}}},TwNI:function(e,t,n){},"W/3w":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s});var a=n("/7QA"),r=30,i=[0,10,30,60,1440,10080,43200,129600];function o(e){switch(e){case 0:return Object(a.d)("0 minutes (Any followers)","FollowersOnlyLabel");case 10:return Object(a.d)("10 minutes (Most used)","FollowersOnlyLabel");case 30:return Object(a.d)("30 minutes","FollowersOnlyLabel");case 60:return Object(a.d)("1 hour","FollowersOnlyLabel");case 1440:return Object(a.d)("1 day","FollowersOnlyLabel");case 10080:return Object(a.d)("1 week","FollowersOnlyLabel");case 43200:return Object(a.d)("1 month","FollowersOnlyLabel");case 129600:return Object(a.d)("3 months","FollowersOnlyLabel");default:return a.k.warn("[FollowersOnlyLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 0:return Object(a.d)("0 min","FollowersOnlyShorthand");case 10:return Object(a.d)("10 min","FollowersOnlyShorthand");case 30:return Object(a.d)("30 min","FollowersOnlyShorthand");case 60:return Object(a.d)("1 hr","FollowersOnlyShorthand");case 1440:return Object(a.d)("1 day","FollowersOnlyShorthand");case 10080:return Object(a.d)("1 wk","FollowersOnlyShorthand");case 43200:return Object(a.d)("1 mo","FollowersOnlyShorthand");case 129600:return Object(a.d)("3 mo","FollowersOnlyShorthand");default:return Object(a.d)("custom","FollowersOnlyShorthand")}}},X31c:function(e,t,n){"use strict";n.d(t,"a",function(){return U});var a=n("mrSG"),r=n("TSYQ"),i=n("q1tI"),o=n("oJmH"),s=n("/MKj"),l=n("fvjX"),d=n("/7QA"),c=n("8Ad5"),u=n("0Log"),m=n("DMoW"),h=n("uIkQ"),p=n("+pBb"),g=n("ZVTe"),b=n("6wGa"),f=n("cys1"),v=n("EE1E"),k=n("fezU"),C=n("ZtEv"),E=n("oK83"),S=n("hnjF"),y=n("+80q"),D=n("sUnt"),w=(n("uYvD"),"chat-deleted-message-placeholder"),O="chat-deleted-message-attribution",A="chat-hidden-message-placeholder",_="chat-hidden-username-placeholder",M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={alwaysShowMessage:!1},t.renderModerationIcons=function(){return t.props.isCurrentUserModerator&&t.props.showModerationIcons&&t.props.message.user.userID&&t.props.channelID?i.createElement(b.a,{targetUserID:t.props.message.user.userID,confirmModerationAction:t.props.confirmModerationAction,channelID:t.props.channelID,isMessageDeleted:t.props.message.deleted,isMessageBanned:t.props.message.banned,senderLogin:t.props.message.user.userLogin,messageID:t.props.message.id}):null},t.renderMessageBody=function(){if(t.props.isHidden&&!t.state.alwaysShowMessage&&t.props.isCurrentUserModerator){var e=Object(d.d)("message hidden from blocked user","ChatLine");return i.createElement("span",{key:"hidden_message",className:"chat-line__message--hidden","data-a-target":A},i.createElement("a",{href:"",onClick:t.hiddenMessageClickHandler},"<"+e+">"))}if(t.props.isDeleted)return t.renderDeletedMessage();var n={chatChannelID:t.props.channelID,chatChannelLogin:t.props.channelLogin,messageAuthorID:t.props.message.user.userID,messageSourceID:t.props.message.id,emoteSourceType:E.a.chat};return Object(f.f)(t.props.message.messageParts,n)},t.renderDeletedMessage=function(){var e=t.props,n=e.isCurrentUserModerator,a=e.isCurrentUserStaff,r=e.deletedMessageDisplay;if(n||a){var o={chatChannelID:t.props.channelID,chatChannelLogin:t.props.channelLogin,messageAuthorID:t.props.message.user.userID,messageSourceID:t.props.message.id,emoteSourceType:E.a.chat,disableChatCard:!0};if(r===m.O.DETAILED){var s=t.props.message,l=s.modLogin,c=s.modActionType,h=s.duration,p=Object(d.d)("(Deleted)","ChatLine");return c&&c===u.ModerationActions.Ban&&l&&(p=Object(d.d)("(Banned by {modLogin})",{modLogin:l},"ChatLine")),c&&c===u.ModerationActions.Timeout&&(l&&h?p=Object(d.d)("({duration}s Timeout by {modLogin})",{duration:h,modLogin:l},"ChatLine"):l&&(p=Object(d.d)("(Timeout by {modLogin})",{modLogin:l},"ChatLine"))),c&&c===u.ModerationActions.Delete&&l&&(p=Object(d.d)("(Deleted by {modLogin})",{modLogin:l},"ChatLine")),i.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":w},i.createElement("span",{className:"chat-line__message--deleted-detailed"},Object(f.f)(t.props.message.messageParts,o)),i.createElement(S.g,{padding:{left:.5}},i.createElement(y.a,{type:y.e.Span,"data-test-selector":O},p)))}return t.state.alwaysShowMessage?Object(f.f)(t.props.message.messageParts,o):i.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":w},i.createElement("a",{href:"",onClick:t.alwaysShowMessage},"<"+Object(d.d)("message deleted","ChatLine")+">"))}return i.createElement("span",{key:"deleted",className:"chat-line__message--deleted-notice","data-a-target":w},""+Object(d.d)("message deleted by a moderator.","ChatLine"))},t.renderMessageAuthor=function(){var e=t.props,n=e.badgeSets,a=e.message,r=e.theme,o=e.useHighContrastColors;return t.props.isHidden&&!t.state.alwaysShowMessage&&t.props.isCurrentUserModerator?i.createElement("span",{key:"hidden_username",className:"chat-line__username--hidden","data-a-target":_},i.createElement("a",{href:"",onClick:t.hiddenMessageClickHandler},Object(d.d)("User Hidden","ChatLine"))):i.createElement(i.Fragment,null,t.renderModerationIcons(),i.createElement(h.b,{badgeSets:n,badgesToRender:a.badges,dynamicData:a.badgeDynamicData}),i.createElement("span",{className:"chat-line__username",onClick:t.openViewerCard,onKeyDown:t.openViewerCard,role:"button",tabIndex:0},i.createElement(g.a,{userData:a.user,highContrastUsernameColor:o,theme:r})))},t.alwaysShowMessage=function(e){e&&e.preventDefault(),t.setState({alwaysShowMessage:!0})},t.hiddenMessageClickHandler=function(e){t.alwaysShowMessage(e),t.props.message.user.userID&&t.props.onHiddenMessageClick(t.props.message.user.userID)},t.openViewerCard=function(e){t.isKeyboardEvent(e)&&e.keyCode!==c.a.Space&&e.keyCode!==c.a.Enter||t.props.onUsernameClick(t.props.message.user.userLogin,E.b.chat_message,t.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.message,a=e.showTimestamps,o=e.theme,s=e.useHighContrastColors,l=e.isDeleted,c=e.isCurrentUserModerator,u=e.deletedMessageDisplay,h=e.deletedCount;if(l&&c&&u===m.O.BRIEF)return h&&h>0?i.createElement(D.a,{className:"chat-line__status"},i.createElement(y.a,{type:y.e.Span,"data-a-target":w},Object(d.d)("{numDeleted, plural, one {# message was deleted by a moderator.} other {# messages were deleted by a moderator.}}",{numDeleted:h},"ChatLine"))):null;var p={},g=": ";if(n.messageType===C.c.Action){var b=n.user.color;s&&b&&(b="#"+Object(v.a)(b,o)),p={color:b},g=" "}var k=null;return a&&(k=Object(f.l)(n.timestamp)),i.createElement("div",{className:r(t,"chat-line__message"),style:p,"data-a-target":"chat-line-message"},k,this.renderMessageAuthor(),i.createElement("span",{key:"separator","aria-hidden":"true"},g),this.renderMessageBody())},t.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},t}(i.Component);var U=Object(o.compose)(Object(s.connect)(void 0,function(e){return Object(l.bindActionCreators)({onHiddenMessageClick:p.R},e)}),Object(k.b)(function(e){return{onUsernameClick:e.onShowViewerCard,onEmoteClick:e.onShowEmoteCard}}))(M)},XIZb:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("mrSG"),r=n("q1tI"),i=n("4rCz"),o=n("1rIY");function s(e){var t=Object(o.a)(e,{setServiceAPI:function(){i.l.warn("The "+e+" chat service attempted to register its API without a provider.")}}),n=t.InnerProvider,s=t.withContext;return{InnerProvider:n,withChatServiceProvider:function(e){return function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e.setServiceAPI=function(t){e.setState({serviceAPI:t})},e}return a.__extends(i,t),i.prototype.render=function(){return r.createElement(n,{value:{serviceAPI:this.state.serviceAPI,setServiceAPI:this.setServiceAPI}},r.createElement(e,a.__assign({},this.props)))},i}(r.Component)},withContext:s}}},a2UF:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("mrSG"),r=n("yR8l"),i=n("Pub/"),o=n("HzXE"),s=n("1Rv/");function l(e){var t=this;return Object(r.a)(s,{props:function(n){return{unbanUserMutation:function(r){return a.__awaiter(t,void 0,void 0,function(){var t;return a.__generator(this,function(s){switch(s.label){case 0:if(t=e(n.ownProps).channelID,!n.mutate||!t)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.mutate({variables:{input:{channelID:t,bannedUserLogin:r}},update:function(e,n){return function(e,t,n){if(t&&t.data&&t.data.unbanUserFromChatRoom&&t.data.unbanUserFromChatRoom.ban&&t.data.unbanUserFromChatRoom.ban.bannedUser&&t.data.unbanUserFromChatRoom.ban.bannedUser.id){var r=Object(i.a)(e,n,t.data.unbanUserFromChatRoom.ban.bannedUser.id);if(!r)return;e.writeQuery({query:o,variables:{targetUserID:t.data.unbanUserFromChatRoom.ban.bannedUser.id,channelID:n},data:a.__assign({},r,{chatRoomBanStatus:null})})}}(e,n,t)}})];case 2:return[2,s.sent().data];case 3:throw s.sent(),new Error("Unable to unban user");case 4:return[3,6];case 5:throw new Error("Unban user mutation is not ready");case 6:return[2]}})})}}}})}},aF6k:function(e,t,n){"use strict";function a(e){var t=Math.random().toString(36).substring(2,6);return e+"-"+Date.now()+"-"+t}n.d(t,"a",function(){return a})},b6Yk:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("mrSG"),r=n("/7QA"),i=n("kRBY"),o=function(){function e(){}return e.get=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.request(e,a.__assign({},t,{method:"GET"}),n)];case 1:return[2,r.sent()]}})})},e.getOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.requestOrThrow(e,a.__assign({},t,{method:"GET"}),n)];case 1:return[2,r.sent()]}})})},e.put=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.request(e,a.__assign({},t,{method:"PUT"}),n)];case 1:return[2,r.sent()]}})})},e.putOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.requestOrThrow(e,a.__assign({},t,{method:"PUT"}),n)];case 1:return[2,r.sent()]}})})},e.post=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.request(e,a.__assign({},t,{method:"POST"}),n)];case 1:return[2,r.sent()]}})})},e.postOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.requestOrThrow(e,a.__assign({},t,{method:"POST"}),n)];case 1:return[2,r.sent()]}})})},e.delete=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.request(e,a.__assign({},t,{method:"DELETE"}),n)];case 1:return[2,r.sent()]}})})},e.deleteOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.requestOrThrow(e,a.__assign({},t,{method:"DELETE"}),n)];case 1:return[2,r.sent()]}})})},e.request=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){var r,i,o,s;return a.__generator(this,function(l){switch(l.label){case 0:return t=this.constructOptions(t,n),r=t.headers?t.headers["Content-Type"]:void 0,i=this.serialize(t.body,r),o=a.__assign({},t,{body:i}),[4,this._fetch(e,o)];case 1:return s=l.sent(),[4,this.constructLegacyAPIResponse(s)];case 2:return[2,l.sent()]}})})},e.requestOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),a.__awaiter(this,void 0,Promise,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.request(e,t,n)];case 1:if((r=i.sent()).requestError)throw r.requestError;if(r.error)throw new Error("Error while sending legacy-api request: "+r.error.status+" - "+r.error.message);return[2,a.__assign({},r,{body:r.body})];case 2:throw i.sent();case 3:return[2]}})})},e.getAPIURL=function(e){return new URL(e,r.q.config.apiBaseURL)},e.constructLegacyAPIResponse=function(e){return a.__awaiter(this,void 0,Promise,function(){var t,n,r,i;return a.__generator(this,function(a){switch(a.label){case 0:t={status:e.status},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.json()];case 2:return n=a.sent(),e.ok?t.body=n:t.error=n,[3,4];case 3:return r=a.sent(),e.headers&&e.headers.get&&(i=e.headers.get("Content-Type"))&&-1!==i.indexOf("application/json")&&(t.requestError=r),[3,4];case 4:return[2,t]}})})},e._fetch=function(e,t){return void 0===t&&(t={}),a.__awaiter(this,void 0,Promise,function(){return a.__generator(this,function(n){switch(n.label){case 0:return[4,fetch(this.getAPIURL(e).toString(),t)];case 1:return[2,n.sent()]}})})},e.constructOptions=function(e,t){return e=Object.assign({},e,{headers:a.__assign({},this.getDefaultHeaders(e,t),e.headers)})},e.serialize=function(e,t){return"application/json; charset=UTF-8"===t?JSON.stringify(e):"string"==typeof e?e:e&&FormData.prototype.isPrototypeOf(e)?e:e?(this.logger.error(new Error("Could not serialize this request body for the content-type provided."),"attempting to serialize object with a non-JSON content-type",{contentType:t}),null):null},e.getDefaultHeaders=function(e,t){var n=r.q.store.getState(),a={Accept:"application/vnd.twitchtv.v"+(t.version||5)+"+json; charset=UTF-8","Accept-Language":"en-us","Client-ID":r.q.config.legacyClientID,"X-Requested-With":"XMLHttpRequest"};e.body&&FormData.prototype.isPrototypeOf(e.body)||(a["Content-Type"]="application/json; charset=UTF-8");var o=Object(i.e)(n);return o&&(a.Authorization="OAuth "+o.authToken,o.legacyCSRFToken&&(a["Twitch-Api-Token"]=o.legacyCSRFToken)),t.excludeHeaders&&t.excludeHeaders.forEach(function(e){a[e]&&delete a[e]}),a},e.logger=r.q.logger.withCategory("legacy-api"),e}()},bRMw:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s});var a=n("/7QA"),r=n("kRBY"),i="cc_v2_whitelist";function o(e,t){var n=a.b.get(e,[]),i=a.q.store.getState();return n.includes(t)||n.includes(t+"-staff")&&Object(r.g)(i)||!!(n.includes(t+"-staff")&&i.session&&i.session.user&&i.session.user.login===t)}function s(e){return o(i,e)}},esZd:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n("2Ygb");function o(e){return function(t){return function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return a.__extends(o,n),o.prototype.render=function(){return r.createElement(t,a.__assign({},e(this.props)))},o.displayName=Object(i.a)(o.name,t),o}(r.Component)}}n.d(t,"a",function(){return o})},gO1k:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DeleteChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteChatMessageInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responseCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:182}};n.loc.source={body:"mutation Chat_DeleteChatMessage($input: DeleteChatMessageInput!) {\ndeleteChatMessage(input: $input) {\nresponseCode\nmessage {\nid\nsender {\nid\nlogin\ndisplayName\n}\ncontent {\ntext\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},iFBW:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatSettings_CurrentUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:236}};a.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery ChatSettings_CurrentUser($channelLogin: String!) {\ncurrentUser {\nid\nlogin\ndisplayName\nchatColor\n}\nuser(login: $channelLogin) {\nid\nself {\ndisplayBadges {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};a.definitions=a.definitions.concat(n("IKE4").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})),e.exports=a},iyGE:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n("mrSG"),r=n("yR8l"),i=n("Pub/"),o=n("HzXE"),s=n("4G6/"),l=n("4w0E");function d(e){var t=this;return Object(r.a)(l,{props:function(n){return{banUserMutation:function(r,l,d){return void 0===l&&(l=null),void 0===d&&(d=null),a.__awaiter(t,void 0,void 0,function(){var t,c;return a.__generator(this,function(u){switch(u.label){case 0:if(t=e(n.ownProps).channelID,!n.mutate||!t)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),c=null,"number"==typeof l?c=Object(s.a)(l):"string"==typeof l&&(c=l),[4,n.mutate({variables:{input:{channelID:t,bannedUserLogin:r,expiresIn:c,reason:d}},update:function(e,n){return function(e,t,n){if(t&&t.data&&t.data.banUserFromChatRoom&&t.data.banUserFromChatRoom.ban&&t.data.banUserFromChatRoom.ban.bannedUser&&t.data.banUserFromChatRoom.ban.bannedUser.id){var r=Object(i.a)(e,n,t.data.banUserFromChatRoom.ban.bannedUser.id);if(!r)return;e.writeQuery({query:o,variables:{targetUserID:t.data.banUserFromChatRoom.ban.bannedUser.id,channelID:n},data:a.__assign({},r,{chatRoomBanStatus:{isPermanent:t.data.banUserFromChatRoom.ban.isPermanent,__typename:"ChatRoomBanStatus"}})})}}(e,n,t)}})];case 2:return[2,u.sent().data];case 3:throw u.sent(),new Error("Unable to ban user");case 4:return[3,6];case 5:throw new Error("Ban user mutation is not ready");case 6:return[2]}})})}}}})}},jBwP:function(e,t,n){"use strict";var a,r=n("mrSG"),i=n("q1tI"),o=n("1rIY"),s=n("W/3w"),l=(a=Object(o.a)("ChatRoomStateContext",{followerDuration:s.a,followerMode:!1,slowMode:!1,slowModeDuration:120,subsOnlyMode:!1,updateRoomState:function(e){return null}})).InnerProvider,d=a.withContext,c=function(e){function t(t){var n=e.call(this,t)||this;return n.updateRoomState=function(e){n.setState(function(t){return{followerMode:void 0!==e.followersOnly?e.followersOnly:t.followerMode,followerDuration:void 0!==e.followersOnlyRequirement?e.followersOnlyRequirement:t.followerDuration,slowMode:void 0!==e.slowMode?e.slowMode:t.slowMode,slowModeDuration:e.slowModeDuration||t.slowModeDuration,subsOnlyMode:void 0!==e.subsOnly?e.subsOnly:t.subsOnlyMode}})},n.state={followerDuration:s.a,followerMode:!1,slowMode:!1,slowModeDuration:120,subsOnlyMode:!1,updateRoomState:n.updateRoomState},n}return r.__extends(t,e),t.prototype.render=function(){return i.createElement(l,{value:this.state},this.props.children)},t}(i.Component),u=c;n.d(t,!1,function(){return l}),n.d(t,"b",function(){return d}),n.d(t,!1,function(){return c}),n.d(t,"a",function(){return u})},kELf:function(e,t,n){},m9vr:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n("/7QA"),o=n("hnjF"),s=n("7uM4"),l=n("sUnt"),d=n("+80q"),c=n("X2PJ"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return r.createElement(l.a,{fullWidth:!0,fullHeight:!0},r.createElement(l.a,{display:o.d.Flex,flexGrow:1,alignItems:o.b.Center,justifyContent:o.h.Center,flexDirection:o.e.Column,fullHeight:!0},r.createElement(s.a,{width:48,height:48,asset:s.b.Lock,type:s.c.Alt2}),r.createElement(l.a,{display:o.d.Flex,alignItems:o.b.Center,flexDirection:o.e.Column,margin:{top:1}},r.createElement(d.a,{bold:!0,fontSize:c.d.Size3},Object(i.d)("Access Denied","DashboardAccessDenied")),r.createElement(d.a,{fontSize:c.d.Size4,color:c.c.Alt2},Object(i.d)("You don't have access to this dashboard","DashboardAccessDenied")))))},t}(r.Component);n.d(t,"a",function(){return u})},nEWQ:function(e,t,n){"use strict";var a=n("mrSG"),r=n("q1tI"),i=n("9C/b"),o=n("fvjX"),s=n("/7QA"),l=n("wUQP"),d=n("O3/n"),c=n("Pp1Y"),u=n("omRF"),m=n("w+70"),h="consolidated_dashboard_settings",p={"data-test-selector":"revenue-settings-link-selector"},g={"data-test-selector":"settings-link-selector"},b={"data-test-selector":"moderation-link-selector"},f={"data-test-selector":"moderation-settings-link-selector"},v={"data-test-selector":"permissions-link-selector"},k={"data-test-selector":"roles-link-selector"},C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isConsolidatedModerationEnabled=Object(l.a)(h),t.isDashboardSettingsActive=function(e,n){var a=Object(u.b)(t.props.match.params.channelLogin),r=Object.values(u.a).join("|");return!!n.pathname.match(new RegExp("("+a+"$)|("+a+"/("+r+"))"))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.match.params.channelLogin,n=e.pageAccess,i=Object(u.b)(t),o=n[m.a.SettingsChannel].channelEnabled&&n[m.a.SettingsChannel].currentUserAuthorized,l=n[m.a.SettingsRoles].channelEnabled&&n[m.a.SettingsRoles].currentUserAuthorized,h=n[m.a.SettingsModeration].channelEnabled&&n[m.a.SettingsModeration].currentUserAuthorized,v=n[m.a.SettingsRevenue],C=v.revenueType,E=!!(v.channelEnabled&&v.currentUserAuthorized&&C);return o||l||h||E?r.createElement(r.Fragment,null,r.createElement(d.a,null,Object(s.d)("Settings","SettingsDashboardNav")),r.createElement("ul",null,o&&r.createElement("li",null,r.createElement(c.a,a.__assign({isActive:this.isDashboardSettingsActive,linkTo:i},g),Object(s.d)("Channel","SettingsDashboardNav"))),l&&r.createElement("li",null,r.createElement(c.a,a.__assign({linkTo:"/"+t+"/dashboard/roles"},k),Object(s.d)("Roles","SettingsDashboardNav"))),h&&r.createElement("li",null,r.createElement(c.a,a.__assign({},this.isConsolidatedModerationEnabled?a.__assign({linkTo:i+"/moderation"},f):a.__assign({linkTo:i+"/automod"},b)),Object(s.d)("Moderation","SettingsDashboardNav"))),E&&C&&r.createElement("li",null,r.createElement(c.a,a.__assign({linkTo:i+"/revenue"},p),function(e){switch(e){case m.c.Partner:return Object(s.d)("Partner","SettingsDashboardNav");case m.c.Affiliate:return Object(s.d)("Affiliate","SettingsDashboardNav");case m.c.Developer:return Object(s.d)("Extensions Developer","SettingsDashboardNav");default:var t=e;return t}}(C))))):null},t}(r.Component);var E=Object(o.compose)(i.a,m.e)(C);n.d(t,"a",function(){return h}),n.d(t,!1,function(){return p}),n.d(t,!1,function(){return g}),n.d(t,!1,function(){return b}),n.d(t,!1,function(){return f}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return k}),n.d(t,!1,function(){return C}),n.d(t,"b",function(){return E})},obKW:function(e,t,n){},omRF:function(e,t,n){"use strict";function a(e){return void 0===e&&(e=":channelLogin"),"/"+e+"/dashboard/settings"}var r;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),function(e){e.AUTHORIZED_STREAMERS="authorized-streamers",e.AUTOHOST="autohost",e.MANAGED_CHANNELS="managed-channels"}(r||(r={}))},op4u:function(e,t,n){},ptRJ:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("mrSG"),r=n("ZtEv"),i=n("a1OF"),o=n("aF6k");function s(e,t,n,s,l,d,c){return void 0===d&&(d=!1),void 0===c&&(c=!1),a.__assign({},Object(i.a)(t,n,s,l,d,c),{type:r.b.Message,messageType:e,id:n.id||Object(o.a)(n.username)})}},rVj2:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"DashboardPageAccessContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isChannelOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGlobalMod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bountyBoardSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"payoutInvite"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isChannelOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:337}};n.loc.source={body:"query DashboardPageAccessContext($channelLogin: String! $isChannelOwner: Boolean!) {\ncurrentUser {\nid\nroles {\nisGlobalMod\nisSiteAdmin\n}\n}\nchannel: user(login: $channelLogin) {\nid\nbountyBoardSettings {\nisEnabled\n}\npayoutInvite @include(if: $isChannelOwner) {\nid\ncategory\n}\nroles {\nisAffiliate\nisPartner\n}\nself {\nisEditor\nisModerator\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"u/v7":function(e,t,n){},uYvD:function(e,t,n){},"vLL+":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("q1tI"),r=n("/7QA"),i=n("68Fl"),o=n("7uM4"),s=n("hnjF"),l=n("b7S+"),d=n("X2PJ"),c=n("Ws8v"),u=(n("L6L7"),function(e){var t=e.onBanUser,n=o.b.Ban,u=Object(r.d)("Ban {login}",{login:e.senderLogin},"ModerationIcons"),m="chat-ban-button",h=null,p=e.renderNewVersion?s.d.Flex:s.d.Inline,g=e.renderNewVersion?l.b.Center:l.b.Left,b=e.renderNewVersion?l.c.Bottom:l.c.Top,f=e.renderNewVersion?d.c.Link:d.c.Alt2,v=e.renderNewVersion?{right:.5}:{right:0};return e.isMessageBanned&&(t=e.onUnbanUser,n=o.b.FollowCheck,u=Object(r.d)("Unban {login}",{login:e.senderLogin},"ModerationIcons"),m="chat-unban-button"),!e.isMessageDeleted&&e.canDelete&&(h=a.createElement(i.a,{name:"single_message_delete"},a.createElement(c.a,{display:s.d.InlineFlex,margin:v,verticalAlign:s.l.Bottom},a.createElement(l.a,{align:g,direction:b,label:Object(r.d)("Delete message","ModerationIcons")},a.createElement("button",{className:"mod-icon",onClick:e.onDelete,"data-test-selector":"chat-delete-button"},a.createElement(o.a,{width:16,height:16,type:o.c.Inherit,asset:o.b.Trash})))))),a.createElement(c.a,{color:f,display:p,margin:{right:.5}},a.createElement(c.a,{display:s.d.InlineFlex,margin:v,verticalAlign:s.l.Bottom},a.createElement(l.a,{align:g,direction:b,label:u},a.createElement("button",{className:"mod-icon",onClick:t,"data-test-selector":m},a.createElement(o.a,{width:16,height:16,type:o.c.Inherit,asset:n})))),a.createElement(c.a,{display:s.d.InlineFlex,margin:v,verticalAlign:s.l.Bottom},a.createElement(l.a,{align:g,direction:b,label:Object(r.d)("Timeout {login}",{login:e.senderLogin},"ModerationIcons")},a.createElement("button",{className:"mod-icon",onClick:e.onTimeoutUser,"data-test-selector":"chat-timeout-button"},a.createElement(o.a,{width:16,height:16,type:o.c.Inherit,asset:o.b.Timeout})))),h)})},"w+70":function(e,t,n){"use strict";var a,r,i,o,s=n("mrSG"),l=n("q1tI"),d=n("/MKj"),c=n("9C/b"),u=n("fvjX"),m=n("ZDlU"),h=n("LA8z"),p=n("yR8l"),g=n("DMoW"),b=n("kRBY"),f=n("1rIY"),v=n("m9vr"),k=n("bRMw"),C=n("XQbB"),E=n("rVj2");!function(e){e.AnalyticsChannel="AnalyticsChannel",e.AnalyticsStreamSummary="AnalyticsStreamSummary",e.DashboardAchievements="DashboardAchievements",e.DashboardActivity="DashboardActivity",e.DashboardBounties="DashboardBounties",e.DashboardEvents="DashboardEvents",e.DashboardExtensions="DashboardExtensions",e.DashboardLive="DashboardLive",e.DashboardMultiview="DashboardMultiview",e.DashboardBroadcast="DashboardBroadcast",e.SettingsChannel="SettingsChannel",e.SettingsModeration="SettingsModeration",e.SettingsModerationAutomod="SettingsModerationAutomod",e.SettingsModerationBannedChatters="SettingsModerationBannedChatters",e.SettingsModerationBlockedTerms="SettingsModerationBlockedTerms",e.SettingsModerationPermittedTerms="SettingsModerationPermittedTerms",e.SettingsModerationDirectory="SettingsModerationDirectory",e.SettingsRevenue="SettingsRevenue",e.SettingsRoles="SettingsRoles",e.VideoClips="VideoClips",e.VideoCollections="VideoCollections",e.VideoModeration="VideoModeration",e.VideoProducer="VideoProducer"}(i||(i={})),function(e){e[e.Affiliate=1]="Affiliate",e[e.Developer=2]="Developer",e[e.Partner=3]="Partner"}(o||(o={}));var S=(r=Object(f.a)("PageAccessContext",{pageAccess:(a={},a[i.AnalyticsChannel]={channelEnabled:!0,currentUserAuthorized:!1},a[i.AnalyticsStreamSummary]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardAchievements]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardActivity]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardBounties]={channelEnabled:!1,currentUserAuthorized:!1},a[i.DashboardEvents]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardExtensions]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardLive]={channelEnabled:!0,currentUserAuthorized:!1},a[i.DashboardMultiview]={channelEnabled:!1,currentUserAuthorized:!1},a[i.DashboardBroadcast]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsChannel]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModeration]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModerationAutomod]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModerationBannedChatters]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModerationBlockedTerms]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModerationPermittedTerms]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsModerationDirectory]={channelEnabled:!0,currentUserAuthorized:!1},a[i.SettingsRevenue]={channelEnabled:!1,currentUserAuthorized:!1},a[i.SettingsRoles]={channelEnabled:!0,currentUserAuthorized:!1},a[i.VideoClips]={channelEnabled:!0,currentUserAuthorized:!1},a[i.VideoCollections]={channelEnabled:!0,currentUserAuthorized:!1},a[i.VideoModeration]={channelEnabled:!0,currentUserAuthorized:!1},a[i.VideoProducer]={channelEnabled:!0,currentUserAuthorized:!1},a)})).InnerProvider,y=r.withContext;function D(e){return e}function w(e){return y(D)(e)}var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.data,a=n.channel,r=n.currentUser,o=n.error,s=n.loading,d=t.match.params.channelLogin,c=t.sessionUser;if(s)return l.createElement(C.a,{fillContent:!0,size:C.b.Large});var u=Boolean(c&&c.login.toLowerCase()===d.toLowerCase()),p=Boolean(a&&a.self&&a.self.isEditor),g=Boolean(a&&a.self&&a.self.isModerator),b=Boolean(c&&c.roles&&c.roles.isStaff),f=Boolean(r&&r.roles&&r.roles.isSiteAdmin),E=Boolean(r&&r.roles&&r.roles.isGlobalMod);if(!u){if(o)return l.createElement(m.a,null);if(!a||!a.id)return l.createElement(h.a,null);if(!(p||g||b||f||E))return l.createElement(v.a,null)}var y={pageAccess:(e={},e[i.AnalyticsChannel]={channelEnabled:!0,currentUserAuthorized:u||b},e[i.AnalyticsStreamSummary]={channelEnabled:!0,currentUserAuthorized:u||b},e[i.DashboardAchievements]={channelEnabled:!0,currentUserAuthorized:u||b},e[i.DashboardActivity]={channelEnabled:!0,currentUserAuthorized:u||b||f},e[i.DashboardBounties]={channelEnabled:Boolean(a&&a.bountyBoardSettings&&a.bountyBoardSettings.isEnabled),currentUserAuthorized:u},e[i.DashboardEvents]={channelEnabled:!0,currentUserAuthorized:u||p||b},e[i.DashboardExtensions]={channelEnabled:!0,currentUserAuthorized:u},e[i.DashboardLive]=_(u,p,b),e[i.DashboardMultiview]={channelEnabled:Object(k.c)(k.a,d),currentUserAuthorized:u||b},e[i.DashboardBroadcast]={channelEnabled:!0,currentUserAuthorized:u},e[i.SettingsChannel]={channelEnabled:!0,currentUserAuthorized:u},e[i.SettingsModeration]={channelEnabled:!0,currentUserAuthorized:u||g||b||f},e[i.SettingsModerationAutomod]={channelEnabled:!0,currentUserAuthorized:u||g||f},e[i.SettingsModerationBannedChatters]={channelEnabled:!0,currentUserAuthorized:u||f},e[i.SettingsModerationBlockedTerms]={channelEnabled:!0,currentUserAuthorized:u||g||f},e[i.SettingsModerationPermittedTerms]={channelEnabled:!0,currentUserAuthorized:u||g||f},e[i.SettingsModerationDirectory]={channelEnabled:!0,currentUserAuthorized:u||g||f},e[i.SettingsRevenue]={channelEnabled:void 0!==this.revenueType,currentUserAuthorized:u||b,revenueType:this.revenueType},e[i.SettingsRoles]={channelEnabled:!0,currentUserAuthorized:u},e[i.VideoClips]={channelEnabled:!0,currentUserAuthorized:u},e[i.VideoCollections]={channelEnabled:!0,currentUserAuthorized:u||p||b},e[i.VideoModeration]={channelEnabled:!0,currentUserAuthorized:u||g||b||f||E},e[i.VideoProducer]={channelEnabled:!0,currentUserAuthorized:u||p||b||f},e)};return l.createElement(S,{value:y},this.props.children)},Object.defineProperty(t.prototype,"revenueType",{get:function(){var e=this.props.data.channel,t=e&&e.payoutInvite&&e.payoutInvite.category;return Boolean(e&&e.roles&&e.roles.isPartner)||t===g.Ia.CUSTOM_PARTNER||t===g.Ia.PREMIUM_PARTNER||t===g.Ia.STANDARD_PARTNER?o.Partner:Boolean(e&&e.roles&&e.roles.isAffiliate)||t===g.Ia.AFFILIATE?o.Affiliate:t===g.Ia.EXTENSIONS_DEVELOPER?o.Developer:void 0},enumerable:!0,configurable:!0}),t}(l.Component);var A=Object(u.compose)(c.a,Object(d.connect)(function(e){return{sessionUser:Object(b.e)(e)}}),Object(p.a)(E,{options:function(e){var t=e.match.params.channelLogin,n=e.sessionUser;return{variables:{channelLogin:t,isChannelOwner:Boolean(n&&n.login.toLowerCase()===t.toLowerCase())}}}}))(O);function _(e,t,n){return{channelEnabled:!0,currentUserAuthorized:e||t||n}}n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,!1,function(){return S}),n.d(t,!1,function(){return y}),n.d(t,"e",function(){return w}),n.d(t,!1,function(){return O}),n.d(t,"b",function(){return A}),n.d(t,"d",function(){return _})},xQnr:function(e,t,n){"use strict";var a=n("8qOS");n.d(t,"a",function(){return a.a})}}]);