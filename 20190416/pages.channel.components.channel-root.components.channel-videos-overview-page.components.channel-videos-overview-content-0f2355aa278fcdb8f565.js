(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{"+Vfn":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionConnectionFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CollectionConnection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PreviewCardVideo"},directives:[]}]}}]}}]}}],loc:{start:0,end:199}};i.loc.source={body:'#import "twilight/features/video-preview-card/models/preview-card-video-fragment.gql"\nfragment CollectionConnectionFields on CollectionConnection {\ntotalCount\nedges {\nnode {\n...PreviewCardVideo\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};i.definitions=i.definitions.concat(n("he03").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!o[t]&&(o[t]=!0,!0)})),e.exports=i},"0Nms":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentCollectionCarousel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionConnectionFields"},directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFields"},directives:[]}]}}]}}],loc:{start:0,end:396}};i.loc.source={body:'#import "twilight/features/video-carousel/components/collection-carousel/models/collection-fields-fragment.gql"\n#import "twilight/features/video-carousel/components/collection-carousel/models/collection-connection-fields-fragment.gql"\nquery CurrentCollectionCarousel($collectionID: ID!) {\ncollection(id: $collectionID) {\nitems (first:100) {\n...CollectionConnectionFields\n}\n...CollectionFields\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!o[t]&&(o[t]=!0,!0)})}i.definitions=i.definitions.concat(r(n("msok").definitions)),i.definitions=i.definitions.concat(r(n("+Vfn").definitions)),e.exports=i},"6h5w":function(e,t,n){"use strict";var i,o=n("q1tI"),r=n("9C/b"),a=n("/7QA"),s=n("vRsq"),l=n("7uM4"),d=n("+80q"),c=n("Jsra"),u=n("sUnt"),p=n("hnjF");!function(e){e.PlayAll="play-all",e.ViewAll="view-all"}(i||(i={}));var m,h=Object(r.a)(function(e){var t=e.options,n=Object(s.k)(e.channelLogin,e,t),r=o.createElement(o.Fragment,null,o.createElement(d.a,{"data-test-selector":i.ViewAll,type:d.e.H5},Object(a.d)("View All","VideoShelfExpandLink")),o.createElement(l.a,{asset:l.b.AngleRight,height:14}));return e.collectionID&&(n=Object(s.i)(e.collectionID,e),r=o.createElement(o.Fragment,null,o.createElement(l.a,{asset:l.b.Play,height:14}),o.createElement(d.a,{"data-test-selector":i.PlayAll,type:d.e.H5},Object(a.d)("Play All","VideoShelfExpandLink")))),o.createElement(c.a,{to:n,hoverUnderlineNone:!0,"data-a-target":"video-shelf-expand-link-"+(e.options&&e.options.filter||"default")},o.createElement(u.a,{display:p.d.InlineFlex,flexDirection:p.e.Row,alignItems:p.b.Center},r))}),v=n("X2PJ"),g=n("PL8s");n.d(t,"a",function(){return f}),function(e){e.Title="title",e.SubTitle="subtitle"}(m||(m={}));var f=function(e){if(!e.titleMessage)return o.createElement(g.a,{width:200});var t=o.createElement(d.a,{type:d.e.H4,color:v.c.Base,bold:!0,"data-test-selector":m.Title},e.titleMessage);e.titleLinkTo&&(t=o.createElement(c.a,{to:e.titleLinkTo,type:c.b.Inherit},t));var n=e.subTitle;return e.subTitle&&"string"==typeof e.subTitle?n=o.createElement(d.a,{color:v.c.Alt2,type:d.e.P,"data-test-selector":m.SubTitle,ellipsis:!0},e.subTitle):e.subTitle&&(n=o.createElement(u.a,{"data-test-selector":m.SubTitle},n)),o.createElement(o.Fragment,null,o.createElement(u.a,{display:p.d.Flex,flexDirection:p.e.Row,alignItems:p.b.End,margin:{right:1}},t,e.expandLink&&o.createElement(u.a,{padding:{left:1}},o.createElement(h,{channelLogin:e.expandLink.channelLogin,collectionID:e.expandLink.collectionID,options:e.expandLink.options}))),n)}},"A7Y/":function(e,t,n){},XEwr:function(e,t,n){"use strict";function i(e){if(!e||!e.edges||0===e.edges.length)return[];var t=[];return e.edges.forEach(function(e){e&&e.node&&e.node.id&&t.push(e.node)}),t}function o(e){return"slug"in e}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o})},bdIb:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("mrSG"),o=n("cr+I"),r=n("q1tI"),a=n("/7QA"),s=n("GFmA"),l=n("kduP"),d=n("efpB"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickHandler=function(){t.props.onClick&&t.props.onClick(t.props.tracking.content_index)},t}return i.__extends(t,e),t.prototype.render=function(){return r.createElement(s.a,{context:this.props.context,title:this.props.clip.title,linkTo:{pathname:this.props.clip.broadcaster?"/"+this.props.clip.broadcaster.login+"/clip/"+this.props.clip.slug:"",state:this.getLinkState(),search:this.generateSearchString()},onClick:this.onClickHandler,thumbnailImageProps:{src:this.props.clip.thumbnailURL||a.q.config.defaultStreamPreviewURL,alt:this.props.clip.title},channelDisplayName:this.props.clip.broadcaster&&this.props.clip.broadcaster.displayName||"",channelLogin:this.props.clip.broadcaster&&this.props.clip.broadcaster.login||"",channelLinkTo:{pathname:this.props.clip.broadcaster?"/"+this.props.clip.broadcaster.login:"",state:this.getLinkState()},channelImageProps:{src:this.props.clip.broadcaster&&this.props.clip.broadcaster.profileImageURL||"",alt:this.props.clip.broadcaster&&this.props.clip.broadcaster.login||""},gameTitle:this.props.clip.game&&this.props.clip.game.name||void 0,gameTitleLinkTo:this.props.clip.game?{pathname:Object(l.b)(this.props.clip.game.name),state:this.getLinkState()}:void 0,gameBoxArtImageProps:this.props.clip.game?{src:this.props.clip.game.boxArtURL||a.a.defaultBoxArtURL,alt:this.props.clip.game.name}:void 0,datePublished:this.props.clip.createdAt,viewCount:this.props.clip.viewCount,durationInSeconds:this.props.clip.durationSeconds,clipCreatedByChannelLogin:this.props.clip.curator&&this.props.clip.curator.login||"",clipCreatedByChannelLoginLinkTo:this.props.clip.curator?"/"+this.props.clip.curator.login:""})},t.prototype.generateSearchString=function(){var e={};this.props.videoBrowseOptions&&(this.props.videoBrowseOptions.filter&&(e.filter=this.props.videoBrowseOptions.filter),this.props.videoBrowseOptions.sort&&(e.sort=this.props.videoBrowseOptions.sort),this.props.videoBrowseOptions.range&&(e.range=this.props.videoBrowseOptions.range));var t=o.stringify(e);return t?"?"+t:""},t.prototype.getLinkState=function(){var e=Object(d.a)();return i.__assign({content:this.props.tracking.content,content_index:this.props.tracking.content_index,medium:this.props.tracking.medium},e&&{medium:e.medium,search_session_id:e.search_session_id})},t}(r.Component)},eqgM:function(e,t,n){"use strict";var i,o,r=n("/MKj"),a=n("mrSG"),s=n("q1tI"),l=n("/7QA"),d=n("N0BP"),c=n("GnwI"),u=n("TSYQ"),p=n("4VQm"),m=n("sUnt"),h=n("hnjF"),v=n("IbuL"),g=n("7uM4"),f=n("uOxs"),k=n("Ws8v"),C=n("X2PJ"),b=n("i4Ys");n("A7Y/");var y="carousel-content",S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentElementIndex:0,hasBeenVisible:!1,numberOfChildrenToRender:null},t.moveCarouselToCardIndex=function(e){if(t.props.children&&!(t.props.children.length<=1)){var n=t.getNumberOfVisibleElements();t.props.children.length<n||(e<t.props.children.length&&e>t.props.children.length-n?t.setState({currentElementIndex:t.props.children.length-n}):t.setState({currentElementIndex:e}))}},t.moveCarouselForward=function(){if(!t.isForwardButtonDisabled()&&t.props.children){var e=t.getNumberOfVisibleElements();t.state.currentElementIndex+2*e>t.props.children.length?t.setState({currentElementIndex:t.props.children.length-e}):t.setState({currentElementIndex:t.state.currentElementIndex+e})}},t.moveCarouselBackward=function(){if(!t.isBackButtonDisabled()){var e=t.getNumberOfVisibleElements();t.setState({currentElementIndex:Math.max(t.state.currentElementIndex-e,0)})}},t.isForwardButtonDisabled=function(){if(!t.carouselContainerRef)return!1;if(t.props.children){var e=0,n=t.carouselContainerRef.querySelector("[data-js-selector="+y+"]");return n&&(e=n.childElementCount),t.getLastVisibleIndex()>=e}return!0},t.isBackButtonDisabled=function(){return 0===t.state.currentElementIndex},t.getLastVisibleIndex=function(){return t.state.currentElementIndex+t.getNumberOfVisibleElements()},t.getNumberOfVisibleElements=function(){if(!t.carouselContainerRef)return 0;var e=t.carouselContainerRef.getBoundingClientRect(),n=e.left,i=e.right-n,o=t.getVideoCardEndPadding();return Math.floor((i+o)/t.getChildWidth())},t.refHandler=function(e){return t.carouselContainerRef=e},t.getChildWidth=function(){if(!t.carouselContainerRef)return 0;var e=t.carouselContainerRef.querySelector("[data-js-selector="+y+"]");return e&&e.children.length?e.children[0].getBoundingClientRect().width:0},t.getVideoCardEndPadding=function(){var e=t.carouselContainerRef.querySelector("[data-js-selector="+y+"]");if(!e||0===e.children.length)return 0;var n=window.getComputedStyle(e.children[0]).paddingRight||"";return 2*parseInt(n,10)||0},t.pixelOffset=function(){return t.getChildWidth()*t.state.currentElementIndex*-1},t.transformString=function(){return"translate3d("+t.pixelOffset()+"px, 0px, 0px)"},t.setChildrenToRender=function(){t.setState({numberOfChildrenToRender:t.getNumberOfVisibleElements()})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.unregisterScrollHandler=this.props.registerReceiver(this),this.setChildrenToRender(),null!==this.props.children&&this.checkVisible(),window.addEventListener("resize",function(){e.setChildrenToRender()})},t.prototype.componentDidUpdate=function(e){null===e.children&&null!==this.props.children&&this.checkVisible(),(!e.options&&this.props.options||e.options&&this.props.options&&this.props.options.videoIndex!==e.options.videoIndex)&&this.moveCarouselToCardIndex(this.props.options.videoIndex)},t.prototype.componentWillUnmount=function(){var e=this;this.unregisterScrollHandler&&this.unregisterScrollHandler(),window.removeEventListener("resize",function(){e.setChildrenToRender()})},t.prototype.render=function(){var e=this.props.children;return null!==e&&this.props.hideNavigationButtons&&null!==this.state.numberOfChildrenToRender&&(e=e.slice(0,this.state.numberOfChildrenToRender)),s.createElement(h.g,{margin:{y:1},position:h.j.Relative},s.createElement("div",a.__assign({className:"preview-card-carousel",ref:this.refHandler},Object(d.a)(this.props)),s.createElement(m.a,{className:"preview-card-carousel__child-container",overflow:h.i.Hidden,position:h.j.Relative,fullWidth:!0,"data-test-selector":"child-container"},s.createElement(h.g,{margin:{bottom:1}},s.createElement("div",{className:"preview-card-carousel__body",style:{transform:this.transformString()},"data-test-selector":"carousel-body"},s.createElement(f.a,{noWrap:!0,noGrow:!0,childWidth:this.props.cardWidth||f.b.Large,gutterSize:f.c.Small,"data-js-selector":y},e)))),!this.props.hideNavigationButtons&&s.createElement(x,{direction:w.DirectionPrevious,disabled:!this.props.children||this.isBackButtonDisabled(),onClickHandler:this.moveCarouselBackward}),!this.props.hideNavigationButtons&&s.createElement(x,{direction:w.DirectionNext,disabled:!this.props.children||this.isForwardButtonDisabled(),onClickHandler:this.moveCarouselForward})))},t.prototype.checkVisible=function(){this.props.children&&this.props.children.length>0&&!this.state.hasBeenVisible&&function(e){if(!e)return!1;var t=e.getBoundingClientRect(),n=window.innerWidth,i=window.innerHeight;return!(t.right<0||t.bottom<0||t.left>n||t.top>i)}(this.carouselContainerRef)&&this.props.onFirstVisible(this.getNumberOfVisibleElements())},t}(s.Component),T=Object(p.c)(function(e){return{registerReceiver:e.registerReceiver}})(S),w={DirectionPrevious:"previous",DirectionNext:"next"},N=((i={})[w.DirectionPrevious]="previous",i[w.DirectionNext]="next",i),V=((o={})[w.DirectionPrevious]=g.b.AngleLeft,o[w.DirectionNext]=g.b.AngleRight,o),x=function(e){var t,n=N[e.direction],i=((t={})[w.DirectionPrevious]=Object(l.d)("previous","CarouselNavButton"),t[w.DirectionNext]=Object(l.d)("next","CarouselNavButton"),t),o=u("preview-card-carousel__button","preview-card-carousel__button--"+n,{"preview-card-carousel__button--disabled":e.disabled});return s.createElement(m.a,{className:"preview-card-carousel__nav",display:h.d.Flex,alignItems:h.b.Center,position:h.j.Absolute,attachTop:!0,attachLeft:e.direction&&"previous"===e.direction,attachRight:e.direction&&"next"===e.direction,fullHeight:!0},s.createElement(k.a,{className:o,position:h.j.Relative,display:h.d.Flex,borderRadius:C.b.Medium,background:e.disabled?C.a.Base:void 0},s.createElement(b.a,{ariaLabel:i[e.direction],blurAfterClick:!0,"data-test-selector":n+"-button",disabled:e.disabled,onClick:e.onClickHandler,type:b.b.Base,borderRadius:C.b.Medium},s.createElement(k.a,{color:C.c.Link,display:h.d.InlineFlex,padding:{x:.5,y:2}},s.createElement(v.a,{asset:V[e.direction]})))))},E=n("bdIb"),I=n("XEwr"),O=n("RXle"),L=10,D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasTrackedItemSectionLoad:!1},t.handleFirstVisible=function(e){if(!t.state.hasTrackedItemSectionLoad){for(var n=t.props.videos?t.props.videos:[],i=[],o=[],r=0;r<n.length&&!(e&&r>=e);r++){var s=n[r];i.push(s.id),o.push(s.viewCount||0)}l.p.trackItemSectionLoad(a.__assign({carousel_content:t.props.tracking.content,location:t.props.tracking.location,rendered_item_count:i.length,rendered_item_list:i,rendered_item_types:[t.props.tracking.itemType],rendered_items_viewcounts:o,section_content:t.props.tracking.shelfTracking&&t.props.tracking.shelfTracking.sectionContent,section_index:t.props.tracking.shelfTracking&&t.props.tracking.shelfTracking.position,section_type:t.props.tracking.shelfTracking&&t.props.tracking.shelfTracking.sectionType,section_item_count:n.length,section_content_id:t.props.tracking.shelfTracking&&t.props.tracking.shelfTracking.sectionContentId,section_name:t.props.tracking.shelfTracking&&t.props.tracking.shelfTracking.sectionDisplayName},t.props.tracking.source)),t.setState({hasTrackedItemSectionLoad:!0})}},t.onPreviewCardClick=function(e){if(t.props.videos){var n=t.props.videos[e];l.p.trackItemSectionClick(a.__assign({carousel_content:t.props.tracking.content,item_id:n.id,item_index:e,item_type:t.props.tracking.itemType,item_viewcount:n.viewCount,location:t.props.tracking.location,section_content:t.props.tracking.shelfTracking&&t.props.tracking.shelfTracking.sectionContent,section_index:t.props.tracking.shelfTracking&&t.props.tracking.shelfTracking.position,section_type:t.props.tracking.shelfTracking&&t.props.tracking.shelfTracking.sectionType,section_item_count:t.props.videos.length,section_content_id:t.props.tracking.shelfTracking&&t.props.tracking.shelfTracking.sectionContentId,section_name:t.props.tracking.shelfTracking&&t.props.tracking.shelfTracking.sectionDisplayName},t.props.tracking.source)),t.props.scrollToCurrentlyWatching&&t.props.videos.length>0&&t.setCarouselOptions({videoIndex:e})}},t.setCarouselOptions=function(e){t.props.videos&&t.props.videos.length>0&&t.setState({scrollToOptions:e})},t.getVideoIndexToRenderFrom=function(){return t.props.videos&&t.props.currentlyWatchingVideoID&&t.props.videos.findIndex(function(e){return e.id===t.props.currentlyWatchingVideoID})||0},t.getVideoCards=function(){var e=t.props.videos;if(null===e){for(var n=[],i=0;i<L;i++)n.push(s.createElement(O.VideoPreviewCardPlaceholder,{key:"carousel-placeholder-"+i}));return n}var o=t.getInitialVideoCardsList(),r=o.length,a=t.getVideoIndexToRenderFrom();return e.reduce(function(e,n,i){return!t.props.firstPageLoaded&&(i<a||i>=a+L)?(e.push(s.createElement(O.VideoPreviewCardPlaceholder,{key:"carousel-placeholder-"+i})),e):n.id!==t.props.currentlyWatchingVideoID||t.props.renderCurrentlyWatchingCard?(Object(I.a)(n)?e.push(s.createElement(E.a,{videoBrowseOptions:t.props.videoBrowseOptions,context:t.props.listContext,onClick:t.onPreviewCardClick,key:"video-"+i,"data-a-target":"video-carousel-card-"+i,tracking:{content:t.props.tracking.content,content_index:r+i,medium:t.props.tracking.medium},clip:n})):e.push(s.createElement(O.VideoPreviewCard,{videoBrowseOptions:t.props.videoBrowseOptions,context:t.props.listContext,collectionID:t.props.collectionID,onClick:t.onPreviewCardClick,key:"video-"+i,"data-a-target":"video-carousel-card-"+i,tracking:{content:t.props.tracking.content,content_index:r+i,medium:t.props.tracking.medium},video:n,multipleVideoGameMarkersType:t.props.multipleVideoGameMarkersType,listPosition:t.getPositionLabel(i),topBar:t.getPositionBanner(i),hideDuration:t.willRenderPositionBanner(i),hideTags:t.props.hideTags})),e):e},o)},t.getInitialVideoCardsList=function(){var e=[];if(t.props.spotlight){var n=s.createElement(O.VideoPreviewCard,{key:"spotlight","data-a-target":"video-carousel-card-spotlight",videoBrowseOptions:t.props.videoBrowseOptions,collectionID:t.props.collectionID,topBar:{title:t.props.spotlight.title,subTitle:t.props.spotlight.subTitle},context:t.props.listContext,tracking:{content:t.props.tracking.content,content_index:e.length,medium:t.props.tracking.medium},video:t.props.spotlight.card,hideTags:t.props.hideTags});e.push(n)}return e},t.getPositionBanner=function(e){if(t.props.renderPositionBanner&&t.props.renderCurrentlyWatchingCard&&t.props.videos){var n=t.getVideoIndexToRenderFrom(),i=e===n,o=e===n+1,r=Object(l.d)("{totalVideos, plural, one {{position} / # video} other {{position} / # videos}}",{position:e+1,totalVideos:t.props.videos.length},"VideoCarousel");return i?{title:Object(l.d)("Now playing","VideoCarousel"),subTitle:r,selected:!0}:o?{title:Object(l.d)("Up next","VideoCarousel"),subTitle:r}:void 0}},t.willRenderPositionBanner=function(e){if(!t.props.renderPositionBanner||!t.props.videos)return!1;var n=t.getVideoIndexToRenderFrom();return e===n||e===n+1},t.getPositionLabel=function(e){if(t.props.renderPositionLabel&&!t.willRenderPositionBanner(e)&&t.props.videos)return{position:e+1,totalVideos:t.props.videos.length}},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.videos&&this.props.scrollToCurrentlyWatching&&this.props.currentlyWatchingVideoID&&!this.state.scrollToOptions&&this.setCarouselOptions({videoIndex:this.getVideoIndexToRenderFrom()})},t.prototype.componentDidUpdate=function(e){null===e.videos&&null!==this.props.videos&&this.props.scrollToCurrentlyWatching&&this.props.currentlyWatchingVideoID?this.setCarouselOptions({videoIndex:this.getVideoIndexToRenderFrom()}):this.props.videos&&this.props.scrollToCurrentlyWatching&&this.props.currentlyWatchingVideoID!==e.currentlyWatchingVideoID&&this.setCarouselOptions({videoIndex:this.getVideoIndexToRenderFrom()})},t.prototype.render=function(){return s.createElement(T,a.__assign({options:this.state.scrollToOptions,cardWidth:this.props.videoCardSize,onFirstVisible:this.handleFirstVisible,hideNavigationButtons:this.props.hideNavigationButtons},Object(d.a)(this.props)),this.getVideoCards())},t}(s.Component),_=Object(c.withLatencyTracking)("VideoCarousel",{autoReportInteractive:!0})(D);n.d(t,"a",function(){return F});var F=Object(r.connect)(function(e){return{firstPageLoaded:e.session.firstPageLoaded}})(_)},gcyA:function(e,t,n){"use strict";n.r(t);var i,o=n("mrSG"),r=n("q1tI"),a=n("oJmH"),s=n("H1ft"),l=n("VwyG"),d=n("2xye"),c=n("tuvy"),u=n("9MrB"),p=n("YXxK"),m=n("GnwI"),h=n("9C/b"),v=n("/7QA"),g=n("yR8l"),f=n("vRsq"),k=n("L9xt"),C=n("GFmA"),b=n("6h5w"),y=n("eqgM"),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){if(null===this.props.videos||0!==this.props.videos.length)return r.createElement(r.Fragment,null,r.createElement(b.a,{titleMessage:Object(v.d)("Video Queue","VideoQueueCarousel"),subTitle:this.props.subTitle}),r.createElement(y.a,{collectionID:this.props.collectionID,listContext:C.b.SingleChannelList,multipleVideoGameMarkersType:this.props.multipleVideoGameMarkersType,tracking:{content:this.props.trackingContext.content,medium:this.props.trackingContext.medium,location:this.props.trackingContext.location,source:this.props.trackingContext.source,itemType:this.props.trackingContext.itemType},videos:this.props.videos,scrollToCurrentlyWatching:this.props.scrollToCurrentlyWatching,currentlyWatchingVideoID:this.props.currentlyWatchingVideoID,renderPositionLabel:!0,renderPositionBanner:!0,renderCurrentlyWatchingCard:!0}))},t}(r.Component),T=Object(a.compose)(Object(m.withLatencyTracking)("VideoQueueCarousel",{autoReportInteractive:!0}))(S),w=n("PL8s"),N=n("+80q"),V=n("Jsra"),x=n("X2PJ"),E=n("0Nms"),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e){e.data.loading&&!this.props.data.loading&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this;if(this.props.data.error)return null;var t=null,n=null;if(!this.props.data.loading&&!this.props.data.collection)return null;if(this.props.data&&this.props.data.collection){if(0===(t=this.getCollectionVideos()).length)return null;var i=this.props.data.collection.title;n=r.createElement(N.a,{color:x.c.Alt2,type:N.e.Span},Object(v.d)("{numVideos, plural, one {Playing # video from collection: <x:link>collectionTitle</x:link>} other {Playing # videos from collection: <x:link>collectionTitle</x:link>}}",{numVideos:t.length,"x:link":function(){return r.createElement(V.a,{to:Object(f.j)(null,null,e.props.collectionID)},r.createElement(N.a,{bold:!0,type:N.e.Span},i))}},"VideoQueueCollectionCarousel"))}else n=r.createElement(w.a,{width:250,lineCount:1});return r.createElement(T,{collectionID:this.props.collectionID,multipleVideoGameMarkersType:this.props.multipleVideoGameMarkersType,trackingContext:{content:d.PageviewContent.VideoQueueCollection,source:{},itemType:k.TwitchDataType.Video,medium:this.props.trackingContext.medium,location:this.props.trackingContext.location},videos:t,subTitle:n,scrollToCurrentlyWatching:!0,currentlyWatchingVideoID:this.getCurrentlyWatchingVideoID()})},t.prototype.getCurrentlyWatchingVideoID=function(){if(this.props.data.collection){var e=Object(f.s)(this.props);return e||this.getCollectionVideos()[0].id}},t.prototype.getCollectionVideos=function(){var e=this.props.data.collection;if(!e||!e.items||!e.items.edges)return[];var t=[];return e.items.edges.forEach(function(e){e&&t.push(e.node)}),t},t}(r.Component),O=Object(a.compose)(Object(m.withLatencyTracking)("VideoQueueCollectionCarousel"),Object(g.a)(E,{options:function(e){return{variables:{collectionID:e.collectionID}}}}))(Object(h.a)(I)),L=n("UNiU"),D=n("fvjX"),_=n("ZDlU"),F=n("8/mp"),A=n("geRD"),P=n("D7An"),R=n("DMoW"),j=n("hkkJ"),B=n("guUl"),M=n("hnjF"),W=n("sUnt"),q=n("Ws8v");!function(e){e.Title="title",e.SubTitle1="sub-title1",e.SubTitle2="sub-title2",e.NoVideos="no-videos"}(i||(i={}));var G,U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return this.props.isOwner?r.createElement(W.a,{attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,display:M.d.Flex,alignItems:M.b.Center,justifyContent:M.h.Center,flexDirection:M.e.Column},r.createElement(W.a,{margin:{bottom:1}},r.createElement(N.a,{fontSize:x.d.Size5,bold:!0,"data-test-selector":i.Title},Object(v.d)("Looks like you don't have any videos yet...","EmptyChannelVideos"))),r.createElement(N.a,{fontSize:x.d.Size5,color:x.c.Alt2,"data-test-selector":i.SubTitle1},Object(v.d)("Start streaming so you can customize this page with your content.","EmptyChannelVideos")),r.createElement(N.a,{fontSize:x.d.Size5,color:x.c.Alt2,"data-test-selector":i.SubTitle2},Object(v.d)("Videos are a great way to engage with your audience when you're not live!","EmptyChannelVideos"))):r.createElement(q.a,{color:x.c.Alt2,textAlign:M.k.Center,key:"no-videos"},r.createElement(N.a,{type:N.e.H4,italic:!0,"data-test-selector":i.NoVideos},Object(v.d)("No videos found.","EmptyChannelVideos")))},t}(r.Component),H=Object(m.withLatencyTracking)("EmptyChannelVideos",{autoReportInteractive:!0})(U),Q=n("QdeI"),z=n("XQbB"),J=n("xwKp"),$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentDidUpdate=function(){!this.props.data.loading&&this.props.data.user&&this.props.data.user.videoShelves&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this;if(this.props.data.loading&&!this.props.data.user)return r.createElement(Q.a,null);if(this.props.data.error||!this.props.data.user||!this.props.data.user.videoShelves||!this.props.data.user.videoShelves.edges)return r.createElement(W.a,{padding:5},r.createElement(_.a,{message:Object(v.d)("These videos are temporarily unavailable.","ChannelVideoShelves")}));if(this.props.data.user&&this.props.data.user.videoShelves&&0===this.props.data.user.videoShelves.edges.length){this.props.latencyTracking.reportInteractive();var t=!!this.props.data.currentUser&&this.props.data.currentUser.id===this.props.data.user.id;return r.createElement(W.a,{padding:{y:5}},r.createElement(H,{isOwner:t}))}var n=this.props.data.user.videoShelves.edges.reduce(function(t,n,i){var o,a=e.renderShelf(n,i);if(!a||!n.node||!n.node.items)return t;n.node.type===R.vb.LATEST_BROADCASTS?o={filter:f.e.PastBroadcasts,sort:f.f.Newest}:n.node.type===R.vb.LATEST_NON_BROADCASTS?o={filter:f.e.Highlights,sort:f.f.Newest}:n.node.type===R.vb.TOP_CLIPS?o={filter:f.e.Clips,range:f.b.Month}:n.node.type===R.vb.ALL_VIDEOS&&(o={filter:f.e.All});var s=r.createElement(b.a,{titleMessage:n.node.title,subTitle:n.node.description||void 0,expandLink:o&&{channelLogin:e.props.channelLogin,options:o}||void 0});return n.node.type===R.vb.COLLECTION&&n.node.collection&&(s=null),t.push(r.createElement(W.a,{key:n.node.id,margin:0===t.length?{bottom:2}:{y:2}},s,a)),t},[]),i=!!this.props.data.user.videoShelves.pageInfo&&!!this.props.data.user.videoShelves.pageInfo.hasNextPage;return r.createElement(r.Fragment,null,n,r.createElement(F.a,{enabled:i,key:"channel-video-shelves-"+this.props.channelLogin,loadMore:this.props.loadMore}),r.createElement(W.a,{display:M.d.Flex,justifyContent:M.h.Center,fullWidth:!0,margin:{bottom:3}},i&&this.props.data.loading&&r.createElement(z.a,{fillContent:!0})))},t.prototype.renderShelf=function(e,t){var n=this;if(!e.node||!e.node.items)return null;var i=null;switch(e.node.type){case R.vb.COLLECTION:if(0===e.node.items.filter(function(e){return!!e.id}).length){i=null;break}i=r.createElement(j.a,{hideTags:!0,collection:e.node.collection,multipleVideoGameMarkersType:this.props.multipleVideoGameMarkersType,"data-a-target":"video-carousel-"+t,tracking:{content:k.PageviewContent.VideoShelf,medium:k.PageviewMedium.ChannelVideos,location:k.PageviewLocation.ChannelVideos,source:{source_channel:this.props.channelLogin,source_item_type:k.TwitchDataType.Channel},itemType:k.TwitchDataType.Video,shelfTracking:{position:t,sectionContent:Object(B.f)(e.node.type),sectionContentId:e.node.collection&&e.node.collection.id,sectionType:k.ItemSectionSectionType.VideosTabShelf,sectionDisplayName:e.node.title}},hideNavigationButtons:"control"!==v.q.experiments.getAndTrackAssignment(P.b.VODCarouselAntiMatter)});break;case R.vb.SHORT_VIDEOS:case R.vb.LONG_VIDEOS:case R.vb.LATEST_BROADCASTS:case R.vb.LATEST_NON_BROADCASTS:case R.vb.ALL_VIDEOS:i=r.createElement(y.a,{hideTags:!0,listContext:C.b.SingleChannelList,multipleVideoGameMarkersType:this.props.multipleVideoGameMarkersType,videos:e.node.items,"data-a-target":"video-carousel-"+t,tracking:{content:k.PageviewContent.VideoShelf,medium:k.PageviewMedium.ChannelVideos,location:k.PageviewLocation.ChannelVideos,source:{source_channel:this.props.channelLogin,source_item_type:k.TwitchDataType.Channel},itemType:k.TwitchDataType.Video,shelfTracking:{position:t,sectionContent:Object(B.f)(e.node.type),sectionContentId:e.node.collection&&e.node.collection.id,sectionType:k.ItemSectionSectionType.VideosTabShelf,sectionDisplayName:e.node.title}},hideNavigationButtons:"control"!==v.q.experiments.getAndTrackAssignment(P.b.VODCarouselAntiMatter)});break;case R.vb.TOP_CLIPS:var o=e.node.items.map(function(e){return n.convertShelfClipToCardClip(e)});i=r.createElement(y.a,{hideTags:!0,listContext:C.b.SingleChannelList,"data-a-target":"video-carousel-"+t,tracking:{content:k.PageviewContent.ClipsCuratorCarousel,location:k.PageviewLocation.ChannelVideos,medium:k.PageviewMedium.ChannelVideos,source:{source_channel:this.props.channelLogin,source_item_type:k.TwitchDataType.Channel},itemType:k.TwitchDataType.Clip,shelfTracking:{position:t,sectionContent:Object(B.f)(e.node.type),sectionContentId:e.node.collection&&e.node.collection.id,sectionType:k.ItemSectionSectionType.VideosTabShelf,sectionDisplayName:e.node.title}},videos:o,hideNavigationButtons:"control"!==v.q.experiments.getAndTrackAssignment(P.b.VODCarouselAntiMatter)});break;default:i=null}return i},t.prototype.convertShelfClipToCardClip=function(e){var t=o.__assign({},e,{title:e.clipTitle,viewCount:e.clipViewCount,game:e.clipGame});return delete t.clipTitle,delete t.clipViewCount,delete t.clipGame,t},t}(r.Component),X={options:function(e){return{variables:{channelLogin:e.channelLogin,first:5},notifyOnNetworkStatusChange:!0}},props:function(e){return o.__assign({},e,{loadMore:function(){var t=e.data.user&&e.data.user.videoShelves&&e.data.user.videoShelves.edges||[],n=t&&t.length>0?t[t.length-1].cursor:void 0;return e.data.fetchMore({query:J,variables:o.__assign({},e.data.variables,{cursor:n}),updateQuery:function(e,t){var n=t.fetchMoreResult;if(!n.user||!n.user.videoShelves||!n.user.videoShelves.edges)return e;var i=e.user&&e.user.videoShelves&&e.user.videoShelves.edges||[],r=n.user.videoShelves.edges||[];return{currentUser:e.currentUser,user:o.__assign({},n.user,{videoShelves:o.__assign({},n.user.videoShelves,{edges:Object(A.c)(i,r)})})}}})}})}},K=Object(D.compose)(Object(m.withLatencyTracking)("ChannelVideoShelves"),Object(g.a)(J,X))($),Y=n("7d/q"),Z=n("7uM4");(G||(G={})).CTAContainer="custom-shelves-cta-container";var ee="isCustomShelvesVideosTabDismissed",te=function(e){function t(t){var n=e.call(this,t)||this;return n.isChannelVideosEditEnabled=!1,n.onDismiss=function(){v.n.set(ee,!0),n.forceUpdate()},n.isChannelVideosEditEnabled=Object(L.a)(),n}return o.__extends(t,e),t.prototype.render=function(){return v.n.get(ee,!1)||!this.isChannelVideosEditEnabled?null:r.createElement(q.a,{display:M.d.Flex,flexDirection:M.e.Column,elevation:1,padding:2,border:!0,borderRadius:x.b.Large,margin:{bottom:2},"data-test-selector":G.CTAContainer},r.createElement(W.a,{display:M.d.Flex,justifyContent:M.h.Between,alignItems:M.b.Baseline},r.createElement(W.a,{display:M.d.Flex,alignItems:M.b.Center},r.createElement(q.a,{margin:{right:.5},padding:{left:.5,right:.5},background:x.a.Accent,borderRadius:x.b.Medium,color:x.c.Overlay},r.createElement(N.a,{fontSize:x.d.Size6,type:N.e.Span},Object(v.d)("NEW","CustomShelvesUpsell"))),r.createElement(N.a,{fontSize:x.d.Size5,bold:!0},Object(v.d)("You can now customize the look of this page!","CustomShelvesUpsell"))),r.createElement(Y.a,{size:Y.b.Small,type:Y.c.Secondary,icon:Z.b.Close,onClick:this.onDismiss,ariaLabel:"Close"})),r.createElement(N.a,{fontSize:x.d.Size6,color:x.c.Alt2},Object(v.d)("Arrange your content by clicking the Customize Layout button on the right.","CustomShelvesUpsell")))},t}(r.Component),ne=n("kyTI"),ie=n("cERj"),oe=(n("nPIx"),function(e){function t(t){var n=e.call(this,t)||this;return n.isChannelVideosEditEnabled=!1,n.renderCustomShelvesNav=function(){return n.isChannelVideosEditEnabled?r.createElement(W.a,{display:M.d.Flex,justifyContent:M.h.Between,fullWidth:!0,margin:{bottom:2}},r.createElement(W.a,{display:M.d.InlineFlex,flexGrow:1,flexShrink:1},r.createElement(ie.a,{channelLogin:n.props.channelLogin})),r.createElement(W.a,{flexGrow:0,flexShrink:0,display:M.d.Flex,alignItems:M.b.End},r.createElement(ne.a,{channelLogin:n.props.channelLogin,trackingContext:{medium:d.PageviewMedium.ChannelVods,content:d.PageviewContent.CustomizeButton}}))):null},n.renderCurrentCollection=function(){if(n.props.collectionID&&Object(c.a)())return r.createElement(W.a,{className:"channel-videos-overview__video-queue",padding:{bottom:1},margin:{bottom:1}},r.createElement(O,{collectionID:n.props.collectionID,trackingContext:{location:d.PageviewLocation.ChannelVideos,medium:d.PageviewMedium.ChannelVideos},multipleVideoGameMarkersType:Object(s.b)()}))},n.renderCustomShelves=function(e){return r.createElement(K,{channelLogin:n.props.channelLogin,multipleVideoGameMarkersType:e})},n.renderRoleRestrictedCustomShelvesCTA=function(){return r.createElement(l.a,{ownerLogin:n.props.channelLogin,permittedRoles:{owner:!0,editor:!0,staff:!1}},function(e){return e.permitted&&r.createElement(te,null)})},n.isChannelVideosEditEnabled=Object(L.a)(),t.updateChatTrackingContext({viewerContext:p.b.ChannelVideosOverviewPage}),n}return o.__extends(t,e),t.prototype.render=function(){var e=Object(s.b)();return r.createElement("div",null,this.renderCustomShelvesNav(),this.renderCurrentCollection(),this.renderRoleRestrictedCustomShelvesCTA(),this.renderCustomShelves(e))},t}(r.Component)),re=Object(a.compose)(Object(m.withLatencyTracking)("ChannelVideosOverviewContent",{autoReportInteractive:!0}),Object(u.b)(function(e){return o.__assign({},e)}))(oe);n.d(t,"ChannelVideosOverviewPresentation",function(){return oe}),n.d(t,"ChannelVideosOverviewContent",function(){return re})},guUl:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return u});var i,o,r=n("/7QA"),a=n("DMoW"),s=n("2xye"),l=-1,d=0;!function(e){e.Add="add",e.Delete="delete",e.Reorder="reorder"}(i||(i={})),function(e){e.ChannelInfoBar="channel_info_bar",e.VideosTabShelf="videos_tab_shelf"}(o||(o={}));var c=function(e){r.p.track(s.SpadeEventType.CustomShelvesAction,e)},u=function(e){switch(e){case a.vb.ALL_VIDEOS:return s.VideoShelfTypes.AllVideos;case a.vb.COLLECTION:return s.VideoShelfTypes.Collection;case a.vb.GAME:return s.VideoShelfTypes.Game;case a.vb.LATEST_BROADCASTS:return s.VideoShelfTypes.LatestBroadcasts;case a.vb.LATEST_NON_BROADCASTS:return s.VideoShelfTypes.LatestNonBroadcasts;case a.vb.LONG_VIDEOS:return s.VideoShelfTypes.LongVideos;case a.vb.SHORT_VIDEOS:return s.VideoShelfTypes.ShortVideos;case a.vb.TOP_CLIPS:return s.VideoShelfTypes.TopClips;default:return s.VideoShelfTypes.Unknown}}},hkkJ:function(e,t,n){"use strict";var i,o=n("mrSG"),r=n("q1tI"),a=n("/7QA"),s=n("GFmA"),l=n("DMoW"),d=n("tuvy"),c=n("GnwI"),u=n("NAv5");!function(e){e.KeepWatching="keep-watching",e.WatchNext="watch-next"}(i||(i={}));var p=.8;function m(e){switch(e){case i.KeepWatching:return Object(a.d)("Continue Watching","SeriesResumeRecommendation");case i.WatchNext:return Object(a.d)("Watch Next","SeriesResumeRecommendation");default:return e}}var h=n("6h5w"),v=n("eqgM");n.d(t,"a",function(){return f});var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e,t=this.props.collection,n=this.getCollectionVideos();if(n&&0===n.length)return null;var o=0,c=t&&t.type===l.D.SERIES&&n&&n.length>=4;if(t&&n&&c&&Object(d.a)()){var h=function(e){for(var t=e.items.edges,n=t.length,o=null,r=0;r<t.length;r++){var a=t[r];if(a){var s=a.node,l=s.self&&s.self.viewingHistory&&s.self.viewingHistory;if(l&&l.updatedAt&&l.position)if(o){var d=new Date(o.viewedAt),c=new Date(l.updatedAt);Object(u.isAfter)(c,d)&&(o={index:r,value:s,viewedAt:l.updatedAt,viewingPosition:l.position})}else o={index:r,value:s,viewedAt:l.updatedAt,viewingPosition:l.position}}}if(!o)return null;if(o.viewingPosition/(o.value.lengthSeconds||1/0)>p){var m=o.index+1;if(m<n){var h=t[m];if(h&&h.node)return{item:h.node,position:m,type:i.WatchNext}}}return{item:o.value,position:o.index,type:i.KeepWatching}}(t);if(h&&(e={card:h.item,title:m(h.type)},o=h.position+1),!e)e={card:n[n.length-1],title:Object(a.d)("Latest Video","CollectionCarousel")},o=n.length;e.subTitle=Object(a.d)("{totalVideos, plural, one {{position} / # video} other {{position} / # videos}}",{position:o,totalVideos:n.length},"CollectionCarousel")}return r.createElement(r.Fragment,null,this.renderCarouselHeader(),r.createElement(v.a,{hideTags:this.props.hideTags,hideNavigationButtons:this.props.hideNavigationButtons,videoBrowseOptions:this.props.videoBrowseOptions,collectionID:t?t.id:void 0,listContext:s.b.SingleChannelList,multipleVideoGameMarkersType:this.props.multipleVideoGameMarkersType,spotlight:e,tracking:this.props.tracking,videos:n,renderPositionLabel:!!e}))},t.prototype.renderCarouselHeader=function(){var e=this.props.collection,t=e&&e.title||this.props.fallbackTitle||"";return r.createElement(h.a,{titleMessage:t,subTitle:e?this.renderSubTitle(e):"",expandLink:{channelLogin:this.props.channelLogin?this.props.channelLogin:"",collectionID:e?e.id:""}})},t.prototype.renderSubTitle=function(e){var t=e.items?e.items.totalCount:0,n=Object(a.d)("{videoCountText, plural, one {# video} other {# videos}}",{videoCountText:t},"LatestCollectionCarousel");return this.props.subTitle?this.props.subTitle+" · "+n:e.description?e.description+" · "+n:n},t.prototype.getCollectionVideos=function(){var e=this.props.collection;if(!e)return null;var t=[];return e.items.edges.forEach(function(e){e&&""!==e.node.id&&t.push(e.node)}),t},t}(r.Component),f=Object(c.withLatencyTracking)("CollectionCarousel",{autoReportInteractive:!0})(g)},jr2J:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PreviewCollection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"30"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionConnectionFields"},directives:[]}]}}]}}],loc:{start:0,end:350}};i.loc.source={body:'#import "twilight/features/video-carousel/components/collection-carousel/models/collection-fields-fragment.gql"\n#import "twilight/features/video-carousel/components/collection-carousel/models/collection-connection-fields-fragment.gql"\nfragment PreviewCollection on Collection {\n...CollectionFields\nitems (first:30) {\n...CollectionConnectionFields\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!o[t]&&(o[t]=!0,!0)})}i.definitions=i.definitions.concat(r(n("msok").definitions)),i.definitions=i.definitions.concat(r(n("+Vfn").definitions)),e.exports=i},msok:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]}]}}],loc:{start:0,end:235}};n.loc.source={body:"fragment CollectionFields on Collection {\nid\ndescription\nowner {\nid\nlogin\n}\nthumbnailURL(width: 320 height: 180) # only used for legacy CollectionCard\ntitle\ntype\nupdatedAt\nviewCount # only used for legacy CollectionCard\nlengthSeconds\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},nPIx:function(e,t,n){},pjxD:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoShelfEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoShelfEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PreviewCollection"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ShelfPreviewCardClip"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PreviewCardVideo"},directives:[]}]}}]}}]}}],loc:{start:0,end:543}};i.loc.source={body:'#import "twilight/features/video-preview-card/models/preview-card-video-fragment.gql"\n#import "twilight/pages/channel/components/channel-root/components/channel-videos-overview-page/components/channel-video-shelves/shelf-preview-card-clip-fragment.gql"\n#import "twilight/features/video-carousel/components/collection-carousel/models/preview-collection-fragment.gql"\nfragment VideoShelfEdge on VideoShelfEdge {\ncursor\nnode {\nid\ntitle\ndescription\ntype\ncollection {\n...PreviewCollection\n}\nitems {\n...ShelfPreviewCardClip\n...PreviewCardVideo\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!o[t]&&(o[t]=!0,!0)})}i.definitions=i.definitions.concat(r(n("he03").definitions)),i.definitions=i.definitions.concat(r(n("tEZj").definitions)),i.definitions=i.definitions.concat(r(n("jr2J").definitions)),e.exports=i},tEZj:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ShelfPreviewCardClip"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Clip"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"clipTitle"},name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"clipViewCount"},name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"clipGame"},name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"52"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"72"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]}]}}],loc:{start:0,end:286}};n.loc.source={body:"fragment ShelfPreviewCardClip on Clip {\nid\nslug\nclipTitle: title\nclipViewCount: viewCount\ncurator {\nid\nlogin\ndisplayName\n}\nclipGame: game {\nid\nname\nboxArtURL(width: 52 height: 72)\n}\nbroadcaster {\nid\nlogin\ndisplayName\nprofileImageURL(width: 50)\n}\nthumbnailURL\ncreatedAt\ndurationSeconds\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},tuvy:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("/7QA"),o=n("D7An"),r=null,a="on";function s(){return null!==r?r:r=i.q.experiments.getAndTrackAssignment(o.b.VODTopShelf)===a}},xwKp:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelVideoShelvesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"options"}},type:{kind:"NamedType",name:{kind:"Name",value:"ShelvesOptions"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoShelves"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"Variable",name:{kind:"Name",value:"options"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoShelfEdge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:443}};i.loc.source={body:'#import "twilight/pages/channel/components/channel-root/components/channel-videos-overview-page/components/channel-video-shelves/video-shelf-edge-fragment.gql"\nquery ChannelVideoShelvesQuery($channelLogin: String! $first: Int! $cursor: Cursor $options: ShelvesOptions) {\ncurrentUser {\nid\n}\nuser(login: $channelLogin) {\nid\nvideoShelves(first: $first after: $cursor options: $options) {\nedges {\n...VideoShelfEdge\n}\npageInfo {\nhasNextPage\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};i.definitions=i.definitions.concat(n("pjxD").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!o[t]&&(o[t]=!0,!0)})),e.exports=i}}]);