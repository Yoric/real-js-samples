function addListener(t,e,n){window.addEventListener?t.addEventListener(e,n,!1):window.attachEvent&&t.attachEvent("on"+e,n)}function Aggrego(t,e){this.elm=t,this.tag=e,this.loaded=!1,this.threshold=2*(window.innerHeight||document.documentElement.clientHeight)}function nativoFn(){function t(t){var n,i={video:function(){$("#nativo-video-list-1").length&&$(".more-videos .wf-gallery-playlist article:eq(1)").after($("#nativo-video-list-1")),n=mi.pageInfo.getConf("nativo.video.placements")},story:function(){n=mi.pageInfo.getConf("nativo.story.placements")},default:function(){n=void 0}};return(i[t]||i.default)(),e(n)}function e(t){var e=mi.pageInfo.getConf("marketInfo.allow_nativo");void 0!==e&&"true"!=e||("object"==typeof PostRelease&&"function"==typeof PostRelease.Start?"undefined"==typeof t?PostRelease.Start():PostRelease.Start(t):i<=60&&n())}function n(){window.setTimeout(function(){i++,t(o)},500)}var i=1,o=mi.pageInfo.getConf("marketInfo.pagelevel");t(o)}function storyListLoad(t){var e=$("#story-list"),n=mi.pageInfo.getConf("nativo.section.placements-ajax");"/"!=t.substr(t.length-1)&&(t+="/"),e.load(t+"story-list",function(i,o,a){var r=$(i).find("#story-list");"error"==o||0==r.children("article").length?window.location=t:(e.replaceWith(r),e.fadeTo("medium",1),"undefined"!=typeof n?loadNativoSlots(n):loadNativoSlots(),mi_Ads.adsOnDemand("#section_ajax_ad_wrap"),storyListAdjustAdSpacing())})}function storyListAdjustAdSpacing(){var t=$(window).width(),e=$("#top-wide").height(),n=$("#top-narrow").height(),i=$("#mainstage-sectionfront").height()+$("#optional-digest").height(),o=$("#section-headlines-options").height()+$("#flex-ad-sectionfront").height();if(t<768||e<=n&&i<=o)$("#space-down-ad").css("padding-top",0);else if(t>767&&(e>n||i>o)){var a=$("#story-list").height()+$(".portable-menu-rollup").height(),r=$("#space-down-ad").height()+$("#widget-1").height()+50,s=0;s=a>r+400?400+(i-o):(a-r)/2+(i-o),$("#space-down-ad").css("padding-top",s)}}function bindWholeTeaserLink(t){$(".link-block",t).click(function(){var t=$("a.block-link:first",$(this));if(t.length)if(t[0].click)t[0].click();else{console.log("event not available for the element, dispatching event...");var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),t[0].dispatchEvent(e)}else console.log("Could not find the link in the block");return!1}),$(".link-block a",t).click(function(t){t.stopPropagation()})}$(document).on({"slickgallery.init":function(t,e,n,i,o){new MI_slickgallery(e,n,i),"function"==typeof o&&o()},galleryPrerollReady:function(t){var e=t.originalEvent.detail.playerInstance,n=t.originalEvent.detail.galleryId,i=$("#slick-gallery-preroll-"+n),o=$("#slick-gallery-container-"+n),a=o.find(".slick-gallery"),r=window["gallery"+n].gallerySize,s=window["gallery"+n].slickOptions;a.css("visibility","hidden"),$(document).trigger("slickgallery.init",[n,r,s,function(){function t(t,o){console.debug("Gallery Preroll: ",t,o),e.dispose(),i.remove(),a.css("visibility","visible"),a.resize(),n.prop("disabled",!1),n.removeClass("disabled")}var n=o.find(".slick-prev, .slick-next");return n.prop("disabled",!0),n.addClass("disabled"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?t():(e.on("setupError",t),e.on("error",t),e.on("ended",t),e.on("complete",t),e.on("adClick",t),e.on("adComplete",t),e.on("adSkipped",t),void e.on("adError",t))}])}});var MI_slickgallery=function(t,e,n){var i={aspectRatio:!0,navigationAnchor:"#slick-gallery-container-"+t+" .gallery-counter"};this.uniqueID=t,this.gallerySize=e,this.configOptions=$.extend(i,n);var o=$(window).width();this.setupSlickGallery(),$("#slick-gallery-container-"+t).css("visibility","visible");var a={slidesToShow:1,slidesToScroll:1,adaptiveHeight:!1,appendArrows:$(this.configOptions.navigationAnchor),prevArrow:'<button type="button" class="slick-prev" aria-label="Previous"></button>',nextArrow:'<button type="button" class="slick-next" aria-label="Next"></button>'},r=this.configOptions.slickOptions||a;$("#slick-gallery-container-"+t+" .slick-gallery").slick(r),this.loadSlickImages(),this.updateVideoSlideOptions(o);var s=$("#slick-gallery-container-"+t+" .slick-active .caption").html();$("#slick-gallery-container-"+t+" .current-caption").html(s);var l=this;$(window).resize(l,function(){l.setupSlickGallery(t);var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);e>767&&$(".slick-gallery").find(".slick-active").find(".caption").hide()}),$("#slick-gallery-container-"+t+" .slick-gallery").on("afterChange",l,function(t,e,n){if($("#slick-gallery-container-"+l.uniqueID+" .current-slide-number").html(n+1),l.loadSlickImages(),l.updateVideoSlideOptions(o),$("#slick-gallery-container-"+l.uniqueID+" .slick-active .caption").length)var i=$("#slick-gallery-container-"+l.uniqueID+" .slick-active .caption").html();else var i="";$("#slick-gallery-container-"+l.uniqueID+" .current-caption").html(i)}),$("#slick-gallery-container-"+t+" .caption-toggle").click(l,function(){$("#slick-gallery-container-"+l.uniqueID+" .slick-active .caption").slideToggle(250)}),$("#slick-gallery-container-"+t+" img").click(l,function(){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e=$("#slick-gallery-container-"+l.uniqueID).hasClass("spill-over");t<768&&e?$("#slick-gallery-container-"+l.uniqueID+" .slick-active .caption").css("display","none"):t<768&&$("#slick-gallery-container-"+l.uniqueID+" .slick-active .caption").slideToggle(250)})};MI_slickgallery.prototype.setupSlickGallery=function(){var t=$("#slick-gallery-container-"+this.uniqueID).width();if(t<=320&&t>0)var e=320;else if(t<=480)var e=480;else if(t<=640)var e=640;else if(t<=768)var e=768;else if(t<=960)var e=960;else var e=1140;var n=Math.floor(9*t/16)+"px";if($("#slick-gallery-container-"+this.uniqueID+" .gallery-video").css("height",n),1==this.configOptions.aspectRatio){var i=Math.floor(11*t/16)+"px";$("#slick-gallery-container-"+this.uniqueID+" .gallery-item").css("height",i),$("#slick-gallery-container-"+this.uniqueID+" .gallery-item > img").css({"max-height":i,"max-width":t})}else $("#slick-gallery-container-"+this.uniqueID+" .gallery-item > img").css("max-width",t);$("#slick-gallery-container-"+this.uniqueID+" .gallery-item.image").each(function(){var t=$(this).find("span[data-width-"+e+"]").attr("data-src");$(this).find("img").attr("data-preload",t)})},MI_slickgallery.prototype.loadImageSrc=function(t){var e=$("#slick-gallery-container-"+this.uniqueID+' div.image[data-slick-index="'+t+'"] img');if(e.length&&(imgURL=e.attr("src"),void 0===imgURL||imgURL===!1)){var n=e.attr("data-preload");e.attr("src",n),0==this.configOptions.aspectRatio&&this.setSlideHeight(e,t)}},MI_slickgallery.prototype.setSlideHeight=function(t,e){var n=this;t.on("load",n,function(){var t=$(this).height();$(this).parent().css("height",t),0==n.configOptions.aspectRatio&&e==$("#slick-gallery-container-"+n.uniqueID+" .slick-gallery").slick("slickCurrentSlide")&&n.resetSliderHeight(e)})},MI_slickgallery.prototype.resetSliderHeight=function(t){var e=$("#slick-gallery-container-"+this.uniqueID+' div[data-slick-index="'+t+'"]'),n=e.height();e.parent().css({height:n,overflow:"hidden"})},MI_slickgallery.prototype.loadSlickImages=function(){var t,e,n=$("#slick-gallery-container-"+this.uniqueID+" .slick-gallery").slick("slickCurrentSlide");t=n==-1?this.gallerySize:n-1,n==this.gallerySize||(e=n+1),this.loadImageSrc(n),this.loadImageSrc(e),this.loadImageSrc(t),0==this.configOptions.aspectRatio&&this.resetSliderHeight(n)},MI_slickgallery.prototype.updateVideoSlideOptions=function(t){var e=$("#slick-gallery-container-"+this.uniqueID+" .slick-gallery"),n=e.slick("slickCurrentSlide"),i=$("#slick-gallery-container-"+this.uniqueID+' div[data-slick-index="'+n+'"]');i.hasClass("video")&&t>=992?e.slick("getSlick").slickSetOption("draggable",!1,!1):e.slick("getSlick").slickSetOption("draggable",!0,!1)},!function(t,e,n,i){var o=t(e);t.fn.lazyload=function(a){function r(){var e=0;l.each(function(){var n=t(this);if(!c.skip_invisible||n.is(":visible"))if(t.abovethetop(this,c)||t.leftofbegin(this,c));else if(t.belowthefold(this,c)||t.rightoffold(this,c)){if(++e>c.failure_limit)return!1}else n.trigger("appear"),e=0})}var s,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return a&&(i!==a.failurelimit&&(a.failure_limit=a.failurelimit,delete a.failurelimit),i!==a.effectspeed&&(a.effect_speed=a.effectspeed,delete a.effectspeed),t.extend(c,a)),s=c.container===i||c.container===e?o:t(c.container),0===c.event.indexOf("scroll")&&s.bind(c.event,function(){return r()}),this.each(function(){var e=this,n=t(e);e.loaded=!1,(n.attr("src")===i||n.attr("src")===!1)&&n.is("img")&&n.attr("src",c.placeholder),n.one("appear",function(){if(!this.loaded){if(c.appear){var i=l.length;c.appear.call(e,i,c)}t("<img />").bind("load",function(){var i=n.attr("data-"+c.data_attribute);n.hide(),n.is("img")?n.attr("src",i):n.css("background-image","url('"+i+"')"),n[c.effect](c.effect_speed),e.loaded=!0;var o=t.grep(l,function(t){return!t.loaded});if(l=t(o),c.load){var a=l.length;c.load.call(e,a,c)}}).attr("src",n.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&n.bind(c.event,function(){e.loaded||n.trigger("appear")})}),o.bind("resize",function(){r()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(n).ready(function(){r()}),this},t.belowthefold=function(n,a){var r;return r=a.container===i||a.container===e?(e.innerHeight?e.innerHeight:o.height())+o.scrollTop():t(a.container).offset().top+t(a.container).height(),r<=t(n).offset().top-a.threshold},t.rightoffold=function(n,a){var r;return r=a.container===i||a.container===e?o.width()+o.scrollLeft():t(a.container).offset().left+t(a.container).width(),r<=t(n).offset().left-a.threshold},t.abovethetop=function(n,a){var r;return r=a.container===i||a.container===e?o.scrollTop():t(a.container).offset().top,r>=t(n).offset().top+a.threshold+t(n).height()},t.leftofbegin=function(n,a){var r;return r=a.container===i||a.container===e?o.scrollLeft():t(a.container).offset().left,r>=t(n).offset().left+a.threshold+t(n).width()},t.inviewport=function(e,n){return!(t.rightoffold(e,n)||t.leftofbegin(e,n)||t.belowthefold(e,n)||t.abovethetop(e,n))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document);var WFImager=new function(){function t(t){n&&console.log(t)}function e(t){$('a[data-toggle="tab"]',t).on("shown.bs.tab",function(t){var e=$(this).attr("href");WFImager.refresh($(e))}),$(".carousel",t).on("slid.bs.carousel",function(){WFImager.refresh($(this))}),$(".megadropdown",t).hover(function(){WFImager.refresh($(this))})}var n=!1,i={threshold:"undefined"==typeof imgLazyLoadThreshold?200:imgLazyLoadThreshold,failure_limit:10},o={proxyPreload:!0},a={update:function(e){t("Applying image updater : adaptive"),e.adaptImage(o)},refresh:function(e){t("refreshing content with : adaptiveUpdater"),e.adaptImage()}},r={update:function(e){t("Applying image updater : picturefill"),picturefill()},refresh:function(t){}},s={update:function(e){t("Applying image updater : lazyload"),$("img.lazy",e).lazyload(i),$(".lazyimage-anchor",e).each(function(){$(this).find("img.lazy").lazyload(i)})},refresh:function(e){t("refreshing content with : lazyimageUpdater"),e.scroll()}},l=[a,r,s];this.update=function(t){for(var e in l)l[e].update(t)},this.refresh=function(t){for(var e in l)l[e].refresh(t)},$(function(){WFImager.update($(document))}),$(document).on("pageContentReady",function(t,e){WFImager.update($(e))}),$(window).on("resizeEnd",function(){WFImager.update($(document))}),$(e($(document))),$(document).on("pageContentReady",function(t,n){e($(n))})},WF=WF||{};WF.Constants=function(){function t(t){return JSON.parse(JSON.stringify(t))}var e={media:{itemSelected:"itemSelected",itemPlayed:"itemPlayed",pluginLoaded:"pluginLoaded"},pageContentReady:"pageContentReady"},n={media:{mediaPlayer:"wf-media",selectedItem:"wf-gallery-selected-item",playlistItem:"wf-gallery-item",clickableItem:"wf-gallery-selection-onclick",playlist:"wf-gallery-playlist",gallery:"wf-gallery"}},i=function(t){function e(t,n){for(var i in t){var o=t[i];"object"==typeof o?(n[i]=o,e(o,n[i])):"string"==typeof o&&(n[i]="."+o)}return n}return e(t,{})}(t(n));return{events:e,classes:n,selectors:i}}();var WFUtils=new function(){this.addPropertyToJSONObject=function(t,e,n){for(var i=e.split("."),o=0,a=t;o<i.length-1;o++)null!=a[i[o]]&&"undefined"!=a[i[o]]||(a[i[o]]={}),a=a[i[o]];a[i[o]]=this.parseStringToJSONObject(n)},this.parseStringToJSONObject=function(t){try{return JSON.parse(t)}catch(e){return t}},this.debug=function(t){console.debug(t)},this.error=function(t){console.error(t)}};if(Aggrego.prototype.init=function(){addListener(document,"DOMContentLoaded",this.load.bind(this)),addListener(document,"load",this.load.bind(this)),addListener(document,"scroll",this.load.bind(this)),addListener(document,"resize",this.load.bind(this))},Aggrego.prototype.load=function(){var t,e=this.elm.getBoundingClientRect();!this.loaded&&e.top<=this.threshold&&(t=document.createElement("script"),t.src="//headlinesnetwork.com/embed_widget.js?tag="+this.tag+"&html_anchor_id="+this.elm.id,document.getElementsByTagName("head")[0].appendChild(t),document.removeEventListener("scroll",this.load),this.loaded=!0)},"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){a.trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t(o);e&&e.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",o.resetText||n.data("resetText",n[i]()),n[i](o[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),o=i.data("bs.button"),a="object"==typeof n&&n;o||i.data("bs.button",o=new e(this,a)),"toggle"==n?o.toggle():n&&o.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,i=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),o=n||i[e](),a=this.interval,r="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[s]()}this.sliding=!0,a&&this.pause();var c=t.Event("slide.bs.carousel",{relatedTarget:o[0],direction:r});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,i.addClass(r),o.addClass(r),i.one(t.support.transition.end,function(){o.removeClass([e,r].join(" ")).addClass("active"),i.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),r="string"==typeof n?n:a.slide;o||i.data("bs.carousel",o=new e(this,a)),"number"==typeof n?o.to(n):r?o[r]():a.interval&&o.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i=t(this),o=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},o.data(),i.data()),r=i.attr("data-slide-to");r&&(a.interval=!1),o.carousel(a),(r=i.attr("data-slide-to"))&&o.data("bs.carousel").to(r),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var r=t.camelCase(["scroll",o].join("-"));this.$element.one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(350)[o](this.$element[0][r])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.collapse",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),o=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=t(o),r=a.data("bs.collapse"),s=r?"toggle":i.data(),l=i.attr("data-parent"),c=l&&t(l);r&&r.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),a.collapse(s)})}(jQuery),+function(t){"use strict";function e(){t(i).remove(),t(o).each(function(e){var i=n(t(this));i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",o="[data-toggle=dropdown]",a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var a=n(o),r=a.hasClass("open");if(e(),!r){if("ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),a.trigger(i=t.Event("show.bs.dropdown")),i.isDefaultPrevented())return;a.toggleClass("open").trigger("shown.bs.dropdown"),o.focus()}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var a=n(i),r=a.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&a.find(o).focus(),i.click();var s=t("[role=menu] li:not(.divider):visible a",a);if(s.length){var l=s.index(s.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus()}}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu]",a.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(o)}).emulateTransitionEnd(300):n.$element.focus().trigger(o)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var o=t(this),a=o.data("bs.modal"),r=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n);a||o.data("bs.modal",a=new e(this,r)),"string"==typeof n?a[n](i):r.show&&a.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),o=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),n.data());e.preventDefault(),o.modal(a,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i);for(var o=this.options.trigger.split(" "),a=o.length;a--;){var r=o[a];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focus",l="hover"==r?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,a=o.test(i);a&&(i=i.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var r=this.getPosition(),s=n[0].offsetWidth,l=n[0].offsetHeight;if(a){var c=this.$element.parent(),d=i,u=document.documentElement.scrollTop||document.body.scrollTop,h="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),f="body"==this.options.container?0:c.offset().left;i="bottom"==i&&r.top+r.height+l-u>p?"top":"top"==i&&r.top-u-l<0?"bottom":"right"==i&&r.right+s>h?"left":"left"==i&&r.left-s<f?"right":i,n.removeClass(d).addClass(i)}var g=this.getCalculatedOffset(i,r,s,l);this.applyPlacement(g,i),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){
var n,i=this.tip(),o=i[0].offsetWidth,a=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,i.offset(t).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==e&&c!=a&&(n=!0,t.top=t.top+a-c),/bottom|top/.test(e)){var d=0;t.left<0&&(d=-2*t.left,t.left=0,i.offset(t),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(d-o+l,l,"left")}else this.replaceArrow(c-a,c,"top");n&&i.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach()}var n=this,i=this.tip(),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),a="object"==typeof n&&n;o||i.data("bs.tooltip",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("bs.popover"),a="object"==typeof n&&n;o||i.data("bs.popover",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(n,i){var o,a=t.proxy(this.process,this);this.$element=t(t(n).is("body")?window:n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",a),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||(o=t(n).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this;this.$body.find(this.selector).map(function(){var i=t(this),o=i.data("target")||i.attr("href"),a=/^#\w/.test(o)&&t(o);return a&&a.length&&[[a[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),o=this.offsets,a=this.targets,r=this.activeTarget;if(e>=i)return r!=(t=a.last()[0])&&this.activate(t);for(t=o.length;t--;)r!=a[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(a[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),a="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a")[0],a=t.Event("show.bs.tab",{relatedTarget:o});if(e.trigger(a),!a.isDefaultPrevented()){var r=t(i);this.activate(e.parent("li"),n),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},e.prototype.activate=function(e,n,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),r=i&&t.support.transition&&a.hasClass("fade");r?a.one(t.support.transition.end,o).emulateTransitionEnd(150):o(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new e(this)),"string"==typeof n&&o[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),a=this.options.offset,r=a.top,s=a.bottom;"object"!=typeof a&&(s=r=a),"function"==typeof r&&(r=a.top()),"function"==typeof s&&(s=a.bottom());var l=!(null!=this.unpin&&i+this.unpin<=o.top)&&(null!=s&&o.top+this.$element.height()>=n-s?"bottom":null!=r&&r>=i&&"top");this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?o.top-i:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-s-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),o=i.data("bs.affix"),a="object"==typeof n&&n;o||i.data("bs.affix",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(jQuery),function(t){t.address=function(){var e,n,i=function(e){var n=t.extend(t.Event(e),function(){for(var e={},n=t.address.parameterNames(),i=0,o=n.length;i<o;i++)e[n[i]]=t.address.parameter(n[i]);return{value:t.address.value(),path:t.address.path(),pathNames:t.address.pathNames(),parameterNames:n,parameters:e,queryString:t.address.queryString()}}.call(t.address));return t(t.address).trigger(n),n},o=function(t){return Array.prototype.slice.call(t)},a=function(e,n,i){return t().bind.apply(t(t.address),Array.prototype.slice.call(arguments)),t.address},r=function(e,n){return t().unbind.apply(t(t.address),Array.prototype.slice.call(arguments)),t.address},s=function(){return q.pushState&&F.state!==e},l=function(){return("/"+z.pathname.replace(new RegExp(F.state),"")+z.search+(c()?"#"+c():"")).replace(B,"/")},c=function(){var t=z.href.indexOf("#");return t!=-1?z.href.substr(t+1):""},d=function(){return s()?l():c()},u=function(){try{return top.document!==e&&top.document.title!==e&&top.jQuery!==e&&top.jQuery.address!==e&&top.jQuery.address.frames()!==!1?top:window}catch(t){return window}},h=function(){return"javascript"},p=function(t){return t=t.toString(),(F.strict&&"/"!=t.substr(0,1)?"/":"")+t},f=function(t,e){return parseInt(t.css(e),10)},g=function(){if(!Z){var t=d(),e=decodeURI(nt)!=decodeURI(t);e&&(N&&P<7?z.reload():(N&&!V&&F.history&&Q(y,50),nt=t,m(j)))}},m=function(t){return Q(v,10),i(_).isDefaultPrevented()||i(t?D:L).isDefaultPrevented()},v=function(){if("null"!==F.tracker&&F.tracker!==T){var n=t.isFunction(F.tracker)?F.tracker:U[F.tracker],i=(z.pathname+z.search+(t.address&&!s()?t.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");t.isFunction(n)?n(i):t.isFunction(U.urchinTracker)?U.urchinTracker(i):U.pageTracker!==e&&t.isFunction(U.pageTracker._trackPageview)?U.pageTracker._trackPageview(i):U._gaq!==e&&t.isFunction(U._gaq.push)&&U._gaq.push(["_trackPageview",decodeURI(i)])}},y=function(){var t=h()+":"+j+";document.open();document.writeln('<html><head><title>"+M.title.replace(/\'/g,"\\'")+"</title><script>var "+S+' = "'+encodeURIComponent(d()).replace(/\'/g,"\\'")+(M.domain!=z.hostname?'";document.domain="'+M.domain:"")+"\";</script></head></html>');document.close();";P<7?n.src=t:n.contentWindow.location.replace(t)},w=function(){if(X&&G!=-1){var t,e,n=X.substr(G+1).split("&");for(t=0;t<n.length;t++)e=n[t].split("="),/^(autoUpdate|history|strict|wrap)$/.test(e[0])&&(F[e[0]]=isNaN(e[1])?/^(true|yes)$/i.test(e[1]):0!==parseInt(e[1],10)),/^(state|tracker)$/.test(e[0])&&(F[e[0]]=e[1]);X=T}nt=d()},b=function(){if(!K){if(K=O,w(),t('a[rel*="address:"]').address(),F.wrap){var o=t("body");t("body > *").wrapAll('<div style="padding:'+(f(o,"marginTop")+f(o,"paddingTop"))+"px "+(f(o,"marginRight")+f(o,"paddingRight"))+"px "+(f(o,"marginBottom")+f(o,"paddingBottom"))+"px "+(f(o,"marginLeft")+f(o,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+S+'" style="height:100%;overflow:auto;position:relative;'+(R&&!window.statusbar.visible?"resize:both;":"")+'" />');t("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}),R&&t('<style type="text/css" />').appendTo("head").text("#"+S+"::-webkit-resizer { background-color: #fff; }")}if(N&&!V){var a=M.getElementsByTagName("frameset")[0];n=M.createElement((a?"":"i")+"frame"),n.src=h()+":"+j,a?(a.insertAdjacentElement("beforeEnd",n),a[a.cols?"cols":"rows"]+=",0",n.noResize=O,n.frameBorder=n.frameSpacing=0):(n.style.display="none",n.style.width=n.style.height=0,n.tabIndex=-1,M.body.insertAdjacentElement("afterBegin",n)),Q(function(){t(n).bind("load",function(){var t=n.contentWindow;nt=t[S]!==e?t[S]:"",nt!=d()&&(m(j),z.hash=nt)}),n.contentWindow[S]===e&&y()},50)}Q(function(){i("init"),m(j)},1),s()||(N&&P>7||!N&&V?U.addEventListener?U.addEventListener(E,g,j):U.attachEvent&&U.attachEvent("on"+E,g):H(g,50)),"state"in window.history&&t(window).trigger("popstate")}},$=function(){decodeURI(nt)!=decodeURI(d())&&(nt=d(),m(j))},k=function(){U.removeEventListener?U.removeEventListener(E,g,j):U.detachEvent&&U.detachEvent("on"+E,g)},C=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},x=function(){var t={},e=C(navigator.userAgent);return e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),t},T=null,S="jQueryAddress",A="string",E="hashchange",I="init",_="change",D="internalChange",L="externalChange",O=!0,j=!1,F={autoUpdate:O,history:O,strict:O,frames:O,wrap:j},W=x(),P=parseFloat(W.version),R=W.webkit||W.safari,N=!t.support.opacity,U=u(),M=U.document,q=U.history,z=U.location,H=setInterval,Q=setTimeout,B=/\/{2,9}/g,J=navigator.userAgent,V="on"+E in U,X=t("script:last").attr("src"),G=X?X.indexOf("?"):-1,Y=M.title,Z=j,K=j,tt=O,et=j,nt=d();if(N){P=parseFloat(J.substr(J.indexOf("MSIE")+4)),M.documentMode&&M.documentMode!=P&&(P=8!=M.documentMode?7:8);var it=M.onpropertychange;M.onpropertychange=function(){it&&it.call(M),M.title!=Y&&M.title.indexOf("#"+d())!=-1&&(M.title=Y)}}if(q.navigationMode&&(q.navigationMode="compatible"),"complete"==document.readyState)var ot=setInterval(function(){t.address&&(b(),clearInterval(ot))},50);else w(),t(b);return t(window).bind("popstate",$).bind("unload",k),{bind:function(t,e,n){return a.apply(this,o(arguments))},unbind:function(t,e){return r.apply(this,o(arguments))},init:function(t,e){return a.apply(this,[I].concat(o(arguments)))},change:function(t,e){return a.apply(this,[_].concat(o(arguments)))},internalChange:function(t,e){return a.apply(this,[D].concat(o(arguments)))},externalChange:function(t,e){return a.apply(this,[L].concat(o(arguments)))},baseURL:function(){var t=z.href;return t.indexOf("#")!=-1&&(t=t.substr(0,t.indexOf("#"))),/\/$/.test(t)&&(t=t.substr(0,t.length-1)),t},autoUpdate:function(t){return t!==e?(F.autoUpdate=t,this):F.autoUpdate},history:function(t){return t!==e?(F.history=t,this):F.history},state:function(t){if(t!==e){F.state=t;var n=l();return F.state!==e&&(q.pushState?"/#/"==n.substr(0,3)&&z.replace(F.state.replace(/^\/$/,"")+n.substr(2)):"/"!=n&&n.replace(/^\/#/,"")!=c()&&Q(function(){z.replace(F.state.replace(/^\/$/,"")+"/#"+n)},1)),this}return F.state},frames:function(t){return t!==e?(F.frames=t,U=u(),this):F.frames},strict:function(t){return t!==e?(F.strict=t,this):F.strict},tracker:function(t){return t!==e?(F.tracker=t,this):F.tracker},wrap:function(t){return t!==e?(F.wrap=t,this):F.wrap},update:function(){return et=O,this.value(nt),et=j,this},title:function(t){return t!==e?(Q(function(){Y=M.title=t,tt&&n&&n.contentWindow&&n.contentWindow.document&&(n.contentWindow.document.title=t,tt=j)},50),this):M.title},value:function(t){if(t!==e){if(t=p(t),"/"==t&&(t=""),nt==t&&!et)return;if(nt=t,F.autoUpdate||et){if(m(O))return this;s()?q[F.history?"pushState":"replaceState"]({},"",F.state.replace(/\/$/,"")+(""===nt?"/":nt)):(Z=O,R?F.history?z.hash="#"+nt:z.replace("#"+nt):nt!=d()&&(F.history?z.hash="#"+nt:z.replace("#"+nt)),N&&!V&&F.history&&Q(y,50),R?Q(function(){Z=j},1):Z=j)}return this}return p(nt)},path:function(t){if(t!==e){var n=this.queryString(),i=this.hash();return this.value(t+(n?"?"+n:"")+(i?"#"+i:"")),this}return p(nt).split("#")[0].split("?")[0]},pathNames:function(){var t=this.path(),e=t.replace(B,"/").split("/");return"/"!=t.substr(0,1)&&0!==t.length||e.splice(0,1),"/"==t.substr(t.length-1,1)&&e.splice(e.length-1,1),e},queryString:function(t){if(t!==e){var n=this.hash();return this.value(this.path()+(t?"?"+t:"")+(n?"#"+n:"")),this}var i=nt.split("?");return i.slice(1,i.length).join("?").split("#")[0]},parameter:function(n,i,o){var a,r;if(i!==e){var s=this.parameterNames();for(r=[],i=i===e||i===T?"":i.toString(),a=0;a<s.length;a++){var l=s[a],c=this.parameter(l);typeof c==A&&(c=[c]),l==n&&(c=i===T||""===i?[]:o?c.concat([i]):[i]);for(var d=0;d<c.length;d++)r.push(l+"="+c[d])}return t.inArray(n,s)==-1&&i!==T&&""!==i&&r.push(n+"="+i),this.queryString(r.join("&")),this}if(i=this.queryString()){var u=[];for(r=i.split("&"),a=0;a<r.length;a++){var h=r[a].split("=");h[0]==n&&u.push(h.slice(1).join("="))}if(0!==u.length)return 1!=u.length?u:u[0]}},parameterNames:function(){var e=this.queryString(),n=[];if(e&&e.indexOf("=")!=-1)for(var i=e.split("&"),o=0;o<i.length;o++){var a=i[o].split("=")[0];t.inArray(a,n)==-1&&n.push(a)}return n},hash:function(t){if(t!==e)return this.value(nt.split("#")[0]+(t?"#"+t:"")),this;var n=nt.split("#");return n.slice(1,n.length).join("#")}}}(),t.fn.address=function(e){return t(this).each(function(n){t(this).data("address")||t(this).on("click",function(n){if(n.shiftKey||n.ctrlKey||n.metaKey||2==n.which)return!0;var i=n.currentTarget;if(t(i).is("a")){n.preventDefault();var o=e?e.call(i):/address:/.test(t(i).attr("rel"))?t(i).attr("rel").split("address:")[1].split(" ")[0]:void 0===t.address.state()||/^\/?$/.test(t.address.state())?t(i).attr("href").replace(/^(#\!?|\.)/,""):t(i).attr("href").replace(new RegExp("^(.*"+t.address.state()+"|\\.)"),"");t.address.value(o)}}).on("submit",function(n){var i=n.currentTarget;if(t(i).is("form")){n.preventDefault();var o=t(i).attr("action"),a=e?e.call(i):(o.indexOf("?")!=-1?o.replace(/&$/,""):o+"?")+t(i).serialize();t.address.value(a)}}).data("address",!0)}),this}}(jQuery),function(t){t.fn.equalHeights=function(){var e=0,n=t(this);return n.each(function(){var n=t(this).innerHeight();n>e&&(e=n)}),n.css("height",e)},t("[data-equal]").each(function(){var e=t(this),n=e.data("equal");e.find(n).equalHeights()})}(jQuery),function(t){t.fn.responsiveHeights=function(e,n){e="number"==typeof e?e:0,n="number"==typeof n?n:1/0;var i=t(window).width();i>e&&i<n?(t(this).css("height","auto"),t(this).equalHeights()):t(this).css("height","auto")}}(jQuery),function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define("touchSwipe",["jquery"],t):t(jQuery)}(function(t){function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=c),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var i=t(this),o=i.data(T);o||(o=new n(this,e),i.data(T,o))})}function n(e,n){function S(e){if(!(st()||t(e.target).closest(n.excludedElements,qt).length>0)){var i,o=e.originalEvent?e.originalEvent:e,a=x?o.touches[0]:o;return zt=b,x?Ht=o.touches.length:e.preventDefault(),Ot=0,jt=null,Ut=null,Ft=0,Wt=0,Pt=0,Rt=1,Nt=0,Qt=ht(),Mt=gt(),at(),!x||Ht===n.fingers||n.fingers===y||M()?(ct(0,a),Bt=xt(),2==Ht&&(ct(1,o.touches[1]),Wt=Pt=yt(Qt[0].start,Qt[1].start)),(n.swipeStatus||n.pinchStatus)&&(i=O(o,zt))):i=!1,i===!1?(zt=C,O(o,zt),i):(lt(!0),null)}}function A(t){var e=t.originalEvent?t.originalEvent:t;if(zt!==k&&zt!==C&&!rt()){var i,o=x?e.touches[0]:e,a=dt(o);if(Jt=xt(),x&&(Ht=e.touches.length),zt=$,2==Ht&&(0==Wt?(ct(1,e.touches[1]),Wt=Pt=yt(Qt[0].start,Qt[1].start)):(dt(e.touches[1]),Pt=yt(Qt[0].end,Qt[1].end),Ut=bt(Qt[0].end,Qt[1].end)),Rt=wt(Wt,Pt),Nt=Math.abs(Wt-Pt)),Ht===n.fingers||n.fingers===y||!x||M()){if(jt=Ct(a.start,a.end),N(t,jt),Ot=$t(a.start,a.end),Ft=vt(),pt(jt,Ot),(n.swipeStatus||n.pinchStatus)&&(i=O(e,zt)),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var r=!0;if(n.triggerOnTouchLeave){var s=Tt(this);r=St(a.end,s)}!n.triggerOnTouchEnd&&r?zt=L($):n.triggerOnTouchLeave&&!r&&(zt=L(k)),zt!=C&&zt!=k||O(e,zt)}}else zt=C,O(e,zt);i===!1&&(zt=C,O(e,zt))}}function E(t){var e=t.originalEvent;return x&&e.touches.length>0?(ot(),!0):(rt()&&(Ht=Xt),t.preventDefault(),Jt=xt(),Ft=vt(),W()?(zt=C,O(e,zt)):n.triggerOnTouchEnd||0==n.triggerOnTouchEnd&&zt===$?(zt=k,O(e,zt)):!n.triggerOnTouchEnd&&V()?(zt=k,j(e,zt,p)):zt===$&&(zt=C,O(e,zt)),lt(!1),null)}function I(){Ht=0,Jt=0,Bt=0,Wt=0,Pt=0,Rt=1,at(),lt(!1)}function _(t){var e=t.originalEvent;n.triggerOnTouchLeave&&(zt=L(k),O(e,zt))}function D(){qt.unbind(Et,S),qt.unbind(Lt,I),qt.unbind(It,A),qt.unbind(_t,E),Dt&&qt.unbind(Dt,_),lt(!1)}function L(t){var e=t,i=R(),o=F(),a=W();return!i||a?e=C:!o||t!=$||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!o&&t==k&&n.triggerOnTouchLeave&&(e=C):e=k,e}function O(t,e){var n=void 0;return Q()||H()?n=j(t,e,u):(q()||M())&&n!==!1&&(n=j(t,e,h)),nt()&&n!==!1?n=j(t,e,f):it()&&n!==!1?n=j(t,e,g):et()&&n!==!1&&(n=j(t,e,p)),e===C&&I(t),e===k&&(x?0==t.touches.length&&I(t):I(t)),n}function j(e,c,d){var m=void 0;if(d==u){if(qt.trigger("swipeStatus",[c,jt||null,Ot||0,Ft||0,Ht]),n.swipeStatus&&(m=n.swipeStatus.call(qt,e,c,jt||null,Ot||0,Ft||0,Ht),m===!1))return!1;if(c==k&&z()){if(qt.trigger("swipe",[jt,Ot,Ft,Ht]),n.swipe&&(m=n.swipe.call(qt,e,jt,Ot,Ft,Ht),m===!1))return!1;switch(jt){case i:qt.trigger("swipeLeft",[jt,Ot,Ft,Ht]),n.swipeLeft&&(m=n.swipeLeft.call(qt,e,jt,Ot,Ft,Ht));break;case o:qt.trigger("swipeRight",[jt,Ot,Ft,Ht]),n.swipeRight&&(m=n.swipeRight.call(qt,e,jt,Ot,Ft,Ht));break;case a:qt.trigger("swipeUp",[jt,Ot,Ft,Ht]),n.swipeUp&&(m=n.swipeUp.call(qt,e,jt,Ot,Ft,Ht));break;case r:qt.trigger("swipeDown",[jt,Ot,Ft,Ht]),n.swipeDown&&(m=n.swipeDown.call(qt,e,jt,Ot,Ft,Ht))}}}if(d==h){if(qt.trigger("pinchStatus",[c,Ut||null,Nt||0,Ft||0,Ht,Rt]),n.pinchStatus&&(m=n.pinchStatus.call(qt,e,c,Ut||null,Nt||0,Ft||0,Ht,Rt),m===!1))return!1;if(c==k&&U())switch(Ut){case s:qt.trigger("pinchIn",[Ut||null,Nt||0,Ft||0,Ht,Rt]),n.pinchIn&&(m=n.pinchIn.call(qt,e,Ut||null,Nt||0,Ft||0,Ht,Rt));break;case l:qt.trigger("pinchOut",[Ut||null,Nt||0,Ft||0,Ht,Rt]),n.pinchOut&&(m=n.pinchOut.call(qt,e,Ut||null,Nt||0,Ft||0,Ht,Rt))}}return d==p?c!==C&&c!==k||(clearTimeout(Yt),X()&&!Z()?(Gt=xt(),Yt=setTimeout(t.proxy(function(){Gt=null,qt.trigger("tap",[e.target]),n.tap&&(m=n.tap.call(qt,e,e.target))},this),n.doubleTapThreshold)):(Gt=null,qt.trigger("tap",[e.target]),n.tap&&(m=n.tap.call(qt,e,e.target)))):d==f?c!==C&&c!==k||(clearTimeout(Yt),Gt=null,qt.trigger("doubletap",[e.target]),n.doubleTap&&(m=n.doubleTap.call(qt,e,e.target))):d==g&&(c!==C&&c!==k||(clearTimeout(Yt),Gt=null,qt.trigger("longtap",[e.target]),n.longTap&&(m=n.longTap.call(qt,e,e.target)))),m}function F(){var t=!0;return null!==n.threshold&&(t=Ot>=n.threshold),t}function W(){var t=!1;return null!==n.cancelThreshold&&null!==jt&&(t=ft(jt)-Ot>=n.cancelThreshold),t}function P(){return null===n.pinchThreshold||Nt>=n.pinchThreshold}function R(){var t;return t=!n.maxTimeThreshold||!(Ft>=n.maxTimeThreshold)}function N(t,e){if(n.allowPageScroll===c||M())t.preventDefault();else{var s=n.allowPageScroll===d;switch(e){case i:(n.swipeLeft&&s||!s&&n.allowPageScroll!=m)&&t.preventDefault();break;case o:(n.swipeRight&&s||!s&&n.allowPageScroll!=m)&&t.preventDefault();break;case a:(n.swipeUp&&s||!s&&n.allowPageScroll!=v)&&t.preventDefault();break;case r:(n.swipeDown&&s||!s&&n.allowPageScroll!=v)&&t.preventDefault()}}}function U(){var t=B(),e=J(),n=P();return t&&e&&n}function M(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function q(){return!(!U()||!M())}function z(){var t=R(),e=F(),n=B(),i=J(),o=W(),a=!o&&i&&n&&e&&t;return a}function H(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function Q(){return!(!z()||!H())}function B(){return Ht===n.fingers||n.fingers===y||!x}function J(){return 0!==Qt[0].end.x}function V(){return!!n.tap}function X(){return!!n.doubleTap}function G(){return!!n.longTap}function Y(){if(null==Gt)return!1;var t=xt();return X()&&t-Gt<=n.doubleTapThreshold}function Z(){return Y()}function K(){return(1===Ht||!x)&&(isNaN(Ot)||0===Ot)}function tt(){return Ft>n.longTapThreshold&&Ot<w}function et(){return!(!K()||!V())}function nt(){return!(!Y()||!X())}function it(){return!(!tt()||!G())}function ot(){Vt=xt(),Xt=event.touches.length+1}function at(){Vt=0,Xt=0}function rt(){var t=!1;if(Vt){var e=xt()-Vt;e<=n.fingerReleaseThreshold&&(t=!0)}return t}function st(){return!(qt.data(T+"_intouch")!==!0)}function lt(t){t===!0?(qt.bind(It,A),qt.bind(_t,E),Dt&&qt.bind(Dt,_)):(qt.unbind(It,A,!1),qt.unbind(_t,E,!1),Dt&&qt.unbind(Dt,_,!1)),qt.data(T+"_intouch",t===!0)}function ct(t,e){var n=void 0!==e.identifier?e.identifier:0;return Qt[t].identifier=n,Qt[t].start.x=Qt[t].end.x=e.pageX||e.clientX,Qt[t].start.y=Qt[t].end.y=e.pageY||e.clientY,Qt[t]}function dt(t){var e=void 0!==t.identifier?t.identifier:0,n=ut(e);return n.end.x=t.pageX||t.clientX,n.end.y=t.pageY||t.clientY,n}function ut(t){for(var e=0;e<Qt.length;e++)if(Qt[e].identifier==t)return Qt[e]}function ht(){for(var t=[],e=0;e<=5;e++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}function pt(t,e){e=Math.max(e,ft(t)),Mt[t].distance=e}function ft(t){if(Mt[t])return Mt[t].distance}function gt(){var t={};return t[i]=mt(i),t[o]=mt(o),t[a]=mt(a),t[r]=mt(r),t}function mt(t){return{direction:t,distance:0}}function vt(){return Jt-Bt}function yt(t,e){var n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return Math.round(Math.sqrt(n*n+i*i))}function wt(t,e){var n=e/t*1;return n.toFixed(2)}function bt(){return Rt<1?l:s}function $t(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function kt(t,e){var n=t.x-e.x,i=e.y-t.y,o=Math.atan2(i,n),a=Math.round(180*o/Math.PI);return a<0&&(a=360-Math.abs(a)),a}function Ct(t,e){var n=kt(t,e);return n<=45&&n>=0?i:n<=360&&n>=315?i:n>=135&&n<=225?o:n>45&&n<135?r:a}function xt(){var t=new Date;return t.getTime()}function Tt(e){e=t(e);var n=e.offset(),i={left:n.left,right:n.left+e.outerWidth(),top:n.top,bottom:n.top+e.outerHeight()};return i}function St(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}var At=x||!n.fallbackToMouseEvents,Et=At?"touchstart":"mousedown",It=At?"touchmove":"mousemove",_t=At?"touchend":"mouseup",Dt=At?null:"mouseleave",Lt="touchcancel",Ot=0,jt=null,Ft=0,Wt=0,Pt=0,Rt=1,Nt=0,Ut=0,Mt=null,qt=t(e),zt="start",Ht=0,Qt=null,Bt=0,Jt=0,Vt=0,Xt=0,Gt=0,Yt=null;try{qt.bind(Et,S),qt.bind(Lt,I)}catch(e){t.error("events not supported "+Et+","+Lt+" on jQuery.swipe")}this.enable=function(){return qt.bind(Et,S),qt.bind(Lt,I),qt},this.disable=function(){return D(),qt},this.destroy=function(){return D(),qt.data(T,null),qt},this.option=function(e,i){if(void 0!==n[e]){if(void 0===i)return n[e];n[e]=i}else t.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}var i="left",o="right",a="up",r="down",s="in",l="out",c="none",d="auto",u="swipe",h="pinch",p="tap",f="doubletap",g="longtap",m="horizontal",v="vertical",y="all",w=10,b="start",$="move",k="end",C="cancel",x="ontouchstart"in window,T="TouchSwipe",S={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};t.fn.swipe=function(n){var i=t(this),o=i.data(T);if(o&&"string"==typeof n){if(o[n])return o[n].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+n+" does not exist on jQuery.swipe")}else if(!(o||"object"!=typeof n&&n))return e.apply(this,arguments);return i},t.fn.swipe.defaults=S,t.fn.swipe.phases={PHASE_START:b,PHASE_MOVE:$,PHASE_END:k,PHASE_CANCEL:C},t.fn.swipe.directions={LEFT:i,RIGHT:o,UP:a,DOWN:r,IN:s,OUT:l},t.fn.swipe.pageScroll={NONE:c,HORIZONTAL:m,VERTICAL:v,AUTO:d},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:y}}),function(t,e,n,i){var o=function(n,i){this.elem=n,this.$elem=t(n),this.options=i,this.metadata=this.$elem.data("stickem-options"),this.$win=t(e)};o.prototype={defaults:{item:".stickem",container:".stickem-container",stickClass:"stickit",endStickClass:"stickit-end",offset:0,start:0,onStick:null,onUnstick:null},init:function(){var e=this;return e.config=t.extend({},e.defaults,e.options,e.metadata),e.setWindowHeight(),e.getItems(),e.bindEvents(),e},bindEvents:function(){var e=this;e.$win.on("scroll.stickem",t.proxy(e.handleScroll,e)),e.$win.on("resize.stickem",t.proxy(e.handleResize,e))},destroy:function(){var t=this;t.$win.off("scroll.stickem"),t.$win.off("resize.stickem")},getItem:function(e,n){var i=this,o=t(n),a={$elem:o,elemHeight:o.height(),$container:o.parents(i.config.container),isStuck:!1};a.containerHeight=a.$container.outerHeight(),a.containerInner={border:{bottom:parseInt(a.$container.css("border-bottom"),10)||0,top:parseInt(a.$container.css("border-top"),10)||0},padding:{bottom:parseInt(a.$container.css("padding-bottom"),10)||0,top:parseInt(a.$container.css("padding-top"),10)||0}},a.containerInnerHeight=a.$container.height(),a.containerStart=a.$container.offset().top-i.config.offset+i.config.start+a.containerInner.padding.top+a.containerInner.border.top,a.scrollFinish=a.containerStart-i.config.start+(a.containerInnerHeight-a.elemHeight),a.containerInnerHeight>a.elemHeight&&i.items.push(a)},getItems:function(){var e=this;e.items=[],e.$elem.find(e.config.item).each(t.proxy(e.getItem,e))},handleResize:function(){var t=this;t.getItems(),t.setWindowHeight()},handleScroll:function(){var t=this;if(t.items.length>0)for(var e=t.$win.scrollTop(),n=0,i=t.items.length;n<i;n++){var o=t.items[n];o.isStuck&&(e<o.containerStart||e>o.scrollFinish)||e>o.scrollFinish?(o.$elem.removeClass(t.config.stickClass),e>o.scrollFinish&&o.$elem.addClass(t.config.endStickClass),o.isStuck=!1,t.config.onUnstick&&t.config.onUnstick(o)):o.isStuck===!1&&e>o.containerStart&&e<o.scrollFinish&&(o.$elem.removeClass(t.config.endStickClass).addClass(t.config.stickClass),o.isStuck=!0,t.config.onStick&&t.config.onStick(o))}},setWindowHeight:function(){var t=this;t.windowHeight=t.$win.height()-t.config.offset}},o.defaults=o.prototype.defaults,t.fn.stickem=function(t){return this.destroy=function(){this.each(function(){new o(this,t).destroy()})},this.each(function(){new o(this,t).init()})}}(jQuery,window,document),window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;e.type="text/css",e.id="matchmediajs-test",n.parentNode.insertBefore(e,n),i="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var n="@media "+t+"{ #matchmediajs-test { width: 1px; } }";
return e.styleSheet?e.styleSheet.cssText=n:e.textContent=n,"1px"===i.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),mi.Welcome=function(){this.excluded_pages=new Array,this.bot_useragent=new Array,mi.App.apply(this,arguments),this.drop_cookies()},mi.Welcome.prototype.drop_cookies=function(){if(document.cookie.indexOf("mi_welcome=")<0){var t=new mi.Cookie(document,"mi_welcome",999999,"/");t.v="1",t.store()}},mi.Welcome.prototype.cookies_ok=function(){return!(document.cookie.indexOf("mi_was_welcomed=")>=0)&&!(document.cookie.indexOf("mi_welcome=")<0)},mi.Welcome.prototype.set_cookie=function(){var t=new mi.Cookie(document,"mi_was_welcomed",this.repeat,"/");t.v="1",t.store()},mi.Welcome.prototype.should_show_on_page=function(){return!!this.cookies_ok()&&(!this.useragent_excluded()&&!this.link_in_exclude_list(window.location))},mi.Welcome.prototype.should_show_on_link=function(t){return!!this.cookies_ok()&&!this.link_excluded(t)},mi.Welcome.prototype.useragent_excluded=function(){if(""==navigator.userAgent)return!0;for(i in this.bot_useragent)if(navigator.userAgent.toLowerCase().indexOf(this.bot_useragent[i].toLowerCase())!=-1)return!0;return!1},mi.Welcome.prototype.link_excluded=function(t){var e=t.href.split("/")[2];if(e!=window.location.host)return!0;var n=t.href.split("#")[0],i=window.location.href.split("#")[0];return i==n||!!this.link_in_exclude_list(t)},mi.Welcome.prototype.link_in_exclude_list=function(t){for(i in this.excluded_pages)try{var e=new RegExp(this.excluded_pages[i]);if(e.test(t))return!0}catch(t){console.log("invalid regex - excluded page")}return!1},mi.Welcome.prototype.show_welcome=function(){this.should_show_on_page()&&this.modal_window()},mi.Welcome.prototype.modal_window=function(){var t=this;jQuery(".bs-welcome-modal-lg").on("show.bs.modal",function(){mi_Ads.adsOnDemand("#welcome-page-ad-wrap")}),jQuery("a").click(function(e){var n=this;t.should_show_on_link(this)&&(e.stopPropagation(),e.preventDefault(),t.set_cookie(),jQuery(".bs-welcome-modal-lg").modal("show"),jQuery(".bs-welcome-modal-lg").on("hide.bs.modal",function(){parent.window.location=n.href}),setTimeout(function(){jQuery(".bs-welcome-modal-lg").modal("hide")},1e3*t.display_time))})},mi.Welcome.prototype.getJSONConf=function(t){"undefined"==typeof t?console.info("Welcome page found no conf"):null==t?console.info("Welcome page conf is null"):("undefined"!=typeof t.display_time?""==t.display_time?this.display_time=10:this.display_time=parseFloat(t.display_time):this.display_time=10,"undefined"!=typeof t.repeat?""==t.repeat?this.repeat=240:this.repeat=parseFloat(t.repeat):this.repeat=240,this.excluded_pages=t.excluded_pages,this.bot_useragent=t.bot_useragent),this.defaultConf()},mi.Welcome.prototype.defaultConf=function(){"undefined"==typeof this.display_time&&(this.display_time=10),"undefined"==typeof this.repeat&&(this.repeat=240),0==this.excluded_pages.length&&(this.excluded_pages=new Array("/jobs","/cars","/homes","/customer-service","/plus","/site-services","/legal","/trial-offer")),0==this.bot_useragent.length&&(this.bot_useragent=new Array("googlebot","bingbot","yahoo","teoma","facebookexternalhit"))};var UD=UD||{};UD.updateDate=function(){function t(t,e,n,i,n){wpsRequire(["moment"],function(o){"es"===i&&o.updateLocale(i,{months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]});var a=o().utcOffset(n).format(),r=o.unix(t).utcOffset(n).format(),s="",l=o(a),c=o(r),d={en:{updated:"Updated",minuteAgo:"minute ",minutesAgo:"minutes ",hours:"hours ",hour:"hour ",ago:" ago "},es:{updated:"Actualizado",minuteAgo:"minuto",minutesAgo:"minutos",hours:"horas",hour:"hora",ago:" "}},u=d.en,h=i;"es"===h&&(u=d.es);var p=l.diff(c,"minutes");if(p<=720)if(1===p)s=u.updated+" "+p+" "+u.minuteAgo+u.ago;else if(0===p)s="";else if(p<60)s=u.updated+" "+p+" "+u.minutesAgo+u.ago;else{var f=p/60|0,g=p%60|0,m=u.ago;0!==g&&(m=1===g?g+" "+u.minuteAgo+u.ago:g+" "+u.minutesAgo+u.ago),s=f>1?u.updated+" "+f+" "+u.hours+" "+m:u.updated+" "+f+" "+u.hour+" "+m}else s=u.updated+" "+o.unix(t).utcOffset(n).format(e);""!=s&&$("#publish_date span").html(","),$("#update_date").html(s)})}return{getDiffDate:t}}(),nativoFn(),function(t){"use strict";function e(t,e){if(t.getAttribute("class").indexOf("lazy")>=0)t.setAttribute("data-original",e);else if(t.getAttribute("class").indexOf("placeholder")>=0)t.src=e;else if(0==t.src.length)t.src=e;else{var n=document.createElement("img");n.attachEvent?n.attachEvent("onload",function(){t.src=n.src}):n.addEventListener("load",function(){t.src=n.src},!1),n.src=e}}t.picturefill=function(){for(var n=t.document.getElementsByTagName("span"),i=0,o=n.length;i<o;i++)if(null!==n[i].getAttribute("data-picture")){for(var a=n[i].getElementsByTagName("span"),r=[],s=0,l=a.length;s<l;s++){var c=a[s].getAttribute("data-media");(!c||t.matchMedia&&t.matchMedia(c).matches)&&r.push(a[s])}var d=n[i].getElementsByTagName("img")[0];if(r.length){var u=r.pop();if(d&&"NOSCRIPT"!==d.parentNode.nodeName){if(u===d.parentNode)continue}else d=t.document.createElement("img"),d.alt=n[i].getAttribute("data-alt");e(d,u.getAttribute("data-src")),u.appendChild(d),d.removeAttribute("width"),d.removeAttribute("height")}else d&&d.parentNode.removeChild(d)}}}(this),$(document).ready(function(){$(".portable-menu-rollup .mi-button a").click(function(t){t.preventDefault(),$(".portable-menu-rollup .mi-button a").parent().removeClass("active"),$(this).parent().addClass("active");var e=$(this).attr("href");$("#story-list").fadeTo("medium",0),storyListLoad(e)}),$(".portable-menu-rollup a.read-more").click(function(t){t.preventDefault(),$("#buttonRollupModal").modal()});var t=$("#buttonRollupModal .modal-body article").length;t<=0?($(".portable-menu-rollup .current-section").hide(),$(".portable-menu-rollup .readmore").hide()):t<=4&&$(".portable-menu-rollup .readmore").hide(),storyListAdjustAdSpacing()}),$(window).resize(function(){clearTimeout(window.resizedFinished),window.resizedFinished=setTimeout(function(){storyListAdjustAdSpacing()},250)}),function(t){t.fn.adaptImage=function(e){function n(t){i.debug&&console.log(t)}var i=e?e:{};i.debug=!1;var o=imageSizes;n(o.length+" image sizes were found: "+o);var a="img.adaptive",r=t(this);return n("Adapting visible items: :"+t(a+":visible",r).length),t(a+":visible",r).each(function(){var e=t(this).attr("data-variant"),i=t(this).attr("data-src-template");if(null!=i){var a=t(this).width();n("Found img: "+a+"px::"+t(this).attr("src"));for(var r=Math.max.apply(null,o),s=0;s<o.length;s++)if(a<=o[s]){r=o[s];break}var l=t(this).attr("data-selected-width");if(l&&l>=r)return void n("Available image version width is higher than selected one. So, not lazy loading image again");n("..adapting using : "+r+"px::"+e+"::"+i);var c=new RegExp("binary","ig"),d=new RegExp("thumbnail","ig"),u=i.replace(c,"alternates").replace(d,e+"_"+r);if(t(this).attr("class").indexOf("lazy")>=0){n("..Adapted lazy img src "+u);var h=t(this).attr("data-proxy-width");h>=r?(t(this).attr("data-original",t(this).attr("data-proxy-image")),t(this).attr("data-selected-width",h)):(t(this).attr("data-original",u),t(this).attr("data-selected-width",r))}else t(this).attr("src",u),n("..Adapted img src "+u)}}),i.proxyPreload&&(n("Proxy loading hidden items: :"+t(a+":hidden",r).length),t(a+":hidden",r).each(function(){var e=t(this).attr("data-proxy-image");n("proxy: "+e),e&&t(this).attr("src",e)})),r}}(jQuery),$(function(){$(document).on("pageContentReady",function(t,e){"undefined"!=typeof twttr&&twttr.widgets.load(e),"undefined"!=typeof FB&&FB.XFBML.parse(),"undefined"!=typeof gapi&&(gapi.plusone.go(e),gapi.plus.go(e))})}),$(function(){bindWholeTeaserLink($(document))}),$(document).on("pageContentReady",function(t,e){bindWholeTeaserLink($(e))});var WFClient=new function(){function t(){for(var t in WFClientTypeDef)window.matchMedia(WFClientTypeDef[t]).matches&&(e=t)}var e;this.getType=function(){return null==e&&t(),e},$(function(){t()}),$(window).resize(function(){t()})};$(function(){var t;$(window).bind("resize",function(){t&&clearTimeout(t),t=setTimeout(function(){$(this).trigger("resizeEnd")},100)})}),WF=window.WF||{},WF.EventBus=function(){function t(t){i[t]||(i[t]=[])}function e(t,e){t.splice(e,1)}var n={},i={},o=-1;return n.publish=function(e,n){t(e);for(var o=i[e],a=o?o.length:0,r=0;r<a;r++){var s=o[r];s.callback(n,e,s.handlerId)}WFUtils.debug("Published event in channel "+e+" with eventData "+JSON.stringify(n))},n.subscribe=function(e,n){if(!(n instanceof Function))return void WFUtils.error(n+" is not a valid handler");t(e);var a=++o;return i[e].push({handlerId:a,callback:n}),a},n.unsubscribe=function(t){for(var n in i){var o=i[n];if(o.length>0)for(var a=0;a<o.length;a++)if(o[a].handlerId===t)return e(o,a),!0}return!1},n}(),$(function(){WFLazyLoader.loadFragment()}),$(document).on("fragmentReady",function(){WFLazyLoader.correctEmptyZones()}),$(document).on("pageContentReady",function(){});var WFLazyLoader=new function(){function t(t,e){return t++,t==e&&$.event.trigger({type:"fragmentReady"}),t}function e(t,e){for(var n=0,o=0,c=r(a(t)),d=e>0?c+e:l,u=0;u<t.length;u++)n=i(t[u]),o=Math.round(n/c*d),$(t[u]).removeClass(s+n).addClass(s+o)}function n(t){if(t){for(var e=0;e<c.length&&!c[e].isEqualNode(t);e++);e==c.length&&c.push(t)}}function i(t){for(var e=t.className.split(" "),n=0;n<e.length&&e[n].indexOf(s)==-1;n++);return n==e.length?0:parseInt(e[n].slice(s.length))}function o(t){var e=!1;if(t.hasChildNodes())for(var n=t.childNodes,i=0;i<n.length&&(e=n[i].nodeType==Node.TEXT_NODE&&0==n[i].nodeValue.trim().length,e);i++);else e=!0;return e}function a(t){for(var e=[],n=0;n<t.length;n++)e[n]=i(t[n]);return e}function r(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}var s="col-sm-",l=12,c=[];this.loadFragment=function(){var e=".wf-placeholder",i=$(e).length,o=0,a=WFClient.getType();$(e).each(function(e,r){var s=r.getAttribute("data-skip-profiles").split(",");if($.inArray(a,s)<0)$.ajax({url:r.getAttribute("data-loadURL"),data:{elementwidth:r.getAttribute("data-elementwidth")},success:function(t){var e=$(t);e.length>1&&(e=$("<div class='lazy-on-demand'>").html(t)),$(r).replaceWith(e),$.event.trigger("pageContentReady",e)},complete:function(){o=t(o,i)}});else{var l=r.parentNode;n(l),l.removeChild(r),o=t(o,i)}})},this.correctEmptyZones=function(){for(var t=0;t<c.length;t++)c[t].className.indexOf(s)>-1&&o(c[t])?(e($(c[t]).siblings(),i(c[t])),$(c[t]).remove()):c[t].className.indexOf("row")>-1&&e($(c[t]).children(),i(c[t]))}},WFInlineLoader=new function(){function t(t,e){t.hide(),t.next("."+i).slideDown("slow"),window.history.pushState({html:e,pageTitle:""},"",e)}function e(t,e,o){$.ajax({url:t,datatype:"html",success:function(t){e.after(t);var a=e.next("."+i);o(),$.event.trigger("pageContentReady",a),n(a),window.picturefill()}})}function n(t){$("a."+a,t).click(function(e){t.prev("."+o).show(),t.hide(),e.preventDefault()})}var i="inline-wrapper",o="teaser",a="inline-close",r="inline";this.bindInlineContentLoading=function(n){$("a."+r,n).click(function(){var n=$(this).data("inline-devices"),a=n.split(",");if($.inArray(WFClient.getType(),a)>-1){var r=$(this).attr("href"),s=r.split("?"),l=s[0]+"/inline";s.length>1&&(l=l+"?"+s[1]);var c=$(this).closest("."+o);return c.next().hasClass(i)?t(c,r):e(l,c,function(){t(c,r)}),!1}})}};$(function(){WFInlineLoader.bindInlineContentLoading($(document)),$(document).on("pageContentReady",function(t,e){WFInlineLoader.bindInlineContentLoading($(e))})});var WFShareTool=new function(){function t(t){window.open(t,"","width=740,height=500")}this.bindShareLinks=function(e){$(".wf-sharetool a",e).click(function(e){var n=$(this).parent(),i=n.data("share-on"),o=n.parent().data("share-url"),a=n.parent().data("share-text");switch(i){case"facebook":t("http://www.facebook.com/sharer.php?u="+encodeURIComponent(o));break;case"twitter":t("http://twitter.com/share?text="+a+"&url="+encodeURIComponent(o));break;case"googleplus":t("https://plus.google.com/share?url="+encodeURIComponent(o))}e.preventDefault()})}};if($(function(){WFShareTool.bindShareLinks($(document)),$(document).on("pageContentReady",function(t,e){WFShareTool.bindShareLinks($(e))})}),"function"==typeof mi_lazyloadtest&&mi_lazyloadtest(),mi.lazyloaders instanceof Array)for(var i=0;i<mi.lazyloaders.length;i++)mi.lazyloaders[i]instanceof Object&&!mi.lazyloaders[i].hasOwnProperty("threshold")&&(mi.lazyloaders[i]=new mi.LazyLoader(mi.lazyloaders[i]));$(document).on("ready",function(){$(".js-cards, .immersive").one("click",".video-modal__trigger",function(){var t=$($(this).data("target")),e={isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},togglePlayPause:function(t,e){if(t.data("hasvideo")){var n=t.find("video").attr("id");"play"===e?videojs(n).play():"pause"===e&&videojs(n).pause()}},toggleFullScreenMobile:function(t,n){var i=videojs(t);e.isMobile()&&(i.isFullscreen()?i.exitFullscreen():(i.requestFullscreen(),n.modal("hide")))}};t.on("shown.bs.modal",function(){e.togglePlayPause(t,"play")}),t.on("hidden.bs.modal",function(){e.togglePlayPause(t,"pause")})})}),function(t,e,n,i){t(e).scroll(function(){var n=t(e).scrollTop();n<=87&&t(".mobile-leaderboard").removeClass("mobile-ad-sticky"),n>87&&t(".mobile-leaderboard").addClass("mobile-ad-sticky")})}(jQuery,window,document);var mi=mi||{};mi.articleShareTools=function(){function t(t,e){window.open(t,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=600"),nextbee.credit_share_articles(e)}function e(t){checkUserSubscribed("MPPUser")&&(t.nextLinkedin&&(document.getElementById("linkedInId").onclick=function(){return nextbee.credit_share_articles(t.nextLinkedin,this.href),!1}),t.nextPinterest&&(document.getElementById("pinterestId").onclick=function(){return nextbee.credit_share_articles(t.nextPinterest,this.href),!1}))}return{init:e,popupFunction:t}}();var mi=mi||{};mi.commentingFaceboook=function(){function t(){o.hasClass("in")?(o.removeClass("in"),i.removeClass("rotate")):(o.addClass("in"),i.addClass("rotate"))}function e(){var e="";1===$("meta[property='fb:app_id']").length&&"true"===$("meta[name='allow-comments']").prop("content")?(n.on("click","a.comments-toggle",function(){"undefined"==typeof mi.commenting&&(mi.commenting=new mi.Commenting,mi.commenting.setConf({accountName:mi.pageInfo.getConf("marketInfo.domain"),fbapp_id:mi.pageInfo.getConf("facebook.app.id"),fb_comment_div:{"data-width":"100%"}}),mi.commenting.display(),FB.XFBML.parse(document.getElementById("fb-comments"))),t()}),$(document).ready(function(){t()})):(e="Comments have been disabled for this story.",o.prepend("<p><strong>"+e+"</strong></p>"))}var n=$("#commenting-container"),i=n.find(".glyphicon-chevron-down"),o=$("#fb-comments");return{init:e}}();var mi=mi||{};mi.footer=function(){function t(){$(window).on("resize load",function(){var t=window.innerWidth;t<=767?($("#accordion .collapse, #footer-legal .collapse").removeClass("in"),$("#accordion .collapse, #footer-legal .collapse").addClass("out"),$("#accordion .heading a, #footer-legal .heading a").attr("data-toggle","collapse")):($("#accordion .collapse, #footer-legal .collapse").removeClass("out"),$("#accordion .collapse, #footer-legal .collapse").addClass("in"),$("#accordion .heading a, #footer-legal .heading a").attr("data-toggle",""),$("#footer-legal").find("#collapseLegal").css("height","auto"),$("#accordion .collapse").hasClass("in")&&$("#accordion .collapse").css("height","auto"))}),function(){var t;$("#footer-legal .panel-heading a").click(function(){t=$("#accordion").find(".panel-collapse.in"),t&&t.prev().find("a[href=#"+t.attr("id")+"]").trigger("click")}),$("#accordion .panel-heading a").click(function(){t=$("#footer-legal").find(".panel-collapse.in"),t&&t.prev().find("a[href=#"+t.attr("id")+"]").trigger("click")})}()}return{init:t}}();var mi=mi||{};mi.galleryCarousel=function(){function t(t){var e=t.id,n=t.size,i=t.type,o="true"===t.adds,a="gallery-lead-carousel",r={slickOptions:t.slickOptions};o&&i===a?window["gallery"+e]={gallerySize:n,slickOptions:r}:$(document).trigger("slickgallery.init",[e,n,r])}return{init:t}}();var mi=mi||{};mi.leadAssets=function(){function t(){var t=$(".lead-item").width();$(".lead-item img").css({"max-width":t})}function e(){t(),$(window).resize(function(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);e>767?($(".lead-item").find(".caption").hide(),$(".lead-item .lead-caption").show()):$(".lead-item .lead-caption").hide(),t()}),$(".lead-item img").click(function(){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0);t<768&&$(".lead-item .caption").slideToggle(250)}),$(".lead-item .wps-caption-toggle").click(function(){$(".lead-item .caption").slideToggle(250)})}return{init:e}}();var mi=mi||{};mi.mainNav=function(){function t(){jQuery(".dropdown > a").attr("data-target","#")}function e(){jQuery(function(){jQuery("#masthead-container .dropdown").hover(function(){$(window).width()>1200&&$(this).addClass("open")},function(){$(window).width()>1200&&$(this).removeClass("open")})})}function n(){$("#navbar-collapse-1").on("shown.bs.collapse",function(){var t=jQuery("#main-nav .navbar-nav").height();jQuery("#main-nav .navbar-nav .dropdown-menu").css("min-height",t+"px")})}function i(){t(),e(),n()}return{init:i}}();var mi=mi||{};mi.moreGallery=function(){function t(){$(window).width()>767&&$(window).width()<992&&$(".container.gallery-page").stickem({offset:10})}function e(){$(".portable-menu").slick({dots:!1,arrows:!1,infinite:!1,speed:300,slidesToShow:9,slidesToScroll:9,centerMode:!1,variableWidth:!0,responsive:[{breakpoint:991,settings:{slidesToShow:5,slidesToScroll:4}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:3}}]})}function n(){t(),e()}return{init:n}}();var mi=mi||{};mi.socialSharingScroll=function(){function t(){$(window).scroll(function(){var t=$(window).scrollTop(),e=$("#story-body-items").offset().top-50,n=$("#commenting-container").offset().top;t>=n||t<e?$(".share-tools-wrapper").removeClass("sticky-tools"):$(".share-tools-wrapper").addClass("sticky-tools")})}return{init:t}}();var mi=mi||{};mi.renderNewsletterIframe=function(){function t(t){var e=getRandomUrl(t.url),n=document.querySelector(t.container),i=window.addEventListener?"addEventListener":"attachEvent",o=window[i],a="attachEvent"==i?"onmessage":"message",r=document.createElement("iframe");r.setAttribute("src",e),r.setAttribute("scrolling","no"),r.setAttribute("frameborder","no"),r.setAttribute("width","100%"),n.appendChild(r),o(a,function(t){if(e.indexOf(t.origin)!=-1){var n=t.message?"message":"data",i=JSON.parse(t[n]);switch(i.messageid){case 100:var o=new CustomEvent("signup",{detail:i});window.dispatchEvent(o);break;case 200:r.style.height=i.iframe.height+"px"}}},!1)}return{init:t}}();var subnavSection=function(){function t(){r=l.hasClass("hidden")?s.width():s.width()-l.width()-30,r>480?($(".subnav-section-name").attr("aria-expanded","true"),c.width()>r?(u.push(c.width()),c.children().last().prependTo(d),l.hasClass("hidden")&&l.removeClass("hidden")):(r>u[u.length-1]&&(d.children().first().appendTo(c),u.pop()),u.length<1&&(l.addClass("hidden"),d.addClass("hidden"))),c.width()>r&&t()):(d.children().appendTo(c),l.addClass("hidden"),d.addClass("hidden"),$(".subnav-section-container").hide())}function e(){$(window).resize(function(){t()})}function n(){l.on("click",function(){d.toggleClass("hidden"),$(".subnav-section-list-more").toggleClass("active"),$(".list-more-icon").toggleClass("close")})}function i(){$(".subnav-section-title").click(function(){$(".subnav-section-container").toggle(),$(".subnav-section-icon").toggleClass("close"),this.removeAttr("aria-expanded")})}function o(){d.mouseleave(function(){d.toggleClass("hidden"),$(".subnav-section-list-more").toggleClass("active"),$(".list-more-icon").toggleClass("close")})}function a(){e(),n(),t(),i(),o()}var r,s=$(".subnav-section-front-organism"),l=$(".subnav-section-front-organism .subnav-section-list-more"),c=$(".subnav-section-front-organism .subnav-section-list"),d=$(".subnav-section-front-organism .subnav-overflow"),u=[];return{init:a}}();subnavSection.init();var masthead=function(){function t(){var t=document.querySelector(".masthead input[type=text]");t.focus(),$(t).addClass("open")}function e(){var t=document.querySelector(".masthead input[type=text]");$(t).removeClass("open")}function n(){var n=document.querySelector("form.searchbox");$(n).on("click",t),$(n).on("focusout",function(t){var n=this,i=n.contains(t.relatedTarget);return i||e(),i})}function i(t){t.preventDefault();var e=document.querySelectorAll(".account-popup"),n=$(e);n.hasClass("show")||(n.addClass("show"),$(this).attr("aria-expanded","true"))}function o(){var t=document.querySelectorAll(".account-popup"),e=$(t);e.hasClass("show")&&(e.removeClass("show"),$(".account-links").removeAttr("aria-expanded"))}function a(){var t=document.querySelectorAll(".paywall-links .main.account-links"),e=document.querySelectorAll(".account-popup .close");$(t).on("click",i),$(e).on("click",o)}function r(t){var e=$(t.currentTarget),n=$(t.target);return"a"===$(n).prop("tagName").toLowerCase()?(this.stopPropagation(),!0):"li"!==e.prop("tagName").toLowerCase()||(e.toggleClass("active"),"true"===e.attr("aria-expanded")?e.removeAttr("aria-expanded"):e.attr("aria-expanded","true"),!1)}function s(){$("#mainNav").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(t){"transform"===t.originalEvent.propertyName&&($(this).hasClass("shown")?$(this).removeClass("hidden"):$(this).addClass("hidden"))})}function l(){var t=$(document.querySelector("#sectionsmenu")),e=document.querySelector("#mainNav"),n=$(e);n.hasClass("shown")||(t.attr("aria-expanded","true"),n.removeClass("hidden"),n.outerHeight(),n.addClass("shown"),n.removeAttr("aria-hidden"),document.querySelector("#mainNav button:first-child").focus())}function c(){var t=$(document.querySelector("#sectionsmenu")),e=document.querySelector("#mainNav"),n=$(e);s(),n.hasClass("shown")&&(n.removeClass("shown"),n.attr("aria-hidden","true"),t.removeAttr("aria-expanded"))}function d(){var t=document.querySelector(".main-nav form.searchbox");$(t).addClass("visible"),$(t.querySelector("input[type=text]")).focus(),$(this).addClass("hidden")}function u(){var t=document.querySelector(".main-nav form.searchbox");$(t).removeClass("visible"),$(".main-nav .search-placeholder").removeClass("hidden")}function h(t){var e=this,n=e.contains(t.relatedTarget);return n||(c(),u()),n}function p(){var t=$(".main-nav").hasClass("jsready");if(!t){var e=document.querySelectorAll(".main-nav .nav-item.expandable, .main-nav .nav-item.expandable span");e.forEach(function(t){$(t).on("click",r)}),$(".subcategory-title").on("click",function(t){t.preventDefault(),t.stopPropagation(),$(this).css({outline:"none"})});var n=document.querySelector("#sectionsmenu"),i=document.querySelector("#closenavigation");$(n).on("click",l),$(i).on("click",c),$(".main-nav").addClass("jsready").on("focusout",h),$(".main-nav .search-placeholder").click(d)}}function f(){$(".top-navigation li ul").hide().removeClass("quick-nav-second-level"),"ontouchstart"in window||$(".top-navigation .item-first-level").hover(function(){$("ul",this).addClass("expanded-submenu").slideDown(400)},function(){$("ul",this).stop().slideUp(200,function(){$(this).removeClass("expanded-submenu")})})}function g(){$("body").on("click",function(){$(this).addClass("mouse")}),$("body").on("keydown",function(t){var e=t.which;(9===e||e>=37&&e<=40)&&$(this).removeClass("mouse")})}function m(){n(),a(),p(),g(),f()}return{init:m}}();masthead.init();