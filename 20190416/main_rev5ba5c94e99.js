define(["jquery","counters","base/view","video/embed/player","video/embed/yandex-api"],function(a,b,c,d,e){"use strict";var f=c.extend({public:{init:function(){return this.createPlayer(),this.options.externalConsole&&this.require("eruda",function(a){a.init()}),f.__super__.init.call(this)},destroy:function(){return this.yandexApi.destroy(),f.__super__.destroy.call(this)}},protected:{createPlayer:function(){var c,f=d.createRunTime(this.$el);f.on("playerReady",function(){this.player=f.getInstance(),this.yandexApi=e.create(this.player,this.options),document.cookie.indexOf("video_key")===-1&&(this.options.request.referrer&&(c=this.options.request.referrer.indexOf("yandex")!==-1),b.dwh({version:1,category:{"mm-player":{action:5,videoItem:this.player.getVideoUrl(),region:this.region,ad:c,authorized:!1,user:a.browser.name,referer:this.options.request.referrer,duration:0,platform:a.browser.platform,cdn:""}}}))}.bind(this))}}});return f});