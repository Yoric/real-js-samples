webpackJsonp([2],{"8uvu":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{staticClass:"view"})],1)};a._withStripped=!0;var s={render:a,staticRenderFns:[]},o=s;var i=n("VU/8")({name:"App",data:function(){return{}},mounted:function(){},methods:{}},o,!1,null,null,null);i.options.__file="src/pages/preview/App.vue";var u=i.exports,c=n("/ocq");r.default.use(c.a);var d=new c.a({routes:[{path:"/preview/:id",components:{default:function(t){return n.e(0).then(function(){return t(n("vT+3"))}.bind(null,n)).catch(n.oe)}},props:{default:!0}}]}),p=(n("nO5U"),n("VqY/")),f=n("LTzH");r.default.config.productionTip=!1,r.default.prototype.CFG=p.a,r.default.prototype.http=f.a,new r.default({el:"#app",router:d,http:f.a,components:{App:u},template:"<App/>",created:function(){}})},LTzH:function(t,e,n){"use strict";var r,a=n("//Fk"),s=n.n(a),o=n("mtWM"),i=n.n(o),u=n("7+uW"),c=n("NYxO"),d=n("bOdI"),p=n.n(d),f=n("VqY/"),m={findByType:function(t){var e=Array.isArray(t)?t.join(","):t;return T.get(f.a.API_URL+"resourceManage/config?configData="+e).then(function(e){return Array.isArray(t)?e.data.data:e.data.data[t]})},findArticleType:function(){return this.findByType("articleType")}},l={getUserInfo:function(){return T.get(f.a.API_URL+"api/v10/user").then(function(t){return t.data})}},h={state:{fetchLoading:!1,title:"",user:{userName:null},adShapeList:[],resourcePlatformList:[],productList:[]},getters:{fetchLoading:function(t){return t.fetchLoading},userCookie:function(t){return t.user},resourcePlatformList:function(t){return t.resourcePlatformList},productList:function(t){return t.productList},adShapeList:function(t){return t.adShapeList},user:function(t){return t.user}},actions:{FETCH_LOADING:function(t,e){(0,t.commit)("loading",e)},dicInit:function(t){var e=t.commit;m.findByType(["resourcePlatform","product","adShape"]).then(function(t){e("dicInit",{resourcePlatformList:t.resourcePlatform,productList:t.product,adShapeList:t.adShape})})},userLogin:function(t){var e=t.commit;l.getUserInfo().then(function(t){e("userLogin",{userName:t})})}},mutations:(r={},p()(r,"loading",function(t,e){t.fetchLoading=e}),p()(r,"userLogin",function(t,e){t.user=e}),p()(r,"userLogout",function(t,e){t.user=e}),p()(r,"dicInit",function(t,e){t.adShapeList=e.adShapeList,t.resourcePlatformList=e.resourcePlatformList,t.productList=e.productList}),r)},L=n("jJhY").Promise;window.Promise||(window.Promise=L),u.default.use(c.a);var g=new c.a.Store({modules:{app:h}}),_=n("zL8q");i.a.defaults.timeout=5e3;var v=void 0;i.a.interceptors.request.use(function(t){return t.withCredentials=!0,g.state.token&&(t.headers.Authorization="token "+g.state.token),t.data&&"false"===t.data.loading||t.params&&"false"===t.params.loading||(v=new Date,g.dispatch("FETCH_LOADING",!0)),t},function(t){return s.a.reject(t)}),i.a.interceptors.response.use(function(t){var e=(new Date).getTime()-v.getTime();return e<500&&(e=500),setTimeout(function(){g.dispatch("FETCH_LOADING",!1)},e),t},function(t){g.dispatch("FETCH_LOADING",!1),v=new Date;var e="";if(t.response){if(t.response.status,t.response.data&&t.response.data.code&&t.response.data.message)return e=t.response.data&&t.response.data.code&&t.response.data.message,s.a.reject(t.response.data);e=t.response.status+" "+t.response.statusText||"系统异常,请稍后再试"}else e="服务超时,请稍后重试";Object(_.Message)({type:"error",message:e,showClose:!0,center:!0,customClass:"common_tip"});var n={code:0,message:e};return s.a.reject(n)});var T=e.a=i.a},"VqY/":function(t,e,n){"use strict";e.a={NODE_ENV:"production",ENV:"prod",API_URL:"http://mp-admin.csdn.net/kp/api/",API_PREVIEW_URL:"https://kunpeng.csdn.net/",STATIC_URL:"http://mp-admin.csdn.net/ad/",STATIC_PREVIEW_URL:"https://kunpeng-sc.csdnimg.cn/",ROOT_URL:"http://mp-admin.csdn.net/ad/",API_SSO_URL:"https://mp-sso.csdn.net/login.html?rolePath:cn=manage_ad_admin,ou=csdn_manage,ou=csdn_production,ou=csdn_permission"}},nO5U:function(t,e){}},["8uvu"]);
//# sourceMappingURL=app.0573be3ceba618bb6f5d.js.map