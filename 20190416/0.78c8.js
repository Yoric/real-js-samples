(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0031":function(e,t,i){var n=i("3451"),r=function(e,t){r.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(r,n,{name:"CommercialModel",_overlayTypeKey:"overlayType",_overlayQueryParamsKey:"overlayQueryParams",getOverlayType:function(){return this.attributes[this._overlayTypeKey]},getOverlayQueryParams:function(){return this.attributes[this._overlayQueryParamsKey]||{}},getOverlayQueryParameter:function(e){return this.getOverlayQueryParams()[e]}})},"00a1":function(e,t,i){var n=i("1029"),r=i("d869"),o=i("768e"),s=i("a7b6"),a=i("b07d"),l=i("8f76"),c=i("bb3b"),h=i("825c"),u=i("b909"),d=i("0bb7"),f=i("0619"),p=i("4daa"),m=i("7ab0"),g=function(e,t){g.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(g,n.Component,{name:"ListPageComponentAbstract",performersConfig:"listPagePerformers",controllerClassName:o,viewClassName:s,modelClassName:a,listPageControllerListeners:{},listPagePlayerControllerClassName:c,isRandomPlayerEnabled:!1,listPagePlayerViewClassName:h,isBigThumbsExists:!0,flashPlayerConfig:{},listPagePlayerForceDelayedInit:!1,init:function(e,t){g.superclass.init.call(this,e,t),("visible"===document.visibilityState||Ext.isIE9)&&this._setController(),m.isHokkaido()&&d.getInstance(),this._setListPagePlayerController()},_setController:function(){var e=this.controllerClassName;!n.isFunction(e)||this._listPageController instanceof e||(this._listPageController=new e({items:Ext.apply({IndexBroadcaster:{component:n.Broadcaster,listeners:Ext.apply({},{"global-status-change":"onStatusChange","refresh-listpage":"onRefreshListPage","globalevent-search-results":"onSearchResults","logged-in":"onLoggedIn","after-signup-success":"onSignUpSuccess","ajax-searchpage-off":"onAjaxSearchPageOff","ajax-searchpage-on":"onAjaxSearchPageOn","firstbill-complete":"onFirstBillComplete","purchase-success":"onQuickBuySuccess"},this.listPageControllerListeners.IndexBroadcaster)},ListPageView:{component:this.getView(),listeners:Ext.apply({},{"event-view-mouseover":"onPerformerViewMouseOver","event-performer-element-click":"onPerformerElementClick","event-view-mouseout":"onPerformerViewMouseOut"},this.listPageControllerListeners.ListPageView)},ListPageModel:{component:this._getListPageModel(),listeners:{"event-visible-free-models-ready":"onVisibleFreeModelsReady","event-visible-models-ready":"onVisibleModelsReady","event-swapped-commercial":"onPerformerSwap","event-show-more-error":"onShowMoreError","destroy-all":"onDestroyAll","ListPageModelAbstract:get-all-performers-ready":"onGetAllPerformersReady"}}}),plugins:n.object([r.AutoShowMore.NAME],[{component:f,config:{direction:r.AutoShowMore.DIRECTION_DOWN,view:this.getView(),model:this._getListPageModel(),maxAutoLoadNum:3,resetEvent:r.ListPageModelAbstract.EVENT_DESTROY_ALL,loadingStartedEvent:r.ListPageModelAbstract.EVENT_START_LOADING,loadingFinishedEvent:r.ListPageModelAbstract.EVENT_FINISHED_LOADING,showMoreButtonClickEvent:r.ListPageViewAbstract.EVENT_SHOW_MORE_BUTTON_CLICK,offset:m.isHokkaido()?400:100}}])}),this._listPageController.on(Ext.apply({},{"event-visible-free-models-ready":this.setVisibleFreeModelsReady,"event-performer-element-click":this.onPerformerElementClick,"event-view-mouseover":this.onPerformerViewMouseOver,"event-view-mouseout":this.onPerformerViewMouseOut,scope:this},this.listPageControllerListeners.ListPageController)))},enablePerformerSwap:function(){this.performerSwap instanceof u||!this._listPageController||(this.performerSwap=new u(this.element,{swapRouteHandler:"ListPageAjax/PerformersSwap",ajaxQueue:new n.AjaxQueue}),this._listPageController.addComponent({component:this.performerSwap,listeners:{"PerformerSwapComponent:get-all-performers":"getAllPerformers","get-visible-performers":"getVisiblePerformers","event-swap-performers":"onPerformerSwap","PerformerSwapComponent:swap-performer-with-last-performer":"onPerformerSwapLast"}},"PerformerSwap"),this._listPageController.addPlugin(r.PerformerSwap.NAME,{component:p,config:{view:this.getView()}}),this._listPageController.on({"PerformerSwap:destroy-performer":this.destroyPerformerById,"ListPageControllerAbstract:get-all-performers-ready":this.getAllPerformersReady,"event-swapped-performers":this.setSwappedPerformers,"event-visible-models-ready":this.setVisibleModelsReady,scope:this}))},setVisibleFreeModelsReady:function(e){this._listPagePlayerController&&this._listPagePlayerController.setVisibleFreeModels(e)},onPerformerViewMouseOver:function(e){this._listPagePlayerController&&this._listPagePlayerController.onPerformerViewMouseOver(e)},onPerformerViewMouseOut:function(e){this._listPagePlayerController&&this._listPagePlayerController.onPerformerViewMouseOut(e)},setVisibleModelsReady:function(e){this.performerSwap.setVisibleViews(e)},getAllPerformersReady:function(e){this.performerSwap.onAllPerformersReady(e)},setSwappedPerformers:function(e){this.performerSwap.setSwappedPerformers(e)},destroyPerformerById:function(e){this._getListPageModel().destroyPerformerById(e)},getView:function(){var e=this.viewClassName;return!n.isFunction(e)||this._listPageView instanceof e||(this._listPageView=new e({element:this.element,model:this._getListPageModel()})),this._listPageView},getController:function(){return this._listPageController||this._setController(),this._listPageController},_getListPageModel:function(){return!n.isFunction(this.modelClassName)||this._listPageModel instanceof this.modelClassName||(this._listPageModel=new this.modelClassName),this._listPageModel},setStreamPlayerModel:function(){var e=l;return this._streamPlayerModel instanceof e||(this._streamPlayerModel=new e),this._streamPlayerModel},_setListPagePlayerController:function(){var e=this.listPagePlayerControllerClassName;!n.isFunction(e)||this._listPagePlayerController instanceof e||(this._listPagePlayerController=new e({items:{ListPagePlayerView:{component:this.getListPagePlayerView(),listeners:{}},StreamPlayerModel:{component:this.setStreamPlayerModel(),listeners:{"performer-details-success":"onPerformerDetailsSuccess","performer-details-error":"onPerformerDetailsError"}},IndexBroadcaster:{component:n.Broadcaster,listeners:n.object([["window-show","onWindowShow"],["window-hide","onWindowHide"],[r.ModalComponent.GLOBALEVENT_MODAL_OPENED,"onOverlayOpen"],[r.ModalComponent.GLOBALEVENT_MODAL_CLOSED,"onOverlayClose"],[r.FlashExternal.GLOBALEVENT_OUT_OF_CONTENT,"onAppletOutOfContent"]])}},isRandomPlayerEnabled:this.isRandomPlayerEnabled,isBigThumbsExists:this.isBigThumbsExists,flashPlayerConfig:this.flashPlayerConfig,forceDelayedInit:this.listPagePlayerForceDelayedInit}),this.getController().addComponent({component:this._listPagePlayerController,listeners:{"get-visible-free-models":"getVisibleFreeModels"}},"ListPagePlayer"))},getListPagePlayerView:function(){var e=this.listPagePlayerViewClassName;return!n.isFunction(e)||this._listPagePlayerView instanceof e||(this._listPagePlayerView=new e({element:this.element,model:this.setStreamPlayerModel(),flashPlayerConfig:this.flashPlayerConfig})),this._listPagePlayerView},onPerformerElementClick:function(e,t){n.Broadcaster.fireEvent(r.ListPageComponentAbstract.GLOBALEVENT_OPEN_OVERLAY_CHAT,{model:e,target:t})},onHashUpdate:function(){location.hash?m.saveScrollPosition():m.currentScrolling()},onVisibilityChange:function(){"visible"!==document.visibilityState||this._isTabActivated||(this._isTabActivated=!0,this._setController())},bind:function(){g.superclass.bind.call(this),n.on([{element:n.Broadcaster,event:r.History.GLOBALEVENT_HASH_UPDATE,handler:this.onHashUpdate}],this),(Ext.isChrome||Ext.isSafari||Ext.isEdge)&&"visible"!==document.visibilityState&&Ext.fly(document).on(r.BrowserEvents.VISIBILITY_CHANGE,this.onVisibilityChange,this,{single:!0})}})},"0619":function(e,t,i){var n=i("1029"),r=i("d869"),o=i("7ab0"),s=function(e){s.superclass.constructor.call(this,e)};e.exports=Ext.extend(s,n.Plugin,{name:r.AutoShowMore.NAME,pageSelector:".page",maxAutoLoadNum:3,offset:100,clientHeight:0,_showMoreEnabled:!1,_tempScrollTop:0,_autoLoadNum:0,direction:r.AutoShowMore.DIRECTION_DOWN,forceShowMore:!1,init:function(e){this.selectElements(),s.superclass.init.call(this,e),this.host.addEvents(r.AutoShowMore.EVENT_SHOW_MORE,r.AutoShowMore.EVENT_NO_MORE_AUTO_SHOW_MORE),this._getClientHeight(),this.reset()},selectElements:function(){return!1},getScrollContainerEl:function(){return this.view.element},reset:function(){this.view.element.removeClass(r.AutoShowMore.CLASS_SHOW_MORE_BUTTON_VISIBLE),this._autoLoadNum=0,this._tempScrollTop=0,this._showMoreEnabled=!0},_checkTriggerPoint:function(){return this.direction===r.AutoShowMore.DIRECTION_DOWN?this.getScrollContainerEl().dom.getBoundingClientRect().bottom-this.clientHeight<=this.offset:this.getScrollContainerEl().dom.getBoundingClientRect().top>=-this.offset},_isShowMoreNeeded:function(){var e=parseInt(n.getMeta(r.AutoShowMore.META_IS_SINGLE_PAGE),10),t=this.forceShowMore||0===e;return this._showMoreEnabled&&t&&this.isScrollDirectionCorrect()&&this._checkTriggerPoint()},isScrollDirectionCorrect:function(){return this.direction===r.AutoShowMore.DIRECTION_DOWN?this._currentScrollTop>=this._tempScrollTop:this._currentScrollTop<=this._tempScrollTop},showMore:function(){this._autoLoadNum<this.maxAutoLoadNum?(this._autoLoadNum++,this.host.fireEvent(r.AutoShowMore.EVENT_SHOW_MORE,this,this.host)):(this.host.fireEvent(r.AutoShowMore.EVENT_NO_MORE_AUTO_SHOW_MORE,this,this.host),this.view.element.addClass(r.AutoShowMore.CLASS_SHOW_MORE_BUTTON_VISIBLE))},getScrollTop:function(){return o.getScrollTop()},setShowMoreEnabled:function(e){this._showMoreEnabled=e},_onScroll:function(){this._currentScrollTop=this.getScrollTop(),this._isShowMoreNeeded()&&this.showMore(),this._tempScrollTop=this._currentScrollTop},_onLoadingStarted:function(){this._showMoreEnabled=!1},_onLoadingFinished:function(e){this._showMoreEnabled=!(e&&e.isLastPage)},_onShowMoreButtonClick:function(){this.reset()},_onReset:function(){this.reset()},_getClientHeight:function(){this.clientHeight=document.documentElement.clientHeight},onWindowResize:function(){return this._getClientHeight()},getScrollEl:function(){return Ext.isIE8||Ext.isIE7?Ext.fly(window):Ext.fly(document)},_onResetElements:function(){this.reset(),this.unbind(),this.selectElements(),this.bind()},_bindElements:function(){n.on(Ext.fly(window),"resize",this.onWindowResize,this)},bind:function(){n.on([{element:this.getScrollEl(),event:"scroll",handler:this._onScroll},{element:this.model,event:this.resetEvent,handler:this._onReset},{element:this.model,event:this.loadingStartedEvent,handler:this._onLoadingStarted},{element:this.model,event:this.loadingFinishedEvent,handler:this._onLoadingFinished},{element:this.view,event:this.showMoreButtonClickEvent,handler:this._onShowMoreButtonClick}],this),this.resetElementsEvent&&n.on(this.view,this.resetElementsEvent,this._onResetElements,this),this._bindElements(),s.superclass.bind.call(this)}})},"0bb7":function(e,t,i){var n=i("1029"),r=i("d869"),o=function(e,t){o.superclass.constructor.call(this,e,t)};o.getInstance=function(){return o.prototype.instance instanceof o||(o.prototype.instance=new o(Ext.getBody(),{})),o.prototype.instance},e.exports=Ext.extend(o,n.Component,{name:"LayoutSwitcherComponent",thumbnailSizeButtonsSel:".thumbnail_btn",gridSizeButton:{},sizes:["small","medium","large"],init:function(e,t){o.superclass.init.call(this,e,t);n.Cookie.get("gridSize")||n.Config.get("gridSize");this.gridSizeButton={all:Ext.getBody().select(this.thumbnailSizeButtonsSel),small:Ext.getBody().select(this.thumbnailSizeButtonsSel+"[data-size=small]").item(0),medium:Ext.getBody().select(this.thumbnailSizeButtonsSel+"[data-size=medium]").item(0),large:Ext.getBody().select(this.thumbnailSizeButtonsSel+"[data-size=large]").item(0)}},setGridSize:function(e){var t=Ext.fly("inner_container");n.each(this.sizes,function(e){t.removeClass("grid--"+e)}),t.addClass("grid--"+e),this.gridSizeButton.all&&this.gridSizeButton.all.removeClass("selected"),this.gridSizeButton[e]&&this.gridSizeButton[e].addClass("selected"),_jasminLazyLoad.update();try{n.Cookie.set("gridSize",e,"/"),window.localStorage.setItem("gridSize",e)}catch(e){n.Config.set("gridSize")}},onThumbnailSizeButtonsClick:function(e,t){var i=Ext.get(t).data("size");n.fireEvent(r.IndexIndex.GLOBALEVENT_THUMBNAIL_SIZE_BUTTON_CLICK,this),this.setGridSize(i)},bind:function(){o.superclass.bind.call(this),n.on([{element:Ext.getBody(),event:"click",handler:this.onThumbnailSizeButtonsClick,options:{delegate:this.thumbnailSizeButtonsSel}}],this)}})},"10b1":function(e,t,i){"use strict";i.r(t),i.d(t,"getOngoingShows",function(){return l});var n=i("1029"),r=i.n(n),o=i("d8e5"),s=i("5f9e"),a=i.n(s),l=function(){return new Promise(function(e,t){a.a.request({method:"GET",type:"JSON",url:Object(o.a)("Show/GetOngoing"),scope:void 0,success:function(i){var n=r.a.getPath(i,"json.data"),o=r.a.getPath(i,"json.data.data");n.success?e(o):t(n)},error:t,failure:t})})}},"170d":function(e,t,i){"use strict";i.r(t);var n=i("1029"),r=i.n(n),o=i("d869"),s=i.n(o),a=i("5aa8"),l=i.n(a),c=i("f94d");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,p(t).apply(this,arguments))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.a.Controller),i=t,(n=[{key:"init",value:function(e,i){f(p(t.prototype),"init",this).call(this,e,i),this._createVideoContainer(),this.HTML5ListPagePlayerView.hideContainer()}},{key:"_createVideoContainer",value:function(){var e=this.OverlapView.createContainer();this.HTML5ListPagePlayerView.renderTo(e)}},{key:"stopVideo",value:function(){this.OverlapView.hideContainer(),l.a.isHTML5ListPagePlayerEnabled()&&c.default.instance.hideChat(),this.HTML5ListPagePlayerView.hideContainer()}},{key:"playVideo",value:function(e){l.a.isHTML5ListPagePlayerEnabled()&&c.default.instance.appletReady.then(function(){c.default.instance.playStreamByPerformerDetails(e,!0).catch(function(){})})}},{key:"playTeaser",value:function(e){this.HTML5ListPagePlayerView.playTeaser(e)}},{key:"stopTeaser",value:function(){this.HTML5ListPagePlayerView.stopTeaser()}},{key:"startPulse",value:function(e){this.OverlapView.showContainer(e),this.HTML5ListPagePlayerView.startPulse()}},{key:"stopPulse",value:function(){this.HTML5ListPagePlayerView.stopPulse()}},{key:"resetPulseLayer",value:function(){this.OverlapView.resetContainer()}},{key:"recalculatePosition",value:function(){this.OverlapView.recalculatePosition()}},{key:"onFavoriteUpdateSuccess",value:function(e){e.command===s.a.FavoritesView.CONST_COMMAND_ADD?c.default.instance.markAsFavorite():c.default.instance.unmarkAsFavorite()}},{key:"getLayoutMode",value:function(){return c.default.instance.layoutMode}},{key:"bind",value:function(){r.a.on([{element:r.a.Broadcaster,event:s.a.TopSlideMessage.GLOBAL_EVENT_ANIMATED,handler:this.recalculatePosition,scope:this},{element:r.a.Broadcaster,event:s.a.FavoritesComponent.GLOBALEVENT_FAVORITE_UPDATE_SUCCESS,handler:this.onFavoriteUpdateSuccess,scope:this},{element:r.a.Broadcaster,event:s.a.BasicLayout.GLOBALEVENT_OPEN_AUTOSUGGEST_CHAT,handler:this.stopVideo,scope:this}])}},{key:"name",get:function(){return"HTML5ListPagePlayerController"}}])&&u(i.prototype,n),o&&u(i,o),t}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,E(t).apply(this,arguments))}var i,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n["View"]),i=t,(r=[{key:"stopPulse",value:function(){this._pulsingLayoutEl.hide()}},{key:"startPulse",value:function(){this._pulsingLayoutEl.show()}},{key:"setPulseLayout",value:function(){return this._pulsingLayoutEl||(this._pulsingLayoutEl=Ext.select("."+this.pulseOverlayCls).item(0)),this.stopPulse(),this._pulsingLayoutEl}},{key:"name",get:function(){return"PulseView"}},{key:"pulseOverlayCls",get:function(){return"pulse-overlay"}}])&&P(i.prototype,r),o&&P(i,o),t}(),w=function(e){var t=e.src,i=e.attributes,n=e.badgeText;return'<div class="html5-list-page-player">\n\t\t<video '.concat(i,'>\n\t\t\t<source src="').concat(t,'" />\n\t\t</video>\n\t\t<span class="html5-list-page-player__badge">').concat(n,"</span>\n\t</div>")};function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e,t,i){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=Symbol(),V=function(e){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=T(this,O(t).call(this,e)))[A]=Ext.get(i.container),i}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,b),i=t,(n=[{key:"seekVideo",value:function(e){this._video.dom.currentTime=e}},{key:"selectElements",value:function(){this._video=this._player.select("video").item(0)}},{key:"bindVideoEvents",value:function(){this._video.on("loadeddata",this.onVideoLoadedData.bind(this)),this._video.on("playing",this.onVideoPlaying.bind(this)),this._video.on("error",this.onVideoPlayError.bind(this))}},{key:"onVideoLoadedData",value:function(){this.seekVideo(this.startTime),this._video.dom.play()}},{key:"onVideoPlaying",value:function(){this._player.show(),this.stopPulse()}},{key:"onVideoPlayError",value:function(){this.stopPulse()}},{key:"showContainer",value:function(){l.a.isWin7IE11()?this[A].removeClass("minified"):this[A].display("block")}},{key:"hideContainer",value:function(){l.a.isWin7IE11()?this[A].addClass("minified"):this[A].display("none")}},{key:"renderTo",value:function(e){var t=w({src:this.blankSrc,attributes:'muted preload="none"',badgeText:r.a.translate("Video intro")});this._player=Ext.DomHelper.append(e,t,!0),this._player.hide(),this.setPulseLayout(),this.selectElements(),this.bindVideoEvents()}},{key:"onStreamReady",value:function(){this.showContainer(),this.stopPulse()}},{key:"playTeaser",value:function(e){this._setSource(e),this._video.dom.load()}},{key:"stopTeaser",value:function(){this._video.dom.pause(),this._setSource(this.blankSrc),this._player.hide()}},{key:"_setSource",value:function(e){this._video.select("source").item(0).dom.setAttribute("src",e)}},{key:"bind",value:function(){r.a.on([{element:r.a.Broadcaster,event:s.a.FlashExternal.GLOBALEVENT_APPLET_STREAM_READY,handler:this.onStreamReady}],this),L(O(t.prototype),"bind",this).call(this)}},{key:"name",get:function(){return"HTML5ListPagePlayerView"}},{key:"container",get:function(){return"member_client_container"}},{key:"id",get:function(){return"list-page-html5-video-container"}},{key:"blankSrc",get:function(){return"about:blank"}},{key:"startTime",get:function(){return 3}}])&&C(i.prototype,n),o&&C(i,o),t}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,N(t).apply(this,arguments))}var i,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,n["View"]),i=t,(r=[{key:"createContainer",value:function(){return this._container||(this._container=Ext.select("."+this.containerClass).item(0)),this._container}},{key:"showContainer",value:function(e){this.setContainerDimensions(e).setContainerStyle()}},{key:"resetContainer",value:function(){this.top=0,this.left=0,this.width=0,this.height=0,this.setContainerStyle()}},{key:"setContainerDimensions",value:function(e){var t=e.getPosition(),i=e.getDimensions();return this._lastOverlapingElement=e,this.top=t.top,this.left=t.left,this.width=i.width,this.height=i.height,this}},{key:"isContainerHidden",value:function(){return this._container.hasClass(this.hideClass)}},{key:"recalculatePosition",value:function(){!this.isContainerHidden()&&this._lastOverlapingElement&&this.showContainer(this._lastOverlapingElement)}},{key:"setContainerStyle",value:function(){return this._container.removeClass(this.hideClass).setStyle({left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px"}),this}},{key:"hideContainer",value:function(){this._container.addClass(this.hideClass)}},{key:"name",get:function(){return"OverlapView"}},{key:"containerClass",get:function(){return"overlap-container"}},{key:"hideClass",get:function(){return l.a.isWin7IE11()?"minified":"hide"}}])&&R(i.prototype,r),o&&R(i,o),t}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e,t,i){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),H(this,j(t).apply(this,arguments))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,r.a.Component),i=t,(n=[{key:"init",value:function(e,i){G(j(t.prototype),"init",this).call(this,e,i),this._createController()}},{key:"getLayoutMode",value:function(){return this.getController().getLayoutMode()}},{key:"_createController",value:function(){this._HTML5ListPagePlayerController=new g({el:this.element,items:{HTML5ListPagePlayerView:{component:this._createHTML5ListPagePlayerView()},OverlapView:{component:this._createOverlapView()}}})}},{key:"getController",value:function(){return this._HTML5ListPagePlayerController instanceof g||this._createController(),this._HTML5ListPagePlayerController}},{key:"_createOverlapView",value:function(){return this._OverlapView instanceof x||(this._OverlapView=new x({id:this.listPagePlayerId})),this._OverlapView}},{key:"_createHTML5ListPagePlayerView",value:function(){return this._HTML5ListPagePlayerView instanceof V||(this._HTML5ListPagePlayerView=new V({id:this.element.dom.id})),this._HTML5ListPagePlayerView}},{key:"stopVideo",value:function(){this.getController().stopVideo()}},{key:"startPulse",value:function(e){this.getController().startPulse(e)}},{key:"stopPulse",value:function(){this.getController().stopPulse()}},{key:"resetPulseLayer",value:function(){this.getController().resetPulseLayer()}},{key:"playVideo",value:function(e){this.getController().playVideo(e)}},{key:"playTeaser",value:function(e){this.getController().playTeaser(e)}},{key:"stopTeaser",value:function(){this.getController().stopTeaser()}},{key:"name",get:function(){return"HTML5ListPagePlayerComponent"}},{key:"listPagePlayerId",get:function(){return"listpage_player"}}])&&F(i.prototype,n),o&&F(i,o),t}();t.default=W},"1e4a":function(e,t,i){"use strict";i.r(t);var n=i("1029"),r=i.n(n),o=i("d869"),s=i.n(o),a=i("0592"),l=i("00a1"),c=i.n(l),h=i("c384"),u=i.n(h),d=i("7ab0"),f=i.n(d),p=(i("a9a1"),i("15b9"),function e(t,i){e.superclass.constructor.call(this,t,i)});Ext.extend(p,r.a.Page,{name:"listPageAbstract",layout:null,id:"",memberAppletContainerIsEmbedded:!1,embedListPagePlayerEmbedded:!1,freeChatId:"freechat",favoriteBtnId:"favorite_button",listpageId:"listpage",listpageContainerId:"listpage_container",chatAppletId:"chatapplet",dataAttributeForListPagePlayer:!1,listPageComponentName:c.a,forceDelayedLPPInit:!1,animateImageOnLoad:!1,isRandomPlayerEnabled:!1,isPerformerSwapEnabled:!1,freeChatContainerId:"freechat_container",freeChatOverlayName:"FreeChat",memberChatPerformerStatus:"memberChat",freeChatPerformerStatus:"freeChat",offlinePerformerStatus:"offline",paymentModalComponent:"PaymentModalComponent",overlayContainerId:"overlay_container",overlayId:"overlay",bonusCreditRecommenderCookie:"showBonusCreditRecommender",_ajaxListPageRefreshCounter:0,_showMoreJsonQueryParams:{},_onLogoClickRefresh:void 0,init:function(e,t){var n=this;i.e(6).then(i.bind(null,"ddd5")).then(function(e){e.default.getComponent().then(function(e){n._chatComponent=e}).catch(console.error)}),p.superclass.init.call(this,e,t),this.addEvents(s.a.ListPageAbstract.EVENT_SUCCESS_REFRESH_LISTPAGE,s.a.ListPageAbstract.EVENT_SHOW_ONLINE_FAVORITES_COUNT),r.a.addEvents(s.a.ListPageAbstract.GLOBALEVENT_DO_INIT_LISTPAGE,s.a.ListPageAbstract.GLOBALEVENT_REFRESH_LISTPAGE),this.isLogoutPopupNeeded()&&a.default.navigate("loggedout",{trigger:!0,replace:!1,preventNavigateBack:!0}),this.isRedirected(),Ext.fly(this.listpageContainerId)&&this.initListPage(!1),this.searchAndDestroyToolbar()},isLogoutPopupNeeded:function(){return r.a.Config.get("isMobileLogoutOverlayEnabled",!0)&&1===parseInt(r.a.Cookie.get("logout"),10)},searchAndDestroyToolbar:function(){Ext.select(".apn-toolbar").item(0)&&(Ext.select("html").item(0).addClass("ask_killer"),Ext.select(".apn-toolbar").item(0).remove())},isRedirected:function(){r.a.getMeta("showPerformer")&&this.fastEmbedding()},initListPage:function(e){!Ext.fly(this.listpageId)||this.listPage instanceof this.listPageComponentName?e&&(this.listPage.unbind(),delete this.listPage,this.initListPage(!1)):this.listPage=new this.listPageComponentName(this.listpageId,{contentId:"listpage_",showMoreBtnId:"show_more_btn",isRandomPlayerEnabled:this.isRandomPlayerEnabled,flashPlayerConfig:{appendToId:"listpage_player",objectId:"ListPagePlayer",objectName:"ListPagePlayer",url:r.a.Config.get("listPagePlayerUrl"),flashVars:r.a.Config.get("listPagePlayerFlashVars"),params:{allowScriptAccess:"always",allowFullScreen:"true",scale:"noscale",quality:"high",wmode:"transparent",menu:"false",bgcolor:"#000000"}}})},onAppletTypeWillChange:function(){this.modelContentComponent&&(this.modelContentComponent.destroy(),delete this.modelContentComponent)},_setModelContentComponent:function(e){this.modelContentComponent instanceof e||(this.modelContentComponent=new e(this.element,{chatComponent:this._chatComponent}))},onStatusChange:function(e){r.a.fireEvent(s.a.BasicController.GLOBALEVENT_GLOBAL_STATUS_CHANGE,{statuses:e})},onModalClosed:function(e){e.scope.name===s.a.LoggedOutModalComponent.NAME&&setTimeout(function(){this.showFlashWarningPopup()}.bind(this),0)},onOverlayShowDone:function(e){var t=this;e.scope.name===s.a.ChatModalComponent.NAME&&Promise.all([i.e(3),i.e(4),i.e(22),i.e(1),i.e(16)]).then(i.bind(null,"92aa")).then(function(e){var i=e.default;t._setModelContentComponent(i)}).catch(function(e){return"An error occurred while loading the component"})},onOverlayChatOpened:function(){r.a.Cookie.remove(this.bonusCreditRecommenderCookie,"/",r.a.Config.get("cookiedomain"))},onSetScroll:function(e){f.a.disableScroll(e.disable)},reloadPage:function(){window.location.reload()},bind:function(){p.superclass.bind.call(this),r.a.on([{element:r.a.Broadcaster,event:s.a.ChatPageComponentAbstract.GLOBALEVENT_OPEN_CHAT,handler:this.onOverlayChatOpened},{element:r.a.Broadcaster,event:s.a.ModalComponent.GLOBALEVENT_MODAL_OPENED,handler:this.onOverlayShowDone},{element:r.a.Broadcaster,event:s.a.BasicLayout.GLOBALEVENT_SET_SCROLL,handler:this.onSetScroll},{element:u.a.getInstance(),event:s.a.StatusUpdaterComponent.PERFORMER_STATUS_CHANGES_EVENT,handler:this.onStatusChange},{element:r.a.Broadcaster,event:s.a.FlashChatPageControllerAbstract.GLOBALEVENT_APPLET_TYPE_WILL_CHANGE,handler:this.onAppletTypeWillChange}],this)}}),t.default=p},"20d3":function(e,t,i){"use strict";i.r(t);var n=i("1029"),r=i.n(n),o=i("d869"),s=i.n(o),a=i("8c3d"),l=i.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,i){return t&&f(e.prototype,t),i&&f(e,i),e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=h(this,d(t).call(this,e))).performerId=e.id,i.imageLinks=e.imageLinks,i.preloadedImages=e.preloadedImages,i.delay=e.delay||2e3,i.activeSlide=1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.a.View),p(t,[{key:"name",get:function(){return"ListPageGalleryView"}},{key:"galleryClassName",get:function(){return"list-page-gallery"}},{key:"wrapImageClassName",get:function(){return"list-page-gallery__wrap"}},{key:"nextClassName",get:function(){return"next"}},{key:"activeClassName",get:function(){return"active"}},{key:"badgeText",get:function(){return r.a.translate("gallery")}},{key:"badgeClassName",get:function(){return"list-page-gallery__badge"}},{key:"parentActiveClassName",get:function(){return"lpp_playing"}}]),p(t,[{key:"init",value:function(){u(d(t.prototype),"init",this).call(this),this.element=Ext.DomHelper.append(this.element,{tag:"div",cls:this.galleryClassName},!0),this.element.hide(),this.setBadge()}},{key:"setBadge",value:function(){Ext.DomHelper.append(this.element.id,{tag:"span",cls:this.badgeClassName,html:this.badgeText})}},{key:"startSlideShow",value:function(){return new Promise(this.play.bind(this))}},{key:"play",value:function(e){(r.a.isNaN(this.activeSlide)||this.activeSlide>=this.imageLinks.length)&&(this.activeSlide=0),this.element.parent().hasClass(this.parentActiveClassName)?0!==this.imageLinks.length?this.canShowNextSlider()?(this.setActiveSlide(e),e({message:s.a.ListPageGalleryComponent.MESSAGE_READY_TO_PLAY})):this.preloadNextImage(e):e({message:s.a.ListPageGalleryComponent.MESSAGE_NO_IMAGES}):e({message:s.a.ListPageGalleryComponent.MESSAGE_VIEW_IS_NOT_ACTIVE})}},{key:"stop",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null,this.element.hide(),this.clearActiveClasses())}},{key:"clearActiveClasses",value:function(){this.select(".".concat(this.activeClassName)).removeClass(this.activeClassName),this.select(".".concat(this.nextClassName)).removeClass(this.nextClassName)}},{key:"setActiveSlide",value:function(e){var t=this;this.element.show(),this.select(".".concat(this.activeClassName)).removeClass(this.activeClassName),this.select(".".concat(this.nextClassName)).addClass(this.activeClassName).removeClass(this.nextClassName),this.select(".".concat(this.wrapImageClassName)).item(this.activeSlide).addClass(this.nextClassName),this.timeout=setTimeout(function(){t.activeSlide++,t.play(e)},this.delay)}},{key:"canShowNextSlider",value:function(){return this.preloadedImages===this.imageLinks.length||this.preloadedImages>this.activeSlide+1}},{key:"preloadNextImage",value:function(e){var t=this.imageLinks[this.preloadedImages],i=this.onImageLoad(e);l.a.preload(t,i.bind(this))}},{key:"onImageLoad",value:function(e){var t=this;return function(i,n){i?t.imageLinks.splice(t.preloadedImages,1):(t.appendImage(n.src),t.preloadedImages++),t.play(e)}}},{key:"appendImage",value:function(e){Ext.DomHelper.append(this.element.id,{tag:"div",cls:this.wrapImageClassName,html:'<img src="'.concat(e,'" />')})}}]),t}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t,i){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).apply(this,arguments))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r.a.Controller),i=t,(n=[{key:"init",value:function(e,i){E(v(t.prototype),"init",this).call(this,e,i),this._views=[]}},{key:"getPerformerGallery",value:function(e){return this.ListPageGalleryModel.getPerformerData(e).then(this.showGallery.bind(this)).catch(r.a.noop)}},{key:"getView",value:function(e){return this._views[e._id]||(this._views[e._id]=new g(e)),this._views[e._id]}},{key:"showGallery",value:function(e){var t=this.getView(Object.assign(e,{id:e._id}));return this.activeModelId=e._id,t.startSlideShow()}},{key:"stopSlideShow",value:function(){var e=this._views[this.activeModelId];e&&(e.stop(),this.activeModelId=null)}},{key:"destroyView",value:function(e){this._views[e]&&(this._views[e].destroy(),delete this._views[e])}},{key:"name",get:function(){return"ListPageGalleryController"}}])&&P(i.prototype,n),o&&P(i,o),t}(),S=i("5f9e"),C=i.n(S);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t,i){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,A(t).apply(this,arguments))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,r.a.Model),i=t,(n=[{key:"init",value:function(){I(A(t.prototype),"init",this).call(this),this.store={scope:this}}},{key:"saveToStore",value:function(e,t){return this.store[e]=t,t}},{key:"getFromStore",value:function(e){return this.store[e]}},{key:"getUrl",value:function(e){var t=e.performerName,i=e.isBigPicture;return r.a.getUrl(this.getThumbnailSlideShowImageUrl,{performerName:t,isBigPicture:i,layoutSize:"large"})}},{key:"isBigImage",value:function(e){return e===this.bigImageSizeCls?1:0}},{key:"sendRequest",value:function(e){var t=this;return new Promise(function(i,n){C.a.request({url:e,scope:t,method:"GET",type:"json",success:i,error:n,failure:n})})}},{key:"getPerformerData",value:function(e){var t=this;return new Promise(function(i){e||reject();var n=e.model.getName(),r=t.isBigImage(e.model.getSize()),o=t.getFromStore(n),s=t.getUrl({performerName:n,isBigPicture:r}),a=e.element.id;o?i(o):t.sendRequest(s).then(function(e){return i(t.onSuccessResponse(e,a))})})}},{key:"onSuccessResponse",value:function(e,t){var i=e.json.data,n=i.modelName,r=i.imageLinks;return this.saveToStore(n,{_id:t,imageLinks:r,preloadedImages:0})}},{key:"name",get:function(){return"ListPageGalleryModel"}},{key:"getThumbnailSlideShowImageUrl",get:function(){return"ListPageSlideShow/Get"}}])&&L(i.prototype,n),o&&L(i,o),t}();function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e,t,i){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,x(t).apply(this,arguments))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r.a.Component),i=t,(n=[{key:"init",value:function(e,i){B(x(t.prototype),"init",this).call(this,e,i),this._createController()}},{key:"_createController",value:function(){this._ListPageGalleryController=new w({el:this.element,items:{ListPageGalleryModel:{component:this._getListPageGalleryModel()}}})}},{key:"getController",value:function(){return this._ListPageGalleryController instanceof w||this._createController(),this._ListPageGalleryController}},{key:"_getListPageGalleryModel",value:function(){return this._ListPageGalleryModel instanceof M||(this._ListPageGalleryModel=new M),this._ListPageGalleryModel}},{key:"startSlideShow",value:function(e){return this.getController().getPerformerGallery(e)}},{key:"stopSlideShow",value:function(e){this.getController().stopSlideShow(e)}},{key:"name",get:function(){return"ListPageGalleryComponent"}}])&&k(i.prototype,n),o&&k(i,o),t}();t.default=F},2809:function(e,t,i){var n=i("1029"),r=i("d869"),o=function(e,t){o.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(o,n.Component,{name:"PerformerSwapModel",swapRouteHandler:"",ajaxQueue:null,_swappedPerformers:[],init:function(e,t){o.superclass.init.call(this,e,t)},_getRequestUrl:function(){return n.getUrl(this.swapRouteHandler,{listPageId:n.getMeta("listPageId")},{})},_onChangeListPageId:function(){this._swappedPerformers=[]},setSwappedPerformers:function(e){this._swappedPerformers=n.union(this._swappedPerformers,e)},sendRequest:function(e,t){t=t||{},this.ajaxQueue.request({type:"json",url:this._getRequestUrl(),params:{performers:Ext.encode(e),swapped:Ext.encode(this._swappedPerformers),applyAdditionalFilters:t.applyAdditionalFilters?1:0},method:"POST",scope:this,success:function(e){this.fireEvent(r.PerformerSwapModel.EVENT_REQUEST_SUCCESS,{response:e,options:t})},error:function(e){this.fireEvent(r.PerformerSwapModel.EVENT_REQUEST_ERROR,{response:e,options:t})}})},bind:function(){o.superclass.bind.call(this),n.on(n.Broadcaster,r.ListPageModelAbstract.GLOBALEVENT_CHANGE_LIST_PAGE_ID,this._onChangeListPageId,this)}})},3451:function(e,t,i){var n=i("1029"),r=i("d869"),o=i("4388"),s=function(e,t){s.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(s,n.Model,{name:"PerformerModel",_performerIdKey:"id",_performerNameKey:"pid",_isFavoriteKey:"isFavorite",_blockTypeKey:"blockType",_statusKey:"originalStatus",_fallbackStatusKey:"status",_sizeKey:"size",_gravityCategoryKey:"gravity_category",_flashDataKey:"flashInitData",_profilePictureUrlKey:"profilePictureUrl",_profileWebpPictureUrlKey:"profileWebpPictureUrl",_isOnViewPort:!1,_isFullyVisibleOnViewPort:!1,_isLppPlaying:!1,_isPrivatePeekAppended:!1,_isVideoCallAppended:!1,_isSendMessageAppended:!1,_qualityCategoryKey:"qualitycategory",_sumOfOnlinePerformersKey:"sumofonlineperformers",_resolutionKey:"resolution",_videoTeasersKey:"videoteasers",_jasminChannelKey:"jasmin_channel",_chatRouting:"Chat/Performer",_showData:null,_isShowBoxDisplayed:!1,_isHovered:!1,init:function(){this.addEvents(r.PerformerModel.EVENT_STATUS_CHANGE,r.PerformerModel.EVENT_GETS_IN_VIEWPORT,r.PerformerModel.EVENT_LPP_STATUS_CHANGE),s.superclass.init.call(this)},getId:function(){return this.attributes[this._performerIdKey]},getName:function(){return this.attributes[this._performerNameKey]},getVideoCallPrice:function(){return this.attributes.video_call_charge_amount},getLoadDataObject:function(){return{qualitycategory:this.attributes[this._qualityCategoryKey],sumofonlineperformers:this.attributes[this._sumOfOnlinePerformersKey],resolution:this.attributes[this._resolutionKey],videoteasers:this.attributes[this._videoTeasersKey],jasmin_channel:this.attributes[this._jasminChannelKey]}},isFavorite:function(){return 1===parseInt(this.attributes[this._isFavoriteKey],10)},getBlockType:function(){return this.attributes[this._blockTypeKey]},getUrl:function(){return this.attributes.href||n.getUrl(this._chatRouting,{performerId:this.getName()})},isPeekAllowed:function(){return 1===this.attributes.ispeek},hasVideoCall:function(){return n.Config.get("video_call_enabled")&&1===parseInt(this.attributes.is_video_call_enabled,10)},getStatus:function(e){return e=this.attributes.hasOwnProperty(this._statusKey)?this._statusKey:this._fallbackStatusKey,parseInt(this.attributes[e],10)},getFlashData:function(){return this.attributes[this._flashDataKey]},getIsFullyVisibleOnViewPort:function(){return this._isFullyVisibleOnViewPort},getIsOnViewPort:function(){return this._isOnViewPort},getSize:function(){return this.attributes[this._sizeKey]||r.ListPageModelAbstract.PERFORMER_SIZE_SMALL},getGravityCategory:function(){return this.attributes[this._gravityCategoryKey]},getProfilePictureUrl:function(){return this.attributes[this._profileWebpPictureUrlKey]&&o()?this.attributes[this._profileWebpPictureUrlKey]:this.attributes[this._profilePictureUrlKey]},getIsLppPlaying:function(){return this._isLppPlaying},getIsPrivatePeekAppended:function(){return this._isPrivatePeekAppended},getIsVideoCallAppended:function(){return this._isVideoCallAppended},getIsSendMessageAppended:function(){return this._isSendMessageAppended},getShowData:function(){return this._showData},isShowBoxDisplayed:function(){return this._isShowBoxDisplayed},isHovered:function(){return this._isHovered},setHovered:function(e){this._isHovered=e},setIsPeekAllowed:function(e){this.attributes.ispeek=e?1:0},setShowData:function(e){this._showData=e},setShowBoxDisplayed:function(e){this._isShowBoxDisplayed=e},setStatus:function(e){return this.getStatus()!==e&&(this.attributes[this._statusKey]=e,this.fireEvent(r.PerformerModel.EVENT_STATUS_CHANGE)),this},setIsPrivatePeekAppended:function(){return this._isPrivatePeekAppended=!0,this},setIsVideoCallAppended:function(){return this._isVideoCallAppended=!0,this},setIsSendMessageAppended:function(){return this._isSendMessageAppended=!0,this},setIsOnViewPort:function(e,t){return this._isOnViewPort!==t&&(this._isOnViewPort=t,this._isOnViewPort&&this.fireEvent(r.PerformerModel.EVENT_GETS_IN_VIEWPORT,this)),this._isFullyVisibleOnViewPort!==e&&(this._isFullyVisibleOnViewPort=e,this._isFullyVisibleOnViewPort&&this.fireEvent(r.PerformerModel.EVENT_GETS_FULLY_IN_VIEWPORT,this)),this},setFavorite:function(e){this.attributes[this._isFavoriteKey]=e?1:0},setLppStatusPlaying:function(){null===this._showData&&(this._isLppPlaying=!0,this.fireEvent(r.PerformerModel.EVENT_LPP_STATUS_CHANGE))},setLppStatusStopped:function(){null===this._showData&&(this._isLppPlaying=!1,this.fireEvent(r.PerformerModel.EVENT_LPP_STATUS_CHANGE))}})},"3b17":function(e,t,i){var n=i("7b09"),r=function(e){r.superclass.constructor.call(this,e)};e.exports=Ext.extend(r,n,{name:"ImageWithoutAnchorTemplate",commercialImageUrl:"listpage",commercialImageId:"commercial",tpl:'<div id="container_{id}" class="{containerClass} commercial_container"><img src="{src}" alt /></div>',_setTemplateParams:function(e){return{containerClass:e.size,id:e.id,src:e.commercialImageUrl}}})},4228:function(e,t,i){var n=i("d30b").default,r=i("7ab0"),o=function(e){o.superclass.constructor.call(this,e)};e.exports=Ext.extend(o,n,{name:"HistoryTemplate",tpl:'<article id="{id}" class="{containerClass} {hasVideoCall}" data-status="{dataStatus}">{imageBlock}<a href="{href}" rev="{rev}">{debugText}<span class="protip favorite {isFavorite}" data-model-id="{favoriteId}" data-pt-auto-hide="2000" data-pt-classes="favorite_protip" data-pt-gravity="right 5" data-pt-size="tiny" data-pt-trigger="sticky" data-pt-arrow="false"><span class="broken-heart"><i>'+r.svgIconBlock("heart-broken-left")+"</i><i>"+r.svgIconBlock("heart-broken-right")+'</i></span></span><span class="history_status history_type">{historyType}</span><span class="history_status history_time">{historyTime}</span>{rightBottomBadge}<span class="performer_name">{name}</span>{badgeBlock}{videoBadgeBlock}</a></article>',getImageBlock:function(e,t,i){var n='<picture class="cover"><source srcset="'+t+'" type="image/webp"><img src="'+e+'" class="cover" alt="'+i+'"></picture>';return r.isHokkaido()&&(n='<picture class="cover"><source data-srcset="'+t+'" type="image/webp"><img src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7" data-jpg-src="'+e+'" data-webp-src="'+t+'" class="cover performer-image" alt="'+i+'"></picture>'),n},_setTemplateParams:function(e){return Ext.apply(o.superclass._setTemplateParams.call(this,e),{historyType:e.lastHistoryEventTimeMessage,historyTime:e.lastHistoryEventType})}})},"4daa":function(e,t,i){var n=i("1029"),r=i("d869"),o=i("7ab0"),s=i("3032"),a=i("9b72"),l=function(e){l.superclass.constructor.call(this,e)};e.exports=Ext.extend(l,n.Plugin,{name:r.PerformerSwap.NAME,animDuration:.2,animDelay:200,animDelayDivisor:1e3,showDuration:.2,template:null,perfImgSel:"img",badImgWidth:2,badImgHeight:2,_prevHideAnimationEndTime:0,init:function(e){l.superclass.init.call(this,e),this.host.addEvents(r.PerformerSwap.EVENT_SWAPPED_PERFORMERS,r.PerformerSwap.DESTROY_PERFORMER)},_onPerformerSwap:function(e){var t=n.map(e,function(e,t){var i,r=this.view.model.createPerformerModelFromData(e),o=this.view.createPerformerView(r).setZeroOpacity(),s={oldPerformerId:t,newPerformerView:o},a=r.getProfilePictureUrl();return n.isUndefined(o.element)?null:(a?((i=new Image).onload=n.bind(this._onPerformerImageLoaded,this,s,i),i.src=a):this._hideAndReplaceBoxesAnimated(s),t)},this);t.length&&this.host.fireEvent(r.PerformerSwap.EVENT_SWAPPED_PERFORMERS,t)},_onPerformerSwapWithLastPerformer:function(e){var t={oldPerformerId:e.swapPerformerID,newPerformerView:e.lastPerformerView,callback:function(){this.host.fireEvent(r.PerformerSwap.DESTROY_PERFORMER,e.swapPerformerID)}};this._hideAndReplaceBoxesAnimated(t)},_onPerformerImageLoaded:function(e,t){this._isGoodImgDimensions(t)&&this._hideAndReplaceBoxesAnimated(e)},_hideAndReplaceBoxesAnimated:function(e){if(n.hasPath(e,"oldPerformerId")&&n.hasPath(e,"newPerformerView")){var t=this.view.getPerformerViewById(e.oldPerformerId);if(!n.isDefined(t))return;TweenLite.to(t.element.dom,this.animDuration,{delay:this._setHideDelay(),autoAlpha:0,onCompleteScope:this,onComplete:function(){t.setZeroOpacity().replaceWith(e.newPerformerView),this._showBoxAnimated(e.newPerformerView),o.updateLazy(),e.newPerformerView instanceof a&&s.activate("optimize.commercial.banner"),"function"==typeof e.callback&&e.callback.call(this)}})}},_showBoxAnimated:function(e){TweenLite.to(e.element.dom,this.animDuration,{autoAlpha:1})},_setHideDelay:function(){var e=(new Date).getTime(),t=e-this._prevHideAnimationEndTime,i=this.animDelay/this.animDelayDivisor;return t>=this.animDelay?(this._prevHideAnimationEndTime=e,i):(this._prevHideAnimationEndTime+=this.animDelay,Math.abs(t)/this.animDelayDivisor+i)},_isGoodImgDimensions:function(e){return!(e.width===this.badImgWidth&&e.height===this.badImgHeight)},bind:function(){l.superclass.bind.call(this),this.host.on(r.ListPageControllerAbstract.EVENT_PERFORMER_SWAP,this._onPerformerSwap,this),this.host.on(r.ListPageControllerAbstract.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,this._onPerformerSwapWithLastPerformer,this)},unbind:function(){l.superclass.unbind.call(this),this.host.un(r.ListPageControllerAbstract.EVENT_PERFORMER_SWAP,this._onPerformerSwap,this),this.host.on(r.ListPageControllerAbstract.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,this._onPerformerSwapWithLastPerformer,this)}})},"68b3":function(e,t,i){var n=i("1029"),r=i("d869"),o=function(e){o.superclass.constructor.call(this,e)};e.exports=Ext.extend(o,n.View,{name:"ListPageItemViewAbstract",itemImageSel:"img",imageLoadingClass:"image_loading",imageLoadedClass:"image_loaded",visibleListPageSel:"section.page.showless.visible",visibleListPageEl:null,init:function(){this.addEvents(r.ListPageItemViewAbstract.EVENT_VIEW_REPLACED),o.superclass.init.call(this),this.visibleListPageEl=Ext.select(this.visibleListPageSel).item(0),this.element&&(this._selectElements(),this._bindElements())},_selectElements:function(){},setCurrentOrder:function(e){this.element&&this.element.data("order",e)},setZeroOpacity:function(){return this.element&&this.element.setStyle("opacity",0),this},_checkInVisibleListPage:function(){this.element.dom.parentNode||this.visibleListPageEl.appendChild(this.element)},replaceWith:function(e){return this.element&&(this._checkInVisibleListPage(),this.element.replaceWith(e.element),delete this.element,e.checkIfIsOnViewPort(),this.fireEvent(r.ListPageItemViewAbstract.EVENT_VIEW_REPLACED,{oldPerformerView:this,newPerformerView:e})),this},_setImageOnLoad:function(e){var t=this.getItemImage();if(t){var i=n.isDefined(e)?e:t.dom.src,r=n.bind(function(){o=null,this.element.removeClass(this.imageLoadingClass).addClass(this.imageLoadedClass)},this);try{var o=new Image;t.dom.complete?this.element.addClass(this.imageLoadedClass):(this.element.addClass(this.imageLoadingClass),o.onload=r,o.onerror=r,o.src=i)}catch(e){console.error("Set image on load error.",e.stack)}}},getItemImage:function(){return this._itemImage||(this._itemImage=this.select(this.itemImageSel).item(0)),this._itemImage},_bindElements:function(){},_unBindElements:function(){},checkIfIsOnViewPort:function(){},bind:function(){o.superclass.bind.call(this)},unbind:function(){o.superclass.unbind.call(this),this._unBindElements()}})},"768e":function(e,t,i){var n=i("1029"),r=i("d869"),o=i("7ab0"),s=i("1cab").default,a=i("8036").default,l=i("8036").ACTION,c=i("10b1").getOngoingShows,h=i("88fa").default,u=i("3886").setSurveyPostponed,d=i("3886").resetPostponedSurvey,f=function(e,t){f.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(f,n.Controller,{name:"ListPageControllerAbstract",performersConfig:"listPagePerformers",newSorterId:"order_list",newSorterDataAttribute:"data-action",newSorterDataAction:"my_rating",_newSorterEl:void 0,_newSorterObject:{tag:"li",cls:"menu_item",children:[{tag:"a",cls:"item_text ordering filter_item",id:"order_my_rating",html:n.translate("My Rating")}]},init:function(e,t){f.superclass.init.call(this,e,t),this.ListPageModel.setPerformerDetailsOnInit(this.getPerformerDataObject()),this.initializeShowBoxesForListpage(),this._newSorterEl=Ext.get(this.newSorterId),this.addEvents(r.ListPageModelAbstract.EVENT_DESTROY_ALL,r.ListPageControllerAbstract.EVENT_VISIBLE_FREE_MODELS_READY,r.ListPageControllerAbstract.EVENT_VISIBLE_MODELS_READY,r.ListPageControllerAbstract.EVENT_PERFORMER_SWAP,r.ListPageControllerAbstract.EVENT_VIEW_MOUSEOVER,r.ListPageControllerAbstract.EVENT_VIEW_MOUSEOUT,r.ListPageControllerAbstract.GET_ALL_PERFORMERS_READY),window.chaos=n},initializeShowBoxesForListpage:function(){o.isShowBoxAllowedInThumbnail()&&(a.subscribe(this.renderShowBoxes.bind(this)),this.getOngoingShows())},getOngoingShows:function(){var e=this;c().then(function(t){a.addShowsToListPage(t),e.setPrivatePeekDisabled(t)})},setPrivatePeekDisabled:function(e){var t=e.private_peek_disabled;t&&this.ListPageModel.setDisabledPrivatePeek(t)},renderShowBoxes:function(e){if(e.type!==l.SHOW_PENDING&&e.type!==l.USER_BUY_TICKET_FAILED){var t,i=this;this._renderedShowBoxIds&&this.removeOutDatedShowBoxes(),this._renderedShowBoxIds=a.store.shows.listPageShowIds,a.store.shows.listPageShowIds.forEach(function(e){(t=i.getPerformerViewByShowId(e))&&t instanceof h&&t.displayShowBox(a.store.shows.byId[e])})}},removeOutDatedShowBoxes:function(){var e,t=this;n.difference(this._renderedShowBoxIds,a.store.shows.listPageShowIds).map(function(i){(e=t.getPerformerViewByShowId(i))&&e.removeShowBox()})},getPerformerViewByShowId:function(e){var t=a.store.shows.byId[e];return!!t&&this.ListPageView.getPerformerViewById(t.performer.id)},getPerformerDataObject:function(){return n.Config.get(this.performersConfig)},getVisibleFreeModels:function(){this.ListPageModel.getVisibleFreeModels()},getVisiblePerformers:function(){this.ListPageModel.getVisibleModels()},getAllPerformers:function(){this.ListPageModel.getAllPerformers()},onVisibleFreeModelsReady:function(e){var t=n.map(e,function(e){return this.ListPageView.getPerformerViewById(e)},this);this.fireEvent(r.ListPageControllerAbstract.EVENT_VISIBLE_FREE_MODELS_READY,t)},onVisibleModelsReady:function(e){var t=n.map(e,function(e){return this.ListPageView.getPerformerViewById(e.getId())},this);this.fireEvent(r.ListPageControllerAbstract.EVENT_VISIBLE_MODELS_READY,t)},onGetAllPerformersReady:function(e){var t=n.map(e,function(e){return this.ListPageView.getPerformerViewById(e.getId())},this);this.fireEvent(r.ListPageControllerAbstract.GET_ALL_PERFORMERS_READY,t)},onPerformerElementClick:function(e,t){this.fireEvent(r.ListPageControllerAbstract.EVENT_PERFORMER_ELEMENT_CLICK,e,t)},onPerformerViewMouseOver:function(e){this.fireEvent(r.ListPageControllerAbstract.EVENT_VIEW_MOUSEOVER,e)},onPerformerViewMouseOut:function(e){this.fireEvent(r.ListPageControllerAbstract.EVENT_VIEW_MOUSEOUT,e)},onShowMore:function(){this.ListPageModel.getNextPage(),this.getOngoingShows()},onStatusChange:function(e){this.ListPageModel.setNewStatuses(e.statuses)},onRefreshListPage:function(e){this.ListPagePlayer&&this.ListPagePlayer.resetRandomPlayer(),o.setCursor("wait"),this.ListPageModel.setShowMoreJsonQueryParams({listPageOrderType:e.orderType}).refreshListPage()},onSearchResults:function(e){n.isObject(e)&&(this.ListPagePlayer&&this.ListPagePlayer.resetRandomPlayer(),this.ListPageModel.refreshListPageFromSearch(e))},onPerformerSwap:function(e){this.fireEvent(r.ListPageControllerAbstract.EVENT_PERFORMER_SWAP,e)},onPerformerSwapLast:function(e){this.fireEvent(r.ListPageControllerAbstract.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,e)},onAjaxSearchPageOn:function(){n.isDefined(this.PerformerSwap)&&this.PerformerSwap.disableSwapping(),n.setMeta("isSearchPage",1)},onAjaxSearchPageOff:function(){n.setMeta("isSearchPage",0),n.isDefined(this.PerformerSwap)&&this.PerformerSwap.enableSwapping()},onAjaxInProgress:function(){},onAjaxFinished:function(){},onFirstBillComplete:function(){},onLoggedIn:function(){s.setUserAction(s.CONST.ACTION.LOGIN),this._setNewSorter(),d()},onSignUpSuccess:function(){s.setUserAction(s.CONST.ACTION.SIGNUP),this._setNewSorter(),u()},onQuickBuySuccess:function(){},_setNewSorter:function(){this._newSorterEl&&Ext.DomHelper.append(this._newSorterEl,this._newSorterObject).setAttribute(this.newSorterDataAttribute,this.newSorterDataAction)},onShowMoreError:function(){this.ListPageView.showMoreError()},onDestroyAll:function(){this.ListPagePlayer&&this.ListPagePlayer.resetRandomPlayer()},bind:function(){f.superclass.bind.call(this),this.on(r.AutoShowMore.EVENT_SHOW_MORE,this.onShowMore,this),n.on([{element:n.Broadcaster,event:r.LoginComponent.GLOBALEVENT_LOG_IN,handler:this.getOngoingShows,scope:this},{element:n.Broadcaster,event:r.SearchFilterComponent.GLOBALEVENT_SEARCH_SUCCESS,handler:this.getOngoingShows,scope:this}])},unbind:function(){f.superclass.unbind.call(this),this.un(r.AutoShowMore.EVENT_SHOW_MORE,this.onShowMore,this),a.unsubscribe(this.renderShowBoxes.bind(this))}})},"783f":function(e,t,i){var n=i("1029"),r=i("d869"),o=i("8ca1"),s=i("88fa").default,a=function(e){a.superclass.constructor.call(this,e)};e.exports=Ext.extend(a,s,{name:"JasminLiveCamsPerformerView",activeCls:"active",performerImageSel:"> img:last",slideShowContainerSel:".slideshow-container",transitionDuration:600,_newPerformerImageConfigNames:{},_itemMargin:0,init:function(){this._newPerformerImageConfigNames=n.object([[r.ListPageModelAbstract.PERFORMER_SIZE_BIG,"newPerformerImageBig"],[r.ListPageModelAbstract.PERFORMER_SIZE_SMALL,"newPerformerImageSmall"]]),a.superclass.init.call(this)},_getTemplate:function(){return o},_setImageOnLoad:function(){var e=this.getItemImage();e&&(e.dom.complete?this._fadeInTheProfilePicture():(e.dom.onload=n.bind(this._fadeInTheProfilePicture,this),e.dom.onerror=n.bind(this._fadeInTheProfilePicture,this)))},_fadeInTheProfilePicture:function(){var e=this.getItemImage();(e.dom.naturalWidth<3||e.dom.naturalHeight<3)&&(e.dom.src=this._getNewPerformerImage()),e.setOpacity(1)},getVideoCallContainer:function(){return this.element.select(".slideshow-container").item(0)},_getNewPerformerImage:function(){var e=this.model?this.model.getSize():r.ListPageModelAbstract.PERFORMER_SIZE_SMALL;return n.Config.get(this._newPerformerImageConfigNames[e])},setActive:function(){this.element&&this.element.addClass(this.activeCls)},setInactive:function(){this.element&&this.element.removeClass(this.activeCls)}})},"825c":function(e,t,i){var n=i("1029"),r=function(e,t){r.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(r,n.View,{name:"ListPagePlayerView",_defaultZIndex:110,init:function(){r.superclass.init.call(this)},setElements:function(){this.listPagePlayerDivEl=Ext.get(this.flashPlayerConfig.appendToId)},getPerformerDetails:function(e){this.model.getPerformerDetails(e)}})},"88fa":function(e,t,i){"use strict";i.r(t);var n=i("1029"),r=i.n(n),o=i("e568"),s=i.n(o),a=i("1cab"),l=i("d869"),c=i.n(l),h=i("68b3"),u=i.n(h),d=i("d30b"),f=i("ab39"),p=i.n(f),m=i("4228"),g=i.n(m),_=i("a462"),P=i.n(_),y=i("3b17"),E=i.n(y),v=i("f26f"),b=i.n(v),w=i("ea96"),S=i.n(w),C=i("7ab0"),T=i.n(C),L=i("089a"),O=i("8036"),I=i("0592"),A=function e(t){e.superclass.constructor.call(this,t)};Ext.extend(A,u.a,{name:"PerformerView",favoriteButtonSel:".favorite",hoverClass:"hover",lppPlayingClass:"lpp_playing",statusAttributeName:"data-status",_performerTemplates:r.a.object([[c.a.PerformerView.BLOCK_TYPE_PERFORMER,d.default],[c.a.PerformerView.BLOCK_TYPE_FAVORITES,p.a],[c.a.PerformerView.BLOCK_TYPE_HISTORY,g.a],[c.a.PerformerView.BLOCK_TYPE_SNAPSHOT,P.a],[c.a.PerformerView.BLOCK_TYPE_NEW_CATEGORIES,E.a],[c.a.PerformerView.BLOCK_TYPE_AWARDS_PERFORMER,b.a]]),_itemMargin:0,_minImageSide:0,_showBoxEl:null,_hasShowBox:!1,init:function(){this.addEvents(c.a.PerformerView.EVENT_PERFORMER_ELEMENT_CLICK,c.a.PerformerView.EVENT_VIEW_MOUSEOVER,c.a.PerformerView.EVENT_VIEW_MOUSEOUT),A.superclass.init.call(this),!T.a.isHokkaido()&&this._setImageOnLoad(this.model.getProfilePictureUrl()),this._createDebugLabels()},getAnchorElement:function(){return this.select("a").item(0)},getDimensions:function(){var e=0,t=0,i=this.getItemImage();return null!==i&&(e=i.getWidth()-this._itemMargin,t=i.getHeight()-this._itemMargin),{width:e,height:t}},getVideoPreviewSize:function(){return this.getDimensions().width<c.a.PerformerView.VIDEO_PREVIEW_SIZE_WIDTH_THRESHOLD?r.a.Config.get("smallPreview"):r.a.Config.get("bigPreview")},getPosition:function(){var e=0,t=0,i=this.getItemImage(),n=Ext.get("inner_container").getTop();return null!==i&&(e=i.getTop()-n+this._itemMargin/2,t=i.getLeft()+this._itemMargin/2),{top:e,left:t}},_createDebugLabels:function(){var e=this;1===parseInt(localStorage.getItem("performer-view-debug-labels-enabled"),10)&&i.e(17).then(i.bind(null,"aeed")).then(function(t){new(0,t.default)(e.element,e.model.attributes)}).catch(function(){return"An error occurred while loading the component"})},_getTemplate:function(){return this._performerTemplates[this.model.getBlockType()]},_bindElements:function(){this.element&&this.element.on({touchend:this._onTouchEnd,mouseenter:this._onMouseEnter,mouseleave:this._onMouseLeave,click:this._onPerformerElementClick,scope:this})},_unBindElements:function(){this.element&&this.element.un({touchend:this._onTouchEnd,mouseenter:this._onMouseEnter,mouseleave:this._onMouseLeave,click:this._onPerformerElementClick,scope:this})},checkIfIsOnViewPort:function(){return this.element&&this.model.setIsOnViewPort(r.a.Util.isFullyVisibleOnViewPort(this.element),r.a.Util.isOnViewPort(this.element)),this},_appendPrivatePeekTemplate:function(){var e=2===this.model.getStatus(),t=3===this.model.getStatus();return!e&&!t||this.model.getIsPrivatePeekAppended()||(this.element.addClass("peekAllowed"),Ext.DomHelper.append(this.element.select("a").item(0),(new S.a).render({title:r.a.translate("I'm in <strong>Private Chat</strong>"),buttonText:r.a.translate("Take a peek"),creditText:r.a.translate("{credit} Credit",{credit:1})})),this.model.setIsPrivatePeekAppended(),r.a.on([{element:this.element.select(".private_peek_button"),event:"click",handler:this.onPrivatePeekButtonClick}],this)),this},getVideoCallContainer:function(){return this.element.select("a").item(0)},_appendVideoCallTemplate:function(){var e,t,i,n=0===this.model.getStatus();return 0===parseInt(r.a.getMeta("isSearchPage"),10)&&T.a.isIndexPage()||!n||this.model.getIsVideoCallAppended()||(Ext.DomHelper.append(this.getVideoCallContainer(),(e={performerName:this.model.getName(),price:this.model.getVideoCallPrice()},t=Object(L.a)("I'm available"),i=Object(L.a)("{credits} Credits / minute",{credits:e.price}),'<div class="video_call_container">\n                <span>'.concat(t,'</span>\n                <button class="video_call_button first_button">').concat(Object(L.a)("Call me"),"</button>\n                <em>").concat(i,"</em>\n            </div>"))),this.model.setIsVideoCallAppended(),r.a.on([{element:this.element.select(".video_call_button"),event:"click",handler:this.onVideoCallButtonClick}],this)),this},_appendSendMessageTemplate:function(){var e,t=0===this.model.getStatus(),i=this.element.select("a").item(0),n=(e=Object(L.a)("I'm offline"),'<div class="send_message_container">\n\t\t\t\t<span>'.concat(e,'</span>\n\t\t\t\t<button class="send_message_button first_button">').concat(Object(L.a)("Send me a message"),"</button>\n\t\t\t</div>"));return!t||this.model.hasVideoCall()||this.model.getIsSendMessageAppended()||(this.element.addClass("sendMessageAllowed"),Ext.DomHelper.append(i,n),this.model.setIsSendMessageAppended(),r.a.on([{element:this.element.select(".send_message_button"),event:"click",handler:this.onSendMessageButtonClick}],this)),this},_onStatusChange:function(){this.element.dom.setAttribute(this.statusAttributeName,this.model.getStatus()),this.checkIfIsOnViewPort()},_onPerformerElementClick:function(e,t){var i=Ext.get(t).findParent(this.favoriteButtonSel,10,!0),n=e.getTarget("a",10,!0);n&&-1!==n.dom.href.indexOf("chat-html5")&&r.a.Config.set("forceHTML5Chat",!0),T.a.getMouseButton(e)===c.a.Util.MIDDLE_MOUSE_BUTTON||e.ctrlKey||i||T.a.isModalOpenDenied()||(e.stopEvent(),this._trackPerformerClick(this.model.attributes),this.fireEvent(c.a.PerformerView.EVENT_PERFORMER_ELEMENT_CLICK,this.model,e.browserEvent.currentTarget))},_trackPerformerClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};1===parseInt(e.has_vip_show,10)&&a.default.trackGenericEvent({eventCategory:a.default.CONST.PAGE.LISTS,eventAction:a.default.CONST.ACTION.CLICK,eventLabel:"vip show room"})},_onTouchEnd:function(){this.isTouchEvent=!0},_onMouseEnter:function(){this.isTouchEvent?this.isTouchEvent=!1:this._hasShowBox||(T.a.isPrivatePeekAllowedInThumbnail()&&this.model.isPeekAllowed()&&!this._hasShowBox&&this._appendPrivatePeekTemplate(),this.model.hasVideoCall()&&this._appendVideoCallTemplate(),T.a.isSendMessageAllowedInThumbnail()&&this._appendSendMessageTemplate(),this.addHoverClass(),this.fireEvent(c.a.PerformerView.EVENT_VIEW_MOUSEOVER,this),this.model.setHovered(!0))},_onMouseLeave:function(){this._hasShowBox||(this.model.setHovered(!1),this.removeHoverClass(),this.fireEvent(c.a.PerformerView.EVENT_VIEW_MOUSEOUT,this))},_onLppChange:function(){this.element&&this.element[this.model.getIsLppPlaying()?"addClass":"removeClass"](this.lppPlayingClass)},_onGetsFullyInViewPort:function(){this.model.un(c.a.PerformerModel.EVENT_GETS_FULLY_IN_VIEWPORT,this._onGetsFullyInViewPort,this),r.a.Broadcaster.fireEvent(c.a.PerformerView.GLOBALEVENT_GETS_FULLY_IN_VIEWPORT,{scope:this})},addHoverClass:function(){this.element&&this.getAnchorElement().addClass(this.hoverClass)},removeHoverClass:function(){this.element&&this.getAnchorElement().removeClass(this.hoverClass)},onPrivatePeekButtonClick:function(){r.a.fireEvent("PerformerView:privatePeekButtonClick")},onVideoCallButtonClick:function(){r.a.fireEvent("PerformerView:videoCallButtonClick"),a.default.trackGenericEvent({eventCategory:a.default.getInitPageType(),eventAction:"click",eventLabel:"video call icon"})},onSendMessageButtonClick:function(e){e.stopEvent(),s.a.isLoggedIn()?(a.default.trackGenericEvent({eventCategory:T.a.isCurrentPage(c.a.PageId.FAVORITE_INDEX)?a.default.CONST.PAGE.FAVORITE:a.default.CONST.PAGE.LISTS,eventAction:"click",eventLabel:"send message"}),I.default.navigate("messages/".concat(this.model.getName()),!0,e)):I.default.navigate("signup",{trigger:!0,preventNavigateBack:!0})},onJoinShowButtonClick:function(e){e.preventDefault(),e.stopEvent();var t=T.a.isCurrentPage(c.a.PageId.FAVORITE_INDEX)?a.default.CONST.PAGE.FAVORITE:a.default.CONST.PAGE.LISTS;switch(this.model._showData.type){case O.SHOW_TYPE.VIP:r.a.Broadcaster.fireEvent(c.a.PerformerView.EVENT_JOIN_VIP_SHOW_FROM_LIST_PAGE,{scope:this}),a.default.trackGenericEvent({eventCategory:t,eventAction:a.default.CONST.ACTION.CLICK,eventLabel:"join now vip show"});break;case O.SHOW_TYPE.SCHEDULED:r.a.Broadcaster.fireEvent(c.a.PerformerView.EVENT_JOIN_SCHEDULED_SHOW_FROM_LIST_PAGE,{scope:this}),a.default.trackGenericEvent({eventCategory:t,eventAction:a.default.CONST.ACTION.CLICK,eventLabel:"join now ss show"})}},displayShowBox:function(e){this._hasShowBox=!0;var t=e;r.a.getPath(t,"performer.nick")||(t.performer.nick=this.model.getName());var i=this.model.getShowData();null!==i&&r.a.isEqual(i,t)||(this.removeShowBox(),this.element.addClass("peek_box"),this._showBoxEl=Ext.DomHelper.append(this.element,this.getShowTemplate(t),!0),this.model.setShowData(t),this.model.setShowBoxDisplayed(!0),this.bindShowBox())},removeShowBox:function(){this._hasShowBox=!1,this.unbindShowBox(),this.element.removeClass("peek_box"),this._showBoxEl&&this._showBoxEl.remove(),this.model.setShowBoxDisplayed(!1)},getShowTemplate:function(e){switch(e.type){case O.SHOW_TYPE.VIP:return t=e,i=Object(L.a)("{name}'s [span]VIP Show[/span]",{name:t.performer.nick}),n=Object(L.a)("I'm in [span]VIP Show[/span]"),r=t.isUserSubscribed?"green_button":"first_button",o=t.isUserSubscribed?Object(L.a)("Booked"):t.price<=1?"".concat(t.price," ").concat(Object(L.a)("credit")):"".concat(t.price," ").concat(Object(L.a)("credits")),s=t.isUserSubscribed?"show_booked":"show_price",'<div class="show_box_container show_box_container--vip">\n\t\t\t<div class="show_box_container_title">'.concat(i,'</div>\n\t\t\t<div class="show_box_container_title--small">').concat(n,'</div>\n\t\t\t<div class="show_box_container_button--holder">\n\t\t\t\t<button class="join_show_button ').concat(r,'">').concat(Object(L.a)("Join now"),'</button>\n\t\t\t</div>\n\t\t\t<div class="show_box_container_alt ').concat(s,'">').concat(o,"</div>\n\t\t</div>")}var t,i,n,r,o,s},bindShowBox:function(){this.element.on("click",this.onJoinShowButtonClick,this,{delegate:".join_show_button"})},unbindShowBox:function(){this.element.un("click",this.onJoinShowButtonClick,this,{delegate:".join_show_button"})},bind:function(){A.superclass.bind.call(this),r.a.on([{element:this.model,event:c.a.PerformerModel.EVENT_STATUS_CHANGE,handler:this._onStatusChange},{element:this.model,event:c.a.PerformerModel.EVENT_LPP_STATUS_CHANGE,handler:this._onLppChange},{element:this.model,event:c.a.PerformerModel.EVENT_GETS_FULLY_IN_VIEWPORT,handler:this._onGetsFullyInViewPort}],this)}});t.default=A},"8c3d":function(e,t){var i,n,r;e.exports=(i=[],n=[],r=[],{isImageLoaded:function(e){return-1!==r.indexOf(e)},preloadGroup:function(e){var t=function(e){var t,r=[];if(e.length)for(var o=0;o<e.length;o++)r.push(new Promise(function(r){(t=new Image).src=e[o],t.onload=function(){i.push(t),r(t)},t.onerror=function(){n.push(t),r(t)}}));return r}(e);return new Promise(function(e,r){Promise.all(t).then(function(t){e({successfulImages:i,failedImages:n})}).catch(function(e){r(e)})})},preload:function(e,t){var i=new Image;i.src=e,i.onload=function(){-1==r.indexOf(i.src)&&r.push(i.src),t&&t(null,i)},i.onerror=function(){t&&t(new Error("Failed to load image "+e),i)}},preloadList:function(e){var t=e.imageList;e.originalList=[].concat(t),e.limit&&(t=t.slice(0,e.limit));var i,n=0;for(i=0;i<t.length;i++){var o=new Image;o.src=t[i],o.onload=function(i){return function(){-1==r.indexOf(t[i])&&r.push(t[i]),n++,e.callback&&n===t.length&&e.callback(e)}}(i),o.onerror=function(){n++,e.callback&&n===t.length&&e.callback(e)}}}})},"8ca1":function(e,t,i){var n=i("1029"),r=i("d30b").default,o=i("7ab0"),s=function e(t){e.superclass.constructor.call(this,t)};e.exports=Ext.extend(s,r,{name:"JasminLiveCamsPerformerTemplate",tpl:'<article id="{id}" class="model_box_livecam perf_container {hasVideoCall}" \n            data-rating="{rating}" data-status="{dataStatus}">\n                <img src="{src}" class="clone cover" alt="{altText}">\n                <a href="{href}" class="wrapper">\n                    <span class="protip favorite {isFavorite}" data-model-id="{favoriteId}" \n                        data-pt-auto-hide="2000" data-pt-classes="favorite_protip" \n                        data-pt-gravity="right 5" data-pt-size="tiny" data-pt-trigger="sticky" data-pt-arrow="false">\n                        <span class="broken-heart">\n                            <i>'.concat(o.svgIconBlock("heart-broken-left"),"</i>\n                            <i>").concat(o.svgIconBlock("heart-broken-right"),'</i>\n                        </span>\n                    </span>\n                    {videoBadgeBlock}\n                    <div class="slideshow-container"></div>\n                    <div class="new-tv-channel-content">\n                        <div>\n                            <span class="new-tv-channel-name">{name}</span>\n                            {statusBlock}\n                        </div>\n                        <div class="meta_container">\n                            <span class="languages">\n                                <span>{languageText}</span>\n                                {languages}\n                            </span>\n                            <span class="rating">\n                                <i class="ratingstar">\n                                    ').concat(o.svgIconBlock("star"),'\n                                </i>\n                                <i class="ratingstar">\n                                    ').concat(o.svgIconBlock("star"),'\n                                </i>\n                                <i class="ratingstar">\n                                    ').concat(o.svgIconBlock("star"),'\n                                </i>\n                                <i class="ratingstar">\n                                    ').concat(o.svgIconBlock("star"),'\n                                </i>\n                                <i class="ratingstar">\n                                    ').concat(o.svgIconBlock("star"),"\n                                </i>\n                            </span>\n                        </div>\n                    </div>\n                </a>\n            </article>"),getLanguageBlocks:function(e){return n.map(e.split(","),function(e){return'<span class="'.concat(e,'"></span>')}).slice(0,3).join("")},_setTemplateParams:function(e){return Ext.apply(s.superclass._setTemplateParams.call(this,e),{languages:this.getLanguageBlocks(e.language),rating:e.average,languageText:n.translate("Languages"),statusBlock:this.getStatusBlock(e.has_vip_show)})},getStatusBlock:function(e){return 1===e?'<span class="vip_show_badge">\n                            <span>'.concat(o.svgIconBlock("vipshow"),"</span>\n                            VIP Show\n                        </span>"):'<span class="status_indicator"></span>'}})},"8f76":function(e,t,i){var n=i("1029"),r=i("d869"),o=i("989a"),s=function(e,t){s.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(s,n.Model,{name:"StreamPlayerModel",init:function(){this.addEvents(r.StreamPlayerModel.EVENT_PERFORMER_DETAILS_SUCCESS,r.StreamPlayerModel.EVENT_PERFORMER_DETAILS_ERROR),s.superclass.init.call(this)},getPerformerDetails:function(e){if(e.performerId){var t={appletType:e.appletType,videoPreviewSize:e.videoPreviewSize,isOverlayChat:!1};o.get(e.performerId,t).then(n.bind(this._getPerformerDetailsSuccess,this)).catch(n.bind(this._getPerformerDetailsError,this))}},_getPerformerDetailsSuccess:function(e){try{this.fireEvent(r.StreamPlayerModel.EVENT_PERFORMER_DETAILS_SUCCESS,this.filterData(e))}catch(e){console.log("error: ",e)}},_getPerformerDetailsError:function(e){this.fireEvent(r.StreamPlayerModel.EVENT_PERFORMER_DETAILS_ERROR,this.filterData(e))},filterData:function(e){var t=Ext.decode(e.responseText).data||{},i={performer_id:t.performer_id,sb_hash:t.sb_hash,sb_ip:t.sb_ip,proxy_ip:t.proxy_ip,supercategory:t.category,has_channel:t.has_channel,ishostedchannel:t.ishostedchannel,channel_type:t.channel_type,pid:t.p_id,video:t.video};return Ext.encode(Object.assign(i,e.json.data))}})},9381:function(e,t,i){"use strict";i.r(t),i.d(t,"initCountdown",function(){return n});var n=function(e){var t=new Date(e.getAttribute("data-count-to")).getTime(),i=e.getAttribute("data-delimiter")||":";e.innerHTML=o(t,i);var n=setInterval(function(){var r=o(t,i);r?e.innerHTML=r:clearInterval(n)},1e3);return function(){return clearInterval(n)}},r=function(e){for(;e.toString().length<2;)e="0"+e;return e},o=function(e,t){var i=e-(new Date).getTime();if(!(i<0))return function(e,t){return e.map(r).join(t)}([Math.floor(i/36e5),Math.floor(i%36e5/6e4),Math.floor(i%6e4/1e3)],t)}},"9b72":function(e,t,i){var n=i("1029"),r=i("d869"),o=i("68b3"),s=i("7ab0"),a=i("0592").default,l=i("1cab").default,c=i("b5df").default,h=i("9381"),u=function(e){u.superclass.constructor.call(this,e)};e.exports=Ext.extend(u,o,{name:"CommercialItemView",_attributeOverlayType:"data-overlay-type",_attributeOverlayQueryParams:"data-overlay-query-params",_templates:n.object([[r.CommercialItemView.BLOCK_TYPE.FAVORITES_BANNER,c]]),_countdownIntervalUnbinder:function(){},init:function(){u.superclass.init.call(this),this.model.attributes.overlayType=this.element.dom.getAttribute(this._attributeOverlayType),this.model.attributes.overlayQueryParams=Ext.util.JSON.decode(this.element.dom.getAttribute(this._attributeOverlayQueryParams));var e=this.element.dom.querySelector(".countdown");e&&(this._countdownIntervalUnbinder=h.initCountdown(e)),!s.isHokkaido()&&this._setImageOnLoad()},_getTemplate:function(){return this._templates[this.model.getBlockType()]},render:function(){!1===this.model.attributes.preRendered?this.element=this._createElementFromTemplateFromModel(this._getTemplate()):this.element=s.createElementFromHtmlString(this.model.getContent()),u.superclass.render.call(this)},_bindElements:function(){this.element&&this.element.on("click",this._onElementClick,this)},_unBindElements:function(){this.element&&this.element.un("click",this._onElementClick,this),this._countdownIntervalUnbinder()},_getBannerEventAction:function(e){switch(this.model.getOverlayType()){case r.CommercialItemView.OVERLAY_SIGNUP:e.stopEvent(),this._doSignupTypeBannerClickAction(this.model.getOverlayQueryParams());break;case r.CommercialItemView.OVERLAY_LOGIN:e.stopEvent(),this._doLoginTypeBannerClickAction();break;case r.CommercialItemView.OVERLAY_QUICKBUY:e.stopEvent(),this._doQuickbuyTypeBannerClickAction();break;case r.CommercialItemView.LIST_PAGE_FILTER:e.stopEvent(),this._doListPageFilterTypeBannerClickAction();break;default:e.stopEvent(),this._doAnyBannerClickAction(this.model.getId())}},_needOverlayOpen:function(){return-1!==r.CommercialItemView.OVERLAY_BLOCK_TYPES.indexOf(this.model.getOverlayType())},_doSignupTypeBannerClickAction:function(e){this.sendGAEvent("#signup");var t=e.free_peeks_token?"signup?free_peeks_token="+e.free_peeks_token:"signup";a.navigate(t,{trigger:!0,replace:!1})},_doLoginTypeBannerClickAction:function(){this.sendGAEvent("#login"),a.navigate("login",{trigger:!0,preventNavigateBack:!0})},_doQuickbuyTypeBannerClickAction:function(){"customPromoCampaign"===this.model.getId()||"freeUserCustomPromoCampaign"===this.model.getId()?this.sendGAEvent("#custom promo"):this.sendGAEvent("#payment"),a.navigate("payment",{trigger:!0,preventNavigateBack:!0,replace:!1})},_doListPageFilterTypeBannerClickAction:function(){this.sendGAEvent(this.model.getId()),n.fireEvent(r.SearchFilterComponent.GLOBALEVENT_FILTER_SELECT,this.model.getOverlayQueryParameter("filter"))},_doAnyBannerClickAction:function(e){var t=this.select("a").item(0).dom.href;"_blank"===this.select("a").item(0).dom.target?this.sendGAEvent(e):this.sendGAEvent(e,function(){window.location.href=t})},sendGAEvent:function(e,t){l.push({event:l.CONST.EVENT.GENERIC,eventCategory:l.CONST.PAGE.LISTS,eventAction:l.CONST.ACTION.INTERNAL_BANNERS,eventLabel:e,eventCallback:t,eventValue:0,eventInteraction:!0})},_onElementClick:function(e){this._getBannerEventAction(e)}})},"9cb7":function(e,t,i){var n=i("1029"),r=i("d869"),o=i("e781"),s=i("7ab0"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,n.Controller,{name:"PerformerSwapController",searchPageMeta:"isSearchPage",perfSwapDelay:3e3,perfSwapErrorLimit:5,perfSwapErrorDelay:6e4,isPerfSwapEnabled:!0,overlayId:"overlay",_perfSwapErrorCount:0,_performerSwapTask:null,_performerIdsWithEndedVIPShow:[],init:function(e,t){a.superclass.init.call(this,e,t),this._startPerformerCheckingTask()},_onPerformerCancelledVIPShow:function(e){this._isSwapEnabledForSearchPage()&&(this._performerIdsWithEndedVIPShow=[e.body.performerId.toString()],this.fireEvent(r.PerformerSwapController.GET_ALL_PERFORMERS))},onAllPerformersReady:function(e){this._isSwapEnabledForSearchPage()&&this._swapViPShowPerformers(e)},setVisiblePerformerViews:function(e){this._swapVisiblePerformers(n.filter(e,this._isPerformerNeedsToBeSwapped,this))},_swapViPShowPerformers:function(e){e=n.map(e).filter(function(e){return e});var t=n.filter(e,function(e){return e&&e.model.getId()&&this._performerIdsWithEndedVIPShow.indexOf(e.model.getId())>-1},this);if(0!==t.length){var i=t[0],r=n.map(t,this._getSwapDataFromPerformerBox,this),o=n.sortBy(e,function(e){return Math.min(e.element.data("order"))}),s=n.findLastIndex(o,function(e){return e.model.getId()!==this._performerIdsWithEndedVIPShow[0]},this),a=-1!==s?o[s]:i;this.PerformerSwapModel.sendRequest(r,{performerForSwap:i,lastPerformerView:a,swapPerformerID:i.model.getId(),isVIPShowCanceled:!0,applyAdditionalFilters:!1}),this._performerIdsWithEndedVIPShow=[]}},_isSearchPage:function(){return 1===parseInt(n.getMeta(this.searchPageMeta),10)},_isSwapEnabledForSearchPage:function(){return this._isSearchPage()&&s.isSwappingForVIPShowEnabled()},_isPerformerSwapEnabledOnCurrentPage:function(){return!this._isSearchPage()},_startPerformerCheckingTask:function(){this._isPerformerSwapEnabledOnCurrentPage()&&(this._performerSwapTask=new Ext.util.DelayedTask(this._swapPerformers,this),this._performerSwapTask.delay(this.perfSwapDelay))},_restartPerformerCheckingTask:function(){this.isPerfSwapEnabled&&this._performerSwapTask&&this._performerSwapTask.delay(this.perfSwapDelay)},_stopPerformerCheckingTask:function(){this._performerSwapTask&&this._performerSwapTask.cancel()},_swapPerformers:function(){this._performerSwapTask.delay(this.perfSwapDelay),this.isPerfSwapEnabled&&!this._isOverlayVisible()&&this.fireEvent(r.PerformerSwapComponent.EVENT_GET_VISIBLE_PERFORMERS)},_swapVisiblePerformers:function(e){if(e.length){this._performerSwapTask.cancel();var t=n.map(e,this._getSwapDataFromPerformerBox,this);this.PerformerSwapModel.sendRequest(t,{applyAdditionalFilters:!0})}},_getSwapDataFromPerformerBox:function(e){return{id:e.model.getId(),size:e.model.getSize(),gravityCategory:e.model.getGravityCategory()}},_isOverlayVisible:function(){return Ext.get(this.overlayId).isVisible()},_isPerformerNeedsToBeSwapped:function(e){return e&&e.model.getStatus()!==r.PerformerSwapController.STATUS_FREE&&!1===e.model.isShowBoxDisplayed()&&!1===e.model.isHovered()},_onDocumentFocus:function(){this.enableSwappingIfItIsDisabled()},_onDocumentBlur:function(){this.disableSwappingIfItIsEnabled()},_onModelRequestSuccess:function(e){var t=n.getPath(e,"response.json.data.swapData")||[];n.keys(t).length&&this.fireEvent(r.PerformerSwapController.EVENT_SWAP_PERFORMERS,t),this._restartPerformerCheckingTask()},_onModelRequestError:function(e){e.options&&e.options.isVIPShowCanceled?this._swapPerformerWithLastPerformer(e.options):(this._perfSwapErrorCount++,this._perfSwapErrorCount===this.perfSwapErrorLimit?(this._perfSwapErrorCount=0,this._performerSwapTask.delay(this.perfSwapErrorDelay)):this._restartPerformerCheckingTask())},_swapPerformerWithLastPerformer:function(e){this.fireEvent(r.PerformerSwapController.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,e)},enableSwappingIfItIsDisabled:function(){this.isPerfSwapEnabled||this._isSearchPage()||(this.isPerfSwapEnabled=!0,this._restartPerformerCheckingTask())},disableSwappingIfItIsEnabled:function(){this.isPerfSwapEnabled&&(this.isPerfSwapEnabled=!1,this._stopPerformerCheckingTask())},bind:function(){a.superclass.bind.call(this),this._isPerformerSwapEnabledOnCurrentPage()&&Ext.fly(window).on({focus:this._onDocumentFocus,blur:this._onDocumentBlur,scope:this}),n.on([{element:o.getClient(),event:o.EVENT.PERFORMER.SHOW_CANCELLED,handler:n.bind(this._onPerformerCancelledVIPShow,this)},{element:o.getClient(),event:o.EVENT.PERFORMER.SHOW_ENDED,handler:n.bind(this._onPerformerCancelledVIPShow,this)}],this)},unbind:function(){a.superclass.unbind.call(this),this._isPerformerSwapEnabledOnCurrentPage()&&Ext.fly(window).un({focus:this._onDocumentFocus,blur:this._onDocumentBlur,scope:this})}})},a462:function(e,t,i){var n=i("d30b").default,r=i("7ab0"),o=function e(t){e.superclass.constructor.call(this,t)};e.exports=Ext.extend(o,n,{name:"SnapshotTemplate",tpl:'<article id="{id}" class="{containerClass} {hasVideoCall}" data-status="{dataStatus}">{imageBlock}<a href="{href}" rev="{rev}">{debugText}<span class="snapshot_counter">{snapshotCount}</span><span class="protip favorite {isFavorite}" data-model-id="{favoriteId}" data-pt-auto-hide="2000" data-pt-classes="favorite_protip" data-pt-gravity="right 5" data-pt-size="tiny" data-pt-trigger="sticky" data-pt-arrow="false"><span class="broken-heart"><i>'+r.svgIconBlock("heart-broken-left")+"</i><i>"+r.svgIconBlock("heart-broken-right")+'</i></span></span>{rightBottomBadge}<span class="performer_name">{name}</span></a></article>',getImageBlock:function(e,t,i){var n='<picture class="cover"> \n\t\t\t\t\t\t\t\t<source srcset="'.concat(t,'" type="image/webp">\n\t\t\t\t\t\t\t\t<img src="').concat(e,'" class="cover" alt="').concat(i,'">\n\t\t\t\t\t\t</picture>');return r.isHokkaido()&&(n='<picture class="cover">\n\t\t\t\t\t\t\t<source srcset="'.concat(t,'" type="image/webp">\n\t\t\t\t\t\t\t<img src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7" \n\t\t\t\t\t\t\t\tdata-jpg-src="').concat(e,'" data-webp-src="').concat(t,'" class="cover performer-image" \n\t\t\t\t\t\t\t\talt="').concat(i,'">\n\t\t\t\t\t\t</picture>')),n},_setTemplateParams:function(e){return Ext.apply(o.superclass._setTemplateParams.call(this,e),{snapshotCount:e.snapshotCount,imageBlock:this.getImageBlock(e.profilePictureUrl,e.profileWebpPictureUrl,e.altText||e.pid)})}})},a7b6:function(e,t,i){var n=i("1029"),r=i("d869"),o=i("0031"),s=i("88fa").default,a=i("9b72"),l=i("7ab0"),c=i("3032"),h=function(e,t){h.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(h,n.View,{name:"ListPageView",_performerCollection:{},_containerIdPrefix:"container_",listpageId:"listpage",pageSelector:".page.showless",pageClass:"page showless",visiblePageSelector:".page.visible",visiblePageClass:"visible",_listPageCount:1,_showMoreBtnId:"show_more_btn",_noResultSelector:".no-result",_noResultHiddenClass:"is-hidden",_scrollStopInterval:200,_bigCountAttribute:"data-big-count",_pageIdAttribute:"data-page-id",_errorTagTemplate:'<span id="error_hint"></span>',_listPageBtnCls:"first_button",_refreshPageBtnId:"refresh_page_btn",_scrollTopPos:0,init:function(){this._debouncedViewPortChangeStop=n.debounce(n.bind(this._onViewPortChangeStop,this),this._scrollStopInterval),h.superclass.init.call(this),this._errorTagTemplate='<span id="error_hint">'+n.translate("There are no more live performers at the moment... Please try again later")+"</span>",this.element&&(this._selectElements(),this._bindElements())},_selectElements:function(){this._listpageEl=Ext.get(this.listpageId),this._showMoreBtnEl=Ext.get(this._showMoreBtnId),this._noResultElement=this.element.select(this._noResultSelector)},updateNoResultBlockVisibility:function(){this._noResultElement&&(Object.keys(this._performerCollection).length>0?this._noResultElement.addClass(this._noResultHiddenClass):this._noResultElement.removeClass(this._noResultHiddenClass))},getTopElement:function(e){if(e.length){var t=this.getPerformerViewById(e[0].getId());return n.each(e,function(e){var i=this.getPerformerViewById(e.getId());i&&i.element.getTop()<t.element.getTop()&&(t=this.getPerformerViewById(e.getId()))},this),t}},getPerformerViewById:function(e){return this._performerCollection[e]},createPerformerView:function(e,t){var i=Ext.apply({model:e},t),n=new(this._getViewClass(e))(i);return this._addPerformerViewToCollection(e.getId(),n),n},showMoreError:function(){this._listpageEl.addClass(r.AutoShowMore.CLASS_SHOW_MORE_BUTTON_VISIBLE),$(this._showMoreBtnEl.dom).protipShow({title:this._errorTagTemplate,trigger:"sticky",position:"top",autoHide:7e3}).on("protiphide",n.bind(this._createRefreshPageBtn,this))},removeShowMoreError:function(){this._showMoreBtnEl&&$(this._showMoreBtnEl.dom).off("protiphide").protipHide()},_createRefreshPageBtn:function(){Ext.fly(this._refreshPageBtnId)||Ext.DomHelper.insertAfter(this._showMoreBtnEl,{tag:"a",href:"javascript:window.location.reload();",cls:this._listPageBtnCls,id:this._refreshPageBtnId,html:n.translate("Refresh page")})},_getViewClass:function(e){return e instanceof o?a:s},_addPerformerViewToCollection:function(e,t){t.on(r.PerformerView.EVENT_PERFORMER_ELEMENT_CLICK,this._onPerformerElementClick,this),t.on(r.Chaos.View.EVENT_DESTROY,n.bind(this._onPerformerViewDestroy,this,e),this),t.on(r.ListPageItemViewAbstract.EVENT_VIEW_REPLACED,this._onPerformerViewReplaced,this),t.on(r.PerformerView.EVENT_VIEW_MOUSEOVER,this._onPerformerViewMouseOver,this),t.on(r.PerformerView.EVENT_VIEW_MOUSEOUT,this._onPerformerViewMouseOut,this),this._performerCollection[e]=t,t.setCurrentOrder(Object.keys(this._performerCollection).length)},_appendPerformerViewToContainer:function(e,t){t.element&&(e.appendChild(t.element),t instanceof a&&c.activate("optimize.commercial.banner"),t.checkIfIsOnViewPort())},_createNewListPage:function(){var e,t=this.select(this.pageSelector+":last").item(0),i=n.object([["tag","section"],["cls",this.pageClass],[this._pageIdAttribute,this._listPageCount],[this._bigCountAttribute,this.model.bigPictureCount]]);return e=n.isNull(t)?this._insertZeroPage(i):Ext.DomHelper.insertAfter(t,i,!0),this._listPageCount++,e},_insertZeroPage:function(e){return Ext.DomHelper.insertFirst(this.element,e,!0)},_checkPerformerViewVisibility:function(){n.each(this._performerCollection,function(e){e.checkIfIsOnViewPort()})},_managePageVisibility:function(){n.each(this.select(this.pageSelector).elements,function(e){var t=Ext.get(e),i=l.isHokkaido()?1500:0,n=l.isVerticallyInViewport(e,i);n&&!t.hasClass(this.visiblePageClass)?t.addClass(this.visiblePageClass).setStyle({height:"auto"}):!n&&t.hasClass(this.visiblePageClass)&&this.select(this.visiblePageSelector).getCount()>1&&t.setStyle({height:this.select(this.visiblePageSelector).item(0).dom.getBoundingClientRect().height+"px"}).removeClass(this.visiblePageClass)},this)},_onNextPage:function(e){var t=this._createNewListPage();n.chain(e).map(this.createPerformerView,this).each(n.bind(this._appendPerformerViewToContainer,this,t)),this.updateNoResultBlockVisibility()},_onPerformerViewDestroy:function(e){e in this._performerCollection&&(this._performerCollection[e].purgeListeners(),delete this._performerCollection[e])},_onDestroyModels:function(){window.scrollTo(0,0),this._listPageCount=0,this.element.select(this.pageSelector).remove()},_onPerformerViewReplaced:function(e){n.hasPath(e,"newPerformerView")&&n.hasPath(e,"oldPerformerView")&&(e.oldPerformerView.model.destroy(),this._addPerformerViewToCollection(e.newPerformerView.model.getId(),e.newPerformerView))},_onPerformerElementClick:function(e,t){this.fireEvent(r.ListPageViewAbstract.EVENT_PERFORMER_ELEMENT_CLICK,e,t)},_onPerformerInit:function(e){if(!1===e.attributes.preRendered){var t=this.createPerformerView(e);this._appendPerformerViewToContainer(Ext.select(this.pageSelector),t)}else{var i=this._containerIdPrefix+e.getId();this.createPerformerView(e,{id:i}).checkIfIsOnViewPort()}this.updateNoResultBlockVisibility()},_onViewPortChangeStop:function(){this._checkPerformerViewVisibility()},_onPerformerViewMouseOver:function(e){this.fireEvent(r.ListPageViewAbstract.EVENT_VIEW_MOUSEOVER,e)},_onPerformerViewMouseOut:function(e){this.fireEvent(r.ListPageViewAbstract.EVENT_VIEW_MOUSEOUT,e)},_onStartLoading:function(){this.removeShowMoreError(),this.element.addClass(r.ListPageViewAbstract.CLASS_LOADING)},_onFinishedLoading:function(){this.element.removeClass(r.ListPageViewAbstract.CLASS_LOADING),this._managePageVisibility()},_onShowMoreButtonClick:function(e){e.stopPropagation(),e.preventDefault(),this.fireEvent(r.ListPageViewAbstract.EVENT_SHOW_MORE_BUTTON_CLICK),this.model.getNextPage()},_onViewPortChange:function(){this._managePageVisibility(),this._debouncedViewPortChangeStop(),l.isHokkaido()&&l.updateLazy()},bind:function(){h.superclass.bind.call(this),this._bindedModelEvents=n.object([[r.ListPageModelAbstract.EVENT_PERFORMER_INIT,this._onPerformerInit],[r.ListPageModelAbstract.EVENT_GET_NEXT_PAGE,this._onNextPage],[r.ListPageModelAbstract.EVENT_START_LOADING,this._onStartLoading],[r.ListPageModelAbstract.EVENT_FINISHED_LOADING,this._onFinishedLoading],[r.ListPageModelAbstract.EVENT_DESTROY_ALL,this._onDestroyModels],["scope",this]]),this.model.on(this._bindedModelEvents),Ext.fly(window).on({scroll:this._onViewPortChange,resize:this._onViewPortChange,scope:this})},unbind:function(){h.superclass.unbind.call(this),this.model.un(this._bindedModelEvents),Ext.fly(window).un({scroll:this._onViewPortChange,resize:this._onViewPortChange,scope:this}),this._unbindElements()},_bindElements:function(){this._showMoreBtnEl&&this._showMoreBtnEl.on("click",this._onShowMoreButtonClick,this)},_unbindElements:function(){this._showMoreBtnEl&&this._showMoreBtnEl.un("click",this._onShowMoreButtonClick,this)}})},ab39:function(e,t,i){var n=i("d30b").default,r=function(e){r.superclass.constructor.call(this,e)};e.exports=Ext.extend(r,n,{})},b07d:function(e,t,i){var n=i("1029"),r=i("d869"),o=i("3451"),s=i("0031"),a=i("7ab0"),l=function(e,t){l.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(l,n.Model,{name:"ListPageModel",commercialRefreshRouting:"Commercial/Refresh",isSearchPage:"isSearchPage",listPageId:"listPageId",lastPageResponsePath:"json.data.content.isLastPage",bigPictureCount:0,_performerCollection:{},_showMoreJsonQueryParams:{},_isLastPage:!1,_currentListPageRefreshByAjax:1,_maxListPageRefreshByAjax:5,init:function(){this.addEvents(r.ListPageModelAbstract.EVENT_PERFORMER_INIT,r.ListPageModelAbstract.EVENT_GET_NEXT_PAGE,r.ListPageModelAbstract.EVENT_DESTROY_ALL,r.ListPageModelAbstract.EVENT_VISIBLE_MODELS_READY,r.ListPageModelAbstract.EVENT_LOGGED_IN,r.ListPageModelAbstract.EVENT_SWAPPED_COMMERCIAL,r.ListPageModelAbstract.EVENT_SHOW_MORE_ERROR,r.ListPageModelAbstract.GET_ALL_PERFORMERS_READY),l.superclass.init.call(this)},getModelById:function(e){return this._performerCollection[e]},setPerformerDetailsOnInit:function(e){this._setIsLastPage(n.getMeta(r.AutoShowMore.META_IS_SINGLE_PAGE)),this._parsePerformers(e,{isInit:!0})},refreshListPageFromSearch:function(e){this._refreshListPageFromResponse(e,0)},setNewStatuses:function(e){n.chain(e).keys().intersection(n.keys(this._performerCollection)).each(function(t){this._performerCollection[t].setStatus(e[t])},this)},setDisabledPrivatePeek:function(e){for(var t,i=0,n=e.length;i<n;i++)(t=this._performerCollection[e[i]])&&t.setIsPeekAllowed(!1)},setShowMoreJsonQueryParams:function(e){return this._showMoreJsonQueryParams=Ext.apply({wide:n.Config.get("isWide")||!1,layout:"layout-big"},e),this},getNextPage:function(){this._loadPage()},refreshListPage:function(){this._loadPage(0)},createPerformerModelFromData:function(e){var t=new(this._getModelClass(e.blockType))(e);return this._performerCollection[t.getId()]=t,t},getVisibleFreeModels:function(){var e=[];n.each(this._performerCollection,function(t){t.getStatus()===r.ListPageModelAbstract.PERFORMER_STATUS_ONLINE&&t.getIsFullyVisibleOnViewPort()&&e.push(t.getId())},this),this.fireEvent(r.ListPageModelAbstract.EVENT_VISIBLE_FREE_MODELS_READY,e)},getVisibleModels:function(){var e=n.filter(this._performerCollection,function(e){return e.getIsOnViewPort()&&!e.getIsLppPlaying()},this);this.fireEvent(r.ListPageModelAbstract.EVENT_VISIBLE_MODELS_READY,e)},getAllPerformers:function(){this.fireEvent(r.ListPageModelAbstract.GET_ALL_PERFORMERS_READY,this._performerCollection)},_loadPage:function(e){this.isPageLoadingInProgress||(this.isPageLoadingInProgress=!0,this.fireEvent(r.ListPageModelAbstract.EVENT_START_LOADING),this.fetch({url:this._getNextPageUrl(e),error:n.bind(this._onLoadPageError,this),failure:n.bind(this._onLoadPageFailure,this),success:n.bind(this._onLoadPageSuccess,this,e)}))},_onLoadPageSuccess:function(e,t){this._refreshListPageFromResponse(t,e),a.setCursor("default")},needPageReload:function(){var e=!(this._currentListPageRefreshByAjax%this._maxListPageRefreshByAjax);return this._setCurrentListPageRefreshByAjax(),e},_setCurrentListPageRefreshByAjax:function(){this._currentListPageRefreshByAjax=this._currentListPageRefreshByAjax>=this._maxListPageRefreshByAjax?1:this._currentListPageRefreshByAjax+1},_setIsLastPage:function(e){this._isLastPage=1===parseInt(e,10)},_onLoadPageError:function(){this.isPageLoadingInProgress=!1,this.fireEvent(r.ListPageModelAbstract.EVENT_FINISHED_LOADING,{isLastPage:!0}),this.fireEvent(r.ListPageModelAbstract.EVENT_SHOW_MORE_ERROR),a.setCursor("default")},_onLoadPageFailure:function(){this.isPageLoadingInProgress=!1,this.fireEvent(r.ListPageModelAbstract.EVENT_FINISHED_LOADING,{isLastPage:!0}),this.fireEvent(r.ListPageModelAbstract.EVENT_SHOW_MORE_ERROR),a.setCursor("default")},_refreshListPageFromResponse:function(e,t){if(e&&n.hasPath(e,"json.data.content")&&n.isArray(e.json.data.content.performers)){if(0===n.getMeta("isSearchPage")&&n.hasPath(e,"json.data.listPageOrderType")&&n.Config.set("listPageOrderType",e.json.data.listPageOrderType),!e.json.data.content.performers.length)return void this.fireEvent(r.ListPageModelAbstract.EVENT_FINISHED_LOADING,{isLastPage:!0});this.bigPictureCount=n.getPath(e,"json.data.content.bigPictureCount")||0,this._setIsLastPage(n.getPath(e,this.lastPageResponsePath)),0===t&&(this._setListPageId(n.getPath(e,"json.data.content.listPageId")),this._destroyAll()),this._parsePerformers(e.json.data.content.performers,{isNextPage:!0})}this.isPageLoadingInProgress=!1,this.fireEvent(r.ListPageModelAbstract.EVENT_FINISHED_LOADING,{isLastPage:this._isLastPage}),a.isHokkaido()&&a.updateLazy()},_setListPageId:function(e){n.setMeta("listPageId",e),n.fireEvent(r.ListPageModelAbstract.GLOBALEVENT_CHANGE_LIST_PAGE_ID,{listPageId:e})},destroyPerformerById:function(e){this._performerCollection[e]&&(this._performerCollection[e].destroy(),delete this._performerCollection[e])},_destroyAll:function(){n.each(this._performerCollection,function(e,t){e.destroy(),delete this._performerCollection[t]},this),this.fireEvent(r.ListPageModelAbstract.EVENT_DESTROY_ALL)},_getNextPageUrl:function(e){var t={listPageId:function(){return n.isDefined(e)?e:n.getMeta("listPageId")}};return n.getUrl(n.Config.get("listPageRoutes").showMoreJson,t,this._showMoreJsonQueryParams)},_parsePerformers:function(e,t){if(n.isArray(e)){var i=n.map(e,this.createPerformerModelFromData,this);t.isInit?n.each(i,n.bind(this.fireEvent,this,r.ListPageModelAbstract.EVENT_PERFORMER_INIT)):t.isNextPage&&this.fireEvent(r.ListPageModelAbstract.EVENT_GET_NEXT_PAGE,i)}},_getModelClass:function(e){return-1!==r.ListPageModelAbstract.BLOCK_TYPE_COMMERCIAL.indexOf(e)?s:o}})},b5df:function(e,t,i){"use strict";i.r(t);var n=i("1029"),r=i.n(n),o=i("7b09"),s=i.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,h(t).apply(this,arguments))}var i,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,s.a),i=t,(n=[{key:"name",get:function(){return"FavoritesBannerTemplate"}},{key:"tpl",get:function(){var e=r.a.getUrl("Index/IndexCategory",{category:"girl"});return'\n\t\t\t<article id="{id}" class="commercial is-favorites-banner block_loaded image_loaded">\n\t\t\t\t<div class="banner-wrapper">\n\t\t\t\t\t<a href="'.concat(e,'">\n\t\t\t\t\t\t<h1 class="banner-title">').concat(r.a.translate("Favorites are offline?"),'</h1>\n\t\t\t\t\t\t<div class="banner-button first_button"><span>').concat(r.a.translate("Show Online Models"),"</span></div>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</article>\n\t\t")}}])&&l(i.prototype,n),o&&l(i,o),t}();t.default=d},b909:function(e,t,i){var n=i("1029"),r=i("d869"),o=i("9cb7"),s=i("2809"),a=i("d30b").default,l=function(e,t){l.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(l,n.Component,{name:"PerformerSwapComponent",swapRouteHandler:"",ajaxQueue:null,template:null,init:function(e,t){l.superclass.init.call(this,e,t),this.template=this.template||a,this._setPerformerSwapController()},_setPerformerSwapController:function(){this._performerSwapController instanceof o||(this._performerSwapController=new o({items:{PerformerSwapModel:{component:this._setPerformerSwapModel(),listeners:{"request-success":"_onModelRequestSuccess","request-error":"_onModelRequestError"}}}}),this._performerSwapController.on(n.object([[r.PerformerSwapComponent.EVENT_GET_VISIBLE_PERFORMERS,this._onGetVisiblePerformers],[r.PerformerSwapController.EVENT_SWAP_PERFORMERS,this._onPerformerSwap],[r.PerformerSwapController.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,this._onPerformerSwapLast],[r.PerformerSwapController.GET_ALL_PERFORMERS,this._onGetAllPerformers],["scope",this]])))},_setPerformerSwapModel:function(){return this._performerSwapModel instanceof s||(this._performerSwapModel=new s(this.element,{swapRouteHandler:this.swapRouteHandler,ajaxQueue:this.ajaxQueue})),this._performerSwapModel},onAllPerformersReady:function(e){this._performerSwapController.onAllPerformersReady(e)},setVisibleViews:function(e){this._performerSwapController.setVisiblePerformerViews(e)},setSwappedPerformers:function(e){this._performerSwapModel.setSwappedPerformers(e)},enableSwapping:function(){this._performerSwapController.enableSwappingIfItIsDisabled()},disableSwapping:function(){this._performerSwapController.disableSwappingIfItIsEnabled()},_onGetVisiblePerformers:function(){this.fireEvent(r.PerformerSwapComponent.EVENT_GET_VISIBLE_PERFORMERS)},_onGetAllPerformers:function(){this.fireEvent(r.PerformerSwapComponent.GET_ALL_PERFORMERS)},_onPerformerSwapLast:function(e){this.fireEvent(r.PerformerSwapComponent.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,e)},_onPerformerSwap:function(e){this.fireEvent(r.PerformerSwapComponent.EVENT_SWAP_PERFORMERS,e)},bind:function(){l.superclass.bind.call(this)},unbind:function(){l.superclass.unbind.call(this)}})},bb3b:function(e,t,i){var n=i("1029"),r=i("d869"),o=i("5aa8"),s=i("9b72"),a=(i("783f"),i("170d").default),l=i("20d3").default,c=i("0592").default,h=i("7ab0"),u=function(e,t){u.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(u,n.Controller,{name:"ListPagePlayerController",overlayId:"overlay",visibleFreeModels:[],isBigThumbsExists:!0,isRandomPlayerEnabled:!1,forceDelayedInit:!1,performer:void 0,freeChannelType:"free",_delayedTaskDelayInIE11:100,_delayedTaskDelay:200,_delayedTaskListPagePlayerInitDelay:250,_startLPPStreamDelay:1e4,_isWindowHasFocus:!0,_isPlayingAllowed:!0,_isCookieDisabled:n.Config.get("is-cookie-disabled"),_pulseDelay:200,init:function(e,t){this._isMouseOverWindow=!Ext.isIE,u.superclass.init.call(this,e,t),this._overlayPlayerOpened=!1,this.ListPagePlayerView.setElements(),this.isRandomPlayerEnabled&&this._startRandomPlayerOnInit(),this.addEvents(r.ListPagePlayerController.EVENT_GET_VISIBLE_FREE_MODELS,r.ListPagePlayerController.EVENT_MOUSE_OUT)},setVisibleFreeModels:function(e){this.visibleFreeModels=e},setListPagePlayerParams:function(e){var t=n.extend({},this.loadDataObject,Ext.decode(e));this.performerName===t.performer_id&&!0===this.isPlaying&&this._selectPlayingProcess(t)},resetRandomPlayer:function(){this._stopRandomPlayer()},_setRandomPlayerTasks:function(){this._randomPlayerTask=new Ext.util.DelayedTask(this._startRandomPlayer,this)},_getVisibleFreeModels:function(){this.fireEvent(r.ListPagePlayerController.EVENT_GET_VISIBLE_FREE_MODELS,this)},_getRandomPerformer:function(){return this.visibleFreeModels[Math.floor(Math.random()*this.visibleFreeModels.length)]},_getListPagePlayerParams:function(){this.isPlaying||(this.isPlaying=!0,this.performer&&(this.startPulse(),this.ListPagePlayerView.getPerformerDetails({performerId:this.performerName,appletType:r.appletType.HTML5,videoPreviewSize:this.performer.getVideoPreviewSize()})))},startPulse:function(){this.getHTML5VideoComponent().startPulse(this.performer)},stopPulse:function(e){e?this.getHTML5VideoComponent().stopPulse():setTimeout(function(){this.getHTML5VideoComponent().stopPulse()}.bind(this),this._pulseDelay)},resetPulseLayer:function(){this.getHTML5VideoComponent().resetPulseLayer()},_isPerformerFree:function(){return this.performerStatus===this.freeChannelType||this.performerStatus===r.ListPageModelAbstract.PERFORMER_STATUS_ONLINE},_isPlayFreeChannelEnabled:function(e){var t=e.channel_type;return t&&1===n.Config.get("isChannelStreamEnabledInListPagePlayer")?-1!==t.search(this.freeChannelType)&&1!==this.performerStatus&&n.Config.get("isFreeChannelSlideShowEnabled")?1:0:this._isHostedChannel(e)?1:0},_isHostedChannel:function(e){return 1===e.ishostedchannel&&"JasminChannel"!==e.performer_id},_isRandomPlayerAllowed:function(){return(this._isWindowHasFocus||!this._isWindowHasFocus&&this._isMouseOverWindow)&&this.isRandomPlayerEnabled&&this._isPlayingAllowed&&!Ext.fly(this.overlayId).isVisible()&&!h.isChatAppletOnPage()},_stopThumbnailSlideShow:function(){this._getListPageGallery().stopSlideShow()},_stopHTML5Video:function(){this.getHTML5VideoComponent().stopVideo(),n.fireEvent(r.ListPagePlayerController.GLOBALEVENT_HTML5_PLAYER_STOPPED)},_startHTML5Video:function(e){var t=this;Promise.resolve().then(function(){i("f94d").default.instance.appletReady.then(function(){this.getHTML5VideoComponent().playVideo(e)}.bind(t))}.bind(null,i)).catch(i.oe)},getHTML5VideoComponent:function(){return this._html5video instanceof a||(this._html5video=new a(this.element,{})),this._html5video},_startLPPStream:function(){this.isRandomPlayerEnabled&&this._randomPlayerTask&&this._restartRandomPlayerTaskWithDelay(this._startLPPStreamDelay)},_startRandomPlayerOnInit:function(){this._stopRandomPlayerTask(),this._setRandomPlayerTasks(),this._randomPlayerTask.delay(this._delayedTaskDelay)},_stopRandomPlayerTask:function(){this._randomPlayerTask&&this._randomPlayerTask.cancel()},_stopRandomPlayer:function(){this._performerStopped(),delete this.performer,this._stopThumbnailSlideShow(),this._stopHTML5Video(),"html5"===this.playerType?this._stopHTML5Video():"teaser"===this.playerType&&this.getHTML5VideoComponent().stopTeaser(),this._randomPlayerTask&&(this._isPlayingAllowed=!0,this._randomPlayerTask.delay(1e3))},_startRandomPlayer:function(e){this._isRandomPlayerAllowed()&&(this._overlayPlayerOpened?this._stopRandomPlayerTask():(this._stopRandomPlayer(),this._getVisibleFreeModels(),0!==this.visibleFreeModels.length||e?(this._performerStopped(),this.performer=e||this._getRandomPerformer(),this.performer&&this.performer.model.getName()!==this.performerName?this._startRandomPlayerTaskOnNextPerformer():this._restartRandomPlayerTaskWithDelay(300)):this._restartRandomPlayerTaskWithDelay(3e3)))},_startRandomPlayerTaskOnNextPerformer:function(){this.initListPagePlayer(this._delayedTaskDelay),this._restartRandomPlayerTaskWithDelay(this._startLPPStreamDelay)},_performerStopped:function(){n.isDefined(this.performer)&&this.performer.model&&this.performer.model.setLppStatusStopped()},_restartRandomPlayerTaskWithDelay:function(e){this._stopRandomPlayerTask(),this._randomPlayerTask&&this._randomPlayerTask.delay(e)},_selectPlayingProcess:function(e){if(!this.isChatOpenedOverHtml5ListPagePlayer()){e.teaser_type=e.teaser_type?e.teaser_type.toUpperCase():"",e.pid=this.performer?this.performer.model.getName():e.performer_id,e.perf_url=this.performer?this.performer.getAnchorElement().dom.href:n.getUrl("Chat/Performer",{performerId:e.performer_id},{}),e.playFreeChannel=this._isPlayFreeChannelEnabled(e),e.teaser_url=e.hasOwnProperty("video")?e.video:"",e=this._setIsHostedChannelParam(e),o.isHTML5ListPagePlayerEnabled()&&this._isPerformerFree()?(this.playerType="html5",h.updateHTMLAppletVars(e),this._startHTML5Video(e)):e.teaser_url?(this.playerType="teaser",this.getHTML5VideoComponent().playTeaser(e.teaser_url)):(this.playerType="gallery",this._startThumbnailSlideShow())}},_getListPageGallery:function(){return this.listPageGallery instanceof l||(this.listPageGallery=new l(this.element,{})),this.listPageGallery},_startThumbnailSlideShow:function(){var e=this;this._getListPageGallery().startSlideShow(this.performer).then(function(t){e.stopPulse(!0),t.message===r.ListPageGalleryComponent.MESSAGE_READY_TO_PLAY&&e.getHTML5VideoComponent().getLayoutMode()===r.HTML5AppletComponent.LAYOUT_MODE_MINIMAL&&e._stopHTML5Video()}).catch(this.stopPulse.bind(this,!0))},_setIsHostedChannelParam:function(e){return 1===e.playFreeChannel&&(e.ishostedchannel=0),e},initListPagePlayer:function(e){this.performer&&this.performer.model&&this.ListPagePlayerView.listPagePlayerDivEl&&(this.performer.model.setLppStatusPlaying(),this.isPlaying=!1,this.performerStatus=this.performer.model.getStatus(),this.performerName=this.performer.model.getName(),this.loadDataObject=this.performer.model.getFlashData(),this.requestTask&&this.requestTask.cancel(),this.requestTask=new Ext.util.DelayedTask(this._getListPagePlayerParams,this),this.requestTask.delay(e))},onPerformerViewMouseOver:function(e){this._overlayPlayerOpened||(this._stopRandomPlayerTask(),this.performer&&this.performer!==e&&(this._stopHTML5Video(),this._stopRandomPlayer()),(!h.isPrivatePeekAllowedInThumbnail()||2!==e.model.getStatus()&&3!==e.model.getStatus())&&(e.model.hasVideoCall()&&0===e.model.getStatus()||e instanceof s||this.performer&&this.performer===e||this.reInitListPagePlayerOnceStreamStop(e,this.forceDelayedInit?this._delayedTaskListPagePlayerInitDelay:this._delayedTaskDelay)))},reInitListPagePlayerOnceStreamStop:function(e,t){this._performerStopped(),this.performer=e,this._isPlayingAllowed=!1,this.isPlaying=!1,this._stopRandomPlayerTask(),this.initListPagePlayer(t)},onPerformerViewMouseOut:function(){this.isChatOpenedOverHtml5ListPagePlayer()||(this._isPlayingAllowed=!0,this._stopRandomPlayer(),this.isPlaying=!1)},_onWindowFocus:function(){this._isWindowHasFocus=!0},_onWindowBlur:function(){this._isWindowHasFocus=!1,this.isChatOpenedOverHtml5ListPagePlayer()||this._stopRandomPlayer()},_onBrowserMouseOver:function(e,t){n.Util.checkMouseCrossedWindowBorder(e,t)&&!this._isMouseOverWindow&&(this._isMouseOverWindow=!0,this._startRandomPlayer())},_onBrowserMouseOut:function(e,t){this.isChatOpenedOverHtml5ListPagePlayer()||n.Util.checkMouseCrossedWindowBorder(e,t)&&(this._isMouseOverWindow=!1,this._stopRandomPlayer())},_onWindowScroll:function(){this.isChatOpenedOverHtml5ListPagePlayer()||(n.isUndefined(this.performer)||this.performer.model&&!this.performer.model.getIsOnViewPort())&&this._stopRandomPlayer()},_onWindowResize:function(){this.isChatOpenedOverHtml5ListPagePlayer()||this._stopRandomPlayer()},_onOverlayMouseOver:function(){this.isChatOpenedOverHtml5ListPagePlayer()||this._stopRandomPlayer()},onWindowShow:function(e){this.isChatOpenedOverHtml5ListPagePlayer()||e&&e.window&&-1===["Tooltip","window","DropDownMenu","SearchFilterWindow"].indexOf(e.window.name)&&this._stopRandomPlayerTask()},onWindowHide:function(e){e&&e.window&&"Tooltip"!==e.window.name&&this._startLPPStream()},onOverlayOpen:function(e){if(this.getHTML5VideoComponent().stopTeaser(),this._overlayPlayerOpened||(this._overlayPlayerOpened=e.scope.name===r.ChatModalComponent.NAME),this.stopPulse(!0),this.isChatOpenedOverHtml5ListPagePlayer())return!this._overlayPlayerOpened&&this.performer&&n.hasPath(e,"scope.performerName")&&e.scope.performerName!==this.performer.model.getName()&&(this._stopRandomPlayer(),this._stopRandomPlayerTask()),void(this.requestTask&&this.requestTask.cancel());this._stopRandomPlayer(),this._stopRandomPlayerTask()},onOverlayClose:function(e){e.scope&&e.scope.name===r.ChatModalComponent.NAME&&(this._overlayPlayerOpened=!1,this._stopRandomPlayer(),this._startLPPStream())},onPerformerDetailsSuccess:function(e){this.setListPagePlayerParams(e)},onPerformerDetailsError:function(){this.stopPulse(!0)},onlistPageThumbnailResize:function(){this._stopRandomPlayer()},onSidebarToggle:function(){this._stopRandomPlayer()},isChatOpenedOverHtml5ListPagePlayer:function(){return"html5"===this.playerType&&c.getActiveModal()&&c.getActiveModal().name===r.ChatModalComponent.NAME||this._overlayPlayerOpened},onAppletOutOfContent:function(e){if(this.getHTML5VideoComponent().getLayoutMode()===r.HTML5AppletComponent.LAYOUT_MODE_MINIMAL){var t=this.performer&&this.performer.model.getName()||null;e.performerName===t&&this._startThumbnailSlideShow()}},bind:function(){Ext.fly(this.overlayId).on("mouseover",this._onOverlayMouseOver,this),this._bindedWindowEvents={resize:this._onWindowResize,blur:this._onWindowBlur,focus:this._onWindowFocus,scroll:this._onWindowScroll,scope:this},Ext.fly(window).on(this._bindedWindowEvents),Ext.fly(document).on({mouseover:this._onBrowserMouseOver,mouseout:this._onBrowserMouseOut,scope:this}),n.on(n.Broadcaster,r.IndexIndex.GLOBALEVENT_THUMBNAIL_SIZE_BUTTON_CLICK,this.onlistPageThumbnailResize,this),n.on(n.Broadcaster,r.IndexIndex.GLOBALEVENT_TOGGLE_SIDEBAR_BUTTON_CLICK,this.onSidebarToggle,this)},unbind:function(){Ext.fly(this.overlayId).un("mouseover",this._onOverlayMouseOver,this),Ext.fly(window).un(this._bindedWindowEvents),Ext.fly(document).un({mouseover:this._onBrowserMouseOver,mouseout:this._onBrowserMouseOut,scope:this})}})},c384:function(e,t,i){var n=i("1029"),r=i("d869"),o=i("e781"),s=function(){if(s._instance)throw new Error("This is a singleton class. Please use .getInstance() method instead of new.");this._bindEvents()};s.getInstance=function(){return s._instance||(s._instance=new s)},e.exports=Ext.extend(s,n.Component,{onStatusChange:function(e){this.fireEvent(r.StatusUpdaterComponent.PERFORMER_STATUS_CHANGES_EVENT,e.header)},_bindEvents:function(){this.addEvents(n.keys(r.StatusUpdaterComponent.PERFORMER_STATUS_CHANGES_EVENT)),n.on([{element:o.getClient(),event:r.StatusUpdaterComponent.PERFORMER_STATUS_CHANGES_EVENT_JAWS,handler:n.bind(this.onStatusChange,this)}],this)}})},d30b:function(e,t,i){"use strict";i.r(t);var n=i("1029"),r=i.n(n),o=i("7ab0"),s=i.n(o),a=i("7b09"),l=i.n(a),c=function e(t){e.superclass.constructor.call(this,t)};Ext.extend(c,l.a,{name:"PerformerTemplate",tpl:'<article id="{id}" class="{containerClass} {hasVipShow} {hasVideoCall}" data-status="{dataStatus}">\n                {imageBlock}\n                <a href="{href}" rev="{rev}">\n                    {debugText}\n                    <span class="favorite {isFavorite}" data-model-id="{favoriteId}">\n                        <span class="broken-heart">\n                            <i>'.concat(s.a.svgIconBlock("heart-broken-left"),"</i>\n                            <i>").concat(s.a.svgIconBlock("heart-broken-right"),'</i>\n                        </span>\n                    </span>\n                    {rightBottomBadge}\n                    <span class="performer_name">{performerNameBlock}</span>\n                    {badgeBlock}\n                    {videoBadgeBlock}\n                </a>\n            </article>'),idPrefix:"container_",perfContainerClass:"perf_container",chatRouting:"Chat/Performer",html5ChatPageRouting:"ChatHtml5/Performer",getBadge:function(e){return r.a.isString(e)?'<span class="badge '.concat(e,'">&nbsp;</span>'):""},getVideoCallBadge:function(e){return e?'<span class="videoCallBadge">'.concat(s.a.svgIconBlock("video-call"),"</span>"):""},setUrl:function(e){return e.href||e.chatPageUrl},getDebugBlock:function(e){return e&&e.title&&e.title.length?'<div class="recommender_debug">\n                        <span>'.concat(e.title,"</span>\n                        <pre>").concat(e.details,"</pre>\n                    </div>"):""},getImageBlock:function(e,t,i){return s.a.isHokkaido()?'<picture class="cover">\n                  <source data-srcset="'.concat(t,'" type="image/webp">\n                  <img src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7" \n                    data-jpg-src="').concat(e,'" data-webp-src="').concat(t,'" \n                    class="cover performer-image" alt="').concat(i,'">\n               </picture>'):'<picture class="cover">\n                    <source srcset="'.concat(t,'" type="image/webp">\n                    <img src="').concat(e,'" class="cover" alt="').concat(i,'">\n               </picture>')},getPerformerNameBlock:function(e,t,i){var n='<span class="performer_name_simple"> '.concat(t," </span>");return e&&(n="<span>".concat(s.a.svgIconBlock("vipshow"),'</span>\n\t\t\t<span class="performer_name_simple"> ').concat(t,' </span>\n\t\t\t<span class="vipshow_text">').concat(i,"</span>\n\t\t\t<span>").concat(s.a.svgIconBlock("vipshow"),"</span>")),n},_setTemplateParams:function(e){var t=1===parseInt(e.has_vip_show,10),i=r.a.Config.get("video_call_enabled")&&1===parseInt(e.is_video_call_enabled,10),n=r.a.translate("{name}'s VIP Show",{name:e.pid});return{id:this.idPrefix+e.id,name:e.pid,altText:e.altText||e.pid,src:e.profilePictureUrl,imageBlock:this.getImageBlock(e.profilePictureUrl,e.profileWebpPictureUrl,e.altText||e.pid),defaultImage:r.a.Config.get("newPerformerImageSmall"),containerClass:this.perfContainerClass,hasVipShow:t?"vipshow":"",hasVideoCall:i?"hasvideocall":"",dataStatus:e.originalStatus,rev:e.gravity_category,href:this.setUrl(e),badgeBlock:this.getBadge(e.active_badge),videoBadgeBlock:this.getVideoCallBadge(i),rightBottomBadge:this.getBadge(e.right_bottom_badge),isFavorite:1===parseInt(e.isFavorite,10)?"remove":"add",favoriteId:e.id,profilePictureUrl:e.profilePictureUrl,profileWebpPictureUrl:e.profileWebpPictureUrl,debugText:this.getDebugBlock(e.debug),subscriptionStatus:e.isCanceledSubscription?"canceled":"subscribed",translatedVipShowText:n,performerNameBlock:this.getPerformerNameBlock(t,e.pid,n)}}}),t.default=c},ea96:function(e,t,i){var n=i("7b09"),r=function(e){r.superclass.constructor.call(this,e)};e.exports=Ext.extend(r,n,{name:"PrivatePeekTemplate",tpl:'<div class="private_peek"><span>{title}</span><button class="private_peek_button first_button">{buttonText}</button><em>{creditText}</em></div>',_setTemplateParams:function(e){return e}})},f26f:function(e,t,i){var n=i("1029"),r=i("d30b").default,o=i("7ab0"),s=function(e){s.superclass.constructor.call(this,e)};e.exports=Ext.extend(s,r,{name:"AwardsPerformerTemplate",tpl:'<article id="{id}" class="{containerClass}" data-status="{status}"><img src="{profilePictureUrl}" class="cover" alt="{altText}"><a href="{href}" rev="{rev}" class="{anchorClass}"><span class="protip favorite {isFavorite}" data-model-id="{favoriteId}" data-pt-auto-hide="2000" data-pt-classes="favorite_protip" data-pt-gravity="right 5" data-pt-size="tiny" data-pt-trigger="sticky" data-pt-arrow="false"><span class="broken-heart"><i>'+o.svgIconBlock("heart-broken-left")+"</i><i>"+o.svgIconBlock("heart-broken-right")+'</i></span></span><div class="details"><h2 class="name">{name}</h2><span class="points">{winning}<span class="num">{point}</span> points</span><div class="vote_btn_wrapper">{voteNumberBlock}<button class="vote_button {voteBtnClass} first_button small">{voteButtonLabel}<span class="loader">&nbsp;</span></button></div><p class="is_voted {isVotedClass}"><span>{isVotedText}</span></p><p class="is_offline hidden">Model is offline<br><span>Check back later!</span></p></div></a></article>',setUrl:function(e){return e.href||n.getUrl(this.chatRouting,{performerId:e.performer_id})},getVoteNumberBlock:function(e){var t=n.translate("points");return"<strong><em>"+e.nextStepPoint+"</em> "+t+"</strong>"},_setTemplateParams:function(e){return{id:this.idPrefix+e.p_id,name:e.performer_id,href:this.setUrl(e),containerClass:"performer allow_hover "+e.size,altText:e.altText||e.performer_id,anchorClass:"perf_link",status:e.status,rev:e.gravity_category,voteBtnClass:e.is_voted?"hidden":"vote",isVotedClass:e.is_voted?"":"hidden",point:o.formatNumberWithComma(e.point),winning:e.winning>0?"$"+e.winning+" - ":"",voteButtonLabel:n.translate("Vote"),voteNumberBlock:this.getVoteNumberBlock(e),isFavorite:"1"===e.is_favourite?"remove":"add",favoriteId:e.p_id,profilePictureUrl:e.profilePictureUrl}}})}}]);