(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{"+Zug":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u});var i,o=n("pVnL"),a=n.n(o),r=n("VbXa"),s=n.n(r),l=n("q1tI"),c=n("fNzW"),d=n("vCsY");n("ZK2O");!function(e){e.First="col-order--first",e.Last="col-order--last"}(i||(i={}));var u=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var n=t.prototype;return n.render=function(){var e=this.getColumnSizeClasses(this.props.cols),t=this.props.offset?this.getColumnOffsetClasses(this.props.offset):"",n=this.props.order?this.getColumnOrderClasses(this.props.order):"";return l.createElement("div",a()({className:Object(c.a)([e,t,n])},Object(d.a)(this.props)),this.props.children)},n.getColumnSizeClasses=function(e){if("number"==typeof e)return"tw-col-"+e;var t=["tw-col-"+e.default];return"number"==typeof e.xs&&t.push("tw-xs-col-"+e.xs),"number"==typeof e.sm&&t.push("tw-sm-col-"+e.sm),"number"==typeof e.md&&t.push("tw-md-col-"+e.md),"number"==typeof e.lg&&t.push("tw-lg-col-"+e.lg),"number"==typeof e.xl&&t.push("tw-xl-col-"+e.xl),"number"==typeof e.xxl&&t.push("tw-xxl-col-"+e.xxl),t},n.getColumnOffsetClasses=function(e){if("number"==typeof e)return"tw-col-offset-"+e;var t=["tw-col-offset-"+e.default];return"number"==typeof e.xs&&t.push("tw-xs-col-offset-"+e.xs),"number"==typeof e.sm&&t.push("tw-sm-col-offset-"+e.sm),"number"==typeof e.md&&t.push("tw-md-col-offset-"+e.md),"number"==typeof e.lg&&t.push("tw-lg-col-offset-"+e.lg),"number"==typeof e.xl&&t.push("tw-xl-col-offset-"+e.xl),"number"==typeof e.xxl&&t.push("tw-xxl-col-offset-"+e.xxl),t},n.getColumnOrderClasses=function(e){if("string"==typeof e)return"tw-"+e;if("object"==typeof e){var t=[];return"string"==typeof e.default&&t.push("tw-"+e.default),"string"==typeof e.xs&&t.push("tw-xs-"+e.xs),"string"==typeof e.sm&&t.push("tw-sm-"+e.sm),"string"==typeof e.md&&t.push("tw-md-"+e.md),"string"==typeof e.lg&&t.push("tw-lg-"+e.lg),"string"==typeof e.xl&&t.push("tw-xl-"+e.xl),"string"==typeof e.xxl&&t.push("tw-xxl-"+e.xxl),t}return!1},t}(l.Component);u.displayName="Column"},"/4rI":function(e,t,n){},"/ZC1":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("mrSG"),o=n("q1tI"),a=n("6LIJ"),r=n("hnjF"),s=(n("sL9O"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDraggingOver:!1},t.onDragEnter=function(e){e.preventDefault(),t.setState({isDraggingOver:!0})},t.onDragLeave=function(e){e.preventDefault(),t.setState({isDraggingOver:!1})},t.onFileInputChange=function(e){e.preventDefault(),t.finalizeSelections(e.target.files),e.target.value=""},t.onFileDrop=function(e){e.preventDefault(),t.setState({isDraggingOver:!1}),t.finalizeSelections(e.dataTransfer.files)},t}return i.__extends(t,e),t.prototype.render=function(){return o.createElement(a.a,{dragOver:this.state.isDraggingOver,error:this.props.error},o.createElement(r.g,{position:r.j.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,zIndex:r.n.Above},o.createElement("input",{"data-a-target":"file-picker-input","data-test-selector":"file-picker-input",className:"drag-and-drop-file-picker__input",accept:this.props.allowedFileTypes.join(","),multiple:this.props.multiFile||!1,onChange:this.onFileInputChange,type:"file",onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onDrop:this.onFileDrop})),this.props.children)},t.prototype.finalizeSelections=function(e){e&&this.props.onFilesSubmitted(Array.from(e))},t}(o.Component))},"0HeA":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return u});var i,o,a=n("/7QA"),r=n("DMoW"),s=n("2xye");function l(e){a.p.track(s.SpadeEventType.PanelRecommendationsRender,{channel_id:e.channelID,user_agent:navigator.userAgent})}!function(e){e.Default="default",e.Extension="extension"}(o||(o={}));var c=((i={})[r.Ca.DEFAULT]=o.Default,i[r.Ca.EXTENSION]=o.Extension,i);function d(e,t){a.p.track(e,{panel_id:t.panelID,panel_type:c[t.panelType],channel_id:t.channelID,panel_target:t.panelTarget||null})}function u(e){a.p.track(s.SpadeEventType.PanelsEditModeToggle,{action:e.editModeOn?"on":"off",channel:e.channelLogin,channel_id:e.channelID,user_agent:navigator.userAgent})}},"1IJ0":function(e,t,n){"use strict";var i=n("mrSG"),o=n("q1tI"),a=n("9C/b"),r=n("/7QA"),s=n("2xye"),l=n("22qk"),c=n("Ws8v"),d=n("hnjF"),u=n("sUnt"),p=n("X2PJ"),m=n("IbuL"),h=n("7uM4"),f=n("+80q"),g=n("i4Ys"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.internalTrackingMediums=[s.PageviewMedium.Channel,s.PageviewMedium.ExtensionCategory,s.PageviewMedium.ExtensionConfiguration,s.PageviewMedium.ExtensionDiscovery,s.PageviewMedium.ExtensionInstalledModal,s.PageviewMedium.ExtensionManagement,s.PageviewMedium.ExtensionManagerCarousel,s.PageviewMedium.ExtensionPage,s.PageviewMedium.ExtensionSearch],t.goBack=function(){var e=t.props,n=e.channelLogin,i=e.location,o=e.history;!n||i.state&&t.internalTrackingMediums.includes(i.state.medium)?o.goBack():o.push(Object(l.c)(n))},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.showBackLink;return o.createElement(c.a,{background:p.a.Alt2,display:d.d.Flex},n&&o.createElement(c.a,{border:!0,color:p.c.Link,display:d.d.Flex,flexGrow:0},o.createElement(g.a,{ariaLabel:Object(r.d)("Navigate to previous page","ExtensionPageHeader"),onClick:this.goBack},o.createElement(u.a,{padding:{x:1}},o.createElement(m.a,{asset:h.b.AngleLeft})))),o.createElement(c.a,{border:!0,display:d.d.Flex,flexGrow:1,padding:2},o.createElement(f.a,{type:f.e.H4},t)))},t}(o.Component),y=Object(a.a)(v);n.d(t,!1,function(){return v}),n.d(t,"a",function(){return y})},"1pP+":function(e,t,n){},"1uty":function(e,t,n){"use strict";var i="_erd";function o(e){return e[i]}e.exports={initState:function(e){return e[i]={},o(e)},getState:o,cleanState:function(e){delete e[i]}}},"1z7r":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ExtensionConfigureApplyExtensionActivations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ApplyExtensionActivationsInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"applyExtensionActivations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"installedExtensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requiredActions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canActivate"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:298}};n.loc.source={body:"mutation ExtensionConfigureApplyExtensionActivations ($input: ApplyExtensionActivationsInput!) {\napplyExtensionActivations(input: $input) {\ninstalledExtensions {\nid\nactivationConfig {\nanchor\nslot\nstate\nx\ny\n}\nextension {\nid\nclientID\nname\nversion\n}\nrequiredActions {\ntype\n}\nself {\ncanActivate\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"22qk":function(e,t,n){"use strict";function i(e,t){return"/ext/"+u(e,t)}function o(e,t,n){return{pathname:""+r(e),search:"?configure=true&extensionID="+u(t,n)}}function a(e){return"/"+e+"/dashboard/extensions"}function r(e){return"/"+e+"/dashboard/extensions/manage"}function s(e){return"/"+e+"/dashboard/extensions/whitelisted"}function l(e,t){return{pathname:"/"+e+"/dashboard/extensions/permissions",state:t}}function c(e){return"/ext/categories/"+e}function d(e){return"/ext/search?q="+encodeURIComponent(e)}function u(e,t){return t?e+"-"+t:e}n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return r}),n.d(t,"h",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return d})},"5IFo":function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"j",function(){return v}),n.d(t,"i",function(){return y});var i,o=n("/7QA"),a=n("2xye");function r(e){var t={category_id:e.categoryID,extension_id:e.extensionClientID,extension_version:e.extensionVersion,list_position:e.listPosition};o.p.track(a.SpadeEventType.ExtensionInstall,t)}function s(e){if(e.extensionAnchor){var t={extension_anchor:e.extensionAnchor,extension_id:e.extensionClientID,extension_version:e.extensionVersion,channel_id:e.channelID,list_position:e.listPosition};o.p.track(a.SpadeEventType.ExtensionActivate,t)}}function l(e){var t={extension_id:e.extensionClientID,extension_version:e.extensionVersion};o.p.track(a.SpadeEventType.ExtensionConfigureView,t)}function c(e){var t={extension_id:e.extensionClientID};o.p.track(a.SpadeEventType.ExtensionRecommendationModalView,t)}function d(e){var t={extension_id:e.extensionClientID,decline_method:e.declineMethod};o.p.track(a.SpadeEventType.ExtensionRecommendationModalDecline,t)}function u(e){if(!e)return null;var t=e.split("-");return t&&3===t.length?parseInt(t[2],10):null}function p(e,t){return{action:e,extension_id:t.extensionId,extension_version:t.extensionVersion,extension_anchor:"component",extension_slot:u(t.slotName)}}function m(e){o.p.track(a.SpadeEventType.ExtensionStreamerComponentSettings,p(i.Open,e))}function h(e){o.p.track(a.SpadeEventType.ExtensionStreamerComponentSettings,p(i.Close,e))}function f(e){o.p.track(a.SpadeEventType.ExtensionStreamerComponentSettings,p(i.Save,e))}function g(e){return{extension_id:e.extensionID,extension_version:e.extensionVersion,extension_anchor:e.anchor,extension_mode:e.mode,user_id:e.loginID,channel_id:e.channelID}}function v(e){o.p.track(a.SpadeEventType.ExtensionPopoutClicked,g(e))}function y(e){o.p.track(a.SpadeEventType.ExtensionPopinClicked,g(e))}!function(e){e.Open="open",e.Close="close",e.Save="save"}(i||(i={}))},"6LIJ":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n("pVnL"),o=n.n(i),a=n("q1tI"),r=n("fNzW"),s=n("vCsY"),l=n("hnjF"),c=n("sUnt"),d=(n("/4rI"),function(e){var t={"tw-drop-zone":!0,"tw-drop-zone--over":e.dragOver,"tw-drop-zone--error":e.error,"tw-drop-zone--disabled":e.disabled};return a.createElement(c.a,o()({className:Object(r.a)(t)},Object(s.a)(e),{alignItems:l.b.Center,display:l.d.Flex,fullHeight:!0,fullWidth:!0,justifyContent:l.h.Center,position:l.j.Absolute,attachTop:!0,attachLeft:!0}),a.createElement("div",{className:"tw-drop-zone__content"},e.children))});d.displayName="DropZone",d.displayName="DropZone"},"6oOb":function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.ADD_EMAIL=0]="ADD_EMAIL",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.CONFIRMATION=2]="CONFIRMATION"}(i||(i={}))},"7sSR":function(e,t,n){"use strict";var i=n("t3DW").forEach,o=n("W+U1"),a=n("Sa1T"),r=n("LO96"),s=n("UFhH"),l=n("q7TX"),c=n("GOnX"),d=n("wnTG"),u=n("1uty"),p=n("GNKm"),m=n("yUZ2");function h(e){return Array.isArray(e)||void 0!==e.length}function f(e){if(Array.isArray(e))return e;var t=[];return i(e,function(e){t.push(e)}),t}function g(e){return e&&1===e.nodeType}function v(e,t,n){var i=e[t];return null==i&&void 0!==n?n:i}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=r(),y=s({idGenerator:n,stateHandler:u});t=y}var b=e.reporter;b||(b=l(!1===b));var E=v(e,"batchProcessor",d({reporter:b})),x={};x.callOnAdd=!!v(e,"callOnAdd",!0),x.debug=!!v(e,"debug",!1);var k,C=a(t),S=o({stateHandler:u}),I=v(e,"strategy","object"),w={reporter:b,batchProcessor:E,stateHandler:u,idHandler:t};if("scroll"===I&&(c.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),I="object"):c.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),I="object")),"scroll"===I)k=m(w);else{if("object"!==I)throw new Error("Invalid strategy name: "+I);k=p(w)}var P={};return{listenTo:function(e,n,o){function a(e){var t=C.get(e);i(t,function(t){t(e)})}function r(e,t,n){C.add(t,n),e&&n(t)}if(o||(o=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(g(n))n=[n];else{if(!h(n))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=f(n)}var s=0,l=v(e,"callOnAdd",x.callOnAdd),c=v(e,"onReady",function(){}),d=v(e,"debug",x.debug);i(n,function(e){u.getState(e)||(u.initState(e),t.set(e));var p=t.get(e);if(d&&b.log("Attaching listener to element",p,e),!S.isDetectable(e))return d&&b.log(p,"Not detectable."),S.isBusy(e)?(d&&b.log(p,"System busy making it detectable"),r(l,e,o),P[p]=P[p]||[],void P[p].push(function(){++s===n.length&&c()})):(d&&b.log(p,"Making detectable..."),S.markBusy(e,!0),k.makeDetectable({debug:d},e,function(e){if(d&&b.log(p,"onElementDetectable"),u.getState(e)){S.markAsDetectable(e),S.markBusy(e,!1),k.addListener(e,a),r(l,e,o);var t=u.getState(e);if(t&&t.startSize){var m=e.offsetWidth,h=e.offsetHeight;t.startSize.width===m&&t.startSize.height===h||a(e)}P[p]&&i(P[p],function(e){e()})}else d&&b.log(p,"Element uninstalled before being detectable.");delete P[p],++s===n.length&&c()}));d&&b.log(p,"Already detecable, adding listener."),r(l,e,o),s++}),s===n.length&&c()},removeListener:C.removeListener,removeAllListeners:C.removeAllListeners,uninstall:function(e){if(!e)return b.error("At least one element is required.");if(g(e))e=[e];else{if(!h(e))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=f(e)}i(e,function(e){C.removeAllListeners(e),k.uninstall(e),u.cleanState(e)})}}}},"8ENv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=r(n("J2m7")),a=r(n("xweI"));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.refs={}}return i(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return(0,o.default)(this.refs[this.active.collection],function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return(0,a.default)(this.refs[e],function(e){return e.node.sortableInfo.index})}}]),e}();t.default=s},"8sUD":function(e,t,n){},AfzZ:function(e,t,n){"use strict";var i,o=n("mrSG"),a=n("q1tI"),r=n("cZKs"),s=n("X2PJ"),l=n("Ws8v"),c=n("1hWM"),d=n("lBSt"),u=n("/MKj"),p=n("fvjX"),m=n("/7QA"),h=n("8/mp"),f=n("eJ65"),g=n("yR8l"),v=n("DMoW"),y=n("kRBY"),b=n("qCDY"),E=n("1IJ0"),x=n("EZh/"),k=n("5IFo"),C=n("i4Ys"),S=n("sUnt"),I=n("fPaz"),w=n("hnjF"),P=n("+80q"),D=n("L/cU"),_=n("PL8s"),O=n("dEDE"),N=n("AFv4"),T=n("uXHW"),R=n("ygYM"),F=n("X9a5");!function(e){e.ActivateButton="extension-configure-activate-button",e.ActivateDropdown="extension-configure-activate-dropdown"}(i||(i={}));var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasCardImageError:!1},t.onClickReplace=function(e){var n=e.currentTarget.dataset.slot;t.activateExtension(n)},t.onClickActivate=function(){t.activateExtension()},t.onCardImageError=function(){t.setState({hasCardImageError:!0})},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.channelID,n=e.extensionID.split("-"),i=n[0],o=n[1];this.fetchExtensions(t),Object(k.g)({extensionClientID:i,extensionVersion:o})},t.prototype.render=function(){var e=this.props,t=e.channelID,n=e.channelLogin,i=e.includeActivateOption,o=e.languageCode,r=e.locale,d=this.findExtensionFromInstallations(),u=null;if(d){var p=d.extension;u=a.createElement(S.a,{fullWidth:!0},a.createElement(S.a,{padding:{bottom:1}},a.createElement(T.a,{row:!0,border:!1},a.createElement(D.a,{alt:p.name,src:this.state.hasCardImageError?m.a.defaultAvatarURL:p.iconUrl,aspect:I.c.Aspect1x1,size:D.b.Size6,onError:this.onCardImageError}),a.createElement(N.a,null,a.createElement(S.a,{padding:1},a.createElement(P.a,{type:P.e.H4},p.name),a.createElement(P.a,{type:P.e.Span,color:s.c.Alt2},Object(m.d)("Created by {extensionAuthor}",{extensionAuthor:p.authorName},"ExtensionConfigurePresentation")))))),a.createElement(S.a,null,a.createElement(b.a,{channelID:t,channelLogin:n,className:"",extensionMode:c.ExtensionMode.Config,installation:d,languageCode:o,locale:r,login:n,loginID:t,isPopout:!1})))}else u=this.renderPlaceholders();var f=a.createElement(E.a,{channelLogin:n,showBackLink:!1,title:Object(m.d)("Configure","ExtensionConfigurePresentation")});return a.createElement(h.b,null,a.createElement(S.a,{padding:2},f,a.createElement(l.a,{borderRight:!0,borderLeft:!0,borderBottom:!0,padding:2},u),i&&this.renderFooter()))},t.prototype.renderFooter=function(){var e=this,t=Object(m.d)("Activate","ExtensionConfigurePresentation"),n=a.createElement(O.a,{"data-test-selector":i.ActivateButton,onClick:this.onClickActivate},t),o=this.props.extensionConfigureData.currentUser;if(o&&o.installedExtensions){var r=o.installedExtensions.filter(function(e){return e.activationConfig.state===v.a.ACTIVE&&e.activationConfig.anchor===v.R.PANEL});r.length===x.a&&(n=a.createElement(f.a,null,a.createElement(O.a,{"data-test-selector":i.ActivateDropdown,dropdown:!0},t),a.createElement(R.a,{direction:R.b.TopRight,offsetY:"-0.1rem",noTail:!0},r.reduce(function(t,n){var i=n.extension,o=i.clientID,r=i.name,s=i.version;return e.props.extensionID!==o+"-"+s&&t.push(a.createElement(C.a,{blurAfterClick:!0,"data-slot":n.activationConfig.slot,key:n.id,onClick:e.onClickReplace},a.createElement(S.a,{padding:{x:1,y:.5}},Object(m.d)("Replace {extension}",{extension:r},"ExtensionConfigurePresentation")))),t},[]))))}return a.createElement(l.a,{background:s.a.Alt2,display:w.d.Flex,justifyContent:w.h.End,border:!0,padding:2},n)},t.prototype.renderPlaceholders=function(){return a.createElement(S.a,{fullWidth:!0},a.createElement(S.a,{display:w.d.Flex,alignItems:w.b.Center,padding:{y:1}},a.createElement(S.a,null,a.createElement(_.a,{width:60,height:60})),a.createElement(S.a,{padding:{left:1}},a.createElement(_.a,{lineCount:2,width:200}))))},t.prototype.fetchExtensions=function(e){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(n){switch(n.label){case 0:return[4,c.extensionService.getInstalledExtensions(e)];case 1:return t=n.sent(),this.setState({installedExtensions:Object(d.extensionInstallationsFromRest)(t)}),[2]}})})},t.prototype.findExtensionFromInstallations=function(){var e=this,t=this.state.installedExtensions;if(t)return t.find(function(t){var n=t.extension;return e.props.extensionID===n.clientId+"-"+n.version})},t.prototype.activateExtension=function(e){var t=this.props,n=t.activateExtension,i=t.extensionID;n&&n(i,e)},t}(a.Component);var A=Object(p.compose)(Object(u.connect)(function(e){var t=Object(y.e)(e);return{channelID:t&&t.id||"",channelLogin:t&&t.login||"",languageCode:Object(y.b)(e),locale:Object(y.d)(e)}}),Object(g.a)(F,{name:"extensionConfigureData",options:{fetchPolicy:"network-only"}}))(L),B=(n("nH1N"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.activateExtension,n=e.extensionID,i=e.includeActivateOption,o=e.onClose,c="extension-configure-modal";return i&&(c+=" extension-configure-modal--with-footer"),a.createElement(l.a,{background:s.a.Base,className:c},a.createElement(A,{extensionID:n,includeActivateOption:i,activateExtension:t}),a.createElement(r.a,{closeOnBackdropClick:!0,onClose:o}))},t}(a.Component));n.d(t,"a",function(){return B})},BCEg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(e){var t,n,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"componentDidMount",value:function(){var e=(0,s.findDOMNode)(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,l.default)(d.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=d.withRef?"wrappedInstance":null;return r.default.createElement(e,i({ref:t},this.props))}}]),n}(a.Component),t.displayName=(0,c.provideDisplayName)("sortableHandle",e),n};var a=n("q1tI"),r=d(a),s=n("i8i4"),l=d(n("QLaP")),c=n("jTc+");function d(e){return e&&e.__esModule?e:{default:e}}},BaCc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionPanel_BitsBalance"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:67}};n.loc.source={body:"query ExtensionPanel_BitsBalance {\ncurrentUser {\nid\nbitsBalance\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},CUlp:function(e,t,n){var i,o;"undefined"!=typeof window&&window,void 0===(o="function"==typeof(i=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var a=n[o];i&&i[a]&&(this.off(e,a),delete i[a]),a.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?i.call(t,n,t,e):i)||(e.exports=o)},DUmW:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return d});var i,o=n("pVnL"),a=n.n(o),r=n("q1tI"),s=n("fNzW"),l=n("vCsY"),c=n("sUnt");n("ywDw");!function(e){e.Default="",e.Small="tw-grid--gutter-sm",e.Medium="tw-grid--gutter-md",e.Large="tw-grid--gutter-lg",e.None="tw-grid--gutter-none"}(i||(i={}));var d=function(e){var t={"tw-grid":!0};return e.gutterSize&&(t[e.gutterSize]=!0),r.createElement(c.a,a()({alignItems:e.alignItems,fullHeight:e.fullHeight,justifyContent:e.justifyContent,breakpointExtraSmall:e.breakpointExtraSmall,breakpointSmall:e.breakpointSmall,breakpointMedium:e.breakpointMedium,breakpointLarge:e.breakpointLarge,breakpointExtraLarge:e.breakpointExtraLarge,breakpointExtraExtraLarge:e.breakpointExtraExtraLarge,className:Object(s.a)(t)},Object(l.a)(e)),e.children)};d.displayName="Grid",d.displayName="Grid"},"EZh/":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=3},EgbR:function(e,t,n){},EuHz:function(e,t,n){"use strict";n.r(t);var i,o=n("/MKj"),a=n("mrSG"),r=n("1hWM"),s=n("q1tI"),l=n("oJmH"),c=n("pQUg"),d=n.n(c),u=n("Nxrd"),p=n("/7QA"),m=n("cw0r"),h=n("yR8l"),f=n("geRD"),g=n("D7An"),v=n("DMoW"),y=n("5zC2"),b=n("fvjX"),E=n("w1PT"),x=n("1rIY"),k=(i=Object(x.a)("ExtensionActionContext",{currentChannelID:null,currentActionRequest:null,currentActionRequestUI:null,sendActionResult:function(){return null}})).InnerProvider,C=i.withContext,S=n("MU5F"),I=n("x7UT"),w=n("/aPz"),P=n("2xye"),D=n("6oOb"),_=n("8EUQ"),O=n("KriR");var N,T=n("TilG"),R=1e4;!function(e){e[e.NotStarted=0]="NotStarted",e[e.InProgress=1]="InProgress",e[e.Confirming=2]="Confirming",e[e.TimedOut=3]="TimedOut",e[e.Subscribed=4]="Subscribed",e[e.Cancelled=5]="Cancelled",e[e.Error=6]="Error",e[e.ProductNotAvailable=7]="ProductNotAvailable"}(N||(N={}));var F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={checkoutProgress:D.a.NOT_STARTED,subscriptionState:N.NotStarted},t.onCheckoutModalClosed=function(){t.state.checkoutProgress!==D.a.CONFIRMATION&&t.setState({subscriptionState:N.Cancelled})},t.onCheckoutProgress=function(e){e===D.a.CONFIRMATION&&(t.waitForPubsubTimeout=setTimeout(function(){t.waitForPubsubTimeout=void 0,t.setState({subscriptionState:N.TimedOut})},R),t.setState({subscriptionState:N.Confirming})),t.setState({checkoutProgress:e})},t}return a.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.props.currentSubscriptionData;if(n)if(this.state.subscriptionState!==N.Error&&n.error)this.setState({subscriptionState:N.Error});else if(this.state.subscriptionState!==N.NotStarted||n.loading){if(t.subscriptionState===this.state.subscriptionState){if(this.state.subscriptionState===N.Confirming){var i=this.didUserReceiveSubscription(e),o=!!this.props.pubsub.messages.entitlementMessage;i?(clearTimeout(this.waitForPubsubTimeout),this.waitForPubsubTimeout=void 0,this.setState({subscriptionState:N.Subscribed})):o&&this.waitForPubsubTimeout?(clearTimeout(this.waitForPubsubTimeout),this.waitForPubsubTimeout=void 0,n.refetch()):this.waitForPubsubTimeout||this.setState({subscriptionState:N.Cancelled})}return}switch(this.state.subscriptionState){case N.Confirming:n.refetch();break;case N.TimedOut:this.setState({subscriptionState:N.Confirming});break;case N.Subscribed:case N.Cancelled:case N.Error:case N.ProductNotAvailable:this.handleActionResult()}}else this.handleActionRequest()},t.prototype.render=function(){return null},t.prototype.didUserReceiveSubscription=function(e){var t=this.props.currentSubscriptionData,n=e.currentSubscriptionData;if(!t||!n)return!1;var i=t.user,o=n.user;if(!(i&&i.self&&o&&o.self))return!1;var a=null===o.self.subscriptionBenefit&&null!==i.self.subscriptionBenefit,r=!(!i.self.subscriptionBenefit||!o.self.subscriptionBenefit||i.self.subscriptionBenefit.tier===o.self.subscriptionBenefit.tier);return a||r},t.prototype.handleActionRequest=function(){var e=this.props,t=e.currentActionRequest,n=e.currentSubscriptionData;if(t&&n){var i=n.user;if(i&&i.subscriptionProducts&&i.self){var o=i.self.subscriptionBenefit&&i.self.subscriptionBenefit.tier,a=null;switch(t.options.tier){case S.ActionRequestSubTier.Upsell:var r=function(e,t){if(!t)return null;var n=t.filter(function(e){return null!==e}).sort(function(e,t){return e.tier<t.tier?-1:e.tier>t.tier?1:-0}),i=n.findIndex(function(t){return t.tier===e});return null===e?n[0]:i===n.length-1?null:n[i+1]}(o,i.subscriptionProducts);r&&(a=r.name);break;default:var s=i.subscriptionProducts.find(function(e){return null!==e&&t.options.tier===e.tier});s&&(a=s.name)}a?(this.setState({subscriptionState:N.InProgress}),this.openCheckout(a)):this.setState({subscriptionState:N.ProductNotAvailable})}}},t.prototype.handleActionResult=function(){this.props.sendActionResult({didSubscribe:this.state.subscriptionState===N.Subscribed})},t.prototype.openCheckout=function(e){var t=this.props,n=t.currentActionRequest,i=t.currentSubscriptionData,o=t.showSubscriptionCheckout;if(n&&i){var a=i.currentUser,r=i.user;p.p.track(P.SpadeEventType.ExtensionSubscribeToChannelActionInit,{action:n.options.tier,channel_id:r&&r.id||"",channel:r&&r.login||"",extension_id:n.extensionId,product_name:e,user_id:a&&a.id||"",user:a&&a.login||""}),_.a.clearSubscriptionCheckoutKeys(),p.o.set(_.a.SUB_CHECKOUT__PRODUCT_KEY,e),o({productName:e,onCheckoutProgress:this.onCheckoutProgress,onClose:this.onCheckoutModalClosed,trackingContext:{detail:n.extensionId,source:O.c.Extension}})}},t}(s.Component),L=Object(b.compose)(Object(h.a)(T,{name:"currentSubscriptionData",options:function(e){return{variables:{channelID:e.currentChannelID}}},skip:function(e){return!e.currentActionRequest||!e.currentChannelID}}),Object(I.a)([{topic:function(e){return Object(w.K)(e.currentSubscriptionData&&e.currentSubscriptionData.currentUser&&e.currentSubscriptionData.currentUser.id||"")},mapMessageTypesToProps:{"*":"entitlementMessage"},skip:function(e){return!e.currentSubscriptionData||!e.currentSubscriptionData.currentUser||!e.currentSubscriptionData.currentUser.id}}]))(F);var A,B=Object(b.compose)(C(function(e){return{currentActionRequest:e.currentActionRequest,currentChannelID:e.currentChannelID,sendActionResult:e.sendActionResult}}),Object(o.connect)(null,function(e){return Object(b.bindActionCreators)({showSubscriptionCheckout:E.a},e)}))(L),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentActionRequest:null,currentActionRequestUI:null,isGlobalRender:!1},t.handleModalRequest=function(e){var n=null,i=!1;switch(e.action){case r.FunctionAction.SubscribeToChannel:n=s.createElement(B,null),i=!0;break;default:return}t.setState({currentActionRequest:e,currentActionRequestUI:n,isGlobalRender:i})},t.sendActionResult=function(e){var n=t.state.currentActionRequest;n&&n.resultCallback&&n.resultCallback(e),t.setState({currentActionRequest:null,currentActionRequestUI:null,isGlobalRender:!1})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){r.extensionService.on(r.ExtensionServiceEvents.RequestModal,this.handleModalRequest)},t.prototype.componentWillUnmount=function(){r.extensionService.off(r.ExtensionServiceEvents.RequestModal,this.handleModalRequest)},t.prototype.render=function(){return s.createElement(k,{value:{currentChannelID:this.props.channelID,currentActionRequest:this.state.currentActionRequest,currentActionRequestUI:this.state.currentActionRequestUI,sendActionResult:this.sendActionResult}},this.state.isGlobalRender&&this.state.currentActionRequestUI,this.props.children)},t}(s.Component),M=n("OzNJ"),U=n("GnwI"),z=n("7JxC"),W=n("6x+I"),q=n("geji"),H=n("JVUd"),G=n("0HeA"),V=n("CGUg"),Y=n("sUnt"),Q=n("vCsY"),X=n("+80q"),K=n("Jsra");n("ZAO/");!function(e){e.Description="description_test_selector",e.Image="image_test_selector",e.Link="link_url_test_selector",e.Panel="channel_panel_test_selector",e.Title="title_test_selector"}(A||(A={}));var J=/^https?:\/\//,Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onDescriptionClick=function(e){var n=e.target;if("A"===n.nodeName){var i=n;t.trackClick(i.href)}},t.onImageClick=function(){t.props.panel.linkURL&&t.trackClick(t.props.panel.linkURL)},t.trackClick=function(e){var n=t.props.panel.id;n&&Object(G.a)(P.SpadeEventType.PanelClick,{panelID:n,channelID:t.props.channelID,panelType:t.props.panel.type,panelTarget:e})},t.trackImpression=function(){var e=t.props.panel.id;e&&Object(G.a)(P.SpadeEventType.PanelImpression,{panelID:e,channelID:t.props.channelID,panelType:t.props.panel.type})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.impressionListener.registerImpressionCallback(this.trackImpression)},t.prototype.render=function(){var e=this.props.panel.imageURL?s.createElement("img",{"data-test-selector":A.Image,src:this.props.panel.imageURL,alt:Object(p.d)("Panel Content","ChannelPanels")}):"";e&&this.props.panel.linkURL&&J.test(this.props.panel.linkURL)&&(e=s.createElement(K.a,{to:this.props.panel.linkURL,onClick:this.onImageClick,targetBlank:!0,"data-test-selector":A.Link},e));var t=null;return this.props.panel.description&&(t=s.createElement("div",{onClick:this.onDescriptionClick,"data-test-selector":A.Description},s.createElement(V.a,null,s.createElement(W,a.__assign({source:Object(q.b)(this.props.panel.description)},q.a))))),s.createElement(Y.a,a.__assign({className:"default-panel",margin:{bottom:2,right:2},"data-test-selector":A.Panel},Object(Q.a)(this.props)),this.props.panel.title&&s.createElement(X.a,{type:X.e.H3,"data-test-selector":A.Title},this.props.panel.title),e,t)},t}(s.Component),$=Object(l.compose)(Object(H.a)("DefaultPanel",{pixels:100}))(Z),ee=n("TVJu"),te=n("K/KT"),ne=n("X2PJ"),ie=n("hnjF"),oe=n("Ws8v"),ae=n("b7S+"),re=n("7d/q"),se=n("7uM4"),le=216e5;var ce=n("wUQP"),de=n("aCAx"),ue=n("qyxT"),pe=n("SN/u"),me=n("AfzZ"),he=n("MM5q"),fe=n("EZh/"),ge=n("5IFo"),ve=n("1z7r"),ye=n("22qk"),be=n("uXHW"),Ee=n("L/cU"),xe=n("fPaz"),ke=n("AFv4"),Ce=n("dEDE"),Se=(n("UeP2"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={extensionIcon:t.props.iconURL},t.installExtension=function(){var e=t.props,n=e.extensionID;(0,e.installExtension)(n)},t.onCardImageError=function(){t.setState({extensionIcon:p.a.defaultAvatarURL})},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.authorName,n=e.extensionClientID,i=e.extensionName,o=e.extensionVersion,a=e.isActivated,r=e.summary,l=e.trackingContext,c=this.state.extensionIcon,d=l.contentIndex,u=l.medium;return s.createElement(oe.a,{background:ne.a.Alt,border:!0,className:"extension-recommendation",display:ie.d.Flex,flexDirection:ie.e.Column,justifyContent:ie.h.Between,padding:2},s.createElement(Y.a,null,s.createElement(be.a,{row:!0,border:!1},s.createElement(Ee.a,{alt:i,src:c,aspect:xe.c.Aspect1x1,size:Ee.b.Size6,onError:this.onCardImageError}),s.createElement(ke.a,null,s.createElement(Y.a,{padding:{left:1}},s.createElement(K.a,{linkTo:{pathname:Object(ye.d)(n,o),state:{medium:u,content:P.PageviewContent.ExtensionCard,content_index:d}},targetBlank:!0},s.createElement(X.a,{type:X.e.Strong},i)),s.createElement(X.a,{color:ne.c.Alt2},t)))),s.createElement(Y.a,{className:"extension-recommendation__summary",overflow:ie.i.Hidden,padding:{top:1}},s.createElement(X.a,null,r))),s.createElement(Y.a,{padding:{top:1},textAlign:ie.k.Center},s.createElement(Ce.a,{onClick:this.installExtension,type:Ce.d.Hollow},a?Object(p.d)("Configure","ExtensionRecommendationCard"):Object(p.d)("Activate","ExtensionRecommendationCard"))))},t}(s.Component)),Ie=(n("Go5+"),function(e){var t=e.channelLogin,n=e.trackingContext;return s.createElement(oe.a,{background:ne.a.Alt,border:!0,className:"view-all-extensions-card",display:ie.d.Flex,alignItems:ie.b.Center,justifyContent:ie.h.Center,padding:2},s.createElement(K.a,{linkTo:{pathname:Object(ye.c)(t),state:{medium:n.medium,content:P.PageviewContent.ExtensionCardViewAll}},targetBlank:!0},s.createElement(Y.a,{display:ie.d.Flex,alignItems:ie.b.Center},s.createElement(X.a,{type:X.e.Span},Object(p.d)("View All Extensions","ViewAllCard"))," ",s.createElement(se.a,{asset:se.b.Popout}))))});Ie.displayName="ViewAllExtensionsCard";var we=n("NN+d"),Pe=n("rOlK"),De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getExtensionsOrderingMemoized=function(e,t){void 0===t&&(t=le);var n={};return function(){for(var i=(new Date).valueOf(),o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];var s=JSON.stringify(a);if(s in n&&void 0!==n[s].data&&i-t<n[s].lastUpdate)return n[s].data;var l=e.apply(void 0,a);return n[s]={data:l,lastUpdate:i},l}}(t.getExtensionsOrdering),t.installExtension=function(e){return a.__awaiter(t,void 0,void 0,function(){var t,n,i,o,r,s,l,c,d,u,p,m,h;return a.__generator(this,function(a){switch(a.label){case 0:return t=this.props,n=t.extensionRecommendationsData,i=t.installExtension,o=t.showExtensionErrorModal,(r=n.currentUser)&&r.id&&r.login?(s=r.installedExtensions||[],(l=s.find(function(t){return t.extension.id===e}))?(this.configureExtension(l.extension.clientID,l.extension.version),[3,4]):[3,1]):[2];case 1:return a.trys.push([1,3,,4]),[4,i(Object(f.a)({channelID:r.id,extensionID:e}))];case 2:return(c=a.sent().data).installExtension&&c.installExtension.installedExtension&&(d=c.installExtension.installedExtension,u=d.extension,p=u.clientID,m=u.id,h=u.version,Object(ge.h)({extensionClientID:p,extensionVersion:h,listPosition:this.getExtensionPosition(m)}),Object(f.g)(Pe,{},function(e){return e.currentUser&&e.currentUser.installedExtensions&&e.currentUser.installedExtensions.push(d),e}),this.configureExtension(p,h)),[3,4];case 3:return a.sent(),o(),[3,4];case 4:return[2]}})})},t.onCloseConfigure=function(e){return a.__awaiter(t,void 0,void 0,function(){var t;return a.__generator(this,function(n){switch(n.label){case 0:return(t=this.getInstallationFromExtensionConfigureID(e))&&t.activationConfig.state===v.a.INACTIVE?[4,this.activateExtension(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.activateExtension=function(e,n){return a.__awaiter(t,void 0,void 0,function(){var t,i,o,r,s,l,c,d,u;return a.__generator(this,function(a){switch(a.label){case 0:if(t=this.props,i=t.activatedPanelExtensions,o=t.extensionPanels,r=t.showExtensionErrorModal,!(s=this.getInstallationFromExtensionConfigureID(e))||s.activationConfig.state===v.a.ACTIVE)return this.props.closeModal(),[2];if(n)return[3,6];if((l=Object.keys(i)).length===fe.a)return[2];if(!(o.length===l.length))return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.createPanel()];case 2:return c=a.sent(),n=c.slotID,[3,4];case 3:return a.sent(),r(),[3,4];case 4:return[3,6];case 5:(d=o.find(function(e){return!l.includes(e.slotID)}))&&(n=d.slotID),a.label=6;case 6:return n?(u={installationID:s.id,panel:{slot:n}},[4,this.applyActivation(u)]):[3,8];case 7:a.sent(),this.props.closeModal(),a.label=8;case 8:return[2]}})})},t.applyActivation=function(e){return a.__awaiter(t,void 0,void 0,function(){var t,n,i,o,r,s,l,c;return a.__generator(this,function(a){switch(a.label){case 0:if(t=this.props,n=t.extensionRecommendationsData,i=t.showExtensionErrorModal,!(o=n.currentUser)||!o.id)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.props.applyExtensionActivations(Object(f.a)({activations:[e],channelID:o.id}))];case 2:return(r=a.sent().data).applyExtensionActivations?(s=r.applyExtensionActivations.installedExtensions.find(function(t){return t.id===e.installationID}))&&(l=s.activationConfig,c=s.extension,Object(ge.f)({channelID:o.id,extensionAnchor:l.anchor,extensionClientID:c.clientID,extensionVersion:c.version,listPosition:this.getExtensionPosition(c.id)})):i(),[3,4];case 3:return a.sent(),i(),[3,4];case 4:return[2]}})})},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.extensionRecommendationsData,n=t.currentUser,i=t.extensionCategory,o=[];if(n&&n.login&&i&&i.extensions){var a=i.extensions.edges;return(o=this.getExtensionsOrderingMemoized(a.length).map(function(t,i){var o=a[t].node,r=(n.installedExtensions||[]).some(function(e){return e.extension.id===o.id&&e.activationConfig.state===v.a.ACTIVE});return s.createElement(Y.a,{padding:{right:1},key:o.id},s.createElement(Se,{authorName:o.authorName,extensionClientID:o.clientID,extensionID:o.id,extensionName:o.name,extensionVersion:o.version,iconURL:o.iconURLs.square100,installExtension:e.installExtension,isActivated:r,summary:o.summary,trackingContext:{contentIndex:i,medium:P.PageviewMedium.Channel}}))})).push(s.createElement(Ie,{key:"view-all-extensions",channelLogin:n.login,trackingContext:{medium:P.PageviewMedium.Channel}})),s.createElement(pe.a,{items:o})}return null},t.prototype.configureExtension=function(e,t){var n=e+"-"+t;(0,this.props.showExtensionConfigureModal)({activateExtension:this.activateExtension,extensionID:n,includeActivateOption:!0,onClose:this.onCloseConfigure.bind(this,n)})},t.prototype.createPanel=function(){return a.__awaiter(this,void 0,void 0,function(){var e;return a.__generator(this,function(t){switch(t.label){case 0:return(e=this.props.extensionRecommendationsData.currentUser)&&e.id?[4,this.props.createPanel({channelID:e.id,type:v.Ca.EXTENSION})]:[2,Promise.reject("No user id.")];case 1:return[2,t.sent()]}})})},t.prototype.getInstallationFromExtensionConfigureID=function(e){var t=e.replace("-",":"),n=this.props.extensionRecommendationsData.currentUser;if(n&&n.installedExtensions)return n.installedExtensions.find(function(e){return e.extension.id===t})},t.prototype.getExtensionPosition=function(e){var t=this.props.extensionRecommendationsData.extensionCategory,n=-1;if(t&&t.extensions){var i=t.extensions.edges;n=this.getExtensionsOrderingMemoized(i.length).findIndex(function(t){return i[t].node.id===e})}return n},t.prototype.getExtensionsOrdering=function(e){var t=Array.from(Array(e).keys());return Object(ce.c)("shuffle_panel_extension_recommendations")&&Object(ue.a)(t),t},t}(s.Component);var _e=Object(b.compose)(Object(o.connect)(null,function(e){return Object(b.bindActionCreators)({closeModal:de.c,showExtensionConfigureModal:function(e){var t=a.__rest(e,[]);return Object(de.d)(me.a,t)},showExtensionErrorModal:function(){return Object(de.d)(he.a,{})}},e)}),Object(h.a)(Pe,{name:"extensionRecommendationsData"}),Object(h.a)(we,{name:"installExtension"}),Object(h.a)(ve,{name:"applyExtensionActivations"}))(De),Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isCollapsed:!1},t.onToggleCollapse=function(){t.setState(function(e){return{isCollapsed:!e.isCollapsed}})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){Object(G.b)({channelID:this.props.channelID})},t.prototype.render=function(){var e=this.props,t=e.createPanel,n=e.activatedPanelExtensions,i=e.extensionPanels,o=this.state.isCollapsed,a=Object(p.d)("Engage your community with panel extensions","PanelRecommendations"),r=Object(p.d)("To keep an audience and keep it growing you should always be on the lookout for new ways to engage with them. One way to do that is by installing Extensions on your channel. You can think of extensions as apps for your streams that give your community more ways to interact with you, each other, or what you're streaming.","PanelRecommendations"),l=s.createElement(K.a,{to:"https://www.twitch.tv/creatorcamp/en/level-up/extensions/"},Object(p.d)("Learn more.","PanelRecommendations"));return s.createElement(oe.a,{background:ne.a.Base,border:!0,overflow:ie.i.Hidden,padding:1,position:ie.j.Relative},s.createElement(Y.a,{display:ie.d.Flex,alignItems:ie.b.Start},s.createElement(re.a,{ariaLabel:o?Object(p.d)("Expand","PanelRecommendations"):Object(p.d)("Collapse","PanelRecommendations"),icon:o?se.b.AngleDown:se.b.AngleUp,onClick:this.onToggleCollapse}),s.createElement(Y.a,{padding:{left:1,right:2,top:.5}},s.createElement(Y.a,{display:ie.d.Flex,alignItems:ie.b.Center},s.createElement(ie.g,{padding:{right:1}},s.createElement(X.a,{bold:!0,type:X.e.H5},a)),s.createElement(ae.a,{direction:ae.c.Right,label:Object(p.d)("Only you can see this panel.","PanelRecommendations")},s.createElement(se.a,{asset:se.b.Lock,height:15,width:15}))),!o&&s.createElement(Y.a,{padding:{top:1}},s.createElement(X.a,{type:X.e.Span},r)," ",l))),!o&&s.createElement(Y.a,{padding:{top:1}},s.createElement(_e,{createPanel:t,activatedPanelExtensions:n,extensionPanels:i})))},t}(s.Component),Ne=n("i4Ys"),Te=(n("8sUD"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isCreatingDefaultPanel:!1,isCreatingExtensionPanel:!1,isTypeSelectionMode:!1,errorMessage:""},t.createDefaultPanel=function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:this.setState({isCreatingDefaultPanel:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.createPanel({channelID:this.props.channelID,type:v.Ca.DEFAULT})];case 2:return e.sent(),this.setState({errorMessage:"",isTypeSelectionMode:!1,isCreatingDefaultPanel:!1}),[3,4];case 3:return e.sent(),this.setState({errorMessage:Object(p.d)("Failed to create Text/Image Panel, please try again.","CreatePanel"),isCreatingDefaultPanel:!1}),[3,4];case 4:return[2]}})})},t.createExtensionPanel=function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:this.setState({isCreatingExtensionPanel:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.createPanel({channelID:this.props.channelID,type:v.Ca.EXTENSION})];case 2:return e.sent(),this.setState({errorMessage:"",isTypeSelectionMode:!1,isCreatingExtensionPanel:!1}),[3,4];case 3:return e.sent(),this.setState({errorMessage:Object(p.d)("Failed to create Extension Panel, please try again.","CreatePanel"),isCreatingExtensionPanel:!1}),[3,4];case 4:return[2]}})})},t.toggleSelectionMode=function(){t.setState({isTypeSelectionMode:!t.state.isTypeSelectionMode})},t}return a.__extends(t,e),t.prototype.render=function(){var e=s.createElement(Ce.a,{fullWidth:!0,icon:se.b.NavSettings,onClick:this.createExtensionPanel,state:this.state.isCreatingExtensionPanel?Ce.c.Loading:Ce.c.Default,type:Ce.d.Hollow},Object(p.d)("Extension Panel","CreatePanel"));return this.state.isTypeSelectionMode?s.createElement(oe.a,{border:!0,background:ne.a.Alt2,className:"create-panel",margin:{bottom:2}},s.createElement(xe.b,{ratio:xe.c.Aspect3x4},s.createElement(Y.a,{padding:1},this.state.errorMessage&&s.createElement(X.a,{color:ne.c.Error},this.state.errorMessage),s.createElement(Y.a,{margin:{y:1}},s.createElement(Ce.a,{fullWidth:!0,icon:se.b.GridLayout,onClick:this.createDefaultPanel,state:this.state.isCreatingDefaultPanel?Ce.c.Loading:Ce.c.Default,type:Ce.d.Hollow},Object(p.d)("Add a Text or Image Panel","CreatePanel"))),this.props.canCreateExtensionPanel&&e))):s.createElement(oe.a,{border:!0,background:ne.a.Alt2,className:"create-panel",margin:{bottom:2}},s.createElement(Ne.a,{type:Ne.b.Alpha,onClick:this.toggleSelectionMode},s.createElement(xe.b,{ratio:xe.c.Aspect3x4},s.createElement(Y.a,{display:ie.d.Flex,alignItems:ie.b.Center,justifyContent:ie.h.Center,fullWidth:!0,fullHeight:!0},s.createElement(se.a,{asset:se.b.Plus,height:100,width:100,type:se.c.Placeholder})))))},t}(s.Component)),Re=n("kRBY"),Fe=n("KJdW"),Le=n.n(Fe),Ae=n("/ZC1"),Be=n("cZKs"),je=n("KGBd");n("xVpv");var Me=["image/*"],Ue={x:0,y:0,width:100,height:100},ze={x:0,y:0,width:320,height:180},We=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={base64Image:"",crop:Ue,error:"",file:void 0,isCropping:!1,pixelCrop:ze},t.onFilesSubmitted=function(e){var n=e[0],i=new FileReader;i.onloadend=function(){var e=i.result,o=new Image;o.onload=function(){var i,a,r,s,l,c,d,u=(i=o,a=ze.height,r=ze.width,s=i.height,l=i.width,{percentCrop:{x:0,y:0,height:((c=s>a)?a:s)/s*100,width:((d=l>r)?r:l)/l*100},pixelCrop:{x:0,y:0,height:c?a:s,width:d?r:l}}),p=u.percentCrop,m=u.pixelCrop;t.setState({base64Image:e,crop:p,file:n,isCropping:!0,pixelCrop:m})},o.onerror=function(){t.setState({error:"Failed to read file"})},o.src=e},i.onerror=function(){t.setState({error:"Failed to read file"})},i.readAsDataURL(n)},t.onImageSelectionComplete=function(){var e=t.state,n=e.file,i=e.pixelCrop;n&&(t.props.onImageSelectionComplete({file:n,pixelCrop:i,previewSrc:Object(je.a)(t.state.base64Image,t.state.pixelCrop.x,t.state.pixelCrop.y,t.state.pixelCrop.width,t.state.pixelCrop.height,t.state.pixelCrop.width,t.state.pixelCrop.height)}),t.props.onClose())},t.updateCrop=function(e,n){t.setState({crop:e,pixelCrop:n})},t}return a.__extends(t,e),t.prototype.render=function(){return s.createElement(oe.a,{background:ne.a.Base,className:"default-panel-image-picker",textAlign:ie.k.Center},this.state.base64Image?this.renderImageCropper():this.renderFilePicker(),s.createElement(Be.a,{closeOnBackdropClick:!this.state.isCropping}))},t.prototype.renderImageCropper=function(){return s.createElement(Y.a,{padding:2},s.createElement(Le.a,{src:this.state.base64Image,crop:this.state.crop,onChange:this.updateCrop,onComplete:this.updateCrop}),s.createElement(Y.a,{display:ie.d.Flex,flexDirection:ie.e.Row,margin:{top:1},justifyContent:ie.h.Center},s.createElement(Ce.a,{onClick:this.onImageSelectionComplete},Object(p.d)("Done","DefaultPanelImagePickerComponent")),s.createElement(Y.a,{margin:{left:1}},s.createElement(Ce.a,{onClick:this.props.onClose},Object(p.d)("Cancel","DefaultPanelImagePickerComponent")))))},t.prototype.renderFilePicker=function(){return s.createElement(xe.b,{ratio:xe.c.Aspect1x1},s.createElement(Ae.a,{allowedFileTypes:Me,multiFile:!1,onFilesSubmitted:this.onFilesSubmitted},s.createElement(Y.a,{display:ie.d.Flex,flexDirection:ie.e.Column},s.createElement(Y.a,null,s.createElement(se.a,{asset:se.b.Upload,type:se.c.Alt2,height:50,width:50})),s.createElement(X.a,{type:X.e.H3,color:ne.c.Alt2,fontSize:ne.d.Size4},Object(p.d)("Choose a file or drag it here.","DefaultPanelImagePickerComponent")))))},t}(s.Component);var qe=Object(o.connect)(null,function(e){return Object(b.bindActionCreators)({onClose:de.c},e)})(We),He=n("PZVp"),Ge=n("3aAs"),Ve=n("akKH"),Ye=n("Kae6"),Qe=n("b6Yk");function Xe(e,t){return a.__awaiter(this,void 0,Promise,function(){var n,i;return a.__generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Qe.a.post("/v5/users/"+e+"/upload_panel_image",{body:{height:t.height,width:t.width,left:t.x,top:t.y}})];case 1:return 200===(n=o.sent()).status&&n.body?[2,n.body]:[2,Promise.reject("Failed to fetch URL")];case 2:return i=o.sent(),[2,Promise.reject(i)];case 3:return[2]}})})}var Ke;n("U0Fp");!function(e){e.AddImage="add_image_selector",e.SavePanel="save_default_panel_selector"}(Ke||(Ke={}));var Je,Ze=1e6;!function(e){e[e.ImageUploadFailed=0]="ImageUploadFailed",e[e.ImageUploadSizeFailed=1]="ImageUploadSizeFailed",e[e.Unexpected=2]="Unexpected"}(Je||(Je={}));var $e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={canSave:!1,description:t.props.panel.description||"",errorMessage:"",imagePreviewSRC:"",imageURL:t.props.panel.imageURL||"",isSaving:!1,linkURL:t.props.panel.linkURL||"",title:t.props.panel.title||""},t.handleImageSelectionChanged=function(e){t.setState({canSave:!0,errorMessage:"",imageCrop:e.pixelCrop,imageFile:e.file,imagePreviewSRC:e.previewSrc})},t.handleInputChange=function(e){var n,i=e.currentTarget;t.setState(((n={canSave:!0,errorMessage:""})[i.name]=i.value,n))},t.handleDescriptionChange=function(e){var n,i=e.currentTarget;t.setState(((n={canSave:!0,errorMessage:""})[i.name]=i.value,n))},t.handleSaveComplete=function(){t.setState({canSave:!1,errorMessage:"",isSaving:!1})},t.handleErrorMessage=function(e){var n;switch(e){case Je.ImageUploadFailed:n=Object(p.d)("Image Upload Failed. Please try again.","DefaultPanelEditComponent");break;case Je.ImageUploadSizeFailed:n=Object(p.d)("Please choose a file smaller than {maxFileSize}.",{maxFileSize:"1MB"},"DefaultPanelEditComponent");break;case Je.Unexpected:default:n=Object(p.d)("Something went wrong. Please try again.","DefaultPanelEditComponent")}t.setState({errorMessage:n,isSaving:!1})},t.savePanel=function(){return a.__awaiter(t,void 0,void 0,function(){var e,t;return a.__generator(this,function(n){switch(n.label){case 0:if(!this.state.canSave)return[3,6];if(this.setState({isSaving:!0}),e=this.state.imageFile,t=this.state.imageCrop,e&&t)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.updatePanel({id:this.props.panel.id,imageURL:this.props.panel.imageURL,description:this.state.description,linkURL:this.state.linkURL,title:this.state.title})];case 2:return n.sent(),this.handleSaveComplete(),[3,4];case 3:return n.sent(),this.handleErrorMessage(Je.Unexpected),[3,4];case 4:return[3,6];case 5:this.saveWithPanelImage(),n.label=6;case 6:return[2]}})})},t.saveWithPanelImage=function(){return a.__awaiter(t,void 0,void 0,function(){var e,t,n,i,o,r=this;return a.__generator(this,function(s){switch(s.label){case 0:if(e=this.state.imageCrop,(t=this.state.imageFile).size>Ze)return this.handleErrorMessage(Je.ImageUploadSizeFailed),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Xe(this.props.channelID,e)];case 2:return o=s.sent(),i=o.upload_id,n=o.url,[3,4];case 3:return s.sent(),[2,this.handleErrorMessage(Je.Unexpected)];case 4:return this.unsubscribe=p.m.subscribe({topic:Object(w.G)(i),success:function(){var e,i;(e=n,i=t,fetch(e,{method:"PUT",body:new Blob([i])})).catch(function(){r.unsubscribe(),r.handleErrorMessage(Je.Unexpected)}),r.timeoutFunc=setTimeout(function(){r.unsubscribe(),r.handleErrorMessage(Je.ImageUploadFailed)},1e4)},failure:function(){r.handleErrorMessage(Je.Unexpected)},onMessage:function(e){return a.__awaiter(r,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:if(e.upload_id!==i)return[3,8];switch(clearTimeout(this.timeoutFunc),e.status){case He.a.POSTPROCESS_COMPLETE:return[3,1];case He.a.FILE_SIZE_VALIDATION_FAILED:return[3,5]}return[3,6];case 1:return t.trys.push([1,3,,4]),[4,this.props.updatePanel({id:this.props.panel.id,imageURL:"https://static-cdn.jtvnw.net/jtv_user_pictures/panel-"+this.props.channelID+"-image-"+i,description:this.state.description,linkURL:this.state.linkURL,title:this.state.title})];case 2:return t.sent(),this.handleSaveComplete(),[3,4];case 3:return t.sent(),this.handleErrorMessage(Je.ImageUploadFailed),[3,4];case 4:return[3,7];case 5:return this.handleErrorMessage(Je.ImageUploadSizeFailed),[3,7];case 6:this.handleErrorMessage(Je.Unexpected),t.label=7;case 7:this.unsubscribe&&this.unsubscribe(),t.label=8;case 8:return[2]}})})}}),[2]}})})},t.showDefaultPanelImagePicker=function(){t.props.showDefaultPanelImagePicker({onImageSelectionComplete:t.handleImageSelectionChanged})},t}return a.__extends(t,e),t.prototype.componentWillUnmount=function(){void 0!==this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){var e=this.props.panel,t=Object(p.d)("Supports {markdownLink} (No HTML)",{markdownLink:s.createElement("a",{href:"https://help.twitch.tv/customer/portal/articles/839490-markdown-basics",target:"_blank",rel:"noopener noreferrer"},Object(p.d)("Markdown","DefaultPanelEditComponent"))},"DefaultPanelEditComponent");return s.createElement(Y.a,{display:ie.d.Flex,flexDirection:ie.e.Column,padding:1},s.createElement(Y.a,{margin:{bottom:1}},s.createElement(Ve.a,{id:"panel-title",label:Object(p.d)("Panel Title","DefaultPanelEdit")},s.createElement(Ge.a,{defaultValue:e.title||"",id:"panel-title",name:"title",onChange:this.handleInputChange,type:Ge.c.Text}))),s.createElement(Y.a,{margin:{bottom:1}},s.createElement(Y.a,{display:ie.d.Flex,flexDirection:ie.e.Row,justifyContent:ie.h.Between,margin:{bottom:.5}},s.createElement(Ce.a,{onClick:this.showDefaultPanelImagePicker,"data-test-selector":Ke.AddImage},Object(p.d)("Add Image","DefaultPanelEdit")),s.createElement("img",{className:"panel-preview-image",src:this.state.imagePreviewSRC?this.state.imagePreviewSRC:e.imageURL||""})),s.createElement(X.a,{type:X.e.P},Object(p.d)("Images will be scaled to 320px wide","DefaultPanelEdit"))),s.createElement(Y.a,{margin:{bottom:1}},s.createElement(Ve.a,{id:"panel-link-url",label:Object(p.d)("Image Links To:","DefaultPanelEdit")},s.createElement(Ge.a,{defaultValue:e.linkURL||"",id:"panel-link-url",name:"linkURL",onChange:this.handleInputChange,type:Ge.c.Text}))),s.createElement(Y.a,{flexGrow:1,margin:{bottom:1}},s.createElement(Y.a,{display:ie.d.Flex,flexDirection:ie.e.Row,justifyContent:ie.h.Between,margin:{bottom:.5}},s.createElement(X.a,{type:X.e.Strong},Object(p.d)("Description:","DefaultPanelEdit")),s.createElement(Y.a,null,t)),s.createElement(Ye.a,{defaultValue:e.description||"",id:"description",name:"description",noResize:!0,onChange:this.handleDescriptionChange,rows:7})),s.createElement(Y.a,{textAlign:ie.k.Right},s.createElement(Ce.a,{type:Ce.d.Text,onClick:this.props.removePanel},Object(p.d)("Remove","DefaultPanelEdit")),s.createElement(Ce.a,{"data-test-selector":Ke.SavePanel,disabled:!this.state.canSave,onClick:this.savePanel,state:this.state.isSaving?Ce.c.Loading:Ce.c.Default},Object(p.d)("Submit","DefaultPanelEdit"))),s.createElement(Y.a,{textAlign:ie.k.Center},this.state.errorMessage&&s.createElement(X.a,{color:ne.c.Error},this.state.errorMessage)))},t}(s.Component);var et,tt=Object(o.connect)(function(e){return{authToken:Object(Re.a)(e)}},function(e){return{showDefaultPanelImagePicker:function(t){return e(Object(de.d)(qe,t))}}})($e),nt=n("uG/k"),it=n("eJ65"),ot=n("ygYM");n("EgbR");!function(e){e.ExtensionManagement="extension-management",e.LearnMore="learn-more"}(et||(et={}));var at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={feedbackFormSelected:!1},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.state.feedbackFormSelected;return s.createElement(it.a,null,s.createElement(re.a,{icon:se.b.More}),s.createElement(ot.a,{direction:ot.b.TopLeft,size:e?ot.c.Medium:ot.c.Small,offsetY:"-4px"},s.createElement(oe.a,{textAlign:ie.k.Left,padding:{top:.5,bottom:.5},color:ne.c.Base},s.createElement(Ne.a,{"data-test-selector":et.ExtensionManagement,linkTo:Object(ye.e)(this.props.channelLogin),targetBlank:!0},s.createElement(Y.a,{padding:{y:.5,x:1}},s.createElement(X.a,null,Object(p.d)("Extension Manager","ExtensionPanelHelpButton")))),s.createElement(Ne.a,{linkTo:"https://www.twitch.tv/creatorcamp/en/level-up/extensions/",targetBlank:!0},s.createElement(Y.a,{padding:{y:.5,x:1}},s.createElement(X.a,null,Object(p.d)("Creator Camp","ExtensionPanelHelpButton")))),s.createElement(Ne.a,{"data-test-selector":et.LearnMore,linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions",targetBlank:!0},s.createElement(Y.a,{padding:{y:.5,x:1}},s.createElement(X.a,null,Object(p.d)("Learn More","ExtensionPanelHelpButton")))))))},t}(s.Component),rt=function(e){var t=e.channelLogin,n=e.children;return s.createElement(Y.a,{display:ie.d.Flex,fullWidth:!0,justifyContent:ie.h.Between},s.createElement(at,{channelLogin:t}),s.createElement(Y.a,null,n))},st=(n("b5uE"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickConfigure=function(){var e=t.props,n=e.showExtensionConfigureModal,i=e.extensionInstallation;if(i){var o=i.extension;n({extensionID:o.id+"-"+o.version,includeActivateOption:!0})}},t}return a.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.channelLogin,i=t.extensionInstallation,o=t.extensionPanelCount,a=t.panel,r=t.removePanel,l=Object(p.d)("Remove","ExtensionPanelEdit");if(i&&void 0!==o){var c=i.extension,d=c.iconUrls,u=c.name;e=s.createElement(s.Fragment,null,s.createElement(Y.a,{flexGrow:1},s.createElement(Y.a,{alignItems:ie.b.Center,display:ie.d.Flex,padding:{bottom:2,x:2}},s.createElement(nt.a,{alt:u,className:"extension-panel-edit__extension-icon",src:d.square100}),s.createElement(Y.a,{padding:{left:1}},s.createElement(X.a,{type:X.e.Strong},u))),s.createElement(X.a,null,Object(p.d)("Panel Extension {panelExtensionNumber} of {totalPanelExtensionsAvailable}",{panelExtensionNumber:o,totalPanelExtensionsAvailable:fe.a},"ExtensionPanelEdit"))),s.createElement(rt,{channelLogin:n},s.createElement(Ce.a,{type:Ce.d.Text,onClick:r},l),s.createElement(Ce.a,{onClick:this.onClickConfigure},Object(p.d)("Configure","ExtensionPanelEdit"))))}else{var m=Object(p.d)("This panel's name is: {panelName}",{panelName:s.createElement(X.a,{bold:!0,type:X.e.Span,transform:X.d.Uppercase},a.slotID)},"ExtensionPanelEdit");e=s.createElement(s.Fragment,null,s.createElement(Y.a,{flexGrow:1},s.createElement(Y.a,{padding:{bottom:2}},s.createElement(X.a,null,Object(p.d)("To add an Extension to this space, activate it in your Extension Manager.","Edit Extension Panel"))),s.createElement(Y.a,{padding:{y:2}},s.createElement(Ce.a,{linkTo:Object(ye.e)(n)},Object(p.d)("Extension Manager","Edit Extension Panel"))),s.createElement(Y.a,{padding:{y:2}},s.createElement(X.a,null,m))),s.createElement(rt,{channelLogin:n},s.createElement(Ce.a,{type:Ce.d.Text,onClick:r},l)))}return s.createElement(Y.a,{alignItems:ie.b.Center,display:ie.d.Flex,flexDirection:ie.e.Column,padding:1,textAlign:ie.k.Center},s.createElement(Y.a,{padding:4},s.createElement(se.a,{asset:se.b.Extensions,type:se.c.Brand,height:40,width:40})),e)},t}(s.PureComponent));var lt,ct=Object(o.connect)(null,function(e){return Object(b.bindActionCreators)({showExtensionConfigureModal:function(e){var t=a.__rest(e,[]);return Object(de.d)(me.a,t)}},e)})(st),dt=(n("abgr"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isRemoving:!1,showRemoveConfirmation:!1},t.logger=p.k.withCategory("EditPanel"),t.cancelRemovePanel=function(){t.setState({showRemoveConfirmation:!1})},t.confirmRemovePanel=function(){return a.__awaiter(t,void 0,void 0,function(){var e;return a.__generator(this,function(t){switch(t.label){case 0:this.setState({isRemoving:!0}),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.props.deletePanel(this.props.panel)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.logger.warn("Failed to delete panel",e),this.setState({isRemoving:!1,showRemoveConfirmation:!1}),[3,4];case 4:return[2]}})})},t.removePanel=function(){t.setState({showRemoveConfirmation:!0})},t}return a.__extends(t,e),t.prototype.render=function(){var e=null;return"DefaultPanel"===this.props.panel.__typename?e=s.createElement(tt,{channelID:this.props.channelID,panel:this.props.panel,removePanel:this.removePanel,updatePanel:this.props.updatePanel}):"ExtensionPanel"===this.props.panel.__typename&&(e=s.createElement(ct,{channelLogin:this.props.channelLogin,extensionInstallation:this.props.extensionInstallation,extensionPanelCount:this.props.extensionPanelCount,panel:this.props.panel,removePanel:this.removePanel})),s.createElement(Y.a,{position:ie.j.Relative},this.state.showRemoveConfirmation&&this.renderRemovingOverlay(),s.createElement(oe.a,{border:!0,background:ne.a.Alt2,className:"edit-panel "+(this.props.isSorting?"edit-panel--sorting":""),margin:{bottom:2}},s.createElement(xe.b,{ratio:xe.c.Aspect3x4},e)))},t.prototype.renderRemovingOverlay=function(){var e,t=this.props,n=t.extensionInstallation,i=t.isSorting;return e=n?Object(p.d)("Removing this panel will deactivate this extension. Are you sure you want to remove this panel?","EditPanel"):Object(p.d)("Are you sure you want to remove this panel?","EditPanel"),s.createElement(oe.a,{border:!0,className:"edit-panel edit-panel--overlay "+(i?"edit-panel--sorting":""),position:ie.j.Absolute,zIndex:ie.n.Default},s.createElement(xe.b,{ratio:xe.c.Aspect3x4},s.createElement(Y.a,{alignItems:ie.b.Center,display:ie.d.Flex,flexDirection:ie.e.Column,justifyContent:ie.h.Center,padding:2,textAlign:ie.k.Center},s.createElement(X.a,{color:ne.c.Overlay},e),s.createElement(Y.a,{margin:{top:2}},s.createElement(Ce.a,{type:Ce.d.Text,onClick:this.cancelRemovePanel,overlay:!0},Object(p.d)("Cancel","EditPanel")),s.createElement(Y.a,{display:ie.d.InlineBlock,margin:{left:1}},s.createElement(Ce.a,{"data-test-selector":"confirm_delete_panel_selector",state:this.state.isRemoving?Ce.c.Loading:Ce.c.Default,onClick:this.confirmRemovePanel},Object(p.d)("Remove","EditPanel")))))))},t}(s.PureComponent)),ut=Object(u.SortableElement)(function(e){return s.createElement(Y.a,{margin:{x:1}},s.createElement(dt,{channelID:e.channelID,channelLogin:e.channelLogin,extensionInstallation:e.extensionInstallation,extensionPanelCount:e.extensionPanelCount,panel:e.panel,deletePanel:e.deletePanel,updatePanel:e.updatePanel,isSorting:e.isSorting}))}),pt=Object(u.SortableContainer)(function(e){var t=0,n=e.items.map(function(n,i){var o,a=!1;return"ExtensionPanel"===n.__typename&&(o=e.extensionSlots[n.slotID],a=!0,t++),s.createElement(ut,{key:n.id,channelID:e.channelID,channelLogin:e.channelLogin,extensionInstallation:o,extensionPanelCount:a?t:void 0,updatePanel:e.updatePanel,deletePanel:e.deletePanel,isSorting:e.isSorting,index:i,panel:n})}),i=t<fe.a,o=s.createElement(Y.a,{margin:{x:.5}},s.createElement(Te,{key:"create-panel",canCreateExtensionPanel:i,createPanel:e.createPanel,channelID:e.channelID}));return s.createElement(Y.a,{display:ie.d.Flex,flexDirection:ie.e.Row,flexWrap:ie.f.Wrap,justifyContent:ie.h.Center},n,o)}),mt=n("Oz8M"),ht=n("saS/"),ft=n("Rsna"),gt=n("ry+o"),vt=n("Og0W");n("1pP+");!function(e){e.Container="channel_panels_container_selector",e.EmptyMessage="no_panels_message",e.Masonry="masonry_container_selector",e.EditToggle="channel_panels_toggle_selector",e.Sortable="sortable_edit_panel_list_selector"}(lt||(lt={}));var yt={columnWidth:320,fitWidth:!0,gutter:20,horizontalOrder:!0,transitionDuration:"0"},bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={destroyedExtensions:[],isEditMode:!1,isSorting:!1,popout:{}},t.shouldShowRecommendations=!1,t.onSortStart=function(){t.setState({isSorting:!0})},t.toggleEditMode=function(){t.setState(function(e){var n=!e.isEditMode;return Object(G.c)({channelID:t.props.channelID,channelLogin:t.props.channelLogin,editModeOn:n}),{isEditMode:n}})},t.onExtensionPoppedOut=function(e,n,i){var o;t.setState({popout:a.__assign({},t.state.popout,(o={},o[Object(M.d)(e,n)]=i,o))})},t.onExtensionPopoutRestored=function(e,n){var i=Object(M.d)(e,n),o=t.state.popout[i];o&&o.window&&o.window.close();var a=Object.keys(t.state.popout).filter(function(e){return e!==i}).reduce(function(e,n){return e[n]=t.state.popout[n],e},{});t.setState({popout:a})},t.layoutMasonry=function(){t.masonryInstance&&t.masonryInstance.layout&&t.masonryInstance.layout()},t.saveMasonryRef=function(e){e&&(t.masonryInstance=e.masonry)},t.updatePanelOrder=function(e){t.setState({isSorting:!1});var n=t.props.channelPanelsData.user;if(n){var i=Object(u.arrayMove)(n.panels,e.oldIndex,e.newIndex),o=i.map(function(e){return e&&e.id}).filter(function(e){return e});t.props.orderPanels(Object(f.a)({ids:o})),Object(f.g)(vt,{id:t.props.channelID},function(e){return e.user&&(e.user.panels=i),e})}},t.createPanel=function(e){return a.__awaiter(t,void 0,void 0,function(){var t;return a.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.props.createPanel(Object(f.a)(a.__assign({},e,{channelID:this.props.channelID})))];case 1:return t=n.sent().data,Object(f.g)(vt,{id:this.props.channelID},function(e){return t.createPanel&&e.user&&e.user.panels.push(t.createPanel.panel),e}),t.createPanel?[2,t.createPanel.panel]:[2,Promise.reject("Failed to create panel")];case 2:return n.sent(),[2,Promise.reject("Failed to create panel")];case 3:return[2]}})})},t.deletePanel=function(e){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.props.deletePanel(Object(f.a)(e))];case 1:return t.sent(),Object(f.g)(vt,{id:this.props.channelID},function(t){return t.user&&(t.user.panels=t.user.panels.filter(function(t){return t&&t.id!==e.id})),t}),[2]}})})},t.updatePanel=function(e){return t.props.updatePanel(Object(f.a)(e))},t.canEditPanels=function(){var e=t.props.channelPanelsData,n=e.currentUser,i=e.user;return!!(n&&n.id&&i&&n.id===i.id)||!!(n&&n.roles&&n.roles.isSiteAdmin)},t}return a.__extends(t,e),t.prototype.componentDidUpdate=function(){this.props.channelPanelsData.loading||this.props.latencyTracking.reportInteractive()},t.prototype.componentWillReceiveProps=function(e){this.props.channelID!==e.channelID&&this.setState({isEditMode:!1}),this.props.rightColumnExpanded===e.rightColumnExpanded&&this.props.sideNavExpanded===e.sideNavExpanded||this.layoutMasonry()},t.prototype.render=function(){var e,t=this.props.extensionsForChannel.fetchedChannelID,n=this.props.channelPanelsData,i=n.error,o=n.loading,a=n.user,r=null;o||this.props.channelID!==t?e=s.createElement(z.a,null):r=this.state.isEditMode?s.createElement(Y.a,null,this.renderEditPanels()):i||!a||a&&!a.panels.length?s.createElement(oe.a,{color:ne.c.Alt2,padding:{y:5},textAlign:ie.k.Center,"data-test-selector":lt.EmptyMessage},s.createElement(X.a,{italic:!0,fontSize:ne.d.Size4},Object(p.d)("It's empty in here","ChannelPanels"))):s.createElement(d.a,{className:"channel-panels-container",options:yt,"data-test-selector":lt.Masonry,ref:this.saveMasonryRef},this.renderPanels());var l=s.createElement(Y.a,{display:ie.d.Flex,margin:{bottom:2},"data-test-selector":lt.EditToggle},s.createElement(te.a,{id:"edit-panels-toggle",onChange:this.toggleEditMode}),s.createElement(Y.a,{margin:{left:1}},s.createElement(X.a,null,Object(p.d)("Edit Panels","Channel Panels"))));return e||(e=s.createElement(j,{channelID:this.props.channelID},s.createElement(Y.a,{className:"channel-panels","data-test-selector":lt.Container},this.canEditPanels()&&l,r))),s.createElement("div",null,e)},t.prototype.renderEditPanels=function(){var e=this.props.channelPanelsData,t=e.currentUser,n=e.user;if(!n||!n.id||!n.login)return null;var i=this.getExtensionPanelSlots(),o=Object.keys(i).length,a=!!t&&t.id===n.id;this.shouldShowRecommendations=a&&(this.shouldShowRecommendations||0===o&&"test"===p.q.experiments.getAndTrackAssignment(g.b.ExtensionPanelRecommendations));var r=n.panels.filter(function(e){return e}),l=r.filter(function(e){return e.type===v.Ca.EXTENSION});return s.createElement(s.Fragment,null,s.createElement(m.a,{name:"extension_panel_recommendations"},this.shouldShowRecommendations&&s.createElement(Oe,{channelID:this.props.channelID,createPanel:this.createPanel,activatedPanelExtensions:i,extensionPanels:l})),s.createElement(Y.a,{padding:{top:2}},s.createElement(pt,{axis:"xy",channelID:n.id,channelLogin:n.login,createPanel:this.createPanel,deletePanel:this.deletePanel,distance:20,extensionSlots:i,isSorting:this.state.isSorting,items:r,onSortEnd:this.updatePanelOrder,onSortStart:this.onSortStart,updatePanel:this.updatePanel})))},t.prototype.renderPanels=function(){var e=this,t=this.props.channelPanelsData,n=t.currentUser,i=t.user;if(!i||!i.id||!i.login)return null;var o=i.id,a=i.login,l=this.getExtensionPanelSlots();return i.panels.map(function(t,i){if(!t)return null;if("ExtensionPanel"===t.__typename&&t.slotID){var c=l[t.slotID];if(c&&!e.state.destroyedExtensions.includes(c.id)){var d=void 0!==e.state.popout[Object(M.e)(c)];return s.createElement("div",{key:t.id},s.createElement(ee.a,{channelID:o,channelLogin:a,installation:c,isFramePoppedOut:d,isPopout:!1,login:n&&n.login,loginID:n&&n.id,mode:r.ExtensionMode.Viewer,onExtensionLoaded:e.layoutMasonry,onExtensionPopoutClosed:e.onExtensionPopoutRestored,onExtensionPoppedOut:e.onExtensionPoppedOut,panel:t}))}}else if("DefaultPanel"===t.__typename)return s.createElement($,{channelID:o,"data-a-target":"panel-"+i,key:t.id,panel:t})})},t.prototype.getExtensionPanelSlots=function(){var e=this.props.extensionsForChannel.installedExtensions;return e?e.reduce(function(e,t){var n=t.activationConfig;return t.extension.token&&n.state===r.ExtensionActivationStatus.Active&&n.anchor===r.ExtensionAnchor.Panel&&(e[n.slot]=t),e},{}):{}},t}(s.Component),Et=Object(l.compose)(Object(U.withLatencyTracking)("ChannelPanels"),Object(h.a)(vt,{name:"channelPanelsData",options:function(e){return{variables:{id:e.channelID}}}}),Object(h.a)(mt,{name:"createPanel"}),Object(h.a)(ht,{name:"deletePanel"}),Object(h.a)(gt,{name:"updatePanel"}),Object(h.a)(ft,{name:"orderPanels"}),Object(y.c)({name:"extensionsForChannel",options:function(e){return{variables:{channelID:e.channelID}}}}))(bt);var xt=Object(o.connect)(function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded,sideNavExpanded:e.ui.sideNavExpanded}})(Et);n.d(t,"PublicProps",function(){}),n.d(t,"ChannelPanels",function(){return xt})},GNKm:function(e,t,n){"use strict";var i=n("GOnX");e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function a(e){return o(e).object}return{makeDetectable:function(e,a,r){r||(r=a,a=e,e=null),(e=e||{}).debug,i.isIE(8)?r(a):function(e,a){var r="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",s=!1,l=window.getComputedStyle(e),c=e.offsetWidth,d=e.offsetHeight;function u(){function n(){if("static"===l.position){e.style.position="relative";var n=function(e,t,n,i){var o=n[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",t),t.style[i]=0)};n(t,e,l,"top"),n(t,e,l,"right"),n(t,e,l,"bottom"),n(t,e,l,"left")}}""!==l.position&&(n(),s=!0);var c=document.createElement("object");c.style.cssText=r,c.tabIndex=-1,c.type="text/html",c.onload=function(){s||n(),function e(t,n){t.contentDocument?n(t.contentDocument):setTimeout(function(){e(t,n)},100)}(this,function(t){a(e)})},i.isIE()||(c.data="about:blank"),e.appendChild(c),o(e).object=c,i.isIE()&&(c.data="about:blank")}o(e).startSize={width:c,height:d},n?n.add(u):u()}(a,r)},addListener:function(e,t){if(!a(e))throw new Error("Element is not detectable by this strategy.");function n(){t(e)}i.isIE(8)?(o(e).object={proxy:n},e.attachEvent("onresize",n)):a(e).contentDocument.defaultView.addEventListener("resize",n)},uninstall:function(e){i.isIE(8)?e.detachEvent("onresize",o(e).object.proxy):e.removeChild(a(e)),delete o(e).object}}}},GOnX:function(e,t,n){"use strict";var i=e.exports={};i.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},i.isLegacyOpera=function(){return!!window.opera}},"Go5+":function(e,t,n){},Hy43:function(e,t,n){var i,o;!function(a,r){"use strict";i=[n("CUlp"),n("QK1G"),n("YVj6"),n("KK1e")],void 0===(o=function(e,t,n,i){return function(e,t,n,i,o){var a=e.console,r=e.jQuery,s=function(){},l=0,c={};function d(e,t){var n=i.getQueryElement(e);if(n){this.element=n,r&&(this.$element=r(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t);var o=++l;this.element.outlayerGUID=o,c[o]=this,this._create();var s=this._getOption("initLayout");s&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(n||e))}d.namespace="outlayer",d.Item=o,d.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var u=d.prototype;function p(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}i.extend(u,t.prototype),u.option=function(e){i.extend(this.options,e)},u._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},d.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},u._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle);var e=this._getOption("resize");e&&this.bindResize()},u.reloadItems=function(){this.items=this._itemize(this.element.children)},u._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],o=0;o<t.length;o++){var a=t[o],r=new n(a,this);i.push(r)}return i},u._filterFindItemElements=function(e){return i.filterFindElements(e,this.options.itemSelector)},u.getItemElements=function(){return this.items.map(function(e){return e.element})},u.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},u._init=u.layout,u._resetLayout=function(){this.getSize()},u.getSize=function(){this.size=n(this.element)},u._getMeasurement=function(e,t){var i,o=this.options[e];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[e]=i?n(i)[t]:o):this[e]=0},u.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},u._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},u._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach(function(e){var i=this._getItemLayoutPosition(e);i.item=e,i.isInstant=t||e.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},u._getItemLayoutPosition=function(){return{x:0,y:0}},u._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},u.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],i=t&&t[2];if(!n.length)return 0;n=parseFloat(n);var o=m[i]||1;return n*o}(e),this.stagger;this.stagger=0},u._positionItem=function(e,t,n,i,o){i?e.goTo(t,n):(e.stagger(o*this.stagger),e.moveTo(t,n))},u._postLayout=function(){this.resizeContainer()},u.resizeContainer=function(){var e=this._getOption("resizeContainer");if(e){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},u._getContainerSize=s,u._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},u._emitCompleteOnItems=function(e,t){var n=this;function i(){n.dispatchEvent(e+"Complete",null,[t])}var o=t.length;if(t&&o){var a=0;t.forEach(function(t){t.once(e,r)})}else i();function r(){++a==o&&i()}},u.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),r)if(this.$element=this.$element||r(this.element),t){var o=r.Event(t);o.type=e,this.$element.trigger(o,n)}else this.$element.trigger(e,n)},u.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},u.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},u.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},u.unstamp=function(e){(e=this._find(e))&&e.forEach(function(e){i.removeFrom(this.stamps,e),this.unignore(e)},this)},u._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=i.makeArray(e)},u._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},u._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},u._manageStamp=s,u._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,o=n(e),a={left:t.left-i.left-o.marginLeft,top:t.top-i.top-o.marginTop,right:i.right-t.right-o.marginRight,bottom:i.bottom-t.bottom-o.marginBottom};return a},u.handleEvent=i.handleEvent,u.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},u.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},u.onresize=function(){this.resize()},i.debounceMethod(d,"onresize",100),u.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},u.needsResizeLayout=function(){var e=n(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},u.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},u.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},u.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},u.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,n){e.stagger(n*t),e.reveal()})}},u.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,n){e.stagger(n*t),e.hide()})}},u.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},u.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},u.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},u.getItems=function(e){e=i.makeArray(e);var t=[];return e.forEach(function(e){var n=this.getItem(e);n&&t.push(n)},this),t},u.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),i.removeFrom(this.items,e)},this)},u.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,r&&r.removeData(this.element,this.constructor.namespace)},d.data=function(e){var t=(e=i.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},d.create=function(e,t){var n=p(d);return n.defaults=i.extend({},d.defaults),i.extend(n.defaults,t),n.compatOptions=i.extend({},d.compatOptions),n.namespace=e,n.data=d.data,n.Item=p(o),i.htmlInit(n,e),r&&r.bridget&&r.bridget(e,n),n};var m={ms:1,s:1e3};return d.Item=o,d}(a,e,t,n,i)}.apply(t,i))||(e.exports=o)}(window)},JxAY:function(e,t,n){},KGBd:function(e,t,n){"use strict";function i(e,t,n,i,o,a,r){var s=document.createElement("canvas");s.width=a,s.height=r;var l=s.getContext("2d"),c="";if(l){var d=new Image;d.src=e,l.drawImage(d,t,n,i,o,0,0,a,r),c=s.toDataURL("image/png")}return s.remove(),c}n.d(t,"a",function(){return i})},KK1e:function(e,t,n){var i,o,a;window,o=[n("CUlp"),n("QK1G")],void 0===(a="function"==typeof(i=function(e,t){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",o="string"==typeof n.transform?"transform":"WebkitTransform",a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],r={transform:o,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function s(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=s.prototype=Object.create(e.prototype);l.constructor=s,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var n in e){var i=r[n]||n;t[i]=e[n]}},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=e[t?"left":"right"],o=e[n?"top":"bottom"],a=parseFloat(i),r=parseFloat(o),s=this.layout.size;-1!=i.indexOf("%")&&(a=a/100*s.width),-1!=o.indexOf("%")&&(r=r/100*s.height),a=isNaN(a)?0:a,r=isNaN(r)?0:r,a-=t?s.paddingLeft:s.paddingRight,r-=n?s.paddingTop:s.paddingBottom,this.position.x=a,this.position.y=r},l.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",a=n?"left":"right",r=n?"right":"left",s=this.position.x+e[o];t[a]=this.getXValue(s),t[r]="";var l=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",d=i?"bottom":"top",u=this.position.y+e[l];t[c]=this.getYValue(u),t[d]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,o=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!o||this.isTransitioning){var a=e-n,r=t-i,s={};s.transform=this.getTranslate(a,r),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){var n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop");return"translate3d("+(e=n?e:-e)+"px, "+(t=i?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);e.from&&(this.css(e.from),this.element.offsetHeight),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+o.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(a,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var d={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=d[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd){var i=t.onEnd[n];i.call(this),delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(a,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var u={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(u)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s})?i.apply(t,o):i)||(e.exports=a)},LO96:function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},MM5q:function(e,t,n){"use strict";var i=n("mrSG"),o=n("q1tI"),a=n("cZKs"),r=n("xPN0"),s=n("/7QA"),l=n("sUnt"),c=n("+80q"),d=function(){return o.createElement(l.a,null,o.createElement(c.a,null,Object(s.d)("There was an error. Please try again later.","ExtensionErrorModal")))};d.displayName="ExtensionErrorModalPresentation";var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){return o.createElement(r.a,null,o.createElement(d,null),o.createElement(a.a,{closeOnBackdropClick:!0}))},t}(o.Component),p=u;n.d(t,!1,function(){return u}),n.d(t,"a",function(){return p})},NAeX:function(e,t,n){},"NN+d":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ExtensionRecommendationsInstallExtension"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"InstallExtensionInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"installExtension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"installedExtension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:221}};n.loc.source={body:"mutation ExtensionRecommendationsInstallExtension ($input: InstallExtensionInput!) {\ninstallExtension(input: $input) {\ninstalledExtension {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nversion\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},Nxrd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=t.sortableHandle=t.sortableElement=t.sortableContainer=t.SortableHandle=t.SortableElement=t.SortableContainer=void 0;var i=n("jTc+");Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return i.arrayMove}});var o=s(n("ezMb")),a=s(n("hk6T")),r=s(n("BCEg"));function s(e){return e&&e.__esModule?e:{default:e}}t.SortableContainer=o.default,t.SortableElement=a.default,t.SortableHandle=r.default,t.sortableContainer=o.default,t.sortableElement=a.default,t.sortableHandle=r.default},Og0W:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPanels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"panels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelPanelsPanel"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"channelPanelsPanel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Panel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"channelPanelsDefaultPanel"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"channelPanelsExtensionPanel"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"channelPanelsExtensionPanel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"channelPanelsDefaultPanel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}],loc:{start:0,end:421}};n.loc.source={body:"query ChannelPanels($id: ID!) {\ncurrentUser {\nid\nlogin\nroles {\nisStaff\nisSiteAdmin\n}\n}\nuser(id: $id) {\nid\nlogin\npanels {\n...channelPanelsPanel\n}\n}\n}\nfragment channelPanelsPanel on Panel {\n...channelPanelsDefaultPanel\n...channelPanelsExtensionPanel\n}\nfragment channelPanelsExtensionPanel on ExtensionPanel {\nid\ntype\nslotID\n}\nfragment channelPanelsDefaultPanel on DefaultPanel {\nid\ntype\ntitle\nimageURL\nlinkURL\ndescription\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},Oz8M:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsCreatePanel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePanelInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPanel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation ChannelPanelsCreatePanel($input: CreatePanelInput!) {\ncreatePanel(input: $input) {\npanel {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},OzNJ:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return d}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return h});var i,o,a,r=n("1hWM"),s=n("DMoW");function l(e){var t=[];return e.subscriptionsSupportLevel!==s.W.NONE&&t.push(i.ChannelReadSubscriptions),t}function c(e){return e.bitsSupportLevel?e.bitsSupportLevel:e.isBitsEnabled?s.S.REQUIRED:s.S.NONE}function d(e){var t=c(e);return t===s.S.REQUIRED||t===s.S.OPTIONAL?o.Bits:e.vendorCode&&e.sku?o.InExtensionPurchases:null}function u(e){var t=[];return e.component&&e.component.viewerURL&&t.push(s.R.COMPONENT),e.panel&&e.panel.viewerURL&&t.push(s.R.PANEL),e.videoOverlay&&e.videoOverlay.viewerURL&&t.push(s.R.VIDEO_OVERLAY),t}function p(e){var t=[r.ExtensionPlatform.Web];return e.mobile&&e.mobile.viewerURL&&t.push(r.ExtensionPlatform.Mobile),t}function m(e,t){return e+":"+t}function h(e){return m(e.extension.id,e.extension.version)}!function(e){e.ChannelReadSubscriptions="channel:read:subscriptions"}(i||(i={})),function(e){e[e.Bits=0]="Bits",e[e.InExtensionPurchases=1]="InExtensionPurchases"}(o||(o={})),function(e){e[e.Deactivate=0]="Deactivate",e[e.Replace=1]="Replace",e[e.Uninstall=2]="Uninstall"}(a||(a={}))},PZVp:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.REQUESTED=0]="REQUESTED",e[e.POSTPROCESS_STARTED=1]="POSTPROCESS_STARTED",e[e.POSTPROCESS_COMPLETE=2]="POSTPROCESS_COMPLETE",e[e.COMPLETE=3]="COMPLETE",e[e.VALIDATION_FAILED=4]="VALIDATION_FAILED",e[e.POSTPROCESS_FAILED=5]="POSTPROCESS_FAILED",e[e.POSTPROCESS_RETRYING=6]="POSTPROCESS_RETRYING",e[e.FEATURE_SERVICE_FAILED=7]="FEATURE_SERVICE_FAILED",e[e.IS_IMAGE_VALIDATION_FAILED=110]="IS_IMAGE_VALIDATION_FAILED",e[e.ASPECT_RATIO_VALIDATION_FAILED=111]="ASPECT_RATIO_VALIDATION_FAILED",e[e.WIDTH_VALIDATION_FAILED=112]="WIDTH_VALIDATION_FAILED",e[e.HEIGHT_VALIDATION_FAILED=113]="HEIGHT_VALIDATION_FAILED",e[e.IMAGE_FORMAT_VALIDATION_FAILED=114]="IMAGE_FORMAT_VALIDATION_FAILED",e[e.FILE_SIZE_VALIDATION_FAILED=120]="FILE_SIZE_VALIDATION_FAILED",e[e.TRANSFORMATION_FAILED=210]="TRANSFORMATION_FAILED",e[e.PROCESSING_FAILED=220]="PROCESSING_FAILED"}(i||(i={}))},QK1G:function(e,t,n){var i;!function(o,a){"use strict";void 0===(i=function(){return function(){function e(e){var t=parseFloat(e),n=-1==e.indexOf("%")&&!isNaN(t);return n&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function o(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}var a,r=!1;function s(t){if(function(){if(r)return;r=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var i=o(t);s.isBoxSizeOuter=a=200==e(i.width),n.removeChild(t)}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=o(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<i;t++){var o=n[t];e[o]=0}return e}();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var d=c.isBorderBox="border-box"==l.boxSizing,u=0;u<i;u++){var p=n[u],m=l[p],h=parseFloat(m);c[p]=isNaN(h)?0:h}var f=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,v=c.marginLeft+c.marginRight,y=c.marginTop+c.marginBottom,b=c.borderLeftWidth+c.borderRightWidth,E=c.borderTopWidth+c.borderBottomWidth,x=d&&a,k=e(l.width);!1!==k&&(c.width=k+(x?0:f+b));var C=e(l.height);return!1!==C&&(c.height=C+(x?0:g+E)),c.innerWidth=c.width-(f+b),c.innerHeight=c.height-(g+E),c.outerWidth=c.width+v,c.outerHeight=c.height+y,c}}return s}()}.call(t,n,t,e))||(e.exports=i)}(window)},Rsna:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsOrderPanels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OrderPanelsInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderPanels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:206}};n.loc.source={body:"mutation ChannelPanelsOrderPanels($input: OrderPanelsInput!) {\norderPanels(input: $input) {\npanels {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"SN/u":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i,o,a=n("mrSG"),r=n("TSYQ"),s=n("q1tI"),l=n("/7QA"),c=n("GnwI"),d=n("7uM4"),u=n("sUnt"),p=n("hnjF"),m=n("Ws8v"),h=n("X2PJ"),f=n("i4Ys"),g=n("IbuL"),v=(n("inLc"),"[data-js-selector=carousel-content]");!function(e){e.Previous="previous",e.Next="next"}(o||(o={}));var y=((i={})[o.Previous]=d.b.AngleLeft,i[o.Next]=d.b.AngleRight,i),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentElementIndex:0,childrenRendered:!1,windowWidth:window.innerWidth},t.onResize=function(){t.setState({windowWidth:window.innerWidth})},t.moveCarouselForward=function(){if(!t.isForwardButtonDisabled()&&t.props.items){for(var e=t.getCarouselChildren(),n=t.getCarouselWidth(),i=t.state.currentElementIndex+1,o=i;o<e.length;o++){if(e[o].getBoundingClientRect().right-t.getBaseOffset()>n){i=o;break}}t.setState({currentElementIndex:i})}},t.moveCarouselBackward=function(){if(!t.isBackButtonDisabled()){for(var e=t.getCarouselChildren(),n=t.getCarouselWidth(),i=t.state.currentElementIndex-1,o=i-1;o>=0;o--){if(n<-1*(e[o].getBoundingClientRect().left-t.getBaseOffset()))break;i=o}t.setState({currentElementIndex:i})}},t.isForwardButtonDisabled=function(){if(!t.carouselContainerRef)return!0;if(t.props.items){var e=t.getCarouselWidth(),n=t.getCarouselChildren();if(t.state.currentElementIndex>=n.length-1)return!0;var i=n[t.state.currentElementIndex].getBoundingClientRect().left;if(n[n.length-1].getBoundingClientRect().right-i>e)return!1}return!0},t.isBackButtonDisabled=function(){return 0===t.state.currentElementIndex},t.getCarouselChildren=function(){if(!t.carouselContainerRef)return[];var e=t.getCarouselSlider();return e&&e.children.length?Array.prototype.slice.call(e.children):[]},t.getCarouselSlider=function(){return t.carouselContainerRef&&t.carouselContainerRef.querySelector(v)},t.getCarouselRect=function(){return t.carouselContainerRef&&t.carouselContainerRef.getBoundingClientRect()},t.getSliderRect=function(){var e=t.getCarouselSlider();if(e)return e.getBoundingClientRect()},t.getCarouselWidth=function(){var e=t.getCarouselRect();return e?e.width:0},t.getBaseOffset=function(){var e=t.getCarouselRect();return e?e.left:0},t.getChildOffset=function(e){var n=t.getCarouselChildren();return 0===n.length||n.length<=e?0:n[e].getBoundingClientRect().left},t.transformString=function(){var e=t.getSliderRect(),n=0,i=0;e&&(n=e.left,i=e.width);var o=t.getChildOffset(t.state.currentElementIndex)-n,a=i-o,r=t.getCarouselWidth();return a<r&&(o=i-r),-o+"px"},t.refHandler=function(e){return t.state.childrenRendered||null===t.props.items||t.setState({childrenRendered:!0}),t.carouselContainerRef=e},t.renderNavButton=function(e,n,i){var a,c=((a={})[o.Previous]=Object(l.d)("previous","MediaCarouselNavButton"),a[o.Next]=Object(l.d)("next","MediaCarouselNavButton"),a),d=r("media-carousel__button",{"media-carousel__button--previous":e===o.Previous,"media-carousel__button--next":e===o.Next,"media-carousel__button--disabled":n},{"media-carousel__button--inset":!0===t.props.insetStyle});return s.createElement(u.a,{display:p.d.Flex,alignItems:p.b.Center,position:p.j.Absolute,attachTop:!0,attachLeft:e&&e===o.Previous,attachRight:e&&e===o.Next,fullHeight:!0},s.createElement(m.a,{className:d,position:p.j.Relative,display:p.d.Flex,borderRadius:h.b.Medium,background:n?h.a.Base:void 0},s.createElement(f.a,{ariaLabel:c[e],blurAfterClick:!0,"data-test-selector":e+"-button","data-a-target":e+"-button",disabled:n,onClick:i,type:f.b.Base,borderRadius:t.props.insetStyle?h.b.None:h.b.Medium,border:t.props.insetStyle},s.createElement(m.a,{color:h.c.Link,display:p.d.InlineFlex,padding:{x:.5,y:2}},s.createElement(g.a,{asset:y[e]})))))},t}return a.__extends(t,e),t.prototype.componentDidUpdate=function(){this.state.childrenRendered||null===this.props.items||this.setState({childrenRendered:!0})},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize)},t.prototype.render=function(){return s.createElement(p.g,a.__assign({},this.props,{position:p.j.Relative}),s.createElement("div",{className:"media-carousel",ref:this.refHandler,"data-test-selector":"carousel-container"},s.createElement(u.a,{className:"media-carousel__child-container",overflow:p.i.Hidden,fullWidth:!0,"data-test-selector":"child-container"},s.createElement("div",{className:"media-carousel__body",style:{marginLeft:this.transformString()},"data-test-selector":"carousel-body"},s.createElement(p.g,{className:"media-carousel__content",display:p.d.Flex,flexWrap:p.f.NoWrap,flexDirection:p.e.Row,alignItems:p.b.Center,"data-js-selector":"carousel-content"},s.createElement("div",{style:{width:"max-content"}},this.props.items)))),s.createElement(u.a,{className:"media-carousel__nav",display:p.d.Flex,alignItems:p.b.Center,position:p.j.Absolute,attachTop:!0,attachLeft:!0,fullHeight:!0},this.renderNavButton(o.Previous,!this.state.childrenRendered||this.isBackButtonDisabled(),this.moveCarouselBackward)),s.createElement(u.a,{className:"media-carousel__nav",display:p.d.Flex,alignItems:p.b.Center,position:p.j.Absolute,attachTop:!0,attachRight:!0,fullHeight:!0},this.renderNavButton(o.Next,!this.state.childrenRendered||this.isForwardButtonDisabled(),this.moveCarouselForward))))},t=a.__decorate([Object(c.withLatencyTracking)("MediaCarousel",{autoReportInteractive:!0})],t)}(s.Component)},Sa1T:function(e,t,n){"use strict";e.exports=function(e){var t={};function n(n){var i=e.get(n);return void 0===i?[]:t[i]||[]}return{get:n,add:function(n,i){var o=e.get(n);t[o]||(t[o]=[]),t[o].push(i)},removeListener:function(e,t){for(var i=n(e),o=0,a=i.length;o<a;++o)if(i[o]===t){i.splice(o,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},TVJu:function(e,t,n){"use strict";var i=n("mrSG"),o=n("/MKj"),a=n("fvjX"),r=n("1/iK"),s=n("aCAx"),l=n("y5D0"),c=n("kRBY"),d=n("/HY+"),u=n("TSYQ"),p=n("1hWM"),m=n("q1tI"),h=n("oJmH"),f=n("/7QA"),g=n("eJ65"),v=n("edgk"),y=n("DMoW"),b=n("2xye"),E=n("3CMh"),x=n("0Log"),k=n("geRD"),C=n("/aPz"),S=n("H31v");function I(e,t,n){Object(k.g)(e,void 0,function(e){return e?(e.currentUser&&e.currentUser.bitsBalance&&(e.currentUser.bitsBalance=n),e):e},function(){return!t})}var w,P=n("4h+t"),D=n("BaCc"),_=n("hnjF"),O=n("sUnt"),N=n("+80q"),T=n("dEDE"),R=n("Jsra"),F=n("Ws8v"),L=n("X2PJ"),A="test_selector_legal_disclaimer",B="test_selector_confirm_button",j="test_selector_buy_bits_button",M="test_selector_cancel_button",U=function(e){var t=Object(P.a)(),n=Object(f.d)("Confirm","BitsConfrimationDialogue"),i=Object(f.d)("Settings","BitsConfrimationDialogue"),o=m.createElement(R.a,{to:"https://www.twitch.tv/settings/connections"},i),a=m.createElement(_.g,{display:_.d.InlineFlex,alignContent:_.a.Center,alignItems:_.b.Center,margin:{left:.5}},m.createElement("span",null,m.createElement(E.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",bitsConfig:t,size:E.b.ExtremelySmall,display:_.d.InlineFlex,amount:e.newBalance,alignItems:_.b.Center,formattedNumber:!0}))),r=Object(f.d)("After confirming, your Bits balance will be {newBalance}",{newBalance:a},"BitsConfrimationDialogue"),s=Object(f.d)('By clicking "{ConfirmText}," you agree to share your Twitch ID with {ExtensionName}. You can manage account connections under {Settings}.',{ConfirmText:n,ExtensionName:e.extensionName,Settings:o},"BitsConfrimationDialogue");return m.createElement(O.a,{className:"bits-confirmation-dialog"},m.createElement(O.a,{padding:1},m.createElement(O.a,{margin:{bottom:1},display:_.d.Flex,justifyContent:_.h.Between},m.createElement(O.a,null,m.createElement(N.a,{fontSize:L.d.Size5,bold:!0},e.extensionItemLabel),m.createElement(N.a,null,e.extensionName)),m.createElement("span",null,m.createElement(E.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",bitsConfig:t,size:E.b.ExtraSmall,display:_.d.InlineFlex,amount:e.cost,alignItems:_.b.Center}))),m.createElement(O.a,{display:_.d.Flex,margin:{bottom:1}},m.createElement(_.g,{display:_.d.Flex},m.createElement(N.a,null,r))),m.createElement(O.a,{display:_.d.Inline},m.createElement(O.a,{display:_.d.InlineBlock,margin:{right:1}},m.createElement(T.a,{"data-test-selector":B,onClick:function(){e.onConfirm().then(function(t){"number"==typeof t&&Number.isInteger(t)&&I(D,e.userID,t)}),I(D,e.userID,e.newBalance)}},n)),m.createElement(O.a,{display:_.d.InlineBlock,margin:{right:1}},m.createElement(T.a,{"data-test-selector":j,linkTo:e.bitsLandingPageUrl,targetBlank:!0,type:T.d.Hollow},e.buyBitsText)),m.createElement(O.a,{display:_.d.InlineBlock},m.createElement(T.a,{"data-test-selector":M,onClick:e.onClose,type:T.d.Hollow},e.cancelText)))),m.createElement(F.a,{borderTop:!0,padding:1},m.createElement(N.a,{"data-test-selector":A},s)))},z="test_selector_buy_bits_button",W="test_selector_cancel_button",q=Object(P.a)(),H=function(e){var t,n=e.bitsBalance-e.cost,i=Math.abs(n),o=m.createElement(_.g,{display:_.d.InlineFlex,margin:{x:.5}},m.createElement("span",null,m.createElement(E.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",bitsConfig:q,size:E.b.ExtremelySmall,display:_.d.InlineFlex,amount:i,alignItems:_.b.Center,formattedNumber:!0})));return t=m.createElement(_.g,{display:_.d.Flex},m.createElement(N.a,null,Object(f.d)("You need {BitsRequired} more Bits to proceed.",{BitsRequired:o},"BitsUpsellDialog"))),m.createElement(O.a,{className:"bits-upsell-dialog",padding:1},m.createElement(O.a,{margin:{bottom:1},display:_.d.Flex,justifyContent:_.h.Between},m.createElement(O.a,null,m.createElement(N.a,{fontSize:L.d.Size5,bold:!0},e.extensionItemLabel),m.createElement(N.a,null,e.extensionName)),m.createElement("span",null,m.createElement(E.a,{animated:!1,showImage:!0,showAmount:!0,prefix:"Cheer",bitsConfig:q,size:E.b.ExtraSmall,display:_.d.InlineFlex,amount:e.cost,alignItems:_.b.Center}))),m.createElement(O.a,{display:_.d.Flex,margin:{bottom:1}},t),m.createElement(O.a,{display:_.d.Inline},m.createElement(O.a,{display:_.d.InlineBlock,margin:{right:1}},m.createElement(T.a,{"data-test-selector":z,linkTo:e.bitsLandingPageUrl,targetBlank:!0,type:T.d.Default},e.buyBitsText)),m.createElement(O.a,{display:_.d.InlineBlock},m.createElement(T.a,{"data-test-selector":W,onClick:e.onClose,type:T.d.Hollow},e.cancelText))))},G=function(e){var t=Object(f.d)("Buy Bits","UseBitsDialog"),n=Object(f.d)("Cancel","UseBitsDialog"),i=null;if(e)if(e.bitsBalance>=e.cost){var o=e.bitsBalance-e.cost;i=m.createElement(U,{cost:e.cost,extensionName:e.extensionName,extensionItemLabel:e.extensionItemLabel,newBalance:o,bitsBalance:e.bitsBalance,bitsLandingPageUrl:"https://twitch.tv/bits",buyBitsText:t,cancelText:n,onConfirm:e.onConfirm,onClose:e.onClose,userID:e.userID})}else i=m.createElement(H,{cost:e.cost,extensionName:e.extensionName,extensionItemLabel:e.extensionItemLabel,bitsBalance:e.bitsBalance,bitsLandingPageUrl:"https://twitch.tv/bits",buyBitsText:t,cancelText:n,onConfirm:e.onConfirm,onClose:e.onClose});return m.createElement(O.a,{className:"use-bits-dialog"},i)},V="test_selectors_close_button",Y=function(e){var t=Object(f.d)("Sorry, something went wrong. Please try again.","UseBitsErrorDialog"),n=Object(f.d)("Close","UseBitsErrorDialog");return m.createElement(O.a,{className:"use-bits-error-dialog",padding:1},m.createElement(_.g,{display:_.d.Flex,alignContent:_.a.Center,margin:{bottom:1}},m.createElement(N.a,null,t)),m.createElement(T.a,{"data-test-selector":V,onClick:e.onClose},n))},Q=n("5zC2"),X=n("22qk"),K=n("5IFo"),J=n("JVUd"),Z=n("0HeA"),$=n("b7S+"),ee=n("7uM4"),te=n("7d/q"),ne=n("ygYM"),ie=n("yR8l"),oe=n("eDVu"),ae=n("VeT4"),re=(n("NAeX"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.data.currentUser&&this.props.startTimer&&this.props.startTimer()},t.prototype.render=function(){if(this.props.data.loading||!this.props.data.currentUser)return null;var e=this.props.showSuccessText?m.createElement(N.a,{type:N.e.Span,className:"extension-bits-balance-success"},Object(f.d)("Success!","ExtensionPanelBitsBalanceDialog")):null,t=m.createElement(ae.a,{withImage:!0,withText:!0,animated:!1,count:this.props.data.currentUser.bitsBalance||0,bitsConfig:Object(P.a)()});return m.createElement(O.a,{margin:{top:0,right:1,bottom:.5,left:1}},e,Object(f.d)("Bits Balance: {bitsComponent}",{bitsComponent:t},"ExtensionPanelBitsBalanceDialog"))},t.prototype.componentDidMount=function(){this.props.data.currentUser&&this.props.startTimer&&this.props.startTimer()},t}(m.Component)),se=Object(h.compose)(Object(oe.a)(function(e){return t=D,n=e.channelID,{topic:(i=e.userID)?Object(C.H)(i):"",type:x.PubsubMessageType.UserBitsBalanceUpdate,mutator:function(e,t){return t&&e.message_type===S.b.Balance?(t.currentUser&&e.data&&(t.currentUser.bitsBalance=e.data.balance),t):t},skip:!n||!i,query:t};var t,n,i}),Object(ie.a)(D))(re);!function(e){e.ExtensionName="extension_name_selector",e.ShowExtensionButton="show_extension_button_selector"}(w||(w={}));var le=function(e){var t=e.extension.views.panel?e.extension.views.panel.height:300;return m.createElement(L.e,{alignItems:_.b.Center,background:L.a.Alt2,borderLeft:!0,borderTop:!0,borderRight:!0,display:_.d.Flex,flexDirection:_.e.Column,fullWidth:!0,justifyContent:_.h.Center,color:L.c.Base,position:_.j.Relative},m.createElement("div",{style:{height:t}},m.createElement("img",{src:e.extension.iconUrl}),m.createElement(O.a,{margin:1,textAlign:_.k.Center},m.createElement(N.a,{fontSize:L.d.Size5},Object(f.d)("{name} is popped out.",{name:m.createElement(N.a,{"data-test-selector":w.ExtensionName,type:N.e.Span,bold:!0},e.extension.name)},"ExtensionPopoutPlaceholder"))),m.createElement(T.a,{"data-test-selector":w.ShowExtensionButton,onClick:e.onExtensionShowClicked},Object(f.d)("Show Extension","ExtensionPopoutPlaceholder"))))};le.displayName="ExtensionPopoutPlaceholder";var ce,de=function(e){return m.createElement(O.a,{padding:1},m.createElement(O.a,null,m.createElement("span",null,Object(f.d)("You must be logged in to use this extension feature.","FeatureNeedsAuthDialog")),m.createElement(F.a,{borderTop:!0,margin:{y:1}}),m.createElement(O.a,{display:_.d.Flex,justifyContent:_.h.Start},m.createElement(T.a,{"data-test-selector":"qa-needs-auth-close-selector",type:T.d.Hollow,onClick:e.close},Object(f.d)("Close","FeatureNeedsAuthDialog")))))},ue=n("K/KT"),pe=function(e){var t=function(t){return m.createElement(O.a,null,m.createElement("span",{"data-test-selector":"confirmation_message_selector"},t),m.createElement(F.a,{borderTop:!0,margin:{y:1}}),m.createElement(O.a,{display:_.d.Flex,justifyContent:_.h.Start},m.createElement(T.a,{type:T.d.Hollow,onClick:e.cancelFollow},Object(f.d)("Close","FollowDialog"))))};if(null===e.currentFollowRequest.options.channel)return m.createElement(O.a,{padding:1},t(Object(f.d)("The channel you are attempting to follow does not exist.","FollowDialog")));var n=Object(f.d)("You are about to follow {name}.",{name:m.createElement(N.a,{type:N.e.Span,bold:!0},e.currentFollowRequest.options.channel)},"FollowDialog"),i=Object(f.d)("Receive updates on {name}'s activity, including when they go live and upload videos or clips, on mobile, email, and web.",{name:e.currentFollowRequest.options.channel},"FollowDialog"),o=m.createElement(O.a,null,m.createElement("span",{"data-test-selector":"confirmation_message_selector"},n),m.createElement(F.a,{borderTop:!0,margin:{y:1}}),m.createElement(O.a,{display:_.d.Flex,justifyContent:_.h.Start},m.createElement(O.a,{margin:{right:1}},m.createElement(T.a,{type:T.d.Default,"data-test-selector":"toggle_follow_button_selector",onClick:e.confirmFollow},Object(f.d)("Follow","FollowDialog"))),m.createElement(T.a,{type:T.d.Hollow,onClick:e.cancelFollow},Object(f.d)("Cancel","FollowDialog"))),m.createElement(F.a,{borderTop:!0,margin:{y:1}}),m.createElement(O.a,{display:_.d.Flex,justifyContent:_.h.Start},m.createElement(O.a,{flexGrow:1},m.createElement(N.a,{type:N.e.Span,fontSize:L.d.Size5},Object(f.d)("Notifications","FollowDialog"))),m.createElement(ue.a,{id:"ext-follow-notification",checked:e.currentFollowRequest.notifications,onChange:e.onNotificationsChanged})),m.createElement(N.a,{type:N.e.Span,color:L.c.Alt2,fontSize:L.d.Size7},i)),a=Object(f.d)("You are already following {name}.",{name:m.createElement(N.a,{type:N.e.Span,bold:!0},e.currentFollowRequest.options.channel)},"FollowDialog"),r=e.currentFollowRequest.options.isFollowing?t(a):o;return m.createElement(O.a,{padding:1},r)};!function(e){e.ManagePermissionsLink="manage_permissions_link_selector",e.ToggleIdentityBalloon="toggle_identity_balloon_selector",e.ToggleIdentityButton="toggle_identity_button_selector",e.CancelButton="toggle_identity_button_cancel_selector"}(ce||(ce={}));var me,he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderGrantPermissionsButton=function(){var e=Object(f.d)("Grant Permissions","ExtensionPanel");return m.createElement($.a,{label:e,direction:$.c.Top,align:$.b.Right,offsetX:".6rem"},m.createElement(O.a,{display:_.d.Flex,alignItems:_.b.Center},m.createElement(te.a,{ariaLabel:e,icon:ee.b.PermissionsAdd})))},t.renderRevokePermissionsButton=function(){var e=Object(f.d)("Revoke Permissions","ExtensionPanel");return m.createElement($.a,{label:e,direction:$.c.Top,align:$.b.Right,offsetX:".6rem"},m.createElement(O.a,{display:_.d.Flex,alignItems:_.b.Center},m.createElement(te.a,{ariaLabel:e,icon:ee.b.PermissionsAdded,statusAlertIcon:ee.b.PermissionsRemove})))},t.saveGrantPermissionsBalloonRef=function(e){t.grantPermissionsBalloon=e},t.onCancelIdentityLink=function(){t.grantPermissionsBalloon.toggleBalloon(!1),t.props.onDialogToggle&&t.props.onDialogToggle(!0)},t.toggleIdentity=function(){t.props.isLinked?t.props.onUnlinkIdentity&&t.props.onUnlinkIdentity():t.props.onLinkIdentity&&t.props.onLinkIdentity(),t.grantPermissionsBalloon.toggleBalloon(!1),t.props.onDialogToggle&&t.props.onDialogToggle(!0)},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.grantPermissionsBalloon&&this.grantPermissionsBalloon.toggleBalloon(this.props.isDialogOpen)},t.prototype.componentDidUpdate=function(e){e.isDialogOpen!==this.props.isDialogOpen&&this.grantPermissionsBalloon&&this.grantPermissionsBalloon.toggleBalloon(this.props.isDialogOpen)},t.prototype.render=function(){var e=this.props,t=e.isLinked;if(!e.isLinkEnabled)return null;var n=t?this.renderRevokePermissionsButton():this.renderGrantPermissionsButton(),i=Object(f.d)("You are granting {name} the following access:",{name:m.createElement(N.a,{type:N.e.Strong},this.props.extension.name)},"Extension Panel"),o=Object(f.d)("You are revoking the following access for {name}:",{name:m.createElement(N.a,{type:N.e.Strong},this.props.extension.name)},"Extension Panel");return m.createElement(g.a,{display:_.d.InlineFlex,ref:this.saveGrantPermissionsBalloonRef,onToggle:this.props.onDialogToggle},m.createElement("span",{"data-test-selector":ce.ToggleIdentityBalloon},n),m.createElement(ne.a,{direction:ne.b.TopRight,size:ne.c.Small},m.createElement(O.a,{padding:1},m.createElement(O.a,null,t?o:i),m.createElement(F.a,{borderTop:!0,margin:{y:1}}),m.createElement(O.a,null,m.createElement(N.a,{type:N.e.P,bold:!0},Object(f.d)("Your Twitch User ID","Extension Panel")),m.createElement(N.a,{type:N.e.P},Object(f.d)("Allows this extension to know your User ID on Twitch.","Extension Panel")),m.createElement("a",{"data-test-selector":ce.ManagePermissionsLink,href:"https://twitch.tv/settings/connections",target:"_blank",rel:"noopener noreferrer"},Object(f.d)("Manage Permissions","Extension Panel"))),m.createElement(F.a,{borderTop:!0,margin:{y:1}}),m.createElement(O.a,{display:_.d.Flex,justifyContent:_.h.Center},m.createElement(O.a,{margin:{right:1}},m.createElement(T.a,{type:T.d.Hollow,"data-test-selector":ce.CancelButton,onClick:this.onCancelIdentityLink},Object(f.d)("Cancel","Extension Panel"))),m.createElement(T.a,{type:t?T.d.Alert:T.d.Default,"data-test-selector":ce.ToggleIdentityButton,onClick:this.toggleIdentity},t?Object(f.d)("Revoke","Extension Panel"):Object(f.d)("Grant","Extension Panel"))))))},t}(m.Component);(me||(me={})).PopoutButton="popout_button_selector";var fe,ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){t.props.onClick&&t.props.onClick(e)},t}return i.__extends(t,e),t.prototype.render=function(){var e=Object(f.d)("Pop Out Extension","PopoutButton");return m.createElement("span",null,m.createElement($.a,{label:e,direction:$.c.Top,align:$.b.Right,offsetX:".6rem"},m.createElement(O.a,{display:_.d.Flex,alignItems:_.b.Center},m.createElement(te.a,{"data-test-selector":me.PopoutButton,onClick:this.onClick,ariaLabel:e,icon:ee.b.Popout}))))},t}(m.Component),ve=n("DUmW"),ye=n("+Zug"),be=function(e){var t,n=e.cancel,i=e.confirm,o=e.isLoggedIn,a=e.isLinked,r=e.isLinkEnabled,s=e.purchaseIntentPayload;return t=o?m.createElement(O.a,{padding:{x:1,bottom:1,top:.5},fullWidth:!0},m.createElement(O.a,{padding:{bottom:2}},m.createElement(N.a,{fontSize:L.d.Size5,bold:!0},Object(f.d)("In-Extension Purchase","PurchaseConfirmation"))),m.createElement(O.a,null,m.createElement(ve.a,{gutterSize:ve.b.Default},m.createElement(ye.a,{cols:{default:9}},m.createElement(N.a,{fontSize:L.d.Size6,bold:!0},s.title)),m.createElement(ye.a,{cols:{default:3}},m.createElement(O.a,{fullWidth:!0,textAlign:_.k.Right},m.createElement(N.a,{fontSize:L.d.Size6,bold:!0},s.displayPrice))))),m.createElement(O.a,{fullWidth:!0,padding:{bottom:1}},m.createElement(N.a,{color:L.c.Alt2},Object(f.d)("{name} extension",{name:s.extensionName},"PurchaseConfirmation"))),m.createElement(O.a,{fullWidth:!0},m.createElement(N.a,{className:"t-extension-panel__description",color:L.c.Alt2},s.description),m.createElement(F.a,{borderBottom:!0,margin:{y:1}}),m.createElement(O.a,null,m.createElement(ve.a,{gutterSize:ve.b.Default},m.createElement(ye.a,{cols:{default:4}},m.createElement(T.a,{"data-test-selector":"purchase_ui_buy_selector",onClick:i,fullWidth:!0},Object(f.d)("Buy","PurchaseConfirmation"))),m.createElement(ye.a,{cols:{default:3}},m.createElement(T.a,{"data-test-selector":"purchase_ui_cancel_selector",onClick:n,type:T.d.Hollow},Object(f.d)("Cancel","PurchaseConfirmation")))),!a&&m.createElement(O.a,null,m.createElement(F.a,{borderBottom:!0,margin:{y:1}}),m.createElement(N.a,{fontSize:L.d.Size8,color:L.c.Alt2},Object(f.d)('By clicking "Buy", you agree to share your Twitch ID with {name}. You can manage account connections under',{name:s.extensionName},"PurchaseConfirmation")," ",m.createElement("a",{href:"/settings/connections"},Object(f.d)("Settings","PurchaseConfirmation")),"."))))):m.createElement(O.a,{padding:{x:1,bottom:1,top:.5},fullWidth:!0},m.createElement(O.a,{padding:{top:2}},m.createElement(N.a,{fontSize:L.d.Size5},Object(f.d)("You must be logged in to use this extension feature.","PurchaseConfirmation"))),m.createElement(F.a,{borderBottom:!0,margin:{y:1}}),m.createElement(T.a,{"data-test-selector":"purchase_ui_cancel_selector",onClick:n,type:T.d.Hollow},Object(f.d)("Close","PurchaseConfirmation"))),m.createElement(ne.a,{direction:ne.b.TopRight,"data-test-selector":"purchase_ui_selector",noTail:!r,offsetX:"10px",offsetY:"-2px",tailOffset:33,show:!0,size:ne.c.Medium},m.createElement("button",{className:"t-extension-panel__close t-extension-panel__top-controls",onClick:n},m.createElement(ee.a,{asset:ee.b.Close,height:11,width:11})),m.createElement(O.a,{display:_.d.Flex,flexGrow:1,flexDirection:_.e.Column,justifyContent:_.h.Center,alignItems:_.b.Center},t))};(fe||(fe={})).RestoreDefaultSizeButton="restore-default-size-button";var Ee,xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isRestoreDefaultSizeVisible:!1},t.defaultPopoutWidth=window.outerWidth,t.defaultPopoutHeight=window.outerHeight,t.onClick=function(){window.resizeTo(t.defaultPopoutWidth,t.defaultPopoutHeight)},t.onWindowResize=function(){var e=window.outerWidth,n=window.outerHeight,i=e!==t.defaultPopoutWidth||n!==t.defaultPopoutHeight;t.setState({isRestoreDefaultSizeVisible:i})},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onWindowResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onWindowResize)},t.prototype.render=function(){if(!this.props.isPopout||!this.state.isRestoreDefaultSizeVisible)return null;var e=Object(f.d)("Resize to Default","RestoreDefaultSizeButton");return m.createElement("span",null,m.createElement($.a,{label:e,direction:$.c.Top,align:$.b.Right,offsetX:".6rem"},m.createElement(O.a,{display:_.d.Flex,alignItems:_.b.Center},m.createElement(te.a,{"data-test-selector":fe.RestoreDefaultSizeButton,onClick:this.onClick,ariaLabel:e,icon:ee.b.FullscreenExit}))))},t}(m.Component),ke=n("fPaz");!function(e){e.AcceptButton="accept-button",e.DeclineButton="decline-button",e.DeclinedMessage="declined-message",e.WarningMessage="warning-message"}(Ee||(Ee={}));var Ce,Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={declined:!1},t.onDeclined=function(){t.setState({declined:!0})},t}return i.__extends(t,e),t.prototype.render=function(){var e=null;return e=this.state.declined?m.createElement(m.Fragment,null,m.createElement(N.a,{type:N.e.P,"data-test-selector":Ee.DeclinedMessage},Object(f.d)("You’ve declined to use this test extension. To use it, please refresh this page and select accept.","TestExtensionDialog")),m.createElement(O.a,{padding:{top:2},display:_.d.Flex,justifyContent:_.h.Center},m.createElement(T.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions",type:T.d.Hollow},Object(f.d)("Learn More","TestExtensionDialog")))):m.createElement(m.Fragment,null,m.createElement(N.a,{type:N.e.P,"data-test-selector":Ee.WarningMessage},Object(f.d)("This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime. Proceed only if you are familiar with the developer, the Extension, or Channel.","TestExtensionDialog"),m.createElement(_.g,{padding:{left:.5}},m.createElement(R.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions"},Object(f.d)("Learn More.","TestExtensionDialog")))),m.createElement(O.a,{padding:{top:2},display:_.d.Flex,justifyContent:_.h.Center},m.createElement(T.a,{onClick:this.onDeclined,type:T.d.Hollow,"data-test-selector":Ee.DeclineButton},Object(f.d)("Decline","TestExtensionDialog")),m.createElement(O.a,{padding:{left:1}},m.createElement(T.a,{onClick:this.props.onAccepted,"data-test-selector":Ee.AcceptButton},Object(f.d)("Accept","TestExtensionDialog"))))),m.createElement(ke.b,{ratio:ke.c.Aspect3x4},m.createElement(F.a,{alignItems:_.b.Center,border:!0,display:_.d.Flex,justifyContent:_.h.Center,padding:2},m.createElement(O.a,null,m.createElement(N.a,{type:N.e.Strong},this.props.extensionName),e)))},t}(m.Component);n("bVvr");!function(e){e.ExtensionDescriptionButton="extension_description_button_selector",e.ExtensionReportButton="extension_report_button_selector",e.ExtensionPanel="extension_panel_selector",e.ExtensionDetailsLink="extension_details_link_selector",e.ToggleFollowButton="toggle_follow_button_selector",e.ConfirmationMessage="confirmation_message_selector",e.PopoutButton="popout_button_selector",e.UseBitsConfirmationToggleBalloonWrapper="confirmation_message_selector"}(Ce||(Ce={}));var Ie=3e3,we=32,Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bitsBalance:null,currentFollowRequest:null,currentUseBitsRequest:null,isIdentityLinkOpen:!1,isLinked:!1,isLinkEnabled:!1,popoutRestoreIntentTracked:!1,purchaseIntent:null,testExtensionAccepted:!1},t.renderExtensionFrame=function(){var e,n=u("extension-panel-extension-frame",((e={})["extension-panel-extension-frame__popout"]=t.props.isPopout,e));return t.extension.state===p.ExtensionState.Released||t.state.testExtensionAccepted?m.createElement(O.a,null,m.createElement(F.a,{borderTop:!0,borderRight:!0,borderLeft:!0},m.createElement(Q.a,{channelID:t.props.channelID,channelLogin:t.props.channelLogin,className:n,extensionMode:t.props.mode,installation:t.props.installation,languageCode:t.props.languageCode,locale:t.props.locale,login:t.props.login,loginID:t.props.loginID,isPopout:t.props.isPopout,onBeginPurchase:t.onBeginPurchase,saveExtensionAPI:t.saveExtensionAPI})),m.createElement(O.a,{position:_.j.Relative,fullWidth:!0},t.purchaseUI())):m.createElement(Se,{extensionName:t.extension.name,onAccepted:t.onTestExtensionAccepted})},t.renderFollowConfirmation=function(){return null===t.state.currentFollowRequest?null:m.createElement(g.a,{ref:t.saveFollowConfirmationBalloonRef},m.createElement("span",null),m.createElement(ne.a,{direction:ne.b.TopRight,size:ne.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},m.createElement(pe,{currentFollowRequest:t.state.currentFollowRequest,confirmFollow:t.confirmFollow,onNotificationsChanged:t.onNotificationsChanged,cancelFollow:t.cancelFollow})))},t.renderFeatureNeedsAuthBalloon=function(){return m.createElement(g.a,{ref:t.saveFeatureNeedsAuthBalloonRef},m.createElement("span",null),m.createElement(ne.a,{direction:ne.b.TopRight,size:ne.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},m.createElement(de,{close:t.dismissLoginPrompt})))},t.renderUseBitsConfirmation=function(){if(!t.state.currentUseBitsRequest||!t.state.currentUseBitsRequest.options)return null;var e=null;if(t.state.currentUseBitsRequest.options.error)e=m.createElement(Y,{error:t.state.currentUseBitsRequest.options.error,onClose:t.cancelUseBits});else if(t.state.currentUseBitsRequest.options.payload){var n=t.state.currentUseBitsRequest.options.payload,i=n.bitsBalance,o=n.extensionItemLabel,a=n.extensionName,r=t.state.currentUseBitsRequest.options.payload.bitsRequired;void 0===r&&(r=0),e=m.createElement(G,{bitsBalance:i,cost:r,extensionItemLabel:o,extensionName:a,userID:t.props.loginID,onClose:t.cancelUseBits,onConfirm:t.confirmUseBits})}return m.createElement(g.a,{"data-test-selector":Ce.UseBitsConfirmationToggleBalloonWrapper,ref:t.saveUseBitsConfirmationBalloonRef,onToggle:t.onToggleUseBitsConfirmationBalloon},m.createElement("span",null),m.createElement(ne.a,{direction:ne.b.TopRight,size:ne.c.Medium,noTail:!0,offsetY:"2rem",offsetX:"-2rem"},e))},t.onTestExtensionAccepted=function(){t.setState({testExtensionAccepted:!0})},t.getCurrentMedium=function(){if(t.props.isPopout)return b.PageviewMedium.ExtensionPage;switch(t.props.mode){case p.ExtensionMode.Dashboard:return b.PageviewMedium.DashboardLive;case p.ExtensionMode.Config:return b.PageviewMedium.ExtensionConfiguration;case p.ExtensionMode.Viewer:}return b.PageviewMedium.Channel},t.subscribeFrameEvents=function(){t.extensionFrameAPI&&(t.extensionFrameAPI.on(p.ExtensionFrameEvents.ShowBitsBalance,t.onShowBitsBalance),t.extensionFrameAPI.on(p.ExtensionFrameEvents.ShowUseBitsSuccess,t.onShowUseBitsSuccess),t.extensionFrameAPI.on(p.ExtensionFrameEvents.IdentityLinked,t.onIdentityLinked),t.extensionFrameAPI.on(p.ExtensionFrameEvents.ExtensionFrameLoaded,t.onExtensionLoaded),t.extensionFrameAPI.on(p.ExtensionFrameEvents.RequestModal,t.onModalRequested))},t.unsubscribeFrameEvents=function(){t.extensionFrameAPI&&(t.extensionFrameAPI.off(p.ExtensionFrameEvents.ShowBitsBalance,t.onShowBitsBalance),t.extensionFrameAPI.off(p.ExtensionFrameEvents.ShowUseBitsSuccess,t.onShowUseBitsSuccess),t.extensionFrameAPI.off(p.ExtensionFrameEvents.IdentityLinked,t.onIdentityLinked),t.extensionFrameAPI.off(p.ExtensionFrameEvents.ExtensionFrameLoaded,t.onExtensionLoaded),t.extensionFrameAPI.off(p.ExtensionFrameEvents.RequestModal,t.onModalRequested))},t.getPopoutHeight=function(){var e=300;return t.extension.views.panel&&(e=t.extension.views.panel.height),e+we},t.getExtensionPopoutUrl=function(){var e=t.props.installation.activationConfig,n=t.extension.clientId+"-"+t.extension.version;t.extension.state===p.ExtensionState.Released&&(n=t.extension.clientId);var i="/popout/"+t.props.channelLogin+"/extensions/"+n+"/"+e.anchor;return t.props.mode!==p.ExtensionMode.Viewer&&(i=i+"/"+t.props.mode),i},t.onExtensionPopoutClosed=function(){if(!t.state.popoutRestoreIntentTracked){var e=t.props.installation.activationConfig;Object(K.i)({extensionID:t.extension.clientId,extensionVersion:t.extension.version,anchor:e.anchor,mode:t.props.mode,loginID:t.props.loginID,channelID:t.props.channelID}),t.setState({popoutRestoreIntentTracked:!0})}if(t.props.onExtensionPopoutClosed){var n=t.extension,i=n.id,o=n.version;t.props.onExtensionPopoutClosed(i,o)}},t.onExtensionPopout=function(){var e=t.props.installation.activationConfig;Object(K.j)({extensionID:t.extension.clientId,extensionVersion:t.extension.version,anchor:e.anchor,mode:t.props.mode,loginID:t.props.loginID,channelID:t.props.channelID});var n="width=320,height="+t.getPopoutHeight()+",resizable=yes,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no",i=window.open(t.getExtensionPopoutUrl(),"_blank",n);if(i&&(t.onExtensionPopoutClosed&&Object(v.a)(i,t.onExtensionPopoutClosed),i.opener=null),t.props.onExtensionPoppedOut){var o=t.extension,a=o.id,r=o.version;t.props.onExtensionPoppedOut(a,r,i)}},t.onFollowRequested=function(e,n,i){t.setState({currentFollowRequest:{options:e,defaultResult:i,notifications:!0,onResult:n}}),t.followConfirmationBalloon.toggleBalloon(!0)},t.onLoginRequested=function(e,n){t.onDismissLoginPrompt=function(){e&&void 0!==n&&e(n),t.featureNeedsAuthBalloon.toggleBalloon(!1)},t.featureNeedsAuthBalloon.toggleBalloon(!0)},t.confirmFollow=function(){null!==t.state.currentFollowRequest&&(t.state.currentFollowRequest.onResult({didFollow:!0,notifications:t.state.currentFollowRequest.notifications}),t.setState({currentFollowRequest:null}),t.followConfirmationBalloon.toggleBalloon(!1))},t.cancelFollow=function(){if(null===t.state.currentFollowRequest)return null;t.state.currentFollowRequest.onResult(t.state.currentFollowRequest.defaultResult),t.setState({currentFollowRequest:null})},t.onUseBitsRequested=function(e,n,i){t.setState({currentUseBitsRequest:{options:e,defaultResult:i,onResult:n}}),t.useBitsConfirmationBalloon.toggleBalloon(!0)},t.confirmUseBits=function(){if(null===t.state.currentUseBitsRequest)return Promise.reject("no Bits request");var e=function(){t.useBitsConfirmationBalloon.toggleBalloon(!1),t.setState({currentUseBitsRequest:null})};return t.state.currentUseBitsRequest.onResult({didConfirm:!0,didUseBits:!0}).then(function(t){return e(),t}).catch(function(){return e(),Promise.reject("error using bits in extension")})},t.cancelUseBits=function(){if(null===t.state.currentUseBitsRequest)return null;t.state.currentUseBitsRequest.onResult(t.state.currentUseBitsRequest.defaultResult),t.setState({currentUseBitsRequest:null})},t.saveExtensionAPI=function(e){t.unsubscribeFrameEvents(),t.extensionFrameAPI=e,t.subscribeFrameEvents()},t.saveFollowConfirmationBalloonRef=function(e){t.followConfirmationBalloon=e},t.saveFeatureNeedsAuthBalloonRef=function(e){t.featureNeedsAuthBalloon=e},t.saveUseBitsConfirmationBalloonRef=function(e){t.useBitsConfirmationBalloon=e},t.onToggleUseBitsConfirmationBalloon=function(e){e&&null!==t.state.currentUseBitsRequest&&t.state.currentUseBitsRequest.onResult({didConfirm:!1,didUseBits:!1})},t.onExtensionLoaded=function(){t.props.onExtensionLoaded&&t.props.onExtensionLoaded()},t.onIdentityLinked=function(e,n){t.setState({isLinked:e,isLinkEnabled:n})},t.onLinkIdentity=function(){t.extensionFrameAPI.linkIdentity()},t.onUnlinkIdentity=function(){t.extensionFrameAPI.unlinkIdentity()},t.onIdentityLinkDialogToggle=function(e){t.setState({isIdentityLinkOpen:!e})},t.cancelPurchase=function(){t.setState({purchaseIntent:null})},t.renderBitsBalanceUI=function(){var e=t.state&&t.state.bitsBalance;if(null!==e){var n=e.showSuccessText;return t.hideBitsBalanceTimeout&&(clearTimeout(t.hideBitsBalanceTimeout),t.hideBitsBalanceTimeout=null,t.startHideBitsBalanceTimer()),m.createElement(se,{showSuccessText:n,startTimer:t.startHideBitsBalanceTimer,channelID:t.props.channelID,userID:t.props.loginID})}},t.startHideBitsBalanceTimer=function(){t.hideBitsBalanceTimeout||(t.hideBitsBalanceTimeout=setTimeout(t.hideBitsBalance,Ie))},t.hideBitsBalance=function(){t.hideBitsBalanceTimeout=null,t.setState({bitsBalance:null})},t.onShowBitsBalance=function(){t.setState({bitsBalance:{showSuccessText:!1}})},t.onShowUseBitsSuccess=function(){t.setState({bitsBalance:{showSuccessText:!0}})},t.onBeginPurchase=function(e,n){t.setState({purchaseIntent:{payload:e,makePurchase:n}})},t.onNotificationsChanged=function(e){var n=t.state.currentFollowRequest;null!==n&&t.setState({currentFollowRequest:i.__assign({},n,{notifications:e.currentTarget.checked})})},t.onModalRequested=function(e){switch(e.action){case p.FunctionAction.FollowAction:var n=e,i=n.options;t.onFollowRequested(i,n.resultCallback,n.defaultResult);break;case p.FunctionAction.LoginRequest:t.featureNeedsAuthBalloon&&t.onLoginRequested(e.resultCallback,e.defaultResult);break;case p.FunctionAction.UseBits:var o=e,a=o.options;t.onUseBitsRequested(a,o.resultCallback,o.defaultResult);break;case p.FunctionAction.IdShareRequest:t.setState({isIdentityLinkOpen:!0})}},t.handleReportExtensionClick=function(){var e=t.extension,n=e.id,i=e.version,o=e.name;t.props.isLoggedIn?t.props.showReportExtensionModal({reportContext:{contentType:y.Pa.EXTENSION_REPORT,contentID:n+"-"+i,targetUserID:t.props.channelID},title:Object(f.d)("Report {extensionName}",{extensionName:o},"ReportExtensionModal")}):t.props.promptLogin()},t.dismissLoginPrompt=function(){t.onDismissLoginPrompt&&t.onDismissLoginPrompt(),t.onDismissLoginPrompt=null},t.trackImpression=function(){if(t.props.panel){var e=t.props.panel.id;e&&Object(Z.a)(b.SpadeEventType.PanelImpression,{panelID:e,channelID:t.props.channelID,panelType:t.props.panel.type})}},t}return i.__extends(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this.props.installation.extension},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.props.impressionListener.registerImpressionCallback(this.trackImpression)},t.prototype.componentDidUpdate=function(e){!1===e.isFramePoppedOut&&!0===this.props.isFramePoppedOut&&this.setState({popoutRestoreIntentTracked:!1})},t.prototype.render=function(){var e,t=Object(f.d)("More Info","ExtensionPanel"),n=Object(f.d)("Report Extension","ExtensionPanel"),i=Object(X.d)(this.extension.id,this.extension.version)+"?tt_medium="+this.getCurrentMedium()+"&tt_content="+b.PageviewContent.ExtensionPanel,o=u(this.props.className||"extension-panel",((e={})["extension-panel__popout"]=this.props.isPopout,e)),a=this.props.isFramePoppedOut?m.createElement(le,{extension:this.extension,onExtensionShowClicked:this.onExtensionPopoutClosed}):this.renderExtensionFrame();return m.createElement(O.a,{className:o,margin:{bottom:2,right:2},"data-test-selector":Ce.ExtensionPanel},a,m.createElement(F.a,{borderRight:!0,borderBottom:!0,borderLeft:!0,flexDirection:_.e.Column,display:_.d.Flex},m.createElement(F.a,{display:_.d.Flex,alignItems:_.b.Center},m.createElement(O.a,{flexGrow:1,margin:{x:1}},m.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer","data-test-selector":Ce.ExtensionDetailsLink},this.extension.name)),this.props.isFramePoppedOut||this.props.isPopout?null:m.createElement(ge,{"data-test-selector":Ce.PopoutButton,onClick:this.onExtensionPopout}),m.createElement(xe,{isPopout:this.props.isPopout}),m.createElement(he,{extension:this.extension,isDialogOpen:this.state.isIdentityLinkOpen,onDialogToggle:this.onIdentityLinkDialogToggle,isLinked:this.state.isLinked,isLinkEnabled:this.state.isLinkEnabled,onLinkIdentity:this.onLinkIdentity,onUnlinkIdentity:this.onUnlinkIdentity}),this.renderFollowConfirmation(),this.renderFeatureNeedsAuthBalloon(),this.renderUseBitsConfirmation(),m.createElement(g.a,null,m.createElement("span",null,m.createElement($.a,{label:t,direction:$.c.Top,align:$.b.Right,offsetX:".6rem"},m.createElement(O.a,{display:_.d.Flex,alignItems:_.b.Center},m.createElement(te.a,{"data-test-selector":Ce.ExtensionDescriptionButton,icon:ee.b.More,ariaLabel:t})))),m.createElement(ne.a,{direction:ne.b.TopRight,size:ne.c.Medium,offsetX:".6rem"},m.createElement(O.a,{display:_.d.Flex,justifyContent:_.h.Between,flexWrap:_.f.NoWrap},m.createElement(F.a,{padding:1,flexShrink:3},m.createElement(N.a,null,this.extension.summary)),m.createElement(F.a,{borderLeft:!0,margin:1},m.createElement(te.a,{"data-test-selector":Ce.ExtensionReportButton,ariaLabel:n,icon:ee.b.ChatRiskFlag,onClick:this.handleReportExtensionClick})))))),this.renderBitsBalanceUI()))},t.prototype.purchaseUI=function(){var e=this,t=this.state&&this.state.purchaseIntent;if(null!==t){var n=this.state,i=n.isLinked,o=n.isLinkEnabled,a=t,r=a.payload,s=a.makePurchase;return m.createElement(be,{confirm:function(){s(),e.setState({purchaseIntent:null})},cancel:this.cancelPurchase,isLinked:i,isLinkEnabled:o,purchaseIntentPayload:r,isLoggedIn:this.props.isLoggedIn})}},t}(m.Component),De=Object(h.compose)(Object(J.a)("ExtensionPanel",{pixels:100}))(Pe);function _e(e){return{isLoggedIn:Object(c.f)(e),languageCode:Object(c.b)(e),locale:e.session.locale}}function Oe(e){return Object(a.bindActionCreators)({promptLogin:function(){return Object(l.e)(r.a.ReportHoster)},showReportExtensionModal:function(e){var t=i.__rest(e,[]);return Object(s.d)(d.a,t)}},e)}var Ne=Object(o.connect)(_e,Oe)(De);n.d(t,!1,function(){}),n.d(t,!1,function(){return _e}),n.d(t,!1,function(){return Oe}),n.d(t,"a",function(){return Ne})},TilG:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionActionSubscribeToChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extensionActionSubscriptionProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"extensionActionSubscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}],loc:{start:0,end:304}};n.loc.source={body:"query ExtensionActionSubscribeToChannel($channelID: ID!) {\ncurrentUser {\nid\nlogin\n}\nuser(id: $channelID) {\nid\nlogin\nsubscriptionProducts {\n...extensionActionSubscriptionProduct\n}\nself {\nsubscriptionBenefit {\nid\ntier\n}\n}\n}\n}\nfragment extensionActionSubscriptionProduct on SubscriptionProduct {\nname\ntier\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},U0Fp:function(e,t,n){},UFhH:function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var i=n(e);if(!i)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return i.id=o,o}}}},UL9e:function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var i=e[t];if(null==i&&void 0!==n)return n;return i}},UeP2:function(e,t,n){},"W+U1":function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},X9a5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionConfigure"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"installedExtensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:152}};n.loc.source={body:"query ExtensionConfigure {\ncurrentUser {\nid\ninstalledExtensions {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nname\nversion\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},YVj6:function(e,t,n){var i,o;!function(a,r){i=[n("x0Ue")],void 0===(o=function(e){return function(e,t){"use strict";var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t},makeArray:function(e){var t=[];if(Array.isArray(e))t=e;else if(e&&"object"==typeof e&&"number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t},removeFrom:function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)}};n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,i){e=n.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(i){t(e,i)&&o.push(e);for(var n=e.querySelectorAll(i),a=0;a<n.length;a++)o.push(n[a])}else o.push(e)}),o},n.debounceMethod=function(e,t,n){var i=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];e&&clearTimeout(e);var t=arguments,a=this;this[o]=setTimeout(function(){i.apply(a,t),delete a[o]},n||100)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var i=e.console;return n.htmlInit=function(t,o){n.docReady(function(){var a=n.toDashed(o),r="data-"+a,s=document.querySelectorAll("["+r+"]"),l=document.querySelectorAll(".js-"+a),c=n.makeArray(s).concat(n.makeArray(l)),d=r+"-options",u=e.jQuery;c.forEach(function(e){var n,a=e.getAttribute(r)||e.getAttribute(d);try{n=a&&JSON.parse(a)}catch(t){return void(i&&i.error("Error parsing "+r+" on "+e.className+": "+t))}var s=new t(e,n);u&&u.data(e,o,s)})})},n}(a,e)}.apply(t,i))||(e.exports=o)}(window)},"ZAO/":function(e,t,n){},ZK2O:function(e,t,n){},abgr:function(e,t,n){},b5uE:function(e,t,n){},bVvr:function(e,t,n){},ezMb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(e){var t,n,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleStart=function(e){var n=t.props,i=n.distance,o=n.shouldCancelStart;if(2===e.button||o(e))return!1;t._touched=!0,t._pos={x:e.pageX,y:e.pageY};var a=(0,p.closest)(e.target,function(e){return null!=e.sortableInfo});if(a&&a.sortableInfo&&t.nodeIsChild(a)&&!t.state.sorting){var r=t.props.useDragHandle,s=a.sortableInfo,l=s.index,c=s.collection;if(r&&!(0,p.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:c},"a"===e.target.tagName.toLowerCase()&&e.preventDefault(),i||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.nodeIsChild=function(e){return e.sortableInfo.manager===t.manager},t.handleMove=function(e){var n=t.props,i=n.distance,o=n.pressThreshold;if(!t.state.sorting&&t._touched){t._delta={x:t._pos.x-e.pageX,y:t._pos.y-e.pageY};var a=Math.abs(t._delta.x)+Math.abs(t._delta.y);i||o&&!(o&&a>=o)?i&&a>=i&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}},t.handleEnd=function(){var e=t.props.distance;t._touched=!1,e||t.cancel()},t.cancel=function(){t.state.sorting||(clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var n=t.manager.getActive();if(n){var i=t.props,o=i.axis,a=i.getHelperDimensions,r=i.helperClass,s=i.hideSortableGhost,l=i.onSortStart,c=i.useWindowAsScrollContainer,d=n.node,u=n.collection,m=d.sortableInfo.index,f=(0,p.getElementMargin)(d),g=t.container.getBoundingClientRect(),v=a({index:m,node:d,collection:u});t.node=d,t.margin=f,t.width=v.width,t.height=v.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=d.getBoundingClientRect(),t.containerBoundingRect=g,t.index=m,t.newIndex=m,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=t.getEdgeOffset(d),t.initialOffset=t.getOffset(e),t.initialScroll={top:t.scrollContainer.scrollTop,left:t.scrollContainer.scrollLeft},t.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var y,b=d.querySelectorAll("input, textarea, select"),E=d.cloneNode(!0),x=[].concat(h(E.querySelectorAll("input, textarea, select")));if(x.forEach(function(e,t){"file"!==e.type&&b[t]&&(e.value=b[t].value)}),t.helper=t.document.body.appendChild(E),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-f.top+"px",t.helper.style.left=t.boundingClientRect.left-f.left+"px",t.helper.style.width=t.width+"px",t.helper.style.height=t.height+"px",t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",s&&(t.sortableGhost=d,d.style.visibility="hidden",d.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(c?0:g.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(c?t.contentWindow.innerWidth:g.left+g.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(c?0:g.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(c?t.contentWindow.innerHeight:g.top+g.height)-t.boundingClientRect.top-t.height/2),r)(y=t.helper.classList).add.apply(y,h(r.split(" ")));t.listenerNode=e.touches?d:t.contentWindow,p.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),p.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:m}),l&&l({node:d,index:m,collection:u},e)}},t.handleSortMove=function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)},t.handleSortEnd=function(e){var n=t.props,i=n.hideSortableGhost,o=n.onSortEnd,a=t.manager.active.collection;t.listenerNode&&(p.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),p.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),i&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var r=t.manager.refs[a],s=0,l=r.length;s<l;s++){var c=r[s],d=c.node;c.edgeOffset=null,d.style[p.vendorPrefix+"Transform"]="",d.style[p.vendorPrefix+"TransitionDuration"]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof o&&o({oldIndex:t.index,newIndex:t.newIndex,collection:a},e),t._touched=!1},t.autoscroll=function(){var e=t.translate,n={x:0,y:0},i={x:1,y:1},o={x:10,y:10};e.y>=t.maxTranslate.y-t.height/2?(n.y=1,i.y=o.y*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2?(n.x=1,i.x=o.x*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2?(n.y=-1,i.y=o.y*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&(n.x=-1,i.x=o.x*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===n.x&&0===n.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:1*i.x*n.x,top:1*i.y*n.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))},t.manager=new u.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,d.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getContainer,i=t.useWindowAsScrollContainer,o=this.props.contentWindow||window;this.container="function"==typeof n?n(this.getWrappedInstance()):(0,c.findDOMNode)(this),this.document=this.container.ownerDocument||document,this.scrollContainer=i?this.document.body:this.container,this.contentWindow="function"==typeof o?o():o;var a=function(t){e.events.hasOwnProperty(t)&&p.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})};for(var r in this.events)a(r)}},{key:"componentWillUnmount",value:function(){var e=this,t=function(t){e.events.hasOwnProperty(t)&&p.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})};for(var n in this.events)t(n)}},{key:"getEdgeOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(e){var n={top:t.top+e.offsetTop,left:t.left+e.offsetLeft};return e.parentNode!==this.container?this.getEdgeOffset(e.parentNode,n):n}}},{key:"getOffset",value:function(e){return{x:e.touches?e.touches[0].pageX:e.pageX,y:e.touches?e.touches[0].pageY:e.pageY}}},{key:"getLockPixelOffsets",value:function(){var e=this.props.lockOffset;Array.isArray(e)||(e=[e,e]),(0,d.default)(2===e.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",e);var t=e,n=o(t,2),i=n[0],a=n[1];return[this.getLockPixelOffset(i),this.getLockPixelOffset(a)]}},{key:"getLockPixelOffset",value:function(e){var t=e,n=e,i="px";if("string"==typeof e){var o=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);(0,d.default)(null!==o,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),t=n=parseFloat(e),i=o[1]}return(0,d.default)(isFinite(t)&&isFinite(n),"lockOffset value should be a finite. Given %s",e),"%"===i&&(t=t*this.width/100,n=n*this.height/100),{x:t,y:n}}},{key:"updatePosition",value:function(e){var t=this.props,n=t.lockAxis,i=t.lockToContainerEdges,a=this.getOffset(e),r={x:a.x-this.initialOffset.x,y:a.y-this.initialOffset.y};if(r.y-=window.pageYOffset-this.initialWindowScroll.top,r.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=r,i){var s=this.getLockPixelOffsets(),l=o(s,2),c=l[0],d=l[1],u={x:this.width/2-c.x,y:this.height/2-c.y},m={x:this.width/2-d.x,y:this.height/2-d.y};r.x=(0,p.limit)(this.minTranslate.x+u.x,this.maxTranslate.x-m.x,r.x),r.y=(0,p.limit)(this.minTranslate.y+u.y,this.maxTranslate.y-m.y,r.y)}"x"===n?r.y=0:"y"===n&&(r.x=0),this.helper.style[p.vendorPrefix+"Transform"]="translate3d("+r.x+"px,"+r.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,i=this.manager.getOrderedRefs(),o={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},a={left:this.offsetEdge.left+this.translate.x+o.left,top:this.offsetEdge.top+this.translate.y+o.top},r={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(var s=0,l=i.length;s<l;s++){var c=i[s].node,d=c.sortableInfo.index,u=c.offsetWidth,m=c.offsetHeight,h={width:this.width>u?u/2:this.width/2,height:this.height>m?m/2:this.height/2},f={x:0,y:0},g=i[s].edgeOffset;g||(i[s].edgeOffset=g=this.getEdgeOffset(c));var v=s<i.length-1&&i[s+1],y=s>0&&i[s-1];v&&!v.edgeOffset&&(v.edgeOffset=this.getEdgeOffset(v.node)),d!==this.index?(t&&(c.style[p.vendorPrefix+"TransitionDuration"]=t+"ms"),this.axis.x?this.axis.y?d<this.index&&(a.left+r.left-h.width<=g.left&&a.top+r.top<=g.top+h.height||a.top+r.top+h.height<=g.top)?(f.x=this.width+this.marginOffset.x,g.left+f.x>this.containerBoundingRect.width-h.width&&(f.x=v.edgeOffset.left-g.left,f.y=v.edgeOffset.top-g.top),null===this.newIndex&&(this.newIndex=d)):d>this.index&&(a.left+r.left+h.width>=g.left&&a.top+r.top+h.height>=g.top||a.top+r.top+h.height>=g.top+m)&&(f.x=-(this.width+this.marginOffset.x),g.left+f.x<this.containerBoundingRect.left+h.width&&(f.x=y.edgeOffset.left-g.left,f.y=y.edgeOffset.top-g.top),this.newIndex=d):d>this.index&&a.left+r.left+h.width>=g.left?(f.x=-(this.width+this.marginOffset.x),this.newIndex=d):d<this.index&&a.left+r.left<=g.left+h.width&&(f.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=d)):this.axis.y&&(d>this.index&&a.top+r.top+h.height>=g.top?(f.y=-(this.height+this.marginOffset.y),this.newIndex=d):d<this.index&&a.top+r.top<=g.top+h.height&&(f.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=d))),c.style[p.vendorPrefix+"Transform"]="translate3d("+f.x+"px,"+f.y+"px,0)"):n&&(this.sortableGhost=c,c.style.visibility="hidden",c.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)}},{key:"getWrappedInstance",value:function(){return(0,d.default)(m.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=m.withRef?"wrappedInstance":null;return s.default.createElement(e,i({ref:t},(0,p.omit)(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions")))}}]),n}(r.Component),t.displayName=(0,p.provideDisplayName)("sortableList",e),t.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,shouldCancelStart:function(e){if(-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase()))return!0},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}},t.propTypes={axis:l.default.oneOf(["x","y","xy"]),distance:l.default.number,lockAxis:l.default.string,helperClass:l.default.string,transitionDuration:l.default.number,contentWindow:l.default.any,onSortStart:l.default.func,onSortMove:l.default.func,onSortEnd:l.default.func,shouldCancelStart:l.default.func,pressDelay:l.default.number,useDragHandle:l.default.bool,useWindowAsScrollContainer:l.default.bool,hideSortableGhost:l.default.bool,lockToContainerEdges:l.default.bool,lockOffset:l.default.oneOfType([l.default.number,l.default.string,l.default.arrayOf(l.default.oneOfType([l.default.number,l.default.string]))]),getContainer:l.default.func,getHelperDimensions:l.default.func},t.childContextTypes={manager:l.default.object.isRequired},n};var r=n("q1tI"),s=m(r),l=m(n("17x9")),c=n("i8i4"),d=m(n("QLaP")),u=m(n("8ENv")),p=n("jTc+");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}},geji:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var i=n("mrSG"),o=n("q1tI");function a(e){return e.replace(/(^|\n)(#+)([^\s#]+)/g,function(e,t,n,i){return""+t+n+" "+i})}var r={allowedTypes:["BlockQuote","Emph","Hardbreak","Heading","Item","Link","List","Paragraph","Softbreak","Strong","Text"],className:"panel-description",renderers:{Heading:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e;switch(this.props.level){case 1:e="h4";break;case 6:e="h6";break;default:e="h5"}return Object(o.createElement)(e,{},this.props.children)},t}(o.Component),Link:function(e){return o.createElement("a",{href:e.href,title:e.title,target:"_blank",rel:"noopener noreferrer"},e.children)}},skipHtml:!0,softBreak:"br"}},hNNL:function(e,t,n){var i,o,a;window,o=[n("Hy43"),n("QK1G")],void 0===(a="function"==typeof(i=function(e,t){"use strict";var n=e.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,a=o/i,r=i-o%i;a=Math[r&&r<1?"round":"floor"](a),this.cols=Math.max(a,1)},i.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),o={x:this.columnWidth*i.col,y:i.y},a=i.y+e.size.outerHeight,r=n+i.col,s=i.col;s<r;s++)this.colYs[s]=a;return o},i._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},i._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;i<n;i++)t[i]=this._getColGroupY(i,e);return t},i._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols;n=e>1&&n+e>this.cols?0:n;var i=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=i?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},i._manageStamp=function(e){var n=t(e),i=this._getElementOffset(e),o=this._getOption("originLeft")?i.left:i.right,a=o+n.outerWidth,r=Math.floor(o/this.columnWidth);r=Math.max(0,r);var s=Math.floor(a/this.columnWidth);s-=a%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,c=r;c<=s;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},i._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},n})?i.apply(t,o):i)||(e.exports=a)},hk6T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(e){var t,n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,i=e.index;n||this.setDraggable(t,i)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,i=e.index;n?this.removeDraggable(t):this.setDraggable(t,i)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection,n=e.disabled;n||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,l.findDOMNode)(this);n.sortableInfo={index:t,collection:e,manager:this.context.manager},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,c.default)(u.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=u.withRef?"wrappedInstance":null;return r.default.createElement(e,i({ref:t},(0,d.omit)(this.props,"collection","disabled","index")))}}]),n}(a.Component),t.displayName=(0,d.provideDisplayName)("sortableElement",e),t.contextTypes={manager:s.default.object.isRequired},t.propTypes={index:s.default.number.isRequired,collection:s.default.oneOfType([s.default.number,s.default.string]),disabled:s.default.bool},t.defaultProps={collection:0},n};var a=n("q1tI"),r=u(a),s=u(n("17x9")),l=n("i8i4"),c=u(n("QLaP")),d=n("jTc+");function u(e){return e&&e.__esModule?e:{default:e}}},inLc:function(e,t,n){},"jTc+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=function(e,t,n){var i=e.slice(0);if(n>=i.length)for(var o=n-i.length;1+o--;)i.push(void 0);return i.splice(n,0,i.splice(t,1)[0]),i},t.omit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.keys(e).reduce(function(t,i){return-1===n.indexOf(i)&&(t[i]=e[i]),t},{})},t.closest=function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}},t.limit=function(e,t,n){if(n<e)return e;if(n>t)return t;return n},t.getElementMargin=function(e){var t=window.getComputedStyle(e);return{top:i(t.marginTop),right:i(t.marginRight),bottom:i(t.marginBottom),left:i(t.marginLeft)}},t.provideDisplayName=function(e,t){var n=t.displayName||t.name;return n?e+"("+n+")":e};t.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},t.vendorPrefix=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function i(e){return"px"===e.substr(-2)?parseFloat(e):0}},nH1N:function(e,t,n){},pQUg:function(e,t,n){var i="undefined"!=typeof window,o=i?window.Masonry||n("hNNL"):null,a=i?n("vX6Q"):null,r=n("3OWR"),s=n("7sSR"),l=n("sEfC"),c=n("Puqe"),d=n("17x9"),u=n("q1tI"),p=n("fhzG"),m={enableResizableChildren:d.bool,disableImagesLoaded:d.bool,onImagesLoaded:d.func,updateOnEachImageLoad:d.bool,options:d.object,elementType:d.string,onLayoutComplete:d.func,onRemoveComplete:d.func},h=p({masonry:!1,erd:void 0,latestKnownDomChildren:[],displayName:"MasonryComponent",propTypes:m,getDefaultProps:function(){return{enableResizableChildren:!1,disableImagesLoaded:!1,updateOnEachImageLoad:!1,options:{},className:"",elementType:"div",onLayoutComplete:function(){},onRemoveComplete:function(){}}},initializeMasonry:function(e){this.masonry&&!e||(this.masonry=new o(this.masonryContainer,this.props.options),this.props.onLayoutComplete&&this.masonry.on("layoutComplete",this.props.onLayoutComplete),this.props.onRemoveComplete&&this.masonry.on("removeComplete",this.props.onRemoveComplete),this.latestKnownDomChildren=this.getCurrentDomChildren())},getCurrentDomChildren:function(){var e=this.masonryContainer,t=this.props.options.itemSelector?e.querySelectorAll(this.props.options.itemSelector):e.children;return Array.prototype.slice.call(t)},diffDomChildren:function(){var e=!1,t=this.latestKnownDomChildren.filter(function(e){return!!e.parentNode});t.length!==this.latestKnownDomChildren.length&&(e=!0);var n=this.getCurrentDomChildren(),i=t.filter(function(e){return!~n.indexOf(e)}),o=n.filter(function(e){return!~t.indexOf(e)}),a=0,r=o.filter(function(e){var t=a===n.indexOf(e);return t&&a++,t}),s=o.filter(function(e){return-1===r.indexOf(e)}),l=[];return 0===i.length&&(l=t.filter(function(e,t){return t!==n.indexOf(e)})),this.latestKnownDomChildren=n,{old:t,new:n,removed:i,appended:s,prepended:r,moved:l,forceItemReload:e}},performLayout:function(){var e=this.diffDomChildren(),t=e.forceItemReload||e.moved.length>0;e.removed.length>0&&(this.props.enableResizableChildren&&e.removed.forEach(this.erd.removeAllListeners,this.erd),this.masonry.remove(e.removed),t=!0),e.appended.length>0&&(this.masonry.appended(e.appended),0===e.prepended.length&&(t=!0),this.props.enableResizableChildren&&e.appended.forEach(this.listenToElementResize,this)),e.prepended.length>0&&(this.masonry.prepended(e.prepended),this.props.enableResizableChildren&&e.prepended.forEach(this.listenToElementResize,this)),t&&this.masonry.reloadItems(),this.masonry.layout()},imagesLoaded:function(){this.props.disableImagesLoaded||a(this.masonryContainer).on(this.props.updateOnEachImageLoad?"progress":"always",l(function(e){this.props.onImagesLoaded&&this.props.onImagesLoaded(e),this.masonry.layout()}.bind(this),100))},initializeResizableChildren:function(){this.props.enableResizableChildren&&(this.erd=s({strategy:"scroll"}),this.latestKnownDomChildren.forEach(this.listenToElementResize,this))},listenToElementResize:function(e){this.erd.listenTo(e,function(){this.masonry.layout()}.bind(this))},destroyErd:function(){this.erd&&this.latestKnownDomChildren.forEach(this.erd.uninstall,this.erd)},componentDidMount:function(){this.initializeMasonry(),this.initializeResizableChildren(),this.imagesLoaded()},componentDidUpdate:function(){this.performLayout(),this.imagesLoaded()},componentWillUnmount:function(){this.destroyErd(),this.props.onLayoutComplete&&this.masonry.off("layoutComplete",this.props.onLayoutComplete),this.props.onRemoveComplete&&this.masonry.off("removeComplete",this.props.onRemoveComplete),this.masonry.destroy()},setRef:function(e){this.masonryContainer=e},render:function(){var e=c(this.props,Object.keys(m));return u.createElement(this.props.elementType,r({},e,{ref:this.setRef}),this.props.children)}});e.exports=h,e.exports.default=h},q7TX:function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var i=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n}},qyxT:function(e,t,n){"use strict";function i(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e}n.d(t,"a",function(){return i})},rOlK:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionRecommendations"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"installedExtensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"extensionCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"ccca6a50-9191-47fb-bf41-a79b784e77d2",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extensions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"8"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExtensionRecommendationsExtensionEdge"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ExtensionRecommendationsExtensionEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconURLs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"square100"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isBitsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsSupportLevel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canInstall"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:499}};n.loc.source={body:'query ExtensionRecommendations {\ncurrentUser {\nid\nlogin\ninstalledExtensions {\nid\nactivationConfig {\nanchor\nslot\nstate\n}\nextension {\nid\nclientID\nversion\n}\n}\n}\nextensionCategory(id: "ccca6a50-9191-47fb-bf41-a79b784e77d2") {\nid\nextensions(first: 8) {\nedges {\n...ExtensionRecommendationsExtensionEdge\n}\n}\n}\n}\nfragment ExtensionRecommendationsExtensionEdge on ExtensionEdge {\nnode {\nid\nauthorName\nclientID\niconURLs {\nsquare100\n}\nisBitsEnabled\nbitsSupportLevel\nname\nself {\ncanInstall\n}\nsummary\nversion\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"ry+o":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsUpdatePanel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePanelInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePanel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation ChannelPanelsUpdatePanel($input: UpdatePanelInput!) {\nupdatePanel(input: $input) {\npanel {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},sL9O:function(e,t,n){},"saS/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPanelsDeletePanel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePanelInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePanel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"panel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionPanel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation ChannelPanelsDeletePanel($input: DeletePanelInput!) {\ndeletePanel(input: $input) {\npanel {\nid\ntype\n... on DefaultPanel {\ntitle\nimageURL\nlinkURL\ndescription\n}\n... on ExtensionPanel {\nslotID\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},t3DW:function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}}},vX6Q:function(e,t,n){var i,o;!function(a,r){"use strict";i=[n("CUlp")],void 0===(o=function(e){return function(e,t){var n=e.jQuery,i=e.console;function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t,i){if(!(this instanceof a))return new a(e,t,i);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=function(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(e),this.options=o({},this.options),"function"==typeof t?i=t:o(this.options,t),i&&this.on("always",i),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(function(){this.check()}.bind(this))}a.prototype=Object.create(t.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&r[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var a=e.querySelectorAll(this.options.background);for(i=0;i<a.length;i++){var s=a[i];this.addElementBackgroundImages(s)}}}};var r={1:!0,9:!0,11:!0};function s(e){this.img=e}function l(e,t){this.url=e,this.element=t,this.img=new Image}return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},a.prototype.addImage=function(e){var t=new s(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var n=new l(e,t);this.images.push(n)},a.prototype.check=function(){var e=this;function t(t,n,i){setTimeout(function(){e.progress(t,n,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},s.prototype=Object.create(t.prototype),s.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},s.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},s.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},s.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype=Object.create(s.prototype),l.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},a.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(n(this))})},a.makeJQueryPlugin(),a}(a,e)}.apply(t,i))||(e.exports=o)}("undefined"!=typeof window?window:this)},wnTG:function(e,t,n){"use strict";var i=n("UL9e");function o(){var e={},t=0,n=0,i=0;return{add:function(o,a){a||(a=o,o=0),o>n?n=o:o<i&&(i=o),e[o]||(e[o]=[]),e[o].push(a),t++},process:function(){for(var t=i;t<=n;t++)for(var o=e[t],a=0;a<o.length;a++)(0,o[a])()},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=i.getOption(e,"async",!0),a=i.getOption(e,"auto",!0);a&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var r,s=o(),l=!1;function c(){for(l=!0;s.size();){var e=s;s=o(),e.process()}l=!1}function d(){var e;e=c,r=setTimeout(e,0)}return{add:function(e,t){!l&&a&&n&&0===s.size()&&d(),s.add(e,t)},force:function(e){l||(void 0===e&&(e=n),r&&(clearTimeout(r),r=null),e?d():c())}}}},x0Ue:function(e,t,n){var i,o;!function(a,r){"use strict";void 0===(o="function"==typeof(i=r)?i.call(t,n,t,e):i)||(e.exports=o)}(window,function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(t,n){return t[e](n)}})},xPN0:function(e,t,n){"use strict";var i=n("q1tI"),o=n("Ws8v"),a=n("X2PJ"),r=(n("JxAY"),function(e){return i.createElement(o.a,{className:e.className||"extension-manager-modal-container",background:a.a.Base,padding:2},e.children)});r.displayName="ModalContainer",n.d(t,"a",function(){return r})},xVpv:function(e,t,n){},yUZ2:function(e,t,n){"use strict";var i=n("t3DW").forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState,a=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var r=function(){var e=document.createElement("div");e.style.cssText="position: absolute; width: 1000px; height: 1000px; visibility: hidden; margin: 0; padding: 0;";var t=document.createElement("div");t.style.cssText="position: absolute; width: 500px; height: 500px; overflow: scroll; visibility: none; top: -1500px; left: -1500px; visibility: hidden; margin: 0; padding: 0;",t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,i=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:i}}(),s="erd_scroll_detection_container";function l(e,n,i){if(e.addEventListener)e.addEventListener(n,i);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,i)}}function c(e,n,i){if(e.removeEventListener)e.removeEventListener(n,i);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,i)}}function d(e){return o(e).container.childNodes[0].childNodes[0].childNodes[0]}function u(e){return o(e).container.childNodes[0].childNodes[0].childNodes[1]}return function(e,t){if(!document.getElementById(e)){var n=t+"_animation",i=t+"_animation_active",o="/* Created by the element-resize-detector library. */\n";o+="."+t+" > div::-webkit-scrollbar { display: none; }\n\n",o+="."+i+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+n+"; animation-name: "+n+"; }\n",o+="@-webkit-keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(t,n){n=n||function(e){document.head.appendChild(e)};var i=document.createElement("style");i.innerHTML=t,i.id=e,n(i)}(o+="@keyframes "+n+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}("erd_scroll_detection_scrollbar_style",s),{makeDetectable:function(e,c,p){function m(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(a.get(c),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var i=0;i<n.length;i++)t.log(n[i])}}function h(e){var t=o(e).container.childNodes[0],n=getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function f(){var e=getComputedStyle(c),t={};return t.position=e.position,t.width=c.offsetWidth,t.height=c.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function g(){if(m("storeStyle invoked."),o(c)){var e=f();o(c).style=e}else m("Aborting because element has been uninstalled")}function v(e,t,n){o(e).lastWidth=t,o(e).lastHeight=n}function y(){return 2*r.width+1}function b(){return 2*r.height+1}function E(e){return e+10+y()}function x(e){return e+10+b()}function k(e,t,n){var i=d(e),o=u(e),a=E(t),r=x(n),s=function(e){return 2*e+y()}(t),l=function(e){return 2*e+b()}(n);i.scrollLeft=a,i.scrollTop=r,o.scrollLeft=s,o.scrollTop=l}function C(){var e=o(c).container;if(!e){(e=document.createElement("div")).className=s,e.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",o(c).container=e,function(e){e.className+=" "+s+"_animation_active"}(e),c.appendChild(e);var t=function(){o(c).onRendered&&o(c).onRendered()};l(e,"animationstart",t),o(c).onAnimationStart=t}return e}function S(){if(m("Injecting elements"),o(c)){!function(){var e=o(c).style;if("static"===e.position){c.style.position="relative";var n=function(e,t,n,i){var o=n[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",t),t.style[i]=0)};n(t,c,e,"top"),n(t,c,e,"right"),n(t,c,e,"bottom"),n(t,c,e,"left")}}();var e=o(c).container;e||(e=C());var n,i,a,d,u=r.width,p=r.height,h="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; left: "+(n=(n=-(1+u))?n+"px":"0")+"; top: "+(i=(i=-(1+p))?i+"px":"0")+"; right: "+(d=(d=-u)?d+"px":"0")+"; bottom: "+(a=(a=-p)?a+"px":"0")+";",f=document.createElement("div"),g=document.createElement("div"),v=document.createElement("div"),y=document.createElement("div"),b=document.createElement("div"),E=document.createElement("div");f.dir="ltr",f.style.cssText="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",f.className=s,g.className=s,g.style.cssText=h,v.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",y.style.cssText="position: absolute; left: 0; top: 0;",b.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",E.style.cssText="position: absolute; width: 200%; height: 200%;",v.appendChild(y),b.appendChild(E),g.appendChild(v),g.appendChild(b),f.appendChild(g),e.appendChild(f),l(v,"scroll",x),l(b,"scroll",k),o(c).onExpandScroll=x,o(c).onShrinkScroll=k}else m("Aborting because element has been uninstalled");function x(){o(c).onExpand&&o(c).onExpand()}function k(){o(c).onShrink&&o(c).onShrink()}}function I(){function r(e,t,n){var i=function(e){return d(e).childNodes[0]}(e),o=E(t),a=x(n);i.style.width=o+"px",i.style.height=a+"px"}function s(i){var s=c.offsetWidth,d=c.offsetHeight;m("Storing current size",s,d),v(c,s,d),n.add(0,function(){if(o(c))if(l()){if(e.debug){var n=c.offsetWidth,i=c.offsetHeight;n===s&&i===d||t.warn(a.get(c),"Scroll: Size changed before updating detector elements.")}r(c,s,d)}else m("Aborting because element container has not been initialized");else m("Aborting because element has been uninstalled")}),n.add(1,function(){o(c)?l()?k(c,s,d):m("Aborting because element container has not been initialized"):m("Aborting because element has been uninstalled")}),i&&n.add(2,function(){o(c)?l()?i():m("Aborting because element container has not been initialized"):m("Aborting because element has been uninstalled")})}function l(){return!!o(c).container}function p(){m("notifyListenersIfNeeded invoked");var e=o(c);return void 0===o(c).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?m("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?m("Not notifying: Size already notified"):(m("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void i(o(c).listeners,function(e){e(c)}))}function f(){if(m("Scroll detected."),h(c))m("Scroll event fired while unrendered. Ignoring...");else{var e=c.offsetWidth,t=c.offsetHeight;e!==c.lastWidth||t!==c.lastHeight?(m("Element size changed."),s(p)):m("Element size has not changed ("+e+"x"+t+").")}}if(m("registerListenersAndPositionElements invoked."),o(c)){o(c).onRendered=function(){if(m("startanimation triggered."),h(c))m("Ignoring since element is still unrendered...");else{m("Element rendered.");var e=d(c),t=u(c);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(m("Scrollbars out of sync. Updating detector elements..."),s(p))}},o(c).onExpand=f,o(c).onShrink=f;var g=o(c).style;r(c,g.width,g.height)}else m("Aborting because element has been uninstalled")}function w(){if(m("finalizeDomMutation invoked."),o(c)){var e=o(c).style;v(c,e.width,e.height),k(c,e.width,e.height)}else m("Aborting because element has been uninstalled")}function P(){p(c)}function D(){var e;m("Installing..."),o(c).listeners=[],e=f(),o(c).startSize={width:e.width,height:e.height},m("Element start size",o(c).startSize),n.add(0,g),n.add(1,S),n.add(2,I),n.add(3,w),n.add(4,P)}p||(p=c,c=e,e=null),e=e||{},m("Making detectable..."),function(e){return!function(e){return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)}(e)||null===getComputedStyle(e)}(c)?(m("Element is detached"),C(),m("Waiting until element is attached..."),o(c).onRendered=function(){m("Element is now attached"),D()}):D()},addListener:function(e,t){if(!o(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(e).listeners.push(t)},uninstall:function(e){var t=o(e);t&&(t.onExpandScroll&&c(d(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&c(u(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&c(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))}}}},ywDw:function(e,t,n){}}]);