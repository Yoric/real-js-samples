function setEciNlpv(e){var t=$("#head .form"),n="",r="";if(e){var i=e.split("&");for(var s=0,o=i.length;s<o;s++){var u=i[s].split("=");u[0]=="eci"?n=u[1]:r=u[1]}var a=t.find('input[name="eci"]'),f=t.find('input[name="nlpv"]'),l='<input type="hidden" name="eci" value="'+n+'">',c='<input type="hidden" name="nlpv" value="'+r+'">';a.length==0?t.append(l):a.val(n),f.length==0?t.append(c):f.val(r)}else t.find('input[name="eci"],input[name="nlpv"]').remove();return{eci:n,nlpv:r}}(function(e){e.fn.hoverDelay=function(t){var n={hoverDuring:200,outDuring:200,hoverEvent:function(){e.noop()},outEvent:function(){e.noop()}},r=e.extend(n,t||{});return e(this).each(function(){var t=e(this),n,i;t.hover(function(){clearTimeout(i),n=setTimeout(function(){r.hoverEvent(t)},r.hoverDuring)},function(){clearTimeout(n),i=setTimeout(function(){r.outEvent(t)},r.outDuring)})})}})(jQuery),function(e){function t(t){this.each(function(){var n=e(this),r=n.find(t.blockWrap),i=n.find(t.left),s=n.find(t.right),o=t.arrowDisableClass,u=n.find(t.num),a=t.numSelectedClass,f=t.numAttr,l=n.find(t.block),c=l.length,h=l.outerWidth(!0),p=t.pagesTurningFun||function(){e.noop()},d=t.pagesTurningAfter||function(){e.noop()},v=t.mouseenterFun||function(){e.noop()},m=t.mouseleaveFun||function(){e.noop()},g=t.isLoop,y=typeof t.speed!="undefined"?t.speed:500,b=t.autoSpeed,w=t.eachGroupCount||1,E,S=0,x,T,N,C=function(e,u){r.stop(!0,!0),S=n.find(t.block).first().data("index"),x=w;if(e<0){if(!g){if(S==0)return;w>1&&S<w&&(x=S)}E=0,r.prepend(n.find(t.block+":gt("+(c-1+e*x)+")")).css({left:e*h*x})}else{if(!(e>0))return;if(!g){if(S+w==c)return;w>1&&(T=c-(S+w),T<w&&(x=T))}E=-h*e*x}p(r,S,c),r.animate({left:E},y,function(){e>0&&r.append(n.find(t.block+":lt("+e*x+")")).css({left:0}),S=n.find(t.block).first().data("index"),o&&(S==0?(i.addClass(o),s.removeClass(o)):S+w==c?(i.removeClass(o),s.addClass(o)):(i.removeClass(o),s.removeClass(o)));if(a){var u;f?u=n.find("["+f+"="+S+"]"):u=n.find(t.num+":eq("+S+")"),u.addClass(a).siblings().removeClass(a)}d(r,S,c)})},k=function(){if(!b)return;clearInterval(N),N=setInterval(function(){C(1)},b)},L=function(){i.on("click",function(){C(-1,e(this))}),s.on("click",function(){C(1,e(this))}),u.on("click",function(){var r=e(this),i;if(f)i=r.attr(f);else{var s=r.parent().find(t.num).first().index();i=r.index()-Math.max(s,0)}C(i-n.find(t.block).first().data("index"),r)}),n.on("mouseenter",function(){clearInterval(N),v(s,i,S,c)}).on("mouseleave",function(){m(s,i),k()})};if(c<=w)return;l.each(function(t){e(this).data("index",t)}),L(),k()})}e.fn.slider=function(){return t.apply(this,arguments),this}}(jQuery),function(){function r(t){var n=this;this.url=t.url,this.mid="",this.huid="",this.suggest=null,this.whichPage=null,this.data=null,this.nlpData=null,this.historyData=null,this.historyInited=!1,this.loading=!1,this.displaying=!1,this.canceled=!1,this.enableShow=!0,this.isPrivacyMode=!1,window.hotword=function(t){if(So.lib.soLocalStorage&&$.isArray(t)&&t.length>0){var r={time:So.comm.t,data:t};So.lib.soLocalStorage.setItem(e,JSON.stringify(r))}n.dataLoaded(t)}}function y(e){var t="";return e.length==0?"":(t=e.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/\'/g,"&#39;"),t=t.replace(/\"/g,"&quot;"),t=t.replace(/\n/g,"<br>"),t)}function b(e){s(this,e),this.render()}function w(e){var t=!1;for(var n=0;n<e.length;n++)if(e.charCodeAt(n)>255){t=!0;break}return t}function E(e,t){var n=[],r=So.lib.soLocalStorage.getItem("sosug");r?r=JSON.parse(r):r=[];var i=$.trim(e).toLowerCase(),s=w(i),o=[];for(var u=0,a=r.length;u<a;u++){var f="",l="";try{var f=decodeURIComponent(r[u].word).toLowerCase(),l=r[u].pinyin&&decodeURIComponent(r[u].pinyin).toLowerCase()}catch(c){}if(f.indexOf(i)==0||!s&&l&&l.indexOf(i)==0){r[u].word=f.replace(/[<>]/g,""),r[u].storage=1,o.push(r[u]);if(o.length==2)break}}if(t.length>0){var h=0;for(var u=0,a=t.length;u<a;u++){var p=!1;if(t[u].storage)continue;for(var d=0,v=o.length;d<v;d++)if(t[u].word==o[d].word){p=!0;break}if(!p){n.push(t[u]),h++;if(h>=10-o.length)break}}}return o.length>0&&monitor.setConf("clickUrl","//s.360.cn/so/click.gif").log({pro:"so",pid:So.comm.pid||"",mod:"sugshow",num:o.length},"click"),o.concat(n)}function A(e){$.ajax({url:"//smart.sug.so.com/translate-query",method:"POST",dataType:"JSONP",jsonpCallback:"trans",data:{query:$.trim(So.comm.q)}}).success(function(t){t&&t.data?e(t.data):e(null)})}function O(){var e=$.trim(So.comm.q);w(e)?A(M):M(null)}function M(e){if(T&&T.localSave&&So.lib.soLocalStorage&&typeof JSON!="undefined"&&So.web.savesug==1){var t=$.trim(So.comm.q),n=/[^\x00-\xff]/g;if(t.replace(n,"mm").length<=2||t.replace(n,"mm").length>40)return;t=encodeURIComponent(t);var r=C.getHistoryData("sosug"),i=!1,s=0;$.each(r,function(e,n){n.word.toLowerCase()==t.toLowerCase()&&(i=!0,s=e)}),i&&r.splice(s,1);var o={};e&&(o={pinyin:encodeURIComponent(e)}),r.unshift($.extend(o,{word:t})),r.length>100&&r.pop(),So.lib.soLocalStorage.setItem("sosug",JSON.stringify(r)),C.addHistoryDataId()}}var e="haoSouHotWord",t=0,n=[];r.prototype={loadData:function(e){var t=this;T.localSave&&!t.isPrivacyMode&&(t.historyData=t.getHistoryData("sosug")),So.lib.cookie.get("sosug")!=="0"?(t.loading=!0,t.getNLPRecom(e)):t.render()},dataLoaded:function(e){this.data=e,this.loading=!1,this.render()},getNLPRecom:function(e){var t=this,n=[],r=[];if(!t.historyData||t.historyData.length==0){t.nlpData=null,t.loading=!1,t.render();return}for(var i=0,s=t.historyData.length;i<s;i++){if(i==4)break;n.push(t.historyData[i].word),typeof t.historyData[i].id!="undefined"?r.push(t.historyData[i].id):r.push("-1")}var o="",u="",a={};o="//sug.so.360.cn/suggest",a={encodein:"utf-8",encodeout:"utf-8",format:"json",mid:this.mid,huid:this.huid,info:JSON.stringify({q:n,id:r})},t.whichPage==1&&(a.sid=So.comm.sid,a.pq=encodeURIComponent(So.comm.q)),$.ajax({url:o,data:a,dataType:"jsonp"}).success(function(n){t.nlpData=n.data,t.loading=!1,t.render(),e&&e()})},setOptions:function(e){this.whichPage=e.whichPage||0,this.mid=e.mid,this.huid=e.huid},setSuggest:function(e){this.suggest=e},addHistoryDataId:function(){var e=this;if(!So.lib.soLocalStorage)return;var t=So.lib.soLocalStorage.getItem("sosug");t?t=JSON.parse(t):t=[];for(var n=0,r=t.length;n<r;n++)if(typeof t[n].id=="undefined"){var i=+(new Date);t[n].id=n+i.toString()}So.lib.soLocalStorage.setItem("sosug",JSON.stringify(t))},getHistoryData:function(e){var t=this,n=[];return So.lib.soLocalStorage&&(n=So.lib.soLocalStorage.getItem(e),n?n=JSON.parse(n):n=[]),n},removeDuplicateData:function(e,t){var n=this;for(var r=0,i=e.length;r<i;r++)for(var s=0;s<t.length;s++)e[r].word.toLowerCase()==t[s].word.toLowerCase()&&t.splice(s,1);var o=e.concat(t.slice(0,9-e.length));return o},render:function(){this.displaying=!0;var e=this,t=this.suggest,n="",r=0,i=[],s=[],o=[];if(e.nlpData)for(var u=0,a=e.nlpData.length;u<a;u++)o.push({type:e.nlpData[u].type,word:y(e.nlpData[u].word),id:e.nlpData[u].id||"",isNew:0});if(e.data)for(var u=0,a=e.data.length;u<a;u++){if(u==8)break;o.push({type:"news",word:y(e.data[u][0]),isNew:e.data[u][2]})}i=e.removeDuplicateData(s,o);for(var u=0,a=i.length;u<a;u++){var f=i[u],l="";e.whichPage==1&&(l=So.comm.sid||"");var c="";f.id&&f.id!="0"&&f.id!="-1"&&(c=f.id);if(f.type=="history")n+='<li class="local" unselectable="on" ac_index="'+u+'" acvalue="'+f.word+'" ac_psid="'+l+'" data-delid="'+c+'" data-type="local-sug"><a href="javascript:;" unselectable="on" title="\u5728\u53f3\u4e0a\u89d2\u8bbe\u7f6e\u4e2d\u53ef\u5173\u95ed\u641c\u7d22\u5386\u53f2\u8bb0\u5f55\u54e6~" class="del">\u5220\u9664</a>'+f.word+"</li>";else if(f.type=="news")r++,n+='<li class="clearfix" data-type="hotword" unselectable="on" ac_index="'+u+'" ac_psid="'+l+'" acvalue="'+f.word+'"><span unselectable="on">'+f.word+"</span></li>";else if(f.type=="nlp"||f.type=="sug")n+='<li class="clearfix" data-type="'+f.type+'_recomm" unselectable="on" ac_index="'+u+'" ac_psid="'+l+'" acvalue="'+f.word+'"><span unselectable="on" >'+f.word+"</span></li>"}n!=""?(t.oMenu.innerHTML=n,t.oMenu.setAttribute("ac_word",""),t.oMenu.setAttribute("ver",""),t.oMenu.setAttribute("ssid",""),t.selectedIndex=-2,t.show(),e.historyData&&t.sugStorageDel(),!e.historyInited&&e.historyData&&(e.historyInited=!0),So.lib.log("suggest-log",{type:"history-show"})):(t.oMenu.innerHTML=n,t.hide(),t.selectedIndex=-2)},hide:function(){this.suggest.hide(),this.displaying=!1},cancel:function(e){this.canceled=e,e&&this.displaying&&this.hide()}};var i=function(e){var t=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script"),r=!1;n.src=e,n.charset="utf-8",n.onerror=n.onload=n.onreadystatechange=function(){!r&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")&&(r=!0,t.removeChild(n))},t.insertBefore(n,t.firstChild)},s=function(e,t){for(var n in t)e[n]=t[n];return e},o=function(e,t){return s(document.createElement(e),t)},u=function(e){return e=e||window.event,e.target||e.srcElement},a=function(e){return e=e||window.event,e.which||e.keyCode||e.charCode},f=function(e){e=e||window.event,e.preventDefault&&e.preventDefault()||(e.returnValue=!1),e.stopPropagation&&e.stopPropagation()},l=function(e,t){return(new RegExp("(?:^|\\s)"+t+"(?:\\s|$)","i")).test(e.className)},c=function(e,t){l(e,t)||(e.className=(e.className+" "+t).replace(/^\s+|\s+$/g,""))},h=function(e,t){l(e,t)&&(e.className=e.className.replace(new RegExp("(?:\\s|^)"+t+"(?:\\s|$)","i")," ").replace(/^\s+|\s+$/g,""))},p=function(e,t,n){do if(e.tagName==t)return e;while(e!=n&&(e=e.parentNode));return null},d=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},v=function(e,t,n){var r=e.split("://");r.shift();var i=parseInt(T.width)-t.length*15-5-(n?16:29)-15,s=r.join("");return s.charAt(s.length-1)=="/"&&(s=s.substr(0,s.length-1)),s.length*7>i&&(s=s.substr(0,Math.floor(i/7)-2)+".."),s},m=function(e){return e.length>3||e.length>1&&/[\u4e00-\u9fa5]/.test(e)?!0:!1},g=/msie/i.test(navigator.userAgent);b.prototype={width:0,oText:null,itemsData:null,oMenu:null,oWrap:null,selectedIndex:-2,filteredValue:"",filteringValue:"",acValue:"",closed:!1,showCount:0,isCreateWidth:!0,focusByClick:!1,show:function(){(this.options.enableHotword||this.oText.value)&&this.oMenu.childNodes.length&&(window.sugIsShow||(this.oWrap.style.display="",this.closed=!1),window.sugIsShow=undefined)},hide:function(e){typeof this.beforeHide=="function"&&this.beforeHide(),this.oWrap.style.display="none",this.closed=!0,C.displaying=!1},refreshItems:function(e){var t=this,n=t.itemsData;if(t.oText.value!=t.query)return;if(n&&!n.__isItemsDataRendered||e){var r=[],i=Math.min(t.showCount,n.length);for(var s=0;s<i;s++){var o="";C.whichPage==1&&(o=So.comm.sid||"");var u="";n[s].id&&n[s].id!="0"&&n[s].id!="-1"&&(u=n[s].id);if(n[s].storage==1){var a=n[s].sVal.replace(/&/g,"&amp;").replace(/"/g,"&quot;");r.push('<li class="local" ac_index="'+s+'" acValue="'+a+'" ac_psid="'+o+'" data-delid="'+u+'" data-type="local"><a href="javascript:;" unselectable="on" class="del" title="\u5728\u53f3\u4e0a\u89d2\u8bbe\u7f6e\u4e2d\u53ef\u5173\u95ed\u641c\u7d22\u5386\u53f2\u8bb0\u5f55\u54e6~">\u5220\u9664</a>'+a+"</li>")}else r.push('<li ac_resrc="'+n[s].resrc+'" ac_psid="'+o+'" ac_source="'+n[s].source+'" ac_ext="'+n[s].ext+'" ac_index="'+s+'" acValue="'+n[s].sVal.replace(/&/g,"&amp;").replace(/"/g,"&quot;")+'">'+n[s].sTitle.replace(/&/g,"&amp;").replace(/"/g,"&quot;")+"</li>")}t.oMenu.innerHTML=r.join("").replace(/(<\w+)/g,'$1 unselectable="on"'),t.oMenu.setAttribute("ac_word",t.query),t.oMenu.setAttribute("ver",t.version),t.oMenu.setAttribute("ssid",t.ssid),n.length?t.show():t.hide(),t.filteredValue=t.filteringValue,t.acValue="",t.selectedIndex=-2,n.__isItemsDataRendered=!0,t.findStorageDel()}},findStorageDel:function(){var e=this;$(e.oMenu).find(".local a").on("click",function(t){var n=$(this).parent(".local");e.delStorage(n.attr("acvalue"),n.data("delid")),e.itemsData.splice(n.attr("ac_index"),1),e.refreshItems(!0),f(t),So.lib.log("suggest-log",{type:"typing-sug-dele"})})},sugStorageDel:function(){var e=this;$(e.oMenu).find(".local a").on("click",function(t){var n=$(this).parent(".local");e.delStorage(n.attr("acvalue"),n.data("delid")),C.loadData(),f(t),So.lib.log("suggest-log",{type:"sug-dele"}),$('.ac_wrap [data-type="local-sug"]').length==0&&$(".ac_wrap .bottom-tool").hide()})},delStorage:function(e,t){if(!e)return;var n=C.getHistoryData("sosug");e=encodeURIComponent(e);for(var r=0,i=n.length;r<i;r++)t&&n[r]&&n[r].id&&t==n[r].id?n.splice(r,1):n[r]&&n[r].word.toLowerCase()==e.toLowerCase()&&n.splice(r,1);So.lib.soLocalStorage.setItem("sosug",JSON.stringify(n))},setSelectedIndex:function(e,t){var n=this,r=n.oMenu.childNodes;if(r.length){n.selectedIndex>-1&&h(r[n.selectedIndex],"selected"),e=(e+r.length+2)%(r.length+2);if(e==r.length)n.acValue=n.oText.value=n.filteringValue,e=-2;else{if(e==r.length+1)return n.setSelectedIndex(-2-n.selectedIndex,t),!1;n.acValue=n.oText.value=r[e].getAttribute("acValue"),c(r[e],"selected")}}else e=-2;n.selectedIndex=e},render:function(){function m(){if(b)return!1;var t=r.value,n=e.options.enableHotword&&(!e.options.clickEmptyToTriggerHotword||e.focusByClick);n&&C.cancel(t&&t!=e.acValue);var i=$(".ac_wrap .bottom-tool");t?(t!=e.filteredValue&&t!=e.filteringValue&&t!=e.acValue&&(e.filteringValue=t,e.refreshData()),e.itemsData&&e.refreshItems(),v!=40&&v!=38&&i.hide()):(e.acValue=e.filteringValue=e.filteredValue="",n&&C.enableShow?!C.loading&&!C.displaying&&C.loadData(function(){So.lib.cookie.get("sosug")!=="0"&&C.getHistoryData("sosug")&&C.getHistoryData("sosug").length>0&&(i.length==0?($('<div class="bottom-tool"><a unselectable="on" href="javascript:;" id="clear_history">\u5220\u9664\u5386\u53f2</a></div>').appendTo(".ac_wrap_inner"),$("#clear_history").on("click",function(){$(".ac_wrap .bottom-tool").hide(),clearSugStorage(),$(".ac_wrap .ac_menu").html(""),e.hide()})):i.show())}):e.hide())}function y(t){e.closed&&e.show(),clearInterval(e._refreshTimer),e._refreshTimer=setInterval(m,100)}var e=this;if(e._rendered)return;e._rendered=!0;var t='<div class="ac_wrap_inner"><div class="ac_menu_ctn"><ul class="ac_menu"></ul></div></div>';/msie[ \/os]*6\./ig.test(navigator.userAgent)&&(t='<iframe class="ac_bgIframe" frameBorder="0"></iframe>'+t);var n=o("div",{className:"ac_wrap",innerHTML:t.replace(/(<\w+)/g,'$1 unselectable="on"')}),r=e.oText,i=e.oPos||r;i.parentNode.insertBefore(n,i);var s=e.oMenu=n.getElementsByTagName("ul")[0];r.setAttribute("autoComplete","off");if(e.isCreateWidth){var l=e.oText.getAttribute("suggestWidth")||i.offsetWidth+"px";g?n.style.width=l:n.style.minWidth=l}n.style.top=i.offsetHeight-1+"px",n.style.left=i.offsetLeft+"px",e.oWrap=n,e.width=l,e.hide(),d(e.oText,"click",function(t){C.enableShow=!0,e.show()});var v="";d(e.oText,"keydown",function(t){var r=0;v=a(t),C.enableShow=!0;switch(v){case 40:r=1;break;case 38:r=-1;break;case 27:C.enableShow=!1,e.closed||(e.hide(),f(t));break;case 13:}r&&(f(t),n.style.display=="none"?e.show():e.setSelectedIndex(e.selectedIndex+r))}),d(e.oText,"focus",y),d(e.oText,"input",function(){e.closed&&e.show(),m()}),d(e.oText,"click",function(){e.oText.value||(e.focusByClick=!0)}),d(r.form,"submit",function(t){if(e.onBeforeSubmit&&e.selectedIndex>=0){var n=e.oMenu.children[e.selectedIndex],i={inputValue:r.value,index:parseInt(n.getAttribute("ac_index"),10),word:n.getAttribute("acvalue"),type:n.getAttribute("data-type"),resrc:n.getAttribute("ac_resrc"),ext:n.getAttribute("ac_ext"),source:n.getAttribute("ac_source"),psid:n.getAttribute("ac_psid")};e.onBeforeSubmit(i)===!1&&f(t)}setTimeout(function(){e&&(e.oText.blur(),e.acValue=e.filteringValue=e.filteredValue="",e.oMenu.innerHTML="",e.selectedIndex=-2,C.displaying=!1)},20)}),d(e.oText,"blur",function(t){e.hide(),clearInterval(e._refreshTimer)});var b,w;n.onmousedown=function(e){var t=u(e),n=p(t,"LI",s);f(e),clearTimeout(w),b=!0,w=setTimeout(function(){b=!1},2e3)},s.onclick=function(t){var n=u(t),i=p(n,"LI",s);if(i){r.blur(),setTimeout(function(){r.focus()},10);var o=0,a=i,f=r.value;while(a=a.previousSibling)o++;e.setSelectedIndex(o,!0),e.hide(),clearInterval(e._refreshTimer);var l={index:parseInt(i.getAttribute("ac_index"),10),word:i.getAttribute("acvalue"),type:i.getAttribute("data-type"),inputValue:f};e.onselectitem&&e.onselectitem(l)}},s.onmouseover=function(t){var n=u(t),r=p(n,"LI",s);r&&(e.enableHoverState?c(r,"hover"):(e.selectedIndex>-1&&h(e.oMenu.childNodes[e.selectedIndex],"selected"),c(r,"selected"),e.selectedIndex=parseInt(r.getAttribute("ac_index"))))},s.onmouseout=function(t){var n=u(t),r=p(n,"LI",s);r&&(e.enableHoverState?h(r,"hover"):h(r,"selected"))},n.onmouseout=function(t){e.enableHoverState||(e.selectedIndex>-1&&h(e.oMenu.childNodes[e.selectedIndex],"selected"),e.selectedIndex=-2)},document.activeElement===e.oText&&y()}};var S=null,x={},T=null,N,C=new r({url:"//www.so.com/zt/api/hotword.js?t="+ +(new Date)}),k=function(e,t){T.dataAdapter&&!t&&(e=T.dataAdapter(e));var n=[],r=e.result||[],i=e.version||"",s=e.ssid||"",o=S.value,u=e.ext||"";if(T.localSave&&So.lib.soLocalStorage&&typeof JSON!="undefined"&&!C.isPrivacyMode){var a=$.trim(S.value),f=/[^\x00-\xff]/g;a.replace(f,"mm").length>=2&&(r=E(o,r))}for(var l=0,c=r.length;l<c;l++){var h=r[l].word,p=h,d=r[l].resrc||"",v=r[l].source||"",m=u,g="";C.whichPage==1&&(g=So.comm.sid||""),o&&p.toLowerCase().indexOf(o.toLowerCase())===0&&(p=p.substr(0,o.length)+"<b>"+p.substr(o.length)+"</b>"),h&&n.push({sVal:h,sTitle:p,storage:r[l].storage||0,resrc:d,psid:g,ext:m,source:v})}T.query=e.query,T.itemsData=n,T.version=i,T.ssid=s,e.query&&(x[e.query]=e)},L=function(e){e=s({clickEmptyToTriggerHotword:!1,enableHotword:!1,alignElement:e.inputElement,pqElement:"",urlPrefix:"http://sug.so.360.cn/suggest/word?callback=suggest_so&encodein=utf-8&encodeout=utf-8&word=",enableHoverState:!1,localSave:0,showCount:10,isCreateWidth:!0},e);var t=e.urlPrefix.match(/callback=(\w+)/)[1];window[t]=k,S=e.inputElement,T=window.cb=new b({options:e,oText:S,oPos:e.alignElement,enableHoverState:e.enableHoverState,dataAdapter:e.dataAdapter,beforeHide:e.beforeHide||function(){},beforeSelectItem:e.beforeSelectItem,onBeforeSubmit:e.onBeforeSubmit,localSave:e.localSave,showCount:e.showCount,isCreateWidth:e.isCreateWidth,onselectitem:function(e){if(this.beforeSelectItem&&this.beforeSelectItem(e)===!1)return;var t=S.form.elements;for(var n=0;n<t.length;n++)if(t[n].type=="submit"){t[n].click();return}},refreshData:function(){var t=x[S.value];if(t)k(t,!0);else{var r=e.urlPrefix+"&fields=word&word="+encodeURIComponent(S.value);e.sid&&(r+="&sid="+$('input[name="psid"]').val()),e.pqElement&&(r+="&pq="+encodeURIComponent(So.comm.q)),e.mid&&(r+="&mid="+encodeURIComponent(e.mid)),e.huid&&(r+="&huid="+encodeURIComponent(e.huid)),window.performance&&n.push({url:r,startTime:+(new Date)}),i(r)}}}),C.setSuggest(T),C.setOptions(e)};window.clearSugStorage=function(){So.lib.soLocalStorage&&So.lib.soLocalStorage.removeItem("sosug")},window.setStorage=O,setTimeout(function(){O()},300,!0),setTimeout(function(){try{external.AppCmd(external.GetSID(window),"sesafe","GetIncognitoStatus","1","",function(e,t){100==e&&t=="true"&&(C.isPrivacyMode=!0)})}catch(e){}},30),window.createSuggest=L,window.performance&&window.performance.getEntries&&Array.prototype.filter&&setInterval(function(){var e=window.performance.getEntries();for(;t<e.length;t++)n=n.filter(function(n){return decodeURIComponent(e[t].name).indexOf(decodeURIComponent(n.url))>-1?(e[t].duration>=3e3&&So.lib.log("suggest-log",{type:"timeout",datatype:n.url.match(/word&word=([\s\S]*?)(?:&|$)/)[1]}),!1):!0});var r=+(new Date);n=n.filter(function(e){return r-e.startTime>=3e3?(So.lib.log("suggest-log",{type:"timeout",datatype:e.url.match(/word&word=([\s\S]*?)(?:&|$)/)[1]}),!1):!0})},3e3)}(),function(){if(typeof window.monitor!="undefined")return;var e="V1.2.2(2012.8.7)",t="360.cn",n=function(r,s){var o=document,u=navigator,f=r.screen,l=document.domain.toLowerCase(),h=u.userAgent.toLowerCase(),p={trim:function(e){return e.replace(/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g,"")}},d={on:function(e,t,n){e.addEventListener?e&&e.addEventListener(t,n,!1):e&&e.attachEvent("on"+t,n)},parentNode:function(e,t,n){n=n||5,t=t.toUpperCase();while(e&&n-->0){if(e.tagName===t)return e;e=e.parentNode}return null}},v={fix:function(e){if(!("target"in e)){var t=e.srcElement||e.target;t&&t.nodeType==3&&(t=t.parentNode),e.target=t}return e}},m=function(){function e(e){return e!=null&&e.constructor!=null?Object.prototype.toString.call(e).slice(8,-1):""}return{isArray:function(t){return e(t)=="Array"},isObject:function(e){return e!==null&&typeof e=="object"},mix:function(e,t,n){for(i in t)if(n||!(e[i]||i in e))e[i]=t[i];return e},encodeURIJson:function(e){var t=[];for(var n in e){var r=e[n];if(typeof r=="undefined")continue;/^(password|pass|username)$/i.test(n)&&(n="__key__",r="__val__"),/(password|pass|username)=/i.test(e[n])&&(r="__val__"),t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}return t.join("&")}}}(),g={get:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=o.cookie.match(n))?unescape(t[2]):""},set:function(e,t,n){n=n||{};var r=n.expires;typeof r=="number"&&(r=new Date,r.setTime(r.getTime()+n.expires)),o.cookie=e+"="+escape(t)+(r?";expires="+r.toGMTString():"")+(n.path?";path="+n.path:"")+(n.domain?"; domain="+n.domain:"")}},y={getProject:function(){return""},getReferrer:function(){return o.referrer},getBrowser:function(){var e={"360se-ua":"360se",TT:"tencenttraveler",Maxthon:"maxthon",GreenBrowser:"greenbrowser",Sogou:"se 1.x / se 2.x",TheWorld:"theworld"};for(i in e)if(h.indexOf(e[i])>-1)return i;var t=!1;try{+external.twGetVersion(external.twGetSecurityID(r)).replace(/\./g,"")>1013&&(t=!0)}catch(n){}if(t)return"360se-noua";var s=h.match(/(msie|chrome|safari|firefox|opera)/);return s=s?s[0]:"",s=="msie"&&(s=h.match(/msie[^;]+/)),s},getLocation:function(){var e="";try{e=location.href}catch(t){e=o.createElement("a"),e.href="",e=e.href}return e=e.replace(/[?#].*$/,""),e=/\.(s?htm|php)/.test(e)?e:e.replace(/\/$/,"")+"/",e},getGuid:function(){function e(e){var t=0,n=0,r=e.length-1;for(r;r>=0;r--){var i=parseInt(e.charCodeAt(r),10);t=(t<<6&268435455)+i+(i<<14),(n=t&266338304)!=0&&(t^=n>>21)}return t}function n(){var t=[u.appName,u.version,u.language||u.browserLanguage,u.platform,h,f.width,"x",f.height,f.colorDepth,o.referrer].join(""),n=t.length,i=r.history.length;while(i)t+=i--^n++;return(Math.round(Math.random()*2147483647)^e(t))*2147483647}var i="__guid",s=g.get(i);if(!s){s=[e(o.domain),n(),+(new Date)+Math.random()+Math.random()].join(".");var a={expires:2592e7,path:"/",domain:".so.com"};if(t){var c="."+t;if(l.indexOf(c)>0&&l.lastIndexOf(c)==l.length-c.length||l==c)a.domain=c}g.set(i,s,a)}return function(){return s}}(),getCount:function(){var e="count",t=g.get(e);return t=(parseInt(t)||0)+1,g.set(e,t,{expires:864e5,path:"/"}),function(){return t}}(),getFlashVer:function(){var e=-1;if(u.plugins&&u.mimeTypes.length){var t=u.plugins["Shockwave Flash"];t&&t.description&&(e=t.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}else if(r.ActiveXObject&&!r.opera)for(var n=16;n>=2;n--)try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n);if(i){var s=i.GetVariable("$version");e=s.replace(/WIN/g,"").replace(/,/g,".")}}catch(o){}return e=parseInt(e,10),function(){return e}}(),getContainerId:function(e){var t=E.areaIds;if(t){var n,r=new RegExp("^("+t.join("|")+")$","ig");while(e){if(e.id&&r.test(e.id))return(e.getAttribute("data-desc")||e.id).substr(0,100);e=e.parentNode}}return""},getText:function(e){return p.trim((e.getAttribute("text")||e.innerText||e.textContent||e.title||"").substr(0,100))}},w={getBase:function(){return{p:y.getProject(),u:y.getLocation(),id:y.getGuid(),guid:y.getGuid()}},getTrack:function(){return{b:y.getBrowser(),c:y.getCount(),r:y.getReferrer(),fl:y.getFlashVer()}},getClick:function(e){e=v.fix(e||event);var t=e.target,n=t.tagName,r=y.getContainerId(t);if(t.type!="submit"){if(n=="AREA")return{f:t.href,c:"area:"+t.parentNode.name,cId:r};var i,s;return n=="IMG"&&(i=t),t=d.parentNode(t,"A"),t?(s=y.getText(t),{f:t.href,c:s?s:i.src.match(/[^\/]+$/),cId:r}):!1}var o=d.parentNode(t,"FORM");if(o){var u=o.id||"",a=t.id,f={f:o.action,c:"form:"+(o.name||u),cId:r};if((u=="search-form"||u=="searchForm")&&(a=="searchBtn"||a=="search-btn")){var l=S("kw")||S("search-kw")||S("kw1");f.w=l?l.value:""}return f}},getKeydown:function(e){e=v.fix(e||event);if(e.keyCode!=13)return!1;var t=e.target,n=t.tagName,r=y.getContainerId(t);if(n=="INPUT"){var i=d.parentNode(t,"FORM");if(i){var s=i.id||"",o=t.id,u={f:i.action,c:"form:"+(i.name||s),cId:r};if(o=="kw"||o=="search-kw"||o=="kw1")u.w=t.value;return u}}return!1}},E={trackUrl:null,clickUrl:null,areaIds:null},S=function(e){return document.getElementById(e)};return{version:e,util:y,data:w,config:E,sendLog:function(){return r.__monitor_imgs={},function(e){var t="log_"+ +(new Date),n=r.__monitor_imgs[t]=new Image;n.onload=n.onerror=function(){r.__monitor_imgs[t]=null,delete r.__monitor_imgs[t]},n.src=e}}(),buildLog:function(){var e="";return function(t,n){if(t===!1)return;t=t||{};var r=w.getBase();t=m.mix(r,t,!0);var i=m.encodeURIJson(t);if(i==e)return;e=i,setTimeout(function(){e=""},500),i+="&t="+ +(new Date),n=n.indexOf("?")>-1?n+"&"+i:n+"?"+i,this.sendLog(n)}}(),log:function(e,t){t=t||"click";var n=E[t+"Url"];n||alert("Error : the "+t+"url does not exist!"),this.buildLog(e,n)},setConf:function(e,t){var n={};return m.isObject(e)?n=e:n[e]=t,this.config=m.mix(this.config,n,!0),this},setUrl:function(e){return e&&(this.util.getLocation=function(){return e}),this},setProject:function(e){return e&&(this.util.getProject=function(){return e}),this},setId:function(){var e=[],t=0,n;while(n=arguments[t++])m.isArray(n)?e=e.concat(n):e.push(n);return this.setConf("areaIds",e),this},getTrack:function(){var e=this.data.getTrack();return this.log(e,"track"),this},getClickAndKeydown:function(){var e=this;return d.on(o,"click",function(t){var n=e.data.getClick(t);e.log(n,"click")}),d.on(o,"keydown",function(t){var n=e.data.getKeydown(t);e.log(n,"click")}),n.getClickAndKeydown=function(){return e},this}}}(window);n.setConf({trackUrl:"//s.360.cn/w360/s.htm",clickUrl:"//s.360.cn/w360/c.htm",wpoUrl:"//s.360.cn/w360/p.htm"}),window.monitor=n}();var paramsComm={},Display={moheLog:function(e){So.lib.log("",$.extend({},e,{_guid:So.lib.cookie.get("__guid")||"",_huid:So.lib.cookie.get("__huid")||"",qid:So.comm.user.qid,pid:So.comm.pid,sid:So.comm.sid,abv:So.comm.abv,src:So.comm.src}),"sou/ob","//s.qhupdate.com/sou/ob.gif")},kzxLog:function(e){So.lib.log("",$.extend({},e,{uid:So.comm.guid,device:2,sign:"360_e39369d1",channel:"sousuo"}),"","//news.qhstatic.com/srv/c")}};So.web._srp=function(){monitor.util.getGuid=function(){return So.lib.cookie.get("QiHooGUID")};var e=monitor.data.getBase;return monitor.data.getBase=function(){var t=e();return delete t.id,delete t.u,delete t.p,t},function(){paramsComm=$.extend({_guid:So.lib.cookie.get("__guid")||"",_huid:So.lib.cookie.get("__huid")||"",qid:So.comm.user.qid,pid:So.comm.pid,sid:So.comm.sid,abv:So.comm.abv,src:So.comm.src},So.comm.monitor);var e=$(".adv-search-btn").attr("data-val"),t=function(){var e=$("div[id^=mohe-]").length,t={},n="";$("a[data-res]").each(function(e,n){var r=$(n).data("res"),i=r.e||"";if(!i)return!0;t.hasOwnProperty(i)||(t[i]=0),t[i]++}),e>0&&(t.ob=e);for(engtype in t)n.length!==0&&(n+=","),n+=engtype+":"+t[engtype];return n}(),n=function(){return paramsComm._huid?paramsComm._huid:So.lib.cookie.get("__huid")||""},r=function(){var e=[],t=[];return $(".res-list").each(function(e,n){var r=$(n),i=r.find(".g-mohe");e+=1,i.length>0?t.push(e+":"+i.attr("id")):t.push(e+":n")}),$("#side .g-mohe").each(function(t,n){e.push($(n).attr("id"))}),t.push("0:"+e.join("|")),t}();$(".res-list").length>0&&(monitor.setConf("wpoUrl","//s.qhupdate.com/sou/so.gif?q="+encodeURIComponent(So.comm.q)),monitor.log({},"wpo"));if($(".m-corr").length>0){var i="q="+encodeURIComponent(So.comm.q),s=$.extend({corr:$(".m-corr").attr("data-corr"),corrtype:$(".m-corr").attr("data-type"),corrver:$(".m-corr").attr("data-cid")},paramsComm);monitor.setConf("wpoUrl","//s.qhupdate.com/sou/disp_corr2.gif?"+i),monitor.log(s,"wpo")}if(document.cookie.indexOf("sgtclick=")>-1){var o,u,a=[],f=So.lib.cookie.get("sgtclick"),s={};if(f!=""){a=f.split("|");var l=a[0];u=a[1];var c=a[2],h=a[3],p=a[4]||"result",d=a[5]||"",v=a[6],m=a[7],g=a[8],y=a[9],b=a[10]||"",w=a[11]||"";s=$.extend({pro:So.comm.pid,mod:"suggest",input:h,click:l,pos:1*u+1,v:d,resrc:v,eci:m,nlpv:g,source:y,mid:So.lib.getUnMid(So.comm.md),psid:b,ssid:w},paramsComm,{pid:p}),So.lib.cookie.remove("sgtclick"),monitor.setConf("clickUrl","//s.qhupdate.com/sou/suggest.gif"),monitor.log(s,"click")}}var E=function(e,t){var n={},r="",i=/^https?:\/\/sh\.qihoo\.com\/(?:[\d][\w]+)|(?:(?:pc|mob)\/(?!home$))/,s=t||e.find("[id^=mohe-]").eq(0);if(s.length>0){var o=s.data("mohe-type");switch(o){case"banner_news":r="so_51";break;case"news_hotnew":r="so_52";break;case"news_all":r="so_53";break;case"news":r="so_54";break;default:r="so_50"}}else r="so_1";e.find("a").each(function(e,t){var s=$(t),o=s.data("url")||So.lib.getLinkUrl(s.attr("href"));o&&i.test(o)&&!n[o]&&(n[o]=1,Display.kzxLog({ext:encodeURIComponent(o),refer_scene:r}))})},S=[],x=!1,T=!1,N=null,C=function(){clearTimeout(N),N=setTimeout(function(){var e=$(window).height(),t=$("body").scrollTop()||$("html").scrollTop()||0;A.each(function(n,r){if(!S[n]){var i=$(r),s=i.offset().top,o=i.height();s<t+e-o&&s-t>100&&(S[n]=!0,E(i))}});var n=$("#mohe-banner-news");if(!x&&n.length>0){var r=n.offset().top,i=n.height();r<t+e-i&&r-t>90&&(x=!0,E(n.parent()))}var s=$("#mohe-news");if(!T&&s.length>0){var r=s.offset().top,i=s.height();r<t+e-i&&r-t>90&&(T=!0,E(s.parent(),s))}},100)};$(window).on("scroll.haosou",function(){C()}),$(window).on("resize.haosou",function(){C()}),C(),$(".e-buss a").on("mousedown",function(){if($(this).attr("e_href")){var e={q:So.comm.q},t=$(this).closest("#m-spread-middle").data("index");t&&(e.p1=t),So.lib.log("sda",e)}}),$("#feedback_top").on("mousedown",function(){So.lib.log("feedback-new",{q:So.comm.q})}),$(".m-corr").delegate("a","mousedown",function(e){var t="q="+encodeURIComponent(So.comm.q),n=$.extend({corr:$(".m-corr").attr("data-corr"),select:$(".m-corr").attr("data-type")=="3"?$(this).text():$(".m-corr").attr("data-corr"),corrtype:$(".m-corr").attr("data-type"),corrver:$(".m-corr").attr("data-cid")},paramsComm);monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_corr2.gif?"+t),monitor.log(n,"click")}),$("#main").delegate(".res-title a","mousedown",function(i){paramsComm._huid=n();var s=i.target,o=$(this),u=o.data("res")||{},a=$(".res-title").has(this).find(".icon-official").length,f=o.parents("li.res-list"),l=$(".res-rich",f),c=o.attr("data-ver")||"",h=$.extend({q:So.comm.q,pn:So.comm.pn,utype:o.parents(".res-title").length>0?"main":"sub",value:o.data("url")||So.lib.getLinkUrl(o.attr("href")),pos:u.pos||"",et:u.e||"",engdetail:t,official:a>0?1:0,tp:u.tp||"",from:u.fr||"",stp:(c?u.stp+"_"+c:u.stp)||"",rcs:r.join(","),soadv:e,sms:So.web.srplog.params.sms,ssl:location.protocol=="https:"?1:0,url_fp:f.attr("data-urlfp"),kzx:f.attr("data-kzx"),abid:f.attr("data-abtest-id")||l.attr("data-abtest-id")},paramsComm),p=o.attr("data-kid");p&&(h.kid=p),monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_og.gif"),monitor.log(h,"click")}),$("#main").delegate(".res-rich a","mousedown",function(t){paramsComm._huid=n();if($(this).hasClass("m"))return;var i=t.target,s=$(this),o=$(".res-list").has(this).find(".res-title a[data-res]"),u=o.data("res")||{},a=s.data("url")||So.lib.getLinkUrl(s.attr("href")),f=o.data("url")||So.lib.getLinkUrl(o.attr("href")),l=s.attr("data-type"),c=s.parents("li.res-list"),h=$(".res-rich",c),p=o.attr("data-ver")||"",d=$.extend({q:So.comm.q,pn:So.comm.pn,utype:"sub",value:f,sv:a,tp:u.tp||"",pos:u.pos||"",et:u.e||"",rcs:r.join(","),which:l,stp:(p?u.stp+"_"+p:u.stp)||"",soadv:e,sms:So.web.srplog.params.sms,ssl:location.protocol=="https:"?1:0,url_fp:c.attr("data-urlfp"),kzx:c.attr("data-kzx"),abid:h.attr("data-abtest-id")},paramsComm),v=o.attr("data-kid");v&&(d.kid=v),monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_og.gif"),monitor.log(d,"click")}),$("#warper div[id^=mohe-]").delegate("a,input[type=submit],input[type=button],button,[data-md]","mousedown",function(i){if($(i.delegateTarget).attr("id")!=$(this).closest("div[id^=mohe-]").attr("id"))return;paramsComm._huid=n();var s={q:So.comm.q,pn:So.comm.pn};this.href&&(s.type="link",s.value=$(this).data("url")||So.lib.getLinkUrl($(this).attr("href")));var o=$(this).parents("div[id^=mohe-]"),u=o.eq(0).find("h3:first a:first");if(u.data("url"))var a=u.data("url");else var a=So.lib.getLinkUrl
(u.attr("href"));s.mv=a||"",s.utype=$(this).parents("h3.title").length>0?"main":"sub";if(this.tagName.toLocaleLowerCase()=="input"){s.type="btn";if($(this).attr("data-mk"))s.value=$(this).data("url")||So.lib.getLinkUrl($(this).attr("data-mk"));else{var f=$(".res-list div[id^=mohe-] form").has(this);f.data("url")?s.value=f.data("url"):s.value=So.lib.getLinkUrl(f.attr("name"))}}s.cat=[],$(this).attr("data-custom-cat")&&s.cat.push($(this).attr("data-custom-cat"));var l="";$(this).parents("div[id^=mohe-]").each(function(e,t){e==0&&(l=t.id);var n=$(t).attr("data-abtest")||"";n&&(n="-"+n),s.cat.push(t.id+n)});var c=$(this).closest(".res-list");s.pos=$(".res-list").index(c)+1||$(this).closest("[data-oneboxpos]").attr("data-oneboxpos"),s.cat=s.cat.join(","),s.soadv=e;var h=$(this).attr("data-md")||$(this).parents("[data-md]").attr("data-md"),p=$(this).parents("[data-mgd]").attr("data-mgd");try{if(p){p=$.parseJSON(""+p);for(var d in p)s["md-"+d]=p[d]}if(h){h=$.parseJSON(""+h);for(var v in h)s["md-"+v]=h[v]}}catch(i){console&&console.log(i)}var m=$(this).closest(".res-list");s.engdetail=t,s=$.extend(s,paramsComm),s.rcs=r.join(","),s.sms=So.web.srplog.params.sms,s.ssl=location.protocol=="https:"?1:0,s.url_fp=m.attr("data-urlfp"),s.abid=$(i.delegateTarget).attr("data-abtest-id")||m.attr("data-abtest-id");var g=$(this).attr("data-rk");g==0?s.rk=s.mv:g==1&&(s.rk=s.value),monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_ob.gif"),monitor.log(s,"click")});var k=function(e){var t="",n="";if(e){var r=e.split("&");for(var i=0,s=r.length;i<s;i++){var o=r[i].split("=");o[0]=="eci"?t=o[1]:n=o[1]}}return{eci:t,nlpv:n}},L=$(".mod-relation"),A=$(".res-list"),O=null,M=!1,_=function(){var e=$("#rs").data("res"),t=k($("#rs").data("ext")),n=[];$("#rs th a").each(function(e,t){n.push($(t).text())}),So.lib.log("",{q:So.comm.q,v:L.attr("data-version"),res:e,pn:So.comm.pn,eci:t.eci,nlpv:t.nlpv,value:n.join("|")},"sou/disp_rel")},D=function(){if(L.length==0)return;clearTimeout(O),O=setTimeout(function(){var e=L.offset().top,t=L.height(),n=$(window).height(),r=$("body").scrollTop()||$("html").scrollTop()||0;!M&&e<r+n+100-t&&(_(),M=!0)},100)};A.length>0&&($(window).on("scroll.haosou",function(){D()}),$(window).on("resize.haosou",function(){D()}),D()),$("#rs-top").delegate("a","mousedown",function(e){var t=e.target,n="q="+encodeURIComponent(So.comm.q),r=$("#rs a").index(t)+1,i=$(".mod-relation").attr("data-version"),s=$(t).data("source"),o=$(t).parents("#rs-top").data("ext"),u=k(o),a=$.extend({type:"top",word:$(t).text(),pos:r,v:i,eci:u.eci,nlpv:u.nlpv,source:s,pn:So.comm.pn},paramsComm);monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_rel.gif?"+n),monitor.log(a,"click")}),$("#rs").delegate("a","mousedown",function(e){var t=e.target,n="q="+encodeURIComponent(So.comm.q),r=$("#rs a").index(t)+1,i=$(".mod-relation").attr("data-version"),s=$(t).data("source"),o=$(t).parents("#rs").data("ext"),u=k(o),a=$.extend({word:$(t).text(),pos:r,v:i,eci:u.eci,nlpv:u.nlpv,source:s,pn:So.comm.pn},paramsComm);monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_rel.gif?"+n),monitor.log(a,"click")});if($(".toask").length>0){var P="q="+encodeURIComponent(So.comm.q),s=$.extend({},paramsComm);s.type=$(".toask").first().attr("data-type"),monitor.setConf("wpoUrl","//s.qhupdate.com/sou/disp_tiwen.gif?"+P),monitor.log(s,"wpo")}$(".toask").delegate("a","mousedown",function(e){var t=e.target,n="q="+encodeURIComponent(So.comm.q),r=$.extend({},paramsComm);r.pos=$(".toask").has(this).attr("data-pos"),r.type=$(".toask").has(this).attr("data-type"),monitor.setConf("clickUrl","//s.qhupdate.com/sou/click_tiwen.gif?"+n),monitor.log(r,"click")}),$('.icon-official:contains("\u5b98\u7f51")').on("mousedown",function(e){So.lib.log("guanwang",{type:"click",q:So.comm.q})});var H=$("a.mingpian");if(H.length>0){var B=H.length,j=$("a.mingpian .tip-v").length;So.lib.log("renzheng",{type:"show",q:So.comm.q,p1:j,p2:B-j}),H.on("mousedown",function(){var e=$(this).find(".tip-v").length>0?1:0;So.lib.log("renzheng",{type:"jump",q:So.comm.q,p1:e})})}$(document).on("mousedown","#side_wrap #so_feb",function(){var e=$("#side_wrap #so_feb dt div").text();So.lib.log("soSafe",{type:"click",q:So.comm.q,p1:e})})}}(),So.web._srp(),So.page.reload.push(So.web._srp),function(){$("#g-hd-tabs, .g-hd-logo").delegate("a","mousedown",function(e){var t=e.target,n="q="+encodeURIComponent(So.comm.q),r={},i="";i=$(t).attr("data-i"),r=$.extend({org:"web","new":i,type:"web"},paramsComm),monitor.setConf("clickUrl","//s.qhupdate.com/sou/engswitch.gif?"+n),monitor.log(r,"click")}),$(".hd-rtools").on("mousedown","a[data-log]",function(){So.lib.log("res-type",{q:So.comm.q,type:$(this).attr("data-log")})}),$("body").on("mousedown",'[data-logclick="1"] a',function(){var e=$(this).closest("[data-logmod]").attr("data-logmod");e&&So.lib.log(e,$.extend({type:"click"},$(this).data("log")||{}))}),$(window).on("load",function(){var e=new Image;e.src="//ipv6.www.so.com/_.gif?sid="+So.comm.sid,e.onlod=e.onerror=null})}(),function(){$("body").delegate("form .round","mouseenter",function(){$(this).addClass("hover")}),$("body").delegate("form .round","mouseleave",function(){$(this).removeClass("hover")}),$("body").delegate("form .input_key","focus",function(){$(this).parent(".round").addClass("focus")}),$("body").delegate("form .input_key","blur",function(){$(this).parent(".round").removeClass("focus")});var e=$(".input_key"),t=$(".search-del"),n=$(".ac_wrap"),r=!1,i;t.click(function(){var r=$(this),i=t.index(r);e.eq(i).val("").focus(),n&&n.hide()}),e.focus(function(){var n=$(this),s=e.index(n),o=t.eq(s);clearInterval(i),i=setInterval(function(){$.trim(n.val())==""?o.hide():o.show()},100),!r&&+(new Date)-So.comm.t>2e4&&(monitor.setConf("httpsUrl","https://www.so.com/_.gif"),monitor.log({},"https"),r=!0)}).blur(function(){var n=$(this),r=e.index(n),s=t.eq(r);clearInterval(i),$.trim(n.val())==""?s.hide():s.show()});var s=$("#g-hd-quser .user"),o=$("#g-hd-quser .usermenu"),u=null,a=null;s.hover(function(){clearTimeout(a),u=setTimeout(function(){o.show()},200)},function(){clearTimeout(u),a=setTimeout(function(){o.hide()},200)}),o.hover(function(){clearTimeout(a),u=setTimeout(function(){o.show()},200)},function(){clearTimeout(u),a=setTimeout(function(){o.hide()},200)}),$("#feedback_top").on("click",function(){_loader.use("require.2.1.11",function(){require(["https://s.ssl.qhres.com/static/0610a136492c0acd/result/feedback.js"],function(e){e()})})})}(),function(){function e(e){_loader.add("settingPanel","https://s.ssl.qhres.com/static/8923feda634ec825/common/setting.js"),_loader.use("settingPanel",function(){e()})}$(".hd-rtools .show-list").hoverDelay({hoverEvent:function(e){e.find(".title").addClass("hover"),e.find(".g-menu").show()},outEvent:function(e){e.find(".title").removeClass("hover"),e.find(".g-menu").hide()}}),$("#search_setting").on("click",function(){e(function(){So.web.showSearchSetting()})}),$("#advanced_search").on("click",function(){e(function(){So.web.showAdvancedSearch()})})}();var showCount=10,rfTime=(TIME.rfTime||TIME._)-TIME._;createSuggest({inputElement:document.getElementById("keyword"),alignElement:document.getElementById("suggest-align"),pqElement:!0,mid:So.lib.cookie.get("soid")||"",huid:So.lib.cookie.get("__huid")||"",sid:!0,localSave:So.lib.cookie.get("sosug")!=="0"?1:0,clickEmptyToTriggerHotword:!1,enableHotword:So.lib.cookie.get("sosug")!=="0"?!0:!1,showCount:showCount,whichPage:1,urlPrefix:"//sug.so.360.cn/suggest?callback=suggest_so&encodein=utf-8&encodeout=utf-8&format=json",onBeforeSubmit:function(e){var t=$(this.oMenu),n="srp_suggst",r=t.attr("ver")||"",i=t.attr("ssid")||"",s=t.attr("ac_word")||"",o=e.type=="hotword"?"result_hot":"result";switch(e.type){case"hotword":n="srp_suggst_hot";break;case"local":n="res-sug-local";break;case"local-sug":n="res-sug-store";break;case"often-search":n="srp_suggst_often_search";break;case"nlp_recomm":n="res-nlp-recomm";break;case"sug_recomm":n="res-sug-recomm";break;default:n="srp_suggst_"+r}$(".src:first").val(n);var u=setEciNlpv(e.ext);So.lib.cookie.set("sgtclick",[e.word,e.index,e.inputValue,s,o,r,e.resrc,u.eci,u.nlpv,e.source,e.psid,i].join("|"))},beforeHide:function(){var e=$(".src:first");e.attr("data-src")?e.val("srp_no_result"):e.val("srp")}}),So.web.lazyLoad=function(){function o(){s=$(".result li.res-list"),u(),$(window).on("scroll.haosou",function(){u()}),$(window).on("resize.haosou",function(){u()})}function u(){clearTimeout(e),e=setTimeout(function(){var e=$("body").scrollTop()||$("html").scrollTop()||0,n=$(window).height();$.each(s,function(s,o){var u=$(o);if(u.attr(i))return;var a=u.offset().top,f=u.height();if(e+t>a&&e-t<a+f||e+n+t>a&&e+n-t<a+f||a>=e&&a<=e+n||a+f>=e&&a+f<=e+n)So.lib.lazyImg(u,r,function(e){e.removeClass("so-lazyimg"),e.animate({opacity:1},500,function(){e.removeClass("so-lazyimg")})}),u.attr(i,"1")})},n)}var e=null,t=100,n=100,r="data-isrc",i="data-lazyload",s=[];return o(),{init:o}}(),So.page.reload.push(So.web.lazyLoad.init),So.web._init=function(){return function(){function y(){for(var e=0;e<g.length;e++){var t=g[e],n=$(g[e]);if(n.attr("data-send-disp")=="1")continue;var r=t.getBoundingClientRect(),i=r.top,s=r.bottom;if(i===0&&s===0)continue;if(m-i>10){n.attr("data-send-disp","1");var o={type:n.attr("data-disp-comm")},u=n.data("disp-log");o=$.extend(o,u||{}),So.lib.log("ccb",o)}}}$("#tips-res-spite .open").toggle(function(){$(".result").removeClass("hide-spite"),$("#tips-res-spite span").html("\u90e8\u5206\u7ed3\u679c\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u8bbf\u95ee\u6216\u88ab\u6076\u610f\u7be1\u6539\u3001\u5b58\u5728\u865a\u5047\u8bc8\u9a97\u7b49\u3002"),$(this).html("\u9690\u85cf\u6b64\u7c7b\u7ed3\u679c")},function(){$(".result").addClass("hide-spite"),$("#tips-res-spite span").html("\u56e0\u90e8\u5206\u7ed3\u679c\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u8bbf\u95ee\u6216\u88ab\u6076\u610f\u7be1\u6539\u3001\u5b58\u5728\u865a\u5047\u8bc8\u9a97\u7b49\u539f\u56e0\uff0c\u5df2\u9690\u85cf\u3002"),$(this).html("\u4e86\u89e3\u98ce\u9669\uff0c\u663e\u793a\u6240\u6709\u7ed3\u679c")});var e=$(".cheat-tel-wrap"),t=e.length||0;t>0&&e.on("click",".res-comm-more, .res-comm-arrow",function(){var e=$(this),t=e.closest(".cheat-tel-wrap");e.hasClass("res-comm-arrow")?(t.find(".cheat-tel-all-data").hide(),t.find(".cheat-tel-inner").show()):(t.find(".cheat-tel-all-data").show(),t.find(".cheat-tel-inner").hide())});if($(".mse-qrcode").length>0){var n=$(".mse-qrcode-img");$(".js-mse-qr").on("mouseenter",function(){return n.fadeIn(),!1}),$("body").on("click",function(e){$(this).closest(".mse-qrcode").length==0&&n.fadeOut()})}var r=$("#soSafe"),i=r.find("dt"),s=r.find("dd"),o=r.find("dt div");i.toggle(function(){s.slideDown("fast"),r.addClass("open"),o.html("\u6536\u8d77")},function(){s.slideUp("fast"),r.removeClass("open"),o.html("\u5c55\u5f00")}),So.web.pdrLog=function(){var e=$("#so-pdr-guide"),t=$("#head_pdr_guide");t.length&&t.is(":visible")&&(e=t);if(!e)return;var n=$("a",e);if(!n)return;var r=[];for(var i=0;i<n.length;i++)n[i].offsetTop==0&&r.push(encodeURIComponent(n.eq(i).text()));return r.join("|")};var u=$("#so_top");if(u.length>0){var a,f,l="pdr",c=$("#so-pdr-guide").attr("data-ver");if(u.hasClass("scroll")){u.hasClass("has-top-ad")&&$.each(u.find(".so-pdr-bd a"),function(e,t){var n=$(t);n.attr("href",n.attr("href").replace(/(src=)([^&]*)/gi,"$1$2_fs"))});var h=$("#main").offset().top-$("#header").find(".inner").height();$(window).on("scroll.haosou",function(){f=$(window).scrollTop(),!a&&f>h?a=1:u.is(":hidden")&&a==1&&f<h&&(u.find("#so-pdr-guide").css({visibility:"visible"}),u.slideDown("fast"),So.lib.log(l,{type:"show",datatype:"scroll",q:So.comm.q,value:So.web.pdrLog()}))})}else So.lib.log(l,{type:"show",datatype:"top",q:So.comm.q,value:So.web.pdrLog()})}(function(){var e=$("#tips-res-fold"),t=$("#ac-unfold"),n=$(".result"),r=$(".res-list"),i=$(".mod-relation"),s=$("#page"),o="",u=10;$("#container").attr("data-folding")=="1"&&$("#warper").addClass("folding"),t.length>0&&(r.each(function(e,t){u+=$(t).height()+35}),t.bind("click",function(){e.attr("data-foldtype")=="xiaohua"?o="\u5168\u90e8\u7ed3\u679c\u5df2\u5c55\u5f00\uff0c\u4ee5\u4e0b\u5185\u5bb9\u4e3a360\u641c\u7d22\u4f20\u7edf\u641c\u7d22\u7ed3\u679c":o="\u5168\u90e8\u7ed3\u679c\u5c55\u5f00\u5982\u4e0b\uff0c\u4e3a\u4e86\u4fdd\u969c\u60a8\u7684\u4eba\u8eab\u8d22\u4ea7\u5b89\u5168\uff0c\u8bf7\u8c28\u614e\u8fa8\u522b\u7ed3\u679c\u5185\u5bb9\u3002",e.hide().html(o),e.fadeIn("slow"),n.animate({height:u},"slow",function(){n.removeAttr("style")}),r.css({display:"block"}),s.css({visibility:"visible"}),i.css("display","block");var t={q:So.comm.q,src:So.comm.src,guid:So.comm.guid};monitor.setConf("clickUrl","//s.360.cn/sou/click_fold.gif?"),monitor.log(t,"click")}))})();var p=$("#no-result").length?!0:!1;if($("#res_news_flow").length&&!~$.inArray(So.web.newsSettings.pos,["left","right"])&&(!p||p&&!/msie (6|7|8)/gi.test(navigator.userAgent))||$("#mohe-nlp_user_lm").length)_loader.add("freeze-sidebar","https://s.ssl.qhres.com/static/7e1783f072e7ee64/jqueryplus/freeze-sidebar.js"),_loader.add("freeze-side","https://s.ssl.qhres.com/static/0c9cf9c4b99d350f/result/freeze-side.js"),_loader.use("freeze-sidebar,freeze-side",function(){});$("#container").attr("data-newsflow")=="1"&&$("#warper").addClass("mod-info-flow show-info-flow");var d=So.lib.browser.isIE();d>0&&d<=10&&$('#main .result li.res-list h3 a[data-noref="1"],#mod-engs a').on("click",function(e){var t=$(this).attr("href");window.open(t,"_blank"),e.preventDefault()}),$('#mod-engs a[data-log="baidu"]').attr("data-s",So.web.bdLinkUrl),$('.icon-official:contains("\u5b98\u7f51")').on("click",function(){window.open("http://www.so.com/help/help_3_4.html?src=so_res_guanwang","_blank")});var v=$(window),m=v.height(),g=$("[data-disp-comm]");v.on("scroll.haosou",y),y(),$(document).one("click","#newsflow-toggle",function(){y()})}}(),So.web._init(),So.page.reload.push(So.web._init),So.lib.md5=function(){function e(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function t(e,t){return e<<t|e>>>32-t}function n(n,r,i,s,o,u){return e(t(e(e(r,n),e(s,u)),o),i)}function r(e,t,r,i,s,o,u){return n(t&r|~t&i,e,t,s,o,u)}function i(e,t,r,i,s,o,u){return n(t&i|r&~i,e,t,s,o,u)}function s(e,t,r,i,s,o,u){return n(t^r^i,e,t,s,o,u)}function o(e,t,r,i,s,o,u){return n(r^(t|~i),e,t,s,o,u)}function u(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;var u,a,f,l,c,h=1732584193,p=-271733879,d=-1732584194,v=271733878;for(u=0;u<t.length;u+=16)a=h,f=p,l=d,c=v,h=r(h,p,d,v,t[u],7,-680876936),v=r(v,h,p,d,t[u+1],12,-389564586),d=r(d,v,h,p,t[u+2],17,606105819),p=r(p,d,v,h,t[u+3],22,-1044525330),h=r(h,p,d,v,t[u+4],7,-176418897),v=r(v,h,p,d,t[u+5],12,1200080426),d=r(d,v,h,p,t[u+6],17,-1473231341),p=r(p,d,v,h,t[u+7],22,-45705983),h=r(h,p,d,v,t[u+8],7,1770035416),v=r(v,h,p,d,t[u+9],12,-1958414417),d=r(d,v,h,p,t[u+10],17,-42063),p=r(p,d,v,h,t[u+11],22,-1990404162),h=r(h,p,d,v,t[u+12],7,1804603682),v=r(v,h,p,d,t[u+13],12,-40341101),d=r(d,v,h,p,t[u+14],17,-1502002290),p=r(p,d,v,h,t[u+15],22,1236535329),h=i(h,p,d,v,t[u+1],5,-165796510),v=i(v,h,p,d,t[u+6],9,-1069501632),d=i(d,v,h,p,t[u+11],14,643717713),p=i(p,d,v,h,t[u],20,-373897302),h=i(h,p,d,v,t[u+5],5,-701558691),v=i(v,h,p,d,t[u+10],9,38016083),d=i(d,v,h,p,t[u+15],14,-660478335),p=i(p,d,v,h,t[u+4],20,-405537848),h=i(h,p,d,v,t[u+9],5,568446438),v=i(v,h,p,d,t[u+14],9,-1019803690),d=i(d,v,h,p,t[u+3],14,-187363961),p=i(p,d,v,h,t[u+8],20,1163531501),h=i(h,p,d,v,t[u+13],5,-1444681467),v=i(v,h,p,d,t[u+2],9,-51403784),d=i(d,v,h,p,t[u+7],14,1735328473),p=i(p,d,v,h,t[u+12],20,-1926607734),h=s(h,p,d,v,t[u+5],4,-378558),v=s(v,h,p,d,t[u+8],11,-2022574463),d=s(d,v,h,p,t[u+11],16,1839030562),p=s(p,d,v,h,t[u+14],23,-35309556),h=s(h,p,d,v,t[u+1],4,-1530992060),v=s(v,h,p,d,t[u+4],11,1272893353),d=s(d,v,h,p,t[u+7],16,-155497632),p=s(p,d,v,h,t[u+10],23,-1094730640),h=s(h,p,d,v,t[u+13],4,681279174),v=s(v,h,p,d,t[u],11,-358537222),d=s(d,v,h,p,t[u+3],16,-722521979),p=s(p,d,v,h,t[u+6],23,76029189),h=s(h,p,d,v,t[u+9],4,-640364487),v=s(v,h,p,d,t[u+12],11,-421815835),d=s(d,v,h,p,t[u+15],16,530742520),p=s(p,d,v,h,t[u+2],23,-995338651),h=o(h,p,d,v,t[u],6,-198630844),v=o(v,h,p,d,t[u+7],10,1126891415),d=o(d,v,h,p,t[u+14],15,-1416354905),p=o(p,d,v,h,t[u+5],21,-57434055),h=o(h,p,d,v,t[u+12],6,1700485571),v=o(v,h,p,d,t[u+3],10,-1894986606),d=o(d,v,h,p,t[u+10],15,-1051523),p=o(p,d,v,h,t[u+1],21,-2054922799),h=o(h,p,d,v,t[u+8],6,1873313359),v=o(v,h,p,d,t[u+15],10,-30611744),d=o(d,v,h,p,t[u+6],15,-1560198380),p=o(p,d,v,h,t[u+13],21,1309151649),h=o(h,p,d,v,t[u+4],6,-145523070),v=o(v,h,p,d,t[u+11],10,-1120210379),d=o(d,v,h,p,t[u+2],15,718787259),p=o(p,d,v,h,t[u+9],21,-343485551),h=e(h,a),p=e(p,f),d=e(d,l),v=e(v,c);return[h,p,d,v]}function a(e){var t,n="";for(t=0;t<e.length*32;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function f(e){var t,n=[];n[(e.length>>2)-1]=undefined;for(t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<e.length*8;t+=8)n[t>>5]|=(e.charCodeAt(t/8)&255)<<t%32;return n}function l(e){return a(u(f(e),e.length*8))}function c(e,t){var n,r=f(e),i=[],s=[],o;i[15]=s[15]=undefined,r.length>16&&(r=u(r,e.length*8));for(n=0;n<16;n+=1)i[n]=r[n]^909522486,s[n]=r[n]^1549556828;return o=u(i.concat(f(t)),512+t.length*8),a(u(s.concat(o),640))}function h(e){var t="0123456789abcdef",n="",r,i;for(i=0;i<e.length;i+=1)r=e.charCodeAt(i),n+=t.charAt(r>>>4&15)+t.charAt(r&15);return n}function p(e){return unescape(encodeURIComponent(e))}function d(e){return l(p(e))}function v(e){return h(d(e))}function m(e,t){return c(p(e),p(t))}function g(e,t){return h(m(e,t))}return function(e,t,n){return t?n?m(t,e):g(t,e):n?d(e):v(e)}}(),So.web.frontContent=function(){return function(){var e={url:"//query.rec.360.cn/gasucs/query_rec/",$officialparent:null,delCount:50,init:function(){var e=$(".res-list .res-title .icon-official");e.length&&!e.closest(".g-mohe").length&&(this.$officialparent=e.closest("li"),this.getData())},getData:function(){var e=this,t={src:"qr_front_content",ret_type:"jsonp",req:"kw",mid:So.comm.md,guid:So.lib.cookie.get("__huid")||""};$.ajax({url:e.url,dataType:"jsonp",data:t,jsonp:"callback",jsonpCallback:"__query_rec",success:function(t){t&&t.length>3&&e.renderHtml(e.clearRepeat(t))}})},clearRepeat:function(e){var t=[],n,r=So.lib.soLocalStorage.getItem("frontContenDel")||JSON.stringify([]);r=JSON.parse(r);for(var i=0,s=e.length;i<s;i++){n=!1;for(var o=0,u=r.length;o<u;o++)if(e[i].kw==r[o]){n=!0;break}!n&&t.push(e[i])}return t},renderHtml:function(e){var t=['<div id="nav-others">',"<% if (So.comm.isFcInput) { %>",'<div class="nav-others-head">','<div class="logo">',"<span></span>","</div>",'<div class="input">','<form class="fc_form" action="//www.baidu.com/s" method="get" target="_blank">','<input type="text" name="wd" class="fc_input" value="" maxlength="100" autocomplete="off"><span><input type="submit" tabindex="3" value="\u767e\u5ea6\u4e00\u4e0b" class="fc_btn"></span>',"</form>","</div>","</div>","<% } %>",'<ul class="set-btn">','<li><a class="edit" href="javascript:;">\u7f16\u8f91</a></li>','<li><a class="close-all" href="javascript:;">\u5173\u95ed</a></li>',"</ul>",'<div class="nav-recommend">','<a class="triangle-text set g-show" href="javascript:;"></a>','<a class="triangle-text finish" href="javascript:;"></a>','<span class="triangle-logo"></span>','<ul class="nav-text">',"<% for(var i = 0; i < data.length; i++) { %>","<li><span>",'<a href="/s?q=<%=encodeURIComponent(data[i].kw)%>&src=front_content" target="_blank" <% if (data[i].icon){%>class="has-icon text"<%} else{%>class="text"<%}%> >',"<% if (data[i].icon){ %>",'<img src="<%=So.lib.getPicUrl(data[i].icon, "/dmsmty/15_15_")%>">',"<% } %>","<%=So.lib.escapeHTML(data[i].kw)%>",'</a><a class="close g-icon" href="javascript:;" data-kw="<%=So.lib.escapeHTML(data[i].kw)%>" title="\u5220\u9664"></a></span>',"</li>","<% } %>","</ul>","</div>",'<p class="tips">\u4ee5\u4e0a\u5185\u5bb9\u7531360\u641c\u7d22\u667a\u80fd\u805a\u5408</p>',"</div>"];this.$officialparent.addClass("fc-recommend"),this.$officialparent.append(So.lib.template(t.join(""),{data:e})),this.bindEvents()},bindEvents:function(){var e=$("#nav-others");$(".fc_input",e).on("mouseenter",function(){$(this).addClass("hover")}),$(".fc_input",e).on("mouseleave",function(){$(this).removeClass("hover")}),$(".fc_input",e).on("focus",function(){$(this).addClass("focus")}),$(".fc_input",e).on("blur",function(){$(this).removeClass("focus")}),$(".fc_btn",e).on("click",function(){So.lib.log("frontContent",{type:"click",q:So.comm.q})});var t=this,n=$(".set",e),r=$(".finish",e),i=$(".close",e),s=$(".set-btn",e),o=$(".edit",e),u=$(".close-all",e),a=null,f=null,l=!1;n.on("mouseenter",function(){if(l)return;clearTimeout(f),a=setTimeout(function(){s.addClass("g-show")},200)}).on("mouseleave",function(){clearTimeout(a),f=setTimeout(function(){s.removeClass("g-show")},200),l=!1}),s.on("mouseenter",function(){clearTimeout(f),a=setTimeout(function(){s.addClass("g-show")},200)}).on("mouseleave",function(){clearTimeout(a),f=setTimeout(function(){s.removeClass("g-show")},200)}),o.on("click",function(){$(this).removeClass("g-show"),n.removeClass("g-show"),r.addClass("g-show"),i.addClass("g-show"),s.removeClass("g-show")}),r.on("click",function(e){$(this).removeClass("g-show"),n.addClass("g-show"),i.removeClass("g-show"),e.preventDefault(),l=!0}),u.on("click",function(t){var n=new Date;n.setFullYear(n.getFullYear()+1),So.lib.cookie.set("closeFC",0,{expires:n}),e.hide()}),i.on("click",function(){var n=+(new Date),r=$(this).attr("data-kw"),i=So.lib.soLocalStorage.getItem("frontContenDel")||JSON.stringify([]);i=JSON.parse(i),i.length==t.delCount&&i.shift(),i.push(r),So.lib.soLocalStorage.setItem("frontContenDel",JSON.stringify(i)),$(this).closest("li").remove(),$(".nav-text li",e).length||e.hide(),$.ajax({url:t.url,type:"get",dataType:"jsonp",jsonp:"callback",jsonpCallback:"__query_rec",data:{mid:So.comm.md,guid:So.lib.cookie.get("__huid"),src:"del",del_kw:r,oa:So.lib.md5(So.comm.md+r+n+"a%&k*b"),action:"del",_t:n}})})}};So.comm.isFc&&!So.lib.cookie.get("closeFC")&&e.init()}}(),So.web.frontContent(),So.page.reload.push(So.web.frontContent);