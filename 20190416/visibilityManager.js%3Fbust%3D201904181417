define([],function(){"use strict";var n=function(){var n,e={},i=[],o=function(){document.hidden?document.addEventListener("visibilitychange",t):document.mozHidden?document.addEventListener("mozvisibilitychange",t):document.webkitHidden?document.addEventListener("webkitvisibilitychange",t):document.msHidden?document.addEventListener("msvisibilitychange",t):document.onfocusin?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t;var e="visible",i="hidden";n={focus:e,focusin:e,pageshow:e,blur:i,focusout:i,pagehide:i}},t=function(e){var o=o||window.event;i.forEach(function(e){"function"==typeof e&&e(n[o.type])})};return e.add=function(n){e.remove(n),i.push(n)},e.remove=function(n){var e=i.indexOf(n);e!==-1&&i.splice(e,1)},o(),e};return n()});