!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=1695)}([function(e,t){e.exports=jQuery},function(e,t,n){e.exports=n(65)(147)},function(e,t,n){"use strict";(function(e){function i(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}function a(e){if(void 0!==e){var t=window.location.href,n=-1!==t.indexOf("?")?t.split(/\?(.+)/)[1]:"";if(""!==n){for(var i=t.split("?")[0],a=n.split("&"),r=a.length;--r>=0;){a[r].split("=")[0]===e&&a.splice(r,1)}a.length&&(i=i+"?"+a.join("&")),t!==i&&history.replaceState({},document.title,i)}}}function r(e,t,n){var i=new RegExp("([?|&])"+t+"=.*?(&|#|$)","i");if(e.match(i)){if(null!=n)return e.replace(i,"$1"+t+"="+n+"$2");var a=e.indexOf(t+"=")-1;return i=new RegExp("()\\"+e.charAt(a)+t+"=.*?(&|#|$)","i"),e.replace(i,"$1$2")}if(n){var r="",o=-1!==e.indexOf("?")?"&":"?";return-1!==e.indexOf("#")&&(r=e.replace(/.*#/,"#"),e=e.replace(/#.*/,"")),e+o+t+"="+n+r}return e}function o(e,t){var n={title:t||document.title,url:e};return history.pushState(n,n.title,n.url),!1}function s(e,t){t||(t=window.location.href),t=t.toLowerCase(),e=e.replace(/[\[\]]/g,"\\$&").toLowerCase();var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function l(e,t,n){void 0===n&&(n=!1);var i=["_single","_two",""],a=e+i[1==t%10&&11!=t%100?0:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?1:2],r=__(a),o=r===a?e:r;return n?o.toUpperCase():o}function c(e,t,n){var i;return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];var o=this,s=function(){i=0,n||e.apply(o,a)},l=n&&!i;clearTimeout(i),i=window.setTimeout(s,t),l&&e.apply(o,a)}}function u(e,t){var n=!1;return function(){var i=arguments,a=this;n||(e.apply(a,i),n=!0,setTimeout(function(){return n=!1},t))}}function d(e,t){"function"==typeof e&&(e=e(t));for(var n={},i=0,a=Object.keys(e);i<a.length;i++){var r=a[i];n[r]=t.action(e[r])}return n}function h(){try{return history.state}catch(e){return null}}function p(e){if(null===e||"object"!=typeof e||"isActiveClone"in e)return e;var t,n=Object.prototype.toString.call(e).replace(/\[object (.*)\]/,"$1");if(Array.isArray(e))t=[];else{if("Object"!==n)return e;t={}}for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e.isActiveClone=null,t[i]=p(e[i]),delete e.isActiveClone);return t}function f(e){var t=document.createElement("div");return b.render(e,t),t.innerHTML.replace(/NS\d+:href/gi,"xlink:href")}function m(e,t){return Array.apply(0,Array(t)).map(function(t,n){return n+e})}var g=this&&this.__assign||function(){return g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},g.apply(this,arguments)},v=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&(n[i[a]]=e[i[a]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var b=n(1),y=function(){return document.addEventListener?function(e,t,n){if(e&&e.nodeName||e===window)e.addEventListener(t,n,!1);else if(e&&e.length)for(var i=0;i<e.length;i++)y(e[i],t,n)}:function(e,t,n){if(e&&e.nodeName||e===window)e.attachEvent("on"+t,function(){return n.call(e,window.event)});else if(e&&e.length)for(var i=0;i<e.length;i++)y(e[i],t,n)}}();if(t.getOffset=i,t.removeURLParameter=a,t.updateQueryStringParameter=r,t.changeUrl=o,t.getQueryStringParameterByName=s,t.pluralise=l,t.debounce=c,t.throttle=u,t.isLocalStorageAvailable=function(){var e=!1;if("undefined"!=typeof localStorage)try{localStorage.setItem("test","1"),e="1"===localStorage.getItem("test"),localStorage.removeItem("test")}catch(t){e=!1}return function(){return e}}(),t.isSessionStorageAvailable=function(){var e=!1;if("undefined"!=typeof sessionStorage)try{sessionStorage.setItem("test","1"),e="1"===sessionStorage.getItem("test"),sessionStorage.removeItem("test")}catch(t){e=!1}return function(){return e}}(),!window.history){var _=function(e,t,n){n&&(window.location.href=n)};window.history={length:1,state:null,pushState:_,replaceState:_,back:function(){},forward:function(){},go:function(){}}}var w=window.history.pushState;t.mapActions=d,window.history.pushState=function(){var t={url:arguments[2],data:arguments[0]||{}};e(document).trigger("statechange",t),w.apply(this,arguments)},t.getHistoryState=h,t.deepCopy=p,t.preactRenderToString=f,t.InnerHTMLHelper=function(e){var t=e.className,n=e.html,i=e.tagName,a=v(e,["className","html","tagName"]);return b.h(i||"span",g({class:t,dangerouslySetInnerHTML:{__html:n}},a))},t.range=m,t.isInIframe=function(){var e=!1;try{e=window.self!==window.parent}catch(t){e=!0}return function(){return e}}(),window.addEvent=y,window.isSessionStorageAvailable=t.isSessionStorageAvailable}).call(t,n(0))},function(e,t){e.exports=function(e){function t(e){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",e)}function n(){return"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener}try{"undefined"!=typeof execScript&&n()?execScript(e):"undefined"!=typeof eval?eval.call(null,e):t("EvalError: No eval function available")}catch(e){t(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(77);t.getCSRFData=i.getCSRFData;var a=n(78);t.getCSRFToken=a.getCSRFToken},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(93),r={culture:"",isMobile:!1,isMobileApp:!1,isFullMobile:!1,isAdblockEnabled:a.getAdblock(),skinId:"def",isTranslateSkin:!1,isRunetki:!1,skinName:"BongaCams",isStreamOnly:!1,isLiveStreamPromo:!1,lspStyle:"",promoHitUrl:"",isAuthenticated:!1,isModerator:!1,pageNumber:0,isServerSideListingRenderEnabled:!1,showRegistrationPopups:!1,ajaxLoadBannersUrl:!1,im_sound_disabled:!1,isPromoCodeSignupPopupsOnly:!1,loyaltyDiscountEnabled:!1,chromeCastActive:!1,chromeCastAvailable:!1,chromeCastDevice:"",chatRoomTitle:"",ABTests:{},layover:{visible:!1,type:"",sex:"",url:""},player:{layover:{}},hasFullScreenAccess:!1,urls:{cdnRoot:"",notificationUrl:"",streamTVStat:{}},newsIm:{disabled:!1},user:{username:"",displayName:""},popup:{},soundVolume:1,renditions:[],currentRendition:"auto",playerSkin:"player_light"},o=i.createStore(r);t.default=o},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(147),r=n(148),o=n(149),s=n(81),l=n(82),c=n(4),u=n(48);!function(e){e.RECENT="recent_smileys",e.LITTLE="little_smileys",e.BIG="big_smileys",e.TEXT="text_smileys",e.GRAPHICS="user_submitted"}(i=t.SmileyCategories||(t.SmileyCategories={}));var d=function(){function t(){}return t.initialize=function(){t.isExtended=!e.isMobile&&e("#popups_wrap").data("membership"),t.urls={addSmiley:"",base:"",checkShortcut:"",getList:"",search:"/smile-autocompleter",uploadImage:""},t.graphicsRestrictions={maxWidth:400,maxHeight:100,minWidth:18,minHeight:18}},t.init=function(){t.search=new s.default,t.recent=new l.default,t.categories={recent_smileys:{title:__("Recently Used"),collection:l.default.getAll()},little_smileys:{title:__("Little smiles"),collection:[],predefinedCollection:a.default,patterns:[]},big_smileys:{title:__("Big smiles"),collection:[],predefinedCollection:r.default,patterns:[]},text_smileys:{title:__("Text smiles"),collection:[],predefinedCollection:o.default,patterns:[]},user_submitted:{title:__("User Submitted Graphics"),collection:[],page:0}},t.predefinedCategories.forEach(function(e){var n=t.getCategory(e);n.predefinedCollection.forEach(function(i){i.tokens.forEach(function(a){n.patterns.push([t.getRegexPattern(a),'<img class="smiley '+e+'" data-token="'+a.replace(":","")+'" src="'+t.urls.base+"/images/chat/smiles/"+i.src+'" '+(i.w?'width="'+i.w+'"':"")+" "+(i.h?'height="'+i.h+'"':"")+"/>"])})})})},t.replace=function(n){var a,r=n.message,o=[],s=[];if(!r)return r;if(n.escape&&(n.message=u.escapeHTML(r),r=n.message),t.predefinedCategories.forEach(function(e){(n.replacePremium||e===i.LITTLE)&&t.getCategory(e).patterns.forEach(function(e){a=t.replaceStandartShortcut(r,e[0],e[1],n.saveAsRecent),r=a.message,n.saveAsRecent&&a.smileysList.forEach(function(e){o[n.message.lastIndexOf(e)]=e})})}),"function"==typeof n.callback||n.saveAsRecent){var l=new RegExp("(:|"+t.RESTRICTION_SMILE_PREFIX+")([a-z0-9-_](<br\\/?>)?)+","g");r=r.replace(l,function(i){var a=i.replace(/<br/g,"").replace(/[<\/>]/g,"");if(0===a.indexOf(t.RESTRICTION_SMILE_PREFIX))return t.removeRestrictedSmiley(a.replace(t.RESTRICTION_SMILE_PREFIX,":")),n.callback(i.replace("&#58;",":")),i;if(!(a=a.replace(":",""))||a.length>t.MAX_SHORTCUT_LENGTH-1)return n.callback(i.replace("&#58;",":")),i;if(n.saveAsRecent&&(o[n.message.lastIndexOf(a)]=a,s.push(a)),"function"==typeof n.callback){var r=e(".smiley-"+a);if(r.length)return r[0].outerHTML;var l=t.getUrlByShortcut(a);e(new Image).on("load",function(){n.callback(i,this.outerHTML)}).on("error",function(){n.callback(i),e(this).remove()}).attr("src",l).addClass("smiley smiley-graphic smiley-"+a).attr("data-token",""+a)}return i}),o.forEach(function(e){t.recent.setByShortcut(e,-1!==s.indexOf(e))})}return r},t.getCategory=function(e){return t.categories[e]||null},t.getSmileyInfo=function(e,n){t.search.search({q:e,onlyGraphics:!0,complete:function(e){e&&e.length&&"function"==typeof n&&n(e[0])}})},t.getStandardSmiley=function(e){for(var n=0;n<t.predefinedCategories.length;n++)for(var i=t.getCategory(t.predefinedCategories[n]),a=0;a<i.predefinedCollection.length;a++)if(-1!==i.predefinedCollection[a].tokens.indexOf(e))return{shortcut:i.predefinedCollection[a].tokens[0],url:i.predefinedCollection[a].src,category:t.predefinedCategories[n]};return null},t.checkShortcut=function(n,i){var a;return e.ajax({url:t.urls.checkShortcut,type:"POST",dataType:"json",data:c.getCSRFData({shortcut:n}),success:function(e){a=e},complete:function(){"function"==typeof i&&i(a)}})},t.loadSmileys=function(n){n.page=n.page||0;var i=t.getCategory(n.category);i.last||i.xhr&&4!==i.xhr.readyState||"number"==typeof n.page&&i.xhrPage===n.page||("number"==typeof n.page&&(i.xhrPage=n.page),i.xhr=e.ajax({url:t.urls.getList,type:"GET",data:{category:n.category,page:i.xhrPage},dataType:"json",success:function(e){e.smile&&n.category&&(e.smile.length?("function"==typeof n.success&&n.success(e.smile),(!i.page||i.page<e.page)&&(i.page=parseInt(e.page,10)||0,t.updateCategoryCollection(n.category,e.smile))):i.last=!0,i.xhrPage=null)}}))},t.updateCategoryCollection=function(e,n){var i=t.getCategory(e);i.collection=i.collection||[],n.forEach(function(e){for(var t=!1,n=0;n<i.collection.length;n++)if(i.collection[n].shortcut===e.shortcut){t=!0;break}t||i.collection.push(e)})},t.getRegexPattern=function(e){return new RegExp(e.replace(/([()\[\]{}.?^$|\-])/g,"\\$1"),"g")},t.replaceStandartShortcut=function(e,t,n,i){void 0===i&&(i=!1);var a={message:"",smileysList:[]};return t.toString().indexOf("/:")?a.message=e.replace(t,function(e,t){return i&&(a.smileysList[t]=e),n}):a.message=e.replace(t,function(e,t,r){var o=r.substr(t+e.length,1);return o&&!o.replace(/[a-z0-9-_]/g,"")?e:(i&&(a.smileysList[t]=e),n)}),a},t.getUrlByShortcut=function(e){for(var n=0,i=0;n<e.length;)i+=e[n++].charCodeAt(0);var a=("000"+i).slice(-4),r=parseInt(a.substr(0,2),10).toString(16);r=("0"+r).slice(-2);var o=parseInt(a.substr(2,2),10).toString(16);return o=("0"+o).slice(-2),t.urls.base+"/smiley/"+r+"/"+o+"/"+e+".gif"},t.removeRestrictedSmiley=function(n){var a=t.getCategory(i.GRAPHICS),r=[];a.collection.forEach(function(e){e.shortcut!==n&&r.push(e)}),a.collection=r,t.recent.remove(n),n=n.substr(1),n.length<1||(e(".smiley-"+n).replaceWith(t.RESTRICTION_SMILE_PREFIX+n),t.search.invalidateCache(n[0]))},t.RESTRICTION_SMILE_PREFIX="&#58;",t.MAX_SHORTCUT_LENGTH=16,t.MAX_HINT_SMILEYS=5,t.predefinedCategories=[i.LITTLE,i.BIG,i.TEXT],t}();t.default=d,d.initialize(),e(function(){var t=e.cdnRootUrl;t&&(d.urls.base=t,d.urls.uploadImage=e.uploadSmileyUrl,d.urls.addSmiley=e.addSmileyUrl,d.urls.checkShortcut=e.checkShortcutUrl,d.urls.getList=e.smileysListUrl),d.init()})}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(83);t.isRTLCulture=i.isRTLCulture;var a=n(84);t.translateString=a.translateString;var r=n(86);t.translationAdd=r.translationAdd},function(e,t,n){"use strict";function i(e,t,n){for(var i,a=[],r=e;r<t;r++)void 0!==(i=n(r))&&a.push(i);return a}function a(e,t){var n=[];if(Array.isArray(e)||"object"==typeof e){var i=0;for(var a in e){var r=t(e[a],a,i++);void 0!==r&&n.push(r)}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.loop=i,t.loopv=a},function(e,t,n){"use strict";function i(e){var t=null;try{t=JSON.parse(e)}catch(e){t=null}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.json_parse=i},function(e,t,n){(function(t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function i(e){return"function"==typeof e}function a(e){V=e}function r(e){W=e}function o(){return function(){return t.nextTick(d)}}function s(){return void 0!==G?function(){G(d)}:u()}function l(){var e=0,t=new Y(d),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=d,function(){return e.port2.postMessage(0)}}function u(){var e=setTimeout;return function(){return e(d,1)}}function d(){for(var e=0;e<$;e+=2){(0,Q[e])(Q[e+1]),Q[e]=void 0,Q[e+1]=void 0}$=0}function h(){try{var e=Function("return this")().require("vertx");return G=e.runOnLoop||e.runOnContext,s()}catch(e){return u()}}function p(e,t){var n=this,i=new this.constructor(m);void 0===i[ee]&&M(i);var a=n._state;if(a){var r=arguments[a-1];W(function(){return D(a,i,r,n._result)})}else x(n,i,e,t);return i}function f(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(m);return C(n,e),n}function m(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(e){return ae.error=e,ae}}function y(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function _(e,t,n){W(function(e){var i=!1,a=y(n,t,function(n){i||(i=!0,t!==n?C(e,n):T(e,n))},function(t){i||(i=!0,P(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&a&&(i=!0,P(e,a))},e)}function w(e,t){t._state===ne?T(e,t._result):t._state===ie?P(e,t._result):x(t,void 0,function(t){return C(e,t)},function(t){return P(e,t)})}function S(e,t,n){t.constructor===e.constructor&&n===p&&t.constructor.resolve===f?w(e,t):n===ae?(P(e,ae.error),ae.error=null):void 0===n?T(e,t):i(n)?_(e,t,n):T(e,t)}function C(t,n){t===n?P(t,g()):e(n)?S(t,n,b(n)):T(t,n)}function k(e){e._onerror&&e._onerror(e._result),E(e)}function T(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&W(E,e))}function P(e,t){e._state===te&&(e._state=ie,e._result=t,W(k,e))}function x(e,t,n,i){var a=e._subscribers,r=a.length;e._onerror=null,a[r]=t,a[r+ne]=n,a[r+ie]=i,0===r&&e._state&&W(E,e)}function E(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,a=void 0,r=e._result,o=0;o<t.length;o+=3)i=t[o],a=t[o+n],i?D(n,i,a,r):a(r);e._subscribers.length=0}}function O(e,t){try{return e(t)}catch(e){return ae.error=e,ae}}function D(e,t,n,a){var r=i(n),o=void 0,s=void 0,l=void 0,c=void 0;if(r){if(o=O(n,a),o===ae?(c=!0,s=o.error,o.error=null):l=!0,t===o)return void P(t,v())}else o=a,l=!0;t._state!==te||(r&&l?C(t,o):c?P(t,s):e===ne?T(t,o):e===ie&&P(t,o))}function A(e,t){try{t(function(t){C(e,t)},function(t){P(e,t)})}catch(t){P(e,t)}}function j(){return re++}function M(e){e[ee]=re++,e._state=void 0,e._result=void 0,e._subscribers=[]}function L(){return new Error("Array Methods must be provided an Array")}function I(e){return new oe(this,e).promise}function R(e){var t=this;return new t(z(e)?function(n,i){for(var a=e.length,r=0;r<a;r++)t.resolve(e[r]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function F(e){var t=this,n=new t(m);return P(n,e),n}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=se}var U=void 0;U=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z=U,$=0,G=void 0,V=void 0,W=function(e,t){Q[$]=e,Q[$+1]=t,2===($+=2)&&(V?V(d):Z())},q="undefined"!=typeof window?window:void 0,K=q||{},Y=K.MutationObserver||K.WebKitMutationObserver,X="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),Z=void 0;Z=X?o():Y?l():J?c():void 0===q?h():u();var ee=Math.random().toString(36).substring(2),te=void 0,ne=1,ie=2,ae={error:null},re=0,oe=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(m),this.promise[ee]||M(this.promise),z(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&T(this.promise,this._result))):P(this.promise,L())}return e.prototype._enumerate=function(e){for(var t=0;this._state===te&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===f){var a=b(e);if(a===p&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(n===se){var r=new n(m);S(r,e,a),this._willSettleAt(r,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===te&&(this._remaining--,e===ie?P(i,n):this._result[t]=n),0===this._remaining&&T(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(ie,t,e)})},e}(),se=function(){function e(t){this[ee]=j(),this._result=this._state=void 0,this._subscribers=[],m!==t&&("function"!=typeof t&&N(),this instanceof e?A(this,t):H())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return i(e)?t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return se.prototype.then=p,se.all=I,se.race=R,se.resolve=f,se.reject=F,se._setScheduler=a,se._setAsap=r,se._asap=W,se.polyfill=B,se.Promise=se,se})}).call(t,n(60),n(73))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,i;!function(e){e.AR="ar_AE",e.BG="bg_BG",e.CS="cs_CZ",e.DA="da_DK",e.DE="de_DE",e.EL="el_GR",e.EN="en_GB",e.ES="es_ES",e.ET="et_EE",e.FI="fi_FI",e.FR="fr_FR",e.HR="hr_HR",e.HU="hu_HU",e.IT="it_IT",e.JA="ja_JP",e.JW="jw_IL",e.LT="lt_LT",e.LV="lv_LV",e.NL="nl_NL",e.NO="no_NO",e.PL="pl_PL",e.PT="pt_PT",e.RO="ro_RO",e.RU="ru_RU",e.SK="sk_SK",e.SL="sl_SI",e.SR="sr_RS",e.SV="sv_SE",e.TR="tr_TR",e.ZH="zh_CN",e.KO="ko_KR",e.MK="mk_MK",e.HI="hi_IN",e.UK="uk_UA",e.US="en_US",e.CA="fr_CA",e.BR="pt_BR"}(i||(i={}));var a=function(){function t(){}return t.pluralFunctions=(n={enType:function(e){var t=["single","other"],n=1;return 1===e&&(n=0),t[n]},asianType:function(){return"other"},frType:function(e){var t=["single","other"],n=1;return 0!==e&&1!==e||(n=0),t[n]}},n[i.RU]=function(e){var n=["single","few","other"],i=2;return e%10==1&&e%100!=11?i=0:t.inRange(e%10,2,4,!0)&&!t.inRange(e%100,12,14,!0)&&(i=1),n[i]},n[i.CS]=function(e){var t=["single","few","other"],n=2;return 1===e?n=0:e>=2&&e<=4&&(n=1),t[n]},n[i.LT]=function(e){var n=["single","few","other"],i=2;return e%10!=1||t.inRange(e%100,11,19,!0)?t.inRange(e%10,2,9,!0)&&!t.inRange(e%100,11,19,!0)&&(i=1):i=0,n[i]},n[i.LV]=function(e){var n=["zero","single","other"],i=2;return e%10==0||t.inRange(e%100,11,19,!0)?i=0:e%10==1&&e%100!=11&&(i=1),n[i]},n[i.PL]=function(e){var n=["single","few","other"],i=2;return 1===e?i=0:t.inRange(e%10,2,4,!0)&&!t.inRange(e%100,12,14,!0)&&(i=1),n[i]},n[i.SR]=function(e){var n=["single","few","other"],i=2;return e%10==1&&e%100!=100?i=0:t.inRange(e%10,2,4,!0)&&!t.inRange(e%100,12,14,!0)&&(i=1),n[i]},n[i.SL]=function(e){var n=["single","two","few","other"],i=3;return e%100==1?i=0:e%100==2?i=1:t.inRange(e%100,3,4,!0)&&(i=2),n[i]},n[i.SK]=function(e){var n=["single","few","other"],i=2;return 1===e?i=0:t.inRange(e,2,4,!0)&&(i=1),n[i]},n[i.RO]=function(e){var n=["single","few","other"],i=2;return 1===e?i=0:(0===e||1!==e&&t.inRange(e%100,1,19,!0))&&(i=1),n[i]},n[i.HR]=function(e){var n=["single","few","other"],i=2;return e%10==1&&e%100!=11?i=0:t.inRange(e%10,2,4,!0)&&!t.inRange(e%100,12,14,!0)&&(i=1),n[i]},n[i.MK]=function(e){var t=["single","other"],n=1;return e%10==1&&e%100!=11&&(n=0),t[n]},n[i.AR]=function(e){var n=["zero","single","two","few","many","other"],i=5;return 0===e?i=0:1===e?i=1:2===e?i=2:t.inRange(e%100,3,10,!0)?i=3:t.inRange(e%100,11,99,!0)&&(i=4),n[i]},n[i.JW]=function(e){var n=["single","two","many","other"],i=3;return 1===e?i=0:2===e?i=1:e%10!=0||t.inRange(e,0,10,!0)||(i=2),n[i]},n[i.UK]=function(e){var n=["single","few","many","other"],i=3;return e%10==1&&e%100!=11?i=0:t.inRange(e%10,2,4,!0)&&!t.inRange(e%100,12,14,!0)?i=1:(e%10==0||t.inRange(e%10,5,9,!0)||t.inRange(e%100,11,14,!0))&&(i=2),n[i]},n),t.getPlural=function(){return t.pluralFunctions},t.getEnPluraliseTypeCultures=function(){return[i.EN,i.ET,i.BG,i.FI,i.DA,i.NO,i.ES,i.SV,i.EL,i.HU,i.PT,i.IT,i.DE,i.NL,i.TR,i.US]},t.getAsianPluraliseTypeCultures=function(){return[i.JA,i.ZH,i.KO]},t.getFrenchPluraliseTypeCultures=function(){return[i.FR,i.BR,i.HI,i.CA]},t.inRange=function(e,t,n,i){return void 0===i&&(i=!1),i?e>=t&&e<=n:e>t&&e<n},t.pluralise=function(n,i,a){void 0===a&&(a=!1);var r=e.culture||"en_GB",o="";o=t.getEnPluraliseTypeCultures().indexOf(r)>-1?t.pluralFunctions.enType(i):t.getAsianPluraliseTypeCultures().indexOf(r)>-1?t.pluralFunctions.asianType():t.getFrenchPluraliseTypeCultures().indexOf(r)>-1?t.pluralFunctions.frType(i):t.pluralFunctions[r](i);var s=o?n+"%_"+o+"_%":n,l=__(s);return a?l.toUpperCase():l},t}();t.default=a}).call(t,n(0))},,,function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(91);t.connect=i.connect,t.Provider=i.Provider;n(92);t.createStore=function(e){return i.createStore(e)}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(102);t.clamp=i.clamp;var a=n(103);t.Random=a.Random;var r=n(104);t.PRNG=r.PRNG;var o=n(70);t.mulTable=o.mulTable;var s=n(71);t.shgTable=s.shgTable},,function(e,t,n){"use strict";function i(e,t,n){if(!c){var i=s.detectIE();c=i&&i<=11?"&#8203;":"<wbr />"}t=t||c,n=n||50;var a=e.split(" ");if(!a.length)return e;for(var r=new RegExp("(&[^;&]+;|.){1,"+n+"}(\\s|$)|(&[^;&]+;|.){"+n+"}|.+$","g"),o=0;o<a.length;o++)a[o].length>n&&(a[o]=a[o].match(r).join(t));return a.join(" ")}function a(e,t,n){var a,r=/<[\/\w]("[^"]*?"|'[^']*?'|[^'">])*>/g,o=[],s=0;for(e=""+e;a=r.exec(e);)o.push(i(e.substr(s,a.index-s),t,n),e.substr(a.index,a[0].length)),s=a.index+a[0].length;return o.push(i(e.substr(s),t,n)),o.join("")}function r(e,t){return i(e,"​",t)}function o(e){return l.isRTLCulture?e+"‏":e+"‎"}Object.defineProperty(t,"__esModule",{value:!0});var s=n(80),l=n(7),c=null;t.stringWordWrapCore=i,t.stringWordWrap=a,t.plainTextWordWrap=r,t.flowMarkText=o},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(e){var t=(e.key,e.group),n=e.icon,a=e.className,r=e.url,o=e.onClick;return i.h("svg",{onClick:o,class:t,xmlns:"http://www.w3.org/2000/svg"},i.h("use",{class:a||"",xlinkHref:r?"/images/"+r+n:n,href:r?"/images/"+r+n:n}))};t.default=a},,function(e,t,n){"use strict";(function(e){function i(t,n,i,r){e.ajax({type:"post",url:t.route,data:p.getCSRFData(a({username:chat.performerData.username},n)),success:function(e){"Success"!==e.status?r(e.msg):i(e.data)},error:function(e,t){r(__("Network error")+": "+t)}})}var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&(n[i[a]]=e[i[a]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(2),l=n(14),c=n(179),u=n(38),d=n(203),h=n(87),p=n(4),f=[],m=function(t){return{setGameTab:function(e,t){return a({},e,{currentTab:t})},setGameSettings:function(e,t,n){var i,r=u.baseGamesById[t].storeKey;return a({},e,{gamesSettings:a({},e.gamesSettings,(i={},i[r]=a({},n),i))})},rollDiceHitAction:function(e,t,n,o){void 0===o&&(o=l.noop);var s=e.gamesData[t.storeKey].type,c=e.gamesSettings[t.storeKey].sv;i(t,{type:s},function(e){var t=e.key,n=t.dataKey,i=t.actionKey,o=r(e,["key"]);chat.service.playGame(a({},o,{sv:c}),n,i)},o)},spinWheelHitAction:function(e,t,n,o){void 0===o&&(o=l.noop);var s=e.gamesSettings[t.storeKey].sv;i(t,{},function(e){var t=e.key,n=t.dataKey,i=t.actionKey,o=r(e,["key"]);chat.service.playGame(a({},o,{sv:s}),n,i)},o)},tokenKenoHitAction:function(e,t,n,o){void 0===o&&(o=l.noop);var s=e.gamesSettings[t.storeKey].sv;i(t,{amount:e.gamesData[t.storeKey].selectedAmount},function(e){var t=e.key,n=t.dataKey,i=t.actionKey,o=r(e,["key"]);chat.service.playGame(a({},o,{sv:s}),n,i)},o)},slotMachineHitAction:function(e,t,n,o){void 0===o&&(o=l.noop);var s=e.gamesData[t.storeKey].rate,c=e.gamesSettings[t.storeKey].sv;i(t,{rate:s},function(e){var t=e.key,n=t.dataKey,i=t.actionKey,o=r(e,["key"]);chat.service.playGame(a({},o,{sv:c}),n,i)},o)},setSlotMachineRate:function(e,t){var n=u.baseGamesById[u.GAMES.SLOT_MACHINE].storeKey,i=s.deepCopy(e.gamesData);if(t||(t=e.gamesData[n].rate),e.gamesSettings[n].no_lose&&t>2&&(t=2),i[n].rate!==t)return i[n].rate=+t,a({},e,{gamesData:i})},autoDJHitAction:function(t,n,i,a){void 0===a&&(a=l.noop),e.ajax({type:"post",url:h.url_for("@chat_bot_auto_dj_add_track?username="+chat.currentChathost),data:p.getCSRFData(i),dataType:"json",success:function(e){if("success"!==e.status){var n=e.msg;switch(e.msg){case"Invalid url, track not found":n=__("Video not found.");break;case"incorrect track":n=__("Only videos that fall under the Music category can be added to the playlist.");break;case"bot disabled":n=__("Game disabled");break;case"too large":n=__("The video you would like to add doesn't fit the criteria set by the model.")+" "+__("Maximum video length: %minutes% min",{minutes:Math.round(t.gamesSettings[u.baseGamesById[u.GAMES.AUTO_DJ].storeKey].max_length/60)});break;case"track is unavailable":n=__("The video you would like to add doesn't fit the criteria set by the model.")+" "+__("Video must have more likes than dislikes on YouTube.");break;case"track locked":n=__("The video you would like to add doesn't fit the criteria set by the model.")+" "+__("This video is on the model’s blacklist.");break;case"Video not embeddable":n=__("The video owner has blocked embedding on third party websites.");break;case"Auto DJ add track failed":default:n=__("Server error")+": "+e.msg}a(n)}},error:function(e,t){a(__("Network error")+": "+t)}})},blockHitButtons:function(e){var t=this;return o=setTimeout(function(){return t.unblockHitButtons(e)},1e3*u.GAMES_PENDING_TIMEOUT),a({},e,{pendingHitResult:!0})},unblockHitButtons:function(e){return clearInterval(o),a({},e,{pendingHitResult:!1})},setTokenKenoSelectedAmount:function(e,t){var n=s.deepCopy(e.gamesData);return n[u.baseGamesById[u.GAMES.TOKEN_KENO].storeKey].selectedAmount=t,a({},e,{gamesData:n})},setTokenKenoSuggestingAmount:function(e){for(var t,n=u.baseGamesById[u.GAMES.TOKEN_KENO].storeKey,i=e.gamesSettings[n],r=i.min_amount,o=function(e){if(!i.prizes.some(function(t){return t.amount&&t.amount===e}))return r=e,"break"},s=i.min_amount;s<=i.max_amount;s++){if("break"===o(s))break}return a({},e,{gamesData:a({},e.gamesData,(t={},t[n]=a({},e.gamesData[n],{suggestingAmount:r}),t))})},setTokenKenoPrizeAmount:function(e,t){var n=t.value,i=t.game,a=i.amount,r=i.sv,o=u.baseGamesById[u.GAMES.TOKEN_KENO].storeKey,l=s.deepCopy(e),c=l.gamesSettings[o];return c.sv===r&&(c.prizes[n].amount=a,l.gamesData[o].selectedAmount===a&&(l.gamesData[o].selectedAmount=null)),l},setTokenKenoShowPrizes:function(e,t){var n,i=u.baseGamesById[u.GAMES.TOKEN_KENO].storeKey;return a({},e,{gamesData:a({},e.gamesData,(n={},n[i]=a({},e.gamesData[i],{showPrizes:t}),n))})},setRollTheDiceType:function(e,t){var n=s.deepCopy(e.gamesData);return n[u.baseGamesById[u.GAMES.ROLL_THE_DICE].storeKey].type=t,a({},e,{gamesData:n})},openPopup:function(e,t,n,i){return void 0===n&&(n={}),void 0===i&&(i=null),e.popup.opened&&f.push(e.popup),a({},e,{popup:{component:t,opened:!0,componentProps:i,options:n}})},closePopup:function(e){if(e.popup.opened)return a({},e,{popup:f.length?f.pop():{component:null,opened:!1,componentProps:null,options:{}}})},resetGamesState:function(e){return d.default},setGameEnabled:function(e,t,n){var i,r=u.baseGamesById[t].storeKey;return a({},e,{gamesSettings:a({},e.gamesSettings,(i={},i[r]=a({},e.gamesSettings[r],{enabled:n}),i))})},setAutoDJTracks:function(e,t){var n,i,r=u.baseGamesById[u.GAMES.AUTO_DJ].storeKey;return a({},e,{gamesSettings:a({},e.gamesSettings,(n={},n[r]=a({},e.gamesSettings[r],{playlist:t}),n)),gamesData:a({},e.gamesData,(i={},i[r]=a({},e.gamesData[r],{lastActionTS:Date.now(),lastOffsetMs:t.length?1e3*t[0].offset||0:0}),i))})},addAutoDJTrack:function(e,t,n){var i,r,o=u.baseGamesById[u.GAMES.AUTO_DJ].storeKey,s=e.gamesSettings[o].playlist.slice();return s.splice(t,0,n),a({},e,{gamesSettings:a({},e.gamesSettings,(i={},i[o]=a({},e.gamesSettings[o],{playlist:s}),i)),gamesData:a({},e.gamesData,(r={},r[o]=a({},e.gamesData[o],0===t?{lastActionTS:Date.now(),lastOffsetMs:1e3*n.offset}:{}),r))})},setAutoDJPlaying:function(e,t){var n,i,r=u.baseGamesById[u.GAMES.AUTO_DJ].storeKey,o=e.gamesSettings[r],s=e.gamesData[r];return a({},e,{gamesSettings:a({},e.gamesSettings,(n={},n[r]=a({},o,{playing:t}),n)),gamesData:a({},e.gamesData,(i={},i[r]=a({},s,{lastOffsetMs:s.lastOffsetMs+(o.playing?Date.now()-s.lastActionTS:0),lastActionTS:Date.now()}),i))})},skipAutoDJTrack:function(e,t){var n=s.deepCopy(e),i=u.baseGamesById[u.GAMES.AUTO_DJ].storeKey,a=!1,r=e.gamesSettings[i].playlist;return r&&r[0]&&r[0].id===t&&(a=!0),r=r.filter(function(e){return e.id!==t}),n.gamesSettings[i].playlist=r,a&&(n.gamesSettings[i].playing=!1,n.gamesData[i]={lastOffsetMs:0,lastActionTS:Date.now()}),n},setAutoDJSettings:function(e,t){var n,i=u.baseGamesById[u.GAMES.AUTO_DJ].storeKey;return a({},e,{gamesSettings:a({},e.gamesSettings,(n={},n[i]=a({},e.gamesSettings[i],t),n))})},setAutoDJShowForm:function(e,t){void 0===t&&(t=!0);var n,i=u.baseGamesById[u.GAMES.AUTO_DJ].storeKey;return a({},e,{gamesData:a({},e.gamesData,(n={},n[i]=a({},e.gamesData[i],{showForm:t}),n))})}}};t.default=m;var g=s.mapActions(m,c.default);t.setGameTab=g.setGameTab,t.setGameSettings=g.setGameSettings,t.rollDiceHitAction=g.rollDiceHitAction,t.spinWheelHitAction=g.spinWheelHitAction,t.tokenKenoHitAction=g.tokenKenoHitAction,t.slotMachineHitAction=g.slotMachineHitAction,t.autoDJHitAction=g.autoDJHitAction,t.setSlotMachineRate=g.setSlotMachineRate,t.blockHitButtons=g.blockHitButtons,t.unblockHitButtons=g.unblockHitButtons,t.setTokenKenoSelectedAmount=g.setTokenKenoSelectedAmount,t.setTokenKenoSuggestingAmount=g.setTokenKenoSuggestingAmount,t.setTokenKenoPrizeAmount=g.setTokenKenoPrizeAmount,t.setTokenKenoShowPrizes=g.setTokenKenoShowPrizes,t.setRollTheDiceType=g.setRollTheDiceType,t.openPopup=g.openPopup,t.closePopup=g.closePopup,t.resetGamesState=g.resetGamesState,t.setGameEnabled=g.setGameEnabled,t.setAutoDJSettings=g.setAutoDJSettings,t.setAutoDJTracks=g.setAutoDJTracks,t.addAutoDJTrack=g.addAutoDJTrack,t.setAutoDJPlaying=g.setAutoDJPlaying,t.skipAutoDJTrack=g.skipAutoDJTrack,t.setAutoDJShowForm=g.setAutoDJShowForm}).call(t,n(0))},,,,,,,,,,,function(e,t,n){"use strict";function i(e,n,i){var a={p1:0,p2:1,p3:2,p4:3,p5:4,p6:5,p7:6,p8:7,p9:8},r=[];e.state.map(function(e){return e.map(function(e){return r.push({icon:t.SLOT_MACHINE_ICONS[n.prizes[a[e]].slug],active:!1})})});var s={isPrizes:e.prizes&&e.prizes.length,prizes:[],reels:r,allPrizes:""};return s.prizes=e.prizes.map(function(e){var t=a[e.prize],s=o.deepCopy(r);return e.cells.map(function(e){return s[e-1].active=!0}),{label:i&&n.prizes[t].ru?n.prizes[t].ru:n.prizes[t].en,items:s}}),s.allPrizes=s.prizes.map(function(e){return e.label}).join(", "),s}var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=n(2);t.GAMES_PENDING_TIMEOUT=10;var s;!function(e){e.ROLL_THE_DICE="roll-dice",e.SPIN_THE_WHEEL="spin-wheel",e.SLOT_MACHINE="slot-machine",e.TOKEN_KENO="token-keno",e.AUTO_DJ="auto-dj"}(s=t.GAMES||(t.GAMES={}));!function(e){e.ROLL_THE_DICE='%username% wants to play "Dice" with you!',e.SPIN_THE_WHEEL='%username% wants to play "Wheel of Fortune" with you!',e.SLOT_MACHINE='%username% wants to play "Slot Machine" with you!',e.TOKEN_KENO='%username% wants to play "Bingo" with you!'}(t.GAME_PROMO_MSG||(t.GAME_PROMO_MSG={}));var l=["pussy","tits","ass","lipstick","diamond","crown","high_heels","heart","lips","strawberry","plum","watermelon","lemon","orange","grapes","apple","banana","cherry"];t.SLOT_MACHINE_ICONS=l.map(function(e){return"#icon_slot_m_"+e});var c=["7 4 16 +8 +8 +8 14 17 17","+16 +16 +16 5 17 8 14 7 17","7 4 16 17 12 9 +17 +17 +17","7 15 +4 3 +4 0 +4 17 13","+1 0 16 5 +1 8 14 7 +1","7 4 16 16 +12 9 +12 17 +12","+14 15 +14 3 +14 0 4 17 13","7 +2 16 +2 8 +2 14 7 5","7 2 16 +10 8 +10 14 +10 5"].map(function(e){return e.split(" ").map(function(e){return{icon:t.SLOT_MACHINE_ICONS[+e],active:"+"===e[0]}})});t.SLOT_MACHINE_BET_EXAMPLES={1:c.slice(0,1),2:c.slice(0,3),3:c.slice(0,5),4:c},t.processSlotResult=i,t.baseGamesList=[{id:s.ROLL_THE_DICE,className:"__dice",icon:"icon-roll_the_dice",iconFlat:"icon-roll_the_dice_flat",title:__("Dice"),confirmBtn:__("Roll the Dice!"),route:"/chatbot/game/roll-dice",storeKey:"rollTheDice",hitAction:r.rollDiceHitAction,isShow:function(e,t,n){return t.enabled}},{id:s.SPIN_THE_WHEEL,className:"__wheel",icon:"icon-spin_the_wheel",iconFlat:"icon-spin_the_wheel_flat",title:__("Wheel of Fortune"),confirmBtn:__("Spin the Wheel!"),route:"/chatbot/game/spin-wheel",storeKey:"spinTheWheel",hitAction:r.spinWheelHitAction,isShow:function(e,t,n){return t.enabled}},{id:s.TOKEN_KENO,className:"__keno",icon:"icon-game_token_keno",iconFlat:"icon-game_token_keno_flat",title:__("Bingo"),confirmBtn:__("Play!"),route:"/chatbot/game/token-keno",storeKey:"tokenKeno",hitAction:r.tokenKenoHitAction,isShow:function(e,t,n){return t.enabled}},{id:s.SLOT_MACHINE,className:"__slot",icon:"icon_slot_machine",iconFlat:"icon_slot_machine_flat",title:__("Slot Machine"),confirmBtn:__("Play!"),route:"/chatbot/game/slot-machine",storeKey:"slotMachine",hitAction:r.slotMachineHitAction,isShow:function(e,t,n){return t.enabled}},{id:s.AUTO_DJ,className:"__autodj",icon:"icon_auto_dj",iconFlat:"icon_auto_dj_flat",title:__("Auto DJ"),confirmBtn:__("Request a song!"),route:"",storeKey:"autoDJ",hitAction:r.autoDJHitAction,isShow:function(e,t,n){return t.enabled||!!t.playlist.length}}],t.baseGamesById=t.baseGamesList.reduce(function(e,t){var n;return a({},e,(n={},n[t.id]=t,n))},{})},,function(e,t,n){"use strict";function i(){return document.documentElement.getAttribute("data-third_level")||location.host.split(".").length-1==1?"."+location.host:location.host.substr(location.host.indexOf("."),location.host.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.getRealDomain=i},,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(54),a=function(){function t(){if(this.soundsPath="/sounds/",this.soundsOptions={preload:!0,multiplay:!1,volume:.5,sounds:[{alias:"empty",name:"empty",path:"/sounds/"},{alias:"diamond",name:"new_message_diamond",path:"/sounds/im/"},{alias:"premium",name:"new_message_premium",path:"/sounds/im/"},{alias:"common",name:"new_message_common",path:"/sounds/im/"}]},void 0!==window.ion&&(window.ion.sound(this.soundsOptions),i.BrowserDetect.isSafari())){var e=function(){window.ion.sound.play("empty"),document.removeEventListener("mouseup",e)};document.addEventListener("mouseup",e)}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),t.getSoundAliasByMemberLevel=function(e){var t;switch(e){case"platinum":case"unlimited":t="premium";break;case"diamond":case"exclusive":t="diamond";break;default:t="common"}return t},t.prototype.play=function(e){return void 0!==window.ion&&"string"==typeof e&&(window.ion.sound.play(e),!0)},t.prototype.add=function(t,n){if(void 0===window.ion)return!1;var i=[];n=n||"",n[0]&&"/"===n[0]&&(n=n.substr(1));for(var a=0;a<t.length;a++){var r=void 0;"object"==typeof t[a]?(r=t[a],r.hasOwnProperty("path")||(r.path=this.soundsPath+n+"/")):r={name:t[a],path:this.soundsPath+n+"/"},i.push(r)}return window.ion.sound(e.extend(this.soundsOptions,{sounds:i})),!0},t.prototype.remove=function(){return void 0!==window.ion&&(window.ion.sound.destroy.apply(this,arguments),!0)},t.VOYEUR="voyeur",t.PRIVATE="private",t.TIP="tip_gain3",t.TIP_100="tip100_gain6",t.LEAVE="leave",t.GAME="alert_games",t.FIRST_PLACE="fisrt_place",t}();t.default=a}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var r={url:t+"?"+Date.now(),type:"POST",data:{method:n},dataType:"json"};return i.length&&(r.data.args=i),r.data=c.getCSRFData(r.data),e.ajax(r)}function a(t,n){for(var a=[],r=2;r<arguments.length;r++)a[r-2]=arguments[r];var o=3,s=e.Deferred(),l=function(){var e=i.apply(void 0,[t,n].concat(a)).done(function(t){t?s.resolve(t):c(e,!1,null)}).fail(c);return e},c=function(e,t,i){o-- >0?(console.warn("requestRetry.Fail",n,"count="+o,"textStatus="+t,"errorThrown="+i),window.setTimeout(function(){l()},d.Random.rangeInt(500,1500))):s.reject()};return s.promise(l())}Object.defineProperty(t,"__esModule",{value:!0});var r=n(327),o=n(76),s=n(107),l=n(328),c=n(4),u=n(259),d=n(19),h=n(45);t.conn=new r.default,t.eventDispatcher=new l.default,t.request=i,t.requestRetry=a;var p=function(){function e(e){var n=this;this.pingTimer=0,this.onConnect=function(){t.eventDispatcher.dispatch(s.ChatServiceEvent.CONNECT)},this.onClose=function(){t.eventDispatcher.dispatch(s.ChatServiceEvent.CLOSE)},this.onEvent=function(e){switch(e.type){case o.ServerMessageEvent.PERFORMER_STATUS_CHANGE:chat.performerStatusChange(e.body);break;case o.ServerMessageEvent.PERFORMER_SETTINGS_CHANGE:chat.onChatSettings(e.body);break;case o.ServerMessageEvent.TOPIC_CHANGE:chat.onTopicChange(e.body.topic,e.body.isRu);break;case o.ServerMessageEvent.TIP_MENU_CHANGE:chat.onTipMenuChange(u.parseTipMenuMessage(e.body.tipMenu),e.body.isRu);break;case o.ServerMessageEvent.CHAT_CLEAR_HISTORY:chat.onHistoryClear(e.body.type);break;case o.ServerMessageEvent.DELETE_MESSAGE:chat.onDeleteMessages(e.body);break;case o.ServerMessageEvent.CHAT_INCOMING_MESSAGE:chat.incomingMessage(e.body.type,e.body.message,e.body.author,e.body.id,e.body.suspicious,!1,e.body.l);break;case o.ServerMessageEvent.INCOMING_NOTICE:chat.incomingServiceMessage(e.body.message,e.body.type,e.body.lang,e.body.style);break;case o.ServerMessageEvent.SF_NOTICE:chat.spamFilterMessage(e.body.type,e.body.defaultMsg,e.body.enMsg,e.body.ruMsg,e.body.md);break;case o.ServerMessageEvent.CLEANUP_SPAM_LIST:chat.cleanSpamList(e.body.sml);break;case o.ServerMessageEvent.ADD_TO_SPAM_LIST:chat.addToSpamList(e.body.un,e.body.ts);break;case o.ServerMessageEvent.INCOMING_TIP:chat.onTip(e.body.from,e.body.tip.amount,!0,e.body.tip.subType),chat.dispatchTip(e.body.from,e.body.tip.amount);break;case o.ServerMessageEvent.INCOMING_RAISE:chat.onShowRaise(e.body.from),h.default.instance.play(h.default.FIRST_PLACE);break;case o.ServerMessageEvent.SHOW_REQUEST:chat.onShowRequest(e.body);break;case o.ServerMessageEvent.GROUP_SHOW_RESPONSE:chat.onGroupShowResponse(e.body);break;case o.ServerMessageEvent.ROOM_CLOSE:clearInterval(n.pingTimer),chat.onDisconnect(e.body)}t.eventDispatcher.dispatch(e.type,e.body)},this.serviceUrl=e,this.onRegister()}return e.prototype.connect=function(e){t.conn.connect(e),t.conn.onConnect=this.onConnect,t.conn.onClose=this.onClose,t.conn.onEvent=this.onEvent},Object.defineProperty(e.prototype,"connected",{get:function(){return t.conn.connected},enumerable:!0,configurable:!0}),e.prototype.sendMessage=function(e,n,i,a){void 0===i&&(i=null),t.conn.call("ChatModule.sendMessage",null,n,e,i,a)},e.prototype.deleteMessage=function(e){t.conn.call("ChatModule.messageDelete",null,parseInt(e))},e.prototype.sendShowRequest=function(e){t.conn.call("ChatModule.sendShowRequest",null,e)},e.prototype.reloadConfig=function(e){t.conn.call("ChatModule.reloadConfig",null,e)},e.prototype.onRegister=function(){throw new Error("onRegister method is abstract")},e}();t.default=p}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(105);t.genRandomGUID=i.guid128bitRandom;var a=n(106);t.getGUIDByString=a.guid128bitFromString},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(157);t.escapeHTML=i.escapeHTML;var a=n(158);t.stringTruncate=a.stringTruncate;var r=n(159);t.escapeRegExp=r.escapeRegExp;var o=n(160);t.splitWithReplace=o.splitWithReplace;var s=n(161);t.toCamelCase=s.toCamelCase;var l=n(162);t.romanize=l.romanize},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrl=function(e,n){var i=null,a=n.split("#"),r=a[0],o=a[1],s=r.split("?"),l=s[0],c=s[1];for(var u in e)if(e.hasOwnProperty(u)&&(u===l?i=e[u]:"object"==typeof e[u]&&(i=t.getUrl(e[u],l)),i))break;if(i&&c){c.split("&").forEach(function(e){if(-1!==e.indexOf("=")){var t=e.split("="),n=t[0],a=t[1];i=i.replace(new RegExp(":("+n+")","g"),a)}})}return o?i+"#"+o:i}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(201);t.hexToRgb=i.hexToRgb;var a=n(329);t.rgbToHex=a.rgbToHex;var r=n(330);t.hexToHsv=r.hexToHsv;var o=n(331);t.hsvToRgb=o.hsvToRgb;var s=n(202);t.rgbToHsv=s.rgbToHsv;var l=n(332);t.isHexColor=l.isHexColor;var c=n(333);t.convertHex3To6=c.convertHex3To6},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(155);t.classMix=i.objectKeysToCssClass,t.ClassMixObjectInterface=i.ClassMixObjectInterface;var a=n(156);t.cssMerge=a.objectOrArrayToCSSClass},function(e,t,n){"use strict";(function(e){function n(e,t,n){return!(isNaN(e)||isNaN(t)||isNaN(n))&&Math.abs(e-t)<=n}Object.defineProperty(t,"__esModule",{value:!0}),t.deviceWidth=window.outerWidth||document.documentElement.offsetWidth||document.documentElement.clientWidth,t.deviceHeight=window.outerHeight||document.documentElement.offsetHeight||document.documentElement.clientHeight,t.landscapeOrientation=t.deviceWidth>t.deviceHeight,t.orientationChange=null,t.getWindowWidth=function(){return-1!==window.navigator.userAgent.toLowerCase().indexOf("windows phone 10")?e(window).width():window.innerWidth},t.getWindowHeight=function(){return-1!==window.navigator.userAgent.toLowerCase().indexOf("windows phone 10")?e(window).height():window.innerHeight},t.isLandscape=function(){return t.getWindowWidth()>t.getWindowHeight()},t.isOrientationChange=function(e){var i,a=5,r=t.getWindowWidth(),o=t.getWindowHeight();return e&&(t.orientationChange=null),n(t.deviceWidth,r,a)&&t.deviceHeight>=o?(t.orientationChange=null===t.orientationChange,t.orientationChange):(i=!n(r,t.deviceWidth,a)||o>t.deviceHeight,t.deviceWidth=r,t.deviceHeight=o,t.orientationChange=null===t.orientationChange||(i||t.landscapeOrientation!==r>o),t.landscapeOrientation=r>o,t.orientationChange)},t.getOrientation=function(){return t.isLandscape()?"landscape":"portrait"},t.hideKeyboard=function(){document.activeElement.blur(),e("input").blur()};var i=function(){function e(){}return e.isChrome=function(){if(-1!==this.userAgent.indexOf("Chrome")){var e=this.userAgent.match(/Chrome\/([\d.]+)/);return!(!e||!e[1])&&e[1]}return!1},e.isYandex=function(){return-1!==this.userAgent.indexOf("YaBrowser")},e.isChrome_MinVersion=function(e){var t=this.isChrome();return t&&parseInt(t)>=e},e.isChrome_MaxVersion=function(e){var t=this.isChrome();return t&&parseInt(t)<e},e.isChrome_Android=function(){return-1!==this.userAgent.indexOf("Android")&&this.isChrome()},e.isYandex_Android=function(){return-1!==this.userAgent.indexOf("Android")&&-1!==this.userAgent.indexOf("YaBrowser")&&-1===this.userAgent.indexOf("(lite)")},e.isSafari=function(){if(-1!==this.userAgent.indexOf("Safari")&&-1===this.userAgent.indexOf("Chrome")){var e=this.userAgent.match(/Version\/([\d.]+)/);return!(!e||!e[1])&&e[1]}return!1},e.isSafari_MinVersion=function(e){var t=this.isSafari();return t&&parseInt(t)>=e},e.isSafari_MacOS=function(){return-1!==window.navigator.platform.indexOf("Mac")&&this.isSafari()},e.isSafari_IOS=function(){return/iPad|iPhone|iPod/.test(window.navigator.platform)&&this.isSafari()},e.isIE11=function(){return-1!==this.userAgent.indexOf("Trident/")},e.isIE10_Older=function(){return-1!==this.userAgent.indexOf("MSIE ")},e.isEdge=function(){if(-1!==this.userAgent.indexOf("Edge/")){var e=this.userAgent.match(/Edge\/([\d.]+)/);return!(!e||!e[1])&&e[1]}return!1},e.isOldWindows=function(){return/Windows (XP|2000|NT 5.0|NT 5.1|NT 5.2)/.test(this.userAgent)},e.userAgent=window.navigator.userAgent,e}();t.BrowserDetect=i}).call(t,n(0))},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=n(210),r=n(113),o=n(114),s=n(211),l=n(7),c=function(){function t(e,t){this._isPanelOpen=!1,this.countColumns=7,this.uniqueId=Math.floor(1e9*Math.random()),this.$element=e,this.options=t,this.$element.data("smileys")||(this.$element.data("smileys",this),this.init())}return Object.defineProperty(t.prototype,"isPanelOpen",{get:function(){return this._isPanelOpen},enumerable:!0,configurable:!0}),t.hideAll=function(){e(".smilePanel").hide(),e(".smileysHintPanel").hide()},t.prototype.init=function(){var t=e("#bChat").width();this.$element.addClass("smilePanelInput"),this.$panel=e("<div />").addClass("smilePanel"),this.options.styleClass&&this.$panel.addClass(this.options.styleClass),this.$button=this.$element.find(".smileButton"),this.$input=this.$element.find(".sendInput"),t<356?this.countColumns=6:t<320&&(this.countColumns=5),this.options.short&&(this.countColumns=4),this.attachHandlers()},t.prototype.destroy=function(){this.detachHandlers(),this.detachPanelHandlers(),this.$element.removeData("smileys"),this.$panel.remove()},t.prototype.open=function(t){var n=t.currentTarget,a=e("#bSignup");if(a.length||e("#member_join_popup_trigger").length)this.$panel.hasClass("in_chat")&&e("#login_or_join_popup").length&&"function"==typeof e.openLoJPopup?e.openLoJPopup():e("#member_join_popup").length&&"undefined"!=typeof sv?e.signupEvent.call(n,t):a.click();else{this.$panel.find(".smilePanelFrame").length||this.render(),this.options.isMobile&&this.$panel.addClass("smilePanelMinimized").removeClass("smilePanelMaximized"),this.resize(),this.$panel.show(),this._isPanelOpen||this.attachPanelHandlers(),this._isPanelOpen=!0;var r=this.$panel.find(".smilePanelFrameActive");i.default.isExtended&&r.is(".smilePanelFrameSearch")&&r.is(".empty")&&(r.removeClass("smilePanelFrameActive").hide(),r=this.$panel.find(".smilePanelFrame:first"),r.addClass("smilePanelFrameActive").show(),this.$panel.find(".smilePanelTab:first").addClass("smilePanelTabActive"),this.$panel.find(".smilePanelViewer").find(".smile-tab-title, .smileAbout").show()),r.data("title")&&this.$panel.find(".smile-tab-title .smileTitle").show().html(r.data("title"))}return e(n).is(".smileButtonModel, .chat_set")},t.prototype.hide=function(){this._isPanelOpen&&(this._isPanelOpen=!1,this.$panel.hide(),this.detachPanelHandlers())},t.prototype.resize=function(){var t,n,i=e(".smilePanel");if(this.$panel||(this.$panel=i),!this.$panel.length)return!1;if(this.options.isMobile){var a=e("#bChat"),r=e(".chat-panel"),o=e(".smilePanelFrame"),s=e(".smilePanelTabs"),l=285;i.css("width",r.width()),o.css("width",r.width()),this.$panel.hasClass("smilePanelMaximized")?(l=a.find(".historyContainer").height()+10,i.css("height",l)):(i.css("height",l),o.css("height",l-s.height()-49)),t=a.find(".historyContainer").offset().top,n=a.offset().left}else{if(this.$button||(this.$button=e(".smileButton")),!this.$button.length)return!1;t=this.getTopOffset(),n=this.getLeftOffset()}this.$panel.hasClass("bot-smileys")&&(t=this.$element.offset().top+this.$element.innerHeight(),n=this.$element.offset().left+this.$element.outerWidth()),this.$panel.css({top:t+"px",left:n+"px"})},t.prototype.render=function(){e("body");this.options.inChat&&this.$panel.append('<div class="closeBtn" />'),this.options.premium&&this.$panel.append(s.default()),this.$panel.append(this.getSmileFrameLittle()),this.options.premium&&this.$panel.append(r.default()).append(o.default()),this.options.isMobile&&(this.$panel.addClass("smilePanelMinimized"),this.$panel.append('<div class="smilePanelMore"><button class="smilePanelMoreButton">'+__("Show more")+"</button></div>")),this.$panel.children().wrapAll('<div class="smilePanelContent"></div>'),this.$panel.appendTo("body")},t.prototype.attachHandlers=function(){var t=this;e("body").on("click.smileys"+this.uniqueId+" mousedown.smileys"+this.uniqueId+" touhstart.smileys"+this.uniqueId,function(e){t.onBodyClick(e)}).on("keydown.smileys"+this.uniqueId,function(e){t.onBodyKeydown(e)})},t.prototype.detachHandlers=function(){e("body").off("click.smileys"+this.uniqueId+" mousedown.smileys"+this.uniqueId+" touchstart.smileys"+this.uniqueId).off("keydown.smileys"+this.uniqueId)},t.prototype.attachPanelHandlers=function(){var t=this;this.$panel.on("click",".smileyContainer, .smileyGraphic",function(e){t.onClickSmiley(e.currentTarget)}),this.options.isMobile&&this.$panel.on("click",".smilePanelMoreButton",function(){var n=e("#bChat").find(".historyContainer").height()+10;e(".smilePanel").css("height",n),t.$panel.removeClass("smilePanelMinimized").addClass("smilePanelMaximized")}),(this.options.premium||this.options.short)&&this.$panel.on("click",".smilePanelTab",function(e){t.onTabClick(e.currentTarget)})},t.prototype.detachPanelHandlers=function(){this.$panel.off("click")},t.prototype.onBodyClick=function(t){var n=e(t.target);if(n.is(this.$panel)||n.parents(".smilePanel").is(this.$panel)||n.is(this.$button)||n.parents(".smileButton").is(this.$button))return t.preventDefault(),!1;this.hide()},t.prototype.onBodyKeydown=function(e){27===e.keyCode&&(this.$panel.find(".smiley-popup").hide(),this.hide())},t.prototype.onTabClick=function(t){var n=e(t);return n.addClass("smilePanelTabActive").siblings().removeClass("smilePanelTabActive").parents(".smilePanel").find(".smilePanelFrame").hide().removeClass("smilePanelFrameActive").eq(n.index(".smilePanelTab")).fadeIn(150,function(){e(this).addClass("smilePanelFrameActive")})},t.prototype.onClickSmiley=function(t){var n=e(t).find("img");if(this.hide(),this.options.premium&&(n.parents(".smilePanelFrameBig").length||n.parents(".smilePanelFrameText").length||n.parents(".smileyCategory-big_smileys").length||n.parents(".smileyCategory-text_smileys").length)&&!this.canUsePremiumSmileys())return window.chat.buyTokensPopup(),window.chat.addServiceMessage(__("To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!"),"alert"),!1;if(this.options.insertCallback)this.options.insertCallback(n.attr("token"));else if(!this.$input.is(":disabled")){var i=this.$input.val(),a=" "+n.attr("token")+" ",r=this.$input[0].selectionStart,o=this.$input[0].selectionEnd,s=i.slice(0,r)+a+i.slice(o);this.$input.val(s);var l=r+a.length;return this.$input[0].setSelectionRange(l,l),!0}},t.prototype.getSmileFrameLittle=function(){var e="smilePanelFrame smilePanelFrameLittle with-scroll",t=this.$panel.find(".smilePanelFrameActive");return(!t.length||t.length&&t.hasClass("smilePanelFrameLittle"))&&(e+=" smilePanelFrameActive"),a.default(e,this.countColumns)},t.prototype.getTopOffset=function(){var t=this.$button.offset(),n=t.top-this.$panel.height()+12;return this.$panel.hasClass("smilePanelFixed")&&(n-=e(window).scrollTop()),this.$panel.hasClass("in_chat")&&(n-=37),e("#bChatMobileApp").length?n-=56:this.$button.hasClass("smileButtonModel")&&(n-=56),e("#chat_bar_v2").length&&(n-=36),n},t.prototype.getLeftOffset=function(){var t=this.$button.offset(),n=t.left-this.$panel.width()+12;return this.$panel.hasClass("smilePanelFixed")&&(n-=e(window).scrollLeft())<=0&&(n=0),this.$panel.hasClass("in_chat")&&(n+=2),this.$button.hasClass("smileButtonModel")&&(n+=30),e("#chat_bar_v2").length&&(l.isRTLCulture?n-=60:n+=78),l.isRTLCulture&&(n+=this.$panel.width()),n},t.prototype.canUsePremiumSmileys=function(){return!(window.chat&&window.chat.userData&&window.chat.userData.username&&window.chat.userData.role&&"member"===window.chat.userData.role&&(!window.chat.userData.isPayable||"free"===window.chat.userData.accessLevel))},t}();t.default=c}).call(t,n(0))},,function(e,t,n){"use strict";function i(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,n=e.match(t);return!(!n||11!==n[7].length)&&n[7]}function a(){return s.h("div",{class:"playing_icon"},s.h("div",{class:"bar"}),s.h("div",{class:"bar"}),s.h("div",{class:"bar"}),s.h("div",{class:"bar"}))}function r(){return s.h("svg",{viewBox:"0 0 12 12",class:"upped_icon"},s.h("rect",{x:"7",y:"1",width:"5",height:"2"}),s.h("rect",{x:"7",y:"5",width:"5",height:"2"}),s.h("rect",{x:"7",y:"9",width:"5",height:"2"}),s.h("polygon",{points:"4,4 4,0 6,2"}),s.h("path",{d:"M6,9.3l-0.2,0c-0.1,0-0.2,0-0.3,0c-2.2,0-3.9-1.6-3.9-3.5c0-1.6,1.3-3,2.9-3.3C4.8,2.5,4.7,0.9,4.4,1C1.9,1.5,0,3.5,0,5.9C0,8.7,2.5,11,5.5,11c0.2,0,0.3,0,0.5,0l0.1,0V9.3z"}))}function o(e){var t=function(e){return e<10?"0"+e:""+e};return e=Math.round(e),Math.floor(e/60)+":"+t(e%60)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1);t.YTPlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},t.trackIdStoreKey="adjltid",t.getYoutubeIdFromUrl=i,t.IconPlaying=a,t.IconUpped=r,t.formatTrackDuration=o},,function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){m&&p&&(m=!1,p.length?f=p.concat(f):g=-1,f.length&&s())}function s(){if(!m){var e=a(o);m=!0;for(var t=f.length;t;){for(p=f,f=[];++g<t;)p&&p[g].run();g=-1,t=f.length}p=null,m=!1,r(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,h=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var p,f=[],m=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||a(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},,function(e,t,n){"use strict";function i(){var e=window.chat;return e&&e.performerData?e.paidShowId?e.paidShowId:"stream_"+e.performerData.username:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getStreamName=i},,,function(e,t){e.exports=vf},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){DI.inject(this,"contract"),DI.inject(this,"router","event-router"),this.active=!1}return e.prototype.start=function(){this.active=!0},e.prototype.stop=function(){this.active=!1},e.prototype.rebind=function(e,t){this.contract.assertType("ModuleClass#rebind","boolean",e)},e.prototype.emit=function(e){this.router.emit(e)},e.prototype.parseUrl=function(e){var t=e.data("link")||e.attr("href");return this.contract.assertString(this.constructor.name+"#parseUrl",t),t},e.prototype.ignoreUrl=function(e,t){return this.contract.assertString(this.constructor.name+"#ignoreUrl",t),e.is("[data-toggle]")||"#"===t||e.is("[data-external_url]")},e}();t.default=i},,,function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),r=n(9),o=n(19),s={reconnect:!1,maxDelay:3e4,minDelay:1e3,sendTimeout:6e5,retries:5,factor:2,onopen:null,onmessage:null,onclose:null,onerror:null},l=function(){function e(e,t){var n=this;this.url=e,this.options={},this.onopen=a.noop,this.onmessage=a.noop,this.onclose=a.noop,this.onerror=a.noop,this.messages=[],this.isOpened=!1,this.currentAttempt=0,this.onTryReconnect=a.noop,this.onFailReconnect=a.noop,this.handleOpen=function(){n.currentAttempt=0,n.isOpened=!0,n.onopen(n);for(var e=Date.now();n.messages.length>0;){var t=n.messages.pop();e-t.time<n.options.sendTimeout&&n.socket.send(t.data)}},this.handleMessage=function(e){var t=r.json_parse(e.data);"close"===t.type?n.close():n.onmessage(t)},this.handleClose=function(e){n.isOpened=!1,n.isNeedReconnect&&n.tryReconnect(),n.onclose(n,e)},this.handleError=function(e){n.onerror(n,e)};var o=this.options=i({},s,t),l=o.onopen,c=o.onmessage,u=o.onclose,d=o.onerror,h=o.reconnect;this.onopen=l||a.noop,this.onmessage=c||a.noop,this.onclose=u||a.noop,this.onerror=d||a.noop,this.isNeedReconnect=h,this.init()}return e.prototype.init=function(){this.isOpened=!1;var e=this.socket=new WebSocket(this.url);e.onerror=this.handleError,e.onmessage=this.handleMessage,e.onclose=this.handleClose,e.onopen=this.handleOpen},e.prototype.send=function(e){this.isOpened?this.socket.send(JSON.stringify(e)):this.messages.push({time:Date.now(),data:JSON.stringify(e)})},e.prototype.close=function(){this.isOpened&&(this.isOpened=!1,this.disableReconnecting(),this.socket.close())},e.prototype.tryReconnect=function(){var e=this,t=this.getTimeout();if(t)return void setTimeout(function(){e.onTryReconnect(),e.init()},t);this.onFailReconnect()},e.prototype.getTimeout=function(){return this.currentAttempt++,this.currentAttempt>this.options.retries?0:o.clamp(Math.round((Math.random()+1)*this.options.minDelay*Math.pow(this.options.factor,this.currentAttempt)),this.options.minDelay,this.options.maxDelay)},e.prototype.disableReconnecting=function(){this.isNeedReconnect=!1},e}();t.SocketAdapter=l,window.SocketAdapter=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mulTable=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shgTable=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]},,function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(){return!(window.chat&&-1!==t.POPUPFREE_SHOWTYPES.indexOf(window.chat.currentShowType))}Object.defineProperty(t,"__esModule",{value:!0}),t.POPUPFREE_SHOWTYPES=["private","fullprivate","voyeur","group"],t.checkIsChatTypePopupEnabled=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.ROOM_CLOSE="ServerMessageEvent:ROOM_CLOSE",e.CHAT_USER_JOIN="ServerMessageEvent:CHAT_USER_JOIN",e.CHAT_USER_LEAVE="ServerMessageEvent:CHAT_USER_LEAVE",e.CHAT_INCOMING_MESSAGE="ServerMessageEvent:CHAT_INCOMING_MESSAGE",e.CHAT_CLEAR_HISTORY="ServerMessageEvent:CHAT_CLEAR_HISTORY",e.INCOMING_TIP="ServerMessageEvent:INCOMING_TIP",e.TOPIC_CHANGE="ServerMessageEvent:TOPIC_CHANGE",e.TIP_MENU_CHANGE="ServerMessageEvent:TIP_MENU_CHANGE",e.PERFORMER_STATUS_CHANGE="ServerMessageEvent:PERFORMER_STATUS_CHANGE",e.PERFORMER_SETTINGS_CHANGE="ServerMessageEvent:PERFORMER_SETTINGS_CHANGE",e.PERFORMER_AUDIO_STATE="ServerMessageEvent:PERFORMER_AUDIO_STATE",e.GROUP_CHAT_INVITATION_CHANGE="ServerMessageEvent:GROUP_CHAT_INVITATION_CHANGE",e.GROUP_SHOW_RESPONSE="ServerMessageEvent:GROUP_SHOW_RESPONSE",e.SHOW_REQUEST="ServerMessageEvent:SHOW_REQUEST",e.DELETE_MESSAGE="ServerMessageEvent:DELETE_MESSAGE",e.PAID_SHOW_STOPPED="ServerMessageEvent:PAID_SHOW_STOPPED",e.PAID_SHOW_UPDATE="ServerMessageEvent:PAID_SHOW_UPDATE",e.COUNTDOWN_UPDATE="ServerMessageEvent:COUNTDOWN_UPDATE",e.FREE_SHOW_STATE="ServerMessageEvent:FREE_SHOW_STATE",e.PERFORMER_AWAY="ServerMessageEvent:PERFORMER_AWAY",e.INCOMING_NOTICE="ServerMessageEvent:INCOMING_NOTICE",e.MESSAGE_TO_MEMBER="ServerMessageEvent:MESSAGE_TO_MEMBER",e.MESSAGE_TO_MODEL="ServerMessageEvent:MESSAGE_TO_MODEL",e.SF_NOTICE="ServerMessageEvent:SF_NOTICE",e.CLEANUP_SPAM_LIST="ServerMessageEvent:CLEANUP_SPAM_LIST",e.ADD_TO_SPAM_LIST="ServerMessageEvent:ADD_TO_SPAM_LIST",e.INCOMING_RAISE="ServerMessageEvent:INCOMING_RAISE",e.CHANGE_AUTO_DJ_SETTING="ServerMessageEvent:CHANGE_AUTO_DJ_SETTING",e.TRACK_LIST="ServerMessageEvent:TRACK_LIST",e.UPDATE_TRACK_LIST="ServerMessageEvent:UPDATE_TRACK_LIST",e.TOGGLE_TRACK="ServerMessageEvent:TOGGLE_TRACK",e.SKIP_TRACK="ServerMessageEvent:SKIP_TRACK",e.NEXT_TRACK_REJECT="ServerMessageEvent:NEXT_TRACK_REJECT",e.CHANGE_DICE_SETTING="ServerMessageEvent:CHANGE_DICE_SETTING",e.CHANGE_WHEEL_SETTING="ServerMessageEvent:CHANGE_WHEEL_SETTING",e.CHANGE_KENO_SETTING="ServerMessageEvent:CHANGE_KENO_SETTING",e.CHANGE_SLOT_MACHINE_SETTING="ServerMessageEvent:CHANGE_SLOT_MACHINE_SETTING",e.PLAY_GAME_NOTICE="ServerMessageEvent:PLAY_GAME_NOTICE",e.TIP_KING_CHANGE="ServerMessageEvent:TIP_KING_CHANGE"}(t.ServerMessageEvent||(t.ServerMessageEvent={}))},function(e,t,n){"use strict";function i(e){return a({},e,r.getCSRFToken())}var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.getCSRFData=i},function(e,t,n){"use strict";function i(){var e,t=document.documentElement,n=t.getAttribute("data-csrf_field"),i=t.getAttribute("data-csrf_value");return n&&i?(e={},e[n]=i,e):{}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCSRFToken=i},,function(e,t,n){"use strict";function i(e){void 0===e&&(e=!1);var t=window.navigator.userAgent,n=t.indexOf("Edge/");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(e)return!1;var i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var a=t.indexOf("rv:");return parseInt(t.substring(a+3,t.indexOf(".",a)),10)}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.detectIE=i},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(){function t(){this.cache={}}return t.generateCacheKey=function(e){return""+e.q+(e.o||0)+(e.l||t.LIMIT)+(e.o||0)+(e.withoutPremium?1:0)},t.prototype.search=function(n){var a,r=this,o={q:n.q,r:t.includeRu?1:0},s=n.isHint?null:this.getCache(n,n.onlyGraphics);return s?(n.complete(this.trimSmileys(s)),null):(s=[],n.onlyGraphics||(s=this.searchLocal(n)),/^:[a-z0-9-_]+$/g.exec(":"+n.q)||"function"!=typeof n.complete?(a=this.getCache(n,!0))?(n.isHint?(this.sortSmileys(a),s=s.concat(a)):(s=s.concat(a),this.sortSmileys(s)),"function"==typeof n.complete&&n.complete(this.trimSmileys(s)),null):(a=[],n.l&&(o.l=n.l),n.o&&(o.o=n.o),e.ajax({type:"GET",url:i.default.urls.search,data:o,dataType:"json",success:function(e){if(e){if(!e.length)return void r.setCache(n,[],!0);e.forEach(function(e){var t=e.ct||i.SmileyCategories.GRAPHICS;if(!n.isHint||!n.withoutPremium||t!==i.SmileyCategories.BIG&&t!==i.SmileyCategories.TEXT){var r={created:e.ca,display_name:e.dn,shortcut:e.sh,url:e.ur,username:e.un,category:t};i.default.updateCategoryCollection(t,[r]),a.push(r)}}),r.setCache(n,a,!0),n.isHint?(r.sortSmileys(a),s=s.concat(a)):(s=s.concat(a),r.sortSmileys(s))}},complete:function(){s=r.trimSmileys(s),n.onlyGraphics||n.isHint||r.setCache(n,s),"function"==typeof n.complete&&n.complete(s)}})):(s=this.trimSmileys(s),n.isHint||this.setCache(n,s,n.onlyGraphics),n.complete(s),null))},t.prototype.searchLocal=function(e){var t=[],n=[],a=[];return i.default.getCategory(i.SmileyCategories.RECENT).collection.forEach(function(n){if(!e.isHint||!e.withoutPremium||n.category!==i.SmileyCategories.BIG&&n.category!==i.SmileyCategories.TEXT){var r=":"===n.shortcut[0]?1:0;e.q&&n.shortcut.indexOf(e.q)!==r||(a.push(n.shortcut),n.category=i.SmileyCategories.RECENT,t.push(n))}}),i.default.predefinedCategories.forEach(function(t){if(!e.isHint||!e.withoutPremium||t===i.SmileyCategories.LITTLE){i.default.getCategory(t).predefinedCollection.forEach(function(i){if(-1===a.indexOf(i.tokens[0]))for(var r=0;r<i.tokens.length;r++){var o=i.tokens[r].toLowerCase();if(":"===o[0]&&(o=o.substr(1)),(e.q&&0===o.indexOf(e.q)||!e.q)&&-1===a.indexOf(i.tokens[r])){n.push({shortcut:i.tokens[r],url:i.src,category:t});break}}})}}),e.isHint?(e.q&&(this.sortSmileys(t),this.sortSmileys(n)),t.concat(n)):(n=t.concat(n),this.sortSmileys(n),n)},t.prototype.sortSmileys=function(e){e.sort(function(e,t){return e.shortcut<t.shortcut?-1:e.shortcut>t.shortcut?1:0})},t.prototype.trimSmileys=function(e){var t=[],n=[];return e.forEach(function(e){-1===n.indexOf(e.shortcut)&&(n.push(e.shortcut),t.push(e))}),t},t.prototype.getCache=function(e,n){void 0===n&&(n=!1);var i=t.generateCacheKey(e),a=this.cache[i];return!a||(new Date).getTime()-a.stamp>t.CACHE_EXPIRED?(delete this.cache[i],null):(n?a.xhr:a.all)||null},t.prototype.setCache=function(e,n,i){void 0===i&&(i=!1);var a=t.generateCacheKey(e),r=this.cache[a],o=(new Date).getTime();(!r||!r.stamp||o-r.stamp>t.CACHE_EXPIRED)&&(r={stamp:o}),i?r.xhr=n:r.all=n,this.cache[a]=r},t.prototype.invalidateCache=function(e){var t=this;Object.keys(this.cache).forEach(function(n){-1!==n.indexOf(e)&&delete t.cache[n]})},t.LIMIT=12,t.CACHE_EXPIRED=3e5,t.includeRu="ru"===document.documentElement.lang,t}();t.default=a}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=n(9),r=n(47),o=n(2),s=function(){function t(){var n=e("body");n.data("mun")&&(t.storageKey=t.storageKey+"_"+r.getGUIDByString(n.data("mun")))}return t.getAll=function(){if(o.isLocalStorageAvailable()){var n=a.json_parse(localStorage.getItem(t.storageKey)||e.cookie&&e.cookie(t.cookieKey));if(n)return n}return i.default.categories?i.default.getCategory(i.SmileyCategories.RECENT).collection:[]},t.save=function(){o.isLocalStorageAvailable()&&localStorage.setItem(t.storageKey,JSON.stringify(i.default.getCategory(i.SmileyCategories.RECENT).collection))},t.prototype.update=function(){i.default.getCategory(i.SmileyCategories.RECENT).collection=t.getAll()},t.prototype.remove=function(e){if(!e)return!1;for(var n=t.getAll(),a=-1,r=0;r<n.length;r++)if(n[r].shortcut===e){a=r;break}-1!==a&&n.splice(a,1),i.default.getCategory(i.SmileyCategories.RECENT).collection=n,t.save()},t.prototype.setByShortcut=function(e,n){if(void 0===n&&(n=!1),n){for(var a=i.default.getCategory(i.SmileyCategories.GRAPHICS).collection||[],r=t.getAll(),o=a.concat(r),s=":"+e,l=0;l<o.length;l++)if(o[l].shortcut===s)return this.set(o[l]);i.default.getSmileyInfo(e,this.set)}else{var c=i.default.getStandardSmiley(e);if(!c)return!1;this.set(c)}},t.prototype.set=function(e){for(var n=t.getAll(),a=-1,r=0;r<n.length;r++)if(n[r].shortcut===e.shortcut){a=r;break}-1!==a&&n.splice(a,1),n.unshift(e),n.length>t.maxRecentSmileys&&n.pop(),i.default.getCategory(i.SmileyCategories.RECENT).collection=n,t.save()},t.cookieKey="sm_r",t.storageKey="sm_r",t.maxRecentSmileys=30,t}();t.default=s}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=document.documentElement.lang;t.isRTLCulture="ar"===i||"jw"===i},function(e,t,n){"use strict";function i(e,t){var n=window.i18n||{},i=(n[e]?n[e]:e)||"";i=i.replace(/{(\w*)}/g,function(e,n){return t.hasOwnProperty(n)?t[n]:""});for(var a in t){var r=new RegExp("%"+a+"%","gi");i=i.replace(r,t[a])}return i.replace(/%_.+_%/g,"")}Object.defineProperty(t,"__esModule",{value:!0}),n(85),t.translateString=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n={}},function(e,t,n){"use strict";function i(e){if(e){var t=window.i18n;for(var n in e)e.hasOwnProperty(n)&&(n in t||(t[n]=e[n]))}}Object.defineProperty(t,"__esModule",{value:!0}),t.translationAdd=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(169);t.getRawUrl=i.getRawUrl;var a=n(49);t.getUrl=a.getUrl;var r=n(170);t.url_for=r.url_for},,,,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e){this.getChildContext=function(){return{store:e.store}}}var r=n(1);a.prototype.render=function(e){return e.children[0]},t.createStore=function(e){function t(e){for(var t=[],n=0;n<a.length;n++)a[n]===e?e=null:t.push(a[n]);a=t}function n(t,n,r){e=n?t:i(i({},e),t);for(var o=a,s=0;s<o.length;s++)o[s](e,r)}var a=[];return e=e||{},{action:function(t){function i(e){n(e,!1,t)}return function(){for(var n=arguments,a=[e],r=0;r<arguments.length;r++)a.push(n[r]);var o=t.apply(this,a);if(null!=o)return o.then?o.then(i):i(o)}},setState:n,subscribe:function(e){return a.push(e),function(){t(e)}},unsubscribe:t,getState:function(){return e}}},t.Provider=a,t.connect=function(e,t){var n;return"function"!=typeof e&&("string"==typeof(n=e||[])&&(n=n.split(/\s*,\s*/)),e=function(e){for(var t={},i=0;i<n.length;i++)t[n[i]]=e[n[i]];return t}),function(n){function a(a,o){var s=this,l=o.store,c=e(l?l.getState():{},a),u=t?function(e,t){"function"==typeof e&&(e=e(t));var n={};for(var i in e)n[i]=t.action(e[i]);return n}(t,l):{store:l},d=function(){var t=e(l?l.getState():{},s.props);for(var n in t)if(t[n]!==c[n])return c=t,s.setState();for(var i in c)if(!(i in t))return c=t,s.setState()};this.componentWillReceiveProps=d,this.componentDidMount=function(){l.subscribe(d)},this.componentWillUnmount=function(){l.unsubscribe(d)},this.render=function(e){return r.h(n,i(i(i({},u),e),c))}}return(a.prototype=new r.Component).constructor=a}}},function(e,t){e.exports=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__,n=!1;return t?(e.devtools||(e.devtools=t.connect(),e.devtools.subscribe(function(t){"DISPATCH"===t.type&&t.state&&(n="JUMP_TO_ACTION"===t.payload.type||"JUMP_TO_STATE"===t.payload.type,e.setState(JSON.parse(t.state),!0))}),e.devtools.init(e.getState()),e.subscribe(function(t,i){var a=i&&i.name||"setState";n?n=!1:e.devtools.send(a,t)})),e):(console.warn("Please install/enable Redux devtools extension"),e.devtools=null,e)}},function(e,t,n){"use strict";function i(){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox";var t=!1;try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(e){t=!1}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getAdblock=i},function(e,t,n){"use strict";function i(e){var t={};for(var n in e)e[n]&&(t[n]=e[n]);return t}function a(e){for(var t=[],n=e.length,i=0;i<n;i++)e[i]&&t.push(e[i]);return t}function r(e){return Array.isArray(e)?a(e):"object"==typeof e?i(e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.compactObject=i,t.compactArray=a,t.compact=r},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.eventAdd=function(e,t){void 0===this._events&&(this._events={});var n=this._events;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},e.prototype.eventHas=function(e,t){return void 0!==this._events&&(t?void 0!==this._events[e]&&-1!==this._events[e].indexOf(t):void 0!==this._events[e])},e.prototype.eventRemove=function(e,t){if(void 0!==this._events){var n=this._events[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},e.prototype.eventDestroy=function(e){void 0!==this._events&&delete this._events[e]},e.prototype.eventHit=function(e){if(void 0!==this._events){var t=this._events[e];if(void 0!==t){for(var n=[],i=t.length,a=0;a<i;a++)n[a]=t[a];for(var a=0;a<i;a++)n[a].call(this,e)}}},e.prototype.eventDispatch=function(e){if(void 0!==this._events){var t=this._events[e.type];if(void 0!==t){e.target=this;for(var n=[],i=t.length,a=0;a<i;a++)n[a]=t[a];for(var a=0;a<i;a++)n[a].call(this,e)}}},e}();t.default=i},function(e,t,n){"use strict";(function(e){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),r=n(5),o=n(101);t.mergeState=r.default.action(function(e,t){return o.mergeObjects(e,t)}),t.loadInitialStates=r.default.action(function(e){for(var t=i({},e),n=document.querySelectorAll("[data-type=initialState]"),r=n.length;--r>=0;)if(n.hasOwnProperty(r)){var s=n[r];t=o.mergeObjects(t,a.json_parse(s.innerText)||{})}return t});var s=!1;s||(s=!0,e(function(){t.loadInitialStates(),r.default.getState().isAuthenticated||(e.getScript("/tools/js.php"),setInterval(function(){e.getScript("/tools/js.php")},144e5))}))}).call(t,n(0))},function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return void 0===t?e:i(t)?Object.keys(t).reduce(function(e,n){return e[n]=a(e[n],t[n]),e},r({},e)):t}var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeObjects=a},function(e,t,n){"use strict";function i(e,t,n){return Math.min(Math.max(t,e),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e[e.MAX_SAFE_INTEGER=9007199254740991]="MAX_SAFE_INTEGER"}(i||(i={}));var a=function(){function e(){}return e.rangeInt=function(e,t){return void 0===e?Math.floor(Math.random()*i.MAX_SAFE_INTEGER):void 0===t?Math.floor(Math.random()*e):Math.floor(e+Math.random()*(t-e))},e.fromArray=function(e){return e&&e.length?e[this.rangeInt(e.length)]:null},e}();t.Random=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.seed=1}return e.prototype.seedFromString=function(e){e.length||(this.seed=1);for(var t=0,n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}this.seed=(t>0?t:2147483646-t)%2147483647||1},e.prototype.random=function(){return this.randomLong()/2147483647},e.prototype.randomRange=function(e,t){return e+(t-e)*this.random()},e.prototype.randomLong=function(){return this.seed=16807*this.seed%2147483647},e}();t.PRNG=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};t.guid128bitRandom=function(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}},function(e,t,n){"use strict";function i(e,t,n){var i=1,a=1,r=1,o=String(e).trim();for(n=Math.min(n||14,14);!0&&!(r++>=o.length&&i.toString(16).length>=n);a++)for(null==o[a]&&(a=0),i*=(o.charCodeAt(a)+a*o.length)*t,i=Number(String(i).replace(/0+$/g,""));i.toString(16).length>n;)i=Math.floor(i/10);return i.toString(16)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return[e,t.substr(0,4),4+t.substr(4,3),(3&Number("0x"+t[7])|8).toString(16)+t.substr(8,3),n].join("-").toUpperCase()};t.guid128bitFromString=function(e){return a(i(e,246,8),i(e,1308,11),i(e,3450,12))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.CONNECT="connect",e.CLOSE="close",e.JOIN_ROOM="joinRoom",e.JOIN_CHAT="joinChat",e.SYNC_USER_LIST="syncUserList"}(t.ChatServiceEvent||(t.ChatServiceEvent={}))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.INIT="VideoPlayerEvent:init"}(t.VideoPlayerEvent||(t.VideoPlayerEvent={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(){var e="",t=i.default.getCategory(i.SmileyCategories.BIG);return t.predefinedCollection.forEach(function(t){e+='<span class="smileyContainer"><img token="'+t.tokens[0]+'" src="'+i.default.urls.base+"/images/chat/smiles/"+t.src+'" /></span>'}),'\n  <div class="smilePanelFrame smilePanelFrameBig with-scroll" data-category="big_smileys" data-title="'+t.title+'">\n    <div class="smile-frame-content">\n      '+e+"\n    </div>\n  </div>\n"};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(){var e="",t=i.default.getCategory(i.SmileyCategories.TEXT);return t.predefinedCollection.forEach(function(t){e+='<span class="smileyContainer"><img token="'+t.tokens[0]+'" src="'+i.default.urls.base+"/images/chat/smiles/"+t.src+'" /></span>'}),'\n  <div class="smilePanelFrame smilePanelFrameText with-scroll" data-category="text_smileys" data-title="'+t.title+'">\n    <div class="smile-frame-content">\n      '+e+"\n    </div>\n  </div>\n"};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.CHAT_NONE="none",e.CHAT_VISIBLE="visible",e.CHAT_HIDDEN="hidden",e.CHAT_COLLAPSE="collapse",e.CHAT_TRIGGER_OPEN="chat:open",e.CHAT_TRIGGER_CLOSE="chat:close",e.CHAT_TRIGGER_COLLAPSE="chat:collapse",e.CHAT_TRIGGER_VISIBILITY="chat:visibility",e.CHAT_TRIGGER_TOPIC_CHANGE="chat:topic-change",e.CHAT_TRIGGER_SHOW_NAVIGATOR="chat:showModelNavigator",e.CHAT_STATUS_PUBLIC="public",e.CHAT_STATUS_AWAY="away",e.CHAT_STATUS_PRIVATE="private",e.CHAT_STATUS_FULL_PRIVATE="fullprivate",e.CHAT_STATUS_GROUP="group",e.CHAT_STATUS_VIP="vip",e.CHAT_STATUS_LIMIT="limit",e.CHAT_STATUS_VOYEUR="voyeur",e.CHAT_STATUS_OFFLINE="offline",e.CHAT_STATUS_ONLINE="online"}(t.CHAT_FLAGS||(t.CHAT_FLAGS={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(496);t.BlurStack=i.BlurStack;var a=n(497);t.getImageDataFromCanvas=a.getImageDataFromCanvas;var r=n(498);t.processCanvasRGB=r.processCanvasRGB;var o=n(499);t.processCanvasRGBA=o.processCanvasRGBA;var s=n(500);t.processImage=s.processImage;var l=n(501);t.processImageDataRGB=l.processImageDataRGB;var c=n(502);t.processImageDataRGBA=c.processImageDataRGBA},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringApplyData=function(e,t){return e&&e.length?e.replace(/{(\w*)}/g,function(e,n){return t.hasOwnProperty(n)?t[n]:""}):""},t.stringReplaceValues=function(e,t,n){return void 0===n&&(n="@"),e&&e.length?e.replace(new RegExp(n+"(\\w+)","g"),function(e,n){return t.hasOwnProperty(n)?t[n]:""}):""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(121),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135),n(136),n(137),n(138),n(139)},function(e,t,n){"use strict";void 0!==Array.prototype.indexOf&&"nodejs"!==window.name||(Array.prototype.indexOf=function(e,t){if(null===this||void 0===this)throw TypeError("Array.prototype.indexOf called on null or undefined");for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1})},function(e,t,n){"use strict";!function(e){e.console&&"nodejs"!==window.name||(e.console={});for(var t,n,i=e.console,a=function(){},r=["memory"],o="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=r.pop();)i[t]||(i[t]={});for(;n=o.pop();)i[n]||(i[n]=a)}("undefined"==typeof window?this:window)},function(e,t,n){"use strict";"function"==typeof Function.prototype.bind&&"nodejs"!==window.name||(Function.prototype.bind=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if("function"!=typeof this)throw new TypeError("Function.prototype.bind - context must be a valid function");var i=Array.prototype.slice.call(arguments,1),a=this,r=function(){},o=function(){return a.apply(this instanceof r?this:e||{},i.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype||{},o.prototype=new r,o})},function(e,t,n){"use strict";if(void 0===window.Map||"function"!=typeof window.Map.prototype.keys){var i=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t},a=function(e){var t;if(e!==e||0===e)for(t=this.length;t--&&!i(this[t],e););else t=[].indexOf.call(this,e);return t},r=function(){function e(e,t){this.map=e,this.kind=t,this._index=0}return e.prototype.next=function(){if(this._index<this.map.items().length)switch(this.kind){case"keys":return this.map.keys()[this._index++];case"values":return this.map.values()[this._index++];case"keys+values":return[].slice.call(this.map.items()[this._index++]);default:throw new TypeError("Invalid iterator type")}throw new Error("Stop Iteration")},e.prototype.iterator=function(){return this},e.prototype.toString=function(){return"[object Map Iterator]"},e}(),o=function(){function e(e){this._items=[],this._keys=[],this._values=[];var t=this;if(Array.isArray(e))e.forEach(function(e){if(2!==e.length)throw new TypeError("Invalid iterable passed to Map constructor");t.set(e[0],e[1])});else if(void 0!==e)throw new TypeError("Invalid Map")}return e.prototype.items=function(){return[].slice.call(this._items)},e.prototype.keys=function(){return[].slice.call(this._keys)},e.prototype.values=function(){return[].slice.call(this._values)},e.prototype.has=function(e){return a.call(this._keys,e)>-1},e.prototype.get=function(e){var t=a.call(this._keys,e);return t>-1?this._values[t]:void 0},e.prototype.set=function(e,t){var n=a.call(this._keys,e);n>-1?(this._items[n][1]=t,this._values[n]=t):(this._items.push([e,t]),this._keys.push(e),this._values.push(t))},Object.defineProperty(e.prototype,"size",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._keys.length=this._values.length=this._items.length=0},e.prototype.delete=function(e){var t=a.call(this._keys,e);return t>-1&&(this._keys.splice(t,1),this._values.splice(t,1),this._items.splice(t,1),!0)},e.prototype.forEach=function(e){function t(){try{return n.next()}catch(e){return}}if("function"!=typeof e)throw new TypeError("Invalid callback function given to forEach");for(var n=this.iterator(),i=t(),a=t();void 0!==i;)e.apply(arguments[1],[i[1],i[0],this]),i=a,a=t()},e.prototype.iterator=function(){return new r(this,"keys+values")},e.prototype.toString=function(){return"[Object Map]"},e}();window.Map=o}},function(e,t,n){"use strict";if(void 0===window.Set||"function"!=typeof window.Set.prototype.keys)var i=window.Set=function(){function e(e,t){return u.call(e,t)}function t(e){var t;return"object"==typeof e&&(t=d.call(e),!0===c[t]||"number"==typeof e.length&&e.length>=0&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0))}function n(e,t,n,i,a){h?Object.defineProperty(e,t,{enumerable:i,configurable:!1,writable:a,value:n}):e[t]=n}function a(e,t){p=!0,e.size=t,p=!1}function r(e){var a=0;if(n(this,"baseType","Set",!1,!1),n(this,"_data",{},!1,!0),h?Object.defineProperty(this,"size",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){if(!p)throw new Error("Can't set size property on Set object.");a=e}}):this.size=0,void 0!==e&&null!==e)if(t(e))for(var r=0;r<e.length;r++)this.add(e[r]);else(e instanceof i||"Set"===e.baseType)&&e.forEach(function(e){this.add(e)},this)}function o(e,t){var n,i=typeof e;if(v[i])return i.substr(0,3)+"_"+e;if(null===e)return"nul_null";if("object"===i||"function"===i)return e[g]?e[g]:t?(n=m+f++,"[object Object]"===d.call(e)&&h?Object.defineProperty(e,g,{enumerable:!1,configurable:!1,writable:!1,value:n}):e[g]=n,n):null;throw new Error("Unsupported type for Set.add()")}function s(t,n,i){var a=0,r=t.length;this.next=function(){for(var o,s,l={};;){if(a<r){if(l.done=!1,s=t[a++],void 0===(o=n[s])&&!e(n,s))continue;"keys"===i?l.value=o:"entries"===i&&(l.value=[o,o])}else t=null,n=null,l.done=!0;return l}}}function l(t){var n=[];for(var i in t)e(t,i)&&n.push(i);return n}var c={"[object Array]":!0,"[object Arguments]":!0,"[object HTMLCollection]":!0,"[object NodeList]":!0},u=Object.prototype.hasOwnProperty,d=Object.prototype.toString,h=Object.defineProperty&&Object.defineProperties,p=!1,f=0,m="obj_",g="__objectPolyFillID",v={string:!0,boolean:!0,number:!0,undefined:!0};return r.prototype={add:function(t){var n=o(t,!0);return e(this._data,n)||(this._data[n]=t,a(this,this.size+1)),this},clear:function(){this._data={},a(this,0)},delete:function(t){var n=o(t,!1);return!(null===n||!e(this._data,n))&&(delete this._data[n],a(this,this.size-1),!0)},remove:function(e){return this.delete(e)},forEach:function(e,t){if("function"==typeof e)for(var n,i,a=this.keys();(n=a.next())&&!n.done;)i=n.value,e.call(t,i,i,this)},has:function(e){var t=o(e,!1);return null!==t&&u.call(this._data,t)},values:function(){return this.keys()},keys:function(){return new s(l(this._data),this._data,"keys")},entries:function(){return new s(l(this._data),this._data,"entries")}},r.prototype.constructor=r,r}()},function(e,t,n){"use strict";var i="nodejs"===window.name;if("object"!=typeof JSON||i){var a=function(e){return e<10?"0"+e:e},r=function(e,t){for(var n="",i=0;i<t-String(e).length;i++)n+="0";return""+n+e};("function"!=typeof Date.prototype.toJSON||i)&&(Date.prototype.toJSON=function(){var e=this.getUTCFullYear(),t=Math.abs(e),n=0;return e<0||e>=1e4?n=6:e<1e4&&(n=4),e=(e<0?"-":e>=1e4?"+":"")+r(t,n),isFinite(this.valueOf())?e+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+r(this.getUTCMilliseconds(),3)+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var o,s,l,c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h=function(e){return u.lastIndex=0,u.test(e)?'"'+e.replace(u,function(e){var t=d[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},p=function(e,t){var n,i,a,r,c,u=o,d=t[e];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(e)),"function"==typeof l&&(d=l.call(t,e,d)),typeof d){case"string":return h(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(o+=s,c=[],"[object Array]"===Object.prototype.toString.apply(d)){for(r=d.length,n=0;n<r;n+=1)c[n]=p(n,d)||"null";return a=0===c.length?"[]":o?"[\n"+o+c.join(",\n"+o)+"\n"+u+"]":"["+c.join(",")+"]",o=u,a}if(l&&"object"==typeof l)for(r=l.length,n=0;n<r;n+=1)"string"==typeof l[n]&&(i=l[n],(a=p(i,d))&&c.push(h(i)+(o?": ":":")+a));else for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(a=p(i,d))&&c.push(h(i)+(o?": ":":")+a);return a=0===c.length?"{}":o?"{\n"+o+c.join(",\n"+o)+"\n"+u+"}":"{"+c.join(",")+"}",o=u,a}};window.JSON={stringify:function(e,t,n){var i;if(o="",s="","number"==typeof n)for(i=0;i<n;i+=1)s+=" ";else"string"==typeof n&&(s=n);if(l=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return p("",{"":e})},parse:function(e,t){function n(e,i){var a,r,o=e[i];if(o&&"object"==typeof o)for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r=n(o,a),void 0!==r?o[a]=r:delete o[a]);return t.call(e,i,o)}var i;if(e=String(e),c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=window.eval("("+e+")"),"function"==typeof t?n({"":i},""):i;throw new SyntaxError("JSON.parse")}}}},function(e,t,n){"use strict";!function(e){e.forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(e,t,n){"use strict";void 0!==Array.prototype.find&&"nodejs"!==window.name||Object.defineProperty(Array.prototype,"find",{configurable:!0,value:function(e,t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n,i=Object(this),a=i.length>>>0,r=0;r<a;r++)if(n=i[r],e.call(t,n,r,i))return n}})},function(e,t,n){"use strict";String.prototype.endsWith&&"nodejs"!==window.name||Object.defineProperty(String.prototype,"endsWith",{configurable:!0,value:function(e,t){var n=this.toString();if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.endsWith must not be a regular expression");if(""===(e=String(e)))return!0;(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t}})},function(e,t,n){"use strict";"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))&&"nodejs"!==window.name||function(e){if("Element"in e){var t="classList",n="prototype",i=e.Element[n],a=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(e,t)},c=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=n.length,a=0;a<i;a++)this.push(n[a]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=c[n]=[],d=function(){return new c(this)};if(s[n]=Error[n],u.item=function(e){return this[e]||null},u.contains=function(e){return!!~l(this,e+"")},u.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,i=e.length,a=0,r=!1;do{n=e[a]+"",~l(this,n)||(this.push(n),r=!0)}while(++a<i);r&&this._updateClassName()},u.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,i,a=e.length,r=0,o=!1;do{for(n=e[r]+"",i=l(this,n);~i;)this.splice(i,1),o=!0,i=l(this,n)}while(++r<a);o&&this._updateClassName()},u.toggle=function(e,t){var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},u.replace=function(e,t){var n=l(this,e+"");~n&&(this.splice(n,1,t),this._updateClassName())},u.toString=function(){return this.join(" ")},a.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{a.defineProperty(i,t,h)}catch(e){void 0!==e.number&&-2146823252!==e.number||(h.enumerable=!1,a.defineProperty(i,t,h))}}else a[n].__defineGetter__&&i.__defineGetter__(t,d)}}(self),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")||"nodejs"===window.name){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i,a=e.length;for(i=0;i<a;i++)t.call(this,e[i])}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")||"nodejs"===window.name){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}"replace"in document.createElement("_").classList&&"nodejs"!==window.name||(DOMTokenList.prototype.replace=function(e,t){var n=this.toString().split(" "),i=n.indexOf(e+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(t),this.add.apply(this,n.slice(1)))}),e=null}())},function(e,t,n){"use strict";(function(e){"function"!=typeof fetch&&(window.fetch=function(t,n){return n=n||{},new e(function(i,a){var r=new XMLHttpRequest;r.open(n.method||"get",t,!0);for(var o in n.headers)n.headers.hasOwnProperty(o)&&r.setRequestHeader(o,n.headers[o]);r.withCredentials="include"===n.credentials;var s=null;r.onload=function(){i(s())},r.onerror=a,r.send(n.body),s=function(){var t,n=[],i=[],a={};return r.getAllResponseHeaders().replace(/^(.*?):\s*?([\s\S]*?)$/gm,function(e,r,o){n.push(r=r.toLowerCase()),i.push([r,o]),t=a[r],a[r]=t?t+","+o:o}),{ok:2==(r.status/100|0),status:r.status,statusText:r.statusText,url:r.responseURL,clone:s,text:function(){return e.resolve(r.responseText)},json:function(){return e.resolve(r.responseText).then(JSON.parse)},blob:function(){return e.resolve(new Blob([r.response]))},headers:{keys:function(){return n},entries:function(){return i},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}}})})}).call(t,n(10))},function(e,t,n){"use strict";!function(e){var t=e.prototype,n=t.parseFromString;if("nodejs"!==window.name)try{if((new e).parseFromString("","text/html"))return}catch(e){}t.parseFromString=function(e,t){if(/^\s*text\/html\s*(?:;|$)/i.test(t)){var i=document.implementation.createHTMLDocument("");return e.toLowerCase().indexOf("<!doctype")>-1?i.documentElement.innerHTML=e:i.body.innerHTML=e,i}return n.apply(this,arguments)}}(DOMParser)},function(e,t,n){"use strict";!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent&&"nodejs"!==window.name)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}()},function(e,t,n){"use strict";function i(e,t,n,i){e.addEventListener(t,n,i),e.addEventListener(t,function a(){e.removeEventListener(t,n,i),e.removeEventListener(t,a,i)},i)}function a(){return window.pageYOffset||document.body.scrollTop}function r(){return window.pageXOffset||document.body.scrollLeft}function o(){window.scrollTo(c,u)}function s(){c=r(),u=a(),i(window,"scroll",o)}var l="auto",c=0,u=0;"scrollRestoration"in history||Object.defineProperty(history,"scrollRestoration",{enumerable:!0,get:function(){return l},set:function(e){e!==l&&("auto"===e?(window.removeEventListener("popstate",s),window.removeEventListener("scroll",o),l=e):"manual"===e&&(window.addEventListener("popstate",s),l=e))}})},function(e,t,n){"use strict";Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){function n(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),a=i.length>>>0;if(0===a)return!1;for(var r=0|t,o=Math.max(r>=0?r:a-Math.abs(r),0);o<a;){if(n(i[o],e))return!0;o++}return!1}})},function(e,t,n){"use strict";Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},i=Math.pow(2,53)-1,a=function(e){var t=n(e);return Math.min(Math.max(t,0),i)};return function(e){var n=this,i=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r;arguments.length>1&&(r=arguments[1]);var o;if(void 0!==r){if(!t(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var s,l=a(i.length),c=t(n)?Object(new n(l)):new Array(l),u=0;u<l;)s=i[u],c[u]=r?void 0===o?r(s,u):r.call(o,s,u):s,u+=1;return c.length=l,c}}())},function(e,t,n){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,value:function(e){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,a=arguments[1],r=0;r<i;r++)if(t=n[r],e.call(a,t,r,n))return r;return-1}})},function(e,t,n){"use strict";for(var i=0,a=["ms","moz","webkit","o"],r=0;r<a.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[a[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[r]+"CancelAnimationFrame"]||window[a[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-i)),a=window.setTimeout(function(){e(t+n)},n);return i=t+n,a},window.cancelAnimationFrame=function(e){clearTimeout(e)})},function(e,t,n){"use strict";if(!String.prototype.padStart||!String.prototype.padEnd){var i=function(e,t,n,i){if(n=Math.floor(n||0),e.length>n)return e;for(i=i||" ";i.length<n;)i+=i;return n-=e.length,t?e+i.slice(0,n):i.slice(0,n)+e},a=function(e,t){return i(String(this),!1,e,t)},r=function(e,t){return i(String(this),!0,e,t)};Object.defineProperty(String.prototype,"padStart",{configurable:!0,value:a}),Object.defineProperty(String.prototype,"padEnd",{configurable:!0,value:r})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2),n(141)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(142),a=n(143),r=n(2);window.sv=function(){var e={spa:{module:{}},config:{jsDebug:!1,jsDebugShow:!1},popup:{debug:null,dialog:null,tasks:null}};return e.cookie=new i.default,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?e.storage=r.isLocalStorageAvailable()?window.localStorage:e.cookie:e.storage=r.isLocalStorageAvailable()?window.localStorage:new a.default,e.c_storage=r.isLocalStorageAvailable()?window.localStorage:e.cookie,e}()},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),a=function(){function t(){this.domain=null}return t.prototype.getDomain=function(){return this.domain||(this.domain=i.getRealDomain()),this.domain},t.prototype.setItem=function(t,n,i){var a={domain:this.getDomain(),path:"/"};null!==i&&(a.expires=i||365),e.cookie(t,n,a)},t.prototype.getItem=function(t){return e.cookie(t)},t.prototype.removeItem=function(t){e.cookie(t,null,{domain:this.getDomain()})},t.prototype.clear=function(){},t}();t.default=a}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.data={}}return e.prototype.setItem=function(e,t){return this.data[e]=String(t)},e.prototype.getItem=function(e){return this.data.hasOwnProperty(e)?this.data[e]:void 0},e.prototype.removeItem=function(e){return delete this.data[e]},e.prototype.clear=function(){return this.data={}},e.prototype.getKeys=function(){return Object.keys(this.data)},e}();t.default=i},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[{src:"v2/smile.gif",tokens:[":smile",":)"],h:24},{src:"v2/wink.gif",tokens:[":wink",";)"],h:24},{src:"v2/sad.gif",tokens:[":sad",":("],h:24},{src:"v2/shok.gif",tokens:[":surprised","O_o",":O",":0"],h:20},{src:"v2/wacko.gif",tokens:[":confused","%)"],h:25},{src:"v2/biggrin.gif",tokens:[":D"],h:25},{src:"v2/acute.gif",tokens:[":laugh",";D"],h:24},{src:"v2/dirol.gif",tokens:[":cool","8)"],h:21},{src:"v2/secret.gif",tokens:[":secret",":#"],h:25},{src:"v2/blum3.gif",tokens:[":P"],h:24},{src:"v2/angel.gif",tokens:[":angel","0-)","O-)"],h:26},{src:"v2/blush.gif",tokens:[":blushing",":["],h:25},{src:"v2/cry.gif",tokens:[":crying",":&#039;(",":&#039;-(",":~("],h:22},{src:"v2/beee.gif",tokens:[":cheeky","=P"],h:28},{src:"v2/mosking.gif",tokens:[":giggle","=)"],h:25},{src:"v2/air_kiss.gif",tokens:[":airkiss","=X"],h:26},{src:"v2/bad.gif",tokens:[":puke",":!"],h:20},{src:"v2/kiss3.gif",tokens:[":kisscheek","(}{)"],h:24},{src:"v2/give_rose.gif",tokens:[":rose","@}-"],h:26},{src:"v2/give_heart2.gif",tokens:[":inlove","3&gt;-"],h:25},{src:"v2/boredom.gif",tokens:[":tired"],h:22},{src:"v2/good.gif",tokens:[":good"],h:23},{src:"v2/drinks.gif",tokens:[":drink"],h:28},{src:"v2/man_in_love.gif",tokens:[":love"],h:26},{src:"v2/aggressive.gif",tokens:[":punch",":@"],h:27},{src:"v2/clapping.gif",tokens:[":bravo"],h:24},{src:"v2/rofl.gif",tokens:[":rofl"],h:23},{src:"v2/pardon.gif",tokens:[":pardon"],h:23},{src:"v2/ok.gif",tokens:[":ok"],h:26},{src:"v2/crazy.gif",tokens:[":crazy"],h:27},{src:"v2/unknw.gif",tokens:[":unknw"],h:20},{src:"v2/sorry.gif",tokens:[":sorry"],h:22},{src:"v2/dance4.gif",tokens:[":dance"],h:26},{src:"v2/new_russian.gif",tokens:[":showoff","|m|"],h:26},{src:"v2/yess.gif",tokens:[":yess"],h:30},{src:"v2/yes3.gif",tokens:[":yes"],h:24},{src:"v2/nea.gif",tokens:[":no"],h:26},{src:"v2/hi.gif",tokens:[":hi"],h:28},{src:"v2/preved.gif",tokens:[":hello"],h:28},{src:"v2/bye.gif",tokens:[":bye"],h:18},{src:"v2/bb.gif",tokens:[":bb"],h:25},{src:"v2/mail1.gif",tokens:[":mail"],h:26},{src:"v2/dash1.gif",tokens:[":wall"],h:26},{src:"v2/i-m_so_happy.gif",tokens:[":happy"],h:24},{src:"v2/pleasantry.gif",tokens:[":db"],h:26},{src:"v2/ireful1.gif",tokens:[":ireful"],h:24},{src:"v2/sarcastic.gif",tokens:[":sarcastic"],h:23},{src:"v2/king.gif",tokens:[":king"],h:28},{src:"v2/lazy.gif",tokens:[":lazy"],h:29},{src:"v2/prankster2.gif",tokens:[":hoho"],h:24},{src:"v2/mega_shok.gif",tokens:[":megashok"],h:28},{src:"v2/paint2.gif",tokens:[":paint"],h:28},{src:"v2/party2.gif",tokens:[":party"],h:26},{src:"v2/help.gif",tokens:[":help",":sos"],h:33},{src:"v2/hang2.gif",tokens:[":hang"],h:35},{src:"v2/vampire.gif",tokens:[":vampire"],h:36},{src:"v2/hunter.gif",tokens:[":hunter"],h:38},{src:"v2/moil.gif",tokens:[":moil"],h:37},{src:"v2/popcorm1.gif",tokens:[":popcorn"],h:28},{src:"v2/punish.gif",tokens:[":punish"],h:30},{src:"v2/scare.gif",tokens:[":scare"],h:34},{src:"v2/scratch_one-s_head.gif",tokens:[":scratch"],h:24},{src:"v2/search.gif",tokens:[":search"],h:25},{src:"v2/shout.gif",tokens:[":shout"],h:20},{src:"v2/smoke.gif",tokens:[":smoke"],h:30},{src:"v2/spiteful.gif",tokens:[":spiteful"],h:20},{src:"v2/spruce_up.gif",tokens:[":spruce_up"],h:25},{src:"v2/stop.gif",tokens:[":stop"],h:23},{src:"v2/tease.gif",tokens:[":tease"],h:40},{src:"v2/tender.gif",tokens:[":tender"],h:23},{src:"v2/thank_you2.gif",tokens:[":thank"],h:29},{src:"v2/this.gif",tokens:[":this"],h:25},{src:"v2/training1.gif",tokens:[":training"],h:21},{src:"v2/vava.gif",tokens:[":vava"],h:20},{src:"v2/victory.gif",tokens:[":victory"],h:23},{src:"v2/wizard.gif",tokens:[":wizard"],h:31},{src:"v2/ohyeah.gif",tokens:[":ohyeah"],h:27},{src:"v2/beach.gif",tokens:[":beach"],h:33},{src:"v2/big_boss.gif",tokens:[":boss"],h:30},{src:"v2/boast.gif",tokens:[":boast"],h:25},{src:"v2/curtsey.gif",tokens:[":curtsey"],h:24},{src:"v2/flirt.gif",tokens:[":flirt"],h:24},{src:"v2/fool.gif",tokens:[":fool",":stupid",":|"],h:23},{src:"v2/friends.gif",tokens:[":friends"],h:28},{src:"v2/gamer4.gif",tokens:[":gamer"],h:33},{src:"v2/diablo.gif",tokens:[":diablo"],h:31},{src:"v2/girl_kiss.gif",tokens:[":girl_kiss"],h:23},{src:"v2/girl_cray2.gif",tokens:[":girl_cry"],h:24},{src:"v2/girl_crazy.gif",tokens:[":girl_crazy"],h:25},{src:"v2/girl_hysteric.gif",tokens:[":girl_hysteric"],h:25},{src:"v2/girl_drink1.gif",tokens:[":girl_drink"],h:25},{src:"v2/girl_haha.gif",tokens:[":girl_haha"],h:22},{src:"v2/girl_hospital.gif",tokens:[":girl_doctor"],h:25},{src:"v2/girl_in_love.gif",tokens:[":girl_in_love"],h:27},{src:"v2/girl_pinkglassesf.gif",tokens:[":girl_pinkglasses"],h:37},{src:"v2/girl_sigh.gif",tokens:[":girl_sigh"],h:24}];t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[{src:"big/40814fb3.gif",tokens:[":big19"]},{src:"big/f6caa6b0.gif",tokens:[":big01"]},{src:"big/d147daff.gif",tokens:[":big09"]},{src:"big/20150122_63.gif",tokens:[":big_144"]},{src:"big/de4f412c.gif",tokens:[":big06"]},{src:"big/3ebe996a.gif",tokens:[":big42"]},{src:"big/7267e299.gif",tokens:[":big21"]},{src:"big/887ca0f4.gif",tokens:[":big23"]},{src:"big/24f8835d.gif",tokens:[":big32"]},{src:"big/7dcdd6a7.gif",tokens:[":big37"]},{src:"big/ef3b5f83.gif",tokens:[":big02"]},{src:"big/1de7adee.gif",tokens:[":big46"]},{src:"big/OsBTiFK92Izi.gif",tokens:[":big79"]},{src:"big/cqgrqxBVbf2O.gif",tokens:[":big63"]},{src:"big/01lqBI7fr52fE8kgH.gif",tokens:[":big51"]},{src:"big/yZeBKfSIkk9NEiPiE.gif",tokens:[":big58"]},{src:"big/620f24ae.gif",tokens:[":big28"]},{src:"big/72gkGNYwQpMP8.gif",tokens:[":big73"]},{src:"big/e94de355.gif",tokens:[":big05"]},{src:"big/QJc2OdQuL0Rw.gif",tokens:[":big71"]},{src:"big/dd20ffb9.gif",tokens:[":big08"]},{src:"big/20150122_61.gif",tokens:[":big_142"]},{src:"big/20150122_15.gif",tokens:[":big96"]},{src:"big/20150122_68.gif",tokens:[":big_149"]},{src:"big/20150122_48.gif",tokens:[":big_129"]},{src:"big/e046353b.gif",tokens:[":big04"]},{src:"big/N82FQYVRBtFQ.gif",tokens:[":big81"]},{src:"big/kw4EMtqRNvEFSI.gif",tokens:[":big80"]},{src:"big/20150122_47.gif",tokens:[":big_128"]},{src:"big/20150122_41.gif",tokens:[":big_122"]},{src:"big/4bj3EU5NaXSZMpzrT.gif",tokens:[":big76"]},{src:"big/5c0f6a8e.gif",tokens:[":big39"]},{src:"big/S9DIgkiVhA99Z.gif",tokens:[":big75"]},{src:"big/iTGXUqCflDak.gif",tokens:[":big74"]},{src:"big/oHTXAtJFSwKHuIj6.gif",tokens:[":big77"]},{src:"big/20150122_40.gif",tokens:[":big_121"]},{src:"big/VJVqzGfYHiSK8wE.gif",tokens:[":big68"]},{src:"big/20150122_66.gif",tokens:[":big_147"]},{src:"big/20150122_39.gif",tokens:[":big_120"]},{src:"big/LNwBPBsrueru6nF.gif",tokens:[":big50"]},{src:"big/20150122_70.gif",tokens:[":big_151"]},{src:"big/EJdxbdDZoywR5oz.gif",tokens:[":big66"]},{src:"big/emp56wHqqpWk.gif",tokens:[":big53"]},{src:"big/6E98inxuW1ukHqeP.gif",tokens:[":big54"]},{src:"big/20150122_38.gif",tokens:[":big_119"]},{src:"big/32PynRTOa1IdTQ.gif",tokens:[":big56"]},{src:"big/JpoY1skrdCGdx.gif",tokens:[":big57"]},{src:"big/20150122_62.gif",tokens:[":big_143"]},{src:"big/yyHLoHtdu2f8.gif",tokens:[":bi59"]},{src:"big/20150122_29.gif",tokens:[":big_110"]},{src:"big/20150122_16.gif",tokens:[":big97"]},{src:"big/CGK2EnLKH86zC.gif",tokens:[":big62"]},{src:"big/20150122_49.gif",tokens:[":big_130"]},{src:"big/25613c93.gif",tokens:[":big20"]},{src:"big/20150122_53.gif",tokens:[":big_134"]},{src:"big/20150122_28.gif",tokens:[":big_109"]},{src:"big/20150122_5.gif",tokens:[":big86"]},{src:"big/Uk5rUoR1i3au0ZgHo.gif",tokens:[":big72"]},{src:"big/1de1837a.gif",tokens:[":big45"]},{src:"big/8c67eb0e.gif",tokens:[":big36"]},{src:"big/20150122_2.gif",tokens:[":big83"]},{src:"big/fFOIxfDtz5ZV2.gif",tokens:[":big69"]},{src:"big/w4elxbCpB60Loort.gif",tokens:[":big65"]},{src:"big/20150122_60.gif",tokens:[":big_141"]},{src:"big/hdf7kjSWdFJn4kgg.gif",tokens:[":big78"]},{src:"big/24dd51b5.gif",tokens:[":big33"]},{src:"big/2416cf5a.gif",tokens:[":big22"]},{src:"big/20150122_33.gif",tokens:[":big_114"]},{src:"big/IBg3SM128S8K0.gif",tokens:[":big70"]},{src:"big/20150122_31.gif",tokens:[":big_112"]},{src:"big/m7h1ZLu4lDvl1.gif",tokens:[":big67"]},{src:"big/8XJLedxcf8vMUd.gif",tokens:[":big55"]},{src:"big/McSCcezbwaib.gif",tokens:[":big60"]},{src:"big/20150122_14.gif",tokens:[":big95"]},{src:"big/20150122_12.gif",tokens:[":big93"]},{src:"big/20150122_32.gif",tokens:[":big_113"]},{src:"big/20150122_52.gif",tokens:[":big_133"]},{src:"big/b4b95c16.gif",tokens:[":big16"]},{src:"big/20150122_36.gif",tokens:[":big_117"]},{src:"big/20150122_13.gif",tokens:[":big94"]},{src:"big/YKHPbvZ3PUw4XpCrHn.gif",tokens:[":big61"]},{src:"big/20150122_59.gif",tokens:[":big_140"]},{src:"big/20150122_23.gif",tokens:[":big_104"]},{src:"big/20150122_42.gif",tokens:[":big_123"]},{src:"big/9c78fd70.gif",tokens:[":big34"]},{src:"big/1cUNWJ5lIXFcVE7RtV.gif",tokens:[":big52"]},{src:"big/20150122_10.gif",tokens:[":big91"]},{src:"big/60e6f22e.gif",tokens:[":big31"]},{src:"big/ca03f624.gif",tokens:[":big11"]},{src:"big/17eca1b1.gif",tokens:[":big25"]},{src:"big/c420fb68.gif",tokens:[":big12"]},{src:"big/20150122_44.gif",tokens:[":big_125"]},{src:"big/687d4e74.gif",tokens:[":big24"]},{src:"big/20150122_7.gif",tokens:[":big88"]},{src:"big/4cd8fb92.gif",tokens:[":big41"]},{src:"big/20150122_69.gif",tokens:[":big_150"]},{src:"big/eeb3be2a.gif",tokens:[":big03"]},{src:"big/asvbqpYtNoVXaF8E.gif",tokens:[":big64"]},{src:"big/bb655dd2.gif",tokens:[":big15"]},{src:"big/20150122_21.gif",tokens:[":big_102"]},{src:"big/20150122_9.gif",tokens:[":big90"]},{src:"big/20150122_43.gif",tokens:[":big_124"]},{src:"big/20150122_57.gif",tokens:[":big_138"]},{src:"big/20150122_35.gif",tokens:[":big_116"]},{src:"big/20150122_54.gif",tokens:[":big_135"]},{src:"big/20150122_25.gif",tokens:[":big_106"]},{src:"big/20150122_75.gif",tokens:[":big_156"]},{src:"big/1d1bca51.gif",tokens:[":big47"]},{src:"big/3e9696aa.gif",tokens:[":big43"]},{src:"big/20150122_18.gif",tokens:[":big99"]},{src:"big/20150122_46.gif",tokens:[":big_127"]},{src:"big/8ca92a4a.gif",tokens:[":big35"]},{src:"big/20150122_4.gif",tokens:[":big85"]},{src:"big/20150122_3.gif",tokens:[":big84"]},{src:"big/20150122_65.gif",tokens:[":big_146"]},{src:"big/5bab2aed.gif",tokens:[":big40"]},{src:"big/20150122_55.gif",tokens:[":big_136"]},{src:"big/20150122_26.gif",tokens:[":big_107"]},{src:"big/20150122_64.gif",tokens:[":big_145"]},{src:"big/20150122_24.gif",tokens:[":big_105"]},{src:"big/20150122_22.gif",tokens:[":big_103"]},{src:"big/1fab9fc9.gif",tokens:[":big44"]},{src:"big/20150122_1.gif",tokens:[":big82"]},{src:"big/20150122_30.gif",tokens:[":big_111"]},{src:"big/20150122_72.gif",tokens:[":big_153"]},{src:"big/2yb9a8a2.gif",tokens:[":big27"]},{src:"big/a3b16f17.gif",tokens:[":big17"]},{src:"big/20150122_6.gif",tokens:[":big87"]},{src:"big/20150122_71.gif",tokens:[":big_152"]},{src:"big/dddceead.gif",tokens:[":big07"]},{src:"big/345sxcww.gif",tokens:[":big26"]},{src:"big/20150122_56.gif",tokens:[":big_137"]},{src:"big/20150122_27.gif",tokens:[":big_108"]},{src:"big/20150122_51.gif",tokens:[":big_132"]},{src:"big/533a1ddb.gif",tokens:[":big29"]},{src:"big/c0e66790.gif",tokens:[":big13"]},{src:"big/197f9ff1.gif",tokens:[":big30"]},{src:"big/20150122_34.gif",tokens:[":big_115"]},{src:"big/20150122_58.gif",tokens:[":big_139"]},{src:"big/20150122_50.gif",tokens:[":big_131"]},{src:"big/20150122_73.gif",tokens:[":big_154"]},{src:"big/20150122_74.gif",tokens:[":big_155"]},{src:"big/7d3e9002.gif",tokens:[":big38"]},{src:"big/bd04046c.gif",tokens:[":big14"]},{src:"big/20150122_45.gif",tokens:[":big_126"]},{src:"big/d2d6f6e0.gif",tokens:[":big10"]},{src:"big/76311567.gif",tokens:[":big18"]},{src:"big/20150122_20.gif",tokens:[":big_101"]}];t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[{src:"text/ff1b0901.gif",tokens:[":text01"],w:476},{src:"text/fbaecdbe.gif",tokens:[":text02"],w:396},{src:"text/a98fd272.gif",tokens:[":text11"],w:694},{src:"text/e895b57c.png",tokens:[":text03"]},{src:"text/e3dead2b.gif",tokens:[":text04"]},{src:"text/d217f3d1.jpg",tokens:[":text05"]},{src:"text/d19c20d5.jpg",tokens:[":text06"]},{src:"text/d11b51d6.jpg",tokens:[":text07"]},{src:"text/bc6831ac.gif",tokens:[":text08"]},{src:"text/b959bf11.gif",tokens:[":text09"]},{src:"text/b6b83221.png",tokens:[":text10"]},{src:"text/06fcab55.gif",tokens:[":text30"],w:400},{src:"text/31240cd6.gif",tokens:[":text12"],w:728},{src:"text/6436ca7f.gif",tokens:[":text13"],w:388},{src:"text/3844d773.gif",tokens:[":text14"]},{src:"text/2640dd4d.jpg",tokens:[":text15"],w:728},{src:"text/582d5f97.gif",tokens:[":text16"]},{src:"text/419fec20.gif",tokens:[":text17"]},{src:"text/0106d031.gif",tokens:[":text18"],w:420},{src:"text/67d119a1.png",tokens:[":text19"],w:400},{src:"text/49bc795f.png",tokens:[":text20"]},{src:"text/042de6cd.gif",tokens:[":text21"]},{src:"text/27a11486.gif",tokens:[":text22"]},{src:"text/11df7ac4.gif",tokens:[":text23"]},{src:"text/8f2bbd68.gif",tokens:[":text24"],w:728},{src:"text/8ea9a80f.gif",tokens:[":text25"]},{src:"text/8bfd58b5.gif",tokens:[":text26"],w:468},{src:"text/7ff39218.gif",tokens:[":text27"]},{src:"text/7f2bdb08.gif",tokens:[":text28"]},{src:"text/07d8d1dc.gif",tokens:[":text29"]},{src:"text/6efcf2f4.gif",tokens:[":text31"]},{src:"text/6d32215c.gif",tokens:[":text32"]},{src:"text/06adc5d5.jpg",tokens:[":text33"]},{src:"text/3c1605a9.gif",tokens:[":text34"]},{src:"text/2e2d5ffe.jpg",tokens:[":text35"],w:372},{src:"text/0a555655.gif",tokens:[":text36"],w:400},{src:"text/20150122_8.gif",tokens:[":text37"]},{src:"text/20150122_17.gif",tokens:[":text39"]},{src:"text/20150122_11.gif",tokens:[":text38"]},{src:"text/20150122_19.gif",tokens:[":text40"]},{src:"text/20150122_37.gif",tokens:[":text41"]}];t.default=i},function(e,t,n){"use strict";(function(e){function i(t,n){if(!c.isRepeated){void 0===n&&(n=!0);if(l.default.getState().newsIm.disabled)return!0;var i=e("#news_im"),a=e("#news_im_view"),r=t.outerHeight(!0);t.length&&(u&&u.stop(),i.append(a.find(".news_im"))),t.length>1&&(t=t.filter(":not(.viewed)").first()),a.html(t),a.css({bottom:-1*r,opacity:0});var o=a.attr("extra_bottom_px")?parseInt(a.attr("extra_bottom_px")):0;u=a.animate({opacity:1,bottom:o},1500,function(){var a=n&&!t.data("no_rotation");if(t.data("id")&&a){var r={nimid:t.data("id")};t.data("ntid")&&(r.ntid=t.data("ntid")),e.get(i.data("track_url"),r,function(){t.addClass("viewed"),c.performanceNavigationAvailable||c.localStorageAvailable&&c.mark()})}u=null})}}function a(){if(l.default.getState().newsIm.disabled)return!0;var t=e("#news_im_view"),n=t.find(".news_im"),i=t.outerHeight(!0);t.animate({opacity:0,bottom:-1*i},1500,function(){e("#news_im").append(n)})}function r(){var t=e("#news_im");e.get(e(".bTokens").attr("data-few-tokens-im-url"),function(n){n&&!e("#member_few_tokens_im").length&&(t.append(n),i(e("#member_few_tokens_im")))})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),s=n(2),l=n(5),c=function(){function e(){}return Object.defineProperty(e,"state",{get:function(){try{var t=window.localStorage.getItem(e.storageKey);return t?o.json_parse(t):(window.localStorage.setItem(e.storageKey,"{}"),{})}catch(e){console.error(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isRepeated",{get:function(){if(e.performanceNavigationAvailable){if(2===window.performance.navigation.type)return!0}else if(e.localStorageAvailable&&e.isDemonstrated)return!0;return!1},enumerable:!0,configurable:!0}),e.mark=function(){try{var t=e.state;t[location.pathname]=(new Date).getTime(),window.localStorage.setItem(e.storageKey,JSON.stringify(t))}catch(e){console.error(e)}},Object.defineProperty(e,"isDemonstrated",{get:function(){var t;try{var n=parseInt(e.state[location.pathname]),i=(new Date).getTime()-n;t=Math.round(i/6e4)<60,t||e.destroy()}catch(e){return console.error(e),!1}return t},enumerable:!0,configurable:!0}),e.destroy=function(){try{var t=e.state;delete t[location.pathname],window.localStorage.setItem(e.storageKey,JSON.stringify(t))}catch(e){console.error(e)}},Object.defineProperty(e,"performanceNavigationAvailable",{get:function(){try{return window.PerformanceNavigation&&window.performance.navigation instanceof window.PerformanceNavigation}catch(e){return console.error(e),!1}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"localStorageAvailable",{get:function(){try{return s.isLocalStorageAvailable()}catch(e){return console.error(e),!1}},enumerable:!0,configurable:!0}),e.storageKey="demonstrated_news_ims",e}(),u=null;t.showNewsIm=i,t.hideNewsIm=a,t.getFewTokensIm=r,e(function(){if(l.default.getState().newsIm.disabled)return!0;var t=e("#news_im"),n=t.find(".news_im");if(e(document).on("click","#news_im_view .nim_close, #news_im_view .nim_later, .news_im .hide_im",function(){a()}),t.length&&!e.isTranslateSkin){var r=function(){setTimeout(function(){i(n.not(".viewed").first()),r()},432e5)};setTimeout(function(){var e=t.find(".news_im").not('[data-no_rotation="1"]').not(".viewed");e.length>1?(i(e),r()):i(e)},2e3)}})}).call(t,n(0))},,function(e,t,n){n(3)(n(153))},function(e,t){e.exports='/*! jQuery v1.8.2 jquery.com | jquery.org/license */\n(function(a,b){function G(a){var b=F[a]={};return p.each(a.split(s),function(a,c){b[c]=!0}),b}function J(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(I,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:+d+""===d?+d:H.test(d)?p.parseJSON(d):d}catch(f){}p.data(a,c,d)}else d=b}return d}function K(a){var b;for(b in a){if(b==="data"&&p.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function ba(){return!1}function bb(){return!0}function bh(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function bi(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function bj(a,b,c){b=b||0;if(p.isFunction(b))return p.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return p.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=p.grep(a,function(a){return a.nodeType===1});if(be.test(b))return p.filter(b,d,!c);b=p.filter(b,d)}return p.grep(a,function(a,d){return p.inArray(a,b)>=0===c})}function bk(a){var b=bl.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bC(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bD(a,b){if(b.nodeType!==1||!p.hasData(a))return;var c,d,e,f=p._data(a),g=p._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)p.event.add(b,c,h[c][d])}g.data&&(g.data=p.extend({},g.data))}function bE(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?(b.parentNode&&(b.outerHTML=a.outerHTML),p.support.html5Clone&&a.innerHTML&&!p.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):c==="input"&&bv.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(p.expando)}function bF(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bG(a){bv.test(a.type)&&(a.defaultChecked=a.checked)}function bY(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bW.length;while(e--){b=bW[e]+c;if(b in a)return b}return d}function bZ(a,b){return a=b||a,p.css(a,"display")==="none"||!p.contains(a.ownerDocument,a)}function b$(a,b){var c,d,e=[],f=0,g=a.length;for(;f<g;f++){c=a[f];if(!c.style)continue;e[f]=p._data(c,"olddisplay"),b?(!e[f]&&c.style.display==="none"&&(c.style.display=""),c.style.display===""&&bZ(c)&&(e[f]=p._data(c,"olddisplay",cc(c.nodeName)))):(d=bH(c,"display"),!e[f]&&d!=="none"&&p._data(c,"olddisplay",d))}for(f=0;f<g;f++){c=a[f];if(!c.style)continue;if(!b||c.style.display==="none"||c.style.display==="")c.style.display=b?e[f]||"":"none"}return a}function b_(a,b,c){var d=bP.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function ca(a,b,c,d){var e=c===(d?"border":"content")?4:b==="width"?1:0,f=0;for(;e<4;e+=2)c==="margin"&&(f+=p.css(a,c+bV[e],!0)),d?(c==="content"&&(f-=parseFloat(bH(a,"padding"+bV[e]))||0),c!=="margin"&&(f-=parseFloat(bH(a,"border"+bV[e]+"Width"))||0)):(f+=parseFloat(bH(a,"padding"+bV[e]))||0,c!=="padding"&&(f+=parseFloat(bH(a,"border"+bV[e]+"Width"))||0));return f}function cb(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=!0,f=p.support.boxSizing&&p.css(a,"boxSizing")==="border-box";if(d<=0||d==null){d=bH(a,b);if(d<0||d==null)d=a.style[b];if(bQ.test(d))return d;e=f&&(p.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+ca(a,b,c||(f?"border":"content"),e)+"px"}function cc(a){if(bS[a])return bS[a];var b=p("<"+a+">").appendTo(e.body),c=b.css("display");b.remove();if(c==="none"||c===""){bI=e.body.appendChild(bI||p.extend(e.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!bJ||!bI.createElement)bJ=(bI.contentWindow||bI.contentDocument).document,bJ.write("<!doctype html><html><body>"),bJ.close();b=bJ.body.appendChild(bJ.createElement(a)),c=bH(b,"display"),e.body.removeChild(bI)}return bS[a]=c,c}function ci(a,b,c,d){var e;if(p.isArray(b))p.each(b,function(b,e){c||ce.test(a)?d(a,e):ci(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&p.type(b)==="object")for(e in b)ci(a+"["+e+"]",b[e],c,d);else d(a,b)}function cz(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(s),h=0,i=g.length;if(p.isFunction(c))for(;h<i;h++)d=g[h],f=/^\\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function cA(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h,i=a[f],j=0,k=i?i.length:0,l=a===cv;for(;j<k&&(l||!h);j++)h=i[j](c,d,e),typeof h=="string"&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=cA(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=cA(a,c,d,e,"*",g)),h}function cB(a,c){var d,e,f=p.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&p.extend(!0,a,e)}function cC(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);while(j[0]==="*")j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g)return g!==j[0]&&j.unshift(g),d[g]}function cD(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;a.dataFilter&&(b=a.dataFilter(b,a.dataType));if(g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if(e!=="*"){if(h!=="*"&&h!==e){c=i[h+" "+e]||i["* "+e];if(!c)for(d in i){f=d.split(" ");if(f[1]===e){c=i[h+" "+f[0]]||i["* "+f[0]];if(c){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}}}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function cL(){try{return new a.XMLHttpRequest}catch(b){}}function cM(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cU(){return setTimeout(function(){cN=b},0),cN=p.now()}function cV(a,b){p.each(b,function(b,c){var d=(cT[b]||[]).concat(cT["*"]),e=0,f=d.length;for(;e<f;e++)if(d[e].call(a,b,c))return})}function cW(a,b,c){var d,e=0,f=0,g=cS.length,h=p.Deferred().always(function(){delete i.elem}),i=function(){var b=cN||cU(),c=Math.max(0,j.startTime+j.duration-b),d=1-(c/j.duration||0),e=0,f=j.tweens.length;for(;e<f;e++)j.tweens[e].run(d);return h.notifyWith(a,[j,d,c]),d<1&&f?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:cN||cU(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=p.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(e),e},stop:function(b){var c=0,d=b?j.tweens.length:0;for(;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;cX(k,j.opts.specialEasing);for(;e<g;e++){d=cS[e].call(j,a,k,j.opts);if(d)return d}return cV(j,k),p.isFunction(j.opts.start)&&j.opts.start.call(a,j),p.fx.timer(p.extend(i,{anim:j,queue:j.opts.queue,elem:a})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cX(a,b){var c,d,e,f,g;for(c in a){d=p.camelCase(c),e=b[d],f=a[c],p.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=p.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function cY(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],q=a.nodeType&&bZ(a);c.queue||(j=p._queueHooks(a,"fx"),j.unqueued==null&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,p.queue(a,"fx").length||j.empty.fire()})})),a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],p.css(a,"display")==="inline"&&p.css(a,"float")==="none"&&(!p.support.inlineBlockNeedsLayout||cc(a.nodeName)==="inline"?m.display="inline-block":m.zoom=1)),c.overflow&&(m.overflow="hidden",p.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b){f=b[d];if(cP.exec(f)){delete b[d];if(f===(q?"hide":"show"))continue;o.push(d)}}g=o.length;if(g){h=p._data(a,"fxshow")||p._data(a,"fxshow",{}),q?p(a).show():l.done(function(){p(a).hide()}),l.done(function(){var b;p.removeData(a,"fxshow",!0);for(b in n)p.style(a,b,n[b])});for(d=0;d<g;d++)e=o[d],i=l.createTween(e,q?h[e]:0),n[e]=h[e]||p.style(a,e),e in h||(h[e]=i.start,q&&(i.end=i.start,i.start=e==="width"||e==="height"?1:0))}}function cZ(a,b,c,d,e){return new cZ.prototype.init(a,b,c,d,e)}function c$(a,b){var c,d={height:a},e=0;b=b?1:0;for(;e<4;e+=2-b)c=bV[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function da(a){return p.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c,d,e=a.document,f=a.location,g=a.navigator,h=a.jQuery,i=a.$,j=Array.prototype.push,k=Array.prototype.slice,l=Array.prototype.indexOf,m=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o=String.prototype.trim,p=function(a,b){return new p.fn.init(a,b,c)},q=/[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source,r=/\\S/,s=/\\s+/,t=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,u=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,v=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,w=/^[\\],:{}\\s]*$/,x=/(?:^|:|,)(?:\\s*\\[)+/g,y=/\\\\(?:["\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g,z=/"[^"\\\\\\r\\n]*"|true|false|null|-?(?:\\d\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/g,A=/^-ms-/,B=/-([\\da-z])/gi,C=function(a,b){return(b+"").toUpperCase()},D=function(){e.addEventListener?(e.removeEventListener("DOMContentLoaded",D,!1),p.ready()):e.readyState==="complete"&&(e.detachEvent("onreadystatechange",D),p.ready())},E={};p.fn=p.prototype={constructor:p,init:function(a,c,d){var f,g,h,i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?f=[null,a,null]:f=u.exec(a);if(f&&(f[1]||!c)){if(f[1])return c=c instanceof p?c[0]:c,i=c&&c.nodeType?c.ownerDocument||c:e,a=p.parseHTML(f[1],i,!0),v.test(f[1])&&p.isPlainObject(c)&&this.attr.call(a,c,!0),p.merge(this,a);g=e.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return d.find(a);this.length=1,this[0]=g}return this.context=e,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return p.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return k.call(this)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=p.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return p.each(this,a,b)},ready:function(a){return p.ready.promise().done(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(k.apply(this,arguments),"slice",k.call(arguments).join(","))},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:[].sort,splice:[].splice},p.fn.init.prototype=p.fn,p.extend=p.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;typeof h=="boolean"&&(k=h,h=arguments[1]||{},i=2),typeof h!="object"&&!p.isFunction(h)&&(h={}),j===i&&(h=this,--i);for(;i<j;i++)if((a=arguments[i])!=null)for(c in a){d=h[c],e=a[c];if(h===e)continue;k&&e&&(p.isPlainObject(e)||(f=p.isArray(e)))?(f?(f=!1,g=d&&p.isArray(d)?d:[]):g=d&&p.isPlainObject(d)?d:{},h[c]=p.extend(k,g,e)):e!==b&&(h[c]=e)}return h},p.extend({noConflict:function(b){return a.$===p&&(a.$=i),b&&a.jQuery===p&&(a.jQuery=h),p},isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(a===!0?--p.readyWait:p.isReady)return;if(!e.body)return setTimeout(p.ready,1);p.isReady=!0;if(a!==!0&&--p.readyWait>0)return;d.resolveWith(e,[p]),p.fn.trigger&&p(e).trigger("ready").off("ready")},isFunction:function(a){return p.type(a)==="function"},isArray:Array.isArray||function(a){return p.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):E[m.call(a)]||"object"},isPlainObject:function(a){if(!a||p.type(a)!=="object"||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!n.call(a,"constructor")&&!n.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||n.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return!a||typeof a!="string"?null:(typeof b=="boolean"&&(c=b,b=0),b=b||e,(d=v.exec(a))?[b.createElement(d[1])]:(d=p.buildFragment([a],b,c?null:[]),p.merge([],(d.cacheable?p.clone(d.fragment):d.fragment).childNodes)))},parseJSON:function(b){if(!b||typeof b!="string")return null;b=p.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(w.test(b.replace(y,"@").replace(z,"]").replace(x,"")))return(new Function("return "+b))();p.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||typeof c!="string")return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&r.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(A,"ms-").replace(B,C)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||p.isFunction(a);if(d){if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;f<g;)if(c.apply(a[f++],d)===!1)break}else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;f<g;)if(c.call(a[f],f,a[f++])===!1)break;return a},trim:o&&!o.call("\ufeff ")?function(a){return a==null?"":o.call(a)}:function(a){return a==null?"":(a+"").replace(t,"")},makeArray:function(a,b){var c,d=b||[];return a!=null&&(c=p.type(a),a.length==null||c==="string"||c==="function"||c==="regexp"||p.isWindow(a)?j.call(d,a):p.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(l)return l.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if(typeof d=="number")for(;f<d;f++)a[e++]=c[f];else while(c[f]!==b)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;c=!!c;for(;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof p||i!==b&&typeof i=="number"&&(i>0&&a[0]&&a[i-1]||i===0||p.isArray(a));if(j)for(;h<i;h++)e=c(a[h],h,d),e!=null&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),e!=null&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return typeof c=="string"&&(d=a[c],c=a,a=d),p.isFunction(a)?(e=k.call(arguments,2),f=function(){return a.apply(c,e.concat(k.call(arguments)))},f.guid=a.guid=a.guid||p.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=d==null,k=0,l=a.length;if(d&&typeof d=="object"){for(k in d)p.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){i=h===b&&p.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(p(a),c)}):(c.call(a,e),c=null));if(c)for(;k<l;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),p.ready.promise=function(b){if(!d){d=p.Deferred();if(e.readyState==="complete")setTimeout(p.ready,1);else if(e.addEventListener)e.addEventListener("DOMContentLoaded",D,!1),a.addEventListener("load",p.ready,!1);else{e.attachEvent("onreadystatechange",D),a.attachEvent("onload",p.ready);var c=!1;try{c=a.frameElement==null&&e.documentElement}catch(f){}c&&c.doScroll&&function g(){if(!p.isReady){try{c.doScroll("left")}catch(a){return setTimeout(g,50)}p.ready()}}()}}return d.promise(b)},p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){E["[object "+b+"]"]=b.toLowerCase()}),c=p(e);var F={};p.Callbacks=function(a){a=typeof a=="string"?F[a]||G(a):p.extend({},a);var c,d,e,f,g,h,i=[],j=!a.once&&[],k=function(b){c=a.memory&&b,d=!0,h=f||0,f=0,g=i.length,e=!0;for(;i&&h<g;h++)if(i[h].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var b=i.length;(function d(b){p.each(b,function(b,c){var e=p.type(c);e==="function"&&(!a.unique||!l.has(c))?i.push(c):c&&c.length&&e!=="string"&&d(c)})})(arguments),e?g=i.length:c&&(f=b,k(c))}return this},remove:function(){return i&&p.each(arguments,function(a,b){var c;while((c=p.inArray(b,i,c))>-1)i.splice(c,1),e&&(c<=g&&g--,c<=h&&h--)}),this},has:function(a){return p.inArray(a,i)>-1},empty:function(){return i=[],this},disable:function(){return i=j=c=b,this},disabled:function(){return!i},lock:function(){return j=b,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],i&&(!d||j)&&(e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},p.extend({Deferred:function(a){var b=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(c){p.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](p.isFunction(g)?function(){var a=g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return a!=null?p.extend(a,d):d}},e={};return d.pipe=d.then,p.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=k.call(arguments),d=c.length,e=d!==1||a&&p.isFunction(a.promise)?d:0,f=e===1?a:p.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?k.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},h,i,j;if(d>1){h=new Array(d),i=new Array(d),j=new Array(d);for(;b<d;b++)c[b]&&p.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e}return e||f.resolveWith(j,c),f.promise()}}),p.support=function(){var b,c,d,f,g,h,i,j,k,l,m,n=e.createElement("div");n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5";if(!c||!c.length)return{};f=e.createElement("select"),g=f.appendChild(e.createElement("option")),h=n.getElementsByTagName("input")[0],b={leadingWhitespace:n.firstChild.nodeType===3,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:h.value==="on",optSelected:g.selected,getSetAttribute:n.className!=="t",enctype:!!e.createElement("form").enctype,html5Clone:e.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:e.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},h.checked=!0,b.noCloneChecked=h.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",m=function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"),n.detachEvent("onclick",m)),h=e.createElement("input"),h.value="t",h.setAttribute("type","radio"),b.radioValue=h.value==="t",h.setAttribute("checked","checked"),h.setAttribute("name","t"),n.appendChild(h),i=e.createDocumentFragment(),i.appendChild(n.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=h.checked,i.removeChild(h),i.appendChild(n);if(n.attachEvent)for(k in{submit:!0,change:!0,focusin:!0})j="on"+k,l=j in n,l||(n.setAttribute(j,"return;"),l=typeof n[j]=="function"),b[k+"Bubbles"]=l;return p(function(){var c,d,f,g,h="padding:0;margin:0;border:0;display:block;overflow:hidden;",i=e.getElementsByTagName("body")[0];if(!i)return;c=e.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(c,i.firstChild),d=e.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",l=f[0].offsetHeight===0,f[0].style.display="",f[1].style.display="none",b.reliableHiddenOffsets=l&&f[0].offsetHeight===0,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=d.offsetWidth===4,b.doesNotIncludeMarginInBodyOffset=i.offsetTop!==1,a.getComputedStyle&&(b.pixelPosition=(a.getComputedStyle(d,null)||{}).top!=="1%",b.boxSizingReliable=(a.getComputedStyle(d,null)||{width:"4px"}).width==="4px",g=e.createElement("div"),g.style.cssText=d.style.cssText=h,g.style.marginRight=g.style.width="0",d.style.width="1px",d.appendChild(g),b.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),typeof d.style.zoom!="undefined"&&(d.innerHTML="",d.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=d.offsetWidth===3,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=d.offsetWidth!==3,c.style.zoom=1),i.removeChild(c),c=d=f=g=null}),i.removeChild(n),c=d=f=g=h=i=n=null,b}();var H=/(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/,I=/([A-Z])/g;p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!K(a)},data:function(a,c,d,e){if(!p.acceptData(a))return;var f,g,h=p.expando,i=typeof c=="string",j=a.nodeType,k=j?p.cache:a,l=j?a[h]:a[h]&&h;if((!l||!k[l]||!e&&!k[l].data)&&i&&d===b)return;l||(j?a[h]=l=p.deletedIds.pop()||p.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=p.noop));if(typeof c=="object"||typeof c=="function")e?k[l]=p.extend(k[l],c):k[l].data=p.extend(k[l].data,c);return f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[p.camelCase(c)]=d),i?(g=f[c],g==null&&(g=f[p.camelCase(c)])):g=f,g},removeData:function(a,b,c){if(!p.acceptData(a))return;var d,e,f,g=a.nodeType,h=g?p.cache:a,i=g?a[p.expando]:p.expando;if(!h[i])return;if(b){d=c?h[i]:h[i].data;if(d){p.isArray(b)||(b in d?b=[b]:(b=p.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?K:p.isEmptyObject)(d))return}}if(!c){delete h[i].data;if(!K(h[i]))return}g?p.cleanData([a],!0):p.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null},_data:function(a,b,c){return p.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&p.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),p.fn.extend({data:function(a,c){var d,e,f,g,h,i=this[0],j=0,k=null;if(a===b){if(this.length){k=p.data(i);if(i.nodeType===1&&!p._data(i,"parsedAttrs")){f=i.attributes;for(h=f.length;j<h;j++)g=f[j].name,g.indexOf("data-")||(g=p.camelCase(g.substring(5)),J(i,g,k[g]));p._data(i,"parsedAttrs",!0)}}return k}return typeof a=="object"?this.each(function(){p.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",p.access(this,function(c){if(c===b)return k=this.triggerHandler("getData"+e,[d[0]]),k===b&&i&&(k=p.data(i,a),k=J(i,a,k)),k===b&&d[1]?this.data(d[0]):k;d[1]=c,this.each(function(){var b=p(this);b.triggerHandler("setData"+e,d),p.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){p.removeData(this,a)})}}),p.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=p._data(a,b),c&&(!d||p.isArray(c)?d=p._data(a,b,p.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b),d=c.length,e=c.shift(),f=p._queueHooks(a,b),g=function(){p.dequeue(a,b)};e==="inprogress"&&(e=c.shift(),d--),e&&(b==="fx"&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return p._data(a,c)||p._data(a,c,{empty:p.Callbacks("once memory").add(function(){p.removeData(a,b+"queue",!0),p.removeData(a,c,!0)})})}}),p.fn.extend({queue:function(a,c){var d=2;return typeof a!="string"&&(c=a,a="fx",d--),arguments.length<d?p.queue(this[0],a):c===b?this:this.each(function(){var b=p.queue(this,a,c);p._queueHooks(this,a),a==="fx"&&b[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},delay:function(a,b){return a=p.fx?p.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=p.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};typeof a!="string"&&(c=a,a=b),a=a||"fx";while(h--)d=p._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var L,M,N,O=/[\\t\\r\\n]/g,P=/\\r/g,Q=/^(?:button|input)$/i,R=/^(?:button|input|object|select|textarea)$/i,S=/^a(?:rea|)$/i,T=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=p.support.getSetAttribute;p.fn.extend({attr:function(a,b){return p.access(this,p.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})},prop:function(a,b){return p.access(this,p.prop,a,b,arguments.length>1)},removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(s);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=p.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(s);for(h=0,i=this.length;h<i;h++){e=this[h];if(e.nodeType===1&&e.className){d=(" "+e.className+" ").replace(O," ");for(f=0,g=c.length;f<g;f++)while(d.indexOf(" "+c[f]+" ")>=0)d=d.replace(" "+c[f]+" "," ");e.className=a?p.trim(d):""}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return p.isFunction(a)?this.each(function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=p(this),h=b,i=a.split(s);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&p._data(this,"__className__",this.className),this.className=this.className||a===!1?"":p._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(O," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!arguments.length){if(f)return c=p.valHooks[f.type]||p.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(P,""):d==null?"":d);return}return e=p.isFunction(a),this.each(function(d){var f,g=p(this);if(this.nodeType!==1)return;e?f=a.call(this,d,g.val()):f=a,f==null?f="":typeof f=="number"?f+="":p.isArray(f)&&(f=p.map(f,function(a){return a==null?"":a+""})),c=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,f,"value")===b)this.value=f})}}),p.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i=a.type==="select-one";if(f<0)return null;c=i?f:0,d=i?f+1:h.length;for(;c<d;c++){e=h[c];if(e.selected&&(p.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!p.nodeName(e.parentNode,"optgroup"))){b=p(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?p(h[f]).val():g},set:function(a,b){var c=p.makeArray(b);return p(a).find("option").each(function(){this.selected=p.inArray(p(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(!a||i===3||i===8||i===2)return;if(e&&p.isFunction(p.fn[c]))return p(a)[c](d);if(typeof a.getAttribute=="undefined")return p.prop(a,c,d);h=i!==1||!p.isXMLDoc(a),h&&(c=c.toLowerCase(),g=p.attrHooks[c]||(T.test(c)?M:L));if(d!==b){if(d===null){p.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.split(s);for(;g<d.length;g++)e=d[g],e&&(c=p.propFix[e]||e,f=T.test(e),f||p.attr(a,e,""),a.removeAttribute(U?e:c),f&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(Q.test(a.nodeName)&&a.parentNode)p.error("type property can\'t be changed");else if(!p.support.radioValue&&b==="radio"&&p.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return L&&p.nodeName(a,"button")?L.get(a,b):b in a?a.value:null},set:function(a,b,c){if(L&&p.nodeName(a,"button"))return L.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(!a||h===3||h===8||h===2)return;return g=h!==1||!p.isXMLDoc(a),g&&(c=p.propFix[c]||c,f=p.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):R.test(a.nodeName)||S.test(a.nodeName)&&a.href?0:b}}}}),M={get:function(a,c){var d,e=p.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?p.removeAttr(a,c):(d=p.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},U||(N={name:!0,id:!0,coords:!0},L=p.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(N[c]?d.value!=="":d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=e.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},p.each(["width","height"],function(a,b){p.attrHooks[b]=p.extend(p.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),p.attrHooks.contenteditable={get:L.get,set:function(a,b,c){b===""&&(b="false"),L.set(a,b,c)}}),p.support.hrefNormalized||p.each(["href","src","width","height"],function(a,c){p.attrHooks[c]=p.extend(p.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),p.support.style||(p.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),p.support.optSelected||(p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),p.support.enctype||(p.propFix.enctype="encoding"),p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(a,b){if(p.isArray(b))return a.checked=p.inArray(p(a).val(),b)>=0}})});var V=/^(?:textarea|input|select)$/i,W=/^([^\\.]*|)(?:\\.(.+)|)$/,X=/(?:^|\\s)hover(\\.\\S+|)\\b/,Y=/^key/,Z=/^(?:mouse|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=function(a){return p.event.special.hover?a:a.replace(X,"mouseenter$1 mouseleave$1")};p.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,q,r;if(a.nodeType===3||a.nodeType===8||!c||!d||!(g=p._data(a)))return;d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=p.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof p!="undefined"&&(!a||p.event.triggered!==a.type)?p.event.dispatch.apply(h.elem,arguments):b},h.elem=a),c=p.trim(_(c)).split(" ");for(j=0;j<c.length;j++){k=W.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=p.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=p.event.special[l]||{},n=p.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&p.expr.match.needsContext.test(f),namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),p.event.global[l]=!0}a=null},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,q,r=p.hasData(a)&&p._data(a);if(!r||!(m=r.events))return;b=p.trim(_(b||"")).split(" ");for(f=0;f<b.length;f++){g=W.exec(b[f])||[],h=i=g[1],j=g[2];if(!h){for(h in m)p.event.remove(a,h+b[f],c,d,!0);continue}n=p.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\\\.)"+j.split(".").sort().join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"):null;for(l=0;l<o.length;l++)q=o[l],(e||i===q.origType)&&(!c||c.guid===q.guid)&&(!j||j.test(q.namespace))&&(!d||d===q.selector||d==="**"&&q.selector)&&(o.splice(l--,1),q.selector&&o.delegateCount--,n.remove&&n.remove.call(a,q));o.length===0&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,r.handle)===!1)&&p.removeEvent(a,h,r.handle),delete m[h])}p.isEmptyObject(m)&&(delete r.handle,p.removeData(a,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,f,g){if(!f||f.nodeType!==3&&f.nodeType!==8){var h,i,j,k,l,m,n,o,q,r,s=c.type||c,t=[];if($.test(s+p.event.triggered))return;s.indexOf("!")>=0&&(s=s.slice(0,-1),i=!0),s.indexOf(".")>=0&&(t=s.split("."),s=t.shift(),t.sort());if((!f||p.event.customEvent[s])&&!p.event.global[s])return;c=typeof c=="object"?c[p.expando]?c:new p.Event(s,c):new p.Event(s),c.type=s,c.isTrigger=!0,c.exclusive=i,c.namespace=t.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\\\.)"+t.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"):null,m=s.indexOf(":")<0?"on"+s:"";if(!f){h=p.cache;for(j in h)h[j].events&&h[j].events[s]&&p.event.trigger(c,d,h[j].handle.elem,!0);return}c.result=b,c.target||(c.target=f),d=d!=null?p.makeArray(d):[],d.unshift(c),n=p.event.special[s]||{};if(n.trigger&&n.trigger.apply(f,d)===!1)return;q=[[f,n.bindType||s]];if(!g&&!n.noBubble&&!p.isWindow(f)){r=n.delegateType||s,k=$.test(r+s)?f:f.parentNode;for(l=f;k;k=k.parentNode)q.push([k,r]),l=k;l===(f.ownerDocument||e)&&q.push([l.defaultView||l.parentWindow||a,r])}for(j=0;j<q.length&&!c.isPropagationStopped();j++)k=q[j][0],c.type=q[j][1],o=(p._data(k,"events")||{})[c.type]&&p._data(k,"handle"),o&&o.apply(k,d),o=m&&k[m],o&&p.acceptData(k)&&o.apply&&o.apply(k,d)===!1&&c.preventDefault();return c.type=s,!g&&!c.isDefaultPrevented()&&(!n._default||n._default.apply(f.ownerDocument,d)===!1)&&(s!=="click"||!p.nodeName(f,"a"))&&p.acceptData(f)&&m&&f[s]&&(s!=="focus"&&s!=="blur"||c.target.offsetWidth!==0)&&!p.isWindow(f)&&(l=f[m],l&&(f[m]=null),p.event.triggered=s,f[s](),p.event.triggered=b,l&&(f[m]=l)),c.result}return},dispatch:function(c){c=p.event.fix(c||a.event);var d,e,f,g,h,i,j,l,m,n,o=(p._data(this,"events")||{})[c.type]||[],q=o.delegateCount,r=k.call(arguments),s=!c.exclusive&&!c.namespace,t=p.event.special[c.type]||{},u=[];r[0]=c,c.delegateTarget=this;if(t.preDispatch&&t.preDispatch.call(this,c)===!1)return;if(q&&(!c.button||c.type!=="click"))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||c.type!=="click"){h={},j=[];for(d=0;d<q;d++)l=o[d],m=l.selector,h[m]===b&&(h[m]=l.needsContext?p(m,this).index(f)>=0:p.find(m,this,null,[f]).length),h[m]&&j.push(l);j.length&&u.push({elem:f,matches:j})}o.length>q&&u.push({elem:this,matches:o.slice(q)});for(d=0;d<u.length&&!c.isPropagationStopped();d++){i=u[d],c.currentTarget=i.elem;for(e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++){l=i.matches[e];if(s||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))c.data=l.data,c.handleObj=l,g=((p.event.special[l.origType]||{}).handle||l.handler).apply(i.elem,r),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation()))}}return t.postDispatch&&t.postDispatch.call(this,c),c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,f,g,h=c.button,i=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||e,f=d.documentElement,g=d.body,a.pageX=c.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[p.expando])return a;var b,c,d=a,f=p.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=p.Event(d);for(b=g.length;b;)c=g[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||e),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){p.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=p.extend(new p.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?p.event.trigger(e,null,b):p.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},p.event.handle=p.event.dispatch,p.removeEvent=e.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]=="undefined"&&(a[d]=null),a.detachEvent(d,c))},p.Event=function(a,b){if(this instanceof p.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?bb:ba):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),this[p.expando]=!0;else return new p.Event(a,b)},p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=bb;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=bb;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()},isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj,g=f.selector;if(!e||e!==d&&!p.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),p.support.submitBubbles||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=p.nodeName(c,"input")||p.nodeName(c,"button")?c.form:b;d&&!p._data(d,"_submit_attached")&&(p.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),p._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),p.support.changeBubbles||(p.event.special.change={setup:function(){if(V.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")p.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),p.event.simulate("change",this,a,!0)});return!1}p.event.add(this,"beforeactivate._change",function(a){var b=a.target;V.test(b.nodeName)&&!p._data(b,"_change_attached")&&(p.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&p.event.simulate("change",this.parentNode,a,!0)}),p._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),!V.test(this.nodeName)}}),p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function(){c++===0&&e.addEventListener(a,d,!0)},teardown:function(){--c===0&&e.removeEventListener(a,d,!0)}}}),p.fn.extend({on:function(a,c,d,e,f){var g,h;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=ba;else if(!e)return this;return f===1&&(g=e,e=function(a){return p().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if(typeof a=="object"){for(f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=ba),this.each(function(){p.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return p(this.context).on(a,this.selector,b,c),this},die:function(a,b){return p(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return p.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||p.guid++,d=0,e=function(c){var e=(p._data(this,"lastToggle"+a.guid)||0)%d;return p._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){p.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Y.test(b)&&(p.event.fixHooks[b]=p.event.keyHooks),Z.test(b)&&(p.event.fixHooks[b]=p.event.mouseHooks)}),function(a,b){function bc(a,b,c,d){c=c||[],b=b||r;var e,f,i,j,k=b.nodeType;if(!a||typeof a!="string")return c;if(k!==1&&k!==9)return[];i=g(b);if(!i&&!d)if(e=P.exec(a))if(j=e[1]){if(k===9){f=b.getElementById(j);if(!f||!f.parentNode)return c;if(f.id===j)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(j))&&h(b,f)&&f.id===j)return c.push(f),c}else{if(e[2])return w.apply(c,x.call(b.getElementsByTagName(a),0)),c;if((j=e[3])&&_&&b.getElementsByClassName)return w.apply(c,x.call(b.getElementsByClassName(j),0)),c}return bp(a.replace(L,"$1"),b,c,d,i)}function bd(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function be(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function bf(a){return z(function(b){return b=+b,z(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function bg(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}function bh(a,b){var c,d,f,g,h,i,j,k=C[o][a];if(k)return b?0:k.slice(0);h=a,i=[],j=e.preFilter;while(h){if(!c||(d=M.exec(h)))d&&(h=h.slice(d[0].length)),i.push(f=[]);c=!1;if(d=N.exec(h))f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=d[0].replace(L," ");for(g in e.filter)(d=W[g].exec(h))&&(!j[g]||(d=j[g](d,r,!0)))&&(f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=g,c.matches=d);if(!c)break}return b?h.length:h?bc.error(a):C(a,i).slice(0)}function bi(a,b,d){var e=b.dir,f=d&&b.dir==="parentNode",g=u++;return b.first?function(b,c,d){while(b=b[e])if(f||b.nodeType===1)return a(b,c,d)}:function(b,d,h){if(!h){var i,j=t+" "+g+" ",k=j+c;while(b=b[e])if(f||b.nodeType===1){if((i=b[o])===k)return b.sizset;if(typeof i=="string"&&i.indexOf(j)===0){if(b.sizset)return b}else{b[o]=k;if(a(b,d,h))return b.sizset=!0,b;b.sizset=!1}}}else while(b=b[e])if(f||b.nodeType===1)if(a(b,d,h))return b}}function bj(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bk(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),j&&b.push(h);return g}function bl(a,b,c,d,e,f){return d&&!d[o]&&(d=bl(d)),e&&!e[o]&&(e=bl(e,f)),z(function(f,g,h,i){if(f&&e)return;var j,k,l,m=[],n=[],o=g.length,p=f||bo(b||"*",h.nodeType?[h]:h,[],f),q=a&&(f||!b)?bk(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;c&&c(q,r,h,i);if(d){l=bk(r,n),d(l,[],h,i),j=l.length;while(j--)if(k=l[j])r[n[j]]=!(q[n[j]]=k)}if(f){j=a&&r.length;while(j--)if(k=r[j])f[m[j]]=!(g[m[j]]=k)}else r=bk(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):w.apply(g,r)})}function bm(a){var b,c,d,f=a.length,g=e.relative[a[0].type],h=g||e.relative[" "],i=g?1:0,j=bi(function(a){return a===b},h,!0),k=bi(function(a){return y.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==l)||((b=c).nodeType?j(a,c,d):k(a,c,d))}];for(;i<f;i++)if(c=e.relative[a[i].type])m=[bi(bj(m),c)];else{c=e.filter[a[i].type].apply(null,a[i].matches);if(c[o]){d=++i;for(;d<f;d++)if(e.relative[a[d].type])break;return bl(i>1&&bj(m),i>1&&a.slice(0,i-1).join("").replace(L,"$1"),c,i<d&&bm(a.slice(i,d)),d<f&&bm(a=a.slice(d)),d<f&&a.join(""))}m.push(c)}return bj(m)}function bn(a,b){var d=b.length>0,f=a.length>0,g=function(h,i,j,k,m){var n,o,p,q=[],s=0,u="0",x=h&&[],y=m!=null,z=l,A=h||f&&e.find.TAG("*",m&&i.parentNode||i),B=t+=z==null?1:Math.E;y&&(l=i!==r&&i,c=g.el);for(;(n=A[u])!=null;u++){if(f&&n){for(o=0;p=a[o];o++)if(p(n,i,j)){k.push(n);break}y&&(t=B,c=++g.el)}d&&((n=!p&&n)&&s--,h&&x.push(n))}s+=u;if(d&&u!==s){for(o=0;p=b[o];o++)p(x,q,i,j);if(h){if(s>0)while(u--)!x[u]&&!q[u]&&(q[u]=v.call(k));q=bk(q)}w.apply(k,q),y&&!h&&q.length>0&&s+b.length>1&&bc.uniqueSort(k)}return y&&(t=B,l=z),x};return g.el=0,d?z(g):g}function bo(a,b,c,d){var e=0,f=b.length;for(;e<f;e++)bc(a,b[e],c,d);return c}function bp(a,b,c,d,f){var g,h,j,k,l,m=bh(a),n=m.length;if(!d&&m.length===1){h=m[0]=m[0].slice(0);if(h.length>2&&(j=h[0]).type==="ID"&&b.nodeType===9&&!f&&e.relative[h[1].type]){b=e.find.ID(j.matches[0].replace(V,""),b,f)[0];if(!b)return c;a=a.slice(h.shift().length)}for(g=W.POS.test(a)?-1:h.length-1;g>=0;g--){j=h[g];if(e.relative[k=j.type])break;if(l=e.find[k])if(d=l(j.matches[0].replace(V,""),R.test(h[0].type)&&b.parentNode||b,f)){h.splice(g,1),a=d.length&&h.join("");if(!a)return w.apply(c,x.call(d,0)),c;break}}}return i(a,m)(d,b,f,c,R.test(a)),c}function bq(){}var c,d,e,f,g,h,i,j,k,l,m=!0,n="undefined",o=("sizcache"+Math.random()).replace(".",""),q=String,r=a.document,s=r.documentElement,t=0,u=0,v=[].pop,w=[].push,x=[].slice,y=[].indexOf||function(a){var b=0,c=this.length;for(;b<c;b++)if(this[b]===a)return b;return-1},z=function(a,b){return a[o]=b==null||b,a},A=function(){var a={},b=[];return z(function(c,d){return b.push(c)>e.cacheLength&&delete a[b.shift()],a[c]=d},a)},B=A(),C=A(),D=A(),E="[\\\\x20\\\\t\\\\r\\\\n\\\\f]",F="(?:\\\\\\\\.|[-\\\\w]|[^\\\\x00-\\\\xa0])+",G=F.replace("w","w#"),H="([*^$|!~]?=)",I="\\\\["+E+"*("+F+")"+E+"*(?:"+H+E+"*(?:([\'\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|("+G+")|)|)"+E+"*\\\\]",J=":("+F+")(?:\\\\((?:([\'\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\2|([^()[\\\\]]*|(?:(?:"+I+")|[^:]|\\\\\\\\.)*|.*))\\\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\\\("+E+"*((?:-\\\\d)?\\\\d*)"+E+"*\\\\)|)(?=[^-]|$)",L=new RegExp("^"+E+"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)"+E+"+$","g"),M=new RegExp("^"+E+"*,"+E+"*"),N=new RegExp("^"+E+"*([\\\\x20\\\\t\\\\r\\\\n\\\\f>+~])"+E+"*"),O=new RegExp(J),P=/^(?:#([\\w\\-]+)|(\\w+)|\\.([\\w\\-]+))$/,Q=/^:not/,R=/[\\x20\\t\\r\\n\\f]*[+~]/,S=/:not\\($/,T=/h\\d/i,U=/input|select|textarea|button/i,V=/\\\\(?!\\\\)/g,W={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\\\.("+F+")"),NAME:new RegExp("^\\\\[name=[\'\\"]?("+F+")[\'\\"]?\\\\]"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+J),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\\\("+E+"*(even|odd|(([+-]|)(\\\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\\\d+)|))"+E+"*\\\\)|)","i"),needsContext:new RegExp("^"+E+"*[>+~]|"+K,"i")},X=function(a){var b=r.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},Y=X(function(a){return a.appendChild(r.createComment("")),!a.getElementsByTagName("*").length}),Z=X(function(a){return a.innerHTML="<a href=\'#\'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==n&&a.firstChild.getAttribute("href")==="#"}),$=X(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return b!=="boolean"&&b!=="string"}),_=X(function(a){return a.innerHTML="<div class=\'hidden e\'></div><div class=\'hidden\'></div>",!a.getElementsByClassName||!a.getElementsByClassName("e").length?!1:(a.lastChild.className="e",a.getElementsByClassName("e").length===2)}),ba=X(function(a){a.id=o+0,a.innerHTML="<a name=\'"+o+"\'></a><div name=\'"+o+"\'></div>",s.insertBefore(a,s.firstChild);var b=r.getElementsByName&&r.getElementsByName(o).length===2+r.getElementsByName(o+0).length;return d=!r.getElementById(o),s.removeChild(a),b});try{x.call(s.childNodes,0)[0].nodeType}catch(bb){x=function(a){var b,c=[];for(;b=this[a];a++)c.push(b);return c}}bc.matches=function(a,b){return bc(a,null,null,b)},bc.matchesSelector=function(a,b){return bc(b,null,null,[a]).length>0},f=bc.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(e===1||e===9||e===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=f(a)}else if(e===3||e===4)return a.nodeValue}else for(;b=a[d];d++)c+=f(b);return c},g=bc.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1},h=bc.contains=s.contains?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&d.nodeType===1&&c.contains&&c.contains(d))}:s.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){while(b=b.parentNode)if(b===a)return!0;return!1},bc.attr=function(a,b){var c,d=g(a);return d||(b=b.toLowerCase()),(c=e.attrHandle[b])?c(a):d||$?a.getAttribute(b):(c=a.getAttributeNode(b),c?typeof a[b]=="boolean"?a[b]?b:null:c.specified?c.value:null:null)},e=bc.selectors={cacheLength:50,createPseudo:z,match:W,attrHandle:Z?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:d?function(a,b,c){if(typeof b.getElementById!==n&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==n&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==n&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:Y?function(a,b){if(typeof b.getElementsByTagName!==n)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if(a==="*"){var d,e=[],f=0;for(;d=c[f];f++)d.nodeType===1&&e.push(d);return e}return c},NAME:ba&&function(a,b){if(typeof b.getElementsByName!==n)return b.getElementsByName(name)},CLASS:_&&function(a,b,c){if(typeof b.getElementsByClassName!==n&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(V,""),a[3]=(a[4]||a[5]||"").replace(V,""),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1]==="nth"?(a[2]||bc.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*(a[2]==="even"||a[2]==="odd")),a[4]=+(a[6]+a[7]||a[2]==="odd")):a[2]&&bc.error(a[0]),a},PSEUDO:function(a){var b,c;if(W.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4])O.test(b)&&(c=bh(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b;return a.slice(0,3)}},filter:{ID:d?function(a){return a=a.replace(V,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(V,""),function(b){var c=typeof b.getAttributeNode!==n&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return a==="*"?function(){return!0}:(a=a.replace(V,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=B[o][a];return b||(b=B(a,new RegExp("(^|"+E+")"+a+"("+E+"|$)"))),function(a){return b.test(a.className||typeof a.getAttribute!==n&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return function(d,e){var f=bc.attr(d,a);return f==null?b==="!=":b?(f+="",b==="="?f===c:b==="!="?f!==c:b==="^="?c&&f.indexOf(c)===0:b==="*="?c&&f.indexOf(c)>-1:b==="$="?c&&f.substr(f.length-c.length)===c:b==="~="?(" "+f+" ").indexOf(c)>-1:b==="|="?f===c||f.substr(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d){return a==="nth"?function(a){var b,e,f=a.parentNode;if(c===1&&d===0)return!0;if(f){e=0;for(b=f.firstChild;b;b=b.nextSibling)if(b.nodeType===1){e++;if(a===b)break}}return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(a==="first")return!0;c=b;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0}}},PSEUDO:function(a,b){var c,d=e.pseudos[a]||e.setFilters[a.toLowerCase()]||bc.error("unsupported pseudo: "+a);return d[o]?d(b):d.length>1?(c=[a,a,"",b],e.setFilters.hasOwnProperty(a.toLowerCase())?z(function(a,c){var e,f=d(a,b),g=f.length;while(g--)e=y.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}):d}},pseudos:{not:z(function(a){var b=[],c=[],d=i(a.replace(L,"$1"));return d[o]?z(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)if(f=g[h])a[h]=!(b[h]=f)}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:z(function(a){return function(b){return bc(a,b).length>0}}),contains:z(function(a){return function(b){return(b.textContent||b.innerText||f(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!e.pseudos.empty(a)},empty:function(a){var b;a=a.firstChild;while(a){if(a.nodeName>"@"||(b=a.nodeType)===3||b===4)return!1;a=a.nextSibling}return!0},header:function(a){return T.test(a.nodeName)},text:function(a){var b,c;return a.nodeName.toLowerCase()==="input"&&(b=a.type)==="text"&&((c=a.getAttribute("type"))==null||c.toLowerCase()===b)},radio:bd("radio"),checkbox:bd("checkbox"),file:bd("file"),password:bd("password"),image:bd("image"),submit:be("submit"),reset:be("reset"),button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},input:function(a){return U.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:bf(function(a,b,c){return[0]}),last:bf(function(a,b,c){return[b-1]}),eq:bf(function(a,b,c){return[c<0?c+b:c]}),even:bf(function(a,b,c){for(var d=0;d<b;d+=2)a.push(d);return a}),odd:bf(function(a,b,c){for(var d=1;d<b;d+=2)a.push(d);return a}),lt:bf(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:bf(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},j=s.compareDocumentPosition?function(a,b){return a===b?(k=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b)return k=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,h=b.parentNode,i=g;if(g===h)return bg(a,b);if(!g)return-1;if(!h)return 1;while(i)e.unshift(i),i=i.parentNode;i=h;while(i)f.unshift(i),i=i.parentNode;c=e.length,d=f.length;for(var j=0;j<c&&j<d;j++)if(e[j]!==f[j])return bg(e[j],f[j]);return j===c?bg(a,f[j],-1):bg(e[j],b,1)},[0,0].sort(j),m=!k,bc.uniqueSort=function(a){var b,c=1;k=m,a.sort(j);if(k)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a},bc.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},i=bc.compile=function(a,b){var c,d=[],e=[],f=D[o][a];if(!f){b||(b=bh(a)),c=b.length;while(c--)f=bm(b[c]),f[o]?d.push(f):e.push(f);f=D(a,bn(e,d))}return f},r.querySelectorAll&&function(){var a,b=bp,c=/\'|\\\\/g,d=/\\=[\\x20\\t\\r\\n\\f]*([^\'"\\]]*)[\\x20\\t\\r\\n\\f]*\\]/g,e=[":focus"],f=[":active",":focus"],h=s.matchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.oMatchesSelector||s.msMatchesSelector;X(function(a){a.innerHTML="<select><option selected=\'\'></option></select>",a.querySelectorAll("[selected]").length||e.push("\\\\["+E+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),X(function(a){a.innerHTML="<p test=\'\'></p>",a.querySelectorAll("[test^=\'\']").length&&e.push("[*^$]="+E+"*(?:\\"\\"|\'\')"),a.innerHTML="<input type=\'hidden\'/>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=new RegExp(e.join("|")),bp=function(a,d,f,g,h){if(!g&&!h&&(!e||!e.test(a))){var i,j,k=!0,l=o,m=d,n=d.nodeType===9&&a;if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){i=bh(a),(k=d.getAttribute("id"))?l=k.replace(c,"\\\\$&"):d.setAttribute("id",l),l="[id=\'"+l+"\'] ",j=i.length;while(j--)i[j]=l+i[j].join("");m=R.test(a)&&d.parentNode||d,n=i.join(",")}if(n)try{return w.apply(f,x.call(m.querySelectorAll(n),0)),f}catch(p){}finally{k||d.removeAttribute("id")}}return b(a,d,f,g,h)},h&&(X(function(b){a=h.call(b,"div");try{h.call(b,"[test!=\'\']:sizzle"),f.push("!=",J)}catch(c){}}),f=new RegExp(f.join("|")),bc.matchesSelector=function(b,c){c=c.replace(d,"=\'$1\']");if(!g(b)&&!f.test(c)&&(!e||!e.test(c)))try{var i=h.call(b,c);if(i||a||b.document&&b.document.nodeType!==11)return i}catch(j){}return bc(c,null,null,[b]).length>0})}(),e.pseudos.nth=e.pseudos.eq,e.filters=bq.prototype=e.pseudos,e.setFilters=new bq,bc.attr=p.attr,p.find=bc,p.expr=bc.selectors,p.expr[":"]=p.expr.pseudos,p.unique=bc.uniqueSort,p.text=bc.getText,p.isXMLDoc=bc.isXML,p.contains=bc.contains}(a);var bc=/Until$/,bd=/^(?:parents|prev(?:Until|All))/,be=/^.[^:#\\[\\.,]*$/,bf=p.expr.match.needsContext,bg={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if(typeof a!="string")return p(a).filter(function(){for(b=0,c=h.length;b<c;b++)if(p.contains(h[b],this))return!0});g=this.pushStack("","find",a);for(b=0,c=this.length;b<c;b++){d=g.length,p.find(a,this[b],g);if(b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}}return g},has:function(a){var b,c=p(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(p.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bj(this,a,!1),"not",a)},filter:function(a){return this.pushStack(bj(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bf.test(a)?p(a,this.context).index(this[0])>=0:p.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d=0,e=this.length,f=[],g=bf.test(a)||typeof a!="string"?p(a,b||this.context):0;for(;d<e;d++){c=this[d];while(c&&c.ownerDocument&&c!==b&&c.nodeType!==11){if(g?g.index(c)>-1:p.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}}return f=f.length>1?p.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?typeof a=="string"?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?p(a,b):p.makeArray(a&&a.nodeType?[a]:a),d=p.merge(this.get(),c);return this.pushStack(bh(c[0])||bh(d[0])?d:p.unique(d))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),p.fn.andSelf=p.fn.addBack,p.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,"parentNode",c)},next:function(a){return bi(a,"nextSibling")},prev:function(a){return bi(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(c,d){var e=p.map(this,b,c);return bc.test(a)||(d=c),d&&typeof d=="string"&&(e=p.filter(d,e)),e=this.length>1&&!bg[a]?p.unique(e):e,this.length>1&&bd.test(a)&&(e=e.reverse()),this.pushStack(e,a,k.call(arguments).join(","))}}),p.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?p.find.matchesSelector(b[0],a)?[b[0]]:[]:p.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!p(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bl="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bm=/ jQuery\\d+="(?:null|\\d+)"/g,bn=/^\\s+/,bo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,bp=/<([\\w:]+)/,bq=/<tbody/i,br=/<|&#?\\w+;/,bs=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,bu=new RegExp("<(?:"+bl+")[\\\\s/>]","i"),bv=/^(?:checkbox|radio)$/,bw=/checked\\s*(?:[^=]|=\\s*.checked.)/i,bx=/\\/(java|ecma)script/i,by=/^\\s*<!(?:\\[CDATA\\[|\\-\\-)|[\\]\\-]{2}>\\s*$/g,bz={option:[1,"<select multiple=\'multiple\'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bA=bk(e),bB=bA.appendChild(e.createElement("div"));bz.optgroup=bz.option,bz.tbody=bz.tfoot=bz.colgroup=bz.caption=bz.thead,bz.th=bz.td,p.support.htmlSerialize||(bz._default=[1,"X<div>","</div>"]),p.fn.extend({text:function(a){return p.access(this,function(a){return a===b?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||e).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(p.isFunction(a))return this.each(function(b){p(this).wrapAll(a.call(this,b))});if(this[0]){var b=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return p.isFunction(a)?this.each(function(b){p(this).wrapInner(a.call(this,b))}):this.each(function(){var b=p(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(a,this),"before",this.selector)}},after:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(this,a),"after",this.selector)}},remove:function(a,b){var c,d=0;for(;(c=this[d])!=null;d++)if(!a||p.filter(a,[c]).length)!b&&c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),p.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){a.nodeType===1&&p.cleanData(a.getElementsByTagName("*"));while(a.firstChild)a.removeChild(a.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a){return p.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(bm,""):b;if(typeof a=="string"&&!bs.test(a)&&(p.support.htmlSerialize||!bu.test(a))&&(p.support.leadingWhitespace||!bn.test(a))&&!bz[(bp.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bo,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return bh(this[0])?this.length?this.pushStack(p(p.isFunction(a)?a():a),"replaceWith",a):this:p.isFunction(a)?this.each(function(b){var c=p(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=p(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;p(this).remove(),b?p(b).before(a):p(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],l=this.length;if(!p.support.checkClone&&l>1&&typeof j=="string"&&bw.test(j))return this.each(function(){p(this).domManip(a,c,d)});if(p.isFunction(j))return this.each(function(e){var f=p(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){e=p.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,g.childNodes.length===1&&(g=f);if(f){c=c&&p.nodeName(f,"tr");for(h=e.cacheable||l-1;i<l;i++)d.call(c&&p.nodeName(this[i],"table")?bC(this[i],"tbody"):this[i],i===h?g:p.clone(g,!0,!0))}g=f=null,k.length&&p.each(k,function(a,b){b.src?p.ajax?p.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):p.error("no ajax"):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(by,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),p.buildFragment=function(a,c,d){var f,g,h,i=a[0];return c=c||e,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,a.length===1&&typeof i=="string"&&i.length<512&&c===e&&i.charAt(0)==="<"&&!bt.test(i)&&(p.support.checkClone||!bw.test(i))&&(p.support.html5Clone||!bu.test(i))&&(g=!0,f=p.fragments[i],h=f!==b),f||(f=c.createDocumentFragment(),p.clean(a,c,f,d),g&&(p.fragments[i]=h&&f)),{fragment:f,cacheable:g}},p.fragments={},p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(c){var d,e=0,f=[],g=p(c),h=g.length,i=this.length===1&&this[0].parentNode;if((i==null||i&&i.nodeType===11&&i.childNodes.length===1)&&h===1)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),p(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),p.extend({clone:function(a,b,c){var d,e,f,g;p.support.html5Clone||p.isXMLDoc(a)||!bu.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bB.innerHTML=a.outerHTML,bB.removeChild(g=bB.firstChild));if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!p.isXMLDoc(a)){bE(a,g),d=bF(a),e=bF(g);for(f=0;d[f];++f)e[f]&&bE(d[f],e[f])}if(b){bD(a,g);if(c){d=bF(a),e=bF(g);for(f=0;d[f];++f)bD(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var f,g,h,i,j,k,l,m,n,o,q,r,s=b===e&&bA,t=[];if(!b||typeof b.createDocumentFragment=="undefined")b=e;for(f=0;(h=a[f])!=null;f++){typeof h=="number"&&(h+="");if(!h)continue;if(typeof h=="string")if(!br.test(h))h=b.createTextNode(h);else{s=s||bk(b),l=b.createElement("div"),s.appendChild(l),h=h.replace(bo,"<$1></$2>"),i=(bp.exec(h)||["",""])[1].toLowerCase(),j=bz[i]||bz._default,k=j[0],l.innerHTML=j[1]+h+j[2];while(k--)l=l.lastChild;if(!p.support.tbody){m=bq.test(h),n=i==="table"&&!m?l.firstChild&&l.firstChild.childNodes:j[1]==="<table>"&&!m?l.childNodes:[];for(g=n.length-1;g>=0;--g)p.nodeName(n[g],"tbody")&&!n[g].childNodes.length&&n[g].parentNode.removeChild(n[g])}!p.support.leadingWhitespace&&bn.test(h)&&l.insertBefore(b.createTextNode(bn.exec(h)[0]),l.firstChild),h=l.childNodes,l.parentNode.removeChild(l)}h.nodeType?t.push(h):p.merge(t,h)}l&&(h=l=s=null);if(!p.support.appendChecked)for(f=0;(h=t[f])!=null;f++)p.nodeName(h,"input")?bG(h):typeof h.getElementsByTagName!="undefined"&&p.grep(h.getElementsByTagName("input"),bG);if(c){q=function(a){if(!a.type||bx.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(f=0;(h=t[f])!=null;f++)if(!p.nodeName(h,"script")||!q(h))c.appendChild(h),typeof h.getElementsByTagName!="undefined"&&(r=p.grep(p.merge([],h.getElementsByTagName("script")),q),t.splice.apply(t,[f+1,0].concat(r)),f+=r.length)}return t},cleanData:function(a,b){var c,d,e,f,g=0,h=p.expando,i=p.cache,j=p.support.deleteExpando,k=p.event.special;for(;(e=a[g])!=null;g++)if(b||p.acceptData(e)){d=e[h],c=d&&i[d];if(c){if(c.events)for(f in c.events)k[f]?p.event.remove(e,f):p.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,p.deletedIds.push(d))}}}}),function(){var a,b;p.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \\/]([\\w.]+)/.exec(a)||/(webkit)[ \\/]([\\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(a)||/(msie) ([\\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=p.uaMatch(g.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),p.browser=b,p.sub=function(){function a(b,c){return new a.fn.init(b,c)}p.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function c(c,d){return d&&d instanceof p&&!(d instanceof a)&&(d=a(d)),p.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(e);return a}}();var bH,bI,bJ,bK=/alpha\\([^)]*\\)/i,bL=/opacity=([^)]*)/,bM=/^(top|right|bottom|left)$/,bN=/^(none|table(?!-c[ea]).+)/,bO=/^margin/,bP=new RegExp("^("+q+")(.*)$","i"),bQ=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),bR=new RegExp("^([-+])=("+q+")","i"),bS={},bT={position:"absolute",visibility:"hidden",display:"block"},bU={letterSpacing:0,fontWeight:400},bV=["Top","Right","Bottom","Left"],bW=["Webkit","O","Moz","ms"],bX=p.fn.toggle;p.fn.extend({css:function(a,c){return p.access(this,function(a,c,d){return d!==b?p.style(a,c,d):p.css(a,c)},a,c,arguments.length>1)},show:function(){return b$(this,!0)},hide:function(){return b$(this)},toggle:function(a,b){var c=typeof a=="boolean";return p.isFunction(a)&&p.isFunction(b)?bX.apply(this,arguments):this.each(function(){(c?a:bZ(this))?p(this).show():p(this).hide()})}}),p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bH(a,"opacity");return c===""?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var f,g,h,i=p.camelCase(c),j=a.style;c=p.cssProps[i]||(p.cssProps[i]=bY(j,i)),h=p.cssHooks[c]||p.cssHooks[i];if(d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];g=typeof d,g==="string"&&(f=bR.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(p.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!p.cssNumber[i]&&(d+="px");if(!h||!("set"in h)||(d=h.set(a,d,e))!==b)try{j[c]=d}catch(k){}},css:function(a,c,d,e){var f,g,h,i=p.camelCase(c);return c=p.cssProps[i]||(p.cssProps[i]=bY(a.style,i)),h=p.cssHooks[c]||p.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=bH(a,c)),f==="normal"&&c in bU&&(f=bU[c]),d||e!==b?(g=parseFloat(f),d||p.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?bH=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h[c],d===""&&!p.contains(b.ownerDocument,b)&&(d=p.style(b,c)),bQ.test(d)&&bO.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:e.documentElement.currentStyle&&(bH=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return e==null&&f&&f[b]&&(e=f[b]),bQ.test(e)&&!bM.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),e===""?"auto":e}),p.each(["height","width"],function(a,b){p.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth===0&&bN.test(bH(a,"display"))?p.swap(a,bT,function(){return cb(a,b,d)}):cb(a,b,d)},set:function(a,c,d){return b_(a,c,d?ca(a,b,d,p.support.boxSizing&&p.css(a,"boxSizing")==="border-box"):0)}}}),p.support.opacity||(p.cssHooks.opacity={get:function(a,b){return bL.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=p.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&p.trim(f.replace(bK,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bK.test(f)?f.replace(bK,e):f+" "+e}}),p(function(){p.support.reliableMarginRight||(p.cssHooks.marginRight={get:function(a,b){return p.swap(a,{display:"inline-block"},function(){if(b)return bH(a,"marginRight")})}}),!p.support.pixelPosition&&p.fn.position&&p.each(["top","left"],function(a,b){p.cssHooks[b]={get:function(a,c){if(c){var d=bH(a,b);return bQ.test(d)?p(a).position()[b]+"px":d}}}})}),p.expr&&p.expr.filters&&(p.expr.filters.hidden=function(a){return a.offsetWidth===0&&a.offsetHeight===0||!p.support.reliableHiddenOffsets&&(a.style&&a.style.display||bH(a,"display"))==="none"},p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)}),p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bV[d]+b]=e[d]||e[d-2]||e[0];return f}},bO.test(a)||(p.cssHooks[a+b].set=b_)});var cd=/%20/g,ce=/\\[\\]$/,cf=/\\r?\\n/g,cg=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ch=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ch.test(this.nodeName)||cg.test(this.type))}).map(function(a,b){var c=p(this).val();return c==null?null:p.isArray(c)?p.map(c,function(a,c){return{name:b.name,value:a.replace(cf,"\\r\\n")}}):{name:b.name,value:c.replace(cf,"\\r\\n")}}).get()}}),p.param=function(a,c){var d,e=[],f=function(a,b){b=p.isFunction(b)?b():b==null?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=p.ajaxSettings&&p.ajaxSettings.traditional);if(p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){f(this.name,this.value)});else for(d in a)ci(d,a[d],c,f);return e.join("&").replace(cd,"+")};var cj,ck,cl=/#.*$/,cm=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,cn=/^(?:about|app|app\\-storage|.+\\-extension|file|res|widget):$/,co=/^(?:GET|HEAD)$/,cp=/^\\/\\//,cq=/\\?/,cr=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,cs=/([?&])_=[^&]*/,ct=/^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,cu=p.fn.load,cv={},cw={},cx=["*/"]+["*"];try{ck=f.href}catch(cy){ck=e.createElement("a"),ck.href="",ck=ck.href}cj=ct.exec(ck.toLowerCase())||[],p.fn.load=function(a,c,d){if(typeof a!="string"&&cu)return cu.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),p.isFunction(c)?(d=c,c=b):c&&typeof c=="object"&&(f="POST"),p.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?p("<div>").append(a.replace(cr,"")).find(e):a)}),this},p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.on(b,a)}}),p.each(["get","post"],function(a,c){p[c]=function(a,d,e,f){return p.isFunction(d)&&(f=f||e,e=d,d=b),p.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),p.extend({getScript:function(a,c){return p.get(a,b,c,"script")},getJSON:function(a,b,c){return p.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cB(a,p.ajaxSettings):(b=a,a=p.ajaxSettings),cB(a,b),a},ajaxSettings:{url:ck,isLocal:cn.test(cj[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cx},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:cz(cv),ajaxTransport:cz(cw),ajax:function(a,c){function y(a,c,f,i){var k,s,t,u,w,y=c;if(v===2)return;v=2,h&&clearTimeout(h),g=b,e=i||"",x.readyState=a>0?4:0,f&&(u=cC(l,x,f));if(a>=200&&a<300||a===304)l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(p.lastModified[d]=w),w=x.getResponseHeader("Etag"),w&&(p.etag[d]=w)),a===304?(y="notmodified",k=!0):(k=cD(l,u),y=k.state,s=k.data,t=k.error,k=!t);else{t=y;if(!y||a)y="error",a<0&&(a=0)}x.status=a,x.statusText=(c||y)+"",k?o.resolveWith(m,[s,y,x]):o.rejectWith(m,[x,y,t]),x.statusCode(r),r=b,j&&n.trigger("ajax"+(k?"Success":"Error"),[x,l,k?s:t]),q.fireWith(m,[x,y]),j&&(n.trigger("ajaxComplete",[x,l]),--p.active||p.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d,e,f,g,h,i,j,k,l=p.ajaxSetup({},c),m=l.context||l,n=m!==l&&(m.nodeType||m instanceof p)?p(m):p.event,o=p.Deferred(),q=p.Callbacks("once memory"),r=l.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=u[c]=u[c]||a,t[a]=b}return this},getAllResponseHeaders:function(){return v===2?e:null},getResponseHeader:function(a){var c;if(v===2){if(!f){f={};while(c=cm.exec(e))f[c[1].toLowerCase()]=c[2]}c=f[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(l.mimeType=a),this},abort:function(a){return a=a||w,g&&g.abort(a),y(0,a),this}};o.promise(x),x.success=x.done,x.error=x.fail,x.complete=q.add,x.statusCode=function(a){if(a){var b;if(v<2)for(b in a)r[b]=[r[b],a[b]];else b=a[x.status],x.always(b)}return this},l.url=((a||l.url)+"").replace(cl,"").replace(cp,cj[1]+"//"),l.dataTypes=p.trim(l.dataType||"*").toLowerCase().split(s),l.crossDomain==null&&(i=ct.exec(l.url.toLowerCase())||!1,l.crossDomain=i&&i.join(":")+(i[3]?"":i[1]==="http:"?80:443)!==cj.join(":")+(cj[3]?"":cj[1]==="http:"?80:443)),l.data&&l.processData&&typeof l.data!="string"&&(l.data=p.param(l.data,l.traditional)),cA(cv,l,c,x);if(v===2)return x;j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!co.test(l.type),j&&p.active++===0&&p.event.trigger("ajaxStart");if(!l.hasContent){l.data&&(l.url+=(cq.test(l.url)?"&":"?")+l.data,delete l.data),d=l.url;if(l.cache===!1){var z=p.now(),A=l.url.replace(cs,"$1_="+z);l.url=A+(A===l.url?(cq.test(l.url)?"&":"?")+"_="+z:"")}}(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(d=d||l.url,p.lastModified[d]&&x.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&x.setRequestHeader("If-None-Match",p.etag[d])),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+cx+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)x.setRequestHeader(k,l.headers[k]);if(!l.beforeSend||l.beforeSend.call(m,x,l)!==!1&&v!==2){w="abort";for(k in{success:1,error:1,complete:1})x[k](l[k]);g=cA(cw,l,c,x);if(!g)y(-1,"No Transport");else{x.readyState=1,j&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{v=1,g.send(t,y)}catch(B){if(v<2)y(-1,B);else throw B}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var cE=[],cF=/\\?/,cG=/(=)\\?(?=&|$)|\\?\\?/,cH=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cE.pop()||p.expando+"_"+cH++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&cG.test(j),m=k&&!l&&typeof i=="string"&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&cG.test(i);if(c.dataTypes[0]==="jsonp"||l||m)return f=c.jsonpCallback=p.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(cG,"$1"+f):m?c.data=i.replace(cG,"$1"+f):k&&(c.url+=(cF.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||p.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,cE.push(f)),h&&p.isFunction(g)&&g(h[0]),h=g=b}),"script"}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),p.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=e.head||e.getElementsByTagName("head")[0]||e.documentElement;return{send:function(f,g){c=e.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||g(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cI,cJ=a.ActiveXObject?function(){for(var a in cI)cI[a](0,1)}:!1,cK=0;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&cL()||cM()}:cL,function(a){p.extend(p.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(p.ajaxSettings.xhr()),p.support.ajax&&p.ajaxTransport(function(c){if(!c.crossDomain||p.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||i.readyState===4)){d=b,g&&(i.onreadystatechange=p.noop,cJ&&delete cI[g]);if(e)i.readyState!==4&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}!h&&c.isLocal&&!c.crossDomain?h=l.text?200:404:h===1223&&(h=204)}}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?i.readyState===4?setTimeout(d,0):(g=++cK,cJ&&(cI||(cI={},p(a).unload(cJ)),cI[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var cN,cO,cP=/^(?:toggle|show|hide)$/,cQ=new RegExp("^(?:([-+])=|)("+q+")([a-z%]*)$","i"),cR=/queueHooks$/,cS=[cY],cT={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=cQ.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){c=+f[2],d=f[3]||(p.cssNumber[a]?"":"px");if(d!=="px"&&h){h=p.css(e.elem,a,!0)||c||1;do i=i||".5",h=h/i,p.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&i!==1&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};p.Animation=p.extend(cW,{tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;d<e;d++)c=a[d],cT[c]=cT[c]||[],cT[c].unshift(b)},prefilter:function(a,b){b?cS.unshift(a):cS.push(a)}}),p.Tween=cZ,cZ.prototype={constructor:cZ,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(p.cssNumber[c]?"":"px")},cur:function(){var a=cZ.propHooks[this.prop];return a&&a.get?a.get(this):cZ.propHooks._default.get(this)},run:function(a){var b,c=cZ.propHooks[this.prop];return this.options.duration?this.pos=b=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):cZ.propHooks._default.set(this),this}},cZ.prototype.init.prototype=cZ.prototype,cZ.propHooks={_default:{get:function(a){var b;return a.elem[a.prop]==null||!!a.elem.style&&a.elem.style[a.prop]!=null?(b=p.css(a.elem,a.prop,!1,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(a.elem.style[p.cssProps[a.prop]]!=null||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},cZ.propHooks.scrollTop=cZ.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function(d,e,f){return d==null||typeof d=="boolean"||!a&&p.isFunction(d)&&p.isFunction(e)?c.apply(this,arguments):this.animate(c$(b,!0),d,e,f)}}),p.fn.extend({fadeTo:function(a,b,c,d){return this.filter(bZ).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=p.isEmptyObject(a),f=p.speed(b,c,d),g=function(){var b=cW(this,p.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=a!=null&&a+"queueHooks",f=p.timers,g=p._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cR.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&p.dequeue(this,a)})}}),p.each({slideDown:c$("show"),slideUp:c$("hide"),slideToggle:c$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),p.speed=function(a,b,c){var d=a&&typeof a=="object"?p.extend({},a):{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};d.duration=p.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in p.fx.speeds?p.fx.speeds[d.duration]:p.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(){p.isFunction(d.old)&&d.old.call(this),d.queue&&p.dequeue(this,d.queue)},d},p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},p.timers=[],p.fx=cZ.prototype.init,p.fx.tick=function(){var a,b=p.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||p.fx.stop()},p.fx.timer=function(a){a()&&p.timers.push(a)&&!cO&&(cO=setInterval(p.fx.tick,p.fx.interval))},p.fx.interval=13,p.fx.stop=function(){clearInterval(cO),cO=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fx.step={},p.expr&&p.expr.filters&&(p.expr.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length});var c_=/^(?:body|html)$/i;p.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){p.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(!l)return;return(d=l.body)===k?p.offset.bodyOffset(k):(c=l.documentElement,p.contains(c,k)?(typeof k.getBoundingClientRect!="undefined"&&(j=k.getBoundingClientRect()),e=da(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},p.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return p.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(p.css(a,"marginTop"))||0,c+=parseFloat(p.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=p.css(a,"position");d==="static"&&(a.style.position="relative");var e=p(a),f=e.offset(),g=p.css(a,"top"),h=p.css(a,"left"),i=(d==="absolute"||d==="fixed")&&p.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),p.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},p.fn.extend({position:function(){if(!this[0])return;var a=this[0],b=this.offsetParent(),c=this.offset(),d=c_.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(p.css(a,"marginTop"))||0,c.left-=parseFloat(p.css(a,"marginLeft"))||0,d.top+=parseFloat(p.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(p.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||e.body;while(a&&!c_.test(a.nodeName)&&p.css(a,"position")==="static")a=a.offsetParent;return a||e.body})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);p.fn[a]=function(e){return p.access(this,function(a,e,f){var g=da(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?p(g).scrollLeft():f,d?f:p(g).scrollTop()):a[e]=f},a,e,arguments.length,null)}}),p.each({Height:"height",Width:"width"},function(a,c){p.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){p.fn[e]=function(e,f){var g=arguments.length&&(d||typeof e!="boolean"),h=d||(e===!0||f===!0?"margin":"border");return p.access(this,function(c,d,e){var f;return p.isWindow(c)?c.document.documentElement["client"+a]:c.nodeType===9?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?p.css(c,d,e,h):p.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=p,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return p})})(window);'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(53);i.options.vnode=function(e){return"string"==typeof e.nodeName&&e.attributes&&"class"in e.attributes&&((Array.isArray(e.attributes.class)||"object"==typeof e.attributes.class)&&(e.attributes.class=a.cssMerge(e.attributes.class)),e.attributes.class||delete e.attributes.class),e}},function(e,t,n){"use strict";function i(e){var t=[];for(var n in e)e[n]&&t.push(n);return t.join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.objectKeysToCssClass=i},function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];for(var o in e){var s=e[o];"string"==typeof s?n.push(s):Array.isArray(s)?n=n.concat(s.map(function(e){return Array.isArray(e)?i(e):"object"==typeof e?r.classMix(e):e})):"object"==typeof s&&n.push(r.classMix(s))}return a.compact(n).join(" ")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(94),r=n(53);t.objectOrArrayToCSSClass=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},a=function(e){return i[e]};t.escapeHTML=function(e){return String(e||"").replace(/[&<>"'`=\/]/g,a)}},function(e,t,n){"use strict";function i(e,t,n){return void 0===n&&(n=""),e.length>t?e.match(new RegExp("^(&[^;&]+;|.){1,"+t+"}"))[0]+n:e}Object.defineProperty(t,"__esModule",{value:!0}),t.stringTruncate=i},function(e,t,n){"use strict";function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}Object.defineProperty(t,"__esModule",{value:!0}),t.escapeRegExp=i},function(e,t,n){"use strict";function i(e,t,n){return e.split(new RegExp("("+a.escapeRegExp(t)+")","gi")).map(function(e,t){return t%2==1?n(e):e})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(48);t.splitWithReplace=i},function(e,t,n){"use strict";function i(e){return e.toLowerCase().replace(/\s?[_-]+(\w)/g,function(e,t){return t.toUpperCase()})}Object.defineProperty(t,"__esModule",{value:!0}),t.toCamelCase=i},function(e,t,n){"use strict";function i(e){var t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},n="";for(var i in t)for(;e>=t[i];)n+=i,e-=t[i];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.romanize=i},function(e,t,n){"use strict";(function(e){function n(e,t){var n=Math.round(e/1e3),i=Math.floor(n/3600);n-=3600*i;var a=Math.floor(n/60);n-=60*a;var r=n;if(t)return(i<10?"0":"")+i+":"+(a<10?"0":"")+a+":"+(r<10?"0":"")+r;var o=[];return i>0&&o.push(i,__("hour(s)")),a>0&&o.push(a,__("minute(s)")),o.push(r,__("second(s)")),o.join(" ")}function i(e){var t=["january","february","march","april","may","june","july","august","september","october","november","december"],n=new Date(e),i=new Date,a=n.getFullYear(),r=i.getFullYear(),o=[n.getDate(),n.getMonth(),a].join("/"),s=[i.getDate(),i.getMonth(),r].join("/"),l=[("0"+n.getHours()).slice(-2),("0"+n.getMinutes()).slice(-2)].join(":");return o===s?l:n.getDate()+" "+__(t[n.getMonth()])+(a===r?"":" "+a)+", "+l}function a(t,n){var i=t.split(":"),a=new Date;a.setHours(i[0]),a.setMinutes(i[1]),a.setSeconds(i[2]);var r=a.toLocaleTimeString(e("#current_user_locale").html());return n||(r=r.substr(0,r.lastIndexOf(":"))+r.substr(r.lastIndexOf(":")+3)),navigator.appVersion.indexOf("Mac")>-1?r.split(" ").shift():r}function r(){var e,t,n=new Date,i=-180,a=-120,r=e=new Date(Date.UTC(n.getUTCFullYear(),2,31,1,0,0)),o=t=new Date(Date.UTC(n.getUTCFullYear(),9,31,1,0,0));return e.setUTCDate(r.getUTCDate()-r.getUTCDay()),t.setUTCDate(o.getUTCDate()-o.getUTCDay()),n>e&&n<t?i:a}Object.defineProperty(t,"__esModule",{value:!0}),t.getElapsedTimeFormated=n,t.getDateTimeFormated=i,t.getLocaleTime=a,t.getServerTimezoneOffset=r}).call(t,n(0))},function(e,t,n){"use strict";function i(e,t,n,i){return[t,n,i][1==e%10&&11!=e%100?0:2<=e%10&&4>=e%10&&(10>e%100||20<=e%100)?1:2]}Object.defineProperty(t,"__esModule",{value:!0}),t.pluraliseRu=i},function(e,t,n){"use strict";function i(e,t,n){return[t,n][1===e?0:1]}Object.defineProperty(t,"__esModule",{value:!0}),t.pluraliseEn=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChathostPreviewHost=function(e){return"//mobile-edge"+e+".bcrncdn.com"}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(168);e.fn.manageErrors=function(t){if(void 0!=t&&null!=t)for(var n in t){var i=t[n];if("object"==typeof i)e(this).manageErrors(i);else{var a=e(this).attr("form_id"),r="#"+n+(a?", #"+n+"_"+a:"");e(this).find(r).closest(".form_row").find(".form_errors_in_row").html(i)}}},e.fn.onSubmittedToRemoteSuccess=function(t,n,i,a){var r=!0;return void 0!=t&&"function"==typeof t?t(e(this),n,i,a):0!=t&&(r=!1,e(this).removeAttr("onsubmit").unbind(".submitToRemote").submit()),r},e.fn.submittedToRemote=function(t,n,i,a){return e(this).attr("onsubmit","return false;").find('button, input[type="submit"], input[type="image"]').removeAttr("disabled").end().find(".spinner").hide(),e(this).unbind(".submitToRemote").bind("submit.submitToRemote",function(){if(e(this).find(".form_errors_row").remove(),e(this).find(".form_errors_in_row").html(""),e(this).find('button, input[type="submit"], input[type="image"]').attr("disabled","disabled"),e(this).find(".spinner").show(),"function"==typeof i){var r=i(e(this));if(void 0!==r&&!r)return!1}return e.ajax({data:e(this).serializeArray(),url:e(this).attr("action"),dataType:"json",context:e(this),type:"post",success:function(i,r,o){var s=!0;if("object"==typeof i&&null!=i&&void 0!=i.status){if("simple_error"===i.status){var l='<div class="form_error_list"><div class="form_error">',c="</div></div>";if(i.status="error",void 0!=i.global&&(i.global=l+__(i.global)+c),void 0!=i.fields){var u=function(e){if(i.fields.hasOwnProperty(e)){var t="",n=i.fields[e];n instanceof Array?n.forEach(function(e){t+=__(e)}):t=__(n),i.fields[e]=l+t+c}};for(var d in i.fields)u(d)}}"error"===i.status?(void 0!=i.global&&e(this).find(".form_data").prepend('<div class="form_errors_row">'+i.global+"</div>"),void 0!=i.message&&e(this).find(".form_data").prepend('<div class="form_errors_row"><div class="form_error_list"><div class="form_error">'+i.message+"</div></div></div>"),void 0!=i.fields&&e(this).manageErrors(i.fields),void 0!=n&&"function"==typeof n&&n(i,r,o)):"success"===i.status?s=e(this).onSubmittedToRemoteSuccess(t,i,r,o):(void 0!=a&&"function"==typeof a&&a(this,"Incorrect status",r,o),void 0!=window.console&&console.log("[ "+r+" | "+i.status+" ] "+i))}else void 0!=a&&"function"==typeof a&&a(this,"Incorrect data",r,o),void 0!=window.console&&console.log("[ "+r+" ] "+i);s&&(e(this).find('button, input[type="submit"], input[type="image"]').removeAttr("disabled"),e(this).find(".spinner").hide())},error:function(t,n,i){e(this).find('button, input[type="submit"], input[type="image"]').removeAttr("disabled"),e(this).find(".spinner").hide(),void 0!=a&&"function"==typeof a&&a(this,i,n,t),void 0!=window.console&&console.log("[ "+n+" ] "+i)}}),!1}),this},e.fn.unbindSubmittedToRemote=function(){e(this).removeAttr("onsubmit").unbind(".submitToRemote")},e.jlNamespace={$popupBlock:null,$popupTitle:null,$popupClose:null,$popupContent:null,$contentContainer:null,popupOptions:null,popupAllOptions:null},e.fn.openPopup=function(e){new i.default(this,e);return this},e.fn.bongacamsPopup=function(t,n,i,a,r,o,s){return e.fn.openPopup({container:t,onDisplay:n,title:i,afterDisplay:a,closeButton:r,v2:o,onClose:s})},e.bongacamsPopupClose=function(t,n){function i(){null!=e.jlNamespace.$contentContainer&&(e.jlNamespace.$contentContainer.html(e.jlNamespace.$popupContent.children()),e.jlNamespace.$contentContainer=null,void 0!=n&&"function"==typeof n&&n())}e.jlNamespace.$popupBlock&&(t?e.jlNamespace.$popupBlock.fadeOut(200,i):(e.jlNamespace.$popupBlock.hide(),i()))},e.fn.screenCenter=function(){var t=(e(window).height()-this.outerHeight(!0))/2+e(window).scrollTop(),n=(e(window).width()-this.outerWidth(!0))/2+e(window).scrollLeft();return this.css({position:"absolute",top:t>0?t+"px":"0",left:n>0?n+"px":"0"}),this},e.fn.max_lengthable=function(t){return e(this).unbind(".max_lengthable").bind("keyup.max_lengthable focus.max_lengthable",function(){var n=e(this).closest(".form_row"),i=n.find(".notifier");0==i.length&&(i=e('<div class="notifier">\x3c!-- --\x3e</div>'),e(this).parent().after(i));var a=t-e(this).val().length;a>=0?(i.removeClass("too_long"),i.html(a+" "+__("characters left"))):(i.addClass("too_long"),i.html(-a+" "+__("characters exceeded")))}).bind("blur.max_lengthable",function(){e(this).closest(".form_row").find(".notifier").remove()}),this},e.fn.unmax_lengthable=function(){e(this).unbind(".max_lengthable"),e(this).closest("form_row").find(".notifier").remove()},e.fn.numbersOnly=function(){return this.each(function(){e(this).bind("keydown",function(e){return 8==e.keyCode||189==e.keyCode||109==e.keyCode||e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105})})},e.fn.sort=function(){return this.pushStack([].sort.apply(this,arguments),[])}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(t,n){var i=e.extend({container:null,onDisplay:null,title:"",afterDisplay:null,closeButton:null,v2:!1,onClose:null,sticky:!1,options:null},n);if(i.container.length){if(null===e.jlNamespace.$popupBlock){var a=e("#bongacams_popup");if(a.length)return void alert("Can't work with BongaCams popups: popup element found on page");var r=i.v2?"bongacams_popup_v2":"bongacams_popup";e("body").append('<div id="bongacams_popup" class="'+r+'"><div class="popup_header"><div class="popup_title"></div><div class="popup_close"><div class="popup_close_arrow"></div></div><div class="clr"></div></div><div class="popup_content"></div></div>'),a=e("#bongacams_popup"),a.find(".popup_close").click(function(){e.bongacamsPopupClose(!0,e.jlNamespace.popupAllOptions.onClose)}),e.jlNamespace.$popupBlock=a,e.jlNamespace.$popupContent=a.find(".popup_content");var o=a.find(".popup_header");e.jlNamespace.$popupTitle=o.find(".popup_title"),e.jlNamespace.$popupClose=o.find(".popup_close")}e(t).attr("onclick","return false;"),e(t).off("click").on("click",function(){return e.jlNamespace.popupAllOptions=i,e.jlNamespace.popupOptions=i.options,e.bongacamsPopupClose(),e("#bongacams_popup").toggleClass("sticky_popup",i.sticky),e.jlNamespace.$contentContainer=i.container,void 0!==i.title&&!1!==i.title?e.jlNamespace.$popupTitle.html(i.title).removeClass("popup_title_empty"):e.jlNamespace.$popupTitle.html("").addClass("popup_title_empty"),e.jlNamespace.$popupClose.html(void 0!==i.closeButton&&!1!==i.closeButton&&null!==i.closeButton?i.closeButton:'<div class="popup_close_arrow"></div>'),e.jlNamespace.$popupContent.html(i.container.children()),"function"==typeof i.onDisplay&&i.onDisplay(),e.jlNamespace.$popupBlock.css({top:e(this).offset().top+"px",left:e(this).offset().left+"px"}).show(),"function"==typeof i.afterDisplay&&i.afterDisplay(),!1})}}return t}();t.default=n}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(49),a=n(5);t.getRawUrl=function(e){var t=a.default.getState().urls;return-1!==e.indexOf("//")?e:i.getUrl(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(49),a=n(5);t.url_for=function(e,t){var n=a.default.getState().urls,r=i.getUrl(n,e)||"#";return t&&(r=location.origin+(r.startsWith("/")?"":"/")+r),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),a=function(){function e(){this.playing=!1,this.authToken="",this.streamUrl="",this.startOffset=0,this.volume=.75,this.renditions=[],this.currentRendition="auto",this.userClick=!1}return e.prototype.play=function(){this.playing=!0},e.prototype.pause=function(){this.playing=!1},e.prototype.close=function(){this.playing=!1},e.prototype.destroy=function(){},e.prototype.setVolume=function(e){this.volume=e},e.prototype.getVolume=function(){return this.volume},e.prototype.getHTMLVideoElement=function(){return null},e.prototype.setAuthToken=function(e){this.authToken=e},e.prototype.setStreamUrl=function(e){this.streamUrl=e},e.prototype.getStreamUrl=function(){return this.streamUrl},Object.defineProperty(e,"available",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.getAuthTokenQuery=function(){return this.authToken?"?wmsAuthSign="+this.authToken:""},e.prototype.setStartOffset=function(e){this.startOffset=i.clamp(e,0,1)},e.prototype.seek=function(e){},e.prototype.setRendition=function(e){},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(367);t.getIndexedDB=i.getIndexedDB;var a=n(368);t.isIndexedDBAvailable=a.isIndexedDBAvailable;var r=n(369);t.IndexedDBStore=r.IndexedDBStore},,function(e,t,n){"use strict";(function(e){function i(t,n){if(!t.length)return!1;var i=t.find("video.js-video_player");n.length&&i.length&&window.mejs&&(window.mejs.MepDefaults.overlayPlayText=n.data("str-op"),window.mejs.MepDefaults.playText=n.data("str_p"),window.mejs.MepDefaults.pauseText=n.data("str_ps"),window.mejs.MepDefaults.muteText=n.data("str_m"),window.mejs.MepDefaults.unmuteText=n.data("str_um"),window.mejs.MepDefaults.fullscreenText=n.data("str_fs"),i.mediaelementplayer({success:function(e,t,i){e.addEventListener("play",function(e){n.find(".mejs-overlay-play .mejs-overlay-button").removeClass("__replay")}),e.addEventListener("ended",function(e){n.find(".mejs-overlay-play .mejs-overlay-button").addClass("__replay")},!1)}}),i[0].play()),t.find(".sip_bonus_link").on("click",function(){t.find(".js-video_popup_close").trigger("click")}),t.find(".js-video_popup_close").on("click",function(t){t.preventDefault(),i.length&&i[0].currentTime>0&&!i[0].paused&&!i[0].ended&&i[0].pause(),e.fancybox.close()}),t.addClass("__inited"),a(i)}function a(e){var t=!0;e&&(e.hasClass("__disabled")||e.hasClass("__closed"))&&(t=!1),t&&(e&&e.addClass("__closed"),r("closed"))}function r(t){var n=e("#spygasm_intro_video");n&&n.data("event_url")&&n.data("event_name")&&e.post(n.data("event_url"),o.getCSRFData({type:n.data("event_name")}))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4);t.initIntroVideo=i,t.sendCloseEvent=a}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(t,n,i,a){return new(i||(i=e))(function(e,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(t){t.done?e(t.value):new i(function(e){e(t.value)}).then(o,s)}l((a=a.apply(t,n||[])).next())})},r=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,r&&(o=2&n[0]?r.return:n[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],r=0}finally{a=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,r,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var o=n(172),s=72e5,l=function(){function t(){this.idb=new o.IndexedDBStore("archiveGameSettings"),this.initPromise=null,this.data={}}return t.isOutdated=function(e){var t=e.split("|"),n=(t[0],t[1],t[2]);return!n||(+n||0)<Date.now()-s},t.prototype.openIdb=function(){var n=this;return this.initPromise||(this.initPromise=function(){return a(n,void 0,void 0,function(){var n,i=this;return r(this,function(o){switch(o.label){case 0:return[4,this.idb.open()];case 1:return o.sent(),[4,this.idb.getKeys()];case 2:return n=o.sent(),[2,e.all(n.map(function(e){return a(i,void 0,void 0,function(){var n,i;return r(this,function(a){switch(a.label){case 0:return t.isOutdated(e)?[4,this.idb.removeItem(e)]:[3,2];case 1:return a.sent(),[3,4];case 2:return n=this.data,i=e,[4,this.idb.getItem(e)];case 3:n[i]=a.sent(),a.label=4;case 4:return[2]}})})}))]}})})}()),this.initPromise.catch(function(e){return console.warn("[idb]",e)})},t.prototype.getItem=function(e){return a(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,this.openIdb()];case 1:return t.sent(),[2,this.data[e]]}})})},t.prototype.setItem=function(e,t){return a(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.openIdb()];case 1:return n.sent(),this.data[e]=t,[4,this.idb.setItem(e,t)];case 2:return[2,n.sent()]}})})},t.prototype.removeItem=function(e){return a(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,this.openIdb()];case 1:return t.sent(),delete this.data[e],[4,this.idb.removeItem(e)];case 2:return[2,t.sent()]}})})},t.prototype.getKeys=function(){return a(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.openIdb()];case 1:return e.sent(),[2,Object.keys(this.data)]}})})},t}(),c=function(){function e(){this.asyncStorage=new l}return Object.defineProperty(e,"instance",{get:function(){return e._instance?e._instance:e._instance=new e},enumerable:!0,configurable:!0}),e.getKey=function(e,t,n){return e+"|"+t+"|"+n},e.prototype.getSettings=function(t,n,o,s){return void 0===s&&(s={}),a(this,void 0,void 0,function(){var a;return r(this,function(r){switch(r.label){case 0:return[4,this.asyncStorage.getItem(e.getKey(t,n,o))];case 1:return a=r.sent(),[2,a?i({},s,a):null]}})})},e.prototype.stackSettings=function(t,n,i){return a(this,void 0,void 0,function(){var a;return r(this,function(r){switch(r.label){case 0:return i&&i.enabled?(a={},["d1_prizes","d2_prizes","prizes","sv"].map(function(e){return i[e]&&(a[e]=i[e])}),[4,this.asyncStorage.setItem(e.getKey(t,n,i.sv),a)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e}();t.default=c}).call(t,n(10))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(69),a=n(5);e(function(){var t=a.default.getState(),n=t.urls,r=t.noticeData;r&&r.token&&(e.noticeSocket=new i.SocketAdapter(n.notificationUrl,{reconnect:!0,onopen:function(t){t.send({type:"identify",data:r}),e(document).trigger("onNoticeSocketOpen")},onmessage:function(t){e(document).trigger("onNoticeSocketMessage",[t])}}))})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=function(){function t(){this.showLngHover=function(){var t=0;e("#lang_button").hover(function(){clearTimeout(t),e("#header_login_popup").is(":visible")||e("#change_lang").parents(".change_lang_wrap").show()},function(){clearTimeout(t),e("#header_login_popup").is(":visible")||(t=window.setTimeout(function(){e("#change_lang").parents(".change_lang_wrap").hide()},200))}).click(function(){var t=e("#header_login_popup");t.is(":visible")&&(t.hide(),e(this).mouseover())}),e(".change_lang_wrap").hover(function(){clearTimeout(t),e(this).bind("click.lang",function(t){e(t.target).parents(".switch_language").length&&e(".change_lang_wrap").hide()})},function(){clearTimeout(t),e(this).hide(),e("body").unbind("click.lang")})},this.showLngClick=function(){var t,n=e("#change_lang").parents(".change_lang_wrap");e("#lang_button").on("click",function(){t=n.toggle().is(":visible"),e("body").off("click.lng-switcher"),t&&e("body").on("click.lng-switcher",function(t){e(t.target).closest("#lang_button").length||(n.hide(),e("body").off("click.lng-switcher"))})})},this.switchLanguageEvent=function(){if(e(document).trigger("language:switch"),!e("html").attr("data-third_level")){var n=e(this);return e(this).hasClass("footer_lang")&&(n=e("#change_lang").find('a[data-lang="'+e(this).data("lang")+'"]')),window.location.href=t.changeUrlIfSlug(e(this).attr("href"),n,e(this).attr("country")),!1}},e.isRunetki?this.showLngClick():this.showLngHover(),e("body").on("click","a.switch_language",this.switchLanguageEvent)}return t.changeUrlIfSlug=function(t,n,a){var r=t.split("?");"/"!==location.pathname&&(r[0]+=location.pathname),t=r.join("?"),a&&(t+=-1===t.indexOf("?")?"?":"&",t+="country="+a);var o=document.getElementById("GQL_layoutData");if(o){var s=i.json_parse(o.innerText),l=n.attr("data-lang");return decodeURIComponent(t).replace(s.languageInfo.currentUrl,s.languageInfo.urls[l])}return e("#change_lang").data("has_slug")&&n.length&&n.data("old_slug")&&n.data("new_slug")&&(t=decodeURIComponent(t).replace(n.data("old_slug"),n.data("new_slug"))),t},t.ToolBar_AttachEvents=function(){e(".change_site_lang").each(function(n,i){var a=e(i),r=e("#setting_culture");r.data("lang")&&a.val(r.data("lang")),a.off("change").on("change",function(){e(document).trigger("language:switch");var n=e(this).find("option:selected"),i=n.attr("data-url");e("html").attr("data-third_level")||(i=t.changeUrlIfSlug(i,e("#change_lang").find('a[data-lang="'+e(this).val()+'"]'))),window.location.href=i})})},t}();t.default=a,e(function(){new a})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(t,n){var i=r({videoQuality:"",sexType:""},chat.performerData),a=i.videoQuality,l=i.sexType,c=n||l,u="hd"===a||"hd_720"===a,d=o.default.getState().player.layover;if("show_default"===t)return""+d.base_path+s.CHAT_FLAGS.CHAT_STATUS_AWAY+c+".jpg";if("vip"===t)return u&&d.vip_hd?d.vip_hd:d.vip;if(d.base_path_new2){if(t===s.CHAT_FLAGS.CHAT_STATUS_LIMIT||t===s.CHAT_FLAGS.CHAT_STATUS_AWAY||t===s.CHAT_FLAGS.CHAT_STATUS_OFFLINE)return d.base_path_new2+(c||"female")+"/"+t+(t===s.CHAT_FLAGS.CHAT_STATUS_LIMIT&&e("#bSignup2_btn").length&&e("#bBuyTokens").length?"free":"")+"/"+(u?"hd/":"")+e("html")[0].lang+".jpg";t=s.CHAT_FLAGS.CHAT_STATUS_AWAY}else[s.CHAT_FLAGS.CHAT_STATUS_OFFLINE,s.CHAT_FLAGS.CHAT_STATUS_PRIVATE,s.CHAT_FLAGS.CHAT_STATUS_FULL_PRIVATE,s.CHAT_FLAGS.CHAT_STATUS_GROUP].indexOf(t)>=0&&(t=s.CHAT_FLAGS.CHAT_STATUS_AWAY);return""+d.base_path+t+c+".jpg"}function a(){t.showLayover(!1)}var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),s=n(115);t.getLayoverSrc=i,t.showLayover=o.default.action(function(e,t,n){return{layover:t?{visible:!0,type:t,sex:n||"female",url:i(t,"female"!==n&&n||"")}:{visible:!1}}}),t.hideLayover=a}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(203),r=i.createStore(a.default);t.default=r},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(357),a=n(228),r=n(46),o=n(112),s=n(2),l=n(5),c=n(364),u=n(277),d=function(){function t(){var t=this;this.localVolume=1,this.defaultSoundVolume=.75,this.playerVisibilityTimer=0,this.autoPlay=!1,this.updatePoster=function(e){if(!l.default.getState().isMobile&&(e=e||chat.player,chat.performerData&&e&&e.videoElement)){var t=u.getChathostPreviewFrame(chat.localData.vsid,chat.performerData.username);e.videoElement.poster="public"!==chat.performerData.showType||chat.isPaidShow()?"":t+"?t="+Date.now()}},this.handleHideToggle_DialogFirst=function(){var t=e("#flash-toggle-dialog");t.hide(),t.hasClass("blocked")||sv.cookie.setItem("fl_pop","1",1095)},this.handleHideToggle_SecondFirst=function(){e("#flash-toggle-dialog-2").hide(),sv.cookie.setItem("fl_pop","2",1095)},r.eventDispatcher.on(o.VideoPlayerEvent.INIT,function(e){var n=t.volume;t.autoPlay&&setTimeout(function(){e.setVolume(n),e.play()},1),t.updatePoster(e)}),e("#bChat").on("onPlayStream",function(){t.updatePoster()}).on("onUserData",function(){t.showPlayerTimer(5e3),t.updatePoster()}).on("onCloseStream",function(){chat.player&&chat.player.videoElement&&chat.player.videoElement.removeAttribute("poster")}).on("onBeforeGetRoom",function(){e("#stream-container .spinner").show()})}return Object.defineProperty(t.prototype,"soundMuted",{get:function(){return this.localVolume<=0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"instance",{get:function(){return this.globalInstance=this.globalInstance||new this},enumerable:!0,configurable:!0}),t.prototype.showToggle_DialogFirst=function(t){void 0===t&&(t=!1);var n=e("#flash-toggle-dialog");n.length&&(t&&n.addClass("blocked"),this.holdPlayer(!0),n.show().find(".button-gray").off("click",this.handleHideToggle_DialogFirst).on("click",this.handleHideToggle_DialogFirst))},t.prototype.showToggle_DialogSecond=function(){var t=e("#flash-toggle-dialog-2");t.length&&(this.holdPlayer(!0),t.show().find(".button-gray").off("click",this.handleHideToggle_SecondFirst).on("click",this.handleHideToggle_SecondFirst))},t.prototype.isFlashDialogVisible=function(){return e("#playercontainer").hasClass("pl-hold")&&(e("#flash-toggle-dialog").is(":visible")||e("#flash-toggle-dialog-2").is(":visible"))},t.prototype.init=function(){var n=this,r=this,o=(l.default.getState().isFullMobile,null),u=this.defaultSoundVolume;chat.localData.promoAudioMute?u=0:s.isLocalStorageAvailable()&&null!==localStorage.getItem("chat.stream-volume")&&void 0!==chat.soundVolume?u=parseFloat(localStorage.getItem("chat.stream-volume"))||0:null!==(o=e.cookie("c_v"))&&(u=parseFloat(o)||0),c.videoSetGlobalVolume(u),void 0!==chat.setSoundVolume&&chat.setSoundVolume(u,!0),e("#player-livestatus").on("click",function(){window.chat.player.isTimeShift&&(n.autoPlay=window.chat.player.playing,window.chat.player.isTimeShift=!1,window.chat.player.destroy(),window.chat.player=a.default.create(),window.chat.player.setVolume(t.instance.volume))});var d=null;e(".pl-fullscreen-button").on("click",function(){var t=r.isFlashDialogVisible(),a=e(".pl-fullscreen-button"),o=!a.hasClass("on"),s=e(".fs-chat-divider").find(".sendInput"),l=e("#ResizablePane");if(o&&(l.data("width",l.css("width")),l.data("height",l.css("height"))),window.chat.toggleFullscreen(o))if(o&&!t&&n.hideDialogs(),a.toggleClass("on"),o){var c=s.attr("placeholder");s.data("placeholder",c),s.attr("placeholder",""),d=i.default.instance}else s.data("placeholder")&&(s.attr("placeholder",s.data("placeholder")),l.data("width")&&e("#ResizablePane, #EmbedSWFHolder").css({width:l.data("width"),height:l.data("height")}))}),e("body").hasClass("chatFullscreen")&&!e("body").hasClass("stream_only")&&(d=i.default.instance);var h=e("#sound-btn");h.on("click",function(){chat.player&&(chat.player.userClick=!0),n.toggleSound()}),this.soundMuted&&h.addClass("sound-off")},t.prototype.showPlayerTimer=function(t){e("#playercontainer").addClass("pl-init"),clearTimeout(this.playerVisibilityTimer),this.playerVisibilityTimer=window.setTimeout(function(){e("#playercontainer").removeClass("pl-init")},t)},t.prototype.hideDialogs=function(){e(document).off("click.big-dialog"),e("#playercontainer").find(".player-dialogs > div").hide(),this.holdPlayer(!1)},t.prototype.holdPlayer=function(t){e("#playercontainer").toggleClass("pl-hold",t)},Object.defineProperty(t.prototype,"volume",{get:function(){return Math.max(0,this.localVolume)},set:function(t){var n=Math.min(1,Math.max(0,t));this.localVolume=n<=0?-Math.abs(this.localVolume):n,s.isLocalStorageAvailable()&&localStorage.setItem("chat.stream-volume",""+this.localVolume),l.default.setState({soundVolume:this.localVolume}),e("#sound-btn").toggleClass("sound-off",this.soundMuted).toggleClass("sound-on",!this.soundMuted),e(document).trigger("player:volume",[n])},enumerable:!0,configurable:!0}),t.prototype.setRawVolume=function(e){var t=e<=0,n=Math.min(1,Math.abs(e));this.localVolume=t?-n:n,this.volume=this.localVolume},t.prototype.toggleSound=function(){0===this.localVolume&&(this.localVolume=-this.defaultSoundVolume),this.volume=-this.localVolume},t}();t.default=d}).call(t,n(0))},function(e,t,n){"use strict";function i(e){var t=e.type,n=e.streamName,i=e.streamUrl,s=window.chat;if(!s)throw Error("getStreamUrl: Chat is not initialized");var l=s.localData,c=s.performerData,u=s.videoServerUrl;if(!l)throw Error("getStreamUrl: missing LocalData attribute on chat");if(o.checkVSID())return r.getStreamUrl({type:t,streamName:"stream_"+c.username,streamUrl:"image"===t&&a.getChathostPreviewHost(l.vsid)||i||s.videoServerUrl,privateId:s.paidShowId||null});switch(t){case"image":return a.getChathostPreviewHost(l.vsid)+"/"+n+".jpg";case"hls":case"hlsjs":return(i||u)+"/hls/"+n+"/playlist.m3u8";case"dash":return a.getChathostPreviewHost(l.vsid)+":8443/bongamobile/"+n+"/manifest.mpd"}throw Error('Type "'+t+'" is not supported')}Object.defineProperty(t,"__esModule",{value:!0});var a=n(166),r=n(362),o=n(229);t.getStreamUrlOld=i},function(e,t,n){n(3)(n(184))},function(e,t){e.exports='!function(a){a.cookie=function(b,c,d){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(c))||null===c||void 0===c)){if(d=a.extend({},d),(null===c||void 0===c)&&(d.expires=-1),"number"==typeof d.expires){var e=d.expires,f=d.expires=new Date;f.setDate(f.getDate()+e)}return c=String(c),document.cookie=[encodeURIComponent(b),"=",d.raw?c:encodeURIComponent(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}d=c||{};for(var j,g=d.raw?function(a){return a}:decodeURIComponent,h=document.cookie.split("; "),i=0;j=h[i]&&h[i].split("=");i++)if(g(j[0])===b)return g(j[1]||"");return null}}(jQuery);'},function(e,t,n){n(3)(n(186))},function(e,t){e.exports='/*!\n * jQuery Tools v1.2.7 - The missing UI library for the Web\n *\n * scrollable/scrollable.js\n * scrollable/scrollable.autoscroll.js\n * scrollable/scrollable.navigator.js\n * tabs/tabs.js\n * tabs/tabs.slideshow.js\n * toolbox/toolbox.flashembed.js\n * tooltip/tooltip.js\n * validator/validator.js\n *\n * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.\n *\n * http://flowplayer.org/tools/\n *\n * jquery.event.wheel.js - rev 1\n * Copyright (c) 2008, Three Dub Media (http://threedubmedia.com)\n * Liscensed under the MIT License (MIT-LICENSE.txt)\n * http://www.opensource.org/licenses/mit-license.php\n * Created: 2008-07-01 | Updated: 2008-07-14\n *\n * -----\n *\n */\n!function(a){function c(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}function e(b,e){var f=this,g=b.add(f),h=b.children(),i=0,j=e.vertical;if(d||(d=f),h.length>1&&(h=a(e.items,b)),e.size>1&&(e.circular=!1),a.extend(f,{getConf:function(){return e},getIndex:function(){return i},getSize:function(){return f.getItems().size()},getNaviButtons:function(){return n.add(o)},getRoot:function(){return b},getItemWrap:function(){return h},getItems:function(){return h.find(e.item).not("."+e.clonedClass)},move:function(a,b){return f.seekTo(i+a,b)},next:function(a){return f.move(e.size,a)},prev:function(a){return f.move(-e.size,a)},begin:function(a){return f.seekTo(0,a)},end:function(a){return f.seekTo(f.getSize()-1,a)},focus:function(){return d=f,f},addItem:function(b){return b=a(b),e.circular?(h.children().last().before(b),h.children().first().replaceWith(b.clone().addClass(e.clonedClass))):(h.append(b),o.removeClass("disabled")),g.trigger("onAddItem",[b]),f},seekTo:function(b,c,k){if(b.jquery||(b*=1),e.circular&&0===b&&-1==i&&0!==c)return f;if(!e.circular&&0>b||b>f.getSize()||-1>b)return f;var l=b;b.jquery?b=f.getItems().index(b):l=f.getItems().eq(b);var m=a.Event("onBeforeSeek");if(!k&&(g.trigger(m,[b,c]),m.isDefaultPrevented()||!l.length))return f;var n=j?{top:-l.position().top}:{left:-l.position().left};return i=b,d=f,void 0===c&&(c=e.speed),h.animate(n,c,e.easing,k||function(){g.trigger("onSeek",[b])}),f}}),a.each(["onBeforeSeek","onSeek","onAddItem"],function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){return b&&a(f).on(c,b),f}}),e.circular){var k=f.getItems().slice(-1).clone().prependTo(h),l=f.getItems().eq(1).clone().appendTo(h);k.add(l).addClass(e.clonedClass),f.onBeforeSeek(function(a,b,c){return a.isDefaultPrevented()?void 0:-1==b?(f.seekTo(k,c,function(){f.end(0)}),a.preventDefault()):void(b==f.getSize()&&f.seekTo(l,c,function(){f.begin(0)}))});var m=b.parents().add(b).filter(function(){return"none"===a(this).css("display")?!0:void 0});m.length?(m.show(),f.seekTo(0,0,function(){}),m.hide()):f.seekTo(0,0,function(){})}var n=c(b,e.prev).click(function(a){a.stopPropagation(),f.prev()}),o=c(b,e.next).click(function(a){a.stopPropagation(),f.next()});if(e.circular||(f.onBeforeSeek(function(a,b){setTimeout(function(){a.isDefaultPrevented()||(n.toggleClass(e.disabledClass,0>=b),o.toggleClass(e.disabledClass,b>=f.getSize()-1))},1)}),e.initialIndex||n.addClass(e.disabledClass)),f.getSize()<2&&n.add(o).addClass(e.disabledClass),e.mousewheel&&a.fn.mousewheel&&b.mousewheel(function(a,b){return e.mousewheel?(f.move(0>b?1:-1,e.wheelSpeed||50),!1):void 0}),e.touch){var p={};h[0].ontouchstart=function(a){var b=a.touches[0];p.x=b.clientX,p.y=b.clientY},h[0].ontouchmove=function(a){if(1==a.touches.length&&!h.is(":animated")){var b=a.touches[0],c=p.x-b.clientX,d=p.y-b.clientY;f[j&&d>0||!j&&c>0?"next":"prev"](),a.preventDefault()}}}e.keyboard&&a(document).on("keydown.scrollable",function(b){if(!(!e.keyboard||b.altKey||b.ctrlKey||b.metaKey||a(b.target).is(":input")||"static"!=e.keyboard&&d!=f)){var c=b.keyCode;return!j||38!=c&&40!=c?j||37!=c&&39!=c?void 0:(f.move(37==c?-1:1),b.preventDefault()):(f.move(38==c?-1:1),b.preventDefault())}}),e.initialIndex&&f.seekTo(e.initialIndex,0,function(){})}a.tools=a.tools||{version:"@VERSION"},a.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var d;a.fn.scrollable=function(b){var c=this.data("scrollable");return c?c:(b=a.extend({},a.tools.scrollable.conf,b),this.each(function(){c=new e(a(this),b),a(this).data("scrollable",c)}),b.api?c:this)}}(jQuery),function(a){var b=a.tools.scrollable;b.autoscroll={conf:{autoplay:!0,interval:3e3,autopause:!0}},a.fn.autoscroll=function(c){"number"==typeof c&&(c={interval:c});var e,d=a.extend({},b.autoscroll.conf,c);return this.each(function(){function h(){f&&clearTimeout(f),f=setTimeout(function(){b.next()},d.interval)}var f,b=a(this).data("scrollable"),c=b.getRoot(),g=!1;b&&(e=b),b.play=function(){f||(g=!1,c.on("onSeek",h),h())},b.pause=function(){f=clearTimeout(f),c.off("onSeek",h)},b.resume=function(){g||b.play()},b.stop=function(){g=!0,b.pause()},d.autopause&&c.add(b.getNaviButtons()).hover(b.pause,b.resume),d.autoplay&&b.play()}),d.api?e:this}}(jQuery),function(a){function c(b,c){var d=a(c);return d.length<2?d:b.parent().find(c)}var b=a.tools.scrollable;b.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}},a.fn.navigator=function(d){"string"==typeof d&&(d={navi:d}),d=a.extend({},b.navigator.conf,d);var e;return this.each(function(){function k(a,c,d){b.seekTo(c),d.preventDefault(),i&&history.pushState({i:c},"")}function l(){return f.find(d.naviItem||"> *")}function m(b){var c=a("<"+(d.naviItem||"a")+"/>").click(function(c){k(a(this),b,c)});return 0===b&&c.addClass(h),d.indexed&&c.text(b+1),d.idPrefix&&c.attr("id",d.idPrefix+b),c.appendTo(f)}var b=a(this).data("scrollable"),f=d.navi.jquery?d.navi:c(b.getRoot(),d.navi),g=b.getNaviButtons(),h=d.activeClass,i=d.history&&!!history.pushState,j=b.getConf().size;b&&(e=b),b.getNaviButtons=function(){return g.add(f)},i&&(history.pushState({i:0},""),a(window).on("popstate",function(a){var c=a.originalEvent.state;c&&b.seekTo(c.i)})),l().length?l().each(function(b){a(this).click(function(c){k(a(this),b,c)})}):a.each(b.getItems(),function(a){a%j==0&&m(a)}),b.onBeforeSeek(function(a,b){setTimeout(function(){if(!a.isDefaultPrevented()){var c=b/j,d=l().eq(c);d.length&&l().removeClass(h).eq(c).addClass(h)}},1)}),b.onAddItem(function(a,c){var d=b.getItems().index(c);d%j==0&&m(d)})}),d.api?e:this}}(jQuery),function(a){function e(c,d,e){var j,f=this,g=c.add(this),h=c.find(e.tabs),i=d.jquery?d:c.children(d);h.length||(h=c.children()),i.length||(i=c.parent().find(d)),i.length||(i=a(d)),a.extend(this,{click:function(d,i){var k=h.eq(d),l=!c.data("tabs");if("string"==typeof d&&d.replace("#","")&&(k=h.filter(\'[href*="\'+d.replace("#","")+\'"]\'),d=Math.max(h.index(k),0)),e.rotate){var m=h.length-1;if(0>d)return f.click(m,i);if(d>m)return f.click(0,i)}if(!k.length){if(j>=0)return f;d=e.initialIndex,k=h.eq(d)}if(d===j)return f;if(i=i||a.Event(),i.type="onBeforeClick",g.trigger(i,[d]),!i.isDefaultPrevented()){var n=l?e.initialEffect&&e.effect||"default":e.effect;return b[n].call(f,d,function(){j=d,i.type="onClick",g.trigger(i,[d])}),h.removeClass(e.current),k.addClass(e.current),f}},getConf:function(){return e},getTabs:function(){return h},getPanes:function(){return i},getCurrentPane:function(){return i.eq(j)},getCurrentTab:function(){return h.eq(j)},getIndex:function(){return j},next:function(){return f.click(j+1)},prev:function(){return f.click(j-1)},destroy:function(){return h.off(e.event).removeClass(e.current),i.find(\'a[href^="#"]\').off("click.T"),f}}),a.each("onBeforeClick,onClick".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){return b&&a(f).on(c,b),f}}),e.history&&a.fn.history&&(a.tools.history.init(h),e.event="history"),h.each(function(b){a(this).on(e.event,function(a){return f.click(b,a),a.preventDefault()})}),i.find(\'a[href^="#"]\').on("click.T",function(b){f.click(a(this).attr("href"),b)}),location.hash&&"a"==e.tabs&&c.find(\'[href="\'+location.hash+\'"]\').length?f.click(location.hash):(0===e.initialIndex||e.initialIndex>0)&&f.click(e.initialIndex)}a.tools=a.tools||{version:"@VERSION"},a.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(a,c){b[a]=c}};var c,d,b={"default":function(a,b){this.getPanes().hide().eq(a).show(),b.call()},fade:function(a,b){var c=this.getConf(),d=c.fadeOutSpeed,e=this.getPanes();d?e.fadeOut(d):e.hide(),e.eq(a).fadeIn(c.fadeInSpeed,b)},slide:function(a,b){var c=this.getConf();this.getPanes().slideUp(c.slideUpSpeed),this.getPanes().eq(a).slideDown(c.slideDownSpeed,b)},ajax:function(a,b){this.getPanes().eq(0).load(this.getTabs().eq(a).attr("href"),b)}};a.tools.tabs.addEffect("horizontal",function(b,e){if(!c){var f=this.getPanes().eq(b),g=this.getCurrentPane();d||(d=this.getPanes().eq(0).width()),c=!0,f.show(),g.animate({width:0},{step:function(a){f.css("width",d-a)},complete:function(){a(this).hide(),e.call(),c=!1}}),g.length||(e.call(),c=!1)}}),a.fn.tabs=function(b,c){var d=this.data("tabs");return d&&(d.destroy(),this.removeData("tabs")),a.isFunction(c)&&(c={onBeforeClick:c}),c=a.extend({},a.tools.tabs.conf,c),this.each(function(){d=new e(a(this),b,c),a(this).data("tabs",d)}),c.api?d:this}}(jQuery),function(a){function c(b,c){function i(c){var d=a(c);return d.length<2?d:b.parent().find(c)}function l(){g=setTimeout(function(){f.next()},c.interval)}var g,d=this,e=b.add(this),f=b.data("tabs"),h=!0,j=i(c.next).click(function(){f.next()}),k=i(c.prev).click(function(){f.prev()});if(a.extend(d,{getTabs:function(){return f},getConf:function(){return c},play:function(){if(g)return d;var b=a.Event("onBeforePlay");return e.trigger(b),b.isDefaultPrevented()?d:(h=!1,e.trigger("onPlay"),e.on("onClick",l),l(),d)},pause:function(){if(!g)return d;var b=a.Event("onBeforePause");return e.trigger(b),b.isDefaultPrevented()?d:(g=clearTimeout(g),e.trigger("onPause"),e.off("onClick",l),d)},resume:function(){h||d.play()},stop:function(){d.pause(),h=!0}}),a.each("onBeforePlay,onPlay,onBeforePause,onPause".split(","),function(b,e){a.isFunction(c[e])&&a(d).on(e,c[e]),d[e]=function(b){return a(d).on(e,b)}}),c.autopause&&f.getTabs().add(j).add(k).add(f.getPanes()).hover(d.pause,d.resume),c.autoplay&&d.play(),c.clickable&&f.getPanes().click(function(){f.next()}),!f.getConf().rotate){var m=c.disabledClass;f.getIndex()||k.addClass(m),f.onBeforeClick(function(a,b){k.toggleClass(m,!b),j.toggleClass(m,b==f.getTabs().length-1)})}}var b;b=a.tools.tabs.slideshow={conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:!1,autopause:!0,interval:3e3,clickable:!0,api:!1}},a.fn.slideshow=function(d){var e=this.data("slideshow");return e?e:(d=a.extend({},b.conf,d),this.each(function(){e=new c(a(this),d),a(this).data("slideshow",e)}),d.api?e:this)}}(jQuery),function(){function f(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a,b){var c=[];for(var d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d]));return c}function j(c,d,e){if(h.isSupported(d.version))c.innerHTML=h.getHTML(d,e);else if(d.expressInstall&&h.isSupported([6,65]))c.innerHTML=h.getHTML(f(d,{src:d.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else if(c.innerHTML.replace(/\\s/g,"")||(c.innerHTML="<h2>Flash version "+d.version+" or greater is required</h2><h3>"+(i[0]>0?"Your version is "+i:"You have no flash plugin installed")+"</h3>"+("A"==c.tagName?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href=\'"+b+"\'>here</a></p>"),"A"==c.tagName&&(c.onclick=function(){location.href=b})),d.onFail){var g=d.onFail.call(this);"string"==typeof g&&(c.innerHTML=g)}a&&(window[d.id]=document.getElementById(d.id)),f(this,{getRoot:function(){return c},getOptions:function(){return d},getConf:function(){return e},getApi:function(){return c.firstChild}})}var a=document.all,b="http://www.adobe.com/go/getflashplayer",c="function"==typeof jQuery,d=/(\\d+)[^\\d]+(\\d+)[^\\d]*(\\d*)/,e={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(a,b,c){return"string"==typeof a&&(a=document.getElementById(a.replace("#",""))),a?("string"==typeof b&&(b={src:b}),new j(a,f(f({},e),b),c)):void 0};var h=f(window.flashembed,{conf:e,getVersion:function(){var a,b;try{b=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(c){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),b=a&&a.GetVariable("$version")}catch(e){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),b=a&&a.GetVariable("$version")}catch(f){}}}return b=d.exec(b),b?[b[1],b[3]]:[0,0]},asString:function(a){if(null===a||void 0===a)return null;var b=typeof a;switch("object"==b&&a.push&&(b="array"),b){case"string":return a=a.replace(new RegExp(\'(["\\\\\\\\])\',"g"),"\\\\$1"),a=a.replace(/^\\s?(\\d+\\.?\\d*)%/,"$1pct"),\'"\'+a+\'"\';case"array":return"["+g(a,function(a){return h.asString(a)}).join(",")+"]";case"function":return\'"function()"\';case"object":var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push(\'"\'+d+\'":\'+h.asString(a[d]));return"{"+c.join(",")+"}"}return String(a).replace(/\\s/g," ").replace(/\\\'/g,\'"\')},getHTML:function(b,c){b=f({},b);var d=\'<object width="\'+b.width+\'" height="\'+b.height+\'" id="\'+b.id+\'" name="\'+b.id+\'"\';b.cachebusting&&(b.src+=(-1!=b.src.indexOf("?")?"&":"?")+Math.random()),d+=b.w3c||!a?\' data="\'+b.src+\'" type="application/x-shockwave-flash"\':\' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"\',d+=">",(b.w3c||a)&&(d+=\'<param name="movie" value="\'+b.src+\'" />\'),b.width=b.height=b.id=b.w3c=b.src=null,b.onFail=b.version=b.expressInstall=null;for(var e in b)b[e]&&(d+=\'<param name="\'+e+\'" value="\'+b[e]+\'" />\');var g="";if(c){for(var i in c)if(c[i]){var j=c[i];g+=i+"="+encodeURIComponent(/function|object/.test(typeof j)?h.asString(j):j)+"&"}g=g.slice(0,-1),d+=\'<param name="flashvars" value=\\\'\'+g+"\' />"}return d+="</object>"},isSupported:function(a){return i[0]>a[0]||i[0]==a[0]&&i[1]>=a[1]}}),i=h.getVersion();c&&(jQuery.tools=jQuery.tools||{version:"@VERSION"},jQuery.tools.flashembed={conf:e},jQuery.fn.flashembed=function(a,b){return this.each(function(){jQuery(this).data("flashembed",flashembed(this,a,b))})})}(),function(a){function c(b,c,d){var e=d.relative?b.position().top:b.offset().top,f=d.relative?b.position().left:b.offset().left,g=d.position[0];e-=c.outerHeight()-d.offset[0],f+=b.outerWidth()+d.offset[1],/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop());var h=c.outerHeight()+b.outerHeight();"center"==g&&(e+=h/2),"bottom"==g&&(e+=h),g=d.position[1];var i=c.outerWidth()+b.outerWidth();return"center"==g&&(f-=i/2),"left"==g&&(f-=i),{top:e,left:f}}function d(d,e){var h,n,f=this,g=d.add(f),i=0,j=0,k=d.attr("title"),l=d.attr("data-tooltip"),m=b[e.effect],o=d.is(":input"),p=o&&d.is(":checkbox, :radio, select, :button, :submit"),q=d.attr("type"),r=e.events[q]||e.events[o?p?"widget":"input":"def"];if(!m)throw\'Nonexistent effect "\'+e.effect+\'"\';if(r=r.split(/,\\s*/),2!=r.length)throw"Tooltip: bad events configuration for "+q;d.on(r[0],function(a){clearTimeout(i),e.predelay?j=setTimeout(function(){f.show(a)},e.predelay):f.show(a)}).on(r[1],function(a){clearTimeout(j),e.delay?i=setTimeout(function(){f.hide(a)},e.delay):f.hide(a)}),k&&e.cancelDefault&&(d.removeAttr("title"),d.data("title",k)),a.extend(f,{show:function(b){if(!h&&(l?h=a(l):e.tip?h=a(e.tip).eq(0):k?h=a(e.layout).addClass(e.tipClass).appendTo(document.body).hide().append(k):(h=d.next(),h.length||(h=d.parent().next())),!h.length))throw"Cannot find tooltip for "+d;if(f.isShown())return f;h.stop(!0,!0);var o=c(d,h,e);if(e.tip&&h.html(d.data("title")),b=a.Event(),b.type="onBeforeShow",g.trigger(b,[o]),b.isDefaultPrevented())return f;o=c(d,h,e),h.css({position:"absolute",top:o.top,left:o.left}),n=!0,m[0].call(f,function(){b.type="onShow",n="full",g.trigger(b)});var p=e.events.tooltip.split(/,\\s*/);return h.data("__set")||(h.off(p[0]).on(p[0],function(){clearTimeout(i),clearTimeout(j)}),p[1]&&!d.is("input:not(:checkbox, :radio), textarea")&&h.off(p[1]).on(p[1],function(a){a.relatedTarget!=d[0]&&d.trigger(r[1].split(" ")[0])}),e.tip||h.data("__set",!0)),f},hide:function(c){return h&&f.isShown()?(c=a.Event(),c.type="onBeforeHide",g.trigger(c),c.isDefaultPrevented()?void 0:(n=!1,b[e.effect][1].call(f,function(){c.type="onHide",g.trigger(c)}),f)):f},isShown:function(a){return a?"full"==n:n},getConf:function(){return e},getTip:function(){return h},getTrigger:function(){return d}}),a.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){return b&&a(f).on(c,b),f}})}a.tools=a.tools||{version:"@VERSION"},a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,c,d){b[a]=[c,d]}};var b={toggle:[function(a){var b=this.getConf(),c=this.getTip(),d=b.opacity;1>d&&c.css({opacity:d}),c.show(),a.call()},function(a){this.getTip().hide(),a.call()}],fade:[function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeTo(c.fadeInSpeed,c.opacity,b):(this.getTip().show(),b())},function(b){var c=this.getConf();!a.browser.msie||c.fadeIE?this.getTip().fadeOut(c.fadeOutSpeed,b):(this.getTip().hide(),b())}]};a.fn.tooltip=function(b){var c=this.data("tooltip");return c?c:(b=a.extend(!0,{},a.tools.tooltip.conf,b),"string"==typeof b.position&&(b.position=b.position.split(/,?\\s/)),this.each(function(){c=new d(a(this),b),a(this).data("tooltip",c)}),b.api?c:this)}}(jQuery),function(a){function h(b,c,d){c=a(c).first()||c;var e=b.offset().top,f=b.offset().left,g=d.position.split(/,?\\s+/),h=g[0],i=g[1];e-=c.outerHeight()-d.offset[0],f+=b.outerWidth()+d.offset[1],/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop());var j=c.outerHeight()+b.outerHeight();"center"==h&&(e+=j/2),"bottom"==h&&(e+=j);var k=b.outerWidth();return"center"==i&&(f-=(k+c.outerWidth())/2),"left"==i&&(f-=k),{top:e,left:f}}function i(a){function b(){return this.getAttribute("type")==a}return b.key=\'[type="\'+a+\'"]\',b}function l(b,c,e){function l(b,c,d){if(e.grouped||!b.length){var f;if(d===!1||a.isArray(d)){f=g.messages[c.key||c]||g.messages["*"],f=f[e.lang]||g.messages["*"].en;var h=f.match(/\\$\\d/g);h&&a.isArray(d)&&a.each(h,function(a){f=f.replace(this,d[a])})}else f=d[e.lang]||d;b.push(f)}}var f=this,i=c.add(f);b=b.not(":button, :image, :reset, :submit"),c.attr("novalidate","novalidate"),a.extend(f,{getConf:function(){return e},getForm:function(){return c},getInputs:function(){return b},reflow:function(){return b.each(function(){var b=a(this),c=b.data("msg.el");if(c){var d=h(b,c,e);c.css({top:d.top,left:d.left})}}),f},invalidate:function(c,d){if(!d){var g=[];a.each(c,function(a,c){var d=b.filter("[name=\'"+a+"\']");d.length&&(d.trigger("OI",[c]),g.push({input:d,messages:[c]}))}),c=g,d=a.Event()}return d.type="onFail",i.trigger(d,[c]),d.isDefaultPrevented()||k[e.effect][0].call(f,c,d),f},reset:function(c){return c=c||b,c.removeClass(e.errorClass).each(function(){var b=a(this).data("msg.el");b&&(b.remove(),a(this).data("msg.el",null))}).off(e.errorInputEvent+".v"||""),f},destroy:function(){return c.off(e.formEvent+".V reset.V"),b.off(e.inputEvent+".V change.V"),f.reset()},checkValidity:function(c,g){c=c||b,c=c.not(":disabled");var h={};if(c=c.filter(function(){var b=a(this).attr("name");return h[b]?void 0:(h[b]=!0,a(this))}),!c.length)return!0;if(g=g||a.Event(),g.type="onBeforeValidate",i.trigger(g,[c]),g.isDefaultPrevented())return g.result;var m=[];c.each(function(){var b=[],c=a(this).data("messages",b),h=d&&c.is(":date")?"onHide.v":e.errorInputEvent+".v";return c.off(h),a.each(j,function(){var a=this,d=a[0];if(c.filter(d).length){var h=a[1].call(f,c,c.val());if(h!==!0){if(g.type="onBeforeFail",i.trigger(g,[c,d]),g.isDefaultPrevented())return!1;var j=c.attr(e.messageAttr);if(j)return b=[j],!1;l(b,d,h)}}}),b.length&&(m.push({input:c,messages:b}),c.trigger("OI",[b]),e.errorInputEvent&&c.on(h,function(a){f.checkValidity(c,a)})),e.singleError&&m.length?!1:void 0});var n=k[e.effect];if(!n)throw\'Validator: cannot find effect "\'+e.effect+\'"\';return m.length?(f.invalidate(m,g),!1):(n[1].call(f,c,g),g.type="onSuccess",i.trigger(g,[c]),c.off(e.errorInputEvent+".v"),!0)}}),a.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){return b&&a(f).on(c,b),f}}),e.formEvent&&c.on(e.formEvent+".V",function(a){return f.checkValidity(null,a)?(a.target=c,void(a.type=e.formEvent)):a.preventDefault()}),c.on("reset.V",function(){f.reset()}),b[0]&&b[0].validity&&b.each(function(){this.oninvalid=function(){return!1}}),c[0]&&(c[0].checkValidity=f.checkValidity),e.inputEvent&&b.on(e.inputEvent+".V",function(b){f.checkValidity(a(this),b)}),b.filter(":checkbox, select").filter("[required]").on("change.V",function(b){var c=a(this);(this.checked||c.is("select")&&a(this).val())&&k[e.effect][1].call(f,c,b)}),b.filter(":radio[required]").on("change.V",function(b){var c=a("[name=\'"+a(b.srcElement).attr("name")+"\']");null!=c&&0!=c.length&&f.checkValidity(c,b)}),a(window).resize(function(){f.reflow()})}a.tools=a.tools||{version:"@VERSION"};var g,b=/\\[type=([a-z]+)\\]/,c=/^-?[0-9]*(\\.[0-9]+)?$/,d=a.tools.dateinput,e=/^([a-z0-9_\\.\\-\\+]+)@([\\da-z\\.\\-]+)\\.([a-z\\.]{2,6})$/i,f=/^(https?:\\/\\/)?[\\da-z\\.\\-]+\\.[a-z\\.]{2,6}[#&+_\\?\\/\\w \\.\\-=]*$/i;g=a.tools.validator={conf:{grouped:!1,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:!1,speed:"normal"},messages:{"*":{en:"Please correct this value"}},localize:function(b,c){a.each(c,function(a,c){g.messages[a]=g.messages[a]||{},g.messages[a][b]=c})},localizeFn:function(b,c){g.messages[b]=g.messages[b]||{},a.extend(g.messages[b],c)},fn:function(c,d,e){a.isFunction(d)?e=d:("string"==typeof d&&(d={en:d}),this.messages[c.key||c]=d);var f=b.exec(c);f&&(c=i(f[1])),j.push([c,e])},addEffect:function(a,b,c){k[a]=[b,c]}};var j=[],k={"default":[function(b){var c=this.getConf();a.each(b,function(b,d){var e=d.input;e.addClass(c.errorClass);var f=e.data("msg.el");f||(f=a(c.message).addClass(c.messageClass).appendTo(document.body),e.data("msg.el",f)),f.css({visibility:"hidden"}).find("p").remove(),a.each(d.messages,function(b,c){a("<p/>").html(c).appendTo(f)}),f.outerWidth()==f.parent().width()&&f.add(f.find("p")).css({display:"inline"});var g=h(e,f,c);f.css({visibility:"visible",position:"absolute",top:g.top,left:g.left}).fadeIn(c.speed)})},function(b){var c=this.getConf();b.removeClass(c.errorClass).each(function(){var b=a(this).data("msg.el");b&&b.css({visibility:"hidden"})})}]};a.each("email,url,number".split(","),function(b,c){a.expr[":"][c]=function(a){return a.getAttribute("type")===c}}),a.fn.oninvalid=function(a){return this[a?"on":"trigger"]("OI",a)},g.fn(":email","Please enter a valid email address",function(a,b){return!b||e.test(b)}),g.fn(":url","Please enter a valid URL",function(a,b){return!b||f.test(b)}),g.fn(":number","Please enter a numeric value.",function(a,b){return c.test(b)}),g.fn("[max]","Please enter a value no larger than $1",function(a,b){if(""===b||d&&a.is(":date"))return!0;var c=a.attr("max");return parseFloat(b)<=parseFloat(c)?!0:[c]}),g.fn("[min]","Please enter a value of at least $1",function(a,b){if(""===b||d&&a.is(":date"))return!0;var c=a.attr("min");return parseFloat(b)>=parseFloat(c)?!0:[c]}),g.fn("[required]","Please complete this mandatory field.",function(a,b){return a.is(":checkbox")?a.is(":checked"):!!b}),g.fn("[pattern]",function(a,b){return""===b||new RegExp("^"+a.attr("pattern")+"$").test(b)}),g.fn(":radio","Please select an option.",function(b){var c=!1;a("[name=\'"+b.attr("name")+"\']").each(function(b,d){a(d).is(":checked")&&(c=!0)});return c?!0:!1}),a.fn.validator=function(b){var c=this.data("validator");return c&&(c.destroy(),this.removeData("validator")),b=a.extend(!0,{},g.conf,b),this.is("form")?this.each(function(){var d=a(this);c=new l(d.find(":input"),d,b),d.data("validator",c)}):(c=new l(this,this.eq(0).closest("form"),b),this.data("validator",c))}}(jQuery);'},,,function(e,t,n){"use strict";(function(e){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.profileAjaxPopup=function(t,i,a,r){e.fancybox(t,n({padding:0,scrolling:"no",closeBtn:"object"==typeof t&&"model"===t.data("type")&&!1!==t.data("close"),type:"ajax",wrapCSS:"object"==typeof t&&"model"===t.data("type")?"":"fancybox-bonga-wrap fixed fb_profile_wrap",helpers:{overlay:{locked:!1,css:{background:"object"==typeof t&&"model"===t.data("type")?"rgba(16, 12, 12, 0.69)":"rgba(0, 0, 0, 0)"}}},openSpeed:100,closeSpeed:100,afterShow:function(){e(".fancybox-opened").find(".close_box").on("click",function(){e.fancybox.close()}),void 0!==e.wrapI18nButton&&e.wrapI18nButton(),"function"==typeof i&&i.call(this)},beforeClose:function(){"function"==typeof a&&a.call(this)}},r))}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function n(){return l}function i(){return l&&document[l.fullscreenEnabled]}function a(){return l&&Boolean(document[l.fullscreenElement])}function r(t,n){return void 0===n&&(n=document.documentElement),l?new e(function(e,i){var a=function(){document.addEventListener(l.fullscreenchange,o),document.addEventListener(l.fullscreenerror,s)},r=function(){document.removeEventListener(l.fullscreenchange,o),document.addEventListener(l.fullscreenerror,s)},o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r(),e.apply(void 0,t)},s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r(),i.apply(void 0,e)};t&&!document[l.fullscreenElement]?(a(),n[l.requestFullscreen]()):document[l.fullscreenElement]&&(a(),document[l.exitFullscreen]())}):e.reject(new Error("Fullscreen not supported"))}Object.defineProperty(t,"__esModule",{value:!0});var o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=function(){for(var e={},t=0,n=o.length;t<n;t++){var i=o[t];if(i&&i[1]in document){for(t=0;t<i.length;t++)e[o[0][t]]=i[t];return e}}return null},l=s();t.getFullscreenAPI=n,t.isFullscreenSupported=i,t.isFullscreenMode=a,t.setFullscreenMode=r}).call(t,n(10))},function(e,t,n){"use strict";(function(e){function i(t){var n=o.default.getState().urls.ajaxGetActiveFriendIds;n&&("function"==typeof t&&s.push(t),l||(l=!0,e.get(n,function(t){for(e.activeFriendIds=a.json_parse(t),l=!1;s.length;)s.pop()();r.isLocalStorageAvailable()&&localStorage.removeItem("newFriends")})))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),r=n(2),o=n(5),s=[],l=!1;t.getActiveFriendIds=i}).call(t,n(0))},function(e,t,n){n(3)(n(193))},function(e,t){e.exports='!function(e,t,n,i){"use strict";var o=n("html"),a=n(e),r=n(t),s=n.fancybox=function(){s.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,d=t.createTouch!==i,p=function(e){return e&&e.hasOwnProperty&&e instanceof n},h=function(e){return e&&"string"===n.type(e)},f=function(e){return h(e)&&e.indexOf("%")>0},u=function(e){return e&&!(e.style.overflow&&"hidden"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},g=function(e,t){var n=parseInt(e,10)||0;return t&&f(e)&&(n=s.getViewport()[t]/100*n),Math.ceil(n)},m=function(e,t){return g(e,t)+"px"};n.extend(s,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,svAutoMargin:!1,svAutoScale:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:\'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>\',image:\'<img class="fancybox-image" src="{href}" alt="" />\',iframe:\'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen\'+(l?\' allowtransparency="true"\':"")+"></iframe>",error:\'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>\',closeBtn:\'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>\',next:\'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>\',prev:\'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>\'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(n.isPlainObject(t)||(t={}),!1!==s.close(!0))?(n.isArray(e)||(e=p(e)?n(e).get():[e]),n.each(e,function(o,a){var r,l,c,d,f,u,g,m={};"object"===n.type(a)&&(a.nodeType&&(a=n(a)),p(a)?(m={href:a.data("fancybox-href")||a.attr("href"),title:a.data("fancybox-title")||a.attr("title"),isDom:!0,element:a},n.metadata&&n.extend(!0,m,a.metadata())):m=a),r=t.href||m.href||(h(a)?a:null),l=t.title!==i?t.title:m.title||"",c=t.content||m.content,d=c?"html":t.type||m.type,!d&&m.isDom&&(d=a.data("fancybox-type"),d||(f=a.prop("class").match(/fancybox\\.(\\w+)/),d=f?f[1]:null)),h(r)&&(d||(s.isImage(r)?d="image":s.isSWF(r)?d="swf":"#"===r.charAt(0)?d="inline":h(a)&&(d="html",c=a)),"ajax"===d&&(u=r.split(/\\s+/,2),r=u.shift(),g=u.shift())),c||("inline"===d?r?c=n(h(r)?r.replace(/.*(?=#[^\\s]+$)/,""):r):m.isDom&&(c=a):"html"===d?c=r:d||r||!m.isDom||(d="inline",c=a)),n.extend(m,{href:r,type:d,content:c,title:l,selector:g}),e[o]=m}),s.opts=n.extend(!0,{},s.defaults,t),t.keys!==i&&(s.opts.keys=t.keys?n.extend({},s.defaults.keys,t.keys):!1),s.group=e,s._start(s.opts.index)):i},cancel:function(){var e=s.coming;e&&!1!==s.trigger("onCancel")&&(s.hideLoading(),s.ajaxLoad&&s.ajaxLoad.abort(),s.ajaxLoad=null,s.imgPreload&&(s.imgPreload.onload=s.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),s.coming=null,s.current||s._afterZoomOut(e))},close:function(e){s.cancel(),!1!==s.trigger("beforeClose")&&(s.unbindEvents(),s.isActive&&(s.isOpen&&e!==!0?(s.isOpen=s.isOpened=!1,s.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),s.wrap.stop(!0,!0).removeClass("fancybox-opened"),s.transitions[s.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),s._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(s.player.timer)},n=function(){t(),s.current&&s.player.isActive&&(s.player.timer=setTimeout(s.next,s.current.playSpeed))},i=function(){t(),r.unbind(".player"),s.player.isActive=!1,s.trigger("onPlayEnd")},o=function(){s.current&&(s.current.loop||s.current.index<s.group.length-1)&&(s.player.isActive=!0,r.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":n,"beforeLoad.player":t}),n(),s.trigger("onPlayStart"))};e===!0||!s.player.isActive&&e!==!1?o():i()},next:function(e){var t=s.current;t&&(h(e)||(e=t.direction.next),s.jumpto(t.index+1,e,"next"))},prev:function(e){var t=s.current;t&&(h(e)||(e=t.direction.prev),s.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,n){var o=s.current;o&&(e=g(e),s.direction=t||o.direction[e<o.index?"prev":"next"],s.router=n||"jumpto",o.loop&&(0>e&&(e=o.group.length+e%o.group.length),e%=o.group.length),o.group[e]!==i&&(s.cancel(),s._start(e)))},reposition:function(e,t){var i,o=s.current,a=o?o.wrap:null;a&&(i=s._getPosition(t),e&&"scroll"===e.type?(delete i.position,a.stop(!0,!0).animate(i,200)):(a.css(i),o.pos=n.extend({},o.dim,i)))},update:function(e){var t=e&&e.type,n=!t||"orientationchange"===t;n&&(clearTimeout(c),c=null),s.isOpen&&!c&&(c=setTimeout(function(){var i=s.current;i&&!s.isClosing&&(s.wrap.removeClass("fancybox-tmp"),(n||"load"===t||"resize"===t&&i.autoResize)&&s._setDimension(),"scroll"===t&&i.canShrink||s.reposition(e),s.trigger("onUpdate"),c=null)},n&&!d?0:300))},toggle:function(e){s.isOpen&&(s.current.fitToView="boolean"===n.type(e)?e:!s.current.fitToView,d&&(s.wrap.removeAttr("style").addClass("fancybox-tmp"),s.trigger("onUpdate")),s.update())},hideLoading:function(){r.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var e,t;s.hideLoading(),e=n(\'<div id="fancybox-loading"><div></div></div>\').click(s.cancel).appendTo("body"),r.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),s.cancel())}),s.defaults.fixed||(t=s.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=s.current&&s.current.locked||!1,n={x:a.scrollLeft(),y:a.scrollTop()};return t?(n.w=t[0].clientWidth,n.h=t[0].clientHeight):(n.w=d&&e.innerWidth?e.innerWidth:a.width(),n.h=d&&e.innerHeight?e.innerHeight:a.height()),n},unbindEvents:function(){s.wrap&&p(s.wrap)&&s.wrap.unbind(".fb"),r.unbind(".fb"),a.unbind(".fb")},bindEvents:function(){var e,t=s.current;t&&(a.bind("orientationchange.fb"+(d?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),s.update),e=t.keys,e&&r.bind("keydown.fb",function(o){var a=o.which||o.keyCode,r=o.target||o.srcElement;return 27===a&&s.coming?!1:(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||r&&(r.type||n(r).is("[contenteditable]"))||n.each(e,function(e,r){return t.group.length>1&&r[a]!==i?(s[e](r[a]),o.preventDefault(),!1):n.inArray(a,r)>-1?(s[e](),o.preventDefault(),!1):i}),i)}),n.fn.mousewheel&&t.mouseWheel&&s.wrap.bind("mousewheel.fb",function(e,i,o,a){for(var r=e.target||null,l=n(r),c=!1;l.length&&!(c||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)c=u(l[0]),l=n(l).parent();0===i||c||s.group.length>1&&!t.canShrink&&(a>0||o>0?s.prev(a>0?"down":"left"):(0>a||0>o)&&s.next(0>a?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var i,o=t||s.coming||s.current;if(o){if(n.isFunction(o[e])&&(i=o[e].apply(o,Array.prototype.slice.call(arguments,1))),i===!1)return!1;o.helpers&&n.each(o.helpers,function(t,i){i&&s.helpers[t]&&n.isFunction(s.helpers[t][e])&&s.helpers[t][e](n.extend(!0,{},s.helpers[t].defaults,i),o)}),r.trigger(e)}},isImage:function(e){return h(e)&&e.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i)},isSWF:function(e){return h(e)&&e.match(/\\.(swf)((\\?|#).*)?$/i)},_start:function(e){var t,o,a,r,l,c={};if(e=g(e),t=s.group[e]||null,!t)return!1;if(c=n.extend(!0,{},s.opts,t),r=c.margin,l=c.padding,"number"===n.type(r)&&(c.margin=[r,r,r,r]),"number"===n.type(l)&&(c.padding=[l,l,l,l]),c.modal&&n.extend(!0,c,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),c.autoSize&&(c.autoWidth=c.autoHeight=!0),"auto"===c.width&&(c.autoWidth=!0),"auto"===c.height&&(c.autoHeight=!0),c.group=s.group,c.index=e,s.coming=c,!1===s.trigger("beforeLoad"))return s.coming=null,i;if(a=c.type,o=c.href,!a)return s.coming=null,s.current&&s.router&&"jumpto"!==s.router?(s.current.index=e,s[s.router](s.direction)):!1;if(s.isActive=!0,("image"===a||"swf"===a)&&(c.autoHeight=c.autoWidth=!1,c.scrolling="visible"),"image"===a&&(c.aspectRatio=!0),"iframe"===a&&d&&(c.scrolling="scroll"),c.wrap=n(c.tpl.wrap).addClass("fancybox-"+(d?"mobile":"desktop")+" fancybox-type-"+a+" fancybox-tmp "+c.wrapCSS).appendTo(c.parent||"body"),n.extend(c,{skin:n(".fancybox-skin",c.wrap),outer:n(".fancybox-outer",c.wrap),inner:n(".fancybox-inner",c.wrap)}),n.each(["Top","Right","Bottom","Left"],function(e,t){c.skin.css("padding"+t,m(c.padding[e]))}),s.trigger("onReady"),"inline"===a||"html"===a){if(!c.content||!c.content.length)return s._error("content")}else if(!o)return s._error("href");"image"===a?s._loadImage():"ajax"===a?s._loadAjax():"iframe"===a?s._loadIframe():s._afterLoad()},_error:function(e){n.extend(s.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:s.coming.tpl.error}),s._afterLoad()},_loadImage:function(){var e=s.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,s.coming.width=this.width/s.opts.pixelRatio,s.coming.height=this.height/s.opts.pixelRatio,s._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,s._error("image")},e.src=s.coming.href,e.complete!==!0&&s.showLoading()},_loadAjax:function(){var e=s.coming;s.showLoading(),s.ajaxLoad=n.ajax(n.extend({},e.ajax,{url:e.href,error:function(e,t){s.coming&&"abort"!==t?s._error("ajax",e):s.hideLoading()},success:function(t,n){"success"===n&&(e.content=t,s._afterLoad())}}))},_loadIframe:function(){var e=s.coming,t=n(e.tpl.iframe.replace(/\\{rnd\\}/g,(new Date).getTime())).attr("scrolling",d?"auto":e.iframe.scrolling).attr("src",e.href);n(e.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(s.showLoading(),t.one("load",function(){n(this).data("ready",1),d||n(this).bind("load.fb",s.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),s._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||s._afterLoad()},_preloadImages:function(){var e,t,n=s.group,i=s.current,o=n.length,a=i.preload?Math.min(i.preload,o-1):0;for(t=1;a>=t;t+=1)e=n[(i.index+t)%o],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,o,a,r,l,c=s.coming,d=s.current,h="fancybox-placeholder";if(s.hideLoading(),c&&s.isActive!==!1){if(!1===s.trigger("afterLoad",c,d))return c.wrap.stop(!0).trigger("onReset").remove(),s.coming=null,i;switch(d&&(s.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),s.unbindEvents(),e=c,t=c.content,o=c.type,a=c.scrolling,n.extend(s,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:d}),r=e.href,o){case"inline":case"ajax":case"html":e.selector?t=n("<div>").html(t).find(e.selector):p(t)&&(t.data(h)||t.data(h,n(\'<div class="\'+h+\'"></div>\').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind("onReset",function(){n(this).find(t).length&&t.hide().replaceAll(t.data(h)).data(h,!1)}));break;case"image":t=e.tpl.image.replace("{href}",r);break;case"swf":t=\'<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="\'+r+\'"></param>\',l="",n.each(e.swf,function(e,n){t+=\'<param name="\'+e+\'" value="\'+n+\'"></param>\',l+=" "+e+\'="\'+n+\'"\'}),t+=\'<embed src="\'+r+\'" type="application/x-shockwave-flash" width="100%" height="100%"\'+l+"></embed></object>"}p(t)&&t.parent().is(e.inner)||e.inner.append(t),s.trigger("beforeShow"),e.inner.css("overflow","yes"===a?"scroll":"no"===a?"hidden":a),s._setDimension(),s.reposition(),s.isOpen=!1,s.coming=null,s.bindEvents(),s.isOpened?d.prevMethod&&s.transitions[d.prevMethod]():n(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),s.transitions[s.isOpened?e.nextMethod:e.openMethod](),s._preloadImages()}},_setDimension:function(){var e,t,i,o,a,r,l,c,d,p,h,u,y,x,v,w=s.getViewport(),b=0,k=!1,C=!1,W=s.wrap,S=s.skin,O=s.inner,_=s.current,T=_.width,L=_.height,A=_.minWidth,H=_.minHeight,E=_.maxWidth,R=_.maxHeight,M=_.scrolling,j=_.scrollOutside?_.scrollbarWidth:0,P=_.margin,I=g(P[1]+P[3]),D=g(P[0]+P[2]);if(W.add(S).add(O).width("auto").height("auto").removeClass("fancybox-tmp"),e=g(S.outerWidth(!0)-S.width()),t=g(S.outerHeight(!0)-S.height()),i=I+e,o=D+t,a=f(T)?(w.w-i)*g(T)/100:T,r=f(L)?(w.h-o)*g(L)/100:L,"iframe"===_.type){if(x=_.content,_.autoHeight&&1===x.data("ready"))try{x[0].contentWindow.document.location&&(O.width(a).height(9999),v=x.contents().find("body"),j&&v.css("overflow-x","hidden"),r=v.outerHeight(!0))}catch(z){}}else(_.autoWidth||_.autoHeight)&&(O.addClass("fancybox-tmp"),_.autoWidth||O.width(a),_.autoHeight||O.height(r),_.autoWidth&&(a=O.width()),_.autoHeight&&(r=O.height()),O.removeClass("fancybox-tmp"));if(T=g(a),L=g(r),d=a/r,A=g(f(A)?g(A,"w")-i:A),E=g(f(E)?g(E,"w")-i:E),H=g(f(H)?g(H,"h")-o:H),R=g(f(R)?g(R,"h")-o:R),l=E,c=R,_.fitToView&&(E=Math.min(w.w-i,E),R=Math.min(w.h-o,R)),u=w.w-I,y=w.h-D,_.aspectRatio?(T>E&&(T=E,L=g(T/d)),L>R&&(L=R,T=g(L*d)),A>T&&(T=A,L=g(T/d)),H>L&&(L=H,T=g(L*d))):(T=Math.max(A,Math.min(T,E)),_.autoHeight&&"iframe"!==_.type&&(O.width(T),L=O.height()),L=Math.max(H,Math.min(L,R))),_.fitToView)if(O.width(T).height(L),W.width(T+e),p=W.width(),h=W.height(),_.aspectRatio)for(;(p>u||h>y)&&T>A&&L>H&&b++<=19;)L=Math.max(H,Math.min(R,L-10)),T=g(L*d),A>T&&(T=A,L=g(T/d)),T>E&&(T=E,L=g(T/d)),O.width(T).height(L),W.width(T+e),p=W.width(),h=W.height();else T=Math.max(A,Math.min(T,T-(p-u))),L=Math.max(H,Math.min(L,L-(h-y)));j&&"auto"===M&&r>L&&u>T+e+j&&(T+=j),O.width(T).height(L),W.width(T+e),p=W.width(),h=W.height(),k=(p>u||h>y)&&T>A&&L>H,C=_.aspectRatio?l>T&&c>L&&a>T&&r>L:(l>T||c>L)&&(a>T||r>L),n.extend(_,{dim:{width:m(p),height:m(h)},origWidth:a,origHeight:r,canShrink:k,canExpand:C,wPadding:e,hPadding:t,wrapSpace:h-S.outerHeight(!0),skinSpace:S.height()-L}),!x&&_.autoHeight&&L>H&&R>L&&!C&&O.height("auto")},_getPosition:function(t){var i=s.current,o=s.getViewport(),a=i.margin,r=s.wrap.width()+a[1]+a[3],l=s.wrap.height()+a[0]+a[2],c={position:"absolute",top:a[0],left:a[3]};if(!i.autoCenter||!i.fixed||t||l>o.h||r>o.w?i.locked||(c.top+=o.y,c.left+=o.x):c.position="fixed",c.top=m(Math.max(c.top,c.top+(o.h-l)*i.topRatio)),c.left=m(Math.max(c.left,c.left+(o.w-r)*i.leftRatio)),i.svAutoScale){var d=e.innerWidth>0?e.innerWidth:screen.width,p=e.innerHeight>0?e.innerHeight:screen.height;"array"===n.type(i.svAutoScale)?(i.svAutoScaleWidth=i.svAutoScale[0],i.svAutoScaleHeight=i.svAutoScale[1]):(i.svAutoScaleWidth=i.svAutoScale,i.svAutoScaleHeight=!1);var h=e.isLandscape,f=function(){var e=d<s.wrap.outerWidth(!0),t=p<s.wrap.outerHeight(!0),n=1;e&&i.svAutoScaleWidth&&!h()?n=Math.min(d/s.wrap.outerWidth(!0)):(e||t)&&i.svAutoScaleHeight&&h()&&(n=Math.min(d/s.wrap.outerWidth(!0),p/s.wrap.outerHeight(!0))),n>1&&(n=1),s.wrap.css({transform:"scale("+n+")",transformOrigin:"0 0 0"})};f()}if(i.svAutoMargin){var u=s.wrap[0].getBoundingClientRect(),g=function(){var t=e.innerWidth>0?e.innerWidth:screen.width;t<u.width?t<u.width&&(c.left=m(0)):c.left=m((t-u.width)/2);var n=e.innerHeight>0?e.innerHeight:screen.height;n<u.height?n<u.height&&(c.top=m(0)):c.top=m((n-u.height)/2)};g()}return c},_afterZoomIn:function(){var e=s.current;e&&(s.isOpen=s.isOpened=!0,s.wrap.css("overflow","visible").addClass("fancybox-opened"),s.update(),(e.closeClick||e.nextClick&&s.group.length>1)&&s.inner.css("cursor","pointer").bind("click.fb",function(t){n(t.target).is("a")||n(t.target).parent().is("a")||(t.preventDefault(),s[e.closeClick?"close":"next"]())}),e.closeBtn&&n(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb",function(e){e.preventDefault(),s.close()}),e.arrows&&s.group.length>1&&((e.loop||e.index>0)&&n(e.tpl.prev).appendTo(s.outer).bind("click.fb",s.prev),(e.loop||e.index<s.group.length-1)&&n(e.tpl.next).appendTo(s.outer).bind("click.fb",s.next)),s.trigger("afterShow"),e.loop||e.index!==e.group.length-1?s.opts.autoPlay&&!s.player.isActive&&(s.opts.autoPlay=!1,s.play()):s.play(!1))},_afterZoomOut:function(e){e=e||s.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(s,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),s.trigger("afterClose",e)}}),s.transitions={getOrigPosition:function(){var e=s.current,t=e.element,n=e.orig,i={},o=50,a=50,r=e.hPadding,l=e.wPadding,c=s.getViewport();return!n&&e.isDom&&t.is(":visible")&&(n=t.find("img:first"),n.length||(n=t)),p(n)?(i=n.offset(),n.is("img")&&(o=n.outerWidth(),a=n.outerHeight())):(i.top=c.y+(c.h-a)*e.topRatio,i.left=c.x+(c.w-o)*e.leftRatio),("fixed"===s.wrap.css("position")||e.locked)&&(i.top-=c.y,i.left-=c.x),i={top:m(i.top-r*e.topRatio),left:m(i.left-l*e.leftRatio),width:m(o+l),height:m(a+r)}},step:function(e,t){var n,i,o,a=t.prop,r=s.current,l=r.wrapSpace,c=r.skinSpace;("width"===a||"height"===a)&&(n=t.end===t.start?1:(e-t.start)/(t.end-t.start),s.isClosing&&(n=1-n),i="width"===a?r.wPadding:r.hPadding,o=e-i,s.skin[a](g("width"===a?o:o-l*n)),s.inner[a](g("width"===a?o:o-l*n-c*n)))},zoomIn:function(){var e=s.current,t=e.pos,i=e.openEffect,o="elastic"===i,a=n.extend({opacity:1},t);delete a.position,o?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===i&&(t.opacity=.1),s.wrap.css(t).animate(a,{duration:"none"===i?0:e.openSpeed,easing:e.openEasing,step:o?this.step:null,complete:s._afterZoomIn})},zoomOut:function(){var e=s.current,t=e.closeEffect,n="elastic"===t,i={opacity:.1};n&&(i=this.getOrigPosition(),e.closeOpacity&&(i.opacity=.1)),s.wrap.animate(i,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:s._afterZoomOut})},changeIn:function(){var e,t=s.current,n=t.nextEffect,i=t.pos,o={opacity:1},a=s.direction,r=200;i.opacity=.1,"elastic"===n&&(e="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(i[e]=m(g(i[e])-r),o[e]="+="+r+"px"):(i[e]=m(g(i[e])+r),o[e]="-="+r+"px")),"none"===n?s._afterZoomIn():s.wrap.css(i).animate(o,{duration:t.nextSpeed,easing:t.nextEasing,complete:s._afterZoomIn})},changeOut:function(){var e=s.previous,t=e.prevEffect,i={opacity:.1},o=s.direction,a=200;"elastic"===t&&(i["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"="+a+"px"),e.wrap.animate(i,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},s.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:n("html"),create:function(e){e=n.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=n(\'<div class="fancybox-overlay"></div>\').appendTo(s.coming?s.coming.parent:e.parent),this.fixed=!1,e.fixed&&s.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=n.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(a.bind("resize.overlay",n.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){return n(e.target).hasClass("fancybox-overlay")?(s.isActive?s.close():t.close(),!1):i}),this.overlay.css(e.css).show()},close:function(){var e,t;a.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(n(".fancybox-margin").removeClass("fancybox-margin"),e=a.scrollTop(),t=a.scrollLeft(),this.el.removeClass("fancybox-lock"),a.scrollTop(e).scrollLeft(t)),n(".fancybox-overlay").remove().hide(),n.extend(this,{overlay:null,fixed:!1})},update:function(){var e,n="100%";this.overlay.width(n).height("100%"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),r.width()>e&&(n=r.width())):r.width()>a.width()&&(n=r.width()),this.overlay.width(n).height(r.height())},onReady:function(e,t){var i=this.overlay;n(".fancybox-overlay").stop(!0,!0),i||this.create(e),e.locked&&this.fixed&&t.fixed&&(i||(this.margin=r.height()>a.height()?n("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var i,o;t.locked&&(this.margin!==!1&&(n("*").filter(function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&!n(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),i=a.scrollTop(),o=a.scrollLeft(),this.el.addClass("fancybox-lock"),a.scrollTop(i).scrollLeft(o)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!s.coming&&this.overlay.fadeOut(e.speedOut,n.proxy(this.close,this))}},s.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t,i,o=s.current,a=o.title,r=e.type;if(n.isFunction(a)&&(a=a.call(o.element,o)),h(a)&&""!==n.trim(a)){switch(t=n(\'<div class="fancybox-title fancybox-title-\'+r+\'-wrap">\'+a+"</div>"),r){case"inside":i=s.skin;break;case"outside":i=s.wrap;break;case"over":i=s.inner;break;default:i=s.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner(\'<span class="child"></span>\'),s.current.margin[2]+=Math.abs(g(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](i)}}},n.fn.fancybox=function(e){var t,i=n(this),o=this.selector||"",a=function(a){var r,l,c=n(this).blur(),d=t;a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||c.is(".fancybox-wrap")||(r=e.groupAttr||"data-fancybox-group",l=c.attr(r),l||(r="rel",l=c.get(0)[r]),l&&""!==l&&"nofollow"!==l&&(c=o.length?n(o):i,c=c.filter("["+r+\'="\'+l+\'"]\'),d=c.index(this)),e.index=d,s.open(c,e)!==!1&&a.preventDefault())};return e=e||{},t=e.index||0,o&&e.live!==!1?r.undelegate(o,"click.fb-start").delegate(o+":not(\'.fancybox-item, .fancybox-nav\')","click.fb-start",a):i.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancybox-start=1]").trigger("click"),this},r.ready(function(){var t,a;n.scrollbarWidth===i&&(n.scrollbarWidth=function(){var e=n(\'<div style="width:50px;height:50px;overflow:auto"><div/></div>\').appendTo("body"),t=e.children(),i=t.innerWidth()-t.height(99).innerWidth();return e.remove(),i}),n.support.fixedPosition===i&&(n.support.fixedPosition=function(){var e=n(\'<div style="position:fixed;top:20px;"></div>\').appendTo("body"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),n.extend(s.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")}),t=n(e).width(),o.addClass("fancybox-lock-test"),a=n(e).width(),o.removeClass("fancybox-lock-test"),n("<style type=\'text/css\'>.fancybox-margin{margin-right:"+(a-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery);\n'},function(e,t,n){"use strict";function i(e){var t={},n=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!n&&"undefined"!=typeof iframe){var i=iframe.contentWindow;n=i.RTCPeerConnection||i.mozRTCPeerConnection||i.webkitRTCPeerConnection}var a={optional:[{RtpDataChannels:!0}]},r={iceServers:[{urls:"stun:stun.services.mozilla.com"}]};if(n){var o=new n(r,a),s=function(n){var i=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/,a=i.exec(n);if(a){var r=a[1];void 0===t[r]&&e(r),t[r]=!0}};o.onicecandidate=function(e){e.candidate&&s(e.candidate.candidate)},o.createDataChannel(""),o.createOffer(function(e){o.setLocalDescription(e,function(){},function(){})},function(){});var l=50,c=setInterval(function(){if(l--<=0&&clearInterval(c),o.localDescription){clearInterval(c);o.localDescription.sdp.split("\n").forEach(function(e){0===e.indexOf("a=candidate:")&&s(e)})}},1e3)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getIPs=i},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(9),o=n(196),s=n(19),l=n(99),c=n(14),u=n(74),d=window.navigator&&window.navigator.msPointerEnabled;!function(e){e.SYNC="tm_sync",e.DATA="tm_data",e.PING="tm_ping",e.PONG="tm_pong"}(a||(a={}));var h=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=1+Math.floor(1e6*(Math.random()+Math.random())),e.list={},e.taskList=[],e.selectorbyName={},e.restartTime=1e4,e.cooldown=300,e.delay=0,e.elapsedTime=0,e.active=!0,e.activeInfo=null,e.loggedIn=!1,e.isMaster=!1,e.masterId=0,e.lastMasterId=null,e.eventBaseUrl=null,e.onShow=c.noop,e.onHide=c.noop,e.onTrack=c.noop,e.onEvent=c.noop,e}return i(n,t),n.prototype.forceMaster=function(){var e=+new Date,t=(sv.storage.getItem(a.SYNC)||"0,0").split(",");2===t.length&&e-t[1]<this.restartTime&&this.parseData(sv.storage.getItem(a.DATA),!0),sv.storage.setItem(a.SYNC,[this.id,e].join(",")),this.isMaster=!0;for(var n in this.taskList){this.taskList[n].nextQuery()}},n.prototype.parseMaster=function(){var e=(sv.storage.getItem(a.SYNC)||"0,0").split(",");this.isMaster=2===e.length&&+e[0]===this.id},n.prototype.detectMaster=function(e,t){if(this.isMaster)return void e.call(this,t);var n=this;sv.storage.setItem(a.PING,Math.random()),setTimeout(function(){var i=n.lastMasterId?n.lastMasterId.split(","):null;(!i||n.loggedIn&&"false"===i[1])&&(n.lastMasterId=null,n.forceMaster()),e.call(n,t)},200)},n.prototype.run=function(e){this.isMaster=!1,e.resetMaster&&(sv.storage.setItem(a.SYNC,[this.id,+new Date].join(",")),sv.storage.setItem(a.DATA,this.getData()),this.isMaster=!0),sv.popup.debug&&(sv.config.jsDebug||sv.config.jsDebugShow)&&(sv.popup.debug(),sv.config.jsDebug&&(sv.storage.setItem(a.SYNC,[this.id,+new Date].join(",")),sv.storage.setItem(a.DATA,this.getData()),this.isMaster=!0));var t=this;addEvent(window,"storage",function(e){switch(e.key){case a.SYNC:t.parseMaster();break;case a.DATA:t.readData();break;case a.PING:t.isMaster&&sv.storage.setItem(a.PONG,[t.id,t.loggedIn,Math.random()].join(","));break;case a.PONG:t.lastMasterId=sv.storage.getItem(a.PONG)}}),this.detectMaster(this.initClient,e)},n.prototype.initClient=function(e){var t=this,n=+new Date,i=(sv.storage.getItem(a.SYNC)||"0,0").split(",");if(2===i.length&&n-i[1]<this.restartTime?this.readData():(this.isMaster=!0,this.sync(!0)),e.step){e.beforeRun&&e.beforeRun();var r=function(){t.isMaster&&!u.checkIsChatTypePopupEnabled()||e.step()};r(),setInterval(r,1e3)}},n.prototype.next=function(){if(0!==this.elapsedTime||this.activeInfo){if(this.elapsedTime=0,this.readData(),this.activeInfo){var e=this.activeInfo.name;e in this.list&&this.list[e].next()}this.active=!0,this.activeInfo=null,sv.storage.setItem(a.DATA,this.getData(!0))}},n.prototype.sync=function(e){if(e){var t=(sv.storage.getItem(a.SYNC)||"0,0").split(",");this.masterId=2===t.length?+t[0]:0,this.isMaster||(0!==this.masterId&&this.readData(),this.isMaster=this.masterId===this.id);var n=+new Date;(this.isMaster||2===t.length&&n-t[1]>=3e3)&&(sv.storage.setItem(a.SYNC,[this.id,n].join(",")),sv.storage.setItem(a.DATA,this.getData()),this.storeGlobalData(),this.isMaster=!0)}else this.readData()},n.prototype.clearActive=function(){try{this.parseData(sv.storage.getItem(a.DATA),!0),this.activeInfo=null,sv.storage.setItem(a.DATA,this.getData(!0))}catch(e){}},n.prototype.getCooldown=function(){return this.cooldown},n.prototype.toggle=function(e,t){this.list.hasOwnProperty(e)&&(this.list[e].enabled=void 0!==t?t:!this.list[e].enabled)},n.prototype.getData=function(t,n){var i=e.extend({},{active:this.activeInfo,delay:this.delay,loggedIn:this.loggedIn,elapsed:this.elapsedTime,data:{},next:t},n);i.active&&this.list[i.active.name]&&this.list[i.active.name].noSync&&(i.active=null);for(var a in this.list){var r=this.list[a];r.noSync||(i.data[a]={index:r.index,delay:r.delay,enabled:r.enabled})}return JSON.stringify(i)},n.prototype.storeGlobalData=function(){for(var e in this.list){var t=this.list[e];t.storeName&&!t.noSync&&sv.storage.setItem(t.storeName,JSON.stringify({guid:t.getGUID(),index:t.index,delay:Math.floor((new Date).getTime()/1e3)+t.delay,enabled:t.enabled}))}},n.prototype.readData=function(){this.setData(sv.storage.getItem(a.DATA)||sv.cookie.getItem(a.DATA))},n.prototype.setData=function(e){try{this.parseData(e)}catch(e){this.isMaster=!0,this.sync(!0)}},n.prototype.parseData=function(e,t){if(!e)throw new Error("Empty data");if("object"!=typeof(e=JSON.parse(e))&&"object"!=typeof e.data)throw new Error("Wrong data");if(!this.isMaster||e.next){if(e.hover)for(var n in e.hover)sv.c_storage.setItem(n,e.hover[n]);this.delay=+(e.delay||0),this.elapsedTime=+(e.elapsed||0);for(var n in e.data)if(n in this.list){var i=e.data[n],a=this.list[n];a.noIndex||(a.index=+(i.index||0)),a.delay=+(i.delay||0),a.enabled=+(i.enabled||0),a.query=null,a.delay>0&&a.nextQuery()}}if(!t){!this.isMaster||!e.active||e.active.name in this.list||(e.active=null);var r=!this.activeInfo&&e.active,o=this.activeInfo&&!e.active;if(this.activeInfo=e.active,r){var a=this.list[this.activeInfo.name];a&&(a.index=this.activeInfo.index||0,this.onShow(a,null,this.activeInfo.loopCount||0),this.active=!1)}else o&&(this.onHide(),this.active=!0)}},n.prototype.updateList=function(){this.taskList.length=0;for(var e in this.list){var t=this.list[e];t.parent||t.manual||this.taskList.push(t)}this.taskList.sort(function(e,t){return e.order-t.order})},n.prototype.remove=function(e){delete this.list[e],this.updateList()},n.prototype.fromData=function(e){for(var t in e){var n=e[t];n.hasOwnProperty("condition")?n.condition&&this.add(t,n.timeLine,n):this.add(t,n.timeLine,n)}},n.prototype.addAlias=function(t){return e.extend(this.selectorbyName,t),this},n.prototype.addIf=function(e,t,n,i){return e?this.add(t,n,i):this},n.prototype.add=function(t,n,i){var a;if(this.selectorbyName.hasOwnProperty(t)&&(a=e(this.selectorbyName[t]),!a.length))return this;n=n||[];var s=this.list[t]=new o.TimerNode(t,i);s.elements=a;var l={time:0,rand:0,loop:!1,loopId:0,noMulti:!1,once:!1,order:0};0===n.length&&(s.manual=!0);for(var c=n.length,u=0;u<c;u++){var d=s.timeLine[u]=e.extend({},l,n[u]);d.order=Math.max(d.order,s.order),s.timeOffset&&(d.time+=s.timeOffset),d.rand*=60,d.time*=60,d.time<=0&&(d.once=!0,d.loop=!1)}if(s.storeName){var h=s.getGUID(),p=r.json_parse(sv.storage.getItem(s.storeName));p&&p.guid===h&&(s.index=p.index,s.delay=Math.max(0,p.delay-Math.floor((new Date).getTime()/1e3)),s.delay||s.nextQuery())}if(s.global){var h=s.getGUID(),p=r.json_parse(sv.storage.getItem(h)),f=Math.floor((new Date).getTime()/1e3);if(p){var m=s.seek(f-p.time);s.step(m)}else sv.storage.setItem(h,JSON.stringify({time:f,index:0}))}return s.step(0),this.updateList(),this},n.prototype.multi=function(e,t,n){var i=this.list.hasOwnProperty(e)?this.list[e]:null;if(i){for(var a=t.length;--a>=0;){var r=t[a];this.list.hasOwnProperty(r)&&i.join(this.list[r])}return i.onTaskSelect=n,this.updateList(),this}},n.prototype.setTime=function(e,t){if(this.isMaster){var n=this.list[e]||null;n&&(n.delay=t,this.sync(!0))}},n.prototype.setDelay=function(e){this.isMaster&&(this.delay=e,this.sync(!0))},n.prototype.open=function(t,n){n=e.extend({},{force:!1,delay:0,index:0,id:null},n);var i=this.list[t]||null;if(i){if(!n.force)try{var r=JSON.parse(sv.storage.getItem(a.DATA));if("object"!=typeof r||r.active&&"object"==typeof r.active)return!1}catch(e){}this.delay=n.delay||(i.noCooldown?0:i.cooldownTime>=0?i.cooldownTime:this.getCooldown()),this.activeInfo={seed:s.Random.rangeInt(65536),name:t,index:n.index||0,loopCount:0},this.elapsedTime=0,this.active=!1,i.noSync||sv.storage.setItem(a.DATA,this.getData(!0)),this.onShow(i.getTask(this.activeInfo.index,this.activeInfo.seed),n.id||null,0,n.customData),i.noSync&&(this.activeInfo=null)}},n.prototype.step_noSync=function(e){if(this.active)for(var t=this.taskList.length;--t>=0;){var n=this.taskList[t];n.noSync&&n.enabled&&(n.step(e),(this.active&&n.noDelay&&n.index<n.timeLine.length||this.active&&0===this.delay&&0===n.delay&&n.query&&!1===n.manual)&&(this.open(n.name),n.query=null))}},n.prototype.step=function(e){if(this.elapsedTime+=e,this.sync(!0),!this.isMaster)return this.sync(!1),void this.step_noSync(e);if(this.active){this.delay=Math.max(0,this.delay-e);for(var t=this.taskList.length;--t>=0;){var n=this.taskList[t];n.step(e),(this.active&&n.noDelay&&n.index<n.timeLine.length||this.active&&0===this.delay&&0===n.delay&&n.query&&!1===n.manual)&&(this.active=!1,this.activeInfo={seed:s.Random.rangeInt(65536),name:n.name,index:n.query.index,loopCount:n.query.loopCount},this.elapsedTime=0,this.onShow(n.getTask(this.activeInfo.index,this.activeInfo.seed),null,n.query.loopCount),d&&n.noSync&&(this.activeInfo=null),this.sync(!0),n.query=null,n.noCooldown||(this.delay=this.getCooldown()))}}},n}(l.default);t.TimerManager=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(47),a=n(14),r=function(){function t(t,n){this.name="",this.parent=null,this.enabled=!0,this.multi=!1,this.childs=[],this.guid=null,this.global=!1,this.membership="any",this.manual=!1,this.index=0,this.order=0,this.timeLine=[],this.delay=0,this.event=!1,this.track=!1,this.trackParams={},this.elements=null,this.activeElement=null,this.optionsTpl=null,this.onTaskSelect=a.noop,this.cooldownTime=-1,this.timeOffset=0,this.noCooldown=!1,this.noDelay=!1,this.noSync=!1,this.noIndex=!1,this.storeName=null,this.query=null,this.name=t,e.extend(this,n)}return t.prototype.step=function(e){if(this.enabled){if(this.delay=Math.max(0,this.delay-e),this.delay>0)return void this.nextQuery();if(!this.query){var t=this.timeLine;if(!(this.index>=t.length)){for(var n=t[this.index];n.time<0;){if(++this.index>=t.length)return;n=t[this.index]}this.delay=n.time+(Math.random()>.5?n.rand:0),this.delay=Math.max(0,this.delay-e),this.query={index:this.index,item:this,order:n.order,loopCount:n.loopId}}}}},t.prototype.nextQuery=function(){if(!this.query){var e=this.timeLine;if(!(this.index<0||this.index>=e.length)){var t=e[this.index];this.query={index:this.index,item:this,order:t.order,loopCount:t.loopId}}}},t.prototype.next=function(){var e=this.timeLine;if(this.index<e.length){var t=e[this.index];t.loop?t.loopId++:this.index++}this.query=null},t.prototype.join=function(e){return e.parent=this,this.childs.push(e),this.multi=!0,this},t.prototype.getTask=function(e,t){if(!this.multi)return this;var n=this.timeLine;return e<0||e>=n.length?this:n[e].noMulti?this:this.onTaskSelect(this,this.childs,t)},t.prototype.seek=function(e){for(var t=this.timeLine,n=e,i=t[this.index];n>0&&!(n<i.time)&&(n-=i.time,!(++this.index>=t.length));)i=t[this.index];return n},t.prototype.getGUID=function(){return this.guid||(this.guid=i.getGUIDByString(JSON.stringify([this.timeLine,this.name,this.manual,this.noCooldown,this.noDelay,this.noSync,this.noIndex]))),this.guid},t}();t.TimerNode=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n={jpeg:"image/jpeg",gif:"image/gif",png:"image/png",tif:"image/tiff",pdf:"application/pdf"},i=function(){function t(e){var n={url:"",fileMaxSize:1048576,fileFieldName:"file",docTypeFieldName:"docType",fileMaxWidth:null,fileMinWidth:null,fileMaxHeight:null,fileMinHeight:null,docType:null,mimeTypes:["jpeg","png","gif"]};this.options=Object.assign(n,e),this.mimeTypesRegex=this.getMimeTypeRegex(),t.errors={fileFormat:__("Invalid file format"),maxFileSize:__("File too large"),maxSize:__("Image size is too large"),minSize:__("Image size is too small"),xhrError:__("Error while upload file")}}return t.prototype.upload=function(n,i){if(void 0===i&&(i={}),"function"!=typeof i.error&&(i.error=function(){}),!n)return i.error("Error!");if(!this.mimeTypesRegex.exec(n.type))return i.error(t.errors.fileFormat);if(n.size>this.options.fileMaxSize)return i.error(t.errors.maxFileSize);var a=this;this.checkWidthAndHeight()?e(new Image).attr("src",window.URL.createObjectURL(n)).one("load",function(){var e=this.naturalWidth,r=this.naturalHeight;window.URL.revokeObjectURL(this.src),a.options.fileMaxWidth&&e>a.options.fileMaxWidth||a.options.fileMaxHeight&&r>a.options.fileMaxHeight?i.error(t.errors.maxSize):a.options.fileMinWidth&&e<a.options.fileMinWidth||a.options.fileMinHeight&&r<a.options.fileMinHeight?i.error(t.errors.minSize):a.send.call(a,n,i)}):a.send.call(a,n,i)},t.prototype.getMimeTypeRegex=function(){var e=[];return this.options.mimeTypes.forEach(function(t){n[t]&&e.push(n[t])}),new RegExp(e.join("|"),"g")},t.prototype.checkWidthAndHeight=function(){return this.options.fileMaxHeight||this.options.fileMinHeight||this.options.fileMaxWidth||this.options.fileMinWidth},t.prototype.send=function(n,i){var a=new FormData;a.append(this.options.fileFieldName,n,n.name),this.options.docType&&a.append(this.options.docTypeFieldName,this.options.docType),e.ajax({type:"POST",url:this.options.url,data:a,dataType:"json",xhr:function(){var t=e.ajaxSettings.xhr();return t.upload&&"function"==typeof i.progress&&t.upload.addEventListener("progress",i.progress,!1),t},cache:!1,contentType:!1,processData:!1,success:function(e){"function"==typeof i.upload&&i.upload(e)},error:function(e){i.error(t.errors.xhrError,e)}})},t}();t.default=i}).call(t,n(0))},,,function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(171),r=n(46),o=n(112),s=n(2),l=n(62),c=n(166),u=n(229),d=function(t){function n(){var n=t.call(this)||this;n.flashObject=null,n.type="flash";var i=document.createElement("div");i.id="displaySWF",e("#video_player_container").append(i);var a={};return window.chat.options.debug&&(a.NC_ConnPort="1934"),window.chat.options.skinId&&(a.skinId=window.chat.options.skinId),window.chat.localData.NS_Info&&(a.NS_Info=!0),swfobject.embedSWF("/swf/chat/BCamPlayer.swf?"+window.chat.options.assetVersion,"displaySWF","100%","100%","11.1.2","",a,{wmode:"opaque",bgcolor:"#ffffff",quality:"high",allowscriptaccess:"sameDomain"},{},function(){n.flashObject=document.displaySWF,window.chat.onFlashPlayerInit=function(){window.chat.debug("onFlashPlayerInit"),r.eventDispatcher.dispatch(o.VideoPlayerEvent.INIT,n),n.setVolume(n.getVolume()),n.playing&&n.play()}}),n}return i(n,t),n.prototype.close=function(){t.prototype.close.call(this);try{this.flashObject.closeStream()}catch(e){}},n.prototype.destroy=function(){this.close(),this.flashObject=null},n.prototype.play=function(){try{if(u.checkVSID()){var e="stream_"+chat.performerData.username+(chat.paidShowId?"?show_id="+chat.paidShowId:"");this.flashObject.playStream(c.getChathostPreviewHost(chat.localData.vsid),e,chat.paidShowId?"private":"public")}else this.flashObject.playStream(chat.videoServerUrl,l.getStreamName());chat&&chat.performerData&&"hd"===chat.performerData.videoQuality?this.flashObject.classList.add("__hd"):this.flashObject.classList.remove("__hd")}catch(e){}t.prototype.play.call(this)},n.prototype.setVolume=function(e){if(t.prototype.setVolume.call(this,e),this.flashObject)try{this.flashObject.setVolume(e)}catch(e){}},Object.defineProperty(n,"available",{get:function(){return this.isAvailable&&!this.isDisabled},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isAvailable",{get:function(){if(null===this._isAvailable){if(this._isAvailable=window.swfobject&&swfobject.hasFlashPlayerVersion("11.1.2"),"undefined"!=typeof InstallTrigger){var t=document.createElement("embed");t.type="application/x-shockwave-flash",document.body.appendChild(t),this._isAvailable="Pan"in t,document.body.removeChild(t)}e("body").hasClass("stream_only")&&(this._isAvailable=!1)}return this._isAvailable},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isDisabled",{get:function(){return s.isLocalStorageAvailable()&&null!==localStorage.getItem("player.flash-disabled")},enumerable:!0,configurable:!0}),n._isAvailable=null,n}(a.default);t.default=d}).call(t,n(0))},function(e,t,n){"use strict";function i(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,i){return t+t+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}Object.defineProperty(t,"__esModule",{value:!0}),t.hexToRgb=i},function(e,t,n){"use strict";function i(e,t,n){e/=255,t/=255,n/=255;var i=Math.min(e,t,n),a=Math.max(e,t,n),r=a-i;if(0===r)return[0,0,100*a];var o=e===i?3+(n-t)/r:t===i?5+(e-n)/r:1+(t-e)/r;return[Math.round(60*(6===o?0:o)),Math.round(r/a*100),Math.round(100*a)]}Object.defineProperty(t,"__esModule",{value:!0}),t.rgbToHsv=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={popup:{component:null,componentProps:null,options:{},opened:!1},gamesSettings:{rollTheDice:{enabled:!1,d1_enabled:!1,d1_amount:0,d2_amount:0,reload:!1,d1_prizes:[],d2_prizes:[],d2_enabled:!1,unique_prize:!1,d2_wins_before_rare:0,promo_interval:1,message:"",message_ru:""},spinTheWheel:{enabled:!1,amount:0,wins_before_rare:0,unique_prize:!1,reload:!1,prizes:[],promo_interval:0,message:"",message_ru:""},tokenKeno:{enabled:!1,prizes:[],min_amount:0,max_amount:0,message:"",message_ru:"",promo_interval:0,sv:0},slotMachine:{enabled:!1,amount:0,prizes:[],message:"",message_ru:"",promo_interval:0,no_lose:!1},autoDJ:{enabled:!1,playlist:[],playing:!1,max_length:300}},gamesData:{rollTheDice:{type:"d1"},tokenKeno:{selectedAmount:null,suggestingAmount:null,showPrizes:!1},autoDJ:{lastActionTS:0,lastOffsetMs:0,showForm:!1},slotMachine:{rate:1}},pendingHitResult:!1,isRu:!1,chathost:""};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(25),r=n(8);t.SlotMachine3x3=function(e){return i.h("div",{class:"cg_slm_slot bc_flex bc_flex_wrap"},r.loopv(e.items,function(e,t){return i.h("div",{key:""+t,class:{slms_item:!0,__active:e.active}},i.h(a.default,{group:"slms_icon",icon:e.icon}))}))}},,function(e,t,n){"use strict";(function(e){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function t(i,a){this.button=i,this.options=n({},t.defaultOptions,a),this.callStatus=e(".call_status_active"),this.callStatusFinished=e(".call_status_finished"),this.cancelCall=e(".cancel_call"),this.changeMethod=e(".change_method_button"),this.callAgain=e(".call_again"),this.resendCodeError=e(".resend_code_error"),this.tfaPhoneWrapper=e(".security_settings.phone, .tfa_login_form")}return t.prototype.init=function(){var e=this;this.callStatus.length&&this.startCallTimeout(),this.resendCodeError.length&&this.resendCodeError.is(":visible")&&this.tfaTimeoutCountdown(this.resendCodeError),this.button.on("click",function(t){t.preventDefault(),e.execute()})},t.prototype.startCallTimeout=function(){var e=this;this.callTimeout=setTimeout(function(){e.callStatus.is(":visible")&&(e.callStatus.hide(),e.callStatusFinished.show()),e.cancelCall.hide(),e.callAgain.show()},this.options.timeout)},t.prototype.tfaTimeoutCountdown=function(t){var n=this,i=t.find(".seconds").html(),a=t.find(".minutes").html();clearInterval(this.countdownInterval),this.countdownInterval=setInterval(function(){i--,i<0&&(a<1?(clearInterval(n.countdownInterval),n.tfaPhoneWrapper.length&&(n.tfaPhoneWrapper.find(".form_error").remove(),e(".remote_action_disabled").removeClass("remote_action_disabled"),n.changeMethod.removeClass("disabled_btn").attr("onclick",""),e(".resend_code_error").hide())):(a--,i=59)),i="0"+i,a="0"+a,t.find(".seconds").html(i.substr(i.length-2)),t.find(".minutes").html(a.substr(a.length-2))},1e3)},t.prototype.execute=function(){var t=this;return this.button.hasClass("remote_action_disabled")||(clearTimeout(this.tfaTimeout),this.button.addClass("remote_action_disabled"),this.changeMethod.addClass("disabled_btn").attr("onclick","return false;"),e(".form_errors_row").remove(),e.get(this.button.attr("href"),function(n){if(n&&"success"===n.status)t.button.parents("div").hasClass("cancel_call")?(t.callStatus.hide(),t.callStatusFinished.show(),t.cancelCall.hide(),t.callAgain.show()):t.button.parents("div").hasClass("call_again")&&(t.callStatus.show(),t.callStatusFinished.hide(),t.cancelCall.show(),t.callAgain.hide(),t.startCallTimeout()),e(".remote_action_disabled").removeClass("remote_action_disabled"),t.changeMethod.removeClass("disabled_btn").attr("onclick","");else if(n&&"error"===n.status&&void 0!==n.message&&void 0!==n.form_class){var i=e("."+n.form_class);t.resendCodeError.length?(t.resendCodeError.find("#timeout_counter").html(n.timeout_string),t.tfaTimeoutCountdown(t.resendCodeError),t.resendCodeError.show(),t.callStatus.hide(),t.callStatusFinished.hide()):i.find(".form_errors_row").length?i.find(".form_error").html(n.message):(i.prepend('<div class="form_errors_row"><div class="form_error_list"><div class="form_error">'+n.message+"</div></div></div>"),t.tfaTimeoutCountdown(i.find(".form_error"))),t.tfaTimeout=setTimeout(function(){clearInterval(t.countdownInterval),t.tfaPhoneWrapper.find(".form_error").remove(),e(".remote_action_disabled").removeClass("remote_action_disabled"),t.changeMethod.removeClass("disabled_btn").attr("onclick",""),t.resendCodeError.hide()},1e3*n.timeout)}})),!1},t.defaultOptions={timeout:2e4},t}();t.default=i}).call(t,n(0))},function(e,t,n){"use strict";function i(e){if(e.hasChildNodes())for(var t=e.childNodes,n=t.length;--n>=0;)e.removeChild(t[n])}function a(e,t){Object.prototype.hasOwnProperty.call(e,"data-slider")||Object.defineProperty(e,"data-slider",new o(e,t))}function r(e,t){for(var n=document.querySelectorAll(e),i=0;i<n.length;i++)a(n[i],t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=this;if(this.items=[],this.root=null,this.buttonLeft=null,this.buttonRight=null,this.handlerStepLeft=function(){!n.state.animated&&n.state.page&&(n.state.page--,n.state.animated=!0,n.swapContainers(),n.updateContainer(0,n.state.page),n.root.classList.add("moveleft"),setTimeout(function(){n.root.classList.remove("moveleft"),n.state.animated=!1,n.updateButtonsState()},450))},this.handlerStepRight=function(){n.state.animated||n.state.page+1>=n.state.pageCount||(n.state.page++,n.state.animated=!0,n.root.classList.add("moveright"),n.updateContainer(1,n.state.page),setTimeout(function(){n.root.classList.remove("moveright"),n.state.animated=!1,n.swapContainers(),n.updateButtonsState()},450))},this.target=e,this.direction=window.getComputedStyle(this.target).direction,"rtl"===this.direction&&this.target.classList.add("horizontal_slider_rtl"),this.target.classList.add("horizontal_slider"),this.state={animated:!1,perPage:t||2,page:0,pageCount:0},e.hasChildNodes()){for(var i=e.childNodes,a=this.target.getAttribute("data-hs_item_class")||"hs_item",r=i.length;--r>=0;){var o=i[r];o.classList&&o.classList.contains(a)?(o.classList.add("hs_item"),this.items.push(o),e.removeChild(o)):o.remove()}this.items.reverse()}this.state.pageCount=Math.ceil(this.items.length/this.state.perPage),e.innerHTML='<div class="hs_slider_wrapper"><div class="hs_slides_block"><div class="hs_slide"></div><div class="hs_slide"></div></div></div><div class="hs_slider_arrow hs_left_arrow"></div><div class="hs_slider_arrow hs_right_arrow"></div>',this.root=e.querySelector(".hs_slides_block"),this.buttonLeft=e.querySelector(".hs_left_arrow"),this.buttonRight=e.querySelector(".hs_right_arrow"),this.buttonLeft.addEventListener("click",this.handlerStepLeft,!1),this.buttonRight.addEventListener("click",this.handlerStepRight,!1),this.updateContainer(0,this.state.page),this.updateButtonsState()}return e.prototype.swapContainers=function(){var e=this.root.childNodes[0];this.root.removeChild(e),this.root.appendChild(e)},e.prototype.updateContainer=function(e,t){var n=this.root.childNodes[e];i(n);for(var a=Math.max(0,t*this.state.perPage),r=Math.min(a+this.state.perPage,this.items.length),o=a;o<r;o++)n.appendChild(this.items[o])},e.prototype.updateButtonsState=function(){this.buttonLeft.classList.toggle("disabled",this.state.page<=0),this.buttonRight.classList.toggle("disabled",this.state.page+1>=this.state.pageCount)},e}();t.initSliderSingle=a,t.initSliderQuery=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(267),a=n(9),r=n(265),o=n(2),s=function(){function t(){var t=this;this.templates=new i.default,this.onItemClickHandler=function(t){var n=e("#mls_chatconsole");if(n.length&&n.hasClass("view4cam"))return!1;var i=window.globalListing,a=e(this);if(!i||!window.chat||e(".all_models_page_mls").length)return location.href=a.attr("href"),!1;null===i.loader.listing.chathostPosition&&(i.loader.listing.chathostPosition=0);var o=a.parents("[data-chathost]"),s=o.data("livetab")||"female";if(i.livetab!==s)return location.href=a.attr("href"),!1;e.loadChatRoom(o.data("chathost"),o.data("name"));var l=i.$listingContainer.find("[data-chathost="+o.data("chathost")+"]").parent(".mls_item");return l.length&&i.calculateChathostPosition(Number(l.attr("data-so"))),i.resetCategory(),i.loader.load(),i.isVisible()||i.$listingContainer.on("afterListingUpdate",function(){i.updateChatMlsList()}),r.ImagePlayer.instance.stop(),window.event&&(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1,window.scroll(0,0),!1},this.onUserData=function(){if(window.chat.performerData&&!window.chat.performerData.isVipShow){var n=window.chat.performerData;if(n.username&&n.displayName&&n.userId&&n.avatarUrl){var i=10,a="female";if(window.globalListing&&(a=window.globalListing.livetab||a),!e.mobile){if(!e("#vcr_template").length)return;var r=e("#visited_room_list");i=9,n.profileAvatarUrl=window.chat.buildAvatarUrl(n);var s=void 0;r.find('[data-chathost="'+n.username+'"]').length?(s=r.find('[data-chathost="'+n.username+'"]'),r.prepend(s)):(s=t.renderVCRModelBox(n.username,n.displayName,n.profileAvatarUrl,a),r.prepend(s)),r.find(".empty").hide(),r.find(".chatroom").slice(i).remove()}var l={userId:n.userId,username:n.username,displayName:n.displayName,profileAvatarUrl:n.profileAvatarUrl,livetab:a},c=t.historyData;if(c){for(var u=0;u<c.length;u++)if(c[u].username===n.username){c.splice(u,1);break}c.push(l),c.length>i&&c.shift()}else c=[l];o.isLocalStorageAvailable()?localStorage.setItem("visited_rooms",JSON.stringify(c)):e.cookie("bcrc2",JSON.stringify(c),{path:"/",expires:7})}}}}return Object.defineProperty(t,"instance",{get:function(){return this.globalInstance=this.globalInstance||new this},enumerable:!0,configurable:!0}),t.getVisitedRoomIds=function(){var t=[],n=o.isLocalStorageAvailable()?localStorage.getItem("visited_rooms"):e.cookie("bcrc2");if(n)for(var i=JSON.parse(n),a=0;a<i.length;a++){var r=i[a];r.username&&r.userId&&t.push(r.userId)}return t},Object.defineProperty(t.prototype,"historyData",{get:function(){return a.json_parse(o.isLocalStorageAvailable()?localStorage.getItem("visited_rooms"):e.cookie("bcrc2"))},enumerable:!0,configurable:!0}),t.prototype.renderVCRModelBox=function(t,n,i,a){return e("#vcr_template").length?e(this.templates.fill("#vcr_template",{username:t,avatar_image_src:i,display_name:n,chat_url:"/"+t,profile_url:"/profile/"+t,chat_popup_url:"/chat-popup/"+t,livetab:a||"female"})):null},t.prototype.renderList=function(e){if(e.length){var t=this.historyData;if(t){e.find(".chatroom").remove();for(var n=0;n<t.length;n++){var i=t[n];if(i.livetab=i.livetab||"female",i.username&&i.displayName&&i.userId&&i.profileAvatarUrl&&i.livetab){var a=this.renderVCRModelBox(i.username,i.displayName,i.profileAvatarUrl,i.livetab);e.prepend(a),e.find(".empty").hide()}}}}},t.prototype.refresh=function(){this.renderList(e("#visited_room_list")),this.renderList(e("#visited_rooms_page").find(".vr_list")),e("#visited_room_list").off("click","a.chat",this.onItemClickHandler).on("click","a.chat",this.onItemClickHandler),e("#bChat").off("onUserData",this.onUserData).on("onUserData",this.onUserData)},t}();t.default=s}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=n(56),r=n(212);!function(e){e.fn.extend({initSmilePanel:function(t){return!i.default.urls.base&&window.chat&&window.chat.options&&(i.default.urls.base=window.chat.options.baseUrl),this.each(function(){var n,o=e(this);if(o.data("smileys"))return this;n=i.default.isExtended||o.data("extend-smileys-enabled")?new r.default(o,t):new a.default(o,t),n.$button.on("click.smileys",function(e){n.isPanelOpen?n.hide.bind(n)():(t.onBeforeOpen&&t.onBeforeOpen(),n.open.bind(n)(e))})})},destroySmilePanel:function(){return this.each(function(){var t=e(this),n=t.data("smileys");n&&(n.destroy(),t.find(".smileButton").off("click.smileys"))})},renderSmileys:function(t){return void 0===t&&(t=!1),this.each(function(){var n,a=e(this),r=a.html().replace(/&amp;/g,"&");if(a.hasClass("item_msg_text"))n=i.default.replace({message:r,replacePremium:t});else{var o={message:r,replacePremium:t};t&&(o.callback=function(t,n){a.html(a.html().replace(t,n));var i=a.closest(".jspScrollable");if(i.length&&i.data("jsp")){var r=i.data("jsp");r.reinitialise(),e.isMobile?r.scrollToTop():r.scrollToBottom()}else{var o=a.parents('[is_scroll_on_bottom="true"], .messages_list_wrapper');o.length&&o.scrollTop(e.isMobile?0:o.prop("scrollHeight"))}}),n=i.default.replace(o)}a.html(n)})}})}(e)}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(e,t){for(var n=i.default.getCategory(i.SmileyCategories.LITTLE),a=n.predefinedCollection,r="<table><tr>",o=0;o<a.length;o++)o>0&&o%t==0&&(r+="</tr><tr>"),r+='<td><span class="smileyContainer"><img token="'+a[o].tokens[0]+'" src="'+i.default.urls.base+"/images/chat/smiles/"+a[o].src+'" /></span></td>';return r+="</tr></table>",'\n  <div class="'+e+'" data-category="little_smileys" data-columns="'+t+'" data-title="'+n.title+'">\n    <div class="smile-frame-content">\n      '+r+"\n    </div>\n  </div>\n"};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(){return'\n    <div class="smilePanelTabs">\n      <div class="smilePanelTab smilePanelTabActive">\n        <a onclick="return false" href="javascript:void(0)">\n          '+(i.default.isExtended?i.default.getCategory(i.SmileyCategories.LITTLE).title:__("Smiles"))+'\n        </a>\n      </div>\n      <span class="smilePanel-divider">|</span>\n      <div class="smilePanelTab">\n        <a onclick="return false" href="javascript:void(0)">\n          '+i.default.getCategory(i.SmileyCategories.BIG).title+'\n        </a>\n      </div>\n      <span class="smilePanel-divider">|</span>\n      <div class="smilePanelTab">\n        <a onclick="return false" href="javascript:void(0)">\n          '+i.default.getCategory(i.SmileyCategories.TEXT).title+"\n        </a>\n      </div>\n    </div>"};t.default=a},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),r=n(197),o=n(213),s=n(214),l=n(114),c=n(113),u=n(215),d=n(216),h=n(217),p=n(218),f=n(219),m=n(220),g=n(221),v=n(222),b=n(223),y=n(224),_=n(225),w=n(226),S=n(4),C=n(56),k=n(81),T=n(82),P=n(40),x=n(7),E=function(t){function n(e,n){return t.call(this,e,n)||this}return i(n,t),n.prototype.init=function(){this.options.premium&&this.options.hintEnabled&&(this.$hintPanel=e(_.default()),this.$hintPanel.appendTo("body")),t.prototype.init.call(this)},n.prototype.destroy=function(){this.options.hintEnabled&&this.$hintPanel.remove(),t.prototype.destroy.call(this)},n.prototype.open=function(n){var i=t.prototype.open.call(this,n),a=e("#bSignup"),r=this.$panel.find(".smilePanelFrameActive");if(a.length||e("#member_join_popup_trigger").length||(r.is(".smilePanelFrameUpload")&&r.data("clear")&&this.clearUploadForm(),this.options.premium&&this.renderRecentSmileys()),this.options.premium||this.options.short){var o=r.data("jsp");o&&o.reinitialise()}return i},n.prototype.hide=function(){t.prototype.hide.call(this),this.closeHint()},n.prototype.render=function(){var e=this,t=this.getSmileFrameLittle();if(this.options.premium?this.$panel.append(u.default()).append(g.default()).append(b.default()).append(o.default()).append(f.default()).append(t).append(c.default()).append(l.default()).append(v.default()).append(y.default()).append(d.default()).append(s.default()):this.options.short?this.$panel.append(o.default()).append(t).append(c.default()).append(l.default()).append(s.default(!0)):this.$panel.append(t),this.options.isMobile&&(this.$panel.addClass("smilePanelMinimized"),this.$panel.append('<div class="smilePanelMore"><button class="smilePanelMoreButton">'+__("Show more")+"</button></div>")),this.options.premium){var n=a.default.getCategory(a.SmileyCategories.GRAPHICS);n.xhr?n.collection.forEach(function(t){e.drawGraphicsSmiley(a.SmileyCategories.GRAPHICS,t)}):this.loadUserSubmittedSmileys(a.SmileyCategories.GRAPHICS,n.page)}if(this.options.premium||this.options.short){var i="newSmileys";this.options.short&&(i+=" shortSmileys"),this.$panel.addClass(i)}this.$panel.children().wrapAll('<div class="smilePanelContent"></div>'),this.$panel.appendTo("body"),(this.options.premium||this.options.short)&&this.$panel.find(".smilePanelFrame.with-scroll").jScrollPane({showArrows:!0,verticalArrowPositions:"os",contentWidth:1})},n.prototype.attachHandlers=function(){var n=this;t.prototype.attachHandlers.call(this),this.options.premium&&e(document).on("language:switch",function(){var t=P.getRealDomain(),n=new Date;n.setTime(n.getTime()+1e4),e.cookie&&e.cookie(T.default.cookieKey,JSON.stringify(a.default.getCategory(a.SmileyCategories.RECENT).collection),{path:"/",expires:n,domain:t})}),this.options.hintEnabled&&(this.$hintPanel.on("mouseenter",".smileyHint_item",function(e){n.onHoverHintItem(e.currentTarget)}),this.$hintPanel.on("click",".smileyHint_item",function(e){n.onClickHintItem(e.currentTarget)}),this.$input.on("keyup.smileys",function(e){var t=n.$input.val().toLowerCase();if(!n.$input.data("prev-val")||n.$input.data("prev-val")!==t){n.$input.data("prev-val",t),clearTimeout(n.$input.data("delay"));var i=new RegExp(":[a-z0-9-_]*$","g"),r=t.match(i);if(!(r=r?r[0]:null)||r.length>a.default.MAX_SHORTCUT_LENGTH)return void n.closeHint();r=r.replace(":","");var o=n.$input.data("searchXhr");o&&4!==o.readyState&&(o.abort(),n.$input.removeData("searchXhr")),n.$input.data("delay",setTimeout(function(){var e=a.default.search.search({q:r,isHint:!0,withoutPremium:!n.canUsePremiumSmileys(),complete:n.onHintComplete.bind(n)});n.$input.data("searchXhr",e),n.$input.data("prev-val",t)},500))}}))},n.prototype.detachHandlers=function(){t.prototype.detachHandlers.call(this),this.options.hintEnabled&&(this.$hintPanel.off("click mouseenter"),this.$input.off("keyup.smileys"))},n.prototype.attachPanelHandlers=function(){var n=this;t.prototype.attachPanelHandlers.call(this),(this.options.premium||this.options.short)&&(this.$input.on("click.smileys",function(){n.$input.trigger("focus")}),this.$panel.on("mouseenter",".smileyContainer, .smileyGraphic",function(e){n.onHoverSmiley(e.currentTarget)}),this.$panel.on("wheel mousewheel",".smilePanelFrame",function(t){var n,i=e(t.currentTarget),a=i.data("jsp");if(a)return n=a.getContentPositionY(),0===n||i.height()+n===a.getContentHeight()?(t.preventDefault(),!1):void 0}),this.$panel.on("scroll",".smilePanelFrame",function(t){var i,r,o,s=e(t.currentTarget),l=s.is(".smilePanelFrameSearch"),c=l?a.SmileyCategories.GRAPHICS:s.data("category"),u=s.data("jsp"),d=u.getContentPositionY(),h=u.getContentHeight(),p=s.height();if(n.options.short||!c||c===a.SmileyCategories.RECENT||!u)return void(u&&p+d>=h-50&&!r&&!s.data("wasReInitJsp")&&(s.data("wasReInitJsp",!0),u.reinitialise()));if(l){var f,m,g=s.find(".smileyCategoryContainer:not(.hide)");g.find(".smileTitle").removeClass("hide"),g.each(function(t,n){var i=e(n);d<n.offsetTop||d>=n.offsetTop+n.offsetHeight+20||(m=i.data("title"),f=i.find(".smileTitle"))}),m&&(n.$panel.find(".smilePanelViewer .smile-tab-title .smileTitle").html(m),f&&f.length&&f.addClass("hide")),r=s.data("last"),o=s.data("page")||1}else i=a.default.getCategory(c),r=i.last,o=i.page;if(p+d>=h-50&&!r){if(o=void 0!==o?o:-1,l)return a.default.search.search({q:s.data("q"),onlyGraphics:!0,o:o*k.default.LIMIT,complete:function(t){(!t.length||t.length<k.default.LIMIT)&&s.data("last",!0),t.forEach(function(t){var n=s.find(".smileyCategory-user_submitted .smileyCategoryContent"),i=e(new Image).attr({src:a.default.urls.base+t.url,token:t.shortcut}).one("load",function(){u.reinitialise()}).one("error",function(){e(this).parent().remove(),u.reinitialise()}),r=i.wrap("<div/>").parent().addClass("userSubmitted smileyGraphic");n.append(r),u.reinitialise()})}}),void s.data("page",o+1);n.loadUserSubmittedSmileys(c,o+1)}}),this.options.premium&&(this.$panel.on("click",".smiley-popup-close",function(){n.$panel.find(".smiley-popup").hide()}),this.$panel.on("click",".smileySearch_clear",function(){n.clearSearch(!0)}),this.$panel.on("click",".smiley-upload-cancel",function(){n.hideUploadDialog()}),this.$panel.on("submit",".smiley-form",function(e){n.onSubmitUpload(e)}),this.$panel.on("change",".smileyFile",function(e){n.showUploadDialog(e.currentTarget.files[0])}),this.$panel.on("click",".smiley-file-dnd",function(){n.$panel.find(".smiley-popup").hide()}),void 0!==window.FormData&&void 0!==window.FileReader&&(this.$panel.on("drag dragstart dragend dragover dragenter dragleave drop",".smiley-file-dnd",function(e){e.preventDefault(),e.stopPropagation()}),this.$panel.on("drop",".smiley-file-dnd",function(e){var t=e.originalEvent.dataTransfer.files,i=t.length?t[0]:null;n.showUploadDialog(i)})),this.$panel.on("click",".smiley-what",function(t){var i=e(t.currentTarget).data("popup");if(i){var a=n.$panel.find(i);a.is(":visible")?a.hide():(n.$panel.find(".smiley-popup").hide(),a.show().css({top:e(".smilePanelHeaderUpload").height()-a.height()-4}))}}),this.$panel.on("keydown",".smileySearch_input",function(t){var i=e(t.currentTarget),a=t.keyCode||0;if(i.hasClass("force_cleared")&&i.removeClass("force_cleared"),a>=48&&a<=57||a>=65&&a<=90||a>=96&&a<=105){var r=n.$panel.find(".smilePanelFrameActive"),o=n.$panel.find(".smilePanelFrameSearch"),s=n.$panel.find(".smilePanelViewer").find(".smile-tab-title");s.show(),o.is(r)||s.find(".smileTitle").show().html(""),n.$panel.find(".smileySearch_prefix").show(),n.$panel.find(".smilePanelTabActive").removeClass("smilePanelTabActive"),r.removeClass("smilePanelFrameActive").hide(),n.$panel.find(".smilePanelViewer").find(".smileAbout").hide(),o.addClass("smilePanelFrameActive").removeClass("empty").show(),n.$panel.find(".smilePanelHeaderGraphics ").addClass("hide"),n.$panel.find(".smileShortcut").html("")}}),this.$panel.on("change keyup blur",".smileySearch_input",function(t){var i=e(t.currentTarget),r=i.val().toLowerCase();if(!i.is(".force_cleared")&&(r&&":"===r[0]&&(r=r.substr(1)),n.toggleSearchIcons(!!r.trim()),i.removeClass("error"),r.length>a.default.MAX_SHORTCUT_LENGTH&&(r=r.substring(0,a.default.MAX_SHORTCUT_LENGTH)),i.val(r),!i.data("prev-val")||i.data("prev-val")!==r)){i.data("prev-val",r),clearTimeout(i.data("delay"));var o=n.$panel.data("searchXhr");o&&4!==o.readyState&&(o.abort(),n.$panel.removeData("searchXhr")),i.data("delay",setTimeout(function(){if(r&&":"!==r){n.$panel.find(".smilePanelFrameSearch").data("q",r);var e=a.default.search.search({q:r,complete:n.onSearchComplete.bind(n)});n.$panel.data("searchXhr",e)}else n.clearSearch(!0);i.data("prev-val",r)},500))}}),this.$panel.on("change keyup blur",".smiley-shortcut-input",function(t){var i=e(t.currentTarget),r=i.val().toLowerCase();if(!i.data("prev-val")||i.data("prev-val")!==r){n.$panel.removeData("shortcut"),n.checkFormSubmit();var o=n.$panel.find(".smiley-shortcut-error");o.hide(),r&&":"!==r[0]&&(r=":"+r),r.length>a.default.MAX_SHORTCUT_LENGTH&&(r=r.substring(0,a.default.MAX_SHORTCUT_LENGTH)),i.val(r),clearTimeout(i.data("delay"));var s=n.$panel.data("shortcutXhr");s&&4!==s.readyState&&(s.abort(),n.$panel.removeData("shortcutXhr")),i.data("delay",setTimeout(function(){if(r&&":"!==r)if(/^:[a-z0-9-_]+$/g.exec(r)){var e=a.default.checkShortcut(r,function(e){e&&e.status?n.$panel.data("shortcut",r):(n.$panel.removeData("shortcut"),o.show().html(__("Shortcut already in use"))),n.checkFormSubmit(),n.$panel.removeData("shortcutXhr")});n.$panel.data("shortcutXhr",e)}else o.show().html(__("Only letters (a-z), numbers (0-9) and symbols ('-', '_') are allowed"));else o.show().html(__("This field is required"));i.data("prev-val",r)},500))}})))},n.prototype.detachPanelHandlers=function(){t.prototype.detachPanelHandlers.call(this),this.$panel.off("click submit change keyup keydown blur"),this.$panel.off("drag dragstart dragend dragover dragenter dragleave drop"),this.$panel.off("scroll wheel mousewheel mouseenter"),this.$input.off("click.smileys")},n.prototype.openHint=function(){this.$hintPanel&&this.$hintPanel.show()},n.prototype.closeHint=function(){this.$hintPanel&&(this.$hintPanel.hide(),this.$hintPanel.css("visibility",""))},n.prototype.onBodyClick=function(t){var n=e(t.target);if(n.is(this.$panel)||n.parents(".smilePanel").is(this.$panel)||n.is(this.$hintPanel)||n.parents(".smileysHintPanel").is(this.$hintPanel)||n.is(this.$button)||n.parents(".smileButton").is(this.$button))return n.hasClass("smiley-what")||n.hasClass("smiley-popup")||n.parents(".smiley-popup").length||this.$panel.find(".smiley-popup").hide(),(n.hasClass("smileButton")||n.parents(".smileButton").length)&&this.options.hintEnabled&&this.$hintPanel.is(":visible")&&this.closeHint(),n.hasClass("smileySearch_input")||n.parents(".smiley-form").length||t.preventDefault(),!1;this.hide()},n.prototype.onBodyKeydown=function(e){if(t.prototype.onBodyKeydown.call(this,e),27!==e.keyCode&&this.options.hintEnabled&&this.$hintPanel&&this.$hintPanel.is(":visible")&&(38===e.keyCode||40===e.keyCode||13===e.keyCode)){var n=this.$hintPanel.find(".smileyHint_item"),i=n.filter(".active"),a=n.length,r=void 0,o=void 0,s=void 0;if(!a)return;if(13===e.keyCode)return!i.length||(this.onClickHintItem(i[0]),!1);e.preventDefault(),i.length?o=n.index(i):(i=n.first(),o=-1),i.removeClass("active"),38===e.keyCode?s=0===o||-1===o?a-1:o-1:40===e.keyCode&&(s=(o+1)%a),r=n.eq(s),this.onHoverHintItem(r[0])}},n.prototype.onTabClick=function(n){var i,a=t.prototype.onTabClick.call(this,n),r=e(".smilePanelHeaderSearch");if(a.data("jsp")&&a.data("jsp").reinitialise(),r.show(),this.clearSearch(!0),this.$panel.find(".smile-tab-title .smileTitle").hide(),this.$panel.find(".smileAbout .smileTitle").hide(),this.$panel.find(".userSmileAuthor").hide(),this.$panel.find(".userSmileDate").hide(),a.data("title")?this.$panel.find(".smile-tab-title .smileTitle").show().html(a.data("title")):this.$panel.find(".smile-tab-title .smileTitle").hide(),a.is(".smilePanelFrameGraphics")){if(a.find(".smileyGraphic.active").length&&(i=a.find(".smileyGraphic.active img"))){if(i.data("title")&&this.$panel.find(".smileAbout .smileTitle").show().html(i.data("title")),i.data("author")){var o=i.data("author");this.$panel.find(".userSmileAuthor").show().find("a").attr("href","/profile/"+o.username).html(o.display_name)}i.data("date")&&this.$panel.find(".userSmileDate").show().find("span").html(i.data("date"))}}else a.is(".smilePanelFrameUpload")&&r.hide();var s=a.is(".smilePanelFrameUpload"),l=this.$panel.find(".smilePanelViewer");l.toggleClass("hide",s),l.find(".smile-tab-title, .smileAbout").show(),this.$panel.find(".smilePanelHeaderUpload").toggleClass("hide",!s),this.$panel.find(".smilePanelHeaderGraphics").toggleClass("hide",!a.is(".smilePanelFrameGraphics")),s&&a.data("clear")&&(this.clearUploadForm(),a.data("clear",!1))},n.prototype.onClickSmiley=function(e){t.prototype.onClickSmiley.call(this,e)&&this.$panel.find(".smilePanelFrameActive").is(".smilePanelFrameSearch")&&this.clearSearch(!0)},n.prototype.onSearchComplete=function(t){var n=this,i=this.$panel.find(".smilePanelFrameSearch"),r=i.find(".smile-frame-content"),o=i.data("jsp"),s={},l=[];if(this.$panel.removeData("searchXhr"),!t||!t.length)return void this.clearSearch();if(r.html(""),r.append(h.default(a.SmileyCategories.RECENT)),r.append(h.default(a.SmileyCategories.LITTLE)),r.append(h.default(a.SmileyCategories.BIG)),r.append(h.default(a.SmileyCategories.TEXT)),r.append(h.default(a.SmileyCategories.GRAPHICS)),t.forEach(function(t){var i,c,u=t.category||a.SmileyCategories.GRAPHICS,d=s[u];if(!d){var h=r.find(".smileyCategory-"+u);h.removeClass("hide"),d=h.find(".smileyCategoryContent"),s[u]=d}if(u===a.SmileyCategories.LITTLE)return void l.push(t);t.created?(c=e(new Image).attr({src:a.default.urls.base+t.url,token:t.shortcut}).one("load",function(){o.reinitialise()}).one("error",function(t){var i=e(t.currentTarget).parent(),a=i.parent();i.remove(),o.reinitialise(),a.children().length||(a.parent().addClass("hide"),r.children().filter(":visible").length||n.clearSearch(),o.reinitialise())}),i=c.wrap("<div/>").parent().addClass("smileyContainer userSubmitted")):(c=e(new Image).attr({src:a.default.urls.base+"/images/chat/smiles/"+t.url,token:t.shortcut}).one("load",function(){o.reinitialise()}),i=e("<div/>",{class:"smileyContainer"}).append(c)),d.append(i)}),l.length){var c=s[a.SmileyCategories.LITTLE],u='<table class="countColumns'+this.countColumns+'"><tr>',d=0;l.forEach(function(e,t){var i=e.created?a.default.urls.base+e.url:a.default.urls.base+"/images/chat/smiles/"+e.url;d++,t>0&&t%n.countColumns==0&&(d=0,u+="</tr><tr>"),u+='<td><span class="smileyContainer '+(e.created?"userSubmitted":"")+'"><img token="'+e.shortcut+'" src="'+i+'"/></span></td>'});for(var p=d;p<=this.countColumns;p++)u+="<td></td>";u+="</tr></table>",c.append(u)}r.find(".last").removeClass("last"),r.find(".first").removeClass("first");var f=r.find(".smileyCategoryContainer:not(.hide)"),m=f.first();m.addClass("first"),this.$panel.find(".smilePanelViewer").find(".smile-tab-title .smileTitle").html(m.find(".smileTitle").html()),r.height()>=i.height()&&f.last().addClass("last"),o.scrollToY(0),o.reinitialise()},n.prototype.onHoverHintItem=function(t){var n=this.$hintPanel.find(".smileView"),i=e(t),r=i.data("url");this.$hintPanel.find(".smileyHint_item.active").removeClass("active"),i.addClass("active");var o=e(new Image).attr({src:i.data("created")?a.default.urls.base+r:a.default.urls.base+"/images/chat/smiles/"+r}).one("load",function(){n.html("").show(),n.append(o)})},n.prototype.onClickHintItem=function(t){var n=e(t),i=n.data("shortcut")||"",a=this.$input.val();this.$input.is(":disabled")||(a=a.replace(/:[a-z0-9-_]*$/g,i+" "),this.$input.focus().val(""),this.$input.focus().val(a),this.closeHint())},n.prototype.onHintComplete=function(t){var n=t.slice(0,a.default.MAX_HINT_SMILEYS),i=this.$hintPanel.find(".smileysHintFrame"),r=i.find(".smile-frame-content");if(this.$input.removeData("searchXhr"),this.$hintPanel.find(".smileView").hide(),!n.length)return void this.closeHint();r.html(""),n.forEach(function(t){r.append(e(w.default(t)))}),e("#bChat").width()<=800?this.$hintPanel.addClass("min"):this.$hintPanel.removeClass("min"),this.openHint(),this.$hintPanel.css("visibility","hidden"),i.css({height:r.height()}),this.$hintPanel.css({top:this.getTopOffset(!0),left:this.getLeftOffset(!0)}),this.$hintPanel.css("visibility","")},n.prototype.toggleSearchIcons=function(e){var t=this.$panel.find(".smileySearch_prefix"),n=this.$panel.find(".smileySearch_clear");e?(t.show(),n.show()):(t.hide(),n.hide())},n.prototype.clearSearch=function(e){void 0===e&&(e=!1);var t=this.$panel.find(".smilePanelFrameSearch"),n=t.find(".smile-frame-content");if(this.toggleSearchIcons(!e),e){t.addClass("empty");var i=this.$panel.find(".smileySearch_input");i.addClass("force_cleared").val(""),i.removeData("prev-val")}t.removeData("page"),t.removeData("last"),this.$panel.find(".smilePanelViewer").find(".smile-tab-title .smileTitle").html(""),this.$panel.find(".smileShortcut").html(""),n.html(p.default()),t.hide(),t.data("jsp")&&t.data("jsp").reinitialise(),t.is(".smilePanelFrameActive")&&t.show()},n.prototype.onHoverSmiley=function(t){var n=e(t),i=n.find("img");if(this.$panel.find(".smileShortcut").html(i.attr("token")),i.data("title")?this.$panel.find(".smileAbout .smileTitle").show().html(i.data("title")):this.$panel.find(".smileAbout .smileTitle").hide(),i.data("author")){var a=i.data("author");this.$panel.find(".userSmileAuthor").show().find("a").attr("href","/profile/"+a.username).html(a.display_name)}else this.$panel.find(".userSmileAuthor").hide();i.data("date")?this.$panel.find(".userSmileDate").show().find("span").html(i.data("date")):this.$panel.find(".userSmileDate").hide(),this.$panel.find(".smileyContainer.active, .smileyGraphic.active").removeClass("active"),n.addClass("active")},n.prototype.drawGraphicsSmiley=function(t,n){if(n.hasOwnProperty("url")){var i=this.$panel.find('.smilePanelFrame[data-category="'+t+'"]'),r=e(new Image).attr({src:a.default.urls.base+n.url,token:n.shortcut}).data({author:{username:n.username,display_name:n.display_name},date:n.created.split(" ")[0]}).one("load",function(){i.data("jsp")&&i.data("jsp").reinitialise()}).one("error",function(){e(this).parent().remove(),i.data("jsp")&&i.data("jsp").reinitialise()}),o=r.wrap("<div/>").parent().addClass("userSubmitted "+(t===a.SmileyCategories.GRAPHICS?"smileyGraphic":"smileyContainer"));if(t===a.SmileyCategories.LITTLE){var s=i.data("columns")||7;if(i.find("tr:last > *").length%parseInt(s)==0){var l=e("<tr>").append(e("<td>").append(o));i.find("tbody").append(l)}else i.find("tr:last").append(e("<td>").append(o))}else i.find(".smile-frame-content").append(o);i.data("jsp")&&i.data("jsp").reinitialise()}},n.prototype.loadUserSubmittedSmileys=function(e,t){var n=this;a.default.loadSmileys({category:e,page:t,success:function(t){t.forEach(function(t){n.drawGraphicsSmiley(e,t)})}})},n.prototype.showUploadDialog=function(e){var t=this;if(e){this.$panel.removeData("fileId"),this.$panel.find(".smiley-choose-file").hide(),this.$panel.find(".smiley-upload-file").show(),this.$panel.find(".smiley-upload-progress-val").css({"max-width":0}),this.$panel.find(".smiley-filename-val").html(e.name);var n=1024,i=n*n,o=(e.size/n).toFixed(1)+"&nbsp;Kb";e.size>i-100*n&&(o=(e.size/i).toFixed(1)+"&nbsp;Mb"),this.$panel.find(".smiley-filesize-val").html(o);new r.default({url:a.default.urls.uploadImage,fileFieldName:"smiley",fileMaxWidth:a.default.graphicsRestrictions.maxWidth,fileMinWidth:a.default.graphicsRestrictions.minWidth,fileMaxHeight:a.default.graphicsRestrictions.maxHeight,fileMinHeight:a.default.graphicsRestrictions.minHeight}).upload(e,{upload:function(e){t.onCompleteFile(e)},progress:function(e){if(e.lengthComputable){var n=100*e.loaded/e.total;n>=100&&(n=100),t.$panel.find(".smiley-upload-progress-val").css("max-width",n+"%"),t.$panel.find(".smiley-upload-percentage-val").html(""+n)}},error:function(e){t.$panel.find(".smiley-upload-percentage").hide(),t.$panel.find(".smiley-upload-error").show().html(e)}})}},n.prototype.hideUploadDialog=function(){this.$panel.removeData("fileId"),this.$panel.find(".smileyFile").val(""),this.$panel.find(".smiley-upload-file").hide(),this.$panel.find(".smiley-choose-file").show(),this.$panel.find(".smiley-upload-progress").show(),this.$panel.find(".smiley-upload-percentage").show(),this.$panel.find(".smiley-upload-error").hide(),this.$panel.find(".smiley-upload-complete").hide(),this.checkFormSubmit()},n.prototype.checkFormSubmit=function(){var e=this.$panel.data("fileId")&&this.$panel.data("shortcut");return this.$panel.find(".smiley-submit").prop("disabled",!e),e},n.prototype.onCompleteFile=function(e){this.$panel.find(".smiley-upload-file").is(":visible")&&(e&&e.smile_id?(this.$panel.data("fileId",e.smile_id),this.$panel.find(".smiley-upload-progress").hide(),this.$panel.find(".smiley-upload-error").hide(),this.$panel.find(".smiley-upload-percentage").hide(),this.$panel.find(".smiley-upload-complete").show()):(this.$panel.find(".smiley-upload-percentage").hide(),this.$panel.find(".smiley-upload-error").show().html(__("Error while upload file"))),this.checkFormSubmit())},n.prototype.onSubmitUpload=function(t){var n=this;if(t.preventDefault(),!this.checkFormSubmit())return this.$panel.data("shortcut")||this.$panel.find(".smiley-shortcut-input").val()||this.$panel.find(".smiley-shortcut-error").show().html(__("This field is required")),!1;e.ajax({url:a.default.urls.addSmiley,type:"POST",dataType:"json",data:S.getCSRFData({shortcut:this.$panel.data("shortcut"),id:this.$panel.data("fileId")}),success:function(e){e&&e.status&&n.onSuccessSubmit()}})},n.prototype.onSuccessSubmit=function(){this.$panel.find(".smile-upload-form").hide(),this.$panel.find(".smile-upload-success").show(),this.$panel.find(".smilePanelFrameUpload").data("clear",!0)},n.prototype.clearUploadForm=function(){this.$panel.removeData("fileId"),this.$panel.removeData("shortcut"),this.$panel.find(".smiley-shortcut-input").val(""),this.$panel.find(".smileyFile").val(""),this.$panel.find(".smiley-upload-progress-val").css("max-width",0),this.$panel.find(".smiley-upload-percentage-val").html("0"),this.$panel.find(".smiley-submit").prop("disabled",!0),this.$panel.find(".smile-upload-form").show(),this.$panel.find(".smile-upload-success").hide(),this.$panel.find(".smiley-upload-file").hide(),this.$panel.find(".smiley-choose-file").show(),this.$panel.find(".smiley-upload-progress").show(),this.$panel.find(".smiley-upload-percentage").show(),this.$panel.find(".smiley-upload-error").hide(),this.$panel.find(".smiley-upload-complete").hide()},n.prototype.renderRecentSmileys=function(){a.default.recent.update();var t=e(".smilePanelFrameRecent"),n=t.find(".smile-frame-content"),i=a.default.getCategory(a.SmileyCategories.RECENT),r=[];i&&(this.canUsePremiumSmileys()||(i.collection.forEach(function(e){!e.category||e.category!==a.SmileyCategories.BIG&&e.category!==a.SmileyCategories.TEXT||r.push(e.shortcut)}),r.forEach(function(e){a.default.recent.remove(e)})),n.html(""),i.collection.length||n.html(m.default()),i.collection.forEach(function(i){var r;if(i.created){r=e(new Image).attr({src:a.default.urls.base+i.url,token:i.shortcut}).one("load",function(){t.data("jsp")&&t.data("jsp").reinitialise()}).one("error",function(){var t=e(this);a.default.recent.remove(t.attr("token")),t.parent().remove()}).wrap("<div/>").parent().addClass("smileyContainer userSubmitted")}else r=e("<div/>",{class:"smileyContainer"}).html('<img token="'+i.shortcut+'" src="'+a.default.urls.base+"/images/chat/smiles/"+i.url+'" alt=""/>'),t.data("jsp")&&t.data("jsp").reinitialise();n.append(r)}))},n.prototype.getTopOffset=function(n){if(void 0===n&&(n=!1),n){var i=this.$input.offset(),a=i.top-this.$hintPanel.height()+12;return this.$hintPanel.hasClass("smilePanelFixed")&&(a-=e(window).scrollTop()),this.$panel.hasClass("in_chat")&&(a-=18),a}return t.prototype.getTopOffset.call(this)},n.prototype.getLeftOffset=function(n){if(void 0===n&&(n=!1),n){var i=this.$input.offset(),a=i.left;return this.$hintPanel.hasClass("smilePanelFixed")&&(a-=e(window).scrollLeft())<=0&&(a=0),this.$panel.hasClass("in_chat")&&(a+=2),x.isRTLCulture&&(a+=this.$input.width()-this.$hintPanel.width()),a}return t.prototype.getLeftOffset.call(this)},n}(C.default);t.default=E}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return'\n  <div class="smilePanelViewer">\n    \x3c!--<div class="smileView"></div>--\x3e\n    <div class="smileInfo">\n      <div class="smile-tab-title">\n        <div class="smileTitle"></div>\n      </div>\n      <div class="smileAbout">\n        <div class="smileTitle"></div>\n        <div class="userSmileAuthor">\n          '+__("Submitted by")+': <a href="#" target="_blank"></a>\n        </div>\n        <div class="userSmileDate">\n          '+__("Date submitted")+': <span></span>\n        </div>\n      </div>\n      <div class="smileShortcut"></div>\n    </div>\n  </div>\n'};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(e){void 0===e&&(e=!1);var t="",n="",a="";return e||(t='\n      <div class="smilePanelTab smile-tab smile-tab-recent">\n        <span>'+i.default.getCategory(i.SmileyCategories.RECENT).title+"</span>\n      </div>\n    ",n='\n      <div class="smilePanelTab smile-tab smile-tab-graphics">\n        <span>'+i.default.getCategory(i.SmileyCategories.GRAPHICS).title+"</span>\n      </div>\n    ",a='\n      <div class="smilePanelTab smile-tab smile-tab-upload">\n        <span>'+__("Upload Graphic")+"</span>\n      </div>\n    "),'\n  <div class="smile-tabs-wrapper">\n    <div class="smilePanelTabs">\n      '+t+'\n      <div class="smilePanelTab smile-tab smile-tab-little smilePanelTabActive">\n        <span>'+i.default.getCategory(i.SmileyCategories.LITTLE).title+'</span>\n      </div>\n      <div class="smilePanelTab smile-tab smile-tab-big">\n        <span>'+i.default.getCategory(i.SmileyCategories.BIG).title+'</span>\n      </div>\n      <div class="smilePanelTab smile-tab smile-tab-text">\n        <span>'+i.default.getCategory(i.SmileyCategories.TEXT).title+"</span>\n      </div>\n      "+n+"\n      "+a+"\n    </div>\n  </div>\n"};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return'\n  <div class="smiley-header smilePanelHeaderSearch">\n    <div class="smiley-header-content">\n      <div class="smileySearch_prefix">:</div>\n      <input type="text" class="smileySearch_input" placeholder="'+__("Search for Smiley")+'">\n      <div class="smileySearch_clear"></div>\n    </div>\n  </div>\n'};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return'\n  <div class="smilePanelFrame smilePanelFrameSearch with-scroll">\n    <div class="smile-frame-content"></div>\n  </div>\n'};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(e){return'\n  <div class="smileyCategoryContainer '+(e===i.SmileyCategories.RECENT||e===i.SmileyCategories.GRAPHICS?"smileyMixedList":"")+" smileyCategory-"+e+' hide" data-title="'+i.default.getCategory(e).title+'">\n    <div class="smileyCategoryHeader">\n      <div class="smileTitle">'+i.default.getCategory(e).title+'</div>\n    </div>\n    <div class="smileyCategoryContent"></div>\n  </div>\n'};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return'\n  <span style="visibility:hidden;">iefix</span>\n  <div class="smileySearch_empty">'+__("No smileys to show")+"</div>\n"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(){return'\n  <div class="smilePanelFrame smilePanelFrameRecent with-scroll smileyMixedList" data-category="recent_smileys" data-title="'+i.default.getCategory(i.SmileyCategories.RECENT).title+'">\n    <div class="smile-frame-content"></div>\n  </div>\n'};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return'\n  <div class="smileyRecent_empty">'+__("Recently used smileys will appear here")+"</div>\n"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(){return'\n  <div class="smiley-header smilePanelHeaderGraphics hide">\n    <div class="smiley-header-content">\n      <div class="smileTitle">'+i.default.getCategory(i.SmileyCategories.GRAPHICS).title+"</div>\n      <p>"+__("Click the emoticon or use a corresponding shortcut.")+"</p>\n    </div>\n  </div>\n"};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return'\n  <div class="smilePanelFrame smilePanelFrameGraphics with-scroll" data-category="user_submitted">\n    <div class="smile-frame-content"></div>\n  </div>\n'};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return'\n  <div class="smiley-header smilePanelHeaderUpload hide">\n    <div class="smiley-header-content">\n      <div class="smileTitle">'+__("Upload Graphic")+"</div>\n      <p>"+__("Now you have the opportunity to upload a custom emoticon and use it in chat! It will be listed in User Submitted Graphics and available to all members. Inappropriate, infringing or insulting images will be rejected.")+"</p>\n    </div>\n  </div>\n"};t.default=i},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=function(){var t='<div class="smilePanelFrame smilePanelFrameUpload" data-clear="true"><div class="smile-frame-content">';if(parseInt(e(".bTokens").html())>0)t+='\n              <div class="smile-upload-form">\n                <form class="smiley-form" method="post" action="'+i.default.urls.uploadImage+'" enctype="multipart/form-data">\n                  <div class="smileyShortcutArea form_data">\n                    <div class="input_wrapper">\n                      <input type="text" name="shortcut" placeholder="'+__("Shortcut")+'" maxlength="16" class="smiley-shortcut-input">\n                      <span class="smiley-what" data-popup=".smiley-shortcut-popup">?</span>\n                    </div>\n                    <div class="smiley-shortcut-error"></div>\n                    <div class="smiley-popup smiley-shortcut-popup popover-light">\n                      <div class="corner bot"></div>\n                      <div class="smiley-popup-close popover-light-close"></div>\n                      <div class="smiley-popup-content popover-light-inner">\n                        <div class="smileTitle popover-light-title">'+__("Shortcut")+"</div>\n                        <p>"+__("The shortcut should start with a colon and contain only letters (a-z), numbers (0-9) and symbols ('-', '_').")+'</p>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="smiley-choose-file">\n                    <div class="smiley-file-dnd">\n                      <label>\n                        <input type="file" name="smileyFile" class="smileyFile">\n                        '+__("%s1%Drag and drop%s2% file here, or %s3%browse%s4% to begin upload",{s1:"<strong>",s2:"</strong>",s3:"<span>",s4:"</span>"})+'\n                      </label>\n                    </div>\n                    <p class="smileyDescription">\n                      '+__("Allowed formats: .jpg, .png, .jpeg, .gif. Maximum size: 1MB.")+"\n                      <br/>\n                      "+__("Maximum width: %width% px, maximum height: %height% px.",{width:i.default.graphicsRestrictions.maxWidth,height:i.default.graphicsRestrictions.maxHeight})+'\n                    </p>\n                  </div>\n                  <div class="smiley-upload-file">\n                    <div class="smiley-upload-cancel"></div>\n                    <div class="smiley-filename">\n                      <span class="smiley-filename-val"></span> <span class="smiley-filesize">(<span class="smiley-filesize-val"></span>)</span>\n                    </div>\n                    <div class="smiley-upload-progress">\n                      <div class="smiley-upload-progress-val"></div>\n                    </div>\n                    <div class="smiley-upload-percentage">\n                        '+__("%percent%% uploaded",{percent:'<span class="smiley-upload-percentage-val">0</span>'})+'\n                    </div>\n                    <div class="smiley-upload-error"></div>\n                    <div class="smiley-upload-complete">'+__("Completed")+'</div>\n                  </div>\n                  <button class="smiley-submit mls_btn mls_btn_dark_green" disabled="disabled"><span>'+__("Submit Graphic")+'</span></button>\n                </form>\n              </div>\n              <div class="smile-upload-success">\n                <div class="smileTitle">'+__("Your emoticon has been successfully uploaded.")+"</div>\n                <p>"+__("It will be available after moderation.")+"</p>\n              </div>\n            ";else{var n=e('[rel="buy_tokens"][href]').attr("href");t+='\n              <div class="smiley-no-tokens">\n                <div class="smileTitle">'+__("Uploading emoticons is only available for users with Tokens.")+'</div>\n                <a class="mls_btn mls_btn_green buy_tokens" rel="buy_tokens" href="'+n+'">'+__("Buy Tokens")+"</a>\n                <p>"+__("Purchase some Tokens to upload your emoticon.")+"</p>\n              </div>\n            "}return t+="</div></div>"};t.default=a}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return'\n  <div class="smileysHintPanel">\n    <div class="smileysHintContainer">\n      <div class="smilePanelViewer">\n        <div class="smileView"></div>\n      </div>\n      <div class="smileysHintFrame">\n        <div class="smile-frame-content"></div>\n      </div>\n    </div>\n  </div>\n'};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return'\n  <div class="smileyHint_item" data-shortcut="'+e.shortcut+'" data-url="'+e.url+'" data-category="'+e.category+'" '+(e.created?'data-created="'+e.created+'"':"")+">\n    "+e.shortcut+"\n  </div>\n"};t.default=i},,function(e,t,n){"use strict";function i(e,t){m(),Array.isArray(e)||(e=[e]);for(var n=0,i=e;n<i.length;n++){var a=i[n],r=d[a];if(r)return new r(t)}return null}function a(e){return m(),Boolean(d[e])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=n(200),s=n(358),l=n(239),c=n(363),u=function(){var e=window.location.search.match("[?&]force_player=([^&]+)");return e&&e[1]||!1}(),d=null,h={flash:[o.default],hls:[s.default,l.default],hls_only:[l.default],image:[c.default]},p=function(){function e(){}return e.create=function(e){if(void 0===e&&(e=!1),u&&u in h)return new h[u][0];var t;t=e?[s.default,l.default]:[s.default,l.default,o.default];for(var n=0,i=t;n<i.length;n++){var a=i[n];if(a.available)return new a}return new c.default},e}();t.default=p;var f=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(i.available)return i}return null},m=function(){d||(d={},r.loopv(h,function(e,t){d[t]=f(e)}))};t.getVideoPlayer=i,t.isAvailableFormat=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["11","16"];t.checkVSID=function(){var e=window.chat;if(!e)throw Error("checkVSID: Chat is not initialized");var t=e.localData;if(!t)throw Error("checkVSID: missing LocalData attribute on Chat");return-1===i.indexOf(t.vsid)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.isLiveStreamPromo=function(){return e("body").hasClass("ads_fullwindow")}()}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&(n[i[a]]=e[i[a]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.TransHTML=function(e){var t=e.tagName,n=e.text,o=e.params,s=a(e,["tagName","text","params"]);return r.h(t,i({dangerouslySetInnerHTML:{__html:__(n,o)}},s))}},,,,,,,function(e,t,n){"use strict";(function(e){function i(){if(!o.isFullscreenMode()){var t=e(".jp-jplayer:visible"),n=e(".jp-video").attr("is_hd")?e(".jp-video").attr("is_hd"):0,i=1==+n?16:4,a=1==+n?9:3,r=Math.min(t.width(),t.height()*(i/a)),s=Math.min(t.width()*(a/i),t.height()),l=t.height()<=s?0:(t.height()-s)/2;t.find("video").css({width:r,height:s,top:l});var c=t.find("img");c.one("load",function(){var e=(c.parent().width()-c.width())/2;e<0?c.css({marginLeft:e}):c.css({marginLeft:0})}).each(function(){this.complete&&e(this).load()})}}function a(t){var n=e("#mls_videoconsole"),i=n.width()-e(".mls_models_hd").outerWidth(!0)-e(".vc_banners").outerWidth(!0);n.find(".video_player").width(i),t.jPlayer("option","size",{width:i})}function r(t){if(!t.hasClass("initialized")){var n=t.attr("video_height").length?t.attr("video_height"):360;e.jPlayer.pause(),e("#jquery_jplayer_"+t.attr("video_class")).jPlayer({ready:function(){e(this).jPlayer("setMedia",{m4v:t.attr("mp4"),webmv:t.attr("webm"),poster:t.attr("poster")}),e(this).bind(e.jPlayer.event.play,function(n){var i=t.attr("play_url")+(t.attr("is_original")?"?is_original=1":"");e.ajax(i)}),t.hasClass("disabled")&&(t.find(".jp-jplayer > img").prop("src",t.attr("poster")),t.find(".jp-duration").html(t.closest(".video_player").find(".video_duration").val())),t.attr("auto_play")&&!e.isFullMobile&&e(this).jPlayer("play"),e("#mls_videoconsole").length&&(a(t),e(window).resize(function(){a(t)}))},play:function(t){i(),e(".jp-video-play").hide()},resize:function(t){t.jPlayer.options.fullScreen?e("body").addClass("hide-scroll-bar"):e("body").removeClass("hide-scroll-bar")},pause:function(t){e(".jp-video-play").show()},seeked:function(t){t.jPlayer.status.paused&&e(".jp-video-play").show()},click:function(t){t.jPlayer.status.paused?e(this).jPlayer("play"):e(this).jPlayer("pause")},ended:function(){t.attr("open_chat_on_end")&&e.loadPopularChatRoom()},swfPath:"/swf",rtl:!1,supplied:"m4v,webmv",size:{width:4*parseInt(n)/3,height:parseInt(n),cssClass:"jp-video-"+(t.attr("video_height").length?t.attr("video_height"):360)+"p"},smoothPlayBar:!0,cssSelectorAncestor:"#view_video-"+t.attr("video_class"),keyEnabled:!0}),t.addClass("initialized")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(190);t.resizeTubeChat=a,t.videoInit=r,e(function(){e(".jp-video").each(function(){e(this).is(":visible")&&r(e(this))}),e(".cs_tab_item").click(function(){var t=e(".tab_content").find(".content_item").eq(e(this).index()).find(".jp-video");t.length&&r(t)}),e(window).resize(function(){e(".jp-jplayer:visible").length&&setTimeout(function(){i()},500)})})}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(361),r=n(182),o=n(62),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="hls",t}return i(t,e),Object.defineProperty(t.prototype,"src",{get:function(){return chat.videoServerUrl&&chat.performerData&&chat.performerData.username?this.streamUrl?""+this.streamUrl+this.getAuthTokenQuery():r.getStreamUrlOld({type:this.type,streamName:o.getStreamName()}):"about:blank"},enumerable:!0,configurable:!0}),t.prototype.play=function(){var t=this.videoElement;t.src=this.src,t.load();var n=t.play();void 0!==n&&n.catch(function(e){chat.debug("HLS Player Error:",e)}),e.prototype.play.call(this)},t}(a.default);t.default=s},function(e,t,n){"use strict";function i(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}function a(e){var t,n,i,a,r,o,s,l,c,u;if("string"==typeof e&&(e=document.querySelector(e)),!e||!e.getBoundingClientRect)return null;var d=e.getBoundingClientRect();return c=d.width,u=d.height,i=d.left+(window.pageXOffset||document.documentElement.scrollLeft),a=d.top+(window.pageYOffset||document.documentElement.scrollTop),t=[i+c,a+u],r=t[0],o=t[1],n=[i+c/2,a+u/2],s=n[0],l=n[1],{x1:i,y1:a,x2:r,y2:o,xcenter:s,ycenter:l,width:c,height:u}}function r(e,t){var n=a(e),i=a(t);return n&&i&&n.x1<i.x2&&n.x2>i.x1&&n.y1<i.y2&&n.y2>i.y1}function o(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=e.name||"",a=e.type||"",r=a.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim();return"."===t.charAt(0)?i?i.toLowerCase().endsWith(t.toLowerCase()):t.substr(1)===a.replace(/.*\//,""):t.endsWith("/*")?r===t.replace(/\/.*$/,""):a===t})}return!0}function s(e,t,n){void 0===t&&(t=""),void 0===n&&(n={});var i="";return c.loopv(n,function(e,t){"boolean"==typeof e&&(e=e?"yes":"no"),i+=t+"="+e+","}),window.open(e,t,i)}function l(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;")}Object.defineProperty(t,"__esModule",{value:!0});var c=n(8);t.runImmediate=window.requestAnimationFrame||window.setImmediate||function(e){return setTimeout(e,0)},t.getOffset=i,t.getBounding=a,t.isIntersected=r,t.accepts=o,t.openWindow=s,t.htmlEncode=l},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(488),r=n(242),o=function(t){function n(){var e=t.call(this)||this;return DI.inject(e,"store"),e}return i(n,t),n.modRewrite=function(e){return e=e.split("/frontend_dev.php/").join("/")},n.prototype.process=function(e){this.contract.assertInstance(this.constructor.name+"#process",r.default,e),this.contract.assertString(this.constructor.name+"#process",e.url);var t=n.modRewrite(e.url);this.contract.assertString(this.constructor.name+"#process",t),this.htmlLoader(e.url,function(t){this.processHTML(t,e)}.bind(this))},n.prototype.processHTML=function(t,n){this.window.scrollTo(0,0);var i=this.parseData(t);this.modifyLayout(t,i),this.modifyDOM(i.nodeSelector,i.html),this.modifyLocation(n.url),this.rebindModules(i,n),e(document).triggerHandler("html:modifyDOM",[i.isFullPage])},n.prototype.rebindModules=function(e,t){this.modules.rebind(e.isFullPage,t)},Object.defineProperty(n.prototype,"htmlLoader",{get:function(){return this.store.loadHTML.bind(this.store)},enumerable:!0,configurable:!0}),n}(a.default);t.default=o}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(608),r=function(e){function t(t){var n=e.call(this)||this;return n.url=t,DI.inject(n,"contract"),n.contract.assertString(n.constructor.name+"~constructor",t),n}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(242),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(120),n(152),n(100),n(246),n(248),n(250),n(252),n(183),n(192),n(185),n(254),n(154),n(176)},function(e,t,n){n(3)(n(247))},function(e,t){e.exports='!function(a){function b(b){this.input=b,"password"==b.attr("type")&&this.handlePassword(),a(b[0].form).submit(function(){b.hasClass("placeholder")&&b[0].value==b.attr("placeholder")&&(b[0].value="")})}b.prototype={show:function(a){if(""===this.input[0].value||a&&this.valueIsPlaceholder()){if(this.isPassword)try{this.input[0].setAttribute("type","text")}catch(b){this.input.before(this.fakePassword.show()).hide()}this.input.addClass("placeholder"),this.input[0].value=this.input.attr("placeholder")}},hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass("placeholder")&&(this.input.removeClass("placeholder"),this.input[0].value="",this.isPassword)){try{this.input[0].setAttribute("type","password")}catch(a){}this.input.show(),this.input[0].focus()}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr("placeholder")},handlePassword:function(){var b=this.input;if(b.attr("realType","password"),this.isPassword=!0,a.browser.msie&&b[0].outerHTML){var c=a(b[0].outerHTML.replace(/type=([\'"])?password\\1/gi,"type=$1text$1"));this.fakePassword=c.val(b.attr("placeholder")).addClass("placeholder").focus(function(){b.trigger("focus"),a(this).hide()}),a(b[0].form).submit(function(){c.remove(),b.show()})}}};var c=!!("placeholder"in document.createElement("input"));a.fn.placeholder=function(){return c?this:this.each(function(){var c=a(this),d=new b(c);d.show(!0),c.focus(function(){d.hide()}),c.blur(function(){d.show(!1)}),a.browser.msie&&(a(window).load(function(){c.val()&&c.removeClass("placeholder"),d.show(!0)}),c.focus(function(){if(""==this.value){var a=this.createTextRange();a.collapse(!0),a.moveStart("character",0),a.select()}}))})}}(jQuery);'},function(e,t,n){n(3)(n(249))},function(e,t){e.exports='!function(n){n.open={},n.open.defaultParams={width:"800",height:"600",top:"0",left:"0",directories:"no",location:"no",resizable:"yes",menubar:"no",toolbar:"no",scrollbars:"yes",status:"no"},n.open.defaultConfig={autoFocus:!0},n.open.windowMap=[],n.open.newWindow=function(e,o,t){var a,i=n.extend(n.open.defaultParams,o),r=n.extend(n.open.defaultConfig,t),w=o.windowName||"new"+(new Date).getTime(),d=o.onClose||null,p="";for(a in i)i.hasOwnProperty(a)&&(p+=""===p?"":",",p+=a+"=",!0===i[a]||!1===i[a]?p+=i[a]?"yes":"no":p+=i[a]);if(!n.open.windowMap[w]||n.open.windowMap[w].closed){if(n.open.windowMap[w]=window.open(e,w,p),"function"==typeof d){var f=function(){var o=!0,t=function(){o=!1},a=function(){if(!o){var t={};n.open.windowMap[w].window&&n.open.windowMap[w].window.hasOwnProperty("$")&&(t=n.extend({},n.open.windowMap[w].window.$.windowJsVars)),setTimeout(function(){n.open.windowMap[w]&&!n.open.windowMap[w].closed&&n.open.windowMap[w].location.href&&f(),n.open.windowMap[w]&&n.open.windowMap[w].closed&&d(e,w,t)},200)}},i=n.open.windowMap[w];void 0!==i.attachEvent?i.attachEvent("onload",t):void 0!==i.addEventListener&&i.addEventListener("load",t,!1),void 0!==i.attachEvent?i.attachEvent("onunload",a):void 0!==i.addEventListener&&i.addEventListener("unload",a,!1)};f()}}else r.autoFocus&&n.open.windowMap[w].focus();return n.open.windowMap[w]},n.fn.openBind=function(e,o){var t=e.params||e,a=e.config||{};return n(document).on("click",this.selector,function(e){e.preventDefault(),n(this).attr("name")&&(t.windowName=n(this).attr("name"));var i;if(t.href)i=t.href;else{if(!n(this).attr("href"))return;i=n(this).attr("href")}var r=n.open.newWindow(i,t,a);o&&o(r)}),n},n.fn.open=function(e,o){var t=e.params||e,a=e.config||{};return this.each(function(){n(this).click(function(e){e.preventDefault(),n(this).attr("name")&&(t.windowName=n(this).attr("name"));var i;if(t.href)i=t.href;else{if(!n(this).attr("href"))return;i=n(this).attr("href")}var r=n.open.newWindow(i,t,a);o&&o(r)})}),n}}(jQuery);\n'},function(e,t,n){n(3)(n(251))},function(e,t){e.exports='!function(a){function b(a){return!isNaN(parseFloat(a))&&isFinite(a)}function c(a,b,d,e,f,g,h){var i,j,k;return h?(i=0===d?"":b.slice(-d),j=b.slice(-e)):(i=b.slice(0,d),j=b.slice(0,e)),f.html(j+g).width()<f.html(i+g).width()?e:(k=parseInt((d+e)/2,10),i=h?b.slice(-k):b.slice(0,k),f.html(i+g),f.width()===a?k:(f.width()>a?e=k-1:d=k+1,c(a,b,d,e,f,g,h)))}a.fn.truncate=function(d){var e={width:"auto",token:"&hellip;",center:!1,addclass:!1,addtitle:!1};return d=a.extend(e,d),this.each(function(){var k,e=a(this),f={fontFamily:e.css("fontFamily"),fontSize:e.css("fontSize"),fontStyle:e.css("fontStyle"),fontWeight:e.css("fontWeight"),"font-variant":e.css("font-variant"),"text-indent":e.css("text-indent"),"text-transform":e.css("text-transform"),"letter-spacing":e.css("letter-spacing"),"word-spacing":e.css("word-spacing"),display:"none"},g=e.html(),h=a("<span/>").css(f).html(g).appendTo("body"),i=h.width(),j=b(d.width)?d.width:e.width();i>j&&(h.text(""),d.center?(j=parseInt(j/2,10)+1,k=g.slice(0,c(j,g,0,g.length,h,d.token,!1))+d.token+g.slice(-1*c(j,g,0,g.length,h,"",!0))):k=g.slice(0,c(j,g,0,g.length,h,d.token,!1))+d.token,d.addclass&&e.addClass(d.addclass),d.addtitle&&e.attr("title",g),e.html(k)),h.remove()})}}(jQuery);'},function(e,t,n){n(3)(n(253))},function(e,t){e.exports='!function(d){d.fn.countdown=function(e){var t={date:null,updateTime:1e3,htmlTemplate:"%d <span class=\'cd-time\'>days</span> %h <span class=\'cd-time\'>hours</span> %i <span class=\'cd-time\'>mins</span> %s <span class=\'cd-time\'>sec</span>",minus:!1,onChange:null,onComplete:null,onResume:null,onPause:null,leadingZero:!1,offset:null,serverTime:null,hoursOnly:!1,minsOnly:!1,secsOnly:!1,hours:!1,yearsAndMonths:!1,direction:"down"},n=[].slice,v=window.clearInterval,g=Math.floor,y=(Math.ceil,/(%y|%m|%d|%h|%i|%s)/g),j=/%y/,T=/%m/,D=/%d/,C=/%h/,w=/%i/,O=/%s/,M=function(e,t){var n,a,s,o=new Date;return a=null===e?o.getTime()-t:(n=36e5*e,s=o.getTime()- -o.getTimezoneOffset()/60*36e5+n,o.setTime(s)),new Date(a)},i=function(){var e,t,n,a,s,o,r,i,d,l,c,u=this,m="",h={years:0,months:0,days:0,hours:0,minutes:0,seconds:0},p=function(e){var t;return t=g(c/e),c-=t*e,t},f=u.data("jcdData");if(!f)return!1;e=f.htmlTemplate,(t=null===f.offset&&null===f.serverTime?new Date:null!==f.offset?M(f.offset):M(null,f.difference)).setMilliseconds(0),(n=new Date(f.date)).setMilliseconds(0),a="down"===f.direction?n.getTime()-t.getTime():t.getTime()-n.getTime(),c=Math.round(a/1e3),h.days=p(86400),h.hours=p(3600),h.minutes=p(60),h.seconds=p(1),f.yearsAndMonths&&(c+=86400*h.days,h.years=p(31556926),h.months=p(2629743.83),h.days=p(86400)),s=h.years,o=h.months,r=h.days,i=h.hours,d=h.minutes,l=h.seconds,f.hoursOnly&&(i+=24*r,r=0),f.minsOnly&&(d+=60*i+24*r*60,r=i=0),f.secsOnly&&(l+=60*d,r=i=d=0),f.yearsLeft=s,f.monthsLeft=o,f.daysLeft=r,f.hrsLeft=i,f.minsLeft=d,60===(f.secLeft=l)&&(l=0),f.leadingZero&&(r<10&&!f.hoursOnly&&(r="0"+r),s<10&&(s="0"+s),o<10&&(o="0"+o),i<10&&(i="0"+i),d<10&&(d="0"+d),l<10&&(l="0"+l)),"down"===f.direction&&(t<n||f.minus)||"up"===f.direction&&(n<t||f.minus)?m=(m=e.replace(j,s).replace(T,o)).replace(D,r).replace(C,i).replace(w,d).replace(O,l):(m=e.replace(y,"00"),f.hasCompleted=!0),u.html()!==m&&(u.html(m),u.trigger("change.jcdevt",[f])),f.hasCompleted&&(u.trigger("complete.jcdevt"),v(f.timer))},a={init:function(s){var o,r=d.extend({},t,s);r.htmlTemplate;return this.each(function(){var e,t,n=d(this),a={};if(n.data("jcdData")&&(n.countdown("changeSettings",s,!0),r=n.data("jcdData")),null===r.date)return d.error("No Date passed to jCountdown. date option is required."),!0;("Invalid Date"===new Date(r.date).toString()&&d.error("Invalid Date passed to jCountdown: "+r.date),null,r.onChange&&n.on("change.jcdevt",r.onChange),r.onComplete&&n.on("complete.jcdevt",r.onComplete),r.onPause&&n.on("pause.jcdevt",r.onPause),r.onResume&&n.on("resume.jcdevt",r.onResume),a={originalHTML:n.html(),date:r.date,yearsAndMonths:r.yearsAndMonths,hoursOnly:r.hoursOnly,minsOnly:r.minsOnly,secsOnly:r.secsOnly,leadingZero:r.leadingZero,updateTime:r.updateTime,direction:r.direction,template:r.htmlTemplate,htmlTemplate:r.htmlTemplate,minus:r.minus,offset:r.offset,serverTime:r.serverTime,difference:null,onChange:r.onChange,onComplete:r.onComplete,onResume:r.onResume,onPause:r.onPause,hasCompleted:!1,timer:0},null!==r.serverTime)&&(o=new Date,t=d.isFunction(a.serverTime)?a.serverTime():a.serverTime,a.difference=o.getTime()-t);e=d.proxy(i,n),a.timer=setInterval(e,a.updateTime),n.data("jcdData",a),e()})},changeSettings:function(a,s){return this.each(function(){var e,t=d(this),n=d.proxy(i,t);if(!t.data("jcdData"))return!0;e=d.extend({},t.data("jcdData"),a),a.hasOwnProperty("date")&&"Invalid Date"===new Date(a.date).toString()&&d.error("Invalid Date passed to jCountdown: "+a.date),e.completed=!1,v(e.timer),t.off(".jcdevt").data("jcdData",e),s||(e.onChange&&t.on("change.jcdevt",e.onChange),e.onComplete&&t.on("complete.jcdevt",e.onComplete),e.onPause&&t.on("pause.jcdevt",e.onPause),e.onResume&&t.on("resume.jcdevt",e.onResume),e.timer=setInterval(n,e.updateTime),t.data("jcdData",e),n())})},resume:function(){return this.each(function(){var e=d(this),t=e.data("jcdData"),n=d.proxy(i,e);if(!t)return!0;e.data("jcdData",t).trigger("resume.jcdevt"),t.hasCompleted||(t.timer=setInterval(n,t.updateTime),n())})},pause:function(){return this.each(function(){var e=d(this),t=e.data("jcdData");if(!t)return!0;v(t.timer),e.data("jcdData",t).trigger("pause.jcdevt")})},complete:function(){return this.each(function(){var e=d(this),t=e.data("jcdData");if(!t)return!0;v(t.timer),t.hasCompleted=!0,e.data("jcdData",t).trigger("complete.jcdevt").off(".jcdevt")})},destroy:function(){return this.each(function(){var e=d(this),t=e.data("jcdData");if(!t)return!0;v(t.timer),e.off(".jcdevt").removeData("jcdData").html(t.originalHTML)})},getSettings:function(e){var t=d(this).data("jcdData");return e&&t?t.hasOwnProperty(e)?t[e]:void 0:t}};return a[e]?a[e].apply(this,n.call(arguments,1)):"object"!=typeof e&&e?void d.error("Method "+e+" does not exist in the jCountdown Plugin"):a.init.apply(this,arguments)}}(jQuery);\n'},function(e,t,n){n(3)(n(255))},function(e,t){e.exports='function elapsedTime(a,b){var c=0,d=0,e=0,f=Math.round(a/1e3);c=Math.floor(f/3600),f-=3600*c,d=Math.floor(f/60),f-=60*d,e=f;var g="";return b?g=(10>c?"0":"")+c+":"+(10>d?"0":"")+d+":"+(10>e?"0":"")+e:(c>0&&(g+=c+" "+__("hour(s)")+" "),d>0&&(g+=d+" "+__("minute(s)")+" "),g+=e+" "+__("second(s)")),g}Date.prototype.format=function(a){for(var b="",c=Date.replaceChars,d=0;d<a.length;d++){var e=a.charAt(d);d-1>=0&&"\\\\"==a.charAt(d-1)?b+=e:c[e]?b+=c[e].call(this):"\\\\"!=e&&(b+=e)}return b},Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10==1&&11!=this.getDate()?"st":this.getDate()%10==2&&12!=this.getDate()?"nd":this.getDate()%10==3&&13!=this.getDate()?"rd":"th"},w:function(){return this.getDay()},z:function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((this-a)/864e5)},W:function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil(((this-a)/864e5+a.getDay()+1)/7)},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),0).getDate()},L:function(){var a=this.getFullYear();return a%400==0||a%100!=0&&a%4==0},o:function(){var a=new Date(this.valueOf());return a.setDate(a.getDate()-(this.getDay()+6)%7+3),a.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return Math.floor(1e3*((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},u:function(){var a=this.getMilliseconds();return(10>a?"00":100>a?"0":"")+a},e:function(){return"Not Yet Supported"},I:function(){return"Not Yet Supported"},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+":00"},T:function(){var a=this.getMonth();this.setMonth(0);var b=this.toTimeString().replace(/^.+ \\(?([^\\)]+)\\)?$/,"$1");return this.setMonth(a),b},Z:function(){return 60*-this.getTimezoneOffset()},c:function(){return this.format("Y-m-d\\\\TH:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3}};'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(257)},function(e,t,n){"use strict";(function(e){function i(e,t){var n={};return void 0!==window.chat&&void 0!==window.chat.userData&&void 0!==window.chat.userData.chathost?n.performer=window.chat.userData.chathost:t?n.performer=t:n.livetab=e,n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(40),r=n(7),o=n(5),s=["e:|fuel_girl","ok:|gift_girl","e:|gift_girl_v2"],l=function(){function t(){this.allowedPopupsList=["step_green","girls_blue","champagne","cam_green","default","horizont_green2","gold_step_girl","gay_enter","shemale_reg","fuel_girl","gift_girl","boom","signup_plane"]}return t.prototype.allowedPopups=function(){return this.allowedPopupsList},t.prototype.removePlaceholders=function(){var t=e("#member_join_popup");t.find(".form_row_username input").removeAttr("placeholder"),t.find(".form_row_email input").removeAttr("placeholder"),t.find(".form_row_password input").removeAttr("placeholder")},t.prototype.initSignupForm=function(){var t=e(".f_join_form");void 0!==window.chat&&chat.userData&&chat.userData.chathost&&e(".member_registration_performer_username").val(chat.userData.chathost),t.submittedToRemote(function(e){"function"==typeof goog_sexycams_conversion&&goog_sexycams_conversion("//sexycams.stream/"),"function"==typeof goog_sexycams_club_conversion&&goog_sexycams_club_conversion("//sexycams.club/"),"function"==typeof goog_hot_cams_today_conversion&&goog_hot_cams_today_conversion("//hotcams.today/"),"function"==typeof goog_hot_sexy_cams_conversion&&goog_hot_sexy_cams_conversion("//hotsexycams.online/"),e.removeAttr("onsubmit").unbind(".submitToRemote").submit()},function(t){if(t&&void 0!==t.fields&&null!==t.fields)for(var n in t.fields){var i=e("#"+n),a=t.fields[n].replace(/<\/?[^>]+>/gi,"");if(-1!==n.indexOf("_terms_of_use"))if(i.closest("form").hasClass("f_member_join_form")){var r=i.closest(".member_join_popup");if(r.length&&r.hasClass("champagne")){var o=r.find(".terms_of_use").find(".form_errors_in_row"),s=i.siblings(".i_mark").offset().left-o.closest(".form_row").offset().left-3;o.css("left",s)}}else i.before('<div class="terms_of_use_errors">'+a+"</div>");else i.parent().find("div.obelix").removeClass("valid").addClass("notvalid").attr("title",a),i.parent().removeClass("valid").addClass("notvalid"),(i.parents(".step_green").length||i.parents(".step_yellow").length)&&i.val("").attr("placeholder",e.trim(a))}},function(e){e.find("div.input_wrapper").removeClass("notvalid"),e.find("div.obelix").removeClass("notvalid"),e.find(".with-error").removeClass("with-error"),e.find(".terms_of_use_errors").remove(),e.parents("#member_join_popup").is(".step_green, .step_yellow, .gold_step_girl, .gold_step_yellow")&&e.find("input").removeAttr("placeholder")}),t.find("input:not(input.captcha, input[id$=_terms_of_use], input[type=hidden])").after('<div class="obelix"></div>'),t.find("input[validate_url]").each(function(){""!==e(this).val()&&e(this).checkvalidateurl()}),e(".benefits-container").find(".benefit-item:even").addClass("odd")},t.prototype.showSignupPopup=function(t){if(t=t||{},t.customData=t.customData||{},!t.customData.isClick){if(e("#header_login_popup").is(":visible")||e(".management_form_block").length)return e.isFunction(t.insteadShow)&&t.insteadShow(),!1}var n=e("#member_join_popup_trigger"),a=e(".fancybox-opened");if(a.length&&a.find("#member_join_popup").length)return e.isFunction(t.insteadShow)&&t.insteadShow(),!1;var r,o=[],l=[],c=[],u=!1;if(e.isPromoCodeSignupPopupsOnly)o=["step_green","girls_blue","champagne","cam_green","default"],l=["step_green","cam_green","default"],c=["step_green","cam_green","default"],"male"===e.liveTab?o=l:"transsexual"===e.liveTab&&(o=c),e.isFullMobile&&(o=e.grep(o,function(e){return-1===e.indexOf("cam_green")})),r=o[Math.floor(Math.random()*o.length)];else{var d=["ok:","nk:","np:","g:","e:","ne:","dc:"];o=["ok:|horizont_green2","np:ne:|boom","np:|girls_blue","nk:np:ne:|champagne","nk:np:|step_green","dc:ne:nk:np:|signup_plane"],l=["ok:|horizont_green2","np:|gay_enter","nk:np:|step_green"],c=["ok:|horizont_green2","nk:np:|step_green","np:|shemale_reg"],"male"===e.liveTab?o=l:"transsexual"===e.liveTab&&(o=c),n.data("show_wl")&&s.length&&(o=s),t.customData.isExitHover&&-1===e.inArray("e:",d)&&(o=e.grep(o,function(e){return-1===e.indexOf("e:")})),t.customData.isClick&&-1!==e.inArray("nk:",d)?o=e.grep(o,function(e){return-1===e.indexOf("nk:")}):t.customData.isClick||-1===e.inArray("ok:",d)||(o=e.grep(o,function(e){return-1===e.indexOf("ok:")})),n.data("show_gold")&&-1!==e.inArray("g:",d)||(o=e.grep(o,function(e){return-1===e.indexOf("g:")}));n.data("rv")!==3&&-1!==e.inArray("ne:",d)&&(o=e.grep(o,function(e){return-1===e.indexOf("ne:")}));n.data("is_lfpd")&&-1!==e.inArray("dc:",d)&&(o=e.grep(o,function(e){return-1===e.indexOf("dc:")})),e.isFullMobile&&(o=e.grep(o,function(e){return-1===e.indexOf("cam_greenmin")}));var h=["tukif.club","porndig.club","boafoda.club","pornes.club","pornototale.club","eispop.club","tybito.club","typorno.club","drochy.club"];if(new RegExp(h.join("|")).test(window.location.href)&&(o=e.grep(o,function(e){return-1===e.indexOf("girls_blue")&&-1===e.indexOf("step_green")&&-1===e.indexOf("gay_enter")&&-1===e.indexOf("shemale_reg")&&-1===e.indexOf("boom")&&-1===e.indexOf("gold_step_girl")&&-1===e.indexOf("gold_step_yellow")&&-1===e.indexOf("champagne")}),!o.length))return void(e.isFunction(t.insteadShow)&&t.insteadShow());if(r=t.customData.name?t.customData.name:o[Math.floor(Math.random()*o.length)],-1!==r.indexOf("|")){var p=r.split("|");if(r=p[1],-1!==p[0].indexOf("np:")&&(u=!0),-1!==p[0].indexOf("w:")&&-1!==e.inArray("w:",d)){var f=n.attr("join_url")+"?pop="+r;return u&&(f+="&no_promo_code=1"),"cam_green"!==r&&"cam_yellow"!==r||(f+="&"+e.param(i(e.liveTab||n.attr("livetab"),n.attr("profile")))),window.open(f),!1}}}return t.customData=e.extend(t.customData,{name:r,noPromoCode:u}),this.openSignupPopup(t),e("#login_or_join_popup").hide(),!0},t.prototype.initSignupChampagne=function(){var t=e("#member_join_popup");t.find(".form_row_username input").attr("placeholder",__("Username",[],!1)),t.find(".form_row_password input").attr("placeholder",__("Password",[],!1)),t.find(".join_submit").text(__("Create my account")),t.find(".terms_of_use .field_input").append('<span class="i_mark"></span>');var n=t.find(".terms_of_use .field_input").html();t.find(".terms_of_use .field_input").html(""),t.find(".terms_of_use label").prepend(n);var i,a=!1,r=o.default.getState().skinName;e(document).on("mouseenter",".champagne",function(){a=!1,e(".champagne_poster").removeClass("move-back move-back-short"),e(".champagne_poster_sec").removeClass("move-back"),i=window.setTimeout(function(){a=!0},700)}),e(document).on("mouseleave",".champagne",function(){clearTimeout(i),a?(e(".champagne_poster").addClass("move-back"),e(".champagne_poster_sec").addClass("move-back")):e(".champagne_poster").addClass("move-back-short")}),e(".f_member_join_form.champagne_form input").on("change",function(t){var n=e(this).closest(".input_wrapper");n.length&&n.hasClass("notvalid")&&n.closest(".form_row").find(".form_errors_in_row").html("")}),e(".champagne_form_container .cfc_ttl_name").html(r)},t.prototype.initSignupFast=function(){var t=e("#member_join_popup"),n=t.find(".form_row_email").hasClass("optional")?__("E-mail")+" "+__("(optional)"):__("E-mail");t.find(".form_row_email input").attr("placeholder",n),t.find(".form_row_email .form_row").append(t.find(".email_hint")),e.get(t.find(".popup.join").data("gen_url"),{},function(e){e=JSON.parse(e),t.find(".form_row_username input").val(e.username).prop("generated",!0),t.find(".form_row_password input").val(e.password).prop("generated",!0)})},t.prototype.toggleSignupSteps=function(){var t=e("#member_join_popup");return t.find(".join_step.active").removeClass("active"),t.find(".form_row_username .obelix").hasClass("valid")?(t.find(".join_step2").addClass("active"),t.find(".form_row_username").hide(),t.find(".form_row_email, .form_row_password, .terms_of_use, .promo_code").show(),t.find(".form_actions").show(),t.find("button.next").hide(),t.find(".join_step1").hide(),t.find(".join_step2").show(),t.find(".lazy_text_foot").addClass("active")):(t.find(".join_step1").addClass("active"),t.find("button.next").show(),t.find(".form_row_username").show(),t.find(".form_row_email, .form_row_password, .terms_of_use, .promo_code").hide(),t.find(".form_actions").hide(),t.find("button.next").show(),t.find(".join_step1").show(),t.find(".join_step2").hide(),t.find(".lazy_text_foot").removeClass("active")),!1},t.prototype.initSignupHorizont=function(){var t=e("#member_join_popup"),n=t.find(".form_row_email").hasClass("optional")?__("Email")+" "+__("(optional)"):__("Email");t.find(".form_row_username input").attr("placeholder",__("Username",[],!1)),t.find(".form_row_email input").attr("placeholder",n),t.find(".form_row_password input").attr("placeholder",__("Password",[],!1))},t.prototype.initFuelGirl=function(){var t=e("#member_join_popup"),n=t.find(".form_row_email").hasClass("optional")?__("E-mail")+" "+__("(optional)"):__("E-mail");t.find(".form_row_username input").attr("placeholder",__("Username",[],!1)),t.find(".form_row_email input").attr("placeholder",n),t.find(".form_row_password input").attr("placeholder",__("Password",[],!1)),t.find(".form_actions .bt30").text(__("Sign up now",[],!1))},t.prototype.initGiftGirl=function(){var t=e("#member_join_popup"),n=t.find(".form_row_email").hasClass("optional")?__("E-mail")+" "+__("(optional)"):__("E-mail");t.find(".form_row_username label").text(__("Username",[],!1)+":"),t.find(".form_row_email label").text(n+":"),t.find(".form_row_password label").text(__("Password",[],!1)+":"),t.find(".form_actions .bt30").text(__("Register",[],!1))},t.prototype.initSignupPlane=function(){var t=e("#member_join_popup"),n=t.find(".form_row_email").hasClass("optional")?__("Email")+" "+__("(optional)"):__("Email");t.find(".form_row_username input").attr("placeholder",__("Username",[],!1)),t.find(".form_row_email input").attr("placeholder",n),t.find(".form_row_password input").attr("placeholder",__("Password",[],!1)),t.find(".form_actions .bt30").text(__("%i%Join now%i2%%span%for free%span2%",{i:"",i2:" ",span:"",span2:""}))},t.prototype.openSignupPopup=function(t){var n=this;t=t||{},t.customData=t.customData||{};var i=["gift_girl","champagne","signup_plane"].indexOf(t.customData.name)>-1||t.customData.isClick,a="champagne"===t.customData.name?"fancybox-wrap fancybox-transparent":"fancybox-bonga-wrap",r=e("#member_join_popup_trigger");void 0===t.customData.isClick&&(t.customData.isClick=!1),void 0===t.customData.isTrack&&(t.customData.isTrack=!0),void 0===t.customData.preSignupId&&(t.customData.preSignupId=null),void 0===t.customData.spoofId&&(t.customData.spoofId=null),void 0===t.customData.bannerType&&(t.customData.bannerType=null);var o=r.attr("href");r.data("rv")&&(o+=(-1===o.indexOf("?")?"?":"&")+"rv="+parseInt(r.data("rv")));var s=e("#member_join_popup");e.fancybox.open(o,{helpers:{overlay:{locked:!1,closeClick:!1}},keys:{close:[27],play:[0]},type:"ajax",ajax:{data:{pop:t.customData.name,is_click:t.customData.isClick,is_track:t.customData.isTrack,no_promo_code:t.customData.noPromoCode||0,livetab:e.liveTab||"female"},headers:{"x-language":r.attr("lang")}},scrolling:"no",padding:0,autoResize:!1,wrapCSS:a,closeBtn:i,openSpeed:100,closeSpeed:100,fitToView:!1,beforeShow:function(){e.isFunction(t.beforeShow)&&t.beforeShow.apply(this,arguments),n.initSignupForm();var i={name:t.customData.name};if(t.customData.isClick||(i.force_show=1),t.customData.isExitHover&&(i.exit_hover=1),s.hasClass("no_promo_code")&&(i.no_promo_code=1),void 0!==e.liveTab&&(i.live_tab=e.liveTab),r.data("rv")&&(i.rv=parseInt(r.data("rv"))),t.customData.isTrack&&e.get(r.attr("track_url"),i,function(t){e("input.popup_signup_source_id").val(t)}),t.customData.preSignupId&&e("input.popup_signup_source_id").val(t.customData.preSignupId),t.customData.spoofId&&e("input.spoof_source_id").val(t.customData.spoofId),t.customData.bannerType&&e("input.banner_type").val(t.customData.bannerType),e(".security_log_additional_info_login").length&&e(".security_log_additional_info").val(e(".security_log_additional_info_login").val()),e(".reg_quality_scores").length){var a={};a.client_date_time_formatted=(new Date).format("d.m.Y H:i:s"),a.client_flash_player_language=FP_ClientInfo.language,e(".reg_quality_scores").val(JSON.stringify(a))}},afterShow:function(){e.isFunction(t.afterShow)&&t.afterShow.apply(this,arguments);var n=e(".fancybox-opened");n.find(".over_hidden").length&&n.find(".fancybox-inner").css({overflow:"visible"})},beforeClose:function(){e.isFunction(t.beforeClose)&&t.beforeClose.apply(this,arguments)},afterClose:function(){e.isFunction(t.afterClose)&&t.afterClose.apply(this,arguments),e(".fancybox-inner").css({overflow:""})}})},t.prototype.initSignupCam=function(t,n){e.get(e("#member_join_cam_preview").attr("preview_url"),i(t,n),function(t){e("#member_join_cam_preview").html(t)})},t}();e(function(){var t=new l,n=e("body");e.allowedPopups=function(){return t.allowedPopups()},e.showSignupPopup=function(e){return t.showSignupPopup(e)},e.initSignupFast=function(){return t.initSignupFast()},e.initSignupChampagne=function(){return t.initSignupChampagne()},e.toggleSignupSteps=function(){return t.toggleSignupSteps()},e.initSignupHorizont=function(){t.initSignupHorizont()},e.initFuelGirl=function(){t.initFuelGirl()},e.initGiftGirl=function(){t.initGiftGirl()},e.initSignupPlane=function(){t.initSignupPlane()},e.initSignupCam=function(e,n){t.initSignupCam(e,n)},e("[rel=pre_signup]").each(function(){e(this).open({width:950,height:700,left:(e(window).width()-950)/2,top:(e(window).height()-700)/2,windowName:e(this).attr("name")||"member_signup"})});var i=e("#member_join_popup_trigger");if(e.signupEvent=function(t){i.length||(i=e("#member_join_popup_trigger"));var n=null,a=null,r=null,o=!0;e(this).attr("pop_sid")&&(o=!1,n=e(this).attr("pop_sid")),e(this).attr("spoof_sid")&&(a=e(this).attr("spoof_sid")),e(this).attr("banner_type")&&(r=e(this).attr("banner_type"),e.get("/tools/track.php?bannertype="+r)),i.length&&"undefined"!=typeof sv?(t&&t.preventDefault(),sv.popup.tasks.open("join_popup_manual",{customData:{isTrack:o,preSignupId:n,spoofId:a,bannerType:r}})):"_self"===e(this).attr("target")?window.location=this.href:window.open(this.href)},n.on("click","[rel=signup]",function(t){return e.signupEvent.call(this,t),!1}),n.on("click","#member_join_popup button.next",function(){var t=e("#member_join_popup");return t.find(".form_row_username a").checkvalidateurl(function(n){var i=t.find(".form_data .form_success");i.length&&i.remove(),e.isTranslateSkin&&t.find(".form_row_username input").val("").attr("placeholder",e.trim(n).replace(/<\/?[^>]+>/gi,""))},function(){e.toggleSignupSteps()}),!1}),n.on("click",".f_join_form .captcha_link_text",function(){e(this).closest("form").find('img[class="captcha"]').click()}),n.on("blur",".f_join_form input[id$=_password]:not(input[id$=_retype_password])",function(){e(this).checkPassword()}),n.on("blur",".f_join_form input[id$=_retype_password]",function(){e(this).checkRetypePassword()}),n.on("blur",".f_join_form input[validate_url]",function(){e(this).checkvalidateurl()}),n.on("click",".f_join_form a[validate_url]",function(){var t=e("#member_join_popup");return t.hasClass("boom")?e(this).checkvalidateurl(function(){t.find(".form_success").remove(),t.find(".form_row_username .form_error").html(__("OOPS! Please choose another one!"))},function(){t.find(".form_success").length||t.find(".form_row_username .form_row").append('<div class="form_success">'+__("Cool!")+"</div>")}):e(this).checkvalidateurl(),!1}),i.data("show_wl")&&s.length){var o=function(t,n){var i=new Date;i.setTime(i.getTime()+60*n*1e3);var r=a.getRealDomain();e.cookie(t,i.getTime(),{path:"/",expires:i,domain:r})},c=function(t){return e.cookie(t)};e(document).bind("mousemove",function(t){var n=-1!==navigator.platform.toUpperCase().indexOf("MAC"),i=e(window).scrollTop()+(70+.08*e(window).height()),a=n||r.isRTLCulture?170+.05*e(window).width():e(window).width()-(170+.05*e(window).width()),s=i>t.pageY,l=n||r.isRTLCulture?a>t.pageX:a<t.pageX;s&&l&&(c("hjp")||"undefined"==typeof sv||(sv.popup.tasks.open("join_popup",{customData:{isExitHover:!0}}),o("hjp",10)))})}})}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),a=n(74),r=function(){function e(){this.enabled=!0,this.left=0,this.top=0,this.right=0,this.bottom=0,this.custom=null,this.onHover=i.noop}return e.prototype.isHover=function(e,t){if(!this.enabled)return!1;if(this.custom)return this.custom(this,t,e);var n=t.pageX,i=t.pageY;return n>=this.left&&n<=this.right&&i>=this.top&&i<=this.bottom},e}(),o=function(){function e(){this.areaList={},this.prevX=-1,this.prevY=-1,this.dirX=0,this.dirY=0,this.moveX=0,this.moveY=0,this.prev_dt=0;var e=this;document.addEventListener("mousemove",function(t){e.handleMouseMove(t)},!1)}return e.prototype.predict=function(e){var t=Math.floor(e.clientX),n=Math.floor(e.clientY);if(e.dirX=this.dirX,e.dirY=this.dirY,e.moveX=this.moveX,e.moveY=this.moveY,this.prevX!==t||this.prevY!==n){var i=+new Date;i-this.prev_dt>300&&(this.prevX=-1,this.prevY=-1),this.prev_dt=i,this.dirX=e.dirX=t-this.prevX,this.dirY=e.dirY=n-this.prevY,this.moveX=e.moveX=t+e.dirX,this.moveY=e.moveY=n+e.dirY,this.prevX=t,this.prevY=n}},e.prototype.handleMouseMove=function(e){var t,n,i;if(a.checkIsChatTypePopupEnabled()){e=e||window.event,this.predict(e),null===e.pageX&&null!==e.clientX&&(t=e.target&&e.target.ownerDocument||document,n=t.documentElement,i=t.body,e.pageX=e.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0));for(var r in this.areaList){var o=this.areaList[r];o.isHover(this,e)&&o.onHover.call(o,e,this)}}},e.prototype.newArea=function(e){return this.areaList[e]=new r},e}();t.HoverManager=o},function(e,t,n){"use strict";function i(e){var t=new RegExp(a).exec(e),n=t&&+t[1]||0;return{interval:n,message:n&&t&&t[2]||""}}Object.defineProperty(t,"__esModule",{value:!0});var a=/(\d+):([\s\S]*)/g;t.parseTipMenuMessage=i},,,,,function(e,t,n){"use strict";(function(e){function n(){var t=e(".im_popover");e(".messages.itm.has_hint.messages_icon").removeClass("im_popover_opened"),e(document).off(".im_popover");var n=e("#im_scroll");n.find(".jspContainer").length&&n.data("jsp").destroy(),t.find(".inner").empty(),t.find(".inner").css("display","none"),e(".container_loader").css("display","block")}function i(t){var n=e("#im_scroll");if(e(".messages.itm.has_hint.messages_icon").hasClass("im_popover_opened")){if(n.find(".jspVerticalBar").length){var a=n.data("jsp");void 0!==t&&a.getContentPane().find(".items").append(t),a.reinitialise()}else n.css({overflow:"auto"}).jScrollPane({showArrows:!0,verticalArrowPositions:"os",verticalDragMinHeight:150,verticalDragMaxHeight:250,contentWidth:1});n.off("jsp-scroll-y").on("jsp-scroll-y",function(t){var n=e(this).find(".jspContainer");if(n.scrollTop()+n.outerHeight()===n.get(0).scrollHeight){if(!0===IMShared.ConversationsList)return;var a=e(this).find("a.conversations-more-link");a.length>0&&(IMShared.ConversationsList=!0,e("body").css("cursor","wait"),e.ajax({url:a.attr("href"),type:"get",dataType:"json",data:{limit:15},success:function(t){e("body").css("cursor","default"),a.remove(),i(e(t.content).html()),IMShared.ConversationsList=!1},error:function(){e("body").css("cursor","default"),IMShared.ConversationsList=!1}}))}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.closeImPopover=n,t.addStyledScrollToImBlock=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(){this.display=document.createElement("canvas")}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),t.prototype.loadFrame=function(){function t(){var e=Date.now()-this.loadStartTime;r.drawFrame(this),setTimeout(function(){r.loadFrame()},100-e)}function n(){var e=Date.now()-this.loadStartTime;setTimeout(function(){r.loadFrame()},100-e)}if(this.container&&this.url){e(this.display).appendTo(this.container);var i=new Image,a=Date.now();i.onload=t,i.onerror=n,i.src=this.url+"?"+a,i.itemId=this.itemId,i.loadStartTime=a;var r=this}},t.prototype.drawFrame=function(e){if(this.itemId===e.itemId){var t=this.display.getContext("2d");if(this.display.width=this.container.width(),this.display.height=this.container.height(),null!=t)try{this.isHD?t.drawImage(e,0,0,e.width,e.height,-(this.container.height()/.5625-this.container.width())/2,0,this.container.height()/.5625,this.container.height()):t.drawImage(e,0,0,e.width,e.height,0,0,this.container.width(),this.container.height())}catch(e){}}},t.prototype.clearFrame=function(){var e=this.display.getContext("2d");null!=e&&e.clearRect(0,0,this.display.width,this.display.height)},t.prototype.attach=function(e){this.container=e.find("a.chat"),this.isHD="hd"===e.attr("data-vq")||"hd_720"===e.attr("data-vq"),this.itemId=e.attr("data-chathost");var t=e.parent();this.itemIndex=t.index()},t.prototype.play=function(e){this.url=e,this.loadFrame()},t.prototype.stop=function(){this.url=null,this.itemId=null,this.clearFrame()},t}();t.ImagePlayer=n}).call(t,n(0))},function(e,t,n){"use strict";(function(e){e.fn.checkPassword=function(){var t=e(this).closest("form"),n=e(this),i=n.val(),a=t.find("input[id$=_username]").val();if(""!==a){var r=n.attr("validate_password_url")||"";r+="?username="+a+"&value="+i;var o=n.data("local_value")||{};o.value===i&&o.username===a||(n.data("local_value",{value:i,username:a}),e.getJSON(r,function(e){if("success"===e.status){n.addClass("valid"),n.closest(".form_row").find(".form_errors_in_row").html(""),n.parent().find("div.obelix").removeClass("notvalid").addClass("valid"),n.parent().removeClass("notvalid").addClass("valid");var i=t.find("input[id$=_retype_password]");i.length&&""!==i.val()&&i.checkRetypePassword()}else n.removeClass("valid"),n.parents(".step_green").length||n.parents(".step_yellow").length||n.closest(".form_row").find(".form_errors_in_row").html('<div class="form_error_list"><div class="form_error">'+__(e.message)+"</div></div>"),n.parent().find("div.obelix").removeClass("valid").addClass("notvalid").attr("title",e.message),n.parent().removeClass("valid").addClass("notvalid")}))}},e.fn.checkRetypePassword=function(){var t=e(this).closest("form"),n=t.find("input[id$=_retype_password]"),i=t.find("input[id$=_password]:not(input[id$=_retype_password])"),a=i.parent().find("div.obelix"),r=n.parent().find("div.obelix");""===n.val()?(r.removeClass("valid").addClass("notvalid"),n.closest(".form_row").find(".form_errors_in_row").html('<div class="form_error_list"><div class="form_error">'+__("Required.")+"</div></div>")):n.val()!==i.val()?(n.closest(".form_row").find(".form_errors_in_row").html('<div class="form_error_list"><div class="form_error">'+__("Passwords are not the same.")+"</div></div>"),r.removeClass("valid").addClass("notvalid")):i.hasClass("valid")?(a.removeClass("notvalid").addClass("valid"),r.removeClass("notvalid").addClass("valid"),n.closest(".form_row").find(".form_errors_in_row").html("")):r.removeClass("valid").addClass("notvalid")},e.fn.checkvalidateurl=function(t,n){var i=e("#member_join_popup"),a=e(this),r=a.attr("validate_url");r+=-1===r.indexOf("?")?"?":"&",a.is("input")||(a=a.closest('div[class*="form_row_"]').find("input")),e.getJSON(r+"value="+a.val(),function(o){if("success"===o.status)a.closest(".form_row").parent().removeClass("with-error"),a.closest(".form_row").find(".form_errors_in_row").html(""),""!==a.val()?(a.parent().find("div.obelix").removeClass("notvalid").addClass("valid"),a.parent().removeClass("notvalid").addClass("valid")):(a.parent().find("div.obelix").removeClass("notvalid").removeClass("valid"),a.parent().removeClass("notvalid").removeClass("valid")),(i.hasClass("gold_step_girl")||i.hasClass("gold_step_yellow"))&&e(".gold_step_girl_error").hide(),void 0!==n&&"function"==typeof n&&n();else if("success"!==o.status){var s=o.message;if(r.indexOf("validate-username")>0||r.indexOf("validate-email")>0){var l={};o.thresholdName&&o.hasOwnProperty("thresholdValue")&&(l[o.thresholdName]=o.thresholdValue),s=__(s,l)}i.hasClass("step_green")||i.hasClass("step_yellow")||i.hasClass("gold_step_girl")||i.hasClass("gold_step_yellow")||a.closest(".form_row").find(".form_errors_in_row").html('<div class="form_error_list"><div class="form_error">'+s+"</div></div>"),a.closest(".form_row").parent().addClass("with-error"),a.parent().find("div.obelix").removeClass("valid").addClass("notvalid").attr("title",s),a.parent().removeClass("valid").addClass("notvalid"),(i.hasClass("gold_step_girl")||i.hasClass("gold_step_yellow"))&&e(".gold_step_girl_error").show(),void 0!==t&&"function"==typeof t&&t(s)}})}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(){this.templates={}}return t.prototype.getTemplate=function(t){return this.templates.hasOwnProperty(t)||(this.templates[t]=e(t).html()),this.templates[t]},t.prototype.fill=function(e,t){return this.fillTemplate(this.getTemplate(e),t)},t.prototype.fillTemplate=function(e,t){return e.replace(/{(\w*)}/g,function(e,n){return t.hasOwnProperty(n)?t[n]:""})},t}();t.default=n}).call(t,n(0))},,,,,function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.Component);t.PlayerDialog=r},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(166);t.getChathostPreviewFrame=function(e,t){return e&&t?i.getChathostPreviewHost(e)+"/stream_"+t+".jpg":null}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(394),a=n(207),r=n(4),o=n(21),s=n(279),l=function(){function t(){this.cache={},this.xhr=null,this.chathost="",e("[data-target=blank]").openBind({width:1280,height:700,left:(e(window).width()-1280)/2,top:(e(window).height()-700)/2});var t=this;e(document).on("click","#mp_toggle_btn",function(t){if(e(t.target).closest("#mph_hint").length)return!1;var n=e(t.currentTarget),i=n.find(".mp_toggle_hint"),a=e("#bModelNavigator"),r=e("#mph_hint"),o=e("#profile-content");n.toggleClass("active"),a.toggleClass("active"),o.slideToggle(400,function(){"undefined"!=typeof sv&&sv.cookie.setItem("cmpc",Number(o.is(":visible")))}),r.css("visibility","hidden");var s=Number(i.attr("data-step"))||0,l=s+1,c=Number(i.attr("data-last_step"))||2;void 0!==i.attr("data-step")&&s<c&&(i.removeClass("step_0 step_1").addClass("step_"+l),i.attr("data-step",l),i.css("visibility","visible"),s=l,s<=c&&r.css("visibility","visible"),s===c&&setTimeout(function(){r.css("visibility","hidden")},5e3)),n.attr("data-is_allowed_event")&&s<=c&&(e.noticeSocket.send({type:"ue",data:{event:"chat_mini_profile_hint"}}),l>=2&&n.attr("data-is_allowed_event",0))}),e(document).on("click","a.mp_add_friend",function(){return e.post(e(this).attr("href"),r.getCSRFData(),function(e){t.onFriendRequest(e.status)},"json"),!1}),e(document).on("click","#profile-content .mp_tip_model_trigger",function(){return chat.tipPopup(!0),!1}),e(document).on("click","#profile-content .mp_send_im_trigger",function(){return chat.sendPM(!0),!1}),e(document).on("click","#profile-content .mp_to_friends_trigger",function(t){return e.signupEvent.call(this,t),!1}),this.wordWrap(),i.initScrollQuery(".mp_scroll"),a.initSliderQuery(".mp_slider"),e(document).on("click","#mph_close",function(t){e("#mph_hint").css({opacity:0,visibility:"hidden"})})}return t.prototype.onFriendRequest=function(t){var n=e("#profile-content").find(".pa_btn_wrap_friend");"active"===t?(n.find(".pa_btn").hide(),n.find(".mp_is_friend").show()):t?(n.find(".pa_btn").hide(),n.find(".mp_pending_friend").show()):(n.find(".pa_btn").hide(),n.find(".mp_add_friend").show())},t.prototype.wordWrap=function(){var t=document.querySelector("#profile-content");t&&e(t).find(".mpb_addl_info .ma_text").each(function(){this.innerHTML=o.stringWordWrap(this.innerHTML,"",10)})},t.prototype.applyData=function(e,t){var n=document.querySelector("#profile-content");n&&(n.innerHTML='<div id="profile-part" class="mp_inner" data-id="'+e+'">'+t+"</div>"),this.wordWrap(),i.initScrollQuery(".mp_scroll"),a.initSliderQuery(".mp_slider")},t.prototype.initRaiseBtn=function(){var t=e("#chatContainer").data("raise_widget");t?t.displayDisableTime():(t=new s.MemberRaiseModelWidget,e("#chatContainer").data("raise_widget",t),t.init())},t.prototype.load=function(t){var n=this;if(t&&null!==document.querySelector("#profile-content")&&(!this.xhr||this.chathost!==t)){if(this.chathost=t,t===e("#profile-part").attr("data-id"))return void this.initRaiseBtn();var i="/chat-profile/"+t;this.cache.hasOwnProperty(i)&&this.applyData(t,this.cache[i]),null!==this.xhr&&4!==this.xhr.readyState&&(this.xhr.abort(),this.xhr=null),this.xhr=e.ajax({url:i,method:"GET",cache:!1,dataType:"json",success:function(e){e&&e.success&&(n.cache[i]=e.success,n.applyData(t,e.success),n.xhr=null,n.initRaiseBtn())}})}},t}();t.default=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=function(){function t(){this.timer=null}return t.prototype.init=function(){var t=this;e(document).bind("onNoticeSocketMessage",function(n,i){switch(i.type){case"rm":t.toggleButton(!1,i.timeout);break;case"rmu":t.toggleButton(!0);break;case"rmb":var a=e(".raise_model_btn").data("username");i.performer===a&&t.changeStatus(i.enable)}}),e("body").off(".raise").on("click.raise","a.raise_model_btn",function(){var n=e(this);return!n.hasClass("mls_btn_disabled")&&(t.toggleButton(!1),e("body").css("cursor","wait"),e.post(n.data("url"),i.getCSRFData(),function(t){e("body").css("cursor","default"),t.status&&window.chat&&window.chat.service.update()},"json"),!1)}).on("click.raise",".raise_model_close",function(){var t=e(this).parents(".popover-light");t.hide(),t.attr("data-event_is_allowed")&&(e.noticeSocket.send({type:"ue",data:{event:"raise_model_hint"}}),t.attr("data-event_is_allowed",null))}),e(document).off(".raise").on("click.raise",".raise_what_link",function(t){e(".raise_what_popover").show(),e(document).off(".raise_what"),e(document).on("click.raise_what",function(t){var n=t.target;e(n).closest(".raise_what_popover").length||(e(".raise_what_popover").hide(),e(document).off(".raise_what"))}),e(document).on("click.raise_what",".raise_what_close",function(){e(".raise_what_popover").hide(),e(document).off(".raise_what")})});var n=e("#bChat");n.length&&n.bind("onPerformerStatusChange",function(n){if(chat.isEliteMember(chat.userData)||chat.userData.isVip){switch(chat.performerStatus){case"online":case"public":void 0===e("a.raise_model_btn").attr("data-disable_end_time")&&t.toggleButton(!0);break;case"group":case"away":case"fullprivate":case"private":case"vip":case"offline":t.toggleButton(!1)}}}),this.displayDisableTime()},t.prototype.toggleButton=function(t,n){var i=e("a.raise_model_btn");e(".raise_what_popover").removeClass("no_raise"),t?(i.removeClass("mls_btn_disabled"),i.removeAttr("data-disable_end_time")):(i.addClass("mls_btn_disabled"),n&&(i.attr("data-disable_timeout",n),i.attr("data-disable_end_time",Date.now()+1e3*n),this.displayDisableTime()))},t.prototype.getTimeRemaining=function(e){var t=Math.floor(e%60),n=Math.floor(e/60%60),i=Math.floor(e/60/60%24);return{total:e,days:Math.floor(e/60/60/24),hours:i,minutes:("0"+n).slice(-2),seconds:("0"+t).slice(-2)}},t.prototype.initTimer=function(t){var n=this,i=e(".raise_what_popover .time_to");this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){var e=n.getTimeRemaining(t--);e.days>0?i.text(__("The button will become active in %days% d %hours% h %minutes% m %seconds% s.",{days:e.days,hours:e.hours,minutes:e.minutes,seconds:e.seconds})):i.text(__("The button will become active in %countdown%.",{countdown:e.hours+":"+e.minutes+":"+e.seconds})),e.total<=0&&clearInterval(n.timer)},1e3)},t.prototype.changeStatus=function(t){var n=e("a.raise_model_btn"),i=e(".online_status_block");t?(void 0===n.attr("data-disable_end_time")&&this.toggleButton(!0),i.find(".badge_online").removeClass("__hidden"),i.find(".badge_offline").addClass("__hidden")):(n.addClass("mls_btn_disabled"),i.find(".badge_online").addClass("__hidden"),i.find(".badge_offline").removeClass("__hidden"))},t.prototype.displayDisableTime=function(){var t=e("a.raise_model_btn"),n=e(".raise_what_popover"),i=parseInt(t.attr("data-disable_timeout"));if(i){this.initTimer(i),n.addClass("no_raise");var a=n.find(".not_today");i&&i<=+t.attr("data-max_disable_timeout")?a.hide():a.show()}},t.prototype.rebind=function(){return this},t}();t.MemberRaiseModelWidget=a,e(function(){var t=e("#chatContainer").data("raise_widget");t||(t=new a,e("#chatContainer").data("raise_widget",t),t.init())})}).call(t,n(0))},,,function(e,t,n){n(3)(n(283))},function(e,t){e.exports='(function(c,m){"function"===typeof define&&define.amd?define("sifter",m):"object"===typeof exports?module.exports=m():c.Sifter=m()})(this,function(){var c=function(c,s){this.items=c;this.settings=s||{diacritics:!0}};c.prototype.tokenize=function(c){c=(String(c||"").toLowerCase()+"").replace(/^\\s+|\\s+$|/g,"");if(!c||!c.length)return[];var s,l,e,x=[],h=c.split(/ +/);c=0;for(s=h.length;c<s;c++){l=(h[c]+"").replace(/([.?*+^$[\\]\\\\(){}|-])/g,"\\\\$1");if(this.settings.diacritics)for(e in u)u.hasOwnProperty(e)&& (l=l.replace(new RegExp(e,"g"),u[e]));x.push({string:h[c],regex:new RegExp(l,"i")})}return x};c.prototype.iterator=function(c,s){(p(c)?Array.prototype.forEach||function(c){for(var e=0,r=this.length;e<r;e++)c(this[e],e,this)}:function(c){for(var e in this)this.hasOwnProperty(e)&&c(this[e],e,this)}).apply(c,[s])};c.prototype.getScoreFunction=function(c,s){var l,e,h;c=this.prepareSearch(c,s);e=c.tokens;l=c.options.fields;h=e.length;var p=function(c,e){var h,l;if(!c)return 0;c=String(c||"");l=c.search(e.regex); if(-1===l)return 0;h=e.string.length/c.length;0===l&&(h+=.5);return h},m=function(){var c=l.length;return c?1===c?function(c,e){return p(e[l[0]],c)}:function(e,h){for(var r=0,s=0;r<c;r++)s+=p(h[l[r]],e);return s/c}:function(){return 0}}();return h?1===h?function(c){return m(e[0],c)}:"and"===c.options.conjunction?function(c){for(var l,r=0,s=0;r<h;r++){l=m(e[r],c);if(0>=l)return 0;s+=l}return s/h}:function(c){for(var l=0,r=0;l<h;l++)r+=m(e[l],c);return r/h}:function(){return 0}};c.prototype.getSortFunction= function(c,h){var l,e,p,z,t,u,C,A,y,w;p=this;c=p.prepareSearch(c,h);w=!c.query&&h.sort_empty||h.sort;y=function(c,e){return"$score"===c?e.score:p.items[e.id][c]};t=[];if(w)for(l=0,e=w.length;l<e;l++)(c.query||"$score"!==w[l].field)&&t.push(w[l]);if(c.query){w=!0;l=0;for(e=t.length;l<e;l++)if("$score"===t[l].field){w=!1;break}w&&t.unshift({field:"$score",direction:"desc"})}else for(l=0,e=t.length;l<e;l++)if("$score"===t[l].field){t.splice(l,1);break}A=[];l=0;for(e=t.length;l<e;l++)A.push("desc"=== t[l].direction?-1:1);return(u=t.length)?1===u?(z=t[0].field,C=A[0],function(c,e){return C*m(y(z,c),y(z,e))}):function(c,e){var l,a;for(l=0;l<u;l++)if(a=t[l].field,a=A[l]*m(y(a,c),y(a,e)))return a;return 0}:null};c.prototype.prepareSearch=function(c,s){if("object"===typeof c)return c;s=h({},s);var l=s.fields,e=s.sort,m=s.sort_empty;l&&!p(l)&&(s.fields=[l]);e&&!p(e)&&(s.sort=[e]);m&&!p(m)&&(s.sort_empty=[m]);return{options:s,query:String(c||"").toLowerCase(),tokens:this.tokenize(c),total:0,items:[]}}; c.prototype.search=function(c,h){var l,e,p,m;e=this.prepareSearch(c,h);h=e.options;c=e.query;m=h.score||this.getScoreFunction(e);c.length?this.iterator(this.items,function(c,p){l=m(c);(!1===h.filter||0<l)&&e.items.push({score:l,id:p})}):this.iterator(this.items,function(c,h){e.items.push({score:1,id:h})});(p=this.getSortFunction(e,h))&&e.items.sort(p);e.total=e.items.length;"number"===typeof h.limit&&(e.items=e.items.slice(0,h.limit));return e};var m=function(c,h){if("number"===typeof c&&"number"=== typeof h)return c>h?1:c<h?-1:0;c=String(c||"").toLowerCase();h=String(h||"").toLowerCase();return c>h?1:h>c?-1:0},h=function(c,h){var l,e,p,m;l=1;for(e=arguments.length;l<e;l++)if(m=arguments[l])for(p in m)m.hasOwnProperty(p)&&(c[p]=m[p]);return c},p=Array.isArray||$&&$.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},u={a:"[a\\u00c0\\u00c1\\u00c2\\u00c3\\u00c4\\u00c5\\u00e0\\u00e1\\u00e2\\u00e3\\u00e4\\u00e5]",c:"[c\\u00c7\\u00e7\\u0107\\u0106\\u010d\\u010c]",d:"[d\\u0111\\u0110\\u010f\\u010e]", e:"[e\\u00c8\\u00c9\\u00ca\\u00cb\\u00e8\\u00e9\\u00ea\\u00eb\\u011b\\u011a]",i:"[i\\u00cc\\u00cd\\u00ce\\u00cf\\u00ec\\u00ed\\u00ee\\u00ef]",n:"[n\\u00d1\\u00f1\\u0148\\u0147]",o:"[o\\u00d2\\u00d3\\u00d4\\u00d5\\u00d5\\u00d6\\u00d8\\u00f2\\u00f3\\u00f4\\u00f5\\u00f6\\u00f8]",r:"[r\\u0159\\u0158]",s:"[s\\u0160\\u0161]",t:"[t\\u0165\\u0164]",u:"[u\\u00d9\\u00da\\u00db\\u00dc\\u00f9\\u00fa\\u00fb\\u00fc\\u016f\\u016e]",y:"[y\\u0178\\u00ff\\u00fd\\u00dd]",z:"[z\\u017d\\u017e]"};return c}); (function(c,m){"function"===typeof define&&define.amd?define("microplugin",m):"object"===typeof exports?module.exports=m():c.MicroPlugin=m()})(this,function(){var c={isArray:Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)}};return{mixin:function(m){m.plugins={};m.prototype.initializePlugins=function(h){var p,m,r=[];this.plugins={names:[],settings:{},requested:{},loaded:{}};if(c.isArray(h))for(p=0,m=h.length;p<m;p++)"string"===typeof h[p]?r.push(h[p]):(this.plugins.settings[h[p].name]= h[p].options,r.push(h[p].name));else if(h)for(p in h)h.hasOwnProperty(p)&&(this.plugins.settings[p]=h[p],r.push(p));for(;r.length;)this.require(r.shift())};m.prototype.loadPlugin=function(c){var p=this.plugins,u=m.plugins[c];if(!m.plugins.hasOwnProperty(c))throw Error(\'Unable to find "\'+c+\'" plugin\');p.requested[c]=!0;p.loaded[c]=u.fn.apply(this,[this.plugins.settings[c]||{}]);p.names.push(c)};m.prototype.require=function(c){var p=this.plugins;if(!this.plugins.loaded.hasOwnProperty(c)){if(p.requested[c])throw Error(\'Plugin has circular dependency ("\'+ c+\'")\');this.loadPlugin(c)}return p.loaded[c]};m.define=function(c,p){m.plugins[c]={name:c,fn:p}}}}}); (function(c,m){"function"===typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],m):"object"===typeof exports?module.exports=m(require("jquery"),require("sifter"),require("microplugin")):c.Selectize=m(c.jQuery,c.Sifter,c.MicroPlugin)})(this,function(c,m,h){var p=function(a,b){if("string"!==typeof b||b.length){var d="string"===typeof b?new RegExp(b,"i"):b,c=function(a){var b=0;if(3===a.nodeType){var n=a.data.search(d);if(0<=n&&0<a.data.length){var q=a.data.match(d),b=document.createElement("span"); b.className="highlight";a=a.splitText(n);a.splitText(q[0].length);n=a.cloneNode(!0);b.appendChild(n);a.parentNode.replaceChild(b,a);b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(n=0;n<a.childNodes.length;++n)n+=c(a.childNodes[n]);return b};return a.each(function(){c(this)})}},u=function(){};u.prototype={on:function(a,b){this._events=this._events||{};this._events[a]=this._events[a]||[];this._events[a].push(b)},off:function(a,b){var d=arguments.length;if(0===d)return delete this._events; if(1===d)return delete this._events[a];this._events=this._events||{};!1!==a in this._events&&this._events[a].splice(this._events[a].indexOf(b),1)},trigger:function(a){this._events=this._events||{};if(!1!==a in this._events)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}};u.mixin=function(a){for(var b=["on","off","trigger"],d=0;d<b.length;d++)a.prototype[b[d]]=u.prototype[b[d]]};var r=/Mac/.test(navigator.userAgent),s=r?91:17,l=r?18: 17,e=function(a){return"undefined"===typeof a||null===a?"":"boolean"===typeof a?a?"1":"0":a+""},x=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},z=function(a){return(a+"").replace(/\\$/g,"$$$$")},t={before:function(a,b,d){var c=a[b];a[b]=function(){d.apply(a,arguments);return c.apply(a,arguments)}},after:function(a,b,d){var c=a[b];a[b]=function(){var b=c.apply(a,arguments);d.apply(a,arguments);return b}}},E=function(a,b){if(!c.isArray(b))return b; var d,g,f={};d=0;for(g=b.length;d<g;d++)b[d].hasOwnProperty(a)&&(f[b[d][a]]=b[d]);return f},C=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},A=function(a,b){var d;return function(){var c=this,f=arguments;window.clearTimeout(d);d=window.setTimeout(function(){a.apply(c,f)},b)}},y=function(a,b,d){var c,f=a.trigger,k={};a.trigger=function(){var d=arguments[0];if(-1!==b.indexOf(d))k[d]=arguments;else return f.apply(a,arguments)};d.apply(a,[]);a.trigger=f;for(c in k)k.hasOwnProperty(c)&& f.apply(a,k[c])},w=function(a,b,d,c){a.on(b,d,function(b){for(var d=b.target;d&&d.parentNode!==a[0];)d=d.parentNode;b.currentTarget=d;return c.apply(this,[b])})},D=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var d=document.selection.createRange(),c=document.selection.createRange().text.length;d.moveStart("character",-a.value.length);b.start=d.text.length-c;b.length=c}return b},F=function(a){var b=null, d=function(d,f){var k,n,q;d=d||window.event||{};f=f||{};if(!d.metaKey&&!d.altKey&&(f.force||!1!==a.data("grow"))){k=a.val();d.type&&"keydown"===d.type.toLowerCase()&&(n=d.keyCode,q=97<=n&&122>=n||65<=n&&90>=n||48<=n&&57>=n||32===n,46===n||8===n?(q=D(a[0]),q.length?k=k.substring(0,q.start)+k.substring(q.start+q.length):8===n&&q.start?k=k.substring(0,q.start-1)+k.substring(q.start+1):46===n&&"undefined"!==typeof q.start&&(k=k.substring(0,q.start)+k.substring(q.start+1))):q&&(n=d.shiftKey,q=String.fromCharCode(d.keyCode), q=n?q.toUpperCase():q.toLowerCase(),k+=q));n=a.attr("placeholder");!k&&n&&(k=n);if(k){k=c("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(k).appendTo("body");n=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];var e,l={};if(n)for(q=0,e=n.length;q<e;q++)l[n[q]]=a.css(n[q]);else l=a.css();k.css(l);n=k.width();k.remove();k=n}else k=0;k+=4;k!==b&&(b=k,a.width(k),a.triggerHandler("resize"))}};a.on("keydown keyup update blur", d);d()},v=function(a,b){var d,g,f=this;g=a[0];g.selectize=f;d=(d=window.getComputedStyle?window.getComputedStyle(g,null).getPropertyValue("direction"):g.currentStyle&&g.currentStyle.direction)||a.parents("[dir]:first").attr("dir")||"";c.extend(f,{settings:b,$input:a,tagType:"select"===g.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(d),eventNS:".selectize"+ ++v.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:a.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1, isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===b.loadThrottle?f.onSearchChange:A(f.onSearchChange,b.loadThrottle)});f.sifter=new m(this.options,{diacritics:b.diacritics});c.extend(f.options,E(b.valueField,b.options));delete f.settings.options;c.extend(f.optgroups, E(b.optgroupValueField,b.optgroups));delete f.settings.optgroups;f.settings.mode=f.settings.mode||(1===f.settings.maxItems?"single":"multi");"boolean"!==typeof f.settings.hideSelected&&(f.settings.hideSelected="multi"===f.settings.mode);f.settings.create&&(f.canCreate=function(a){var b=f.settings.createFilter;return a.length&&("function"!==typeof b||b.apply(f,[a]))&&("string"!==typeof b||(new RegExp(b)).test(a))&&(!(b instanceof RegExp)||b.test(a))});f.initializePlugins(f.settings.plugins);f.setupCallbacks(); f.setupTemplates();f.setup()};u.mixin(v);h.mixin(v);c.extend(v.prototype,{setup:function(){var a=this,b=a.settings,d=a.eventNS,g=c(window),f=c(document),k=a.$input,n,q,e,h,p,m;h=a.settings.mode;e=k.attr("tabindex")||"";p=k.attr("class")||"";n=c("<div>").addClass(b.wrapperClass).addClass(p).addClass(h);q=c("<div>").addClass(b.inputClass).addClass("items").appendTo(n);e=c(\'<input type="text" autocomplete="off" />\').appendTo(q).attr("tabindex",e);m=c(b.dropdownParent||n);h=c("<div>").addClass(b.dropdownClass).addClass(p).addClass(h).hide().appendTo(m); p=c("<div>").addClass(b.dropdownContentClass).appendTo(h);n.css({width:k[0].style.width});a.plugins.names.length&&(m="plugin-"+a.plugins.names.join(" plugin-"),n.addClass(m),h.addClass(m));(null===b.maxItems||1<b.maxItems)&&1===a.tagType&&k.attr("multiple","multiple");a.settings.placeholder&&e.attr("placeholder",b.placeholder);k.attr("autocorrect")&&e.attr("autocorrect",k.attr("autocorrect"));k.attr("autocapitalize")&&e.attr("autocapitalize",k.attr("autocapitalize"));a.$wrapper=n;a.$control=q;a.$control_input= e;a.$dropdown=h;a.$dropdown_content=p;h.on("mouseenter","[data-selectable]",function(){return a.onOptionHover.apply(a,arguments)});h.on("mousedown","[data-selectable]",function(){return a.onOptionSelect.apply(a,arguments)});w(q,"mousedown","*:not(input)",function(){return a.onItemSelect.apply(a,arguments)});F(e);q.on({mousedown:function(){return a.onMouseDown.apply(a,arguments)},click:function(){return a.onClick.apply(a,arguments)}});e.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return a.onKeyDown.apply(a, arguments)},keyup:function(){return a.onKeyUp.apply(a,arguments)},keypress:function(){return a.onKeyPress.apply(a,arguments)},resize:function(){a.positionDropdown.apply(a,[])},blur:function(){return a.onBlur.apply(a,arguments)},focus:function(){a.ignoreBlur=!1;return a.onFocus.apply(a,arguments)},paste:function(){return a.onPaste.apply(a,arguments)}});f.on("keydown"+d,function(b){a.isCmdDown=b[r?"metaKey":"ctrlKey"];a.isCtrlDown=b[r?"altKey":"ctrlKey"];a.isShiftDown=b.shiftKey});f.on("keyup"+d,function(b){b.keyCode=== l&&(a.isCtrlDown=!1);16===b.keyCode&&(a.isShiftDown=!1);b.keyCode===s&&(a.isCmdDown=!1)});f.on("mousedown"+d,function(b){if(a.isFocused){if(b.target===a.$dropdown[0]||b.target.parentNode===a.$dropdown[0])return!1;a.$control.has(b.target).length||b.target===a.$control[0]||a.blur()}});g.on(["scroll"+d,"resize"+d].join(" "),function(){a.isOpen&&a.positionDropdown.apply(a,arguments)});g.on("mousemove"+d,function(){a.ignoreHover=!1});this.revertSettings={$children:k.children().detach(),tabindex:k.attr("tabindex")}; k.attr("tabindex",-1).hide().after(a.$wrapper);c.isArray(b.items)&&(a.setValue(b.items),delete b.items);if(k[0].validity)k.on("invalid"+d,function(b){b.preventDefault();a.isInvalid=!0;a.refreshState()});a.updateOriginalInput();a.refreshItems();a.refreshState();a.updatePlaceholder();a.isSetup=!0;k.is(":disabled")&&a.disable();a.on("change",this.onChange);k.data("selectize",a);k.addClass("selectized");a.trigger("initialize");if(!0===b.preload)a.onSearchChange("")},setupTemplates:function(){var a=this.settings.labelField, b=this.settings.optgroupLabelField;this.settings.render=c.extend({},{optgroup:function(a){return\'<div class="optgroup">\'+a.html+"</div>"},optgroup_header:function(a,c){return\'<div class="optgroup-header">\'+c(a[b])+"</div>"},option:function(b,c){return\'<div class="option">\'+c(b[a])+"</div>"},item:function(b,c){return\'<div class="item">\'+c(b[a])+"</div>"},option_create:function(a,b){return\'<div class="create">Add <strong>\'+b(a.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var a, b,d={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType"};for(a in d)if(d.hasOwnProperty(a)&&(b=this.settings[d[a]]))this.on(a,b)},onClick:function(a){this.isFocused||(this.focus(),a.preventDefault())},onMouseDown:function(a){var b=this,d=a.isDefaultPrevented();c(a.target);if(b.isFocused){if(a.target!== b.$control_input[0])return"single"===b.settings.mode?b.isOpen?b.close():b.open():d||b.setActiveItem(null),!1}else d||window.setTimeout(function(){b.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(a){(this.isFull()||this.isInputHidden||this.isLocked)&&a.preventDefault()},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);if(this.settings.create&&b===this.settings.delimiter)return this.createItem(),a.preventDefault(), !1},onKeyDown:function(a){if(this.isLocked)9!==a.keyCode&&a.preventDefault();else{switch(a.keyCode){case 65:if(this.isCmdDown){this.selectAll();return}break;case 27:this.close();return;case 78:if(!a.ctrlKey||a.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var b=this.getAdjacentOption(this.$activeOption,1);b.length&&this.setActiveOption(b,!0,!0)}a.preventDefault();return;case 80:if(!a.ctrlKey||a.altKey)break;case 38:this.$activeOption&& (this.ignoreHover=!0,b=this.getAdjacentOption(this.$activeOption,-1),b.length&&this.setActiveOption(b,!0,!0));a.preventDefault();return;case 13:if(this.isOpen&&this.$activeOption)this.onOptionSelect({currentTarget:this.$activeOption});a.preventDefault();return;case 37:this.advanceSelection(-1,a);return;case 39:this.advanceSelection(1,a);return;case 9:this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),a.preventDefault());this.settings.create&& this.createItem()&&a.preventDefault();return;case 8:case 46:this.deleteSelection(a);return}!this.isFull()&&!this.isInputHidden||(r?a.metaKey:a.ctrlKey)||a.preventDefault()}},onKeyUp:function(a){if(this.isLocked)return a&&a.preventDefault();a=this.$control_input.val()||"";this.lastValue!==a&&(this.lastValue=a,this.onSearchChange(a),this.refreshOptions(),this.trigger("type",a))},onSearchChange:function(a){var b=this,d=b.settings.load;d&&!b.loadedSearches.hasOwnProperty(a)&&(b.loadedSearches[a]=!0,b.load(function(c){d.apply(b, [a,c])}))},onFocus:function(a){this.isFocused=!0;if(this.isDisabled)return this.blur(),a&&a.preventDefault(),!1;if(!this.ignoreFocus){if("focus"===this.settings.preload)this.onSearchChange("");this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus));this.refreshState()}},onBlur:function(a){this.isFocused=!1;this.ignoreFocus||(this.ignoreBlur||document.activeElement!==this.$dropdown_content[0]?(this.settings.create&&this.settings.createOnBlur&& this.createItem(!1),this.close(),this.setTextboxValue(""),this.setActiveItem(null),this.setActiveOption(null),this.setCaret(this.items.length),this.refreshState()):(this.ignoreBlur=!0,this.onFocus(a)))},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(a){var b;a.preventDefault&&(a.preventDefault(),a.stopPropagation());b=c(a.currentTarget);if(b.hasClass("create"))this.createItem();else if(b=b.attr("data-value"))this.lastQuery=null,this.setTextboxValue(""), this.addItem(b),!this.settings.hideSelected&&a.type&&/mouse/.test(a.type)&&this.setActiveOption(this.getOption(b))},onItemSelect:function(a){this.isLocked||"multi"!==this.settings.mode||(a.preventDefault(),this.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,d=b.$wrapper.addClass("loading");b.loading++;a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0);a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden));b.loading||d.removeClass("loading");b.trigger("load", a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a){y(this,["change"],function(){this.clear();this.addItems(a)})},setActiveItem:function(a,b){var d,g,f;if("single"!==this.settings.mode)if(a=c(a),a.length){d=b&&b.type.toLowerCase();if("mousedown"===d&&this.isShiftDown&&this.$activeItems.length){d= this.$control.children(".active:last");g=Array.prototype.indexOf.apply(this.$control[0].childNodes,[d[0]]);d=Array.prototype.indexOf.apply(this.$control[0].childNodes,[a[0]]);g>d&&(f=g,g=d,d=f);for(;g<=d;g++)f=this.$control[0].childNodes[g],-1===this.$activeItems.indexOf(f)&&(c(f).addClass("active"),this.$activeItems.push(f));b.preventDefault()}else"mousedown"===d&&this.isCtrlDown||"keydown"===d&&this.isShiftDown?a.hasClass("active")?(d=this.$activeItems.indexOf(a[0]),this.$activeItems.splice(d,1), a.removeClass("active")):this.$activeItems.push(a.addClass("active")[0]):(c(this.$activeItems).removeClass("active"),this.$activeItems=[a.addClass("active")[0]]);this.hideInput();this.isFocused||this.focus()}else c(this.$activeItems).removeClass("active"),this.$activeItems=[],this.isFocused&&this.showInput()},setActiveOption:function(a,b,d){var g,f,k;this.$activeOption&&this.$activeOption.removeClass("active");this.$activeOption=null;a=c(a);a.length&&(this.$activeOption=a.addClass("active"),b||"undefined"=== typeof b)&&(a=this.$dropdown_content.height(),g=this.$activeOption.outerHeight(!0),b=this.$dropdown_content.scrollTop()||0,f=this.$activeOption.offset().top-this.$dropdown_content.offset().top+b,k=f-a+g,f+g>a+b?this.$dropdown_content.stop().animate({scrollTop:k},d?this.settings.scrollDuration:0):f<b&&this.$dropdown_content.stop().animate({scrollTop:f},d?this.settings.scrollDuration:0))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")), this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue("");this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1E4:-1E4});this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1;a.onFocus()},0))},blur:function(){this.$control_input.trigger("blur")}, getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;"string"===typeof b&&(b={field:b});return{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(a){var b,d;b=this.settings;var g=this.getSearchOptions();if(b.score&&(d=this.settings.score.apply(this,[a]),"function"!==typeof d))throw Error(\'Selectize "score" setting must be a function that returns a function\');a!==this.lastQuery? (this.lastQuery=a,this.currentResults=a=this.sifter.search(a,c.extend(g,{score:d}))):a=c.extend(!0,{},this.currentResults);if(b.hideSelected)for(b=a.items.length-1;0<=b;b--)-1!==this.items.indexOf(e(a.items[b].id))&&a.items.splice(b,1);return a},refreshOptions:function(a){var b,d,g,f,k,n,q,h,l,m,s,r;"undefined"===typeof a&&(a=!0);s=this.$control_input.val();var t=this.search(s),B=this.$dropdown_content,u=this.$activeOption&&e(this.$activeOption.attr("data-value"));f=t.items.length;"number"===typeof this.settings.maxOptions&& (f=Math.min(f,this.settings.maxOptions));k={};if(this.settings.optgroupOrder)for(n=this.settings.optgroupOrder,b=0;b<n.length;b++)k[n[b]]=[];else n=[];for(b=0;b<f;b++)for(q=this.options[t.items[b].id],h=this.render("option",q),q=q[this.settings.optgroupField]||"",l=c.isArray(q)?q:[q],d=0,g=l&&l.length;d<g;d++)q=l[d],this.optgroups.hasOwnProperty(q)||(q=""),k.hasOwnProperty(q)||(k[q]=[],n.push(q)),k[q].push(h);h=[];b=0;for(f=n.length;b<f;b++)q=n[b],this.optgroups.hasOwnProperty(q)&&k[q].length?(d= this.render("optgroup_header",this.optgroups[q])||"",d+=k[q].join(""),h.push(this.render("optgroup",c.extend({},this.optgroups[q],{html:d})))):h.push(k[q].join(""));B.html(h.join(""));if(this.settings.highlight&&t.query.length&&t.tokens.length)for(b=0,f=t.tokens.length;b<f;b++)p(B,t.tokens[b].regex);if(!this.settings.hideSelected)for(b=0,f=this.items.length;b<f;b++)this.getOption(this.items[b]).addClass("selected");if(b=this.settings.create&&this.canCreate(t.query))B.prepend(this.render("option_create", {input:s})),r=c(B[0].childNodes[0]);(this.hasOptions=0<t.items.length||b)?(0<t.items.length?((s=u&&this.getOption(u))&&s.length?m=s:"single"===this.settings.mode&&this.items.length&&(m=this.getOption(this.items[0])),m&&m.length||(m=r&&!this.settings.addPrecedence?this.getAdjacentOption(r,1):B.find("[data-selectable]:first"))):m=r,this.setActiveOption(m),a&&!this.isOpen&&this.open()):(this.setActiveOption(null),a&&this.isOpen&&this.close())},addOption:function(a){var b,d;if(c.isArray(a))for(b=0,d= a.length;b<d;b++)this.addOption(a[b]);else(b=e(a[this.settings.valueField]))&&!this.options.hasOwnProperty(b)&&(this.userOptions[b]=!0,this.options[b]=a,this.lastQuery=null,this.trigger("option_add",b,a))},addOptionGroup:function(a,b){this.optgroups[a]=b;this.trigger("optgroup_add",a,b)},updateOption:function(a,b){var d,g,f;a=e(a);d=e(b[this.settings.valueField]);if(this.options.hasOwnProperty(a)){if(!d)throw Error("Value must be set in option data");d!==a&&(delete this.options[a],g=this.items.indexOf(a), -1!==g&&this.items.splice(g,1,d));this.options[d]=b;g=this.renderCache.item;f=this.renderCache.option;g&&(delete g[a],delete g[d]);f&&(delete f[a],delete f[d]);-1!==this.items.indexOf(d)&&(d=this.getItem(a),g=c(this.render("item",b)),d.hasClass("active")&&g.addClass("active"),d.replaceWith(g));this.isOpen&&this.refreshOptions(!1)}},removeOption:function(a){a=e(a);var b=this.renderCache.item,d=this.renderCache.option;b&&delete b[a];d&&delete d[a];delete this.userOptions[a];delete this.options[a];this.lastQuery= null;this.trigger("option_remove",a);this.removeItem(a)},clearOptions:function(){this.loadedSearches={};this.userOptions={};this.renderCache={};this.options=this.sifter.items={};this.lastQuery=null;this.trigger("option_clear");this.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(a,b){var d=this.$dropdown.find("[data-selectable]"),g=d.index(a)+b;return 0<=g&&g<d.length?d.eq(g):c()},getElementWithValue:function(a, b){if(a=e(a))for(var d=0,g=b.length;d<g;d++)if(b[d].getAttribute("data-value")===a)return c(b[d]);return c()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(a){a=c.isArray(a)?a:[a];for(var b=0,d=a.length;b<d;b++)this.isPending=b<d-1,this.addItem(a[b])},addItem:function(a){y(this,["change"],function(){var b,d,g,f=this.settings.mode;a=e(a);-1!==this.items.indexOf(a)?"single"===f&&this.close():this.options.hasOwnProperty(a)&&("single"===f&&this.clear(), "multi"===f&&this.isFull()||(b=c(this.render("item",this.options[a])),g=this.isFull(),this.items.splice(this.caretPos,0,a),this.insertAtCaret(b),(!this.isPending||!g&&this.isFull())&&this.refreshState(),this.isSetup&&(g=this.$dropdown_content.find("[data-selectable]"),this.isPending||(d=this.getOption(a),d=this.getAdjacentOption(d,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==f),d&&this.setActiveOption(this.getOption(d))),!g.length||this.isFull()?this.close():this.positionDropdown(), this.updatePlaceholder(),this.trigger("item_add",a,b),this.updateOriginalInput())))})},removeItem:function(a){var b,d;b="object"===typeof a?a:this.getItem(a);a=e(b.attr("data-value"));d=this.items.indexOf(a);-1!==d&&(b.remove(),b.hasClass("active")&&(b=this.$activeItems.indexOf(b[0]),this.$activeItems.splice(b,1)),this.items.splice(d,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(a)&&this.removeOption(a),d<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(), this.updatePlaceholder(),this.updateOriginalInput(),this.positionDropdown(),this.trigger("item_remove",a))},createItem:function(a){var b=this,d=c.trim(b.$control_input.val()||""),g=b.caretPos;if(!b.canCreate(d))return!1;b.lock();"undefined"===typeof a&&(a=!0);var f="function"===typeof b.settings.create?this.settings.create:function(a){var d={};d[b.settings.labelField]=a;d[b.settings.valueField]=a;return d},k=C(function(d){b.unlock();if(d&&"object"===typeof d){var c=e(d[b.settings.valueField]);c&& (b.setTextboxValue(""),b.addOption(d),b.setCaret(g),b.addItem(c),b.refreshOptions(a&&"single"!==b.settings.mode))}}),d=f.apply(this,[d,k]);"undefined"!==typeof d&&k(d);return!0},refreshItems:function(){this.lastQuery=null;if(this.isSetup)for(var a=0;a<this.items.length;a++)this.addItem(this.items);this.refreshState();this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0));this.refreshClasses()},refreshClasses:function(){var a= this.isFull(),b=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl);this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",b).toggleClass("full",a).toggleClass("not-full",!a).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!c.isEmptyObject(this.options)).toggleClass("has-items", 0<this.items.length);this.$control_input.data("grow",!a&&!b)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(){var a,b,d;if(1===this.tagType){d=[];a=0;for(b=this.items.length;a<b;a++)d.push(\'<option value="\'+x(this.items[a])+\'" selected="selected"></option>\');d.length||this.$input.attr("multiple")||d.push(\'<option value="" selected="selected"></option>\');this.$input.html(d.join(""))}else this.$input.val(this.getValue()), this.$input.attr("value",this.$input.val());this.isSetup&&this.trigger("change",this.$input.val())},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder);a.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}), this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var a=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput();this.isOpen=!1;this.$dropdown.hide();this.setActiveOption(null);this.refreshState();a&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0);this.$dropdown.css({width:a.outerWidth(), top:b.top,left:b.left})},clear:function(){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput(),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(a){var b=Math.min(this.caretPos,this.items.length);0===b?this.$control.prepend(a):c(this.$control[0].childNodes[b]).before(a);this.setCaret(b+1)},deleteSelection:function(a){var b, d,g,f,k;b=a&&8===a.keyCode?-1:1;d=D(this.$control_input[0]);this.$activeOption&&!this.settings.hideSelected&&(k=this.getAdjacentOption(this.$activeOption,-1).attr("data-value"));g=[];if(this.$activeItems.length){f=this.$control.children(".active:"+(0<b?"last":"first"));f=this.$control.children(":not(input)").index(f);0<b&&f++;b=0;for(d=this.$activeItems.length;b<d;b++)g.push(c(this.$activeItems[b]).attr("data-value"));a&&(a.preventDefault(),a.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&& this.items.length&&(0>b&&0===d.start&&0===d.length?g.push(this.items[this.caretPos-1]):0<b&&d.start===this.$control_input.val().length&&g.push(this.items[this.caretPos]));if(!g.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[g]))return!1;for("undefined"!==typeof f&&this.setCaret(f);g.length;)this.removeItem(g.pop());this.showInput();this.positionDropdown();this.refreshOptions(!0);k&&(a=this.getOption(k),a.length&&this.setActiveOption(a));return!0},advanceSelection:function(a, b){var d,c;0!==a&&(this.rtl&&(a*=-1),d=0<a?"last":"first",c=D(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(d=this.$control_input.val().length,(c=0>a?0===c.start&&0===c.length:c.start===d)&&!d&&this.advanceCaret(a,b)):(c=this.$control.children(".active:"+d),c.length&&(c=this.$control.children(":not(input)").index(c),this.setActiveItem(null),this.setCaret(0<a?c+1:c))))},advanceCaret:function(a,b){var d;0!==a&&(d=0<a?"next":"prev",this.isShiftDown?(d=this.$control_input[d](),d.length&& (this.hideInput(),this.setActiveItem(d),b&&b.preventDefault())):this.setCaret(this.caretPos+a))},setCaret:function(a){a="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,a));if(!this.isPending){var b,d,g,f;g=this.$control.children(":not(input)");b=0;for(d=g.length;b<d;b++)f=c(g[b]).detach(),b<a?this.$control_input.before(f):this.$control.append(f)}this.caretPos=a},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked= !1;this.refreshState()},disable:function(){this.$input.prop("disabled",!0);this.isDisabled=!0;this.lock()},enable:function(){this.$input.prop("disabled",!1);this.isDisabled=!1;this.unlock()},destroy:function(){var a=this.eventNS,b=this.revertSettings;this.trigger("destroy");this.off();this.$wrapper.remove();this.$dropdown.remove();this.$input.html("").append(b.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:b.tabindex}).show();this.$control_input.removeData("grow");this.$input.removeData("selectize"); c(window).off(a);c(document).off(a);c(document.body).off(a);delete this.$input[0].selectize},render:function(a,b){var d,c,f="",k=!1,n=/^[\\t ]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;if("option"===a||"item"===a)d=e(b[this.settings.valueField]),k=!!d;if(k&&("undefined"===typeof this.renderCache[a]&&(this.renderCache[a]={}),this.renderCache[a].hasOwnProperty(d)))return this.renderCache[a][d];f=this.settings.render[a].apply(this,[b,x]);if("option"===a||"option_create"===a)f=f.replace(n,"<$1 data-selectable"); "optgroup"===a&&(c=b[this.settings.optgroupValueField]||"",f=f.replace(n,\'<$1 data-group="\'+z(x(c))+\'"\'));if("option"===a||"item"===a)f=f.replace(n,\'<$1 data-value="\'+z(x(d||""))+\'"\');k&&(this.renderCache[a][d]=f);return f},clearCache:function(a){"undefined"===typeof a?this.renderCache={}:delete this.renderCache[a]}});v.count=0;v.defaults={plugins:[],delimiter:",",persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1E3,maxItems:null,hideSelected:null, addPrecedence:!1,selectOnTab:!1,preload:!1,scrollDuration:60,loadThrottle:300,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",optgroupOrder:null,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,render:{}};c.fn.selectize= function(a){var b=c.fn.selectize.defaults,d=c.extend({},b,a),e=d.dataAttr,f=d.labelField,k=d.valueField,n=d.optgroupField,q=d.optgroupLabelField,h=d.optgroupValueField,l=function(a,b){var d,l,m,p,s=0,r=b.options,t=function(a){a=e&&a.attr(e);return"string"===typeof a&&a.length?JSON.parse(a):null},u=function(a,d){var e,g;a=c(a);e=a.attr("value")||"";e.length&&(r.hasOwnProperty(e)?d&&(r[e].optgroup?c.isArray(r[e].optgroup)?r[e].optgroup.push(d):r[e].optgroup=[r[e].optgroup,d]:r[e].optgroup=d):(g=t(a)|| {},g[f]=g[f]||a.text(),g[k]=g[k]||e,g[n]=g[n]||d,g.$order=++s,r[e]=g,a.is(":selected")&&b.items.push(e)))},v=function(a){var d,f,k;a=c(a);if(f=a.attr("label"))d=t(a)||{},d[q]=f,d[h]=f,b.optgroups[f]=d;k=c("option",a);a=0;for(d=k.length;a<d;a++)u(k[a],f)};b.maxItems=a.attr("multiple")?null:1;p=a.children();d=0;for(l=p.length;d<l;d++)m=p[d].tagName.toLowerCase(),"optgroup"===m?v(p[d]):"option"===m&&u(p[d])};return this.each(function(){if(!this.selectize){var e=c(this),g=this.tagName.toLowerCase(),n= {placeholder:e.children(\'option[value=""]\').text()||e.attr("placeholder"),options:{},optgroups:{},items:[]};if("select"===g)l(e,n);else{var q,h,m,g=c.trim(e.val()||"");if(g.length){h=g.split(d.delimiter);g=0;for(q=h.length;g<q;g++)m={},m[f]=h[g],m[k]=h[g],n.options[h[g]]=m;n.items=h}}new v(e,c.extend(!0,{},b,n,a))}})};c.fn.selectize.defaults=v.defaults;v.define("drag_drop",function(a){if(!c.fn.sortable)throw Error(\'The "drag_drop" plugin requires jQuery UI "sortable".\');if("multi"===this.settings.mode){var b= this;b.lock=function(){var a=b.lock;return function(){var c=b.$control.data("sortable");c&&c.disable();return a.apply(b,arguments)}}();b.unlock=function(){var a=b.unlock;return function(){var c=b.$control.data("sortable");c&&c.enable();return a.apply(b,arguments)}}();b.setup=function(){var a=b.setup;return function(){a.apply(this,arguments);var e=b.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:b.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")); e.css({overflow:"visible"})},stop:function(){e.css({overflow:"hidden"});var a=b.$activeItems?b.$activeItems.slice():null,d=[];e.children("[data-value]").each(function(){d.push(c(this).attr("data-value"))});b.setValue(d);b.setActiveItem(a)}})}}()}});v.define("dropdown_header",function(a){var b=this;a=c.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close", html:function(a){return\'<div class="\'+a.headerClass+\'"><div class="\'+a.titleRowClass+\'"><span class="\'+a.labelClass+\'">\'+a.title+\'</span><a href="javascript:void(0)" class="\'+a.closeClass+\'">&times;</a></div></div>\'}},a);b.setup=function(){var d=b.setup;return function(){d.apply(b,arguments);b.$dropdown_header=c(a.html(a));b.$dropdown.prepend(b.$dropdown_header)}}()});v.define("optgroup_columns",function(a){var b=this;a=c.extend({equalizeWidth:!0,equalizeHeight:!0},a);this.getAdjacentOption=function(a, b){var d=a.closest("[data-group]").find("[data-selectable]"),e=d.index(a)+b;return 0<=e&&e<d.length?d.eq(e):c()};this.onKeyDown=function(){var a=b.onKeyDown;return function(d){var c,e;if(!this.isOpen||37!==d.keyCode&&39!==d.keyCode)return a.apply(this,arguments);b.ignoreHover=!0;e=this.$activeOption.closest("[data-group]");c=e.find("[data-selectable]").index(this.$activeOption);e=37===d.keyCode?e.prev("[data-group]"):e.next("[data-group]");e=e.find("[data-selectable]");c=e.eq(Math.min(e.length-1, c));c.length&&this.setActiveOption(c)}}();var d=function(){var a,b=d.width,c=document;"undefined"===typeof b&&(a=c.createElement("div"),a.innerHTML=\'<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>\',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a));return b},e=function(){var e,k,g,h;h=c("[data-group]",b.$dropdown_content);if((k=h.length)&&b.$dropdown_content.width()){if(a.equalizeHeight){for(e= g=0;e<k;e++)g=Math.max(g,h.eq(e).height());h.css({height:g})}a.equalizeWidth&&(g=b.$dropdown_content.innerWidth()-d(),e=Math.round(g/k),h.css({width:e}),1<k&&(e=g-e*(k-1),h.eq(k-1).css({width:e})))}};if(a.equalizeHeight||a.equalizeWidth)t.after(this,"positionDropdown",e),t.after(this,"refreshOptions",e)});v.define("remove_button",function(a){if("single"!==this.settings.mode){a=c.extend({label:"&times;",title:"Remove",className:"remove",append:!0},a);var b=this,d=\'<a href="javascript:void(0)" class="\'+ a.className+\'" tabindex="-1" title="\'+x(a.title)+\'">\'+a.label+"</a>";this.setup=function(){var e=b.setup;return function(){if(a.append){var f=b.settings.render.item;b.settings.render.item=function(a){var b=f.apply(this,arguments),c=b.search(/(<\\/[^>]+>\\s*)$/);return b.substring(0,c)+d+b.substring(c)}}e.apply(this,arguments);this.$control.on("click","."+a.className,function(a){a.preventDefault();b.isLocked||(a=c(a.currentTarget).parent(),b.setActiveItem(a),b.deleteSelection()&&b.setCaret(b.items.length))})}}()}}); v.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]};this.onKeyDown=function(c){var e=b.onKeyDown;return function(b){var c;if(8===b.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(c=this.caretPos-1,0<=c&&c<this.items.length)){c=this.options[this.items[c]];this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[c])),this.refreshOptions(!0));b.preventDefault();return}return e.apply(this,arguments)}}()}); return v});'},function(e,t,n){"use strict";(function(e,i){function a(t){e(".center_div").each(function(){var t=e(window).height()-92;e(this).css("height",t)})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(194),o=n(285),s=n(177),l=n(2),c=n(264);n(286);var u=n(6),d=n(287),h=n(9),p=n(5),f=n(7),m=n(4),g=n(288);n(292),e(function(){function t(){e.jlNamespace.$popupContent.find("form.remote").submittedToRemote()}function n(){e.jlNamespace.$popupContent.find("form.remote").find("input:visible:first").focus()}function i(t,n){var i=0,a=0;t.each(function(){(a=n?e(this).outerHeight(!0):e(this).height())>i&&(i=a)}),t.css("height",i+"px")}var v=(new d.default,e(".contact_support_form"));if(v.find("form.support_remote").submittedToRemote(function(e,t,n,i){v.children("div.flash").remove(),void 0!==t.message&&v.prepend('<div class="flash">'+t.message+"</div>"),v.find("input, textarea, select").not('input[type="hidden"]').val(""),recaptchaInit()},function(t,n,i){e("#help_for_runetki").length&&t&&t.fields&&Object.keys(t.fields).forEach(function(e){var t=v.find("#"+e).parent();t.length&&t.addClass("novalid")}),v.children("div.flash").remove(),recaptchaInit()},function(){e("#help_for_runetki").length&&v.find(".novalid").removeClass("novalid")},void 0),e(document).on("hover","#header_login .im_popover .item_dialog",function(t){var n=e(this).find(".mark_read_block");n.length&&("mouseenter"===t.type?(n.addClass("item_dialog_hovered"),n.css("display","block")):(n.removeClass("item_dialog_hovered"),n.css("display","none")))}).on("hover","#header_login .im_popover .im_action_button, #header_login .im_popover .notifications_link",function(t){var n=(e(this).parents(".messages:first"),e("#im_popover_hint")),i=30,a=8;if(n.length)if("mouseenter"===t.type){n.find(".h_inner").html(__(e(this).hasClass("im_mark_unread")?"Mark as Unread":"Mark as Read")),-1!==["jw","ar"].indexOf(e("html").attr("lang"))&&(a=n.outerWidth()-28),e(this).hasClass("notifications_link")&&(n.find(".h_inner").html(__("Notification Settings")),i=19,a=3,-1!==["jw","ar"].indexOf(e("html").attr("lang"))&&(a=69)),n.css("display","block");var r=e(this).offset().top,o=e(this).offset().left;n.offset({top:r+i,left:o-a})}else e("#im_popover_hint").hide()}),e(document).on("click",".messages.itm.has_hint.messages_icon",function(t){var n=e(".im_popover"),i=e(this);if(!n.length)return!1;if(g.renderPopoverDialog(".im_popover"),i.hasClass("im_popover_opened"))return void(e(t.target).is(".messages.itm.has_hint.messages_icon .icon")&&i.removeClass("im_popover_opened"));var a="click";return e.isFullMobile&&(a="touchstart"),e(document).on(a+".im_popover",function(t){var i=t.target;e(i).parents().addBack().is(n)||c.closeImPopover()}),i.addClass("im_popover_opened"),e.ajax({url:i.data("url"),dataType:"json",data:{limit:15},context:e(this),type:"get",success:function(t,i,a){if(t&&"success"===t.status){if(!n.is(":visible"))return;e(".container_loader").css("display","none");var r=n.find(".inner");r.find(".jspContainer").length&&r.data("jsp")&&r.data("jsp").destroy(),r.html(t.content),r.css("display","block"),r.find(".item_msg_text").each(function(){this.innerHTML=u.default.replace({message:this.innerHTML})});var o=e(t.content).find(".item").length;if(0!==o){var s=4,l=e(window).height(),d=e("body").find(".confirm_email_box").outerHeight();d=d||0;var h=e("#header").outerHeight(),p=e(".im_popover .inbox").outerHeight()+e(".im_popover .see_all").outerHeight(!0),f=l-(h+d+p),m=e(n.find(".items .item").get(0)).outerHeight(),g=f/m,v=m*s;f-=m,g>o&&(f=m*o),f<v&&o>s?f=v:f<m&&(f=m),r.css("height",f+"px"),c.addStyledScrollToImBlock()}n.find(".inbox").removeClass("spinner")}},error:function(e,t,n){void 0!==window.console&&console.log("[ "+t+" ] "+n)}}),!1}),e("#bChat").bind("onUserData",function(t){if(window.chat.performerData){var n=chat.performerData.sexType,i="";""!==n&&(i="male_"),e(".top_of_week").each(function(){e(this).html(__("Top %count% of the Week",{count:e(this).attr(i+"count")})),e(this).attr("href",e(this).attr(i+"url"))}),e(".contests_header").each(function(){e(this).attr("href",e(this).attr(i+"url"))})}}),a(window),e(".data_item_membership,.vip_overview_tip").length){e.tools.tooltip.addEffect("myFadeEffect",function(e){this.getTip().stop().fadeIn(function(){e.call()})},function(e){this.getTip().stop().fadeOut(function(){e.call()})});var b=e(".data_item_membership");if(b.length){var y={tip:".data_item_membership_tooltip",effect:"myFadeEffect",fadeOutSpeed:100,predelay:200,position:"bottom right",onBeforeShow:function(){var t=this.getTip();t.html()||e.get(this.getTrigger().attr("rel"),function(e){t.html(e).removeClass("spinner"),f.isRTLCulture?t.css({right:-1*t.outerWidth(!0)-8+"px"}):t.css({left:-1*t.outerWidth(!0)-8+"px"})})}};y.offset=f.isRTLCulture?[0,8]:[0,-8],y.relative=!0,y.position=f.isRTLCulture?"center right":"center left",b.tooltip(y)}var _=e(".vip_overview_tip");if(_.length){var w={tip:"",relative:!0,effect:"myFadeEffect",fadeOutSpeed:100,predelay:200,position:f.isRTLCulture?"bottom left":"bottom right"};_.each(function(){e(this).hasClass("tip_right")?(w.offset=f.isRTLCulture?[0,-8]:[0,8],w.position=f.isRTLCulture?"center left":"center right"):e(this).hasClass("tip_top")?(w.offset=[-8,0],w.position="top center"):e(this).hasClass("tip_bottom")?(w.offset=[8,0],w.position="bottom center"):(w.offset=f.isRTLCulture?[0,8]:[0,-8],w.position=f.isRTLCulture?"center right":"center left"),w.tip="."+e(this).attr("id"),e(this).tooltip(w)})}}e("input[placeholder], textarea[placeholder]").placeholder(),e(".popup").find("form.remote").submittedToRemote(),e(".wrapper").find("form.remote").submittedToRemote(),e(".jl_alert_outer").find(".jl_alert_close_link").attr("onclick","return false;").click(function(){return e(this).hide(),e.ajax({url:e(this).attr("href"),dataType:"json",context:e(this),data:m.getCSRFData({sf_method:"delete"}),type:"post",success:function(t,n,i){t&&"success"===t.status?e(this).closest(".jl_alert_outer").remove():(void 0!==window.console&&console.log("[ "+n+" ] "),e(this).show())},error:function(t,n,i){void 0!==window.console&&console.log("[ "+n+" ] "+i),e(this).show()}}),!1}),e("body").on("click",".popup_hide",function(t){return e.fancybox.close(),!1}),e("[rel=take_a_tour]").each(function(){e(this).open({width:950,height:700,left:(e(window).width()-950)/2,top:(e(window).height()-700)/2,windowName:e(this).attr("name")||"take_a_tour"})}),e("[rel=prices]").each(function(){e(this).open({width:950,height:700,left:(e(window).width()-950)/2,top:(e(window).height()-700)/2,windowName:e(this).attr("name")||"prices"})}),e("[rel=contact_support]").openBind({width:1280,height:700,left:(e(window).width()-1280)/2,top:(e(window).height()-700)/2,windowName:e(this).attr("name")||"contact_support"}),e("[rel=friends], [rel=real_gifts]").openBind({width:1280,height:700,left:(e(window).width()-1280)/2,top:(e(window).height()-700)/2,windowName:e(this).attr("rel")}),e("body").on("click","[rel=open_game]",function(t){if(!e(this).attr("href"))return!1;t.preventDefault();var n=window.screen.availHeight||window.screen.height||e(window).height(),i=window.screen.availWidth||window.screen.width||e(window).width(),a=n>1e3?1e3:700,r=n>1e3?1e3:820,o=n>a?a:n;e.open.newWindow(e(this).attr("href"),{width:r,height:n>a?a:n,left:(i-r)/2,top:(n-o)/2,windowName:"game"})}),e("body").on("click","[rel=buy_tokens], [rel=buy_vip]",function(t){if(!e(this).attr("href"))return!1;t.preventDefault();var n=e(this).attr("href"),i="buy_tokens"===e(this).attr("rel"),a="buy_vip"===e(this).attr("rel");if(void 0!==window.chat&&chat.userData&&chat.userData.chathost&&(n=l.updateQueryStringParameter(n,"performer",chat.userData.chathost)),i){var r=l.getQueryStringParameterByName("ntpop");r&&!l.getQueryStringParameterByName("ntpop",n)&&(n=l.updateQueryStringParameter(n,"ntpop",r))}var o=1e3;if(p.default.getState().isAdblockEnabled){var s=l.getQueryStringParameterByName("gcnum",n),c=l.getQueryStringParameterByName("sale",n),u=l.getQueryStringParameterByName("vip",n);void 0!==e.purchaseUrl&&i&&(n=e.purchaseUrl,c?(u&&void 0!==e.purchaseVipUrl&&(n=e.purchaseVipUrl),n=l.updateQueryStringParameter(n,"sale",c),n=l.updateQueryStringParameter(n,"vip",u)):s&&(n=l.updateQueryStringParameter(e.purchaseUrl,"gcnum",s))),void 0!==e.purchaseVipUrl&&a&&(n=e.purchaseVipUrl+(s?"?gcnum="+s:""),c&&(n=l.updateQueryStringParameter(e.purchaseVipUrl,"sale",c)))}var d=e.pageNumber||null;d&&i&&!l.getQueryStringParameterByName("page",n)&&(n=l.updateQueryStringParameter(n,"page",d));var h=null;i&&(h=function(t,n,i){l.isLocalStorageAvailable()&&localStorage.getItem("in_game")&&localStorage.removeItem("in_game"),i.loyaltyDiscountEnabled&&void 0!==e.windowJsVars&&sv.popup.tasks&&e.windowJsVars.loyaltyDiscountEnabled&&(t=l.updateQueryStringParameter(t,"loyalty",1),sv.popup.tasks.open("loyalty_discount",{force:!0,customData:{href:t,options:{margin:20,type:"iframe",closeBtn:!0,nextEffect:"fide",prevEffect:"fide",autoHeight:!1,autoSize:!1,width:"1000px",height:"100%",helpers:{locked:!1,overlay:{closeClick:!1}}}}}))}),e.open.newWindow(n,{windowName:e(this).attr("rel"),width:o,height:screen.height-100,left:(e(window).width()-o)/2,top:0,onClose:h},{})}),e.autoOpenBuyTokens&&e("body").on("click.first",function(){e("body").off("click.first"),e.cookie("sadp")&&e("a[rel=buy_tokens]").first().trigger("click")}),e("body").on("click","[rel=webcamsupport]",function(t){if(!e(this).attr("href"))return!1;t.preventDefault();var n=640,i=680;e.open.newWindow(e(this).attr("href"),{windowName:e(this).attr("rel"),width:n,height:i,left:(e(window).width()-n)/2,top:(e(window).height()-i)/2},{})}),e("body").on("click","a.profile, a.display_name, [rel=profile]",function(t){return!!e(this).attr("href")&&(e.openProfileWindow(e(this).attr("href")),t.preventDefault(),t.stopPropagation(),!1)});var S=function(){var e=window.screen.availWidth,t=1600;return e<=1600?t=1440:e<=1440&&(t=1280),t};if(e("a.top_models_footer").open({href:e(this).attr("href"),width:S(),height:700,left:(e(window).width()-S())/2,top:(e(window).height()-600)/2,windowName:"top_models"}),e("a.top_rooms_header").open({width:S(),height:700,left:(e(window).width()-S())/2,top:(e(window).height()-600)/2,windowName:"top_rooms_contest"}),e(document).on("click","a.contests_header, a.read_more_contest",function(){var t=S();return e.open.newWindow(e(this).attr("href"),{width:t,height:700,left:(e(window).width()-t)/2,top:(e(window).height()-600)/2,windowName:"contests"}),!1}),e(document).on("click","#button_tabs a",function(t){t.preventDefault(),e(this).addClass("active"),e(this).siblings().removeClass("active");var n=e(this).attr("href");e(".button_tabs_content").not(n).css("display","none"),e(n).fadeIn()}),e("a.website_queen_footer").open({width:950,height:700,left:(e(window).width()-640)/2,top:(e(window).height()-480)/2,windowName:"website_queen"}),e(".cashback_panel").click(function(){location.href=e(this).find(".more a").attr("href")}),e("body").on("click","a.chat_popup",function(){e.open.newWindow(e(this).attr("href"),{windowName:e(this).attr("target"),width:1180,height:660,left:(e(window).width()-1180)/2,top:(e(window).height()-660)/2},{})}),s.default.ToolBar_AttachEvents(),e(".invisible_mode_switch").bind("click",function(){var t=e(this);if(void 0===t.attr("disabled")){var n=t.closest("li");return t.attr("disabled","disabled"),e.post(e(this).attr("href"),m.getCSRFData(),function(e){e=h.json_parse(e),e&&"success"===e.status&&(n.hasClass("invisible_mode_activated")?n.removeClass("invisible_mode_activated"):n.addClass("invisible_mode_activated"),void 0!==window.chat&&chat.service&&chat.userData&&chat.userData.chathost&&chat.service.update()),t.prop("disabled",!1)}),!1}}),e("#footer_leftbar_model_join, #non_restricted_model_join").openPopup({container:e("#bongacams_popups_content").find(".model_join_popup_container"),onDisplay:t,afterDisplay:n}),e("#footer_leftbar_studio_join, #non_restricted_studio_join").openPopup({container:e("#bongacams_popups_content").find(".studio_join_popup_container"),onDisplay:t,afterDisplay:n}),e("a.submitTheForm").attr("onclick","return false;").click(function(){return e(this).closest("form").submit(),!1}),e("div#header_login").find("button").bind("click",function(){var t=e(this).closest("form");t.find("[name=redirect_url]").length||t.append('<input type="hidden" name="redirect_url" value="'+location.href+'">')}),e("[rel=login]").click(function(t){return e(this).hasClass("scroll_up")&&e("html, body").animate({scrollTop:0},"fast"),e("#header_login_popup").show(),e(document).unbind(".header_login_popup"),setTimeout(function(){e(document).bind("click.header_login_popup",function(){e("#header_login_popup").hide()})},1),!1}),e("#header_login_popup").find(".close").click(function(){e("#header_login_popup").removeAttr("style")}),e("#header_login_popup").click(function(t){e(t.target).is("a")||t.stopPropagation()}),e(".security_log_additional_info").length>0){var C={language:navigator.language,cookieEnabled:navigator.cookieEnabled,javaEnabled:"function"==typeof navigator.javaEnabled&&navigator.javaEnabled()};"undefined"!=typeof swfobject&&(C.flashVersion=swfobject.hasFlashPlayerVersion("1")?swfobject.getFlashPlayerVersion().major+"."+swfobject.getFlashPlayerVersion().minor+"."+swfobject.getFlashPlayerVersion().release:"false"),C.dateTime=(new Date).toLocaleString(),C.ips=[],e(".security_log_additional_info").val(JSON.stringify(C));try{r.getIPs(function(t){var n=e(".security_log_additional_info"),i=JSON.parse(n.val());i.ips.push(t),n.val(JSON.stringify(i))})}catch(e){}}if(e("form.forget_password_remote").submittedToRemote(function(t,n){e(".forget_info").hide(),e(".forget_password_remote").hide(),e("div.request_sent").show()},function(){recaptchaInit()}),e.showModelsCategoriesList=function(){e("#categories_list").slideDown(400,function(){e("#categories_list").removeClass("collapsed"),e("#categories_list_toggle").removeClass("collapsed")})},e.hideModelsCategoriesList=function(){e("#categories_list").slideUp(400,function(){e("#categories_list").addClass("collapsed"),e("#categories_list_toggle").addClass("collapsed")})},e("div#categories_list_toggle").click(function(){e("div#categories_list").hasClass("collapsed")?e.showModelsCategoriesList():e.hideModelsCategoriesList()}),e.ajaxLoadBanners=function(e){o.default.instance.refresh(e)},e.ajaxLoadBanners(),e(".contact_support").length)if(e("#help_for_runetki").length){var k=[e(".support_tab_chat").outerHeight(),e(".support_tab_email").outerHeight(),e(".contact_support_info").outerHeight()],T=Math.max.apply(Math,k);e(".support_tab_chat, .support_tab_email, .contact_support_info, .support_page_email").css("height",T+"px")}else if(e(".contact_support_tabs.support_page").is(":visible")){i(e(".contact_support .support_tab em.desc")),i(e(".contact_support .support_tab strong.maroon"));var P=e(".contact_support .support_tab strong.maroon").height(),x=e(".contact_support .support_tab em.desc").height(),E=P+x+145;E>240&&(E-=20),e(".contact_support .contact_support_info_content .contact_support_bill").css("top",+E+"px")}var O="";if(e(".b_pos").on({mouseenter:function(){e(this).attr("tracking_url")&&(O=e(this).attr("tracking_url"))},mouseleave:function(){O=""}},"iframe"),e(window).blur(function(){""!==O&&e.get(O)}),e(document).on("click",".panel_item .navbar_panel_header",function(){if(e(this).find(".toolbar_control:visible").length){var t=e(this).next(),n=e(this).find(".toolbar_control");n.hasClass("mini")?(t.show(),n.removeClass("mini")):(t.hide(),n.addClass("mini"))}}),history.replaceState(l.getHistoryState(),document.title,decodeURIComponent(window.location.href)),e(".mobile_switch").length&&e(".smartphone_compatible").click(function(){location.href=e(".mobile_switch").attr("href")}),window.cashbackPanelCountdown&&e(".countdown").countdown({htmlTemplate:window.cashbackPanelCountdown.htmlTemplate,date:window.cashbackPanelCountdown.targetDate,updateTime:200,serverTime:window.cashbackPanelCountdown.serverTime,hoursOnly:!0,leadingZero:!0}),e(".ap_cashback_page .ap_countdown_init").length){var D,A,j,M=e(".ap_countdown_hour .ap_countdown_num"),L=e(".ap_countdown_min .ap_countdown_num"),I=e(".ap_countdown_sec .ap_countdown_num");e(".ap_countdown_init").countdown({htmlTemplate:'<span class="ap_countdown_init_h">%h</span><span class="ap_countdown_init_m">%i</span><span class="ap_countdown_init_s">%s</span>',date:window.freeTokensCountdown.targetDate,updateTime:500,serverTime:window.freeTokensCountdown.serverTime,hoursOnly:!0,leadingZero:!0,onChange:function(){D=e(".ap_countdown_init .ap_countdown_init_h").text().split(""),A=e(".ap_countdown_init .ap_countdown_init_m").text().split(""),j=e(".ap_countdown_init .ap_countdown_init_s").text().split(""),M.eq(0).text(D[0]),M.eq(1).text(D[1]),L.eq(0).text(A[0]),L.eq(1).text(A[1]),I.eq(0).text(j[0]),I.eq(1).text(j[1])}})}e(document).on("click",".sitemap_expand:not(.sitemap_expanded)",function(){e(this).html("-"),e(this).addClass("sitemap_expanded"),e(this).siblings("ul.level_3_sitemap").show()}),e(document).on("click",".sitemap_expanded",function(){e(this).html("+"),e(this).removeClass("sitemap_expanded"),e(this).siblings("ul.level_3_sitemap").hide()}),e(document).bind("onNoticeSocketMessage",function(t,n){switch(n.type){case"frc":var i=parseInt(n.count,10);e(".friends_icon .bullet").toggleClass("hide",!i).html(i?i.toString():""),e(".page_friends_requests").length&&(e(".friends_requests").toggleClass("hide",!i).find(".bullet").html(i?i.toString():""),location.reload());break;case"fs":if(window.chat&&window.chat.userData.chathost){var a=n.data.friend.username,r="active"===n.data.status,o=e('[username="'+a+'"]');if(r){var s='<span class="icon icon_friend"><span class="icon-title">'+__("You are friends")+"</span></span>";e('.message[data-author="'+a+'"] .icons .friend_space').replaceWith(s),o&&(o.addClass("member_friend"),o.find(".td_last .friend_space").replaceWith(s)),window.chat.userData.chathost===a&&window.chat.performerData&&window.chat.addFriendConfirmMessage(window.chat.performerData.displayName)}else{var l='<span class="friend_space"></span>';e('.message[data-author="'+a+'"] .icons .icon_friend').replaceWith(l),o&&(o.removeClass("member_friend"),o.find(".td_last .icon_friend").replaceWith(l))}window.chat.updateNewFriend(a,r),n.data&&"pending"===n.data.status&&n.data.source?window.chat.onFriendRequest({username:n.data.friend.username,displayName:n.data.friend.display_name,userId:n.data.friend.id}):e(".friend_request_"+a).parent().remove(),window.chat.chatProfile&&window.chat.chatProfile.onFriendRequest(n.data&&n.data.status?n.data.status:null)}break;case"rm":window.chat&&window.chat.userData.chathost&&n.member&&n.member_name&&window.chat.toggleMemberRaiseInfo(!1,n.member);break;case"rmu":window.chat&&window.chat.userData.chathost&&n.member&&window.chat.toggleMemberRaiseInfo(!0,n.member);break;case"ftbcnt":e(".ft_link").find(".bullet").html(n.count);break;case"al":window.location.reload();break;case"mcm":window.chat&&window.chat.userData.chathost===n.author&&window.chat.service.update()}}),e(".tokens_count").removeClass("tokens_count")}),e(document).on("click",".banner_track_link",function(){return e(this).attr("tracking_url")&&e.get(e(this).attr("tracking_url")),!0}),e(document).on("click",".smotri_nb_close",function(t){t.preventDefault(),e.cookie("smotri_notice",1,{expires:365,path:"/"}),e(".smotri_nb").slideUp()}),e.adjustBottomBanners=function(){var t=305,n=e("#bottom_banners_container"),i=n.width()-2,a=n.find(".b_pos");a.show().css({width:"auto"});var r=a.filter(":visible");if(r.length)for(;i<305*r.length;)r.eq(1).hide(),r=a.filter(":visible");var o=i/r.length;o<t&&(o=t),r.css("width",o.toString()+"px")},e.waitForFinalEvent=function(){var e={};return function(t,n,i){i||(i="Don't call this twice without a uniqueId"),e[i]&&clearTimeout(e[i]),e[i]=setTimeout(t,n)}}(),e(window).resize(function(){a(null),e.waitForFinalEvent(function(){o.default.instance.isAllowed()&&(e.ajaxLoadBanners(!0),o.default.adjustTopBannerIframe(),e.adjustBottomBanners()),e.adjustHeaderAndFooterWidth(),"function"==typeof window.addStyledScrollToTags&&window.addStyledScrollToTags(),e(".im_popover").is(":visible")&&c.addStyledScrollToImBlock(),e(document).trigger("resize:ready")},500,"window_resize")}),e.adjustHeaderAndFooterWidth=function(){e(".sfWebDebugActionCache").length&&e("div.footer").css({"min-width":parseInt(e("div.footer").css("min-width"))-2+"px"}),e(".bongacams_promo_message").length&&(e(".bongacams_promo_message:visible").length?(e("#header, div.footer").css("cssText","min-width: 1480px !important"),e(".confirm_email_box").css("cssText","min-width: 1460px !important")):(e("#header, div.footer").css("cssText",""),e(".confirm_email_box").css("cssText","")))},i.openProfileWindow=function(t){var n=screen.width-100,i=screen.height-160;n>1357&&(n=1357),e.open.newWindow(t,{windowName:t,width:n,height:i,left:0,top:0},{})},i.fn.random=function(){var e=Math.floor(Math.random()*this.length);return i(this[e])},e(document).on("click",".winners_archive_nav a",function(t){var n;if(n=e(e(".contest_tabs_sub_items a.international").hasClass("selected")?"#top_models_international":"#top_models"),-1===e(this).attr("href").indexOf("ajax-"))return!0;t.preventDefault(),n.html('<div class="spinner" style="display: block;"></div><div class="clr"></div>'),e.ajax({url:e(this).attr("href"),context:e(this),type:"get",success:function(e,t,i){n.html(e).show()},error:function(e,t,n){void 0!==window.console&&console.log("[ "+t+" ] "+n)}})}),e(document).on("click",".invisible_mode_info_button",function(){var t=e(this).parents(".control_popover"),n=e(this).parent();return t.toggleClass("always_show"),e("#invisible_mode_description").css("top",n.offset().top-e(".control_popover").offset().top+n.height()+"px"),!1}),e(document).on("click","body",function(t){return 0===e(t.target).parents(".control_popover").length&&e(".control_popover.always_show").removeClass("always_show"),!0}),e(document).on("click","#invisible_mode_description .close",function(){return e(this).parents(".control_popover").removeClass("always_show"),!0}),e(document).on("click",".js-bt_popup_show",function(){return sv.popup.tasks.open("bt_app"),!1}),Date.prototype.stdTimezoneOffset=function(){var e=new Date(this.getFullYear(),0,1),t=new Date(this.getFullYear(),6,1);return Math.max(e.getTimezoneOffset(),t.getTimezoneOffset())},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()}}).call(t,n(0),n(0))},function(e,t,n){"use strict";(function(e){function n(t){var n=t.split("");return e("#bottom_banners_container").width()>=1220?n[7]=n[8]=n[9]=n[10]="1":n[7]=n[8]=n[9]="1",n.join("")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this.globalInstance=this.globalInstance||new this},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isChatVisible",{get:function(){var t=e("#mls_chatconsole").is(":visible");return void 0!==window.chat?"none"===window.chat.visibility?t:"visible"===window.chat.visibility&&"collapse"!==window.chat.visibility:t},enumerable:!0,configurable:!0}),t.adjustTopBannerIframe=function(n){var i=e(t.isChatVisible?".banner_top_chat":".banner_top_index");if(n||(n=i.find(".b_container"),n.hide()),n.length)return n.show(),e(n)},t.prototype.isAllowed=function(){return!e.isModerator},t.prototype.refresh=function(i){if(this.isAllowed()){var a=e("body"),r=a.attr("id");if(void 0!==r&&-1!==r.indexOf("layout_")&&e.ajaxLoadBannersUrl&&!e(".mls_models_vip").length){var o=e("#bottom_banners_container");o.css({width:"100%"});var s="index",l=parseInt(a.attr("wl"));if(i){var c=Math.floor(o.width()/305);if(c>4&&(c=4),!o.find(".b_pos:visible").length||o.find(".b_pos:visible").length===c)return}var u="00000000000",d="large";if(e(".content_shop_category_menu, .top_members, .free_tokens_pages, .profile_header_container, .profile_header, .news_outer, .error404, #cybersale_page").length)l&&(u=n(u)),s="other",r="layout_1";else{if(t.isChatVisible&&(s="chat"),l?("layout_2"!==r&&"layout_1"!==r&&"layout_9"!==r&&"layout_10"!==r||"large"!==d?"index"===s?u="10001100000":"chat"===s&&(u="01110000000"):"index"===s?u="10001110000":"chat"===s&&(u="01110000000"),u=n(u)):(d="medium","chat"===s?u="01110000000":"index"===s&&(u="10001100000")),0===e(".right_banners").length){var h=u.split("");h[1]=h[2]=h[3]=h[4]=h[5]="0",u=h.join("")}if(i){var h=u.split("");h[0]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]="0",u=h.join("")}}if(0===parseInt(u)){e(".b_pos").html(""),e(".right_banners").hide(),e(".mls_models_container").removeClass("screen_large screen_medium screen_small");var p=window.globalListing;return p&&p.resizer.resize(),!1}e.get(e.ajaxLoadBannersUrl+"/"+parseInt(u,2)+"/"+d+"/"+e.liveTab+"/"+r,{},function(n){try{d=n.scrn,e("td.content_container div.content").css("min-height","660px"),i?e(".b_pos:not(.banner_top_index, .banner_top_chat, .banner_index_right1, .banner_index_right2, .banner_index_right3, .banner_chat_right1, .banner_chat_right2)").html(""):e(".b_pos").html(""),e("#top_banner_above_chat").hide(),e.each(n,function(i,a){if(a='<div class="b_container">'+a+"</div>",("layout_1"===r||"layout_9"===r||"layout_10"===r)&&(n.chat_right1||n.chat_right2||n.index_right1||n.index_right2||n.index_right3)){if("chat"===s){var o=e(".chat_right_banner");o.removeClass("screen_large screen_medium screen_small"),e(".wrapper_table .content_container .content").removeClass("right_banner_space_small right_banner_space_medium right_banner_space_large"),(n.chat_right1||n.chat_right2)&&(o.addClass("screen_"+d).show(),n.chat_right1&&n.chat_right2&&"large"!==d&&e(".wrapper_table .content_container .content").addClass("right_banner_space_"+d)),n.chat_right2?e(".mls_models_container").removeClass("screen_large screen_medium screen_small").addClass("screen_"+d):e(".mls_models_container").removeClass("screen_"+d)}else(n.chat_right1||n.chat_right2||n.index_right1||n.index_right2||n.index_right3)&&e(".mls_models_container").removeClass("screen_large screen_medium screen_small").addClass("screen_"+d);e("#mls_chatconsole").removeClass("screen_large screen_medium screen_small"),(n.chat_right1||n.chat_right2)&&e("#mls_chatconsole").addClass("screen_"+d),e(".right_banners").removeClass("screen_large screen_medium screen_small").addClass("screen_"+d),"large"!==d&&n.chat_right1&&n.chat_right2&&e(".mls_inner").css("min-height","1000px")}-1!==e.inArray(i,["top_index","top_chat","bottom1","bottom2","bottom3","bottom4"])?("top_index"!==i&&"top_chat"!==i||("top_chat"===i&&e("#top_banner_above_chat").show(),a=t.adjustTopBannerIframe(e(a))),e(".zone_item.vip_zone.active").length?e(".banner_"+i).hide().append(a):e(".banner_"+i).append(a).show().parents().show()):e(".banner_"+i).append(a).show().parents().show()}),e(".right_banners .b_pos:not(:empty)").length||(e(".right_banners").hide(),e(".mls_models_container").removeClass("screen_"+d)),e.adjustBottomBanners(),e(".banner_top_index a img, .banner_top_chat a img").load(function(){e(this).parent("a").css({width:"auto",height:"auto",display:"block"}),t.adjustTopBannerIframe()})}catch(e){console.log(e)}},"json")}}},t}();t.default=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.collection={chat:[]},this.collectStats=function(){e.collectChatInfo()},setInterval(this.collectStats,1e3)}return Object.defineProperty(e,"instance",{get:function(){return this.globalInstance=this.globalInstance||new this},enumerable:!0,configurable:!0}),e.prototype.collectChatInfo=function(){if("undefined"!=typeof chat&&chat.isPlaying&&chat.performerData){var e=chat.performerData;this.collection.chat.push({username:e.username,sexType:e.sexType,userId:e.userId}),this.collection.chat.length>=60&&this.aggregateData()}},e.prototype.aggregateData=function(){},e.prototype.log=function(e){},e.prototype.sendData=function(){},e}();t.default=n,e(function(){n.instance})}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){e.init()}return e.init=function(){e.attachHandlers(),e.watch(),"function"==typeof window.CustomEvent&&(e.customChange=new CustomEvent("custom_change"))},e.attachHandlers=function(){document.body.addEventListener("mousedown",e.onClick),window.addEventListener("scroll",e.onScroll)},e.detachHandlers=function(){document.body.removeEventListener("mousedown",e.onClick),window.removeEventListener("scroll",e.onScroll)},e.watch=function(){try{var t=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value").set;Object.defineProperty(HTMLInputElement.prototype,"value",{set:function(n){t.apply(this,arguments),e.parents(this,e.selector)&&e.setViewer(this)}})}catch(e){}},e.onClick=function(t){var n=t&&t.target;if(n&&n.classList){var i=n.classList.contains(e.selector)?n:e.parents(n,e.selector);if(n.classList.contains(e.viewer)&&i.classList.contains(e.open))return void e.closeSelect();if(!i)return void e.closeSelect();var a=i.querySelector("."+e.list);a&&!i.classList.contains(e.open)&&3!==t.which?e.render(i,a):n.classList.contains(e.option)&&e.parents(n,e.option)&&e.select(i,n.getAttribute(e.dataValue))}},e.render=function(t,n){e.closeSelect();for(var i=t.getAttribute(e.dataCount)||20,a=n.children[1].getAttribute(e.dataValue),r=0,o=0;o<n.childElementCount;o++){var s=n.children[o];if(a&&n.childElementCount<i)break;!a&&s&&s.setAttribute(e.dataValue,s.innerText),n.childElementCount>i&&o<=i&&(r+=s?s.clientHeight:0)}r>0&&(n.style.height=r+"px",n.style.overflowY="scroll"),t.style.width||(t.style.width=t.getBoundingClientRect().width+"px"),n.offsetWidth<t.offsetWidth&&(n.style.width=t.offsetWidth+"px"),n.style.top=t.getBoundingClientRect().top+t.offsetHeight+"px",n.style.left=t.getBoundingClientRect().left+"px",t.classList.add(e.open)},e.select=function(t,n){if(void 0===n&&(n=""),t.getAttribute(e.dataContext)){var i=t.querySelector('input[name="'+t.getAttribute(e.dataContext)+'"]');i&&(i.value=n,e.customChange&&i.dispatchEvent(e.customChange))}e.closeSelect()},e.setViewer=function(t){var n=e.parents(t,e.selector),i=n&&n.querySelector("."+e.viewer);if(n&&i){var a=n.querySelector("."+e.selected),r=n.querySelector("["+e.dataValue+'="'+t.value+'"]')||n.querySelector("."+e.list).children[0];i.innerHTML=r.innerHTML,a&&a.classList.remove(e.selected),r&&r.classList.add(e.selected)}},e.onScroll=function(){e.closeSelect()},e.parents=function(t,n){var i=null;if(!t||!t.classList||t===document.body)return i;try{i=t.classList.contains(n)?t:e.parents(t.parentNode,n)}catch(e){}return i},e.closeSelect=function(){var t=document.querySelector("."+e.selector+"."+e.open);if(t){var n=t.querySelector("."+e.list);n&&(n.style.width=""),t.classList.remove(e.open)}},e.selector="cszb_select",e.viewer="cszb_select_viewer",e.list="cszb_select_options",e.option="cszb_select_option",e.selected="selected",e.open="open",e.customChange=null,e.dataCount="data-count",e.dataContext="data-context",e.dataValue="data-value",e}();t.default=i},function(e,t,n){"use strict";(function(e){function i(t,n,i){n=n?e(n):null,n=n&&n.length?n.get(0):null,i=i?e(i):null,i=i&&i.length?i.get(0):null,(n||i)&&r.render(t,n,i)}function a(t){var n=e(t);n.data("isReady")||(n.data("isReady",!0),i(r.h(o.Provider,{store:l.default},r.h(s.default,null)),null,t))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(15),s=n(289),l=n(5);t.renderPopoverDialog=a}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),s=n(87),l=n(15),c=n(290);!function(e){e.ALL="all",e.ACTIVE="active",e.NEW_MESSAGE="new_message"}(r||(r={}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={requestSent:!0},n}return i(t,e),t.prototype.render=function(e,t){var n=e.isFullMobile,i=t.requestSent;return o.h("div",{class:["im_popover",n&&"full_mobile"]},o.h("div",{class:"c_arrow icon"}),o.h("div",{class:{inbox:1,spinner:i}},o.h("span",null,__("Inbox")),o.h("div",{class:"im_popover_links_block"},o.h("a",{class:"notifications_link",href:s.url_for("@common_account_notifications_settings"),native:!0}),o.h("a",{class:"conversations_link",href:s.url_for("@im_conversations?page="+r.ALL),title:__("View Inbox")},__("View Inbox")))),o.h("div",{id:"im_scroll",class:"inner"}),o.h("div",{class:"hint",id:"im_popover_hint",style:"display: none"},o.h("div",{class:"h_arrow"}),o.h("div",{class:"h_inner"})),o.h("div",{class:"container_loader"},o.h(c.SpinnerCirclesG,null),o.h("span",null,__("Loading"))),o.h("div",{class:"see_all"},o.h("div",{class:"see_all_item"}),o.h("a",{class:"conversations_link",title:__("See All"),href:s.url_for("@im_conversations?page="+r.ALL),native:!0},__("See All"))))},t.defaultProps={},t=a([l.connect("isFullMobile")],t)}(o.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(291);t.SpinnerCirclesG=i.SpinnerCirclesG},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(8);t.SpinnerCirclesG=function(){return i.h("div",{class:"floatingCirclesG"},a.loop(1,9,function(e){return i.h("div",{class:"f_circleG frotateG_"+("00"+e).substr(-2,2)})}))}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(174),a=function(){function t(){this.handleButtonOpenPopup=function(t){sv.popup&&sv.popup.tasks.open("sg_intro"),e(".popover_spygasm").hide()},this.handleButtonClose=function(t){e(".popover_spygasm").hide(),i.sendCloseEvent()}}return t.prototype.init=function(){this.detachEvents(),this.attachEvents()},t.prototype.attachEvents=function(){e(".open_spygasm_popup").on("click",this.handleButtonOpenPopup),e(".ps_close").on("click",this.handleButtonClose)},t.prototype.detachEvents=function(){e(".open_spygasm_popup").off("click",this.handleButtonOpenPopup),e(".ps_close").off("click",this.handleButtonClose)},t}();e(function(){e(".popover_spygasm").length&&(new a).init()})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(7),r=function(){function t(){e("input#im_added_tip, input#popup_add_im_added_tip").val(0),e(document).on("change",".js-tip_model :radio",function(){var t=e(this).closest(".js-tip_model"),n=t.find(".priceAmount");e(".js-tip_model").find("button").removeAttr("disabled").focus(),"#"===this.value?(e(".tip_click.selected").removeClass("selected"),n.removeAttr("disabled"),n.focus()):n.attr("disabled","disabled")}),e(document).on("click",".tip_click .layer",function(){var t=e(this).parent(),n=t.find("input[type=radio]");n.is("checked")||(e(".tip_click").removeClass("selected"),n.trigger("click"),t.addClass("selected"))}),e(".js-tip_model button").on("click",function(){var t=e(this).closest(".js-tip_model"),n=e.jlNamespace&&e.jlNamespace.popupOptions&&e.jlNamespace.popupOptions.profile&&e(".send_tip_to_user_trigger").length,r=parseInt("#"===t.find(":checked").val()?t.find("#tip_field_enter_amount").val():t.find(":checked").val());if(!(isNaN(r)||r<=0||r>999999)){if(e("#im_new_message_popup").is(":visible")){var o=e(".send_new_im_container");o.find("input#im_added_tip, input#popup_add_im_added_tip").val(r).attr("name","popup_add_im[added_tip]"),o.find(".add_tip_to_message_sub_trigger").hide(),o.find(".add_tip_to_message_trigger").hide(),o.find(".im_included_tokens").show().find("span").html(__("You have included %amount% %tokens_plural%",{amount:"<strong>"+r+"</strong>",tokens_plural:i.pluralise("tokens",r)})),t.parents("#bongacams_popup").find(".popup_close").trigger("click")}else if(e(".active_conversations_content").find(".im_conversation_reply_form").length){var o=e(".reply_im_container:visible");o.find("input#im_added_tip, input#popup_add_im_added_tip").val(r).attr("name","add_im[added_tip]"),o.find(".add_tip_to_message_sub_trigger").hide(),o.find(".add_tip_to_message_trigger").hide(),o.find(".im_included_tokens").show().find("span").html(__("You have included %amount% %tokens_plural%",{amount:"<strong>"+r+"</strong>",tokens_plural:i.pluralise("tokens",r)})),t.parents("#bongacams_popup").find(".popup_close").trigger("click")}else if(n||void 0===window.chat){if(e(".send_tip_to_user_trigger").length){var s=e(this);if(t.find(".form_errors, .success_msg").remove(),s.attr("disabled","disabled"),!confirm(__("You have included %amount% %tokens_plural% to this message as a gift",{amount:r,tokens_plural:i.pluralise("tokens",r)})+". "+__("Are you sure you want to send these tokens? Once sent, they can not be refunded!")))return s.removeAttr("disabled"),!1;var l=e(".send_tip_to_user_trigger");e.ajax({url:l.attr("url"),type:"POST",data:{add_im:{added_tip:r,message:"im_tip",title:"",users:l.attr("username")}},dataType:"json",success:function(n){s.removeAttr("disabled"),"error"===n.status?(t.append('<div class="form_errors"></div>'),e.each(n.fields,function(e,n){t.find(".form_errors").append(n)})):(e.processNewImResponse(null,n),t.find(".form_actions").append('<div class="success_msg">'+__("You has tipped %amount% %tokens_plural% to %model_name%!",{amount:r,model_name:l.attr("display_name"),tokens_plural:i.pluralise("tokens",r,!0)})+"</div>"))}})}}else{var c=t.hasClass("tip_after_private")?"after_show":"";if(window.chat.tipModel(r,c),e.isMobile)e.fancybox.close();else{var u=t.find(":checked");"#"===u.val()&&e("#tip_field_enter_amount").attr("disabled","disabled"),u.removeAttr("checked"),"after_show"!==c&&e(this).attr("disabled","disabled"),e.bongacamsPopupClose(!0,function(){a.isRTLCulture&&e("#bongacams_popup").css({right:"auto"}),e("#bongacams_popup").removeClass("tap_popup"),e("#stream-container").removeClass("__overlay")})}}return!1}})}return t}();e(function(){new r})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(99),r=n(174),o=n(7),s=n(14),l=n(74),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.assignEvents=function(t){var n=this;switch(t.name){case"18_plus":e(document).on("click","#warning_popup a.agree",function(){return n.hide(),!1});break;case"18_plus_fs_red":e(document).on("click",".yes_18_btn",function(){return n.hide(),sv.popup.tasks.open("18_plus_fs_girl",{force:!0}),!1});break;case"18_plus_fs_girl":e(document).on("click",".warning18Plus",function(){return e.get(e(this).attr("href"),function(e){n.hide()}),!1})}},n.prototype.getOptions=function(t){var n=this,i=t.activeElement;if(i&&i.hasClass("mobile_popup")){var a="popup-noborder popup-modal";i.hasClass("popup_show_close_btn")&&(a+=" popup_default_close");return{padding:0,scrolling:"hidden",aspectRatio:!0,wrapCSS:a,helpers:{locked:!1,overlay:{closeClick:!1}},afterShow:function(){var t=e(".fancybox-opened");t.find(".over_hidden").length&&t.find(".fancybox-inner").css({overflow:"visible"}),t.find(".win_cap_popup").length&&t.find(".fancybox-close").addClass("win_cap_close"),t.find(".sbs_discount_popup").length&&t.find(".fancybox-close").addClass("sbs_discount_close"),t.find(".pl_un_popup_close").length&&(t.find(".fancybox-close").addClass("pl_un_default_close"),t.find(".popup_hide").on("click",function(){return e.fancybox.close(),!1})),t.find(".di_ex_popup").length&&t.find(".fancybox-close").addClass("di_ex_close")},afterClose:function(){e(".fancybox-inner").css({overflow:""})}}}var s={padding:0,margin:i&&i.data("margin")?i.data("margin").split(/[, ;]/).map(Number):0,closeBtn:!!i&&i.data("show_close_btn")||!1,closeClick:!1,mouseWheel:!1,fitToView:!1,keys:{close:[27],play:[0]},beforeClose:function(){n.eventHit("onClose")},afterShow:function(){var t=e(".fancybox-opened");t.find(".over_hidden").length&&t.find(".fancybox-inner").css({overflow:"visible"})}},l="rgba(0,0,0,1)";switch(e.isRunetki&&(l="rgba(0,0,0,.6)"),t.optionsTpl){case"warning":s=e.extend({},{width:"100%",height:"681px",autoSize:!1,helpers:{overlay:{closeClick:!1,css:{background:l}}},afterLoad:function(){e(".fancybox-skin").css({background:"transparent","box-shadow":"none"})}},s);break;case"fs_warning":s=e.extend({},{scrolling:"hidden",autoHeight:!1,autoSize:!1,width:"100%",height:"100%",helpers:{locked:!1,overlay:{closeClick:!1}},beforeShow:function(){"18_plus_fs_red"===t.name&&e(".warning_popup_red").css("padding-top",e(".warning_popup_red_content").outerHeight()/2),e("html").css("overflow","hidden"),e(".fancybox-overlay").addClass("for-fullscreen-popup")},afterClose:function(){e("html").css("overflow",""),e(".fancybox-overlay").removeClass("for-fullscreen-popup")}},s);break;default:s=e.extend({},{scrolling:"no",autoResize:!1,openSpeed:100,closeSpeed:100,helpers:{locked:!1,overlay:{closeClick:!1}},wrapCSS:"fancybox-bonga-wrap"},s)}if(i&&(i.data("signup_pop_name")&&(s.aftershow=function(){var t=e("#member_join_popup_trigger");e.get(t.attr("track_url"),{name:i.data("signup_pop_name")},function(e){i.find(".btn_pre_signup").attr("pop_sid",e)})}),i.hasClass("tspop")&&(s.wrapCSS="fancybox-transparent"),i.data("overlay_color")&&(s.helpers.overlay.css={background:i.data("overlay_color")}),i.hasClass("no_border")&&(s.wrapCSS=""),i.hasClass("no_esc")&&(s.keys=s.keys||{},s.keys.close=null),"spygasm_intro_popup"===i.attr("id")&&(s=e.extend(s,{keys:{},beforeShow:function(){r.initIntroVideo(i,e("#spygasm_intro_video"))},afterClose:function(){var e=i.find("video.js-video_player");e.length&&e[0].currentTime>0&&!e[0].paused&&!e[0].ended&&e[0].pause()}})),"gold_roulette"===i.attr("id")&&i.find(".gp_btn").length&&(s.beforeShow=function(){e("#gold_roulette").on("click.goldRoulette",".gp_wheel .gp_btn",function(){e(this).removeClass("__wait").addClass("__active"),e("#gold_roulette .gp_spinner").addClass("__active"),e("#gold_roulette .gp_sector").addClass("__active"),setTimeout(function(){e("#gold_roulette .gp_wheel").hide(),e("#gold_roulette .gp_final").show(),e.fancybox.update()},7300)})},s.beforeClose=function(){e("#gold_roulette").off("click.goldRoulette")}),i.hasClass("fspop"))){var c=i.width(),u=i.height(),d=function(){i.css({"-ms-transform":"","-webkit-transform":"","-moz-transform":"","-o-transform":"",transform:"",width:c,height:u}),i.css(o.isRTLCulture?"right":"left","")},h=function(){var t=Math.min(e(window).width()/c,e(window).height()/u);t<1&&i.css({"-ms-transform":"translate(0, 0) scale("+t+")","-webkit-transform":"translate(0, 0) scale("+t+")","-moz-transform":"translate(0, 0) scale("+t+")","-o-transform":"translate(0, 0) scale("+t+")",transform:"translate(0, 0) scale("+t+")"}),i.css(o.isRTLCulture?"right":"left",(e(window).width()-i.width()*t)/2+"px")};s.wrapCSS=s.wrapCSS+" fancybox-fullscreen",s.fitToView=!1,s.width="100%",s.height="100%",s.autoSize=!1,s.padding=0,s.margin=0,s.beforeShow=function(){h()},s.onUpdate=function(){d(),h()},s.afterClose=function(){d(),e(window).off("resize.fs_pop")}}return s},n.prototype.show=function(t,n){if(l.checkIsChatTypePopupEnabled()){var i=this,a=t.activeElement,r={beforeShow:s.noop,afterShow:s.noop,beforeClose:s.noop,afterClose:s.noop},o=e.extend({},r,i.getOptions(t)),c=o.beforeShow,u=o.afterShow,d=o.beforeClose,h=o.afterClose;o=e.extend({},o,r,n);var p=o.beforeShow,f=o.afterShow,m=o.beforeClose,g=o.afterClose;o.beforeShow=function(){c.call(this),p.call(this)},o.afterShow=function(){u.call(this),f.call(this)},o.beforeClose=function(){d.call(this),m.call(this)},o.afterClose=function(){h.call(this),g.call(this)},n.customData&&n.customData.options&&(o=e.extend({},o,n.customData.options)),t.iframe?n.customData&&n.customData.href?e.fancybox(n.customData.href,o):console.error("Popup error",t.name):t.signup?e.showSignupPopup(o):e.fancybox(a,o),i.assignEvents(t)}},n.prototype.hide=function(){e.fancybox.close()},n}(a.default);t.FancyBoxWrapper=c}).call(t,n(0))},,,,,,,function(e,t,n){n(3)(n(302))},function(e,t){e.exports='var mejs=mejs||{};mejs.version="2.21.2",mejs.meIndex=0,mejs.plugins={flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/dailymotion","video/x-dailymotion","application/x-mpegURL"]}]},mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split(\'"\').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML=\'<a href="\'+this.escapeHTML(e)+\'">x</a>\',t.firstChild.href},getScriptPath:function(e){for(var t,i,n,s,o,a=0,r="",l="",d=document.getElementsByTagName("script"),u=d.length,c=e.length;a<u;a++){for(-1<(i=(n=d[a].src).lastIndexOf("/"))?(o=n.substring(i+1),s=n.substring(0,i+1)):(o=n,s=""),t=0;t<c;t++)if(l=e[t],-1<o.indexOf(l)){r=s;break}if(""!==r)break}return r},calculateTimeFormat:function(e,t,i){e<0&&(e=0),void 0===i&&(i=25);var n=t.timeFormat,s=n[0],o=n[1]==n[0],a=o?2:1,r=":",l=Math.floor(e/3600)%24,d=Math.floor(e/60)%60,u=Math.floor(e%60),c=[[Math.floor((e%1*i).toFixed(3)),"f"],[u,"s"],[d,"m"],[l,"h"]];n.length<a&&(r=n[a]);for(var m=!1,h=0,p=c.length;h<p;h++)if(-1!==n.indexOf(c[h][1]))m=!0;else if(m){for(var f=!1,v=h;v<p;v++)if(0<c[v][0]){f=!0;break}if(!f)break;o||(n=s+n),n=c[h][1]+r+n,o&&(n=c[h][1]+n),s=c[h][1]}t.currentTimeFormat=n},twoDigitsString:function(e){return e<10?"0"+e:String(e)},secondsToTimeCode:function(e,t){if(e<0&&(e=0),"object"!=typeof t){var n="m:ss";n=t?"hh:mm:ss":n,t={currentTimeFormat:n=arguments[2]?n+":ff":n,framesPerSecond:arguments[3]||25}}var s=t.framesPerSecond;void 0===s&&(s=25);n=t.currentTimeFormat;var o=Math.floor(e/3600)%24,a=Math.floor(e/60)%60,r=Math.floor(e%60),l=Math.floor((e%1*s).toFixed(3));lis=[[l,"f"],[r,"s"],[a,"m"],[o,"h"]];var d=n;for(i=0,len=lis.length;i<len;i++)d=(d=d.replace(lis[i][1]+lis[i][1],this.twoDigitsString(lis[i][0]))).replace(lis[i][1],lis[i][0]);return d},timeCodeToSeconds:function(e,t,i,n){void 0===i?i=!1:void 0===n&&(n=25);var s=e.split(":"),o=parseInt(s[0],10),a=parseInt(s[1],10),r=parseInt(s[2],10),l=0;return i&&(l=parseInt(s[3])/n),3600*o+60*a+r+l},convertSMPTEtoSeconds:function(e){if("string"!=typeof e)return!1;var t=0,i=-1!=(e=e.replace(",",".")).indexOf(".")?e.split(".")[1].length:0,n=1;e=e.split(":").reverse();for(var s=0;s<e.length;s++)n=1,0<s&&(n=Math.pow(60,s)),t+=Number(e[s])*n;return Number(t.toFixed(i))},removeSwf:function(e){var t=document.getElementById(e);t&&/object|embed/i.test(t.nodeName)&&(mejs.MediaFeatures.isIE?(t.style.display="none",function(){4==t.readyState?mejs.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}},determineScheme:function(e){return e&&-1!=e.indexOf("://")?e.substr(0,e.indexOf("://")+3):"//"}},mejs.PluginDetector={hasPluginVersion:function(e,t){var i=this.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,i[0]>t[0]||i[0]==t[0]&&i[1]>t[1]||i[0]==t[0]&&i[1]==t[1]&&i[2]>=t[2]},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,i,n,s){this.plugins[e]=this.detectPlugin(t,i,n,s)},detectPlugin:function(e,t,i,n){var s,o,a,r=[0,0,0];if(void 0!==this.nav.plugins&&"object"==typeof this.nav.plugins[e]){if((s=this.nav.plugins[e].description)&&(void 0===this.nav.mimeTypes||!this.nav.mimeTypes[t]||this.nav.mimeTypes[t].enabledPlugin))for(r=s.replace(e,"").replace(/^\\s+/,"").replace(/\\sr/gi,".").split("."),o=0;o<r.length;o++)r[o]=parseInt(r[o].match(/\\d+/),10)}else if(void 0!==window.ActiveXObject)try{(a=new ActiveXObject(i))&&(r=n(a))}catch(e){}return r}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[],i=e.GetVariable("$version");return i&&(i=i.split(" ")[1].split(","),t=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]),t}),mejs.MediaFeatures={init:function(){var e,t,i,n,s,o,a=this,r=document,l=mejs.PluginDetector.nav,d=mejs.PluginDetector.ua.toLowerCase(),u=["source","track","audio","video"];a.isiPad=null!==d.match(/ipad/i),a.isiPhone=null!==d.match(/iphone/i),a.isiOS=a.isiPhone||a.isiPad,a.isAndroid=null!==d.match(/android/i),a.isBustedAndroid=null!==d.match(/android 2\\.[12]/),a.isBustedNativeHTTPS="https:"===location.protocol&&(null!==d.match(/android [12]\\./)||null!==d.match(/macintosh.* version.* safari/)),a.isIE=-1!=l.appName.toLowerCase().indexOf("microsoft")||null!==l.appName.toLowerCase().match(/trident/gi),a.isChrome=null!==d.match(/chrome/gi),a.isChromium=null!==d.match(/chromium/gi),a.isFirefox=null!==d.match(/firefox/gi),a.isWebkit=null!==d.match(/webkit/gi),a.isGecko=null!==d.match(/gecko/gi)&&!a.isWebkit&&!a.isIE,a.isOpera=null!==d.match(/opera/gi),a.hasTouch="ontouchstart"in window,a.svgAsImg=!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");for(e=0;e<u.length;e++)t=document.createElement(u[e]);a.supportsMediaTag=void 0!==t.canPlayType||a.isBustedAndroid;try{t.canPlayType("video/mp4")}catch(e){a.supportsMediaTag=!1}a.supportsPointerEvents=(n=document.createElement("x"),s=document.documentElement,o=window.getComputedStyle,"pointerEvents"in n.style&&(n.style.pointerEvents="auto",n.style.pointerEvents="x",s.appendChild(n),i=o&&"auto"===o(n,"").pointerEvents,s.removeChild(n),!!i)),a.hasFirefoxPluginMovingProblem=!1,a.hasiOSFullScreen=void 0!==t.webkitEnterFullscreen,a.hasNativeFullscreen=void 0!==t.requestFullscreen,a.hasWebkitNativeFullScreen=void 0!==t.webkitRequestFullScreen,a.hasMozNativeFullScreen=void 0!==t.mozRequestFullScreen,a.hasMsNativeFullScreen=void 0!==t.msRequestFullscreen,a.hasTrueNativeFullScreen=a.hasWebkitNativeFullScreen||a.hasMozNativeFullScreen||a.hasMsNativeFullScreen,a.nativeFullScreenEnabled=a.hasTrueNativeFullScreen,a.hasMozNativeFullScreen?a.nativeFullScreenEnabled=document.mozFullScreenEnabled:a.hasMsNativeFullScreen&&(a.nativeFullScreenEnabled=document.msFullscreenEnabled),a.isChrome&&(a.hasiOSFullScreen=!1),a.hasTrueNativeFullScreen&&(a.fullScreenEventName="",a.hasWebkitNativeFullScreen?a.fullScreenEventName="webkitfullscreenchange":a.hasMozNativeFullScreen?a.fullScreenEventName="mozfullscreenchange":a.hasMsNativeFullScreen&&(a.fullScreenEventName="MSFullscreenChange"),a.isFullScreen=function(){return a.hasMozNativeFullScreen?r.mozFullScreen:a.hasWebkitNativeFullScreen?r.webkitIsFullScreen:a.hasMsNativeFullScreen?null!==r.msFullscreenElement:void 0},a.requestFullScreen=function(e){a.hasWebkitNativeFullScreen?e.webkitRequestFullScreen():a.hasMozNativeFullScreen?e.mozRequestFullScreen():a.hasMsNativeFullScreen&&e.msRequestFullscreen()},a.cancelFullScreen=function(){a.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():a.hasMozNativeFullScreen?document.mozCancelFullScreen():a.hasMsNativeFullScreen&&document.msExitFullscreen()}),a.hasiOSFullScreen&&d.match(/mac os x 10_5/i)&&(a.hasNativeFullScreen=!1,a.hasiOSFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t,i,n=this.getElementsByTagName("source");0<n.length;)this.removeChild(n[0]);if("string"==typeof e)this.src=e;else for(t=0;t<e.length;t++)if(i=e[t],this.canPlayType(i.type)){this.src=i.src;break}},setVideoSize:function(e,t){this.width=e,this.height=t}},mejs.PluginMediaElement=function(e,t,i){this.id=e,this.pluginType=t,this.src=i,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&(this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&(this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&(this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&(this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,i,n,s=mejs.plugins[this.pluginType];for(t=0;t<s.length;t++)if(n=s[t],mejs.PluginDetector.hasPluginVersion(this.pluginType,n.version))for(i=0;i<n.types.length;i++)if(e==n.types[i])return"probably";return""},positionFullscreenButton:function(e,t,i){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(e),Math.floor(t),i)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){var t,i;if("string"==typeof e)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e)),this.src=mejs.Utility.absolutizeUrl(e);else for(t=0;t<e.length;t++)if(i=e[t],this.canPlayType(i.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(i.src)),this.src=mejs.Utility.absolutizeUrl(i.src);break}},setCurrentTime:function(e){null!=this.pluginApi&&(this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){null!=this.pluginApi&&(this.pluginApi.setVolume(e),this.volume=e)},setMuted:function(e){null!=this.pluginApi&&(this.pluginApi.setMuted(e),this.muted=e)},setVideoSize:function(e,t){this.pluginElement&&this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(e,t,i){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var i=this.events[e];if(!i)return!0;if(!t)return this.events[e]=[],!0;for(var n=0;n<i.length;n++)if(i[n]===t)return this.events[e].splice(n,1),!0;return!1},dispatchEvent:function(e){var t,i=this.events[e.type];if(i)for(t=0;t<i.length;t++)i[t].apply(this,[e])},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",flashScriptAccess:"sameDomain",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(e,t){var i,n,s={},o="string"==typeof e?document.getElementById(e):e,a=o.tagName.toLowerCase(),r="audio"===a||"video"===a,l=r?o.getAttribute("src"):o.getAttribute("href"),d=o.getAttribute("poster"),u=o.getAttribute("autoplay"),c=o.getAttribute("preload"),m=o.getAttribute("controls");for(n in mejs.MediaElementDefaults)s[n]=mejs.MediaElementDefaults[n];for(n in t)s[n]=t[n];return l=null==l||""==l?null:l,d=null==d?"":d,c=null==c||"false"===c?"none":c,u=!(null==u||"false"===u),m=!(null==m||"false"===m),(i=this.determinePlayback(o,s,mejs.MediaFeatures.supportsMediaTag,r,l)).url=null!==i.url?mejs.Utility.absolutizeUrl(i.url):"",i.scheme=mejs.Utility.determineScheme(i.url),"native"==i.method?(mejs.MediaFeatures.isBustedAndroid&&(o.src=i.url,o.addEventListener("click",function(){o.play()},!1)),this.updateNative(i,s,u,c)):""!==i.method?this.createPlugin(i,s,d,u,c,m):(this.createErrorMessage(i,s,d),this)},determinePlayback:function(e,t,i,n,s){var o,a,r,l,d,u,c,m,h,p=[],f={method:"",url:"",htmlMediaElement:e,isVideo:"audio"!=e.tagName.toLowerCase(),scheme:""};if(void 0!==t.type&&""!==t.type)if("string"==typeof t.type)p.push({type:t.type,url:s});else for(o=0;o<t.type.length;o++)p.push({type:t.type[o],url:s});else if(null!==s)d=this.formatType(s,e.getAttribute("type")),p.push({type:d,url:s});else for(o=0;o<e.childNodes.length;o++)1==(l=e.childNodes[o]).nodeType&&"source"==l.tagName.toLowerCase()&&(s=l.getAttribute("src"),d=this.formatType(s,l.getAttribute("type")),(!(h=l.getAttribute("media"))||!window.matchMedia||window.matchMedia&&window.matchMedia(h).matches)&&p.push({type:d,url:s}));if(!n&&0<p.length&&null!==p[0].url&&-1<this.getTypeFromFile(p[0].url).indexOf("audio")&&(f.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return null!==e.match(/video\\/(mp4|m4v)/gi)?"maybe":""}),mejs.MediaFeatures.isChromium&&(e.canPlayType=function(e){return null!==e.match(/video\\/(webm|ogv|ogg)/gi)?"maybe":""}),i&&("auto"===t.mode||"auto_plugin"===t.mode||"native"===t.mode)&&(!mejs.MediaFeatures.isBustedNativeHTTPS||!0!==t.httpsBasicAuthSite)){for(n||(m=document.createElement(f.isVideo?"video":"audio"),e.parentNode.insertBefore(m,e),e.style.display="none",f.htmlMediaElement=e=m),o=0;o<p.length;o++)if("video/m3u8"==p[o].type||""!==e.canPlayType(p[o].type).replace(/no/,"")||""!==e.canPlayType(p[o].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==e.canPlayType(p[o].type.replace(/m4a/,"mp4")).replace(/no/,"")){f.method="native",f.url=p[o].url;break}if("native"===f.method&&(null!==f.url&&(e.src=f.url),"auto_plugin"!==t.mode))return f}if("auto"===t.mode||"auto_plugin"===t.mode||"shim"===t.mode)for(o=0;o<p.length;o++)for(d=p[o].type,a=0;a<t.plugins.length;a++)for(u=t.plugins[a],c=mejs.plugins[u],r=0;r<c.length;r++)c[r];return"auto_plugin"===t.mode&&"native"===f.method||""===f.method&&0<p.length&&(f.url=p[0].url),f},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){var t=(e=e.split("?")[0]).substring(e.lastIndexOf(".")+1).toLowerCase(),i=/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video/":"audio/";return this.getTypeFromExtension(t,i)},getTypeFromExtension:function(e,t){switch(t=t||"",e){case"mp4":case"m4v":case"m4a":case"f4v":case"f4a":return t+"mp4";case"flv":return t+"x-flv";case"webm":case"webma":case"webmv":return t+"webm";case"ogg":case"oga":case"ogv":return t+"ogg";case"m3u8":return"application/x-mpegurl";case"ts":return t+"mp2t";default:return t+e}},createErrorMessage:function(e,t,i){var n=e.htmlMediaElement,s=document.createElement("div"),o=t.customError;s.className="me-cannotplay";try{s.style.width=n.width+"px",s.style.height=n.height+"px"}catch(e){}o||(o=\'<a href="\'+e.url+\'">\',""!==i&&(o+=\'<img src="\'+i+\'" width="100%" height="100%" alt="" />\'),o+="<span>"+mejs.i18n.t("Download File")+"</span></a>"),s.innerHTML=o,n.parentNode.insertBefore(s,n),n.style.display="none",t.error(n)},createPlugin:function(e,t,i,n,s,o){var a,r,l,d=e.htmlMediaElement,u=1,c=1,m="me_"+e.method+"_"+mejs.meIndex++,h=new mejs.PluginMediaElement(m,e.method,e.url),p=document.createElement("div");h.tagName=d.tagName;for(var f=0;f<d.attributes.length;f++){var v=d.attributes[f];v.specified&&h.setAttribute(v.name,v.value)}for(r=d.parentNode;null!==r&&null!=r.tagName&&"body"!==r.tagName.toLowerCase()&&null!=r.parentNode&&null!=r.parentNode.tagName&&null!=r.parentNode.constructor&&"ShadowRoot"===r.parentNode.constructor.name;){if("p"===r.parentNode.tagName.toLowerCase()){r.parentNode.parentNode.insertBefore(r,r.parentNode);break}r=r.parentNode}switch(e.isVideo?(u=0<t.pluginWidth?t.pluginWidth:0<t.videoWidth?t.videoWidth:null!==d.getAttribute("width")?d.getAttribute("width"):t.defaultVideoWidth,c=0<t.pluginHeight?t.pluginHeight:0<t.videoHeight?t.videoHeight:null!==d.getAttribute("height")?d.getAttribute("height"):t.defaultVideoHeight,u=mejs.Utility.encodeUrl(u),c=mejs.Utility.encodeUrl(c)):t.enablePluginDebug&&(u=320,c=240),h.success=t.success,p.className="me-plugin",p.id=m+"_container",e.isVideo?d.parentNode.insertBefore(p,d):document.body.insertBefore(p,document.body.childNodes[0]),"flash"===e.method&&(l=["id="+m,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(n?"true":"false"),"preload="+s,"width="+u,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+c,"pseudostreamstart="+t.pseudoStreamingStartQueryParam],null!==e.url&&("flash"==e.method?l.push("file="+mejs.Utility.encodeUrl(e.url)):l.push("file="+e.url)),t.enablePluginDebug&&l.push("debug=true"),t.enablePluginSmoothing&&l.push("smoothing=true"),t.enablePseudoStreaming&&l.push("pseudostreaming=true"),o&&l.push("controls=true"),t.pluginVars&&(l=l.concat(t.pluginVars)),window[m+"_init"]=function(){switch(h.pluginType){case"flash":h.pluginElement=h.pluginApi=document.getElementById(m)}null!=h.pluginApi&&h.success&&h.success(h,d)},window[m+"_event"]=function(e,t){var i,n,s;for(n in i={type:e,target:h},t)h[n]=t[n],i[n]=t[n];s=t.bufferedTime||0,i.target.buffered=i.buffered={start:function(e){return 0},end:function(e){return s},length:1},h.dispatchEvent(i)}),e.method){case"flash":mejs.MediaFeatures.isIE?(a=document.createElement("div"),p.appendChild(a),a.outerHTML=\'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="\'+m+\'" width="\'+u+\'" height="\'+c+\'" class="mejs-shim"><param name="movie" value="\'+t.pluginPath+t.flashName+"?"+(new Date).getTime()+\'" /><param name="flashvars" value="\'+l.join("&amp;")+\'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="\'+t.flashScriptAccess+\'" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>\'):p.innerHTML=\'<embed id="\'+m+\'" name="\'+m+\'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="\'+t.flashScriptAccess+\'" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="\'+t.pluginPath+t.flashName+\'" flashvars="\'+l.join("&")+\'" width="\'+u+\'" height="\'+c+\'" scale="default"class="mejs-shim"></embed>\'}return d.style.display="none",d.removeAttribute("autoplay"),h},updateNative:function(e,t,i,n){var s,o=e.htmlMediaElement;for(s in mejs.HtmlMediaElement)o[s]=mejs.HtmlMediaElement[s];return t.success(o,o),o}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(e,t,i){"use strict";var n={locale:{language:t.i18n&&t.i18n.locale.language||"",strings:t.i18n&&t.i18n.locale.strings||{}},ietf_lang_regex:/^(x\\-)?[a-z]{2,}(\\-\\w{2,})?(\\-\\w{2,})?$/,methods:{},getLanguage:function(){var e=n.locale.language||window.navigator.userLanguage||window.navigator.language;return n.ietf_lang_regex.exec(e)?e:null}};"undefined"!=typeof mejsL10n&&(n.locale.language=mejsL10n.language),n.methods.checkPlain=function(e){var t,i,n={"&":"&amp;",\'"\':"&quot;","<":"&lt;",">":"&gt;"};for(t in e=String(e),n)n.hasOwnProperty(t)&&(i=new RegExp(t,"g"),e=e.replace(i,n[t]));return e},n.methods.t=function(e,t){return n.locale.strings&&n.locale.strings[t.context]&&n.locale.strings[t.context][e]&&(e=n.locale.strings[t.context][e]),n.methods.checkPlain(e)},n.t=function(e,t){if("string"==typeof e&&0<e.length){var i=n.getLanguage();return t=t||{context:i},n.methods.t(e,t)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},t.i18n=n}(document,mejs),function(e,t){"use strict";"undefined"!=typeof mejsL10n&&(e[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof Zepto?(mejs.$=Zepto,Zepto.fn.outerWidth=function(e){var t=$(this).width();return e&&(t+=parseInt($(this).css("margin-right"),10),t+=parseInt($(this).css("margin-left"),10)),t}):"undefined"!=typeof ender&&(mejs.$=ender),function(d){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return.05*e.duration},defaultSeekForwardInterval:function(e){return.05*e.duration},setDimensions:!0,audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?t.play():t.pause()}},{keys:[38],action:function(e,t){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.min(t.volume+.1,1);t.setVolume(i)}},{keys:[40],action:function(e,t){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.max(t.volume-.1,0);t.setVolume(i)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&0<t.duration){e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(i)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&0<t.duration){e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(i)}}},{keys:[70],action:function(e,t){void 0!==e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}},{keys:[77],action:function(e,t){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer()),e.media.muted?e.setMuted(!1):e.setMuted(!0)}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(e,t){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(e,t);var i=this;return i.$media=i.$node=d(e),i.node=i.media=i.$media[0],i.node?void 0!==i.node.player?i.node.player:(void 0===t&&(t=i.$node.data("mejsoptions")),i.options=d.extend({},mejs.MepDefaults,t),i.options.timeFormat||(i.options.timeFormat="mm:ss",i.options.alwaysShowHours&&(i.options.timeFormat="hh:mm:ss"),i.options.showTimecodeFrameCount&&(i.options.timeFormat+=":ff")),mejs.Utility.calculateTimeFormat(0,i.options,i.options.framesPerSecond||25),i.id="mep_"+mejs.mepIndex++,(mejs.players[i.id]=i).init(),i):void 0},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var i=this,e=mejs.MediaFeatures,t=d.extend(!0,{},i.options,{success:function(e,t){i.meReady(e,t)},error:function(e){i.handleError(e)}}),n=i.media.tagName.toLowerCase();if(i.isDynamic="audio"!==n&&"video"!==n,i.isDynamic?i.isVideo=i.options.isVideo:i.isVideo="audio"!==n&&i.options.isVideo,e.isiPad&&i.options.iPadUseNativeControls||e.isiPhone&&i.options.iPhoneUseNativeControls)i.$media.attr("controls","controls"),e.isiPad&&null!==i.media.getAttribute("autoplay")&&i.play();else if(e.isAndroid&&i.options.AndroidUseNativeControls);else{i.$media.removeAttr("controls");var s=i.isVideo?mejs.i18n.t("Video Player"):mejs.i18n.t("Audio Player");d(\'<span class="mejs-offscreen">\'+s+"</span>").insertBefore(i.$media),i.container=d(\'<div id="\'+i.id+\'" class="mejs-container \'+(mejs.MediaFeatures.svgAsImg?"svg":"no-svg")+\'" tabindex="0" role="application" aria-label="\'+s+\'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>\').addClass(i.$media[0].className).insertBefore(i.$media).focus(function(e){i.controlsAreVisible||(i.showControls(!0),i.container.find(".mejs-playpause-button > button").focus())}),i.container.addClass((e.isAndroid?"mejs-android ":"")+(e.isiOS?"mejs-ios ":"")+(e.isiPad?"mejs-ipad ":"")+(e.isiPhone?"mejs-iphone ":"")+(i.isVideo?"mejs-video ":"mejs-audio ")),i.container.find(".mejs-mediaelement").append(i.$media),(i.node.player=i).controls=i.container.find(".mejs-controls"),i.layers=i.container.find(".mejs-layers");var o=i.isVideo?"video":"audio",a=o.substring(0,1).toUpperCase()+o.substring(1);0<i.options[o+"Width"]||-1<i.options[o+"Width"].toString().indexOf("%")?i.width=i.options[o+"Width"]:""!==i.media.style.width&&null!==i.media.style.width?i.width=i.media.style.width:null!==i.media.getAttribute("width")?i.width=i.$media.attr("width"):i.width=i.options["default"+a+"Width"],0<i.options[o+"Height"]||-1<i.options[o+"Height"].toString().indexOf("%")?i.height=i.options[o+"Height"]:""!==i.media.style.height&&null!==i.media.style.height?i.height=i.media.style.height:null!==i.$media[0].getAttribute("height")?i.height=i.$media.attr("height"):i.height=i.options["default"+a+"Height"],i.setPlayerSize(i.width,i.height),t.pluginWidth=i.width,t.pluginHeight=i.height}mejs.MediaElement(i.$media[0],t),void 0!==i.container&&i.controlsAreVisible&&i.container.trigger("controlsshown")},showControls:function(e){var t=this;e=void 0===e||e,t.controlsAreVisible||(e?(t.controls.removeClass("mejs-offscreen").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0,t.container.trigger("controlsshown")}),t.container.find(".mejs-control").removeClass("mejs-offscreen").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.removeClass("mejs-offscreen").css("display","block"),t.container.find(".mejs-control").removeClass("mejs-offscreen").css("display","block"),t.controlsAreVisible=!0,t.container.trigger("controlsshown")),t.setControlsSize())},hideControls:function(e){var t=this;e=void 0===e||e,!t.controlsAreVisible||t.options.alwaysShowControls||t.keyboardAction||(e?(t.controls.stop(!0,!0).fadeOut(200,function(){d(this).addClass("mejs-offscreen").css("display","block"),t.controlsAreVisible=!1,t.container.trigger("controlshidden")}),t.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){d(this).addClass("mejs-offscreen").css("display","block")})):(t.controls.addClass("mejs-offscreen").css("display","block"),t.container.find(".mejs-control").addClass("mejs-offscreen").css("display","block"),t.controlsAreVisible=!1,t.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(e){var t=this;e=void 0!==e?e:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},e)},killControlsTimer:function(e){null!==this.controlsTimer&&(clearTimeout(this.controlsTimer),delete this.controlsTimer,this.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){this.killControlsTimer(),this.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){this.showControls(!1),this.controlsEnabled=!0},meReady:function(e,t){var i,n,s=this,o=mejs.MediaFeatures,a=t.getAttribute("autoplay"),r=!(null==a||"false"===a);if(!s.created){if(s.created=!0,s.media=e,s.domNode=t,!(o.isAndroid&&s.options.AndroidUseNativeControls||o.isiPad&&s.options.iPadUseNativeControls||o.isiPhone&&s.options.iPhoneUseNativeControls)){for(i in s.buildposter(s,s.controls,s.layers,s.media),s.buildkeyboard(s,s.controls,s.layers,s.media),s.buildoverlays(s,s.controls,s.layers,s.media),s.findTracks(),s.options.features)if(n=s.options.features[i],s["build"+n])try{s["build"+n](s,s.controls,s.layers,s.media)}catch(e){}s.container.trigger("controlsready"),s.setPlayerSize(s.width,s.height),s.setControlsSize(),s.isVideo&&(mejs.MediaFeatures.hasTouch?s.$media.bind("touchstart",function(){s.controlsAreVisible?s.hideControls(!1):s.controlsEnabled&&s.showControls(!1)}):(s.clickToPlayPauseCallback=function(){s.options.clickToPlayPause&&(s.media.paused?s.play():s.pause())},s.media.addEventListener("click",s.clickToPlayPauseCallback,!1),s.container.bind("mouseenter",function(){s.controlsEnabled&&(s.options.alwaysShowControls||(s.killControlsTimer("enter"),s.showControls(),s.startControlsTimer(2500)))}).bind("mousemove",function(){s.controlsEnabled&&(s.controlsAreVisible||s.showControls(),s.options.alwaysShowControls||s.startControlsTimer(2500))}).bind("mouseleave",function(){s.controlsEnabled&&(s.media.paused||s.options.alwaysShowControls||s.startControlsTimer(1e3))})),s.options.hideVideoControlsOnLoad&&s.hideControls(!1),r&&!s.options.alwaysShowControls&&s.hideControls(),s.options.enableAutosize&&s.media.addEventListener("loadedmetadata",function(e){s.options.videoHeight<=0&&null===s.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(s.setPlayerSize(e.target.videoWidth,e.target.videoHeight),s.setControlsSize(),s.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)),e.addEventListener("play",function(){var e;for(e in mejs.players){var t=mejs.players[e];t.id==s.id||!s.options.pauseOtherPlayers||t.paused||t.ended||t.pause(),t.hasFocus=!1}s.hasFocus=!0},!1),s.media.addEventListener("ended",function(e){if(s.options.autoRewind)try{s.media.setCurrentTime(0),window.setTimeout(function(){},20)}catch(e){}s.media.pause(),s.setProgressRail&&s.setProgressRail(),s.setCurrentRail&&s.setCurrentRail(),s.options.loop?s.play():!s.options.alwaysShowControls&&s.controlsEnabled&&s.showControls()},!1),s.media.addEventListener("loadedmetadata",function(e){s.updateDuration&&s.updateDuration(),s.updateCurrent&&s.updateCurrent(),s.isFullScreen||(s.setPlayerSize(s.width,s.height),s.setControlsSize())},!1);var l=null;s.media.addEventListener("timeupdate",function(){l!==this.duration&&(l=this.duration,mejs.Utility.calculateTimeFormat(l,s.options,s.options.framesPerSecond||25),s.updateDuration&&s.updateDuration(),s.updateCurrent&&s.updateCurrent(),s.setControlsSize())},!1),s.container.focusout(function(e){if(e.relatedTarget){var t=d(e.relatedTarget);s.keyboardAction&&0===t.parents(".mejs-container").length&&(s.keyboardAction=!1,s.hideControls(!0))}}),setTimeout(function(){s.setPlayerSize(s.width,s.height),s.setControlsSize()},50),s.globalBind("resize",function(){s.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||s.setPlayerSize(s.width,s.height),s.setControlsSize()})}r&&"native"==e.pluginType&&s.play(),s.options.success&&("string"==typeof s.options.success?window[s.options.success](s.media,s.domNode,s):s.options.success(s.media,s.domNode,s))}},handleError:function(e){this.controls&&this.controls.hide(),this.options.error&&this.options.error(e)},setPlayerSize:function(e,t){var i=this;if(!i.options.setDimensions)return!1;if(void 0!==e&&(i.width=e),void 0!==t&&(i.height=t),0<i.height.toString().indexOf("%")||"none"!==i.$node.css("max-width")&&"t.width"!==i.$node.css("max-width")||i.$node[0].currentStyle&&"100%"===i.$node[0].currentStyle.maxWidth){var n=i.isVideo?i.media.videoWidth&&0<i.media.videoWidth?i.media.videoWidth:null!==i.media.getAttribute("width")?i.media.getAttribute("width"):i.options.defaultVideoWidth:i.options.defaultAudioWidth,s=i.isVideo?i.media.videoHeight&&0<i.media.videoHeight?i.media.videoHeight:null!==i.media.getAttribute("height")?i.media.getAttribute("height"):i.options.defaultVideoHeight:i.options.defaultAudioHeight,o=i.container.parent().closest(":visible").width(),a=i.container.parent().closest(":visible").height(),r=i.isVideo||!i.options.autosizeProgress?parseInt(o*s/n,10):s;isNaN(r)&&(r=a),0<i.container.parent().length&&"body"===i.container.parent()[0].tagName.toLowerCase()&&(o=d(window).width(),r=d(window).height()),r&&o&&(i.container.width(o).height(r),i.$media.add(i.container.find(".mejs-shim")).width("100%").height("100%"),i.isVideo&&i.media.setVideoSize&&i.media.setVideoSize(o,r),i.layers.children(".mejs-layer").width("100%").height("100%"))}else i.container.width(i.width).height(i.height),i.layers.children(".mejs-layer").width(i.width).height(i.height)},setControlsSize:function(){var e=this,t=0,i=0,n=e.controls.find(".mejs-time-rail"),s=e.controls.find(".mejs-time-total"),o=n.siblings(),a=o.last(),r=null;if(e.container.is(":visible")&&n.length&&n.is(":visible")){for(e.options&&!e.options.autosizeProgress&&(i=parseInt(n.css("width"),10)),0!==i&&i||(o.each(function(){var e=d(this);"absolute"!=e.css("position")&&e.is(":visible")&&(t+=d(this).outerWidth(!0))}),i=e.controls.width()-t-(n.outerWidth(!0)-n.width()));n.width(i),s.width(i-(s.outerWidth(!0)-s.width())),"absolute"!=a.css("position")&&(r=a.length?a.position():null,i--),null!==r&&0<r.top.toFixed(2)&&0<i;);e.container.trigger("controlsresize")}},buildposter:function(e,t,i,n){var s=d(\'<div class="mejs-poster mejs-layer"></div>\').appendTo(i),o=e.$media.attr("poster");""!==e.options.poster&&(o=e.options.poster),o?this.setPoster(o):s.hide(),n.addEventListener("play",function(){s.hide()},!1),e.options.showPosterWhenEnded&&e.options.autoRewind&&n.addEventListener("ended",function(){s.show()},!1)},setPoster:function(e){var t=this.container.find(".mejs-poster"),i=t.find("img");0===i.length&&(i=d(\'<img width="100%" height="100%" alt="" />\').appendTo(t)),i.attr("src",e),t.css({"background-image":"url("+e+")"})},buildoverlays:function(t,e,i,n){var s=this,o=s.options;if(t.isVideo){var a=d(\'<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"></div></div>\').hide().appendTo(i),r=d(\'<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>\').hide().appendTo(i),l=d(\'<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button">\'+o.overlayPlayText+"</div></div>").appendTo(i).bind("click",function(){s.options.clickToPlayPause&&n.paused&&n.play()});n.addEventListener("play",function(){l.hide(),a.hide(),e.find(".mejs-time-buffering").hide(),r.hide()},!1),n.addEventListener("playing",function(){l.hide(),a.hide(),e.find(".mejs-time-buffering").hide(),r.hide()},!1),n.addEventListener("seeking",function(){a.show(),e.find(".mejs-time-buffering").show()},!1),n.addEventListener("seeked",function(){a.hide(),e.find(".mejs-time-buffering").hide()},!1),n.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||l.show()},!1),n.addEventListener("waiting",function(){a.show(),e.find(".mejs-time-buffering").show()},!1),n.addEventListener("loadeddata",function(){a.show(),e.find(".mejs-time-buffering").show(),mejs.MediaFeatures.isAndroid&&(n.canplayTimeout=window.setTimeout(function(){if(document.createEvent){var e=document.createEvent("HTMLEvents");return e.initEvent("canplay",!0,!0),n.dispatchEvent(e)}},300))},!1),n.addEventListener("canplay",function(){a.hide(),e.find(".mejs-time-buffering").hide(),clearTimeout(n.canplayTimeout)},!1),n.addEventListener("error",function(e){s.handleError(e),a.hide(),l.hide(),r.show(),r.find(".mejs-overlay-error").html("Error loading this resource")},!1),n.addEventListener("keydown",function(e){s.onkeydown(t,n,e)},!1)}},buildkeyboard:function(t,e,i,n){var s=this;s.container.keydown(function(){s.keyboardAction=!0}),s.globalBind("keydown",function(e){return t.hasFocus=0!==d(e.target).closest(".mejs-container").length&&d(e.target).closest(".mejs-container").attr("id")===t.$media.closest(".mejs-container").attr("id"),s.onkeydown(t,n,e)}),s.globalBind("click",function(e){t.hasFocus=0!==d(e.target).closest(".mejs-container").length})},onkeydown:function(e,t,i){if(e.hasFocus&&e.options.enableKeyboard)for(var n=0,s=e.options.keyActions.length;n<s;n++)for(var o=e.options.keyActions[n],a=0,r=o.keys.length;a<r;a++)if(i.keyCode==o.keys[a])return"function"==typeof i.preventDefault&&i.preventDefault(),o.action(e,t,i.keyCode,i),!1;return!0},findTracks:function(){var i=this,e=i.$media.find("track");i.tracks=[],e.each(function(e,t){t=d(t),i.tracks.push({srclang:t.attr("srclang")?t.attr("srclang").toLowerCase():"",src:t.attr("src"),kind:t.attr("kind"),label:t.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e,t,i=this;for(e in i.container.prev(".mejs-offscreen").remove(),i.options.features)if(i["clean"+(t=i.options.features[e])])try{i["clean"+t](i)}catch(e){}i.isDynamic?i.$node.insertBefore(i.container):(i.$media.prop("controls",!0),i.$node.clone().insertBefore(i.container).show(),i.$node.remove()),"native"!==i.media.pluginType&&i.media.remove(),delete mejs.players[i.id],"object"==typeof i.container&&i.container.remove(),i.globalUnbind(),delete i.node.player},rebuildtracks:function(){var e=this;e.findTracks(),e.buildtracks(e,e.controls,e.layers,e.media)},resetSize:function(){var e=this;setTimeout(function(){e.setPlayerSize(e.width,e.height),e.setControlsSize()},50)}},function(){var o=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\\b/;function s(e,n){var s={d:[],w:[]};return d.each((e||"").split(" "),function(e,t){var i=t+"."+n;0===i.indexOf(".")?(s.d.push(i),s.w.push(i)):s[o.test(t)?"w":"d"].push(i)}),s.d=s.d.join(" "),s.w=s.w.join(" "),s}mejs.MediaElementPlayer.prototype.globalBind=function(e,t,i){var n=this.node?this.node.ownerDocument:document;(e=s(e,this.id)).d&&d(n).bind(e.d,t,i),e.w&&d(window).bind(e.w,t,i)},mejs.MediaElementPlayer.prototype.globalUnbind=function(e,t){var i=this.node?this.node.ownerDocument:document;(e=s(e,this.id)).d&&d(i).unbind(e.d,t),e.w&&d(window).unbind(e.w,t)}}(),void 0!==d&&(d.fn.mediaelementplayer=function(e){return!1===e?this.each(function(){var e=d(this).data("mediaelementplayer");e&&e.remove(),d(this).removeData("mediaelementplayer")}):this.each(function(){d(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,e))}),this},d(document).ready(function(){d(".mejs-player").mediaelementplayer()})),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(l){l.extend(mejs.MepDefaults,{playText:mejs.i18n.t("Play"),pauseText:mejs.i18n.t("Pause"),overlayPlayText:mejs.i18n.t("Play video")}),l.extend(MediaElementPlayer.prototype,{buildplaypause:function(e,t,i,n){var s=this.options,o=l(\'<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="\'+this.id+\'" title="\'+s.playText+\'" aria-label="\'+s.playText+\'"></button></div>\').appendTo(t).click(function(e){return e.preventDefault(),n.paused?n.play():n.pause(),!1}),a=o.find("button");function r(e){"play"===e?(o.removeClass("mejs-play").addClass("mejs-pause"),a.attr({title:s.pauseText,"aria-label":s.pauseText})):(o.removeClass("mejs-pause").addClass("mejs-play"),a.attr({title:s.playText,"aria-label":s.playText}))}r("pse"),n.addEventListener("play",function(){r("play")},!1),n.addEventListener("playing",function(){r("play")},!1),n.addEventListener("pause",function(){r("pse")},!1),n.addEventListener("paused",function(){r("pse")},!1)}})}(mejs.$),function(s){s.extend(mejs.MepDefaults,{stopText:"Stop"}),s.extend(MediaElementPlayer.prototype,{buildstop:function(e,t,i,n){s(\'<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="\'+this.id+\'" title="\'+this.options.stopText+\'" aria-label="\'+this.options.stopText+\'"></button></div>\').appendTo(t).click(function(){n.paused||n.pause(),0<n.currentTime&&(n.setCurrentTime(0),n.pause(),t.find(".mejs-time-current").width("0px"),t.find(".mejs-time-handle").css("left","0px"),t.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0,e.options)),t.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0,e.options)),i.find(".mejs-poster").show())})}})}(mejs.$),function(y){y.extend(mejs.MepDefaults,{progessHelpText:mejs.i18n.t("Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.")}),y.extend(MediaElementPlayer.prototype,{buildprogress:function(r,e,t,l){y(\'<div class="mejs-time-rail"><span  class="mejs-time-total mejs-time-slider"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>\').appendTo(e),e.find(".mejs-time-buffering").hide();var i=this,d=e.find(".mejs-time-total"),n=e.find(".mejs-time-loaded"),s=e.find(".mejs-time-current"),o=e.find(".mejs-time-handle"),u=e.find(".mejs-time-float"),c=e.find(".mejs-time-float-current"),a=e.find(".mejs-time-slider"),m=function(e){var t,i=d.offset(),n=d.width(),s=0,o=0,a=0;t=e.originalEvent&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.changedTouches?e.changedTouches[0].pageX:e.pageX,l.duration&&(t<i.left?t=i.left:t>n+i.left&&(t=n+i.left),o=(s=(a=t-i.left)/n)<=.02?0:s*l.duration,h&&o!==l.currentTime&&l.setCurrentTime(o),mejs.MediaFeatures.hasTouch||(u.css("left",a),c.html(mejs.Utility.secondsToTimeCode(o,r.options)),u.show()))},h=!1,p=0,f=!1,v=r.options.autoRewind,g=function(){1e3<=new Date-p&&l.play()};a.bind("focus",function(e){r.options.autoRewind=!1}),a.bind("blur",function(e){r.options.autoRewind=v}),a.bind("keydown",function(e){1e3<=new Date-p&&(f=l.paused);var t=e.keyCode,i=l.duration,n=l.currentTime,s=r.options.defaultSeekForwardInterval(i),o=r.options.defaultSeekBackwardInterval(i);switch(t){case 37:case 40:n-=o;break;case 39:case 38:n+=s;break;case 36:n=0;break;case 35:n=i;break;case 32:case 13:return void(l.paused?l.play():l.pause());default:return}return n=n<0?0:i<=n?i:Math.floor(n),p=new Date,f||l.pause(),n<l.duration&&!f&&setTimeout(g,1100),l.setCurrentTime(n),e.preventDefault(),e.stopPropagation(),!1}),d.bind("mousedown touchstart",function(e){1!==e.which&&0!==e.which||(h=!0,m(e),i.globalBind("mousemove.dur touchmove.dur",function(e){m(e)}),i.globalBind("mouseup.dur touchend.dur",function(e){h=!1,u.hide(),i.globalUnbind(".dur")}))}).bind("mouseenter",function(e){!0,i.globalBind("mousemove.dur",function(e){m(e)}),mejs.MediaFeatures.hasTouch||u.show()}).bind("mouseleave",function(e){!1,h||(i.globalUnbind(".dur"),u.hide())}),l.addEventListener("progress",function(e){r.setProgressRail(e),r.setCurrentRail(e)},!1),l.addEventListener("timeupdate",function(e){var t,i,n,s;r.setProgressRail(e),r.setCurrentRail(e),t=l.currentTime,i=mejs.i18n.t("Time Slider"),n=mejs.Utility.secondsToTimeCode(t,r.options),s=l.duration,a.attr({"aria-label":i,"aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":t,"aria-valuetext":n,role:"slider",tabindex:0})},!1),i.container.on("controlsresize",function(){r.setProgressRail(),r.setCurrentRail()}),i.loaded=n,i.total=d,i.current=s,i.handle=o},setProgressRail:function(e){var t=this,i=void 0!==e?e.target:t.media,n=null;i&&i.buffered&&0<i.buffered.length&&i.buffered.end&&i.duration?n=i.buffered.end(i.buffered.length-1)/i.duration:i&&void 0!==i.bytesTotal&&0<i.bytesTotal&&void 0!==i.bufferedBytes?n=i.bufferedBytes/i.bytesTotal:e&&e.lengthComputable&&0!==e.total&&(n=e.loaded/e.total),null!==n&&(n=Math.min(1,Math.max(0,n)),t.loaded&&t.total&&t.loaded.width(t.total.width()*n))},setCurrentRail:function(){var e=this;if(void 0!==e.media.currentTime&&e.media.duration&&e.total&&e.handle){var t=Math.round(e.total.width()*e.media.currentTime/e.media.duration),i=t-Math.round(e.handle.outerWidth(!0)/2);e.current.width(t),e.handle.css("left",i)}}})}(mejs.$),function(o){o.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),o.extend(MediaElementPlayer.prototype,{buildcurrent:function(e,t,i,n){o(\'<div class="mejs-time" role="timer" aria-live="off"><span class="mejs-currenttime">\'+mejs.Utility.secondsToTimeCode(0,e.options)+"</span></div>").appendTo(t),this.currenttime=this.controls.find(".mejs-currenttime"),n.addEventListener("timeupdate",function(){e.updateCurrent()},!1)},buildduration:function(e,t,i,n){var s=this;0<t.children().last().find(".mejs-currenttime").length?o(s.options.timeAndDurationSeparator+\'<span class="mejs-duration">\'+mejs.Utility.secondsToTimeCode(s.options.duration,s.options)+"</span>").appendTo(t.find(".mejs-time")):(t.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),o(\'<div class="mejs-time mejs-duration-container"><span class="mejs-duration">\'+mejs.Utility.secondsToTimeCode(s.options.duration,s.options)+"</span></div>").appendTo(t)),s.durationD=s.controls.find(".mejs-duration"),n.addEventListener("timeupdate",function(){e.updateDuration()},!1)},updateCurrent:function(){var e=this.media.currentTime;isNaN(e)&&(e=0),this.currenttime&&this.currenttime.html(mejs.Utility.secondsToTimeCode(e,this.options))},updateDuration:function(){var e=this,t=e.media.duration;0<e.options.duration&&(t=e.options.duration),isNaN(t)&&(t=0),e.container.toggleClass("mejs-long-video",3600<t),e.durationD&&0<t&&e.durationD.html(mejs.Utility.secondsToTimeCode(t,e.options))}})}(mejs.$),function(v){v.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute"),unmuteText:mejs.i18n.t("Unmute"),allyVolumeControlText:mejs.i18n.t("Use Up/Down Arrow keys to increase or decrease volume."),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),v.extend(MediaElementPlayer.prototype,{buildvolume:function(e,t,i,o){if(!mejs.MediaFeatures.isAndroid&&!mejs.MediaFeatures.isiOS||!this.options.hideVolumeOnTouchDevices){var n=this,a=n.options,r=n.isVideo?n.options.videoVolume:n.options.audioVolume,l="horizontal"==r?v(\'<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="\'+n.id+\'" title="\'+n.options.muteText+\'" aria-label="\'+n.options.muteText+\'"></button></div><a href="javascript:void(0);" class="mejs-horizontal-volume-slider"><span class="mejs-offscreen">\'+n.options.allyVolumeControlText+\'</span><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></a>\').appendTo(t):v(\'<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="\'+n.id+\'" title="\'+n.options.muteText+\'" aria-label="\'+n.options.muteText+\'"></button><a href="javascript:void(0);" class="mejs-volume-slider"><span class="mejs-offscreen">\'+n.options.allyVolumeControlText+\'</span><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></a></div>\').appendTo(t),d=n.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),u=n.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),c=n.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),m=n.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),h=function(e,t){if(!d.is(":visible")&&void 0===t)return d.show(),h(e,!0),void d.hide();e=Math.max(0,e),0===(e=Math.min(e,1))?(l.removeClass("mejs-mute").addClass("mejs-unmute"),l.children("button").attr("title",a.unmuteText).attr("aria-label",a.unmuteText)):(l.removeClass("mejs-unmute").addClass("mejs-mute"),l.children("button").attr("title",a.muteText).attr("aria-label",a.muteText));var i=u.position();if("vertical"==r){var n=u.height(),s=n-n*e;m.css("top",Math.round(i.top+s-m.height()/2)),c.height(n-s),c.css("top",i.top+s)}else{var o=u.width()*e;m.css("left",Math.round(i.left+o-m.width()/2)),c.width(Math.round(o))}},s=function(e){var t=null,i=u.offset();if("vertical"===r){var n=u.height();if(t=(n-(e.pageY-i.top))/n,0===i.top||0===i.left)return}else{var s=u.width();t=(e.pageX-i.left)/s}t=Math.max(0,t),t=Math.min(t,1),h(t),0===t?o.setMuted(!0):o.setMuted(!1),o.setVolume(t)},p=!1,f=!1;l.hover(function(){d.show(),f=!0},function(){f=!1,p||"vertical"!=r||d.hide()});d.bind("mouseover",function(){f=!0}).bind("mousedown",function(e){return s(e),n.globalBind("mousemove.vol",function(e){s(e)}),n.globalBind("mouseup.vol",function(){p=!1,n.globalUnbind(".vol"),f||"vertical"!=r||d.hide()}),!(p=!0)}).bind("keydown",function(e){var t=e.keyCode,i=o.volume;switch(t){case 38:i=Math.min(i+.1,1);break;case 40:i=Math.max(0,i-.1);break;default:return!0}return p=!1,h(i),o.setVolume(i),!1}),l.find("button").click(function(){o.setMuted(!o.muted)}),l.find("button").bind("focus",function(){d.show()}),o.addEventListener("volumechange",function(e){var t;p||(o.muted?(h(0),l.removeClass("mejs-mute").addClass("mejs-unmute")):(h(o.volume),l.removeClass("mejs-unmute").addClass("mejs-mute"))),t=Math.floor(100*o.volume),d.attr({"aria-label":mejs.i18n.t("Volume Slider"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t,"aria-valuetext":t+"%",role:"slider",tabindex:0})},!1),0===e.options.startVolume&&o.setMuted(!0),"native"===o.pluginType&&o.setVolume(e.options.startVolume),n.container.on("controlsresize",function(){o.muted?(h(0),l.removeClass("mejs-mute").addClass("mejs-unmute")):(h(o.volume),l.removeClass("mejs-unmute").addClass("mejs-mute"))})}}})}(mejs.$),function(d){d.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),d.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,fullscreenMode:"",buildfullscreen:function(i,e,t,n){if(i.isVideo){i.isInIframe=window.location!=window.parent.location,n.addEventListener("play",function(){i.detectFullscreenMode()});var s=this,o=null,a=d(\'<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="\'+s.id+\'" title="\'+s.options.fullscreenText+\'" aria-label="\'+s.options.fullscreenText+\'"></button></div>\').appendTo(e).on("click",function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||i.isFullScreen?i.exitFullScreen():i.enterFullScreen()}).on("mouseover",function(){if("plugin-hover"==s.fullscreenMode){null!==o&&(clearTimeout(o),delete o);var e=a.offset(),t=i.container.offset();n.positionFullscreenButton(e.left-t.left,e.top-t.top,!0)}}).on("mouseout",function(){"plugin-hover"==s.fullscreenMode&&(null!==o&&(clearTimeout(o),delete o),o=setTimeout(function(){n.hideFullscreenButton()},1500))});if(i.fullscreenBtn=a,s.globalBind("keydown",function(e){27==e.keyCode&&(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||s.isFullScreen)&&i.exitFullScreen()}),s.normalHeight=0,s.normalWidth=0,mejs.MediaFeatures.hasTrueNativeFullScreen){i.globalBind(mejs.MediaFeatures.fullScreenEventName,function(e){i.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(i.isNativeFullScreen=!0,i.setControlsSize()):(i.isNativeFullScreen=!1,i.exitFullScreen()))})}}},detectFullscreenMode:function(){var e=this,t="",i=mejs.MediaFeatures;return i.hasTrueNativeFullScreen&&"native"===e.media.pluginType?t="native-native":i.hasTrueNativeFullScreen&&"native"!==e.media.pluginType&&!i.hasFirefoxPluginMovingProblem?t="plugin-native":e.usePluginFullScreen?mejs.MediaFeatures.supportsPointerEvents?(t="plugin-click",e.createPluginClickThrough()):t="plugin-hover":t="fullwindow",e.fullscreenMode=t},isPluginClickThroughCreated:!1,createPluginClickThrough:function(){var a=this;if(!a.isPluginClickThroughCreated){var r,e,i=!1,t=function(){if(i){for(var e in l)l[e].hide();a.fullscreenBtn.css("pointer-events",""),a.controls.css("pointer-events",""),a.media.removeEventListener("click",a.clickToPlayPauseCallback),i=!1}},l={},n=["top","left","right","bottom"],s=function(){var e=fullscreenBtn.offset().left-a.container.offset().left,t=fullscreenBtn.offset().top-a.container.offset().top,i=fullscreenBtn.outerWidth(!0),n=fullscreenBtn.outerHeight(!0),s=a.container.width(),o=a.container.height();for(r in l)l[r].css({position:"absolute",top:0,left:0});l.top.width(s).height(t),l.left.width(e).height(n).css({top:t}),l.right.width(s-e-i).height(n).css({top:t,left:e+i}),l.bottom.width(s).height(o-n-t).css({top:t+n})};for(a.globalBind("resize",function(){s()}),r=0,e=n.length;r<e;r++)l[n[r]]=d(\'<div class="mejs-fullscreen-hover" />\').appendTo(a.container).mouseover(t).hide();fullscreenBtn.on("mouseover",function(){if(!a.isFullScreen){var e=fullscreenBtn.offset(),t=player.container.offset();for(r in media.positionFullscreenButton(e.left-t.left,e.top-t.top,!1),a.fullscreenBtn.css("pointer-events","none"),a.controls.css("pointer-events","none"),a.media.addEventListener("click",a.clickToPlayPauseCallback),l)l[r].show();s(),i=!0}}),media.addEventListener("fullscreenchange",function(e){a.isFullScreen=!a.isFullScreen,a.isFullScreen?a.media.removeEventListener("click",a.clickToPlayPauseCallback):a.media.addEventListener("click",a.clickToPlayPauseCallback),t()}),a.globalBind("mousemove",function(e){if(i){var t=fullscreenBtn.offset();(e.pageY<t.top||e.pageY>t.top+fullscreenBtn.outerHeight(!0)||e.pageX<t.left||e.pageX>t.left+fullscreenBtn.outerWidth(!0))&&(fullscreenBtn.css("pointer-events",""),a.controls.css("pointer-events",""),i=!1)}}),a.isPluginClickThroughCreated=!0}},cleanfullscreen:function(e){e.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var n=this;n.container.attr("bfs-pos",d(window).scrollTop()),mejs.MediaFeatures.hasiOSFullScreen?n.media.webkitEnterFullscreen():(d(document.documentElement).addClass("mejs-fullscreen"),n.normalHeight=n.container.height(),n.normalWidth=n.container.width(),"native-native"===n.fullscreenMode||"plugin-native"===n.fullscreenMode?(mejs.MediaFeatures.requestFullScreen(n.container[0]),n.isInIframe&&setTimeout(function e(){if(n.isNativeFullScreen){var t=d(window).width(),i=screen.width;.002*i<Math.abs(i-t)?n.exitFullScreen():setTimeout(e,500)}},1e3)):n.fullscreeMode,n.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),n.containerSizeTimeout=setTimeout(function(){n.container.css({width:"100%",height:"100%"}),n.setControlsSize()},500),"native"===n.media.pluginType?n.$media.width("100%").height("100%"):(n.container.find(".mejs-shim").width("100%").height("100%"),setTimeout(function(){var e=d(window),t=e.width(),i=e.height();n.media.setVideoSize(t,i)},500)),n.layers.children("div").width("100%").height("100%"),n.fullscreenBtn&&n.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),n.setControlsSize(),n.isFullScreen=!0,n.container.find(".mejs-captions-text").css("font-size",screen.width/n.width*1*100+"%"),n.container.find(".mejs-captions-position").css("bottom","45px"),n.container.trigger("enteredfullscreen"))},exitFullScreen:function(){var e=this;clearTimeout(e.containerSizeTimeout),mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||e.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),d(document.documentElement).removeClass("mejs-fullscreen"),e.container.removeClass("mejs-container-fullscreen").width(e.normalWidth).height(e.normalHeight),"native"===e.media.pluginType?e.$media.width(e.normalWidth).height(e.normalHeight):(e.container.find(".mejs-shim").width(e.normalWidth).height(e.normalHeight),e.media.setVideoSize(e.normalWidth,e.normalHeight)),e.layers.children("div").width(e.normalWidth).height(e.normalHeight),e.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),e.setControlsSize(),e.isFullScreen=!1,e.container.find(".mejs-captions-text").css("font-size",""),e.container.find(".mejs-captions-position").css("bottom",""),e.container.trigger("exitedfullscreen"),e.container.attr("bfs-pos")&&d("html, body").animate({scrollTop:e.container.attr("bfs-pos")},500)}})}(mejs.$),function(v){v.extend(mejs.MepDefaults,{speeds:["2.00","1.50","1.25","1.00","0.75"],defaultSpeed:"1.00",speedChar:"x"}),v.extend(MediaElementPlayer.prototype,{buildspeed:function(e,t,i,n){var s=this;if("native"==s.media.pluginType){for(var o=null,a=null,r=null,l=null,d=[],u=!1,c=0,m=s.options.speeds.length;c<m;c++){var h=s.options.speeds[c];"string"==typeof h?(d.push({name:h+s.options.speedChar,value:h}),h===s.options.defaultSpeed&&(u=!0)):(d.push(h),h.value===s.options.defaultSpeed&&(u=!0))}u||d.push({name:s.options.defaultSpeed+s.options.speedChar,value:s.options.defaultSpeed}),d.sort(function(e,t){return parseFloat(t.value)-parseFloat(e.value)});var p=function(e){for(c=0,m=d.length;c<m;c++)if(d[c].value===e)return d[c].name},f=\'<div class="mejs-button mejs-speed-button"><button type="button">\'+p(s.options.defaultSpeed)+\'</button><div class="mejs-speed-selector"><ul>\';for(c=0,il=d.length;c<il;c++)l=s.id+"-speed-"+d[c].value,f+=\'<li><input type="radio" name="speed" value="\'+d[c].value+\'" id="\'+l+\'" \'+(d[c].value===s.options.defaultSpeed?" checked":"")+\' /><label for="\'+l+\'" \'+(d[c].value===s.options.defaultSpeed?\' class="mejs-speed-selected"\':"")+">"+d[c].name+"</label></li>";o=v(f+="</ul></div></div>").appendTo(t),a=o.find(".mejs-speed-selector"),r=s.options.defaultSpeed,n.addEventListener("loadedmetadata",function(e){r&&(n.playbackRate=parseFloat(r))},!0),a.on("click",\'input[type="radio"]\',function(){var e=v(this).attr("value");r=e,n.playbackRate=parseFloat(e),o.find("button").html(p(e)),o.find(".mejs-speed-selected").removeClass("mejs-speed-selected"),o.find(\'input[type="radio"]:checked\').next().addClass("mejs-speed-selected")}),o.one("mouseenter focusin",function(){a.height(o.find(".mejs-speed-selector ul").outerHeight(!0)+o.find(".mejs-speed-translations").outerHeight(!0)).css("top",-1*a.height()+"px")})}}})}(mejs.$),function(m){m.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),m.extend(MediaElementPlayer.prototype,{hasChapters:!1,cleartracks:function(e,t,i,n){e&&(e.captions&&e.captions.remove(),e.chapters&&e.chapters.remove(),e.captionsText&&e.captionsText.remove(),e.captionsButton&&e.captionsButton.remove())},buildtracks:function(t,e,i,n){if(0!==t.tracks.length){var s,o=this,a=o.options.tracksAriaLive?\'role="log" aria-live="assertive" aria-atomic="false"\':"";if(o.domNode.textTracks)for(s=o.domNode.textTracks.length-1;0<=s;s--)o.domNode.textTracks[s].mode="hidden";o.cleartracks(t,e,i,n),t.chapters=m(\'<div class="mejs-chapters mejs-layer"></div>\').prependTo(i).hide(),t.captions=m(\'<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover" \'+a+\'><span class="mejs-captions-text"></span></div></div>\').prependTo(i).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=m(\'<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="\'+o.id+\'" title="\'+o.options.tracksText+\'" aria-label="\'+o.options.tracksText+\'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="\'+t.id+\'_captions" id="\'+t.id+\'_captions_none" value="none" checked="checked" /><label for="\'+t.id+\'_captions_none">\'+mejs.i18n.t("None")+"</label></li></ul></div></div>").appendTo(e);var r=0;for(s=0;s<t.tracks.length;s++)"subtitles"==t.tracks[s].kind&&r++;for(o.options.toggleCaptionsButtonWhenOnlyOne&&1==r?t.captionsButton.on("click",function(){null===t.selectedTrack?lang=t.tracks[0].srclang:lang="none",t.setTrack(lang)}):(t.captionsButton.on("mouseenter focusin",function(){m(this).find(".mejs-captions-selector").removeClass("mejs-offscreen")}).on("click","input[type=radio]",function(){lang=this.value,t.setTrack(lang)}),t.captionsButton.on("mouseleave focusout",function(){m(this).find(".mejs-captions-selector").addClass("mejs-offscreen")})),t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("controlsshown",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){n.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1,s=0;s<t.tracks.length;s++)"subtitles"==t.tracks[s].kind&&t.addTrackButton(t.tracks[s].srclang,t.tracks[s].label);t.loadNextTrack(),n.addEventListener("timeupdate",function(e){t.displayCaptions()},!1),""!==t.options.slidesSelector&&(t.slidesContainer=m(t.options.slidesSelector),n.addEventListener("timeupdate",function(e){t.displaySlides()},!1)),n.addEventListener("loadedmetadata",function(e){t.displayChapters()},!1),t.container.hover(function(){t.hasChapters&&(t.chapters.removeClass("mejs-offscreen"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))},function(){t.hasChapters&&!n.paused&&t.chapters.fadeOut(200,function(){m(this).addClass("mejs-offscreen"),m(this).css("display","block")})}),o.container.on("controlsresize",function(){o.adjustLanguageBox()}),null!==t.node.getAttribute("autoplay")&&t.chapters.addClass("mejs-offscreen")}},setTrack:function(e){var t,i=this;if("none"==e)i.selectedTrack=null,i.captionsButton.removeClass("mejs-captions-enabled");else for(t=0;t<i.tracks.length;t++)if(i.tracks[t].srclang==e){null===i.selectedTrack&&i.captionsButton.addClass("mejs-captions-enabled"),i.selectedTrack=i.tracks[t],i.captions.attr("lang",i.selectedTrack.srclang),i.displayCaptions();break}},loadNextTrack:function(){var e=this;e.trackToLoad++,e.trackToLoad<e.tracks.length?(e.isLoadingTrack=!0,e.loadTrack(e.trackToLoad)):(e.isLoadingTrack=!1,e.checkForTracks())},loadTrack:function(e){var t=this,i=t.tracks[e];m.ajax({url:i.src,dataType:"text",success:function(e){"string"==typeof e&&/<tt\\s+xml/gi.exec(e)?i.entries=mejs.TrackFormatParser.dfxp.parse(e):i.entries=mejs.TrackFormatParser.webvtt.parse(e),i.isLoaded=!0,t.enableTrackButton(i.srclang,i.label),t.loadNextTrack(),"chapters"==i.kind&&t.media.addEventListener("play",function(e){0<t.media.duration&&t.displayChapters(i)},!1),"slides"==i.kind&&t.setupSlides(i)},error:function(){t.removeTrackButton(i.srclang),t.loadNextTrack()}})},enableTrackButton:function(e,t){""===t&&(t=mejs.language.codes[e]||e),this.captionsButton.find("input[value="+e+"]").prop("disabled",!1).siblings("label").html(t),this.options.startLanguage==e&&m("#"+this.id+"_captions_"+e).prop("checked",!0).trigger("click"),this.adjustLanguageBox()},removeTrackButton:function(e){this.captionsButton.find("input[value="+e+"]").closest("li").remove(),this.adjustLanguageBox()},addTrackButton:function(e,t){var i=this;""===t&&(t=mejs.language.codes[e]||e),i.captionsButton.find("ul").append(m(\'<li><input type="radio" name="\'+i.id+\'_captions" id="\'+i.id+"_captions_"+e+\'" value="\'+e+\'" disabled="disabled" /><label for="\'+i.id+"_captions_"+e+\'">\'+t+" (loading)</label></li>")),i.adjustLanguageBox(),i.container.find(".mejs-captions-translations option[value="+e+"]").remove()},adjustLanguageBox:function(){this.captionsButton.find(".mejs-captions-selector").height(this.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+this.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var e=this,t=!1;if(e.options.hideCaptionsButtonWhenEmpty){for(i=0;i<e.tracks.length;i++)if("subtitles"==e.tracks[i].kind&&e.tracks[i].isLoaded){t=!0;break}t||(e.captionsButton.hide(),e.setControlsSize())}},displayCaptions:function(){if(void 0!==this.tracks){var e,t=this,i=t.selectedTrack;if(null!==i&&i.isLoaded){for(e=0;e<i.entries.times.length;e++)if(t.media.currentTime>=i.entries.times[e].start&&t.media.currentTime<=i.entries.times[e].stop)return t.captionsText.html(i.entries.text[e]).attr("class","mejs-captions-text "+(i.entries.times[e].identifier||"")),void t.captions.show().height(0);t.captions.hide()}else t.captions.hide()}},setupSlides:function(e){this.slides=e,this.slides.entries.imgs=[this.slides.entries.text.length],this.showSlide(0)},showSlide:function(e){if(void 0!==this.tracks&&void 0!==this.slidesContainer){var t=this,i=t.slides.entries.text[e],n=t.slides.entries.imgs[e];void 0===n||void 0===n.fadeIn?t.slides.entries.imgs[e]=n=m(\'<img src="\'+i+\'">\').on("load",function(){n.appendTo(t.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):n.is(":visible")||n.is(":animated")||n.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if(void 0!==this.slides){var e,t=this.slides;for(e=0;e<t.entries.times.length;e++)if(this.media.currentTime>=t.entries.times[e].start&&this.media.currentTime<=t.entries.times[e].stop)return void this.showSlide(e)}},displayChapters:function(){var e,t=this;for(e=0;e<t.tracks.length;e++)if("chapters"==t.tracks[e].kind&&t.tracks[e].isLoaded){t.drawChapters(t.tracks[e]),t.hasChapters=!0;break}},drawChapters:function(e){var t,i,n=this,s=0,o=0;for(n.chapters.empty(),t=0;t<e.entries.times.length;t++)i=e.entries.times[t].stop-e.entries.times[t].start,(100<(s=Math.floor(i/n.media.duration*100))+o||t==e.entries.times.length-1&&s+o<100)&&(s=100-o),n.chapters.append(m(\'<div class="mejs-chapter" rel="\'+e.entries.times[t].start+\'" style="left: \'+o.toString()+"%;width: "+s.toString()+\'%;"><div class="mejs-chapter-block\'+(t==e.entries.times.length-1?" mejs-chapter-block-last":"")+\'"><span class="ch-title">\'+e.entries.text[t]+\'</span><span class="ch-time">\'+mejs.Utility.secondsToTimeCode(e.entries.times[t].start,n.options)+"&ndash;"+mejs.Utility.secondsToTimeCode(e.entries.times[t].stop,n.options)+"</span></div></div>")),o+=s;n.chapters.find("div.mejs-chapter").click(function(){n.media.setCurrentTime(parseFloat(m(this).attr("rel"))),n.media.paused&&n.media.play()}),n.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",fl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvtt:{pattern_timecode:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(e){for(var t,i,n,s=0,o=mejs.TrackFormatParser.split2(e,/\\r?\\n/),a={text:[],times:[]};s<o.length;s++){if((t=this.pattern_timecode.exec(o[s]))&&s<o.length){for(0<=s-1&&""!==o[s-1]&&(n=o[s-1]),i=o[++s],s++;""!==o[s]&&s<o.length;)i=i+"\\n"+o[s],s++;i=m.trim(i).replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gi,"<a href=\'$1\' target=\'_blank\'>$1</a>"),a.text.push(i),a.times.push({identifier:n,start:0===mejs.Utility.convertSMPTEtoSeconds(t[1])?.2:mejs.Utility.convertSMPTEtoSeconds(t[1]),stop:mejs.Utility.convertSMPTEtoSeconds(t[3]),settings:t[5]})}n=""}return a}},dfxp:{parse:function(e){var t,i,n=0,s=(e=m(e).filter("tt")).children("div").eq(0),o=s.find("p"),a=e.find("#"+s.attr("style")),r={text:[],times:[]};if(a.length){var l=a.removeAttr("id").get(0).attributes;if(l.length)for(t={},n=0;n<l.length;n++)t[l[n].name.split(":")[1]]=l[n].value}for(n=0;n<o.length;n++){var d,u={start:null,stop:null,style:null};if(o.eq(n).attr("begin")&&(u.start=mejs.Utility.convertSMPTEtoSeconds(o.eq(n).attr("begin"))),!u.start&&o.eq(n-1).attr("end")&&(u.start=mejs.Utility.convertSMPTEtoSeconds(o.eq(n-1).attr("end"))),o.eq(n).attr("end")&&(u.stop=mejs.Utility.convertSMPTEtoSeconds(o.eq(n).attr("end"))),!u.stop&&o.eq(n+1).attr("begin")&&(u.stop=mejs.Utility.convertSMPTEtoSeconds(o.eq(n+1).attr("begin"))),t)for(var c in d="",t)d+=c+":"+t[c]+";";d&&(u.style=d),0===u.start&&(u.start=.2),r.times.push(u),i=m.trim(o.eq(n).html()).replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gi,"<a href=\'$1\' target=\'_blank\'>$1</a>"),r.text.push(i),0===r.times.start&&(r.times.start=2)}return r}},split2:function(e,t){return e.split(t)}},3!="x\\n\\ny".split(/\\n/gi).length&&(mejs.TrackFormatParser.split2=function(e,t){var i,n=[],s="";for(i=0;i<e.length;i++)s+=e.substring(i,i+1),t.test(s)&&(n.push(s.replace(t,"")),s="");return n.push(s),n})}(mejs.$),function(l){l.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(e){return void 0===e.enterFullScreen?null:e.isFullScreen?mejs.i18n.t("Turn off Fullscreen"):mejs.i18n.t("Go Fullscreen")},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return e.media.muted?mejs.i18n.t("Unmute"):mejs.i18n.t("Mute")},click:function(e){e.media.muted?e.setMuted(!1):e.setMuted(!0)}},{isSeparator:!0},{render:function(e){return mejs.i18n.t("Download Video")},click:function(e){window.location.href=e.media.currentSrc}}]}),l.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t,e,i,n){t.contextMenu=l(\'<div class="mejs-contextmenu"></div>\').appendTo(l("body")).hide(),t.container.bind("contextmenu",function(e){if(t.isContextMenuEnabled)return e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1}),t.container.bind("click",function(){t.contextMenu.hide()}),t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},cleancontextmenu:function(e){e.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout(function(){e.hideContextMenu(),e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;null!=e&&(clearTimeout(e),delete e,e=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(e,t){for(var n=this,i="",s=n.options.contextMenuItems,o=0,a=s.length;o<a;o++)if(s[o].isSeparator)i+=\'<div class="mejs-contextmenu-separator"></div>\';else{var r=s[o].render(n);null!=r&&(i+=\'<div class="mejs-contextmenu-item" data-itemindex="\'+o+\'" id="element-\'+1e6*Math.random()+\'">\'+r+"</div>")}n.contextMenu.empty().append(l(i)).css({top:t,left:e}).show(),n.contextMenu.find(".mejs-contextmenu-item").each(function(){var e=l(this),t=parseInt(e.data("itemindex"),10),i=n.options.contextMenuItems[t];void 0!==i.show&&i.show(e,n),e.click(function(){void 0!==i.click&&i.click(n),n.contextMenu.hide()})}),setTimeout(function(){n.killControlsTimer("rev3")},100)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{skipBackInterval:30,skipBackText:mejs.i18n.t("Skip back %1 seconds")}),a.extend(MediaElementPlayer.prototype,{buildskipback:function(e,t,i,n){var s=this,o=s.options.skipBackText.replace("%1",s.options.skipBackInterval);a(\'<div class="mejs-button mejs-skip-back-button"><button type="button" aria-controls="\'+s.id+\'" title="\'+o+\'" aria-label="\'+o+\'">\'+s.options.skipBackInterval+"</button></div>").appendTo(t).click(function(){n.setCurrentTime(Math.max(n.currentTime-s.options.skipBackInterval,0)),a(this).find("button").blur()})}})}(mejs.$),function(o){o.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),o.extend(MediaElementPlayer.prototype,{buildpostroll:function(t,e,i,n){var s=this.container.find(\'link[rel="postroll"]\').attr("href");void 0!==s&&(t.postroll=o(\'<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">\'+this.options.postrollCloseText+\'</a><div class="mejs-postroll-layer-content"></div></div>\').prependTo(i).hide(),this.media.addEventListener("ended",function(e){o.ajax({dataType:"html",url:s,success:function(e,t){i.find(".mejs-postroll-layer-content").html(e)}}),t.postroll.show()},!1))}})}(mejs.$);\n'},function(e,t,n){n(3)(n(304))},function(e,t){e.exports='/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)\n * Licensed under the MIT License (LICENSE.txt).\n *\n * Version: 3.1.11\n *\n * Requires: jQuery 1.2.2+\n */\n!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b)["offsetParent"in a.fn?"offsetParent":"parent"]();return c.length||(c=a("body")),parseInt(c.css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});'},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=null,r=0,o={},s=function(){function e(){this.connected=!1}return e.prototype.connect=function(e){var t=this;window.onbeforeunload=this.disconnect.bind(this),a=new WebSocket(e+"/websocket"),a.onopen=function(){t.connected=!0,t.onConnect()},a.onclose=function(){t.connected=!1,t.onClose(),window.chat.currentChathost=null,window.chat.userData.chathost=null,window.chat.performerData=null,window.chat.debug("[sjs] close")},a.onerror=function(e){t.connected=!1,window.chat.currentChathost=null,window.chat.userData.chathost=null,window.chat.performerData=null,window.chat.debug("[sjs] error",e.data||e)},a.onmessage=function(e){var n=i.json_parse(e.data);if(n.type&&void 0!==n.body)return void t.onEvent(n);if(n.id>0){var a=n;if(a.error)return void window.chat.error(n);var r=o[a.id];"function"==typeof r&&(delete o[a.id],r.call(null,a.result))}}},e.prototype.disconnect=function(){a&&a.close&&a.close(),this.connected=!1},e.prototype.call=function(e,t){void 0===t&&(t=null);for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!this.connected)return void console.log("call impossible, connection was lost");r++;var s={id:r,name:e};n.length&&(s.args=n),o[r]=t,a.send(JSON.stringify(s))},e.prototype.onConnect=function(){},e.prototype.onEvent=function(e){},e.prototype.onClose=function(){},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._e={}}return e.prototype.on=function(e,t){var n=this._e[e]=this._e[e]||[];return n.push(t),function(){var e=n.indexOf(t);e>-1&&n.splice(e,1)}},e.prototype.off=function(e,t){var n=this._e[e];if(n){var i=n.indexOf(t);i>-1&&n.splice(i,1)}},e.prototype.one=function(e,t){var n=this.on(e,function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];n(),t.apply(void 0,e)});return n},e.prototype.dispatch=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(void 0!==this._e[e])for(var i=0,a=this._e[e];i<a.length;i++){var r=a[i];r.apply(void 0,t)}},e}();t.default=i},function(e,t,n){"use strict";function i(e,t,n){function i(e){var t=e.toString(16);return 1===t.length?"0"+t:t}return"#"+i(e)+i(t)+i(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.rgbToHex=i},function(e,t,n){"use strict";function i(e){var t=a.hexToRgb(e);return t?r.rgbToHsv(t[0],t[1],t[2]):null}Object.defineProperty(t,"__esModule",{value:!0});var a=n(201),r=n(202);t.hexToHsv=i},function(e,t,n){"use strict";function i(e,t,n){var i,a,r,o,s;t/=100,n/=100,s=Math.floor(e/60),i=e/60-s,a=n*(1-t),r=n*(1-t*i),o=n*(1-(1-i)*t);var l=0,c=0,u=0;switch(s){case 0:l=n,c=o,u=a;break;case 1:l=r,c=n,u=a;break;case 2:l=a,c=n,u=o;break;case 3:l=a,c=r,u=n;break;case 4:l=o,c=a,u=n;break;case 5:l=n,c=a,u=r}return[Math.round(255*l),Math.round(255*c),Math.round(255*u)]}Object.defineProperty(t,"__esModule",{value:!0}),t.hsvToRgb=i},function(e,t,n){"use strict";function i(e){return/^#?([a-f\d]{6})$/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isHexColor=i},function(e,t,n){"use strict";function i(e){if(3===e.length)return""+e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}Object.defineProperty(t,"__esModule",{value:!0}),t.convertHex3To6=i},,,,,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),a=n(7),r=function(){function t(){}return t.MIN_HEIGHT=534,t.initForm=function(n){if(!t.isFormEnabled())return!1;var a=e(".js-tap_popup"),r=chat.performerData.gender||"female",o=e(".js-tap_note");o.find("div").hide(),o.find(".js-"+("female"===r||"transsexual"===r?"she":"male"===r?"he":"they")+"_msg").show(),e.isMobile?a.find(".js-model_name").html(chat.performerData.displayName):a.find(".js-model_name").html('<img class="tap_model_avatar" src="'+(chat.options.baseUrl+chat.performerData.avatarUrl)+'" alt="">'+chat.performerData.displayName);var s=0;a.find(".js-tip_click").each(function(t,r){var o=e(r);o.is(":hidden")&&o.show();var l=o.data("percent"),c=Math.ceil(n/100*l);if(c===s)if(1===t){var u=a.find(".js-tip_click").first();u.find("label").html("<span></span>"+(c-1)+" "+i.default.pluralise("tokens",c-1)),u.find("input").val(c-1)}else 2===t&&c++;s=c,o.find('input[type="radio"]').attr("value",c),o.find("label").html("<span></span>"+c+" "+i.default.pluralise("tokens",c))}),t.setDefaultValue()},t.setDefaultValue=function(){e(".js-tip_click.selected").removeClass("selected");var t=e(".js-tip_click").eq(2);t.addClass("selected"),t.find("input").attr("checked","checked"),e(".js-tap_popup").find("form").get(0).reset()},t.showInFancybox=function(){e.fancybox(e(".js-tap_popup"),{padding:0,scrolling:"no",wrapCSS:"fancybox-tip-popup-wrap",autoResize:!1,fitToView:!1,afterShow:function(){e.get(e(".js-tap_popup").data("track_url"))},helpers:{overlay:{locked:!0,closeClick:!1}}})},t.showBongaPopup=function(){var n=e("#stream-container"),i=e(".js-tap_popup");if(e("#stream-container").closest("#stream-layer").hasClass("player_gui"))return!1;var r=e("#bongacams_popup");n.outerHeight()<t.MIN_HEIGHT?i.addClass("__small"):i.hasClass("__small")&&i.removeClass("__small");var o=e(".js-tip_after_private_trigger");o.openPopup({container:e(".js-tap_popup_outer"),v2:!1,afterDisplay:function(){r.addClass("tap_popup"),n.addClass("__overlay"),e.get(i.data("track_url")),t.setPosition()},onClose:function(){a.isRTLCulture&&r.css({right:"auto"}),r.removeClass("tap_popup"),n.removeClass("__overlay")}}),o.trigger("click")},t.setPosition=function(){var t=e("#stream-container"),n=e("#bongacams_popup"),i=t.offset().top,r=t.offset().left,o=t.width(),s=t.outerHeight(),l=i+(s-n.outerHeight())/2,c=n.find(".js-tap_popup").outerWidth();if(a.isRTLCulture){var u=e(window).width()-(r+o)+(o-c)/2;n.css({top:l,right:u})}else{var d=r+(o-c)/2;n.css({top:l,left:d})}},t.updatePosition=function(){var n=e("#stream-container");!e.isMobile&&e("#bongacams_popup").hasClass("tap_popup")&&(n.outerHeight()<t.MIN_HEIGHT?e(".js-tap_popup").addClass("__small"):e(".js-tap_popup").hasClass("__small")&&e(".js-tap_popup").removeClass("__small"),t.setPosition())},t.showForm=function(n){t.initForm(n),e.isMobile?t.showInFancybox():t.showBongaPopup()},t.isFormEnabled=function(){return e(".js-tap_popup").length>0},t}();t.default=r}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(46),a=n(107),r=function(){function e(){}return e.muteUser=function(e,t,n){void 0===n&&(n=null),n?i.request(chat.localData.serviceUrl,"muteUser",e,n,chat.userData.chathost):i.request(chat.localData.serviceUrl,"muteUser",e)},e.prototype.setDataKey=function(t){e.dataKey=t},e.prototype.joinRoom=function(t){i.conn.call("joinRoom",function(e){i.eventDispatcher.dispatch(a.ChatServiceEvent.JOIN_ROOM,e),chat.enableChatInput(),chat.debug("joinRoom result",e)},t,chat.userData,e.dataKey)},e.prototype.joinChat=function(e){i.conn.call("ChatModule.connect",function(t){i.eventDispatcher.dispatch(a.ChatServiceEvent.JOIN_CHAT,e,t),"public-chat"===e&&t.history&&chat.setHistory(t.history),t.userList&&chat.updateUsers(e,t.userList)},e)},e.prototype.syncUserList=function(e){i.conn.call("ChatModule.syncUserList",function(t){i.eventDispatcher.dispatch(a.ChatServiceEvent.SYNC_USER_LIST,e,t),chat.updateUsers(e,t)},e)},e.prototype.ping=function(){i.conn.call("ping",null)},e.dataKey=null,e}();t.default=r},,,function(e,t,n){n(3)(n(344))},function(e,t){e.exports='!function(a){a.fn.autogrow=function(b){return this.filter("textarea").each(function(){var b=a(this),c=b.height(),e=(b.css("lineHeight"),a("<div></div>").css({position:"absolute",top:-1e4,width:a(this).width()-parseInt(b.css("paddingLeft"))-parseInt(b.css("paddingRight")),fontSize:b.css("fontSize"),fontFamily:b.css("fontFamily"),lineHeight:b.css("lineHeight"),resize:"none"}).appendTo(document.body));"rtl"==b.css("direction")?e.css({right:-1e4}):e.css({left:-1e4});var f=function(){var b=function(a,b){for(var c=0,d="";b>c;c++)d+=a;return d},d=this.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\\n$/,"<br/>&nbsp;").replace(/\\n/g,"<br/>").replace(/ {2,}/g,function(a){return b("&nbsp;",a.length-1)+" "});e.html(d),a(this).css("height",Math.max(e.height(),c))};a(this).change(f).keyup(f).keydown(f),f.apply(this)}),this}}(jQuery);'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(301),n(140),n(167),n(284),n(266),n(346),n(177),n(347),n(293),n(256),n(348),n(349),n(350),n(351)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(){this.wrapperPadding=10}return t.prototype.init=function(){var t=this;this.$container=e(".navigation"),this.$wrapper=this.$container.find(".nav_wrapper"),this.listOfHiding=[this.$wrapper.find(".nav_puschase-tokens"),this.$wrapper.find(".nav_prices")],this.onWindowResizeHandler=function(){t.checkMenu()},this.onHeaderChangeHandler=function(){t.checkMenu()},this.checkMenu(),this.attachHandlers()},t.prototype.attachHandlers=function(){e(document).on("header:change",this.onHeaderChangeHandler),e(window).on("resize.menuWatch",this.onWindowResizeHandler)},t.prototype.detachHandlers=function(){e(document).off("header:change",this.onHeaderChangeHandler),e(window).off(".menuWatch")},t.prototype.checkMenu=function(){if(this.difference=null,this.diff()<=this.wrapperPadding)for(var e=0;e<this.listOfHiding.length;e++){var t=this.listOfHiding[e];if(t.length&&t.is(":visible")&&(this.hideElement(t),this.diff()>this.wrapperPadding))break}else for(var e=this.listOfHiding.length-1;e>=0;e--){var t=this.listOfHiding[e];if(t.length&&!t.is(":visible")){if(this.diff()<=t.outerWidth(!0)+this.wrapperPadding)break;this.showElement(t)}}},t.prototype.diff=function(){return null==this.difference&&(this.difference=this.$container.width()-this.$wrapper.width()),this.difference},t.prototype.hideElement=function(e){e.hide(),this.difference=null},t.prototype.showElement=function(e){e.show(),this.difference=null},t}();t.MenuResize=n,e(function(){(new n).init()})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var t=function(){function t(){e(".contact_support a.support_tab_email, .contact_support a.close").bind("click",function(){history.pushState({},document.title,e(this).attr("href"));var t=e(this).closest("div.contact_support");return t.find(".support_page").hide(),t.find("div."+e(this).attr("rel")).show(),!1}),e("#contact_support_body").max_lengthable(4e3)}return t}();e(function(){new t})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(258),a=n(195),r=n(294),o=n(19),s=n(40),l=n(4),c=n(7);e(function(){function t(){(sv.config.jsDebug||sv.config.jsDebugShow)&&sv.popup.debug(!0),sv.popup.tasks.step(1)}function n(e,t){sv.c_storage.setItem(e,+new Date+60*t*1e3)}function u(e){return+(sv.c_storage.getItem(e)||"0")-+new Date>0}function d(){var t=sv.popup.hover.newArea();t.custom=function(){var t=c.isRTLCulture||-1!==navigator.platform.toUpperCase().indexOf("MAC");return function(n,i){if(i.dirY>=0)return!1;var a=e(window).height(),r=70+.08*a;if(i.clientY>r)return!1;var o=e(window).width(),s=170+.05*o,l=t?s:o-s;return t?i.clientX<l:i.clientX>l}}(),t.onHover=function(){var t=e(".discount_gold_popup"),i=e(".discount_popup"),a=t.length?t:i,r=function(e,t,i){e.length&&(u(t)||(e.filter(":visible").length||sv.popup.tasks.open(e.data("type")),n(t,i)))};return function(){r(a,"hover_ts",f)}}(),e(document).on("click","a[data-popup_close]",function(){e(this).data("popup_close")&&sv.popup.dialog.hide()}),e(document).on("click",".popup_next",function(){sv.popup.tasks.next()})}var h=e("#popups_wrap"),p=e("body");if(e(document).on("language:switch",function(){if(!sv.popup.tasks)return!0;var t=new Date;t.setTime(t.getTime()+1e4);var n=sv.c_storage.getItem("hover_ts"),i=s.getRealDomain();return e.cookie("tm_data",sv.popup.tasks.getData(!0,{hover:{hover_ts:n}}),{path:"/",expires:t,domain:i}),!0}),h.length){sv.popup.hover=new i.HoverManager,sv.popup.dialog=new r.FancyBoxWrapper,sv.popup.dialog.eventAdd("onClose",function(){sv.popup.tasks.next()}),sv.popup.tasks=new a.TimerManager,sv.popup.tasks.addAlias({"18_plus":"#warning_popup","18_plus_fs_red":"#warning_popup_red","18_plus_fs_girl":"#warning_popup_girl",unblock:".unblock_popup",gold:".gold_popup",status:".status_popup",bitcoin_paypal:".bitcoin_paypal_popup",discount_gold:".discount_gold_popup",np_discount:".discount_popup",sbs_discount:".sbs_discount_popup",no_tokens:".no_tokens_popup",no_tokens_manual:".no_tokens_popup",vip:".vip_popup",vip_premium:".vip_popup",initial_bonus:".initial_bonus_popup",fpm:".fpm_popup",fpm_after_login:".fpm_popup",bf_cm:".bf_cm_popup",bf_cm_after_login:".bf_cm_popup",bf_cm_after_logout:".bf_cm_popup",pre_signup:".pre_signup_popup",gift_card:".gc_popup_standard",vip_gift_card:".gc_popup_vip",win_cap:".win_cap_popup",sg_intro:".spygasm_intro_popup",bt_info:".js-bt_info_popup",bt_app:".js-bt_app_popup"});var f=720,m=0,g=p.hasClass("logged_in"),v=+p.data("login_time")||0,b=e("#member_join_popup_trigger"),y=!g&&b.length&&!e.isTranslateSkin&&e.showRegistrationPopups,_=y&&b.data("timer_enabled");sv.c_storage.getItem("hover_ts")||n("hover_ts",0);var w=e.cookie("bcnotokenssince"),S=null!==w;S&&(w=Math.floor((+new Date/1e3-w)/60));var C=g&&Boolean(h.data("membership")),k=C&&"free"===h.data("membership"),T=C&&"gold"===h.data("membership"),P=C&&["platinum","unlimited","diamond","exclusive"].indexOf(h.data("membership"))>=0;sv.popup.tasks.fromData({"18_plus":{timeLine:[{time:0}],order:50,optionsTpl:"warning",noCooldown:!0,noIndex:!0,noDelay:!0},"18_plus_fs_red":{timeLine:[{time:0}],order:50,optionsTpl:"fs_warning",noCooldown:!0,noIndex:!0,noDelay:!0},"18_plus_fs_girl":{timeLine:[],index:1,optionsTpl:"fs_warning",noCooldown:!0,noIndex:!0,noDelay:!0},unblock:{timeLine:!g&&y?[]:k?[{time:5,loop:!0}]:[{time:0}],order:45,event:P||T,track:!0},gold:{timeLine:[{time:5,loop:!0,rand:3}],track:!0},status:{timeLine:[{time:7},{time:720,loop:!0}],order:11,track:!0},bf_cm:{condition:k,timeLine:[{time:7,loop:!0}],track:!0,index:1},bf_cm_after_login:{condition:g&&!k&&v<=300,timeLine:[{time:(300-v)/60}],order:5,track:!0},bf_cm_after_logout:{condition:!g,order:5,track:!0,index:1},np_discount:{index:1,track:!0,noCooldown:!0},discount_gold:{index:1,track:!0,noCooldown:!0},sbs_discount:{timeLine:[{time:0},{time:720,loop:!0}],order:10,track:!0,noCooldown:!0,storeName:"sbs_discount"},no_tokens:{condition:(P||T)&&S&&w>1440,timeLine:[{time:7,loop:!0}],order:10,track:!0},no_tokens_manual:{index:1,track:!0},vip:{condition:T,timeLine:S&&w<=1440?[{time:21,loop:!0}]:[{time:S&&w>1440?7:10},{time:2160,loop:!0}],order:20,track:!0,storeName:S&&w<=1440?null:"vip_36h"},vip_premium:{condition:P,timeLine:[{time:0}],order:20,track:!0},bitcoin_paypal:{timeLine:[{time:P?0:2}],order:40,event:!0,track:!0},initial_bonus:{timeLine:[{time:P?0:2}],order:40,event:!0,track:!0},fpm:{timeLine:[{time:0}],order:40,event:!0,track:!0},pre_signup:{condition:y,index:1,order:49,noSync:!0},gift_card:{condition:g,index:1,track:!1,noCooldown:!0,noSync:!0},vip_gift_card:{condition:g,index:1,track:!1,noCooldown:!0,noSync:!0},loyalty_discount:{condition:g&&C&&e.windowJsVars&&e.windowJsVars.loyaltyDiscountEnabled,index:1,noCooldown:!0,noSync:!0,iframe:!0},win_cap:{timeLine:[{time:0}],order:40,event:!0,track:!0},join_popup:{condition:_,timeLine:[{time:2},{time:7,loop:!0}],order:49,noCooldown:!0,noSync:!0,signup:!0},join_popup_manual:{condition:y,order:49,noCooldown:!0,noSync:!0,signup:!0},sg_intro:{index:1,track:!0,noCooldown:!0,noSync:!0},bt_info:{index:1,track:!1,noCooldown:!0,noSync:!0},bt_app:{index:1,track:!1,noCooldown:!0,noSync:!0}});var x=sv.storage.getItem("rotation_order")%1e3||0;sv.popup.tasks.multi("gold",["fpm","bf_cm","unblock"],function(e,t,n){switch(n%2){case 0:return sv.storage.setItem("rotation_order",++x),t[x%t.length]||e;default:return e}}),sv.popup.tasks.multi("join_popup",["pre_signup","unblock","bf_cm_after_logout"],function(e,t,n){switch(n%2){case 0:return sv.storage.setItem("rotation_order",++x),t[x%t.length]||e;default:return e}}),sv.popup.tasks.onShow=function(t,i,a,r){var s=this,l=this.activeInfo?this.activeInfo.seed:o.Random.rangeInt(65536),c=this.selectorbyName;if(!e(".fancybox-overlay .fancybox-type-iframe").length){if(t.iframe)return void sv.popup.dialog.show(t,{beforeClose:function(){sv.popup.tasks.next()},afterClose:function(){sv.popup.tasks.isMaster&&(sv.popup.tasks.active=!0,sv.popup.tasks.elapsedTime=0)},customData:r});if(t.signup)return void sv.popup.dialog.show(t,{customData:e.extend({isClick:"join_popup_manual"===t.name},r)});if(!c.hasOwnProperty(t.name))return void console.error("Popup not found",t.name);var u=null;if(i)u=e("#"+i);else{var d=e(c[t.name]);if(!d.length)return!1;var h=sv.storage.getItem("viewedPopups")||"";if(e.each(d.not(".popup_viewed"),function(){h.indexOf(e(this).attr("id"))>=0&&e(this).addClass("popup_viewed")}),d.length>1){var p=d.not(".popup_viewed").length;p||(e.each(d,function(){h=h.replace(e(this).attr("id")+" ","")}),d.filter(".popup_viewed").removeClass("popup_viewed"),p=d.length);var g=l%p;u=d.not(".popup_viewed").eq(g).addClass("popup_viewed"),h+=u.attr("id")+" ",sv.storage.setItem("viewedPopups",h)}else u=d}if(t.activeElement=u,u.hasClass("has_small_bg")){var v=e(window).innerWidth()<1366||e(window).innerHeight()<768,b=u.find(".pop_bg");v&&!u.hasClass("pop_small")?(b.data("bg_small")&&b.css("background-image","url("+b.data("bg_small")+")"),u.addClass("pop_small")):!v&&u.hasClass("pop_small")&&(b.data("bg_big")&&b.css("background-image","url("+b.data("bg_big")+")"),u.removeClass("pop_small"))}sv.popup.dialog.show(t,{afterShow:function(){t.track&&s.onTrack(t),t.event&&s.onEvent(t),"bf_cm_after_login"===t.name&&e(this.element).attr("data-track_url_after_login")&&e.get(e(this.element).attr("data-track_url_after_login"))},beforeClose:function(){if(sv.popup.tasks.next(),-1!==["np_discount","discount_gold"].indexOf(t.name))n("hover_ts",f);else if(!t.noCooldown&&m){var e=+new Date+60*+m*1e3,i=sv.c_storage.getItem("hover_ts");i?+i<e&&n("hover_ts",m):n("hover_ts",m)}},afterClose:function(){sv.popup.tasks.isMaster&&(sv.popup.tasks.active=!0,sv.popup.tasks.elapsedTime=0)},insteadShow:function(){sv.popup.tasks.next(),sv.popup.tasks.isMaster&&(sv.popup.tasks.active=!0,sv.popup.tasks.elapsedTime=0)},customData:r})}},sv.popup.tasks.onHide=function(){sv.popup.dialog.hide()},sv.popup.tasks.eventBaseUrl=h.data("event_url")||null,sv.popup.tasks.onTrack=function(t){if(this.isMaster&&t.activeElement.length&&!e.isTranslateSkin&&(!this.activeInfo||this.activeInfo.seed!==+sv.storage.getItem("tm_lastTrack"))){sv.storage.setItem("tm_lastTrack",this.activeInfo?this.activeInfo.seed:0);var n=t.activeElement.data("track_url");if(n){var i=e.extend({},t.trackParams);e.get(n,i)}}},sv.popup.tasks.onEvent=function(t){if(this.isMaster&&t.activeElement.length&&!e.isTranslateSkin&&(!this.activeInfo||this.activeInfo.seed!==+sv.storage.getItem("tm_lastEvent"))&&(sv.storage.setItem("tm_lastEvent",this.activeInfo?this.activeInfo.seed:0),t.activeElement.data("event_name")&&t.activeElement.data("popup_id")&&this.eventBaseUrl)){var n=e.extend({},{type:t.activeElement.data("event_name"),params:{popup_id:t.activeElement.data("popup_id")}},t.trackParams);n=l.getCSRFData(n),e.ajax({url:this.eventBaseUrl,data:n,type:"post"})}},e.isTranslateSkin||p.hasClass("no_popups")?sv.popup.tasks.clearActive():(sv.popup.tasks.loggedIn=p.hasClass("logged_in"),sv.popup.tasks.run({resetMaster:g&&+p.data("login_time")<=3,step:t,beforeRun:function(){d()}}))}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(208);e(function(){window.isSinglePageApplication||i.default.instance.refresh()})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(9),o=n(2);!function(e){e.female="female",e.male="male",e.transsexual="transsexual"}(a||(a={}));var s={female:a.female,couple_f_m:a.female,couple_f_f:a.female,male:a.male,couple_m_m:a.male,transsexual:a.transsexual,couple_t_t:a.transsexual},l=function(){function e(e){if(o.isLocalStorageAvailable()){var t=this.read();e?(this.username=e,t.username!==e&&this.write({timeLine:[],username:e,lastSend:Date.now()})):t.username&&(this.username=t.username)}}return e.prototype.prank=function(e){return"string"==typeof e?e.split("").map(function(e,t){return t%2?e:e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()}).join(""):""},e.prototype.read=function(){try{var t=r.json_parse(atob(this.prank(localStorage.getItem(e.STORKEY))));if(t)return t}catch(e){}return{timeLine:[],lastSend:Date.now()}},e.prototype.write=function(t){t.username=this.username,localStorage.setItem(e.STORKEY,this.prank(btoa(JSON.stringify(t))))},e.STORKEY="targeting",e}(),c=function(){function t(){this.lastTickTs=Date.now(),this.counter=0;var t=e("body").data("mun");this.storage=new l(t),this.storage.username&&setInterval(this.tick.bind(this),1e3)}return t.getJsonFromNode=function(e){var t=document.querySelector(e);return t?r.json_parse(t.innerHTML):null},t.getModelData=function(){return window.globalListing&&window.globalListing.isChatOpened()?t.getJsonFromNode("#miniProfileStateData"):document.body.classList.contains("page_profile")?t.getJsonFromNode("#wallProfileStateData"):null},t.prototype.checkFemaleLover=function(e){var n=0,r=0,o=0,l=Object.keys(a).reduce(function(e,t){var n;return i({},e,(n={},n[t]=0,n))},{});return e.map(function(e){var t=e.agoStart-e.agoEnd,i=s[e.gender];o+=t,e.username&&i?(n+=t,l[i]=l[i]?l[i]+t:t):r+=t}),o===t.PERIOD&&l[a.female]>l[a.male]+l[a.transsexual]&&n>r},t.prototype.compactModels=function(e){var t={};return e.map(function(e){if(s[e.gender]===a.female){var n=Math.ceil((e.agoStart-e.agoEnd)/1e3);t[e.username]=t[e.username]?t[e.username]+n:n}}),Object.keys(t).map(function(e){return{username:e,time:t[e]}})},t.prototype.updateStatistics=function(){var e=Date.now(),n=t.getModelData()||{username:""},a=n.username,r=n.gender,o=this.storage.read(),s=o.timeLine,l=o.lastSend,c=s.length-1,u=Math.min(e-this.lastTickTs,1e4);s[c]&&s[c].username===a||(s.push({username:a,gender:r,agoStart:0,agoEnd:0}),c++),s=s.map(function(e,n){return i({},e,{agoEnd:n===c?0:e.agoEnd+u,agoStart:Math.min(e.agoStart+u,t.PERIOD)})}).filter(function(e){return e.agoEnd<t.PERIOD}),this.checkFemaleLover(s)&&e-l>t.PERIOD&&(this.sendStatistics(s),l=e),this.storage.write({timeLine:s,lastSend:l})},t.prototype.sendStatistics=function(n){var i=this;e.ajax({type:"POST",url:"/models-counter",data:JSON.stringify(this.compactModels(n)),success:function(){i.storage.write({timeLine:[],lastSend:Date.now()})},error:function(){var e=i.storage.read().timeLine,n=Date.now()-t.PERIOD+t.RESEND;i.storage.write({timeLine:e,lastSend:n})}})},t.prototype.tick=function(){document.hasFocus()&&(this.updateStatistics(),this.counter++),this.lastTickTs=Date.now()},t.PERIOD=18e5,t.RESEND=3e5,t}();e(function(){return new c})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var t=function(){function t(){this.$dap=e("#desktop_app_bar"),this.$nim=e("#news_im_view"),this.$dap.length&&(this.showDesktopAppBar(),this._attachHandlers())}return t.prototype._attachHandlers=function(){var e=this;this.$dap.find(".close_desktop_app").click(function(){return e.hideDesktopAppBar(),!1})},t.prototype.showDesktopAppBar=function(){var t=this;if(!e.isFullMobile){var n=window.isSessionStorageAvailable()?sessionStorage.getItem("hide_desktop_app_bar"):e.cookie("hdab");void 0!==n&&null!==n||this.$dap.slideDown(function(){t.increaseStartNewsImPosition()})}},t.prototype.hideDesktopAppBar=function(){this.changeOpenedNewsImPosition(),this.$dap.slideUp(),window.isSessionStorageAvailable()?sessionStorage.setItem("hide_desktop_app_bar","1"):e.cookie("hdab","1",{path:"/",expires:1})},t.prototype.increaseStartNewsImPosition=function(){this.$nim.attr("extra_bottom_px",this.$dap.height())},t.prototype.changeOpenedNewsImPosition=function(){this.$nim.is(":visible")&&(this.$nim.animate({bottom:"-="+this.$dap.height()},400),this.$nim.attr("extra_bottom_px",0))},t}();e(function(){new t})}).call(t,n(0))},,,,,function(e,t,n){"use strict";(function(e){e(function(){e.initUserFriendSelector=function(){var t,n=e("#popup_add_im_users, #add_im_users");n.attr("init")||(n.selectize({plugins:["remove_button"],maxOptions:10,labelField:"display_name",searchField:"display_name",valueField:"username",preload:!0,render:{option:function(e,t){return'<div><img src="'+e.th_url+'" alt="'+e.display_name+'"> <span>'+e.display_name+"</span></div>"}},onChange:function(){n.closest("form").find("input[id$=_im_title]").closest(".form_row").toggle(n.val()&&n.val().length>1)},load:function(i,a){e.noticeSocket?(e.noticeSocket.send({type:"im",data:{sub_type:"load_users",q:i}}),t=a):a(),n.attr("init","1")}}),e(document).on("onNoticeSocketMessage",function(n,i){if(i&&"function"==typeof t&&"im"===i.type&&i.data&&"load_users"===i.data.sub_type)if("success"===i.data.status){var a=e("#im_cdn_host").html().trim();for(var r in i.data.users){var o=i.data.users[r];o.th_url=a+o.th_url}t(i.data.users)}else t()}))},e(document).on("onNoticeSocketOpen",function(){var t=e(".page_im_new_message.im_page");t.length&&t.is(":visible")&&e.initUserFriendSelector()})})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.open=!0,this.openPanel=function(){t.open=!0,t.togglePanel()},this.closePanel=function(){t.open=!1,t.togglePanel()},this.$panel=e(".chat-column, #bModelNavigator"),this.$chat=e("#bChat"),this.$history=this.$chat.find(".history"),this.$controls=e(".stream-controls.right-panel"),this.$openButton=e(".cam-column .fs-open-panel"),this.$closeButton=e(".chat-column .fs-close-panel"),this._init()}return Object.defineProperty(t,"instance",{get:function(){return this.globalInstance=this.globalInstance||new this},enumerable:!0,configurable:!0}),t.prototype._init=function(){var t=this;e.jlNamespace.$popupBlock&&e.bongacamsPopupClose();var n=window.innerHeight;this.setSizes(n),this.$openButton.on("click.fspanel",this.openPanel),this.$closeButton.on("click.fspanel",this.closePanel),this.togglePanel(!0),e(window).on("resize.chatFullscreen",function(){t.setSizes.call(t,window.innerHeight)})},t.prototype.setSizes=function(n){var i=e(".chat-column"),a=e(".memberNavigation");this.$controls.css({bottom:"",height:""}),e("#bModelNavigator").css({height:""}),n<=t.MIN_WIDTH?(i.addClass("min"),a.addClass("min_nav")):(i.removeClass("min"),a.removeClass("min_nav"));var r=e(".chatFullscreen #bChat").height(),o=this.$chat.find(".inputContainer").height(),s=parseInt(e(".chat_history").css("margin-bottom"),10);this.$history.css("height",r-(o+s))},t.prototype._animationState=function(e){this.$panel.toggleClass("animation",!e)},t.prototype._panelState=function(t){t=!!t,e("body").toggleClass("open-panel",t),this.$panel.on("transitionend.fspanel WebkitTransitionEnd.fspanel oTransitionEnd.fspanel",function(){e("body").toggleClass("close-panel",!t)})},t.prototype.togglePanel=function(e){void 0===e&&(e=!1),this._animationState(e),this._panelState(this.open)},t.MIN_WIDTH=700,t}();t.default=n}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0}),n(359);var a=n(239),r=n(54),o=n(5),s=n(62),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player=null,t.type="hlsjs",t}return i(t,e),t.prototype.play=function(){var e=this;this.player&&this.player.destroy(),this.renditions=[],this.currentRendition="auto",window.clearTimeout(this._playTimeout),this._playDelay=this.isPlayNeedsDelay?5e3:0,this._playTimeout=window.setTimeout(function(){e.player=new Hls({debug:!1,liveSyncDuration:4,liveSyncDurationCount:void 0,liveDurationInfinity:1/0,liveMaxLatencyDuration:9,liveMaxLatencyDurationCount:void 0,liveBackBufferLength:30}),e.player.on(Hls.Events.MANIFEST_LOADED,function(t,n){var i=n.levels;i&&(e.renditions=i.filter(function(e){return e&&e.height}).map(function(e){return e.height+"p"}),o.default.setState({renditions:e.renditions,currentRendition:e.currentRendition}))}),e.player.on(Hls.Events.LEVEL_SWITCHED,function(t,n){var i=n.level;o.default.setState({currentRendition:e.player.levels[i].height+"p"})}),e.player.loadSource(e.src),e.player.attachMedia(e.videoElement),e._streamName=s.getStreamName(),e.playing=!0,e.startPlayTimer(),e.videoElement.play()},this._playDelay)},t.prototype.close=function(){e.prototype.close.call(this),this.player&&this.player.destroy()},t.prototype.destroy=function(){this.close(),this.player=null,e.prototype.destroy.call(this)},t.prototype.setRendition=function(e){if(this.player){if("auto"===e)return void(this.player.nextLevel=-1);var t=parseInt(e),n=this.player.levels;if(n)for(var i=n.length;--i>=0;)if(n[i].height===t)return void(this.player.nextLevel=i)}},Object.defineProperty(t,"available",{get:function(){var e=!1;return(r.BrowserDetect.isSafari_MacOS()||r.BrowserDetect.isSafari_IOS())&&(e=!0),r.BrowserDetect.isChrome_Android()&&!r.BrowserDetect.isChrome_MinVersion(56)&&(e=!0),r.BrowserDetect.isOldWindows()&&(e=!0),!e&&"undefined"!=typeof Hls&&Hls.isSupported()},enumerable:!0,configurable:!0}),t}(a.default);t.default=l},function(e,t,n){n(3)(n(360))},function(e,t){e.exports='"undefined"!=typeof window&&function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Hls=t():e.Hls=t()}(this,function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=31)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(6);function a(){}var n={trace:a,debug:a,log:a,warn:a,info:a,error:a},o=n;var s=i.getSelfScope();function l(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];t.forEach(function(t){o[t]=e[t]?e[t].bind(e):function(e){var t=s.console[e];return t?function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];r[0]&&(r[0]=function(e,t){return t="["+e+"] > "+t}(e,r[0])),t.apply(s.console,r)}:a}(t)})}t.enableLogs=function(e){if(!0===e||"object"==typeof e){l(e,"debug","log","info","warn","error");try{o.log()}catch(e){o=n}}else o=n},t.logger=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(6).getSelfScope().Number;t.Number=i,i.isFinite=i.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},t.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(3),n=r(1),o={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.hls=e,this.onEvent=this.onEvent.bind(this),this.handledEvents=t,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(o[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)},this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(t){i.logger.error("An internal error happened while handling event "+e+\'. Error message: "\'+t.message+\'". Here is a stacktrace:\',t),this.hls.trigger(n.default.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var r=e.buffered,i=0;i<r.length;i++)if(t>=r.start(i)&&t<=r.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,r){try{if(e){var i=e.buffered,a=[],n=void 0;for(n=0;n<i.length;n++)a.push({start:i.start(n),end:i.end(n)});return this.bufferedInfo(a,t,r)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,r){var i,a,n,o,s,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r||t.end-e.end}),s=0;s<e.length;s++){var u=l.length;if(u){var d=l[u-1].end;e[s].start-d<r?e[s].end>d&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,i=0,a=n=t;s<l.length;s++){var f=l[s].start,c=l[s].end;if(t+r>=f&&t<c)a=f,i=(n=c)-t;else if(t+r<f){o=f;break}}return{len:i,start:a,end:n,nextStart:o}},e}();t.BufferHelper=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelfScope=function(){return"undefined"==typeof window?self:window}},function(e,t,r){"use strict";(function(e){var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),n=r(1);t.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var o=function(r){function o(e){var t=r.call(this,e,n.default.BUFFER_APPENDED,n.default.FRAG_BUFFERED,n.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}return i(o,r),o.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,a.default.prototype.destroy.call(this),r.prototype.destroy.call(this)},o.prototype.getBufferedFrag=function(e,t){var r=this.fragments,i=Object.keys(r).filter(function(i){var a=r[i];if(a.body.type!==t)return!1;if(!a.buffered)return!1;var n=a.body;return n.startPTS<=e&&e<=n.endPTS});if(0===i.length)return null;var a=i.pop();return r[a].body},o.prototype.detectEvictedFragments=function(e,t){var r,i,a=this;Object.keys(this.fragments).forEach(function(n){var o=a.fragments[n];if(!0===o.buffered){var s=o.range[e];if(s){r=s.time;for(var l=0;l<r.length;l++)if(i=r[l],!1===a.isTimeBuffered(i.startPTS,i.endPTS,t)){a.removeFragment(o.body);break}}}})},o.prototype.detectPartialFragments=function(e){var t=this,r=this.getFragmentKey(e),i=this.fragments[r];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach(function(r){if(e.hasElementaryStream(r)){var a=t.timeRanges[r];i.range[r]=t.getBufferedTimes(e.startPTS,e.endPTS,a)}}))},o.prototype.getBufferedTimes=function(e,t,r){for(var i,a,n=[],o=!1,s=0;s<r.length;s++){if(i=r.start(s)-this.bufferPadding,a=r.end(s)+this.bufferPadding,e>=i&&t<=a){n.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))});break}if(e<a&&t>i)n.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))}),o=!0;else if(t<=i)break}return{time:n,partial:o}},o.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},o.prototype.getPartialFragment=function(e){var t,r,i,a=this,n=null,o=0;return Object.keys(this.fragments).forEach(function(s){var l=a.fragments[s];a.isPartial(l)&&(r=l.body.startPTS-a.bufferPadding,i=l.body.endPTS+a.bufferPadding,e>=r&&e<=i&&(t=Math.min(e-r,i-e),o<=t&&(n=l.body,o=t)))}),n},o.prototype.getState=function(e){var r=this.getFragmentKey(e),i=this.fragments[r],a=t.FragmentState.NOT_LOADED;return void 0!==i&&(a=i.buffered?!0===this.isPartial(i)?t.FragmentState.PARTIAL:t.FragmentState.OK:t.FragmentState.APPENDING),a},o.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},o.prototype.isTimeBuffered=function(e,t,r){for(var i,a,n=0;n<r.length;n++){if(i=r.start(n)-this.bufferPadding,a=r.end(n)+this.bufferPadding,e>=i&&t<=a)return!0;if(t<=i)return!1}return!1},o.prototype.onFragLoaded=function(t){var r=t.frag;e.isFinite(r.sn)&&!r.bitrateTest&&(this.fragments[this.getFragmentKey(r)]={body:r,range:Object.create(null),buffered:!1})},o.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var r=t.timeRanges[e];t.detectEvictedFragments(e,r)})},o.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},o.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},o.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},o.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},o}(a.default);t.FragmentTracker=o}).call(this,r(2).Number)},function(e,t,r){!function(t){var r=/^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/,i=/^([^\\/?#]*)(.*)$/,a=/(?:\\/|^)\\.(?=\\/)/g,n=/(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g,o={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");return a.path=o.normalizePath(a.path),o.buildURLFromParts(a)}var n=o.parseURL(t);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return r.alwaysNormalize?(n.path=o.normalizePath(n.path),o.buildURLFromParts(n)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=i.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};if(!n.netLoc&&(u.netLoc=s.netLoc,"/"!==n.path[0]))if(n.path){var d=s.path,f=d.substring(0,d.lastIndexOf("/")+1)+n.path;u.path=o.normalizePath(f)}else u.path=s.path,n.params||(u.params=s.params,n.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?o.normalizePath(n.path):n.path),o.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(n,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={search:function(e,t){for(var r=0,i=e.length-1,a=null,n=null;r<=i;){var o=t(n=e[a=(r+i)/2|0]);if(o>0)r=a+1;else{if(!(o<0))return n;i=a-1}}return null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var i=r,a=0;e.isHeader(t,r);){a+=10,a+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(a+=10),r+=a}if(a>0)return t.subarray(i,i+a)},e._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),i=0;i<r.length;i++){var a=r[i];if(e.isTimeStampFrame(a))return e._readTimeStamp(a)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),i=e._readSize(t,4);return{type:r,size:i,data:t.subarray(10,10+i)}},e.getID3Frames=function(t){for(var r=0,i=[];e.isHeader(t,r);){for(var a=e._readSize(t,r+6),n=(r+=10)+a;r+8<n;){var o=e._getFrameData(t.subarray(r)),s=e._decodeFrame(o);s&&i.push(s),r+=o.size+10}e.isFooter(t,r)&&(r+=10)}return i},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],i=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return i/=45,r&&(i+=47721858.84),Math.round(i)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data,!0),i=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:i.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var r=1,i=e._utf8ArrayToStr(t.data.subarray(r));r+=i.length+1;var a=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:i,data:a}}var n=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:n}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var r=1,i=e._utf8ArrayToStr(t.data.subarray(r));r+=i.length+1;var a=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:i,data:a}}var n=e._utf8ArrayToStr(t.data);return{key:t.type,data:n}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);for(var r,i,a,n=e.length,o="",s=0;s<n;){if(0===(r=e[s++])&&t)return o;if(0!==r&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(r);break;case 12:case 13:i=e[s++],o+=String.fromCharCode((31&r)<<6|63&i);break;case 14:i=e[s++],a=e[s++],o+=String.fromCharCode((15&r)<<12|(63&i)<<6|(63&a)<<0)}}return o},e}(),a=i._utf8ArrayToStr;t.utf8ArrayToStr=a,t.default=i},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(8),a=r(18),n=function(){function t(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return Object.defineProperty(t,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=i.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var r=this.lastByteRangeEndOffset;e[0]=r||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endProgramDateTime",{get:function(){if(!e.isFinite(this.programDateTime))return null;var t=e.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),t.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},t.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},t.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},t.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&((r=new a.default).method=e.method,r.baseuri=e.baseuri,r.reluri=e.reluri,r.iv=this.createInitializationVector(t)),r},t}();t.default=n}).call(this,r(2).Number)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(39),a=r(40),n=r(41),o=r(3),s=r(0),l=r(1),u=r(6).getSelfScope(),d=function(){function e(e,t,r){var i=(void 0===r?{}:r).removePKCS7Padding,a=void 0===i||i;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=a,a)try{var n=u.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,r,o){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new n.default),u.expandKey(t),o(u.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var d=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new a.default(d,t)),this.fastAesKey.expandKey().then(function(a){new i.default(d,r).decrypt(e,a).catch(function(i){l.onWebCryptoError(i,e,t,r,o)}).then(function(e){o(e)})}).catch(function(i){l.onWebCryptoError(i,e,t,r,o)})}},e.prototype.onWebCryptoError=function(e,t,r,i,a){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,i,a)):(s.logger.error("decrypting error : "+e.message),this.observer.trigger(l.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(0);function a(t,r,a){var n=t[r],o=t[a],s=o.startPTS;e.isFinite(s)?a>r?(n.duration=s-n.start,n.duration<0&&i.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(o.duration=n.start-s,o.duration<0&&i.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):o.start=a>r?n.start+n.duration:Math.max(n.start-o.duration,0)}function n(t,r,i,n,o,s){var l=i;if(e.isFinite(r.startPTS)){var u=Math.abs(r.startPTS-i);e.isFinite(r.deltaPTS)?r.deltaPTS=Math.max(u,r.deltaPTS):r.deltaPTS=u,l=Math.max(i,r.startPTS),i=Math.min(i,r.startPTS),n=Math.max(n,r.endPTS),o=Math.min(o,r.startDTS),s=Math.max(s,r.endDTS)}var d=i-r.start;r.start=r.startPTS=i,r.maxStartPTS=l,r.endPTS=n,r.startDTS=o,r.endDTS=s,r.duration=n-i;var f,c,h,p=r.sn;if(!t||p<t.startSN||p>t.endSN)return 0;for(f=p-t.startSN,(c=t.fragments)[f]=r,h=f;h>0;h--)a(c,h,h-1);for(h=f;h<c.length-1;h++)a(c,h,h+1);return t.PTSKnown=!0,d}t.addGroupId=function(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}},t.updatePTS=a,t.updateFragPTSDTS=n,t.mergeDetails=function(t,r){var a,o=Math.max(t.startSN,r.startSN)-r.startSN,s=Math.min(t.endSN,r.endSN)-r.startSN,l=r.startSN-t.startSN,u=t.fragments,d=r.fragments,f=0;if(r.initSegment&&t.initSegment&&(r.initSegment=t.initSegment),s<o)r.PTSKnown=!1;else{for(var c=o;c<=s;c++){var h=u[l+c],p=d[c];p&&h&&(f=h.cc-p.cc,e.isFinite(h.startPTS)&&(p.start=p.startPTS=h.startPTS,p.endPTS=h.endPTS,p.duration=h.duration,p.backtracked=h.backtracked,p.dropped=h.dropped,a=p))}if(f)for(i.logger.log("discontinuity sliding from playlist, take drift into account"),c=0;c<d.length;c++)d[c].cc+=f;if(a)n(r,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS);else if(l>=0&&l<u.length){var g=u[l].start;for(c=0;c<d.length;c++)d[c].start+=g}r.PTSKnown=t.PTSKnown}}}).call(this,r(2).Number)},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=e.apply(this,[t].concat(r))||this;return a._tickInterval=null,a._tickTimer=null,a._tickCallCount=0,a._boundTick=a.tick.bind(a),a}return i(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)},t.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(r(4).default);t.default=a},function(e,t,r){"use strict";(function(e){var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(4),o=r(3),s=r(0),l=r(17),u=r(32),d=window.performance,f={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},c={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},h=function(t){function r(e){var r=t.call(this,e,a.default.MANIFEST_LOADING,a.default.LEVEL_LOADING,a.default.AUDIO_TRACK_LOADING,a.default.SUBTITLE_TRACK_LOADING)||this;return r.loaders={},r}return i(r,t),Object.defineProperty(r,"ContextType",{get:function(){return f},enumerable:!0,configurable:!0}),Object.defineProperty(r,"LevelType",{get:function(){return c},enumerable:!0,configurable:!0}),r.canHaveQualityLevels=function(e){return e!==f.AUDIO_TRACK&&e!==f.SUBTITLE_TRACK},r.mapContextToLevelType=function(e){switch(e.type){case f.AUDIO_TRACK:return c.AUDIO;case f.SUBTITLE_TRACK:return c.SUBTITLE;default:return c.MAIN}},r.getResponseUrl=function(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r},r.prototype.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,i=t.loader,a=new(r||i)(t);return e.loader=a,this.loaders[e.type]=a,a},r.prototype.getInternalLoader=function(e){return this.loaders[e.type]},r.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},r.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},r.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},r.prototype.onManifestLoading=function(e){this.load(e.url,{type:f.MANIFEST,level:0,id:null})},r.prototype.onLevelLoading=function(e){this.load(e.url,{type:f.LEVEL,level:e.level,id:e.id})},r.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:f.AUDIO_TRACK,level:null,id:e.id})},r.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:f.SUBTITLE_TRACK,level:null,id:e.id})},r.prototype.load=function(e,t){var r=this.hls.config;s.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var i,a,n,o,l=this.getInternalLoader(t);if(l){var u=l.context;if(u&&u.url===e)return s.logger.trace("playlist request ongoing"),!1;s.logger.warn("aborting previous loader for type: "+t.type),l.abort()}switch(t.type){case f.MANIFEST:i=r.manifestLoadingMaxRetry,a=r.manifestLoadingTimeOut,n=r.manifestLoadingRetryDelay,o=r.manifestLoadingMaxRetryTimeout;break;case f.LEVEL:i=0,a=r.levelLoadingTimeOut;break;default:i=r.levelLoadingMaxRetry,a=r.levelLoadingTimeOut,n=r.levelLoadingRetryDelay,o=r.levelLoadingMaxRetryTimeout}l=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var d={timeout:a,maxRetry:i,retryDelay:n,maxRetryDelay:o},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return s.logger.debug("Calling internal loader delegate for URL: "+e),l.load(t,d,c),!0},r.prototype.loadsuccess=function(e,t,r,i){if(void 0===i&&(i=null),r.isSidxRequest)return this._handleSidxRequest(e,r),void this._handlePlaylistLoaded(e,t,r,i);this.resetInternalLoader(r.type);var a=e.data;t.tload=d.now(),0===a.indexOf("#EXTM3U")?a.indexOf("#EXTINF:")>0||a.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,r,i):this._handleMasterPlaylist(e,t,r,i):this._handleManifestParsingError(e,r,"no EXTM3U delimiter",i)},r.prototype.loaderror=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!1,e)},r.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!0)},r.prototype._handleMasterPlaylist=function(e,t,i,n){var o=this.hls,l=e.data,d=r.getResponseUrl(e,i),f=u.default.parseMasterPlaylist(l,d);if(f.length){var c=f.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),h=u.default.parseMasterPlaylistMedia(l,d,"AUDIO",c),p=u.default.parseMasterPlaylistMedia(l,d,"SUBTITLES");if(h.length){var g=!1;h.forEach(function(e){e.url||(g=!0)}),!1===g&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(s.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}o.trigger(a.default.MANIFEST_LOADED,{levels:f,audioTracks:h,subtitles:p,url:d,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,i,"no level found in manifest",n)},r.prototype._handleTrackOrLevelPlaylist=function(t,i,n,o){var s=this.hls,l=n.id,c=n.level,h=n.type,p=r.getResponseUrl(t,n),g=e.isFinite(l)?l:0,v=e.isFinite(c)?c:g,y=r.mapContextToLevelType(n),m=u.default.parseLevelPlaylist(t.data,p,v,y,g);if(m.tload=i.tload,h===f.MANIFEST){var E={url:p,details:m};s.trigger(a.default.MANIFEST_LOADED,{levels:[E],audioTracks:[],url:p,stats:i,networkDetails:o})}if(i.tparsed=d.now(),m.needSidxRanges){var _=m.initSegment.url;this.load(_,{isSidxRequest:!0,type:h,level:c,levelDetails:m,id:l,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=m,this._handlePlaylistLoaded(t,i,n,o)},r.prototype._handleSidxRequest=function(e,t){var r=l.default.parseSegmentIndex(new Uint8Array(e.data));if(r){var i=r.references,a=t.levelDetails;i.forEach(function(e,t){var r=e.info,i=a.fragments[t];0===i.byteRange.length&&(i.rawByteRange=String(1+r.end-r.start)+"@"+String(r.start))}),a.initSegment.rawByteRange=String(r.moovEndOffset)+"@0"}},r.prototype._handleManifestParsingError=function(e,t,r,i){this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:r,networkDetails:i})},r.prototype._handleNetworkError=function(e,t,r,i){var n,l;void 0===r&&(r=!1),void 0===i&&(i=null),s.logger.info("A network error occured while loading a "+e.type+"-type playlist");var u=this.getInternalLoader(e);switch(e.type){case f.MANIFEST:n=r?o.ErrorDetails.MANIFEST_LOAD_TIMEOUT:o.ErrorDetails.MANIFEST_LOAD_ERROR,l=!0;break;case f.LEVEL:n=r?o.ErrorDetails.LEVEL_LOAD_TIMEOUT:o.ErrorDetails.LEVEL_LOAD_ERROR,l=!1;break;case f.AUDIO_TRACK:n=r?o.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,l=!1;break;default:l=!1}u&&(u.abort(),this.resetInternalLoader(e.type));var d={type:o.ErrorTypes.NETWORK_ERROR,details:n,fatal:l,url:u.url,loader:u,context:e,networkDetails:t};i&&(d.response=i),this.hls.trigger(a.default.ERROR,d)},r.prototype._handlePlaylistLoaded=function(e,t,i,n){var o=i.type,s=i.level,l=i.id,u=i.levelDetails;if(u.targetduration)if(r.canHaveQualityLevels(i.type))this.hls.trigger(a.default.LEVEL_LOADED,{details:u,level:s||0,id:l||0,stats:t,networkDetails:n});else switch(o){case f.AUDIO_TRACK:this.hls.trigger(a.default.AUDIO_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:n});break;case f.SUBTITLE_TRACK:this.hls.trigger(a.default.SUBTITLE_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,i,"invalid target duration",n)},r}(n.default);t.default=h}).call(this,r(2).Number)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),n=Math.pow(2,32)-1,o=function(){function e(e,t){this.observer=e,this.remuxer=t}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,r,i,n){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t);null==r&&(r="mp4a.40.5"),null==i&&(i="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:r+","+i,initSegment:n?t:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:r,initSegment:n?t:null}),o.video&&(s.video={container:"video/mp4",codec:i,initSegment:n?t:null})),this.observer.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else r&&(this.audioCodec=r),i&&(this.videoCodec=i)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var i,a,n,o,s,l,u,d=[];if(t.data?(l=t.start,o=t.end,t=t.data):(l=0,o=t.byteLength),!r.length)return null;for(i=l;i<o;)a=e.readUint32(t,i),n=e.bin2str(t.subarray(i+4,i+8)),u=a>1?i+a:o,n===r[0]&&(1===r.length?d.push({data:t,start:i+8,end:u}):(s=e.findBox({data:t,start:i+8,end:u},r.slice(1))).length&&(d=d.concat(s))),i=u;return d},e.parseSegmentIndex=function(t){var r,i=e.findBox(t,["moov"])[0],a=i?i.end:null,n=0,o=e.findBox(t,["sidx"]);if(!o||!o[0])return null;r=[];var s=(o=o[0]).data[0];n=0===s?8:16;var l=e.readUint32(o,n);n+=4;n+=0===s?8:16,n+=2;var u=o.end+0,d=e.readUint16(o,n);n+=2;for(var f=0;f<d;f++){var c=n,h=e.readUint32(o,c);c+=4;var p=2147483647&h;if(1===(2147483648&h)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=e.readUint32(o,c);c+=4,r.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/l,start:u,end:u+p-1}}),u+=p,n=c+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:d,references:r,moovEndOffset:a}},e.parseInitSegment=function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var a=e.findBox(t,["tkhd"])[0];if(a){var n=a.data[a.start],o=0===n?12:20,s=e.readUint32(a,o),l=e.findBox(t,["mdia","mdhd"])[0];if(l){o=0===(n=l.data[l.start])?12:20;var u=e.readUint32(l,o),d=e.findBox(t,["mdia","hdlr"])[0];if(d){var f={soun:"audio",vide:"video"}[e.bin2str(d.data.subarray(d.start+8,d.start+12))];if(f){var c=e.findBox(t,["mdia","minf","stbl","stsd"]);if(c.length){c=c[0];var h=e.bin2str(c.data.subarray(c.start+12,c.start+16));i.logger.log("MP4Demuxer:"+f+":"+h+" found")}r[s]={timescale:u,type:f},r[f]={timescale:u,id:s}}}}}}),r},e.getStartDTS=function(t,r){var i,a,n;return i=e.findBox(r,["moof","traf"]),a=[].concat.apply([],i.map(function(r){return e.findBox(r,["tfhd"]).map(function(i){var a,n;return a=e.readUint32(i,4),n=t[a].timescale||9e4,e.findBox(r,["tfdt"]).map(function(t){var r,i;return r=t.data[t.start],i=e.readUint32(t,4),1===r&&(i*=Math.pow(2,32),i+=e.readUint32(t,8)),i})[0]/n})})),n=Math.min.apply(null,a),isFinite(n)?n:0},e.offsetStartDTS=function(t,r,i){e.findBox(r,["moof","traf"]).map(function(r){return e.findBox(r,["tfhd"]).map(function(a){var o=e.readUint32(a,4),s=t[o].timescale||9e4;e.findBox(r,["tfdt"]).map(function(t){var r=t.data[t.start],a=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,a-i*s);else{a*=Math.pow(2,32),a+=e.readUint32(t,8),a-=i*s,a=Math.max(a,0);var o=Math.floor(a/(n+1)),l=Math.floor(a%(n+1));e.writeUint32(t,4,o),e.writeUint32(t,8,l)}})})})},e.prototype.append=function(t,r,i,n){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,l=this.initPTS;if(void 0===l){var u=e.getStartDTS(o,t);this.initPTS=l=u-r,this.observer.trigger(a.default.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(o,t,l),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,i,n,t)},e.prototype.destroy=function(){},e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(8),a=function(){function e(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=i.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};t.isCodecType=function(e,t){var r=i[t];return!!r&&!0===r[e.slice(0,4)]},t.isCodecSupportedInMp4=function(e,t){return window.MediaSource.isTypeSupported((t||"video")+\'/mp4;codecs="\'+e+\'"\')}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(38),a=r(1),n=r(21),o=r(0),s=r(3),l=r(13),u=r(6),d=r(24),f=u.getSelfScope(),c=l.getMediaSource(),h=function(){function t(e,t){var r=this;this.hls=e,this.id=t;var l=this.observer=new d.Observer,u=e.config,h=function(t,i){(i=i||{}).frag=r.frag,i.id=r.id,e.trigger(t,i)};l.on(a.default.FRAG_DECRYPTED,h),l.on(a.default.FRAG_PARSING_INIT_SEGMENT,h),l.on(a.default.FRAG_PARSING_DATA,h),l.on(a.default.FRAG_PARSED,h),l.on(a.default.ERROR,h),l.on(a.default.FRAG_PARSING_METADATA,h),l.on(a.default.FRAG_PARSING_USERDATA,h),l.on(a.default.INIT_PTS_FOUND,h);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported(\'audio/mp4; codecs="mp3"\')},g=navigator.vendor;if(u.enableWorker&&"undefined"!=typeof Worker){o.logger.log("demuxing in webworker");var v=void 0;try{v=this.w=i(52),this.onwmsg=this.onWorkerMessage.bind(this),v.addEventListener("message",this.onwmsg),v.onerror=function(t){e.trigger(a.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},v.postMessage({cmd:"init",typeSupported:p,vendor:g,id:t,config:JSON.stringify(u)})}catch(e){o.logger.warn("Error in worker:",e),o.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),v&&f.URL.revokeObjectURL(v.objectURL),this.demuxer=new n.default(l,p,u,g),this.w=void 0}}else this.demuxer=new n.default(l,p,u,g)}return t.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,r,i,a,n,s,l,u){var d=this.w,f=e.isFinite(n.startPTS)?n.startPTS:n.start,c=n.decryptdata,h=this.frag,p=!(h&&n.cc===h.cc),g=!(h&&n.level===h.level),v=h&&n.sn===h.sn+1,y=!g&&v;if(p&&o.logger.log(this.id+":discontinuity detected"),g&&o.logger.log(this.id+":switch detected"),this.frag=n,d)d.postMessage({cmd:"demux",data:t,decryptdata:c,initSegment:r,audioCodec:i,videoCodec:a,timeOffset:f,discontinuity:p,trackSwitch:g,contiguous:y,duration:s,accurateTimeOffset:l,defaultInitPTS:u},t instanceof ArrayBuffer?[t]:[]);else{var m=this.demuxer;m&&m.push(t,c,r,i,a,f,p,g,y,s,l,u)}},t.prototype.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":f.URL.revokeObjectURL(this.w.objectURL);break;case a.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},t}();t.default=h}).call(this,r(2).Number)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(1),n=r(3),o=r(12),s=r(42),l=r(17),u=r(43),d=r(46),f=r(47),c=r(50),h=r(6),p=r(0),g=h.getSelfScope();try{i=g.performance.now.bind(g.performance)}catch(e){p.logger.debug("Unable to use Performance API on this environment"),i=g.Date.now}var v=function(){function e(e,t,r,i){this.observer=e,this.typeSupported=t,this.config=r,this.vendor=i}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,r,n,s,l,u,d,f,c,h,p){var g=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var v=this.decrypter;null==v&&(v=this.decrypter=new o.default(this.observer,this.config));var y=i();v.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var o=i();g.observer.trigger(a.default.FRAG_DECRYPTED,{stats:{tstart:y,tdecrypt:o}}),g.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),n,s,l,u,d,f,c,h,p)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),n,s,l,u,d,f,c,h,p)},e.prototype.pushDecrypted=function(e,t,r,i,o,h,p,g,v,y,m,E){var _=this.demuxer;if(!_||(p||g)&&!this.probe(e)){for(var T=this.observer,S=this.typeSupported,b=this.config,A=[{demux:u.default,remux:f.default},{demux:l.default,remux:c.default},{demux:s.default,remux:f.default},{demux:d.default,remux:f.default}],R=0,D=A.length;R<D;R++){var L=A[R],O=L.demux.probe;if(O(e)){var w=this.remuxer=new L.remux(T,b,S,this.vendor);_=new L.demux(T,w,b,S),this.probe=O;break}}if(!_)return void T.trigger(a.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=_}var I=this.remuxer;(p||g)&&(_.resetInitSegment(r,i,o,y),I.resetInitSegment()),p&&(_.resetTimeStamp(E),I.resetTimeStamp(E)),"function"==typeof _.setDecryptData&&_.setDecryptData(t),_.append(e,h,v,m)},e}();t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(3),n=r(1);function o(e,t,r,o){var s,l,u,d,f,c=navigator.userAgent.toLowerCase(),h=o,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&t[r+2])>>>6),!((l=(60&t[r+2])>>>2)>p.length-1))return d=(1&t[r+2])<<2,d|=(192&t[r+3])>>>6,i.logger.log("manifest codec:"+o+",ADTS data:type:"+s+",sampleingIndex:"+l+"["+p[l]+"Hz],channelConfig:"+d),/firefox/i.test(c)?l>=6?(s=5,f=new Array(4),u=l-3):(s=2,f=new Array(2),u=l):-1!==c.indexOf("android")?(s=2,f=new Array(2),u=l):(s=5,f=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&l>=6?u=l-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(l>=6&&1===d||/vivaldi/i.test(c))||!o&&1===d)&&(s=2,f=new Array(2)),u=l)),f[0]=s<<3,f[0]|=(14&l)>>1,f[1]|=(1&l)<<7,f[1]|=d<<3,5===s&&(f[1]|=(14&u)>>1,f[2]=(1&u)<<7,f[2]|=8,f[3]=0),{config:f,samplerate:p[l],channelCount:d,codec:"mp4a.40."+s,manifestCodec:h};e.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function d(e){return 9216e4/e}function f(e,t,r,i,a){var n,o,s=e.length;if(n=l(e,t),o=u(e,t),(o-=n)>0&&t+n+o<=s)return{headerLength:n,frameLength:o,stamp:r+i*a}}t.getAudioConfig=o,t.isHeaderPattern=s,t.getHeaderLength=l,t.getFullFrameLength=u,t.isHeader=function(e,t){return!!(t+1<e.length&&s(e,t))},t.probe=function(e,t){if(t+1<e.length&&s(e,t)){var r=l(e,t);t+5<e.length&&(r=u(e,t));var i=t+r;if(i===e.length||i+1<e.length&&s(e,i))return!0}return!1},t.initTrackConfig=function(e,t,r,a,n){if(!e.samplerate){var s=o(t,r,a,n);e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,i.logger.log("parsed codec:"+e.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}},t.getFrameDuration=d,t.parseFrameHeader=f,t.appendFrame=function(e,t,r,i,a){var n=f(t,r,i,a,d(e.samplerate));if(n){var o=n.stamp,s=n.headerLength,l=n.frameLength,u={unit:t.subarray(r+s,r+s+l),pts:o,dts:o};return e.samples.push(u),e.len+=l,{sample:u,length:l+s}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,i,a){if(!(r+24>t.length)){var n=this.parseHeader(t,r);if(n&&r+n.frameLength<=t.length){var o=i+a*(9e4*n.samplesPerFrame/n.sampleRate),s={unit:t.subarray(r,r+n.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=n.channelCount,e.samplerate=n.sampleRate,e.samples.push(s),e.len+=n.frameLength,{sample:s,length:n.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,a=e[t+1]>>1&3,n=e[t+2]>>4&15,o=e[t+2]>>2&3,s=e[t+2]>>1&1;if(1!==r&&0!==n&&15!==n&&3!==o){var l=3===r?3-a:3===a?3:4,u=1e3*i.BitratesMap[14*l+n-1],d=3===r?0:2===r?1:2,f=i.SamplingRateMap[3*d+o],c=e[t+3]>>6==3?1:2,h=i.SamplesCoefficients[r][a],p=i.BytesInSlot[a],g=8*h*p;return{sampleRate:f,channelCount:c,frameLength:parseInt(h*u/f+s,10)*p,samplesPerFrame:g}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),i=4;r&&r.frameLength&&(i=r.frameLength);var a=t+i;if(a===e.length||a+1<e.length&&this.isHeaderPattern(e,a))return!0}return!1}};t.default=i},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.emit.apply(this,[e,e].concat(t))},t}(r(51).EventEmitter);t.Observer=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={toString:function(e){for(var t="",r=e.length,i=0;i<r;i++)t+="["+e.start(i).toFixed(3)+","+e.end(i).toFixed(3)+"]";return t}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(9),a=r(0);function n(e,t){for(var r=null,i=0;i<e.length;i+=1){var a=e[i];if(a&&a.cc===t){r=a;break}}return r}function o(e,t,r){var i=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(i=!0),i}function s(e,t){var r=e.fragments,i=t.fragments;if(i.length&&r.length){var o=n(r,i[0].cc);if(o&&(!o||o.startPTS))return o;a.logger.log("No frag in previous level to align on")}else a.logger.log("No fragments to align")}function l(e,t){t.fragments.forEach(function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}),t.PTSKnown=!0}function u(e,t,r){if(o(e,r,t)){var i=s(r.details,t);i&&(a.logger.log("Adjusting PTS using last level due to CC increase within current level"),l(i.start,t))}}function d(t,r){if(r&&r.fragments.length){if(!t.hasProgramDateTime||!r.hasProgramDateTime)return;var i=r.fragments[0].programDateTime,n=(t.fragments[0].programDateTime-i)/1e3+r.fragments[0].start;e.isFinite(n)&&(a.logger.log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),l(n,t))}}t.findFirstFragWithCC=n,t.findFragWithCC=function(e,t){return i.default.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})},t.shouldAlignOnDiscontinuities=o,t.findDiscontinuousReferenceFrag=s,t.adjustPts=l,t.alignStream=function(e,t,r){u(e,r,t),!r.PTSKnown&&t&&d(r,t.details)},t.alignDiscontinuities=u,t.alignPDT=d}).call(this,r(2).Number)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(9);function a(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var i=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-i<=e?1:r.start-i>e&&r.start?-1:0}function n(e,t,r){var i=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.endProgramDateTime-i>e}t.findFragmentByPDT=function(t,r,i){if(!Array.isArray(t)||!t.length||!e.isFinite(r))return null;if(r<t[0].programDateTime)return null;if(r>=t[t.length-1].endProgramDateTime)return null;i=i||0;for(var a=0;a<t.length;++a){var o=t[a];if(n(r,i,o))return o}return null},t.findFragmentByPTS=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var o=e?t[e.sn-t[0].sn+1]:null;return o&&!a(r,n,o)?o:i.default.search(t,a.bind(null,r,n))},t.fragmentWithinToleranceTest=a,t.pdtWithinToleranceTest=n}).call(this,r(2).Number)},function(e,t,r){"use strict";(function(e){var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(15),n=r(7),o=r(5),s=r(0);t.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var l=function(r){function a(){return null!==r&&r.apply(this,arguments)||this}return i(a,r),a.prototype.doTick=function(){},a.prototype._streamEnded=function(e,t){var r=this.fragCurrent,i=this.fragmentTracker;if(!t.live&&r&&!r.backtracked&&r.sn===t.endSN&&!e.nextStart){var a=i.getState(r);return a===n.FragmentState.PARTIAL||a===n.FragmentState.OK}return!1},a.prototype.onMediaSeeking=function(){var r=this.config,i=this.media,a=this.mediaBuffer,n=this.state,l=i?i.currentTime:null,u=o.BufferHelper.bufferInfo(a||i,l,this.config.maxBufferHole);if(e.isFinite(l)&&s.logger.log("media seeking to "+l.toFixed(3)),n===t.State.FRAG_LOADING){var d=this.fragCurrent;if(0===u.len&&d){var f=r.maxFragLookUpTolerance,c=d.start-f,h=d.start+d.duration+f;l<c||l>h?(d.loader&&(s.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),d.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=t.State.IDLE):s.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else n===t.State.ENDED&&(0===u.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=t.State.IDLE);i&&(this.lastCurrentTime=l),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=l),this.tick()},a.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},a}(a.default);t.default=l}).call(this,r(2).Number)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddTrackEvent=function(e,t){var r=null;try{r=new window.Event("addtrack")}catch(e){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)},t.clearCurrentCues=function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(69),a=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function n(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new a,this.regionList=[]}function o(){this.values=Object.create(null)}function s(e,t,r,i){var a=i?e.split(i):[e];for(var n in a)if("string"==typeof a[n]){var o=a[n].split(r);if(2===o.length)t(o[0],o[1])}}o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}},integer:function(e,t){/^-?\\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=new i.default(0,0,0),u="middle"===l.align?"middle":"center";function d(e,t,r){var i=e;function a(){var t=function(e){function t(e,t,r,i){return 3600*(0|e)+60*(0|t)+(0|r)+(0|i)/1e3}var r=e.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+i);return e=e.replace(/^[^\\sa-zA-Z-]+/,""),t}function n(){e=e.replace(/^\\s+/,"")}if(n(),t.startTime=a(),n(),"--\\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by \'--\\x3e\'): "+i);e=e.substr(3),n(),t.endTime=a(),n(),function(e,t){var i=new o;s(e,function(e,t){switch(e){case"region":for(var a=r.length-1;a>=0;a--)if(r[a].id===t){i.set(e,r[a].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),o=n[0];i.integer(e,o),i.percent(e,o)&&i.set("snapToLines",!1),i.alt(e,o,["auto"]),2===n.length&&i.alt("lineAlign",n[1],["start",u,"end"]);break;case"position":n=t.split(","),i.percent(e,n[0]),2===n.length&&i.alt("positionAlign",n[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start",u,"end","left","right"])}},/:/,/\\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");var a=i.get("line","auto");"auto"===a&&-1===l.line&&(a=-1),t.line=a,t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align",u);var n=i.get("position","auto");"auto"===n&&50===l.position&&(n="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=n}(e,t)}function f(e){return e.replace(/<br(?: \\/)?>/gi,"\\n")}t.fixLineBreaks=f,n.prototype={parse:function(e){var t=this;function r(){var e=t.buffer,r=0;for(e=f(e);r<e.length&&"\\r"!==e[r]&&"\\n"!==e[r];)++r;var i=e.substr(0,r);return"\\r"===e[r]&&++r,"\\n"===e[r]&&++r,t.buffer=e.substr(r),i}function a(e){s(e,function(e,t){e},/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var n=void 0;if("INITIAL"===t.state){if(!/\\r\\n|\\n/.test(t.buffer))return this;var o=(n=r()).match(/^(ï»¿)?WEBVTT([ \\t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var l=!1;t.buffer;){if(!/\\r\\n|\\n/.test(t.buffer))return this;switch(l?l=!1:n=r(),t.state){case"HEADER":/:/.test(n)?a(n):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \\t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new i.default(0,0,""),t.state="CUE",-1===n.indexOf("--\\x3e")){t.cue.id=n;continue}case"CUE":try{d(n,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var u=-1!==n.indexOf("--\\x3e");if(!n||u&&(l=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\\n\\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.default=n},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(8),n=r(3),o=r(16),s=r(35),l=r(36),u=r(7),d=r(37),f=r(55),c=r(56),h=r(57),p=r(0),g=r(58),v=r(1),y=function(e){function t(r){void 0===r&&(r={});var i=e.call(this)||this,a=t.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don\'t mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var n in a)n in r||(r[n]=a[n]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error(\'Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"\');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error(\'Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"\');p.enableLogs(r.debug),i.config=r,i._autoLevelCapping=-1;var h=i.abrController=new r.abrController(i),g=new r.bufferController(i),v=new r.capLevelController(i),y=new r.fpsController(i),m=new o.default(i),E=new s.default(i),_=new l.default(i),T=new c.default(i),S=i.levelController=new f.default(i),b=new u.FragmentTracker(i),A=[S,i.streamController=new d.default(i,b)],R=r.audioStreamController;R&&A.push(new R(i,b)),i.networkControllers=A;var D=[m,E,_,h,g,v,y,T,b];if(R=r.audioTrackController){var L=new R(i);i.audioTrackController=L,D.push(L)}if(R=r.subtitleTrackController){var O=new R(i);i.subtitleTrackController=O,D.push(O)}if(R=r.emeController){var w=new R(i);i.emeController=w,D.push(w)}return(R=r.subtitleStreamController)&&D.push(new R(i,b)),(R=r.timelineController)&&D.push(new R(i)),i.coreComponents=D,i}return i(t,e),Object.defineProperty(t,"version",{get:function(){return"0.12.2-a1df93a"},enumerable:!0,configurable:!0}),t.isSupported=function(){return h.isSupported()},Object.defineProperty(t,"Events",{get:function(){return v.default},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorTypes",{get:function(){return n.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorDetails",{get:function(){return n.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DefaultConfig",{get:function(){return t.defaultConfig?t.defaultConfig:g.hlsDefaultConfig},set:function(e){t.defaultConfig=e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){p.logger.log("destroy"),this.trigger(v.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(e){p.logger.log("attachMedia"),this.media=e,this.trigger(v.default.MEDIA_ATTACHING,{media:e})},t.prototype.detachMedia=function(){p.logger.log("detachMedia"),this.trigger(v.default.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(e){e=a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),p.logger.log("loadSource:"+e),this.url=e,this.trigger(v.default.MANIFEST_LOADING,{url:e})},t.prototype.startLoad=function(e){void 0===e&&(e=-1),p.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},t.prototype.stopLoad=function(){p.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},t.prototype.swapAudioCodec=function(){p.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){p.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Object.defineProperty(t.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(e){p.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(e){p.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(e){p.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){p.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(e){p.logger.log("set startLevel:"+e);-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(e){p.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minAutoLevel",{get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,i=0;i<r;i++){if((e[i].realBitrate?Math.max(e[i].realBitrate,e[i].bitrate):e[i].bitrate)>t)return i}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxAutoLevel",{get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTracks",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTrack",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleDisplay",{get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)},enumerable:!0,configurable:!0}),t}(r(24).Observer);t.default=y},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(8),a=r(11),n=r(33),o=r(18),s=r(34),l=r(0),u=r(19),d=/#EXT-X-STREAM-INF:([^\\n\\r]*)[\\r\\n]+([^\\r\\n]+)/g,f=/#EXT-X-MEDIA:(.*)/g,c=new RegExp([/#EXTINF:\\s*(\\d*(?:\\.\\d+)?)(?:,(.*)\\s+)?/.source,/|(?!#)([\\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),h=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\\d+))|(?:#EXT-X-(TARGETDURATION): *(\\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\\r?\\n?/,p=/\\.(mp4|m4s|m4v|m4a)$/i,g=function(){function t(){}return t.findGroup=function(e,t){if(!e)return null;for(var r=null,i=0;i<e.length;i++){var a=e[i];a.id===t&&(r=a)}return r},t.convertAVC1ToAVCOTI=function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},t.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,r){var i,a=[];function n(e,t){["video","audio"].forEach(function(r){var i=e.filter(function(e){return u.isCodecType(e,r)});if(i.length){var a=i.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[r+"Codec"]=a.length>0?a[0]:i[0],e=e.filter(function(e){return-1===i.indexOf(e)})}}),t.unknownCodecs=e}for(d.lastIndex=0;null!=(i=d.exec(e));){var o={},l=o.attrs=new s.default(i[1]);o.url=t.resolve(i[2],r);var f=l.decimalResolution("RESOLUTION");f&&(o.width=f.width,o.height=f.height),o.bitrate=l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),o.name=l.NAME,n([].concat((l.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=t.convertAVC1ToAVCOTI(o.videoCodec)),a.push(o)}return a},t.parseMasterPlaylistMedia=function(e,r,i,a){var n;void 0===a&&(a=[]);var o=[],l=0;for(f.lastIndex=0;null!==(n=f.exec(e));){var u={},d=new s.default(n[1]);if(d.TYPE===i){if(u.groupId=d["GROUP-ID"],u.name=d.NAME,u.type=i,u.default="YES"===d.DEFAULT,u.autoselect="YES"===d.AUTOSELECT,u.forced="YES"===d.FORCED,d.URI&&(u.url=t.resolve(d.URI,r)),u.lang=d.LANGUAGE,u.name||(u.name=u.lang),a.length){var c=t.findGroup(a,u.groupId);u.audioCodec=c?c.codec:a[0].codec}u.id=l++,o.push(u)}}return o},t.parseLevelPlaylist=function(t,r,i,u,d){var f,g,y=0,m=0,E=new n.default(r),_=new o.default,T=0,S=null,b=new a.default,A=null;for(c.lastIndex=0;null!==(f=c.exec(t));){var R=f[1];if(R){b.duration=parseFloat(R);var D=(" "+f[2]).slice(1);b.title=D||null,b.tagList.push(D?["INF",R,D]:["INF",R])}else if(f[3]){if(e.isFinite(b.duration)){var L=y++;b.type=u,b.start=m,b.levelkey=_,b.sn=L,b.level=i,b.cc=T,b.urlId=d,b.baseurl=r,b.relurl=(" "+f[3]).slice(1),v(b,S),E.fragments.push(b),S=b,m+=b.duration,b=new a.default}}else if(f[4]){if(b.rawByteRange=(" "+f[4]).slice(1),S){var O=S.byteRangeEndOffset;O&&(b.lastByteRangeEndOffset=O)}}else if(f[5])b.rawProgramDateTime=(" "+f[5]).slice(1),b.tagList.push(["PROGRAM-DATE-TIME",b.rawProgramDateTime]),null===A&&(A=E.fragments.length);else{for(f=f[0].match(h),g=1;g<f.length&&void 0===f[g];g++);var w=(" "+f[g+1]).slice(1),I=(" "+f[g+2]).slice(1);switch(f[g]){case"#":b.tagList.push(I?[w,I]:[w]);break;case"PLAYLIST-TYPE":E.type=w.toUpperCase();break;case"MEDIA-SEQUENCE":y=E.startSN=parseInt(w);break;case"TARGETDURATION":E.targetduration=parseFloat(w);break;case"VERSION":E.version=parseInt(w);break;case"EXTM3U":break;case"ENDLIST":E.live=!1;break;case"DIS":T++,b.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":T=parseInt(w);break;case"KEY":var P=w,k=new s.default(P),C=k.enumeratedString("METHOD"),F=k.URI,x=k.hexadecimalInteger("IV");C&&(_=new o.default,F&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(C)>=0&&(_.method=C,_.baseuri=r,_.reluri=F,_.key=null,_.iv=x));break;case"START":var M=w,N=new s.default(M).decimalFloatingPoint("TIME-OFFSET");e.isFinite(N)&&(E.startTimeOffset=N);break;case"MAP":var U=new s.default(w);b.relurl=U.URI,b.rawByteRange=U.BYTERANGE,b.baseurl=r,b.level=i,b.type=u,b.sn="initSegment",E.initSegment=b,(b=new a.default).rawProgramDateTime=E.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+f)}}}return(b=S)&&!b.relurl&&(E.fragments.pop(),m-=b.duration),E.totalduration=m,E.averagetargetduration=m/E.fragments.length,E.endSN=y-1,E.startCC=E.fragments[0]?E.fragments[0].cc:0,E.endCC=T,!E.initSegment&&E.fragments.length&&E.fragments.every(function(e){return p.test(e.relurl)})&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(b=new a.default).relurl=E.fragments[0].relurl,b.baseurl=r,b.level=i,b.type=u,b.sn="initSegment",E.initSegment=b,E.needSidxRanges=!0),A&&function(e,t){for(var r=e[t],i=t-1;i>=0;i--){var a=e[i];a.programDateTime=r.programDateTime-1e3*a.duration,r=a}}(E.fragments,A),E},t}();function v(t,r){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):r&&r.programDateTime&&(t.programDateTime=r.endProgramDateTime),e.isFinite(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}t.default=g}).call(this,r(2).Number)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return Object.defineProperty(t.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!e.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),t}();t.default=r}).call(this,r(2).Number)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=/^(\\d+)x(\\d+)$/,i=/\\s*(.+?)\\s*=((?:\\".*?\\")|.*?)(?:,|$)/g,a=function(){function t(e){for(var r in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&(this[r]=e[r])}return t.prototype.decimalInteger=function(t){var r=parseInt(this[t],10);return r>e.MAX_SAFE_INTEGER?1/0:r},t.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(2*i,2*i+2),16);return r}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var r=parseInt(this[t],16);return r>e.MAX_SAFE_INTEGER?1/0:r},t.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.prototype.enumeratedString=function(e){return this[e]},t.prototype.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},t.parseAttrList=function(e){var t,r={};for(i.lastIndex=0;null!==(t=i.exec(e));){var a=t[2];0===a.indexOf(\'"\')&&a.lastIndexOf(\'"\')===a.length-1&&(a=a.slice(1,-1)),r[t[1]]=a}return r},t}();t.default=a}).call(this,r(2).Number)},function(e,t,r){"use strict";(function(e){var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(4),o=r(3),s=r(0),l=function(t){function r(e){var r=t.call(this,e,a.default.FRAG_LOADING)||this;return r.loaders={},r}return i(r,t),r.prototype.destroy=function(){var e=this.loaders;for(var r in e){var i=e[r];i&&i.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.prototype.onFragLoading=function(t){var r=t.frag,i=r.type,a=this.loaders,n=this.hls.config,o=n.fLoader,l=n.loader;r.loaded=0;var u,d,f,c=a[i];c&&(s.logger.warn("abort previous fragment loader for type: "+i),c.abort()),c=a[i]=r.loader=n.fLoader?new o(n):new l(n),u={url:r.url,frag:r,responseType:"arraybuffer",progressData:!1};var h=r.byteRangeStartOffset,p=r.byteRangeEndOffset;e.isFinite(h)&&e.isFinite(p)&&(u.rangeStart=h,u.rangeEnd=p),d={timeout:n.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:n.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},c.load(u,d,f)},r.prototype.loadsuccess=function(e,t,r,i){void 0===i&&(i=null);var n=e.data,o=r.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(a.default.FRAG_LOADED,{payload:n,frag:o,stats:t,networkDetails:i})},r.prototype.loaderror=function(e,t,r){void 0===r&&(r=null);var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[i.type]=void 0,this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},r.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null);var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[i.type]=void 0,this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},r.prototype.loadprogress=function(e,t,r,i){void 0===i&&(i=null);var n=t.frag;n.loaded=e.loaded,this.hls.trigger(a.default.FRAG_LOAD_PROGRESS,{frag:n,stats:e,networkDetails:i})},r}(n.default);t.default=l}).call(this,r(2).Number)},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(4),o=r(3),s=r(0),l=function(e){function t(t){var r=e.call(this,t,a.default.KEY_LOADING)||this;return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return i(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},n.default.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,r=t.type,i=this.loaders[r],n=t.decryptdata,o=n.uri;if(o!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;i&&(s.logger.warn("abort previous key loader for type:"+r),i.abort()),t.loader=this.loaders[r]=new l.loader(l),this.decrypturl=o,this.decryptkey=null;var u,d,f;u={url:o,frag:t,responseType:"arraybuffer"},d={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(u,d,f)}else this.decryptkey&&(n.key=this.decryptkey,this.hls.trigger(a.default.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(a.default.KEY_LOADED,{frag:i})},t.prototype.loaderror=function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},t.prototype.loadtimeout=function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(a.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},t}(n.default);t.default=l},function(e,t,r){"use strict";(function(e){var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(9),n=r(5),o=r(20),s=r(1),l=r(7),u=r(11),d=r(16),f=r(14),c=r(25),h=r(3),p=r(0),g=r(26),v=r(27),y=r(54),m=r(28),E=function(t){function r(e,r){var i=t.call(this,e,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.MANIFEST_LOADING,s.default.MANIFEST_PARSED,s.default.LEVEL_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_LOAD_EMERGENCY_ABORTED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_SWITCHED,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED)||this;return i.fragmentTracker=r,i.config=e.config,i.audioCodecSwap=!1,i._state=m.State.STOPPED,i.stallReported=!1,i.gapController=null,i}return i(r,t),r.prototype.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.prototype.onHandlerDestroyed=function(){this.state=m.State.STOPPED,this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},r.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=r.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}t>0&&-1===e&&(p.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=m.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=m.State.STOPPED},r.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=m.State.STOPPED,this.forceStartLoad=!1},r.prototype.doTick=function(){switch(this.state){case m.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case m.State.IDLE:this._doTickIdle();break;case m.State.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=m.State.IDLE);break;case m.State.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(p.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=m.State.IDLE);break;case m.State.ERROR:case m.State.STOPPED:case m.State.FRAG_LOADING:case m.State.PARSING:case m.State.PARSED:case m.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},r.prototype._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch)){var i;i=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var a=e.nextLoadLevel,o=this.levels[a];if(o){var l,u=o.bitrate;l=u?Math.max(8*t.maxBufferSize/u,t.maxBufferLength):t.maxBufferLength,l=Math.min(l,t.maxMaxBufferLength);var d=n.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,t.maxBufferHole),f=d.len;if(!(f>=l)){p.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+l.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=a;var c=o.details;if(!c||c.live&&this.levelLastLoaded!==a)this.state=m.State.WAITING_LEVEL;else{if(this._streamEnded(d,c)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(s.default.BUFFER_EOS,h),void(this.state=m.State.ENDED)}this._fetchPayloadOrEos(i,d,c)}}}}},r.prototype._fetchPayloadOrEos=function(e,t,r){var i=this.fragPrevious,a=this.level,n=r.fragments,o=n.length;if(0!==o){var s,l=n[0].start,u=n[o-1].start+n[o-1].duration,d=t.end;if(r.initSegment&&!r.initSegment.data)s=r.initSegment;else if(r.live){var f=this.config.initialLiveManifestSize;if(o<f)return void p.logger.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+f);if(null===(s=this._ensureFragmentAtLivePoint(r,d,l,u,i,n,o)))return}else d<l&&(s=n[0]);s||(s=this._findFragment(l,i,o,n,d,u,r)),s&&(s.encrypted?(p.logger.log("Loading key for "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+a),this._loadKey(s)):(p.logger.log("Loading "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+a+", currentTime:"+e.toFixed(3)+",bufferEnd:"+d.toFixed(3)),this._loadFragment(s)))}},r.prototype._ensureFragmentAtLivePoint=function(e,t,r,i,n,o,s){var l,u=this.hls.config,d=this.media,f=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-u.maxFragLookUpTolerance,i-f)){var c=this.liveSyncPosition=this.computeLivePosition(r,e);p.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+c.toFixed(3)),t=c,d&&d.readyState&&d.duration>c&&(d.currentTime=c),this.nextLoadPosition=c}if(e.PTSKnown&&t>i&&d&&d.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(n)if(e.hasProgramDateTime)p.logger.log("live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),l=v.findFragmentByPDT(o,n.endProgramDateTime,u.maxFragLookUpTolerance);else{var h=n.sn+1;if(h>=e.startSN&&h<=e.endSN){var g=o[h-e.startSN];n.cc===g.cc&&(l=g,p.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=a.default.search(o,function(e){return n.cc-e.cc}))&&p.logger.log("live playlist, switching playlist, load frag with same CC: "+l.sn)}l||(l=o[Math.min(s-1,Math.round(s/2))],p.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l},r.prototype._findFragment=function(e,t,r,i,a,n,o){var s,l=this.hls.config;if(a<n){var u=a>n-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;s=v.findFragmentByPTS(t,i,a,u)}else s=i[r-1];if(s){var d=s.sn-o.startSN,f=t&&s.level===t.level,c=i[d-1],h=i[d+1];if(t&&s.sn===t.sn)if(f&&!s.backtracked)if(s.sn<o.endSN){var g=t.deltaPTS;g&&g>l.maxBufferHole&&t.dropped&&d?(s=c,p.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=h,p.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(h&&h.backtracked?(p.logger.warn("Already backtracked from fragment "+h.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+h.sn),s=h):(p.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,c?(s=c).backtracked=!0:d&&(s=null)))}return s},r.prototype._loadKey=function(e){this.state=m.State.KEY_LOADING,this.hls.trigger(s.default.KEY_LOADING,{frag:e})},r.prototype._loadFragment=function(t){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,e.isFinite(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||r===l.FragmentState.NOT_LOADED||r===l.FragmentState.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(s.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new o.default(this.hls,"main")),this.state=m.State.FRAG_LOADING):r===l.FragmentState.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},Object.defineProperty(r.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,p.logger.log("main stream:"+t+"->"+e),this.hls.trigger(s.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},enumerable:!0,configurable:!0}),r.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,d.default.LevelType.MAIN)},Object.defineProperty(r.prototype,"currentLevel",{get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nextBufferedFrag",{get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null},enumerable:!0,configurable:!0}),r.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},Object.defineProperty(r.prototype,"nextLevel",{get:function(){var e=this.nextBufferedFrag;return e?e.level:-1},enumerable:!0,configurable:!0}),r.prototype._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),n.BufferHelper.isBuffered(r,t)?e=this.getBufferedFrag(t):n.BufferHelper.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var i=e;if(i!==this.fragPlaying){this.hls.trigger(s.default.FRAG_CHANGED,{frag:i});var a=i.level;this.fragPlaying&&this.fragPlaying.level===a||this.hls.trigger(s.default.LEVEL_SWITCHED,{level:a}),this.fragPlaying=i}}},r.prototype.immediateLevelSwitch=function(){if(p.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,r=void 0;t?(r=t.paused,t.pause()):r=!0,this.previouslyPaused=r}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)},r.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,n.BufferHelper.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},r.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var r,i=void 0,a=void 0;if((r=this.getBufferedFrag(t.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),t.paused)i=0;else{var n=this.hls.nextLoadLevel,o=this.levels[n],s=this.fragLastKbps;i=s&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*s)+1:0}if((a=this.getBufferedFrag(t.currentTime+i))&&(a=this.followingBufferedFrag(a))){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(a.maxStartPTS,e.POSITIVE_INFINITY)}}},r.prototype.flushMainBuffer=function(e,t){this.state=m.State.BUFFER_FLUSHING;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(s.default.BUFFER_FLUSHING,r)},r.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new y.default(r,t,this.fragmentTracker,this.hls)},r.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},r.prototype.onMediaSeeked=function(){var t=this.media,r=t?t.currentTime:void 0;e.isFinite(r)&&p.logger.log("media seeked to "+r.toFixed(3)),this.tick()},r.prototype.onManifestLoading=function(){p.logger.log("trigger BUFFER_RESET"),this.hls.trigger(s.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},r.prototype.onManifestParsed=function(e){var t,r=!1,i=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=r&&i,this.audioCodecSwitch&&p.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var a=this.config;(a.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(a.startPosition)},r.prototype.onLevelLoaded=function(t){var r=t.details,i=t.level,a=this.levels[this.levelLastLoaded],n=this.levels[i],o=r.totalduration,l=0;if(p.logger.log("level "+i+" loaded ["+r.startSN+","+r.endSN+"],duration:"+o),r.live){var u=n.details;u&&r.fragments.length>0?(f.mergeDetails(u,r),l=r.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(l,u),r.PTSKnown&&e.isFinite(l)?p.logger.log("live playlist sliding:"+l.toFixed(3)):(p.logger.log("live playlist - outdated PTS, unknown sliding"),g.alignStream(this.fragPrevious,a,r))):(p.logger.log("live playlist - first load, unknown sliding"),r.PTSKnown=!1,g.alignStream(this.fragPrevious,a,r))}else r.PTSKnown=!1;if(n.details=r,this.levelLastLoaded=i,this.hls.trigger(s.default.LEVEL_UPDATED,{details:r,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var d=r.startTimeOffset;e.isFinite(d)?(d<0&&(p.logger.log("negative start time offset "+d+", count from end of last fragment"),d=l+o+d),p.logger.log("start time offset found in playlist, adjust startPosition to "+d),this.startPosition=d):r.live?(this.startPosition=this.computeLivePosition(l,r),p.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===m.State.WAITING_LEVEL&&(this.state=m.State.IDLE),this.tick()},r.prototype.onKeyLoaded=function(){this.state===m.State.KEY_LOADING&&(this.state=m.State.IDLE,this.tick())},r.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=this.hls,i=this.levels,a=this.media,n=e.frag;if(this.state===m.State.FRAG_LOADING&&t&&"main"===n.type&&n.level===t.level&&n.sn===t.sn){var l=e.stats,u=i[t.level],d=u.details;if(this.bitrateTest=!1,this.stats=l,p.logger.log("Loaded "+t.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+t.level),n.bitrateTest&&r.nextLoadLevel)this.state=m.State.IDLE,this.startFragRequested=!1,l.tparsed=l.tbuffered=window.performance.now(),r.trigger(s.default.FRAG_BUFFERED,{stats:l,frag:t,id:"main"}),this.tick();else if("initSegment"===n.sn)this.state=m.State.IDLE,l.tparsed=l.tbuffered=window.performance.now(),d.initSegment.data=e.payload,r.trigger(s.default.FRAG_BUFFERED,{stats:l,frag:t,id:"main"}),this.tick();else{p.logger.log("Parsing "+t.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+t.level+", cc "+t.cc),this.state=m.State.PARSING,this.pendingBuffering=!0,this.appended=!1,n.bitrateTest&&(n.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:n}));var f=!(a&&a.seeking)&&(d.PTSKnown||!d.live),c=d.initSegment?d.initSegment.data:[],h=this._getAudioCodec(u);(this.demuxer=this.demuxer||new o.default(this.hls,"main")).push(e.payload,c,h,u.videoCodec,t,d.totalduration,f)}}this.fragLoadError=0},r.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===m.State.PARSING){var i=e.tracks,a=void 0,n=void 0;if(i.audio&&this.altAudio&&delete i.audio,n=i.audio){var o=this.levels[this.level].audioCodec,l=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==n.metadata.channelCount&&-1===l.indexOf("firefox")&&(o="mp4a.40.5"),-1!==l.indexOf("android")&&"audio/mpeg"!==n.container&&(o="mp4a.40.2",p.logger.log("Android: force audio codec to "+o)),n.levelCodec=o,n.id=e.id}for(a in(n=i.video)&&(n.levelCodec=this.levels[this.level].videoCodec,n.id=e.id),this.hls.trigger(s.default.BUFFER_CODECS,i),i){n=i[a],p.logger.log("main track:"+a+",container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var u=n.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,{type:a,data:u,parent:"main",content:"initSegment"}))}this.tick()}},r.prototype.onFragParsingData=function(t){var r=this,i=this.fragCurrent,a=t.frag;if(i&&"main"===t.id&&a.sn===i.sn&&a.level===i.level&&("audio"!==t.type||!this.altAudio)&&this.state===m.State.PARSING){var n=this.levels[this.level],o=i;if(e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),!0===t.hasAudio&&o.addElementaryStream(u.default.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&o.addElementaryStream(u.default.ElementaryStreamTypes.VIDEO),p.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)p.logger.warn("Already backtracked on this fragment, appending with the gap",o.sn);else{var l=n.details;if(!l||o.sn!==l.startSN)return p.logger.warn("missing video frame(s), backtracking fragment",o.sn),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=m.State.IDLE,this.fragPrevious=o,void this.tick();p.logger.warn("missing video frame(s) on first frag, appending with gap",o.sn)}else o.backtracked=!1;var d=f.updateFragPTSDTS(n.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),c=this.hls;c.trigger(s.default.LEVEL_PTS_UPDATED,{details:n.details,level:this.level,drift:d,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(e){e&&e.length&&r.state===m.State.PARSING&&(r.appended=!0,r.pendingBuffering=!0,c.trigger(s.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))}),this.tick()}},r.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===m.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=m.State.PARSED,this._checkAppendedParsed())},r.prototype.onAudioTrackSwitching=function(t){var r=!!t.url,i=t.id;if(!r){if(this.mediaBuffer!==this.media){p.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;a.loader&&(p.logger.log("switching to main audio track, cancel main fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=m.State.IDLE}var n=this.hls;n.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),n.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},r.prototype.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(p.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},r.prototype.onBufferCreated=function(e){var t,r,i=e.tracks,a=!1;for(var n in i){var o=i[n];"main"===o.id?(r=n,t=o,"video"===n&&(this.videoBuffer=i[n].buffer)):a=!0}a&&t?(p.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},r.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==m.State.PARSING&&t!==m.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},r.prototype._checkAppendedParsed=function(){if(!(this.state!==m.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;p.logger.log("main buffered : "+c.default.toString(t.buffered)),this.fragPrevious=e;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(s.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=m.State.IDLE}this.tick()}},r.prototype.onError=function(t){var r=t.frag||this.fragCurrent;if(!r||"main"===r.type){var i=!!this.media&&n.BufferHelper.isBuffered(this.media,this.media.currentTime)&&n.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var a=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);p.logger.warn("mediaController: frag loading failed, retry in "+a+" ms"),this.retryDate=window.performance.now()+a,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=m.State.FRAG_LOADING_WAITING_RETRY}else p.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=m.State.ERROR;break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==m.State.ERROR&&(t.fatal?(this.state=m.State.ERROR,p.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==m.State.WAITING_LEVEL||(this.state=m.State.IDLE));break;case h.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==m.State.PARSING&&this.state!==m.State.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=m.State.IDLE):(p.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)))}}},r.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,p.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},r.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},r.prototype.onFragLoadEmergencyAborted=function(){this.state=m.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},r.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(u.default.ElementaryStreamTypes.VIDEO,e.buffered),this.state=m.State.IDLE,this.fragPrevious=null},r.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.prototype.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},r.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,r=e.seeking?t:this.startPosition;t!==r&&(p.logger.log("target start position not buffered, seek to buffered.start(0) "+r+" from current time "+t+" "),e.currentTime=r)},r.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(p.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},Object.defineProperty(r.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e},enumerable:!0,configurable:!0}),r}(m.default);t.default=E}).call(this,r(2).Number)},function(e,t,r){function i(e){var t={};function r(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var i=r(r.s=ENTRY_MODULE);return i.default||i}var a="[\\\\.|\\\\-|\\\\+|\\\\w|/|@]+",n="\\\\((/\\\\*.*?\\\\*/)?s?.*?("+a+").*?\\\\)";function o(e){return(e+"").replace(/[.?*+^$[\\]\\\\(){}|-]/g,"\\\\$&")}function s(e){return!isNaN(1*e)}function l(e,t,i){var l={};l[i]=[];var u=t.toString(),d=u.match(/^function\\s?\\(\\w+,\\s*\\w+,\\s*(\\w+)\\)/);if(!d)return l;for(var f,c=d[1],h=new RegExp("(\\\\\\\\n|\\\\W)"+o(c)+n,"g");f=h.exec(u);)"dll-reference"!==f[3]&&l[i].push(f[3]);for(h=new RegExp("\\\\("+o(c)+\'\\\\("(dll-reference\\\\s(\'+a+\'))"\\\\)\\\\)\'+n,"g");f=h.exec(u);)e[f[2]]||(l[i].push(f[1]),e[f[2]]=r(f[1]).m),l[f[2]]=l[f[2]]||[],l[f[2]].push(f[4]);for(var p=Object.keys(l),g=0;g<p.length;g++)for(var v=0;v<l[p[g]].length;v++)s(l[p[g]][v])&&(l[p[g]][v]=1*l[p[g]][v]);return l}function u(e){return Object.keys(e).reduce(function(t,r){return t||e[r].length>0},!1)}e.exports=function(e,t){t=t||{};var a={main:r.m},n=t.all?{main:Object.keys(a.main)}:function(e,t){for(var r={main:[t]},i={main:[]},a={main:{}};u(r);)for(var n=Object.keys(r),o=0;o<n.length;o++){var s=n[o],d=r[s].pop();if(a[s]=a[s]||{},!a[s][d]&&e[s][d]){a[s][d]=!0,i[s]=i[s]||[],i[s].push(d);for(var f=l(e,e[s][d],s),c=Object.keys(f),h=0;h<c.length;h++)r[c[h]]=r[c[h]]||[],r[c[h]]=r[c[h]].concat(f[c[h]])}}return i}(a,e),o="";Object.keys(n).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;n[e][t];)t++;n[e].push(t),a[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+e+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+n[e].map(function(t){return JSON.stringify(t)+": "+a[e][t].toString()}).join(",")+"});\\n"}),o=o+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+n.main.map(function(e){return JSON.stringify(e)+": "+a.main[e].toString()}).join(",")+"}))(self);";var s=new window.Blob([o],{type:"text/javascript"});if(t.bare)return s;var d=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(s),f=new window.Worker(d);return f.objectURL=d,f}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}();t.default=i},function(e,t,r){"use strict";function i(e){var t=e.byteLength,r=t&&new DataView(e).getUint8(t-1);return r?e.slice(0,t-r):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removePadding=i;var a=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),i=0;i<4;i++)r[i]=t.getUint32(4*i);return r},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,i=r[0],a=r[1],n=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],d=s[2],f=s[3],c=new Uint32Array(256),h=0,p=0,g=0;for(g=0;g<256;g++)c[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,e[h]=v,t[v]=h;var y=c[h],m=c[y],E=c[m],_=257*c[v]^16843008*v;i[h]=_<<24|_>>>8,a[h]=_<<16|_>>>16,n[h]=_<<8|_>>>24,o[h]=_,_=16843009*E^65537*m^257*y^16843008*h,l[v]=_<<24|_>>>8,u[v]=_<<16|_>>>16,d[v]=_<<8|_>>>24,f[v]=_,h?(h=y^c[c[c[E^y]]],p^=c[c[p]]):h=p=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,i=0;i<t.length&&r;)r=t[i]===this.key[i],i++;if(!r){this.key=t;var a=this.keySize=t.length;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size="+a);var n,o,s,l,u=this.ksRows=4*(a+6+1),d=this.keySchedule=new Uint32Array(u),f=this.invKeySchedule=new Uint32Array(u),c=this.sBox,h=this.rcon,p=this.invSubMix,g=p[0],v=p[1],y=p[2],m=p[3];for(n=0;n<u;n++)n<a?s=d[n]=t[n]:(l=s,n%a==0?(l=c[(l=l<<8|l>>>24)>>>24]<<24|c[l>>>16&255]<<16|c[l>>>8&255]<<8|c[255&l],l^=h[n/a|0]<<24):a>6&&n%a==4&&(l=c[l>>>24]<<24|c[l>>>16&255]<<16|c[l>>>8&255]<<8|c[255&l]),d[n]=s=(d[n-a]^l)>>>0);for(o=0;o<u;o++)n=u-o,l=3&o?d[n]:d[n-4],f[o]=o<4||n<=4?l:g[c[l>>>24]]^v[c[l>>>16&255]]^y[c[l>>>8&255]]^m[c[255&l]],f[o]=f[o]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,r,a){for(var n,o,s,l,u,d,f,c,h,p,g,v,y,m,E=this.keySize+6,_=this.invKeySchedule,T=this.invSBox,S=this.invSubMix,b=S[0],A=S[1],R=S[2],D=S[3],L=this.uint8ArrayToUint32Array_(r),O=L[0],w=L[1],I=L[2],P=L[3],k=new Int32Array(e),C=new Int32Array(k.length),F=this.networkToHostOrderSwap;t<k.length;){for(h=F(k[t]),p=F(k[t+1]),g=F(k[t+2]),v=F(k[t+3]),u=h^_[0],d=v^_[1],f=g^_[2],c=p^_[3],y=4,m=1;m<E;m++)n=b[u>>>24]^A[d>>16&255]^R[f>>8&255]^D[255&c]^_[y],o=b[d>>>24]^A[f>>16&255]^R[c>>8&255]^D[255&u]^_[y+1],s=b[f>>>24]^A[c>>16&255]^R[u>>8&255]^D[255&d]^_[y+2],l=b[c>>>24]^A[u>>16&255]^R[d>>8&255]^D[255&f]^_[y+3],u=n,d=o,f=s,c=l,y+=4;n=T[u>>>24]<<24^T[d>>16&255]<<16^T[f>>8&255]<<8^T[255&c]^_[y],o=T[d>>>24]<<24^T[f>>16&255]<<16^T[c>>8&255]<<8^T[255&u]^_[y+1],s=T[f>>>24]<<24^T[c>>16&255]<<16^T[u>>8&255]<<8^T[255&d]^_[y+2],l=T[c>>>24]<<24^T[u>>16&255]<<16^T[d>>8&255]<<8^T[255&f]^_[y+3],y+=3,C[t]=F(n^O),C[t+1]=F(l^w),C[t+2]=F(s^I),C[t+3]=F(o^P),O=h,w=p,I=g,P=v,t+=4}return a?i(C.buffer):C.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.default=a},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(22),a=r(0),n=r(10),o=function(){function t(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return t.prototype.resetInitSegment=function(e,t,r,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(e){if(!e)return!1;for(var t=(n.default.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(i.probe(e,t))return a.logger.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,r,o,s){for(var l=this._audioTrack,u=n.default.getID3Data(t,0)||[],d=n.default.getTimeStamp(u),f=e.isFinite(d)?90*d:9e4*r,c=0,h=f,p=t.length,g=u.length,v=[{pts:h,dts:h,data:u}];g<p-1;)if(i.isHeader(t,g)&&g+5<p){i.initTrackConfig(l,this.observer,t,g,l.manifestCodec);var y=i.appendFrame(l,t,g,f,c);if(!y){a.logger.log("Unable to parse AAC frame");break}g+=y.length,h=y.sample.pts,c++}else n.default.isHeader(t,g)?(u=n.default.getID3Data(t,g),v.push({pts:h,dts:h,data:u}),g+=u.length):g++;this.remuxer.remux(l,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},r,o,s)},t.prototype.destroy=function(){},t}();t.default=o}).call(this,r(2).Number)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(22),a=r(23),n=r(1),o=r(44),s=r(45),l=r(0),u=r(3),d={video:1,audio:2,id3:3,text:4},f=function(){function e(e,t,r,i){this.observer=e,this.config=r,this.typeSupported=i,this.remuxer=t,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new s.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var r=e._syncOffset(t);return!(r<0)&&(r&&l.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:d[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,r,i,a){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",a),this._audioTrack=e.createTrack("audio",a),this._id3Track=e.createTrack("id3",a),this._txtTrack=e.createTrack("text",a),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=i,this._duration=a},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,r,i,a){var o,s,d,f,c,h=t.length,p=!1;this.contiguous=i;var g=this.pmtParsed,v=this._avcTrack,y=this._audioTrack,m=this._id3Track,E=v.pid,_=y.pid,T=m.pid,S=this._pmtId,b=v.pesData,A=y.pesData,R=m.pesData,D=this._parsePAT,L=this._parsePMT,O=this._parsePES,w=this._parseAVCPES.bind(this),I=this._parseAACPES.bind(this),P=this._parseMPEGPES.bind(this),k=this._parseID3PES.bind(this),C=e._syncOffset(t);for(h-=(h+C)%188,o=C;o<h;o+=188)if(71===t[o]){if(s=!!(64&t[o+1]),d=((31&t[o+1])<<8)+t[o+2],(48&t[o+3])>>4>1){if((f=o+5+t[o+4])===o+188)continue}else f=o+4;switch(d){case E:s&&(b&&(c=O(b))&&void 0!==c.pts&&w(c,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(f,o+188)),b.size+=o+188-f);break;case _:s&&(A&&(c=O(A))&&void 0!==c.pts&&(y.isAAC?I(c):P(c)),A={data:[],size:0}),A&&(A.data.push(t.subarray(f,o+188)),A.size+=o+188-f);break;case T:s&&(R&&(c=O(R))&&void 0!==c.pts&&k(c),R={data:[],size:0}),R&&(R.data.push(t.subarray(f,o+188)),R.size+=o+188-f);break;case 0:s&&(f+=t[f]+1),S=this._pmtId=D(t,f);break;case S:s&&(f+=t[f]+1);var F=L(t,f,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(E=F.avc)>0&&(v.pid=E),(_=F.audio)>0&&(y.pid=_,y.isAAC=F.isAAC),(T=F.id3)>0&&(m.pid=T),p&&!g&&(l.logger.log("reparse from beginning"),p=!1,o=C-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(n.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(c=O(b))&&void 0!==c.pts?(w(c,!0),v.pesData=null):v.pesData=b,A&&(c=O(A))&&void 0!==c.pts?(y.isAAC?I(c):P(c),y.pesData=null):(A&&A.size&&l.logger.log("last AAC PES packet truncated,might overlap between fragments"),y.pesData=A),R&&(c=O(R))&&void 0!==c.pts?(k(c),m.pesData=null):m.pesData=R,null==this.sampleAes?this.remuxer.remux(y,v,m,this._txtTrack,r,i,a):this.decryptAndRemux(y,v,m,this._txtTrack,r,i,a)},e.prototype.decryptAndRemux=function(e,t,r,i,a,n,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,r,i,a,n,o)})}else this.decryptAndRemuxAvc(e,t,r,i,a,n,o)},e.prototype.decryptAndRemuxAvc=function(e,t,r,i,a,n,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,r,i,a,n,o)})}else this.remuxer.remux(e,t,r,i,a,n,o)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,r,i){var a,n,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(a=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){switch(n=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!i){l.logger.log("unkown stream type:"+e[t]);break}case 15:-1===o.audio&&(o.audio=n);break;case 21:-1===o.id3&&(o.id3=n);break;case 219:if(!i){l.logger.log("unkown stream type:"+e[t]);break}case 27:-1===o.avc&&(o.avc=n);break;case 3:case 4:r?-1===o.audio&&(o.audio=n,o.isAAC=!1):l.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:l.logger.warn("HEVC stream type found, not supported for now");break;default:l.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return o},e.prototype._parsePES=function(e){var t,r,i,a,n,o,s,u,d=0,f=e.data;if(!e||0===e.size)return null;for(;f[0].length<19&&f.length>1;){var c=new Uint8Array(f[0].length+f[1].length);c.set(f[0]),c.set(f[1],f[0].length),f[0]=c,f.splice(1,1)}if(1===((t=f[0])[0]<<16)+(t[1]<<8)+t[2]){if((i=(t[4]<<8)+t[5])&&i>e.size-6)return null;192&(r=t[7])&&((o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(o-=8589934592),64&r?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),o-s>54e5&&(l.logger.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s)):s=o),u=(a=t[8])+9,e.size-=u,n=new Uint8Array(e.size);for(var h=0,p=f.length;h<p;h++){var g=(t=f[h]).byteLength;if(u){if(u>g){u-=g;continue}t=t.subarray(u),g-=u,u=0}n.set(t,d),d+=g}return i&&(i-=a+3),{data:n,pts:o,dts:s,len:i}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,i=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(i||this.contiguous)?(e.id=i,r.push(e)):t.dropped++}e.debug.length&&l.logger.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var r,i,a,n=this,s=this._avcTrack,l=this._parseAVCNALu(e.data),u=this.avcSample,d=!1,f=this.pushAccesUnit.bind(this),c=function(e,t,r,i){return{key:e,pts:t,dts:r,units:[],debug:i}};e.data=null,u&&l.length&&!s.audFound&&(f(u,s),u=this.avcSample=c(!1,e.pts,e.dts,"")),l.forEach(function(t){switch(t.type){case 1:i=!0,u||(u=n.avcSample=c(!0,e.pts,e.dts,"")),u.frame=!0;var l=t.data;if(d&&l.length>4){var h=new o.default(l).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(u.key=!0)}break;case 5:i=!0,u||(u=n.avcSample=c(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:i=!0,(r=new o.default(n.discardEPB(t.data))).readUByte();for(var p=0,g=0,v=!1,y=0;!v&&r.bytesAvailable>1;){p=0;do{p+=y=r.readUByte()}while(255===y);g=0;do{g+=y=r.readUByte()}while(255===y);if(4===p&&0!==r.bytesAvailable){if(v=!0,181===r.readUByte())if(49===r.readUShort())if(1195456820===r.readUInt())if(3===r.readUByte()){var m=r.readUByte(),E=31&m,_=[m,r.readUByte()];for(a=0;a<E;a++)_.push(r.readUByte()),_.push(r.readUByte()),_.push(r.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:e.pts,bytes:_})}}else if(g<r.bytesAvailable)for(a=0;a<g;a++)r.readUByte()}break;case 7:if(i=!0,d=!0,!s.sps){var T=(r=new o.default(t.data)).readSPS();s.width=T.width,s.height=T.height,s.pixelRatio=T.pixelRatio,s.sps=[t.data],s.duration=n._duration;var S=t.data.subarray(1,4),b="avc1.";for(a=0;a<3;a++){var A=S[a].toString(16);A.length<2&&(A="0"+A),b+=A}s.codec=b}break;case 8:i=!0,s.pps||(s.pps=[t.data]);break;case 9:i=!1,s.audFound=!0,u&&f(u,s),u=n.avcSample=c(!1,e.pts,e.dts,"");break;case 12:i=!1;break;default:i=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&i&&u.units.push(t)}),t&&u&&(f(u,s),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var i=r-1;i>=0;i--)if(t.pts<e[i].pts){e.splice(i,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var i=t.units;e=i[i.length-1]}return e},e.prototype._parseAVCNALu=function(e){var t,r,i,a,n=0,o=e.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,d=[],f=-1;for(-1===l&&(f=0,a=31&e[0],l=0,n=1);n<o;)if(t=e[n++],l)if(1!==l)if(t)if(1===t){var c,h;if(f>=0)i={data:e.subarray(f,n-l-1),type:a},d.push(i);else if(c=this._getLastNalUnit())if(u&&n<=4-u&&c.state&&(c.data=c.data.subarray(0,c.data.byteLength-u)),(r=n-l-1)>0)(h=new Uint8Array(c.data.byteLength+r)).set(c.data,0),h.set(e.subarray(0,r),c.data.byteLength),c.data=h;n<o?(f=n,a=31&e[n],l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;(f>=0&&l>=0&&(i={data:e.subarray(f,o),type:a,state:l},d.push(i)),0===d.length)&&((c=this._getLastNalUnit())&&((h=new Uint8Array(c.data.byteLength+e.byteLength)).set(c.data,0),h.set(e,c.data.byteLength),c.data=h));return s.naluState=l,d},e.prototype.discardEPB=function(e){for(var t,r,i=e.byteLength,a=[],n=1;n<i-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(a.push(n+2),n+=2):n++;if(0===a.length)return e;t=i-a.length,r=new Uint8Array(t);var o=0;for(n=0;n<t;o++,n++)o===a[0]&&(o++,a.shift()),r[n]=e[o];return r},e.prototype._parseAACPES=function(e){var t,r,a,o,s,d=this._audioTrack,f=e.data,c=e.pts,h=this.aacOverFlow,p=this.aacLastPTS;if(h){var g=new Uint8Array(h.byteLength+f.byteLength);g.set(h,0),g.set(f,h.byteLength),f=g}for(a=0,s=f.length;a<s-1&&!i.isHeader(f,a);a++);if(a){var v=void 0,y=void 0;if(a<s-1?(v="AAC PES did not start with ADTS header,offset:"+a,y=!1):(v="no ADTS header found in AAC PES",y=!0),l.logger.warn("parsing error:"+v),this.observer.trigger(n.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:y,reason:v}),y)return}if(i.initTrackConfig(d,this.observer,f,a,this.audioCodec),r=0,t=i.getFrameDuration(d.samplerate),h&&p){var m=p+t;Math.abs(m-c)>1&&(l.logger.log("AAC: align PTS for overlapping frames by "+Math.round((m-c)/90)),c=m)}for(;a<s;)if(i.isHeader(f,a)&&a+5<s){var E=i.appendFrame(d,f,a,c,r);if(!E)break;a+=E.length,o=E.sample.pts,r++}else a++;h=a<s?f.subarray(a,s):null,this.aacOverFlow=h,this.aacLastPTS=o},e.prototype._parseMPEGPES=function(e){for(var t=e.data,r=t.length,i=0,n=0,o=e.pts;n<r;)if(a.default.isHeader(t,n)){var s=a.default.appendFrame(this._audioTrack,t,n,o,i);if(!s)break;n+=s.length,i++}else n++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,i=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");i.set(e.subarray(r,r+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*a,this.bytesAvailable-=a},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&i.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,r=8,i=8;for(t=0;t<e;t++)0!==i&&(i=(r+this.readEG()+256)%256),r=0===i?r:i},e.prototype.readSPS=function(){var e,t,r,i,a,n,o,s=0,l=0,u=0,d=0,f=this.readUByte.bind(this),c=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(f(),e=f(),c(5),g(3),f(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var E=h();if(3===E&&g(1),y(),y(),g(1),p())for(n=3!==E?8:12,o=0;o<n;o++)p()&&m(o<6?16:64)}y();var _=h();if(0===_)h();else if(1===_)for(g(1),v(),v(),t=h(),o=0;o<t;o++)v();y(),g(1),r=h(),i=h(),0===(a=c(1))&&g(1),g(1),p()&&(s=h(),l=h(),u=h(),d=h());var T=[1,1];if(p()&&p())switch(f()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[f()<<8|f(),f()<<8|f()]}return{width:Math.ceil(16*(r+1)-2*s-2*l),height:(2-a)*(i+1)*16-(a?2:4)*(u+d),pixelRatio:T}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),a=function(){function e(e,t,r,a){this.decryptdata=r,this.discardEPB=a,this.decrypter=new i.default(e,t,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,r,i){var a=e[t].unit,n=a.subarray(16,a.length-a.length%16),o=n.buffer.slice(n.byteOffset,n.byteOffset+n.length),s=this;this.decryptBuffer(o,function(n){n=new Uint8Array(n),a.set(n,16),i||s.decryptAacSamples(e,t+1,r)})},e.prototype.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,i),!i)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),i=0,a=32;a<=e.length-16;a+=160,i+=16)r.set(e.subarray(a,a+16),i);return r},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,i=32;i<=e.length-16;i+=160,r+=16)e.set(t.subarray(r,r+16),i);return e},e.prototype.decryptAvcSample=function(e,t,r,i,a,n){var o=this.discardEPB(a.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){a.data=l.getAvcDecryptedUnit(o,s),n||l.decryptAvcSamples(e,t,r+1,i)})},e.prototype.decryptAvcSamples=function(e,t,r,i){for(;;t++,r=0){if(t>=e.length)return void i();for(var a=e[t].units;!(r>=a.length);r++){var n=a[r];if(!(n.length<=48||1!==n.type&&5!==n.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,i,n,o),!o)return}}}},e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(10),a=r(0),n=r(23),o=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return e.prototype.resetInitSegment=function(e,t,r,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,r,o=i.default.getID3Data(e,0);if(o&&void 0!==i.default.getTimeStamp(o))for(t=o.length,r=Math.min(e.length-1,t+100);t<r;t++)if(n.default.probe(e,t))return a.logger.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,r,a){for(var o=i.default.getID3Data(e,0),s=i.default.getTimeStamp(o),l=s?90*s:9e4*t,u=o.length,d=e.length,f=0,c=0,h=this._audioTrack,p=[{pts:l,dts:l,data:o}];u<d;)if(n.default.isHeader(e,u)){var g=n.default.appendFrame(h,e,u,l,f);if(!g)break;u+=g.length,c=g.sample.pts,f++}else i.default.isHeader(e,u)?(o=i.default.getID3Data(e,u),p.push({pts:c,dts:c,data:o}),u+=o.length):u++;this.remuxer.remux(h,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,r,a)},e.prototype.destroy=function(){},e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(48),a=r(49),n=r(1),o=r(3),s=r(0),l=function(){function e(e,t,r,i){this.observer=e,this.config=t,this.typeSupported=r;var a=navigator.userAgent;this.isSafari=i&&i.indexOf("Apple")>-1&&a&&!a.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,r,i,a,o,l){if(this.ISGenerated||this.generateIS(e,t,a),this.ISGenerated){var u=e.samples.length,d=t.samples.length,f=a,c=a;if(u&&d){var h=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;f+=Math.max(0,h),c+=Math.max(0,-h)}if(u){e.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,a));var p=this.remuxAudio(e,f,o,l);if(d){var g=void 0;p&&(g=p.endPTS-p.startPTS),t.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,a)),this.remuxVideo(t,c,o,g,l)}}else if(d){var v=this.remuxVideo(t,c,o,0,l);v&&e.codec&&this.remuxEmptyAudio(e,f,o,v)}}r.samples.length&&this.remuxID3(r,a),i.samples.length&&this.remuxText(i,a),this.observer.trigger(n.default.FRAG_PARSED)},e.prototype.generateIS=function(e,t,r){var i,l,u=this.observer,d=e.samples,f=t.samples,c=this.typeSupported,h="audio/mp4",p={},g={tracks:p},v=void 0===this._initPTS;if(v&&(i=l=1/0),e.config&&d.length&&(e.timescale=e.samplerate,s.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(c.mpeg?(h="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3")),p.audio={container:h,codec:e.codec,initSegment:!e.isAAC&&c.mpeg?new Uint8Array:a.default.initSegment([e]),metadata:{channelCount:e.channelCount}},v&&(i=l=d[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&f.length){var y=t.inputTimeScale;t.timescale=y,p.video={container:"video/mp4",codec:t.codec,initSegment:a.default.initSegment([t]),metadata:{width:t.width,height:t.height}},v&&(i=Math.min(i,f[0].pts-y*r),l=Math.min(l,f[0].dts-y*r),this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:i}))}Object.keys(p).length?(u.trigger(n.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,v&&(this._initPTS=i,this._initDTS=l)):u.trigger(n.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,r,i,l){var u,d,f,c,h,p,g,v=8,y=e.timescale,m=e.samples,E=[],_=m.length,T=this._PTSNormalize,S=this._initPTS,b=this.nextAvcDts,A=this.isSafari;if(0!==_){A&&(r|=m.length&&b&&(l&&Math.abs(t-b/y)<.1||Math.abs(m[0].pts-b-S)<y/5)),r||(b=t*y),m.forEach(function(e){e.pts=T(e.pts-S,b),e.dts=T(e.dts-S,b)}),m.sort(function(e,t){var r=e.dts-t.dts,i=e.pts-t.pts;return r||i||e.id-t.id});var R=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(R<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(R/90)+" ms to overcome this issue");for(var D=0;D<m.length;D++)m[D].dts+=R}var L=m[0];h=Math.max(L.dts,0),c=Math.max(L.pts,0);var O=Math.round((h-b)/90);r&&O&&(O>1?s.logger.log("AVC:"+O+" ms hole between fragments detected,filling it"):O<-1&&s.logger.log("AVC:"+-O+" ms overlapping between fragments detected"),h=b,m[0].dts=h,c=Math.max(c-O,b),m[0].pts=c,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(c/90)+"/"+Math.round(h/90)+",delta:"+O+" ms")),L=m[m.length-1],g=Math.max(L.dts,0),p=Math.max(L.pts,0,g),A&&(u=Math.round((g-h)/(m.length-1)));var w=0,I=0;for(D=0;D<_;D++){for(var P=m[D],k=P.units,C=k.length,F=0,x=0;x<C;x++)F+=k[x].data.length;I+=F,w+=C,P.length=F,P.dts=A?h+D*u:Math.max(P.dts,h),P.pts=Math.max(P.pts,P.dts)}var M=I+4*w+8;try{d=new Uint8Array(M)}catch(e){return void this.observer.trigger(n.default.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:M,reason:"fail allocating video mdat "+M})}var N=new DataView(d.buffer);N.setUint32(0,M),d.set(a.default.types.mdat,4);for(D=0;D<_;D++){var U=m[D],B=U.units,G=0,j=void 0;for(x=0,C=B.length;x<C;x++){var K=B[x],H=K.data,V=K.data.byteLength;N.setUint32(v,V),v+=4,d.set(H,v),v+=V,G+=4+V}if(A)j=Math.max(0,u*Math.round((U.pts-U.dts)/u));else{if(D<_-1)u=m[D+1].dts-U.dts;else{var W=this.config,Y=U.dts-m[D>0?D-1:D].dts;if(W.stretchShortVideoTrack){var q=W.maxBufferHole,X=Math.floor(q*y),z=(i?c+i*y:this.nextAudioPts)-U.pts;z>X?((u=z-Y)<0&&(u=Y),s.logger.log("It is approximately "+z/90+" ms to the next segment; using duration "+u/90+" ms for the last video frame.")):u=Y}else u=Y}j=Math.round(U.pts-U.dts)}E.push({size:G,duration:u,cts:j,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:U.key?2:1,isNonSync:U.key?0:1}})}this.nextAvcDts=g+u;var Q=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,E.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var $=E[0].flags;$.dependsOn=2,$.isNonSync=0}e.samples=E,f=a.default.moof(e.sequenceNumber++,h,e),e.samples=[];var J={data1:f,data2:d,startPTS:c/y,endPTS:(p+u)/y,startDTS:h/y,endDTS:this.nextAvcDts/y,type:"video",hasAudio:!1,hasVideo:!0,nb:E.length,dropped:Q};return this.observer.trigger(n.default.FRAG_PARSING_DATA,J),J}},e.prototype.remuxAudio=function(e,t,r,l){var u,d,f,c,h,p,g,v=e.inputTimeScale,y=e.timescale,m=v/y,E=(e.isAAC?1024:1152)*m,_=this._PTSNormalize,T=this._initPTS,S=!e.isAAC&&this.typeSupported.mpeg,b=e.samples,A=[],R=this.nextAudioPts;if(r|=b.length&&R&&(l&&Math.abs(t-R/v)<.1||Math.abs(b[0].pts-R-T)<20*E),b.forEach(function(e){e.pts=e.dts=_(e.pts-T,t*v)}),0!==(b=b.filter(function(e){return e.pts>=0})).length){if(r||(R=l?t*v:b[0].pts),e.isAAC)for(var D=this.config.maxAudioFramesDrift,L=0,O=R;L<b.length;){var w,I=b[L];w=(U=I.pts)-O;var P=Math.abs(1e3*w/v);if(w<=-D*E)s.logger.warn("Dropping 1 audio frame @ "+(O/v).toFixed(3)+"s due to "+Math.round(P)+" ms overlap."),b.splice(L,1),e.len-=I.unit.length;else if(w>=D*E&&P<1e4&&O){var k=Math.round(w/E);s.logger.warn("Injecting "+k+" audio frame @ "+(O/v).toFixed(3)+"s due to "+Math.round(1e3*w/v)+" ms gap.");for(var C=0;C<k;C++){var F=Math.max(O,0);(f=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),f=I.unit.subarray()),b.splice(L,0,{unit:f,pts:F,dts:F}),e.len+=f.length,O+=E,L++}I.pts=I.dts=O,O+=E,L++}else Math.abs(w),I.pts=I.dts=O,O+=E,L++}C=0;for(var x=b.length;C<x;C++){var M=b[C],N=M.unit,U=M.pts;if(void 0!==g)d.duration=Math.round((U-g)/m);else{var B=Math.round(1e3*(U-R)/v),G=0;if(r&&e.isAAC&&B){if(B>0&&B<1e4)G=Math.round((U-R)/E),s.logger.log(B+" ms hole between AAC samples detected,filling it"),G>0&&((f=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(f=N.subarray()),e.len+=G*f.length);else if(B<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(R/v).toFixed(3)+"s/"+(U/v).toFixed(3)+"s/"+-B+"ms"),e.len-=N.byteLength;continue}U=R}if(p=U,!(e.len>0))return;var j=S?e.len:e.len+8;u=S?0:8;try{c=new Uint8Array(j)}catch(e){return void this.observer.trigger(n.default.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:j,reason:"fail allocating audio mdat "+j})}S||(new DataView(c.buffer).setUint32(0,j),c.set(a.default.types.mdat,4));for(L=0;L<G;L++)(f=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),f=N.subarray()),c.set(f,u),u+=f.byteLength,d={size:f.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},A.push(d)}c.set(N,u);var K=N.byteLength;u+=K,d={size:K,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},A.push(d),g=U}var H=0,V=A.length;if(V>=2&&(H=A[V-2].duration,d.duration=H),V){this.nextAudioPts=R=g+m*H,e.len=0,e.samples=A,h=S?new Uint8Array:a.default.moof(e.sequenceNumber++,p/m,e),e.samples=[];var W=p/v,Y=R/v,q={data1:h,data2:c,startPTS:W,endPTS:Y,startDTS:W,endDTS:Y,type:"audio",hasAudio:!0,hasVideo:!1,nb:V};return this.observer.trigger(n.default.FRAG_PARSING_DATA,q),q}return null}},e.prototype.remuxEmptyAudio=function(e,t,r,a){var n=e.inputTimeScale,o=n/(e.samplerate?e.samplerate:n),l=this.nextAudioPts,u=(void 0!==l?l:a.startDTS*n)+this._initDTS,d=a.endDTS*n+this._initDTS,f=1024*o,c=Math.ceil((d-u)/f),h=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(s.logger.warn("remux empty Audio"),h){for(var p=[],g=0;g<c;g++){var v=u+g*f;p.push({unit:h,pts:v,dts:v}),e.len+=h.length}e.samples=p,this.remuxAudio(e,t,r)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.prototype.remuxID3=function(e){var t,r=e.samples.length,i=e.inputTimeScale,a=this._initPTS,o=this._initDTS;if(r){for(var s=0;s<r;s++)(t=e.samples[s]).pts=(t.pts-a)/i,t.dts=(t.dts-o)/i;this.observer.trigger(n.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},e.prototype.remuxText=function(e){e.samples.sort(function(e,t){return e.pts-t.pts});var t,r=e.samples.length,i=e.inputTimeScale,a=this._initPTS;if(r){for(var o=0;o<r;o++)(t=e.samples[o]).pts=(t.pts-a)/i;this.observer.trigger(n.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e.prototype._PTSNormalize=function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e},e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Math.pow(2,32)-1,a=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:i};var a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=n,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,a))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),i=8,a=r.length,n=a;a--;)i+=r[a].byteLength;for((t=new Uint8Array(i))[0]=i>>24&255,t[1]=i>>16&255,t[2]=i>>8&255,t[3]=255&i,t.set(e,4),a=0,i=8;a<n;a++)t.set(r[a],i),i+=r[a].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var a=Math.floor(r/(i+1)),n=Math.floor(r%(i+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,a>>24,a>>16&255,a>>8&255,255&a,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,i){return e.box(e.types.moof,e.mfhd(t),e.traf(i,r))},e.moov=function(t){for(var r=t.length,i=[];r--;)i[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(i).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,i=[];r--;)i[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(i))},e.mvhd=function(t,r){r*=t;var a=Math.floor(r/(i+1)),n=Math.floor(r%(i+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,a>>24,a>>16&255,a>>8&255,255&a,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var r,i,a=t.samples||[],n=new Uint8Array(4+a.length);for(i=0;i<a.length;i++)r=a[i].flags,n[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,n)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,i,a,n=[],o=[];for(r=0;r<t.sps.length;r++)a=(i=t.sps[r]).byteLength,n.push(a>>>8&255),n.push(255&a),n=n.concat(Array.prototype.slice.call(i));for(r=0;r<t.pps.length;r++)a=(i=t.pps[r]).byteLength,o.push(a>>>8&255),o.push(255&a),o=o.concat(Array.prototype.slice.call(i));var s=e.box(e.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,d=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,f>>24,f>>16&255,f>>8&255,255&f])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,a=t.duration*t.timescale,n=t.width,o=t.height,s=Math.floor(a/(i+1)),l=Math.floor(a%(i+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,r){var a=e.sdtp(t),n=t.id,o=Math.floor(r/(i+1)),s=Math.floor(r%(i+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,a.length+16+20+8+16+8+8),a)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var i,a,n,o,s,l,u=t.samples||[],d=u.length,f=12+16*d,c=new Uint8Array(f);for(r+=8+f,c.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<d;i++)n=(a=u[i]).duration,o=a.size,s=a.flags,l=a.cts,c.set([n>>>24&255,n>>>16&255,n>>>8&255,255&n,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return e.box(e.types.trun,c)},e.initSegment=function(t){e.types||e.init();var r,i=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+i.byteLength)).set(e.FTYP),r.set(i,e.FTYP.byteLength),r},e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=function(){function e(e){this.observer=e}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,r,a,n,o,s,l){var u=this.observer,d="";e&&(d+="audio"),t&&(d+="video"),u.trigger(i.default.FRAG_PARSING_DATA,{data1:l,startPTS:n,startDTS:n,type:d,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),u.trigger(i.default.FRAG_PARSED)},e}();t.default=a},function(e,t,r){"use strict";var i=Object.prototype.hasOwnProperty,a="~";function n(){}function o(e,t,r,i,n){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new function(e,t,r){this.fn=e,this.context=t,this.once=r||!1}(r,i||e,n),s=a?a+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function l(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)i.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,n=r.length,o=new Array(n);i<n;i++)o[i]=r[i].fn;return o},l.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,i,n,o){var s=a?a+e:e;if(!this._events[s])return!1;var l,u,d=this._events[s],f=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),f){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,i),!0;case 5:return d.fn.call(d.context,t,r,i,n),!0;case 6:return d.fn.call(d.context,t,r,i,n,o),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];d.fn.apply(d.context,l)}else{var c,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),f){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,i);break;default:if(!l)for(c=1,l=new Array(f-1);c<f;c++)l[c-1]=arguments[c];d[u].fn.apply(d[u].context,l)}}return!0},l.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},l.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},l.prototype.removeListener=function(e,t,r,i){var n=a?a+e:e;if(!this._events[n])return this;if(!t)return s(this,n),this;var o=this._events[n];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,n);else{for(var l=0,u=[],d=o.length;l<d;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&u.push(o[l]);u.length?this._events[n]=1===u.length?u[0]:u:s(this,n)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=a,l.EventEmitter=l,e.exports=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(21),a=r(1),n=r(0),o=r(53);t.default=function(e){var t=new o.EventEmitter;t.trigger=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(r))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",function(a){var o=a.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new i.default(t,o.typeSupported,s,o.vendor),n.enableLogs(s.debug),r("init",null);break;case"demux":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),t.on(a.default.FRAG_DECRYPTED,r),t.on(a.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(a.default.FRAG_PARSED,r),t.on(a.default.ERROR,r),t.on(a.default.FRAG_PARSING_METADATA,r),t.on(a.default.FRAG_PARSING_USERDATA,r),t.on(a.default.INIT_PTS_FOUND,r),t.on(a.default.FRAG_PARSING_DATA,function(t,r){var i=[],a={event:t,data:r};r.data1&&(a.data1=r.data1.buffer,i.push(r.data1.buffer),delete r.data1),r.data2&&(a.data2=r.data2.buffer,i.push(r.data2.buffer),delete r.data2),e.postMessage(a,i)})}},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function n(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error(\'Uncaught, unspecified "error" event. (\'+t+")");throw d.context=t,d}if(n(r=this._events[e]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(a(r))for(s=Array.prototype.slice.call(arguments,1),o=(u=r.slice()).length,l=0;l<o;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var o;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=n(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=!1;function a(){this.removeListener(e,a),r||(r=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},r.prototype.removeListener=function(e,t){var r,n,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),a=r(3),n=r(1),o=r(0),s=function(){function e(e,t,r,i){this.config=e,this.media=t,this.fragmentTracker=r,this.hls=i,this.stallReported=!1}return e.prototype.poll=function(e,t){var r=this.config,a=this.media,n=a.currentTime,s=window.performance.now();if(n!==e)return this.stallReported&&(o.logger.warn("playback not stuck anymore @"+n+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(a.ended||!a.buffered.length||a.readyState>2||a.seeking&&i.BufferHelper.isBuffered(a,n))){var l=s-this.stalled,u=i.BufferHelper.bufferInfo(a,n,r.maxBufferHole);this.stalled?(l>=1e3&&this._reportStall(u.len),this._tryFixBufferStall(u,l)):this.stalled=s}},e.prototype._tryFixBufferStall=function(e,t){var r=this.config,i=this.fragmentTracker,a=this.media.currentTime,n=i.getPartialFragment(a);n&&this._trySkipBufferHole(n),e.len>.5&&t>1e3*r.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},e.prototype._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer"),t.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},e.prototype._trySkipBufferHole=function(e){for(var t=this.hls,r=this.media,i=r.currentTime,s=0,l=0;l<r.buffered.length;l++){var u=r.buffered.start(l);if(i>=s&&i<u)return r.currentTime=Math.max(u,r.currentTime+.1),o.logger.warn("skipping hole, adjusting currentTime from "+i+" to "+r.currentTime),this.stalled=null,void t.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+r.currentTime,frag:e});s=r.buffered.end(l)}},e.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,i=r.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var l=i+s*e.nudgeOffset;o.logger.log("adjust currentTime from "+i+" to "+l),r.currentTime=l,t.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("still stuck in high buffer @"+i+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}();t.default=s},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(1),o=r(4),s=r(0),l=r(3),u=r(19),d=r(14),f=window.performance,c=function(e){function t(t){var r=e.call(this,t,n.default.MANIFEST_LOADED,n.default.LEVEL_LOADED,n.default.AUDIO_TRACK_SWITCHED,n.default.FRAG_LOADED,n.default.ERROR)||this;return r.canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,a=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}return i(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t,r=[],i=[],o={},f=null,c=!1,h=!1;if(e.levels.forEach(function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,c=c||!!e.videoCodec,h=h||!!e.audioCodec,a&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(f=o[e.bitrate])?f.url.push(e.url):(e.url=[e.url],e.urlId=0,o[e.bitrate]=e,r.push(e)),t&&(t.AUDIO&&(h=!0,d.addGroupId(f||e,"audio",t.AUDIO)),t.SUBTITLES&&d.addGroupId(f||e,"text",t.SUBTITLES))}),c&&h&&(r=r.filter(function(e){return!!e.videoCodec})),r=r.filter(function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||u.isCodecSupportedInMp4(t,"audio"))&&(!r||u.isCodecSupportedInMp4(r,"video"))}),e.audioTracks&&(i=e.audioTracks.filter(function(e){return!e.audioCodec||u.isCodecSupportedInMp4(e.audioCodec,"audio")})).forEach(function(e,t){e.id=t}),r.length>0){t=r[0].bitrate,r.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=r;for(var p=0;p<r.length;p++)if(r[p].bitrate===t){this._firstLevel=p,s.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(n.default.MANIFEST_PARSED,{levels:r,audioTracks:i,firstLevel:this._firstLevel,stats:e.stats,audio:h,video:c,altAudio:i.some(function(e){return!!e.url})})}else this.hls.trigger(n.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){s.logger.log("switching to level "+e),this.currentLevelIndex=e;var i=t[e];i.level=e,r.trigger(n.default.LEVEL_SWITCHING,i)}var a=t[e],o=a.details;if(!o||o.live){var u=a.urlId;r.trigger(n.default.LEVEL_LOADING,{url:a.url[u],level:e,id:u})}}else r.trigger(n.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(e){this._firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),t.prototype.onError=function(e){if(e.fatal)e.type===l.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,r=!1,i=!1;switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:case l.ErrorDetails.KEY_LOAD_ERROR:case l.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,i=!0;break;case l.ErrorDetails.LEVEL_LOAD_ERROR:case l.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,r=!0;break;case l.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,r=!0}void 0!==t&&this.recoverLevel(e,t,r,i)}},t.prototype.recoverLevel=function(e,t,r,i){var a,n,o,l=this,u=this.hls.config,d=e.details,f=this._levels[t];if(f.loadError++,f.fragmentError=i,r){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return s.logger.error("level controller, cannot recover from "+d+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);n=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return l.loadLevel()},n),e.levelRetry=!0,this.levelRetryCount++,s.logger.warn("level controller, "+d+", retry in "+n+" ms, current retry count is "+this.levelRetryCount)}(r||i)&&((a=f.url.length)>1&&f.loadError<a?(f.urlId=(f.urlId+1)%a,f.details=void 0,s.logger.warn("level controller, "+d+" for level "+t+": switching to redundant URL-id "+f.urlId)):-1===this.manualLevelIndex?(o=0===t?this._levels.length-1:t-1,s.logger.warn("level controller, "+d+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):i&&(s.logger.warn("level controller, "+d+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,r=e.level;if(r===this.currentLevelIndex){var i=this._levels[r];i.fragmentError||(i.loadError=0,this.levelRetryCount=0);var a=e.details;if(a.live){var n=1e3*(a.averagetargetduration?a.averagetargetduration:a.targetduration),o=n,l=i.details;l&&a.endSN===l.endSN&&(o/=2,s.logger.log("same live playlist, reload twice faster")),o-=f.now()-e.stats.trequest,o=Math.max(n/2,Math.round(o)),s.logger.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},o)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){var i=r.audioGroupIds.findIndex(function(e){return e===t});i!==r.urlId&&(r.urlId=i,this.startLoad())}},t.prototype.loadLevel=function(){if(s.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,r=e.urlId,i=e.url[r];s.logger.log("Attempt loading level index "+t+" with URL-id "+r),this.hls.trigger(n.default.LEVEL_LOADING,{url:i,level:t,id:r})}}},Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)},enumerable:!0,configurable:!0}),t}(o.default);t.default=c},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(4),o=r(10),s=r(29),l=function(e){function t(t){var r=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.FRAG_PARSING_METADATA)||this;return r.id3Track=void 0,r.media=void 0,r}return i(t,e),t.prototype.destroy=function(){n.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){s.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return s.sendAddTrackEvent(r,this.media),r}return this.media.addTextTrack("metadata","id3")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,a=0;a<r.length;a++){var n=o.default.getID3Frames(r[a].data);if(n){var s=r[a].pts,l=a<r.length-1?r[a+1].pts:t.endPTS;s===l&&(l+=1e-4);for(var u=0;u<n.length;u++){var d=n[u];if(!o.default.isTimeStampFrame(d)){var f=new i(s,l,"");f.value=d,this.id3Track.addCue(f)}}}}},t}(n.default);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(13);t.isSupported=function(){var e=i.getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported(\'video/mp4; codecs="avc1.42E01E,mp4a.40.2"\'),a=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(59),a=r(62),n=r(63),o=r(64),s=r(65),l=r(66),u=r(67),d=r(68),f=r(70),c=r(74),h=r(75),p=r(76),g=r(77);t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:i.default,bufferController:a.default,capLevelController:n.default,fpsController:o.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess},t.hlsDefaultConfig.subtitleStreamController=h.SubtitleStreamController,t.hlsDefaultConfig.subtitleTrackController=c.default,t.hlsDefaultConfig.timelineController=f.default,t.hlsDefaultConfig.cueHandler=d,t.hlsDefaultConfig.enableCEA708Captions=!0,t.hlsDefaultConfig.enableWebVTT=!0,t.hlsDefaultConfig.captionsTextTrack1Label="English",t.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",t.hlsDefaultConfig.captionsTextTrack2Label="Spanish",t.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",t.hlsDefaultConfig.audioStreamController=u.default,t.hlsDefaultConfig.audioTrackController=l.default,t.hlsDefaultConfig.emeController=p.default},function(e,t,r){"use strict";(function(e){var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(4),o=r(5),s=r(3),l=r(0),u=r(60),d=window.performance,f=function(t){function r(e){var r=t.call(this,e,a.default.FRAG_LOADING,a.default.FRAG_LOADED,a.default.FRAG_BUFFERED,a.default.ERROR)||this;return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=e,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return i(r,t),r.prototype.destroy=function(){this.clearTimer(),n.default.prototype.destroy.call(this)},r.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r=this.hls,i=r.config,a=t.level,n=void 0,o=void 0;r.levels[a].details.live?(n=i.abrEwmaFastLive,o=i.abrEwmaSlowLive):(n=i.abrEwmaFastVoD,o=i.abrEwmaSlowVoD),this._bwEstimator=new u.default(r,o,n,i.abrEwmaDefaultEstimate)}},r.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(r){var i=r.loader,n=e.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var s=i.stats;if(t&&s&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var u=d.now()-s.trequest,f=Math.abs(t.playbackRate);if(u>500*r.duration/f){var c=e.levels,h=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/u),p=c[r.level],g=p.realBitrate?Math.max(p.realBitrate,p.bitrate):p.bitrate,v=s.total?s.total:Math.max(s.loaded,Math.round(r.duration*g/8)),y=t.currentTime,m=(v-s.loaded)/h,E=(o.BufferHelper.bufferInfo(t,y,e.config.maxBufferHole).end-y)/f;if(E<2*r.duration/f&&m>E){var _=void 0,T=void 0;for(T=r.level-1;T>n;T--){var S=c[T].realBitrate?Math.max(c[T].realBitrate,c[T].bitrate):c[T].bitrate;if((_=r.duration*S/(6.4*h))<E)break}_<m&&(l.logger.warn("loading too slow, abort fragment loading and switch to level "+T+":fragLoadedDelay["+T+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+_.toFixed(1)+"<"+m.toFixed(1)+":"+E.toFixed(1)),e.nextLoadLevel=T,this._bwEstimator.sample(u,s.loaded),i.abort(),this.clearTimer(),e.trigger(a.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:s}))}}}}},r.prototype.onFragLoaded=function(t){var r=t.frag;if("main"===r.type&&e.isFinite(r.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[r.level],a=(i.loaded?i.loaded.bytes:0)+t.stats.loaded,n=(i.loaded?i.loaded.duration:0)+t.frag.duration;i.loaded={bytes:a,duration:n},i.realBitrate=Math.round(8*a/n)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},r.prototype.onFragBuffered=function(t){var r=t.stats,i=t.frag;if(!0!==r.aborted&&"main"===i.type&&e.isFinite(i.sn)&&(!i.bitrateTest||r.tload===r.tbuffered)){var a=r.tparsed-r.trequest;l.logger.log("latency/loading/parsing/append/kbps:"+Math.round(r.tfirst-r.trequest)+"/"+Math.round(r.tload-r.tfirst)+"/"+Math.round(r.tparsed-r.tload)+"/"+Math.round(r.tbuffered-r.tparsed)+"/"+Math.round(8*r.loaded/(r.tbuffered-r.trequest))),this._bwEstimator.sample(a,r.loaded),r.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},r.prototype.onError=function(e){switch(e.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},r.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(r.prototype,"nextAutoLevel",{get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_nextABRAutoLevel",{get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,i=e.config,a=e.minAutoLevel,n=e.media,s=this.lastLoadedFragLevel,u=this.fragCurrent?this.fragCurrent.duration:0,d=n?n.currentTime:0,f=n&&0!==n.playbackRate?Math.abs(n.playbackRate):1,c=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(o.BufferHelper.bufferInfo(n,d,i.maxBufferHole).end-d)/f,p=this._findBestLevel(s,u,c,a,t,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,r);if(p>=0)return p;l.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=u?Math.min(u,i.maxStarvationDelay):i.maxStarvationDelay,v=i.abrBandWidthFactor,y=i.abrBandWidthUpFactor;if(0===h){var m=this.bitrateTestDelay;if(m)g=(u?Math.min(u,i.maxLoadingDelay):i.maxLoadingDelay)-m,l.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),v=y=1}return p=this._findBestLevel(s,u,c,a,t,h+g,v,y,r),Math.max(p,0)},enumerable:!0,configurable:!0}),r.prototype._findBestLevel=function(e,t,r,i,a,n,o,s,u){for(var d=a;d>=i;d--){var f=u[d];if(f){var c=f.details,h=c?c.totalduration/c.fragments.length:t,p=!!c&&c.live,g=void 0;g=d<=e?o*r:s*r;var v=u[d].realBitrate?Math.max(u[d].realBitrate,u[d].bitrate):u[d].bitrate,y=v*h/g;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+d+"/"+Math.round(g)+"/"+v+"/"+h+"/"+n+"/"+y),g>v&&(!y||p&&!this.bitrateTestDelay||y<n))return d}}return-1},r}(n.default);t.default=f}).call(this,r(2).Number)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(61),a=function(){function e(e,t,r,a){this.hls=e,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new i.default(t),this.fast_=new i.default(r)}return e.prototype.sample=function(e,t){var r=8e3*t/(e=Math.max(e,this.minDelayMs_)),i=e/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}();t.default=i},function(e,t,r){"use strict";(function(e){var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(4),o=r(0),s=r(3),l=r(13).getMediaSource(),u=function(t){function r(e){var r=t.call(this,e,a.default.MEDIA_ATTACHING,a.default.MEDIA_DETACHING,a.default.MANIFEST_PARSED,a.default.BUFFER_RESET,a.default.BUFFER_APPENDING,a.default.BUFFER_CODECS,a.default.BUFFER_EOS,a.default.BUFFER_FLUSHING,a.default.LEVEL_PTS_UPDATED,a.default.LEVEL_UPDATED)||this;return r._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r.bufferCodecEventsExpected=0,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return i(r,t),r.prototype.destroy=function(){n.default.prototype.destroy.call(this)},r.prototype.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-e.start)>.1){var a=i.updating;try{i.abort()}catch(e){o.logger.warn("can not abort audio buffer: "+e)}a?this.audioTimestampOffset=e.start:(o.logger.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+e.start),i.timestampOffset=e.start)}}},r.prototype.onManifestParsed=function(e){this.bufferCodecEventsExpected=e.altAudio?2:1,o.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},r.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new l;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(r),this._objectUrl=t.src}},r.prototype.onMediaDetaching=function(){o.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){o.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):o.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(a.default.MEDIA_DETACHED)},r.prototype.onMediaSourceOpen=function(){o.logger.log("media source opened"),this.hls.trigger(a.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},r.prototype.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,r=Object.keys(t).length;(r&&!e||2===r)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},r.prototype.onMediaSourceClose=function(){o.logger.log("media source closed")},r.prototype.onMediaSourceEnded=function(){o.logger.log("media source ended")},r.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;o.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,r=this.segments.reduce(function(e,r){return r.parent===t?e+1:e},0),i={},n=this.sourceBuffer;for(var s in n)i[s]=n[s].buffered;this.hls.trigger(a.default.BUFFER_APPENDED,{parent:t,pending:r,timeRanges:i}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===r&&this.flushLiveBackBuffer()},r.prototype.onSBUpdateError=function(e){o.logger.error("sourceBuffer error:",e),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},r.prototype.onBufferCodecs=function(e){var t=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(e).forEach(function(r){t.pendingTracks[r]=e[r]});var r=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),r&&"open"===r.readyState&&this.checkPendingTracks()}},r.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var i in e)if(!t[i]){var n=e[i],l=n.levelCodec||n.codec,u=n.container+";codecs="+l;o.logger.log("creating sourceBuffer("+u+")");try{var d=t[i]=r.addSourceBuffer(u);d.addEventListener("updateend",this.onsbue),d.addEventListener("error",this.onsbe),this.tracks[i]={codec:l,container:n.container},n.buffer=d}catch(e){o.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:u})}}this.hls.trigger(a.default.BUFFER_CREATED,{tracks:e})},r.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},r.prototype.onBufferAppendFail=function(e){o.logger.error("sourceBuffer error:",e.event),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.prototype.onBufferEos=function(e){var t=this.sourceBuffer,r=e.type;for(var i in t)r&&i!==r||t[i].ended||(t[i].ended=!0,o.logger.log(i+" sourceBuffer now EOS"));this.checkEos()},r.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var r in e){var i=e[r];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}o.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){o.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},r.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},r.prototype.flushLiveBackBuffer=function(){if(this._live){var e=this.hls.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))for(var t=this.media.currentTime,r=this.sourceBuffer,i=Object.keys(r),a=t-Math.max(e,this._levelTargetDuration),n=i.length-1;n>=0;n--){var o=i[n],s=r[o].buffered;s.length>0&&a>s.start(0)&&this.removeBufferRange(o,r[o],0,a)}}},r.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},r.prototype.updateMediaElementDuration=function(){var t,r=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var i in this.sourceBuffer)if(!0===this.sourceBuffer[i].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===r.liveDurationInfinity?(o.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!e.isFinite(t))&&(o.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},r.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var i in r)t+=r[i].buffered.length}catch(e){o.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(a.default.BUFFER_FLUSHED)}},r.prototype.doAppending=function(){var e=this.hls,t=this.segments,r=this.sourceBuffer;if(Object.keys(r).length){if(this.media.error)return this.segments=[],void o.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(t&&t.length){var i=t.shift();try{var n=r[i.type];n?n.updating?t.unshift(i):(n.ended=!1,this.parent=i.parent,n.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(r){o.logger.error("error while trying to append buffer:"+r.message),t.unshift(i);var l={type:s.ErrorTypes.MEDIA_ERROR,parent:i.parent};22!==r.code?(this.appendError?this.appendError++:this.appendError=1,l.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(o.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],l.fatal=!0,e.trigger(a.default.ERROR,l)):(l.fatal=!1,e.trigger(a.default.ERROR,l))):(this.segments=[],l.details=s.ErrorDetails.BUFFER_FULL_ERROR,l.fatal=!1,e.trigger(a.default.ERROR,l))}}}},r.prototype.flushBuffer=function(e,t,r){var i,a=this.sourceBuffer;if(Object.keys(a).length){if(o.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var n in a)if(!r||n===r){if((i=a[n]).ended=!1,i.updating)return o.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(n,i,e,t))return this.flushBufferCounter++,!1}}else o.logger.warn("abort flushing too many retries");o.logger.log("buffer flushed")}return!0},r.prototype.removeBufferRange=function(e,t,r,i){try{for(var a=0;a<t.buffered.length;a++){var n=t.buffered.start(a),s=t.buffered.end(a),l=Math.max(n,r),u=Math.min(s,i);if(Math.min(u,s)-l>.5)return o.logger.log("sb remove "+e+" ["+l+","+u+"], of ["+n+","+s+"], pos:"+this.media.currentTime),t.remove(l,u),!0}}catch(e){o.logger.warn("removeBufferRange failed",e)}return!1},r}(n.default);t.default=u}).call(this,r(2).Number)},function(e,t,r){"use strict";(function(e){var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=function(t){function r(r){var i=t.call(this,r,a.default.FPS_DROP_LEVEL_CAPPING,a.default.MEDIA_ATTACHING,a.default.MANIFEST_PARSED,a.default.BUFFER_CODECS,a.default.MEDIA_DETACHING)||this;return i.autoLevelCapping=e.POSITIVE_INFINITY,i.firstLevel=null,i.levels=[],i.media=null,i.restrictedLevels=[],i.timer=null,i}return i(r,t),r.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},r.prototype.onFpsDropLevelCapping=function(e){r.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},r.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},r.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this._startCapping()},r.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},r.prototype.onLevelsUpdated=function(e){this.levels=e.levels},r.prototype.onMediaDetaching=function(){this._stopCapping()},r.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},r.prototype.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var i=this.levels.filter(function(i,a){return r.isLevelAllowed(a,t.restrictedLevels)&&a<=e});return r.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},r.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=e.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},r.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=e.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(r.prototype,"mediaWidth",{get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=r.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mediaHeight",{get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=r.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(r,"contentScaleFactor",{get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e},enumerable:!0,configurable:!0}),r.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},r.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var i=function(e,t){return!t||(e.width!==t.width||e.height!==t.height)},a=e.length-1,n=0;n<e.length;n+=1){var o=e[n];if((o.width>=t||o.height>=r)&&i(o,e[n+1])){a=n;break}}return a},r}(r(4).default);t.default=n}).call(this,r(2).Number)},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(4),o=r(0),s=window.performance,l=function(e){function t(t){return e.call(this,t,a.default.MEDIA_ATTACHING)||this}return i(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,r){var i=s.now();if(t){if(this.lastTime){var n=i-this.lastTime,l=r-this.lastDroppedFrames,u=t-this.lastDecodedFrames,d=1e3*l/n,f=this.hls;if(f.trigger(a.default.FPS_DROP,{currentDropped:l,currentDecoded:u,totalDroppedFrames:r}),d>0&&l>f.config.fpsDroppedMonitoringThreshold*u){var c=f.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(-1===f.autoLevelCapping||f.autoLevelCapping>=c)&&(c-=1,f.trigger(a.default.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:f.currentLevel}),f.autoLevelCapping=c,f.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(n.default);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=window.performance,n=window.XMLHttpRequest,o=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:a.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new n;var r=this.stats;r.tfirst=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(e,t.url)}catch(r){e.open("GET",t.url,!0),i(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){return void this.callbacks.onError({code:e.status,text:r.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,n=this.stats,o=this.context,s=this.config;if(!n.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(a.now(),n.trequest)),4===r){var l=t.status;if(l>=200&&l<300){n.tload=Math.max(n.tfirst,a.now());var u=void 0,d=void 0;d="arraybuffer"===o.responseType?(u=t.response).byteLength:(u=t.responseText).length,n.loaded=n.total=d;var f={url:t.responseURL,data:u};this.callbacks.onSuccess(f,n,o,t)}else n.retry>=s.maxRetry||l>=400&&l<499?(i.logger.error(l+" while loading "+o.url),this.callbacks.onError({code:l,text:t.statusText},o,t)):(i.logger.warn(l+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},e.prototype.loadtimeout=function(){i.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var i=this.callbacks.onProgress;i&&i(r,this.context,null,t)},e}();t.default=o},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(15),o=r(0),s=r(3),l=function(e){function t(t){var r=e.call(this,t,a.default.MANIFEST_LOADING,a.default.MANIFEST_PARSED,a.default.AUDIO_TRACK_LOADED,a.default.AUDIO_TRACK_SWITCHED,a.default.LEVEL_LOADED,a.default.ERROR)||this;return r._trackId=-1,r._selectDefaultTrack=!0,r.tracks=[],r.trackIdBlacklist=Object.create(null),r.audioGroupId=null,r}return i(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(a.default.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)o.logger.warn("Invalid audio track id:",e.id);else{if(o.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var r=t.audioGroupIds[t.urlId];this.audioGroupId!==r&&(this.audioGroupId=r,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===s.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(o.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),t.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)o.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)o.logger.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];o.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var r=t.url,i=t.type,n=t.id;this.hls.trigger(a.default.AUDIO_TRACK_SWITCHING,{id:n,type:i,url:r}),this._loadTrackDetailsIfNeeded(t)}},t.prototype.doTick=function(){this._updateTrack(this._trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var r=this.tracks[this._trackId],i=null;if(r&&(i=r.name),this._selectDefaultTrack){var n=t.filter(function(e){return e.default});n.length?t=n:o.logger.warn("No default audio tracks defined")}var l=!1,u=function(){t.forEach(function(t){l||e.audioGroupId&&t.groupId!==e.audioGroupId||i&&i!==t.name||(e._setAudioTrack(t.id),l=!0)})};u(),l||(i=null,u()),l||(o.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details,r=e.url;return!(t&&!t.live)&&!!r},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,r=e.id;o.logger.log("loading audio-track playlist for id: "+r),this.hls.trigger(a.default.AUDIO_TRACK_LOADING,{url:t,id:r})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,o.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],r=t.name,i=t.language,a=t.groupId;o.logger.warn("Loading failed on audio track id: "+e+", group-id: "+a+\', name/language: "\'+r+\'" / "\'+i+\'"\');for(var n=e,s=0;s<this.tracks.length;s++){if(!this.trackIdBlacklist[s])if(this.tracks[s].name===r){n=s;break}}n!==e?(o.logger.log("Attempting audio-track fallback id:",n,"group-id:",this.tracks[n].groupId),this._setAudioTrack(n)):o.logger.warn(\'No fallback audio-track found for name/language: "\'+r+\'" / "\'+i+\'"\')},t}(n.default);t.default=l},function(e,t,r){"use strict";(function(e){var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(9),n=r(5),o=r(20),s=r(1),l=r(14),u=r(25),d=r(3),f=r(0),c=r(26),h=r(7),p=r(11),g=r(28),v=window.performance,y=function(t){function r(e,r){var i=t.call(this,e,s.default.MEDIA_ATTACHED,s.default.MEDIA_DETACHING,s.default.AUDIO_TRACKS_UPDATED,s.default.AUDIO_TRACK_SWITCHING,s.default.AUDIO_TRACK_LOADED,s.default.KEY_LOADED,s.default.FRAG_LOADED,s.default.FRAG_PARSING_INIT_SEGMENT,s.default.FRAG_PARSING_DATA,s.default.FRAG_PARSED,s.default.ERROR,s.default.BUFFER_RESET,s.default.BUFFER_CREATED,s.default.BUFFER_APPENDED,s.default.BUFFER_FLUSHED,s.default.INIT_PTS_FOUND)||this;return i.fragmentTracker=r,i.config=e.config,i.audioCodecSwap=!1,i._state=g.State.STOPPED,i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}return i(r,t),r.prototype.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.prototype.onHandlerDestroyed=function(){this.state=g.State.STOPPED,this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},r.prototype.onInitPtsFound=function(e){var t=e.id,r=e.frag.cc,i=e.initPTS;"main"===t&&(this.initPTS[r]=i,this.videoTrackCC=r,f.logger.log("InitPTS for cc: "+r+" found from video track: "+i),this.state===g.State.WAITING_INIT_PTS&&this.tick())},r.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(f.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=g.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=g.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=g.State.STOPPED},r.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=g.State.STOPPED},Object.defineProperty(r.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,f.logger.log("audio stream:"+t+"->"+e)}},enumerable:!0,configurable:!0}),r.prototype.doTick=function(){var t,r,i,o=this.hls,l=o.config;switch(this.state){case g.State.ERROR:case g.State.PAUSED:case g.State.BUFFER_FLUSHING:break;case g.State.STARTING:this.state=g.State.WAITING_TRACK,this.loadedmetadata=!1;break;case g.State.IDLE:var u=this.tracks;if(!u)break;if(!this.media&&(this.startFragRequested||!l.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var d=this.mediaBuffer?this.mediaBuffer:this.media,p=this.videoBuffer?this.videoBuffer:this.media,y=n.BufferHelper.bufferInfo(d,t,l.maxBufferHole),m=n.BufferHelper.bufferInfo(p,t,l.maxBufferHole),E=y.len,_=y.end,T=this.fragPrevious,S=Math.min(l.maxBufferLength,l.maxMaxBufferLength),b=Math.max(S,m.len),A=this.audioSwitch,R=this.trackId;if((E<b||A)&&R<u.length){if(void 0===(i=u[R].details)){this.state=g.State.WAITING_TRACK;break}if(!A&&this._streamEnded(y,i))return this.hls.trigger(s.default.BUFFER_EOS,{type:"audio"}),void(this.state=g.State.ENDED);var D=i.fragments,L=D.length,O=D[0].start,w=D[L-1].start+D[L-1].duration,I=void 0;if(A)if(i.live&&!i.PTSKnown)f.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),_=0;else if(_=t,i.PTSKnown&&t<O){if(!(y.end>O||y.nextStart))return;f.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=O+.05}if(i.initSegment&&!i.initSegment.data)I=i.initSegment;else if(_<=O){if(I=D[0],null!==this.videoTrackCC&&I.cc!==this.videoTrackCC&&(I=c.findFragWithCC(D,this.videoTrackCC)),i.live&&I.loadIdx&&I.loadIdx===this.fragLoadIdx){var P=y.nextStart?y.nextStart:O;return f.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(P+.05)),void(this.media.currentTime=P+.05)}}else{var k=void 0,C=l.maxFragLookUpTolerance,F=T?D[T.sn-D[0].sn+1]:void 0,x=function(e){var t=Math.min(C,e.duration);return e.start+e.duration-t<=_?1:e.start-t>_&&e.start?-1:0};_<w?(_>w-C&&(C=0),k=F&&!x(F)?F:a.default.search(D,x)):k=D[L-1],k&&(I=k,O=k.start,T&&I.level===T.level&&I.sn===T.sn&&(I.sn<i.endSN?(I=D[I.sn+1-i.startSN],f.logger.log("SN just loaded, load next one: "+I.sn)):I=null))}I&&(I.encrypted?(f.logger.log("Loading key for "+I.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+R),this.state=g.State.KEY_LOADING,o.trigger(s.default.KEY_LOADING,{frag:I})):(f.logger.log("Loading "+I.sn+", cc: "+I.cc+" of ["+i.startSN+" ,"+i.endSN+"],track "+R+", currentTime:"+t+",bufferEnd:"+_.toFixed(3)),this.fragCurrent=I,(A||this.fragmentTracker.getState(I)===h.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,e.isFinite(I.sn)&&(this.nextLoadPosition=I.start+I.duration),o.trigger(s.default.FRAG_LOADING,{frag:I}),this.state=g.State.FRAG_LOADING)))}break;case g.State.WAITING_TRACK:(r=this.tracks[this.trackId])&&r.details&&(this.state=g.State.IDLE);break;case g.State.FRAG_LOADING_WAITING_RETRY:var M=v.now(),N=this.retryDate,U=(d=this.media)&&d.seeking;(!N||M>=N||U)&&(f.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=g.State.IDLE);break;case g.State.WAITING_INIT_PTS:var B=this.videoTrackCC;if(void 0===this.initPTS[B])break;var G=this.waitingFragment;if(G){var j=G.frag.cc;B!==j?(r=this.tracks[this.trackId]).details&&r.details.live&&(f.logger.warn("Waiting fragment CC ("+j+") does not match video track CC ("+B+")"),this.waitingFragment=null,this.state=g.State.IDLE):(this.state=g.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=g.State.IDLE;break;case g.State.STOPPED:case g.State.FRAG_LOADING:case g.State.PARSING:case g.State.PARSED:case g.State.ENDED:}},r.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},r.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},r.prototype.onAudioTracksUpdated=function(e){f.logger.log("audio tracks updated"),this.tracks=e.audioTracks},r.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=g.State.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=g.State.IDLE),this.tick()},r.prototype.onAudioTrackLoaded=function(t){var r=t.details,i=t.id,a=this.tracks[i],n=r.totalduration,o=0;if(f.logger.log("track "+i+" loaded ["+r.startSN+","+r.endSN+"],duration:"+n),r.live){var s=a.details;s&&r.fragments.length>0?(l.mergeDetails(s,r),o=r.fragments[0].start,r.PTSKnown?f.logger.log("live audio playlist sliding:"+o.toFixed(3)):f.logger.log("live audio playlist - outdated PTS, unknown sliding")):(r.PTSKnown=!1,f.logger.log("live audio playlist - first load, unknown sliding"))}else r.PTSKnown=!1;if(a.details=r,!this.startFragRequested){if(-1===this.startPosition){var u=r.startTimeOffset;e.isFinite(u)?(f.logger.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===g.State.WAITING_TRACK&&(this.state=g.State.IDLE),this.tick()},r.prototype.onKeyLoaded=function(){this.state===g.State.KEY_LOADING&&(this.state=g.State.IDLE,this.tick())},r.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===g.State.FRAG_LOADING&&t&&"audio"===r.type&&r.level===t.level&&r.sn===t.sn){var i=this.tracks[this.trackId],a=i.details,n=a.totalduration,l=t.level,u=t.sn,d=t.cc,c=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",h=this.stats=e.stats;if("initSegment"===u)this.state=g.State.IDLE,h.tparsed=h.tbuffered=v.now(),a.initSegment.data=e.payload,this.hls.trigger(s.default.FRAG_BUFFERED,{stats:h,frag:t,id:"audio"}),this.tick();else{this.state=g.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new o.default(this.hls,"audio"));var p=this.initPTS[d],y=a.initSegment?a.initSegment.data:[];if(a.initSegment||void 0!==p){this.pendingBuffering=!0,f.logger.log("Demuxing "+u+" of ["+a.startSN+" ,"+a.endSN+"],track "+l);this.demuxer.push(e.payload,y,c,null,t,n,!1,p)}else f.logger.log("unknown video PTS for continuity counter "+d+", waiting for video PTS before demuxing audio frag "+u+" of ["+a.startSN+" ,"+a.endSN+"],track "+l),this.waitingFragment=e,this.state=g.State.WAITING_INIT_PTS}}this.fragLoadError=0},r.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===g.State.PARSING){var i=e.tracks,a=void 0;if(i.video&&delete i.video,a=i.audio){a.levelCodec=a.codec,a.id=e.id,this.hls.trigger(s.default.BUFFER_CODECS,i),f.logger.log("audio track:audio,container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var n=a.initSegment;if(n){var o={type:"audio",data:n,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(s.default.BUFFER_APPENDING,o))}this.tick()}}},r.prototype.onFragParsingData=function(t){var r=this,i=this.fragCurrent,a=t.frag;if(i&&"audio"===t.id&&"audio"===t.type&&a.sn===i.sn&&a.level===i.level&&this.state===g.State.PARSING){var n=this.trackId,o=this.tracks[n],u=this.hls;e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),i.addElementaryStream(p.default.ElementaryStreamTypes.AUDIO),f.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),l.updateFragPTSDTS(o.details,i,t.startPTS,t.endPTS);var c=this.audioSwitch,h=this.media,v=!1;if(c&&h)if(h.readyState){var y=h.currentTime;f.logger.log("switching audio track : currentTime:"+y),y>=t.startPTS&&(f.logger.log("switching audio track : flushing all audio"),this.state=g.State.BUFFER_FLUSHING,u.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),v=!0,this.audioSwitch=!1,u.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:n}))}else this.audioSwitch=!1,u.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:n});var m=this.pendingData;if(!m)return f.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void u.trigger(s.default.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&m.push({type:t.type,data:e,parent:"audio",content:"data"})}),!v&&m.length&&(m.forEach(function(e){r.state===g.State.PARSING&&(r.pendingBuffering=!0,r.hls.trigger(s.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},r.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===g.State.PARSING&&(this.stats.tparsed=v.now(),this.state=g.State.PARSED,this._checkAppendedParsed())},r.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},r.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},r.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==g.State.PARSING&&t!==g.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},r.prototype._checkAppendedParsed=function(){if(!(this.state!==g.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,r=this.hls;if(e){this.fragPrevious=e,t.tbuffered=v.now(),r.trigger(s.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;f.logger.log("audio buffered : "+u.default.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(s.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=g.State.IDLE}this.tick()}},r.prototype.onError=function(t){var r=t.frag;if(!r||"audio"===r.type)switch(t.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:var i=t.frag;if(i&&"audio"!==i.type)break;if(!t.fatal){var a=this.fragLoadError;if(a?a++:a=1,a<=(l=this.config).fragLoadingMaxRetry){this.fragLoadError=a;var o=Math.min(Math.pow(2,a-1)*l.fragLoadingRetryDelay,l.fragLoadingMaxRetryTimeout);f.logger.warn("AudioStreamController: frag loading failed, retry in "+o+" ms"),this.retryDate=v.now()+o,this.state=g.State.FRAG_LOADING_WAITING_RETRY}else f.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=g.State.ERROR}break;case d.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case d.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==g.State.ERROR&&(this.state=t.fatal?g.State.ERROR:g.State.IDLE,f.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case d.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===g.State.PARSING||this.state===g.State.PARSED)){var l,u=this.mediaBuffer,c=this.media.currentTime;if(u&&n.BufferHelper.isBuffered(u,c)&&n.BufferHelper.isBuffered(u,c+.5))(l=this.config).maxMaxBufferLength>=l.maxBufferLength&&(l.maxMaxBufferLength/=2,f.logger.warn("AudioStreamController: reduce max buffer length to "+l.maxMaxBufferLength+"s")),this.state=g.State.IDLE;else f.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=g.State.BUFFER_FLUSHING,this.hls.trigger(s.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"})}}},r.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(f.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach(function(t){e.hls.trigger(s.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=g.State.PARSED):(this.state=g.State.IDLE,this.fragPrevious=null,this.tick())},r}(g.default);t.default=y}).call(this,r(2).Number)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(30);t.newCue=function(e,t,r,a){for(var n,o,s,l,u,d=window.VTTCue||window.TextTrackCue,f=0;f<a.rows.length;f++)if(s=!0,l=0,u="",!(n=a.rows[f]).isEmpty()){for(var c=0;c<n.chars.length;c++)n.chars[c].uchar.match(/\\s/)&&s?l++:(u+=n.chars[c].uchar,s=!1);n.cueStartTime=t,t===r&&(r+=1e-4),o=new d(t,r,i.fixLineBreaks(u.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\\//)?o.line=f+1:o.line=f>7?f-2:f+1,o.align="left",o.position=Math.max(0,Math.min(100,l/32*100+(navigator.userAgent.match(/Firefox\\//)?50:0))),e.addCue(o)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var e="auto",t={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}function n(r,n,o){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\\s8\\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var d="",f=!1,c=r,h=n,p=o,g=null,v="",y=!0,m="auto",E="start",_=50,T="middle",S=50,b="middle";if(Object.defineProperty(s,"id",a({},u,{get:function(){return d},set:function(e){d=""+e}})),Object.defineProperty(s,"pauseOnExit",a({},u,{get:function(){return f},set:function(e){f=!!e}})),Object.defineProperty(s,"startTime",a({},u,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",a({},u,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",a({},u,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",a({},u,{get:function(){return g},set:function(e){g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",a({},u,{get:function(){return v},set:function(e){var r=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");v=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",a({},u,{get:function(){return y},set:function(e){y=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",a({},u,{get:function(){return m},set:function(t){if("number"!=typeof t&&t!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",a({},u,{get:function(){return E},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",a({},u,{get:function(){return _},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",a({},u,{get:function(){return T},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",a({},u,{get:function(){return S},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");S=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",a({},u,{get:function(){return b},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}return n.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},n}()},function(e,t,r){"use strict";(function(e){var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(4),o=r(71),s=r(72),l=r(73),u=r(0),d=r(29);function f(e,t,r,i){return Math.min(t,i)-Math.max(e,r)}var c=function(t){function r(e){var r=t.call(this,e,a.default.MEDIA_ATTACHING,a.default.MEDIA_DETACHING,a.default.FRAG_PARSING_USERDATA,a.default.FRAG_DECRYPTED,a.default.MANIFEST_LOADING,a.default.MANIFEST_LOADED,a.default.FRAG_LOADED,a.default.LEVEL_SWITCHING,a.default.INIT_PTS_FOUND)||this;if(r.hls=e,r.config=e.config,r.enabled=!0,r.Cues=e.config.cueHandler,r.textTracks=[],r.tracks=[],r.unparsedVttFrags=[],r.initPTS=[],r.cueRanges=[],r.captionsTracks={},r.captionsProperties={textTrack1:{label:r.config.captionsTextTrack1Label,languageCode:r.config.captionsTextTrack1LanguageCode},textTrack2:{label:r.config.captionsTextTrack2Label,languageCode:r.config.captionsTextTrack2LanguageCode}},r.config.enableCEA708Captions){var i=new s.default(r,"textTrack1"),n=new s.default(r,"textTrack2");r.cea608Parser=new o.default(0,i,n)}return r}return i(r,t),r.prototype.addCues=function(e,t,r,i){for(var a=this.cueRanges,n=!1,o=a.length;o--;){var s=a[o],l=f(s[0],s[1],t,r);if(l>=0&&(s[0]=Math.min(s[0],t),s[1]=Math.max(s[1],r),n=!0,l/(r-t)>.5))return}n||a.push([t,r]),this.Cues.newCue(this.captionsTracks[e],t,r,i)},r.prototype.onInitPtsFound=function(e){var t=this;if("main"===e.id&&(this.initPTS[e.frag.cc]=e.initPTS),this.unparsedVttFrags.length){var r=this.unparsedVttFrags;this.unparsedVttFrags=[],r.forEach(function(e){t.onFragLoaded(e)})}},r.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var i=t.textTracks[r];if(i[e])return i}return null},r.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],r=t.label,i=t.languageCode,a=this.captionsTracks;if(!a[e]){var n=this.getExistingTrack(e);if(n)a[e]=n,d.clearCurrentCues(a[e]),d.sendAddTrackEvent(a[e],this.media);else{var o=this.createTextTrack("captions",r,i);o&&(o[e]=!0,a[e]=o)}}},r.prototype.createTextTrack=function(e,t,r){var i=this.media;if(i)return i.addTextTrack(e,t,r)},r.prototype.destroy=function(){n.default.prototype.destroy.call(this)},r.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},r.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){d.clearCurrentCues(e[t]),delete e[t]})},r.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},r.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)d.clearCurrentCues(t[r])}},r.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,i){var a;if(i<r.length){var n=[].slice.call(r).find(function(t){return function(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}(t,e)});n&&(a=n)}a||(a=t.createTextTrack("subtitles",e.name,e.lang)),e.default?a.mode=t.hls.subtitleDisplay?"showing":"hidden":a.mode="disabled",t.textTracks.push(a)})}},r.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},r.prototype.onFragLoaded=function(t){var r=t.frag,i=t.payload;if("main"===r.type){var n=r.sn;if(n!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=n}else if("subtitle"===r.type)if(i.byteLength){if(!e.isFinite(this.initPTS[r.cc]))return this.unparsedVttFrags.push(t),void(this.initPTS.length&&this.hls.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r}));var s=r.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(r,i)}else this.hls.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r})},r.prototype._parseVTTs=function(e,t){var r=this.vttCCs;r[e.cc]||(r[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var i=this.textTracks,n=this.hls;l.default.parse(t,this.initPTS[e.cc],r,e.cc,function(t){var r=i[e.trackId];"disabled"!==r.mode?(t.forEach(function(e){if(!r.cues.getCueById(e.id))try{r.addCue(e)}catch(i){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,r.addCue(t)}}),n.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):n.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},function(t){u.logger.log("Failed to parse VTT cue: "+t),n.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},r.prototype.onFragDecrypted=function(t){var r=t.payload,i=t.frag;if("subtitle"===i.type){if(!e.isFinite(this.initPTS[i.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(i,r)}},r.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}},r.prototype.extractCea608Data=function(e){for(var t,r,i,a=31&e[0],n=2,o=[],s=0;s<a;s++)t=e[n++],r=127&e[n++],i=127&e[n++],0===r&&0===i||0!=(4&t)&&0===(3&t)&&(o.push(r),o.push(i));return o},r}(n.default);t.default=c}).call(this,r(2).Number)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(e){var t=e;return i.hasOwnProperty(e)&&(t=i[e]),String.fromCharCode(t)},n=15,o=100,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},h=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},p=function(){function e(e,t,r,i,a){this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=i||"black",this.flash=a||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)&&(this[i]=e[i])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),g=function(){function e(e,t,r,i,a,n){this.uchar=e||" ",this.penState=new p(t,r,i,a,n)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),v=function(){function e(){this.chars=[];for(var e=0;e<o;e++)this.chars.push(new g);this.pos=0,this.currPenState=new p}return e.prototype.equals=function(e){for(var t=!0,r=0;r<o;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<o;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<o;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>o&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=o)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=a(e);this.pos>=o?c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t;for(t=e;t<o;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,r=0;r<o;r++){var i=this.chars[r].uchar;" "!==i&&(t=!1),e.push(i)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),y=function(){function e(){this.rows=[];for(var e=0;e<n;e++)this.rows.push(new v);this.currRow=n-1,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<n;e++)this.rows[e].clear();this.currRow=n-1},e.prototype.equals=function(e){for(var t=!0,r=0;r<n;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<n;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<n;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){c.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<n;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var o=a.rows[i].cueStartTime;if(o&&o<c.time)for(r=0;r<this.nrRollUpRows;r++)this.rows[t-this.nrRollUpRows+r+1].copy(a.rows[i+r])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,u=Math.max(l-1,0);s.setCursor(e.indent),e.color=s.chars[u].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)},e.prototype.setBkgData=function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null!==this.nrRollUpRows){c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")}else c.log("DEBUG","roll_up but nrRollUpRows not set yet")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],r="",i=-1,a=0;a<n;a++){var o=this.rows[a].getTextString();o&&(i=a+1,e?t.push("Row "+i+": \'"+o+"\'"):t.push(o.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\\n")),r},e.prototype.getTextAndFormat=function(){return this.rows},e}(),m=function(){function e(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new y,this.nonDisplayedMemory=new y,this.lastOutputScreen=new y,this.currRollUpRow=this.displayedMemory.rows[n-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[n-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=c.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),E=function(){function e(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new m(1,t),new m(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var r,i,a,n=!1;this.lastTime=e,c.setTime(e);for(var o=0;o<t.length;o+=2)if(i=127&t[o],a=127&t[o+1],0!==i||0!==a){if(c.log("DATA","["+h([t[o],t[o+1]])+"] -> ("+h([i,a])+")"),(r=this.parseCmd(i,a))||(r=this.parseMidrow(i,a)),r||(r=this.parsePAC(i,a)),r||(r=this.parseBackgroundAttributes(i,a)),!r)if(n=this.parseChars(i,a))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(n);else c.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:n?this.dataCounters.char+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn\'t parse cleaned data "+h([i,a])+" orig: "+h([t[o],t[o+1]])))}else this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var r=null;if(!((20===e||28===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+h([e,t])+") is dropped"),!0;r=20===e||23===e?1:2;var i=this.channels[r-1];return 20===e||28===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.parseMidrow=function(e,t){var r=null;return(17===e||25===e)&&t>=32&&t<=47&&((r=17===e?1:2)!==this.currChNr?(c.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[r-1].ccMIDROW(t),c.log("DEBUG","MIDROW ("+h([e,t])+")"),!0))},e.prototype.parsePAC=function(e,t){var r,i=null;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,i=t>=64&&t<=95?1===r?s[e]:u[e]:1===r?l[e]:d[e];var a=this.interpretPAC(i,t);return this.channels[r-1].setPAC(a),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.interpretPAC=function(e,t){var r=t,i={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,i.underline=1==(1&r),r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((r-16)/2),i},e.prototype.parseChars=function(e,t){var r=null,i=null,n=null;if(e>=25?(r=2,n=e-8):(r=1,n=e),n>=17&&n<=19){var o=t;o=17===n?t+80:18===n?t+112:t+144,c.log("INFO","Special char \'"+a(o)+"\' in channel "+r),i=[o]}else e>=32&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var s=h(i);c.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},e.prototype.parseBackgroundAttributes=function(e,t){var r,i,a;return((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47)&&(r={},16===e||24===e?(i=Math.floor((t-32)/2),r.background=f[i],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),a=e<24?1:2,this.channels[a-1].setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}();t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},e}();t.default=i},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(30),a=r(10),n=function(e,t,r){return e.substr(r||0,t.length)===t},o=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()},s={parse:function(t,r,s,l,u,d){var f,c=a.utf8ArrayToStr(new Uint8Array(t)).trim().replace(/\\r\\n|\\n\\r|\\n|\\r/g,"\\n").split("\\n"),h="00:00.000",p=0,g=0,v=0,y=[],m=!0,E=new i.default;E.oncue=function(e){var t=s[l],r=s.ccOffset;t&&t.new&&(void 0!==g?r=s.ccOffset=t.start:function(e,t,r){var i=e[t],a=e[i.prevCC];if(!a||!a.new&&i.new)return e.ccOffset=e.presentationOffset=i.start,void(i.new=!1);for(;a&&a.new;)e.ccOffset+=i.start-a.start,i.new=!1,a=e[(i=a).prevCC];e.presentationOffset=r}(s,l,v)),v&&(r=v-s.presentationOffset),e.startTime+=r-g,e.endTime+=r-g,e.id=o(e.startTime.toString())+o(e.endTime.toString())+o(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&y.push(e)},E.onparsingerror=function(e){f=e},E.onflush=function(){f&&d?d(f):u(y)},c.forEach(function(t){if(m){if(n(t,"X-TIMESTAMP-MAP=")){m=!1,t.substr(16).split(",").forEach(function(e){n(e,"LOCAL:")?h=e.substr(6):n(e,"MPEGTS:")&&(p=parseInt(e.substr(7)))});try{r+(9e4*s[l].start||0)<0&&(r+=8589934592),p-=r,g=function(t){var r=parseInt(t.substr(-3)),i=parseInt(t.substr(-6,2)),a=parseInt(t.substr(-9,2)),n=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;return e.isFinite(r)&&e.isFinite(i)&&e.isFinite(a)&&e.isFinite(n)?(r+=1e3*i,r+=6e4*a,r+=36e5*n):-1}(h)/1e3,v=p/9e4,-1===g&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){f=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(m=!1)}E.parse(t+"\\n")}),E.flush()}};t.default=s}).call(this,r(2).Number)},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(4),o=r(0);function s(e){for(var t=[],r=0;r<e.length;r++)"subtitles"===e[r].kind&&t.push(e[r]);return t}var l=function(e){function t(t){var r=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.MANIFEST_LOADING,a.default.MANIFEST_LOADED,a.default.SUBTITLE_TRACK_LOADED)||this;return r.tracks=[],r.trackId=-1,r.media=null,r.subtitleDisplay=!0,r}return i(t,e),t.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=s(this.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=r;else if("showing"===t[r].mode){e=r;break}this.subtitleTrack=e}},t.prototype.destroy=function(){n.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},t.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestLoaded=function(e){var t=this,r=e.subtitles||[];this.tracks=r,this.trackId=-1,this.hls.trigger(a.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},t.prototype.onTick=function(){var e=this.trackId,t=this.tracks[e];if(t){var r=t.details;r&&!r.live||(o.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(a.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}},t.prototype.onSubtitleTrackLoaded=function(e){var t=this;e.id<this.tracks.length&&(o.logger.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&this._stopTimer())},Object.defineProperty(t.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this.setSubtitleTrackInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setSubtitleTrackInternal=function(e){var t=this.hls,r=this.tracks;if(!("number"!=typeof e||e<-1||e>=r.length)&&(this._stopTimer(),this.trackId=e,o.logger.log("switching to subtitle track "+e),t.trigger(a.default.SUBTITLE_TRACK_SWITCH,{id:e}),-1!==e)){var i=r[e],n=i.details;n&&!n.live||(o.logger.log("(re)loading playlist for subtitle track "+e),t.trigger(a.default.SUBTITLE_TRACK_LOADING,{url:i.url,id:e}))}},t.prototype._stopTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},t.prototype._toggleTrackModes=function(e){var t=this.media,r=this.subtitleDisplay,i=this.trackId;if(t){var a=s(t.textTracks);if(-1===e)[].slice.call(a).forEach(function(e){e.mode="disabled"});else{var n=a[i];n&&(n.mode="disabled")}var o=a[e];o&&(o.mode=r?"showing":"hidden")}},t}(n.default);t.default=l},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=r(0),o=r(12),s=r(15),l=r(5),u=r(27),d=r(7),f=window.performance;t.SubtitleStreamControllerState={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"};var c=t.SubtitleStreamControllerState,h=function(e){function t(t,r){var i=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.ERROR,a.default.KEY_LOADED,a.default.FRAG_LOADED,a.default.SUBTITLE_TRACKS_UPDATED,a.default.SUBTITLE_TRACK_SWITCH,a.default.SUBTITLE_TRACK_LOADED,a.default.SUBTITLE_FRAG_PROCESSED)||this;return i.fragmentTracker=r,i.config=t.config,i.state=c.STOPPED,i.tracks=[],i.tracksBuffered=[],i.currentTrackId=-1,i.decrypter=new o.default(t,t.config),i}return i(t,e),t.prototype.onHandlerDestroyed=function(){this.fragmentTracker=null,this.state=c.STOPPED,e.prototype.onHandlerDestroyed.call(this)},t.prototype.onSubtitleFragProcessed=function(e){if(this.state=c.IDLE,e.success){var t=this.tracksBuffered[this.currentTrackId],r=e.frag;if(this.fragPrevious=r,t){for(var i,a=0;a<t.length;a++)if(r.start>=t[a].start&&r.start<=t[a].end){i=t[a];break}i?i.end=r.start+r.duration:t.push({start:r.start,end:r.start+r.duration})}}},t.prototype.onMediaAttached=function(e){this.media=e.media,this.state=c.IDLE},t.prototype.onMediaDetaching=function(){this.media=null,this.state=c.STOPPED},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.state=c.IDLE)},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;n.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]})},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},t.prototype.onSubtitleTrackLoaded=function(e){var t=e.id,r=e.details;this.tracks?(this.tracks[t]&&(n.logger.log("Updating subtitle track details"),this.tracks[t].details=r),this.setInterval(500)):n.logger.warn("Can not update subtitle details, no tracks found")},t.prototype.onKeyLoaded=function(){this.state===c.KEY_LOADING&&(this.state=c.IDLE)},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag.decryptdata,i=e.frag,n=this.hls;if(this.state===c.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&r&&r.key&&"AES-128"===r.method){var o=f.now();this.decrypter.decrypt(e.payload,r.key.buffer,r.iv.buffer,function(e){var t=f.now();n.trigger(a.default.FRAG_DECRYPTED,{frag:i,payload:e,stats:{tstart:o,tdecrypt:t}})})}},t.prototype.doTick=function(){if(this.media)switch(this.state){case c.IDLE:var e=this.tracks,t=this.currentTrackId;if(!e||!e[t]||!e[t].details)break;var r=e[t].details,i=this.config,o=i.maxBufferHole,s=Math.min(i.maxBufferLength,i.maxMaxBufferLength),f=i.maxFragLookUpTolerance,h=l.BufferHelper.bufferedInfo(this._getBuffered(),this.media.currentTime,o),p=h.end,g=h.len,v=r.fragments,y=v.length,m=v[y-1].start+v[y-1].duration,E=void 0;g<s&&p<m?E=u.findFragmentByPTS(this.fragPrevious,v,p,f):r.hasProgramDateTime&&this.fragPrevious&&(E=u.findFragmentByPDT(v,this.fragPrevious.endProgramDateTime,f)),E&&E.encrypted?(n.logger.log("Loading key for "+E.sn),this.state=c.KEY_LOADING,this.hls.trigger(a.default.KEY_LOADING,{frag:E})):E&&this.fragmentTracker.getState(E)===d.FragmentState.NOT_LOADED&&(E.trackId=t,this.fragCurrent=E,this.state=c.FRAG_LOADING,this.hls.trigger(a.default.FRAG_LOADING,{frag:E}))}else this.state=c.IDLE},t.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},t}(s.default);t.SubtitleStreamController=h},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),n=r(1),o=r(3),s=r(0),l=window.XMLHttpRequest,u="com.widevine.alpha",d="com.microsoft.playready",f=function(e){function t(t){var r=e.call(this,t,n.default.MEDIA_ATTACHED,n.default.MANIFEST_PARSED)||this;return r._widevineLicenseUrl=t.config.widevineLicenseUrl,r._licenseXhrSetup=t.config.licenseXhrSetup,r._emeEnabled=t.config.emeEnabled,r._requestMediaKeySystemAccess=t.config.requestMediaKeySystemAccessFunc,r._mediaKeysList=[],r._media=null,r._hasSetMediaKeys=!1,r._isMediaEncrypted=!1,r._requestLicenseFailureCount=0,r}return i(t,e),t.prototype.getLicenseServerUrl=function(e){var t;switch(e){case u:t=this._widevineLicenseUrl;break;default:t=null}return t||(s.logger.error(\'No license server URL configured for key-system "\'+e+\'"\'),this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,r){var i=this,a=function(e,t,r){switch(e){case u:return function(e,t,r){var i={videoCapabilities:[]};return t.forEach(function(e){i.videoCapabilities.push({contentType:\'video/mp4; codecs="\'+e+\'"\'})}),[i]}(0,r);default:throw Error("Unknown key-system: "+e)}}(e,0,r);a?(s.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,a).then(function(t){i._onMediaKeySystemAccessObtained(e,t)}).catch(function(t){s.logger.error(\'Failed to obtain key-system "\'+e+\'" access:\',t)})):s.logger.warn("Can not create config for key-system (maybe because platform is not supported):",e)},Object.defineProperty(t.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),t.prototype._onMediaKeySystemAccessObtained=function(e,t){var r=this;s.logger.log(\'Access for key-system "\'+e+\'" obtained\');var i={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(i),t.createMediaKeys().then(function(t){i.mediaKeys=t,s.logger.log(\'Media-keys created for key-system "\'+e+\'"\'),r._onMediaKeysCreated()}).catch(function(e){s.logger.error("Failed to create media-keys:",e)})},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},t.prototype._onNewMediaKeySession=function(e){var t=this;s.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",function(r){t._onKeySessionMessage(e,r.message)},!1)},t.prototype._onKeySessionMessage=function(e,t){s.logger.log("Got EME message event, creating license request"),this._requestLicense(t,function(t){s.logger.log("Received license data, updating key-session"),e.update(t)})},t.prototype._onMediaEncrypted=function(e,t){s.logger.log(\'Media is encrypted using "\'+e+\'" init data type\'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return s.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});s.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return s.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)s.logger.warn("Key-Session already initialized but requested again");else{var r=t.mediaKeysSession;r||(s.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var i=this._mediaEncryptionInitDataType,a=this._mediaEncryptionInitData;s.logger.log(\'Generating key-session request for "\'+i+\'" init data type\'),t.mediaKeysSessionInitialized=!0,r.generateRequest(i,a).then(function(){s.logger.debug("Key-session generation succeeded")}).catch(function(t){s.logger.error("Error generating key-session request:",t),e.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},t.prototype._createLicenseXhr=function(e,t,r){var i=new l,a=this._licenseXhrSetup;try{if(a)try{a(i,e)}catch(t){i.open("POST",e,!0),a(i,e)}i.readyState||i.open("POST",e,!0)}catch(e){return s.logger.error("Error setting up key-system license XHR",e),void this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return i.responseType="arraybuffer",i.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,i,e,t,r),i},t.prototype._onLicenseRequestReadyStageChange=function(e,t,r,i){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,s.logger.log("License request succeeded"),i(e.response);else{if(s.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var a=3-this._requestLicenseFailureCount+1;return s.logger.warn("Retrying license request, "+a+" attempts left"),void this._requestLicense(r,i)}this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},t.prototype._generateLicenseRequestChallenge=function(e,t){var r;return e.mediaKeySystemDomain===d?s.logger.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===u?r=t:s.logger.error("Unsupported key-system:",e.mediaKeySystemDomain),r},t.prototype._requestLicense=function(e,t){s.logger.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return s.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var i=this.getLicenseServerUrl(r.mediaKeySystemDomain),a=this._createLicenseXhr(i,e,t);s.logger.log("Sending license request to URL: "+i),a.send(this._generateLicenseRequestChallenge(r,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var r=e.media;this._media=r,r.addEventListener("encrypted",function(e){t._onMediaEncrypted(e.initDataType,e.initData)})}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map(function(e){return e.audioCodec}),r=e.levels.map(function(e){return e.videoCodec});this._attemptKeySystemAccess(u,t,r)}},t}(a.default);t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;t.requestMediaKeySystemAccess=i}]).default});\n//# sourceMappingURL=hls.min.js.map'},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(171),r=n(54),o=n(46),s=n(112),l=n(5),c=n(62),u=function(t){function n(){var i=t.call(this)||this;return i.videoElement=document.createElement("video"),i.userClick=!1,i.prevVolume=0,i._playTimerInt=0,i._playTimeout=0,i._playDelay=0,i._streamName=null,i.handleLoadStart=function(){chat.debug("[debug] loadstart")},i.handleProgress=function(){i.videoElement.loading=!0},i.handleWaiting=function(){chat.debug("[debug] waiting")},i.handlePlay=function(){chat.debug("[debug] play "+i.type),e("#sound-btn").hasClass("sound-off")||e("#sound-btn").addClass("sound-on"),(n.autoPlayAvailable||i.userClick)&&e("#stream-container .spinner").show(),i.videoElement.className=""},i.handlePlaying=function(){if(chat.debug("[debug] playing"),!i.videoElement.paused){i.videoElement.playStarted=!0,i.videoElement.playing=!0,i.videoElement.loading=!1;var t=e("#stream-container").parent();e("#playHLS").hide(),t.addClass("playing")}},i.handleEnded=function(){i.videoElement.playing=!1,chat.debug("[debug] ended")},i.handleEmptied=function(){i.videoElement.playing=!1,chat.debug("[debug] emptied")},i.handleError=function(){i.videoElement.playing=!1,chat.debug("[debug] error")},i.handleAbort=function(){i.videoElement.playing=!1,chat.debug("[debug] abort")},i.handleTimeUpdate=function(){chat.options.debug,i.videoElement.lastTimeupdate=(new Date).getTime(),i.videoElement.currentTime>0?i.videoElement.lastTime=i.videoElement.currentTime:i.videoElement.lastTime>0&&chat.debug("[debug] END")},i.handleLoadedData=function(){i.videoElement.dataLoaded=!0,chat.debug("[debug] loadeddata")},i.handleLoadedMetaData=function(){i.startOffset&&Number.isFinite(i.videoElement.duration)&&(i.videoElement.currentTime=i.startOffset*i.videoElement.duration),chat.debug("[debug] onloadedmetadata")},r.BrowserDetect.isChrome_MinVersion(66)&&!r.BrowserDetect.isYandex()?fetch("/images/chat/video/video.mp4").then(function(e){return e.arrayBuffer()}).then(function(t){var n=new Uint8Array(t),a=new Blob([n],{type:"video/mp4"}),r=document.createElement("iframe"),o=window.URL.createObjectURL(a);r.className="bottom-iframe",r.width="1",r.height="1",r.src=o,r.addEventListener("load",function(){i.videoElement=r.contentDocument.querySelector("video"),i._initVideoElement();var t=i.videoElement.querySelector("source");t.parentNode.removeChild(t),window.URL.revokeObjectURL(o),e("#stream-container .spinner").show()}),document.body.appendChild(r)}):n.checkAutoPlay(function(t){!1===t&&(e("#video_player_container").append('<span id="playHLS"></span>'),e(document).one("click","#playHLS, #displayHLS, #stream-container",function(){e("#playHLS").hide(),i.userClick=!0,i.videoElement.play()}),e("#playHLS").css("display","block"),e("#stream-container").find(".spinner").hide()),i._initVideoElement(),"muted"===t&&(i.prevVolume=l.default.getState().soundVolume,chat.setSoundVolume(0),i.videoElement.muted=!0,i.videoElement.volume=0)}),i}return i(n,t),n.checkAutoPlay=function(e){if(null!==n.autoPlayAvailable)return void e(n.autoPlayAvailable);var t=document.createElement("video");t.src=chat.options.baseUrl+"/images/chat/video/video.mp4",t.controls=!0,t.autoplay=!0,t.style.position="fixed",t.style.width="320px",t.style.height="240px",t.style.top="-5000px",t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),document.body.appendChild(t);var i=function(i){t.remove(),e(n.autoPlayAvailable=i)};t.load();var a=t.play();void 0!==a?a.then(function(){i(!t.paused)}).catch(function(e){t.muted=!0;var n=t.play();void 0!==n?n.then(function(){i("muted")}).catch(function(){i(!1)}):i(!t.paused&&"muted")}):i(!t.paused)},n.prototype.getHTMLVideoElement=function(){return this.videoElement},n.prototype._initVideoElement=function(){var t=this.videoElement;t.controls=!1,t.preload="none",t.autoplay=!0,e("body").hasClass("opr-browser")&&(t.autoplay=!1),t.id="displayHLS",t.lastTime=0,t.errorCount=0,t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.setAttribute("wmode","opaque"),t.addEventListener("loadstart",this.handleLoadStart),t.addEventListener("progress",this.handleProgress),t.addEventListener("waiting",this.handleWaiting),t.addEventListener("play",this.handlePlay),t.addEventListener("playing",this.handlePlaying),t.addEventListener("ended",this.handleEnded),t.addEventListener("emptied",this.handleEmptied),t.addEventListener("error",this.handleError),t.addEventListener("abort",this.handleAbort),t.addEventListener("timeupdate",this.handleTimeUpdate),t.addEventListener("loadeddata",this.handleLoadedData),t.addEventListener("loadedmetadata",this.handleLoadedMetaData),e("#video_player_container").append(t),o.eventDispatcher.dispatch(s.VideoPlayerEvent.INIT,this)},n.prototype.seek=function(e){if(this.videoElement&&this.videoElement.dataLoaded){var t=e*(Number.isFinite(this.videoElement.duration)?this.videoElement.duration:0);t!==this.videoElement.currentTime&&(this.videoElement.currentTime=t)}},n.prototype.play=function(){chat.debug("[debug] Play Method");var i=this.videoElement.play();void 0!==i&&i.catch(function(e){chat.debug("PLAY E: "+e.message)}),this.startPlayTimer(),!1!==n.autoPlayAvailable||this.userClick||(e("#playHLS").css("display","block"),e("#stream-container").find(".spinner").hide()),t.prototype.play.call(this)},n.prototype.playRequest=function(){chat.debug("[debug] Play Request Method"),this.videoElement.play(),"muted"!==n.autoPlayAvailable||this.userClick?this.videoElement.volume=this.getVolume():chat.setSoundVolume(this.prevVolume,!0),this.userClick=!0,e("#playHLS").hide(),e("#stream-container").find(".spinner").show()},n.prototype.setVolume=function(e){t.prototype.setVolume.call(this,e),("muted"!==n.autoPlayAvailable||this.userClick)&&(this.videoElement.muted=e<=0,this.videoElement.volume=e)},n.prototype.startPlayTimer=function(){var t=this;window.clearInterval(this._playTimerInt),this._playTimerInt=window.setInterval(function(){if(chat.options.debug){var i="[debug] =========================\n          type: "+t.type+"\n          currentTime: "+t.videoElement.currentTime+"\n          lastTimeupdate: "+t.videoElement.lastTimeupdate+"\n          playing: "+t.playing+"\n          V_Playing: "+t.videoElement.playing+"\n          V_Paused: "+t.videoElement.paused+"\n          V_DataLoaded: "+t.videoElement.dataLoaded+"\n          V_NetworkState: "+t.videoElement.networkState+"\n          playDelay: "+t._playDelay+"\n          autoPlay: "+n.autoPlayAvailable+"\n          userClick: "+t.userClick;chat.debug(i)}if(!1===n.autoPlayAvailable&&!t.userClick&&!t.videoElement.playStarted&&t.videoElement.paused)return e("#playHLS").css("display","block"),void e("#stream-container .spinner").hide();t.videoElement.lastTimeupdate&&t.videoElement.playing||!t.playing||(chat.debug("[debug] re-play: "+t.src),t._streamName=null,t.play())},6e3)},n.prototype.close=function(){chat.debug("[debug] Close Method"),this.videoElement.pause(),this.videoElement.errorCount=0,this.videoElement.lastTimeupdate=0,window.clearInterval(this._playTimerInt),window.clearTimeout(this._playTimeout),e("#EmbedSWF").removeClass("playing"),e(".performer-video").removeClass("playing"),t.prototype.close.call(this)},n.prototype.destroy=function(){chat.debug("[debug] Destroy Method"),this.videoElement&&this.videoElement.parentElement&&this.videoElement.parentElement.removeChild(this.videoElement),t.prototype.destroy.call(this)},Object.defineProperty(n.prototype,"isPlayNeedsDelay",{get:function(){return c.getStreamName()===this._streamName||chat.isPaidShow()||!!this._streamName&&-1===this._streamName.indexOf("stream_")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{get:function(){return this.videoElement.src},enumerable:!0,configurable:!0}),Object.defineProperty(n,"available",{get:function(){var t=document.createElement("video");if(t.canPlayType){var n=t.canPlayType("application/x-mpegURL"),i=t.canPlayType("vnd.apple.mpegURL");if("probably"===n||"maybe"===n||"probably"===i||"maybe"===i){var a=e("body");return!e.mobile||a.hasClass("ipad")||a.hasClass("iphone")&&(a.hasClass("safari-browser")||a.hasClass("chrome-browser")||a.hasClass("dolphin-browser"))&&"playsInline"in t||a.hasClass("android")||a.hasClass("blackberry")&&!a.hasClass("opera-browser")}}return!1},enumerable:!0,configurable:!0}),n.autoPlayAvailable=null,n}(a.default);t.default=u}).call(t,n(0))},function(e,t,n){"use strict";function i(e){var t=e.type,n=e.streamUrl,i=e.streamName;switch(t){case"hls":case"hlsjs":return n+"/hls/"+i+"/playlist.m3u8";case"dash":return n+"/"+i+"/manifest.mpd";case"image":return n+"/"+i+".jpg"}return""}function a(e){var t=e.type,n=e.privateId,i=e.streamUrl,a=e.streamName;switch(t){case"hls":case"hlsjs":return i+"/"+n+"/"+a+"/playlist.m3u8";case"dash":return i+"/"+n+"/"+a+"/manifest.mpd";case"image":return i+"/"+n+"/"+a+".jpg"}return""}function r(e){e.streamUrl=e.streamUrl||"",e.isPrivate=e.isPrivate||Boolean(e.privateId);var t=e.isPrivate?a(e):i(e);if(!t)throw Error('Type "'+e.type+'" is not supported');return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicStreamUrl=i,t.getPrivateStreamUrl=a,t.getStreamUrl=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(171),r=n(182),o=n(62),s=function(e){function t(){var t=e.call(this)||this;return t.type="image",t.canvasElement=null,t.canvasContext=null,t._src=null,t}return i(t,e),t.prototype.destroy=function(){this.destroyCanvas(),e.prototype.destroy.call(this)},t.prototype.createCanvas=function(){this.destroyCanvas();var e=document.createElement("canvas");e.id="imagePlayer",e.style.width="100%",e.style.height="100%",document.getElementById("video_player_container").append(e),this.canvasContext=e.getContext("2d"),this.canvasElement=e},t.prototype.destroyCanvas=function(){this.canvasElement&&(this.canvasContext=null,this.canvasElement.remove(),this.canvasElement=null)},t.prototype.play=function(){this.createCanvas(),e.prototype.play.call(this),this._src=r.getStreamUrlOld({type:this.type,streamName:o.getStreamName()}),this.loadFrame()},t.prototype.close=function(){e.prototype.close.call(this),this._src=null,this.clearFrame()},Object.defineProperty(t.prototype,"src",{get:function(){return this._src},enumerable:!0,configurable:!0}),t.prototype.loadFrame=function(){function e(){if(n.playing){var e=Date.now()-i;n.drawFrame(this),setTimeout(function(){n.loadFrame()},100-e)}}function t(){if(n.playing){var e=Date.now()-i;setTimeout(function(){n.loadFrame()},100-e)}}if(this.playing){var n=this,i=Date.now(),a=new Image;a.onload=e,a.onerror=t,a.src=this.src+"?"+i}},t.prototype.drawFrame=function(e){var t=this.canvasElement;if(!(!t||!this.canvasContext||!e||e.width<1||e.height<1)){var n=e.width||t.offsetWidth,i=e.height||t.offsetHeight;try{n&&i&&t.width!==n&&t.height!==i&&(t.width=n,t.height=i),this.canvasContext.drawImage(e,0,0,e.width,e.height,0,0,n,i)}catch(e){}}},t.prototype.clearFrame=function(){this.destroyCanvas()},Object.defineProperty(t,"available",{get:function(){return!0},enumerable:!0,configurable:!0}),t}(a.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5);t.videoSetGlobalVolume=i.default.action(function(e,t){return{soundVolume:t}})},function(e,t,n){"use strict";function i(e,t){var n=Math.round(e/1e3),i=Math.floor(n/3600);n-=3600*i;var a=Math.floor(n/60);n-=60*a;var r=n,o="";return t?o=(i<10?"0":"")+i+":"+(a<10?"0":"")+a+":"+(r<10?"0":"")+r:(i>0&&(o+=i+" "+__("hour(s)")+" "),a>0&&(o+=a+" "+__("minute(s)")+" "),o+=r+" "+__("second(s)")),o}Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeAgoString=i},function(e,t,n){"use strict";function i(){return r.h("div",{class:"cg_adj_playing_icon"},r.h("div",{class:"adjp_bar"}),r.h("div",{class:"adjp_bar"}),r.h("div",{class:"adjp_bar"}),r.h("div",{class:"adjp_bar"}))}var a=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(19);t.IconDJPlaying=i;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentTime:0},t.updateCurrentTime=function(e){var n=t.props,i=n.data,a=i.lastOffsetMs,r=i.lastActionTS,s=n.settings,l=s.playing,c=s.playlist;if(c.length){var u=function(e){return o.clamp(Math.round((e||0)/1e3),0,c[0].duration)};l&&c.length?t.setState({currentTime:u(Date.now()-r+a)}):e&&t.setState({currentTime:u(a)})}},t}return a(t,e),t.prototype.componentDidMount=function(){this.timer=setInterval(this.updateCurrentTime,1e3),this.updateCurrentTime(!0)},t.prototype.componentWillUnmount=function(){clearInterval(this.timer)},t}(r.Component);t.default=s},function(e,t,n){"use strict";function i(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB}Object.defineProperty(t,"__esModule",{value:!0}),t.getIndexedDB=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(172);t.isIndexedDBAvailable=function(){var e=i.getIndexedDB(),t=Boolean(e&&e.open);return function(){return t}}()},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(172),a=null,r="dataStore",o=function(){function t(e){this.dataBase=e,a||(a=i.getIndexedDB())}return t.prototype.open=function(){var t=this;return new e(function(e,n){var i=a.open(t.dataBase);i.onupgradeneeded=function(){i.result.createObjectStore(r)},i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}})},t.prototype.query=function(t,n){var i=this;return new e(function(e,o){var s=a.open(i.dataBase);s.onsuccess=function(){var i=s.result,a=i.transaction(r,t),l=a.objectStore(r),c=n(l);c.onsuccess=function(){e(c.result)},c.onerror=function(){o(c.error)}},s.onerror=function(){o(s.error)}})},t.prototype.setItem=function(e,t){return this.query("readwrite",function(n){return n.put(t,e)})},t.prototype.getItem=function(e){return this.query("readonly",function(t){return t.get(e)})},t.prototype.removeItem=function(e){return this.query("readwrite",function(t){return t.delete(e)})},t.prototype.getKeys=function(){var t=this,n=[];return new e(function(e,i){var o=a.open(t.dataBase);o.onsuccess=function(){var t=o.result,a=t.transaction(r,"readonly"),s=a.objectStore(r),l=s.openCursor();l.onerror=i,l.onsuccess=function(t){var i=t.target.result;i?(n.push(i.key),i.continue()):e(n)}},o.onerror=function(){i(o.error)}})},t}();t.IndexedDBStore=o}).call(t,n(10))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){var i=this;this.onClickSlider=function(e){for(var t=e.target;t!==i.element;){if(t.classList.contains("pts_preset"))return i.removeActiveClass(),i.activePreset=t.getAttribute("data-preset"),t.classList.add("active"),void(t.classList.contains("pts_picker")||i.submitPreset(i.activePreset));t=t.parentNode}},this.element=e,this.itemsClass=t,this.defaultPreset=n}return e.prototype.removeActiveClass=function(){var e=this.element.querySelector(".active");e&&e.classList.remove("active")},e.prototype.clear=function(){this.activePreset=this.defaultPreset},e.prototype.setDefault=function(){var e=this.element.querySelector('[data-preset="'+this.defaultPreset+'"]');e&&e.classList.add("active")},e}();t.PresetSlider=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){var i=this;this.isInit=!1,this.widgets=[],this.togglePopover=function(){i.popover.classList.contains("active")?i.closePopover():(i.popover.classList.add("active"),i.popover.getBoundingClientRect().top<0&&i.popover.classList.add("__bottom"),i.isInit||(i.initWidgets(),i.isInit=!0),setTimeout(function(){document.addEventListener("click",i.onDocumentClick)},1))},this.onDocumentClick=function(e){var t=e.target;do{if(t===i.popover)return;t=t.parentNode}while(t);i.closePopover()},this.closeAndClear=function(){i.closePopover(),i.clearWidgets()},this.closePopover=function(){i.popover.classList.remove("active"),i.popover.classList.remove("__bottom"),document.removeEventListener("click",i.onDocumentClick)},this.submitPopover=function(e){"function"==typeof i.onSubmit&&i.onSubmit(e),i.closePopover()},this.element=e,this.popover=t,this.onSubmit=n,this.element.addEventListener("click",this.togglePopover)}return e.prototype.setWidget=function(e){e.container=this,this.widgets.push(e)},e.prototype.initWidgets=function(){this.widgets.forEach(function(e){e.init()})},e.prototype.clearWidgets=function(){this.widgets.forEach(function(e){e.clear()})},e}();t.PopoverBox=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(476),a=function(){function e(e,t,n){var i=this;this.onSubmitColor=function(){i.container.submitPopover(i.activePreset)},this.onCancel=function(){i.clear(),i.container.closePopover()},this.element=e,this.popover=n,this.output=this.popover.querySelector(".preset_palette_output"),this.defaultPreset=t||"#ffffff",this.okBtn=this.popover.querySelector(".slp_ok"),this.cancelBtn=this.popover.querySelector(".slp_cancel")}return e.prototype.init=function(){var e=this;i.initColorPicker(this.element,this.output,this.defaultPreset,function(t){e.activePreset=t}),this.okBtn.addEventListener("click",this.onSubmitColor),this.cancelBtn.addEventListener("click",this.onCancel)},e.prototype.clear=function(){this.activePreset=this.defaultPreset,i.changeColorPickerColor(this.element,this.defaultPreset)},e}();t.ColorPicker=a},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(241),r=function(e){function t(){var t=e.call(this)||this;return DI.inject(t,"resourceReplacer","resource-replacer"),t}return i(t,e),Object.defineProperty(t.prototype,"htmlLoader",{get:function(){return this.store.loadFullHTML.bind(this.store)},enumerable:!0,configurable:!0}),t.prototype.rebindModules=function(t,n){t.isFullPage&&this.resourceReplacer.replaceResources(t.resourceNode),e.prototype.rebindModules.call(this,t,n)},t}(a.default);t.default=r},,,,,,,,,,,,,function(e,t,n){n(3)(n(387))},function(e,t){e.exports='/*\n * jPlayer Plugin for jQuery JavaScript Library\n * http://www.jplayer.org\n *\n * Copyright (c) 2009 - 2014 Happyworm Ltd\n * Licensed under the MIT license.\n * http://opensource.org/licenses/MIT\n *\n * Author: Mark J Panaghiston\n * Version: 2.9.2\n * Date: 14th December 2014\n */\n\n/* Support for Zepto 1.0 compiled with optional data module.\n * For AMD or NODE/CommonJS support, you will need to manually switch the related 2 lines in the code below.\n * Search terms: "jQuery Switch" and "Zepto Switch"\n */\n!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):t.jQuery?t.jQuery:t.Zepto)}(this,function(t,e){t.fn.jPlayer=function(s){var i="jPlayer",a="string"==typeof s,o=Array.prototype.slice.call(arguments,1),r=this;return s=!a&&o.length?t.extend.apply(null,[!0,s].concat(o)):s,a&&"_"===s.charAt(0)?r:(this.each(a?function(){var a=t(this).data(i),n=a&&t.isFunction(a[s])?a[s].apply(a,o):a;return n!==a&&n!==e?(r=n,!1):void 0}:function(){var e=t(this).data(i);e?e.option(s||{}):t(this).data(i,new t.jPlayer(s,this))}),r)},t.jPlayer=function(e,s){if(arguments.length){this.element=t(s),this.options=t.extend(!0,{},this.options,e);var i=this;this.element.bind("remove.jPlayer",function(){i.destroy()}),this._init()}},"function"!=typeof t.fn.stop&&(t.fn.stop=function(){}),t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={},t.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){t.jPlayer.event[this]="jPlayer_"+this}),t.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],t.jPlayer.pause=function(){t.jPlayer.prototype.destroyRemoved(),t.each(t.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var s=function(){this.init()};s.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){t=t&&"number"==typeof t?t:0;var e=new Date(1e3*t),s=e.getUTCHours(),i=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*s,a=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*i,o=this.options.timeFormat.padHour&&10>s?"0"+s:s,r=this.options.timeFormat.padMin&&10>i?"0"+i:i,n=this.options.timeFormat.padSec&&10>a?"0"+a:a,l="";return l+=this.options.timeFormat.showHour?o+this.options.timeFormat.sepHour:"",l+=this.options.timeFormat.showMin?r+this.options.timeFormat.sepMin:"",l+=this.options.timeFormat.showSec?n+this.options.timeFormat.sepSec:""}};var i=new s;t.jPlayer.convertTime=function(t){return i.time(t)},t.jPlayer.uaBrowser=function(t){var e=t.toLowerCase(),s=/(webkit)[ \\/]([\\w.]+)/,i=/(opera)(?:.*version)?[ \\/]([\\w.]+)/,a=/(msie) ([\\w.]+)/,o=/(mozilla)(?:.*? rv:([\\w.]+))?/,r=s.exec(e)||i.exec(e)||a.exec(e)||e.indexOf("compatible")<0&&o.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),s=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,i=/(ipad|playbook)/,a=/(android)/,o=/(mobile)/,r=s.exec(e)||[],n=i.exec(e)||!o.exec(e)&&a.exec(e)||[];return r[1]&&(r[1]=r[1].replace(/\\s/g,"_")),{platform:r[1]||"",tablet:n[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var a=t.jPlayer.uaBrowser(navigator.userAgent);a.browser&&(t.jPlayer.browser[a.browser]=!0,t.jPlayer.browser.version=a.version);var o=t.jPlayer.uaPlatform(navigator.userAgent);o.platform&&(t.jPlayer.platform[o.platform]=!0,t.jPlayer.platform.mobile=!o.tablet,t.jPlayer.platform.tablet=!!o.tablet),t.jPlayer.getDocMode=function(){var e;return t.jPlayer.browser.msie&&(document.documentMode?e=document.documentMode:(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7))),e},t.jPlayer.browser.documentMode=t.jPlayer.getDocMode(),t.jPlayer.nativeFeatures={init:function(){var t,e,s,i=document,a=i.createElement("video"),o={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},r=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=t={support:{w3c:!!i[o.w3c[0]],moz:!!i[o.moz[0]],webkit:"function"==typeof i[o.webkit[3]],webkitVideo:"function"==typeof a[o.webkitVideo[2]],ms:"function"==typeof a[o.ms[2]]},used:{}},e=0,s=r.length;s>e;e++){var n=r[e];if(t.support[n]){t.spec=n,t.used[n]=!0;break}}if(t.spec){var l=o[t.spec];t.api={fullscreenEnabled:!0,fullscreenElement:function(t){return t=t?t:i,t[l[1]]},requestFullscreen:function(t){return t[l[2]]()},exitFullscreen:function(t){return t=t?t:i,t[l[1]]&&t[l[3]]()}},t.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else t.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},t.event={}}},t.jPlayer.nativeFeatures.init(),t.jPlayer.focus=null,t.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var r=function(e){var s,i=t.jPlayer.focus;i&&(t.each(t.jPlayer.keyIgnoreElementNames.split(/\\s+/g),function(t,i){return e.target.nodeName.toUpperCase()===i.toUpperCase()?(s=!0,!1):void 0}),s||t.each(i.options.keyBindings,function(s,a){return a&&t.isFunction(a.fn)&&("number"==typeof a.key&&e.which===a.key||"string"==typeof a.key&&e.key===a.key)?(e.preventDefault(),a.fn(i),!1):void 0}))};t.jPlayer.keys=function(e){var s="keydown.jPlayer";t(document.documentElement).unbind(s),e&&t(document.documentElement).bind(s,r)},t.jPlayer.keys(!0),t.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,rtl:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){t(this).jPlayer("play")}):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\\./,ipad:/ipad.*?os [0-4]\\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:70,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:77,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:190,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:188,fn:function(t){t.volume(t.options.volume-.1)}},loop:{key:76,fn:function(t){t._loop(!t.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:\'audio/mp4; codecs="mp4a.40.2"\',flashCanPlay:!0,media:"audio"},m3u8a:{codec:\'application/vnd.apple.mpegurl; codecs="mp4a.40.2"\',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:\'audio/ogg; codecs="vorbis, opus"\',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:\'audio/wav; codecs="1"\',flashCanPlay:!1,media:"audio"},webma:{codec:\'audio/webm; codecs="vorbis"\',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:\'audio/rtmp; codecs="rtmp"\',flashCanPlay:!0,media:"audio"},m4v:{codec:\'video/mp4; codecs="avc1.42E01E, mp4a.40.2"\',flashCanPlay:!0,media:"video"},m3u8v:{codec:\'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"\',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:\'video/ogg; codecs="theora, vorbis"\',flashCanPlay:!1,media:"video"},webmv:{codec:\'video/webm; codecs="vorbis, vp8"\',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:\'video/rtmp; codecs="rtmp"\',flashCanPlay:!0,media:"video"}},_init:function(){var s=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!t.jPlayer.focus&&(t.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:0/0},t.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),function(e,i){var a=i.replace(/^\\s+|\\s+$/g,"");if(s.format[a]){var o=!1;t.each(s.formats,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.formats.push(a)}}),t.each(this.options.solution.toLowerCase().split(","),function(e,i){var a=i.replace(/^\\s+|\\s+$/g,"");if(s.solution[a]){var o=!1;t.each(s.solutions,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.solutions.push(a)}}),t.each(this.options.auroraFormats.toLowerCase().split(","),function(e,i){var a=i.replace(/^\\s+|\\s+$/g,"");if(s.format[a]){var o=!1;t.each(s.aurora.formats,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.aurora.formats.push(a)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,function(t,i){s.options[t]!==e&&(s.element.bind(i+".jPlayer",s.options[t]),s.options[t]=e)}),this.require.audio=!1,this.require.video=!1,t.each(this.formats,function(t,e){s.require[s.format[e].media]=!0}),this.options=this.require.video?t.extend(!0,{},this.optionsVideo,this.options):t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!s.status.video||s.status.waitForPlay)&&s.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){s._trigger(t.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},t.each(this.formats,function(e,i){s.html.canPlay[i]=s.html[s.format[i].media].available&&""!==s.htmlElement[s.format[i].media].canPlayType(s.format[i].codec),s.aurora.canPlay[i]=t.inArray(i,s.aurora.formats)>-1,s.flash.canPlay[i]=s.format[i].flashCanPlay&&s.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,t.each(this.solutions,function(e,i){if(0===e)s[i].desired=!0;else{var a=!1,o=!1;t.each(s.formats,function(t,e){s[s.solutions[0]].canPlay[e]&&("video"===s.format[e].media?o=!0:a=!0)}),s[i].desired=s.require.audio&&!a||s.require.video&&!o}}),this.html.support={},this.aurora.support={},this.flash.support={},t.each(this.formats,function(t,e){s.html.support[e]=s.html.canPlay[e]&&s.html.desired,s.aurora.support[e]=s.aurora.canPlay[e]&&s.aurora.desired,s.flash.support[e]=s.flash.canPlay[e]&&s.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,t.each(this.solutions,function(e,i){t.each(s.formats,function(t,e){return s[i].support[e]?(s[i].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:\'"+this.options.solution+"\', supplied:\'"+this.options.supplied+"\'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var i,a="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(Number(t.jPlayer.browser.version)<9||t.jPlayer.browser.documentMode<9)){var o=\'<object id="\'+this.internal.flash.id+\'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>\',r=[\'<param name="movie" value="\'+this.internal.flash.swf+\'" />\',\'<param name="FlashVars" value="\'+a+\'" />\',\'<param name="allowScriptAccess" value="always" />\',\'<param name="bgcolor" value="\'+this.options.backgroundColor+\'" />\',\'<param name="wmode" value="\'+this.options.wmode+\'" />\'];i=document.createElement(o);for(var n=0;n<r.length;n++)i.appendChild(document.createElement(r[n]))}else{var l=function(t,e,s){var i=document.createElement("param");i.setAttribute("name",e),i.setAttribute("value",s),t.appendChild(i)};i=document.createElement("object"),i.setAttribute("id",this.internal.flash.id),i.setAttribute("name",this.internal.flash.id),i.setAttribute("data",this.internal.flash.swf),i.setAttribute("type","application/x-shockwave-flash"),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("tabindex","-1"),l(i,"flashvars",a),l(i,"allowscriptaccess","always"),l(i,"bgcolor",this.options.backgroundColor),l(i,"wmode",this.options.wmode)}this.element.append(i),this.internal.flash.jq=t(i)}this.status.playbackRateEnabled=this.html.used&&!this.flash.used?this._testPlaybackRate("audio"):!1,this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){s._trigger(t.jPlayer.event.click)}))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){s.internal.ready=!0,s.version.flash="n/a",s._trigger(t.jPlayer.event.repeat),s._trigger(t.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===t.jPlayer.focus&&(t.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var e=this;t.each(this.instances,function(t,s){e.element!==s&&(s.data("jPlayer")||(s.jPlayer("destroy"),delete e.instances[t]))})},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_testPlaybackRate:function(t){var e,s=.5;t="string"==typeof t?t:"audio",e=document.createElement(t);try{return"playbackRate"in e?(e.playbackRate=s,e.playbackRate===s):!1}catch(i){return!1}},_uaBlocklist:function(e){var s=navigator.userAgent.toLowerCase(),i=!1;return t.each(e,function(t,e){return e&&e.test(s)?(i=!0,!1):void 0}),i},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,s){var i=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,this.status.playbackRateEnabled&&(e.defaultPlaybackRate=this.options.defaultPlaybackRate,e.playbackRate=this.options.playbackRate),e.addEventListener("progress",function(){s.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.progress))},!1),e.addEventListener("loadeddata",function(){s.gate&&(i.androidFix.setMedia=!1,i.androidFix.play&&(i.androidFix.play=!1,i.play(i.androidFix.time)),i.androidFix.pause&&(i.androidFix.pause=!1,i.pause(i.androidFix.time)),i._trigger(t.jPlayer.event.loadeddata))},!1),e.addEventListener("timeupdate",function(){s.gate&&(i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.timeupdate))},!1),e.addEventListener("durationchange",function(){s.gate&&(i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.durationchange))},!1),e.addEventListener("play",function(){s.gate&&(i._updateButtons(!0),i._html_checkWaitForPlay(),i._trigger(t.jPlayer.event.play))},!1),e.addEventListener("playing",function(){s.gate&&(i._updateButtons(!0),i._seeked(),i._trigger(t.jPlayer.event.playing))},!1),e.addEventListener("pause",function(){s.gate&&(i._updateButtons(!1),i._trigger(t.jPlayer.event.pause))},!1),e.addEventListener("waiting",function(){s.gate&&(i._seeking(),i._trigger(t.jPlayer.event.waiting))},!1),e.addEventListener("seeking",function(){s.gate&&(i._seeking(),i._trigger(t.jPlayer.event.seeking))},!1),e.addEventListener("seeked",function(){s.gate&&(i._seeked(),i._trigger(t.jPlayer.event.seeked))},!1),e.addEventListener("volumechange",function(){s.gate&&(i.options.volume=e.volume,i.options.muted=e.muted,i._updateMute(),i._updateVolume(),i._trigger(t.jPlayer.event.volumechange))},!1),e.addEventListener("ratechange",function(){s.gate&&(i.options.defaultPlaybackRate=e.defaultPlaybackRate,i.options.playbackRate=e.playbackRate,i._updatePlaybackRate(),i._trigger(t.jPlayer.event.ratechange))},!1),e.addEventListener("suspend",function(){s.gate&&(i._seeked(),i._trigger(t.jPlayer.event.suspend))},!1),e.addEventListener("ended",function(){s.gate&&(t.jPlayer.browser.webkit||(i.htmlElement.media.currentTime=0),i.htmlElement.media.pause(),i._updateButtons(!1),i._getHtmlStatus(e,!0),i._updateInterface(),i._trigger(t.jPlayer.event.ended))},!1),e.addEventListener("error",function(){s.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(clearTimeout(i.internal.htmlDlyCmdId),i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1),t.each(t.jPlayer.htmlEvent,function(a,o){e.addEventListener(this,function(){s.gate&&i._trigger(t.jPlayer.event[o])},!1)})},_addAuroraEventListeners:function(e,s){var i=this;e.volume=100*this.options.volume,e.on("progress",function(){s.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getAuroraStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.progress),e.duration>0&&i._trigger(t.jPlayer.event.timeupdate))},!1),e.on("ready",function(){s.gate&&i._trigger(t.jPlayer.event.loadeddata)},!1),e.on("duration",function(){s.gate&&(i._getAuroraStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.durationchange))},!1),e.on("end",function(){s.gate&&(i._updateButtons(!1),i._getAuroraStatus(e,!0),i._updateInterface(),i._trigger(t.jPlayer.event.ended))},!1),e.on("error",function(){s.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(t,e){var s=0,i=0,a=0,o=0;isFinite(t.duration)&&(this.status.duration=t.duration),s=t.currentTime,i=this.status.duration>0?100*s/this.status.duration:0,"object"==typeof t.seekable&&t.seekable.length>0?(a=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,o=this.status.duration>0?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(a=100,o=i),e&&(s=0,o=0,i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=i,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_getAuroraStatus:function(t,e){var s=0,i=0,a=0,o=0;this.status.duration=t.duration/1e3,s=t.currentTime/1e3,i=this.status.duration>0?100*s/this.status.duration:0,t.buffered>0?(a=this.status.duration>0?t.buffered*this.status.duration/this.status.duration:100,o=this.status.duration>0?s/(t.buffered*this.status.duration):0):(a=100,o=i),e&&(s=0,o=0,i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=i,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,s,i){var a=t.Event(e);a.jPlayer={},a.jPlayer.version=t.extend({},this.version),a.jPlayer.options=t.extend(!0,{},this.options),a.jPlayer.status=t.extend(!0,{},this.status),a.jPlayer.html=t.extend(!0,{},this.html),a.jPlayer.aurora=t.extend(!0,{},this.aurora),a.jPlayer.flash=t.extend(!0,{},this.flash),s&&(a.jPlayer.error=t.extend({},s)),i&&(a.jPlayer.warning=t.extend({},i)),this.element.trigger(a)},jPlayerFlashEvent:function(e,s){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var i=this.status.currentTime,a=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),i>0&&(a?this.pause(i):this.play(i))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=s.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.timeupdate:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:s.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.remaining=t.duration-t.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===e?t=!this.status.paused:this.status.paused=!t,t?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var t="";this.css.jq.currentTime.length&&(t=this._convertTime(this.status.currentTime),t!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var e="",s=this.status.duration,i=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?e=this.status.media.duration:("number"==typeof this.status.media.duration&&(s=this.status.media.duration,i=s-this.status.currentTime),e=this.options.remainingDuration?(i>0?"-":"")+this._convertTime(i):this._convertTime(s)),e!==this.css.jq.duration.text()&&this.css.jq.duration.text(e))},_convertTime:s.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split(\'"\').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");\n  return e.innerHTML=\'<a href="\'+this._escapeHtml(t)+\'">x</a>\',e.firstChild.href},_absoluteMediaUrls:function(e){var s=this;return t.each(e,function(t,i){i&&s.format[t]&&"data:"!==i.substr(0,5)&&(e[t]=s._qualifyURL(i))}),e},addStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[t])},removeStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[t])},setMedia:function(e){var s=this,i=!1,a=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,e=this._absoluteMediaUrls(e),t.each(this.formats,function(a,o){var r="video"===s.format[o].media;return t.each(s.solutions,function(a,n){if(s[n].support[o]&&s._validString(e[o])){var l="html"===n,h="aurora"===n;return r?(l?(s.html.video.gate=!0,s._html_setVideo(e),s.html.active=!0):(s.flash.gate=!0,s._flash_setVideo(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.show(),s.status.video=!0):(l?(s.html.audio.gate=!0,s._html_setAudio(e),s.html.active=!0,t.jPlayer.platform.android&&(s.androidFix.setMedia=!0)):h?(s.aurora.gate=!0,s._aurora_setAudio(e),s.aurora.active=!0):(s.flash.gate=!0,s._flash_setAudio(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.hide(),s.status.video=!1),i=!0,!1}}),i?!1:void 0}),i?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(e.poster)&&(a?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),"string"==typeof e.title&&(this.css.jq.title.length&&this.css.jq.title.html(e.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",e.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",e.title)),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface(),this._trigger(t.jPlayer.event.setmedia)):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:\'"+this.options.supplied+"\'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(t.jPlayer.focus=this)},play:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&!this.status.paused?this.pause(t):(t="number"==typeof t?t:0/0,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.aurora.active?this._aurora_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:0/0,this.status.srcSet?this.html.active?this._html_pause(t):this.aurora.active?this._aurora_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,s){var i=this,a="function"==typeof s,o=Array.prototype.slice.call(arguments);"string"==typeof e&&(a&&o.splice(1,1),t.jPlayer.prototype.destroyRemoved(),t.each(this.instances,function(){i.element!==this&&(!a||s.call(this.data("jPlayer"),i))&&this.jPlayer.apply(this,o)}))},pauseOthers:function(t){this.tellOthers("pause",function(){return this.status.srcSet},t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.aurora.active?this._aurora_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},t)},mutedWorker:function(e){this.options.muted=e,this.html.used&&this._html_setProperty("muted",e),this.aurora.used&&this._aurora_mute(e),this.flash.used&&this._flash_mute(e),this.html.video.gate||this.html.audio.gate||(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){var s="object"==typeof t;s&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(t=t===e?!0:!!t,this._muted(t))},unmute:function(t){t=t===e?!0:!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),t?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},t)},volumeWorker:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_setProperty("volume",e),this.aurora.used&&this._aurora_volume(e),this.flash.used&&this._flash_volume(e),this.html.video.gate||this.html.audio.gate||(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(e){if(this.css.jq.volumeBar.length){var s=t(e.currentTarget),i=s.offset(),a=e.pageX-i.left,o=s.width(),r=s.height()-e.pageY+i.top,n=s.height();this.volume(this.options.verticalVolume?r/n:a/o)}this.options.muted&&this._muted(!1)},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](this.options.rtl?100-100*t+"%":100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var s=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,function(t,e){s._cssSelector(t,e)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,s){var i=this;if("string"==typeof s)if(t.jPlayer.prototype.options.cssSelector[e]){if(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=s,this.css.cs[e]=this.options.cssSelectorAncestor+" "+s,this.css.jq[e]=s?t(this.css.cs[e]):[],this.css.jq[e].length&&this[e]){var a=function(s){s.preventDefault(),i[e](s),i.options.autoBlur?t(this).blur():t(this).focus()};this.css.jq[e].bind("click.jPlayer",a)}s&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:s,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(t){this.options.toggleDuration&&(this.options.captureDuration&&t.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(e){if(this.css.jq.seekBar.length){var s,i=t(e.currentTarget),a=i.offset(),o=i.width();s=this.options.rtl?i.offset().left+i.outerWidth()-e.pageX:e.pageX-a.left;var r=100*s/o;this.playHead(r)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var s,i,a=t(e.currentTarget),o=a.offset(),r=e.pageX-o.left,n=a.width(),l=a.height()-e.pageY+o.top,h=a.height();s=this.options.verticalPlaybackRate?l/h:r/n,i=s*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(i)}},_updatePlaybackRate:function(){var t=this.options.playbackRate,e=(t-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*e+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(t){var e="object"==typeof t;this._loop(e&&this.options.useStateClassSkin&&this.options.loop?!1:!0)},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},option:function(s,i){var a=s;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof s){var o=s.split(".");if(i===e){for(var r=t.extend(!0,{},this.options),n=0;n<o.length;n++){if(r[o[n]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:s,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;r=r[o[n]]}return r}a={};for(var l=a,h=0;h<o.length;h++)h<o.length-1?(l[o[h]]={},l=l[o[h]]):l[o[h]]=i}return this._setOptions(a),this},_setOptions:function(e){var s=this;return t.each(e,function(t,e){s._setOption(t,e)}),this},_setOption:function(e,s){var i=this;switch(e){case"volume":this.volume(s);break;case"muted":this._muted(s);break;case"globalVolume":this.options[e]=s;break;case"cssSelectorAncestor":this._cssSelectorAncestor(s);break;case"cssSelector":t.each(s,function(t,e){i._cssSelector(t,e)});break;case"playbackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",s),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",s),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=s=this._limitValue(s,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==s){var a=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!a||a&&!this.status.waitForPlay)&&(a||(this.options[e]=s),s?this._requestFullscreen():this._exitFullscreen(),a||this._setOption("fullWindow",s))}break;case"fullWindow":this.options[e]!==s&&(this._removeUiClass(),this.options[e]=s,this._refreshSize());break;case"size":this.options.fullWindow||this.options[e].cssClass===s.cssClass||this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==s.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],s),this._updateAutohide();break;case"loop":this._loop(s);break;case"remainingDuration":this.options[e]=s,this._updateInterface();break;case"toggleDuration":this.options[e]=s;break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],s),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==s&&(this.options[e]=s,s?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[e]=t.extend({},this.options[e],s);break;case"keyEnabled":this.options[e]=s,s||this!==t.jPlayer.focus||(t.jPlayer.focus=null);break;case"keyBindings":this.options[e]=t.extend(!0,{},this.options[e],s);break;case"audioFullScreen":this.options[e]=s;break;case"autoBlur":this.options[e]=s}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e="mousemove.jPlayer",s=".jPlayerAutohide",i=e+s,a=function(e){var s,i,a=!1;"undefined"!=typeof t.internal.mouse?(s=t.internal.mouse.x-e.pageX,i=t.internal.mouse.y-e.pageY,a=Math.floor(s)>0||Math.floor(i)>0):a=!0,t.internal.mouse={x:e.pageX,y:e.pageY},a&&t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout(function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)},t.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(s),this.css.jq.gui.unbind(s),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(i,a),this.css.jq.gui.bind(i,a),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var e=this,s=t.jPlayer.nativeFeatures.fullscreen;s.api.fullscreenEnabled&&s.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()}),document.addEventListener(s.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.requestFullscreen(e)},_exitFullscreen:function(){var e,s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.exitFullscreen(e)},_html_initMedia:function(e){var s=t(this.htmlElement.media).empty();t.each(e.track||[],function(t,e){var i=document.createElement("track");i.setAttribute("kind",e.kind?e.kind:""),i.setAttribute("src",e.src?e.src:""),i.setAttribute("srclang",e.srclang?e.srclang:""),i.setAttribute("label",e.label?e.label:""),e.def&&i.setAttribute("default",e.def),s.append(i)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var s=this;t.each(this.formats,function(t,i){return s.html.support[i]&&e[i]?(s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1):void 0})},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=t;else if(isNaN(t))s.play();else{this.internal.cmdsIgnored&&s.play();try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t,s.play()}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.play(t)},250))}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.play=!1,t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),s.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=t;else if(!isNaN(t))try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.pause(t)},250))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,s=this.htmlElement.media;this._html_load();try{if("object"==typeof s.seekable&&s.seekable.length>0)s.currentTime=t*s.seekable.end(s.seekable.length-1)/100;else{if(!(s.duration>0)||isNaN(s.duration))throw"e";s.currentTime=t*s.duration/100}}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.playHead(t)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_aurora_setAudio:function(e){var s=this;t.each(this.formats,function(t,i){return s.aurora.support[i]&&e[i]?(s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1):void 0}),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(e){this.status.waitForLoad||isNaN(e)||this.aurora.player.seek(e),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(t.jPlayer.event.play)},_aurora_pause:function(e){isNaN(e)||this.aurora.player.seek(1e3*e),this.aurora.player.pause(),e>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(t.jPlayer.event.pause)},_aurora_playHead:function(t){this.aurora.player.duration>0&&this.aurora.player.seek(t*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(t){this.aurora.player.volume=100*t},_aurora_mute:function(t){t?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=t},_flash_setAudio:function(e){var s=this;try{t.each(this.formats,function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4a":case"fla":s._getMovie().fl_setAudio_m4a(e[i]);break;case"mp3":s._getMovie().fl_setAudio_mp3(e[i]);break;case"rtmpa":s._getMovie().fl_setAudio_rtmp(e[i])}return s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(i){this._flashError(i)}},_flash_setVideo:function(e){var s=this;try{t.each(this.formats,function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4v":case"flv":s._getMovie().fl_setVideo_m4v(e[i]);break;case"rtmpv":s._getMovie().fl_setVideo_rtmp(e[i])}return s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(i){this._flashError(i)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(0/0)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(e){this._flashError(e)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(e){this._flashError(e)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var s=t.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),e=parseInt(s[0],10)+"."+parseInt(s[1],10))}}catch(i){}else navigator.plugins&&navigator.mimeTypes.length>0&&(t=navigator.plugins["Shockwave Flash"],t&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\\s(\\d+\\.\\d+).*/,"$1")));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,s){return e>t?e:t>s?s:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var s;s=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[s],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[s]+e.message,hint:t.jPlayer.errorHint[s]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\\n"+e.message:"")+(e.hint?"\\n"+e.hint:"")+"\\nContext: "+e.context)},_warning:function(s){this._trigger(t.jPlayer.event.warning,e,s),this.options.warningAlerts&&this._alert("Warning!"+(s.message?"\\n"+s.message:"")+(s.hint?"\\n"+s.hint:"")+"\\nContext: "+s.context)},_alert:function(t){var e="jPlayer "+this.version.script+" : id=\'"+this.internal.self.id+"\' : "+t;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(e):alert(e)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\\s+/g),function(t,s){e.internal.domNode[s]=function(t){e[s](t)}}),t.each(t.jPlayer.event,function(s,i){var a=!0;t.each(t.jPlayer.reservedEvent.split(/\\s+/g),function(t,e){return e===s?(a=!1,!1):void 0}),a&&e.element.bind(i+".jPlayer.jPlayerHtml",function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(s,!1,!0),e.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\\s+/g),function(t,s){e.internal.domNode[s]=e.status[s]}),t.each(t.jPlayer.emulateOptions.split(/\\s+/g),function(t,s){e.internal.domNode[s]=e.options[s]})},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml");var s=t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions;t.each(s.split(/\\s+/g),function(t,s){delete e.internal.domNode[s]})}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer\'s Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer\'s Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer(\'cssSelector\') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer(\'cssSelector\') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer(\'option\') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}});'},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(189),a=n(8),r=n(206),o=function(){function t(){var t=this;this.onFormSuccess=function(n,a,r,o){void 0!==a.redirect_url&&(n.closest(".js-login_form_models").length&&a.redirect_url.indexOf("tfa-login")>-1?i.profileAjaxPopup(e('<a href="'+a.redirect_url+'" data-type="model" data-close="false"></a>'),t.tfaInitPopupActions):window.location.href=a.redirect_url)},this.tfaInitPopupActions=function(){e(".fancybox-opened").find(".close").on("click",function(){e.fancybox.close()}),e("form.tfa_login_form").submittedToRemote(function(t,n){void 0!==n.values&&a.loopv(n.values,function(t){e("div.popup_edit_fields").find("."+t+"_field").html(n.values[t])}),e.fancybox.close(),location.reload()}),e(".js-remote_action").each(function(){new r.default(e(this)).init()});var n=t;e(".js-alt_action_btn").on("click",function(t){if(t.preventDefault(),e(this).hasClass("disabled_btn"))return!1;i.profileAjaxPopup(e(this),n.tfaInitPopupActions)})};var n=e(".resend_activation_email");n.find("form").submittedToRemote(),n.find("a.submit").bind("click",function(){e(this).closest("form").submit()});var o=e(".main_login_form"),s=this,l=function(t,n,i){if(o.find('input[type="password"]').val(""),void 0!==t.redirect_url&&!e.mobile&&window.location.href!==t.redirect_url&&window.location.pathname!==t.redirect_url)return void(window.location.href=t.redirect_url);void 0!==t.captcha_force&&t.captcha_force&&o.each(function(){if(!e(this).find(".recaptcha").length){var t=e("body").hasClass("body_model")?"form_field ":"",n='<div class="form_row"><div class="form_label"><label for="recaptcha_label">'+__("Prove you are human")+':</label></div><div class="'+t+'g_captcha_form_field"><div class="recaptcha" id="recaptcha_'+s.GUID()+'" data-sitekey="'+window.captchaSiteKey+'"></div></div></div>';e(this).find(".form_data").append(n)}}),recaptchaInit(),t.email?(e("#resend_activation_email_username").val(e(".main_login_form").find("#log_in_username").val()),e("#resend_activation_email_email").val(t.email),e(".resend_activation_email").show()):e(".resend_activation_email").hide()},c=function(t,n,i,a){var r=null;"Forbidden"===n?r="The maximum number of login attempts has been reached, please try again later":(r="System is temporarily unavailable, please try again later","undefined"!=typeof Raven&&Raven.captureMessage("Login: "+n+" "+i+" "+r)),r&&e(t).find(".form_data").prepend('<div class="form_errors_row">'+r+"</div>"),o.find('input[type="password"]').val("")};o.each(function(){e(this).closest("form").submittedToRemote(s.onFormSuccess,l,s.onFormSubmit,c)})}return t.prototype.onFormSubmit=function(t){if(e.jlNamespace.l){for(var n=e.jlNamespace.l.toString(),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(parseInt(n.substr(a,2),16));t.find(".bfpt").length&&t.find(".bfpt").val(i)}},t.prototype.GUID=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t}();e(function(){new o})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){e(function(){e(document).on({mouseenter:function(){e(this).addClass("all_thumbs").find(".snapshot_wrap").show()},mouseleave:function(){e(this).removeClass("all_thumbs").find(".snapshot_wrap").hide()}},".video_container div.video_thumb"),e(document).on("hover",".video_container .video_thumb span.nav_item_wrap",function(){var t=e(this).closest(".video_thumb");t.find(".nav_item_wrap").removeClass("active"),e(this).addClass("active"),t.find(".snapshot").removeClass("active").eq(e(this).index()).addClass("active")})})}).call(t,n(0))},,function(e,t,n){n(3)(n(392))},function(e,t){e.exports="//http://plugins.jquery.com/project/URLEncode\n$.extend({URLEncode:function(c){var o='';var x=0;c=c.toString();var r=/(^[a-zA-Z0-9_.]*)/;\n  while(x<c.length){var m=r.exec(c.substr(x));\n    if(m!=null && m.length>1 && m[1]!=''){o+=m[1];x+=m[1].length;\n    }else{if(c[x]==' ')o+='+';else{var d=c.charCodeAt(x);var h=d.toString(16);\n    o+='%'+(h.length<2?'0':'')+h.toUpperCase();}x++;}}return o;},\nURLDecode:function(s){var o=s;var binVal,t;var r=/(%[^%]{2})/;\n  while((m=r.exec(o))!=null && m.length>1 && m[1]!=''){b=parseInt(m[1].substr(1),16);\n  t=String.fromCharCode(b);o=o.replace(m[1],t);}return o;}\n});"},function(e,t,n){"use strict";(function(e){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(181),o=n(6),s=n(2),l=n(278),c=n(21),u=n(76),d=n(395),h=n(80),p=n(48),f=n(396),m=n(163),g=n(365),v=n(230),b=n(53),y=n(191),_=n(51),w=n(7),S=n(5),C=n(398),k=n(4),T=n(399),P=n(178),x=n(11),E={chatDirect:!1,debug:!1,baseUrl:"",scriptName:""};!function(e){e.CHAT_NONE="none",e.CHAT_VISIBLE="visible",e.CHAT_HIDDEN="hidden",e.CHAT_COLLAPSE="collapse",e.CHAT_TRIGGER_OPEN="chat:open",e.CHAT_TRIGGER_CLOSE="chat:close",e.CHAT_TRIGGER_COLLAPSE="chat:collapse",e.CHAT_TRIGGER_VISIBILITY="chat:visibility",e.CHAT_TRIGGER_TOPIC_CHANGE="chat:topic-change",e.CHAT_TRIGGER_SHOW_NAVIGATOR="chat:showModelNavigator"}(a||(a={})),window.chat={service:{},userData:{},localData:{},performerData:null,chatHistoryLength:66,ignoredUsers:{},waitFriendConfirmUsers:{},isFreeUsersMuted:!1,isVolumeSlidesShown:!1,volumeSlidesInt:0,currentChatType:"public-chat",currentChatUsers:[],currentShowType:"public",performerStatus:null,isGroupChatInitialized:!1,isGroupChatMembersReady:!1,isGroupChatInvited:!1,groupChatInvitationData:null,chatSettings:{},currentChathost:null,nextChathost:null,prevChathost:null,startNavigation:!1,waitRoomConnect:!1,onlineModels:[],onlineModelsData:[],onlineModelsFullList:!1,waitListingUpdate:!1,userIsFriendForPerformer:!1,visibility:a.CHAT_NONE,options:{},chatProfile:null,freeTimeInt:0,loadRoomCounter:0,getChatProfile:function(){return 0===e("#profile-content").length?null:(this.chatProfile||e.mobile||!window.globalListing||"moderator"===window.globalListing.initData.userRole||(this.chatProfile=new l.default),this.chatProfile)},init:function(n){var o=this;this.debug("init..."),this.options=i({},E,n);var s=this;v.isLiveStreamPromo||(e("#bChat .sendInput, #bChatInputContainer .sendInput").keypress(function(e){var n=e.currentTarget;if(13===e.keyCode&&""!==n.value)return t.chat.sendMessage(n.value,"key"),n.value="",!1}),e("#bChat .sendButton, #bChatInputContainer .sendButton").click(function(n){var i=e(this).parents(".inputContainer").find(".sendInput"),a=String(i.val()||"").trim();return""!==a&&(t.chat.sendMessage(a,"btn"),i.val("")),!1})),e("#bChat").on("click",".msg_row.deleted .view",function(){var t=e(this).closest(".msg_row"),n=t.data("message");n&&!e("<div>").append(n).find("wbr").length&&(n=s.messageWordWrap(n)),t.find(".msg").html(n)}),this.initLayout(),this.initService(),this.initMediator();var l=null;e(window).on("resize",function(){l&&clearTimeout(l),l=setTimeout(function(){s.setChatHeight()},200)}),this.setChatHeight(),this.debug("init done!"),this.visibility=this.options.chatDirect?a.CHAT_VISIBLE:a.CHAT_HIDDEN;var c="chat_"+this.visibility;e("body").addClass(c),e(document).on(a.CHAT_TRIGGER_VISIBILITY,function(){e("body").removeClass(c).addClass(c="chat_"+window.chat.visibility)}),e(document).on(a.CHAT_TRIGGER_OPEN,function(){o.visibility=a.CHAT_VISIBLE,e(document).trigger(a.CHAT_TRIGGER_VISIBILITY,[o.visibility])}).on(a.CHAT_TRIGGER_CLOSE,function(){o.visibility=a.CHAT_HIDDEN,e(document).trigger(a.CHAT_TRIGGER_VISIBILITY,[o.visibility])}).on(a.CHAT_TRIGGER_COLLAPSE,function(){o.visibility=a.CHAT_COLLAPSE,e(document).trigger(a.CHAT_TRIGGER_VISIBILITY,[o.visibility])}).on(a.CHAT_TRIGGER_TOPIC_CHANGE,function(){o.setChatHeight(!0)}),r.default.instance.init(),S.default.setState({hasFullScreenAccess:this.localData&&this.localData.canEnlargeVideo}),C.chatInitResizableMode()},getRealWidthHistory:function(e){return e.find(".msg_wrp").first().width()},resizeHistoryBlock:function(){var t=this;if(this.isAllowedBubbleDesign()&&!e("body").hasClass("fullscreen")){var n=e(".chat_history"),i=t.getRealWidthHistory(n);i&&+n.attr("data-rw")!==i&&(n.attr("data-rw",i),n.find(".msg_box").each(function(){t.resizeMsgBubble(e(this),i)}))}},resizeMsgBubble:function(e,t){var n,i=Math.floor(.5*t);if(this.userData.isPerformer){var a=e.closest(".msg_wrp");if(!a.length)return;a.removeClass("__vrt");var r=a.find("dfn");if(!r.length)return;n=r.outerWidth(!0);var o=a.find(".icons");if(!o.length)return;n+=o.outerWidth(!0);var s=a.find(".icon_avatar");if(!s.length)return;n+=s.outerWidth(!0);var l=a.find(".multi_msg").length?a.find(".multi_msg"):a.find(".msg_box");n>=i&&l.outerWidth(!0)>=t-n&&a.addClass("__vrt")}if(e.parent().hasClass("mb_color")){e.removeClass("__vrt");var c=e.find(".author_area");c.length&&(n=c.outerWidth(!0))>=i&&e.find(".message_area").outerWidth(!0)>=t-n&&e.addClass("__vrt")}},resizeWindow:function(){window.opener&&(e.browser.msie?window.resizeTo(document.documentElement.clientWidth+20,e("body").outerHeight(!0)+100):window.resizeTo(window.outerWidth,e("body").outerHeight(!0)+(window.outerHeight-window.innerHeight)))},ignoreUser:function(t){this.debug("isIgnored",this.isIgnored(t)),this.isIgnored(t)?(delete this.ignoredUsers[t],e("#context_menu_"+t).find("#ignoreCmd").html(__("Ignore User"))):(this.ignoredUsers[t]=!0,e("#context_menu_"+t).find("#ignoreCmd").html(__("Remove Ignore")))},isIgnored:function(e){return Boolean(this.ignoredUsers[e])},addServiceMessage:function(t,n,i,a){var r;void 0!==i?r=e("#"+i+" .history"):(r=e("#bChat").find(".history").filter(":visible"),r.length||(r=r.prevObject.eq(0)));var o="";if(a&&(o=' from="'+a.from+'" amount="'+a.amount+'"'),!(n&&"debug"!==n||this.options.debug))return!1;var s,l=this.messageWordWrap(t,18);this.isBubbleDesign(r)?(s='<div class="system_msg msg_wrp msg_'+n+'"'+o+'><div class="msg_box"><div class="system_area">'+l+"</div></div></div>",this.addMessage(s,r)):(s='<p class="'+n+'"'+o+">"+l+"</p>",this.addMessage(s,r))},showPromt:function(t){var n=e("#bChatPromt");n.length||(n=e('<div id="bChatPromt"></div>'),n.appendTo(e.mobile?e.mobile.activePage:"body")),this.repositionPromt(n),n.has(t).length||n.append(t)},repositionPromt:function(t){var n,a=e("#bChat"),r=a.find(".history:visible");n=this.isModelMobileApp()?a:r.length?r:a.find(".users:visible");var o=n.offset(),s=n.get(0).clientWidth||n.width(),l=n.get(0).offsetWidth||n.width(),c=1,u={left:o.left+c+"px",right:e(window).width()-o.left-s-c+"px"};w.isRTLCulture&&(u={left:o.left+l-s-c+"px",right:e(window).width()-o.left-l+c+"px"}),t.css(i({top:o.top+"px"},u))},hidePromt:function(t){e(t).parent().remove()},buildProfileUrl:function(e){return e.hasProfile?"/profile/"+e.username:"about:blank"},buildMemberCamUrl:function(e){return e.myCamToken?"/chat-view-member-cam/"+e.username+"/"+e.myCamToken:"about:blank"},buildAvatarUrl:function(e){return e.avatarUrl?this.options.baseUrl+e.avatarUrl:"about:blank"},isPremiumMember:function(e,t){return"member"===e.role&&(!t&&"gold"===e.accessLevel||"platinum"===e.accessLevel||"unlimited"===e.accessLevel||"diamond"===e.accessLevel||"exclusive"===e.accessLevel)},isEliteMember:function(e){return"member"===e.role&&("diamond"===e.accessLevel||"exclusive"===e.accessLevel)},isColorComment:function(e){return this.isEliteMember(e)||e.isVip},getClassOfMessageBox:function(e,t){var n="mb_"+e.role;return e.accessLevel&&(n+=" mb_"+e.accessLevel,e.isVip&&(n+=" mb_vip"),e.isMcm&&(n+=" mb_mcm")),(this.isColorComment(e)||t)&&(n+=" mb_color"),n},getMessageBox:function(e,t){if(this.isBubbleDesign(e)){e.find(".msg_wrp:last")}return e},createTextBubble:function(e){return{addlClass:"",type:"text",content:e.trim()}},createSmileyBubble:function(e,t){return{addlClass:t?"__"+e.replace(":",""):"",type:"smiley",content:e}},splitBubbles:function(e){for(var t=this,n=new DOMParser,i=n.parseFromString(e,"text/html"),a=i.body.childNodes,r=[],s="",l=function(e){var n=a[e];if(n.nodeType===Node.TEXT_NODE){var i=p.escapeHTML(n.textContent),l=i.match(/:[a-z0-9-_]+/g);if(l){var u;l.forEach(function(e){var n;n=i.split(e),u=n[0],i=n[1],s+=u.trim(),s.trim()&&r.push(t.createTextBubble(s)),t.notReplacedSmileys.indexOf(e)>-1?r.push(t.createTextBubble(e)):r.push(t.createSmileyBubble(e,!0)),s=""})}s+=i||""}else"img"!==n.nodeName.toLowerCase()||n.classList.contains(o.SmileyCategories.LITTLE)?s+=n.outerHTML:(s.trim()&&r.push(c.createTextBubble(s)),s="",r.push(c.createSmileyBubble(n.outerHTML)))},c=this,u=0;u<a.length;u++)l(u);return s.trim()&&r.push(this.createTextBubble(s)),r},notReplacedSmileys:[],messageReplaceSmileys:function(t,n,i,a){var r=this.isPremiumMember(i)||"model"===i.role||"studio"===i.role||"moderator"===i.role,s=this;return o.default.replace({message:t,replacePremium:r,callback:function(t,a){var r=e("#"+n);if(s.isColorComment(i)){if(r=r.find(".__"+t.replace(":","")),!r.length)return void s.notReplacedSmileys.push(t);a?(r=r.find(".msg"),s.fixSmileysForIe(e(a)),T.replaceShortcut(r,t,a)):r.addClass("__text").removeClass("__smiley")}else r=r.find(".msg"),T.replaceShortcut(r,t,a)}})},messageWordWrap:function(e,t){return c.stringWordWrap(e,"",t||10)},formatMessage:function(e,t,n,i,a){var r=this,o="m"+n,s=null,l=/([\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|[\ud83c[\ude50\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;if(e=e.replace(l,' <span class="emoji">$1</span>'),a||(e=this.messageReplaceSmileys(e,o,t,i)),this.isBubbleDesign(i)){var c=[],u=[];u=r.isColorComment(t)?this.splitBubbles(e):[this.createTextBubble(e)],this.notReplacedSmileys=[];for(var d=0;d<u.length;d++){var h=u[d];"text"===h.type&&(h.content=this.messageWordWrap(h.content,r.isColorComment(t)?10:18));var p=i.hasClass("history")&&0===d,f=h.content;c.push(this.getMessageBubble(f,r.isColorComment(t)||a,p,h.addlClass,"smiley"===h.type,u.length>1))}var m=c.join("");u.length>1&&(m='<div class="multi_msg">'+m+"</div>"),s=this.createMessageBox(m,t,o,i,a)}else{var c=[],u=[];u=r.isColorComment(t)?this.splitBubbles(e):[this.createTextBubble(e)],this.notReplacedSmileys=[];for(var d=0;d<u.length;d++){var h=u[d];"text"===h.type&&(h.content=this.messageWordWrap(h.content,18));var p=i.hasClass("history")&&0===d,f=h.content;c.push(this.getMessageBubbleForConsole(f,r.isColorComment(t)||a,p,h.addlClass,"smiley"===h.type,u.length>1))}var m=c.join("");u.length>1&&(m='<span class="multi_msg">'+m+"</span>"),s=this.createMessageBox(m,t,o,i,a)}return r.fixSmileysForIe(s.find("img.smiley")),this.setUserDataToMessage(s,t),s},fixSmileysForIe:function(t){var n=h.detectIE();n&&n<=11&&t.each(function(){var t=e(this);t.attr("width")&&t.css({width:"100%",maxWidth:t.attr("width")+"px"}).on("load",function(){e(this).css({maxHeight:e(this).get(0).getBoundingClientRect().height+"px"})})})},setUserDataToMessage:function(e,t){e.closest(".msg_wrp").data("user_data",t)},getUserDataFromMessage:function(e){return e.closest(".msg_wrp").data("user_data")},setUserDataToItem:function(e,t){e.data("user_data",t)},getUserDataFromItem:function(e){return e.data("user_data")},getAuthorInfo:function(n,i){var a='<span class="friend_space"></span>',r='<span class="icon icon_friend">';e.mobile||(r+='<span class="icon-title">'+__("You are friends")+"</span>"),r+="</span>";var o=this.userData.isPerformer?a:"",s=1,l=this.isEliteMember(n)?25:21;if(n.accessLevel&&"free"!==n.accessLevel&&n.isPayable){s+=l;var c='<span class="icon icon_ms_'+n.accessLevel+'">';if(!e.mobile){switch(c+='<span class="icon-title">',n.accessLevel){case"gold":c+=__("Gold Membership");break;case"platinum":c+=__("Platinum Membership");break;case"unlimited":c+=__("Unlimited Membership");break;case"diamond":c+=__("Diamond Membership");break;case"exclusive":c+=__("Exclusive Membership")}c+="</span>"}c+="</span>",o=c+o,n.isVip&&(s+=l,o+='<span class="icon icon_vip">',e.mobile||(o+='<span class="icon-title">'+__("VIP Status")+"</span>"),o+="</span>"),n.isMcm&&(s+=this.isEliteMember(n)?25:21,o+='<span class="icon icon_mcm">',e.mobile||(o+='<span class="icon-title">'+__("Moderator")+"</span>"),o+="</span>")}this.userData.isPerformer||(o+=a),void 0===e.activeFriendIds?y.getActiveFriendIds(function(){if(t.chat.isFriend(n)&&!e('.message[user_id="'+n.userId+'"] .icon_friend').length){var i=e('.message[user_id="'+n.userId+'"] .icons');t.chat.userData.isPerformer&&i.css({width:i.width()+l+"px","min-width":i.width()+l+"px"}),i.find(".friend_space").replaceWith(r)}}):this.isFriend(n)&&(s+=l,o=o.replace(a,r));var u="";return this.userData.isPerformer&&(u='style="width:'+s+"px;min-width:"+s+'px;"'),this.getAuthorInfoTemplate(n,u,o,i)},getAuthorInfoTemplate:function(e,t,n,i){var a=' style="'+this.getFontStylesForAuthorInfo(e)+'"';if(this.isBubbleDesign(i)){var r="";return e.avatarUrl&&(r='<span class="icon_avatar"><img class="profile" src="'+this.buildAvatarUrl(e)+'"/></span>'),'\n          <div class="author_area"'+a+">\n            "+r+'\n            <span class="icons" '+t+">"+n+"</span>\n            <dfn>"+e.displayName+"</dfn>\n          </div>\n      "}return'<span class="icons" '+t+">"+n+"</span><dfn "+a+">"+e.displayName+"</dfn>"},getMessageTemplate:function(e,t,n,i){if(i&&n&&this.isBubbleDesign(i))return'<div class="msg_row" id="'+n+'">'+e+"</div>";var a="",r="";return this.isMessageHasCustomBg(t)&&(a=" colored",r='<span class="msg_corners"></span>'),'<span class="msg_box'+a+'">'+r+'<span class="msg">'+e+"</span></span>"},getMessageBubble:function(e,t,n,a,r,o){var s="",l={message:!0};return a&&(l[a]=!0),t&&(l=i({},l,{__multi:o,__smiley:r,__text:!r}),n&&!r&&(s='<div class="msg_corners"></div>')),'<div class="'+b.classMix(l)+'">'+s+'<span class="msg">'+e+"</span></div>"},getMessageBubbleForConsole:function(e,t,n,a,r,o){var s="",l={msg_box:!0};return a&&(l[a]=!0),t&&(l=i({},l,{colored:!0,__multi:o,__smiley:r,__text:!r}),n&&!r&&(s='<span class="msg_corners"></span>')),'<span class="'+b.classMix(l)+'">'+s+'<span class="msg">'+e+"</span></span>"},isBubbleDesign:function(e){return this.isAllowedBubbleDesign()&&e&&!e.hasClass("sp_history")},isAllowedBubbleDesign:function(){return!(e.mobile||this.userData.isLogged&&"member"!==this.userData.role&&"studio"!==this.userData.role&&"moderator"!==this.userData.role)},isSpoofContainer:function(e){return e.hasClass("sp_history")},createMessageBox:function(t,n,i,a,r){var o,s=this;if(this.isBubbleDesign(a)){var l=this.getMessageTemplate(t,n,i,a);if(o=null,a&&a.hasClass("history")){var c="msg_wrp msg_"+n.role+" "+this.getClassOfMessageBox(n,r);n.accessLevel&&(c+=" ms_"+n.accessLevel),this.isEliteMember(n)&&(c+=" msg_elite");var u=this.getAuthorInfo(n,a);o=e('\n          <div class="'+c+'">\n            <div class="msg_box">\n              '+u+'\n              <div class="message_area">'+l+"</div>\n            </div>\n          </div>\n        "),n.username&&o.attr("data-author",n.username)}else o=e(l);return o.find(".message").each(function(){s.applyMessageStyles(e(this),n)}),o}var d=this.getAuthorInfo(n,a),h=t;return o=e('<p class="msg_wrp msg_row message '+n.role+'" id="'+i+'" data-author="'+n.username+'"><span class="message_area">'+d+h+"</span></p>"),n.userId&&o.attr("user_id",n.userId),n.avatarUrl&&!e.mobile?o.prepend('<span class="icon_avatar"><img class="profile" src="'+this.buildAvatarUrl(n)+'"/></span>'):e("body").hasClass("fullscreen")&&o.prepend('<span class="icon_avatar" style="background-image:url('+this.buildAvatarUrl(n)+')"></span>'),n.accessLevel&&o.addClass("member_"+n.accessLevel),o.find(".msg_box").each(function(){s.applyMessageStyles(e(this),n)}),o},getFontStyles:function(t){var n=t.messageStyle||t.fontStyle;if(n){var i=n.color||"";return(e.mobile||this.isModelMobileApp())&&this.isMessageHasCustomBg(t)&&i&&!d.isDarkColor(i)&&(i=d.invertColor(i,!0)),{color:i||"","font-family":n.fontFamily||"","font-size":n.fontSize||""}}return{}},getFontStylesForAuthorInfo:function(e){var t="",n=this.getFontStyles(e);this.isColorComment(e)&&n.color&&!d.isDarkColor(n.color)&&(n.color=d.invertColor(n.color,!0));for(var i in n)n.hasOwnProperty(i)&&n[i]&&(t+=i+":"+n[i]+";");return t},applyMessageStyles:function(t,n){if(t.hasClass("__smiley"))return t;var i=this.getFontStyles(n);if(this.isMessageHasCustomBg(n)&&!e.mobile&&!this.isModelMobileApp()){var a=n.messageStyle.bg;_.isHexColor(a)?i["background-color"]=a:t.addClass("pt_"+a)}return t.css(i)},isMessageHasCustomBg:function(e){return(this.isEliteMember(e)||e.isVip)&&e.messageStyle&&e.messageStyle.bg},isModelMobileApp:function(){return Boolean(window.__MAPP__)},isFriend:function(t){var n=this.getStatusOfNewFriend(t);return n?n.active:e.activeFriendIds&&e.activeFriendIds[t.userId]},getStatusOfNewFriend:function(e){if(s.isLocalStorageAvailable())try{var t=localStorage.getItem("newFriends")?JSON.parse(localStorage.getItem("newFriends")):{};if(t.hasOwnProperty(e.username))return{active:t[e.username]}}catch(e){}return!1},updateNewFriend:function(e,t){if(s.isLocalStorageAvailable()){var n={};try{n=localStorage.getItem("newFriends")?JSON.parse(localStorage.getItem("newFriends")):{}}catch(e){}n[e]=!!t,localStorage.setItem("newFriends",JSON.stringify(n)),delete this.waitFriendConfirmUsers[e]}},canAddFriend:function(e){return!(!this.userData.friendRequestSettings||!e.friendRequestSettings||"none"===e.friendRequestSettings)&&(!(e.isPerformer&&!this.userData.isPayable)&&(!Boolean(this.waitFriendConfirmUsers[e.username])&&!this.isFriend(e)))},canSendPM:function(e){if(this.userData.isLogged&&("moderator"===this.userData.role||e.role&&"moderator"===e.role))return!0;if(!this.userData.isPerformer){if(!this.userData.isPayable)return!1;if(this.isPremiumMember(this.userData,!0))return!0}if(e.isPerformer){if(this.chatSettings.privateMessageSettings)return"all"===this.chatSettings.privateMessageSettings?this.userData.balance>=this.chatSettings.privateMessageMinTokens:!("friends"!==this.chatSettings.privateMessageSettings||!this.isFriend(e))&&this.userData.balance>=this.chatSettings.privateMessageMinTokens}else if(e.messageSenderSettings)return"all"===e.messageSenderSettings||"friends"===e.messageSenderSettings&&this.isFriend(e)||"models"===e.messageSenderSettings&&this.userData.isPerformer;return!0},addToMyFriendIds:function(t){e.activeFriendIds&&!e.activeFriendIds[t.userId]&&(e.activeFriendIds[t.userId]=!0,delete this.waitFriendConfirmUsers[t.username])},closeChat:function(n){this.performerStatus=null,this.isGroupChatInitialized=!1,this.isGroupChatInvited=!1,e("#bSocialButtons").html(""),e("#bChat").find(".users").html("").removeClass("users_full"),e(".bChatUsersCount").html("0"),this.disableChatInput(),n&&(e("#bChat").find(".history").html(""),e("#mls_chatconsole").hide(),e(document).trigger(a.CHAT_TRIGGER_CLOSE),t.chat.currentChathost=null,t.chat.userData.chathost=null)},nextRoom:function(){if(this.userData&&this.performerData&&!this.waitListingUpdate){if(this.onlineModelsFullList&&this.onlineModels.indexOf(this.currentChathost)===this.onlineModels.length-1&&(this.nextChathost=this.onlineModels[0]),this.debug(">>> NextRoom",this.nextChathost),!this.nextChathost||!this.onlineModelsData[this.nextChathost])return this.startNavigation=!0,this.waitListingUpdate="next",void this.setCurrentChathost();this.getRoom(this.nextChathost,{title:this.onlineModelsData[this.nextChathost].display_name}),this.startNavigation=!0;var e=window.globalListing;e&&e.isVisible()&&this.onlineModelsData[this.currentChathost]&&(e.calculateChathostPosition(this.onlineModelsData[this.currentChathost].sortOrder),e.toggleActiveThumb(this.currentChathost))}},prevRoom:function(){if(this.userData&&this.performerData&&!this.waitListingUpdate){if(this.onlineModelsFullList&&0===this.onlineModels.indexOf(this.currentChathost)&&(this.prevChathost=this.onlineModels[this.onlineModels.length-1]),this.debug("<<< PrevRoom",this.prevChathost),!this.prevChathost||!this.onlineModelsData[this.prevChathost])return this.startNavigation=!0,this.waitListingUpdate="prev",void this.setCurrentChathost();this.getRoom(this.prevChathost,{title:this.onlineModelsData[this.prevChathost].display_name}),this.startNavigation=!0;var e=window.globalListing;e&&e.isVisible()&&this.onlineModelsData[this.currentChathost]&&(e.calculateChathostPosition(this.onlineModelsData[this.currentChathost].sortOrder),e.toggleActiveThumb(this.currentChathost))}},loadNextRoom:function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),e){var n=this.onlineModels.indexOf(this.currentChathost);-1!==n&&(this.onlineModels.splice(n,1),delete this.onlineModelsData[this.currentChathost])}if(t&&this.loadRoomCounter&&this.loadRoomCounter%4==0)return this.loadRoomCounter=0,void this.openRoomInWindow();var i=this.onlineModels.indexOf(this.currentChathost);this.nextChathost=this.onlineModels[(i+1)%this.onlineModels.length],this.onlineModels.length<2||this.nextChathost&&(e||this.loadRoomCounter++,this.getRoom(this.nextChathost,{title:this.onlineModelsData[this.nextChathost].display_name}))},loadPrevRoom:function(){if(!(this.onlineModels.length<2)){if(this.loadRoomCounter&&this.loadRoomCounter%4==0)return this.loadRoomCounter=0,void this.openRoomInWindow();var e=this.onlineModels.indexOf(this.currentChathost);this.prevChathost=e&&-1!==e?this.onlineModels[e-1]:this.onlineModels[this.onlineModels.length-1],this.prevChathost&&(this.loadRoomCounter++,this.getRoom(this.prevChathost,{title:this.onlineModelsData[this.prevChathost].display_name}))}},openRoomInWindow:function(e){void 0===e&&(e=this.currentChathost),s.debounce(function(){var t=S.default.getState().promoHitUrl;if(e&&t){if(-1!==t.indexOf("_model_name_")||v.isLiveStreamPromo)t=t.replace(/_model_name_/g,e);else{var n=s.getQueryStringParameterByName("csurl",t);if(n&&-1===n.indexOf(e)){var i=n.split("/");i[i.length-1]=e,t=s.updateQueryStringParameter(t,"csurl",i.join("/"))}}v.isLiveStreamPromo&&s.isInIframe()&&window.parent.postMessage(JSON.stringify({type:"tracking_click"}),"*"),window.open(t)}},100,!0)()},getRoom:function(n,i){if(n&&this.userData&&this.userData.chathost===n)return void t.chat.updateHistoryState();if(this.debug("getRoom",n,i,"currentChathost="+this.currentChathost,"waitRoomConnect="+this.waitRoomConnect),n&&this.currentChathost!==n&&!this.waitRoomConnect){this.userData.chathost=n,this.waitRoomConnect=!0,S.default.setState({chatRoomTitle:i.title}),e("#bChatRoomTitle").html(i.title),e("#bChat").triggerHandler("chat:getRoom",[n,i]),e("#bSendInputHolder").find(".sendInput").val("");var a=e("#mls_models").attr("data-chatpage-meta-title");if(a&&(document.title=a.replace("%display_name%",i.title)),e.mobile&&(e(".bottom_banner_container_chat").show(),e("#bChatStatus").html(__("Free chat with")),e("#popupPrivate .goto-group").show()),!this.service.connected)return this.debug("!!! ws is not connected, try to connect"),void this.service.connect(this.localData.chatServerUrl);this.currentChathost&&this.closeRoom(!0),this.setCurrentChathost(n),!e.mobile&&this.userData.isPayable&&e.bongacamsPopupClose(),e("#bChat").attr("chathost",n).find(".history").html(""),e("#bChat").triggerHandler("onBeforeGetRoom",[n,i]),this.service.getRoom(n)}},closeRoom:function(e,t){this.debug("closeRoom",e),this.options.debug&&this.addServiceMessage("[debug] changeRoom:"+e),this.service.closeRoom(e),e?(this.waitRoomConnect=!0,void 0!==this.soundVolume&&"one"===this.localData.promoAudioMute&&(this.localData.promoAudioMute=null,this.setSoundVolume(.75))):this.waitRoomConnect=!1,this.closeChat(t)},setCurrentChathost:function(t){var n=this.getChatProfile();n&&n.load(t);var i=void 0!==this.currentChathost&&void 0!==t&&this.currentChathost!==t;if(t&&(this.currentChathost=t),this.currentChathost){if(this.onlineModels&&this.onlineModels.length>1){var r=null,o=-1,s=+e.inArray(this.currentChathost,this.onlineModels);if(-1!==s?(s>=1&&(o=s-1),r=s+1):r=0,this.onlineModelsFullList&&(0===s?o=this.onlineModels.length-1:s===this.onlineModels.length-1&&(r=0)),this.prevChathost=this.onlineModels[o]||null,this.nextChathost=this.onlineModels[r]||null,this.onlineModelsFullList)this.nextChathost?this.prevChathost||(this.debug("End of list: PREV=LAST"),this.prevChathost=this.onlineModels[this.onlineModels.length-1]):(this.debug("End of list: NEXT=FIRST"),this.nextChathost=this.onlineModels[0]);else{var l="prev"===this.waitListingUpdate||null!==o&&!this.prevChathost,c="next"===this.waitListingUpdate||null!==r&&!this.nextChathost;if(e.mobile?l||c:this.startNavigation&&(l||c)){var u=window.globalListing;u&&u.loader.forceLoadOnlineModels()}else this.waitListingUpdate=!1}e("#bModelNavigator").show(),e(document).trigger(a.CHAT_TRIGGER_SHOW_NAVIGATOR)}else e("#bModelNavigator").hide();e("#bChat").triggerHandler("onCurrentChathost"),i&&e("#bChat").triggerHandler("onCurrentChathostChange"),this.debug("setCurrentChathost",this.currentChathost,"NEXT:"+this.nextChathost,"PREV:"+this.prevChathost)}},mlsUpdate:function(t,n){if(this.onlineModelsFullList=n||!1,this.onlineModels=[],this.onlineModelsData=[],this.debug("--- MLS UPDATE ---"),e.isArray(t))for(var i=0;i<t.length;i++)t[i].is_away||(this.onlineModelsData[t[i].username]=t[i],this.onlineModels.push(t[i].username));if(this.debug("--- MLS UPDATE --- onlineModels=",this.onlineModels,"isFullList="+n),this.setCurrentChathost(),this.waitListingUpdate){var a=this.waitListingUpdate;switch(this.debug("%%% waitListingUpdate for "+a),this.waitListingUpdate=!1,a){case"next":this.nextRoom();break;case"prev":this.prevRoom()}}},showVolumeSlider:function(e){clearTimeout(this.volumeSlidesInt);try{if(e)this.service.showVolumeSlider(!0);else{var t=this;this.volumeSlidesInt=setTimeout(function(){t.service.showVolumeSlider(!1)},1500)}}catch(e){}},soundOff:function(t){var n=e(t).is(".on");this.service.muteAudio(n),this.onMuteSound(n)},videoOff:function(t){var n=e(t).is(".on");n?e(t).removeClass("on").addClass("off"):e(t).removeClass("off").addClass("on"),this.service.muteVideo(n)},showPaidShowLinks:function(){this.userData.isPayable&&this.userData.balance>0&&(this.chatSettings.allowGroupChat&&!this.isGroupChatInvited&&e("#TopMenuGotoGroup").show(),this.chatSettings.allowPrivateChat&&e("#TopMenuGotoPrivate,  #bCamStatusGotoPrivate").show())},hidePaidShowLinks:function(){e("#TopMenuGotoGroup, #TopMenuGotoPrivate, #bCamStatusGotoPrivate").hide()},disableChatInput:function(){e("#bChat .sendInput, #bChatInputContainer .sendInput").css("visibility","hidden"),e("#bChat .sendInput, #bChat .sendButton, #bChat .pmButton, #bChatInputContainer .sendInput, #bChatInputContainer .sendButton, #bChatInputContainer .pmButton").attr("disabled","disabled"),e("#bChat .inputContainer, #bChatInputContainer").addClass("inputDisabled")},enableChatInput:function(){e("#bChat .sendInput, #bChat .sendButton, #bChat .pmButton, #bChatInputContainer .sendInput, #bChatInputContainer .sendButton, #bChatInputContainer .pmButton").removeAttr("disabled"),e("#bChat .sendInput, #bChatInputContainer .sendInput").css("visibility","visible"),e("#bChat .inputContainer, #bChatInputContainer").removeClass("inputDisabled"),e.mobile||e("html, body").scrollLeft(0).scrollTop(0)},onChatSettings:function(e){this.debug("--- ChatSettings",e),this.chatSettings=e,t.chat&&!t.chat.userData.isPerformer&&"offline"===t.chat.performerStatus&&this.service.updatePerformer(this.currentChathost)},addToSpamList:function(e,n){t.chat.spamMute.addUser(e,n)},cleanSpamList:function(e){e.length&&t.chat.spamMute.removeUsers(e)},spamFilterMessage:function(e,t,n,i,a){var r;if(void 0!==t){var o="caps"===e?__("excessive use of capital letters"):__("banned words");r=__(t,{reason:o,br:"",modelMute:m.getElapsedTimeFormated(1e3*a,!1),delay:10,mute:12})}else r=this.userData.isRu&&i?i:n;void 0!==r&&""!==r.trim()&&this.incomingServiceMessage(r,"sf")},incomingServiceMessage:function(t,n,i,a){if(this.debug("incomingServiceMessage",t),void 0!==a&&(this.performerData.messageStyle=a),"notice"===n){if(i&&0===i.indexOf("enc:")&&(i=i.substr(4),t=f.chatMessageDecode(t,i)),i&&!this.userData.isPerformer)if(this.performerData&&this.performerData.isRu){if("ru"===i!==this.userData.isRu)return}else if(!this.userData.isRu&&"ru"===i)return;var r=0===t.indexOf("#LN#");r&&(t=t.replace("#LN#","")),t=t.replace(/\n/g,"<br>"),t=o.default.replace({message:t,replacePremium:!0});var s="en"===i||"ru"===i||r?" ltr":"",l=e('<span class="notice">'+__("Notice")+': <span class="notice-message'+s+'">'+t+"</span></span>"),c=void 0;if(this.performerData&&(this.performerData.messageStyle||this.performerData.fontStyle)?c=this.performerData:this.userData.isPerformer&&(this.userData.messageStyle||this.userData.fontStyle)&&(c=this.userData),c&&!this.userData.isPerformer){var u=this.getFontStyles(c);l.css(u)}this.addServiceMessage(l.prop("outerHTML"),this.userData.isPerformer?"topicChange":"modelNote",this.currentChatType)}else"warning"===n?this.addServiceMessage(t,"warning",this.currentChatType):"model_raise"===n?this.addServiceMessage(t,"model_raise",this.currentChatType):this.addServiceMessage(t,"service",this.currentChatType)},userConnected:function(e,t){if(this.debug("userConnected",e.username),e.username!==this.userData.username&&(e.isPerformer||"private-chat"===t&&"moderator"!==e.role)){var n=e.showType;if("fullprivate"===n&&(n="full private"),e.isPerformer&&"private-chat"===t)switch(this.performerStatus){case"group":n="group";break;case"fullprivate":n="full private";break;default:n="private"}this.addServiceMessage('<span class="dt">'+(new Date).format("H:i:s")+"</span>&nbsp;"+__("%username% has joined the "+n+" chat",{username:"<strong>"+e.displayName+"</strong>"})+".","service",t)}},userDisconnected:function(e,t,n){if(this.debug("userDisconnected",e.username),e.userId&&e.hasStream&&!e.isPerformer&&this.closeMemberCam(e),e.username!==this.userData.username&&(e.isPerformer||"private-chat"===t&&"moderator"!==e.role)){var i=e.showType;if("fullprivate"===i&&(i="full private"),e.isPerformer&&"private-chat"===t)switch(this.performerStatus){case"group":i="group";break;case"fullprivate":i="full private";break;default:i="private"}this.addServiceMessage('<span class="dt">'+(new Date).format("H:i:s")+"</span>&nbsp;"+__("%username% has left the "+i+" chat after %time%",{username:"<strong>"+e.displayName+"</strong>",time:g.getTimeAgoString(n)})+".","service",t)}},isAllowedToShow:function(e,t){if(this.isIgnored(e.username)||this.isFreeUsersMuted&&!e.isPayable&&"model"!==e.role&&"moderator"!==e.role)return!1;if(!this.userData.isPerformer&&"moderator"!==this.userData.role&&"model"!==e.role&&"moderator"!==e.role)if(this.performerData&&!this.performerData.isRu){if(e.isRu&&!this.userData.isRu)return!1}else if(t){if("ru"===t!==this.userData.isRu)return!1}else if(e.isRu!==this.userData.isRu)return!1;if(!this.userData.isPerformer&&"model"===e.role&&t)if(this.performerData&&this.performerData.isRu){if("ru"===t!==this.userData.isRu)return!1}else if(!this.userData.isRu&&"ru"===t)return!1;return!0},showTipMenu:function(e){var n=this,i=this.performerData.tipmenu;if(i){var a=this.userData.isRu||this.userData.isPerformer&&t.chat.localData.isRussian,r=a&&i.ru?"ru":"en",o=i[r],s=this.userData.isPerformer?this.userData:this.performerData;o.split("\n").map(function(e){n.incomingMessage("public-chat",e,s,"tip_menu_"+Math.floor(65535*Math.random()),"",!1,r)})}},incomingMessage:function(t,n,i,a,r,o,s){if(!e.isTranslateSkin){if(s&&0===s.indexOf("enc:")){if(s=s.substr(4),"tip_menu"===n)return void this.showTipMenu(i);n=f.chatMessageDecode(n)}if("model"===i.role&&(this.performerData.messageStyle=i.messageStyle),this.debug("incomingMessage",i.username,t,"!="+r),!this.isAllowedToShow(i,s))return;var l=this.getMessageBox(e("#"+t+" .history"),i),c=this.formatMessage(n,i,a,l,o);if(this.addMessage(c,l),this.afterAddMessage(c,l),r&&this.userData.isPerformer){var u=e("#receive_message_with_hot_words");u.length&&e("#"+t+" .hot_word_remindable").showTermsReminderTooltip(u.html())}}},afterAddMessage:function(e,t){var n=this.getRealWidthHistory(t);e.hasClass("msg_wrp")&&(e=e.find(".msg_box")),this.resizeMsgBubble(e,n)},renderDeletedMessage:function(e){return e.message?__("Message deleted by %display_name%",{display_name:e.deletedBy})+'. <span class="view">'+__("View deleted message")+"</span>":"["+__("Message deleted")+"]"},markMessageDeleted:function(t){var n=e("#m"+t.id);if(n.length){if(n.addClass("deleted"),t.message){var i=t.message;n.attr("data-message",i)}var a=n.hasClass("message")?n:n.find(".message");a.length&&(a.css({backgroundColor:"",color:"",fontFamily:"",fontSize:""}),a[0].className=a[0].className.replace(/\bpt_.*?\b/g,""))}},onTopicChange:function(t,n){if(t)if(t=c.stringWordWrap(t,"",16),this.debug("onTopicChange","isRu="+n,t),e("#bTopicForm").hasClass("topicRu"))n?(this.addServiceMessage('<span class="online">'+__("Topic")+" (для России):</span> "+t,"topicChange"),e(".bChatTopicRu").html(t)):(this.addServiceMessage('<span class="online">'+__("Topic")+" (для остальных):</span> "+t,"topicChange"),e(".bChatTopic").not(".bChatTopicRu").html(t));else{if(this.userData.isPerformer&&n||void 0!==this.userData.isRu&&!this.userData.isPerformer&&this.performerData.isRu&&Boolean(n)!==Boolean(this.userData.isRu)||!this.userData.isPerformer&&n&&!this.performerData.isRu)return;this.addServiceMessage('<span class="online">'+__("Topic")+":</span> "+t,"topicChange"),e(".bChatTopic").html(t)}else this.userData.isPerformer||e(".bChatTopic").html(__("%modelname%'s chat",{modelname:this.performerData.displayName}));e(document).trigger(a.CHAT_TRIGGER_TOPIC_CHANGE,[t,n])},onTipMenuChange:function(e,n){var a,r=e.interval,o=e.message;if(this.debug("onTipMenuChange","isRu="+n,o),!r&&this.performerData.tipmenu)return this.performerData.tipmenu[n?"ru":"en"]=null,void(n&&this.userData.isRu&&!t.chat.userData.isPerformer&&this.performerData.tipmenu.en&&this.addServiceMessage(c.stringWordWrap(this.performerData.tipmenu.en,"",16).replace(/\n/g,"<br/>"),"topicChange"));var s=c.stringWordWrap(o,"",16);if(this.performerData.tipmenu=i({},this.performerData.tipmenu||{},(a={},a[n?"ru":"en"]=s,a)),s=s.replace(/\n/g,"<br/>"),this.userData.isPerformer){if(!t.chat.localData.isRussian&&n)return;var l=void 0;l=t.chat.localData.isRussian?n?__("Tip Menu (for Russia):"):__("Tip Menu (for other countries):"):__("Tip Menu:"),this.addServiceMessage(l+"<br/>"+s,"topicChange")}else r&&o&&Boolean(this.userData.isRu)===n&&this.addServiceMessage(s,"topicChange")},performerStatusChange:function(t){this.debug("performerStatusChange",t,"was="+this.performerStatus),t!==this.performerStatus&&(this.performerStatus=t,e("#bChat").triggerHandler("onPerformerStatusChange"),v.isLiveStreamPromo&&"public"!==t&&this.loadNextRoom(!0))},groupChatInvitation:function(t){if(this.groupChatInvitationData=t,this.isGroupChatInvited=!1,this.debug("--- GroupChatInvitation",t),!t||t.users&&0===t.users.length)return this.isGroupChatInitialized&&this.addServiceMessage(__("Group chat (%numready% of %numrequired% is ready)",{numready:0,numrequired:this.chatSettings.groupChatMinMembers}),"groupChatInvitation","public-chat"),this.isGroupChatInitialized=!1,this.chatSettings.allowGroupChat&&e("#groupChatMinMembers").removeAttr("disabled"),void e(".startGroupChatNow").remove();this.isGroupChatInitialized=!0,e("#groupChatMinMembers").val(this.chatSettings.groupChatMinMembers),e("#groupChatMinMembers").attr("disabled","disabled");for(var n=0;n<t.users.length;n++)if(t.users[n]===this.userData.username){this.isGroupChatInvited=!0;break}this.isGroupChatMembersReady=t.users.length>=this.chatSettings.groupChatMinMembers;var i="",a=this.userData.isPerformer?this.userData.displayName:this.performerData.displayName;i+=__("Group chat (%numready% of %numrequired% is ready)",{numready:t.users.length,numrequired:this.chatSettings.groupChatMinMembers}),this.userData.isPerformer?t.users.length>0&&(i+=' <a class="startGroupChatNow" href="javascript:void(0)" onclick="return chat.sendGroupShowResponse(this, \'accept\')">'+__("Start group chat right now")+"</a>"):(this.isGroupChatMembersReady?i+="<br/>"+__("Now that there are enough members, we are waiting for %modelname% to accept or decline the group chat invitation",{modelname:a})+"!":i+="<br/>"+__("Once %numrequired% members have agreed to participate %modelname% will be able to start the group chat",{numrequired:this.chatSettings.groupChatMinMembers,modelname:a})+"!",i+="<br/>"+__("Group show costs each participating member %price% tokens per minute",{price:this.localData.groupChatTokensPerMinute})+"!",this.userData.isLogged&&(!this.isGroupChatInvited&&this.userData.isPayable?i+=' <a class="acceptGroupChat" href="javascript:void(0)" onclick="return chat.gotoGroupChat()">'+__("Click here")+"</a> "+__("to add yourself to the group chat list")+"!":this.userData.isPayable&&(i+=' <a class="removeAcceptGroupChat" href="javascript:void(0)" onclick="return chat.removeAcceptGroupChat()">'+__("Click here")+"</a> "+__("to remove yourself from group chat list")+"!"))),this.addServiceMessage(i,"groupChatInvitation","public-chat")},onFriendRequest:function(t){var n=this;e("#context_menu_"+t.username).find("li.friend").remove();var i='<span class="friend_request_'+t.username+'">'+__("%username% would like to add you as friend",{username:"<strong>"+t.displayName+"</strong>"})+", "+__("you can")+' <a href="javascript:void(0)" class="agree">'+__("agree")+"</a> "+__("or")+' <a href="javascript:void(0)" class="refuse">'+__("refuse")+"</a>.</span>";this.addServiceMessage(i,"friendRequest");e(".friend_request_"+t.username+" a.agree").unbind("click").bind("click",function(){return n.confirmFriend(t)}),e(".friend_request_"+t.username+" a.refuse").unbind("click").bind("click",function(){return n.removeFriend(t)})},onFriendConfirm:function(e){this.waitFriendConfirmUsers[e.username]&&!this.isFriend(e)&&(this.addFriendConfirmMessage(e.displayName),this.addToMyFriendIds(e))},addFriendConfirmMessage:function(e){var t=__("%username% has added you as friend",{username:"<strong>"+e+"</strong>"})+".";this.addServiceMessage(t,"friendConfirm")},onUserData:function(t,n,i,a){if(this.debug("--- UserData",t),this.debug("--- PerformerData",n),this.debug("--- LocalData",i),this.userData=t,this.performerData=n,this.performerData&&!this.performerData.role&&(this.performerData.role="model"),void 0===e.activeFriendIds){var r=this;y.getActiveFriendIds(function(){r.userIsFriendForPerformer=r.isFriend(r.performerData)})}else this.userIsFriendForPerformer=this.isFriend(this.performerData);this.localData=i,a&&this.performerStatusChange(a),this.waitRoomConnect=!1,e("#bChat").triggerHandler("onUserData"),e("#bChat").triggerHandler("afterUserData")},onConnect:function(){this.debug("onConnect"),e("#bChat").triggerHandler("onRoomConnect",this.userData)},onDisconnect:function(t){if(this.debug("onDisconnect",t),e("#bChat").triggerHandler("onRoomClose",t),this.closeChat(),v.isLiveStreamPromo)return void this.loadNextRoom(!t||"GHOST_DETECT"!==t.code);if(this.userData&&this.userData.isPerformer&&(this.performerStatusChange("offline"),e("#bCamStatus a").hide()),t&&t.code){switch(t.code){case"ERROR":case"AUTH_MISS":case"ONLINE_FAILED":this.addServiceMessage(__("Chat closed"),"alert"),(e("#mls_chatconsole").length||e("#video-panel-wrap").length)&&(location.href="/");break;case"CONNECT_MISS":break;case"ROOM_RELEASE":return void this.performerStatusChange("offline");case"USER_KICK":this.userData.isPerformer?(this.addServiceMessage(__("Your chat session has been closed by the administrator")+".","alert"),t.reason&&this.addServiceMessage(__(t.reason),"alert"),this.addServiceMessage(__("In case you have any questions, please contact %i%BongaCams Support%x%.",{i:'<span style="color: #009eeb; text-decoration: underline; cursor: pointer;" class="link" onclick="chat.supportPopup()">',x:"</span>"}),"alert")):this.addServiceMessage(__("You have been blocked from %modelname%'s chat room (most likely for inappropriate behavior)",{modelname:this.performerData.displayName}),"alert");break;case"USER_KICK_TEMPORARY":"model"===t.status?this.addServiceMessage(__("Model %model% kicked you from the chat for 1 hour (most likely, for inappropriate behavior)",{model:t.who}),"alert"):"mcm"===t.status?this.addServiceMessage(__("Moderator %displayname% kicked you from the chat for 1 hour (most likely, for inappropriate behavior)",{displayname:t.who}),"alert"):this.addServiceMessage(__("%status% user %member% kicked you from the chat for 1 hour (most likely, for inappropriate behavior)",{status:'<span class="bc_capitalize">'+t.status+"</span>",member:t.who}),"alert");break;case"USER_BAN":"mcm"===t.status?this.addServiceMessage(__("You have been banned from %modelname%'s chat room by moderator %member_moderator% (most likely for inappropriate behavior)",{member_moderator:t.who,modelname:this.performerData.displayName}),"alert"):this.addServiceMessage(__("You have been banned from %modelname%'s chat room (most likely for inappropriate behavior)",{modelname:this.performerData.displayName}),"alert");break;case"SPAM_DETECT":this.addServiceMessage(__("Your account has been compromised and blocked from sending messages and watching live streams")+".","alert"),this.addServiceMessage(__("In case you have any questions, please contact our support team")+".","alert");break;case"GHOST_DETECT":this.addServiceMessage("Duplicated user detected, chat session has been closed","alert"),window.opener?window.close():(e("#mls_chatconsole").length||e("#video-panel-wrap").length)&&(location.href="/");break;default:this.addServiceMessage(t.code,"alert")}P.showLayover("show_default")}},setHistory:function(t){if(this.debug("setHistory",t),!("fullprivate"===this.performerStatus||e.mobile&&e("body").hasClass("fullscreen"))){for(var n=0;n<t.length;n++){var i=t[n];if(i.type===u.ServerMessageEvent.INCOMING_TIP&&this.onTip(i.body.from,i.body.tip.amount,!1,i.body.tip.subType),i.type===u.ServerMessageEvent.INCOMING_RAISE&&this.onShowRaise(i.body.from),i.type===u.ServerMessageEvent.PLAY_GAME_NOTICE||i.type===u.ServerMessageEvent.UPDATE_TRACK_LIST)this.showGameHitMessage(i);else if(i.author&&!e("#m"+i.id).length){var a=i.deletedBy?this.renderDeletedMessage(i):i.message;this.incomingMessage("public-chat",a,i.author,i.id,!1,i.deletedBy,i.l),i.deletedBy&&this.markMessageDeleted(i)}else i.tip?this.onTip(i.from,i.tip.amount,!1,i.tip.subType):"raise"===i.type&&this.onShowRaise(i.from)}e.mobile||setTimeout(function(){var t=e("#bChat").find(".history");t.scrollTop(t.get(0).scrollHeight)},500)}},onHistoryClear:function(t){e("#"+t+" .history").html("")},onDeleteMessages:function(t){var n=this,i=this;this.debug("--- onDeleteMessages",t);var a=e("#bChat").find(".history").filter(":visible"),r=this.isBubbleDesign(a)?"msg_wrp":"msg_row",o=function(e){if(e.length)if(n.isBubbleDesign(a)){var t=e.closest(".msg_wrp");if(1===t.find(".msg_row").length)t.remove();else{var i=e;i.is(":first-child")&&i.next().find(".message:first-child").prepend('<div class="msg_corners"></div>'),i.remove()}}else e.remove()},s=function(e,i){var r;r=n.isBubbleDesign(a)?i.find("#m"+t.id):i.filter("#m"+t.id),o(r)},l=function(t){t.find(".smiley").each(function(){var t=e(this).attr("data-token");t?(t=-1===t.indexOf(":")?":"+t:t,e(this).replaceWith(" "+t+" ")):e(this).remove()})};if(t.deletedBy){var c=e("#m"+t.id),u=c.closest("."+r);if(this.userData.isPerformer&&this.userData.username===t.username||this.userData.isPerformer&&t.deletedByMcm&&u.attr("data-author")!==t.username||this.userData.isMcm&&u.attr("data-author")!==this.userData.username&&(!t.deletedByMcm||u.attr("data-author")!==t.username)){var d={id:t.id};if(this.userData.isPerformer&&!t.deletedByMcm||this.userData.isPerformer&&t.deletedByMcm&&u.attr("data-author")!==t.username||this.userData.isMcm&&t.deletedByMcm){var h="";d.deletedBy=t.deletedBy,this.isBubbleDesign(a)?c.find(".message").each(function(){l(e(this)),h+=e(this).find(".msg").html()}):c.find(".multi_msg").length?c.find(".msg_box").each(function(){l(e(this)),h+=e(this).find(".msg").html()}):(l(c.find(".msg")),h=c.find(".msg").html()),d.message=h}this.isBubbleDesign(a)?(u.addClass("mb_color"),c.html(i.getMessageBubble(i.renderDeletedMessage(d),!0,!0))):c.find(".multi_msg").length?c.find(".multi_msg").replaceWith(i.getMessageBubbleForConsole(i.renderDeletedMessage(d),!0,!0)):(c.addClass("colored __text"),c.find(".msg_box").replaceWith(i.getMessageBubbleForConsole(i.renderDeletedMessage(d),!0,!0))),this.markMessageDeleted(d)}else(u.attr("data-author")!==this.userData.username||this.userData.isMcm&&u.attr("data-author")===this.userData.username&&!t.deletedByModel)&&o(c)}else if(t.id&&t.username){var p=e("#bChat ."+r+'[data-author="'+t.username+'"]');p.length||(p=e("#m"+t.id).closest("."+r)),s(t.id,p)}else t.username?e("#bChat ."+r+'[data-author="'+t.username+'"]').remove():t.id&&o(e("#m"+t.id))},setSize:function(){this.debug("setSize");var t,n,i=e("#camSplitPane"),a=i.resizable("option","minWidth"),r=i.resizable("option","maxWidth"),o=i.resizable("option","minHeight"),s=i.resizable("option","maxHeight"),l=i.width();i.height();l>=r?(t=a,n=o):(t=r,n=s),i.css("width",t+"px"),i.css("height",n+"px");var c=n-e("#bChat .inputContainer").height()-e("#bChatTopic").height();e("#bChat .users").css("height",c+"px"),e("#bChat .history").css("height",c+"px"),this.resizeWindow()},updateUsers:function(t,n){if(this.debug("updateUsers",t,n),n.users){n.guestListLimit&&n.users.push({username:"guest_count",displayName:n.totalGuests+" Guests",isLogged:!1}),e("#"+t+" .users").html("");for(var i=0;i<n.users.length;i++)e("#"+t+" .users").append(this.createUserListItem(n.users[i]))}(this.userData.isPerformer||"moderator"===this.userData.role)&&n.userListLimit>0&&(n.userListLimit<n.totalUsers||!n.guestListLimit&&n.userListLimit<n.totalUsers+n.totalGuests)&&e("#"+t+" .users").append('<button class="btn_silver more_users" title="Show all users" type="button">...</button>');var a=n.totalUsers+n.totalGuests;e("#"+t+" .bChatUsersCount").html(a),e("#bChat").triggerHandler("onUsersCount",[t,a])},isSendAllowed:function(n){return this.userData.isLogged?n.length>255?(alert("Message is too long"),!1):"member"!==this.userData.role||("fullprivate"!==this.performerStatus||this.isPaidShow()?"gold"===this.userData.accessLevel&&!t.chat.userData.isVip&&!t.chat.userData.isMcm&&"public-chat"===this.currentChatType&&this.chatSettings.minTokensForChat&&t.chat.userData.balance<+this.chatSettings.minTokensForChat?(this.addServiceMessage(__("To leave messages in this model's chat room, you must have at least %sum% %tokens_plural% on your balance.",{sum:this.chatSettings.minTokensForChat,tokens_plural:'<span class="bc_capitalize">'+x.default.pluralise("tokens",this.chatSettings.minTokensForChat)+"</span>"})+' <a href="javascript:void(0)" onclick="return chat.buyTokensPopup()">'+__("Buy Tokens!")+"</a> ","alert js-goldbalance_chat_alert"),!1):!this.checkFreeMessageLimit():(this.fullPrivateMessageLimit(),!1)):(e(".history .guest_chat_alert").length||this.addServiceMessage(__("We are sorry but guests are not allowed to chat")+'. <a href="javascript:void(0)" onclick="return chat.signupPopup(true)">'+__("Click here to create a 100% FREE account")+"</a> "+__("and begin chatting with your favorite models")+"!","alert guest_chat_alert"),!1)},sendMessage:function(t,n,i){this.debug("sendMessage",t,n),this.isSendAllowed(t)&&("member"===this.userData.role&&o.default.replace({message:t,replacePremium:!0,saveAsRecent:!0,escape:!0}),this.service.sendMessage(t,this.currentChatType,n,i)),e("#bChat").triggerHandler("onSendMessage",n)},getUserBalance:function(t){return t.blackCloak?"*******":t.balance>0?e.formatNumber(t.balance):0},isPaidShow:function(){return"public"!==this.currentShowType},addFriend:function(t){var n=this;return t.isPerformer&&!this.userData.isPayable?(this.addServiceMessage(__("Only premium members can add models to friends")+". "+__("To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!"),"alert"),void this.buyTokensPopup()):(e("#context_menu_"+t.username).find("li.friend").remove(),this.waitFriendConfirmUsers[t.username]=!0,e.post("/friend/add/"+t.username,k.getCSRFData({src:this.currentChatType}),function(i){if(i.success&&!n.isFriend(t))n.addServiceMessage(__("Your friend request has been sent"),"");else if("pending"===i.status){var a='<span class="friend_request_'+t.username+'">'+__("Awaiting friend confirmation")+', <a href="javascript:void(0)" class="cancel">'+__("Cancel")+"</a>.</span>";n.addServiceMessage(a,"friendRequest"),e(".friend_request_"+t.username+" a.cancel").unbind("click").bind("click",function(){return n.removeFriend(t)})}},"json"),!1)},confirmFriend:function(t){var n=this;return e(".friend_request_"+t.username).parent().remove(),e("#context_menu_"+t.username).find("li.friend").remove(),e.post("/friend/add/"+t.username,k.getCSRFData({src:this.currentChatType}),function(e){n.addToMyFriendIds(t)},"json"),!1},removeFriend:function(t){return e(".friend_request_"+t.username).parent().remove(),e.post("/friend/remove/"+t.username+"/"+t.userId,k.getCSRFData({src:this.currentChatType}),function(e){},"json"),!1},onUserMuted:function(e){this.debug("onUserMuted",e),this.userData.isMuted=e},onMuteSound:function(t){t?e("#bCamControlsVolume").removeClass("on").addClass("off"):e("#bCamControlsVolume").removeClass("off").addClass("on")},onRebootSecondsLeft:function(e){this.addServiceMessage(__("WARNING: Chat service is going for maintenance after %time%",{time:g.getTimeAgoString(1e3*e)}),"alert")},adjustDMCASecurityIcon:function(){if(this.performerData&&this.performerData.dmcaSecurity&&!this.userData.isPerformer){var t=this.performerData.dmcaSecurity,n=e("#dmca_security_container"),i=e("#dmca_security");if(e("body").hasClass("chatFullscreen")){var a=e(window);n.css({width:a.width()-t.width+"px",height:a.height()-t.height+"px"})}if(t.marginTop>n.height()?i.css({top:n.height()+"px"}):i.css({top:t.marginTop+"%"}),t.marginLeft>n.width())w.isRTLCulture?(n.css({left:"inherit",right:"0%"}),i.css({left:"inherit",right:n.width()+"px"})):i.css({left:n.width()+"px"});else if(w.isRTLCulture){var r=t.marginLeft;n.css({left:"inherit",right:"0%"}),i.css({left:"inherit",right:r>=0?r+"%":parseInt(e(".wrapper_rtl").css("padding-right").replace("px",""))+"px"})}else i.css({left:t.marginLeft+"%"})}},updateHistoryState:function(t){void 0===t&&(t="/");var n="";this.options.scriptName&&"/index.php"!==this.options.scriptName&&(n=this.options.scriptName),history.pushState({chathost:this.performerData.username,title:this.performerData.displayName},e("title").html(),n+t+this.performerData.username)},dispatchTip:function(t,n){e(document).trigger("chat:tip",{user:t.displayName,amount:n})},debug:function(){if(this.options.debug)try{var e=Array.prototype.slice.call(arguments);e.splice(0,0,"[Chat]"),console.log.apply(console,e)}catch(e){console.log(typeof arguments)}},error:function(){try{var e=Array.prototype.slice.call(arguments);e.splice(0,0,"[Chat] ERROR"),console.log.apply(console,e)}catch(e){console.log(typeof arguments)}},addDeferredMessage:function(t,n){var i=e("<span/>");this.addMessage(i,n),t.then(function(e){i.replaceWith(e)}).catch(function(){return i.remove()})}},t.chat=window.chat}).call(t,n(0))},function(e,t,n){"use strict";function i(e,t){function n(e){var n=e.pageY-a;a=e.pageY,o(function(){t.el.scrollTop+=n/t.scrollRatio})}function i(){e.classList.remove("bc_scroll_grabbed"),document.body.classList.remove("bc_scroll_grabbed"),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)}var a=0;e.addEventListener("mousedown",function(t){return a=t.pageY,e.classList.add("bc_scroll_grabbed"),document.body.classList.add("bc_scroll_grabbed"),document.addEventListener("mousemove",n),document.addEventListener("mouseup",i),!1})}function a(e){Object.prototype.hasOwnProperty.call(e,"data-scrollbar")||Object.defineProperty(e,"data-scrollbar",new s(e))}function r(e){for(var t=document.querySelectorAll(e),n=0;n<t.length;n++)a(t[n])}Object.defineProperty(t,"__esModule",{value:!0});var o=window.requestAnimationFrame||window.setImmediate||function(e){return setTimeout(e,0)},s=function(){function e(e){var t=this;this.scrollRatio=1,this.moveBar=function(){var e=t.el.scrollHeight,n=t.el.clientHeight;t.scrollRatio=n/e;var i="rtl"===t.direction,a=i?t.target.clientWidth-t.bar.clientWidth:-1*(t.target.clientWidth-t.bar.clientWidth);o(function(){t.scrollRatio>=1?t.bar.classList.add("bc_scroll_hidden"):(t.bar.classList.remove("bc_scroll_hidden"),t.bar.style.cssText="height:"+100*t.scrollRatio+"%; top:"+t.el.scrollTop/e*100+"%;right:"+a+"px;")})},this.target=e,this.direction=window.getComputedStyle(this.target).direction;var n='<div class="bc_scroll_bar">';for(this.wrapper=document.createElement("div"),this.wrapper.setAttribute("class","bc_scroll_wrapper"),this.el=document.createElement("div"),this.el.setAttribute("class","bc_scroll_content"),"rtl"===this.direction&&this.el.classList.add("bc_scroll_rtl"),this.wrapper.appendChild(this.el);this.target.firstChild;)this.el.appendChild(this.target.firstChild);this.target.appendChild(this.wrapper),this.target.insertAdjacentHTML("beforeend",n),this.bar=this.target.lastChild,this.target.classList.add("bc_scroll_container");var a=window.getComputedStyle(e);"0px"===a.height&&"0px"!==a["max-height"]&&(e.style.height=a["max-height"]),i(this.bar,this),this.moveBar(),window.addEventListener("resize",this.moveBar),this.el.addEventListener("scroll",this.moveBar),this.el.addEventListener("mouseenter",this.moveBar)}return e}();t.initScrollSingle=a,t.initScrollQuery=r},function(e,t,n){"use strict";function i(e,t){if(!r.isHexColor(e))return e;0===e.indexOf("#")&&(e=e.slice(1));var n=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);if(t)return.299*n+.587*i+.114*a>220?"#000000":"#"+e;var o=(255-n).toString(16),s=(255-i).toString(16),l=(255-a).toString(16),c=function(e,t){return void 0===t&&(t=2),(new Array(t).join("0")+e).slice(-t)};return"#"+c(o,2)+c(s,2)+c(l,2)}function a(e){if(!r.isHexColor(e))return e;var t=e.substring(1),n=parseInt(t,16);return(299*(n>>16&255)+587*(n>>8&255)+114*(n>>0&255))/1e3<220}Object.defineProperty(t,"__esModule",{value:!0});var r=n(51);t.invertColor=i,t.isDarkColor=a},function(e,t,n){"use strict";function i(e,t){var n={text:""};e.replace(/%;/g,"\n").split(";").forEach(function(e){var t=e.replace(/\n/g,";").split(/#(.*)/g),i=t[0],a=t[1];n[i]=a});var i=n.text,a=r(n,["text"]);return i in s?"function"==typeof s[i]?s[i](a,t):__(s[i],a):__(i,a)}var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&(n[i[a]]=e[i[a]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(397),s=a({},o.chatBotsMessages);t.chatMessageDecode=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(119),a=n(164),r=n(165);t.chatBotsMessages={tip_king_default:function(e,t){return i.stringReplaceValues(__("Today's Tips King @username sent me @tipsum %tokens%!",{tokens:"undefined"==typeof chat||!chat.userData.isRu||"ru"!==t&&""!==t?r.pluraliseEn(+e.tipsum,"token","tokens"):a.pluraliseRu(+e.tipsum,"токен","токена","токенов")}),e)}}},function(e,t,n){"use strict";(function(e){function i(){var t=a.default.getState(),n=t.isModerator,i=t.isMobile,s=t.isFullMobile,l=t.hasFullScreenAccess,c=t.isMobileApp;if(!i&&!s&&(n||l)&&!c&&!e("#bChatDesktopApp").length){var u=e("#ResizablePane");if(e(".modelResizablePane").length)u.resizable({maxWidth:document.body.offsetWidth-600,minWidth:313,zIndex:1001,handles:r.isRTLCulture?"w,s,sw":"e,s,se",aspectRatio:1.333333333333,helper:"ui-resizable-helper",stop:function(t,n){o.isIntersected("#ResizablePane",".adj_popup")&&e(".adj_popup").css({top:o.getBounding("#ResizablePane").y2})}});else{var d=chat.getVideoSizeRange();u.resizable({maxWidth:d.maxWidth,minWidth:d.minWidth,zIndex:10,handles:r.isRTLCulture?"w,s,sw":"e,s,se",aspectRatio:1.333333333333,helper:"ui-resizable-helper",stop:function(t,n){var i=n.element;i.addClass("ui-resizable-resized");var a=i.height()+34;e("#EmbedSWFHolder").css({width:i.width()+"px",height:a+"px"}),window.chat.setChatHeight(),e.isFunction(e.adjustHeaderAndFooterWidth)&&e.adjustHeaderAndFooterWidth()}})}}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),r=n(7),o=n(240);t.chatInitResizableMode=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.replaceShortcut=function(t,n,i){if(t.length){var a=t.html().replace(n,i).replace(n.replace("/>",">"),i);t.html(a);var r=t.parents(".history");r.length&&r.scrollTop(e.isMobile?0:r.prop("scrollHeight"))}}}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=window.requestAnimationFrame||window.setImmediate||function(e){return setTimeout(e,0)},o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollRatio=1,t.contentRef=function(e){t.content=e},t.barRef=function(e){t.bar=e},t.wrpRef=function(e){t.scrollWrp=e},t.moveBar=function(){var e=t.content.scrollHeight,n=t.content.clientHeight;t.scrollRatio=n/e,r(function(){if(t.bar){var n=t.isRtl?t.scrollWrp.clientWidth-t.bar.clientWidth:-1*(t.scrollWrp.clientWidth-t.bar.clientWidth);t.scrollRatio>=1?(t.bar.classList.add("bc_scroll_hidden"),t.scrollWrp.classList.add("__fit")):(t.bar.classList.remove("bc_scroll_hidden"),t.scrollWrp.classList.remove("__fit"),t.bar.style.cssText="height:"+Math.max(100*t.scrollRatio,10)+"%; top:"+t.content.scrollTop/e*100+"%;right:"+n+"px;")}})},t.dragStart=function(e){e.preventDefault(),e.stopImmediatePropagation(),t.lastPageY=e.pageY,t.bar.classList.add("bc_scroll_grabbed"),document.body.classList.add("bc_scroll_grabbed"),document.addEventListener("mousemove",t.drag),document.addEventListener("mouseup",t.dragEnd)},t.drag=function(e){var n=e.pageY-t.lastPageY;t.lastPageY=e.pageY,r(function(){t.content.scrollTop+=n/t.scrollRatio})},t.dragEnd=function(){t.bar.classList.remove("bc_scroll_grabbed"),document.body.classList.remove("bc_scroll_grabbed"),document.removeEventListener("mousemove",t.drag),document.removeEventListener("mouseup",t.dragEnd)},t}return i(t,e),t.prototype.componentWillMount=function(){this.isRtl="rtl"===window.getComputedStyle(document.body).direction},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.moveBar),r(this.moveBar);var e=window.getComputedStyle(this.base);"0px"===e.height&&"0px"!==e["max-height"]&&(this.base.style.height=e["max-height"])},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.moveBar),document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.dragEnd)},t.prototype.componentDidUpdate=function(){this.moveBar()},t.prototype.render=function(){var e,t=this.props,n=t.children,i=t.className;return a.h("div",{class:(e={bc_scroll_container:1},e[i]=!!i,e)},a.h("div",{class:"bc_scroll_wrapper",ref:this.wrpRef},a.h("div",{class:{bc_scroll_content:1,bc_scroll_rtl:this.isRtl},onMouseEnter:this.moveBar,onScroll:this.moveBar,ref:this.contentRef},n)),a.h("div",{class:"bc_scroll_bar",ref:this.barRef,onMouseDown:this.dragStart}))},t}(a.Component);t.default=o},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(51),a=n(48),r=n(402),o=function(){function t(){var e=this;this.isInit=!1,this.onWindowResize=function(t){e.closeTooltip()}}return t.prototype.init=function(){var t=this;this.$button=e(".fontButton"),this.$tooltip=e("#ChangeFontFormTooltip"),this.$submitButton=e(".accept_style_btn"),this.$resetButton=e(".reset_style_btn"),this.$fontColorInput=e("#my_font_color"),this.$fontSizeSelect=e("#my_font_size"),this.$fontFamilySelect=e("#my_font_family"),this.$button.tooltip({position:"top left",offset:t.getTooltipOffset(),tip:"#ChangeFontFormTooltip",events:{widget:"click, false",tooltip:"mouseenter"},onShow:function(){e(document).on("click.fontButton",function(n){var i=e(n.target);if(!t.allowHideTooltip(i))return!1;t.closeTooltip()}),window.addEventListener("resize",t.onWindowResize)},onHide:function(){t.$button.removeClass("isOpenTooltip"),e(document).off("click.fontButton"),window.removeEventListener("resize",t.onWindowResize)}}),this.$submitButton.on("click",function(n){if(n.preventDefault(),e(this).hasClass("mls_btn_disabled"))return!1;t.validateFontSize(),window.chat.setChatMessageStyle(t.getState()),t.closeTooltip(),t.disableSubmitBtn(),t.isDefaultValues()&&t.hideResetBtn()}),this.$resetButton.on("click",function(e){e.preventDefault(),t.hideResetBtn(),t.resetDefaults(),t.setState()}),this.$tooltip.on("change",".style_state",function(){t.changeState(e(this).attr("name"),e(this).val())})},t.prototype.isDefaultValues=function(){return this.$fontColorInput.val()===this.$fontColorInput.attr("data-default")&&this.$fontFamilySelect.val()===this.$fontFamilySelect.attr("data-default")&&this.$fontSizeSelect.val()===this.$fontSizeSelect.attr("data-default")},t.prototype.assignInitValues=function(){this.initFontColor=this.$fontColorInput.val(),this.initFontFamily=this.$fontFamilySelect.val(),this.initFontSize=this.$fontSizeSelect.val()},t.prototype.resetDefaults=function(){this.$fontColorInput.val(this.$fontColorInput.attr("data-default")||this.state.color),this.$fontFamilySelect.val(this.$fontFamilySelect.attr("data-default")||this.state.fontFamily),this.$fontSizeSelect.val(this.$fontSizeSelect.attr("data-default")||this.state.fontSize),this.disableSubmitBtn()},t.prototype.setState=function(e){this.state={color:e&&e.color||this.$fontColorInput.val(),fontFamily:e&&e.fontFamily||this.$fontFamilySelect.val(),fontSize:e&&e.fontSize||this.$fontSizeSelect.val()},this.enableSubmitBtn()},t.prototype.getState=function(){return this.state},t.prototype.changeState=function(e,t){this.state[a.toCamelCase(e)]=t,this.enableSubmitBtn(),this.showResetBtn()},t.prototype.onceInitAndSetDefaults=function(e){this.isInit||(this.isInit=!0,this.init(),this.setMessageStyle(e))},t.prototype.validateFontSize=function(){-1===r.default.indexOf(this.$fontSizeSelect.val())&&(this.$fontSizeSelect.find("option").each(function(){e(this).val(r.default[e(this).index()])}),this.$fontSizeSelect.val(r.default[0]))},t.prototype.setMessageStyle=function(e){var t=this.$fontColorInput;e&&(this.validateFontSize(),e.fontFamily&&this.$fontFamilySelect.length&&this.$fontFamilySelect.val(e.fontFamily),e.fontSize&&this.$fontSizeSelect.length&&this.$fontSizeSelect.val(e.fontSize),e.color&&i.isHexColor(e.color)&&t.length&&t.val(e.color)),this.isDefaultValues()||this.showResetBtn()},t.prototype.closeTooltip=function(){this.$button.data("tooltip")&&this.$button.data("tooltip").hide()},t.prototype.showResetBtn=function(){this.$resetButton&&this.$resetButton.show()},t.prototype.hideResetBtn=function(){this.$resetButton&&this.$resetButton.hide(),this.disableSubmitBtn()},t.prototype.isAllowedEnableSubmitBtn=function(){return this.initFontColor!==(this.state.color||this.$fontColorInput.val())||this.initFontFamily!==(this.state.fontFamily||this.$fontFamilySelect.val())||this.initFontSize!==(this.state.fontSize||this.$fontSizeSelect.val())},t.prototype.enableSubmitBtn=function(){this.isAllowedEnableSubmitBtn()&&this.$submitButton.removeClass("mls_btn_disabled")},t.prototype.disableSubmitBtn=function(){this.$submitButton.addClass("mls_btn_disabled")},t}();t.AbstractMessageStyle=o}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["100%","120%","130%","135%","140%"];t.default=i},function(e,t,n){"use strict";(function(e){function i(){return h.getInstance().isConnected}Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(7),o=n(4),s=n(5),l=n(178),c=n(182),u=n(62);!function(e){e.INIT="init",e.CHANGE_STATUS="changeStatus",e.PAID_SHOW_STOP="paidShowStop"}(a||(a={}));var d,h=function(){function t(){this.isReady=!1,this.isWaiting=!1,this.changeVolumeEnable=!0,this.castContext=null,this.remotePlayer=null,this.remotePlayerTarget={},this.remotePlayerController=null,this.remoteVolume=null,this.isLocalChangeVolume=!1,this.isRemoteChangeVolume=!1,this.changeVolumeTimeout=null,this.statHeartBeatTimeout=2e4;var e=document.createElement("script");e.src=t.frameworkSource,document.head.appendChild(e);var n=s.default.getState().skinId;t.appId="def"===n?"8EC7DE61":"0D86F2B2"}return t.getInstance=function(){return d||(d=new t),d},t.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.updateCastInfo=function(e){s.default.setState({chromeCastDevice:e});var t=document.getElementById("cast-info");t&&(t.style.display=e?"block":"",t.querySelector("span").innerText=e||"")},t.getStreamUrl=function(e,t){var n=null;if(chat&&chat.player)switch(e){case"dash":n={url:c.getStreamUrlOld({type:e,streamName:t}),mimeType:"application/dash+xml"};break;default:n={url:c.getStreamUrlOld({type:e,streamName:t,streamUrl:""+window.location.protocol+chat.videoServerUrl}),mimeType:"application/x-mpegurl"}}return n},t.getErrorMessage=function(e){var t="";if(!e)return"unknown";if(!e.code)return e;switch(e.code){case chrome.cast.ErrorCode.API_NOT_INITIALIZED:t="The API is not initialized.";break;case chrome.cast.ErrorCode.CANCEL:t="The operation was canceled by the user";break;case chrome.cast.ErrorCode.CHANNEL_ERROR:t="A channel to the receiver is not available.";break;case chrome.cast.ErrorCode.EXTENSION_MISSING:t="The Cast extension is not available.";break;case chrome.cast.ErrorCode.INVALID_PARAMETER:t="The parameters to the operation were not valid.";break;case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:t="No receiver was compatible with the session request.";break;case chrome.cast.ErrorCode.SESSION_ERROR:t="A session could not be created, or a session was invalid.";break;case chrome.cast.ErrorCode.TIMEOUT:t="The operation timed out."}return t+(e.description?" :"+e.description:"")},t.prototype.init=function(){if(!(this.isReady&&window.chrome&&window.chrome.cast&&window.cast&&window.cast.framework))return void(this.isWaiting=!0);t.debug("init",t.appId),this.changeVolumeEnable=!(!chat||!chat.getSoundVolume),this.castContext=cast.framework.CastContext.getInstance(),this.castContext.setOptions({receiverApplicationId:t.appId||chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer);var e=document.querySelectorAll(".cast-control");if(e&&e.length)for(var n=0;n<e.length;n++)e[n].style.display="";this.attachHandlers()},t.prototype.ready=function(){t.debug("ready"),this.isReady=!0,this.isWaiting&&(this.isWaiting=!1,this.init())},t.prototype.attachHandlers=function(){var n=this;this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,function(){t.debug("IS_CONNECTED_CHANGED"),n.onChangeConnect()}),this.castContext.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,function(e){t.debug("CAST_STATE_CHANGED",e.castState),n.onChangeState(e.castState)}),this.remotePlayerTarget.load=this.streamLoad.bind(this),this.changeVolumeEnable&&(this.remotePlayerTarget.setVolume=function(e){e>1?e=1:e<0&&(e=0),n.remotePlayer.volumeLevel=e,n.remotePlayerController.setVolumeLevel()},this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,function(){var e=Math.round(100*chat.getSoundVolume())/100;(n.remotePlayer.isMuted&&e||!n.remotePlayer.isMuted&&!e)&&chat.toggleSound()}),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,function(){var e;n.checkVolumeChange(n.remotePlayer.volumeLevel,!0)&&(e=Math.round(100*chat.getSoundVolume())/100,n.remoteVolume=Math.round(100*n.remotePlayer.volumeLevel)/100,e!==n.remoteVolume&&chat.setSoundVolume(n.remoteVolume))}),e(document).on("player:volume",function(e,t){var i;n.checkVolumeChange(t,!1)&&(i=Math.round(100*t)/100)!==n.remoteVolume&&(0===i&&(n.remoteVolume=i),n.remotePlayerTarget.setVolume(i))}))},t.prototype.attachSessionHandlers=function(){var n=this,i=cast.framework.CastContext.getInstance().getCurrentSession(),r=null;e("#bChat").on("onPlayStream.cast",function(){clearTimeout(r),r=window.setTimeout(function(){n.remotePlayerTarget.load(),n.hideLocalStream()},500)}).on("onPaidShowStop.cast",function(){n.sendMessage(a.PAID_SHOW_STOP)}).on("onPerformerStatusChange.cast",function(){var e,t,i,r={fullprivate:"I'm in the Full Private Chat right now!",private:"I'm in Private Chat right now!",group:"I'm in Group Chat right now!"},o=document.querySelector(".layover");chat&&chat.performerStatus&&(t=chat.performerStatus,i=r[t]?__(r[t]):"",o&&!i&&(e="url("+l.getLayoverSrc(o.getAttribute("base-path-new2")?t:"away")+")"),n.sendMessage(a.CHANGE_STATUS,{status:t,sex:chat.performerData.sexType,text:i,background:e}))}),i.addMessageListener(t.namespace,this.onMessage.bind(this))},t.prototype.detachSessionHandlers=function(){var n=cast.framework.CastContext.getInstance().getCurrentSession();n&&n.removeMessageListener(t.namespace,this.onMessage.bind(this)),e("#bChat").off(".cast"),e(document).off(".cast")},Object.defineProperty(t.prototype,"isConnected",{get:function(){return window.hasOwnProperty("cast")&&cast.framework&&this.remotePlayer&&this.remotePlayer.isConnected},enumerable:!0,configurable:!0}),t.prototype.hideLocalStream=function(){cast.framework.CastContext.getInstance().getCurrentSession()&&chat&&"function"==typeof chat.closeStream&&chat.closeStream()},t.prototype.showLocalStream=function(){chat&&("public"===chat.performerStatus||"away"!==chat.performerStatus&&"offline"!==chat.performerStatus&&chat.acceptedPaidShow)&&chat.playStream()},t.prototype.onChangeState=function(e){var n=document.getElementById("playercontainer");n&&(e===cast.framework.CastState.NO_DEVICES_AVAILABLE?n.classList.remove(t.playerClass):n.classList.add(t.playerClass))},t.prototype.onChangeConnect=function(){t.debug("onChangeConnect","isConnected="+this.isConnected),s.default.setState({chromeCastActive:this.isConnected}),this.isConnected?(this.attachSessionHandlers(),this.onRemoteConnected()):(this.stopStatHeartBeat(),this.detachSessionHandlers(),t.updateCastInfo(),this.showLocalStream())},t.prototype.onRemoteConnected=function(){this.setupRemotePlayer()},t.prototype.setupRemotePlayer=function(){t.debug("setupRemotePlayer"),this.changeVolumeEnable&&(this.remotePlayer.isMuted&&Math.round(100*chat.getSoundVolume())/100&&chat.toggleSound(),this.remoteVolume=chat.getSoundVolume(),this.remotePlayerTarget.setVolume(this.remoteVolume)),this.remotePlayerTarget.load(),this.sendMessage(a.INIT,{isRTL:r.isRTLCulture})},t.prototype.checkVolumeChange=function(e,t){var n=t?Math.round(100*chat.getSoundVolume())/100:e;return this.setVolumeTimeout(),t&&this.isLocalChangeVolume||!t&&this.isRemoteChangeVolume?(t&&e<=n&&this.remotePlayerTarget.setVolume(n),!1):(this.changeVolumeDirection(t),!0)},t.prototype.streamLoad=function(){var n=this,i=window.streamType||"dash";if(!chat||!chat.player||!u.getStreamName())return void e("#bChat").one("onUserData.cast",function(){n.streamLoad()});var a=u.getStreamName(),r=cast.framework.CastContext.getInstance().getCurrentSession(),o=t.getStreamUrl(i,a);if(t.debug("Loading","["+i+"]",o?o.url:o,o?o.mimeType:o),!o.url)return void t.debug("stream src error");var s=new chrome.cast.media.MediaInfo(o.url,o.mimeType);s.metadata=new chrome.cast.media.GenericMediaMetadata,s.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,chat.performerData&&(s.metadata.title=chat.performerData.displayName,s.metadata.status=chat.performerStatus,s.metadata.images=[{url:chat.buildAvatarUrl(chat.performerData).replace("avatars","avatar100x100")}]);var l=new chrome.cast.media.LoadRequest(s);this.stopStatHeartBeat(),r.loadMedia(l).then(function(){n.sendStat(a),n.onLoadSuccess(r)},function(e){n.onLoadError(r,e)})},t.prototype.onLoadSuccess=function(e){t.debug("load media success on "+e.getCastDevice().friendlyName),t.updateCastInfo(e.getCastDevice().friendlyName),this.hideLocalStream()},t.prototype.onLoadError=function(e,n){t.debug("Remote media load error: "+t.getErrorMessage(n))},t.prototype.onMessage=function(e,n){if(t.namespace!==e)return void t.debug(t.namespace,"!==",e);t.debug("[onMessage]",n)},t.prototype.sendMessage=function(e,n){void 0===n&&(n={});var i=cast.framework.CastContext.getInstance().getCurrentSession();i&&i.sendMessage(t.namespace,{msg:e,data:n})},t.prototype.changeVolumeDirection=function(e){if(void 0===e)return this.isLocalChangeVolume=!1,void(this.isRemoteChangeVolume=!1);this.isLocalChangeVolume=!e,this.isRemoteChangeVolume=e},t.prototype.setVolumeTimeout=function(){var e=this;clearTimeout(this.changeVolumeTimeout),this.changeVolumeTimeout=window.setTimeout(function(){e.changeVolumeDirection()},300)},t.prototype.sendStat=function(t){this.stopStatHeartBeat(),this.statStreamName=t,e.castStatUrls&&this.sendStatRequest(e.castStatUrls.start)},t.prototype.statHeartBeat=function(){var t=this;this.statHeartBeatTimer=window.setTimeout(function(){t.sendStatRequest(e.castStatUrls.update)},this.statHeartBeatTimeout)},t.prototype.sendStatRequest=function(t){var n=this;e.ajax({url:t,data:o.getCSRFData({stream_name:this.statStreamName}),type:"post",success:function(e){e.status&&"success"===e.status&&n.statHeartBeat()}})},t.prototype.stopStatHeartBeat=function(){clearTimeout(this.statHeartBeatTimer)},t.frameworkSource="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",t.namespace="urn:x-cast:com.bongacams.cast",t.playerClass="castAvailable",t}();t.isChromeCastStreamActive=i,window.ChromeCast=h,"https:"===window.location.protocol&&(e(function(){document.body&&document.body.hasAttribute("data-login_time")&&h.getInstance().ready()}),window.__onGCastApiAvailable=function(e){h.debug("available=",e),e&&(h.getInstance().init(),s.default.setState({chromeCastAvailable:!0}))})}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(631);t.DialogPremiumOnly=i.DialogPremiumOnly,t.VIDEO_PLAYER_DIALOG_PREMIUM_ONLY=i.VIDEO_PLAYER_DIALOG_PREMIUM_ONLY;var a=n(632);t.DialogFlashBigFirst=a.DialogFlashBigFirst,t.VIDEO_PLAYER_DIALOG_FLASH_BIG_FIRST=a.VIDEO_PLAYER_DIALOG_FLASH_BIG_FIRST;var r=n(633);t.DialogFlashBigSecond=r.DialogFlashBigSecond,t.VIDEO_PLAYER_DIALOG_FLASH_BIG_SECOND=r.VIDEO_PLAYER_DIALOG_FLASH_BIG_SECOND;var o=n(634);t.DialogFlashToggleFirst=o.DialogFlashToggleFirst,t.VIDEO_PLAYER_DIALOG_FLASH_TOGGLE_FIRST=o.VIDEO_PLAYER_DIALOG_FLASH_TOGGLE_FIRST;var s=n(635);t.DialogFlashToggleSecond=s.DialogFlashToggleSecond,t.VIDEO_PLAYER_DIALOG_FLASH_TOGGLE_SECOND=s.VIDEO_PLAYER_DIALOG_FLASH_TOGGLE_SECOND},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&(n[i[a]]=e[i[a]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.PlayerIcon=function(e){var t=e.icon,n=e.type,o=(e.children,a(e,["icon","type","children"]));return r.h("svg",i({xmlns:"http://www.w3.org/2000/svg",class:["player-icon",n]},o),r.h("use",{xlinkHref:"#"+t,class:"state-default"}),r.h("use",{xlinkHref:"#"+t+"-hover",class:"state-hover"}))}},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=function(e){function t(t){var n=e.call(this,t)||this;return n.offsetX=0,n.offsetY=0,n.updateOffset=function(){var e=n.props.restrictionElement;n.restrictionBounds=null;var t=e;"string"==typeof t&&(t=document.querySelector(e)),t&&(n.restrictionBounds=t.getBoundingClientRect())},n.state={restrictionBounds:null},n.updateOffset(),n}return i(t,e),t.prototype.componentWillReceiveProps=function(e,t){this.updateOffset()},t.prototype.componentDidUpdate=function(e,t,n){this.updateOffset()},t.prototype.render=function(e,t){var n=e.type,i=e.className,r=(e.restrictionElement,e.restrictionPadding),o=e.children;if(this.restrictionBounds&&this.base){var s=this.restrictionBounds,l=this.base.getBoundingClientRect();if(l.left>0&&l.right>0&&l.top>0&&l.bottom>0){var c=l.left-this.offsetX,u=l.right-this.offsetX;l.top,this.offsetY,l.bottom,this.offsetY;c<s.left+r?(console.log(c,s.left+r),this.offsetX=s.left+r-c):u>s.right-r&&(this.offsetX=s.right-r-u),this.offsetX=Math.round(this.offsetX),this.offsetY=Math.round(this.offsetY)}}return a.h("div",{class:["tooltip-gray",n,i],style:(this.offsetX||this.offsetY)&&{transform:"translate("+this.offsetX+"px, "+this.offsetY+"px)"}||{}},o)},t.defaultProps={type:"",className:"",restrictionElement:null,restrictionPadding:0},t}(a.Component);t.PlayerToolTip=r},,,,,,,,,,,,,function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(38),o=n(551),s=n(552),l=n(553),c=n(554),u=n(555),d=n(556),h=n(557),p=n(558),f=n(559),m=n(560),g=n(561),v=n(562),b=n(563),y=n(566),_=n(567),w=n(568),S=n(569),C=n(570),k=(a={},a[r.GAMES.ROLL_THE_DICE]={component:o.default,promoComponent:s.default,hitComponent:l.default,confirmComponent:c.default},a[r.GAMES.SPIN_THE_WHEEL]={component:u.default,promoComponent:d.default,hitComponent:h.default,confirmComponent:p.default},a[r.GAMES.TOKEN_KENO]={component:f.default,promoComponent:m.default,hitComponent:g.default,confirmComponent:v.default},a[r.GAMES.SLOT_MACHINE]={component:w.default,promoComponent:_.default,hitComponent:C.default,confirmComponent:S.default},a[r.GAMES.AUTO_DJ]={component:b.default,hitComponent:y.AutoDJHitMessage},a);t.gamesList=r.baseGamesList.map(function(e){return i({},e,k[e.id])}),t.gamesById=t.gamesList.reduce(function(e,t){var n;return i({},e,(n={},n[t.id]=t,n))},{})},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),o=n(614),s=n(616),l=n(9),c=function(t){function n(){var n=t.call(this)||this;return DI.inject(n,"$"),DI.inject(n,"document"),DI.inject(n,"modules","module-manager"),n.hFilterDropDown=function(e){var t=n.$("#filter_popover");return t.hasClass("opened")?t.removeClass("opened"):(t.addClass("opened").focus(),n.$(n.document).off("click.filter").on("click.filter",function(e){t.is(e.target)||0!==t.has(e.target).length||(n.$("#filter_popover").removeClass("opened"),n.$(n.document).off("click.filter"))})),e.stopPropagation(),!1},n.paginationButtonHandler=function(e){},n.hModelClick=function(t){var i=n.modules.use("chat");return e("#stream-layer").removeClass("player_animation").removeClass("zmax"),i.stickyPlayer.disable(),e("#mls_chatconsole").show(),e(document).trigger("chat:open"),window.scroll(0,0),!1},n.profileClickHandler=function(t){return!!e(this).attr("href")&&(e.openProfileWindow(e(this).attr("href")),t.preventDefault(),t.stopPropagation(),!1)},n}return i(n,t),n.saveDisplayedState=function(t){if(window.globalListing&&window.globalListing.isInfiniteScrollEnabled()){var n={filterData:window.globalListing.filter.getFilterData(),stateData:a({},window.globalListing.stateData),chathost:t,livetab:e.liveTab,scrollTop:e(window).scrollTop()};sessionStorage.setItem("homeListingState",JSON.stringify(n)),window.globalListing.lastChathost=null}},n.resetDisplayedState=function(){sessionStorage.removeItem("homeListingState")},n.getSavedDisplayedState=function(){return l.json_parse(sessionStorage.getItem("homeListingState"))},Object.defineProperty(n,"paginationSelector",{get:function(){var e=".mls_models_container";return[e+" a.mls_pager_page",e+" a.first",e+" a.prev",e+" a.last",e+" a.next"].join(",")},enumerable:!0,configurable:!0}),n.prototype.start=function(){t.prototype.start.call(this);var i=s.default();i&&e("#mls_container").length?(new o.Listing).init(e("#mls_container"),i):window.globalListing&&window.globalListing.detachHandlers(),this.$("#filter_control").off("click"),this.$("#filter_control").on("click",this.hFilterDropDown),this.$(n.paginationSelector).on("click",this.paginationButtonHandler),this.$("#visited_room_list").on("click","a.chat",this.hModelClick),this.$("#mls_container").on("click","a.profile",this.profileClickHandler).on("click","a.chat",this.hModelClick)},n.prototype.stop=function(){t.prototype.stop.call(this),this.$("#filter_control").off("click",this.hFilterDropDown),this.$(n.paginationSelector).off("click",this.paginationButtonHandler),this.$("#visited_room_list").off("click","a.chat",this.hModelClick),this.$("#mls_container").off("click","a.chat",this.hModelClick).off("click","a.profile",this.profileClickHandler)},n.prototype.rebind=function(e){t.prototype.rebind.call(this,e),this.start()},n}(r.default);t.default=c}).call(t,n(0))},,function(e,t,n){"use strict";(function(e){function t(){var t=e(".thumb_slider"),n=t.find("div.slider");if(!n.attr("data-jcarousel")){var i={};e(".wrapper").hasClass("wrapper_rtl")&&(i={rtl:!0}),n.jcarousel(i),t.find("div.nav.prev").click(function(){return e(".wrapper").hasClass("wrapper_rtl")?n.jcarousel("scroll","+=1"):n.jcarousel("scroll","-=1"),!1}),t.find("div.nav.next").click(function(){return e(".wrapper").hasClass("wrapper_rtl")?n.jcarousel("scroll","-=1"):n.jcarousel("scroll","+=1"),!1})}}e(function(){if(e(".cs_tab_item").click(function(){if(!e(this).hasClass("active")){history.pushState({},document.title,e(this).attr("href"));var n=e(".tab_content"),i=e(this).attr("data-for");if("pictures"!==i&&n.find(".content_item").removeClass("active"),n.find("."+i).addClass("active"),"pictures"===i){e(this).hasClass("is_init")||(t(),e(this).addClass("is_init"));var a=e(window).outerHeight(),r=e(".content_item.active").outerHeight()+(e(".video_player_tab").outerHeight()+e("#tab_pictures").outerHeight());e(window).scrollTop(e(".video_player_block").offset().top+(r>a?r-a+120:0))}e(".cs_tab_item").removeClass("active"),e(this).addClass("active")}return!1}),e(".thumb_slider").length){var n=e('a[data-for="pictures"]');n&&n.hasClass("active")&&t(),e(".thumb_slider .item").click(function(){return e.fancybox(e(".hide-scroll-bar"),{padding:0,index:e(e(this).attr("href")).index(),scrolling:"no",wrapCSS:"fancybox-bonga-wrap",nextEffect:"fide",prevEffect:"fide",title:null,helpers:{overlay:{css:{background:"rgba(119, 119, 119, 0.7)"}}}}),!1})}})}).call(t,n(0))},function(e,t,n){n(3)(n(424))},function(e,t){e.exports='!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(ge){ge.fn.jScrollPane=function(i){function o(v,e){var m,b,w,y,k,C,T,B,D,x,H,P,S,A,W,Y,z,X,M,t,R,I,F,L,q,O,E,V,G,N,K,Q,U,$,J=this,r=!0,a=!0,l=!1,c=!1,i=v.clone(!1,!1).empty(),Z=ge.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";function _(e){var t,i,o,n,s,r,a,l,c,p,d,u,f,h,j=!1,g=!1;if(m=e,void 0===b)s=v.scrollTop(),r=v.scrollLeft(),v.css({overflow:"hidden",padding:0}),w=v.innerWidth()+U,y=v.innerHeight(),v.width(w),b=ge(\'<div class="jspPane" />\').css("padding",Q).append(v.children()),k=ge(\'<div class="jspContainer" />\').css({width:w+"px",height:y+"px"}).append(b).appendTo(v);else{if(v.css("width",""),j=m.stickToBottom&&(20<(l=T-y)&&l-he()<10),g=m.stickToRight&&(20<(a=C-w)&&a-fe()<10),(n=v.innerWidth()+U!=w||v.outerHeight()!=y)&&(w=v.innerWidth()+U,y=v.innerHeight(),k.css({width:w+"px",height:y+"px"})),!n&&$==C&&b.outerHeight()==T)return void v.width(w);$=C,b.css("width",""),v.width(w),k.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}b.css("overflow","auto"),C=e.contentWidth?e.contentWidth:b[0].scrollWidth,T=b[0].scrollHeight,b.css("overflow",""),x=1<(D=T/y),(H=1<(B=C/w))||x?(v.addClass("jspScrollable"),(t=m.maintainPosition&&(A||z))&&(i=fe(),o=he()),x&&(k.append(ge(\'<div class="jspVerticalBar" />\').append(ge(\'<div class="jspCap jspCapTop" />\'),ge(\'<div class="jspTrack" />\').append(ge(\'<div class="jspDrag" />\').append(ge(\'<div class="jspDragTop" />\'),ge(\'<div class="jspDragBottom" />\'))),ge(\'<div class="jspCap jspCapBottom" />\'))),X=k.find(">.jspVerticalBar"),M=X.find(">.jspTrack"),P=M.find(">.jspDrag"),m.showArrows&&(F=ge(\'<a class="jspArrow jspArrowUp" />\').bind("mousedown.jsp",oe(0,-1)).bind("click.jsp",je),L=ge(\'<a class="jspArrow jspArrowDown" />\').bind("mousedown.jsp",oe(0,1)).bind("click.jsp",je),m.arrowScrollOnHover&&(F.bind("mouseover.jsp",oe(0,-1,F)),L.bind("mouseover.jsp",oe(0,1,L))),ie(M,m.verticalArrowPositions,F,L)),R=y,k.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){R-=ge(this).outerHeight()}),P.hover(function(){P.addClass("jspHover")},function(){P.removeClass("jspHover")}).bind("mousedown.jsp",function(e){ge("html").bind("dragstart.jsp selectstart.jsp",je),P.addClass("jspActive");var t=e.pageY-P.position().top;return ge("html").bind("mousemove.jsp",function(e){re(e.pageY-t,!1)}).bind("mouseup.jsp mouseleave.jsp",se),!1}),ee()),H&&(k.append(ge(\'<div class="jspHorizontalBar" />\').append(ge(\'<div class="jspCap jspCapLeft" />\'),ge(\'<div class="jspTrack" />\').append(ge(\'<div class="jspDrag" />\').append(ge(\'<div class="jspDragLeft" />\'),ge(\'<div class="jspDragRight" />\'))),ge(\'<div class="jspCap jspCapRight" />\'))),q=k.find(">.jspHorizontalBar"),O=q.find(">.jspTrack"),W=O.find(">.jspDrag"),m.showArrows&&(G=ge(\'<a class="jspArrow jspArrowLeft" />\').bind("mousedown.jsp",oe(-1,0)).bind("click.jsp",je),N=ge(\'<a class="jspArrow jspArrowRight" />\').bind("mousedown.jsp",oe(1,0)).bind("click.jsp",je),m.arrowScrollOnHover&&(G.bind("mouseover.jsp",oe(-1,0,G)),N.bind("mouseover.jsp",oe(1,0,N))),ie(O,m.horizontalArrowPositions,G,N)),W.hover(function(){W.addClass("jspHover")},function(){W.removeClass("jspHover")}).bind("mousedown.jsp",function(e){ge("html").bind("dragstart.jsp selectstart.jsp",je),W.addClass("jspActive");var t=e.pageX-W.position().left;return ge("html").bind("mousemove.jsp",function(e){le(e.pageX-t,!1)}).bind("mouseup.jsp mouseleave.jsp",se),!1}),E=k.innerWidth(),te()),function(){if(H&&x){var e=O.outerHeight(),t=M.outerWidth();R-=e,ge(q).find(">.jspCap:visible,>.jspArrow").each(function(){E+=ge(this).outerWidth()}),E-=t,y-=t,w-=e,O.parent().append(ge(\'<div class="jspCorner" />\').css("width",e+"px")),ee(),te()}H&&b.width(k.outerWidth()-U+"px");T=b.outerHeight(),D=T/y,H&&((V=Math.ceil(1/B*E))>m.horizontalDragMaxWidth?V=m.horizontalDragMaxWidth:V<m.horizontalDragMinWidth&&(V=m.horizontalDragMinWidth),W.width(V+"px"),Y=E-V,ce(z));x&&((I=Math.ceil(1/D*R))>m.verticalDragMaxHeight?I=m.verticalDragMaxHeight:I<m.verticalDragMinHeight&&(I=m.verticalDragMinHeight),P.height(I+"px"),S=R-I,ae(A))}(),t&&(de(g?C-w:i,!1),pe(j?T-y:o,!1)),b.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){ue(e.target,!1)}),k.unbind(Z).bind(Z,function(e,t,i,o){z||(z=0),A||(A=0);var n=z,s=A,r=e.deltaFactor||m.mouseWheelSpeed;return J.scrollBy(i*r,-o*r,!1),n==z&&s==A}),h=!1,k.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(e){var t=e.originalEvent.touches[0];c=fe(),p=he(),d=t.pageX,u=t.pageY,h=!(f=!1)}).bind("touchmove.jsp",function(e){if(h){var t=e.originalEvent.touches[0],i=z,o=A;return J.scrollTo(c+d-t.pageX,p+u-t.pageY),f=f||5<Math.abs(d-t.pageX)||5<Math.abs(u-t.pageY),i==z&&o==A}}).bind("touchend.jsp",function(e){h=!1}).bind("click.jsp-touchclick",function(e){if(f)return f=!1}),m.enableKeyboardNavigation&&function(){var o,n,s=[];H&&s.push(q[0]),x&&s.push(X[0]),b.bind("focus.jsp",function(){v.focus()}),v.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(e){if(e.target===this||s.length&&ge(e.target).closest(s).length){var t=z,i=A;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:o=e.keyCode,r();break;case 35:pe(T-y),o=null;break;case 36:pe(0),o=null}return!(n=e.keyCode==o&&t!=z||i!=A)}}).bind("keypress.jsp",function(e){if(e.keyCode==o&&r(),e.target===this||s.length&&ge(e.target).closest(s).length)return!n}),m.hideFocus?(v.css("outline","none"),"hideFocus"in k[0]&&v.attr("hideFocus",!0)):(v.css("outline",""),"hideFocus"in k[0]&&v.attr("hideFocus",!1));function r(){var e=z,t=A;switch(o){case 40:J.scrollByY(m.keyboardSpeed,!1);break;case 38:J.scrollByY(-m.keyboardSpeed,!1);break;case 34:case 32:J.scrollByY(y*m.scrollPagePercent,!1);break;case 33:J.scrollByY(-y*m.scrollPagePercent,!1);break;case 39:J.scrollByX(m.keyboardSpeed,!1);break;case 37:J.scrollByX(-m.keyboardSpeed,!1)}return n=e!=z||t!=A}}(),m.clickOnTrack&&function(){ne(),x&&M.bind("mousedown.jsp",function(n){if(void 0===n.originalTarget||n.originalTarget==n.currentTarget){var s,r=ge(this),e=r.offset(),a=n.pageY-e.top-A,l=!0,c=function(){var e=r.offset(),t=n.pageY-e.top-I/2,i=y*m.scrollPagePercent,o=S*i/(T-y);if(a<0)t<A-o?J.scrollByY(-i):re(t);else{if(!(0<a))return void p();A+o<t?J.scrollByY(i):re(t)}s=setTimeout(c,l?m.initialDelay:m.trackClickRepeatFreq),l=!1},p=function(){s&&clearTimeout(s),s=null,ge(document).unbind("mouseup.jsp",p)};return c(),ge(document).bind("mouseup.jsp",p),!1}});H&&O.bind("mousedown.jsp",function(n){if(void 0===n.originalTarget||n.originalTarget==n.currentTarget){var s,r=ge(this),e=r.offset(),a=n.pageX-e.left-z,l=!0,c=function(){var e=r.offset(),t=n.pageX-e.left-V/2,i=w*m.scrollPagePercent,o=Y*i/(C-w);if(a<0)t<z-o?J.scrollByX(-i):le(t);else{if(!(0<a))return void p();z+o<t?J.scrollByX(i):le(t)}s=setTimeout(c,l?m.initialDelay:m.trackClickRepeatFreq),l=!1},p=function(){s&&clearTimeout(s),s=null,ge(document).unbind("mouseup.jsp",p)};return c(),ge(document).bind("mouseup.jsp",p),!1}})}(),function(){if(location.hash&&1<location.hash.length){var e,t,i=escape(location.hash.substr(1));try{e=ge("#"+i+\', a[name="\'+i+\'"]\')}catch(e){return}e.length&&b.find(i)&&(0===k.scrollTop()?t=setInterval(function(){0<k.scrollTop()&&(ue(e,!0),ge(document).scrollTop(k.position().top),clearInterval(t))},50):(ue(e,!0),ge(document).scrollTop(k.position().top)))}}(),m.hijackInternalLinks&&function(){if(ge(document.body).data("jspHijack"))return;ge(document.body).data("jspHijack",!0),ge(document.body).delegate(\'a[href*="#"]\',"click",function(e){var t,i,o,n,s,r=this.href.substr(0,this.href.indexOf("#")),a=location.href;if(-1!==location.href.indexOf("#")&&(a=location.href.substr(0,location.href.indexOf("#"))),r===a){t=escape(this.href.substr(this.href.indexOf("#")+1));try{i=ge("#"+t+\', a[name="\'+t+\'"]\')}catch(e){return}i.length&&(o=i.closest(".jspScrollable"),o.data("jsp").scrollToElement(i,!0),o[0].scrollIntoView&&(n=ge(window).scrollTop(),((s=i.offset().top)<n||s>n+ge(window).height())&&o[0].scrollIntoView()),e.preventDefault())}})}()):(v.removeClass("jspScrollable"),b.css({top:0,left:0,width:k.width()-U}),k.unbind(Z),b.find(":input,a").unbind("focus.jsp"),v.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),b.unbind(".jsp"),ne()),m.autoReinitialise&&!K?K=setInterval(function(){_(m)},m.autoReinitialiseDelay):!m.autoReinitialise&&K&&clearInterval(K),s&&v.scrollTop(0)&&pe(s,!1),r&&v.scrollLeft(0)&&de(r,!1),v.trigger("jsp-initialised",[H||x])}function ee(){M.height(R+"px"),A=0,t=m.verticalGutter+M.outerWidth(),b.width(w-t-U);try{0===X.position().left&&b.css("margin-left",t+"px")}catch(e){}}function te(){k.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){E-=ge(this).outerWidth()}),O.width(E+"px"),z=0}function ie(e,t,i,o){var n,s="before",r="after";t==s?r=t:t==r&&(s=t,n=i,i=o,o=n),e[s](i)[r](o)}function oe(e,t,i){return function(){return function(e,t,i,o){i=ge(i).addClass("jspActive");var n,s,r=!0,a=function(){0!==e&&J.scrollByX(e*m.arrowButtonSpeed),0!==t&&J.scrollByY(t*m.arrowButtonSpeed),s=setTimeout(a,r?m.initialDelay:m.arrowRepeatFreq),r=!1};a(),n=o?"mouseout.jsp":"mouseup.jsp",(o=o||ge("html")).bind(n,function(){i.removeClass("jspActive"),s&&clearTimeout(s),s=null,o.unbind(n)})}(e,t,this,i),this.blur(),!1}}function ne(){O&&O.unbind("mousedown.jsp"),M&&M.unbind("mousedown.jsp")}function se(){ge("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),P&&P.removeClass("jspActive"),W&&W.removeClass("jspActive")}function re(e,t){if(x){e<0?e=0:S<e&&(e=S);var i=new ge.Event("jsp-will-scroll-y");if(v.trigger(i,[e]),!i.isDefaultPrevented()){var o=e||0,n=0===o,s=o==S,r=-(e/S)*(T-y);void 0===t&&(t=m.animateScroll),t?J.animate(P,"top",e,ae,function(){v.trigger("jsp-user-scroll-y",[-r,n,s])}):(P.css("top",e),ae(e),v.trigger("jsp-user-scroll-y",[-r,n,s]))}}}function ae(e){void 0===e&&(e=P.position().top),k.scrollTop(0);var t,i,o=0===(A=e||0),n=A==S,s=-(e/S)*(T-y);r==o&&l==n||(r=o,l=n,v.trigger("jsp-arrow-change",[r,l,a,c])),t=o,i=n,m.showArrows&&(F[t?"addClass":"removeClass"]("jspDisabled"),L[i?"addClass":"removeClass"]("jspDisabled")),b.css("top",s),v.trigger("jsp-scroll-y",[-s,o,n]).trigger("scroll")}function le(e,t){if(H){e<0?e=0:Y<e&&(e=Y);var i=new ge.Event("jsp-will-scroll-x");if(v.trigger(i,[e]),!i.isDefaultPrevented()){var o=e||0,n=0===o,s=o==Y,r=-(e/Y)*(C-w);void 0===t&&(t=m.animateScroll),t?J.animate(W,"left",e,ce,function(){v.trigger("jsp-user-scroll-x",[-r,n,s])}):(W.css("left",e),ce(e),v.trigger("jsp-user-scroll-x",[-r,n,s]))}}}function ce(e){void 0===e&&(e=W.position().left),k.scrollTop(0);var t,i,o=0===(z=e||0),n=z==Y,s=-(e/Y)*(C-w);a==o&&c==n||(a=o,c=n,v.trigger("jsp-arrow-change",[r,l,a,c])),t=o,i=n,m.showArrows&&(G[t?"addClass":"removeClass"]("jspDisabled"),N[i?"addClass":"removeClass"]("jspDisabled")),b.css("left",s),v.trigger("jsp-scroll-x",[-s,o,n]).trigger("scroll")}function pe(e,t){re(e/(T-y)*S,t)}function de(e,t){le(e/(C-w)*Y,t)}function ue(e,t,i){var o,n,s,r,a,l,c,p,d,u=0,f=0;try{o=ge(e)}catch(e){return}for(n=o.outerHeight(),s=o.outerWidth(),k.scrollTop(0),k.scrollLeft(0);!o.is(".jspPane");)if(u+=o.position().top,f+=o.position().left,o=o.offsetParent(),/^body|html$/i.test(o[0].nodeName))return;l=(r=he())+y,u<r||t?p=u-m.horizontalGutter:l<u+n&&(p=u-y+n+m.horizontalGutter),isNaN(p)||pe(p,i),c=(a=fe())+w,f<a||t?d=f-m.horizontalGutter:c<f+s&&(d=f-w+s+m.horizontalGutter),isNaN(d)||de(d,i)}function fe(){return-b.position().left}function he(){return-b.position().top}function je(){return!1}U="border-box"===v.css("box-sizing")?Q=0:(Q=v.css("paddingTop")+" "+v.css("paddingRight")+" "+v.css("paddingBottom")+" "+v.css("paddingLeft"),(parseInt(v.css("paddingLeft"),10)||0)+(parseInt(v.css("paddingRight"),10)||0)),ge.extend(J,{reinitialise:function(e){_(e=ge.extend({},m,e))},scrollToElement:function(e,t,i){ue(e,t,i)},scrollTo:function(e,t,i){de(e,i),pe(t,i)},scrollToX:function(e,t){de(e,t)},scrollToY:function(e,t){pe(e,t)},scrollToPercentX:function(e,t){de(e*(C-w),t)},scrollToPercentY:function(e,t){pe(e*(T-y),t)},scrollBy:function(e,t,i){J.scrollByX(e,i),J.scrollByY(t,i)},scrollByX:function(e,t){le((fe()+Math[e<0?"floor":"ceil"](e))/(C-w)*Y,t)},scrollByY:function(e,t){re((he()+Math[e<0?"floor":"ceil"](e))/(T-y)*S,t)},positionDragX:function(e,t){le(e,t)},positionDragY:function(e,t){re(e,t)},animate:function(e,t,i,o,n){var s={};s[t]=i,e.animate(s,{duration:m.animateDuration,easing:m.animateEase,queue:!1,step:o,complete:n})},getContentPositionX:function(){return fe()},getContentPositionY:function(){return he()},getContentWidth:function(){return C},getContentHeight:function(){return T},getPercentScrolledX:function(){return fe()/(C-w)},getPercentScrolledY:function(){return he()/(T-y)},getIsScrollableH:function(){return H},getIsScrollableV:function(){return x},getContentPane:function(){return b},scrollToBottom:function(e){re(S,e)},hijackInternalLinks:ge.noop,destroy:function(){var e,t;e=he(),t=fe(),v.removeClass("jspScrollable").unbind(".jsp"),b.unbind(".jsp"),v.replaceWith(i.append(b.children())),i.scrollTop(e),i.scrollLeft(t),K&&clearInterval(K)}}),_(e)}return i=ge.extend({},ge.fn.jScrollPane.defaults,i),ge.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){i[this]=i[this]||i.speed}),this.each(function(){var e=ge(this),t=e.data("jsp");t?t.reinitialise(i):(ge("script",e).filter(\'[type="text/javascript"],:not([type])\').remove(),t=new o(e,i),e.data("jsp",t))})},ge.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}});\n'},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var getLocalData_1=__webpack_require__(428);!function(){var Recognizer=function(){function Recognizer(){Recognizer.initCheck()&&Recognizer.attachHandlers()}return Recognizer.initCheck=function(){try{var e=getLocalData_1.getLocalData("4f626a656374"),t=self[e][getLocalData_1.getLocalData("646566696e6550726f7065727479")],n=getLocalData_1.getLocalData("6765744f776e50726f706572747944657363726970746f72"),i=getLocalData_1.getLocalData("5b6e617469766520636f64655d");return!(-1===t.toString().indexOf(i)||-1===self[e][n].toString().indexOf(i))}catch(e){return!1}},Recognizer.protect=function(){var g=getLocalData_1.getLocalData,prop=g("6c"),propo=self[g("24")][g("6a6c4e616d657370616365")],fullprop=g("242e6a6c4e616d6573706163652e6c"),myProp=g("4f626a656374"),funcS=self[myProp][g("646566696e6550726f7065727479")],gName=g("6765744f776e50726f706572747944657363726970746f72"),e=g("656e756d657261626c65"),c=g("636f6e666967757261626c65"),o={};if(!Recognizer.initCheck()||typeof self[myProp][gName](propo,prop)[g("736574")]!==g("756e646566696e6564"))return!1;var f1="function(){"+Array(1e3).fill("\n").join("")+g("76617220703d617267756d656e74735b315d2c643d66756e634728617267756d656e74735b305d2c2070293b696628703d3d3d27")+prop+g("27292072657475726e207b76616c75653a")+fullprop+","+g("7772697461626c65")+g("3a747275652c")+e+g("3a642e")+e+","+c+g("3a642e")+c+g("7d3b72657475726e20643b")+"}";return eval(""+g("76617220")+g("66756e6347")+g("203d2073656c665b6d7950726f705d5b674e616d655d3b")+myProp+"."+gName+" = "+f1),o[c]=!1,o[e]=!0,o[g("76616c7565")]=propo[prop],funcS(propo,prop,o),!0},Recognizer.check=function(e){if(void 0===e&&(e=1),Recognizer.eventCounter+=e,Recognizer.eventCounter>=2){Recognizer.detachHandlers();try{Recognizer.protect()&&Recognizer.execute()}catch(e){}}},Recognizer.attachHandlers=function(){document.addEventListener("mousemove",Recognizer.onMouseMove,!1),document.addEventListener("mousedown",Recognizer.onMouseDown,!1),document.addEventListener("touchstart",Recognizer.onTouchStart,!1),document.addEventListener("touchend",Recognizer.onTouchEnd,!1),document.addEventListener("keyup",Recognizer.onKeyUp,!1)},Recognizer.detachHandlers=function(){document.removeEventListener("mousemove",Recognizer.onMouseMove,!1),document.removeEventListener("mousedown",Recognizer.onMouseDown,!1),document.removeEventListener("touchstart",Recognizer.onTouchStart,!1),document.removeEventListener("touchend",Recognizer.onTouchEnd,!1),document.removeEventListener("keyup",Recognizer.onKeyUp,!1)},Recognizer.onMouseMove=function(){Recognizer.check(),document.removeEventListener("mousemove",Recognizer.onMouseMove,!1)},Recognizer.onMouseDown=function(){Recognizer.check(),document.removeEventListener("mousedown",Recognizer.onMouseDown,!1)},Recognizer.onTouchStart=function(){Recognizer.check(),document.removeEventListener("touchstart",Recognizer.onTouchStart,!1)},Recognizer.onTouchEnd=function(){Recognizer.check(),document.removeEventListener("touchend",Recognizer.onTouchEnd,!1)},Recognizer.onKeyUp=function(e){e&&e.key&&"tab"===e.key.toLowerCase()&&Recognizer.check(.4)},Recognizer.execute=function(){var e=getLocalData_1.getLocalData("6c"),t=Recognizer.step1(),n=Recognizer.step2(t.host,t.pathname);n[e]=Recognizer.step3(n[e])},Recognizer.step1=function(){var e=self[getLocalData_1.getLocalData("61746f62")]("MjQ2YTZjNGU2MTZkNjU3MzcwNjE2MzY1");return{host:getLocalData_1.getLocalData(e.substr(0,2)),pathname:getLocalData_1.getLocalData(e.substr(2))}},Recognizer.step2=function(e,t){return self[e][t]},Recognizer.step3=function(e){var t="!".charCodeAt(0);return e.substr(0,t)+Recognizer.step4(e[t++])+e.substring(t)},Recognizer.step4=function(e){return""+(parseInt(e,10)-1+10)%10},Recognizer.eventCounter=0,Recognizer}();document.addEventListener("DOMContentLoaded",function(){new Recognizer})}()},function(e,t,n){"use strict";function i(e){return e.replace(/([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(parseInt(arguments[1],16))})}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalData=i},,,function(e,t,n){n(3)(n(432))},function(e,t){e.exports='!function(a){$.formatNumber=function(b,c){var d={numberOfDecimals:0,decimalSeparator:".",thousandSeparator:"",symbol:""},e=a.extend(d,c),f=b,g=e.numberOfDecimals,h=e.decimalSeparator,j=e.thousandSeparator,k=e.symbol,l="",m=f.toString(),n=m.indexOf("e");if(n>-1&&(l=m.substring(n),f=parseFloat(m.substring(0,n))),null!=g){var o=Math.pow(10,g);f=Math.round(f*o)/o}var p=0>f?"-":"",q=(f>0?Math.floor(f):Math.abs(Math.ceil(f))).toString(),r=f.toString().substring(q.length+p.length);if(h=null!=h?h:".",r=null!=g&&g>0||r.length>1?h+r.substring(1):"",null!=g&&g>0)for(i=r.length-1,z=g;i<z;++i)r+="0";if(j=j!=h||0==r.length?j:null,null!=j&&""!=j)for(i=q.length-3;i>0;i-=3)q=q.substring(0,i)+j+q.substring(i);return""==e.symbol?p+q+r+l:k+" "+p+q+r+l}}(jQuery);'},function(e,t,n){n(3)(n(434))},function(e,t){e.exports='/*!\tSWFObject v2.2 <http://code.google.com/p/swfobject/> \n\tis released under the MIT License <http://www.opensource.org/licenses/mit-license.php> \n*/\n\nvar swfobject = function() {\n\t\n\tvar UNDEF = "undefined",\n\t\tOBJECT = "object",\n\t\tSHOCKWAVE_FLASH = "Shockwave Flash",\n\t\tSHOCKWAVE_FLASH_AX = "ShockwaveFlash.ShockwaveFlash",\n\t\tFLASH_MIME_TYPE = "application/x-shockwave-flash",\n\t\tEXPRESS_INSTALL_ID = "SWFObjectExprInst",\n\t\tON_READY_STATE_CHANGE = "onreadystatechange",\n\t\t\n\t\twin = window,\n\t\tdoc = document,\n\t\tnav = navigator,\n\t\t\n\t\tplugin = false,\n\t\tdomLoadFnArr = [main],\n\t\tregObjArr = [],\n\t\tobjIdArr = [],\n\t\tlistenersArr = [],\n\t\tstoredAltContent,\n\t\tstoredAltContentId,\n\t\tstoredCallbackFn,\n\t\tstoredCallbackObj,\n\t\tisDomLoaded = false,\n\t\tisExpressInstallActive = false,\n\t\tdynamicStylesheet,\n\t\tdynamicStylesheetMedia,\n\t\tautoHideShow = true,\n\t\n\t/* Centralized function for browser feature detection\n\t\t- User agent string detection is only used when no good alternative is possible\n\t\t- Is executed directly for optimal performance\n\t*/\t\n\tua = function() {\n\t\tvar w3cdom = typeof doc.getElementById != UNDEF && typeof doc.getElementsByTagName != UNDEF && typeof doc.createElement != UNDEF,\n\t\t\tu = nav.userAgent.toLowerCase(),\n\t\t\tp = nav.platform.toLowerCase(),\n\t\t\twindows = p ? /win/.test(p) : /win/.test(u),\n\t\t\tmac = p ? /mac/.test(p) : /mac/.test(u),\n\t\t\twebkit = /webkit/.test(u) ? parseFloat(u.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/, "$1")) : false, // returns either the webkit version or false if not webkit\n\t\t\tie = !+"\\v1", // feature detection based on Andrea Giammarchi\'s solution: http://webreflection.blogspot.com/2009/01/32-bytes-to-know-if-your-browser-is-ie.html\n\t\t\tplayerVersion = [0,0,0],\n\t\t\td = null;\n\t\tif (typeof nav.plugins != UNDEF && typeof nav.plugins[SHOCKWAVE_FLASH] == OBJECT) {\n\t\t\td = nav.plugins[SHOCKWAVE_FLASH].description;\n\t\t\tif (d && !(typeof nav.mimeTypes != UNDEF && nav.mimeTypes[FLASH_MIME_TYPE] && !nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin)) { // navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin indicates whether plug-ins are enabled or disabled in Safari 3+\n\t\t\t\tplugin = true;\n\t\t\t\tie = false; // cascaded feature detection for Internet Explorer\n\t\t\t\td = d.replace(/^.*\\s+(\\S+\\s+\\S+$)/, "$1");\n\t\t\t\tplayerVersion[0] = parseInt(d.replace(/^(.*)\\..*$/, "$1"), 10);\n\t\t\t\tplayerVersion[1] = parseInt(d.replace(/^.*\\.(.*)\\s.*$/, "$1"), 10);\n\t\t\t\tplayerVersion[2] = /[a-zA-Z]/.test(d) ? parseInt(d.replace(/^.*[a-zA-Z]+(.*)$/, "$1"), 10) : 0;\n\t\t\t}\n\t\t}\n\t\telse if (typeof win.ActiveXObject != UNDEF) {\n\t\t\ttry {\n\t\t\t\tvar a = new ActiveXObject(SHOCKWAVE_FLASH_AX);\n\t\t\t\tif (a) { // a will return null when ActiveX is disabled\n\t\t\t\t\td = a.GetVariable("$version");\n\t\t\t\t\tif (d) {\n\t\t\t\t\t\tie = true; // cascaded feature detection for Internet Explorer\n\t\t\t\t\t\td = d.split(" ")[1].split(",");\n\t\t\t\t\t\tplayerVersion = [parseInt(d[0], 10), parseInt(d[1], 10), parseInt(d[2], 10)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch(e) {}\n\t\t}\n\t\treturn { w3:w3cdom, pv:playerVersion, wk:webkit, ie:ie, win:windows, mac:mac };\n\t}(),\n\t\n\t/* Cross-browser onDomLoad\n\t\t- Will fire an event as soon as the DOM of a web page is loaded\n\t\t- Internet Explorer workaround based on Diego Perini\'s solution: http://javascript.nwbox.com/IEContentLoaded/\n\t\t- Regular onload serves as fallback\n\t*/ \n\tonDomLoad = function() {\n\t\tif (!ua.w3) { return; }\n\t\tif ((typeof doc.readyState != UNDEF && doc.readyState == "complete") || (typeof doc.readyState == UNDEF && (doc.getElementsByTagName("body")[0] || doc.body))) { // function is fired after onload, e.g. when script is inserted dynamically \n\t\t\tcallDomLoadFunctions();\n\t\t}\n\t\tif (!isDomLoaded) {\n\t\t\tif (typeof doc.addEventListener != UNDEF) {\n\t\t\t\tdoc.addEventListener("DOMContentLoaded", callDomLoadFunctions, false);\n\t\t\t}\t\t\n\t\t\tif (ua.ie && ua.win) {\n\t\t\t\tdoc.attachEvent(ON_READY_STATE_CHANGE, function() {\n\t\t\t\t\tif (doc.readyState == "complete") {\n\t\t\t\t\t\tdoc.detachEvent(ON_READY_STATE_CHANGE, arguments.callee);\n\t\t\t\t\t\tcallDomLoadFunctions();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (win == top) { // if not inside an iframe\n\t\t\t\t\t(function(){\n\t\t\t\t\t\tif (isDomLoaded) { return; }\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdoc.documentElement.doScroll("left");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\t\tsetTimeout(arguments.callee, 0);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallDomLoadFunctions();\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ua.wk) {\n\t\t\t\t(function(){\n\t\t\t\t\tif (isDomLoaded) { return; }\n\t\t\t\t\tif (!/loaded|complete/.test(doc.readyState)) {\n\t\t\t\t\t\tsetTimeout(arguments.callee, 0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcallDomLoadFunctions();\n\t\t\t\t})();\n\t\t\t}\n\t\t\taddLoadEvent(callDomLoadFunctions);\n\t\t}\n\t}();\n\t\n\tfunction callDomLoadFunctions() {\n\t\tif (isDomLoaded) { return; }\n\t\ttry { // test if we can really add/remove elements to/from the DOM; we don\'t want to fire it too early\n\t\t\tvar t = doc.getElementsByTagName("body")[0].appendChild(createElement("span"));\n\t\t\tt.parentNode.removeChild(t);\n\t\t}\n\t\tcatch (e) { return; }\n\t\tisDomLoaded = true;\n\t\tvar dl = domLoadFnArr.length;\n\t\tfor (var i = 0; i < dl; i++) {\n\t\t\tdomLoadFnArr[i]();\n\t\t}\n\t}\n\t\n\tfunction addDomLoadEvent(fn) {\n\t\tif (isDomLoaded) {\n\t\t\tfn();\n\t\t}\n\t\telse { \n\t\t\tdomLoadFnArr[domLoadFnArr.length] = fn; // Array.push() is only available in IE5.5+\n\t\t}\n\t}\n\t\n\t/* Cross-browser onload\n\t\t- Based on James Edwards\' solution: http://brothercake.com/site/resources/scripts/onload/\n\t\t- Will fire an event as soon as a web page including all of its assets are loaded \n\t */\n\tfunction addLoadEvent(fn) {\n\t\tif (typeof win.addEventListener != UNDEF) {\n\t\t\twin.addEventListener("load", fn, false);\n\t\t}\n\t\telse if (typeof doc.addEventListener != UNDEF) {\n\t\t\tdoc.addEventListener("load", fn, false);\n\t\t}\n\t\telse if (typeof win.attachEvent != UNDEF) {\n\t\t\taddListener(win, "onload", fn);\n\t\t}\n\t\telse if (typeof win.onload == "function") {\n\t\t\tvar fnOld = win.onload;\n\t\t\twin.onload = function() {\n\t\t\t\tfnOld();\n\t\t\t\tfn();\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\twin.onload = fn;\n\t\t}\n\t}\n\t\n\t/* Main function\n\t\t- Will preferably execute onDomLoad, otherwise onload (as a fallback)\n\t*/\n\tfunction main() {\n    // remove plugin test - unnecessary DOM manipulations\n\t\t//if (plugin) {\n\t\t\t//testPlayerVersion();\n\t\t//}\n\t\t//else {\n\t\t\tmatchVersions();\n\t\t//}\n\t}\n\t\n\t/* Detect the Flash Player version for non-Internet Explorer browsers\n\t\t- Detecting the plug-in version via the object element is more precise than using the plugins collection item\'s description:\n\t\t  a. Both release and build numbers can be detected\n\t\t  b. Avoid wrong descriptions by corrupt installers provided by Adobe\n\t\t  c. Avoid wrong descriptions by multiple Flash Player entries in the plugin Array, caused by incorrect browser imports\n\t\t- Disadvantage of this method is that it depends on the availability of the DOM, while the plugins collection is immediately available\n\t*/\n\tfunction testPlayerVersion() {\n\t\tvar b = doc.getElementsByTagName("body")[0];\n\t\tvar o = createElement(OBJECT);\n\t\to.setAttribute("type", FLASH_MIME_TYPE);\n\t\tvar t = b.appendChild(o);\n\t\tif (t) {\n\t\t\tvar counter = 0;\n\t\t\t(function(){\n\t\t\t\tif (typeof t.GetVariable != UNDEF) {\n\t\t\t\t\tvar d = t.GetVariable("$version");\n\t\t\t\t\tif (d) {\n\t\t\t\t\t\td = d.split(" ")[1].split(",");\n\t\t\t\t\t\tua.pv = [parseInt(d[0], 10), parseInt(d[1], 10), parseInt(d[2], 10)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (counter < 10) {\n\t\t\t\t\tcounter++;\n\t\t\t\t\tsetTimeout(arguments.callee, 10);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tb.removeChild(o);\n\t\t\t\tt = null;\n\t\t\t\tmatchVersions();\n\t\t\t})();\n\t\t}\n\t\telse {\n\t\t\tmatchVersions();\n\t\t}\n\t}\n\t\n\t/* Perform Flash Player and SWF version matching; static publishing only\n\t*/\n\tfunction matchVersions() {\n\t\tvar rl = regObjArr.length;\n\t\tif (rl > 0) {\n\t\t\tfor (var i = 0; i < rl; i++) { // for each registered object element\n\t\t\t\tvar id = regObjArr[i].id;\n\t\t\t\tvar cb = regObjArr[i].callbackFn;\n\t\t\t\tvar cbObj = {success:false, id:id};\n\t\t\t\tif (ua.pv[0] > 0) {\n\t\t\t\t\tvar obj = getElementById(id);\n\t\t\t\t\tif (obj) {\n\t\t\t\t\t\tif (hasPlayerVersion(regObjArr[i].swfVersion) && !(ua.wk && ua.wk < 312)) { // Flash Player version >= published SWF version: Houston, we have a match!\n\t\t\t\t\t\t\tsetVisibility(id, true);\n\t\t\t\t\t\t\tif (cb) {\n\t\t\t\t\t\t\t\tcbObj.success = true;\n\t\t\t\t\t\t\t\tcbObj.ref = getObjectById(id);\n\t\t\t\t\t\t\t\tcb(cbObj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (regObjArr[i].expressInstall && canExpressInstall()) { // show the Adobe Express Install dialog if set by the web page author and if supported\n\t\t\t\t\t\t\tvar att = {};\n\t\t\t\t\t\t\tatt.data = regObjArr[i].expressInstall;\n\t\t\t\t\t\t\tatt.width = obj.getAttribute("width") || "0";\n\t\t\t\t\t\t\tatt.height = obj.getAttribute("height") || "0";\n\t\t\t\t\t\t\tif (obj.getAttribute("class")) { att.styleclass = obj.getAttribute("class"); }\n\t\t\t\t\t\t\tif (obj.getAttribute("align")) { att.align = obj.getAttribute("align"); }\n\t\t\t\t\t\t\t// parse HTML object param element\'s name-value pairs\n\t\t\t\t\t\t\tvar par = {};\n\t\t\t\t\t\t\tvar p = obj.getElementsByTagName("param");\n\t\t\t\t\t\t\tvar pl = p.length;\n\t\t\t\t\t\t\tfor (var j = 0; j < pl; j++) {\n\t\t\t\t\t\t\t\tif (p[j].getAttribute("name").toLowerCase() != "movie") {\n\t\t\t\t\t\t\t\t\tpar[p[j].getAttribute("name")] = p[j].getAttribute("value");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshowExpressInstall(att, par, id, cb);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { // Flash Player and SWF version mismatch or an older Webkit engine that ignores the HTML object element\'s nested param elements: display alternative content instead of SWF\n\t\t\t\t\t\t\tdisplayAltContent(obj);\n\t\t\t\t\t\t\tif (cb) { cb(cbObj); }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\t// if no Flash Player is installed or the fp version cannot be detected we let the HTML object element do its job (either show a SWF or alternative content)\n\t\t\t\t\tsetVisibility(id, true);\n\t\t\t\t\tif (cb) {\n\t\t\t\t\t\tvar o = getObjectById(id); // test whether there is an HTML object element or not\n\t\t\t\t\t\tif (o && typeof o.SetVariable != UNDEF) { \n\t\t\t\t\t\t\tcbObj.success = true;\n\t\t\t\t\t\t\tcbObj.ref = o;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcb(cbObj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction getObjectById(objectIdStr) {\n\t\tvar r = null;\n\t\tvar o = getElementById(objectIdStr);\n\t\tif (o && o.nodeName == "OBJECT") {\n\t\t\tif (typeof o.SetVariable != UNDEF) {\n\t\t\t\tr = o;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar n = o.getElementsByTagName(OBJECT)[0];\n\t\t\t\tif (n) {\n\t\t\t\t\tr = n;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn r;\n\t}\n\t\n\t/* Requirements for Adobe Express Install\n\t\t- only one instance can be active at a time\n\t\t- fp 6.0.65 or higher\n\t\t- Win/Mac OS only\n\t\t- no Webkit engines older than version 312\n\t*/\n\tfunction canExpressInstall() {\n\t\treturn !isExpressInstallActive && hasPlayerVersion("6.0.65") && (ua.win || ua.mac) && !(ua.wk && ua.wk < 312);\n\t}\n\t\n\t/* Show the Adobe Express Install dialog\n\t\t- Reference: http://www.adobe.com/cfusion/knowledgebase/index.cfm?id=6a253b75\n\t*/\n\tfunction showExpressInstall(att, par, replaceElemIdStr, callbackFn) {\n\t\tisExpressInstallActive = true;\n\t\tstoredCallbackFn = callbackFn || null;\n\t\tstoredCallbackObj = {success:false, id:replaceElemIdStr};\n\t\tvar obj = getElementById(replaceElemIdStr);\n\t\tif (obj) {\n\t\t\tif (obj.nodeName == "OBJECT") { // static publishing\n\t\t\t\tstoredAltContent = abstractAltContent(obj);\n\t\t\t\tstoredAltContentId = null;\n\t\t\t}\n\t\t\telse { // dynamic publishing\n\t\t\t\tstoredAltContent = obj;\n\t\t\t\tstoredAltContentId = replaceElemIdStr;\n\t\t\t}\n\t\t\tatt.id = EXPRESS_INSTALL_ID;\n\t\t\tif (typeof att.width == UNDEF || (!/%$/.test(att.width) && parseInt(att.width, 10) < 310)) { att.width = "310"; }\n\t\t\tif (typeof att.height == UNDEF || (!/%$/.test(att.height) && parseInt(att.height, 10) < 137)) { att.height = "137"; }\n\t\t\tdoc.title = doc.title.slice(0, 47) + " - Flash Player Installation";\n\t\t\tvar pt = ua.ie && ua.win ? "ActiveX" : "PlugIn",\n\t\t\t\tfv = "MMredirectURL=" + encodeURI(window.location).toString().replace(/&/g,"%26") + "&MMplayerType=" + pt + "&MMdoctitle=" + doc.title;\n\t\t\tif (typeof par.flashvars != UNDEF) {\n\t\t\t\tpar.flashvars += "&" + fv;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpar.flashvars = fv;\n\t\t\t}\n\t\t\t// IE only: when a SWF is loading (AND: not available in cache) wait for the readyState of the object element to become 4 before removing it,\n\t\t\t// because you cannot properly cancel a loading SWF file without breaking browser load references, also obj.onreadystatechange doesn\'t work\n\t\t\tif (ua.ie && ua.win && obj.readyState != 4) {\n\t\t\t\tvar newObj = createElement("div");\n\t\t\t\treplaceElemIdStr += "SWFObjectNew";\n\t\t\t\tnewObj.setAttribute("id", replaceElemIdStr);\n\t\t\t\tobj.parentNode.insertBefore(newObj, obj); // insert placeholder div that will be replaced by the object element that loads expressinstall.swf\n\t\t\t\tobj.style.display = "none";\n\t\t\t\t(function(){\n\t\t\t\t\tif (obj.readyState == 4) {\n\t\t\t\t\t\tobj.parentNode.removeChild(obj);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsetTimeout(arguments.callee, 10);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t}\n\t\t\tcreateSWF(att, par, replaceElemIdStr);\n\t\t}\n\t}\n\t\n\t/* Functions to abstract and display alternative content\n\t*/\n\tfunction displayAltContent(obj) {\n\t\tif (ua.ie && ua.win && obj.readyState != 4) {\n\t\t\t// IE only: when a SWF is loading (AND: not available in cache) wait for the readyState of the object element to become 4 before removing it,\n\t\t\t// because you cannot properly cancel a loading SWF file without breaking browser load references, also obj.onreadystatechange doesn\'t work\n\t\t\tvar el = createElement("div");\n\t\t\tobj.parentNode.insertBefore(el, obj); // insert placeholder div that will be replaced by the alternative content\n\t\t\tel.parentNode.replaceChild(abstractAltContent(obj), el);\n\t\t\tobj.style.display = "none";\n\t\t\t(function(){\n\t\t\t\tif (obj.readyState == 4) {\n\t\t\t\t\tobj.parentNode.removeChild(obj);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetTimeout(arguments.callee, 10);\n\t\t\t\t}\n\t\t\t})();\n\t\t}\n\t\telse {\n\t\t\tobj.parentNode.replaceChild(abstractAltContent(obj), obj);\n\t\t}\n\t} \n\n\tfunction abstractAltContent(obj) {\n\t\tvar ac = createElement("div");\n\t\tif (ua.win && ua.ie) {\n\t\t\tac.innerHTML = obj.innerHTML;\n\t\t}\n\t\telse {\n\t\t\tvar nestedObj = obj.getElementsByTagName(OBJECT)[0];\n\t\t\tif (nestedObj) {\n\t\t\t\tvar c = nestedObj.childNodes;\n\t\t\t\tif (c) {\n\t\t\t\t\tvar cl = c.length;\n\t\t\t\t\tfor (var i = 0; i < cl; i++) {\n\t\t\t\t\t\tif (!(c[i].nodeType == 1 && c[i].nodeName == "PARAM") && !(c[i].nodeType == 8)) {\n\t\t\t\t\t\t\tac.appendChild(c[i].cloneNode(true));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ac;\n\t}\n\t\n\t/* Cross-browser dynamic SWF creation\n\t*/\n\tfunction createSWF(attObj, parObj, id) {\n\t\tvar r, el = getElementById(id);\n\t\tif (ua.wk && ua.wk < 312) { return r; }\n\t\tif (el) {\n\t\t\tif (typeof attObj.id == UNDEF) { // if no \'id\' is defined for the object element, it will inherit the \'id\' from the alternative content\n\t\t\t\tattObj.id = id;\n\t\t\t}\n\t\t\tif (ua.ie && ua.win) { // Internet Explorer + the HTML object element + W3C DOM methods do not combine: fall back to outerHTML\n\t\t\t\tvar att = "";\n\t\t\t\tfor (var i in attObj) {\n\t\t\t\t\tif (attObj[i] != Object.prototype[i]) { // filter out prototype additions from other potential libraries\n\t\t\t\t\t\tif (i.toLowerCase() == "data") {\n\t\t\t\t\t\t\tparObj.movie = attObj[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (i.toLowerCase() == "styleclass") { // \'class\' is an ECMA4 reserved keyword\n\t\t\t\t\t\t\tatt += \' class="\' + attObj[i] + \'"\';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (i.toLowerCase() != "classid") {\n\t\t\t\t\t\t\tatt += \' \' + i + \'="\' + attObj[i] + \'"\';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar par = "";\n\t\t\t\tfor (var j in parObj) {\n\t\t\t\t\tif (parObj[j] != Object.prototype[j]) { // filter out prototype additions from other potential libraries\n\t\t\t\t\t\tpar += \'<param name="\' + j + \'" value="\' + parObj[j] + \'" />\';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tel.outerHTML = \'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"\' + att + \'>\' + par + \'</object>\';\n\t\t\t\tobjIdArr[objIdArr.length] = attObj.id; // stored to fix object \'leaks\' on unload (dynamic publishing only)\n\t\t\t\tr = getElementById(attObj.id);\t\n\t\t\t}\n\t\t\telse { // well-behaving browsers\n\t\t\t\tvar o = createElement(OBJECT);\n\t\t\t\to.setAttribute("type", FLASH_MIME_TYPE);\n\t\t\t\tfor (var m in attObj) {\n\t\t\t\t\tif (attObj[m] != Object.prototype[m]) { // filter out prototype additions from other potential libraries\n\t\t\t\t\t\tif (m.toLowerCase() == "styleclass") { // \'class\' is an ECMA4 reserved keyword\n\t\t\t\t\t\t\to.setAttribute("class", attObj[m]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (m.toLowerCase() != "classid") { // filter out IE specific attribute\n\t\t\t\t\t\t\to.setAttribute(m, attObj[m]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (var n in parObj) {\n\t\t\t\t\tif (parObj[n] != Object.prototype[n] && n.toLowerCase() != "movie") { // filter out prototype additions from other potential libraries and IE specific param element\n\t\t\t\t\t\tcreateObjParam(o, n, parObj[n]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tel.parentNode.replaceChild(o, el);\n\t\t\t\tr = o;\n\t\t\t}\n\t\t}\n\t\treturn r;\n\t}\n\t\n\tfunction createObjParam(el, pName, pValue) {\n\t\tvar p = createElement("param");\n\t\tp.setAttribute("name", pName);\t\n\t\tp.setAttribute("value", pValue);\n\t\tel.appendChild(p);\n\t}\n\t\n\t/* Cross-browser SWF removal\n\t\t- Especially needed to safely and completely remove a SWF in Internet Explorer\n\t*/\n\tfunction removeSWF(id) {\n\t\tvar obj = getElementById(id);\n\t\tif (obj && obj.nodeName == "OBJECT") {\n\t\t\tif (ua.ie && ua.win) {\n\t\t\t\tobj.style.display = "none";\n\t\t\t\t(function(){\n\t\t\t\t\tif (obj.readyState == 4) {\n\t\t\t\t\t\tremoveObjectInIE(id);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsetTimeout(arguments.callee, 10);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tobj.parentNode.removeChild(obj);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction removeObjectInIE(id) {\n\t\tvar obj = getElementById(id);\n\t\tif (obj) {\n\t\t\tfor (var i in obj) {\n\t\t\t\tif (typeof obj[i] == "function") {\n\t\t\t\t\tobj[i] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tobj.parentNode.removeChild(obj);\n\t\t}\n\t}\n\t\n\t/* Functions to optimize JavaScript compression\n\t*/\n\tfunction getElementById(id) {\n\t\tvar el = null;\n\t\ttry {\n\t\t\tel = doc.getElementById(id);\n\t\t}\n\t\tcatch (e) {}\n\t\treturn el;\n\t}\n\t\n\tfunction createElement(el) {\n\t\treturn doc.createElement(el);\n\t}\n\t\n\t/* Updated attachEvent function for Internet Explorer\n\t\t- Stores attachEvent information in an Array, so on unload the detachEvent functions can be called to avoid memory leaks\n\t*/\t\n\tfunction addListener(target, eventType, fn) {\n\t\ttarget.attachEvent(eventType, fn);\n\t\tlistenersArr[listenersArr.length] = [target, eventType, fn];\n\t}\n\t\n\t/* Flash Player and SWF content version matching\n\t*/\n\tfunction hasPlayerVersion(rv) {\n\t\tvar pv = ua.pv, v = rv.split(".");\n\t\tv[0] = parseInt(v[0], 10);\n\t\tv[1] = parseInt(v[1], 10) || 0; // supports short notation, e.g. "9" instead of "9.0.0"\n\t\tv[2] = parseInt(v[2], 10) || 0;\n\t\treturn (pv[0] > v[0] || (pv[0] == v[0] && pv[1] > v[1]) || (pv[0] == v[0] && pv[1] == v[1] && pv[2] >= v[2])) ? true : false;\n\t}\n\t\n\t/* Cross-browser dynamic CSS creation\n\t\t- Based on Bobby van der Sluis\' solution: http://www.bobbyvandersluis.com/articles/dynamicCSS.php\n\t*/\t\n\tfunction createCSS(sel, decl, media, newStyle) {\n\t\tif (ua.ie && ua.mac) { return; }\n\t\tvar h = doc.getElementsByTagName("head")[0];\n\t\tif (!h) { return; } // to also support badly authored HTML pages that lack a head element\n\t\tvar m = (media && typeof media == "string") ? media : "screen";\n\t\tif (newStyle) {\n\t\t\tdynamicStylesheet = null;\n\t\t\tdynamicStylesheetMedia = null;\n\t\t}\n\t\tif (!dynamicStylesheet || dynamicStylesheetMedia != m) { \n\t\t\t// create dynamic stylesheet + get a global reference to it\n\t\t\tvar s = createElement("style");\n\t\t\ts.setAttribute("type", "text/css");\n\t\t\ts.setAttribute("media", m);\n\t\t\tdynamicStylesheet = h.appendChild(s);\n\t\t\tif (ua.ie && ua.win && typeof doc.styleSheets != UNDEF && doc.styleSheets.length > 0) {\n\t\t\t\tdynamicStylesheet = doc.styleSheets[doc.styleSheets.length - 1];\n\t\t\t}\n\t\t\tdynamicStylesheetMedia = m;\n\t\t}\n\t\t// add style rule\n\t\tif (ua.ie && ua.win) {\n\t\t\tif (dynamicStylesheet && typeof dynamicStylesheet.addRule == OBJECT) {\n\t\t\t\tdynamicStylesheet.addRule(sel, decl);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (dynamicStylesheet && typeof doc.createTextNode != UNDEF) {\n\t\t\t\tdynamicStylesheet.appendChild(doc.createTextNode(sel + " {" + decl + "}"));\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction setVisibility(id, isVisible) {\n\t\tif (!autoHideShow) { return; }\n\t\tvar v = isVisible ? "visible" : "hidden";\n\t\tif (isDomLoaded && getElementById(id)) {\n\t\t\tgetElementById(id).style.visibility = v;\n\t\t}\n\t\telse {\n\t\t\tcreateCSS("#" + id, "visibility:" + v);\n\t\t}\n\t}\n\n\t/* Filter to avoid XSS attacks\n\t*/\n\tfunction urlEncodeIfNecessary(s) {\n\t\tvar regex = /[\\\\\\"<>\\.;]/;\n\t\tvar hasBadChars = regex.exec(s) != null;\n\t\treturn hasBadChars && typeof encodeURIComponent != UNDEF ? encodeURIComponent(s) : s;\n\t}\n\t\n\t/* Release memory to avoid memory leaks caused by closures, fix hanging audio/video threads and force open sockets/NetConnections to disconnect (Internet Explorer only)\n\t*/\n\tvar cleanup = function() {\n\t\tif (ua.ie && ua.win) {\n\t\t\twindow.attachEvent("onunload", function() {\n\t\t\t\t// remove listeners to avoid memory leaks\n\t\t\t\tvar ll = listenersArr.length;\n\t\t\t\tfor (var i = 0; i < ll; i++) {\n\t\t\t\t\tlistenersArr[i][0].detachEvent(listenersArr[i][1], listenersArr[i][2]);\n\t\t\t\t}\n\t\t\t\t// cleanup dynamically embedded objects to fix audio/video threads and force open sockets and NetConnections to disconnect\n\t\t\t\tvar il = objIdArr.length;\n\t\t\t\tfor (var j = 0; j < il; j++) {\n\t\t\t\t\tremoveSWF(objIdArr[j]);\n\t\t\t\t}\n\t\t\t\t// cleanup library\'s main closures to avoid memory leaks\n\t\t\t\tfor (var k in ua) {\n\t\t\t\t\tua[k] = null;\n\t\t\t\t}\n\t\t\t\tua = null;\n\t\t\t\tfor (var l in swfobject) {\n\t\t\t\t\tswfobject[l] = null;\n\t\t\t\t}\n\t\t\t\tswfobject = null;\n\t\t\t});\n\t\t}\n\t}();\n\t\n\treturn {\n\t\t/* Public API\n\t\t\t- Reference: http://code.google.com/p/swfobject/wiki/documentation\n\t\t*/ \n\t\tregisterObject: function(objectIdStr, swfVersionStr, xiSwfUrlStr, callbackFn) {\n\t\t\tif (ua.w3 && objectIdStr && swfVersionStr) {\n\t\t\t\tvar regObj = {};\n\t\t\t\tregObj.id = objectIdStr;\n\t\t\t\tregObj.swfVersion = swfVersionStr;\n\t\t\t\tregObj.expressInstall = xiSwfUrlStr;\n\t\t\t\tregObj.callbackFn = callbackFn;\n\t\t\t\tregObjArr[regObjArr.length] = regObj;\n\t\t\t\tsetVisibility(objectIdStr, false);\n\t\t\t}\n\t\t\telse if (callbackFn) {\n\t\t\t\tcallbackFn({success:false, id:objectIdStr});\n\t\t\t}\n\t\t},\n\t\t\n\t\tgetObjectById: function(objectIdStr) {\n\t\t\tif (ua.w3) {\n\t\t\t\treturn getObjectById(objectIdStr);\n\t\t\t}\n\t\t},\n\t\t\n\t\tembedSWF: function(swfUrlStr, replaceElemIdStr, widthStr, heightStr, swfVersionStr, xiSwfUrlStr, flashvarsObj, parObj, attObj, callbackFn) {\n\t\t\tvar callbackObj = {success:false, id:replaceElemIdStr};\n\t\t\tif (ua.w3 && !(ua.wk && ua.wk < 312) && swfUrlStr && replaceElemIdStr && widthStr && heightStr && swfVersionStr) {\n\t\t\t\tsetVisibility(replaceElemIdStr, false);\n\t\t\t\taddDomLoadEvent(function() {\n\t\t\t\t\twidthStr += ""; // auto-convert to string\n\t\t\t\t\theightStr += "";\n\t\t\t\t\tvar att = {};\n\t\t\t\t\tif (attObj && typeof attObj === OBJECT) {\n\t\t\t\t\t\tfor (var i in attObj) { // copy object to avoid the use of references, because web authors often reuse attObj for multiple SWFs\n\t\t\t\t\t\t\tatt[i] = attObj[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tatt.data = swfUrlStr;\n\t\t\t\t\tatt.width = widthStr;\n\t\t\t\t\tatt.height = heightStr;\n\t\t\t\t\tvar par = {}; \n\t\t\t\t\tif (parObj && typeof parObj === OBJECT) {\n\t\t\t\t\t\tfor (var j in parObj) { // copy object to avoid the use of references, because web authors often reuse parObj for multiple SWFs\n\t\t\t\t\t\t\tpar[j] = parObj[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (flashvarsObj && typeof flashvarsObj === OBJECT) {\n\t\t\t\t\t\tfor (var k in flashvarsObj) { // copy object to avoid the use of references, because web authors often reuse flashvarsObj for multiple SWFs\n\t\t\t\t\t\t\tif (typeof par.flashvars != UNDEF) {\n\t\t\t\t\t\t\t\tpar.flashvars += "&" + k + "=" + flashvarsObj[k];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tpar.flashvars = k + "=" + flashvarsObj[k];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (hasPlayerVersion(swfVersionStr)) { // create SWF\n\t\t\t\t\t\tvar obj = createSWF(att, par, replaceElemIdStr);\n\t\t\t\t\t\tif (att.id == replaceElemIdStr) {\n\t\t\t\t\t\t\tsetVisibility(replaceElemIdStr, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallbackObj.success = true;\n\t\t\t\t\t\tcallbackObj.ref = obj;\n\t\t\t\t\t}\n\t\t\t\t\telse if (xiSwfUrlStr && canExpressInstall()) { // show Adobe Express Install\n\t\t\t\t\t\tatt.data = xiSwfUrlStr;\n\t\t\t\t\t\tshowExpressInstall(att, par, replaceElemIdStr, callbackFn);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\telse { // show alternative content\n\t\t\t\t\t\tsetVisibility(replaceElemIdStr, true);\n\t\t\t\t\t}\n\t\t\t\t\tif (callbackFn) { callbackFn(callbackObj); }\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (callbackFn) { callbackFn(callbackObj);\t}\n\t\t},\n\t\t\n\t\tswitchOffAutoHideShow: function() {\n\t\t\tautoHideShow = false;\n\t\t},\n\t\t\n\t\tua: ua,\n\t\t\n\t\tgetFlashPlayerVersion: function() {\n\t\t\treturn { major:ua.pv[0], minor:ua.pv[1], release:ua.pv[2] };\n\t\t},\n\t\t\n\t\thasFlashPlayerVersion: hasPlayerVersion,\n\t\t\n\t\tcreateSWF: function(attObj, parObj, replaceElemIdStr) {\n\t\t\tif (ua.w3) {\n\t\t\t\treturn createSWF(attObj, parObj, replaceElemIdStr);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t},\n\t\t\n\t\tshowExpressInstall: function(att, par, replaceElemIdStr, callbackFn) {\n\t\t\tif (ua.w3 && canExpressInstall()) {\n\t\t\t\tshowExpressInstall(att, par, replaceElemIdStr, callbackFn);\n\t\t\t}\n\t\t},\n\t\t\n\t\tremoveSWF: function(objElemIdStr) {\n\t\t\tif (ua.w3) {\n\t\t\t\tremoveSWF(objElemIdStr);\n\t\t\t}\n\t\t},\n\t\t\n\t\tcreateCSS: function(selStr, declStr, mediaStr, newStyleBoolean) {\n\t\t\tif (ua.w3) {\n\t\t\t\tcreateCSS(selStr, declStr, mediaStr, newStyleBoolean);\n\t\t\t}\n\t\t},\n\t\t\n\t\taddDomLoadEvent: addDomLoadEvent,\n\t\t\n\t\taddLoadEvent: addLoadEvent,\n\t\t\n\t\tgetQueryParamValue: function(param) {\n\t\t\tvar q = doc.location.search || doc.location.hash;\n\t\t\tif (q) {\n\t\t\t\tif (/\\?/.test(q)) { q = q.split("?")[1]; } // strip question mark\n\t\t\t\tif (param == null) {\n\t\t\t\t\treturn urlEncodeIfNecessary(q);\n\t\t\t\t}\n\t\t\t\tvar pairs = q.split("&");\n\t\t\t\tfor (var i = 0; i < pairs.length; i++) {\n\t\t\t\t\tif (pairs[i].substring(0, pairs[i].indexOf("=")) == param) {\n\t\t\t\t\t\treturn urlEncodeIfNecessary(pairs[i].substring((pairs[i].indexOf("=") + 1)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn "";\n\t\t},\n\t\t\n\t\t// For internal usage only\n\t\texpressInstallCallback: function() {\n\t\t\tif (isExpressInstallActive) {\n\t\t\t\tvar obj = getElementById(EXPRESS_INSTALL_ID);\n\t\t\t\tif (obj && storedAltContent) {\n\t\t\t\t\tobj.parentNode.replaceChild(storedAltContent, obj);\n\t\t\t\t\tif (storedAltContentId) {\n\t\t\t\t\t\tsetVisibility(storedAltContentId, true);\n\t\t\t\t\t\tif (ua.ie && ua.win) { storedAltContent.style.display = "block"; }\n\t\t\t\t\t}\n\t\t\t\t\tif (storedCallbackFn) { storedCallbackFn(storedCallbackObj); }\n\t\t\t\t}\n\t\t\t\tisExpressInstallActive = false;\n\t\t\t} \n\t\t}\n\t};\n}();\n'},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(8),o=n(7),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getStyle=function(e){var n,i=t.props,a=i.sectorsCount,r=i.isBig,s=r?150:115,l=2*s*Math.tan(Math.PI/a),c=Math.round((2*s-l)/2),u="margin-left";return o.isRTLCulture&&(u="margin-right"),n={transform:"rotate("+360/a*e+"deg)","border-width":s+"px "+Math.ceil(Math.abs(l/2))+"px"},n[u]=c+"px",n},t}return i(t,e),t.prototype.render=function(){var e,t=this,n=this.props,i=n.sectorsCount,o=n.className;return a.h("div",{class:(e={cg_wheel_wrapper:!0},e[o]=Boolean(o),e)},a.h("div",{class:"cg_wheel_shadow"}),a.h("div",{class:{cg_wheel:!0,colors2:i%2==0,colors3:!!(i%2)}},a.h("div",{className:"cg_sectors"},r.loop(0,i,function(e){return a.h("div",{class:"cgw_section",style:t.getStyle(e),"data-number":e+1})})),a.h("div",{className:"cgw_lines"},r.loop(0,i,function(e){return a.h("div",{className:"cgw_line",style:"transform: rotate("+360/i*(e+.5)+"deg)"})}))))},t}(a.Component);t.default=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(58),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isPremium:!1,input:"",valid:!1},t.handleInput=function(e){var n=e.target.value;t.setState({input:n,valid:!!r.getYoutubeIdFromUrl(n)})},t.togglePremium=function(){t.setState({isPremium:!t.state.isPremium})},t}return i(t,e),t.prototype.handleSubmit=function(e){var t=this.props,n=t.description,i=t.onHit;e.preventDefault();var a=r.getYoutubeIdFromUrl(this.state.input);a&&(this.setState({input:"",valid:!1}),i(n.id,{url:a,is_premium:this.state.isPremium?1:0}))},t}(a.Component);t.default=o},function(e,t,n){"use strict";(function(e,i){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)},r=this&&this.__awaiter||function(t,n,i,a){return new(i||(i=e))(function(e,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(t){t.done?e(t.value):new i(function(e){e(t.value)}).then(o,s)}l((a=a.apply(t,n||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,r&&(o=2&n[0]?r.return:n[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],r=0}finally{a=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,r,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(179),l=n(1),c=n(38),u=n(2),d=n(27),h=n(76),p=n(175),f=function(){function e(){var e=this;this.timers={},this.handleHit=function(t,n){var i=e.gamesById[t];e.checkHitAvailability(t,n)&&(t!==c.GAMES.AUTO_DJ&&d.blockHitButtons(),i.hitAction(i,n,function(t){d.unblockHitButtons(),d.openPopup(l.h(e.AlertPopup,{content:t}),{title:__("Error")})}))},s.default.subscribe(function(t){e.prevState||(e.prevState=t);var n=c.baseGamesList.reduce(function(e,n){var i,r;return{settings:a({},e.settings,(i={},i[n.id]=t.gamesSettings[n.storeKey],i)),data:a({},e.data,(r={},r[n.id]=t.gamesData[n.storeKey],r)),isEnabledGames:e.isEnabledGames||n.isShow(n,t.gamesSettings[n.storeKey],t.gamesData[n.storeKey])}},{settings:{},data:{},isEnabledGames:!1}),r=n.settings,o=n.data,s=n.isEnabledGames;chat.toggleGamesTabVisibility&&chat.toggleGamesTabVisibility(s);var d=c.baseGamesById[c.GAMES.TOKEN_KENO].storeKey,h=i("#bChat .js-token-keno-promo-container");if(r[c.GAMES.TOKEN_KENO]&&r[c.GAMES.TOKEN_KENO].enabled){if(h.length){var p=e.gamesById[c.GAMES.TOKEN_KENO].promoComponent,f=u.preactRenderToString(l.h(p,{settings:r[c.GAMES.TOKEN_KENO],data:o[c.GAMES.TOKEN_KENO],description:e.gamesById[c.GAMES.TOKEN_KENO],isRu:t.isRu}));h.replaceWith(f)}}else e.prevState.gamesSettings&&e.prevState.gamesSettings[d]&&e.prevState.gamesSettings[d].enabled&&(h.replaceWith(""),i("#bChat .js-token-keno-hit-container .cg_msg_actions").hide());e.prevState=a({},t)})}return e.prototype.startPromoTimer=function(e,t){var n=this;this.stopPromoTimer(e);var i=this.gamesById[e].promoComponent;if(i){var a=function(){var t=s.default.getState();if("public"===t.performerStatus){var a=t.gamesSettings[n.gamesById[e].storeKey],r=t.gamesData[n.gamesById[e].storeKey],o=u.preactRenderToString(l.h(i,{settings:a,data:r,description:n.gamesById[e],isRu:t.isRu}));chat.addMessage(o,n.$history)}};this.timers[e]=setInterval(a,1e3*t)}},e.prototype.stopPromoTimer=function(e){this.timers[e]&&(clearInterval(this.timers[e]),delete this.timers[e])},e.prototype.checkHitAvailability=function(e,t){var n=s.default.getState(),i=n.gamesSettings[this.gamesById[e].storeKey],a=n.gamesData[this.gamesById[e].storeKey];return chat.userData.isLogged?"member"!==chat.userData.role?(chat.addServiceMessage(__("Only members can play the games"),"alert"),!1):chat.userData.balance?i.enabled?e===c.GAMES.ROLL_THE_DICE&&("d1"===a.type&&!i.d1_enabled||"d2"===a.type&&!i.d2_enabled)?(this.openChat(),chat.addServiceMessage(__("Game disabled"),"alert"),!1):"public"!==chat.performerStatus?(this.openChat(),chat.addServiceMessage(__("Games are available in public chat only"),"alert"),!1):!(e===c.GAMES.AUTO_DJ&&chat.userData.balance<(t.is_premium?i.amountPremium:i.amount))||(chat.buyTokensPopup(),!1):(this.openChat(),chat.addServiceMessage(__("Game disabled"),"alert"),!1):(chat.buyTokensPopup(),!1):(chat.signupPopup(),!1)},e.prototype.setSettings=function(e,t){d.setGameSettings(e,t),p.default.instance.stackSettings(window.chat.performerData.username,e,s.default.getState().gamesSettings[c.baseGamesById[e].storeKey]),t&&t.enabled&&t.promo_interval?this.startPromoTimer(e,t.promo_interval):this.stopPromoTimer(e)},e.prototype.setRollTheDiceSettings=function(e){var t=c.GAME_PROMO_MSG.ROLL_THE_DICE,n=window.chat.performerData?window.chat.performerData.displayName:"";e.message=t===e.message?__(e.message,{username:n}):e.message,e.message_ru=t===e.message_ru?__(e.message_ru,{username:n}):e.message_ru,this.setSettings(c.GAMES.ROLL_THE_DICE,e),e.enabled&&(!e.d1_enabled&&e.d2_enabled?d.setRollTheDiceType("d2"):e.d1_enabled||e.d2_enabled||d.setRollTheDiceType("d1"))},e.prototype.setSpinTheWheelSettings=function(e){var t=c.GAME_PROMO_MSG.SPIN_THE_WHEEL,n=window.chat.performerData?window.chat.performerData.displayName:"";e.message=t===e.message?__(e.message,{username:n}):e.message,e.message_ru=t===e.message_ru?__(e.message_ru,{username:n}):e.message_ru,this.setSettings(c.GAMES.SPIN_THE_WHEEL,e)},e.prototype.setTokenKenoSettings=function(e){var t=c.GAME_PROMO_MSG.TOKEN_KENO,n=window.chat.performerData?window.chat.performerData.displayName:"";e.message=t===e.message?__(e.message,{username:n}):e.message,e.message_ru=t===e.message_ru?__(e.message_ru,{username:n}):e.message_ru,this.setSettings(c.GAMES.TOKEN_KENO,e),d.setTokenKenoSuggestingAmount()},e.prototype.setSlotMachineSettings=function(e){var t=c.GAME_PROMO_MSG.SLOT_MACHINE,n=window.chat.performerData?window.chat.performerData.displayName:"";e.message=t===e.message?__(e.message,{username:n}):e.message,e.message_ru=t===e.message_ru?__(e.message_ru,{username:n}):e.message_ru,this.setSettings(c.GAMES.SLOT_MACHINE,e),e.no_lose&&d.setSlotMachineRate()},e.prototype.setAutoDJSettings=function(e){d.setAutoDJSettings({enabled:e.isEnable,max_length:e.max_length,amount:e.amount,amountPremium:e.amountPremium})},e.prototype.setAutoDJTracks=function(e){d.setAutoDJTracks(e),e&&e.length&&d.setAutoDJPlaying(!!e[0].isPlaying)},e.prototype.addAutoDJTrack=function(e,t){var n=c.GAMES.AUTO_DJ;d.addAutoDJTrack(e,t);var i=s.default.getState().gamesSettings[this.gamesById[c.GAMES.AUTO_DJ].storeKey],a=this.gamesById[n].hitComponent,r=u.preactRenderToString(l.h(a,{track:t,description:this.gamesById[n],settings:i}));chat.addMessage(r,this.$history)},e.prototype.setAutoDJPlaying=function(e){d.setAutoDJPlaying(e)},e.prototype.skipAutoDJTrack=function(e){d.skipAutoDJTrack(e)},e.prototype.addChatGameHitMessage=function(e){if(e.type===h.ServerMessageEvent.UPDATE_TRACK_LIST){var t=e.body,n=(t.in,t.ti),i=this.gamesById[c.GAMES.AUTO_DJ].hitComponent,a=u.preactRenderToString(l.h(i,{track:n,description:this.gamesById[c.GAMES.AUTO_DJ]}));chat.addMessage(a,this.$history)}else try{this.addChatHitMessage(e.body)}catch(e){console.warn(e)}},e.prototype.addChatHitMessage=function(e){var t=this,n=e.game.type;this.gamesById[n]&&chat.addDeferredMessage(function(){return r(t,void 0,void 0,function(){var t,i,a,r;return o(this,function(o){switch(o.label){case 0:return t=s.default.getState(),[4,p.default.instance.getSettings(window.chat.performerData.username,n,e.game.sv,s.default.getState().gamesSettings[this.gamesById[n].storeKey])];case 1:return i=o.sent(),a=t.gamesData[this.gamesById[n].storeKey],r=this.gamesById[n].hitComponent,[2,u.preactRenderToString(l.h(r,{settings:i,data:a,description:this.gamesById[n],eventData:e,isRu:t.isRu,sameMember:e.un===chat.userData.username}))]}})})}(),this.$history)},e.prototype.handleGameNotice=function(e){this.preHandleGameNotice(e),this.addChatHitMessage(e),this.postHandleGameNotice(e)},e.prototype.preHandleGameNotice=function(e){var t=e.game.type;switch(t){case c.GAMES.TOKEN_KENO:var n=s.default.getState();n.gamesData[this.gamesById[t].storeKey].selectedAmount===e.game.amount&&n.popup.opened&&n.popup.component===this.gamesById[t].confirmComponent&&d.closePopup(),d.setTokenKenoPrizeAmount(e),d.setTokenKenoSuggestingAmount()}},e.prototype.postHandleGameNotice=function(e){e.un===chat.userData.username&&(d.unblockHitButtons(),this.openChat())},e.prototype.onJoinRoom=function(e){var t=this;s.default.setState({isRu:chat.userData.isRu}),e.dice&&this.setRollTheDiceSettings(e.dice),e.wheel&&this.setSpinTheWheelSettings(e.wheel),e.keno&&this.setTokenKenoSettings(e.keno),e.slot&&this.setSlotMachineSettings(e.slot),e.autoDj&&(this.setAutoDJSettings(e.autoDj),this.setAutoDJTracks(e.trackList)),this.attach(),i("body").on("click.gamecontrol",".js-game-control",function(e){t.handleChatGameControl(e)})},e.prototype.onLeaveRoom=function(){var e=this;this.detach(),this.gamesList.map(function(t){return e.stopPromoTimer(t.id)}),d.resetGamesState(),i("body").off("click.gamecontrol")},e.prototype.onPerformerStatusChange=function(e){s.default.setState({performerStatus:e})},e.prototype.handleChatGameControl=function(e){e.preventDefault();var t=e.currentTarget,n=a({},t.dataset),i=n.id,r=n.value,o=n.action,l=this.gamesById[i];if(r)switch(i){case c.GAMES.ROLL_THE_DICE:d.setRollTheDiceType(r);break;case c.GAMES.TOKEN_KENO:d.setTokenKenoSelectedAmount(+r);break;case c.GAMES.SLOT_MACHINE:d.setSlotMachineRate(+r)}var u=s.default.getState(),h=u.gamesSettings[l.storeKey],p=u.gamesData[l.storeKey];switch(o){case"view_prizes":this.openGameTab(i),i===c.GAMES.TOKEN_KENO?d.setTokenKenoShowPrizes(!0):i===c.GAMES.AUTO_DJ&&d.setAutoDJShowForm();break;case"confirm":this.checkHitAvailability(i)&&d.openPopup(l.confirmComponent,{},{description:l,settings:h,data:p,isRu:u.isRu,onHit:this.handleHit.bind(this)});break;case"prizes_popup":d.openPopup(l.prizesPopupComponent);break;case"select_popup":d.openPopup(l.selectPopupComponent,{},{onHit:this.handleHit.bind(this)});break;default:d.closePopup()}},e.prototype.detach=function(){this.root&&(l.render(null,document.body,this.root),this.root=null),this.popupRoot&&(l.render(null,document.body,this.popupRoot),this.popupRoot=null)},Object.defineProperty(e.prototype,"$history",{get:function(){return i("#bChat .history")},enumerable:!0,configurable:!0}),e}();t.default=f}).call(t,n(10),n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(7);e(function(){function t(e){return(""+e).replace(s,function(e){return o[e]})}function n(t,n,i){var a=document.createElement("div");a.className="message_sent_notification",a.innerHTML=(t?'<div class="notification_title">'+t+"</div>":"")+(n?'<div class="notification_messages">'+n+"</div>":""),e(document.body).append(a),e(a).delay(i||2e3).fadeOut(1e3,function(){a.parentNode.removeChild(a)})}function a(){var t=e("#scrollable .items div:nth-child(2) .view_sent_gift").size(),n=e(".wrapper").hasClass("wrapper_rtl")?"right":"left";t<6&&e(".model_virtual_gift_panel .next").hide(),t>=6?e(".gift_wrap_but").css(n,"22px"):5===t?e(".gift_wrap_but").css(n,"-50px"):4===t?e(".gift_wrap_but").css(n,"-115px"):3===t?e(".gift_wrap_but").css(n,"-185px"):2===t?e(".gift_wrap_but").css(n,"-255px"):1===t&&e(".gift_wrap_but").css(n,"-315px")}var r=e("body"),o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},s=/[&<>"'\/]/g;r.on("click","a.view_sent_gift",function(){return e.fancybox(e(this),{padding:0,scrolling:"no",wrapCSS:"fancybox-gift-wrap",autoResize:!1,fitToView:!1,arrows:!1,type:"ajax",closeBtn:!1,title:null,helpers:{overlay:{locked:!1}}}),!1}),r.on("click","a.send_virtual_gift",function(){e(".showdiv_gift").hide();var r="fancybox-send-gift-wrap",o={locked:!1};return e("#profile-content").length&&(r+=" mini-profile-pos",o.css={background:"none"}),e.fancybox(e(this),{padding:0,scrolling:"no",wrapCSS:r,autoResize:!1,fitToView:!1,arrows:!1,type:"ajax",title:null,closeBtn:!1,helpers:{overlay:o},beforeShow:function(){if(e("#profile-content").length){e("#mini_profile_gift_rule").remove();var t=e(".mpb_gifts"),n=e(".send_virtual_gift_box"),a=t.offset().top+t.height()-n.outerHeight(!0),r=t.offset().left;i.isRTLCulture?(r=r+t.outerWidth(!0)-n.outerWidth(!0)-5)<=0&&(r=20):(r+=5)+n.outerHeight(!0)>=e(window).outerWidth()&&(r=e(window).width()-n.outerWidth(!0)-20),a>0&&r>0&&e("<style type='text/css' id='mini_profile_gift_rule'>.mini-profile-pos {position: absolute !important; top: "+a+"px !important; left: "+r+"px !important;}</style>").appendTo("head"),e(window).off(".pm_gift").on("resize.pm_gift",function(){e(".fancybox-opened").hasClass("mini-profile-pos")&&(e.fancybox.close(),e(window).off(".pm_gift"))})}},afterShow:function(){var i=e(".send_virtual_gift_box form");i.find("button").attr("onclick","").off("click").on("click",function(){var r={};return e.each(i.serializeArray(),function(){r[this.name]=this.value}),e.post(i.attr("action"),r,function(i){try{i=JSON.parse(i)}catch(e){i={}}if(i.sent){var r="";for(var o in i.gifts){o>0&&o%6==0&&(r+="</div><div>");var s=i.gifts[o];s.alt=t(s.alt),s.title=t(s.title),r+='<a class="view_sent_gift" id="gift-'+s.id+'" href="'+s.url+'" title="'+s.alt+'"><img alt="'+s.alt+'" src="'+s.img+'" /></a>'}r='<div class="items"><div>'+r+"</div></div>",r='<div class="scrollable" id="scrollable">'+r+"</div>",r='<a class="next browse right">&nbsp;</a>'+r+'<a class="prev browse left" style="display: none !important;">&nbsp;</a>',e(".model_virtual_gift_panel").html(r).removeClass("no_items"),e(".gifts_count").html(i.count),e.fancybox.close(),n("",i.info),e(".model_virtual_gift_panel #scrollable").scrollable({circular:!0}),a()}else i.info&&(e.fancybox.close(),n("",i.info,i.info.indexOf("<a")>=0?8e3:2e3))}),!1})}}),!1}),r.on("click","a.real_gift_details, h3.title",function(){return e.fancybox(e(this),{padding:0,scrolling:"no",wrapCSS:"fancybox-bonga-wrap",autoResize:!1,fitToView:!1,arrows:!1,title:null,helpers:{overlay:{locked:!1}}}),!1}),r.on("click","img.select_virtual_gift",function(){e("#gift_details_image").attr("src",e(this).attr("src")),e("#gift_details_price").html(e(this).attr("price")),e("#gift_order_gift_id").val(e(this).attr("gift_id"))}),e("#scrollable").scrollable({circular:!0}),r.on("click",".gift_wrap_but a.gift_wrap_but_trigger",function(t){t.preventDefault(),e("body").hasClass("logged_in")||"undefined"==typeof sv?e(".showdiv_gift").show():e.signupEvent.call(this,t)}),r.on("click",".showdiv_gift .pm_close",function(t){t.preventDefault(),e(".showdiv_gift").hide()}),a()})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var t=function(){function t(){}return t.prototype.init=function(){e(".scrollable_week_achievements").scrollable();var t=e(".scrollable_hour_achievements");t.scrollable({onSeek:function(){t.hasClass("all_loaded")||e.get(t.attr("load_url")+"?skip="+t.find("p").length,function(n){var i=t.data("scrollable");e(n).find("p").length>0?i.addItem(e(n)):t.addClass("all_loaded")})}})},t.prototype.rebind=function(){return this.init(),this},t}();e(function(){var e=new t;e.init(),"undefined"!=typeof sv&&(sv.spa.module.achievement=e)})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),a=function(){function t(){}return t.prototype.init=function(){return e("div.inner_wish_list_block").scrollable(),e("body").on("click","a.open_wish_showdiv",function(){var t=e(this).closest("div.wish_block"),n=e("div.showdiv_wish"),a=t.find("div.title .inner").html();a=a?i.stringWordWrap(a,"",35):"";var r=t.find("div.description .inner").html();r=r?i.stringWordWrap(r,"",35):"";var o=e(this).attr("data-image")||e(this).find("img").attr("src"),s=e(this).hasClass("read_more")?e(this).siblings(".wish_image").find(".open_wish_showdiv img").attr("alt"):e(this).find("img").attr("alt");return n.find(".gift_icon").html(t.find("input.wish_number_hidden").val()),n.find("div.showdiv_content div.img").html("").append(e("<img/>").attr({src:o,alt:s.replace(" thumbnail","")})),n.find("div.showdiv_content div.title").html(a),n.find("div.showdiv_content div.desc").html(r),n.show(),!1}).on("click","div.showdiv_wish .pm_close",function(t){return t.preventDefault(),e(this).closest("div.showdiv_wish").hide(),!1}),this},t.prototype.rebind=function(){return this.init(),this},t}();t.WishList=a,e(function(){var e=new a;e.init(),"undefined"!=typeof sv&&(sv.spa.module.wishList=e)})}).call(t,n(0))},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),o=n(340),s=n(76),l=n(107),c=n(259),u=null,d=new o.default,h=function(t){function n(e,n){var i=t.call(this,n)||this;return i.directServiceUrl=e,i}return i(n,t),n.prototype.onRegister=function(){var e=this;r.eventDispatcher.on(l.ChatServiceEvent.CONNECT,function(t){chat.performerData&&chat.performerData.username?d.joinRoom(chat.performerData.username):e.getRoom(chat.userData.chathost)}),r.eventDispatcher.on(l.ChatServiceEvent.CLOSE,function(){window.clearInterval(e.pingTimer),window.chat.performerStatusChange("offline")}),r.eventDispatcher.on(l.ChatServiceEvent.JOIN_ROOM,function(t){if(chat.setChatHeight(),chat.currentChathost||chat.setCurrentChathost(chat.performerData.username),chat.gameControls.onJoinRoom(t),!t.status)return void chat.onDisconnect({code:"ROOM_RELEASE"});void 0!==t.isFreeShow&&(chat.localData.isFreeShow=t.isFreeShow),t.clientId&&(chat.userData.clientId=t.clientId),t.performerClId&&(chat.performerData.clientId=t.performerClId),t.settings&&chat.onChatSettings(t.settings),t.topic&&chat.onTopicChange(t.topic,!1),t.topicRu&&chat.onTopicChange(t.topicRu,!0),t.tipMenu&&chat.onTipMenuChange(c.parseTipMenuMessage(t.tipMenu),!1),t.tipMenuRu&&chat.onTipMenuChange(c.parseTipMenuMessage(t.tipMenuRu),!0),t.status&&chat.performerStatusChange(t.status),void 0!==t.isAudioAvailable&&chat.performerAudioState(t.isAudioAvailable),d.joinChat("public-chat"),"moderator"===chat.userData.role&&d.joinChat("private-chat"),chat.updateTipKingSubHeader&&chat.updateTipKingSubHeader(t.tk?t.tk:{enabled:!1}),clearInterval(e.pingTimer),e.pingTimer=window.setInterval(function(){e.update()},1e3*(chat.userData.isLogged?30:120))}),r.eventDispatcher.on(s.ServerMessageEvent.PERFORMER_AUDIO_STATE,function(e){chat.performerAudioState(e)}),r.eventDispatcher.on(s.ServerMessageEvent.GROUP_CHAT_INVITATION_CHANGE,function(t){chat.groupChatInvitation(t),chat.isGroupChatInvited&&chat.isGroupChatMembersReady&&e.initPaidShow("group")}),r.eventDispatcher.on(s.ServerMessageEvent.SHOW_REQUEST,function(t){chat.acceptedPaidShow&&e.initPaidShow(chat.acceptedPaidShow)}),r.eventDispatcher.on(s.ServerMessageEvent.GROUP_SHOW_RESPONSE,function(t){chat.acceptedPaidShow&&e.initPaidShow(chat.acceptedPaidShow)}),r.eventDispatcher.on(s.ServerMessageEvent.PAID_SHOW_UPDATE,function(e){chat.setBalance(e)}),r.eventDispatcher.on(s.ServerMessageEvent.PAID_SHOW_STOPPED,function(e){chat.onPaidShowStop(e)}),r.eventDispatcher.on(s.ServerMessageEvent.FREE_SHOW_STATE,function(e){chat.onFreeShowState(e)}),r.eventDispatcher.on(s.ServerMessageEvent.MESSAGE_TO_MEMBER,function(t){clearInterval(e.pingTimer),chat.onDisconnect(t)}),r.eventDispatcher.on(s.ServerMessageEvent.CHANGE_AUTO_DJ_SETTING,function(e){chat.gameControls.setAutoDJSettings(e)}),r.eventDispatcher.on(s.ServerMessageEvent.TRACK_LIST,function(e){chat.gameControls.setAutoDJTracks(e)}),r.eventDispatcher.on(s.ServerMessageEvent.UPDATE_TRACK_LIST,function(e){chat.gameControls.addAutoDJTrack(e.in,e.ti)}),r.eventDispatcher.on(s.ServerMessageEvent.TOGGLE_TRACK,function(e){chat.gameControls.setAutoDJPlaying(e)}),r.eventDispatcher.on(s.ServerMessageEvent.SKIP_TRACK,function(e){chat.gameControls.skipAutoDJTrack(e)}),r.eventDispatcher.on(s.ServerMessageEvent.CHANGE_DICE_SETTING,function(e){chat.gameControls.setRollTheDiceSettings(e)}),r.eventDispatcher.on(s.ServerMessageEvent.CHANGE_WHEEL_SETTING,function(e){chat.gameControls.setSpinTheWheelSettings(e)}),r.eventDispatcher.on(s.ServerMessageEvent.CHANGE_KENO_SETTING,function(e){chat.gameControls.setTokenKenoSettings(e)}),r.eventDispatcher.on(s.ServerMessageEvent.CHANGE_SLOT_MACHINE_SETTING,function(e){chat.gameControls.setSlotMachineSettings(e)}),r.eventDispatcher.on(s.ServerMessageEvent.PLAY_GAME_NOTICE,function(e){chat.gameControls.handleGameNotice(e)}),r.eventDispatcher.on(s.ServerMessageEvent.TIP_KING_CHANGE,function(e){chat.updateTipKingSubHeader&&chat.updateTipKingSubHeader(e)})},n.prototype.initPaidShow=function(e){var t=this;chat.userData.isPayable&&!chat.initiatedPaidShow&&(chat.debug("*** initPaidShow",e),chat.initiatedPaidShow=e,r.request(this.serviceUrl,"initPaidShow",chat.performerData.username,e).done(function(n){if(chat.debug("*** request.initPaidShow RESULT",n),"decline"===n.status)return void chat.paidShowDecline(n.description);chat.closeStream(!0),chat.paidShowId=n.showId,r.conn.call("initPaidShow",function(n){if(chat.debug("^^^ call.initPaidShow RESULT",n),!n)return chat.paidShowDecline(),void chat.addServiceMessage(__("Some error occurred. Please try again later."),"alert");chat.currentShowType=e,t.startPaidShow(e)},{showType:e,showId:chat.paidShowId},n.dataKey,n.actionKey)}))},n.prototype.startPaidShow=function(e){var t=this;chat.debug("*** startPaidShow",e),chat.userData.isVip&&"vip"===chat.performerStatus?this.handlePaidShowStart(e):r.request(this.serviceUrl,"startPaidShow",chat.performerData.username,chat.currentShowType,"getOrientation"in window?window.getOrientation():null).done(function(n){"success"===n.status?t.handlePaidShowStart(e):"fail"===n.status&&chat.paidShowDecline(n.description||null)})},n.prototype.handlePaidShowStart=function(e){var t="private-chat";r.conn.call("ChatModule.disconnect",null,"public-chat"),r.conn.call("ChatModule.connect",function(e){e.userList&&chat.updateUsers(t,e.userList)},t),r.conn.call("startPaidShow",null,e),chat.onPaidShowStart(e)},n.prototype.getRoomData=function(e){var t=!!chat.performerData;return chat.debug("getRoomData",e),r.request(this.directServiceUrl,"getRoomData",e,t)},n.prototype.getRoom=function(t){t&&(u=this.getRoomData(t).done(function(n){if(u=null,"error"===n.status)return chat.debug("getRoomData error"),void chat.onDisconnect({code:"AUTH_MISS"});d.setDataKey(n.localData.dataKey),chat.userData=n.userData,chat.userData.isPerformer=t===chat.userData.username,chat.userData.hasStream=chat.userData.isPerformer,chat.userData.isLogged=chat.userData.userId>0,chat.userData.isPayable="member"===chat.userData.role&&("free"!==chat.userData.accessLevel||chat.userData.balance>=1),chat.userData.showType="public",void 0!==chat.userListLimit&&(chat.userData.userListLimit=chat.userListLimit),e.extend(chat.localData,n.localData),chat.performerData=n.performerData,chat.videoServerUrl=n.localData.videoServerUrl,chat.onUserData(chat.userData,chat.performerData,chat.localData),d.joinRoom(chat.performerData.username)}).fail(function(e,t,n){if(chat.debug("getRoomData xhr fail"),chat.userData&&"oct026"===chat.userData.username)return chat.addServiceMessage("getRoomData xhr fail","alert"),void console.log(e,t,n);chat.onDisconnect({code:"ERROR"})}))},n.prototype.updatePerformer=function(e){this.getRoomData(e).done(function(e){chat.performerData=a({},chat.performerData,e.performerData)})},n.prototype.closeRoom=function(t){void 0===t&&(t=!1),u&&u.abort(),chat.isPaidShow()&&chat.onPaidShowStop(null,!0),r.conn.connected&&("moderator"===chat.userData.role?(r.conn.call("ChatModule.disconnect",null,"public-chat"),r.conn.call("ChatModule.disconnect",null,"private-chat")):r.conn.call("ChatModule.disconnect",null,chat.currentChatType),r.conn.call("closeRoom",null)),chat.performerAudioState(!1),(!t||e.mobile||chat.player.flashObject)&&chat.closeStream(!0),chat.gameControls.onLeaveRoom()},n.prototype.updateChatLog=function(e){r.conn.call("updateChatLog",null,e)},n.prototype.showAllUsers=function(){r.conn.call("setUserListLimit",function(){d.syncUserList(chat.currentChatType)},0)},n.prototype.showUserList=function(e){var t=e?30:-1;chat.userListLimit=t,r.conn.call("setUserListLimit",function(){e>0&&d.syncUserList(chat.currentChatType)},t)},n.prototype.tipModel=function(e,t){r.request(this.serviceUrl,"tipModel",chat.performerData.username,e,chat.userData.userId,"getOrientation"in window?window.getOrientation():null,t).done(function(e){"success"===e.status?(r.conn.call("ChatModule.sendTip",null,{amount:parseInt(e.amount),subType:e.subType},e.dataKey,e.actionKey),void 0!==e.balance&&chat.setBalance(e.balance)):chat.addServiceMessage(e.description,"tip_"+e.status)})},n.prototype.gotoPrivateChat=function(e){this.sendShowRequest({type:e?"fullprivate":"private",status:"request"})},n.prototype.acceptPrivateChat=function(){this.initPaidShow("private")},n.prototype.gotoGroupChat=function(){"group"===chat.performerStatus?this.initPaidShow("group"):this.sendShowRequest({type:"group",status:"request"})},n.prototype.gotoVoyeur=function(){this.initPaidShow("voyeur")},n.prototype.gotoVipShow=function(){this.initPaidShow("vip")},n.prototype.stopPaidShow=function(e){void 0===e&&(e=null),r.conn.call("stopPaidShow",null,e),chat.onPaidShowStop(e)},n.prototype.handlePaidShowStop=function(){var e="public-chat";r.conn.call("ChatModule.disconnect",null,"private-chat"),r.conn.call("ChatModule.connect",function(t){t.userList&&chat.updateUsers(e,t.userList)},e)},n.prototype.removeAcceptGroupChat=function(){this.sendShowRequest({type:"group",status:"cancel"})},n.prototype.setChatMessageStyle=function(e){chat.debug("*** setChatMessageStyle",e),r.conn.call("setChatMessageStyle",function(){d.syncUserList(chat.currentChatType)},e),r.request(this.serviceUrl,"setChatMessageStyle",e)},n.prototype.shareMyCam=function(e){chat.debug("*** shareMyCam",e),r.conn.call("shareMyCam",function(){d.syncUserList(chat.currentChatType)},e)},n.prototype.kickUserByMember=function(e){r.conn.call("ChatModule.kickUserByMember",null,e,null)},n.prototype.banUser=function(e){r.conn.call("ChatModule.banUserByMcm",null,e,null)},n.prototype.kickUser=function(e){r.conn.call("ChatModule.kickUserByMcm",null,e,null)},n.prototype.muteUser=function(e,t){r.conn.call("ChatModule.muteUserByMcm",function(){d.syncUserList(chat.currentChatType),r.request(chat.localData.serviceUrl,"muteUser",e,t,chat.userData.username,chat.userData.chathost)},e,t)},n.prototype.update=function(){if(d.ping(),chat.userData.isLogged){r.request(this.directServiceUrl,"ping",chat.userData.userId,chat.performerData.userId,chat.isPaidShow()).done(function(t){if(chat.debug("ping",t),"error"===t.status)return void chat.onDisconnect({code:"ERROR"});if("moderator"===chat.userData.role&&t.performerData&&chat.updatePerformerSession(t.performerData),t.userData){var n;try{n=t.userData.balance}catch(e){return void chat.error("ping error: wrong balance")}if(!chat.isPaidShow()||chat.isPaidShow()&&"vip"===chat.initiatedPaidShow){n!==chat.userData.balance&&chat.setBalance(n);var i={balance:n,accessLevel:t.userData.accessLevel,isMcm:t.userData.isMcm,isRaiseModelAvailable:t.userData.isRaiseModelAvailable,isRaiseModelReadyToUse:t.userData.isRaiseModelReadyToUse};t.userData.isVip?(chat.userData.isVip=!0,i.isVip=!0,t.userData.invisible?(chat.userData.invisible=!0,i.invisible=!0):delete chat.userData.invisible):(delete chat.userData.isVip,delete chat.userData.invisible),r.conn.call("updateMemberBalance",null,i,t.dataKey),chat.userData.accessLevel!==t.userData.accessLevel&&(!chat.userData.isPayable&&chat.userData.balance>0&&(chat.userData.isPayable=!0),chat.userData.accessLevel=t.userData.accessLevel)}chat.userData.isMcm!==t.userData.isMcm&&(chat.userData.isMcm=t.userData.isMcm),chat.userData.isRaiseModelAvailable!==t.userData.isRaiseModelAvailable&&(chat.userData.isRaiseModelAvailable=t.userData.isRaiseModelAvailable),chat.userData.isRaiseModelReadyToUse!==t.userData.isRaiseModelReadyToUse&&(chat.userData.isRaiseModelReadyToUse=t.userData.isRaiseModelReadyToUse),e.mobile||d.syncUserList(chat.currentChatType)}})}},n.prototype.getWmsAuthSign=function(e){chat.performerData&&r.request(this.directServiceUrl,"wmsAuthSign",chat.userData.userId,chat.performerData.username).fail(function(){e(!0,{})}).done(function(t){e(!1,a({},t||{}))})},n.prototype.playGame=function(e,t,n){r.conn.call("ChatModule.playGame",null,e,t,n)},n}(r.default);t.default=h}).call(t,n(0))},function(e,t,n){n(3)(n(464))},function(e,t){e.exports='!function(a){function b(a,b){for(var d,c="",e=0;e<b.length;e++){d=!0;for(var f=0;a>f&&f+e+a<b.length;f++)d=d&&b.charAt(f+e)==b.charAt(f+e+a);a>f&&(d=!1),d?(e+=a-1,d=!1):c+=b.charAt(e)}return c}a.calculatePasswordStrength=function(a,c){var d=0;return a.length<6?0:a.toLowerCase()==c.toLowerCase()?0:(d+=4*a.length,d+=1*(b(1,a).length-a.length),d+=1*(b(2,a).length-a.length),d+=1*(b(3,a).length-a.length),d+=1*(b(4,a).length-a.length),a.match(/(.*[0-9].*[0-9].*[0-9])/)&&(d+=5),a.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)&&(d+=5),a.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(d+=10),a.match(/([a-zA-Z])/)&&a.match(/([0-9])/)&&(d+=15),a.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&a.match(/([0-9])/)&&(d+=15),a.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&a.match(/([a-zA-Z])/)&&(d+=15),(a.match(/^\\w+$/)||a.match(/^\\d+$/))&&(d-=10),0>d&&(d=0),d>100&&(d=100),d)},a.fn.passwordStrength=function(b){var c={usernameInput:a("<input/>"),usernameValue:null,onResult:function(){}};return b=a.extend(c,b),this.each(function(){a(this).keyup(function(){var c;c=null==b.usernameValue?b.usernameInput.val():b.usernameValue,c&&this.value&&b.onResult(a.calculatePasswordStrength(this.value,c))})})}}(jQuery);'},function(e,t,n){n(3)(n(466))},function(e,t){e.exports="// $('img.photo',this).imagesLoaded(myFunction)\n// execute a callback when all images have loaded.\n// needed because .load() doesn't work on cached images\n\n// mit license. paul irish. 2010.\n// webkit fix from Oren Solomianik. thx!\n\n// callback function is passed the last image to load\n//   as an argument, and the collection as `this`\n\n$.fn.imagesLoaded = function (complete, error) {\n  var $elems = this.filter('img');\n\n  if (typeof complete === 'function') {\n    $elems.one('load', function (e) {\n      complete.call(this);\n    });\n  }\n\n  if (typeof error === 'function') {\n    $elems.one('error', function (e) {\n      error.call(this);\n    });\n  }\n\n  $elems.each(function () {\n    // cached images don't fire load sometimes, so we reset src.\n    if (this.complete || this.complete === undefined) {\n      var src = this.src;\n      // webkit hack from http://groups.google.com/group/jquery-dev/browse_thread/thread/eee6ab7b2da50e1f\n      // data uri bypasses webkit log warning (thx doug jones)\n      this.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\n      this.src = src;\n    }\n  });\n\n  return this;\n};\n"},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(783),a=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this.globalInstance=this.globalInstance||new this},enumerable:!0,configurable:!0}),Object.defineProperty(t,"formSelector",{get:function(){return"#mls_search_filters"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"templateSelector",{get:function(){return"#template-searchForm"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"templateSelectorDisplayName",{get:function(){return"#template-searchForm-displayName"},enumerable:!0,configurable:!0}),t.prototype.getSearchData=function(){var n=e(t.formSelector).find("input").serializeArray();if(e.isRunetki){var i=e("#model_search_display_name");i.length&&i.val()&&n.push({name:i.attr("name"),value:i.val()})}return n||[]},t.prototype.clearSearchForm=function(){e("#model_search_display_name").val(""),e(t.formSelector).find("input:checkbox:checked").trigger("click").closest("li").removeClass("checked"),e(document).trigger("search:clear")},t.prototype.init=function(){if(!e(t.formSelector).length){if(e(t.templateSelector).length){var n=e(t.templateSelector).text();e("#search_above_top_banner").append(n)}if(t.templateSelectorDisplayName){var a=e(t.templateSelectorDisplayName).text();e("#saf_name").append(a)}}var r=e(".mls_search").find("form"),o=e("#mls_search_filters");e(document).on("click",".search_by_name_trigger",function(){return e(".search_by_name_form").animate({width:"toggle"},200),!1}),e(document).on("click",".open_search_filter",function(){return r.find(o)&&e("#search_above_top_banner").append(o),e("#dmca_security").hide(),o.slideToggle(400,function(){window.chat&&chat.adjustDMCASecurityIcon(),e("#dmca_security").show(),o.find("li").each(function(){var t=e(this);-1!==t.find("label").text().indexOf(" ")&&t.css("white-space","normal")}),i.StyledScrollBars()}),!1}),o.find("input:checkbox").change(function(){var t=e(this).closest("li");e(this).attr("checked")?t.addClass("checked"):t.removeClass("checked")}),e(".saf_reset").click(function(){o.find("input:checkbox:checked").trigger("click").closest("li").removeClass("checked")}),e(".saf_input_reset, .saf_params_btn, .saf_search_btn").on("click",function(){e("#mls_search_filters").slideToggle()})},t}();t.default=a}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),n(469);var i=n(470),a=n(2),r=n(471),o=n(462),s=n(472),l=n(190),c=n(54),u=n(230),d=n(14),h=n(11),p=n(339),f=n(191),m=n(150),g=n(45),v=n(7),b=n(4),y=e("#bInvitePopup").length>0;e.extend(window.chat,{paidShowId:null,acceptedPaidShow:!1,initiatedPaidShow:!1,messageStyle:new s.default,privateChatStart:null,initService:function(){this.service=new o.default(chat.localData.directServiceUrl,chat.localData.serviceUrl)},buyTokensPopup:function(){return this.userData.isLogged?"member"!==this.userData.role?(this.addServiceMessage(__("Only members can buy tokens"),"alert"),!1):(e.mobile?e("#buy_tokens").length?e.mobile.changePage("#buy_tokens",{transition:"none"}):location.href=e("#bBuyTokens").attr("href"):e("#bBuyTokens").click(),!1):(this.signupPopup(),!1)},gamesPage:function(){return this.userData.isLogged?"member"!==this.userData.role?(this.addServiceMessage(__("Only members can play the games"),"alert"),!1):(e.mobile&&(e("#chat_games").length&&this.userData.balance?e.mobile.changePage("#chat_games",{transition:"none"}):this.buyTokensPopup()),!1):(this.signupPopup(),!1)},buyVipPopup:function(t){if(!this.userData.isLogged)return this.signupPopup(),!1;if("member"!==this.userData.role)return this.addServiceMessage(__("Only members can become a vip"),"alert"),!1;var n;return n=e(e.mobile?".rel_buy_vip:first a":"#bBuyVip"),t&&n.attr(t)?n.attr("href",a.updateQueryStringParameter(n.attr("href"),"vpop",n.attr(t))):n.attr("href",a.updateQueryStringParameter(n.attr("href"),"vpop",null)),e.mobile?location.href=n.attr("href"):n.click(),!1},signupPopup:function(t,n){return e("#login_or_join_popup").length&&"function"==typeof e.openLoJPopup?(e.openLoJPopup(n),!1):"signup"!==e("#bSignup").attr("rel")?(window.open(e("#bSignup").attr("href")),!1):(e("#member_join_popup").length&&"undefined"!=typeof sv?sv.popup.tasks.open("join_popup",{customData:{isClick:t,spoofId:n}}):e("#bSignup").click(),!1)},tipPopup:function(t){return void 0===t&&(t=!1),this.userData.isLogged?"member"!==this.userData.role?(this.addServiceMessage(__("Tip feature only for premium members"),"alert"),!1):this.userData.isPayable?(e("#bongacams_popup").hasClass("tap_popup")&&e.bongacamsPopupClose(!1,function(){v.isRTLCulture&&e("#bongacams_popup").css({right:"auto"}),e("#bongacams_popup").removeClass("tap_popup"),e("#stream-container").removeClass("__overlay")}),t?e("#bTipModelFromMiniProfile").click():e("#bTipModel").click(),!1):(this.addServiceMessage(__("Tip feature only for premium members")+". "+__("To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!"),"alert"),this.buyTokensPopup(),!1):(t?e.signupEvent.call(this):this.signupPopup(),this.addServiceMessage(__("Tip feature only for premium members"),"alert"),!1)},paidShowPopup:function(t){var n=e("body");if(u.isLiveStreamPromo)return!1;var i=t?"bPaidPopGroup":"bPaidPopPrivate";return e("#"+i).show(),chat.hideInvite(),n.unbind("."+i),setTimeout(function(){e("body").bind("click."+i,function(n){var a=e(n.target);a.is("#"+i)||a.is(".fancybox-close")||e(".fancybox-opened").length||a.parents("#"+i).length||a.parents(t?"#bGotoGroup":"#bGotoPrivate").length||(e("#"+i).hide(),e("body").unbind("."+i))})},0),!1},paidShowDecline:function(t){this.isGroupChatInvited=!1,this.isGroupChatInitialized=!1,this.isGroupChatMembersReady=!1,this.initiatedPaidShow=!1,this.currentChatType="public-chat",this.currentShowType="public",this.paidShowId=null,t&&(this.addServiceMessage(t,"alert"),e(t).length&&e(t).is(".payment_disabled")&&this.buyTokensPopup())},setBalance:function(t){this.userData.balance=t,e(".bTokens").html(e.formatNumber(t));var n=e(".bTokensPlural");n.length&&n.html(a.pluralise("tokens",e.formatNumber(t))),t<.15*e(".bTokens").attr("data-last-purchase")&&m.getFewTokensIm();var i=e("span.notify.tokens_amount");i.length&&i.find("span").html(e.formatNumber(t)),t||"undefined"==typeof sv||sv.popup.tasks.open("no_tokens_manual")},upgradeFreeMember:function(e){this.userData.accessLevel=e,this.userData.isPayable=!0},onPaidShowStart:function(t){switch(this.debug("*** onPaidShowStart","type="+t,"performerStatus="+this.performerStatus),this.currentShowType=t,this.currentChatType="private-chat",this.privateChatStart=(new Date).getTime(),e("#bChat").triggerHandler("onPaidShowStart",t),e("#public-chat").data("history",e("#public-chat .history").html()),e("#public-chat").attr("id",this.currentChatType).find(".history").html(""),t){case"fullprivate":this.addServiceMessage(__("Welcome %username% you have entered to full private chat",{username:this.userData.displayName})+"!","fullprivateChatWelcome");break;case"private":this.addServiceMessage(__("Welcome %username% you have entered to private chat",{username:this.userData.displayName})+"!","privateChatWelcome");break;case"vip":this.addServiceMessage(__("Welcome %username% you have entered to VIP Show",{username:this.userData.displayName})+"!","vipChatWelcome");break;case"group":this.addServiceMessage(__("Welcome %username% you have entered to group chat",{username:this.userData.displayName})+"!","groupChatWelcome");break;case"voyeur":this.disableChatInput(),this.addServiceMessage(__("Welcome %username% you have entered to spy mode",{username:this.userData.displayName})+"!","voyeurWelcome")}},onPaidShowStop:function(t,n){if(this.isPaidShow()){if(this.debug("*** onPaidShowStop","reason="+t,"changeRoom="+n,"performerStatus="+this.performerStatus),"private-chat"===this.currentChatType&&("fullprivate"===this.currentShowType||"private"===this.currentShowType)&&this.privateChatStart){var i=parseFloat(e(".js-tap_popup").data(this.currentShowType+"_tip")),a=((new Date).getTime()-this.privateChatStart)/1e3;if(a>30){var r=a*i;p.default.showForm(r)}}e("#private-chat").attr("id","public-chat"),this.currentChatType="public-chat",this.currentShowType="public",this.paidShowId=null,this.acceptedPaidShow=!1,this.initiatedPaidShow=!1,this.isGroupChatInvited=!1,this.isGroupChatInitialized=!1,this.isGroupChatMembersReady=!1,e("#bChat").triggerHandler("onPaidShowStop",[t,n]),this.enableChatInput(),t&&this.addServiceMessage(__(t,{modelname:this.performerData.displayName}),"alert")}},cancelShowRequest:function(t){var n=e(t).parent(),i=n.data("showRequest");return i.status="cancel",this.service.sendShowRequest(i),n.remove(),!1},onGroupShowResponse:function(t){"decline"===t?(this.isGroupChatInvited=!1,this.isGroupChatInitialized=!1,this.isGroupChatMembersReady=!1):"accept"===t&&this.isGroupChatInvited&&(this.acceptedPaidShow="group",e("#bChat").triggerHandler("onPaidShowAccepted",this.acceptedPaidShow))},onShowRequest:function(t){if(this.debug("--- ShowRequest",t),"cancel"===t.status)return void this.hideInvite(!0);var n="",i=e("#bChatPromt ."+t.type);i.length?i.find(".cp_msg:first"):(i=e('<div class="cp_msg"/>').addClass(t.type),i.data("showRequest",t));var a=t.type;if("fullprivate"===a&&(a="full private"),"accept"===t.status)return i.remove(),this.acceptedPaidShow=t.type,void e("#bChat").triggerHandler("onPaidShowAccepted",this.acceptedPaidShow);if("request"===t.status){if(t.user.isPerformer)return void chat.showInvite();n=__("%modelname% has been notified about your "+a+" chat request",{modelname:this.performerData.displayName})+"!",n+=" "+__("You will be placed into a "+a+" chat as soon as %modelname% accepts your request",{modelname:this.performerData.displayName})+".",n+=" "+__("If your request is denied, we will let you know here")+'! <a id="cancel-show-request" href="javascript:void(0)" onclick="return chat.cancelShowRequest(this)">['+__("Cancel request")+".]</a>"}else"decline"===t.status&&(n=__("%modelname% has declined your "+a+" chat request",{modelname:this.performerData.displayName})+'. <a id="decline-request" href="javascript:void(0)" onclick="return chat.hidePromt(this)">['+__("Hide this prompt")+".]</a>");i.html(n),this.showPromt(i)},onTip:function(e,t,n,i){if(this.performerData){var a="";a="after_show"===i?__("Member %member% gave %model% a tip of %tokens% as a sign of gratitude for the private show.",{member:e.displayName,model:this.performerData.displayName,tokens:'<span class="bc_capitalize">'+t+" "+h.default.pluralise("tokens",t)+"</span>"}):__("%username% tipped %amount% %tokens_plural%!",{username:e.displayName,amount:t,tokens_plural:'<span class="bc_capitalize">'+h.default.pluralise("tokens",t)+"</span>"}),this.addServiceMessage(a,"tip_success",this.currentChatType,{from:e.displayName,amount:t})}},onShowRaise:function(e){var t=__("%member% raised %model% to the 1st position on the main page for 60 seconds!",{member:e,model:this.performerData.displayName});this.addServiceMessage(t,"model_raise")},onTipResult:function(t){var n=this;"success"===t.status?t.amount>=500&&setTimeout(function(){var t=e("#bChat div.history").clone();t.find("p").each(function(){e(this).hasClass("message")||e(this).hasClass("tip_success")||e(this).remove()});var i={history:t.html(),users:e("#bChat div.users").clone().html()};e.post(e("#chatContainer").attr("xnr-screen-url"),b.getCSRFData({performer:n.performerData.userId,data:i}))},3e3):(this.addServiceMessage(t.description,"tip_"+t.status),e(t.description).is(".payment_disabled")&&this.buyTokensPopup())},onVideoStreamLimit:function(t){if(e("#bChat").triggerHandler("onVideoStreamLimit",t),!this.userData.isVideoStreamLimitReached){this.userData.isVideoStreamLimitReached=!0;var n=e("body").hasClass("chatPopupBody"),i=__("You have been reached daily video stream limit");i=this.userData.isLogged?t?this.performerData.displayName+" "+__("shows your cam for premium members only")+'. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)">'+__("Buy some tokens")+"</a> "+__("and your account will be upgraded to GOLD status for life. GOLD members can enjoy unlimited video chat with all of our models")+".":__("You have reached the daily video stream limit allowed to free members")+'. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)">'+__("Buy some tokens")+"</a> "+__("and your account will be upgraded to GOLD status for life. GOLD members can enjoy unlimited video chat with all of our models")+".":t?this.performerData.displayName+" "+__("shows your cam for premium members only")+'. <a href="javascript:void(0)" onclick="return chat.signupPopup(true)">'+__("Sign up for a 100% FREE account")+"</a> "+__("to continue watching")+"!":__("You have reached the daily video stream limit allowed to guests")+'. <a href="javascript:void(0)" '+(n?'onclick="return chat.signupPopup(true)"':'rel="signup"')+">"+__("Sign up for a 100% FREE account")+"</a> "+__("to continue watching")+"!",this.addServiceMessage(i,"alert video_limit_alert")}},onFreeChatMessageLimit:function(t){var n=0===this.localData.dailyMessagesLimit?__("We are sorry but FREE members are temporarily muted by model"):__("You have reached the chat limit allowed to free members");n+='. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)">'+__("Buy some tokens")+"</a> "+__("and begin chatting with your favorite models")+"!",t?this.addMessage('<p class="alert">'+n+"</p>",e("#chatbox_"+t+" .history")):e(".history .guest_chat_alert").length||this.addServiceMessage(n,"alert guest_chat_alert")},onFreeShowState:function(t){this.localData.isFreeShow=t,t&&(e.mobile?(e("#bPrivateLink").hide(),e("#chat_bar_v2").addClass("private_btn_cell_hidden")):(e("#bPaidButtonGroup").removeClass("sv-grid-33 sv-grid-50 hide-first hide-middle"),e("#bGotoPrivate, #bGotoGroup, #bGotoGroup2, #bGotoVoyeur, #bGotoVoyeur2").hide()))},fullPrivateMessageLimit:function(){this.addServiceMessage(__("%modelname% is in full private chat now. Only a user in this model’s private room can communicate with her via chat now. If you still want to send message to %modelname%, you can do it using Message Center, but only if this model gave users permission to send her messages.",{modelname:chat.performerData.displayName}),"alert")},onVideoLayoverClick:function(e){},shareMyCam:function(t){if(!this.userData.isLogged)return this.addServiceMessage(__("Webcam feature only for premium members"),"alert"),this.signupPopup(),!1;if("member"!==this.userData.role)return this.addServiceMessage(__("Webcam feature only for premium members"),"alert"),!1;if(!this.userData.isPayable)return this.addServiceMessage(__("Webcam feature only for premium members")+". "+__("To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!"),"alert"),this.buyTokensPopup(),!1;var n=e("#bShareCamControls"),a=n.find(".on"),r=n.find(".off"),o=e("#member_cam_popup");t?(a.hide(),r.show()):(a.show(),r.hide());var s=e("#chatContainer").data("btn_resize");if(s&&s.btnCam.reinit(),!(o.length&&o.hasClass("is_init")||"function"!=typeof i.default)){var l=new i.default({popupName:"member_cam_popup",camUrl:a.attr("url")+"/"+chat.userData.chathost,ajax:!0});o=e("#member_cam_popup"),o.data("popup",l)}return o.data("popup")&&(t?o.data("popup").openCamPopup():o.data("popup").closeCamPopup()),this.service.shareMyCam(t),!1},gotoPrivateChat:function(e){if(!this.userData.isLogged)return this.addServiceMessage(__("Private chat only for premium members"),"alert"),this.signupPopup(),!1;if("member"!==this.userData.role)return this.addServiceMessage(__("Private chat only for premium members"),"alert"),!1;if(!this.chatSettings.allowPrivateChat)return this.addServiceMessage(__("Private chat is disabled by model"),"alert"),!1;if(this.chatSettings.minTokensForPrivate&&this.userData.balance<this.chatSettings.minTokensForPrivate){var t=__("Model has set the minimum amount of Tokens to invite her to a private chat"),n=__("You need %amount% more Tokens on your account. %a1%Buy more%a2%",{amount:this.chatSettings.minTokensForPrivate-this.userData.balance,a1:"<a href='javascript:void(0)' onclick='return chat.buyTokensPopup(this)'>",a2:"</a>"})+".";this.addServiceMessage(t+".<br/>"+n,"alert")}else if(!this.userData.isPayable)return this.addServiceMessage(__("Private chat only for premium members")+". "+__("To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!"),"alert"),this.buyTokensPopup(),!1;return!(!this.userData.isLogged||this.isPaidShow()||!this.chatSettings.allowPrivateChat||"private"===this.performerStatus||"fullprivate"===this.performerStatus||"group"===this.performerStatus)&&(this.checkMemberJoinPaidChat(e?"fullprivate":"private")&&this.service.gotoPrivateChat(e),!1)},gotoGroupChat:function(){return this.userData.isLogged?"member"!==this.userData.role?(this.addServiceMessage(__("Group chat only for premium members"),"alert"),!1):this.chatSettings.allowGroupChat?this.userData.isPayable?!(!this.userData.isLogged||this.isPaidShow()||this.isGroupChatInvited||!this.chatSettings.allowGroupChat||"private"===this.performerStatus)&&(e(".acceptGroupChat").remove(),this.checkMemberJoinPaidChat("group")&&this.service.gotoGroupChat(),!1):(this.addServiceMessage(__("Group chat only for premium members")+". "+__("To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!"),"alert"),this.buyTokensPopup(),!1):(this.addServiceMessage(__("Group chat is disabled by model"),"alert"),!1):(this.addServiceMessage(__("Group chat only for premium members"),"alert"),this.signupPopup(),!1)},gotoVoyeur:function(){return this.userData.isLogged?"member"!==this.userData.role?(this.addServiceMessage(__("Spy show feature only for premium members"),"alert"),!1):this.userData.isPayable?!(!this.userData.isLogged||this.isPaidShow()||"private"!==this.performerStatus)&&(this.checkMemberJoinPaidChat("voyeur")&&(this.service.gotoVoyeur(),e("#bPaidButtonGroup").removeClass("sv-grid-33 sv-grid-50 hide-first hide-middle").addClass("sv-grid-50 hide-first")),!1):(this.addServiceMessage(__("Spy show feature only for premium members")+". "+__("To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!"),"alert"),this.buyTokensPopup(),!1):(this.addServiceMessage(__("Spy show feature only for premium members"),"alert"),this.signupPopup(),!1)},showInvite:function(){if(y&&"none"!==this.userData.privateChatInvitationSettings){if("friends"===this.userData.privateChatInvitationSettings){if(void 0===e.activeFriendIds)return void f.getActiveFriendIds(chat.showInvite);if(!this.isFriend(this.performerData))return}e("#stream-layer").hasClass("zmax")?r.default.instance.track("show"):(e("#bPaidPopPrivate, #bPaidPopGroup").hide(),r.default.instance.show())}},hideInvite:function(t){void 0===t&&(t=!1),y&&e("#bInvitePopup").is(":visible")&&(t?r.default.instance.hide("cancel"):r.default.instance.hide())},acceptInvite:function(){if(!this.userData.isLogged||this.isPaidShow()||!this.chatSettings.allowPrivateChat||"private"===this.performerStatus||"fullprivate"===this.performerStatus||"group"===this.performerStatus)return!1;this.checkMemberJoinPaidChat("private")&&(this.acceptedPaidShow="private",this.service.acceptPrivateChat())},declineInvite:function(){this.service.sendShowRequest({type:"private",status:"cancel"})},stopPaidShow:function(e){this.debug("*** stopPaidShow",e),this.service.stopPaidShow(e)},removeAcceptGroupChat:function(){this.debug("removeAcceptGroupChat"),this.service.removeAcceptGroupChat()},checkMemberJoinPaidChat:function(e){if(this.isGroupChatInitialized&&"group"===e&&("offline"===this.performerStatus||"away"===this.performerStatus))return this.addServiceMessage(__("We are sorry, but %modelname% is unavailable for group show",{modelname:chat.performerData.displayName})+".","alert"),!1;if(this.userData.isPaymentsDisabled)return this.addServiceMessage(__("We are sorry, but your spendings has been temporarily suspended")+'. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)" class="payment_disabled">'+__("Click to more details")+".</a>","alert"),!1;var t=(e.charAt(0).toUpperCase(),e.slice(1),!1),n=0,i="",a="",r="";return"group"===e?(t=this.userData.balance/this.localData.groupChatTokensPerMinute>=.5,n=this.localData.groupChatTokensPerMinute,i=__("We are sorry, but you do not have enough tokens for a group chat"),a=__("You need enough tokens for at least 30 seconds of chat"),r=__("Group chat costs %price% tokens per minute",{price:n})):"private"===e?(t=this.userData.balance/this.localData.privateChatTokensPerMinute>=.5,n=this.localData.privateChatTokensPerMinute,i=__("We are sorry, but you do not have enough tokens for a private chat"),a=__("You need enough tokens for at least 30 seconds of chat"),r=__("Private chat costs %price% tokens per minute",{price:n})):"fullprivate"===e?(t=this.userData.balance/this.localData.fullPrivateChatTokensPerMinute>=.5,n=this.localData.fullPrivateChatTokensPerMinute,i=__("We are sorry, but you do not have enough tokens for a full private chat"),a=__("You need enough tokens for at least 30 seconds of chat"),r=__("Full Private chat costs %price% tokens per minute",{price:n})):"voyeur"===e&&(t=this.userData.balance/this.localData.voyeurShowTokensPerMinute>=.5,n=this.localData.voyeurShowTokensPerMinute,i=__("We are sorry, but you do not have enough tokens for a spy this show"),a=__("You need enough tokens for at least 30 seconds of show"),r=__("Spy show costs %price% tokens per minute",{price:n})),t||this.addServiceMessage(i+".<br/>"+a+".<br/>"+r+" <a href='javascript:void(0)' onclick='return chat.buyTokensPopup(this)'>"+__("Click here to buy more")+"!</a>","alert"),t},sendPM:function(t){void 0===t&&(t=!1);var n=function(){var t=e("#bChat .sendInput").attr("value");return""!==t?(e.openDialogWithUser(chat.performerData.username,t),e("#bChat .sendInput").val("")):e.openDialogWithUser(chat.performerData.username),!1};if(this.userData.isLogged&&(this.isPremiumMember(this.userData,!0)||"moderator"===this.userData.role))return n();if(!this.userData.isLogged)return this.addServiceMessage(__("Private messaging only for premium members"),"alert"),t?e.signupEvent.call(this):this.signupPopup(),!1;if("member"===this.userData.role&&!this.userData.isPayable)return this.addServiceMessage(__("Private messaging only for premium members")+". "+__("To become a premium (GOLD) member for life and unlock this feature, all you have to do is buy any amount of tokens one time!"),"alert"),this.buyTokensPopup(),!1;if("member"!==this.userData.role)return this.addServiceMessage(__("Only members can private messaging"),"alert"),!1;if(this.chatSettings.privateMessageSettings)if("all"===this.chatSettings.privateMessageSettings){if(this.userData.balance<this.chatSettings.privateMessageMinTokens)return this.addServiceMessage(__("Private messaging required more tokens on your account"),"alert"),!1}else{if("disabled"===this.chatSettings.privateMessageSettings)return this.addServiceMessage(__("Private messaging is disabled by model"),"alert"),!1;if("friends"===this.chatSettings.privateMessageSettings){var i=function(){return chat.isFriend(chat.performerData)?chat.userData.balance<chat.chatSettings.privateMessageMinTokens?(chat.addServiceMessage(__("Private messaging required more tokens on your account"),"alert"),!1):n():(chat.addServiceMessage(__("Only friends can private messaging"),"alert"),!1)};return void 0===e.activeFriendIds?(f.getActiveFriendIds(i),!1):i()}}return n()},addPerformerFriend:function(){return this.userData.userId?(e("#TopMenuAddFriend").hide(),e("#context_menu_"+this.performerData.username).find("li.friend").remove(),this.addFriend(this.performerData),!1):(this.signupPopup(),!1)},tipModel:function(e,t){return this.debug("tipModel",e),"fullprivate"!==this.performerStatus||this.isPaidShow()?(this.service.tipModel(e,t),!1):(this.addServiceMessage(__("%modelname% is in full private chat. Only a user in this model’s private room can tip via chat now. If you still want to tip %modelname%, please, use Message Center.",{modelname:chat.performerData.displayName}),"alert"),!1)},setChatMessageStyle:function(e){return this.userData.isLogged&&(this.isPremiumMember(this.userData,!0)||this.userData.isVip)?(this.userData.messageStyle=e,this.service.setChatMessageStyle(e)):this.addServiceMessage(__("Become a PLATINUM member for change your font style"),"alert"),!1},toggleFullscreen:function(t){if(!t||this.userData.isLogged&&!1!==this.localData.canEnlargeVideo)return t?(c.BrowserDetect.isSafari_MacOS()&&l.isFullscreenSupported()&&(document.documentElement.style.margin="-100000px",setTimeout(function(){return document.documentElement.style.margin=""},1e3)),l.setFullscreenMode(!0),e("body").addClass("chatFullscreen")):(l.setFullscreenMode(!1).catch(d.noop),e("body").removeClass("chatFullscreen")),!0},showGameHitMessage:function(e){this.gameControls.addChatGameHitMessage(e)}}),e(function(){if(l.isFullscreenSupported()&&e(document).on(l.getFullscreenAPI().fullscreenchange,function(t){l.isFullscreenMode()||(e("body").removeClass("chatFullscreen"),e(".stream-fullscreen").removeClass("on"),e(".pl-fullscreen-button").removeClass("on"))}),e("#bChat").bind("onPerformerStatusChange",function(t){var n=chat.performerStatus;if(u.isLiveStreamPromo&&-1===["online","public"].indexOf(n))return void chat.loadNextRoom(!0);switch(u.isLiveStreamPromo&&a.isInIframe()&&window.parent.postMessage(JSON.stringify({type:"modelchange",data:{avatarUrl:chat.buildAvatarUrl(chat.performerData).replace("avatars","thumb_big"),username:chat.performerData.username}}),"*"),e("#bPaidButtonGroup").removeClass("sv-grid-33 sv-grid-50 hide-first hide-middle"),e("#bSignup2, #bBuyVip2").hide(),e("#layover-logo").removeClassWild("wm_status_*").addClass("wm_status_"+n),n){case"online":case"public":case"away":chat.localData.isFreeShow?(e("#bCamStatus").find("p:first").html(__("%modelname% is in a public chat",{modelname:""})),e("#bGotoPrivate, #bGotoGroup, #bGotoGroup2, #bGotoVoyeur, #bGotoVoyeur2").hide()):(e("#bCamStatus").find("p:first").html(__("%modelname% is in a public chat",{modelname:""})),e("#bGotoGroup").show(),e("#bPaidButtonGroup").addClass("sv-grid-33"),e("#bGotoPrivate, #bTip").show(),e("#bGotoVoyeur, #bGotoVoyeur2, #bGotoGroup2").hide());break;case"fullprivate":case"private":var i=n;if(chat.acceptedPaidShow)e("#bPaidButtonGroup").addClass("sv-grid-50 two-btn hide-first");else{"fullprivate"===n?i="full private":e("#bGotoVoyeur2").show();var r=(new Date).format("H:i:s")+" "+__("%username% has joined the "+i+" chat",{username:"<strong>"+chat.performerData.displayName+"</strong>"})+".";"private"===n&&"moderator"!==chat.userData.role&&(r+=" "+__("You can spy for this show")+', <a href="javascript:void(0)" onclick="return chat.gotoVoyeur()">'+__("click here")+"!</a>"),chat.addServiceMessage(r,"service")}e("#bCamStatus p:first").html(__("%modelname% is in a "+i+" chat",{modelname:'<strong class="online">'+chat.performerData.displayName+"</strong>"})),e("#bGotoPrivate, #bGotoGroup, #bGotoGroup2").hide();break;case"vip":if(!chat.acceptedPaidShow){var r=(new Date).format("H:i:s")+" "+__("%username% has joined the "+n+" chat",{username:"<strong>"+chat.performerData.displayName+"</strong>"})+".";chat.addServiceMessage(r,"service")}e("#bCamStatus p:first").html(__("%modelname% is in a "+n+" chat",{modelname:'<strong class="online">'+chat.performerData.displayName+"</strong>"})),e("#bGotoPrivate, #bGotoGroup, #bGotoGroup2, #bGotoVoyeur, #bGotoVoyeur2").hide(),chat.userData.isVip||e("#bBuyVip2").show();break;case"group":if(chat.isGroupChatInvited)e("#bPaidButtonGroup").addClass("sv-grid-50 hide-first");else{var r=(new Date).format("H:i:s")+" "+__("%username% has joined the group chat",{username:"<strong>"+chat.performerData.displayName+"</strong>"})+".";"moderator"!==chat.userData.role&&(r+=" "+__("To join group chat now")+', <a href="javascript:void(0)" onclick="return chat.gotoGroupChat()">'+__("click here")+"!</a>",e("#bGotoGroup2").show()),chat.addServiceMessage(r,"service")}var o=__("%modelname% is in a group chat",{modelname:'<strong class="online">'+chat.performerData.displayName+"</strong>"});e("#bCamStatus p:first").html(o),e("#bGotoPrivate, #bGotoVoyeur, #bGotoVoyeur2, #bGotoGroup").hide();break;case"offline":e("#bGotoPrivate, #bGotoGroup, #bGotoGroup2, #bGotoVoyeur, #bGotoVoyeur2").hide();var o=__("%modelname% is offline",{modelname:'<strong class="online">'+chat.performerData.displayName+"</strong>"});e("#bCamStatus p:first").html(o),chat.hideInvite(!0)}chat.gameControls.onPerformerStatusChange(n)}),e("#bChat").bind("onRoomClose",function(e){chat.hideInvite()}),e.isFullMobile&&e("#bShareCamControls").hide(),!e.mobile){var t=function(){window.innerWidth<=1440?e("#chatContainer").removeClass("cc_medium").addClass("cc_small"):window.innerWidth<=1680?e("#chatContainer").removeClass("cc_small").addClass("cc_medium"):e("#chatContainer").removeClass("cc_small cc_medium")},n=function(t){t=t||e("#bChat"),e(".users",t).hide(),e(".usersCount",t).hide(),e("#bUserListShow").show(),chat.service.showUserList(!1),e.isFunction(e.adjustHeaderAndFooterWidth)&&e.adjustHeaderAndFooterWidth()},i=function(t){t=t||e("#bChat"),e("#bUserListShow").hide(),e(".users",t).show(),e(".usersCount",t).show(),chat.service.showUserList(!0),e.isFunction(e.adjustHeaderAndFooterWidth)&&e.adjustHeaderAndFooterWidth()},o=function(t){t=t||e("#bChat"),e(".games",t).show(),e.isFunction(e.adjustHeaderAndFooterWidth)&&e.adjustHeaderAndFooterWidth()},s=function(t){t=t||e("#bChat"),e(".games",t).hide(),e.isFunction(e.adjustHeaderAndFooterWidth)&&e.adjustHeaderAndFooterWidth()},c=0;e(window).bind("resize",function(){c&&clearTimeout(c),c=window.setTimeout(function(){t()},200)}),t();var d=!1,h=0,p=0;e(window).bind("keydown",function(t){p=e(".fancybox-opened").length,91!==t.keyCode&&92!==t.keyCode||(d=!0)}),e(window).bind("keyup",function(t){d||e(t.target).is("input, textarea")||0!==p||0!==e(".fancybox-opened").length||"visible"!==chat.visibility||(39!==t.keyCode||u.isLiveStreamPromo?37!==t.keyCode||u.isLiveStreamPromo||chat.prevRoom():chat.nextRoom()),91!==t.keyCode&&92!==t.keyCode||(clearTimeout(h),h=window.setTimeout(function(){d=!1},100))}),e("#bChat").bind("onUserData",function(e){chat.messageStyle.onceInitAndSetDefaults(chat.userData.messageStyle),y&&(chat.hideInvite(),r.default.instance.init({inviteText:__("%modelname% invites you to Private Chat!",{modelname:"<span>"+chat.performerData.displayName+"</span><br/>"}),avatarUrl:chat.buildAvatarUrl(chat.performerData).replace("avatars","avatar100x100"),displayName:chat.performerData.displayName}))}),e("#bCamControlsHide").click(function(){e(".cam-column").attr("id","bCamHidden"),e("#bCamControlsShow").show()}),e("#bCamControlsShow").click(function(){e(this).hide(),e("#bCamHidden").length&&e(".cam-column").removeAttr("id")}),e("#bUserListHide").click(function(){n()}),e("#bUserListShow").click(function(){i()}),e("#bGotoPrivate").bind("click",function(){chat.paidShowPopup()}),e("#bPaidButtonTopRow #bGotoGroup").bind("click",function(){chat.paidShowPopup(!0)}),e(".paidPopForm label").click(function(){e(".selected",e(this).parents(".paidPopForm")).removeClass("selected"),e(this).addClass("selected")}),e(".paidPopForm .paid-pop-what").click(function(t){return e.fancybox.open(e(this),{padding:0,autoSize:!1,type:"ajax",wrapCSS:"fancybox-bonga-wrap",openSpeed:100,closeSpeed:100,helpers:{overlay:{locked:!1}}}),t.stopPropagation(),!1}),e("#bPaidPopContainer .close").click(function(){var t=e(this).parent();t.hide(),e("body").unbind("."+t.attr("id"))}),e("#bPaidPopContainer button").click(function(){var t=e(this).parents(".paid-pop:first");switch(e(".selected",t).attr("value")){case"private":chat.gotoPrivateChat();break;case"group":chat.gotoGroupChat();break;case"fullprivate":chat.gotoPrivateChat(!0)}t.hide(),e("body").unbind("."+t.attr("id"))}),e(".chat_tabs_container .mls_tabs a").bind("click",function(){var t=e(this).parent(),a=t.closest(".chat-tab");t.is(".tab_history")&&!t.hasClass("selected")&&(n(a),s(a),e(".historyContainerCell",a).removeClass("hidden"),e(".chat_tabs_container li",a).removeClass("selected"),t.addClass("selected")),t.is(".tab_users")&&!t.hasClass("selected")&&(i(a),s(a),e(".historyContainerCell",a).addClass("hidden"),e(".chat_tabs_container li",a).removeClass("selected"),t.addClass("selected")),t.is(".tab_games")&&!t.hasClass("selected")&&(n(a),o(a),e(".historyContainerCell",a).addClass("hidden"),e(".chat_tabs_container li",a).removeClass("selected"),t.addClass("selected"))}),e("#mnw").click(function(){var t=e(this).closest("#bModelNavigator").find(".navigatorHint"),n=t.find(".corner");e(document).off(".navigatorHint"),t.is(":visible")?(t.hide(),t.css("bottom","")):(t.show(),t.offset().top+t.outerHeight(!0)>e(window).scrollTop()+e(window).height()?(t.css("bottom","33px"),n.removeClass("top"),n.addClass("bot")):(n.removeClass("bot"),n.addClass("top")),setTimeout(function(){e(document).on("click.navigatorHint",function(){t.hide(),t.css("bottom",""),e(document).off(".navigatorHint")})},1))}),e("#bModelNavigator").find(".navigatorHint .inner").click(function(t){e(t.target).hasClass("closeBtn")||t.stopPropagation()}),e(document).on("click",".closeBtn",function(){var t=e(this).closest(".smilePanel");t.length&&t.hide()})}g.default.instance.add([{name:g.default.FIRST_PLACE,volume:1}],"chat")})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){e.fn.removeClassWild=function(e){return this.removeClass(function(t,n){var i=e.replace(/\*/g,"\\S+");return(n.match(new RegExp("\\b"+i,"g"))||[]).join(" ")})}}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(e){this.params={},this.multiple=!1,this.$camPopup=null,this.$camPopupInner=null,this.camUrl="",this.ajax=!1,this.params=e,this.multiple=void 0!==this.params.multiple&&Boolean(this.params.multiple),void 0!==this.params.camUrl&&this.initPopup()}return t.prototype.initPopup=function(){var t=this,n="cam";e("#"+n).remove(),void 0!==t.params.popupName?n=t.params.popupName:t.params.popupName=n,t.$camPopup=e("#cam_template").clone().removeAttr("id").attr("id",n).appendTo("body"),t.$camPopupInner=t.$camPopup.find(".popup_inner"),t.camUrl=t.params.camUrl,t.ajax=t.params.ajax||!1,void 0!==t.params.popupTitle&&t.$camPopup.find(".popup_title").html(t.params.popupTitle),t.$camPopup.hasClass("is_init")||(t._attachHandlers(),t.$camPopup.addClass("is_init"))},t.prototype.destroyPopup=function(){},t.prototype._attachHandlers=function(){var t=this,n=null;t.$camPopup.draggable({containment:"document",cursor:"move",cancel:".popup_inner",start:function(){t.$camPopup.find(".layer").show(),t.multiple&&!t.$camPopup.hasClass("active")&&t.makeCamPopipIsActive()},stop:function(){t.$camPopup.find(".layer").hide()}}).resizable({minWidth:320,minHeight:270,ghost:!0,aspectRatio:4/3.375,resize:function(){t.resizeCam()},stop:function(){t.$camPopup.find(".layer").hide(),t.resizeCam(),t.fixHeight(),t.fixBottomPosition(),t.fixRightPosition()}}),t.multiple&&t.$camPopup.click(function(){t.$camPopup.hasClass("active")||e.proxy(t.makeCamPopipIsActive(),t)}),e(window).on("resize."+t.params.popupName,function(){t.$camPopup.hasClass("is_opened")&&(n&&clearTimeout(n),n=setTimeout(function(){e(window).width()<t.$camPopup.offset().left+t.$camPopup.outerWidth(!0)&&(t.fixHeight(),t.fixRightPosition(),t.fixBottomPosition()),n=null},200))}),t.$camPopup.find(".ui-resizable-e, .ui-resizable-s, .ui-resizable-se").mousedown(function(){t.$camPopup.find(".layer").show()}).mouseup(function(){t.$camPopup.find(".layer").hide()}),t.$camPopup.find(".collapse").click(function(){t.$camPopup.hasClass("collapsed")?(t.$camPopup.removeClass("collapsed"),t.fixHeight(),t.fixRightPosition(),t.fixBottomPosition()):t.$camPopup.addClass("collapsed")}),t.$camPopup.find(".expand").click(function(){if(t.$camPopup.hasClass("collapsed"))t.$camPopupInner.show(),t.$camPopup.removeClass("collapsed"),t.resizeCam(),t.fixBottomPosition();else{if(e(window).height()!==t.$camPopup.outerHeight(!0))t.$camPopup.attr("old_height",t.$camPopup.height()),t.$camPopup.height(e(window).height()-10),t.resizeCam(!0),t.$camPopup.offset().top>e(window).scrollTop()&&t.fixTopPosition();else{var n=t.$camPopup.attr("old_height")?t.$camPopup.attr("old_height"):parseInt(t.$camPopup.css("height"));t.$camPopup.height(n),t.resizeCam(!0),e(window).height()<t.$camPopup.outerHeight(!0)?t.fixTopPosition():t.$camPopup.css("top",e(window).scrollTop()+e(window).height()/2-t.$camPopup.outerHeight(!0)/2),t.fixRightPosition(),t.$camPopup.removeAttr("old_height")}t.$camPopup.css("left",e(window).width()/2-t.$camPopup.outerWidth(!0)/2)}}),t.$camPopup.find(".close").click(function(){"function"==typeof chat.shareMyCam?chat.shareMyCam(!1):t.closeCamPopup()})},t.prototype.makeCamPopipIsActive=function(){e(".member_cam_popup").removeClass("active").find(".layer").show(),this.$camPopup.addClass("active").find(".layer").hide()},t.prototype.openCamPopup=function(){if(this.ajax){var t=this;e.get(this.camUrl,function(n){e(n).appendTo(t.$camPopupInner)})}else this.$camPopupInner.find("iframe").length||e('<iframe scrolling="no" frameborder="0"/>').attr("src",this.camUrl).appendTo(this.$camPopupInner);this.$camPopup.show(),this.$camPopup.addClass("is_opened"),this.multiple&&this.makeCamPopipIsActive()},t.prototype.closeCamPopup=function(){this.multiple?(this.$camPopup.off(),this.$camPopup.children().off(),e(window).off("resize."+this.params.popupName),this.$camPopup.remove(),this.destroyPopup()):(this.$camPopup.attr("style","").removeClass("collapsed").hide().find(".popup_inner").empty().attr("style","").end().find(".layer").hide(),this.$camPopup.removeClass("is_opened"))},t.prototype.resizeCam=function(e){if(e){var t=4*(this.$camPopup.height()-30)/3;this.$camPopup.width(t)}var n=3*this.$camPopup.width()/4;this.$camPopupInner.height(n),this.$camPopup.height(n+30)},t.prototype.fixTopPosition=function(){var t=this.$camPopup.offset().top+this.$camPopup.outerHeight(!0)-(e(window).scrollTop()+e(window).height());if(t>0){var n=parseInt(this.$camPopup.css("top"))-t;this.$camPopup.css("top",n>0?n:0),this.resizeCam()}},t.prototype.fixRightPosition=function(){var t=this.$camPopup.offset().left+this.$camPopup.outerWidth(!0)-e(window).width();if(t>0){var n=parseInt(this.$camPopup.css("left"))-t;this.$camPopup.css("left",n>0?n:0)}},t.prototype.fixBottomPosition=function(){var t=this.$camPopup.offset().top+this.$camPopup.outerHeight(!0)-e("body").height();if(t>0){var n=parseInt(this.$camPopup.css("top"))-t;this.$camPopup.css("top",n>0?n:0)}},t.prototype.fixHeight=function(){this.$camPopup.outerHeight(!0)>e(window).height()&&(this.$camPopup.height(e(window).height()-10),this.resizeCam(!0),this.fixTopPosition())},t}();t.default=n}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.template=null,this.track_params=null,this.timer=0,this.template=e("#bInvitePopup").clone().html(),this.track_params={csiid:e("#bInvitePopup").data("id"),source:e("#bInvitePopup").data("source")},e(document).on("click","#bInvitePopup .invite-action button",function(){t.hide("click")}),e(document).on("click","#bInvitePopup .close",function(){t.hide("close")})}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),t.prototype.init=function(t){var n=this.template.replace(/{(\w*)}/g,function(e,n){return t.hasOwnProperty(n)?t[n]:""});e("#bInvitePopup").html(n)},t.prototype.show=function(){var t=this;this.track("show"),this.timer=window.setTimeout(function(){t.hide("ignore")},6e4),e("#bInvitePopup").show()},t.prototype.hide=function(t){void 0===t&&(t="ignore"),clearTimeout(this.timer),"ignore"!==t&&"cancel"!==t&&this.track(t),e("#bInvitePopup").hide(),chat.debug("InvitePopup:hide",t),"click"===t?chat.acceptInvite():"cancel"!==t&&chat.declineInvite()},t.prototype.track=function(t){var n=this.track_params;n.act=t,e.get("/tools/track.php",n)},t}();t.default=n}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(51),r=n(401),o=n(473),s=n(477),l=n(7),c=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.isBgAllowed=!1,e.isEliteFontColors=!1,e}return i(n,t),n.prototype.init=function(){var n=this;t.prototype.init.call(this),this.$bgInput=e("#my_bg_message"),this.isBgAllowed=this.$bgInput.length&&(window.chat.isEliteMember(window.chat.userData)||window.chat.userData.isVip),this.isEliteFontColors=window.chat.isEliteMember(window.chat.userData)||window.chat.userData.isVip,this.$colorContainer=this.$tooltip.find(".color_box"),this.$bgContainer=this.$tooltip.find(".bg_box"),this.$colorPreview=this.$tooltip.find(".cb_box"),this.isBgAllowed&&(this.$fillPreview=this.$tooltip.find(".msp_preview")),this.$tooltip.find(".style_state").on("custom_change",function(){n.changeState(e(this).attr("name"),e(this).val())}),e(document).on("click",".msp_what_link",function(t){e(t.target).is(".msp_what_close")||(e(".msp_what_popover").show(),e(document).off(".msp_what").on("click.msp_what",function(t){var n=t.target;e(n).closest(".msp_what_popover").length||(e(".msp_what_popover").hide(),e(document).off(".msp_what"))}).on("click.msp_what",".msp_what_close",function(){e(".msp_what_popover").hide(),e(document).off(".msp_what")}))})},n.prototype.isDefaultValues=function(){var e=t.prototype.isDefaultValues.call(this);return this.isBgAllowed&&(e=e&&this.$bgInput.attr("data-default")===this.$bgInput.val()),e},n.prototype.assignInitValues=function(){t.prototype.assignInitValues.call(this),this.isBgAllowed&&(this.initBg=this.$bgInput.val())},n.prototype.resetDefaults=function(){t.prototype.resetDefaults.call(this),this.isBgAllowed&&this.$bgInput.val(this.$bgInput.attr("data-default")||this.state.bg),this.fillPreview()},n.prototype.setState=function(e){t.prototype.setState.call(this,e),this.isBgAllowed&&(this.state.bg=e&&e.bg||this.$bgInput.val()),this.fillPreview()},n.prototype.getState=function(){return!this.isBgAllowed&&this.state.bg&&delete this.state.bg,this.state},n.prototype.changeState=function(e,n){t.prototype.changeState.call(this,e,n),this.fillPreview()},n.prototype.allowHideTooltip=function(e){return!e.closest("#ChangeFontFormTooltip").length&&(!(e.is(".fontButton")&&!e.is(".isOpenTooltip"))||(e.addClass("isOpenTooltip"),!1))},n.prototype.getTooltipOffset=function(){return l.isRTLCulture?[-5,this.$tooltip.outerWidth()+10]:[-5,20]},n.prototype.setMessageStyle=function(e){var n=this;if(this.$tooltip.length){if(t.prototype.setMessageStyle.call(this,e),e&&this.isBgAllowed){var i=this.$bgInput;e.bg&&i.length&&i.val(e.bg)}this.isDefaultValues()||this.showResetBtn(),this.assignInitValues(),this.setState(e),this.colorContainer=new o.ColorContainer(this.$colorContainer[0],this.state.color,function(e){n.onSubmit(n.$fontColorInput,e)}),this.colorContainer.init(this.isEliteFontColors),this.isBgAllowed&&(this.bgContainer=new s.BgContainer(this.$bgContainer[0],this.state.bg,function(e){n.onSubmit(n.$bgInput,e)}),this.bgContainer.init())}},n.prototype.isAllowedEnableSubmitBtn=function(){var e=t.prototype.isAllowedEnableSubmitBtn.call(this);return this.isBgAllowed&&(e=e||this.initBg!==(this.state.bg||this.$bgInput.val())),e},n.prototype.onSubmit=function(e,t){e.val(t),e.trigger("change")},n.prototype.closeTooltip=function(){this.closePopovers(),t.prototype.closeTooltip.call(this)},n.prototype.closePopovers=function(){this.colorContainer&&this.colorContainer.popoverWidget.closePopover(),this.bgContainer&&this.bgContainer.popoverWidget.closePopover()},n.prototype.fillPreview=function(){if(this.$colorPreview.css("background",this.state.color),this.isBgAllowed&&this.$fillPreview.length){var e={backgroundColor:"",color:this.state.color,fontFamily:this.state.fontFamily,fontSize:this.state.fontSize};this.$fillPreview.attr("bg")&&!a.isHexColor(this.$fillPreview.attr("bg"))&&this.$fillPreview.removeClass("pt_"+this.$fillPreview.attr("bg")),a.isHexColor(this.state.bg)?e.backgroundColor=this.state.bg:(this.$fillPreview.addClass("pt_"+this.state.bg),this.$fillPreview.attr("bg",this.state.bg)),this.$fillPreview.css(e)}},n}(r.AbstractMessageStyle);t.default=c}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(474),a=n(371),r=n(372),o=function(){function e(e,t,n){this.wrapper=e,this.colorBox=this.wrapper.querySelector(".cb_box"),this.popover=this.wrapper.querySelector(".style_popover"),this.popoverSlider=this.wrapper.querySelector(".preset_slider"),this.popoverPicker=this.wrapper.querySelector(".preset_palette"),this.defaultPreset=t,this.onSubmit=n}return e.prototype.isAllowedColorPicker=function(){return this.popoverPicker&&window.chat&&(window.chat.isEliteMember(window.chat.userData)||window.chat.userData.isVip)},e.prototype.init=function(e){this.colorBox&&this.popover&&(this.popoverWidget=new a.PopoverBox(this.colorBox,this.popover,this.onSubmit),this.popoverWidget.setWidget(new i.ColorSlider(this.popoverSlider,this.popoverSlider.getAttribute("data-hs_item_class"),this.defaultPreset,e)),this.isAllowedColorPicker()&&this.popoverWidget.setWidget(new r.ColorPicker(this.popoverPicker,this.defaultPreset,this.popover)))},e}();t.ColorContainer=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(207),r=n(51),o=n(370),s=n(475),l=function(e){function t(t,n,i,a){var r=e.call(this,t,n,i)||this;return r.submitPreset=function(e){r.container.submitPopover(e)},r.useEliteFontColorsCollection=a,r}return i(t,e),t.prototype.init=function(){var e=this,t="";(this.useEliteFontColorsCollection?s.default.elite:s.default.premium).forEach(function(n){var i="pts_preset";r.isHexColor(n)&&"#ffffff"===n&&(i+=" brd"),t+='<div class="'+e.itemsClass+'"><div class="'+i+'" style="background: '+n+'" data-preset="'+n+'"></div></div>'}),this.element.innerHTML=t,this.element.addEventListener("click",this.onClickSlider),a.initSliderSingle(this.element,window.chat&&(window.chat.isEliteMember(window.chat.userData)||window.chat.userData.isVip)?9:11),this.setDefault()},t}(o.PresetSlider);t.ColorSlider=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["#a7a7a7","#fed6aa","#7ce974","#fefe53","#a9d7fe","#fe7739","#909033","#fffead","#cbcbcb","#fea8d6","#fea640","#919191","#e82b4e","#91228e","#a64c78","#41fffe","#7a7aa6","#537dfd","#53d7d5","#8f1f23","#2b2be2","#a7d645","#fed549","#4b4b4b","#a64a29","#e838e7","#1e1e1e","#d7ffff","#3dd7fe","#4ea77b","#4e4ea5","#2a9190","#24248e","#24912f","#4b4b21"],a=["#d0649a","#ff99cc","#ffff99","#ccffff","#99ccff","#00ccff","#ffcc00","#ff9900","#ffcc99","#000000","#ffffff"];t.default={premium:i,elite:a}},function(e,t,n){"use strict";function i(e,t,n,i){if(!Object.prototype.hasOwnProperty.call(e,"data-colorpicker")){var a=new s(e,t,n,i);Object.defineProperty(e,"data-colorpicker",{get:function(){return a},configurable:!0})}}function a(e,t){if(r.isHexColor(t)&&Object.prototype.hasOwnProperty.call(e,"data-colorpicker")){e["data-colorpicker"].changeCurrentColor(t)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(51),o=n(2),s=function(){function e(e,t,n,i){var a=this;this.mouseDragHueLine=function(e){a.calculateHue(e),a.changePickerBox(),a.displayResult()},this.mouseDragPickerBox=function(e){a.calculateSV(e),a.displayResult()},this.el=e,this.output=t,this.selectCallback="function"==typeof i?i:function(){},this.el.classList.add("cp_palette"),this.output.classList.add("cp_palette_output"),this.state={hue:0,saturation:0,value:100},e.innerHTML='<div class="cp_picker_box"><div class="cp_picker_cursor"></div></div><div class="cp_hue_box"><div class="cp_hue_line"><div class="cp_hue_cursor"></div></div></div>',t.innerHTML='<div class="cp_color_text"></div><div class="cp_color_box"></div>',this.pickerBox=e.querySelector(".cp_picker_box"),this.pickerCursor=e.querySelector(".cp_picker_cursor"),this.hueBox=e.querySelector(".cp_hue_box"),this.hueLine=e.querySelector(".cp_hue_line"),this.hueCursor=e.querySelector(".cp_hue_cursor"),this.colorBox=t.querySelector(".cp_color_box"),this.colorText=t.querySelector(".cp_color_text"),this.boxCursorWidth=this.pickerCursor.offsetWidth,this.boxCursorHeight=this.pickerCursor.offsetHeight,n&&r.isHexColor(n)?this.changeCurrentColor(n):this.displayResult(),this.hueBox.addEventListener("click",this.mouseDragHueLine),this.hueBox.addEventListener("mousedown",function(){a.hueBox.addEventListener("mousemove",a.mouseDragHueLine)}),this.hueBox.addEventListener("mouseup",function(){a.hueBox.removeEventListener("mousemove",a.mouseDragHueLine)}),this.hueBox.addEventListener("mouseleave",function(){a.hueBox.removeEventListener("mousemove",a.mouseDragHueLine)}),this.pickerBox.addEventListener("click",this.mouseDragPickerBox),this.pickerBox.addEventListener("mousedown",function(){a.pickerBox.addEventListener("mousemove",a.mouseDragPickerBox)}),this.pickerBox.addEventListener("mouseup",function(){a.pickerBox.removeEventListener("mousemove",a.mouseDragPickerBox)}),this.pickerBox.addEventListener("mouseleave",function(){a.pickerBox.removeEventListener("mousemove",a.mouseDragPickerBox)})}return e.prototype.init=function(){},e.prototype.changeCurrentColor=function(e){var t=r.hexToHsv(e);t&&(this.state.hue=t[0],this.state.saturation=t[1],this.state.value=t[2],this.displayResult(),this.changePickerBox(),this.calculateHueCursorTop(),this.calculatePickerCursorPosition())},e.prototype.calculateHue=function(e){var t=o.getOffset(this.hueBox),n=this.hueLine.offsetHeight,i=e.pageY-t.top;i=this.correctHueTop(i);var a=Math.round(i/(n/360));a=Math.abs(a-360),a=360===a?0:a,this.state.hue=a,this.changeHueCursor(i)},e.prototype.calculateSV=function(e){var t,n=o.getOffset(this.pickerBox),i=e.pageY-n.top-this.boxCursorHeight/2,a=e.pageX-n.left-this.boxCursorWidth/2;t=this.correctCursorOffset(i,a),i=t[0],a=t[1],this.state.saturation=Math.ceil(a/((this.pickerBox.offsetWidth-this.boxCursorWidth)/100)),this.state.value=Math.ceil(Math.abs(i/((this.pickerBox.offsetHeight-this.boxCursorHeight)/100)-100)),this.changePickerCursor(i,a)},e.prototype.correctCursorOffset=function(e,t){var n=this.pickerBox.offsetWidth-this.boxCursorWidth,i=this.pickerBox.offsetHeight-this.boxCursorHeight;return t=t>n?n:t,t=t<0?0:t,e=e>i?i:e,e=e<0?0:e,[e,t]},e.prototype.changePickerCursor=function(e,t){this.pickerCursor.style.left=t+"px",this.pickerCursor.style.top=e+"px",this.state.value<50?this.pickerCursor.classList.add("light"):this.pickerCursor.classList.remove("light")},e.prototype.correctHueTop=function(e){var t=this.hueLine.offsetHeight;return e=e<=0?0:e,e=e>t?t:e},e.prototype.changeHueCursor=function(e){this.hueCursor.style.top=e+"px"},e.prototype.calculateHueCursorTop=function(){var e=Math.abs(this.state.hue-360);e=360===e?0:e;var t=this.hueBox.offsetHeight/360*e;t=this.correctHueTop(t),this.changeHueCursor(t)},e.prototype.calculatePickerCursorPosition=function(){var e,t=(100-this.state.value)*(this.pickerBox.offsetHeight-this.boxCursorHeight/2)/100,n=Math.ceil(this.state.saturation*((this.pickerBox.offsetWidth-this.boxCursorWidth/2)/100));e=this.correctCursorOffset(t,n),t=e[0],n=e[1],this.changePickerCursor(t,n)},e.prototype.changePickerBox=function(){this.pickerBox.style.backgroundColor="rgb("+r.hsvToRgb(this.state.hue,100,100)+")"},e.prototype.displayResult=function(){var e=r.hsvToRgb(this.state.hue,this.state.saturation,this.state.value),t=r.rgbToHex(e[0],e[1],e[2]);this.colorBox.style.backgroundColor="rgb("+e+")";var n=r.rgbToHex(e[0],e[1],e[2]);this.colorText.innerText=n.substr(0,1)+" "+n.substr(1),this.selectCallback.call(this,t)},e}();t.initColorPicker=i,t.changeColorPickerColor=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(51),a=n(478),r=n(371),o=n(372),s=function(){function e(e,t,n){this.wrapper=e,this.bgSlider=this.wrapper.querySelector(".preset_slider"),this.popover=this.wrapper.querySelector(".style_popover"),this.popoverPicker=this.wrapper.querySelector(".preset_palette"),this.defaultPreset=t,this.onSubmit=n}return e.prototype.isAllowed=function(){return window.chat&&(window.chat.isEliteMember(window.chat.userData)||window.chat.userData.isVip)},e.prototype.init=function(){this.isAllowed()&&(this.sliderWidget=new a.BgSlider(this.bgSlider,this.bgSlider.getAttribute("data-hs_item_class"),this.defaultPreset,this.onSubmit),this.sliderWidget.init(),this.sliderWidget.element.querySelector(".pts_picker")&&(this.popoverWidget=new r.PopoverBox(this.sliderWidget.element.querySelector(".pts_picker"),this.popover,this.onSubmit),this.popoverWidget.setWidget(new o.ColorPicker(this.popoverPicker,i.isHexColor(this.defaultPreset)?this.defaultPreset:"#f0f4f8",this.popover))))},e}();t.BgContainer=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(51),r=n(207),o=n(370),s=n(479),l=function(e){function t(t,n,i,a){var r=e.call(this,t,n,i)||this;return r.submitPreset=function(e){"function"==typeof r.onSubmit&&r.onSubmit(e)},r.onSubmit=a,r}return i(t,e),t.prototype.init=function(){var e='<div class="pts_item"><div class="pts_preset pts_picker"><div class="box_corner light"></div></div></div>';s.default.forEach(function(t){var n="",i="pts_preset";a.isHexColor(t)?("#ffffff"===t&&(i+=" brd"),n='style="background: '+t+'"'):i+=" pt_"+t,e+='<div class="pts_item"><div class="'+i+'" '+n+' data-preset="'+t+'"></div></div>'}),this.element.innerHTML=e,this.element.addEventListener("click",this.onClickSlider),r.initSliderSingle(this.element,11),this.setDefault()},t}(o.PresetSlider);t.BgSlider=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["#ff99cc","#ffff99","#ffcc99","#ffffff","#99ccff","#00ccff","#ffcc00","#ff9900","#ff6600","#993300","lime","red_moon","primitives","bubbles","reb_blue","pink","dracula","stretch","cold_morning","silver","confetti"];t.default=i},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(228),a=n(46),r=n(112),o=n(403),s=n(40),l=n(2),c=n(178),u=n(481),d=n(5),h=n(115),p=n(181);e.extend(window.chat,{initMediator:function(){this.player=i.default.create(!!e.mobile);var t=this,n=e("#bChat");n.on("onPaidShowStart",function(e,n){t.playStream()}).on("onRoomClose",function(t,n){window.chat.debug("[mediator] onRoomClose",n),clearInterval(window.chat.freeTimeInt),n.code&&(window.chat.closeStream(),e("#displayHLS").length&&e("#displayHLS").attr("src","about:blank")),e(".progressholder .progress").css({width:"100%"})}).on("onPaidShowStop",function(e,i,a){t.closeStream("vip"===t.performerStatus&&t.userData.isVip),a||(t.service.handlePaidShowStop(),n.triggerHandler("onPerformerStatusChange"))}).on("onPerformerStatusChange",function(n){var i=t.performerStatus;if(t.debug("[mediator] onPerformerStatusChange",i),t.isPaidShow()){var a="";if("offline"===i||"away"===i||"public"===i||"vip"===i){switch(t.currentShowType){case"fullprivate":a="Full private chat has been stopped by %modelname%";break;case"private":a="Private chat has been stopped by %modelname%";break;case"group":a="Group chat has been stopped by %modelname%";break;case"voyeur":a="Spy mode has been stopped by %modelname%";break;case"vip":a="VIP Show has been stopped by %modelname%"}a=__(a,{modelname:"<strong>"+t.performerData.displayName+"</strong>"}),t.stopPaidShow(a)}}var r=!e.mobile&&-1!==["private","fullprivate","group"].indexOf(i);e("#stream-container").removeAttr("class").addClass("stream-status-"+i),r&&!o.isChromeCastStreamActive()?c.hideLayover():c.showLayover(i),e("#bBuyVip").hide();var s=!0;switch(i){case"away":t.closeStream(),t.clearButtonsState(),c.showLayover(i);break;case"public":t.playStream();break;case"fullprivate":case"private":t.acceptedPaidShow?(c.hideLayover(),s=!1):(t.closeStream(),t.clearButtonsState(),"fullprivate"!==i&&e("#bPrivateLink").attr("href","#popupVoyeur").show(),c.showLayover(i));break;case"vip":t.userData.isVip?t.acceptedPaidShow?(c.hideLayover(),s=!1):(t.closeStream(!0),t.service.gotoVipShow()):(c.showLayover(h.CHAT_FLAGS.CHAT_STATUS_VIP),e("#bBuyVip").show(),t.closeStream(),t.clearButtonsState());break;case"group":var a=__("%username% has joined the group chat",{username:"<strong>"+t.performerData.displayName+"</strong>"})+".";t.isGroupChatInvited?(c.hideLayover(),s=!1):(t.closeStream(),t.clearButtonsState(),c.showLayover(i));break;case"offline":t.closeStream(),t.clearButtonsState(),c.showLayover(i)}"moderator"===t.userData.role&&-1!==["private","fullprivate","group","vip"].indexOf(i)?(t.paidShowId=t.performerData.showId,t.playStream()):r&&s&&c.showLayover(i,t.performerData.sexType)}).on("onBeforeGetRoom",function(e){c.hideLayover()}).on("onUserData",function(e){t.initLimits()}).on("onVideoStreamLimit",function(n){e("#stream-container").attr("class","limit-layover"),e("#bSignup2").show(),t.closeStream(),c.showLayover(h.CHAT_FLAGS.CHAT_STATUS_LIMIT),e.mobile||t.initLayoverAutoResize()})},initLayoverAutoResize:function(){var t=e("#stream-container"),n=t.find(".layoverLimitText");e("#bChat").off("onVideoSizeChange").on("onVideoSizeChange",function(e){n.css("font-size",t.height()/17+"px"),n.css("top",(t.height()-n.height())/2+"px")})},getLimitData:function(){var t={};if(l.isLocalStorageAvailable())t={stamp:localStorage.getItem("ls.s")||0,todayFreeTimeStamp:localStorage.getItem("ls.tfts")||0,todayFreeTime:localStorage.getItem("ls.tft")||0,todayMessages:localStorage.getItem("ls.tm")||0,todayRooms:localStorage.getItem("ls.tr")||""};else{var n=JSON.parse(e.cookie("ls")||"[]");t={stamp:n.s||0,todayFreeTimeStamp:n.tfts||0,todayFreeTime:n.tft||0,todayMessages:n.tm||0,todayRooms:n.tr||""}}return t},setLimitData:function(t){var n=(t.stamp,t.todayFreeTimeStamp,t.todayFreeTime,t.todayMessages,t.todayRooms,this.getLimitData()),i=arguments[0]||{};for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a]);if(l.isLocalStorageAvailable())localStorage.setItem("ls.s",n.stamp||0),localStorage.setItem("ls.tfts",n.todayFreeTimeStamp||0),localStorage.setItem("ls.tft",n.todayFreeTime||0),localStorage.setItem("ls.tm",n.todayMessages||0),localStorage.setItem("ls.tr",n.todayRooms||"");else{var r={s:n.stamp||0,tfts:n.todayFreeTimeStamp||0,tft:n.todayFreeTime||0,tm:n.todayMessages||0,tr:n.todayRooms||""},o=s.getRealDomain();e.cookie("ls",JSON.stringify(r),{path:"/",expires:1,domain:o})}},initLimits:function(){var e=this;l.isLocalStorageAvailable()||this.debug("[mediator] initLimits: localStorage is not suppoted");var t=this.getLimitData(),n=new Date;n.setHours(0),n.setMinutes(0),n.setSeconds(0),(!t.stamp||parseInt(t.stamp)+864e5<=n.getTime())&&(this.debug("[mediator] init limits for "+this.performerData.username),this.setLimitData({stamp:n.getTime(),todayFreeTimeStamp:0,todayFreeTime:0,todayMessages:0,todayRooms:""}));var i=function(){var t=e.getLimitData(),n=60*e.localData.dailyMinutesLimit*1e3;return parseInt(t.todayFreeTime)>=n},a=function(){var t=e.getLimitData(),n=Date.now();if(i())e.freeTimeReached=!0,e.player.playing&&e.onVideoStreamLimit(!1),clearInterval(e.freeTimeInt);else if(e.player.playing)if(t.todayFreeTimeStamp>0){var a=parseInt(t.todayFreeTime)||0,r=n-parseInt(t.todayFreeTimeStamp);e.setLimitData({todayFreeTime:r>2e3?a:a+r,todayFreeTimeStamp:n})}else e.setLimitData({todayFreeTime:0,todayFreeTimeStamp:n})},r=function(){var t=e.getLimitData(),n=t.todayRooms?JSON.parse(t.todayRooms):[];n.length>=e.localData.dailyRoomsLimit?e.freeTimeReached=!0:-1===n.indexOf(e.userData.chathost)&&(n.push(e.userData.chathost),e.setLimitData({todayRooms:JSON.stringify(n)}))};this.localData.dailyRoomsLimit&&r(),this.localData.dailyMinutesLimit&&(clearInterval(this.freeTimeInt),this.freeTimeInt=setInterval(a,1e3))},checkFreeMessageLimit:function(){if(this.userData.isLogged&&"member"===this.userData.role&&!this.userData.isPayable&&!this.chatSettings.allowFreeMemberChat)return this.addServiceMessage(__("We are sorry but FREE members are temporarily muted by model")+'. <a href="javascript:void(0)" onclick="return chat.buyTokensPopup(this)">'+__("Buy some tokens")+"</a> "+__("and begin chatting with your favorite models")+"!","alert"),!0;if(void 0!==this.localData.dailyMessagesLimit){var e=this.getLimitData();if(this.freeMessagesCount=parseInt(e.todayMessages)||0,this.freeMessagesCount>=this.localData.dailyMessagesLimit)return this.onFreeChatMessageLimit(),!0;this.freeMessagesCount++,this.setLimitData({todayMessages:this.freeMessagesCount})}return!1},playStream:function(){var t=this;if(this.player.playing&&this.closeStream(),this.showButtons(!0),this.hideButtons(),this.options.debug&&this.addServiceMessage("[debug] playStream"),c.hideLayover(),this.freeTimeReached)return void this.onVideoStreamLimit(!1);this.player.videoElement&&!this.player.videoElement.id?a.eventDispatcher.one(r.VideoPlayerEvent.INIT,function(){t.performerStatus&&t.playStream()}):(this.player.setVolume(p.default.instance.volume),this.player.play()),chat.videoPlayerType!==this.player.type&&(chat.videoPlayerType=this.player.type,e.get("/tools/metrics.php",{videoplayer:chat.videoPlayerType})),e("#bChat").triggerHandler("onPlayStream")},closeStream:function(t){void 0===t&&(t=!1),this.options.debug&&this.addServiceMessage("[debug] closeStream, overlay="+t),c.hideLayover(),"moderator"===this.userData.role&&-1===[h.CHAT_FLAGS.CHAT_STATUS_PRIVATE,h.CHAT_FLAGS.CHAT_STATUS_FULL_PRIVATE,h.CHAT_FLAGS.CHAT_STATUS_GROUP,h.CHAT_FLAGS.CHAT_STATUS_VIP].indexOf(chat.performerStatus)&&(this.paidShowId=null),this.player.close(),this.player.isTimeShift&&(this.player.destroy(),this.player=i.default.create(!!e.mobile),this.player.setVolume(p.default.instance.volume)),e("#bChat").triggerHandler("onCloseStream")},seekStream:function(t){var n=this,a=window.chat.localData.tsvUrl;if(!a||i.isAvailableFormat("hls"))if(console.log("[ts]",a),this.player.isTimeShift)this.player.seek(t);else{this.player.destroy();var r=this.player=i.getVideoPlayer("hls");r.isTimeShift=!0,e("#EmbedSWF").removeClass("playing"),e("#displaySWF, #displayHLS").remove(),chat.service.getWmsAuthSign(function(i,a){var o=a.wmsAuthSign,s=d.default.getState().isModerator;if(console.log("[ts] ----",o),o||s){r.setAuthToken(o),r.setStartOffset(t),r.setStreamUrl(chat.localData.tsvUrl);var l=e(".time_shift_preview_image").get(0);r.dynamicThumbs=new u.VideoDynamicThumbnail(chat.localData.tsvUrl,function(e,t,n){l.src=e}),n.playStream()}})}}})}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),a=n(14),r=function(){function e(e,t){void 0===t&&(t=a.noop);var n=this;this.src=e,this.onFrame=t,this.getFrame=function(e){console.log("[ts]","once");var t=document.createElement("canvas"),a=t.getContext("2d"),r=document.createElement("video");r.autoplay=!1,r.setAttribute("crossorigin","anonymous"),r.onloadedmetadata=function(){t.height=r.videoHeight,t.width=r.videoWidth,r.currentTime=i.clamp(e,0,1)*r.duration},r.onseeked=function(e){a.drawImage(r,0,0,t.width,t.height),n.onFrame(t.toDataURL(),r.currentTime,null)},r.onerror=function(e){n.onFrame("",0,e)};var o=n.src;if(o.indexOf(".m3u8")){var s={maxBufferLength:1,nudgeMaxRetry:1},l=new window.Hls(s);l.loadSource(o),l.attachMedia(r)}else r.src=o,r.load();n.getFrame=function(e){console.log("[ts]","every time"),r.currentTime=i.clamp(e,0,1)*(Number.isFinite(r.duration)?r.duration:0)}}}return e}();t.VideoDynamicThumbnail=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(181),a=n(40);e.extend(window.chat,{soundVolume:null,setSoundVolumeOnly:function(e){this.soundVolume=e,this.player&&e>=0&&this.player.setVolume(e)},setSoundVolume:function(t,n){n?i.default.instance.setRawVolume(t):i.default.instance.volume=t,e(".stream-volume").toggleClass("muted",!t||t<=0),e(".stream-volume input").each(function(){e(this).val(100*i.default.instance.volume)}),window.chat.setSoundVolumeOnly(i.default.instance.volume)},getSoundVolume:function(){return this.soundVolume}}),e(function(){e(".stream-volume").on("click",function(t){e(".stream-volume").is(t.target)&&i.default.instance.toggleSound()}),e(".stream-volume input").on("input change",function(){var e=parseFloat(this.value)/100;window.chat.setSoundVolume(e)}),e(document).on("player:volume",function(t,n){e(".stream-volume").toggleClass("muted",!n||n<=0),e(".stream-volume input").each(function(){e(this).val(100*n)}),window.chat.setSoundVolumeOnly(n)}),e(document).on("language:switch",function(){var t=new Date;t.setTime(t.getTime()+3e4);var n=a.getRealDomain();return e.cookie("c_v",i.default.instance.localVolume,{path:"/",expires:t,domain:n}),!0});var t=e.cookie("c_v");null!==t&&window.chat.setSoundVolume(parseFloat(t)||0,!0)})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(484),a=n(238),r=n(4),o=n(80),s=function(){function t(){this.photoAlbum=new i.PhotoAlbumManager}return t.prototype.rebind=function(){e.isRunetki||e("#profile_info_btn").removeClass("mls_btn_red"),e(".profile").find("#mls_container").height(e(".profile .column_left").height()-e("#right_panel_mls_filters").height());var t=e(".profile .column_left").height()-e(".wish_list_block h2").height()-36;e(".wish_list_block").length&&(t-=e(".wish_list_block").height()+24),e(".wall_post_form").length&&(t-=e(".wall_post_form").height()+42),e(".wall_footer").length&&(t-=e(".wall_footer").height()+30),e(".profile").find(".wall").css({overflow:"auto",maxHeight:t+"px"}).show(),e("#profile_index_column").find("#profile_info_btn").click(function(t){t.preventDefault(),e("#profile_index_column .profile_galleries").slideUp("fast"),e("#profile_albums_btn").addClass("mls_btn_red"),e(this).removeClass("mls_btn_red")}),e("#profile_index_column").find("#profile_albums_btn").click(function(t){t.preventDefault(),e("#profile_index_column .profile_galleries").slideDown("fast"),e("#profile_info_btn").addClass("mls_btn_red"),e(this).removeClass("mls_btn_red")}),e(".member_notes_link").each(function(){e(this).openPopup({container:e(this).prev(".member_notes_popup_container"),onDisplay:function(){e.jlNamespace.$popupContent.find("form.remote").submittedToRemote(!1,!1,function(t,n,i,a){e.bongacamsPopupClose(!0)})},title:"My Notes"})}),e(".send_tip_to_user_trigger").openPopup({container:e("#tip_model_popup_container"),afterDisplay:function(){e(".im_sm_wrap_popup_head .close").trigger("click");var t=e("#bongacams_popup");t.addClass("sticky_popup"),t.find(".title_block").find(".name").html(e(".send_tip_to_user_trigger ").attr("display_name")),t.css({top:window.innerHeight/2-t.outerHeight(!0)/2-50+"px",left:window.innerWidth/2-t.outerWidth(!0)/2+"px"})},v2:!0,onClose:function(){},options:{profile:!0}}),void 0!==window.chat&&e(".online_status_block a").removeAttr("target").on("click",function(t){return t.preventDefault(),e("html, body").stop().animate({scrollTop:0},400),!1}),this.photoAlbum.rebind()},t.prototype.init=function(){this.rebind(),this.photoAlbum.init();var t=function(t){return confirm(t.data("confirm"))&&e.post(t.attr("href"),r.getCSRFData(),function(t){t.success?window.location.href=t.redirect_url:e(".show_video_view").find(".error_message").length||e(".btn_buy_video").after('<span class="error_message">'+__(t.error)+"</span>")},"json"),!1},n=function(){!window.scrollX&&e("body").hasClass("page_profile")&&window.scrollTo(document.body.scrollWidth,window.scrollY)};e("body").on("click","a.link_for_not_vip",function(n){return e("#member_join_popup_trigger").length&&"undefined"!=typeof sv?(e.signupEvent.call(this,n),!1):(e.fancybox.open(e(this),{padding:0,closeBtn:!1,type:"ajax",openSpeed:100,closeSpeed:100,autoResize:!1,fitToView:!1,helpers:{title:null,locked:!1,overlay:{closeClick:!1}},afterShow:function(){e(".jp-video").each(function(){e(this).is(":visible")&&a.videoInit(e(this))}),e(".show_video_view .buy_video .btn_buy, .show_video_view .btn_buy_video").click(function(){return t(e(this)),!1})},beforeClose:function(){e.each(e.jPlayer.prototype.instances,function(e,t){t.jPlayer("destroy")})}}),!1)}),o.detectIE()&&e("body").hasClass("lang_ar")&&(e(window).on("resize",n),n())},t}(),l=new s;e(function(){l.init(),"undefined"!=typeof sv&&(sv.spa.module.profileManager=l)})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(21);e.fn.setupElementBehavior=function(){e(this).find(".delete_icon a").attr("onclick","return false;").unbind(".element_behavior").bind("click.element_behavior",function(){var t=e(this).closest(".element"),n=t.find(".actions"),a=n.find(".show_album_photos").html(),r=n.find(".hidden_count").text();return!!confirm(__("Are you sure you want to delete the album")+' "'+a+" "+__("Album")+'" '+r+"?")&&(e(this).hide(),e.ajax({url:e(this).attr("href"),type:"post",dataType:"json",context:t,data:i.getCSRFData({sf_method:"delete"}),complete:function(n,i){var a=0,r=0;e(".albums_list").find(".element").find(".photos_in_album_count").each(function(){a++,r+=parseInt(e(this).text(),10)}),a--,r-=parseInt(e(this).find(".photos_in_album_count:first").text(),10),e(".albums_count").text(a+" "+(1===a||-1===a?__("album"):__("albums"))),e(".album_photos_count").text(r+" "+(1===r||-1===r?__("photo"):__("photos"))),t.remove()},error:function(e,t,n){void 0!==window.console&&console.log("[ "+t+" ] "+n)}}),!1)})},e.fn.setupManagmentBehavior=function(){var t=e(this);t.find(".delete").unbind("click").click(function(){return confirm(__("Are you sure?"))});var n=t.find(".report");n.hasClass("init")||(n.addClass("init"),n.openPopup({container:t.find(".photo_report_form"),onDisplay:function(){e.jlNamespace.$popupContent.find("form.remote").submittedToRemote(function(t){t.find("#report_photo_message").html(""),e.bongacamsPopupClose(!0)}),e.jlNamespace.$popupContent.find("a.submitTheForm").attr("onclick","return false").unbind(".photo_viewer_submit").bind("click.photo_viewer_submit",function(){return e(this).closest("form").submit(),!1})},title:__("Report This Photo"),afterDisplay:function(){if(e("body").hasClass("body_model")){var t=e("#report_photo_reason");t.closest(".form_row").wrap('<div class="body_selectric"></div>'),t.selectric({disableOnMobile:!1})}e.jlNamespace.$popupContent.find("form.remote").find("select:visible:first").focus();var n=e(".fancybox-opened").find(".album_photo_wrapper"),i=e("#bongacams_popup"),a=n.offset().top>e(window).scrollTop()?n.offset().top:e(window).scrollTop(),r=a+n.outerHeight(!0)/2;n.outerHeight(!0)>i.outerHeight(!0)&&(r-=i.outerHeight(!0)/2);var o=n.offset().left+n.outerWidth(!0)/2-i.outerWidth(!0)/2;i.css({top:r,left:o}),i.addClass("topmost_popup")},closeButton:!1,v2:!1,onClose:function(){e("#bongacams_popup").removeClass("topmost_popup")}}))};var r=function(){function t(){}return t.prototype.rebind=function(){},t.prototype.init=function(){function t(){e(".show_album_photos").truncate({width:240})}function n(){e(".profile_actions .chat_topic").each(function(){e(this).html(a.stringWordWrap(e(this).html(),"",25))}),e(".profile_about_details div.main_block_content").each(function(){e(this).html(a.stringWordWrap(e(this).html(),"",25))}),e(".profile_header div.mini_desc").each(function(){e(this).hasClass("not_wrap")||e(this).html(a.stringWordWrap(e(this).html(),"",25))}),e(".profile_about div.hometown").each(function(){e(this).html(a.stringWordWrap(e(this).html(),"",25))})}function i(){var t=e(window).scrollTop(),n=u.width();d.offset().left>n/2&&t>h?c.css({position:"fixed",top:"10px",width:n}):c.css({position:"relative",top:"auto",width:"auto"})}e(".albums_list").find(".element").setupElementBehavior(),e(".profile").find(".profile_header_block").find(".create_new_album_button").openPopup({container:e(".profile_popups #create_new_album"),onDisplay:function(){e.jlNamespace.$popupContent.find("form.remote").submittedToRemote(function(n,i){if(i.album_item){var a=e(i.album_protected?".protected_albums_container":".albums_container");a.find(".albums_list").prepend(i.album_item).find(".element:first").setupElementBehavior(),a.show(),t()}e.bongacamsPopupClose(!0,function(){e(".album_form form").get(0).reset()})})},title:__("New Album"),afterDisplay:function(){e("#album_use_password").unbind("click").bind("click",function(){e("#album_password").closest(".form_row").toggle()}),e("#album_password").closest(".form_row").hide(),e.jlNamespace.$popupContent.find("form.remote").find("input:visible:first").focus()}}),e("#photo_management").setupManagmentBehavior(),t(),e(".album_photo_nav .zoom").click(function(){var t=[],n=0;e(".photos_list .thumb_img_link:not(.image-reject)").each(function(){e(this).hasClass("active")&&(n=e(this).parent().index()),t.push(e(this).attr("detailsurl"))}),e.fancybox(t,{padding:0,scrolling:"no",index:n,type:"ajax",autoResize:!1,fitToView:!1,nextEffect:"fide",prevEffect:"fide",wrapCSS:"photo-popup-wrap",overlay:{locked:!1},beforeShow:function(){e(".album_photo_nav .pause").click(),e(".album_photo_wrapper > img").unbind("load").load(function(){e(".photo_comments_container").width(e(this).width())}).each(function(){this.complete&&e(this).load()})},afterShow:function(){e(".album_photo_wrapper > img").unbind("load").load(function(){e(".fancybox-prev, .fancybox-next").addClass("zoomed").height(e(".album_photo_wrapper > img").height()).click(function(){e("#bongacams_popup").hide()}),e(".photo_comments_container").width(e(this).width()),e.fancybox.update()}).each(function(){this.complete&&e(this).load()}),e("#photo_management").setupManagmentBehavior()},afterClose:function(){e(".album_photo_nav .play").click(),e(".fancybox-prev, .fancybox-next").removeClass("zoomed"),e("#bongacams_popup").hide()}})});var r=function(t){if(t.length&&!t.hasClass("active")){var n=t.attr("photourl");e(".album_photo a.thumb_img_link").fadeTo("medium",0,function(){e(this).remove()});var i=new Image;i.style.display="none",i.onload=function(){e("<a/>").addClass("thumb_img_link").css("backgroundImage","url("+i.src+")").appendTo(e(".album_photo")).fadeTo("fast",1)},i.src=n,e(".photos_list a.thumb_img_link").removeClass("active"),t.addClass("active")}};window.showPhoto=r;var o=function(){var t=e(".photos_list .active").parent().prev('.image_container:not([data-image-reject="1"])');t.length||(t=e(".photos_list").find('.image_container:not([data-image-reject="1"]):last')),r(t.find("a.thumb_img_link"))};window.prevPhoto=o;var s=function(){var t=e(".photos_list .active").parent().next('.image_container:not([data-image-reject="1"])');t.length||(t=e(".photos_list").find('.image_container:not([data-image-reject="1"]):first')),r(t.find("a.thumb_img_link"))};if(window.nextPhoto=s,!e(".album_photo_gallery_protected").length){e(".photos_list").on("click","a[photourl]",function(t){t.preventDefault(),e(t.currentTarget).hasClass("image-reject")||(e(".album_photo_nav .pause").click(),r(e(this)))}),e(".album_photo_nav .prev").click(function(t){t.preventDefault(),e(".album_photo_nav .pause").click(),o()}),e(".album_photo_nav .next").click(function(t){t.preventDefault(),e(".album_photo_nav .pause").click(),s()});var l;e(".album_photo_nav .play").click(function(t){t.preventDefault(),clearInterval(l),l=setInterval(function(){s()},5e3),e(this).hide(),e(".album_photo_nav .pause").show()}),e(".album_photo_nav .pause").click(function(t){t.preventDefault(),clearInterval(l),e(this).hide(),e(".album_photo_nav .play").show()}),e(".album_photo_gallery").length&&(r(e(".photos_list a.selected").length?e(".photos_list a.selected:not(.image-reject)"):e(".photos_list a.thumb_img_link:first:not(.image-reject)")),e(".album_photo_nav .play").click())}e(".photos_list").find('.image_container:not([data-image-reject="1"])').length>1?e("body").on("click","#fancybox-right",function(t){t.preventDefault(),s(),e(".album_photo_nav .zoom").click()}).on("click","#fancybox-left",function(t){t.preventDefault(),o(),e(".album_photo_nav .zoom").click()}):e("#fancybox-left, #fancybox-right").remove(),"zoom"===window.location.hash.substring(1)&&e(".album_photo_nav .zoom").click(),n(),"function"==typeof e.adjustBottomBanners&&e.adjustBottomBanners(),e(".latest_snapshots_block a.snapshot").fancybox({padding:0,scrolling:"no",autoResize:!1,fitToView:!1,nextEffect:"fide",prevEffect:"fide",wrapCSS:"photo-popup-wrap",overlay:{locked:!1}}),e(document).on("click",".latest_snapshots a.view_all_link",function(){var t=e(".latest_snapshots .hidden");t.length?t.removeClass("hidden"):e(".latest_snapshots .snapshot_element:gt(5)").addClass("hidden")}),e(".profile_block_content a.album_preview_link:not(.is_protected)").fancybox({padding:0,type:"ajax",scrolling:"no",autoResize:!1,fitToView:!1,nextEffect:"fide",prevEffect:"fide",wrapCSS:"photo-popup-wrap",overlay:{locked:!1},beforeShow:function(){e(".album_photo_wrapper > img").unbind("load").load(function(){e(".photo_comments_container").width(e(this).width()>200?e(this).width():200)}).each(function(){this.complete&&e(this).load()})},afterShow:function(){e(".album_photo_wrapper > img").unbind("load").load(function(){e(".fancybox-prev, .fancybox-next").addClass("zoomed").height(e(".album_photo_wrapper > img").height()).click(function(){e("#bongacams_popup").hide()}),e(".photo_comments_container").width(e(this).width()>200?e(this).width():200),e.fancybox.update()}).each(function(){this.complete&&e(this).load()}),e("#photo_management").setupManagmentBehavior()},afterClose:function(){e("#bongacams_popup").hide()}});var c=e(".album_photo_gallery"),u=e(".column_left"),d=e(".column_right"),h=0;if(c.length&&u.length&&d.length){var p=c.offset();h=p.top-10,e(window).scroll(i),e(window).resize(i),i()}},t}();t.PhotoAlbumManager=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=function(){function t(){}return t.prototype.handleAjaxFriendAction=function(t,n){var i=e("body");t.friend_requests_count>0?(i.find("a[rel=page_friends_requests] .friends_requests").removeClass("hide").find(".bullet").html(t.friend_requests_count),i.find("a.my_friend_requests").removeClass("hide").find(".my_friend_requests_counter").html(t.friend_requests_count),e(".friends_icon").find(".bullet").removeClass("hide").html(t.friend_requests_count)):(i.find("a[rel=page_friends_requests] .friends_requests").addClass("hide").find(".bullet").html(""),i.find("a.my_friend_requests").addClass("hide").find(".my_friend_requests_counter").html(""),e(".friends_icon").find(".bullet").addClass("hide").html(""),n&&e(".page_friends_requests.friend_page").find(".friends_list").html(t.no_items)),e(".page_friends_requests.friend_page").find(".friends_count").html(t.friend_requests_title),null!==t.friends_count&&e(".page_friends_all.friend_page").find(".friends_count").html(t.friends_title)},t.prototype.init=function(){var t=this;e("body").on("click","a.add_friend",function(){var t=e(this).parents(".add_remove_friend"),n=this;e.post(e(this).attr("href"),i.getCSRFData(),function(i){e.each(e(".add_remove_friend[data-friend_username="+t.data("friend_username")+"]"),function(t,a){if(e(this).find(".add_friend_request_link").hide(),"active"===i.status)e(this).find(".remove_friend_request_link").removeClass("hidden").show();else if(i.status)if(e(n).hasClass("confirm_friend"))e(this).find(".remove_friend_request_link").addClass("hidden").hide(),location.reload();else{var r=e(this).find("a.remove_friend");e(this).find(".remove_friend_request_link").not(".is_friend").html(__("Awaiting friend confirmation")+"&nbsp;").append(r.html("<strong>"+__("Cancel")+"</strong>").addClass("remove_awaiting_friend").clone()),e(this).find(".remove_friend_request_link").not(".is_friend").removeClass("hidden").show()}})},"json")}).on("click","a.remove_friend",function(){if(confirm(__("Are you sure?"))){var t=e(this).parents(".add_remove_friend");e.post(e(this).attr("href"),i.getCSRFData(),function(n){e.each(e(".add_remove_friend[data-friend_username="+t.data("friend_username")+"]"),function(t,n){e(this).find(".remove_friend_request_link").hide(),e(this).find(".add_friend_request_link").removeClass("hidden").show()})},"json")}}).on("click","a.ajax_deny_friend",function(){var n=e(this);confirm(e(this).attr("i18n"))&&(e("body").css("cursor","wait"),e.post(n.attr("href"),i.getCSRFData(),function(i){if("success"===i.status){var a=n.closest(".friend");n.hide(),a.find(".add_friend_button").hide(),a.addClass("removed");var r=a.find(".confirm");1===r.length&&r.hide(),t.handleAjaxFriendAction(i,!1),e("body").css("cursor","default")}},"json"))}).on("click","a.ajax_remove_friend",function(){var n=e(this);confirm(e(this).attr("i18n"))&&(e("body").css("cursor","wait"),e.post(n.attr("href"),i.getCSRFData(),function(i){if("success"===i.status){n.closest(".friend").hide("slow"),t.handleAjaxFriendAction(i,!1),e("body").css("cursor","default")}},"json"))}).on("click","a.ajax_restore_friend",function(){var n=e(this);return e("body").css("cursor","wait"),e.post(n.attr("href"),i.getCSRFData(),function(i){if("success"===i.status){var a=n.closest(".friend");n.hide(),a.find(".ajax_deny_friend").show(),a.find(".add_friend_button").show(),a.removeClass("removed");var r=a.find(".confirm");1===r.length&&r.show(),t.handleAjaxFriendAction(i,!1),e("body").css("cursor","default")}},"json"),!1}).on("click","a.ajax_confirm_friend",function(){var n=e(this);return e("body").css("cursor","wait"),e.post(n.attr("href"),i.getCSRFData(),function(i){if("success"===i.status){n.closest(".friend").hide("slow"),t.handleAjaxFriendAction(i,!0)}e("body").css("cursor","default")},"json"),!1}).on("click","a.friends_tab_switcher",function(){history.pushState({},document.title,e(this).attr("href"));var t=e(this).closest("li"),n=e(this).closest("div.friends_pages");return t.hasClass("selected")||(n.find(".friend_page").hide(),n.find("li.selected").removeClass("selected"),n.find("div."+e(this).attr("rel")).show(),t.addClass("selected")),!1})},t.prototype.rebind=function(){return this},t}();e(function(){(new a).init()})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);!function(e){e.fn.removeable=function(){e(this).find("a.remove_comment").attr("onclick","return false;").unbind(".removeable").bind("click.removeable",function(){if(!confirm("Are you sure?"))return!1;var t=e(this).closest(".comment");e(this).closest(".comments");return t.remove(),e.ajax({url:e(this).attr("href"),type:"post",data:i.getCSRFData({sf_method:"delete"}),dataType:"html"}),!1})}}(e)}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=function(){function t(){}return Object.defineProperty(t,"widgetSelector",{get:function(){return".profile_comments"},enumerable:!0,configurable:!0}),t.changeProfileCommentPagerLink=function(n){e(t.widgetSelector).find(".load_more_comments_link").each(function(){var t=e(this),i=t.attr("href").split("/"),a=+i.pop();switch(n){case"increase":a++;break;case"decrease":a--;break;default:a=parseInt(n)}i.push(a),t.attr("href",i.join("/"))})},t.prototype.init=function(){this.rebind()},t.prototype.rebind=function(){var n=e(t.widgetSelector);n.find(".load_add_comment_form").on("click",function(){var i=n.find(".add_profile_comment");return i.show(),0===i.find("form").length?(i.find(".spinner").show(),e.get(e(this).attr("loadUrl"),function(a){i.html(a),i.find("#add_profile_comment_message").max_lengthable(500).autogrow().focus(),n.find(".pm_close").bind("click",function(){i.hide()}),i.find("form").submittedToRemote(function(a,r){var o=n.find(".comments_list");o.find(".absent").hide(),o.prepend(r.comment),n.find(".comments_count").html("("+r.comments_count+")"),t.changeProfileCommentPagerLink("increase"),a[0].reset(),e(".add_profile_comment_rating_rating").find("span.star").removeClass("rated"),i.hide()})})):i.find("#add_profile_comment_message").focus(),!1}),n.find(".comments_list").on("click",".delete_comment_link",function(){var a=e(this);return confirm(a.attr("confirm_message"))&&e.post(a.attr("href"),i.getCSRFData({sf_method:"delete"}),function(e){"success"===e.status&&(a.closest(".comment_container").remove(),n.find(".comments_count").html("("+e.comments_count+")"),e.comments_count||n.find(".comments_list").find(".absent").show(),t.changeProfileCommentPagerLink("decrease"))},"json"),!1}),n.find(".load_more_comments_link").bind("click",function(){var i=e(this).closest(".show_more");return i.find(".spinner").show(),e.getJSON(e(this).attr("href"),function(e){n.find(".comments_list").append(e.comments),i.find(".spinner").hide(),void 0!==e.skip?t.changeProfileCommentPagerLink(e.skip):i.remove()}),!1})},t}();e(function(){var e=new a;e.init(),"undefined"!=typeof sv&&(sv.spa.module.profileComments=e)})}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){DI.inject(this,"contract"),DI.inject(this,"modules","module-manager"),DI.inject(this,"document"),DI.inject(this,"window"),DI.inject(this,"history")}return e.prototype.parseData=function(e){this.contract.assertString(this.constructor.name+"~parseData",e),this.contract.assert(this.constructor.name+'~parseData "html" must be not empty',e.length>0);var t,n,i=null;if(e.indexOf("<html")>=0){t=".wrapper";var a=this.document.createElement("html");a.innerHTML=e,e=a.querySelector(".wrapper").innerHTML,i=a,n=!0,a=null}else t=".content_container > .content",n=!1;return{html:e,nodeSelector:t,isFullPage:n,resourceNode:i}},e.prototype.modifyDOM=function(e,t){this.contract.assertString(this.constructor.name+'~modifyDOM "node" arguments',e),this.contract.assertString(this.constructor.name+'~modifyDOM "html" arguments',t);var n=this.document.querySelector(e);if(!n)return!1;var i=n.cloneNode(!1);return i.innerHTML=t,n.parentNode.replaceChild(i,n),i=null,n=null,!0},e.prototype.modifyLocation=function(e){this.contract.assertString(this.constructor.name+"~_modifyLocation",e);var t=this.document.querySelector("title");this.contract.assertDOMNode(this.constructor.name+"~_modifyLocation",t),this.history.pushState({},t.textContent,e)},e.prototype.modifyLayout=function(e,t){if(t.isFullPage){var n="#td_logo",i="#popups_wrap",a=".wrapper",r=".seo_box",o=this.document.createElement("html");o.innerHTML=e;var s=function(e){var t=o.querySelector(e);return t?t.innerHTML:""},l=function(e){var t=o.querySelector(e);return t?t.textContent:""},c=s(n),u=s(i),d=s(r),h=l("title");if(o=null,this.document.title=h,this.modifyDOM(n,c),this.modifyDOM(i,u),!this.document.querySelector(a+" + "+r)){var p=document.createElement("div");p.className="seo_box";var f=this.document.querySelector(a);f.parentNode.insertBefore(p,f.nextSibling)}this.modifyDOM(a+" + "+r,d)}},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.listing=e}return e}();t.ListingMithrilNavigation=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.bMarker=!1,this.bQualityImprovement=!1,this.bProfileChecked=!1,this.owner=e,this.listing=this.owner.listing,this.bMarker=this.listing.$listingContainer.is("[data-b_marker]"),this.bQualityImprovement=this.listing.$listingContainer.is("[data-b_quality_improvement]"),this.bProfileChecked=this.listing.$listingContainer.is("[data-b_profile_checked]")}return e.prototype.getItemClassName=function(e){var t="mls_item";return void 0!==e.sortOrder&&(t+=" mls_so_"+e.sortOrder),t+=" mls_item_"+(e.gender||"female"),e.online?t+=" mls_item_online":t+=" mls_item_offline",this.listing.chathost!==e.username&&this.listing.lastChathost!==e.username||(t+=" mls_item_selected"),"vip"===e.room&&(t+=" mls_item_vip"),"moderator"===this.listing.initData.userRole&&(1===e.is_per_hour&&(t+=" mls_item_per_hour"),this.bQualityImprovement&&null!==e.is_video_quality_improved&&(e.is_video_quality_improved=Number(e.is_video_quality_improved),1===e.is_video_quality_improved?t+=" video_quality_improved":0===e.is_video_quality_improved?t+=" video_quality_refused_to_communicate":-1===e.is_video_quality_improved&&(t+=" video_quality_not_improved")),this.bMarker&&null===e.marker&&(t+=" empty_marker"),this.bProfileChecked&&0===e.is_profile_checked&&(t+=" profile_not_checked"),this.bMarker&&"amazing"===e.marker&&(t+=" amazing_marker"),"runetki_empty"===e.misc_marker&&(t+=" runetki_model")),t},e.prototype.getThumbSrc=function(e){var t="big"===this.listing.getRealThumbSize(),n=e.thumb_image||("live"===this.listing.currentThumbType?e.live_image:e.profile_image);return t?n.replace("big_lq","big"):n},e.prototype.renderIcons=function(e){var t=[];"vip"!==e.vip_type?(e.online&&t.push("live"),e.is_new&&t.push("new"),e.hd_cam&&t.push("hd_cam"),e.vibratoy&&"small"!==this.listing.getRealThumbSize()&&t.push("vibratoy")):t.push("vip_zone");var n=t.map(function(e,t){return m("span",{key:t,className:"bage bage_"+e})});return m("span",n)},e.prototype.renderTextBages=function(e){var t;if(e.is_away)t=m("div",{class:"bage bage_away"},m.trust(__("I'm away")));else if(e.room)switch(e.room){case"private":case"fullprivate":t=m("div",{class:"bage bage_private"},m.trust(__("In private")));break;case"group":t=m("div",{class:"bage bage_group"},m.trust(__("In group")));break;case"vip":if("vip"===e.vip_type){var n={background:"url(/images/frontend/vip/"+this.listing.getRealThumbSize()+"/"+this.listing.initData.lang+".png?v2)"};t=m("div",{class:"bage bage_vip",style:n})}}return m("div.bages",t)},e.prototype.renderLinks=function(e){if(!e.online)return m("div.actions",[m("span.no_chat",m.trust(__("Model is offline")))]);var t=__("Chat with",{},!1)+" "+e.display_name;return m("div.actions",[m("a.chat",{href:e.chat_url,title:t},m.trust(__("Visit FREE Chat")))])},e.prototype.renderAboutMe=function(e){var t="",n=!1;if("moderator"===this.listing.initData.userRole&&"ru"===this.listing.initData.lang)t=e.quality_improvement_reason;else{if(void 0===e.about_me)return"";"vip"===e.room?t=m("span",m.trust(__("vip"===e.vip_type?"Enter %s1%Vip Show%s2%":"Enter %s1%Free Show%s2%",{s1:"<strong>",s2:"</strong>"}))):e.about_me?t=e.about_me:(t=m("span",m.trust(__("%name% has not written anything about herself yet",{name:e.display_name}))),n=!0)}return m("div",{class:"etc etc_"+this.listing.getRealThumbSize()},m("div",{class:"about_me"+(n?" about_me_blank":"")},t))},e.prototype.renderChatTopic=function(e){var t="",n=!1;return void 0===e.topic?"":(e.topic?t=e.topic:(t=m("span",m.trust(__("%modelname%'s chat",{modelname:e.display_name}))),n=!0),m("div",{class:"etc etc_"+this.listing.getRealThumbSize()},m("div",{class:"chat_topic"+(n?" chat_topic_blank":"")},t)))},e.prototype.renderAboutMeBlock=function(e){return this.renderAboutMe(e)},e}();t.ListingMithrilThumb=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(492),s=n(15),l=n(503),c=n(115),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i(t,e),t.prototype.render=function(e,t){var n=e.isMobile,i=e.type,a=e.sex,s=e.url,u=e.center;return!n&&[c.CHAT_FLAGS.CHAT_STATUS_PRIVATE,c.CHAT_FLAGS.CHAT_STATUS_FULL_PRIVATE,c.CHAT_FLAGS.CHAT_STATUS_GROUP].indexOf(i)>=0&&r.h(o.default,{type:i,sex:a})||r.h(l.default,{type:i,url:s,center:u})},t.defaultProps={isMobile:!1,type:"",sex:"",url:"",center:!1},t=a([s.connect("isMobile")],t)}(r.Component);t.default=u},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(493),o=n(115),s=n(7),l=function(e,t){return Math.abs(e-t)<=2},c=function(e){function t(t){var n=e.call(this,t)||this;return n.refCanvas=function(e){return n.canvas=e},n.refText=function(e){return n.svgText=e},n.state={viewBox:"0 0 96 96",x:0,y:0,width:0,height:0},n}return i(t,e),t.prototype.updateComponentData=function(e){if(this.canvas&&this.svgText){var t=e.sex,n=this.svgText.getBBox(),i=Math.floor(n.x)-15,a=Math.floor(n.y)-10,o=Math.floor(n.width)+30,s=Math.floor(n.height)+20,c=i+" "+a+" "+o+" "+s;l(i,this.state.x)&&l(a,this.state.y)&&l(o,this.state.width)&&l(s,this.state.height)||this.setState({x:i,y:a,width:o,height:s,viewBox:c}),this.layoverPlayer?this.layoverPlayer.attachToCanvas(this.canvas):(this.layoverPlayer=new r.LayoverImagePlayer(this.canvas),this.layoverPlayer.load("female","/images/chat/anim/female.jpg",309),this.layoverPlayer.load("trans","/images/chat/anim/trans.jpg",376),this.layoverPlayer.load("gay","/images/chat/anim/gay.jpg",333)),this.layoverPlayer.play(t)}},t.prototype.componentDidMount=function(){this.updateComponentData(this.props)},t.prototype.componentDidUpdate=function(e){this.updateComponentData(this.props)},t.prototype.componentWillUnmount=function(){this.layoverPlayer&&(this.layoverPlayer.destroy(),this.layoverPlayer=null)},t.prototype.getStatusText=function(){var e=this.props.type,t="";switch(e){case o.CHAT_FLAGS.CHAT_STATUS_FULL_PRIVATE:t=__("I'm in the Full Private Chat right now!");break;case o.CHAT_FLAGS.CHAT_STATUS_PRIVATE:t=__("I'm in Private Chat right now!");break;case o.CHAT_FLAGS.CHAT_STATUS_GROUP:t=__("I'm in Group Chat right now!")}return s.isRTLCulture&&(t=t.split("").reverse().join("")),t||e},t.prototype.render=function(e,t){var n=t.viewBox,i=t.x,r=t.y,o=t.width,s=t.height;return a.h("div",{class:"layover"},a.h("canvas",{key:"layover_canvas",ref:this.refCanvas,width:"96",height:"96"}),a.h("div",{class:"captionText"},a.h("svg",{key:"layover_svg",id:"svg-layover",viewBox:n,width:"80%"},a.h("rect",{id:"svg-rect",x:i,y:r,width:o,height:s}),a.h("text",{ref:this.refText,id:"svg-text"},this.getStatusText()))))},t.defaultProps={type:"",sex:""},t}(a.Component);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(494),a=n(116),r=function(){function e(e){var t=this;this.index=0,this.timer=0,this.images={},this.active=null,this.image="",this.drawFrame=function(){if(t.active&&t.active.image){var e=t.active,n=e.frames[t.index++%e.frames.length],i=n.x,r=n.y;t.offscreenContext.drawImage(e.image,i,r,32,32,-1,-1,98,98),a.processCanvasRGB(t.offscreenCanvas,0,0,t.offscreenCanvas.width,t.offscreenCanvas.height,5),t.canvasContext.drawImage(t.offscreenCanvas,0,0)}},this.offscreenCanvas=document.createElement("canvas"),this.offscreenContext=this.offscreenCanvas.getContext("2d"),this.attachToCanvas(e)}return e.prototype.destroy=function(){this.stop(),this.canvasContext=null,this.canvas=null,this.offscreenContext=null,this.offscreenCanvas=null},e.prototype.attachToCanvas=function(e){this.canvas=e,this.canvasContext=e.getContext("2d"),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height},e.prototype.load=function(e,t,n){this.images[e]=new i.ImageAnimation(t,n)},e.prototype.play=function(e,t){this.images[e]&&(t||this.active!==this.images[e])&&(this.stop(),this.active=this.images[e],this.active.load(),this.timer=window.setInterval(this.drawFrame,40))},e.prototype.stop=function(){this.index=0,this.timer&&(clearInterval(this.timer),this.timer=0,this.active=null)},e}();t.LayoverImagePlayer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(495),a=function(){function e(e,t){this.url=e,this.frameCount=t,this.image=null,this.frames=[],this.initFrames(t,32)}return e.prototype.initFrames=function(e,t){for(var n=0,i=0,a=[],r=0;r<e;r++)a.push({x:n,y:i}),(n+=t)>=512&&(n=0,i+=t);for(var r=e-1;--r>=1;){var o=a[r];a.push(o)}this.frames=a},e.prototype.load=function(){this.image||(this.image=i.ImagesCache.instance.get(this.url))},e}();t.ImageAnimation=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2),r=n(14);!function(e){e[e.NOT_READY=0]="NOT_READY",e[e.READY=1]="READY",e[e.FAIL=2]="FAIL"}(i||(i={}));var o=function(){function e(){this.retry=5,this.url="",this.status=i.NOT_READY,this.image=null}return e}(),s=function(){function e(){this.cache={}}return Object.defineProperty(e,"instance",{get:function(){return this.globalInstance=this.globalInstance||new this},enumerable:!0,configurable:!0}),e.prototype.get=function(e,t,n){t=t||r.noop,n=n||r.noop;var s=this.cache[e]||(this.cache[e]=new o);switch(s.status){case i.NOT_READY:s.url=e;break;case i.READY:return t(s.image),s.image;case i.FAIL:if(!s.retry)return;s.retry--,e=a.updateQueryStringParameter(e,"imageHash",String(Math.random()).substr(2))}var l=s.image||(s.image=new Image);return l.onload=function(){s.status=i.READY,t(l)},l.onerror=function(e){s.status=i.FAIL,n(l,e)},l.src=e,l},e}();t.ImagesCache=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.next=null,this.r=0,this.g=0,this.b=0,this.a=0}return e}();t.BlurStack=i},function(e,t,n){"use strict";function i(e,t,n,i,a){if("string"==typeof e&&(e=document.getElementById(e)),!(e&&"object"==typeof e&&"getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var r=e.getContext("2d");try{return r.getImageData(t,n,i,a)}catch(e){throw new Error("unable to access image data: "+e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getImageDataFromCanvas=i},function(e,t,n){"use strict";function i(e,t,n,i,r,o){if(!(isNaN(o)||o<1)){o|=0;var s=a.getImageDataFromCanvas(e,t,n,i,r);s=a.processImageDataRGB(s,t,n,i,r,o),e.getContext("2d").putImageData(s,t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(116);t.processCanvasRGB=i},function(e,t,n){"use strict";function i(e,t,n,i,r,o){if(!(isNaN(o)||o<1)){o|=0;var s=a.getImageDataFromCanvas(e,t,n,i,r);s=a.processImageDataRGBA(s,t,n,i,r,o),e.getContext("2d").putImageData(s,t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(116);t.processCanvasRGBA=i},function(e,t,n){"use strict";function i(e,t,n,i){if("string"==typeof e&&(e=document.getElementById(e)),e&&"naturalWidth"in e){var r=e.naturalWidth,o=e.naturalHeight;if("string"==typeof t&&(t=document.getElementById(t)),t&&"getContext"in t){t.style.width=r+"px",t.style.height=o+"px",t.width=r,t.height=o;var s=t.getContext("2d");s.clearRect(0,0,r,o),s.drawImage(e,0,0),isNaN(n)||n<1||(i?a.processCanvasRGBA(t,0,0,r,o,n):a.processCanvasRGB(t,0,0,r,o,n))}}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(116);t.processImage=i},function(e,t,n){"use strict";function i(e,t,n,i,s,l){var c,u,d,h,p,f,m,g,v,b,y,_,w,S,C,k,T,P,x,E,O,D=e.data,A=l+l+1,j=i-1,M=s-1,L=l+1,I=L*(L+1)/2,R=new o.BlurStack,F=R;for(d=1;d<A;d++)F=F.next=new o.BlurStack,d===L&&(O=F);F.next=R;var N=null,H=null;m=f=0;var B=a.mulTable[l],U=r.shgTable[l];for(u=0;u<s;u++){for(S=C=k=g=v=b=0,y=L*(T=D[f]),_=L*(P=D[f+1]),w=L*(x=D[f+2]),g+=I*T,v+=I*P,b+=I*x,F=R,d=0;d<L;d++)F.r=T,F.g=P,F.b=x,F=F.next;for(d=1;d<L;d++)h=f+((j<d?j:d)<<2),g+=(F.r=T=D[h])*(E=L-d),v+=(F.g=P=D[h+1])*E,b+=(F.b=x=D[h+2])*E,S+=T,C+=P,k+=x,F=F.next;for(N=R,H=O,c=0;c<i;c++)D[f]=g*B>>U,D[f+1]=v*B>>U,D[f+2]=b*B>>U,g-=y,v-=_,b-=w,y-=N.r,_-=N.g,w-=N.b,h=m+((h=c+l+1)<j?h:j)<<2,S+=N.r=D[h],C+=N.g=D[h+1],k+=N.b=D[h+2],g+=S,v+=C,b+=k,N=N.next,y+=T=H.r,_+=P=H.g,w+=x=H.b,S-=T,C-=P,k-=x,H=H.next,f+=4;m+=i}for(c=0;c<i;c++){for(C=k=S=v=b=g=0,f=c<<2,y=L*(T=D[f]),_=L*(P=D[f+1]),w=L*(x=D[f+2]),g+=I*T,v+=I*P,b+=I*x,F=R,d=0;d<L;d++)F.r=T,F.g=P,F.b=x,F=F.next;for(p=i,d=1;d<=l;d++)f=p+c<<2,g+=(F.r=T=D[f])*(E=L-d),v+=(F.g=P=D[f+1])*E,b+=(F.b=x=D[f+2])*E,S+=T,C+=P,k+=x,F=F.next,d<M&&(p+=i);for(f=c,N=R,H=O,u=0;u<s;u++)h=f<<2,D[h]=g*B>>U,D[h+1]=v*B>>U,D[h+2]=b*B>>U,g-=y,v-=_,b-=w,y-=N.r,_-=N.g,w-=N.b,h=c+((h=u+L)<M?h:M)*i<<2,g+=S+=N.r=D[h],v+=C+=N.g=D[h+1],b+=k+=N.b=D[h+2],N=N.next,y+=T=H.r,_+=P=H.g,w+=x=H.b,S-=T,C-=P,k-=x,H=H.next,f+=i}return e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(70),r=n(71),o=n(116);t.processImageDataRGB=i},function(e,t,n){"use strict";function i(e,t,n,i,s,l){var c,u,d,h,p,f,m,g,v,b,y,_,w,S,C,k,T,P,x,E,O,D,A,j,M,L=e.data,I=l+l+1,R=i-1,F=s-1,N=l+1,H=N*(N+1)/2,B=new o.BlurStack,U=B;for(d=1;d<I;d++)U=U.next=new o.BlurStack,d===N&&(M=U);U.next=B;var z=null,$=null;m=f=0;var G=a.mulTable[l],V=r.shgTable[l];for(u=0;u<s;u++){for(k=T=P=x=g=v=b=y=0,_=N*(E=L[f]),w=N*(O=L[f+1]),S=N*(D=L[f+2]),C=N*(A=L[f+3]),g+=H*E,v+=H*O,b+=H*D,y+=H*A,U=B,d=0;d<N;d++)U.r=E,U.g=O,U.b=D,U.a=A,U=U.next;for(d=1;d<N;d++)h=f+((R<d?R:d)<<2),g+=(U.r=E=L[h])*(j=N-d),v+=(U.g=O=L[h+1])*j,b+=(U.b=D=L[h+2])*j,y+=(U.a=A=L[h+3])*j,k+=E,T+=O,P+=D,x+=A,U=U.next;for(z=B,$=M,c=0;c<i;c++)L[f+3]=A=y*G>>V,0!==A?(A=255/A,L[f]=(g*G>>V)*A,L[f+1]=(v*G>>V)*A,L[f+2]=(b*G>>V)*A):L[f]=L[f+1]=L[f+2]=0,g-=_,v-=w,b-=S,y-=C,_-=z.r,w-=z.g,S-=z.b,C-=z.a,h=m+((h=c+l+1)<R?h:R)<<2,k+=z.r=L[h],T+=z.g=L[h+1],P+=z.b=L[h+2],x+=z.a=L[h+3],g+=k,v+=T,b+=P,y+=x,z=z.next,_+=E=$.r,w+=O=$.g,S+=D=$.b,C+=A=$.a,k-=E,T-=O,P-=D,x-=A,$=$.next,f+=4;m+=i}for(c=0;c<i;c++){for(T=P=x=k=v=b=y=g=0,f=c<<2,_=N*(E=L[f]),w=N*(O=L[f+1]),S=N*(D=L[f+2]),C=N*(A=L[f+3]),g+=H*E,v+=H*O,b+=H*D,y+=H*A,U=B,d=0;d<N;d++)U.r=E,U.g=O,U.b=D,U.a=A,U=U.next;for(p=i,d=1;d<=l;d++)f=p+c<<2,g+=(U.r=E=L[f])*(j=N-d),v+=(U.g=O=L[f+1])*j,b+=(U.b=D=L[f+2])*j,y+=(U.a=A=L[f+3])*j,k+=E,T+=O,P+=D,x+=A,U=U.next,d<F&&(p+=i);for(f=c,z=B,$=M,u=0;u<s;u++)h=f<<2,L[h+3]=A=y*G>>V,A>0?(A=255/A,L[h]=(g*G>>V)*A,L[h+1]=(v*G>>V)*A,L[h+2]=(b*G>>V)*A):L[h]=L[h+1]=L[h+2]=0,g-=_,v-=w,b-=S,y-=C,_-=z.r,w-=z.g,S-=z.b,C-=z.a,h=c+((h=u+N)<F?h:F)*i<<2,g+=k+=z.r=L[h],v+=T+=z.g=L[h+1],b+=P+=z.b=L[h+2],y+=x+=z.a=L[h+3],z=z.next,_+=E=$.r,w+=O=$.g,S+=D=$.b,C+=A=$.a,k-=E,T-=O,P-=D,x-=A,$=$.next,f+=i}return e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(70),r=n(71),o=n(116);t.processImageDataRGBA=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)},r=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},o=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&(n[i[a]]=e[i[a]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(5),c=n(115),u=n(15),d=n(231),h=function(e){var t=e.type,n=(e.theme,e.children),i=o(e,["type","theme","children"]);return s.h("a",a({class:"layoverButton layoverButton"+t},i),n)},p=function(e){var t=e.type,n=e.theme,i=e.children,r=o(e,["type","theme","children"]);return s.h("a",a({class:"layoverButton layoverButton"+t+" ui-btn ui-btn-up-"+n+" ui-shadow ui-btn-corner-all ui-btn-inline"},r),s.h("span",{class:"ui-btn-inner"},s.h("span",{class:"ui-btn-text"},i)))},f=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSpyPrivateChatClick=function(e){e.preventDefault(),chat.gotoVoyeur()},n.handleJoinGroupChat=function(e){e.preventDefault(),chat.gotoGroupChat()},n.handleBuyTokensPopup=function(e){e.preventDefault(),chat.buyTokensPopup()},n.state={},n}return i(t,e),t.prototype.getStatusText=function(){var e=this.props.type,t="",n=l.default.getState(),i=n.isMobile;if(!n.player.layover.base_path_new2){if(i)switch(e){case c.CHAT_FLAGS.CHAT_STATUS_PRIVATE:return __("I'm in Private Chat");case c.CHAT_FLAGS.CHAT_STATUS_FULL_PRIVATE:return __("I'm in Full Private Chat");case c.CHAT_FLAGS.CHAT_STATUS_GROUP:return __("I'm in Group Chat")}switch(e){case c.CHAT_FLAGS.CHAT_STATUS_AWAY:t=__("I'm Away");break;case c.CHAT_FLAGS.CHAT_STATUS_PRIVATE:t=__("I'm Private");break;case c.CHAT_FLAGS.CHAT_STATUS_FULL_PRIVATE:t=__("I'm Full Private");break;case c.CHAT_FLAGS.CHAT_STATUS_GROUP:t=__("I'm Group");break;case c.CHAT_FLAGS.CHAT_STATUS_OFFLINE:t=__("I'm Offline")}return t}},t.prototype.renderLimit=function(){var e=this.props,t=e.isMobile,n=e.isAuthenticated;return t?n?s.h(d.TransHTML,{tagName:"a",class:"layoverLimitText",text:"You've watched all of the video you%br%can as a FREE member today!%br%%br%%span_start%Only premium members%br%get to enjoy unlimited video.%span_end%%br%Buy any amount of tokens just once, and become a premium member for life!",params:{br:"<br/>",span_start:'<span style="color: #339900">',span_end:"</span>"},onClick:this.handleBuyTokensPopup}):s.h(d.TransHTML,{tagName:"a",href:"#join",class:"layoverLimitText",text:"You've watched all of the video you%br%can as a guest today!%br%%br%%span_start%Create a 100% FREE account%span_end%%br%to watch more!",params:{br:"<br/>",span_start:'<span style="color: #339900">',span_end:"</span>"}}):null},t.prototype.render=function(e,t){var n=e.type,i=e.url,a=e.center,r=e.isMobile,o=!r||[c.CHAT_FLAGS.CHAT_STATUS_VIP,c.CHAT_FLAGS.CHAT_STATUS_LIMIT].indexOf(n)<0,l=a||[c.CHAT_FLAGS.CHAT_STATUS_PRIVATE,c.CHAT_FLAGS.CHAT_STATUS_GROUP].indexOf(n)>=0,u=r?p:h;return s.h("div",{class:"layover",style:{backgroundImage:"url("+i+")"}},n===c.CHAT_FLAGS.CHAT_STATUS_LIMIT&&this.renderLimit(),o&&s.h("span",{class:{layoverText:!0,layoverCenter:l}},s.h("span",{class:"layoverIns"},this.getStatusText()),n===c.CHAT_FLAGS.CHAT_STATUS_PRIVATE&&s.h(u,{type:"Voyeur",theme:"b",onClick:this.handleSpyPrivateChatClick},__("Spy Private Chat")),n===c.CHAT_FLAGS.CHAT_STATUS_GROUP&&s.h(u,{type:"Group",theme:"e",onClick:this.handleJoinGroupChat},__("Join Group Chat"))))},t.defaultProps={type:"",url:"",center:!1},t=r([u.connect("isMobile, isAuthenticated")],t)}(s.Component);t.default=f},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(e,t){return a.h("div",{key:"video_player_container_root",id:"video_player_container"})},t.defaultProps={},t}(a.Component);t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(506);t.SpinnerDefault=i.SpinnerDefault;var a=n(507);t.SpinnerRunetki=a.SpinnerRunetki;var r=n(508);t.SpinnerRunetkiMobile=r.SpinnerRunetkiMobile},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.SpinnerDefault=function(){return i.h("span",{class:"spinner spinner-small"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.SpinnerRunetki=function(){return i.h("div",{class:"spinner video_loader"},i.h("div",{class:"q q1"}),i.h("div",{class:"q q2"}),i.h("div",{class:"q q3"}),i.h("div",{class:"q q4"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.SpinnerRunetkiMobile=function(){return i.h("div",{class:"chat-loader"},i.h("div",{class:"sircular-loader-50"},i.h("svg",{class:"circular"},i.h("circle",{class:"circular-path",cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.NORMAL="normal",e.HD="hd"}(t.PLAYER_QUALITY||(t.PLAYER_QUALITY={}))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i(t,e),t.prototype.shouldComponentUpdate=function(e){return e.disabled},t.prototype.render=function(e,t){var n=e.children;return n&&1===n.length?n[0]:a.h("div",null,n)},t.defaultProps={disabled:!1},t}(a.Component);t.default=r},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(491),s=n(15),l=n(629),c=n(504),u=n(630),d=n(404),h=n(47),p=n(636),f=n(505),m=n(642),g=(n(649),n(200)),v=n(509),b=n(406),y=n(181),_=n(650),w=n(510),S=n(576),C=n(405),k=function(t){function n(e){var n=t.call(this,e)||this;return n.qualityTimer=0,n.updateTimer=0,n.chromeCastControls=null,n.chromeCastButton=null,n.refChromeCast=function(e){n.chromeCastControls||(n.chromeCastControls=e,n.chromeCastButton=document.createElement("google-cast-launcher"),n.chromeCastButton.id="cast-button",n.chromeCastButton.className="cast-button cast-launcher",e.appendChild(n.chromeCastButton))},n.updateStreamTimer=function(){n.setState(null)},n.handleDialogsOutsideClick=function(){n.setState({dialog:""})},n.handleLiveClick=function(){console.log("[ts]","Live mode"),n.resetPosition()},n.handleToggleSettings=function(e){n.qualityTimer&&(window.clearTimeout(n.qualityTimer),n.qualityTimer=0);var t=n.state,i=t.settingsVisible;t.dialog||(n.setState({settingsVisible:!i}),e.stopPropagation())},n.onVolumeChange=function(e){y.default.instance.setRawVolume(e),n.setState({soundVolume:e})},n.onVolumeBeforeDrag=function(){n.setState({volumeHold:!0})},n.onVolumeAfterDrag=function(){n.setState({volumeHold:!1})},n.onSeek=function(e){n.setState({position:e}),window.chat.seekStream(e)},n.resetPosition=function(){n.setState({position:1})},n.streamClosed=function(){n.setState({settingsVisible:!1,qualityAuto:!0})},n.handleOnChatUserData=function(){n.setState({modelTimeOffset:chat.performerData&&chat.performerData.sessionTs||0})},n.toggleSound=function(){chat.player&&(chat.player.userClick=!0),y.default.instance.toggleSound(),n.setState({soundVolume:y.default.instance.volume})},n.handleQualityClick=function(e){n.setState({settingsVisible:!1,qualityAuto:"auto"===e}),chat.player&&chat.player.setRendition(e)},n.handleQualityEnter=function(){n.qualityTimer&&(window.clearTimeout(n.qualityTimer),n.qualityTimer=0),n.state.settingsVisible||n.setState({settingsVisible:!0})},n.handleQualityLeave=function(){window.clearTimeout(n.qualityTimer),n.qualityTimer=window.setTimeout(function(){n.setState({settingsVisible:!1})},400)},n.handleContextMenu=function(e){e.preventDefault(),e.stopPropagation()},n.handleContainerClick=function(e){!n.props.isLiveStreamPromo&&!n.props.isStreamOnly||e.target.classList.contains("button-sound")||chat.openRoomInWindow()},n.state={name:e.name||h.genRandomGUID(),dialog:"",settingsVisible:!1,videoQuality:g.default.available?v.PLAYER_QUALITY.HD:v.PLAYER_QUALITY.NORMAL,soundVolume:e.volume||e.soundVolume||0,volumeHold:!1,position:1,qualityAuto:!0,modelTimeOffset:0},n}return i(n,t),n.prototype.componentWillMount=function(){p.initPlayerIcons(),clearInterval(this.updateTimer),this.updateTimer=window.setInterval(this.updateStreamTimer,1e3),e("#bChat").off("onBeforeGetRoom.player").off("onRoomClose.player").off("onCloseStream.player").off("onUserData.player").on("onBeforeGetRoom.player",this.resetPosition).on("onRoomClose.player",this.resetPosition).on("onCloseStream.player",this.streamClosed).on("onUserData.player",this.handleOnChatUserData)},n.prototype.componentWillUnmount=function(){clearInterval(this.updateTimer),e("#bChat").off("onBeforeGetRoom.player").off("onRoomClose.player").off("onCloseStream.player").off("onUserData.player"),this.chromeCastButton&&(this.chromeCastButton.remove(),"dispose"in this.chromeCastButton&&this.chromeCastButton.dispose())},n.prototype.componentWillReceiveProps=function(e,t){this.setState({soundVolume:e.volume||e.soundVolume||0})},n.prototype.getChildContext=function(){return{player:this}},n.prototype.render=function(e,t){var n=e.layover,i=e.skinId,a=e.isModerator,s=(e.isFullMobile,e.isRunetki),h=e.chatRoomTitle,p=e.renditions,g=e.currentRendition,y=e.isLiveStreamPromo,k=e.lspStyle,T=e.chromeCastActive,P=e.chromeCastAvailable,x=e.chromeCastDevice,E=e.playerSkin,O=t.dialog,D=t.settingsVisible,A=t.qualityAuto,j=t.videoQuality,M=t.soundVolume,L=t.volumeHold,I=t.position,R=t.modelTimeOffset,F=s?f.SpinnerRunetki:f.SpinnerDefault,N=(j===v.PLAYER_QUALITY.HD||parseInt(g),p.length>=1),H="player_light"===E?"icon-light-tv-stream":"icon-tv-stream";return r.h("div",{id:"stream-layer",onContextMenu:this.handleContextMenu,class:[E],onClick:this.handleContainerClick},r.h("div",{id:"EmbedSWF"},r.h("div",{key:"stream_container",id:"stream-container",class:[n.visible&&"layover-enabled",D&&"settings_visible"]},r.h(F,null),r.h(c.default,{key:"video_player_container"}),r.h("div",{id:"playercontainer",class:{"pl-hold":!n.visible&&(""!==O||D||L)}},r.h("div",{class:"player-background"}),r.h("div",{id:"controls"},r.h("div",{class:"player-leftbar"},r.h(m.PlayerLiveStatus,{onClick:this.handleLiveClick})),r.h(m.PlayerProgressBar,{position:I},!T&&"player_dark"===E&&r.h("div",{class:"progress_time"},S.toHHMMSS(Math.floor((new Date).getTime()/1e3)-R)),T&&r.h("div",{class:"progress_tv_stream"},r.h(C.PlayerIcon,{icon:"icon-tv-stream-active",type:"button-stream"}),__("Playing on %device%",{device:x}))),r.h("div",{class:"player-rightbar"},r.h(m.PlayerVolumeButton,{volume:M,iconSetName:y?"icon-sound-ads-"+("chathead"===k?"chathead-":""):"player_light"===E&&"icon-light-sound-",iconSetLength:"player_light"===E?2:4}),r.h(m.PlayerVolumeBar,{volume:M}),N&&r.h("div",{class:"button-settings big_hover",onMouseEnter:this.handleQualityEnter,onMouseLeave:this.handleQualityLeave},N&&D&&r.h(_.default,{onClick:this.handleQualityClick,renditions:p,currentRendition:g,auto:A,sort:"DESC"}),r.h("div",{class:"player-button",onClick:this.handleToggleSettings},r.h("span",{class:"controls_current_rendition"},g))),P&&r.h("div",{key:"google-chrome-cast",class:"stream-cast cast-control big_hover"},r.h(b.PlayerToolTip,{restrictionElement:this.base,restrictionPadding:10,type:"cast-tooltip"},__("Stream on TV")),r.h(C.PlayerIcon,{icon:T?H+"-active":H,type:"button-stream"}),r.h(w.default,null,r.h("div",{class:"chrome-cast-wrapper",ref:this.refChromeCast}))),r.h(m.PlayerFullScreenButton,{enlargeIconName:"player_light"===E&&"icon-light-enlarge",minimizeIconName:"player_light"===E&&"icon-light-minimize"}))),r.h(u.default,{dialog:O,onOutsideClick:this.handleDialogsOutsideClick},r.h(d.DialogPremiumOnly,{dialogName:d.VIDEO_PLAYER_DIALOG_PREMIUM_ONLY}),r.h(d.DialogFlashToggleFirst,{dialogName:d.VIDEO_PLAYER_DIALOG_FLASH_TOGGLE_FIRST}),r.h(d.DialogFlashToggleSecond,{dialogName:d.VIDEO_PLAYER_DIALOG_FLASH_TOGGLE_SECOND}),r.h(d.DialogFlashBigFirst,{dialogName:d.VIDEO_PLAYER_DIALOG_FLASH_BIG_FIRST}),r.h(d.DialogFlashBigSecond,{dialogName:d.VIDEO_PLAYER_DIALOG_FLASH_BIG_SECOND}))),n.visible&&r.h(o.default,{type:n.type,sex:n.sex,url:n.url}),a&&r.h(l.default,null),!y&&r.h("div",{id:"layover-logo",class:"layover-logo wm_skin_"+i}))),r.h("div",{class:"hover_block",style:"display:none;"},r.h("svg",{class:"pl_mini-restore"},r.h("use",{xlinkHref:"#icon-restore"})),r.h(m.PlayerVolumeButton,{volume:M,toolTipAlign:"right",iconSetName:"player_light"===E&&"icon-light-sound-",iconSetLength:"player_light"===E?2:4})),r.h("div",{class:"player_caption"},r.h("span",null,h),r.h("div",{class:"btn-close"},r.h("div",{class:"btn-close-arrow"}))))},n.defaultProps={playerSkin:"player_light"},n=a([s.connect(["layover","skinId","isModerator","isRunetki","isFullMobile","chatRoomTitle","volume","soundVolume","renditions","currentRendition","isLiveStreamPromo","isStreamOnly","lspStyle","chromeCastActive","chromeCastAvailable","chromeCastDevice","playerSkin"])],n)}(r.Component);t.default=k}).call(t,n(0))},,,function(e,t,n){"use strict";(function(e){function t(){e("#cam_preview_overlay").show()}e(function(){try{e("#ClientInfoSwf").flashembed({src:"/swf/ClientInfo.swf",width:6,height:6},{})}catch(e){}e("body").on("click","#cam_preview_toggle_sound",function(){try{var t=e("#cam_preview_object").get(0);e(this).hasClass("on")?(e(this).removeClass("on"),t.muteAudio(!0)):(e(this).addClass("on"),t.muteAudio(!1))}catch(e){console&&console.log(e)}})}),window.previewCloseStream=t;var n={version:"",language:"",os:"",setData:function(e){this.version=e.version,this.language=e.language,this.os=e.os}};window.FP_ClientInfo=n}).call(t,n(0))},,,,,,function(e,t,n){n(3)(n(546))},function(e,t){e.exports=';(function() {\n"use strict"\nfunction Vnode(tag, key, attrs0, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined, skip: false}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode("[", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== "object") return Vnode("#", undefined, undefined, node === false ? "" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function normalizeChildren(children) {\n\tfor (var i = 0; i < children.length; i++) {\n\t\tchildren[i] = Vnode.normalize(children[i])\n\t}\n\treturn children\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*("|\'|)((?:\\\\["\'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = "div", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === "" && value !== "") tag = value\n\t\telse if (type === "#") attrs.id = value\n\t\telse if (type === ".") classes.push(value)\n\t\telse if (match[3][0] === "[") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\(["\'])/g, "$1").replace(/\\\\\\\\/g, "\\\\")\n\t\t\tif (match[4] === "class") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === "" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(" ")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, attrs, children) {\n\tvar hasAttrs = false, childList, text\n\tvar className = attrs.className || attrs.class\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor(var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) {\n\t\t\t\tnewAttrs[key] = attrs[key]\n\t\t\t}\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key)) {\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className !== undefined) {\n\t\tif (attrs.class !== undefined) {\n\t\t\tattrs.class = undefined\n\t\t\tattrs.className = className\n\t\t}\n\t\tif (state.attrs.className != null) {\n\t\t\tattrs.className = state.attrs.className + " " + className\n\t\t}\n\t}\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== "key") {\n\t\t\thasAttrs = true\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === "#") {\n\t\ttext = children[0].children\n\t} else {\n\t\tchildList = children\n\t}\n\treturn Vnode(state.tag, attrs.key, hasAttrs ? attrs : undefined, childList, text)\n}\nfunction hyperscript(selector) {\n\t// Because sloppy mode sucks\n\tvar attrs = arguments[1], start = 2, children\n\tif (selector == null || typeof selector !== "string" && typeof selector !== "function" && typeof selector.view !== "function") {\n\t\tthrow Error("The selector must be either a string or a component.");\n\t}\n\tif (typeof selector === "string") {\n\t\tvar cached = selectorCache[selector] || compileSelector(selector)\n\t}\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== "object" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = 1\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\tvar normalized = Vnode.normalizeChildren(children)\n\tif (typeof selector === "string") {\n\t\treturn execSelector(cached, attrs, normalized)\n\t} else {\n\t\treturn Vnode(selector, attrs.key, attrs, normalized)\n\t}\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = ""\n\treturn Vnode("<", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function(attrs1, children) {\n\treturn Vnode("[", attrs1.key, attrs1, Vnode.normalizeChildren(children), undefined, undefined)\n}\nvar m = hyperscript\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error("Promise must be called with `new`")\n\tif (typeof executor !== "function") throw new TypeError("executor must be a function")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === "function" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === "object" || typeof value === "function") && typeof (then = value.then) === "function") {\n\t\t\t\t\tif (value === self) throw new TypeError("Promise can\'t be resolved w/ itself")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error("Possible unhandled promise rejection:", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== "function") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === "function" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === "object" || typeof list[i] === "function") && typeof list[i].then === "function") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== "undefined") {\n\tif (typeof window.Promise === "undefined") window.Promise = PromisePolyfill\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== "undefined") {\n\tif (typeof global.Promise === "undefined") global.Promise = PromisePolyfill\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== "[object Object]") return ""\n\tvar args = []\n\tfor (var key0 in object) {\n\t\tdestructure(key0, object[key0])\n\t}\n\treturn args.join("&")\n\tfunction destructure(key0, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key0 + "[" + i + "]", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === "[object Object]") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key0 + "[" + i + "]", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key0) + (value != null && value !== "" ? "=" + encodeURIComponent(value) : ""))\n\t}\n}\nvar FILE_PROTOCOL_REGEX = new RegExp("^file://", "i")\nvar _8 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction setCompletionCallback(callback) {oncompletion = callback}\n\tfunction finalizer() {\n\t\tvar count = 0\n\t\tfunction complete() {if (--count === 0 && typeof oncompletion === "function") oncompletion()}\n\t\treturn function finalize(promise0) {\n\t\t\tvar then0 = promise0.then\n\t\t\tpromise0.then = function() {\n\t\t\t\tcount++\n\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\tcomplete()\n\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t})\n\t\t\t\treturn finalize(next)\n\t\t\t}\n\t\t\treturn promise0\n\t\t}\n\t}\n\tfunction normalize(args, extra) {\n\t\tif (typeof args === "string") {\n\t\t\tvar url = args\n\t\t\targs = extra || {}\n\t\t\tif (args.url == null) args.url = url\n\t\t}\n\t\treturn args\n\t}\n\tfunction request(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tif (args.method == null) args.method = "GET"\n\t\t\targs.method = args.method.toUpperCase()\n\t\t\tvar useBody = (args.method === "GET" || args.method === "TRACE") ? false : (typeof args.useBody === "boolean" ? args.useBody : true)\n\t\t\tif (typeof args.serialize !== "function") args.serialize = typeof FormData !== "undefined" && args.data instanceof FormData ? function(value) {return value} : JSON.stringify\n\t\t\tif (typeof args.deserialize !== "function") args.deserialize = deserialize\n\t\t\tif (typeof args.extract !== "function") args.extract = extract\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\tif (useBody) args.data = args.serialize(args.data)\n\t\t\telse args.url = assemble(args.url, args.data)\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(args.method, args.url, typeof args.async === "boolean" ? args.async : true, typeof args.user === "string" ? args.user : undefined, typeof args.password === "string" ? args.password : undefined)\n\t\t\tif (args.serialize === JSON.stringify && useBody && !(args.headers && args.headers.hasOwnProperty("Content-Type"))) {\n\t\t\t\txhr.setRequestHeader("Content-Type", "application/json; charset=utf-8")\n\t\t\t}\n\t\t\tif (args.deserialize === deserialize && !(args.headers && args.headers.hasOwnProperty("Accept"))) {\n\t\t\t\txhr.setRequestHeader("Accept", "application/json, text/*")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tfor (var key in args.headers) if ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t}\n\t\t\tif (typeof args.config === "function") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don\'t throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar response = (args.extract !== extract) ? args.extract(xhr, args) : args.deserialize(args.extract(xhr, args))\n\t\t\t\t\t\tif ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || FILE_PROTOCOL_REGEX.test(args.url)) {\n\t\t\t\t\t\t\tresolve(cast(args.type, response))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\terror.code = xhr.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && (args.data != null)) xhr.send(args.data)\n\t\t\telse xhr.send()\n\t\t})\n\t\treturn args.background === true ? promise0 : finalize(promise0)\n\t}\n\tfunction jsonp(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || "_mithril_" + Math.round(Math.random() * 1e16) + "_" + callbackCount++\n\t\t\tvar script = $window.document.createElement("script")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(cast(args.type, data))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error("JSONP request failed"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tif (args.data == null) args.data = {}\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\targs.data[args.callbackKey || "callback"] = callbackName\n\t\t\tscript.src = assemble(args.url, args.data)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t})\n\t\treturn args.background === true? promise0 : finalize(promise0)\n\t}\n\tfunction interpolate(url, data) {\n\t\tif (data == null) return url\n\t\tvar tokens = url.match(/:[^\\/]+/gi) || []\n\t\tfor (var i = 0; i < tokens.length; i++) {\n\t\t\tvar key = tokens[i].slice(1)\n\t\t\tif (data[key] != null) {\n\t\t\t\turl = url.replace(tokens[i], data[key])\n\t\t\t}\n\t\t}\n\t\treturn url\n\t}\n\tfunction assemble(url, data) {\n\t\tvar querystring = buildQueryString(data)\n\t\tif (querystring !== "") {\n\t\t\tvar prefix = url.indexOf("?") < 0 ? "?" : "&"\n\t\t\turl += prefix + querystring\n\t\t}\n\t\treturn url\n\t}\n\tfunction deserialize(data) {\n\t\ttry {return data !== "" ? JSON.parse(data) : null}\n\t\tcatch (e) {throw new Error(data)}\n\t}\n\tfunction extract(xhr) {return xhr.responseText}\n\tfunction cast(type0, data) {\n\t\tif (typeof type0 === "function") {\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\tdata[i] = new type0(data[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\telse return new type0(data)\n\t\t}\n\t\treturn data\n\t}\n\treturn {request: request, jsonp: jsonp, setCompletionCallback: setCompletionCallback}\n}\nvar requestService = _8(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar $emptyFragment = $doc.createDocumentFragment()\n\tvar nameSpace = {\n\t\tsvg: "http://www.w3.org/2000/svg",\n\t\tmath: "http://www.w3.org/1998/Math/MathML"\n\t}\n\tvar onevent\n\tfunction setEventCallback(callback) {return onevent = callback}\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\t//sanity check to discourage people from doing `vnode.state = ...`\n\tfunction checkState(vnode, original) {\n\t\tif (vnode.state !== original) throw new Error("`vnode.state` must not be modified")\n\t}\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode) {\n\t\tvar original = vnode.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode, original)\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === "string") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase "#": return createText(parent, vnode, nextSibling)\n\t\t\t\tcase "<": return createHTML(parent, vnode, nextSibling)\n\t\t\t\tcase "[": return createFragment(parent, vnode, hooks, ns, nextSibling)\n\t\t\t\tdefault: return createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse return createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t\treturn vnode.dom\n\t}\n\tfunction createHTML(parent, vnode, nextSibling) {\n\t\tvar match1 = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\tvar parent1 = {caption: "table", thead: "table", tbody: "table", tfoot: "table", tr: "tbody", th: "tr", td: "tr", colgroup: "table", col: "colgroup"}[match1[1]] || "div"\n\t\tvar temp = $doc.createElement(parent1)\n\t\ttemp.innerHTML = vnode.children\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs2 = vnode.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== "") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode("#", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tsetLateAttrs(vnode)\n\t\t\t}\n\t\t}\n\t\treturn element\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === "function") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === "function") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tinitLifecycle(vnode.state, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\tif (vnode.instance === vnode) throw Error("A view cannot return the vnode it received as argument")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tvar element = createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t\tinsertNode(parent, element, nextSibling)\n\t\t\treturn element\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t\treturn $emptyFragment\n\t\t}\n\t}\n\t//update\n\tfunction updateNodes(parent, old, vnodes, recycling, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null) removeNodes(old, 0, old.length, vnodes)\n\t\telse {\n\t\t\tif (old.length === vnodes.length) {\n\t\t\t\tvar isUnkeyed = false\n\t\t\t\tfor (var i = 0; i < vnodes.length; i++) {\n\t\t\t\t\tif (vnodes[i] != null && old[i] != null) {\n\t\t\t\t\t\tisUnkeyed = vnodes[i].key == null && old[i].key == null\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isUnkeyed) {\n\t\t\t\t\tfor (var i = 0; i < old.length; i++) {\n\t\t\t\t\t\tif (old[i] === vnodes[i]) continue\n\t\t\t\t\t\telse if (old[i] == null && vnodes[i] != null) createNode(parent, vnodes[i], hooks, ns, getNextSibling(old, i + 1, nextSibling))\n\t\t\t\t\t\telse if (vnodes[i] == null) removeNodes(old, i, i + 1, vnodes)\n\t\t\t\t\t\telse updateNode(parent, old[i], vnodes[i], hooks, getNextSibling(old, i + 1, nextSibling), recycling, ns)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\trecycling = recycling || isRecyclable(old, vnodes)\n\t\t\tif (recycling) {\n\t\t\t\tvar pool = old.pool\n\t\t\t\told = old.concat(old.pool)\n\t\t\t}\n\t\t\tvar oldStart = 0, start = 0, oldEnd = old.length - 1, end = vnodes.length - 1, map\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldStart], v = vnodes[start]\n\t\t\t\tif (o === v && !recycling) oldStart++, start++\n\t\t\t\telse if (o == null) oldStart++\n\t\t\t\telse if (v == null) start++\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldStart >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar o = old[oldEnd]\n\t\t\t\t\tif (o === v && !recycling) oldEnd--, start++\n\t\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\t\tif (recycling || start < end) insertNode(parent, toFragment(o), getNextSibling(old, oldStart, nextSibling))\n\t\t\t\t\t\toldEnd--, start++\n\t\t\t\t\t}\n\t\t\t\t\telse break\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldEnd], v = vnodes[end]\n\t\t\t\tif (o === v && !recycling) oldEnd--, end--\n\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\telse if (v == null) end--\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\tif (o.dom != null) nextSibling = o.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!map) map = getKeyMap(old, oldEnd)\n\t\t\t\t\tif (v != null) {\n\t\t\t\t\t\tvar oldIndex = map[v.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tvar movable = old[oldIndex]\n\t\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldIndex >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\t\tupdateNode(parent, movable, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\t\t\tinsertNode(parent, toFragment(movable), nextSibling)\n\t\t\t\t\t\t\told[oldIndex].skip = true\n\t\t\t\t\t\t\tif (movable.dom != null) nextSibling = movable.dom\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar dom = createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\tnextSibling = dom\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tend--\n\t\t\t\t}\n\t\t\t\tif (end < start) break\n\t\t\t}\n\t\t\tcreateNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\tremoveNodes(old, oldStart, oldEnd + 1, vnodes)\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode.events = old.events\n\t\t\tif (!recycling && shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === "string") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tif (recycling) {\n\t\t\t\t\t\tvnode.state = {}\n\t\t\t\t\t\tinitLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t\t}\n\t\t\t\t\telse updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase "#": updateText(old, vnode); break\n\t\t\t\t\tcase "<": updateHTML(parent, old, vnode, nextSibling); break\n\t\t\t\t\tcase "[": updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, recycling, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old, null)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode, nextSibling)\n\t\t}\n\t\telse vnode.dom = old.dom, vnode.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, recycling, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, recycling, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\t\tif (vnode.tag === "textarea") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle0 multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse if (old.text != null && vnode.text != null && vnode.text !== "") {\n\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode("#", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode.text != null) vnode.children = [Vnode("#", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode.children, recycling, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tif (recycling) {\n\t\t\tinitComponent(vnode, hooks)\n\t\t} else {\n\t\t\tvnode.instance = Vnode.normalize(callHook.call(vnode.state.view, vnode))\n\t\t\tif (vnode.instance === vnode) throw Error("A view cannot return the vnode it received as argument")\n\t\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tupdateLifecycle(vnode.state, vnode, hooks)\n\t\t}\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, recycling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance, null)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction isRecyclable(old, vnodes) {\n\t\tif (old.pool != null && Math.abs(old.pool.length - vnodes.length) <= Math.abs(old.length - vnodes.length)) {\n\t\t\tvar oldChildrenLength = old[0] && old[0].children && old[0].children.length || 0\n\t\t\tvar poolChildrenLength = old.pool[0] && old.pool[0].children && old.pool[0].children.length || 0\n\t\t\tvar vnodesChildrenLength = vnodes[0] && vnodes[0].children && vnodes[0].children.length || 0\n\t\t\tif (Math.abs(poolChildrenLength - vnodesChildrenLength) <= Math.abs(oldChildrenLength - vnodesChildrenLength)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\tfunction getKeyMap(vnodes, end) {\n\t\tvar map = {}, i = 0\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key2 = vnode.key\n\t\t\t\tif (key2 != null) map[key2] = i\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\tfunction toFragment(vnode) {\n\t\tvar count0 = vnode.domSize\n\t\tif (count0 != null || vnode.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling && nextSibling.parentNode) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode) {\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === "<") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error("Child node of a contenteditable must be trusted")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end, context) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tif (vnode.skip) vnode.skip = false\n\t\t\t\telse removeNode(vnode, context)\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNode(vnode, context) {\n\t\tvar expected = 1, called = 0\n\t\tvar original = vnode.state\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === "function") {\n\t\t\tvar result = callHook.call(vnode.attrs.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === "function") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (typeof vnode.tag !== "string" && typeof vnode.state.onbeforeremove === "function") {\n\t\t\tvar result = callHook.call(vnode.state.onbeforeremove, vnode)\n\t\t\tif (result != null && typeof result.then === "function") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tcheckState(vnode, original)\n\t\t\t\tonremove(vnode)\n\t\t\t\tif (vnode.dom) {\n\t\t\t\t\tvar count0 = vnode.domSize || 1\n\t\t\t\t\tif (count0 > 1) {\n\t\t\t\t\t\tvar dom = vnode.dom\n\t\t\t\t\t\twhile (--count0) {\n\t\t\t\t\t\t\tremoveNodeFromDOM(dom.nextSibling)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tremoveNodeFromDOM(vnode.dom)\n\t\t\t\t\tif (context != null && vnode.domSize == null && !hasIntegrationMethods(vnode.attrs) && typeof vnode.tag === "string") { //TODO test custom elements\n\t\t\t\t\t\tif (!context.pool) context.pool = [vnode]\n\t\t\t\t\t\telse context.pool.push(vnode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNodeFromDOM(node) {\n\t\tvar parent = node.parentNode\n\t\tif (parent != null) parent.removeChild(node)\n\t}\n\tfunction onremove(vnode) {\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === "function") callHook.call(vnode.attrs.onremove, vnode)\n\t\tif (typeof vnode.tag !== "string") {\n\t\t\tif (typeof vnode.state.onremove === "function") callHook.call(vnode.state.onremove, vnode)\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode, attrs2, ns) {\n\t\tfor (var key2 in attrs2) {\n\t\t\tsetAttr(vnode, key2, null, attrs2[key2], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key2, old, value, ns) {\n\t\tif (key2 === "key" || key2 === "is" || isLifecycleMethod(key2)) return\n\t\tif (key2[0] === "o" && key2[1] === "n") return updateEvent(vnode, key2, value)\n\t\tif ((old === value && !isFormAttribute(vnode, key2)) && typeof value !== "object" || value === undefined) return\n\t\tvar element = vnode.dom\n\t\tif (key2.slice(0, 6) === "xlink:") element.setAttributeNS("http://www.w3.org/1999/xlink", key2, value)\n\t\telse if (key2 === "style") updateStyle(element, old, value)\n\t\telse if (key2 in element && !isAttribute(key2) && ns === undefined && !isCustomElement(vnode)) {\n\t\t\tif (key2 === "value") {\n\t\t\t\tvar normalized0 = "" + value // eslint-disable-line no-implicit-coercion\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === "input" || vnode.tag === "textarea") && vnode.dom.value === normalized0 && vnode.dom === $doc.activeElement) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === "select") {\n\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\tif (vnode.dom.selectedIndex === -1 && vnode.dom === $doc.activeElement) return\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (old !== null && vnode.dom.value === normalized0 && vnode.dom === $doc.activeElement) return\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === "option" && old != null && vnode.dom.value === normalized0) return\n\t\t\t}\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error1 will occur.\n\t\t\tif (vnode.tag === "input" && key2 === "type") {\n\t\t\t\telement.setAttribute(key2, value)\n\t\t\t\treturn\n\t\t\t}\n\t\t\telement[key2] = value\n\t\t}\n\t\telse {\n\t\t\tif (typeof value === "boolean") {\n\t\t\t\tif (value) element.setAttribute(key2, "")\n\t\t\t\telse element.removeAttribute(key2)\n\t\t\t}\n\t\t\telse element.setAttribute(key2 === "className" ? "class" : key2, value)\n\t\t}\n\t}\n\tfunction setLateAttrs(vnode) {\n\t\tvar attrs2 = vnode.attrs\n\t\tif (vnode.tag === "select" && attrs2 != null) {\n\t\t\tif ("value" in attrs2) setAttr(vnode, "value", null, attrs2.value, undefined)\n\t\t\tif ("selectedIndex" in attrs2) setAttr(vnode, "selectedIndex", null, attrs2.selectedIndex, undefined)\n\t\t}\n\t}\n\tfunction updateAttrs(vnode, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key2 in attrs2) {\n\t\t\t\tsetAttr(vnode, key2, old && old[key2], attrs2[key2], ns)\n\t\t\t}\n\t\t}\n\t\tif (old != null) {\n\t\t\tfor (var key2 in old) {\n\t\t\t\tif (attrs2 == null || !(key2 in attrs2)) {\n\t\t\t\t\tif (key2 === "className") key2 = "class"\n\t\t\t\t\tif (key2[0] === "o" && key2[1] === "n" && !isLifecycleMethod(key2)) updateEvent(vnode, key2, undefined)\n\t\t\t\t\telse if (key2 !== "key") vnode.dom.removeAttribute(key2)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === "value" || attr === "checked" || attr === "selectedIndex" || attr === "selected" && vnode.dom === $doc.activeElement || vnode.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === "oninit" || attr === "oncreate" || attr === "onupdate" || attr === "onremove" || attr === "onbeforeremove" || attr === "onbeforeupdate"\n\t}\n\tfunction isAttribute(attr) {\n\t\treturn attr === "href" || attr === "list" || attr === "form" || attr === "width" || attr === "height"// || attr === "type"\n\t}\n\tfunction isCustomElement(vnode){\n\t\treturn vnode.attrs.is || vnode.tag.indexOf("-") > -1\n\t}\n\tfunction hasIntegrationMethods(source) {\n\t\treturn source != null && (source.oncreate || source.onupdate || source.onbeforeremove || source.onremove)\n\t}\n\t//style\n\tfunction updateStyle(element, old, style) {\n\t\tif (old != null && style != null && typeof old === "object" && typeof style === "object" && style !== old) {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key2 in style) {\n\t\t\t\tif (style[key2] !== old[key2]) element.style[key2] = style[key2]\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key2 in old) {\n\t\t\t\tif (!(key2 in style)) element.style[key2] = ""\n\t\t\t}\n\t\t\treturn\n\t\t}\n\t\tif (old === style) element.style.cssText = "", old = null\n\t\tif (style == null) element.style.cssText = ""\n\t\telse if (typeof style === "string") element.style.cssText = style\n\t\telse {\n\t\t\tif (typeof old === "string") element.style.cssText = ""\n\t\t\tfor (var key2 in style) {\n\t\t\t\telement.style[key2] = style[key2]\n\t\t\t}\n\t\t}\n\t}\n\t// Here\'s an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler0 before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\tfunction EventDict() {}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler0 = this["on" + ev.type]\n\t\tif (typeof handler0 === "function") handler0.call(ev.target, ev)\n\t\telse if (typeof handler0.handleEvent === "function") handler0.handleEvent(ev)\n\t\tif (typeof onevent === "function") onevent.call(ev.target, ev)\n\t}\n\t//event\n\tfunction updateEvent(vnode, key2, value) {\n\t\tif (vnode.events != null) {\n\t\t\tif (vnode.events[key2] === value) return\n\t\t\tif (value != null && (typeof value === "function" || typeof value === "object")) {\n\t\t\t\tif (vnode.events[key2] == null) vnode.dom.addEventListener(key2.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key2] = value\n\t\t\t} else {\n\t\t\t\tif (vnode.events[key2] != null) vnode.dom.removeEventListener(key2.slice(2), vnode.events, false)\n\t\t\t\tvnode.events[key2] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === "function" || typeof value === "object")) {\n\t\t\tvnode.events = new EventDict()\n\t\t\tvnode.dom.addEventListener(key2.slice(2), vnode.events, false)\n\t\t\tvnode.events[key2] = value\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === "function") callHook.call(source.oninit, vnode)\n\t\tif (typeof source.oncreate === "function") hooks.push(callHook.bind(source.oncreate, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === "function") hooks.push(callHook.bind(source.onupdate, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tvar forceVnodeUpdate, forceComponentUpdate\n\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === "function") {\n\t\t\tforceVnodeUpdate = callHook.call(vnode.attrs.onbeforeupdate, vnode, old)\n\t\t}\n\t\tif (typeof vnode.tag !== "string" && typeof vnode.state.onbeforeupdate === "function") {\n\t\t\tforceComponentUpdate = callHook.call(vnode.state.onbeforeupdate, vnode, old)\n\t\t}\n\t\tif (!(forceVnodeUpdate === undefined && forceComponentUpdate === undefined) && !forceVnodeUpdate && !forceComponentUpdate) {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.")\n\t\tvar hooks = []\n\t\tvar active = $doc.activeElement\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time rendering0 into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = ""\n\t\tif (!Array.isArray(vnodes)) vnodes = [vnodes]\n\t\tupdateNodes(dom, dom.vnodes, Vnode.normalizeChildren(vnodes), false, hooks, null, namespace === "http://www.w3.org/1999/xhtml" ? undefined : namespace)\n\t\tdom.vnodes = vnodes\n\t\t// document.activeElement can return null in IE https://developer.mozilla.org/en-US/docs/Web/API/Document/activeElement\n\t\tif (active != null && $doc.activeElement !== active) active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n\treturn {render: render, setEventCallback: setEventCallback}\n}\nfunction throttle(callback) {\n\t//60fps translates to 16.6ms, round it down since setTimeout requires int\n\tvar delay = 16\n\tvar last = 0, pending = null\n\tvar timeout = typeof requestAnimationFrame === "function" ? requestAnimationFrame : setTimeout\n\treturn function() {\n\t\tvar elapsed = Date.now() - last\n\t\tif (pending === null) {\n\t\t\tpending = timeout(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t\tlast = Date.now()\n\t\t\t}, delay - elapsed)\n\t\t}\n\t}\n}\nvar _11 = function($window, throttleMock) {\n\tvar renderService = coreRenderer($window)\n\trenderService.setEventCallback(function(e) {\n\t\tif (e.redraw === false) e.redraw = undefined\n\t\telse redraw()\n\t})\n\tvar callbacks = []\n\tvar rendering = false\n\tfunction subscribe(key1, callback) {\n\t\tunsubscribe(key1)\n\t\tcallbacks.push(key1, callback)\n\t}\n\tfunction unsubscribe(key1) {\n\t\tvar index = callbacks.indexOf(key1)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction sync() {\n\t\tif (rendering) throw new Error("Nested m.redraw.sync() call")\n\t\trendering = true\n\t\tfor (var i = 1; i < callbacks.length; i+=2) try {callbacks[i]()} catch (e) {if (typeof console !== "undefined") console.error(e)}\n\t\trendering = false\n\t}\n\tvar redraw = (throttleMock || throttle)(sync)\n\tredraw.sync = sync\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _11(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _16 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== "function") throw new Error("m.mount(element, component) expects a component, not a vnode")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\trun0()\n\t}\n}\nm.mount = _16(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === "" || string == null) return {}\n\tif (string.charAt(0) === "?") string = string.slice(1)\n\tvar entries = string.split("&"), data0 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split("=")\n\t\tvar key5 = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : ""\n\t\tif (value === "true") value = true\n\t\telse if (value === "false") value = false\n\t\tvar levels = key5.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data0\n\t\tif (key5.indexOf("[") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == "" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j === levels.length - 1\n\t\t\tif (level === "") {\n\t\t\t\tvar key5 = levels.slice(0, j).join()\n\t\t\t\tif (counters[key5] == null) counters[key5] = 0\n\t\t\t\tlevel = counters[key5]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data0\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === "function"\n\tvar callAsync0 = typeof setImmediate === "function" ? setImmediate : setTimeout\n\tfunction normalize1(fragment0) {\n\t\tvar data = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === "pathname" && data[0] !== "/") data = "/" + data\n\t\treturn data\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf("?")\n\t\tvar hashIndex = path.indexOf("#")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key4 in queryParams) queryData[key4] = queryParams[key4]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key4 in hashParams) hashData[key4] = hashParams[key4]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: "#!"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase "#": return normalize1("hash").slice(router.prefix.length)\n\t\t\tcase "?": return normalize1("search").slice(router.prefix.length) + normalize1("hash")\n\t\t\tdefault: return normalize1("pathname").slice(router.prefix.length) + normalize1("search") + normalize1("hash")\n\t\t}\n\t}\n\trouter.setPath = function(path, data, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data != null) {\n\t\t\tfor (var key4 in data) queryData[key4] = data[key4]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match2, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += "?" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += "#" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp("^" + route0.replace(/:[^\\/]+?\\.{3}/g, "(.*?)").replace(/:[^\\/]+/g, "([^\\\\/]+)") + "\\/?$")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, "")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === "#") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _20 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v) {return v}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined")\n\t\tfunction run1() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar redraw2 = function() {\n\t\t\trun1()\n\t\t\tredraw2 = redrawService0.redraw\n\t\t}\n\t\tredrawService0.subscribe(root, run1)\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error("Could not resolve default route " + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === "function" || typeof comp === "function")? comp : "div"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\tredraw2()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === "function") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, "div")\n\t\t\t}\n\t\t}, bail)\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix0) {routeService.prefix = prefix0}\n\tvar link = function(options, vnode1) {\n\t\tvnode1.dom.setAttribute("href", routeService.prefix + vnode1.attrs.href)\n\t\tvnode1.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute("href")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, options)\n\t\t}\n\t}\n\troute.link = function(args0) {\n\t\tif (args0.tag == null) return link.bind(link, args0)\n\t\treturn link({}, args0)\n\t}\n\troute.param = function(key3) {\n\t\tif(typeof attrs3 !== "undefined" && typeof key3 !== "undefined") return attrs3[key3]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _20(window, redrawService)\nm.withAttr = function(attrName, callback, context) {\n\treturn function(e) {\n\t\tcallback.call(context || this, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName))\n\t}\n}\nvar _28 = coreRenderer(window)\nm.render = _28.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = "1.1.3"\nm.vnode = Vnode\nif (typeof module !== "undefined") module["exports"] = m\nelse window.m = m\n}());'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(393),n(178),n(278),n(548)},function(e,t,n){"use strict";(function(e){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(549),r=n(2),o=n(56),s=n(80),l=n(230),c=n(339),u=n(550),d=n(191),h=n(7),p=n(4),f=n(87),m=n(54),g=n(575),v=n(19);e.extend(window.chat,{initLayout:function(){var t=this;this.gameControls=u.default.instance,e("#bChat").bind("onPaidShowStart",function(t,n){switch(e("#bGotoPrivate, #bGotoVoyeur, #bGotoVoyeur2, #bGotoGroup, #bGotoGroup2").hide(),n){case"private":case"fullprivate":e("#bStopShow strong").html(__("Exit Private Chat"));break;case"group":e("#bPaidButtonGroup").removeClass("sv-grid-33 sv-grid-50 hide-first hide-middle").addClass("sv-grid-50 hide-first"),e("#bStopShow strong").html(__("Exit Group Chat"));break;case"voyeur":e("#bStopShow strong").html(__("Exit Spy Mode"))}"vip"!==n&&e("#bStopShow").show()}),e("#bChat").bind("onPaidShowStop",function(t,n,i){e("#bStopShow").hide(),i||(e("#bPaidButtonGroup").removeClass("sv-grid-33 sv-grid-50 hide-first hide-middle"),"private"===chat.performerStatus?e("#bGotoVoyeur2").show():"group"===chat.performerStatus&&e("#bGotoGroup2").show())}),e("#bChat").bind("onUserData",function(t){chat.setChatHeight(),e(".member_registration_performer_username").val(chat.performerData.username);var n=chat.userData.isPerformer?chat.userData.displayName:chat.performerData.displayName;if(chat.userData.isPerformer)try{e.noticeSocket.send({type:"performer_status"})}catch(t){}else{var a=e("body").hasClass("chatPopupBody"),o=e("#mls_chatconsole");if(o.length||a)if(o.length&&o.hasClass("no_change_page_url"))o.removeClass("no_change_page_url");else{var s=location.href.split("/");!l.isLiveStreamPromo&&s.length&&s[s.length-1]!==chat.performerData.username&&chat.updateHistoryState(a?"/chat-popup/":"/")}e(".bChatTopic").html(__("%modelname%'s chat",{modelname:n})),e("#bChatRoomTitle").html(n),e("#bCamStatus").removeClass("hidden");var c=e(".bUnderChatViewProfile, .chatProfileLink"),u="";if(void 0!=c.attr("url_prefix")&&(u=c.attr("url_prefix")+"http://"+window.location.host),c.attr("href",u+chat.buildProfileUrl(chat.performerData)),l.isLiveStreamPromo&&c.removeAttr("target rel"),e("#bLovers").length){e("#bLovers").attr("action",e("#bLovers").attr("url")+"/"+chat.performerData.username);var d=e("#sLovers").attr("pattern"),p=void 0;p=e("#sLovers").find(".i18n_link").length>0?e("#sLovers").find(".i18n_link"):e("#sLovers"),p.html(d.replace("%count%",e.formatNumber(chat.performerData.loversCount)))}if(chat.userData.isLogged){var f={container:e("#tip_model_popup_container"),title:"",closeButton:null,v2:!0};e("#bTipModel").openPopup(i({},f,{afterDisplay:function(){var t=e("#bongacams_popup");t.find(".title_block").find(".name").html(n);var i=e(".chat-tab");t.css({top:i.offset().top+i.outerHeight(!0)-36-t.outerHeight(!0)+"px",left:h.isRTLCulture?i.offset().left+i.outerWidth(!0)-t.outerWidth(!0)-3+"px":i.offset().left+3+"px"}),h.isRTLCulture?t.offset().left<0&&t.css("left",i.offset().left+3+"px"):t.offset().left+t.outerWidth()>window.innerWidth&&t.css("left",window.innerWidth-t.outerWidth()-49+"px")}})),e("#bTipModelFromMiniProfile").openPopup(i({},f,{afterDisplay:function(){var t=e("#bongacams_popup");t.find(".title_block").find(".name").html(n);var i=e("#profile-part").find(".mpb_info");t.css({top:i.offset().top+i.height()+9-t.outerHeight(!0)+"px",left:h.isRTLCulture?i.offset().left+i.outerWidth(!0)-t.outerWidth(!0)+"px":i.offset().left+"px"}),h.isRTLCulture?t.offset().left<0&&t.css("left",i.offset().left+3+"px"):t.offset().left+t.outerWidth()>window.innerWidth&&t.css("left",window.innerWidth-t.outerWidth()-49+"px")}}))}if(chat.performerData){chat.performerData.bwData&&e.isFunction(chat.updatePerformerBandwidth)&&chat.updatePerformerBandwidth(chat.performerData.bwData),e.isFunction(chat.updateRestrictedLanguageList)&&chat.updateRestrictedLanguageList(chat.performerData.restrictedLanguages),e("#pi_mode").html(chat.performerData.isPerHour?__("per hour"):__("default")),e("#fms_origin").html(chat.performerData.originInfo),e("#fms_edge").html(chat.performerData.edgeInfo),chat.performerData.userAgentInfo&&(e("#ua_browser").html(chat.performerData.userAgentInfo.browser),e("#ua_os").html(chat.performerData.userAgentInfo.os));var m=e("#bProfileLink").attr("href");m&&(m=m.replace(/\d+/,chat.performerData.userId),e("#bProfileLink").attr("href",m),e("#bProfileLink").html(chat.performerData.username))}if(e(".underChatSocButton").length){e(".underChatSocButton").remove();window.location.host,chat.buildProfileUrl(chat.performerData);try{twttr.widgets.load(),gapi.plusone.go()}catch(t){}}if(e("#dmca_security_container").remove(),chat.performerData.dmcaSecurity){var g=e("#ResizablePane"),v="width: "+(g.width()-chat.performerData.dmcaSecurity.width)+"px;height: "+(g.height()-chat.performerData.dmcaSecurity.height)+"px;",b="background-image: url("+chat.options.baseUrl+"/"+chat.performerData.dmcaSecurity.image+");width: "+chat.performerData.dmcaSecurity.width+"px;height: "+chat.performerData.dmcaSecurity.height+"px;left: "+chat.performerData.dmcaSecurity.marginLeft+"%;top: "+chat.performerData.dmcaSecurity.marginTop+"%;";g.prepend('<div id="dmca_security_container" style="'+v+'"><div id="dmca_security" style="'+b+'"></div></div>'),chat.adjustDMCASecurityIcon()}}e("#bChatStatus").html(__("You are currently in the public chat")),chat.enableChatInput(),e("#bChatOptions").length&&e("#bChatOptions").show();var y=e("#bChat");if(!l.isLiveStreamPromo){var _=chat.isPremiumMember(chat.userData)||"model"===chat.userData.role||"moderator"===chat.userData.role;y.find(".inputContainer").initSmilePanel({styleClass:"model"===chat.userData.role?"rounded":"in_chat",premium:!0,canUsePremium:_,inChat:!0,hintEnabled:!0})}if(r.isLocalStorageAvailable()){var w="100%",S=window.chat.userData.userId||"default",C={};try{C=localStorage.getItem("chat_style")?JSON.parse(localStorage.getItem("chat_style")):{}}catch(t){}C&&C.fontSize&&C.fontSize[S]&&(w=C.fontSize[S]),y.find(".history").css({fontSize:w}),y.data("fontSize",w)}}),e("#bChat").on("afterUserData",function(e){chat.btnResize(1)}).on("onRoomClose",function(t,n){e("#bSignup2, #bBuyVip2").hide()}).on("onBeforeGetRoom",function(t){if(!l.isLiveStreamPromo){var n=chat.isPremiumMember(chat.userData)||"model"===chat.userData.role||"moderator"===chat.userData.role;e("#bChat").find(".inputContainer").initSmilePanel({styleClass:"model"===chat.userData.role?"rounded":"in_chat",premium:!0,canUsePremium:n,inChat:!0,hintEnabled:!0})}e("#bCamStatus").addClass("hidden"),e("#bChatRoomTitle").add(e("#bChatRoomTitle").parent()).css("max-width","")}),e(".tooltip").appendTo("body"),e(document).click(function(t){var n=e(t.target);!e(".tooltip:visible").length||n.is(".tooltip")||n.parents(".tooltip").length||n.is(".tt")||n.is("option")||e(".tt").each(function(){var t=e(this).data("tooltip");t&&t.hide()})}),e("#bChat").on("click",".message_area dfn, .author_area dfn",function(){e(this).parents(".chat-tab").find(".sendInput").val(e(this).text()+": ")}),e("#bChat").on("contextmenu",".message dfn, .message_area dfn, .msg_box dfn",function(t){if(t.preventDefault(),void 0===e.activeFriendIds){var n=this;d.getActiveFriendIds(function(){chat.createContextMenu(e(n))})}else chat.createContextMenu(e(this))}),e("#bCamControlsResize").tooltip({tip:"#ResizeTooltip",onBeforeShow:function(){if(chat.userData&&!chat.userData.isLogged)return!1},onShow:function(){e("#ResizablePane .ui-icon-gripsmall-diagonal-se").addClass("ui-icon-gripsmall-diagonal-se-highlight")},onHide:function(){e("#ResizablePane .ui-icon-gripsmall-diagonal-se").removeClass("ui-icon-gripsmall-diagonal-se-highlight")}}),e("#bCamControlsResize").click(function(){chat.userData&&!chat.userData.isLogged&&chat.addServiceMessage(__("Resize video and fullscreen only for premium members"),"alert")}),e("#bChat .historyContainer").mouseenter(function(){e("#bFontSizeTip").appendTo(this)}),e("#bChat .historyContainer").mouseleave(function(){e("#bFontSizeTip").appendTo(e("#bFontSizeTipHolder"))}),e("#bChat").on("mousedown","#bFontSizeTip .fs-btn",function(t){t.preventDefault();var n=e("#bChat"),i=["90%","100%","110%","120%","130%","140%","150%"],a=i.indexOf(n.data("fontSize"));if(-1===a&&(a=1),e(this).is(".inc")&&void 0!==i[a+1]&&(a+=1),e(this).is(".dec")&&void 0!==i[a-1]&&(a-=1),n.find(".history").css({fontSize:i[a]}),n.data("fontSize",i[a]),r.isLocalStorageAvailable()){var o=window.chat.userData&&window.chat.userData.userId||"default",s={};try{s=localStorage.getItem("chat_style")?JSON.parse(localStorage.getItem("chat_style")):{}}catch(t){}s.fontSize=s.fontSize||{},s.fontSize[o]=i[a],localStorage.setItem("chat_style",JSON.stringify(s))}}),e("#bChat").on("click","button.more_users",function(){e(this).remove(),chat.service.showAllUsers()}),e("#bMuteFreeUsers").click(function(){e("#bMuteFreeUsers").hide(),chat.isFreeUsersMuted=!0,e("#bUnMuteFreeUsers").show()}),e("#bUnMuteFreeUsers").click(function(){e("#bUnMuteFreeUsers").hide(),chat.isFreeUsersMuted=!1,e("#bMuteFreeUsers").show()}),e(document).on("statechange",function(t,n){var i=n.data.chathost;if(!i&&e.isEmptyObject(n.data)||n.data["listing-page"]&&chat.currentChathost);else if(i){if(!chat.userData||!chat.performerData||!chat.currentChathost||chat.currentChathost===i)return;chat.getRoom(i,{title:n.data.title})}}),e("#bLovers").on("click",function(){if(chat.userData.isLogged)if("free"===chat.userData.accessLevel){var t=__('Only members with Gold status or higher can send "Love" to a model. %a1%Buy Tokens!%a2%',{a1:'<a href="'+f.url_for("@member_buy_tokens")+'" class="sm_link" rel="buy_tokens" onclick="return false;">',a2:"</a>"});chat.addServiceMessage(t,"alert")}else e.ajax({url:e(this).attr("action"),dataType:"json",context:this,type:"post",data:p.getCSRFData(),success:function(t){t.message&&t.lovers?(chat.addServiceMessage(t.message,"service"),e("#sLovers").html(t.lovers)):chat.addServiceMessage(t.message,"alert")}});else chat.signupPopup(!0)}),e.openLoJPopup=function(t){var n=e("#login_or_join_popup"),i=e(".chat-tab");if(void 0!=t&&n.find("[rel=signup]").attr("spoof_sid",t),n.is(":visible"))n.addClass("border_red"),setTimeout(function(){n.removeClass("border_red")},1e3);else if(n.length){var a=void 0;a=h.isRTLCulture?i.offset().left+20:i.offset().left+i.outerWidth(!0)-n.outerWidth(!0)-20,n.css({top:i.offset().top+i.outerHeight(!0)-n.outerHeight(!0)-38,left:a}),n.show()}},e(window).resize(function(){e("#login_or_join_popup").hide()}),e("#login_or_join_popup").find(".popup_close").click(function(){e(this).closest(".loj_popup").hide()}),void 0===e.activeFriendIds&&d.getActiveFriendIds(),e(document).on("chat:showModelNavigator",this.setModelNavigator),e(document).on("click",".js-click-overlay",function(){return t.openRoomInWindow(),!1})},btnResize:function(t){if(!l.isLiveStreamPromo){var n=e("#chatContainer"),i=n.data("btn_resize");t||!i?n.data("btn_resize",new a.default):i.resize()}},getVideoSizeRange:function(t){var n=448,i=e("#chatContainer"),a=i.width()-chat.getChatMinWidth();return i.hasClass("cc_small")||i.hasClass("cc_medium")||(n=504),{maxWidth:Math.max(a,n),minWidth:n}},getChatMinWidth:function(){return 509},ieVideoFitFix:function(){if((m.BrowserDetect.isEdge()||m.BrowserDetect.isIE11()||m.BrowserDetect.isIE10_Older())&&e("body").hasClass("chatFullscreen")){var t=e("#ResizablePane video").get(0),n=e("#video_player_container");t&&n.height()&&t.videoHeight?n.width()/n.height()>=t.videoWidth/t.videoHeight?(t.style.maxHeight=null,t.style.maxWidth="100%"):(t.style.maxHeight="100%",t.style.maxWidth=null):t&&t.addEventListener("loadedmetadata",this.ieVideoFitFix)}},setVideoSize:function(){var t=e("#ResizablePane");if(this.ieVideoFitFix(),t.is(":visible")&&!t.hasClass("ui-resizable-resizing")&&!e("body").hasClass("chatFullscreen")&&this.performerData){var n="hd"===this.performerData.videoQuality||"hd_720"===this.performerData.videoQuality;if(e("#bChat").hasClass("bChatModel")){if(t.data("resizable")){var i=n?1.77777777777:1.333333333333;t.resizable("option","aspectRatio",i);var a=document.body.offsetWidth-600;t.resizable("option","maxWidth",a),t.width()>a&&t.width(a).height(a/i)}}else{var r=!1,o=this.getVideoSizeRange(n);n&&!t.hasClass("hd")?(t.addClass("hd"),r=!0):!n&&t.hasClass("hd")&&(t.removeClass("hd"),r=!0);var s,l;t.hasClass("ui-resizable-resized")&&(s=t.width(),l=t.height());var u=n?.5625:.75,d=window.innerHeight-e("#bPaidButtonTopRow").outerHeight()-e("#bModelNavigator").outerHeight()-e(".memberBalance").outerHeight()-e("#EmbedSWFHolder").offset().top-18;if(1==this.localData.canEnlargeVideo&&t.hasClass("ui-resizable")&&(t.resizable("option","aspectRatio",n?1.77777777777:1.333333333333),t.resizable("option","maxWidth",o.maxWidth)),l=l||Math.max(d,o.minWidth*u),s=Math.round(l/u),(s>o.maxWidth||s<o.minWidth)&&(s=v.clamp(s,o.minWidth,o.maxWidth),l=s*u),!t.hasClass("ui-resizable-resized")){var h=window.innerWidth-400,p=e(".chat_right_banner");p.length&&p.is(":visible")&&(h-=p.outerWidth(!0)),s>h&&(s=Math.max(h,o.minWidth),l=s*u)}e("#EmbedSWFHolder, #ResizablePane").css({width:s+"px",height:l+"px"}),e(document).trigger("chat:changeVideoHeight"),chat.performerData&&chat.performerData.dmcaSecurity&&e("#dmca_security_container").css({width:s-chat.performerData.dmcaSecurity.width+"px",height:l-chat.performerData.dmcaSecurity.height+"px"});var f=e("#chatContainer");r&&(f.hasClass("cc_small")||f.hasClass("cc_medium"))&&this.checkSendInputPostion();var m=e("html").attr("lang");if(e("#bSignup2_btn").length){var g=n?40:50,b="uk"===m?5:4;e("#bBuyTokens").length&&(this.performerData.sexType?g+=n?1:3:g-=3,"gay"===this.performerData.sexType&&"uk"===m&&(b=6)),e("#bSignup2_btn").css({top:0-(l/b-e("#bSignup2_btn").height())+"px",marginLeft:g+"%"})}if(e("#bBuyVip2_btn").length){var y="uk"===m?7:6;e("#bBuyVip2_btn").css({top:0-(l/y-e("#bBuyVip2_btn").height())+"px",marginLeft:n?"37%":"42%"})}var _=f.data("btn_resize");_&&_.fix(),c.default.updatePosition()}}},setChatHeight:function(t){void 0===t&&(t=!1);var n=e("#bChat"),i=n.find(".history");if(1==e.isFullMobile&&e("input:focus").length)return!1;this.setVideoSize(),this.checkSendInputPostion();var a=e("#bChatPromt");if(a.length&&this.repositionPromt(a),!n.hasClass("bChatModel")){var r=this.calculateChatHeight();n.find(".users").css("height",r+"px"),n.find(".games").css("height",r+24+"px"),e("body").hasClass("chatFullscreen")||i.css("height",r+24+"px")}chat.resizeHistoryBlock(),chat.adjustDMCASecurityIcon(),"MobileChatService"===this.service.name&&n.triggerHandler("onVideoSizeChange"),t||o.default.hideAll(),e("#mp_toggle_btn").length&&chat.setModelNavigator()},setModelNavigator:function(){var t,n,i=e("#bModelNavigator");i.is(":visible")&&(t=i.attr("data-old_point")||e("#navigator_wrapper").width()+2*e("#mp_toggle_btn").width(),n=i.width()-t,n<=0?(i.attr("data-old_point",t),i.addClass("middle"),chat.hideToggleText()):(i.removeClass("middle"),chat.hideToggleText()))},hideToggleText:function(){var t=e("#mp_toggle_btn"),n=e("#mp_toggle_text"),i=t.attr("data-save_point")||e("#navigator_wrapper").width()+2*t.width();e("#bModelNavigator").width()-i<=0?(t.attr("data-save_point",i),n.hide()):n.show()},getChatHeight:function(){return e(".history:visible").height()+e(".inputContainer:visible").height()},calculateChatHeight:function(){var t,n=e.isRunetki?-13:11;return e("#bChat").hasClass("bChatModel")?(n=10,t=e(window).height()-e("td.topic").height()-e(".inputContainer:visible").height()-e("#bChatStatus").height()-e("#bChatRoomTitle").height()-2*e("#bChat").offset().top-n):(t=e("#EmbedSWFHolder").height()-e(".column-header").outerHeight()-n,e.isRunetki||(t-=e(".column-header-topic").outerHeight()),t-=e(".js-tip_king_wrp:visible").outerHeight(),"moderator"===chat.userData.role&&(t-=68)),t},addMessage:function(e,t){if(t&&t[0]){var n=t.find(".msg_wrp");n.length>this.chatHistoryLength&&n.filter(":first").remove(),t.append(e),t.hasClass("message_area")&&(t=t.closest(".history")),t.scrollTop(t[0].scrollHeight),t.toggleClass("last_up",t.innerHeight()<t.get(0).scrollHeight),!this.userData.isPerformer&&this.isPaidShow()&&this.service.updateChatLog(t.html())}},createUserListItem:function(t){var n=e('<div class="user_item '+(t.role||"guest")+'" username="'+t.username+'"></div>'),i="";if(t.avatarUrl&&(i+='<span class="icon_avatar"><img class="profile" src="'+this.buildAvatarUrl(t)+'"/></span>'),t.isMobileLayout&&(i+='<span class="icon icon_mobile"><span class="icon-title">'+__("Mobile Device")+"</span></span>"),i+="<dfn>"+t.displayName+"</dfn>",t.hasStream?t.isPerformer?i+='<span class="icon icon_webcam"></span>':(t.username===this.userData.username||this.userData.isPerformer||"moderator"===this.userData.role)&&(i+='<span class="icon icon_webcam"></span>'):t.userId&&!t.isPerformer&&this.closeMemberCam(t),this.userData.isPerformer){var a=this.getUserBalance(t),r="";(this.isEliteMember(t)||t.isVip)&&t.isRaiseModelAvailable&&(r+='<span class="raise_icon'+(t.isRaiseModelReadyToUse?" r_on":"")+'"></span>'),a&&(r+='<span class="balance">'+a+"</span>"),t.isTipped&&(r+='<img class="tipper" src="'+this.options.baseUrl+'/images/chat/icon_coin.png" title="'+__("%username% has already tipped you",{username:t.displayName},!1)+'!" />'),i+='<div class="user_info">'+r+"</div>"}var o='<span class="friend_space"></span>',s='<span class="icon icon_friend">';e.mobile||(s+='<span class="icon-title">'+__("You are friends")+"</span>"),s+="</span>";var l=this.userData.isPerformer?o:"";if(t.accessLevel&&"free"!==t.accessLevel&&!0===t.isPayable){switch(l+='<span class="icon icon_ms icon_ms_'+t.accessLevel+'"><span class="icon-title">',t.accessLevel){case"gold":l+=__("Gold Membership");break;case"platinum":l+=__("Platinum Membership");break;case"unlimited":l+=__("Unlimited Membership");break;case"diamond":l+=__("Diamond Membership");break;case"exclusive":l+=__("Exclusive Membership")}if(l+="</span></span>",t.isVip){n.addClass("member_vip");var c='<span class="icon icon_ms icon_vip"><span class="icon-title">'+__("VIP Status")+"</span></span>";this.userData.isPerformer?l=c+l:l+=c}}t.accessLevel&&t.isMcm&&(n.addClass("mcm"),l+='<span class="icon icon_ms icon_mcm"><span class="icon-title">'+__("Moderator")+"</span></span>"),this.userData.isPerformer||(l+=o),void 0===e.activeFriendIds?d.getActiveFriendIds(function(){if(chat.isFriend(t)){var n=e('[username="'+t.username+'"]');n.addClass("member_friend"),n.find(".td_last .friend_space").replaceWith(s)}}):chat.isFriend(t)&&(n.addClass("member_friend"),l=l.replace(o,s)),n.append('<span class="td td_user'+(t.isMobileLayout&&t.hasStream?" min":"")+'">'+i+'</span><span class="td td_last"> '+l+'</span><br clear="all"/>'),(this.userData.isPerformer||"moderator"===this.userData.role||this.userData.isMcm)&&t.isMuted&&n.addClass("muted"),t.accessLevel&&n.addClass("member_"+t.accessLevel);var u=n.find("dfn");return(t.messageStyle||t.fontStyle&&u.length)&&(u[0].style.cssText=this.getFontStylesForAuthorInfo(t)),this.setUserDataToItem(n,t),t.isLogged&&n.click(function(){if(void 0===e.activeFriendIds){var t=this;d.getActiveFriendIds(function(){chat.createContextMenu(e(t))})}else chat.createContextMenu(e(this))}),n},createUserListHeader:function(t){return this.userData.isPerformer?e('<div class="head"></div>').append('<span class="td td_user">'+__("Chat Users")+" ("+t+')</span><span class="td td_tokens">'+__("Tokens")+'</span><span class="td td_last">*</span><br clear="all"/>'):e('<div class="head">'+__("Chat Users")+" ("+t+")</div>")},createContextMenu:function(t){e(".contextMenu").remove();var n=t;if(t.is(".user_item")||(n=t.closest(".msg_wrp")),e("body").hasClass("chatFullscreen"))return!1;var i=!!e("#bChatDesktopApp").length,a=this,r=this.getUserDataFromItem(n),o="contextMenu";"model"===a.userData.role?o+=" rounded":o+=" menu_v2";var s=e('<ul class="'+o+'"></ul>').attr("id","context_menu_"+r.username).append('<li class="title">'+r.displayName+"</li>");if("member"===a.userData.role?s=a.contextMenuAddUserDetails(s,r):(a.userData.isPerformer||"moderator"===a.userData.role)&&(s=a.contextMenuAddBalanceInfo(s,r)),a.userData.isLogged&&a.userData.username!==r.username&&(a.canSendPM(r)?(s.append('<li class="private"><a href="'+(i?"#":"javascript:void(0)")+'">'+__("Private Message")+"</a></li>"),s.find(".private a").bind("click",function(){a.debug("Private Message: "+r.username),i?e("#bChat").triggerHandler("openDialogWithUser",r):e.openDialogWithUser(r.username)})):s.append('<li class="private"><span>'+__("Private Message")+"</span></li>")),r.hasProfile&&(i?s.append('<li class="profile"><a href="'+a.buildProfileUrl(r)+'">'+__("View Profile")+"</a></li>"):s.append('<li class="profile"><a href="'+a.buildProfileUrl(r)+'" target="_blank">'+__("View Profile")+"</a></li>")),a.userData.isLogged){if(a.userData.username!==r.username){var l=(a.userData.isPerformer||"moderator"===a.userData.role||a.userData.isMcm)&&"moderator"!==r.role&&"studio"!==r.role&&!r.isPerformer&&!r.blackCloak&&!(a.userData.isMcm&&r.isMcm),c=l&&"vip"!==a.performerStatus;c&&(s.append('<li class="kick"><a href="'+(i?"#":"javascript:void(0)")+'">'+__("Kick User")+"</a></li>"),s.find(".kick a").bind("click",function(){a.debug("Kick: "+r.username),a.service.kickUser(r.username),e("#context_menu_"+r.username).remove(),n.is(".user_item")&&n.remove()}),s.append('<li class="ban"><a href="'+(i?"#":"javascript:void(0)")+'">'+__("Ban User")+"</a></li>"),s.find(".ban a").bind("click",function(){a.debug("Ban: "+r.username);try{e.banUser(r.username,a.userData.isPerformer?a.userData.userId:a.performerData.userId,a.userData.isMcm?a.userData:null),a.service.banUser(r.username,!0)}catch(e){console.log(e)}e("#context_menu_"+r.username).remove(),n.is(".user_item")&&n.remove()})),l&&(s.append('<li class="mute js-mute_btn"><a href="'+(i?"#":"javascript:void(0)")+'">'+(r.isMuted?__("Un-mute User"):__("Mute User"))+"</a></li>"),s.find(".js-mute_btn a").on("click",function(){a.debug("Mute: "+r.username),r.isMuted&&chat.spamMute&&chat.spamMute.getUsers().indexOf(r.username)>-1?(a.debug("Removed from spam mute list: "+r.username),chat.spamMute.removeUsers([r.username])):a.service.muteUser(r.username,!r.isMuted)}),n.find("dfn").dblclick(function(){e.openDialogWithUser(r.username)})),"moderator"!==r.role&&(s.append('<li class="ignore"><a href="'+(i?"#":"javascript:void(0)")+'">'+(a.isIgnored(r.username)?__("Remove Ignore"):__("Ignore User"))+"</a></li>"),s.find(".ignore a").on("click",function(){a.debug("Ignore: "+r.username),a.ignoreUser(r.username)}));var u="diamond"===a.userData.accessLevel&&"free"===r.accessLevel||"exclusive"===a.userData.accessLevel&&("free"===r.accessLevel||"gold"===r.accessLevel);c||!u||r.isMcm||chat.userIsFriendForPerformer&&(s.append('<li class="kick_user"><a href="javascript:void(0)">'+__("Kick User")+"</a></li>"),s.find(".kick_user a").bind("click",function(){a.debug(a.userData.username+" kick: "+r.username),a.service.kickUserByMember(r.username),e("#context_menu_"+r.username).remove(),n.is(".user_item")&&n.remove()})),a.canAddFriend(r)&&(s.append('<li class="friend"><a href="'+(i?"#":"javascript:void(0)")+'">'+__("Add to Friends")+"</a></li>"),s.find(".friend a").bind("click",function(){a.debug("Add friend: "+r.username),a.addFriend(r),s.find("li.friend").remove()}))}var d=t.closest(".msg_wrp");if(a.userData.isPerformer||(d=d.find(".msg_row")),d&&d.length){(a.userData.username===r.username||(a.userData.isPerformer||"moderator"===a.userData.role||a.userData.isMcm&&!r.isPerformer&&!r.isMcm)&&"moderator"!==r.role&&!r.blackCloak)&&!d.hasClass("deleted")&&(s.append('<li class="delete_message'+(a.userData.isMcm&&!r.isPerformer?"":" separator")+'"><a href="'+(i?"#":"javascript:void(0)")+'">'+__("Delete Message")+"</a></li>"),s.find(".delete_message a").bind("click",function(){if(confirm(__("Are you sure to delete this message")+"?")){var e=d.attr("id").substring(1);a.debug("Delete message: id="+e);try{a.service.deleteMessage(e)}catch(e){}}})),"moderator"!==a.userData.role||r.isPerformer||"moderator"===r.role||r.blackCloak||!r.userId||(s.append('<li class="delete_and_ban"><a href="javascript:void(0)">'+__("Delete & Ban")+"</a></li>"),s.find(".delete_and_ban a").bind("click",function(){confirm("Are you sure to delete?\n"+r.username+" has been kicked and disabled")&&(a.debug("Delete & Ban: "+r.username),a.service.banUser(r.username,!0,d.find(".msg").text()))}))}}if("moderator"===a.userData.role&&r.isPerformer){s.append('<li class="kick separator"><a href="javascript:void(0)" style="color:red">'+__("Close session")+"</a></li>");var f=e(".close_session_popup");s.find(".kick a").openPopup({container:e("#close_session_popup"),onDisplay:function(){e("#context_menu_"+r.username).remove(),f.find(".close_session_popup_ok").unbind("click").bind("click",function(){var n=f.find(".predefined_kick_reason").children("option").filter(":selected").data("reason_source"),i=f.find(".predefined_kick_reason").children("option").filter(":selected").html();if(f.find(".predefined_kick_reason").val()){a.debug("Kick: "+r.username);try{a.service.kickUser(r.username,n),e.ajax({url:f.data("url"),context:this,type:"post",data:p.getCSRFData({user_id:r.userId,reason:i})})}catch(e){}e.bongacamsPopupClose(!0),t.is(".user_item")&&t.remove()}else f.find(".kick.error").length||f.find(".predefined_kick_reason").after('<div class="kick error">'+__("Required.")+"</div>")})},title:"Choose kick reason",afterDisplay:function(){var t=e("#bongacams_popup"),n=e("#bChat");t.css({top:n.offset().top+100,left:n.offset().left+200})},onClose:function(){f.find(".kick.error").remove(),f.find(".our_reason").val(""),f.find(".predefined_kick_reason").val("")}}),s.append('<li class="kick separator"><a href="javascript:void(0)" style="color:red" onclick="chat.setPerformerAway()">'+__("Set Away mode")+"</a></li>")}"member"!==a.userData.role&&(s=a.contextMenuAddUserDetails(s,r));var m=!1;a.userData.isPerformer&&a.userData.allowShowRequest&&"member"===r.role&&(m=!0,s.append('<li class="separator"></li>'),a.canInviteToPrivate(r)?(s.append('<li class="new invite-private"><a href="'+(i?"#":"javascript:void(0)")+'">'+__("Invite to Private Chat")+"</a></li>"),s.find(".invite-private a").bind("click",function(){a.sendInviteToPrivate(r)})):s.append('<li class="new invite-private"><span>'+__("Invite to Private Chat")+"</span></li>")),a.userData.isLogged&&a.userData.username!==r.username&&(!r.hasStream||r.isPerformer||!a.userData.isPerformer&&"moderator"!==a.userData.role||(s.append('<li class="cam2cam'+(m?"":" separator")+'"><a href="#" onclick="return false">'+__("View cam")+"</a></li>"),s.find(".cam2cam a").bind("click",function(){a.debug("Cam2cam: "+r.username),a.memberCamPopup(r)}))),s.appendTo("body"),a.setUserDataToItem(s,r);var g,v,b,y,_=s.innerHeight(),w=e("#bChat").innerHeight(),S=e("#bChat").offset(),C=t.offset();if(t.hasClass("user_item"))y=t.outerHeight();else{var k=void 0;k=t.closest(".msg_box").length?t.closest(".author_area").length?t.closest(".author_area"):t.closest(".msg_row"):t.closest(".member, .model").find(".profile"),y=k.height()}if(e("#bChat").hasClass("bChatModel"))C.top+y+_<w?(v=C.top+y,b=C.left-6):(v=C.top-_-7,b=C.left,s.addClass("cm_bpos")),g={left:b+"px",top:v+"px"};else{t.closest(".msg_wrp");t.hasClass("__multi")&&(C=t.closest(".multi_msg").offset());var T=void 0,P=e(".modelUsers").is(":visible"),x=P?150:40,E=P?5:-5;C.top+_+y<w+S.top-10?v=C.top:(P&&(E=-5),v=C.top+y-_+E,s.addClass("cm_bpos"));!h.isRTLCulture?T=C.left+x:(T=C.left+t.outerWidth(!0)-s.outerWidth(!0)-x,s.addClass("cm_rpos")),g={left:T+"px",top:v+E+"px"}}s.css(g).show();var O=t;t.hasClass("user_item")||(O=t.closest(".msg_box")),O.addClass("user_item_selected");var D=function(t){if(O.removeClass("user_item_selected"),s.remove(),e("body").off("click.contextMenu"),i&&!e(t.target).parent("li.profile").length)return!1};setTimeout(function(){e("body").on("click.contextMenu",D)},0)},contextMenuAddUserDetails:function(e,t){var n=this;return t.invisible&&t.username!==n.userData.username&&"moderator"!==n.userData.role?e:(e.append('<li class="separator"><p class="details">'+__("User Details")+"</p></li>"),t.accessLevel&&e.append("<li><p>"+__("Membership")+": "+t.accessLevel+"</p></li>"),t.signupDate&&e.append("<li"+("member"===n.userData.role?' class="separator_bottom"':"")+"><p>"+__("Member since")+": "+t.signupDate+"</p></li>"),(n.userData.isPerformer||"moderator"===n.userData.role)&&("moderator"!==n.userData.role&&t.isPerformer||e.append("<li><p>"+__("Location")+": "+(t.location||"N/A")+"</p></li>")),e)},contextMenuAddBalanceInfo:function(t,n){var i=this;return n.invisible&&n.username!==i.userData.username&&"moderator"!==i.userData.role?t:(n.isPerformer||"studio"===n.role||"moderator"===n.role||(t.append('<li class="balance"><p>'+__("Balance")+": <b>"+i.getUserBalance(n)+"</b></p></li>"),e.isFunction(chat.getTokensSpent)&&(t.append("<li><p>"+__("Total amount of Tokens received from this member")+': <b class="total-tokens blinked">_</b></p></li>'),chat.getTokensSpent(n)),i.contextMenuAddRaiseInfo(t,n),t.append('<li class="separator"></li>')),t)},contextMenuAddRaiseInfo:function(e,t){(chat.isEliteMember(t)||t.isVip)&&t.isRaiseModelAvailable&&e.append('<li class="raise_ability '+(t.isRaiseModelReadyToUse?"r_on":"r_off")+'"><p class="raise_enabled">'+__("#1 place button: %b1%Available%b2%",{b1:"",b2:""})+'</p><p class="raise_disabled">'+__("#1 place button: %b1%Not Available%b2%",{b1:'<b class="warn">',b2:"</b>"})+"</p></li>")},memberCamPopup:function(t){if(e("#bChatDesktopApp").length){var n="cam"+t.userId;this.localData[n]||(this.localData[n]=!0),e("#bChat").triggerHandler("openMemberCam",t)}else{var i=s.detectIE(!0),a=i?380:320,r=i?256:240;e.open.newWindow(this.buildMemberCamUrl(t),{windowName:"cam"+t.userId,width:a,height:r,left:(e(window).width()-a)/2,top:(e(window).height()-r)/2,scrollbars:!1},{})}},toggleMemberRaiseInfo:function(t,n){var i=e(".user_item[username="+n+"]"),a=this.getUserDataFromItem(i);i.length&&a&&(a.isRaiseModelReadyToUse=t,t?(i.find(".raise_icon").addClass("r_on"),i.find(".raise_ability").removeClass("r_off").addClass("r_on")):(i.find(".raise_icon").removeClass("r_on"),i.find(".raise_ability").removeClass("r_on").addClass("r_off")))},closeMemberCam:function(t){if(t&&t.userId){if(e("#bChatDesktopApp").length){var n="cam"+t.userId;return void(this.localData[n]&&(this.localData[n]=!1,e("#bChat").triggerHandler("closeMemberCam",t)))}if(e.open.windowMap["cam"+t.userId])e.open.windowMap["cam"+t.userId].close();else{var i=e("#cam"+t.userId);i.length&&i.data("popup")&&i.data("popup").closeCamPopup()}}},checkSendInputPostion:function(){var t=e("#bChat"),n=t.find(".tdSendInput");n.width()<100&&n.find("#bSendInputHolder").length?t.find(".inputContainer").first().addClass("two_line").prepend(e("#bSendInputHolder")):n.width()>100&&!n.find("#bSendInputHolder").length&&(e("#bSendInputHolder").appendTo(n),t.find(".inputContainer").first().removeClass("two_line"))},showButtons:function(e){},hideButtons:function(e){},clearButtonsState:function(){},performerAudioState:function(t){chat&&chat.userData&&"moderator"===chat.userData.role&&e("#bw_microphone").css("background",t?"":"silver")},toggleGamesTabVisibility:function(t,n){void 0===n&&(n=e("#bChat"));var i=!1,a=e(".tab_games",n);t&&!a.is(":visible")?(a.show(),i=!0):!t&&a.is(":visible")&&(a.hasClass("selected")&&e(".tab_history a",n).click(),a.hide(),i=!0),i&&setTimeout(function(){var t=e("#chatContainer").data("btn_resize");t&&t.btnCam.reinit()},10)},updateTipKingSubHeader:function(t){var n=e(".js-tip_king_wrp");t.enabled?(n.html(r.preactRenderToString(g.default(t))),n.is(":visible")||(n.show(),chat.setChatHeight())):n.is(":visible")&&(n.hide(),chat.setChatHeight())}})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(){this.resize()}return t.prototype.resize=function(){var t=e("#chatContainer").find("button.with_icon");t.removeClass("btn_min");var n=!1;t.each(function(){var t=0;if(e(this).children().each(function(){t+=e(this).width()}),t>=e(this).width())return n=!0,!1}),n&&t.addClass("btn_min")},t}(),i=function(){function t(){this.$tabCont=e(".chat_tabs_container"),this.$tabs=this.$tabCont.find(".mls_tabs"),this.$btnCamWrap=this.$tabCont.find("#bShareCamControls"),this.$btnCam=this.$btnCamWrap.find("a:visible"),this.$btnCamTxt=this.$btnCam.find(".txt"),this.btnCamIndent=18,this._init()}return t.prototype._init=function(){this.$btnCam.attr("w_normal")&&this.$btnCam.attr("w_small")&&this.$btnCam.attr("w_min")||(this._addSizeClass("min"),this._addSizeClass("small"),this._addSizeClass("normal")),this.resize()},t.prototype.reinit=function(){this.$btnCamWrap.addClass("reinit"),this.$btnCam=this.$btnCamWrap.find("a:visible"),this.$btnCamTxt=this.$btnCam.find(".txt"),this._init(),this.$btnCamWrap.removeClass("reinit")},t.prototype.resize=function(){this.$btnCam.hasClass("normal")?this._check("small")?this._check("normal")||this._addSizeClass("small"):this._addSizeClass("min"):this.$btnCam.hasClass("small")?this._check("small")?this._check("normal")&&this._addSizeClass("normal"):this._addSizeClass("min"):this.$btnCam.hasClass("min")&&(this._check("normal")?this._addSizeClass("normal"):this._check("small")&&this._addSizeClass("small"))},t.prototype._addSizeClass=function(e){this.$btnCam.removeClass("normal small min").addClass(e);var t="";switch(e){case"normal":t=this.$btnCam.hasClass("on")?this.$btnCamWrap.data("on_text"):this.$btnCamWrap.data("off_text");break;case"small":t=this.$btnCam.hasClass("on")?this.$btnCamWrap.data("on_small_text"):this.$btnCamWrap.data("off_small_text")}this.$btnCamTxt.html(t),this.$btnCam.attr("w_"+e)||this.$btnCam.attr("w_"+e,Number(this.$btnCam.outerWidth(!0))+this.btnCamIndent)},t.prototype._check=function(e){return this.$tabCont.width()>=Number(this.$tabs.outerWidth(!0))+Number(this._getWidth(e))+3},t.prototype._getWidth=function(e){return this.$btnCam.attr("w_"+e)?this.$btnCam.attr("w_"+e):Number(this.$btnCam.outerWidth(!0))+this.btnCamIndent},t}(),a=function(){function t(t){this.modelNameNormalWidth=0,this.btnNormalWidth=0,this.$header=e(".chat-column").find(".column-header"),this.$statusWrap=this.$header.find("#bCamStatus"),this.$status=this.$statusWrap.find(".chatType"),this.$title=this.$header.find(".column-header-title"),this.$modelName=this.$title.find("#bChatRoomTitle"),this.$btnWrap=this.$header.find(".column-header-buttons"),this.$btnProfile=this.$btnWrap.find(".underChatProfileButton"),this.$btnLovers=this.$btnWrap.find("#bLoversButton"),t&&(this.$btnLovers=this.$btnWrap.find(".underChatHDSwitchButton")),this._init()}return t.prototype._init=function(){this.$modelName.css("max-width",""),this.$title.css("max-width",""),this._changeModelName(!0),this.resize()},t.prototype._getFullModelNameWidth=function(){return this.modelNameNormalWidth||(this.modelNameNormalWidth=this.$modelName.outerWidth(!0)),this.modelNameNormalWidth},t.prototype._getFullWrapBtnWidth=function(){return this.btnNormalWidth||(this.btnNormalWidth=this.$btnProfile.outerWidth(!0)+this.$btnLovers.outerWidth(!0)),this.btnNormalWidth},t.prototype._changeModelName=function(e){if(e)this.$modelName.removeClass("min").css("max-width",this._getFullModelNameWidth()+"px").attr("title",""),this.$title.css("max-width",this._getFullModelNameWidth()+"px");else{var t=this.$header.width()-6-this._getFullWrapBtnWidth();this.$modelName.css("max-width",t+"px").addClass("min").attr("title",this.$modelName.text()),this.$title.css("max-width",t+"px")}},t.prototype.resize=function(){this.$header.width()>=this._getFullModelNameWidth()+this.$status.outerWidth()+this._getFullWrapBtnWidth()?(this.$header.removeClass("two_line"),this.$statusWrap.removeClass("last"),this._changeModelName(!0)):(this.$header.addClass("two_line"),this.$statusWrap.addClass("last"),this.$header.width()>this._getFullModelNameWidth()+this._getFullWrapBtnWidth()?this._changeModelName(!0):this._changeModelName())},t}(),r=function(){function t(){this.$container=e(".chatContainer"),this.$video=this.$container.find(".cam-column"),this.$chat=this.$container.find(".chat-column"),this.$header=this.$chat.find(".column-header"),this.$resizable=e("#ResizablePane"),this.isIE=window.navigator.userAgent.indexOf("MSIE")>-1||!!navigator.userAgent.match(/Trident\/7\./),this.isAdminChat=this.$container.hasClass("adminChat"),this.btnCam=new i,this.btnControl=new n,this.chatHeader=new a(this.isAdminChat),this._attachHandlers()}return t.prototype._attachHandlers=function(){var t=this,n=0;t.$resizable.hasClass("ui-resizable")&&(t.$resizable.on("resizestart",function(){e(this).addClass("in_resize")}),t.$resizable.on("resizestop",function(){t.resize(),e(this).removeClass("in_resize")})),e(window).resize(function(){t.$resizable.hasClass("in_resize")||(n&&clearTimeout(n),n=window.setTimeout(function(){t.resize(),n=null},200))}),e("#bChat").on("onPerformerStatusChange",function(e){t.fix(),t.chatHeader.resize(),t.btnControl.resize()})},t.prototype.fix=function(){if(this.isIE){this.$container.width()-(this.$video.width()+this.$chat.width()+10)<=1?this.$header.width(this.$container.width()-(this.$video.width()+10)):this.$header.width("auto")}},t.prototype.resize=function(){this.fix(),this.btnControl.resize(),this.chatHeader.resize(),this.btnCam.resize()},t}();t.default=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(419),r=n(437),o=n(179),s=n(15),l=n(571),c=n(1),u=n(573),d=n(27),h=n(574),p=function(t){function n(){return t.call(this)||this}return i(n,t),Object.defineProperty(n,"instance",{get:function(){return n._instance?n._instance:n._instance=new n},enumerable:!0,configurable:!0}),n.prototype.openGameTab=function(t){d.setGameTab(t),document.body.classList.contains("chatFullscreen")&&chat.toggleFullscreen(!1),e("#public-chat .tab_games a").click()},n.prototype.openChat=function(){e("#public-chat .tab_history a").click(),this.$history.scrollTop(this.$history[0].scrollHeight)},Object.defineProperty(n.prototype,"gamesById",{get:function(){return a.gamesById},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gamesList",{get:function(){return a.gamesList},enumerable:!0,configurable:!0}),n.prototype.attach=function(){var e=document.querySelector(".modelGames");this.detach(),this.root=c.render(c.h(s.Provider,{store:o.default},c.h(l.default,{modelName:chat.performerData.displayName,isRu:chat.userData.isRu,onHit:this.handleHit})),e),this.popupRoot=c.render(c.h(s.Provider,{store:o.default},c.h(u.default,null)),document.body)},Object.defineProperty(n.prototype,"AlertPopup",{get:function(){return h.default},enumerable:!0,configurable:!0}),n}(r.default);t.default=p}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(8),o=n(2),s=n(11),l=n(21),c=n(27),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRollsChange=function(e){c.setRollTheDiceType(e.target.value)},t.handleRoll=function(){t.props.onHit(t.props.description.id)},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.settings,n=e.data.type,i=e.isRu,c=e.pendingHitResult,u="d2"===n;return a.h("div",{class:"sga_inner"},a.h("div",{class:"cga_notice"},__("Roll the dice for the specified amount of Tokens and get one of the prizes offered by the model!")),a.h("div",{class:{"rtd_grid bc_flex bc_flex_row bc_flex_wrap":!0,__two_roll:t.d2_enabled}},t.d1_enabled&&a.h("div",{class:"rtd_gitem __choice"},a.h("label",{class:"cg_radio"},a.h("input",{type:"radio",name:"dice_roll",value:"d1",onChange:this.handleRollsChange,checked:!u}),a.h("span",{class:"cgr_mark"}),a.h(o.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Roll 1 dice for %tokens%",{tokens:'<span class="cgr_token bc_capitalize bc_bold bc_nowrap">'+t.d1_amount+" "+s.default.pluralise("tokens",t.d1_amount)+"</span>"})}))),t.d2_enabled&&a.h("div",{class:"rtd_gitem __choice"},a.h("label",{class:"cg_radio"},a.h("input",{type:"radio",name:"dice_roll",value:"d2",onChange:this.handleRollsChange,checked:u}),a.h("span",{class:"cgr_mark"}),a.h(o.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Roll 2 dice for %tokens%",{tokens:'<span class="cgr_token bc_capitalize bc_bold bc_nowrap">'+t.d2_amount+" "+s.default.pluralise("tokens",t.d2_amount)+"</span>"})}))),t.d1_enabled&&!u&&a.h("div",{class:"rtd_gitem __list"},r.loopv(t.d1_prizes,function(e,t){return a.h("div",{class:"rtd_gline bc_inline_flex bc_flex_items_center"},a.h("div",{class:"cg_dice_side __small __point __side"+(+t+1)}),a.h("div",{class:"rtd_label"},l.plainTextWordWrap(i&&e.ru?e.ru:e.en,15)))})),t.d2_enabled&&u&&a.h("div",{class:"rtd_gitem __list"},r.loopv(t.d2_prizes,function(e,t){return a.h("div",{class:"rtd_gline bc_inline_flex bc_flex_items_center"},a.h("div",{class:"cg_dice_side __small __number","data-summ":+t+2}),a.h("div",{class:"rtd_label"},l.plainTextWordWrap(i&&e.ru?e.ru:e.en,15)))}))),a.h("div",{class:"gca_actions"},a.h("button",{onClick:this.handleRoll,disabled:c,class:{"mls_btn mls_btn_white":!0,mls_btn_disabled:c}},__("Roll the Dice!"))))},t}(a.Component);t.default=u},function(e,t,n){"use strict";function i(e){var t,n=e.settings,i=e.description,c=e.isRu,u=i.id,d=r.plainTextWordWrap(c&&n.message_ru?n.message_ru:n.message,15);return a.h("div",{class:(t={"system_msg msg_wrp msg_chat_game":!0},t[i.className]=Boolean(i.className),t.__promo=!0,t)},a.h("div",{class:"msg_box bc_flex"},a.h("div",{class:"cg_content"},a.h("div",{class:"cg_msg_ttl"},r.flowMarkText(i.title),": ",d," ",a.h("a",{href:"#",class:"js-game-control","data-id":u,"data-action":"view_prizes"},__("Check the prizes!"))),n.d1_enabled&&a.h("div",{class:"cg_msg"},a.h(s.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Roll 1 dice for %tokens%",{tokens:'<span class="bc_capitalize bc_bold">'+n.d1_amount+" "+o.default.pluralise("tokens",n.d1_amount)+"</span>"})}),a.h("button",{class:"msg_btn mls_btn mls_btn_white mls_btn_mini js-game-control","data-id":u,"data-value":"d1","data-action":"confirm"},__("Roll the Dice!"))),n.d2_enabled&&a.h("div",{class:"cg_msg"},a.h(s.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Roll 2 dice for %tokens%",{tokens:'<span class="bc_capitalize bc_bold">'+n.d2_amount+" "+o.default.pluralise("tokens",n.d2_amount)+"</span>"})}),a.h("button",{class:"msg_btn mls_btn mls_btn_white mls_btn_mini js-game-control","data-id":u,"data-value":"d2","data-action":"confirm"},__("Roll the Dice!"))))),a.h(l.default,{group:"cg_msg_icon",icon:"#"+i.iconFlat}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(21),o=n(11),s=n(2),l=n(25);t.default=i},function(e,t,n){"use strict";function i(e){var t,n,i,c,u=e.settings,d=e.description,h=e.isRu,p=e.sameMember,f=e.eventData,m=f.dn,g=f.value,v=f.game,b=v.amount,y=v.subType,_=d.id;return u&&(n="d1"===y?g[0]:+g[0]+g[1],i="d2"===y?u.d2_prizes[n-2]:u.d1_prizes[n-1],c=r.plainTextWordWrap(h&&i.ru?i.ru:i.en,12)),a.h("div",{class:(t={"system_msg msg_wrp msg_chat_game":!0},t[d.className]=Boolean(d.className),t.__hit=!0,t)},a.h("div",{class:"msg_box bc_flex"},a.h("div",{class:"cg_content"},a.h("div",{class:"cg_msg_tokens"},a.h("div",{class:"system_msg msg_wrp msg_tip_success"},a.h("div",{class:"msg_box"},a.h(o.InnerHTMLHelper,{tagName:"div",className:"system_area",html:__("%username% played for %amount% %tokens_plural%!",{username:m,amount:b,tokens_plural:'<span class="bc_capitalize">'+l.default.pluralise("tokens",b)+"</span>"})})))),!!c&&a.h("div",{class:"cg_msg_wrp"},a.h("div",{class:"cg_msg_ttl"},r.flowMarkText(d.title),": ",__("%username% rolled %result%! Prize - %prize%",{username:m,result:n,prize:c})),a.h("div",{class:"cg_msg_result bc_flex bc_flex_items_center"},"d1"===y&&a.h("div",{class:"cg_dice_side __small __point __side"+n}),"d2"===y&&a.h("div",{class:"cg_dice_side __small __number","data-summ":n}),a.h("div",{class:"gc_msg_label"},c))),a.h("div",{class:"cg_msg_actions"},a.h("button",{class:"msg_btn mls_btn mls_btn_white mls_btn_mini js-game-control","data-id":_,"data-value":y,"data-action":"confirm"},p?__("Roll again!"):__("Roll as well! (%amount% %tokens_plural%)",{amount:b,tokens_plural:l.default.pluralise("tokens",b)}))))),a.h(s.default,{group:"cg_msg_icon",icon:"#"+d.iconFlat}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(21),o=n(2),s=n(25),l=n(11);t.default=i},function(e,t,n){"use strict";function i(e){var t=e.settings,n=e.data.type,i=e.description,l=e.onHit;if("d2"===n&&!t.d2_enabled)return a.h("div",{class:"cgr_no_results"},__("No 2 rolls available"));if("d1"===n&&!t.d1_enabled)return a.h("div",{class:"cgr_no_results"},__("No 1 roll available"));var c="d2"===n?t.d2_amount:t.d1_amount;return a.h("div",{class:"bcc_container_wrp"},a.h("div",{class:"bcc_container_info"},"d2"===n?a.h(s.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Roll 2 dice for %tokens%?",{tokens:'<span class="bc_capitalize bc_bold">'+c+" "+o.default.pluralise("tokens",c)+"</span>"})}):a.h(s.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Roll 1 dice for %tokens%?",{tokens:'<span class="bc_capitalize bc_bold">'+c+" "+o.default.pluralise("tokens",c)+"</span>"})})),a.h("div",{class:"bcc_actions"},a.h("button",{class:{"bcc_button mls_btn mls_btn_green":!0},onClick:function(){r.closePopup(),l(i.id)}},i.confirmBtn),a.h("button",{class:{"bcc_button mls_btn mls_btn_white":!0},onClick:r.closePopup},__("Cancel"))))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(27),o=n(11),s=n(2);t.default=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(435),o=n(8),s=n(2),l=n(11),c=n(21),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRoll=function(){t.props.onHit(t.props.description.id)},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.settings,n=e.isRu,i=e.pendingHitResult,u=t.amount,d=t.prizes.length;return a.h("div",{class:"sga_inner"},a.h("div",{class:"cga_notice"},__("Spin the wheel for the specified amount of Tokens and get one of the prizes offered by the model!")),a.h("div",{class:"stw_grid bc_flex bc_flex_nowrap"},a.h("div",{class:"stw_wheel"},a.h(r.default,{sectorsCount:d,className:"__r_side"})),a.h("div",{class:"stw_prizes"},o.loopv(t.prizes,function(e,t){return a.h("div",{className:"stw_prize bc_inline_flex bc_flex_items_center"},a.h("div",{className:"stw_number bc_flex_full_center"},+t+1),a.h("div",{class:"stw_label"},c.plainTextWordWrap(n&&e.ru?e.ru:e.en,11)))}))),a.h("div",{class:"stw_actions"},a.h("button",{onClick:this.handleRoll,disabled:i,class:{"mls_btn mls_btn_white":!0,mls_btn_disabled:i}},a.h(s.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Spin the wheel! (%tokens%)",{tokens:'<span class="bc_capitalize bc_bold">'+u+" "+l.default.pluralise("tokens",u)+"</span>"})}))))},t}(a.Component);t.default=u},function(e,t,n){"use strict";function i(e){var t,n=e.settings,i=e.description,c=e.isRu,u=i.id,d=o.plainTextWordWrap(c&&n.message_ru?n.message_ru:n.message,15);return a.h("div",{class:(t={"system_msg msg_wrp msg_chat_game":!0},t[i.className]=Boolean(i.className),t.__promo=!0,t)},a.h("div",{class:"msg_box bc_flex"},a.h("div",{class:"cg_content"},a.h("div",{class:"cg_msg_ttl"},o.flowMarkText(i.title),": ",d," ",a.h("a",{href:"#",class:"js-game-control","data-id":u,"data-action":"view_prizes"},__("Check the prizes!"))),a.h("div",{class:"cg_msg"},a.h(s.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Spin the wheel for %tokens%",{tokens:'<span class="bc_capitalize bc_bold">'+n.amount+" "+r.default.pluralise("tokens",n.amount)+"</span>"})}),a.h("button",{class:"msg_btn mls_btn mls_btn_white mls_btn_mini js-game-control","data-id":u,"data-action":"confirm"},__("Spin the Wheel!")))),a.h(l.default,{group:"cg_msg_icon",icon:"#"+i.iconFlat})))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(11),o=n(21),s=n(2),l=n(25);t.default=i},function(e,t,n){"use strict";function i(e){var t,n=e.settings,i=e.description,c=e.isRu,u=e.sameMember,d=e.eventData,h=d.dn,p=d.value,f=d.game.amount,m=i.id,g=n?o.plainTextWordWrap(c&&n.prizes[p-1].ru?n.prizes[p-1].ru:n.prizes[p-1].en,15):null;return a.h("div",{class:(t={"system_msg msg_wrp msg_chat_game":!0},t[i.className]=Boolean(i.className),t.__hit=!0,t)},a.h("div",{class:"msg_box bc_flex"},a.h("div",{class:"cg_content"},a.h("div",{class:"cg_msg_tokens"},a.h("div",{class:"system_msg msg_wrp msg_tip_success"},a.h("div",{class:"msg_box"},a.h(r.InnerHTMLHelper,{tagName:"div",className:"system_area",html:__("%username% played for %amount% %tokens_plural%!",{username:h,amount:f,tokens_plural:'<span class="bc_capitalize">'+l.default.pluralise("tokens",f)+"</span>"})})))),!!g&&a.h("div",{class:"cg_msg_wrp"},a.h("div",{class:"cg_msg_ttl"},o.flowMarkText(i.title),": ",__("%username% spinned %result%! Prize - %prize%",{username:h,result:p,prize:g})),a.h("div",{class:"cg_msg_result bc_flex bc_flex_items_center"},a.h("div",{class:"cg_wheel_number"},p),a.h("div",{class:"gc_msg_label"},g)),a.h("div",{class:"cg_msg_actions"},a.h("button",{class:"msg_btn mls_btn mls_btn_white mls_btn_mini js-game-control","data-id":m,"data-action":"confirm"},u?__("Spin again!"):__("Spin as well! (%amount% %tokens_plural%)",{amount:f,tokens_plural:l.default.pluralise("tokens",f)})))))),a.h(s.default,{group:"cg_msg_icon",icon:"#"+i.iconFlat}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(2),o=n(21),s=n(25),l=n(11);t.default=i},function(e,t,n){"use strict";function i(e){var t=e.settings,n=e.description,i=e.onHit;return a.h("div",{class:"bcc_container_wrp"},a.h("div",{class:"bcc_container_info"},a.h(s.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Spin the wheel for %tokens%?",{tokens:'<span class="bc_capitalize bc_bold">'+t.amount+" "+o.default.pluralise("tokens",t.amount)+"</span>"})})),a.h("div",{class:"bcc_actions"},a.h("button",{class:{"bcc_button mls_btn mls_btn_green":!0},onClick:function(){r.closePopup(),i(n.id)}},n.confirmBtn),a.h("button",{class:{"bcc_button mls_btn mls_btn_white":!0},onClick:r.closePopup},__("Cancel"))))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(27),o=n(11),s=n(2);t.default=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(2),o=n(11),s=n(8),l=n(27),c=n(21),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleHit=function(){t.props.data.selectedAmount&&t.props.onHit(t.props.description.id)},t.handleItemClick=function(e){l.setTokenKenoSelectedAmount(e)},t}return i(t,e),t.prototype.handleShowPrizeClick=function(e){e!==this.props.data.showPrizes&&l.setTokenKenoShowPrizes(!this.props.data.showPrizes)},t.prototype.render=function(){var e=this,t=this.props,n=t.settings,i=t.data,l=i.selectedAmount,u=i.showPrizes,d=t.isRu,h=t.pendingHitResult,p=s.loop(n.min_amount,n.max_amount+1,function(e){return{amount:e,isSelected:l===e,isDone:n.prizes.find(function(t){return t.amount===e})}});return a.h("div",{class:"sga_inner"},a.h("div",{class:"cga_notice"},__("Select a number and play “Bingo” to receive one of the prizes the model offers! Numbers correspond to the amount of Tokens required to participate.")),a.h("div",{class:"tkn_content"},a.h("div",{class:"cg_tabs bc_flex"},a.h("div",{class:{cgt_item:!0,__selected:!u},onClick:function(){return e.handleShowPrizeClick(!1)}},l?a.h(r.InnerHTMLHelper,{tagName:"span",className:"tknt_item",html:__("You have selected a number: %number%",{number:'<span class="bc_bold">'+l+"</span>"})}):a.h("span",{class:"cgt_item_text"},__("Select a number"))),a.h("div",{class:{cgt_item:!0,__selected:u},onClick:function(){return e.handleShowPrizeClick(!0)}},u?a.h("span",{class:"cgt_item_text"},__("All prizes")):a.h("span",{class:"cgt_item_text"},__("See prizes")))),u?a.h("div",{class:"cg_keno_prize __all"},n.prizes.map(function(e,t){return a.h("div",{key:String(t),class:{cgkp_block:!0,__opened:!!e.amount}},a.h("span",{class:"bc_bold"},!!e.amount&&e.amount+" "),c.plainTextWordWrap(d&&e.ru?e.ru:e.en,15))})):a.h("div",{class:"cg_keno_prize"},a.h("div",{class:"cgkp_game_wrp bc_inline_flex bc_flex_wrap"},p.map(function(t){var n;return a.h("div",{class:(n={cg_keno_cube:!0,__selected:t.isSelected},n[t.isDone?"__mark":"__number"]=!0,n),key:t.amount,onClick:function(){return t.isDone?null:e.handleItemClick(t.amount)},"data-amount":t.amount})})))),a.h("div",{class:"tkn_actions"},!!l&&!u&&a.h("button",{onClick:this.handleHit,class:{"mls_btn mls_btn_white":!0,mls_btn_disabled:h},disabled:h},a.h(r.InnerHTMLHelper,{tagName:"span",className:"cg_label",html:__("Play! (%tokens%)",{tokens:'<span class="bc_capitalize bc_bold">'+l+" "+o.default.pluralise("tokens",l)+"</span>"})}))))},t}(a.Component);t.default=u},function(e,t,n){"use strict";function i(e){var t,n=e.settings,i=e.description,u=e.isRu,d=e.data.selectedAmount,h=i.id,p=r.plainTextWordWrap(u&&n.message_ru?n.message_ru:n.message,15),f=s.loop(n.min_amount,n.max_amount+1,function(e){return{amount:e,isSelected:d===e,isDone:n.prizes.find(function(t){return t.amount===e})}});return a.h("div",{class:(t={"system_msg msg_wrp msg_chat_game js-token-keno-promo-container":!0},t[i.className]=Boolean(i.className),t.__promo=!0,t)},a.h("div",{class:"msg_box bc_flex"},a.h("div",{class:"cg_content"},a.h("div",{class:"cg_msg_ttl"},r.flowMarkText(i.title),": ",p," ",a.h("a",{href:"#",class:"js-game-control","data-id":h,"data-action":"view_prizes"},__("Check the prizes!"))),a.h("div",{class:"cg_msg"},a.h("span",{class:"cg_label"},__("Choose the number and play!")),a.h("div",{class:"cg_keno_prize __promo"},a.h("div",{class:"cgkp_game_wrp bc_inline_flex bc_flex_wrap"},f.map(function(e){var t;return a.h("div",{class:(t={"js-game-control":!e.isDone,cg_keno_cube:!0,__selected:e.isSelected},t[e.isDone?"__mark":"__number"]=!0,t.__small=!0,t),"data-action":"select",key:e.amount,"data-id":h,"data-value":e.amount,"data-amount":e.amount})}))),!!d&&a.h("button",{class:"msg_btn mls_btn mls_btn_white mls_btn_mini js-game-control","data-id":h,"data-action":"confirm"},a.h(l.InnerHTMLHelper,{tagName:"span",className:"cg_label",html:__("Play! (%tokens%)",{tokens:'<span class="bc_capitalize bc_bold">'+d+" "+o.default.pluralise("tokens",d)+"</span>"})})))),a.h(c.default,{group:"cg_msg_icon",icon:"#"+i.iconFlat})))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(21),o=n(11),s=n(8),l=n(2),c=n(25);t.default=i},function(e,t,n){"use strict";function i(e){var t,n=e.settings,i=e.data.suggestingAmount,c=e.description,u=e.isRu,d=e.sameMember,h=e.eventData,p=h.dn,f=h.value,m=h.game.amount,g=c.id,v=n?r.plainTextWordWrap(u&&n.prizes[f].ru?n.prizes[f].ru:n.prizes[f].en,12):null;return a.h("div",{class:(t={"system_msg msg_wrp msg_chat_game js-token-keno-hit-container":!0},t[c.className]=Boolean(c.className),t.__hit=!0,t)},a.h("div",{class:"msg_box bc_flex"},a.h("div",{class:"cg_content"},a.h("div",{class:"cg_msg_tokens"},a.h("div",{class:"system_msg msg_wrp msg_tip_success"},a.h("div",{class:"msg_box"},a.h(o.InnerHTMLHelper,{tagName:"div",className:"system_area",html:__("%username% played for %amount% %tokens_plural%!",{username:p,amount:m,tokens_plural:'<span class="bc_capitalize">'+l.default.pluralise("tokens",m)+"</span>"})})))),!!v&&a.h("div",{class:"cg_msg_wrp"},a.h("div",{class:"cg_msg_ttl"},r.flowMarkText(c.title),": ",__("%username% chose %amount%! Prize - %prize%!",{username:p,prize:v,amount:m})),a.h("div",{class:"cg_keno_prize __hit"},a.h("div",{class:"cgkp_game_wrp bc_inline_flex bc_flex_items_center"},a.h("div",{class:{cg_keno_cube:!0,__number:!0},"data-amount":m}),a.h("div",{class:"gc_msg_label bc_flex bc_flex_items_center"},v)))),a.h("div",{class:"cg_msg_actions"},i&&a.h("button",{class:"msg_btn mls_btn mls_btn_white mls_btn_mini js-game-control","data-id":g,"data-value":i,"data-action":"confirm"},d?a.h(o.InnerHTMLHelper,{tagName:"span",className:"tkn_label",html:__("Play again! (%tokens%)",{tokens:'<span class="bc_capitalize bc_bold">'+i+" "+l.default.pluralise("tokens",i)+"</span>"})}):a.h(o.InnerHTMLHelper,{tagName:"span",className:"tkn_label",html:__("Play as well! (%tokens%)",{tokens:'<span class="bc_capitalize bc_bold">'+i+" "+l.default.pluralise("tokens",i)+"</span>"})}))))),a.h(s.default,{group:"cg_msg_icon",icon:"#"+c.iconFlat}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(21),o=n(2),s=n(25),l=n(11);t.default=i},function(e,t,n){"use strict";function i(e){var t=(e.settings,e.description),n=e.onHit,i=e.data.selectedAmount;return a.h("div",{class:"bcc_container_wrp"},a.h("div",{class:"bcc_container_info"},a.h(s.InnerHTMLHelper,{tagName:"span",className:"cg_label",html:__("Play for %tokens%?",{tokens:'<span class="bc_capitalize bc_bold">'+i+" "+o.default.pluralise("tokens",i)+"</span>"})})),a.h("div",{class:"bcc_actions"},a.h("button",{class:{"bcc_button mls_btn mls_btn_green":!0},onClick:function(){r.closePopup(),n(t.id)}},t.confirmBtn),a.h("button",{class:{"bcc_button mls_btn mls_btn_white":!0},onClick:r.closePopup},__("Cancel"))))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(27),o=n(11),s=n(2);t.default=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(564),s=n(565),l=n(27),c=n(2),u=n(11),d=function(e){return r.h("div",null,r.h("div",{class:"adj_title"},__("%Modelname%'s Playlist",{Modelname:chat.performerData.displayName})),e.children)},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.settings,n=e.data.showForm,i=e.description,h=e.onHit,p=t.enabled,f=t.playlist,m={playlist:!!f.length,playlistHolder:p&&!f.length,expandBtnInHolder:!f.length&&!n&&p,expandBtnUnderPlaylist:!!f.length&&!n&&p,form:n&&p},g=__("Add to Playlist (%tokens% %tokens_plural%)",{tokens:t.amount,tokens_plural:u.default.pluralise("tokens",t.amount)});return r.h("div",{class:"sga_inner"},r.h("div",{class:"cga_notice"},p?r.h("div",null,__("Want music of your choice to play in a model's chat room? For a specific number of Tokens you can add music from YouTube to a model's playlist. Enter or paste a YouTube link, select price and press \"Add\" for the music of your choosing to play automatically.")):r.h("div",null,__("Model temporarily restricted adding music to her playlist."),r.h("br",null),__("The current playlist will play out."))),m.playlist&&r.h(d,{key:"list"},r.h(s.default,a({},this.props))),m.playlistHolder&&r.h(d,{key:"holder"},r.h("div",{class:"cg_adj_list __empty bc_flex bc_flex_full_center"},r.h("div",{class:"adjl_container"},r.h(c.InnerHTMLHelper,{tagName:"div",className:"adjlb_title",html:__("Playlist is currently empty. %s1%Be the first one to add music.%s2%",{s1:'<span class="bc_bold">',s2:"</span>"})}),m.expandBtnInHolder&&r.h("div",{class:"adjlb_action"},r.h("button",{class:"adj_btn mls_btn mls_btn_light_blue",onClick:l.setAutoDJShowForm},g))))),m.expandBtnUnderPlaylist&&r.h("div",{class:"form_actions"},r.h("button",{class:"adj_btn mls_btn mls_btn_light_blue",onClick:l.setAutoDJShowForm},g)),m.form&&r.h(o.default,{key:"form",description:i,settings:t,onHit:h}))},t}(r.Component);t.default=h},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(436),o=n(11),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.settings,t=e.amount,n=e.amountPremium,i=this.state,r=i.valid,s=i.input,l=i.isPremium;return a.h("div",{class:"cg_adj_form_wrp"},a.h("div",{class:"adjfw_title"},__("Enter the Link")),a.h("div",{class:"cg_adj_form"},a.h("div",{class:"adjf_input_wrp"},a.h("input",{class:"adjf_input_link",onInput:this.handleInput,value:s,placeholder:__("Enter youtube link")})),a.h("div",{class:"adjf_checkbox_wrp"},a.h("div",{class:{adjf_block:!0,bc_flex:!0,__selected:l}},a.h("input",{class:"adjf_checkbox",type:"checkbox",checked:l,onChange:this.togglePremium}),__("Add to the top of Playlist (+%amount% %tokens_plural%)",{amount:n-t,tokens_plural:o.default.pluralise("tokens",n-t)})),a.h("div",{class:"adjf_layer",onClick:this.togglePremium}))),a.h("div",{class:"form_actions __open"},a.h("button",{class:"adj_btn mls_btn mls_btn_light_blue",onClick:this.handleSubmit.bind(this),disabled:!r},__("Add (%amount% %tokens_plural%)",{amount:l?n:t,tokens_plural:o.default.pluralise("tokens",l?n:t)}))))},t}(r.default);t.default=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(58),o=n(400),s=n(366),l=n(25),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hintRef=function(e){t.hint=e},t.showHint=function(e){return},t.hideHint=function(){t.hint.style.display=""},t}return i(t,e),t.prototype.componentWillReceiveProps=function(e){e.settings.playlist!==this.props.settings.playlist&&this.hint&&this.hideHint()},t.prototype.render=function(){var e=this,t=this.props.settings,n=t.playlist,i=t.playing,c=this.state.currentTime;return a.h("div",{class:"cg_adj_list"},a.h("div",{class:"adjl_header"},a.h("div",{class:"adjl_row"},a.h("div",{class:"adjl_cell"},__("%_auto_dj_%Title")),a.h("div",{class:"adjl_cell"},__("%_auto_dj_%Requested by")))),n.length?a.h(o.default,{className:"adjl_scroll"},a.h("div",{class:"adjl_body"},n.map(function(t,n){return a.h("div",{key:"entry_"+n,class:{adjl_row:!0,__playing:i&&0===n}},a.h("div",{class:"adjl_cell"},a.h("div",{class:"adjl_title_wrp"},a.h("div",{class:"adjl_title ltr",title:t.title},i&&0===n?a.h(s.IconDJPlaying,null):t.isPremium?a.h("span",{class:"adjl_icon_track",onMouseEnter:e.showHint,onMouseLeave:e.hideHint},a.h(l.default,{group:"adjl_icon",icon:"#icon_auto_dj_priority"})):"",t.title)," ",a.h("div",{class:"adjl_duration"},"(",0===n&&r.formatTrackDuration(c)+"/",r.formatTrackDuration(t.duration),")"))),a.h("div",{class:"adjl_cell"},t.memberDisplayName))}))):a.h("div",{key:"msg",class:"adjl_msg"},__("Song requests will appear here")),a.h("div",{class:"cg_adj_hint",ref:this.hintRef},__("Priority track")))},t}(s.default);t.default=c},function(e,t,n){"use strict";function i(e){var t,n=e.track,i=e.description,u=i.id,d=i.className,h=i.title,p=i.iconFlat,f=n.amount;return a.h("div",{class:(t={"system_msg msg_wrp msg_chat_game":!0},t[d]=Boolean(d),t.__hit=!0,t)},a.h("div",{class:"msg_box bc_flex"},a.h("div",{class:"cg_content"},f&&a.h("div",{class:"cg_msg_tokens"},a.h("div",{class:"system_msg msg_wrp msg_tip_success"},a.h("div",{class:"msg_box"},a.h(c.InnerHTMLHelper,{tagName:"div",className:"system_area",html:__("%username% played for %amount% %tokens_plural%!",{username:n.memberDisplayName,amount:f,tokens_plural:'<span class="bc_capitalize">'+l.default.pluralise("tokens",f)+"</span>"})})))),a.h("div",{class:"cg_msg_ttl"},h,": ",__("Song requested by %username%",{username:n.memberDisplayName})),a.h("div",{class:"cg_msg_result bc_flex bc_flex_items_center"},n.isPremium&&a.h("div",{class:"cg_auto_dj_box"},a.h(o.default,{group:"adjb_icon",icon:"#icon_auto_dj_priority"})),a.h("div",{class:{gc_msg_label:!0,__clear:!n.isPremium,ltr:!0}},!s.isRTLCulture&&n.title,a.h("span",{class:"cg_msg_s_time"}," (",r.formatTrackDuration(n.duration),") "),s.isRTLCulture&&n.title)),a.h("div",{class:"cg_msg_actions"},a.h("button",{class:"msg_btn mls_btn mls_btn_white mls_btn_mini js-game-control","data-id":u,"data-action":"view_prizes"},__("Request a song"))))),a.h(o.default,{group:"cg_msg_icon",icon:"#"+p}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(58),o=n(25),s=n(7),l=n(11),c=n(2);t.AutoDJHitMessage=i},function(e,t,n){"use strict";function i(e){var t,n=e.settings,i=e.description,c=e.isRu,u=i.id,d=o.plainTextWordWrap(c&&n.message_ru?n.message_ru:n.message,15);return a.h("div",{class:(t={"system_msg msg_wrp msg_chat_game":!0},t[i.className]=Boolean(i.className),t.__promo=!0,t)},a.h("div",{class:"msg_box bc_flex"},a.h("div",{class:"cg_content"},a.h("div",{class:"cg_msg_ttl"},o.flowMarkText(i.title),": ",d," ",a.h("a",{href:"#",class:"js-game-control","data-id":u,"data-action":"view_prizes"},__("Check the prizes!"))),a.h("div",{class:"cg_msg"},a.h("button",{class:"msg_btn mls_btn mls_btn_white mls_btn_mini js-game-control","data-id":u,"data-value":1,"data-action":"confirm"},a.h(s.InnerHTMLHelper,{tagName:"span",className:"cg_slm_label",html:__("Bet and play! (%tokens%)",{tokens:'<span class="bc_capitalize bc_bold">'+n.amount+" "+r.default.pluralise("tokens",n.amount)+"</span>"})})))),a.h(l.default,{group:"cg_msg_icon",icon:"#"+i.iconFlat})))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(11),o=n(21),s=n(2),l=n(25);t.default=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(8),o=n(11),s=n(21),l=n(27),c=n(38),u=n(25),d=n(204),h=n(2),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRateChange=function(e){l.setSlotMachineRate(+e.target.value)},t.handleHit=function(){t.props.onHit(t.props.description.id)},t}return i(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.settings,i=t.data.rate,l=t.isRu,p=t.pendingHitResult,f=n.amount*i,m=c.SLOT_MACHINE_BET_EXAMPLES[i];return a.h("div",{class:"sga_inner"},a.h("div",{class:"cga_notice"},__("Choose how many bets to play and try your luck in the “Slot Machine” game! You can win one of the prizes offered by the model! The bigger the bet, the higher your chance of winning.")),a.h("div",{class:{slm_grid:!0}},r.loop(1,n.no_lose?3:5,function(t){return a.h("div",{key:"rate_"+t,class:"slm_gitem"},a.h("label",{class:{cg_radio:!0,cg_slm_r_first:1===t}},a.h("input",{type:"radio",value:t,onChange:e.handleRateChange,checked:i===t}),a.h("span",{class:"cgr_mark"}),a.h(h.InnerHTMLHelper,{tagName:"span",className:"cgr_label","data-title":__("Play %bets%",{bets:t+" "+o.default.pluralise("bets",t)}),html:__("Play %bets%",{bets:'<span class="cgr_s_label">'+t+" "+o.default.pluralise("bets",t)+"</span>"})})))})),a.h("div",{class:"slm_game_title"},__("Winning lines:")),a.h("div",{class:"slm_game_wrp bc_flex"},a.h("div",{class:"slmg_item __slots"},a.h("div",{class:"slmg_block bc_flex bc_flex_wrap"},r.loopv(m,function(e,t){return a.h(d.SlotMachine3x3,{key:"slot_"+t,items:e})})),a.h("div",{class:"gca_actions"},a.h("button",{onClick:this.handleHit,disabled:p,class:{"mls_btn mls_btn_white":!0,mls_btn_disabled:p}},a.h(h.InnerHTMLHelper,{tagName:"span",className:"cg_label",html:__("Play! (%tokens%)",{tokens:'<span class="bc_capitalize bc_bold">'+f+" "+o.default.pluralise("tokens",f)+"</span>"})})))),a.h("div",{class:"slmg_item __info"},r.loopv(n.prizes,function(e,t){return a.h("div",{key:"prize_"+t,class:"cg_slm_info bc_flex bc_flex_items_center"},a.h("div",{class:"slmi_icon_wrp"},a.h(u.default,{group:"slmi_icon",icon:c.SLOT_MACHINE_ICONS[e.slug]})),a.h("div",{class:"slmi_text"},s.plainTextWordWrap(l&&e.ru?e.ru:e.en,10)))}))))},t}(a.Component);t.default=p},function(e,t,n){"use strict";function i(e){var t=u.baseGamesById[u.GAMES.SLOT_MACHINE].storeKey;return{data:e.gamesData[t]}}var a=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(27),l=n(11),c=n(2),u=n(38),d=n(15),h=n(8),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRateChange=function(e){s.setSlotMachineRate(+e.target.value)},t}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.settings,i=n.amount,a=n.no_lose,r=t.description,u=t.data.rate,d=t.onHit,p=i*u;return o.h("div",{class:"bcc_container_wrp cg_slm_confirm"},o.h("div",{class:"bcc_container_info"},o.h(c.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Play for %tokens%?",{tokens:'<span class="bc_capitalize bc_bold">'+p+" "+l.default.pluralise("tokens",p)+"</span>"})}),o.h("div",{className:"slmc_radio_wrp bc_flex bc_flex_wrap"},h.loop(1,a?3:5,function(t){return o.h("div",{key:"rate_"+t,class:"slmc_item"},o.h("label",{class:{cg_radio:!0,cg_slm_r_first:1===t}},o.h("input",{type:"radio",value:t,onChange:e.handleRateChange,checked:u===t}),o.h("span",{class:"cgr_mark"}),o.h(c.InnerHTMLHelper,{tagName:"span",className:"cgr_label",html:__("Play %bets%",{bets:'<span class="cgr_s_label">'+t+" "+l.default.pluralise("bets",t)+"</span>"})})))}))),o.h("div",{class:"bcc_actions"},o.h("button",{class:{"bcc_button mls_btn mls_btn_green":!0},onClick:function(){s.closePopup(),d(r.id)}},r.confirmBtn),o.h("button",{class:{"bcc_button mls_btn mls_btn_white":!0},onClick:s.closePopup},__("Cancel"))))},t=r([d.connect(i)],t)}(o.Component);t.default=p},function(e,t,n){"use strict";function i(e){var t,n=e.settings,i=e.description,d=e.isRu,h=e.sameMember,p=e.eventData,f=p.dn,m=p.game,g=m.amount,v=m.result,b=m.rate,y=i.id,_=n?c.processSlotResult(v,n,d):null;return a.h("div",{class:(t={"system_msg msg_wrp msg_chat_game":!0},t[i.className]=Boolean(i.className),t.__hit=!0,t)},a.h("div",{class:"msg_box bc_flex"},a.h("div",{class:"cg_content"},a.h("div",{class:"cg_msg_tokens"},a.h("div",{class:"system_msg msg_wrp msg_tip_success"},a.h("div",{class:"msg_box"},a.h(u.InnerHTMLHelper,{tagName:"div",className:"system_area",html:__("%username% played for %amount% %tokens_plural%!",{username:f,amount:g,tokens_plural:'<span class="bc_capitalize">'+s.default.pluralise("tokens",g)+"</span>"})})))),!!_&&a.h("div",{class:"cg_msg_wrp"},a.h("div",{class:"cg_msg_ttl"},r.flowMarkText(i.title),": ",_.isPrizes?__("%username% won %prize%!",{username:f,prize:r.plainTextWordWrap(_.allPrizes,10)}):a.h(u.InnerHTMLHelper,{tagName:"span",html:__("%username% won %s1%nothing :(%s2%",{username:f,s1:'<span class="cg_s_single">',s2:"</span>"})})),a.h("div",{class:"cg_msg_result_wrp bc_flex bc_flex_column"},_.isPrizes?_.prizes.map(function(e){return a.h("div",{class:"cg_msg_result bc_flex bc_flex_items_center cg_slm_hit_wrp"},a.h(l.SlotMachine3x3,{items:e.items}),a.h("div",{class:"gc_msg_label"},r.plainTextWordWrap(e.label,10)))}):a.h("div",{className:"cg_msg_result bc_flex bc_flex_items_center"},a.h(l.SlotMachine3x3,{items:_.reels})))),a.h("div",{class:"cg_msg_actions"},a.h("button",{class:"msg_btn mls_btn mls_btn_white mls_btn_mini js-game-control","data-value":b,"data-id":y,"data-action":"confirm"},h?a.h(u.InnerHTMLHelper,{tagName:"span",className:"cg_slm_label",html:__("Play again! (%tokens%)",{tokens:'<span class="bc_capitalize bc_bold">'+g+" "+s.default.pluralise("tokens",g)+"</span>"})}):a.h(u.InnerHTMLHelper,{tagName:"span",className:"cg_slm_label",html:__("Play as well! (%tokens%)",{tokens:'<span class="bc_capitalize bc_bold">'+g+" "+s.default.pluralise("tokens",g)+"</span>"})}))))),a.h(o.default,{group:"cg_msg_icon",icon:"#"+i.iconFlat}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(21),o=n(25),s=n(11),l=n(204),c=n(38),u=n(2);t.default=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&(n[i[a]]=e[i[a]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(15),l=n(572),c=n(27),u=n(419),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastActiveGamesCount=null,t.handleTabChange=function(e){t.props.setGameTab(e===t.props.currentTab?null:e)},t}return i(t,e),t.prototype.handleActiveGamesCountChange=function(e){if(this.lastActiveGamesCount!==e){var t=document.querySelector(".tab_games .js-games_count");t&&(t.innerHTML=e?" ("+e+")":""),this.lastActiveGamesCount=e}},t.prototype.render=function(){var e=this.props,t=e.gamesSettings,n=e.gamesData,i=e.currentTab,a=e.performerStatus,s=e.modelName,c=e.isRu,d=e.onHit,h=e.pendingHitResult,p=u.gamesList.filter(function(e){return e.isShow(e,t[e.storeKey],n[e.storeKey])});return this.handleActiveGamesCountChange(p.length),o.h("div",null,p.length?"public"===a?o.h(l.default,{activeId:i,onClick:this.handleTabChange},p.map(function(e){var i=e.component,a=r(e,["component"]);return o.h(i,{onHit:d,key:a.id,description:a,settings:t[a.storeKey],data:n[a.storeKey],isRu:c,pendingHitResult:h})})):o.h("div",{class:"cg_no_games"},__("Games are available in public chat only")):o.h("div",{class:"cg_no_games"},__("%modelName% has not enabled any games yet",{modelName:s})))},t=a([s.connect("gamesSettings, gamesData, currentTab, performerStatus, pendingHitResult",c.default)],t)}(o.Component);t.default=d},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(25),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.onClick,i=e.activeId,o=Array.isArray(t)?t:[t];return a.h("div",{class:"сg_accordion"},o.filter(Boolean).map(function(e){var t,o=e.attributes.description,s=o.id,l=o.className,c=o.icon,u=o.title,d=s===i;return a.h("div",{key:s,class:(t={cga_item:!0,__collapsed:!d,__expanded:d},t[l]=Boolean(l),t)},a.h("div",{class:"cga_tab bc_flex bc_flex_items_center bc_ie_fvc",onClick:function(){return n(s)}},a.h(r.default,{group:"сga_icon cg_game_icon",icon:"#"+c}),a.h("h4",{class:"cga_title"},u),a.h("div",{class:{"cga_toggle bc_flex bc_flex_full_center":!0,__collapsed:!d,__expanded:d}},a.h(r.default,{group:"сga_icon __arrow",icon:"#icon-accordion_arrow_icon"}))),d&&a.h("div",{class:"cga_content"},e))}))},t.defaultProps={onClick:function(){}},t}(a.Component);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)},r=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(15),l=n(27),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(e){var n=t.props.popup.options.onClose;e.preventDefault(),n?n():l.closePopup()},t}return i(t,e),t.prototype.render=function(){var e;if(!this.props.popup||!this.props.popup.opened)return null;var t=this.props.popup,n=t.component,i=t.componentProps,r=t.options,s=r.title,l=r.className;return o.h("div",{class:"bc_confirm_popup_wrp"},o.h("div",{class:"bcc_popup_overlay",onClick:this.handleClose}),o.h("div",{class:(e={bc_confirm_popup:!0},e[l]=!!l,e)},s&&o.h("div",{class:"bcc_header bc_ie_fvc"},o.h("div",{class:"bcc_title"},s)),o.h("div",{class:"bcc_content"},!!n&&("function"==typeof n?o.h(n,a({},i)):n))))},t=r([s.connect("popup")],t)}(o.Component);t.default=c},function(e,t,n){"use strict";function i(e){var t,n,i=e.buttonLabel,o=e.className,s=e.content,l=e.buttonClass;return a.h("div",{class:"bcc_container_wrp"},a.h("div",{class:(t={bcc_container_info:!0},t[o]=!!o,t)},s),a.h("div",{class:"bcc_actions"},a.h("button",{class:(n={"bcc_button mls_btn mls_btn_white":!0},n[l]=!!l,n),onClick:r.closePopup},!!i||__("Okay, I got it"))))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(27);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(11),r=n(2),o=n(25),s=function(e){return i.h("div",{class:"chat_king_header bc_flex bc_flex_items_center"},i.h(o.default,{group:"ckh_icon",icon:"#icon_tip_king"}),i.h(r.InnerHTMLHelper,{tagName:"div",className:"ckh_text_wrp",html:__("%s1%Tip King of the day:%s2% %b1%%name% spent %tokens% %tokens_plural%!%b2% %a1%Beat it!%a2%",{s1:'<span class="ckh_s_title __alert">',s2:"</span>",b1:'<span class="ckh_s_title">',b2:"</span>",a1:'<a class="ckh_a_link" href="javascript:void(chat.tipPopup())">',a2:"</a>",name:e.dn,tokens:e.amount,tokens_plural:'<span class="ckh_text_token">'+a.default.pluralise("tokens",e.amount)+"</span>"})}))};t.default=s},function(e,t,n){"use strict";function i(e){var t="string"==typeof e?parseInt(e,10):e,n=Math.floor(t/3600),i=Math.floor((t-3600*n)/60),a=t-3600*n-60*i;return(n>9?n:"0"+n)+":"+(i>9?i:"0"+i)+":"+(a>9?a:"0"+a)}Object.defineProperty(t,"__esModule",{value:!0}),t.toHHMMSS=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e}();t.default=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(488),r=n(373),o=n(241),s=function(e){function t(){var t=e.call(this)||this;return t.partialUpdateHandler=new o.default,t.fullUpdateHandler=new r.default,t}return i(t,e),t.prototype.process=function(e){return this.isPageWithLayout?this.partialUpdateHandler.process(e):this.fullUpdateHandler.process(e)},Object.defineProperty(t.prototype,"isPageWithLayout",{get:function(){return null!==this.document.getElementById("mls_container")},enumerable:!0,configurable:!0}),t.prototype.rebindModules=function(e,t){},t}(a.default);t.default=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(243),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(243),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(373),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.processHTML=function(n,i){var a=this.modules.use("chat");a.isVideoOpen&&a.collapse(),e.liveTab="female",t.prototype.processHTML.call(this,n,i),window.globalListing&&window.globalListing.restoreDisplayedState(!0)},n.prototype.rebindModules=function(e,n){this.modules.use("category-menu").resetActive(),t.prototype.rebindModules.call(this,e,n)},n}(a.default);t.default=r}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(243),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(798),a=n(801),r=n(802),o=n(804),s=n(807),l=n(265),c=n(811),u=n(420),d=n(7),h=n(277),p=function(){function t(){var t=this;this.thumbWidthValues=null,this.thumbImgSizes=null,this.chathostPosition=null,this.vipShowEnabled=!1,this.includeOffsetConditionForDetectExtra=!1,this.isLiveThumbsEnabled=!1,this.isServerRender=!1,this.livetab=null,this.onlineOnly=!0,this.loggedIn=!1,this.tag=null,this.category=null,this.is404Page=e(".error404_page_mls").length,this.isAllModelsPage=e(".all_models_page_mls").length,this.hasMlsTabs=!this.is404Page&&!this.isAllModelsPage,this.hasFilter=this.hasMlsTabs||this.isAllModelsPage&&e.isRunetki,this.resizeManagerClass=null,this.onItemClickHandler=null,this.onItemBadgesClickHandler=null,this.onAfterListingUpdateHandler=null,this.onHoverContainerHandler=null,this.onClickViewAllHandler=null,this.onAfterRenderHandler=null,this.onResizeHandler=null,this.onFilterSubmit=function(){var e=t.loader.offset;t.isInfiniteScrollEnabled()&&(t.loader.resetData(),e=0),t.loader.load(e)},this.restoreDisplayedState=function(n){void 0===n&&(n=!1);var i=u.default.getSavedDisplayedState();if(i&&t.isAllowedInfiniteScroll()){if(u.default.resetDisplayedState(),"female"!==i.livetab&&n)return;t.stateData=i.stateData,t.lastChathost=i.chathost,t.render(),e(window).scrollTop(+i.scrollTop)}},window.globalListing&&(this.filter&&window.globalListing.filter&&(this.filter.searchData=e.extend({},window.globalListing.filter.searchData)),window.globalListing.detachHandlers()),window.globalListing=this}return t.prototype.init=function(t,n){this.remoteUrl=n.remoteUrl,this.$listingContainer=t,this.$greedContainer=e("#mls_models"),this.initData=n.initData,this.stateData=n.stateData||{},this.resizeManagerClass=this.initData.noResize?c.default:i.ListingZoneResize,Number(this.initData.chathostPosition)>=0&&(this.chathostPosition=Number(this.initData.chathostPosition)),this.chathost=String(n.initData.chathost)||"",this.currentThumbSize=n.initData.thumbSize||"auto",this.currentThumbType=this.stateData.th_type||this.initData.thumbType||"profile",this.thumbWidthValues=n.thumbWidthValues||null,this.thumbImgSizes=n.thumbImgSizes||null,e.isRunetki&&(this.currentThumbSize="medium",this.currentThumbType="profile"),this.onlineOnly=Boolean(this.initData.onlineOnly),this.loggedIn=Boolean(this.initData.loggedIn),this.isLiveThumbsEnabled=Boolean(n.initData.isLiveThumbsEnabled),this.livetab=this.initData.livetab||"female",this.tag=this.initData.tag||null,this.category=this.initData.category||null,e.isServerSideListingRenderEnabled&&this.$listingContainer.hasClass("mls_first_load")&&(this.isServerRender=!0),this.vipShowEnabled=Boolean(this.stateData.vip_show),this.fixTabsSize(),"auto"===this.currentThumbSize&&e(".mls_models.auto").addClass(this.getRealThumbSize()),this.isAllowedInfiniteScroll()&&!this.isChatOpened()?this.activateInfiniteScroll():this.activatePager(),this.gridView=new s.ListingMithril(this,this.$greedContainer),this.hasFilter&&(this.filter=new a.ListingFilter(this),this.isPagerEnabled()&&this.filter.assignPerPage()),this.stateData.models&&(this.initView(),this.resizer.resize()),e.isServerSideListingRenderEnabled?this.detectThumbImg():this.loader.load(),this.updateChatMlsList(),this.attachHandlers()},t.prototype.reRender=function(){if((this.isVisible()||void 0!==this.loader)&&void 0!==window.chat){if(window.chat&&"visible"===window.chat.visibility)if(this.isAllowedInfiniteScroll()&&this.isInfiniteScrollEnabled())this.activatePager();else{var e=this.loader;e.initForChat()}else this.isPagerEnabled()&&this.isAllowedInfiniteScroll()&&this.activateInfiniteScroll();this.resizer.resize()}},t.prototype.initView=function(){this.gridView=new s.ListingMithril(this,this.$greedContainer)},t.prototype.isVisible=function(){return this.$listingContainer.length&&this.$listingContainer.is(":visible")},t.prototype.isPagerEnabled=function(){return this.loader instanceof o.ListingPager},t.prototype.isInfiniteScrollEnabled=function(){return this.loader instanceof r.ListingInfiniteScroll},t.prototype.isAllowedInfiniteScroll=function(){return this.initData.isListingScrollingEnabled&&!this.is404Page&&!this.isAllModelsPage},t.prototype.activatePager=function(){this.resizer&&this.isInfiniteScrollEnabled()&&this.resizer.detachHandlers(),this.resizer=new this.resizeManagerClass(this,{thumbWidth:this.thumbWidthValues[this.getRealThumbSize()]}),this.loader&&this.loader.detachHandlers(),this.loader=new o.ListingPager(this,this.remoteUrl),this.loader.startTimer(),this.includeOffsetConditionForDetectExtra=!0,this.navigationView=this.loader.navigation,this.togglePerPageSelector(),this.gridView&&this.render()},t.prototype.activateInfiniteScroll=function(){this.resizer&&this.isPagerEnabled()&&this.resizer.detachHandlers(),this.resizer=new this.resizeManagerClass(this,{thumbWidth:this.thumbWidthValues[this.getRealThumbSize()]}),this.loader&&this.loader.detachHandlers(),this.loader=new r.ListingInfiniteScroll(this,this.remoteUrl),this.loader.startTimer(),this.includeOffsetConditionForDetectExtra=!1,this.navigationView=this.loader.navigation,this.togglePerPageSelector(),this.gridView&&this.render()},t.prototype.attachHandlers=function(){var t,n=this,i=this;this.onItemBadgesClickHandler=function(){return e(this).closest(".mls_item").find(".thumbnail a:first").trigger("click"),!1},this.onItemClickHandler=function(t){var n=e("#mls_chatconsole");if(n.length&&n.hasClass("view4cam"))return!1;var a=e(this);if(!window.chat||i.isAllModelsPage||i.is404Page)return location.href=a.attr("href"),!1;var r=a.parents(".mls_item").first(),o=r.find("[data-chathost]"),s=String(o.attr("data-chathost"));return u.default.saveDisplayedState(s),e.loadChatRoom(s,o.attr("data-name")),i.calculateChathostPosition(Number(r.attr("data-so"))),i.toggleActiveThumb(s),l.ImagePlayer.instance.stop(),e.isRunetki&&e("#mls_view_all").hide(),window.event&&(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1,!1},this.onAfterListingUpdateHandler=function(){i.stateData.th_type&&(i.currentThumbType=i.stateData.th_type,i.loader.cookieData.th_type=i.stateData.th_type),i.vipShowEnabled=i.stateData.vip_show,i.hasFilter&&i.updateModelsCountBlock(),i.hasMlsTabs&&(i.checkFriendTab(),i.toggleActiveTab()),i.updateChatMlsList()};var a=0;this.onHoverContainerHandler=function(t){var n=e(this);if(!n.find(".bage_vip").length)switch(a&&(clearTimeout(a),a=0),t.type){case"mouseenter":n.addClass("thumbnail_spinner"),a=window.setTimeout(function(){a=0;var e=h.getChathostPreviewFrame(n.attr("data-vsid"),n.attr("data-chathost"));e&&(l.ImagePlayer.instance.attach(n),l.ImagePlayer.instance.play(e),n.removeClass("thumbnail_spinner"))},200);break;case"mouseleave":l.ImagePlayer.instance.stop(),n.removeClass("thumbnail_spinner")}},this.onClickViewAllHandler=function(){return i.activateInfiniteScroll(),i.loader.resetData(),i.loader.load(0),!1},this.onResizeHandler=function(){var e=!i.initData.noResize;t?clearTimeout(t):e&&i.$listingContainer.width(i.$listingContainer.attr("current-width")),t=setTimeout(function(){e&&i.resizer.resize(!0),i.fixTabsSize(),t=null},100)},this.$listingContainer.on("click",".mls_item .bages, .mls_item .etc",this.onItemBadgesClickHandler).on("click","a.chat",this.onItemClickHandler).on("afterListingUpdate",this.onAfterListingUpdateHandler),e.isRunetki&&this.$listingContainer.on("click","#mls_view_all a",this.onClickViewAllHandler),!e.isTranslateSkin&&this.isLiveThumbsEnabled&&this.$listingContainer.on("hover",".thumbnail[data-vsid]",this.onHoverContainerHandler),e(document).on("search:submit",this.onFilterSubmit),e(window).on("resize.mls_tabs",this.onResizeHandler),this.onAfterRenderHandler=function(){if(n.resizer.resize(),n.fixTabsSize(),l.ImagePlayer.instance.itemId){var t=e(".mls_so_"+l.ImagePlayer.instance.itemIndex);t.length&&!t.find("[data-chathost="+l.ImagePlayer.instance.itemId+"]").length&&l.ImagePlayer.instance.stop()}},this.$listingContainer.on("afterRender",this.onAfterRenderHandler)},t.prototype.detachHandlers=function(){var t=[{root:this.$listingContainer,event:"click",fn:this.onItemClickHandler,selector:"a.chat"},{root:this.$listingContainer,event:"click",fn:this.onItemBadgesClickHandler,selector:".mls_item .bages, .mls_item .etc"},{root:this.$listingContainer,event:"hover",fn:this.onHoverContainerHandler,selector:".thumbnail[data-vsid]"}];e.isRunetki&&t.push({root:this.$listingContainer,event:"click",fn:this.onClickViewAllHandler,selector:"#mls_view_all a"}),t.forEach(function(e){e.fn&&e.root.length&&e.root.off(e.event,e.selector,e.fn)}),e(document).off("search:submit",this.onFilterSubmit),e(window).off(".mls_tabs"),this.$listingContainer.off("afterListingUpdate").off("afterRender"),this.resizer&&this.resizer.detachHandlers(),this.loader&&this.loader.detachHandlers(),this.filter&&this.filter.detachHandlers()},t.prototype.getCountExtraModels=function(e){var t=this.stateData.models.length%e||0;return!this.stateData.vip_show||"small"!==this.getRealThumbSize()||this.includeOffsetConditionForDetectExtra&&0!==this.loader.offset||(t+=3),this.loader?t>0&&this.loader.totalCount>this.loader.getRealLimit()?t:0:t>0&&t<this.stateData.total_count?t:0},t.prototype.removeExtraModelsFromStateData=function(e,t){this.stateData.models.length-(t-e)>0&&(this.stateData.models=this.stateData.models.slice(e,t),this.updateChatMlsList())},t.prototype.detectThumbImg=function(){this.$listingContainer.find(".thumbnail").find("img.profile_image").imagesLoaded(function(){e(this).parents(".thm_a").removeClass("thm_default")},function(){e(this).parents(".thm_a").addClass("thm_default")})},t.prototype.setDefaultThumb=function(e){if(!this.isDebug)return!1;var t=this.$listingContainer.find(".thumbnail").eq(e);if(t.length){var n=t.find(".profile_image");return n.attr("src",n.attr("src")+"/error"),!0}return!1},t.prototype.getRealThumbSize=function(){return this.getAutoThumbSize()},t.prototype.getAutoThumbSize=function(e){var t=e||this.currentThumbSize;return"auto"===t?window.matchMedia&&window.matchMedia("(max-width: 1299px)").matches?"small":window.matchMedia&&window.matchMedia("(max-width: 1900px)").matches?"medium":"big":t},t.prototype.debugMessage=function(e){this.isDebug&&"undefined"!=typeof Raven&&Raven.captureMessage(e||"undefined message")},t.prototype.togglePerPageSelector=function(){var t=e(".mls_search_quick").find(".ms_per_page");this.hasFilter&&this.isPagerEnabled()&&window.chat&&("none"===window.chat.visibility&&null===this.chathostPosition||-1!==["hidden","collapse"].indexOf(window.chat.visibility))?(this.filter instanceof a.ListingFilter&&this.filter.assignPerPage(),t.show()):t.hide()},t.prototype.updateModelsCountBlock=function(){var t=this.stateData,n=0,i=this.$listingContainer,a=e(document).find(".mls_top_tabs_container"),r=!0;a.length||(a=i,r=!1);var o=a.find(".mls_online_count"),s=a.find(".mls_online_count_diff");this.filter&&this.filter.isAnyFilterSelected()||e.isRunetki&&this.isAllModelsPage?(t.models.length&&(n+=+t.total_count),r&&(s.hide(),o.removeClass("mls_count_red")),a.find(".mls_heading").hide(),a.find(".mls_heading_found").show()):(t.models.length&&(n+=+t.online_count),a.find(".mls_heading_found").hide(),a.find(".mls_heading").show()),o.text(n),e.isRunetki&&e(".mls_per_page_count").text(this.stateData.models.length||0)},t.prototype.updateChatMlsList=function(){var e=this.stateData;"undefined"!==window.chat&&(e.online_models?window.chat.mlsUpdate(e.online_models,!0):window.chat.mlsUpdate(e.models||{},!1))},t.prototype.checkFriendTab=function(){var t=this.stateData;!t.models.length&&this.loader.updateData["model_search[visibility][]"]&&-1!==this.loader.updateData["model_search[visibility][]"].indexOf("friends")||!t.total_count&&"friends"===this.livetab?this.$listingContainer.find(".mls_friends_not_found").show():this.$listingContainer.find(".mls_friends_not_found").hide(),"friends"===this.livetab&&e(".mls_tabs .friends.selected span").html("("+t.online_count+")")},t.prototype.toggleActiveTab=function(){var t=e("ul.mls_tabs_home");e("#mls_search_filters").find("input:checkbox:checked").length||""!==e("#model_search_display_name").val()?(t.find(".selected").addClass("default_selected").removeClass("selected"),this.toggleCategory(!0)):t.find(".default_selected").length&&(t.find(".default_selected").addClass("selected"),this.toggleCategory(!1)),t.find(".selected a").data("type")!==this.livetab&&(t.find(".selected").removeClass("selected"),t.find("a[data-type="+this.livetab+"]").parent("li").addClass("selected"))},t.prototype.fixTabsSize=function(){function t(){return d.isRTLCulture?a.offset().left-(r.offset().left+r.width()+15):r.offset().left-(a.offset().left+a.width())}var n=e("#mls_tabs_container"),i=n.find(".mls_tabs_home");if(n.length&&i.is(":visible")){var a=i.find("li:last"),r=n.find("#filter_control"),o=t();o<10?(r.hasClass("filter_control_min")||r.addClass("filter_control_min"),o=t(),!i.hasClass("mls_tabs_min")&&o<10&&(i.addClass("mls_tabs_min"),(o=t())>=r.find(".word").width()+10&&r.removeClass("filter_control_min"))):o>=r.find(".word").width()+10&&(r.hasClass("filter_control_min")&&r.removeClass("filter_control_min"),(o=t())>=200&&i.hasClass("mls_tabs_min")&&o>=200&&i.removeClass("mls_tabs_min"))}},t.prototype.toggleCategory=function(t){var n=e(".model_categories_panel"),i=n.find("span.active");i.length&&(t||null==this.category?(i.is(":visible")&&i.hide().parent().find("a").show(),null==this.category&&i.remove()):i.is(":hidden")&&i.show().parent().find("a").hide())},t.prototype.toggleActiveThumb=function(e){this.chathost=e,this.isChatOpened()&&this.render()},t.prototype.hideExtraThumbs=function(){var e=this.getCountExtraModels(this.resizer.getCurrentThumbsPerRow());if(!(this.stateData.models.length<=e)){var t=e>0;this.loader&&(t=t&&this.loader.offset+this.loader.getRealLimit()<this.loader.totalCount),t&&this.$listingContainer.find(".mls_item").slice(-1*e).addClass("hidden_item")}},t.prototype.isChatOpened=function(){return null!==this.chathostPosition&&window.chat&&-1!==["visible","none"].indexOf(window.chat.visibility)},t.prototype.calculateChathostPosition=function(e){if(!("number"!=typeof e||e<0)){var t=null,n=this.stateData.models.find(function(t){return t.sortOrder===e});n?t=n.sortOrder>=0?n.sortOrder:null:this.stateData.online_models&&(this.stateData.online_models.find(function(n,i){return n.sortOrder===e&&(t=i,!0)}),null!==t&&this.changePageList(t)),this.chathostPosition=t}},t.prototype.changePageList=function(e){var t=this.loader.getRealLimit(),n=Math.ceil((e+1)/t),i=(n-1)*t;this.loader.changeOffset(i);var a=this.stateData.online_models;this.stateData.models=a.slice(i,i+t),this.loader.checkChangedThumbs(),this.gridView.draw(),this.navigationView.renderPager()},t.prototype.resetCategory=function(){this.category=null,this.toggleCategory()},t.prototype.render=function(){this.stateData.models&&(this.gridView||this.initView(),this.gridView.draw())},t}();t.Listing=p}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=function(){function t(t,n){this.cookieName="bcmlsf9",this.xhr=null,this.timer=null,this.timerInt=3e4,this.needOffset=0,this.offset=0,this.limit=50,this.totalCount=0,this.needAllModels=!1,this.lastModelsUpdate=null,this.cookieData={},this.listing=t,this.remoteUrl=n,this.$listingContainer=this.listing.$listingContainer,this.timerInt=this.listing.loggedIn?this.timerInt:2*this.timerInt,this.cookieData=this.getCookieData(),this.cookieData.sorting=this.cookieData.sorting||this.listing.initData.sorting||"camscore",this.limit=Number(this.cookieData.limit)||50,this.offset=Number(t.initData.offset)||0,this.totalCount=Number(t.stateData.total_count)||0,e.isServerSideListingRenderEnabled&&this.listing.stateData&&(this.lastModelsUpdate=Date.now())}return t.prototype.detachHandlers=function(){this.$listingContainer.off("click.mlsLoader"),this.stopLoad(),this.stopTimer()},t.prototype.resetData=function(){this.needOffset=0},t.prototype.getLimitForChat=function(){if(e.isRunetki)return 8;var t=2;"small"===this.listing.getRealThumbSize()&&(t=3);var n=this.listing.resizer.getCurrentThumbsPerRow();return n*Math.ceil(t*n/n)},t.prototype.load=function(t){if(this.remoteUrl){this.stopLoad(),this.stopTimer(),void 0!==t&&t>=0&&t<this.totalCount&&(this.offset=t),this.calculateLimit(),this.prepareData();var n=this;this.xhr=e.ajax({url:n.remoteUrl,context:this,data:n.updateData,dataType:"json",type:"get",complete:function(){n.xhr=null,e(".mls_spinner",n.$listingContainer).removeClass("mls_spinner")},success:function(e){if(n.xhr=null,!e||"success"!==e.status)return void 0!==window.console&&console.log("unsuccess",e),void n.listing.debugMessage("Failed listing response");n.processResult(e),n.startTimer(),n.lastModelsUpdate=Date.now(),n.listing.render(),n.$listingContainer.triggerHandler("afterListingUpdate")},error:function(e){void 0!==window.console&&console.log("error",e)}})}},t.prototype.stopLoad=function(){null!==this.xhr&&(this.xhr.abort(),this.xhr=null)},t.prototype.forceLoadOnlineModels=function(e){this.needAllModels=!0;var t=null;"next"===e?t=this.offset+this.getRealLimit()<this.totalCount?this.offset+this.getRealLimit():0:"prev"===e&&(t=this.offset-this.getRealLimit()>=0?this.offset-this.getRealLimit():this.totalCount-this.getRealLimit()),t&&this.changeOffset(t),this.load()},t.prototype.prepareData=function(){var t=!1,n=!1,i={livetab:this.listing.livetab,online_only:this.listing.onlineOnly,offset:this.offset};if(this.needAllModels&&(i._include_online_list=1),this.listing.is404Page&&(i.limit=this.limit),this.listing.tag&&(i.tag=this.listing.tag),this.listing.category&&(i.category=this.listing.category),this.listing.isChatOpened()&&(i.is_chat=!0),this.listing.filter){var a=this.listing.filter.getFilterData(),r=["model_search[gender][]","model_search[preference][]","model_search[age][]","model_search[hair_color][]","model_search[eyes_color][]","model_search[ethnicity][]","model_search[height][]","model_search[body][]","model_search[bust_size][]","model_search[penis_size][]","model_search[butt_size][]","model_search[visibility][]","model_search[audio][]","model_search[cams][]","model_search[lang][]","model_search[tag][]","model_search[categories][]"];a["model_search[display_name][text]"]&&a["model_search[display_name][text]"]!==__("Search by nickname")+"..."&&(i["model_search[display_name][text]"]=a["model_search[display_name][text]"],i._online_filter=0);for(var o=r.length,s=0;s<o;s++){var l=r[s];a[l]&&(i[l]=a[l],i._online_filter=0)}this.cookieData.sorting&&this.cookieData.display&&this.cookieData.th_type&&this.cookieData.sorting===a["model_search[base_sort]"]&&this.cookieData.display===a["model_search[display]"]&&this.cookieData.th_type===a["model_search[th_type]"]||(this.cookieData.sorting=a["model_search[base_sort]"],this.cookieData.display!==a["model_search[display]"]&&(n=!0,this.cookieData.display=a["model_search[display]"]),this.cookieData.th_type=a["model_search[th_type]"],t=!0)}!n&&(this.listing.is404Page||this.listing.isAllModelsPage||this.cookieData.limit)&&this.cookieData.c_limit&&this.cookieData.limit===this.limit&&this.cookieData.c_limit===this.getLimitForChat()||(this.cookieData.limit=this.limit,this.cookieData.c_limit=this.getLimitForChat(),t=!0),(this.listing.is404Page||this.listing.isAllModelsPage&&!e.isRunetki)&&(i["model_search[base_sort]"]="popular"),this.updateData=i,t&&this.saveCookieData()},t.prototype.processResult=function(e){this.totalCount=e.total_count;for(var t in e)"models"!==t&&e.hasOwnProperty(t)&&(this.listing.stateData[t]=e[t]);this.processData(e),this.checkThumbs()},t.prototype.checkThumbs=function(){var e=this;this.assignSortOrder(),this.listing.stateData.models.forEach(function(t){"object"==typeof t.thumb_image&&(t.thumb_image=t.thumb_image[e.listing.getRealThumbSize()],"live"===e.listing.currentThumbType?t.live_image=t.thumb_image[e.listing.getRealThumbSize()]:"profile"===e.listing.currentThumbType&&(t.profile_image=t.thumb_image[e.listing.getRealThumbSize()]))})},t.prototype.checkChangedThumbs=function(){this.checkThumbs()},t.prototype.startTimer=function(){var e=this;this.timer&&this.stopTimer(),this.timer=window.setTimeout(function(){e.initTimeout()},this.timerInt)},t.prototype.stopTimer=function(){null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null)},t.prototype.initTimeout=function(){this.load()},t.prototype.saveLimit=function(e){var t=this.limit;this.calculateLimit(e),t!==this.limit&&this.limit!==this.getLimitForChat()&&(this.cookieData.limit=this.limit,this.cookieData.c_limit=this.getLimitForChat(),this.saveCookieData())},t.prototype.getCookieData=function(){return i.json_parse(sv.cookie.getItem(this.cookieName))||{}},t.prototype.saveCookieData=function(){var t=this.cookieData||{},n=e.extend(this.getCookieData(),this.cookieData);for(var i in n)n.hasOwnProperty(i)&&this.cookieData.hasOwnProperty(i)&&(Array.isArray(n[i])&&(n[i]=n[i][0],this.listing.debugMessage("Failed data for "+i+" save in cookie")),t[i]=n[i]);this.cookieData=t,sv.cookie.setItem(this.cookieName,JSON.stringify(t))},t}();t.ListingLoader=a}).call(t,n(0))},function(e,t,n){"use strict";function i(){var e=document.getElementById("listingConfiguration");if(!e)return null;var t=a.json_parse(e.innerText),n=t.initData,i=t.localData,r=t.thumbWidthValues,o=t.thumbImgSizes;return{remoteUrl:t.remoteUrl,initData:n,localData:i,stateData:t.stateData,thumbWidthValues:r,thumbImgSizes:o}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9);t.default=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(242),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(243),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(242),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(243),r=function(e){function t(t,n){var i=e.call(this,t)||this;return i.url=t,i.name=n,i}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(243),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(242),r=function(e){function t(t,n,i){var a=e.call(this,t)||this;return a.chatHost=n,a.name=i,a.contract.assertString(a.constructor.name+"#constructor~chatHost",n),a.contract.assertString(a.constructor.name+"#constructor~name",i),a}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(264),a=n(7),r=function(){function t(){this.minClass="hr_min",this.narrowClass="hr_narrow",window.globalHeaderResize&&window.globalHeaderResize.detachHandlers(),window.globalHeaderResize=this}return t.prototype.init=function(){this.$header=e("#header"),this.$confirm=e(".confirm_email_box"),this.$chat=e("#mls_chatconsole"),this.hasSmallHeader=1==e("body").data("bls")&&this.$header.hasClass("is_chm"),this.scrollTimeout=0,this.initHeaderTop=this.$confirm.outerHeight(!0)||0,this.lastScrollTop=e(window).scrollTop(),this.minifyInProcess=!1,this.normalizeInProcess=!1,this.attachHandlers(),this.isChatOpened()&&this.minify()},t.prototype.attachHandlers=function(){var t=this,n=this;n.hasSmallHeader&&n.$header.hasClass("chm_fixed")&&(e(window).scroll(function(){clearTimeout(n.scrollTimeout),n.fixPosOnScroll(),n.scrollTimeout=window.setTimeout(function(){n.checkScrollPos()},10),n.lastScrollTop=e(window).scrollTop()}),n.checkScrollPos()),this.transformHeaderHandler=function(){t.isChatOpened()?t.minify():t.normalize()},this.onWindowResizeHandler=function(){var n=e("#header"),i=window.globalHeaderResize||null;n.hasClass(t.minClass)&&i&&i.checkNarrow()},e(document).on("chat:visibility",this.transformHeaderHandler),e(window).on("resize",this.onWindowResizeHandler)},t.prototype.detachHandlers=function(){e(document).off("chat:visibility",this.transformHeaderHandler),e(window).off("resize",this.onWindowResizeHandler)},t.prototype.checkScrollPos=function(){var t=this;e(window).scrollTop()>t.initHeaderTop?t.minify():t.normalize(),0==t.lastScrollTop&&t.minifyInProcess&&!t.normalizeInProcess&&setTimeout(function(){t.checkScrollPos()},200)},t.prototype.fixPosOnScroll=function(){var t=this,n=e(window).scrollLeft();t.$header.hasClass("chm_fixed_yes")?a.isRTLCulture?t.$header.css("right",n+"px"):t.$header.css("left",-1*n+"px"):a.isRTLCulture?t.$header.css("right",""):t.$header.css("left","")},t.prototype.isChatOpened=function(){var t=e("#mls_chatconsole").is(":visible");return void 0!==window.chat?"none"===window.chat.visibility?t:"visible"===window.chat.visibility:t},t.prototype.minify=function(){var t=this,n=this.isChatOpened();t.hasSmallHeader&&!t.$header.hasClass(t.minClass)&&(n||t.$header.height(0).addClass(t.minClass),t.$header.stop(!0,!0).animate({height:30},{duration:250,start:function(){t.minifyInProcess=!0,i.closeImPopover()},complete:function(){t.minifyInProcess=!1,t.$header.addClass(t.minClass),n&&(!t.$confirm.length||t.$confirm.length&&t.$confirm.hasClass(t.minClass))&&(chat.setChatHeight(),chat.adjustDMCASecurityIcon(),chat.btnResize()),e(document).trigger("header:change")}}),t.$confirm.length&&n&&t.$confirm.stop(!0,!0).addClass(t.minClass,250,function(){n&&t.$header.hasClass(t.minClass)&&(chat.setChatHeight(),chat.adjustDMCASecurityIcon(),chat.btnResize())}),t.checkNarrow()),t.$header.hasClass("chm_fixed")&&(n?t.$header.removeClass("chm_fixed_yes"):(t.$header.addClass("chm_fixed_yes"),t.fixPosOnScroll()))},t.prototype.normalize=function(){var t=this,n=this.isChatOpened();t.hasSmallHeader&&t.$header.hasClass(t.minClass)&&!n?(t.$header.stop(!0,!0).animate({height:62},{duration:250,start:function(){t.normalizeInProcess=!0,i.closeImPopover()},step:function(e){},complete:function(){t.normalizeInProcess=!1,t.$header.removeClass(t.minClass+" "+t.narrowClass+" chm_fixed_yes"),t.fixPosOnScroll(),e(document).trigger("header:change")}}),t.$header.hasClass("chm_fixed_yes")?t.$confirm.length&&t.$header.removeClass("chm_fixed_yes"):t.$confirm.length&&t.$confirm.stop(!0,!0).removeClass(t.minClass+" "+t.narrowClass,250)):n&&t.$confirm.stop(!0,!0).addClass(t.minClass+" "+t.narrowClass,250)},t.prototype.checkNarrow=function(){var t=e("#header, .confirm_email_box");t.toggleClass(this.narrowClass,t.outerWidth()<1400||this.$header.hasClass("lnw")&&t.outerWidth()<1550)},t}();t.HeaderResize=r}).call(t,n(0))},,,,,,function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(5),o=function(e){function t(t){var n=e.call(this,t)||this;return n.timer=0,n.state={currentTime:""},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this;this.timer||(this.timer=window.setInterval(function(){var t=new Date,n=r.default.getState().player,i=t.getTime()+60*t.getTimezoneOffset()*1e3+1e3*(n.serverTimeOffset||0);e.setState({currentTime:new Date(i).toLocaleString()})},1e3))},t.prototype.componentWillUnmount=function(){},t.prototype.render=function(e,t){var n=t.currentTime;return a.h("div",{class:"player-time"},n)},t.defaultProps={},t}(a.Component);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(14),o=function(e){function t(t){var n=e.call(this,t)||this;return n.dialogIndex=-1,n.handleOutsideClick=function(e){n.props.dialog&&!n.base.contains(e.target)&&n.props.onOutsideClick()},n}return i(t,e),t.prototype.componentWillMount=function(){document.addEventListener("click",this.handleOutsideClick,!1)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleOutsideClick,!1)},t.prototype.render=function(e,t){var n=e.children,i=e.dialog;return(this.dialogIndex<0||this.dialogIndex>=n.length||n[this.dialogIndex].attributes.dialogName!==i)&&(this.dialogIndex=n.findIndex(function(e){return e.attributes.dialogName===i})),a.h("div",{class:"player-dialogs"},this.dialogIndex>=0&&n[this.dialogIndex])},t.defaultProps={dialog:"",onOutsideClick:r.noop},t}(a.Component);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(272);t.VIDEO_PLAYER_DIALOG_PREMIUM_ONLY="premium-only-dialog";var o=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClose=function(){n.context.player.setState({dialog:""})},n.state={},n}return i(t,e),t.prototype.render=function(e,t){return a.h("div",{id:"flash-big-dialog",class:"dialog_position_center static-dialog"},a.h("div",{className:"static-dialog-content"},a.h("h4",null,__("Warning")),__("Limited only to premium members")),a.h("div",{className:"close",onClick:this.handleClose},a.h("div",{className:"close-button"})))},t.defaultProps={},t}(r.PlayerDialog);t.DialogPremiumOnly=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(231),o=n(272);t.VIDEO_PLAYER_DIALOG_FLASH_BIG_FIRST="flash-big-dialog";var s=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClose=function(){n.context.player.setState({dialog:""})},n.state={},n}return i(t,e),t.prototype.render=function(e,t){return a.h("div",{id:"flash-big-dialog",class:"dialog_position_center static-dialog"},a.h("div",{class:"static-dialog-content"},a.h("h4",null,__("Flash Player support")),a.h(r.TransHTML,{tagName:"span",text:"You are currently using the HTML-5 version of the chat; %s1%it has substantially limited features%s2% (non-optimal video quality + possibility of delayed streaming).",params:{s1:"<strong>",s2:"</strong>"}})),a.h("div",{class:"static-text"},a.h(r.TransHTML,{tagName:"span",text:'To use the site\'s full features, you need to allow viewing Flash content in your browser. Please press on the "rocker" to enable Flash for your browser. You can also lock-release Flash by pressing on the "puzzle" icon in the top right corner of your browser.'}),a.h("div",{class:"hr"}),"* ",a.h("svg",{class:"icon"},a.h("use",{xlinkHref:"#icon-checkbox-off"}))," ** ",a.h("svg",{class:"icon"},a.h("use",{xlinkHref:"#icon-puzzle"}))),a.h("div",{class:"close",onClick:this.handleClose},a.h("div",{class:"close-button"})))},t.defaultProps={},t}(o.PlayerDialog);t.DialogFlashBigFirst=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(231),o=n(272);t.VIDEO_PLAYER_DIALOG_FLASH_BIG_SECOND="flash-big-dialog-2";var s=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClose=function(){n.context.player.setState({dialog:""})},n.state={},n}return i(t,e),t.prototype.render=function(e,t){return a.h("div",{id:"flash-big-dialog-2",class:"dialog_position_center static-dialog"},a.h("div",{class:"static-dialog-content"},a.h("h4",null,__("Flash Player support")),a.h(r.TransHTML,{tagName:"span",text:'You are currently using the Flash-version of the chat: it\'s %s1%fully featured and optimized.%s2% %s3%If you are unhappy with the way Flash Player is functioning on your computer%s4%, please try switching to the HTML-5 site version by pressing on the "rocker".',params:{s1:"<strong>",s2:"</strong>",s3:"<br /><br /><strong>",s4:"</strong>"}})),a.h("div",{class:"static-text"},a.h(r.TransHTML,{tagName:"i",text:"However, please keep in mind that the HTML-5 site version has substantially limited features (non-optimal video quality + possibility of delayed streaming). We recommend that all our users opt for the %s1%Flash-version of the chat (currently in use).%s2%",params:{s1:"<strong>",s2:"</strong>"}}),a.h("div",{class:"hr"}),"* ",a.h("svg",{class:"icon"},a.h("use",{xlinkHref:"#icon-checkbox-on"}))),a.h("div",{class:"close",onClick:this.handleClose},a.h("div",{class:"close-button"})))},t.defaultProps={},t}(o.PlayerDialog);t.DialogFlashBigSecond=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(231),o=n(200),s=n(272);t.VIDEO_PLAYER_DIALOG_FLASH_TOGGLE_FIRST="flash-toggle-dialog";var l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClose=function(){n.state.blocked||sv.cookie.setItem("fl_pop","1",1095),n.context.player.setState({dialog:""})},n.state={blocked:!o.default.isAvailable},n}return i(t,e),t.prototype.render=function(e,t){return a.h("div",{id:"flash-toggle-dialog",class:"dialog_position_at_settings balloon-dialog"},a.h("div",{class:"balloon-content"},a.h("div",null,a.h("h4",null,__("Flash Player support")),__("You are currently using the HTML-5 version of the chat; it has substantially limited features."))),a.h("div",{class:"balloon-text"},a.h("p",null,a.h("svg",{class:"icon"},a.h("use",{xlinkHref:"#icon-flash"})),a.h("br",null),a.h(r.TransHTML,{tagName:"span",text:"To use the site's full features, you need to %s1%allow viewing%s2% %s3%Flash content%s4% in your browser.",params:{s1:'<strong class="green">',s2:"</strong>",s3:"<strong>",s4:"</strong>"}}),a.h("br",null),a.h("br",null)),a.h("div",{class:"buttons-row"},a.h("div",{class:"allow-button-holder"},a.h("object",{data:"/swf/spacer.swf",type:"application/x-shockwave-flash"},a.h("param",{name:"wmode",value:"opaque"})),a.h("div",{class:"button button-green"},__("Allow"))),a.h("div",{class:"button button-gray",onClick:this.handleClose},__("I don't want to enable Flash"))),a.h("p",{class:"download-flash"},a.h(r.TransHTML,{tagName:"span",text:"If you do not have Flash Player installed on your computer, please download the latest version %s1%here%s2%",params:{s1:'<a href="https://goo.gl/RuIw1" target="_blank">',s2:"</a>"}}))),a.h("div",{class:"balloon-arrow-border"}),a.h("div",{class:"balloon-arrow"}))},t.defaultProps={},t}(s.PlayerDialog);t.DialogFlashToggleFirst=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(15),s=n(231),l=n(272);t.VIDEO_PLAYER_DIALOG_FLASH_TOGGLE_SECOND="flash-toggle-dialog-2";var c=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClose=function(){sv.cookie.setItem("fl_pop","2",1095),n.context.player.setState({dialog:""})},n.state={},n}return i(t,e),t.prototype.render=function(e,t){var n=e.isRunetki;return r.h("div",{id:"flash-toggle-dialog-2",class:"dialog_position_at_settings balloon-dialog"},r.h("div",{class:"balloon-content"},r.h("p",null,r.h("svg",{class:"icon"},r.h("use",{xlinkHref:"#icon-flash"})),r.h("br",null),r.h(s.TransHTML,{tagName:"span",text:"Are you sure you don't want to %s1%enable the Flash-version of the chat?%s2% The Flash-version%br1% is fully %s3%featured and%br2% optimized%s4%. We recommend that all our users opt for the Flash-version of the chat.",params:{s1:"<strong>",s2:"</strong>",s3:'<strong  class="green">',s4:"</strong>",br1:n?"<br/>":"",br2:n?"<br/>":""}}),r.h("br",null),r.h("br",null)),r.h("div",{class:"buttons-row"},r.h("div",{class:"allow-button-holder"},r.h("object",{data:"/swf/spacer.swf",type:"application/x-shockwave-flash"},r.h("param",{name:"wmode",value:"opaque"})),r.h("div",{class:"button button-green"},__("Enable Flash"))),r.h("div",{class:"button button-gray",onClick:this.handleClose},__("I don't need good quality"))),r.h("p",{class:"download-flash"},r.h(s.TransHTML,{tagName:"span",text:"If you do not have Flash Player installed on your computer, please download the latest version %s1%here%s2%",params:{s1:'<a href="https://goo.gl/RuIw1" target="_blank">',s2:"</a>"}}))),r.h("div",{class:"balloon-arrow-border"}),r.h("div",{class:"balloon-arrow"}))},t.defaultProps={},t=a([o.connect("isRunetki")],t)}(l.PlayerDialog);t.DialogFlashToggleSecond=c},function(e,t,n){"use strict";function i(){if(!f||!document.getElementById(f)){var e=(a.default.getState().isRunetki,p(l+u+c+d+h)),t=document.createElement("div");t.id=f=r.genRandomGUID(),t.style.display="none",t.innerHTML=e,document.body.appendChild(t)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),r=n(47),o=/<svg(?:[^>]*)>([^]*)<\/svg>/gi,s=function(e){var t=e.replace(/\r?\n/g," ").split(o);return t.length>1?t[1]:""},l=s(n(637)),c=s(n(638)),u=s(n(639)),d=s(n(640)),h=s(n(641)),p=function(e){return'<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>"},f="";t.initPlayerIcons=i},function(e,t){e.exports='<svg>\n  <symbol id="icon-puzzle" viewBox="0 0 256 238">\n    <path fill="#a4a4a4"\n          d="M255.991,151.023c-1.125-24.36-13.416-44.066-30.19-40.595-20.126,4.638-13.417,25.516-31.3,25.516-12.3,1.161-13.417-32.469-13.417-32.469l0.006-18.556-31.3-.006c-14.531,1.167-40.24-6.953-41.359-17.39-1.119-15.079,21.233-19.717,23.477-35.951C135.256,11.854,117.369-2.059,95.012.263,71.535,1.423,52.528,11.854,55.885,29.255c4.471,20.867,24.6,18.551,24.59,37.107,0,9.275-21.233,17.4-29.066,18.556H-0.009V235.679L38,235.673c15.655,0,39.126-5.8,39.126-15.062,1.113-15.085-20.12-18.562-23.477-33.642C50.3,167.253,67.064,154.5,90.541,155.661s42.477,13.919,39.12,31.308c-4.471,20.879-24.59,16.247-24.59,34.8,0,9.264,20.119,16.229,29.072,16.229h46.942l0.006-25.51c-0.006-13.925,1.113-45.232,12.292-45.232,14.536-1.15,16.768,22.038,32.418,24.354C244.807,192.774,255.991,174.217,255.991,151.023Z"/>\n  </symbol>\n  <symbol id="icon-flash" viewBox="0 0 256 256">\n    <path fill="#009b27"\n          d="M221.845,50.613L189.2,81.836a6.4,6.4,0,0,1-8.757,0L163.6,65.716a5.744,5.744,0,0,1,0-8.377,6.392,6.392,0,0,1,8.757,0L184.828,69.27l28.259-27.036a6.393,6.393,0,0,1,8.756,0A5.745,5.745,0,0,1,221.845,50.613ZM192.7,0.011A58.977,58.977,0,1,0,252,58.987,59.092,59.092,0,0,0,192.7.011Zm0.05,106.157a47.181,47.181,0,1,1,47.413-47.181A47.287,47.287,0,0,1,192.746,106.168Z"/>\n    <path fill="#8f8f8f"\n          d="M133.42,126.423c-0.156.343-.294,0.686-0.441,1.04h19.334a5.057,5.057,0,0,1,4.9,5.2v31.2a5.058,5.058,0,0,1-4.9,5.2H121.775c-8.844,31.632-34.133,62.391-67.4,62.391a5.056,5.056,0,0,1-4.9-5.2v-31.2a5.057,5.057,0,0,1,4.9-5.2c21.057,0,26.541-15.348,34.416-42.457,1.567-5.4,3.183-10.95,5.054-16.482,5.591-16.608,12.431-36.88,26.864-50.507a73.143,73.143,0,0,0,4,10.3C115.013,101.358,109,116.79,103.058,134.42c-1.822,5.387-3.389,10.794-4.907,16.035-6.7,23.054-13.614,46.857-38.883,49.549v20.787c27.2-3.016,47.55-30.759,54.014-58.18a4.957,4.957,0,0,1,4.751-3.952h29.382v-20.8H125.252a4.841,4.841,0,0,1-4.182-2.486,5.491,5.491,0,0,1-.186-5.085c1.371-2.828,2.507-5.552,3.585-8.111,2.652-6.291,5.145-12.191,9.55-16.77a74.415,74.415,0,0,0,6.9,7.4C137.784,116.059,135.871,120.6,133.42,126.423ZM117.932,51.306H22.815A12,12,0,0,0,10.826,63.238V233.282a12,12,0,0,0,11.989,11.932H193.663a12,12,0,0,0,11.989-11.932V131.572a74.063,74.063,0,0,0,10.838-2.9V233.282A22.8,22.8,0,0,1,193.663,256H22.815A22.8,22.8,0,0,1-.012,233.282V63.238a22.8,22.8,0,0,1,22.827-22.72h97.059A73.208,73.208,0,0,0,117.932,51.306Z"/>\n  </symbol>\n  <symbol id="icon-checkbox-on" viewBox="0 0 256 140">\n    <path fill="#009b27"\n          d="M27.676,0H228.325A27.675,27.675,0,0,1,256,27.675v84.651A27.675,27.675,0,0,1,228.325,140H27.676A27.676,27.676,0,0,1,0,112.324V27.676A27.676,27.676,0,0,1,27.676,0Z"/>\n    <rect fill="#fff" x="131" y="14" width="111" height="111" rx="20" ry="20"/>\n  </symbol>\n  <symbol id="icon-checkbox-off" viewBox="0 0 256 140">\n    <path class="checkbox_frame"\n          d="M30.673,3H225.321A27.638,27.638,0,0,1,253,30.6v78.8A27.637,27.637,0,0,1,225.321,137H30.673A27.638,27.638,0,0,1,3,109.4V30.6A27.639,27.639,0,0,1,30.673,3Z"/>\n    <rect fill="#d9d9d9" x="14" y="14" width="111" height="111" rx="20" ry="20"/>\n  </symbol>\n  <symbol id="icon-restore" viewBox="0 0 256 256">\n    <path fill="#fff"\n          d="M224,256H144V224h80V144h32V256H224Zm0-224H144V0H256V112H224V32ZM0,256V144H32v80h80v32H0ZM32,112H0V0H112V32H32v80Z"/>\n  </symbol>\n  <symbol id="icon-msp_what" width="18" height="18">\n    <path fill="#40a9dc" fill-rule="evenodd"\n          d="M8.992.013A8.987 8.987 0 1 0 17.986 9 8.983 8.983 0 0 0 8.992.013zM9 16.189A7.19 7.19 0 1 1 16.19 9 7.189 7.189 0 0 1 9 16.189zm.4-5.207v-.231a1.109 1.109 0 0 1 .321-.91q.346-.321.757-.642a4.083 4.083 0 0 0 .756-.782 2.145 2.145 0 0 0 .347-1.308 2.315 2.315 0 0 0-.6-1.693 2.965 2.965 0 0 0-1.449-.821 3.893 3.893 0 0 0-1.719-.026 2.947 2.947 0 0 0-1.411.667 2.238 2.238 0 0 0-.5.68 1.79 1.79 0 0 0-.192.782q0 .693.448.719c.3.017.68.025 1.142.025a1.626 1.626 0 0 1 .359-1.077 1.27 1.27 0 0 1 1.244-.334 1 1 0 0 1 .859 1.155 1.122 1.122 0 0 1-.269.769 5.03 5.03 0 0 1-.654.616 2.544 2.544 0 0 0-.911 1.09 4.852 4.852 0 0 0-.141 1.321H9.4zm-1.667 1.462v1.1h1.77v-1.77H8.37a.579.579 0 0 0-.641.667z"/>\n  </symbol>\n</svg>\n'},function(e,t){e.exports='<svg>\n  <symbol id="icon-light-play" viewBox="0 0 13 16">\n    <path fill="#E9E8E7" d="M0 0l13 8-13 8V0z"/>\n  </symbol>\n  <symbol id="icon-light-pause" viewBox="0 0 13 16">\n    <path fill="#E9E8E7" d="M8.79 16V0H13v16H8.79zM0 0h4.21v16H0V0z"/>\n  </symbol>\n  <symbol id="icon-light-tv-stream-active" viewBox="0 0 22 19">\n    <path fill="#E9E8E7"\n          d="M20.23 17.89c-2.56.02-5.12 0-7.68 0-.55 0-.96-.35-1.05-.83-.09-.46.12-.91.54-1.08.2-.08.43-.09.65-.09h6.94c.39.01.47-.12.47-.5V2.5c0-.4-.1-.52-.5-.52l-17.05.01c-.5 0-.5 0-.5.54l-.01 2.3c0 .68-.38 1.08-.99 1.08-.52 0-.9-.45-.9-1.08V1.89C.15.78.88 0 1.95 0h18.17c.92 0 1.58.47 1.81 1.3.05.18.07.37.07.56v14.1c0 1.11-.71 1.9-1.77 1.92zM1.27 11.77a5.12 5.12 0 0 1 4.65 5.06c0 .6-.4 1.01-.96 1.04-.5.02-.9-.4-.95-.96-.13-1.84-1.07-2.86-2.82-3.06-.46-.05-.82-.22-.98-.7-.14-.4-.05-.77.25-1.01.23-.19.54-.25.81-.37zm-.18 3.96c.64.01 1.1.51 1.1 1.19-.01.61-.5 1.1-1.1 1.08A1.12 1.12 0 0 1 0 16.84c0-.6.51-1.12 1.09-1.11zm3.36-4.98a6.02 6.02 0 0 0-2.84-.9c-.2-.02-.42-.03-.62-.06a.98.98 0 0 1-.84-1.07.95.95 0 0 1 .97-.9h.35c4 .12 7.58 3.41 8.18 7.54.06.45.11.9.13 1.36.03.69-.35 1.12-.96 1.15-.54.02-.92-.42-.95-1.1a7.07 7.07 0 0 0-3.42-6.02zm.59-3.63c-1.08-.37-1.1-.34-1.1-1.54V4.53c0-.56 0-.56.56-.56h13.27c.35-.01.43.1.43.45v9.06c0 .34-.1.43-.41.42h-6.4c-.27 0-.4-.06-.48-.36a8.62 8.62 0 0 0-5.87-6.42z"\n    />\n  </symbol>\n  <symbol id="icon-light-tv-stream" viewBox="0 0 22 19">\n    <path fill="#E9E8E7"\n          d="M20.23 17.88c-2.56.02-5.12.02-7.68 0-.55 0-.96-.34-1.05-.82-.09-.46.12-.91.54-1.08.2-.08.43-.09.65-.09h6.94c.39.01.47-.12.47-.5V2.5c0-.4-.1-.52-.5-.52H2.56c-.5 0-.5.01-.5.55l-.01 2.3c0 .68-.38 1.08-.99 1.07-.52 0-.9-.44-.9-1.07V1.88C.15.78.88.01 1.95 0h18.17c.92 0 1.58.48 1.81 1.31.05.18.07.37.07.56v14.1c0 1.11-.71 1.9-1.77 1.91zM1.27 11.77a5.12 5.12 0 0 1 4.65 5.06c0 .6-.4 1.01-.96 1.04-.5.02-.9-.4-.95-.96-.13-1.84-1.07-2.86-2.82-3.06-.46-.05-.82-.22-.98-.7-.14-.4-.05-.77.25-1.02.23-.18.54-.24.81-.36zm-.18 3.96c.64 0 1.1.51 1.1 1.19-.01.6-.5 1.1-1.1 1.08A1.12 1.12 0 0 1 0 16.84c0-.6.51-1.12 1.09-1.11zm3.36-4.98a6.03 6.03 0 0 0-2.84-.9c-.2-.02-.42-.03-.62-.06a.98.98 0 0 1-.84-1.07.95.95 0 0 1 .97-.9h.35c4 .12 7.58 3.4 8.18 7.53.06.45.11.9.13 1.36.03.7-.35 1.13-.96 1.16-.54.02-.92-.42-.95-1.1a7.07 7.07 0 0 0-3.42-6.02z"\n    />\n  </symbol>\n  <symbol id="icon-light-enlarge" viewBox="0 0 19 19">\n    <path fill="#E9E8E7"\n          d="M17 18h-5v-2h5v-5h2v7h-2zm0-16h-5V0h7v7h-2V2zM0 18v-7h2v5h5v2H0zM2 7H0V0h7v2H2v5z"\n    />\n  </symbol>\n  <symbol id="icon-light-enlarge-hover" viewBox="0 0 19 19">\n    <path fill="#fff"\n          d="M17 18h-5v-2h5v-5h2v7h-2zm0-16h-5V0h7v7h-2V2zM0 18v-7h2v5h5v2H0zM2 7H0V0h7v2H2v5z"\n    />\n  </symbol>\n  <symbol id="icon-light-minimize" viewBox="0 0 17 19">\n    <path fill="#E9E8E7"\n          d="M12 13v5h-2v-7h7v2h-5zm-2-6V0h2v5h5v2h-7zm-5 6H0v-2h7v7H5v-5zM0 7V5h5V0h2v7H0z"\n    />\n  </symbol>\n  <symbol id="icon-light-minimize-hover" viewBox="0 0 17 19">\n    <path fill="#fff"\n          d="M12 13v5h-2v-7h7v2h-5zm-2-6V0h2v5h5v2h-7zm-5 6H0v-2h7v7H5v-5zM0 7V5h5V0h2v7H0z"\n    />\n  </symbol>\n  <symbol id="icon-light-sound-muted" viewBox="0 0 23 16">\n    <path fill="#E9E8E7"\n          d="M9.36.16l-5.8 3.89H1a1 1 0 0 0-1 .84v6.22a1 1 0 0 0 1 .84h2.6l5.74 3.88c.42.34 1.64.17 1.64-.63V.83c.03-.82-1.16-1-1.62-.67zM2.88 10.3H2V5.68h.88l2.1-.45L9 2.42v11.15l-4-2.8-2.1-.46z"\n    />\n    <path fill="#FE8A92" d="M15.3 3.07l-1.31 1.3 7.7 7.72 1.31-1.3-7.7-7.72z"/>\n    <path fill="#FE8A92" d="M13.99 10.8l1.3 1.3L23 4.4l-1.3-1.3-7.7 7.7z"/>\n  </symbol>\n  <symbol id="icon-light-sound-muted-hover" viewBox="0 0 23 16">\n    <path fill="#fff"\n          d="M9.36.16l-5.8 3.89H1a1 1 0 0 0-1 .84v6.22a1 1 0 0 0 1 .84h2.6l5.74 3.88c.42.34 1.64.17 1.64-.63V.83c.03-.82-1.16-1-1.62-.67zM2.88 10.3H2V5.68h.88l2.1-.45L9 2.42v11.15l-4-2.8-2.1-.46z"\n    />\n    <path fill="#FE8A92" d="M15.3 3.07l-1.31 1.3 7.7 7.72 1.31-1.3-7.7-7.72z"/>\n    <path fill="#FE8A92" d="M13.99 10.8l1.3 1.3L23 4.4l-1.3-1.3-7.7 7.7z"/>\n  </symbol>\n\n  <symbol id="icon-light-sound-1" viewBox="0 0 23 16">\n    <path fill="#E9E8E7"\n          d="M9.36.16l-5.8 3.89H1a1 1 0 0 0-1 .84v6.22a1 1 0 0 0 1 .84h2.6l5.74 3.88c.42.34 1.64.17 1.64-.63V.83c.03-.82-1.16-1-1.62-.67zM2.88 10.3H2V5.68h.88l2.1-.45L9 2.42v11.15l-4-2.8-2.1-.46zM15.83 3.91a1.18 1.18 0 0 0-1.4-.19.72.72 0 0 0-.25 1.13 4.62 4.62 0 0 1 0 6.31.72.72 0 0 0 .06 1c.06.05.12.08.18.11.18.1.38.15.59.15a1.09 1.09 0 0 0 .82-.34 6 6 0 0 0 0-8.17z"\n    />\n  </symbol>\n  <symbol id="icon-light-sound-1-hover" viewBox="0 0 23 16">\n    <path fill="#fff"\n          d="M9.36.16l-5.8 3.89H1a1 1 0 0 0-1 .84v6.22a1 1 0 0 0 1 .84h2.6l5.74 3.88c.42.34 1.64.17 1.64-.63V.83c.03-.82-1.16-1-1.62-.67zM2.88 10.3H2V5.68h.88l2.1-.45L9 2.42v11.15l-4-2.8-2.1-.46zM15.83 3.91a1.18 1.18 0 0 0-1.4-.19.72.72 0 0 0-.25 1.13 4.62 4.62 0 0 1 0 6.31.72.72 0 0 0 .06 1c.06.05.12.08.18.11.18.1.38.15.59.15a1.09 1.09 0 0 0 .82-.34 6 6 0 0 0 0-8.17z"\n    />\n  </symbol>\n\n  <symbol id="icon-light-sound-2" viewBox="0 0 23 16">\n    <path fill="#E9E8E7"\n          d="M9.36.16l-5.8 3.89H1a1 1 0 0 0-1 .84v6.22a1 1 0 0 0 1 .84h2.6l5.74 3.88c.42.34 1.64.17 1.64-.63V.83c.03-.82-1.16-1-1.62-.67zM2.88 10.3H2V5.68h.88l2.1-.45L9 2.42v11.15l-4-2.8-2.1-.46zM15.83 3.91a1.18 1.18 0 0 0-1.4-.19.72.72 0 0 0-.25 1.13 4.62 4.62 0 0 1 0 6.31.72.72 0 0 0 .06 1c.06.05.12.08.18.11.18.1.38.15.59.15a1.09 1.09 0 0 0 .82-.34 6 6 0 0 0 0-8.17z"\n    />\n    <path fill="#E9E8E7"\n          d="M19.63 2.3a1.07 1.07 0 0 0-1.24-.17.6.6 0 0 0-.22.97 7 7 0 0 1 0 9.81.59.59 0 0 0 0 .84c.05.06.11.1.19.12a1.08 1.08 0 0 0 1.24-.16 8.32 8.32 0 0 0 .03-11.42z"\n    />\n  </symbol>\n\n  <symbol id="icon-light-sound-2-hover" viewBox="0 0 23 16">\n    <path fill="#fff"\n          d="M9.36.16l-5.8 3.89H1a1 1 0 0 0-1 .84v6.22a1 1 0 0 0 1 .84h2.6l5.74 3.88c.42.34 1.64.17 1.64-.63V.83c.03-.82-1.16-1-1.62-.67zM2.88 10.3H2V5.68h.88l2.1-.45L9 2.42v11.15l-4-2.8-2.1-.46zM15.83 3.91a1.18 1.18 0 0 0-1.4-.19.72.72 0 0 0-.25 1.13 4.62 4.62 0 0 1 0 6.31.72.72 0 0 0 .06 1c.06.05.12.08.18.11.18.1.38.15.59.15a1.09 1.09 0 0 0 .82-.34 6 6 0 0 0 0-8.17z"\n    />\n    <path fill="#fff"\n          d="M19.63 2.3a1.07 1.07 0 0 0-1.24-.17.6.6 0 0 0-.22.97 7 7 0 0 1 0 9.81.59.59 0 0 0 0 .84c.05.06.11.1.19.12a1.08 1.08 0 0 0 1.24-.16 8.32 8.32 0 0 0 .03-11.42z"\n    />\n  </symbol>\n\n</svg>\n'},function(e,t){e.exports='<svg>\n  <symbol id="icon-tv-stream-active" viewBox="0 0 19 16">\n    <path\n      d="M18 0H1C0.833008 0 0.67041 0.041748 0.525879 0.119385C0.440918 0.165039 0.362305 0.223389 0.292969 0.292969C0.105225 0.480469 0 0.734863 0 1V4H2V2H17V14H12V16H18C18.5522 16 19 15.5522 19 15V1C19 0.734863 18.8948 0.480469 18.707 0.292969C18.5195 0.105225 18.2651 0 18 0ZM2 14V16H0V14H2ZM0 6V8C0 8 8 7.86011 8 16H10C10 16 11.23 6 0 6ZM0 10V12C0 12 4 12.03 4 16H6C6 16 6.25 10 0 10ZM4 4H15V12H12C12 12 10.1899 5 4 5V4Z"/>\n  </symbol>\n  <symbol id="icon-tv-stream-active-hover" viewBox="0 0 19 16">\n    <path\n      d="M18 0H1C0.833008 0 0.67041 0.041748 0.525879 0.119385C0.440918 0.165039 0.362305 0.223389 0.292969 0.292969C0.105225 0.480469 0 0.734863 0 1V4H2V2H17V14H12V16H18C18.5522 16 19 15.5522 19 15V1C19 0.734863 18.8948 0.480469 18.707 0.292969C18.5195 0.105225 18.2651 0 18 0ZM2 14V16H0V14H2ZM0 6V8C0 8 8 7.86011 8 16H10C10 16 11.23 6 0 6ZM0 10V12C0 12 4 12.03 4 16H6C6 16 6.25 10 0 10ZM4 4H15V12H12C12 12 10.1899 5 4 5V4Z"/>\n  </symbol>\n  <symbol id="icon-tv-stream" viewBox="0 0 19 16">\n    <path\n      d="M18 0H1C0.833008 0 0.67041 0.041748 0.525879 0.119385C0.440918 0.165039 0.362305 0.223389 0.292969 0.292969C0.105225 0.480469 0 0.734863 0 1V4H2V2H17V14H12V16H18C18.5522 16 19 15.5522 19 15V1C19 0.734863 18.8948 0.480469 18.707 0.292969C18.5195 0.105225 18.2651 0 18 0ZM2 14V16H0V14H2ZM0 6V8C0 8 8 7.86011 8 16H10C10 16 11.23 6 0 6ZM0 10V12C0 12 4 12.03 4 16H6C6 16 6.25 10 0 10Z"/>\n  </symbol>\n  <symbol id="icon-tv-stream-hover" viewBox="0 0 19 16">\n    <path\n      d="M18 0H1C0.833008 0 0.67041 0.041748 0.525879 0.119385C0.440918 0.165039 0.362305 0.223389 0.292969 0.292969C0.105225 0.480469 0 0.734863 0 1V4H2V2H17V14H12V16H18C18.5522 16 19 15.5522 19 15V1C19 0.734863 18.8948 0.480469 18.707 0.292969C18.5195 0.105225 18.2651 0 18 0ZM2 14V16H0V14H2ZM0 6V8C0 8 8 7.86011 8 16H10C10 16 11.23 6 0 6ZM0 10V12C0 12 4 12.03 4 16H6C6 16 6.25 10 0 10Z"/>\n  </symbol>\n\n  <symbol id="icon-minimize" viewBox="0 0 17 14">\n    <path d="M5 14L5 11.1429L5 9L2.85714 9L0 9L2.62268e-07 11L3 11L3 14L5 14Z"/>\n    <path d="M0 5L2.85714 5L5 5L5 2.85714L5 0L3 1.74846e-07L3 3L-1.74846e-07 3L0 5Z"/>\n    <path d="M17 9H12V14H14V11H17V9Z"/>\n    <path d="M12 0L12 5L17 5L17 3L14 3L14 -8.74228e-08L12 0Z"/>\n  </symbol>\n  <symbol id="icon-minimize-hover" viewBox="0 0 17 14">\n    <path d="M5 14L5 11.1429L5 9L2.85714 9L0 9L2.62268e-07 11L3 11L3 14L5 14Z"/>\n    <path d="M0 5L2.85714 5L5 5L5 2.85714L5 0L3 1.74846e-07L3 3L-1.74846e-07 3L0 5Z"/>\n    <path d="M17 9H12V14H14V11H17V9Z"/>\n    <path d="M12 0L12 5L17 5L17 3L14 3L14 -8.74228e-08L12 0Z"/>\n  </symbol>\n  <symbol id="icon-enlarge" viewBox="0 0 17 14">\n    <path d="M5 0H0V5H2V2H5V0Z"/>\n    <path d="M17 5L17 2.14286L17 1.29573e-06L14.8571 1.57673e-06L12 6.55671e-07L12 2L15 2L15 5L17 5Z"/>\n    <path d="M-2.18557e-07 9L-9.36673e-08 11.8571L0 14L2.14286 14L5 14L5 12L2 12L2 9L-2.18557e-07 9Z"/>\n    <path d="M12 14L17 14L17 9L15 9L15 12L12 12L12 14Z"/>\n  </symbol>\n  <symbol id="icon-enlarge-hover" viewBox="0 0 17 14">\n    <path d="M5 0H0V5H2V2H5V0Z"/>\n    <path d="M17 5L17 2.14286L17 1.29573e-06L14.8571 1.57673e-06L12 6.55671e-07L12 2L15 2L15 5L17 5Z"/>\n    <path d="M-2.18557e-07 9L-9.36673e-08 11.8571L0 14L2.14286 14L5 14L5 12L2 12L2 9L-2.18557e-07 9Z"/>\n    <path d="M12 14L17 14L17 9L15 9L15 12L12 12L12 14Z"/>\n  </symbol>\n  <symbol id="icon-sound-muted" viewBox="0 0 21 18">\n    <path fill="#fff"\n          d="M10.0834 0C9.83524 0 9.62038 0.0939451 9.43888 0.281317L4.66937 5.21059H0.916838C0.668415 5.21059 0.453603 5.30454 0.272202 5.4918C0.0907507 5.67928 0 5.90144 0 6.15798V11.8419C0 12.0985 0.0907507 12.3206 0.272202 12.508C0.453754 12.6955 0.668616 12.7894 0.916838 12.7894H4.66917L9.43868 17.7188C9.62013 17.906 9.83499 18 10.0832 18C10.3316 18 10.5464 17.906 10.7278 17.7188C10.9092 17.5314 11 17.3092 11 17.0527V0.94754C11 0.691005 10.9092 0.468793 10.728 0.281317C10.5464 0.0939451 10.3318 0 10.0834 0Z"/>\n    <rect fill="#fff" x="20.071" y="10.6569" width="2" height="8" rx="1" transform="rotate(135 20.071 10.6569)"/>\n    <rect fill="#fff" x="18.6569" y="5" width="2" height="8" rx="1" transform="rotate(45 18.6569 5)"/>\n  </symbol>\n  <symbol id="icon-sound-muted-hover" viewBox="0 0 21 18">\n    <path fill="#D5D6D6"\n          d="M10.0834 0C9.83524 0 9.62038 0.0939451 9.43888 0.281317L4.66937 5.21059H0.916838C0.668415 5.21059 0.453603 5.30454 0.272202 5.4918C0.0907507 5.67928 0 5.90144 0 6.15798V11.8419C0 12.0985 0.0907507 12.3206 0.272202 12.508C0.453754 12.6955 0.668616 12.7894 0.916838 12.7894H4.66917L9.43868 17.7188C9.62013 17.906 9.83499 18 10.0832 18C10.3316 18 10.5464 17.906 10.7278 17.7188C10.9092 17.5314 11 17.3092 11 17.0527V0.94754C11 0.691005 10.9092 0.468793 10.728 0.281317C10.5464 0.0939451 10.3318 0 10.0834 0Z"/>\n    <rect fill="#D5D6D6" x="20.071" y="10.6569" width="2" height="8" rx="1" transform="rotate(135 20.071 10.6569)"/>\n    <rect fill="#D5D6D6" x="18.6569" y="5" width="2" height="8" rx="1" transform="rotate(45 18.6569 5)"/>\n  </symbol>\n  <symbol id="icon-sound-1" viewBox="0 0 21 18">\n    <path fill="#fff"\n          d="M10.0834 0C9.83524 0 9.62038 0.0939451 9.43888 0.281317L4.66937 5.21059H0.916838C0.668415 5.21059 0.453603 5.30454 0.272202 5.4918C0.0907507 5.67928 0 5.90144 0 6.15798V11.8419C0 12.0985 0.0907507 12.3206 0.272202 12.508C0.453754 12.6955 0.668616 12.7894 0.916838 12.7894H4.66917L9.43868 17.7188C9.62013 17.906 9.83499 18 10.0832 18C10.3316 18 10.5464 17.906 10.7278 17.7188C10.9092 17.5314 11 17.3092 11 17.0527V0.94754C11 0.691005 10.9092 0.468793 10.728 0.281317C10.5464 0.0939451 10.3318 0 10.0834 0Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M15.2496 9C15.2496 10.1336 14.7853 11.2037 13.9758 11.9358C13.7248 12.163 13.3503 12.128 13.1393 11.8574C13.0459 11.7377 13 11.5919 13 11.4466C13 11.2642 13.072 11.0831 13.2117 10.9569C13.7521 10.4681 14.0621 9.75473 14.0621 9C14.0621 8.24527 13.7521 7.53187 13.2117 7.04308C13.0716 6.9165 13 6.73539 13 6.55341C13 6.40808 13.0455 6.26233 13.1393 6.1426C13.3503 5.87198 13.7248 5.83704 13.9758 6.06418C14.7853 6.79633 15.2496 7.86644 15.2496 9Z"/>\n    <path fill="#fff" opacity="0.5"\n          d="M17.6248 9C17.6248 10.8883 16.8509 12.6714 15.5014 13.8927C15.2504 14.1199 14.876 14.0849 14.665 13.8143C14.5716 13.6946 14.5256 13.5488 14.5256 13.4035C14.5256 13.2211 14.5977 13.04 14.7374 12.9138C15.8177 11.9367 16.4372 10.5099 16.4372 8.99997C16.4372 7.49007 15.8177 6.06331 14.7374 5.08569C14.5973 4.95912 14.5256 4.77801 14.5256 4.59605C14.5256 4.45072 14.5711 4.30497 14.665 4.18522C14.876 3.91461 15.2508 3.87968 15.5014 4.1068C16.8509 5.32862 17.6248 7.11168 17.6248 9Z"/>\n    <path fill="#fff" opacity="0.5"\n          d="M17.0267 2.1499C18.9165 3.85965 20 6.35654 20 9C20 11.6435 18.9165 14.1399 17.0267 15.8501C16.7757 16.0773 16.4012 16.0423 16.1902 15.7717C16.0968 15.652 16.0509 15.5066 16.0509 15.3613C16.0509 15.1789 16.1229 14.9978 16.2627 14.8713C17.8829 13.4053 18.8124 11.2651 18.8124 9.00003C18.8124 6.73498 17.8829 4.5948 16.263 3.12882C16.1233 3.00225 16.0512 2.82114 16.0512 2.63872C16.0512 2.49339 16.0968 2.34765 16.1906 2.22791C16.4012 1.95772 16.7761 1.92274 17.0267 2.1499Z"/>\n  </symbol>\n  <symbol id="icon-sound-1-hover" viewBox="0 0 21 18">\n    <path fill="#fff"\n          d="M10.0834 0C9.83524 0 9.62038 0.0939451 9.43888 0.281317L4.66937 5.21059H0.916838C0.668415 5.21059 0.453603 5.30454 0.272202 5.4918C0.0907507 5.67928 0 5.90144 0 6.15798V11.8419C0 12.0985 0.0907507 12.3206 0.272202 12.508C0.453754 12.6955 0.668616 12.7894 0.916838 12.7894H4.66917L9.43868 17.7188C9.62013 17.906 9.83499 18 10.0832 18C10.3316 18 10.5464 17.906 10.7278 17.7188C10.9092 17.5314 11 17.3092 11 17.0527V0.94754C11 0.691005 10.9092 0.468793 10.728 0.281317C10.5464 0.0939451 10.3318 0 10.0834 0Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M15.2496 9C15.2496 10.1336 14.7853 11.2037 13.9758 11.9358C13.7248 12.163 13.3503 12.128 13.1393 11.8574C13.0459 11.7377 13 11.5919 13 11.4466C13 11.2642 13.072 11.0831 13.2117 10.9569C13.7521 10.4681 14.0621 9.75473 14.0621 9C14.0621 8.24527 13.7521 7.53187 13.2117 7.04308C13.0716 6.9165 13 6.73539 13 6.55341C13 6.40808 13.0455 6.26233 13.1393 6.1426C13.3503 5.87198 13.7248 5.83704 13.9758 6.06418C14.7853 6.79633 15.2496 7.86644 15.2496 9Z"/>\n    <path fill="#fff" opacity="0.5"\n          d="M17.6248 9C17.6248 10.8883 16.8509 12.6714 15.5014 13.8927C15.2504 14.1199 14.876 14.0849 14.665 13.8143C14.5716 13.6946 14.5256 13.5488 14.5256 13.4035C14.5256 13.2211 14.5977 13.04 14.7374 12.9138C15.8177 11.9367 16.4372 10.5099 16.4372 8.99997C16.4372 7.49007 15.8177 6.06331 14.7374 5.08569C14.5973 4.95912 14.5256 4.77801 14.5256 4.59605C14.5256 4.45072 14.5711 4.30497 14.665 4.18522C14.876 3.91461 15.2508 3.87968 15.5014 4.1068C16.8509 5.32862 17.6248 7.11168 17.6248 9Z"/>\n    <path fill="#fff" opacity="0.5"\n          d="M17.0267 2.1499C18.9165 3.85965 20 6.35654 20 9C20 11.6435 18.9165 14.1399 17.0267 15.8501C16.7757 16.0773 16.4012 16.0423 16.1902 15.7717C16.0968 15.652 16.0509 15.5066 16.0509 15.3613C16.0509 15.1789 16.1229 14.9978 16.2627 14.8713C17.8829 13.4053 18.8124 11.2651 18.8124 9.00003C18.8124 6.73498 17.8829 4.5948 16.263 3.12882C16.1233 3.00225 16.0512 2.82114 16.0512 2.63872C16.0512 2.49339 16.0968 2.34765 16.1906 2.22791C16.4012 1.95772 16.7761 1.92274 17.0267 2.1499Z"/>\n  </symbol>\n  <symbol id="icon-sound-2" viewBox="0 0 21 18">\n    <path fill="#fff"\n          d="M10.0834 0C9.83524 0 9.62038 0.0939451 9.43888 0.281317L4.66937 5.21059H0.916838C0.668415 5.21059 0.453603 5.30454 0.272202 5.4918C0.0907507 5.67928 0 5.90144 0 6.15798V11.8419C0 12.0985 0.0907507 12.3206 0.272202 12.508C0.453754 12.6955 0.668616 12.7894 0.916838 12.7894H4.66917L9.43868 17.7188C9.62013 17.906 9.83499 18 10.0832 18C10.3316 18 10.5464 17.906 10.7278 17.7188C10.9092 17.5314 11 17.3092 11 17.0527V0.94754C11 0.691005 10.9092 0.468793 10.728 0.281317C10.5464 0.0939451 10.3318 0 10.0834 0Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M15.2496 9C15.2496 10.1336 14.7853 11.2037 13.9758 11.9358C13.7248 12.163 13.3503 12.128 13.1393 11.8574C13.0459 11.7377 13 11.5919 13 11.4466C13 11.2642 13.072 11.0831 13.2117 10.9569C13.7521 10.4681 14.0621 9.75473 14.0621 9C14.0621 8.24527 13.7521 7.53187 13.2117 7.04308C13.0716 6.9165 13 6.73539 13 6.55341C13 6.40808 13.0455 6.26233 13.1393 6.1426C13.3503 5.87198 13.7248 5.83704 13.9758 6.06418C14.7853 6.79633 15.2496 7.86644 15.2496 9Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M17.6248 9C17.6248 10.8883 16.8509 12.6714 15.5014 13.8927C15.2504 14.1199 14.876 14.0849 14.665 13.8143C14.5716 13.6946 14.5256 13.5488 14.5256 13.4035C14.5256 13.2211 14.5977 13.04 14.7374 12.9138C15.8177 11.9367 16.4372 10.5099 16.4372 8.99997C16.4372 7.49007 15.8177 6.06331 14.7374 5.08569C14.5973 4.95912 14.5256 4.77801 14.5256 4.59605C14.5256 4.45072 14.5711 4.30497 14.665 4.18522C14.876 3.91461 15.2508 3.87968 15.5014 4.1068C16.8509 5.32862 17.6248 7.11168 17.6248 9Z"/>\n    <path fill="#fff" opacity="0.5"\n          d="M17.0267 2.1499C18.9165 3.85965 20 6.35654 20 9C20 11.6435 18.9165 14.1399 17.0267 15.8501C16.7757 16.0773 16.4012 16.0423 16.1902 15.7717C16.0968 15.652 16.0509 15.5066 16.0509 15.3613C16.0509 15.1789 16.1229 14.9978 16.2627 14.8713C17.8829 13.4053 18.8124 11.2651 18.8124 9.00003C18.8124 6.73498 17.8829 4.5948 16.263 3.12882C16.1233 3.00225 16.0512 2.82114 16.0512 2.63872C16.0512 2.49339 16.0968 2.34765 16.1906 2.22791C16.4012 1.95772 16.7761 1.92274 17.0267 2.1499Z"/>\n  </symbol>\n  <symbol id="icon-sound-2-hover" viewBox="0 0 21 18">\n    <path fill="#fff"\n          d="M10.0834 0C9.83524 0 9.62038 0.0939451 9.43888 0.281317L4.66937 5.21059H0.916838C0.668415 5.21059 0.453603 5.30454 0.272202 5.4918C0.0907507 5.67928 0 5.90144 0 6.15798V11.8419C0 12.0985 0.0907507 12.3206 0.272202 12.508C0.453754 12.6955 0.668616 12.7894 0.916838 12.7894H4.66917L9.43868 17.7188C9.62013 17.906 9.83499 18 10.0832 18C10.3316 18 10.5464 17.906 10.7278 17.7188C10.9092 17.5314 11 17.3092 11 17.0527V0.94754C11 0.691005 10.9092 0.468793 10.728 0.281317C10.5464 0.0939451 10.3318 0 10.0834 0Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M15.2496 9C15.2496 10.1336 14.7853 11.2037 13.9758 11.9358C13.7248 12.163 13.3503 12.128 13.1393 11.8574C13.0459 11.7377 13 11.5919 13 11.4466C13 11.2642 13.072 11.0831 13.2117 10.9569C13.7521 10.4681 14.0621 9.75473 14.0621 9C14.0621 8.24527 13.7521 7.53187 13.2117 7.04308C13.0716 6.9165 13 6.73539 13 6.55341C13 6.40808 13.0455 6.26233 13.1393 6.1426C13.3503 5.87198 13.7248 5.83704 13.9758 6.06418C14.7853 6.79633 15.2496 7.86644 15.2496 9Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M17.6248 9C17.6248 10.8883 16.8509 12.6714 15.5014 13.8927C15.2504 14.1199 14.876 14.0849 14.665 13.8143C14.5716 13.6946 14.5256 13.5488 14.5256 13.4035C14.5256 13.2211 14.5977 13.04 14.7374 12.9138C15.8177 11.9367 16.4372 10.5099 16.4372 8.99997C16.4372 7.49007 15.8177 6.06331 14.7374 5.08569C14.5973 4.95912 14.5256 4.77801 14.5256 4.59605C14.5256 4.45072 14.5711 4.30497 14.665 4.18522C14.876 3.91461 15.2508 3.87968 15.5014 4.1068C16.8509 5.32862 17.6248 7.11168 17.6248 9Z"/>\n    <path fill="#fff" opacity="0.5"\n          d="M17.0267 2.1499C18.9165 3.85965 20 6.35654 20 9C20 11.6435 18.9165 14.1399 17.0267 15.8501C16.7757 16.0773 16.4012 16.0423 16.1902 15.7717C16.0968 15.652 16.0509 15.5066 16.0509 15.3613C16.0509 15.1789 16.1229 14.9978 16.2627 14.8713C17.8829 13.4053 18.8124 11.2651 18.8124 9.00003C18.8124 6.73498 17.8829 4.5948 16.263 3.12882C16.1233 3.00225 16.0512 2.82114 16.0512 2.63872C16.0512 2.49339 16.0968 2.34765 16.1906 2.22791C16.4012 1.95772 16.7761 1.92274 17.0267 2.1499Z"/>\n  </symbol>\n  <symbol id="icon-sound-3" viewBox="0 0 21 18">\n    <path fill="#fff"\n          d="M10.0834 0C9.83524 0 9.62038 0.0939451 9.43888 0.281317L4.66937 5.21059H0.916838C0.668415 5.21059 0.453603 5.30454 0.272202 5.4918C0.0907507 5.67928 0 5.90144 0 6.15798V11.8419C0 12.0985 0.0907507 12.3206 0.272202 12.508C0.453754 12.6955 0.668616 12.7894 0.916838 12.7894H4.66917L9.43868 17.7188C9.62013 17.906 9.83499 18 10.0832 18C10.3316 18 10.5464 17.906 10.7278 17.7188C10.9092 17.5314 11 17.3092 11 17.0527V0.94754C11 0.691005 10.9092 0.468793 10.728 0.281317C10.5464 0.0939451 10.3318 0 10.0834 0Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M15.2496 9C15.2496 10.1336 14.7853 11.2037 13.9758 11.9358C13.7248 12.163 13.3503 12.128 13.1393 11.8574C13.0459 11.7377 13 11.5919 13 11.4466C13 11.2642 13.072 11.0831 13.2117 10.9569C13.7521 10.4681 14.0621 9.75473 14.0621 9C14.0621 8.24527 13.7521 7.53187 13.2117 7.04308C13.0716 6.9165 13 6.73539 13 6.55341C13 6.40808 13.0455 6.26233 13.1393 6.1426C13.3503 5.87198 13.7248 5.83704 13.9758 6.06418C14.7853 6.79633 15.2496 7.86644 15.2496 9Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M17.6248 9C17.6248 10.8883 16.8509 12.6714 15.5014 13.8927C15.2504 14.1199 14.876 14.0849 14.665 13.8143C14.5716 13.6946 14.5256 13.5488 14.5256 13.4035C14.5256 13.2211 14.5977 13.04 14.7374 12.9138C15.8177 11.9367 16.4372 10.5099 16.4372 8.99997C16.4372 7.49007 15.8177 6.06331 14.7374 5.08569C14.5973 4.95912 14.5256 4.77801 14.5256 4.59605C14.5256 4.45072 14.5711 4.30497 14.665 4.18522C14.876 3.91461 15.2508 3.87968 15.5014 4.1068C16.8509 5.32862 17.6248 7.11168 17.6248 9Z"/>\n    <path fill="#fff" opacity="0.75"\n          d="M17.0267 2.1499C18.9165 3.85965 20 6.35654 20 9C20 11.6435 18.9165 14.1399 17.0267 15.8501C16.7757 16.0773 16.4012 16.0423 16.1902 15.7717C16.0968 15.652 16.0509 15.5066 16.0509 15.3613C16.0509 15.1789 16.1229 14.9978 16.2627 14.8713C17.8829 13.4053 18.8124 11.2651 18.8124 9.00003C18.8124 6.73498 17.8829 4.5948 16.263 3.12882C16.1233 3.00225 16.0512 2.82114 16.0512 2.63872C16.0512 2.49339 16.0968 2.34765 16.1906 2.22791C16.4012 1.95772 16.7761 1.92274 17.0267 2.1499Z"/>\n  </symbol>\n  <symbol id="icon-sound-3-hover" viewBox="0 0 21 18">\n    <path fill="#fff"\n          d="M10.0834 0C9.83524 0 9.62038 0.0939451 9.43888 0.281317L4.66937 5.21059H0.916838C0.668415 5.21059 0.453603 5.30454 0.272202 5.4918C0.0907507 5.67928 0 5.90144 0 6.15798V11.8419C0 12.0985 0.0907507 12.3206 0.272202 12.508C0.453754 12.6955 0.668616 12.7894 0.916838 12.7894H4.66917L9.43868 17.7188C9.62013 17.906 9.83499 18 10.0832 18C10.3316 18 10.5464 17.906 10.7278 17.7188C10.9092 17.5314 11 17.3092 11 17.0527V0.94754C11 0.691005 10.9092 0.468793 10.728 0.281317C10.5464 0.0939451 10.3318 0 10.0834 0Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M15.2496 9C15.2496 10.1336 14.7853 11.2037 13.9758 11.9358C13.7248 12.163 13.3503 12.128 13.1393 11.8574C13.0459 11.7377 13 11.5919 13 11.4466C13 11.2642 13.072 11.0831 13.2117 10.9569C13.7521 10.4681 14.0621 9.75473 14.0621 9C14.0621 8.24527 13.7521 7.53187 13.2117 7.04308C13.0716 6.9165 13 6.73539 13 6.55341C13 6.40808 13.0455 6.26233 13.1393 6.1426C13.3503 5.87198 13.7248 5.83704 13.9758 6.06418C14.7853 6.79633 15.2496 7.86644 15.2496 9Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M17.6248 9C17.6248 10.8883 16.8509 12.6714 15.5014 13.8927C15.2504 14.1199 14.876 14.0849 14.665 13.8143C14.5716 13.6946 14.5256 13.5488 14.5256 13.4035C14.5256 13.2211 14.5977 13.04 14.7374 12.9138C15.8177 11.9367 16.4372 10.5099 16.4372 8.99997C16.4372 7.49007 15.8177 6.06331 14.7374 5.08569C14.5973 4.95912 14.5256 4.77801 14.5256 4.59605C14.5256 4.45072 14.5711 4.30497 14.665 4.18522C14.876 3.91461 15.2508 3.87968 15.5014 4.1068C16.8509 5.32862 17.6248 7.11168 17.6248 9Z"/>\n    <path fill="#fff" opacity="0.75"\n          d="M17.0267 2.1499C18.9165 3.85965 20 6.35654 20 9C20 11.6435 18.9165 14.1399 17.0267 15.8501C16.7757 16.0773 16.4012 16.0423 16.1902 15.7717C16.0968 15.652 16.0509 15.5066 16.0509 15.3613C16.0509 15.1789 16.1229 14.9978 16.2627 14.8713C17.8829 13.4053 18.8124 11.2651 18.8124 9.00003C18.8124 6.73498 17.8829 4.5948 16.263 3.12882C16.1233 3.00225 16.0512 2.82114 16.0512 2.63872C16.0512 2.49339 16.0968 2.34765 16.1906 2.22791C16.4012 1.95772 16.7761 1.92274 17.0267 2.1499Z"/>\n  </symbol>\n  <symbol id="icon-sound-4" viewBox="0 0 21 18">\n    <path fill="#fff"\n          d="M10.0834 0C9.83524 0 9.62038 0.0939451 9.43888 0.281317L4.66937 5.21059H0.916838C0.668415 5.21059 0.453603 5.30454 0.272202 5.4918C0.0907507 5.67928 0 5.90144 0 6.15798V11.8419C0 12.0985 0.0907507 12.3206 0.272202 12.508C0.453754 12.6955 0.668616 12.7894 0.916838 12.7894H4.66917L9.43868 17.7188C9.62013 17.906 9.83499 18 10.0832 18C10.3316 18 10.5464 17.906 10.7278 17.7188C10.9092 17.5314 11 17.3092 11 17.0527V0.94754C11 0.691005 10.9092 0.468793 10.728 0.281317C10.5464 0.0939451 10.3318 0 10.0834 0Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M15.2496 9C15.2496 10.1336 14.7853 11.2037 13.9758 11.9358C13.7248 12.163 13.3503 12.128 13.1393 11.8574C13.0459 11.7377 13 11.5919 13 11.4466C13 11.2642 13.072 11.0831 13.2117 10.9569C13.7521 10.4681 14.0621 9.75473 14.0621 9C14.0621 8.24527 13.7521 7.53187 13.2117 7.04308C13.0716 6.9165 13 6.73539 13 6.55341C13 6.40808 13.0455 6.26233 13.1393 6.1426C13.3503 5.87198 13.7248 5.83704 13.9758 6.06418C14.7853 6.79633 15.2496 7.86644 15.2496 9Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M17.6248 9C17.6248 10.8883 16.8509 12.6714 15.5014 13.8927C15.2504 14.1199 14.876 14.0849 14.665 13.8143C14.5716 13.6946 14.5256 13.5488 14.5256 13.4035C14.5256 13.2211 14.5977 13.04 14.7374 12.9138C15.8177 11.9367 16.4372 10.5099 16.4372 8.99997C16.4372 7.49007 15.8177 6.06331 14.7374 5.08569C14.5973 4.95912 14.5256 4.77801 14.5256 4.59605C14.5256 4.45072 14.5711 4.30497 14.665 4.18522C14.876 3.91461 15.2508 3.87968 15.5014 4.1068C16.8509 5.32862 17.6248 7.11168 17.6248 9Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M17.0267 2.1499C18.9165 3.85965 20 6.35654 20 9C20 11.6435 18.9165 14.1399 17.0267 15.8501C16.7757 16.0773 16.4012 16.0423 16.1902 15.7717C16.0968 15.652 16.0509 15.5066 16.0509 15.3613C16.0509 15.1789 16.1229 14.9978 16.2627 14.8713C17.8829 13.4053 18.8124 11.2651 18.8124 9.00003C18.8124 6.73498 17.8829 4.5948 16.263 3.12882C16.1233 3.00225 16.0512 2.82114 16.0512 2.63872C16.0512 2.49339 16.0968 2.34765 16.1906 2.22791C16.4012 1.95772 16.7761 1.92274 17.0267 2.1499Z"/>\n  </symbol>\n  <symbol id="icon-sound-4-hover" viewBox="0 0 21 18">\n    <path fill="#fff"\n          d="M10.0834 0C9.83524 0 9.62038 0.0939451 9.43888 0.281317L4.66937 5.21059H0.916838C0.668415 5.21059 0.453603 5.30454 0.272202 5.4918C0.0907507 5.67928 0 5.90144 0 6.15798V11.8419C0 12.0985 0.0907507 12.3206 0.272202 12.508C0.453754 12.6955 0.668616 12.7894 0.916838 12.7894H4.66917L9.43868 17.7188C9.62013 17.906 9.83499 18 10.0832 18C10.3316 18 10.5464 17.906 10.7278 17.7188C10.9092 17.5314 11 17.3092 11 17.0527V0.94754C11 0.691005 10.9092 0.468793 10.728 0.281317C10.5464 0.0939451 10.3318 0 10.0834 0Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M15.2496 9C15.2496 10.1336 14.7853 11.2037 13.9758 11.9358C13.7248 12.163 13.3503 12.128 13.1393 11.8574C13.0459 11.7377 13 11.5919 13 11.4466C13 11.2642 13.072 11.0831 13.2117 10.9569C13.7521 10.4681 14.0621 9.75473 14.0621 9C14.0621 8.24527 13.7521 7.53187 13.2117 7.04308C13.0716 6.9165 13 6.73539 13 6.55341C13 6.40808 13.0455 6.26233 13.1393 6.1426C13.3503 5.87198 13.7248 5.83704 13.9758 6.06418C14.7853 6.79633 15.2496 7.86644 15.2496 9Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M17.6248 9C17.6248 10.8883 16.8509 12.6714 15.5014 13.8927C15.2504 14.1199 14.876 14.0849 14.665 13.8143C14.5716 13.6946 14.5256 13.5488 14.5256 13.4035C14.5256 13.2211 14.5977 13.04 14.7374 12.9138C15.8177 11.9367 16.4372 10.5099 16.4372 8.99997C16.4372 7.49007 15.8177 6.06331 14.7374 5.08569C14.5973 4.95912 14.5256 4.77801 14.5256 4.59605C14.5256 4.45072 14.5711 4.30497 14.665 4.18522C14.876 3.91461 15.2508 3.87968 15.5014 4.1068C16.8509 5.32862 17.6248 7.11168 17.6248 9Z"/>\n    <path fill="#fff" opacity="1.0"\n          d="M17.0267 2.1499C18.9165 3.85965 20 6.35654 20 9C20 11.6435 18.9165 14.1399 17.0267 15.8501C16.7757 16.0773 16.4012 16.0423 16.1902 15.7717C16.0968 15.652 16.0509 15.5066 16.0509 15.3613C16.0509 15.1789 16.1229 14.9978 16.2627 14.8713C17.8829 13.4053 18.8124 11.2651 18.8124 9.00003C18.8124 6.73498 17.8829 4.5948 16.263 3.12882C16.1233 3.00225 16.0512 2.82114 16.0512 2.63872C16.0512 2.49339 16.0968 2.34765 16.1906 2.22791C16.4012 1.95772 16.7761 1.92274 17.0267 2.1499Z"/>\n  </symbol>\n</svg>\n'},function(e,t){e.exports='<svg>\n  <symbol id="icon-coin-stack" viewBox="0 0 16 22">\n    <path fill="#fff"\n          d="M0.1,12.3c0.7,4.4,4.9,7.3,9.2,6.5c3.3-0.6,6-3.2,6.5-6.5c-2.4,4.4-7.9,5.9-12.2,3.5C2.2,15,0.9,13.8,0.1,12.3z M0.1,15.3c0.7,4.4,4.9,7.3,9.2,6.5c3.3-0.6,6-3.2,6.5-6.5c-2.4,4.4-7.9,5.9-12.2,3.5C2.2,18.2,0.9,17,0.1,15.3z M16,8c0-4.4-3.6-8-8-8S0,3.6,0,8s3.6,8,8,8S16,12.4,16,8z"/>\n  </symbol>\n  <symbol id="icon-lock" viewBox="0 0 28 25">\n    <path fill="#fff"\n          d="M14,13.3L14,13.3c-0.5,0.1-0.8,0.4-0.9,0.8c-0.1,0.3,0.1,0.7,0.3,0.9l-0.3,1.1c0,0.1,0,0.2,0.2,0.3c0,0,0,0,0.1,0h1.3c0.1,0,0.2-0.1,0.2-0.2l0,0L14.6,15c0.2-0.2,0.3-0.4,0.3-0.7C14.8,13.7,14.4,13.3,14,13.3z"/>\n    <path fill="#fff" d="M14,7.2h-0.2c-1.2,0.1-2.2,1.2-2.2,2.5v1.4h4.8V9.7C16.3,8.3,15.3,7.2,14,7.2L14,7.2z"/>\n    <path fill="#fff"\n          d="M14,0C6.3,0,0,5.6,0,12.5c0,2.9,1.1,5.7,3.1,7.8c-0.4,1.2-1.2,2.2-2.2,2.9c-0.2,0.1-0.2,0.3-0.1,0.5C0.9,23.9,1,24,1.1,24c1.8,0.3,3.7-0.1,5.4-1c2.3,1.3,4.9,2,7.6,2c7.7,0,14-5.6,14-12.5S21.5,0,14,0z M19.3,17.6c0,0.6-0.5,1.1-1.1,1.1H9.7c-0.6,0-1.1-0.5-1.1-1.1v-5.3c0-0.6,0.5-1.1,1.1-1.1l0,0h0.1V9.8c0-2.3,1.8-4.4,4.1-4.5H14c2.4,0,4.3,1.9,4.3,4.4v1.5l0,0c0.6,0,1.1,0.5,1.1,1.1l0,0V17.6L19.3,17.6z"/>\n  </symbol>\n  <symbol id="icon-group" viewBox="0 0 22 24">\n    <path fill="#fff"\n          d="M9.7,17.2v-1.7c0,0,1.6-1.5,1.7-2.5c0.5-0.4,0.8-1,0.8-1.6c0-0.7-0.3-0.8-0.3-0.8c0.3-0.7,0.5-1.4,0.6-2.1c0-2-1-3.6-2.8-3.6c-0.5-0.6-1.2-1-2-1C5,4,2.8,5.6,2.8,8.5c0,0.8,0.3,1.5,0.7,2.2c0,0-0.3,0.2-0.3,0.8c-0.1,0.6,0.2,1.3,0.8,1.6c0.1,1,1.7,2.5,1.7,2.5v1.7c-0.7,2.1-4.4,1.3-5.6,4.4c-0.4,0.9,0.1,1.9,1,2.3c0.2,0,0.4,0,0.6,0h12.2c0.9,0,1.6-0.7,1.6-1.7c0-0.2,0-0.5-0.1-0.7C14.1,18.5,10.4,19.3,9.7,17.2z"/>\n    <path fill="#fff"\n          d="M14.1,8.6c0,0.7-0.1,1.4-0.4,2c0.1,0.3,0.1,0.6,0.1,0.9c0,2.5-2.5,5-2.5,5c0.5,0.2,2.3,1.1,3,1.5h5.9c1,0,1.8-0.7,1.8-1.7c0-0.3-0.1-0.6-0.2-0.8c-1.1-2.3-3.9-1.7-4.5-3.5v-1.5c0.6-0.6,1.1-1.4,1.2-2.2c0.5-0.2,0.8-0.7,0.8-1.2c0-0.6-0.2-0.8-0.3-0.9c0.2-0.5,0.3-1.1,0.3-1.7c0-1.8-0.5-3.5-2-3.5c-0.4-0.7-1.2-1.1-2-1c-2,0-3.7,1.5-3.9,3.5C13.2,4.6,14.2,6.5,14.1,8.6z"/>\n  </symbol>\n  <symbol id="icon-arrow-next" viewBox="0 0 12 19">\n    <path fill="#6dec2b"\n          d="M11.4,11.3l-7.5,7.1c-0.9,0.8-2.3,0.8-3.2,0c-0.8-0.8-0.9-2.1-0.1-3c0,0,0,0,0.1-0.1l7.5-7.1c0.9-0.8,2.3-0.8,3.2,0C12.2,9.1,12.2,10.4,11.4,11.3C11.4,11.2,11.4,11.3,11.4,11.3z M11.4,10.8c-0.9,0.8-2.3,0.8-3.2,0L0.6,3.7c-0.8-0.8-0.9-2.1-0.1-3c0,0,0,0,0.1-0.1c0.9-0.8,2.3-0.8,3.2,0l7.5,7.1C12.2,8.6,12.2,9.9,11.4,10.8C11.4,10.7,11.4,10.8,11.4,10.8z"/>\n  </symbol>\n  <symbol id="icon-arrow-prev" viewBox="0 0 12 19">\n    <path fill="#6dec2b"\n          d="M0.6,11.2c-0.8-0.8-0.8-2.2,0.1-3c0.9-0.8,2.3-0.8,3.2,0l7.5,7.1c0,0,0,0,0.1,0.1c0.8,0.8,0.8,2.2-0.1,3c-0.9,0.8-2.3,0.8-3.2,0L0.6,11.2C0.6,11.3,0.6,11.2,0.6,11.2z M0.6,10.7c-0.8-0.8-0.8-2.1,0.1-2.9l7.5-7.1c0.9-0.8,2.3-0.8,3.2,0c0,0,0,0,0.1,0.1c0.8,0.8,0.8,2.2-0.1,3l-7.5,7.1C3,11.6,1.5,11.6,0.6,10.7C0.6,10.8,0.6,10.7,0.6,10.7z"/>\n  </symbol>\n  <symbol id="icon-sound-ads-muted" viewBox="0 0 16 12">\n    <polygon style="fill:#9dfd1d;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n    <polygon style="fill:#9dfd1d;" points="16,4 14.8,2.8 13,4.6 11.2,2.8 10,4 11.8,5.8 10,7.6 11.2,8.8 13,7 14.8,8.8 16,7.6 14.2,5.8 "/>\n  </symbol>\n  <symbol id="icon-sound-ads-1" viewBox="0 0 16 12">\n    <polygon style="fill:#9dfd1d;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n  </symbol>\n  <symbol id="icon-sound-ads-2" viewBox="0 0 16 12">\n    <polygon style="fill:#9dfd1d;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n  </symbol>\n  <symbol id="icon-sound-ads-3" viewBox="0 0 16 12">\n    <polygon style="fill:#9dfd1d;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n  </symbol>\n  <symbol id="icon-sound-ads-4" viewBox="0 0 16 12">\n    <polygon style="fill:#9dfd1d;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n  </symbol>\n  <symbol id="icon-sound-ads-muted-hover" viewBox="0 0 16 12">\n    <polygon style="fill:#9dfd1d;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n    <polygon style="fill:#9dfd1d;" points="16,4 14.8,2.8 13,4.6 11.2,2.8 10,4 11.8,5.8 10,7.6 11.2,8.8 13,7 14.8,8.8 16,7.6 14.2,5.8 "/>\n  </symbol>\n  <symbol id="icon-sound-ads-1-hover" viewBox="0 0 16 12">\n    <polygon style="fill:#9dfd1d;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n  </symbol>\n  <symbol id="icon-sound-ads-2-hover" viewBox="0 0 16 12">\n    <polygon style="fill:#9dfd1d;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n  </symbol>\n  <symbol id="icon-sound-ads-3-hover" viewBox="0 0 16 12">\n    <polygon style="fill:#9dfd1d;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n  </symbol>\n  <symbol id="icon-sound-ads-4-hover" viewBox="0 0 16 12">\n    <polygon style="fill:#9dfd1d;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n    <path style="fill:none;stroke:#9dfd1d;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n  </symbol>\n  <symbol id="icon-profile" viewBox="0 0 14 17">\n    <path fill="#9dfd1d"\n          d="M6.9,8.7c-2.4,0-4.4-1.9-4.4-4.3C2.5,2,4.4,0,6.8,0c2.4,0,4.4,1.9,4.4,4.3c0,0,0,0,0,0C11.3,6.8,9.3,8.7,6.9,8.7C6.9,8.7,6.9,8.7,6.9,8.7z M13.9,15.5C13.5,16.7,12.3,17,11,17h-8c-1.1,0.1-2.2-0.3-2.9-1.2c-0.6-1,0.3-2.6,1.2-3.4c1.4-1.4,3.3-2.2,5.3-2.2c1.9-0.1,3.8,0.5,5.3,1.7C13.2,12.8,14.4,14.3,13.9,15.5L13.9,15.5z"/>\n  </symbol>\n  <symbol id="icon-profile-hover" viewBox="0 0 14 17">\n    <path fill="#fff"\n          d="M6.9,8.7c-2.4,0-4.4-1.9-4.4-4.3C2.5,2,4.4,0,6.8,0c2.4,0,4.4,1.9,4.4,4.3c0,0,0,0,0,0C11.3,6.8,9.3,8.7,6.9,8.7C6.9,8.7,6.9,8.7,6.9,8.7z M13.9,15.5C13.5,16.7,12.3,17,11,17h-8c-1.1,0.1-2.2-0.3-2.9-1.2c-0.6-1,0.3-2.6,1.2-3.4c1.4-1.4,3.3-2.2,5.3-2.2c1.9-0.1,3.8,0.5,5.3,1.7C13.2,12.8,14.4,14.3,13.9,15.5L13.9,15.5z"/>\n  </symbol>\n  <symbol id="icon-talk" viewBox="0 0 16 14">\n    <path fill="#9dfd1d" d="M16,6c0-3.3-3.6-6-8-6S0,2.7,0,6s3.6,6,8,6h1c1.4,1.3,3.1,2,5,2c-0.7-1-1-2.1-1-3.3l0,0C14.8,9.8,15.9,8,16,6"/>\n  </symbol>\n</svg>\n'},function(e,t){e.exports='<svg>\n    <symbol id="icon-sound-ads-chathead-muted" viewBox="0 0 16 12">\n        <polygon style="fill:#ffffff;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n        <polygon style="fill:#ffffff;" points="16,4 14.8,2.8 13,4.6 11.2,2.8 10,4 11.8,5.8 10,7.6 11.2,8.8 13,7 14.8,8.8 16,7.6 14.2,5.8 "/>\n    </symbol>\n    <symbol id="icon-sound-ads-chathead-1" viewBox="0 0 16 12">\n        <polygon style="fill:#ffffff;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n    </symbol>\n    <symbol id="icon-sound-ads-chathead-2" viewBox="0 0 16 12">\n        <polygon style="fill:#ffffff;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n    </symbol>\n    <symbol id="icon-sound-ads-chathead-3" viewBox="0 0 16 12">\n        <polygon style="fill:#ffffff;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n    </symbol>\n    <symbol id="icon-sound-ads-chathead-4" viewBox="0 0 16 12">\n        <polygon style="fill:#ffffff;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n    </symbol>\n    <symbol id="icon-sound-ads-chathead-muted-hover" viewBox="0 0 16 12">\n        <polygon style="fill:#ffffff;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n        <polygon style="fill:#ffffff;" points="16,4 14.8,2.8 13,4.6 11.2,2.8 10,4 11.8,5.8 10,7.6 11.2,8.8 13,7 14.8,8.8 16,7.6 14.2,5.8 "/>\n    </symbol>\n    <symbol id="icon-sound-ads-chathead-1-hover" viewBox="0 0 16 12">\n        <polygon style="fill:#ffffff;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n    </symbol>\n    <symbol id="icon-sound-ads-chathead-2-hover" viewBox="0 0 16 12">\n        <polygon style="fill:#ffffff;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n    </symbol>\n    <symbol id="icon-sound-ads-chathead-3-hover" viewBox="0 0 16 12">\n        <polygon style="fill:#ffffff;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n    </symbol>\n    <symbol id="icon-sound-ads-chathead-4-hover" viewBox="0 0 16 12">\n        <polygon style="fill:#ffffff;" points="2.5,4 0,4 0,8 2.5,8 7,12 8,12 8,0 7,0 "/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M11,7.6c0.4-0.6,0.6-1.3,0.6-2s-0.2-1.5-0.5-2.1"/>\n        <path style="fill:none;stroke:#ffffff;stroke-width:2;stroke-miterlimit:10;" d="M13.6,9.8c1.7-2.4,1.9-5.6,0.2-8"/>\n    </symbol>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(643);t.PlayerProgressBar=i.PlayerProgressBar;var a=n(644);t.PlayerLiveStatus=a.PlayerLiveStatus;var r=n(645);t.PlayerSettings=r.PlayerSettings;var o=n(646);t.PlayerVolumeBar=o.PlayerVolumeBar;var s=n(647);t.PlayerVolumeButton=s.PlayerVolumeButton;var l=n(648);t.PlayerFullScreenButton=l.PlayerFullScreenButton},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(19),o=n(2),s=n(404),l=function(e){function t(t){var n=e.call(this,t)||this;return n.isDrag=!1,n.handleHover=o.throttle(function(e){},400),n.streamSeek=o.throttle(function(e){n.context.player.onSeek(e)},300),n.update=function(e,t){var i=e.pageX-n.controlBounds.left,a=r.clamp(i/n.base.clientWidth,0,1);n.setState({position:a}),t?n.context.player.onSeek(a):n.streamSeek(a)},n.handleMouseMove=function(e){n.update(e)},n.handleMouseUp=function(e){n.detachHandlers(),n.isDrag=!1,n.update(e,!0)},n.detachHandlers=function(){document.removeEventListener("mousemove",n.handleMouseMove,!1),document.removeEventListener("mouseup",n.handleMouseUp,!1)},n.handleMouseDown=function(e){if(e.stopPropagation(),e.preventDefault(),!n.isDrag){n.context.player;chat.localData.tsvUrl&&(n.controlBounds=n.base.getBoundingClientRect(),n.detachHandlers(),document.addEventListener("mousemove",n.handleMouseMove,!1),document.addEventListener("mouseup",n.handleMouseUp,!1),n.update(e))}},n.handleOnMouseUp=function(){event.stopPropagation(),event.preventDefault();var e=n.context.player;setTimeout(function(){chat.localData.tsvUrl||e.setState({dialog:s.VIDEO_PLAYER_DIALOG_PREMIUM_ONLY})},10)},n.state={position:t.position},n}return i(t,e),t.prototype.componentWillReceiveProps=function(e,t){var n=e.position;this.setState({position:n})},t.prototype.componentWillUnmount=function(){this.detachHandlers()},t.prototype.render=function(e,t){var n=e.children,i=t.position;return a.h("div",{class:"progressholder",onMouseDown:this.handleMouseDown,onMouseUp:this.handleOnMouseUp,onMouseMove:this.handleHover},a.h("div",{class:"progress_bar_padding"}),a.h("div",{class:"progress_list"},a.h("div",{class:"buffered"}),a.h("div",{class:"progress",style:{width:100*i+"%"}})),a.h("div",{className:"progress_caption"},n))},t.defaultProps={position:1},t}(a.Component);t.PlayerProgressBar=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a.apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&(n[i[a]]=e[i[a]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(14),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i(t,e),t.prototype.render=function(e,t){var n=(e.children,r(e,["children"]));return o.h("div",a({},n,{id:"player-livestatus",class:{player_livestatus:!0,__no_active:!1}}),__("Live"))},t.defaultProps={onClick:s.noop},t}(o.Component);t.PlayerLiveStatus=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(200),o=n(228),s=n(404),l=n(2),c=n(509),u=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOutsideClick=function(e){var t=n.context.player;t.state.settingsVisible&&!n.base.contains(e.target)&&t.setState({settingsVisible:!1})},n.handleSwitchQuality=function(e){var t=n.context.player;e.currentTarget.checked&&!r.default.isAvailable&&(e.preventDefault(),e.stopImmediatePropagation(),t.setState({settingsVisible:!1,dialog:s.VIDEO_PLAYER_DIALOG_FLASH_TOGGLE_FIRST}))},n.handleQualityChange=function(e){var t=e.currentTarget,i=t.checked,a=n.context.player;l.isLocalStorageAvailable()&&(localStorage.removeItem("player.flash-disabled"),i||localStorage.setItem("player.flash-disabled","1")),a.setState({videoQuality:i?c.PLAYER_QUALITY.HD:c.PLAYER_QUALITY.NORMAL})},n.handleHelpClick=function(e){e.stopImmediatePropagation();var t=n.props.videoQuality;n.context.player.setState({settingsVisible:!1,dialog:t===c.PLAYER_QUALITY.HD?s.VIDEO_PLAYER_DIALOG_FLASH_BIG_SECOND:s.VIDEO_PLAYER_DIALOG_FLASH_BIG_FIRST})},n.state={help:!o.isAvailableFormat("sldp")},n}return i(t,e),t.prototype.componentWillMount=function(){document.addEventListener("click",this.handleOutsideClick,!1)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleOutsideClick,!1)},t.prototype.render=function(e,t){var n=e.videoQuality,i=t.help;return a.h("div",{id:"flash-toggle-tooltip",class:"balloon-dialog"},a.h("div",{class:"balloon-content"},a.h("strong",null,__("Flash Player support"),": "),a.h("input",{id:"flash-enabled",class:"tgl tgl-flat",type:"checkbox",checked:n===c.PLAYER_QUALITY.HD,onClick:this.handleSwitchQuality,onChange:this.handleQualityChange}),a.h("label",{class:"tgl-btn",for:"flash-enabled"}),i&&a.h("span",{id:"flash-info-button",class:"info-icon",onClick:this.handleHelpClick},"?")),a.h("div",{class:"balloon-arrow-border"}),a.h("div",{class:"balloon-arrow"}))},t.defaultProps={videoQuality:c.PLAYER_QUALITY.NORMAL},t}(a.Component);t.PlayerSettings=u},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(19),o=function(e){function t(t){var n=e.call(this,t)||this;return n.isDrag=!1,n.update=function(e){var t=e.pageX-n.controlBounds.left,i=r.clamp(t/n.base.clientWidth,0,1);n.context.player.onVolumeChange(i),n.setState({volume:i})},n.handleMouseMove=function(e){n.update(e)},n.handleMouseUp=function(){n.detachHandlers(),n.isDrag=!1,n.context.player.onVolumeAfterDrag()},n.detachHandlers=function(){document.removeEventListener("mousemove",n.handleMouseMove,!1),document.removeEventListener("mouseup",n.handleMouseUp,!1)},n.handleMouseDown=function(e){n.isDrag||(e.stopPropagation(),e.preventDefault(),n.controlBounds=n.base.getBoundingClientRect(),n.context.player.onVolumeBeforeDrag(),n.detachHandlers(),document.addEventListener("mousemove",n.handleMouseMove,!1),document.addEventListener("mouseup",n.handleMouseUp,!1),n.update(e))},n.state={volume:t.volume},n}return i(t,e),t.prototype.componentWillUnmount=function(){this.detachHandlers()},t.prototype.componentWillReceiveProps=function(e,t){this.setState({volume:e.volume})},t.prototype.render=function(e,t){var n=t.volume;return a.h("div",{class:"sound-volume",onMouseDown:this.handleMouseDown},a.h("div",{id:"sound-volume-holder"},a.h("div",{class:"sound-volume-position",style:{width:100*r.clamp(n,0,1)+"%"}})))},t.defaultProps={volume:1},t}(a.Component);t.PlayerVolumeBar=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(405),s=n(406),l=n(15),c=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(e){e.stopPropagation(),n.context.player.toggleSound()},n.state={},n}return i(t,e),t.prototype.render=function(e,t){var n=e.toolTipAlign,i=e.isLiveStreamPromo,a=e.lspStyle,l=e.iconSetLength,c=e.iconSetName,u=e.volume,d=e.children,h=c||(i?"icon-sound-ads-"+("chathead"===a?"chathead-":""):"icon-sound-"),p=u<=0?"muted":Math.ceil(u*l);return r.h("div",{class:"button-sound"},r.h(s.PlayerToolTip,{className:"__"+n,type:"sound-tooltip"},u<=0?__("Sound: Off"):__("Sound: On")),r.h(o.PlayerIcon,{icon:""+h+p,type:"sound-volume-"+p,onClick:this.handleClick}),d)},t.defaultProps={toolTipAlign:"center",volume:1,iconSetLength:1},t=a([l.connect("isLiveStreamPromo, lspStyle")],t)}(r.Component);t.PlayerVolumeButton=c},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(406),s=n(405),l=n(15),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i(t,e),t.prototype.render=function(e,t){var n=e.hasFullScreenAccess,i=e.isAuthenticated,a=e.enlargeIconName,l=e.minimizeIconName;return r.h("div",{class:"button-fullscreen pl-fullscreen-button big_hover"},!n&&r.h(o.PlayerToolTip,{type:"fullscreen-tooltip",className:"__right"},i?__("Resize the video and full screen mode allowed only for premium members. Buy any amount of tokens just once, and become a premium member for life!"):__("Resize the video and full screen mode allowed only for premium members. Create a 100% FREE account!")),r.h(s.PlayerIcon,{icon:a||"icon-enlarge",type:"size-fullscreen"}),r.h(s.PlayerIcon,{icon:l||"icon-minimize",type:"size-normal"}))},t.defaultProps={},t=a([l.connect("hasFullScreenAccess, isAuthenticated")],t)}(r.Component);t.PlayerFullScreenButton=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5);t.dbgAttachPlayer=i.default.action(function(e,t){var n=e.debug_players;if(n.indexOf(this)<0)return{debug_players:n.concat([t])}}),t.dbgDetachPlayer=i.default.action(function(e,t){return{debug_players:e.debug_players.filter(function(e){return e!==t})}})},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(14),o=/\d+/g,s=function(e){function t(t){var n=e.call(this,t)||this;return n.handleQualityClick=function(e){n.props.onClick(e.currentTarget.dataset.id)},n.state={},n}return i(t,e),t.prototype.getRenditions=function(){var e=this.props,t=e.sort,n=e.renditions,i=n.slice();return"none"===t?i:(i.sort(function(e,t){var n=Number((e.match(o)||[]).join("")),i=Number((t.match(o)||[]).join("")),a=n-i;return a||e.localeCompare(t)}),"DESC"===t?i.reverse():i)},t.prototype.render=function(e,t){var n=this,i=(e.renditions,e.currentRendition),r=e.auto,o=r?"auto":i;return a.h("div",{class:"quality_settings"},this.getRenditions().map(function(e){return a.h("div",{"data-id":e,class:[e===o&&"quality_selected"||"",(parseInt(e)||0)>=720&&"quality_hd"||"quality_low"],onClick:n.handleQualityClick},e)}),a.h("div",{"data-id":"auto",class:"auto"===o?"quality_selected":"",onClick:this.handleQualityClick},r?__("Auto (%quality%)",{quality:i}):__("Auto")))},t.defaultProps={onClick:r.noop,renditions:[],currentRendition:"auto",auto:!1,sort:"none"},t}(a.Component);t.default=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){function i(e,t){e&&(document.title=e.replace("%display_name%",t))}function a(){var t=e(".adfooter"),n=t.find(".bonga_banner");0!==n.length&&(n.show(),t.show(),e(window).resize())}function r(){var t=e("#alerts_above_chat");t.length&&t.append(e(".content_container .jl_alert_outer"))}function o(){var t=e(".toolbar_control");t.length&&(t.show(),t.filter(".mini").each(function(){e(this).parents(".navbar_panel_header").show(),e(this).parents(".navbar_panel_header").next().hide()}))}var s=this;Object.defineProperty(t,"__esModule",{value:!0});var l=n(467),c=n(238),u=n(2),d=n(4);window.globalListing=null,e(document).on("chat:visibility",function(){e(".seo_box").toggle("visible"!==window.chat.visibility)}),e.loadChatRoom=function(t,n){e(".banner_top_index").hide().css({height:"auto",width:"auto"});var l=e("#mls_models").attr("data-chatpage-meta-title");if(!(void 0===window.chat||t&&s.userData&&s.userData.chathost===t))if(chat.userData&&chat.userData.chathost)chat.getRoom(t,{title:n});else{var c=e("#mls_videoconsole");if(c.length&&c.remove(),"function"!=typeof init_chat_inline)return void(window.location.href="/"+t);init_chat_inline(t,{title:n}),e("#mls_chatconsole").show(),window.isSinglePageApplication||e(document).trigger("chat:open"),a(),e(".mls_search .ms_per_page").remove(),e("body > .wrapper").find("h1").not(".online").remove(),e.hideModelsCategoriesList(),r(),o(),i(l,n),chat.player&&!1===chat.player.userClick&&chat.player.videoElement&&!chat.currentChathost&&chat.player.playRequest(),chat.chatProfile&&chat.chatProfile.load(t)}},e.loadPopularChatRoom=function(){e(".mls_models_container").find(".mls_item_online:not(.mls_item_vip):first").find("a.chat:first")[0].click()},e(function(){function t(t,n){if(e('<div class="vc_banner '+n+'">').appendTo(".vc_banners"),!e.ajaxLoadBannersUrl)return e(".vc_banner:last").width(0),!1;e("<iframe>",{src:t,frameborder:0,scrolling:"no"}).appendTo(".vc_banner:last").load(function(){c.resizeTubeChat(e(".video_player")),e(".vc_banners").show()})}u.removeURLParameter("ntpop");var n=e("#mls_videoconsole");(e("#mls_chatconsole").is(":visible")||n.is(":visible"))&&(a(),e.hideModelsCategoriesList(),r(),o()),e(".quickjoin").find("form").attr("onsubmit","return false").submit(function(){var t=e(this).find("input:visible:first").val();return e.open.newWindow(e(this).attr("action")+(t?"?email="+t:""),{windowName:"quickjoin"+(t?"_"+t:""),width:1180,height:550,left:(e(window).width()-1180)/2,top:(e(window).height()-550)/2,scrollbars:!1},{}),!1}),e(document).on("chat:visibility",function(t,n){"function"==typeof e.ajaxLoadBanners&&"collapse"!==n&&e.ajaxLoadBanners();var i=window.globalListing;i&&i.isVisible()&&(i.reRender(),i.toggleActiveThumb(i.chathost),i.togglePerPageSelector(),i.hasFilter&&i.updateModelsCountBlock())}),e(document).on("chat:close",function(){var e=window.globalListing;e&&(e.chathostPosition=null,e.chathost="")}),e("#bChat").on("onBeforeGetRoom",function(){"function"==typeof _gaTrackerSend&&_gaTrackerSend()}),e("a.remove_ads").click(function(){if(e.ajax({url:e(this).attr("href"),dataType:"json",context:e(this),type:"post",data:d.getCSRFData(),success:function(){},error:function(){}}),e("div.right_banners").remove(),e("div.mls_models_container").removeClass("screen_large screen_medium screen_small"),e("div.chat_right_banner").remove(),e("#mls_chatconsole").removeClass("screen_large screen_medium screen_small"),e("#mls_container").length){var t=window.globalListing;t&&t.resizer.resize()}return!1});var i=e(".vc_banners");if(n.length&&i.length){var s=void 0,h=592,p=document.body.clientWidth,f=i.data("url")+"&id=";i.hide(),p>=1900?(s="large",h=477,e(".mls_models_hd_title").show(),t(f+"14",s),t(f+"15",s)):p>=1300?(s="medium",e(".mls_models_hd_title").hide(),t(f+"16",s)):(s="small",e(".mls_models_hd_title").hide(),t(f+"17",s));var m=i.outerHeight(!0)+e(".mls_video_title").outerHeight(!0);m!==n.height()&&(e(".video_player").find(".jp-video").attr("video_height",h),n.height(m))}e(".mls_models_hd .chat").click(function(){e.loadChatRoom(e(this).data("username"),e(this).data("display_name"))}),l.default.instance.init();var g=e("#filter_popover");e("#filter_control").on("click",function(t){return g.hasClass("opened")?g.removeClass("opened"):(g.addClass("opened").focus(),e(document).bind("click.filter",function(t){e(t.target).parents().addBack().is("#filter_control")||(g.removeClass("opened"),e(document).unbind(".filter"))})),t.stopPropagation(),!1}),e(document).on("click","#mls_hint",function(){return e("#mls_hint_content").slideToggle(),!1})})}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function n(){var t=e("#tags_scroll, #categories_scroll");t.find(".jspVerticalBar").length?t.each(function(){var t=e(this).data("jsp");t&&t.reinitialise()}):t.css({overflow:"auto"}).jScrollPane({showArrows:!0,verticalArrowPositions:"os",verticalDragMinHeight:150,verticalDragMaxHeight:250,contentWidth:1})}Object.defineProperty(t,"__esModule",{value:!0}),t.StyledScrollBars=n,window.addStyledScrollToTags=n}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),n(785),n(786);var i=n(66),a=n(787),r=n(788),o=n(789),s=n(790),l=n(373),c=n(243),u=n(241),d=n(242),h=n(609),p=n(791),f=n(792),m=n(610),g=n(793),v=n(794),b=n(611),y=n(795),_=n(612),w=n(613),S=n(796),C=n(797),k=n(420),T=n(812),P=n(617),x=n(813),E=n(814),O=n(618),D=n(815),A=n(816),j=n(619),M=n(817),L=n(818),I=n(620),R=n(819),F=n(621),N=n(820),H=n(622),B=n(614),U=n(623),z=n(821),$=n(822),G=n(825),V=n(826),W=n(827),q=n(828),K=n(829),Y=n(616),X=n(208),J=n(830),Q=n(831),Z=n(832),ee=n(833),te=n(836),ne=n(1),ie=n(15),ae=n(5),re=n(536),oe=n(837),se=!0;history.scrollRestoration="manual",t.Modules={chat:function(){return $.default},listing:function(){return k.default},"category-menu":function(){return g.default},model:function(){return G.default},"model-search-filter":function(){return M.default},"model-tabs":function(){return V.default},"model-letters":function(){return D.default},"model-letter-pager":function(){return x.default},"navigation-panel":function(){return W.default},"header-resize":function(){return z.default},"widget-cashback":function(){return q.default},"widget-visitedrooms":function(){return K.default},"free-tokens-tabs":function(){return y.default},cybersale:function(){return Z.default},"page-modify-module":function(){return Q.default},"seo-box":function(){return ee.default}};var le=window.DI;le.registryInstance("graphql",new te.default({url:"/graph-api"})),le.registryInstance("window",window),le.registryInstance("document",document),le.registryInstance("$",e),le.registryInstance("history",window.history),le.registrySingleton("contract",se?Contracts.ProductionHelpers:Contracts.Helpers),le.registrySingleton("http-loader",s.default),le.registrySingleton("event-router",o.default),le.registrySingleton("module-manager",a.default),le.registryInstance("base-module-class",i.default),le.registrySingleton("resource-replacer",r.default),e(function(){var n=ae.default.getState(),i=n.isAuthenticated,a=n.isTranslateSkin;if(n.isModerator){var r=Y.default();r&&(new B.Listing).init(e("#mls_container"),r),(new U.HeaderResize).init(),X.default.instance.refresh();var o=document.getElementById("stream-layer");o&&ne.render(ne.h(ie.Provider,{store:ae.default},ne.h(re.default,null)),null,o)}else{window.isSinglePageApplication=!0,le.registrySingleton("store",J.default),le.resolve("event-router").registryHandler(d.default,u.default).registryHandler(c.default,l.default).registryHandler(p.default,h.default).registryHandler(m.default,f.default).registryHandler(C.default,S.default).registryHandler(H.default,N.default).registryHandler(j.default,A.default).registryHandler(I.default,L.default).registryHandler(O.default,E.default).registryHandler(P.default,T.default).registryHandler(w.default,_.default).registryHandler(F.default,R.default).registryHandler(b.default,v.default);var s=le.resolve("module-manager");for(var g in t.Modules)s.registry(g,t.Modules[g]()).start(g);window.globalListing&&window.globalListing.restoreDisplayedState()}if(i&&!a){window.setTimeout(oe.checkAuth,18e6);var y=e("#email_confirmed_popup");y.length>0&&(y.show(),setTimeout(function(){y.fadeOut("fast")},5e3))}})}).call(t,n(0))},function(e,t,n){"use strict";var i;!function(e){function t(e,t){o.set(e,t)}function n(e,t){s.set(e,t)}function i(e){if(!o.has(e)){if(!s.has(e))throw new Error('Fail resolve dependency by name "'+e+'", check name.');var t=s.get(e);o.set(e,new t)}return o.get(e)}function a(e,t,n){Object.defineProperty(e,t,r(void 0===n?t:n))}function r(e){return{get:function(){return i(e)}}}var o=new Map,s=new Map;e.registryInstance=t,e.registrySingleton=n,e.resolve=i,e.inject=a}(i||(i={})),window.DI=i},function(e,t,n){"use strict";var i;!function(e){var t="[ContractError]:",n=function(){function e(){}return e.prototype.assert=function(e,n){if(!n)throw new Error(t+" "+e)},e.prototype.assertType=function(e,n,i){if(n!==typeof i)throw new Error(t+' Expected type "'+n+'", but given "'+typeof i+'". '+e)},e.prototype.assertInstance=function(e,n,i){if(!(i instanceof n)){var a=n.toString?n.toString():n,r=null!==i&&void 0!==i&&i.toString?i.toString():i;throw new Error(t+' Expected instance of "'+a+'", but given "'+r+'" with type "'+typeof i+". "+e)}},e.prototype.assertPrototype=function(e,n,i){if(!n||!n.isPrototypeOf(i)){var a=n.toString?n.toString():n,r=null!==i&&void 0!==i&&i.toString?i.toString():i;throw new Error(t+' Expected prototype of "'+a+'", but given "'+r+'". '+e)}},e.prototype.assertString=function(e,t){this.assertType(e,"string",t)},e.prototype.assertDOMNode=function(e,t){this.assertInstance(e,Node,t)},e.prototype.assertFunction=function(e,t){this.assertType(e,"function",t)},e.prototype.assertBoolean=function(e,t){this.assertType(e,"boolean",t)},e.prototype.assertArray=function(e,n){if(!Array.isArray(n))throw new Error(t+' Expected array, but given "'+typeof n+'". '+e)},e}();e.Helpers=n;var i=function(){function e(){}return e.prototype.assert=function(e,t){},e.prototype.assertType=function(e,t,n){},e.prototype.assertInstance=function(e,t,n){},e.prototype.assertPrototype=function(e,t,n){},e.prototype.assertString=function(e,t){},e.prototype.assertDOMNode=function(e,t){},e.prototype.assertFunction=function(e,t){},e.prototype.assertBoolean=function(e,t){},e.prototype.assertArray=function(e,t){},e}();e.ProductionHelpers=i}(i||(i={})),window.Contracts=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(66),a=function(){function e(e,t){this.name=e,this.modClass=t,DI.inject(this,"contract"),this.contract.assertPrototype("ModuleItem#constructor",i.default,t),this.contract.assertString('ModuleItem#constructor "name" argument',e),this.moduleInstance=null}return Object.defineProperty(e.prototype,"module",{get:function(){return null===this.moduleInstance&&(this.moduleInstance=new this.modClass),this.moduleInstance},enumerable:!0,configurable:!0}),e}(),r=function(){function e(){this.list=new Map,DI.inject(this,"contract")}return e.prototype.registry=function(e,t){return this.contract.assertString("ModuleManager#reg",e),this.contract.assertPrototype("ModuleManager#reg",i.default,t),this.list.set(e,new a(e,t)),this},e.prototype.getItem=function(e){if(this.contract.assertString("ModuleManager#getItem",e),this.list.has(e)){var t=this.list.get(e);return this.contract.assertInstance("ModuleManager#getItem",a,t),t}return null},e.prototype.use=function(e){var t=this.getItem(e);return t?(this.contract.assertInstance("ModuleManager#use",i.default,t.module),t.module):(this.contract.assert("ModuleManager#use must be null or ModuleItem",null===t),null)},e.prototype.start=function(e){this.contract.assertString("ModuleManager#start",e);var t=this.use(e);return t&&(this.contract.assertInstance("ModuleManager#start",i.default,t),t.start()),this},e.prototype.stop=function(e){this.contract.assertString("ModuleManager#stop",e);var t=this.use(e);return t&&(this.contract.assertInstance("ModuleManager#stop",i.default,t),t.stop()),this},e.prototype.restart=function(e){return this.contract.assertString("ModuleManager#restart",e),this.stop(e),this.start(e),this},e.prototype.rebind=function(e,t){var n=this;return this.contract.assertType("ModuleManager#rebind","boolean",e),this.list.forEach(function(r){n.contract.assertInstance("ModuleManager#rebind~this.list.forEach",a,r),n.contract.assertInstance("ModuleManager#rebind~this.list.forEach",i.default,r.module),n.contract.assertType("ModuleManager#rebind~this.list.forEach","boolean",r.module.active),r.module.active&&r.module.rebind(e,t)}),this},e}();t.default=r},function(e,t,n){"use strict";(function(e,i){function a(e,t,n){for(var i=0;i<n.length;i++){var a=n[i].getAttribute(t);null!==a&&e.set(a,n[i])}}function r(t){return t.map(function(t){return new e(function(e,n){t.addEventListener("load",function(){e(t)},!1),t.addEventListener("load",function(){n(t)},!1)})})}function o(){for(var e=document.getElementsByTagName("head")[0],t=document.getElementsByTagName("link"),n=[],i=0,a=t.length;i<a;i++){var r=t[i],o=r.getAttribute("type");o&&o.indexOf("css")>-1&&n.push(r)}for(var i=0,a=n.length;i<a;i++){var r=n[i];r.parentNode.removeChild(r),e.appendChild(r)}}function s(t,n,a,o){var s=new Set(t.keys()),l=[],c=[],u=null,d=null,h=null;a[0]&&a[0].previousElementSibling&&(d=u=o.querySelector(a[0].previousElementSibling.nodeName));for(var p=0;p<a.length;p++){var f=a[p].getAttribute(n);if(null!==f){if(s.has(f))s.delete(f),h=a[p].getAttribute(n);else{var m=a[p];"src"===n?m.hasAttribute("data-addl_include")||m.hasAttribute("data-extra")?(m=document.createElement(a[p].nodeName.toLowerCase()),m.setAttribute("type",a[p].getAttribute("type")),m.setAttribute(n,f),c.push(m)):"src"===n&&(m=m.cloneNode(!0)):c.push(m),l.push(m);var g=null;if(d&&d.nextElementSibling){g=d.nextElementSibling.parentElement.insertBefore(m,d.nextElementSibling)}else g=o.appendChild(m);t.set(f,g),h=g.getAttribute(n)}d=o.querySelector("["+n+'="'+h+'"]')||u}}"src"===n&&s.forEach(function(e){var n=t.get(e);n&&n.remove(),t.delete(e)}),c.length&&e.all(r(c,n)).then(function(e){"href"===n&&(s.forEach(function(e){var n=t.get(e);n&&n.remove(),t.delete(e)}),window.requestAnimationFrame(function(){i(document).trigger("html:afterCssLoad")}),window.globalListing&&window.globalListing.isVisible()&&window.globalListing.resizer.resize()),"src"===n&&"body"===o.nodeName.toLowerCase()&&i(document).trigger("html:afterJsLoad")})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(80),c=function(){function e(){DI.inject(this,"document"),DI.inject(this,"window"),this.currentStyles=new Map,this.currentBlockedScripts=new Map,this.currentNonBlockedScripts=new Map,this.head=this.document.querySelector("head"),this.body=this.document.querySelector("body"),a(this.currentStyles,"href",e.queryStyles(this.head)),a(this.currentBlockedScripts,"src",e.queryBlockedScripts(this.head)),a(this.currentNonBlockedScripts,"src",e.queryNonBlockedScripts(this.body))}return e.queryMeta=function(e){return e.querySelectorAll("meta[name]")},e.queryStyles=function(e){return e.querySelectorAll('link[type="text/css"]')},e.queryBlockedScripts=function(e){return e.querySelectorAll("script")},e.queryNonBlockedScripts=function(e){return e.getElementsByTagName("script")},e.prototype.replaceResources=function(e){var t=this;this.window.requestAnimationFrame(function(){t.replaceResourcesAsync(e)})},e.prototype.replaceResourcesAsync=function(t){var n=t.querySelector("head"),i=t.querySelector("body");this.replaceMeta(e.queryMeta(this.head),e.queryMeta(n),this.head),s(this.currentStyles,"href",e.queryStyles(n),this.head),l.detectIE()&&o(),s(this.currentBlockedScripts,"src",e.queryBlockedScripts(n),this.head),s(this.currentNonBlockedScripts,"src",e.queryNonBlockedScripts(i),this.body)},e.prototype.replaceMeta=function(e,t,n){Array.prototype.slice.call(e).forEach(function(e){e.remove()}),Array.prototype.slice.call(t).reverse().forEach(function(e){n.insertBefore(e,n.firstChild)})},e}();t.default=c}).call(t,n(10),n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(488),a=n(608),r=function(){function e(){DI.inject(this,"contract"),this.handlersMap=new Map}return e.prototype.emit=function(e){var t=this;this.contract.assertInstance("EventRouter#emit",a.default,e);var n=this.handlersMap.get(e.constructor);this.contract.assertArray("EventRouter#emit",n),n.forEach(function(n){t.contract.assertInstance("EventRouter#emit",i.default,n),n.process(e)})},e.prototype.registryHandler=function(e,t){this.contract.assertPrototype("EvenRouter#registryHandle",a.default,e),this.contract.assertPrototype("EvenRouter#registryHandle",i.default,t);var n=[];return this.handlersMap.has(e)&&(n=this.handlersMap.get(e)),n.push(new t),this.handlersMap.set(e,n),this},e}();t.default=r},function(e,t,n){"use strict";(function(e){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=5e3,a=function(){function e(e){this.data=e,this.createdAt=Date.now()}return Object.defineProperty(e.prototype,"isExpired",{get:function(){return Date.now()-this.createdAt>i},enumerable:!0,configurable:!0}),e}(),r=function(){function e(){this.fullStore=new Map,this.partialStore=new Map}return e.prototype.storeFor=function(e){return e?this.fullStore:this.partialStore},e.prototype.has=function(e,t){var n=this.storeFor(t);return!!n.has(e)&&(!n.get(e).isExpired||(n.delete(e),!1))},e.prototype.get=function(e,t){return this.storeFor(t).get(e).data},e.prototype.set=function(e,t,n){this.storeFor(t).set(e,new a(n))},e}(),o=function(){function t(){DI.inject(this,"$"),DI.inject(this,"contract"),this.xhr=null,this.cache=new r}return t.prototype.makeRequest=function(t,i,a,r){if(void 0===r&&(r={}),this.contract.assertString(this.constructor.name+"~makeRequest",t),this.contract.assert(this.constructor.name+"~makeRequest require string with >= 1 length",t.length>=1),this.abortLastRequest(),this.cache.has(t,a))return console.time("cache"),i(this.cache.get(t,a)),void console.timeEnd("cache");var o=this;e.extend(r,{data:{isSpa:1}}),this.xhr=this.$.ajax(n({},r,{method:"GET",url:t,success:function(e){o.cache.set(t,a,e),i(e),o.xhr=null}}))},t.prototype.load=function(e,t){this.makeRequest(e,t,!1)},t.prototype.loadRaw=function(e,t){var n=this;this.makeRequest(e,t,!0,{xhr:function(){var e=n.$.ajaxSettings.xhr(),t=e.setRequestHeader;return e.setRequestHeader=function(e,n){"X-Requested-With"!==e&&t.call(this,e,n)},e}})},t.prototype.abortLastRequest=function(){null!==this.xhr&&4!==this.xhr.readyState&&(this.xhr.abort(),this.xhr=null)},t}();t.default=o}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(242),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(609),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.process=function(t){var n=this.modules.use("chat");n.isVideoOpen&&n.collapse(),e.prototype.process.call(this,t)},t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(610),o=function(e){function t(){var t=e.call(this)||this;return DI.inject(t,"$"),t.bindedHandler=null,t}return i(t,e),Object.defineProperty(t,"selector",{get:function(){return".model_categories_panel"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"activeClass",{get:function(){return"active"},enumerable:!0,configurable:!0}),t.prototype.clickHandler=function(e){var n=this.$(e.target),i=n.attr("href");return this.contract.assertString("CategoryMenuModule#start~href",i),this.contract.assert("CategoryMenuModule#start~href.length must be equal or more than  1",i.length>=1),this.contract.assertString("CategoryMenuModule#start~this.activeClass",t.activeClass),this.resetActive(),n.hide(),n.before('<span class="'+t.activeClass+'">'+n.text()+"</span>"),this.emit(new r.default(i)),!1},t.prototype.resetActive=function(){var e=this.$(t.selector).find("."+t.activeClass);e.next().show(),e.remove()},t.prototype.start=function(){e.prototype.start.call(this),this.bindedHandler=this.clickHandler.bind(this),this.$(t.selector).on("click","a",this.bindedHandler)},t.prototype.stop=function(){e.prototype.stop.call(this),null!==this.bindedHandler&&(this.contract.assertType("CategoryMenu#stop","function",this.bindedHandler),this.$(t.selector).off("click","a",this.bindedHandler))},t.prototype.rebind=function(t){e.prototype.rebind.call(this,t),t&&(this.stop(),this.start())},t}(a.default);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(241),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(611),o=function(e){function t(){var t=e.call(this)||this;return DI.inject(t,"$"),DI.inject(t,"modules","module-manager"),t.bindedHandler=null,t}return i(t,e),Object.defineProperty(t,"selector",{get:function(){return".mls_tabs > li > a.free_tokens_tab"},enumerable:!0,configurable:!0}),t.prototype.start=function(){e.prototype.start.call(this);var n=this;this.bindedHandler=function(){var e=n.$(this),t=n.parseUrl(e);if(n.ignoreUrl(e,t))return!0;n.contract.assert(this.constructor.name+"#start~href.length must be equal or more than  1",t.length>=1);var i=n.modules.use("chat");return i.isChatOpen&&i.collapse(),n.emit(new r.default(t)),!1},this.$(t.selector).on("click",this.bindedHandler)},t.prototype.stop=function(){e.prototype.stop.call(this),null!==this.bindedHandler&&(this.contract.assertType(""+this.constructor.name,"function",this.bindedHandler),this.$(t.selector).off("click",this.bindedHandler))},t.prototype.rebind=function(){this.stop(),this.start()},t}(a.default);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(241),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.processHTML=function(t,n){e.prototype.processHTML.call(this,t,n)},t.prototype.rebindModules=function(t,n){e.prototype.rebindModules.call(this,t,n)},t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(242),r=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(799),a=n(800),r=function(){function t(e,t){this.styleSheetId="running_style",this.listing=e,this.params=t,this.$container=this.listing.$listingContainer,this.thumbWidth=this.params.thumbWidth,this.thumb=new a.ListingZoneResizeThumb(this,this.thumbWidth),this.stylesheet=new i.ListingZoneResizeStylesheet(this.styleSheetId),this.attachHandlers()}return t.prototype.attachHandlers=function(){var t=this;this.$container.attr("current-width",this.$container.width()),e(document).on("resize:ready",function(){t.resize()})},t.prototype.detachHandlers=function(){this.$container.off("afterResize"),this.stylesheet.removeStyleSheet()},t.prototype.resize=function(t){if(t){if(e("#mls_models").hasClass("mls_resizable")&&window.globalListing){var n=this.listing.getRealThumbSize();this.updateThumbWidth(this.listing.thumbWidthValues[n]),this.listing.render()}this.$container.width("auto"),this.$container.attr("current-width",this.$container.width())}this.stylesheet.clearStylesheet();var i=this.thumb.getDistance();this.stylesheet.addRule("#mls_container .mls_models .mls_item",this.thumb.cssRuleName+": "+i+"px");var a=this.getCurrentThumbsPerRow();if(a||(a=this.getThumbsPerRow(this.listing.getRealThumbSize())),!a)return void this.listing.debugMessage("Failed resize of listing");var r="#mls_container .mls_models .mls_item:nth-child";"small"===this.listing.getRealThumbSize()&&this.thumb.$vipShowThumb.length&&this.thumb.vipShowThumbIsBig?(this.resizeVipThumb(),this.stylesheet.addRule(r+"(1)",this.thumb.cssRuleNameCross+": 0px"),this.stylesheet.addRule(r+"("+a+"n-3)",this.thumb.cssRuleName+": 0px"),this.stylesheet.addRule(r+"("+a+"n-2)",this.thumb.cssRuleNameCross+": 0px"),this.stylesheet.addRule(r+"("+(a-3)+")",this.thumb.cssRuleName+": "+i+"px"),this.stylesheet.addRule(r+"("+(a-2)+")",this.thumb.cssRuleNameCross+": 4px"),this.stylesheet.addRule(r+"("+(a-1)+")",this.thumb.cssRuleName+": 0px")):(this.stylesheet.addRule(r+"("+a+"n)",this.thumb.cssRuleName+": 0px"),this.stylesheet.addRule(r+"("+a+"n+1)",this.thumb.cssRuleNameCross+": 0px")),e.isServerSideListingRenderEnabled&&this.thumb.$mls.hasClass("mls_first_load")&&(this.thumb.$mls.hasClass("auto")&&this.thumb.replaceThumbImages(),this.thumb.$mls.removeClass("mls_first_load"),this.listing.isServerRender=!1),this.$container.triggerHandler("afterResize")},t.prototype.resizeVipThumb=function(){var t="small";e.isServerSideListingRenderEnabled&&this.thumb.$vipShowThumb.find(".thumbnail_auto").length&&"small"===this.listing.getRealThumbSize()&&(t="auto"),this.stylesheet.addRule("#mls_container .mls_models .mls_item.mls_item_vip .thumbnail_"+t,"width: "+this.thumb.getVipShowWidth()+"px"),this.stylesheet.addRule("#mls_container .mls_models .mls_item.mls_item_vip .thumbnail_"+t+" img",this.thumb.cssRuleNameWs+": "+this.thumb.getVipShowImgIndent()+"px"),this.stylesheet.addRule("#mls_container .mls_item.mls_item_vip .thumbnail_"+t+" .bage_vip",this.thumb.cssRuleNameWs+": "+this.thumb.getVipShowBageIndent()+"px")},t.prototype.getThumbsPerRow=function(e){return this.thumb.getThumbsPerRow(e)},t.prototype.getCurrentThumbsPerRow=function(){return this.thumb.getCurrentThumbsPerRow()},t.prototype.updateThumbWidth=function(e){this.stylesheet.clearStylesheet(),this.thumbWidth=e,this.thumb=new a.ListingZoneResizeThumb(this,this.thumbWidth)},t}();t.ListingZoneResize=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(t){this.sheetId=t,this.$sheet=e("#"+this.sheetId),this.initStyleSheet()}return t.prototype.initStyleSheet=function(){this.$sheet&&this.$sheet.length?this.clearStylesheet():(e("head").append('<style id="'+this.sheetId+'" type="text/css"/>'),this.$sheet=e("#"+this.sheetId))},t.prototype.clearStylesheet=function(){var e=this.getRules();if(e)for(var t=e.length-1;t>=0;t--)this.deleteRule(t)},t.prototype.removeStyleSheet=function(){e("#"+this.sheetId).remove()},t.prototype.getSheet=function(){if(!this.$sheet.length)return null;var e=this.$sheet.get(0);return e.sheet?e.sheet:e.styleSheet},t.prototype.getRules=function(){var e=this.getSheet();return e?"cssRules"in e?e.cssRules:"rules"in e?e.rules:void 0:null},t.prototype.deleteRule=function(e){var t=this.getSheet();t&&("cssRules"in t?t.deleteRule(e):t.removeRule(e))},t.prototype.insertRule=function(e,t){var n=this.getSheet();if(n){var i=this.getRules();"insertRule"in n?n.insertRule(e+" {"+t+"}",i.length):"addRule"in n&&n.addRule(e,t)}},t.prototype.addRule=function(e,t){if(this.getSheet()){if("string"!=typeof t){var n="";for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];i=i.replace(/([A-Z])/g,"-$1").toLowerCase(),n+=i+":"+("content"===i?'"'+a+'"':a)+"; "}t=n}for(var r=!0,o=this.getRules(),s=0;s<o.length;s++)o[s].selectorText===e&&(o[s].style.cssText=t,r=!1);r&&this.insertRule(e,t)}},t}();t.ListingZoneResizeStylesheet=n}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=function(){function t(t,n){if(this.initThumbDistance=12,this.thumbDistanceCross=4,this.cssRuleName=i.isRTLCulture?"margin-left":"margin-right",this.cssRuleNameCross=i.isRTLCulture?"margin-right":"margin-left",this.cssRuleNameWs=i.isRTLCulture?"margin-right":"margin-left",this.cssIndentRuleName=i.isRTLCulture?"padding-left":"padding-right",this.initVipShowBigWidth=338,this.vipShowImgIndent=-38,this.vipShowBageIndent=-26,this.owner=t,this.listing=t.listing,this.$container=t.$container,this.thumbWidth=n,this.thumbDistance=this.initThumbDistance,this.newThumbWidth=this.thumbWidth-this.thumbDistance,this.containerIndent=parseInt(e(".mls_models_container").css(this.cssIndentRuleName)),this.containerWidth=this.$container.width()-this.containerIndent,this.countInLine=Math.floor(this.containerWidth/this.thumbWidth),this.$mls=this.$container.find(".mls_models"),this.$vipShowThumb=this.$container.find(".mls_item_vip"),this.vipShowThumbIsBig=Boolean(this.$vipShowThumb.find(".thumbnail_small").length)||e.isServerSideListingRenderEnabled&&this.$vipShowThumb.find(".thumbnail_auto").length&&"small"===this.listing.getRealThumbSize(),"small"===this.listing.currentThumbSize&&(this.vipShowThumbWidth=this.initVipShowBigWidth,this.newVipShowThumbWidth=this.vipShowThumbWidth-this.thumbDistance),e.isServerSideListingRenderEnabled&&this.$vipShowThumb.length&&this.$mls.hasClass("mls_first_load")&&this.$mls.hasClass("auto")){var a=this.$vipShowThumb.find(".bage_vip");a.length&&(a.css("background-image",a.css("background-image").replace("small",window.globalListing.getAutoThumbSize())),a.removeClass("need_fix"))}}return t.prototype.refreshParams=function(){this.thumbDistance=this.initThumbDistance,this.newThumbWidth=this.thumbWidth-this.thumbDistance,this.containerIndent=parseInt(e(".mls_models_container").css(this.cssIndentRuleName)),this.containerWidth!==this.$container.width()-this.containerIndent&&(this.containerWidth=this.$container.width()-this.containerIndent),this.countInLine=Math.floor(this.containerWidth/this.thumbWidth),this.$mls=this.$container.find(".mls_models"),!this.$vipShowThumb.length||e.isServerSideListingRenderEnabled&&this.$mls.hasClass("mls_first_load")?this.$vipShowThumb=this.$container.find(".mls_item_vip"):this.$vipShowThumb.find(".thumbnail_auto").length&&(this.$vipShowThumb=this.$container.find(".mls_item_vip")),this.vipShowThumbIsBig=Boolean(this.$vipShowThumb.find(".thumbnail_small").length)||e.isServerSideListingRenderEnabled&&this.$vipShowThumb.find(".thumbnail_auto").length&&"small"===window.globalListing.getAutoThumbSize(),"small"===this.listing.currentThumbSize&&(this.vipShowThumbWidth=this.initVipShowBigWidth,this.newVipShowThumbWidth=this.vipShowThumbWidth-this.thumbDistance)},t.prototype.getThumbsPerRow=function(e){e&&"auto"===e&&(e=this.listing.getAutoThumbSize());var t=this.listing.thumbWidthValues[e]||this.thumbWidth;if(t!==this.thumbWidth){for(var n=Math.floor(this.containerWidth/t),i=t,a=i,r=n,o=0;o<=this.initThumbDistance;o++)if(a=i-o,(r=Math.floor(this.containerWidth/a))>n){i=a,n=r;break}return n}return this.countInLine},t.prototype.getCurrentThumbsPerRow=function(){return this.countInLine},t.prototype.recalculateCountInLine=function(){this.refreshParams();for(var e=this.thumbDistance,t=this.thumbWidth,n=this.countInLine,i=t,a=n,r=0;r<=this.thumbDistance;r++)if(i=t-r,(a=Math.floor(this.containerWidth/i))>n){t=i,n=a,e-=r;break}var o=e+this.containerWidth%(this.newThumbWidth+e)+this.thumbDistanceCross;e+=Math.floor(o/(n-1));var s=this.containerWidth,l=n*(this.newThumbWidth+e)-e;s!==l&&(e-=(l-s)/(n-1)),this.thumbDistance=this.roundForCss(e),this.countInLine=n},t.prototype.getDistance=function(){return this.recalculateCountInLine(),this.removeAddlClasses(),this.thumbDistance},t.prototype.removeAddlClasses=function(){this.$container.find(".mls_item").filter(".hidden_item").removeClass("hidden_item")},t.prototype.replaceThumbImages=function(){var t="big"===this.listing.getAutoThumbSize();this.$mls.find(".mls_item").each(function(){var n=e(this).find(".profile_image"),i=n.data("src");i&&n.attr("src",t?i.replace("big_lq","big"):i)})},t.prototype.roundForCss=function(e){return Number(e.toFixed(2))},t.prototype.getVipShowWidth=function(){return this.roundForCss(this.newVipShowThumbWidth+this.thumbDistance)},t.prototype.getVipShowImgIndent=function(){return this.roundForCss(this.vipShowImgIndent+(this.getVipShowWidth()-this.vipShowThumbWidth)/2)},t.prototype.getVipShowBageIndent=function(){return this.roundForCss(this.vipShowBageIndent+(this.getVipShowWidth()-this.vipShowThumbWidth)/2)},t}();t.ListingZoneResizeThumb=a}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(467),a=function(){function t(t){var n=this;this.$filterForm=e(".mls_search").find("form"),this.$filterPopover=e("#filter_popover"),this.$searchFilters=e("#mls_search_filters"),this.searchData={},this.onSortingHiddenChangeHandler=null,this.onSearchQuickChangeHandler=function(e,t){if(!t){var i=n.$filterPopover.find(".ms_display input:checked").val();i!==n.listing.currentThumbSize&&(n.listing.currentThumbSize=i),i=n.listing.getAutoThumbSize(i),n.listing.resizer.updateThumbWidth(n.listing.thumbWidthValues[i]),n.listing.resizer.thumb.recalculateCountInLine(),n.listing.loader.saveLimit(i),n.forceFilterSubmit()}},this.onSearchBtnClickHandler=function(){return n.clearFindByName(),n.clearFindByParams(),n.forceFilterSubmit(),!1},this.onNameInputKeypressHandler=function(t){if(13===t.which)return e(this).change(),e(".saf_search_btn").trigger("click"),!1},this.onSafSearchBtnClickHandler=function(){return n.clearFindByParams(),n.forceFilterSubmit(!0),!1},this.onSafParamsBtnClickHandler=function(){return n.clearFindByName(),n.forceFilterSubmit(!0),!1},this.onSearchClear=function(){n.searchData=n.serializeSearchForm()},this.listing=t,this.$listingContainer=this.listing.$listingContainer,this.listing.initData.isEroticSettingsCountry&&this.$filterPopover.find(".ms_filter.ms_th_type").remove(),this.assignDefaultValues(),this.initSortingBox(),this.attachHandlers()}return t.prototype.attachHandlers=function(){var t=this;this.$filterForm.attr("onsubmit","return false"),this.onSortingHiddenChangeHandler=function(){e("#model_search_base_sort").val(e(this).val()),t.forceFilterSubmit(),sv.cookie.setItem("sls",0,-1)},e(document).on("search:clear",this.onSearchClear),this.$filterForm.on("change",".mls_search_quick li input",this.onSearchQuickChangeHandler).on("click",".search_btn",this.onSearchBtnClickHandler),this.$searchFilters.on("click",".saf_search_btn",this.onSafSearchBtnClickHandler).on("click",".saf_params_btn",this.onSafParamsBtnClickHandler),e(document).on("keypress","#model_search_display_name",this.onNameInputKeypressHandler),e("#sort_base_clone").on("change",".mls_sorting_hidden",this.onSortingHiddenChangeHandler)},t.prototype.detachHandlers=function(){[{root:this.$filterForm,event:"change",fn:this.onSearchQuickChangeHandler,selector:".mls_search_quick li input"},{root:this.$filterForm,event:"click",fn:this.onSearchBtnClickHandler,selector:".search_btn"},{root:this.$searchFilters,event:"click",fn:this.onSafSearchBtnClickHandler,selector:".saf_search_btn"},{root:this.$searchFilters,event:"click",fn:this.onSafParamsBtnClickHandler,selector:".saf_params_btn"},{root:e(document),event:"keypress",fn:this.onNameInputKeypressHandler,selector:"#model_search_display_name"},{root:e("#sort_base_clone"),event:"change",fn:this.onSortingHiddenChangeHandler,selector:".mls_sorting_hidden"}].forEach(function(e){e.fn&&e.root.length&&e.root.off(e.event,e.selector,e.fn)}),e(document).off("search:clear",this.onSearchClear)},t.prototype.assignDefaultValues=function(){this.assignThumbSize(),this.assignThumbType(),this.assignSorting()},t.prototype.assignPerPage=function(){var t=this.listing.loader.cookieData,n=[{formValue:20,realValue:28},{formValue:50,realValue:56},{formValue:80,realValue:84},{formValue:100,realValue:108}],i=t.limit||50;if(this.listing.isPagerEnabled()){var a=n.find(function(e,t){return i===e.formValue||i>e.formValue&&(void 0===n[t+1]||i+3<n[t+1].formValue)});i=a?a.formValue:50,e("#model_search_per_page_"+i).prop("checked",!0)}},t.prototype.assignThumbSize=function(){var t=this.listing.loader.cookieData,n=t.display||"auto";e("#model_search_display_"+n).prop("checked",!0)},t.prototype.assignThumbType=function(){var t=this.listing.loader.cookieData,n=t.th_type||"profile";t.th_type!==this.listing.currentThumbType&&(n=this.listing.currentThumbType,t.th_type=this.listing.currentThumbType),e("#model_search_th_type_"+n).prop("checked",!0)},t.prototype.assignSorting=function(){var t=this.listing.loader.cookieData,n=t.sorting;e("#model_search_base_sort").val(n)},t.prototype.forceFilterSubmit=function(t){!window.isSinglePageApplication&&t&&(window.chat&&window.chat.closeChat(!0),e(".chat_right_banner").hide()),this.searchData=this.serializeSearchForm(),this.isAnyFilterSelected()&&(this.searchData._online_filter=0),e.isRunetki&&this.listing.isAllModelsPage||history.pushState("",document.title,"/"),e(document).trigger("search:submit")},t.prototype.getFilterData=function(){return this.searchData},t.prototype.serializeSearchForm=function(){var t={},n=i.default.instance.getSearchData(),a=this.$filterForm.serializeArray().filter(function(e){return!n.find(function(t){return e.name===t.name})}).concat(n);return e.each(a,function(){void 0!==t[this.name]?t[this.name].push?t[this.name].push(this.value||""):t[this.name]=[t[this.name],this.value]:t[this.name]=this.value||""}),t},t.prototype.setFilterData=function(e){var t=this;Object.keys(e).map(function(n){var i=e[n];if(i)if("[]"===n.substr(n.length-2,2))(Array.isArray(i)?i:[i]).map(function(e){t.$searchFilters.find('input[name="'+n+'"][value="'+e+'"]').prop("checked",!0)});else{var a=t.$searchFilters.find('input[name="'+n+'"]');"text"===a.attr("type")?a.val(i):a.prop("checked",!0)}}),this.searchData=e},t.prototype.clearFindByName=function(){e("#model_search_display_name").val("")},t.prototype.clearFindByParams=function(){this.$searchFilters.find("input:checkbox:checked").trigger("click").closest("li").removeClass("checked")},t.prototype.isAnyFilterSelected=function(){var e=this.searchData;return e["model_search[display_name][text]"]&&e["model_search[display_name][text]"]||e["model_search[gender][]"]||e["model_search[preference][]"]||e["model_search[age][]"]||e["model_search[hair_color][]"]||e["model_search[eyes_color][]"]||e["model_search[ethnicity][]"]||e["model_search[height][]"]||e["model_search[body][]"]||e["model_search[breasts_size][]"]||e["model_search[penis_size][]"]||e["model_search[butt_size][]"]||e["model_search[visibility][]"]||e["model_search[audio][]"]||e["model_search[cams][]"]||e["model_search[lang][]"]||e["model_search[tag][]"]||e["model_search[categories][]"]},t.prototype.initSortingBox=function(){var t=this,n=e("#sort_base").clone().removeAttr("style").attr("id","sort_base_clone").appendTo(this.listing.$listingContainer.find(".mls_sort")),i=n.find("input").removeAttr("id").removeAttr("name").removeAttr("class").addClass("mls_sorting_hidden");t.setSortingBoxValue(i.val());var a=e("#sort_base_clone"),r=e(".dropcontainer"),o=null;a.find(".select_as_list").click(function(n){var i="SPAN"===n.target.tagName?e(n.target).parent("a"):e(n.target);return i.hasClass("select_as_list_item")&&(t.setSortingBoxValue(i),a.find(".mls_sorting_hidden").trigger("change")),a.toggleClass("active"),r.toggleClass("dropdownvisible").promise().done(function(){void 0!==o&&clearTimeout(o)}),a.hasClass("active")?e(document).on("click.baseSort",function(t){a.removeClass("active"),r.removeClass("dropdownvisible"),e(document).off("click.baseSort")}):e(document).off("click.baseSort"),!1}).mouseleave(function(){void 0!==o&&clearTimeout(o),a.hasClass("active")&&(o=setTimeout(function(){a.removeClass("active"),r.removeClass("dropdownvisible"),e(document).off("click.baseSort"),clearTimeout(o)},2e3))}).mouseenter(function(){void 0!==o&&clearTimeout(o)})},t.prototype.setSortingBoxValue=function(t){var n=e("#sort_base_clone");if(n.length){var i;i="string"==typeof t?n.find(".dropcontainer").find("a[val="+t+"]"):t,i.hasClass("select_as_list_item")&&(n.find("li a").removeClass("active_item"),n.find('input[type="hidden"]').val(i.attr("val")),n.find(".select_as_list_trigger").html(i.html()).attr("val",i.attr("val")),i.addClass("active_item"))}},t}();t.ListingFilter=a}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(615),r=n(803),o=function(t){function n(n,i){var a=t.call(this,n,i)||this;return a.currentScrollPos=e(window).scrollTop(),a.resetModels=!1,a.countLoadedPages=0,a.countAutoLoadPages=3,a.changeOffset(0),a.navigation=new r.NavigationInfiniteScroll(a),a.listing.stateData.models?(e(window).scrollTop(0),a.togglePagerButton(),a.checkThumbs(),a.calculateOffset()):a.resetModels=!0,a.attachHandlers(),a}return i(n,t),n.prototype.resetData=function(){this.resetModels=!0,this.countLoadedPages=0,t.prototype.resetData.call(this)},n.prototype.attachHandlers=function(){var t,n=this,i=this;this.detachHandlers(),e(window).on("scroll.mlsLoader",function(){var n=this;clearTimeout(t),t=setTimeout(function(){var t=e(n).scrollTop();null===i.xhr&&(i.togglePagerButton(),i.calculateOffset(),t>i.currentScrollPos?i.downScroll():t<i.currentScrollPos&&i.upScroll(),i.currentScrollPos=t)},50)}),this.$listingContainer.on("click.mlsLoader",".mls_pager_actions a",function(){return i.offset+i.getRealLimit()<i.totalCount&&(i.needOffset=i.offset+i.getRealLimit(),i.countLoadedPages=0,i.load()),!1}),this.$listingContainer.on("afterResize",function(){i.listing.hideExtraThumbs(),i.calculateThumbsPos(),i.listing.hasFilter&&i.saveLimit(),i.needLoadNext()&&i.togglePagerButton()}),this.$listingContainer.on("afterRender",function(){n.calculateThumbsPos(),n.calculateOffset(!0),n.reloadDueToDoubles?n.reloadDueToDoubles=!1:n.checkVisibleDoubles()&&(n.reloadDueToDoubles=!0,n.load())})},n.prototype.detachHandlers=function(){e(window).off("scroll.mlsLoader"),t.prototype.detachHandlers.call(this)},n.prototype.togglePagerButton=function(){var t=e("#mls_pager_bottom");this.listing.stateData.models.length!==this.totalCount&&t.length&&this.offset+this.getRealLimit()<this.totalCount&&this.needOffset<this.totalCount?t.show():t.hide()},n.prototype.load=function(e){var n=this.needOffset;void 0!==e&&e>=0&&(n=e),t.prototype.load.call(this,n)},n.prototype.needLoadNext=function(){var t=e(window).scrollTop()+e(window).height()+300>=this.$listingContainer.offset().top+this.$listingContainer.outerHeight(!0);return this.countLoadedPages<this.countAutoLoadPages&&this.offset+this.getRealLimit()<this.totalCount&&t&&this.offset!==this.needOffset},n.prototype.calculateOffset=function(t){var n=this;void 0===t&&(t=!1);var i=e("#mls_pager_bottom");this.needOffset=0,!t&&i.length&&i.is(":visible")&&e(window).scrollTop()+e(window).height()>i.offset().top-300?this.listing.stateData.models.length&&((this.countLoadedPages+1)%this.countAutoLoadPages==0?this.needOffset=this.offset:this.needOffset=this.listing.stateData.models[this.listing.stateData.models.length-1].sortOrder+1):this.listing.stateData.models&&this.listing.stateData.models.every(function(t){var i=e(window).scrollTop()-t.thumbTopPos;return!(i>+t.thumbHeight&&i<=2*t.thumbHeight)||(n.needOffset=t.sortOrder,!1)})},n.prototype.downScroll=function(){this.needLoadNext()?(this.load(),this.countLoadedPages=this.countLoadedPages>=this.countAutoLoadPages?0:this.countLoadedPages+1,this.togglePagerButton()):this.totalCount&&this.needOffset<this.listing.stateData.models.length&&this.loadExistsThumbs()},n.prototype.upScroll=function(){this.needOffset<this.offset&&this.loadExistsThumbs()},n.prototype.loadExistsThumbs=function(){var e=this,t=Math.abs(this.needOffset-this.offset)>=this.getRealLimit()/3,n=this.listing.stateData.models.find(function(t){return t.sortOrder===e.needOffset});n&&(this.checkVisibleDoubles()||t&&Date.now()>=n.loadTime+this.timerInt)&&this.load()},n.prototype.calculateLimit=function(t){t=t?this.listing.getAutoThumbSize(t):this.listing.getRealThumbSize();var n=this.listing.resizer.getThumbsPerRow(t),i=this.getRealLimit();if(this.listing.thumbImgSizes[t]){var a=e(".mls_item:not(.mls_item_vip):first"),r=this.listing.thumbImgSizes[t][1]+16;a.length&&(r+=a.find(".actions").height()+a.find(".etc").height()),e.isRunetki&&(r=a.outerHeight(!0));var o=this.$listingContainer.offset().top-e(window).scrollTop(),s=window.innerHeight-(o>0?o:0);r&&(i=n*Math.ceil(s/r)+2*n)}this.limit=i},n.prototype.getRealLimit=function(){return this.limit},n.prototype.assignSortOrder=function(){var e=0,t=Date.now();this.listing.stateData.models.forEach(function(n){n.sortOrder=e,void 0===n.loadTime&&(n.loadTime=t),e++}),this.listing.stateData.online_models&&(e=0,this.listing.stateData.online_models.forEach(function(t){t.sortOrder=e,e++}))},n.prototype.calculateThumbsPos=function(){var t=this;this.listing.stateData.models.forEach(function(n){var i=e(".mls_so_"+n.sortOrder);i.length&&(n.thumbTopPos=i.offset().top||0,n.thumbHeight=i.outerHeight(!0),t.listing.isDebug&&i.find(".actions").attr("title",n.sortOrder))})},n.prototype.initTimeout=function(){this.calculateOffset(),this.offset=this.needOffset,t.prototype.initTimeout.call(this)},n.prototype.processData=function(e){var t=this;if(this.resetModels)this.listing.stateData.models=e.models,this.resetModels=!1;else{var n=this.listing.stateData.models.find(function(e){return e.sortOrder===t.offset});if(void 0===n)this.listing.stateData.models=this.listing.stateData.models.concat(e.models);else{var i=e.models||[];this.listing.stateData.models.forEach(function(e,a){n.sortOrder<=e.sortOrder&&i.length&&(t.listing.stateData.models[a]=i.shift())})}}},n.prototype.checkVisibleDoubles=function(){return!this.listing.stateData.models.slice(this.needOffset,this.needOffset+this.getRealLimit()).every(function(e,t,n){for(var i=t+1;i<n.length;i++)if(n[i].username===e.username)return!1;return!0})},n.prototype.changeOffset=function(e){e&&e>=0&&(this.offset=e,this.needOffset=e)},n}(a.ListingLoader);t.ListingInfiniteScroll=o}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(489),r=function(e){function t(t){var n=e.call(this,t.listing)||this;return n.scroll=t,n}return i(t,e),t.prototype.renderPager=function(){var e=this.scroll.getRealLimit();return this.scroll.offset+e<this.scroll.totalCount?this.renderInfiniteScrollButton():""},t.prototype.renderInfiniteScrollButton=function(){var e={display:"block",clear:"both"};return m("div",{id:"mls_pager_bottom",class:"mls_pager_actions",style:e},m("a",{class:"bt30 bt30_green",href:"#"},__("Show next")))},t}(a.ListingMithrilNavigation);t.NavigationInfiniteScroll=r},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(805),r=n(806),o=n(615),s=n(2),l=function(t){function n(n,i){var o=t.call(this,n,i)||this;return o.activePage=1,o.needRequestPage=1,o.prevPage=0,o.pageCount=null,o.onPagerLinkClickHandler=null,o.onAfterListingUpdateHandler=null,o.onAfterResizeHandler=null,o.listing.isChatOpened()&&o.initForChat(),o.navigation=e.isRunetki?new r.NavigationPagerRunetki(o):new a.NavigationPager(o),o.listing.stateData.models&&o.checkThumbs(),o.calculatePageCount(),o.calculateActivePage(),o.checkPageQueryStringParameter(),o.attachHandlers(),o}return i(n,t),n.prototype.initForChat=function(){this.listing.isChatOpened()&&(this.changeOffset(this.getOffsetForChat()),this.changeListingForChat())},n.prototype.resetData=function(){t.prototype.resetData.call(this),this.activePage=1,this.needRequestPage=1,this.pageCount=0,this.prevPage=0},n.prototype.attachHandlers=function(){var t=this;this.onPagerLinkClickHandler=function(){return t.needRequestPage=parseInt(e(this).attr("rel")),t.load(),t.listing.isChatOpened()||history.pushState({"listing-page":e(this).attr("rel")},document.title,e(this).attr("href")),window.chat.startNavigation=!1,!1},this.onAfterListingUpdateHandler=function(){if(t.prevPage===t.activePage||t.listing.isChatOpened()||window.scroll(0,0),t.prevPage!==t.activePage){var n=t.activePage<=1?"":" - "+__("page")+" "+t.activePage;e(".mls_listing_h1 span").html(n)}},this.onAfterResizeHandler=function(){t.listing.hideExtraThumbs(),t.listing.hasFilter&&t.saveLimit()},this.detachHandlers(),this.$listingContainer.on("click.mlsLoader",".mls_pager a",this.onPagerLinkClickHandler),this.$listingContainer.on("afterListingUpdate",this.onAfterListingUpdateHandler),this.$listingContainer.on("afterResize",this.onAfterResizeHandler)},n.prototype.detachHandlers=function(){this.onAfterListingUpdateHandler&&this.$listingContainer.off("afterListingUpdate",this.onAfterListingUpdateHandler),this.onAfterResizeHandler&&this.$listingContainer.off("afterResize",this.onAfterResizeHandler),t.prototype.detachHandlers.call(this)},n.prototype.load=function(e){var n=this.needRequestPage>=0?this.needRequestPage:this.activePage;void 0!==e&&e>=0?(this.needOffset=e,n=Math.ceil((e+1)/this.getRealLimit())):this.needOffset=Math.round((n-1)*this.getRealLimit()),null===this.xhr&&(this.prevPage=this.activePage,this.activePage=n,t.prototype.load.call(this,this.needOffset))},n.prototype.checkPageQueryStringParameter=function(){if(!this.listing.isChatOpened()){var e=parseInt(s.getQueryStringParameterByName("page"))||this.activePage,t=location.href,n=t;e<=1?(e=1,n=s.updateQueryStringParameter(location.href,"page",null)):e>this.pageCount&&(e=this.pageCount,n=s.updateQueryStringParameter(location.href,"page",e)),e!==this.activePage&&(this.activePage=e),n!==t&&history.pushState("",document.title,""+n)}},n.prototype.calculatePageCount=function(){this.pageCount=Math.ceil(this.totalCount/this.getRealLimit())},n.prototype.calculateActivePage=function(){this.activePage=Math.ceil((this.offset+1)/this.getRealLimit())},n.prototype.calculateLimit=function(t){t=t?this.listing.getAutoThumbSize(t):this.listing.getRealThumbSize();var n=this.listing.resizer.getThumbsPerRow(t),i=this.limit;if(this.listing.is404Page)i=2*n;else{var a=e("input[id^=model_search_per_page]:checked").val();a&&(i=n*Math.ceil(parseInt(a)/n))}this.limit=i},n.prototype.getRealLimit=function(){return this.listing.isChatOpened()?this.cookieData.c_limit&&this.cookieData.c_limit>0?this.cookieData.c_limit:(this.cookieData.c_limit=this.getLimitForChat(),this.cookieData.c_limit):this.limit},n.prototype.assignSortOrder=function(){var t=this,n=(this.activePage-1)*this.getRealLimit()||0;this.listing.stateData.models.forEach(function(i){i.sortOrder=n,n++,t.listing.isDebug&&e(".mls_item[data-so="+i.sortOrder+"] .actions").attr("title",i.sortOrder)}),this.listing.stateData.online_models&&(n=0,this.listing.stateData.online_models.forEach(function(e){e.sortOrder=n,n++}))},n.prototype.processData=function(e){this.listing.stateData.models=e.models,this.calculatePageCount(),this.calculateActivePage()},n.prototype.changeOffset=function(e){e>=0&&(this.offset=e,this.needOffset=e,this.calculatePageCount(),this.calculateActivePage(),this.needRequestPage=this.activePage)},n.prototype.changeListingForChat=function(){if(this.listing.isChatOpened()){var e=this.listing.stateData.models.length-this.getRealLimit();if(e>0){var t=this.getOffsetForChat(),n=this.listing.stateData.models.length-e;return t>0&&(n+=t),this.listing.removeExtraModelsFromStateData(t||0,n||0),void(this.listing.gridView?this.listing.gridView.draw():this.listing.hideExtraThumbs())}}},n.prototype.getOffsetForChat=function(){return this.listing.chathostPosition-Math.floor(this.listing.chathostPosition%this.getRealLimit())},n}(o.ListingLoader);t.ListingPager=l}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(489),r=function(e){function t(t){var n=e.call(this,t.listing)||this;return n.startWith=1,n.endWith=1,n.pager=t,n}return i(t,e),t.prototype.renderPager=function(){return this.startWith=Math.max(this.pager.activePage-3,1),this.endWith=Math.min(this.pager.activePage+3,this.pager.pageCount),this.pager.pageCount>1?this.renderPagerNavigation():""},t.prototype.getPageUrl=function(e){return this.listing.isChatOpened()?"":decodeURI(window.location.pathname)+(1!=e?"?page="+e:"")},t.prototype.renderFirstPageLink=function(){return this.startWith>1?m("a",{class:"first",rel:"1",href:this.getPageUrl(1),title:__("First Page",{},!1)},"1"):""},t.prototype.renderPagerFirstLinkSeparator=function(){return this.startWith>2?m("span",{class:"mls_separator mls_prev_separator"+(1==this.startWith?" disabled":"")},"..."):""},t.prototype.renderPrevPages=function(){for(var e=[],t=this.startWith;t<this.pager.activePage;++t)e.push(m("a",{class:"mls_pager_page",key:"prev"+t,rel:t,href:this.getPageUrl(t),title:__("Page",{},!1)+" "+t},t));return m("span",{class:"mls_pager_previous_pages"},e)},t.prototype.renderNextPages=function(){for(var e=[],t=this.pager.activePage+1;t<=this.endWith;++t)e.push(m("a",{class:"mls_pager_page",key:"next"+t,rel:t,href:this.getPageUrl(t),title:__("Page",{},!1)+" "+t},t));return m("span",{class:"mls_pager_next_pages"},e)},t.prototype.renderPagerLastLinkSeparator=function(){var e=this.pager.pageCount;return this.endWith<e-1?m("span",{class:"mls_separator mls_next_separator"+(e==this.endWith?" disabled":"")},"..."):""},t.prototype.renderLastPageLink=function(){var e=this.pager.pageCount;return this.endWith<e?m("a",{class:"last",rel:e,href:this.getPageUrl(e),title:__("Last Page",{},!1)},e):""},t.prototype.renderPagerNavigation=function(){return m("div",{class:"mls_pager"},[m("div",{class:"mls_pager_content"},[m("span",{class:"mls_pager_prev_page "+(this.pager.activePage>1?"":" disabled")},[m("a",{class:"prev",rel:this.pager.activePage-1,href:this.getPageUrl(this.pager.activePage-1),title:__("Previous Page",{},!1)},"«"),this.renderFirstPageLink()]),this.renderPagerFirstLinkSeparator(),this.renderPrevPages(),m("span",{class:"mls_pager_current_page"},this.pager.activePage),this.renderNextPages(),this.renderPagerLastLinkSeparator(),m("span",{class:"mls_pager_next_page "+(this.pager.activePage<this.pager.pageCount?"":" disabled")},[this.renderLastPageLink(),m("a",{class:"next",rel:this.pager.activePage+1,href:this.getPageUrl(this.pager.activePage+1),title:__("Next Page",{},!1)},"»")])])])},t}(a.ListingMithrilNavigation);t.NavigationPager=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(489),r=function(e){function t(t){var n=e.call(this,t.listing)||this;return n.startWith=1,n.endWith=1,n.pager=t,n}return i(t,e),t.prototype.renderPager=function(){var e=Math.max(3,6-this.pager.activePage);return this.startWith=Math.max(this.pager.activePage-e,1),this.endWith=Math.min(this.pager.activePage+e,this.pager.pageCount),this.pager.pageCount>1?this.renderPagerNavigation():""},t.prototype.getPageUrl=function(e){return this.listing.isChatOpened()?"":decodeURI(window.location.pathname)+(1!=e?"?page="+e:"")},t.prototype.renderPagerFirstLinkSeparator=function(){return this.startWith>2?m("span",{class:"mls_separator mls_prev_separator"+(1==this.startWith?" disabled":"")},"..."):""},t.prototype.renderPrevPages=function(){for(var e=[],t=this.startWith;t<this.pager.activePage;++t)e.push(m("a",{class:"mls_pager_page",key:"prev"+t,rel:t,href:this.getPageUrl(t),title:__("Page",{},!1)+" "+t},t));return e.length?m("span",{class:"mls_pager_previous_pages"},e):""},t.prototype.renderNextPages=function(){for(var e=[],t=this.pager.activePage+1;t<=this.endWith;++t)e.push(m("a",{class:"mls_pager_page",key:"next"+t,rel:t,href:this.getPageUrl(t),title:__("Page",{},!1)+" "+t},t));return e.length?m("span",{class:"mls_pager_next_pages"},e):""},t.prototype.renderPagerLastLinkSeparator=function(){var e=this.pager.pageCount;return this.endWith<e-1?m("span",{class:"mls_separator mls_next_separator"+(e==this.endWith?" disabled":"")},"..."):""},t.prototype.renderPagerNavigation=function(){return m("div",{class:"mls_pager"},[m("div",{class:"mls_pager_content"},[m("span",{class:"mls_pager_prev_page "+(this.pager.activePage>1?"":" disabled")},[m("span","«"),m("a",{class:"prev",rel:this.pager.activePage-1,href:this.getPageUrl(this.pager.activePage-1),title:__("Previous Page",{},!1)},__("Previous%_page_%",{},!1))]),this.renderPagerFirstLinkSeparator(),this.renderPrevPages(),m("span",{class:"mls_pager_current_page"},this.pager.activePage),this.renderNextPages(),this.renderPagerLastLinkSeparator(),m("span",{class:"mls_pager_next_page "+(this.pager.activePage<this.pager.pageCount?"":" disabled")},[m("a",{class:"next",rel:this.pager.activePage+1,href:this.getPageUrl(this.pager.activePage+1),title:__("Next Page",{},!1)},__("Next%_page_%",{},!1)),m("span","»")])])])},t.prototype.renderNavigationThumb=function(){var e=this.pager.activePage+1;return this.listing.isChatOpened()||e>this.pager.pageCount?"":m("div",{class:"next_page_link"},[m("a",{rel:e,href:this.getPageUrl(e)},[m("span",{class:"mls_npl npl_"+this.listing.initData.lang})])])},t}(a.ListingMithrilNavigation);t.NavigationPagerRunetki=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(808),a=n(809),r=n(810),o=function(){function t(t,n){this.$container=null,this.models={},this.listing=t,this.$container=n,this.thumb=e.isRunetki?new i.ThumbRunetki(this):new a.ThumbBonga(this)}return t.prototype.oncreate=function(){this.listing.$listingContainer.trigger("afterRender")},t.prototype.onupdate=function(){this.listing.$listingContainer.trigger("afterRender")},t.prototype.view=function(){var t=this;return m("div",[e.isRunetki&&this.listing.isChatOpened()?this.listing.navigationView.renderPager():"",m("div",{class:"mls_models "+this.listing.getRealThumbSize()},this.listing.stateData.models.map(function(e){if(e.isSgPromo){if("friends"===t.listing.livetab)return;return new r.ThumbSpy(t).renderThumb(e)}return t.thumb.renderThumb(e)})),this.listing.navigationView?this.listing.navigationView.renderPager():""])},t.prototype.draw=function(){this.$container.length?(m.mount(this.$container.get(0),this),this.listing.detectThumbImg()):this.listing.debugMessage("Failed listing draw")},t}();t.ListingMithril=o}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(490),r=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.renderIconItem=function(e){return m("span",{className:"bage bage_"+e})},t.prototype.renderTextBages=function(e){var t="";if(e.room&&"vip"===e.room&&"vip"===e.vip_type){var n={background:"url(/images/frontend/vip/runetki/"+this.listing.initData.lang+".png?v2)"};t=m("div",{class:"bage bage_vip",style:n})}return m("div.bages",t)},t.prototype.renderLinks=function(e){var t;if(e.online){if(e.is_away)t=__("I'm away");else if(e.room)switch(e.room){case"private":case"fullprivate":t=__("In private");break;case"group":t=__("In group");break;case"public":t=__("Free chat");break;case"vip":t=__("VIP show")}}else t=__("Model is offline");var n=__("Chat with",{},!1)+" "+e.display_name;return m("div.actions",[m("a.chat",{href:e.chat_url,title:n},m.trust(t))])},t.prototype.getItemClassName=function(t){var n=e.prototype.getItemClassName.call(this,t);return t.is_away&&(n+=" mls_item_away"),n+=" mls_item_"+t.room},t.prototype.renderThumb=function(e){return m("div",{class:this.getItemClassName(e),"data-so":e.sortOrder},[m("div",{class:"thumbnail","data-chathost":e.username,"data-name":e.display_name,"data-vq":e.vq||!1,"data-vsid":!(!e.online||e.is_away||"public"!==e.room)&&e.vsid},[m("a",{href:e.online?e.chat_url:e.profile_url,className:"thm_a "+(e.online?"chat":"profile no_chat"),title:e.online?__("Chat with",{},!1)+" "+e.display_name:e.display_name+" "+__("profile",{},!1)},[m("img.profile_image",{src:this.getThumbSrc(e),alt:e.display_name})]),this.renderTextBages(e)]),this.renderNewIcon(e),m("div",{class:"mls_layer"},[m("a",{href:e.profile_url,className:"profile mls_diplayname",title:e.display_name+" "+__("profile",{},!1)},e.display_name),this.renderHdIcon(e),this.renderMicrophoneIcon()]),this.renderLinks(e)])},t.prototype.renderHdIcon=function(e){if(e.hd_cam)return this.renderIconItem("hd_cam")},t.prototype.renderMicrophoneIcon=function(){return this.renderIconItem("microphone")},t.prototype.renderNewIcon=function(e){if(e.is_new)return this.renderIconItem("new")},t}(a.ListingMithrilThumb);t.ThumbRunetki=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(490),r=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.renderIcons=function(e){var t=[];"vip"!==e.vip_type?(e.online&&t.push("live"),e.is_new&&t.push("new"),e.hd_cam&&t.push("hd_cam"),e.vibratoy&&"small"!==this.listing.getRealThumbSize()&&t.push("vibratoy"),"moderator"===this.listing.initData.userRole&&(e.hd_plus&&t.push("hd_plus"),e.is_new_for_mod&&t.push("new bage_new_blue"))):t.push("vip_zone");var n=t.map(function(e,t){return m("span",{key:t,className:"bage bage_"+e})});return m("span",n)},t.prototype.renderTextBages=function(e){var t;if(e.is_away)t=m("div",{class:"bage bage_away"},m.trust(__("I'm away")));else if(e.room)switch(e.room){case"private":case"fullprivate":t=m("div",{class:"bage bage_private"},m.trust(__("In private")));break;case"group":t=m("div",{class:"bage bage_group"},m.trust(__("In group")));break;case"vip":if("vip"===e.vip_type){var n={background:"url(/images/frontend/vip/"+this.listing.getRealThumbSize()+"/"+this.listing.initData.lang+".png?v2)"};t=m("div",{class:"bage bage_vip",style:n})}}return m("div.bages",t)},t.prototype.renderLinks=function(e){if(!e.online)return m("div.actions",[m("span.no_chat",m.trust(__("Model is offline")))]);var t=__("Chat with",{},!1)+" "+e.display_name;return m("div.actions",[m("a.chat",{href:e.chat_url,title:t},m.trust(__("Visit FREE Chat")))])},t.prototype.renderAboutMe=function(e){var t="",n=!1;if("moderator"===this.listing.initData.userRole&&"ru"===this.listing.initData.lang)t=e.quality_improvement_reason;else{if(void 0===e.about_me)return"";"vip"===e.room?t=m("span",m.trust(__("vip"===e.vip_type?"Enter %s1%Vip Show%s2%":"Enter %s1%Free Show%s2%",{s1:"<strong>",s2:"</strong>"}))):e.about_me?t=e.about_me:(t=m("span",m.trust(__("%name% has not written anything about herself yet",{name:e.display_name}))),n=!0)}return m("div",{class:"etc etc_"+this.listing.getRealThumbSize()},m("div",{class:"about_me"+(n?" about_me_blank":"")},t))},t.prototype.renderAboutMeBlock=function(e){return this.renderAboutMe(e)},t.prototype.renderThumb=function(e){var t="";if(this.listing.isDebug){this.listing.stateData.models.filter(function(t){return t.username===e.username}).length>1&&(t="background: rgba(142, 25, 76, 0.6);")}return m("div",{class:this.getItemClassName(e),"data-so":e.sortOrder},[m("div",{class:"thumbnail thumbnail_"+this.listing.getRealThumbSize(),"data-chathost":e.username,"data-name":e.display_name,"data-vq":e.vq||!1,"data-vsid":!(!e.online||e.is_away||"public"!==e.room)&&e.vsid},[m("a",{href:e.online?e.chat_url:e.profile_url,className:"thm_a "+(e.online?"chat":"profile no_chat"),title:e.online?__("Chat with",{},!1)+" "+e.display_name:e.display_name+" "+__("profile",{},!1)},[m("img.profile_image",{src:this.getThumbSrc(e),alt:e.display_name}),this.renderIcons(e)]),this.renderTextBages(e)]),m("div.mls_layer",{style:t||!1},[m("a",{href:e.profile_url,className:"profile mls_diplayname",title:e.display_name+" "+__("profile",{},!1)},e.display_name),m("span.mls_langs",[m("span",{class:"mls_lang mls_primary_lang"+(e.lang?" mls_lang_"+e.lang:"")})])]),this.renderLinks(e),this.renderAboutMeBlock(e),this.renderChatTopic(e)])},t}(a.ListingMithrilThumb);t.ThumbBonga=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(490),r=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.renderThumb=function(e){return m("div",{class:"mls_item mls_so_"+e.sortOrder+" __mls_spygasm mls_skip","data-so":e.sortOrder},[m("div",{class:"thumbnail thumbnail_"+this.listing.getRealThumbSize(),"data-chathost":"spygasm","data-name":"spygasm"},[m("a",{href:"//spygasm.com"+(e.cameraUrl||""),className:"thm_a no_chat",title:"SpyGasm","data-external_url":!0,target:"_blank"},[m("img.profile_image",{src:e.thumbUrl,alt:"SpyGasm"}),m("span",{className:"sg_brd"},[m("span",{className:"sg_corner sg_lt sg_rec"}),m("span",{className:"sg_corner sg_rt"}),m("span",{className:"sg_corner sg_lb"}),m("span",{className:"sg_corner sg_rb"})]),m("span",{className:"sg_layer"})])])])},t}(a.ListingMithrilThumb);t.ThumbSpy=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.listing=e,this.params=t,this.$container=this.listing.$listingContainer,this.thumbWidth=this.$container.find(".mls_item").first().outerWidth(!0)}return e.prototype.detachHandlers=function(){this.$container.off("afterResize")},e.prototype.resize=function(){this.$container.triggerHandler("afterResize")},e.prototype.getThumbsPerRow=function(e){return this.currentThumbsPerRow=Math.floor(this.$container.width()/this.thumbWidth)||1,this.currentThumbsPerRow},e.prototype.getCurrentThumbsPerRow=function(){return this.currentThumbsPerRow||this.getThumbsPerRow("small"),this.currentThumbsPerRow},e.prototype.updateThumbWidth=function(e){},e}();t.default=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(241),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(617),o=function(e){function t(){var t=e.call(this)||this;return DI.inject(t,"$"),DI.inject(t,"modules","module-manager"),t.bindedHandler=null,t}return i(t,e),Object.defineProperty(t,"selector",{get:function(){return".all_models_by_letter_pager a"},enumerable:!0,configurable:!0}),t.prototype.start=function(){e.prototype.start.call(this);var n=this;this.bindedHandler=function(){var e=n.$(this),t=n.parseUrl(e);return!!n.ignoreUrl(e,t)||(n.contract.assert(this.constructor.name+"#start~href.length must be equal or more than  1",t.length>=1),n.emit(new r.default(t)),!1)},this.$(t.selector).on("click",this.bindedHandler)},t.prototype.stop=function(){e.prototype.stop.call(this),null!==this.bindedHandler&&(this.contract.assertType(""+this.constructor.name,"function",this.bindedHandler),this.$(t.selector).off("click",this.bindedHandler))},t.prototype.rebind=function(){this.stop(),this.start()},t}(a.default);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(373),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.rebindModules=function(t,n){e.prototype.rebindModules.call(this,t,n)},t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(618),o=function(e){function t(){var t=e.call(this)||this;return DI.inject(t,"$"),DI.inject(t,"modules","module-manager"),t.bindedHandler=null,t}return i(t,e),Object.defineProperty(t,"selector",{get:function(){return".alphabet > .letters > a"},enumerable:!0,configurable:!0}),t.prototype.start=function(){e.prototype.start.call(this);var n=this;this.bindedHandler=function(){var e=n.$(this),t=n.parseUrl(e);return!!n.ignoreUrl(e,t)||(n.contract.assert(this.constructor.name+"#start~href.length must be equal or more than  1",t.length>=1),n.emit(new r.default(t)),!1)},this.$(t.selector).on("click",this.bindedHandler)},t.prototype.stop=function(){e.prototype.stop.call(this),null!==this.bindedHandler&&(this.contract.assertType(""+this.constructor.name,"function",this.bindedHandler),this.$(t.selector).off("click",this.bindedHandler))},t.prototype.rebind=function(){this.stop(),this.start()},t}(a.default);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(241),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(619),o=n(467),s=n(177),l=n(420),c=function(t){function n(){var n=t.call(this)||this;return n.filterSearchClickHandler=function(){var e=n.modules.use("chat");e.isChatOpen&&e.collapse()},DI.inject(n,"$"),DI.inject(n,"modules","module-manager"),n.bindedHandler=null,e.isRunetki&&e(document).on("keydown","#model_search_display_name",function(t){13===t.which&&window.globalListing&&(n.filterSearchClickHandler(null),window.globalListing.filter.forceFilterSubmit(!0),e(".search_by_name_form").hide(),t.preventDefault())}),n}return i(n,t),Object.defineProperty(n.prototype,"selector",{get:function(){return"#mls_search_filters a"},enumerable:!0,configurable:!0}),n.prototype.start=function(){t.prototype.start.call(this);var n=this;if(0===e("#spa_search_wrapper").length){var i=e("body > #header"),a=e("body > .wrapper"),c=a.find("#search_above_top_banner"),u=e("<div>").attr("id","spa_search_wrapper");u.append(c),i.after(u)}e("#search_above_top_banner #mls_search_filters").slideUp(400),this.bindedHandler=function(e){var t=n.$(this),i=n.parseUrl(t);return!!n.ignoreUrl(t,i)||(n.contract.assert(this.constructor.name+"#start~href.length must be equal or more than  1",i.length>=1),n.emit(new r.default(i)),!1)},this.$(this.selector).on("click",this.bindedHandler),s.default.ToolBar_AttachEvents(),e(".saf_params_btn, .saf_search_btn").on("click",this.filterSearchClickHandler);var d=l.default.getSavedDisplayedState();d&&d.filterData&&window.globalListing&&window.globalListing.filter?window.globalListing.filter.setFilterData(d.filterData):o.default.instance.clearSearchForm()},n.prototype.stop=function(){t.prototype.stop.call(this),null!==this.bindedHandler&&(this.contract.assertType(""+this.constructor.name,"function",this.bindedHandler),this.$(this.selector).off("click",this.bindedHandler)),e(".saf_params_btn, .saf_search_btn").off("click",this.filterSearchClickHandler)},n.prototype.rebind=function(){this.stop(),this.start()},n}(a.default);t.default=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(373),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.process=function(n){t.prototype.process.call(this,n),this.tab=e.liveTab=n.name},n.prototype.rebindModules=function(e,n){t.prototype.rebindModules.call(this,e,n)},n}(a.default);t.default=r}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(612),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.default);t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(241),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.processHTML=function(t,n){var i=this.modules.use("chat");i.isVideoCollapsed&&!i.isChatOpen&&i.close(),e.prototype.processHTML.call(this,t,n)},t.prototype.rebindModules=function(t,n){this.modules.use("chat").open(n.chatHost,n.name),e.prototype.rebindModules.call(this,t,n)},t}(a.default);t.default=r},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(623),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.start=function(){t.prototype.start.call(this),e("#header.static-header").length||(new r.HeaderResize).init()},n}(a.default);t.default=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(66),o=n(823),s=n(56),l=n(536),c=n(5),u=n(15),d=function(t){function n(){var e=t.call(this)||this;return DI.inject(e,"$"),DI.inject(e,"window"),e.collapsedChat=null,e}return i(n,t),Object.defineProperty(n,"videoSelector",{get:function(){return"#stream-layer"},enumerable:!0,configurable:!0}),Object.defineProperty(n,"chatSelector",{get:function(){return"#mls_chatconsole"},enumerable:!0,configurable:!0}),Object.defineProperty(n,"chatContainerSelector",{get:function(){return"#bChat"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVideoOpen",{get:function(){return e(n.videoSelector).is(":visible")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isChatOpen",{get:function(){return e(n.chatSelector).is(":visible")&&!e("body").hasClass("chat_collapsed")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVideoCollapsed",{get:function(){return this.stickyPlayer.enabled},enumerable:!0,configurable:!0}),n.prototype.open=function(t,n){e("#mls_chatconsole").show(),e(document).trigger("chat:open"),this.stickyPlayer.disable();var i=this.window.chat;i&&i.initSpoof&&!i.isSpoofInit&&i.initSpoof()},n.prototype.close=function(e){void 0===e&&(e=!1),this.isVideoCollapsed&&this.stickyPlayer.disable(),e&&this.isVideoOpen&&this.$("#EmbedSWFHolder").find("#stream-layer").remove();var t=this.window.chat;t&&t.closeChat(!0)},n.prototype.collapse=function(t){void 0===t&&(t=!1),this.stickyPlayer.enable(),e("body").addClass("chat_collapsed"),e(document).trigger("chat:collapse"),e.bongacamsPopupClose(),e(".contextMenu").hide(),s.default.hideAll(),e("#ChangeFontFormTooltip").find(".close").click(),e("#member_cam_popup").find(".close").click(),e("#cancel-show-request").click(),e("#decline-request").click();var n=this.window.chat;n&&n.destroySpoof&&n.isSpoofInit&&n.destroySpoof()},n.prototype.start=function(){if(t.prototype.start.call(this),0===e("#spa_wrapper").length){var i=e(".content_frame, body > .wrapper"),r=i.find("#mls_chatconsole");i.before('<div id="spa_wrapper" class="clearfix"></div>'),e("#spa_wrapper").append(r),a.render(a.h(u.Provider,{store:c.default},a.h(l.default,null)),null,document.getElementById("stream-layer"))}this.stickyPlayer||(this.stickyPlayer=new o.FloatingPlayer("#stream-container")),e(n.chatContainerSelector).on("chat:getRoom",function(){e("#cancel-show-request").click(),e("#decline-request").click()}),e(n.chatContainerSelector).on("onBeforeGetRoom",function(){e.bongacamsPopupClose(),e(".contextMenu").remove(),e("#bChat .smilePanelInput").destroySmilePanel(),e("#ChangeFontFormTooltip").find(".close").click(),e("#member_cam_popup").find(".close").click()})},n.prototype.rebind=function(e){t.prototype.rebind.call(this,e)},n}(r.default);t.default=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(824),a=n(420),r=function(){function t(t){var n=this;if(this.playerWidthSizes=[{minWidth:0,width:270},{minWidth:1282,width:320}].sort(function(e,t){return e.minWidth-t.minWidth}),this.playerWidth=320,this.enabled=!1,this.timerShowGui=0,this.timerZMAX=0,this.scrollingEnabled=!0,this.timers=new i.TimersList,this.onScroll=function(){var t=e("#mls_chatconsole").is(":visible")&&!e("body").hasClass("chat_collapsed"),i=document.getElementById("ResizablePane");if(i&&t){var a=e(i),r=a.offset().top+a.height()/2;if(!n.scrollingEnabled){if(e(window).scrollTop()>r)return;n.scrollingEnabled=!0}n.toggle(e(window).scrollTop()>r)}},this.onResize=function(){if(n.enabled){var t=document.querySelector("#ResizablePane");if(null!==t){var i=document.querySelector("#stream-layer");if(null!==i&&n.updatePlayerWidth()){var a=e(t),r=n.playerWidth;n.timers.query(function(){var t=Math.max(1,a.width())/Math.max(1,a.height());e(i).css({width:r,height:r/t})},25)}}}},this.container=e(t),!this.container.length)return this;e(document).on("click",".hover_block",function(){window.chat&&window.chat.currentChathost&&(a.default.saveDisplayedState(chat.currentChathost),chat.updateHistoryState()),e("#mls_chatconsole").show(),e(document).trigger("chat:open"),n.disable(),window.scroll(0,0)}),e(document).on("click",".player_caption .btn-close",function(){var t=e("#mls_chatconsole"),i=t.is(":visible")&&!e("body").hasClass("chat_collapsed");e("#stream-layer").removeClass("player_animation"),i?t.show():(t.hide(),window.chat.closeRoom(!1,!0)),n.disable(),n.scrollingEnabled=!1}),e(document).on("chat:changeVideoHeight",this.onResize),e(window).on("scroll",this.onScroll),e(window).on("resize.fp",this.onResize),this.onScroll()}return t.prototype.updatePlayerWidth=function(){for(var e=window.innerWidth,t=this.playerWidthSizes[0].width,n=this.playerWidthSizes.length;--n>=1;){var i=this.playerWidthSizes[n];if(e>=i.minWidth){t=i.width;break}}var a=this.playerWidth!==t;return this.playerWidth&&(this.playerWidth=t),a},t.prototype.enable=function(){var t=this;if(e.isModerator||this.enabled)return this;this.enabled=!0,this.scrollingEnabled=!0,e("#stream-layer").addClass("player_animation");var n=window.innerHeight;this.updatePlayerWidth();var i=document.querySelector("#stream-layer");if(null===i)return this;clearTimeout(this.timerZMAX),this.timerZMAX=0;var a=i.getBoundingClientRect(),r=e("#ResizablePane");return e(i).css({width:r.width(),height:r.height(),transition:"none"}),e(i).addClass("zmax"),this.timers.query(function(){e(i).css({transition:"",position:"fixed",top:"auto",bottom:n-a.bottom})},25),this.timers.query(function(){var n=Math.max(1,r.width())/Math.max(1,r.height()),a=t.playerWidth;e(i).css({left:10,bottom:10,width:a,height:a/n})},25),this.timerShowGui=window.setTimeout(function(){e(i).addClass("player_gui")},400),this},t.prototype.disable=function(){if(!this.enabled)return this;this.enabled=!1,e("body").removeClass("chat_collapsed");var t=document.querySelector("#stream-layer");if(null===t)return this;clearTimeout(this.timerShowGui),this.timerShowGui=0;var n=t.getBoundingClientRect(),i=window.pageXOffset+n.left,a=window.pageYOffset+n.top;return e(t).removeClass("player_gui"),e(t).find("#stream-container").hasClass("__overlay")&&0===e("#bongacams_popup").find(".js-tap_popup").length&&e("#stream-container").removeClass("__overlay"),e(t).css({position:"absolute",bottom:"",left:i,top:a}),this.timers.query(function(){e(t).css({position:"",top:"",left:"",width:"",height:"",bottom:""})},25),this.timerZMAX=window.setTimeout(function(){e(t).removeClass("zmax"),e(t).removeClass("player_animation")},400),this},t.prototype.toggle=function(e){return e?this.enable():this.disable()},t}();t.FloatingPlayer=r}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.list=[]}return e.prototype.query=function(e,t){var n=0===this.list.length;this.list.push({callback:e,delay:t}),n&&this.next()},e.prototype.next=function(){if(this.list.length){var e=this.list[0],t=this;setTimeout(function(){e.callback(),t.list.shift(),t.next()},e.delay)}},e}();t.TimersList=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(622),o=function(e){function t(){var t=e.call(this)||this;return DI.inject(t,"$"),t.bindedHandler=null,t}return i(t,e),Object.defineProperty(t,"delegatedSelectors",{get:function(){return["#visited_room_list a.chat",".mls_models_container a:not(.mls_pager_page):not(.first):not(.prev):not(.last):not(.next):not(.chat):not(.homepage)"].join(",")},enumerable:!0,configurable:!0}),t.prototype.start=function(){e.prototype.start.call(this);var n=this;this.bindedHandler=function(){var e=n.$(this),t=n.parseUrl(e);if(n.ignoreUrl(e,t))return!0;n.contract.assert(this.constructor.name+"#start~href.length must be equal or more than  1",t.length>=1);var i=e.parents("[data-chathost]").data("chathost");n.contract.assertString(this.constructor.name+"#start~chatHost",i);var a=e.parents("[data-chathost]").data("name");return n.contract.assertString(this.constructor.name+"#start~name",a),n.emit(new r.default(t,i,a)),!1},this.$("body").on("click",t.delegatedSelectors,this.bindedHandler)},t.prototype.stop=function(){e.prototype.stop.call(this),null!==this.bindedHandler&&(this.contract.assertType(""+this.constructor.name,"function",this.bindedHandler),this.$("body").off("click",t.delegatedSelectors,this.bindedHandler))},t}(a.default);t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(620),o=function(e){function t(){var t=e.call(this)||this;return DI.inject(t,"$"),DI.inject(t,"modules","module-manager"),t.bindedHandler=null,t.tab=t.$.liveTab,t}return i(t,e),Object.defineProperty(t,"selector",{get:function(){return"#mls_tabs > li > a"},enumerable:!0,configurable:!0}),t.prototype.start=function(){e.prototype.start.call(this);var n=this;this.bindedHandler=function(){var e=n.$(this),t=n.parseUrl(e);if(n.ignoreUrl(e,t))return!0;n.contract.assert(this.constructor.name+"#start~href.length must be equal or more than  1",t.length>=1);var i=n.modules.use("chat");return i.isChatOpen&&i.collapse(),n.tab=e.attr("data-type")||n.$.livetab||n.tab,n.emit(new r.default(t,e.attr("data-type"))),!1},this.changeTabHandler=function(e,t){return n.tab=t||n.$.livetab||n.tab,n.$.liveTab=n.tab,!1},this.$(t.selector).on("click",this.bindedHandler)},t.prototype.stop=function(){e.prototype.stop.call(this),null!==this.bindedHandler&&(this.contract.assertType(""+this.constructor.name,"function",this.bindedHandler),this.$(t.selector).off("click",this.bindedHandler))},t.prototype.rebind=function(){this.stop(),this.start()},t}(a.default);t.default=o},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(243),o=n(613),s=n(621),l=function(t){function n(){var e=t.call(this)||this;DI.inject(e,"$"),DI.inject(e,"modules","module-manager");var n=e;return e.bindedNavigationPanelHandler=function(){var e=n.$(this),t=n.parseUrl(e);if(n.ignoreUrl(e,t))return!0;if(n.contract.assert(this.constructor.name+"#start~href.length must be equal or more than 1",t.length>=1),t.endsWith("/all-models"))n.emit(new s.default(t));else{if(e.attr("onclick"))return!0;n.emit(new r.default(t))}return n.updateWidgets(t),!1},e.bindedLogoHandler=function(){var e=n.$(this),t=n.parseUrl(e);return!!n.ignoreUrl(e,t)||(n.contract.assert(this.constructor.name+"#start~href.length must be equal or more than  1",t.length>=1),n.emit(new o.default(t)),!1)},e}return i(n,t),Object.defineProperty(n,"navigationPanelSelector",{get:function(){return".navigation a"},enumerable:!0,configurable:!0}),Object.defineProperty(n,"logoSelector",{get:function(){return".logo a, .logo-link"},enumerable:!0,configurable:!0}),n.prototype.updateWidgets=function(e){var t=this.modules.use("chat");t.isVideoOpen&&t.collapse()},n.prototype.start=function(){t.prototype.start.call(this),this.$(n.navigationPanelSelector).on("click",this.bindedNavigationPanelHandler),this.$(n.logoSelector).on("click",this.bindedLogoHandler)},n.prototype.stop=function(){t.prototype.stop.call(this),null!==this.bindedNavigationPanelHandler&&(this.contract.assertType(this.constructor.name+"#stop~_bindedNavigationPanelHandler","function",this.bindedNavigationPanelHandler),this.$(n.navigationPanelSelector).off("click",this.bindedNavigationPanelHandler)),null!==this.bindedLogoHandler&&(this.contract.assertType(this.constructor.name+"#stop~_bindedLogoHandler","function",this.bindedLogoHandler),this.$(n.logoSelector).off("click",this.bindedLogoHandler))},n.prototype.rebind=function(n,i){t.prototype.rebind.call(this,n,i),this.stop(),this.start(),e.isRunetki?e(".navigation-right .open_search_filter, .navigation-right .search_by_name").toggle(i.url.indexOf("/cybersale")<0&&i.url.indexOf("/free-tokens")<0&&i.url.indexOf("/prices")<0):e(".navigation .open_search_filter").toggle(i.url.indexOf("/cybersale")<0&&i.url.indexOf("/free-tokens")<0&&i.url.indexOf("/prices")<0&&i.url.indexOf("/all-models")<0),e.isRunetki&&e(".navigation-right .search_by_name_form").hide(),e(document).trigger("header:change")},n}(a.default);t.default=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=function(t){function n(){var n=t.call(this)||this;return DI.inject(n,"$"),e(document).on("chat:visibility",function(){var t=window.chat&&"visible"===window.chat.visibility;e(".model_categories_list .toolbar_control").toggleClass("mini",!t).toggle(t),e(".model_categories_list .model_categories_panel").show(),e(".menu_container .navbar_cashback, .menu_container .navbar_free_tokens").toggle(t),e(".menu_container .cashback_panel, .menu_container .free_tokens_panel").toggle(!t),e(".menu_container .navbar_cashback .toolbar_control, .menu_container .navbar_free_tokens .toolbar_control").toggleClass("mini",t)}),n}return i(n,t),n.prototype.start=function(){t.prototype.start.call(this),e(".cashback_panel").off("click").on("click",function(){location.href=e(this).find(".more a").attr("href")});var n=window.cashbackPanelCountdown;n&&e(".countdown").countdown({htmlTemplate:n.htmlTemplate,date:n.targetDate,updateTime:200,serverTime:n.serverTime,hoursOnly:!0,leadingZero:!0})},n.prototype.stop=function(){t.prototype.stop.call(this),e(".cashback_panel").off("click")},n.prototype.rebind=function(){this.stop(),this.start()},n}(a.default);t.default=r}).call(t,n(0))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(208),o=function(e){function t(){var t=e.call(this)||this;return DI.inject(t,"$"),t.widget=r.default.instance,t.widget.refresh(),t}return i(t,e),t.prototype.start=function(){e.prototype.start.call(this)},t.prototype.stop=function(){e.prototype.stop.call(this)},t.prototype.rebind=function(t){e.prototype.rebind.call(this,t),this.widget.refresh(),this.stop(),this.start()},t}(a.default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){DI.inject(this,"http","http-loader"),DI.inject(this,"contract")}return e.prototype.loadHTML=function(e,t){this.contract.assertString("ContentLoader~loadHTML",e),this.contract.assert("ContentLoader~loadHTML require string with >= 1 length",e.length>=1),this.contract.assertFunction("ContentLoader~loadHTML",t),this.http.load(e,t)},e.prototype.loadFullHTML=function(e,t){this.contract.assertString("ContentLoader~loadFullHTML",e),this.contract.assert("ContentLoader~loadFullHTML require string with >= 1 length",e.length>=1),this.contract.assertFunction("ContentLoader~loadFullHTML",t),this.http.loadRaw(e,t)},e}();t.default=i},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.rebind=function(n,i){t.prototype.rebind.call(this,n,i),"function"==typeof e.ajaxLoadBanners&&e.ajaxLoadBanners()},n}(a.default);t.default=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=function(t){function n(){var e=t.call(this)||this;return e.isCybersaleInited=!1,e}return i(n,t),n.prototype.start=function(){t.prototype.start.call(this)},n.prototype.rebind=function(n,i){t.prototype.rebind.call(this,n,i),i.url.indexOf("/cybersale")>=0?(e(document).trigger("cybersale:page"),this.isCybersaleInited||(e.noticeSocket&&e.noticeSocket.send({type:"cs",data:{action:"subscribe"}}),this.isCybersaleInited=!0)):this.isCybersaleInited&&(e.noticeSocket&&e.noticeSocket.send({type:"cs",data:{action:"unsubscribe"}}),this.isCybersaleInited=!1)},n}(a.default);t.default=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(66),r=n(834),o=function(t){function n(){var e=t.call(this)||this;return DI.inject(e,"$"),DI.inject(e,"graphql"),e.seoContentCache=new r.default({cache:new Map,TTL:2}),e}return i(n,t),Object.defineProperty(n.prototype,"seoBoxFetchCallback",{get:function(){var e=this;return function(t,n){!t&&n?(e.seoContentCache.set(e.hashMapSelector,n),e.render(n)):console.error(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"seoBoxHTMLElement",{get:function(){var t=document.querySelector("."+n.className);return t||(t=document.createElement("div"),t.className=n.className,e(t).insertAfter("."+n.wrapperClassName)),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hashMapSelector",{get:function(){return r.default.hashSelector([window.globalListing.livetab,window.globalListing.category,window.globalListing.isChatOpened()])},enumerable:!0,configurable:!0}),n.fixDuplicateOrEmptySeoFooter=function(){var t=e("."+n.className);t.length>1?t.not(":first").hide():t.text()?t.show():t.hide()},n.prototype.start=function(){t.prototype.start.call(this)},n.prototype.stop=function(){t.prototype.stop.call(this)},n.prototype.rebind=function(t,i){if(this.stop(),this.start(),t||e("."+n.wrapperClassName).find("."+n.className).length||!window.globalListing)return void n.fixDuplicateOrEmptySeoFooter();var a=this.seoContentCache.get(this.hashMapSelector);!this.seoContentCache.isEmpty&&a?this.render(a):this.fetchContent(this.queryBuilder({livetab:'"'+window.globalListing.livetab+'"',onlineOnly:!0,customSeoH1:null,tag:null,category:'"'+window.globalListing.category+'"',isHomePage:!1,page:1,lang:'"'+window.globalListing.initData.lang+'"',isChatOpened:window.globalListing.isChatOpened()}))},n.prototype.fetchContent=function(e){this.graphql.send(e,this.seoBoxFetchCallback)},n.prototype.render=function(e){try{this.renderSeoBoxFooter(e.svListing),this.renderHeadMetaTags(e.svMeta)}catch(e){console.error(e)}},n.prototype.renderSeoBoxFooter=function(e){if(e){var t=this.seoBoxHTMLElement;if(t){var n=e.seoH2,i=e.seoParagraph,a=e.seoFooterText,r=this.$(t).empty();n&&r.append("<h2>"+n+"</h2>"),i&&r.append('<p class="seo_paragraph">'+i+"</p>"),a&&r.append(a)}}},n.prototype.renderHeadMetaTags=function(e){if(e){var t=document.querySelector("head");if(t){var n=e.metaTitle,i=e.metaDescription,a=e.metaKeywords;n&&(t.querySelector("title").text=n),i&&this.renderTag("description",i,t),a&&this.renderTag("keywords",a,t)}}},n.prototype.renderTag=function(t,n,i){var a=i.querySelector('meta[name="'+t+'"]'),r=document.createElement("meta");r.name=t,r.content=n,e(a).replaceWith(r)},n.prototype.queryBuilder=function(e){return{query:"{\n        svMeta(\n            livetab: "+e.livetab+",\n            tag: "+e.tag+",\n            category: "+e.category+",\n            lang: "+e.lang+",\n        ) {\n            metaTitle,\n            metaDescription,\n            metaKeywords\n        }\n        svListing(\n            livetab: "+e.livetab+",\n            onlineOnly: "+e.onlineOnly+",\n            customSeoH1: "+e.customSeoH1+",\n            tag: "+e.tag+",\n            category: "+e.category+",\n            lang: "+e.lang+",\n            isHomePage: "+e.isHomePage+",\n            page: "+e.page+",\n            isChatOpened: "+e.isChatOpened+",\n        ) {\n            seoH1,\n            seoUnderH1Text,\n            seoH2,\n            seoParagraph,\n            seoFooterText\n        }\n      }"}},n.wrapperClassName="wrapper",n.className="seo_box",n}(a.default);t.default=o}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(835),a=function(){function e(e){var t=this,n=e.byMinutes?6e4:36e5;this.refreshmentInstance=e.cache,this.cache=e.cache,this.isEmpty=!0,setTimeout(function(){return t.refresh()},n*e.TTL)}return e.hashSelector=function(e){var t;return"string"==typeof e?t=e:Array.isArray(e)&&(t=e.join("")),i.default(t)},e.prototype.refresh=function(){this.cache=this.refreshmentInstance,this.isEmpty=!0},e.prototype.set=function(e,t){this.cache.set(e,t),this.isEmpty=!1},e.prototype.get=function(e){return this.cache.get(e)},e}();t.default=a},function(e,t,n){"use strict";function i(e){for(var t,n="",i=7;i>=0;--i)t=e>>>(i<<2)&15,n+=t.toString(16);return n}function a(e,t){return e<<t|e>>>32-t}function r(e){e=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)}),e=e.replace(/[\u0080-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)});for(var t=e.length,n=new Uint8Array(t),i=0;i<t;++i)n[i]=e.charCodeAt(i);return n.buffer}function o(e){var t,n,o=r(String(e)),s=1732584193,u=4023233417,d=2562383102,h=271733878,p=3285377520,f=o.byteLength,m=f<<3,g=m+65,v=Math.ceil(g/512)<<9,b=v>>>3,y=b>>>2,_=new c(y),w=_.bytes,S=new Uint32Array(80),C=new Uint8Array(o);for(t=0;t<f;++t)w[t]=C[t];for(w[f]=128,_.set(y-2,Math.floor(m/l)),_.set(y-1,4294967295&m),t=0;t<y;t+=16){for(n=0;n<16;++n)S[n]=_.get(t+n);for(;n<80;++n)S[n]=a(S[n-3]^S[n-8]^S[n-14]^S[n-16],1);var k=s,T=u,P=d,x=h,E=p,O=void 0,D=void 0,A=void 0;for(n=0;n<80;++n)n<20?(O=T&P|~T&x,D=1518500249):n<40?(O=T^P^x,D=1859775393):n<60?(O=T&P^T&x^P&x,D=2400959708):(O=T^P^x,D=3395469782),A=a(k,5)+O+E+D+S[n]&4294967295,E=x,x=P,P=a(T,30),T=k,k=A;s=s+k&4294967295,u=u+T&4294967295,d=d+P&4294967295,h=h+x&4294967295,p=p+E&4294967295}return i(s)+i(u)+i(d)+i(h)+i(p)}Object.defineProperty(t,"__esModule",{value:!0});var s=Math.pow(2,24),l=Math.pow(2,32),c=function(){function e(e){this.bytes=new Uint8Array(e<<2)}return e.prototype.get=function(e){return e<<=2,this.bytes[e]*s+(this.bytes[e+1]<<16|this.bytes[e+2]<<8|this.bytes[e+3])},e.prototype.set=function(e,t){var n=Math.floor(t/s),i=t-n*s;e<<=2,this.bytes[e]=n,this.bytes[e+1]=i>>16,this.bytes[e+2]=i>>8&255,this.bytes[e+3]=255&i},e}();t.default=o},function(e,t,n){"use strict";function i(e,t,n){void 0===n&&(n={});for(var a,r=/\.\.\.\s*([_A-Za-z][_0-9A-Za-z]*)\s/g;null!==(a=r.exec(e));){var o=a[1];"on"!==o&&!n[o]&&t[o]&&(n[o]=t[o],i(t[o],t,n))}return n}function a(e,t,n,i){var a=[];for(var r in i)a.push(i[r]);e=[e].concat(a).join("\n");var o={query:e};return t&&(o.variables=t),n&&(o.operationName=n),o}function r(e,t){var n=function(e){e.name="GQLClientRequestError",t(e,null)},i=new XMLHttpRequest;return i.open("POST",e),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Accept","application/json"),i.onload=function(){if(i.status<200||i.status>299)return n(new Error("request status code is "+i.status));var e="string"==typeof i.response?o.json_parse(i.response):i.response;if(!e||!e.data&&!e.errors)return n(new Error("invalid response "+JSON.stringify(e)));if(e.errors){var a=new Error("the GraphQL response has errors "+JSON.stringify(e.errors));a.name="GQLClientQueryError",a.raw=e.errors,t(a,null)}else t(null,e.data)},i.onerror=n,i}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),s=function(){function e(e){void 0===e&&(e={}),this.opts={url:e.url||"/graphql",sendModifier:e.sendModifier||null},this.fragments={}}return e.prototype.storeFragment=function(e){var t=/fragment\s*([_A-Za-z][_0-9A-Za-z]*)\s/,n=t.exec(e);if(!n)throw new Error("GQLClient.storeFragment() - no fragment name found!");var i=n[1];return this.fragments[i]=e.trim(),i},e.prototype.removeFragment=function(e){delete this.fragments[e]},e.prototype.send=function(e,t){var n=e.query||e.mutation,o=e.variables,s=e.operationName,l=e.sendModifier||this.opts.sendModifier,c=i(n,this.fragments),u=a(n,o,s,c),d=r(this.opts.url,t);if(l){var h=l({xhr:d,body:u});u=h.body,d=h.xhr}d.send(JSON.stringify(u))},e}();t.default=s},function(e,t,n){"use strict";(function(e){function i(){var t=a.default.getState().urls;t.checkAuth&&e.ajax({url:t.checkAuth,dataType:"json",success:function(e){e&&e.user_auth?window.setTimeout(i,18e6):window.location.reload()},error:function(e,t,n){window.console&&window.console.log(n)}})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5);t.checkAuth=i}).call(t,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(245),n(463),n(343),n(303),n(423),n(545),n(431),n(391),n(386),n(282),n(433),n(465),n(345),n(427),n(388),n(539),n(782),n(209),n(547),n(468),n(480),n(482),n(483),n(485),n(279),n(438),n(439),n(440),n(486),n(487),n(356),n(389),n(238),n(422),n(1696),n(784)},function(e,t,n){"use strict";(function(e){function i(e,t){return Math.floor(Math.random()*(t-1)+e)}Object.defineProperty(t,"__esModule",{value:!0});var a,r,o,s=n(7),l=null;e.extend(window.chat,{isSpoofInit:!1,isSendingChatBoxMessage:!1,chatBoxes:{},chatBoxFocus:{},chatBoxNewMessages:{},createChatBox:function(t,n){if(this.isSpoofInit){var i=t.username,r=e("#chat_spoof_wrapper");if(this.debug("createChatBox:"+i),this.hasChatBox(i))return this.isChatBoxClosed(i)?(e("#chatbox_"+i).css("display","block"),this.redrawChatBoxes()):this.isChatBoxMinimized(i)&&this.minimizeChatBox(i),void e("#chatbox_"+i+" .sendInput").focus();var o=r.html();o=o.replace("%username%",i),o=o.replace(new RegExp("%displayName%","g"),t.displayName),e("body").append(o);var l=e("#chatbox_"+i);l.css("bottom","0px"),l.removeClass("chatbox_mockup");var c=0,u=s.isRTLCulture?"left":"right";for(var d in this.chatBoxes)"none"!==e("#chatbox_"+d).css("display")&&c++;if(0===c)l.css(u,"20px");else{var h=232*c+20;l.css(u,h+"px")}this.chatBoxes[i]=t,this.chatBoxFocus[i]=!1;var p=this;e("#chatbox_"+i+" .sendInput").blur(function(){p.chatBoxFocus[i]=!1,e("#chatbox_"+i+" .sendInput").removeClass("sendInputSelected")}).focus(function(){p.chatBoxFocus[i]=!0,p.chatBoxNewMessages[i]=!1,clearInterval(e("#chatbox_"+i)[0].blinkInt),e("#chatbox_"+i)[0].blinkInt=0,e("#chatbox_"+i+" .head").removeClass("blink"),e("#chatbox_"+i+" .sendInput").addClass("sendInputSelected")}),l.click(function(){"none"!==e("#chatbox_"+i+" .sendInput").css("display")&&e("#chatbox_"+i+" .sendInput").focus()}),l.show(),p.trackSpoofIm(0),l.on("click","a",function(){if(p.trackSpoofIm(1),1===a)return chat.signupPopup(!0,a)}),l.find(".minimize").on("click",function(){chat.minimizeChatBox(i)}),l.find(".close").on("click",function(){chat.closeChatBox(i)}),l.find(".sendInput").keydown(function(e){chat.checkChatBoxInputKey(e,i)}),l.find(".sendButton").on("click",function(){chat.sendChatBoxMessage(i)});var f=l.find(".sendButton").width(),m=l.find(".inputContainer").width();l.find(".sendInput").css("width",m-f-20+"px"),n&&e("#chatbox_"+i+" .sendInput").focus(),e("#bChat").bind("onCurrentChathostChange",this.destroySpoof)}},redrawChatBoxes:function(){var t=0;for(var n in this.chatBoxes)if("none"!==e("#chatbox_"+n).css("display")){if(0===t)e("#chatbox_"+n).css("right","20px");else{var i=232*t+20;e("#chatbox_"+n).css("right",i+"px")}t++}},minimizeChatBox:function(t){return this.isChatBoxMinimized(t)?(e("#chatbox_"+t+" .sp_history").css("display","block"),e("#chatbox_"+t+" .inputContainer").css("display","block"),e("#chatbox_"+t+" .sp_history").scrollTop(e("#chatbox_"+t+" .sp_history")[0].scrollHeight)):(e("#chatbox_"+t+" .sp_history").css("display","none"),e("#chatbox_"+t+" .inputContainer").css("display","none"),e(".typing_note").hide()),!1},closeChatBox:function(t){return e("#chatbox_"+t).css("display","none"),this.redrawChatBoxes(),!1},hasChatBox:function(t){return e("#chatbox_"+t).length>0},isChatBoxClosed:function(t){return"none"===e("#chatbox_"+t).css("display")},isChatBoxMinimized:function(t){return"none"===e("#chatbox_"+t+" .sp_history").css("display")},checkChatBoxInputKey:function(e,t){if(13===e.keyCode)return this.sendChatBoxMessage(t),!1},sendChatBoxMessage:function(t){var n=e("#chatbox_"+t+" .sendInput"),i=n.data("tokens"),s=e("#chatbox_"+t+" .sp_history");if(!this.isSendingChatBoxMessage){if(this.isSendingChatBoxMessage=!0,a>1){var l='<p class="message guest"><span class="icon_avatar"><img class="profile" src="/images/frontend/im/guest.png"></span><span><dfn>'+__("Guest")+':&nbsp;</dfn><span class="msg">'+n.val().replace(/(<([^>]+)>)/gi,"")+"</span></span></p>";this.addMessage(l,s)}var c,u=e("body").hasClass("chatPopupBody"),d=u?' onclick="return chat.signupPopup(true)"':"",h=u?"":' rel="signup"';switch(a){case 2:c=__("We are very sorry but guests are not allowed to chat")+'. <a spoof_sid="'+a+'" '+(1===a?"":h)+'href="javascript:void(0)"'+d+">"+__("Click here to create a 100% FREE account")+"</a> "+__("and start chatting with your favourite models")+"!";break;case 3:c=__("Only registered users are allowed to chat with models")+'. <a spoof_sid="'+a+'" '+(1===a?"":h)+'href="javascript:void(0)"'+d+">"+__("Create a 100% FREE account here")+"</a>, "+__("and we will give you %amount% TOKENS after you sign up",{amount:i})+"!";break;case 4:o?c=__("Only registered users are allowed to chat with models")+'. <a spoof_sid="'+a+'" '+(1===a?"":h)+'href="javascript:void(0)"'+d+">"+__("Create a 100% FREE account here")+"</a>, "+__("and we will give you %amount% TOKENS after you sign up",{amount:i})+"!":(c=!1,s.scrollTop(1e4),e(".typing_note").show(),setTimeout(function(){e(".typing_note").hide(),o=!0,chat.incomingChatBoxMessage(__("I can't chat with guests :(")+'. <a spoof_sid="'+a+'" '+(1===a?"":h)+'href="javascript:void(0)"'+d+">"+__("Create a FREE account here %a2%, to continue our conversation.").replace("%a2%","</a>")+__("After signing up you will get %amount% tokens for free! See you!",{amount:i})+"!",chat.performerData,chat.userData),chat.isSendingChatBoxMessage=!1},2e3));break;case 5:c='<a spoof_sid="'+a+'" '+h+'href="javascript:void(0)"'+d+">"+__("Sign up free%a2% right now! You will be able to chat to models right away").replace("%a2%","</a>")+"!";break;case 6:o?c=__("Only registered users are allowed to chat with models")+'. <a spoof_sid="'+a+'" '+(1===a?"":h)+'href="javascript:void(0)"'+d+">"+__("Create a 100% FREE account here")+"</a>, "+__("and we will give you %amount% TOKENS after you sign up",{amount:i})+"!":(c=!1,s.scrollTop(1e4),e(".typing_note").show(),setTimeout(function(){e(".typing_note").hide(),o=!0,chat.incomingChatBoxMessage('<a spoof_sid="'+a+'" '+(1===a?"":h)+'href="javascript:void(0)"'+d+">"+__("Sign up free%a2% I will be able to talk to you in the chat! ;)").replace("%a2%","</a>")+"<br>"+__("In addition, you will get %amount% Tokens as a gift - but only if you do it right now",{amount:i})+"!",chat.performerData,chat.userData),chat.isSendingChatBoxMessage=!1},2e3));break;default:c=__("We are sorry but guests are not allowed to chat")+'. <a spoof_sid="'+a+'" '+(1===a?"":h)+'href="javascript:void(0)"'+d+">"+__("Click here to create a 100% FREE account")+"</a> "+__("and begin chatting with your favorite models")+"!"}return c&&e("#chatbox_"+t).length>0&&(this.addMessage('<p class="alert guest_chat_alert">'+c+"</p>",s),setTimeout(function(){chat.isSendingChatBoxMessage=!1},500)),n.val(""),n.focus(),clearTimeout(r),!1}},incomingChatBoxMessage:function(t,n,i){if(this.isSpoofInit){var r=n.username===this.userData.username?i:n.username;if(this.debug("incomingPrivateMessage from: "+n.username),this.hasChatBox(r)){if(this.isChatBoxClosed(r))e("#chatbox_"+r).css("display","block"),this.redrawChatBoxes();else if(this.isChatBoxMinimized(r)){var o=e("#chatbox_"+r)[0];o.blinkInt||(o.blinkInt=window.setInterval(function(){e("#chatbox_"+r+" .head").toggleClass("blink")},1e3))}}else this.createChatBox(n,!1);var s=e("#chatbox_"+r).find(".sp_history"),l=this.formatMessage(t,n,"spoof",s);a>1&&l.css({"font-size":"",color:"","font-family":"","font-weight":""}),this.addMessage(l,s)}},trackSpoofIm:function(t){e.get(e("#chat_spoof_wrapper").data("track_url")+e("#chat_spoof_wrapper").data("version"),{act:t})},initSpoof:function(){function t(a){if(window.chat&&chat.performerData&&window.chat.isSpoofInit&&!(l&&l+18e4>(new Date).getTime())&&"public"===chat.performerStatus&&!e("#bChat .video_limit_alert").length){var o=chat.performerData;o.isPerformer=!0,o.role="model",a?(chat.incomingChatBoxMessage(n[i(0,n.length)],o,chat.userData),r=setTimeout(function(){t(!1)},1e3*i(10,30)),l=(new Date).getTime()):r=setTimeout(function(){chat.incomingChatBoxMessage(s[i(0,s.length)],o,chat.userData)},1e3)}}a=parseInt(e("#chat_spoof_wrapper").data("version"))||0,o=!1;var n,s;switch(a){case 5:n=[__("Have any special requests? ;)")];break;case 6:n=[__("Tell me, what turns you on?")];break;default:n=[__("Hey hun, how u doing?"),__("Hey! How are you?"),__("Wanna have some fun bb? :)"),__("How are you? :girl_kiss"),__("Hello cutie ;)")]}s=[__("Where are you? Why u don't answer :("),__("Are you here hun?"),__("Where have you gone?")];var c=e("#bChat");e.ajaxLoadBannersUrl&&c.bind("onUserData",function(e){window.chat&&(window.chat.isSpoofInit=!0),r=setTimeout(function(){t(!0)},1e4)}),c.bind("onRoomClose",this.destroySpoof)},destroySpoof:function(){window.chat&&(window.chat.isSpoofInit=!1,window.chat.chatBoxes={}),e(".chatbox:not(.chatbox_mockup)").remove(),clearTimeout(r),l=null}}),e(function(){window.chat&&window.chat.initSpoof()})}).call(t,n(0))}]);