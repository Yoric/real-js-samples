(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"06a9":function(e,t,n){e.exports={wrap:"_1453USeV4PZn",icons:"_26-y-xDiKalc",content:"_2UMH_0NCFYb1",avatar:"_1gdcZdnJj5IW",title:"_2kV5cvPO7grL",nick:"p4mFVoB5HhdS",description:"hE55UATKlUlG"}},"2d7e":function(e,t,n){"use strict";n.r(t);var a=n("d869"),o=n.n(a),r=n("1029"),i=n("8af1"),s=n.n(i),c=n("28be"),m=n("b912"),l=n.n(m),u=n("089a"),d=n("08f3"),p=n("1cab"),f=n("e6c0"),h=n("ea56"),y=n.n(h),g={Aaron:"m-10",Aart:"m-4",Adam:"m-2",Adrien:"m-8",Aiden:"f-9",Alaric:"m-9",Alba:"m-10",Alice:"f-10",Allen:"m-6",Ana:"f-2",Anderson:"m-10",Anton:"m-5",Archer:"m-6",Ash:"m-3",Atticus:"m-10",Austin:"m-10",Barnaby:"m-7",Ben:"m-1",Benson:"m-1",Benton:"m-7",Blaze:"m-2",Brian:"m-2",Brock:"m-9",Brooklyn:"m-4",Bruce:"m-3",Butch:"m-9",Byron:"m-9",Cadence:"f-1",Caleb:"m-7",Calvin:"m-3",Castiel:"m-9",Cedric:"m-1",Cel:"m-3",Charles:"m-8",Chester:"m-5",Chiron:"m-8",Chloe:"m-5",Claudia:"f-5",Clay:"m-7",Cloud:"m-4",Cooper:"m-7",Craig:"m-3",Creed:"m-4",Dani:"f-5",Daniel:"m-2",Dante:"m-9",Darien:"m-4",Darius:"m-1",David:"m-9",Dean:"m-2",Devin:"m-10",Dex:"m-6",Diana:"f-9",Donnie:"m-8",Dorothy:"f-7",Drake:"m-5",Dudley:"m-5",Duncan:"m-4",Edward:"m-3",Ellie:"f-4",Enzo:"m-3",Ezra:"m-4",Floki:"m-1",Flynn:"m-7",Frances:"m-5",Frey:"m-5",Fry:"m-5",George:"m-8",Grace:"f-8",Gustav:"m-4",Hank:"m-8",Harvey:"m-1",Henry:"m-8",Hudson:"m-2",Igor:"m-6",Jack:"m-10",Jackie:"m-3",Jackson:"m-7",Jade:"m-1",Jakkal:"m-4",James:"m-3",Jared:"m-1",Jason:"m-10",Jasper:"m-7",Jeff:"m-10",Jess:"m-3",Joe:"m-3",Johan:"m-2",Joseph:"m-1",Josh:"m-10",Joshua:"m-8",Joyce:"m-1",Judie:"f-2",Justin:"m-6",Kaiden:"m-1",Karoline:"f-1",Kate:"f-10",Kendall:"m-4",Kev:"m-2",Laurent:"m-6",Lebron:"m-9",Leo:"m-6",Leslie:"m-6",Lewis:"m-2",Liv:"f-8",Liz:"f-2",Louie:"m-9",Lucius:"m-5",Luke:"m-6",Ly:"m-9",Marcus:"m-6",Mark:"m-2",Marshall:"m-9",Maximilian:"m-8",Mia:"f-7",Mick:"m-3",Mike:"m-4",Mir:"m-1",Monica:"f-6",Nathan:"m-6",Nathaniel:"m-7",Neil:"m-5",Nero:"m-7",Nick:"m-8",Nicklaus:"m-2",Nico:"m-6",Nicole:"f-6",Nolan:"m-7",Olive:"m-2",Peter:"m-4",Philip:"m-6",Phoenix:"m-10",Randy:"m-1",Ray:"m-9",Reese:"f-1",Remy:"m-8",Robin:"m-2",Roger:"m-5",Roy:"m-1",Rusty:"m-4",Sam:"m-6",Samuel:"m-9",Sara:"f-4",Sasha:"m-2",Saul:"m-10",Sawyer:"m-5",Shepherd:"m-3",Simon:"m-5",Sinclair:"m-1",Spencer:"m-8",Stan:"m-2",Stephen:"m-7",Stewart:"m-8",Syd:"m-3",Theo:"m-3",Tiffany:"f-3",Tony:"m-4",Trevor:"m-8",Tyler:"m-10",Violet:"f-3",Walker:"m-7",Walter:"m-9",Walther:"m-5",Weston:"m-6",Will:"m-5",William:"m-7",Winston:"m-8",Wulfric:"m-10",Xander:"m-4",Zack:"m-7"};function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var v=r.Config.get("staticUrl"),S=function(e){var t=e.className,n=e.nick,a=C(e,["className","nick"]),o=function(e){return g[e]}(n);return s.a.createElement("div",b({},a,{className:l()(y.a.avatar,t),style:o?{backgroundImage:"url(".concat(v,"image/background/support-chat-avatars/").concat(o,".jpg)")}:null}),!o&&s.a.createElement(f.a,{icon:"headset"}))},k=n("06a9"),M=n.n(k),E=n("8a2d"),w=n.n(E);var N=function(e){var t,n,a,o=e.headerClass,r=e.description,i=e.minimize,c=e.nick,m=e.onCloseButtonClick;return s.a.createElement("div",{className:l()(M.a.wrap,(t={},n=M.a.minimize,a=i,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t),[o])},s.a.createElement("div",{className:M.a.content},s.a.createElement(S,{className:M.a.avatar,nick:c}),s.a.createElement("div",{className:M.a.title},s.a.createElement("h2",{className:M.a.nick},c),s.a.createElement("p",{className:M.a.description},r))),s.a.createElement("button",{className:M.a.icons,onClick:m},s.a.createElement(f.a,{icon:"close"})))};N.propTypes={description:w.a.node,minimize:w.a.bool,nick:w.a.string,unreadMessages:w.a.number,onCloseButtonClick:w.a.func};var O=N,_=n("4a45"),T=n.n(_),P=function(e){var t=e.children,n=e.onCloseButtonClick,a=e.onMessageClick;return s.a.createElement("div",{className:T.a.message},s.a.createElement("div",{className:T.a.content,onClick:a},t),s.a.createElement("button",{className:T.a.button,onClick:n},s.a.createElement(f.a,{icon:"close"})))},A=n("3d4d"),j=n.n(A),R=n("729a"),x=n.n(R);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){var t=e.nick,n=void 0===t?"":t,a=e.type,o=document.createElement("div"),r=document.createElement("div"),i=d.linkIfy(d.escapeHTML(e.message));return r.className=j.a["sender-name"],r.innerHTML=n,o.className=j.a["message-from-".concat(a)],o.innerHTML='<div class="'.concat(j.a["message-text"],'">').concat(i,"</div>"),o.appendChild(r),o},F=function(){try{return window.sessionStorage.getItem("isSupportWelcomeMessageHidden")||!1}catch(e){return!1}},I=function(){try{window.sessionStorage.setItem("isSupportWelcomeMessageHidden",!0)}catch(e){}},U=function(e){function t(){var e,n,a,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,m=new Array(c),l=0;l<c;l++)m[l]=arguments[l];return a=this,s=(e=B(t)).call.apply(e,[this].concat(m)),n=!s||"object"!==H(s)&&"function"!=typeof s?L(a):s,D(L(L(n)),"state",{minimize:!0,nick:"Admin",unreadMessagesCount:0,isWelcomeMessageHidden:F()}),D(L(L(n)),"containerRef",Object(i.createRef)()),D(L(L(n)),"rndRef",Object(i.createRef)()),D(L(L(n)),"renderChat",function(){var e=r.Config.get("supportHTML5Chat"),t=n.props.user,a=t.type===o.a.User.FREE_MEMBER||t.type===o.a.User.PAYING_MEMBER;n.chat||(Object.assign(e.chatConfiguration,{guest:a?0:1,nick:t.nick?t.nick:e.chatConfiguration.nick,userType:t.supportChatType}),n.chat=new d.SupportChat(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){D(e,t,n[t])})}return e}({},e,{minFontSize:12,typingText:"",welcomeText:Object(u.a)("Our Support Team is live right now. Type any question, so we can assist you"),systemMessage:"User comes from FirstBill live chat",placeholderText:Object(u.a)("Type a message"),container:n.containerRef.current,createMessageElement:J,inputFieldEmptyCls:j.a.empty_field,onShowTyping:n.onShowTyping,onSupportNickChanged:n.onSupportNickChanged,onMessageFromSupportReceived:n.onMessageFromSupportReceived,onSupportFormSubmit:n.onSupportFormSubmit})),n.chat.scrollToBottom=n.scrollToBottom,n.chat.render(),n.createCustomScrollbar())}),D(L(L(n)),"createCustomScrollbar",function(){n.customScrollbar||(n.customScrollbar=new x.a({element:document.querySelector(".support-chat-messages"),forceGemini:!1}).create())}),D(L(L(n)),"scrollToBottom",function(){n.customScrollbar&&(n.customScrollbar.update(),n.customScrollbar.getViewElement().scrollTop=n.customScrollbar.getViewElement().scrollHeight)}),D(L(L(n)),"destroyChat",function(){n.chat.destroy(),delete n.chat,n.customScrollbar.destroy(),delete n.customScrollbar}),D(L(L(n)),"openChatInFullMode",function(){n.state.isWelcomeMessageHidden||I(),p.default.trackGenericEvent({eventCategory:p.default.CONST.PAGE.PAYMENT_PAGE,eventAction:p.default.CONST.ACTION.LIVE_CHAT_CLICK,eventLabel:"support icon"}),n.setState({minimize:!1,isWelcomeMessageHidden:!0,unreadMessagesCount:0},function(){n.renderChat(),n.scrollToBottom()})}),D(L(L(n)),"openChatInMinimizeMode",function(){n.state.isWelcomeMessageHidden||I(),n.setState({minimize:!0,unreadMessagesCount:0})}),D(L(L(n)),"onShowTyping",function(){n.scrollToBottom()}),D(L(L(n)),"onSupportFormSubmit",function(){p.default.trackGenericEvent({eventCategory:p.default.CONST.PAGE.PAYMENT_PAGE,eventAction:p.default.CONST.ACTION.LIVE_CHAT_CLICK,eventLabel:"message send"})}),D(L(L(n)),"onSupportNickChanged",function(e){n.setState({nick:e})}),D(L(L(n)),"onMessageFromSupportReceived",function(){var e=n.state,t=e.unreadMessagesCount;e.minimize&&n.setState({unreadMessagesCount:t+1})}),D(L(L(n)),"resetChatPosition",function(){n.rndRef.current.updatePosition({x:-320,y:-320}),n.rndRef.current.updateSize({width:320,height:320}),n.updateSupportChatMessagesContainer(320),n.setState({minimize:!0})}),D(L(L(n)),"onResize",function(e,t,a){n.updateSupportChatMessagesContainer(a.offsetHeight)}),D(L(L(n)),"updateSupportChatMessagesContainer",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:320,t=document.querySelector(".support-chat-messages");null!==t&&(t.style.height=e-138+"px")}),D(L(L(n)),"hideWelcomeMessage",function(){n.setState({isWelcomeMessageHidden:!0}),I()}),n}var n,a,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,i["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.renderChat()}},{key:"componentDidUpdate",value:function(e){var t=e.user.nick!==this.props.user.nick;this.props.isVisible!==e.isVisible&&this.resetChatPosition(),t&&(this.destroyChat(),this.renderChat())}},{key:"componentWillUnmount",value:function(){this.destroyChat()}},{key:"render",value:function(){var e,t=this.state,n=t.minimize,a=t.nick,o=t.unreadMessagesCount,r=t.isWelcomeMessageHidden,i=this.props,m=i.maxUnread,d=i.isVisible;return s.a.createElement("div",{className:l()(j.a.container,(e={},D(e,j.a.minimize,n),D(e,j.a.hidden,!d),e))},s.a.createElement("div",{className:j.a["min-mode"]},!r&&s.a.createElement(P,{onCloseButtonClick:this.hideWelcomeMessage,onMessageClick:this.openChatInFullMode},Object(u.a)("You got questions? We got answers! We are here to help, 24/7.")),s.a.createElement(S,{nick:a,className:l()(j.a["support-avatar"],j.a.shadow),onClick:this.openChatInFullMode}),0!==o&&s.a.createElement("span",{className:j.a["unread-messages"]},o>m?"".concat(m,"+"):o)),s.a.createElement("div",{className:j.a["max-mode"]},s.a.createElement(c.a,{ref:this.rndRef,default:{x:-160,y:-160,width:320,height:320},minWidth:320,minHeight:320,dragHandleClassName:j.a.header,onResize:this.onResize},s.a.createElement(O,{headerClass:l()(j.a.header,j.a.shadow),minimize:n,nick:a,description:"Support representative",onCloseButtonClick:this.openChatInMinimizeMode}),s.a.createElement("div",{className:l()(j.a.chat,j.a.shadow),ref:this.containerRef}))))}}])&&W(n.prototype,a),m&&W(n,m),t}();D(U,"defaultProps",{maxUnread:99});t.default=U},"3d4d":function(e,t,n){e.exports={shadow:"_2PW4PbP1a9_C",header:"_1WBcmfZCvd7d",draggable:"_3bKDxDa9NQQn",container:"hihb_MQKT1_d",chat:"_1Rrtucn6FU08",hidden:"oOHrHiTqc7Z7",minimize:"_21QMe4G7VXuU","sender-name":"_2RMNNwN4rfMX","message-from-user":"_31m0CyUTbPj8","message-text":"_1vjxct8YI2jd","message-from-support":"_1zscSMXcJyMT",loading_dots:"fdT5aWib-2KW",empty_field:"_2NxVk9nxcRYr","min-mode":"_3B1d3FvYniWg","unread-messages":"_1K-MNXaQXHjQ","max-mode":"_1ZqcDYe-8ugg","support-avatar":"_2bSPhD0dnfoA"}},"4a45":function(e,t,n){e.exports={message:"_2_QjNfA1RHU5",content:"_2hkxO0Lp3w03",button:"_2R0r-Lll52fv"}},ea56:function(e,t,n){e.exports={avatar:"_2OCzT3muU4yP"}}}]);