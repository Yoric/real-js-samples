window.webConsole?window.webConsole.time("working site"):(window.webConsole={},window.webConsole.log=window.webConsole.time=window.webConsole.timeEnd=window.webConsole.timeStatus=function(){}),function(a){"function"==typeof define?define(a):a()}(function(){function a(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(a){}}Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=j.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(j.call(arguments)));return null!==g&&Object(g)===g?g:f}return b.apply(a,c.concat(j.call(arguments)))};return d});var b,c,d,e,f,g=Function.prototype.call,h=Array.prototype,i=Object.prototype,j=h.slice,k=g.bind(i.toString),l=g.bind(i.hasOwnProperty);if((f=l(i,"__defineGetter__"))&&(b=g.bind(i.__defineGetter__),c=g.bind(i.__defineSetter__),d=g.bind(i.__lookupGetter__),e=g.bind(i.__lookupSetter__)),Array.isArray||(Array.isArray=function(a){return"[object Array]"==k(a)}),Array.prototype.forEach||(Array.prototype.forEach=function(a){var b=C(this),c=arguments[1],d=0,e=b.length>>>0;if("[object Function]"!=k(a))throw new TypeError;for(;d<e;)d in b&&a.call(c,b[d],d,b),d++}),Array.prototype.map||(Array.prototype.map=function(a){var b=C(this),c=b.length>>>0,d=Array(c),e=arguments[1];if("[object Function]"!=k(a))throw new TypeError;for(var f=0;f<c;f++)f in b&&(d[f]=a.call(e,b[f],f,b));return d}),Array.prototype.filter||(Array.prototype.filter=function(a){var b=C(this),c=b.length>>>0,d=[],e=arguments[1];if("[object Function]"!=k(a))throw new TypeError;for(var f=0;f<c;f++)f in b&&a.call(e,b[f],f,b)&&d.push(b[f]);return d}),Array.prototype.every||(Array.prototype.every=function(a){var b=C(this),c=b.length>>>0,d=arguments[1];if("[object Function]"!=k(a))throw new TypeError;for(var e=0;e<c;e++)if(e in b&&!a.call(d,b[e],e,b))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a){var b=C(this),c=b.length>>>0,d=arguments[1];if("[object Function]"!=k(a))throw new TypeError;for(var e=0;e<c;e++)if(e in b&&a.call(d,b[e],e,b))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=C(this),c=b.length>>>0;if("[object Function]"!=k(a))throw new TypeError;if(!c&&1==arguments.length)throw new TypeError;var d,e=0;if(arguments.length>=2)d=arguments[1];else for(;;){if(e in b){d=b[e++];break}if(++e>=c)throw new TypeError}for(;e<c;e++)e in b&&(d=a.call(void 0,d,b[e],e,b));return d}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var b=C(this),c=b.length>>>0;if("[object Function]"!=k(a))throw new TypeError;if(!c&&1==arguments.length)throw new TypeError;var d,e=c-1;if(arguments.length>=2)d=arguments[1];else for(;;){if(e in b){d=b[e--];break}if(--e<0)throw new TypeError}do e in this&&(d=a.call(void 0,d,b[e],e,b));while(e--);return d}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=C(this),c=b.length>>>0;if(!c)return-1;var d=0;for(arguments.length>1&&(d=A(arguments[1])),d=d>=0?d:c-Math.abs(d);d<c;d++)if(d in b&&b[d]===a)return d;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){var b=C(this),c=b.length>>>0;if(!c)return-1;var d=c-1;for(arguments.length>1&&(d=A(arguments[1])),d=d>=0?d:c-Math.abs(d);d>=0;d--)if(d in b&&a===b[d])return d;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||(a.constructor?a.constructor.prototype:i)}),!Object.getOwnPropertyDescriptor){var m="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(a,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(m+a);if(l(a,b)){var c,g,h;if(c={enumerable:!0,configurable:!0},f){var j=a.__proto__;a.__proto__=i;var g=d(a,b),h=e(a,b);if(a.__proto__=j,g||h)return g&&(c.get=g),h&&(c.set=h),c}return c.value=a[b],c}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)}),Object.create||(Object.create=function(a,b){var c;if(null===a)c={__proto__:null};else{if("object"!=typeof a)throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return void 0!==b&&Object.defineProperties(c,b),c}),Object.defineProperty){var n=a({}),o="undefined"==typeof document||a(document.createElement("div"));if(!n||!o)var p=Object.defineProperty}if(!Object.defineProperty||p){var q="Property description must be an object: ",r="Object.defineProperty called on non-object: ",s="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(a,g,h){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(r+a);if("object"!=typeof h&&"function"!=typeof h||null===h)throw new TypeError(q+h);if(p)try{return p.call(Object,a,g,h)}catch(a){}if(l(h,"value"))if(f&&(d(a,g)||e(a,g))){var j=a.__proto__;a.__proto__=i,delete a[g],a[g]=h.value,a.__proto__=j}else a[g]=h.value;else{if(!f)throw new TypeError(s);l(h,"get")&&b(a,g,h.get),l(h,"set")&&c(a,g,h.set)}return a}}Object.defineProperties||(Object.defineProperties=function(a,b){for(var c in b)l(b,c)&&Object.defineProperty(a,c,b[c]);return a}),Object.seal||(Object.seal=function(a){return a}),Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(a){Object.freeze=function(a){return function(b){return"function"==typeof b?b:a(b)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(a){return a}),Object.isSealed||(Object.isSealed=function(a){return!1}),Object.isFrozen||(Object.isFrozen=function(a){return!1}),Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)===a)throw new TypeError;for(var b="";l(a,b);)b+="?";a[b]=!0;var c=l(a,b);return delete a[b],c}),!Object.keys){var t=!0,u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],v=u.length;for(var w in{toString:null})t=!1;Object.keys=function a(b){if("object"!=typeof b&&"function"!=typeof b||null===b)throw new TypeError("Object.keys called on a non-object");var a=[];for(var c in b)l(b,c)&&a.push(c);if(t)for(var d=0,e=v;d<e;d++){var f=u[d];l(b,f)&&a.push(f)}return a}}Date.prototype.toISOString||(Date.prototype.toISOString=function(){var a,b,c;if(!isFinite(this))throw new RangeError;for(a=[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],b=a.length;b--;)c=a[b],c<10&&(a[b]="0"+c);return a.slice(0,3).join("-")+"T"+a.slice(3).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}),Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(a){if("function"!=typeof this.toISOString)throw new TypeError;return this.toISOString()}),isNaN(Date.parse("2011-06-15T21:40:05+06:00"))&&(Date=function(a){var b=function b(c,d,e,f,g,h,i){var j=arguments.length;if(this instanceof a){var k=1==j&&String(c)===c?new a(b.parse(c)):j>=7?new a(c,d,e,f,g,h,i):j>=6?new a(c,d,e,f,g,h):j>=5?new a(c,d,e,f,g):j>=4?new a(c,d,e,f):j>=3?new a(c,d,e):j>=2?new a(c,d):j>=1?new a(c):new a;return k.constructor=b,k}return a.apply(this,arguments)},c=new RegExp("^(\\d{4})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var d in a)b[d]=a[d];return b.now=a.now,b.UTC=a.UTC,b.prototype=a.prototype,b.prototype.constructor=b,b.parse=function(b){var d=c.exec(b);if(d){d.shift();for(var e=1;e<7;e++)d[e]=+(d[e]||(e<3?1:0)),1==e&&d[e]--;var f=+d.pop(),g=+d.pop(),h=d.pop(),i=0;if(h){if(g>23||f>59)return NaN;i=6e4*(60*g+f)*("+"==h?-1:1)}return a.UTC.apply(this,d)+i}return a.parse.apply(this,arguments)},b}(Date));var x="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||x.trim()){x="["+x+"]";var y=new RegExp("^"+x+x+"*"),z=new RegExp(x+x+"*$");String.prototype.trim=function(){return String(this).replace(y,"").replace(z,"")}}var A=function(a){return a=+a,a!==a?a=-1:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))),a},B="a"!="a"[0],C=function(a){if(null==a)throw new TypeError;return B&&"string"==typeof a&&a?a.split(""):Object(a)}});var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){!c&&hasProp(a,e)||(!d||"object"!=typeof b||!b||isArray(b)||isFunction(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),mixin(a[e],b,c,d)))}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c;for(b=0;b<a.length;b++)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(0===b||1==b&&".."===a[2]||".."===a[b-1])continue;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=c&&c.split("/"),r=x.map,s=r&&r["*"];if(a&&(a=a.split("/"),k=a.length-1,x.nodeIdCompat&&jsSuffixRegExp.test(a[k])&&(a[k]=a[k].replace(jsSuffixRegExp,"")),"."===a[0].charAt(0)&&q&&(p=q.slice(0,q.length-1),a=p.concat(a)),b(a),a=a.join("/")),d&&r&&(q||s)){g=a.split("/");a:for(h=g.length;h>0;h-=1){if(j=g.slice(0,h).join("/"),q)for(i=q.length;i>0;i-=1)if(f=getOwn(r,q.slice(0,i).join("/")),f&&(f=getOwn(f,j))){l=f,m=h;break a}!n&&s&&getOwn(s,j)&&(n=getOwn(s,j),o=h)}!l&&n&&(l=n,m=o),l&&(g.splice(0,m,l),a=g.join("/"))}return e=getOwn(x.pkgs,a),e?e:a}function d(a){isBrowser&&each(scripts(),function(b){if(b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName)return b.parentNode.removeChild(b),!0})}function e(a){var b=getOwn(x.paths,a);if(b&&isArray(b)&&b.length>1)return b.shift(),u.require.undef(a),u.makeRequire(null,{skipMap:!0})([a]),!0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(F+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=getOwn(C,k)),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):a.indexOf("!")===-1?c(a,l,e):a:(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(G+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=getOwn(y,b);return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=getOwn(y,d);!hasProp(C,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(C[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(y,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(apsp.apply(B,[B.length,0].concat(globalDefQueue)),globalDefQueue=[])}function l(a){delete y[a],delete z[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(y,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,C[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c=1e3*x.waitSeconds,f=c&&u.startTime+c<(new Date).getTime(),g=[],h=[],i=!1,k=!0;if(!s){if(s=!0,eachProp(z,function(a){var c=a.map,j=c.id;if(a.enabled&&(c.isDefine||h.push(a),!a.error))if(!a.inited&&f)e(j)?(b=!0,i=!0):(g.push(j),d(j));else if(!a.inited&&a.fetched&&c.isDefine&&(i=!0,!c.prefix))return k=!1}),f&&g.length)return a=makeError("timeout","Load timeout for modules: "+g,null,g),a.contextName=u.contextName,j(a);k&&each(h,function(a){m(a,{},{})}),f&&!b||!i||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){hasProp(C,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();B.length;){if(a=B.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},y={},z={},A={},B=[],C={},D={},E={},F=1,G=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){if(a.usingExports=!0,a.map.isDefine)return a.exports?C[a.map.id]=a.exports:a.exports=C[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return getOwn(x.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},t=function(a){this.events=getOwn(A,a.id)||{},this.map=a,this.shim=getOwn(x.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?void u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;D[a]||(D[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{e=u.execCb(c,f,d,e)}catch(b){a=b}else e=u.execCb(c,f,d,e);if(this.map.isDefine&&void 0===e&&(b=this.module,b?e=b.exports:this.usingExports&&(e=this.exports)),a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else e=f;this.exports=e,this.map.isDefine&&!this.ignore&&(C[c]=e,req.onResourceLoad&&req.onResourceLoad(u,this.map,this.depMaps)),l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=getOwn(E,this.map.id),n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=u.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(d.normalize&&(n=d.normalize(n,function(a){return c(a,o,!0)})||""),f=g(a.prefix+"!"+n,this.map.parentMap),i(f,"defined",bind(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=getOwn(y,f.id),void(k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()))):m?(this.map.url=u.nameToUrl(m),void this.load()):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(c,d){var f=a.name,i=g(f),k=useInteractive;d&&(c=d),k&&(useInteractive=!1),h(i),hasProp(x.config,b)&&(x.config[f]=x.config[b]);try{req.exec(c)}catch(a){return j(makeError("fromtexteval","fromText eval for "+b+" failed: "+a,a,[b]))}k&&(useInteractive=!0),this.depMaps.push(i),u.completeLoad(f),p([f],e)}),void d.load(a.name,p,e,x))})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=getOwn(v,a.id))return void(this.depExports[b]=e(this));this.depCount+=1,i(a,"defined",bind(this,function(a){this.defineDep(b,a),this.check()})),this.errback&&i(a,"error",bind(this,this.errback))}c=a.id,d=y[c],hasProp(v,c)||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(y,a.id);b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:C,urlFetched:D,defQueue:B,Module:t,makeModuleMap:g,nextTick:req.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=x.shim,c={paths:!0,bundles:!0,config:!0,map:!0};eachProp(a,function(a,b){c[b]?(x[b]||(x[b]={}),mixin(x[b],a,!0,!0)):x[b]=a}),a.bundles&&eachProp(a.bundles,function(a,b){each(a,function(a){a!==b&&(E[a]=b)})}),a.shim&&(eachProp(a.shim,function(a,c){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=u.makeShimExports(a)),b[c]=a}),x.shim=b),a.packages&&each(a.packages,function(a){var b,c;a="string"==typeof a?{name:a}:a,c=a.name,b=a.location,b&&(x.paths[c]=a.location),x.pkgs[c]=a.name+"/"+(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,e){function f(c,d,i){var k,l,m;return e.enableBuildCallback&&d&&isFunction(d)&&(d.__requireJsBuild=!0),"string"==typeof c?isFunction(d)?j(makeError("requireargs","Invalid require call"),i):b&&hasProp(v,c)?v[c](y[b.id]):req.get?req.get(u,c,b,f):(l=g(c,b,!1,!0),k=l.id,hasProp(C,k)?C[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=e.skipMap,m.init(c,d,i,{enabled:!0}),n()}),f)}return e=e||{},mixin(f,{isBrowser:isBrowser,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return e!==-1&&(!g||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),u.nameToUrl(c(a,b&&b.id,!0),d,!0)},defined:function(a){return hasProp(C,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(C,a)||hasProp(y,a)}}),b||(f.undef=function(a){k();var c=g(a,b,!0),e=getOwn(y,a);d(a),delete C[a],delete D[c.url],delete A[a],eachReverse(B,function(b,c){b[0]===a&&B.splice(c,1)}),e&&(e.events.defined&&(A[a]=e.events),l(a))}),f},enable:function(a){var b=getOwn(y,a.id);b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=getOwn(x.shim,a)||{},g=f.exports;for(k();B.length;){if(c=B.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(d=getOwn(y,a),!b&&!hasProp(C,a)&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b,c){var d,e,f,g,h,i,j,k,l=getOwn(x.pkgs,a);if(l&&(a=l),j=getOwn(E,a))return u.nameToUrl(j,b,c);if(req.jsExtRegExp.test(a))h=a+(b||"");else{for(d=x.paths,e=a.split("/"),f=e.length;f>0;f-=1)if(g=e.slice(0,f).join("/"),i=getOwn(d,g)){isArray(i)&&(i=i[0]),e.splice(0,f,i);break}h=e.join("/"),h+=b||(/^data\:|\?/.test(h)||c?"":".js"),h=("/"===h.charAt(0)||h.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+h}return h=x.urlArgs?h+((h.indexOf("?")===-1?"?":"&")+x.urlArgs):h,isFunction(cfg.getCdn)&&(k=cfg.getCdn(a),k&&(h=h.replace(h.match(/http(s)?:\/\/[\w\d\.].*?\//)[0],k+"/"))),h},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);if(!e(b.id))return j(makeError("scripterror","Script error for: "+b.id,a,[b.id]))}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){if("interactive"===a.readyState)return interactiveScript=a}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.14",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),msieVersion=navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&parseInt(navigator.userAgent.toLowerCase().split("msie")[1]),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),f&&isFunction(f.getCdn)&&(cfg.getCdn=f.getCdn),e.require(a,b,c)},req.config=function(a){return req(a)},msieVersion<=9?req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()}:req.nextTick=function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a,b,c){var d=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),e=a.baseUrl.match(/^(https?:)?\/\/[\w\d\.]+/),f=e&&e[0],g=c.match(/^(https?:)?\/\/[\w\d\.]+/),h=g&&g[0];return d.type=a.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,window.isCrossOriginEnabled&&h&&f&&0===c.replace(h,"").indexOf(a.baseUrl.replace(f,""))&&(d.crossOrigin="anonymous"),d},req.load=function(a,b,c){var d,e=a&&a.config||{};if(isBrowser)return d=req.createNode(e,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d;if(isWebWorker)try{importScripts(c),a.completeLoad(b)}catch(d){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,d,[b]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(a){if(head||(head=a.parentNode),dataMain=a.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),(e?e.defQueue:globalDefQueue).push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("jquery",[],function(){"use strict";return window.jQuery}),define("nerve/utils/helpers",["jquery"],function(a){"use strict";return{isArray:function(a){return Array.isArray(a)},toString:function(a){return Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===this.toString(a)},isNode:function(a){return a&&a.nodeType||this.isNodeList(a)},isNodeList:function(a){return!this.isjQueryObject(a)&&a&&a[0]&&a[0].nodeType},isjQueryObject:function(b){return b instanceof a},isObject:function(b){var c=!1;return c=window.Object?b===window.Object(b)&&!this.isNode(b)&&!this.isFunction(b)&&!this.isjQueryObject(b):b&&"[object Object]"===a.toString(b)&&!this.isNode(b)&&!this.isFunction(b)&&!this.isjQueryObject(b)},isPlainObject:function(b){return this.isObject(b)&&a.isPlainObject(b)},isString:function(a){return"[object String]"===this.toString(a)},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},extend:a.extend}}),define("utils/event",["nerve/utils/helpers"],function(a){"use strict";function b(){this.listeners={}}return b.prototype={on:function(b,c,d){return"function"==typeof c&&void 0===d&&(d=c,c=void 0),a.isArray(this.listeners[b])||(this.listeners[b]=[]),a.isFunction(d)&&this.listeners[b].push(d),this},one:function(b,c){return a.isFunction(c)&&(c.isOne=!0,this.on(b,c)),this},off:function(b,c){return a.isArray(this.listeners[b])&&(a.isFunction(c)?this.listeners[b].forEach(function(a,d){a===c&&this.listeners[b].splice(d,1)}.bind(this)):this.listeners[b]=[]),this},trigger:function(b,c){return a.isArray(this.listeners[b])&&this.listeners[b].forEach(function(a){a({type:b},c),a.isOne&&this.off(b,a)}),this}},b}),define("utils/helpers",["jquery"],function(a){"use strict";return{isArray:function(a){return Array.isArray(a)},toString:function(a){return Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===this.toString(a)},isNode:function(a){return a&&a.nodeType||this.isNodeList(a)},isNodeList:function(a){return!this.isjQueryObject(a)&&a&&a[0]&&a[0].nodeType},isjQueryObject:function(b){return b instanceof a},isObject:function(b){var c=!1;return c=window.Object?b===window.Object(b)&&!this.isNode(b)&&!this.isFunction(b)&&!this.isjQueryObject(b):b&&"[object Object]"===a.toString(b)&&!this.isNode(b)&&!this.isFunction(b)&&!this.isjQueryObject(b)},isPlainObject:function(b){return this.isObject(b)&&a.isPlainObject(b)},isString:function(a){return"[object String]"===this.toString(a)},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},extend:a.extend}}),define("event",["utils/event","utils/helpers"],function(a,b){"use strict";function c(c){return this.options=b.extend(!0,{},this.defaultOptions,c),this._event=new a,this.initVars().generateAccessors(),this}return c.prototype={accessors:{get:[],set:[]},init:function(){return this},destroy:function(){return this.isDestroyed||(this.trigger("destroy"),this.off(),delete this.options,delete this._event,this.isDestroyed=!0),this},on:function(){return this._event&&this._event.on.apply(this._event,arguments),this},off:function(){return this._event&&this._event.off.apply(this._event,arguments),this},trigger:function(){return this._event&&this._event.trigger.apply(this._event,arguments),this},require:function(a,c){var d,e=[],f={};return b.isArray(a)?(a.forEach(function(a){var b;e.push(new Promise(function(c,d){b=this.deferred[a]||a,window.requirejs([b],function(a){f[b]=a,c()},d)}.bind(this)))}.bind(this)),d=new Promise(function(d,g){Promise.all(e).then(function(){var e=[];a.forEach(function(a){var b=this.deferred[a]||a;e.push(f[b])}.bind(this)),this.isDestroyed||(d.apply(this,e),b.isFunction(c)&&c.apply(this,e))}.bind(this)).catch(g)}.bind(this))):d=new Promise(function(d,e){window.requirejs([this.deferred[a]||a],function(){this.isDestroyed||(b.isFunction(c)&&c.apply(this,arguments),d.apply(this,arguments))}.bind(this),e)}.bind(this)),d},initVars:function(){return b.isPlainObject(this.vars)&&Object.keys(this.vars).forEach(function(a){this[a]=this.vars[a]}.bind(this)),this},generateAccessors:function(){return b.isArray(this.accessors.get)&&this.accessors.get.forEach(function(a){this["get"+b.capitalize(a)]=function(){return this[a]}}.bind(this)),b.isArray(this.accessors.set)&&this.accessors.set.forEach(function(a){this["set"+b.capitalize(a)]=function(b){return this[a]=b,this}}.bind(this)),this}},c.extend=function(a){var c,d,e,f,g,h,i=this;return c=function(){return i.apply(this,arguments),b.isFunction(a.create)&&a.create.apply(this,arguments),a.autoInit&&!c.instance&&(this.autoInit=a.autoInit,this._inited||this.isDestroyed||(this.init(),this._inited=!0)),a.singleton!==!0||c.instance||(c.instance=this),c.instance||this},b.extend(c,i),d=function(){this.constructor=c,this.__super__=i.prototype},d.prototype=i.prototype,c.prototype=new d,c.__super__=i.prototype,f=a.public||{},g=a.protected||{},h=a.static||{},e=a.props||{},e.defaultOptions=b.extend(!0,{},i.prototype.defaultOptions,e.defaultOptions),e.deferred=b.extend(!0,{},i.prototype.deferred,e.deferred),e.events=b.extend(!0,{},i.prototype.events,e.events),e.defaults=b.extend(!0,{},i.prototype.defaults,e.defaults),e.templates=b.extend(!0,{},i.prototype.templates,e.templates),e.elements=b.extend(!0,{},i.prototype.elements,e.elements),e.vars=b.extend(!0,{},i.prototype.vars,e.vars),e.accessors&&(b.isArray(e.accessors.get)&&(e.accessors.get=e.accessors.get.concat(i.prototype.accessors.get)),b.isArray(e.accessors.set)&&(e.accessors.set=e.accessors.set.concat(i.prototype.accessors.set))),b.extend(c.prototype,b.extend(!0,{},f,g,e)),b.extend(!0,c,h),c},c}),define("utils/ajax",["jquery"],function(a){"use strict";var b={send:function(b){var c=a.ajax(b);return{success:function(a){return c.success(a)},error:function(a){return c.error(a)},abort:function(){return c.abort()}}}};return b}),function(a,b){"use strict";var c=function(a){if("object"!=typeof a.document)throw new Error("Cookies.js requires a `window` with a `document` object");var c=function(a,b,d){return 1===arguments.length?c.get(a):c.set(a,b,d)};return c._document=a.document,c._cacheKeyPrefix="cookey.",c._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),c.defaults={path:"/",secure:!1},c.get=function(a){c._cachedDocumentCookie!==c._document.cookie&&c._renewCache();var d=c._cache[c._cacheKeyPrefix+a];return d===b?b:decodeURIComponent(d)},c.set=function(a,d,e){return e=c._getExtendedOptions(e),
e.expires=c._getExpiresDate(d===b?-1:e.expires),c._document.cookie=c._generateCookieString(a,d,e),c},c.expire=function(a,d){return c.set(a,b,d)},c._getExtendedOptions=function(a){return{path:a&&a.path||c.defaults.path,domain:a&&a.domain||c.defaults.domain,expires:a&&a.expires||c.defaults.expires,secure:a&&a.secure!==b?a.secure:c.defaults.secure}},c._isValidDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())},c._getExpiresDate=function(a,b){if(b=b||new Date,"number"==typeof a?a=a===1/0?c._maxExpireDate:new Date(b.getTime()+1e3*a):"string"==typeof a&&(a=new Date(a)),a&&!c._isValidDate(a))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return a},c._generateCookieString=function(a,b,c){a=a.replace(/[^#$&+\^`|]/g,encodeURIComponent),a=a.replace(/\(/g,"%28").replace(/\)/g,"%29"),b=(b+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),c=c||{};var d=a+"="+b;return d+=c.path?";path="+c.path:"",d+=c.domain?";domain="+c.domain:"",d+=c.expires?";expires="+c.expires.toUTCString():"",d+=c.secure?";secure":""},c._getCacheFromString=function(a){for(var d={},e=a?a.split("; "):[],f=0;f<e.length;f++){var g=c._getKeyValuePairFromCookieString(e[f]);d[c._cacheKeyPrefix+g.key]===b&&(d[c._cacheKeyPrefix+g.key]=g.value)}return d},c._getKeyValuePairFromCookieString=function(a){var b=a.indexOf("=");b=b<0?a.length:b;var c,d=a.substr(0,b);try{c=decodeURIComponent(d)}catch(a){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+d+'"',a)}return{key:c,value:a.substr(b+1)}},c._renewCache=function(){c._cache=c._getCacheFromString(c._document.cookie),c._cachedDocumentCookie=c._document.cookie},c._areEnabled=function(){var a="cookies.js",b="1"===c.set(a,1).get(a);return c.expire(a),b},c.enabled=c._areEnabled(),c},d="object"==typeof a.document?c(a):c;"function"==typeof define&&define.amd?define("components/Cookies/dist/cookies",[],function(){return d}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=d),exports.Cookies=d):a.Cookies=d}("undefined"==typeof window?this:window),define("utils/cookie",["components/Cookies/dist/cookies"],function(a){"use strict";return a}),define("model",["event","utils/ajax","utils/helpers","utils/cookie"],function(a,b,c,d){"use strict";var e,f=0;return e=a.extend({create:function(a,b){return this._attr=c.extend(!0,{},this.defaults,a),this.options=c.extend(!0,{},this.defaultOptions,b),this.id=this._attr.id,this.cid=f++,this.errors=[],this.isFetchedState=!1,this.isRemovedState=!1,this.delegateEvents(),this.init(),this},props:{url:"",urlSave:"",urlCreate:"",urlRemove:"",validation:[]},public:{destroy:function(){return delete this._attr,delete this.id,delete this.cid,delete this.errors,e.__super__.destroy.call(this),this},getSingle:function(a){for(var b=a.split("."),c=0,d=this._attr;d&&c<b.length;)d=void 0!==d[b[c]]?d[b[c]]:void 0,c++;return d},setSingle:function(a,b,d){var e=!1;return d=d||{},this._attr[a]!==b&&(c.isString(b)&&(b=String(b).trim()),this._attr[a]=b,"id"===a&&(this.id=b),d.silent||d.isNotChangeTrigger||(this.trigger("change."+a),this.trigger("change")),e=!0),e},get:function(a){var b=null;return c.isString(a)&&(b=this.getSingle(a)),c.isArray(a)&&(b={},a.forEach(function(a){b[a]=this.getSingle(a)}.bind(this))),b},set:function(a,b,d){var e=[];return c.isString(a)&&this.setSingle(a,b,c.extend({},d,{isNotChangeTrigger:!0}))&&this.trigger("change."+a),c.isObject(a)&&(d=b,Object.keys(a).forEach(function(b){this.setSingle(b,a[b],c.extend({},d,{isNotChangeTrigger:!0}))&&e.push(b)}.bind(this)),d&&d.silent||e.forEach(function(a){this.trigger("change."+a)}.bind(this))),d&&d.silent||this.trigger("change"),this},validate:function(a){return this.errors=[],this.validation.forEach(function(b){var d;if(d=0===String(b.value).indexOf("@")?this.get(b.value.slice(1)):b.value,!c.isFunction(b.condition)||b.condition.call(this,a))switch(b.type){case"eq":b.attr.forEach(function(a){b.attr.forEach(function(c){b.byLength?String(this.get(a)).length===String(this.get(c)).length&&this.errors.push(b.errorCode):this.get(a)!==this.get(c)&&this.errors.push(b.errorCode)}.bind(this))}.bind(this));break;case"lt":b.attr.forEach(function(a){var e,f=this.get(a);b.byLength?(e=c.isArray(f)?f.length:String(f).length,(b.strict&&e>d||!b.strict&&e>=d)&&this.errors.push(b.errorCode)):(b.strict&&f>d||!b.strict&&f>=d)&&this.errors.push(b.errorCode)}.bind(this));break;case"gt":b.attr.forEach(function(a){var e,f=this.get(a);b.byLength?(e=c.isArray(f)?f.length:String(f).length,(b.strict&&e<d||!b.strict&&e<=d)&&this.errors.push(b.errorCode)):(b.strict&&f<d||!b.strict&&f<=d)&&this.errors.push(b.errorCode)}.bind(this));break;case"required":b.attr.forEach(function(a){var d=this.get(a),e=c.isArray(d)&&0===d.length||!d;e&&this.errors.push(b.errorCode)}.bind(this));break;case"regexp":b.attr.forEach(function(a){d.test(this.get(a))||this.errors.push(b.errorCode)}.bind(this))}}.bind(this)),0===this.errors.length},toJSON:function(){return c.extend(!0,{},this._attr)},fetch:function(){return new Promise(function(a,d){this.fetchXHR=b.send(c.extend(this.getFetchSettings(),{url:this.url,data:this.getFetchParams()})),this.fetchXHR.success(function(b,d,e){var f=this.getResponeObjectByXhr(e);this.isDestroyed||(c.isString(b)&&(b=JSON.parse(b)),this.set(this.adapter(b)),this.isFetchedState=!0,c.isFunction(this.onFetched)&&this.onFetched(b),this.trigger("fetched",f),a(b,f))}.bind(this)).error(function(a){var b=this.getResponeObjectByXhr(a);this.trigger("fetched",b),d(b)}.bind(this))}.bind(this))},save:function(){return this.trigger("beforeSave"),new Promise(function(a,d){var e={mode:"save"};this.validate(e)?b.send(c.extend(this.getSaveSettings(),{url:this.urlSave,data:this.getSaveParams()})).success(function(b){c.isString(b)&&(b=JSON.parse(b)),this.trigger("saved"),a(b)}.bind(this)).error(d):d()}.bind(this))},create:function(){return this.trigger("beforeCreate"),new Promise(function(a,d){var e={mode:"create"};this.validate(e)?b.send(c.extend(this.getCreateSettings(),{url:this.urlCreate,data:this.getCreateParams()})).success(function(b){c.isString(b)&&(b=JSON.parse(b)),this.trigger("created"),a(b)}.bind(this)).error(d):d()}.bind(this))},remove:function(){return this.trigger("beforeRemove"),this.isRemovedState=!0,new Promise(function(a,d){this.isRemoveReady()?b.send(c.extend(this.getRemoveSettings(),{url:this.urlRemove,data:this.getRemoveParams()})).success(function(b){c.isString(b)&&(b=JSON.parse(b)),this.trigger("removed"),a(b)}.bind(this)).error(d):(this.trigger("removed"),d())}.bind(this))},abort:function(){return this.fetchXHR&&(this.fetchXHR.abort(),this.trigger("aborted")),this},fetched:function(){return new Promise(function(a){this.isFetched()?a():this.on("fetched",function(){a()})}.bind(this))},setResponse:function(a){return this.set(this.adapter(a)),this},isFetched:function(){return this.isFetchedState},isRemoved:function(){return this.isRemovedState},isRemoveReady:function(){return!!this.get(this.uniqueKey)},isPending:function(){return this.fetchXHR&&"pending"===this.fetchXHR.state()}},protected:{uniqueKey:"id",delegateEvents:function(){return this.events&&Object.keys(this.events).forEach(function(a){this.on(a,this[this.events[a]].bind(this))}.bind(this)),this},adapter:function(a){return a},getUrl:function(){return(d.get("_sp_model")||"")+this.url},getFetchParams:function(){var a={};return a[this.uniqueKey]=this.get(this.uniqueKey),a},getSaveParams:function(){return c.extend(!0,{},this.toJSON())},getCreateParams:function(){return c.extend(!0,{},this.toJSON())},getRemoveParams:function(){return c.extend(!0,{},{id:this.get("id")})},getFetchSettings:function(){return{url:this.getUrl()}},getSaveSettings:function(){return{url:this.getUrl(),type:"post"}},getCreateSettings:function(){return{url:this.getUrl(),type:"post",abortCaptcha:function(){this.trigger("abortCaptcha")}.bind(this)}},getRemoveSettings:function(){return{url:this.getUrl(),type:"post"}},getResponeObjectByXhr:function(a){var b,d;a=a||{},c.isFunction(a.statusCode)&&(b=a.statusCode().status);try{d=JSON.parse(a.responseText)}catch(b){d=a.responseText}return{status:b,response:d}}}})}),define("view",["jquery","event","utils/helpers"],function(a,b,c){"use strict";var d,e={};return d=b.extend({create:function(){return this.model=this.options.model,this.$el=a(),this.$els=a(),this.el=null,this._domEventHandlers={},this.promiseRender=new Promise(function(a){this.on("render",a)}.bind(this)),this.promiseCss=new Promise(function(a){this.on("cssLoad",a)}.bind(this)),Promise.all([this.promiseRender,this.promiseCss]).then(this.onViewReady.bind(this)),this.loadCss(),this},props:{css:[],events:{},elements:{},optionsSelector:'script[type="text/plain"]',autoRemove:!0},public:{destroy:function(){return this.isDestroyed||(this.unDelegateEvents(),c.isjQueryObject(this.$el)&&(this.$el.off(),this.autoInit&&this.autoRemove&&this.$el.remove()),c.isjQueryObject(this.$els)&&(this.$els.off(),this.autoInit&&this.autoRemove&&this.$els.remove()),delete this.$el,delete this.el,delete this.model,delete this._domEventHandlers),d.__super__.destroy.call(this),this},getElement:function(){return this.$el},ready:function(a){return new Promise(function(b){this._isReady?(b(),c.isFunction(a)&&a()):(c.isFunction(a)&&this.on("ready",a),this.on("ready",b))}.bind(this))},render:function(b,d){var e=arguments;return webConsole.time("before render"),new Promise(function(f){var g,h,i,j;b=b||{},c.isFunction(b)&&(d=b,b={}),c.isPlainObject(b)&&!b.template&&(b={data:b}),c.isString(b)&&(b={template:b},c.isPlainObject(d)&&(b.data=d,d=e[2])),this.model&&(h=this.model.toJSON()),i=c.extend(!0,{},h,b.data,{locales:this.options&&this.options.locales||b.locales,options:this.options}),g=b.template||"main",j=this.templates[g]?this.templates[g]:g,webConsole.timeEnd("before render","/logs/render"),j&&(webConsole.time("require template"),this.constructor.getTemplate(j,function(e){var h,j;webConsole.timeEnd("require template","/logs/render"),this.isDestroyed||(webConsole.time("handlebars"),h=e(i).trim(),webConsole.timeEnd("handlebars","/logs/render"),"plain"===b.type?(f(h),c.isFunction(d)&&d(h)):(webConsole.time("after render"),j=a(h.string?h.string:h),"main"===g?this.setElement(j):(this.options.isCollectElements&&(this.$els=this.$els.add(j)),this.updateElements()),this._isRendered=!0,this.delegateEvents(),c.isFunction(this.onRender)&&"main"===g&&this.onRender(),webConsole.timeEnd("after render","/logs/render"),this.trigger("render",{templateId:g}),f(j),c.isFunction(d)&&d(j)))}.bind(this)))}.bind(this))},isRendered:function(){return this._isRendered},rendered:function(a,b){return new Promise(function(d){this.isRendered()?(d(),c.isFunction(a)&&a()):(c.isFunction(a)&&this.on("render",a,b),this.on("render",d))}.bind(this))},remove:function(b){c.isNode(b)&&(b=a(b)),this.$els.each(function(a,c){c===b.get(0)&&this.$els.splice(a,1)}.bind(this))}},protected:{setElement:function(b){return c.isjQueryObject(b)?(this.$el=b,this.el=this.$el.get(0)):c.isNode(b)&&(this.$el=a(b),this.el=b),this.updateElements(),this},delegateEvents:function(){return this.isDestroyed||(this.unDelegateEvents(),Object.keys(this.events).forEach(function(b){var d,e,f=b.match(/^(\S+)(?: ([\w\W]*))?/),g=this.events[b],h=!0,i=!1,j=!1,k=!1,l=0,m=f[1],n=f[2];c.isString(g)?d=this[g]:c.isObject(g)&&(d=this[g.method],h=g.delegate!==!1,l=g.throttling,j=g.preventDefault||!1,k=g.stopPropagation||!1),c.isFunction(d)&&(this._domEventHandlers[b]=function(b,c){var e;j&&b.preventDefault(),k&&b.stopPropagation(),e=n?a(b.target).is(n)?a(b.target):a(b.target).closest(n):this.$el,l?i||(i=!0,setTimeout(function(){i=!1},l),d.call(this,e,b,c)):d.call(this,e,b,c)}.bind(this),"input"===m&&a.browser.msie&&a.browser.version<=11&&(m="keyup"),e=this.options.isCollectElements?this.$el.add(this.$els):this.$el,n?h?e.on(m,n,this._domEventHandlers[b]):e.find(n).on(m,this._domEventHandlers[b]):e.on(m,this._domEventHandlers[b]))}.bind(this))),this},unDelegateEvents:function(){return this.isDestroyed||Object.keys(this.events).forEach(function(a){var b=a.match(/^(\S+)(?: ([\w\W]*))?/),d=b[1],e=b[2];this._domEventHandlers&&c.isFunction(this._domEventHandlers[a])&&c.isjQueryObject(this.$el)&&(e?this.$el.add(this.$els).off(d,e,this._domEventHandlers[a]):this.$el.add(this.$els).off(d,this._domEventHandlers[a]))}.bind(this)),this},updateElements:function(){return c.isjQueryObject(this.$el)&&Object.keys(this.elements).forEach(function(b){var c,d,e=this.elements[b];this.options.isCollectElements?(c=this.$el.add(this.$els).find(e).add(this.$els.filter(e)),0===c.size()&&(d=this.$el.filter(e),0!==d.size()&&(c=d)),0===c.size()&&this.$els.each(function(b,d){a(d).is(e)&&(c=a(d))})):c=this.$el.find(e),this["$"+b]=c}.bind(this)),this},clearEls:function(){return this.$els=a(),this},parseOptions:function(){var a;try{a=JSON.parse(this.$el.find(this.optionsSelector).html().replace(/\r|\n|\t|\s{2,}/g,""))}catch(b){a={}}this.options=c.extend(!0,{},this.defaultOptions,this.options,a)},loadCss:function(){var a=[];this.css.forEach(function(b){a.push(new Promise(function(a){window.requirejs(["util/css-manager"],function(c){c.require(b,a)})}))}),Promise.all(a).then(this.trigger.bind(this,"cssLoad"))},onViewReady:function(){this.trigger("ready"),this._isReady=!0}},static:{create:function(a){var b=new this(a);return{onLoad:function(a,c){return b.setElement(a),b.loadCss(),b.parseOptions(),b.delegateEvents(),c||b.init(),b},onUnload:function(){return b.destroy(),b}}},createRunTime:function(b,d,e){return c.isjQueryObject(b)&&(d=b,b={}),c.isNode(b)&&(d=a(b),b={}),!c.isjQueryObject(d)&&c.isNode(d)&&(d=a(d)),this.create(b).onLoad(d,e)},getTemplate:function(a,b){c.isFunction(b)&&(e[a]?b(e[a]):requirejs([a],function(c){e[a]=c,b(c)}))},renderListPlain:function(a){return new Promise(function(b){var d;d=a.data.map(function(b){return this.prototype.render({template:a.template,locales:a.locales,data:b,type:"plain"})}.bind(this)),Promise.all(d).then(function(d){var e=d.join("");c.isFunction(a.callback)&&a.callback(e),b(e)}.bind(this))}.bind(this))},renderList:function(a){return new Promise(function(b){this.renderListPlain({template:a.template||"main",data:a.data,locales:a.locales}).then(function(d){var e,f=[],g={html:d},h=a.viewOptions||{},i=0;if(a.$container&&(e=a.$container.get(0).lastChild,a.$container.append(d),c.isFunction(a.callback)&&a.callback(g),b(g),!a.isNoCreateViews))for(e=e?e.nextSibling:a.$container.get(0).firstChild;e;)a.models&&(h.model=a.models[i++]),f.push(this.createRunTime(h,e)),e=e.nextSibling}.bind(this))}.bind(this))}}})}),define("router",["jquery","event","utils/helpers"],function(a,b,c){"use strict";var d=b.extend({autoInit:!0,props:{defaultOptions:{linkSelector:'.js-router-link,.sp-music-booster,[type="booster"]',activeSelector:"js-router-link_active",routes:{}}},create:function(){this.routes={},Object.keys(this.options.routes).forEach(function(a){this.route(a,this.options.routes[a])}.bind(this)),a(window).on("popstate",function(){return this.checkRoutes(window.history.state,!0)}.bind(this)),a(document.body).on("click",this.options.linkSelector,this.onLinkClick.bind(this))},public:{init:function(a){this.checkRoutes({url:a},!1)},route:function(a,b){var d,e;c.isFunction(b)?d={callback:b}:c.isString(b)?d={module:b}:c.isPlainObject(b)&&(d={module:b.module,callback:b.callback,reload:b.reload}),d&&(d.params=[],e=a.match(/:\w+/g),e&&e.forEach(function(a){d.params.push(a.slice(1))}),a=a.replace(/:\w+/g,"([^/]+)").replace(/\*\w+/g,"(.*?)"),["default","error404","error500"].indexOf(a)===-1&&(a="^"+a+"$"),this.routes[a]=d)},checkRoutes:function(a,b,c){var d=a&&(a.url||a.hash)||window.location.pathname,e=d.split("?")[0].replace(/\/{2,}/g,"/"),f={},g=!1;d.indexOf("?")!==-1&&d.split("?")[1].split("&").forEach(function(a){var b=a.split("=");f[b[0]]=b[1]}),Object.keys(this.routes).forEach(function(a){var d,h=new RegExp(a),i=this.routes[a],j={};h.test(e)&&(d=h.exec(e).slice(1),i.params.forEach(function(a,b){j[a]=d[b]}),b&&(i.reload||this.currentRoute&&this.currentRoute.reload)?location.reload():this.proccessingRoute(i,j,f,b,c),this.currentRoute=i,g=!0)}.bind(this)),!g&&this.routes.default&&this.proccessingRoute(this.routes.default,{},f,b,c)},error404:function(a,b){this.proccessingRoute(this.routes.error404,{},{},a,b)},proccessingRoute:function(b,d,e,f,g){c.isFunction(b.callback)&&b.callback(f,d),c.isString(b.module)&&this.require(b.module,function(c){var h=this.currentPage;f?(h&&h.isPending()&&h.abort(),this.currentPage=new c({isRunTimeCreated:!0,request:{params:d,query:e}}),this.trigger("route",{page:this.currentPage}),this.currentPage.isNeedLoad()?g?(this.currentPage.setResponse(g),this.currentPage.onLoadSuccess()):this.currentPage.load():this.currentPage.onLoadSuccess(),this.currentPage.on("render",function(){h&&h.destroy(),setTimeout(function(){this.currentPage.initPage(),this.currentPage.afterInitPage()}.bind(this))}.bind(this))):(this.currentPage=c.createRunTime({isRunTimeCreated:!1,request:{params:d,query:e}},a('[data-routing-page="'+b.module+'"]'),!0),this.trigger("route",{page:this.currentPage}),this.currentPage.initPage(),this.currentPage.afterInitPage())}.bind(this))},go:function(a){window.history.pushState({url:a},null,a),this.checkRoutes({url:a},!0)},navigate:function(a){this.go(a)},update:function(){var a=window.location.pathname+window.location.search;this.go(a)}},protected:{onLinkClick:function(b){var c=a(b.target),d=c.closest(this.options.linkSelector);return d.size()||(d=c),webConsole.time("full processing page"),!!(b.ctrlKey||b.shiftKey||b.metaKey)||(b.preventDefault(),b.stopPropagation(),b.cancelBubble=!0,d.hasClass(this.options.activeSelector)||this.go(d.attr("href").replace(/^http[s]?:\/\/[\w\d\._\-]+/,"")),!1)}},static:{instance:null,init:function(a){this.instance||(this.instance=new this),this.instance.checkRoutes({url:a},!1)},on:function(){return this.instance||(this.instance=new this),this.instance.on.apply(this.instance,arguments)},off:function(){return this.instance||(this.instance=new this),this.instance.off.apply(this.instance,arguments)},setOptions:function(a){this.instance||(this.instance=new this(a)),this.instance.options=c.extend(!0,{},this.instance.options,a)},route:function(a){this.instance||(this.instance=new this),Object.keys(a).forEach(function(b){this.instance.route(b,a[b])}.bind(this))},default:function(a){this.instance||(this.instance=new this),this.instance.default(a)},go:function(a){this.instance||(this.instance=new this),this.instance.go(a)},checkRoutes:function(a,b,c){this.instance||(this.instance=new this),this.instance.checkRoutes(a,b,c)},error404:function(a,b){this.instance||(this.instance=new this),this.instance.error404(a,b)},update:function(){this.instance||(this.instance=new this),this.instance.update()},getCurrentPage:function(){var a=null;return this.instance&&(a=this.instance.currentPage),a}}});return d}),define("collection",["event","utils/ajax","utils/helpers","utils/cookie"],function(a,b,c,d){"use strict";var e=a.extend({create:function(){return this.ajaxSettings=c.extend(this.options.ajaxSettings,{url:this.options.url}),this.ajaxParams=c.extend(!0,{},this.options.ajaxParams),this.items=[],this.offset=0,this.init(),this},props:{url:"",defaultOptions:{ajaxParams:{},limit:50,ajaxSettings:{dataType:"json",type:"get"}}},public:{destroy:function(){return e.__super__.destroy.call(this),delete this.items,this.fetchXHR&&(this.fetchXHR.abort(),delete this.fetchXHR),this},setParam:function(a,b){return this.ajaxParams[a]=b,this},setParams:function(a){return Object.keys(a).forEach(function(b){this.setParam(b,a[b])}.bind(this)),this},getParam:function(a){return this.ajaxParams[a]},removeParam:function(a){return delete this.ajaxParams[a],this},removeParams:function(){return Object.keys(this.ajaxParams).forEach(function(a){this.removeParam(a)}.bind(this)),this},fetch:function(){return new Promise(function(a,d){var e=this.getFetchParamsWithOffset(),f=this.getFetchSettings()||{},g=c.extend({},f,{url:this.getUrl(),success:function(b){var d;this.isDestroyed||(c.isString(b)?b=JSON.parse(b):c.isObject(b)||(b={}),c.isFunction(f.success)&&f.success(b),d=this.setResponse(b),this.trigger("fetched",{items:d,response:b}),0===d.length&&this.trigger("end"),a(d))}.bind(this),error:function(a,b){c.isFunction(f.error)&&f.error(a,b),this.trigger("fetched",{status:b}),d(b)}.bind(this)});this.fetchXHR=b.send(c.extend(g,{data:e}))}.bind(this))},abort:function(){return this.fetchXHR&&(this.fetchXHR.abort(),this.trigger("aborted")),this},isPending:function(){return this.fetchXHR&&"pending"===this.fetchXHR.state()},setResponse:function(a){var b,d=[],e=this.adapter(a),f=this.getOffsetByResponse(a);return c.isArray(e.items)?(e.items.forEach(function(a){b=new this.model,b.set(a),this.add(b),d.push(b)}.bind(this)),f?this.offset=f:this.offset+=e.items.length,d):d},getOffsetByResponse:function(a){return a?a.offset:0},getOffset:function(){return this.offset},setOffset:function(a){return this.offset=a,this},adapter:function(a){return a},getByAttr:function(a,b){var c=null;return this.items.forEach(function(d){(!isNaN(Number(d.get(a)))&&Number(d.get(a))===Number(b)||String(d.get(a))===String(b))&&(c=d)}),c},getArrayByAttr:function(a,b){var c=[];return this.items.forEach(function(d){(!isNaN(Number(d.get(a)))&&Number(d.get(a))===Number(b)||String(d.get(a))===String(b))&&c.push(d)}),c},getById:function(a){return this.getByAttr("id",a)},getByClientId:function(a){var b=null;return this.items.forEach(function(c,d){c.cid===a&&(b=c)}.bind(this)),b},getItems:function(){return this.items},getByIndex:function(a){return this.items[a]},add:function(a){return this.items.push(a),this.trigger("add"),this.trigger("change"),this},remove:function(a){return this.items.forEach(function(b,c){b.get("id")===a&&(this.items.splice(c,1),this.trigger("remove",{id:b.id,cid:b.cid}),this.trigger("change"))}.bind(this)),this},removeByClientId:function(a){return this.items.forEach(function(b,c){b.cid===a&&(this.items.splice(c,1),this.trigger("remove",{id:b.id,cid:b.cid}),this.trigger("change"))}.bind(this)),this},forEach:function(a){return this.items.forEach(a),this},map:function(a){return this.items.map(a)},forEachAsync:function(a,b){var d=function(a,e){this.getLength(!0)>e?a(this.items[e],e,d.bind(this,a,e+1)):c.isFunction(b)&&b()};return this.getLength(!0)&&a(this.items[0],0,d.bind(this,a,1)),this},filter:function(a){return this.items.filter(a)},clear:function(a){return a=c.extend({destroy:!0},a),a.destroy&&this.forEach(function(a){a.destroy()}),this.items=[],this.offset=0,this},getLength:function(a){var b;return b=a?this.items:this.items.filter(function(a){return!a.isRemoved()}),b.length},getLimit:function(){return this.limit||this.options.limit},setLimit:function(a){return this.limit=a,this},toJSON:function(){var a=[];return this.forEach(function(b){a.push(b.toJSON())}),a}},protected:{getUrl:function(){return(d.get("_sp_model")||"")+this.options.url},getFetchParams:function(){return this.ajaxParams},getFetchParamsWithOffset:function(){return c.extend({},this.ajaxParams,this.getFetchParams(),{offset:this.offset,limit:this.getLimit()})},getFetchSettings:function(){return c.extend({url:this.getUrl()},this.ajaxSettings)}}});return e}),define("page",["view","router","utils/ajax","utils/helpers","utils/cookie"],function(a,b,c,d,e){"use strict";var f=a.extend({props:{url:"",pageName:"",defaultOptions:{isRunTimeCreated:!1,isNeedLoad:!0,loadDataType:"json",pageOptionsSelector:".b-page-config"},vars:{isAbortedState:!1,pageResponse:{}}},public:{initPage:function(){var a=this.$el.find(this.options.pageOptionsSelector);return a.length&&(this.pageOptions=JSON.parse(a.html().replace(/\r|\n|\t|\s{2,}/g,""))),this.trigger("pageLoad",{page:this.getPageName()}),this},setOptions:function(a){return d.isPlainObject(a)&&d.extend(!0,this.options,a),this},load:function(){var a=this.getLoadSettings();this.xhr=c.send(d.extend(a),{data:this.getLoadParams()}).success(function(a){a.isRedirect?b.go(a.location):a.request&&a.request.path!==window.location.pathname?b.checkRoutes({url:a.request.path},!0,a):this.onLoadSuccess(a)}.bind(this)).error(function(){this.onLoadError()}.bind(this))},abort:function(){return this.isAbortedState=!0,this.xhr.abort(),this},isPending:function(){return this.xhr&&"pending"===this.xhr.state()},isAborted:function(){return this.isAbortedState},isRunTimeCreated:function(){return this.options.isRunTimeCreated},isNeedLoad:function(){return this.options.isNeedLoad},setApp:function(a){return this.app=a,this},setPageName:function(a){return this.pageName=a,this},getPageName:function(){return this.pageName||!1},getTitle:function(){return""}},protected:{getUrl:function(){return(e.get("_sp_pages")||"")+this.url},adapter:function(a){return a},getResponse:function(){return this.pageResponse},setResponse:function(a){return this.pageResponse=d.extend({},!0,this.pageResponse,a),this},getLoadParams:function(){return{}},getLoadSettings:function(){return{url:this.getUrl(),dataType:this.options.loadDataType}},setPageTitle:function(){document.title=this.getTitle()},onLoadSuccess:function(a){this.setResponse(this.adapter(a)),this.setPageTitle(),this.render("main",this.getResponse())},onLoadError:function(){this.trigger("error")}}});return f}),define("config",[],function(){"use strict";return{env:"prod"}}),define("main",["event","model","view","router","collection","page","config"],function(a,b,c,d,e,f,g){"use strict";return{Event:a,Model:b,View:c,Router:d,Collection:e,Page:f,CONFIG:g}}),function(){"use strict";define("nerve",["main"],function(a){return a})}(),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=fa.type(a);return"function"!==c&&!fa.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function d(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(na.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return fa.inArray(a,b)>=0!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b=va[a]={};return fa.each(a.match(ua)||[],function(a,c){b[c]=!0}),b}function g(){pa.addEventListener?(pa.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1)):(pa.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(pa.addEventListener||"load"===event.type||"complete"===pa.readyState)&&(g(),fa.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(Aa,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:za.test(c)?fa.parseJSON(c):c)}catch(a){}fa.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!fa.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(fa.acceptData(a)){var e,f,g=fa.expando,h=a.nodeType,i=h?fa.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=W.pop()||fa.guid++:g),i[j]||(i[j]=h?{}:{toJSON:fa.noop}),"object"!=typeof b&&"function"!=typeof b||(d?i[j]=fa.extend(i[j],b):i[j].data=fa.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[fa.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[fa.camelCase(b)])):e=f,e}}function l(a,b,c){if(fa.acceptData(a)){var d,e,f=a.nodeType,g=f?fa.cache:a,h=f?a[fa.expando]:fa.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){fa.isArray(b)?b=b.concat(fa.map(b,fa.camelCase)):b in d?b=[b]:(b=fa.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!fa.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?fa.cleanData([a],!0):da.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function m(){return!0}function n(){return!1}function o(){try{return pa.activeElement}catch(a){}}function p(a){var b=La.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function q(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==ya?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==ya?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||fa.nodeName(d,b)?f.push(d):fa.merge(f,q(d,b));return void 0===b||b&&fa.nodeName(a,b)?fa.merge([a],f):f}function r(a){Fa.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b){return fa.nodeName(a,"table")&&fa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){return a.type=(null!==fa.find.attr(a,"type"))+"/"+a.type,a}function u(a){var b=Wa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){for(var c,d=0;null!=(c=a[d]);d++)fa._data(c,"globalEval",!b||fa._data(b[d],"globalEval"))}function w(a,b){if(1===b.nodeType&&fa.hasData(a)){var c,d,e,f=fa._data(a),g=fa._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)fa.event.add(b,c,h[c][d])}g.data&&(g.data=fa.extend({},g.data))}}function x(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!da.noCloneEvent&&b[fa.expando]){e=fa._data(b);for(d in e.events)fa.removeEvent(b,d,e.handle);b.removeAttribute(fa.expando)}"script"===c&&b.text!==a.text?(t(b).text=a.text,u(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),da.html5Clone&&a.innerHTML&&!fa.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Fa.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function y(b,c){var d=fa(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:fa.css(d[0],"display");return d.detach(),e}function z(a){var b=pa,c=ab[a];return c||(c=y(a,b),"none"!==c&&c||(_a=(_a||fa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(_a[0].contentWindow||_a[0].contentDocument).document,b.write(),b.close(),c=y(a,b),_a.detach()),ab[a]=c),c}function A(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=nb.length;e--;)if(b=nb[e]+c,b in a)return b;return d}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=fa._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Da(d)&&(f[g]=fa._data(d,"olddisplay",z(d.nodeName)))):f[g]||(e=Da(d),(c&&"none"!==c||!e)&&fa._data(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c){var d=jb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=fa.css(a,c+Ca[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+Ca[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+Ca[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+Ca[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+Ca[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=bb(a),g=da.boxSizing()&&"border-box"===fa.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=cb(a,b,f),(e<0||null==e)&&(e=a.style[b]),eb.test(e))return e;d=g&&(da.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b,c,d,e){return new G.prototype.init(a,b,c,d,e)}function H(){return setTimeout(function(){
ob=void 0}),ob=fa.now()}function I(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)c=Ca[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function J(a,b,c){for(var d,e=(ub[b]||[]).concat(ub["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function K(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Da(a),p=fa._data(a,"fxshow");c.queue||(h=fa._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,fa.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=fa.css(a,"display"),k=z(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===fa.css(a,"float")&&(da.inlineBlockNeedsLayout&&"inline"!==k?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",da.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],qb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||fa.style(a,d)}if(!fa.isEmptyObject(m)){p?"hidden"in p&&(o=p.hidden):p=fa._data(a,"fxshow",{}),f&&(p.hidden=!o),o?fa(a).show():l.done(function(){fa(a).hide()}),l.done(function(){var b;fa._removeData(a,"fxshow");for(b in m)fa.style(a,b,m[b])});for(d in m)g=J(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function L(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function M(a,b,c){var d,e,f=0,g=tb.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ob||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:ob||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(L(k,j.opts.specialEasing);f<g;f++)if(d=tb[f].call(j,a,k,j.opts))return d;return fa.map(k,J,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function N(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ua)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function O(a,b,c,d){function e(h){var i;return f[h]=!0,fa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Sb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function P(a,b){var c,d,e=fa.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&fa.extend(!0,a,c),a}function Q(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f)return f!==i[0]&&i.unshift(f),c[f]}function R(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function S(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||Vb.test(a)?d(a,e):S(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)S(a+"["+e+"]",b[e],c,d)}function T(){try{return new a.XMLHttpRequest}catch(a){}}function U(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function V(a){return fa.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var W=[],X=W.slice,Y=W.concat,Z=W.push,$=W.indexOf,_={},aa=_.toString,ba=_.hasOwnProperty,ca="".trim,da={},ea="1.11.0",fa=function(a,b){return new fa.fn.init(a,b)},ga=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ha=/^-ms-/,ia=/-([\da-z])/gi,ja=function(a,b){return b.toUpperCase()};fa.fn=fa.prototype={jquery:ea,constructor:fa,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return fa.each(this,a,b)},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:W.sort,splice:W.splice},fa.extend=fa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||fa.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(fa.isPlainObject(c)||(b=fa.isArray(c)))?(b?(b=!1,f=a&&fa.isArray(a)?a:[]):f=a&&fa.isPlainObject(a)?a:{},g[d]=fa.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},fa.extend({expando:"jQuery"+(ea+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray||function(a){return"array"===fa.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;try{if(a.constructor&&!ba.call(a,"constructor")&&!ba.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}if(da.ownLast)for(b in a)return ba.call(a,b);for(b in a);return void 0===b||ba.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?_[aa.call(a)]||"object":typeof a},globalEval:function(b){b&&fa.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ha,"ms-").replace(ia,ja)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;f<g&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;f<g&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:ca&&!ca.call("\ufeff ")?function(a){return null==a?"":ca.call(a)}:function(a){return null==a?"":(a+"").replace(ga,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):Z.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if($)return $.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;f<g;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return Y.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(e=a[b],b=a,a=e),fa.isFunction(a))return c=X.call(arguments,2),d=function(){return a.apply(b||this,c.concat(X.call(arguments)))},d.guid=a.guid=a.guid||fa.guid++,d},now:function(){return+new Date},support:da}),fa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){_["[object "+b+"]"]=b.toLowerCase()});var ka=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,o,p,q;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sa.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(o=l=N,p=b,q=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(l=b.getAttribute("id"))?o=l.replace(ua,"\\$&"):b.setAttribute("id",o),o="[id='"+o+"'] ",i=j.length;i--;)j[i]=o+n(j[i]);p=ta.test(a)&&k(b.parentNode)||b,q=j.join(",")}if(q)try{return _.apply(c,p.querySelectorAll(q)),c}catch(a){}finally{l||b.removeAttribute("id")}}}return v(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>y.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)y.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=y.preFilter;h;){d&&!(e=ja.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in y.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!d&&b?p:q(p,m,a,h,i),s=c?f||(d?a:o||e)?[]:g:r;if(c&&c(r,s,h,i),e)for(j=q(s,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?ba.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):_.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ba.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];h<e;h++)if(c=y.relative[a[h].type])k=[o(p(k),c)];else{if(c=y.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!y.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&n(a))}k.push(c)}return p(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&y.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}function u(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&y.relative[f[1].type]){if(b=(y.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!y.relative[h=g.type]);)if((i=y.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return _.apply(c,d),c;break}}return B(a,j)(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,aa=Y.slice,ba=Y.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},ca="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",da="[\\x20\\t\\r\\n\\f]",ea="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fa=ea.replace("w","w#"),ga="\\["+da+"*("+ea+")"+da+"*(?:([*^$|!~]?=)"+da+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+fa+")|)|)"+da+"*\\]",ha=":("+ea+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ga.replace(3,8)+")*)|.*)\\)|)",ia=new RegExp("^"+da+"+|((?:^|[^\\\\])(?:\\\\.)*)"+da+"+$","g"),ja=new RegExp("^"+da+"*,"+da+"*"),ka=new RegExp("^"+da+"*([>+~]|"+da+")"+da+"*"),la=new RegExp("="+da+"*([^\\]'\"]*?)"+da+"*\\]","g"),ma=new RegExp(ha),na=new RegExp("^"+fa+"$"),oa={ID:new RegExp("^#("+ea+")"),CLASS:new RegExp("^\\.("+ea+")"),TAG:new RegExp("^("+ea.replace("w","w*")+")"),ATTR:new RegExp("^"+ga),PSEUDO:new RegExp("^"+ha),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+da+"*(even|odd|(([+-]|)(\\d*)n|)"+da+"*(?:([+-]|)"+da+"*(\\d+)|))"+da+"*\\)|)","i"),bool:new RegExp("^(?:"+ca+")$","i"),needsContext:new RegExp("^"+da+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+da+"*((?:-\\d)?\\d*)"+da+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+da+"?|("+da+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=aa.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(a){_={apply:Y.length?function(a,b){$.apply(a,aa.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}x=b.support={},A=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!A(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),x.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=ra.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),x.getById?(y.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},y.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete y.find.ID,y.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),y.find.TAG=x.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==V)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},y.find.CLASS=x.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==V&&I)return b.getElementsByClassName(a)},K=[],J=[],(x.qsa=ra.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+da+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+da+"*(?:value|"+ca+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+da+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=ra.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ha)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?ba.call(D,a)-ba.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?ba.call(D,a)-ba.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),x.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=y.attrHandle[b.toLowerCase()],d=c&&X.call(y.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:x.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!x.detectDuplicates,D=!x.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},z=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=z(b);return c},y=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&ma.test(c)&&(b=m(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+da+")"+a+"("+da+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],y.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=ba.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[c<0?c+b:c]}),even:j(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},y.pseudos.nth=y.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[w]=h(w);for(w in{submit:!0,reset:!0})y.pseudos[w]=i(w);return l.prototype=y.filters=y.pseudos,y.setFilters=new l,B=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(U).join("")===N,x.detectDuplicates=!!E,F(),x.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ca,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);fa.find=ka,fa.expr=ka.selectors,fa.expr[":"]=fa.expr.pseudos,fa.unique=ka.uniqueSort,fa.text=ka.getText,fa.isXMLDoc=ka.isXML,fa.contains=ka.contains;var la=fa.expr.match.needsContext,ma=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,na=/^.[^:#\[\.,]*$/;fa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},fa.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;b<e;b++)if(fa.contains(d[b],this))return!0}));for(b=0;b<e;b++)fa.find(a,d[b],c);return c=this.pushStack(e>1?fa.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&la.test(a)?fa(a):a||[],!1).length}});var oa,pa=a.document,qa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ra=fa.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:qa.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||oa).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof fa?b[0]:b,fa.merge(this,fa.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:pa,!0)),ma.test(c[1])&&fa.isPlainObject(b))for(c in b)fa.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=pa.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return oa.find(a);this.length=1,this[0]=d}return this.context=pa,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?"undefined"!=typeof oa.ready?oa.ready(a):a(fa):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))};ra.prototype=fa.fn,oa=fa(pa);var sa=/^(?:parents|prev(?:Until|All))/,ta={children:!0,contents:!0,next:!0,prev:!0};fa.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!fa(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),fa.fn.extend({has:function(a){var b,c=fa(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(fa.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=la.test(a)||"string"!=typeof a?fa(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?fa.unique(f):f)},index:function(a){return a?"string"==typeof a?fa.inArray(this[0],fa(a)):fa.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(fa.unique(fa.merge(this.get(),fa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return fa.dir(a,"parentNode")},parentsUntil:function(a,b,c){return fa.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return fa.dir(a,"nextSibling")},prevAll:function(a){return fa.dir(a,"previousSibling")},nextUntil:function(a,b,c){return fa.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return fa.dir(a,"previousSibling",c)},siblings:function(a){return fa.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return fa.sibling(a.firstChild)},contents:function(a){return fa.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(ta[a]||(e=fa.unique(e)),sa.test(a)&&(e=e.reverse())),this.pushStack(e)}});var ua=/\S+/g,va={};fa.Callbacks=function(a){a="string"==typeof a?va[a]||f(a):fa.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(c=a.memory&&f,d=!0,g=h||0,h=0,e=i.length,b=!0;i&&g<e;g++)if(i[g].apply(f[0],f[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function b(c){fa.each(c,function(c,d){var e=fa.type(d);"function"===e?a.unique&&l.has(d)||i.push(d):d&&d.length&&"string"!==e&&b(d)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&fa.each(arguments,function(a,c){for(var d;(d=fa.inArray(c,i,d))>-1;)i.splice(d,1),b&&(d<=e&&e--,d<=g&&g--)}),this},has:function(a){return a?fa.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],
c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=X.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?X.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var wa;fa.fn.ready=function(a){return fa.ready.promise().done(a),this},fa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){if(a===!0?!--fa.readyWait:!fa.isReady){if(!pa.body)return setTimeout(fa.ready);fa.isReady=!0,a!==!0&&--fa.readyWait>0||(wa.resolveWith(pa,[fa]),fa.fn.trigger&&fa(pa).trigger("ready").off("ready"))}}}),fa.ready.promise=function(b){if(!wa)if(wa=fa.Deferred(),"complete"===pa.readyState)setTimeout(fa.ready);else if(pa.addEventListener)pa.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else{pa.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&pa.documentElement}catch(a){}c&&c.doScroll&&!function a(){if(!fa.isReady){try{c.doScroll("left")}catch(b){return setTimeout(a,50)}g(),fa.ready()}}()}return wa.promise(b)};var xa,ya="undefined";for(xa in fa(da))break;da.ownLast="0"!==xa,da.inlineBlockNeedsLayout=!1,fa(function(){var a,b,c=pa.getElementsByTagName("body")[0];c&&(a=pa.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=pa.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==ya&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(da.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=pa.createElement("div");if(null==da.deleteExpando){da.deleteExpando=!0;try{delete a.test}catch(a){da.deleteExpando=!1}}a=null}(),fa.acceptData=function(a){var b=fa.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return(1===c||9===c)&&(!b||b!==!0&&a.getAttribute("classid")===b)};var za=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Aa=/([A-Z])/g;fa.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?fa.cache[a[fa.expando]]:a[fa.expando],!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),fa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=fa.data(f),1===f.nodeType&&!fa._data(f,"parsedAttrs"))){for(c=g.length;c--;)d=g[c].name,0===d.indexOf("data-")&&(d=fa.camelCase(d.slice(5)),i(f,d,e[d]));fa._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){fa.data(this,a)}):arguments.length>1?this.each(function(){fa.data(this,a,b)}):f?i(f,a,fa.data(f,a)):void 0},removeData:function(a){return this.each(function(){fa.removeData(this,a)})}}),fa.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=fa._data(a,b),c&&(!d||fa.isArray(c)?d=fa._data(a,b,fa.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return fa._data(a,c)||fa._data(a,c,{empty:fa.Callbacks("once memory").add(function(){fa._removeData(a,b+"queue"),fa._removeData(a,c)})})}}),fa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?fa.queue(this[0],a):void 0===b?this:this.each(function(){var c=fa.queue(this,a,b);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=fa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=fa._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ba=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ca=["Top","Right","Bottom","Left"],Da=function(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)},Ea=fa.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===fa.type(c)){e=!0;for(h in c)fa.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,fa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(fa(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Fa=/^(?:checkbox|radio)$/i;!function(){var a=pa.createDocumentFragment(),b=pa.createElement("div"),c=pa.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",da.leadingWhitespace=3===b.firstChild.nodeType,da.tbody=!b.getElementsByTagName("tbody").length,da.htmlSerialize=!!b.getElementsByTagName("link").length,da.html5Clone="<:nav></:nav>"!==pa.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),da.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",da.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",da.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,da.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){da.noCloneEvent=!1}),b.cloneNode(!0).click()),null==da.deleteExpando){da.deleteExpando=!0;try{delete b.test}catch(a){da.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=pa.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(da[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),da[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Ga=/^(?:input|select|textarea)$/i,Ha=/^key/,Ia=/^(?:mouse|contextmenu)|click/,Ja=/^(?:focusinfocus|focusoutblur)$/,Ka=/^([^.]*)(?:\.(.+)|)$/;fa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=fa._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=fa.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof fa===ya||a&&fa.event.triggered===a.type?void 0:fa.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(ua)||[""],h=b.length;h--;)f=Ka.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=fa.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=fa.event.special[n]||{},l=fa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&fa.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),fa.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=fa.hasData(a)&&fa._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ua)||[""],j=b.length;j--;)if(h=Ka.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(k)&&(delete q.handle,fa._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||pa],n=ba.call(b,"type")?b.type:b,o=ba.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||pa,3!==d.nodeType&&8!==d.nodeType&&!Ja.test(n+fa.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[fa.expando]?b:new fa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:fa.makeArray(c,[b]),j=fa.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!fa.isWindow(d)){for(i=j.delegateType||n,Ja.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||pa)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(fa._data(h,"events")||{})[b.type]&&fa._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&fa.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&fa.acceptData(d)&&g&&d[n]&&!fa.isWindow(d)){k=d[g],k&&(d[g]=null),fa.event.triggered=n;try{d[n]()}catch(a){}fa.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=fa.event.fix(a);var b,c,d,e,f,g=[],h=X.call(arguments),i=(fa._data(this,"events")||{})[a.type]||[],j=fa.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=fa.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(d.namespace)||(a.handleObj=d,a.data=d.data,c=((fa.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;f<h;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?fa(c,this).index(i)>=0:fa.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ia.test(e)?this.mouseHooks:Ha.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||pa),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||pa,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===o()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(fa.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=fa.extend(new fa.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?fa.event.trigger(e,null,b):fa.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},fa.removeEvent=pa.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===ya&&(a[d]=null),a.detachEvent(d,c))},fa.Event=function(a,b){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?m:n):this.type=a,b&&fa.extend(this,b),this.timeStamp=a&&a.timeStamp||fa.now(),void(this[fa.expando]=!0)):new fa.Event(a,b)},fa.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m,this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||fa.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),da.submitBubbles||(fa.event.special.submit={setup:function(){return!fa.nodeName(this,"form")&&void fa.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=fa.nodeName(b,"input")||fa.nodeName(b,"button")?b.form:void 0;c&&!fa._data(c,"submitBubbles")&&(fa.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),fa._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&fa.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return!fa.nodeName(this,"form")&&void fa.event.remove(this,"._submit")}}),da.changeBubbles||(fa.event.special.change={setup:function(){return Ga.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(fa.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),fa.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),fa.event.simulate("change",this,a,!0)})),!1):void fa.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ga.test(b.nodeName)&&!fa._data(b,"changeBubbles")&&(fa.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||fa.event.simulate("change",this.parentNode,a,!0)}),fa._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return fa.event.remove(this,"._change"),!Ga.test(this.nodeName)}}),da.focusinBubbles||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){fa.event.simulate(b,a.target,fa.event.fix(a),!0)};fa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=fa._data(d,b);e||d.addEventListener(a,c,!0),fa._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=fa._data(d,b)-1;e?fa._data(d,b,e):(d.removeEventListener(a,c,!0),fa._removeData(d,b))}}}),fa.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=n;else if(!d)return this;return 1===e&&(g=d,d=function(a){return fa().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=fa.guid++)),this.each(function(){fa.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,fa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=n),this.each(function(){fa.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return fa.event.trigger(a,b,c,!0)}});var La="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ma=/ jQuery\d+="(?:null|\d+)"/g,Na=new RegExp("<(?:"+La+")[\\s/>]","i"),Oa=/^\s+/,Pa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qa=/<([\w:]+)/,Ra=/<tbody/i,Sa=/<|&#?\w+;/,Ta=/<(?:script|style|link)/i,Ua=/checked\s*(?:[^=]|=\s*.checked.)/i,Va=/^$|\/(?:java|ecma)script/i,Wa=/^true\/(.*)/,Xa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ya={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:da.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Za=p(pa),$a=Za.appendChild(pa.createElement("div"));Ya.optgroup=Ya.option,Ya.tbody=Ya.tfoot=Ya.colgroup=Ya.caption=Ya.thead,Ya.th=Ya.td,fa.extend({clone:function(a,b,c){var d,e,f,g,h,i=fa.contains(a.ownerDocument,a);if(da.html5Clone||fa.isXMLDoc(a)||!Na.test("<"+a.nodeName+">")?f=a.cloneNode(!0):($a.innerHTML=a.outerHTML,$a.removeChild(f=$a.firstChild)),!(da.noCloneEvent&&da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(d=q(f),h=q(a),g=0;null!=(e=h[g]);++g)d[g]&&x(e,d[g]);if(b)if(c)for(h=h||q(a),d=d||q(f),g=0;null!=(e=h[g]);g++)w(e,d[g]);else w(a,f);return d=q(f,"script"),d.length>0&&v(d,!i&&q(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=p(b),n=[],o=0;o<l;o++)if(f=a[o],f||0===f)if("object"===fa.type(f))fa.merge(n,f.nodeType?[f]:f);else if(Sa.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Qa.exec(f)||["",""])[1].toLowerCase(),k=Ya[i]||Ya._default,h.innerHTML=k[1]+f.replace(Pa,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!da.leadingWhitespace&&Oa.test(f)&&n.push(b.createTextNode(Oa.exec(f)[0])),!da.tbody)for(f="table"!==i||Ra.test(f)?"<table>"!==k[1]||Ra.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)fa.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(fa.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),da.appendChecked||fa.grep(q(n,"input"),r),o=0;f=n[o++];)if((!d||fa.inArray(f,d)===-1)&&(g=fa.contains(f.ownerDocument,f),h=q(m.appendChild(f),"script"),g&&v(h),c))for(e=0;f=h[e++];)Va.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=fa.expando,i=fa.cache,j=da.deleteExpando,k=fa.event.special;null!=(c=a[g]);g++)if((b||fa.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?fa.event.remove(c,d):fa.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==ya?c.removeAttribute(h):c[h]=null,W.push(e))}}}),fa.fn.extend({text:function(a){return Ea(this,function(a){return void 0===a?fa.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pa).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?fa.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||fa.cleanData(q(c)),c.parentNode&&(b&&fa.contains(c.ownerDocument,c)&&v(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&fa.cleanData(q(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&fa.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return Ea(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Ma,""):void 0;if("string"==typeof a&&!Ta.test(a)&&(da.htmlSerialize||!Na.test(a))&&(da.leadingWhitespace||!Oa.test(a))&&!Ya[(Qa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Pa,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(fa.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,fa.cleanData(q(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=fa.isFunction(m);if(n||j>1&&"string"==typeof m&&!da.checkClone&&Ua.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=fa.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=fa.map(q(h,"script"),t),e=f.length;i<j;i++)d=h,i!==l&&(d=fa.clone(d,!0,!0),e&&fa.merge(f,q(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,fa.map(f,u),i=0;i<e;i++)d=f[i],Va.test(d.type||"")&&!fa._data(d,"globalEval")&&fa.contains(g,d)&&(d.src?fa._evalUrl&&fa._evalUrl(d.src):fa.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Xa,"")));h=c=null}return this}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=0,e=[],f=fa(a),g=f.length-1;d<=g;d++)c=d===g?this:this.clone(!0),fa(f[d])[b](c),Z.apply(e,c.get());return this.pushStack(e)}});var _a,ab={};!function(){var a,b,c=pa.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",da.opacity=/^0.5/.test(a.style.opacity),da.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,da.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){if(a=pa.getElementsByTagName("body")[0],!a)return;f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=pa.createElement("div"),e=pa.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==ya&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var bb,cb,db=/^margin/,eb=new RegExp("^("+Ba+")(?!px)[a-z%]+$","i"),fb=/^(top|right|bottom|left)$/;a.getComputedStyle?(bb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},cb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||fa.contains(a.ownerDocument,a)||(g=fa.style(a,b)),eb.test(g)&&db.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):pa.documentElement.currentStyle&&(bb=function(a){return a.currentStyle},cb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),eb.test(g)&&!fb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){function b(){var b,c,d=pa.getElementsByTagName("body")[0];d&&(b=pa.createElement("div"),c=pa.createElement("div"),b.style.cssText=j,d.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",fa.swap(d,null!=d.style.zoom?{zoom:1}:{},function(){e=4===c.offsetWidth}),f=!0,g=!1,h=!0,a.getComputedStyle&&(g="1%"!==(a.getComputedStyle(c,null)||{}).top,f="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),d.removeChild(b),c=d=null)}var c,d,e,f,g,h,i=pa.createElement("div"),j="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",k="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=i.getElementsByTagName("a")[0],c.style.cssText="float:left;opacity:.5",da.opacity=/^0.5/.test(c.style.opacity),da.cssFloat=!!c.style.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===i.style.backgroundClip,c=i=null,fa.extend(da,{reliableHiddenOffsets:function(){if(null!=d)return d;var a,b,c,e=pa.createElement("div"),f=pa.getElementsByTagName("body")[0];if(f)return e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=pa.createElement("div"),a.style.cssText=j,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",d=c&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,d},boxSizing:function(){return null==e&&b(),e},boxSizingReliable:function(){return null==f&&b(),f},pixelPosition:function(){return null==g&&b(),g},reliableMarginRight:function(){var b,c,d,e;if(null==h&&a.getComputedStyle){if(b=pa.getElementsByTagName("body")[0],!b)return;c=pa.createElement("div"),d=pa.createElement("div"),c.style.cssText=j,b.appendChild(c).appendChild(d),e=d.appendChild(pa.createElement("div")),e.style.cssText=d.style.cssText=k,e.style.marginRight=e.style.width="0",d.style.width="1px",h=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return h}})}(),fa.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var gb=/alpha\([^)]*\)/i,hb=/opacity\s*=\s*([^)]*)/,ib=/^(none|table(?!-c[ea]).+)/,jb=new RegExp("^("+Ba+")(.*)$","i"),kb=new RegExp("^([+-])=("+Ba+")","i"),lb={position:"absolute",visibility:"hidden",display:"block"},mb={letterSpacing:0,fontWeight:400},nb=["Webkit","O","Moz","ms"];fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:da.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=fa.camelCase(b),i=a.style;if(b=fa.cssProps[h]||(fa.cssProps[h]=B(i,h)),g=fa.cssHooks[b]||fa.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=kb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(fa.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||fa.cssNumber[h]||(c+="px"),da.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c}catch(a){}}},css:function(a,b,c,d){var e,f,g,h=fa.camelCase(b);return b=fa.cssProps[h]||(fa.cssProps[h]=B(a.style,h)),g=fa.cssHooks[b]||fa.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=cb(a,b,d)),"normal"===f&&b in mb&&(f=mb[b]),""===c||c?(e=parseFloat(f),c===!0||fa.isNumeric(e)?e||0:f):f}}),fa.each(["height","width"],function(a,b){fa.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&ib.test(fa.css(a,"display"))?fa.swap(a,lb,function(){return F(a,b,d)}):F(a,b,d)},set:function(a,c,d){var e=d&&bb(a);return D(a,c,d?E(a,b,d,da.boxSizing()&&"border-box"===fa.css(a,"boxSizing",!1,e),e):0)}}}),da.opacity||(fa.cssHooks.opacity={get:function(a,b){return hb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=fa.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===fa.trim(f.replace(gb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=gb.test(f)?f.replace(gb,e):f+" "+e)}}),fa.cssHooks.marginRight=A(da.reliableMarginRight,function(a,b){if(b)return fa.swap(a,{display:"inline-block"},cb,[a,"marginRight"])}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Ca[d]+b]=f[d]||f[d-2]||f[0];return e}},db.test(a)||(fa.cssHooks[a+b].set=D)}),fa.fn.extend({css:function(a,b){return Ea(this,function(a,b,c){var d,e,f={},g=0;if(fa.isArray(b)){for(d=bb(a),e=b.length;g<e;g++)f[b[g]]=fa.css(a,b[g],!1,d);return f}return void 0!==c?fa.style(a,b,c):fa.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Da(this)?fa(this).show():fa(this).hide()})}}),fa.Tween=G,G.prototype={constructor:G,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];return this.options.duration?this.pos=b=fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,
this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[fa.cssProps[a.prop]]||fa.cssHooks[a.prop])?fa.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},fa.fx=G.prototype.init,fa.fx.step={};var ob,pb,qb=/^(?:toggle|show|hide)$/,rb=new RegExp("^(?:([+-])=|)("+Ba+")([a-z%]*)$","i"),sb=/queueHooks$/,tb=[K],ub={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=rb.exec(b),f=e&&e[3]||(fa.cssNumber[a]?"":"px"),g=(fa.cssNumber[a]||"px"!==f&&+d)&&rb.exec(fa.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,fa.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};fa.Animation=fa.extend(M,{tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],ub[c]=ub[c]||[],ub[c].unshift(b)},prefilter:function(a,b){b?tb.unshift(a):tb.push(a)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Da).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=M(this,fa.extend({},a),f);(e||fa._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=fa.timers,g=fa._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&sb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=fa._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(I(b,!0),a,d,e)}}),fa.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.timers=[],fa.fx.tick=function(){var a,b=fa.timers,c=0;for(ob=fa.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||fa.fx.stop(),ob=void 0},fa.fx.timer=function(a){fa.timers.push(a),a()?fa.fx.start():fa.timers.pop()},fa.fx.interval=13,fa.fx.start=function(){pb||(pb=setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){clearInterval(pb),pb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fn.delay=function(a,b){return a=fa.fx?fa.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=pa.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=pa.createElement("select"),d=c.appendChild(pa.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",da.getSetAttribute="t"!==e.className,da.style=/top/.test(a.getAttribute("style")),da.hrefNormalized="/a"===a.getAttribute("href"),da.checkOn=!!b.value,da.optSelected=d.selected,da.enctype=!!pa.createElement("form").enctype,c.disabled=!0,da.optDisabled=!d.disabled,b=pa.createElement("input"),b.setAttribute("value",""),da.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),da.radioValue="t"===b.value,a=b=c=d=e=null}();var vb=/\r/g;fa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=fa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,fa(this).val()):a,null==e?e="":"number"==typeof e?e+="":fa.isArray(e)&&(e=fa.map(e,function(a){return null==a?"":a+""})),b=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=fa.valHooks[e.type]||fa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(vb,""):null==c?"":c)}}}),fa.extend({valHooks:{option:{get:function(a){var b=fa.find.attr(a,"value");return null!=b?b:fa.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(da.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)if(d=e[g],fa.inArray(fa.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(a){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,b){if(fa.isArray(b))return a.checked=fa.inArray(fa(a).val(),b)>=0}},da.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var wb,xb,yb=fa.expr.attrHandle,zb=/^(?:checked|selected)$/i,Ab=da.getSetAttribute,Bb=da.input;fa.fn.extend({attr:function(a,b){return Ea(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})}}),fa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===ya?fa.prop(a,b,c):(1===f&&fa.isXMLDoc(a)||(b=b.toLowerCase(),d=fa.attrHooks[b]||(fa.expr.match.bool.test(b)?xb:wb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=fa.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void fa.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ua);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)?Bb&&Ab||!zb.test(c)?a[d]=!1:a[fa.camelCase("default-"+c)]=a[d]=!1:fa.attr(a,c,""),a.removeAttribute(Ab?c:d)},attrHooks:{type:{set:function(a,b){if(!da.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),xb={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):Bb&&Ab||!zb.test(c)?a.setAttribute(!Ab&&fa.propFix[c]||c,c):a[fa.camelCase("default-"+c)]=a[c]=!0,c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=yb[b]||fa.find.attr;yb[b]=Bb&&Ab||!zb.test(b)?function(a,b,d){var e,f;return d||(f=yb[b],yb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,yb[b]=f),e}:function(a,b,c){if(!c)return a[fa.camelCase("default-"+b)]?b.toLowerCase():null}}),Bb&&Ab||(fa.attrHooks.value={set:function(a,b,c){return fa.nodeName(a,"input")?void(a.defaultValue=b):wb&&wb.set(a,b,c)}}),Ab||(wb={set:function(a,b,c){var d=a.getAttributeNode(c);if(d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c))return b}},yb.id=yb.name=yb.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},fa.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:wb.set},fa.attrHooks.contenteditable={set:function(a,b,c){wb.set(a,""!==b&&b,c)}},fa.each(["width","height"],function(a,b){fa.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}})),da.style||(fa.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Cb=/^(?:input|select|textarea|button|object)$/i,Db=/^(?:a|area)$/i;fa.fn.extend({prop:function(a,b){return Ea(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return a=fa.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(a){}})}}),fa.extend({propFix:{for:"htmlFor",class:"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!fa.isXMLDoc(a),f&&(b=fa.propFix[b]||b,e=fa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=fa.find.attr(a,"tabindex");return b?parseInt(b,10):Cb.test(a.nodeName)||Db.test(a.nodeName)&&a.href?0:-1}}}}),da.hrefNormalized||fa.each(["href","src"],function(a,b){fa.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),da.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this}),da.enctype||(fa.propFix.enctype="encoding");var Eb=/[\t\r\n\f]/g;fa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ua)||[];h<i;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=fa.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ua)||[];h<i;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?fa.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):fa.isFunction(a)?this.each(function(c){fa(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=fa(this),f=a.match(ua)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else c!==ya&&"boolean"!==c||(this.className&&fa._data(this,"__className__",this.className),this.className=this.className||a===!1?"":fa._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Eb," ").indexOf(b)>=0)return!0;return!1}}),fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Fb=fa.now(),Gb=/\?/,Hb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fa.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=fa.trim(b+"");return e&&!fa.trim(e.replace(Hb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():fa.error("Invalid JSON: "+b)},fa.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(a){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||fa.error("Invalid XML: "+b),c};var Ib,Jb,Kb=/#.*$/,Lb=/([?&])_=[^&]*/,Mb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ob=/^(?:GET|HEAD)$/,Pb=/^\/\//,Qb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Rb={},Sb={},Tb="*/".concat("*");try{Jb=location.href}catch(a){Jb=pa.createElement("a"),Jb.href="",Jb=Jb.href}Ib=Qb.exec(Jb.toLowerCase())||[],fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jb,type:"GET",isLocal:Nb.test(Ib[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,fa.ajaxSettings),b):P(fa.ajaxSettings,a)},ajaxPrefilter:N(Rb),ajaxTransport:N(Sb),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&a<300||304===a,c&&(s=Q(l,v,c)),s=R(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(fa.lastModified[f]=u),u=v.getResponseHeader("etag"),u&&(fa.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,!a&&w||(w="error",a<0&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=fa.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?fa(m):fa.event,o=fa.Deferred(),p=fa.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Mb.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(t<2)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Jb)+"").replace(Kb,"").replace(Pb,Ib[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=fa.trim(l.dataType||"*").toLowerCase().match(ua)||[""],null==l.crossDomain&&(d=Qb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Ib[1]&&d[2]===Ib[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Ib[3]||("http:"===Ib[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=fa.param(l.data,l.traditional)),O(Rb,l,b,v),2===t)return v;i=l.global,i&&0===fa.active++&&fa.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Ob.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Gb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Lb.test(f)?f.replace(Lb,"$1_="+Fb++):f+(Gb.test(f)?"&":"?")+"_="+Fb++)),l.ifModified&&(fa.lastModified[f]&&v.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&v.setRequestHeader("If-None-Match",fa.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Tb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=O(Sb,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(a){if(!(t<2))throw a;c(-1,a)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,b){return fa.get(a,void 0,b,"script")}}),fa.each(["get","post"],function(a,b){fa[b]=function(a,c,d,e){return fa.isFunction(c)&&(e=e||d,d=c,c=void 0),fa.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa._evalUrl=function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},fa.fn.extend({wrapAll:function(a){if(fa.isFunction(a))return this.each(function(b){fa(this).wrapAll(a.call(this,b))});if(this[0]){var b=fa(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return fa.isFunction(a)?this.each(function(b){fa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}}),fa.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!da.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||fa.css(a,"display"))},fa.expr.filters.visible=function(a){return!fa.expr.filters.hidden(a)};var Ub=/%20/g,Vb=/\[\]$/,Wb=/\r?\n/g,Xb=/^(?:submit|button|image|reset|file)$/i,Yb=/^(?:input|select|textarea|keygen)/i;fa.param=function(a,b){var c,d=[],e=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){e(this.name,this.value)});else for(c in a)S(c,a[c],b,e);return d.join("&").replace(Ub,"+")},fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&Yb.test(this.nodeName)&&!Xb.test(a)&&(this.checked||!Fa.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(Wb,"\r\n")}}):{name:b.name,value:c.replace(Wb,"\r\n")}}).get()}}),fa.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&T()||U()}:T;var Zb=0,$b={},_b=fa.ajaxSettings.xhr();a.ActiveXObject&&fa(a).on("unload",function(){for(var a in $b)$b[a](void 0,!0)}),da.cors=!!_b&&"withCredentials"in _b,_b=da.ajax=!!_b,_b&&fa.ajaxTransport(function(a){if(!a.crossDomain||da.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Zb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete $b[g],b=void 0,f.onreadystatechange=fa.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(a){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=$b[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=pa.head||fa("head")[0]||pa.documentElement;return{send:function(d,e){b=pa.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ac=[],bc=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ac.pop()||fa.expando+"_"+Fb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bc.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=fa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bc,"$1"+e):b.jsonp!==!1&&(b.url+=(Gb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||fa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ac.push(e)),g&&fa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),fa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||pa;var d=ma.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=fa.buildFragment([a],b,e),e&&e.length&&fa(e).remove(),fa.merge([],d.childNodes))};var cc=fa.fn.load;fa.fn.load=function(a,b,c){if("string"!=typeof a&&cc)return cc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),fa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&fa.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?fa("<div>").append(fa.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length};var dc=a.document.documentElement;fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&fa.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,fa.contains(b,e)?(typeof e.getBoundingClientRect!==ya&&(d=e.getBoundingClientRect()),c=V(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===fa.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(c=a.offset()),c.top+=fa.css(a[0],"borderTopWidth",!0),c.left+=fa.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-fa.css(d,"marginTop",!0),left:b.left-c.left-fa.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dc;a&&!fa.nodeName(a,"html")&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||dc})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);fa.fn[a]=function(d){return Ea(this,function(a,d,e){var f=V(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?fa(f).scrollLeft():e,c?e:fa(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),fa.each(["top","left"],function(a,b){fa.cssHooks[b]=A(da.pixelPosition,function(a,c){if(c)return c=cb(a,b),eb.test(c)?fa(a).position()[b]+"px":c})}),fa.each({Height:"height",Width:"width"},function(a,b){fa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){fa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Ea(this,function(b,c,d){var e;return fa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?fa.css(b,c,g):fa.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),fa.fn.size=function(){return this.length},fa.fn.andSelf=fa.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa});var ec=a.jQuery,fc=a.$;return fa.noConflict=function(b){return a.$===fa&&(a.$=fc),b&&a.jQuery===fa&&(a.jQuery=ec),fa},typeof b===ya&&(a.jQuery=fa),fa}),jQuery.noConflict(),function(a,b,c){"use strict";var d,e;if(a.uaMatch=function(a){a=a.toLowerCase();var b=/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c=/(ipad)/.exec(a)||/(iphone)/.exec(a)||/(android)/.exec(a)||/(windows phone)/.exec(a)||/(win)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||[];return{browser:b[3]||b[1]||"",version:b[2]||"0",platform:c[0]||""}},d=a.uaMatch(b.navigator.userAgent),e={},d.browser&&(e[d.browser]=!0,e.version=d.version,e.versionNumber=parseInt(d.version)),d.platform&&(e[d.platform]=!0),(e.chrome||e.opr||e.safari)&&(e.webkit=!0),e.rv){var f="msie";d.browser=f,e[f]=!0}if(e.opr){var g="opera";d.browser=g,e[g]=!0}if(e.safari&&e.android){var h="android";d.browser=h,e[h]=!0}e.name=d.browser,e.platform=d.platform,a.browser=e}(jQuery,window),function(a){function b(){}function c(a,b,d){var e=/(?:([\w0-9]+:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/;if(a&&!b){var f=c(),g=f._pathname,h=f._protocol;a=/^(?:[\w0-9]+\:)?\/\//.test(a)?0===a.indexOf("/")?h+a:a:h+"//"+f._host+(0===a.indexOf("/")?a:0===a.indexOf("?")?g+a:0===a.indexOf("#")?g+f._search+a:g.replace(/[^\/]+$/g,"")+a)}else a=b?a:w.href,B&&!d||(a=a.replace(/^[^#]*/,"")||"#",a=w.protocol+"//"+w.host+M.basepath+a.replace(new RegExp("^#[/]?(?:"+M.type+")?"),""));O.href=a;var i=e.exec(O.href),j=i[2]+(i[3]?":"+i[3]:""),k=i[4]||"/",l=i[5]||"",m="#"===i[6]?"":i[6]||"",n=k+l+m,o=k.replace(new RegExp("^"+M.basepath,"i"),M.type)+l;return{_href:i[1]+"//"+j+n,_protocol:i[1],_host:j,_hostname:i[2],_port:i[3]||"",_pathname:k,_search:l,_hash:m,_relative:n,_nohash:o,_special:o+m}}function d(){var a="";if(t)a+=t.getItem(N);else{var b=r.cookie.split(N+"=");b.length>1&&(a+=b.pop().split(";").shift()||"null")}try{S=v.parse(a)||{}}catch(a){S={}}J(F+"unload",function(){if(t)t.setItem(N,v.stringify(S));else{var a={};(a[w.href]=y.state)&&(r.cookie=N+"="+v.stringify(a))}},!1)}function e(c,d,e,f){e=e||{set:b};var g=!e.set,h=!e.get,i={configurable:!0,set:function(){g=1},get:function(){h=1}};try{D(c,d,i),c[d]=c[d],D(c,d,e)}catch(a){}if(!g||!h)if(c.__defineGetter__&&(c.__defineGetter__(d,i.get),c.__defineSetter__(d,i.set),c[d]=c[d],e.get&&c.__defineGetter__(d,e.get),e.set&&c.__defineSetter__(d,e.set)),g&&h||c!==a){if(!g||!h)try{try{var j=u.create(c);D(u.getPrototypeOf(j)===c?j:c,d,e);for(var k in c)"function"==typeof c[k]&&(j[k]=c[k].bind(c));try{f.call(j,j,c)}catch(a){}c=j}catch(a){D(c.constructor.prototype,d,e)}}catch(a){return!1}}else{try{var l=c[d];c[d]=null}catch(a){}if("execScript"in a)a.execScript("Public "+d,"VBScript");else try{D(c,d,{value:b})}catch(a){}c[d]=l}return c}function f(a,b,c){return c=c||{},a=a===X?w:a,c.set=c.set||function(c){a[b]=c},c.get=c.get||function(){return a[b]},c}function g(a,b,c){a in T?T[a].push(b):arguments.length>3?J(a,b,c,arguments[3]):J(a,b,c)}function h(a,b,c){var d=T[a];if(d){for(var e=d.length;--e;)if(d[e]===b){d.splice(e,1);break}}else K(a,b,c)}function i(c,d){var f=(""+("string"==typeof c?c:c.type)).replace(/^on/,""),g=T[f];if(g){if(d="string"==typeof c?d:c,null==d.target)for(var h=["target","currentTarget","srcElement","type"];c=h.pop();)d=e(d,c,{get:"type"===c?function(){return f}:function(){return a}});(("popstate"===f?a.onpopstate:a.onhashchange)||b).call(a,d);for(var i=0,j=g.length;i<j;i++)g[i].call(a,d);return!0}return L(c,d)}function j(){var a=r.createEvent?r.createEvent("Event"):r.createEventObject();a.initEvent?a.initEvent("popstate",!1,!1):a.type="popstate",a.state=y.state,i(a)}function k(){R&&(R=!1,j())}function l(a,b,d,e){if(!B){var f=c(b);f._relative!==c()._relative&&(P=e,d?w.replace("#"+f._special):w.hash=f._special)}!C&&a&&(S[w.href]=a),R=!1}function m(b){if(P){Q!==w.href&&j(),b=b||a.event;var d=c(P,!0),e=c();b.oldURL||(b.oldURL=d._href,b.newURL=e._href),d._hash!==e._hash&&i(b)}P=w.href}function n(a){setTimeout(function(){J("popstate",function(a){Q=w.href,C||(a=e(a,"state",{get:function(){return y.state}})),i(a)},!1)},0),!B&&a!==!0&&y.location&&(p(y.location.hash),k())}function o(b){var d=b||a.event,e=d.target||d.srcElement,f="defaultPrevented"in d?d.defaultPrevented:d.returnValue===!1;if(e&&"A"===e.nodeName&&!f){var g=c(),h=c(e.getAttribute("href",2)),i=g._href.split("#").shift()===h._href.split("#").shift();i&&h._hash&&(g._hash!==h._hash&&(y.location.hash=h._hash),p(h._hash),d.preventDefault?d.preventDefault():d.returnValue=!1)}}function p(b){var c=r.getElementById(b=(b||"").replace(/^#/,""));if(c&&c.id===b&&"A"===c.nodeName){var d=c.getBoundingClientRect();a.scrollTo(s.scrollLeft||0,d.top+(s.scrollTop||0)-(s.clientTop||0))}}function q(){var b=r.getElementsByTagName("script"),g=(b[b.length-1]||{}).src||"",h=g.indexOf("?")!==-1?g.split("?").pop():"";h.replace(/(\w+)(?:=([^&]*))?/g,function(a,b,c){M[b]=(c||("basepath"===b?"/":"")).replace(/^(0|false)$/,"")});try{t=a.sessionStorage}catch(a){}J(F+"hashchange",m,!1);var i=[X,E,U,a,W,y];C&&delete W.state;for(var j=0;j<i.length;j+=2)for(var k in i[j])if(i[j].hasOwnProperty(k))if("function"==typeof i[j][k])i[j+1][k]=i[j][k];else{var l=f(i[j],k,i[j][k]);if(!e(i[j+1],k,l,function(b,c){c===y&&(a.history=y=i[j+1]=b)}))return K(F+"hashchange",m,!1),!1;i[j+1]===a&&(T[k]=T[k.substr(2)]=[])}return M.redirect&&y.redirect(),!C&&v&&d(),
B||r[G](F+"click",o,!1),"complete"===r.readyState?n(!0):(B||c()._relative===M.basepath||(R=!0),J(F+"load",n,!1)),!0}if(a.history){var r=a.document,s=r.documentElement,t=null,u=a.Object,v=a.JSON,w=a.location,x=a.history,y=x,z=x.pushState,A=x.replaceState,B=!!z,C="state"in x,D=u.defineProperty,E=e({},"t")?{}:r.createElement("a"),F="",G=a.addEventListener?"addEventListener":(F="on")&&"attachEvent",H=a.removeEventListener?"removeEventListener":"detachEvent",I=a.dispatchEvent?"dispatchEvent":"fireEvent",J=a[G],K=a[H],L=a[I],M={basepath:"/",redirect:0,type:"/"},N="__historyAPI__",O=r.createElement("a"),P=w.href,Q="",R=!1,S={},T={},U={onhashchange:null,onpopstate:null},V=function(b,c){var d=a.history!==x;d&&(a.history=x),b.apply(x,c),d&&(a.history=y)},W={redirect:function(b,d){if(M.basepath=d=null==d?M.basepath:d,M.type=b=null==b?M.type:b,a.top==a.self&&!M.type){var e=c(null,!1,!0)._relative,f=w.pathname+w.search;B?(f=f.replace(/([^\/])$/,"$1/"),e!=d&&new RegExp("^"+d+"$","i").test(f)&&w.replace(e)):f!=d&&(f=f.replace(/([^\/])\?/,"$1/?"),new RegExp("^"+d,"i").test(f)&&w.replace(d+"#"+f.replace(new RegExp("^"+d,"i"),b)+w.hash))}},pushState:function(a,b,c){z&&V(z,arguments),l(a,c)},replaceState:function(a,b,c){delete S[w.href],A&&V(A,arguments),l(a,c,!0)},location:{set:function(b){a.location=b},get:function(){return B?w:E}},state:{get:function(){return S[w.href]||null}}},X={assign:function(a){0===(""+a).indexOf("#")?l(null,a):w.assign(a)},reload:function(){w.reload()},replace:function(a){0===(""+a).indexOf("#")?l(null,a,!0):w.replace(a)},toString:function(){return this.href},href:{get:function(){return c()._href}},protocol:null,host:null,hostname:null,port:null,pathname:{get:function(){return c()._pathname}},search:{get:function(){return c()._search}},hash:{set:function(a){l(null,(""+a).replace(/^(#|)/,"#"),!1,P)},get:function(){return c()._hash}}};q()&&(y.emulate=!B,a[G]=g,a[H]=h,a[I]=i)}}(window),function(){var a,b,c,d;!function(){var e={},f={};a=function(a,b,c){e[a]={deps:b,callback:c}},d=c=b=function(a){function c(b){if("."!==b.charAt(0))return b;for(var c=b.split("/"),d=a.split("/").slice(0,-1),e=0,f=c.length;e<f;e++){var g=c[e];if(".."===g)d.pop();else{if("."===g)continue;d.push(g)}}return d.join("/")}if(d._eak_seen=e,f[a])return f[a];if(f[a]={},!e[a])throw new Error("Could not find module "+a);for(var g,h=e[a],i=h.deps,j=h.callback,k=[],l=0,m=i.length;l<m;l++)"exports"===i[l]?k.push(g={}):k.push(b(c(i[l])));var n=j.apply(this,k);return f[a]=g||n}}(),a("promise/all",["./utils","exports"],function(a,b){"use strict";function c(a){var b=this;if(!d(a))throw new TypeError("You must pass an array to all.");return new b(function(b,c){function d(a){return function(b){f(a,b)}}function f(a,c){h[a]=c,0===--i&&b(h)}var g,h=[],i=a.length;0===i&&b([]);for(var j=0;j<a.length;j++)g=a[j],g&&e(g.then)?g.then(d(j),c):f(j,g)})}var d=a.isArray,e=a.isFunction;b.all=c}),a("promise/asap",["exports"],function(a){"use strict";function b(){return function(){process.nextTick(e)}}function c(){var a=0,b=new i(e),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function d(){return function(){j.setTimeout(e,1)}}function e(){for(var a=0;a<k.length;a++){var b=k[a],c=b[0],d=b[1];c(d)}k=[]}function f(a,b){var c=k.push([a,b]);1===c&&g()}var g,h="undefined"!=typeof window?window:{},i=h.MutationObserver||h.WebKitMutationObserver,j="undefined"!=typeof global?global:void 0===this?window:this,k=[];g="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():i?c():d(),a.asap=f}),a("promise/config",["exports"],function(a){"use strict";function b(a,b){return 2!==arguments.length?c[a]:void(c[a]=b)}var c={instrument:!1};a.config=c,a.configure=b}),a("promise/polyfill",["./promise","./utils","exports"],function(a,b,c){"use strict";function d(){var a;a="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;return new a.Promise(function(a){b=a}),f(b)}();a.Promise=e}var e=a.Promise,f=b.isFunction;c.polyfill=d}),a("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(!v(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof i))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],j(a,this)}function j(a,b){function c(a){o(b,a)}function d(a){q(b,a)}try{a(c,d)}catch(a){d(a)}}function k(a,b,c,d){var e,f,g,h,i=v(c);if(i)try{e=c(d),g=!0}catch(a){h=!0,f=a}else e=d,g=!0;n(b,e)||(i&&g?o(b,e):h?q(b,f):a===D?o(b,e):a===E&&q(b,e))}function l(a,b,c,d){var e=a._subscribers,f=e.length;e[f]=b,e[f+D]=c,e[f+E]=d}function m(a,b){for(var c,d,e=a._subscribers,f=a._detail,g=0;g<e.length;g+=3)c=e[g],d=e[g+b],k(b,c,d,f);a._subscribers=null}function n(a,b){var c,d=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(u(b)&&(d=b.then,v(d)))return d.call(b,function(d){return!!c||(c=!0,void(b!==d?o(a,d):p(a,d)))},function(b){return!!c||(c=!0,void q(a,b))}),!0}catch(b){return!!c||(q(a,b),!0)}return!1}function o(a,b){a===b?p(a,b):n(a,b)||p(a,b)}function p(a,b){a._state===B&&(a._state=C,a._detail=b,t.async(r,a))}function q(a,b){a._state===B&&(a._state=C,a._detail=b,t.async(s,a))}function r(a){m(a,a._state=D)}function s(a){m(a,a._state=E)}var t=a.config,u=(a.configure,b.objectOrFunction),v=b.isFunction,w=(b.now,c.all),x=d.race,y=e.resolve,z=f.reject,A=g.asap;t.async=A;var B=void 0,C=0,D=1,E=2;i.prototype={constructor:i,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this._state){var e=arguments;t.async(function(){k(c._state,d,e[c._state-1],c._detail)})}else l(this,d,a,b);return d},catch:function(a){return this.then(null,a)}},i.all=w,i.race=x,i.resolve=y,i.reject=z,h.Promise=i}),a("promise/race",["./utils","exports"],function(a,b){"use strict";function c(a){var b=this;if(!d(a))throw new TypeError("You must pass an array to race.");return new b(function(b,c){for(var d,e=0;e<a.length;e++)d=a[e],d&&"function"==typeof d.then?d.then(b,c):b(d)})}var d=a.isArray;b.race=c}),a("promise/reject",["exports"],function(a){"use strict";function b(a){var b=this;return new b(function(b,c){c(a)})}a.reject=b}),a("promise/resolve",["exports"],function(a){"use strict";function b(a){if(a&&"object"==typeof a&&a.constructor===this)return a;var b=this;return new b(function(b){b(a)})}a.resolve=b}),a("promise/utils",["exports"],function(a){"use strict";function b(a){return c(a)||"object"==typeof a&&null!==a}function c(a){return"function"==typeof a}function d(a){return"[object Array]"===Object.prototype.toString.call(a)}var e=Date.now||function(){return(new Date).getTime()};a.objectOrFunction=b,a.isFunction=c,a.isArray=d,a.now=e}),b("promise/polyfill").polyfill()}();var __extends=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),__decorate=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};define("app/banners",["require","exports","ts/utils","jquery","ts/view","util/helpers","util/promise","util/htmlescape","mimic/right-column"],function(a,b,c,d,e,f,g,h,i){"use strict";d(document.body).on("booster:loaded",function(){setTimeout(function(){j.startLoad(),j.initMimic()},2e3)});var j=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}__extends(b,a),j=b,b.prototype.init=function(){var a=Number(this.$el.attr("data-num")),b=Number(this.$el.attr("data-alternative-num")),c=this.$el.attr("data-section"),e={$el:this.$el,content:this.$el.html(),slot:a,type:this.$el.get(0).tagName.toLowerCase(),isDeferred:"1"===this.$el.attr("deferred")};return b&&(e.alternativeSlot=b),j.items.push(e),this.$el.get(0)===d('[data-mru-fragment="app/banners"]').last().get(0)&&(j.startLoad(),j.initMimic(c)),this},b.startLoad=function(a){var b=this;return new g(function(c,d){var e=[].concat(j.items),f=[],g=document.write;j.items.length?(j.items=[],document.write=function(){return!1},e.forEach(function(a){switch(a.type){case"script":f.push(a);break;case"textarea":a.isDeferred?b.waitWindowLoad().then(function(){return b.loadFromTextarea(a)}):b.loadFromTextarea(a);break;case"template":a.isDeferred?b.waitWindowLoad().then(function(){return b.loadFromTemplate(a)}):b.loadFromTemplate(a)}}),document.write=g,f.length?b.loadFromJsonp(f,a).then(c).catch(d):c()):c()})},b.load=function(a,b){return f.isArray(a)?a.forEach(function(a){f.isPlainObject(a)&&a.content&&(a.type="script",j.items.push(a))}):f.isPlainObject(a)&&a.content&&(a.type="script",j.items.push(a)),j.startLoad(b)},b.waitWindowLoad=function(){return new g(function(a){d("html").hasClass("window-loaded")?a():d(window).on("load",a)})},b.loadFromTextarea=function(a){var b=h.unescape(a.content);b=b.replace(/"""/g,"'\"'"),d('<span class="banner-'+a.slot+'"></span>').html(b).insertBefore(a.$el),setTimeout(function(){d(document.body).trigger("banner.loaded",{slot:a.slot})},500)},b.loadFromTemplate=function(a){d('<span class="banner-'+a.slot+'">'+a.content+"</span>").insertBefore(a.$el),setTimeout(function(){d(document.body).trigger("banner.loaded",{slot:a.slot})},500)},b.loadFromJsonp=function(a,b){var c,e=[],h=[],i=d(window).width(),k=d(window).height();return a.forEach(function(a){var b=f.isString(a.content)?JSON.parse(a.content):a.content,d=[];b.q&&(b.n&&d.push("n="+b.n),b.sitezone&&d.push("_SITEZONE="+b.sitezone),b.preview&&d.push("preview="+b.preview),b.targetNewDesign&&d.push("Target/new_design=1"),f.isArray(a.options)&&a.options.forEach(function(a){return d.push(a.key+"="+a.value)}),d.length&&(b.q+="?"+d.join("&")),e.indexOf(b.q)===-1&&e.push(b.q),h.push(a.$el),c||(c=a.lang))}),new g(function(g,l){d.ajax({dataType:"jsonp",data:f.extend({q:e,_SITEID:120,w:i,h:k,lang:c||"ru_RU"},b),url:window.location.protocol+"//ad.mail.ru/adq/",crossDomain:!0,jsonp:"callback",success:function(b){var c=document.write,e=function(a,b,c){b.html(c),a.fadeIn()};document.write=function(){return!1},b.forEach(function(b,c){var f,g,i=h[c];b.html?i&&Number(b.slot)===Number(i.attr("data-num"))&&(f=i.parent(),g=f.find(".banner-"+b.slot),g.length?g.find("yatag").length||/yandex/gi.test(b.html)?g.html(b.html):f.fadeOut(300,function(){return e(f,g,b.html)}):d('<span class="banner-'+b.slot+'">'+b.html+"</span>").insertBefore(i)):a[c]&&a[c].alternativeSlot&&j.load({content:{q:a[c].alternativeSlot}}).then(function(a){i&&a[0]&&Number(a[0].slot)===Number(i.attr("data-alternative-num"))&&(f=i.parent(),g=f.find(".banner-"+a[0].slot),g.length?g.find("yatag").length||/yandex/gi.test(a[0].html)?g.html(a[0].html):f.fadeOut(300,function(){return e(f,g,a[0].html)}):d('<span class="banner-'+a[0].slot+'">'+a[0].html+"</span>").insertBefore(i))})}),document.write=c,g(b)},error:l})})},b.initMimic=function(a){var b=d('[data-mru-fragment="right-banners"]'),c=f.parseJsonFromSrc(d(".b-mimic-adv-config")),e=f.extend(!0,{},c,{isAutoRefreshEnable:!0,isFixedRightEnable:c.isFixedRightEnable||"video"===a,parentRestoresCount:1,siteSection:a||"default"});j.mimic&&j.mimic.destroy(),b.length>0&&(j.mimic=i.createRunTime(e,b))};var j;return b.items=[],b=j=__decorate([c.extend(e)],b)}(e);return j}),define("mimic/css/item",["require","exports","mimic/css/utils"],function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getItemCSS=function(){var a={horizontal:c.getRandomClassName(),item:c.getRandomClassName(),itemFullLink:c.getRandomClassName(),fullLink:c.getRandomClassName(),title:c.getRandomClassName(),titleLink:c.getRandomClassName(),favicon:c.getRandomClassName(),picture:c.getRandomClassName(),content:c.getRandomClassName(),contacts:c.getRandomClassName(),contactsItem:c.getRandomClassName(),contactsItemLink:c.getRandomClassName(),warning:c.getRandomClassName()},b=function(){var b=document.createElement("style");b.innerHTML="\n            ."+a.item+" {\n                padding: 15px 0 15px 0;\n                border-bottom: 1px solid #e6e6e6;\n            }\n\n            "+c.clearfix(a.item)+"\n            \n            ."+a.item+":last-child {\n                padding: 15px 0 0 0;\n                border-bottom: none;\n            }\n\n            ."+a.title+",\n            ."+a.content+",\n            ."+a.contacts+" {\n                font-size: 13px;\n            }\n\n            ."+a.content+",\n            ."+a.contacts+",\n            ."+a.warning+" {\n                overflow: hidden;\n            }\n\n            ."+a.title+" {\n                line-height: 15px;\n                margin-bottom: 6px;\n                font-weight: bold;\n            }\n\n            ."+a.title+":hover {\n                text-decoration: none;\n            }\n\n            ."+a.titleLink+",\n            ."+a.contactsItem+"."+a.contactsItemLink+" {\n                color: #0077cc;\n                font-size: 13px;\n                line-height: 15px;\n            }\n\n            ."+a.titleLink+":hover,\n            ."+a.contactsItem+"."+a.contactsItemLink+":hover {\n                text-decoration: underline;\n            }\n\n            ."+a.favicon+" {\n                margin-top: -0.2em;\n                margin-right: .4em;\n                max-width: 16px;\n                max-height: 16px;\n                display: inline-block;\n                vertical-align: middle;\n\n            }\n\n            ."+a.picture+" {\n                float: left;\n                font-size: 0;\n                padding-right: 12px;\n            }\n\n            ."+a.picture+" img{\n                max-width: 100px;\n                max-height: 100px;\n            }\n\n            ."+a.content+" {\n                line-height: 15px;\n                color: #333;\n            }\n\n            ."+a.contacts+" {\n                line-height: 0;\n                margin-top: 4px;\n            }\n\n            ."+a.contactsItem+" {\n                color: #999;\n                font-size: 11px;\n                padding-right: 10px;\n                line-height: 12px;\n                margin-top: 4px;\n            }\n\n            ."+a.warning+" {\n                border: 0;\n                font-size: 11px;\n                line-height: 12px;\n                margin-top: 6px;\n                margin-bottom: 0;\n                padding: 0;\n                color: #999;\n                overflow: visible;\n            }\n\n            ."+a.warning+":before {\n                content: '*';\n                display: inline-block;\n                margin-right: 1px;\n                margin-left: -5px;\n            }\n\n            /*** HORIZONTAL ***/\n\n            ."+a.horizontal+"."+a.item+" {\n                box-sizing: border-box;\n                float: left;\n                height: 100%;\n                max-width: 500px;\n                padding: 0;\n                padding-right: 20px;\n                border-bottom: none;\n            }\n            \n            ."+a.horizontal+"."+a.item+":last-child {\n                padding-right: 0;\n            }\n\n            ."+a.itemFullLink+" ."+a.fullLink+" {\n                text-decoration: none;\n                cursor: pointer;\n            }\n\n            ."+a.itemFullLink+" ."+a.fullLink+":hover ."+a.titleLink+",\n            ."+a.itemFullLink+" ."+a.fullLink+":hover ."+a.contactsItemLink+" {\n                text-decoration: underline;\n            }\n        ",document.head.appendChild(b)};return{CSS:a,render:b}}}),define("mimic/css/items",["require","exports","mimic/css/utils"],function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getItemsCSS=function(a){var b={horizontal:c.getRandomClassName(),items:c.getRandomClassName(),logo:c.getRandomClassName(),logoLink:c.getRandomClassName(),list:c.getRandomClassName()},d=function(){var d=document.createElement("style");d.innerHTML="\n            ."+b.items+" ."+b.logo+" {\n                padding-left: 0;\n            }\n            ."+b.items+" ."+b.logoLink+" {\n                color: #999;\n                font-size: 11px;\n                text-decoration: none;\n                line-height: 12px;\n                cursor: pointer;\n            }\n            ."+b.items+" ."+b.logoLink+":hover {\n                text-decoration: underline;\n            }\n\n            /*** HORIZONTAL ***/\n\n            "+c.clearfix(b.horizontal+"."+b.items+" ."+b.list)+"\n            \n            ."+b.horizontal+"."+b.items+" ."+b.list+" {\n                display: flex;\n                justify-content: center;\n                box-sizing: border-box;\n            }\n\n            ."+b.horizontal+"."+b.items+" ."+b.logo+" {\n                margin-bottom: 10px;\n            }\n\n            /*** HORIZONTAL APPS ***/\n\n            ."+a.root+"."+a.section+"__"+a.sections["app-right"]+" \n            ."+b.horizontal+"."+b.items+" ."+b.list+" {\n                padding-left: 10px;\n                padding-right: 10px;\n            }\n            \n            ."+a.root+"."+a.section+"__"+a.sections["app-top"]+" \n            ."+b.horizontal+"."+b.items+" ."+b.list+",\n            ."+a.root+"."+a.section+"__"+a.sections["app-bottom"]+" \n            ."+b.horizontal+"."+b.items+" ."+b.list+" {\n                height: 120px;\n                padding: 5px 60px;\n                overflow-y: hidden;\n            }\n\n            ."+a.root+"."+a.section+"__"+a.sections["app-top"]+" \n            ."+b.horizontal+"."+b.items+" ."+b.logo+",\n            ."+a.root+"."+a.section+"__"+a.sections["app-bottom"]+" \n            ."+b.horizontal+"."+b.items+" ."+b.logo+" {\n                position: absolute;\n                margin-bottom: 0;\n            }\n        ",document.head.appendChild(d)};return{CSS:b,render:d}}}),define("mimic/css/mimic",["require","exports","mimic/css/utils"],function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getMainCSS=function(){var a,b={root:c.getRandomClassName(),section:c.getRandomClassName(),sections:(a={default:c.getRandomClassName(),history:c.getRandomClassName(),video:c.getRandomClassName(),photoLayer:c.getRandomClassName()},a["app-top"]=c.getRandomClassName(),a["app-bottom"]=c.getRandomClassName(),a["app-right"]=c.getRandomClassName(),a[404]=c.getRandomClassName(),a)},d=function(){var a=document.createElement("style");a.innerHTML="\n            ."+b.root+" {\n                box-sizing: border-box;\n            }\n\n            ."+b.root+"."+b.section+"__"+b.sections["app-top"]+",\n            ."+b.root+"."+b.section+"__"+b.sections["app-bottom"]+" {\n                display: flex;\n                justify-content: center;\n            }\n            \n            ."+b.root+"."+b.section+"__"+b.sections["app-right"]+" {\n                padding-left: 10px;\n                padding-right: 10px;\n                background-color: #fff;\n            }\n            \n            .body-theme-enable ."+b.root+" {\n                padding: 5px 15px;\n                background-color: #fff;\n                border-radius: 3px;\n            }\n        ",document.head.appendChild(a)};return{CSS:b,render:d}}}),define("mimic/css/utils",["require","exports"],function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRandomClassName=function(){return(Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)).replace(/^\d+/,"")},b.clearfix=function(a){return"\n        ."+a+" {\n            *zoom: 1;\n        }\n        \n        ."+a+':after {\n            content: "\\0020";\n            display: block;\n            height: 0;\n            clear: both;\n            overflow: hidden;\n            visibility: hidden;\n        }\n    '}});var __extends=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),__decorate=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};define("mimic/item",["require","exports","ts/utils","jquery","ts/view"],function(a,b,c,d,e){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var f=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.clns={CLICK:20001145},b}return __extends(b,a),b.prototype.init=function(){return this.$el.attr("data-clns",this.clns.CLICK),this},b.prototype.onClick=function(){d('\n            <form action="/friends" method="post" target="_blank">\n                <input type="hidden" name="mimic_url" value="'+this.model.url+'"/>\n            </form>\n        ').appendTo(document.body).submit().remove()},b=__decorate([c.meta({events:{click:"onClick"}}),c.extend(e)],b)}(e);b.MimicItem=f});var __extends=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),__decorate=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,f&&(g=2&c[0]?f.return:c[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,c[1])).done)return g;switch(f=0,g&&(c=[2&c[0],g.value]),c[0]){case 0:case 1:g=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,f=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(g=i.trys,!(g=g.length>0&&g[g.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3])){i.label=c[1];break}if(6===c[0]&&i.label<g[1]){i.label=g[1],g=c;break}if(g&&i.label<g[2]){i.label=g[2],i.ops.push(c);break}g[2]&&i.ops.pop(),i.trys.pop();continue}c=b.call(a,i)}catch(a){c=[6,a],f=0}finally{e=g=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,g,h,i={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return h={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h};define("mimic/mimic",["require","exports","ts/utils","jquery","ts/view","util/window-visibility","counters","client-server","external/cookie","mimic/item","mimic/css/mimic","mimic/css/items","mimic/css/item"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n=k.getMainCSS(),o=n.CSS,p=n.render,q=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.isRunInit=!1,b.isAdblockEnableState=null,b.isVisibilityState=!0,b.mimicUpdateTimer=null,b.clns={TRY_SHOW:20001138,SUCCESS_SHOW:20001144,SEARCH_UID_EMPTY:37881682,XHR_ERROR:37881686},b.clnsGrst={FETCH_MAIL_MIMIC:"fetch_mail_mimic",FETCH_RB_MIMIC:"fetch_rb_mimic",EMPTY_RESPONSE:"empty_response",XHR_ERROR:"xhr_error",XHR_ERROR_STATUS:"xhr_error_status_"},b.onWindowResize=function(){if(b.isAdblockEnable()&&("app-top"===b.options.siteSection||"app-bottom"===b.options.siteSection)){var a=d(".l-app__canvas").width();b.$el.add(b.$el.parent()).css("width",a+"px")}},b.onWindowVisibilityChange=function(a,c){b.isVisibilityState=c,c&&b.isAutoRefreshEnable()?b.runMimicAutoRefresh():b.stopMimicAutoRefresh()},b}__extends(b,a),k=b,b.prototype.init=function(){var a=this;return this.isEnable()&&(setTimeout(function(){return a.delayedInit()},Number(this.options.timeout)),this.options.isEnableSecondCheck&&setTimeout(function(){return a.delayedInit(!0)},Number(this.options.timeoutSecondCheck))),k.isMainCssRendered||p(),this},b.prototype.destroy=function(){return a.prototype.destroy.call(this),this.windowVisibility&&(this.windowVisibility.destroy(),delete this.windowVisibility),d(window).off("resize",this.onWindowResize),this.stopMimicAutoRefresh(),this},b.prototype.delayedInit=function(a){this.isDestroyed||(this.isAdblockEnableState=a?this.isAdblockEnableState||this.checkAdblockEnable():this.checkAdblockEnable(),this.isAdblockEnable()&&this.runMimic(),d(window).on("resize",this.onWindowResize))},b.prototype.checkAdblockEnable=function(){return this.$el.get(0).clientHeight<this.options.minHeight&&this.$el.closest(document.body).length>0},b.prototype.isAdblockEnable=function(){return this.isAdblockEnableState},b.prototype.isEnable=function(){return this.options.isEnable&&("https:"===window.location.protocol||this.options.isHttpEnable)},b.prototype.isAutoRefreshEnable=function(){return this.isEnable()&&this.options.isAutoRefreshEnable},b.prototype.runMimic=function(){var a=this;this.isRunInit?this.show():(this.isRunInit=!0,g.myrb(this.clns.TRY_SHOW),this.runMimicItem(this.$el).then(function(){a.$el.addClass(o.root).addClass(o.section+"__"+o.sections[a.options.siteSection]),a.restoreVisible(),a.$el.addClass(o.root).addClass(o.section+"__"+o.sections[a.options.siteSection])}),this.runMimicAutoRefresh(),this.$el.trigger("mimic.init"),this.windowVisibility=new f,this.windowVisibility.on("visibilityChange",this.onWindowVisibilityChange))},b.prototype.hide=function(){this.$el.attr("style",(this.$el.attr("style")||"").replace(/;display:\s?[\w!]+;/g,"")+";display: none!important;"),this.stopMimicAutoRefresh()},b.prototype.show=function(){this.$el.attr("style",(this.$el.attr("style")||"").replace(/;display:\s?[\w!]+;/g,"")+";display: block!important;"),this.runMimicAutoRefresh()},b.prototype.mygrst=function(a){g.mygrst("mimic."+a)},b.prototype.getUrl=function(a,b){return"/api-proxy/mimic"+(b?"-rb":"")+"/v1/"+a},b.prototype.fetch=function(a){return __awaiter(this,void 0,void 0,function(){var b=this;return __generator(this,function(c){return[2,new Promise(function(c,d){a?b.mygrst(b.clnsGrst.FETCH_RB_MIMIC):b.mygrst(b.clnsGrst.FETCH_MAIL_MIMIC),b.xhr=h.func("",{page_id:b.options.id,location:window.location.href,stat_id:b.options.statId,slot:b.options.rb.slot,original:b.options.rb.originalSlot},{url:"/friends",success:function(e){return __awaiter(b,void 0,void 0,function(){return __generator(this,function(b){return a&&(e=e.result),e&&200===e.status?c(e):d(),[2]})})},error:function(a){g.myrb(b.clns.XHR_ERROR),b.mygrst(b.clnsGrst.XHR_ERROR),a&&a[0]&&a[0].status?(b.mygrst(""+b.clnsGrst.XHR_ERROR_STATUS+a[0].status),(new Image).src="//csp.my.mail.ru/jserr/mimic?status="+a[0].status+"&response="+String(a[0].responseText).slice(0,50)):(a.message||a.stack)&&((new Image).src="//csp.my.mail.ru/jserr/mimic?message="+a.message+"&stack="+a.stack),d()}},null,null,null,!0,null,b.getUrl("page",a))})]})})},b.prototype.renderMimicItem=function(a,b,c){return __awaiter(this,void 0,void 0,function(){var d,e,f,h,k,n,p,q=this;return __generator(this,function(r){switch(r.label){case 0:d=null;try{d=b.body.direct.direct_title.url.indexOf("target")===-1?"/adv-direct":"/adv-target"}catch(a){}return e="horizontal"===this.options.type,f=l.getItemsCSS(o),h=m.getItemCSS(),Array.isArray(b.body.direct.ads)&&0!==b.body.direct.ads.length?[3,1]:(this.mygrst(this.clnsGrst.EMPTY_RESPONSE),[3,3]);case 1:return k=b.body.direct.ads.sort(function(){return Math.round(100*Math.random())%2===0?1:-1}).slice(0,this.options.limit).map(function(a){var b=a.images?a.images[0]:null;return{isHorizontal:e,css:h.CSS,width:e?100/q.options.limit+"%":"auto",url:a.url,linkTail:a.link_tail,punyDomain:a.puny_domain,title:a.title,image:b?{url:b[0],width:b[1],height:b[2]}:null,body:a.body,domain:a.domain,region:a.region,warning:a.warning}}),[4,this.render("items",{isHorizontal:e,css:f.CSS,title:b.body.direct.direct_title,items:k})];case 2:n=r.sent(),p=b.body.common.link_head.replace(/^.+\/count\//,""),f.render(),h.render(),a.html(""),n.appendTo(a),n.find("."+h.CSS.item).each(function(a,b){j.MimicItem.createRunTime({model:k[a]},b)}),d&&n.find("."+f.CSS.logoLink).on("click",function(){window.open(d)}),k.forEach(function(a){return p+=a.linkTail}),this.count({page_id:this.options.id,search_uid:i.get("searchuid"),location:window.location.href,stat_id:this.options.statId,slot:this.options.slot,original:this.options.rb.originalSlot,referer:document.referrer,agent:window.navigator.userAgent,key:p},c),g.myrb(this.clns.SUCCESS_SHOW),this.options.counter&&g.myrb(this.options.counter),r.label=3;case 3:return[2]}})})},b.prototype.fetchAndRenderMimicItem=function(a,b){return __awaiter(this,void 0,void 0,function(){var c;return __generator(this,function(d){switch(d.label){case 0:return[4,this.fetch(b)];case 1:return c=d.sent(),[4,this.renderMimicItem(a,c,b)];case 2:return d.sent(),[2]}})})},b.prototype.runMimicItem=function(a){var b=this;return new Promise(function(c,d){return __awaiter(b,void 0,void 0,function(){var b;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,9,,10]),i.get("searchuid")?this.options.rb.isEnable&&this.options.rb.isPriority?[4,this.fetchAndRenderMimicItem(a,!0)]:[3,2]:[3,5];case 1:return e.sent(),[3,4];case 2:return[4,this.fetchAndRenderMimicItem(a)];case 3:e.sent(),e.label=4;case 4:return c(),[3,8];case 5:return g.myrb(this.clns.SEARCH_UID_EMPTY),this.options.rb.isEnable?[4,this.fetchAndRenderMimicItem(a,!0)]:[3,7];case 6:return e.sent(),c(),[3,8];case 7:d(),e.label=8;case 8:return[3,10];case 9:return b=e.sent(),d(b),[3,10];case 10:return[2]}})})})},b.prototype.count=function(a,b){h.func("",a,{url:"/friends"},null,null,null,!0,null,this.getUrl("count",b))},b.prototype.abort=function(){this.xhr&&this.xhr.abort()},b.prototype.runMimicAutoRefresh=function(){var a=this;this.isAutoRefreshEnable()&&(this.stopMimicAutoRefresh(),this.mimicUpdateTimer=setInterval(function(){if(a.isVisibilityState){var b=d("<div></div>");g.myrb(a.clns.TRY_SHOW),b.hide().insertBefore(d("."+o.root+"."+o.section+"__"+o.sections[a.options.siteSection])),a.runMimicItem(b).then(function(){d("."+o.root+"."+o.section+"__"+o.sections[a.options.siteSection]).not(b).remove(),a.setElement(b),b.show().addClass(o.root).addClass(o.section+"__"+o.sections[a.options.siteSection]),a.restoreVisible(),b.show().addClass(o.root).addClass(o.section+"__"+o.sections[a.options.siteSection])}).catch(function(){b.remove()})}},this.options.interval))},b.prototype.stopMimicAutoRefresh=function(){clearInterval(this.mimicUpdateTimer)},b.prototype.getRestoredDisplayValueByTagName=function(a){
switch(a){case"DIV":return"app-right"===this.options.siteSection?"table-cell":"block";case"A":return"inline";case"IMG":return"inline-block";case"STYLE":case"SCRIPT":return"none";default:return"block"}},b.prototype.getRestoredMarginLeft=function(a){var b=window.getComputedStyle(a||this.$el.get(0)),c=b["margin-left"],e=parseInt(c,10),f="auto";if("video"!==this.options.siteSection||a!==this.$el.get(0)&&a)e>=0&&e<=window.screen.width&&(f=c);else{var g=d(window).width();f=g>=1580?"527px":g>=1360?"420px":"380px"}return f},b.prototype.getRestoredMarginTop=function(a){var b=window.getComputedStyle(a||this.$el.get(0)),c=b["margin-top"],d=c;return"default"!==this.options.siteSection||a!==this.$el.get(0)&&a?d:"15px"},b.prototype.restoreVisible=function(){for(var a=this,b=this.$el,c=this.$el,d=0;d<this.options.parentRestoresCount;d++)c=c.parent(),b=b.add(c);b.each(function(b,c){var d=window.getComputedStyle(c),e=["position","display","opacity","visibility","height","width","left","right","top","bottom","padding-left","padding-right","padding-top","padding-bottom","margin-left","margin-right","margin-top","margin-bottom","background-color"],f=e.map(function(b){var e;switch(b){case"display":e=a.getRestoredDisplayValueByTagName(c.tagName);break;case"position":e="app-right"===a.options.siteSection?"relative":d[b];break;case"opacity":e="1";break;case"visibility":e="visible";break;case"width":case"height":var f=parseInt(d[b],10);e=f>0?d[b]:"auto";break;case"left":case"right":var f=parseInt(d[b],10);e=f>=0&&f<=window.screen.width?d[b]:"auto";break;case"margin-left":e=a.getRestoredMarginLeft(c);break;case"margin-top":e=a.getRestoredMarginTop(c);break;default:e=d[b]}return b+":"+e});c.setAttribute("style",f.join(";")),c.removeAttribute("id"),c.removeAttribute("data-mru-fragment"),c.removeAttribute("data-mru-fragment-ready"),c.className=""})};var k;return b.isMainCssRendered=!1,b=k=__decorate([c.meta({defaultOptions:{type:"vertical",siteSection:"default",isAutoRefreshEnable:!1,minHeight:20,timeout:5e3},templates:{items:"mimic/tmpl/items"}}),c.extend(e)],b)}(e);return q});var __extends=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),__decorate=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},__awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,f&&(g=2&c[0]?f.return:c[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,c[1])).done)return g;switch(f=0,g&&(c=[2&c[0],g.value]),c[0]){case 0:case 1:g=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,f=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(g=i.trys,!(g=g.length>0&&g[g.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3])){i.label=c[1];break}if(6===c[0]&&i.label<g[1]){i.label=g[1],g=c;break}if(g&&i.label<g[2]){i.label=g[2],i.ops.push(c);break}g[2]&&i.ops.pop(),i.trys.pop();continue}c=b.call(a,i)}catch(a){c=[6,a],f=0}finally{e=g=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,g,h,i={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return h={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h};define("mimic/right-column",["require","exports","ts/utils","jquery","util/scroll","util/project-head-height","mimic/mimic"],function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.onWindowResize=function(){b.isEnable()&&b.isWideWindow()&&!b.isAdblockEnable()&&setTimeout(function(){b.isAdblockEnableState=b.isAdblockEnableState||b.checkAdblockEnable(),b.isAdblockEnable()&&b.runMimic()},Number(b.options.timeout)),b.isAdblockEnable()&&(b.isWideWindow()?(b.isRunInit?b.show():b.runMimic(),"video"===b.options.siteSection&&b.$el.css("marginLeft",b.getRestoredMarginLeft())):b.hide())},b.onWindowScroll=function(){b.isAdblockEnable()&&b.checkFixed()},b}return __extends(b,a),b.prototype.destroy=function(){return a.prototype.destroy.call(this),e.off(this.onWindowScroll),this},b.prototype.runMimic=function(){this.isWideWindow()?a.prototype.runMimic.call(this):this.hide()},b.prototype.delayedInit=function(b){a.prototype.delayedInit.call(this,b),this.isDestroyed||e.on(this.onWindowScroll)},b.prototype.runMimicItem=function(b){var c=this;return new Promise(function(d,e){return __awaiter(c,void 0,void 0,function(){var c;return __generator(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,a.prototype.runMimicItem.call(this,b)];case 1:return f.sent(),this.checkFixed(b),d(),[3,3];case 2:return c=f.sent(),e(c),[3,3];case 3:return[2]}})})})},b.prototype.show=function(){a.prototype.show.call(this),this.checkFixed()},b.prototype.checkAdblockEnable=function(){var b=this.$el&&this.$el.is(".head-fixed .b-fourth-pseudo-column_wrapper.single.fixed .b-right-banner-block-1");return a.prototype.checkAdblockEnable.call(this)&&this.$el&&!b&&this.isWideWindow()},b.prototype.isWideWindow=function(){var a,b=d(window).width();return a="video"===this.options.siteSection?b>=1280:"app-top"===this.options.siteSection||"app-bottom"===this.options.siteSection||b>=1235},b.prototype.isHeadFixed=function(){return"app-right"===this.options.siteSection?d(window).scrollTop()>f.getHeadSectionHeight()+d(".app-navigation").outerHeight():d(document.body).hasClass("head-fixed")||d(".sp-video").hasClass("fixed")},b.prototype.isAutoRefreshEnable=function(){return a.prototype.isAutoRefreshEnable.call(this)&&this.isWideWindow()},b.prototype.getSourcePosition=function(){return"video"===this.options.siteSection?"absolute":"relative"},b.prototype.getSourceCssLeft=function(){return"video"===this.options.siteSection?"50%":"auto"},b.prototype.getSourceCssRight=function(){return"auto"},b.prototype.getSourceCssTop=function(){return"video"===this.options.siteSection?0:15},b.prototype.getFixedCssTop=function(){return"video"===this.options.siteSection?d(".sp-video__head").outerHeight()+15:"app-right"===this.options.siteSection?10:f.getHeight()+15},b.prototype.getFixedCssLeft=function(){return"video"===this.options.siteSection?"50%":"auto"},b.prototype.getFixedCssRight=function(){return"app-right"===this.options.siteSection?2:"auto"},b.prototype.fixed=function(a){a.css({position:"fixed",top:this.getFixedCssTop(),width:240,left:this.getFixedCssLeft(),right:this.getFixedCssRight(),marginTop:0})},b.prototype.unfixed=function(a){a.css({position:this.getSourcePosition(),left:this.getSourceCssLeft(),right:this.getSourceCssRight(),top:this.getSourceCssTop(),marginTop:0})},b.prototype.checkFixed=function(a){a||(a=this.$el),this.options.isFixedRightEnable&&(this.isHeadFixed()?this.fixed(a):this.unfixed(a))},b=__decorate([c.extend(g)],b)}(g);return h}),define("mimic/tmpl/item",["handlebars","handlebars-helpers"],function(a,b){return b(a),a.template({1:function(a,b,c,d,e){var f;return a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.horizontal:f,b))},3:function(a,b,c,d,e){var f;return'style="width: '+a.escapeExpression((f=null!=(f=c.width||(null!=b?b.width:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"width",hash:{},data:e}):f))+'"'},5:function(a,b,c,d,e){var f,g,h=null!=b?b:{};return(null!=(f=c.if.call(h,null!=b?b.punyDomain:b,{name:"if",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:"")+"\n\t\t\t\t<span>"+(null!=(g=null!=(g=c.title||(null!=b?b.title:b))?g:c.helperMissing,f="function"==typeof g?g.call(h,{name:"title",hash:{},data:e}):g)?f:"")+"</span>\n"},6:function(a,b,c,d,e){var f,g;return'\t\t\t\t\t<img class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.favicon:f,b))+'" src="//favicon.yandex.net/favicon/'+(null!=(g=null!=(g=c.punyDomain||(null!=b?b.punyDomain:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"punyDomain",hash:{},data:e}):g)?f:"")+'" alt="" />\n'},8:function(a,b,c,d,e){var f,g,h=a.lambda,i=a.escapeExpression;return'\t\t<div class="'+i(h(null!=(f=null!=b?b.css:b)?f.picture:f,b))+'">\n\t\t\t<a href="'+(null!=(g=null!=(g=c.url||(null!=b?b.url:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"url",hash:{},data:e}):g)?f:"")+'" target="_blank">\n\t\t\t\t<img src="'+(null!=(f=h(null!=(f=null!=b?b.image:b)?f.url:f,b))?f:"")+'" width="'+i(h(null!=(f=null!=b?b.image:b)?f.width:f,b))+'" height="'+i(h(null!=(f=null!=b?b.image:b)?f.height:f,b))+'" alt="" />\n\t\t\t</a>\n\t\t</div>\n'},10:function(a,b,c,d,e){var f,g;return'\t\t\t<span class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.contactsItem:f,b))+'">\n\t\t\t\t'+(null!=(g=null!=(g=c.region||(null!=b?b.region:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"region",hash:{},data:e}):g)?f:"")+"\n\t\t\t</span>\n"},12:function(a,b,c,d,e){var f,g;return'\t\t<div class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.warning:f,b))+'">'+(null!=(g=null!=(g=c.warning||(null!=b?b.warning:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"warning",hash:{},data:e}):g)?f:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h,i=a.lambda,j=a.escapeExpression,k=null!=b?b:{},l=c.helperMissing,m="function",n='<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.item:f,b))+" "+(null!=(f=c.if.call(k,null!=b?b.isHorizontal:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" '+(null!=(f=c.if.call(k,null!=b?b.isHorizontal:b,{name:"if",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'>\n\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.title:f,b))+'">\n\t\t<a class="'+j(i(null!=(f=null!=b?b.css:b)?f.titleLink:f,b))+'" href="'+(null!=(g=null!=(g=c.url||(null!=b?b.url:b))?g:l,f=typeof g===m?g.call(k,{name:"url",hash:{},data:e}):g)?f:"")+'" target="_blank">\n';return g=null!=(g=c.spaceless||(null!=b?b.spaceless:b))?g:l,h={name:"spaceless",hash:{},fn:a.program(5,e,0),inverse:a.noop,data:e},f=typeof g===m?g.call(k,h):g,c.spaceless||(f=c.blockHelperMissing.call(b,f,h)),null!=f&&(n+=f),n+"\t\t</a>\n\t</div>\n\n"+(null!=(f=c.if.call(k,null!=b?b.image:b,{name:"if",hash:{},fn:a.program(8,e,0),inverse:a.noop,data:e}))?f:"")+'\n\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.content:f,b))+'">'+(null!=(g=null!=(g=c.body||(null!=b?b.body:b))?g:l,f=typeof g===m?g.call(k,{name:"body",hash:{},data:e}):g)?f:"")+'</div>\n\n\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.contacts:f,b))+'">\n\t\t<a class="'+j(i(null!=(f=null!=b?b.css:b)?f.contactsItem:f,b))+" "+j(i(null!=(f=null!=b?b.css:b)?f.contactsItemLink:f,b))+'" href="'+(null!=(g=null!=(g=c.url||(null!=b?b.url:b))?g:l,f=typeof g===m?g.call(k,{name:"url",hash:{},data:e}):g)?f:"")+'" target="_blank">\n\t\t\t'+(null!=(g=null!=(g=c.domain||(null!=b?b.domain:b))?g:l,f=typeof g===m?g.call(k,{name:"domain",hash:{},data:e}):g)?f:"")+"\n\t\t</a>\n\n"+(null!=(f=c.if.call(k,null!=b?b.region:b,{name:"if",hash:{},fn:a.program(10,e,0),inverse:a.noop,data:e}))?f:"")+"\t</div>\n\n"+(null!=(f=c.if.call(k,null!=b?b.warning:b,{name:"if",hash:{},fn:a.program(12,e,0),inverse:a.noop,data:e}))?f:"")+"</div>"},useData:!0})}),define("mimic/tmpl/item-link",["handlebars","handlebars-helpers"],function(a,b){return b(a),a.template({1:function(a,b,c,d,e){var f;return a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.horizontal:f,b))},3:function(a,b,c,d,e){var f;return'style="width: '+a.escapeExpression((f=null!=(f=c.width||(null!=b?b.width:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"width",hash:{},data:e}):f))+'"'},5:function(a,b,c,d,e){var f,g,h=null!=b?b:{};return(null!=(f=c.if.call(h,null!=b?b.punyDomain:b,{name:"if",hash:{},fn:a.program(6,e,0),inverse:a.noop,data:e}))?f:"")+"\n\t\t\t\t\t<span>"+(null!=(g=null!=(g=c.title||(null!=b?b.title:b))?g:c.helperMissing,f="function"==typeof g?g.call(h,{name:"title",hash:{},data:e}):g)?f:"")+"</span>\n"},6:function(a,b,c,d,e){var f,g;return'\t\t\t\t\t\t<img class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.favicon:f,b))+'" src="//favicon.yandex.net/favicon/'+(null!=(g=null!=(g=c.punyDomain||(null!=b?b.punyDomain:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"punyDomain",hash:{},data:e}):g)?f:"")+'" alt="" />\n'},8:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'\t\t\t<div class="'+h(g(null!=(f=null!=b?b.css:b)?f.picture:f,b))+'">\n\t\t\t\t<img src="'+(null!=(f=g(null!=(f=null!=b?b.image:b)?f.url:f,b))?f:"")+'" width="'+h(g(null!=(f=null!=b?b.image:b)?f.width:f,b))+'" height="'+h(g(null!=(f=null!=b?b.image:b)?f.height:f,b))+'" alt="" />\n\t\t\t</div>\n'},10:function(a,b,c,d,e){var f,g;return'\t\t\t\t<span class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.contactsItem:f,b))+'">\n\t\t\t\t\t'+(null!=(g=null!=(g=c.region||(null!=b?b.region:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"region",hash:{},data:e}):g)?f:"")+"\n\t\t\t\t</span>\n"},12:function(a,b,c,d,e){var f,g;return'\t\t\t<div class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.warning:f,b))+'">'+(null!=(g=null!=(g=c.warning||(null!=b?b.warning:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"warning",hash:{},data:e}):g)?f:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g,h,i=a.lambda,j=a.escapeExpression,k=null!=b?b:{},l=c.helperMissing,m="function",n='<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.item:f,b))+" "+j(i(null!=(f=null!=b?b.css:b)?f.itemFullLink:f,b))+" "+(null!=(f=c.if.call(k,null!=b?b.isHorizontal:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" '+(null!=(f=c.if.call(k,null!=b?b.isHorizontal:b,{name:"if",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+'>\n\t<span class="'+j(i(null!=(f=null!=b?b.css:b)?f.fullLink:f,b))+'">\n\t\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.title:f,b))+'">\n\t\t\t<span class="'+j(i(null!=(f=null!=b?b.css:b)?f.titleLink:f,b))+'">\n';return g=null!=(g=c.spaceless||(null!=b?b.spaceless:b))?g:l,h={name:"spaceless",hash:{},fn:a.program(5,e,0),inverse:a.noop,data:e},f=typeof g===m?g.call(k,h):g,c.spaceless||(f=c.blockHelperMissing.call(b,f,h)),null!=f&&(n+=f),n+"\t\t\t</span>\n\t\t</div>\n\n"+(null!=(f=c.if.call(k,null!=b?b.image:b,{name:"if",hash:{},fn:a.program(8,e,0),inverse:a.noop,data:e}))?f:"")+'\n\t\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.content:f,b))+'">'+(null!=(g=null!=(g=c.body||(null!=b?b.body:b))?g:l,f=typeof g===m?g.call(k,{name:"body",hash:{},data:e}):g)?f:"")+'</div>\n\n\t\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.contacts:f,b))+'">\n\t\t\t<span class="'+j(i(null!=(f=null!=b?b.css:b)?f.contactsItem:f,b))+" "+j(i(null!=(f=null!=b?b.css:b)?f.contactsItemLink:f,b))+'">\n\t\t\t\t'+(null!=(g=null!=(g=c.domain||(null!=b?b.domain:b))?g:l,f=typeof g===m?g.call(k,{name:"domain",hash:{},data:e}):g)?f:"")+"\n\t\t\t</span>\n\n"+(null!=(f=c.if.call(k,null!=b?b.region:b,{name:"if",hash:{},fn:a.program(10,e,0),inverse:a.noop,data:e}))?f:"")+"\t\t</div>\n\n"+(null!=(f=c.if.call(k,null!=b?b.warning:b,{name:"if",hash:{},fn:a.program(12,e,0),inverse:a.noop,data:e}))?f:"")+"\t</span>\n</div>"},useData:!0})}),define("mimic/tmpl/items",["handlebars","handlebars-helpers"],function(a,b){return b(a),a.template({1:function(a,b,c,d,e){var f;return a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.horizontal:f,b))},3:function(a,b,c,d,e){var f;return null!=(f=c.if.call(null!=b?b:{},(f=(f=e&&e.root)&&f.options)&&f.isFullLinkEnable,{name:"if",hash:{},fn:a.program(4,e,0),inverse:a.program(16,e,0),data:e}))?f:""},4:function(a,b,c,d,e){var f,g,h,i=a.lambda,j=a.escapeExpression,k=null!=b?b:{},l=c.helperMissing,m="function",n='\t\t\t\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.item:f,b))+" "+j(i(null!=(f=null!=b?b.css:b)?f.itemFullLink:f,b))+" "+(null!=(f=c.if.call(k,null!=b?b.isHorizontal:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" '+(null!=(f=c.if.call(k,null!=b?b.isHorizontal:b,{name:"if",hash:{},fn:a.program(5,e,0),inverse:a.noop,data:e}))?f:"")+'>\n\t<span class="'+j(i(null!=(f=null!=b?b.css:b)?f.fullLink:f,b))+'">\n\t\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.title:f,b))+'">\n\t\t\t<span class="'+j(i(null!=(f=null!=b?b.css:b)?f.titleLink:f,b))+'">\n';return g=null!=(g=c.spaceless||(null!=b?b.spaceless:b))?g:l,h={name:"spaceless",hash:{},fn:a.program(7,e,0),inverse:a.noop,data:e},f=typeof g===m?g.call(k,h):g,c.spaceless||(f=c.blockHelperMissing.call(b,f,h)),null!=f&&(n+=f),n+"\t\t\t</span>\n\t\t</div>\n\n"+(null!=(f=c.if.call(k,null!=b?b.image:b,{name:"if",hash:{},fn:a.program(10,e,0),inverse:a.noop,data:e}))?f:"")+'\n\t\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.content:f,b))+'">'+(null!=(g=null!=(g=c.body||(null!=b?b.body:b))?g:l,f=typeof g===m?g.call(k,{name:"body",hash:{},data:e}):g)?f:"")+'</div>\n\n\t\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.contacts:f,b))+'">\n\t\t\t<span class="'+j(i(null!=(f=null!=b?b.css:b)?f.contactsItem:f,b))+" "+j(i(null!=(f=null!=b?b.css:b)?f.contactsItemLink:f,b))+'">\n\t\t\t\t'+(null!=(g=null!=(g=c.domain||(null!=b?b.domain:b))?g:l,f=typeof g===m?g.call(k,{name:"domain",hash:{},data:e}):g)?f:"")+"\n\t\t\t</span>\n\n"+(null!=(f=c.if.call(k,null!=b?b.region:b,{name:"if",hash:{},fn:a.program(12,e,0),inverse:a.noop,data:e}))?f:"")+"\t\t</div>\n\n"+(null!=(f=c.if.call(k,null!=b?b.warning:b,{name:"if",hash:{},fn:a.program(14,e,0),inverse:a.noop,data:e}))?f:"")+"\t</span>\n</div>\n"},5:function(a,b,c,d,e){var f;return'style="width: '+a.escapeExpression((f=null!=(f=c.width||(null!=b?b.width:b))?f:c.helperMissing,"function"==typeof f?f.call(null!=b?b:{},{name:"width",hash:{},data:e}):f))+'"'},7:function(a,b,c,d,e){var f,g,h=null!=b?b:{};return(null!=(f=c.if.call(h,null!=b?b.punyDomain:b,{name:"if",hash:{},fn:a.program(8,e,0),inverse:a.noop,data:e}))?f:"")+"\n\t\t\t\t\t<span>"+(null!=(g=null!=(g=c.title||(null!=b?b.title:b))?g:c.helperMissing,f="function"==typeof g?g.call(h,{name:"title",hash:{},data:e}):g)?f:"")+"</span>\n"},8:function(a,b,c,d,e){var f,g;return'\t\t\t\t\t\t<img class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.favicon:f,b))+'" src="//favicon.yandex.net/favicon/'+(null!=(g=null!=(g=c.punyDomain||(null!=b?b.punyDomain:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"punyDomain",hash:{},data:e}):g)?f:"")+'" alt="" />\n'},10:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression;return'\t\t\t<div class="'+h(g(null!=(f=null!=b?b.css:b)?f.picture:f,b))+'">\n\t\t\t\t<img src="'+(null!=(f=g(null!=(f=null!=b?b.image:b)?f.url:f,b))?f:"")+'" width="'+h(g(null!=(f=null!=b?b.image:b)?f.width:f,b))+'" height="'+h(g(null!=(f=null!=b?b.image:b)?f.height:f,b))+'" alt="" />\n\t\t\t</div>\n'},12:function(a,b,c,d,e){var f,g;return'\t\t\t\t<span class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.contactsItem:f,b))+'">\n\t\t\t\t\t'+(null!=(g=null!=(g=c.region||(null!=b?b.region:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"region",hash:{},data:e}):g)?f:"")+"\n\t\t\t\t</span>\n"},14:function(a,b,c,d,e){var f,g;return'\t\t\t<div class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.warning:f,b))+'">'+(null!=(g=null!=(g=c.warning||(null!=b?b.warning:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"warning",hash:{},data:e}):g)?f:"")+"</div>\n"},16:function(a,b,c,d,e){var f,g,h,i=a.lambda,j=a.escapeExpression,k=null!=b?b:{},l=c.helperMissing,m="function",n='\t\t\t\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.item:f,b))+" "+(null!=(f=c.if.call(k,null!=b?b.isHorizontal:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'" '+(null!=(f=c.if.call(k,null!=b?b.isHorizontal:b,{name:"if",hash:{},fn:a.program(5,e,0),inverse:a.noop,data:e}))?f:"")+'>\n\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.title:f,b))+'">\n\t\t<a class="'+j(i(null!=(f=null!=b?b.css:b)?f.titleLink:f,b))+'" href="'+(null!=(g=null!=(g=c.url||(null!=b?b.url:b))?g:l,f=typeof g===m?g.call(k,{name:"url",hash:{},data:e}):g)?f:"")+'" target="_blank">\n';return g=null!=(g=c.spaceless||(null!=b?b.spaceless:b))?g:l,h={name:"spaceless",hash:{},fn:a.program(17,e,0),inverse:a.noop,data:e},f=typeof g===m?g.call(k,h):g,c.spaceless||(f=c.blockHelperMissing.call(b,f,h)),null!=f&&(n+=f),n+"\t\t</a>\n\t</div>\n\n"+(null!=(f=c.if.call(k,null!=b?b.image:b,{name:"if",hash:{},fn:a.program(20,e,0),inverse:a.noop,data:e}))?f:"")+'\n\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.content:f,b))+'">'+(null!=(g=null!=(g=c.body||(null!=b?b.body:b))?g:l,f=typeof g===m?g.call(k,{name:"body",hash:{},data:e}):g)?f:"")+'</div>\n\n\t<div class="'+j(i(null!=(f=null!=b?b.css:b)?f.contacts:f,b))+'">\n\t\t<a class="'+j(i(null!=(f=null!=b?b.css:b)?f.contactsItem:f,b))+" "+j(i(null!=(f=null!=b?b.css:b)?f.contactsItemLink:f,b))+'" href="'+(null!=(g=null!=(g=c.url||(null!=b?b.url:b))?g:l,f=typeof g===m?g.call(k,{name:"url",hash:{},data:e}):g)?f:"")+'" target="_blank">\n\t\t\t'+(null!=(g=null!=(g=c.domain||(null!=b?b.domain:b))?g:l,f=typeof g===m?g.call(k,{name:"domain",hash:{},data:e}):g)?f:"")+"\n\t\t</a>\n\n"+(null!=(f=c.if.call(k,null!=b?b.region:b,{name:"if",hash:{},fn:a.program(22,e,0),inverse:a.noop,data:e}))?f:"")+"\t</div>\n\n"+(null!=(f=c.if.call(k,null!=b?b.warning:b,{name:"if",hash:{},fn:a.program(24,e,0),inverse:a.noop,data:e}))?f:"")+"</div>\n"},17:function(a,b,c,d,e){var f,g,h=null!=b?b:{};return(null!=(f=c.if.call(h,null!=b?b.punyDomain:b,{name:"if",hash:{},fn:a.program(18,e,0),inverse:a.noop,data:e}))?f:"")+"\n\t\t\t\t<span>"+(null!=(g=null!=(g=c.title||(null!=b?b.title:b))?g:c.helperMissing,f="function"==typeof g?g.call(h,{name:"title",hash:{},data:e}):g)?f:"")+"</span>\n"},18:function(a,b,c,d,e){var f,g;return'\t\t\t\t\t<img class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.favicon:f,b))+'" src="//favicon.yandex.net/favicon/'+(null!=(g=null!=(g=c.punyDomain||(null!=b?b.punyDomain:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"punyDomain",hash:{},data:e}):g)?f:"")+'" alt="" />\n'},20:function(a,b,c,d,e){var f,g,h=a.lambda,i=a.escapeExpression;return'\t\t<div class="'+i(h(null!=(f=null!=b?b.css:b)?f.picture:f,b))+'">\n\t\t\t<a href="'+(null!=(g=null!=(g=c.url||(null!=b?b.url:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"url",hash:{},data:e}):g)?f:"")+'" target="_blank">\n\t\t\t\t<img src="'+(null!=(f=h(null!=(f=null!=b?b.image:b)?f.url:f,b))?f:"")+'" width="'+i(h(null!=(f=null!=b?b.image:b)?f.width:f,b))+'" height="'+i(h(null!=(f=null!=b?b.image:b)?f.height:f,b))+'" alt="" />\n\t\t\t</a>\n\t\t</div>\n'},22:function(a,b,c,d,e){var f,g;return'\t\t\t<span class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.contactsItem:f,b))+'">\n\t\t\t\t'+(null!=(g=null!=(g=c.region||(null!=b?b.region:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"region",hash:{},data:e}):g)?f:"")+"\n\t\t\t</span>\n"},24:function(a,b,c,d,e){var f,g;return'\t\t<div class="'+a.escapeExpression(a.lambda(null!=(f=null!=b?b.css:b)?f.warning:f,b))+'">'+(null!=(g=null!=(g=c.warning||(null!=b?b.warning:b))?g:c.helperMissing,f="function"==typeof g?g.call(null!=b?b:{},{name:"warning",hash:{},data:e}):g)?f:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(a,b,c,d,e){var f,g=a.lambda,h=a.escapeExpression,i=null!=b?b:{};return'<div class="'+h(g(null!=(f=null!=b?b.css:b)?f.items:f,b))+" "+(null!=(f=c.if.call(i,null!=b?b.isHorizontal:b,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?f:"")+'">\n\t<div class="'+h(g(null!=(f=null!=b?b.css:b)?f.logo:f,b))+'">\n\t\t<span class="'+h(g(null!=(f=null!=b?b.css:b)?f.logoLink:f,b))+'">'+h(g(null!=(f=null!=b?b.title:b)?f.title:f,b))+'</span>\n\t</div>\n\n\t<div class="'+h(g(null!=(f=null!=b?b.css:b)?f.list:f,b))+'">\n'+(null!=(f=c.each.call(i,null!=b?b.items:b,{name:"each",hash:{},fn:a.program(3,e,0),inverse:a.noop,data:e}))?f:"")+"\t</div>\n</div>"},useData:!0})}),define("models/user/active",["base/view","util/helpers","models/user/user"],function(a,b,c){"use strict";var d=a.extend({singleton:!0,props:{vars:{readyCallbacks:[],model:null}},public:{init:function(){var a=JSON.parse(this.$el.html());return this.model=new c,this.model.set(a),this.constructor.onReady(),this},destroy:function(){return this}},static:{getInstance:function(){return this.instance.model},ready:function(a){this.readyCallbacks=this.readyCallbacks||[],b.isFunction(a)&&(this.instance&&this.instance.model?a():this.readyCallbacks.push(a))},get:function(){return this.instance.model?this.instance.model.get.apply(this.instance.model,arguments):null},set:function(){return this.instance.model.set.apply(this.instance.model,arguments)},isAuthorized:function(){return this.instance.model&&0!==String(this.instance.model.get("email")).length},getAvatar:function(){return this.instance.model&&this.instance.model.getAvatar()},onReady:function(){b.isArray(this.readyCallbacks)&&(this.readyCallbacks.forEach(function(a){a()}),this.readyCallbacks=[])}}});return d});var __extends=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),__decorate=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};define("models/user/journal",["require","exports","ts/utils","ts/view","util/helpers","util/promise","models/user/user"],function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=this,e=d=a.apply(this,b)||this;return e}__extends(b,a),h=b,b.prototype.init=function(){return this.update(),this},b.prototype.destroy=function(){return this},b.prototype.onTypeChange=function(){this.update(this.model.toJSON())},b.prototype.update=function(a){var b=this;return a=a||JSON.parse(this.$el.html()),this.modelFactory(a).then(function(a){b.model=a,h.onReady(),b.model.on("change.isCommunity",b.onTypeChange.bind(b)),b.model.on("change.isVideoChannel",b.onTypeChange.bind(b))}).catch(function(a){return webConsole.error(a)})},b.prototype.modelFactory=function(a){var b,c=this;return new f(function(d){a.isCommunity?a.isVideoChannel?c.require("videoChannel",function(c){b=new c,b.set(a),d(b)}):c.require("community",function(c){b=new c,b.set(a),d(b)}):(b=new g,b.set(a),d(b))})},b.ready=function(a){this.readyCallbacks=this.readyCallbacks||[],e.isFunction(a)&&(this.instance&&this.instance.model?a():this.readyCallbacks.push(a))},b.onReady=function(){e.isArray(this.readyCallbacks)&&(this.readyCallbacks.forEach(function(a){return a()}),this.readyCallbacks=[])},b.get=function(a){return this.instance.model.get.apply(this.instance.model,arguments)},b.set=function(a,b,c){return this.instance.model.set.apply(this.instance.model,arguments)},b.update=function(a){return this.instance.update(a)},b.isAuthorized=function(){return 0!==String(this.instance.model.get("email")).length},b.isCommunity=function(){return this.instance.model.get("isCommunity")},b.isVideoChannel=function(){return this.instance.model.get("isVideoChannel")},b.getInstance=function(){return this.instance.model};var h;return b.readyCallbacks=[],b=h=__decorate([c.meta({singleton:!0,deferred:{community:"models/community",videoChannel:"models/media/video/channel"}}),c.extend(d)],b)}(d);return h});var __extends=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),__decorate=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};define("models/user/user",["require","exports","ts/utils","client-server","ts/model","util/promise","util/helpers","util/hosts"],function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.funcFriendShip="friendship.add",b.funcDeleteFriend="friendship.delete",b.funcComplaint="mras.complaint",b.funcSubscribe="history.subscribe_user",b.funcSetCoverFromAlbums="cover.add_from_other",b.funcGetCoverInfo="cover.edit_cover",b.funcSetCover="cover.set_cover",b.funcRemoveCover="cover.del_cover",b.funcGetAvatar="photo.get_avatar",b.funcSetAvatar="photo.set_avatar",b.isComplaintThrottled=!1,b.timerUpdateLastVisit=null,b}return __extends(b,a),b.prototype.init=function(){return this.options.isAutoUpdateLastVisit&&(this.timerUpdateLastVisit=setInterval(this.updateLastVisit.bind(this),this.options.intervalUpdateLastVisit)),this.options.isNotBuildAvatars||this.buildAvatars(),this.buildCoverUrl(),this.get("lastVisitTimeStamp")&&this.updateLastVisit(),this},b.prototype.destroy=function(){return a.prototype.destroy.call(this),this.timerUpdateLastVisit&&(clearInterval(this.timerUpdateLastVisit),this.timerUpdateLastVisit=null),this},b.prototype.subscribe=function(){return this.sendSubscribe(!0)},b.prototype.unSubscribe=function(){return this.sendSubscribe(!1)},b.prototype.friendship=function(){var a=this;return new f(function(b,c){a.require("suggestShowUser",function(e){var f=new e,g=f.getUser(a.get("email"));g&&(a.set("friend_from","suggest"),a.set("suggest_reasons",g.suggest_reasons)),d.func(a.funcFriendShip,a.getFriendshipParams(),a.getFriendshipSettings()).success(function(a){"OK"===a[1]?b(a.slice(2)):c(a)}).error(c)})})},b.prototype.complaint=function(){var a,b=this;return this.isComplaintThrottled===!1&&(this.isComplaintThrottled=!0,setTimeout(function(){b.isComplaintThrottled=!1},1e3),a=new f(function(a,c){d.func(b.funcComplaint,{type:b.get("isCommunity")?2:36,journalUser:b.get("email"),disturber:b.get("email")},{dataType:"json",type:"POST"}).success(function(b){"OK"===b[1]&&"ok"===b[2]?a():c()}).error(c)})),a},b.prototype.deleteFriend=function(){var a=this;return new f(function(b,c){d.func(a.funcDeleteFriend,{},{url:a.get("dir")+"ajax",dataType:"json",type:"POST"}).success(function(a){"OK"===a[1]?b():c()}).error(c)})},b.prototype.getAvatar=function(){var a=this;return new f(function(b,c){d.func(a.funcGetAvatar,{},{dataType:"json",success:function(a){"OK"===a[1]?b(a[3]):c()},error:c})})},b.prototype.setAvatar=function(a,b,c,e){var g=this;return new f(function(f,h){d.func(g.funcSetAvatar,g.getSetAvatarParams(a,b,c,e),g.getSetAvatarSettings()).success(function(a){
"OK"===a[1]?f(a.slice(2)):h(a)}).error(h)})},b.prototype.getAvatarUrl=function(a,b){var c,d=this.get("avatarChangeTime")||this.get("AvatarChangeTime");return a=a||"",c="small"===a?this.get("SmallAvatarURL"):180===Number(a)?this.get("Avatar180URL"):32===Number(a)?this.get("avatar32")||this.get("avatar")&&this.get("avatar")+a:this.get("AvatarURL")||this.get("avatar"),!c&&this.get("dir")&&(c=h.getAvatarHost(b).replace(/\/$/,"")+this.get("dir")+"_avatar"+a),c&&d&&(c+="?"+d),c},b.prototype.getCoverInfo=function(){var a=this;return new f(function(b,c){d.func(a.funcGetCoverInfo,{},{url:a.get("dir")+"ajax",dataType:"json"}).success(function(a){"OK"===a[1]?b(a[2]):c()}).error(c)})},b.prototype.setCover=function(a,b){var c=this;return new f(function(e,f){d.func(c.funcSetCover,{id:a,pos:b},{url:c.get("dir")+"ajax",dataType:"json"}).success(function(a){"OK"===a[1]?e(a[2]):f()}).error(f)})},b.prototype.setCoverFromAlbums=function(a,b){var c=this;return new f(function(e,f){d.func(c.funcSetCoverFromAlbums,{id:a,from:b},{url:c.get("dir")+"ajax",dataType:"json",type:"POST"}).success(function(a){"OK"===a[1]?e(a[2]):f()}).error(f)})},b.prototype.removeCover=function(){var a=this;return new f(function(b,c){d.func(a.funcRemoveCover,{},{url:a.get("dir")+"ajax",dataType:"json",type:"POST"}).success(function(a){"OK"===a[1]?b(a[2]):c()}).error(c)})},b.prototype.runAutoUpdateLastVisit=function(){return this.timerUpdateLastVisit=setInterval(this.updateLastVisit.bind(this),this.options.intervalUpdateLastVisit),this},b.prototype.getSubscribeParams=function(a){return{id:this.get("id"),action:a?1:0}},b.prototype.getSubscribeSettings=function(){return{url:this.getUrl(),dataType:"json"}},b.prototype.getFriendshipParams=function(){return{email:this.get("email"),accept:this.get("accept"),ref:this.get("ref")||"",friend_from:this.get("friend_from"),suggest_reasons:this.get("suggest_reasons")}},b.prototype.getSetAvatarParams=function(a,b,c,d){return{id:a,pos:[b,c,d].join(":")}},b.prototype.getSetAvatarSettings=function(){return{type:"post",dataType:"json"}},b.prototype.getFriendshipSettings=function(){return{url:this.getUrl(),type:"post",dataType:"json"}},b.prototype.buildAvatars=function(){this.set({avatar:this.getAvatarUrl(!1,this.options.avatarShard),avatar180:this.getAvatarUrl(180,this.options.avatarShard),avatar90:this.getAvatarUrl(!1,this.options.avatarShard),avatar45:this.getAvatarUrl("small",this.options.avatarShard),avatar32:this.getAvatarUrl(32,this.options.avatarShard)})},b.prototype.buildCoverUrl=function(){var a;a=this.get("coverId")?h.getContentHost(this.options.coverShard)+this.get("dir")+"_cover/z8-"+this.get("coverId")+".jpg":h.getImagesHost()+(this.get("isFemale")?this.get("coverFemalePath"):this.get("coverMalePath")),this.set("cover",a),this.set("url",g.extend(!0,this.get("url")||{},{cover:a}))},b.prototype.sendSubscribe=function(a){var b=this;return new f(function(c,e){d.func(b.funcSubscribe,b.getSubscribeParams(a),b.getSubscribeSettings()).success(function(a){"OK"===a[1]&&"ok"===a[2]?c(a[3]):e(a)}).error(e)})},b.prototype.updateLastVisit=function(){var a=this;this.require("dateTime",function(b){var c=a.get("lastVisitTimeStamp"),d=c?b.getTimeLeft(1e3*c):"";a.set("lastVisit",d)})},b.prototype.onDirChange=function(){this.buildAvatars(),this.buildCoverUrl()},b.prototype.onNameChange=function(){this.set("name",this.get("firstName")+" "+this.get("lastName"))},b.prototype.onLastVisitTimeStampChange=function(){this.updateLastVisit()},b.prototype.onCoverIdChange=function(){this.buildCoverUrl()},b=__decorate([c.meta({deferred:{dateTime:"util/date-time",suggestShowUser:"suggest/suggest-show-user"},defaults:{id:null,name:"",firstName:"",lastName:"",email:"",dir:"",avatar:"",avatar45:"",avatar90:"",avatar180:"",avatarChangeTime:null,coverId:null,coverUrl:"",lastVisitTimeStamp:"",lastVisit:"",location:"",isOnline:null,isFemale:null,isFriend:null,isCommunity:null,isAdmin:null,isOwner:null,age:null,coverFemalePath:"profile/profile_cover_bg_1.png",coverMalePath:"profile/profile_cover_bg_2.png",coverCommunityPath:"profile/profile_cover_bg_3.png"},events:{"change.dir":"onDirChange","change.firstName":"onNameChange","change.lastName":"onNameChange","change.lastVisitTimeStamp":"onLastVisitTimeStampChange","change.coverId":"onCoverIdChange"},defaultOptions:{intervalUpdateLastVisit:1e4,isAutoUpdateLastVisit:!1,avatarShard:null,coverShard:null,isNotBuildAvatars:!1}}),c.extend(e)],b)}(e);return i}),define("app/channel",["jquery","counters","util/storage","util/helpers","util/dom-heap","external/cookie"],function($,Counters,UtilStorage,Helpers,DomHeap,Cookie){"use strict";var FRAMEID="cometProxy2",usable="new"===$("head").attr("data-comet"),defaultWindowId=Math.floor(1e6*Math.random()).toString(),config={},Storage=UtilStorage.create(),firstHit=!0,errorLog=function(a){config.log&&Counters.mygrst(a)},splitMessages=function(a){var b=a.split(/(\/\*\sseq:\d+\s\*\/|\n|\r)/);return config.debug&&window.console.log("messages",b),b},saveMessages=function(msg){var result={},i,forSave={},key;for(i=0;i<msg.length;i+=1)if(msg[i]&&"\n"!==msg[i])try{result=eval(msg[i]),result.code&&(key=result.name||config.defaultId,forSave[key]?forSave[key]+=result.code+"\n":forSave[key]=result.code+"\n")}catch(a){config.debug&&window.console.log("save messages",a,msg[i])}$.each(forSave,function(a,b){a=String(a),Storage.save(a,String(Storage.load(a))+"\n"+b)})},evalMessages=function(msg){var messages=msg.split("\n"),i;for(i=0;i<messages.length;i+=1)try{eval(messages[i])}catch(a){config.debug&&window.console.log("eval messages",a,messages[i])}},evaluate=function(a,b){return{code:a,name:b}},mycomet={init:function(){var a=window,b=new Date,c=$("<iframe />",{id:FRAMEID,src:config.proxy,style:"position: absolute; left: -1000px; display: none"}).load($.proxy(this.proxyLoaded,this,"load",b.getTime())).error(function(){errorLog("monitoring.comet.proxy-fail")});config.isEnableShare&&window.SharedWorker&&(this.worker=new window.SharedWorker(config.sharedWorkerPath),this.worker.port.onmessage=function(a){defaultWindowId!==a.data.windowId&&"comet"===a.data.type&&config.defaultId===a.data.user&&evalMessages(a.data.code)}),DomHeap.getContainer().prepend(c),$(a).focus($.proxy(this.windowFocus,this)),$(a).mouseenter($.proxy(this.windowFocus,this)),Storage.event.on($.proxy(this.storageEvent,this))},proxyLoaded:function(a,b){var c,d=$("#"+FRAMEID),e=d.hasClass("loaded"),f=new Date;f=f.getTime()-b,f>6e5?errorLog("monitoring.comet.10min"):f>12e4?errorLog("monitoring.comet.2min"):f>3e4&&errorLog("monitoring.comet.30sec"),("load"===a||e)&&(d.addClass("loaded"),c=d[0].contentWindow.xhr,Storage.init(d[0].contentWindow,1e6),Storage.save("active",defaultWindowId),this.request(c))},request:function(a){var b=Storage.load(config.defaultId+"sequence")||0,c={url:config.channel,get:{type:1,sid:Cookie.get("mrcu"),xemail:config.defaultId,seq:b,r:Math.floor(1e6*Math.random())},timeout:config.timeout,cb:$.proxy(this.onSuccess,this,a),cbError:$.proxy(this.onError,this,a),cbStat:function(){return!1}},d=new Date,e=Storage.load("active"),f=Storage.load("activeTime");e!==defaultWindowId&&f<d-2*config.timeout&&(Storage.save("active",defaultWindowId),e=defaultWindowId),this.abort(),e===defaultWindowId&&a&&(this.r=a(c),d=d.getTime().toString(),Storage.save("activeTime",d))},abort:function(){this.timeout&&(this.timeout.stop(),delete this.timeout),this.r&&(this.r(),delete this.r)},onSuccess:function(a,b){var c=window.parseInt(Storage.load(config.defaultId+"sequence")||0)+1,d=Storage.load("active");c&&Helpers.isNumber(c)||(c=0),c>1e6&&(c=0,errorLog("monitoring.comet.sequence-limit")),b&&saveMessages(splitMessages(b)),Storage.save(config.defaultId+"sequence",c.toString()),d===defaultWindowId?this.request(a):this.r&&delete this.r,firstHit=!1},onError:function(a,b,c){var d=firstHit?"first.":"";"timeout"===b?(this.request(a),errorLog("monitoring.comet."+d+"timeouts")):"http_error"===b?(this.abort(),errorLog("monitoring.comet."+d+"http_error"),c&&errorLog("monitoring.comet."+d+"http_error_status."+c)):errorLog("monitoring.comet."+d+"strange."+b),firstHit=!1},storageEvent:function(){var a,b=Storage.load("active");a=Storage.load(config.defaultId),a&&b===defaultWindowId&&Storage.save(config.defaultId,""),this.windowIDs.length&&this.windowIDs.forEach(function(b){a+=Storage.load(b),Storage.save(b,"")}),a&&(evalMessages(a),this.worker&&this.worker.port.postMessage({type:"comet",cmd:"broadcast",code:a,windowId:defaultWindowId,user:config.defaultId}))},windowFocus:function(){this.r||(Storage.save("active",defaultWindowId),this.proxyLoaded("focus"))},setWindowId:function(a){this.windowIDs.indexOf(a)<0&&(this.windowIDs.push(a),this.storageEvent())},windowIDs:[]};return window.evaluate=evaluate,{create:function(){return{onLoad:function(a){config=JSON.parse(a.html()),usable&&mycomet.init()}}},setWindowId:function(a){mycomet.setWindowId(a)},getWindowId:function(){return mycomet.windowIDs}}}),define("app/comet",["util/event2"],function(a){"use strict";var b={pushEvent:a.create(),on:function(){return this.pushEvent.on.apply(this.pushEvent,arguments),this},off:function(){return this.pushEvent.off.apply(this.pushEvent,arguments),this}};return window.mru={getApplication:function(){return{getComet:function(){return{publish:function(a,c){b.pushEvent.trigger({name:a,data:c})}}}}}},b}),define("app/history",["jquery","util/event2"],function(a,b){var c=window.history.location||window.document.location,d=function(a,b){return c.href!==c.protocol+"//"+c.host+b&&window.history.pushState({type:a},null,b),a},e={DEFAULT:function(a){return d("default",a)},FORCE_EVENT:function(a){return d("force",a)},SUPPRESS_EVENT:function(a){return d("suppress",a)}},f={changeEvent:b.create(),SetHashModes:e,init:function(){var b=this;"/cgi-bin/login"!==window.location.pathname&&window.history.redirect("page=","/",!1),window.parent==window&&a(window).on("popstate",function(){window.appid||b.updateUrl()}),this.setDefaultState()},go:function(a,b){return this.page(a,b)},updateUrl:function(a,b,c){var d=this.defaultState||window.history.state&&window.history.state.type,e=window.history.location||document.location,f=a||d;this.changeEvent.trigger(f,{url:e.href,oldUrl:b,data:c})},setDefaultState:function(a){this.defaultState=a||"force"},page:function(a,b,d){var f=c.href;return window.startPageTime=new Date,arguments.length>0&&(b||(b=e.DEFAULT),this.updateUrl(b(a),f,d)),c.href},hash:function(a,b){if(arguments.length>0){var d=c.pathname+c.search;a.length>0&&(d=d+"#"+a),(b||e.DEFAULT)(d)}return c.hash.replace("#","")},getHash:function(){var a=c.hash;return a.replace("#","")},location:function(){return c},back:function(){window.history.back()},setLocation:d};return f}),define("app",["jquery","counters","base/view","util/htmlescape","util/promise","util/helpers","app/section","app/history","external/cookie"],function(a,b,c,d,e,f,g,h,i){"use strict";var j;return new(j=c.extend({autoInit:!0,props:{deferred:{processGoOptions:"app/process-go-options",createPageLoader:"app/page-loader",timingStat:"app/timing-stat",scroll:"util/scroll",lazyBackground:"util/lazy-background"}},public:{init:function(){this.isEnableBooster=!0,this.sections={};try{this.boosterStatOptions=JSON.parse(a(".b-booster-stat").html())}catch(a){this.boosterStatOptions={}}setTimeout(function(){i.set("mr_my_b","1",{expires:7,path:"/"})},2e4),f.clearLocalStorage()},title:function(a){document.title=d.unescape(a)},scrollToTop:function(){window.scroll&&"function"==typeof window.scroll&&window.scroll(0,0),document.getElementById("boosterCanvas").scrollTop=0,this.require("scroll",function(a){a.trigger({scrollTop:0})})},go:function(a){var c,d,e,f;this.require("processGoOptions",function(g){c=g(a),c.confirmation&&!window.confirm(c.confirmation)||(this.doScroll=c.scroll,c.noHash?(delete c.noHash,this.ensureLoadPage().then(function(a){a(c.url)})):(d=c.url.replace(/(&|\?)(booster|boost_enc)(=1)?/g,""),this.boosterStatOptions&&this.boosterStatOptions.isEnable&&(e=String(d).split("?")[0],f=String(this.boosterStatOptions.domains).split(","),f.forEach(function(a){e=e.replace(new RegExp("/"+a+"/.*?/"),"/{domain}/{user}/")}),e=e.replace(/\/photo\/.*\/?/,"/photo/{album}/"),e=e.replace(/\/hashtag\/.*\/?/,"/hashtag/{tag}/"),b.dwh({version:1,category:{"client-info":{Type:"booster",URL:e,Duration:0,Calls:1}}})),h.page(d,h.SetHashModes.FORCE_EVENT)))}.bind(this))},section:function(a){return this.sections[a]||(this.sections[a]=g.create(a)),this.sections[a]},hasBooster:function(){return a(document.body).data("has-booster")},isNeedTimingStat:function(){return a("#mm-dwh-stat").size()>0},disableBooster:function(){this.isEnableBooster=!1},setPageType:function(a){this.pageType=a},onLoad:function(){this.section("head").load("html"),this.section("body").load("html"),this.section("footer").load("html"),delete Object.prototype.toJSON,delete Array.prototype.toJSON,delete String.prototype.toJSON},onDocumentLoad:function(){var b=this;this.isEnableBooster&&(window.parent==window&&h.changeEvent.on("default force",function(a,b){return location.pathname.indexOf("/cgi-bin/login")!==-1?location.reload():this.ensureLoadPage().then(function(a){-1!==b.url.indexOf("st=search")&&(this.doScroll=!0),a(b.url?h.page():location.href)}.bind(this)),a}.bind(this)),h.init(),this.hasBooster()&&a(document).on("click",'a[type="booster"]',function(a){var c=!0;return a.metaKey||a.ctrlKey||(a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0,b.go(this),c=!1),c})),this.isNeedTimingStat()&&this.require("timingStat",function(a){Object.create(a).init()}),a(document.body).on("contextmenu","a",function(b){var c=a(b.target),d=c.attr("href"),e=c.attr("data-original-url");e&&(/^\w+:\/\//.test(e)||/^\//.test(e)||(e="http://"+e),c.attr("href",e),a(document.body).one("mousedown",function(){c.attr("href",d)}))}),"main"===this.pageType&&this.require("lazyBackground",function(b){this.LazyBackground=b,b.createInstance({delta:800}),b.check(),a.ready(function(){b.check()}.bind(this))}.bind(this))}},protected:{ensureLoadPage:function(){var b=this;return new e(function(c){this.loadPage?c(this.loadPage):this.require("createPageLoader",function(d){this.loadPage=d({targetEl:function(){return b.section("body").el().find(".l-content__center")},beforeLoad:function(){b.section("body").unload()},didRender:function(){b.section("body").load(),a(document.body).trigger("booster:loaded"),b.doScroll&&(b.doScroll=!1,b.scrollToTop()),b.LazyBackground&&b.LazyBackground.check()}}),c(this.loadPage)}.bind(this))}.bind(this))}}}))}),define("app/section",["jquery","util/helpers"],function(a,b){"use strict";function c(b,c,d){var e,f;h&&h.loadFragments?(e=h.loadFragments.split(","),e.indexOf(b)!==-1&&((new window.Image).src=h.img+JSON.stringify({version:1,category:{"client-info":a.extend({Type:"Module loaded ("+b+")",Duration:c},h.info)}}),"html"===d&&window.performance&&window.performance.timing&&window.performance.timing.responseStart&&(f=Date.now()-window.performance.timing.responseStart,f<3e4&&((new window.Image).src=h.img+JSON.stringify({version:1,category:{"client-info":a.extend({Type:"Module init ("+b+")",Duration:f},h.info)}}))))):j.push(b)}function d(a,b){a.onLoad(b),b.attr("data-mru-fragment-ready","true"),a[g]=!0}function e(a){a[g]&&a.onUnload&&(delete a[g],a.onUnload())}var f,g="$isLoaded$"+Date.now(),h=null,i=!1,j=[];return a(function(){try{h=JSON.parse(a("script#mm-dwh-stat").html()),j.forEach(function(a){c(a)}),j=[]}catch(a){}window.documentReady=i=!0}),f={el:function(){return this.elem&&b.isjQueryObject(this.elem)&&0!==this.elem.size()||(this.elem=a('[data-mru-app-section="'+this.name+'"]')),this.elem},load:function(a){var c=this,d=c.el();this.enableRegisterModule=!0,this.sessionId=Math.round(Date.now()*Math.random()),b.isjQueryObject(d)&&d.size()>0?this.enableRegisterModule&&this.loadFragments(c.el(),this.sessionId,function(a){c.fragments.push(a)},a):setTimeout(function(){c.load(a)},50)},loadFragments:function(b,c,d,e){b.find("[data-mru-fragment]").each(function(b,f){var g,h=a(f);h.data("done")||(g=h.attr("data-mru-fragment"),h.data("postload")?this.windowLoad(function(){this.fragmentLoader(g,h,c,d,e).call(this)}.bind(this)):this.fragmentLoader(g,h,c,d,e).call(this),h.data("done",!0))}.bind(this)),i||setTimeout(function(){this.loadFragments(b,c,d,e)}.bind(this),50)},fragmentLoader:function(a,e,f,g,h){var i;return webConsole.time("load fragment "+a),function(j){requirejs([a],function(k){var l;webConsole.timeEnd("load fragment "+a,"/logs/fragments"),webConsole.timeStatus("working app","/logs/app"),f===this.sessionId&&this.enableRegisterModule&&(k||console.log(a),l=k.create(),g(l),d(l,e),window.startPageTime&&(i=(new Date).getTime()-window.startPageTime.getTime(),b.isFunction(j)&&j(a,i),i<1e4&&c(a,i,h)))}.bind(this))}},loadByEl:function(a){this.sessionId=Math.round(Date.now()*Math.random()),this.loadFragments(a,this.sessionId,function(a){this.fragments.push(a)}.bind(this))},unload:function(){var a=this.fragments;for(this.enableRegisterModule=!1;a.length>0;)e(a.shift())},windowLoad:function(c){b.isFunction(c)&&("complete"===document.readyState?c():a(window).on("load",c))}},{create:function(a){var b=Object.create(f);return b.name=a,b.fragments=[],b}}}),define("base/collection",["nerve","client-server","base/event","util/helpers","util/promise","external/cookie"],function(a,b,c,d,e,f){"use strict";var g=a.Collection.extend({create:function(){return this.options.func&&(this.func=this.options.func),this},props:{func:"",defaultOptions:{noArgPrefix:!1}},public:{getUrl:function(){return(f.get("_sp_model")||"")+"/cgi-bin/my/ajax"},fetch:function(a){return a=a||this.func,new e(function(c,e){var f=this.getFetchParamsWithOffset(),g=this.getFetchSettings()||{},h=d.extend({},g,{success:function(a){var b;this.isDestroyed||(d.isString(a)?a=JSON.parse(a):d.isObject(a)||(a={}),d.isFunction(g.success)&&g.success(a),"OK"===a[1]||d.isObject(a)&&"Error"!==a[1]?(b=this.isResponseArrayOfObject(a)?this.setResponse(a):"ok"===a[2]?this.setResponse(a[3]):a[2]?this.setResponse(a[2]):this.setResponse(a),this.trigger("fetched",{items:b,response:a}),0===b.length&&this.trigger("end")):(this.trigger("fetched"),this.trigger("end")),c(b))}.bind(this),error:function(a,b){d.isFunction(g.error)&&g.error(a,b),this.trigger("fetched",{status:b}),e(b)}.bind(this)});this.fetchXHR=b.func(a,f,h,null,null,null,this.isNoArgPrefixFetch())}.bind(this))}},protected:{isNoArgPrefixFetch:function(){return this.options.noArgPrefix},isResponseArrayOfObject:function(a){return d.isArray(a)&&a.every(function(a){return d.isObject(a)}.bind(this))}}});return g}),define("base/event",["nerve"],function(a){"use strict";return a.Event.extend({})}),define("base/model",["nerve","client-server","util/helpers","util/promise","external/cookie"],function(a,b,c,d,e){"use strict";var f=a.Model.extend({props:{func:"",funcSave:"",funcCreate:"",funcRemove:"",defaultOptions:{noArgPrefix:!1}},public:{fetch:function(){return this.trigger("beforeFetche"),new d(function(a,d){b.func(this.func,this.getFetchParams(),this.getFetchSettings(),null,null,null,this.isNoArgPrefixFetch()).success(function(b){this.isDestroyed||(c.isString(b)&&(b=JSON.parse(b)),("OK"===b[1]||c.isObject(b)&&"Error"!==b[1])&&("ok"===b[2]&&b[3]?this.setResponse(b[3]):b[2]&&(c.isObject(b[2])||c.isString(b[2]))?this.setResponse(b[2]):("AjaxResponse"!==b[0]||"OK"!==b[1]||b[3])&&this.setResponse(b)),this.isFetchedState=!0,c.isFunction(this._onFetched)&&this._onFetched(),this.trigger("fetched"),a(b))}.bind(this)).error(function(){this.trigger("fetched"),d()}.bind(this))}.bind(this))},save:function(){return this.trigger("beforeSave"),new d(function(a,d){var e={mode:"save"};this.validate(e)?b.func(this.funcSave,this.getSaveParams(),this.getSaveSettings(),null,null,null,this.isNoArgPrefixFetch()).success(function(b){c.isString(b)&&(b=JSON.parse(b)),"captcha"!==b[2]&&("OK"===b[1]&&this.trigger("saved"),a(b))}.bind(this)).error(d):d()}.bind(this))},create:function(){return this.trigger("beforeCreate"),new d(function(a,d){var e={mode:"create"};this.validate(e)?b.func(this.funcCreate,this.getCreateParams(),this.getCreateSettings(),null,null,null,this.isNoArgPrefixFetch()).success(function(b){c.isString(b)&&(b=JSON.parse(b)),"OK"===b[1]||c.isPlainObject(b)?"error"===b[2]?d(b):"captcha"!==b[2]&&(this.trigger("created"),a(b)):d(b)}.bind(this)).error(d):d()}.bind(this))},remove:function(){return this.trigger("beforeRemove"),this.isRemovedState=!0,new d(function(a,d){this.isRemoveReady()?b.func(this.funcRemove,this.getRemoveParams(),this.getRemoveSettings(),null,null,null,this.isNoArgPrefixFetch()).success(function(b){c.isString(b)&&(b=JSON.parse(b)),"OK"===b[1]||0===Object.keys(b).length?"error"===b[2]?d(b):(this.trigger("removed"),a(b)):d(b)}.bind(this)).error(d):(this.trigger("removed"),d())}.bind(this))}},protected:{isNoArgPrefixFetch:function(){return this.options.noArgPrefix},getUrl:function(){return(e.get("_sp_model")||"")+"/cgi-bin/my/ajax"}}});return f}),define("base/page",["jquery","nerve","counters","client-server","base/router","util/helpers","util/promise","util/indexed-db-cache","external/cookie"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=b.Page.extend({props:{func:"",pageName:"",defaultOptions:{isNeedCache:!1,isNoArgPrefix:!0}},public:{init:function(){return this.initPageCache(),j.__super__.init.call(this)},destroy:function(){return this.pageCache&&(this.pageCache.destroy(),delete this.pageCache,delete this.pageCacheKey),j.__super__.destroy.call(this)},load:function(){return this.loadFromCache().then(function(a){return this.isLoadFromCache=!0,this.onLoadSuccess(a)}.bind(this)).catch(function(){var a=this.getLoadSettings(),b=Date.now();webConsole.time("load ajax"),this.xhr=d.func(this.func,this.getLoadParams(),a,null,null,null,this.isNoArgPrefixLoad()).success(function(a){webConsole.timeEnd("load ajax"),f.isPlainObject(a)?a.isRedirect?e.go(a.location):a.request&&a.request.path!==window.location.pathname?e.checkRoutes({url:a.request.path},!0,a):404===a.statusCode?e.error404(!0,a):(this.onLoadSuccess(a),this.isSendDwhStatLoad()&&c.dwhClient({url:this.getPageName(),type:"page-load-ajax",duration:Date.now()-b})):this.onLoadError()}.bind(this)).error(function(){this.onLoadError()}.bind(this))}.bind(this))},initPageCache:function(){return this.isEnableCache()&&(this.pageCacheKey="page/"+this.getPageCacheId()+"/"+this.options.pageCache.key,f.isString(this.options.pageCache.stores)&&(this.options.pageCache.stores=this.options.pageCache.stores.split(",")),this.pageCache=new h({dbName:"cache",storeName:this.options.pageCache.storeName,version:Number(this.options.pageCache.version),expire:Number(this.options.pageCache.defaultExpire),stores:this.options.pageCache.stores})),this},isNeedPageCache:function(){return this.options.pageCache.isNeedClientCache||this.options.isNeedCache},isEnableCache:function(){return this.isNeedPageCache()&&this.options.pageCache&&this.options.pageCache.isEnabled},isSendDwhStat:function(){return!1},isSendDwhStatLoad:function(){return!1},getPageCacheId:function(){return this.getPageName()}},protected:{getUrl:function(){return(i.get("_sp_pages")||"")+"/"},afterInitPage:function(){var a=this.getResponse();return this.pageCache&&!this.isLoadFromCache&&(this.isRunTimeCreated()?a&&a.options&&a.options.pageCache&&a.options.pageCache.expire&&this.pageCache.setExpire(a.options.pageCache.expire):this.options.pageCache.expire&&this.pageCache.setExpire(this.options.pageCache.expire),this.pageCache.putValue(this.pageCacheKey,this.pageOptions)),this},loadFromCache:function(){return new g(function(a,b){var d=Date.now();this.pageCache||b(),webConsole.time("get cache"),this.pageCache.getValue(this.pageCacheKey).then(function(e){webConsole.timeEnd("get cache"),e?(f.extend(e.locales||{},this.options.locales||{}),a(e),this.isSendDwhStatLoad()&&c.dwhClient({url:this.getPageName(),type:"page-load-cache",duration:Date.now()-d})):b()}.bind(this)).catch(b)}.bind(this))},isNoArgPrefixLoad:function(){return this.options.isNoArgPrefix},initBanners:function(){var a=[];this.options.banners&&(a=Object.keys(this.options.banners).map(function(a){return this.initBanner(a)}.bind(this)),g.all(a).then(function(){this.trigger("bannersInited")}.bind(this)))},initBanner:function(b){var c=this.options.banners[b],d=c.selector,e=c.isGlobal?a(d):this.$el.find(d),h=f.isFunction(c.isEnable)&&c.isEnable.call(this)||!f.isFunction(c.isEnable);return new g(function(d,g){h&&f.isjQueryObject(e)&&e.size()&&(0===e.children().size()||c.isMutable)?a.ajax({data:f.extend(!0,{_SITEID:120,lang:this.options.lang},f.isFunction(c.getParams)?c.getParams.call(this):{}),url:(i.get("_sp_model")||"")+"/rbh/"+c.id,success:function(a){if(a&&a.length)try{e.html(a).addClass("loaded"),d()}catch(a){webConsole.log("error insert banner"+a),g()}else e.addClass("empty"),this.onBannerEmpty(b)}.bind(this),error:g}):d()}.bind(this))},onBannerEmpty:function(a){return this}}});return j}),define("base/router",["nerve"],function(a){"use strict";var b=a.Router.extend({props:{defaultOptions:{linkSelector:".js-router-link,.sp-music-booster",activeSelector:"js-router-link_active"}}});return b}),define("base/view",["nerve"],function(a){"use strict";var b=a.View.extend({});return b}),define("client-server",["jquery","counters","util/helpers","util/promise","factory"],function($,Counters,Helpers,Promise,factory){"use strict";var func,supportCaptcha,prepareUserParams,insertArgsToParams,parseResponse,checkVerify,checkSdcCookies,activeRequests=[],checkRedirect,sdcInProgress=!1,sdcQueue=[],isProcessedCaptcha=!1,captchaQueue=[],magic={},verify={},activeUser={},mimicOptions={},argPrefix="arg_",defaultSettings={url:"/cgi-bin/my/ajax",type:"GET"};return parseResponse=function(response,errorResult){var data;if(Helpers.isString(response))try{data=JSON.parse(response)}catch(e){try{data=eval("("+response+")")}catch(a){data=errorResult}}else data=errorResult;return data},checkVerify=function(a,b,c){var d,e=!1,f="retryRequestAfterVerifying";return"VerifyAccount"===a[1]||"unverified"===a.error?checkVerify.verified&&verify.delay&&verify.count?(1===checkVerify.verifiedCount&&Counters.mygrst("monitoring.verify.tryagain"),checkVerify.verifiedCount<window.parseInt(verify.count)?setTimeout(function(){checkVerify.verifiedCount=checkVerify.verifiedCount+1,func.apply(null,checkVerify.storedArgs)},verify.delay):(func.apply(null,checkVerify.storedArgs),Counters.mygrst("monitoring.verify.syncfail"),d=factory("models/user/active",function(a){a.ready(function(){return(new Image).src="//csp.my.mail.ru/jserr/mybig-errors?type=verify-sync-fail&ajax-func="+checkVerify.storedArgs[0]+"&email="+a.get("email")+"&url="+window.location.href+"&rnd="+Math.random(),d&&!1})}),d=null,delete checkVerify.verified,delete checkVerify.verifiedCount,delete checkVerify.storedArgs)):(checkVerify.storedArgs=b,b[b.length-1]!==f&&checkVerify.storedArgs.push(f),checkVerify.verified=!0,checkVerify.verifiedCount=1,e=!0,$(window).trigger("openVerifyPopup",{cancelCallback:function(){Helpers.isFunction(c)&&c(),checkVerify.verified&&(Counters.mygrst("monitoring.verify.abort"),delete checkVerify.verified,delete checkVerify.verifiedCount,delete checkVerify.storedArgs)}}),Counters.mygrst("monitoring.verify.show")):a[2]&&"PHONE_VERIFY_SUCCESS"===a[2].result?func.apply(null,checkVerify.storedArgs):checkVerify.verified&&checkVerify.storedArgs.length===b.length&&b[b.length-1]===checkVerify.storedArgs[checkVerify.storedArgs.length-1]&&(Counters.mygrst("monitoring.verify.success"),delete checkVerify.verified,delete checkVerify.verifiedCount,delete checkVerify.storedArgs),e},checkSdcCookies=function(a,b,c){var d=!1;return"Auth"!==a[1]&&"NoSDC"!==a[1]||(d=!0,sdcQueue.push(b),sdcInProgress?(b&&b[0]?Counters.mygrst("monitoring3.sdc-spam."+b[0]):Counters.mygrst("monitoring3.sdc-spam.noname"),Counters.mygrst("monitoring3.sdc-spam-all")):(sdcInProgress=!0,$.ajax({dataType:"jsonp",url:a[2]+encodeURIComponent(window.location.href),crossDomain:!0,jsonp:"JSONP_call",success:function(){sdcQueue.forEach(function(a){func.apply(null,a).success(function(a,b,d){c.forEach(function(c){Helpers.isFunction(c)&&c(a,b,d)})})}),sdcQueue=[],sdcInProgress=!1,Counters.mygrst("monitoring3.sdc-ok")},error:function(){Counters.mygrst("monitoring3.sdc-error"),sdcInProgress=!1}}))),d},checkRedirect=function(a,b){var c=!1;return"Redirect"===a[1]&&(c=!0,Helpers.isFunction(b)?b(a):location.href=a[2].split(",")[0].replace("booster=1","")),c},supportCaptcha=function(a,b,c){var d,e=this,f=a.success;return Helpers.isFunction(f)?a.success=function(g,h,i){var j,k=Helpers.isString(g)?parseResponse(g):g,l=b[1];Helpers.isArray(k)&&"captcha"===k[2]&&window.parseInt(k[3])?isProcessedCaptcha?l&&(l.captcha_answer||l.captcha_id)||captchaQueue.push(b):(isProcessedCaptcha=!0,(j=function(f){factory("captcha",function(g){return new g({captchaId:f,onSend:function(a,f){a&&void 0!==f&&(d=func.apply(e,b.concat([a,f,!0])),d.success(function(){var a=arguments,b=a[0],d=Helpers.isString(b)?parseResponse(b):b;Helpers.isArray(d)&&"captcha"===d[2]&&window.parseInt(d[3])?j(d[3]):(c.forEach(function(b){Helpers.isFunction(b)&&b.apply(this,a)}),captchaQueue.forEach(function(a){func.apply(e,a)}),captchaQueue=[],isProcessedCaptcha=!1)}))},onCancel:function(){Helpers.isFunction(a.abortCaptcha)&&a.abortCaptcha(),captchaQueue=[],isProcessedCaptcha=!1},onShow:function(){Helpers.isFunction(a.showCaptcha)&&a.showCaptcha()}})})})(k[3])):f.call(this,g,h,i)}:isProcessedCaptcha&&captchaQueue.push(b),function(){d&&d.abort()}},insertArgsToParams=function(a,b,c){var d=$.extend(!0,{},a);return Object.keys(b).forEach(function(a){c?d[a]=b[a]:d[argPrefix+a]=b[a]}),d},prepareUserParams=function(a,b,c,d,e){var f,g,h={ajax_call:1,func_name:a,mna:magic.mna,mnb:magic.mnb};return Helpers.isFunction(b)?f=b(c,d):Helpers.isArray(b)?f=b:Helpers.isObject(b)?(f=b||{},c&&(f.captcha_id=c),d&&(f.captcha_answer=d)):f={},Helpers.isArray(f)?g=$.extend(!0,{},h,{data:JSON.stringify(f)}):Helpers.isObject(f)&&(g=insertArgsToParams(h,f,e)),g},func=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s=Array.prototype.slice.call(arguments,0),t=[],u={},v="";if(mimicOptions&&mimicOptions.header&&mimicOptions.salt){for(q=i?i:Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2),r=0;r<q.length;r++)v+=String.fromCharCode(q.charCodeAt(r)+mimicOptions.salt.charCodeAt(r));u[mimicOptions.header]=window.escape(v)}return j=$.extend(!0,{cache:!1},defaultSettings,{headers:u},c,{success:function(){var a,b,d=Array.prototype.slice.call(arguments,0,3)[2].responseText,e=!1;Helpers.isString(d)&&(a=parseResponse(d)),a&&(c&&c.abortVerify&&(b=c.abortVerify),checkVerify(a,s,b),e=checkSdcCookies(a,s,t)||checkRedirect(a,h)),c&&c.success&&!e&&c.success.apply(this,arguments)},error:function(a,b){if(403===a.status){var d,e,f=a.responseText;Helpers.isString(f)&&(d=parseResponse(f)),d&&(c&&c.abortVerify&&(e=c.abortVerify),checkVerify(d,s,e))}"abort"!==b&&c&&c.error&&c.error.call(this,arguments)},data:prepareUserParams(a,b,d,e,g)}),j.type&&"post"===j.type.toLowerCase()&&a&&(j.url.indexOf("?")!==-1?j.url+="&func_name="+a:j.url+="?func_name="+a,j.data&&j.data.func_name&&delete j.data.func_name),j.url.indexOf("?")!==-1?j.url+="&xemail="+activeUser.email:j.url+="?xemail="+activeUser.email,void 0===activeUser.email&&Counters.dwh({version:1,category:{"client-info":{Type:"client-server-fail",URL:j.url+"&func_name="+(j.data&&j.data.func_name),Duration:0,Calls:1}}}),l=supportCaptcha(j,Array.prototype.slice.call(s,0,3),t),k=$.ajax(j),f!==!0&&(m=k.abort.bind(k),n=k.success.bind(k),o=k.complete.bind(k),activeRequests.push(k),p=activeRequests.indexOf(k),k=$.extend(k,{abort:function(){return l(),m(),this},success:function(a){return t.push(a),n.apply(this,arguments),this},complete:function(){return p>-1&&activeRequests.splice(p,1),o.apply(this,arguments),this}})),k},{func:function(a,b,c,d,e,f,g,h,i){return func(a,b,c,d,e,f,g,h,i)},abortAll:function(){activeRequests.forEach(function(a){a.abort()}),activeRequests=[]},read:{json:function(a,b){return $.isNumeric(b)||(b=2),("string"==typeof a?JSON.parse(a):a)[b];
}},magic:function(){return magic},isReady:function(){return!!activeUser.email},ready:function(){return new Promise(function(a){this.isReady()?a():this.readyInterval=window.setInterval(function(){this.isReady()&&(a(),window.clearInterval(this.readyInterval),delete this.readyInterval)}.bind(this),50)}.bind(this))},create:function(){return{onLoad:function(a){var b=JSON.parse(a.html());magic=b.magic,verify=b.verify,activeUser=b.activeUser||{},mimicOptions=b.mimic||{}},onUnload:function(){magic={}}}}}}),define("counters",["jquery","factory","util/storage","util/helpers","util/schedule","util/dom-heap"],function(a,b,c,d,e,f){"use strict";var g="cln",h="p-cln",i="clns",j=c.create(),k={init:function(b){var c=a.Deferred(),d=a("<iframe />",{id:i,src:b.proxy,style:"position: absolute; left: -1000px; display: none;"}).load(a.proxy(this.proxyLoaded,this,c)).error(function(){c.reject()});return f.getContainer().prepend(d),j.event.on(a.proxy(this.onStorageEvent,this)),c.promise()},proxyLoaded:function(b){var c,d=a("#"+i)[0];j.init(d.contentWindow,3e3),c=this.load(h),c&&c.length&&(j.save(h,""),this.save(c)),this.failInterval&&(this.failInterval.stop(),delete this.failInterval),this.onStorageEvent(),b&&b.resolve()},save:function(a){var b=this.load(g);j.save(g,b.concat(a).join(","))},load:function(a){var b,c=j.load(a)||"";for(c=c.split(","),(!c||1===c.length&&""===c[0])&&(c=[]),b=0;b<c.length;b+=1)""!==c[b]&&"d"!==c[b]||c.splice(b,1);return c},onStorageEvent:function(){var b,c=this.load(g);c&&c.length&&(b=c.shift(),j.save(g,c.join(",")),c=this.load(h),c.push(b),j.save(h,c.join(",")),a.when(this.count([b])).then(a.proxy(this.onCountDone,this,b)).fail(a.proxy(this.onCountFailed,this,b)))},onCountDone:function(a){var b=this.load(h);b.splice(b.indexOf(a),1),j.save(h,b.join(","))},onCountFailed:function(){if(!this.failInterval){if(!(this.failCount<50))throw"Count failed, sorry. Turn off AdBlock and reload the page!";this.failInterval=new e(this.proxyLoaded.bind(this),5e3),this.failCount?this.failCount+=1:this.failCount=1}},count:function(b){var c,d=/^d/,e=a.Deferred();for(c=0;c<b.length;c+=1)d.test(b[c])||(b[c]="d"+b[c]),b[c]&&"d"!==b[c]&&(a("<img>",{src:location.protocol+"//rs.mail.ru/"+b[c]+".gif?"+Math.random()}).load(a.proxy(this.imageLoaded,this,e)).error(a.proxy(this.imageFailed,this,e)),a(document).trigger("counters.increment",parseInt(b[c].replace(/[a-zA-Z]/g,""),10)));return e.promise()},imageLoaded:function(a){a.resolve()},imageFailed:function(a){a.reject()},grstatCount:function(a){var b,c=Math.random();for(b=0;b<a.length;b+=1)(new Image).src="//my.mail.ru/grstat?name="+a[b]+"&r="+c}},l=!1,m={create:function(){var b=a(document);return{onLoad:function(c){a.when(k.init(JSON.parse(c.html()))).then(function(){l=!0}).fail(function(){k.grstatCount("monitoring.counters.transport-error")}),b.on("mousedown",a.proxy(this.onBrowserEvent,this))},onUnload:function(){l=!1,b.off("mousedown",a.proxy(this.onBrowserEvent,this))},getCountersByType:function(b,c){var d,e,f=[b].concat(b.parents("["+c+"]").toArray()),g=[];for(e=0;e<f.length;e+=1)d=a(f[e]).attr(c),d&&(g=g.concat(d.split(",")));return g},onBrowserEvent:function(b){var c=a(b.target),d=this.getCountersByType(c,"data-clns");d&&d.length&&(l?k.save(d):k.count(d)),d=this.getCountersByType(c,"data-grstat"),k.grstatCount(d)}}},myrb:function(a){d.isArray(a)||(a=[a]),l?k.save(a):k.count(a)},mygrst:function(b){a.isArray(b)||(b=[b]),k.grstatCount(b)},dwh:function(a){return new Promise(function(b,c){var d=new Image;d.onload=function(){b()},d.onerror=function(){c()},d.src="//my.mail.ru/dstat?random="+Math.floor(1e3*Math.random())+"&json="+JSON.stringify(a)})},dwhClient:function(a){return this.dwh({version:1,category:{"client-info":{URL:a.url,Type:a.type,Duration:a.duration||0,Calls:1}}})},astat:function(a){return new Promise(function(c,d){b("client-server",function(b){b.func("",a,{url:"/+/user/astat",method:"POST",success:c,error:d},null,null,null,!0)})})}};return window.myrb=m.myrb,m}),!function(a,b){var c={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isPlainObject:function(a){return"[object Object]"===Object.prototype.toString.call(a)},toArray:function(a){return Array.prototype.slice.call(a)},getKeys:Object.keys||function(a){var b=[],c="";for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},escape:function(a){return a.replace(/[,;"\\=\s%]/g,function(a){return encodeURIComponent(a)})},retrieve:function(a,c){return a===b?c:a}},d=function(){return d.get.apply(d,arguments)};d.defaults={},d.expiresMultiplier=86400,d.set=function(d,e,f){if(c.isPlainObject(d))for(var g in d)d.hasOwnProperty(g)&&this.set(g,d[g],e);else{f=c.isPlainObject(f)?f:{expires:f};var h=f.expires!==b?f.expires:this.defaults.expires||"",i=typeof h;"string"===i&&""!==h?h=new Date(h):"number"===i&&(h=new Date(+new Date+1e3*this.expiresMultiplier*h)),""!==h&&"toGMTString"in h&&(h=";expires="+h.toGMTString());var j=f.path||this.defaults.path;j=j?";path="+j:"";var k=f.domain||this.defaults.domain;k=k?";domain="+k:"";var l=f.secure||this.defaults.secure?";secure":"";a.cookie=c.escape(d)+"="+c.escape(e)+h+j+k+l}return this},d.remove=function(a){a=c.isArray(a)?a:c.toArray(arguments);for(var b=0,d=a.length;b<d;b++)this.set(a[b],"",-1);return this},d.empty=function(){return this.remove(c.getKeys(this.all()))},d.get=function(a,d){d=d||b;var e=this.all();if(c.isArray(a)){for(var f={},g=0,h=a.length;g<h;g++){var i=a[g];f[i]=c.retrieve(e[i],d)}return f}return c.retrieve(e[a],d)},d.all=function(){if(""===a.cookie)return{};for(var b,c,d,e=a.cookie.split("; "),f=/\%/,g={},h=0,i=e.length;h<i;h++)d=e[h].split("="),b=d[0],c=d[1],f.test(b)||(b=decodeURIComponent(b)),f.test(c)||(c=decodeURIComponent(c)),g[b]=c;return g},d.enabled=function(){if(navigator.cookieEnabled)return!0;var a="_"===d.set("_","_").get("_");return d.remove("a"),a},"function"==typeof define&&define.amd?define("external/cookie",function(){return d}):"undefined"!=typeof exports?exports.cookie=d:window.cookie=d}(document),define("factory",["util/helpers","util/promise"],function(a,b){"use strict";var c={};return function(d,e,f){return new b(function(b,g){c[d]?(a.isFunction(e)&&e(c[d]),b(c[d])):requirejs([d],function(g){c[d]=g,a.isFunction(f)&&f(g),a.isFunction(e)&&e(g),b(g)},g)})}}),define("handlebars-helpers",["handlebars-helpers/debug","handlebars-helpers/escape","handlebars-helpers/filed","handlebars-helpers/htmlentities","handlebars-helpers/icon","handlebars-helpers/ifEq","handlebars-helpers/ifLt","handlebars-helpers/ifGt","handlebars-helpers/inflect","handlebars-helpers/number-width","handlebars-helpers/number-human-format","handlebars-helpers/unlessEq","handlebars-helpers/plural","handlebars-helpers/spaceless","handlebars-helpers/times","handlebars-helpers/digitFormat","handlebars-helpers/json-encode","handlebars-helpers/json-stringify","handlebars-helpers/json-strip-end-brace","handlebars-helpers/rb-count","handlebars-helpers/recursion"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";return function(v){a(v),b(v),c(v),d(v),e(v),f(v),h(v),g(v),i(v),j(v),k(v),l(v),m(v),n(v),o(v),p(v),q(v),r(v),s(v),t(v),u(v)}}),define("product-tools/balance",["jquery","client-server","base/view","util/helpers","util/num-end","app/comet"],function(a,b,c,d,e,f){"use strict";var g;return g=c.extend({props:{defaultOptions:{timeoutComet:10,timeoutUpdate:5},elements:{scoreboard:".js-balance__string"},events:{"click .js-balance__add-balance":"onAddBalanceClick"},deferred:{paymentDialog:"payment/payment-dialog"}},public:{init:function(){return this.balance=this.options.balance,this.onCometHandler=this.onComet.bind(this),f.pushEvent.on(this.onCometHandler),this.options.isUpdateBalance&&this.updateBalance(this.options.timeoutUpdate),this},destroy:function(){return f.pushEvent.off(this.onCometHandler),delete this.onCometHandler,this}},protected:{onComet:function(a,b){var c;a&&!b&&(b=a||{}),this.$scoreboard.length&&"billing"===b.type&&b.data&&(c=Math.round(b.data.balance),this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.xhr&&(this.xhr.abort(),delete this.xhr),this.changeBalance(c),this.balance===c&&this.updateBalance(this.options.timeoutComet),this.balance=c)},onAddBalanceClick:function(){this.require("paymentDialog",function(a){a.create()}.bind(this))},changeBalance:function(a){a<1e5?e.ending(this.$scoreboard,a):this.$scoreboard.text(this.$scoreboard.attr("data-more")),a?this.$scoreboard.removeClass("hide"):this.$scoreboard.addClass("hide")},updateBalance:function(a){this.timeout=setTimeout(function(){delete this.timeout,this.xhr=b.func("",{},{url:"/+/user/current"}).then(function(a){var b=a.data&&a.data.sumMailiki;delete this.xhr,void 0!==b&&(this.changeBalance(b),this.balance=b)}.bind(this))}.bind(this),1e3*a)}}})}),define("require/bundle",["util/promise"],function(a){"use strict";return{load:function(b,c,d,e){var f=[];webConsole.time("load bundle "+b),webConsole.time("init bundle "+b),c([b],function(c){webConsole.timeEnd("load bundle "+b),c.callback?(c.callback(),c.modules.forEach(function(b){f.push(new a(function(a){requirejs([b+"_bundle-part"],function(){a()})}))}),a.all(f).then(function(){webConsole.timeEnd("init bundle "+b),d(c)})):d(c)})}}}),define("util/event2",function(a,b){"use strict";function c(a,b,c,d,e){var f;f="function"==typeof c?{event:{data:null,name:b},name:b,handler:c}:{event:{data:c,name:b},name:b,handler:d},e&&(f.handlerWrapper=function(b,c){var d=f.handler(b,c);return a.off(f.handler),d}),a.listeners.push(f)}var d={on:function(a,b,d,e){var f=this;return"function"==typeof b&&void 0===d&&(d=b,b=void 0),"function"==typeof a&&(d=a,a="all"),"object"==typeof a&&(b=a,a="all"),a.split(/\s+/).forEach(function(a){c(f,a,b,d,e)}),this},off:function(a,b){var c=this,d=[];return"function"==typeof a&&void 0===b&&(b=a,a="all"),void 0===a&&void 0===b?c.listeners=[]:(c.listeners.forEach(function(c){(c.name!==a&&"all"!==a||void 0!==b&&c.handler!==b&&c.handlerWrapper!==b)&&d.push(c)}),c.listeners=d),this},trigger:function(a,b){var c,d,e,f=this.listeners.slice();for("string"!=typeof a&&void 0===b&&(b=a,a="all"),d=0;d<f.length&&(e=f[d],e.name!==a&&"all"!==a||(c=(e.handlerWrapper||e.handler).apply(window,Array.isArray(b)?[e.event].concat(b):[e.event,b])),c!==!1);d+=1);return c}};b.create=function(){var a=Object.create(d);return a.listeners=[],a}}),define("util/helpers",["jquery"],function(a){"use strict";var b={toString:function(a){return Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===this.toString(a)},isObject:function(b){var c=!1;return c=window.Object?b===window.Object(b)&&!this.isNode(b)&&!this.isFunction(b)&&!this.isjQueryObject(b):b&&"[object Object]"===a.toString(b)&&!this.isNode(b)&&!this.isFunction(b)&&!this.isjQueryObject(b)},isEmptyObject:function(b){return this.isObject(b)&&a.isEmptyObject(b)},isPlainObject:function(b){return this.isObject(b)&&a.isPlainObject(b)},isNotEmptyObject:function(a){return!this.isEmptyObject(a)},isArray:function(a){return Array.isArray(a)},isNodeList:function(a){return!this.isjQueryObject(a)&&a&&a[0]&&a[0].nodeType},isNode:function(a){return a&&a.nodeType||this.isNodeList(a)},isNull:function(a){return null===a},isUndefined:function(a){return void 0===a},isString:function(a){return"[object String]"===this.toString(a)},isBoolean:function(a){return"[object Boolean]"===this.toString(a)},isNumber:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isDate:function(a){return"[object Date]"===this.toString(a)},isjQueryObject:function(b){return b instanceof a},isEvent:function(a){return a instanceof window.Event},isjQueryEvent:function(b){return b instanceof a.Event},fromCamelCase:function(a){return(a||"").replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},objectToCamelCase:function(a){var b={};return Object.keys(a).forEach(function(c){var d;d="ID"===c?c.toLowerCase():c.charAt(0).toLowerCase()+c.substr(1),b[d]=a[c]}),b},outerHTML:function(a){var b=document.createElement("div");return a=a.cloneNode(!0),b.appendChild(a),b.innerHTML},isPrimitive:function(a){var b=(typeof a).toLowerCase();return"string"===b||"number"===b},clone:function(a){var b,c;if(this.isArray(a))b=[],a.forEach(function(a){b.push(this.clone(a))}.bind(this));else if(this.isObject(a)){b={};for(c in a)a.hasOwnProperty(c)&&(b[c]=this.clone(a[c]))}else b=a;return b},digitFormat:function(a){return a.toString().replace(/(\s)+/g,"").replace(/(\d{1,3})(?=(?:\d{3})+$)/g,"$1 ")},stringFormat:function(a){var b=arguments,c=new RegExp("%s","g"),d=0;return a.replace(c,function(){return d+=1,b[d]})},parseJsonFromSrc:function(a){var b;if(this.isjQueryObject(a))b=a.text();else if(this.isNode(a))b=a.textContent;else{if(!this.isString(a))return{};b=a}b=b.trim().replace(/\r|\n|\t|\s{2,}/g,"");try{return JSON.parse(b)}catch(a){return{}}},randomArray:function(b,c,d){var e,f=[],g=Math.floor(Math.random()*(d-c+1)+c);if(Math.abs(d-c)>=b-1)for(e=0;e<b;e+=1)for(f[e]=g;a.inArray(g,f)!==-1&&e!==b-1;)g=Math.floor(Math.random()*(d-c+1)+c);return f},isUrl:function(a){return/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/.test(a)},incrementCounter:function(a,b){if(this.isNumber(a)){var c=Number(a)+b;return c>=0?c:0}return b>=0?b:0},extend:a.extend.bind(a),os:{isIphone:function(){return navigator.userAgent.toLowerCase().indexOf("iphone")!==-1},isIpad:function(){return navigator.userAgent.toLowerCase().indexOf("ipad")!==-1},isAndroid:function(){return navigator.userAgent.toLowerCase().indexOf("android")!==-1},isIeMobile:function(){return navigator.userAgent.toLowerCase().indexOf("MSIE")!==-1&&navigator.userAgent.toLowerCase().indexOf("Windows Phone")!==-1},isMobile:function(){return this.isIphone()||this.isIpad()||this.isAndroid()||this.isIeMobile()},isWindows:function(){return navigator.appVersion.indexOf("Win")!==-1},isTV:function(){return navigator.userAgent.indexOf("TV")!==-1}},display:{isRetina:function(){return window.devicePixelRatio>1}},path:{resolve:function(){var a,b="";for(a=0;a<arguments.length;a++)b+=arguments[a].replace(/^\/|\/$/g,""),a+1<arguments.length&&(b+="/");return b}},regexpEscape:function(a){return a.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")},filed:function(a,b,c,d){var e=a;return e.indexOf("?")===-1&&(e+="?"),b&&(e+="&mw="+b),c&&(e+="&mh="+c),d!==!1&&(e+="&croped=1"),e},numberHumanFormat:function(a,b){var c;return b=b||"",c=a<1e3?a:a<999950?(a/1e3).toFixed(1).replace(/\.0$/,"")+b+"K":(a/1e6).toFixed(1).replace(/\.0$/,"")+b+"M"},cutText:function(a,b,c){var d,e,f,g=a.slice(0,Number(b)),h=a.length,i=g.length;if(c=c||{},c=this.extend({maxLinkLength:30},c),h>i){for(f=i;" "!==a[f]&&f<h;)g+=a[f++];d=g.toLowerCase().lastIndexOf("<a"),e=g.toLowerCase().lastIndexOf("</a>"),d>e&&(g+=a.slice(g.length,a.indexOf("</a>",g.length))+"</a>")}return c.maxLinkLength&&(g=g.replace(/>(.+?)<\/a>/g,function(a,b){var d=">"+b.slice(0,c.maxLinkLength);return b.length>c.maxLinkLength&&(d+="..."),d+="</a>"})),g},getDirByEmail:function(a){var b,c,d=a.split("@");return d.length>1?(b=d[0],c=d[1]):(b=d[0],c="community"),this.stringFormat("/%s/%s/",c,b)},clearLocalStorage:function(){var a=["suggestShowUser"];a.forEach(function(a){var b=window.localStorage.getItem(a);b&&(b=JSON.parse(b),Object.keys(b).forEach(function(a){b[a].expire&&b[a].expire<Date.now()&&delete b[a]}),Object.keys(b).length?window.localStorage.setItem(a,JSON.stringify(b)):window.localStorage.removeItem(a))})},getQueryParam:function(a){return(window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)"))||[null,null])[1]}};return b}),define("util/lazy-background",["base/view","util/helpers","util/scroll"],function(a,b,c){"use strict";var d=a.extend({autoInit:!0,props:{defaultOptions:{delta:200,isRetina:b.display.isRetina(),hiddenCssClass:"ui-lazy-background",visibleCssClass:"ui-lazy-visible-background"}},public:{init:function(){return this.onScrollHandler=this.onScroll.bind(this),c.on(this.onScrollHandler),this.updateElements(),this.check(),this},destroy:function(){return d.__super__.destroy.call(this),c.off(this.onScrollHandler),delete this.onScrollHandler,this},updateElements:function(){return this.items=document.querySelectorAll("."+this.options.hiddenCssClass),this},check:function(){var a,b;for(a=0;a<this.items.length;a++)b=this.items[a],!b.isLazyVisible&&this.isElementInViewport(b)&&(b.isLazyVisible=!0,this.loadBackground(b))}},protected:{isElementInViewport:function(a){var b,c=window.innerHeight+this.options.delta;try{return b=a.getBoundingClientRect(),b.width&&(b.left>=0||b.right>=0)&&(b.top>=0&&b.top<=c||b.bottom>=0&&b.bottom<=c)}catch(a){return!0}},onScroll:function(a,b){this.check()},loadBackground:function(a){var b,c=a.getAttribute("data-src"),d=a.getAttribute("data-src__2x");return c?(this.options.isRetina&&d&&(c=d),b=new Image,b.onload=function(){a.style.backgroundImage="url('"+c+"')",this.onLoadBackgroundEnd(a).cleanDataAttributes(a)}.bind(this),b.onerror=this.cleanDataAttributes.bind(this,a),b.src=c):this.onLoadBackgroundEnd(a),this},onLoadBackgroundEnd:function(a){return this.isDestroyed||(a.className=a.className.replace(this.options.hiddenCssClass,this.options.visibleCssClass)),this},cleanDataAttributes:function(a){return a.removeAttribute("data-src"),a.removeAttribute("data-src__2x"),this}},static:{createInstance:function(a){return this._instance=new d(a||{}),this._instance},getInstance:function(){return this._instance||this.createInstance()},check:function(){this.getInstance().updateElements(),this.getInstance().check()},getLazyCssClass:function(){return this.getInstance().options.hiddenCssClass}}});return d}),define("util/num-end",["jquery"],function(a){"use strict";return{ending:function(b,c,d){var e,f;this.text={},b=a(b),c=window.parseInt(c),f=d===!0?c.toString().replace(/(\d)(?=(\d\d\d)+(^[\d]|$))/g,"$1 "):c,0!==b.length&&a.isNumeric(c)&&(this.text.one=b.attr("data-one"),this.text.two=b.attr("data-two"),this.text.five=b.attr("data-five"),this.text.one&&this.text.two&&this.text.five?(e=this.getText(c),b.html(f+" "+e)):b.html(f))},getText:function(a,b,c,d){var e;return a<0&&(a*=-1),a%=100,a>=5&&a<=14?e=b||this.text.five:(a%=10,e=!a||a>=5?b||this.text.five:a>=2?d||this.text.two:c||this.text.one),e}}}),define("util/promise",[],function(){"use strict";return window.Promise}),define("util/schedule",function(){"use strict";var a=window.nativeSetTimeout||window.setTimeout,b=window.nativeSetInterval||window.setInterval;return function(c,d,e){return{id:(e?b:a)(c,d),stop:function(){(e?clearInterval:clearTimeout)(this.id)}}}}),function(){"use strict";var a,b;Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=[].slice,c=b.call(arguments,1),d=this,e=function(){},f=function(){return d.apply(this instanceof e?this:a||{},c.concat(b.call(arguments)))};return f.prototype=this.prototype,f}),a={init:function(){webConsole.time("load app"),webConsole.time("working app"),webConsole.timeStatus("working site","/logs/app"),this.parseOptions(),this.requireJsConfig(),this.loadBaseLibs()},run:function(){window.loadCssError?setTimeout(this.run.bind(this),500):(webConsole.time("load module app"),requirejs(["app"],function(a){webConsole.timeEnd("load module app","/logs/app"),webConsole.timeEnd("load app","/logs/app"),this.options.isEnableBooster||a.disableBooster(),a.onLoad(),a.setPageType(this.options.pageType),a.onDocumentLoad()}.bind(this)))},parseOptions:function(){var a=document.getElementById("js-require-data");a?this.options=JSON.parse(a.innerHTML.replace(/\r|\n|\t|\s{2,}/g,"")):this.options={}},getBaseUrl:function(){var a;return a=this.options.staticHost,this.options.isNotUrlPostfix?this.options.useMin&&(a=this.options.staticHost+"min"):a=this.options.useMin?this.options.staticHost+"mm/out/min":this.options.staticHost+"mm/out",a},getCdn:function(a){var b,c=0;if(!this.options.useCdn||/^(https?:)?\/\//.test(a)||"html5-adman"===a)return null;for(b=0;b<a.length;b+=1)c+=a[b].charCodeAt();return"//my"+(c%this.options.cdnCount+1)+".imgsmail.ru"},requireJsConfig:function(){requirejs.config({baseUrl:this.getBaseUrl(),getCdn:this.getCdn.bind(this),waitSeconds:1/0,paths:{"html5-adman":"external/admanhtml-mm","stream-sense":"external/streamsense","mpeg-dash":"external/dash.all.min","mpeg-dash-debug":"external/dash.all.debug","web-rtc":"external/candy2.min","jquery-ui":"libs/jquery-ui/1-10","jquery-ui-i18n":"libs/jquery-ui/1-10/ui/i18n",plugins:"libs/plugins",handlebars:"libs/handlebars",eruda:"external/eruda.min"},shim:{"html5-adman":{exports:"AdmanHTML"},"stream-sense":{exports:"StreamSense"},"mpeg-dash":{exports:"MpegDash"},jquery:{exports:"jQuery"},"libs/jquery-ui/1-10/jqueryui/jquery.ui.autocomplete.html":{deps:["jquery-ui/autocomplete"]},"handlebars-helpers":{deps:["handlebars"]},"jquery-ui-i18n/jquery.ui.datepicker-ru":{deps:["jquery-ui/datepicker"]},"jquery.browser":{deps:["jquery"]},"jquery.scrollTo":{deps:["jquery"]},"jquery.jplayer":{deps:["jquery"]}}}),this.options.isTestServer||(requirejs.onError=function(){})},defineByElement:function(a){var b,c=JSON.parse(a.innerHTML);c.forEach(function(a){b=this.options.useHash?a.path:a.path.replace(/_rev\w+/,""),a.name!==b&&this.defines.indexOf(a.name)===-1&&(this.defines.push(a.name),define(a.name,[b],function(a){return a}))}.bind(this))},defineBundleByElement:function(a){var b,c=JSON.parse(a.innerHTML);c.forEach(function(a){b=this.options.useHash?a.path:a.path.replace(/_rev\w+/,""),a.name!==b&&this.defines.indexOf(a.name)===-1&&(this.defines.push(a.name),define(a.name,["require/bundle!"+b],function(){return require(a.name+"_bundle-part")}.bind(this)))}.bind(this))},defineModules:function(){this.defines=[],this.options.bundles.forEach(function(a){this.defineBundleByElement(document.getElementById("bundle-"+a+"-defines"))}.bind(this)),this.defineByElement(document.getElementById("modules-defines")),this.defineByElement(document.getElementById("plugins-defines"))},loadStartModules:function(){this.options.startModules&&this.options.startModules.forEach(function(a){requirejs([a])})},loadBaseLibs:function(){define("jquery",[],function(){return window.jQuery}),this.$=window.jQuery,this.onLoadBaseLibs()},perfomanceStat:function(a){var b,c,d,e,f,g="//my.mail.ru/grstat?name=monitoring3.",h=300;this.$("html").removeClass("window-loading").addClass("window-loaded"),window.performance&&window.performance.timing&&a?(c=window.performance.timing,d=(c.domContentLoadedEventStart-c.domLoading)/1e3,e=(c.loadEventStart-c.domLoading)/1e3,b=JSON.parse(a.innerHTML),f=b.info,d>0&&d<h?(new window.Image).src=b.img+JSON.stringify({version:1,category:{"client-info":this.$.extend({Type:"DOM Ready",Duration:d},f)}}):d>h&&((new window.Image).src=g+"dwhstat.big-dom-ready",(new window.Image).src=g+"dwhstat.big-dom-ready-region."+f.Country),e>0&&e<h?(new window.Image).src=b.img+JSON.stringify({version:1,category:{"client-info":this.$.extend({Type:"Window loaded",Duration:e},f)}}):e>h&&((new window.Image).src=g+"dwhstat.big-window-loaded",(new window.Image).src=g+"dwhstat.big-window-loaded-region."+f.Country),(new window.Image).src=g+"dwhstat.normal-browsers"):a&&((new window.Image).src=g+"dwhstat.old-browsers")},onLoadBaseLibs:function(){var a=document.getElementById("mm-dwh-stat");webConsole.timeStatus("working site"),webConsole.time("define modules"),this.defineModules(),webConsole.timeEnd("define modules"),this.loadStartModules(),this.run(),window.performance&&window.performance.timing&&window.performance.timing.loadEventStart&&window.performance.timing.domLoading&&a.length?this.perfomanceStat(a):this.$(window).on("load",function(){a=document.getElementById("mm-dwh-stat"),this.perfomanceStat(a)}.bind(this))}},Object.create?Object.create(a).init():(b=function(){return this},b.prototype=a,(new b).init())}();