"function"!==typeof window.DIL&&(window.DIL=function(c,f){var h=[],g,p;c!==Object(c)&&(c={});var r,m,D,M,y,w,I,E,N,O,P,z,A,F;r=c.partner;m=c.containerNSID;D=!!c.disableDestinationPublishingIframe;M=c.iframeAkamaiHTTPS;y=c.mappings;w=c.uuidCookie;I=!0===c.enableErrorReporting;E=c.visitorService;N=c.declaredId;O=!0===c.removeFinishedScriptsAndCallbacks;P=!0===c.delayAllUntilWindowLoad;z=!0===c.disableIDSyncs;A="undefined"===typeof c.secureDataCollection||!0===c.secureDataCollection;F=!0===c.useCORSOnly;
var Q,R,J,G,S,T,U,V;Q=!0===c.disableScriptAttachment;R=!0===c.disableDefaultRequest;J=c.afterResultForDefaultRequest;G=c.dpIframeSrc;S=!0===c.testCORS;T=!0===c.useJSONPOnly;U=c.visitorConstructor;V=!0===c.disableCORS;I&&DIL.errorModule.activate();var Y=!0===window._dil_unit_tests;(g=f)&&h.push(g+"");if(!r||"string"!==typeof r)return g="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:g,filename:"dil.js"}),Error(g);g="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";
if(m||"number"===typeof m)m=parseInt(m,10),!isNaN(m)&&0<=m&&(g="");g&&(m=0,h.push(g),g="");p=DIL.getDil(r,m);if(p instanceof DIL&&p.api.getPartner()===r&&p.api.getContainerNSID()===m)return p;if(this instanceof DIL)DIL.registerDil(this,r,m);else return new DIL(c,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner \x3d "+r+" and containerNSID \x3d "+m);var x={IS_HTTPS:A||"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC"},
K={stuffed:{}},n={},q={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:m+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+
"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,mid:null,noVisitorAPI:!1,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(a){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=!0;var b=this,e,d,c,k;if("function"===typeof a&&"function"===typeof a.getInstance){if(E===Object(E)&&(e=E.namespace)&&"string"===
typeof e)d=a.getInstance(e,{idSyncContainerID:m});else{this.releaseType="no namespace";this.releaseRequests();return}if(d===Object(d)&&d instanceof a&&"function"===typeof d.isAllowed&&"function"===typeof d.getMarketingCloudVisitorID&&"function"===typeof d.getCustomerIDs&&"function"===typeof d.isOptedOut){this.VisitorAPI=a;if(!d.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}this.instance=d;c=function(a){"VisitorAPI"!==b.releaseType&&(b.mid=a,b.releaseType="VisitorAPI",
b.releaseRequests())};k=d.getMarketingCloudVisitorID(c);if("string"===typeof k&&k.length){c(k);return}setTimeout(function(){"VisitorAPI"!==b.releaseType&&(b.releaseType="timeout",b.releaseRequests())},this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE);return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(l){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0;q.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():
null},getMIDQueryString:function(){var a=t.isPopulatedString,b=this.getMarketingCloudVisitorID();if(!a(this.mid)||this.mid!==b)this.mid=b;return a(this.mid)?"d_mid\x3d"+this.mid+"\x26":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(a){if(a===Object(a)){var b="",e=[],d=[],c,k;for(c in a)a.hasOwnProperty(c)&&(d[0]=c,k=a[c],k===Object(k)&&(d[1]=k.id||"",d[2]=k.authState||0,e.push(d),d=[]));if(d=e.length)for(a=0;a<d;a++)b+="\x26d_cid_ic\x3d"+
s.encodeAndBuildRequest(e[a],"%01");return b}return""},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(a){this.isOptedOut=a;this.isOptedOutCallbackCalled=!0;q.registerRequest()}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(a,b){var e=t.isPopulatedString,d=encodeURIComponent;if(a===Object(a)&&
e(b)){var c=a.dpid,k=a.dpuuid,l=null;if(e(c)&&e(k)){l=d(c)+"$"+d(k);if(!0===this.declaredIdCombos[l])return"setDeclaredId: combo exists for type '"+b+"'";this.declaredIdCombos[l]=!0;this.declaredId[b]={dpid:c,dpuuid:k};return"setDeclaredId: succeeded for type '"+b+"'"}}return"setDeclaredId: failed for type '"+b+"'"},getDeclaredIdQueryString:function(){var a=this.declaredId.request,b=this.declaredId.init,e=encodeURIComponent,d="";null!==a?d="\x26d_dpid\x3d"+e(a.dpid)+"\x26d_dpuuid\x3d"+e(a.dpuuid):
null!==b&&(d="\x26d_dpid\x3d"+e(b.dpid)+"\x26d_dpuuid\x3d"+e(b.dpuuid));return d}},registerRequest:function(a){var b=this.firingQueue;a===Object(a)&&b.push(a);if(!this.firing&&b.length&&(!P||DIL.windowLoaded))if(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&(!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled)&&(this.adms.isOptedOutCallbackCalled=!1,a=b.shift(),a.src=a.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+
"d_nsid\x3d"),t.isPopulatedString(a.corsPostData)&&(a.corsPostData=a.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid\x3d")),B.fireRequest(a),!this.firstRequestHasFired&&("script"===a.tag||"cors"===a.tag)))this.firstRequestHasFired=!0},processVisitorAPI:function(){this.adms.process(U||window.Visitor)},requestRemoval:function(a){if(!O)return"removeFinishedScriptsAndCallbacks is not boolean true";var b=this.toRemove,e,d;a===Object(a)&&(e=a.script,d=a.callbackName,(e===Object(e)&&
"SCRIPT"===e.nodeName||"no script created"===e)&&("string"===typeof d&&d.length)&&b.push(a));if(this.readyToRemove&&b.length){d=b.shift();e=d.script;d=d.callbackName;"no script created"!==e?(a=e.src,e.parentNode.removeChild(e)):a=e;window[d]=null;try{delete window[d]}catch(c){}this.removed.push({scriptSrc:a,callbackName:d});DIL.variables.scriptsRemoved.push(a);DIL.variables.callbacksRemoved.push(d);return this.requestRemoval()}return"requestRemoval() processed"}};p=function(){var a="http://fast.",
b="?d_nsid\x3d"+m+"#"+encodeURIComponent(document.location.href);if("string"===typeof G&&G.length)return G+b;x.IS_HTTPS&&(a=!0===M?"https://fast.":"https://");return a+r+".demdex.net/dest5.html"+b};var u={THROTTLE_START:3E4,throttleTimerSet:!1,id:"destination_publishing_iframe_"+r+"_"+m,url:p(),iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messageSendingInterval:x.POST_MESSAGE_ENABLED?15:100,ibsDeleted:[],jsonProcessed:[],newIframeCreated:null,iframeIdChanged:!1,
originalIframeHasLoadedAlready:null,attachIframe:function(){function a(){d=document.createElement("iframe");d.sandbox="allow-scripts allow-same-origin";d.title="Adobe ID Syncing iFrame";d.id=e.id;d.style.cssText="display: none; width: 0; height: 0;";d.src=e.url;e.newIframeCreated=!0;b();document.body.appendChild(d)}function b(){s.addListener(d,"load",function(){d.className="aamIframeLoaded";e.iframeHasLoaded=!0;e.requestToProcess()})}var e=this,d=document.getElementById(this.id);d?"IFRAME"!==d.nodeName?
(this.id+="_2",this.iframeIdChanged=!0,a()):(this.newIframeCreated=!1,"aamIframeLoaded"!==d.className?(this.originalIframeHasLoadedAlready=!1,b()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.iframe=d,this.requestToProcess())):a();this.iframe=d},requestToProcess:function(a,b){var e=this;a&&!t.isEmptyObject(a)&&this.process(a,b);this.iframeHasLoaded&&(this.messages.length&&!this.sendingMessages)&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){e.messageSendingInterval=
x.POST_MESSAGE_ENABLED?15:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},process:function(a,b){var e=encodeURIComponent,d,c,k,l,g,f;b===Object(b)&&(f=s.encodeAndBuildRequest(["",b.dpid||"",b.dpuuid||""],","));if((d=a.dests)&&d instanceof Array&&(c=d.length))for(k=0;k<c;k++)l=d[k],l=[e("dests"),e(l.id||""),e(l.y||""),e(l.c||"")],this.addMessage(l.join("|"));if((d=a.ibs)&&d instanceof Array&&(c=d.length))for(k=0;k<c;k++)l=d[k],l=[e("ibs"),e(l.id||""),e(l.tag||""),s.encodeAndBuildRequest(l.url||
[],","),e(l.ttl||""),"",f],this.addMessage(l.join("|"));if((d=a.dpcalls)&&d instanceof Array&&(c=d.length))for(k=0;k<c;k++)l=d[k],g=l.callback||{},g=[g.obj||"",g.fn||"",g.key||"",g.tag||"",g.url||""],l=[e("dpm"),e(l.id||""),e(l.tag||""),s.encodeAndBuildRequest(l.url||[],","),e(l.ttl||""),s.encodeAndBuildRequest(g,","),f],this.addMessage(l.join("|"));this.jsonProcessed.push(a)},addMessage:function(a){var b=encodeURIComponent,b=I?b("---destpub-debug---"):b("---destpub---");this.messages.push(b+a)},
sendMessages:function(){var a=this,b;this.messages.length?(b=this.messages.shift(),DIL.xd.postMessage(b,this.url,this.iframe.contentWindow),this.messagesPosted.push(b),setTimeout(function(){a.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1}},L={traits:function(a){t.isValidPdata(a)&&(n.sids instanceof Array||(n.sids=[]),s.extendArray(n.sids,a));return this},pixels:function(a){t.isValidPdata(a)&&(n.pdata instanceof Array||(n.pdata=[]),s.extendArray(n.pdata,a));return this},logs:function(a){t.isValidLogdata(a)&&
(n.logdata!==Object(n.logdata)&&(n.logdata={}),s.extendObject(n.logdata,a));return this},customQueryParams:function(a){t.isEmptyObject(a)||s.extendObject(n,a,q.reservedKeys);return this},signals:function(a,b){var e,d=a;if(!t.isEmptyObject(d)){if(b&&"string"===typeof b)for(e in d={},a)a.hasOwnProperty(e)&&(d[b+e]=a[e]);s.extendObject(n,d,q.reservedKeys)}return this},declaredId:function(a){q.declaredId.setDeclaredId(a,"request");return this},result:function(a){"function"===typeof a&&(n.callback=a);
return this},afterResult:function(a){"function"===typeof a&&(n.postCallbackFn=a);return this},useImageRequest:function(){n.useImageRequest=!0;return this},clearData:function(){n={};return this},submit:function(){B.submitRequest(n);n={};return this},getPartner:function(){return r},getContainerNSID:function(){return m},getEventLog:function(){return h},getState:function(){var a={},b={};s.extendObject(a,q,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0});s.extendObject(b,u,{attachIframe:!0,requestToProcess:!0,
process:!0,sendMessages:!0});return{initConfig:c,pendingRequest:n,otherRequestInfo:a,destinationPublishingInfo:b}},idSync:function(a){if(z)return"Error: id syncs have been disabled";if(a!==Object(a)||"string"!==typeof a.dpid||!a.dpid.length)return"Error: config or config.dpid is empty";if("string"!==typeof a.url||!a.url.length)return"Error: config.url is empty";var b=a.url,e=a.minutesToLive,d=encodeURIComponent,c,b=b.replace(/^https:/,"").replace(/^http:/,"");if("undefined"===typeof e)e=20160;else if(e=
parseInt(e,10),isNaN(e)||0>=e)return"Error: config.minutesToLive needs to be a positive number";c=s.encodeAndBuildRequest(["",a.dpid,a.dpuuid||""],",");a=["ibs",d(a.dpid),"img",d(b),e,"",c];u.addMessage(a.join("|"));q.firstRequestHasFired&&u.requestToProcess();return"Successfully queued"},aamIdSync:function(a){if(z)return"Error: id syncs have been disabled";if(a!==Object(a)||"string"!==typeof a.dpuuid||!a.dpuuid.length)return"Error: config or config.dpuuid is empty";a.url="//dpm.demdex.net/ibs:dpid\x3d"+
a.dpid+"\x26dpuuid\x3d"+a.dpuuid;return this.idSync(a)},passData:function(a){if(t.isEmptyObject(a))return"Error: json is empty or not an object";u.ibsDeleted.push(a.ibs);delete a.ibs;B.defaultCallback(a);return a},getPlatformParams:function(){return q.platformParams},getEventCallConfigParams:function(){var a=q,b=a.modStatsParams,e=a.platformParams,d;if(!b){b={};for(d in e)e.hasOwnProperty(d)&&!a.nonModStatsParams[d]&&(b[d.replace(/^d_/,"")]=e[d]);a.modStatsParams=b}return b}},B={corsMetadata:function(){var a=
"none",b=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?a="XMLHttpRequest":(new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/"))()?a="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(b=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(b=!1));return{corsType:a,corsCookiesEnabled:b}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?
null:new window[this.corsMetadata.corsType]},submitRequest:function(a){q.registerRequest(B.createQueuedRequest(a));return!0},createQueuedRequest:function(a){var b=q,e,d=a.callback,c="img",k;if(!t.isEmptyObject(y)){var g,f,h;for(g in y)if(y.hasOwnProperty(g)&&(f=y[g],!(null==f||""===f)&&g in a&&!(f in a)&&!(f in q.reservedKeys)))h=a[g],null==h||""===h||(a[f]=h)}t.isValidPdata(a.sids)||(a.sids=[]);t.isValidPdata(a.pdata)||(a.pdata=[]);t.isValidLogdata(a.logdata)||(a.logdata={});a.logdataArray=s.convertObjectToKeyValuePairs(a.logdata,
"\x3d",!0);a.logdataArray.push("_ts\x3d"+(new Date).getTime());"function"!==typeof d&&(d=this.defaultCallback);b.useJSONP=!0!==a.useImageRequest;b.useJSONP&&(c="script",e=b.callbackPrefix+"_"+m+"_"+(new Date).getTime());b=this.makeRequestSrcData(a,e);if((!T||F)&&(k=this.getCORSInstance()))c="cors";return{tag:c,src:b.src,corsSrc:b.corsSrc,internalCallbackName:e,callbackFn:d,postCallbackFn:a.postCallbackFn,useImageRequest:!!a.useImageRequest,requestData:a,corsInstance:k,corsPostData:b.corsPostData}},
defaultCallback:function(a,b){var e,d,c,k,g,f,h,r,m;if((e=a.stuff)&&e instanceof Array&&(d=e.length))for(c=0;c<d;c++)if((k=e[c])&&k===Object(k)){g=k.cn;f=k.cv;h=k.ttl;if("undefined"===typeof h||""===h)h=Math.floor(s.getMaxCookieExpiresInMinutes()/60/24);r=k.dmn||"."+document.domain.replace(/^www\./,"");m=k.type;if(g&&(f||"number"===typeof f))"var"!==m&&(h=parseInt(h,10))&&!isNaN(h)&&s.setCookie(g,f,1440*h,"/",r,!1),K.stuffed[g]=f}e=a.uuid;if(t.isPopulatedString(e)&&!t.isEmptyObject(w)){d=w.path;if("string"!==
typeof d||!d.length)d="/";c=parseInt(w.days,10);isNaN(c)&&(c=100);s.setCookie(w.name||"aam_did",e,1440*c,d,w.domain||"."+document.domain.replace(/^www\./,""),!0===w.secure)}!D&&!q.abortRequests&&u.requestToProcess(a,b)},makeRequestSrcData:function(a,b){a.sids=t.removeEmptyArrayValues(a.sids||[]);a.pdata=t.removeEmptyArrayValues(a.pdata||[]);var e=q,d=e.platformParams,c=s.encodeAndBuildRequest(a.sids,","),k=s.encodeAndBuildRequest(a.pdata,","),g=(a.logdataArray||[]).join("\x26");delete a.logdataArray;
var f=x.IS_HTTPS?"https://":"http://",h=e.declaredId.getDeclaredIdQueryString(),p=e.adms.instance?e.adms.getCustomerIDsQueryString(e.adms.getCustomerIDs()):"",n;n=[];var v,C,u,W;for(v in a)if(!(v in e.reservedKeys)&&a.hasOwnProperty(v))if(C=a[v],v=encodeURIComponent(v),C instanceof Array){u=0;for(W=C.length;u<W;u++)n.push(v+"\x3d"+encodeURIComponent(C[u]))}else n.push(v+"\x3d"+encodeURIComponent(C));n=n.length?"\x26"+n.join("\x26"):"";c="d_nsid\x3d"+d.d_nsid+h+p+(c.length?"\x26d_sid\x3d"+c:"")+(k.length?
"\x26d_px\x3d"+k:"")+(g.length?"\x26d_ld\x3d"+encodeURIComponent(g):"");d="\x26d_rtbd\x3d"+d.d_rtbd+"\x26d_jsonv\x3d"+d.d_jsonv+"\x26d_dst\x3d"+d.d_dst;f=f+r+".demdex.net/event";k=e=f+"?"+c+(e.useJSONP?d+"\x26d_cb\x3d"+(b||""):"")+n;2048<e.length&&(e=e.substring(0,2048).substring(0,e.lastIndexOf("\x26")));return{corsSrc:f+"?"+(S?"testcors\x3d1\x26d_nsid\x3d"+m+"\x26":"")+"_ts\x3d"+(new Date).getTime(),src:e,originalSrc:k,corsPostData:c+d+n,isDeclaredIdCall:""!==h}},fireRequest:function(a){if("img"===
a.tag)this.fireImage(a);else{var b=q.declaredId,b=b.declaredId.request||b.declaredId.init||{},b={dpid:b.dpid||"",dpuuid:b.dpuuid||""};"script"===a.tag?this.fireScript(a,b):"cors"===a.tag&&this.fireCORS(a,b)}},fireImage:function(a){var b=q,e,d;b.abortRequests||(b.firing=!0,e=new Image(0,0),b.sent.push(a),e.onload=function(){b.firing=!1;b.fired.push(a);b.num_of_img_responses++;b.registerRequest()},d=function(d){g="imgAbortOrErrorHandler received the event of type "+d.type;h.push(g);b.abortRequests=
!0;b.firing=!1;b.errored.push(a);b.num_of_img_errors++;b.registerRequest()},e.addEventListener?(e.addEventListener("error",d,!1),e.addEventListener("abort",d,!1)):e.attachEvent&&(e.attachEvent("onerror",d),e.attachEvent("onabort",d)),e.src=a.src)},fireScript:function(a,b){var e=this,d=q,c,k,f=a.src,m=a.postCallbackFn,n="function"===typeof m,p=a.internalCallbackName;d.abortRequests||(d.firing=!0,window[p]=function(e){try{e!==Object(e)&&(e={});z&&(u.ibsDeleted.push(e.ibs),delete e.ibs);var c=a.callbackFn;
d.firing=!1;d.fired.push(a);d.num_of_jsonp_responses++;c(e,b);n&&m(e,b)}catch(f){f.message="DIL jsonp callback caught error with message "+f.message;g=f.message;h.push(g);f.filename=f.filename||"dil.js";f.partner=r;DIL.errorModule.handleError(f);try{c({error:f.name+"|"+f.message},b),n&&m({error:f.name+"|"+f.message},b)}catch(l){}}finally{d.requestRemoval({script:k,callbackName:p}),d.registerRequest()}},!Q&&!F?(k=document.createElement("script"),k.addEventListener&&k.addEventListener("error",function(b){d.requestRemoval({script:k,
callbackName:p});g="jsonp script tag error listener received the event of type "+b.type+" with src "+f;e.handleScriptError(g,a)},!1),k.type="text/javascript",k.src=f,c=DIL.variables.scriptNodeList[0],c.parentNode.insertBefore(k,c)):(d.firing=!1,d.requestRemoval({script:"no script created",callbackName:p})),d.sent.push(a),d.declaredId.declaredId.request=null)},fireCORS:function(a,b){var e=this,d=q,c=this.corsMetadata.corsType,f=a.corsSrc,l=a.corsInstance,m=a.corsPostData,n=a.postCallbackFn,p="function"===
typeof n;if(!d.abortRequests&&!V){d.firing=!0;try{l.open("post",f,!0),"XMLHttpRequest"===c&&(l.withCredentials=!0,l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.onreadystatechange=function(){if(4===this.readyState&&200===this.status)a:{var c;try{if(c=JSON.parse(this.responseText),c!==Object(c)){e.handleCORSError(a,b,"Response is not JSON");break a}}catch(f){e.handleCORSError(a,b,"Error parsing response as JSON");break a}z&&(u.ibsDeleted.push(c.ibs),delete c.ibs);try{var k=
a.callbackFn;d.firing=!1;d.fired.push(a);d.num_of_cors_responses++;k(c,b);p&&n(c,b)}catch(l){l.message="DIL handleCORSResponse caught error with message "+l.message;g=l.message;h.push(g);l.filename=l.filename||"dil.js";l.partner=r;DIL.errorModule.handleError(l);try{k({error:l.name+"|"+l.message},b),p&&n({error:l.name+"|"+l.message},b)}catch(m){}}finally{d.registerRequest()}}}),l.onerror=function(){e.handleCORSError(a,b,"onerror")},l.ontimeout=function(){e.handleCORSError(a,b,"ontimeout")},l.send(m)}catch(s){this.handleCORSError(a,
b,"try-catch")}d.sent.push(a);d.declaredId.declaredId.request=null}},handleCORSError:function(a,b,e){q.num_of_cors_errors++;q.corsErrorSources.push(e);"ontimeout"!==e&&!F&&(a.tag="script",this.fireScript(a,b))},handleScriptError:function(a,b){q.num_of_jsonp_errors++;this.handleRequestError(a,b)},handleRequestError:function(a,b){var e=q;h.push(a);e.abortRequests=!0;e.firing=!1;e.errored.push(b);e.registerRequest()}},t={isValidPdata:function(a){return a instanceof Array&&this.removeEmptyArrayValues(a).length?
!0:!1},isValidLogdata:function(a){return!this.isEmptyObject(a)},isEmptyObject:function(a){if(a!==Object(a))return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},removeEmptyArrayValues:function(a){for(var b=0,e=a.length,d,c=[],b=0;b<e;b++)d=a[b],"undefined"!==typeof d&&(null!==d&&""!==d)&&c.push(d);return c},isPopulatedString:function(a){return"string"===typeof a&&a.length}},s={addListener:function(){if(document.addEventListener)return function(a,b,e){a.addEventListener(b,function(a){"function"===
typeof e&&e(a)},!1)};if(document.attachEvent)return function(a,b,e){a.attachEvent("on"+b,function(a){"function"===typeof e&&e(a)})}}(),convertObjectToKeyValuePairs:function(a,b,e){var d=[],c,f;b||(b="\x3d");for(c in a)a.hasOwnProperty(c)&&(f=a[c],"undefined"!==typeof f&&(null!==f&&""!==f)&&d.push(c+b+(e?encodeURIComponent(f):f)));return d},encodeAndBuildRequest:function(a,b){return this.map(a,function(a){return encodeURIComponent(a)}).join(b)},map:function(a,b){if(Array.prototype.map)return a.map(b);
if(void 0===a||null===a)throw new TypeError;var e=Object(a),d=e.length>>>0;if("function"!==typeof b)throw new TypeError;for(var c=Array(d),f=0;f<d;f++)f in e&&(c[f]=b.call(b,e[f],f,e));return c},filter:function(a,b){if(!Array.prototype.filter){if(void 0===a||null===a)throw new TypeError;var e=Object(a),d=e.length>>>0;if("function"!==typeof b)throw new TypeError;for(var c=[],f=0;f<d;f++)if(f in e){var g=e[f];b.call(b,g,f,e)&&c.push(g)}return c}return a.filter(b)},getCookie:function(a){a+="\x3d";var b=
document.cookie.split(";"),e,d,c;e=0;for(d=b.length;e<d;e++){for(c=b[e];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(a))return decodeURIComponent(c.substring(a.length,c.length))}return null},setCookie:function(a,b,c,d,f,g){var h=new Date;c&&(c*=6E4);document.cookie=a+"\x3d"+encodeURIComponent(b)+(c?";expires\x3d"+(new Date(h.getTime()+c)).toUTCString():"")+(d?";path\x3d"+d:"")+(f?";domain\x3d"+f:"")+(g?";secure":"")},extendArray:function(a,b){return a instanceof Array&&b instanceof
Array?(Array.prototype.push.apply(a,b),!0):!1},extendObject:function(a,b,c){var d;if(a===Object(a)&&b===Object(b)){for(d in b)if(b.hasOwnProperty(d)&&(t.isEmptyObject(c)||!(d in c)))a[d]=b[d];return!0}return!1},getMaxCookieExpiresInMinutes:function(){return((new Date(x.COOKIE_MAX_EXPIRATION_DATE)).getTime()-(new Date).getTime())/1E3/60}};"error"===r&&0===m&&s.addListener(window,"load",function(){DIL.windowLoaded=!0});var X=!1,H=function(){X||(X=!0,q.registerRequest(),Z(),!D&&!q.abortRequests&&u.attachIframe(),
q.readyToRemove=!0,q.requestRemoval())},Z=function(){D||setTimeout(function(){!R&&!q.firstRequestHasFired&&("function"===typeof J?L.afterResult(J).submit():L.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)};A=document;"error"!==r&&(DIL.windowLoaded?H():"complete"!==A.readyState&&"loaded"!==A.readyState?s.addListener(window,"load",function(){DIL.windowLoaded=!0;H()}):(DIL.windowLoaded=!0,H()));q.declaredId.setDeclaredId(N,"init");q.processVisitorAPI();this.api=L;this.getStuffedVariable=function(a){var b=
K.stuffed[a];!b&&"number"!==typeof b&&(b=s.getCookie(a),!b&&"number"!==typeof b&&(b=""));return b};this.validators=t;this.helpers=s;this.constants=x;this.log=h;Y&&(this.pendingRequest=n,this.requestController=q,this.setDestinationPublishingUrl=p,this.destinationPublishing=u,this.requestProcs=B,this.variables=K,this.callWindowLoadFunctions=H)},function(){var c=document,f;null==c.readyState&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",f=function(){c.removeEventListener("DOMContentLoaded",
f,!1);c.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(c){var f;if(c===Object(c))for(f in c)c.hasOwnProperty(f)&&(this[f]=c[f])},DIL.extendStaticPropertiesAndMethods({version:"6.5",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(c){this.windowLoaded="function"===typeof c?!!c():"boolean"===typeof c?c:!0},create:function(c){try{return new DIL(c)}catch(f){return(new Image(0,
0)).src="http://error.demdex.net/event?d_nsid\x3d0\x26d_px\x3d14137\x26d_ld\x3dname%3Derror%26filename%3Ddil.js%26partner%3Dno_partner%26message%3DError%2520in%2520attempt%2520to%2520create%2520DIL%2520instance%2520with%2520DIL.create()%26_ts%3D"+(new Date).getTime(),Error("Error in attempt to create DIL instance with DIL.create()")}},registerDil:function(c,f,h){f=f+"$"+h;f in this.dils||(this.dils[f]=c)},getDil:function(c,f){var h;"string"!==typeof c&&(c="");f||(f=0);h=c+"$"+f;return h in this.dils?
this.dils[h]:Error("The DIL instance with partner \x3d "+c+" and containerNSID \x3d "+f+" was not found")},dexGetQSVars:function(c,f,h){f=this.getDil(f,h);return f instanceof this?f.getStuffedVariable(c):""},xd:{postMessage:function(c,f,h){var g=1;f&&(window.postMessage?h.postMessage(c,f.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):f&&(h.location=f.replace(/#.*$/,"")+"#"+ +new Date+g++ +"\x26"+c))}}}),DIL.errorModule=function(){var c=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),
f={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},h=!1;return{activate:function(){h=!0},handleError:function(g){if(!h)return"DIL error module has not been activated";g!==Object(g)&&(g={});var p=g.name?(g.name+"").toLowerCase():"",r=[];g={name:p,filename:g.filename?g.filename+"":"",partner:g.partner?g.partner+"":"no_partner",site:g.site?g.site+"":document.location.href,
message:g.message?g.message+"":""};r.push(p in f?f[p]:f.noerrortypedefined);c.api.pixels(r).logs(g).useImageRequest().submit();return"DIL error report sent"},pixelMap:f}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(c,f,h){var g="";f=f||"Error caught in DIL module/submodule: ";c===Object(c)?g=f+(c.message||"err has no message"):(g=f+"err is not a valid object",c={});c.message=g;h instanceof DIL&&(c.partner=h.api.getPartner());DIL.errorModule.handleError(c);return this.errorMessage=
g}}});
DIL.tools.getSearchReferrer=function(c,f){var h=DIL.getDil("error"),g=DIL.tools.decomposeURI(c||document.referrer),p="",r="",m={queryParam:"q"},p=h.helpers.filter([f===Object(f)?f:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(c){return!(!c.hasOwnProperty("hostPattern")||!g.hostname.match(c.hostPattern))}).shift();return!p?{valid:!1,name:"",keywords:""}:{valid:!0,name:g.hostname,keywords:(h.helpers.extendObject(m,p),
r=m.queryPattern?(p=(""+g.search).match(m.queryPattern))?p[1]:"":g.uriParams[m.queryParam],decodeURIComponent(r||"").replace(/\+|%20/g," "))}};
DIL.tools.decomposeURI=function(c){var f=DIL.getDil("error"),h=document.createElement("a");h.href=c||document.referrer;return{hash:h.hash,host:h.host.split(":").shift(),hostname:h.hostname,href:h.href,pathname:h.pathname.replace(/^\//,""),protocol:h.protocol,search:h.search,uriParams:function(c,h){f.helpers.map(h.split("\x26"),function(f){f=f.split("\x3d");c[f.shift()]=f.shift()});return c}({},h.search.replace(/^(\/|\?)?|\/$/g,""))}};
DIL.tools.getMetaTags=function(){var c={},f=document.getElementsByTagName("meta"),h,g,p,r,m;h=0;for(p=arguments.length;h<p;h++)if(r=arguments[h],null!==r)for(g=0;g<f.length;g++)if(m=f[g],m.name===r){c[r]=m.content;break}return c};