(window.webpackJsonp=window.webpackJsonp||[]).push([[160],{"+1F+":function(e,t,n){},"76Xh":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n("VbXa"),a=n.n(o),r=n("q1tI"),i=n("7d/q"),c=n("uKd/"),s=n("+80q"),l=n("hnjF"),d=n("X2PJ"),p=n("sUnt"),u=(n("qbNO"),function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){return r.createElement(d.e,{padding:1,display:l.d.Flex,alignItems:l.b.Center,background:d.a.Base,borderRadius:{topLeft:d.b.Medium,topRight:d.b.Medium},position:l.j.Relative,borderBottom:!0},r.createElement("div",{className:"tw-modal-header",style:{backgroundImage:this.props.imageSrc?"url("+this.props.imageSrc+")":void 0}},this.props.closeButton&&r.createElement(p.a,{margin:{right:1},className:"tw-modal-header__button-placeholder"}),r.createElement(p.a,{flexGrow:1,textAlign:l.k.Center,visibility:this.props.imageSrc?l.m.Hidden:l.m.Visible},r.createElement(s.a,{fontSize:d.d.Size4,bold:!0},this.props.title)),this.props.closeButton&&r.createElement(p.a,{margin:{left:1},className:"tw-modal-header__button-placeholder"},r.createElement(c.a,{ariaLabel:this.props.closeButton.ariaLabel,size:i.b.Small,onClick:this.props.closeButton.onClick,overlay:!!this.props.imageSrc}))))},t}(r.Component));u.displayName="ModalHeader"},E88G:function(e,t,n){},GyBV:function(e,t,n){"use strict";n.r(t);var o=n("mrSG"),a=n("q1tI"),r=n("/7QA"),i=n("eJ65"),c=n("7uM4"),s=n("7d/q"),l=n("ygYM"),d=n("sUnt"),p=n("k0nM"),u=(n("+1F+"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){e.preventDefault(),e.stopPropagation(),t.props.openModal()},t.onToggle=function(e){!e&&t.props.onMenuOpen&&t.props.onMenuOpen()},t}return o.__extends(t,e),t.prototype.render=function(){return a.createElement(d.a,{className:"feedback-card"},a.createElement(i.a,{preventDefault:!0,stopPropagation:!0,onToggle:this.onToggle},a.createElement(s.a,{icon:c.b.More,size:s.b.Small}),a.createElement(p.a,{direction:l.b.TopRight,size:l.c.Small,items:[{title:Object(r.d)("I am not interested in this recommendation","RecFeedbackButton"),onClick:this.onClick,figure:{icon:c.b.VisibilityHidden}}]})))},t}(a.Component)),m=n("dEDE"),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return a.createElement(m.a,{type:m.d.Text,onClick:this.props.openModal,size:m.b.Small},Object(r.d)("Not interested?","RecFeedbackButton"))},t}(a.Component),h=n("/MKj"),f=n("fvjX"),k=n("aCAx"),y=n("yR8l"),g=n("geRD"),v=n("DMoW"),C=n("L9xt"),M=n("9MO3"),E=n("yI6f"),I=n("kRI/"),R=n("+80q"),S=n("X2PJ"),F=n("Ws8v"),D=n("zTPm"),N=n("y0tB"),w=n("hnjF"),O=n("M8Tb");function T(e){switch(e){case E.b.Shelf:return v.Na.SHELF;case E.b.Game:return v.Na.CATEGORY;case E.b.Live:return v.Na.CHANNEL;case E.b.Vod:return v.Na.VOD;case E.b.Clip:return v.Na.UNSPECIFIED;default:return e}}var j=function(e){function t(t){var n=e.call(this,t)||this;return n.logger=r.q.logger.withCategory("recs-feedback"),n.renderSingleChoiceBody=function(){var e=n.props.feedbackReasons[0];return a.createElement(F.a,{borderBottom:!0,padding:{y:2,x:2}},a.createElement(R.a,{fontSize:S.d.Size4,italic:!0,"data-test-selector":"rec-feedback-modal-single-choice-label"},Object(M.e)(e,n.props.channelName,n.props.categoryName)),a.createElement(d.a,{margin:{top:1}},a.createElement(R.a,{fontSize:S.d.Size5},function(e){switch(e){case E.b.Shelf:return Object(r.d)("Giving this feedback will remove this shelf from your recommendations","RecFeedbackModal");case E.b.Game:return Object(r.d)("Giving this feedback will remove this category from your recommendations","RecFeedbackModal");case E.b.Live:return Object(r.d)("Giving this feedback will remove this channel from your recommendations","RecFeedbackModal");case E.b.Vod:return Object(r.d)("Giving this feedback will remove this video from your recommendations","RecFeedbackModal");default:return Object(r.d)("Giving this feedback will remove this content from your recommendations","RecFeedbackModal")}}(e.contentType))))},n.renderMultipleChoiceBody=function(){return a.createElement(F.a,{borderBottom:!0,padding:{top:2,x:2}},a.createElement(R.a,{type:R.e.Span,fontSize:S.d.Size4},n.props.feedbackReasons.map(function(e,t){var o=Object(M.e)(e,n.props.channelName,n.props.categoryName);return a.createElement(d.a,{key:o,margin:{bottom:.5}},a.createElement(N.a,{label:o,checked:n.state.selectedReasonIndex===t,onChange:n.onRadioChange,value:t.toString(),error:n.state.showError}))})),a.createElement(d.a,{margin:{y:.5},visibility:n.state.showError?w.m.Visible:w.m.Hidden,"data-test-selector":"rec-feedback-modal-error"},a.createElement(R.a,{color:S.c.Error},Object(r.d)("Please select a reason","RecFeedbackModalSelection"))))},n.onRadioChange=function(e){n.state.showError&&n.setState({showError:!1});var t=e.currentTarget.getAttribute("value"),o=null===t?null:parseInt(t,10);n.setState({selectedReasonIndex:o})},n.submitFeedback=function(){var e=n.getCurrentChoiceData(),t=e.contentID,o=e.contentType,a=e.feedbackType,r=e.selectedReason;if(r)if(t&&o&&a){var i=Object(g.a)({category:a,itemID:t,itemType:T(o),sourceItemPage:C.PageviewMedium.TwitchHome,sourceItemRequestID:n.props.sourceItemRequestID||"",sourceItemTrackingID:n.props.sourceItemTrackingID||""}),c=n.props.addFeedback(i);n.props.trackRecFeedbackClickStep({clickStep:I.a.Submit,feedbackAction:I.b.Add,feedbackReason:a,feedbackedItemID:t,feedbackType:o}),n.props.hideContent(c),n.props.closeModal()}else{var s="Missing content id for reason: "+r+", type: "+a+", content: "+o;n.logger.error(new Error(s),s)}else n.setState({showError:!0})},n.getCurrentChoiceData=function(){var e=n.state.selectedReasonIndex;if(null===e)return{};var t=n.props.feedbackReasons[e],o=t.feedbackType,a=t.contentType;return{contentID:n.contentTypeToIDMapping(a),contentType:a,feedbackType:o,selectedReason:t}},n.closeModal=function(){n.props.closeModal(),n.props.trackRecFeedbackClickStep({clickStep:I.a.Close,feedbackAction:null,feedbackReason:null,feedbackedItemID:null,feedbackType:null})},n.isMultipleChoice=function(){return 1!==n.props.feedbackReasons.length},n.state={selectedReasonIndex:n.isMultipleChoice()?null:0,showError:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=this.isMultipleChoice(),t=e?Object(r.d)("Not interested? Tell us more...","RecFeedbackModal"):Object(r.d)("Are you sure you want to give this feedback?","RecFeedbackModal");return a.createElement(D.a,{headerProps:{title:t,closeButton:{onClick:this.closeModal,ariaLabel:Object(r.d)("Close","RecFeedbackModal")}},size:D.b.Medium,footerProps:{primaryButtonProps:{children:Object(r.d)("Submit Feedback","RecFeedbackModal"),onClick:this.submitFeedback},secondaryButtonProps:{children:Object(r.d)("Cancel","RecFeedbackModal"),type:m.d.Hollow,onClick:this.closeModal}}},e?this.renderMultipleChoiceBody():this.renderSingleChoiceBody())},t.prototype.contentTypeToIDMapping=function(e){switch(e){case E.b.Shelf:return this.props.shelfID;case E.b.Game:return this.props.categoryID;case E.b.Live:return this.props.channelID;case E.b.Vod:return this.props.vodID;case E.b.Clip:return null;default:return e}},t}(a.Component),B=Object(y.a)(O,{name:"addFeedback"})(j);var x=Object(h.connect)(null,function(e){return Object(f.bindActionCreators)({closeModal:k.c},e)})(B),z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openModal=function(){t.props.showModal(x,{shelfID:t.props.shelfID,channelID:t.props.channelID,vodID:t.props.vodID,categoryID:t.props.categoryID,channelName:t.props.channelName,categoryName:t.props.categoryName,feedbackReasons:t.props.feedbackReasons,hideContent:t.props.hideContent,trackRecFeedbackClickStep:t.props.trackRecFeedbackClickStep,sourceItemRequestID:t.props.sourceItemRequestID,sourceItemTrackingID:t.props.sourceItemTrackingID}),t.props.onModalOpen()},t}return o.__extends(t,e),t.prototype.render=function(){return this.props.isShelf?a.createElement(b,{openModal:this.openModal}):a.createElement(u,{openModal:this.openModal,onMenuOpen:this.props.onMenuOpen})},t}(a.Component);var P=Object(h.connect)(null,function(e){return Object(f.bindActionCreators)({showModal:k.d},e)})(z);n.d(t,"RecFeedbackButtonComponent",function(){return z}),n.d(t,"RecFeedbackButton",function(){return P})},M8Tb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddRecommendationFeedback"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddRecommendationFeedbackInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addRecommendationFeedback"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recommendationFeedback"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:154}};n.loc.source={body:"mutation AddRecommendationFeedback($input: AddRecommendationFeedbackInput!) {\naddRecommendationFeedback(input: $input) {\nrecommendationFeedback {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"PCM+":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n("pVnL"),a=n.n(o),r=n("VbXa"),i=n.n(r),c=n("q1tI"),s=n("dEDE"),l=n("hnjF"),d=n("X2PJ"),p=n("sUnt"),u=n("Ws8v"),m=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){return c.createElement(u.a,{padding:1,display:l.d.Flex,alignItems:l.b.Center,justifyContent:l.h.End,background:d.a.Alt,borderRadius:{bottomLeft:d.b.Medium,bottomRight:d.b.Medium},borderTop:!0},this.props.secondaryButtonProps&&c.createElement(p.a,{padding:{right:1}},c.createElement(s.a,a()({type:s.d.Hollow},this.props.secondaryButtonProps))),c.createElement(s.a,a()({type:s.d.Default},this.props.primaryButtonProps)))},t}(c.Component);m.displayName="ModalFooter"},k0nM:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n("pVnL"),a=n.n(o),r=n("VbXa"),i=n.n(r),c=n("q1tI"),s=n("ygYM"),l=n("hnjF"),d=n("sUnt"),p=n("cNYe"),u=n("4wKg"),m=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=[];return this.props.items&&this.props.items.map(function(t,n){t.type?e.push(c.createElement(p.a,a()({},t,{key:n}))):e.push(c.createElement(u.a,a()({key:n},t)))}),c.createElement(s.a,{elevation:this.props.elevation,offsetX:this.props.offsetX,offsetY:this.props.offsetY,direction:this.props.direction,noTail:this.props.noTail,size:this.props.size?this.props.size:s.c.Small,show:this.props.show},c.createElement(l.g,{display:l.d.Flex,flexDirection:l.e.Column},c.createElement("div",{style:{maxHeight:this.props.maxHeight}},c.createElement(d.a,{overflow:l.i.Auto,padding:1},e,this.props.children))))},t}(c.Component);m.displayName="DropDownMenu"},qbNO:function(e,t,n){},"uKd/":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n("pVnL"),a=n.n(o),r=n("q1tI"),i=n("vCsY"),c=n("7d/q"),s=n("7uM4"),l=function(e){return r.createElement(c.a,a()({},e,Object(i.a)(e),{onClick:(e.onClick,e.onClick),ariaLabel:(e.ariaLabel,e.ariaLabel),icon:s.b.Close,overlay:e.overlay,size:e.size,type:e.type}))};l.displayName="CoreDismissible",l.displayName="CoreDismissible"},zTPm:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return k});var o,a=n("pVnL"),r=n.n(a),i=n("VbXa"),c=n.n(i),s=n("q1tI"),l=n("fNzW"),d=n("vCsY"),p=n("hnjF"),u=n("X2PJ"),m=n("sUnt"),b=n("Ws8v"),h=n("PCM+"),f=n("76Xh");n("E88G");!function(e){e.Small="tw-modal--sm",e.Medium="tw-modal--md",e.Large="tw-modal--lg"}(o||(o={}));var k=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.render=function(){var e={"tw-modal":!0};return this.props.size&&(e[this.props.size]=!0),s.createElement(b.a,r()({},Object(d.a)(this.props),{className:Object(l.a)(e),display:p.d.Flex,flexDirection:p.e.Column,background:u.a.Base,borderRadius:u.b.Medium,elevation:this.props.elevation||5,fullWidth:!0}),s.createElement(f.a,this.props.headerProps),s.createElement(m.a,{overflow:p.i.Auto},this.props.children),s.createElement(h.a,this.props.footerProps))},t}(s.Component);k.displayName="Modal"}}]);