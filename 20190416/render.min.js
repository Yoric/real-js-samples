!function e(t,n,i){var r,o;function a(o,s){var c,l;if(!n[o]){if(!t[o]){if(c="function"==typeof require&&require,!s&&c)return c(o,!0);if(r)return r(o,!0);throw new Error("Cannot find module '"+o+"'")}l=n[o]={exports:{}},t[o][0].call(l.exports,function(e){var n=t[o][1][e];return a(n||e)},l,l.exports,e,t,n,i)}return n[o].exports}for(r="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){var i,r,o,a,s,c;o="v1.4.36",a="click",s="custom_event",c="custom_progress_event",e("./utils/extensions/string"),e("./utils/extensions/math"),e("./utils/polyfills/console"),i=e("./utils/BFUtils")(),window.BFUtils||(window.BFUtils=i),r=function(t,n,r){var l,d,u;return t.$renderVersion=o,t.protocol=0===r.src.indexOf("http")?r.src.split("/")[0]:"",t.$vars=t.$vars||{},t.$params=n,t.$script=r,e("./render/custom-fixes/mrgreen-flashtalking")(t),d=!0,u=i.urlParametersToJson(r.src),r.parentNode&&"HEAD"!=r.parentNode.nodeName?h(t,n,r):i.bindEvent(document,"ready",function(){d=!1,h(t,n,r);try{i.unbindEvent(document,"ready",arguments.callee)}catch(e){}}),l;function p(e,t){var n;document.createEvent?(n=document.createEvent("HTMLEvents")).initEvent(t,!0,!0):(n=document.createEventObject()).eventType=t,n.eventName=t,document.createEvent&&e.dispatchEvent(n)}function f(e,t){"complete"===(t=t||window).document.readyState?e():i.bindEvent(t,"load",e)}function g(e){var r,o,l,d,u,p,f,g,m,h=e.data;try{String.isString(h)&&(h=JSON.parse(h))}catch(e){h=null}if(h&&(r=h.event,o=h.data,l=h.params,r&&o&&l&&l.placement===t.id)){switch(r){case a:i.click(t,n,l.spotIndexes,!0,o);break;case s:case c:d=100,(u=o.name)&&(p=parseFloat(o.value),f=o.id,g=o.label,m={n:String(u).substr(0,d)},null!=f&&(m.id=String(f).substr(0,d)),null!=g&&(m.l=String(g).substr(0,d)),NaN!==p&&(m.m=Math.round(100*p)/100),r===c?i.queueProgressEvent(t,4,m,l.spotIndexes,!1,n):i.queueTrackingEvent(t,4,m,l.spotIndexes,!1,n))}e&&e.stopImmediatePropagation&&e.stopImmediatePropagation()}}function m(){var e,n,r,o=l.firstChild,a=!1,s=l.offsetWidth/Math.toNumber(t.ad.spots[0].size.width),c=Math.toNumber(t.ad.size.width)/Math.toNumber(t.ad.size.height);if(t.$vars.$scale=s||1,(e=t.ad.type.dependencies).length>1)for(n=1;n<e.length;n++)(r=e[n]).func&&this[r.func+"Resize"]&&this[r.func+"Resize"](l,t,s)&&(a=!0);a||(i.supportsHtml5()&&(i.setVendorStyle(o,"transform","scale("+s+")translate3d(0,0,0)"),i.setVendorStyle(o,"transformOrigin","0 0")),o.style.width=l.offsetWidth+"px",o.style.height=o.parentNode.offsetWidth/c+"px",l.style.height=o.style.height=l.offsetWidth/c+"px")}function h(e,r,o){var a,s,c;window.BFBanners=window.BFBanners||[],window.BFBanners.push({placement:e,params:r}),a="bf_timer_"+e.id+"_"+(new Date).getTime(),window[a]=null,function(){i.bindEvent(window,"message",g),this.eventListenerInitiated=!0}(),p(o,"loaded"),r.politeloading&&(e.politeLoading="off"!=r.politeloading),r.targeturl&&(e.targetUrl=r.targeturl),r.targetwindow&&(e.targetWindow=r.targetwindow),r.display&&(e.displayType=r.display),r.responsive&&(e.responsive="on"==r.responsive),e.imageIframe="off"!==r.imageiframe,l=function(e,i){var r,o,a,s=u.container||t.container,c=document.createElement("div");c.id="bf"+(new Date).getTime(),c.style.width=t.responsive?"100%":e.width,c.style.height=t.responsive?"100%":e.height,c.style.overflow="hidden",c.style.position="relative";try{r=t.account.id,(n&&"on"===n.tobii||"avanza"===r||"electrolux"===r||"atg"===r||"c-more"===r||"nordax"===r)&&c.setAttribute("data-tobii-beacon-tags","customer_id=bannerflow,ad_id="+t.id+",brand="+t.brand.id)}catch(e){}return s||!d?s?(o=document.getElementById(s))&&(o.innerHTML="",o.appendChild(c)):document.body.appendChild(c):t.ad.type.settings.stopRender||i.parentNode.insertBefore(c,i.nextSibling),a=document.createElement("div"),c.appendChild(a),c}(e.ad.size,o),e.responsive&&(i.bindEvent(window,"load",function(){i.bindEvent(window,"resize",m)}),i.bindEvent(l,"resize",m),0===l.parentNode.offsetWidth&&(window[a]=setInterval(function(){l.parentNode.offsetWidth>=1&&(clearInterval(window[a]),m())},100))),e.targetUrl&&e.targetUrl.length>0&&(0===e.targetUrl.toLowerCase().indexOf("www")&&(e.targetUrl="http://"+e.targetUrl),"="==e.targetUrl.substring(e.targetUrl.length-1)&&(e.targetUrl+="[target_url_esc]"),"%3D"==e.targetUrl.substring(e.targetUrl.length-3)&&(e.targetUrl+="[target_url_esc_esc]")),"animated"!=e.displayType||i.supportsHtml5()||(e.displayType="image"),v()||(e.ad.type.$unsupported=!0),e.$bannersToDisplay=function(e,t){var n,i,r,o,a,s,c,l,d,u,p,f,g;for(n=[],i=0;i<e.ad.spots.length;i++){switch((r=e.ad.spots[i]).type){case"regular":a=r.selections[0];break;case"ab-test":for(s=Math.random(),c=0,l=0;l<r.selections.length;l++)if(c+=r.selections[l].weight,s<=c){a=r.selections[l];break}break;default:console.log("Incorrect ad type: "+r.id+" - "+r.type.name)}if(a){if((d=a.banners).length>1)if(null==a.localization){for(u=t?t.substr(0,2):(navigator.userLanguage?navigator.userLanguage.toLowerCase():window.navigator.language?window.navigator.language.toLowerCase():e.brand.defaultLocalization).substr(0,2),p=0;p<d.length;p++)for(f=d[p],g=f.localization.split(","),l=0;l<g.length;l++){if(g[l].split("-")[0]==u){o=f;break}g[l]!=e.brand.defaultLocalization||o||(o=f)}o||(o=d[0])}else for(p=0;p<d.length;p++){if(f=d[p],r.localization.indexOf(f.localization)>-1){o=f;break}f.localization!=e.brand.defaultLocalization||o||(o=f)}else 1==d.length?o=d[0]:console.log("No banner available in selection for spot: "+r.id);o?n.push(o):console.log("No banner was selected/found for spot: "+r.id),e.ad.spots[i].selectedBanner=o}}return n}(e,r.localization),"true"===e.ad.type.settings.renderOnlyContainer&&v()||function(e,t,r){var o,a,s,c,l,d,u,g,h=[],w=t.ad.type.$unsupported?1:e.length,b=t.politeLoading,y=t.displayType,E=0;function x(){var e=h.length;1===E&&b&&p(r,"politedone"),b&&"animated"==y&&e++,E==e&&p(r,"bannersloaded")}function I(){var o,a,s=b&&"animated"==y?0:1;for(o=s;o<h.length;o++)(a=i.createIframe(t,t.ad.spots[o],e[o],t.displayType,n)).style.opacity=0,r.children[o].appendChild(a),a.onload=function(){var e,t;E++,this.onload=null,e=Math.toNumber(this["data-index"])||0,r.children[e].firstChild&&0===e&&((t=r.children[e].firstChild).style.zIndex="1",t.style.opacity=0,setTimeout(function(){t.style.display="none"},300)),this.style.opacity="1",x()}}for(o=0;o<w&&(a=e[o],s=t.ad.spots[o],(c=document.createElement("div")).style.width=t.responsive&&!i.supportsHtml5()?Math.toNumber(s.size.width)/Math.toNumber(t.ad.size.width)*100+"%":s.size.width,c.style.height=t.responsive&&!i.supportsHtml5()?Math.toNumber(s.size.height)/Math.toNumber(t.ad.size.height)*100+"%":s.size.height,0===o?(l="image"==y||b&&"animated"==y?"image":"animated",d=i.createIframeOrImage(t,s,a,l,n),i.bindEvent(d,"load",function(){E++,d.style.opacity=1,x()}),d.style.opacity=0,d.style.transition="opacity 0.1s",c.appendChild(d)):(c.style.display="none",c.style.position="absolute",c.style.top="0",c.style.left="0"),h.push(c),r.appendChild(c),v());o++);if(b)if(window.top!==window){try{window.top.document.readyState,u=window.top}catch(e){}u?f(I,u):window.BFLoadManager?BFLoadManager.onLoad(I):window.dhtml&&window.dhtml.sharedEvents?window.dhtml.sharedEvents.once("pageLoadComplete",function(){f(I)}):window.Enabler&&Enabler.isInitialized?(g=function(){Enabler.isPageLoaded()?I():Enabler.addEventListener(studio.events.StudioEvent.PAGE_LOADED,I)},Enabler.isInitialized()?g():Enabler.addEventListener(studio.events.StudioEvent.INIT,g)):f(function(){setTimeout(I,1e3)})}else f(I);else I();t.responsive&&m()}(e.$bannersToDisplay,e,l.firstChild),e.ad.type.settings.stopRender||i.trackImpression(e,r,{vw:i.supportViewable()?1:0}),s=function(t){i.processProgressEventQueue(e),i.sendTrackingData(e,r)},i.bindEvent(window,"beforeunload",s),i.bindEvent(window,"pagehide",s),i.isMobile()&&(c=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/i.test(navigator.userAgent),window.mraid&&c&&window.mraid.addEventListener("viewableChange",function(e){var t=l.getElementsByClassName("bf_animated");t.length&&e&&t[0].contentWindow.postMessage({type:"restartBanner"},"*")}),i.bindEvent(document,"visibilitychange",function(e){"hidden"==document.visibilityState&&s(e)})),p(o,"rendered"),e.$it=(new Date).getTime()}function v(){var e,n,i=t.ad.type.dependencies;if(i.length>1)for(e=1;e<i.length;e++)if((n=i[e]).func&&this[n.func+"Compatible"]&&!this[n.func+"Compatible"](t))return!1;return!0}},window.BannerFlowRender=r,window.BannerFlowRenderScripts=window.BannerFlowRenderScripts||[],window.BannerFlowRenderScripts.push({func:r,v:o})},{"./render/custom-fixes/mrgreen-flashtalking":2,"./utils/BFUtils":3,"./utils/extensions/math":9,"./utils/extensions/string":10,"./utils/polyfills/console":13}],2:[function(e,t,n){t.exports=function(e){try{if(e.account&&"mr-green"==e.account.id&&window.myFT){var t=document.getElementById("banner");t&&(t.style.opacity="0",t.style.background="#fff")}}catch(e){}}},{}],3:[function(e,t,n){t.exports=function(){var t=e("./device"),n=e("./event"),i=e("./style"),r=e("./tracking")(),o=e("./macro"),a=e("./json"),s=e("./banners")(),c=e("./date");return{isMobile:t.isMobile,isTouchDevice:t.isTouchDevice,supportsHtml5:t.supportsHtml5,bindEvent:n.bindEvent,unbindEvent:n.unbindEvent,dispatchEvent:n.dispatchEvent,prefixes:i.prefixes,setVendorStyle:i.setVendorStyle,getStyle:i.getStyle,trackingData:r.trackingData,getImpressionPixelUrl:r.getImpressionPixelUrl,loadPixel:r.loadPixel,sendBeacon:r.sendBeacon,getClickPixelUrl:r.getClickPixelUrl,trackImpression:r.trackImpression,click:r.click,isInView:r.isInView,viewGrade:r.viewGrade,getTrackingData:r.getTrackingData,queueTrackingEvent:r.queueTrackingEvent,queueProgressEvent:r.queueProgressEvent,processProgressEventQueue:r.processProgressEventQueue,sendTrackingData:r.sendTrackingData,fixUrl:r.fixUrl,supportViewable:r.supportViewable,initViewable:r.initViewable,getTracking:r.getProtocol,getDomain:r.getDomain,resolveMacros:o.resolveMacros,getMacros:o.getMacros,toJsonString:a.toJsonString,parseJson:a.parseJson,urlParametersToJson:a.urlParametersToJson,createIframe:s.createIframe,createImage:s.createImage,createIframeOrImage:s.createIframeOrImage,setElementSize:s.setElementSize,getCustomParameters:s.getCustomParameters,getPlacementData:s.getPlacementData,getClientTimeZone:c.getClientTimeZone}}},{"./banners":4,"./date":6,"./device":7,"./event":8,"./json":11,"./macro":12,"./style":14,"./tracking":15}],4:[function(e,t,n){t.exports=function(){var t=e("./device"),n=e("./tracking")(),i=e("./event");return{createIframe:function(e,t,i,r,o){var a=document.createElement("iframe"),s="image"==r?i.srcImage:i.srcAnimated,c=n.getClickPixelUrl(e,i,t),l=(s.indexOf("?")>-1?"&":"?")+"clickpixel="+encodeURIComponent(c)+(e.targetUrl?"&targeturl="+encodeURIComponent(e.targetUrl):"")+"&targetwindow="+e.targetWindow+this.getCustomParameters(o)+"&ref="+encodeURIComponent(n.getDomain());return a.src=(0===s.indexOf("http")||0===s.indexOf("/api")?"":n.getProtocol(e))+s+l,a.className="bf_"+r,this.setElementSize(a,e,t),a.style.backgroundColor=o["background-color"]?o["background-color"]:"transparent",a.frameBorder=0,a.allowtransparency="true",a.style.border="none",a.scrolling="no",a.id="bf_"+1*new Date+parseInt(1e4*Math.random()),a["data-index"]=t.index,a},createImage:function(e,t,r,o,a){var s=document.createElement("img");return s.src=r.imageUrl,s.className="bf_polite",this.setElementSize(s,e,t),s.style.height="auto",s.style.backgroundColor=a["background-color"]?a["background-color"]:"transparent",s.style.outline="none",s.style.border="none",s.style.cursor="pointer",s.id="bf_"+1*new Date+parseInt(1e4*Math.random()),s["data-index"]=t.index,i.bindEvent(s,"click",function(){n.click(e,a,t.index)}),s},createIframeOrImage:function(e,t,n,i,r){return e.imageIframe||"image"!==i||!n.imageUrl?this.createIframe(e,t,n,i,r):this.createImage(e,t,n,i,r)},setElementSize:function(e,n,i){e.setAttribute("style","max-width: none !important;max-height: none !important;"),e.style.width=n.responsive&&!t.supportsHtml5()?"100%":i.size.width,e.style.height=n.responsive&&!t.supportsHtml5()?"100%":i.size.height,e.style.position="absolute",e.style.top=e.style.left="0"},getCustomParameters:function(e){var t,n=",targetwindow,targeturl,display,responsive,politeloading,",i="";for(t in e)-1==n.indexOf(","+t+",")&&(i+="&"+t+"="+e[t]);return i},getPlacementData:function(e){var t,n,i=window.BFBanners||[];for(t=0;t<i.length;t++)if(e===(n=i[t]).placement.id)return n}}}},{"./device":7,"./event":8,"./tracking":15}],5:[function(e,t,n){t.exports=function(){return function(){var e,t=navigator.userAgent,n=t.match(/(opera|edge|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(n[1]))return{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""};if("Chrome"===n[1]){if(e=t.match(/\bOPR\/(\d+)/))return{name:"Opera",version:e[1]};if(e=t.match(/(edge(?=\/))\/?\s*(\d+)/i))return{name:"Edge",version:e[e.length-1]}}return n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0].replace(/MSIE/g,"IE"),version:n[1]}}()}()},{}],6:[function(e,t,n){t.exports={getClientTimeZone:function(){var e=-(new Date).getTimezoneOffset(),t=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return(e>=0?"+":"-")+t(e/60)+t(e%60)}}},{}],7:[function(e,t,n){t.exports={isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|SamsungBrowser|IEMobile|Opera Mini/i.test(navigator.userAgent)},isTouchDevice:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},supportsHtml5:function(){var e,t,n,i,r,o,a;if(navigator.userAgent.indexOf("Android")>-1){if(Number(navigator.userAgent.match(/Android\s(.*?);/i)[1].split(".").slice(0,2).join("."))<4.1)return!1;if(navigator.userAgent.indexOf("Firefox")>-1)return!1}if((e=function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:void 0}())&&e<10)return!1;if(navigator.appVersion)try{if((n=(t=navigator.appVersion.split("/"))[t.length-2]).indexOf("Safari")>-1&&Number(n.split(".")[0])<=5)return!1}catch(e){}if("string"==typeof(i=(document.body||document.documentElement).style)[r="transition"])return!0;for(o=["Moz","webkit","Webkit","Khtml","O","ms"],r=r.charAt(0).toUpperCase()+r.substr(1),a=0;a<o.length;a++)if("string"==typeof i[o[a]+r])return!0;return!1}}},{}],8:[function(e,t,n){t.exports={bindEvent:function(e,t,n,i){e===window&&"load"===t&&"complete"===document.readyState?n(null):e!==document||"ready"!==t||"interactive"!==document.readyState&&"complete"!==document.readyState?e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n):n(null)},debounce:function(e,t,n){var i,r,o,a,s,c;if("function"!=typeof e)throw"A function has to be provided to be able to debounce!";return c=function(){var l=Date.now()-a;l<t&&l>=0?i=setTimeout(c,t-l):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))},function(){o=this,r=arguments,a=Date.now();var l=n&&!i;return i||(i=setTimeout(c,t)),l&&(s=e.apply(o,r),o=r=null),s}},unbindEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)},dispatchEvent:function(e,t,n){var i,r,o,a;try{i=new Event(e)}catch(t){(i=document.createEvent("Event")).initEvent(e,!0,!1)}if(i.data=t,n&&document.createEvent)n.dispatchEvent(i);else if(vars._listeners[i.type]instanceof Array)for(o=0,a=(r=vars._listeners[i.type]).length;o<a;o++)r[o].call(vars,i,t)}}},{}],9:[function(e,t,n){t.exports=(Math.limit||(Math.limit=function(e,t,n){return this.min(this.max(e,t),n)}),Math.roundTo||(Math.roundTo=function(e,t){return t=Math.abs(t)||1,Math.round(e/t)*t}),Math.floorTo||(Math.floorTo=function(e,t){return t=Math.abs(t)||1,Math.floor(e/t)*t}),Math.ceilTo||(Math.ceilTo=function(e,t){return t=Math.abs(t)||1,Math.ceil(e/t)*t}),Math.toDegrees||(Math.toDegrees=function(e){return 180*e/Math.PI}),Math.toRadians||(Math.toRadians=function(e){return e*Math.PI/180}),Math.closest||(Math.closest=function(e,t){var n,i,r=0,o=Number.MAX_VALUE;for(r in e)(i=Math.abs(parseFloat(t)-parseFloat(e[r])))<o&&(o=i,n=parseFloat(e[r]));return n}),Math.toNumber||(Math.toNumber=function(e,t){var n=null!=e?parseFloat(e.toString().replace(",",".").replace(/[^\.\d-]/g,""),10):NaN;return isNaN(n)&&void 0!==t?t:n}),void(Math.toInt||(Math.toInt=function(e,t){var n=null!=e?parseInt(e.toString().replace(",",".").replace(/[^\.\d-]/g,""),10):NaN;return isNaN(n)&&void 0!==t?t:n})))},{}],10:[function(e,t,n){t.exports=(String.prototype.capitalize||(String.prototype.capitalize=function(){return this[0].toUpperCase()+this.slice(1)}),String.isString||(String.isString=function(e){return"string"==typeof e||e instanceof String}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return void 0!==e[n]?e[n]:t})}),void(String.prototype.camelCase||(String.prototype.camelCase=function(){return this.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})})))},{}],11:[function(e,t,n){t.exports={toJsonString:function(e){return JSON.stringify(e)},urlParametersToJson:function(e){var t,n,i=e.indexOf("?")>-1?e.split("?")[1]:e,r=i.split("&"),o={};for(t=0;t<r.length;t++)o[(n=r[t].split("="))[0]]=n[1];return o}}},{}],12:[function(e,t,n){t.exports={resolveMacros:function(e,t){var n,i,r,o=["_double-escaped%","_escaped%","%"];for(e=e.replace("%random%",(new Date).getTime()),n=0;n<o.length;n++)for(i in t)r=t[i],0===n?r=encodeURIComponent(encodeURIComponent(r)):1===n&&(r=encodeURIComponent(r)),e=e.replace(new RegExp("%"+i+o[n],"gi"),r);return e},getMacros:function(e){var t,n={};for(t in e)n["parameter_"+t]=e[t];return n}}},{}],13:[function(e,t,n){t.exports=("undefined"!=typeof console&&void 0!==console.log||(window.console={log:function(){}}),console.warn=console.warn||console.log,void(console.error=console.error||console.log))},{}],14:[function(e,t,n){t.exports={prefixes:["webkit","moz","ms","o"],setVendorStyle:function(e,t,n,i){var r,o=t.charAt(0).toUpperCase()+t.slice(1);for(r=0;r<this.prefixes.length;r++)e.style[this.prefixes[r]+o]=i?"-"+this.prefixes[r]+"-"+n:n;e.style[t]=n},getStyle:function(e,t){var n,i,r,o,a=(e.ownerDocument||document).defaultView;return a&&a.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),a.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)?(i=n,r=e.style.left,o=e.runtimeStyle.left,e.runtimeStyle.left=e.currentStyle.left,e.style.left=i||0,i=e.style.pixelLeft+"px",e.style.left=r,e.runtimeStyle.left=o,i):n):void 0}}},{}],15:[function(e,t,n){t.exports=function(){e("./json");var t=e("./macro"),n=e("./event"),i=e("./device"),r=e("./browser"),o=e("./date"),a={trackingData:function(e,t){var n,i=[],r=[];for(n=0;n<t.length;n++)i.push(t[n].id),r.push(t[n].bannerset);return{account:e.account.id,brand:e.brand.id,placement:e.id,ad:e.ad.id,bannerset:r.join(),banner:i.join()}},getImpressionPixelUrl:function(e,t){if(!e.bftracking.preview&&window.JSON){var n=this.trackingData(e,t);return this.getProtocol(e)+e.bftracking.url+encodeURIComponent(JSON.parse(n))}},sendBeacon:function(e,t){var n;if(!location||!(location.hostname.indexOf("www.bannerflow.")>-1||location.hostname.indexOf("app.bannerflow.")>-1||location.hostname.indexOf("blog.bannerflow.")>-1)){try{t&&"string"!=typeof t&&(t=JSON.stringify(t))}catch(e){}navigator&&navigator.sendBeacon?navigator.sendBeacon(e,t):XMLHttpRequest?((n=new XMLHttpRequest).open("POST",e,!1),n.send(t)):(new Image).src=e}},loadPixel:function(e){var t,n;location&&(location.hostname.indexOf("www.bannerflow.")>-1||location.hostname.indexOf("app.bannerflow.")>-1||location.hostname.indexOf("blog.bannerflow.")>-1)||(t=r&&"IE"===r.name&&parseInt(r.version)<10,window.XMLHttpRequest&&!t?((n=new XMLHttpRequest).withCredentials=!0,n.open("GET",function(e){if(0===e.indexOf("//"))return"https:"+e;return e.replace(/http:\/\//g,"https://")}(e),!0),n.send()):(new Image).src=e)},getClickPixelUrl:function(e,t,n){var i,r;return e.bftracking.preview||!window.JSON?"":((i=this.trackingData(e,[t])).spotIndexes=n.index,i.bannerIds=t.id,r=encodeURIComponent(JSON.stringify(i)),e.bftracking.clickUrl+r)},trackImpression:function(e,n,i){var r,o,a;e.bftracking&&e.bftracking.preview||(this.queueTrackingEvent(e,1,i,0,!0,n),n.impressionpixel&&(r=(r=decodeURIComponent(n.impressionpixel))+(r.indexOf("?")>-1?"&":"?")+"cb="+(new Date).getTime(),this.loadPixel(r,!0)),n.impressionscript&&((o=document.createElement("script")).type="text/javascript",o.async=!0,o.src=decodeURIComponent(n.impressionscript),(a=document.getElementsByTagName("script")).length>0&&a[0].parentNode.insertBefore(o,a[0])),e.network&&e.network.tag.patternImpressionPixel&&this.loadPixel(this.getProtocol(e)+t.resolveMacros(e.network.tag.patternImpressionPixel,t.getMacros(n))))},fixUrl:function(e,t){return e?(0===e.indexOf("//")?e=this.getProtocol(t)+e:0!==e.indexOf("http")&&(e="http://"+e),e):""},getProtocol:function(e){return(e?e.protocol:null)||window.location.protocol},click:function(e,t,n,i,r){var o,a,s,c;n||(n=0),this.getClickPixelUrl(e,e.ad.spots[n].selectedBanner,e.ad.spots[n])&&e.bftracking&&!e.bftracking.preview&&this.queueTrackingEvent(e,2,r,n,!0,e.$params),t.clickpixel&&((new Image).src=decodeURIComponent(t.clickpixel)),t.clickscript&&((o=document.createElement("script")).type="text/javascript",o.async=!0,o.src=decodeURIComponent(t.clickscript),(a=document.getElementsByTagName("script")).length>0&&a[0].parentNode.insertBefore(o,a[0])),s=this.fixUrl(e.ad.spots[n].selectedBanner.targeturl),(c=(c=e.targetUrl||s).replace(/\[target_url\]/gi,s).replace(/\[target_url_esc\]/gi,encodeURIComponent(s)).replace(/\[target_url_esc_esc\]/gi,encodeURIComponent(encodeURIComponent(s))))&&!i&&window.open(this.fixUrl(c),e.targetWindow||"_blank")},isInView:function(e,t){return!!e.getBoundingClientRect&&(t?this.viewGrade(e)>0:this.viewGrade(e)>=1)},viewGrade:function(e){var t,n,i,r,o;return e.getBoundingClientRect?(n=(t=e.getBoundingClientRect()).right-t.left,i=t.bottom-t.top,r=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,Math.min(n,Math.max(0,t.right))/n*(Math.min(n,Math.max(0,r-t.left))/n)*(Math.min(i,Math.max(0,t.bottom))/i)*(Math.min(i,Math.max(0,o-t.top))/i)):0},getTrackingData:function(e,t){var n,i,r;return t=t||{},e.$sid=e.$sid||1*new Date+"_"+Math.floor(1e5*Math.random()),n=e.$bannersToDisplay?e.$bannersToDisplay[0]:{},i={u:{sr:[window.screen.width,window.screen.height],tz:o.getClientTimeZone(),r:this.getDomain(t)},a:{}},(r=function(e,t,n){n=n||"a",(t||0===t)&&(i[n][e]=t)})("s",e.$sid,"u"),r("vs",e.$renderVersion),r("a",e.account.id),r("br",e.brand.id),r("c",n.bannerset),r("ad",e.ad.id),r("p",e.id),r("b",n.id),r("pl",e.politeLoading?1:0),r("r",e.responsive?1:0),r("an","animated"===e.displayType?1:0),r("s",n.sizeFormatId),r("t",n.translationId),r("l",n.localizationId),r("bf",n.bannerFormatId),r("cid",t.customid),r("ch",t.channel),r("cp",e.campaignId),r("si",e.scheduleId),r("p161",t.p161),i},queueTrackingEvent:function(e,t,n,i,r,o){var a=this;e.$tq=e.$tq||[],(n=n||{}).s=i||0,e.$tq.push({d:(new Date).getTime(),t:t,v:n}),r?(e.$tto&&clearTimeout(e.$tto),e.$tto=null,a.sendTrackingData(e,o,!0)):e.$tto||(e.$tto=setTimeout(function(){e.$tto=null,a.sendTrackingData(e,o)},12e4))},queueProgressEvent:function(e,t,n,i,r,o){var a,s,c;for(e.$ptq=e.$ptq||[],(n=n||{}).s=i||0,a=0;a<e.$ptq.length;a++)if((c=(s=e.$ptq[a]).v).n===n.n&&c.id===n.id&&c.l===n.l)return void(s.v=n);e.$ptq.push({d:(new Date).getTime(),t:t,v:n})},processProgressEventQueue:function(e){e.$ptq&&e.$ptq.length&&!e.$queueProcessed&&(e.$tq=(e.$tq||[]).concat(e.$ptq),e.$ptq=[],e.$queueProcessed=!0)},sendTrackingData:function(e,t,n){var i,r,o,a,s,c,l,d=this,u=2e3,p=e.$tq||[];if(!e.bftracking.preview&&p.length&&window.JSON&&("shared.bannerflow.com"!==location.host||"off"!==t.tracking)){if(i=this.getTrackingData(e,t),r=e.bftracking.trackerUrl||"https://tracker.bannerflow.com/api/tr/v1/pixel?data=",n)for(o=r.length;p.length;){for(a=p.length,s=p.slice(0,a),c=encodeURIComponent(JSON.stringify(s));o+c.length>u&&a>1;)a--,s=p.slice(0,a),c=encodeURIComponent(JSON.stringify(s));i.e=p.splice(0,a),l=r+encodeURIComponent(JSON.stringify(i)),d.loadPixel(l)}else i.e=p,this.sendBeacon(r,i);e.$tq=[]}},supportViewable:function(){return document.createEvent&&(!l()||window.mraid&&mraid.getState||window.IntersectionObserver)},initViewable:function(e,t,i){var r,o;a.supportViewable()&&(n.bindEvent(e,"inview",function(){!function(e,t,n){t.$tivf||(t.$tit=setTimeout(function(){a.queueTrackingEvent(t,3,{},0,!0,n),t.$tivf=!0},1e3));t.$vt=(new Date).getTime()}(0,t,i)}),n.bindEvent(e,"notinview",function(){c(e,t)}),n.bindEvent(window,"beforeunload",function(){c(e,t),t.$tiv&&a.queueTrackingEvent(t,4,{i:t.$tiv,t:(new Date).getTime()-t.$it},0,!1,i)}),r=function(){s(e,t,i)},n.bindEvent(document,"visibilitychange",r),l()?window.IntersectionObserver?new IntersectionObserver(function(n,r){var o=n[0].intersectionRatio;s(e,t,i,o)},{threshold:[.3,.5]}).observe(e):window.mraid&&mraid.getState&&(o=function(){mraid.isViewable()&&n.dispatchEvent("inview",{},e),n.bindEvent(mraid,"viewableChange",function(t){t?n.dispatchEvent("inview",{},e):n.dispatchEvent("notinview",{},e)})},"loading"===mraid.getState()?n.bindEvent(mraid,"ready",o):o()):(n.bindEvent(window,"scroll",r),n.bindEvent(window,"resize",r),n.bindEvent(window,"focus",r),n.bindEvent(window,"blur",function(){s(e,t,i,0)}),r()))},getDomain:function(e){var t,n,i,r=e&&e.domain&&"${DetectedDomain}"!==e.domain?decodeURIComponent(e.domain):"";return!r&&window.context&&(r=window.context.canonicalUrl),r||(n=(t=function(){var e=window;for(;e.parent&&e!==e.parent;)try{if(e.parent.location.href,!e.parent.document)break;e=e.parent}catch(e){break}return e}()).document,i=t.location||(n?n.location:void 0),n&&n.referrer&&l(t)?r=n.referrer:i&&i.href&&(r=i.href)),r.replace(/\?.*/g,"")}};function s(e,t,r,o,s){var c,l;o=void 0!==o?o:a.viewGrade(e),s=s||(c=e,l=t,i.isMobile()?.5:(c.clientWidth||l.ad.size.width)*(c.clientHeight||l.ad.size.height)>242500?.3:.5),t.$iv&&(o<s||document.hidden)?(t.$iv=!1,n.dispatchEvent("notinview",{},e,r)):!t.$iv&&o>=s&&!document.hidden&&(t.$iv=!0,n.dispatchEvent("inview",{},e,r))}function c(e,t){t.$tit&&(clearTimeout(t.$tit),t.$tit=null),t.$vt&&(t.$tiv=(t.$tiv||0)+((new Date).getTime()-t.$vt)),t.$vt=null}function l(e){try{return(e=e||window).self!==window.top}catch(e){return!0}}return a}},{"./browser":5,"./date":6,"./device":7,"./event":8,"./json":11,"./macro":12}]},{},[1]);
//# sourceMappingURL=render.min.js.map
