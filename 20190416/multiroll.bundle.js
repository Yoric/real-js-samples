!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=153)}([function(e,t,r){"use strict";(function(n,o){var i,a,s,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
s=function(){function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,i=void 0,a=void 0,s=function(e,t){h[r]=e,h[r+1]=t,2===(r+=2)&&(a?a(v):S())},d="undefined"!=typeof window?window:void 0,l=d||{},c=l.MutationObserver||l.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function A(){var e=setTimeout;return function(){return e(v,1)}}var h=new Array(1e3);function v(){for(var e=0;e<r;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}r=0}var y,_,E,m,S=void 0;function g(e,t){var r=this,n=new this.constructor(O);void 0===n[T]&&x(n);var o=r._state;if(o){var i=arguments[o-1];s(function(){return F(o,n,i,r._result)})}else k(r,n,e,t);return n}function b(e){if(e&&"object"===(void 0===e?"undefined":u(e))&&e.constructor===this)return e;var t=new this(O);return M(t,e),t}f?S=function(){return n.nextTick(v)}:c?(_=0,E=new c(v),m=document.createTextNode(""),E.observe(m,{characterData:!0}),S=function(){m.data=_=++_%2}):p?((y=new MessageChannel).port1.onmessage=v,S=function(){return y.port2.postMessage(0)}):S=void 0===d?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(v)}:A()}catch(e){return A()}}():A();var T=Math.random().toString(36).substring(2);function O(){}var P=void 0,w=1,I=2,D={error:null};function R(e){try{return e.then}catch(e){return D.error=e,D}}function C(t,r,n){r.constructor===t.constructor&&n===g&&r.constructor.resolve===b?function(e,t){t._state===w?L(e,t._result):t._state===I?V(e,t._result):k(t,void 0,function(t){return M(e,t)},function(t){return V(e,t)})}(t,r):n===D?(V(t,D.error),D.error=null):void 0===n?L(t,r):e(n)?function(e,t,r){s(function(e){var n=!1,o=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?M(e,r):L(e,r))},function(t){n||(n=!0,V(e,t))},e._label);!n&&o&&(n=!0,V(e,o))},e)}(t,r,n):L(t,r)}function M(e,t){var r,n;e===t?V(e,new TypeError("You cannot resolve a promise with itself")):(n=void 0===(r=t)?"undefined":u(r),null===r||"object"!==n&&"function"!==n?L(e,t):C(e,t,R(t)))}function N(e){e._onerror&&e._onerror(e._result),B(e)}function L(e,t){e._state===P&&(e._result=t,e._state=w,0!==e._subscribers.length&&s(B,e))}function V(e,t){e._state===P&&(e._state=I,e._result=t,s(N,e))}function k(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+w]=r,o[i+I]=n,0===i&&e._state&&s(B,e)}function B(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?F(r,n,o,i):o(i);e._subscribers.length=0}}function F(t,r,n,o){var i=e(n),a=void 0,s=void 0,u=void 0,d=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return D.error=e,D}}(n,o))===D?(d=!0,s=a.error,a.error=null):u=!0,r===a)return void V(r,new TypeError("A promises callback cannot return that same promise."))}else a=o,u=!0;r._state!==P||(i&&u?M(r,a):d?V(r,s):t===w?L(r,a):t===I&&V(r,a))}var U=0;function x(e){e[T]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}var j=function(){function e(e,r){this._instanceConstructor=e,this.promise=new e(O),this.promise[T]||x(this.promise),t(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&L(this.promise,this._result))):V(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===P&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===b){var o=R(e);if(o===g&&e._state!==P)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===K){var i=new r(O);C(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===P&&(this._remaining--,e===I?V(n,r):this._result[t]=r),0===this._remaining&&L(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;k(e,void 0,function(e){return r._settledAt(w,t,e)},function(e){return r._settledAt(I,t,e)})},e}(),K=function(){function e(t){this[T]=U++,this._result=this._state=void 0,this._subscribers=[],O!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){M(e,t)},function(t){V(e,t)})}catch(t){V(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},e}();return K.prototype.then=g,K.all=function(e){return new j(this,e).promise},K.race=function(e){var r=this;return t(e)?new r(function(t,n){for(var o=e.length,i=0;i<o;i++)r.resolve(e[i]).then(t,n)}):new r(function(e,t){return t(new TypeError("You must pass an array to race."))})},K.resolve=b,K.reject=function(e){var t=new this(O);return V(t,e),t},K._setScheduler=function(e){a=e},K._setAsap=function(e){s=e},K._asap=s,K.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=K},K.Promise=K,K},"object"===u(t)&&void 0!==e?e.exports=s():void 0===(a="function"==typeof(i=s)?i.call(t,r,t,e):i)||(e.exports=a)}).call(this,r(154),r(74))},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(25);!function(e){e.NO_APPROPRIATE_VIDEO_SOURCE="NO_APPROPRIATE_VIDEO_SOURCE",e.MEDIA_ERR_ABORTED="MEDIA_ERR_ABORTED",e.MEDIA_ERR_NETWORK="MEDIA_ERR_NETWORK",e.MEDIA_ERR_DECODE="MEDIA_ERR_DECODE",e.MEDIA_ERR_SRC_NOT_SUPPORTED="MEDIA_ERR_SRC_NOT_SUPPORTED",e.VIDEO_ERROR="VIDEO_ERROR",e.INVALID_VAST_XML="INVALID_VAST_XML",e.VAST_TAG_NOT_FOUND="VAST_TAG_NOT_FOUND",e.INCOMPATIBLE_VAST_VERSION="INCOMPATIBLE_VAST_VERSION",e.WRAPPER_MAX_COUNT_LIMIT="WRAPPER_MAX_COUNT_LIMIT",e.INCORRECT_SKIPOFFSET_FORMAT="INCORRECT_SKIPOFFSET_FORMAT",e.INCORRECT_SKIP_DELAY_FORMAT="INCORRECT_SKIP_DELAY_FORMAT",e.ADFOX_VAST_LOAD_ERROR="ADFOX_VAST_LOAD_ERROR",e.VAST_LOAD_ERROR="VAST_LOAD_ERROR",e.INVALID_VAST_AD_TYPE="INVALID_VAST_AD_TYPE",e.INVALID_VAST_CONSTRUCTOR_PARAMS="INVALID_VAST_CONSTRUCTOR_PARAMS",e.VAST_URL_IS_NOT_DEFINED="VAST_URL_IS_NOT_DEFINED",e.NO_AD_SECTION="NO_AD_SECTION",e.NO_VAST_AD_TAG_URI="NO_VAST_AD_TAG_URI",e.VAST_LOAD_TIMEOUT="VAST_LOAD_TIMEOUT",e.WRAPPER_LOAD_TIMEOUT="WRAPPER_LOAD_TIMEOUT",e.WRAPPER_LOAD_ERROR="WRAPPER_LOAD_ERROR",e.NO_INLINE_OR_WRAPPER_NODE="NO_INLINE_OR_WRAPPER_NODE",e.INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION="INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",e.VIDEO_TIMEOUT="VIDEO_TIMEOUT",e.BUFFER_FULL_TIMEOUT="BUFFER_FULL_TIMEOUT",e.BUFFER_EMPTY_LIMIT="BUFFER_EMPTY_LIMIT",e.VPAID_START_TIMEOUT="VPAID_START_TIMEOUT",e.EXPECTED_PREROLL_AD_BREAK="EXPECTED_PREROLL_AD_BREAK",e.VMAP_CONFIG_WITHOUT_PARTNER_ID="VMAP_CONFIG_WITHOUT_PARTNER_ID",e.NO_AD_TO_DISPLAY="NO_AD_TO_DISPLAY",e.FLASH_PLAYER_IS_NOT_AVAILABLE="FLASH_PLAYER_IS_NOT_AVAILABLE",e.CANNOT_SHOW_CPC_CONTROLS="CANNOT_SHOW_CPC_CONTROLS",e.AdPodStartWithoutPlayRequest="AdPodStartWithoutPlayRequest",e.AD_BREAK_MAX_DURATION_EXCEEDED="AD_BREAK_MAX_DURATION_EXCEEDED",e.AD_BREAK_MAX_AD_PODS_COUNT_EXCEEDED="AD_BREAK_MAX_AD_PODS_COUNT_EXCEEDED",e.AD_BREAK_MAX_DURATION_EXCEEDED_DURING_PLAYBACK="AD_BREAK_MAX_DURATION_EXCEEDED_DURING_PLAYBACK",e.AD_BREAK_MAX_AD_PODS_COUNT_EXCEEDED_DURING_PLAYBACK="AD_BREAK_MAX_AD_PODS_COUNT_EXCEEDED_DURING_PLAYBACK",e.AD_BREAK_IS_STOPPED="AD_BREAK_IS_STOPPED",e.NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD="NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",e.VPAIDLoadingError="VPAIDLoadingError",e.VPAIDPlayingError="VPAIDPlayingError",e.VPAID_METHOD_CALL_ERROR="VPAID_METHOD_CALL_ERROR",e.VPAID_METHOD_ABSENT="VPAID_METHOD_ABSENT",e.VPAID_WORKAROUND_METHOD_CALL_ERROR="VPAID_WORKAROUND_METHOD_CALL_ERROR",e.VPAID_GETTER_ERROR="VPAID_GETTER_ERROR",e.VPAID_SETTER_ERROR="VPAID_SETTER_ERROR",e.NO_GET_VPAID_AD_FUNC="NO_GET_VPAID_AD_FUNC",e.GET_VPAID_AD_ERROR="GET_VPAID_AD_ERROR",e.INVALID_VPAID_API="INVALID_VPAID_API",e.VPAID_VERSION_ERROR="VPAID_VERSION_ERROR",e.INIT_AD_ERROR="INIT_AD_ERROR",e.LOAD_MODULE_CALLBACK_ERROR="LOAD_MODULE_CALLBACK_ERROR",e.INPAGE_CALLBACK_ERROR="INPAGE_CALLBACK_ERROR",e.VPAID_HAS_NO_METHOD_FOR_GETTER="VPAID_HAS_NO_METHOD_FOR_GETTER",e.VPAID_METHOD_FOR_GETTER_ERROR="VPAID_METHOD_FOR_GETTER_ERROR",e.InteractiveViewerInitAdParamsError="InteractiveViewerInitAdParamsError",e.EXPECTED_INPAGE_OR_PREROLL_BLOCK="EXPECTED_INPAGE_OR_PREROLL_BLOCK",e.EXPECTED_INPAGE_INSTEAD_OF_PREROLL_BLOCK="EXPECTED_INPAGE_INSTEAD_OF_PREROLL_BLOCK",e.MEDIA_SRC_VIOLATES_CSP_POLICY="MEDIA_SRC_VIOLATES_CSP_POLICY",e.VpaidEventBusCallbackError="VpaidEventBusCallbackError",e.CANNOT_LOAD_VPAID_MEDIA_FILE="CANNOT_LOAD_VPAID_MEDIA_FILE",e.CANNOT_LOAD_MODULE="CANNOT_LOAD_MODULE",e.CANNOT_INIT_MODULE="CANNOT_INIT_MODULE",e.CREATE_HTML5_PLAYER_WITHOUT_INITIALIZATION="CREATE_HTML5_PLAYER_WITHOUT_INITIALIZATION",e.TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS="TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",e.TOO_MANY_BANNER_AD_REPLAY_REQUESTS="TOO_MANY_BANNER_AD_REPLAY_REQUESTS",e.PUBLIC_CONTROLLER_PLAY_ERROR="PUBLIC_CONTROLLER_PLAY_ERROR",e.NO_AD_CUSTOM_MARKER="NO_AD_CUSTOM_MARKER",e.FLASH_DISPLAY_CONTROLLER_ERROR="FLASH_DISPLAY_CONTROLLER_ERROR",e.PRELOAD_ERROR="PRELOAD_ERROR",e.IV_PRELOAD_ERROR="IV_PRELOAD_ERROR",e.WEBORAMA_INIT_ERROR="WEBORAMA_INIT_ERROR",e.VMAP_LOAD_ERROR="VMAP_LOAD_ERROR",e.VMAP_EMPTY_RESPONSE="VMAP_EMPTY_RESPONSE",e.NO_VMAP_ROOT_NODE="NO_VMAP_ROOT_NODE",e.NO_VMAP_EXTENSIONS="NO_VMAP_EXTENSIONS",e.VMAP_AD_BREAK_WITHOUT_AD_SOURCE="VMAP_AD_BREAK_WITHOUT_AD_SOURCE",e.VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI="VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",e.VMAP_INCORRECT_TIME_OFFSET="VMAP_INCORRECT_TIME_OFFSET",e.VMAP_UNSUPPORTED_AD_BREAK_TYPE="VMAP_UNSUPPORTED_AD_BREAK_TYPE",e.InPageOnReadyPlayError="InPageOnReadyPlayError",e.InPageOnVisibilityPlayError="InPageOnVisibilityPlayError",e.InPageOnStickError="InPageOnStickError",e.INTERACTIVE_LOADER_SCRIPT_NOT_FOUND="INTERACTIVE_LOADER_SCRIPT_NOT_FOUND",e.INVALID_INTERACTIVE_CONFIG_URL="INVALID_INTERACTIVE_CONFIG_URL",e.INVALID_INTERACTIVE_XML="INVALID_INTERACTIVE_XML",e.INVALID_INTERACTIVE_AD_PARAMETERS="INVALID_INTERACTIVE_AD_PARAMETERS",e.NO_INTERACTIVE_AD_PARAMETERS="NO_INTERACTIVE_AD_PARAMETERS",e.CANNOT_CREATE_IFRAME_ELEMENT_FOR_VPAID="CANNOT_CREATE_IFRAME_ELEMENT_FOR_VPAID",e.CREATE_IFRAME_ELEMENT_FOR_VPAID_TIMEOUT="CREATE_IFRAME_ELEMENT_FOR_VPAID_TIMEOUT",e.LOAD_XML_NETWORK_ERROR="LOAD_XML_NETWORK_ERROR",e.NO_AD_BREAK_OR_VMAP_IN_AD_LOADER="NO_AD_BREAK_OR_VMAP_IN_AD_LOADER",e.MIN_BITRATE_GREATHER_THAN_MAX_BITRATE="MIN_BITRATE_GREATHER_THAN_MAX_BITRATE",e.CANNOT_START_TICKER_ANIMATION="CANNOT_START_TICKER_ANIMATION",e.WRONG_ARGUMENTS_IN_MEDIA_AD_TRACK_EVENT="WRONG_ARGUMENTS_IN_MEDIA_AD_TRACK_EVENT",e.RAA_WAS_STOPPED_WITHOUT_AD_FINISH="RAA_WAS_STOPPED_WITHOUT_AD_FINISH",e.AD_FINISHED_DURING_RAA="AD_FINISHED_DURING_RAA",e.AD_FINISHED_DURING_CHECK_POSTER="AD_FINISHED_DURING_CHECK_POSTER",e.VPAID_WAS_DESTROYED_DURING_INIT="VPAID_WAS_DESTROYED_DURING_INIT",e.IV_LOADER_WAS_STOPPED_DURING_INIT="IV_LOADER_WAS_STOPPED_DURING_INIT",e.IV_START_AD_AFTER_DESTROY="IV_START_AD_AFTER_DESTROY",e.IV_NO_AD_ON_START="IV_NO_AD_ON_START",e.IV_NO_DISPLAY_CONTROLLER="IV_NO_DISPLAY_CONTROLLER",e.PREROLL_THRESHOLD_EXCEEDED="PREROLL_THRESHOLD_EXCEEDED",e.NO_PARENT_ELEMENT_FOR_BLUR="NO_PARENT_ELEMENT_FOR_BLUR",e.EMPTY_AD_TYPE_WHILE_PLAYING="EMPTY_AD_TYPE_WHILE_PLAYING",e.ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD="ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD",e.ATTEMPT_TO_PLAY_AD_SECOND_TIME="ATTEMPT_TO_PLAY_AD_SECOND_TIME",e.ATTEMPT_TO_RESUME_AD_BEFORE_PLAY="ATTEMPT_TO_RESUME_AD_BEFORE_PLAY",e.APC_CALLBACK_ERROR="APC_CALLBACK_ERROR",e.UNSUPPORTED_MEDIA_FILE_TYPE="UNSUPPORTED_MEDIA_FILE_TYPE",e.CREATE_SIZE_SENSOR_ERROR="CREATE_SIZE_SENSOR_ERROR",e.CANNOT_FIND_INPAGE_CONTAINER_ELEMENT="CANNOT_FIND_INPAGE_CONTAINER_ELEMENT",e.INPAGE_CONTAINER_ZERO_WIDTH="INPAGE_CONTAINER_ZERO_WIDTH"}(t.AdSDKErrorCodes||(t.AdSDKErrorCodes={})),t.AdSDKErrorIds={NO_APPROPRIATE_VIDEO_SOURCE:52,MEDIA_ERR_ABORTED:101,MEDIA_ERR_NETWORK:102,MEDIA_ERR_DECODE:103,MEDIA_ERR_SRC_NOT_SUPPORTED:104,VIDEO_ERROR:10,INVALID_VAST_XML:40,INCORRECT_SKIPOFFSET_FORMAT:46,ADFOX_VAST_LOAD_ERROR:47,VAST_LOAD_ERROR:48,NO_AD_SECTION:53,VAST_LOAD_TIMEOUT:60,NO_INLINE_OR_WRAPPER_NODE:58,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,VIDEO_TIMEOUT:62,BUFFER_FULL_TIMEOUT:63,BUFFER_EMPTY_LIMIT:64,VPAID_START_TIMEOUT:65,EXPECTED_PREROLL_AD_BREAK:66,VMAP_CONFIG_WITHOUT_PARTNER_ID:1003,NO_AD_TO_DISPLAY:51,FLASH_PLAYER_IS_NOT_AVAILABLE:55,VPAIDLoadingError:68,VPAIDPlayingError:67,InteractiveViewerInitAdParamsError:69,EXPECTED_INPAGE_OR_PREROLL_BLOCK:71,EXPECTED_INPAGE_INSTEAD_OF_PREROLL_BLOCK:72,VpaidEventBusCallbackError:81,CANNOT_LOAD_VPAID_MEDIA_FILE:82,CANNOT_LOAD_MODULE:91,CANNOT_INIT_MODULE:92,CREATE_HTML5_PLAYER_WITHOUT_INITIALIZATION:21001,TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS:21002,TOO_MANY_BANNER_AD_REPLAY_REQUESTS:21003,PUBLIC_CONTROLLER_PLAY_ERROR:21010,NO_AD_CUSTOM_MARKER:21101};var s=function(e){function r(r,n){void 0===r&&(r={}),void 0===n&&(n={});var o=this,a=n.message||r.message||String(r),s=n.code||r.code;return(o=e.call(this,r,i({},n,{message:"AdSDK Error ["+s+"]"+(a?"["+a+"]":"")}))||this).id=function(e){return t.AdSDKErrorIds[e]||0}(o.code),o}return o(r,e),r}(a.CustomError);t.AdSDKError=s},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var o=r(81),i=r(176),a=r(177),s=r(90),u=r(12),d=r(91);t.stats=new o.Stats({service:a.SOLOMON_SERVICE_NAME,version:String(u.BUILD_VERSION),sid:i.SID,useSendBeacon:!0,useAlias:!0}),t.stats.setRootFields(((n={})[s.TESTTAG_GET_PARAMETER]=String(d.testtag.serialize()),n))},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(101),a=r(8),s=r(5),u=r(28),d=r(29),l=r(56),c=["localhost","127.0.0.1"],f=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yastatic.net","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru"],p=["kinopoisk.ru","kinopoisk.ua","kinopoisk.by","kinopoisk.tel","vidigital.ru","tns-counter.ru","adfox.ru"];function A(e,t){return t===e.substring(e.length-t.length)}function h(e,t){if(void 0===t&&(t=!1),!e)return!1;var r=l.getDomainFromUrl(e),n=t?f.concat(c):f.concat(c,p);return!(!r||0===r.length)&&n.some(function(e){return A(r,e)})}function v(){return navigator.userAgent.toLowerCase().indexOf("android")>-1}function y(){var e=navigator.userAgent.toLowerCase();return e.indexOf("iphone")>-1||e.indexOf("ipad")>-1||e.indexOf("ipod")>-1}function _(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return e?parseInt(e[1],10):-1}return-1}function E(e,t){var r=document.createElement("div");return e&&(r.className=e),t&&(r.innerHTML=t),r}t.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.ENVIRONMENT.DEV_MODE&&console&&console.log&&console.log.apply(console,o([e],t))},t.logError=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.ENVIRONMENT.DEV_MODE&&console&&console.error&&console.error.apply(console,o([e],t))},t.fireCallback=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&("function"==typeof e?e.apply(void 0,o(t)):e&&e.hasOwnProperty("length")&&e.forEach(function(e){return e.apply(void 0,o(t))}))},t.endsWith=A,t.isTrueYandexDomain=function(e){return h(e,!0)},t.isYandexDomain=h,t.isAdFoxDomain=function(e){return A(l.getDomainFromUrl(e),"adfox.ru")},t.createVideoNode=function(e,t,r,n){var o=document.createElement("video");return o.id="yaVideoPlayer_"+Math.floor(1e6*Math.random()),o.setAttribute("x-webkit-airplay","allow"),Array.isArray(t)?t.forEach(function(e){var t=document.createElement("source");t.src=d.fixUrlSheme(e.src),t.type=e.type,o.appendChild(t)}):t&&(o.src=d.fixUrlSheme(t)),r&&(o.poster=r),o.autoplay=Boolean(n),y()||(o.preload=n?"auto":"none"),i.prependChild(e,o),o},t.isIPhone=function(){return navigator.userAgent.toLowerCase().indexOf("iphone")>-1},t.isIOSWebView=function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)},t.isAndroid=v,t.isIOS=y,t.isIOS7=function(){return y()&&7===_()},t.isIOS9OrLess=function(){return y()&&_()<=9},t.isMobile=function(){return y()||v()},t.getIOSVersion=_,t.parseVASTTime=function(e){return"string"!=typeof e?NaN:e.split(":").reverse().reduce(function(e,t,r){return e+parseFloat(t)*Math.pow(60,r)},0)},t.toVastTime=function(e){var t=Math.floor(e/60/60),r=Math.floor((e-60*t*60)/60),n=e-60*t*60-60*r,o=function(e,t){return void 0===t&&(t=0),e.toFixed(t).split(".").map(function(e,t){return 0!==t?e:1===e.length?"0"+e:e}).join(".")};return[o(t),o(r),o(n,3)].join(":")},t.createDiv=E,t.createControl=function(e,t,r,n){var o=E(e,r);return o.addEventListener("click",t),n&&n.appendChild(o),o},t.getElement=function(e){return"string"==typeof e?document.getElementById(e):e},t.getReferrer=function(){var e;try{e=top.location.href}catch(t){e=location.href}return e},t.addBuiltinSkin=function(e){!document.querySelector("style[data-yamediaad]")&&s.ENVIRONMENT.DEFAULT_CSS&&u.addStylesToElement(e,s.ENVIRONMENT.DEFAULT_CSS).setAttribute("data-yamediaad","")},t.replaceStringWith=function(e,t){return e.split("$$").map(function(e,r){return r%2!=0?function(e,t){var r=t.split("."),n=e;for(var o in r)if(r.hasOwnProperty(o)){if(!n.hasOwnProperty(r[o]))return"$$"+t+"$$";var i=n[r[o]];if("string"==typeof i)return i;n=i}return"$$"+t+"$$"}(t,e):e}).join("")},t.createHoverSignal=function(e){var t=new a.Signal,r=function(){t.dispatch(!0)},n=function(){t.dispatch(!1)};return e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",n),{signal:t,unsubscribe:function(){e.removeEventListener("mouseenter",r),e.removeEventListener("mouseleave",n)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="undefined"==typeof Promise?r(0).Promise:Promise,i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(197),d=r(27),l=r(4),c=r(22);r(207);var f=r(15),p=r(208),A=r(100),h=r(12),v=r(2),y=r(9),_=r(14),E=r(209);t.AdType={PREROLL:"preroll",MIDROLL:"midroll",PAUSEROLL:"pauseroll",OVERLAY:"overlay",POSTROLL:"postroll"},t.AdConfigParams={VAST_URL:"vastUrl",VAST:"vast",AD_FOX_URL:"adFoxUrl",AD_FOX_URL_VAST:"adFoxUrlVast",PARTNER_ID:"partnerId",CATEGORY:"category",TAGS_LIST:"tagsList",CHARSET:"charset",VIDEO_CONTENT_ID:"videoContentId",VIDEO_CONTENT_NAME:"videoContentName",VIDEO_PUBLISHER_ID:"videoPublisherId",VIDEO_PUBLISHER_NAME:"videoPublisherName",VIDEO_GENRE_ID:"videoGenreId",VIDEO_GENRE_NAME:"videoGenreName",EXT_PARAM:"extParam",PLAYER_INFO:"playerInfo",DURATION:"duration",IMPRESSION_TRACK_OFFSET:"impressionOffset"},t.TrackingEventType={ERROR:"error",IMPRESSION:"impression",CREATIVE_VIEW:"creativeView",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",MUTE:"mute",UNMUTE:"unmute",PAUSE:"pause",RESUME:"resume",FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"exitFullscreen",CLOSE:"close",SKIP:"skip",CLICK_THROUGH:"clickThrough",PROGRESS:"progress",REWIND:"rewind",VIEWABLE:"viewable",DWELL:"dwell",EXPAND:"expand",COLLAPSE:"collapse",ACCEPT_INVITATION:"acceptInvitation"};var m=function(){function e(){this.SDK_FULL_VERSION=p.SDK_VERSION,this.DEV_MODE=_.WEBPACK_DEV_MODE}return e.prototype.getVersioningURL=function(){return this.DEV_MODE?("1.0-"+h.BUILD_VERSION).split("-")[0].split(".").join("_"):("1.0-"+h.BUILD_VERSION).split("-")[0].split(".").join("_")+"/v-"+p.SDK_VERSION},e}();function S(e){return void 0===e&&(e=_.WEBPACK_VIDEO_PLAYER_VERSION),a(this,void 0,o,function(){var r;return s(this,function(n){switch(n.label){case 0:return(r=t.yandexGlobalObject.videoPlayer)?[2,r]:[3,1];case 1:return[4,d.loadScript({src:"https://"+A.STATIC_DOMAIN+"/yandex-html5-video-player-bundles/1.0-"+e+"/video-player-html/video-player-html.min.js"})];case 2:return n.sent(),[2,t.yandexGlobalObject.videoPlayer]}})})}t.ENVIRONMENT=new m,b({videoAd:{AdConfigParams:t.AdConfigParams,encodeUrl:u.encodeUrl,loadModule:function(e,t){return void 0===t&&(t={}),new o(function(r,n){E.loadModule({moduleName:e,version:void 0,onSuccess:function(o){e===f.ModuleBundleName.VideoPlayer?S(t.playerVersion).then(function(){r(o)}).catch(n):r(o)},onError:n})})},initVideoNode:function(e,t,r,n){E.loadModule({moduleName:f.ModuleBundleName.AdSDK,version:void 0,onSuccess:function(o){o.initVideoNode(e,t,r,n)},onError:n})},skipTokens:[],flashPlayerCallbacks:{},modules:{}},mediaAd:{util:{setDefaultUrlScheme:function(e){var r=["http","https"];if(r.indexOf(e)<0)throw new Error("AdSDK setDefaultUrlScheme error. Allowed: "+r.join(", "));t.yandexGlobalObject.mediaAd.util.URL_SCHEME=e},URL_SCHEME:null},DOMAIN:A.STATIC_DOMAIN,SDK_VERSION:p.SDK_VERSION,AdType:t.AdType,TrackingEventType:t.TrackingEventType,AdConfigParams:t.AdConfigParams,bannerAd:{initVideo:function(e,t,r){E.loadModule({moduleName:f.ModuleBundleName.BannerAd,version:void 0,onSuccess:function(n){n.initVideo(e,t,r)},onError:r})}},inPage:{addInPageVideo:function(e,t,r){E.loadModule({moduleName:f.ModuleBundleName.InPage,version:void 0,onSuccess:function(n){n.addInPageVideo(e,t,r)},onError:r})}},initForVideoNode:function(e,t,r,n,o){E.loadModule({moduleName:f.ModuleBundleName.AdSDK,version:void 0,onSuccess:function(i){i.initForVideoNode(e,t,r,n,o)},onError:o})},initAdDisplay:function(e,t,r,n){E.loadModule({moduleName:f.ModuleBundleName.AdSDK,version:void 0,onSuccess:function(o){o.initAdDisplay(e,t,r,n)},onError:n})},initPlacement:function(e,t,r){E.loadModule({moduleName:f.ModuleBundleName.AdSDK,version:void 0,onSuccess:function(n){n.initPlacement(e,t,r)},onError:r})}},video:{addVideoPlayer:function(e,t,r,n){E.loadModule({moduleName:f.ModuleBundleName.VideoPlayer,version:void 0,onSuccess:function(o){S().then(function(){o.addVideoPlayer(e,t,r,n)})},onError:l.noop})}}},"ya"),t.yandexGlobalObject=ya;var g=t.yandexGlobalObject.videoAd.statsRootParams;function b(e,t){for(var r=t.split("."),o=window,i=0;i<r.length-1;i++)o=o[r[i]];var a=r[r.length-1];if(void 0===o[a])o[a]=e;else if("object"===n(o[a]))for(var i in e)e.hasOwnProperty(i)&&b(e[i],t+"."+i)}c.isObject(g)&&(v.stats.setRootFields(g),v.stats.event(i({},y.AdSDKEvent.UsingGlobalStatsRootField,{data:{statsRootParams:g}}))),t.deployObject=b},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(130),i=r(281);t.addEventListener=function(e,t,r,a){var s=function(e){var t=!1,r=!1,o=!1;return!0===e?t=!0:"object"===(void 0===e?"undefined":n(e))&&(t=Boolean(e.capture),r=Boolean(e.passive),o=Boolean(e.once)),{capture:t,passive:r,once:o}}(a),u=i.isSupportsCaptureOption?s:s.capture,d=s.once&&!i.isSupportsOnceOption?function(e){l(),r.call(this,e)}:r,l=function(){o.removeEventListenerFunction(e,t,d,u)};return o.addEventListenerFunction(e,t,d,u),l}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(75),i=r(156),a=r(19),s=document.createElement("a");function u(e){s.href=e;var t=s.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);var r=(s.search||"")+(s.hash||""),n=e.lastIndexOf(r);return{originalPath:-1===n?e:e.slice(0,n),href:s.href,protocol:s.protocol,host:s.host,hostname:s.hostname,port:s.port,pathname:t,search:s.search,hash:s.hash}}function d(e,t){if(void 0===t&&(t=!1),t){var r=e.originalPath,n="/"===e.pathname&&"/"!==r[r.length-1];return e.originalPath+(n?"/":"")+e.search+e.hash}var o="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+o+e.pathname+e.search+e.hash}t.parseUrlUsingCache=i.memoize(function(e){var t=u(e);return n({},t)}),t.parseUrl=u;var l=function(e){try{return decodeURIComponent(e)}catch(t){return e}};function c(e){for(var t={},r=e.replace(/^\?+/,"").split("&"),n=0;n<r.length;n++){var o=r[n].indexOf("="),i=void 0,a=void 0;if(-1===o?(i=r[n],a=""):(i=r[n].slice(0,o),a=r[n].slice(o+1)),i){var s=Boolean(/(\[\])$/.exec(i));i=i.replace(/\[\]$/,""),s?void 0===t[i]?t[i]=[l(a)]:t[i]=[].concat(t[i],l(a)):t[i]=l(a)}}return t}t.parseQueryString=c,t.getParamsFromUrl=function(e){return c(u(e).search)};var f=function(e,t){return t.map(function(t){return e+"[]="+encodeURIComponent(t)}).join("&")};function p(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];o.isArray(n)?t.push(f(r,n)):void 0!==n&&t.push(r+"="+encodeURIComponent(n))}return"?"+t.join("&")}function A(e){return u(e).pathname.split("/").pop()||""}t.formatQueryString=p,t.addParamToUrl=function(e,t,r){if(void 0===r)return e;var o=u(e),i=c(o.search);return i[t]=r,d(n({},o,{search:p(i)}))},t.addParamsToUrl=function(e,t,r){var o=void 0===r?{}:r,i=o.override,s=void 0===i||i,l=o.saveOriginalPath,f=void 0!==l&&l,A=u(e),h=c(A.search);a.forOwn(t,function(e,t){(void 0===h[t]||s)&&(h[t]=e)});var v=p(h);return d(n({},A,{search:v}),f)},t.getFileName=A,t.getFileExt=function(e){var t=A(e).split(".");return t.length>1?t.pop():""}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};function a(e,t){e.forEach(function(e){!function(e){return"function"==typeof e.dispatch}(e)?e(t):e.dispatch(t)})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){this.on=[],this.once=[]}return e.prototype.add=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this.on).push.apply(e,i(r)),function(){return t.remove.apply(t,i(r))}},e.prototype.addOne=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this.once).push.apply(e,i(r)),function(){return t.remove.apply(t,i(r))}},e.prototype.promise=function(){var e=this;return new n(function(t){return e.addOne(t)})},e.prototype.dispatch=function(e){a(this.on,e),a(this.once,e),this.once.length=0},e.prototype.removeAll=function(){this.on.length=0,this.once.length=0},e.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.on=this.on.filter(function(t){return e.indexOf(t)<0}),this.once=this.once.filter(function(t){return e.indexOf(t)<0})},e}();t.Signal=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(54),o=r(24);t.AdSDKEventProbabilities={VmapLoadStart:o.LOG_PROBABILITY_100,VmapLoadSuccess:o.LOG_PROBABILITY_100,ReplayBannerAdByCallback:o.LOG_PROBABILITY,ReplayBannerAdByUserAction:o.LOG_PROBABILITY,BannerAdInitVideo:o.LOG_PROBABILITY,AddInPageVideo:o.LOG_PROBABILITY,CreateAdDisplayController:o.LOG_PROBABILITY,PublicControllerSkip:o.LOG_PROBABILITY,ClickThroughCallbackHandle:o.LOG_PROBABILITY,ClickThroughCallbackCall:o.LOG_PROBABILITY,VastTracking:o.LOG_PROBABILITY,VastLoadStart:o.LOG_PROBABILITY,VastLoadSuccess:o.LOG_PROBABILITY,LoadSourceRedirectOnStatus200:o.LOG_PROBABILITY,LoadSourceRedirectOnOtherStatus:o.LOG_PROBABILITY,LoadSourceRedirectOnXhrError:o.LOG_PROBABILITY,LoadSourceRedirectOnXhrTimeout:o.LOG_PROBABILITY,LoadSourceRedirectOnCaughtException:o.LOG_PROBABILITY,VPAIDAdClickThruArrayParam:o.LOG_PROBABILITY,InteractiveViewerScriptLoaded:o.LOG_PROBABILITY_100,InteractiveViewerInit:o.LOG_PROBABILITY,BeforeLoadInteractiveAd:o.LOG_PROBABILITY,InteractiveConfigParsed:o.LOG_PROBABILITY,IVConfigContainsVideoStates:o.LOG_PROBABILITY,IVAdParametersContainsVideoStates:o.LOG_PROBABILITY,IVVideoSlotHasNoParentElement:o.LOG_PROBABILITY,UsingGlobalStatsRootField:o.LOG_PROBABILITY_MILLI,UnusualVideoNodeState:o.LOG_PROBABILITY,MovedVideoNode:o.LOG_PROBABILITY,UsingSetStatsRootFieldInMultiroll:o.LOG_PROBABILITY,UsingSetStatsRootFieldInPublicController:o.LOG_PROBABILITY,UsingSetStatsRootFieldInAdLoader:o.LOG_PROBABILITY,InvalidVideoNodeSize:o.LOG_PROBABILITY_100,CreateFlashDisplayController:o.LOG_PROBABILITY,CannotCreateFlashVPAIDViewer:o.LOG_PROBABILITY,PublicControllerSetGuiVisibility:o.LOG_PROBABILITY,VPAIDGetGuiCalled:o.LOG_PROBABILITY,VPAIDImpressionIsNotReliable:o.LOG_PROBABILITY,MotionWithoutExtensionIsIndependentOnVideoElement:o.LOG_PROBABILITY,MotionWithExtensionIsIndependentOnVideoElementFalseValue:o.LOG_PROBABILITY},t.AdSDKEvent=n.mapObjectValues(t.AdSDKEventProbabilities,function(e,t){return{name:t,probability:e,labels:{},data:{}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeNodeFromParent=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectKeys=function(e){if("function"==typeof Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(47),i=r(48);try{n={build:1359,code:[{id:1359,percent:100}]}}catch(e){n={}}var a=n.build,s=n.code;t.BUILD_VERSION=a,t.BUNDLES_VERSION=o.getBundlesVersion(window,i.HARDCODED_ADSDKVER,s)},function(e,t,r){"use strict";function n(e){return e&&e.textContent?e.textContent.trim():""}Object.defineProperty(t,"__esModule",{value:!0}),t.readAttr=function(e,t,r){if(void 0===r&&(r=null),e.hasAttribute(t)){var n=e.getAttribute(t);return n?n.trim():""}return r},t.readElementText=n,t.isElementSet=function(e){return Boolean(e&&n(e).length)},t.appendNewElement=function(e,t,r,n){var o=t.ownerDocument,i=o.createElement(e);if(t.appendChild(i),r&&i.appendChild(o.createCDATASection(r)),n)for(var a in n)n.hasOwnProperty(a)&&null!==n[a]&&i.setAttribute(a,String(n[a]));return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(15);t.WEBPACK_DEV_MODE=!1,t.WEBPACK_BUNDLES_PATH="",t.WEBPACK_YANDEX_METRIKA_COUNTER_ID="39370120",t.WEBPACK_VIDEO_PLAYER_VERSION="154",t.WEBPACK_BUNDLE_NAME="Multiroll"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AdSDKLoader="AdSDKLoader",e.InteractiveViewerLoader="InteractiveViewerLoader"}(t.LoaderBundleName||(t.LoaderBundleName={})),function(e){e.AdSDK="AdSDK",e.InPage="InPage",e.BannerAd="BannerAd",e.VideoPlayer="VideoPlayer",e.AdLoader="AdLoader",e.VideoBannerAd="VideoBannerAd",e.Multiroll="Multiroll",e.InteractiveViewer="InteractiveViewer"}(t.ModuleBundleName||(t.ModuleBundleName={})),function(e){e.Examples="Examples",e.Dashboard="Dashboard"}(t.DevBundleName||(t.DevBundleName={})),function(e){e.Test="Test",e.TestVpaid="TestVpaid"}(t.TestBundleName||(t.TestBundleName={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.once=function(e){var t=function(){var r=e.apply(this,arguments);return t=function(){return r},r};return function(){return t.apply(this,arguments)}}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0}),t.promiseTimeout=function(e){var t=0;return{promise:new n(function(r){t=window.setTimeout(r,e)}),clear:function(){clearTimeout(t)},timeoutId:t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkNativeCode=function(e){if(!e||!e.toString)return!1;var t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forOwn=function(e,t,r){for(var n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.inpage="inpage",e.preroll="preroll",e.midroll="midroll",e.pauseroll="pauseroll",e.overlay="overlay",e.postroll="postroll",e.replaced="replaced",e.notReplaced="notReplaced"}(t.AdBreakType||(t.AdBreakType={}))},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._isDestroyed=!1,this.destroyHandlers=[]}return e.prototype.onDestroy=function(e){this._addDestroyHandler(e)},e.prototype.addDestroyListener=function(e){this._addDestroyHandler(e)},e.prototype.addDestroyHandler=function(e){this._addDestroyHandler(e)},e.prototype.destroy=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n(e,1)[0];this._isDestroyed||(this._isDestroyed=!0,this.destroyReason=r,this.destroyHandlers.forEach(function(t){return t.apply(void 0,o(e))}),this.destroyHandlers.length=0)},e.prototype.getIsDestroyed=function(){return this._isDestroyed},Object.defineProperty(e.prototype,"isDestroyed",{get:function(){return this._isDestroyed},enumerable:!0,configurable:!0}),e.prototype._addDestroyHandler=function(e){this._isDestroyed?e.apply(void 0,o([this.destroyReason])):this.destroyHandlers.push(e)},e}();t.Destroyable=i},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){var t=void 0===e?"undefined":n(e);return Boolean(e)&&("object"===t||"function"===t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(94),o=r(7),i=r(90),a=r(12),s=r(5),u=r(14),d=r(91),l=r(3);t.AD_SDK_BUNDLE_VERSION_PARAM_NAME="adsdk-bundle-version",t.AD_SDK_BUNDLE_NAME_PARAM_NAME="adsdk-bundle-name",t.AD_SDK_VIDEO_API_VERSION_PARAM_NAME="video-api-version",t.AD_SESSION_ID_PARAM_NAME="ad-session-id",t.addAdSDKParamsToUrl=function(e,r){var c;return void 0===r&&(r=""),l.isTrueYandexDomain(e)||l.isAdFoxDomain(e)?o.addParamsToUrl(e,((c={})[t.AD_SDK_BUNDLE_VERSION_PARAM_NAME]=String(a.BUILD_VERSION),c[t.AD_SDK_BUNDLE_NAME_PARAM_NAME]=u.WEBPACK_BUNDLE_NAME,c[i.TESTTAG_GET_PARAMETER]=String(d.testtag.serialize()),c[t.AD_SDK_VIDEO_API_VERSION_PARAM_NAME]="js:"+s.ENVIRONMENT.SDK_FULL_VERSION+(r?":"+r:""),c[t.AD_SESSION_ID_PARAM_NAME]=n.getSessionId(),c)):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(89),o=r(14);t.LOG_PROBABILITY_100=1,t.LOG_PROBABILITY_PROD=.05,t.LOG_PROBABILITY_MILLI_VALUE=.001,t.LOG_PROBABILITY=o.WEBPACK_DEV_MODE?t.LOG_PROBABILITY_100:t.LOG_PROBABILITY_PROD,t.LOG_PROBABILITY_MILLI=o.WEBPACK_DEV_MODE?t.LOG_PROBABILITY_100:t.LOG_PROBABILITY_MILLI_VALUE,t.LOG_STATS=n.portion(t.LOG_PROBABILITY)},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(79),s=r(158),u=r(160),d=r(161);var l=function(e){function t(r,n){void 0===n&&(n={});var i=this,l="object"===(void 0===r?"undefined":o(r))?r:{message:String(r||u.DEFAULT_ERROR.message)};i=e.call(this)||this,d(i,t.prototype),i.message=n.message||l.message||u.DEFAULT_ERROR.message,i.code=n.code||l.code||l.id||u.DEFAULT_ERROR.code,i.isFatal=Boolean(s.getFirstDefined([n.isFatal,l.isFatal,u.DEFAULT_ERROR.isFatal])),i.details=n.details||l.details||u.DEFAULT_ERROR.details;var c=n.stack||l.stack||function(e){var t=e.url,r=e.line,n=e.col,o=e.fileName,i=e.columnNumber,a=e.lineNumber;return(t||o||"?")+":"+(r||a||"?")+":"+(n||i||"?")}(l);return c!==u.DEFAULT_ERROR.stack?i.stack=c:i.stack||(i.stack=u.DEFAULT_ERROR.stack),i.toString=function(){return a(i.toJSON())},i.toJSON=function(){return{message:i.message,code:i.code,isFatal:i.isFatal,details:i.details,stack:c}},i}return i(t,e),t}(Error);t.CustomError=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowLocation=function(e){if(e&&e.location){var t=e.location;return"function"==typeof t.toString?t.toString():t.href||""}return""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(99),o=r(200);t.CHARSET_UTF_8="utf-8",t.loadScript=function(e){return o.loadScript(e).then(function(){return{}})},t.loadCustomScript=function(e,t,r,o){void 0===o&&(o=!0);var i=e.document.createElement("script");i.type="text/javascript",i.async=!0,r&&(i.onload=function(){i.onload=function(){},r()}),o&&i.setAttribute("crossorigin","anonymous"),i.src=t,n.getHead(e).appendChild(i)},t.executeScript=function(e,t,r){var o=e.document.createElement("script");o.text=t,n.getHead(e).appendChild(o),r()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addStylesToElement=function(e,t){var r=(e.ownerDocument||document).createElement("style");return r.type="text/css",r.innerText=t,e.appendChild(r),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5);t.fixUrlSheme=function(e){return"//"===e.trim().substr(0,2)&&n.yandexGlobalObject.mediaAd.util.URL_SCHEME&&(e=n.yandexGlobalObject.mediaAd.util.URL_SCHEME+":"+e),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(223);t.internetExplorerVersion=n.getInternetExplorerVersion()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_VIDEO_TAG=document.createElement("video")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VPAID_API_FRAMEWORK="VPAID"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.js="js",e.video="video",e.flash="flash"}(t.AdContentType||(t.AdContentType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(t.VPAIDViewMode||(t.VPAIDViewMode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(129);t.isIOS=n.getIsIOS()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(67),o=0,i=[];t.subscribeSyntheticTimeupdateInterval=function(e){return 0===i.length&&(o=window.setInterval(function(){i.forEach(function(e){return e()})},n.VIDEO_TIMEUPDATE_INTERVAL)),i.push(e),function(){var t=i.indexOf(e);t>-1&&i.splice(t,1),0===i.length&&clearInterval(o)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_DURATION_UNLIMITED_VALUE=0,t.MAX_POSITIONS_COUNT_UNLIMITED_VALUE=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(39),o=r(1),i=r(80);t.filterLimitsSatisfyingAdPods=function(e,t){var r=e.mediaAds.filter(function(e){var r=t.getAdPodLimitationByDuration(e.duration);if(r&&0===e.startsCount&&!e.cancellationReason){var n=new o.AdSDKError({code:i.LimitationReasonErrorCodes[r.reason],details:{limitation:r}});e.cancellationReason=r.reason,e.trackError(n)}return!r});return new n.MediaAds(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.mediaAds=e.sort(function(e,t){return e.vastAd.sequence-t.vastAd.sequence})}return e.prototype.getDuration=function(){return this.mediaAds.reduce(function(e,t){return e+t.duration},0)},e.prototype.getFirstMediaAd=function(){return this.mediaAds[0]},e.prototype.hasMedia=function(){return this.mediaAds.filter(function(e){return e.hasMedia()}).length>0},e.prototype.preload=function(e){var t=this;return this.mediaAds.forEach(function(t){t.preload(e)}),function(){t.mediaAds.forEach(function(e){e.cancelPreloading()})}},e.prototype.modify=function(t){return new e(t(this.mediaAds))},e}();t.MediaAds=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(186),i=r(3);t.trackError=function(e,t){return void 0===t&&(t=[]),i.log("Track error ==> ",e),n.stats.errorToStats(e),o.knockEach(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(166);t.isSafari=n.getIsSafari()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserAgent=function(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(e){return""}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(26);t.getWindowChain=function(e){for(var t=[];e;)try{if(n.getWindowLocation(e),t.push(e),e.parent===e)break;e=e.parent}catch(e){break}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateHexString=function(e){for(var t="",r=0;r<e;r++)t+=(16*Math.random()|0).toString(16);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(84);t.parentFriendlyIFrames=n.getParentFriendlyIFrames(document.documentElement)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11);t.getObjectEntries=function(e){return"function"==typeof Object.entries?Object.entries(e):n.getObjectKeys(e).map(function(t){return[t,e[t]]})}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(179),i=r(83),a=r(43),s=r(46),u=r(81),d=r(181),l=r(7),c=r(182);function f(e,t){for(var r=s.getObjectEntries({UrlParams:function(){for(var r=i.getParentLocationsData(e.document),n=0;n<r.length;n++){var o=r[n].location,a=l.getParamsFromUrl(o)[t];if(a)return a}},LocalStorage:function(){return e.localStorage.getItem(t)},globalYMADSVideoTemplate:function(){if("adsdkver"===t)try{for(var r=a.getWindowChain(e),n=0;n<r.length;n++){var i=r[n];if(i&&o.isYmadsVideoCtx(i))return i.ADSDK_VERSION_FROM_NANPU}}catch(e){}},globalVariable:function(){for(var r=a.getWindowChain(e),n=0;n<r.length;n++){var o=r[n],i=o&&o.Ya&&o.Ya.hardcodedParams[t]||void 0;if(void 0!==i)return i.toString()}}}),c=0;c<r.length;c++){var f=n(r[c],2),p=f[0],A=f[1],h=d.tryCatch(A);if("string"==typeof h&&h.length>0)return u.stats.deprecated("HardcodedParamObtainedFrom"+p,"ATTENTION! Product parameter obtained from "+p+" ["+t+"]["+h+"]"),h}}t.getHardcodedParam=f,t.getBundlesVersion=function(e,t,r){var n=f(e,t);return n?Number(n):c.getBundleVersion(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HARDCODED_ADSDKVER="adsdkver";t.HARDCODED_VAST_URL="adsdk-vast-url",t.HARDCODED_VCSET_URL="adsdk-vcset-url",t.HARDCODED_BUNDLES_PATH="adsdk-bundles-path"},function(e,t,r){"use strict";e.exports=r(22).isObject},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(window.ya||{}).videoAd,o=(void 0===n?{}:n).encodeUrl,i=void 0===o?null:o;t.isAbdBundle="function"==typeof i},function(e,t,r){"use strict";var n=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(49);t.get=function(e,t){var r,i;try{for(var a=n(t.split(".")),s=a.next();!s.done;s=a.next()){var u=s.value;if(!o(e)){e=void 0;break}e=e[u]}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return e}},function(e,t,r){"use strict";var n=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(49);t.set=function(e,t,r){var i,a;if(!o(e))return e;var s=e,u=t.split("."),d=u.pop();try{for(var l=n(u),c=l.next();!c.done;c=l.next()){var f=c.value,p=e[f];e=o(p)?p:e[f]={}}}catch(e){i={error:e}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return e[d]=r,s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(190);t.callSafe=function(e){try{return e()}catch(e){return}},t.protect=function(e,r,o,i){return function(){try{return r.apply(o||this,arguments)}catch(r){if(n.isFunction(i)&&i(r),!0===r.preventProtect)throw r;t.protect.log(r,e)}}},t.protect.log=function(e,t){console.log("LOG:"+t+":"+e)},t.protect.setTimeout=function(e,r,n,o){return window.setTimeout(t.protect("timeout",e,n,o),r)},function(e){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("")}e.YaContextCallbacks=t("Ya.C","ontext._callbacks"),e.YaContextCallbacksCalls=t("Ya.C","ontext._callbacks_call"),e.AdvManager=t("A","dvManager"),e.AdvBlock=t("A","dvBlock"),e.RTB=t("R","TB"),e.Rtb=t("R","tb"),e.MetrikaAdtune=t("metrika_a","dtune")}(t.ProtectedNames||(t.ProtectedNames={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11);t.mapObjectValues=function(e,t){var r={};return n.getObjectKeys(e).forEach(function(n){r[n]=t(e[n],n)}),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rethrowError=function(e){setTimeout(function(){throw e},0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=document.createElement("a");t.getDomainFromUrl=function(e){return n.href=e,n.hostname},t.isAbsoluteUrl=function(e){return 0===e.indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("//")};var o=["http:","https:"];t.setProtocolToUrl=function(e,t){if(-1===o.indexOf(t))throw new Error("setProtocolToUrl Error: Unsupported protocol: "+t);return n.href=e,n.protocol=t,n.href}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(103),a=r(104);function s(e){return{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),playerInfo:void 0===e.playerInfo?void 0:String(e.playerInfo),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?e.videoGenreId.map(String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?e.videoGenreName.map(String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),tagsList:Array.isArray(e.tagsList)?e.tagsList.map(String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}function u(e){if(e){var t={},r=["string","number","boolean"];for(var o in e)e.hasOwnProperty(o)&&r.indexOf(n(e[o]))>=0&&(t[o]=e[o]);return t}}t.extractVastUriParams=s,t.extractAdditionalParams=u,t.extractAdConfig=function(e){var t=a.extractVmapConfig(e),r=s(e);return o({},t,r,{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:void 0===e.vast?void 0:String(e.vast),adFoxUrl:void 0===e.adFoxUrl?void 0:String(e.adFoxUrl),adFoxUrlVast:void 0===e.adFoxUrlVast?void 0:String(e.adFoxUrlVast),adFoxUrlMidRoll:void 0===e.adFoxUrlMidRoll?void 0:String(e.adFoxUrlMidRoll),adFoxUrlPauseRoll:void 0===e.adFoxUrlPauseRoll?void 0:String(e.adFoxUrlPauseRoll),adFoxUrlPostRoll:void 0===e.adFoxUrlPostRoll?void 0:String(e.adFoxUrlPostRoll),xml:void 0===e.xml?void 0:String(e.xml),desiredBitrate:void 0===e.desiredBitrate?void 0:Number(e.desiredBitrate),trackingEvents:e.trackingEvents?i.extractTrackingEvents(e.trackingEvents):{},asyncAdStart:Boolean(e.asyncAdStart),additionalParams:u(e.additionalParams)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUndefinedProperties=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&(t[r]=e[r]);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(108),o=r(31);t.canPlayType=n.isSupportedHTML5Video?function(e,t){return void 0===t&&(t=o.TEST_VIDEO_TAG),Boolean(t.canPlayType(e).replace(/no/,""))}:function(){return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(112),o=r(110),i=r(111),a=r(234),s=100,u=2e4,d=.8;t.calculateApproximateBitrate=function(e){var t=e.clientWidth,r=e.clientHeight,l=a.getDownlink();if(l>0)return Math.round(1e3*l*d);var c=i.hypot(t,r)*o.getDevicePixelRatio(),f=Math.round(2.64886*c-1189.26038);return n.clamp(f,s,u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_TIMEOUT_VALUE=2147483647},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(63),u=r(119),d=r(266),l=r(1),c=r(2),f=r(9),p=r(115),A=r(267),h=r(104),v=r(269),y=function(){function e(){this.adBreaks=[]}return e.load=function(e){return i(this,void 0,n,function(){var t,r,n,i,u,y,_,E,m,S;return a(this,function(a){switch(a.label){case 0:t=h.extractVmapConfig(e),r=A.getVmapUrl(t),n=t.vmapLoadTimeout,(i=t.blockInfoLoadTimeout)&&c.stats.deprecated("VmapBlockInfoLoadTimeout","blockInfoLoadTimeout is deprecated, use vmapLoadTimeout"),u=d.VMAP_LOAD_TIMEOUT,n?u=n:i&&(u=i),y={url:r,config:e,timeout:u},c.stats.event(o({},f.AdSDKEvent.VmapLoadStart,{data:y})),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,p.loadXML(r,null,u)];case 2:return _=a.sent(),[3,4];case 3:throw E=a.sent(),m=new l.AdSDKError(E,{code:l.AdSDKErrorCodes.VMAP_LOAD_ERROR,details:y}),c.stats.errorToStats(m),m;case 4:try{S=v.vmapFromXML(_,y,s.extractBlockParameters(e)),c.stats.event(o({},f.AdSDKEvent.VmapLoadSuccess,{data:o({},y,{vmap:S})}))}catch(e){throw c.stats.errorToStats(e),e}return[2,S]}})})},e.createPrerollVmap=function(t){var r=new e,n=o({},u.DEFAULT_PREROLL_AD_BREAK_PARAMETERS,t);return r.adBreaks=[n],r},e}();t.Vmap=y},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(116),i=r(58),a=r(254),s=r(118),u=r(57);t.extractAdDisplayConfig=function(e){return n({},u.extractAdConfig(e),a.extractPlaybackParams(e),{numruns:void 0===e.numruns?void 0:Number(e.numruns),impressionOffset:void 0===e.impressionOffset?void 0:Number(e.impressionOffset),videoSlotCanAutoPlay:void 0===e.videoSlotCanAutoPlay?void 0:Boolean(e.videoSlotCanAutoPlay),desiredBitrate:void 0===e.desiredBitrate?void 0:Number(e.desiredBitrate),clickThroughCallback:"function"==typeof e.clickThroughCallback?e.clickThroughCallback:void 0,lang:"string"==typeof e.lang?e.lang:o.RU,saveCurrentTime:"boolean"==typeof e.saveCurrentTime?e.saveCurrentTime:void 0})},t.extractBlockParameters=function(e){return i.deleteUndefinedProperties(n({},s.parseStickyConfig(e),{vastTimeout:void 0===e.vastTimeout?void 0:Number(e.vastTimeout),wrapperTimeout:void 0===e.wrapperTimeout?void 0:Number(e.wrapperTimeout),wrapperMaxCount:void 0===e.wrapperMaxCount?void 0:Number(e.wrapperMaxCount),bufferFullTimeout:void 0===e.bufferFullTimeout?void 0:Number(e.bufferFullTimeout),bufferEmptyLimit:void 0===e.bufferEmptyLimit?void 0:Number(e.bufferEmptyLimit),skipDelay:void 0===e.skipDelay?void 0:Number(e.skipDelay),timeLeftShow:void 0===e.timeLeftShow?void 0:Boolean(e.timeLeftShow),visitSiteShow:void 0===e.visitSiteShow?void 0:Boolean(e.visitSiteShow),videoTimeout:void 0===e.videoTimeout?void 0:Number(e.videoTimeout),vpaidTimeout:void 0===e.vpaidTimeout?void 0:Number(e.vpaidTimeout)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(92);t.separate=function(e,t){var r=[],o=[];return n.forEach(e,function(n,i){t(n,i,e)?r.push(n):o.push(n)}),[r,o]}},function(e,t,r){(t=e.exports=r(135)(!1)).push([e.i,".yaAdSdkGui{position:static;margin:0;padding:0;font-family:Arial,sans-serif;font-size:12px;color:#fff;text-align:left;line-height:normal;background-color:#000;background-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yaAdSdkGui .timeLeft{position:absolute;top:10px;left:10px;background-color:#333;background-color:rgba(51,51,51,.7);padding:6px!important;cursor:default;width:auto}.yaAdSdkGui.yaAdSdkGui_mobile .timeLeft{font-size:12px}.yaAdSdkGui .skip{position:absolute;top:10px;right:10px;padding:6px 27px 6px 8px;background:#333 url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='18px' height='17px'%3E %3Cdefs/%3E %3Cg%3E %3Cpath stroke='none' fill='%23FFFFFF' d='M0 14.85 L6.35 8.5 0 2.15 2.15 0 10.65 8.5 2.15 17 0 14.85'/%3E %3C/g%3E%3C/svg%3E\") no-repeat 100%;background:rgba(51,51,51,.7) url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='18px' height='17px'%3E %3Cdefs/%3E %3Cg%3E %3Cpath stroke='none' fill='%23FFFFFF' d='M0 14.85 L6.35 8.5 0 2.15 2.15 0 10.65 8.5 2.15 17 0 14.85'/%3E %3C/g%3E%3C/svg%3E\") no-repeat 100%;cursor:pointer}.yaAdSdkGui.yaAdSdkGui_mobile .skip{font-size:12px}.yaAdSdkGui .mute{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3Evolume-on%3C/title%3E%3Cdefs%3E%3ClinearGradient x1='50%25' y1='2.186%25' x2='50%25' y2='100%25' id='a'%3E%3Cstop stop-color='%235B5B5B' offset='0%25'/%3E%3Cstop stop-color='%23444' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill-rule='nonzero'%3E%3Ccircle cx='11' cy='11' r='11' fill='%23000' transform='translate(1 1)'/%3E%3Ccircle cx='11' cy='11' r='11' stroke='%23242424' fill='url(%23a)' transform='translate(1 1)'/%3E%3C/g%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M8 9.5h5v5H8z'/%3E%3Cpath fill='%23FFF' fill-rule='nonzero' d='M8 12l5.5-5v10z'/%3E%3Cpath d='M15.208 13.5c.626-1.085.596-2.093 0-3' stroke='%23FFF' stroke-width='1.3' stroke-linecap='round'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat}.yaAdSdkGui .mute,.yaAdSdkGui .unMute{position:absolute;top:2px;left:0;width:24px;height:25px;cursor:pointer}.yaAdSdkGui .unMute{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3Evolume-off%3C/title%3E%3Cdefs%3E%3ClinearGradient x1='50%25' y1='2.186%25' x2='50%25' y2='100%25' id='a'%3E%3Cstop stop-color='%235B5B5B' offset='0%25'/%3E%3Cstop stop-color='%23444' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill-rule='nonzero'%3E%3Ccircle cx='11' cy='11' r='11' fill='%23000' transform='translate(1 1)'/%3E%3Ccircle cx='11' cy='11' r='11' stroke='%23242424' fill='url(%23a)' transform='translate(1 1)'/%3E%3C/g%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8 9.5h5v5H8z'/%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8 12l5.5-5v10z'/%3E%3Cpath d='M15.25 10.25l3.5 3.5m0-3.5l-3.5 3.5' stroke='%23000' stroke-width='1.5' stroke-linecap='round'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat}.yaAdSdkGui.yaAdSdkGui_mobile .mute,.yaAdSdkGui.yaAdSdkGui_mobile .unMute{background-size:100% 100%;width:30px;height:30px;top:-1px;left:55px;max-width:none}.yaAdSdkGui .play{position:absolute;top:50%;margin-top:-65px;left:50%;margin-left:-65px;width:130px;height:130px;cursor:pointer;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='130' height='130' viewBox='0 0 130 130' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3EGroup 3%3C/title%3E%3Cg fill='none' fill-rule='evenodd' opacity='.7'%3E%3Ccircle fill='%23000' cx='65' cy='65' r='65'/%3E%3Ccircle stroke='%23B2B2B2' stroke-width='12' cx='65' cy='65' r='52'/%3E%3Cpath fill='%23D8D8D8' d='M90.188 65L50 88V42z'/%3E%3C/g%3E%3C/svg%3E\") 0 0 no-repeat}.yaAdSdkGui .pause{display:block}.yaAdSdkGui .title{position:absolute;top:10px;margin:0 150px 0 100px;background-color:#333;background-color:rgba(51,51,51,.7);font-size:12px;cursor:default;padding:6px 8px}@media (max-width:640px){.yaAdSdkGui .title{display:none}}.yaAdSdkGui .topRightBlock{position:absolute;top:10px;right:10px;width:135px}.yaAdSdkGui.yaAdSdkGui_mobile .topRightBlock{width:190px}.yaAdSdkGui .topRightBlockMinimal{position:absolute;top:10px;right:10px;width:85px}.yaAdSdkGui.yaAdSdkGui_mobile .topRightBlockMinimal{position:absolute;top:auto;bottom:40px;right:10px;width:85px}.yaAdSdkGui .visitSiteWrapper{position:absolute;width:100%;bottom:0;text-align:center}.yaAdSdkGui .visitSite{color:#fff;font-family:Arial,sans-serif;font-size:13px;opacity:.8;padding:5px 10px;background:#000;background:rgba(0,0,0,.5);border-radius:2px;text-align:center;display:inline-block;cursor:pointer}.pointer{cursor:pointer}.yaAdSdk_iosVideoCurtain_wrapper{position:static;z-index:1;padding:0;margin:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yaAdSdk_iosVideoCurtain{position:absolute;width:100%;height:100%;top:0}",""]),t.locals={yaAdSdkGui:"yaAdSdkGui",timeLeft:"timeLeft",yaAdSdkGui_mobile:"yaAdSdkGui_mobile",skip:"skip",mute:"mute",unMute:"unMute",play:"play",pause:"pause",title:"title",topRightBlock:"topRightBlock",topRightBlockMinimal:"topRightBlockMinimal",visitSiteWrapper:"visitSiteWrapper",visitSite:"visitSite",pointer:"pointer",yaAdSdk_iosVideoCurtain_wrapper:"yaAdSdk_iosVideoCurtain_wrapper",yaAdSdk_iosVideoCurtain:"yaAdSdk_iosVideoCurtain"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInsecureVideoElement=function(e){return e&&"function"==typeof e.getAttribute}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_TIMEUPDATE_INTERVAL=250,t.SMART_TV_TIMEUPDATE_INTERVAL=1500,t.GOOGLE_IMA_SDK_TIMEUPDATE_INTERVAL=500},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.resetEventBus()}return e.toEventsArr=function(e,t){var r=[];if("string"==typeof e){if(!t)throw new Error("AdSDK: EventBus: you MUST pass function with string param");r.push({name:e,callback:t})}else if(e instanceof Array){for(var o in e)if(e.hasOwnProperty(o)){if("function"!=typeof t)throw new Error("You MUST pass callback in the second parameter with eventsName array");e.hasOwnProperty(o)&&r.push({name:e[o],callback:t})}}else{if("object"!==(void 0===e?"undefined":n(e)))throw new Error("Event name MUST be a string");for(var o in e)e.hasOwnProperty(o)&&r.push({name:o,callback:e[o]})}return r},e.addEvent=function(e,t){var r=t.name,n=t.callback;if("function"!=typeof n)throw new Error("Event listener MUST be a function");e[r]||(e[r]=[]),-1===e[r].indexOf(n)&&e[r].push(n)},e.addEvents=function(t,r){for(var n in r)r.hasOwnProperty(n)&&e.addEvent(t,r[n])},e.offCallbackByCallbacks=function(e,t){if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},e.prototype.resetEventBus=function(){return this._events={on:{},once:{}},this},e.prototype.on=function(t,r){return e.addEvents(this._events.on,e.toEventsArr(t,r)),this},e.prototype.once=function(t,r){return e.addEvents(this._events.once,e.toEventsArr(t,r)),this},e.prototype.when=function(e){var t=this;return new o(function(r){if("string"==typeof e)t.once(e,r);else{if(!(e instanceof Array))throw new Error('EventBus "when" method can take a string on string array parameter');for(var n in e)e.hasOwnProperty(n)&&t.once(e[n],r)}})},e.prototype.off=function(t,r){return this.offEvents(e.toEventsArr(t,r)),this},e.prototype.emit=function(e,t){if("string"==typeof e)this.emitEvent(e,t);else if(e instanceof Array)for(var r in e)e.hasOwnProperty(r)&&this.emitEvent(e[r],t);else if("object"===(void 0===e?"undefined":n(e)))for(var o in e)e.hasOwnProperty(o)&&this.emitEvent(o,e[o]);return this},e.prototype.reemit=function(e,t){var r=this,n=t instanceof Array?t:[t];for(var o in n)n.hasOwnProperty(o)&&function(t){e.on(t,function(e){return r.emit(t,e)})}(n[o]);return this},e.prototype.offEvents=function(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r],o=n.name,i=n.callback;e.offCallbackByCallbacks(this._events.on[o],i),e.offCallbackByCallbacks(this._events.once[o],i)}},e.prototype.emitEvent=function(e,t){this.emitEvents(this._events.on[e],t),this.emitEvents(this._events.once[e],t),this._events.once[e]=[]},e.prototype.emitEvents=function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&e[r].apply(this,[t])},e}();t.EventBus=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(114),o=r(343);t.filterPlayableAdPods=function(e,t){var r=t.videoSlot,i=n.expand(e.map(function(e){return e.separateAdPods()}));return o.filterAdPodsIndependentOnHtmlControls(i,r).filter(function(e){return e.getAdPodsCount()>0})}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(73);function s(e,t){return o(this,void 0,n,function(){var r;return i(this,function(n){switch(n.label){case 0:return void 0===t?[2,void 0]:[4,a.AdLoader.createFromBlock(e,t).loadAd().catch(function(){})];case 1:return[2,void 0===(r=n.sent())?void 0:{adViewer:r,adBreak:t}]}})})}t.loadAdViewerForAdBreak=s,t.loadAdViewersForAdBreaks=function(e,t){return o(this,void 0,n,function(){return i(this,function(r){switch(r.label){case 0:return[4,n.all(t.map(function(t){return s(e,t)}))];case 1:return[2,r.sent().filter(function(e){return void 0!==e})]}})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.destroyAdViewers=function(e){e.forEach(function(e){return e.destroy()})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAdViewerFromAdViewerWithAdBreak=function(e){return e.adViewer}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(155),s=r(62),u=r(271);t.AdViewer=u.AdViewer;var d=r(63),l=r(20),c=r(1),f=r(2),p=r(339),A=r(151),h=r(77);function v(e){return e.vastBase64&&(e.vast=p.base64.decode(e.vastBase64)),e}var y=function(){function e(){}return e.createFromBlock=function(t,r){var o=new e;return o.adConfig=v(t),o.adBreak=r,o.vmap=new s.Vmap,o.vmap.adBreaks=[r],o.whenVmapLoaded=n.resolve(o.vmap),o},e.create=function(t,r){void 0===r&&(r=!1);var o=new e;if(o.adConfig=v(t),r){var i=d.extractBlockParameters(t);o.whenVmapLoaded=n.resolve(s.Vmap.createPrerollVmap(i))}else o.whenVmapLoaded=s.Vmap.load(o.adConfig);return o.whenVmapLoaded.then(function(e){return o.vmap=e,o})},e.prototype.load=function(e){var t=this;return this.whenVmapLoaded.then(function(){return a.loadAd(t.adConfig,e)})},e.prototype.loadAd=function(){return o(this,void 0,n,function(){var e,t,r,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.whenVmapLoaded];case 1:if(o.sent(),!(e=this.adBreak?this.adBreak:this.getPrerollBlock()))throw new c.AdSDKError({code:c.AdSDKErrorCodes.EXPECTED_PREROLL_AD_BREAK,details:void 0});return[4,a.loadAd(this.adConfig,e)];case 2:return t=o.sent(),r=new h.AdBreakLimiter(e),[2,new u.AdViewer(t,r)];case 3:throw n=o.sent(),f.stats.errorToStats(n),n;case 4:return[2]}})})},e.prototype.getInPageBlock=function(){return A.getAdBreaksByType(this.getAdBreaks(),l.AdBreakType.inpage)[0]},e.prototype.getPrerollBlock=function(){return A.getAdBreaksByType(this.getAdBreaks(),l.AdBreakType.preroll)[0]},e.prototype.getPostrollBlock=function(){return A.getAdBreaksByType(this.getAdBreaks(),l.AdBreakType.postroll)[0]},e.prototype.getMidrollBlocks=function(){return A.getAdBreaksByType(this.getAdBreaks(),l.AdBreakType.midroll)},e.prototype.getAdBreaks=function(){if(this.adBreak)return[this.adBreak];if(this.vmap)return this.vmap.adBreaks;throw new c.AdSDKError({code:c.AdSDKErrorCodes.NO_AD_BREAK_OR_VMAP_IN_AD_LOADER,details:void 0})},e}();t.AdLoader=y},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(n=window)}e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76).getNativeMethod(Array,"isArray"),o={};t.isArray=Boolean(n)?function(e){return n.call(Array,e)}:function(e){return"[object Array]"===o.toString.call(o,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18);t.getNativeMethod=function(e,t){var r=e[t];if(!n.checkNativeCode(r)){var o=r;try{delete e[t];var i=e[t];"function"==typeof i&&(r=i),e[t]=o}catch(e){}}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=r(37),i=r(157),a=r(78),s=function(){function e(e){var t=e.maxPositionsCount,r=e.maxDuration;this.currentAdPodsDurations=[],this.onUpdateLimitsSignal=new n.Signal,this.maxPositionsCount=t,this.maxDuration=r}return e.prototype.addAdPodDuration=function(e){this.currentAdPodsDurations.push(e),this.onUpdateLimitsSignal.dispatch(void 0)},e.prototype.getAdPodLimitationByDuration=function(e){if(!i.IS_LIMITATION_DISABLED){var t=this.currentAdPodsDurations.length,r=this.currentAdPodsDurations.reduce(function(e,t){return e+t},0),n=this.maxPositionsCount,s=this.maxDuration,u=!(n===o.MAX_POSITIONS_COUNT_UNLIMITED_VALUE)&&t+1>n;if(!(s===o.MAX_DURATION_UNLIMITED_VALUE)&&r+e>s||u)return{reason:u?a.LimitationReason.MaxAdPodsCountExceeded:a.LimitationReason.MaxDurationExceeded,currentDuration:r,adPodDuration:e,currentAdPodsCount:t,maxPositionsCount:n,maxDuration:s}}},e.prototype.onUpdateLimits=function(e){return this.onUpdateLimitsSignal.add(e)},e}();t.AdBreakLimiter=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.MaxDurationExceeded="MaxDurationExceeded",e.MaxAdPodsCountExceeded="MaxAdPodsCountExceeded"}(t.LimitationReason||(t.LimitationReason={}))},function(e,t,r){"use strict";function n(e,t){var r=[],n=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(t)).join(".")+"]"}),function(o,i){if(r.length>0){var a=r.indexOf(this);~a?r.splice(a+1):r.push(this),~a?n.splice(a,1/0,o):n.push(o),~r.indexOf(i)&&(i=t.call(this,o,i))}else r.push(i);return null==e?i:e.call(this,o,i)}}(e.exports=function(e,t,r,o){return JSON.stringify(e,n(t,o),r)}).getSerialize=n},function(e,t,r){"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(78);t.LimitationReasonErrorCodes=((n={})[a.LimitationReason.MaxAdPodsCountExceeded]=i.AdSDKErrorCodes.AD_BREAK_MAX_AD_PODS_COUNT_EXCEEDED,n[a.LimitationReason.MaxDurationExceeded]=i.AdSDKErrorCodes.AD_BREAK_MAX_DURATION_EXCEEDED,n),t.LimitationReasonDuringPlaybackErrorCodes=((o={})[a.LimitationReason.MaxAdPodsCountExceeded]=i.AdSDKErrorCodes.AD_BREAK_MAX_AD_PODS_COUNT_EXCEEDED_DURING_PLAYBACK,o[a.LimitationReason.MaxDurationExceeded]=i.AdSDKErrorCodes.AD_BREAK_MAX_DURATION_EXCEEDED_DURING_PLAYBACK,o)},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=r(82),a=r(25),s=(r(162),r(163)),u=r(165),d=(r(43),r(26)),l=r(44),c=r(86),f=r(88),p=r(19),A=r(46),h=r(11),v=r(89),y=r(169),_=r(7),E=r(171),m=r(172),S=r(173),g=(r(174),r(175)),b=r(79);t.SEPARATE_SIGN="_",t.CREATE_TAGS_FOR_STATS_DEFAULT=function(e){var r,o=e.eventType,i=e.eventName,a=e.value,s=e.values,u={};return p.forOwn(s,function(e,r){u[""+o+t.SEPARATE_SIGN+i+t.SEPARATE_SIGN+r]=e}),n(((r={})[""+o+t.SEPARATE_SIGN+i]=a,r),u)};var T=/^\w(\-|:|\s|\.|\w){1,20}$/,O=/^\w(\-|:|\s|\.|\w){0,70}$/,P=/^\w(\-|:|\s|\.|\w){1,70}$/,w=function(){function e(e){var t=this;this.rootFields={},this.labels={},this.event=function(e){var r=e.name,n=e.data,o=e.labels,i=e.probability;t.push({eventType:g.StatsEventType.event,eventName:r,data:n,additionalStatsLabels:o,probability:i})},this.error=function(e){var r=e.error,n=e.labels,o=e.probability,i=new a.CustomError(r);t.push({eventName:String(i.code),eventType:g.StatsEventType.error,data:i,additionalStatsLabels:n,probability:o})},this.value=function(e){var r=e.name,n=e.value,o=e.data,i=e.labels,a=e.probability;t.push({eventName:r,value:n,eventType:g.StatsEventType.value,data:o,additionalStatsLabels:i,probability:a})},this.values=function(e){var r=e.name,n=e.values,o=e.data,i=e.labels,a=e.probability;t.push({eventName:r,eventType:g.StatsEventType.values,data:o,additionalStatsLabels:i,probability:a,values:n})},this.warning=function(e){var r=e.name,n=e.message,o=e.probability;"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(n),t.push({eventName:r,eventType:g.StatsEventType.warning,data:{message:n},probability:o})},this.getParams=function(){return n({},t.params)},this.setRootFields=function(e){A.getObjectEntries(e).forEach(function(e){var r=o(e,2),n=r[0],i=r[1];void 0===i?delete t.rootFields[n]:t.rootFields[n]=i})},this.setLabels=function(e){A.getObjectEntries(e).forEach(function(e){var r=o(e,2),n=r[0],i=r[1];void 0===i?delete t.labels[n]:t.labels[n]=i})},this.eventToStats=function(e,r,n){t.push({eventType:g.StatsEventType.event,eventName:e,data:r,additionalStatsLabels:n})},this.errorToStats=function(e,r){var n=new a.CustomError(e);t.push({eventName:String(n.code),eventType:g.StatsEventType.error,data:n,additionalStatsLabels:r})},this.deprecated=function(e,r){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(r),t.push({eventName:e,eventType:g.StatsEventType.deprecated,data:{message:r}})},this.valueToStats=function(e,r,n,o){t.push({eventName:e,value:r,eventType:g.StatsEventType.value,data:n,additionalStatsLabels:o})},this.params=n({},e,{sid:e.sid||l.generateHexString(m.DEFAULT_SID_LENGTH)}),this.logUrl=!0===e.useAlias?S.PCODE_LOGS_URL_ALIAS:S.PCODE_LOGS_URL}return e.prototype.push=function(e){var r,o=e.eventName,i=e.eventType,a=e.data,s=void 0===a?{}:a,u=e.additionalStatsLabels,d=e.value,l=void 0===d?1:d,c=e.probability,f=void 0===c?1:c,p=e.values,A=void 0===p?{}:p;if(v.portion(f)){var h=this.params,y=h.service,E=h.version,m={service:y,version:E,data:s,eventName:o,eventType:i,additionalStatsLabels:u,value:l,values:A},S=_.addParamsToUrl(this.logUrl,n(((r={})[y]=E,r[i]=o,r),u));try{this.sendData(S,b(this.createFullStatsObject(m)))}catch(e){t.stats.errorToStats(e,{service:y}),"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Cannot send stats data ["+JSON.stringify({service:y,version:E,eventType:i,eventName:o})+"]")}}},e.prototype.sendData=function(e,t){if(this.params.useSendBeacon&&y.sendBeaconShim(e,t))return;f.request({url:e,data:t,method:"POST",onBeforeSend:this.params.onBeforeSend})},e.prototype.createFullStatsObject=function(e){var r=e.service,l=e.version,f=e.eventName,p=e.eventType,v=e.data,y=e.additionalStatsLabels,_=e.value,E=(this.params.createTagsFunction||t.CREATE_TAGS_FOR_STATS_DEFAULT)(e),m=n({},this.labels,y,{version:this.params.version}),S={service:r,tags:E,labels:m};h.getObjectKeys(E).forEach(function(e){if(!P.test(e))throw new a.CustomError({code:i.CommonError.STATS_SENSOR_NAME_ERROR,details:{service:r,sensorName:e}})}),A.getObjectEntries(m).forEach(function(e){var t=o(e,2),n=t[0],s=t[1];if(!T.test(n))throw new a.CustomError({code:i.CommonError.STATS_LABEL_KEY_ERROR,details:{service:r,labelKey:n}});if(!O.test(s))throw new a.CustomError({code:i.CommonError.STATS_LABEL_VALUE_ERROR,details:{service:r,labelValue:s}})});var g=u.getTopLocationData(document),b=g.location,w=g.referrer;return n({},this.rootFields,S,{timestamp:Date.now(),eventType:p,eventName:f,data:v,sid:this.params.sid,version:l,location:d.getWindowLocation(window),topLocation:b,referrer:window.document.referrer,topReferrer:w,userAgent:window.navigator.userAgent,currentScriptSrc:s.CURRENT_SCRIPT_SRC,secureIFrame:c.isInSecureIFrame,value:_})},e}();t.Stats=w,t.stats=new w({service:E.COMMON_LOCAL_STATS_SERVICE_NAME,version:"0",sid:l.generateHexString(m.DEFAULT_SID_LENGTH)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LOAD_SCRIPT_ERROR="LOAD_SCRIPT_ERROR",e.STATS_SENSOR_NAME_ERROR="STATS_SENSOR_NAME_ERROR",e.STATS_LABEL_KEY_ERROR="STATS_LABEL_KEY_ERROR",e.STATS_LABEL_VALUE_ERROR="STATS_LABEL_VALUE_ERROR"}(t.CommonError||(t.CommonError={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(26),o=r(84);t.getParentLocationsData=function(e){var t=o.getParentFriendlyIFrames(e.documentElement).map(function(e){return e.ownerDocument});return t.unshift(e),t.map(function(e){return{location:n.getWindowLocation(e.defaultView),referrer:e.referrer}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(41);t.getParentFriendlyIFrames=function(e,t){if(void 0===t&&(t=!0),n.isSafari&&t)return[];for(var r=[],o=e;;)try{if(!(o=o.ownerDocument.defaultView.frameElement))return r;r.push(o)}catch(e){return r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42);t.getIsTizen=function(e){return void 0===e&&(e=window),n.getUserAgent(e).toLowerCase().indexOf("tizen")>-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(167);t.isInSecureIFrame=n.isInSecureIFrame()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map=function(e,t,r){for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=t.call(r,e[o],o,e);return n}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),i=r(19),a=200;t.request=function e(t){var r=t.method,s=t.url,u=t.async,d=void 0===u||u,l=t.data,c=t.responseType,f=void 0===c?"text":c,p=t.onBeforeSend,A=void 0===p?o.noop:p,h=t.onError,v=void 0===h?o.noop:h,y=t.onSuccess,_=void 0===y?o.noop:y,E=t.onRetry,m=void 0===E?o.noop:E,S=t.checkStatus,g=void 0===S?function(e){return a===e}:S,b=t.headers,T=void 0===b?{}:b,O=t.xhrConstructor,P=void 0===O?XMLHttpRequest:O,w=t.retries,I=void 0===w?0:w,D=t.timeout,R=void 0===D?0:D,C=t.withCredentials,M=t.onAbort,N=t.onSetup,L=new P;L.open(r,s,d),L.responseType=f,L.withCredentials=Boolean(C);var V,k=!1,B=function(e){k=!0,B=o.noop,F(new Error("Abort request")),"function"==typeof M&&M(e)};i.forOwn(T,function(e,t){try{L.setRequestHeader(t,e)}catch(e){}}),R>0&&isFinite(R)&&(V=window.setTimeout(function(){F(new Error("Request timeout, "+s))},R));var F=function(r){if(L.onerror=null,L.onreadystatechange=null,void 0!==V){clearTimeout(V);try{L.abort()}catch(r){}}if(!k)if(I>0){var i=m(r,L);if("boolean"!=typeof i||i||B(),k)return;e(n({},t,{onSetup:function(e){var t=e.abort;B=function(e){return t(e)}},retries:I-1}))}else B=o.noop,v(r,L)};if(L.onerror=F,L.onreadystatechange=function(){if(4===L.readyState){var e=L.status;g(e)?(B=o.noop,clearTimeout(V),_(L)):F(new Error("Invalid request status "+e+", "+s))}},"function"!=typeof N||(N({abort:function(e){return B(e)}}),!k)){A(L,t);try{L.send(l)}catch(e){F(e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(168);t.portion=function(e,t,r,o){void 0===o&&(o=!1);var i=e>(o?Math.random():n.RANDOM),a=i?t:r;return"function"==typeof a&&a(),i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(178);t.INTERACTIVE_VIEWER_TESTTAG_GET_PARAMETER="interactive-viewer-test-tag",t.ADSDK_TESTTAG_GET_PARAMETER="adsdk-test-tag",t.TESTTAG_GET_PARAMETER=n.IS_INTERACTIVE_VIEWER_BUNDLE?t.INTERACTIVE_VIEWER_TESTTAG_GET_PARAMETER:t.ADSDK_TESTTAG_GET_PARAMETER},function(e,t,r){"use strict";var n,o,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(183),u=r(50),d=r(15),l=r(12),c=r(14);!function(e){e.VERSION="VERSION",e.BUNDLE="BUNDLE",e.UNUSED="UNUSED",e.ADBLOCK="ADBLOCK"}(a=t.AdSDKJSTestTagPropNames||(t.AdSDKJSTestTagPropNames={})),t.TestTagBundleIds=((o={})[d.LoaderBundleName.AdSDKLoader]=0,o[d.LoaderBundleName.InteractiveViewerLoader]=1,o[d.ModuleBundleName.AdSDK]=10,o[d.ModuleBundleName.AdLoader]=11,o[d.ModuleBundleName.BannerAd]=12,o[d.ModuleBundleName.InPage]=13,o[d.ModuleBundleName.InteractiveViewer]=14,o[d.ModuleBundleName.VideoPlayer]=15,o[d.ModuleBundleName.Multiroll]=16,o[d.ModuleBundleName.VideoBannerAd]=17,o[d.DevBundleName.Examples]=30,o[d.DevBundleName.Dashboard]=30,o[d.TestBundleName.Test]=31,o[d.TestBundleName.TestVpaid]=31,o);var f=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.prototype.getTemplate=function(){return[[10,a.VERSION],[5,a.BUNDLE],[34,a.UNUSED],[1,a.ADBLOCK]]},r.prototype.defaults=function(){var e;return(e={})[a.VERSION]=l.BUILD_VERSION,e[a.BUNDLE]=t.TestTagBundleIds[c.WEBPACK_BUNDLE_NAME],e[a.UNUSED]=0,e[a.ADBLOCK]=!0===u.isAbdBundle,e},r}(s.AbstractTesttag);t.testtag=new f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t,r){for(var n=0;n<e.length;n++)t.call(r,e[n],n,e)}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0});var o=r(50),i=r(23),a=r(29);t.knock=function(e){return{url:e,promise:new n(function(t){var r=new Image;r.onload=function(){return t(!0)},r.onerror=function(){return t(!1)},r.src=a.fixUrlSheme(o.isAbdBundle?e:i.addAdSDKParamsToUrl(e))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),o=r(187),i=r(191),a=r(193),s=r(195),u=r(196);t.getSessionId=n.once(function(){return u.getSession(s.generateSessionId,i.getWindowStorage("common"),o.getCrossFrameStorage("common"),a.configureMetrika)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrCreateItem=function(e,t,r){var n=e.getItem(t);return n||(n=r(t),e.setItem(t,n)),n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listToArray=function(e){if(!e)return[];for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.obj=e}return e.prototype.getItem=function(e){return this.obj[e]},e.prototype.setItem=function(e,t){this.obj[e]=t},e}();t.ObjectStorage=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function o(e){for(var t="",r=0;r<e.length;){var o=e.charCodeAt(r++),i=e.charCodeAt(r++),a=e.charCodeAt(r++),s=o>>2,u=(3&o)<<4|i>>4,d=(15&i)<<2|a>>6,l=63&a;isNaN(i)?d=l=64:isNaN(a)&&(l=64),t=t+n.charAt(s)+n.charAt(u)+n.charAt(d)+n.charAt(l)}return t}function i(e){var t=[],r=0;for(e=e.replace(/[^A-Za-z0-9\-_=]/g,"");r<e.length;){var o=n.indexOf(e.charAt(r++)),i=n.indexOf(e.charAt(r++)),a=n.indexOf(e.charAt(r++)),s=n.indexOf(e.charAt(r++)),u=o<<2|i>>4,d=(15&i)<<4|a>>2,l=(3&a)<<6|s;t.push(String.fromCharCode(u)),64!==a&&t.push(String.fromCharCode(d)),64!==s&&t.push(String.fromCharCode(l))}return t.join("")}function a(e){for(var t=[],r=0;r<e.length;){var n=e.charCodeAt(r);if(n<128)t.push(String.fromCharCode(n)),r++;else if(n>191&&n<224){var o=e.charCodeAt(r+1);t.push(String.fromCharCode((31&n)<<6|63&o)),r+=2}else{o=e.charCodeAt(r+1);var i=e.charCodeAt(r+2);t.push(String.fromCharCode((15&n)<<12|(63&o)<<6|63&i)),r+=3}}return t.join("")}t.encode=function(e,t){return void 0===t&&(t=1e6),o(function(e,t){e=e.replace(/\r\n/g,"\n");for(var r="",n=0;n<e.length;n++){var o=e.charCodeAt(n),i=void 0;if(o<128?i=String.fromCharCode(o):o>127&&o<2048?(i=String.fromCharCode(o>>6|192),i+=String.fromCharCode(63&o|128)):(i=String.fromCharCode(o>>12|224),i+=String.fromCharCode(o>>6&63|128),i+=String.fromCharCode(63&o|128)),r.length+i.length>t)break;r+=i}return r}(e,3*t/4|0))},t.encodeUInt8String=o,t.decode=function(e){return a(i(e))},t.decodeUInt8String=i,t.utf8Decode=a,t.cropEquals=function(e){return e.replace(/=+$/,"")},t.addEquals=function(e){for(;e.length%4!=0;)e+="=";return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHead=function(e){var t=e.document,r=t.getElementsByTagName("head")[0];return r||(r=t.createElement("head"),t.documentElement.appendChild(r)),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATIC_DOMAIN="yastatic.net"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prependChild=function(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(50),o=r(23),i=r(214);t.getAdTagURI=function(e,t,r){return n.isAbdBundle?t.adTagURI:i.addParamsToAdTagURI(e,t,r)},t.getWrapperAdTagURI=function(e){return n.isAbdBundle?e:o.addAdSDKParamsToUrl(e)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(11);t.extractTrackingEvents=function(e){var t={};return"object"===(void 0===e?"undefined":n(e))&&a.getObjectKeys(e).forEach(function(r){var n=e[r];Array.isArray(n)&&(t[r]=n.filter(function(e){return"string"==typeof e}))}),t},t.mergeTrackingEvents=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r={};return e.forEach(function(e){a.getObjectKeys(e).forEach(function(t){var n=r[t]||[],o=e[t]||[];r[t]=i(n,o)})}),r}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(58);function i(e){return o.deleteUndefinedProperties({vmapLoadTimeout:void 0===e.vmapLoadTimeout?void 0:Number(e.vmapLoadTimeout),blockInfoLoadTimeout:void 0===e.blockInfoLoadTimeout?void 0:Number(e.blockInfoLoadTimeout)})}t.extractVmapLoadParameters=i,t.extractVmapConfig=function(e){return n({},i(e),{partnerId:void 0===e.partnerId?void 0:Number(e.partnerId),category:void 0===e.category?void 0:Number(e.category),duration:void 0===e.duration?void 0:Number(e.duration)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(216),i=function(){function e(){}return e.addUnit=function(e){Array.isArray(n.yandexGlobalObject.videoAd.skipTokens)?-1===n.yandexGlobalObject.videoAd.skipTokens.indexOf(e)&&n.yandexGlobalObject.videoAd.skipTokens.push(e):n.yandexGlobalObject.videoAd.skipTokens=[e]},e.toBase64=function(){var t=e.getUnits();return t.length?o.encode(t.map(function(e){return"yabs."+e}).join("\n")):void 0},e.getUnits=function(){return Array.isArray(n.yandexGlobalObject.videoAd.skipTokens)?n.yandexGlobalObject.videoAd.skipTokens:[]},e}();t.SkipToken=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFriendlyIFrame=function(e){var t=e.ownerDocument.createElement("iframe");t.scrolling="no",t.setAttribute("allowfullscreen",""),t.style.display="block",e.appendChild(t);var r=t.contentDocument;return r.open(),r.close(),r.body.style.margin="0",t.style.borderWidth="0",t}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(30),u=r(41),d=r(225),l=r(226),c=r(227),f=r(59),p=r(109),A=window.URL||window.webkitURL||{},h="function"==typeof A.createObjectURL&&"function"==typeof A.revokeObjectURL,v=!u.isSafari&&!d.isTizen&&-1===s.internetExplorerVersion,y=function(){function e(t){var r=this;this.ready=!1;var o=t.type;if(e.canPreload(o)){var i=e.canPreloadWithVideoTag(o)?this.preloadWithVideoTag(t):this.preloadToBlob(t);this.readyPromise=i.then(function(e){return r.ready=!0,e||t})}else this.readyPromise=n.reject(new Error(o+" cannot be preloaded"))}return e.canPreload=function(e){return f.canPlayType(e)&&(this.canPreloadWithVideoTag(e)||this.canPreloadToBlob(e))},e.canPreloadWithVideoTag=function(e){return p.isHlsMediaFileType(e)&&u.isSafari||v},e.canPreloadToBlob=function(e){return h&&!p.isHlsMediaFileType(e)},e.prototype.isReady=function(){return this.ready},e.prototype.destroy=function(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),c.isString(this.blobUrl)&&A.revokeObjectURL(this.blobUrl)},e.prototype.preloadWithVideoTag=function(e){var t=document.createElement("video");return this.video=t,t.preload="auto",new n(function(r,n){t.oncanplaythrough=function(){return r(e)},t.onerror=n,t.src=e.url,t.load()})},e.prototype.preloadToBlob=function(e){return i(this,void 0,n,function(){var t,r=this;return a(this,function(n){switch(n.label){case 0:return[4,l.request({method:"GET",url:e.url,responseType:"blob",onBeforeSend:function(e){return r.xhr=e}})];case 1:return t=n.sent().response,[2,o({},e,{url:A.createObjectURL(t)})]}})})},e}();t.VideoPreloader=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(31);t.isSupportedHTML5Video="function"==typeof n.TEST_VIDEO_TAG.load},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(228);t.isHlsMediaFileType=function(e){return n.HLS_VIDEO_TYPES.indexOf(e.toLowerCase())>-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDevicePixelRatio=function(){var e;try{e=window.devicePixelRatio}catch(e){}return e||1}},function(e,t,r){"use strict";var n=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(18);t.hypot=a.checkNativeCode(Math.hypot)?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.hypot.apply(Math,i(e))}:function(){for(var e,t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=0;try{for(var a=n(r),s=a.next();!s.done;s=a.next()){var u=s.value;if(u===1/0||u===-1/0)return 1/0;i+=Math.pow(u,2)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return Math.sqrt(i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,r){return e>r?r:e<t?t:e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(241),o=r(242),i=r(32),a=r(1),s=r(33);t.getAdMediaFileContentType=function(e){var t=e.apiFramework,r=e.type;if(t===i.VPAID_API_FRAMEWORK){if(o.JS_VPAID_MEDIA_FILE_TYPES.indexOf(r)>-1)return s.AdContentType.js;if(r===n.FLASH_VPAID_MEDIA_FILE_TYPE)return s.AdContentType.flash;throw new a.AdSDKError({code:a.AdSDKErrorCodes.UNSUPPORTED_MEDIA_FILE_TYPE,details:{type:r}})}return s.AdContentType.video}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expand=function(e){return[].concat.apply([],e)}},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=r(29),u=r(56),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(Error);t.LOAD_XML_NETWORK_ERROR_PREFIX="LOAD_XML_NETWORK_ERROR_",t.loadXML=function(e,r,n,i){return void 0===i&&(i=!0),new o(function(o,l){"https:"===window.location.protocol&&(e=u.setProtocolToUrl(e,"https:"));var c=new XMLHttpRequest;"function"==typeof c.overrideMimeType&&c.overrideMimeType("text/xml"),c.open("GET",s.fixUrlSheme(e));var f=0;"number"==typeof n&&(f=window.setTimeout(function(){var e=new d("HTTP timeout error");e.isTimeoutError=!0,l(e)},n)),c.withCredentials=i,c.onerror=function(t){clearTimeout(f),l(new Error("XHR Error["+c.status+"]["+c.statusText+"]["+e+"]"))},c.onreadystatechange=function(){if(4===c.readyState&&0!==c.status)if(clearTimeout(f),200===c.status)o({xml:c.responseXML,responseText:c.responseText});else{var r=""+t.LOAD_XML_NETWORK_ERROR_PREFIX+c.status,n=new a.AdSDKError({code:r,details:{statusText:c.statusText,status:c.status,url:e}});l(n)}};try{c.send(r)}catch(t){t.message="["+t.message+"]["+e+"]",l(t)}})}},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(25);t.RU="ru";var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="TranslatorError",t}return o(t,e),t}(i.CustomError);t.TranslatorError=a,t.getTranslator=function(e){var r=function(t,r,n){return e[t][r][n]},n=function(t,r,n){return e[t]&&e[t][r]&&e[t][r][n]};return function(e){var o=e.keyset,i=e.key,s=e.lang,u=void 0===s?t.RU:s,d=e.throwErr,l=void 0===d||d;return n(u,o,i)?r(u,o,i):n(t.RU,o,i)?r(t.RU,o,i):(l&&setTimeout(function(){throw new a("Tanker locale for lang="+u+", keyset="+o+", key="+i+" not found")}),"")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFiniteNumber=function(e){return"number"==typeof e&&isFinite(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(58),o=r(255),i=r(256),a=r(257);function s(e,t){if("string"==typeof e){var r=e.toLowerCase();return o.getObjectValues(t).indexOf(r)>-1?r:void 0}}t.parseStickyConfig=function(e){var t=e.stick,r=e.stickTo,o=e.stickyColorScheme;return n.deleteUndefinedProperties({stick:"boolean"==typeof t?t:void 0,stickTo:s(r,i.StickPosition),stickyColorScheme:s(o,a.StickyColorScheme)})}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(37),i=r(120),a=r(20),s=r(121);t.DEFAULT_PREROLL_AD_BREAK_PARAMETERS=n({id:"0",timeOffset:i.TimeOffsetLiterals.start,adType:a.AdBreakType.preroll,adTagURI:"",maxDuration:o.MAX_DURATION_UNLIMITED_VALUE,maxPositionsCount:o.MAX_POSITIONS_COUNT_UNLIMITED_VALUE},s.DEFAULT_AD_BREAK_COMMON_PARAMETERS)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.start="start",e.end="end"}(t.TimeOffsetLiterals||(t.TimeOffsetLiterals={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(258),o=r(259),i=r(260),a=r(261),s=r(262),u=r(263),d=r(264),l=r(265);t.DEFAULT_AD_BREAK_COMMON_PARAMETERS={sessionId:"",title:"",skipDelay:i.DEFAULT_SKIP_DELAY,timeLeftShow:!1,visitSiteShow:!1,vastTimeout:a.DEFAULT_VAST_TIMEOUT,videoTimeout:s.DEFAULT_VIDEO_TIMEOUT,vpaidTimeout:u.DEFAULT_VPAID_TIMEOUT,wrapperTimeout:l.DEFAULT_WRAPPER_TIMEOUT,wrapperMaxCount:d.DEFAULT_WRAPPER_MAX_COUNT,bufferFullTimeout:o.DEFAULT_BUFFER_FULL_TIMEOUT,bufferEmptyLimit:n.DEFAULT_BUFFER_EMPTY_LIMIT}},function(e,t,r){"use strict";var n,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(117),a=r(11),s=r(20),u=r(119),d=r(1),l=r(118),c=r(3),f=r(270),p=r(13),A=r(37),h=r(123),v=r(120),y=((n={})[v.TimeOffsetLiterals.start]=s.AdBreakType.preroll,n[v.TimeOffsetLiterals.end]=s.AdBreakType.postroll,n);t.createAdBreak=function(e,t,r){var n,_=u.DEFAULT_PREROLL_AD_BREAK_PARAMETERS.adTagURI,E=u.DEFAULT_PREROLL_AD_BREAK_PARAMETERS.id,m=u.DEFAULT_PREROLL_AD_BREAK_PARAMETERS.adType,S=u.DEFAULT_PREROLL_AD_BREAK_PARAMETERS.maxDuration,g=u.DEFAULT_PREROLL_AD_BREAK_PARAMETERS.maxPositionsCount;if(r){var b=r.querySelector("AdSource"),T=r.querySelector("Extensions"),O=function(e){if(T){var t=T.querySelector('Extension[type="'+e+'"]');return t?p.readElementText(t):void 0}},P=function(e){return Number(O(e))},w=function(e,t){var r=P(e);return i.isFiniteNumber(r)&&r>=0?Math.floor(r):t},I=function(e){return"true"===O(e)};if(!b)throw new d.AdSDKError({code:d.AdSDKErrorCodes.VMAP_AD_BREAK_WITHOUT_AD_SOURCE,details:t});var D=b.querySelector("AdTagURI");if(_=p.readElementText(D),!D||!_)throw new d.AdSDKError({code:d.AdSDKErrorCodes.VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI,details:t});E=p.readAttr(b,"id",E),S=w("MaxDuration",A.MAX_DURATION_UNLIMITED_VALUE),g=w("MaxPositionsCount",A.MAX_POSITIONS_COUNT_UNLIMITED_VALUE),m=p.readAttr(r,"breakId",m);var R=p.readAttr(r,"timeOffset","start"),C=function(){return new d.AdSDKError({code:d.AdSDKErrorCodes.VMAP_INCORRECT_TIME_OFFSET,details:o({},t,{timeOffset:R,adType:m})})};if(-1===a.getObjectKeys(s.AdBreakType).indexOf(m))throw new d.AdSDKError({code:d.AdSDKErrorCodes.VMAP_UNSUPPORTED_AD_BREAK_TYPE,details:o({},t,{adType:m})});if(m===s.AdBreakType.inpage){var M=O("Stick"),N=l.parseStickyConfig({stick:M&&"true"===M,stickTo:O("StickTo"),stickyColorScheme:O("ColorScheme")});n=o({collapse:I("Collapse"),repeat:I("Repeat"),preload:I("Preload")},N)}else if(R===v.TimeOffsetLiterals.start){if(y[R]!==m)throw C();n={timeOffset:R}}else if(R===v.TimeOffsetLiterals.end){if(y[R]!==m)throw C();n={timeOffset:R}}else{if(!f.validateVastTime(R))throw C();if(m!==s.AdBreakType.midroll)throw C();var L=P("MaxRepeatCount"),V=c.parseVASTTime(p.readAttr(r,"repeatAfter"));n={timeOffset:c.parseVASTTime(R),repeatAfter:isNaN(V)?h.REPEAT_AFTER_DISABLED_VALUE:V,serverSide:I("ServerSide"),broadcastReplace:I("BroadcastReplace"),pip:I("Pip"),tryClient:I("TryClient"),maxRepeatCount:isNaN(L)?h.MAX_REPEAT_COUNT_UNLIMITED_VALUE:L,repeatNumber:0}}}return o({},n,{adTagURI:_,id:E,adType:m,maxDuration:S,maxPositionsCount:g,sessionId:e.sessionId,title:e.title,skipDelay:e.skipDelay,timeLeftShow:e.timeLeftShow,visitSiteShow:e.visitSiteShow,vastTimeout:e.vastTimeout,videoTimeout:e.videoTimeout,vpaidTimeout:e.vpaidTimeout,wrapperTimeout:e.wrapperTimeout,wrapperMaxCount:e.wrapperMaxCount,bufferFullTimeout:e.bufferFullTimeout,bufferEmptyLimit:e.bufferEmptyLimit})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_REPEAT_COUNT_UNLIMITED_VALUE=0,t.REPEAT_AFTER_DISABLED_VALUE=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(t.VideoPlayingState||(t.VideoPlayingState={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.indexOf=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=n);for(var i=r;i<e.length;i++)if(o(e[i],t))return i;return-1};var n=function(e,t){return e===t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(275);t.isTouchDevice=n.isTouchDevice()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAbsoluteUrl=function(e){var t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(279);t.iOSVersion=n.getIOSVersion()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(280);t.getIsIOS=function(e){void 0===e&&(e=window);var t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!n.isUCBrowser(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76);t.addEventListenerFunction=function(e,t,r){e.attachEvent("on"+t,r)},t.removeEventListenerFunction=function(e,t,r){e.detachEvent("on"+t,r)},n.getNativeMethod(document,"addEventListener")&&(t.addEventListenerFunction=function(e,t,r,o){n.getNativeMethod(e,"addEventListener").call(e,t,r,o)},t.removeEventListenerFunction=function(e,t,r,o){n.getNativeMethod(e,"removeEventListener").call(e,t,r,o)})},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=function(e,t){return o(void 0,void 0,n,function(){var r;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),[4,new n(function(n,o){t&&t.then(n,o),r=setTimeout(n,e)})];case 1:return o.sent(),[3,3];case 2:return clearTimeout(r),[7];case 3:return[2]}})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(133);t.setAttributesReversible=function(e,t){var r={};return n.getObjectKeys(t).forEach(function(t){r[t]=e.getAttribute(t)}),o.setAttributes(e,t),function(){o.setAttributes(e,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11);t.setAttributes=function(e,t){n.getObjectKeys(t).forEach(function(r){var n=t[r];null===n?e.removeAttribute(r):e.setAttribute(r,n)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(116),o=r(287),i=n.getTranslator(o);t.translate=function(e,t){return void 0===t&&(t=n.RU),i({keyset:"adsdk",key:e,lang:t})}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(i).concat([o]).join("\n")}var a;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(n[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];null!=a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VOLUME=.5},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AdPodStartTime="AdPodStartTime",e.FriendlyIFrameAsyncCreation="FriendlyIFrameAsyncCreation",e.DetectAutoplayAbilityTime="DetectAutoplayAbilityTime"}(t.AdSDKStatsValue||(t.AdSDKStatsValue={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStyle=function(e){return("function"==typeof window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle)||{}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some(function(e,n){return e[0]===t&&(r=n,!0)}),r}return function(){function t(){this.__entries__=[]}var r={size:{configurable:!0}};return r.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r+=1){var o=n[r];e.call(t,o[1],o[0])}},Object.defineProperties(t.prototype,r),t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},a=2,s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,d=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function s(){r&&(r=!1,e()),n&&d()}function u(){i(s)}function d(){var e=Date.now();if(r){if(e-o<a)return;n=!0}else r=!0,n=!1,setTimeout(u,t);o=e}return d}(this.refresh.bind(this),20)};d.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},d.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},d.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},d.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},d.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},d.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},d.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),s.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},d.getInstance=function(){return this.instance_||(this.instance_=new d),this.instance_},d.instance_=null;var l=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r+=1){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},f=_(0,0,0,0);function p(e){return parseFloat(e)||0}function A(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return t.reduce(function(t,r){return t+p(e["border-"+r+"-width"])},0)}function h(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return f;var n=c(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r+=1){var o=n[r],i=e["padding-"+o];t[o]=p(i)}return t}(n),i=o.left+o.right,a=o.top+o.bottom,s=p(n.width),u=p(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==t&&(s-=A(n,"left","right")+i),Math.round(u+a)!==r&&(u-=A(n,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var d=Math.round(s+i)-t,l=Math.round(u+a)-r;1!==Math.abs(d)&&(s-=d),1!==Math.abs(l)&&(u-=l)}return _(o.left,o.top,s,u)}var v="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function y(e){return n?v(e)?function(e){var t=e.getBBox();return _(0,0,t.width,t.height)}(e):h(e):f}function _(e,t,r,n){return{x:e,y:t,width:r,height:n}}var E=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=e};E.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},E.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var m=function(e,t){var r,n,o,i,a,s,u,d=(n=(r=t).x,o=r.y,i=r.width,a=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),l(u,{x:n,y:o,width:i,height:a,top:o,right:n+i,bottom:a+o,left:n}),u);l(this,{target:e,contentRect:d})},S=function(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n};S.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new E(e)),this.controller_.addObserver(this),this.controller_.refresh())}},S.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},S.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},S.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},S.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new m(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},S.prototype.clearActive=function(){this.activeObservations_.splice(0)},S.prototype.hasActive=function(){return this.activeObservations_.length>0};var g="undefined"!=typeof WeakMap?new WeakMap:new r,b=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=d.getInstance(),n=new S(t,r,this);g.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){b.prototype[e]=function(){return(t=g.get(this))[e].apply(t,arguments);var t}});var T=void 0!==o.ResizeObserver?o.ResizeObserver:b;t.default=T}).call(this,r(74))},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){void 0===r&&(r=function(e,t){return e===t});var n=e.call(this)||this;return n.checkToEqualFunction=r,n.value=t,n}return o(t,e),t.prototype.getValue=function(){return this.value},t.prototype.dispatch=function(t){this.checkToEqualFunction(this.value,t)||(this.value=t,e.prototype.dispatch.call(this,t))},t}(r(8).Signal);t.ValueSignal=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(142);t.getDocumentVisibility=function(e,t){void 0===t&&(t=!0);var r=n.getDocumentHiddenProperty(e);return r?!e[r]:t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDocumentHiddenProperty=function(e){return"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AdLoaded="AdLoaded",e.AdStarted="AdStarted",e.AdStopped="AdStopped",e.AdSkipped="AdSkipped",e.AdSkippableStateChange="AdSkippableStateChange",e.AdSizeChange="AdSizeChange",e.AdLinearChange="AdLinearChange",e.AdDurationChange="AdDurationChange",e.AdExpandedChange="AdExpandedChange",e.AdRemainingTimeChange="AdRemainingTimeChange",e.AdVolumeChange="AdVolumeChange",e.AdImpression="AdImpression",e.AdVideoStart="AdVideoStart",e.AdVideoFirstQuartile="AdVideoFirstQuartile",e.AdVideoMidpoint="AdVideoMidpoint",e.AdVideoThirdQuartile="AdVideoThirdQuartile",e.AdVideoComplete="AdVideoComplete",e.AdClickThru="AdClickThru",e.AdInteraction="AdInteraction",e.AdUserAcceptInvitation="AdUserAcceptInvitation",e.AdUserMinimize="AdUserMinimize",e.AdUserClose="AdUserClose",e.AdPaused="AdPaused",e.AdPlaying="AdPlaying",e.AdLog="AdLog",e.AdError="AdError",e.AdBufferFull="AdBufferFull",e.AdBufferEmpty="AdBufferEmpty"}(t.VPAIDEventName||(t.VPAIDEventName={})),function(e){e.handshakeVersion="handshakeVersion",e.initAd="initAd",e.startAd="startAd",e.stopAd="stopAd",e.skipAd="skipAd",e.resizeAd="resizeAd",e.pauseAd="pauseAd",e.resumeAd="resumeAd",e.expandAd="expandAd",e.collapseAd="collapseAd",e.subscribe="subscribe",e.unsubscribe="unsubscribe",e.setAdVolume="setAdVolume",e.getAdDuration="getAdDuration",e.getAdRemainingTime="getAdRemainingTime",e.getAdVolume="getAdVolume",e.getAdIcons="getAdIcons",e.getAdExpanded="getAdExpanded",e.getAdHeight="getAdHeight",e.getAdWidth="getAdWidth",e.getAdLinear="getAdLinear",e.getAdSkippableState="getAdSkippableState"}(n=t.VPAIDMethodName||(t.VPAIDMethodName={})),function(e){e.adLinear="adLinear",e.adWidth="adWidth",e.adHeight="adHeight",e.adExpanded="adExpanded",e.adSkippableState="adSkippableState",e.adRemainingTime="adRemainingTime",e.adDuration="adDuration",e.adVolume="adVolume",e.adIcons="adIcons"}(t.VPAIDPropertyName||(t.VPAIDPropertyName={})),t.VPAIDPropertiesMethods={adLinear:n.getAdLinear,adWidth:n.getAdWidth,adHeight:n.getAdHeight,adExpanded:n.getAdExpanded,adSkippableState:n.getAdSkippableState,adRemainingTime:n.getAdRemainingTime,adDuration:n.getAdDuration,adVolume:n.getAdVolume,adIcons:n.getAdIcons},function(e){e.getAdUnitId="getAdUnitId",e._isCreativeReady="_isCreativeReady",e.isImpressionReliable="isImpressionReliable"}(t.VPAIDWorkaroundName||(t.VPAIDWorkaroundName={}))},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(16),s=r(8),u=r(24),d=r(5),l=r(2),c=r(9),f=r(23),p=r(317),A=function(e){function t(t,r){var n=e.call(this)||this;n.adDisplayController=t,n.mediaAd=r,n.onCurrentPositionChange=new s.Signal,n.onDestroy=new s.Signal,n.impressionTrackOffset=0,n.viewability=!1,n.isStarted=!1,n.isPlaying=!1,n.onReady=new s.Signal,n.onImpression=new s.Signal,n.onProgress=new s.Signal,n.onFirstQuartile=new s.Signal,n.onMidpoint=new s.Signal,n.onThirdQuartile=new s.Signal,n.onClickThrough=new s.Signal,n.onStop=new s.Signal,n.isDestroyed=!1;var o=function(){n.isPlaying=!1,n.setViewability(!1)};return n.on(["start","resume"],function(){n.isPlaying=!0,t.slotVisibilitySensor.getVisibility()&&n.setViewability(!0)}).on("pause",o),n.onStop.add(o),t.slotVisibilitySensor.onChangeVisibility(function(e){n.setViewability(e&&n.isPlaying)}),n.onProgress.add(function(){n.trackEvent(d.TrackingEventType.PROGRESS)}),n.onFirstQuartile.add(function(){n.trackEvent(d.TrackingEventType.FIRST_QUARTILE)}),n.onMidpoint.add(function(){n.trackEvent(d.TrackingEventType.MIDPOINT)}),n.onThirdQuartile.add(function(){n.trackEvent(d.TrackingEventType.THIRD_QUARTILE)}),n.onDestroy.add(function(){n.onProgress.removeAll(),n.onFirstQuartile.removeAll(),n.onMidpoint.removeAll(),n.onThirdQuartile.removeAll(),n.resetEventBus()}),n}return o(t,e),t.prototype.trackEvent=function(e){this.adDisplayController.emit("trackEvent",e),this.mediaAd.trackEvent(e,this.adDisplayController.slotVisibilitySensor.getVisibilityRatio(),this.adDisplayController.slotSizeSensor.getSize())},t.prototype.trackError=function(e){this.mediaAd.trackError(e)},t.prototype.clickThrough=function(e){var t=this;void 0===e&&(e={});var r,n=e.playerHandles,o=void 0===n||n,s=this.mediaAd.playbackParams.clickThroughUrl;e.url?r=e.url:s&&(r=s);var A=this.playbackParams,h=A.pauseOnClickThrough,v=A.clickThroughConfirmation,y=this.adDisplayController.config.clickThroughCallback;if(y||r)if(o){r&&(r=f.addAdSDKParamsToUrl(p.addTargetRefParamToUrl(r)));var _=a.once(function(){h&&t.pause(),t.trackEvent(d.TrackingEventType.CLICK_THROUGH),t.onClickThrough.dispatch({adWasPaused:Boolean(h)}),y&&u.LOG_STATS&&l.stats.event(i({},c.AdSDKEvent.ClickThroughCallbackHandle,{data:{clickThroughParams:e,url:r,pauseOnClickThrough:h}}))});if(y)v||_(),y({url:r,onHandle:_}),l.stats.event(i({},c.AdSDKEvent.ClickThroughCallbackCall,{data:{clickThroughParams:e,url:r,pauseOnClickThrough:h}}));else null!==window.open(r,"_blank")&&_()}else this.trackEvent(d.TrackingEventType.CLICK_THROUGH)},t.prototype.setNumRepeats=function(e){this.mediaAd.numRepeats=e},t.prototype.destroy=function(){this.isDestroyed=!0,this.onStop.dispatch(void 0),this.onDestroy.dispatch(void 0)},t.prototype.setViewability=function(e){this.viewability!==e&&(this.viewability=e,this.emit("changeViewability",e))},Object.defineProperty(t.prototype,"playbackParams",{get:function(){return this.mediaAd.playbackParams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentType",{get:function(){return this.mediaAd.contentType},enumerable:!0,configurable:!0}),t}(r(68).EventBus);t.Viewer=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomTrackingEventType={BUFFER_EMPTY:"bufferEmpty",BUFFER_FULL:"bufferFull",ON_CREATIVE_INIT:"onCreativeInit"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(147);t.getFullscreenElement=function(e,t){var r=n.getFullscreenGlobalNames(e,t);if(!r)return null;var o=e.document[r.element];return t&&t[r.element]&&(o=t),o||null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(322);t.getFullscreenGlobalNames=function(e,t){for(var r=e.HTMLVideoElement,o=t||r&&r.prototype||{},i=0;i<n.FULLSCREEN_GLOBAL_NAMES_LIST.length;i++){var a=n.FULLSCREEN_GLOBAL_NAMES_LIST[i];if(a.enabled in e.document||a.enabled in o)return a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.muffleUncaughtErrors=function(e){e&&"function"==typeof e.catch&&e.catch(function(e){})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(148);t.preventPause=function(e,t){var r=e.paused;t(),r||n.muffleUncaughtErrors(e.play())}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AdStarted="AdStarted",e.AdPodStarted="AdPodStarted",e.AdPodImpression="AdPodImpression",e.AdPodVideoFirstQuartile="AdPodVideoFirstQuartile",e.AdPodVideoMidpoint="AdPodVideoMidpoint",e.AdPodVideoThirdQuartile="AdPodVideoThirdQuartile",e.AdStopped="AdStopped",e.AllAdPodVideoComplete="AllAdPodVideoComplete",e.AdPodStopped="AdPodStopped",e.AdSkippableStateChange="AdSkippableStateChange"}(t.AdPlaybackControllerEvent||(t.AdPlaybackControllerEvent={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAdBreaksByType=function(e,t){return e.filter(function(e){return e.adType===t})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callFirstThenOther=function(e,t){var r=!1;return function(){return function(){var n=r?t:e;return r=!0,n.apply(this,arguments)}.apply(this,arguments)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(73),o=r(15),i=r(340);r(352).initModule(o.ModuleBundleName.Multiroll,{AdLoader:n.AdLoader,loadMultiroll:i.loadMultiroll})},function(e,t,r){"use strict";var n,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var d,l=[],c=!1,f=-1;function p(){c&&d&&(c=!1,d.length?l=d.concat(l):f=-1,l.length&&A())}function A(){if(!c){var e=u(p);c=!0;for(var t=l.length;t;){for(d=l,l=[];++f<t;)d&&d[f].run();f=-1,t=l.length}d=null,c=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||c||u(A)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(7),s=r(77),u=r(38),d=r(20),l=r(1),c=r(40),f=r(3),p=r(102),A=r(218),h=r(39),v=r(244);function y(e,t,r){var n=e.vastTimeout,o=e.wrapperMaxCount,i=e.wrapperTimeout;return{vastSourceType:t||r&&f.isAdFoxDomain(r)?"AD_FOX":r&&f.isYandexDomain(r)?"YANDEX":"EXTERNAL",vastTimeout:n,ignoreVastVersion:!1,wrapperMaxCount:o,wrapperTimeout:i}}function _(e,t){var r=t.adType,s=e.adFoxUrlVast,u=function(e,t){var r;return t===d.AdBreakType.midroll&&e.adFoxUrlMidRoll?r=e.adFoxUrlMidRoll:t===d.AdBreakType.pauseroll&&e.adFoxUrlPauseRoll?r=e.adFoxUrlPauseRoll:t===d.AdBreakType.postroll&&e.adFoxUrlPostRoll?r=e.adFoxUrlPostRoll:e.adFoxUrl&&(r=e.adFoxUrl),r?a.getParamsFromUrl(r).fmt?r:a.addParamsToUrl(r,{fmt:"1"}):void 0}(e,r);function l(){return o(this,void 0,n,function(){var r,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),(r=e.vast)?[4,v.VAST.fromXMLString(r,y(t,!1))]:[3,2];case 1:return[2,i.sent()];case 2:return n=e.vastUrl?e.vastUrl:p.getAdTagURI(e,t,Math.random()),[4,v.VAST.load(n,y(t,!1,n))];case 3:return[2,i.sent()];case 4:return[3,6];case 5:throw o=i.sent(),c.trackError(o),o;case 6:return[2]}})})}return Boolean(u||s)?(s?v.VAST.fromXMLString(s,y(t,!0)):u?v.VAST.load(p.getWrapperAdTagURI(u),y(t,!0,u)):n.reject(new Error("AdSDK Error: AdManager: bad condition: adFoxUrl and adFoxVastString"))).catch(function(e){return c.trackError(e),l()}):l()}t.loadAd=function(e,t){return o(this,void 0,n,function(){var r,n,o,a,d;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,_(e,t)];case 1:return r=i.sent(),[3,3];case 2:throw(n=i.sent()).details||(n.details={}),n.details.adConfig=e,n;case 3:if(o=r.ads.map(function(e){return e.vast=r,new A.MediaAd(t,e)}),a=new h.MediaAds(o),0===(d=u.filterLimitsSatisfyingAdPods(a,new s.AdBreakLimiter(t))).mediaAds.length)throw new l.AdSDKError({code:l.AdSDKErrorCodes.NO_AD_SECTION,details:void 0});if(a.hasMedia())return[2,d];throw new l.AdSDKError({code:l.AdSDKErrorCodes.NO_AD_TO_DISPLAY,details:void 0})}})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.cache=e}return e.prototype.get=function(e){return this.cache[e]},e.prototype.has=function(e){return e in this.cache},e.prototype.set=function(e,t){this.cache[e]=t},e}();t.ObjectCache=n,t.memoize=function(e,t,r){return void 0===t&&(t=function(e){return e}),void 0===r&&(r=new n({})),function(){var n=t.apply(this,arguments);if(r.has(n))return r.get(n);var o=e.apply(this,arguments);return r.set(n,o),o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_LIMITATION_DISABLED=!0},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(159);t.getFirstDefined=function(e){return n(o.filter(e,function(e){return void 0!==e}),1)[0]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,r){for(var n=[],o=0;o<e.length;o++){var i=e[o];t.call(r,i,o,e)&&n.push(i)}return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0}},function(e,t,r){"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e})},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(75);t.callFunctions=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.isArray(e)&&e.forEach(function(e){"function"==typeof e&&e.apply(void 0,o(t))})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(164).getCurrentScript();t.CURRENT_SCRIPT_SRC=n?n.src:""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentScript=function(e,t){void 0===e&&(e=document);var r=e.currentScript;if(r)return r;for(var n=e.getElementsByTagName("script"),o=[],i=0;i<n.length;i++)o.push(n[i]);if("function"==typeof t){var a=o.filter(t);return a[a.length-1]}return o[o.length-1]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(83);t.getTopLocationData=function(e){var t="",r="";return e&&n.getParentLocationsData(e).reverse().forEach(function(e){var n=e.location,o=e.referrer;t=t||n,r=r||o}),{location:t,referrer:r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),o=r(85);t.getIsSafari=function(e){void 0===e&&(e=window);var t=n.getUserAgent(e).toLowerCase();return-1!==t.indexOf("safari")&&-1===t.indexOf("chrome")&&-1===t.indexOf("android")&&-1===t.indexOf("phantomjs")&&!o.getIsTizen(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(87),o=r(45);t.isInSecureIFrame=function(){var e=n.map(o.parentFriendlyIFrames,function(e){return e.ownerDocument}),t=e.length,r=(t?e[t-1]:document).defaultView;return!!r&&r.self!==r.parent}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RANDOM=Math.random()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(170).isNativeSendBeaconSupported(window);t.sendBeaconShim=function(e,t){return!!n&&window.navigator.sendBeacon(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18);t.isNativeSendBeaconSupported=function(e){return n.checkNativeCode(e.navigator.sendBeacon)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMON_LOCAL_STATS_SERVICE_NAME="CommonPcode"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SID_LENGTH=64},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PCODE_LOGS_URL="https://an.yandex.ru/jstracer",t.PCODE_LOGS_URL_ALIAS="https://jstracer.yandex.ru/jstracer"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATS_GLOBAL_CALLBACK_PROPERTY_NAME="YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.event="event",e.error="error",e.deprecated="deprecated",e.warning="warning",e.value="value",e.values="values"}(t.StatsEventType||(t.StatsEventType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(44);t.SID=n.generateHexString(64)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SOLOMON_SERVICE_NAME="AdSDKJS"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),o=r(15),i=[o.LoaderBundleName.InteractiveViewerLoader,o.ModuleBundleName.InteractiveViewer];t.IS_INTERACTIVE_VIEWER_BUNDLE=i.indexOf(n.WEBPACK_BUNDLE_NAME)>-1},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(180),i=r(43),a=r(42),s=["com.yandex.mobile.metrica.sdk","com.yandex.mobile.metrica.ads.sdk"];t.isUserAgentMatching=function(e){void 0===e&&(e=window);var t=a.getUserAgent(e);return o.some(s,function(e){return 0===t.indexOf(e)})},t.isYmadsVideoCtx=function(e){return e.OS_NAME_FROM_NANPU&&e.ADSDK_VERSION_FROM_NANPU},t.isNanpuVideoTemplate=function(e){void 0===e&&(e=window);try{var t=e.document,r=Boolean(t.querySelector("canvas#c.blur")),n=Boolean(t.querySelector("div#video"));return r&&n}catch(e){return!1}},t.hasMraidWithPrivateAPI=function(e){void 0===e&&(e=window);try{var t=e.mraid;return Boolean(t)&&Boolean(t.__PRIV__)&&"object"===n(t.__PRIV__)}catch(e){}return!1},t.isYaMraid=function(e){void 0===e&&(e=window);var r=i.getWindowChain(e);return o.some(r,t.isUserAgentMatching)||o.some(r,t.isNanpuVideoTemplate)||o.some(r,t.hasMraidWithPrivateAPI)||o.some(r,t.isYmadsVideoCtx)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.some=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r,e))return!0;return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryCatch=function(e,t){try{return e()}catch(e){"function"==typeof t&&t(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBundleVersion=function(e){for(var t=100*Math.random(),r=0,n=0;n<e.length;n++)if(t<(r+=e[n].percent))return e[n].id;return e[0].id}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=r(92),a=r(87),s=r(184),u=r(49),d=function(){function e(e){void 0===e&&(e={}),this.props={},this.setProps(n({},this.defaults(),e))}return e.sliceBits=function(e,t,r){return s.sliceBits(e,t,r)},e.prototype.defaults=function(){return{}},e.prototype.toString=function(){return this.serialize().toString()},e.prototype.setProps=function(e){var t=this;return u(e)&&i.forEach(this.getTemplate(),function(r){var n=o(r,2)[1];n&&e.hasOwnProperty(n)&&(t.props[n]=e[n])},this),this},e.prototype.getProps=function(){return n({},this.props)},e.prototype.clone=function(){return new(0,this.constructor)(this.props)},e.prototype.serialize=function(){var e,t,r=(e=this.getTemplate(),t=this.props,a.map(e,function(e){var r=o(e,2),n=r[0],i=r[1];return[n,i&&t[i]||null]}));return s.joinBits(r)},e.prototype.slice=function(t,r){return e.sliceBits(this.serialize(),t,r)},e}();t.AbstractTesttag=d},function(e,t,r){"use strict";var n=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=r(185);function a(e,t){return s(function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2),t)}function s(e,t){return i.padLeft(e,t,"0")}t.joinBits=function(e){var t,r,i=[];try{for(var s=n(e),u=s.next();!u.done;u=s.next()){var d=o(u.value,2),l=d[0],c=a(d[1],l);i.push(c)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal:  53    -  ,     "+e.length+" .");return parseInt(e,2)}(i.reverse().join(""))},t.sliceBits=function(e,t,r){var n=t+r,o=s(e.toString(2),n).substr(-n,r);return parseInt(o,2)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padLeft=function(e,t,r){void 0===r&&(r=" ");var n=t-e.length;if(n>0){for(var o=r;o.length<n;)o+=o;return(o.length>n?o.substr(0,n):o)+e}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(93);t.knockEach=function(e){return Array.isArray(e)?e.map(n.knock):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),o=r(95),i=r(188),a=r(97),s=n.once(function(){return i.getCrossFrameDataSource(self,"Ya.pcodeCrossFrameData",function(){return new a.ObjectStorage({})})});t.getCrossFrameStorage=function(e){return o.getOrCreateItem(s(),e,function(){return new a.ObjectStorage({})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(189),o=r(96),i=r(51),a=r(52),s=r(53);t.getCrossFrameDataSource=function(e,t,r){var u;return n.traverseBreadth([e.top],function(e){if(!(u=s.callSafe(function(){return i.get(e,t)})))return s.callSafe(function(){return o.listToArray(e.frames)})||[]}),u||(u=r()),a.set(e,t,u),u}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.traverseBreadth=function(e,t){for(var r=e.slice();r.length;){var n=t(r.shift());if(!n)return;r.push.apply(r,o(n))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e||"[object Function]"==={}.toString.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),o=r(95),i=r(97),a=r(192),s=n.once(function(){return a.getWindowDataSource(self,"Ya.pcodeWindowData",function(){return new i.ObjectStorage({})})});t.getWindowStorage=function(e){return o.getOrCreateItem(s(),e,function(){return new i.ObjectStorage({})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(51),o=r(52);t.getWindowDataSource=function(e,t,r){var i=n.get(e,t);return i||(i=r(),o.set(e,t,i)),i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(53),o=r(194);t.metrikaAdSessionLabel="adSessionID",t.configureMetrika=n.protect("sessionId::configureMetrika",function(e,r){var n;o.pushMetrikaEvent(e,((n={})[t.metrikaAdSessionLabel]=r,n))})},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(51),i=r(52),a=r(53);t.pushMetrikaEvent=a.protect("metrika::pushEvent",function(e,t){var r=o.get(e,"Ya._metrika.dataLayer")||[];i.set(e,"Ya._metrika.dataLayer",r),r.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:n({},t)}}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateSessionId=function(){return(1e6*Math.random()).toFixed(0)+(new Date).valueOf().toString()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getSession=function(e,t,r,n){var o=t.getItem("sessionId");return o||(o=r.getItem("sessionId")||e(),n(window,o)),t.setItem("sessionId",o),r.setItem("sessionId",o),o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(198),o=r(199);t.config=o.M;var i="string"!=typeof t.config&&t.config&&t.config.fn&&"function"==typeof t.config.fn.encodeUrl?t.config.fn.encodeUrl:void 0;t.encodeUrl=void 0!==i?function(e){return i(e,n.base64)}:void 0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(98);t.base64={addEquals:n.addEquals,decode:n.decode,decodeUInt8String:n.decodeUInt8String,encode:n.encode,encodeUInt8String:n.encodeUInt8String}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.M="__ADB_CONFIG__"},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(201);t.loadScript=function(e){return new n(function(t,r){i.loadScript(o({},e,{onLoad:t,onError:r}))})}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(82),i=r(25),a=r(4),s=r(202);t.loadScript=function(e){var t=e.win,r=void 0===t?window:t,u=e.src,d=e.retries,l=void 0===d?0:d,c=e.onError,f=void 0===c?a.noop:c,p=new i.CustomError({id:o.CommonError.LOAD_SCRIPT_ERROR,message:"Failed to load script ["+u+"]",details:{src:u,isSelfWindow:r===window,onBeforeLoad:Boolean(e.onBeforeLoad),retries:l}});s.loadScriptLite(n({},e,{win:r,onError:function(){return f(p)}}))}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(99),i=r(4),a=r(10),s=r(203),u=r(206),d=function(e){return!0};t.loadScriptLite=function(e){var t=e.dropCacheOnRetry,r=void 0!==t&&t,l=e.onBeforeLoad,c=void 0===l?i.noop:l,f=e.retries,p=void 0===f?0:f;if(!e.checkLoad||!e.checkLoad()){var A=c,h=0;return r&&p>0&&(A=function(e){if(c(e),h>0){var t=-1===e.src.indexOf("?")?"?":"&",r=s.getRandomString(4);e.src+=t+r}h++}),function e(t){var r=t.src,s=t.win,l=t.charset,c=void 0===l?u.CHARSET_UTF_8:l,f=t.async,p=void 0===f||f,A=t.retries,h=void 0===A?0:A,v=t.onRetry,y=void 0===v?i.noop:v,_=t.retryDelay,E=void 0===_?0:_,m=t.checkLoad,S=void 0===m?d:m,g=t.onBeforeLoad,b=void 0===g?i.noop:g,T=t.onLoad,O=void 0===T?i.noop:T,P=t.onError,w=void 0===P?i.noop:P,I=s||window,D=I.document.createElement("script"),R=function(o){h>0?(y(o),e(n({},t,{src:r,retries:h-1}))):w(o),a.removeNodeFromParent(D)};D.type="text/javascript",D.async=p,D.onload=function(){return S(D)?O():R(new Error("checkLoad for "+r+" failed"))},D.onerror=function(e){I.setTimeout(function(){R(e)},E)},D.src=r,D.charset=c,b(D),o.getHead(I).appendChild(D)}(n({},e,{onBeforeLoad:A}))}e.onLoad&&e.onLoad()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(204);t.getRandomString=function(e){for(var t=[],r=0;r<e;r++)t.push(n.getRandomChar());return t.join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(205);t.getRandomChar=function(e,t){void 0===e&&(e="a"),void 0===t&&(t="z");var r=n.getRandomInt(e.charCodeAt(0),t.charCodeAt(0));return String.fromCharCode(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomInt=function(e,t){var r=e+Math.random()*(t+1-e);return r=Math.floor(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHARSET_UTF_8="utf-8"},function(e,t,r){"use strict";Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(o,t,i,r))return t})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);t.SDK_VERSION="1.0-"+n.BUILD_VERSION},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(27),o=r(210),i=r(12),a=r(1),s=r(2),u=r(211),d=r(5),l=r(212);function c(e,t){void 0===t&&(t=i.BUNDLES_VERSION);var r=d.yandexGlobalObject.videoAd.modules[t];return r?r[e]:void 0}t.loadModule=function(e){var t=e.moduleName,r=e.version,i=e.onSuccess,f=e.onError,p=u.protectAdSDKCallback(i,a.AdSDKErrorCodes.LOAD_MODULE_CALLBACK_ERROR),A=u.protectAdSDKCallback(f,a.AdSDKErrorCodes.LOAD_MODULE_CALLBACK_ERROR),h=c(t,r);if(h)p(h);else{var v=d.yandexGlobalObject.videoAd.encodeUrl,y=l.getBundlesPath(r)+"bundles/"+o.MODULES_BUNDLES_FILE_NAMES[t]+".bundle.js",_="function"==typeof v?v(y):y;n.loadScript({src:_}).then(function(){var e=c(t,r);e?p(e):A(new a.AdSDKError({code:a.AdSDKErrorCodes.CANNOT_INIT_MODULE,details:{moduleName:t,version:r}}))}).catch(function(e){var n=new a.AdSDKError(e,{code:a.AdSDKErrorCodes.CANNOT_LOAD_MODULE,details:{moduleName:t,version:r}});s.stats.errorToStats(n),A(n)})}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var o=r(15);t.MODULES_BUNDLES_FILE_NAMES=((n={})[o.ModuleBundleName.AdSDK]="adsdk",n[o.ModuleBundleName.InPage]="inpage",n[o.ModuleBundleName.BannerAd]="banner_ad",n[o.ModuleBundleName.VideoPlayer]="video_player",n[o.ModuleBundleName.AdLoader]="loader",n[o.ModuleBundleName.VideoBannerAd]="videobannerad",n[o.ModuleBundleName.Multiroll]="multiroll",n[o.ModuleBundleName.InteractiveViewer]="interactive_viewer",n)},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(55),a=r(1),s=r(2);t.protectAdSDKCallback=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{e.apply(void 0,o(r))}catch(e){s.stats.error({error:new a.AdSDKError(e,{code:t})}),i.rethrowError(e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(213),o=r(47),i=r(48),a=r(100),s=r(12),u=r(14);t.getBundlesPath=function(e){void 0===e&&(e=s.BUNDLES_VERSION);var t=o.getHardcodedParam(window,i.HARDCODED_BUNDLES_PATH);return t&&n.isValidBundleUrl(t)?t:u.WEBPACK_BUNDLES_PATH||"https://"+a.STATIC_DOMAIN+"/awaps-ad-sdk-js-bundles/1.0-"+e+"/"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp(["https?://","(\\w+\\.)?","(?:","(?:yandex|yastatic|yandex-team|yastat)\\.","(?:ru|net)\\/","|","localhost\\/",")",".*"].join(""),"i");t.isValidBundleUrl=function(e){return n.test(e.trim())}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(26),i=r(7),a=r(57),s=r(215),u=r(23),d=r(105),l=r(3),c=r(217);function f(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}t.addParamsToAdTagURI=function(e,t,r){var p=e.targetRef,A=e.width,h=e.height,v=e.videoContentId,y=e.videoContentName,_=e.videoPublisherId,E=e.videoPublisherName,m=e.videoGenreId,S=e.videoGenreName,g=e.musicArtistId,b=e.tagsList,T=e.extParam,O=e.charset,P=e.playerInfo,w=e.distrId,I=e.additionalParams,D=t.adTagURI,R=t.sessionId;return l.isTrueYandexDomain(D)?u.addAdSDKParamsToUrl(i.addParamsToUrl(D,n({},a.extractAdditionalParams(I),{"repeat-number":c.isMidrollAdBreak(t)?String(t.repeatNumber):void 0,wtime:c.isMidrollAdBreak(t)?String(Math.floor(t.timeOffset)):void 0,"target-ref":p||o.getWindowLocation(window),"page-ref":window.document.referrer,"video-width":A,"video-height":h,"video-content-id":v,"video-content-name":y,"video-publisher-id":_,"video-publisher-name":E,"video-genre-id":f(m),"video-genre-name":f(S),music_artist_id:g,"tags-list":f(b),"ext-param":T,charset:O||"UTF-8","video-session-id":R,"skip-token":d.SkipToken.toBase64(),"distr-id":w,"enable-page-options":s.ENABLE_PAGE_OPTIONS,rnd:String(r)})),P):D}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENABLE_PAGE_OPTIONS="65536"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(98);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMidrollAdBreak=function(e){return"number"==typeof e.repeatNumber}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var u=r(22),d=r(219),l=r(222),c=r(107),f=r(7),p=r(229),A=r(237),h=r(24),v=r(32),y=r(1),_=r(2),E=r(9),m=r(33),S=r(93),g=r(238),b=r(239),T=r(40),O=r(56),P=r(3),w=r(113),I=r(243),D=["image/jpeg","image/gif","image/png"],R=function(){function e(e,t){this.adBreak=e,this.vastAd=t,this.startsCount=0,this.numRepeats=1,this.duration=0,this.preloaders=[],this._isPreloaded=!1,this.numRepeats=t.numRepeats,this.imageSources=t.mediaFiles.filter(function(e){return D.indexOf(e.type)>-1}).sort(function(e,t){return D.indexOf(e.type)-D.indexOf(t.type)}),this.icons=t.icons.map(function(e){return I.Icon.fromVastIcon(e)});var r=t.clickThrough;this.playbackParams={isClickable:t.isClickable&&Boolean(r),title:e.title,description:t.description,showTimeLeft:e.timeLeftShow,showSoundButton:!0,showGuiForVpaid:!1,showSkipButton:!0,showTitle:!0,backgroundBlur:t.backgroundBlur,videoTimeout:e.videoTimeout,vpaidTimeout:e.vpaidTimeout,bufferFullTimeout:e.bufferFullTimeout,bufferEmptyLimit:e.bufferEmptyLimit,progressOffset:t.progressOffset,visitSiteShow:e.visitSiteShow,autoplay:!0,skipDelay:0,pauseAllowed:!1,pauseOnClickThrough:!0,clickThroughUrl:r,clickThroughConfirmation:void 0},isNaN(t.skipOffset)?t.mediaFiles.length>0&&e.skipDelay:isNaN(t.skipTime)?this.playbackParams.skipDelay=0===e.skipDelay?t.skipOffset:Math.min(e.skipDelay,t.skipOffset):this.playbackParams.skipDelay=t.skipTime,isNaN(t.duration)||(this.duration=t.duration),t.imhoParams&&(this.playbackParams.showGuiForVpaid=!0,this.playbackParams.showTimeLeft=t.imhoParams.showCountDown,t.imhoParams.showLabel||(this.playbackParams.title=""),this.playbackParams.showSoundButton=t.imhoParams.showSoundButton,t.imhoParams.resetSkipDelay&&(this.playbackParams.skipDelay=0))}return e.prototype.clone=function(){return new e(this.adBreak,this.vastAd.clone())},e.prototype.trackError=function(e){T.trackError(e,this.vastAd.trackingEvents.error)},e.prototype.trackEvent=function(e,t,r){"number"==typeof t&&u.isObject(r)||(_.stats.error({error:new y.AdSDKError({code:y.AdSDKErrorCodes.WRONG_ARGUMENTS_IN_MEDIA_AD_TRACK_EVENT,details:{visibility:t,stringVisibility:String(t),size:r,stringSize:String(r)}})}),"number"!=typeof t&&(t=0),u.isObject(r)||(r={width:0,height:0})),P.log("Track event ==> ",e);var n=this.vastAd.trackingEvents[e];return h.LOG_STATS&&_.stats.eventToStats(E.AdSDKEvent.VastTracking.name+"_"+e,{eventName:e,trackingUrls:n,visibility:t,size:r}),Array.isArray(n)?n.map(function(e){return b.replaceTrackingMacros(e,{visibility:t,size:r})}).filter(O.isAbsoluteUrl).map(S.knock):[]},e.prototype.hasMedia=function(){var e=this.vastAd.mediaFiles;return Boolean(e&&e.length>0)},e.prototype.isNotReplacedBroadcastAd=function(){return this.vastAd.isNotReplacedBroadcastAd},e.prototype.getUploadedVastList=function(){return this.vastAd.vast?this.vastAd.vast.getUploadedVastList():[]},e.prototype.cancelPreloading=function(){this.preloaders.forEach(function(e){return e.destroy()}),this.preloaders=[]},e.prototype.isPreloaded=function(){return this._isPreloaded},e.prototype.preload=function(e){var t=this;return void 0===this.preloadPromise&&(this.preloadPromise=this.preloadInternal(e).then(function(){t._isPreloaded=!0})),this.preloadPromise},e.prototype.getIfIsRequiredHtmlControls=function(){return this.vastAd.adSystem===A.CPC_AD_SYSTEM},e.prototype.getJSMediaFile=function(){return this.vastAd.mediaFiles.find(function(e){return w.getAdMediaFileContentType(e)===m.AdContentType.js})},e.prototype.getIsIndependentOnVideoElement=function(){var e=this.getJSMediaFile();if(!e)return!1;if("vpaid-motion.js"===f.getFileName(e.url)&&P.isYandexDomain(e.url)){if(void 0===this.vastAd.isIndependentOnVideoElement)return _.stats.event(o({},E.AdSDKEvent.MotionWithoutExtensionIsIndependentOnVideoElement,{data:void 0})),!0;if(!this.vastAd.isIndependentOnVideoElement)return _.stats.event(o({},E.AdSDKEvent.MotionWithExtensionIsIndependentOnVideoElementFalseValue,{data:void 0})),!0}return void 0!==this.vastAd.isIndependentOnVideoElement&&this.vastAd.isIndependentOnVideoElement},e.prototype.preloadInternal=function(e){return i(this,void 0,n,function(){var t,r,n,o,i;return a(this,function(a){switch(a.label){case 0:t=g.parsePreloadParams(e),r=t.preloadJS,n=t.preloadVideo,a.label=1;case 1:return a.trys.push([1,7,,8]),r&&this.contentType===m.AdContentType.js?[4,this.preloadJS(t)]:[3,3];case 2:return a.sent(),[3,5];case 3:return n&&this.contentType===m.AdContentType.video?[4,this.preloadVideo(t)]:[3,5];case 4:a.sent(),a.label=5;case 5:return[4,(o=new l.MultiplePreloader(this.preloaders)).readyPromise];case 6:return a.sent(),[3,8];case 7:return i=a.sent(),o&&o.destroy(),P.logError(i),_.stats.errorToStats(new y.AdSDKError(i,{code:y.AdSDKErrorCodes.PRELOAD_ERROR})),[3,8];case 8:return[2]}})})},e.prototype.preloadJS=function(e){return i(this,void 0,n,function(){var t,r,u=this;return a(this,function(l){switch(l.label){case 0:return e.preloadTimeout,t=s(e,["preloadTimeout"]),r=this.vastAd.mediaFiles.filter(function(e){return w.getAdMediaFileContentType(e)===m.AdContentType.js}).map(function(e){var r=e.url;return i(u,void 0,void 0,function(){var e,n,i,s;return a(this,function(a){switch(a.label){case 0:return e=new d.JSPreloader(r),this.preloaders.push(e),[4,e.readyPromise];case 1:return a.sent(),(n=e.getWindow())&&n.Ya&&"function"==typeof n.Ya.preloadVPAIDAd?(i=n.Ya.preloadVPAIDAd(o({},t,{creativeData:{AdParameters:this.vastAd.adParameters}})),this.preloaders.push(i),[4,i.readyPromise]):[2];case 2:return s=a.sent(),this.vastAd.adParameters=s.AdParameters,[2]}})})}),[4,n.all(r)];case 1:return l.sent(),[2]}})})},e.prototype.preloadVideo=function(e){var t=e.width,r=e.height,o=e.desiredBitrate;return i(this,void 0,n,function(){var e,n,i;return a(this,function(a){switch(a.label){case 0:return(e=p.getMediaFileByBitrateAndSize({mediaFiles:this.vastAd.mediaFiles,size:{clientWidth:t,clientHeight:r},desiredBitrate:o,forPreloading:!0}))?(n=new c.VideoPreloader(e),this.preloaders.push(n),[4,n.readyPromise]):[2];case 1:return i=a.sent(),this.vastAd.mediaFiles=[i],[2]}})})},Object.defineProperty(e.prototype,"sources",{get:function(){return _.stats.warning({name:"UsingSourcesParameterOfMediaAd",message:"AdSDK Warning: MediaAd.sources parameter is deprecated. ad-sdk-js-dev@yandex-team.ru"}),this.vastAd.mediaFiles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clickThroughUrl",{get:function(){return _.stats.warning({name:"UsingClickThroughUrlParameterOfMediaAd",message:"AdSDK Warning: MediaAd.clickThroughUrl parameter is deprecated. ad-sdk-js-dev@yandex-team.ru"}),this.playbackParams.clickThroughUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){var e={vpaid:[],video:[],swf:[]};return this.vastAd.mediaFiles.forEach(function(t){var r=w.getAdMediaFileContentType(t);if(t.apiFramework===v.VPAID_API_FRAMEWORK)if(r===m.AdContentType.js)e.vpaid.push(t);else{if(r!==m.AdContentType.flash)throw new Error("AdSDKJS Error: unexpected mediaFile vpaid type: "+r);e.swf.push(t)}else e.video.push(t)}),e.vpaid.length?m.AdContentType.js:e.video.length?m.AdContentType.video:m.AdContentType.flash},enumerable:!0,configurable:!0}),e}();t.MediaAd=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(220),o=r(221),i=r(27),a=function(){function e(e,t){void 0===t&&(t=document.body);var r=this;this.ready=!1,this.iframe=n.createHiddenFriendlyIFrame(t),this.readyPromise=i.loadScript({src:e,win:this.getWindow()}).then(function(){return r.ready=!0,e})}return e.prototype.isReady=function(){return this.ready},e.prototype.destroy=function(){this.iframe&&(o.removeIframe(this.iframe),this.iframe=null)},e.prototype.getWindow=function(){return null===this.iframe?null:this.iframe.contentWindow},e}();t.JSPreloader=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(106);t.createHiddenFriendlyIFrame=function(e){var t=n.createFriendlyIFrame(e);return t.width="0",t.height="0",t.style.position="absolute",t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10);t.removeIframe=function(e){e.src="",n.removeNodeFromParent(e)}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){void 0===t&&(t=function(e){return n.all(e.map(function(e){return e.readyPromise}))}(e)),this.preloaders=e,this.readyPromise=t}return e.prototype.isReady=function(){return this.preloaders.reduce(function(e,t){return e&&t.isReady()},!0)},e.prototype.destroy=function(){this.preloaders.forEach(function(e){return e.destroy()})},e}();t.MultiplePreloader=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(224);t.getInternetExplorerVersion=function(e){void 0===e&&(e=window);var t=n(e);return"boolean"==typeof t?-1:t}},function(e,t,r){"use strict";e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,r=t.indexOf("MSIE ");if(r>0)return parseInt(t.substring(r+5,t.indexOf(".",r)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var o=t.indexOf("Edge/");return o>0&&parseInt(t.substring(o+5,t.indexOf(".",o)),10)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(85);t.isTizen=n.getIsTizen()},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(88);t.request=function(e){return new n(function(t,r){i.request(o({},e,{onSuccess:t,onError:r}))})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isString=function(e){return"string"==typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APPLE_HLS_VIDEO_TYPE="application/vnd.apple.mpegurl",t.X_MPEG_URL_HLS_VIDEO_TYPE="application/x-mpegurl",t.HLS_VIDEO_TYPES=[t.APPLE_HLS_VIDEO_TYPE,t.X_MPEG_URL_HLS_VIDEO_TYPE]},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(230),a=r(231),s=r(233),u=r(110),d=r(111),l=r(107),c=r(7),f=r(60),p=r(59),A=r(235),h=1.5,v=1.25,y=50,_=2;function E(e){var t=e.width,r=e.height;return d.hypot(t,r)}t.getMediaFileByBitrateAndSize=function(e){var t=e.mediaFiles,r=e.size,n=r.clientWidth,d=r.clientHeight,m=e.forPreloading,S=void 0!==m&&m,g=e.desiredBitrate,b=void 0===g?NaN:g;b>0||(b=f.calculateApproximateBitrate(e.size));var T=function(e){return-1!==c.parseUrl(e).hostname.indexOf("proxy.video.yandex.net")},O=t.every(function(e){var t=e.url;return T(t)}),P=u.getDevicePixelRatio(),w=t.filter(function(e){var t=e.type,r=e.url;return S?p.canPlayType(t)&&l.VideoPreloader.canPreload(t)&&(!!O||!T(r)):p.canPlayType(t)}),I=s.find(w,function(e){return!!A.isHlsMediaFileWithUnsetValues(e)||!!(A.isAdaptiveMediaFile(e)&&e.minBitrate<=b&&b<=e.maxBitrate)});if(void 0!==I&&!S)return I;var D=w.filter(function(e){var t=e.width,r=e.height,o=e.bitrate,i=e.type;return t<=n*P*h&&r<=d*P*h&&"number"==typeof o&&o*("video/ogg"===i?_:1)<=b*v}),R=Math.max.apply(Math,o(D.map(E))),C=D.filter(function(e){return i.areFloatsEqual(E(e),R,y)}),M=a.getMinByFeature(C,function(e){return e.bitrate}),N=a.getMinByFeature(w,function(e){return e.bitrate});return M||N}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EPSILON=Number.EPSILON||Math.pow(2,-52),t.areFloatsEqual=function(e,r,n){return void 0===n&&(n=t.EPSILON),Math.abs(e-r)<=n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(232);t.getMinByFeature=function(e,t){return n.chooseArrayItemByFeature(e,t,function(e,t){return e-t})}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.chooseArrayItemByFeature=function(e,t,r){if(!(e.length<1)){for(var o=n(e,1)[0],i=t(o),a=1;a<e.length;a++){var s=e[a],u=t(s);r(u,i)<0&&(o=s,i=u)}return o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),o=[].find;t.find=n.checkNativeCode(o)?function(e,t){return o.call(e,t)}:function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(t(n,r,e))return n}}},function(e,t,r){"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(n||(n={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(o||(o={})),t.getDownlink=function(){var e=navigator.connection,t=void 0===e?{}:e;if("number"==typeof t.downlink)return t.downlink;if("number"==typeof t.downlinkMax)return t.downlinkMax;if("string"==typeof t.type||"number"==typeof t.type)switch(t.type){case o.BLUETOOTH:return 3;case n.CELL_2G:return.384;case n.CELL_3G:case o.CELLULAR:return 2;case o.WIMAX:return 37;case o.NONE:return 0;case n.ETHERNET:case o.ETHERNET:case n.WIFI:case o.WIFI:case o.MIXED:return 10;case n.UNKNOWN:case o.UNKNOWN:case o.OTHER:}return-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(236),o=r(109);function i(e){return"number"==typeof e&&e>0}var a=["bitrate","minBitrate","maxBitrate","width","height"];t.isHlsMediaFileWithUnsetValues=function(e){return o.isHlsMediaFileType(e.type)&&n.every(a,function(t){return!i(e[t])})},t.isAdaptiveMediaFile=function(e){var t=e.minBitrate,r=e.maxBitrate;return i(t)&&i(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.every=function(e,t){for(var r=0;r<e.length;r++)if(!t(e[r],r,e))return!1;return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CPC_AD_SYSTEM="Yabs Ad Server"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34),o=r(60),i=r(61);t.parsePreloadParams=function(e){var t=e.videoSlot,r=e.viewMode,a=void 0===r?n.VPAIDViewMode.NORMAL:r,s=e.preloadJS,u=void 0===s||s,d=e.preloadVideo,l=void 0===d||d,c=e.width,f=void 0===c?t.clientWidth:c,p=e.height,A=void 0===p?t.clientHeight:p,h={clientWidth:f,clientHeight:A},v=e.desiredBitrate,y=void 0===v?o.calculateApproximateBitrate(h):v,_=e.preloadTimeout;return("number"!=typeof _||_>i.MAX_TIMEOUT_VALUE)&&(_=i.MAX_TIMEOUT_VALUE),{preloadTimeout:_,width:f,height:A,desiredBitrate:y,viewMode:a,videoSlot:t,preloadJS:u,preloadVideo:l}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(240);t.replaceTrackingMacros=function(e,t){var r=t.visibility,o=t.size,i=o.width,a=o.height,s=Math.round(100*r);return n.replaceMacros(e,{ad_container_width:String(Math.round(i)),ad_container_height:String(Math.round(a)),ad_container_visibility:String(s)})}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(46);t.replaceMacros=function(e,t){var r=e;return o.getObjectEntries(t).forEach(function(e){var t=n(e,2),o=t[0],i=t[1];if(void 0!==i){var a="{{"+o+"}}";if(i!==a)for(;r.indexOf(a)>-1;)r=r.replace(a,i)}}),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLASH_VPAID_MEDIA_FILE_TYPE="application/x-shockwave-flash"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JS_VPAID_MEDIA_FILE_TYPES=["application/javascript","application/x-javascript"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.x=NaN,this.y=NaN,this.width=NaN,this.height=NaN}return e.fromVastIcon=function(t){var r=new e;return r.src=t.src,r.type=t.program,r.x=t.xPosition,r.y=t.yPosition,r.width=t.width,r.height=t.height,r},e}();t.Icon=n},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(114),u=r(17),d=r(245),l=r(1),c=r(2),f=r(9),p=r(246),A=r(115),h=r(247),v=r(102),y=r(248),_=["2.0","3.0"],E=function(){function e(e){if(this.ads=e,this.childs=[],!Array.isArray(e))throw new l.AdSDKError({code:l.AdSDKErrorCodes.INVALID_VAST_CONSTRUCTOR_PARAMS,details:void 0})}return e.load=function(t,r){return t?e.loadInternal(t,o({},r)):n.reject(new l.AdSDKError({code:l.AdSDKErrorCodes.VAST_URL_IS_NOT_DEFINED,details:void 0}))},e.fromXMLString=function(t,r){return i(this,void 0,n,function(){var n;return a(this,function(i){return n=h.stringToXML(t),[2,e.fromXml(n,t,o({},r))]})})},e.loadInternal=function(t,r){var i=r.vastTimeout;return c.stats.event(o({},f.AdSDKEvent.VastLoadStart,{data:{url:t,parsingParameters:r,timeout:i}})),A.loadXML(t,null,i).then(function(n){var a=n.xml,s=n.responseText;return c.stats.event(o({},f.AdSDKEvent.VastLoadSuccess,{data:{url:t,xml:a?(new XMLSerializer).serializeToString(a):a,timeout:i}})),e.fromXml(a,s,o({},r))}).catch(function(e){if(e.isTimeoutError){var o=new l.AdSDKError({code:l.AdSDKErrorCodes.VAST_LOAD_TIMEOUT,details:{vastTimeout:i,url:t}});return n.reject(o)}var a=e.code;return e.code=a||("AD_FOX"===r.vastSourceType?l.AdSDKErrorCodes.ADFOX_VAST_LOAD_ERROR:l.AdSDKErrorCodes.VAST_LOAD_ERROR),n.reject(e)})},e.fromXml=function(t,r,f){return i(this,void 0,n,function(){var i,A,h,E,m,S;return a(this,function(a){switch(a.label){case 0:if(!t)throw new l.AdSDKError({code:l.AdSDKErrorCodes.INVALID_VAST_XML,details:{xmlString:r}});if(!(i=t.querySelector("VAST")))throw new l.AdSDKError({code:d.NO_AD_CUSTOM_MARKERS.indexOf(p.getXMLRootNodeName(t))>-1?l.AdSDKErrorCodes.NO_AD_CUSTOM_MARKER:l.AdSDKErrorCodes.VAST_TAG_NOT_FOUND,details:{xmlString:r}});if(A=i.getAttribute("version"),!f.ignoreVastVersion&&A&&-1===_.indexOf(A))throw new l.AdSDKError({code:l.AdSDKErrorCodes.INCOMPATIBLE_VAST_VERSION,details:{xmlString:r,version:A}});return 0===(h=Array.prototype.slice.call(t.querySelectorAll("VAST Ad"))).length?[2,new e([])]:(E=[],[4,n.all(h.map(function(t){var r=y.VastAd.fromXml(t),i=r.type;if("InLine"===i)return[r];if("Wrapper"!==i)throw new l.AdSDKError({code:l.AdSDKErrorCodes.INVALID_VAST_AD_TYPE,details:void 0});if(f.wrapperMaxCount<=1)return c.stats.error({error:new l.AdSDKError({code:l.AdSDKErrorCodes.WRAPPER_MAX_COUNT_LIMIT,details:void 0})}),[];var a=r.vastAdTagUri;if(!a)return c.stats.error({error:new l.AdSDKError({code:l.AdSDKErrorCodes.NO_VAST_AD_TAG_URI,details:void 0})}),[];var s=f.wrapperTimeout,d=u.promiseTimeout(s),p=d.promise.then(function(){return c.stats.error({error:new l.AdSDKError({code:l.AdSDKErrorCodes.WRAPPER_LOAD_TIMEOUT,details:{wrapperTimeout:s,vastAdTagUri:a,parsingParameters:f}})}),[]}),A=e.loadInternal(v.getWrapperAdTagURI(a),o({},f,{wrapperMaxCount:f.wrapperMaxCount-1})).then(function(e){return d.clear(),E.push(e),e.ads.map(function(e){return e.merge(r),e})}).catch(function(e){return c.stats.error({error:new l.AdSDKError({code:l.AdSDKErrorCodes.WRAPPER_LOAD_ERROR,details:{error:e,vastAdTagUri:a,parsingParameters:f}})}),[]});return n.race([p,A])}))]);case 1:return m=a.sent(),(S=new e(s.expand(m))).xml=t,S.childs=E,[2,S]}})})},e.prototype.toVastXMLTree=function(){return{xml:this.xml||null,childs:this.childs.map(function(e){return e.toVastXMLTree()})}},e.prototype.getUploadedVastList=function(){var e=this.toVastXMLTree(),t=[];return function e(r){r.xml&&t.push(r.xml),r.childs.forEach(e)}(e),t.filter(function(e){return null!==e})},e}();t.VAST=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_AD_CUSTOM_MARKERS=["nobanner","noad"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getXMLRootNodeName=function(e){if(e){var t=e,r=t.localName,n=t.name,o=t.documentElement;if("string"==typeof r)return r;if("string"==typeof n)return n;if(o){var i=o.tagName;if("string"==typeof i)return i}}return""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToXML=function(e){if(!e)return null;try{var t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(e){return null}}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(96),a=r(249),s=r(5),u=r(1),d=r(2),l=r(40),c=r(3),f=r(13),p=r(250),A=r(251),h=r(252),v=r(253),y=["rtb","direct"],_=function(){function e(){this.adParameters="",this.mediaFiles=[],this.icons=[],this.trackingEvents={},this.clickThrough="",this.skipTime=NaN,this.skipOffset=NaN,this.progressOffset=NaN,this.backgroundBlur=void 0,this.vastAdTagUri=void 0,this.isIndependentOnVideoElement=void 0,this.duration=NaN,this.isClickable=!0,this.numRepeats=1,this.isDirectVPAID=!1,this.isNotReplacedBroadcastAd=!1}return e.fromXml=function(t){var r=t.getAttribute("sequence"),n=null===r?Number.MAX_VALUE:parseInt(r,10),o=t.querySelector("VideoClicks"),s=t.querySelectorAll("MediaFile"),_=t.querySelector("Linear"),E=t.querySelector("TrackingEvents"),m=E?E.querySelectorAll("Tracking"):[],S=i.listToArray(t.querySelectorAll("Impression")),g=t.querySelectorAll("ViewableImpression"),b=t.querySelectorAll("Error"),T=t.querySelector("Extensions"),O=t.querySelector("Description"),P=t.querySelectorAll("Icons Icon"),w=t.querySelector("AdParameters"),I=t.querySelector("AdSystem"),D=new e,R=t.querySelector("InLine")||t.querySelector("Inline"),C=t.querySelector("Wrapper");if(R&&C)throw new u.AdSDKError({code:u.AdSDKErrorCodes.INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION,details:void 0});if(R)D.type=a.VastAdType.InLine;else{if(!C)throw new u.AdSDKError({code:u.AdSDKErrorCodes.NO_INLINE_OR_WRAPPER_NODE,details:void 0});D.type=a.VastAdType.Wrapper}D.sequence=n,D.adParameters=w?f.readElementText(w):"";var M=t.querySelector("VASTAdTagURI");if(f.isElementSet(M)&&(D.vastAdTagUri=f.readElementText(M)),s)for(var N=0;N<s.length;N++){var L=p.parseAdMediaFileXml(s[N]);L.minBitrate>L.maxBitrate&&d.stats.error({error:new u.AdSDKError({code:u.AdSDKErrorCodes.MIN_BITRATE_GREATHER_THAN_MAX_BITRATE,details:{adMediaFile:L}})}),D.mediaFiles.push(L)}o&&((J=f.readElementText(o.querySelector("ClickThrough")))&&(D.clickThrough=J));if(o){var V=o.querySelectorAll("ClickTracking");for(N=0;N<V.length;N++)D.addEventUrl("clickThrough",f.readElementText(V[N]))}for(N=0;N<m.length;N++){var k=f.readAttr(m[N],"event");D.addEventUrl(k,f.readElementText(m[N])),"progress"===k&&(D.progressOffset=c.parseVASTTime(f.readAttr(m[N],"offset","")))}var B=[];S.forEach(function(e){D.addEventUrl("impression",f.readElementText(e));var t=e.getAttribute("id");t&&y.indexOf(t)>-1&&-1===B.indexOf(t)&&B.push(t)}),D.isDirectVPAID=B.length===y.length;for(N=0;N<g.length;N++)for(var F=g[N].querySelectorAll("Viewable"),U=0;U<F.length;U++){var x=f.readElementText(F[U]);D.addEventUrl("viewable",x)}for(N=0;N<b.length;N++)D.addEventUrl("error",f.readElementText(b[N]));for(N=0;N<P.length;N++)D.icons.push(v.VastIcon.fromXml(P[N]));if(T){var j=T.querySelectorAll('Extension[type="dwell"]');for(N=0;N<j.length;N++)D.addEventUrl("dwell",f.readElementText(j[N]));var K=T.querySelectorAll('Extension[type="skipAd"]');for(N=0;N<K.length;N++)D.addEventUrl("skip",f.readElementText(K[N]));var G=T.querySelector('Extension[type="skipTime"]');f.isElementSet(G)&&(D.skipTime=c.parseVASTTime(f.readElementText(G)),D.skipTime>180&&(D.skipTime=0));var H=T.querySelector('Extension[type="controls"]');H&&(D.imhoParams=h.ImhoParams.fromXML(H));var W=T.querySelector('Extension[type="isClickable"]');f.isElementSet(W)&&(D.isClickable="0"!==f.readElementText(W)),T.querySelector('Extension[type="broadcastAdNotReplaced"]')&&(D.isNotReplacedBroadcastAd=!0);var Y=T.querySelector('Extension[type="backgroundBlur"]');f.isElementSet(Y)&&(D.backgroundBlur="1"===f.readElementText(Y));var X=T.querySelector('Extension[type="OutstreamEndScreen"]');X&&(D.endScreenParams=A.EndScreenParams.fromXML(X));var q=T.querySelector('Extension[type="CustomTracking"]'),z=q?q.querySelectorAll("Tracking"):[];for(N=0;N<z.length;N++){k=f.readAttr(z[N],"event");D.addEventUrl(k,f.readElementText(z[N]))}var Q=T.querySelector('Extension[type="isIndependentOnVideoElement"]');f.isElementSet(Q)&&(D.isIndependentOnVideoElement="1"===f.readElementText(Q))}if(f.isElementSet(O)&&(D.description=f.readElementText(O)),f.isElementSet(I)&&(D.adSystem=f.readElementText(I)),_){var J;if(""!==(J=f.readAttr(_,"skipoffset","").trim())){var Z=c.parseVASTTime(J);isNaN(Z)?l.trackError(new u.AdSDKError({code:u.AdSDKErrorCodes.INCORRECT_SKIPOFFSET_FORMAT,details:{nodeValue:J}}),D.trackingEvents.error):D.skipOffset=Z}var $=_.querySelector("Duration");$&&(D.duration=c.parseVASTTime(f.readElementText($)))}return D},e.prototype.addEventUrl=function(e,t){t&&e&&(this.trackingEvents[e]||(this.trackingEvents[e]=[]),this.trackingEvents[e].push(t))},e.prototype.merge=function(e){for(var t in e.mediaFiles.length&&(this.mediaFiles=o(this.mediaFiles,e.mediaFiles)),e.trackingEvents)e.trackingEvents.hasOwnProperty(t)&&(this.trackingEvents[t]?this.trackingEvents[t]=this.trackingEvents[t].concat(e.trackingEvents[t]):this.trackingEvents[t]=e.trackingEvents[t]);this.clickThrough||(this.clickThrough=e.clickThrough),isNaN(this.skipTime)&&(this.skipTime=e.skipTime),isNaN(this.skipOffset)&&(this.skipOffset=e.skipOffset),this.isClickable=this.isClickable||e.isClickable,isNaN(this.progressOffset)&&(this.progressOffset=e.progressOffset),this.adParameters||(this.adParameters=e.adParameters),isNaN(this.duration)&&(this.duration=e.duration),this.sequence===Number.MAX_VALUE&&(this.sequence=e.sequence),e.isNotReplacedBroadcastAd&&(this.isNotReplacedBroadcastAd=!0),!1!==this.backgroundBlur&&"boolean"==typeof e.backgroundBlur&&(this.backgroundBlur=e.backgroundBlur),this.isDirectVPAID=this.isDirectVPAID||e.isDirectVPAID,e.endScreenParams&&(this.endScreenParams?this.endScreenParams.merge(e.endScreenParams):this.endScreenParams=e.endScreenParams),e.adSystem&&(this.adSystem=e.adSystem),e.isIndependentOnVideoElement&&(this.isIndependentOnVideoElement=!0)},e.prototype.hasMedia=function(){return Boolean(this.mediaFiles&&this.mediaFiles.length)},e.prototype.toXML=function(){var e=this,t=(new DOMParser).parseFromString("<VAST></VAST>","application/xml"),r=t.querySelector("VAST");r.setAttribute("version","2.0");var n=f.appendNewElement("Ad",r),o=f.appendNewElement("InLine",n);this.trackingEvents.impression&&this.trackingEvents.impression.forEach(function(e){return f.appendNewElement("Impression",n,e)}),this.trackingEvents.error&&this.trackingEvents.error.forEach(function(e){return f.appendNewElement("Error",n,e)});var i=f.appendNewElement("Creatives",o),a=f.appendNewElement("Creative",i),u=f.appendNewElement("Linear",a);this.duration&&f.appendNewElement("Duration",u,c.toVastTime(this.duration));var d=f.appendNewElement("TrackingEvents",u),l=function(t){if(s.TrackingEventType.hasOwnProperty(t)){var r=s.TrackingEventType[t];p.trackingEvents[r]&&p.trackingEvents[r].forEach(function(t){var n={event:r};"progress"===r&&(n.offset=String(c.toVastTime(e.progressOffset||0))),f.appendNewElement("Tracking",d,t,n)})}},p=this;for(var A in s.TrackingEventType)l(A);var h=f.appendNewElement("MediaFiles",u);this.mediaFiles.forEach(function(e){return f.appendNewElement("MediaFile",h,e.url,{width:e.width,height:e.height,bitrate:e.bitrate,apiFramework:e.apiFramework||null,type:e.type,delivery:e.delivery})}),this.adParameters&&f.appendNewElement("AdParameters",u,this.adParameters);var v=f.appendNewElement("VideoClicks",u);this.clickThrough&&f.appendNewElement("ClickThrough",v,this.clickThrough),this.trackingEvents.clickThrough&&this.trackingEvents.clickThrough.forEach(function(e){return f.appendNewElement("ClickTracking",v,e)});var y=f.appendNewElement("Extensions",o);if(this.trackingEvents.dwell&&this.trackingEvents.dwell.forEach(function(e){f.appendNewElement("Extension",y,e,{type:"dwell"})}),this.skipTime&&f.appendNewElement("Extension",y,c.toVastTime(this.skipTime),{type:"skipTime"}),this.isClickable&&f.appendNewElement("Extension",y,"1",{type:"isClickable"}),void 0!==this.isIndependentOnVideoElement){var _=this.isIndependentOnVideoElement?"1":"0";f.appendNewElement("Extension",y,_,{type:"isIndependentOnVideoElement"})}return t},e.prototype.toXMLString=function(){return(new XMLSerializer).serializeToString(this.toXML())},e.prototype.clone=function(){var t=new e;return t.merge(this),t.vast=this.vast,t.icons=this.icons,t.vastAdTagUri=this.vastAdTagUri,t.type=this.type,t.description=this.description,t.numRepeats=this.numRepeats,t.imhoParams=this.imhoParams,t},e}();t.VastAd=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.InLine="InLine",e.Wrapper="Wrapper"}(t.VastAdType||(t.VastAdType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),o=r(2),i=r(13);t.parseAdMediaFileXml=function(e){var t=parseInt(i.readAttr(e,"width",0),10),r=parseInt(i.readAttr(e,"height",0),10),a=parseInt(i.readAttr(e,"bitrate",0),10),s=i.readAttr(e,"minBitrate",""),u=s?parseInt(s,10):void 0,d=i.readAttr(e,"maxBitrate",""),l=d?parseInt(d,10):void 0,c=i.readAttr(e,"delivery"),f=i.readAttr(e,"type"),p=i.readAttr(e,"apiFramework"),A=i.readElementText(e);return{width:t,height:r,bitrate:a,minBitrate:u,maxBitrate:l,delivery:c,type:f,apiFramework:p,url:A,get source(){return o.stats.warning({name:"UsingSourceParameterOfMediaFile",message:"AdSDK Warning: AdMediaFile.source parameter deprecated, use AdMediaFile.url"}),A},get src(){return o.stats.warning({name:"UsingSrcParameterOfMediaFile",message:"AdSDK Warning: AdMediaFile.src parameter deprecated, use AdMediaFile.url"}),A},get isVpaid(){return o.stats.warning({name:"UsingIsVpaidParameterOfMediaFile",message:"AdSDK Warning: AdMediaFile.isVpaid parameter deprecated, use AdMediaFile.apiFramework"}),p===n.VPAID_API_FRAMEWORK}}}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(13),a=function(){function e(){this.randomBackgrounds=[]}return e.fromXML=function(t){var r=new e,n=t.querySelector("RandomBackgrounds");if(n)for(var o=n.querySelectorAll("Background"),a=0;a<o.length;a++){var s=i.readAttr(o[a],"src");s&&r.randomBackgrounds.push(s)}return r},e.prototype.merge=function(e){var t;(t=this.randomBackgrounds).push.apply(t,o(e.randomBackgrounds))},e}();t.EndScreenParams=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13),o=function(){function e(){this.resetSkipDelay=!1,this.showCountDown=!0,this.showSoundButton=!0,this.showLabel=!0}return e.fromXML=function(t){var r=new e,o=t.querySelector('control[id="skipbtn"]');o&&(r.resetSkipDelay="0"===n.readAttr(o,"layout"));var i=t.querySelector('control[id="countdown"]');i&&(r.showCountDown="0"!==n.readAttr(i,"layout"));var a=t.querySelector('control[id="soundbtn"]');a&&(r.showSoundButton="0"!==n.readAttr(a,"layout"));var s=t.querySelector('control[id="adlabel"]');return s&&(r.showLabel="0"!==n.readAttr(s,"layout")),r},e}();t.ImhoParams=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13),o=function(){function e(){}return e.fromXml=function(t){var r=t.querySelector("StaticResource"),o=new e;return o.src=n.readElementText(r),o.program=n.readAttr(t,"program"),o.xPosition=parseInt(n.readAttr(t,"xPosition",0),10),o.yPosition=parseInt(n.readAttr(t,"yPosition",0),10),o.width=parseInt(n.readAttr(t,"width",0),10),o.height=parseInt(n.readAttr(t,"height",0),10),o},e}();t.VastIcon=o},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(117),a=r(61),s=r(1),u=r(2);function d(e){return{autoplay:"autoplay"in e?Boolean(e.autoplay):void 0,pauseAllowed:"pauseAllowed"in e?Boolean(e.pauseAllowed):void 0,pauseOnClickThrough:void 0===e.pauseOnClickThrough||Boolean(e.pauseOnClickThrough),visitSiteShow:"visitSiteShow"in e?Boolean(e.visitSiteShow):void 0,qualityLevel:"qualityLevel"in e?Number(e.qualityLevel):void 0,poster:"string"==typeof e.poster?String(e.poster):void 0,showGuiForVpaid:"showGuiForVpaid"in e?Boolean(e.showGuiForVpaid):void 0,backgroundBlur:void 0===e.backgroundBlur?void 0:Boolean(e.backgroundBlur)}}t.extractPlaybackParams=function(e){var t="number"==typeof e.bufferFullTimeout?Math.min(e.bufferFullTimeout,a.MAX_TIMEOUT_VALUE):void 0;return void 0!==e.skipDelay&&(!i.isFiniteNumber(e.skipDelay)||e.skipDelay<0)&&u.stats.error({error:new s.AdSDKError({code:s.AdSDKErrorCodes.INCORRECT_SKIP_DELAY_FORMAT,details:{value:e.skipDelay,stringValue:String(e.skipDelay),type:n(e.skipDelay)}})}),o({},d(e),{isClickable:"isClickable"in e?Boolean(e.isClickable):void 0,title:"string"==typeof e.title?e.title.trim():void 0,description:"string"==typeof e.description?e.description:void 0,skipDelay:"number"==typeof e.skipDelay?e.skipDelay:void 0,showTimeLeft:void 0===e.showTimeLeft?void 0:Boolean(e.showTimeLeft),showSoundButton:void 0===e.showSoundButton?void 0:Boolean(e.showSoundButton),showTitle:void 0===e.showTitle?void 0:Boolean(e.showTitle),showSkipButton:void 0===e.showSkipButton||Boolean(e.showSkipButton),showGuiForVpaid:"showGuiForVpaid"in e?Boolean(e.showGuiForVpaid):void 0,videoTimeout:"videoTimeout"in e?Number(e.videoTimeout):void 0,vpaidTimeout:"vpaidTimeout"in e?Number(e.vpaidTimeout):void 0,bufferFullTimeout:t,bufferEmptyLimit:"bufferEmptyLimit"in e?Number(e.bufferEmptyLimit):void 0,progressOffset:"progressOffset"in e?Number(e.progressOffset):0,clickThroughUrl:"string"==typeof e.clickThroughUrl?e.clickThroughUrl:void 0,clickThroughConfirmation:"boolean"==typeof e.clickThroughConfirmation?e.clickThroughConfirmation:void 0})},t.extractConfigurablePlaybackParams=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectValues=function(e){var t=Object.values;if("function"==typeof t)return t(e);var r=[];for(var n in e)e.hasOwnProperty(n)&&r.push(e[n]);return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.top="top",e.bottom="bottom",e.auto="auto"}(t.StickPosition||(t.StickPosition={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.dark="dark",e.light="light"}(t.StickyColorScheme||(t.StickyColorScheme={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BUFFER_EMPTY_LIMIT=5},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BUFFER_FULL_TIMEOUT=5e3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SKIP_DELAY=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VAST_TIMEOUT=3e3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VIDEO_TIMEOUT=1e4},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VPAID_TIMEOUT=1e4},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_WRAPPER_MAX_COUNT=3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_WRAPPER_TIMEOUT=3e3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VMAP_LOAD_TIMEOUT=3e3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(94),o=r(7),i=r(268),a=r(5),s=r(1),u=r(23);t.getVmapUrl=function(e){var t=e.partnerId,r=e.category,d=e.duration;if(!t)throw new s.AdSDKError({code:s.AdSDKErrorCodes.VMAP_CONFIG_WITHOUT_PARTNER_ID,details:void 0});var l=u.addAdSDKParamsToUrl(o.addParamsToUrl(""+i.VMAP_URL+t,{"video-category-id":String(r),"ad-session-id":n.getSessionId(),duration:d?String(d):void 0,client_type:"html"})),c=(a.yandexGlobalObject.videoAd||{}).encodeUrl;return"function"==typeof c?c(o.addParamsToUrl(l,{abd:"1"})):l}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(47),o=r(48);t.VMAP_URL=n.getHardcodedParam(window,o.HARDCODED_VCSET_URL)||"https://an.yandex.ru/vmap/"},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),i=r(62),a=r(1),s=r(13),u=r(122);t.vmapFromXML=function(e,t,r){var d=e.xml,l={responseText:e.responseText};if(null==d)throw new a.AdSDKError({code:a.AdSDKErrorCodes.VMAP_EMPTY_RESPONSE,details:n({},t,{vmapXmlObject:e})});var c=d.querySelector("VMAP");if(!c)throw new a.AdSDKError({code:a.AdSDKErrorCodes.NO_VMAP_ROOT_NODE,details:l});var f=c.querySelectorAll("AdBreak"),p=new i.Vmap,A=d.querySelector("VMAP > Extensions");if(!A)throw new a.AdSDKError({code:a.AdSDKErrorCodes.NO_VMAP_EXTENSIONS,details:l});var h=c.querySelectorAll("TrackingEvents");o.noop(h);for(var v=function(e){var t=A.querySelector('Extension[type="'+e+'"]');return t?s.readElementText(t):""},y=function(e){return parseInt(v(e),10)},_={sessionId:v("SessionID"),title:v("Title").trim(),skipDelay:y("SkipDelay"),timeLeftShow:"true"===v("TimeLeftShow"),visitSiteShow:"true"===v("VisitSiteShow"),vastTimeout:y("VASTTimeout"),videoTimeout:y("VideoTimeout"),vpaidTimeout:y("VPAIDTimeout"),wrapperTimeout:y("WrapperTimeout"),wrapperMaxCount:y("WrapperMaxCount"),bufferFullTimeout:y("BufferFullTimeout"),bufferEmptyLimit:y("BufferEmptyLimit")},E=0;E<f.length;E++)p.adBreaks.push(u.createAdBreak(n({},_,r),l,f[E]));return p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateVastTime=function(e){return/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(e)}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r},a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=r(64),u=r(4),d=r(17),l=r(38),c=r(272),f=r(39),p=r(61),A=r(1),h=r(2),v=r(9),y=r(150),_=function(){return function e(t,r){var _,E,m=this,S=t,g=r.onUpdateLimits(function(){S=l.filterLimitsSatisfyingAdPods(S,r)}),b=function(){S.mediaAds.forEach(function(e){e.isPreloaded()||e.cancelPreloading()})};this.createPlaybackController=function(e,t,n){void 0===n&&(n={});var o=n.disableExecutionTrackings,a=void 0!==o&&o,s=i(n,["disableExecutionTrackings"]),u=a?S.modify(function(e){return e.map(function(e){var t=e.clone();return t.vastAd.trackingEvents={error:t.vastAd.trackingEvents.error},t})}):S;b();var d=new c.AdPlaybackController({videoSlot:e,slot:t,mediaAds:u,adDisplayConfig:s,adBreakLimiter:r});return{playAd:d.playAd,stopAd:d.stopAd,pauseAd:d.pauseAd,getAdPlayingState:d.getAdPlayingState,resumeAd:d.resumeAd,subscribe:d.subscribe,skipAd:d.skipAd,getAdSkippableState:d.getAdSkippableState}},this.showAd=function(e,t,r){void 0===r&&(r={}),b(),_=m.createPlaybackController(e,t,r);var o=new n(function(e){_.subscribe(y.AdPlaybackControllerEvent.AdStopped,function(){e()})});return _.playAd(),o},this.getAdDuration=function(){return S.getDuration()},this.separateAdPods=function(){return S.mediaAds.map(function(t){return new e(new f.MediaAds([t]),r)})},this.getAdSourceTypes=function(){return S.mediaAds.map(function(e){return e.contentType}).filter(function(e,t,r){return r.indexOf(e)===t})},this.setStatsRootField=function(e,t){var r;h.stats.setRootFields(((r={})[e]=t,r)),h.stats.event(o({},v.AdSDKEvent.UsingSetStatsRootFieldInAdLoader,{data:void 0}))},this.setStatsRootFields=function(e){h.stats.setRootFields(e)},this.hasNotReplacedBroadcastAd=function(){return S.mediaAds.filter(function(e){return e.isNotReplacedBroadcastAd()}).length>0},this.destroy=function(){g(),S.mediaAds.forEach(function(e){return e.cancelPreloading()}),_&&_.stopAd()},this.preload=function(e){var t=e.preloadTimeout,r=void 0===t?p.MAX_TIMEOUT_VALUE:t,o=i(e,["preloadTimeout"]),a=d.promiseTimeout(r).promise.then(b);if(void 0===E){var s=S.mediaAds.map(function(e){return e.preload(o)});E=n.all(s).then(u.noop)}return n.race([E,a])},this.filterAdPodsIndependentOnHtmlControls=function(e){var t=a(s.separate(S.mediaAds,function(e){return e.getIfIsRequiredHtmlControls()}),2),r=t[0],n=t[1];S=new f.MediaAds(n),r.forEach(function(t){t.trackError(new A.AdSDKError({code:A.AdSDKErrorCodes.CANNOT_SHOW_CPC_CONTROLS,details:{mediaFile:t.getJSMediaFile(),reason:e}}))})},this.getAdPodsCount=function(){return S.mediaAds.length}}}();t.AdViewer=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(55),o=r(4),i=r(124),a=r(38),s=r(273),u=r(1),d=r(2),l=r(150),c=function(){return function(e){var t=e.videoSlot,r=e.slot,c=e.mediaAds,f=e.adDisplayConfig,p=e.adBreakLimiter,A=this;this.isPlayAdCalled=!1,this.playAd=function(){A.isPlayAdCalled?d.stats.error({error:new u.AdSDKError({code:u.AdSDKErrorCodes.ATTEMPT_TO_PLAY_AD_SECOND_TIME,details:void 0})}):(A.isPlayAdCalled=!0,A.adDisplayController.showAd(A.mediaAds,A.adBreakLimiter).then(function(){A.adDisplayController.destroy()}))},this.stopAd=function(){A.adDisplayController.destroy()},this.pauseAd=function(){A.adDisplayController.pause()},this.getAdPlayingState=function(){return A.adDisplayController.isFinished?i.VideoPlayingState.END:A.adDisplayController.getPaused()?i.VideoPlayingState.PAUSE:i.VideoPlayingState.PLAY},this.resumeAd=function(){A.isPlayAdCalled?A.adDisplayController.resume():d.stats.error({error:new u.AdSDKError({code:u.AdSDKErrorCodes.ATTEMPT_TO_RESUME_AD_BEFORE_PLAY,details:void 0})})},this.getAdSkippableState=function(){return A.adDisplayController.getAdSkippableState()},this.skipAd=function(){A.getAdSkippableState()?A.adDisplayController.skipAllViewers():d.stats.error({error:new u.AdSDKError({code:u.AdSDKErrorCodes.ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD,details:void 0})})},this.subscribe=function(e,t){if("function"!=typeof t)return o.noop;var r=function(r){try{t(r)}catch(t){d.stats.error({error:new u.AdSDKError({code:u.AdSDKErrorCodes.APC_CALLBACK_ERROR,details:{eventName:e,data:r}})}),n.rethrowError(t)}};switch(e){case l.AdPlaybackControllerEvent.AdStarted:return A.adDisplayController.onAdStart.add(function(){r({})});case l.AdPlaybackControllerEvent.AdPodStarted:return A.adDisplayController.onAdMediaStart.add(function(){r({})});case l.AdPlaybackControllerEvent.AdPodImpression:return A.adDisplayController.onAdPodImpression.add(function(){r({})});case l.AdPlaybackControllerEvent.AdPodVideoFirstQuartile:return A.adDisplayController.onAdPodFirstQuartile.add(function(){r({})});case l.AdPlaybackControllerEvent.AdPodVideoMidpoint:return A.adDisplayController.onAdPodMidpoint.add(function(){r({})});case l.AdPlaybackControllerEvent.AdPodVideoThirdQuartile:return A.adDisplayController.onAdPodThirdQuartile.add(function(){r({})});case l.AdPlaybackControllerEvent.AdPodStopped:return A.adDisplayController.onAdMediaEnd.add(function(){r({})});case l.AdPlaybackControllerEvent.AllAdPodVideoComplete:return A.adDisplayController.onAllAdPodComplete.add(function(){r({})});case l.AdPlaybackControllerEvent.AdStopped:return A.adDisplayController.onDestroy.add(function(){r({})});case l.AdPlaybackControllerEvent.AdSkippableStateChange:return A.adDisplayController.onAdSkippableStateChange.add(function(e){r({skippableState:e})});default:return o.noop}},this.videoSlot=t,this.slot=r,this.mediaAds=c,this.adDisplayConfig=f,this.adBreakLimiter=p,this.adDisplayController=new s.AdDisplayController(this.adDisplayConfig,this.videoSlot,this.slot),this.adBreakLimiter.onUpdateLimits(function(){A.mediaAds=a.filterLimitsSatisfyingAdPods(A.mediaAds,A.adBreakLimiter)})}}();t.AdPlaybackController=c},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},u=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(274),c=r(30),f=r(126),p=r(276),A=r(277),h=r(17),v=r(10),y=r(8),_=r(34),E=r(278),m=r(134),S=r(65),g=r(80),b=r(63),T=r(20),O=r(288),P=r(15),w=r(136),I=r(289),D=r(24),R=r(121),C=r(1),M=r(2),N=r(9),L=r(137),V=r(33),k=r(14),B=r(28),F=r(66),U=r(3),x=r(290),j=r(295),K=r(309),G=r(311),H=r(145),W=r(103),Y=r(319),X=r(327),q=r(333),z=r(122),Q=0,J=100,Z=!l.includes([P.ModuleBundleName.AdSDK,P.ModuleBundleName.VideoPlayer,P.ModuleBundleName.Multiroll],k.WEBPACK_BUNDLE_NAME),$=function(e){function t(t,r,n){var o=e.call(this,n)||this;o.qualityLevel=0,o.autoplayAbility=a({},E.NEGATIVE_AUTOPLAY_ABILITY),o.onDetectAutoplayAbility=new y.Signal,o.onAdPodImpression=new y.Signal,o.onAdPodFirstQuartile=new y.Signal,o.onAdPodMidpoint=new y.Signal,o.onAdPodThirdQuartile=new y.Signal,o.onPlayRequest=new y.Signal,o.onCurrentPositionChange=new y.Signal,o.onAdSkippableStateChange=new y.Signal,o.viewersList=[],o.adSkippableState=!1,o.startBlur=function(e){e.viewer.playbackParams.backgroundBlur&&(o.tryAppendBlur(),o.blur&&o.blur.start())},o.stopBlur=function(){o.blur&&(o.blur.stop(),o.config.backgroundBlur||o.destroyBlur())},o.destroyBlur=function(){o.blur&&(o.blur.destroy(),o.blur=void 0)},o.updateAdSkippableState=function(e){o.adSkippableState!==e&&(o.adSkippableState=e,o.onAdSkippableStateChange.dispatch(e))},o.config=b.extractAdDisplayConfig(t),o.videoNode=r,++Q===J&&M.stats.errorToStats(new C.AdSDKError({code:C.AdSDKErrorCodes.TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS,details:void 0})),M.stats.event(a({},N.AdSDKEvent.CreateAdDisplayController,{data:{config:o.config}}));var i=r.volume;o.savedVolume=i||w.DEFAULT_VOLUME;var s=o.config.lang;return o.desiredBitrate=t.desiredBitrate,o.videoNodeController=new Y.VideoNodeController(r),t.qualityLevel&&(o.qualityLevel=t.qualityLevel),o.onAdEnd.add(function(){return o.setVisibleNativeControls(!0)}),o.onReady.add(function(){return o.setVisibleNativeControls(!1)}),o.gui=o.addGui(),o.initBlur(),F.isInsecureVideoElement(o.videoNode)&&(o.onAdMediaStart.add(function(){r.style.cursor=o.getCurrentClickability()?"pointer":"default"}),o.onAdMediaEnd.add(function(){r.style.cursor="default"})),o.onCurrentPositionChange.add(function(e){var t=e.viewerTime,r=e.viewerDuration;if(o.currentViewer){var n=Boolean(o.config.showSkipButton)&&o.currentViewer.playbackParams.skipDelay>0&&t>=o.currentViewer.playbackParams.skipDelay,i=r-t,a=Math.floor(i/60),u=Math.floor(i-60*a);o.gui.controls.skip.setVisible(n);var d=void 0;d=isNaN(u)?"":" "+(u<10?"0"+u:u),o.gui.controls.timeLeft.setText(m.translate("TIME_LEFT",s)+" "+d)}}),o.onDestroy.add(function(){o.isFinished=!0,o.gui.wrapper.hide(),o.onPlayRequest.removeAll(),o.onCurrentPositionChange.removeAll(),o.onAdSkippableStateChange.removeAll(),o.currentViewer&&(o.currentViewer.isStarted&&(void 0===o.adType&&M.stats.error({error:new C.AdSDKError({code:C.AdSDKErrorCodes.EMPTY_AD_TYPE_WHILE_PLAYING,details:void 0})}),o.onAdMediaEnd.dispatch({adType:o.adType})),o.currentViewer.destroy(),o.currentViewer=void 0),o.videoNodeController.destroy(),v.removeNodeFromParent(o.nativeControlsHidder),o.gui.destroy(),o.revertVideoState()}),o}return i(t,e),t.prototype.showAd=function(e,t){return s(this,void 0,o,function(){var r,n,i,a=this;return u(this,function(s){return e.mediaAds.length?(n=e.getFirstMediaAd().adBreak,i=n.adType?n.adType:T.AdBreakType.preroll,this.adType=i,this.isFinished=!1,this.viewersList=e.mediaAds.map(function(e){return a.createViewer(e)}).filter(function(e){return Boolean(e)}),this.viewersList.forEach(function(e){var r=e.mediaAd,n=r.duration;e.on("start",function(){r.startsCount=r.startsCount+1,t.addAdPodDuration(n)})}),[2,new o(function(e,r){a.emitAdEnd=e;var n=function(){a.startAdPlayback(i,t).then(e).catch(function(e){a.onAdMediaEnd.dispatch({adType:i}),a.isFinished=!0,r(e)})};a.config.asyncAdStart?a.onBeforeAdStart.dispatch({adType:i,startAd:n}):(a.onBeforeAdStart.dispatch({adType:i}),n())}).catch(function(e){M.stats.errorToStats(e)}).then(function(){a.revertVideoState(),a.isFinished=!0,a.onAdEnd.dispatch({adType:i})})]):(r=new C.AdSDKError({code:C.AdSDKErrorCodes.NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD,details:{config:this.config}}),M.stats.error({error:r}),[2])})})},t.prototype.getAdBreakForFlash=function(){var e=this.currentViewer;return e?e.mediaAd.adBreak:z.createAdBreak(a({},R.DEFAULT_AD_BREAK_COMMON_PARAMETERS,b.extractBlockParameters(this.config)),{responseText:""})},t.prototype.getClickThroughURL=function(){var e=this.currentViewer,t=this.viewersList,r=e||t[0];if(r)return r.mediaAd.playbackParams.clickThroughUrl;throw new Error("AdSDK JS Error: Cannot get clickThroughUrl")},t.prototype.setMuted=function(e){this.setVolume(e?0:this.savedVolume)},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r=_.VPAIDViewMode.NORMAL);var n=this.currentViewer;n&&n.resizeAd(e,t,r)},t.prototype.clickThrough=function(e){this.currentViewer&&this.currentViewer.clickThrough(e)},t.prototype.play=function(e){return void 0===e&&(e=!0),e&&this.onPlayRequest.dispatch(void 0),this.currentViewer?this.currentViewer.play(e):o.reject(new Error("AdSDK Error: play request without AdMedia"))},t.prototype.pause=function(){this.currentViewer&&this.currentViewer.pause()},t.prototype.resume=function(){this.currentViewer&&this.currentViewer.resume()},t.prototype.close=function(){this.destroyNextViewers("close")},t.prototype.skipAllViewers=function(){this.skipCurrentViewer(),this.destroyNextViewers("skip")},t.prototype.skipCurrentViewer=function(e){this.gui.hide(),this.currentViewer&&this.currentViewer.getAdSkippableState()&&this.currentViewer.skipAd(),this.currentViewer||this.stop()},t.prototype.stop=function(){this.isFinished=!0,this.emit("stop"),this.emitAdEnd&&this.emitAdEnd()},t.prototype.getAdWidth=function(){return this.currentViewer?this.currentViewer.getAdWidth():0},t.prototype.getAdHeight=function(){return this.currentViewer?this.currentViewer.getAdHeight():0},t.prototype.trackEvent=function(e){this.currentViewer&&this.currentViewer.trackEvent(e)},t.prototype.trackEventForAllViewers=function(e){this.viewersList.forEach(function(t){t.trackEvent(e)})},t.prototype.getCurrentContentType=function(){return this.currentViewer?this.currentViewer.contentType:void 0},t.prototype.getCurrentTime=function(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0},t.prototype.getDuration=function(){var e=0;return this.viewersList.forEach(function(t){e+=t.getDuration()}),e},t.prototype.getPaused=function(){return!this.currentViewer||this.currentViewer.getPaused()},t.prototype.getVolume=function(){var e=this.currentViewer;if(e)return e.getVolume();var t=this.videoNode,r=t.muted,n=t.volume;return r?0:n},t.prototype.setVolume=function(e){var t=this.currentViewer;t?t.setVolume(e):this.videoNodeController.setVolume(e)},t.prototype.getAutoplay=function(){return void 0===this.config.autoplay||this.config.autoplay||this.getCurrentViewerIndex()>0},t.prototype.setVisibleNativeControls=function(e){e?v.removeNodeFromParent(this.nativeControlsHidder):(this.videoNode.controls=!1,this.nativeControlsHidder||(this.nativeControlsHidder=B.addStylesToElement(this.wrapperNode,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHidder))},t.prototype.getCurrentClickability=function(){if(this.currentViewer){var e=this.currentViewer.playbackParams,t=e.isClickable,r=e.visitSiteShow;return Boolean(t)&&!r}return!1},t.prototype.getCurrentSrc=function(){return this.currentViewer?this.currentViewer.getSrc():""},t.prototype.getMuted=function(){var e=this.currentViewer;return e?0===e.getVolume():this.videoNodeController.getMuted()},t.prototype.getAdSkippableState=function(){return this.adSkippableState},t.prototype.isPlayingDirect=function(){return Boolean(this.currentViewer&&this.currentViewer.mediaAd.vastAd.isDirectVPAID)},t.prototype.revertVideoState=function(){this.initialVideoState&&(this.initialVideoState.revert(),delete this.initialVideoState)},t.prototype.trackError=function(e){this.currentViewer&&this.currentViewer.trackError(e)},t.prototype.addGui=function(){var e=this,t=new K.Gui(this.wrapperNode,this.config.lang),r=t.wrapper,n=t.controls;return n.play.setVisible(!this.getAutoplay()),this.on("pause",function(){n.play.show()}).on(["start","resume"],function(){n.play.hide()}).once("playAdMedia",function(){n.play.setVisible(!e.getAutoplay()||e.autoplayAbility.requireUserGesture)}),f.isTouchDevice?this.on(["start","resume"],function(){e.currentViewer&&e.currentViewer.playbackParams.pauseAllowed&&n.pause.show()}):(this.onChangeHover.add(function(t){if(t){var r=e.currentViewer&&e.currentViewer.playbackParams.pauseAllowed,o=!n.play.isVisible&&!n.play.isBlocked();r&&o&&n.pause.show()}else n.pause.hide()}),this.on(["start","resume"],function(){e.currentViewer&&e.currentViewer.playbackParams.pauseAllowed&&e.isHovered&&n.pause.show()})),this.on({pause:function(){return n.pause.hide()}}),t.on({click:function(){return e.clickThrough()},pause:function(){return e.pause()},play:function(){e.currentContentType===V.AdContentType.video?e.videoNodeController.play():e.play()},skip:function(){e.skipCurrentViewer()}}),t.onMuteButtonClick.add(function(){e.setMuted(!e.getMuted())}),this.once("playAdMedia",function(){t.addSkin(),e.getCurrentClickability()?r.addClass(S.locals.pointer):r.removeClass(S.locals.pointer)}),this.onAdMediaEnd.add(function(){t.hide()}),this.on("muteChange",function(e){return t.setMuted(e)}),this.onAdMediaStart.add(function(r){var o=r.viewer,i=o.contentType,a=o.playbackParams,s=a.showGuiForVpaid,u=a.showTimeLeft,d=a.title,l=a.showSoundButton,c=a.isClickable,f=a.visitSiteShow,p=a.showTitle,A=a.showSkipButton;i===V.AdContentType.video||i===V.AdContentType.js&&s?t.show():t.hide(),t.topRightBlock.className=A?S.locals.topRightBlock:S.locals.topRightBlockMinimal,n.skip.setVisible(!1),n.timeLeft.setVisible(Boolean(u)),n.title.setText(d).setVisible(!U.isMobile()&&Boolean(p)&&Boolean(d)),n.mute.setVisible(!U.isIOS9OrLess()&&Boolean(l)),n.visitSite.setVisible(Boolean(c&&f)),t.setMuted(e.getMuted())}),this.config.asyncAdStart?this.onAdStart.add(function(){return t.show()}):this.onBeforeAdStart.add(function(){return t.show()}),t},t.prototype.initBlur=function(){c.internetExplorerVersion>-1||(this.onAdMediaStart.add(this.startBlur),this.onAdMediaEnd.add(this.stopBlur),this.onDestroy.add(this.destroyBlur),this.config.backgroundBlur&&this.tryAppendBlur())},t.prototype.tryAppendBlur=function(){if(!this.blur){var e=this.videoNode.parentElement;e?this.blur=new x.BackgroundBlur(e,this.videoNode):F.isInsecureVideoElement(this.videoNode)&&M.stats.errorToStats(new C.AdSDKError({code:C.AdSDKErrorCodes.NO_PARENT_ELEMENT_FOR_BLUR,details:void 0}))}},t.prototype.getCurrentViewerIndex=function(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0},t.prototype.playAdMedia=function(e){var t=this;this.currentViewer=e,e.trackEvent(H.CustomTrackingEventType.ON_CREATIVE_INIT);var r=e.playbackParams,n=e.contentType,i=n===V.AdContentType.video,a=i?r.videoTimeout:r.vpaidTimeout,s=i?C.AdSDKErrorCodes.VIDEO_TIMEOUT:C.AdSDKErrorCodes.VPAID_START_TIMEOUT,u=new Error;return new o(function(o,i){var d=!0;!function o(){return t.onPlayRequest.addOne(function(){if(!e.isStarted){var l=h.promiseTimeout(a),c=l.clear;l.promise.then(function(){if(t.autoplayAbility.requireUserGesture&&d)d=!1,o();else{var l=e.getSrc();i(new C.AdSDKError(u,{code:s,details:{contentType:n,timeout:a,src:l,config:t.config,playbackParams:r,isFirstErrorTimeout:d}}))}}),e.once(["start","resume"],c),t.onAdMediaEnd.addOne(c)}})}();var l=NaN,c=t.onPlayRequest.addOne(function(){l=Date.now()});t.onAdMediaEnd.addOne(c),e.on("start",function(){isNaN(l)?M.stats.errorToStats(new C.AdSDKError({code:C.AdSDKErrorCodes.AdPodStartWithoutPlayRequest,details:void 0})):D.LOG_STATS&&M.stats.value({name:L.AdSDKStatsValue.AdPodStartTime,value:Date.now()-l,data:{src:e.getSrc(),config:t.config,errorTimeout:a,playRequestTime:String(l)},labels:{contentType:n}})}),t.emit("playAdMedia"),t.play(t.getAutoplay()).then(o).catch(i)}).catch(function(e){t.trackError(e),M.stats.errorToStats(e),U.logError("AdPod playing error",e)}).then(function(){t.currentViewer=void 0,e.destroy()})},t.prototype.getCurrentViewerStartTime=function(){for(var e=this.getCurrentViewerIndex(),t=0,r=0;r<e;r++)t+=this.viewersList[r].getDuration();return t},t.prototype.createViewer=function(e){var t,r=e.playbackParams,n=this.config;switch(this.config.trackingEvents&&(e.vastAd.trackingEvents=W.mergeTrackingEvents(e.vastAd.trackingEvents,this.config.trackingEvents)),e.contentType){case V.AdContentType.js:t=new G.JSVpaidViewer(this,e);break;case V.AdContentType.video:t=new q.VideoViewer(this,e);break;case V.AdContentType.flash:return void M.stats.event(a({},N.AdSDKEvent.CannotCreateFlashVPAIDViewer,{data:{mediaFiles:e.vastAd.mediaFiles}}));default:throw new Error("AdSDKJS Error: Unresolved content type of mediaAd: "+e.contentType)}return t.onImpression.add(this.onAdPodImpression),t.onFirstQuartile.add(this.onAdPodFirstQuartile),t.onMidpoint.add(this.onAdPodMidpoint),t.onThirdQuartile.add(this.onAdPodThirdQuartile),n.numruns&&t.setNumRepeats(n.numruns),e.vastAd.isDirectVPAID?t.impressionTrackOffset=I.DIRECT_IMPRESSION_TRACK_OFFSET:void 0!==n.impressionOffset&&(t.impressionTrackOffset=n.impressionOffset),void 0!==n.showTimeLeft&&(r.showTimeLeft=n.showTimeLeft),void 0!==n.visitSiteShow&&(r.visitSiteShow=n.visitSiteShow),void 0!==n.showSoundButton&&(r.showSoundButton=n.showSoundButton),void 0!==n.showSkipButton&&(r.showSkipButton=n.showSkipButton),void 0!==n.showTitle&&(r.showTitle=n.showTitle),void 0!==n.pauseAllowed&&(r.pauseAllowed=n.pauseAllowed),"boolean"==typeof n.backgroundBlur&&(r.backgroundBlur=n.backgroundBlur),!1===n.pauseOnClickThrough&&(r.pauseOnClickThrough=!1),!0===n.showGuiForVpaid&&(r.showGuiForVpaid=!0),"number"==typeof n.skipDelay&&(r.skipDelay=n.skipDelay),"number"==typeof n.bufferFullTimeout&&(r.bufferFullTimeout=n.bufferFullTimeout),"string"==typeof n.clickThroughUrl&&(r.clickThroughUrl=n.clickThroughUrl,r.isClickable=Boolean(n.clickThroughUrl)),!0===n.clickThroughConfirmation&&(r.clickThroughConfirmation=!0),t},t.prototype.startAdPlayback=function(e,t){return s(this,void 0,o,function(){var r,n,i,a,s,l,c,f,v,y,_,m,S,b,P=this;return u(this,function(u){switch(u.label){case 0:return i=void 0===this.config.saveCurrentTime?e===T.AdBreakType.midroll:this.config.saveCurrentTime,this.initialVideoState=new X.VideoState(this.videoNode,i),this.videoNode.loop=!1,(a=this.config.poster)?(this.videoNodeController.setPoster(a),[3,3]):[3,1];case 1:return[4,o.race([A.knockPixel(p.TRANSPARENT_PIXEL_BASE64,{allowRelative:!0}),h.promiseTimeout(O.BASE64_IMG_LOAD_TIMEOUT).promise])];case 2:if(s=u.sent(),this.isFinished)throw new C.AdSDKError({code:C.AdSDKErrorCodes.AD_FINISHED_DURING_CHECK_POSTER,details:void 0});s&&this.videoNodeController.setPoster(p.TRANSPARENT_PIXEL_BASE64),u.label=3;case 3:return c=this.config.videoSlotCanAutoPlay,this.viewersList.every(function(e){return e.mediaAd.getIsIndependentOnVideoElement()})&&Z?(l=E.POSITIVE_AUTOPLAY_ABILITY,[3,8]):[3,4];case 4:return"boolean"!=typeof c?[3,5]:(l=c?E.POSITIVE_AUTOPLAY_ABILITY:E.NEGATIVE_AUTOPLAY_ABILITY,[3,8]);case 5:return F.isInsecureVideoElement(this.videoNode)?[4,this.requestAutoplayAbility()]:[3,7];case 6:if(l=u.sent(),this.isFinished)throw new C.AdSDKError({code:C.AdSDKErrorCodes.AD_FINISHED_DURING_RAA,details:void 0});return[3,8];case 7:l=E.POSITIVE_AUTOPLAY_ABILITY,u.label=8;case 8:this.autoplayAbility=l,this.onDetectAutoplayAbility.dispatch(l),this.autoplayAbility.requireMute&&this.videoNodeController.setMute(!0),(f=this.viewersList[0]).onReady.addOne(function(){return P.onReady.dispatch(void 0)}),f.once("start",function(){return P.onAdStart.dispatch({adType:e})}),v=this.viewersList.length,this.viewersList.forEach(function(e){e.once("complete",function(){v-=1})}),this.viewersList.forEach(function(t){P.reemit(t,["start","resume","muteChange","pause"]),t.on("skip",function(){return P.onAdSkipped.dispatch({adType:e})}),t.once("start",function(){return P.onAdMediaStart.dispatch({viewer:t,adType:e})}),t.onCurrentPositionChange.add(function(e){var t=e.currentTime,r=e.duration;P.onCurrentPositionChange.dispatch({viewerTime:t,viewerDuration:r,totalTime:P.getCurrentViewerStartTime()+t,totalDuration:P.getDuration()})}),t.onClickThrough.add(function(e){return P.onClickThrough.dispatch(e)});var r=t.mediaAd.playbackParams,n=r.skipDelay,o=r.showGuiForVpaid;"video"===t.contentType||o?t.onCurrentPositionChange.add(function(e){var t=e.currentTime,r=0!==n&&t>n;P.updateAdSkippableState(r)}):"js"===t.contentType&&t.onAdSkippableStateChange.add(P.updateAdSkippableState)}),u.label=9;case 9:u.trys.push([9,14,15,16]),y=d(this.viewersList),_=y.next(),u.label=10;case 10:return _.done?[3,13]:(m=_.value,this.isFinished?(m.mediaAd.trackError(new C.AdSDKError({code:C.AdSDKErrorCodes.AD_BREAK_IS_STOPPED,details:void 0})),[3,12]):(this.updateAdSkippableState(!1),(S=t.getAdPodLimitationByDuration(m.mediaAd.duration))?(m.mediaAd.trackError(new C.AdSDKError({code:g.LimitationReasonDuringPlaybackErrorCodes[S.reason],details:{limitation:S}})),[3,12]):[4,this.playAdMedia(m)]));case 11:u.sent(),this.onAdMediaEnd.dispatch({adType:e}),u.label=12;case 12:return _=y.next(),[3,10];case 13:return[3,16];case 14:return b=u.sent(),r={error:b},[3,16];case 15:try{_&&!_.done&&(n=y.return)&&n.call(y)}finally{if(r)throw r.error}return[7];case 16:return 0===v&&this.onAllAdPodComplete.dispatch({adType:e}),[2]}})})},t.prototype.requestAutoplayAbility=function(){return s(this,void 0,o,function(){var e,t,r,n,o;return u(this,function(i){switch(i.label){case 0:e=Date.now(),t=E.requestAutoplayAbility(this.videoNode,{checkSoundEnabled:!this.getMuted()}),r=t.promise,n=t.stop,this.onDestroy.add(n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),this.isFinished||M.stats.error({error:new C.AdSDKError({code:C.AdSDKErrorCodes.RAA_WAS_STOPPED_WITHOUT_AD_FINISH,details:void 0})}),[2,a({},E.NEGATIVE_AUTOPLAY_ABILITY)];case 4:return M.stats.value({name:L.AdSDKStatsValue.DetectAutoplayAbilityTime,value:Date.now()-e,data:{config:this.config,autoplayAbility:o},labels:{},probability:D.LOG_PROBABILITY}),[2,o]}})})},t.prototype.destroyNextViewers=function(e){var t=this.viewersList,r=this.currentViewer;this.gui.hide(),r&&r.destroy();for(var n=this.getCurrentViewerIndex();n<t.length;n++){t[n].mediaAd.trackEvent(e,this.slotVisibilitySensor.getVisibilityRatio(),this.slotSizeSensor.getSize())}this.stop()},t}(j.DisplayController);t.AdDisplayController=$},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(125);t.includes=function(e,t){return-1!==n.indexOf(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTouchDevice=function(e){void 0===e&&(e=window);var t=e,r=t.DocumentTouch,n=t.navigator,o=t.document;return"ontouchstart"in e||r&&o instanceof r||n.maxTouchPoints>0||n.msMaxTouchPoints>0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSPARENT_PIXEL_BASE64="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0});var o=r(127);function i(e,t){void 0===t&&(t={});var r=t.silent,i=void 0===r||r,a=t.allowRelative;return void 0!==a&&a||o.isAbsoluteUrl(e)?new n(function(t,r){var n=document.createElement("img");n.onload=function(){return t(e)},n.onerror=i?function(){return t(null)}:function(){return r(new Error("knockPixel failed to load image ["+e+"]"))},n.src=e}):i?n.resolve(null):n.reject("["+e+"] is not an absolute url, to knock this pixel use { allowRelative: true } option")}t.knockPixel=i,t.knockPixels=function(e,t){void 0===t&&(t={});var r=t.allowRelative,o=void 0!==r&&r;return n.all(e.map(function(e){return i(e,{silent:!0,allowRelative:o})}))}},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(106),s=r(30),u=r(128),d=r(35),l=r(6),c=r(16),f=r(283),p=r(18),A=r(4),h=r(131),v=r(10),y=r(132),_=r(284),E=r(108),m=r(285),S=r(286);function g(e){var t=e.canPlayUnMuted,r=e.canPlayMuted;return{canPlayUnMuted:t,canPlayMuted:r,requireMute:!t&&r,requireUserGesture:!t&&!r}}t.toAutoplayAbilityObject=g,t.NEGATIVE_AUTOPLAY_ABILITY=g({canPlayUnMuted:!1,canPlayMuted:!1}),t.POSITIVE_AUTOPLAY_ABILITY=g({canPlayUnMuted:!0,canPlayMuted:!0});var b=function(){function e(e,r){var s=r.checkSoundEnabled,l=this;if(this.video=e,this.promise=n.resolve(t.NEGATIVE_AUTOPLAY_ABILITY),this.stop=A.noop,this.isStopped=!1,this.revertVideoState=A.noop,this.unsubscribeAllVideoEvents=A.noop,d.isIOS&&u.iOSVersion<=9||!E.isSupportedHTML5Video)return this;var h=this.video.paused,b=_.CAN_PLAY_MP4?m.MP4_BASE64_WITH_SOUND:S.WEBM_BASE64_WITH_SOUND,T=document.createElement("div");T.style.display="none";var O=e.play;this.playMethod=p.checkNativeCode(O)?O:function(){document.body.appendChild(T);var e=a.createFriendlyIFrame(T).contentWindow;return e&&e.HTMLMediaElement?e.HTMLMediaElement.prototype.play:O}();var P,w=e.muted,I=e.volume,D=this.preventPause(function(){return y.setAttributesReversible(e,{src:b})});this.revertVideoState=c.once(function(){D(),e.load(),e.muted=w,e.volume=I,h&&l.video.pause(),!h&&e.paused&&f.muffleUncaughtErrors(l.playMethod.call(l.video)),v.removeNodeFromParent(T)}),this.promise=new n(function(e,t){return o(l,void 0,n,function(){var r,n,o,a;return i(this,function(i){switch(i.label){case 0:return P=t,(n=s)?[4,this.requestAutoplayAbilityByMuted(!1)]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return r=n,this.isStopped?[2]:(a=r)?[3,4]:[4,this.requestAutoplayAbilityByMuted(!0)];case 3:a=i.sent(),i.label=4;case 4:return o=a,this.isStopped?[2]:(this.revertVideoState(),this.isStopped=!0,e(g({canPlayUnMuted:r,canPlayMuted:o})),[2])}})})}),this.stop=function(){l.isStopped||(l.isStopped=!0,P(new Error("requestAutoplayAbility has been stopped")),l.unsubscribeAllVideoEvents(),l.revertVideoState())}}return e.prototype.requestAutoplayAbilityByMuted=function(e){return o(this,void 0,n,function(){var t,r,o,a,u,d=this;return i(this,function(i){switch(i.label){case 0:return t=this.video,this.preventPause(function(){t.load()}),[4,h.sleep(0)];case 1:return i.sent(),this.isStopped?[2,!1]:(t.muted=e,t.volume=e?0:1,r=this.playMethod.call(t),o=0,a=[],this.unsubscribeAllVideoEvents=c.once(function(){clearTimeout(o),a.forEach(function(e){return e()})}),void 0===r&&s.internetExplorerVersion>-1?[2,!0]:[4,new n(function(e){void 0===r?(a.push(l.addEventListener(t,"ended",function(){e(!0)},{passive:!0,once:!0}),l.addEventListener(t,"error",function(){var r=t.error;"undefined"!=typeof MediaError&&r&&r.code===MediaError.MEDIA_ERR_DECODE&&(d.unsubscribeAllVideoEvents(),setTimeout(function(){e(!0)},0))},{passive:!0,once:!0})),o=window.setTimeout(function(){e(!1)},500)):r.then(function(){e(!0)}).catch(function(){e(!1)})})]);case 2:return u=i.sent(),this.isStopped?[2,!1]:(this.unsubscribeAllVideoEvents(),[2,u])}})})},e.prototype.preventPause=function(e){var t=this.video.paused,r=e();return t||f.muffleUncaughtErrors(this.playMethod.call(this.video)),r},e}();t.AutoplayAbilityRequest=b,t.requestAutoplayAbility=function(e,t){var r=(void 0===t?{}:t).checkSoundEnabled,n=new b(e,{checkSoundEnabled:void 0===r||r});return{promise:n.promise,stop:n.stop}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(129);t.getIOSVersion=function(e){if(void 0===e&&(e=window),n.getIsIOS(e)&&e.navigator){var t=e.navigator.platform;if(t&&/iP(hone|od|ad)/.test(t)){var r=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(r)return parseInt(r[1],10)}}return-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUCBrowser=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(282),o=r(4),i=r(130);t.isSupportsOnceOption=!1,t.isSupportsPassiveOption=!1,t.isSupportsCaptureOption=!1;try{if(n.getHasObjectDefineProperty()){var a=document.createElement("div"),s={};Object.defineProperty(s,"once",{get:function(){return t.isSupportsOnceOption=!0}}),Object.defineProperty(s,"passive",{get:function(){return t.isSupportsPassiveOption=!0}}),Object.defineProperty(s,"capture",{get:function(){return t.isSupportsCaptureOption=!0}}),i.addEventListenerFunction(a,"click",o.noop,s)}}catch(e){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHasObjectDefineProperty=function(e){void 0===e&&(e=window);var t=e.Object;try{var r={};return t.defineProperty(r,"sentinel",{}),"sentinel"in r}catch(e){return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.muffleUncaughtErrors=function(e){e&&"function"==typeof e.catch&&e.catch(function(e){})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(59);t.CAN_PLAY_MP4=n.canPlayType("video/mp4")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MP4_BASE64_WITH_SOUND="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA="},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBM_BASE64_WITH_SOUND="data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD"},function(e){e.exports={be:{adsdk:{LEARN_MORE:"",MORE:"",REPEAT:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",TIME_LEFT:"",UNMUTE_INVITE:"",VISIT_SITE:""}},en:{adsdk:{LEARN_MORE:"Learn more",MORE:"More",REPEAT:"Repeat",SECONDS:"sec",SKIP:"Skip",SKIP_TIME_LEFT:"Skip ad",TIME_LEFT:"Ad",UNMUTE_INVITE:"Move mouse over ad<br>to hear sound",VISIT_SITE:"Go to advertisers site"}},kk:{adsdk:{LEARN_MORE:"",MORE:"",REPEAT:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",TIME_LEFT:"",UNMUTE_INVITE:"",VISIT_SITE:""}},ru:{adsdk:{LEARN_MORE:" ",MORE:"",REPEAT:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:" ",TIME_LEFT:"",UNMUTE_INVITE:" ,<br>  ",VISIT_SITE:"   "}},tr:{adsdk:{LEARN_MORE:"Daha fazla bilgi edinin",MORE:"Daha fazla",REPEAT:"Tekrarla",SECONDS:"sn",SKIP:"Atla",SKIP_TIME_LEFT:"Reklam atla",TIME_LEFT:"Reklam",UNMUTE_INVITE:"Sesi amak iin<br>imleci zerine getirin",VISIT_SITE:"Reklam verenin sitesine git"}},uk:{adsdk:{LEARN_MORE:"",MORE:"",REPEAT:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",TIME_LEFT:"",UNMUTE_INVITE:"",VISIT_SITE:""}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BASE64_IMG_LOAD_TIMEOUT=50},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIRECT_IMPRESSION_TRACK_OFFSET=2},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(125),o=r(138),i=r(101),a=r(291),s=r(10),u=r(292),d=2,l=100,c=.1,f=.3,p=.1,A=function(){function e(e,t){var r=this;this.container=e,this.videoNode=t,this.isStarted=!1,this.framesInterval=l,this.slowFramesCounter=0,this.slowDevice=!1,this.repaintTimeoutId=0,this.rafId=0,this.repaint=function(){var e=r.videoNode,t=e.duration,n=e.currentTime,o=e.videoWidth,i=e.videoHeight,a=t-n<=f;if(!r.isStarted||a)return r.clearRepaintTimeout(),void r.setVisibility(!1);if(o){var s=r.container,u=o/i,l=u-s.clientWidth/s.clientHeight;if(void 0===r.isBlurRequired){if(r.isBlurRequired=Math.abs(l)>c,!r.isBlurRequired)return void r.setVisibility(!1);r.prepareBlurCanvas(u,l),r.setVisibility(!0)}var A=r,h=A.context,v=A.videoNode,y=r.canvas,_=y.width,E=y.height;if(r.slowDevice){var m=d;h.drawImage(v,0,0,o,i,0,0,m,m),h.drawImage(r.canvas,0,0,m,m,0,0,_,E)}else h.drawImage(v,0,0,o,i,0,0,_,E);h.globalAlpha=p,r.handleSlowDevices(),r.setRepaintTimeout()}else r.setRepaintTimeout()};var n=document.createElement("div"),o=document.createElement("canvas");this.context=o.getContext("2d"),n.appendChild(o),i.prependChild(e,n),this.blurWrapper=n,this.canvas=o,this.appendStyles()}return e.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.isBlurRequired=void 0,this.repaint(),this.canvas.style.display="")},e.prototype.stop=function(){this.isStarted=!1,this.isBlurRequired=!1,this.clearRepaintTimeout(),this.setVisibility(!1)},e.prototype.destroy=function(){this.stop(),this.blurWrapper.style.display="none",s.removeNodeFromParent(this.blurWrapper)},e.prototype.appendBlurScale=function(e,t){var r=[1.6,Math.max(e,1.6)];t&&r.reverse(),a.setStyle(this.canvas,{transform:"translate(-50%,-50%) scaleX("+r[0]+") scaleY("+r[1]+")"})},e.prototype.setCanvasOpacity=function(e){a.setStyle(this.canvas,{opacity:e})},e.prototype.slimplifyBlur=function(){var e=this.container,t=e.clientWidth,r=e.clientHeight;this.setCanvasSize(t+10,r+10);a.setStyle(this.canvas,{left:"-5px",top:"-5px",bottom:"-5px",right:"-5px",transform:"",filter:"blur(5px)"})},e.prototype.appendStyles=function(){var e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=o.getStyle(this.videoNode).position;-1===n.indexOf(["fixed","absolute"],t)&&(e["z-index"]="-1"),a.setStyle(this.blurWrapper,e),a.setStyle(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX(1.2) scaleY(1.2)",filter:"blur(50px)",opacity:0,transition:"opacity 1s"})},e.prototype.setRepaintTimeout=function(){var e=this;this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout(function(){return e.rafId=u.requestAnimationFrame(e.repaint)},this.framesInterval)},e.prototype.clearRepaintTimeout=function(){clearTimeout(this.repaintTimeoutId),u.cancelAnimationFrame(this.rafId)},e.prototype.handleSlowDevices=function(){var e=Date.now();if(this.lastTime){var t=e-this.lastTime;t>1.8*this.framesInterval?(this.slowFramesCounter++,this.slowFramesCounter>=3&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.slimplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e},e.prototype.prepareBlurCanvas=function(e,t){var r=this.container,n=this.videoNode,o=t<0,i=o?n.offsetHeight*e:n.offsetWidth/e,a=o?i:n.offsetWidth,s=o?n.offsetHeight:i,u=(o?r.offsetWidth:r.offsetHeight)/i*.8;this.setCanvasSize(a,s),this.appendBlurScale(.8*u,o)},e.prototype.setCanvasSize=function(e,t){var r=this.canvas;r.width=e,r.height=t},e.prototype.setVisibility=function(e){this.setCanvasOpacity(e?1:0)},e}();t.BackgroundBlur=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),o=r(22),i=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i");function a(e,t,r,n){if(void 0!==r&&void 0!==t){var o=n?"important":"";r+=!i.test(t)&&r>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,r,o):e.style.cssText+=";"+t+":"+r+(o?"!"+o:"")}}t.setStyle=function(e,t,r,i){o.isObject(t)?(i=Boolean(r),n.forOwn(t,function(t,r){a(e,r,t,i)})):a(e,t,r,i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(293).getAnimationFrameFunctions(window);t.requestAnimationFrame=n.requestAnimationFrame,t.cancelAnimationFrame=n.cancelAnimationFrame},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(294);t.getAnimationFrameFunctions=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){return e.setTimeout(t,n.DEFAULT_ANIMATION_TIMEOUT)},r=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame||function(t){return e.clearTimeout(t)};return{requestAnimationFrame:t.bind(e),cancelAnimationFrame:r.bind(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ANIMATION_TIMEOUT=1e3/60},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(296),s=r(298),u=r(307),d=r(8),l=r(308),c=r(1),f=r(2),p=r(68),A=r(3),h=function(e){function t(t){var r=e.call(this)||this;r.wrapperNode=t,r.onReady=new d.Signal,r.onDestroy=new d.Signal,r.onBeforeAdStart=new d.Signal,r.onAdStart=new d.Signal,r.onAdMediaStart=new d.Signal,r.onAllAdPodComplete=new d.Signal,r.onAdMediaEnd=new d.Signal,r.onAdEnd=new d.Signal,r.onAdSkipped=new d.Signal,r.onClickThrough=new d.Signal,r.shouldHandleResize=!0,r.slotVisibilitySensor=new s.VisibilitySensor(t,{numberOfMeasurementSteps:l.NUMBER_OF_VISIBILITY_MEASUREMENT_STEPS});try{r.slotSizeSensor=new a.SizeSensor(t)}catch(e){var n=t.ownerDocument,i=n&&n.defaultView,p=i&&i.Element;throw f.stats.error({error:new c.AdSDKError(e,{code:c.AdSDKErrorCodes.CREATE_SIZE_SENSOR_ERROR,details:{typeofElement:void 0===t?"undefined":o(t),stringElement:String(t),stringifiedElement:u.tryStringify(t),element:t,elementConstructorName:t.constructor&&t.constructor.name,ownerDocument:String(t.ownerDocument),defaultView:String(i),GlobalElement:String(p),isInstanceof:t instanceof p}})}),e}r.slotSizeSensor.onResize.add(function(e){r.shouldHandleResize&&r.resizeAd(e.width,e.height)});var h=A.createHoverSignal(t),v=h.signal,y=h.unsubscribe;return v.add(function(e){return r.isHovered=e}),r.onChangeHover=v,r.onDestroy.add(function(){y(),r.slotVisibilitySensor.destroy(void 0),r.slotSizeSensor.destroy()}),r}return i(t,e),t.prototype.disableResizeHandling=function(){this.shouldHandleResize=!1},t.prototype.enableResizeHandling=function(){var e=this.wrapperNode.getBoundingClientRect(),t=e.width,r=e.height;this.resizeAd(t,r),this.shouldHandleResize=!0},t.prototype.destroy=function(){this.resetEventBus(),this.onDestroy.dispatch(void 0),this.onDestroy.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onChangeHover.removeAll(),this.onReady.removeAll(),this.onAllAdPodComplete.removeAll()},Object.defineProperty(t.prototype,"currentContentType",{get:function(){return this.getCurrentContentType()},enumerable:!0,configurable:!0}),t}(p.EventBus);t.DisplayController=h},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),r(139);var s=r(6),u=r(297),d=r(18),l=r(21),c=r(140),f=r(139),p=f.default?f.default:f,A=function(e){function t(t){var r=e.call(this)||this;r.resizeObserverCallback=function(e){var t=a(e,1)[0].contentRect,n=t.width,o=t.height;r.onResize.dispatch({width:n,height:o})};var n=u.getBoundingClientRect(t);r.onResize=new c.ValueSignal({width:n.width,height:n.height},function(e,t){var r=t.width,n=t.height;return e.width===r&&e.height===n}),r.addDestroyHandler(function(){r.onResize.removeAll()});var o="undefined"!=typeof ResizeObserver&&d.checkNativeCode(ResizeObserver)?ResizeObserver:p;try{var i=new o(r.resizeObserverCallback);r.observer=i,r.observer.observe(t),r.addDestroyHandler(function(){i.disconnect()})}catch(e){var l=t.ownerDocument;if(!l)return r;var f=l.defaultView;if(!f)return r;r.addDestroyHandler(s.addEventListener(f,"resize",function(){var e=u.getBoundingClientRect(t);r.onResize.dispatch({width:e.width,height:e.height})},{passive:!0}))}return r}return o(t,e),t.prototype.getSize=function(){return i({},this.onResize.getValue())},t}(l.Destroyable);t.SizeSensor=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundingClientRect=function(e){try{var t=e.getBoundingClientRect(),r=t.left,n=t.right,o=t.top,i=t.bottom;return{left:r,right:n,top:o,bottom:i,width:n-r,height:i-o}}catch(e){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}}},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var d=r(17),l=r(131),c=r(21),f=r(140),p=r(36),A=r(299),h=r(141),v=r(300),y=r(302),_=r(303),E=r(304),m=r(305),S=r(306),g=function(e){function t(t,r){var n=void 0===r?{}:r,o=n.initialVisibility,i=void 0===o?E.DEFAULT_INITIAL_VISIBILITY:o,a=n.threshold,s=void 0===a?m.DEFAULT_VISIBILITY_THRESHOLD:a,u=n.considerDocumentVisibility,d=void 0===u?y.DEFAULT_CONSIDER_DOCUMENT_VISIBILITY:u,l=n.numberOfMeasurementSteps,c=void 0===l?S.MIN_NUMBER_OF_MEASUREMENT_STEPS:l,p=e.call(this)||this;p.element=t,p.documentVisibilityValueSignal=new f.ValueSignal(_.DEFAULT_DOCUMENT_VISIBILITY),p.recalculateVisibility=function(){var e=A.calculateElementVisibilityRatio(p.element);p.elementVisibilityRatioValueSignal.dispatch(e)},p.refreshTotalVisibility=function(){var e=p.elementVisibilityRatioValueSignal.getValue(),t=p.documentVisibilityValueSignal.getValue()?e:0;p.totalVisibilityValueSignal.dispatch(t>=p.threshold),p.totalVisibilityRatioValueSignal.dispatch(t)};var h=i?1:0,v=Math.max(c,S.MIN_NUMBER_OF_MEASUREMENT_STEPS);p.threshold=s,p.totalVisibilityValueSignal=new f.ValueSignal(i),p.totalVisibilityRatioValueSignal=new f.ValueSignal(h),p.elementVisibilityRatioValueSignal=new f.ValueSignal(h);var g=t.ownerDocument.defaultView.IntersectionObserver;return g?p.startIntersectionObserver(g,v):p.startVisibilityCheckInterval(),d&&p.startObservingDocumentVisibility(t.ownerDocument),p.elementVisibilityRatioValueSignal.add(p.refreshTotalVisibility),p.documentVisibilityValueSignal.add(p.refreshTotalVisibility),p.addDestroyHandler(function(){p.totalVisibilityValueSignal.removeAll(),p.totalVisibilityRatioValueSignal.removeAll(),p.elementVisibilityRatioValueSignal.removeAll(),p.documentVisibilityValueSignal.removeAll()}),p}return i(t,e),t.prototype.getVisibility=function(){return this.totalVisibilityValueSignal.getValue()},t.prototype.getVisibilityRatio=function(){return this.totalVisibilityRatioValueSignal.getValue()},t.prototype.getDocumentVisibility=function(){return this.documentVisibilityValueSignal.getValue()},t.prototype.getElementVisibilityRatio=function(){return this.elementVisibilityRatioValueSignal.getValue()},t.prototype.onChangeVisibility=function(e){return this.totalVisibilityValueSignal.add(e)},t.prototype.onChangeVisibilityRatio=function(e){return this.totalVisibilityRatioValueSignal.add(e)},t.prototype.startIntersectionObserver=function(e,t){for(var r=this,n=[this.threshold],o=1/t,i=1;i<t;i++)n.push(i*o);var a=new e(function(e){var t=u(e,1)[0].intersectionRatio;r.elementVisibilityRatioValueSignal.dispatch(t)},{threshold:n});a.observe(this.element),this.addDestroyHandler(function(){a.disconnect()})},t.prototype.startVisibilityCheckInterval=function(){var e=p.subscribeSyntheticTimeupdateInterval(this.recalculateVisibility);this.addDestroyHandler(e);var t=d.promiseTimeout(0),r=t.promise,n=t.clear;r.then(this.recalculateVisibility),this.addDestroyHandler(n)},t.prototype.startObservingDocumentVisibility=function(e){return a(this,void 0,o,function(){var t,r,n=this;return s(this,function(o){switch(o.label){case 0:return[4,l.sleep(0)];case 1:return o.sent(),t=h.getDocumentVisibility(e),this.documentVisibilityValueSignal.dispatch(t),r=v.onDocumentVisibilityChange(e,function(e){n.documentVisibilityValueSignal.dispatch(e)}),this.addDestroyHandler(r),[2]}})})},t}(c.Destroyable);t.VisibilitySensor=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(112),o=r(45),i=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(e){return null!==navigator.userAgent.match(e)});function a(e){var t=e.ownerDocument,r=t.defaultView,n=t.documentElement,o=e.getBoundingClientRect();return{winWidth:i?Math.max(n.clientWidth,r.innerWidth||0):r.innerWidth||n.clientWidth||t.body.clientWidth,winHeight:i?Math.max(n.clientHeight,r.innerHeight||0):r.innerHeight||n.clientHeight||t.body.clientHeight,left:o.left,top:o.top,width:o.width,height:o.height}}function s(e){var t=e.width,r=e.height,o=e.top,i=e.left,a=e.winWidth,s=e.winHeight,u=i+t,d=o+r,l=n.clamp(i,0,a),c=n.clamp(o,0,s);return{winWidth:a,winHeight:s,left:l,top:c,width:n.clamp(u,l,a)-l,height:n.clamp(d,c,s)-c}}function u(e,t){return e.width*e.height/(t.width*t.height)}t.calculateElementVisibilityRatio=function(e){var t,r,n=a(e),i=s(n),d=u(i,n);for(var l in o.parentFriendlyIFrames)if(o.parentFriendlyIFrames.hasOwnProperty(l)){var c=a(o.parentFriendlyIFrames[l]);d=u(i=s((t=i,{winWidth:(r=c).winWidth,winHeight:r.winHeight,left:t.left+r.left,top:t.top+r.top,width:t.width,height:t.height})),n)}return d}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(6),i=r(141),a=r(301);t.onDocumentVisibilityChange=function(e,t){var r=a.getDocumentVisibilityChangeEventName(e);return r?o.addEventListener(e,r,function(){t(i.getDocumentVisibility(e))}):n.noop}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(142);t.getDocumentVisibilityChangeEventName=function(e){var t=n.getDocumentHiddenProperty(e);if(t)return t.replace(/hidden/i,"visibilitychange")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONSIDER_DOCUMENT_VISIBILITY=!0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DOCUMENT_VISIBILITY=!0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_INITIAL_VISIBILITY=!1},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VISIBILITY_THRESHOLD=.5},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_NUMBER_OF_MEASUREMENT_STEPS=2},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryStringify=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NUMBER_OF_VISIBILITY_MEASUREMENT_STEPS=10},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(126),a=r(138),s=r(19),u=r(54),d=r(10),l=r(8),c=r(134),f=r(5),p=r(28),A=r(310),h=r(68),v=r(3),y=r(65),_=function(e){function t(t,r){var n=e.call(this)||this;n.container=t,n.onMuteButtonClick=new l.Signal,n.wrapper=new A.Control(t,y.locals.yaAdSdkGui,void 0,void 0,!1);var o=a.getStyle(t).position;o&&"static"!==o||(t.style.position="relative");var s=n.topRightBlock=v.createDiv(y.locals.topRightBlock),u=n.wrapper;v.isIOS7()&&(u.el.style.display="none"),i.isTouchDevice&&u.addClass(y.locals.yaAdSdkGui_mobile),u.appendChild(s);var d=v.createDiv(y.locals.visitSiteWrapper);return u.appendChild(d),n.controls={timeLeft:new A.Control(u.el,y.locals.timeLeft,void 0,c.translate("TIME_LEFT",r)+" 00"),visitSite:new A.Control(d,y.locals.visitSite+" "+y.locals.pointer,function(){return n.emit("click")},c.translate("VISIT_SITE",r),!1),play:new A.Control(u.el,y.locals.play,function(){return n.emit("play")}),pause:new A.Control(u.el,y.locals.pause,function(){return n.emit("pause")}).hide(),mute:new A.Control(s,y.locals.mute,function(){return n.onMuteButtonClick.dispatch(0)}),skip:new A.Control(u.el,y.locals.skip,function(){return n.emit("skip")},c.translate("SKIP",r)),title:new A.Control(u.el,y.locals.title,function(){return n.emit("click")})},n.controls.skip.hide(),n}return o(t,e),t.prototype.addSkin=function(){f.ENVIRONMENT.DEFAULT_CSS?v.addBuiltinSkin(this.container):p.addStylesToElement(this.container,y.toString())},t.prototype.setMuted=function(e){this.controls.mute.setClasses(e?y.locals.unMute:y.locals.mute)},t.prototype.show=function(){this.wrapper.show()},t.prototype.hide=function(){this.wrapper.hide()},t.prototype.destroy=function(){d.removeNodeFromParent(this.wrapper.el)},t.prototype.getBlockedControls=function(){return u.mapObjectValues(this.controls,function(e){return e.isBlocked()})},t.prototype.setBlockedControls=function(e){var t=this;s.forOwn(e,function(e,r){t.controls[r].setBlocked(e)})},t}(h.EventBus);t.Gui=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(e,t,r,o,i){void 0===i&&(i=!0),this.blocked=!1,this.el=n.createDiv(t,o),this.el.addEventListener("click",function(e){i&&e.stopPropagation(),"function"==typeof r&&r()}),this.styleDisplay=this.el.style.display,this.el.style.display="none",e.appendChild(this.el)}return e.prototype.setText=function(e){return this.el.innerHTML=e.trim()||"",this},e.prototype.setVisible=function(e){return this.blocked||this.isVisible===Boolean(e)||(this.el.style.display=e?this.styleDisplay:"none"),this},e.prototype.getClasses=function(){return this.el.className.split(/\s+/)},e.prototype.hasClass=function(e){return this.getClasses().indexOf(e)>-1},e.prototype.addClass=function(e){return this.hasClass(e)||(this.el.className+=" "+e),this},e.prototype.removeClass=function(e){if(this.hasClass(e)){var t=this.getClasses();t.splice(t.indexOf(e),1),this.el.className=t.join(" ")}return this},e.prototype.setClasses=function(e){return this.el.className=e,this},e.prototype.hide=function(){return this.setVisible(!1)},e.prototype.show=function(){return this.setVisible(!0)},e.prototype.setBlocked=function(e){return e&&this.hide(),this.blocked=e,this},e.prototype.block=function(){return this.setBlocked(!0)},e.prototype.unBlock=function(){return this.setBlocked(!1)},e.prototype.isBlocked=function(){return this.blocked},e.prototype.appendChild=function(e){return this.el.appendChild(e),this},e.prototype.removeChild=function(e){return this.el.removeChild(e),this},Object.defineProperty(e.prototype,"isVisible",{get:function(){return"none"!==this.el.style.display},enumerable:!0,configurable:!0}),e}();t.Control=o},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="undefined"==typeof Promise?r(0).Promise:Promise,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(e,t,r,n){return new(r||(r=i))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},d=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(27),c=r(17),f=r(10),p=r(132),A=r(8),h=r(34),v=r(127),y=r(60),_=r(36),E=r(312),m=r(5),S=r(1),g=r(2),b=r(9),T=r(137),O=r(143),P=r(28),w=r(313),I=r(314),D=r(105),R=r(3),C=r(315),M=r(316),N=r(144),L=r(318),V=function(e){function t(t,r){var n=e.call(this,t,r)||this;n.onAdSkippableStateChange=new A.Signal,n.paused=!0,n.adSkippableState=!1,n.on({pause:function(){n.paused=!0,n.trackEvent(m.TrackingEventType.PAUSE)},resume:function(){n.paused=!1,n.trackEvent(m.TrackingEventType.RESUME)},skip:function(){return n.trackEvent(m.TrackingEventType.SKIP)},close:function(){return n.trackEvent(m.TrackingEventType.CLOSE)},start:function(){n.paused=!1,n.trackEvent(m.TrackingEventType.CREATIVE_VIEW)},videoStart:function(){return n.trackEvent(m.TrackingEventType.START)},complete:function(){return n.trackEvent(m.TrackingEventType.COMPLETE)}}),n.onImpression.addOne(function(){var e;if(n.creative&&"function"==typeof n.creative.isImpressionReliable&&n.creative.isImpressionReliable())n.trackEvent(m.TrackingEventType.IMPRESSION);else{var t=n.getScriptSrc();g.stats.event(s({},b.AdSDKEvent.VPAIDImpressionIsNotReliable,{data:{vpaidSrc:t}})),new i(function(t,r){e=_.subscribeSyntheticTimeupdateInterval(function(){try{n.getCurrentTime()>n.impressionTrackOffset&&t()}catch(e){r(e)}}),n.onStop.addOne(e)}).then(function(){n.trackEvent(m.TrackingEventType.IMPRESSION),e()}).catch(function(t){n.trackEvent(m.TrackingEventType.IMPRESSION),n.trackError(t),e()})}});var o=n.onCurrentPositionChange.add(function(e){e.currentTime>=n.mediaAd.playbackParams.progressOffset&&(n.onProgress.dispatch(void 0),o())});return n.onMuteChangeCallback=function(e){return n.emit("muteChange",e)},n.once({start:function(){n.isStarted=!0,n.updatePositionInterval=window.setInterval(function(){try{n.updatePosition()}catch(e){clearInterval(n.updatePositionInterval)}},500)},stop:function(){clearInterval(n.updatePositionInterval)}}),n.onDestroy.add(function(){n.videoNodeController.onMuteChange.remove(n.onMuteChangeCallback),n.onAdSkippableStateChange.removeAll(),clearInterval(n.updatePositionInterval)}),n}return a(t,e),t.isVPAIDCreative=function(e){return e&&"function"==typeof e.handshakeVersion&&"function"==typeof e.initAd&&"function"==typeof e.startAd&&"function"==typeof e.stopAd&&"function"==typeof e.skipAd&&"function"==typeof e.resizeAd&&"function"==typeof e.pauseAd&&"function"==typeof e.resumeAd&&"function"==typeof e.expandAd&&"function"==typeof e.collapseAd&&"function"==typeof e.subscribe&&"function"==typeof e.unsubscribe},t.isSupportedVersion=function(e){for(var t="2.0".split(".").map(function(e){return parseInt(e,10)}),r=e.split(".").map(function(e){return parseInt(e,10)}),n=0;n<r.length;n++){var o=r[n],i=t[n],a=void 0===i?0:i;if(o>a)return!1;if(o<a)return!0}return!0},t.prototype.play=function(e){return void 0===e&&(e=!0),u(this,void 0,i,function(){var t,r,n=this;return d(this,function(o){switch(o.label){case 0:return t=function(t){if(e)if(n.containerNode.style.display="block",n.isStarted)t.resumeAd();else{n.isStarted=!0;var r=n.videoNodeController.videoNode;n.revertVideoAttributes=p.setAttributesReversible(r,{pip:"false"}),t.startAd(),n.updateAdSkippableState()}},this.creative?t(this.creative):this.preload().then(t).catch(function(e){n.onStop.dispatch(e)}),[4,this.onStop.promise()];case 1:return r=o.sent(),this.creative=void 0,[4,c.promiseTimeout(E.KNOCK_PIXEL_MAX_TIME).promise];case 2:if(o.sent(),this.removeControls(),this.revertVideoAttributes&&this.revertVideoAttributes(),this.paused=!0,r)throw r;return[2]}})})},t.prototype.getCurrentTime=function(){var e=this.creative&&"function"==typeof this.creative.getAdRemainingTime&&this.creative.getAdRemainingTime()||0;return this.getDuration()-e},t.prototype.pause=function(){this.creative&&this.creative.pauseAd()},t.prototype.resume=function(){this.creative&&(this.isStarted?this.creative.resumeAd():this.creative.startAd())},t.prototype.skipAd=function(){this.creative&&this.creative.skipAd()},t.prototype.getAdSkippableState=function(){return!this.creative||"function"!=typeof this.creative.getAdSkippableState||this.creative.getAdSkippableState()},t.prototype.getDuration=function(){return this.creative&&"function"==typeof this.creative.getAdDuration&&this.creative.getAdDuration()||this.mediaAd.duration||0},t.prototype.getAdWidth=function(){if(this.creative){var e=this.creative.adWidth;if("number"==typeof e)return e;if("function"==typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return 0},t.prototype.getAdHeight=function(){if(this.creative){var e=this.creative.adHeight;if("number"==typeof e)return e;if("function"==typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return 0},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r=h.VPAIDViewMode.NORMAL);var n=this.creative;n&&n.resizeAd(e,t,r)},t.prototype.getSrc=function(){return this.getScriptSrc()},t.prototype.getPaused=function(){return this.paused},t.prototype.getVolume=function(){var e=this.creative;return e&&e.getAdVolume?e.getAdVolume():this.videoNodeController.getVolume()},t.prototype.setVolume=function(e){var t=this.creative;t&&t.setAdVolume&&t.setAdVolume(e)},t.prototype.preload=function(){var e=this;return this.preloadPromise||(this.videoNodeController.onMuteChange.add(this.onMuteChangeCallback),this.preloadPromise=this.initCreative().then(function(t){var r=C.subscribeVpaidEvent(t,O.VPAIDEventName.AdError,function(t){e.onStop.dispatch(e.parseVpaidError(t,S.AdSDKErrorCodes.VPAIDPlayingError))});if(e.onStop.addOne(r),"function"==typeof t.getAdUnitId){var n=t.getAdUnitId();n&&D.SkipToken.addUnit(n)}return e.creative=t,e.onReady.dispatch(void 0),t})),this.preloadPromise},t.prototype.initCreative=function(){return u(this,void 0,i,function(){var e,t,r=this;return d(this,function(n){switch(n.label){case 0:return[4,this.createVPAIDElements()];case 1:if(n.sent(),this.isDestroyed)throw this.removeControls(),new S.AdSDKError({code:S.AdSDKErrorCodes.VPAID_WAS_DESTROYED_DURING_INIT,details:void 0});return e=this.getVPAIDAd(),t=I.proxyVPAIDCreative(e,M.prepareAdMediaFileForLog(this.getCurrentSource())),[2,new i(function(n,o){var i=function(){a(),u()},a=C.subscribeVpaidEvent(t,O.VPAIDEventName.AdLoaded,function(){i(),n(t)}),u=C.subscribeVpaidEvent(t,O.VPAIDEventName.AdError,function(e){i(),o(r.parseVpaidError(e,S.AdSDKErrorCodes.VPAIDLoadingError))}),d=r.videoNodeController.videoNode,l=d.clientWidth,c=d.clientHeight,f=r.adDisplayController.desiredBitrate||y.calculateApproximateBitrate({clientWidth:l,clientHeight:c}),p={AdParameters:r.mediaAd.vastAd.adParameters},A=r.adDisplayController.autoplayAbility,_=A.canPlayMuted,E=A.canPlayUnMuted,m=r.adDisplayController.gui,T=r.getScriptSrc(),P=R.isYandexDomain(T)||!v.isAbsoluteUrl(T);if(P){var w=m.getBlockedControls();r.onStop.addOne(function(){return m.setBlockedControls(w)})}var I={slot:r.iframe.contentDocument.body,videoSlot:r.videoNodeController.videoNode,videoSlotCanAutoPlay:r.videoNodeController.videoNode.muted?_:E,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:r.config.lang,pauseOnClickThrough:!1,description:r.playbackParams.description,getGui:function(){return g.stats.event(s({},b.AdSDKEvent.VPAIDGetGuiCalled,{data:{vpaidSrc:T}})),P?m:void 0}}};r.subscribeCreativeEvents(t);try{e.initAd(l,c,h.VPAIDViewMode.NORMAL,f,p,I)}catch(e){throw new S.AdSDKError(e,{code:S.AdSDKErrorCodes.INIT_AD_ERROR,details:{mediaFile:M.prepareAdMediaFileForLog(r.getCurrentSource()),adParameters:r.mediaAd.vastAd.adParameters}})}r.onDestroy.add(function(){r.iframe&&(i(),t.stopAd())})})]}})})},t.prototype.createIframeContainer=function(){var e=this.videoWrapperNode,t=this.containerNode=document.createElement("div");t.className=L.locals.yaAdSdkVpaidContainer,t.style.display="none",e.style.position="relative",P.addStylesToElement(t,L.toString());var r=this.adDisplayController.gui.wrapper.el;r.parentElement===e?e.insertBefore(t,r):e.appendChild(t)},t.prototype.createVPAIDElements=function(){var e=this;this.createIframeContainer();var t=Date.now();return new i(function(r,n){var o=w.createFriendlyIFrame(e.containerNode,5e3,function(o,i){return u(e,void 0,void 0,function(){var e;return d(this,function(a){switch(a.label){case 0:if(!o)return n(new S.AdSDKError({code:S.AdSDKErrorCodes.CANNOT_CREATE_IFRAME_ELEMENT_FOR_VPAID,details:void 0})),[2];this.iframe=o,i&&g.stats.value({name:T.AdSDKStatsValue.FriendlyIFrameAsyncCreation,data:{creativeSrc:this.getSrc()},value:Date.now()-t,labels:{}}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,l.loadScript({src:this.getScriptSrc(),win:this.iframe.contentWindow})];case 2:return a.sent(),r(),[3,4];case 3:return e=a.sent(),n(new S.AdSDKError(e,{code:S.AdSDKErrorCodes.CANNOT_LOAD_VPAID_MEDIA_FILE})),[3,4];case 4:return[2]}})})},function(){n(new S.AdSDKError({code:S.AdSDKErrorCodes.CREATE_IFRAME_ELEMENT_FOR_VPAID_TIMEOUT,details:void 0}))});e.onDestroy.addOne(o)})},t.prototype.getVPAIDAd=function(){var e,r=this.iframe.contentWindow,n=M.prepareAdMediaFileForLog(this.getCurrentSource());if("function"!=typeof r.getVPAIDAd)throw new S.AdSDKError({code:S.AdSDKErrorCodes.NO_GET_VPAID_AD_FUNC,details:{mediaFile:n,typeOfGetVPAIDAd:o(r.getVPAIDAd),adParameters:this.mediaAd.vastAd.adParameters}});try{e=r.getVPAIDAd()}catch(e){throw new S.AdSDKError(e,{code:S.AdSDKErrorCodes.GET_VPAID_AD_ERROR,details:{mediaFile:n,adParameters:this.mediaAd.vastAd.adParameters}})}if(!t.isVPAIDCreative(e))throw new S.AdSDKError({code:S.AdSDKErrorCodes.INVALID_VPAID_API,details:{mediaFile:n,adParameters:this.mediaAd.vastAd.adParameters}});var i=e.handshakeVersion("2.0");if(!t.isSupportedVersion(i))throw new S.AdSDKError({code:S.AdSDKErrorCodes.VPAID_VERSION_ERROR,details:{mediaFile:M.prepareAdMediaFileForLog(this.getCurrentSource()),playerSupportedVersion:"2.0",creativeVersion:i,adParameters:this.mediaAd.vastAd.adParameters}});return e},t.prototype.removeControls=function(){var e=this.iframe;e&&(e.src=""),this.iframe=void 0,f.removeNodeFromParent(this.containerNode),this.containerNode=void 0},t.prototype.getScriptSrc=function(){return this.getCurrentSource().url},t.prototype.getCurrentSource=function(){return this.mediaAd.getJSMediaFile()},t.prototype.subscribeCreativeEvents=function(e){var t=this,r={AdStarted:"start",AdUserClose:"close",AdVideoStart:"videoStart",AdVideoComplete:"complete",AdPaused:"pause",AdPlaying:"resume",AdVolumeChange:"volumeChange",AdSizeChange:"sizeChange",AdSkipped:"skip",AdBufferFull:"bufferFull",AdBufferEmpty:"bufferEmpty"},n=function(n){if(r.hasOwnProperty(n)){var o=r[n];e.subscribe(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.emit(o,e.length>1?e:e[0])},n)}};for(var o in r)n(o);e.subscribe(function(){t.onStop.dispatch(void 0)},O.VPAIDEventName.AdStopped),e.subscribe(function(e,r,n){Array.isArray(e)?(g.stats.event(s({},b.AdSDKEvent.VPAIDAdClickThruArrayParam,{data:{creativeSrc:t.getSrc()}})),t.clickThrough({url:e[0],id:e[1],playerHandles:e[2]})):t.clickThrough({url:e,id:r,playerHandles:Boolean(n)})},O.VPAIDEventName.AdClickThru),e.subscribe(function(){t.updateAdSkippableState()},O.VPAIDEventName.AdSkippableStateChange),e.subscribe(function(){t.onImpression.dispatch(void 0)},O.VPAIDEventName.AdImpression),e.subscribe(function(){t.onFirstQuartile.dispatch(void 0)},O.VPAIDEventName.AdVideoFirstQuartile),e.subscribe(function(){t.onMidpoint.dispatch(void 0)},O.VPAIDEventName.AdVideoMidpoint),e.subscribe(function(){t.onThirdQuartile.dispatch(void 0)},O.VPAIDEventName.AdVideoThirdQuartile)},t.prototype.updatePosition=function(){this.onCurrentPositionChange.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration()})},t.prototype.parseVpaidError=function(e,t){var r={mediaFile:M.prepareAdMediaFileForLog(this.getCurrentSource()),adParameters:this.mediaAd.vastAd.adParameters,playbackParams:this.mediaAd.playbackParams};return"string"==typeof e?new S.AdSDKError({code:t,message:"String error from vpaid ["+e+"]",details:r}):e?new S.AdSDKError(e,{code:t,details:r}):new S.AdSDKError({code:t,message:"unknown error from VPAID creative",details:r})},t.prototype.updateAdSkippableState=function(){var e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))},Object.defineProperty(t.prototype,"videoWrapperNode",{get:function(){return this.adDisplayController.wrapperNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"videoNodeController",{get:function(){return this.adDisplayController.videoNodeController},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.adDisplayController.config},enumerable:!0,configurable:!0}),t}(N.Viewer);t.JSVpaidViewer=V},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KNOCK_PIXEL_MAX_TIME=100},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(4),i=r(17);t.createFriendlyIFrame=function(e,t,r,a){var s=e.ownerDocument.createElement("iframe");s.scrolling="no",s.setAttribute("allowfullscreen",""),s.style.display="block",e.appendChild(s);var u=function(e,t){e.open(),e.close(),e.body.style.margin="0",s.style.borderWidth="0",r(s,t)};if(s.contentDocument)return u(s.contentDocument,!1),o.noop;var d=i.promiseTimeout(t),l=d.promise,c=d.clear,f=n.addEventListener(s,"load",function(){c(),s.contentDocument?u(s.contentDocument,!0):r(void 0,!0)},{once:!0});return l.then(function(){f(),a()}),function(){f(),c()}}},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(55),s=r(19),u=r(54),d=r(1),l=r(2),c=r(143);t.proxyVPAIDCreative=function(e,t){var r=n({},u.mapObjectValues(c.VPAIDMethodName,function(r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if("function"==typeof e[r])try{return e[r].apply(e,i(n))}catch(e){l.stats.error({error:new d.AdSDKError(e,{code:d.AdSDKErrorCodes.VPAID_METHOD_CALL_ERROR,details:{methodName:r,mediaFile:t,args:n}})}),a.rethrowError(e)}else l.stats.error({error:new d.AdSDKError({code:d.AdSDKErrorCodes.VPAID_METHOD_ABSENT,details:{methodName:r,mediaFile:t,args:n}})})}}),u.mapObjectValues(c.VPAIDWorkaroundName,function(r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if("function"==typeof e[r])try{return e[r].apply(e,i(n))}catch(e){l.stats.error({error:new d.AdSDKError(e,{code:d.AdSDKErrorCodes.VPAID_WORKAROUND_METHOD_CALL_ERROR,details:{methodName:r,mediaFile:t,args:n}})}),a.rethrowError(e)}}}));return s.forOwn(c.VPAIDPropertyName,function(n){Object.defineProperty(r,n,{configurable:!0,enumerable:!0,get:function(){try{return e[n]}catch(e){l.stats.error({error:new d.AdSDKError(e,{code:d.AdSDKErrorCodes.VPAID_GETTER_ERROR,details:{propertyName:n,mediaFile:t}})}),a.rethrowError(e)}},set:function(r){try{e[n]=r}catch(e){l.stats.error({error:new d.AdSDKError(e,{code:d.AdSDKErrorCodes.VPAID_SETTER_ERROR,details:{propertyName:n,mediaFile:t,value:r}})}),a.rethrowError(e)}}})}),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeVpaidEvent=function(e,t,r){return e.subscribe(r,t),function(){e.unsubscribe(r,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32);t.prepareAdMediaFileForLog=function(e){return{type:e.type,width:e.width,height:e.height,url:e.url,bitrate:e.bitrate,delivery:e.delivery,apiFramework:e.apiFramework,source:e.url,src:e.url,isVpaid:e.apiFramework===n.VPAID_API_FRAMEWORK}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(86),o=r(45),i=r(7),a=r(3);t.addTargetRefParamToUrl=function(e){if(!a.isTrueYandexDomain(e)&&!a.isAdFoxDomain(e)||!n.isInSecureIFrame)return e;var t=o.parentFriendlyIFrames[o.parentFriendlyIFrames.length-1],r=t&&t.ownerDocument||document;return i.addParamToUrl(e,"target_ref",r.referrer)}},function(e,t,r){(t=e.exports=r(135)(!1)).push([e.i,".yaAdSdkVpaidContainer{position:absolute;top:0;right:0;bottom:0;left:0}.yaAdSdkVpaidContainer>iframe{position:absolute;top:0;left:0;width:100%;height:100%;margin:0;padding:0;border:0}",""]),t.locals={yaAdSdkVpaidContainer:"yaAdSdkVpaidContainer"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(320),i=r(321),a=r(4),s=r(17),u=r(8),d=r(323),l=r(325),c=r(36),f=r(67),p=r(124),A=r(1),h=r(2),v=r(66),y=r(148),_=r(149),E=r(3),m=Math.ceil(2/(f.VIDEO_TIMEUPDATE_INTERVAL/1e3)),S=1e3,g=function(){function e(e){var t=this;this.violatedSources=[],this.securityPolicyViolationCallback=function(e){var r=e.blockedURI,n=e.violatedDirective,o=e.originalPolicy;if("media-src"===n){var i={blockedURI:r,violatedDirective:n,originalPolicy:o};t.violatedSources.push(i)}},this.unsubscribeEvent=n.addEventListener(e,"securitypolicyviolation",this.securityPolicyViolationCallback)}return e.prototype.getViolatedSourceBySrc=function(e){return this.violatedSources.find(function(t){var r=t.blockedURI;return 0===e.indexOf(r)})},e.prototype.destroy=function(){this.violatedSources=[],this.unsubscribeEvent()},e}(),b=function(){function e(e){var t=this;this.videoNode=e,this.onClick=new u.Signal,this.onDestroy=new u.Signal,this.onCurrentPositionChange=new u.Signal,this.onPlayingStateChange=new u.Signal,this.onError=new u.Signal,this.onEnd=new u.Signal,this.onMuteChange=new u.Signal,this.onPlay=new u.Signal,this.onPlayAfterPause=new u.Signal,this.onPause=new u.Signal,this.onBufferingChange=new u.Signal,this.onPlaying=new u.Signal,this.onPlayingStateChangeInternal=new u.Signal,this.currentState=this.videoNode.paused?p.VideoPlayingState.PAUSE:p.VideoPlayingState.PLAY,this.clearCspErrorTimeout=a.noop,this.seekController=new l.SeekController(e);var r=v.isInsecureVideoElement(e)?e.ownerDocument.defaultView:window;this.fullscreenApi=new i.FullscreenApi(r,e),this.cspErrorHandler=new g(r);var n=e.paused,o=!1;this.onPlayingStateChangeInternal.add(function(e){if(t.currentState!==e){switch(t.onPlayingStateChange.dispatch(e),e){case p.VideoPlayingState.PLAY:n&&(n=!1,t.onPlayAfterPause.dispatch(void 0)),t.onPlay.dispatch(void 0);break;case p.VideoPlayingState.PAUSE:n=!0,t.onPause.dispatch(void 0);break;case p.VideoPlayingState.END:n=!0,t.onEnd.dispatch(void 0)}var r=e===p.VideoPlayingState.BUFFERING;o!==r&&(o=r,t.onBufferingChange.dispatch(o)),t.currentState=e}});var d=!1,c={error:function(){var e=t.videoNode.src,r=function(){var r=t.cspErrorHandler.getViolatedSourceBySrc(e);return r?new A.AdSDKError({code:A.AdSDKErrorCodes.MEDIA_SRC_VIOLATES_CSP_POLICY,details:{violatedSource:r}}):void 0},n=function(){var e=r();e&&h.stats.error({error:e})},o=r();if(!o){o=t.getVideoNodeError();var i=s.promiseTimeout(S),a=i.promise,u=i.clear;t.clearCspErrorTimeout=function(){u(),n()},a.then(n)}t.onError.dispatch(o)},play:function(){t.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.PLAY)},playing:function(){d=t.getMuted(),t.onPlaying.dispatch(void 0),t.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.PLAY)},volumechange:function(){var e=t.getMuted();d!==e&&(d=e,t.onMuteChange.dispatch(e))}};for(var f in this.subscribeClick(),this.subscribeTimeupdate(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),c)c.hasOwnProperty(f)&&e.addEventListener(f,c[f]);this.onDestroy.addOne(function(){for(var r in c)c.hasOwnProperty(r)&&e.removeEventListener(r,c[r]);t.fullscreenApi.destroy(),t.seekController.destroy(),t.cspErrorHandler.destroy()})}return e.prototype.play=function(){y.muffleUncaughtErrors(this.videoNode.play())},e.prototype.pause=function(){this.videoNode.pause()},e.prototype.setMute=function(e){this.setVolume(e?0:1)},e.prototype.setSrc=function(e){var t=this.videoNode;_.preventPause(t,function(){t.src=e,t.load()})},e.prototype.getWidth=function(){return this.videoNode.clientWidth},e.prototype.getHeight=function(){return this.videoNode.clientHeight},e.prototype.getCurrentTime=function(){var e=this.videoNode.currentTime||0;return Math.max(0,e)},e.prototype.getDuration=function(){var e=this.videoNode.duration||0;return Math.max(0,e)},e.prototype.setCurrentTime=function(e){this.videoNode.currentTime=e},e.prototype.setVisibleControls=function(e){this.videoNode.controls=e},e.prototype.setPoster=function(e){this.videoNode.poster=e},e.prototype.isFullscreen=function(){return this.fullscreenApi.getFullscreenElement()===this.videoNode},e.prototype.getPaused=function(){return this.videoNode.paused},e.prototype.destroy=function(){this.clearCspErrorTimeout(),this.onDestroy.dispatch(void 0)},e.prototype.getMuted=function(){return 0===this.getVolume()},e.prototype.getVolume=function(){return this.videoNode.muted?0:this.videoNode.volume},e.prototype.setVolume=function(e){var t=this.videoNode;_.preventPause(t,function(){t.volume=e,t.muted=0===e})},e.prototype.setSeekAllowed=function(e){this.seekController.setSeekAllowed(e)},e.prototype.getVideoNodeError=function(){if(!this.videoNode.error||"undefined"==typeof MediaError)return new A.AdSDKError({code:A.AdSDKErrorCodes.VIDEO_ERROR,details:void 0});switch(this.videoNode.error.code){case MediaError.MEDIA_ERR_ABORTED:return new A.AdSDKError({code:A.AdSDKErrorCodes.MEDIA_ERR_ABORTED,details:void 0});case MediaError.MEDIA_ERR_NETWORK:return new A.AdSDKError({code:A.AdSDKErrorCodes.MEDIA_ERR_NETWORK,details:void 0});case MediaError.MEDIA_ERR_DECODE:return new A.AdSDKError({code:A.AdSDKErrorCodes.MEDIA_ERR_DECODE,details:void 0});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return new A.AdSDKError({code:A.AdSDKErrorCodes.MEDIA_ERR_SRC_NOT_SUPPORTED,details:{videoSrc:this.videoNode.src,videoCurrentSrc:this.videoNode.currentSrc}});default:return new A.AdSDKError({code:A.AdSDKErrorCodes.VIDEO_ERROR,details:void 0})}},e.prototype.subscribeClick=function(){var e=this,t=function(){e.onClick.dispatch(void 0)},r=E.isIOS()&&E.getIOSVersion()>=11?o.handleTouchClick(this.videoNode,t):n.addEventListener(this.videoNode,"click",t);this.onDestroy.addOne(r)},e.prototype.subscribeTimeupdate=function(){var e=this,t=0,r=function(){e.seekController.isSeekingIllegal()||(t=Date.now(),e.onCurrentPositionChange.dispatch({currentTime:e.getCurrentTime(),duration:e.getDuration()}))},o=n.addEventListener(this.videoNode,"timeupdate",r,{passive:!0}),i=c.subscribeSyntheticTimeupdateInterval(function(){var n=Date.now()-t;e.currentState===p.VideoPlayingState.PLAY&&n>500&&r()});this.onDestroy.addOne(o,i)},e.prototype.subscribePause=function(){var e=this,t=n.addEventListener(this.videoNode,"pause",function(){e.getCurrentTime()>=e.getDuration()||e.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.PAUSE)},{passive:!0}),r=c.subscribeSyntheticTimeupdateInterval(function(){e.currentState===p.VideoPlayingState.PLAY&&e.videoNode.paused&&e.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.PAUSE)});this.onDestroy.addOne(t,r)},e.prototype.subscribeEnded=function(){var e=this,t=n.addEventListener(this.videoNode,"ended",function(){e.seekController.isSeekingIllegal()||(e.getCurrentTime()+.25>=e.getDuration()?e.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.END):E.log("video ended ignored with currentTime=["+e.getCurrentTime()+"] duration=["+e.getDuration()+"]"))},{passive:!0}),r=0,o=NaN,i=c.subscribeSyntheticTimeupdateInterval(function(){var t=e.getDuration(),n=e.getCurrentTime(),i=e.videoNode.paused;if(t>0&&n>=t)e.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.END);else{var a=!i&&t>0&&n===o&&t-n<1&&e.currentState===p.VideoPlayingState.PLAY;o=n,a?r>=m?(r=0,e.onPlayingStateChangeInternal.dispatch(p.VideoPlayingState.END)):r++:r=0}});this.onDestroy.addOne(t,i)},e.prototype.subscribeBuffering=function(){var e=this,t=d.addVideoBufferingHandler(this.videoNode,function(t){var r=t?p.VideoPlayingState.BUFFERING:e.videoNode.paused?p.VideoPlayingState.PAUSE:p.VideoPlayingState.PLAY;e.onPlayingStateChangeInternal.dispatch(r)});this.onDestroy.addOne(t)},e}();t.VideoNodeController=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22),o=r(6),i=15,a=1e3;t.handleTouchClick=function(e,t,r){var s=void 0===r?{}:r,u=s.threshold,d=void 0===u?i:u,l=s.delay,c=void 0===l?a:l,f=0,p=0,A=0;function h(){0!==f&&(clearTimeout(f),f=0)}var v=o.addEventListener(e,"click",function(e){0!==f&&(h(),t(e))},{passive:!0}),y=o.addEventListener(e,"touchstart",function(e){1===e.touches.length&&(p=e.changedTouches[0].screenX,A=e.changedTouches[0].screenY,h(),f=window.setTimeout(h,c))},{passive:!0}),_=o.addEventListener(e,"touchend",function(e){0!==f&&(h(),t(e))},{passive:!0}),E=o.addEventListener(e,"touchmove",function(e){if(0!==f&&n.isObject(e.touches)&&1===e.touches.length){var t=e.changedTouches[0],r=t.screenX,o=t.screenY;if(i=r,a=o,Math.abs(p-i)>d||Math.abs(A-a)>d)h();else var i,a}else h()},{passive:!0});return function(){v(),y(),_(),E()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35),o=r(6),i=r(8),a=r(146),s=r(147),u=function(){function e(e,t){void 0===e&&(e=window);var r=this;this.handlers=[],this.onDestroy=new i.Signal,this.fullscreenElement=null,this.setFullScreenElementFromAPI=function(){var e=a.getFullscreenElement(r.win,r.video);r.setFullscreenElement(e)},this.win=e,this.video=t,t&&n.isIOS&&(this.onDestroy.addOne(o.addEventListener(t,"webkitbeginfullscreen",function(){r.setFullscreenElement(t)})),this.onDestroy.addOne(o.addEventListener(t,"webkitendfullscreen",function(){r.setFullscreenElement(null)}))),this.names=s.getFullscreenGlobalNames(e,t),this.names&&(this.onDestroy.addOne(o.addEventListener(this.win.document,this.names.events.change,this.setFullScreenElementFromAPI)),this.setFullScreenElementFromAPI())}return e.prototype.requestFullscreenForElement=function(e){if(void 0===this.names)throw new this.win.Error("Fullscreen is not supported");var t=this.names.request;if(!(t in e))throw new this.win.Error("Fullscreen is not supported");e[t]()},e.prototype.isFullscreen=function(){return null!==this.fullscreenElement},e.prototype.exit=function(){if(void 0===this.names)throw new Error("Fullscreen is not supported");this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()},e.prototype.getFullscreenElement=function(){return this.fullscreenElement},e.prototype.addHandler=function(e){if("function"!=typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)},e.prototype.removeHandler=function(e){this.handlers=this.handlers.filter(function(t){return t!==e})},e.prototype.destroy=function(){this.handlers.length=0,this.onDestroy.dispatch(void 0)},e.prototype.setFullscreenElement=function(e){this.fullscreenElement=e,this.handlers.forEach(function(t){return t(e)})},e}();t.FullscreenApi=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FULLSCREEN_GLOBAL_NAMES_LIST=[{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),o=r(35),i=r(41),a=r(6),s=r(324),u=r(36),d=r(67);t.addVideoBufferingHandlerNative=function(e,t){var r=!1,n=a.addEventListener(e,"waiting",function(){r||(r=!0,t(!0))},{passive:!0}),o=a.addEventListener(e,"playing",function(){r&&(r=!1,t(!1))},{passive:!0}),i=a.addEventListener(e,"canplay",function(){r&&(r=!1,t(!1))},{passive:!0});return function(){n(),o(),i()}},t.addVideoBufferingHandlerPolyfill=function(e,t){var r=0,n=!1;return u.subscribeSyntheticTimeupdateInterval(function(){var o=e.currentTime,i=e.duration,a=1/d.VIDEO_TIMEUPDATE_INTERVAL;if(!e.paused){var s=r+a;n?o>s&&(t(!1),n=!1):o<s&&o!==i&&(t(!0),n=!0)}r=o})},t.addVideoBufferingHandler=!s.doesVideoSupportsWaitingEvent||n.internetExplorerVersion>0||i.isSafari||o.isIOS?t.addVideoBufferingHandlerPolyfill:t.addVideoBufferingHandlerNative},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(31);t.doesVideoSupportsWaitingEvent=null===n.TEST_VIDEO_TAG.onwaiting},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(326);t.MIN_SEEK_HOLE=50;var i=function(){function e(e){var t=this;this.video=e,this.seekAllowed=!0,this.onVideoTimeUpdate=function(){var e=t.video.currentTime;t.isSeekingIllegal()?t.video.currentTime=t.lastLegalCurrentTime:(t.lastLegalCurrentTime=e,t.lastTimestamp=Date.now())},this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=n.addEventListener(e,"timeupdate",this.onVideoTimeUpdate)}return e.prototype.setSeekAllowed=function(e){this.seekAllowed=e},e.prototype.isSeekingIllegal=function(){return!this.seekAllowed&&this.isSeekingVideo()},e.prototype.destroy=function(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()},e.prototype.isSeekingVideo=function(){var e=this.video,r=e.currentTime,n=e.playbackRate;if(this.lastLegalCurrentTime){var i=Date.now()-this.lastTimestamp;if(i>t.MIN_SEEK_HOLE)if((r-this.lastLegalCurrentTime)/(i/1e3)>(n||1)*o.PREVENT_VIDEO_SEEK_SPEED)return!0}return!1},e}();t.SeekController=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREVENT_VIDEO_SEEK_SPEED=2},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(328),i=r(128),a=r(35),s=r(6),u=r(11),d=r(133),l=r(136),c=r(2),f=r(9),p=r(66),A=r(330),h=r(149),v=r(331),y=r(332),_=r(13);var E=function(){function e(e,t){void 0===t&&(t=!1),this.revertVideoNodePosition=function(){return!1},this.videoNode=e;var r=p.isInsecureVideoElement(e),o=e.parentElement,i=A.isInsertionAbilityElement(e),a=Boolean(o);if(a&&i?this.revertVideoNodePosition=y.saveNodeDomPosition(e):c.stats.event(n({},f.AdSDKEvent.UnusualVideoNodeState,{data:{hasParentElement:a,insertionAbility:i},labels:{hasParentElement:String(a),insertionAbility:String(i)}})),this.videoTagProps={controls:e.controls,loop:e.loop,currentTime:t?e.currentTime:NaN},r){var s=e.getAttribute("poster"),u=e.getAttribute("src")||e.src;this.videoTagAttributes={autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),loop:e.getAttribute("loop"),poster:""===s?null:s,preload:e.getAttribute("preload"),src:u||null,width:e.getAttribute("width"),style:e.getAttribute("style")}}this.sources=r?Array.prototype.slice.call(e.getElementsByTagName("source")).map(function(e){return{src:e.getAttribute("src"),type:e.getAttribute("type")}}):[]}return e.prototype.hasMedia=function(){return Boolean(this.videoTagAttributes&&this.videoTagAttributes.src||this.sources.filter(function(e){return e.src}).length)},e.prototype.revert=function(){var e,t,r,p=this,A=this.videoNode;A&&(this.hasMedia()&&!isNaN(this.videoTagProps.currentTime)&&s.addEventListener(A,"canplay",function(){A.currentTime=p.videoTagProps.currentTime},{once:!0}),this.videoTagAttributes&&d.setAttributes(A,this.videoTagAttributes),e=A,t=this.videoTagProps,r=["controls","loop"],u.getObjectKeys(t).forEach(function(n){-1!==r.indexOf(n)&&(e[n]=t[n])}),v.removeAllChildFromNode(A),this.sources.forEach(function(e){_.appendNewElement("source",A,"",e)}),o.canChangeVideoVolume&&(0===A.volume||A.muted)?(A.volume=0===A.volume?l.DEFAULT_VOLUME:A.volume,A.muted=!0):A.muted&&a.isIOS&&i.iOSVersion<=10&&(A.muted=!1,A.dispatchEvent(new Event("volumechange"))),h.preventPause(A,function(){A.load()}),this.revertVideoNodePosition()&&c.stats.event(n({},f.AdSDKEvent.MovedVideoNode,{data:{}})),this.destroy())},e.prototype.destroy=function(){this.videoNode=void 0,this.revertVideoNodePosition=function(){return!1}},e}();t.VideoState=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(329);t.canChangeVideoVolume=n.getIfCanChangeVolume()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(31);t.getIfCanChangeVolume=function(){var e=n.TEST_VIDEO_TAG.volume;n.TEST_VIDEO_TAG.volume=0===e?1:0;var t=n.TEST_VIDEO_TAG.volume!==e;return n.TEST_VIDEO_TAG.volume=e,t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10);t.isInsertionAbilityElement=function(e){var t=e.parentNode,r=e.nextSibling;try{e.ownerDocument.createElement("div").appendChild(e)}catch(e){return!1}return t?t.insertBefore(e,r):n.removeNodeFromParent(e),!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAllChildFromNode=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(44);t.saveNodeDomPosition=function(e){var t,r=e.parentElement;return r?(t=document.createComment(n.generateHexString(16)),r.insertBefore(t,e),function(){var n=e.parentElement,o=e.previousSibling,i=!1;return r===n&&o===t||(r.insertBefore(e,t),i=!0),r.removeChild(t),i}):function(){return!1}}},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=r(16),u=r(10),d=r(34),l=r(65),c=r(5),f=r(1),p=r(33),A=r(334),h=r(335),v=r(337),y=r(3),_=r(113),E=r(338),m=r(145),S=r(144),g=function(e){function t(t,r){var n=e.call(this,t,r)||this;n.startTracked=!1,n.videoNodeController=t.videoNodeController,n.onMuteChange=function(e){n.isPlaying&&n.trackEvent(e?c.TrackingEventType.MUTE:c.TrackingEventType.UNMUTE),n.emit("muteChange",e)};var o=!1,i=!1,a=!1,s=!1;n.onCurrentPositionChange.add(function(e){var t=e.currentTime,u=e.duration;!o&&t>=r.playbackParams.progressOffset&&(o=!0,n.onProgress.dispatch(void 0)),!i&&t>=u/4&&t<=u/2&&(i=!0,n.onFirstQuartile.dispatch(void 0)),!a&&t>=u/2&&t<=3*u/4&&(a=!0,n.onMidpoint.dispatch(void 0)),!s&&t>=3*u/4&&(s=!0,n.onThirdQuartile.dispatch(void 0))}),n.on({pause:function(){return n.trackEvent(c.TrackingEventType.PAUSE)},skip:function(){return n.trackEvent(c.TrackingEventType.SKIP)},complete:function(){return n.trackEvent(c.TrackingEventType.COMPLETE)},resume:function(){return n.trackEvent(c.TrackingEventType.RESUME)}}),n.onImpression.add(function(){n.trackEvent(c.TrackingEventType.IMPRESSION)}),n.videoNodeController.isFullscreen()&&n.trackEvent(c.TrackingEventType.FULLSCREEN);var d=function(){n.videoNodeController.isFullscreen()?n.trackEvent(c.TrackingEventType.FULLSCREEN):n.trackEvent(c.TrackingEventType.EXIT_FULLSCREEN)};return n.videoNodeController.fullscreenApi.addHandler(d),n.onDestroy.add(function(){n.videoNodeController.onBufferingChange.remove(n.onBufferingChangeCallback),n.videoNodeController.onMuteChange.remove(n.onMuteChange),n.videoNodeController.fullscreenApi.removeHandler(d),n.curtain&&u.removeNodeFromParent(n.curtain)}),n}return i(t,e),t.prototype.resume=function(){this.videoNodeController.play()},t.prototype.play=function(e){var t=this;return void 0===e&&(e=!0),this.preload().catch(function(e){return t.onStop.dispatch(e)}),e?this.isStarted?this.resume():this.start():this.videoNodeController.onPlay.addOne(function(){t.isStarted||t.videoNodeController.videoNode.currentSrc===t.preferredSource.url&&t.start()}),this.onStop.promise().then(function(e){return e?o.reject(e):o.resolve()})},t.prototype.pause=function(){this.videoNodeController.pause()},t.prototype.skipAd=function(){this.emit("skip"),this.onStop.dispatch(void 0)},t.prototype.getAdSkippableState=function(){return this.playbackParams.skipDelay>0&&this.getCurrentTime()>this.playbackParams.skipDelay},t.prototype.getAdWidth=function(){var e=this.videoNodeController.videoNode;return e.videoWidth>0?e.videoWidth:this.preferredSource?this.preferredSource.width:0},t.prototype.getAdHeight=function(){var e=this.videoNodeController.videoNode;return e.videoHeight>0?e.videoHeight:this.preferredSource?this.preferredSource.height:0},t.prototype.getCurrentTime=function(){return this.videoNodeController.getCurrentTime()},t.prototype.getDuration=function(){return this.videoNodeController.getDuration()||this.mediaAd.duration},t.prototype.getSrc=function(){return this.preferredSource?this.preferredSource.url:""},t.prototype.getPaused=function(){return this.videoNodeController.getPaused()},t.prototype.getVolume=function(){return this.videoNodeController.getVolume()},t.prototype.setVolume=function(e){this.videoNodeController.setVolume(e)},t.prototype.resizeAd=function(e,t,r){void 0===r&&(r=d.VPAIDViewMode.NORMAL)},t.prototype.setCurtain=function(){var e=this;if(y.isIOS9OrLess()&&y.isIOSWebView()){this.curtain=y.createDiv(l.locals.yaAdSdk_iosVideoCurtain_wrapper);var t=y.createDiv(l.locals.yaAdSdk_iosVideoCurtain);this.curtain.appendChild(t),this.curtain.addEventListener("click",function(){return e.clickThrough()});var r=this.adDisplayController,n=r.videoNode,o=r.wrapperNode,i=n.nextSibling,a=n.parentNode===o&&i?i:o.firstChild;o.insertBefore(this.curtain,a)}},t.prototype.getPreferredSource=function(e){for(var t,r=[],n=this.videoNodeController.videoNode,i=0;i<e.length;i++){var a=e[i];"probably"===n.canPlayType(a.type)&&r.push(a)}if(0===r.length)for(i=0;i<e.length;i++){a=e[i];"maybe"===n.canPlayType(a.type)&&r.push(a)}if(0===r.length)for(i=0;i<e.length;i++){a=e[i];_.getAdMediaFileContentType(a)===p.AdContentType.video&&"video/mp4"!==a.type&&a.url.indexOf(".mp4")>-1&&r.push(a)}if(0===r.length)return o.reject(new f.AdSDKError({code:f.AdSDKErrorCodes.NO_APPROPRIATE_VIDEO_SOURCE,details:{sourceList:e.map(E.parseMediaFile)}}));r.sort(function(e,t){return e.bitrate&&t.bitrate?e.bitrate-t.bitrate:e.width&&t.width?e.width-t.width:e.height&&t.height?e.height-t.height:0});var s=this.adDisplayController.desiredBitrate;if("number"==typeof s&&s>0){var u=r.filter(function(e){return!!e.bitrate});if(u.length)return u.reduce(function(e,t){return Math.abs(s-e.bitrate)<Math.abs(s-t.bitrate)?e:t})}for(i=0;i<this.adDisplayController.qualityLevel&&r.length>1;i++)r.shift();var d,l,c=this.videoNodeController.getWidth(),v=this.videoNodeController.getHeight(),y=this.adDisplayController.wrapperNode,m=y.clientWidth,S=y.clientHeight;c&&v?(d=c,l=v):m&&S?(d=m,l=S):(d=640,l=480);var g=Number.MAX_VALUE;for(i=0;i<r.length;i++){a=r[i];var b=Math.max(Math.abs(d-a.width),Math.abs(l-a.height));b<g&&(g=b,t=a)}var T=t;if(T){var O=T.url;return h.shouldRequestRedirectUrl(O)?A.resolveRedirectUrl(O).then(function(e){return{type:T.type,bitrate:T.bitrate,width:T.width,height:T.height,delivery:T.delivery,apiFramework:null,url:e,src:e,source:e,isVpaid:!1}}):T}return o.reject(new f.AdSDKError({code:f.AdSDKErrorCodes.NO_APPROPRIATE_VIDEO_SOURCE,details:{sourceList:e.map(E.parseMediaFile)}}))},t.prototype.preload=function(){var e=this;if(!this.preloadPromise){var t=this.getPreferredSource(this.mediaAd.vastAd.mediaFiles),r=a(this.mediaAd.imageSources,1)[0];if(r&&this.videoNodeController.setPoster(r.url),t instanceof o)this.preloadPromise=t.then(function(t){e.setAdMediaFile(t)});else try{this.preloadPromise=o.resolve(),this.setAdMediaFile(t)}catch(e){this.preloadPromise=o.reject(e)}}return this.preloadPromise},t.prototype.setAdMediaFile=function(e){this.preferredSource=e,this.videoNodeController.setSrc(e.url),this.onReady.dispatch(void 0)},t.prototype.subscribeEvents=function(){var e=this,t=this.mediaAd,r=this.videoNodeController;this.videoNodeController.onMuteChange.add(this.onMuteChange);var n=function(){e.startTracked&&e.emit("resume")};this.videoNodeController.onPlayAfterPause.add(n),this.onDestroy.addOne(function(){return e.videoNodeController.onPlayAfterPause.remove(n)});var o=function(){e.emit("pause")};this.videoNodeController.onPause.add(o),this.onDestroy.addOne(function(){return e.videoNodeController.onPause.remove(o)});var i=this.mediaAd.playbackParams,a=i.bufferFullTimeout,u=i.bufferEmptyLimit,d=0,l=0;this.onBufferingChangeCallback=function(t){0===d?d++:t?++d>u?e.onStop.dispatch(new f.AdSDKError({code:f.AdSDKErrorCodes.BUFFER_EMPTY_LIMIT,details:{bufferEmptyLimit:u}})):e.trackEvent(m.CustomTrackingEventType.BUFFER_EMPTY):e.trackEvent(m.CustomTrackingEventType.BUFFER_FULL),clearTimeout(l),t&&(l=window.setTimeout(function(){e.onStop.dispatch(new f.AdSDKError({code:f.AdSDKErrorCodes.BUFFER_FULL_TIMEOUT,details:{bufferFullTimeout:a}}))},a),e.onStop.addOne(function(){return clearTimeout(l)}),e.onDestroy.addOne(function(){return clearTimeout(l)}))},this.videoNodeController.onBufferingChange.add(this.onBufferingChangeCallback),r.onError.add(function(t){e.onStop.dispatch(t)});var p=r.onCurrentPositionChange.add(function(r){var n=r.currentTime,o=r.duration;if(!o){if(!t.duration)return;o=t.duration}e.onCurrentPositionChange.dispatch({currentTime:n,duration:o})}),A=0,h=function(){1===++A?e.emit("complete"):e.trackEvent(c.TrackingEventType.COMPLETE+A),A===t.numRepeats?e.onStop.dispatch(void 0):e.videoNodeController.play()};this.videoNodeController.onEnd.add(h);var y=function(){e.mediaAd.playbackParams.clickThroughUrl&&e.clickThrough({})};this.videoNodeController.onClick.add(y);var _=v.subscribeVideoPlayingFirstFrame(this.videoNodeController.videoNode,function(){e.startTracked=!0,e.emit("start"),e.trackEvent(c.TrackingEventType.START),e.trackEvent(c.TrackingEventType.CREATIVE_VIEW);var t=s.once(function(){e.onImpression.dispatch(void 0)}),r=e.impressionTrackOffset;if(0===r)t();else{var n=e.onCurrentPositionChange.add(function(e){e.currentTime>=r&&(t(),n())});e.onDestroy.addOne(n),e.onDestroy.addOne(e.videoNodeController.onEnd.addOne(function(){e.videoNodeController.getDuration()>=r&&t()}))}_()});this.onDestroy.addOne(function(){e.videoNodeController.onClick.remove(y),e.videoNodeController.onEnd.remove(h),p(),_()})},t.prototype.start=function(){var e=this;this.isStarted=!0,this.subscribeEvents(),this.setCurtain(),this.videoNodeController.setSeekAllowed(!1),this.onStop.addOne(function(){e.videoNodeController.setSeekAllowed(!0)}),this.videoNodeController.play(),this.videoNodeController.setVisibleControls(!1)},t}(S.Viewer);t.VideoViewer=g},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(24),a=r(2),s=r(9),u=r(29);t.resolveRedirectUrl=function(e,t){return void 0===t&&(t=!0),void 0===(new XMLHttpRequest).responseURL?(t&&i.LOG_STATS&&a.stats.eventToStats("LoadSourceRedirectWithoutResponseUrl",{src:e}),n.resolve(e)):new n(function(r){var n=new XMLHttpRequest;n.open("HEAD",u.fixUrlSheme(e)),n.timeout=2e3,n.onload=function(){200===n.status?(t&&a.stats.event(o({},s.AdSDKEvent.LoadSourceRedirectOnStatus200,{data:{src:e,responseURL:n.responseURL}})),r(n.responseURL)):(t&&a.stats.event(o({},s.AdSDKEvent.LoadSourceRedirectOnOtherStatus,{data:{src:e}})),r(e))},n.onerror=function(){t&&a.stats.event(o({},s.AdSDKEvent.LoadSourceRedirectOnXhrError,{data:{src:e}})),r(e)},n.ontimeout=function(){t&&a.stats.event(o({},s.AdSDKEvent.LoadSourceRedirectOnXhrTimeout,{data:{src:e}})),r(e)},n.send()}).catch(function(){return t&&a.stats.event(o({},s.AdSDKEvent.LoadSourceRedirectOnCaughtException,{data:{src:e}})),e})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(336),i=r(3);t.shouldRequestRedirectUrl=function(e){var t=n.parseUrl(e),r=t.hostname,a=t.pathname;return!o.isStrmHostname(r)&&0===a.indexOf("/get")&&(i.endsWith(r,".yandex.ru")||i.endsWith(r,".yandex.net"))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.isStrmHostname=function(e){return n.endsWith(e,"strm.yandex.ru")||n.endsWith(e,"strm.yandex.net")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);t.subscribeVideoPlayingFirstFrame=function(e,t){var r=n.addEventListener(e,"timeupdate",function(){e.currentTime>0&&(i(),t())}),o=n.addEventListener(e,"playing",function(){e.duration>0&&(i(),t())}),i=function(){r(),o()};return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMediaFile=function(e){var t=e.width,r=e.height,n=e.bitrate,o=e.type,i=e.url;return{width:t,height:r,bitrate:n,type:o,delivery:"progressive",apiFramework:null,url:i,source:i,src:i,isVpaid:!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";this.decode=function(t){var r,n,o,i,a,s,u="",d=0;for(t=t.replace(/[^A-Za-z0-9\-\_\=]/g,"");d<t.length;)r=e.indexOf(t.charAt(d++))<<2|(i=e.indexOf(t.charAt(d++)))>>4,n=(15&i)<<4|(a=e.indexOf(t.charAt(d++)))>>2,o=(3&a)<<6|(s=e.indexOf(t.charAt(d++))),u+=String.fromCharCode(r),64!==a&&(u+=String.fromCharCode(n)),64!==s&&(u+=String.fromCharCode(o));return function(e){for(var t="",r=0,n=0,o=0;r<e.length;)if((n=e.charCodeAt(r))<128)t+=String.fromCharCode(n),r++;else if(n>191&&n<224)o=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&o),r+=2;else{o=e.charCodeAt(r+1);var i=e.charCodeAt(r+2);t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&i),r+=3}return t}(u)}}}();t.base64=new n},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise,o=function(e,t,r,o){return new(r||(r=n))(function(n,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(a,s)}u((o=o.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(62),s=r(57),u=r(341);t.loadMultiroll=function(e,t){return o(this,void 0,n,function(){var r,n;return i(this,function(o){switch(o.label){case 0:return r=s.extractAdConfig(e),[4,a.Vmap.load(r)];case 1:return n=o.sent().adBreaks,[2,new u.MultirollController(r,t,n).getPublicObject()]}})})}},function(e,t,r){"use strict";var n,o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(21),a=r(20),s=r(2),u=r(151),d=r(342),l=r(348),c=r(350),f=function(e){function t(t,r,n){var o=e.call(this)||this;return o.adBreaks=n,o.preroll={loadViewers:function(){return o.prerollController.loadViewers()}},o.midroll={loadViewers:function(e){return o.postrollController.preloadViewers(e),o.midrollController.loadViewers(e)}},o.postroll={loadViewers:function(){return o.postrollController.loadViewers()}},o.prerollController=new c.PrerollController(t,r,u.getAdBreaksByType(o.adBreaks,a.AdBreakType.preroll)),o.midrollController=new d.MidrollController(t,r,u.getAdBreaksByType(o.adBreaks,a.AdBreakType.midroll)),o.postrollController=new l.PostrollController(t,r,u.getAdBreaksByType(o.adBreaks,a.AdBreakType.postroll)),o}return o(t,e),t.prototype.setStatsRootFields=function(e){s.stats.setRootFields(e)},t.prototype.getPublicObject=function(){return{destroy:this.destroy.bind(this),setStatsRootFields:this.setStatsRootFields.bind(this),preroll:this.preroll,postroll:this.postroll,midroll:this.midroll}},t.prototype.destroy=function(){e.prototype.destroy.call(this,void 0),this.prerollController.destroy(),this.midrollController.destroy(),this.postrollController.destroy()},t}(i.Destroyable);t.MultirollController=f},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=r(64),c=r(21),f=r(69),p=r(70),A=r(71),h=r(72),v=r(346),y=r(347),_=function(e){function t(t,r,n){var o=e.call(this)||this;return o.adConfig=t,o.multirollConfig=r,o.preloadedAdViewers=[],o.savePreloadedAdViewers=function(e){var t;o.getIsDestroyed()?A.destroyAdViewers(e.map(h.getAdViewerFromAdViewerWithAdBreak)):(t=o.preloadedAdViewers).push.apply(t,d(e))},o.remainingAdBreaks=d(n),o}return i(t,e),t.prototype.loadViewers=function(e){return a(this,void 0,o,function(){var t,r,n,o,i,a,c,v,y=this;return s(this,function(s){switch(s.label){case 0:return this.getIsDestroyed()?[2,[]]:(t=this.getCurrentAdBreaks(e),r=u(l.separate(t,function(t){var r=t.timeOffset;return e.watchedTime>=r}),2),n=r[0],o=r[1],i=u([n,o].map(function(e){return p.loadAdViewersForAdBreaks(y.adConfig,e)}),2),a=i[0],i[1].then(this.savePreloadedAdViewers),this.preloadFutureAdViewers(e),[4,a]);case 1:return c=s.sent(),v=d(this.getPreloadedAdViewersToPlay(e),c).map(h.getAdViewerFromAdViewerWithAdBreak),this.getIsDestroyed()?(A.destroyAdViewers(v),[2,[]]):0===v.length?[2,[]]:[2,f.filterPlayableAdPods(v,{videoSlot:this.multirollConfig.getPreloadParams().videoSlot})]}})})},t.prototype.destroy=function(){e.prototype.destroy.call(this,void 0),A.destroyAdViewers(this.preloadedAdViewers.map(h.getAdViewerFromAdViewerWithAdBreak))},t.prototype.getPreloadedAdViewersToPlay=function(e){var t=y.getMidrollAdViewersToPlay(e,this.preloadedAdViewers),r=t.currentViewers,n=t.remainingViewers;return this.preloadedAdViewers=n,r},t.prototype.getCurrentAdBreaks=function(e){var t=v.getMidrollAdBreaksToLoad(e,this.multirollConfig.midroll,this.remainingAdBreaks),r=t.current,n=t.remaining;return this.remainingAdBreaks=n,r},t.prototype.preloadFutureAdViewers=function(e){var t=this,r=e.watchedTime,n=this.multirollConfig.midroll.preloadMinTime;this.preloadedAdViewers.forEach(function(e){var o=e.adViewer;e.adBreak.timeOffset-r>=n&&o.preload(t.multirollConfig.getPreloadParams())})},t}(c.Destroyable);t.MidrollController=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(146),o=r(344);t.filterAdPodsIndependentOnHtmlControls=function(e,t){var r=t.ownerDocument||document,i=r.defaultView||window,a=n.getFullscreenElement(i,t)===t,s=o.getPictureInPictureElement(r)===t;return a||s?(e.forEach(function(e){e.filterAdPodsIndependentOnHtmlControls(a?"Fullscreen":"PiP")}),e):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(345);t.getPictureInPictureElement=function(e,t){var r=e.pictureInPictureElement;return r||(t&&t.webkitPresentationMode===n.WebkitPresentationMode.pictureInPicture?t:null)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(t.WebkitPresentationMode||(t.WebkitPresentationMode={}))},function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(123);t.getMidrollAdBreaksToLoad=function(e,t,r){return r.reduce(function(r,o){var s=function(e,t,r){var o=e.timeOffset,i=e.repeatAfter,s=e.maxRepeatCount,u=e.repeatNumber,d=t.watchedTime-(o-r.preloadOffset);if(d<0)return{current:[],remaining:[e]};if(i===a.REPEAT_AFTER_DISABLED_VALUE||1===s)return{current:[e],remaining:[]};for(var l=Math.floor(d/i)+1,c=s===a.MAX_REPEAT_COUNT_UNLIMITED_VALUE?1/0:s,f=Math.min(l,c),p=[],A=0;A<f;A++)p.push(n({},e,{timeOffset:o+i*A,maxRepeatCount:1,repeatNumber:u+A}));return{current:p,remaining:c>f?[n({},e,{timeOffset:o+i*f,maxRepeatCount:s===a.MAX_REPEAT_COUNT_UNLIMITED_VALUE?s:s-f,repeatNumber:u+f})]:[]}}(o,e,t);return{current:i(r.current,s.current),remaining:i(r.remaining,s.remaining)}},{current:[],remaining:[]})}},function(e,t,r){"use strict";var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(64);t.getMidrollAdViewersToPlay=function(e,t){var r=e.watchedTime,i=n(o.separate(t,function(e){var t=e.adBreak.timeOffset;return r>=t}),2);return{currentViewers:i[0],remainingViewers:i[1]}}},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(152),d=r(16),l=r(21),c=r(349),f=r(69),p=r(70),A=r(71),h=r(72),v=function(e){function t(t,r,n){var i=e.call(this)||this;return i.adConfig=t,i.multirollConfig=r,i.adBreaks=n,i.loadViewers=u.callFirstThenOther(function(){return a(i,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,this.loadAndSaveAdViewers()];case 1:return t.sent(),0===(e=this.adViewers.map(h.getAdViewerFromAdViewerWithAdBreak)).length?[2,[]]:[2,f.filterPlayableAdPods(e,{videoSlot:this.multirollConfig.getPreloadParams().videoSlot})]}})})},function(){return o.resolve([])}),i.adViewers=[],i.loadAndSaveAdViewers=d.once(function(){return a(i,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return[4,p.loadAdViewersForAdBreaks(this.adConfig,this.adBreaks)];case 1:return e=t.sent(),this.getIsDestroyed()?(A.destroyAdViewers(e.map(h.getAdViewerFromAdViewerWithAdBreak)),[2]):(this.adViewers=e,[2])}})})}),i}return i(t,e),t.prototype.preloadViewers=function(e){var t=this,r=e.videoType,n=e.duration,o=e.currentTime;if(!this.getIsDestroyed()){var i=n-o,a=this.multirollConfig.postroll,s=a.preloadOffset,u=a.preloadMinTime;r!==c.VideoType.VOD||i>s||(this.loadAndSaveAdViewers(),i>=u&&this.adViewers.forEach(function(e){return e.adViewer.preload(t.multirollConfig.getPreloadParams())}))}},t.prototype.destroy=function(){e.prototype.destroy.call(this,void 0),A.destroyAdViewers(this.adViewers.map(h.getAdViewerFromAdViewerWithAdBreak))},t}(l.Destroyable);t.PostrollController=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LIVE="LIVE",e.EVENT="EVENT",e.VOD="VOD"}(t.VideoType||(t.VideoType={}))},function(e,t,r){"use strict";var n,o="undefined"==typeof Promise?r(0).Promise:Promise,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e,t,r,n){return new(r||(r=o))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(152),d=r(21),l=r(69),c=r(70),f=r(71),p=r(72),A=r(351),h=function(e){function t(t,r,n){var o=e.call(this)||this;return o.adConfig=t,o.multirollConfig=r,o.adBreaks=n,o.prerollRequested=!1,o.getAdViewersPromise=A.NOOP_LOAD_VIEWERS,r.preroll.shouldPreload()&&o.prepareAdViewers(),o}return i(t,e),t.prototype.loadViewers=function(){return this.prepareAdViewers(),this.getAdViewersPromise()},t.prototype.destroy=function(){e.prototype.destroy.call(this,void 0),this.getAdViewersPromise().then(f.destroyAdViewers)},t.prototype.prepareAdViewers=function(){if(!this.prerollRequested&&!this.getIsDestroyed()){this.prerollRequested=!0;var e=this.loadPrerollViewers();this.getAdViewersPromise=u.callFirstThenOther(function(){return e},A.NOOP_LOAD_VIEWERS)}},t.prototype.loadPrerollViewers=function(){return a(this,void 0,o,function(){var e,t,r,n;return s(this,function(o){switch(o.label){case 0:return[4,c.loadAdViewersForAdBreaks(this.adConfig,this.adBreaks)];case 1:return e=o.sent(),t=e.map(p.getAdViewerFromAdViewerWithAdBreak),this.getIsDestroyed()?(f.destroyAdViewers(t),[2,[]]):0===t.length?[2,[]]:(r=this.multirollConfig,n=r.getPreloadParams,(0,r.preroll.shouldPreload)()&&t.forEach(function(e){return e.preload(n())}),[2,l.filterPlayableAdPods(t,{videoSlot:n().videoSlot})])}})})},t}(d.Destroyable);t.PrerollController=h},function(e,t,r){"use strict";var n="undefined"==typeof Promise?r(0).Promise:Promise;Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_LOAD_VIEWERS=function(){return n.resolve([])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(5);t.initModule=function(e,t){var r,i,a={videoAd:{modules:(r={},r[n.BUILD_VERSION]=(i={},i[e]=t,i),r)}};o.deployObject(a,"ya")}}]);